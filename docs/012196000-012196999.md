# StackOverflow 问答 12196000-12196999

# python - 内置模板标签似乎打破了 i18n

> ID：12196001
> 
> 赞同：1
> 
> 时间：2012-08-30T11:36:04.317
> 
> 标签：python, django, localization, django-templates, django-1.4

就在我以为我已经完成了国际化和时区并且终于可以继续使用更有趣的功能时，我最后一次被咬了。:)

在我的模板中，只要我有以下内容，模板就会自动将日期时间从 UTC 转换为我当前选择的时区。而且我还可以切换到不同的文化（美国到英国格式），日期和时间格式也会相应改变。简直完美。

```
{% load l10n %}
{% for item in calls %}
     <td>{{ item.conversation_datetime }}</td>
     <td>{{ item.conversation_datetime }}</td>
{% endfor %} 
```

现在我需要做的就是提取前者的本地化日期和后者的本地化时间。所以我想让我们在那里打一个模板标签，生活是美好的。

```
{% load l10n %}
{% for item in calls %}
     <td>{{ item.conversation_datetime|date }}</td>
     <td>{{ item.conversation_datetime|time }}</td>
{% endfor %} 
```

但如果生活是美好的，我就不会坐在这里写这篇文章了，对吗？;) 设置这些过滤器的那一刻，这两个字段的格式似乎已固定为美国文化。日期格式为 mm/dd/yyyy，时间为上午/下午 12 小时。

像我之前成功选择的英国语言不再有任何效果。

事实上，我已经覆盖了formats.py`en`并且`en-gb`可以确认en/format.py 具有`TIME_FORMAT = 'P'`对应于上午/下午12 小时的条目。

而 en_GB/formats.py`TIME_FORMAT = 'G:i'`对应于 24 小时。您是否认为在我忽略的模板中使用过滤器标签还有其他意义？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:44:30.037

编辑：第二种方法是解决方案。另请参阅下面的评论。

文档中确实提到了您观察到的行为（请参阅[日期过滤器](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#date)）：

> 不使用格式字符串时：将使用设置中`{{ value|date }}`定义的格式字符串，*不应用任何本地化*。`DATE_FORMAT`

 *`time`过滤器也是如此。从我在文档中可以看到，您可以使用`localize`过滤器强制本地化：

```
{% load l10n %}
{% for item in calls %}
     <td>{{ item.conversation_datetime|date|localize }}</td>
     <td>{{ item.conversation_datetime|time|localize }}</td>
{% endfor %} 
```

或者，您可以传递您希望使用的设置（*解决方案*）：

```
{% load l10n %}
{% for item in calls %}
     <td>{{ item.conversation_datetime|date:"DATE_FORMAT" }}</td>
     <td>{{ item.conversation_datetime|time:"TIME_FORMAT" }}</td>
{% endfor %} 
```

该文档对此进行了说明：

> 传递的格式可以是预定义的`DATE_FORMAT`、或之一`DATETIME_FORMAT`，也可以是使用上表中显示的格式说明符的自定义格式。*请注意，预定义的格式可能因当前语言环境而异。*`SHORT_DATE_FORMAT``SHORT_DATETIME_FORMAT`*

# jquery - 在jquery中更改选定的单选按钮文本颜色

> ID：12196004
> 
> 赞同：1
> 
> 时间：2012-08-30T11:36:11.587
> 
> 标签：jquery

我试图在选中时更改所选单选按钮文本上的文本颜色（一组三个）。它不起作用。我已经尝试了多种变体，但这应该可以工作

```
$(document).ready(function() {
    if (
    $('.radioPanel [input:radio]').is(":checked")) {
        $(this).css('color', '#008000');
    }
}); 
```

这是aspx代码；外部代码是否影响 jquery 更改？

```
<fieldset class="registerradio">
                    <legend>Select a Category</legend>
                  <asp:Panel ID="radiobtnPanel" runat="server" CssClass="radioPanel">
                    <asp:RadioButton ID="radioUserEmployee" runat="server" GroupName="radioCreateUsers" Text="Employee" TextAlign="Left"  />
                    <asp:RadioButton ID="radioUserDistributor" runat="server" GroupName="radioCreateUsers" Text="Distributor" TextAlign="Left"/>
                    <asp:RadioButton ID="radioUserCustomer" runat="server" GroupName="radioCreateUsers" Text="Existing Customer" TextAlign="Left"/>
                    <%--<asp:RadioButton ID="radioUserOther" runat="server" GroupName="radioCreateUsers" Text="Other" TextAlign="Left"/>--%>
                  </asp:Panel>
 </fieldset> 
```

这是小提琴； [http://jsfiddle.net/6yVL3/](http://jsfiddle.net/6yVL3/)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T11:43:45.203

您的 JavaScript 中有一些错误：

*   您在 jsFiddle 中设置 mootools 而不是 jQuery
*   您的选择器错了，是，请在[此处](http://api.jquery.com/category/selectors/attribute-selectors/)`[attr=value]`查看列表
*   您的 JavaScript 是静态的，这意味着您只检查一次是否检查了收音机，如果有更改，则什么也没有发生
*   您将颜色设置为收音机而不是标签

这是代码：

```
$(function() {
    // When the value of the radio change
    $('.radioPanel [type="radio"]').on('change', function() {
        $(this)
        .prev().css('color', 'red')
        .siblings().css('color', 'black');
    });
});​ 
```

这是[一个活生生的例子](http://jsfiddle.net/Calou/6yVL3/33/)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T11:43:08.673

试试这个：

```
$('.radioPanel input[type="radio"]').change(function() {
    if ($(this).is(':checked')) 
        $(this).prev('label').css('color', '#008000');
});​ 
```

顺便说一句，您应该删除先前检查的标签的颜色。像这样：

```
$('.radioPanel input[type="radio"]').change(function() {
    $('.radioPanel label').css('color', 'black');
    //This in result removes the color of the label checked previously, in fact it just resets all the color of labels to black
    if ($(this).is(':checked'))
       $(this).prev('label').css('color', 'green');
}); 
```

[**演示**](http://jsfiddle.net/6yVL3/46/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T11:50:22.650

你可以试试[这样](http://jsfiddle.net/6yVL3/43/)

```
$(document).ready(function() {

 $(".radioPanel :input:checked").prev('label').css('color', '#008000');

});​ 
```

# objective-c - UIImageView中的黑白重绘和缩放以填充模式的区别？

> ID：12196007
> 
> 赞同：7
> 
> 时间：2012-08-30T11:36:16.593
> 
> 标签：objective-c, uiimageview, interface-builder, xcode4.2

对于 UIImageView，在界面构建器中提供了不同的模式选项，例如 Aspect Fit、Aspect Fill。谁能告诉我这两种模式有什么区别：**Scale to Fill** VS **Redraw**？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-30T11:57:14.270

`UIViewContentModeScaleToFill`

第一次`drawRect:`调用并渲染视图。稍后，当几何形状发生变化时，`drawRect:`不会调用并且已经渲染的内容被缩放以绘制视图。

`UIViewContentModeRedraw`

每次更改边界时，`drawRect:`都会调用一次又一次地渲染视图。除非你知道你真正在做什么，除非你真的需要它，否则不要使用它。它要慢得多，因为它必须`drawRect:`一次又一次地调用。换句话说，当您设置它时，它的行为与您在每次更改边界`UIViewContentModeRedraw`时调用时的行为相同。`setNeedsDisplay`

简化的解释，但应该为您澄清一点。

# java - 根据另一个微调器值动态更改微调器的值

> ID：12196014
> 
> 赞同：0
> 
> 时间：2012-08-30T11:36:53.747
> 
> 标签：java, android, runtime, android-spinner

我认为我有 3 个微调器。第一个微调器具有固定的初始值。其余部分最初是空的。

当我从第一个微调器中选择一个值时，会根据第一个微调器的选择将新值添加到微调器 2 和 3。

在这里，我只为两个 Spinners 做了一些事情！没有任何代码错误，但我得到了运行时错误，它列在代码下方！谁能帮我？提前致谢 ！ **编码**

```
 import java.util.ArrayList;
    import android.content.Intent;
    import android.os.Bundle;
    import android.util.Log;
    import android.view.KeyEvent;
    import android.view.View;

    import com.gtustudents.R;
    import com.gtustudents.common.BaseActivity;
    import com.gtustudents.login.HomePage;

    import android.widget.AdapterView;
    import android.widget.AdapterView.OnItemSelectedListener;
    import android.widget.ArrayAdapter;

    import android.widget.Spinner;
    import android.widget.Toast;

    public class demo extends BaseActivity  {
        public Spinner spinner1;
        public Spinner spinner2;

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            // TODO Auto-generated method stub
            super.onCreate(savedInstanceState);
            setContentView(R.layout.MY_LAYOUT);

             spinner1= (Spinner)findViewById(R.id.degree);
                 spinner1.setOnItemSelectedListener(new spinnerListen());

            }

        @Override
        public boolean onKeyDown(int keyCode, KeyEvent event)  {
            if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0) {
                startActivity(new Intent(this,HomePage.class));
                finish();
                return true;
            }
             return super.onKeyDown(keyCode, event);
        }   
    }

    class spinnerListen extends BaseActivity implements OnItemSelectedListener{
        public Spinner spinner2;

        public void onItemSelected(AdapterView<?> parent, View v, int pos,long id) {
            // TODO Auto-generated method stub
            //use the selected station and departure time to calculate the required time

 Toast toast = Toast.makeText(parent.getContext(),"You've chosen： " + parent.getItemAtPosition(pos), 2);
                toast.show();

                String str = (String) parent.getSelectedItem();
            Log.d("Select Item", str);

                if(str.equals("SOME_VALUE"))
                {
                    Log.d("Enter","YES");

                    final String[] items2 = new String[] {"SOne", "STwo", "SThree"};
                    Log.d("Enter","ArrayAdapter");

                    dataAdapter = new ArrayAdapter<String>(this,
                                android.R.layout.simple_spinner_item, items2);
                dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                    Log.d("BE Enter","ArrayAdapter -2 ");
                    spinner2.setAdapter(dataAdapter);

                }

        }

        public void onNothingSelected(AdapterView<?> arg0) {
            // TODO Auto-generated method stub

        }

    } 
```

**运行时错误**

```
08-30 16:49:18.586: ERROR/AndroidRuntime(865): FATAL EXCEPTION: main
08-30 16:49:18.586: ERROR/AndroidRuntime(865): java.lang.IllegalStateException: System services not available to Activities before onCreate()
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.app.Activity.getSystemService(Activity.java:3526)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.widget.ArrayAdapter.init(ArrayAdapter.java:271)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.widget.ArrayAdapter.<init>(ArrayAdapter.java:125)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.widget.AdapterView.fireOnSelected(AdapterView.java:864)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.widget.AdapterView.access$200(AdapterView.java:42)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.widget.AdapterView$SelectionNotifier.run(AdapterView.java:830)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.os.Handler.handleCallback(Handler.java:587)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.os.Handler.dispatchMessage(Handler.java:92)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.os.Looper.loop(Looper.java:123)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at android.app.ActivityThread.main(ActivityThread.java:4627)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at java.lang.reflect.Method.invokeNative(Native Method)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at java.lang.reflect.Method.invoke(Method.java:521)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
08-30 16:49:18.586: ERROR/AndroidRuntime(865):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-06T12:18:37.300

在您的第二类 {{ spinnerListen }} 中，您已经声明了一个名为 spinner2 的飞行器，它从未启动过，但您必须为其设置一个适配器。

我还没有尝试过，但我想这就是框架假设你还没有通过 onCreate 的原因。

```
 import java.util.ArrayList;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.KeyEvent;
import android.view.View;

import com.gtustudents.R;
import com.gtustudents.common.BaseActivity;
import com.gtustudents.login.HomePage;

import android.widget.AdapterView;
import android.widget.AdapterView.OnItemSelectedListener;
import android.widget.ArrayAdapter;

import android.widget.Spinner;
import android.widget.Toast;

public class demo extends BaseActivity  implements OnItemSelectedListener{
    public Spinner spinner1;
    public Spinner spinner2;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.MY_LAYOUT);

        spinner1= (Spinner)findViewById(R.id.degree);
        spinner1.setOnItemSelectedListener(this);

        spinner2 = (Spinner)findViewById(R.id.degree2); // TODO reference Proper id

        }

    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event)  {
        if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0) {
            startActivity(new Intent(this,HomePage.class));
            finish();
            return true;
        }
         return super.onKeyDown(keyCode, event);
    }   
}

public void onItemSelected(AdapterView<?> parent, View v, int pos,long id) {
        // TODO Auto-generated method stub
        //use the selected station and departure time to calculate the required time

            Toast toast = Toast.makeText(parent.getContext(),"You've chosen： " + parent.getItemAtPosition(pos), 2);
            toast.show();

            String str = (String) parent.getSelectedItem();
            Log.d("Select Item", str);

            if(str.equals("SOME_VALUE"))
            {
                Log.d("Enter","YES");

                final String[] items2 = new String[] {"SOne", "STwo", "SThree"};
                Log.d("Enter","ArrayAdapter");

                dataAdapter = new ArrayAdapter<String>(this,
                            android.R.layout.simple_spinner_item, items2);
            dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                Log.d("BE Enter","ArrayAdapter -2 ");
                spinner2.setAdapter(dataAdapter);

            }

    }

    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    } 
```

# css - 为什么第一个和最后一个内联块项目的高度在底部而不是顶部？

> ID：12196017
> 
> 赞同：0
> 
> 时间：2012-08-30T11:36:59.250
> 
> 标签：css

为什么第一个和最后一个内联块项目的高度在底部而不是顶部？

**现场示例**：[http ://dabblet.com/gist/3526764](http://dabblet.com/gist/3526764)

**HTML**

```
<a href="#" class="slider-previous">previous</a>
<img src="http://lorempixel.com/81/61/city/1" alt="">
<img src="http://lorempixel.com/81/61/city/2" alt="">
<img src="http://lorempixel.com/81/61/city/3" alt="">
<img src="http://lorempixel.com/81/61/city/4" alt="">
<img src="http://lorempixel.com/81/61/city/5" alt="">
<img src="http://lorempixel.com/81/61/city/6" alt="">
<img src="http://lorempixel.com/81/61/city/7" alt="">
<img src="http://lorempixel.com/81/61/city/8" alt="">
<a href="#" class="slider-next">Next</a> 
```

**CSS**

```
img {display:inline-block;}
.slider-previous {text-indent:-99999px;background: url(https://www.entropay.com/sites/entropay.com/themes/entropay_c/images/icons/arrow_icon.png) no-repeat #eee;height: 81px;width: 20px;;display:inline-block;}
.slider-next {text-indent:-99999px;background: url(https://www.entropay.com/sites/entropay.com/themes/entropay_c/images/icons/arrow_icon.png) no-repeat #eee;height: 81px;width: 20px;;display:inline-block; } 
```

我想让箭头与图像垂直对齐。`margin-top`没有否定或就不可能`float`吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T11:39:35.020

这是由于缺少`vertical-align`图像的定义

尝试添加

```
img {
   vertical-align: bottom
} 
```

dabblet 示例：http: [//dabblet.com/gist/3526905](http://dabblet.com/gist/3526905)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:48:52.487

```
.slider-previous {text-indent:-99999px;background: url(https://www.entropay.com/sites/entropay.com/themes/entropay_c/images/icons/arrow_icon.png) no-repeat left center #eee;height: 81px;width: 20px;;display:inline-block;vertical-align:top}
.slider-next {text-indent:-99999px;background: url(https://www.entropay.com/sites/entropay.com/themes/entropay_c/images/icons/arrow_icon.png) no-repeat left center #eee;height: 81px;width: 20px;;display:inline-block;vertical-align:top} 
```

应该做的伎俩？

# ms-access - 选择使用联合

> ID：12196023
> 
> 赞同：2
> 
> 时间：2012-08-30T11:37:12.030
> 
> 标签：ms-access, union, ms-jet-ace, select-into

我需要在查询中同时使用“union”和“into”。这两个版本都可以

```
SELECT x.* INTO 
 NewTABLE FROM
   (SELECT * FROM TABLE1 UNION SELECT * FROM TABLE2) x 
```

或者

```
SELECT x.* INTO 
 NewTABLE FROM
   (SELECT val1, val2 FROM TABLE1 UNION SELECT val1, val2 FROM TABLE2) x 
```

但我需要的是这样的

```
SELECT x.* INTO 
 NewTABLE FROM
   (SELECT val1, sum(Iif(val2<0,0,val2)) as PositiveVal2 FROM TABLE1 
    UNION SELECT val1, sum(Iif(val2<0,0,val2)) as PositiveVal2 FROM TABLE2) x 
```

看起来总和和/或 Iif 是问题所在。我该怎么解决这个问题！？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:41:08.327

您在联合选择中忘记了 GROUP BY。

```
SELECT x.* INTO 
 NewTABLE FROM
   (SELECT val1, sum(Iif(val2<0,0,val2)) as PositiveVal2 
    FROM TABLE1 GROUP BY Val1
    UNION 
    SELECT val1, sum(Iif(val2<0,0,val2)) as PositiveVal2 
    FROM TABLE2 GROUP BY Val1) x 
```

您必须聚合或 GROUP BY 聚合查询中的所有选择字段。

# c# - 在客户端 PC（在一个网络下）远程安装 C# 应用程序/程序

> ID：12196024
> 
> 赞同：1
> 
> 时间：2012-08-30T11:37:14.040
> 
> 标签：c#, deployment, installation

我想将我的应用程序安装到客户端 PC（1000 台 PC）中，而无需手动安装。

例如，趋势科技防病毒软件将防病毒客户端安装到每台客户端 PC 上，只需从 Admin PC 远程安装即可。

我想要这样的相同程序。

你能帮我吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:47:31.543

正如**@scheien**建议的那样，在构建 MSI 文件后使用组策略。[这是一个链接，向您展示如何操作](http://www.makeuseof.com/tag/remote-install-windows-software/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:43:28.310

您可以使用 GPO（组策略）从网络共享部署软件，该 GPO（组策略）链接到 Active Directory 中的组织单位 (OU)，每台机器。

# asp.net - 查看或存储过程或 Linq 查询

> ID：12196037
> 
> 赞同：1
> 
> 时间：2012-08-30T11:37:50.733
> 
> 标签：asp.net, linq, sql-server-2008

我需要有关 3 层架构中的数据库访问的帮助。我正在 asp.net 和 linq 中开发应用程序。数据库中至少有 9 个主表，总共有 22 个表。为了管理数据，我需要为每个主表使用一个视图。

我的问题是在运行时更方便还是更快执行？

1.  `DataAccessLayer`在使用 linq时使用页面级查询（使用具有至少 5-6 个表的多个连接）
2.  使用视图并参考它们`DataAccessLayer`
3.  将所有查询添加到存储过程，然后将它们全部绑定。

哪一个是最佳实践？运行时视图是否会使页面变重？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:25:19.613

我认为最佳实践将是您的 #1，但如果性能需要，您必须对使用 #2 或 #3 来解决问题持开放态度。换句话说，尽可能使用#1 运行，但仅在需要时才愿意使用#2 或#3 来改进代码的这些部分。

我发现（并同意@nonnb）使用 Linq2SQL/ORM 的生产力提高和灵活性使其成为大多数时候正确的选择，但有时你需要愿意使用战略SP 在你的整体计划中——它不是一个非此即彼的决定；根据需要使用两者。通常 SP*会*更快，但大多数时候不足以对您的应用程序产生影响 - 但它们应该保留在您的工具集中，因为在正确的场景中，它们可以在真正需要时做出巨大的改进。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T11:46:05.423

Linq2SQL 查询通常以数据库上的参数化查询的形式结束。

有很多关于 SO 比较性能差异的讨论，例如[存储过程是否比现代 RDBMS 上的内联语句更有效？](https://stackoverflow.com/questions/59880/are-stored-procedures-more-efficient-in-general-than-inline-statements-on-mode)和[存储过程与参数化查询](https://stackoverflow.com/questions/230668/stored-procedures-vs-parameterized-queries)

我相信大家的共识是，像 Linq2SQL 这样的 ORM 所提供的灵活性的好处通常超过了任何感知到的性能损失。

IMO，LINQ2SQL 将完成 90% 的工作，满足您的大多数数据访问需求，如果您有任何特殊需求需要 PROC 更有意义（例如，真正的数据密集型或批处理事务），您可以编写一两个procs 和这些到你的`DataContext`.

~~但是，当我们这样做时，我不会在新项目中考虑使用 Linq2SQL。为什么不看看 Entity Framework 4+？~~ *（OP 正在使用 .NET 3.5）*

**编辑**

如果您的表外键设置正确，当您将底层表拖到 Linq DBML 中时，您会发现几乎不需要“手动”加入，因为 ORM 将为您处理底层导航。

例如

```
var myUpvotes = Users.Where(u => v.UserId == someUser)
                     .Votes.Where(v => v.Upvote == true)
                     .Count(); 
```

您需要的一个概念是[Eager vs Lazy](https://stackoverflow.com/questions/7863503/simple-eager-lazy-loading-examples-in-linq2sql) loading。这肯定会影响您的“加入”的性能

# vba - 在 .doc 批处理上查找/替换？

> ID：12196038
> 
> 赞同：1
> 
> 时间：2012-08-30T11:37:58.677
> 
> 标签：vba, batch-file, replace, ms-word

我正在尝试对大量 .doc 文件（大约 200 个文件）进行查找和替换算法。

我需要找到并替换大约 40 个字符串。我需要定期执行这样的操作，所以我觉得创建脚本是一个很好的案例。

1.  是否可以通过word来做到这一点？
2.  如果没有，是否可以使用 .batch 文件执行此操作？
3.  如果没有，我应该从哪里开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:59:21.693

唯一重要的一点是替换，但您可以记录和修改它

```
Sub Foo()
'path 
Const PATH As String = "C:\xxx\"
Dim doc As Word.Document
Dim fn As String: fn = Dir$(PATH & "*.doc")
With Application
    'loop matching files
    Do While Len(fn)
        'open
        Set doc = .Documents.Open(PATH & fn)
        'replace text
        replaceInDoc doc, "OLD TEXT", "NEW TEXT"
        replaceInDoc doc, "MORE OLD TEXT", "MORE NEW TEXT"
        'save, close
        doc.Save
        doc.Close
        'get next file
        fn = Dir$()
    Loop
End With
End Sub

Sub replaceInDoc(doc As Word.Document, find As String, replaceWith As String)
'do the replace
With doc.Content.find
    .Text = find
    .Replacement.Text = replaceWith
    .Forward = True
    .Wrap = wdFindContinue
    .Format = False
    .MatchCase = False
    .MatchWholeWord = False
    .MatchWildcards = False
    .MatchSoundsLike = False
    .MatchAllWordForms = False
    .Execute replace:=wdReplaceAll
End With
End Sub 
```

显然在副本上进行测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T07:53:08.737

在我看来，有两种选择：

1.  创建您自己的 VBA 脚本代码来执行此操作。您可以使用 MS Office 帮助系统的内置 VBA 编辑器来了解您必须使用 MS Word 文档对象模型的哪些属性和功能才能完成任务。

2.  查找并使用一些第三方商用软件来完成这项工作。有来自不同供应商的多个程序用于此任务。

第二种方法需要的时间和精力要少得多。批处理文件不会完成这项工作，除非您设法通过 OLE 自动化控制 MS Word 以访问需要替换文本的文档。

# cuda - 内核启动和内核执行之间的时间

> ID：12196044
> 
> 赞同：4
> 
> 时间：2012-08-30T11:38:29.653
> 
> 标签：cuda, profiling, nsight

我正在尝试使用 VS 2010 的 Parallel Nsight 2.1 版本来优化我的 CUDA 程序。

我的程序在带有 GTX 480 板的 Windows 7（32 位）机器上运行。我已经安装了 CUDA 4.1 32 位工具包和 301.32 驱动程序。

程序中的一个周期包括将主机数据复制到设备、执行内核以及将结果从设备复制到主机。

正如您在下面的分析器结果图片中看到的那样，内核在四个不同的流中运行。每个流中的内核依赖于“流 2”中复制到设备的数据。这就是为什么 asyncMemcpy 在不同流中启动内核之前与 CPU 同步的原因。

![在此处输入图像描述](../Images/bee124a471f62b217099a9e2b928e761.png)

图片中让我恼火的是第一次内核启动结束（10.5778679285）和内核执行开始（10.5781500）之间的巨大差距。启动内核大约需要 300 我们，这在不到 1 毫秒的处理周期中是一个巨大的开销。

此外，内核执行和将结果的数据复制回主机没有重叠，这进一步增加了开销。

这种行为有什么明显的原因吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T16:15:05.193

我可以通过跟踪来判断三个问题。

1.  Nsight CUDA 分析每次 API 调用增加约 1 µs。您同时启用了 CUDA 运行时和 CUDA 驱动程序 API 跟踪。如果您要禁用 CUDA 运行时跟踪，我猜您会将宽度减小 50 µs。

2.  由于您在 Windows 7 上使用 GTX 480，因此您在 WDDM 驱动程序模型上执行。在 WDDM 上，驱动程序必须进行内核调用才能提交工作，这会带来很多开销。为了避免这种开销，CUDA 驱动程序在内部 SW 队列中缓冲请求，并在队列已满时将请求发送给驱动程序，它由同步调用刷新。您可以使用 cudaEventQuery 强制驱动程序刷新工作，但这可能会产生其他性能影响。

3.  看来您正在以深度优先的方式将您的作品提交给流媒体。在计算能力 2.x 和 3.0 设备上，如果您以广度优先方式提交到流，您将获得更好的结果。在您的情况下，您可能会看到内核之间的重叠。

时间线屏幕截图没有为我提供足够的信息来确定为什么内存副本在所有内核完成后开始。给定 API 调用模式，您应该能够看到在每个流完成其启动后开始传输。

如果您正在等待所有流完成，则执行 cudaDeviceSynchronize 可能比 4 个 cudaStreamSynchronize 调用更快。

Nsight 的下一个版本将具有附加功能，以帮助理解 SW 队列以及将工作提交给计算引擎和内存复制引擎。

# qt - 如何在 QWebView 窗口中获取 Keypress 事件

> ID：12196048
> 
> 赞同：2
> 
> 时间：2012-08-30T11:38:52.603
> 
> 标签：qt, qt4, qwebview, qwebkit

我正在使用 QWebView 在其中显示一些 Flash 内容。我已将此窗口的属性设置为无框，并将其设置为其他进程的子窗口（远程桌面终端会话窗口）。

我想在这个 Flash 视频中获取 ALT+F4 组合键。我的意思是说如果用户点击了 Flash 视频（即我的 QWebView 窗口现在处于焦点位置），当时如果用户按下 ALT+F4，那么我想对这个事件采取一些行动。

我已经覆盖了 keypressevent(QKeyEvent)，但我没有得到这个被调用，即使在设置了焦点策略之后。

**注意：- 我只收到按键事件，并且仅当用户单击 Flash 区域外的 QWebView 窗口时。**

# php - 根据两个元素中的日期值对多维数组进行排序？

> ID：12196052
> 
> 赞同：0
> 
> 时间：2012-08-30T11:39:00.637
> 
> 标签：php

我正在尝试对多维数组中的数组（每个包含 2 个日期值）进行排序。我能够找到一个有用的函数来解决一个元素的问题，但是我无法为两个元素修改它。

[PHP按包含日期的元素对多维数组进行排序](https://stackoverflow.com/questions/2910611/php-sort-a-multidimensional-array-by-element-containing-date)

```
function date_compare($a, $b)
{
    $t1 = strtotime($a['datetime']);
    $t2 = strtotime($b['datetime']);
    return $t1 - $t2;
}    
usort($array, 'date_compare'); 
```

手头的问题是对具有发布时间和编辑时间的评论进行排序。本质上，我想将它们从最新到最旧进行排序（同时保留两个值）。

如果这不可能，请告诉我。

编辑：样机

```
$array = array(
    [0] => array(
          [0] => "Aug:1:2012 12:00:pm", // post date
          [1] => "Aug:28:2012 12:00:pm"  // edit date
    ),
    [1] => array(
          [0] => "Aug:1:2012 12:00:pm",
          [1] => "Aug:30:2012 12:00:pm"
    )
    [2] => array(
          [0] => "Aug:29:2012 12:00:pm",
          [1] => "Aug:1:2012 12:00:pm"
    )
}; 
```

应该输出：首先是 $array[1]（因为它在键 1 和 2 中具有最高的日期）然后是 $array[2]，然后是 $array[0]。

```
$array = array(
    [0] => array(
          [0] => "Aug:1:2012 12:00:pm",
          [1] => "Aug:30:2012 12:00:pm" // highest   
    ),
    [1] => array(
          [0] => "Aug:29:2012 12:00:pm", // next
          [1] => "Aug:1:2012 12:00:pm"
    )
    [2] => array(
          [0] => "Aug:1:2012 12:00:pm",
          [1] => "Aug:28:2012 12:00:pm" // lowest
    )
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:03:10.867

您的排序功能需要首先确定哪个日期较新 - 发布或编辑日期，然后将其用于比较。

```
function sort_arr($arr1, $arr2) {
    $this_posted = strtotime($arr1[0]);
    $this_edited = strtotime($arr1[1]);
    $comparison_posted = strtotime($arr2[0]);
    $comparison_edited = strtotime($arr2[1]);
    $this_date = $this_posted > $this_edited ? $this_posted : $this_edited;
    $comparison_date = $comparison_posted > $comparison_edited ? $comparison_posted : $comparison_edited;
    return $this_date > $comparison_date;
}

$arr = array(
    array("Aug:1:2009 12:00:pm", "Aug:2:2009 12:00:pm"),
    array("Aug:1:2011 12:00:pm", "Jul:21:2012 12:00:pm"),
    array("Aug:5:2011 12:00:pm", "Jan:21:2013 12:00:pm")
);

usort($arr, 'sort_arr'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:58:57.563

我不确定是否理解正确，但您的意思是您希望根据 column1（“发布日期”）对数组进行排序，如果这些值相等，则顺序由 column2 确定。所以，你需要的只是修复你的比较功能：

```
function date_compare($a, $b)
{
    $t1 = strtotime($a['datetime']);
    $t2 = strtotime($b['datetime']);
    if ($t1 != $t2) {
        return $t1 - $t2;
    }

    // if "post dates" are equal, compare "edit dates"
    $t1 = strtotime($a['datetime2']);
    $t2 = strtotime($b['datetime2']);

    return $t1 - $t2;
} 
```

**编辑：**

好的，根据您的评论，您只需要从数组中获取最大元素。所以，这应该工作：

```
usort($array, function($a, $b) {
    $t1 = max(strtotime($a[0]), strtotime($a[1]));
    $t2 = max(strtotime($b[0]), strtotime($b[1]));

    return $t1 - $t2;
}); 
```

# hadoop - PIG 加载 CSV - 地图类型错误

> ID：12196053
> 
> 赞同：1
> 
> 时间：2012-08-30T11:39:05.553
> 
> 标签：hadoop, apache-pig

我们的目标是利用 PIG 对我们的服务器日志进行大规模日志分析。我需要从文件中加载 PIG 地图数据类型。

我尝试使用以下数据运行示例 PIG 脚本。

我的 CSV 文件中有一行名为“test”（由 PIG 处理）看起来像，

```
151364,[ref#R813,highway#secondary] 
```

我的猪脚本

```
a = LOAD 'test' using PigStorage(',') AS  (id:INT, m:MAP[]);
DUMP a; 
```

这个想法是加载一个 int 和第二个元素作为 hashmap。但是，当我转储时，int 字段被正确解析（并在转储中打印），但 map 字段未解析，导致解析错误。

如果我遗漏了什么，有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:21:13.823

我认为存在与分隔符相关的问题（例如字段分隔符以某种方式影响映射字段的解析或与映射分隔符混淆）。

当使用此输入数据时（*注意我使用分号作为字段分隔符*）：

```
151364;[ref#R813,highway#secondary] 
```

下面是我的 grunt shell 的输出：

```
grunt> a = LOAD '/tmp/temp2.txt' using PigStorage(';') AS (id:int, m:[]);
grunt> dump a;
...
(151364,[highway#secondary,ref#R813])

grunt> b = foreach a generate m#'ref'; 
grunt> dump b;
(R813) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:15:51.493

Atlast，我发现了问题所在。只需将分隔符从“，”更改为另一个字符，例如管道。字段分隔符与用于地图的分隔符 ',' 混淆了 :)

```
The string 151364,[ref#R813,highway#secondary] was getting parsed into,
field1: 151364  field2: [ref#R813  field3: highway#secondary]
Since '[ref#$813' is not a valid map field, there is a parse error. 
```

我还查看了 PigStorage 函数的源代码，并确认了解析逻辑 -[源代码](http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/builtin/PigStorage.java)

```
@Override
public Tuple getNext() throws IOException {
        for (int i = 0; i < len; i++) {
            //skipping some stuff
            if (buf[i] == fieldDel) { // if we find delim
                readField(buf, start, i); //extract field from prev delim to current
                start = i + 1;
                fieldID++;
            }
        }
 } 
```

因此，由于 PIG 通过分隔符拆分字段，因此会导致字段解析与用于映射的分隔符混淆。

# trigger.io - Canvas drawImage 导致 ios 崩溃，在 web 上工作

> ID：12196054
> 
> 赞同：0
> 
> 时间：2012-08-30T11:39:09.203
> 
> 标签：trigger.io

当我尝试做一个 ctx.drawImage(img, 0, 0, 600, 600); 它在没有任何有用的日志输出的情况下使 ios 应用程序（模拟器 - 伪造运行 ios）崩溃。

我在尝试使用像 Raphael 之类的画布库时遇到了同样的问题，更具体地说是[http://seuratjs.com/](http://seuratjs.com/)这是我想要的，现在尝试“手动”执行。

有任何想法吗？在网络上运行良好...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T09:23:44.343

这已在 Forge 平台的 v1.4.14 中修复：http: [//docs.trigger.io/en/v1.4/release-notes.html#v1-4-14](http://docs.trigger.io/en/v1.4/release-notes.html#v1-4-14)

# c# - ASP .Net Web API RC：多部分文件上传到 Memorystream

> ID：12196060
> 
> 赞同：10
> 
> 时间：2012-08-30T11:39:28.047
> 
> 标签：c#, file-upload, asp.net-web-api

我正在尝试将（一个）上传的文件保存到数据库/内存流中，但我无法弄清楚。

我现在只有这个：

```
public Task<HttpResponseMessage> AnswerQuestion()
{
    if (!Request.Content.IsMimeMultipartContent())
    {
        throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);
    }

    var root = HttpContext.Current.Server.MapPath("~/App_Data");
    var provider = new MultipartFormDataStreamProvider(root);

    var task = Request.Content.ReadAsMultipartAsync(provider).
        ContinueWith<HttpResponseMessage>(t =>
        {
            if (t.IsFaulted || t.IsCanceled)
            {
                Request.CreateErrorResponse(HttpStatusCode.InternalServerError, t.Exception);
            }

            foreach (var file in provider.FileData)
            {
                Trace.WriteLine(file.Headers.ContentDisposition.FileName);
                Trace.WriteLine("Server file path: " + file.LocalFileName);
            }
            return Request.CreateResponse(HttpStatusCode.OK);
        });

    return task;
} 
```

但当然这只会将文件保存到特定位置。我想我必须使用从 MediaTypeFormatter 派生的自定义类才能将其保存到 MemoryStream，但我不知道该怎么做。

请帮忙。提前致谢！

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-08-31T09:20:24.023

多部分内容可以读入抽象`MultipartStreamProvider`类的任何具体实现 - 请参阅[http://aspnetwebstack.codeplex.com/SourceControl/changeset/view/8fda60945d49#src%2fSystem.Net.Http.Formatting%2fMultipartStreamProvider.cs](http://aspnetwebstack.codeplex.com/SourceControl/changeset/view/8fda60945d49#src%2fSystem.Net.Http.Formatting%2fMultipartStreamProvider.cs)。

这些都是：

```
- MultipartMemoryStreamProvider 
- MultipartFileStreamProvider 
- MultipartFormDataStreamProvider 
- MultipartRelatedStreamProvider 
```

在你的情况下：

```
if (Request.Content.IsMimeMultipartContent())
{              
   var streamProvider = new MultipartMemoryStreamProvider();
   var task = Request.Content.ReadAsMultipartAsync(streamProvider).ContinueWith(t =>
   {
       foreach (var item in streamProvider.Contents)
       {
           //do something
       }
   });
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T15:19:55.413

您可以将**MultipartMemoryStreamProvider**用于您的场景。

[**更新**] 注意到您正在使用 RC，我认为 MultipartMemoryStreamProvider 是在 RC 之后添加的，目前处于 RTM 中。

# java - 如何为我的 java 项目创建可安装的 msi 包？

> ID：12196061
> 
> 赞同：2
> 
> 时间：2012-08-30T11:39:29.513
> 
> 标签：java, database, deployment, installation, desktop-shortcut

此安装程序将首先检查系统上是否存在 jvm。如果没有，那么它将首先安装 jvm。之后，它将包含 java 代码（可能在 jar 中）以及使用的数据库。最后，它将创建一个桌面快捷方式并像其他软件一样对注册表进行更改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T12:11:34.357

首先，您需要决定一个设置创作工具。这是一个可以帮助您入门的列表： [http ://en.wikipedia.org/wiki/List_of_installation_software](http://en.wikipedia.org/wiki/List_of_installation_software)

Advanced Installer 是具有[专用 Java 项目类型](http://www.advancedinstaller.com/user-guide/tutorial-java.html)的工具之一。

要检测和安装 JVM，您可以将其添加为先决条件。每种设置工具的执行方式不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-11-12T19:14:10.410

为此开发了一个新工具：jpackage

如果您的项目是使用 Gradle 构建的，那么您可以轻松地使用 Badass jlink 插件：[https](https://github.com/beryx/badass-jlink-plugin) ://github.com/beryx/badass-jlink-plugin 使用 jpackage 构建安装程序/包

这是一篇文章如何使用 OpenJDK 11 构建应用程序映像并使用带有 jpackage 的 OpenJDK 14 仅用于构建安装程序/包： [https ://walczak.it/blog/distributing-javafx-desktop-applications-without-requiring-jvm-使用-jlink-and-jpackage](https://walczak.it/blog/distributing-javafx-desktop-applications-without-requiring-jvm-using-jlink-and-jpackage)

# php - jQuery - 编辑器

> ID：12196062
> 
> 赞同：0
> 
> 时间：2012-08-30T11:39:31.017
> 
> 标签：php

我正在尝试启动管理面板的某种开头，因此如果 IP 等于允许的 IP，它将显示一个编辑按钮。我目前有我的本地主机和我的服务器的 IP 仅用于测试目的。但是，一旦我将多个 IP 设置为 $allowed，它就不起作用了。

继承人的代码：

```
<?PHP
$ip = $_SERVER['REMOTE_ADDR'];
$allowed = '127.0.0.1, 67.202.102.224';
?>
</head>
<body>
    <div id="page">
<?PHP
if ($ip == $allowed){
echo '<p>
<button class="btn" onclick="exampleClickToEdit();">Edit</button>
<button class="btn" onclick="exampleClickToSave();">Save</button>   
</p>';
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T11:43:37.547

也许使用[in_array()](http://php.net/manual/en/function.in-array.php)

```
<?php
$ip = $_SERVER['REMOTE_ADDR'];
$allowed = array('127.0.0.1',
                 '::1',
                 '67.202.102.224',
                 );
?>

<!--dont forget the rest of your head-->
</head>
<body>
    <div id="page">
<?php
if (in_array($ip, $allowed)){
    echo '<p>
<button class="btn" onclick="exampleClickToEdit();">Edit</button>
<button class="btn" onclick="exampleClickToSave();">Save</button>   
</p>';
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:46:02.427

您正在比较字符串。字符串`'67.202.102.224'`不可能等于`'127.0.0.1, 67.202.102.224'`。

我不知道任何 PHP，但通过一些谷歌搜索，我发现您可以使用以下代码：

```
$allowed = array('127.0.0.1', '67.202.102.224');
if (in_array($ip, $allowed)) { ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T11:44:21.180

$ip 永远不会等于 $allowed。您可以检查 $allowed 字符串中是否存在 $ip：

```
if (strpos($allowed, $ip) !== FALSE) { 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T11:44:58.637

我不是 php 专家，但您似乎正在尝试将 $ip 与一个`127.0.0.1, 67.202.102.224`始终为假的长字符串进行比较。你需要像这样分开你的IP`"127.0.0.1", "67.202.102.224"`

# php - 浏览器输出后添加标题状态代码？

> ID：12196067
> 
> 赞同：0
> 
> 时间：2012-08-30T11:39:59.013
> 
> 标签：php, http-headers

是否可以向页面添加 404 Not Found 错误消息，以便 Google Crawler 知道它是一个不存在的页面，当已经向浏览器进行输出时？

不能使用下面的代码，因为它会导致“无法修改标头”错误：

```
header("HTTP/1.0 404 Not Found"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:41:26.063

不。

标头总是在数据之前发送（因此得名 ;-)）

在任何数据之前发送标头并设置好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:58:03.790

发送到浏览器的内容消失了。你失去了控制，因为你不能取消它。如果您需要在应用程序的各个点更改标头，则应使用输出缓冲。或者，您始终可以在该脚本中设置`.htaccess`类似条目`ErrorDocument 404 /my-error404-script.php`并处理 404（如果可能）

# php - Google Drive API (PHP)：一些文件缺少父引用

> ID：12196071
> 
> 赞同：3
> 
> 时间：2012-08-30T11:40:17.860
> 
> 标签：php, google-drive-api

我仍在学习 Google Drive API 的来龙去脉。我正在尝试为其创建一个文件浏览器，以分层结构显示项目，而不是显示列出的所有文件，而不管其父级如何。

我遇到的问题是有些文件的父数组为空。最初的想法是它应该显示根目录中存在的所有文件，并且只显示根目录，然后在单击文件夹时显示其子项。

但是，缺少的父数据让我感到困惑。

这是因为这些文件已与我共享，因此没有与我相关的父参考吗？如果是这样，我如何识别这些文件？在返回的父数据上使用 empty() 似乎不会将其识别为空数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T02:00:49.653

我做了一个快速测试，我得到了相同的结果。不应该让您看到共享文件的父级是有道理的。

要知道文件是否共享，请查看 userPermission 数组。

**拥有...**

```
 "userPermission": {
    "kind": "drive#permission",
    "id": "me",
    "role": "owner",
    "type": "user"
   }, 
```

**共享...**

```
"userPermission": {
    "kind": "drive#permission",
    "id": "me",
    "role": "writer",
    "type": "user"
   }, 
```

# algorithm - 算法中的符号数学

> ID：12196080
> 
> 赞同：1
> 
> 时间：2012-08-30T11:40:49.423
> 
> 标签：algorithm, math

我将通过算法。提到算法的应用之一是符号数学。我从字典中找到了如下定义。

> 使用计算机以符号形式处理数学方程和表达式，而不是处理由这些符号表示的数值。这样的系统可用于符号积分或微分、将一个表达式替换为另一个表达式、简化表达式、改变主题等。最著名的符号数学软件包之一是 Mathematica。

我的问题是什么陈述“符号形式的方程式和表达式，而不是操纵这些符号表示的数字量。” 意思是？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T11:51:52.593

> 我的问题是什么陈述“符号形式的方程式和表达式，而不是操纵这些符号表示的数字量。” 意思是？

第二个是这样的意思：

```
>>> x = 2.3
>>> y = 9.8
>>> z = x+2*y
>>> z
21.900000000000002
>>> type(z)
<type 'float'> 
```

您将`x`,`y`和`z`视为数字名称的地方。您将计算机用作老式计算器，它只进行算术运算。 `z = x+2*y`执行右侧描述的算术运算并将结果数关联到`z`.

通过“符号形式”，更像是这样的意思：

```
sage: x, y, z = var("x y z")
sage: z == x+2*y
z == x + 2*y
sage: eq = z == x+2*y
sage: eq
z == x + 2*y
sage: type(z)
<type 'sage.symbolic.expression.Expression'>
sage: parent(eq)
Symbolic Ring
sage: eq.solve(y)
[y == -1/2*x + 1/2*z] 
```

其中`x`、`y`和`z`可以是表达式或某些结构中的变量，而不仅仅是特定数字的名称，并且可以执行更高级别的操作。

# android - 在 Android 中以编程方式强制停止应用程序

> ID：12196082
> 
> 赞同：3
> 
> 时间：2012-08-30T11:40:49.997
> 
> 标签：android, android-emulator

我想`force-stop`从我的 Android 应用程序中创建一个应用程序，（而不是像手动一样`apps-force->stop`）。如何做到这一点？

我用了：

```
android.os.Process.killProcess(android.os.Process.myPid());
system.exit(0); 
```

它崩溃了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T11:56:05.830

`android.os.Process.killProcess(android.os.Process.myPid());`这段代码是正确的，也是最好的。如果您需要更多信息，请参阅链接[如何关闭 Android 应用程序？](https://stackoverflow.com/questions/2092951/how-to-close-android-application)和[过程](http://developer.android.com/reference/android/os/Process.html#killProcess%28int%29)。

你也可以试试这个代码

```
Intent intent = new Intent(yourCurrentActivity.this, yourNextActivity.class);  
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent);  
android.os.Process.killProcess(android.os.Process.myPid()); 
```

您开始一个活动，然后关闭当前活动。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-19T16:36:43.300

只需将此代码放在关闭按钮中，您的应用程序就会停止

```
private void endapp() {
    Intent intent = new Intent(Intent.ACTION_MAIN);
    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
    intent.addCategory(Intent.CATEGORY_HOME);
    startActivity(intent);
    android.os.Process.killProcess(android.os.Process.myPid());
} 
```

你也可以试试这个

```
android.os.Process.killProcess(android.os.Process.myPid());
System.exit(10); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-04-22T05:41:00.517

尝试这个...

```
private void QuitApp() {

    //getActivity().moveTaskToBack(true); //Move the task containing this activity to the back of the activity stack. 

    Intent intent = new Intent(Intent.ACTION_MAIN);
    intent.addCategory(Intent.CATEGORY_HOME);
    startActivity(intent);
    int pid = android.os.Process.myPid();
    android.os.Process.killProcess(pid);
    System.exit(0);
  } 
```

# php - curl_init 不工作

> ID：12196083
> 
> 赞同：0
> 
> 时间：2012-08-30T11:40:52.017
> 
> 标签：php, curl

我正在使用以下基于 cURL 的函数

```
$url = "http://www.web_site.com";
$string = @file_get_contents($url);
if(!$string){
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0');
$string = curl_exec($ch);
curl_close($ch);
} 
```

但是突然我的网站由于这个功能而停止了，一旦我删除 curl 它工作正常所以我认为我的主机禁用了它所以我检查了它

[点击这里查看](http://www.spyimg.com/info.php)

它应该可以工作，所以出了什么问题？

![图片](../Images/23382d6b34e6b2f6cb8804cd7322b4d9.png)

〜任何帮助，我应该对我的托管服务提供商说什么！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:54:07.650

该[`file_get_contents`](http://it2.php.net/manual/en/function.file-get-contents.php)方法不查看 URL 标头，尝试使用`CURLOPT_FOLLOWLOCATION`启用的 cURL 并使用`CURLOPT_MAXREDIRS`您喜欢的值。

# wix - 针对条件问题运行自定义操作

> ID：12196084
> 
> 赞同：0
> 
> 时间：2012-08-30T11:40:59.357
> 
> 标签：wix, conditional-statements, custom-action

谁能告诉我为什么这不起作用？我有两个注册表检查来检查是否安装了 Visual C++ Redistributables：

```
<Property Id="REGDBKEYEXISTX64">
  <RegistrySearch Id="REGDBKEYEXISTX64" Root="HKLM" Key="Software\Microsoft\Windows\CurrentVersion\Uninstall\{837b34e3-7c30-493c-8f6a-2b0f04e2912c}" Name="Version" Type="raw" Win64="yes" />
</Property>

<!--Checking if Microsoft Visual C++ Redistributables are installed on a 32-bit system-->
<Property Id="REGDBKEYEXIST">
  <RegistrySearch Id="REGDBKEYEXIST" Root="HKLM" Key="Software\Microsoft\Windows\CurrentVersion\Uninstall\{837b34e3-7c30-493c-8f6a-2b0f04e2912c}" Name="Version" Type="raw" Win64="no" />
</Property> 
```

然后，如果未安装它们，我将运行自定义操作：

```
<Custom Action="InstallRedistributables" After="GetVariantName">Installed OR REGDBKEYEXISTX64 OR REGDBKEYEXIST</Custom> 
```

但是，当安装了可再发行组件时，它仍然运行我不想要的自定义操作。我知道它会检测到它，因为这是我的日志文件：

```
Property: REGDBKEYEXIST, Signature: REGDBKEYEXIST

 MSI (c) (4C:44) [12:19:04:989]: PROPERTY CHANGE: Adding REGDBKEYEXIST property. Its value is '#134276921'. 
```

那么可能是什么问题呢？我在另一个自定义操作上完成了此操作，并且效果很好，所以我真的不知道解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:46:42.837

看来你的情况是相反的。如果`REGDBKEYEXIST`注册表项存在，则属性将被设置，因此当搜索指示可再发行组件存在时为 true。因此，您可能想要的更像是`NOT REGDBKEYEXIST`您也可能只想在第一次安装时运行它（因此您参考`Installed`）。因此，我建议将您的条件更改为以下内容：

```
NOT(Installed or REGDBKEYEXIST or REGDBKEYEXISTX64) 
```

# security - 安全的移动应用程序与网络应用程序通信，确定它实际上是移动应用程序通信

> ID：12196094
> 
> 赞同：1
> 
> 时间：2012-08-30T11:41:42.070
> 
> 标签：security, authentication, mobile

我想确保在我的 Web 应用程序服务器上请求 HTTP 获取请求的客户端专门来自我的移动应用程序，而不是来自其他任何东西。我考虑了不同的选择，但仍然没有提出任何建议。最重要的是我不希望有用户交互，我希望移动应用程序本身来处理这个。我想出的最好办法是在移动应用程序上拥有一个网络应用程序事先知道的密钥，但如果移动应用程序曾经被反编译或密钥以某种方式被发现，那么这将毫无用处。两者之间的通信使用带有随机 IV 的 AES 128 位 CBC 密码进行加密——它以纯文本来回传递，并在每次交易后发生变化。

确定通信是否来自移动应用程序，这在逻辑上是不可能的，并且需要人工干预 - 例如要求用户输入他们记住的密码并且已经在服务器上设置？

最终，移动应用程序会更新 Web 应用程序服务器上的数据库，因此我想确保请求是从应用程序发出的，而不是冒充应用程序的人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T16:00:53.087

这永远不可能。这是由于[CWE-602 背后的基本属性：服务器端安全的客户端强制执行](http://cwe.mitre.org/data/definitions/602.html)。您无法决定客户的行为。没有什么可以阻止您的软件用户附加调试器并读取内存或修改您的客户端。

# python - Inherit other file.py globals

> ID：12196097
> 
> 赞同：1
> 
> 时间：2012-08-30T11:42:01.320
> 
> 标签：python, inheritance, globals

how do you inherit globals from other .py file?

Example:
globals.py

```
test = 'testValue' 
```

index.py

```
from globals import *

def setGlobals():
    global test
    test = 'new Value' # Setting new value to project global  

setGlobals() 
```

help.py

```
from globals import *
print test # Should print out 'new Value', but it prints 'testValue' 
```

I wish to have one file full of constants and global variables that is set by another file and also used by other files. In this example I set new value to global variable `test` in `index.py` and wish to use new value in `help.py`. Am I using the wrong approach for python? Thank you.

EDIT: Sequence of events is same as exampled, e.g. first I import, set new value and then try printing out newly set value from another file.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:45:54.017

In Python modules are objects. When you do an import, you are copying and possibly renaming the attributes of one module into the current module. However, this only copies the value (or more specifically copies the reference by value). If the imported module is later changed, your copy won't be. One possible approach is to try defining your globals in the second module as properties, but I'm not sure if that even works.

However, what you are trying to do is terrible design anyway. You need to rethink why you want to have global values being accessed and modified everywhere. Try refactoring your code and replacing anything left with dependency injection. For example, replace your globals module with a configuration object that you can pass around to whoever needs it.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-09-11T00:02:11.003

According to:

*   [How do I share global variables across modules? - python](https://www.edureka.co/community/52900/how-do-i-share-global-variables-across-modules-python)

Inside `index.py` you would remove:

```
global test 
```

Then you would change:

```
test = 'new Value' # Setting new value to project global 
```

To:

```
globals.test = 'new Value' # Setting new value to project global 
```

In `help.py` you would change:

```
print test # Should print out 'new Value', but it prints 'testValue' 
```

To:

```
print globals.test # Should print out 'new Value', but it prints 'testValue' 
```

I'm actually working on a similar project tonight so will comeback and confirm website's correctness later (although it makes sense it is correct).

It seems confirmed by this link:

*   [http://effbot.org/pyfaq/how-do-i-share-global-variables-across-modules.htm](http://effbot.org/pyfaq/how-do-i-share-global-variables-across-modules.htm)

As an aside I'm somewhat surprised stack overflow doesn't have an answer on this yet other than the too often occurring accepted answer of "You can't do that". I don't have `c++` experience like you do in comments. But I have used `c` and psuedo `c#` and having header files you include for global variables seems like a no-brainer and not something to be shunned. I do it in Linux `bash` all the time with `source config.sh`, etc.

# git - Git：没有变基混乱的持续集成

> ID：12196098
> 
> 赞同：2
> 
> 时间：2012-08-30T11:42:02.633
> 
> 标签：git, continuous-integration, rebase

我们有 2 个开发团队在一个系统上工作。团队 A 正在开发一个“主”分支（我们的生产分支）。他们将从“master”分支到功能或错误修复分支，然后合并回“master”以进行发布。

B 组正在开发一个从“master”分支的“升级”分支。他们遵循从“升级”分支到功能或错误修复分支的类似方法，然后在他们的工作完成后合并回“升级”。

最终，升级完成后，“升级”分支将替换“主”。同时，我们如何保持“升级”分支与“主”同步？

迄今为止，我一直在每周将“升级”分支重新基于“主”。问题在于，当团队 B 中的成员想要退出或推送更改以“升级”时，这会改写历史并给他们造成混乱。我们应该如何以简单干净的方式不断整合“大师”和“升级”？![在此处输入图像描述](../Images/2dca096ff5696689f5fef903087d78d6.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:01:34.113

> 迄今为止，我一直在每周将“升级”分支重新基于“主”。
> 问题是这会改写历史并给 B 团队的成员制造混乱。

所以...不要变基。获取并合并`origin/master`到本地分支`upgrade`。
最终的合并`master`将是一个简单（甚至是快速）的合并。

也可以看看：

*   《[关于 Git 的合并和变基](https://stackoverflow.com/questions/7062192/about-gits-merge-and-rebase/7062773#7062773)》：for `deliver`and `rebase`basics
*   “ [`git rebase`vs`git merge`](https://stackoverflow.com/questions/804115/git-rebase-vs-git-merge/804178#804178) ”：查看每个操作支持的工作流类型。
    在合并之前，Rebase 是好的。
    但在你的情况下，你不会`master`在很长一段时间内合并（回到）。
    所以合并（升级）是一个明智的解决方案。

# symfony - 文件上传 - 它删除文件，但不删除路径 - Symfony2/Doctrine2

> ID：12196100
> 
> 赞同：1
> 
> 时间：2012-08-30T11:42:14.903
> 
> 标签：symfony, doctrine-orm

我已经按照[这个](http://symfony.com/doc/current/cookbook/doctrine/file_uploads.html)添加了上传文件的功能，但是我有一个小问题。我实际上复制了该部分的功能[`Using Lifecycle Callbacks`](http://symfony.com/doc/current/cookbook/doctrine/file_uploads.html#using-lifecycle-callbacks)。而不是 class `Document`，我有一个类`Friend`：

```
//...
/**
     * @Assert\File(maxSize="6000000")
     */
    public $picture;

    /**
     * @ORM\Column(type="string", length=255, nullable=true)
     */
    private $path;
//... 
```

上传和编辑工作，但我在删除时遇到问题。我想有两个选项 - `Remove the picture`并且`Delete the picture`- 第一个将仅设置当前路径，`null`并且文件将保留在存储文件的文件夹中，而第二个将设置为路径`null`并删除文件。

坏消息是我无法走上这条路`null`。文件被删除，但路径仍然存在。

这是文档中的功能：

```
 /**
     * @ORM\PostRemove()
     */
    public function removeUpload()
    {
        if ($picture = $this->getAbsolutePath()) {
            unlink($picture);
        }
    } 

public function getAbsolutePath()
    {
        return null === $this->path ? null : $this->getUploadRootDir().'/'.$this->path;
    } 
```

这是我的控制器中的操作：

```
public function removePictureAction($id)
    {
        $em = $this->getDoctrine()->getEntityManager(); 
         $friend = $em->getRepository('EMMyFriendsBundle:Friend')->find($id);
         $friend->removeUpload();
         $var=null;
         $friend->setPath($var);
         return $this->redirect($this->generateUrl('friend_id', array('id' => $id))); 
    } 
```

但路径仍然存在......如何删除它并再次将其设置为空？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:04:21.147

您需要保留您的朋友实体并刷新实体管理器

# asp.net - 如何使用httpcontext在asp.net中显示会话过期的消息

> ID：12196101
> 
> 赞同：0
> 
> 时间：2012-08-30T11:42:14.057
> 
> 标签：asp.net, session

会话超时后将用户重定向到登录页面类似于在一定间隔后刷新页面的方法。唯一不同的是计算页面必须重定向的时间。因此，可以使用 Session.timeout 属性计算时间，该属性将为我们提供该会话的会话超时值。为该值添加一些宽限时间并自动将用户重定向到登录页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T06:39:42.817

protected void Page_Init(object sender, EventArgs e) { CheckSession(); }

```
private void CheckSession()
{
    if (Session["SessionID"] == null)
    {
        ScriptManager.RegisterStartupScript(this, this.GetType(), "redirect", "var r = confirm('Your Session Has Expired'); if (r == true) var str= 'PartnerLogin.aspx'; location.href = str ;", true);

    }

} 
```

# wcf - 接受 XML 的 WCF 服务引用字符串参数？

> ID：12196102
> 
> 赞同：1
> 
> 时间：2012-08-30T11:42:16.477
> 
> 标签：wcf, xml-serialization, datacontractserializer

我正在编写一个接收事件的 WCF 服务。这是一个商定的标准，所以我必须坚持服务定义，我不控制客户端发送的数据。尽管数据可能会有所不同，但这仍然是一个公认的标准。

这是我的服务中的一种方法：

```
complexType ErrorEvent(int requestId, complexType returnValue, ref string errorInfo) 
```

客户端在我的函数将操作和返回的 errorInfo 字符串中发送 XML。

我得到的数据是这样的（完整的 SOAP 请求）：

```
<?xml version="1.0"?>
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
  <s:Body xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ErrorEvent xmlns="http://blah">
      <requestId>1</requestId>
      <returnValue>
        <returnCode>0</returnCode>
      </returnValue>
      <errorInfo>
        <ErrorMessage>An error message</ErrorMessage>
        <DefaultTask><!-- Complex data --></DefaultTask>
        <Task><!-- Complex data --></Task>
        <Task><!-- Complex data --></Task>
        <Task><!-- Complex data --></Task>
        <ExtraMessage>hello</ExtraMessage>
        <ExtraMessage>world</ExtraMessage>
      </errorInfo>
    </ErrorEvent>
  </s:Body>
</s:Envelope> 
```

但是，当我尝试运行它时，我收到此错误（已编辑）：

*格式化程序在尝试反序列化消息时抛出异常：尝试反序列化参数 errorInfo 时出错。InnerException 消息是“反序列化 System.String 类型的对象时出错。应来自命名空间“”的结束元素“errorInfo”。从命名空间“”中找到元素“ErrorMessage”。*

所以我的问题是，有没有什么方法可以在不改变方法签名的情况下实现我想要做的事情？例如向我的服务添加属性等？还是我需要拦截消息？

感谢您的任何指示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:57:45.000

它必须作为字符串传递吗？您知道您还可以在 WCF 中接收 XmlElement 和 XElements 吗？

您是自己生成 SOAP 请求吗？您可以使用 CDATA 部分，即

```
<?xml version="1.0"?>
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
  <s:Body xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ErrorEvent xmlns="http://blah">
      <requestId>1</requestId>
      <returnValue>
        <returnCode>0</returnCode>
      </returnValue>
      <errorInfo>
        <![CDATA[<ErrorMessage>An error message</ErrorMessage>
        <DefaultTask><!-- Complex data --></DefaultTask>
        <Task><!-- Complex data --></Task>
        <Task><!-- Complex data --></Task>
        <Task><!-- Complex data --></Task>
        <ExtraMessage>hello</ExtraMessage>
        <ExtraMessage>world</ExtraMessage>]]>
      </errorInfo>
    </ErrorEvent>
  </s:Body>
</s:Envelope> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:33:13.217

我没有找到一种方法来完成这项工作，正如@luksan 所说，客户端将未转义的 XML 发送到字符串参数是一种滥用。

我采用的解决方法是创建一个实现 IClientMessageInspector、IDispatchMessageInspector 和 IEndpointBehavior 的类来拦截、检查和修改任何不正确的消息。

如果我可以更改接口，另一种解决方法是接受 XmlNode[] 而不是字符串。

# google-maps - dojo：定义模块以加载谷歌地图api，（我有点迷茫）

> ID：12196103
> 
> 赞同：2
> 
> 时间：2012-08-30T11:42:25.753
> 
> 标签：google-maps, dojo

有人可以解释如何定义 dojo 模块（定义/要求）以使用谷歌地图 api。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T13:32:56.360

```
(function(){ 
    var callback = function(){},
        callbackName = 'gmapscallback'+(new Date()).getTime();
    window[callbackName] = callback;
    define(['http://maps.googleapis.com/maps/api/js?sensor=true&callback=' + callbackName], function(){
        return google.maps;
    });
})(); 
```

[源代码](http://jasonwyatt.tumblr.com/post/18015760792/google-maps-api-in-an-amd-module-requirejs-dojo)

# xslt - XSLT：generate-id() 和 2 个相等的参数

> ID：12196105
> 
> 赞同：0
> 
> 时间：2012-08-30T11:42:34.837
> 
> 标签：xslt, xslt-2.0

使用 XSLT 2.0：

@ Linenumber 8370 这个代码：

```
<TestCaseElement>
            <Name><![CDATA[DUT_AC_ON]]></Name>
            <TaggedValues>
            </TaggedValues>
            <Description>
                <Line><![CDATA[{TEXT_LANG} DUT AC ON]]></Line>
                <Line><![CDATA[{TEXT_ENGL} DUT AC ON]]></Line>
            </Description>
            <ModelingToolID><![CDATA[EAID_E9ACC0C9_D383_4ef0_99FF_F87C90BDF43C]]></ModelingToolID>
            <Hash><![CDATA[1238228468]]></Hash>
            <ID><![CDATA[1115]]></ID>
            <Stereotypes>
                <Stereotype><![CDATA[StepStart]]></Stereotype>
            </Stereotypes>
            <Role><![CDATA[TESTSTEP]]></Role>

</TestCaseElement> 
```

稍后在 XML-Document 中使用相同的*ModelingToolID*

这是图片的外部链接以进行可视化：http: [//i.imgur.com/vTmki.png](http://i.imgur.com/vTmki.png)

我用这个 XSL 代码生成 ID：

```
<xsl:for-each select="/TestCases/TestCase/TestCaseElement/ModelingToolID[  
 ( not( ../Stereotypes ) or ( ../Stereotypes/Stereotype != 'Precondition' and
  ../Stereotypes/Stereotype != 'Postcondition' ) ) and 
 (../Stereotypes/Stereotype = 'StepStart') and 
 ( ../Role = 'TESTSTEP' or ../Role = 'VP' )  and 
 ../Description and 
 ( generate-id() = generate-id( key( 'ModelingToolID', .)[ 1 ] ) ) ]"> 
```

您可以在 Linenumber 8370 和 10296 中看到两个相同的 ModelingToolID。
我的转换和所需的输出中都需要 TestCaseElements。
但是，可以理解的是，只会采取第一个。
我该怎么做才能同时获得两个 TestCaseElement？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:04:25.970

> 您在 Linenumber 8370 和 10296 中看到两个相同`ModelingToolID`的。我的转换和所需的输出中都需要 TestCaseElements。但是，可以理解的是，只会采取第一个。我该怎么做才能同时获得两个 TestCaseElement？

根据定义，该函数`key()`（没有附加谓词）产生一个节点集，每个节点都具有与第二个参数相同的键。

**因此，在`xsl:for-each`您需要的指令中：**

```
key( 'ModelingToolID', .) 
```

这将选择与命名属性中的匹配模式匹配的*所有*节点——正是您想要获得的。`match``xsl:key``"ModelingToolID"`

**您可以在各种 XSLT 指令中使用此表达式**：

```
<xsl:variable name="vGroup" select="key( 'ModelingToolID', .)"/> 
```

**或者**：

```
<xsl:for-each select="key( 'ModelingToolID', .)">
  <!-- Process the group here  -->
</xsl:for-each> 
```

或者你需要做的任何事情。

# wordpress - add_image_size() 使用比率而不是大小 - WordPress

> ID：12196106
> 
> 赞同：0
> 
> 时间：2012-08-30T11:42:35.610
> 
> 标签：wordpress, image, wordpress-theming, add, image-size

我正在开发一个 WordPress 主题，我需要通过内置媒体上传器上传的图像具有相同的比例。我知道这很容易通过定义高度和宽度并使用裁剪来完成。

问题是我想将这些图像用于全屏滑块，因此将所有图像缩小到 300x200 作为示例是行不通的。我想尽可能多地保留图像的默认大小，同时按比例裁剪它。

WordPress 带有 add_image_size() 功能，但我更喜欢寻找 add_image_ratio() 功能。这甚至可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-04-16T14:37:46.587

您可以使用比率：

```
$thubmnail_ratio = (150 / 200); // height to width ratio, you can use some existing working ratio

add_image_size( 'thumbnail-small',  100, round(100*$thubmnail_ratio), true );
add_image_size( 'thumbnail-medium', 200, round(200*$thubmnail_ratio), true );
add_image_size( 'thumbnail-large',  400, round(400*$thubmnail_ratio), true ); 
```

也应该可以编写一个包装 add_image_size(...) 的小辅助函数。

# java - 记录执行的java代码的行号...这不会减慢执行速度吗？

> ID：12196107
> 
> 赞同：0
> 
> 时间：2012-08-30T11:42:38.920
> 
> 标签：java, code-coverage

我已经提到了这个链接，我的问题就是基于它。 [执行的java代码的日志行号](https://stackoverflow.com/questions/10853747/log-line-numbers-of-executed-java-code)

我对 Edwin Buck 的回答非常满意。我的疑问是，不会逐行检查代码会使其变慢。我们能否逐块或逐个方法进行代码覆盖率，并给出每个块中行号的近似估计？这可能吗？如果是的话，什么是好方法？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:46:53.213

使用代码覆盖工具比正常执行要慢一些。简单的解决方案是减少运行代码的频率。与其循环一百万次，不如循环十万次。对于只执行几次的代码，它不会有任何区别。

# javascript - AJAX 调用中的强制 Document.write

> ID：12196110
> 
> 赞同：1
> 
> 时间：2012-08-30T11:42:56.517
> 
> 标签：javascript, html, ajax, dynamic, document.write

我们目前有一个搜索页面，其中通过 ajax 调用动态列出酒店。每个显示的酒店我们必须显示一个tripadvisor 小部件。一个示例tripadvisor小部件代码如下

```
<div id="TA_rated485" class="TA_rated">
<ul id="mdJZap41Mwg" class="TA_links shznH7pJf">
<li id="NnfwdIAYy" class="e9ZmnKZxo"><a href=http://www.tripadvisor.com/Hotel_Review-g190454-d228070-Reviews-Hotel_Royal-Vienna.html>Hotel Royal</a></li>
</ul>
</div>
<script src="http://www.jscache.com/wejs?wtype=rated&amp;uniq=485&amp;locationId=228070&amp;lang=en_US"></script> 
```

有趣的部分是脚本标签链接到一个使用 document.write 的脚本。由于这是在页面加载之后并在 ajax 调用循环期间调用，因此文档被重写。是否有任何解决方法以使 document.write 不重写页面或小部件的解决方法，其中小部件以不同于当前 document.write 技术的方式集成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:18:13.690

此链接可能会帮助您解决此问题

[JavaScript Document.Write 在使用 AJAX 时替换所有正文内容](https://stackoverflow.com/questions/2360076/javascript-document-write-replaces-all-body-content-when-using-ajax)

或者

你可以去jquery方法

```
 $('slector').live(event,function(){
 //your code here
 }); 
```

这会将您的代码绑定到 Ajax 动态加载的元素。

# ajax - 在 JSF Ajax 响应 XML 中插入自定义标记

> ID：12196111
> 
> 赞同：2
> 
> 时间：2012-08-30T11:42:59.690
> 
> 标签：ajax, jsf

考虑以下代码：

```
<h:commandButton value="do" action="#{testBacking.do}">
   <f:ajax execute="@all" render="@all" listener="#{testBacking.listener}"/>
</h:commandButton> 
```

我想在 Ajax 响应 XML 中有一个自定义标记（具有基于服务器逻辑的值），如下所示：

```
<isValidationFailed> true </isValidationFailed> 
```

如果验证失败，我可以使用这些数据重新启用按钮（在 Ajax 开始时该按钮被禁用，以避免双击）。

我怎样才能做到这一点（最好不使用任何 JSF 3rd 方库）？

**编辑：**

更准确地说，示例代码应该是这样的：

```
<h:commandButton id="myButton" value="do" action="#{testBacking.do}">
 <f:ajax execute="id1" render="id2 myButton" listener="#{testBacking.listener}"/>
</h:commandButton> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T13:33:44.667

这仅适用[`PartialViewContext`](http://docs.oracle.com/javaee/6/api/javax/faces/context/PartialViewContext.html)于您使用[`PartialViewContextFactory`](http://docs.oracle.com/javaee/6/api/javax/faces/context/PartialViewContextFactory.html). 自定义`PartialViewContext`应该反过来返回一个自定义[`PartialResponseWriter`](http://docs.oracle.com/javaee/6/api/javax/faces/context/PartialResponseWriter.html)on [`PartialViewContext#getResponseWriter()`](http://docs.oracle.com/javaee/6/api/javax/faces/context/PartialViewContext.html#getPartialResponseWriter%28%29)。在此自定义`PartialResponseWriter`中，您应该能够通过调用[`startExtension()`](http://docs.oracle.com/javaee/6/api/javax/faces/context/PartialResponseWriter.html#startExtension%28java.util.Map%29)和[`endExtension()`](http://docs.oracle.com/javaee/6/api/javax/faces/context/PartialResponseWriter.html#endExtension%28%29)in向 XML 响应添加扩展[`endDocument()`](http://docs.oracle.com/javaee/6/api/javax/faces/context/PartialResponseWriter.html#endDocument%28%29)。就像是：

```
@Override
public void endDocument() throws IOException {
    Map<String, String> attributes = new HashMap<String, String>();
    attributes.put("name1", "value1");
    attributes.put("name2", "value2");
    startExtension(attributes);
    write("lorem ipsum");
    endExtension();
    super.endDocument();
} 
```

然后这将在 XML 响应中结束

```
<extension name1="value1" name2="value2">lorem ipsum</extension> 
```

`data.responseXML`这在函数中是可用和可遍历的`jsf.ajax.addOnEvent()`。

* * *

这是一个完整的启动示例，您可以如何在特定情况下使用它：

`MyPartialViewContextFactory`它提供了自定义的局部视图上下文：

```
public class MyPartialViewContextFactory extends PartialViewContextFactory {

    private PartialViewContextFactory wrapped;

    public MyPartialViewContextFactory(PartialViewContextFactory wrapped) {
        this.wrapped = wrapped;
    }

    @Override
    public PartialViewContext getPartialViewContext(FacesContext context) {
        return new MyPartialViewContext(wrapped.getPartialViewContext(context));
    }

} 
```

`MyPartialViewContext`它提供了自定义部分响应编写器：

```
public class MyPartialViewContext extends PartialViewContextWrapper {

    private PartialViewContext wrapped;
    private PartialResponseWriter writer;

    public MyPartialViewContext(PartialViewContext wrapped) {
        this.wrapped = wrapped;
        this.writer = new MyPartialResponseWriter(wrapped.getPartialResponseWriter());
    }

    @Override
    public PartialResponseWriter getPartialResponseWriter() {
        return writer;
    }

    @Override
    public void setPartialRequest(boolean isPartialRequest) {
        wrapped.setPartialRequest(isPartialRequest);
    }

    @Override
    public PartialViewContext getWrapped() {
        return wrapped;
    }

} 
```

`MyPartialResponseWriter``<extension id="myextension">`它以 JSON 格式写入正文）：

```
public class MyPartialResponseWriter extends PartialResponseWriter {

    public MyPartialResponseWriter(ResponseWriter wrapped) {
        super(wrapped);
    }

    @Override
    public void endDocument() throws IOException {
        startExtension(Collections.singletonMap("id", "myextension"));
        write("{\"validationFailed\": " + FacesContext.getCurrentInstance().isValidationFailed() + "}"); // Consider a JSON serializer, like Google Gson.
        endExtension();
        super.endDocument();
    }

} 
```

要使其运行，请在以下位置注册工厂`faces-config.xml`：

```
<factory>
    <partial-view-context-factory>com.example.MyPartialViewContextFactory</partial-view-context-factory>
</factory> 
```

以下是您如何访问、解析和使用`<extension id="myextension">`您的`jsf.ajax.addOnEvent()`:

```
jsf.ajax.addOnEvent(function(data) {
    if (data.status == "success") {
        var args = JSON.parse(data.responseXML.getElementById("myextension").firstChild.nodeValue);

        if (args.validationFailed) {
            // ...
        }
        else {
            // ...
        }
    }
}); 
```

* * *

**但是**，*您的特定*功能需求可以通过不同的、可能更简单的方式来实现。只需让 ajax 请求更新按钮本身，并让按钮的`disabled`属性评估`true`何时有成功回发的方法。

```
<h:commandButton id="myButton" value="do" action="#{testBacking.do}" 
    disabled="#{facesContext.postback and not facesContext.validationFailed}">
    <f:ajax execute="id1" render="@this id2" listener="#{testBacking.listener}"/>
</h:commandButton> 
```

# c# - 如何从后面的代码将 CSS 类添加到 asp.net

> ID：12196112
> 
> 赞同：4
> 
> 时间：2012-08-30T11:42:59.620
> 
> 标签：c#, asp.net, html, css

这真是令人沮丧，并且搜索了十几个站点：

我有一个`<asp:table id="questionsTable" runat="server">`动态添加行和列的对象。我正在尝试将预定义的 Cssclass 添加到这些新创建的行和列，但无济于事。

行和列的设置代码：

```
TableRow row = new TableRow();
TableCell cell1 = new TableCell();
TableCell cell2 = new TableCell();
TableCell cell3 = new TableCell();
TableCell cell4 = new TableCell();
TableCell cell5 = new TableCell(); 
```

我知道我可以这样做：

```
row.Style.Add("width", "80%");
row.Style.Add("text-align", "left");

cell1.Style.Add("width", "10px");
cell2.Style.Add("width", "auto");
cell3.Style.Add("width", "75px");
cell4.Style.Add("width", "75px");
cell5.Style.Add("width", "75px"); 
```

它可以工作......但它使代码隐藏文件变得混乱。

所以我看到了这个：

```
row.Attributes.Add("Class", "rowA");

//CSS - in StyleSheet.css
.rowA
{
    width:80%;
    text-align:center;
    background-color:#FCF6CF;
} 
```

但它似乎对我不起作用......

但奇怪的是，如果我查看生成的标记源，我会得到这个

```
 </tr><tr Class="rowA"> 
```

以上内容是从渲染页面复制的 - 但尚未应用 Css...我知道 css 是正确的，因为如果我手动添加它，它会正确应用它。

编辑

非常感谢所有为此提供帮助的人。不幸的是，出了点问题，指向外部样式表的链接被删除了。感谢 Sven 想到这一点。经过像今天这样漫长的一天后，我可能会犯初学者的错误。

再一次感谢你

亲切的问候

艾登

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T11:47:05.487

您的`class`属性应为小写 (XHTML)：

```
row.Attributes.Add("class", "rowA"); 
```

还要确保在呈现表格的页面中包含 CSS 文件。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-30T12:16:29.890

When the generated html output of the row has the class, then there is the css file not linked in the html file, or you have a typo in the class name.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T11:48:54.320

您的代码没有任何问题。它是你的 CSS 是错误的。

请参阅[表格上的 W3 文档](http://www.w3.org/TR/CSS2/tables.html)：

> 表格的水平布局不依赖于单元格的内容；它仅取决于表格的宽度、列的宽度以及边框或单元格间距。

如果您希望行的宽度为 80%，则应将表格宽度设置为 80%。像这样：

```
<asp:table id="questionsTable" runat="server" class="myTable">

.rowA
{
   text-align:center;
   background-color:#FCF6CF;
}

.myTable{
   width:80%;
} 
```

# android - 如何在事件中最大化应用程序？

> ID：12196115
> 
> 赞同：0
> 
> 时间：2012-08-30T11:43:03.113
> 
> 标签：android, android-intent, android-activity

我已经使用这个最小化了我的应用程序..

```
 Intent startMain = new Intent(Intent.ACTION_MAIN);
                startMain.addCategory(Intent.CATEGORY_HOME);
                startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                startActivity(startMain); 
```

应用程序处于最小化状态时正在等待某个事件。发生某些广播事件时如何返回应用程序活动？

我可以从广播接收器类访问最小化的活动（使用之前传递给它的对象），但它在主屏幕的背景下运行。

android最终会杀死最小化的应用程序吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:05:45.827

```
Intent homeIntent = new Intent(this, HomeActivity.class);
homeIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
startActivity(homeIntent); 
```

这将启动 HomeActivity，如果该 Activity 仍在内存中，它将把它带到前面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T11:51:06.563

您可以使用 Intent 再次启动活动。

例子 ：

```
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.setComponent(new ComponentName("com.package.address","com.package.address.MainActivity"));
startActivity(intent); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:03:38.327

如果您想最大化您需要用户界面的应用程序，那么您可以在通知栏中添加您的应用程序，一旦用户单击通知栏，您可以在您的单词中打开可以最大化相同的应用程序。将您的应用程序添加到通知栏中，您可以获得许多教程：

[通知](http://developer.android.com/guide/topics/ui/notifiers/notifications.html)

# java - 如何将新元素添加到链表Java的arraylist

> ID：12196120
> 
> 赞同：0
> 
> 时间：2012-08-30T11:43:14.357
> 
> 标签：java

我正在使用`ArrayList`和`LinkedList`作为存储桶来实现哈希表。

```
ArrayList<LinkedList<node>> db = new ArrayList<LinkedList<node>>(); 
```

如何在此添加新元素`ArrayList`。会是这样吗？

```
this.db.add(hash, element); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:44:38.580

它是这样工作的：

```
LinkedList<node> tmp = new LinkedList<node>();
tmp.add(new node());
this.db.add(tmp); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T11:48:09.210

这将是

```
db.get(hash).add(element); 
```

当然要求您的存储桶（`LinkedList`s）已经实例化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T11:48:46.733

```
ArrayList<LinkedList<node>> db = new ArrayList<LinkedList<node>>();
LinkedList<node> linkList= new LinkedList<node>();
node no = new node();

this.linkList.add(no);
this.db.add(tmp); 
```

# multithreading - 如何防止 ApplicationRecoveryCallback() 中的死锁？

> ID：12196121
> 
> 赞同：1
> 
> 时间：2012-08-30T11:43:16.223
> 
> 标签：multithreading, delphi, winapi, indy

我已经注册了我的[ARR](http://msdn.microsoft.com/en-us/library/cc948909%28v=vs.85%29)申请。假设我的应用程序有一个`IdTCPServer`使用从串行端口读取数据[`VSPE`](http://www.eterlogic.com/Products.VSPE.html)并将其添加到`ClientDataSet`. 如果主线程冻结，ARR 将调用我的 ApplicationRecoveryCallback()。我可以`IdTCPServer`安全地访问恢复回调函数吗？我希望它停止，以便`ClientDataSet`在重新启动之前将其保存到磁盘。我可以这样简单地编写我的函数吗？

```
function RecoveryFunction(pvParameter: Pointer): DWORD; stdcall;
var
  ContinueRecovery: Boolean;
begin
  Result := 0; // happy compiler ;-)
  repeat
    ApplicationRecoveryInProgress(ContinueRecovery);
    if not ContinueRecovery then
      ApplicationRecoveryFinished(False);
  until frmInstrument.CriticalSection.TryEnter;
  frmInstrument.IdTCPServer.Active := False;
  frmInstrument.CDS.SaveToFile(RecoveryFile);
  ApplicationRecoveryFinished(True);
end; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:22:35.273

我不会那样写的。当您的程序停止响应时调用此函数。如您所知，它已停止响应，因为其他东西已经卡在等待相同的关键部分。

如果您希望即使在程序挂起时也能访问您的数据，那么您需要一种无锁方式来检测何时允许您读取数据。使用事务日志模型。以原子方式更新指示您的数据有多少是有效的。当您进入恢复功能时，读取该值，并尽可能多地保存它所说的可用值。不要费心阅读超出这一点的内容，因为您无法确定它没有损坏以及程序崩溃的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T15:14:54.980

如果您将串行端口和 CDS 逻辑移出主线程，则可以降低应用程序变得无响应并完全启动 ARR 的可能性。主线程应该只用于 UI 逻辑，需要一段时间才能运行的业务逻辑最好在工作线程中提供。

# matlab - 全局变量和 parfor

> ID：12196122
> 
> 赞同：6
> 
> 时间：2012-08-30T11:43:19.423
> 
> 标签：matlab, parallel-processing, global-variables, parfor

在`parfor`循环中，我试图调用一个访问 a 的函数，`global`但无济于事。

功能

```
function a = getA()
   global OPTIONS;
   a=OPTIONS.PROBLEM.A;
end 
```

循环：

```
parfor i=1:3
    b=getA();
end 
```

错误：

```
Error using parallel_function (line 589)

Attempt to reference field of non-structure array. 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-30T11:58:23.057

从[文档](http://www.mathworks.com/help/distcomp/troubleshoot-variables-in-parfor-loops.html)中`parfor`：

> parfor 循环的主体不能包含全局或持久变量声明。

在您的问题的上下文中，即在其中调用一个函数，该函数`parfor`又引用 a `global`，这将转换为：“`parfor`可能不会给出预期或有意义的结果”。

这很有意义。考虑以下

```
Lab 1:         Lab 2: 

GetB();        GetB(); 
```

如果内容`GetB()`是这样的：

```
function GetB()
    global B;

    %# do something useful

    B = rand;

 end 
```

`B`当它被引用时，它的价值是`Lab 1`多少？和上`Lab 2`？沟通的不同结果如何`rand`？这将是一团糟！

`parfor`当代码来自仅考虑正常循环的东西时，编写适合循环的代码可能会很痛苦`for`。通常，当您事先知道您将编写一段计算密集型的 Matlab 代码时，`parfor`从一开始就将所有函数和循环编写为循环。这是使此类错误不会花费您一天时间对函数进行转码的唯一方法。

从`for`to转换`parfor`一点**也不简单**。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-30T12:42:24.077

`GLOBAL`数据很难在内部使用，`PARFOR`因为每个工作人员都是一个单独的 MATLAB 进程，并且全局变量不会从客户端（或任何其他进程）同步到工作人员。如果您从工作人员的单独函数初始化全局数据，它将起作用。（正如 Rody 指出的那样，不允许*在 PARFOR 循环的主体中直接*`global`使用关键字- 但是，单独的函数可以做到这一点）。因此，这样做是合法的：

 *```
parfor ii=1:matlabpool('size')
  myFcnWhichSetsUpGlobalData(); %# defines global OPTIONS
end
parfor ii=1:N
  result(ii) = myFcnWhichUsesGlobalData(); %# reads global OPTIONS
end 
```

我个人会尝试`GLOBAL`从您的应用程序中删除数据 - 它会使其更好地与`PARFOR`.

另一个值得探索的选项是我的[Worker Object Wrapper](http://www.mathworks.com/matlabcentral/fileexchange/31972-worker-object-wrapper)，它旨在阻止您多次向工作人员传输数据。你可以这样使用它：

```
options = buildOptions();
w_options = WorkerObjWrapper(options);
parfor ii=1:N
  result(ii) = myFcnNeedingOptions(ii, w_options.Value);
end 
```*

# java - 使用 java 从 PostgreSQL 中的 bytea 检索文件

> ID：12196123
> 
> 赞同：3
> 
> 时间：2012-08-30T11:43:21.170
> 
> 标签：java, postgresql, postgresql-9.1, binarystream, bytea

嗨，我正在使用以下代码使用 java 从 postgresql bytea 检索文件，但在文件中我得到的数字类似于 314530413142313141

```
File file = new File("c:/test.doc");
FileOutputStream fos = new FileOutputStream(file);
ResultSet rs = st.executeQuery("SELECT * FROM test_bytea where id=" + 1);
        if (rs != null) {
            while (rs.next()) {

                byte[] fileBytes = new byte[1024];
                InputStream is = rs.getBinaryStream("type_file");
                while (is.read(fileBytes) > 0) {
                    fos.write(fileBytes);
                }

                // use the stream in some way here
            }
            rs.close();
        } 
```

请让我知道我的代码出了什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T15:53:40.167

您可以使用以下命令代替手动操作`Spring`：

```
ResultSet rs = st.executeQuery("SELECT * FROM test_bytea where id=" + 1);
if (rs != null) {
    LobHandler lobHandler = new DefaultLobHandler();
    byte[] myFile = lobHandler.getBlobAsBytes(rs, "type_file"));
    //.... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T13:24:06.117

数据被转义（以 \x 开头，然后是每个字节的十六进制两个字符）这是来自 bytea 字段的内容。您需要在将其存储在文件中之前对其进行转义。

# eclipse - 防止eclipse插入带有变量的换行符？

> ID：12196128
> 
> 赞同：0
> 
> 时间：2012-08-30T11:43:32.807
> 
> 标签：eclipse, templates, newline, insertion

可以通过 覆盖用户名`eclipse.ini`，我已经这样做了：

```
-Duser.name=My Name 
```

这与定制的代码模板很相配。对于 Java，这些驻留在`Window -> Preferences -> Java -> Code Style -> Code Templates`.

下面是我用于`Files`和模板的自定义`Types`模板：

```
/**
 * 
 * @author ${user} */ 
```

预期的输出是：

```
/**
 * 
 * @author My Name */ 
```

不幸的是，eclipse坚持在${user}之后插入换行符，导致：

```
/**
 * 
 * @author My Name
 */ 
```

有谁知道如何防止这种换行符插入？

真诚的感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:20:24.627

我认为模板正在工作，但 Javadoc 格式设置导致了差异。见`Window -> Preferences -> Java -> Formatter`。单击`Edit`。在`Comments`选项卡下的`Javadoc comment settings`组中，取消选中`/** and */ on separate lines`。您是否有任何特殊原因要偏离[Sun 代码约定](http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141999.html#680)中的块注释示例？

# git - AWS Elastic Beanstalk [远程拒绝]（挂钩被拒绝）

> ID：12196134
> 
> 赞同：10
> 
> 时间：2012-08-30T11:43:53.037
> 
> 标签：git, amazon-web-services, amazon-elastic-beanstalk

遵循示例和教程，了解如何使用 AWS Elastic Beanstalk 启动和运行 PHP 应用程序，并在我尝试推送时遇到错误：

```
git aws.push
remote: 
remote: error: Internal Error
remote: 
To https://MYKEY:20120830T1133112489ce23684fb0061664e8de896cce922cf6d06981add734c00e356828847eb54@git.elasticbeanstalk.us-east-1.amazonaws.com/repos/4d7920466972737420256c6173746963204265616e7374616c6b204170706c69636174696f6e20456e7669726f6e6d656e6463/philsturgeon
 ! [remote rejected] HEAD -> master (hook declined)
error: failed to push some refs to 'https://MYKEY:20120830T1133112489ce23684fb0061664e8de896cce922cf6d06981add734c00e356828847eb54@git.elasticbeanstalk.us-east-1.amazonaws.com/repos/4d7920466972737420256c6173746963204265616e7374616c6b204170706c69636174696f6e20456e7669726f6e6d656e6463/philsturgeon' 
```

这是什么原因？谷歌似乎没有任何想法。我最初认为这是由于我的主机不匹配，因为您第二次运行 aws.config 它不会要求主机，但是在手动更改配置后`.git/config`仍然会给出相同的错误。

```
[aws "endpoint"]
        us-east-1 = git.elasticbeanstalk.us-east-1.amazonaws.com
        ap-northeast-1 = git.elasticbeanstalk.ap-northeast-1.amazonaws.com
        eu-west-1 = git.elasticbeanstalk.eu-west-1.amazonaws.com
        us-west-1 = git.elasticbeanstalk.us-west-1.amazonaws.com
        us-west-2 = git.elasticbeanstalk.us-west-2.amazonaws.com
[alias "aws"]
        push = !git aws.elasticbeanstalk.push $@
        config = !git aws.elasticbeanstalk.config $@
[aws]
        accesskey = MYKEY
        secretkey = MYSECRET
        region = us-east-1
[aws "elasticbeanstalk"]
        host = git.elasticbeanstalk.us-east-1.amazonaws.com
        application = My First Elastic Beanstalk Application
        environment = philsturgeon 
```

这个配置应该是正确的：

[http://d.pr/i/ehwv](http://d.pr/i/ehwv)

那么，这里是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-20T12:55:36.143

您可能超出了 Elastic Beanstalk 中 500 个应用程序版本的限制。您需要通过 Elastic Beanstalk 管理控制台的“版本”选项卡下删除旧的应用程序版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T20:28:24.357

这是在黑暗中拍摄的，但我看到的唯一奇怪的是应用程序名称，尝试一些没有空格的东西，而不是“我的第一个 Elastic Beanstalk 应用程序”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:53:07.890

我不认为这对你有任何影响，特别是。

这里有三个相关的错误消息。最外面的错误是：

```
error: failed to push some refs to ... 
```

这意味着，在您的推送操作中，至少有*一个*ref（通常表示“分支”）未能推送。由于您只是尝试在此操作中推送一个分支，因此有点多余。

下一个级别是 per-ref 错误，“为什么某某 ref 没有成功推送？”，消息是：

```
 ! [remote rejected] HEAD -> master (hook declined) 
```

所以，遥控器出于某种原因拒绝了它，原因是“钩子拒绝”。这意味着，一切进展顺利，但是当服务器端`post-receive`钩子触发以实际确定是否可以更新指向“master”的指针以告诉它使用您刚刚上传的数据时，关于钩子的一些事情说“不，这*不行*！”。钩子只是一个脚本，通常是 shell 脚本或 perl，但实际上它可以是任何可执行文件。它通过返回非零退出状态来表示失败。

那么，为什么它返回非零退出状态呢？这部分可能有点难以确定，因为钩子根本没有义务向客户端提供任何解释。如果它愿意，它可以通过在 stderr 上输出它想要的任何内容来通知客户端，这些消息将出现在客户端上，前缀为“remote:”。对我们来说幸运的是，这个特殊的钩子选择了这样做。不幸的是，它产生的实际错误消息是：

```
remote:
remote: error: Internal Error
remote: 
```

所以实际的错误信息，可能提供一些关于发生了什么的线索，似乎仅仅是“内部错误”，这通常意味着相当于“意外情况：这可能是一个错误，所以我会恐慌和现在中止”。我认为您需要联系亚马逊支持。

# saml-2.0 - 如何在 RightNow 框架中使用 SML2.0 实现单点登录？

> ID：12196139
> 
> 赞同：1
> 
> 时间：2012-08-30T11:44:08.540
> 
> 标签：saml-2.0, rightnow-crm

如何在 RightNow 框架中使用 SML2.0 实现单点登录？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T17:55:37.237

如果通过框架，您的意思是 RightNow Connect API，它们目前不支持 SAML 2.0 身份验证，这将在未来的版本中提供。

如果您希望将 SAML 令牌用于代理桌面或客户门户的 SSO，您可以在此处找到一些附加信息： [RightNow 单点登录](https://cx.rightnow.com/app/answers/detail/a_id/4288)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-30T02:33:37.927

自 2011 年 5 月发布 (11.5) 以来，RightNow 一直支持 SAML 2.0 的风格。无法调试，难以设置，并且您需要通过从身份提供者到 RightNow 的 POST 绑定使用带有主动断言的 SAML 设置，但是一旦一切都对齐，它就可以工作。

通过主动断言，我的意思是您不能尝试访问 RightNow 并自动定向到您的身份提供者。您必须从身份提供者开始，并从某种仪表板或直接访问 URL（取决于您的身份提供者）请求访问 RightNow（服务提供者）。

我最近的经验是使用 2013 年 2 月版本的 OIM/OAAM/OAM/OIM 的 Oracle 套件设置 SSO。这是一个痛苦，但我们得到了它的工作。

此外，最新版本的 RightNow（2013 年 11 月，13.11）能够将 RightNow 用作身份提供者。

# delphi - 如果客户端关闭异常，通知 Datasanap 服务器

> ID：12196141
> 
> 赞同：2
> 
> 时间：2012-08-30T11:44:18.400
> 
> 标签：delphi, delphi-2010

我正在使用 Delphi 2010 处理 HTTP DataSnap 项目。

如何通知服务器客户端关闭异常（例如Killing Proces）？

更多细节：我需要我的服务器知道是否有任何客户端断开连接，它可以，但是当任务管理器使用 Kill 进程关闭客户端时会出现问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T17:49:34.013

您没有*通知*服务器客户端崩溃。你通常不能，因为你没有什么可以通知它——你*与*服务器的唯一连接是客户端，而客户端已经崩溃了。

相反，您只能让服务器*检测*到客户端不再存在。有多种方法可以做到这一点。你可以定义一个keepalive信号，客户端应该定期发送，如果太长时间没有keepalive消息到达，服务器可以假设客户端已经消失。另一种方法是仅检测网络操作何时失败。如果服务器尝试从套接字读取，并且读取失败（例如“损坏的管道”或“对等方重置连接”），则服务器知道客户端不再存在。

# sql-server - 用于从表中获取行的 SQL Server 存储过程

> ID：12196146
> 
> 赞同：0
> 
> 时间：2012-08-30T11:44:41.570
> 
> 标签：sql-server, tsql, stored-procedures

我正在尝试创建一个存储过程来从我的数据库表中检索行......但看起来我在输入查询时遗漏了一些东西。

这是我的存储过程：

```
CREATE PROCEDURE [dbo].[p_GetLeaveRecord_LMS]
    -- Add the parameters for the stored procedure here
    @LeaveType varchar(50),
    @IdEmployee int,
    @DateFrom date,
    @DateTo date,
    @Reason nvarchar(MAX)
AS
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    SElECT * FROM cor_leave
    (
    id_leave_type,
    id_employee,
    dt_from,
    dt_to,
    txt_reason
    )
    Values 
    (
    @LeaveType,
    @IdEmployee,
    @DateFrom,
    @DateTo,
    @Reason
    )      
END 
```

如果有人可以给我更好的答案以使程序正确。

我是数据库的初学者。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T11:46:15.710

您的 select 语句不是有效的 SQL。它看起来更像是修改后的 INSERT 语句。

它应该是：

```
SELECT 
  id_leave_type,
  id_employee,
  dt_from,
  dt_to,
  txt_reason
FROM cor_leave 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T12:30:25.073

```
SELECT @LeaveType=id_leave_type, @IdEmployee`=id_employee,@DateFrom=dt_from,@DateTo=dt_to,@Reason=txt_reason FROM cor_leave 
```

# json - 用反斜杠解析 JSON 结构

> ID：12196148
> 
> 赞同：0
> 
> 时间：2012-08-30T11:44:45.297
> 
> 标签：json, primefaces

前端接收以下格式的 json 输出（双引号前带有反斜杠）。我们没有故意放退格键，但 Primefaces(JSF) 在将输出发送到前端时会这样做。如何使用 jquery 或 javascript 解析并将其保存在数组中？我们根本不希望 primefaces 添加反斜杠，如果我们可以从服务器端（Primefaces）做任何事情，请告诉我。我们可以使用 javascript 中的某些函数删除“\”，但是如果我们故意给它，它可能会删除任何反斜杠。例如，如果我发送像 \"foo\" 这样的双字符串

```
{"topicJSON":"{\"topicBody\":[\"Test10\",\"Test22\",\"Test4\",\"Test11\"]}"} 
```

服务器端

```
jGenerator.writeFieldName("topicBody");             jGenerator.writeStartArray();                  ...............             jGenerator.close();              context = RequestContext.getCurrentInstance();           
 context.addCallbackParam("topicJSON", out.toString()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:15:19.407

您可以使用`jQuery.parseJSON`

像这样

```
var newOne = jQuery.parseJSON(yourJsOldVariable);//yourJsOldVariable contains that string you posted 
```

# ios - 我怎么知道 UITableView 何时失去焦点？

> ID：12196150
> 
> 赞同：1
> 
> 时间：2012-08-30T11:44:49.633
> 
> 标签：ios

我有一个 UITableView，每行都有一个 UITextField。当用户触摸表格视图之外，取消选择文本字段时，我想调用一个方法。

但是，如果用户选择表的另一行，我不想调用这样的方法。

谢谢

** alloc_iNit 的代码**：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    CMTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[CMTableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    }

    [[cell textField] setTag:[indexPath row]];
    [[cell textField] setDelegate:self];

    NSString *tagName = [tagsDisplayName objectAtIndex:[indexPath row]];
    [[cell textField] setText:tagName];

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T13:00:34.297

需要考虑的是在 UITableView 后面的视图上使用 Tap Gesture 识别器。您可能必须使用 shouldReceiveTouch 事件（在[手势识别器和按钮操作](https://stackoverflow.com/questions/4825199/gesture-recognizer-and-button-actions)中详细说明）以防止点击手势识别器在您单击 UITableView 中的某个位置时触发。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:59:42.553

您必须在实际的 UITableView 本身上覆盖**hitTest:withEvent: 。**请记住，它控制响应者链，因此子视图将没有机会首先处理它，除非我们明确覆盖该行为

```
- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
  return [super hitTest:point withEvent:event];
}

```

**hitTest:withEvent:**负责告诉系统哪个视图被击中，默认情况下 UITableView 假定它自己（或它的一个单元格），所以你必须弄清楚用户是否触摸了位置，如果用户触摸了 tableview 之外的所以返回取而代之的是那种观点。

修改代码：

```
- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
    NSLog(@"hitTest");
    UIView *subview = [super hitTest:point withEvent:event];
    if (event.type == UIEventTypeTouches)
    {        
        // 接触
        NSSet *touches = [事件 allTouches];

        NSLog(@"subview: %@", subview);
        NSLog(@"touches: %@", touches);
    }
}

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:11:12.247

第一个建议：

我相信该系统会在这方面为您提供帮助，因为它对我没有帮助（我不得不解决它）。如果您有两个文本字段，并且您打开了一个，然后点击另一个，则第二个得到

```
textFieldDidShouldBeginEditing: 
```

在发送原始文件之前：

```
textFieldDidEndEditing: // or textFieldShouldEndEditing 
```

向您的项目添加几条日志消息以验证这一点，如果不是，则可能是其他消息。一年前，由于明显的混乱，我遇到了问题。

```
2012-08-30 09:22:40.528 Searcher[22053:f803] SHOULD BEGIN // first tap on first textField
2012-08-30 09:22:40.534 Searcher[22053:f803] BEGIN
2012-08-30 09:22:42.168 Searcher[22053:f803] SHOULD BEGIN // second tap on second TF
2012-08-30 09:22:42.168 Searcher[22053:f803] SHOULD END
2012-08-30 09:22:42.170 Searcher[22053:f803] END 
```

第二个建议：

用户可以在任何地方点击视图，但如果他们点击相同的文本字段（以获取复制/粘贴），您不想关闭。

*   创建一个新的 ivar，当它获得“textFieldDidShouldBeginEditing”时存储 textField：

    __block UITextField *currTextField;

*   在检测触摸事件的视图（不包括键盘）上放置一个透明视图

*   当透明视图看到触摸事件时，如果没有设置 textField 或触摸在原始 touchView 内，则什么也不做

*   如果触摸在其他任何地方，并且有一个 currentTextField，则转发该事件，然后向 mainQueue 分派一个块，如下所示：

    UITextField *lastTextField = currTextField; dispatch_async(dispatch_get_main_queue(), ^{ if(currTextField && currTextField == lastTextField) { [currTextField resignFirstResponder]; // 触摸到 textField 之外，但没有新的 } } );

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T13:12:07.040

```
-(void)textFieldDidBeginEditing:(UITextField *)textField
{   
    if(activeTextField) //declare it in .h file
        [self textFieldDidEndEditing:activeTextField];

    activeTextField = textField;

    CGRect textViewRect = [tableView convertRect:activeTextField.bounds fromView:activeTextField];

    [tableView scrollRectToVisible:textViewRect animated:NO]; //if u want to add scroll to that cell
} 

- (void)textFieldDidEndEditing:(UITextField *)textField
{
    activeTextField = nil;
} 
```

然后你可以使用 touchesBegan

```
-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    [activeTextField resignFirstResponder];
} 
```

希望这个有帮助。快乐编码:)

# apache-flex - flex：如何在全屏中删除播放控件？

> ID：12196152
> 
> 赞同：0
> 
> 时间：2012-08-30T11:44:51.307
> 
> 标签：apache-flex, flex4

我有 as:VideoPlayer in flex4 我可以删除 playerControls: video1.playerControls.visible=false

但我想在全屏中删除它们：

我试过：

```
 protected function fullScreenHandler(event:FullScreenEvent):void {
        trace("fullscreen="+event.fullScreen);
        video1.playerControls.visible = false;//                
    } 
```

没有效果 ！事实上，一旦进入全屏模式，我似乎根本无法控制播放器：例如：我的水印徽标不再可见，我无法使按钮不可见。

有什么线索吗？

问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:35:29.447

正如[spark.components.VideoPlayer 的文档所说，这里](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/spark/components/VideoPlayer.html#SkinPartSummary) `VideoPlayer.playerControls`是皮肤部分。皮肤部分的`playerControls`目的是确定当您在全屏时不以任何方式与视频播放器交互时，哪些控件会淡出。所以玩家的行为就像几乎所有玩家一样：如果用户什么都不做，它会隐藏控件。

也许这就是您尝试（重新）实施的行为。但是，如果您想在播放器切换到全屏时完全不显示任何内容，您应该为视频播放器创建一个新的 Spark 皮肤。通常像你一样直接改变皮肤部分是没有意义的。

要在 Flash Builder 中为播放器创建新皮肤，您可以转到*File > New > MXML-Skin*。然后选择 VideoPlayer 类作为所谓的*主机组件*，并为您的新皮肤命名。默认情况下，Flash Builder 将标准皮肤类的内容复制到您的自定义皮肤中，因此将获得一个工作皮肤。

如果您不使用 Flash Builder，您可以转到 Flex SDK 安装文件夹***/frameworks/projects/spark/src/spark/skins/spark/***中的以下目录并打开***VideoPlayerSkin.mxml***文件。将整个内容复制到您自己的皮肤类并开始修改它。

当您为更改设置皮肤时，您还需要告诉玩家使用您的皮肤。这可以通过添加一些 CSS 信息来完成：

```
s|VideoPlayer
{
    skinClass: ClassReference("com.company.skins.MyVideoPlayerSkin");
} 
```

现在你可以通过修改`playerControls`皮肤部分来改变你的皮肤。它位于皮肤的 MXML 文件中间的某个位置（在 SDK 版本 4.5.1 中位于第 131 行）。`playerControls`要全屏隐藏元素，请添加`visible.fullScreenStates="false"`其属性。这应该可以解决您的问题。

# objective-c - Mac OS 上命令行程序中的定位服务

> ID：12196156
> 
> 赞同：5
> 
> 时间：2012-08-30T11:44:58.340
> 
> 标签：objective-c, macos, cllocationmanager, launchd

我编写了一个简单的程序，它使用 Cocoa 位置服务来获取用户的当前位置。它在 MacBook Pro 上运行没有问题。但是，它不适用于 MacBook Air。

我留下了一个`Operation could not be completed. (kCLErrorDomain error 1.)`代码，我已经尝试过很多事情来修复它（例如设置权限）。在隐私设置中勾选应用程序的复选框以启用应用程序的位置服务后，它会在我启动应用程序后立即消失。

为了初始化服务，我使用`startUpdatingLocation`CLLocationManager 类的方法。

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T20:01:21.540

答案是微不足道的 - 我忘记设置由 /Library/LaunchDaemons/ 中的 plist 文件运行的可执行文件的权限。一个简单的 chmod 007 解决了这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-01T22:05:34.300

[kCLErrorDomain 错误 1](https://developer.apple.com/library/mac/#documentation/CoreLocation/Reference/CoreLocationConstantsRef/Reference/reference.html#//apple_ref/c/econst/kCLErrorDenied)​​表示您已被拒绝访问位置服务。最有可能的是，它们已被禁用。请参阅[禁用定位服务](http://support.apple.com/kb/HT4239#)。如果您转到系统偏好设置 -> 安全 -> 隐私，有一个启用位置服务框，您可以勾选。此外，类方法 authorizationStatus 返回您当前访问位置服务的状态。它的状态定义为以下枚举：

```
typedef enum {
   kCLAuthorizationStatusNotDetermined = 0, //user hasn't allowed/denied
   kCLAuthorizationStatusRestricted, //app level restriction, cannot be lifted by user
   kCLAuthorizationStatusDenied, //explicit user denial, or disabled in settings
   kCLAuthorizationStatusAuthorized //self explanitory
} CLAuthorizationStatus; 
```

希望能以某种方式帮助你。除此之外，我唯一的建议是，因为我自己没有使用过定位服务，所以你通读文档并希望能找到有用的东西。

# android - 在 Android 地图上处理大型叠加项目的最佳实践

> ID：12196158
> 
> 赞同：2
> 
> 时间：2012-08-30T11:44:58.753
> 
> 标签：android, maps, android-maps

我有一种情况，我需要告诉用户附近的 ATM 机在哪里。问题是如果银行有 10000 台 ATM。

当我使用地图进行网络编程时，我通常只在可见区域加载 ATM。当用户进行平移或缩小时，我请求后端服务器提供更多的 ATM 并重新绘制所有覆盖项。但我认为我们不能在移动设备上使用这种技术。

如果我使用[https://developers.google.com/maps/documentation/android/hello-mapview](https://developers.google.com/maps/documentation/android/hello-mapview)的技术，我会受到性能影响。

处理这个问题的最佳方法是什么？我们知道有一些担忧：

1.  加载所有 ATM 会消耗大量内存。
2.  当用户进行平移时，在可见区域加载 ATM 可能会占用大量数据连接。（我也不知道如何获得可见的坐标边框）

我做了一些实验。加载 1000 个覆盖项目 (ATM) (1000 x itemizedOverlay.addOverlayItem(anAtm); 和 1 x populate()) 花费了 5 秒。

这样做有什么最佳做法吗？我真的希望谷歌能给开发者最好的实践。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:03:30.897

您可以过滤服务器发回的ATM列表，将靠近的ATM分组为唯一点，从而实现搜索结果显示的比例依赖性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-30T21:46:54.323

你没有发布你的代码，所以我不知道你是否遵循我认为最好的方法：

1-创建 itemizedOverlay

2-将所有项目（ATM）添加到 itemizedOverlay

3-调用填充（）

4-毕竟，您应该将 itemizedOverlay 添加到 mapview.getoverlays()

如果您的内存中已经有 10000 ATM，那么执行前面的步骤应该几乎是瞬时的。移动或缩放地图时可能需要一些时间来重新绘制屏幕，​​并显示所有这些标记。

如果您从数据库中获取 ATM，那么我建议使用 AsynkTask 来避免收到 ANR 消息。

祝你好运。

# java - 将 e.printStackTrace() 转换为使用 log4j

> ID：12196159
> 
> 赞同：7
> 
> 时间：2012-08-30T11:45:01.217
> 
> 标签：java, log4j

我对 log4j 很陌生。我不想在我的日志文件中显示异常堆栈跟踪，例如

```
java.lang.IllegalArgumentException: nodeRef is a mandatory parameter
at org.alfresco.util.ParameterCheck.mandatory(ParameterCheck.java:42) 
```

`e.printStackTrace()`这些异常通过使用直接写入控制台

```
try {
    // something
} catch(Exception e) {
    StringWriter stack = new StringWriter();
    e.printStackTrace(new PrintWriter(stack));
    logger.debug("Caught exception; decorating with appropriate status template : " + stack.toString());
} 
```

我现在正在**定制一个开源**项目，而不是自己编写所有程序。所以不可能`e.printStackTrace();`在所有的java文件中删除。

据我所知，`log4j`使用 logger 打印的日志可以通过使用 log4j 错误级别来配置，例如 info、debug、warn。但是直接写入控制台或文件怎么样？

**如何配置 log4j 不只打印异常堆栈跟踪但显示其他信息？有没有办法解决它？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-30T11:52:38.707

使用记录器#error

```
import org.apache.log4j.Logger;

...

Logger log = Logger.getLogger(Locomotive.class);
log.error("your message", exc);

... 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-30T11:57:41.433

编码

```
StringWriter stack = new StringWriter();
e.printStackTrace(new PrintWriter(stack));
logger.debug("Caught exception; decorating with appropriate status template : " + stack.toString()); 
```

只是 Log4j API 明显错误使用的一个例子。`debug`但是，如果你坚持下去，除了将日志级别提高到上面并省略整个消息之外，你将无能为力。

可能**有**一种方法可以*截断*所有日志消息，这会在一定程度上缓解您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:01:47.670

```
logger.info("Inside add() of Abc class");
logger.error("Error occurred while calculation::::"+errorMessage); 
```

# node.js - Node.JS fs.rename 不起作用

> ID：12196163
> 
> 赞同：7
> 
> 时间：2012-08-30T11:45:14.940
> 
> 标签：node.js, file-io, debian

使用 fs.rename 或 fs.renameSync 无法在 Debian Wheezy 上重命名文件。

这只发生在从 /tmp/ 移动到另一个位置的文件中。

报错为：EXDEV，不允许跨设备链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-01T09:21:01.187

这是另一个适合我的解决方案：

```
var fs = require("fs"),
util = require('util');
...
//fs.renameSync(files.upload.path, "/tmp/test.png");

var readStream = fs.createReadStream(files.upload.path)
var writeStream = fs.createWriteStream("/tmp/test.png");

util.pump(readStream, writeStream, function() {
    fs.unlinkSync(files.upload.path);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:45:14.940

Debian Wheezy 默认使用 tmpfs 作为 /tmp 文件夹。

这可以通过修改 /etc/default/rcS 来关闭。

```
RAMTMP=yes 
```

必须设置为

```
RAMTMP=no 
```

# php - DateTime 未将字符串解析为日期

> ID：12196167
> 
> 赞同：0
> 
> 时间：2012-08-30T11:45:29.303
> 
> 标签：php, sugarcrm

我正在使用 DateTime 构造函数来构造日期，但它没有解析，我的代码如下

```
 $current=$timeDate->nowDate(); 

//$timeDate->nowDate() is sugarCRM function returns date and in next line i fetched variables $y, $m, $d successfully 

  list($y, $m, $d) = explode("/", $current);
  $expiredate = new DateTime($y.'-'.$m.'-'.$d); 
```

在异常中捕获以下错误

```
DateTime::__construct() [datetime.--construct]: Failed to parse time string (08-30-2012) at position 0 (0): Unexpected character 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T11:50:21.877

变量（$y，$m，$d）的顺序似乎是关闭的，你应该写

```
list($m, $d, $y) = explode("/", $current); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:04:44.500

如果您正在寻找更直接的方法，您可以使用：

```
$current = new DateTime('now');
$expiredate = $current->format('Y-m-d'); 
```

# algorithm - 在数组中排列运算符，使总和等于给定结果

> ID：12196168
> 
> 赞同：2
> 
> 时间：2012-08-30T11:45:30.757
> 
> 标签：algorithm, recursion, dynamic-programming

给定一个数组 A，假设`{5, 5, 4, 3, 7}`，使用操作`{*, /, + -}`并`5, 5, 4, 3`得到结果为`7`。如果可能，请打印答案。如果不是，`return 0`.

`Answer : 5 * 5 - 4 / 3 = 7`.

我使用递归、蛮力、检查所有案例解决了这个问题。

我的代码：

```
void check_result(int* arr, int size, char* op, int depth, int result, int val)
{
    if(depth==size)
    {
        if(val==result)
        {
             // call function to print pattern of op[]
        }
        return ;
    }
    else
    {
        op[depth]='+';
        check_result( arr+1, size, op, depth+1, result, val + *arr );

        op[depth]='-';
        check_result( arr+1, size, op, depth+1, result, val - *arr );

        op[depth]='*';
        check_result( arr+1, size, op, depth+1, result, val * (*arr) );

        op[depth]='/';
        if( *arr )
            check_result( arr+1, size, op, depth+1, result, val / (*arr) );
    }
} 
```

你能告诉我这个问题的动态方法吗，因为这需要`O(4^n)`时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:50:28.880

状态应该是`DP[position][currentValue]`。这意味着如果您在相应`position`且拥有`currentValue`.

```
boolean rec(int position, int currentValue)
{
   if (position == lastPosition)
   {
      return currentValue == neededResult;
   } 

   if (computed[position][currentValue]) return DP[position][currentValue]; 

   boolean can = false; 
   int nextNumber = numbers[position + 1];

   //Try every operation here and call rec again
   can |= rec(position + 1, currentValue + nextNumber);
   can |= rec(position + 1, currentValue - nextNumber);
   can |= rec(position + 1, currentValue * nextNumber);
   can |= rec(position + 1, currentValue / nextNumber);

   DP[position][currentValue] = can;
   computed[position][currentValue] = true;
   return can;
} 
```

然后，您可以用另一种方法恢复结果：

```
 void restore(int position, int currentValue)
    {
       if (position == lastPosition) return;

       if (DP[position + 1][currentValue + nextNumber]) 
       { 
          cout << " + ";          
          restore(position + 1, currentValue + nextNumber);
       }
       else
       if (DP[position + 1][currentValue - nextNumber]) 
       { 
          cout << " - ";          
          restore(position + 1, currentValue - nextNumber);
       }
       else
       if (DP[position + 1][currentValue * nextNumber]) 
       { 
          cout << " * ";          
          restore(position + 1, currentValue * nextNumber);
       }
       else
       if (DP[position + 1][currentValue / nextNumber]) 
       { 
          cout << " / ";          
          restore(position + 1, currentValue / nextNumber);
       }
    } 
```

PS 这只是伪代码。可能存在错误和遗漏的极端情况。

# php - 带TM的PHP编码程序

> ID：12196173
> 
> 赞同：0
> 
> 时间：2012-08-30T11:45:47.467
> 
> 标签：php, urlencode

所以在PHP中我试图打开一个URL；

```
$raw = file_get_contents($inlink); 
```

然后我正在研究结果。$inlin 来自 $_GET 变量。这适用于大多数 URL，但是当 URL 包含 TM (™) 符号时我遇到一个问题，因为我收到 404 错误。

有问题的URL 是[http://www.boots.com/en/Soap-Glory-Flake-Away-™-Body-Scrub-300ml_27894/](http://www.boots.com/en/Soap-Glory-Flake-Away-)

所以这似乎是一个编码问题。所以我尝试了urlencode，但这没有帮助。我也试过从firefox的地址栏复制过去，这样我就输入了

```
http://www.boots.com/en/Soap-Glory-Flake-Away-%E2%84%A2-Body-Scrub-300ml_27894/ 
```

相反，但这也无济于事。

通过调试和回显到屏幕，我最终得到了

```
http://www.boots.com/en/Soap-Glory-Flake-Away-â„¢-Body-Scrub-300ml_27894/ 
```

或者

```
http%3A%2F%2Fwww.boots.com%2Fen%2FSoap-Glory-Flake-Away-%E2%84%A2-Body-Scrub-300ml_27894%2F 
```

正在提交，这两个都不起作用。

奇怪的是，如果我在程序中对链接进行硬编码，那么它就可以工作！

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:53:58.683

您需要`utf8_encode`URL（我假设它来自 ISO-8859-1(5)/Latin1）

另外，我假设您在运行之前正在 utf8_decoding 和验证 URL `file_get_contents()`- 您不希望用户让*您的系统*从 Internet 上的任何地方请求任意 URL。

# scala - Scala：类型类的层次结构和隐式解析

> ID：12196177
> 
> 赞同：0
> 
> 时间：2012-08-30T11:46:02.643
> 
> 标签：scala, typeclass, implicit, context-bound

假设我试图表示布尔逻辑的域（暂时忽略归约）。因此，我将在我的商店中拥有 Bools 或 Ands 和 Ors 或 Nots 等实例。然而，虽然我会对这些东西有具体的表示，但在许多情况下，我所关心的是某些东西可以，比如说，是被视为一个布尔值，或两个布尔值的组合（这在这里不太有意义，但更大的例子是某种异构数据存储，我可能会在其中请求所有可能有颜色的东西）。有多个潜在的层次结构，所以子类化并没有真正削减它，而且由于我想避免显式转换，类型类似乎是要走的路。所以我有这样的事情：

```
trait Delegated[-B, +A] {
  def bind(b : B) : A
}

trait Thing[A <: Thing[A]] {
  type Class[B] = Delegated[B,A]
}

trait BoolLike extends Thing[BoolLike] {
  def value : Boolean
}
class Bool(val value : Boolean) extends BoolLike 
```

然而，现在，为了避免重复自己，我想指定，对于任何`Thing`，子类都将满足`Thing#Class`。所以我的尝试如下：

```
implicit def SubclassIsClass[A <: Thing[A], B <: A] : A#Class[B] = new A#Class[B] { 
  def bind(b : B) = b
} 
```

但是，如果我这样做

```
implicitly[BoolLike#Class[Bool]] 
```

我没有得到任何证据，但我可以很高兴地致电`SubclassIsClass[BoolLike, Bool]`并获得合适的代表。这应该是隐含的推断吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:10:37.617

解决了 - 如果我改变

```
trait Delegated[-B, +A] 
```

至

```
trait Delegated[B,A] 
```

然后这行得通。鉴于注释是从不同的做事方式遗留下来的，这似乎是一个很好的解决方案。

# asp.net-mvc - 除了将用户的浏览器定向到目标 url 之外，如何使页面上的所有链接触发操作？

> ID：12196182
> 
> 赞同：0
> 
> 时间：2012-08-30T11:46:20.963
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

`notifications`我有一个应用程序可以在应用程序中发生各种事情时创建用户。

每个都`notification`包含一个`link`在创建时生成的`notification`，将用户引导到`notification`打算引起注意的应用程序部分。

这`link`可以是网站上的任何地方。

**创建后， a`notification`被标记为`unread = true`，当用户单击`link`我想将用户带到正确的位置时，还会触发将设置为 的`notification`操作`unread = false`。**

我怎样才能做到这一点？有没有一种方法可以过滤页面上的所有链接，首先将其重定向到将通知设置为`unread = false`然后将它们带到 url 的操作？我不确定从哪里开始。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T11:50:44.250

在链接的 onclick 中执行 Ajax 调用

```
$("a").click(function(){
  $.ajax({
     url: "url_to_make_notification_read",
     data: notification_id;
  });
}); 
```

**编辑：另一种解决方案（也许更好）**

或者，您可能根本不需要额外的 Ajax 调用。如果我正确理解了您的问题，我相信您会采取以下措施：

```
public ActionResult VisitNotification(int notificationId){
     // Do things
     return View("whatever");
} 
```

只需将其更改为

```
public ActionResult VisitNotification(int notificationId){
     // Do things
     var notification = Repository.GetNotification(notificationId);
     notification.unread = false;
     Repository.Save();
     return View("whatever");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T20:35:53.857

或者您可能会过时并使用@Html.ActionLink 生成指向您选择的控制器操作的链接，并在该方法中设置您的值并返回用户应该最终到达的视图。

# python - 如何使用 Portable Python 和 Movable Python 安装 pyInstaller

> ID：12196184
> 
> 赞同：1
> 
> 时间：2012-08-30T11:46:25.270
> 
> 标签：python, portability, pyinstaller, movable

Portable Python 和 Movable Python 允许在不安装任何东西的情况下对 Python 进行编程，只需解包即可。:-)

我还希望能够从我的脚本创建独立的可执行文件，但是我无法将 pyInstaller 绑定到这些包，因为 pyInstaller 需要 pyWin32，但 pyWin32 依赖于 python 注册表签名，而我没有它们，因为我正在使用python的便携版！任何解决方法？

通过解压 pywin32 可执行文件（pywin32-217.win32-py2.7.exe），我得到两个文件夹，PLATLIB 和 SCRIPTS；也许只需将这些文件夹移动到正确的 Python Portable 子文件夹就足够了吗？

我在用着：

*   视窗
*   PortablePython_2.7.3.1（便携式Python）
*   movpy-2.0.0-py2.5.1（可移动 Python）
*   pyinstaller-pyinstaller-v2.0-107-gecb2882 (PyInstaller)
*   pywin32-217.win32-py2.7 (PyWin32)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-24T07:34:37.180

显然它可以通过更改导入顺序来修复。从[pyinstaller 站点](http://www.pyinstaller.org/ticket/561)：

```
In order to make pywin32 works with portable python pywintypes must be loaded before
any win32 library ....... Swapping the two lines "import win32api" and "import
pywintypes" in bindepend.py (line 44 and 45 on commit 0837e8a....) fixes the issue. 
```

它为我解决了同样的问题。

# java - JAVA - 初学者 - 可以在类之外访问私有类属性吗？

> ID：12196185
> 
> 赞同：2
> 
> 时间：2012-08-30T11:46:27.627
> 
> 标签：java, private-class

我对 Java OO 编程比较陌生，并且已经查看了与此类似的问题，尽管它们似乎没有直接回答我的问题。

基本上，我知道如果一个类中的数据成员被声明为**private**，那么它只能从同一个类中访问。

我的讲师总是建议应将所有属性声明为私有属性——*这是为什么呢？*

现在我熟悉使用 GET 方法，我的问题是，**可以通过从另一个类调用 PUBLIC 'get' 方法（返回上述属性）在它自己的类之外访问私有属性吗？**

例如：

```
public class Class()
{

    private int number = 0;

    public Class()
    {
    }

    public int getNumber()
    {
        return number;
    }

} 
```

然后从另一个班级：

```
public class Class2()
{

    Class class = new Class();

    public void showNumber()
    {
        System.out.print(class.getNumber());
    }
} 
```

第二个代码块是否允许 Class2 内的**showInt()**中的方法实际访问 Class 的私有属性？

我想我真的很难决定是否应该将任何属性或方法声明为**公共**的或**私有**的。

是否应该遵循任何特定的经验法则？

感谢响应者的任何帮助。

亲切的问候

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T11:48:39.093

> 我的讲师总是建议所有属性都应该声明为私有的。

好建议。这条规则有例外，但我会从这个开始。

> 我知道如果一个类中的数据成员被声明为私有，那么它只能从同一个类中访问。

它可以访问

*   嵌套类在同一个文件中。
*   通过反射访问。

> 第二个代码块是否允许 Class2 内的 showInt() 中的方法实际访问 Class 的私有属性？

在这种情况下实际上是的。通过使用 getter，字段可以更改名称、被常量或计算替换或被记录，而 Class2 不需要知道。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T11:52:34.450

关键是公共`get`方法只返回您的私有成员的**当前值**，而不授予对成员本身的访问权限。这意味着您无法以某种方式“获取”该成员并更改其值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T11:47:59.820

是的，如果您创建一个公共访问器，您可以访问私有字段。

关键是要隐藏实现，以便作为实现者，您可以稍后决定使用另一种类型的字段（或间接，或动态计算），而不会强迫您的类的用户更改他们的代码。

它还允许您在不提供任何 setter 的情况下提供 getter（然后您的字段只能从类外部读取）。

许多事情不会在您的代码中编译：

*   添加括号以调用方法（getInt）
*   类是保留字
*   一个类不能被称为 Class 并且没有像你一样声明

我建议您在提问之前在编辑器（例如 Eclipse）中编写编译代码。这项任务可能会帮助您至少了解部分问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T11:49:28.710

是的。

您将不得不调用该方法（并且不能`class`用作类名）：

```
public class Class2()
{

    Class myClass = new Class();

    public void showInt()
    {
        System.out.print(myClass.getInt());
    }
} 
```

发生的情况是您无法访问私有成员，但您会收到该值的副本。在这种情况下，您访问的是方法 getInt()，而不是属性。如果您尝试访问该属性：

```
public class Class2()
{

    Class myClass = new Class();

    public void showInt()
    {
        System.out.print(myClass.x);
    }
} 
```

你不会被授予访问权限。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-30T11:49:44.950

简短的回答：没有。

将所有内容设为私有的一般原因是确保您班级的用户不能以他们不应该的方式修改内容。

您*可以*做的是定义 getter 和 setter 方法。通常最好只暴露吸气剂，例如

```
private int foo;

public int getFoo(){
  return foo;
} 
```

这样，人们可以*看到* `foo`但不能改变它。

# python - Python 使用带有 lxml.objectify 的 XML API 输出

> ID：12196187
> 
> 赞同：1
> 
> 时间：2012-08-30T11:46:29.903
> 
> 标签：python, api, lxml, objectify

我有几个类使用一个内部子系统的 API。我们使用 lxml.objectify 解析并使用它的响应来通过 object.property 语法的节点。

但问题是代码变得非常混乱和非pythonic，因为在某些情况下，如果对象的某些属性不存在，API 只是不返回与该属性和子属性相关的整个 xml 节点。

这导致代码如下：

```
if hasattr(object,"property"):
    if hasattr(object.property,"subproperty"):
        etc... 
```

有没有任何pythonic方式来做这样的事情？或者只是一些好的做法。在访问它之前检查每个属性是否存在变得令人头疼，也许可以只返回 None 以防万一它不存在？

# python - 使用 Python 反向查找 IP

> ID：12196190
> 
> 赞同：0
> 
> 时间：2012-08-30T11:46:51.197
> 
> 标签：python

如何查找托管在 IP 地址上的所有主机？我已经检查了 Bing 的 API，但我认为他们不再提供免费的 API 密钥来使用 IP 地址进行查询。搜索前 2-3 页后，Google 可能会阻止。我也在看[shodanhq api](http://docs.shodanhq.com/python/reference.html)，但我认为 shodan 不支持反向查找！

我在 Windows 上使用 python 2.7。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:36:00.847

可能这个脚本适合你：

```
import urllib2
import socket
import sys
import re

class reverseip(object):

            def __init__(self, server='http://www.ip-adress.com/reverse_ip/'):
                t= """ Tool made by: LeXeL lexelEZ[at]gmail[dot]com """
                print t

                try:
                    self.site = raw_input("Enter site to start scan: ")
                    self.fileout = raw_input("Enter logfile name: ")
                except KeyboardInterrupt:
                    print "\n\nError: Aborted"
                    sys.exit(1)

                self.server = server
                self.ua = "Mozilla/5.0 (compatible; Konqueror/3.5.8; Linux)"
                self.h = {"User-Agent": self.ua}

                self.write = True
                try:
                    outp = open(self.fileout, "w+")
                    outp.write(t)
                    outp.close()
                except IOError:
                    print '\n Failed to write to %s' % (self.fileout)
                    print '\n Continuing without writing'
                    self.write = False

            def url(self):
                r = urllib2.Request('%s%s' % (self.server, self.site), headers=self.h)
                f = urllib2.urlopen(r)
                self.source = f.read()
            def getip(self):
                try:
                    ip = socket.gethostbyname(self.site)
                except IOError, e:
                    print "Error: %s " %(e)
                else:      
                    print "\t\nScanning ip %s \n\n" %(ip)
            def whoami(self):
                found = re.findall("href=\"/whois/\S+\">Whois</a>]",self.source)
                for i in found:
                    i = i.replace("href=\"/whois/","")
                    i = i.replace("\">Whois</a>]","")
                    print "\t%s " % (i)
                    if self.write:
                        try:
                            outp = open(self.fileout, "a")
                            outp.write('%s\n' % (i))
                            outp.close()
                        except IOError:
                                print '\n Failed to write'
                                sys.exit(1)

if __name__ == '__main__':
    p = reverseip()
    p.url()
    p.getip()
    p.whoami() 
```

通过微小的修改，您可以获得您想要的......告诉我你的想法，如果我能提供更多帮助，请告诉我......谢谢！

# android-intent - 如何在android中显示列表视图下方页面的点导航？

> ID：12196196
> 
> 赞同：2
> 
> 时间：2012-08-30T11:47:06.500
> 
> 标签：android-intent

朋友们，我需要你的帮助。实际上，我必须在列表视图下方显示页面的圆形导航。我有一个动态列表视图，我必须在一页中只显示 10 项列表视图。如果列表视图有超过 10 项，那么它将显示不。根据列表视图中的项目数的页面。假设我在列表视图中有 50 个项目，那么它将显示 5 个页面，列表视图下面将绘制 5 个圆圈。单击这些圆圈，您将从一个页面导航到另一个页面。我必须实现它。是否有人对此有想法，请帮助我。

我能够划分列表视图中的项目数。我正在通过下一个和上一个按钮进行导航。但现在我需要通过圆圈导航来显示这个。请帮助我。我想要这样查看。我必须删除上一个和下一个按钮。当前时间我正在做我的下一个上一个点击事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T06:20:30.043

为了实现它，您应该在此布局中采用相对布局，您在此布局的底部采用 Liner 布局。并在运行时添加圆圈图像。如果列表中有 50 个项目，则使用循环将其除以 10，您得到 5 运行循环 5 次，并在带有点击侦听器的 linerlayout 中添加具有不同 ID 的相同图像视图。喜欢它..

```
 for (int i = 0; i <   mResponseVector.size(); i++) {
                                LayoutInflater inflater = (LayoutInflater) QuestionDetailActivity.this
                                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                                View parent = (View) inflater.inflate(
                                        R.layout.answerlist_row, null);
                                ((TextView) parent.findViewById(R.id.ivAnswerFirstLine)).setText(Html.fromHtml(((SoapObject)mResponseVector.get(i)).getProperty("answer").toString()));
                                ((TextView) parent.findViewById(R.id.tvAnswerGiverName)).setText(Html.fromHtml(((SoapObject)mResponseVector.get(i)).getProperty("answerBy").toString())+" ");
                                ((TextView) parent.findViewById(R.id.ivAnswerTime)).setText(Html.fromHtml(((SoapObject)mResponseVector.get(i)).getProperty("cDate").toString()));

                                RelativeLayout mRelativeLayout = ((RelativeLayout) parent
                                        .findViewById(R.id.rlAnswerId));
                                mRelativeLayout.setId(i);
                                mRelativeLayout
                                        .setOnClickListener(new OnClickListener() {
                                            public void onClick(View v) {
                                                Intent intent = new Intent(QuestionDetailActivity.this,ShowAllAnswerActivity.class);
                                                intent.putExtra("listPosition",v.getId());
                                                startActivity(intent);

//                                              

    startActivity(new Intent(
    //                                                      QuestionDetailActivity.this,
    //                                                      ShowAllAnswerActivity.class));
                                                     Toast.makeText(QuestionDetailActivity.this,""+v.getId(),
                                                    Toast.LENGTH_LONG).show();
                                                }
                                            });
                                    layout.addView(parent);
                                } 
```

我希望这段代码对你有帮助。

# python - 是否可以将函数从 Python 2.5 添加到 2.4？

> ID：12196198
> 
> 赞同：1
> 
> 时间：2012-08-30T11:47:18.807
> 
> 标签：python, module

> **可能重复：**
> [Python 2.4.1 中不存在 datetime.datetime.strptime](https://stackoverflow.com/questions/5585706/datetime-datetime-strptime-not-present-in-python-2-4-1)

我有一台安装了 python 2.4 的机器，我正在编写脚本，并且想使用`strptime`from 的函数`datetime`，但是它不在 2.4 中，我如何在 2.4 上安装 2.5 版本`datetime`？

我知道我可以将机器升级到 python 2.5，但目前这是不可能的。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T11:56:46.753

并非总是如此，但请查看 Python 2.5 中模块的源代码。如果有问题的函数是用 Python 实现的，那么您很可能只需复制代码即可。

有两点需要注意：

1.  注意Python版权。如果您从一个模块复制代码，则该代码受[Python 的版权许可](http://docs.python.org/license.html)。

2.  编写测试用例以确保代码有效。添加一个测试用例，一旦原始代码可用，该测试用例就会失败，这样您就可以在将整个项目迁移到 Python 2.5 时清理代码。

您的具体问题在这里得到解答：[datetime.datetime.strptime not present in Python 2.4.1](https://stackoverflow.com/questions/5585706/datetime-datetime-strptime-not-present-in-python-2-4-1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T11:55:25.353

您可以为`strptime`. `strptime`函数`time`在 Python 2.4 的模块中可用。因此，如果您想`datetime.datetime.strptime`为 Python 2.4 实现功能，根据[文档](http://docs.python.org/library/datetime.html#strftime-and-strptime-behavior)，您可以进行以下操作：

```
datetime(*(time.strptime(date_string, format)[0:6])) 
```

这个表达式`datetime.datetime.strptime`在 Python 2.5 中是等价的。

# javascript - 登录后喜欢/发送按钮自行关闭

> ID：12196199
> 
> 赞同：0
> 
> 时间：2012-08-30T11:47:26.517
> 
> 标签：javascript, facebook-like

我正在尝试在此站点 www.urlc.be 上实现类似按钮。我有 SDK 和 app_id。

当我单击“喜欢”或“发送”按钮时，弹出窗口会立即打开和关闭，不会出错。

你能帮我让它工作吗

谢谢。

更新：代码

```
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '437569932948538', // App ID
      //channelUrl : 'http://www.urlc.be/static/channel.html', // Channel File
      status     : true, // check login status
      cookie     : true, // enable cookies to allow the server to access the session
      xfbml      : true  // parse XFBML
    });

    // Additional initialization code here
  };

  // Load the SDK Asynchronously
  (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all.js";
     ref.parentNode.insertBefore(js, ref);
   }(document));
</script> 
```

喜欢的页面

```
<fb:like send="true" href="http://www.urlc.be/myurl/" layout="button_count" width="450" show_faces="false"></fb:like> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T12:47:31.670

问题来自谷歌浏览器不接受来自 Facebook 的 cookie。

# android - AsyncTask get() 有时会冻结

> ID：12196227
> 
> 赞同：2
> 
> 时间：2012-08-30T11:49:09.557
> 
> 标签：android, android-asynctask

我有一个简单的类来处理 http 请求。因为自 Android 3.1 以来此任务需要在不同的线程中执行，所以我创建了以下线程阻塞类，女巫使用 get 等待请求完成。

第一次工作，但之后我总是超时或只是冻结应用程序。这是我的代码：

```
class MakeRequest extends AsyncTask<String,Integer,Void>
{

    @Override
    protected Void doInBackground(String... params) {
        DefaultHttpClient cli = new DefaultHttpClient();
        try {
            String url = params[0].replace(" ", "%20");
            HttpResponse resp = cli.execute(new HttpGet(url));
            BufferedReader read = new BufferedReader(new InputStreamReader(resp.getEntity().getContent()));
            String tmp = "",rezultat = "";
            setResult("");

            while ((tmp = read.readLine()) != null)
            {
                rezultat = rezultat + tmp;
            }
            setResult(rezultat);
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            setResult("");
            return null;
        }
        return null;
    }

}

static public String req(Context ctx,String url,boolean want_resp)
{

    if (isOnline(ctx))
    {
        HttpRequester cc = new HttpRequester();
        MakeRequest test = cc.new MakeRequest();
        test.execute(url);
        if (want_resp)
        {
            try {
                test.get(30000, TimeUnit.MILLISECONDS);
            }
            catch (Exception e)
            {
                return "FAIL";
            }
            return result;
        }
        else return "OK";
    }
    else 
        {
        Toast.makeText(ctx, "Internet connection required", Toast.LENGTH_SHORT).show();
        setResult("");
        return "";
        }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T11:54:44.010

Docs 本身提到，

> [公开最终结果获取（）](http://developer.android.com/reference/android/os/AsyncTask.html#get%28%29)
> 
> 如有必要，等待计算完成，然后检索其结果。

因此，此方法将阻止 UI，直到您的 AsyncTask 正在运行。您可以简单地更新`onPostExecute()`在 UI 线程上执行的 UI。

如果您有兴趣从 AsyncTask 返回一些值，您可以使用您自己的侦听器，它可能是 BroadCastReceiver 或 Interface。[这是我的github上的一个例子](https://github.com/lalit3686/AsyncTaskReturnValue)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T11:56:35.720

```
AsyncTask.get(long timeout, TimeUnit unit); 
```

如有必要，最多等待给定时间以完成计算，然后检索其结果。**所以它会阻止 UI**。

```
test.get(30000, TimeUnit.MILLISECONDS); 
```

**这将使您的主线程最多等待 AsyncTask 的结果 30000 毫秒。**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:00:17.530

您是否尝试过更常见的[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)方法？

我的意思是正如 Lalit 指出的那样，在适当的函数上得到结果：

在您的 doInBackground 上返回结果

```
return rezultat; 
```

并在您的 MakeRequest 的 onPostExecute 上处理它

```
 protected void onPostExecute(String result) {

 } 
```

不要忘记更改您的 AsyncTask 签名

```
class MakeRequest extends AsyncTask<String,Integer,String>{ 
```

# css - 背景大小：覆盖较小的 DIV

> ID：12196235
> 
> 赞同：1
> 
> 时间：2012-08-30T11:49:51.887
> 
> 标签：css, background-image, image-resizing

众所周知，`using background-size: cover`使背景图像在浏览器的视口上自动完美缩放。

虽然，如果我们将它应用到具有较小尺寸的 DIV（例如 100x100px）上，图像仍会缩放，而不是基于容器 DIV，而是基于整个浏览器的视口，从而导致仅显示图像的一部分。

是否有任何解决方法，而不考虑`background-size: 100% 100%`，这并不能通过保持比例来真正扩展它？

在`background-size: cover`不使用 JS 或任何服务器端修改的情况下进行简单的调整大小非常有用。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T11:52:29.550

我很确定你想要的是什么`background-size: contain`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T14:00:54.713

评论的副本，以便海报可以接受：

尝试不使用固定的:) [jsfiddle.net/vnMeK](http://jsfiddle.net/vnMeK)

请注意，并非所有浏览器都支持此功能，IE 有一个半工作过滤器。

# java - Java“Jackson”JsonMappingException：无法反序列化从 FIELD_NAME 令牌中浮出的实例

> ID：12196244
> 
> 赞同：6
> 
> 时间：2012-08-30T11:50:41.407
> 
> 标签：java, json, jackson

与这个类：

```
public class Products implements Serializable {
    private BigDecimal productId;
    private float priority;

    public float getPriority() {
        return priority;
    }

    public void setPriority(float priority) {
        this.priority = priority;
    }
} 
```

在对此类 JSON 数据进行反序列化时：

```
{"productId":47552,"priority":78} 
```

得到这个错误：

```
org.codehaus.jackson.map.JsonMappingException: 
Can not deserialize instance of float out of FIELD_NAME token
 at [Source: org.apache.catalina.connector.CoyoteInputStream@103cf49; line: 1, \
 column: 290] (through reference chain: entity.Products["priority"]) 
```

但是对于此数据（围绕优先级值的引号）

```
{"productId":47552,"priority":"78"} 
```

效果很好，所以杰克逊（1.9.9）似乎不尊重数值？我怀疑这里有问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-24T18:16:42.437

您将字段优先级声明为浮点类型，并尝试反序列化包含 int 值的 Json。Jackson 尝试调用一个接受整数值的 setter 函数。所以我们需要像这样添加一个setter。

```
public void setPriority(int priority){
    this.priority = Float.valueOf(priority);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:15:03.773

似乎您声明了优先级，并且 getter 和 setter 方法使用浮点数。你能检查一下吗

```
 public long getPriority() {
            return priority;
        }

        public void setPriority(long priority) {
            this.priority = priority;
        } 
```

# iphone - 找不到词法或预处理器问题“SDWebImage/UIImageView+WebCache.h”文件

> ID：12196253
> 
> 赞同：1
> 
> 时间：2012-08-30T11:51:15.453
> 
> 标签：iphone, ios, ios4

我在构建我的项目时没有问题，但是当我尝试存档它时，我收到以下错误

```
Lexical or preprocessor issue 'SDWebImage/UIImageView+WebCache.h' file not found 
```

仅当我尝试存档应用程序时才会发生此错误。

我正在使用 iOS5.1，请告诉我如何解决此问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T19:36:07.080

![在此处输入图像描述](../Images/c7cf071f16a2936dec21ed9ca6dac6e3.png)

您是否确保在调试和发布目标中都包含 SDWebImage 搜索路径？如果它只是在调试中，那将解释为什么它仅在您存档时不起作用。

图片来自 SDWebImage Github：

[https://github.com/rs/SDWebImage](https://github.com/rs/SDWebImage)

# javascript - 自动关闭或覆盖通过命令行打开的浏览器选项卡

> ID：12196254
> 
> 赞同：4
> 
> 时间：2012-08-30T11:51:18.527
> 
> 标签：javascript

我有一个生成 html 页面的 shell 脚本。然后使用简单的语法在网络浏览器中打开它

```
opera result.html 
```

但是，如果我多次运行此脚本，我会得到与运行一样多的选项卡/窗口。我试图将另一个包含打开“result.html”的脚本的页面加载到一个明确的目标窗口中，但是这个脚本页面不会使用 window.close() 或 self.close() 关闭 [大概是因为它不是由一个javascript ...]，所以它是重复的脚本页面...

有没有办法让网络浏览器使用命令行将文件打开到目标中，或者自动关闭通过命令行打开的窗口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:09:06.083

您使用的是哪个平台？对于 Unix，有一个`-activetab`可以使用的开关。

```
opera -activetab result.html 
```

请参阅[Opera 的命令行选项](http://www.opera.com/docs/switches/)页面，了解可能适用的不同平台开关。

# c++ - Visual Studio 2012 C++ 调试器未启动：加载符号

> ID：12196255
> 
> 赞同：0
> 
> 时间：2012-08-30T11:51:18.640
> 
> 标签：c++, visual-studio-2012

我已经解决了我之前的问题，通过卸载vs10并重新安装vs12我没有任何头文件。所以它现在编译，我可以运行该项目。

但是还有下一个问题：如果我通过运行调试器或只是点击（“播放按钮”）来启动我的可执行文件，我的 C++ 编译器会编译它，然后 vs12 开始加载符号。但我可以等待几个小时，它不会做任何事情。它告诉我它正在从我的调试输出文件夹中加载 uxtheme.dll 的符号。它还告诉我，如果我取消它将禁用自动符号加载。但是如果我取消它也不会发生任何事情，我必须重新启动 Visual Studio 2012。

那么有人知道我的问题是什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T11:58:28.450

也许您设置了 VS 以从 microsoft.com 加载系统库的调试符号？ `Tools->Options->Debugging->Symbols`

# parsing - 解析左递归语法

> ID：12196258
> 
> 赞同：2
> 
> 时间：2012-08-30T11:51:35.077
> 
> 标签：parsing, syntax, bnf

我想为一种已经离开递归但我不知道该怎么做的语言制作一个解析器。我唯一的解析经验是 ll(1)。

例如具有以下 bnf 定义

```
cqlQuery    ::=     prefixAssignment cqlQuery
| scopedClause
prefixAssignment    ::=     '>' prefix '=' uri
| '>' uri
scopedClause    ::=     scopedClause booleanGroup searchClause
| searchClause
booleanGroup    ::=     boolean [modifierList]
boolean     ::=     'and' | 'or' | 'not' | 'prox'
searchClause    ::=     '(' cqlQuery ')'
| index relation searchTerm
| searchTerm
relation    ::=     comparitor [modifierList]
comparitor  ::=     comparitorSymbol | namedComparitor
comparitorSymbol    ::=     '=' | '>' | '<' | '>=' | '<=' | '<>' | '=='
namedComparitor     ::=     identifier
modifierList    ::=     modifierList modifier | modifier
modifier    ::=     '/' modifierName [comparitorSymbol modifierValue]
prefix, uri, modifierName, modifierValue, searchTerm, index     ::=     term
term    ::=     identifier | 'and' | 'or' | 'not' | 'prox' | 'sortby'
identifier  ::=     charString1 | charString2 
```

我是否必须转换左递归或做其他事情来避免它？

请不要给我翻译者的链接，因为我想手动进行而不是使用程序进行解析。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T09:14:14.810

如果您看一下，`modifierList`它本质上至少需要一个修饰符。我们不需要做太多就可以摆脱左递归。

```
modifierList ::= modifier [ modifierList ] 
```

现在`scopedClause`有点棘手，但如果我们进行第二次制作，它就会成功。它总是需要至少一个`searchClause`并且可以有很多`booleanGroup searchClause`。

```
scopedClauseTail ::= booleanGroup searchClause [ scopedClauseTail ] 
scopedClause ::= searchClause [ scopedClauseTail ] 
```

# jquery - 如何停止不断的动画

> ID：12196260
> 
> 赞同：0
> 
> 时间：2012-08-30T11:51:47.997
> 
> 标签：jquery, animation, constants

请在这里查看我的代码：http: [//jsfiddle.net/FVcJz/7/](http://jsfiddle.net/FVcJz/7/)

当我们将鼠标悬停在文本上时，我们会看到一个动画。如果我们将鼠标悬停在文本上 5 次，则该框将动画 5 次。当第一个动画尚未完成时，如何设置防止 4 个剩余动画的代码？！我的意思是只有在上一次悬停动画没有进行时才有动画..所以，当我们在文本上悬停 5 次时，动画将只运行 1 次（如果 4 次悬停在动画结束之前）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:56:02.573

首先你的代码不工作所以这是正确的代码：[jsFiddle](http://jsfiddle.net/FVcJz/2/)

如果我在动画停止之前单击 n 次，则动画没有问题。你用的是哪个浏览器？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:02:12.350

如果动画已经在进行中，您可以使用 jquery ':animated' 选择器进行测试。

```
if (!$(".bb").is(':animated'))
{
  //no animation yet
  $(".bb").animate(...);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:38:00.990

你可以使用停止方法..

```
$(function () {

$(".tt").hover(function(){

    $(".bb").stop().animate({width:'150px'}, 500);  

},function() {

    $(".bb").stop().animate({width:'100px'}, 500);  

});     
}); 
```

​</p>

# iphone - 从 C 函数返回 NSString

> ID：12196265
> 
> 赞同：1
> 
> 时间：2012-08-30T11:51:58.513
> 
> 标签：iphone, objective-c, ios, xcode

在 iOS 开发中，是否可以`NSString`从函数中使用和返回它？

例如

```
(NSString * ) foo {
  return @"";

} 
```

这不是一个客观的c方法，只是函数

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T11:55:45.983

是的，因为objective-c 对象只是指针，您可以创建一个C 函数来返回一个：

```
NS_RETURNS_RETAINED NSString *myFunction() {
    return [[NSString alloc] init];
} 
```

注意使用`NS_RETURNS_RETAINED`. 这是对 ARC 和静态分析器的提示，该函数将保留值返回给接收者，并且释放它是他们的责任。

如果您要返回一个自动释放的值，请尝试使用`NS_RETURNS_NOT_RETAINED`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T11:53:36.353

是的，但语法不同：

```
NSString *foo()
{
    return @"bar";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T11:56:05.250

```
NSString *foo()
{
    const char* yourString = "bar";
    NSString* yourNSString = [NSString stringWithFormat:@"%s", yourString];

    return yourNSString;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T11:53:38.857

是的，为什么不？检查`NSStringFromRect()`和类似的参考。

# c# -   在 asp.net 服务器端代码中？

> ID：12196266
> 
> 赞同：6
> 
> 时间：2012-08-30T11:52:02.960
> 
> 标签：c#, asp.net

我有这个代码：

```
string s = "royi";
string val = "5"; 
```

我也有一个`label` `<asp:Label ..../>`

我想创建`s+" "+val`

但我想要那`" "`将是`&nbsp;`

我怎样才能在*服务器*端做到这一点？

这样做是向我显示`&nbsp`as 文本。（当然，因为我们正在处理 myLabel.Text包含文本*）*

我也试过：

```
HttpUtility.HtmlEncode(s + "&nbsp;" + val); 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-30T11:54:50.103

`&nbsp;`是与空格*不同*的字符 - 它是 Unicode 代码点`00A0`。参见[维基百科](http://en.wikipedia.org/wiki/Non-breaking_space)。

如果你使用那个字符，你应该得到一个不间断的空间。

# c++ - 在 C++ 中使用 char* 的特定字符串的子字符串

> ID：12196268
> 
> 赞同：1
> 
> 时间：2012-08-30T11:52:08.983
> 
> 标签：c++, string, char

我想编写一个返回字符串子字符串的函数。

```
f(what string, from which index, how many chars) 
```

我已经做到了，但使用字符串类，但我想使用 char*，但我不知道如何。您能否更正代码，使其使用 char* 而不是 string*？它在 C++ 中令人困惑。

```
 #include <iostream>
#include <string>
#include <cstdlib>
using namespace std;
//index - starting at, n- how many chars
string* subString(string s, int index, int n){
    string* newString = new string("");
    for(int i = index; i < s.length() && i < n + index; i++)
        *newString += s.at(i);
    return newString;
}

int main()
{   string s1 = "Alice has a cat";
    string* output = subString(s1, 2, 4);
    cout<<(*output)<<endl;
    system("pause");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:02:28.947

我可以纠正它使用`string`not `string*`：

```
string output(s1, 2, 4); 
```

或者，如果您想要一个功能符合您的规范：

```
string subString(string s, int index, int n) {
    return s.substr(index, n);
} 
```

使用`char*`会更尴尬，因为您需要手动分配和释放缓冲区以保留字符串。我建议您不要这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:05:10.397

```
#include <string.h>
char *subString(const char *s, int index, int n) {
    char *res = (char*)malloc(n + 1);
    if (res) {
        strncpy(res, s + index, n + 1);
    }
    return res;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:08:14.813

```
#include <iostream>
#include <stdio.h>

using namespace std;

//index - starting at, n- how many chars
char* subString(char *s, int index, int n){
    char *res = new char[n + 1];
    sprintf(res, "%.*s", n, s + index);
    return res;
}

int main()
{   
    char* s1 = "Alice has a cat";
    char* output = subString(s1, 2, 4);
    cout << output << endl;
    system("pause");
    delete[] output;
    return 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T11:56:10.780

我认为这就是你的做法。（尚未测试）。这会在失败时返回 null，但您可以轻松地将其修改为使用异常。

```
char* subString(string s, int index, int n){
    if (s.length() < (n+index)) {return null;}
    char* newString = new (nothrow) char[n+1];
    if (newString){
        for(int i = 0; i < n; i++)
            {newString[i] = s.at(i + index);}
        newString[n] = '\0';
    }        
    return newString;
} 
```

# java - 如果 API 公开，则锁定等待

> ID：12196271
> 
> 赞同：0
> 
> 时间：2012-08-30T11:52:23.590
> 
> 标签：java, api, locking

我提供了一个 api 来做一些 crud 操作，它又使用现有的内部实现，我另外实现的是一个锁机制，如果它无法在某些情况下获取，它肯定会等待/重试应用程序级锁来执行这些操作重试，它会抛出一个带有错误文本的自定义异常。在代码审查期间，我被告知不应该等待，而应该由 api 的用户来处理。

我应该从实现中删除这个等待的锁吗？

```
 lockManager = new LockManager();
        aquiredLock = lockManager.aquireLock();
        final int numberOfRetries = 3;
        final int sleepTime = 1000;
        int retryAttempt = 0;
        while (!aquiredLock.isLockAquired() && retryAttempt < numberOfRetries) {
            retryAttempt++;
            try {
                Thread.sleep(sleepTime);
            } catch (InterruptedException e) {
                throw new CannotAcquireLockException(e.getMessage(), e);
            }
            aquiredLock = lockManager.aquireLock();
        } 
```

问候， 古瑟姆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T11:56:15.913

这种事情一般是不能决定的。您的代码审查员可能对您的问题领域了解很多，因此他们的建议很可能是合理的。

从一般的角度来看，我只能说您显示的那种代码绝对不是默认/显而易见的方式，并且只有在从环境中明确这种方法确实有必要时才会被调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:00:04.847

它是你的选择，取决于你想提供什么 API，对我来说有这个选择

*   您将锁定等待机制留在您的方法中。**好处**：对用户来说更容易，因为它不必关心这个锁定问题。**缺点**：API 用户无法自行超时或重试。

*   如果您只是尝试获取锁并在无法获得的情况下抛出。**好处**：用户可以自行决定重试/超时策略。

在这两种情况下，您都必须在 API 中记录您的选择。在审查过程中重要的是，它可以告诉您该选择是否与 API 的其他部分（有关相同锁的其他方法）一致，以及是否真的需要该锁。

旁注：在我们的应用程序（数据库引擎）中，我们提供了获取/释放锁的 API，并在 API 调用中测试确实持有锁。

# iphone - 在 KeychainItemWrapper 中存储多个值

> ID：12196276
> 
> 赞同：2
> 
> 时间：2012-08-30T11:52:33.690
> 
> 标签：iphone, objective-c, ios, xcode, cocoa-touch

我使用 KeychainItemWrapper 来存储登录信息，我使用 kSecAttrAccount 和 kSecValueData 来存储电子邮件和密码。除了这两个我想存储更多的布尔值来决定一些规范。我该怎么做，我们是否有另一个这样的常量，或者我们必须使用相同的常量来存储多个值。如果是这样，我们如何区分这些值......

希望我的问题可以理解..

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T08:35:39.820

您也可以使用 kSecAttrLabel ..

# c# - 如何循环浏览在页面加载时动态创建的控件

> ID：12196283
> 
> 赞同：1
> 
> 时间：2012-08-30T11:53:21.523
> 
> 标签：c#, asp.net, loops, dynamic-controls

我在 asp 面板内的 asp 表中动态创建了控件。

`tblDynamicRecPatrn`是asp表，`pnlRecPatrn`是面板。asp 表在面板内，表内是动态创建的控件。

我已经完成了以下代码来遍历控件，但它没有找到动态创建的控件。

```
for (int i = 0; i < tblDynamicRecPatrn.Controls.Count; i++)
{
    if (tblDynamicRecPatrn.Controls[i].GetType() == typeof(RadioButton))
    {
        RadioButton rb = new RadioButton();
        rb = (RadioButton)tblDynamicRecPatrn.Controls[i];
    }
} 
```

上面的代码将我返回`tblDynamicRecPatrn.Controls.Count`为 2 并且`tblDynamicRecPatrn.Controls[i].GetType()`是表和文字。

我在代码中替换为 3，其中 2 个作为文字，1 个作为表格`tblDynamicRecPatrn`。`pnlRecPatrn`

相反，如果我循环`foreach (Control control in Controls)`比我能找到动态控件

谁能帮我弄清楚为什么我无法找到动态创建的控件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:08:05.997

我认为您应该递归地遍历控件

```
Func<System.Web.UI.ControlCollection, IEnumerable<System.Web.UI.Control>> FlattenControls = null;
FlattenControls = coll => coll.Cast<System.Web.UI.Control>()
                            .Concat(coll.Cast<System.Web.UI.Control>()
                                        .SelectMany(x => FlattenControls(x.Controls))
                            );

var radioButtons = FlattenControls(this.Controls).OfType<RadioButton>().ToList(); 
```

# html - 正则表达式获取 HTML 标签之间的数据（标签有属性）

> ID：12196292
> 
> 赞同：0
> 
> 时间：2012-08-30T11:54:07.223
> 
> 标签：html, regex, vb.net

首先，我知道使用正则表达式进行 HTML 解析是不好的做法，但我正在开发一个移动应用程序，所以大小和简单性很重要。此外，要求非常简单。

HTML 标签：（`<td width=100>Capture This</td>`标签可以是 td/span/etc，属性也一样，例如 height/style/etc。）

我应该使用什么正则表达式来获取“捕获这个”部分？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:57:01.117

`Regex`是[解析 HTML 的糟糕选择](https://stackoverflow.com/a/1732454/1583)，尤其是来自不同来源的解析。

我建议使用专门构建的解析器，例如[HTML Agility Pack](http://htmlagilitypack.codeplex.com)。

> 什么是 Html Agility Pack (HAP)？
> 
> 这是一个敏捷的 HTML 解析器，它构建一个读/写 DOM 并支持普通的 XPATH 或 XSLT（实际上你不必了解 XPATH 或 XSLT 就可以使用它，不用担心......）。它是一个 .NET 代码库，允许您解析“网络之外”的 HTML 文件。解析器对“真实世界”格式错误的 HTML 非常宽容。对象模型与 System.Xml 的提议非常相似，但用于 HTML 文档（或流）。

源代码下载附带了一堆示例项目，因此您可以了解如何使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:00:07.360

如果要匹配可以具有属性但没有子节点的某个元素，请使用

```
/<td(?:\s[^<>]+)?>([^<>]*)<\/td>/ 
```

并获得捕获的组。

# javascript - Openlayers 文本标签

> ID：12196293
> 
> 赞同：3
> 
> 时间：2012-08-30T11:54:16.007
> 
> 标签：javascript, openlayers

我想知道是否有任何方法可以将文本标签添加到开放图层地图。

我想在船舶标记旁边插入一艘船的名称，我需要能够以编程方式打开/关闭每个单独的文本标签。

我确实看到有一个弹出选项，但这远非我想要的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T19:27:18.120

你可以看看这里：[http ://dev.openlayers.org/releases/OpenLayers-2.13.1/examples/vector-features-with-text.html](http://dev.openlayers.org/releases/OpenLayers-2.13.1/examples/vector-features-with-text.html)

您基本上使用 StyleMap 来设置文本样式，然后使用`attributes`对象来确定每个点的标签文本等。

# iphone - 动画 UITableViewCell 高度和单元格背景视图

> ID：12196294
> 
> 赞同：2
> 
> 时间：2012-08-30T11:54:16.657
> 
> 标签：iphone, ios, uitableview

我在自定义 UITableViewCell 和自定义 backgroundView 时遇到问题`drawRect:`

当用户选择我调用的单元格时

```
[tableView beginUpdates];
[tableView endUpdates]; 
```

并返回不同的高度`tableView:heightForRowAtIndexPath`。这使单元格动画到它的新高度。

所有这些都像一个魅力，但我在调整背景视图的大小时遇到​​了麻烦。目前，当单元格动画时，backgroundViews 内容会拉伸。这不是我想要的，而且看起来很可怕。我希望 backgroundView 在动画期间重绘其内容。这可能吗？如果可以，怎么做？

我在下图中说明了这个问题：

![插图](../Images/904a43414f7c369a1c6dddea483ad0e0.png).

**更新：** 我发现这是发生的事情：

1.  细胞开始时是一个大细胞。一切看起来都很好，每个人都很开心。
2.  用户单击单元格。
3.  backgroundView 重新绘制它的新高度。
4.  单元格动画并变小。因此，背景视图在动画期间处于拉伸状态。

我已经更新了图像以反映这种行为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:05:25.967

您是否尝试过设置`contentMode`视图？它默认为缩放行为。有关更多信息，请参阅[如何使自定义绘制的 UITableViewCell 正确调整大小？](https://stackoverflow.com/questions/215891/how-to-make-a-custom-drawn-uitableviewcell-resize-properly).

# parsing - 循环的 ANTLR 树语法

> ID：12196295
> 
> 赞同：0
> 
> 时间：2012-08-30T11:54:42.723
> 
> 标签：parsing, for-loop, tree, while-loop, antlr

我试图通过直接读取 treeWalker 并动态实现编译器所需的命令来实现解析器。所以如果我有这样的命令：

```
 statement
            :
            ^('WRITE' expression) 
            { 
                //Here is the command that is created by my Tree Parser
                ch.emitRO("OUT",0,0,0,"write out the value of ac");
                //and then I handle it in my other classes
            }
; 
```

我希望它写出 0,0,0；到一个文件。这就是我的语法。

虽然我的语法中的循环部分有问题，但它是：

```
'WHILE'^ expression 'DO' stat_seq 'ENDDO' 
```

在树解析器中：

```
doWhileStatement
:
^('WHILE' expression 'DO' stat_seq 'ENDDO')
; 
```

我想要做的是直接将while循环中的代码解析为我需要的命令。我想出了这个解决方案，但它不起作用：

```
doWhileStatement
        :
        ^('WHILE' e=expression head='DO'
            {
                int loopHead =((CommonTree) head).getTokenStartIndex();

            }

            stat_seq

            {
                if ($e.result==1) {
                     input.seek(loopHead);
                     doWhileStatement();
                }
            }
         'ENDDO')
; 
```

这里记录一下我写的其他一些命令：（忽略括号中的代码，它用于在文本文件中生成命令。）

```
 stat_seq
            :
            (statement)+
            ;
statement
        :
        ^(':=' ID e=expression) { variables.put($ID.text,e); }
        | ^('WRITE' expression) 
        { 
            ch.emitRM("LDC",ac,$expression.result,0,"pass the expression value to the ac reg");
            ch.emitRO("OUT",ac,0,0,"write out the value of ac");
        }
        | ^('READ' ID)
        {
            ch.emitRO("IN",ac,0,0,"read value");
        }
        | ^('IF' expression 'THEN'
        {
            ch.emitRM("LDC",ac1,$expression.result,0,"pass the expression result to the ac reg");
            int savedLoc1 = ch.emitSkip(1);
        }
        sseq1=stat_seq  
        'ELSE'
        {
            int savedLoc2 = ch.emitSkip(1);
            ch.emitBackup(savedLoc1);
            ch.emitRM("JEQ",ac1,savedLoc2+1,0,"skip as many places as needed depending on the expression");
            ch.emitRestore();
        }
         sseq2=stat_seq
         {
            int savedLoc3 = ch.emitSkip(0);
            ch.emitBackup(savedLoc2);
            ch.emitRM("LDC",PC_REG,savedLoc3,0,"skip for the else command");
            ch.emitRestore();
         }

          'ENDIF')
        | doWhileStatement
        ; 
```

任何帮助将不胜感激，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T12:53:44.470

我为遇到同样问题的每个人都找到了它，我这样做了并且它正在工作：

```
^('WHILE'  

        {int c = input.index();}
        expression   

        {int s=input.index();}
        .* )// .* is a sequence of statements

        {
        int next = input.index(); // index of node following WHILE
        input.seek(c);
        match(input, Token.DOWN, null); 
        pushFollow(FOLLOW_expression_in_statement339);
        int condition = expression();

        state._fsp--;            
        //there is a problem here
        //expression() seemed to be reading from the grammar file and I couldn't
        //get it to read from the tree walker rule somehow
        //It printed something like no viable alt at input 'DOWN'
        //I googled it and found this mistake
        // So I copied the code from the normal while statement
        // And pasted it here and it works like a charm
        // Normally there should only be int condition = expression()   

        while ( condition == 1 ) {
            input.seek(s);
            stat_seq();//stat_seq is a sequence of statements: (statement ';')+
            input.seek(c);

            match(input, Token.DOWN, null); //Copied value from EvaluatorWalker.java
            //cause couldn't find another way to do it
            pushFollow(FOLLOW_expression_in_statement339);
            condition = expression();

            state._fsp--;
            System.out.println("condition:"+condition + " i:"+ variables.get("i"));
        }
        input.seek(next);
     } 
```

我在代码的注释中写下了这个问题。如果有人可以帮助我并为我回答这个问题，我将不胜感激。太奇怪了，几乎没有关于在树语法中动态实现循环的正确方法的反馈。

问候，亚历克斯

# facebook - Facebook Graph API 错误：我的服务器上的图像“流中不允许 FBCDN 图像”

> ID：12196298
> 
> 赞同：2
> 
> 时间：2012-08-30T11:54:52.090
> 
> 标签：facebook, image, facebook-graph-api, facebook-javascript-sdk

我正在尝试在我自己的网站上使用图像将项目发布到用户的新闻提要。我收到“流中不允许 FBCDN 图像”错误，这通常发生在有人尝试包含 Facebook 服务器上的图像时，但我包含的图像位于我自己的服务器上。

```
 var imgSrc = $('.final-badge .badge-background img').attr('src'),
    badgeUrl = $('#largeCrestView').val();

    var obj = {
         method: 'feed',
         //Will need to be retrieved from a hidden text field in ASP environment
         link: badgeUrl,
         picture: imgSrc,
         name: 'All hail my Coat of Charms',
         caption: captionText,
         description: ''
    }; 
```

这是我的代码。imgSrc 变量包含指向存储在本地服务器上的图像的直接链接。URL 也是一个绝对路径。

一个想法我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-10-24T21:49:25.430

我真的解决了。据我所知，图像的位置无法公开访问。现在它是外部的，它工作正常。

# cuda - CURAND 库在 CUDA 2.3 中的位置是什么

> ID：12196307
> 
> 赞同：0
> 
> 时间：2012-08-30T11:55:34.050
> 
> 标签：cuda

我正在编写一个使用 CURAND 库的代码，但是当我编译时出现错误，指出没有这样的文件或目录。当我去 /usr/local/cuda/lib64 的位置时，我找不到那里的图书馆。有人能帮我一下吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:13:22.373

如果我没记错的话，CUDA 直到 CUDA 3.2 才可用，因此您需要升级到更新版本的 CUDA 工具包才能使用它。当前的生产版本是 CUDA 4.2，CUDA 5 Release Candidate 现在也可用：

[http://developer.nvidia.com/cuda/cuda-downloads](http://developer.nvidia.com/cuda/cuda-downloads)

# .net - 将字符串从控制器发送到错误 ajax 函数 MVC3

> ID：12196308
> 
> 赞同：0
> 
> 时间：2012-08-30T11:55:35.617
> 
> 标签：.net, ajax, asp.net-mvc-3, controller

我需要从控制器发送一条错误消息，以防 ajax 函数发生错误。这是我的控制器代码：

```
//check if the day is already approved
string check1 = "SELECT approve_status_id FROM table_approvals WHERE approve_date=" + date + " AND user_id=" + Session["userID"];
MySqlCommand status_cmd = new MySqlCommand(check1, con);
MySqlDataReader rdrStatus = status_cmd.ExecuteReader();
while (rdrStatus.Read())
{
    if (rdrStatus.GetString(0) == "5")
    {
        valid = false;
        error = "You cannot edit already approved dates!";
        response.Message = error;
     return View(Json(new { success = false,error},JsonRequestBehavior.AllowGet));
    }
} 
```

我的ajax函数：

```
$.ajax({
    url: '@Url.Action("SaveLine", "AddLine")',
    type: 'post',
    data: { ids: IDs },
    dataType: 'json',
    traditional: true,
    success: function () {
        window.location.href = '@Url.Action("Index", "AddLine")';
    },
    error: function () {
        $.getJSON('/AddLine/SaveLine', function (json) {
            alert('error');
            $("#ajaxPostMessage").html(json.Message);
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:04:01.723

将所有内容都包裹在 try catch 中。您可以简单地调用 JSON 方法，该方法将创建 JSON 响应并将其返回给客户端代码。`HttpPost`此外，当 JsonRequestBehavior.AllowGet 是Action 方法时，您不需要返回 JSON 。你只需要那个`GET`。（`$.getJSON, $.get ..`）

```
try
{
   //code for getting data to reader    
     while (rdrStatus.Read())
     {
        if (rdrStatus.GetString(0) == "5")
        {
          valid = false;
          var errorMsg = "You cannot edit already approved dates!";             
          return Json( new { success = false,Error=errorMsg });           
        }
     }
 }
 catch(Exception ex)
 {
   //log Error
     return Json(new { success = false,Error="Some Error!"});
 } 
```

这将向客户端返回这样的 JSON

```
{  "success ": "True",    "Error": "SomeError"  } 
```

现在在您的客户端代码中，您可以检查`JSON`并做任何您想做的事情。

```
success: function (data) {
    if(data.success=="True")
    {
       window.location.href = '@Url.Action("Index", "AddLine")';
    }
    else
    {
      alert(data.Error);
    }
}, 
```

# html - 如何在 window.load() 上使用 javascript 禁用 CSS 类

> ID：12196310
> 
> 赞同：1
> 
> 时间：2012-08-30T11:55:52.647
> 
> 标签：html, css, razor

我想在页面加载时禁用 CSS 类。我有课`.rtsULmenuLeft`：

```
 .rtsULmenuLeft
    {
        list-style:none;
        margin: 0;
        padding: 0;
    } 
```

需要禁用该样式的所有实例。我怎样才能做到这一点？

在 ListStyle Image iam 中使用自定义图像。它正在显示并最终再次隐藏。也就是说，它会再次显示带有项目符号的标记。我需要存在该自定义图像。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:58:26.670

这是您所要求的工作示例：http: [//jsfiddle.net/ALLew/](http://jsfiddle.net/ALLew/)

在示例中：

*   所有 UL 均为黄色
*   rtsULmenuLeft 类的项目是红色的
*   rtsULmenuRight 类的项目是蓝色的

如您所见，rtsULmenuLeft 类名已被删除，列表显示为黄色。

```
// Define a function to run on page load.
var loadCheck = function() {
    // Cancel the function if the page isn't loaded...
    if(document.readyState !== "complete") {
        // ... but call it again in 100 milliseconds.
        setTimeout(loadCheck, 100);
        return;
    }

    // From here on, the page is loaded.
    // Obtain a list of all elements with the particular class name
    var elList = document.getElementsByClassName("rtsULmenuLeft");

    // Loop over the elements until there are no longer any with the class.
    while(elList.length > 0) {
        // For each element, remove the class.
        elList[0].className = elList[0].className.replace(
            /\brtsULmenuLeft\b/,    // RegExp of class name in word boundaries
            ""                      // Replace with empty string - remove it.
        );
    }
};

loadCheck();
​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T11:58:38.090

使用 jquery：

```
$('.rtsULmenuLeft').removeClass('rtsULmenuLeft'); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-30T11:58:16.920

添加`display:none`

```
.rtsULmenuLeft
        {
            list-style:none;
            margin: 0;
            padding: 0;
            display:none
        } 
```

# c# - 如何从数据库中获取 GridView 标头的工具提示？

> ID：12196319
> 
> 赞同：0
> 
> 时间：2012-08-30T11:56:36.343
> 
> 标签：c#, asp.net, gridview

我有一个`GridView`完全由用户定义的。的第一列`GridView`来自`ListBox1`。标头是使用定义的`ListBox2`。

对于 的每个标题文本`GridView`，我相应地在数据库的表中存储了一行文本。

如何使用该行作为`GridView`. 仅供参考：不同的标题列在数据库表中存储了不同的文本行。

我附上了一个屏幕截图，它将告诉我究竟取得了什么成就以及我的期望。提前谢谢你，请帮忙。

[http://img526.imageshack.us/img526/2083/47621961.jpg](http://img526.imageshack.us/img526/2083/47621961.jpg)

如图所示，我在 ListBox2 中检索了数据库表的第一列（指 GridView1），然后使用该 ListBox 显示为标题。

这是我如何做到这一点的代码：

```
DataTable dt = new DataTable();
        DataRow rw = default(DataRow);
        for (int i = 0; i < ListBox2.Items.Count; i++)
        {
            dt.Columns.Add(ListBox2.Items[i].ToString(),System.Type.GetType("System.String"));
        }
        for (int j = 0; j < count; j++)
        {
            rw = dt.NewRow();
            for (int i = 0; i < ListBox2.Items.Count; i++)
            {
                rw[ListBox2.Items[i].ToString()] = " ";
            }
            dt.Rows.Add(rw);
        }
        GridView2.DataSource = dt;
        GridView2.DataBind(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:04:52.443

您可以使用 GridView 的[`RowDataBound`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rowdatabound.aspx)事件[`DataControlRowType.Header`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datacontrolrowtype.aspx)：

```
protected void GridView1_RowDataBound(Object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.Header)
    {
        GridView grid = (GridView)sender;
        DataTable tblProfiles = getProfiles();
        for (int i = 0; i < grid.Columns.Count; i++)
        {
            String header = grid.Columns[i].HeaderText;
            if (header.Length != 0)
            {
                DataRow drProfile = tblProfiles.AsEnumerable()
                    .FirstOrDefault(p => p.Field<String>("Profile_Name") == header);
                if (drProfile != null)
                    e.Row.Cells[i].ToolTip = drProfile.Field<String>("Tool_Tip");
            }
        }
    }
}

private DataTable getProfiles()
{
    // assuming SQL-Server
    var connectionString = "blah";
    using (var con = new SqlConnection(connectionString))
    {
        var sql = "SELECT Profile_Name, Tool_Tip FROM Profiles;";
        using (var da = new SqlDataAdapter(sql, con))
        {
            var tblProfiles = new DataTable("Profiles");
            da.Fill(tblProfiles);
            return tblProfiles;
        }
    }
} 
```

[请注意，您需要`using System.Linq;`为 Linq-To-DataSet添加]

# hyperlink - 谷歌分析链接跟踪

> ID：12196327
> 
> 赞同：0
> 
> 时间：2012-08-30T11:57:03.307
> 
> 标签：hyperlink, google-analytics, tracking

好的，所以我建立了一个网站，其中内容被分成隐藏的模式。页面上有链接，单击时会出现相关模式。我希望能够跟踪被点击的链接，这样我就可以看到用户正在查看哪些内容。理想情况下，我希望数据显示为假网页浏览量。我知道这曾经是可能的，但现在不知道该怎么做。

我似乎无法在网上找到任何像样的最新文档来说明如何做到这一点。任何人都可以解释一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:03:33.893

为异步初始化 Analytics 后，只需调用

```
 _gaq.push(['_trackPageview', 'FAKE_URL']); 
```

这应该有效，并且不会减慢您的页面加载速度。您可能要考虑使用“事件”而不是虚假页面浏览量；这也很简单

```
 _gaq.push(['_trackEvent', "EVENT NAME", "PARAMETER"]); 
```

有关详细信息，请参阅[Google 的文档](https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiBasicConfiguration)。

# android-emulator - Android 模拟器 SD 卡规格

> ID：12196328
> 
> 赞同：0
> 
> 时间：2012-08-30T11:57:03.353
> 
> 标签：android-emulator

关于在 android 模拟器中使用 sd-card 的问题。

1.  这个文件的默认文件系统是什么？

2.  在 Windows 操作系统上挂载和浏览 sd 卡文件的任何工具？因为 DDMS 文件浏览器非常有限，并且隐藏了 .* 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T12:52:04.020

其实很简单：

`sudo mount -o loop /test/sdcard.img /mnt/sd`

# php - 如何在 Zend Framework 的 URL 开头添加变量？

> ID：12196330
> 
> 赞同：6
> 
> 时间：2012-08-30T11:57:12.053
> 
> 标签：php, zend-framework, zend-route

我正在尝试在这里创建 url，例如：

```
/admin/login
/moderator/login 
```

两个请求都将由相同的控制器和为登录所做的操作提供服务，即`/account/login/<type>`

目前，我只能创建以下 URL：

`/login/admin`

`/login/moderator`

我当前的配置文件如下所示：

```
resources.router.routes.login.route = "login/:type"
resources.router.routes.login.defaults.controller = "account"
resources.router.routes.login.defaults.action = "login" 
```

我不知道如何将`type`变量放在 URL 的开头，我试过了，但它给出了服务器错误。 **编辑**

我完成了这个，但不明白为什么这不能早点工作：

```
resources.router.routes.login.route = ":type/login"
resources.router.routes.login.defaults.controller = "account"
resources.router.routes.login.defaults.action = "login" 
```

**编辑**

是否可以使这种安排更加灵活，以便： `/login`=>`/admin/login`

我不是通过 .htaccess 寻找解决方案

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:57:06.297

将以下内容添加到您的 Bootstrap.php

```
function _initRoutes() {
    $front_controller = Zend_Controller_Front::getInstance();
    $router = $front_controller->getRouter();

    $router->addRoute('login', new Zend_Controller_Router_Route(
        '/:type/login', array('controller' => 'account', 'action' => 'login')
    ));
} 
```

从您的 loginAction() 使用：

```
$this->getRequest()->getParam('type'); 
```

简单的？

# c# - 如何在 WinRT 中制作文件存在转换器

> ID：12196333
> 
> 赞同：4
> 
> 时间：2012-08-30T11:57:16.583
> 
> 标签：c#, xaml, windows-runtime, converter

我正在尝试使用转换器检查本地存储中是否存在图像源。如果不使用外部网址。

`<Image Source="{Binding Image, Converter={StaticResource ImageCacheConverter}}"/>`

到目前为止，这是我的转换器：

```
public object Convert(object value, Type targetType, object parameter, string language)
{
    return IfFileExist((string)value, "localimage.png");
}
public async Task<string> IfFileExist(string value, string filename)
{
    var folder = ApplicationData.Current.LocalFolder;
    var getFilesAsync = await folder.GetFilesAsync(CommonFileQuery.OrderByName);

    var file = getFilesAsync.FirstOrDefault(x => x.Name == filename);
    if (file != null)
    {
        return "ms-appdata:///local/" + filename;
    }
    return (string)value;
} 
```

我面临的主要问题是在 IValueConverter 中有异步。但我需要返回 IfFileExist 来更改图像源。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:08:49.053

我认为你不想让你的`IfFileExist`方法异步运行。但这就是由于使用`await`.

尝试将其更改为：

```
public async Task<System.Collections.Generic.IReadOnlyList<Windows.Storage.StorageFile>> GetFilesAsync()
{
    var folder = ApplicationData.Current.LocalFolder;
    return await folder.GetFilesAsync(CommonFileQuery.OrderByName)
                       .AsTask().ConfigureAwait(false);
}

public string IfFileExist(string value, string filename)   
{   
    var files = GetFilesAsync().Result;

    var file = files.FirstOrDefault(x => x.Name == filename);   
    if (file != null)   
    {   
        return "ms-appdata:///local/" + filename;   
    }   
    return value;   
} 
```

我们没有使用，而是`await`访问由`Result`返回的任务的属性`GetFilesAsync`，阻塞我们的方法直到任务完成。

您的原始代码与以下代码类似：

```
public async Task<string> IfFileExist(string value, string filename) 
{ 
    var folder = ApplicationData.Current.LocalFolder; 
    var getFilesAsync = folder.GetFilesAsync(CommonFileQuery.OrderByName); 

    return getFilesAsync.ContinueWith(z => 
    {
        var file = getFilesAsync.FirstOrDefault(x => x.Name == filename); 
        if (file != null) 
        { 
            return "ms-appdata:///local/" + filename; 
        } 
        return (string)value; 
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T13:31:27.407

核心问题是您需要`async`在同步操作 ( `Convert`) 中执行操作。没有简单的方法可以做到这一点。如果可能的话，构建你的代码，这样就没有必要了（例如，让一个属性启动`async`对另一个属性的更新，这是“转换”的结果）。

如果你想强制它适应，你必须使用`ConfigureAwait(false)`：

```
public object Convert(object value, Type targetType, object parameter, string language)
{
  // Note that "Result" will wrap any errors in AggregateException, which is annoying.
  return IfFileExist((string)value, "localimage.png").Result;
}

public async Task<string> IfFileExist(string value, string filename)
{
  var folder = ApplicationData.Current.LocalFolder;
  var getFilesAsync = await folder.GetFilesAsync(CommonFileQuery.OrderByName)
      .AsTask().ConfigureAwait(false);

  var file = getFilesAsync.FirstOrDefault(x => x.Name == filename);
  if (file != null)
  {
    return "ms-appdata:///local/" + filename;
  }
  return (string)value;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T13:39:43.837

我现在附近没有 Windows 8，但我可能会建议尝试以下代码（只是`Convert`方法体）：

```
public object Convert(object value, Type targetType, object parameter, string language)   
{
    string result = string.Empty;
    Task.Run(async delegate
    {
        result = await IfFileExist((string)value, "localimage.png");
    }).Wait();

    return result;
} 
```

我不确定它是否有效。

# java - 程序hadoop启动错误：java.io.IOException

> ID：12196336
> 
> 赞同：0
> 
> 时间：2012-08-30T11:57:25.053
> 
> 标签：java, linux, hadoop, mapreduce

> **可能重复：**
> [程序的hadoop启动错误：PriviledgedActionException](https://stackoverflow.com/questions/12191575/error-of-start-of-hadoop-of-the-programpriviledgedactionexception)

我编写了以下程序（请参阅程序[hadoop 启动错误：PriviledgedActionException](https://stackoverflow.com/questions/12191575/error-of-start-of-hadoop-of-the-programpriviledgedactionexception)）。

我开始了

```
root@one: /export/hadoop-1.0.1/bin# ./hadoop pipes -D hadoop.pipes.java.recordreader=true -D    hadoop.pipes.java.recordwriter=true -input input/paths.txt -output outnewdir1 -program bin/parindex 
```

根据[这个文件](http://www.google.ru/url?sa=t&rct=j&q=&esrc=s&frm=1&source=web&cd=2&cad=rja&ved=0CC0QFjAB&url=http%3A%2F%2Fcs.smith.edu%2Fdftwiki%2Findex.php%2FHadoop_Tutorial_2.2_--_Running_C%252B%252B_Programs_on_Hadoop&ei=Swc_UIyfBoPj4QTC-YBg&usg=AFQjCNGIVyzsLACb65APibo_hafV0UnQ-w&sig2=2BxaE1JSiKVWq0TdTaTpHw)。

我收到以下错误

```
12/08/30 03:40:24 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
12/08/30 03:40:24 WARN mapred.JobClient: No job jar file set.  User classes may not be found. See JobConf(Class) or JobConf#setJar(String).
12/08/30 03:40:24 INFO mapred.FileInputFormat: Total input paths to process : 1
12/08/30 03:40:24 INFO filecache.TrackerDistributedCacheManager: Creating parindex in /tmp/hadoop-root/mapred/local/archive/-7785595679055918834_2050052313_1927350978/filebin-work--3826230438226227897 with rwxr-xr-x
12/08/30 03:40:24 INFO filecache.TrackerDistributedCacheManager: Cached bin/parindex as /tmp/hadoop-root/mapred/local/archive/-7785595679055918834_2050052313_1927350978/filebin/parindex
12/08/30 03:40:24 INFO filecache.TrackerDistributedCacheManager: Cached bin/parindex as /tmp/hadoop-root/mapred/local/archive/-7785595679055918834_2050052313_1927350978/filebin/parindex
12/08/30 03:40:24 INFO mapred.JobClient: Running job: job_local_0001
12/08/30 03:40:24 INFO mapred.Task:  Using ResourceCalculatorPlugin : null
12/08/30 03:40:24 INFO mapred.MapTask: numReduceTasks: 1
12/08/30 03:40:24 INFO mapred.MapTask: io.sort.mb = 100
12/08/30 03:40:25 INFO mapred.MapTask: data buffer = 79691776/99614720
12/08/30 03:40:25 INFO mapred.MapTask: record buffer = 262144/327680
12/08/30 03:40:25 WARN mapred.LocalJobRunner: job_local_0001
java.lang.NullPointerException
    at org.apache.hadoop.mapred.pipes.Application.<init>(Application.java:103)
    at org.apache.hadoop.mapred.pipes.PipesMapRunner.run(PipesMapRunner.java:68)
    at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:436)
    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:372)
    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:212)
12/08/30 03:40:25 INFO mapred.JobClient:  map 0% reduce 0%
12/08/30 03:40:25 INFO mapred.JobClient: Job complete: job_local_0001
12/08/30 03:40:25 INFO mapred.JobClient: Counters: 0
12/08/30 03:40:25 INFO mapred.JobClient: Job Failed: NA
Exception in thread "main" java.io.IOException: Job failed!
    at org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:1265)
    at org.apache.hadoop.mapred.pipes.Submitter.runJob(Submitter.java:248)
    at org.apache.hadoop.mapred.pipes.Submitter.run(Submitter.java:479)
    at org.apache.hadoop.mapred.pipes.Submitter.main(Submitter.java:494) 
```

# python - 从 Web 服务器读取 gz 文件时模拟浏览器的行为

> ID：12196338
> 
> 赞同：0
> 
> 时间：2012-08-30T11:57:28.120
> 
> 标签：python, compression, webserver, gzip

我正在尝试通过 python 脚本从网络服务器读取 gz 文件。源文件的大小为 60Mb 或更大。我不想等待读取整个文件来解压缩并读取内容。相反，我想在收到几个字节时解压缩信息。我试过这样做，但我被“CRC 检查失败”之类的错误关闭了。我正在使用 gzip 模块，因为服务器将内容编码返回为“gzip”。我也用 zlib 试试运气，但没有结果。我已经看到 Mozilla Firefox 或 Google Chrome 执行上述操作没有任何问题。我查看了 HTTP 标头，发现内容并没有一次全部接收到，但是浏览器能够在接收到它时显示解压缩的部分数据。他们是如何做到的呢 ？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:43:50.830

[`zlib.decompressobj`](http://docs.python.org/library/zlib.html#zlib.decompressobj)与`wbits`参数 31一起使用。然后`deobj.decompress()`将允许您一次解压 gzip 输入一个片段。

31 并不意味着 31 位。真的是15+16，其中15代表滑动窗口的最大大小为2^15字节，16是请求[gzip](https://www.rfc-editor.org/rfc/rfc1952)格式解码的选项。不加 16会解码[zlib](https://www.rfc-editor.org/rfc/rfc1950)格式，会拒绝 gzip 输入。

# c++ - 谁能告诉我如何在 C++ 中解析这些数据

> ID：12196339
> 
> 赞同：2
> 
> 时间：2012-08-30T11:57:30.273
> 
> 标签：c++, visual-studio-2010, visual-c++

我有如下信息。我必须解析我将从机器获得的数据部分并填充诸如冲洗模式、机器状态等值。我将在 Com 端口上获取数据，我必须在 C++ 中完成。我已经编写了打开 com 端口并发送数据需求（命令）的代码。

```
Data format
・ All data is ASCII character code without check sum and CR.
・ Range of Machine Number start from 0000 to 9999
・ If there is no top digit at data part, it will be zero suppression and put space to fill it.
・ Calculate sum total from top till before check sum (1bite unit), then recognize this
complement of 1 as check sum.
・ Finish of format is CR (Hexadecimal: OD)

Data demand(command)
   CM”      “00”         Checksum       CR
(2 bite)   (2 bite)

Monitor data(response)
“RE”              “00”          MachineNumber    Data part
(2 bite)         (2 bite)         4bite            128 byte

Parameter              Data          byte               Unit              Status
Status of machine       #             1
Rinsemode               #             1
Bypass                  #             1
Dialysate flow         ###            3                      
Treated blood volume  ##.##           5  
   .                   ...           ...
   .                   ...           ... 
   .                   ...           ... 
W+B conductivity       ##.#           4 
```

这是我提出的解决方案：-

```
char data[6]="CM00";
struct parse_data{

char Response[2];
char oo[2];
char mc_no[4];
char data_part[128];
char checksum;
char cr;
};
struct stored_parse_data{
char    Status_ofmachine;
char    Rinsemode;
char    Bypass;
int Dialysate_flow;
int Blood_pump_flow;
float  Treated_blood_volume;
float   W_B_conductivity;
//HERE More fields are also there but for making code less i am showing only these fields

};

int main()
{
int i, n,
      cport_nr=0,        /* /dev/ttyS0 (COM1 on windows) */
      bdrate=9600;       /* 9600 baud */

  unsigned char buf[4096];
  int m;
  for(int k=0;k<=10;k++)
  {
  if(OpenComport(cport_nr, bdrate))
  {
      char buf[30];
      //sprintf(buf,"Can not open comport %d\n",cport_nr);
    //  wLog->WriteDebugLog(buf);
    printf("Can not open comport\n");
    cport_nr++;
    continue;
    return(0);
  }

char *b;
 char buf_temp[10];
 int chkvalue=calculatechecksum();
 b = itoa(chkvalue,buf_temp,10);

    data[4]= ~(*b);
 data[5]=0x0D;

 if(SendBuf1(cport_nr,data,6) > -1)
 {
     //wLog->WriteDebugLog("Data Sent Successfully\n");
     printf("Send succesfuly\n");
 }
 else
 {
     printf("\nn\failed\n\n");
     //wLog->WriteErrorLog("failed in sending data\n");

 }
 while(1)
  {
    n = PollComport(cport_nr, buf, 4095);

    if(n > 0)
    {
      buf[n] = 0;   /* always put a "null" at the end of a string! */

      for(i=0; i < n; i++)
      {
        if(buf[i] < 32)  /* replace unreadable control-codes by dots */
        {
          buf[i] = '.';
        }
      }
      char buf11[70];

      printf("received %i bytes: %s\n", n, (char *)buf);
      sprintf(buf11,"received %i bytes: %s\n", n, (char *)buf);
      wLog->WriteDebugLog(buf11);
      parse_data curretnt_data;

      if(n==138 || n >138)
        int i=0;

        {
            curretnt_data.Response[0] = buf[i++];
            curretnt_data.Response[1] = buf[i++];
            curretnt_data.oo[0] = buf[i++];
            curretnt_data.oo[1] = buf[i++];

            for(int j =0; j<3; j++)
                curretnt_data.mc_no[j]=buf[i++];

            for(int k =0; k<128; k++)
                curretnt_data.data_part[k] = buf[i++];

            curretnt_data.checksum = buf[i++];
            curretnt_data.cr = buf[i++];
        }

        stored_parse_data fill;

        fill.Status_ofmachine = curretnt_data.data_part[0];
        fill.Rinsemode = curretnt_data.data_part[1];
        fill.Bypass = curretnt_data.data_part[2];

        char temp[3],j=3;
        for(int i =0; i < 3;i++)
            temp[i] = curretnt_data.data_part[j++];

        fill.Dialysate_flow =(int)atoi(temp);
        printf("Dialysate_flow is =%d\n",fill.Dialysate_flow); 
        char buf_d12[500];
        sprintf(buf_d12,"Dialysate_flow is =%d\n",fill.Dialysate_flow); 
        WriteToDataFile(buf_d12);

        j--;
        for(int i =0; i < 3;i++)
            temp[i] = curretnt_data.data_part[j++];

        fill.Blood_pump_flow =(int)atoi(temp);
        printf("Blood_pump_flow is  =%d\n",fill.Blood_pump_flow); 
        char buf_d13[500];
        sprintf(buf_d13,"Blood_pump_flow is  =%d\n",fill.Blood_pump_flow);
        WriteToDataFile(buf_d13);

        char temp_5[5];
        j--;
        for(int i =0; i < 5;i++)
            temp_5[i] = curretnt_data.data_part[j++];
        fill.Treated_blood_volume = (float)atof(temp_5);
        printf("Treated_blood_volume is =%f\n",fill.Treated_blood_volume); 
        char buf_d14[500];
        sprintf(buf_d14,"Treated_blood_volume is =%f\n",fill.Treated_blood_volume); 
        WriteToDataFile(buf_d14);
        j--;

        char temp_4[4];
        for(int i=0;i<4;i++)
            temp_4[i]=curretnt_data.data_part[j++];
        fill.W_B_conductivity=(float)atof(temp_4);
        printf("W_B_conductivity is =%f\n",fill.W_B_conductivity); 
        char buf_d15[500];
        sprintf(buf_d15,"W_B_conductivity is =%f\n",fill.W_B_conductivity);  
        WriteToDataFile(buf_d15);
        j--; 
```

因为在我不熟悉 C 和 C++ 之前我还没有完成这项工作，所以我把这段代码放在这里是因为我只有 2 次机会在机器上运行代码，所以最好让有经验的人检查一下。谢谢

# fullcalendar - 无法将定义日期开始的事件插入 fullCalendar

> ID：12196348
> 
> 赞同：0
> 
> 时间：2012-08-30T11:58:03.787
> 
> 标签：fullcalendar, unix-timestamp, mktime, gcal

我正在开发一个 codeIgniter 项目。我使用 fullCalendar 插入事件。我想实现的概念类似于谷歌日历。当用户点击日历中的某一天时，他会插入一个从点击日期开始的事件。我从我的视图中进行了 ajax 调用并将日期发布到控制器。一旦在控制器中，我要做的就是使用此值设置开始日期并将事件插入日历中。这是我的代码（控制器）

```
function add_event()
    {

           $click_date = $this->input->post('date'); 
           $date= explode(" ", "$click_date ");
           $month= (int)$date[1];
           $day= (int)$date[2];
           $year= (int)$date[3]; 
           $date_start = $this->unix_timestamp($year.'-'.$month.'-'.$day);
           $this->load->library('gcal');
           $date_end = $this->unix_timestamp('2012-08-15'); 

           $params = array(
            'calendarId'    => 'my Google calendar id',
            'allday'        => true, 
            'start'         => $date_start,
            'end'       => $date_end,
            'summary'       => 'event',
            'description'   => "My first event"
        );

        $response = $this->gcal->eventInsert($params); 

        if($response)
        {
            echo "true";
        } 
    } 
```

这是我的 unix_timestamp 函数：

```
function unix_timestamp($date)
    {
        $date = str_replace(array(' ', ':'), '-', $date);
        $c    = explode('-', $date);
        $c    = array_pad($c, 6, 0);
        array_walk($c, 'intval');

        return mktime($c[3], $c[4], $c[5], $c[1], $c[2], $c[0]);
    } 
```

在日历上，事件被插入，但不是在正确的开始日期。它从 2012-01-01 开始，这是我猜的默认日期。我不明白为什么我的开始日期设置不正确。我做错了什么？有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T15:07:01.390

我找到了答案。在将其发布到控制器之前，我应该将 fullCalendar 日期格式转换为字符串。缺少一行：

```
date_format = $.fullCalendar.formatDate(date,"yyyy-MM-dd HH:mm:ss");` 
```

希望对遇到同样问题的人有所帮助`

# eclipse - Tomcat 7 Maven 插件在 tomcat7:run 上的附加上下文

> ID：12196353
> 
> 赞同：1
> 
> 时间：2012-08-30T11:58:26.440
> 
> 标签：eclipse, tomcat, maven, maven-tomcat-plugin

当我使用 tomcat 7 maven 插件在 eclipse 中运行我的 web 应用程序时，我希望将一个额外的上下文部署到 tomcat。在生产环境中，此上下文使用上下文配置映射到 tomcat 目录之外的目录

```
 <Context path="/userimages" docBase="C:/test/userimages">
 </Context> 
```

通过这种方式可以在

```
http://wwww.myhost.com/userimages/test.jpg 
```

我如何在 webapp（eclipse、tomcat7 maven 插件）的开发环境中实现相同的目标？换句话说，我希望该文件夹的内容可以通过

```
http://localhost:8080/userimages 
```

或者

```
http://localhost:8080/myapp/userimages 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T05:48:39.837

您应该配置 tomcat7-maven-plugin 插件。

试试这个方法：

```
<plugin>
    <groupId>org.apache.tomcat.maven</groupId>
    <artifactId>tomcat7-maven-plugin</artifactId>
    <version>2.0</version>
    <configuration>
        <path>your_app_context_path</path>
        <uriEncoding>utf-8</uriEncoding>
    </configuration>
</plugin> 
```

那么你所有的网址都应该以[http://www.myhost.com/](http://wwww.myhost.com/) **your_app_context_path** /...

tomcat7:run 目标的更多可选参数可以在[apache tomcat maven 插件文档中找到](http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/run-mojo.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T09:30:59.373

我找到了一个不完全符合我最初想要的解决方法（使用 tomcat maven 插件发布另一个上下文），但它以某种方式解决了我的问题。我在应用程序的 webapp 文件夹中添加了一个文件夹“userimages”，并在开发时使用该文件夹。我通过在 pom.xml 中使用具有以下配置的“maven-war-plugin”来防止此文件夹进入战争并因此进入生产服务器

```
 <build>
  ....
  <plugins>
   ....
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-war-plugin</artifactId>
        <version>2.2</version>
        <configuration>
            <packagingExcludes>userimages/</packagingExcludes>
        </configuration>
    </plugin>
    ....
  </plugins>
  ....
 </build> 
```

也在[这里](https://stackoverflow.com/questions/5222539/exclude-file-from-maven-build)和[这里检查](https://stackoverflow.com/questions/3750189/maven2-excluding-directory-from-war)

# sql-server-2008 - 如何取回已删除的行？

> ID：12196358
> 
> 赞同：1
> 
> 时间：2012-08-30T11:58:45.407
> 
> 标签：sql-server-2008

我已经从表中删除了错误的行，我该如何取回该行。
我正在使用 sqlserver 2008

```
delete  from tblpayment where Payment_OrderID=11122 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:05:26.200

不。除非不是在事务中完成，否则您无法在 sql server 中轻松做到这一点。

最好的选择是从备份中恢复

# sockets - Azure Worker 角色上的 FTPS

> ID：12196361
> 
> 赞同：4
> 
> 时间：2012-08-30T11:59:02.710
> 
> 标签：sockets, azure, ssl, ftps

我需要在端口 21 上部署一个带有输入端点的 Azure Worker 角色，以便它可以接受传入的 FTP 连接。这样我就应该能够通过 Filezilla 等 FTP 客户端连接到 Worker 角色并访问 azure blob 存储。

对于客户端和服务器（Azure 工作者角色）之间的安全通信，我需要实现 AUTH TLS/SSL 命令。

我们能否通过套接字编程（tcplistener 和 tcpclient）在 Azure Worker 角色上支持 FTP over SSL/TLS - 又名 FTPS（FTP 安全）。

问候，维维克。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T17:16:27.383

如果您确保 FTP 服务器在 Windows Azure Worker 角色中运行，那么您肯定可以在 Worker 角色集中配置一个 TCP/IP 端点以使用端口 21，然后在该 TCP/IP 端点上配置一个 SSL 证书集。一旦端点与 SSL 证书绑定一起正确配置为辅助角色，并且侦听这些端口的应用程序能够响应传入连接，您就可以建立安全的 FTP 连接。

最重要的是，您需要按照您想要的方式正确配置它，并且基础设施不会禁止您这样做，只是您需要使其正确发生。

# python - 向 python 脚本添加附加模块

> ID：12196362
> 
> 赞同：0
> 
> 时间：2012-08-30T11:59:10.757
> 
> 标签：python, module

我有一个 python 模块问题：

我需要编写一个脚本，该脚本将从各种硬件中获取输出，然后将它们存储在数据库中。我知道当前的硬件，但我不知道将来会添加任何其他硬件。对不起，让我说得更具体一些。

该脚本将从连接到配电板的硬件模块中检索电源信息。这些模块获取原始传感器信息并通过 tcp/ip 使其可用。我已经在测试脚本中编写了询问硬件模块并收集信息的函数。问题是这需要部署在使用不同硬件模块的地方，而不仅仅是我知道的那些。所有硬件模块都将提供相同的信息，但它们都会以不同的方式进行。有些使用 telnet 或 ssh，有些提供网页，有些提供和 xml 输出，有些会使用 snmp。我想创建一种机制，可以为新设备编写 python 模块，该设备可以提取信息并以标准方式将其提供给脚本，以便脚本可以填充数据库并且生活照常进行。

因此，不是每次遇到新的硬件模块类型时都向脚本添加一个新函数，然后将其包装在“if”语句等中……有没有一种机制可以将该函数卸载到可以动态添加到模块中的模块中脚本。我想我想到了一个插件类型机制。但我认为这不太合适。

任何关于使用或实施此类东西的地方的建议或指示将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:37:37.290

您可以在代码中使用导入功能。根据您的 Python 版本，尝试[importlib](http://docs.python.org/library/importlib.html)（在 Python 2.7 中添加）或[`__import__`](http://docs.python.org/library/functions.html#__import__)函数。

您可以为要支持的每个硬件设备创建插件。然后，每个这样的插件都可以在某处注册自己（主模块路径放在环境变量中或 Windows 注册表中的已知路径）。然后，您的代码将检查该位置（定期，在启动时 - 取决于您的需要）并加载找到的每个插件。您还可以使用[distutils](http://docs.python.org/distutils/introduction.html)并将插件打包为`egg`包。

请注意，虽然当您从 Python 源代码运行时它运行良好，但如果您计划使用 PyInstaller 或 Py2exe 构建可执行文件，它会变得更加复杂。

# java-me - 将 .db 文件存储到应用程序 jar 文件中

> ID：12196367
> 
> 赞同：0
> 
> 时间：2012-08-30T11:59:29.087
> 
> 标签：java-me, rms

在我的 j2me 应用程序中，RecordStore 名称为“UserAns”，输入的数据存储在“0000003-User-Ans.db”文件中。我可以从“0000003-User-Ans.db”文件中获取数据并将其显示在模拟器上。但是当我在设备上运行应用程序时，它无法显示任何数据。那么，如何将 '0000003-User-Ans.db' 文件添加到 Application Jar 文件中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T16:48:45.740

`RecordStore`内部结构取决于设备。在模拟器上运行的`.db`文件将无法在真实设备上运行。

但是，您可以以不同的格式存储您的初始数据，例如[csv](http://pt.wikipedia.org/wiki/Comma-separated_values)，并在第一次执行应用程序时运行一个导入过程（`RecordStore`那时您将是空的）。

**评论后更新**

假设您只有一个“表”要启动：产品。带有列：id、name、price。并且有一个具有相应属性的 Product Java 类。一个 csv 样本将是

```
1, Pen, 1
2, Clip, 0.05
3, Eraser, 0.5 
```

将此内容存储在 jar 内的文件中，例如 products.csv。打开此文件并解析每一行以创建一个 Product 实例。将每个实例转换为字节数组并为每个实例创建一个记录条目。

下次启动应用程序时，该值`RecordStore`不会为空，并且可以为找到的每条记录创建一个 Product 实例。

# c++ - C ++ Windows - 填写系统的密码字段（“运行方式”）

> ID：12196370
> 
> 赞同：2
> 
> 时间：2012-08-30T11:59:42.880
> 
> 标签：c++, runas

我知道还有很多其他方法可以做到这一点，但我想知道如何自动填写 windows命令**运行的密码问题。**

```
system("runas /user:\"benedikt\" \"xy.exe\""); 
```

有什么办法吗？我用谷歌搜索了很长时间，但我只发现很多工具在做我想做的事情，而不是为自己做这件事的方法。PS：我不想使用任何 .Net 功能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:27:45.840

好的，我在这里冒险，因为我不能 100% 确定没有某种（复杂的）方法可以使用 stock 来实现您正在寻找的东西`runas`。但是，[为什么 RunAs 程序不接受命令行上的密码？](http://blogs.msdn.com/b/oldnewthing/archive/2004/11/29/271551.aspx), 建议没有 - 故意防止在命令行、批处理文件和可以查看命令行的工具（如 Process Explorer）中使用纯文本密码出现“安全问题”。

顺便说一句，一个简单的`echo <password> | runas /user:<user> <command>`似乎也不起作用（它跳过了密码提示，但密码本身`runas`似乎没有被读取）。

[`CreateProcessWithLogin`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682431%28v=vs.85%29.aspx)所以我想你必须求助于其他方法，比如使用真正的API：.

# objective-c - 如何创建独特的 PopoverView

> ID：12196372
> 
> 赞同：-2
> 
> 时间：2012-08-30T11:59:43.850
> 
> 标签：objective-c, ios, ipad

如何创建特殊的 popOver？我手动创建了一个具有所需设计的新类。

![在此处输入图像描述](../Images/ef00ef656d83bddf9d79fff958d0b1de.png)

然后我想像 PopOver 一样加载它

![在此处输入图像描述](../Images/a4b6db7e51430275bcaf7e2e035f01e9.png)

```
-(void) buttonAction {
UIViewController* popoverContent = [[UIViewController alloc] init];

myThirdPop * showHere;//Created class which I load as Popover
NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"myThirdPop" owner:self options:nil];
showHere = [nib objectAtIndex:0];
popoverContent.view = showHere.myView;
popoverContent.contentSizeForViewInPopover = CGSizeMake(300, 350);
popoverController = [[UIPopoverController alloc] initWithContentViewController:popoverContent];
[popoverController presentPopoverFromRect:myButton.frame inView:self.view permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES]; 
```

}

但是当我尝试点击按钮时，我的应用程序崩溃并显示 exc_bad_access 怎么了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:42:15.697

```
Use this code to create the popover

 -(IBAction)Click_event
{      UIPopoverController *popoverview;
if(![popoverview isPopoverVisible])
     {
  Popview *pop = [[Popview alloc] initWithNibName:@"Popview" bundle:nil];
  popoverview = [[UIPopoverController alloc] initWithContentViewController:pop];
  [popoverview setPopoverContentSize:CGSizeMake(600.0f, 500.0f)];
   [popoverview presentPopoverFromRect:CGRectMake(400, 400, 0, 0)   inView:self.Click_but  permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES];
 }
else
 {
  [popoverview dismissPopoverAnimated:YES];
 }
  }

  Lets try this. It may be helpful for you 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T13:13:00.020

试试这种方式，你可能会解决问题....

PopimagepickerViewController.h

```
 UIPopoverController *popoverController;

          UIPopoverController *popoverimagview;  // imagepicker popoverview 
```

PopimagepickerViewController.m

```
 -(IBAction)popbtn_Click:(id)sender 
```

{

```
UIViewController* popoverContent = [[UIViewController alloc] init];
UIView* popoverView = [[UIView alloc] initWithFrame:CGRectMake(0, 0,230,180)];
popoverView.backgroundColor = [UIColor whiteColor]; 
```

popoverContent.view=popoverView; popoverContent.contentSizeForViewInPopover = CGSizeMake(230, 180); // 设置popoverview的宽高

```
//create a popover controller
popoverController = [[UIPopoverController alloc] initWithContentViewController:popoverContent];
CGRect popoverRect = [self.view convertRect:[popbtn frame]
                                   fromView:[popbtn superview]];
popoverRect.size.width = MIN(popoverRect.size.width, 100) ;
popoverRect.origin.x  = popoverRect.origin.x;
[popoverController
 presentPopoverFromRect:popoverRect
 inView:self.view
 permittedArrowDirections:UIPopoverArrowDirectionUp + 
 UIPopoverArrowDirectionLeft           //pooverview down direction
 animated:YES]; 

[popoverView release];
[popoverContent release]; 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:45:01.453

您的代码似乎过于复杂且不标准。我使用此代码创建一个弹出框。

（我已经编辑了这个以匹配你的情况，但它没有经过测试）

```
-(void) buttonAction:(id) sender
{
    UIViewController *myThirdPop = [[NSBundle mainBundle] loadNibNamed:@"myThirdPop" owner:self options:nil];

    UIPopoverController *popoverController = [[UIPopoverController alloc] initWithContentViewController:myThirdPop];

   [popoverController presentPopoverFromRect:[sender bounds] inView:sender permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];

   [myThirdPop release];
} 
```

# c - 将动态 c 数组循环移动 n 个元素

> ID：12196377
> 
> 赞同：2
> 
> 时间：2012-08-30T12:00:13.880
> 
> 标签：c, arrays, dynamic, queue, shift

我有一个设置长度的队列实现为一个动态c数组，如下所示：

```
typedef struct {
    float* queue;
    int size;
    int pointer;
} QueueStruct;

void createQueue(QueueStruct* queueInstance, int size){
    queueInstance->queue = malloc(sizeof(float)*size);
    queueInstance->size = size;
    queueInstance->pointer = 0;
}

void addElementToQueue(QueueStruct* queueInstance,float element){
    queueInstance->queue[pointer] = element;
    if (queueInstance->pointer == queueInstance.size - 1){
        queueInstance->pointer = 0;
    } else {
        ++queueInstance->pointer;
    }
}

void freeQueue(QueueStruct* queueInstance){
    free(queueInstance->queue);
} 
```

我想实现这个功能：

```
float* returnQueue(QueueStruct queueInstance){
    //I want this function to malloc a new float* and then put the queue in it in the
    // correct order, from start to finish, as pointed too by the pointer.  
    //Im not sure how to do this.
} 
```

任何帮助，将不胜感激。

编辑：更正了一个愚蠢的编程错误 - 这是我程序中实际内容的简化版本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:17:19.237

让我们看看我是否正确。

```
float* returnQueue(QueueStruct *queueInstance){
    int j = 0;
    float *ret = malloc(sizeof(float)*queueInstance->size);  //Allocates the memory you want.
    //Copies the elements from pointer to End into the new buffer (assumes, that the array has been filled at least once, add a marker to make sure)
    if(queueInstance->FilledOnce) { //Marker variable, explanation as above.
        for(int i = queueInstance->pointer; i < queueInstance->size; ++i, ++j)
            ret[j] = queueInstance->queue[i];
    }
    //Copies the newest elements (from beginning to pointer) into the buffer.
    for(int i = 0; i < queueInstance->pointer; ++i, ++j)
        ret[j] = queueInstance->queue[i];
    return ret; //Returns the code in question.
} 
```

要使此代码正常工作，您必须将“FilledOnce”添加到您的结构中，并修改您的“添加”代码，如下所示：

```
void addElementToQueue(QueueStruct* queueInstance, float element){
    queueInstance->queue[queueInstance->pointer] = element;
    if (queueInstance->pointer == queueInstance.size - 1){
        queueInstance->pointer = 0;
        queueInstance->FilledOnce = 1;
    } else {
        ++queueInstance->pointer;
    }
} 
```

我还建议您在完成后重置变量。

```
void freeQueue(QueueStruct* queueInstance){
    free(queueInstance->queue);  //Frees the queue
    queueInstance->queue = NULL; //Nulls the reference
    queueInstance->FilledOnce = 0;
    queueInstance->pointer = 0;
    queueInstance->size = 0;
} 
```

这样，如果您重用该结构，您将不会遇到尝试访问未分配内存的问题。请务必检查这些变量。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:24:12.587

我认为你也应该为你的结构分配内存。您已经创建了结构指针，但忘记为该结构分配内存

使用 QueueStruct queuestruct= malloc(sizeof(Queuestruct))

然后当你将它传递给上面的任何函数时，你可以轻松地为队列指针分配内存，你可以在其中存储队列数组的元素

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-30T12:17:21.957

这种实现是不够的。一个`pointer`变量给了我们队列尾部的位置，但是什么指向它的头部呢？

# android - 图书馆项目中使用了哪些资产？

> ID：12196380
> 
> 赞同：0
> 
> 时间：2012-08-30T12:00:51.650
> 
> 标签：android, assets, library-project

在我的一个图书馆项目中发生了一些神奇的事情。虽然布局（res/layout）是从库项目本身获取的，但资产文件夹中的文件是从调用项目（而不是库项目）获取的。

我目前正在图书馆项目中建立帮助活动。调用项目为库项目中的活动提供文件名。这些文件存储在调用项目中 - 而不是库项目中。

在库项目中使用 AssetsManager 时，它使用来自调用项目的文件 - 而不是来自库项目的 assets 文件夹。

这是正确的行为吗？

这是根项目中精简的调用活动：

```
// Calling Project
package aa.bb.aa;

public class MyListActivity extends ListActivity {

    @Override
    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);

        setContentView(R.layout.mylistactivity); // <--- Stored in resources of the calling project
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem menuItem) {
        if (menuItem.getItemId() == R.id.men_help) {
            Intent intent = new Intent(this, aa.bb.bb.MyFileBrowser.class);
            intent.putExtra(MyConstants.FILE, "mylistactivity.html"); // <-- Stored in assets of the calling project
            startActivityForResult(intent, MyConstants.DIALOG_HELP);
            return true;
        }

        return super.onOptionsItemSelected(menuItem);
    }
} 
```

这是图书馆项目中的活动。我认为资产是从这里获取的，而不是从调用活动/项目中获取的：

```
// Library project
package aa.bb.bb;

    public class MyFileBrowser extends Activity {

        @Override
        public void onCreate(Bundle bundle) {
            super.onCreate(bundle);

            setContentView(R.layout.myfilebrowser); // <-- Stored in resources of the library project

            webView = (WebView) findViewById(R.id.browser);

            Locale locale = Locale.getDefault();
            String localeLanguage = (locale.getLanguage() != null) ? locale.getLanguage() : "en";

            Bundle bundleExtras = getIntent().getExtras();
            if (bundleExtras != null) {
                String file = bundleExtras.getString(MyConstants.FILE);
                if (!StringUtils.isEmpty(file)) {
                    String filename = "help-" + localeLanguage + File.separator + file;

                    AssetManager assetManager = getAssets();
                    InputStream inputStream = null;
                    try {
                        inputStream = assetManager.open(filename);
                    } catch (IOException ioException) {
                        filename = "help-en" + File.separator + file;
                    } finally {
                        try {
                            if (inputStream != null) {
                                inputStream.close();
                            }
                        } catch (IOException ioException) {
                        }
                    }

                    webView.loadUrl("file:///android_asset" + File.separator + filename); // <-- Uses file in assets of calling project - not library project
                }
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:54:23.053

找到了答案。资产总是从引用项目中使用。图书馆项目不能持有资产。我在这个页面上找到了它：

[图书馆项目](http://developer.android.com/tools/projects/index.html#LibraryProjects)

这是文档中确实描述了这一点的部分：

> 这些工具不支持在库项目中使用原始资产文件（保存在 assets/ 目录中）。应用程序使用的任何资产资源都必须存储在应用程序项目本身的 assets/ 目录中。但是，支持保存在 res/ 目录中的资源文件。

# sql - SQL Server 查询连接几个表

> ID：12196384
> 
> 赞同：2
> 
> 时间：2012-08-30T12:01:06.873
> 
> 标签：sql, sql-server, tsql

我有一个我认为不应该那么难的查询，但是，我现在花了很多时间，但仍然无法按照我想要的方式得到它，所以我希望这里有人可以帮助我.

基本上，我需要创建一个报告，该报告将为每个月、每个区域提供一个值。但是，并非所有地区都每月提供数据；在这种情况下，视图应该为该月和该区域返回 NULL。所以，视图需要看起来像这样：

```
Month      Area    Value
2012-08-01 Area1   2
2012-08-01 Area2   3
2012-09-01 Area1   3
2012-09-01 Area2   NULL 
```

我的数据表看起来像这样

```
Date       Area    Value
2012-08-01 Area1   2
2012-08-01 Area2   3
2012-09-01 Area1   3 -- Notice that Area2 is not present for September here 
```

我有一个包含所有可用区域的表此外，我创建了一个表值函数，它返回从给定日期到现在的所有日期。

例如这个语句

```
SELECT * FROM Periods_Months('2012-01-01') 
```

将返回 8 条记录，例如：

```
DateValue           Year    Month   YearMonth
2012-01-01 00:00:00.000 2012    1   20121
2012-02-01 00:00:00.000 2012    2   20122
2012-03-01 00:00:00.000 2012    3   20123
2012-04-01 00:00:00.000 2012    4   20124
2012-05-01 00:00:00.000 2012    5   20125
2012-06-01 00:00:00.000 2012    6   20126
2012-07-01 00:00:00.000 2012    7   20127
2012-08-01 00:00:00.000 2012    8   20128 
```

根据建议，我的查询现在如下所示：

```
WITH months AS (
    SELECT DateValue, YearMonth FROM Periods_Months('2011-01-01')
)
select m.DateValue
       ,CAST(DATEADD(s,-1,DATEADD(mm, DATEDIFF(m,0,m.DateValue)+1,0)) AS Date) AS DateReported -- Get last day in month
       ,ResponseTime AS Value
       ,g.ExternalId 
from GISDB.dbo.GisObjects g
CROSS JOIN months m
LEFT OUTER JOIN
( -- SELECT data from data table, grouped by area and month
SELECT dbo.YearMonth(CloseDate) AS YearMonth
       ,MAX(CloseDate) AS LastDate
       ,GisObjectId
       ,SUM(DATEDIFF(HH,RegDate,CloseDate)) AS ResponseTime -- calculate response time between start and end data (the value we need)
FROM DataTable 
WHERE   CloseDate IS NOT NULL
AND     GisObjectId IS NOT NULL
GROUP BY GisObjectId, dbo.YearMonth(CloseDate)  -- group by area and month
) c
ON g.ObjectId = c.GisObjectId AND c.YearMonth = m.YearMonth 
WHERE g.CompanyId = 3 AND g.ObjectTypeId = 1 -- reduce the GIS objects that we compare to
ORDER BY m.DateValue, g.ObjectId 
```

但结果是这样的（值始终为 NULL）：

```
DateValue                   DateReported    Value   ExternalId
2011-01-01 00:00:00.000 31-01-2011  NULL    9994
2011-01-01 00:00:00.000 31-01-2011  NULL    9993
2011-01-01 00:00:00.000 31-01-2011  NULL    9992
2011-01-01 00:00:00.000 31-01-2011  NULL    9991
2011-01-01 00:00:00.000 31-01-2011  NULL    2339
2011-01-01 00:00:00.000 31-01-2011  NULL    2338
2011-01-01 00:00:00.000 31-01-2011  NULL    2337
2011-01-01 00:00:00.000 31-01-2011  NULL    2336
2011-01-01 00:00:00.000 31-01-2011  NULL    2335
2011-01-01 00:00:00.000 31-01-2011  NULL    2334
2011-01-01 00:00:00.000 31-01-2011  NULL    2327
2011-01-01 00:00:00.000 31-01-2011  NULL    2326
2011-01-01 00:00:00.000 31-01-2011  NULL    2325
2011-01-01 00:00:00.000 31-01-2011  NULL    2324
2011-01-01 00:00:00.000 31-01-2011  NULL    2323
2011-01-01 00:00:00.000 31-01-2011  NULL    2322 
```

等等

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:05:41.190

我想你有一张桌子，里面有你所有的区域，我称之为 area_table。

```
WITH month_table AS (
    SELECT dateValue FROM Periods_Months('2012-01-01')
)
select * from area_table 
CROSS JOIN month_table
LEFT OUTER JOIN myValueTable 
ON area_table.name = myValueTable.area 
AND myValueTable.date = left(convert(varchar(30),month_table.dateValue,120),10) 
ORDER BY myValueTable.Month, myValueTable.area 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:11:49.027

假设`Areas`是您的所有可用区域的表，`t`- 是您的数据表：

```
SELECT pm.dateValue,Ar.Area, t.value 
FROM Periods_Months('2012-01-01') pm, Areas ar
  left join t on (pm.dateValue=t.Date) and (ar.Area=t.Area)
order by pm.DateValue,ar.Area 
```

# mysql - MySQL查询返回意外值

> ID：12196385
> 
> 赞同：1
> 
> 时间：2012-08-30T12:01:11.603
> 
> 标签：mysql, sql, database

需要生成课程列表和计数

1.  全部
2.  未答复
3.  已回答但未选中

问题。

我的数据库结构看起来像这样

[https://docs.google.com/open?id=0B9ExyO6ktYcOenZ1WlBwdlY2R3c](https://docs.google.com/open?id=0B9ExyO6ktYcOenZ1WlBwdlY2R3c)

一些表的解释：

1.  `answer_chk_results`- 检查答案表。因此，如果此表上不存在某些答案，则表示未选中
2.  `lesson_questions`- 课程 <-> 问题关联（按 id）表
3.  `courses-lessons`- 课程 <-> 课程关联（按 id）表

执行

```
 SELECT
    c.ID,
    c. NAME,
    COUNT(lq.id) AS Questions,
    COUNT(
        CASE
        WHEN a.id IS NULL THEN
            lq.id
        END
    ) AS UnAnswered,
    COUNT(
        CASE
        WHEN cr.id IS NULL THEN
            lq.id
        END
    ) AS UnChecked
FROM
    courses c
LEFT JOIN `courses-lessons` cl ON cl.cid = c.id
LEFT JOIN `lesson_questions` lq ON lq.lid = cl.lid
LEFT JOIN answers a ON a.qid = lq.qid
LEFT JOIN answer_chk_results cr ON cr.aid = a.id
GROUP BY
    c.ID 
```

首先在[SQL fiddle](http://sqlfiddle.com/#!2/d23b4/44)上使用示例数据对其进行了测试。（真实数据很大，所以我不能把它放在 sqlfiddle 上）它返回了一些值。思想运作良好。但是当我用真实数据测试它时，看到它返回了错误的值。外汇，当我手动计数时，结果`all questions count`必须是 25，但它返回 27。也许我做错了什么。

*注意*MySQL 服务器在我的本地机器上运行，所以如果你想远程连接到我的桌面并使用真实数据测试查询，我可以给你[teamviewer id 和密码。](http://teamviewer.com)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T13:43:24.907

我怀疑问题在于不同的连接会导致行数增加。解决此问题的最佳方法是沿每个维度使用子查询。下面是一个比较实用的方法。将选择中的 COUNT 替换为 COUNT DISTINCT：

```
SELECT c.ID, c. NAME,
       COUNT(distinct lq.id) AS Questions,
       COUNT(distinct CASE WHEN a.id IS NULL THEN lq.id END) AS UnAnswered,
       COUNT(distinct CASE WHEN cr.id IS NULL THEN lq.id END) AS UnChecked 
```

与 COUNT 相比，COUNT DISTINCT 是一种资源消耗（它必须删除重复项）。但是，它可能适合您的目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:21:27.223

使用此查询

```
SELECT
    c.ID,
    c.NAME,
    COUNT(lq.id) AS Questions,
    COUNT(IFNULL(a.id),lq.id)AS UnAnswered,
    COUNT(IFNULL(cr.id),lq.id)AS UnChecked,
FROM    courses c
LEFT JOIN `courses-lessons` cl ON cl.cid = c.id
LEFT JOIN `lesson_questions` AS lq ON lq.lid = cl.lid
LEFT JOIN answers a ON a.qid = lq.qid
LEFT JOIN answer_chk_results cr ON cr.aid = a.id
GROUP BY c.ID 
```

# ios - 为 MBProgressHUD 添加完成回调

> ID：12196388
> 
> 赞同：0
> 
> 时间：2012-08-30T12:01:15.580
> 
> 标签：ios, ios5, uiviewcontroller, mbprogresshud

我想在我的方法上添加一个完成回调，以便 HUD 的进度知道它已完成。

```
MBProgressHUD *hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
hud.mode = MBProgressHUDModeAnnularDeterminate;
hud.labelText = @"Loading";
[self doSomethingInBackgroundWithProgressCallback:^(float progress) {
hud.progress = progress;
} completionCallback:^{
[MBProgressHUD hideHUDForView:self.view animated:YES];
}]; 
```

我需要在我的方法中添加什么来确认它是否完成，或者从上面触发这个 completionCallback？

在这种情况下，我的方法可以是任何东西，例如：

```
-(void)doSomethignInBackgroundWithProgressCallback {
sleep(100);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T13:40:59.697

如果`HUD`您可以使用它的`delegate`功能`hudWasHidden`，当您`HUD`像这样使用时 -

```
[HUD showWhileExecuting:@selector(your_function) onTarget:self withObject:nil animated:YES]; 
```

如果您想知道如何使用`callbacks`，请`objective c`关注这篇文章 -

```
http://stackoverflow.com/questions/1015608/how-to-perform-callbacks-in-objective-c 
```

完成回调方法 -

```
- (void) doSomethingInBackground:(void (^) (void)) completion
{
    // do your job here

    completion();
} 
```

# php - 将数据库结果添加到数组并将另一个相应的数组填充到同一个数据库表中

> ID：12196389
> 
> 赞同：-1
> 
> 时间：2012-08-30T12:01:16.967
> 
> 标签：php, mysql, arrays, database

我编写了一个程序，用于在数据库表中的列的所有行中插入一个数组，该数组相对于同一个数据库同一个表中已填充的列。

但它似乎不能正常工作。请告诉我哪里出错了！

```
$query = $sql = "SELECT A FROM `table`";
$result1 = mysql_query($query); 
while ($row = mysql_fetch_row($result1)) {

foreach($output as $value){
$count=sizeof($value); 

for($counter=0;$counter<$count;$counter++)
{

$query= "INSERT INTO `TABLE` (`B`) VALUES ('" . $value . "') WHERE A= $row[$counter] ";

$insert_col= mysql_query($query);

echo $query;
echo '<br/><br/>';
  }} 

} 
```

其中`$output`数组包含数组值如下：

```
$output[0]= RD 3.56 , $output[1]= RD 5.56 , $output[2]= RD 4.86 
```

当我运行我的程序时，检查我的查询..输出如下：

```
INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.144') WHERE A= 3r_1 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 2.436') WHERE A= 3r_1 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.624') WHERE A= 3r_1 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_1 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_1 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_1 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.144') WHERE A= 3r_2 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 2.436') WHERE A= 3r_2 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.624') WHERE A= 3r_2 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_2 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_2 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_2 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.144') WHERE A= 3r_3 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 2.436') WHERE A= 3r_3 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.624') WHERE A= 3r_3 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_3 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_3 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_3 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.144') WHERE A= 3r_4 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 2.436') WHERE A= 3r_4 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.624') WHERE A= 3r_4 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_4 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_4 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.60') WHERE A= 3r_4 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.144') WHERE A= 3r_5 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 2.436') WHERE A= 3r_5 

INSERT INTO `TABLE` (`B`) VALUES (' RD: 1.624') WHERE A= 3r_5 
```

请帮忙！我对我的程序中的这个错误快一个多星期了。

输出应如下所示

```
INSERT INTO 'TABLE' SET B = ' RD: 1.144' WHERE A = '3r_1' 

INSERT INTO 'TABLE' SET B = ' RD: 2.436' WHERE A = '3r_2' 

INSERT INTO 'TABLE' SET B = ' RD: 1.624' WHERE A = '3r_3' 

INSERT INTO 'TABLE' SET B = ' RD: 1.560' WHERE A = '3r_4' 

INSERT INTO 'TABLE' SET B = ' RD: 1.560' WHERE A = '3r_5' 

INSERT INTO 'TABLE' SET B = ' RD: 1.560' WHERE A = '3r_6' 
```

这里的问题是`$row`值对所有值重复 6 次`$output`。我该如何解决这个问题？

经过大量试验，我知道问题在于调用数组。因此，如果有人能告诉我如何使用上面编写的代码同时调用两个数组，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T15:28:45.793

据我了解，你有一个循环问题。

您有 2 个需要同时递增的列表。

尝试这个：

```
$value = [' RD: 1.144', ' RD: 2.436', ' RD: 1.624', ' RD: 1.560', ' RD: 1.560', ' RD: 1.560'];
$row = ['3r_1', '3r_2', '3r_3', '3r_4', '3r_5', '3r_6'];

$cnt = count($row);//assuming $row and $value are of the same size

for($i = 0; $i < $cnt, $i++) {
    echo "INSERT INTO 'TABLE' SET B = '$value[$i]' WHERE A = '$row[$i]' ";
} 
```

这是一个更简单的示例，但本质上，这是您需要做的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T13:18:51.670

您是否正在尝试更多类似的东西

```
$i = 1;
$query = "SELECT A FROM `table`";
$result1 = mysql_query($query);
while ($row = mysql_fetch_row($result1)) {

    $query = "INSERT INTO `TABLE` (`B`) VALUES ('" . $output[$i] . "') WHERE `A` = '".$row[0]."' ";

    $insert_col = mysql_query($query);

    $i++;

    echo $query;
    echo '<br/><br/>';

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:04:52.273

试试这个语法：

```
$query= "INSERT INTO 'TABLE' SET B = '" . $value . "' WHERE A = '$row[$counter]' "; 
```

顺便说一下，表名 5 非常奇怪。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T13:36:52.893

```
while ($row = mysql_fetch_row($result1)) {

foreach($output as $key=>$value){

$query = "INSERT INTO `TABLE` (`B`) VALUES ('" . $value . "') WHERE `A` = '".$row[$key]."' ";

$insert_col= mysql_query($query);

echo $query;
echo '<br/><br/>';
  }} 
```

尝试了同样的事情..但得到相同的输出......

# css - 为什么要声明相同的 CSS 参数两次，但第二个用星号声明？

> ID：12196390
> 
> 赞同：1
> 
> 时间：2012-08-30T12:01:21.867
> 
> 标签：css, css3pie

> **可能重复：**
> [CSS 重置 - 样式中星号的用途](https://stackoverflow.com/questions/1690642/css-reset-purpose-of-asterik-within-a-style)

我正在阅读 HTML5BoilerPlate 的 CSS 样式，我遇到了这个不熟悉的行：

```
button, input, select, textarea { 
  font-size: 100%; margin: 0; vertical-align: baseline; *vertical-align: middle; 
} 
```

特别是第二个****vertical-align***，为什么要调用两次并在其前面加上一个星号。

如果有人知道该技术的名称或使用它的原因，那将是一个很大的帮助

谢谢！

-阿德里安

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:04:22.880

## 这是一个 css hack，用于定位`IE7 browser`.

有关更多参考，请参阅[**如何使用 4 个字符唯一地定位 IE6、IE7 和 IE8**](http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-how-to-target-ie6-ie7-and-ie8-uniquely-with-4-characters/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:05:06.717

这是一个 IE6 黑客。如果你把 * 放在 CSS 属性前面，它只会被 IE6 读取。由于 IE6 的使用率现在下降到世界的 1%，我们可以忘记这个 hack（除非你住在中国）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:03:48.450

这是一个[讨厌的 hack](http://www.javascriptkit.com/dhtmltutors/csshacks3.shtml)，可用于针对旧版本的 IE（其他浏览器忽略无效的星号前缀值）。绝对不是一个好主意，最好使用 IE 条件样式表或类似技术。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:04:11.177

这是 Internet Explorer 浏览器的 CSS hack：

* * *

## *适当的价值

如果您在属性名称前添加星号 (*) 等非字母数字字符，则该属性将应用于 IE 而不是其他浏览器。与连字符和下划线方法不同，CSS 规范没有保留星号作为前缀，因此随着 CSS 规范的发展，使用这种 hack 可能会导致意外行为。

*property: value 应用 IE 7 及以下版本中的属性值。它可能会或可能不会在未来的版本中工作。警告：这使用了无效的 CSS。*

从[这里](http://www.javascriptkit.com/dhtmltutors/csshacks3.shtml)

# c# - 将新字段混合到对象中而不在 LINQ 查询中对其字段进行硬编码？

> ID：12196392
> 
> 赞同：1
> 
> 时间：2012-08-30T12:01:27.017
> 
> 标签：c#, .net, linq

我在这里有一个简单的 LINQ 查询：

```
var Staffs = new[] 
{
    new { id = 1, name = "Jefferson", age = 42},
    new { id = 2, name = "Jacobson", age = 54},
    new { id = 3, name = "Zhang", age = 34}
};

var payroll = new[]
{
    new { pid = 1, wage = 5000},
    new { pid = 2, wage = 6500},
    new { pid = 3, wage = 6700}
};

var q = from stf in Staffs
        from pay in payroll
        where stf.id == pay.pid
        select new
        {
            stfObj = stf,
            pay.pid,
            pay.wage
        }; 
```

在这里，stfObj 将是一个包含 id、name 和 age 字段的对象

问题来了：

是否可以将对象本身转换为字段，而无需像这样显式地硬编码字段名称：

```
select new
{
    stf.id,
    stf.name,
    stf.age,
    pay.pid,
    pay.wage
 }; 
```

这样，当我向 Staffs 添加一个新字段时，就不需要更改 select new 块，例如 Gender

那可能吗？

（好的，这看起来像[这里](https://stackoverflow.com/questions/10036421/how-to-select-all-fields-plus-some-new-fields-in-linq)的问题......无论如何，希望在这里得到更好的答案）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T00:05:35.070

我不知道，你需要这个做什么。但是你可以尝试使用`Dictionary<>`它。说，我们有一个类：

```
public class Test
{
    public string Name { get; set; }
    public string Desc { get; set; }    
} 
```

因此，您可以执行以下操作：

```
List<Test> list = new List<Test>
{
     new Test
     {
         Name = "Test 1",
         Desc = "Desc 1"
     }
};
var temp = list.Select(t =>
                {
                    Dictionary<string, object> values = new Dictionary<string, object>();
                    foreach (PropertyInfo pi in t.GetType().GetProperties())
                        values[pi.Name] = pi.GetValue(t, null);
                    return values;
                })
               .FirstOrDefault();
temp.ToList().ForEach(p => Console.WriteLine(string.Format("{0}:\t{1}", p.Key, p.Value))); 
```

所以如果你给`Test`类添加一个属性，比如说，像这样：

```
public bool Extra { get; set; } 
```

你会自动在字典中找到它。可能你必须使用反射方法重载才能得到你需要的东西......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:12:58.137

这是你想要的吗！

```
select new
{
sId=stfObj.id,
sName=stfObj.name,
sAge=stdObj.age,
pId=pay.pid,
pWage=pay.wage
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:16:23.293

为什么不简单地嵌入您的对象？

```
select new {
    staff = stf,
    pay = pay
}; 
```

# c# - 服务层中的会话和事务管理

> ID：12196397
> 
> 赞同：0
> 
> 时间：2012-08-30T12:01:37.590
> 
> 标签：c#, .net, nhibernate, architecture, orm

我有一个应用程序，它将有一些表示层（web、移动、wpf、wcf、在后台工作的 Windows 服务等），我们正在使用 NHibernate 来持久化域对象。我们将有存储库（类库）来持久化数据，一个服务层使用这些存储库根据业务规则进行持久化。我的问题是，我们不知道如何在这个服务层实现事务管理。我们可能会在同一个服务层方法中使用（多个）存储库，我们需要控制服务层上的事务。我想实现这样的东西（通过属性）：

```
public class DomainObjectService
{
   [Transactional]
   public bool CreateDomainObject(DomainObject domainObject, /* other parameters */)
   { 
       foreach(var item in /* collection */)
       {
           _itemRepository.Save(item);
       }

       if (/* some condition */) {
          /* change the domainObject here */
       }

       _domainObjectRepository.Save(domainObject);
   } 
} 
```

当我们遇到错误时，这个 Transactional 属性是否通过 Commit/RollBack 控制我的事务。是否可以？还是有另一种解决方案来做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T15:38:42.293

你所问的没有一个直截了当的答案。

您希望拥有的行为听起来像是您需要实现一个工作单元模式。

NHibernate 自己的 ISession 实际上是一个工作单元的实现。我个人建议实现你自己的工作单元，这样你就可以更好地控制你的特定应用程序认为什么是工作单元。

在服务层类中使用属​​性对我个人来说真的没有多大意义。我见过人们在处理事务的 MVC 应用程序中创建自定义控制器属性，但我个人从未同意这种实现方式。

您提到在服务层使用多个存储库。这是一种非常普遍的做法，但这也意味着这些存储库中的每一个都需要在同一个工作单元中运行。如果您的应用程序使用依赖注入，那么一种选择是让每个存储库在其构造函数中接受一个 ISession。您选择的依赖注入框架可以设置为将相同的 ISession 注入所有存储库。您的设置可以配置为在每次创建新 ISession 时开始新事务。

您还提到了不同的表示层，例如 Web、移动、wpf 等。您在每种不同类型的应用程序中处理会话和事务的方式可能完全不同。这就是为什么我总是向人们指出工作单元方向的原因，因为每种不同的应用程序类型对于它所认为的工作单元可能有完全不同的定义。对于 Web 应用程序，您通常会为每个 Web 请求使用一个新的工作单元。对于 wpf 应用程序，工作单元可以是每个屏幕，或者直到用户点击保存按钮等。此外，通过实现一个工作单元，您可以在这些不同的应用程序类型中更轻松地重用相同的工作单元实现.

同样，这不是一个希望直接回答的问题，但总的来说，我通常使用自定义工作单元和依赖注入框架来使这个问题更容易处理。

以下是您可能希望调查的一些有用链接：

*   [http://nhibernate.info/doc/patternsandpractices/nhibernate-and-the-unit-of-work-pattern.html](http://nhibernate.info/doc/patternsandpractices/nhibernate-and-the-unit-of-work-pattern.html)

*   [正确使用 NHibernate Unit Of Work 模式和 Ninject](https://stackoverflow.com/questions/4271265/correct-use-of-the-nhibernate-unit-of-work-pattern-and-ninject)

*   [NHibernate 的工作单元/存储库管理器？](https://stackoverflow.com/questions/783590/unit-of-work-repository-managers-for-nhibernate)

# html - z-index 在 html 中无法正常工作

> ID：12196399
> 
> 赞同：-1
> 
> 时间：2012-08-30T12:01:39.540
> 
> 标签：html, css, z-index

我有一个带有 az 索引下拉菜单的 html 页面。我有这个下拉菜单绝对定位。有一些给定的左值和上值。问题是当窗口全屏时下拉菜单就在它的位置，但是当窗口大小改变时（小于 pc 窗口，z 索引元素的位置会移动，这使得它看起来很尴尬。我知道这是由于绝对定位。

谁能告诉我如何解决这个问题？如何使下拉菜单始终保持原位。附上图片。 ![落下](../Images/b1dba737d8c80fe916eec411bbb56345.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:07:08.727

确保包含元素具有“位置：相对；” 设置它，顶部/左侧值基于具有位置集的第一个包含元素。如果包含元素没有设置位置，它将尝试下一个父元素，依此类推，直到最终默认为主体。

这是一个例子：

[http://jsfiddle.net/erinfreeman/AHWS2/](http://jsfiddle.net/erinfreeman/AHWS2/)

id 为“one”的 div 具有相对位置，因此子 div 基于其底部/右侧坐标。id 为“二”的 div 没有设置位置，因此子 div 转到下一个父级

# .htaccess - 如何在 htaccess 中使用 mod_rewrite

> ID：12196400
> 
> 赞同：0
> 
> 时间：2012-08-30T12:01:43.080
> 
> 标签：.htaccess, mod-rewrite

在我发疯之前，我需要一些关于`mod_rewrite`htaccess 的帮助。

我想重写以下网址：

*   `www.domain.com/reviews`或`www.domain.com/reviews/`-> 保持原样

*   `www.domain.com/reviews/(one char or number)`或`www.domain.com/reviews/(one char or number)/`-> 保持原样

*   `www.domain.com/reviews/(string)`或`www.domain.com/reviews/(sting)/` -> 301 重定向到`www.domain.com/(sting)/`

如何进行 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:06:56.320

试试这个规则：

```
RewriteEngine on
RewriteRule ^(.{2,})/?$ /$1/ [L,R=301] 
```

# java - 如何在java中删除列表？

> ID：12196401
> 
> 赞同：-7
> 
> 时间：2012-08-30T12:01:43.127
> 
> 标签：java, list

我有客户列表说该列表将始终有 5 行我必须删除迭代中的最后三行，

```
for (Customer cust: oh.getCustomer()) {  
// Check the size of order and remove the last three rows                   
} 
```

任何建议如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:05:48.867

你需要一个`for`循环而不是`foreach`：

```
for (int i = 0; i < oh.getCustomer().size(); i++) {
    if (i >= oh.getCustomer().size()-3) {
        break;
    }
} 
```

（或类似的东西）

或者您可以使用此方法删除最后 3 个项目：[http://docs.oracle.com/javase/6/docs/api/java/util/List.html#remove(int)](http://docs.oracle.com/javase/6/docs/api/java/util/List.html#remove%28int%29)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:15:36.957

**很多方法可以做到这一点。**

很简单，您知道列表是按索引排序的。

**列表总是有 5 行**

您知道该列表将始终包含 5 个元素。

那么您不需要使用 for 循环，创建一个`newList`并从您的存在列表中获取第一个`two`元素并将其添加到新创建的列表中。

```
List<Customer> customerList = new ArrayList<Customer>();

customerList.add(oldList.get(0))

customerList.add(oldList.get(1)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:09:49.037

如果您`oh.getCustomer()`是 a `java.util.list`，您可以尝试以下操作：

```
List<Customer> customers = oh.getCustomer();
customers.subList(2, customers.size()).clear(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:07:26.963

如何获取列表的子集？

[http://docs.oracle.com/javase/1.4.2/docs/api/java/util/List.html#subList%28int,%20int%29](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/List.html#subList%28int,%20int%29)

高温高压

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-30T12:08:01.190

你的意思是？

```
List<Customer> customers = oh.getCustomer();
for(int i = -1; i >= -3 && customer.size()>0;i--)
    oh.removeCustomer(customers.get(customer.size() - i)); 
```

如果客户是可修改的（实际上不应该如此），您可以这样做。

```
customers.subList(Math.max(0, customers.size()-3), customers.size()).clear(); 
```

# php - 提交表单，然后重定向到 paypal 按钮

> ID：12196404
> 
> 赞同：-2
> 
> 时间：2012-08-30T12:02:10.570
> 
> 标签：php, post, paypal, http-headers

我需要提交一个表单将用户名和密码放入我的数据库，然后我需要将用户重定向到我创建的贝宝按钮。

我只能考虑使用 header() 命令重定向，但如何将变量发布到新页面？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:09:21.070

您不能使用 POST 重定向到 PayPal，只能使用 GET。但是，您可以通过 javascript 中的 AJAX（例如 jQuery $.post 函数）执行所有操作，以便您首先发布到您的 PHP 脚本，然后将该发布的结果发布到 PayPal。这是它如何工作的粗略“草图”：

```
var postData = {some_post_variable: "some value", another_post_variable: "some other value"};
$.post('yourserver.com/yourscript.php', postData, function (data) {
    // I'll assume the PHP script echoes "1" back for a successful post.
    if (data == 1) {
        //Now post to PayPal:
        var paypalData = {someData: "paypal data", etc...};
        $.post('your_paypal_url', paypalData, function(data) {
            // Now handle your PayPal post result here.
        });
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:09:36.633

步骤 1\. 在表单中使用用户名和密码字段来发布数据

步骤 2\. 然后将数据插入到 db

步骤 3\. 检查数据是否插入，如果为真，则使用如下标题（“位置：”）重定向到贝宝按钮页面，并在贝宝页面上使用 GET 方法从查询字符串中收集用户信息

header("位置: yoururl.com?username=XXXXXXXXX&password=XXXXXXXXXXXXX")

# php - 在 PHP 中的类属性中存储闭包函数

> ID：12196408
> 
> 赞同：3
> 
> 时间：2012-08-30T12:02:20.757
> 
> 标签：php, class, function, methods, closures

好的，我确实有下面的代码

```
<?php
    class foo{
       public $bar = NULL;

       public function boo(){
          $this->bar();
       }
    }

    $mee = new foo();

    //save a closure function on the property
    $mee->bar = function(){
        echo 'hahaha';
    };

    //invoke the closure function by using a class method
    $mee->boo();
?> 
```

你可以看到它在这里运行[http://codepad.org/s1jhi7cv](http://codepad.org/s1jhi7cv)

现在我想要在这里将闭包函数存储在类方法上。

当我在这里阅读有关它的文档时，关闭是可能的[http://php.net/manual/en/functions.anonymous.php](http://php.net/manual/en/functions.anonymous.php)

这可能吗？我是不是做错了什么？请纠正我

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-30T12:10:15.900

您在 codepad.org 的示例代码不起作用，因为 codepad.org 使用 PHP 5.2.5，并且仅在 5.3 中添加了闭包支持。

但是，您的代码也无法在支持闭包的 PHP 版本中运行，尽管您会收到不同的错误：[http ://codepad.viper-7.com/Ob0bH5](http://codepad.viper-7.com/Ob0bH5)

这是目前 PHP 的一个限制。`$obj->member()`查找名为的方法`member`，并且不会查看属性以查看它们是否可调用。坦率地说，这很烦人。

我知道在没有`call_user_func()`/的情况下完成这项工作的唯一方法`call_user_func_array()`是：

```
public function boo() {
   $func = $this->bar;
   $func();
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T12:14:47.690

您需要利用 PHP ( `__call`) 的一些神奇功能来利用它。扩展`Extendable`例如：

```
class Extendable {
    static function import($context) {
        $self = new static();
        while (is_callable($context)) $context = $context($self);
        if (is_array($context) || is_object($context) || is_a($context, 'Traversable')) {
            foreach($context as $key => $value)
                $self->$key = &$value; # preserve keys if
        }
        return $self;
    }
    public function __call($name, $args) {
        if (isset($this->$name) && is_callable($this->$name)) {
            return call_user_func_array($this->$name, $args);
        }
        throw new BadFunctionCallException(sprintf('Undefined function %s.', $name));
    }
} 
```

你可以完成这项工作。这不是很好。背景和示例在我的一篇博文中：

*   [PHP：使用闭包扩展 stdClass（加上访问者）](http://hakre.wordpress.com/2011/03/30/php-extending-stdclass-with-closures-plus-visitor/)

您也可以自然地实现自己的神奇功能。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T12:11:34.870

你将无法做到这一点。

以这段代码为例：

```
class T {
  function foo() {
    echo 'T::foo';
  }
}

$t = new T;
$t->foo = function() {
  echo 'Closure::foo';
};
$t->foo(); 
```

它在 PHP 5.4.6 和/或 PHP 5.3.16 上运行良好，但它会导致`T::foo`被打印。

发生这种情况是因为 PHP 中的方法不是可修改的类属性，例如在 javascript 中。

然而，

```
$foo = $t->foo;
$foo(); 
```

`Closure::foo`将按预期打印。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-30T12:15:04.593

使用`call_user_func()`功能：

```
<?php
    class foo{
       public $bar = NULL;

       public function boo(){
          call_user_func($this->bar);
       }
    }

    $mee = new foo();

    //save a closure function on the property
    $mee->bar = function(){
        echo 'hahaha';
    };

    //invoke the closure function by using a class method
    $mee->boo(); 
```

这将显示“啊哈”

希望能帮助到你。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-30T12:10:37.460

PHP 不是基于原型的语言，因此您无法重新定义函数

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-30T12:13:01.310

用于`__call`捕获所有未定义的方法，然后查找闭包并调用它。看看我在这个[SitePoint 线程](http://www.sitepoint.com/forums/showthread.php?565576-Javascript-style-PHP-with-PHP-5-3-0)上的帖子。

# ftp - *FILE 和 *STMF 元素在 AS/400 ftp 服务器上的区别

> ID：12196410
> 
> 赞同：1
> 
> 时间：2012-08-30T12:02:28.307
> 
> 标签：ftp, ibm-midrange, apache-commons-net

我试图使用 apache FTPClient 从 AS/400 ftp 服务器下载文件，它应该可以工作，因为该库正确使用 OS400FTPEntryParser 来解析来自服务器的响应。

但是，此特定解析器仅将文件类型设置为 *STMF 的 ftp 服务器上可用的元素标记为有效文件，而我的所有元素在 ftp 服务器上都标记为 *FILE，然后在被 apache FTPClient 解析时标记为未知类型。还与每个 *FILE 元素相关联，我有一个包含文件扩展名的对应 *MEM 元素。

在编写我自己的解析器之前，我想了解这两种类型之间的区别，以及是否有正当理由将这些文件标记为未知。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T13:14:38.303

你确定是`*MEM`不是`*MBR`？

`*STMF`是集成文件系统中的流文件。它们与文件的 PC 定义相同。

`*FILE`对象是数据库表，并且`*MBR`是表中的命名分区。每个`*FILE`人至少有一个`*MBR`。

中型机和大型机系统的独特之处在于您实际上可以使用 FTP 从数据库表中检索内容。数据以固定长度格式返回。

了解更多信息：

[FTP - 文件系统和命名约定](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/rzaiq/rzaiqftpconvn.htm)

# c - 谁能解释为什么我在 C 中对按位和和或运算符得到相同的结果

> ID：12196412
> 
> 赞同：2
> 
> 时间：2012-08-30T12:02:34.733
> 
> 标签：c

我想将 uint 的 lsb 从 1 翻转到 0，反之亦然 有人能告诉我为什么下面的代码与 & 和 | 的结果相同吗？手术。

```
#include<stdio.h>
#include<stdint.h>
int main()
{
    uint8_t a=53;
    uint8_t x=255; //     AND BY 255 TO insert 0 at LSB position 11111110
    uint8_t y=1;   //      OR BY   1 TO insert 1 at LSB position 00000001

    uint8_t b=a&x;
    uint8_t c=a|y;

    printf("\nValue of byte a : %d",a );
    printf("\nValue of byte b : %d",b );
    printf("\nValue of byte c : %d",c );
    getchar();
    return 0;
} 
```

a、b的值怎么能一样，即53我用的是Pelles C IDE

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:05:46.170

`255`是`11111111`二进制的。你想要 254 即`11111110`。?

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T12:11:33.073

你应该学习一些 de-Morgan 规则

```
X and 1 = X
X and 0 = 0
X or  1 = 1
X or  0 = X
X xor 0 = X
X xor 1 = not X   ---> this is the flipping so you need Var^1   (^means xor)
not ( X and Y) = (not X) or (not Y)
not ( X or Y ) = (not X) and (not Y)
X or Y = not ( (not X) and (not Y) ) 
```

其中 X 是变量的 lsb。

255 的 lsb 也是 1，1 的 lsb 也是 1

所以，

```
53 & 255 => lsb=1 because both lsb's are 1 
53 | 1 => lsb=1 because any one of the lsb's are 1 
```

如果要翻转 lsb，则如果使用**xor ，则只有第二个操作数的 lsb 需要为 1**

```
Var ^ 1 ==>flips the lsb of Var 
```

如果您只需要使用**and**，**而不是**and **or**来翻转 ，那么您需要使用 x3 或 x4 更多的计算（效率不高），这留给您作为 excersize。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T12:10:05.613

让我们用二进制写出数字：

```
 a = 00010011
        x = 11111111
        y = 00000001
b = a & x = 00010011
c = a | y = 00010011 
```

和的按位或是`y`，因为 的最低有效位已经是 1。`a``a``a`

任何 8 位数字的按位与`x`是相同的 8 位数字，因为 的所有位`x`都是 1。如果要将最低有效位设置为 1，则需要按位与 11111110 二进制 = 254十进制。`~`您可以使用按位运算符进行计算，而不是将其写出来。

```
uint8_t x = ~1;
uint8_t b = a & x; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-30T12:05:35.723

您如何期望通过与所有的与来在 LSB 处插入 0？

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-30T12:06:46.743

53 二进制： `00110101`

255 二进制：`11111111`

1 二进制： `00000001`

所以，

```
a & x = 00110101 & 11111111 = 00110101 = 53 
```

和

```
a | y = 00110101 | 00000001 = 00110101 = 53 
```

# cdi - CDI 对话范围传播：瞬态与长期运行

> ID：12196413
> 
> 赞同：4
> 
> 时间：2012-08-30T12:02:45.407
> 
> 标签：cdi, conversation-scope, weld

从焊接 CDI 文档：

> 对话上下文会随任何 JSF 面孔请求（JSF 表单提交）或重定向自动传播。它不会自动传播非人脸请求，例如通过链接导航。

我想知道，上下文是否也会在 JSF 面请求中传播瞬态对话？更一般地说，是否有关于瞬时和长期对话之间传播差异的概述？

假设第一个问题的答案是“是”，您能否提供一个需要长时间对话的用例？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T12:54:07.483

来自同一个文档：

> 会话上下文在任何 JSF 请求期间都处于活动状态。大多数对话在请求结束时被销毁。如果对话应该跨多个请求保持状态，则必须明确将其提升为长时间运行的对话。

如果会话是暂时的（从未提升为长期运行的），则其生命周期与请求绑定。

> ...假设第一个问题的答案是“是”...

这是不对的” ：）

> ...你能提供一个需要长时间对话的用例吗？...

跨越多个请求的所有任务（“工作单元”）。

我希望现在很清楚，请随时提出更多问题。

# iphone - 仅适用于 C++ 的 iOS 3D 引擎/SDK

> ID：12196414
> 
> 赞同：0
> 
> 时间：2012-08-30T12:02:45.547
> 
> 标签：iphone, c++, ios, ipad, 3d

我正在研究应该使用哪个引擎/sdk 在 C++ 中进行 3D iOS 开发虽然有这样的问题，但我还没有找到满足我要求的最佳解决方案，所以我期待听到你的经验。

*   由于缺乏控制，Unity 和 UDK 不是我想要的。
*   Shiva3D 看起来很有趣，但不需要额外的编辑器
*   Ninevehgl 没有蒙皮模型，也没有 C++
*   果酱完美但不需要多平台

要求：

*   许可或开源，最好是许可的，这意味着更扩展的 sdk/引擎
*   iOS iPhone/iPad，不首选安卓多平台。
*   快速加载刚性和蒙皮/装配的 3d 模型
*   C++

我目前的选择是 Marmalade，我已经测试了一段时间，但我遇到了一些问题，即结果因设备而异，所以这就是为什么我更喜欢仅 iOS 选项的原因。我看到的大多数使用 Marmalade 的游戏只是使用它将现有的 iOS 应用程序移植到 android，而不是发布到 iOS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:59:31.090

也许你可以试试 PowerVR Insider SDK。

*   它包含一个应用程序框架
*   它在 C++ 中
*   它包含加载 3d 模型的模块
*   不错的数学库，支持向量和矩阵

[http://www.imgtec.com/powervr/insider/powervr-insider.asp](http://www.imgtec.com/powervr/insider/powervr-insider.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T16:14:41.873

还可以考虑 cocos3d 库。它对 iPad/iPhone 是免费且强大的，并使用 OpenGLES 1.1/2.0。您可以从 Wavefront OBJ 格式加载模型或直接加载到界面中。

# jquery - jquery如何设置div的属性？

> ID：12196418
> 
> 赞同：0
> 
> 时间：2012-08-30T12:02:54.173
> 
> 标签：jquery, html

我想要一些带有我的 div 标签的隐藏/显示功能。我正在使用下面的代码来做到这一点，但它不起作用。

`.aspx`

```
 <div id="divCust" runat="server" clientidmode="Static" visible="false">
         abc Test
        </div>

<asp:Button ID="Button1" OnClientClick="return editDetail();" runat="server"
                Text="Add"/> 
```

`.js file`

```
function editDetail() {
    $('#divCust').css("display", "block");
} 
```

我在这段代码中缺少什么？？可以吗？如果有人对此有任何想法，请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:05:53.533

`visible`!=`display`

写`style="display: none;"`在你的 div 而不是`visible = "false"`你的代码应该可以工作。

# android - 定位最合适的 API

> ID：12196422
> 
> 赞同：9
> 
> 时间：2012-08-30T12:03:06.890
> 
> 标签：android

目前，我倾向于将我所有的应用程序开发都定位到 API 8，这样我就可以使用最多的设备，基本上是从 Android 2.2 开始。

阅读本文的经验丰富的 Android 开发人员是否对哪些功能有看法？作为开发人员，我“错过”了哪些功能，更重要的是，我的用户错过了什么？在这个时代，什么 API 是我的应用程序所针对的“最佳”API？或者没有这样的事情，每个应用程序都应该针对给定的 API 以它的优点为目标？

我不是在寻找诸如阅读 android 开发人员文档（我有，或者至少是我认为的突出部分）之类的指针，我对经验丰富的开发人员关于他们如何决定要定位哪个 API 的观点更感兴趣。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:21:26.553

如果您将目标和 minSdkVersion 设置为 7 并使用支持（兼容性）库 v4，那么您的应用将支持近 95% 的所有 android 手机，并且您仍然可以使用较新 API 的现代功能（通过使用支持库）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:52:33.893

我通常针对应用程序功能所需的最低 API。如果有一个小功能需要更高的 API，我将其设为可选，而不是增加整个应用程序的最小值。除了使用 ActionBarSherlock 和兼容性库之外，我偶尔会从后来的 API 中移植一些东西以保持当前的基础。

虽然我根据每个应用程序确定最低限度，但我的大多数应用程序都针对 2.1，因为它们是在大约一年半前编写的。现在，我有新的应用程序以 2.2 为目标，但我计划很快将其更改为 2.3。

我想我的观点是没有定义的最低 API 目标。您应该选择提供最大用户覆盖面以及尽可能多的主要功能的那个。操作栏和 ViewPager 等 UI 元素可以通过库使用，而库中不可用的元素有时可以向后移植。但是，为了更好的 UI 而牺牲运行较低 API 版本的用户通常是不值得的。

# c# - const 字段是否在编译时转换为静态字段？

> ID：12196423
> 
> 赞同：4
> 
> 时间：2012-08-30T12:03:07.527
> 
> 标签：c#

当它没有被声明为静态时，为什么我可以调用`TheFakeStaticClass.FooConst`它，就像它是静态的一样？

const 字段是否在编译时转换为静态字段？（我知道您不能更改 a `const`，因此您只需要“一个实例”。我之前使用过很多 const ，`Math.PI`但以前从未想过，现在我这样做了，现在我很好奇。

```
namespace ConstTest
{
    class Program
    {
        class TheFakeStaticClass
        {
            public const string FooConst = "IAmAConst";
        }

        class TheRealStaticClass
        {
            public static string FooStatic = "IAmStatic";
        }

        static void Main()
        {
            var fc = TheFakeStaticClass.FooConst; // No error at compile time!
            var fs = TheRealStaticClass.FooStatic;
            var p = new Program();
            p.TestInANoneStaticMethod();
        }

        private void TestInANoneStaticMethod()
        {
            var fc = TheFakeStaticClass.FooConst;
            var fs = TheRealStaticClass.FooStatic;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-30T12:05:49.357

来自 Jon Skeet -[为什么我不能同时使用 static 和 const](http://blogs.msdn.com/b/csharpfaq/archive/2004/03/12/why-can-t-i-use-code-static-code-and-code-const-code-together.aspx)

> **所有常量声明都是隐式**的 static ，并且 C# 规范声明禁止（冗余）包含 static 修饰符。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-30T12:05:45.297

[常量是隐式静态的。](http://blogs.msdn.com/b/csharpfaq/archive/2004/03/12/why-can-t-i-use-code-static-code-and-code-const-code-together.aspx)

常量的想法是它永远不能改变并且在编译时被分配。如果常量不是静态的，它们将在运行时创建。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T12:06:16.870

const 正如你所说的也是静态的。差异开始于 const 不能改变。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-30T12:06:53.917

不，它们是内联的。这意味着每次编译器看到常量的用法时，它都会用常量的值替换用法。这就是为什么必须在编译时评估 consts 的原因。

# testing - JMeter。线程间同步共享数据

> ID：12196429
> 
> 赞同：1
> 
> 时间：2012-08-30T12:03:23.690
> 
> 标签：testing, jmeter

如何在线程组内的所有线程之间共享数据（在理想的关联数组 String -> Integer 中）？我对同步数据访问或至少原子操作感兴趣。

或者我可以连接no-sql数据存储（即redis）和JMeter吗？任何现有的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T18:27:06.230

你应该澄清你打算用它做什么，并确保你真的需要它。如果得到确认，那么您有不同的选择：

*   使用第三方库 [http://code.google.com/p/jmeter-plugins/wiki/InterThreadCommunication](http://code.google.com/p/jmeter-plugins/wiki/InterThreadCommunication)

*   使用 Singleton 模式 + Java 采样器在 Java 中编写您自己的机制代码，请参阅[使用 JMeter 测试 Java 类](https://stackoverflow.com/questions/2379688/testing-java-classes-with-jmeter)

*   像以前一样为此使用 jsr223 (groovy) + java 自定义代码

但是再次确保您需要它，因为如果您通过自定义类在 JMeter 上添加争用，它可能会减慢 jmeter 或更糟糕的情况，您的测试会给出错误的结果或过于乐观的结果。

问候

菲利普·M。

# asp.net - ValidateRequest(false) 不适用于 FormCollection

> ID：12196433
> 
> 赞同：0
> 
> 时间：2012-08-30T12:03:32.113
> 
> 标签：asp.net, .net, asp.net-mvc

我试图添加对`System.Web.WebPages`DLL 的引用，并且 `System.Web.Mvc`. 但它显示以下错误：

该类型`'System.Web.Mvc.TagBuilder'`存在于`'System.Web.Mvc.dll'`和`'System.Web.WebPages.dll'`中。

我正在研究 ASP.NET MVC 2。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T13:19:26.447

System.Web.WebPages 不是 MVC2 的一部分。它是 MVC3 的一部分。

在 MVC3 中，Tagbuilder 已从 Mvc.dll 移至 WebPages.dll。这就是为什么在 mvc2 项目中引用 WebPages.dll 时出现此错误的原因。

# javascript - Javascript函数返回src路径

> ID：12196435
> 
> 赞同：21
> 
> 时间：2012-08-30T12:03:36.137
> 
> 标签：javascript, html, css

我试图通过调用一个返回路径的javascript函数来设置一个'src'，如下所示：

```
<img src="getImagePath()" /> 
```

功能：

```
function getImagePath(){

     return "images/image1.png";

} 
```

但这似乎不起作用。有什么我想念的吗？感谢任何人指出我正确的方向。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-30T12:06:44.250

该`src`属性采用 URL，而不是 JavaScript。你可能想试试

```
<img src="pixel.gif" onload="this.onload=null; this.src=getImagePath();" /> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-30T12:05:57.260

你不能这样做。解释 html 时，不能将元素的`src`属性解释为 javascript。`img`

但你可以这样做：

```
<img id=someImage>

<script>
    function getImagePath(){
     return "images/image1.png";
   }
   document.onload = function(){
       document.getElementById('someImage').src=getImagePath();
   };
</script> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-02-15T23:37:46.953

基于[Eugen 的回答](https://stackoverflow.com/a/12196492/1026023)`pixel.gif`，我想要一些不需要托管图像的独立（没有 id，尽可能内联） 。我想出了几个可能性：

**一种选择**是使用 base64 编码的 src URL（尽可能[小](http://proger.i-forge.net/%D0%9A%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80/[20121112]%20The%20smallest%20transparent%20pixel.html)）。请注意，[IE8+](http://caniuse.com/#feat=datauri)支持 data-uris ：

```
<img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" onload="this.onload=null; this.src=getImagePath();"> 
```

[在jsfiddle](https://jsfiddle.net/jcward/xut3xk91/)上查看它的实际效果。

**第二种选择**是使用`document.write`内联脚本直接编写图像标签。只需将下面的`<script>`而不是`<img>`. 请注意，许多人认为`document.write`这是[不好的做法](https://stackoverflow.com/questions/802854/why-is-document-write-considered-a-bad-practice)：

```
<script>
  function getImagePath() {
    return "http://i.imgur.com/4ILisqH.jpg";
  }
  document.write('<img src="'+getImagePath()+'">');
</script> 
```

[在 codepen.io 上](http://codepen.io/jeffward/pen/apMrKg)查看它的实际效果。

**第三种（也许更骇人听闻）选项**是通过提供空 src 来强制破坏图像，并（ab）使用`onerror`回调。

这适用于 IE11 和 Chrome，但*不适用于 Firefox*：

```
<img src onerror="this.onerror=null; this.src=getImagePath();"> 
```

[在jsfiddle](https://jsfiddle.net/jcward/rn9voc1z/)上查看它的实际效果。

**这第四个选项**依赖于一个简单的函数，该函数设置一个`<img>`标记，后跟一个`<script>`通过 JavaScript 设置图像 src 的内联：

```
<!-- In the <body> -->
<img><script>set_most_recent_img_src(getImagePath())</script> 
```

在你的`<head>`：

```
<!-- In the <head> -->
<script>
  function getImagePath() { return "https://www.gravatar.com/avatar/71ec7895cada78741057c644d858b0e3"; }

  function set_most_recent_img_src(val) {
    var a = document.body.getElementsByTagName('IMG');
    var img = a?a[a.length-1]:0;
    if (img) img.src = val;
  }
</script> 
```

[在codepen.io](http://codepen.io/jeffward/pen/JEzQKX?editors=1000#0)上查看它的实际效果。

**摘要：**我只是在构思。每个选项都有不同的含义和要求——它们都是变通方法，应该针对您的特定用例进行彻底测试。我个人认为第一个选项（base64 URI）是最可靠的（如果你忽略旧的 IE 浏览器，我很乐意这样做）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-07T22:25:28.023

[https://stackoverflow.com/a/17229404/487771](https://stackoverflow.com/a/17229404/487771)

```
<script type="text/javascript">
 var country = $("#SCountry").val();
 document.getElementById("iframeid").setAttribute("src","https://domain.com/country="+country)
 </script> 
```

# r - 从 SpatialPolygons 和其他 sp 类中提取特征坐标

> ID：12196440
> 
> 赞同：14
> 
> 时间：2012-08-30T12:03:55.457
> 
> 标签：r, class, ggplot2, spatial

包`sp`为不同的空间概念（点、线、多边形）提供了许多类。对于某些类，访问特征坐标很简单，例如`SpatialLines`。所有示例均取自相应的课程帮助页​​面。

```
l1 = cbind(c(1,2,3),c(3,2,2))
l1a = cbind(l1[,1]+.05,l1[,2]+.05)
l2 = cbind(c(1,2,3),c(1,1.5,1))
Sl1 = Line(l1)
Sl1a = Line(l1a)
Sl2 = Line(l2)
S1 = Lines(list(Sl1, Sl1a), ID="a")
S2 = Lines(list(Sl2), ID="b")
Sl = SpatialLines(list(S1,S2))
coordinates(Sl)
# [prints a list of two with corresponding segments] 
```

对于`SpatialPolygons`，`coordinates()`返回多边形中心，如下所示。

```
Sr1 = Polygon(cbind(c(2,4,4,1,2),c(2,3,5,4,2)))
Sr2 = Polygon(cbind(c(5,4,2,5),c(2,3,2,2)))
Sr3 = Polygon(cbind(c(4,4,5,10,4),c(5,3,2,5,5)))
Sr4 = Polygon(cbind(c(5,6,6,5,5),c(4,4,3,3,4)), hole = TRUE)

Srs1 = Polygons(list(Sr1), "s1")
Srs2 = Polygons(list(Sr2), "s2")
Srs3 = Polygons(list(Sr3, Sr4), "s3/4")
SpP = SpatialPolygons(list(Srs1,Srs2,Srs3), 1:3)
coordinates(SpP)
         [,1]     [,2]
[1,] 2.696970 3.545455
[2,] 3.666667 2.333333
[3,] 6.133333 3.933333 
```

普通包中是否有一个方便的功能可以提取特征坐标？我想出了一个函数`SpatialPolygons`，但我正在寻找经过更好测试并且一致的东西，甚至可能在大多数/所有`sp`类中。

```
getEdges <- function(x) {
    stopifnot(class(x) == "SpatialPolygons")
    lapply(x@polygons, function(y) {
                y@Polygons[[1]]@coords
            })
}
getEdges(SpP)
# [returns a list of three, coordinates in a matrix] 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-30T12:29:24.950

我能想到的最好方法是`fortify`使用`ggplot2`. `fortify`是一个通用函数，它具有将通用 R 对象（例如`lm`，等）转换为`data.frame`可`ggplot2`用于绘图的方法的方法。完整列表给出：

```
> ggplot2:::fortify.
ggplot2:::fortify.cld                                                                   
ggplot2:::fortify.confint.glht                                                          
ggplot2:::fortify.data.frame                                                            
ggplot2:::fortify.default                                                               
ggplot2:::fortify.glht                                                                  
ggplot2:::fortify.Line
ggplot2:::fortify.Lines
ggplot2:::fortify.lm
ggplot2:::fortify.map
ggplot2:::fortify.NULL
ggplot2:::fortify.Polygon
ggplot2:::fortify.Polygons
ggplot2:::fortify.SpatialLinesDataFrame
ggplot2:::fortify.SpatialPolygons
ggplot2:::fortify.SpatialPolygonsDataFrame
ggplot2:::fortify.summary.glht 
```

您可以看到这包括对象的`fortify`功能`SpatialPolygons*`。使用您的示例数据：

```
> obj = fortify(SpP)
   long lat order  hole piece  group   id
1     2   2     1 FALSE     1   s1.1   s1
2     1   4     2 FALSE     1   s1.1   s1
3     4   5     3 FALSE     1   s1.1   s1
4     4   3     4 FALSE     1   s1.1   s1
5     2   2     5 FALSE     1   s1.1   s1
6     5   2     1 FALSE     1   s2.1   s2
7     2   2     2 FALSE     1   s2.1   s2
8     4   3     3 FALSE     1   s2.1   s2
9     5   2     4 FALSE     1   s2.1   s2
10    4   5     1 FALSE     1 s3/4.1 s3/4
11   10   5     2 FALSE     1 s3/4.1 s3/4
12    5   2     3 FALSE     1 s3/4.1 s3/4
13    4   3     4 FALSE     1 s3/4.1 s3/4
14    4   5     5 FALSE     1 s3/4.1 s3/4
15    5   4     6  TRUE     2 s3/4.2 s3/4
16    5   3     7  TRUE     2 s3/4.2 s3/4
17    6   3     8  TRUE     2 s3/4.2 s3/4
18    6   4     9  TRUE     2 s3/4.2 s3/4
19    5   4    10  TRUE     2 s3/4.2 s3/4 
```

并绘制结果：

```
require(ggplot2); theme_set(theme_bw())
ggplot(aes(x = long, y = lat, group = group), data = obj) + geom_path() 
```

![在此处输入图像描述](../Images/43236e4be2eb1ac3bbab732cf7f3e906.png)

# python - 登录金字塔后请求恢复

> ID：12196442
> 
> 赞同：0
> 
> 时间：2012-08-30T12:04:02.257
> 
> 标签：python, login, pyramid

让我们有一些简单的页面，允许登录用户编辑文章。想象以下情况：

用户 Bob 已登录系统并正在编辑长文章。由于编辑此类文章需要很长时间，因此他的身份验证已过期。之后，他点击提交按钮，由于验证过期，他被重定向到登录页面。

在他成功登录后完成操作（保存文章）是非常可取的。因此，我们将恢复在 Bob 未经身份验证时完成的请求，并在成功登录后现在重复它。金字塔怎么能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:30:42.347

您需要三个部分；

1.  处理经过身份验证的表单提交的页面应检查请求是否经过正确身份验证，执行操作，但如果不是，则将所有数据存储在服务器端会话中并将使用重定向到登录页面。
2.  登录页面应查找“正在尝试执行 X”类型的查询参数（例如，`...?fromurl=/post/a/comment`. 用户成功登录后，登录页面应将用户重定向到该页面而不是站点的首页。
3.  用户被重定向到的 url*应该*与他们最初填写未经身份验证的请求时使用的表单相同。但是，在这种情况下，服务器应该认识到该用户的服务器端会话中存储了字段值；因此它应该使用这些值填充所有表单字段。然后用户可以立即点击提交并完成帖子。这可以以类似的方式工作，即当请求包含一些无效的表单值时重新填充字段。

重要的是，第 3 步不应*直接*执行帖子；原始数据和请求来自*未经身份验证*的用户。

# java - 如何在 Xtext DSL 中包含 Java 代码块？

> ID：12196448
> 
> 赞同：2
> 
> 时间：2012-08-30T12:04:13.767
> 
> 标签：java, dsl, xtext

在 Xtext 语法中，我可以使用`XExpression`/`XBlockExpression`类型包含一个 Xbase 代码块。我将如何对 Java 代码块做同样的事情？包含的 java 稍后应该包含在从 DSL 构造生成的 Java 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T14:23:43.423

不可能直接包含 Java 代码块（除非您准备编写完整的 Java 语法和相应的工具支持，例如变量解析或代码生成）。

但是，可以使用模型推断器中的内置 Xtext 服务或使用 XbaseCompiler 将 Xbase 代码块转换为 Java 代码块。也可以使用 XbaseInterpreter 类简单地解释它。

最后，如果你真的需要 Java 代码块，你可以将它们写在 .java 文件中，并使用 JvmIdentifiableElements 引用它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-04-12T17:45:57.360

您现在可以使用 JBase ( [https://github.com/LorenzoBettini/jbase](https://github.com/LorenzoBettini/jbase) ) 执行此操作。JBase 是专门为您描述的用例创建的（请参阅[https://dl.acm.org/citation.cfm?id=2972217](https://dl.acm.org/citation.cfm?id=2972217)），并且可以通过扩展 JBase 而不是 XBase 进行微小的更改。

# javascript - 使用 XML 绑定锚标记数据及其 href

> ID：12196449
> 
> 赞同：0
> 
> 时间：2012-08-30T12:04:15.873
> 
> 标签：javascript, jquery, xml, xml-parsing

我正在尝试将锚标记链接绑定到我的源。

实际需要是我有 XML 属性，例如`<btnVal>`and `<Link>`,

这里 Button Val 保存了向我们显示的 Learn More 的值，link 是点击链接应该去的地方的 href。

但是将这两者绑定到同一个ID时面临一个问题。

这是我尝试过的。

[http://jsfiddle.net/QNZDX/7/](http://jsfiddle.net/QNZDX/7/)

我需要一些帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:18:07.823

只是一些小问题`text()`和`#but_val`：

```
var link = $xmldata.find("images").find("image:eq(" + prevIndex + ")").find("link").text();
$("#but_val").attr('href', link ).fadeIn("slow"); 
```

[jsFiddle在这里](http://jsfiddle.net/QNZDX/10/)

# jquery - HoverOut 上的 SlideDown 和 SlideUp（快速篮）

> ID：12196482
> 
> 赞同：1
> 
> 时间：2012-08-30T12:06:01.393
> 
> 标签：jquery, shopping-cart, slidedown, slideup

我有一个快速的篮子；当您悬停购物篮链接时出现的结帐框 div。我希望篮子只在悬停在链接上时出现，当用户离开链接时它会消失。

如果用户在主 div 内并且只在鼠标外滑出，该框也应该保持静止。

让我痛苦地发布这个我无法得到它并且已经有一段时间了..

# jQuery

```
// Toggle the Quick Cart (uses Load Balance for higher TPS no que!)
$('#show-quick-cart').hover(function () {        
    $('#quickcart').slideDown(500);
    return false;
});
$('#quickcart').mouseleave(function () {        
    $(this).slideUp(500);
    return false;
}); 
```

# HTML5

```
<a id="show-quick-cart" href="#show-quick-cart">MY BAG</a>
<div id="show-quick-cart-zone">
    <div id="quickcart" class="quickcart hide">
        <div class="quickcarttitle"><span>SHOPPING BAG</span></div>
        <div class="quickcart-products">
            <p><strong>No items in your cart so far</strong></p>
            <a href="/cart?ref=quick-cart"><img src="//gc-cdn.com/cart/securecheckout.png"></a>
        </div>
    </div>
</div> 
```

# 演示

现场演示（页面）

[http://tinyurl.com/bwn33op](http://tinyurl.com/bwn33op)

实际的 jQuery

[http://tinyurl.com/cz6kl66](http://tinyurl.com/cz6kl66)

jsFiddle

[js小提琴](http://jsfiddle.net/2tBXa/11/)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:10:55.600

[**JSFiddle 上的演示**](http://jsfiddle.net/2tBXa/21/)

**HTML**

```
<div id="pardiv">
<a id="show-quick-cart" href="#show-quick-cart">MY BAG</a>
<div id="show-quick-cart-zone">
    <div id="quickcart" class="quickcart hide">
        <div class="quickcarttitle"><span>SHOPPING BAG</span></div>
        <div class="quickcart-products">
            <p><strong>No items in your cart so far</strong></p>
            <a href="/cart?ref=quick-cart"><img src="//gc-cdn.com/cart/securecheckout.png"></a>
        </div>
    </div>
</div>
</div>​ 
```

**jQuery**

```
$('#show-quick-cart').mouseenter(function () {        
    $('#quickcart').slideDown(500);
    return false;
});
$('#pardiv').mouseleave(function () {        

    $('#quickcart').slideUp(500);
    return false;
});

​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:07:14.733

`onmouseleave`不是有效的 JavaScript 事件`mouseleave`，只是删除`on`.

[小提琴](http://jsfiddle.net/Calou/2tBXa/12/)。

注意：[`hover`](http://api.jquery.com/hover/)它也不是一个有效的 JavaScript 事件，它是一个 jQuery 事件，所以它需要 2 个函数，一个用于`mouseenter`事件，第二个用于`mouseleave`，所以你应该使用它`mouseenter`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:12:34.627

## `.onmouseleave`不是 jQuery 中的函数。它是[.mouseleave()](http://api.jquery.com/mouseleave/)

**下面编辑**（在 OP 评论之后）

```
$('#show-quick-cart').on('mouseover mouseout',hover);
$('.quickcart').on('mouseover mouseout',hover);

function hover(e){
    e = e || event;
    var el = e.target || e.srcElement
       ,showel = $('.quickcart') //cache element to slide
    ;

    /* 
       test and set hoverstate of the element to slide
       note: because the sliding element contains more
       elements, we check for the originating element 
       *not* being the triggering element
    */
    if (!/show-quick-cart/i.test(el.id)) {
     showel .attr('data-ishovered',/over/i.test(e.type));
    } else {
     showel .attr('data-ishovered',false)
    }

    /* if image is hovered, no further action */
    if (/true/i.test(showel .attr('data-ishovered'))){return true;}

    /* only apply further hover handling to #NotificationSummary */
    if (/over$/i.test(e.type) && /show-quick-cart/i.test(el.id)){
       showel .slideDown();

    } else {
        /* use a timeout to allow the user to move over 
           into the image. If it's not hovered slide it up,
           otherwise, do nothing
        */
        setTimeout(function(){
            if (/false/i.test(showel .attr('data-ishovered'))) {
                showel .slideUp();
                showel .attr('data-ishovered',false);
            }
          }
        ,200);
    }
} 
```

​</p>

## [演示](http://jsfiddle.net/akhurshid/XqQHQ/)- （更新）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:12:27.220

```
$('#quickcart').mouseover(function () {        
    $(this).slideUp(500);
    return false;
}); 
```

# ios - Xcode iPad 在横向模式下的分辨率

> ID：12196484
> 
> 赞同：0
> 
> 时间：2012-08-30T12:06:02.087
> 
> 标签：ios, xcode, ipad

我是 iOS 开发的新手。我已经看到新的 iPad 3 具有 1536x2048 的分辨率。我问我的设计师所有的设计都应该在那个分辨率下，但现在我看到我必须调整每个图像、按钮和背景的大小以适应 xcode 故事板。如何在 xcode 中将开发分辨率设置为 1536*2048？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T12:19:15.180

你没有。Xcode 使用点来引用像素，并根据设备自动使用正确的图形。您必须制作两个图像副本，“image”和“image@2x”。

您使用“图像”进行所有开发，如果设备是视网膜，iOS 将自动使用@2x 版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T12:19:57.420

您的高清图像应该有`@2x`后缀。[请参阅资源编程指南](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/LoadingResources/ImageSoundResources/ImageSoundResources.html)的“在 iOS 中指定高分辨率图像”部分，

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:17:43.113

1536x2048 是屏幕的分辨率（以像素为单位），但在 xcode 中您使用的是点。所以 ipad3 仍然有 1024x786 点（与 ipad2 中的相同），但例如您可以转到点 0.5。

# c# - 使用 XNA 将矩形装入屏幕

> ID：12196485
> 
> 赞同：0
> 
> 时间：2012-08-30T12:06:04.670
> 
> 标签：c#, xna, xna-4.0

我正在用 XNA 中的图元绘制一个矩形。宽度为：

```
width = GraphicsDevice.Viewport.Width 
```

高度是

```
height = GraphicsDevice.Viewport.Height 
```

我正在尝试将这个矩形放入屏幕中（使用不同的屏幕和设备），但我不确定将相机放在 Z 轴的哪个位置。有时相机太近，有时太远。

这是我用来获取相机距离的方法：

```
//Height of piramid
float alpha = 0;
float beta = 0;
float gamma = 0;

alpha = (float)Math.Sqrt((width / 2 * width/2) + (height / 2 * height / 2));
beta = height / ((float)Math.Cos(MathHelper.ToRadians(67.5f)) * 2);
gamma = (float)Math.Sqrt(beta*beta - alpha*alpha);

position = new Vector3(0, 0, gamma); 
```

知道将相机放在 Z 轴的哪个位置吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:29:00.303

这样做的诀窍是**直接在光栅空间中绘制矩形**。这是 GPU 在实际渲染内容时工作的空间。

通常，您的模型从其自己的模型空间开始，您应用世界变换将其放入世界空间。然后，您应用视图变换来移动世界中相机周围的点（以获得相机在世界中移动的效果）。然后应用投影矩阵将所有这些点放入 GPU 用于绘图的空间中。

碰巧这个空间总是 - 无论屏幕大小 - 从视口左下角的**(-1,-1)到右上角的****(1,1)**（以及从 0 到 1 Z 轴表示深度）。

所以诀窍是将所有矩阵（世界、视图、项目）设置为`Matrix.Identity`，然后从 (-1,-1,0) 到 (1,1,0) 绘制一个矩形。您可能还想设置`DepthStencilState.None`它不会影响深度缓冲区。

* * *

另一种方法是仅使用`SpriteBatch`并绘制一个与`Viewport`.

# apache - Apache 重写规则以在 .com 和路径之间添加斜杠

> ID：12196488
> 
> 赞同：0
> 
> 时间：2012-08-30T12:06:26.827
> 
> 标签：apache, mod-rewrite

我需要一个规则

```
http://example.comfile.php 
```

并将其更改为

```
http://example.com/file.php 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2021-08-05T14:55:10.153

没有重写规则可以解决您的问题。该问题必须在创建 URL 的客户端上解决。
例如，如果您有生成 url 的 php 代码

`httpexamplecomindexhtml`

没有重写规则可以将其重写为

`http://example.com/index.html`

必须在客户端执行修复以生成格式正确的 URL。

# cygwin - 在 Cygwin 下使用 Intel Fortran Composer XE for Linux

> ID：12196489
> 
> 赞同：0
> 
> 时间：2012-08-30T12:06:30.740
> 
> 标签：cygwin, fortran, intel

我以前使用过 GNU FORTRAN 编译器`gfortran`。但由于[适用于 Linux 的英特尔 FORTRAN 编译器](http://software.intel.com/en-us/articles/intel-composer-xe/)可用于个人非商业用途，我决定试一试。Cygwin下可以用吗？我不知道从哪里开始让它工作，所以欢迎所有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:40:12.547

我之前的评论变成了某种答案......

乍一看是一个有趣的问题。但是，如果您能做到这一点，您将如何处理编译器创建的可执行文件？我怀疑你会这样做，但如果你这样做了，你会在 Windows 平台上拥有一个 Linux 可执行文件（英特尔编译器不支持从 Linux 交叉编译 Windows）。不要忘记 Cygwin 不是 Linux，它是一个 (DOS/Windows) 程序，它为 Windows 用户提供了一些 Linux 为其用户提供的设施。要从 Cygwin 命令行运行可执行文件，必须为 DOS/Windows 构建可执行文件。

您可能（而且我没有任何经验）进一步在您的 Windows PC 上安装 Linux VM 并在 VM 上安装编译器。您仍然无法从 Linux 编译器中获得 Windows 可执行文件，但如果成功，您将获得在 VM 下运行的可执行文件。

# android - 使用自定义库时的 INSTALL_FAILED_MISSING_SHARED_LIBRARY

> ID：12196490
> 
> 赞同：0
> 
> 时间：2012-08-30T12:06:34.537
> 
> 标签：android, shared-libraries, android-manifest

我正在使用[CloudApp Java Wrapper](https://github.com/simong/CloudAppJava)，这是我的 android 清单：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.github.cloudapp"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >

    <uses-library android:name="com.cloudapp.api" />
    <uses-library android:name="com.cloudapp.api.model" />
    <uses-library android:name="com.cloudapp.impl" />
    <uses-library android:name="com.cloudapp.impl.model" />

    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

我不断`INSTALL_FAILED_MISSING_SHARED_LIBRARY`检查 LogCat，但在 LogCat 上什么都没有，我确定我在清单中正确声明了库。我究竟做错了什么？包名有错吗？我正在使用[这里](https://github.com/simong/CloudAppJava/downloads)的罐子。

这也是图书馆的截图：

![在此处输入图像描述](../Images/7195353f0e84ef64ae3e3c1801c363f2.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T14:29:44.790

只需从`AndroidManifest.xml`

```
<uses-library android:name="com.cloudapp.api" />
<uses-library android:name="com.cloudapp.api.model" />
<uses-library android:name="com.cloudapp.impl" />
<uses-library android:name="com.cloudapp.impl.model" /> 
```

仅在碰巧使用 时才需要使用这些标签`shared-libraries`，它们是`*.so`文件，通常位于`/libs`目录中。这些`shared-libraries`是在运行时加载的；但是，您`references-libraries`是在编译时使用项目构建的。

# php - 真的很奇怪 OpenCart（产品特价）+ FireFox（缓存？）问题

> ID：12196491
> 
> 赞同：0
> 
> 时间：2012-08-30T12:06:38.163
> 
> 标签：php, firefox, opencart

以下页面通常显示特殊的“销售”价格[http://tinyurl.com/9ja5eu2](http://tinyurl.com/9ja5eu2)（我认为它现在已停用）。如图所示，它无法在“某些”计算机和“某些”浏览器 (Firefox) 中显示价格。

我远程登录到其中一台错误的计算机并在 Firefox 中启动它，我看到它在 IE 中正常工作，但在 Firefox 中无法正常工作。我清除了 Firefox 中的缓存并重新加载了页面，但仍然没有显示销售价格。

![在此处输入图像描述](../Images/9f8589c57ddc34b918d3aaa133deebd2.png)

有谁知道为什么“特殊”价格不会出现在 Firefox 的某些计算机上？它在 Firefox 和所有其他浏览器的家庭和工作计算机上运行良好，但在其他人的计算机上运行良好。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T11:50:30.317

解决方案是更新打开的购物车。一定有什么东西被破坏了或者什么的……

# performance - NoSQL 数据库的开销和（低）效率？

> ID：12196499
> 
> 赞同：6
> 
> 时间：2012-08-30T12:07:04.953
> 
> 标签：performance, nosql, overhead

我有一个关于 NoSQL 类型数据库的问题，特别是 MongoDB，但它通常适用于大多数基于键值或文档的存储。NoSQL 的一些卖点是速度和可扩展性，但在我看来，与关系数据库相比，开销很大。

1.  你有很多重复，因为（几乎）一切都是非规范化的。您对此无能为力，因为这是此类数据库的重点。我更关心下一个：

2.  有很多开销，因为如果你有一个 JSON 文档，你必须保存每个文档的所有键（和所有结构信息）。因此，对于 10000 行，您必须保存字符串 'age'、'name'、... 10000 次。

3.  数据库不能做很多聪明的事情，比如创建索引或二叉树（以节省时间）或以紧凑的方式存储整数（因为一个自由格式的文档可能有一个字符串，而所有其他文档都有一个 int， ETC。）

我知道您可以编写自己的视图或 map/reduce 算法来获得类似索引的东西，但乍一看，对于一般情况，NoSQL 必须非常低效地占用空间和 CPU。

真的有那么糟糕吗？NoSQL 数据库（比如 MongoDB）中进行了哪些优化？与使用关系数据库相比，存储大量相同的复杂 JSON 文档的开销是多少？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T15:06:23.247

首先，任何开销或效率低下往往不仅仅是代表优先级的选择；某处的开销会给您在其他地方的优势。

至于您的具体点，我认为答案在很大程度上取决于确切的 NoSQL 产品，即使在键值或基于文档的子组中也是如此，但这里有一些想法：

> 1-您有很多重复，因为（几乎）所有内容都未标准化。您对此无能为力，因为这是此类数据库的重点。

实际上，大多数（如果不是全部）键值数据库可以与您想要的任何模式一起使用。因此，您可以在键值存储上放置一个“规范化模式”，从而避免重复。不要忘记某些（或大多数？）键值数据库有可用的 SQL 解决方案。

> 2- 有很多开销，因为如果你有一个 JSON 文档，你必须保存每个文档的所有键（和所有结构信息）。因此，对于 10000 行，您必须保存字符串 'age'、'name'、... 10000 次。

我想这取决于数据库引擎的实现方式，但是可以使用压缩——无论是复杂的还是简单的“标记化”——并且不会导致显着的开销。

> 3- 数据库不能做很多聪明的事情，比如创建索引或二叉树（以节省时间）或以紧凑的方式存储整数（因为一个自由格式的文档可能有一个字符串，而所有其他文档都有一个整数等）

同样，没有什么可以阻止键值或基于文档的数据库在后台使用任何类型的树或以紧凑的方式存储整数（例如，它可以有一个简单的二进制标志来指示数据是否存储为字符串或“紧凑整数”）。至于创建索引，这也是可能的（出于 1 中所述的相同原因，或由应用程序手动完成）。

# ruby - 如何使用 DataMapper 重新加载实例

> ID：12196500
> 
> 赞同：0
> 
> 时间：2012-08-30T12:07:06.280
> 
> 标签：ruby, ruby-datamapper, datamapper-1.2

经过多年的 AR 经验，我正在使用 DataMapper 作为 ORM 框架。出于这个原因，我有时会尝试找到一个特定的 DM 函数来反映 AR 的某些行为。有时我很幸运，有时我不是。使用#reload 指令，我有点不知所措。该方法存在，但不知何故并没有达到我的预期。基本上，DM 以某种方式将实例中的每个属性标记为“未加载”，而不是 AR 行为中实例属性将通过数据库进行更新。

有人可以告诉我这是否可以使用 DM 来实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T23:21:19.953

DataMapper 将属性标记为未加载，并将在下次访问时加载它们。

这是支持[延迟加载](http://datamapper.org/articles/spotlight_on_laziness.html)组的结果。DM-1 将等待查看接下来访问的属性以仅加载一组有限的属性。

默认情况下，所有属性都在 :default 组中，因此很可能所有属性都在您点击一个时加载。

如果不需要这种惰性行为，您可以执行以下操作：

```
resource = YourClass.first(:some => :stuff)
# full non lazy reload (make sure you do not have 
# a reference to old somewhere that causes confusion
resource = resource.model.get(resource.id) 
```

# java - 如何用Java替换.sh中的单行？

> ID：12196506
> 
> 赞同：1
> 
> 时间：2012-08-30T12:07:18.940
> 
> 标签：java

我有一个带有 .sh 脚本的 .sh 脚本`property=value`。随它去：

> some_property="一些价值"

该属性的值与脚本一起使用，并且脚本在 Java 代码中启动。我想动态更改此属性的值。我尝试使用`replaceFirst()`方法，但我不知道“some_property”的实际值来使用正则表达式正确替换它。

如何通过替换以`"some_property="`by开头的单行来编辑 .sh 文件`some_property=my_value`？顺便说一句，文件中有几个地方可以满足模式“some_property =”，所以我需要更改第一次出现。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T12:18:35.867

使用正则表达式应该没问题：

```
line.replaceFirst("some_property=.*$", "some_property=\"" + your_value + "\""); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:09:40.097

您可以使用[String.indexOf(int)](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf%28int%29)`=`获取and的位置，然后使用例如[replace(CharSequence, CharSequence) 替换](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29)and之间的字符串。`\n``=``\n`

顺便说一句 - `some_property=(.+)`（并更换 1 美元）不行吗？:)

# mysql - 对连接表的计数导致返回 1 行

> ID：12196510
> 
> 赞同：0
> 
> 时间：2012-08-30T12:07:28.493
> 
> 标签：mysql, join, count, left-join

我有这样的查询：

```
SELECT 
    b.title,
    b.url,
    b.`date`,
    b.gallery,
    count(c.id) as comments_count,
    a.name,
    b.content,
    b.comments,
    LEFT(b.content, LOCATE('&lt;page&gt;', b.content)-1) as content_short 
FROM blog b 
LEFT JOIN blog_comments c ON 
    (b.id = c.note AND c.approved = 1) 
LEFT JOIN administrators a ON 
    (b.aid = a.id) 
WHERE 
    b.`date` < now() AND 
    b.active = 1 
ORDER BY b.`date` DESC; 
```

现在，当我删除时`count(c.id) as comments_count,`，我返回了 2 行。当它存在时，只返回 1 行。

有什么方法可以解决 ot 或者我只需要更改 `count(c.id) as comments_count,`为`(select count(id) as`comments_count`from blog_comments where note = b.id) as comments_count,`吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:10:30.907

`Count(*)`是一个聚合函数，因此它将应用于一个组。这意味着当您依靠组时，它将将该功能应用于每个组。这些组是在您使用 Group By 时形成的，在这种情况下，您没有使用，因此`MySQL`请考虑所有选择（您的加入）**只有 1 个 GROUP。**

因此，将计数应用于唯一组并返回行数。

`Group by`你应该在你想要的字段中添加一个

一个例子是[here](http://www.tizag.com/mysqlTutorial/mysqlgroupby.php)

# android - GoogleMap/Custombitmap Tiles 加载大小超出 VM 预算 java.lang.OutOfMemoryError：

> ID：12196511
> 
> 赞同：-1
> 
> 时间：2012-08-30T12:07:33.920
> 
> 标签：android, bitmap, maps, scale

谷歌如何缩放谷歌地图中的图像，我正在尝试创建一个使用自定义地图而不是谷歌地图的应用程序。一切都很好，只是我无法为尺寸> 240 x 320的手机相应地缩放图像，但对于尺寸大于此的手机会崩溃，因为我超过了android中应用程序的默认堆大小并获得了java .lang.OutOfMemoryError：位图大小超出 VM 预算。我只是不知道如何根据手机的分辨率缩放图像。

这就是正在做的事情：

1）首先计算手机的宽度和高度：

```
Display display = getWindowManager().getDefaultDisplay();
            Constatnts.SCR_WD = display.getWidth();
            Constatnts.SCR_HT = display.getHeight(); 
```

2) 我为 zoomIn 按钮设置了一个 onclicklistener，它调用了 zoomout 函数：

```
public void zoomOut() {
        if (isloading > 5)
            return;
        System.gc();

        if (zoomLevel < 12) {
            dc = true;
            sc = true;
            emptyBuffer();
            zoom = -1;
            stopload = true;
            bitmapArr1 = new Bitmap[tilesyno][tilesxno];
            for (int i = 0; i < bitmapArr.length; i++) {// row
                for (int j = 0; j < bitmapArr[i].length; j++) {// coloum
                    if (bitmapArr[i][j] != null) {
                        int tmpTilewd = bitmapArr[i][j].getWidth() / 2;
                        int tmpTileHt = bitmapArr[i][j].getHeight() / 2;
                        Bitmap b = ExtraFunctions.ScaleBitmap(bitmapArr[i][j],
                                tmpTilewd, tmpTileHt);
                        if (bitmapArr1 != null)
                            bitmapArr1[i][j] = b;
                    }
                }
            }

            lastPressed1 = System.currentTimeMillis();
            setCenterLatLon();
            zoomLevel++;
            if (!isStarted)
                tryLoadMap();
        }
    }

void tryLoadMap() {
        if (isStarted)
            return;
        isStarted = true;
        Thread th = new Thread() {
            public void run() {
                try {
                    Thread.sleep(System.currentTimeMillis() - lastPressed1);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                loadLocalMap();
                if (showDirection)
                    DirectionPath(lat, lon);

                if (isSearchAvail)
                    SearchPath(lat, lon, tmpselected);

                isStarted = false;
            }
        };
        th.start();
    } 
```

对于缩放：

```
 public static Bitmap ScaleBitmap(Bitmap bitmapOrg,int newWidth,int newHeight) {
    if(bitmapOrg==null)
        return null;

    int width = bitmapOrg.getWidth();
    int height = bitmapOrg.getHeight();
    // calculate the scale - in this case = 0.4f
    float scaleWidth = ((float) newWidth) / width;
    float scaleHeight = ((float) newHeight) / height;

    // createa matrix for the manipulation
    Matrix matrix = new Matrix();
    // resize the bit map
    matrix.postScale(scaleWidth, scaleHeight);
    // rotate the Bitmap
    //matrix.postRotate(45);

    // recreate the new Bitmap
    return Bitmap
            .createBitmap(bitmapOrg, 0, 0, width, height, matrix, true);
} 
```

日志猫：

```
08-30 17:09:30.342: E/dalvikvm-heap(440): 1451808-byte external allocation too large for this process.
08-30 17:09:30.382: E/GraphicsJNI(440): VM won't let us allocate 1451808 bytes
08-30 17:09:30.382: D/AndroidRuntime(440): Shutting down VM
08-30 17:09:30.401: W/dalvikvm(440): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
08-30 17:09:30.442: E/AndroidRuntime(440): FATAL EXCEPTION: main
08-30 17:09:30.442: E/AndroidRuntime(440): java.lang.IllegalStateException: Could not execute method of the activity
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.view.View$1.onClick(View.java:2072)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.view.View.performClick(View.java:2408)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.view.View$PerformClick.run(View.java:8816)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.os.Handler.handleCallback(Handler.java:587)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.os.Handler.dispatchMessage(Handler.java:92)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.os.Looper.loop(Looper.java:123)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.app.ActivityThread.main(ActivityThread.java:4627)
08-30 17:09:30.442: E/AndroidRuntime(440):  at java.lang.reflect.Method.invokeNative(Native Method)
08-30 17:09:30.442: E/AndroidRuntime(440):  at java.lang.reflect.Method.invoke(Method.java:521)
08-30 17:09:30.442: E/AndroidRuntime(440):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
08-30 17:09:30.442: E/AndroidRuntime(440):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
08-30 17:09:30.442: E/AndroidRuntime(440):  at dalvik.system.NativeStart.main(Native Method)
08-30 17:09:30.442: E/AndroidRuntime(440): Caused by: java.lang.reflect.InvocationTargetException
08-30 17:09:30.442: E/AndroidRuntime(440):  at com.Map.zoomIn(MapScreen.java:762)
08-30 17:09:30.442: E/AndroidRuntime(440):  at java.lang.reflect.Method.invokeNative(Native Method)
08-30 17:09:30.442: E/AndroidRuntime(440):  at java.lang.reflect.Method.invoke(Method.java:521)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.view.View$1.onClick(View.java:2067)
08-30 17:09:30.442: E/AndroidRuntime(440):  ... 11 more
08-30 17:09:30.442: E/AndroidRuntime(440): Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.graphics.Bitmap.nativeCreate(Native Method)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.graphics.Bitmap.createBitmap(Bitmap.java:468)
08-30 17:09:30.442: E/AndroidRuntime(440):  at android.graphics.Bitmap.createBitmap(Bitmap.java:435)
08-30 17:09:30.442: E/AndroidRuntime(440):  at com.Map.ncore.XtraFunctions.ScaleBitmap(ExtraFunctions.java:32)
08-30 17:09:30.442: E/AndroidRuntime(440):  at com.Map.MapCanvas.zoomIn(MapCanvas.java:1018)
08-30 17:09:30.442: E/AndroidRuntime(440):  ... 15 more
08-30 17:14:30.522: I/Process(440): Sending signal. PID: 440 SIG: 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:22:00.303

嗯是什么`bitmapArr[i][j]`？那些解码的位图？如果是这样，那么您有点错过了重点。在将它们读入`bitmapArr`. 否则，您将保留原件和下采样的副本，什么都不保存（实际上使用更多内存）。在知道要缩小到什么大小之前，您不应该从磁盘（或任何地方）读取图像。

# html - 如何增加图像的宽度/高度，原点保持居中

> ID：12196513
> 
> 赞同：3
> 
> 时间：2012-08-30T12:07:53.513
> 
> 标签：html, css

我有一张图片：

```
<img src="my_image.png"/> 
```

我希望它分别增加它的宽度和高度，但原点应该从中心开始。因为一般当图像大小增加时，原点在左上角。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:14:30.767

您好，您可以通过`display:table-cell;` `vertical-align:middle;`&得到您想要的结果`text-align:center`；请参阅以下代码：-

您可以根据您的要求增加宽度和高度图像将出现在中心。

**HTML**

```
<div id="parent">
      <img src="http://dummy-images.com/abstract/dummy-107x160-RedDots.jpg" />
    </div> 
```

**CSS**

```
#parent {
    display:table-cell;
    width : 700px;
    height : 400px;
    background-color: black;
    vertical-align:middle;
    text-align:center;
} 
```

演示：- [http://tinkerbin.com/IZxFN8cH](http://tinkerbin.com/IZxFN8cH)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:21:11.027

这是你想要的吗？

[http://jsfiddle.net/4yR8M/](http://jsfiddle.net/4yR8M/1)

CSS：

```
#container {
    width: 300px;
    height: 300px;
    line-height: 300px;
    text-align: center;
    background: #123;    
}

#container img {
    width: 100px;
    vertical-align: middle;
} 
```

html:

```
<div id="container">
    <img src="your/image/url"/>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:23:23.413

我认为 image origin 的意思是——有些人说它是 pivot 。它就像一个重心。当我们增加图像宽度时，增加图像的左上角保持不变并且宽度向右上角增加，相同的高度向底部增加，

他想从中心增加高度和宽度，而不是从 RHS 或底部我认为最终的解决方案是使用 JQuery

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-09-16T05:11:55.097

使用：变换：缩放（）；

示例 :transform:scale(1.1);

# java - 包含一个映射或简单类型的 JAXB 对象

> ID：12196517
> 
> 赞同：1
> 
> 时间：2012-08-30T12:08:04.280
> 
> 标签：java, object, map, jaxb, hashmap

# 包含一个映射或简单类型的 JAXB 对象

想法是拥有一个具有成员“值”的类，该成员“值”可以包含简单类型（如字符串或整数）以及简单类型的 Map，连接到布尔值（例如 HashMap

这是一个“工作”示例，它显示了我想要做的事情：

```
package test;

import java.io.File;
import java.util.HashMap;
import java.util.Map;

import javax.xml.bind.JAXB;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlElements;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlSeeAlso;

@XmlRootElement
public class TestJAXB {
    public static void main(String[] args) {
        TestJAXB test = new TestJAXB();
        JAXB.marshal(test, new File("foo.xml"));
    }

    Container one;
    Container two;
    Container three;
    Container four;

    public TestJAXB() {
        this.one = new Container("foo");
        this.two = new Container("42");
        this.three = new Container(true);

        HashMap<Object, Boolean> map = new HashMap<Object, Boolean>();
        map.put("foo", false);
        map.put("bar", false);
        map.put("foobar", true);

        this.four = new Container(map);

    }

    @XmlElement
    public Container getOne() {
        return one;
    }

    public void setOne(Container one) {
        this.one = one;
    }

    @XmlElement
    public Container getTwo() {
        return two;
    }

    public void setTwo(Container two) {
        this.two = two;
    }

    @XmlElement
    public Container getThree() {
        return three;
    }

    public void setThree(Container three) {
        this.three = three;
    }

    @XmlElement
    public Container getFour() {
        return four;
    }

    public void setFour(Container four) {
        this.four = four;
    }
}

@XmlRootElement
@XmlSeeAlso(HashMap.class)
class Container {
    Map<Object, Boolean> value = null;
    boolean wasMap = false;

    protected Container() {

    }

    protected Container(Object value) {
        this.setValue(value);
    }

    @XmlElements({ @XmlElement(name = "string", type = String.class), @XmlElement(name = "bool", type = Boolean.class), @XmlElement(name = "int", type = Integer.class), })
    public Object getValue() {
        if (wasMap) {
            return value;
        } else {
            return value.keySet().toArray()[0];
        }
    }

    @SuppressWarnings("unchecked")
    public void setValue(Object value) {
        if (value instanceof Map) {
            this.value = (Map<Object, Boolean>) value;
            this.wasMap = true;
        } else {
            this.value = new HashMap<Object, Boolean>();
            this.value.put(value, false);
            this.wasMap = false;
        }
    }
} 
```

好吧，简单的类型被编组为精细的 xml，但地图的元素保持为空：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<testJAXB>
    <four>
        <string xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="hashMap"/>
    </four>
    <one>
        <string>foo</string>
    </one>
    <three>
        <bool>true</bool>
    </three>
    <two>
        <string>42</string>
    </two>
</testJAXB> 
```

我做错了什么？我能做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:38:09.870

您必须`javax.xml.bind.annotation.adapters.XmlAdapter`为 HashMap 创建。
示例您可以在这里获取
[示例](http://blog.bdoughan.com/2010/07/xmladapter-jaxbs-secret-weapon.html)

# jquery-ui - Symfony 2.0 日期时间小部件；如何使用 JQuery UI 日期选择器进行渲染？

> ID：12196518
> 
> 赞同：6
> 
> 时间：2012-08-30T12:08:04.727
> 
> 标签：jquery-ui, symfony

我有一个 Symfony 2.0 应用程序。

它在实体上有一个日期时间字段，在表单上有一个日期时间字段。

如何使用 jQuery UI 日期选择器而不是 3 个选择框呈现该表单的日期部分？

谢谢，

编辑

这是我到目前为止所拥有的：

```
$builder->add('start_at', 'datetime',array('date_widget' => 'single_text')); 
```

这会在页面上放置一个日期文本框，然后是 2 个时间选择框，您可以轻松地在其上添加一个 jQuery UI！

问题是 Symfony 日期时间字段只接受格式为“2012 年 8 月 29 日”的输入。如果用户输入“2012 年 8 月 29 日”或“2012 年 8 月 29 日”，则拒绝验证。

因此，任何能够解决该问题或提出完全不同的工作方法的人将不胜感激。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-21T01:05:46.163

我最终使用了这段代码

```
 $builder->add('start_at', 'datetime' ,array(
            'date_widget'=> 'single_text',
            'date_format'=>'d/M/y',
            ....
        )); 
```

然后将 jQuery UI 放在上面，并处理它只接受一种格式的输入这一事实。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T12:14:35.333

看看这个捆绑包。它提供了几种额外的表单类型，包括一个 jquery 日期表单字段：

[https://github.com/genemu/GenemuFormBundle](https://github.com/genemu/GenemuFormBundle)

# jquery - 使用 jQuery 导入 CSV 文件

> ID：12196520
> 
> 赞同：1
> 
> 时间：2012-08-30T12:08:05.477
> 
> 标签：jquery, asp.net, ajax, csv

有谁知道从 CSV 文件中获取数据的方法，然后将其放入可以通过 AJAX 传递给我的网络服务的数组中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:12:32.800

用一个不错的 jQuery 解决方案替换了我的整个答案：

```
$(document).ready(function() {
            var data = '"REVIEW_DATE","AUTHOR","ISBN","DISCOUNTED_PRICE"    "1985/01/21","Douglas Adams",0345391802,5.95    "1990/01/12","Douglas Hofstadter",0465026567,9.95   "1998/07/15","Timothy ""The Parser"" Campbell",0968411304,18.99 "1999/12/03","Richard Friedman",0060630353,5.95 "2001/09/19","Karen Armstrong",0345384563,9.95  "2002/06/23","David Jones",0198504691,9.95  "2002/06/23","Julian Jaynes",0618057072,12.50   "2003/09/30","Scott Adams",0740721909,4.95  "2004/10/04","Benjamin Radcliff",0804818088,4.95    "2004/10/04","Randel Helms",0879755725,4.50';

            var array1 = data.split("\t");
            var array2 = new Array();

            for (var i = 0; i < array1.length; i++) {
                array2.push(array1[i].split(","));
                for (var j = 0; j < array2[i].length; j++) {
                    $('ul').append('<li>'+array2[i][j]+'</li>');
                }               
                $('ul').append('<li><hr></li>');
            }
        }); 
```

唯一的区别是您必须执行以下操作才能检索 CSV 文件...

```
 $.ajax({
      url: "file.csv",
      success: function(data) {
        var array1 = data.split("\t");
        var array2 = new Array();

        for (var i = 0; i < array1.length; i++) {
            array2.push(array1[i].split(","));
            for (var j = 0; j < array2[i].length; j++) {
                $('ul').append('<li>'+array2[i][j]+'</li>');
            }               
            $('ul').append('<li><hr></li>');
        }
      }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:13:23.963

FileReference 和 FileAPI 是大多数现代浏览器都可用的库。收到文件并以字符数组的形式访问它后，您可以应用正则表达式或拆分。

一个例子：

```
// this first part is from FileAPI
// it allows you access to files that
// the user has selected
var file = $('#file').get().files[0];
data = getAsText(file);

// assuming you'll use a semicolon as separator
// and you're not forcing all fields to be quoted
var an_array = data.split(";");

$.post('script.php', an_array, function(response) {
    // Do something with the response
}, 'json'); 
```

该`getAsText()`函数不是 API 的一部分，我从[这里](http://www.w3.org/TR/FileAPI/)读到它，没有理由完全复制它。

搜索[我可以使用。com](http://caniuse.com)

# wpf - 颜色选择器渐变图

> ID：12196523
> 
> 赞同：0
> 
> 时间：2012-08-30T12:08:18.757
> 
> 标签：wpf, vb.net, performance

我自己写了一个小的颜色选择器代码，效果很好。但是问题是，当我移动幻灯片以获取选定颜色（RGB）时，画布（白色黑色渐变和选定颜色需要时间。延迟是因为代码： ![在此处输入图像描述](../Images/15319e24b90e18270e81201b6ec452eb.png)

代码如下：

```
Try
    'Dim converter As New SlidertoColor
    'Dim cornercolor As Color = converter.Convert(MySlider.Value, Nothing, Nothing, Nothing)

    Dim cornercolor As Color = Value
    Dim y As Integer = 0
    Dim x As Integer = 0

    Dim wb As New WriteableBitmap(256, 256, 96, 96, PixelFormats.Pbgra32, Nothing)
    Dim stride As Integer = CInt((wb.PixelWidth * wb.Format.BitsPerPixel) / 8)

    Dim RD As Decimal = cornercolor.R / 255
    Dim GD As Decimal = cornercolor.G / 255
    Dim BD As Decimal = cornercolor.B / 255

    Dim r As Decimal = cornercolor.R
    Dim g As Decimal = cornercolor.G
    Dim b As Decimal = cornercolor.B

    Dim lr As New List(Of Decimal)
    Dim lb As New List(Of Decimal)
    Dim lg As New List(Of Decimal)

    Try
        For i = 0 To 255
            lr.Add(r)
            r = r - RD
            lg.Add(g)
            g = g - GD
            lb.Add(b)
            b = b - BD
        Next

    Catch ex As Exception

    End Try

    r = cornercolor.R
    g = cornercolor.G
    b = cornercolor.B

    'For y = 255 To 0 Step -1
    For y = 0 To 255
        RD = ((255 - y) - lr(y)) / 255
        GD = ((255 - y) - lg(y)) / 255
        BD = ((255 - y) - lb(y)) / 255

        If RD < 0 Then
            RD = RD * -1
        End If
        If GD < 0 Then
            GD = GD * -1
        End If
        If BD < 0 Then
            BD = BD * -1
        End If

        'Need to work on this section
        r = 255 - y
        g = 255 - y
        b = 255 - y

        For x = 0 To 255
            Try
                Dim colorData As Byte() = {
                CByte(b),
                CByte(g),
                CByte(r),
                CByte(255)}

                Dim rect As New Int32Rect(x, y, 1, 1)
                wb.WritePixels(rect, colorData, stride, 0)

                r = r - RD
                g = g - GD
                b = b - BD

                If r < 0 Then
                    r = 0
                End If
                If g < 0 Then
                    g = 0
                End If
                If b < 0 Then
                    b = 0
                End If
            Catch ex As Exception

            End Try

        Next
    Next

    'Dim colorData As Byte() = {CByte(blue), CByte(green),
    '                           CByte(red), CByte(255)}
    'Dim rect As New Int32Rect(x, y, 1, 1)

    'Try
    '    wb.WritePixels(rect, colorData, stride, 0)
    'Catch ex As Exception
    'End Try

    Dim k As New ImageBrush
    k.ImageSource = wb
    Return k 
```

你能告诉我如何加快这个过程，或者有没有一种有效的方法来实现这一点。我知道有免费使用的颜色选择器，但我想尝试自己的。我正在使用 VB.Net，WPF。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-02T05:56:56.763

找到了答案，看来梯度图也是用xaml完全一样的方式制作的，如下：

```
</Canvas>-->
    <Canvas Width="256" Height="256" Margin="32,30,215,26">
        <Canvas.Background>
            <LinearGradientBrush StartPoint="0 0.5" EndPoint="1 0.5">
                <GradientStop Color="White" Offset="0" />
                <GradientStop Offset="1" Color="{Binding ElementName=MySlider, Path=Value, Converter={StaticResource SlidertoColor1}}" />
            </LinearGradientBrush>
        </Canvas.Background>
        <Canvas Width="256" Height="256">
            <Canvas.Background>
                <LinearGradientBrush StartPoint="0.5 0" EndPoint="0.5 1">
                    <GradientStop Color="Transparent" Offset="0" />
                    <GradientStop Color="Black" Offset="1" />
                </LinearGradientBrush>
            </Canvas.Background>
        </Canvas>
    </Canvas> 
```

谢谢您的支持。

# java - JLabel HTML 渲染的奇怪问题

> ID：12196524
> 
> 赞同：1
> 
> 时间：2012-08-30T12:08:18.873
> 
> 标签：java, html, swing, miglayout

我有以下非常简单的代码，用于创建 JLabel 并将其添加到使用 MigLayout 布局管理器的面板中：

```
MigLayout layout = new MigLayout();
JPanel panel = new JPanel(layout);
panel.setBackground(Color.GRAY);
JLabel label = new JLabel("<html><h3>Some Text</h3></html>");
panel.add(label, "growx,w 220!,h 40!,top"); 
```

这应该将标签呈现为透明，以便面板背景在标签后面可见 - 这是我们想要的行为。

然而，在某些 PC 上，标签以纯**白色**背景呈现 - 即好像 opaque=true 已设置。

**奇怪的是，如果标签文本没有**使用 html 格式化，这不是问题。

```
JLabel label = new JLabel("Some text"); 
```

我们使用 BasicLabelUI 作为 UI 委托，所以我希望在这里看到标准的绘画行为。

这是在 Windows XP 中使用 jre 1.6.0_30 运行的。有没有人见过这样的东西？这可能与在不同机器上运行的图形硬件之间的差异有关吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T09:10:02.423

在解决问题一段时间后，我已经弄清楚发生了什么。

它与样式表和 HTMLEditorKit 有关。

假设以下示例 css：

```
body  {
background-color: #ffff00} 
```

下面的代码简单地将它加载到一个新的 HTMLEditorKit 实例中，然后将一个非透明的 html 标签添加到面板中。

```
public class HTMLLabelTest extends JFrame {

public static void main(String[] args) throws Exception {
    SwingUtilities.invokeAndWait(new Runnable() {
        @Override
        public void run() {
            JFrame frame = new HTMLLabelTest();
            frame.pack();
            frame.setVisible(true);
        }
    });
}

public HTMLLabelTest() {

    addWindowListener(new WindowAdapter() {
        @Override
        public void windowClosing(WindowEvent e) {
            System.exit(0);
        }
    });

    HTMLEditorKit htmlEditorKit = new HTMLEditorKit();
    StyleSheet styleSheet = new StyleSheet();
    URL resource = getClass().getResource("/stylesheet.css");
    styleSheet.importStyleSheet(resource);
    htmlEditorKit.setStyleSheet(styleSheet);

    JLabel label = new JLabel();
    label.setText("<html><B>Some HTML Formatted</B> text</html>");
    label.setOpaque(false);
    label.setHorizontalAlignment(JLabel.CENTER);
    label.setHorizontalTextPosition(JLabel.CENTER);
    label.setPreferredSize(new Dimension(30,20));

    JPanel panel = new JPanel();
    panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));
    panel.add(label);

    panel.setOpaque(true);
    panel.setBackground(Color.WHITE);

    add(panel);
    setPreferredSize(new Dimension(300,200));
} 
```

}

导入后，样式表可用于 HTMLEditorKit 的后续实例，例如用于呈现标签的实例。所以在代码示例中，非透明标签以黄色背景显示。

如果您在示例中安装样式之前创建标签，则标签（和后续标签）将不会选择样式并根据需要呈现为非透明。

我们遇到的问题是我们的应用程序既可以单独启动，也可以从另一个应用程序中启动（在同一个 jre 中运行）。第二个应用程序的一些用户可以在我们的应用程序启动之前访问安装样式表的屏幕。在这些情况下，样式被加载并存储为默认值，以供我们的应用程序使用。这就是为什么一些用户报告了问题而其他用户没有报告的原因。

我还没有决定最好的解决方案。一种可能性是在创建标签 html 时覆盖背景样式：

```
<html><body bgcolor=\"red\">Test</body></html> 
```

但是，如果您使用“透明”而不是纯色，则会显示样式表中的底层颜色。恼人的！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:14:58.057

JLabel 没有被覆盖的事实并不相关，因为所有的绘画都委托给了一个 ComponentUI 的实例，即外观。这将因环境而异。

# apache-flex - 将所有用户输入保存到一个文件 adobe flex air

> ID：12196526
> 
> 赞同：0
> 
> 时间：2012-08-30T12:08:26.950
> 
> 标签：apache-flex, air, adobe

我是一名学生，必须使用 Flash Builder 4.5 构建一个 flex air 桌面软件。我决定使用带有 BuildCharacter、BuildWorld、BuildOject 和 WriteStory 选项卡的简单 spark tabnavigator。这些窗格中的每一个都有用户可以输入数据的文本区域和文本输入组件。

如何让用户将所有输入数据保存在一个文件中。如果用户然后单击文件打开，并单击该文件，它将所有数据加载回它们在选项卡导航器中的位置，用户可以编辑或继续。如果用户创建一个新项目，它必须将所有 tabnav 面板加载为空。我了解如何仅将 Richtexteditor 中的文本保存到文本文件中，但如果我为所有选项卡执行此操作，则用户将不得不分别保存每个选项卡输入。这不是软件的工作方式。

我已经搜索了所有内容，但只能找到保存到数据库或将单个组件数据保存在预先确定的文件名中，而不是用户定义的文件名。

如果你能帮我解决这个问题，我会非常高兴。我不介意学习只是将我指向有信息的地方。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:15:37.473

我以前做过。我现在没有我的代码，但一般的想法是声明一个具有一堆属性（“BuildCharacterText”、“BuildWorldText”等）的类“myData”。

当用户单击“保存”时，遍历您的选项卡并填充此类的实例。然后，您需要做的就是将此单个对象流式传输到文件中。

同样，如果文件丢失或为空，则在启动时创建一个空对象，然后将其传递给将其“解包”到选项卡的例程。如果文件有数据，则读入文件并传递对象。

[在switchonthecode](http://www.switchonthecode.com/tutorials/adobe-air-and-flex-saving-serialized-objects-to-file)有一篇关于将对象流式传输到磁盘的相关文章。

# java - Android 从 timertask 开始活动

> ID：12196528
> 
> 赞同：0
> 
> 时间：2012-08-30T12:08:30.363
> 
> 标签：java, android, schedule, timertask

嗨，我有一个计时器任务，每 1 分钟检查一次文件

```
public class MyTimerTask extends TimerTask {
//java.io.File file = new java.io.File("/mnt/sdcard/Bluetooth/1.txt");
java.io.File file = new java.io.File("init.rc");
public void CheckTheFile() 
{
if (file.exists())
    {   
    // I want here to start the Activity GetGPS
    }
}
@Override
public void run() {
    CheckTheFile();
} 
```

}

在检查 file.exists 时，如果文件在那里，我想要名为 GetGPS 的活动。
谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:15:07.990

在您的情况下，我建议使用 Handler 类。这是我要做的：

```
private static class PromoScroller implements Runnable {

    private Handler _scrollHandler;

    public PromoScroller(Handler scrollHandler) {
        _scrollHandler = scrollHandler;
    }

    @Override
    public void run() {
        // .. 
        _scrollHandler.sendEmptyMessage(0);
    }
} 
```

// 在你的活动中的某个地方：

```
_promoScroller = new PromoScroller(new Handler() {
        @Override
        public void dispatchMessage(Message msg) {
            super.dispatchMessage(msg);
            // !! catch message and start the activity
            Intent = new Intent(YourCurrentActivty.this, YourTargetActivity.class);
        }
    });
    _scrollerThread = new Thread(_promoScroller);
    _scrollerThread.start(); 
```

PS这些是我用于滚动计时器的代码，但你明白了

**UPD**

```
// TASK
public class YourTimerTask extends TimerTask {
    private Handler _Handler;

    public YourTimerTask(Handler handler) {
        _Handler = handler;
    }

    public void run() {
        _Handler.sendEmptyMessage(0);
    }
}

// TASK HANDLER (private property in your acitivity)
private Handler _taskHandler = new Handler(){
    public void dispatchMessage(android.os.Message msg) {
        // do cleanup, close db cursors, file handler, etc.
        // start your target activity
        Intent viewTargetActivity = new Intent(YourCurrentActivity.this, YourTargetActivity.class);

    };
};

// IN YOUR ACTIVITY (for isntance, in onResume method)
Timer timer = new Timer();
timer.schedule(new YourTimerTask(_taskHandler), seconds*1000); 
```

这应该可以完成这项工作。对于计时器 - 只是谷歌。[计时器示例](http://enos.itcollege.ee/~jpoial/docs/tutorial/essential/threads/timer.html)

**UPD2**

我的错误-应该是`Handler _timerHandler = ...`。开始活动看[这里](https://stackoverflow.com/questions/3606596/android-start-activity-from-service)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-12T19:05:28.290

直截了当的方法：

```
import android.content.Intent;
import android.os.Handler;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.webkit.WebView;
import android.webkit.WebViewClient;

import java.util.Timer;
import java.util.TimerTask;

public class SplashScreen extends AppCompatActivity {

    WebView wvMain;//This WebView will display the web address provided
    Handler handler;//This will be used in the TimerTask

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_splash_screen);
        handler = new Handler();

        wvMain = findViewById(R.id.wvMain);
        wvMain.setWebViewClient(new WebViewClient());
        wvMain.loadUrl("http://www.sedsworld.com/privacystatement");
        wvMain.getSettings().setJavaScriptEnabled(true);

        TimerTask timerTask = new TimerTask() {
            @Override
            public void run() {    
                handler.post(new Runnable() {
                    @Override
                    public void run() {
                        //Load second View
                        Intent intent = new Intent(SplashScreen.this, MainActivity.class);
                        startActivity(intent);
                    }
                });
            }
        };

        Timer timer = new Timer();
        timer.schedule(timerTask, 2000);//Wait 2 seconds then run the timer
    }
} 
```

# r - 如何在 R 图中命名由垂直线分隔的 x 轴部分（包 ggplot2）？

> ID：12196529
> 
> 赞同：5
> 
> 时间：2012-08-30T12:08:39.733
> 
> 标签：r, ggplot2, stacked-area-chart

我用**ggplot2****创建**了一个堆积面积图，并在`x-axis`.

我现在想命名由这些垂直线分隔的**部分。**它的一个示例可能看起来像示例图中所示。也欢迎其他解决方案。我有一个向量`breaks (x-axis)`和一个向量的间隔名称。

**代码：**

```
library(ggplot2)
d <- read.delim(...)
x_breaks = c(-3999,1,599,4076,7557,11556)

png(output, width=800, height=400)

ggplot(d, aes(x=p, y=c, group=Groups, fill=Groups)) +
geom_area(position="stack") +
opts(title="testtestest",
...) +
scale_x_continuous(expand=c(0,0), breaks=x_breaks) +
scale_y_continuous(expand=c(0,0)) +
geom_vline(xintercept=x_breaks[which(x_breaks != min(x_breaks) & x_breaks != max(x_breaks))])

dev.off() 
```

![如何命名由垂直线分隔的部分？](../Images/f8d0b57c6762cfa0aabb6a0edb8c4edd.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T23:38:30.800

没有数据，重现您的示例（您的休息等）有点困难。但是以下内容应该可以帮助您入门。

一个相当简单的解决方案是使用 ggplot2 的`annotate()`函数将文本注释添加到垂直线之间的绘图面板中间。

```
# Load packages
library (ggplot2)
library(grid)

# Some data
df = data.frame(x = 1:10, y = 1:10)

# Base plot
p <- ggplot(df, aes(x,y)) + geom_point() + 
  scale_x_continuous(limits = c(0, 11), expand = c(0,0)) +
  geom_vline(xintercept = 3) + geom_vline(xintercept = 7)

# Add the annotations
p + annotate("text", x = .5*(0+3), y = 11, label = "Part 1") +
     annotate("text", x = .5*(3+7), y = 11, label = "Part 2") +
     annotate("text", x = .5*(7+11), y = 11, label = "Part 3") 
```

结果是：

![在此处输入图像描述](../Images/d94099bb5b5773181b968a8fbdbbe4d0.png)

或者就注释而言，接近您的示例图的解决方案。它用于`annotation_custom()`绘制线条并将文本放置在绘图面板之外。即使注释是在绘图面板之外绘制的，注释的定位也是根据数据坐标进行的。基础图中的底部边距被加宽，以便为注释留出空间。该解决方案需要代码来覆盖 ggplot 将绘图元素剪辑到绘图面板。

**不推荐使用更新** `opts`；改为使用`theme`。

```
# Base plot
p <- ggplot(df, aes(x,y)) + geom_point() + 
  scale_x_continuous(limits = c(0, 11), expand = c(0,0)) +
  geom_vline(xintercept = 3) + geom_vline(xintercept = 7) +
  theme(plot.margin = unit(c(1,1,4,1), "lines"))

# Create the text Grobs
Text1 = textGrob("Part 1")
Text2 = textGrob("Part 2")
Text3 = textGrob("Part 3")

# Add the annotations
# Segment 1
p1 = p + 
    annotation_custom(grob = linesGrob(), xmin = 0, xmax = 0, ymin = -1, ymax = -.75) +
    annotation_custom(grob = linesGrob(), xmin = 0, xmax = 3, ymin = -1, ymax = -1) +
    annotation_custom(grob = linesGrob(), xmin = 3, xmax = 3, ymin = -1, ymax = -.75) +
    annotation_custom(grob = Text1,  xmin = 0, xmax = 3, ymin = -1.25, ymax = -1.25)

# Segment 2
p1 = p1 + 
    annotation_custom(grob = linesGrob(), xmin = 3, xmax = 7, ymin = -1, ymax = -1) +
    annotation_custom(grob = linesGrob(), xmin = 7, xmax = 7, ymin = -1, ymax = -.75) +
    annotation_custom(grob = Text2,   xmin = 3, xmax = 7, ymin = -1.25, ymax = -1.25) 

# Segment 3
p1 = p1 + 
    annotation_custom(grob = linesGrob(), xmin = 7, xmax = 11, ymin = -1, ymax = -1) +
    annotation_custom(grob = linesGrob(), xmin = 11, xmax = 11, ymin = -1, ymax = -.75) +
    annotation_custom(grob = Text3,  xmin = 7, xmax = 11, ymin = -1.25, ymax = -1.25)

# Code to override clipping
gt <- ggplot_gtable(ggplot_build(p1))
gt$layout$clip[gt$layout$name=="panel"] <- "off"
grid.draw(gt) 
```

结果是：

![在此处输入图像描述](../Images/5b9b77e0a047b86d7431cb7901bbbe28.png)

# jsp - JSP 中的错误：org.apache.jasper.JasperException：java.lang.NullPointerException

> ID：12196532
> 
> 赞同：0
> 
> 时间：2012-08-30T12:08:58.650
> 
> 标签：jsp, glassfish, nullpointerexception

我运行我的网站（在 jsp 中），它抛出了这个错误：

```
org.apache.jasper.JasperException: java.lang.NullPointerException 
```

这里是 JSP 文件的头部：

```
 <%@ page contentType="text/html; charset=utf-8" language="java" import="java.sql.*" errorPage="" %>
<%
    String usrnameSession = null;
    usrnameSession = (String) session.getAttribute("username");
    if(usrnameSession == null){
        response.sendRedirect("welcome.jsp");
    }
%><head>blah...</head> 
```

当我删除此块时：

```
<%
        String usrnameSession = null;
        usrnameSession = (String) session.getAttribute("username");
        if(usrnameSession == null){
            response.sendRedirect("welcome.jsp");
        }
    %> 
```

该站点将运行良好。所以我认为原因是上面的 <%%> 块。那么为什么这个块不起作用呢？请注意，我在 Netbeans 中编写这些代码，并在 Glassfish 服务器上运行 :( 任何解决方案？

# java - 如何在 downloadLink 中使用 wicket StringResourceModel

> ID：12196533
> 
> 赞同：0
> 
> 时间：2012-08-30T12:09:00.783
> 
> 标签：java, wicket

我有可以工作的按钮：

```
 Button options = new Button("sheets", new StringResourceModel("sheets", null)) {

        private static final long serialVersionUID = 1L;

        @Override
        public void onSubmit() {
            setResponsePage(new TournamentOptionsPage(tournament, table) {

                private static final long serialVersionUID = 1L;
            });
        }
    }; 
```

现在我想用downloadLink替换这个按钮：

```
 add(new DownloadLink("sheets", new AbstractReadOnlyModel<File>() {
            private static final long serialVersionUID = 1L;

            @Override
            public File getObject() {
                File tempFile;
                try {
                    tempFile = PdfFactory.createSheets(WicketApplication.getSheetsPath(),
                            tournamentService.getSchedule(table, tournament), table);
                } catch (Exception e) {
                    e.printStackTrace();
                    throw new RuntimeException(e);
                }
                return tempFile;
            }
        }, new StringResourceModel("sheets", null)).setCacheDuration(Duration.NONE).setDeleteAfterDownload(true)); 
```

但是在这里我遇到了 StringResourceModel 的问题，当我推送链接时出现异常：

```
Caused by: java.util.MissingResourceException: Unable to find property: 'sheets'
    at org.apache.wicket.Localizer.getString(Localizer.java:239)
    at org.apache.wicket.Localizer.getString(Localizer.java:170)
    at org.apache.wicket.model.StringResourceModel.getString(StringResourceModel.java:425)
    at org.apache.wicket.model.StringResourceModel.getString(StringResourceModel.java:400)
    at org.apache.wicket.model.StringResourceModel.load(StringResourceModel.java:583)
    at org.apache.wicket.model.StringResourceModel.load(StringResourceModel.java:182)
    at org.apache.wicket.model.LoadableDetachableModel.getObject(LoadableDetachableModel.java:119)
    at org.apache.wicket.markup.html.link.DownloadLink.onClick(DownloadLink.java:151)
    at org.apache.wicket.markup.html.link.Link.onLinkClicked(Link.java:188) 
```

为什么这不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T16:11:03.527

我已经打开了一个问题来讨论这个问题

[https://issues.apache.org/jira/browse/WICKET-4738](https://issues.apache.org/jira/browse/WICKET-4738)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:37:38.493

我不知道为什么 Button 有效，但 DownloadLink 无效。无论如何，您可以解决将容器组件传递给 StringResourceModel 的问题。这样的事情应该没问题：

```
new StringResourceModel("sheets", this,null) 
```

# ios - 唯一的 NSManagedObject 属性

> ID：12196536
> 
> 赞同：1
> 
> 时间：2012-08-30T12:09:14.890
> 
> 标签：ios, core-data, nsmanagedobject

使`NSManagedObject`属性唯一的最佳方法是什么？

例如，是否应该使用`willSave`或`validateForInsert:`或`validateForUpdate:`托管对象方法来检查输入的值`attributeUnique`是否是唯一的？而且，究竟如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T11:08:28.110

我最终编写了一个`NSManagedObject`类别方法，并使用了`NSManagedObject`的验证方法：

```
- (BOOL)isValueUniqueForKey:(NSString *)key {
    NSEntityDescription *entity = [NSEntityDescription entityForName:[self.entity name]
                                              inManagedObjectContext:self.managedObjectContext];
    id value = [self valueForKey:key];

    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
    [fetchRequest setEntity:entity];

    NSPredicate *predicate = [NSPredicate predicateWithFormat:@"%@ = %@", key, value];
    fetchRequest.predicate = predicate;

    NSError *error = nil;
    NSUInteger count = [self.managedObjectContext countForFetchRequest:fetchRequest
                                                                 error:&error];

    if (count > 1) {
        return NO;
    }

    return YES;
} 
```

# r - ggplot - 改变线宽

> ID：12196539
> 
> 赞同：11
> 
> 时间：2012-08-30T12:09:22.333
> 
> 标签：r, ggplot2

我可以通过做这样的事情在ggplot2中以不同的颜色绘制每个系列......

```
colours <- c('red', 'blue')
p <- ggplot(data=m, mapping=aes_string(x='Date', y='value'))
p <- p + geom_line(mapping=aes_string(group='variable', colour='variable'), size=0.8)
p <- p + scale_colour_manual(values=colours) 
```

我可以做些什么来为每个系列设置不同的线宽吗？（即，我想用粗红线来绘制趋势，用细蓝线来绘制季节性调整的系列。）

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-30T12:49:48.940

我只想在您的数据框中添加一个新的数字变量

```
##You will need to change this to something more appropriate
##Something like: 
##m$size = as.numeric(m$variable == "seasonal")
m$size = rep(c(0, 1), each=10) 
```

然后为您的绘图命令添加尺寸美学：

```
p = p + geom_line(aes(group=variable, colour=variable, size=size))
##Set the size scale
p + scale_size(range=c(0.1, 2), guide=FALSE) 
```

请注意，我已添加`guide=FALSE`以避免显示尺寸图例。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-30T12:52:39.733

你可以这样做：

```
x <- 1:10
y1 <- x
y2 <- 1.5*x
df <- data.frame(x=rep(x, 2), y=c(y1, y2), id=as.factor(rep(1:2, each=10)))
ggplot(df) + geom_line(aes(x=x,y=y,group=id, colour=id, size=id)) +  
scale_size_manual(values=c(1,4)) 
```

# jquery-mobile - JQuery Mobile 自定义图标未显示

> ID：12196541
> 
> 赞同：0
> 
> 时间：2012-08-30T12:09:26.853
> 
> 标签：jquery-mobile

我正在尝试向 jqm 添加一个自定义图标，并且正在执行以下操作：

```
<style>
.ui-icon-myicon {
    background-image: url('images/myicon.png') !important;
}
</style> 
```

然后在页脚...

```
<li>
<a href="#" data-icon="myicon" data-iconpos="top" class="ui-btn-active ui-state-persist btn_inner">News</a>
</li> 
```

我的问题是什么都没有出现。

我在这里忘记了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-05-22T08:22:44.560

警告：如果您使用的是 jQuery 1.4+，那么您需要以不同的方式定义这些（注意`:after`如下）

```
.ui-icon-myicon:after {
    background-image: url("images/myicon.png");
    background-size: 18px 18px;
}

@media only screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-icon-myicon:after {
        background-image: url("images/myicon@2x.png");
        background-size: 36px 36px;
    }
    ...more HD icon rules go here...
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T12:43:14.810

删除您的类标记并使用 JQM 中内置的标识符。

```
<a href="news.html" data-role="button" data-iconpos="top" data-icon="myicon">News</a> 
```

如果您希望图标出现在高像素密度设备（即 Apple Retina 显示器）上，您需要包含第二张两倍大小的图像。所以在你的 CSS 中：

```
.ui-icon-myicon {
    background-image: url("images/myicon.png");
}

@media only screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-icon-myicon {
            /*this image should be sized at 36 x 36 */
        background-image: url("images/myicon@2x.png");
        background-size: 18px 18px;
    }
    ...more HD icon rules go here...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-11T22:52:24.657

我遇到了同样的问题，我检查了检查元素，发现我的背景自定义图标路径的 URL 是错误的。

我在图像文件夹中有我的自定义图标，所以在 CSS 中我给出了

```
.ui-icon-myicon:after{
    background-image:url("images/facebook.png");
    /* Make your icon fit */
    background-size:18px 18px;
} 
```

之前指向的URL：Myproject/css/images/facebbok.png

然后我将我的 CSS 更改为：

```
.ui-icon-myicon:after{
        background-image:url("../images/facebook.png");
        /* Make your icon fit */
        background-size:18px 18px;
    } 
```

这样做之后，我可以看到图像

# browser - C# Webbrowser 仅禁用一个滚动条并在网站上设置起始位置

> ID：12196542
> 
> 赞同：0
> 
> 时间：2012-08-30T12:09:26.880
> 
> 标签：browser, position, scrollbar

我在我的新项目中使用 Webbrowser，我希望底部的滚动条从特定位置开始。然后我只想显示右侧的滚动条，因此您无法从左到右和从右到左导航。先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:26:40.683

要垂直滚动，您可以查看 [http://www.quackit.com/html/codes/vertical_scroll.cfm](http://www.quackit.com/html/codes/vertical_scroll.cfm)

要在特定位置滚动，您可以使用

var xpos= document.getElementById('txtXpos').value;

var ypos= document.getElementById('txtYpos').value;

window.scrollTo(xpos,ypos);

```
<p>X-axis <input type="text" id="txtXpos" /></p>
<p>Y-axis <input type="text" id="txtYpos" /></p> 
```

要滚动元素，您可以使用

window.location.href = "#elementid"

# nexus - 更改 Nexus 存储库目录

> ID：12196547
> 
> 赞同：4
> 
> 时间：2012-08-30T12:09:40.290
> 
> 标签：nexus

当我将 Nexus war 安装到我的 tomcat 服务器 Nexus 中时，会在 Win 主目录中创建其文件夹等。我想将此重定向到我的不同目录。

含义..我希望 nexus 将其存储库存储在用户定义的文件夹中

这个怎么做 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-11T01:37:19.947

使用 Tomcat 7 和 Nexus 2.8 设置 PLEXUS_NEXUS_WORK 环境变量对我不起作用。也许这不再适用于较新版本的 Nexus。

起作用的是更改**nexus.properties**文件中的**nexus-work**设置，该文件位于 Nexus Web 应用程序的**WEB-INF/classes文件夹中**

 ****这是我的设置现在的样子：

```
nexus-work=D:/sonatype-work/nexus 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-22T21:38:26.900

您应该将环境变量 PLEXUS_NEXUS_WORK 设置为 /bin/setenv.cmd 文件中的用户定义文件夹，并在部署 Nexus Web 应用程序之前重新启动 Tomcat。

我没有方便的 Windows 示例，但这里是我的 Linux 部署中的 /usr/share/tomcat7/bin/setenv.sh：

```
#! /bin/sh
export PLEXUS_NEXUS_WORK=/var/nexus 
```

我假设 Windows 等价物可能是：

```
SET PLEXUS_NEXUS_WORK=C:\NEXUS 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-22T12:28:44.250

从 Nexus 2.8 开始，您可以将 设置`nexus-work`为 tomcat JVM 的环境参数，如下所示：

```
JAVA_OPTS="-d64 -server -Xms128M -Xmx1024M -XX:MaxPermSize=512M -Dcom.sun.security.enableCRLDP=true -Djava.net.preferIPv4Stack=true -Djava.io.tmpdir=/tmp  -Dnexus-work=/var/lib/nexus/work " 
```

它对我有用，因为我将 Nexus OSS 作为战争文件放入 RHEL6 tomcat6 安装中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T21:36:02.943

我建议将 Nexus 捆绑安装程序与嵌入式码头服务器一起使用，而不是在 Tomcat 中运行码头战争。虽然您可以这样做，但您将无法轻松升级到 Nexus Professional，因为它仅受嵌入式 Jetty 支持。

如果您使用捆绑安装程序，则存储将位于名为 sonatype-work/nexus 的 nexus 文件夹的同级文件夹中。

查看免费书籍[Repository Management with Nexus](http://www.sonatype.com/books/nexus-book/reference/)了解更多信息。****

# wpf - 锁定 DevExpress DockLayoutManager

> ID：12196550
> 
> 赞同：0
> 
> 时间：2012-08-30T12:09:44.853
> 
> 标签：wpf, devexpress

是否可以锁定 DevExpress `DockLayoutManager`(WPF) 的组件？我想让布局更改可选，这样用户就不会意外取消停靠组件。`IsEnabled`不起作用，因为它完全禁用了所有子组件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T10:06:24.980

原来你只能通过你`BaseLayoutItem`的`Allow*`属性来做到这一点。所以现在我递归遍历所有 my `LayoutGroup`s 和 their`Items`和 set `AllowFloat`, `AllowDrag`, `AllowMaximize`, `AllowHide`, `AllowMove`, `AllowSizing`to `true`or `false`，分别。

# memory - 现代 Linux 中是否有 NUMA 下次接触策略

> ID：12196553
> 
> 赞同：9
> 
> 时间：2012-08-30T12:09:50.763
> 
> 标签：memory, linux-kernel, numa

当我们在 NUMA 系统上工作时，内存可以相对于当前 NUMA 节点是本地或远程的。为了使内存更加本地化，​​有一个“first-touch”策略（默认内存到节点绑定策略）： http: [//lse.sourceforge.net/numa/status/description.html](http://lse.sourceforge.net/numa/status/description.html)

> *默认内存绑定* 重要的是，用户程序的内存分配在靠近包含运行它们的 CPU 的节点上。因此，默认情况下，页面错误由包含页面错误 CPU 的节点的内存来满足。因为第一个接触页面的 CPU 将是错误进入页面的 CPU，所以这个默认策略称为“第一次接触”。

[http://techpubs.sgi.com/library/dynaweb_docs/0640/SGI_Developer/books/OrOn2_PfTune/sgi_html/ch08.html](http://techpubs.sgi.com/library/dynaweb_docs/0640/SGI_Developer/books/OrOn2_PfTune/sgi_html/ch08.html)

> 默认策略称为首次接触。在此策略下，首先接触（即写入或读取）内存页面的进程会导致该页面在运行该进程的节点中分配。此策略适用于顺序程序和许多并行程序。

还有一些其他的非本地政策。还有一个函数要求将内存段显式移动到某个 NUMA 节点。

但有时（在单个应用程序的许多线程的上下文中）拥有“下一次接触”策略可能很有用：调用一些函数来“取消绑定”一些内存区域（最多 100 s MB）与一些数据并重新应用“第一次接触” - 这个区域上的类似处理程序，它将在下一次触摸（读取或写入）时将页面迁移到访问线程的 numa 节点。

当有大量数据要由许多线程处理并且有不同的访问该数据的模式时（例如，第一阶段 - 通过线程按列拆分 2D 数组；第二阶段 - 按行拆分相同的数据），此策略很有用。

自 9 以来，Solaris 通过带有 MADV_ACCESS_LWP 标志的 madvice 支持此类策略

[https://cims.nyu.edu/cgi-systems/man.cgi?section=3C&topic=madvise](https://cims.nyu.edu/cgi-systems/man.cgi?section=3C&topic=madvise)

> MADV_ACCESS_LWP 告诉内核下一个接触指定地址范围的 LWP 将最频繁地访问它，因此内核应该尝试为这个范围和 LWP 相应地分配内存和其他资源。

有（2009 年 5 月）名为“affinity-on-next-touch”的 Linux 内核补丁， http: [//lwn.net/Articles/332754/](http://lwn.net/Articles/332754/)（[线程](http://thread.gmane.org/gmane.linux.kernel/834829)），但据我了解，它未被主线接受，不是它？

还有 Lee Schermerhorn 的“migrate_on_fault”补丁 [http://free.linux.hp.com/~lts/Patches/PageMigration/](http://free.linux.hp.com/~lts/Patches/PageMigration/)。

所以，问题是：在当前的 vanilla Linux 内核或一些主要的分支中，如 RedHat linux 内核或 Oracle linux 内核，NUMA 是否有一些下一个接触？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T17:44:45.837

根据我的理解，香草内核中没有任何类似的东西。numactl 具有手动迁移页面的功能，但对您的情况可能没有帮助。（NUMA 策略说明在 Documentation/vm/numa_memory_policy 如果您想自己检查）

我认为这些补丁没有合并，因为我没有看到当前内核中出现任何相关的代码片段。

# python - 如何卸载 .exe 设置使用 Python 在控制面板中显示的已安装程序

> ID：12196562
> 
> 赞同：0
> 
> 时间：2012-08-30T12:10:06.640
> 
> 标签：python, wmi, uninstallation

我浏览了这段代码，但这段代码仅适用于 MSI 安装程序，但我想卸载 msi 包以外的其他包。

```
import wmi
c = wmi.WMI()
print ("Searching for matching products...")

for product in c.Win32_Product(Name = "Product Name"):
    print ("Uninstalling" + product.Name + "...")
    result = product.Uninstall() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T17:25:20.840

[`Win32_Product`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394378%28v=vs.85%29.aspx)WMI 类仅列出随 Windows 安装程序 (MSI) 安装的软件，要列出和卸载其他软件，您可以读取windows`HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Uninstall`注册表项并检查`UninstallString`每个条目的值。

# android - 在 Android 中用自定义音调替换默认 DTMF 音调

> ID：12196563
> 
> 赞同：0
> 
> 时间：2012-08-30T12:10:08.610
> 
> 标签：android, call, transfer, clip, dtmf

我做了很多关于将自定义声音剪辑（wav、mp3 等）传输到 Android 中正在进行的 GSM 语音呼叫的研究，以便对方可以听到它，但似乎无法完成。

但是在通话中，如果我按下一个键（1、2、3、4 等），对方也会听到该键的 DTMF 音，那么有什么方法可以更改默认的 DTMF 音（比如说替换键 2 的 DTMF 到 wav 剪辑），并且在通话时如果用户按下键 2，另一方能够听到替换的 DTMF 音，这是 wav 剪辑？

附加信息：授予 Root 权限是可以的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:27:29.623

不，这是不可能的。因为即使您在按下键盘时听到声音，它也不是传递给呼叫的相同音频。一条消息被传递到调制解调器，说明要生成哪种 DTMF 音。调制解调器将产生 DTMF 音。此消息传递是每个 OEM 专有的

# jquery - 点击运行 jquery 时可编辑

> ID：12196574
> 
> 赞同：1
> 
> 时间：2012-08-30T12:10:38.113
> 
> 标签：jquery, startup, jeditable

我有以下代码：

```
 $('td:eq(1),td:eq(2), td:eq(3), td:eq(4), td:eq(5), td:eq(6),td:eq(7), td:eq(8)', table.fnGetNodes()).editable( 'exe/editar_manuais.php', {
            "placeholder" : "",
            "onblur": 'submit',
            "submitdata": function ( value, settings ) {
                var aPos = oTable.fnGetPosition( this );
            var aData = oTable.fnGetData( aPos[0] );
                return {
                    "row_id": this.parentNode.getAttribute('id'),
                    "column": oTable.fnGetPosition( this )[2],
                    "id": aData,
        }; 
            },
        "height": "14px",
    }); 
```

从 Jeditable 和我调用的文件中，我想在被调用的文件启动时运行 Jquery。它的作用是，我单击 a `<td>`，对其进行编辑，然后单击其他位置后，它会运行脚本（现在只是一个简单的警报）。

我在`Session_start()`.

# php - facebook php SDK, publish_stream OAuthException: (#200)

> ID：12196576
> 
> 赞同：0
> 
> 时间：2012-08-30T12:10:40.220
> 
> 标签：php, facebook, facebook-graph-api

我知道这个错误在这里已经被咬死了，我阅读了每一篇文章以更好地理解我的问题。

但是我的问题有点不同，我想知道是否有人可以给我很好的建议去哪里看。

我正在使用 wordpress + wordpress 社交登录。该插件对用户进行身份验证并将姓名/年龄/电子邮件/fbID/fbProfilePic 存储在数据库中。

我的网站上有一个小功能，通过 facebook 注册的用户可以点击并将消息发布到他们的墙上。

我的代码如下所示：

```
<?php
//IF user is registered via facebook, when he clicks INTERESTED message will appear on his/her wall to spread the news

  $user = get_user_meta($current_user->ID,'Facebook',true);

    if ($user && $_GET['commentstab'] == 1 && !$_POST['delmycom']) {

      require ('Facebook/facebook.php');

      //Access details
      $facebook = new Facebook(array(
        'appId'  => 'XXX',
        'secret' => 'XXX'
        //'cookie' => true
      ));

          //try {
              $params = array(
                  'message'       =>  "Hurray! This works :)",
                  'name'          =>  "This is my title",
                  'caption'       =>  "My Caption",
                  'description'   =>  "Some Description...",
                  'link'          =>  "http://stackoverflow.com",
                  'picture'       =>  "http://i.imgur.com/VUBz8.png",
              );
              $post = $facebook->api("/$user/feed","POST",$params);

              echo "Your post was successfully posted to UID: $user";
          //} //try

          //catch (FacebookApiException $e) {
          //    $result = $e->getResult();
          //} //catch

    } //master if
?> 
```

I read in various topics that I need publish_stream permission from user to perform this action. But since I store user info separately in my own DB, how do I get this publish stream permission? Do I need to modify wordpress plugin to store some kind of access token? and utilize this token to post to wall?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:26:31.627

1.  you generate loginurl with publish_stream permission
2.  if user is not logged in with permission, you have to make sure he does
3.  redirect user to proper page

you can do it like this,

```
<?php
include_once("facebook.php"); 
    $facebook = new Facebook(array(
      'appId'  => APP_ID,
      'secret' => APP_SECRET,
      'cookie' => true,
    ));
    $user = $facebook->getUser();

    if ($user) {
      try {
        // Get the user profile data you have permission to view
        $user_profile = $facebook->api('/me');
      } catch (FacebookApiException $e) {
        $user = null;
      }
    } else {
        $loginUrl = $facebook->getLoginUrl(array('scope' =>'publish_stream','redirect_uri'=>'example.com'));
      die('<script> top.location.href="'.$loginUrl.'";</script>');
    }

    $params = array(
                  'message'       =>  "Hurray! This works :)",
                  'name'          =>  "This is my title",
                  'caption'       =>  "My Caption",
                  'description'   =>  "Some Description...",
                  'link'          =>  "http://stackoverflow.com",
                  'picture'       =>  "http://i.imgur.com/VUBz8.png",
              );
    $post = $facebook->api("/$user/feed","POST",$params); 
?> 
```

# gnuplot - 在 Gnuplot 中更改 x 轴的位置

> ID：12196584
> 
> 赞同：2
> 
> 时间：2012-08-30T12:11:10.750
> 
> 标签：gnuplot

我正在尝试在 gnuplot 中绘制带有一组 x 值和 y 值的图形。默认情况下。x 轴在 y=0 处绘制；我需要在 y=1 而不是 y=0 处更改 x 轴的位置。我正在尝试设置 xzeroaxis 的选项。我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T17:28:25.210

默认情况下，x 轴绘制在图形的底部边框。`xzeroaxis`仅控制是否绘制通过原点的 x 轴。

无论如何，如果你想在 y=1 处画一条线，你可以在那里画一条线：

```
gnuplot> set arrow from  graph 0, first 1 to graph 1, first 1 nohead
gnuplot> plot x 
```

不过，刻度线不会出现。

但是，如果您的意思是要将图的底部移动到 y=1，只需使用`set yrange [1:*]`.

# ip - 使用 WinSCP 而不是 CPanel

> ID：12196586
> 
> 赞同：1
> 
> 时间：2012-08-30T12:11:15.020
> 
> 标签：ip, winscp

我有一个网站[http://www.example.com](http://www.example.com)，我通过 url/cPanel 访问它的 cPanel。

但是，我所在大学的系统无法访问它，因为不允许访问它所连接的端口，例如 2082。

有没有其他选择，比如使用 WinSCP？另外，我只有域，没有它的 IP 地址。我还有用于访问 cPanel 的用户名和密码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T14:35:02.500

您可以安装 WinSCP 并传输文件。为此，请下载并安装 WinSCP。安装完成后打开它并选择**文件协议**作为**FTP**并在**主机名**中输入您的**IP 地址**，与**用户**名和**密码**相同。现在点击**登录**选项。进入后，您将能够传输文件。

您也可以通过以下网址阅读快速指南：[http ://winscp.net/eng/docs/getting_started](http://winscp.net/eng/docs/getting_started)

# sed - sed/awk 将模式和小写单词之间的所有内容大写

> ID：12196590
> 
> 赞同：1
> 
> 时间：2012-08-30T12:11:37.283
> 
> 标签：sed, awk, gawk

我确实找到了一种将整个文档大写的方法，同时使用`sed`and `awk`，但是如果我想将模式中的所有内容从 转换`CAPS LOCK`为`Capital`怎么办？

例如，我有一个 HTML 文件，并且必须将 和 之间的所有内容（多次出现）`<b>`转换`</b>`为`TITLE`，`Title`并且如果可能的话，将小单词（1 ~ 2 个字母）制作成小写。

由此：

```
<div id="1">
<div class="p"><b>THIS IS A RANDOM TITLE</b></div>
<table class="hugetable">
...
</table>
<div class="p"><b>THIS IS ANOTHER RANDOM TITLE</b></div>
<table class="hugetable">
...
</table>
...
</div> 
```

对此：

```
<div id="1">
<div class="p"><b>This is a Random Title</b></div>
<table class="hugetable">
...
</table>
<div class="p"><b>This is Another Random Title</b></div>
<table class="hugetable">
...
</table>
...
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:08:20.530

这不是最漂亮的解决方案，但我认为它有效：

```
sed -r -e '/<b>/ {s/( .)([^ ]*)/\1\L\2/g}' -e 's/<b>(.)/<b>\u\1/' -e '/<b>/ {s/(\b.{1,2}\b)/\L\1/g}' data 
```

解释：

*   第一个表达式（`-e`）：如果一行包含`<b>`：
    *   然后对于前面有空格的每个单词，保留空格和第一个（已经大写的）字符（`\1`），然后将单词的所有后续字符转换为小写（`\L\2`）
*   2nd expression ( `-e`): 后面的第一个单词`<b>`仍然是非大写的，所以选择粗体标签后面的第一个字符`<b>(.)`并替换为大写`<b>\u\1`
*   第三个表达式（`-e`）：如果一行包含`<b>`：
    *   然后选择长度为1或2个字符的单词`\b.{1,2}\b`并将它们替换为小写`\L\1`

# amazon - 对亚马逊产品广告 API 的 Java REST 请求失败

> ID：12196593
> 
> 赞同：0
> 
> 时间：2012-08-30T12:11:51.733
> 
> 标签：amazon, amazon-product-api

我想使用亚马逊产品广告 API 搜索产品。

我已经开始使用 Java 示例代码来搜索产品（com.advertising.api.sample）。

编译并运行良好，但给出空指针异常，因为解析响应假定一切正常（对于示例来说没问题）。

所以，我用'curl'做同样的查询......

curl [http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=](http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=) &ItemId=0545010225&Operation=ItemLookup&ResponseGroup=Small&Service=AWSECommerceService&Timestamp=2012-08-30T11%3A31%3A54Z&Version=2009-03-31&Signature=

它显示了这个输出：

[1] 17603 [2] 17604 [3] 17605 [4] 17606 [5] 17607 [6] 17608 [7] 17609 [2] 完成 ItemId=0545010225 [3] 完成操作=ItemLookup [4] 完成 ResponseGroup=Small [ 5] 完成服务=AWSECommerceService [6] 完成时间戳=2012-08-30T11%3A31%3A54Z [7] 完成版本=2009-03-31

并且 XML 返回描述了错误：

`AWS.MissingServiceParameter`您的请求缺少 Service 参数。请添加服务参数

但是，正如您从 curl 命令输入和日志记录中看到的那样，服务参数存在并设置为：API 指定的 AWSECommerceService

我意识到我可能做错了什么，但它似乎不是服务参数，并且很难找到该错误响应的另一个问题的根源。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:11:51.733

有趣的是，如果我从浏览器发出相同的请求，我会得到不同的响应：（缩写）

您的请求缺少必需的参数。必需的参数包括 AssociateTag。

因此，您需要修改 Java REST 示例代码以在请求中包含必需的“AssociateTag”参数。我这样做是为了修改 SignedRequestHelper 类。

然后它起作用了，你得到了预期的响应。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T17:38:54.843

我发现问题是 associateTag 是必需的。我添加了 associateTag 并且示例代码有效。

# netsuite - NetSuite：如何使用套件脚本关闭销售订单？

> ID：12196597
> 
> 赞同：3
> 
> 时间：2012-08-30T12:12:02.530
> 
> 标签：netsuite

我正在尝试使用 NetSuite 中的套件脚本关闭销售订单。

我注意到已经关闭的记录的“状态”设置为“关闭”。我尝试在提交记录之前设置此字段，但这不起作用，记录仍处于“等待履行”阶段。

是否涉及其他领域？

提前致谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-03T10:21:27.233

交易记录没有实际的“关闭”等效状态。

您必须遍历所有行项目并设置为关闭，然后重新提交记录以提交更改。

这是一个示例代码：

```
var obj = nlapiLoadRecord('salesorder', 1);
var count = obj.getLineItemCount('item');

for(var i = 1; i <= count; i++)    {

    obj.setLineItemValue('item', 'isclosed', i, 'T');

}

nlapiSubmitRecord(obj); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-07-30T05:40:30.927

在 suitescript 2.0 中使用 aftersubmit() 尝试以下代码。它会将“已关闭”字段设置为“真”。

```
 var itemcounts = salesorderRecord.getLineCount({
                    sublistId: 'item'
                });
                for (var i = 0; i < itemcounts; i++) {
                    var lineNum = salesorderRecord.selectLine({
                        sublistId: 'item',
                        line: i
                    });
                    var setclosed = salesorderRecord.setCurrentSublistValue({
                        sublistId: 'item',
                        fieldId: 'isclosed',
                        line: i,
                        value: true,
                        ignoreFieldChange: true
                    });
                    salesorderRecord.commitLine({
                        sublistId: 'item',
                        line: i
                    });

                }salesorderRecord.save(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-29T05:53:10.483

```
 var count = poRec.getLineCount({
                sublistId: 'item'
            });

            for (var i = 0; i < count; i++) {

                poRec.setSublistValue({
                    sublistId: 'item',
                    fieldId: 'isclosed',
                    line: i,
                    value: true
                });

            } 
```

**套件脚本 2.0 代码片段**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T15:19:32.877

我能够通过关闭订单包含的单个行项目来关闭销售订单。

有一个订单项字段“已关闭”，需要为每个订单项设置为 true('T')。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-09T20:53:01.097

```
nlapiVoidTransaction('salesorder', id) 
```

# design-patterns - 关于CQRS的一些问题

> ID：12196599
> 
> 赞同：4
> 
> 时间：2012-08-30T12:12:07.457
> 
> 标签：design-patterns, orm, cqrs, maintainability

我目前正在研究是否可以在构建特定系统时应用 CQRS，并且有一些我无法轻易找到答案的问题。

# 命令可用性/验证

用户可以对特定实体做什么通常不仅与用户的角色相关，还与该特定用户与该实体的关系（例如作者）和该实体的状态（公共、存档等）相关。

在我看来，在 CQRS 中，用户操作映射到负责处理它们的命令，但不清楚如何确定哪些操作以及命令可用。

返回每个读取模型的可用命令列表似乎是不合适的，因为由于需要一致性，我们必须检查仅与用户角色相关的命令（例如菜单项）。

当然，命令必须在事务中再次进行验证，以防另一个用户更改状态使命令无效）。

# 抵抗需求变化

以我的经验，维护一个逻辑冗长且与特定业务对象相关的类/表过多的系统是一场噩梦。

在 CQRS 中，一个特定的业务实体可能有多个读取模型。当需要更改该实体时，也应修改所有相关的读取模型。

为了可维护性，有必要以某种方式将它们关联起来，以便在重构时很容易看出。

在相关说明中，有很多过于具体的命令也会导致可维护性问题 - 我假设每个用例一个命令应该最有效是正确的吗？

# 读取模型和不修改域模型的命令

在 CQRS 中，命令应该更新读取模型，同时用户可以访问它的旧版本。

在我看来，有两种特殊情况会导致问题。

*首先*，有些命令不会修改域模型本身（可能只是状态），而是执行一些涉及第三方系统/框架/电子邮件等的操作，在某些情况下，这些命令可能需要相当长的时间才能运行。

正如我在这里看到的，我们需要一个将域模型与命令执行状态相结合的读取模型。此读取模型可用作当前正在处理的项目的历史记录或列表。

*其次*，一些命令会产生结果。当命令成功完成时，需要向用户显示此结果，并且在某些情况下必须在一段时间后丢弃，甚至是文件。因此，必须有一种方法将这些命令的结果存储在数据库中，并将它们与特定的命令实例相关联。换句话说，有一个临时读取模型。

# 读取模型表与内存缓存

另外我的想法是正确的，使用二级 ORM 缓存（用于查询结果），不需要为读取模型提供数据库表，而是 ORM 可以在第一次执行查询时生成它们，缓存结果并使其无效当模型实体改变时它们会自动出现。这种方法似乎是一个很好的起点，可以强制执行 CQRS 接口/模式，但可以更改并且作为奖励可以支持动态投影（当用户选择要查看的列等时）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T20:51:21.577

总的来说，我不确定你具体提出的问题，所以我会尽力回答这些问题。我希望这有帮助。如果我错过了您的问题的重点，我会澄清一下-请告诉我。

**命令可用性/验证**：

我不确定您对这部分的问题是什么，但本质上是您的用户行为决定了您可以使用哪些命令。该命令对于该特定用户是否有效可以由提交命令的 UI 控制器（或任何机制）处理，也可以由接收命令的域处理。该命令应包含足够的信息，以便域对其进行评估，然后更改其状态并引发事件。

**抵抗需求变化**：

如果实体发生变化，并非所有相关的读取模型都需要更改——这实际上取决于读取模型的目的。维护读取模型的一些方法可能是为每个相关的读取模型集使用不同的模式，或者使用命名标准（例如 ORDER_xxx）。我更喜欢前者，因为它更干净（至少从我的角度来看）。

**读取模型和不修改域模型的命令**：

命令并不总是应该更新读取模型。如果域中的业务规则引发了处理和持久化的适当事件，他们*可以更新读取模型。*仅仅因为发出命令并不意味着读取模型将被更新。

如果您遵循 CQS（和 CQRS），那么您的命令不应返回结果。命令返回无效。命令是你告诉系统做某事。您所描述的是一个两步过程：发出命令，然后发出读取请求。读取请求很可能会产生“旧”数据（即在命令更新读取模型之前）。有几种方法可以处理这个问题。您可以进行投票 - 这不是一种非常优雅的方式，但它确实有效。您可以在发出命令后将用户带到中间页面（“谢谢您的订单，您想订购其他东西吗？”），然后当用户返回时，他们会看到他们更新的列表（因为命令有现在处理）。再次，不理想。但这就是最终一致性的本质。没有真正的答案——它

对于只是更新状态或与第三方系统交互的命令，这些命令不能在不让用户等待它们完成的情况下离线完成吗？我认为这是让您的系统反映您的用户将如何使用系统的另一种情况。

**读取模型表与内存缓存**：

如果你问这是否是一个好主意，我不太确定。您对这个内存缓存的出发点是什么？当系统重新启动时会发生什么——你的模型会发生什么？你重建它，你从哪里以及如何恢复状态？您是否为此使用事件溯源，并且您将重播上次快照中的所有事件以使您的域模型到位？

在不知道这些问题的答案的情况下，我无法给出答案。

# asp.net - 为什么我的查询没有返回不同的行？

> ID：12196601
> 
> 赞同：1
> 
> 时间：2012-08-30T12:12:20.620
> 
> 标签：asp.net, linq-to-sql, sql-server-2008-r2

下午，

我正在尝试从我的 SQL Server 2008 R2 数据库返回产品列表，但我只想返回最新日期的结果。

然而，下面的代码似乎返回了所有项目，即使是日期较早的项目。如何仅使用最新日期来获取结果。

```
var query = (from a in dc.aboProducts
             join t in dc.twProducts on a.sku equals t.sku
             join lp in dc.LowestPrices on a.asin equals lp.productAsin
             select new GetLowestPrices
             {
             productAsin = lp.productAsin,
             sku = t.sku,
             title = t.title,
             twprice = Convert.ToString(t.twPrice),
             lowprice = Convert.ToString(lp.price),
             amzprice = Convert.ToString(lp.tweAmzPrice),
             lastupdated = Convert.ToDateTime(lp.priceDate)
             }).Distinct().OrderBy(ti => ti.title);
return query.ToList(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:18:24.123

尝试这样的事情：

```
var query =
    from a in dc.aboProducts
    join t in dc.twProducts on a.sku equals t.sku
    join lp in dc.LowestPrices on a.asin equals lp.productAsin
    select new GetLowestPrices
    {
        productAsin = lp.productAsin,
        sku = t.sku,
        title = t.title,
        twprice = Convert.ToString(t.twPrice),
        lowprice = Convert.ToString(lp.price),
        amzprice = Convert.ToString(lp.tweAmzPrice),
        lastupdated = Convert.ToDateTime(lp.priceDate)
    };

var lookup =
    query
        .ToLookup(x => x.sku)
        .Select(x => x.OrderByDescending(y => y.lastupdated).First())
        .OrderBy(x => x.title);

return lookup.ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:20:16.897

因为 Distinct 没有应用于现有列表，而是创建一个新列表，您需要将其添加到新列表中：

```
val DistinctList = ExistingList.Distinct().ToList(); 
```

# android - twitter 没有重定向到 android 应用程序中的回调 url

> ID：12196611
> 
> 赞同：4
> 
> 时间：2012-08-30T12:13:00.750
> 
> 标签：android, twitter, callback, twitter4j

我的目标是允许使用 twitter4j 登录 Twitter。 [我以此为参考。](https://github.com/Sheikh-Aman/Android_Samples/blob/master/1.%20Sign-inWithTwitterT4J/src/com/aman/samples/t4jsignin/Main.java)

问题是在第 64 行，它调用了`getAuthenticationURl()`. 当我执行时，它会将我带到登录页面，而不是我可以允许/禁止我的应用程序访问 ppl 帐户的页面。
但是，如果我将其更改`getAuthorizationUrl()`为正确的页面。

1）那么两者有什么区别？

2）这是一个重要的问题。我提供下面的代码。

```
package com.example.twitter;

import twitter4j.Twitter;
import twitter4j.TwitterException;
import twitter4j.TwitterFactory;
import twitter4j.http.AccessToken;
import twitter4j.http.RequestToken;
import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class WriteTweet extends Activity{
    public final static String consumerKey = "xxxxxxxxxxxxxxxxxx";
    public final static String consumerSecret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxx";
    private final String CALLBACKURL = "T4J_OAuth://callback";
    Twitter twitter;
    RequestToken requestToken;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        loginUser();
    }

    private void loginUser() {
        // TODO Auto-generated method stub
        try {
            twitter = new TwitterFactory().getInstance();
            twitter.setOAuthConsumer(consumerKey, consumerSecret);
            requestToken = twitter.getOAuthRequestToken(CALLBACKURL);
            String authUrl = requestToken.getAuthorizationURL();
            this.startActivity(new Intent(Intent.ACTION_VIEW, Uri
                    .parse(authUrl)));
        } catch (TwitterException ex) {
            Toast.makeText(this, ex.getMessage(), Toast.LENGTH_LONG).show();
            Log.e("in Main.OAuthLogin", ex.getMessage());
        }
    }
    @Override
    protected void onNewIntent(Intent intent) {
        Log.e("hi","hi");
        super.onNewIntent(intent);
        Uri uri = intent.getData();
        try {
            String verifier = uri.getQueryParameter("oauth_verifier");
            AccessToken accessToken = twitter.getOAuthAccessToken(requestToken,
                    verifier);
            String token = accessToken.getToken(), secret = accessToken
                    .getTokenSecret();
            displayTimeLine(token, secret); //after everything, display the first tweet 

        } catch (TwitterException ex) {
            Log.e("Main.onNewIntent", "" + ex.getMessage());
        }

    }
    @SuppressWarnings("deprecation")
    void displayTimeLine(String token, String secret) {
        Log.e("display","timeline");
    }

} 
```

清单是

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.twitter"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="15" />
    <uses-permission android:name="android.permission.INTERNET"/>

    <application

        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />

            </intent-filter>
        </activity>

        <activity android:name=".ListTweets" >

        </activity>
        <activity android:name=".WriteTweet"> 
                <intent-filter>  
                    <action android:name="android.intent.action.VIEW" />
                    <category android:name="android.intent.category.DEFAULT" />
                    <category android:name="android.intent.category.BROWSABLE" />  
                    <data android:scheme="T4J_OAuth" android:host="callback" />
                </intent-filter>
        </activity>
        <activity android:name=".ViewFollowers">

        </activity>
    </application>

</manifest> 
```

问题是它把我重定向到[https://mobile.twitter.com/](https://mobile.twitter.com/) 我不知道做错了什么。无论是否使用，问题都`getAuthenticationUrl()`存在`getAuthorizationUrl()`。`callback_url`我在 Twitter的字段中提供了一个虚拟 url 。如果我没有提供`callbackurl`in 代码并且在 twitter 页面中它会给我一个密码。但这不是我想要的。我需要我的推特重定向到我的应用程序。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-01T15:20:46.773

这就是我解决问题的方法，

1.  创建一个 web 视图并从您的应用程序中加载 twitter 的配置页面。

    ```
    vw = (WebView)findViewById(R.id.loginView);
    vw.setWebViewClient(new WebViewClient() {
        @Override
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
            return super.shouldOverrideUrlLoading(view, url);
        }
    }); vw.loadUrl(authUrl); 
    ```

2.  收到 callback_url 后，获取“oauth_verifier”

    ```
     Uri uri = Uri.parse(url);
                String verifier = uri.getQueryParameter("oauth_verifier"); 
    ```

3.  Use this verifier to get access and do what you want. In my case I destroy the webview and load the activity I require.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T12:17:34.683

使用下面的 URL 作为回调 URL。

```
public static final String  CALLBACK_URL = "x-oauthflow-twitter://callback"; 
```

有关 android 应用程序中的 twitter 集成的更多信息，请参阅下面的链接。

[推特整合](http://androidcodeexamples.blogspot.in/2011/12/how-to-integrate-twitter-in-android.html)

# caching - Doctrine Memcached：保存记录后清除缓存

> ID：12196613
> 
> 赞同：1
> 
> 时间：2012-08-30T12:13:07.840
> 
> 标签：caching, symfony1, doctrine, memcached

Doctrine 1.* 保存记录后是否清除缓存？

好像没有。我可以在某个地方做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:31:53.720

不，它没有。每次保存对象时都应该手动清除缓存。

如[文档中](http://www.symfony-project.org/more-with-symfony/1_4/en/08-Advanced-Doctrine-Usage#chapter_08_sub_deleting_cache)所述，最好的方法是使用事件，特别是`postSave`事件：

```
// lib/model/doctrine/User.class.php

class User extends BaseUser
{
  // ...

  public function postSave($event)
  {
    $cacheDriver = $this->getTable()->getAttribute(Doctrine_Core::ATTR_RESULT_CACHE);
    $cacheDriver->deleteByPrefix('users_');
  }
} 
```

您还可以构建一个自定义类来管理缓存清除（[如此处所述](http://ada.mbecker.cc/2012/02/13/doctrine-1.2-and-memcached-woes/)）：

```
<?php
class myCache{

    public static function clearRegexMatches($regex){
       Doctrine_Manager::getInstance()
            ->getAttribute(Doctrine_Core::ATTR_RESULT_CACHE)
            ->deleteByRegex($regex);
    }

    public static function clearOne($name){
        Doctrine_Manager::getInstance()
            ->getAttribute(Doctrine_Core::ATTR_RESULT_CACHE)
            ->delete($name);
    }
} 
```

# java - 绕 z 轴旋转漂移

> ID：12196614
> 
> 赞同：1
> 
> 时间：2012-08-30T12:13:18.533
> 
> 标签：java, android, opengl-es, opengl-es-2.0

在一个应用程序中，在尝试使用触摸旋转对象时，我注意到一段时间后对象的位置发生了漂移（没有应用任何平移！！）。旋转仅围绕 z 轴并且工作完美，但仅在几次旋转后才会发生漂移。

`ds` `will be used`用于翻译（使用上下按钮）。

`_uNozzleCentreMatrix``_ModelMatrixNozzle` `will use` `ds`如果我纠正这个。

```
private static final float[] _uNozzleCentre     = new float[]{0.0f, 0.333605f, 0.0f, 1.0f};
protected static float[] _uNozzleCentreMatrix   = new float[4];

public void onSurfaceChanged(GL10 gl, int width, int height) {
    gl.glViewport(0, 0, width, height);
    float ratio = (float) width / height;
    Matrix.setLookAtM(GLES20Renderer._ViewMatrix, 0, 0, 0, 7f, 0, 0, 0, 0, 1, 0);
    Matrix.frustumM(GLES20Renderer._ProjectionMatrix, 0, -ratio, ratio, -1, 1, 2, 8);
    Matrix.setIdentityM(GLES20Renderer._ModelMatrixNozzle, 0);
}
private static void updateModel(int upDown, float xAngle, float yAngle, float zAngle) {
    //ds                = GLES20Renderer._upDown - GLES20Renderer._lastUpDown;
    ds = 0; // ds changes with button up-down, but now it is made 0, so button up-down will not affect it
    Matrix.multiplyMV(GLES20Renderer._uNozzleCentreMatrix, 0, GLES20Renderer._ModelMatrixNozzle, 0, GLES20Renderer._uNozzleCentre, 0);
    if(Math.abs(ds) > 0) {
    } else {
        if(GLES20Renderer._zAngle >= 360) {
            GLES20Renderer._zAngle = GLES20Renderer._zAngle - 360;
        }
        if(GLES20Renderer._zAngle <= -360) {
            GLES20Renderer._zAngle = GLES20Renderer._zAngle + 360;
        }
        Matrix.translateM(GLES20Renderer._ModelMatrixNozzle, 0, GLES20Renderer._uNozzleCentreMatrix[0], GLES20Renderer._uNozzleCentreMatrix[1], 0);
        Matrix.rotateM(GLES20Renderer._ModelMatrixNozzle, 0, GLES20Renderer._zAngle, 0, 0, 1);
        Matrix.rotateM(GLES20Renderer._ModelMatrixNozzle, 0, -GLES20Renderer._lastZAngle, 0, 0, 1);
        Matrix.translateM(GLES20Renderer._ModelMatrixNozzle, 0, -GLES20Renderer._uNozzleCentreMatrix[0], -GLES20Renderer._uNozzleCentreMatrix[1], 0);
    }
    Matrix.multiplyMM(GLES20Renderer._MVPMatrixNozzle, 0, GLES20Renderer._ViewMatrix, 0, GLES20Renderer._ModelMatrixNozzle, 0);
    Matrix.multiplyMM(GLES20Renderer._MVPMatrixNozzle, 0, GLES20Renderer._ProjectionMatrix, 0, GLES20Renderer._MVPMatrixNozzle, 0);

    GLES20Renderer._lastZAngle = zAngle;
} 
```

**APK下载：**

[http://www.pixdip.com/opengles/rotation/rotation.apk](http://www.pixdip.com/opengles/rotation/rotation.apk)

（尝试从极左向右滑动较长的水平区域以尽早观察漂移。请耐心等待！漂移可能需要 20 秒才能发生）

对于那些没有发生的人，这里是自动 apk： [http ://www.pixdip.com/opengles/rotation/automatic.apk](http://www.pixdip.com/opengles/rotation/automatic.apk)

和代码的编辑部分：

```
 Matrix.translateM(GLES20Renderer._ModelMatrixNozzle, 0, GLES20Renderer._uNozzleCentreMatrix[0], GLES20Renderer._uNozzleCentreMatrix[1], 0);
        Matrix.rotateM(GLES20Renderer._ModelMatrixNozzle, 0, GLES20Renderer._zAngle, 0, 0, 1);
        //Matrix.rotateM(GLES20Renderer._ModelMatrixNozzle, 0, -GLES20Renderer._lastZAngle, 0, 0, 1);
        Matrix.translateM(GLES20Renderer._ModelMatrixNozzle, 0, -GLES20Renderer._uNozzleCentreMatrix[0], -GLES20Renderer._uNozzleCentreMatrix[1], 0); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T13:56:00.290

有时浮点错误会因为矩阵堆栈而累积。

这可以通过对一些关键转换使用单独的矩阵来消除：

```
private static float[] _TMatrix = new float[16];
private static float[] _ModelMatrix = new float[16];
Matrix.setIdentity(Renderer._ModelMatrix);
Matrix.setIdentity(Renderer._TMatrix);
Matrix.translate(Renderer._ModelMatrix, xmov,ymov,0);
Matrix.translate(Renderer._TMatrix, -xmov,-ymov,0);
Matrix.multiply(Renderer._ModelMatrix, Renderer._TMatrix, Renderer._ModelMatrix);
// will result in an identity model matrix, without any floating point errors 
```

# java - JSP 全局变量

> ID：12196617
> 
> 赞同：5
> 
> 时间：2012-08-30T12:13:35.787
> 
> 标签：java, jsp, global-variables

我有这个代码

```
<%!  
   public String class_name = "";  
%>  
<c:choose>
      <c:when test="${WCParam.categoryId != null}">
        <% class_name = "my_account_custom"; %>
      </c:when>
      <c:otherwise>
        <% class_name = "my_account_custom_3"; %>
      </c:otherwise>    
</c:choose>    
<p>Class name = <c:out value='${class_name}' /></p> 
```

WCParam.categoryId 是否为空但我的 class_name 变量始终为空。我做错了什么谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T12:29:16.483

Scriptlet（`<%...%>`）和表达式语言（`${...}`）是完全不同的东西，因此它们的变量属于不同的作用域（EL表达式中使用的变量实际上是不同作用域的请求属性）。

如果您`class_name`作为 scriptlet 变量贴花，您也应该使用 scriptlet 访问它：

```
<p>Class name = <c:out value='<%=class_name%>' /></p> 
```

但是，您可以完全不使用变量来编写它：

```
<p>Class name = <c:out 
     value='${WCParam.categoryId != null ? "my_account_custom" : "my_account_custom3"}' /></p> 
```

# jquery - Jquery Sortable Grid - 自定义图像和文本

> ID：12196619
> 
> 赞同：0
> 
> 时间：2012-08-30T12:13:57.550
> 
> 标签：jquery, grid, customization, jquery-ui-sortable

[http://jqueryui.com/demos/sortable/#display-grid](http://jqueryui.com/demos/sortable/#display-grid)

我正在尝试自定义这个 Jquery 示例。理想情况下，我希望所有内容都集中在每个网格图块上。名称然后图像..

```
<li><img src="image1.gif">Item 1</li>
<li><img src="image2.gif">Item 2</li>
<li><img src="image3.gif">Item 3</li> 
```

这不起作用，我不知道如何让它工作！

一旦我完成了那一点工作，有什么办法可以保存订单，所以如果我稍后访问该页面，布局就会保留。

是否可以保存布局并让所有查看它的用户看起来都一样？

谢谢你的帮助:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:56:15.550

要使盒子内容居中，您可以使用 padding-top 和 height：例如：

```
#sortable li{
   padding-top: 20PX;
   height: 70px;
} 
```

# javascript - Firefox 中的 Javascript：onkeyup 没有控制键的 keyCode

> ID：12196620
> 
> 赞同：3
> 
> 时间：2012-08-30T12:14:00.050
> 
> 标签：javascript, dom-events, onkeydown, onkeyup

我想对页面上的按键事件做出反应，我需要知道哪个按键被释放。以下代码通常可以正常工作，但对于“控制”键失败：它警告 0 而不是 17。事件键按下的相同代码按预期工作。

```
document.onkeyup = function KeyUp(e)
{
    var keyCode = (window.event) ? event.keyCode : e.keyCode;
    alert(keyCode);
} 
```

我做错了什么还是我误解了什么？

# jquery - jquery：导航栏子菜单的子菜单在悬停时向右滑动？

> ID：12196624
> 
> 赞同：0
> 
> 时间：2012-08-30T12:14:44.143
> 
> 标签：jquery, navigationbar

在 jaychapani 的帮助下，我的导航栏的子菜单可以很好地上下滑动。现在，当我将鼠标悬停在 subsubmenu1 上时，我希望它的孩子向右滑动。有谁知道这是怎么做到的吗？

下面是导航栏上下滑动的jquery代码。

```
 <script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $("#submenu1,#submenu2").children().hide();

    $("#submenu1,#submenu2").hover( 
        function(){//onmouseover 
            $(this).children("ul").slideDown(); 
        }, 
        function(){//onmouseout 
            $(this).children("ul").slideUp(); 
    }); 
});
</script> 
```

导航栏的CSS：

```
 #navbar{
/*  height:10%;
*/  width:900px;
    background-color:#000000;
    color:#ffffff;
    float:left;
    margin-top:2%;
    }

ul{
    list-style-type:none;
    margin:0;
    padding:0;
}
li{
float:left;
    display:block;
    width:120px;
    text-align:center;
} 
```

导航栏的html代码：

```
<div id="navbar">
<ul id="menu">
    <li>Home</li>
    <li>About</li>
    <li id="submenu1">Register Company
        <ul>
            <li id="subsubmenu1">New Sendirian Berhad Registration
                <ul>
                    <li>Company Price</li>
                    <li>Register New Company</li>
                    <li>Steps to Incorporate</li>

    </ul>
                </li>
            </ul>
        </li>
        <li id="submenu2">Buy Company
            <ul>
                <li>Sendirian Berhad Ready Made Companies in Malaysia</li>
            </ul>
        </li>
        <li>Contact</li>
    </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:30:41.673

你穿上`id="submenu1" id="submenu2"`它`<ul>`应该穿上`<li>`

喜欢

```
<div id="navbar">
<ul id="menu">
    <li>Home</li>
    <li>About</li>
    <li id="submenu1">Register Company
        <ul>
            <li>New Sendirian Berhad Registration
                <ul>
                    <li>Company Price</li>
                    <li>Register New Company</li>
                    <li>Steps to Incorporate</li>

                </ul>
            </li>
        </ul>
    </li>
    <li id="submenu2">Buy Company
        <ul>
            <li>Sendirian Berhad Ready Made Companies in Malaysia</li>
        </ul>
    </li>
    <li>Contact</li>
</ul>
</div>​ 
```

[**演示**](http://jsfiddle.net/GdvW3/2/)

# java - Java OpenCL：在 JOCL 中将标量参数传递给内核

> ID：12196629
> 
> 赞同：1
> 
> 时间：2012-08-30T12:14:53.183
> 
> 标签：java, opencl, jocl

有没有一种方法可以在 JOCL 中将标量参数传递给内核而不创建新数组？在 C++ 中，可以简单地将标量参数（例如 int）转换为 void*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-11T18:03:23.227

是的，有一些方法，如 putArg(float)、putArg(int)，它们将标量参数传递给内核。

看看他们的例子。

# c# - 将 VS MVC3 项目发布到 Web 服务器的建议

> ID：12196633
> 
> 赞同：2
> 
> 时间：2012-08-30T12:15:04.040
> 
> 标签：c#, asp.net-mvc-3, ftp, publish, visual-studio-2012

作为一家多年来一直使用旧 ASP (vbscript) 的公司，我们刚刚开始更新到 c# .net。我们的第一个 MVC3 项目已准备好上传到 Web 服务器进行测试并消除任何错误。

在阅读了它之后，我对它的理论已经相当熟悉了。

```
System.Web.Mvc

System.Web.Routing

System.Web.Abstractions 
```

已全部设置为复制本地 'true'

右键单击解决方案并选择“发布”

创建了一个新的个人资料

**填写连接详细信息，尽管我不确定“站点路径**”和“**目标 URL** ”的确切含义

就目前而言，站点路径是脚本路径，目标 URL 是 URL，因为它将被键入到浏览器的地址栏中。

连接确实有效。

在设置中我选择了发布

有一个对我来说似乎很吓人的小复选框，上面写着“**在发布之前删除所有现有文件**”我要上传到的服务器包含我们所有的实时和测试网站，虽然我已经为项目创建了一个新文件夹，但我在任何情况下都不希望它触摸、编辑、修改或删除服务器上的任何其他内容。所以这个框是未选中的。任何人都可以验证不选中此选项将确保它对服务器上的其他任何内容都没有任何作用吗？

然后在预览中它只是说“您的应用程序将发布到：（服务器的IP地址）

之前做过这件事的人可以给我一些指导，这是正确的方法吗？我可以通过普通的 ftp 减少后顾之忧，但希望能够使用 Visual Studios 工具。它的 Visual Studio 2012。

抱歉，如果这不是此问题的确切正确位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T19:54:49.357

在尝试了一段时间后，我发现发布到 ftp 是浪费时间，而且是一种艰难的处理方式。虽然可能很多人都知道这一点。

相反，我只是发布到系统文件，然后使用 cutftp 将其上传到 Web 服务器。这可能不是最专业的处理方式，但来自主要来自 Web 脚本背景的人，我发现这不那么令人困惑并且更容易管理。

我只是想我会回答我自己的问题来解决这个问题。

# c# - 在 pdf 命令行中搜索短语

> ID：12196641
> 
> 赞同：0
> 
> 时间：2012-08-30T12:15:23.953
> 
> 标签：c#, string, search, pdf, command-line

我需要一种在 C# 的 pdf 中搜索短语（多词字符串，例如“红球”）的方法。
我找到了一种打开pdf文件`C#`并执行搜索的方法。但是，它会单独搜索每个单词，而不是作为短语搜索。有趣的是，如果我打开一个 pdf 文件并使用高级搜索，它将作为一个完整的术语而不是两个单独的词来搜索它，但它不会从命令行执行相同的操作。

我在网上进行了广泛的搜索，并尝试了我能想到的一切（添加引号、添加`\`“、添加单引号、使用`+, &, _,`在单词之间使用等等）。必须有一种方法可以做到这一点，因为它可以在 pdf 中使用，我只需要一种从命令行调用它的方法。有人可以帮忙吗？

这就是我所拥有的。这有效，但它单独搜索每个单词。所以它发现`"red ball", as well as "red", "ball," "reddening", and "balled"`. 我只想找到而已`"red ball"`。

```
string strParams = " /A \"search=" + "red ball" + "\"" + fileDirectory + strFilePath + "\"";
System.Diagnostics.Process.Start("AcroRd32.exe", strParams); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:29:32.163

搜索参数确实只针对单词列表，无法搜索短语（或超过 32 个字符）：

[Adobe 文档](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/pdf_open_parameters.pdf)：

> 您只能搜索单个单词。你不能搜索一串单词

您可以尝试备用阅读器或[图书馆](https://stackoverflow.com/questions/4804295/free-pdf-library)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T03:37:35.343

抱歉，您必须反编译文件，提取每个页面内容部分，解压缩并在每个部分中进行愉快的搜索。因此，您需要任何 PDF 库或自己编写。

# jquery - 如何在我的 span 元素中放置一个值

> ID：12196645
> 
> 赞同：0
> 
> 时间：2012-08-30T12:15:52.427
> 
> 标签：jquery

我需要将 JQuery 中的值放在以下范围内：

```
<td>Cholesterol</td>
<td>
 <input type="text" name="txt_cholesterol" id="txt_cholesterol" class="info"/>
 <span class="result"></span>
</td>
<td>
 <span class="low">116</span>-<span class="high">254</span>
</td> 
```

jQuery 不工作：

```
$(".info").keyup(function(){

   var a = $(this).val(); 
   var low = $(this).closest('td').next().find('.low').html(); 
   var high =$(this).closest('td').next().find('.high').html(); 

    if (a < parseInt(low))
    {

    $(this).closest('span').html('L');
    }
    if (a > parseInt(high))
    {
        $(this).closest('td').next().find('.result').html('H'); 
    }

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:28:33.223

尝试

```
$(this).next('span.result').html('L'); 
```

代替

```
$(this).closest('span').html('L'); 
```

最接近用于搜索父元素。参考这个[http://api.jquery.com/closest/](http://api.jquery.com/closest/)

对 H 使用相同的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:30:28.660

试试看：

```
$(".info").keyup(function() {
    var $this = $(this);
    var $td = $this.parent('td').next();
    var a = $this.val();
    var low = $td.find('.low').html();
    var high = $td.find('.high').html();

    if (a < parseInt(low, 10)) {
        $this.next().html('L');
    }
    if (a > parseInt(high, 10)) {
        $td.find('.result').html('H');
    }

});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:42:58.177

[在http://jsfiddle.net/nrpCR/](http://jsfiddle.net/nrpCR/)上检查这个工作脚本

```
$(".info").on('keyup', function(e) {

    var self = $(this);
    var a = self.val();
    var low = self.parent('td').next().find('.low').html();
    var high = self.parent('td').next().find('.high').html();

    console.log(a, low, high, $(self).parent());

    if (a < parseInt(low)) {

        self.next('span').html('L');
    }
    if (a > parseInt(high)) {
        self.next('span').html('H');
    }

});​ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:38:05.090

尝试这个

```
$(".info").keyup(function(){

var a = $(this).val();
var low = $(this).parent().next().find('.low').html();
var high =$(this).parent().next().find('.high').html();

if (a < parseInt(low))
{
    $(this).siblings('.result').html('L');
}
if (a > parseInt(high))
{
    $(this).siblings('.result').html('H');
}

}); 
```

[查看工作示例](http://jsfiddle.net/RXJAz/)

# xml - JAXB 和 EntityResolver

> ID：12196646
> 
> 赞同：1
> 
> 时间：2012-08-30T12:15:58.347
> 
> 标签：xml, xsd, jaxb, entityresolver

好的，这就是交易。我有一个像这样开头的 xml 文件：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns3:rosApplicationDocument xmlns:ns2="http://ereg.egov.bg/segment/0009-000013" xmlns:ns3="http://ereg.egov.bg/segment/0009-900001" xmlns:ns4="http://ereg.egov.bg/segment/0009-000022"> 
```

xsd 是这样开始的：

```
<?xml version="1.0" encoding="utf-8"?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    targetNamespace="http://ereg.egov.bg/segment/0009-900001" xmlns="http://ereg.egov.bg/segment/0009-900001"

xmlns:dtn="http://ereg.egov.bg/value/0008-000007" xmlns:emad="http://ereg.egov.bg/value/0008-000036"
xmlns:aisuri="http://ereg.egov.bg/value/0008-000039" xmlns:ssu="http://ereg.egov.bg/value/0008-000077"

xmlns:dtu="http://ereg.egov.bg/segment/0009-000003" xmlns:ebd="http://ereg.egov.bg/segment/0009-000013"
xmlns:rou="http://ereg.egov.bg/segment/0009-000022" xmlns:idu="http://ereg.egov.bg/segment/0009-000046"
xmlns:eovau="http://ereg.egov.bg/segment/0009-000051" xmlns:easu="http://ereg.egov.bg/segment/0009-000091"
xmlns:ss="http://www.bulsi.bg/egov/ServiceSupplier" elementFormDefault="qualified">

<xsd:import namespace="http://www.bulsi.bg/egov/ServiceSupplier"
    schemaLocation="ServiceSupplierType.xsd" />

<xsd:import namespace="http://ereg.egov.bg/value/0008-000007"
    schemaLocation="DocumentTypeName-0008-000007.xsd" />
<xsd:import namespace="http://ereg.egov.bg/value/0008-000036"
    schemaLocation="EmailAddress-0008-000036.xsd" />
<xsd:import namespace="http://ereg.egov.bg/value/0008-000039"
    schemaLocation="AISURI-0008-000039.xsd" />
<xsd:import namespace="http://ereg.egov.bg/value/0008-000077"
    schemaLocation="SUNAUServiceURI-0008-000077.xsd" />

<xsd:import namespace="http://ereg.egov.bg/segment/0009-000003"
    schemaLocation="DocumentTypeURI-0009-000003.xsd" />
<xsd:import namespace="http://ereg.egov.bg/segment/0009-000013"
    schemaLocation="EntityBasicData-0009-000013.xsd" />
<xsd:import namespace="http://ereg.egov.bg/segment/0009-000022"
    schemaLocation="RegisterObjectURI-0009-000022.xsd" />
<xsd:import namespace="http://ereg.egov.bg/segment/0009-000046"
    schemaLocation="InitiatingDocumentURI-0009-000046.xsd" />
<xsd:import namespace="http://ereg.egov.bg/segment/0009-000051"
    schemaLocation="EditorOrVisualizerApplicationURI-0009-000022.xsd" />
<xsd:import namespace="http://ereg.egov.bg/segment/0009-000091"
    schemaLocation="ElectronicAdministrativeServiceURI-0009-000091.xsd" />

<!-- <xsd:key name="serviceID"> <xsd:selector xpath="RosApplicationDocument/Enclosures/SimpleServiceEnclosure"/> 
    <xsd:field xpath="@id"/> </xsd:key> <xsd:keyref name="serviceIDREF" refer="serviceID"> 
    <xsd:selector xpath="RosApplicationDocument/Enclosures/ComplexServiceEnclosure/InitialServices/InitialService/InitialService" 
    /> <xsd:field xpath="@ref"/> </xsd:keyref> -->

<xsd:element name="RosApplicationDocument" type="RosApplicationDocument" /> 
```

和解组：

```
JAXBContext context = JAXBContext.newInstance(c);
            Unmarshaller um = context.createUnmarshaller();
            if (c.equals(RosApplicationDocument.class)) {
                SchemaFactory schemaFactory = SchemaFactory
                        .newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
                Schema schema = schemaFactory.newSchema(new File(pathToXSD));
                um.setSchema(schema);
                RosApplicationDocument document = (RosApplicationDocument) um
                        .unmarshal(getSource(pathToFile));
                RosApplicationDocumentFactory.removeCDATAFromSegments(document);
                return document;
            }

public static SAXSource getSource(String pathToFile) {
        try {
            SAXParserFactory parserFactory = SAXParserFactory.newInstance();
            parserFactory.setNamespaceAware(true);
            parserFactory.setValidating(true);
            SAXParser saxParser = parserFactory.newSAXParser();
            XMLReader xmlReader = saxParser.getXMLReader();
            xmlReader
                    .setEntityResolver(new RosApplicationDocumentEntityResolver());
            InputSource inSrc = new InputSource(new FileReader(pathToFile));
            return new SAXSource(xmlReader, inSrc);
        } catch (SAXException e) {
            e.printStackTrace();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (ParserConfigurationException e) {
            e.printStackTrace();
        }

        return null;
    } 
```

为什么会出现此异常：**[org.xml.sax.SAXParseException: cvc-elt.1: 找不到元素“ns3:rosApplicationDocument”的声明。]**

编辑：

这是 LSResourceResolver：

```
public class MyLSResourceResolver implements LSResourceResolver {

    @Override
    public LSInput resolveResource(String type, String namespaceURI,
            String publicId, String systemId, String baseURI) {
        System.out.println(publicId);
        System.out.println(systemId);
        System.out.println(baseURI);
        System.out.println(namespaceURI);
        System.out.println(type);
        return null;
    }

} 
```

我将它设置为工厂，如：`schemaFactory.setResourceResolver(new MyLSResourceResolver());`

这是控制台的输出：

```
null
ServiceSupplierType.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://www.bulsi.bg/egov/ServiceSupplier
http://www.w3.org/2001/XMLSchema
null
EmailAddress-0008-000036.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/ServiceSupplierType.xsd
http://ereg.egov.bg/value/0008-000036
http://www.w3.org/2001/XMLSchema
null
EntityBasicData-0009-000013.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/ServiceSupplierType.xsd
http://ereg.egov.bg/segment/0009-000013
http://www.w3.org/2001/XMLSchema
null
EntityName-0008-000029.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/EntityBasicData-0009-000013.xsd
http://ereg.egov.bg/value/0008-000029
http://www.w3.org/2001/XMLSchema
null
EntityIdentifier-0008-000028.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/EntityBasicData-0009-000013.xsd
http://ereg.egov.bg/value/0008-000028
http://www.w3.org/2001/XMLSchema
null
DocumentTypeName-0008-000007.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://ereg.egov.bg/value/0008-000007
http://www.w3.org/2001/XMLSchema
null
AISURI-0008-000039.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://ereg.egov.bg/value/0008-000039
http://www.w3.org/2001/XMLSchema
null
SUNAUServiceURI-0008-000077.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://ereg.egov.bg/value/0008-000077
http://www.w3.org/2001/XMLSchema
null
DocumentTypeURI-0009-000003.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://ereg.egov.bg/segment/0009-000003
http://www.w3.org/2001/XMLSchema
null
RegisterObjectURI-0009-000022.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/DocumentTypeURI-0009-000003.xsd
http://ereg.egov.bg/segment/0009-000022
http://www.w3.org/2001/XMLSchema
null
BatchNumber-0008-000001.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/RegisterObjectURI-0009-000022.xsd
http://ereg.egov.bg/value/0008-000001
http://www.w3.org/2001/XMLSchema
null
InitiatingDocumentURI-0009-000046.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://ereg.egov.bg/segment/0009-000046
http://www.w3.org/2001/XMLSchema
null
DocumentURI-0009-000001.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/InitiatingDocumentURI-0009-000046.xsd
http://ereg.egov.bg/segment/0009-000001
http://www.w3.org/2001/XMLSchema
null
RegisterIndex-0008-000002.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/DocumentURI-0009-000001.xsd
http://ereg.egov.bg/value/0008-000002
http://www.w3.org/2001/XMLSchema
null
DocumentSequenceNumber-0008-000003.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/DocumentURI-0009-000001.xsd
http://ereg.egov.bg/value/0008-000003
http://www.w3.org/2001/XMLSchema
null
DocumentReceiptOrSigningDate-0008-000004.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/DocumentURI-0009-000001.xsd
http://ereg.egov.bg/value/0008-000004
http://www.w3.org/2001/XMLSchema
null
EditorOrVisualizerApplicationURI-0009-000022.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://ereg.egov.bg/segment/0009-000051
http://www.w3.org/2001/XMLSchema
null
ElectronicAdministrativeServiceURI-0009-000091.xsd
file:/home/doncho/Documents/data/java/ROSAppl/src/bg/bulsi/egov/rosappl/xml_schemas/appl_v3.xsd
http://ereg.egov.bg/segment/0009-000091
http://www.w3.org/2001/XMLSchema
javax.xml.bind.MarshalException
 - with linked exception:
[org.xml.sax.SAXParseException: cvc-elt.1: Cannot find the declaration of element 'ns3:rosApplicationDocument'.] 
```

最后同样的异常..所以问题不在xsd中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:45:57.633

目前，您正在设置一个`Schema`on`Unmarshaller`以启用模式验证，并在您正在解组`SAXSource`的验证上创建一个。`XMLReader`作为第一步，我建议您简化代码以简单地执行以下操作：

```
 JAXBContext context = JAXBContext.newInstance(c);
        Unmarshaller um = context.createUnmarshaller();
        if (c.equals(RosApplicationDocument.class)) {
            SchemaFactory schemaFactory = SchemaFactory
                    .newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
            Schema schema = schemaFactory.newSchema(new File(pathToXSD));
            um.setSchema(schema);
            InputSource inSrc = new InputSource(new FileReader(pathToFile));
            RosApplicationDocument document = (RosApplicationDocument) um
                    .unmarshal(inSrc);
            RosApplicationDocumentFactory.removeCDATAFromSegments(document);
            return document;
        } 
```

**了解更多信息**

*   [http://blog.bdoughan.com/2010/12/jaxb-and-marshalunmarshal-schema.html](http://blog.bdoughan.com/2010/12/jaxb-and-marshalunmarshal-schema.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:56:00.977

在xml中你有：

```
xmlns:ns3="http://ereg.egov.bg/segment/0009-900001" 
```

所以`http://ereg.egov.bg/segment/0009-900001`应该是您的架构的默认命名空间，但我没有在您发布的示例代码中看到它声明。

此外，在架构中，元素`RosApplicationDocument`在文档中声明`rosApplicationDocument`（小写）

# .net - 什么时候创建属性实例？

> ID：12196647
> 
> 赞同：21
> 
> 时间：2012-08-30T12:16:01.007
> 
> 标签：.net, attributes

属性是否与应用它们的类的实例同时实例化？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-30T12:33:14.250

`Type.GetCustomAttributes()`调用时加载属性。如果您只是实例化类甚至获取类型，则尚未加载属性。

看这个例子：

```
class Program
{
    static void Main()
    {
        Console.WriteLine("Calling AttributeLoadTest.TestStatic():");
        AttributeLoadTest.TestStatic();
        Console.WriteLine("Loading class");
        var x = new AttributeLoadTest();
        Console.WriteLine("Loading type..");
        var t = typeof (AttributeLoadTest);
        Console.WriteLine("Calling GetCustomAttributes()");
        var ats = t.GetCustomAttributes(false);
    }
}

[ConsoleTest]
class AttributeLoadTest
{
    public static void TestStatic()
    {

    }
}

[AttributeUsage(AttributeTargets.Class)]
class ConsoleTestAttribute : Attribute
{
    public ConsoleTestAttribute()
    {
        Console.WriteLine("ConsoleTestAttribute Constructor");
    }
} 
```

这打印出来：

> 调用 AttributeLoadTest.TestStatic()：
> 
> 加载类
> 
> 加载类型..
> 
> 调用 GetCustomAttributes()
> 
> ConsoleTestAttribute 构造函数

所以调用静态方法，实例化类，获取类型，并没有实例化属性。打电话`GetCustomAttributes()`可以。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-08-30T12:18:34.853

不。属性绑定到类型，因此在加载类型时实例化。

# jquery - 从 href 调用 javascript

> ID：12196648
> 
> 赞同：0
> 
> 时间：2012-08-30T12:16:06.450
> 
> 标签：jquery, html

我有这个 HTML 代码：

```
<li class="sm2"><a class="scrol" href="#aboutus_marker" ></a></li> 
```

我希望这个链接调用 javascript**并**链接到锚点。

作为记录，我希望 javascript 停止滑块：

```
$('#slider').data('nivoslider').start(); 
```

我怎么能做这样的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:21:04.500

你需要的是一个叫做监听器的东西。

```
$('.sm2 a').click(function() {
   // your start slider code here
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:21:23.870

您不需要修改 href-Tag。

创建一个 JS 函数并添加：

```
$('#linkid').click(function()); 
```

# powershell - Powershell，如何为共享文件夹添加权限

> ID：12196651
> 
> 赞同：2
> 
> 时间：2012-08-30T12:16:17.893
> 
> 标签：powershell

我有以下代码创建一个共享文件夹

```
if (!(Test-Path c:\myFolder))
{
    New-Item -Path 'c:\myFolder' -ItemType Directory
}

If (!(GET-WMIOBJECT Win32_Share -Filter "Name='myFolder'”))
{ 
    $Shares.Create(“c:\myFolder”,”myFolder”,0)
} 
```

如何将“所有人”的读/写权限添加到共享文件夹？我不喜欢添加外部 dll

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T01:13:46.863

[Carbon](http://get-carbon.org)模块有一个[Install-Share](http://get-carbon.org/help/Install-Share.html)功能，可以满足您的需求：

```
 Install-Share -Name myFolder -Path C:\myFolder -Permissions "EVERYONE,FULL" 
```

在内部，`Install-Share`正在使用`net share`控制台应用程序。我相信如果您运行`net share /?`，您将获得有关如何从命令行创建共享的语法。

***免责声明：***我是 Carbon 的所有者/维护者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:33:54.617

尝试`Set-SharePermission`ShareUtils 模块 ( [http://en-us.sysadmins.lv/Lists/Posts/Post.aspx?ID=28](http://en-us.sysadmins.lv/Lists/Posts/Post.aspx?ID=28) ) 中的功能：

```
Import-Module ShareUtils

Get-Share -Name myFolder | 
Set-SharePermission -User Everyone -AccessType Allow -Permission Change | 
Set-Share 
```

# c# - Dictionary 如何从海量数据中查找特定的键值？

> ID：12196653
> 
> 赞同：3
> 
> 时间：2012-08-30T12:16:27.620
> 
> 标签：c#, dictionary

我对 C hsarp Dictionary 有一个非常具体的问题。假设您在字典中有 100000 条数据

```
var dictionary = new Dictionary<string, int>(); 
```

而且您已经使用...填写了字典

```
 dictionary.Add("car", 1);
 dictionary.Add("apple", 2);
...
... 
```

现在假设您正在字典中搜索特定字符串

```
if (dictionary.ContainsKey("apple"))
  {
     // then do this
  } 
```

我的问题是，字典如何从这么多键中搜索这个特定的值？它是否通过线性搜索。但 msdn 声称字典搜索复杂度接近 O(1) [LinkMSDN](http://msdn.microsoft.com/en-us/library/xfhwa508.aspx)

我对 Dictionary 的了解是它没有任何内部搜索/排序算法。 [关联](http://www.dotnetperls.com/sort-dictionary)

谁能解释一下字典如何将其值存储在内存中以及从系统的角度检索值是如何发生的。我知道作为一名高级程序员，我们不需要考虑 .Net 的所有这些特性，但很高兴知道。其实我很想知道。MSDN 说它使用哈希表，但没有解释。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:20:15.400

从您问题中的同一[链接](http://msdn.microsoft.com/en-us/library/xfhwa508.aspx)中，您可以看到：

> 使用它的键检索一个值非常快，接近 O(1)，因为 Dictionary 类被实现为一个**哈希表**。

我相信您需要阅读有关哈希表的信息。

可能一个很好的起点是： [哈希表 - 数据结构](http://www.cs.auckland.ac.nz/~jmor159/PLDS210/hash_tables.html)

# jsf-2 - 在数据表素面之外找不到具有标识符的组件

> ID：12196655
> 
> 赞同：0
> 
> 时间：2012-08-30T12:16:34.780
> 
> 标签：jsf-2, datatable, primefaces, updating

我的更新属性有问题，我想更新数据表之外的标记，但总是有一个错误，这是我的 xhtml 页面：

```
 <?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

    <body>

        <ui:composition template="./template_admin.xhtml">

            <ui:define name="tohead">
            </ui:define>

            <ui:define name="content">

                <p:fieldset id="panel" legend="Stock papiers">
                    <p:messages id="msgs"/>
                    <p:commandButton style="margin-bottom: 20px;margin-top: 20px;" ajax="false" value="Nouveau Type" action="newPapier" />

                    <p:dataTable var="car" value="#{addPapierController.allPapiers}" id="carList" editable="true">  

                        <f:facet name="header">  
                            Stock Papiers 
                        </f:facet>  

                        <p:ajax event="rowEdit" listener="#{addPapierController.onEdit}" update=":msgs" />  

                        <p:column headerText="ID " style="width:125px">                                                               
                            <h:outputText value="#{car.id}" />                                                               
                        </p:column>  

                        <p:column headerText="Libéllé" style="width:125px">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{car.libelle}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <p:inputText value="#{car.libelle}" style="width:100%" label="Year"/>  
                                </f:facet>  
                            </p:cellEditor>  
                        </p:column>  

                        <p:column headerText="Type" style="width:125px">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{car.type}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <p:inputText value="#{car.type}" style="width:100%" label="Year"/>  
                                </f:facet>  
                            </p:cellEditor>  
                        </p:column>  

                        <p:column headerText="Grammage" style="width:125px">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{car.grammage}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <p:inputText id="grammage" value="#{car.grammage}" validator="#{addPapierController.validateDouble}" style="width:100%" label="Grammage"/>  
                                    <p:message for="grammage" display="icon"/>
                                </f:facet>
                            </p:cellEditor>  
                        </p:column>  

                        <p:column headerText="Format" style="width:125px">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{car.format}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <p:inputText value="#{car.format}" style="width:100%" label="Year"/>  
                                </f:facet>  
                            </p:cellEditor>  
                        </p:column>

                        <p:column headerText="Stock" style="width:125px">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{car.stock}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <p:inputText value="#{car.stock}" validator="#{addPapierController.validateDouble}" style="width:100%" label="Year"/>  
                                </f:facet>
                            </p:cellEditor>  
                        </p:column>

                        <p:column headerText="Editer" style="width:50px">  
                            <p:rowEditor />  
                        </p:column>  

                    </p:dataTable>  

                </p:fieldset>

            </ui:define>

        </ui:composition>

    </body>
</html> 
```

在包含所有这些的表单中，我做了 prependId=false，但我总是有这个错误：

```
 Grave: Error Rendering View[/vues_admin/papiers.xhtml]
javax.faces.FacesException: Cannot find component with identifier ":carList:msgs" referenced from "carList". 
```

这是 template_admin ：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="style.css" library="css" />
        <h:outputStylesheet name="styleTableExpansion.css" library="css" />
        <ui:insert name="tohead">content</ui:insert>
        <script type="text/javascript">
            function affecter_back(){
                var a = document.getElementById("menuparam")
                a.style.backgroundColor = 'white';
            }
        </script>
    </h:head>
    <h:body>

        <div id="page">
            <div id="bloc-principal">
                <h:form prependId="false" id="myform" >
                    <div id="templatemo_header_wrapper">

                        <div id="templatemo_header">

                            <div id="site_title">
                                <h1>
                                    <span>vous etes connect en tant qu' #{userController.u1.type}</span>
                                </h1>
                            </div>

                            <ul class="social_network">
                                <li><a id="ident">1dd</a></li>
                                <li><a href="login.xhtml" class="identifiant">on voie celle ci</a></li>
                                <li><a class="identifiant">#{userController.identifiant}</a></li>
                                <li><h:commandLink action="#{userController.deconnecter}"><h:graphicImage library="images" name="close.png" /></h:commandLink></li>
                            </ul>

                        </div> <!-- end of templatemo_header -->
                    </div> <!-- end of templatemo_header_wrapper -->   

                    <div id="templatemo_banner_wrapper">

                        <div id="templatemo_banner">

                        </div> <!-- end of templatemo_banner -->

                    </div> <!-- end of templatemo_banner_wrapper -->

                    <div id="templatemo_menu_wrapper">

                        <div id="templatemo_menu">
                            <ul id="menuDeroulant">
                                <li><a href="/impression/faces/vues_admin/acceuil_admin.xhtml" class="current"><span class="home">Acceuil</span></a></li>
                                <li><a href="/impression/faces/vues_admin/touslesCommandes.xhtml" class="commandes"><span class="commandes">Commandes</span></a></li>
                                <li><a href="/impression/faces/vues_admin/utilisateurs.xhtml"><span class="users">Utilisateurs</span></a></li>
                                <li><a href="/impression/faces/vues_admin/newMessage.xhtml"><span class="gallery">Message</span></a></li>
                                <li><a href="/impression/faces/vues_admin/historiqueMessages.xhtml"><span class="contact">Messages</span></a></li>
                                <li>
                                    <a id="menuparam" ><span class="contact2">Paramétres</span></a>
                                    <ul class="sousMenu">
                                        <li><a  href="/impression/faces/vues_admin/papiers.xhtml" >Stock Papiers</a></li>
                                        <li><a  href="#">Stock Reliure</a></li>
                                        <li><a  href="#">Approvisionements</a></li>
                                    </ul>

                                </li>
                            </ul>       

                        </div> <!-- end of templatemo_menu -->
                    </div> <!-- end of templatemo_menu_wrapper -->    

                    <div id="templatemo_content_wrapper">

                        <div id="templatemo_content">

                            <ui:insert name="content">content</ui:insert>
                        </div> <!-- end of templatemo_content -->
                    </div> <!-- end of templatemo_content_wrapper -->    
                </h:form>
            </div>
            <div id="templatemo_footer_wrapper">

                <div id="templatemo_footer">

                </div> <!-- end of footer -->
            </div>
        </div>

    </h:body>
</html> 
```

你有什么想法吗，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T12:35:46.390

我认为这与 MyFaces [https://issues.apache.org/jira/browse/MYFACES-3607](https://issues.apache.org/jira/browse/MYFACES-3607)中的类似问题有关。他们说这是正确的行为，但我也遇到了这个问题，我会尝试使用`ui:repeat`而不是`p:dataTable`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T13:01:23.303

尝试更改`update=":msgs"`为`update="msgs"`

# c# - 从方法 c#.net 获取 sqlconnection 字符串参数

> ID：12196661
> 
> 赞同：-1
> 
> 时间：2012-08-30T12:17:06.443
> 
> 标签：c#, .net

让我们考虑一些方法

```
method1(argument 1, argument 2, argument 3)
{
    con.open();
    con.close();
}

method 2(argument 1,argument 2,argument 3,argument 4)
{
    con.open();
    con.close();
}

method 3(argument 1,argument 2)
{
    con.open();
    con.close();
} 
```

以上三种方法用于获取连接所需的参数，如[SqlCommand cmd, SqlConnection conn, SqlTransaction trans, CommandType cmdType]

所有这些方法都编译为 dll 。

现在我需要创建扫描上述方法的项目并返回哪个参数保存连接字符串的输出

现在我的查询是

1.  我们如何才能找到其中包含连接字符串的参数？
2.  众所周知，没有连接字符串 con.open 会抛出错误，有什么办法可以找到它吗？

等待您的宝贵建议和命令

**编辑**：

我的最终解决方案是我将只拥有一个 dll 我的工作是扫描 dll 并找到其中存在 con.open 方法的位置，最后我需要获取传递给该方法的参数以找到连接字符串进入方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:21:21.607

您很可能正在寻找[SqlConnectionStringBuilder](http://msdn.microsoft.com/en-us/library/d7z89tex.aspx)。

其中*参数*是有效的连接字符串。在那之后：

> 解析为名称/值对。无效的键名引发 KeyNotFoundException。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:28:37.600

你想做什么，请解释我不明白。

但你可以

```
try
{
  con.open();
  con.close();
}
catch
{
  //show message
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:19:57.940

您可以尝试使用此代码

```
If( argument  is SqlConnection)
{

} 
```

但是如果你有最新版本的框架，你可以使用可选参数和命名参数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:33:59.907

您可以使用[反射](http://msdn.microsoft.com/en-us/library/f7ykdhsy%28v=vs.100%29.aspx)来获取[方法信息](http://msdn.microsoft.com/en-us/library/system.reflection.methodinfo%28v=vs.100%29.aspx)，但这并不能告诉您哪个参数是连接字符串 - 毕竟它只是一个字符串。[您可以通过检查参数的名称来](http://msdn.microsoft.com/en-us/library/system.reflection.parameterinfo%28v=vs.100%29.aspx)进行有根据的猜测。

不过，我不确定您为什么需要这样做——当您编写调用这些方法的代码时，VS IDE 智能感知会为您提供大量信息。

# css - 使用浮动样式标记

> ID：12196664
> 
> 赞同：-1
> 
> 时间：2012-08-30T12:17:16.557
> 
> 标签：css, css-float

鉴于此标记，

```
<div id="header"></div>
<div id="content"></div>
<div id="sidebar"></div>

#header {
  no styles at all
}

#content {
  float: left;
}

#sidebar {
  float: right;
} 
```

如何在不更改标记的情况下使用 CSS 浮动定位 div？

![在此处输入图像描述](../Images/6edc9a9112762cd3b941cfaba33e1209.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:24:17.480

你需要这样的东西吗？

[http://jsfiddle.net/JVJ9Q/2/](http://jsfiddle.net/JVJ9Q/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:32:16.740

试试这个小提琴：http: [//jsfiddle.net/PZkeh/](http://jsfiddle.net/PZkeh/)

尊重 Pēteris 的回答，您不需要定义`margin-top`严格依赖于 #header`height`并且在调整窗口大小时效果很好的否定。

制作此布局的主要 CSS 规则是

```
#sidebar { 
    position: absolute; 
    right   : 0; 
    top     : 0;
    width   : 100px;
    min-height: 150px; 
}

body {
    position: relative; /* not necessary if you apply this style to the body */
    padding-right: 120px;
    min-width: 300px; /* this should be adjusted to contain sidebar + header width */
} 
```

# asp.net - ASP.NET MVC 中的“缓存”控制器

> ID：12196668
> 
> 赞同：0
> 
> 时间：2012-08-30T12:17:26.970
> 
> 标签：asp.net, asp.net-mvc-3

我注意到我开发的 ASP.NET MVC 3 网站上的一些请求，其中 URL 显示为：

```
URL /cache/4d3d10bd28ff623813254a49b26be41f 
```

我收到了几个这样的请求。

有人可以指导我为什么会收到这样的请求吗？没有名称为“缓存”的此类控制器。

谢谢

# asp.net-mvc - 如何在控制器中声明一个变量，而不是为每个 ActionResult 声明一次

> ID：12196669
> 
> 赞同：0
> 
> 时间：2012-08-30T12:17:29.637
> 
> 标签：asp.net-mvc, razor

我正在使用 MVC4 并且我有一个问题，而不是声明 ViewBag.MenuLevel="twostage"; 在我的控制器的每个 ActionResult 中，我可以以某种方式为每个控制器声明一次吗？例如，现在我可以说每个控制器有 40 个 ActionResult，这似乎很愚蠢，必须多次声明一个变量 - 所以我确信我错过了一些简单的东西。

我需要能够以某种方式在我的视图中使用它来影响演示。想法？楷模？对 MVC 来说有点新，所以要温柔！;)

基本上我希望每个部分（控制器）在前端显示不同的背景颜色，所以我想将部分/控制器打印到 html 中的 id 以便我可以通过 css 进行控制。

干杯。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:30:48.073

每次都必须设置 ViewBag 数据，这是架构中不可避免的特性。但是，您可以通过将属性应用于控制器的控制器代码使其更简洁。

```
public class ViewBagAttribute : ActionFilterAttribute
{
    public void OnActionExecuting(ActionExecutingContext filterContext)
    {
        var controller = filterContext.Controller;

        controller.ViewBag.MenuLevel = "twostage";
    }

    public void OnActionExecuted(ActionExecutedContext filterContext) { }
} 
```

如果将该属性应用于控制器，则不必为每个 Action 方法显式添加 ViewBag 代码，因为每个 Action 方法`OnActionExecuting`都会自动调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:19:56.187

您可以创建一个`BaseController`在其中定义共享字段和值的类。您所有的特定控制器都继承自基类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:20:24.197

创建您自己的控制器类并从中继承您的所有控制器。填写`ViewBag`您需要传递给此控制器类中所有视图的变量。

# android - 从图库中选择图像 RuntimeException

> ID：12196678
> 
> 赞同：1
> 
> 时间：2012-08-30T12:18:12.263
> 
> 标签：android, android-intent

`java.lang.RuntimeException`当我尝试选择将图像从画廊存储到 imageview 时，我得到了。我正在使用两个意图。

1.拍照并存储在imageview
2.从图库中选择

但是，当我使用此代码[MainActivity.java](http://pastie.org/4616026)时，我在存储相机图像时遇到异常，而当我使用此代码[MainActivity.java](http://pastie.org/4615999)时，则在存储画廊图像时出现错误。这些代码有什么问题。

如果它适用于相机图像，那么它不适用于画廊，如果它适用于画廊，那么它不适用于相机图像。为什么？

这是我设置相机图像的日志猫。

```
08-30 17:37:57.218: E/AndroidRuntime(8877): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=0, result=-1, data=Intent { act=inline-data (has extras) }} to activity {org.inextrix.userprofile/org.inextrix.userprofile.MainActivity}: java.lang.NullPointerException
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.app.ActivityThread.deliverResults(ActivityThread.java:2536)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.app.ActivityThread.handleSendResult(ActivityThread.java:2578)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.app.ActivityThread.access$2000(ActivityThread.java:117)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:965)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.os.Handler.dispatchMessage(Handler.java:99)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.os.Looper.loop(Looper.java:130)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.app.ActivityThread.main(ActivityThread.java:3687)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at java.lang.reflect.Method.invokeNative(Native Method)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at java.lang.reflect.Method.invoke(Method.java:507)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at dalvik.system.NativeStart.main(Native Method)
08-30 17:37:57.218: E/AndroidRuntime(8877): Caused by: java.lang.NullPointerException
08-30 17:37:57.218: E/AndroidRuntime(8877):     at org.inextrix.userprofile.MainActivity.onActivityResult(MainActivity.java:77)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.app.Activity.dispatchActivityResult(Activity.java:3908)
08-30 17:37:57.218: E/AndroidRuntime(8877):     at android.app.ActivityThread.deliverResults(ActivityThread.java:2532)
08-30 17:37:57.218: E/AndroidRuntime(8877):     ... 11 more 
```

以前有人遇到过这个问题，或者我做错了什么。如果你有任何想法然后建议我
谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:27:49.180

对于画廊的问题，我认为这[应该](https://stackoverflow.com/questions/6486716/using-intent-action-pick-for-specific-path)[对](http://developer.android.com/reference/android/content/Intent.html#ACTION_PICK)您有所帮助。

# iphone - 性能：Quartz2D 与 OpenGL ES (GLKit)

> ID：12196688
> 
> 赞同：5
> 
> 时间：2012-08-30T12:18:41.190
> 
> 标签：iphone, ios, opengl-es, glkit

我正在开发一个项目，您可以在其中使用触摸在屏幕上绘图。我曾想过为此使用 OpenGL，但是我遇到了两个示例；一个使用 OpenGL，另一个使用 Quartz2D。

[来自 Apple 的示例项目，GLPaint，使用 OpenGL](http://developer.apple.com/library/ios/#samplecode/GLPaint/Introduction/Intro.html)

[EffectiveUI 中使用 Quartz2D 的示例项目](http://blog.effectiveui.com/?p=8105)

令我印象深刻的是，Quartz 实现比 OpenGL 实现快得多。我一直认为 OpenGL 会更快，因为它级别较低，几乎可以与硬件本身对话。我知道 Quartz2D 也使用 OpenGL 进行绘图，所以我的问题是；为什么 GLPaint 示例中的绘图如此缓慢？

**您能否对 GLPaint 项目进行任何优化以提高性能？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T12:31:56.137

众所周知，在模拟器上，Quartz 2D 可以比 OpenGLES 快大约 5 倍，因为 OpenGLES 在那里没有硬件加速（不同的芯片组，ARM 与 i386）。

我强烈建议您在设备上使用 OpenGLES 进行测试并将其与 Quartz 2D 进行比较，然后您应该会体验到 OpenGLES 的 2 倍性能增强。

使用 OpenGL 时要考虑的另一件事是图像处理。OpenGL 不是为此而设计的，因此只有一个图像缓冲区，这意味着实际上一次只能在 GPU 中使用一个图像。作为补偿，尝试使用像[TexturePacker](http://www.codeandweb.com/texturepacker)这样的程序来制作纹理图集（作为 PVRTC）以加载到 OpenGL 中，您应该会获得一些巨大的性能提升。

考虑到上述情况，请记住 GLPaint 实际上并不是在其实现中画线，而是尝试在帧缓冲区上绘制一个半透明的 PNG，然后对其进行相应的着色。那是非常昂贵的，我建议将苹果与苹果进行比较（OpenGL 线条图与 Quartz 线条图）

让我们面对现实吧——OpenGL 已经过时了，因此必须照原样对待——一条老狗。你不能教这只老狗新把戏，但它知道的把戏非常擅长。

另一方面，石英是一只新狗——虽然它可以做很多花样，但它不能把一件事做得特别好——表演它们。对于中等复杂的项目来说没问题，但对于任何主要的项目，我总是推荐使用 OpenGL，或者在它之上使用一个精简的 C++ 包装器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:28:20.003

OpenGL 绝对可以达到 Quartz 无法达到的水平，但由于水平如此之低，通常需要专家才能达到该水平。Quartz 已经由专家编写，只要您能在其限制范围内生活，它应该是您绘图应用程序的完美 API。

根据我自己的经验，我经常转向使用 Quartz 自定义 UIKit，因为我很少需要为了性能而使用 OpenGL。当我构建自定义 OpenGL 实现时，通常是因为 Quartz 无法完成我不需要的复杂动画，因为它在简单动画上表现不佳。

# javascript - 如何将毫秒转换为日期字符串？

> ID：12196689
> 
> 赞同：5
> 
> 时间：2012-08-30T12:18:41.793
> 
> 标签：javascript, date, time

我从服务器得到一个毫秒字符串，如下所示：1345623261。

如何将其转换为正常的日期格式，例如 30.08.2012？

我尝试使用`setMilliseconds`，如下所示：

```
new Date().setMilliseconds(time_posted).toLocaleString(); 
```

但这不起作用。怎么做？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-08-30T12:19:43.240

假设`time_posted`是一个表示时间戳的数字，以秒为单位（根据位数判断）- 将其乘以 1000 得到以毫秒为单位的表示，并将结果传递给`Date`的构造函数：

```
(new Date(time_posted * 1000)).toLocaleString();
    // -> "Wed Aug 22 2012 11:14:21 GMT+0300 (Jerusalem Daylight Time)" 
```

为了更进一步并实现更接近您在问题中表示的内容，请使用`toLocaleDateString()`，这将产生更易于阅读的形式：

```
(new Date(time_posted * 1000)).toLocaleDateString();
    // -> "Wednesday, August 22, 2012" 
```

### 参考

*   [`Date`在 Mozilla 开发者网络上](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date)

# actionscript-3 - AS3：使用 3D 三角形进行更远的射线命中测试

> ID：12196691
> 
> 赞同：0
> 
> 时间：2012-08-30T12:18:58.033
> 
> 标签：actionscript-3, geometry, raytracing, hittest

我有一个由三个`Vector3D`实例定义的 3D 三角形。我有一条从 (x, y, 0) 射出的光线（深度值始终为 0）并走得更远（深度值变大）。我怎么知道：

1.  光线是否在某处击中三角形？
2.  如果是，他们打在哪里？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T14:54:09.330

在此处查看解决方案[http://www.softsurfer.com/Archive/algorithm_0105/algorithm_0105.htm#intersect_RayTriangle](http://www.softsurfer.com/Archive/algorithm_0105/algorithm_0105.htm#intersect_RayTriangle) ()

# asp.net-mvc - EF CodeFirst 多对多更新 (MVC4)

> ID：12196692
> 
> 赞同：0
> 
> 时间：2012-08-30T12:18:58.410
> 
> 标签：asp.net-mvc, entity-framework, asp.net-mvc-4

我按照这个 [在 MVC 创建视图上保存多对多关系数据](https://stackoverflow.com/questions/11531769/saving-many-to-many-relationship-data-on-mvc-create-view/11593957#11593957)

这适用于添加我的多对多值。

但是当我尝试使用相同的代码进行编辑时，无论我做什么，它都不会改变多对多的值。

我的场景是...

我有菜单和页面。

许多页面可以添加到许多菜单中。

我完美地将页面添加到有问题的菜单中，但是在编辑时，每次都会产生相同的值，即使我调用 Menu.Pages.Clear(); Context.SaveChanges(); 它只是在与菜单关联的页面列表上产生与编辑之前相同的值。

```
[HttpPost]
    public ActionResult Edit(MenuViewModel MenuViewModel, int PageID, int ActivePosition, int OldAP)
    {
        Service.AddOrUpdateCourses(MenuViewModel.ZMenu, MenuViewModel.Pages);
        ViewBag.Message = Service.CreateOrUpdate<ZMenu>(MenuViewModel.ZMenu, PageID, ActivePosition, OldAP);

        if (ViewBag.Message.ToString() == "true")
        {
            Service.Commit();
            return RedirectToAction("Index");
        }

        ViewBag.ActivePosition = ModuleManager.AvailableModulePositions(OldAP);
        ViewBag.PageID = Service.GetPageSelectList(MenuViewModel.ZMenu.Page.ID);
        return View(MenuViewModel);
    } 
```

PageID 是模块（菜单）所在的页面，ActivePosition 是它所在的模块位置，OldAP 是它在更新之前所在的位置。事物以“Z”为前缀，因为它是代码中的通用主题，并且不会与任何其他功能混淆。

服务是存储库。

```
public void AddOrUpdateCourses(ZMenu ZMenu, IEnumerable<AssignedPageData> AssignedPages)
    {
        ZMenu.Pages.Clear();
        foreach (var AssignedPage in AssignedPages)
        {
            if (AssignedPage.Assigned)
            {
                var newpage = Context.ZPages.Find(AssignedPage.ID);
                Context.ZPages.Attach(newpage);
                ZMenu.Pages.Add(newpage);
            }
        }
    } 
```

可能无用的信息……使用的另一种方法……

```
public string CreateOrUpdate<T>(object _Module, int PageID, int ActivePosition, int OldAP = -1)
    {
        Type type = typeof(T);
        dynamic Module = type.DynamicCast(_Module);

        // set the date, depending on if its a create or edit

        if (Module.ID == 0 || Module.ID == null)
            Module.Date = DateTime.Now;
        else
        {
            int ID = Module.ID;
            Module.Date = Context.ZModules.AsNoTracking().Single(x => x.ID == ID).Date;
        }

        Module.Type = Context.ZModuleTypes.Single(x => x.Name == type.Name.Substring(1, type.Name.Length - 1));
        Module.Page = Context.ZPages.Single(x => x.ID == PageID);
        Module.ActivePosition = ActivePosition;

        bool PositionTaken = false;//this.CheckModulePositions<T>(_Module, OldAP);
        if (PositionTaken)
        {
            return "Position " + Module.ActivePosition + " is taken, please select another";
        }
        else
        {
            try
            {
                int ID = Module.ID ?? -1;
                if (Context.ZModules.AsNoTracking().Where(x => x.ID == ID).Count() == 0)
                {
                    Context.Entry(Module).State = System.Data.EntityState.Added;
                }
                else
                {
                    Context.Entry(Module).State = System.Data.EntityState.Modified;
                }

                return "true";
            }
            catch (Exception ex)
            {
                return ex.Message;
            }
        }
    } 
```

我已经禁用了模块位置保护（每个模块位置 1 个模块）以阻止它成为一个潜在问题，但这并没有解决它，以防你想知道为什么我在上面注释掉了一小行代码。

我已经对此进行了调试，并且 ZMenu 实体在调用 Commit() 方法时具有正确的页面，但之后页面列表将恢复为编辑前的状态。创建时工作。

任何人有任何线索？

如果需要，将提供更多信息。

编辑：

这是有问题的 ViewModel ......

```
public class MenuViewModel
{
    public ZMenu ZMenu { get; set; }
    public virtual ICollection<AssignedPageData> Pages { get; set; }

    public MenuViewModel(ZMenu ZMenu)
    {
        this.ZMenu = ZMenu;
    }

    public MenuViewModel()
    {

    }
} 
```

编辑2：

由于下面的评论和一些持续的工作，现在的代码如下，在似乎是问题区域的地方，我现在遇到了一个错误，但我不知道如何解决这个错误。

> 存储更新、插入或删除语句影响了意外数量的行 (0)。自加载实体后，实体可能已被修改或删除。刷新 ObjectStateManager 条目。

```
public void AddOrUpdateCourses(ZMenu ZMenu, IEnumerable<AssignedPageData> AssignedPages)
    {
        Context.ZMenuModules.Attach(ZMenu);
        HashSet<int> CurrentPages = new HashSet<int>
        (ZMenu.Pages.Select(i => i.ID));

        foreach (var AssignedPage in AssignedPages)
        {
            ZPage newpage = Context.ZPages.Find(AssignedPage.ID);
            Context.ZPages.Attach(newpage);
            if (AssignedPage.Assigned)
            {
                if (!CurrentPages.Contains(AssignedPage.ID))
                {
                    ZMenu.Pages.Add(newpage);
                }
            }
            else
            {
                if (CurrentPages.Contains(AssignedPage.ID))
                {
                    ZMenu.Pages.Remove(newpage);
                }
            }
        }
    } 
```

调用 Context.SaveChanges() 时会发生错误。

编辑 3：

正如你所看到的，现在已经部分回答了。

谁能告诉我如何刷新 ZMenu.Pages 值而不会导致多个对象被跟踪错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T21:11:17.713

发现了问题。

调试时，我注意到有问题的 ZMenu 在列表中根本没有页面，即使它有一个，即使编辑不起作用。所以这是错误的。（在编辑存在之前）。

所以我使用传递给 HttpPost 编辑操作的模型 ID 从上下文中“找到”ZMenu 并在整个过程中使用它，而不是我之前的“ViewModel.ZMenu”。

这使得 ZMenu 拥有它应该拥有的 1 页，这必须解决程序中的任何问题并使编辑成功，我很高兴，因为这已经困扰了我多年。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T23:40:10.530

最终按照微软教程修复了它。

我建议任何查看问题顶部链接的人如果遇到问题，请遵循此链接，因为情况相同。

[http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/updating-related-data-with-the-entity-framework-in-an-asp-net-mvc-application](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/updating-related-data-with-the-entity-framework-in-an-asp-net-mvc-application)

(the bottom most screenshot is what I was trying to do)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-19T07:36:29.617

I wrote some blog posts that set out in detail how to Create / Update / Delete records in a many to many scenario using EF Code First. There's a full solution attached to the post also, so hopefully you or someone else reading this will find it useful. This is the third and final part:

[Saving many to many data in MVC4](http://codenodes.wordpress.com/2013/04/13/saving-many-to-many-data-in-mvc4-and-ef-4-1-code-first-part-3/)

# objective-c - 当使用多个线程并且仅使用 getter 时，您是否需要您的属性是 Atomic？

> ID：12196698
> 
> 赞同：0
> 
> 时间：2012-08-30T12:19:16.147
> 
> 标签：objective-c, ios, thread-safety, grand-central-dispatch, atomic

**当使用多个线程并且仅使用 getter 时，您是否需要您的属性是 Atomic？**

在对给定的**ViewController****执行 segue**之前，我设置了一个**实例变量**。

 ****该属性将从多个线程（**仅限 Getters**）访问。这是我正在使用的代码。从我的**tableView CellForRowAtIndexPath**方法执行。

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{

    Day *aDay = [[[self days]  objectAtIndex:indexPath.section] objectAtIndex: indexPath.row];

    NSDictionary * data = [OperationsManager workTimeAndAmountForDay: aDay];

    NSString *workTime  = [data objectForKey:@"Work Time"];
    NSString *amount    = [data objectForKey:@"Amount"];

    NSString *textLabel = [NSString stringWithFormat:@"%d - H: %@ $: %@", [[aDay day_] integerValue], workTime, amount];

    dispatch_async(dispatch_get_main_queue(), ^{

        [[cell textLabel] setFont: [UIFont systemFontOfSize: 24.0]];
        [[cell textLabel] setText: textLabel];

        [cell setNeedsLayout];

    });

}); 
```

如果我只在一个线程上做这些。**没有 GCD。**没有**错误**。但是如果我在使用 GCD 时这样做，我通常会得到这样的结果，

```
2012-08-30 13:05:52.027 Work Clock[17236:707] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'statement is still active'
*** First throw call stack:
(0x36a1188f 0x32e28259 0x352c93dd 0x352c8c87 0x3536c951 0x352d8b1f 0x352d0f73 0x35376dd5 0x352e2d1b 0x352e2247 0x352e1d5b 0x352e1c0b 0xc921f 0xc6fed 0x34c7f5cf 0x34c7f55f 0x34c4d495 0x34c42225 0x34c41763 0x34be5f37 0x369701fb 0x32083aa5 0x320836bd 0x32087843 0x3208757f 0x3207f4b9 0x369e5b1b 0x369e3d57 0x369e40b1 0x369674a5 0x3696736d 0x34b2e439 0x34c10cd5 0xbff55 0xbfef0)
terminate called throwing an exception2012-08-30 13:05:52.032 Work Clock[17236:1b03] *** Terminating app due to uncaught exception 'NSObjectInaccessibleException', reason: 'CoreData could not fulfill a fault for '0x2be320 <x-coredata://E4D2B2E1-B3D9-4358-810B-0FDE7A679A16/Day/p1>''
*** First throw call stack:
(0x36a1188f 0x32e28259 0x352e24f3 0x352e1d5b 0x352e1c0b 0xc95c9 0xc7395 0x37438c59 0x374447bb 0x32f59dfb 0x32f59cd0)
terminate called throwing an exception(lldb) 
```

我也有这个方法

```
 - (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section 
```

它调用了一些相同的属性。有时错误发生在那里，但我只得到汇编代码。我目前无法复制该错误。

一注，

我的呼吁，

```
[OperationsManager workTimeAndAmountForDay: aDay]; 
```

是一个**类方法**，在我的 OperationsManager 类中定义。它**没有任何类属性**。

```
+(NSDictionary *)workTimeAndAmountForDay:(Day *)aDay; 
```

因此，如果我在**VC**上**使用多个线程时仅使用 getter**，并且我的 Class 方法没有类属性。

 **为什么我不断收到这些错误？而且，它们真的很难复制！它有一些“随机”的感觉。

非常感谢任何帮助！

我可以停止使用 GCD。并且错误消失了。但是滚动时的用户体验会大大降低。

先感谢您。

努诺

此外，这些是我正在访问的核心数据对象。不知道有没有帮助？也只有一个上下文。但话又说回来。我只是在阅读对象。不保存或更改对象状态。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:38:41.473

关于`atomic`，请阅读 bbum 的帖子：

[http://www.friday.com/bbum/2008/01/13/objectivce-c-atomic-properties-threading-andor-custom-settergetter/](http://www.friday.com/bbum/2008/01/13/objectivce-c-atomic-properties-threading-andor-custom-settergetter/)

当您查看崩溃时，它是`CoreData`相关的。看 ...

```
*** Terminating app due to uncaught exception
'NSObjectInaccessibleException', reason: 'CoreData
could not fulfill a fault for '0x2be320
<x-coredata://E4D2B2E1-B3D9-4358-810B-0FDE7A679A16/Day/p1>'' 
```

...您如何`CoreData`从多个线程访问对象、上下文...？你读过这篇文章吗：

[http://developer.apple.com/library/ios/#documentation/cocoa/conceptual/coredata/Articles/cdConcurrency.html%23//apple_ref/doc/uid/TP40003385-SW1](http://developer.apple.com/library/ios/#documentation/cocoa/conceptual/coredata/Articles/cdConcurrency.html%23//apple_ref/doc/uid/TP40003385-SW1)******

# python - Python Paramiko：手动验证 SSH 主机密钥指纹

> ID：12196700
> 
> 赞同：2
> 
> 时间：2012-08-30T12:19:33.317
> 
> 标签：python, paramiko, ssh-keys, rsa-key-fingerprint

我正在使用 python Paramiko 使用 ssh 连接到托管在 vps 提供商上的远程 ubuntu 盒子。使用基于 Windows 7 的客户端机器，我可以连接如下：

```
import paramiko
import binascii
ssh = paramiko.SSHClient()
ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
ssh.connect(hostname='HOSTNAME', username='USERNAME', password='PASSWORD') 
```

这一切都很好，但现在我想验证主机服务器身份，因为我在 Windows 上，Paramiko 将无法获取 known_hosts 文件或类似文件。我尝试了以下代码：

```
#... after connection is successful
keys = ssh.get_host_keys()
key = keys['HOSTNAME']['ssh-rsa']
print binascii.hexlify(key.get_fingerprint())
# key.get_fingerprint() returns the md5 hash of 
# the public part of the key (whatever that means) 
```

这给出了类似于以下内容的输出：

```
a42273f83e62d65cc87231a2ba33eff3 
```

问题是，在我的 VPS 提供商的 cpanel 上，我列出了 RSA 和 DSA 主机密钥指纹，如下所示：

```
RSA 1b:c2:f4:8f:f2:86:fc:f2:96:ba:cc:24:41:e9:d7:86
DSA 36:b9:1f:ad:53:b5:c4:38:78:bf:cb:9d:38:fa:44:ce 
```

并且可以看出没有一个指纹与生成的指纹匹配。如何将手动生成的指纹与远程主机 cpanel 上的指纹值进行比较？我在做什么正确吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T21:22:58.890

已解决，原来控制面板中显示的RSA密钥指纹不是针对VPS主机的，而是针对带外特殊控制台的。（VPS 主机的）实际密钥位于：/etc/ssh/ssh_host_rsa_key.pub 和指纹值（它的 MD5 哈希）正是我从客户端验证码中得到的。所以一开始没有任何问题。

# macos - tar 从 Mac OS X 上的一个目录生成不同的 tarball

> ID：12196703
> 
> 赞同：0
> 
> 时间：2012-08-30T12:19:43.517
> 
> 标签：macos, backup, md5, tar

我正在使用 tar 在 Mac 服务器上备份我的 hg 存储库。我总是保留上次创建的 tarball 的副本，比较新的和最后一个的 md5 总和，如果不同，我将新的 tarball 上传到 amazon s3 上的私有存储桶中。

到目前为止一切顺利，这是一种可靠的方法，可以在 Linux 或 FreeBSD 上完美运行。

但是，在 Mac OS XI 上，发现每个 tarball 都已上传到 amazon s3，最后我发现两个 tarball 一个接一个地创建在一个完全未触及的目录上，它们的检查不同，有时甚至大小略有不同。

但是，当解压两个具有不同 md5 和的 tarball 并比较输出时，输出是相等的！或者，至少，diff 没有发现差异。而且，当然，它等于最初打包的源目录。

我阅读了很多关于排除 .DS_Store 和 ._* 文件的内容。但它不会改变事情。

对我有什么提示吗？

谢谢，沃尔夫冈

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:57:14.930

我猜想某些文件的存储访问时间或修改时间在创建 tar 存档之间发生了变化。如果您 gzip tar 文件，也可以解释大小差异。

# regex - 在 Perl oneliner 中成功匹配捕获的 URL 编码值

> ID：12196707
> 
> 赞同：1
> 
> 时间：2012-08-30T12:19:55.983
> 
> 标签：regex, perl, bash, capture

我在 bash 脚本中使用以下 Perl oneliner 来捕获 pre 标记之间的多行文本，并添加包装在不同开始和结束字符串中的标记内容的第二次迭代：

```
new_start_string="NEWSTART"
new_end_string="NEWEND"

perl -i -pe  "BEGIN{undef $/;} s/<pre>(.*?)<\/pre>/<pre>\$1<\/pre>${new_start_string}\$1${new_end_string}/smg" /path/to/file 
```

它非常适合指定的任务。我知道我正在使用正则表达式解析 HTML，这并不理想，但是此文本文件的格式是一个已知因素，非常简单，在本地控制下并由本地规范完成，因此很少会进行解析矫枉过正，我选择不通过解析来做到这一点。

使用相同的 oneliner，我如何对捕获值 $1 变量的第二次迭代进行 URL 编码？如果不可能，是否有另一种方法可以得到这个结果也相对简单易读？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:25:58.803

对于 URI 转义，您可以使用[URI::Encode](http://p3rl.org/URI%3a%3aEncode)。要在替换中使用函数，请参阅`/e`选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T14:03:19.093

因为我更喜欢在 Perl 核心中使用模块，所以我使用 e 修饰符和 CGI​​::Util 结合使用了这个 oneliner：

```
perl -MCGI -i -pe  "BEGIN{undef $/;} s/<pre>(.*?)<\/pre>/'<pre>' . \$1 . '<\/pre>' . '$new_start_string' . CGI::escape(\$1) . '$new_end_string'/esmg" /my/path 
```

# javascript - jquery scrollTO iPhone/iPad 不能向右滚动

> ID：12196711
> 
> 赞同：0
> 
> 时间：2012-08-30T12:20:00.477
> 
> 标签：javascript, iphone, scrollto

在 iPhone 或 Ipad 上查看页面时，我遇到了 scrollTO jquery 插件问题。当单击按钮时，滚动刷新页面然后滚动，看起来页面在滚动时闪烁。我想要的只是平滑地滚动到页面上的确切元素。

[您可以在此处](http://preview.forwardandforward.com/cloudit/)找到该页面的 developernet 版本。

有人可以帮我解决这个问题吗？

谢谢你和问候，Matej。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T14:29:23.670

您可以检查它是否是脚本或网页中的错误。

仅使用滚动插件创建一个简单的网站并添加一些滚动锚点。如果它在 iOS 上也闪烁，那是脚本中的错误，否则是您的网站代码导致了此错误。

我的另一个选择是选择另一个滚动插件。估计不止一个。

# c++ - 如何在 C++ 中获取动态分配的整数数组的大小

> ID：12196712
> 
> 赞同：0
> 
> 时间：2012-08-30T12:20:00.920
> 
> 标签：c++, arrays, size

如何在 C++ 中获取动态分配的整数数组的大小？

示例：（/这将始终给出 4 作为 4 * 8 = 32bits 它是 int 的大小）

```
bool tabSum(int* t, int& p, int& np){
   cout<<"\n\n";
   cout<<sizeof(*t)<<endl;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T12:21:04.667

你不能，数组在作为参数传递时会衰减为指针。并且`sizeof`是编译时运算符。

我建议你`std::vector`改用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T12:27:04.107

这不可能。

每个使用指针作为参数并期望它是数组的合理函数总是会采用第二个参数来表示元素的数量。

在 STL 中使用的另一种方法是使用一个指针作为结束边界，该指针越过数组中的最后一项。STL 迭代器通过使用 begin() 和 end() 方法来抽象这种方法。这种方法还消除了对单独的数字数据类型（例如 size_t）的需要。

此规则的一个值得注意的例外是字符串函数需要以 NULL 结尾的字符串，尽管该特定方法容易出现安全问题并且使用 std::string 类是首选方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:45:27.467

你不可以做这个。正如其他用途已经提到的那样，将长度保存在一个额外的变量中，或者编写您自己的 malloc/realloc 类，这可能是一个小帮手并为您跟踪这些。

# c# - WeekNumber 计算 .NET 中的错误？

> ID：12196714
> 
> 赞同：18
> 
> 时间：2012-08-30T12:20:04.803
> 
> 标签：c#, .net, date-arithmetic

我有一个相当奇怪的问题。我住在丹麦，2013 年的第一周（第 1 周）从 2012 年 12 月 31 日开始，持续 7 天 - 就像通常的几周一样 :)

但是根据 .NET，12 月 30 日是第 52 周，31 日是第 53 周，1 月 1 日是第 1 周。

第 53 周仅持续 1 天，第 1 周持续 6 天。显然，这一定是错误的（一周少于 7 天），而且在丹麦语境中肯定是错误的。12 月 31 日是第 1 周，而不是第 53 周。

以下代码说明了问题（CurrentCulture 为“da-DK”）

```
 static void Main(string[] args)
    {
        //Here I get Monday
        DayOfWeek firstDayOfWeek = DateTimeFormatInfo.CurrentInfo.FirstDayOfWeek;             
        //Here I get FirstFourDayWeek
        CalendarWeekRule weekRule = DateTimeFormatInfo.CurrentInfo.CalendarWeekRule; 

        DateTime date = new DateTime(2012,12,30);

        for (int i = 0; i <= 10; i++)
        {
            DateTime currentDate = date.AddDays(i);
            Console.WriteLine("Date: {0} WeekNumber: {1}",
                currentDate.ToShortDateString(),
                CultureInfo.CurrentCulture.Calendar.GetWeekOfYear(currentDate, weekRule, firstDayOfWeek));
        }
        Console.ReadLine();
    } 
```

我做错了什么还是 .NET 中的错误？如果是后者——你有正确计算周数的建议吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-30T12:40:10.070

问题是该[`GetWeekOfYear`](http://msdn.microsoft.com/en-us/library/system.globalization.calendar.getweekofyear.aspx)方法不遵守 ISO 8601，这是您所期望的，但事实并非如此。

请注意，当您使用`FirstFourDayWeek`时，[文档](http://msdn.microsoft.com/en-us/library/system.globalization.calendarweekrule.aspx)说：

> 基于 FirstFourDayWeek 值的第一周可以有 4 到 7 天。

这违反了 ISO 8601 规则，即所有周都必须有*7*天。

[还：](http://blogs.msdn.com/b/shawnste/archive/2006/01/24/iso-8601-week-of-year-format-in-microsoft-net.aspx)

![在此处输入图像描述](../Images/6cf616a5b094d85a42bf40fb5d7e6d6f.png)

* * *

您可以使用以下方法根据 ISO 8601 获取正确的周数：

```
int weekNumber(DateTime fromDate)
{
    // Get jan 1st of the year
    DateTime startOfYear = fromDate.AddDays(- fromDate.Day + 1).AddMonths(- fromDate.Month +1);
    // Get dec 31st of the year
    DateTime endOfYear = startOfYear.AddYears(1).AddDays(-1);
    // ISO 8601 weeks start with Monday 
    // The first week of a year includes the first Thursday 
    // DayOfWeek returns 0 for sunday up to 6 for saterday
    int[] iso8601Correction = {6,7,8,9,10,4,5};
    int nds = fromDate.Subtract(startOfYear).Days  + iso8601Correction[(int)startOfYear.DayOfWeek];
    int wk = nds / 7;
    switch(wk)
    {
        case 0 : 
            // Return weeknumber of dec 31st of the previous year
            return weekNumber(startOfYear.AddDays(-1));
        case 53 : 
            // If dec 31st falls before thursday it is week 01 of next year
            if (endOfYear.DayOfWeek < DayOfWeek.Thursday)
                return 1;
            else
                return wk;
        default : return wk;
    }
} 
```

[来源](http://codebetter.com/petervanooijen/2005/09/26/iso-weeknumbers-of-a-date-a-c-implementation/)（还有很多其他功能......）

* * *

因此，将循环更改为

```
for (int i = 0; i <= 10; i++)
{
    DateTime currentDate = date.AddDays(i);
    Console.WriteLine("Date: {0} WeekNumber: {1}: CorrectWeekNumber: {2}",
        currentDate.ToShortDateString(),
        CultureInfo.CurrentCulture.Calendar.GetWeekOfYear(currentDate, weekRule, firstDayOfWeek),
        weekNumber(currentDate));
} 
```

将导致：

> 日期：30.12.2012 周数：52：正确周数：52
> 日期：31.12.2012 周数：53：正确周数：1
> 日期：01.01.2013 周数：1：正确周数：1
> 日期：02.01.2013 周数：1：正确周数：1
> 日期： 03.01.2013 WeekNumber: 1: CorrectWeekNumber: 1
> Date: 04.01.2013 WeekNumber: 1: CorrectWeekNumber: 1
> Date: 05.01.2013 WeekNumber: 1: CorrectWeekNumber: 1
> Date: 06.01.2013 WeekNumber: 1: CorrectWeekNumber: 1
> Date: 07.01\. 2013 WeekNumber: 2: CorrectWeekNumber: 2
> Date: 08.01.2013 WeekNumber: 2: CorrectWeekNumber: 2
> Date: 09.01.2013 WeekNumber: 2: CorrectWeekNumber: 2

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T13:36:39.073

感谢所有的答案。我还搜索了一些，最后创建了两个 C# 方法来实现我想要的：

首先在以下评论中找到一个简洁的：http: [//blogs.msdn.com/b/shawnste/archive/2006/01/24/iso-8601-week-of-year-format-in-microsoft-网络.aspx](http://blogs.msdn.com/b/shawnste/archive/2006/01/24/iso-8601-week-of-year-format-in-microsoft-net.aspx)

Jon Senchyna 还指出：

```
 public static int WeekNumber(this DateTime date)
    {
        Calendar cal = CultureInfo.InvariantCulture.Calendar;
        DayOfWeek day = cal.GetDayOfWeek(date);
        date = date.AddDays(4 - ((int)day == 0 ? 7 : (int)day));
        return cal.GetWeekOfYear(date, CalendarWeekRule.FirstFourDayWeek, DayOfWeek.Monday);
    } 
```

还有一个在： [http ://www.tondering.dk/claus/cal/week.php#calcweekno](http://www.tondering.dk/claus/cal/week.php#calcweekno)

```
 public static int WeekNumber2(this DateTime date)
    {
        int a;
        int b;
        int c;
        int s;
        int e;
        int f;

        if (date.Month <= 2)
        {
            a = date.Year - 1;
            b = a / 4 - a / 100 + a / 400;
            c = (a - 1) / 4 - (a - 1) / 100 + (a - 1) / 400;
            s = b - c;
            e = 0;
            f = date.Day - 1 + 31 * (date.Month - 1);
        }
        else
        {
            a = date.Year;
            b = a / 4 - a / 100 + a / 400;
            c = (a - 1) / 4 - (a - 1) / 100 + (a - 1) / 400;
            s = b - c;
            e = s + 1;
            f = date.Day + ((153 * (date.Month - 3) + 2) / 5) + 58 + s;
        }

        int g = (a + b) % 7;
        int d = (f + g - e) % 7;
        int n = f + 3 - d;

        if (n < 0)
            return 53 - ((g - s) / 5);
        if (n > (364 + s))
            return 1;
        return n / 7 + 1;
    } 
```

两者都给了我想要的。

我还编写了一个小型单元测试，证明它们在日历的前 3000 年返回相同的周数。

```
 [TestMethod]
    public void WeekNumbers_CorrectFor_3000Years()
    {
        var weekNumbersMethod1 = WeekNumbers3000Years(DateManipulation.WeekNumber).ToList();
        var weekNumbersMethod2 = WeekNumbers3000Years(DateManipulation.WeekNumber2).ToList();
        CollectionAssert.AreEqual(weekNumbersMethod1, weekNumbersMethod2);
    }

    private IEnumerable<int> WeekNumbers3000Years(Func<DateTime, int> weekNumberCalculator)
    {
        var startDate = new DateTime(1,1,1);
        var endDate = new DateTime(3000, 12, 31);
        for(DateTime date = startDate; date < endDate; date = date.AddDays(1))
            yield return weekNumberCalculator(date);
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:25:01.977

1.1.2013 是星期二，从第一周开始。31.12.2012 是星期一，属于 2012 年，因此是第 53 周。自然，您不能在 12 月有第一周，因为这意味着一年中会有两个第一周，因此会导致代码出现各种令人讨厌的问题。

没有规定一周*必须*正好是 7 天。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T13:26:44.710

Calendar.GetWeekOfYear 不支持 ISO8601 规范，另请参阅[Microsoft .Net 中的 ISO 8601 Week of Year 格式](http://blogs.msdn.com/b/shawnste/archive/2006/01/24/517178.aspx)。

您可以使用[.NET 的时间段库的](http://www.codeproject.com/Articles/168662/Time-Period-Library-for-NET?msg=4352686#xx4352686xx)**Week**类：

```
// ----------------------------------------------------------------------
public void CalendarWeekSample()
{
  DateTime testDate = new DateTime( 2007, 12, 31 );

  // .NET calendar week
  TimeCalendar calendar = new TimeCalendar();
  Console.WriteLine( "Calendar Week of {0}: {1}", testDate.ToShortDateString(),
                     new Week( testDate, calendar ).WeekOfYear );
  // > Calendar Week of 31.12.2007: 53

  // ISO 8601 calendar week
  TimeCalendar calendarIso8601 = new TimeCalendar(
    new TimeCalendarConfig { YearWeekType = YearWeekType.Iso8601 } );
  Console.WriteLine( "ISO 8601 Week of {0}: {1}", testDate.ToShortDateString(),
                     new Week( testDate, calendarIso8601 ).WeekOfYear );
  // > ISO 8601 Week of 31.12.2007: 1
} // CalendarWeekSample 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-03-22T13:08:35.607

您可以使用以下代码来计算给定日期的周数：

```
 public static int GetWeekNumber(DateTime date)
    {
        var firstDayOfYear = new DateTime(date.Year, 1, 1);
        var lastDayOfYear = new DateTime(date.Year, 12, 31);
        var lastDayOfPreviousYear = new DateTime(date.Year - 1, 12, 31);

        var weekDayOfFirstDayOfYear = (int)firstDayOfYear.DayOfWeek + 1;
        var weekDayOfLastDayOfYear = (int)lastDayOfYear.DayOfWeek + 1;
        var days = (date - firstDayOfYear).Days;

        if (days <= 7 - weekDayOfFirstDayOfYear)  // My day fall in 1'st week of the year
        {
            if (weekDayOfFirstDayOfYear > 5)
                return GetWeekNumber(lastDayOfPreviousYear);
            return 1;
        }
        else // My day fall not on 1'st week of the year
        {
            // Number of weeks that pass from 1'st Sunday of 2'nd week of the year
            var weekNo = ((days - (8 - weekDayOfFirstDayOfYear)) / 7) + 1;

            if (weekDayOfFirstDayOfYear < 6)  // if Year start at Sun...Thursday the first week is added.
                weekNo++;

            // Check if Last week of the year belong to next year
            if (weekDayOfLastDayOfYear < 5) // if the year end in Sunday to Wednesday then it might belong to the 1'st week of the next year
            {
                if ((lastDayOfYear - date).Days < weekDayOfLastDayOfYear)
                {
                    return 1;
                }
            }

            return weekNo;
        }
    } 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-08-30T12:47:43.643

我对丹麦日历一无所知，但 .NET 的规则很明确，您的代码与这些规则完全对应。`CalendarWeekRule`枚举的MSDN 文档在[这里](http://msdn.microsoft.com/en-us/library/system.globalization.calendarweekrule.aspx)，供参考。总之：

.NET 将始终将 12 月 31 日视为“一年中的最后一周”。

你说你得到了`FirstFourDayWeek`一周规则的价值。由于 2013 年 1 月 1 日是星期二，因此该周的剩余时间为六天（下周从下周一开始）。因此，2013 年 1 月 1 日至 6 日被视为“第 1 周”。如果您有`FirstFullWeek`该规则，则第 1 周将从 7 号星期一开始。

至于“显然这一定是错的：”显然它是正确的，根据它自己的规范。从来没有要求任何编程语言或 API 符合特定的期望；每个项目都定义了自己的要求。.NET 遵循我们可能认为出乎意料的规则，但它们*已*记录在案，并且与其文档一致。

这是否*有用*是另一个问题......

# google-maps - 谷歌地图组件看起来不正确

> ID：12196715
> 
> 赞同：0
> 
> 时间：2012-08-30T12:20:06.660
> 
> 标签：google-maps, cordova

我已经在我的手机 PhoneGap 应用程序中加载了 Google Maps Engine 以显示地图。

但是组件，例如：左滑块，气球，气球阴影看起来不正确。[您可以在带有地图](http://phonegap.qulix.com/locator.html?engine=google)的网页网页上看到它

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:29:19.287

这是一个CSS问题。删除（或覆盖）适用于地图的规则 min-width 和 max-width （以及其他）；他们在 style.css

如果您使用 Chrome 中的开发人员工具，您可以查看（并动态编辑）适用于每个元素的 css 规则。

# node.js - Node.Js + Expressjs 中的继承

> ID：12196723
> 
> 赞同：2
> 
> 时间：2012-08-30T12:20:24.613
> 
> 标签：node.js, inheritance, express

我正在尝试在 Node.js 和 Express.js 中实现类似的功能，但无法找到很好的活动示例。帮助表示赞赏。

```
base.js
--------
module.exports = {
  baseFunction: function(){
    .....
  }
}

child.js
--------
module.exports = {
  require('base'),

  ***** Some Magical Code ****** 

  childFunction: function(){
    ..... 
  }
}

CallProgram.js
--------------
var child = require('child');
child.baseFunction(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:29:31.500

这个怎么样？

```
function extend(a, b) {
  var result = Object.create(a);
  for (var prop in b) {
    if (b.hasOwnProperty(prop)) {
      result[prop] = b[prop];
    }
  }
  return result;
}

module.exports = extend(require('base'), {
  ***** Some Magical Code ****** 

  childFunction: function(){
    ..... 
  }
}); 
```

扩展函数将创建一个新对象，`a`并将其作为原型并将其所有属性复制`b`到它上面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-16T20:55:40.303

您可以检查[ZinkyJS](https://zinkyjs.github.io/)，它提供了一种非常简洁的方式来进行路由继承

# r - 通常禁用矩阵的降维？

> ID：12196724
> 
> 赞同：28
> 
> 时间：2012-08-30T12:20:29.463
> 
> 标签：r, matrix

众所周知，如果列维或行维为 1，R 会尝试将矩阵简化为向量。使用该`drop=F`命令可以防止这种自动删除维数。

但是，我目前正在编写一个大型 R 包，并且需要在我的代码中禁用数百次降维，因此我必须手动找到这些位置并添加`drop=F` 数百次。

因此，我想知道是否有任何选项或可能性**通常**禁用 R 中矩阵的降维？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-30T13:50:28.597

您可以通过重新定义`[`函数来做到这一点：

```
x <- matrix(1:4,2)

`[` <- function(...) base::`[`(...,drop=FALSE)
x[,1]
     [,1]
[1,]    1
[2,]    2 
```

但是，当您现在调用它时，您无法覆盖该`drop`参数，因此您可能希望谨慎使用它并在完成后删除它。

# css - Safari 4 的背景大小解决方法

> ID：12196726
> 
> 赞同：0
> 
> 时间：2012-08-30T12:20:48.230
> 
> 标签：css, background, safari, size, compatibility

background-size 与 Safari 4 不兼容。（可以在这里看到：[http](http://www.w3schools.com/cssref/playit.asp?filename=playcss_background-size&preval=cover) ://www.w3schools.com/cssref/playit.asp?filename=playcss_background-size&preval=cover ）我不知道怎么做这个，所以我想知道是否有人知道使它与这个浏览器一起工作的解决方案。我正在尝试使用带有背景大小的图像：封面。Css 或 jQuery 会很棒。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T16:38:45.780

我在 Safari 上遇到过这个问题，在 Windows 和 Mac 上，我正在使用

```
background-size: 100% 
```

然后我尝试了供应商前缀，这似乎解决了 Safari 上的问题。但是当我在 Firefox 上的 Mac 上测试时，同样的问题出现了。即使在 IE9 上 :(

但使用[布赖恩的](https://stackoverflow.com/questions/4717400/css3-background-size-not-working-but-visible-in-firebug-firefox-3-6/4786843#4786843)建议：

```
background-size: 100% !important; 
```

解决了这个问题。

# css - 如果我删除一个子 div，则父 div 中的另一个子 div 应该更改背景颜色

> ID：12196727
> 
> 赞同：0
> 
> 时间：2012-08-30T12:20:57.267
> 
> 标签：css

我有一个父母`div.somename`。在那`div.somename`，我有两个孩子`div.sub`，每个都有`background-color:green`。

我的问题是，如果我删除其中一个`div.sub`，另一个`div.sub`应该将背景颜色更改为蓝色。

CSS可以吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:55:39.777

您可以使用 CSS 使用[`only-child`](http://www.w3.org/TR/css3-selectors/#only-child-pseudo)伪类来执行此操作：

```
div.somename > div.sub {
  background-color: green;
}

div.somename > div.sub:only-child {
  background-color: blue;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:40:48.663

看看这个解决方案：[jsFiddle](http://jsfiddle.net/fant/SVw7r/)

# java - 如何从linux访问nsf文件并使用java在窗口中使用数据库

> ID：12196730
> 
> 赞同：0
> 
> 时间：2012-08-30T12:21:02.020
> 
> 标签：java, file-io, lotus-notes

```
Updated Question 
```

您好朋友，我正在更新问题，我正在使用 jcifs api 从 SUSE 服务器访问 .nsf 文件，它已成功访问，但是当我尝试将此路径传递给 getDatabase() 方法时，它无法打开数据库我不要有什么问题，因为这个目录和文件可以作为共享访问

```
SmbFile sFile = new SmbFile(path,auth); 
```

在这里我检查文件是否可用，现在给出静态路径

```
if(sFile.isFile()){
    Database database = s.getDatabase ("", sFile.getPath());
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T22:12:06.537

如果客户正在运行 Lotus Domino 服务器，则不应尝试将数据库作为文件对象来访问。你应该使用这样的东西：

```
Database db = s.getDatbase("server name/organization name", "path/test.nsf" 
```

您应该从 Domino 服务器的管理员那里获得“服务器名称/组织名称”字符串，并且路径应该相对于 Domino 服务器的根数据目录。或者，您可以使用以下内容：

```
DbDirectory dbDir = s.getDbDirectory("server name/organization name") 
```

然后您可以使用 DbDirectory 类的方法来定位您需要的特定数据库。

**编辑添加更多信息：**

知道 Lotus Notes API 有自己的抽象文件名格式，实施了 20 多年，这对您也很有用。这种格式如下所示：

```
"CN=Domino server name/O=organization name!!folder path/test.nsf" 
```

如果使用这种格式，那么即使数据库托管在 Domino 服务器上，也可以将 getDatabase() 的第一个参数留空。Notes API 将处理特定于操作系统的格式问题，但是 API 无法为您处理一件事：路径和文件组件在 Windows 上不区分大小写，但在 Linux 上区分大小写. 考虑一下……这甚至可能与您的问题有关。如果真正的文件名是 'Test.nsf' 而不是 'test.nsf' 你会遇到问题 - 但我很确定那将是 NotesException 而不是 FileNotFoundException 所以它可能不相关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:33:12.260

为了访问其他通勤者上的文件，您必须对该文件具有正确的权限，因此共享文件夹似乎是个好主意。当然，如果您可以选择在远程机器上定义某种服务器并将文件保存在他的根目录下，您将能够在没有特殊权限的情况下访问该文件（例如：在远程机器上定义 SFTP 服务器，将文件保存在他的根，从用户计算机连接并获取文件）

# iphone - 如何在 MPMoviePlayerController 中进行音量控制

> ID：12196733
> 
> 赞同：1
> 
> 时间：2012-08-30T12:21:03.737
> 
> 标签：iphone, ipad

我正在使用 MPMoviePlayerController 播放电影，使用持续时间值来控制播放器中的视频持续时间，但我确实知道在使用滑块时如何控制音量，我的音量滑块代码在这里，并且我在我的程序中使用自定义图像来滑块，

```
{
    UISlider *volumeslider=[[UISlider alloc]initWithFrame:CGRectMake(405, 9, 50, 3)];
        UIImage *volumesliderImage = [[UIImage imageNamed: @"video_bar_bg.png"] stretchableImageWithLeftCapWidth: 9 topCapHeight: 0];
        [volumeslider setMinimumTrackImage: volumesliderImage  forState: UIControlStateNormal];
        [volumeslider setMaximumTrackImage: volumesliderImage  forState: UIControlStateNormal];
        [volumeslider setThumbImage:[UIImage imageNamed:@"sound_bar_button.png"] forState:UIControlStateNormal];
        [tempview addSubview:volumeslider];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-18T08:57:28.783

我解决了我的问题使用此代码

```
-(void)sliderAction
{
 [[MPMusicPlayerController applicationMusicPlayer] setVolume:sliderValue];
//it only work in device not work in simulator

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:26:36.190

我认为参考这个答案可能有助于您制作音量的 UISlider 以增加或减少级别[iphone - MPMoviePlayerController - 如何以编程方式降低视频的音量](https://stackoverflow.com/questions/3870465/iphone-mpmovieplayercontroller-how-can-i-decrease-volume-of-the-video-progra)并尝试实现此方法

```
MPVolumeView *volumeView = [[MPVolumeView alloc] initWithFrame:<Give your frame>];
[volumeSlider addSubview:volumeView];
[volumeView sizeToFit]; 
```

它在我的应用程序中工作

# android - 如何在 android 中计算状态栏通知消息以及当我的活动停止时如何删除状态消息？

> ID：12196741
> 
> 赞同：1
> 
> 时间：2012-08-30T12:21:31.557
> 
> 标签：android

我想知道如何计算 android 中的状态栏通知消息以及当我的活动停止时如何删除状态消息？任何代码片段都会被应用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:47:06.243

`onDestory`移除Activity的功能通知。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:57:18.880

您需要在关闭应用程序时清除它。这意味着，打个`onDestroy`电话。

如果您的通知类似于：

```
private static final int MY_NOTIFICATION_ID= 1234;
String ns = Context.NOTIFICATION_SERVICE;
NotificationManager mNotificationManager;
mNotificationManager = (NotificationManager) getSystemService(ns);
mNotificationManager.notify(MY_NOTIFICATION_ID, notification); 
```

然后您需要执行以下操作来关闭它：

```
protected void onDestroy() {
   super.onDestroy();
   mNotificationManager.cancel(MY_NOTIFICATION_ID);
}; 
```

我从以下帖子中获取了这些信息：

[从状态栏中删除通知图标](https://stackoverflow.com/questions/2839727/remove-the-notification-icon-from-the-status-bar)

[http://developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/app/Activity.html)

# orientdb - OrientDB 分组

> ID：12196743
> 
> 赞同：2
> 
> 时间：2012-08-30T12:21:34.273
> 
> 标签：orientdb

我正在开发一个流量计数器，我想获得 IP 和重复计数，但是如何？

就像是 ： `select ip, count(ip) from Redirect`

返回 ： `null total ip count`

重定向是一个具有 2 个字段的 bean：ip、日期

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T15:07:08.843

OrientDB 还不支持 GROUP BY（看[这个问题](http://code.google.com/p/orient/issues/detail?id=577&q=group%20by)）。所以你可以这样做：

1.  对 ip 字段使用索引，然后查找索引以检索“分组”的所有条目
2.  通过创建带有“ip”字段的 RedirectGroup 和 LINKSET 来将它们分组以重定向记录。这样只需查询 RedirectGroup 并计算链接数（它是一个集合，.size() 也是如此）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:28:14.953

尝试，

```
select ip, count(ip) 
from Redirect
GROUP BY IP 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-19T08:02:37.637

根据 OrientDB SQL 文档，`GROUP BY`现在支持。它的行为应该像`GROUP BY`SQL 中一样。我正在使用版本`orientdb-enterprise-2.0.3`，它确实可以正常工作。

# plone - PloneFormGen 标头注入示例

> ID：12196745
> 
> 赞同：3
> 
> 时间：2012-08-30T12:21:44.203
> 
> 标签：plone, zope, ploneformgen

PloneFormGen 允许使用所谓的*Header Injection*将自定义数据注入到网页标题中。描述是：

> 此覆盖字段允许您将内容插入 xhtml 头部。典型用途是添加自定义 CSS 或 JavaScript。指定一个返回字符串的 TALES 表达式。该字符串将被插入而没有解释。请注意：此表达式的评估错误将导致表单显示错误。

我想知道这种表达式的正确语法是什么。我没有成功通过以下示例

```
<style type="text/css"> * { color: red !important; } </style> 
```

既不与

```
<style tal:attributes="type:text/css" tal:content="* { color: red !important; }"> 
```

既不与

```
<style tal:attributes="type:text/css" tal:content="string:* { color: red !important; }"> 
```

既不与

```
<style tal:attributes="type string:text/css" tal:content="string: * { color: red !important; }" /> 
```

错误消息只告诉我它*有错误*..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T13:20:48.537

该字段被解释为 TALES 表达式；该表达式的结果将被插入。你的例子都不是 TALES 表达式；最后 3 个都*使用*TALES 表达式作为更大的 TAL 模板语句的一部分。

在您的情况下，您只需要一个`string:`返回静态结果的表达式：

```
string:<style type="text/css"> * { color: red !important; } </style> 
```

# ruby-on-rails - Rails 客户端验证

> ID：12196750
> 
> 赞同：2
> 
> 时间：2012-08-30T12:21:58.853
> 
> 标签：ruby-on-rails, validation

在我的网站中，我想使用不同的验证（例如 - 在我的注册页面中 - 我使用客户端验证，但在我的帖子页面中 - 我使用标准验证 =>

```
 <% if post.errors.any? %>
    <div id="errorExplanation">
        <h2><%= pluralize(post.errors.count, "error") %> prohibited this post from being saved:</h2>
        <ul>
          <% post.errors.full_messages.each do |msg| %>
               <li><%= msg %></li>
          <% end %>
        </ul>
    </div>
  <% end %> 
```

但是当我提交我的空表单时 - 我看到了标准验证和客户端验证![在此处输入图像描述](../Images/ed950c138eb5fbc4cbcaa192764e577f.png)

它本身添加了“不能为空白”（在我的图片中 - 在带有标题和文本的字段下）

我认为这使得 `config/initializers/client_side_validation.rb`：

```
ActionView::Base.field_error_proc = Proc.new do |html_tag, instance|
  unless html_tag =~ /^<label/
    %{<div class="field_with_errors">#{html_tag}<label for="#{instance.send(:tag_id)}" class="message">#{instance.error_message.first}</label></div>}.html_safe
  else
    %{<div class="field_with_errors">#{html_tag}</div>}.html_safe
  end
end 
```

我怎样才能把它关掉，只有这个表格？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:55:43.973

我认为你的客户端验证脚本不起作用，因为表单正在提交。如果您不希望在客户端验证表单，请在您的表单中将 ':validate' 参数设置为 false。

```
<%= book.fields_for :pages, :validate => false do |page| -%> 
```

# javascript - 尝试在某个类上执行每个功能

> ID：12196752
> 
> 赞同：3
> 
> 时间：2012-08-30T12:22:05.810
> 
> 标签：javascript, jquery, css

嘿社区我正在做这个框架中的图片居中所以图像的中心在框架的中心，尽管它的大小。（框架是固定的）

```
 $('.item-box').each(function () {
    var fwidth = $('.gmask').width();
    var iwidth = $('.gmask img').width();
    var fheight = $('.gmask').height();
    var iheight = $('.gmask img').height();

    $('.gmask img').css('margin-left', Math.floor((fwidth - iwidth) / 2) - 3);
    $('.gmask img').css('margin-top', Math.floor((fheight - iheight) / 2) - 3);
}); 
```

我想为我的每个'.item-box'做一个循环，谁能告诉我我做错了什么

*编辑

顺便说一句，我在做 jquery 模板

```
<script id="resultTemplate" type="text/x-jquery-tmpl "> 
    {{for Product}}

    <div class="item-box" id="{{if #index < 5 }}itemboxTeaser{{else}}itemboxRest{{/if}}{{:#index+1}}">
        <div class="visual-gallery">
            <div class="gmask">
                <ul class="replaceClass">
                    <a href="/lejemaal/{{:Urlname}}/#/Lejemaal">
                        <img src="{{:PhysicalPathToFrontPhotoUseWebFront300Px}}" alt="">
                    </a>
                </ul>
            </div>
        </div>
     </div>
     {{/for}}
</script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:24:55.090

我想`.gmask`它的亲戚`img`是`$(this)`（你的`.item-box`）的孩子
**试试：**

```
$('.item-box').each(function () {
        var $gmask = $(this).find('.gmask');
        var $gmaskImg = $gmask.find('img');

        var fwidth = $gmask.width();
        var iwidth = $gmaskImg.width();
        var fheight = $gmask.height();
        var iheight = $gmaskImg.height();

        $gmaskImg.css('margin-left', Math.floor((fwidth - iwidth) / 2) - 3);
        $gmaskImg.css('margin-top', Math.floor((fheight - iheight) / 2) - 3);
}); 
```

**阅读 OP 评论后编辑**

```
$(window).load(function(){
    $('.item-box').find('.gmask').each(function () {
            var $gmask = $(this);
            var $gmaskImg = $gmask.find('img');

            var fwidth = $gmask.width();
            var iwidth = $gmaskImg.width();
            var fheight = $gmask.height();
            var iheight = $gmaskImg.height();

            $gmaskImg.css('margin-left', Math.floor((fwidth - iwidth) / 2) - 3);
            $gmaskImg.css('margin-top', Math.floor((fheight - iheight) / 2) - 3);
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:25:05.853

我猜你想在每个 .item-box 中居中图像，所以你需要参考 'this' ：

```
 $('.item-box').each(function () {
    var fwidth = $(this).find('.gmask').width();
    var iwidth = $(this).find('.gmask img').width();
    var fheight = $(this).find('.gmask').height();
    var iheight = $(this).find('.gmask img').height();

    $(this).find('.gmask img').css('margin-left', Math.floor((fwidth - iwidth) / 2) - 3);
    $(this).find('.gmask img').css('margin-top', Math.floor((fheight - iheight) / 2) - 3);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:26:15.307

无论当前的 .item-box 是什么，这些行都占用了页面的第一个元素：

```
var fwidth = $('.gmask').width();
var iwidth = $('.gmask img').width();
var fheight = $('.gmask').height();
var iheight = $('.gmask img').height(); 
```

你需要做`$(this).find('.element');`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:35:03.710

既然 img 是你所追求的，为什么不对`.each`这些元素进行循环呢？

```
$('.item-box .gmask img').each(function ()
{
    var parent, fwidth,fheight,iwidth,iheight;
    parent = $(this);
    while(!parent.attr('class').match(/\bgmask\b/))
    {//get the .gmask parent of current img
        parent = parent.parent();
    }
    iwidth = $(this).width();
    iheight = $(this).height;
    fwidth = parent.width();
    fheight = parent.height();
    $(this).css('margin-left', Math.floor((fwidth - iwidth) / 2) - 3);
    $(this).css('margin-top', Math.floor((fheight - iheight) / 2) - 3);
}); 
```

这减少了使用的选择器的数量，从而提高了整体性能。恕我直言，它也更容易阅读和维护。

# linux - 如何使用命令别名 ENTER 键

> ID：12196754
> 
> 赞同：4
> 
> 时间：2012-08-30T12:22:12.417
> 
> 标签：linux, bash, shell

我们可以用命令别名 Enter 键，这样当我在提示符下按 Enter 时，应该执行命令。例如，当我在提示符下按 enter 时，应该执行 ls 命令。

```
abc@def$ 
<output of ls command>

abc@def$ 
```

这样我就可以在 .bashrc 文件中添加别名。

谢谢..！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T12:26:09.103

您可以设置提示命令。

```
export PROMPT_COMMAND="ls" 
```

# sdk - Visual Studio 2012 命令行内置

> ID：12196755
> 
> 赞同：4
> 
> 时间：2012-08-30T12:22:22.763
> 
> 标签：sdk, visual-studio-2012, command-prompt, .net-4.5, setenv

我们使用 msbuild 在服务器上构建解决方案，并使用 sdk 7.1 提供的命令提示符为 .net 4 构建 32 位和 64 位构建。**sdk**中提供的 SETENV 非常适合这一点。

现在我们升级到 .NET 4.5 和 VS 2012 由于新的 Windows SDK 8 没有命令提示符，我认为我们必须使用 Visual Studio 2012 提供的命令提示符（除非有更好的方法）。现在的问题是，VS 11 为 32、64 位和 ARM 提供了 3 个命令提示符。奇怪的是，还有一个开发人员命令提示符出于某种原因正在使用 SDK 7.0。所以我的问题是..

1.  这是使用 sdk 8 为 .net 4.5 构建的完美命​​令提示符。

2.  我是否必须使用不同的命令提示符来定位不同的平台，或者是否有更好的方法来更改目标平台而不打开新的命令提示符。

3.  如何选择正确的 SDK，因为 SDK 配置工具显示了 sdk 8.0 和 8.0A 的选项，但那里只有 VS 2005 和 VS 2008 选项可供选择，我想我想在那里选择 VS 2012。

4.  setenv 等效于 VS 2012 命令提示符，用于设置配置和平台。

5.  基本上如何选择正确的 SDK、正确的环境和正确的命令提示符以针对 .NET 4.5 的不同平台。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T04:00:12.923

我发现了这个： http: [//msdn.microsoft.com/en-us/library/x4d2c09s (v=vs.110).aspx](http://msdn.microsoft.com/en-us/library/x4d2c09s(v=vs.110).aspx)

来自**VS2012 的开发人员命令提示符**

> 通过运行 Vcvarsall.bat 批处理文件来配置启用编译器工具集的路径和环境变量，可以在命令行上使用任何编译器。默认情况下，此文件的完整路径是 32 位 Windows 操作系统上的 C:\Program Files\Microsoft Visual Studio 11.0\VC\vcvarsall.bat 或 C:\Program Files (x86)\Microsoft Visual Studio 11.0\ VC\vcvarsall.bat 在 64 位系统上。

只需从默认路由中**“cd VC”并运行：**

> vcvarsall x86_amd64

针对 x64 架构，我刚刚在 Windows 8 上使用这种方法为 x64 架构构建了 LuaJIT-2.0.0，尽管我仍然不知道要为发布设置什么命令。我只希望这是默认值。

> 设置环境/释放/x64

希望这可以帮助。

# r - 使用 ggplot2 将显着性级别添加到矩阵相关热图

> ID：12196756
> 
> 赞同：29
> 
> 时间：2012-08-30T12:22:25.600
> 
> 标签：r, ggplot2, correlation, heatmap, significance

我想知道如何在矩阵相关热图中添加另一层重要且需要的复杂性，例如除了 R2 值（-1 到 1）之外的显着性水平星的方式之后的 p 值？
在这个问题中，不打算将显着性水平星或 p 值作为文本放在矩阵的每个正方形上，而是在矩阵的每个正方形上以显着性水平的开箱即用图形表示形式显示这一点。我认为只有那些享受创新思维祝福的人才能赢得掌声来解开这种解决方案，以便有最好的方式来表示我们的“半真半真矩阵相关热图”中增加的复杂性组件。我用谷歌搜索了很多，但从未见过合适的，或者我会说一种“眼睛友好”的方式来表示显着性水平加上反映 R 系数的标准色调。
可重现的数据集在这里找到：http:
[//learnr.wordpress.com/2010/01/26/ggplot2-quick-heatmap-plotting/](http://learnr.wordpress.com/2010/01/26/ggplot2-quick-heatmap-plotting/)
R代码请在下面找到：

```
library(ggplot2)
library(plyr) # might be not needed here anyway it is a must-have package I think in R 
library(reshape2) # to "melt" your dataset
library (scales) # it has a "rescale" function which is needed in heatmaps 
library(RColorBrewer) # for convenience of heatmap colors, it reflects your mood sometimes
nba <- read.csv("http://datasets.flowingdata.com/ppg2008.csv")
nba <- as.data.frame(cor(nba[2:ncol(nba)])) # convert the matrix correlations to a dataframe 
nba.m <- data.frame(row=rownames(nba),nba) # create a column called "row"
rownames(nba) <- NULL #get rid of row names
nba <- melt(nba)
nba.m$value<-cut(nba.m$value,breaks=c(-1,-0.75,-0.5,-0.25,0,0.25,0.5,0.75,1),include.lowest=TRUE,label=c("(-0.75,-1)","(-0.5,-0.75)","(-0.25,-0.5)","(0,-0.25)","(0,0.25)","(0.25,0.5)","(0.5,0.75)","(0.75,1)")) # this can be customized to put the correlations in categories using the "cut" function with appropriate labels to show them in the legend, this column now would be discrete and not continuous
nba.m$row <- factor(nba.m$row, levels=rev(unique(as.character(nba.m$variable)))) # reorder the "row" column which would be used as the x axis in the plot after converting it to a factor and ordered now
#now plotting
ggplot(nba.m, aes(row, variable)) +
geom_tile(aes(fill=value),colour="black") +
scale_fill_brewer(palette = "RdYlGn",name="Correlation")  # here comes the RColorBrewer package, now if you ask me why did you choose this palette colour I would say look at your battery charge indicator of your mobile for example your shaver, won't be red when gets low? and back to green when charged? This was the inspiration to choose this colour set. 
```

矩阵相关热图应如下所示：
![在此处输入图像描述](../Images/4d03af85bf5ef74b77666254530d46d6.png)

增强解决方案的提示和想法：
- 此代码可能有助于了解从本网站获取的显着性水平星：http:
[//ohiodata.blogspot.de/2012/06/correlation-tables-in-r- flagged-with.html](http://ohiodata.blogspot.de/2012/06/correlation-tables-in-r-flagged-with.html)
R 代码：

```
mystars <- ifelse(p < .001, "***", ifelse(p < .01, "** ", ifelse(p < .05, "* ", " "))) # so 4 categories 
```

- 重要性级别可以像 alpha 美学一样作为颜色强度添加到每个正方形，但我认为这不容易解释和捕捉
- 当然，另一个想法是有 4 个不同大小的正方形对应于星星如果星星最高，则将最小的给非重要的，并增加到一个全尺寸的正方形
- 另一个想法是在这些重要的正方形内包含一个圆圈，圆圈的线的粗细对应于重要性级别（剩下的 3 个类别）所有其中一种颜色
- 与上述相同，但固定线条粗细，同时为剩余的 3 个重要级别提供 3 种颜色
- 也许你会想出更好的主意，谁知道？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-09-01T08:31:48.777

这只是对最终解决方案的增强尝试，我在这里绘制了星星作为解决方案的指标，但正如我所说的，目的是找到一个比星星更能说明问题的图形解决方案。我只是使用 geom_point 和 alpha 来表示显着性水平，但是 NA（也包括非显着值）会像三颗星的显着性水平一样出现问题，如何解决这个问题？我认为在使用多种颜色时使用一种颜色可能对眼睛更友好，并且避免用眼睛解决的许多细节给情节带来负担。提前致谢。
这是我第一次尝试的情节：
![在此处输入图像描述](../Images/0a58fa5c43c9876baa68682230a30a8b.png)

或者可能会更好？
![在此处输入图像描述](../Images/fc958073fb047be7ba220f22b6c7993f.png)

我认为到目前为止最好的是下面的，直到你想出更好的东西！ ![在此处输入图像描述](../Images/897b07bf00105ef8d3ab179a09259e01.png)

根据要求，以下代码用于最后一个热图：

```
# Function to get the probability into a whole matrix not half, here is Spearman you can change it to Kendall or Pearson
cor.prob.all <- function (X, dfr = nrow(X) - 2) {
R <- cor(X, use="pairwise.complete.obs",method="spearman")
r2 <- R^2
Fstat <- r2 * dfr/(1 - r2)
R<- 1 - pf(Fstat, 1, dfr)
R[row(R) == col(R)] <- NA
R
}
# Change matrices to dataframes
nbar<- as.data.frame(cor(nba[2:ncol(nba)]),method="spearman") # to a dataframe for r^2
nbap<- as.data.frame(cor.prob.all(nba[2:ncol(nba)])) # to a dataframe for p values
# Reset rownames
nbar <- data.frame(row=rownames(nbar),nbar) # create a column called "row" 
rownames(nbar) <- NULL
nbap <- data.frame(row=rownames(nbap),nbap) # create a column called "row" 
rownames(nbap) <- NULL
# Melt
nbar.m <- melt(nbar)
nbap.m <- melt(nbap)
# Classify (you can classify differently for nbar and for nbap also)         
nbar.m$value2<-cut(nbar.m$value,breaks=c(-1,-0.75,-0.5,-0.25,0,0.25,0.5,0.75,1),include.lowest=TRUE, label=c("(-0.75,-1)","(-0.5,-0.75)","(-0.25,-0.5)","(0,-0.25)","(0,0.25)","(0.25,0.5)","(0.5,0.75)","(0.75,1)")) # the label for the legend
nbap.m$value2<-cut(nbap.m$value,breaks=c(-Inf, 0.001, 0.01, 0.05),label=c("***", "** ", "*  ")) 
nbar.m<-cbind.data.frame(nbar.m,nbap.m$value,nbap.m$value2) # adding the p value and its cut to the first dataset of R coefficients
names(nbar.m)[5]<-paste("valuep") # change the column names of the dataframe 
names(nbar.m)[6]<-paste("signif.")
nbar.m$row <- factor(nbar.m$row, levels=rev(unique(as.character(nbar.m$variable)))) # reorder the variable factor
# Plotting the matrix correlation heatmap
# Set options for a blank panel
po.nopanel <-list(opts(panel.background=theme_blank(),panel.grid.minor=theme_blank(),panel.grid.major=theme_blank()))
pa<-ggplot(nbar.m, aes(row, variable)) +
geom_tile(aes(fill=value2),colour="white") +
scale_fill_brewer(palette = "RdYlGn",name="Correlation")+ # RColorBrewer package
opts(axis.text.x=theme_text(angle=-90))+
po.nopanel
pa # check the first plot
# Adding the significance level stars using geom_text 
pp<- pa +
geom_text(aes(label=signif.),size=2,na.rm=TRUE) # you can play with the size
# Workaround for the alpha aesthetics if it is good to represent significance level, the same workaround can be applied for size aesthetics in ggplot2 as well. Applying the alpha aesthetics to show significance is a little bit problematic, because we want the alpha to be low while the p value is high, and vice verse which can't be done without a workaround
nbar.m$signif.<-rescale(as.numeric(nbar.m$signif.),to=c(0.1,0.9)) # I tried to use to=c(0.1,0.9) argument as you might expect, but to avoid problems with the next step of reciprocal values when dividing over one, this is needed for the alpha aesthetics as a workaround
nbar.m$signif.<-as.factor(0.09/nbar.m$signif.) # the alpha now behaves as wanted  except for the NAs values stil show as if with three stars level, how to fix that?
# Adding the alpha aesthetics in geom_point in a shape of squares (you can improve here)
pp<- pa +
geom_point(data=nbar.m,aes(alpha=signif.),shape=22,size=5,colour="darkgreen",na.rm=TRUE,legend=FALSE) # you can remove this step, the result of this step is seen in one of the layers in the above green heatmap, the shape used is 22 which is again a square but the size you can play with it accordingly 
```

我希望这可以成为实现目标的一步！请注意：
- 一些人建议对 R^2 进行不同的分类或切割，好吧，我们当然可以这样做，但我们仍然希望以图形方式向观众展示显着性水平，而不是用星级水平来打扰眼睛。我们能否在原则上实现这一目标？
- 一些人建议以不同的方式削减 p 值，好的，这可以是在显示 3 个显着性水平失败后的选择，而不会打扰眼睛。那么在没有级别的情况下显示显着/非显着
可能会更好 - 对于 ggplot2 中的上述解决方法，您可能会想出一个更好的主意，以获得 alpha 和尺寸美学，希望很快收到您的来信！
- 这个问题还没有回答，等待一个创新的解决方案！- 有趣的是，“corrplot”包做到了！我通过这个包得出了下面的这个图表，PS：交叉的方块不是重要的，signif = 0.05的水平。但是我们怎么能把它翻译成ggplot2，可以吗？！

![在此处输入图像描述](../Images/0ca15c94026f26d2a869a5cac4ffc230.png)

- 或者你可以做圆圈并隐藏那些不重要的？如何在ggplot2中做到这一点？！
![在此处输入图像描述](../Images/8be4cbf4ee46662e4bd2a9c2c027481b.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-11-10T21:50:49.967

```
library("corrplot")
nba <- as.matrix(read.csv("https://raw.githubusercontent.com/Shicheng-Guo/Shicheng-Guo.Github.io/master/data/ppg2008.csv")[-1])
res1 <- cor.mtest(nba, conf.level = .95)
par(mfrow=c(2,2))

# correlation and P-value
corrplot(cor(nba), p.mat = res1$p, insig = "label_sig",sig.level = c(.001, .01, .05), pch.cex = 0.8, pch.col = "white",tl.cex=0.8)

# correlation and hclust
corrplot(cor(nba), method = "shade", outline = T, addgrid.col = "darkgray", order="hclust", 
         mar = c(4,0,4,0), addrect = 4, rect.col = "black", rect.lwd = 5,cl.pos = "b", tl.col = "indianred4", 
         tl.cex = 0.8, cl.cex = 0.8) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-02-22T22:15:16.173

为了表示估计相关系数的重要性，您可以改变着色量 - 使用`alpha`或仅填充每个图块的子集：

```
# install.packages("fdrtool")
# install.packages("data.table")
library(ggplot2)
library(data.table)

#download dataset
nba <- as.matrix(read.csv("http://datasets.flowingdata.com/ppg2008.csv")[-1])
m <- ncol(nba)
# compute corellation and p.values for all combinations of columns
dt <- CJ(i=seq_len(m), j=seq_len(m))[i<j]
dt[, c("p.value"):=(cor.test(nba[,i],nba[,j])$p.value), by=.(i,j)]
dt[, c("corr"):=(cor(nba[,i],nba[,j])), by=.(i,j)]

# estimate local false discovery rate
dt[,lfdr:=fdrtool::fdrtool(p.value, statistic="pvalue")$lfdr]

dt <- rbind(dt, setnames(copy(dt),c("i","j"),c("j","i")), data.table(i=seq_len(m),j=seq_len(m), corr=1, p.value=0, lfdr=0))

#use alpha
ggplot(dt, aes(x=i,y=j, fill=corr, alpha=1-lfdr)) + 
  geom_tile()+
  scale_fill_distiller(palette = "RdYlGn", direction=1, limits=c(-1,1),name="Correlation") +
  scale_x_continuous("variable", breaks = seq_len(m), labels = colnames(nba)) +
  scale_y_continuous("variable", breaks = seq_len(m), labels = colnames(nba), trans="reverse") +
  coord_fixed() +
  theme(axis.text.x=element_text(angle=90, vjust=0.5),
        panel.background=element_blank(),
        panel.grid.minor=element_blank(),
        panel.grid.major=element_blank(),
  ) 
```

[![α](../Images/f09be83c94bfde646c740aaab29e929d.png)](https://i.stack.imgur.com/cMmPO.png)

```
#use area
ggplot(dt, aes(x=i,y=j, fill=corr,  height=sqrt(1-lfdr),  width=sqrt(1-lfdr))) + 
  geom_tile()+
  scale_fill_distiller(palette = "RdYlGn", direction=1, limits=c(-1,1),name="Correlation") +
  scale_color_distiller(palette = "RdYlGn", direction=1, limits=c(-1,1),name="Correlation") +
  scale_x_continuous("variable", breaks = seq_len(m), labels = colnames(nba)) +
  scale_y_continuous("variable", breaks = seq_len(m), labels = colnames(nba), trans="reverse") +
  coord_fixed() +
  theme(axis.text.x=element_text(angle=90, vjust=0.5),
        panel.background=element_blank(),
        panel.grid.minor=element_blank(),
        panel.grid.major=element_blank(),
  ) 
```

[![区域](../Images/77b8745d994e9ffdc33ce2393e65ead8.png)](https://i.stack.imgur.com/B7bbM.png)

这里的关键是 p.values 的缩放：为了获得仅在相关区域显示较大变化的易于解释的值，我使用由提供的局部错误发现 (lfdr) 的上限估计`fdrtools`。即，图块的 alpha 值可能小于或等于该相关性不同于 0 的概率。

# css - 转换 :after CSS 选择器

> ID：12196758
> 
> 赞同：3
> 
> 时间：2012-08-30T12:22:38.290
> 
> 标签：css

> **可能重复**
> [：:after 伪元素的 CSS3 过渡](https://stackoverflow.com/questions/7922022/css3-transition-for-after-pseudoelement)

是否可以`:after`使用 CSS3 转换来转换选择器？目前我正在尝试过渡边界但没有成功。

## CSS

```
.selector:after{
    display:block;
    border:5px solid transparent;
    position:absolute;
    top:-5px;
    left:-5px;
    height:100%;
    width:100%;
    content: '';
    pointer-events:none;
    -webkit-transition:border-color .5s linear;
    -moz-transition:border-color .5s linear;
    -o-transition:border-color .5s linear;
    -ms-transition:border-color .5s linear;
    transition:border-color .5s linear;
}

.selector:hover:after{
    border-color: #bf0add;
    border-radius:5px;
    z-index:99;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-09T17:50:38.943

Transition/Animation on CSS generated content is not supported yet. You can use the following link to keep track for its future support: [http://css-tricks.com/transitions-and-animations-on-css-generated-content/](http://css-tricks.com/transitions-and-animations-on-css-generated-content/)

# ruby-on-rails - 宝石 jquery-datatables-rails 不工作

> ID：12196759
> 
> 赞同：0
> 
> 时间：2012-08-30T12:22:58.610
> 
> 标签：ruby-on-rails, datatable

在我的 gemfile 中，我包含了这些 gem：

```
 gem 'jquery-datatables-rails', github: 'rweng/jquery-datatables-rails'
  gem 'jquery-ui-rails' 
```

在我的 application.css 文件中，我包含了这些

```
 *= require dataTables/jquery.dataTables
 *= require dataTables/jquery.dataTables.bootstrap 
```

在我的 application.js 中，我包含了这些

```
 //= require dataTables/jquery.dataTables
 //= require dataTables/jquery.dataTables.bootstrap
   $('#sort').dataTable({
       "bPaginate": false, 
       "oLanguage": {
            "sSearch": "<span class=icon-search></span>"

        },
        "aoColumnDefs": [
          { 'bSortable': false, 'aTargets': [ 0 ] }
        ]     
    });
$('#sort').dataTable( {
        "aaSorting": [[ 4, "desc" ]]
    } );

// For fluid containers
$('.datatable').dataTable({
  "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
  "sPaginationType": "bootstrap"
}); 
```

但我没有得到搜索的选项，但我收到了这个错误

```
oCol is undefined   
oCol.fnSetData( oData, val ); 
```

我为此参考了datatables.net。有人可以告诉我这是什么错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:47:21.670

我不能准确地说出你的情况——但我可以提供一个建议。由于我没有`oCol`在您的 javascript 代码中看到，这似乎是来自 jquery javascript 的未定义错误。您要么缺少必需的 js 文件，要么我会尝试颠倒`//= require dataTables/jquery.dataTables.bootstrap`with的顺序，`//= require dataTables/jquery.dataTables`看看是否有帮助（文件按指定的顺序包含，因此如果`jquery.dataTables`使用定义的变量`jquery.dataTables.bootstrap`，那么您会看到类似的错误这个。

编辑：我还可以为您提供我们配置中的内容（我们也使用 dataTables）

*我们的宝石文件：*

```
gem 'jquery-rails', '1.0.19' 
```

*我们的 application.js：*

```
//= require jquery.min.js
//= require jquery_ujs.js
//= require jquery.dataTables.js
//= require ColReorder.js
//= require jquery.timers-1.2.js
//= require jquery-ui-1.8.16.custom.min.js 
```

**注意**ColReorder.js 是一个 dataTables 插件文件

*我们的application.css：*

```
*= require jquery.ui.all.css
*= require demo_table
*= require ColReorder 
```

**注意**demo_table 文件是 jquery dataTables 附带的 css 文件。

**我**应该补充一点，我们实际上已经下载了 dataTables 和 jquery-ui，我们已经获取了 Javascript 文件和 CSS 文件，并将它们实际放在了我们的`assets/javascripts`路径`assets/stylesheets`中。

希望这可以帮助！！如果没有，我可以尝试为您提供一些调试指针，以帮助您调试它的来源:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-30T05:34:32.333

我知道这里有点晚了，但我发现当 TH 和 TD 元素的数量不匹配或类似情况时出现此错误。确保您的表格格式正确，即。TH 元素位于 THEAD 中，TD 位于 TBODY 中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T08:41:15.817

放上gemfile

```
group :assets do

gem 'bootstrap-sass'
gem 'bootstrap-will_paginate'

end 
```

# javascript - 对象不支持对象 IE 8

> ID：12196761
> 
> 赞同：0
> 
> 时间：2012-08-30T12:23:06.700
> 
> 标签：javascript, extjs, minimize

当我想最小化一个 extjs 窗口时，它在 IE8 中不起作用。所有其他浏览器都很好。我得到的错误是指向其中的一行：

```
iframe.dom.hasOwnProperty 
```

这是不适用于IE8的东西吗？

还有

```
iframe.dom.contentWindow.parentLostFocus(); 
```

IE 中的错误只是说：对象不支持对象。不确定问题可能是什么。任何人的想法？

这是重点

```
iframe = Ext.get('iframe_{0}'.sprintf(item.itemId));
if(!iframe.dom.hasOwnProperty('contentWindow')) {
  return;
}

if(iframe !== null && iframe.dom && iframe.dom.contentWindow && iframe.dom.contentWindow.parentGotFocus) {
  context.trace('calling parentGotFocus in iframe {0}'.sprintf(item.itemId));
  iframe.dom.contentWindow.parentGotFocus();
} else {
  context.trace('function parentGotFocus not found in iframe {0}'.sprintf(item.itemId));
}
}, 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T12:41:11.083

IE8 及更低版本不支持`hasOwnProperty()`DOM 元素。如果`iframe.dom`是 DOM Node 对象，那么 IE8 会抛出错误*"Object does not support property or method"*。为避免错误尝试替换：

```
iframe.dom.hasOwnProperty("property name"); 
```

和：

```
Object.prototype.hasOwnProperty.call(iframe.dom,"property name"); 
```

# java - 删除java arraylist中的重复项

> ID：12196762
> 
> 赞同：1
> 
> 时间：2012-08-30T12:23:11.963
> 
> 标签：java, arraylist, iterator

谢谢马尔科。我重写代码。尽量让它简单。这次真的可以编译了。但它只能删除相邻的重复项目。例如，如果我输入 1 2 3 3 4 4 5 1 - 输出为 1 2 3 4 5 1。它不能在最后提取副本。（顺便说一句：这个网站的新手，如果让任何显示混乱我很抱歉）

这是新代码：

```
import java.util.*;

public class SetListDemo{
public static void main(String[] args){
    SetListType newList = new SetListType();
    Scanner keyboard = new Scanner(System.in);

    System.out.println( "Enter a series of items: ");
        String input = keyboard.nextLine();

    String[] original = input.split(" ");
    for (String s : original)
    newList.insert(s);

    List<String> finalList = new ArrayList(Arrays.asList(original)) ;

    Iterator<String> setIterator = finalList.iterator();  

    String position = null;

    while(setIterator.hasNext()){
        String secondItem = setIterator.next();

        if(secondItem.equals(position)){
            setIterator.remove();
        }   

        position = secondItem;
    }

    System.out.println("\nHere is the set list:");
    displayList(finalList);
    System.out.println("\n");
}

public static void displayList(List list){
    for(int index = 0; index <list.size(); index++)
    System.out.print(list.get(index) + ", ");
}

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T12:32:27.077

要回答“删除 java arraylist 中的重复项”的问题：

只需将所有元素放入 a`Set`中即可。

-或者-

迭代您的`original`列表并将元素添加到 a `List`，但在添加它们之前，请检查`List#contains()`元素是否已经存在。

**编辑：试试这个：**

```
String[] original = input.split(" ");
List<String> finalList = new ArrayList<String>();

for (String s : original) {
    if (!finalList.contains(s)) {
        finalList.add(s);
    }
}

System.out.println("\nHere is the set list:");
displayList(finalList);
System.out.println("\n"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T12:26:54.627

`SetListIterator`是您的代码间接引用的类，但它不在类路径上。在设置您的项目时，您忘记复制该源文件`SetListType`，或者可能是您在 IDE 之外编译它并且根本无法编译该类。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:30:09.380

从你所说的听起来，当你运行你的作业时，你没有正确设置你的类路径，以便它包含 SetListType 的编译类文件。您应该能够通过`-classpath`在运行 main 方法时将选项设置为指向此以及您的作业所依赖的任何其他类来解决此问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:38:31.207

您可以使用 Vector 或 ListArray 并在添加之前检查该元素是否存在于新列表中。

只是一个例子：

```
 Vector<String> list = new Vector<String>();
    System.out.println("list:");
    for(int i=0; i<100; i++){
        list.add("" + new Random().nextInt(10));
        System.out.println(list.lastElement());
    }

    System.out.println("newList:");
    java.util.Iterator<String> it = list.iterator();
    Vector<String> newList = new Vector<String>();
    while(it.hasNext()){
        String s = it.next();
        if(!newList.contains(s)){
            newList.add(s);
        }
    }

    for(String s : newList){
        System.out.println(s);
    } 
```

对于第二部分：

```
 int[] count = new int[newList.size()];      
    for(String s : list){
        int index = newList.indexOf(s);
        count[index]++;
    }

    for(String s : newList){
        System.out.println(s + " appears " + count[newList.indexOf(s)] + " times");
    } 
```

# javascript - nextSibling ul li ul

> ID：12196764
> 
> 赞同：1
> 
> 时间：2012-08-30T12:23:15.047
> 
> 标签：javascript, nextsibling

我不确定，但如果我理解正确的 js nextSibling 关注下一个节点？那么，当我想在 li 中选择 ul 时，为什么会遇到麻烦？

```
 <ul>
<li><input id="btn-page" type=button onclick="displayMenu();" /></li>
    <ul class="hide">
        <li>Some text</li>
    </ul>
    <li>...</li>
   </ul> 
```

还有我的 js 函数：

```
 function displayMenu() {
   var idMenu = event.target.id;
   var ulDisplay = document.getElementById(idMenu).nextSibling;
   ulDisplay.style.display = 'block';
} 
```

我想我忘记了什么，但我不知道为什么。感谢帮助 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:53:47.313

正如@andreas 指出的那样，您的 HTML 结构无效，因为您不能将 UL 作为 UL 的子级。但是您可以将 UL 作为 LI 的子级。因此，请考虑以这种方式更新您的 HTML。先前类似答案中的辅助函数“Next()”使用用于查找 UL[的 Javascript 隐藏元素的下一个兄弟](https://stackoverflow.com/questions/868407/hide-an-elements-next-sibling-with-javascript)

```
<!DOCTYPE html>
<html>
    <head>
        <style type="text/css">
            .hide { display: none; }
        </style>
        <title>Title</title>
        <script type="text/javascript">
            function next(elem) {
                do {
                    elem = elem.nextSibling;
                } while (elem && elem.nodeType != 1);
                return elem;                
            }

            function displayMenu(id) {
                var ulDisplay = next(document.getElementById(id));
                ulDisplay.style.display = 'block';
            }
        </script>
    </head>
    <body>
        <ul>
            <li>
                <input id="btn-page" value="show" type=button onclick="displayMenu(this.id);" />
                <ul class="hide"><li>Some text</li></ul>
            </li>
            <li>...</li>
        </ul>
    </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:32:48.130

这种方式似乎更好。

HTML

```
<ul>
 <li>
  <input id="btn1" type='button' onclick="displayMenu(event);" />
 </li>
 <li><ul id="page1" style="display: none" class="hide">
  <li>Some text</li>
 </ul></li>
 <li>...</li>
</ul> < 
```

JS

```
function displayMenu(event) {
    var id = event.target.id.substring(3);
    var ulDisplay = document.getElementById("page" + id);
    ulDisplay.style.display = "block";
} 
```

# ruby-on-rails - 如何确保在我的 Capybara 测试中的每个场景都不会调用 Redis 和 Thinking sphinx

> ID：12196768
> 
> 赞同：1
> 
> 时间：2012-08-30T12:23:38.383
> 
> 标签：ruby-on-rails, cucumber, redis, capybara, thinking-sphinx

我在我的 Rails 应用程序中使用 Capybara 和 Cucumber。我想为某些特定的测试场景运行 Sphinx reindex 和 Redis 服务器。但这里的缺点是场景非常缓慢，使其运行数小时。

这是我的 env.rb 文件

```
require 'rubygems'

ENV["RAILS_ENV"] = "cucumber"

require 'cucumber/rails'
require 'capybara/cucumber'
require 'capybara/rails'
require 'capybara/session'
require 'rake'

Capybara.default_selector = :css
ActionController::Base.allow_rescue = false
Cucumber::Rails::World.use_transactional_fixtures = true
Capybara.default_wait_time = 4
Capybara.ignore_hidden_elements=false
Capybara::Server.new(Capybara.app).boot

include Rake::DSL
Rake::Task["db:fixtures:load"].invoke

Before('@javascript') do
  Capybara.register_driver :selenium do |app|
    Capybara::Selenium::Driver.new(app,:browser=>:chrome )
  end
  Capybara.current_driver = :selenium
  Capybara.javascript_driver=:selenium
end

Before('@javascript', '@index') do
  `rake ts:in RAILS_ENV=cucumber` unless ThinkingSphinx.sphinx_running?
  `rake ts:start RAILS_ENV=cucumber`
end

After('@javascript','@index') do
  `rake ts:stop RAILS_ENV=cucumber`
end

Before('@javascript','@redis','@javascript') do
  `redis-server config/test_redis.conf`
  `rake redis_specifics:cache_build RAILS_ENV=cucumber --trace`
end

After('@javascript','@redis','@javascript') do
  pid = `ps aux | grep 'config/test_redis.conf'| grep -v 'grep' | awk '{print $2}'`
  `pkill #{pid}`
end 
```

另一个问题是，当我在不同的机器上运行它时，存在安装 Redis 的依赖项，并且用户有权创建和销毁文件夹。有没有更好的方法来处理这种情况？可能是为了实现 Rails 的 Normal 测试框架使用的类似事务样式的夹具？

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T04:02:47.340

我建议使用像 fakeredis (https://github.com/guilleiguaran/fakeredis) 这样的库。这将摆脱测试中对 redis 的依赖，并确保数据不会在测试之间保留。

我希望狮身人面像会有类似的东西，但我不知道任何事情。

# .net - 如何使 .NET 嵌入式 Web 浏览器接受复杂的 HTML+JS 内容

> ID：12196781
> 
> 赞同：1
> 
> 时间：2012-08-30T12:24:27.543
> 
> 标签：.net, webview, browser, windows-runtime

我正在试验 Windows 8“现代”应用程序编程。我想做的是使用 WinRT WebView 组件来托管由[OpenLayers](http://openlayers.org/) Web 映射 API 呈现的地图。

我创建了一个小型“Metro”/C# 应用程序，它将 WebView 作为主要 UI 组件。我还创建了一个使用 OpenLayers 的简单 HTML 页面。当我在 IE 或 Win8 的 Chrome 中打开此 HTML 页面时，页面正确呈现，即出现示例地图。

当我运行“Metro”应用程序时，什么都没有出现，也没有显示或记录错误。没有什么。

我切换到一个简单的 WinForms 应用程序，认为要么我对 WinRT 的理解不成熟，要么 HTML 有问题（尽管为什么它在两个浏览器中都显示......）

当我运行 WinForms 应用程序时，我确实收到了一个错误。将出现一个对话框，其中包含：

“此页面上的脚本出现错误。” 错误：语法错误 URL：about:OpenLayers.js

经过一些谷歌搜索，我遇到了一个名为“ [web 标记](http://msdn.microsoft.com/en-us/library/ms537628%28v=vs.85%29.aspx)”的 Microsoft IE 扩展（此时，我认为“恶魔标记”更合适）。显然，如果你想在 IE 中托管一个包含“活动内容”的网页，你必须用一个标记来注释你的 HTML 内容，表明它是可以的。基本上，适当格式的 HTML 注释必须出现在 HTML 内容的前 2048 个字节中。

对于我的情况，适当的“网络标记”似乎是：

“保存自 url=(0014)about:internet”

我将它作为 HTML 注释放置在该部分的第一个元素中。

没什么区别。当我运行 WinForms 应用程序时发生同样的错误。当然，运行 IE 时一切正常。

这个问题与增强的 IE 安全性有关（我不会在这里详细说明）。MS 使使用包含“活动内容”的网页变得更加困难（！！！），特别是如果网页是从本地缓存显示的，而不是从网络服务器获取的。甚至还有[一个完整的网站](http://markoftheweb.net/)来处理一些问题。

而且，我不知道如何进行。我尝试更改 IE 的安全设置以允许“活动内容”，我使用了“网络标记”，无论是否更改安全设置。似乎没有任何效果。

那么，SO中是否有人有处理此问题的经验？这真的让我很困惑。

# c# - 如何将光标更改为 WPF 中特定控件的沙漏？

> ID：12196782
> 
> 赞同：0
> 
> 时间：2012-08-30T12:24:33.737
> 
> 标签：c#, wpf

我试图将光标更改为沙漏，我这样做了：

```
this.Cursor = Cursors.Wait;

<.... process ....>

this.Cursor = Cursors.Arrow; 
```

问题是当进程执行时，光标不会变成沙漏并且保持不变。

我必须做什么 ？？？？？

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T13:22:43.637

您可能对 Microsoft 论坛上的这个帖子感兴趣： [http ://social.msdn.microsoft.com/forums/en-US/wpf/thread/383b207d-2f7f-43d6-ba17-967dc3f1ad0d/](http://social.msdn.microsoft.com/forums/en-US/wpf/thread/383b207d-2f7f-43d6-ba17-967dc3f1ad0d/)

```
Mouse.OverrideCursor = Cursors.Wait;
/* Processing */
Mouse.OverrideCursor = null; 
```

# c# - 为什么Web服务返回值为null？

> ID：12196785
> 
> 赞同：0
> 
> 时间：2012-08-30T12:24:53.173
> 
> 标签：c#, asp.net, web-services, xml-nil

嗨，当我调用我的网络服务时，它返回给我：

```
 <?xml version="1.0" encoding="UTF-8"?>
    -<ArrayOfAnyType xmlns="http://localhost:5669/TAWebService.asmx" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> <anyType xsi:nil="true"/> 
<anyType xsi:nil="true"/> 
<anyType xsi:nil="true"/> 
<anyType xsi:nil="true"/>
 <anyType xsi:nil="true"/> 
<anyType xsi:nil="true"/> 
<anyType xsi:nil="true"/>
 <anyType xsi:nil="true"/>
 <anyType xsi:nil="true"/>
 <anyType xsi:nil="true"/>
 </ArrayOfAnyType> 
```

知道有什么问题吗？当我从我的 winapp 调用它时它返回 null ！但是在我开发了网络服务的网站上它工作正常并返回了我的对象！

这是我用来检索对象的 linqtosql 查询：

```
[WebMethod]
public Object[] getPersonnel(string hashCode)
{
    Personnel personnel = new Personnel();
    Object[] objReturn = new Object[10];
    try
    {
        db = new TimeAttendanceDataBaseDataContext();
        personnel = db.Personnels.FirstOrDefault(x => x.HashRecord == hashCode.Substring(0,10));
        objReturn[0] = personnel.ID;
        objReturn[1] = personnel.UserName;
        objReturn[2] = personnel.Password;
        objReturn[3] = personnel.FirstName;
        objReturn[4] = personnel.LastName;
        objReturn[5] = personnel.Mobile;
        objReturn[6] = personnel.Email;
        objReturn[7] = personnel.HashRecord;
        objReturn[8] = personnel.AccessLevel;
        objReturn[9] = personnel.PersonnelCode;
    }
    catch
    {
        objReturn[0] = null;
        objReturn[1] = null;
        objReturn[2] = null;
        objReturn[3] = null;
        objReturn[4] = null;
        objReturn[5] = null;
        objReturn[6] = null;
        objReturn[7] = null;
        objReturn[8] = null;
        objReturn[9] = null;

    }
    return objReturn;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:27:36.447

块内发生异常`try`。在那里设置断点并调试代码以查看问题所在。

也许`hashcode`是 null 或长度小于 10？还是`db.Personnels.FirstOrDefault(...)`回来了`null`？

作为旁注，如果您实现一些日志记录逻辑会很好，这样您就可以在实时环境中更轻松地进行故障排除。[Log4net](http://logging.apache.org/log4net/)是一个不错的选择

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:34:30.100

我得到了答案，问题是我必须在 iis 中将我的 apppool 更改为本地系统，并且我可以通过我的其他应用程序登录到 web 服务

# iphone - 如何在 iphone 的 facebook 群组墙上发布图像源

> ID：12196788
> 
> 赞同：0
> 
> 时间：2012-08-30T12:24:56.627
> 
> 标签：iphone

如何通过 Graph API 在没有图像 url 的情况下在 facebook 群组墙上发布本地图像源（保存到 iPhone 照片库中）？

# qt - 隐藏 QTreeView 中的最后一列

> ID：12196792
> 
> 赞同：1
> 
> 时间：2012-08-30T12:25:11.233
> 
> 标签：qt, pyqt, pyqt4, qtreeview

我有 9 列的树视图。我想隐藏从 4 到 9 的列。下面的代码隐藏了 4,5,6,7,8 列，但不是 9。代码有什么问题？

```
header = self.ui.visitors_treeview.header()
    for column in range(3, self.model.column_count()):
        header.hideSection(header.logicalIndex(header.visualIndex(column))) 
```

但是，如果我尝试从视图中隐藏列..它仍然可见：

```
 self.ui.visitors_treeview.hideColumn(8) 
```

# python - 使用 PyCharm 2.5 进行子进程远程调试

> ID：12196794
> 
> 赞同：0
> 
> 时间：2012-08-30T12:25:17.927
> 
> 标签：python, debugging, remote-debugging, pycharm

我会在 Pycharm 2.5 上使用远程调试。我可以调试主进程，但是否也可以调试子进程？在本地调试中，有“调试时自动附加到子进程”选项。不是远程调试吗？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T14:07:19.270

PyCharm 中的远程调试不支持多进程调试。我为此创建了一个[问题](http://youtrack.jetbrains.com/issue/PY-7372)。

但是要调试远程运行的多个进程，您可以使用[Remote Interpreters](http://www.jetbrains.com/pycharm/webhelp/configuring-remote-python-interpreters.html)。对于远程运行，它们提供与本地相同的调试能力。

# xml - 如何在 Qt 中读取 XML 节点的属性？

> ID：12196798
> 
> 赞同：3
> 
> 时间：2012-08-30T12:25:37.850
> 
> 标签：xml, qt, qxmlstreamreader

我需要读取每个节点的 a、b、c 值（其中 a、b、c 是某些属性的名称）并将它们列在表中，但我不知道如何读取节点值。请给个示例代码好吗？

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-31T04:41:46.383

```
QFile file("file.xml");
if (file.open(QIODevice::ReadOnly)) {
    QXmlStreamReader reader(file.readAll());
    file.close();
    while(!reader.atEnd()) {
        reader.readNext();
        if (reader.isStartElement()) {
            if (reader.name() == "node_name") {
                foreach(const QXmlStreamAttribute &attr, reader.attributes()) {
                    if (attr.name().toString() == QLatin1String("attribute_name")) {
                        QString attribute_value = attr.value().toString();
                        // do something
                    }
                }
            }
        }
    }
} 
```

# sql-server-2008 - 是否可以在过去执行查询？

> ID：12196799
> 
> 赞同：3
> 
> 时间：2012-08-30T12:25:44.810
> 
> 标签：sql-server-2008, ssms

> **可能重复：**
> [如何在 SQL Server Management Studio 中查看查询历史记录](https://stackoverflow.com/questions/5299669/how-to-see-query-history-in-sql-server-management-studio)

我想以某种方式获取 SQL Server 2008 R2 上执行查询的历史记录。假设我运行查询：

```
DELETE FROM TABLE 
```

它记录在某处吗？我可以看到在服务器上执行的查询吗？

我想检查是否在特定时间执行了存储过程或任何其他自动化任务。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T14:43:40.620

[这](http://blog.sqlauthority.com/2008/01/03/sql-server-2005-last-ran-query-recently-ran-query/)会有帮助吗？

```
SELECT deqs.last_execution_time AS [Time], dest.TEXT AS [Query]
FROM sys.dm_exec_query_stats AS deqs
CROSS APPLY sys.dm_exec_sql_text(deqs.sql_handle) AS dest
ORDER BY deqs.last_execution_time DESC 
```

正如 anio 所指出的，[如何在 SQL Server Management Studio 中查看查询历史记录](https://stackoverflow.com/questions/5299669/how-to-see-query-history-in-sql-server-management-studio)

# php - 来自 FB.ui 的第一个 app_requests 在 SSL 上使用 chrome 显示弹出窗口

> ID：12196801
> 
> 赞同：0
> 
> 时间：2012-08-30T12:25:55.127
> 
> 标签：php, javascript, facebook

当我尝试从我的应用程序发送 app_requests 时，Firefox 一切正常。（在 HTTPS 和 HTTP 上）但是当应用程序从 chrome 运行时，在 HTTP 中一切正常（非安全）。但是当涉及到 HTTPS 时，不是显示灯箱（即 js 生成的对话框，在同一页面上），而是创建一个新的弹出窗口，并且灯箱显示在该弹出窗口中。

这会导致应用程序中断（因为弹出窗口默认情况下被 chrome 阻止，用户无需单击允许来自该网站的弹出窗口）

此外，只有在 app 的实例中发出第一个请求时才会发生这种情况。当我再次单击邀请按钮时，所有浏览器都显示灯箱模式（甚至 chrome）

这是使用的JS代码：

```
FB.ui({"method": 'apprequests',"message": "<?=(INVITE_MESSAGE)?>","title":"<?=(INVITE_TITLE)?>","to": user_ids)}, 
function(response){if(response)info();}
); 
```

我没有为我的应用程序使用任何特殊代码（PHP 或 JS）（有人说我需要）。该应用程序总体上是基于 facebook 的 PHP SDK 构建的。

# android - 安卓上的交互式谷歌翻译

> ID：12196803
> 
> 赞同：0
> 
> 时间：2012-08-30T12:26:06.750
> 
> 标签：android, google-translate

我有一个 android 应用程序：纯文本，我想让它交互：单击单词时，我希望弹出一个窗口并显示单词的翻译

可能我应该使用某种 Google Translate API

请告诉我，为了开发这样的应用程序，我应该朝哪个方向挖掘

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:37:17.510

对于 Google 翻译，您应该查看 developers.google.com 上的[Google Translate Api](https://developers.google.com/translate/)文档。

虽然它不是免费的，但谷歌翻译是一项付费服务​​，每 100 万个字符收费 20 美元。

您可以[免费使用 Google 翻译，](http://rupeshpatel.wordpress.com/2012/06/23/usage-of-google-translator-api-for-free/)但这是在偷窃，不可取，尤其是当您想在 Play 市场上发布您的应用时。

Microsoft 提供免费的[必应翻译 Api](https://datamarket.azure.com/dataset/1899a118-d202-492c-aa16-ba21c33c06cb#schema)。每月最多可免费使用 200 万个字符。如果你将它与缓存系统结合起来，这样你就不会经常点击它来寻找已经翻译的单词，那么它应该可以正常工作。

# android - 该程序无法在模拟器或手机上安装。为什么？

> ID：12196808
> 
> 赞同：1
> 
> 时间：2012-08-30T12:26:18.967
> 
> 标签：android, android-emulator, mobile-emulator

我编写程序并尝试运行程序，但该程序有 2warning :( 当我尝试使用模拟器运行时，程序失败。当我使用手机运行时，手机挂起，即使手机与电脑断开连接，手机还挂着:(

activity_main.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:background="@color/background"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:padding="30dip"
    android:orientation="horizontal">
    <LinearLayout
        android:orientation="vertical"
        android:layout_height="wrap_content"
        android:layout_width="fill_parent"
        android:layout_gravity="center">
        <TextView
            android:text="@string/main_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:layout_marginBottom="25dip"
            android:textSize="24.5sp"/>
        <Button
            android:id="@+id/continue_button"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/continue_label"/>
        <Button
            android:id="@+id/new_button"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/new_game_label"/>
        <Button
            android:id="@+id/about_button"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/about_label" />
        <Button 
        android:id="@+id/exit_button"
    android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/exit_label"/>
  </LinearLayout> 
```

* * *

字符串.xml

```
 <resources>
  <string name="app_name">Sudoku</string>
  <string name="menu_settings">Menue</string>
  <string name="title_activity_main">MianActivity</string>
  <string name="main_title">Android Sudoku</string>
  <string name="continue_label">Continue</string>
  <string name="new_game_label">New Game</string>
  <string name="about_label">About</string>
  <string name="exit_label">Exit</string>

 </resources> 
```

和 AndroidManifest.xml

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="org.example.sudoku"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="14"
        android:targetSdkVersion="15" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

和警告错误是：第 9 行 --> 这个 LinearLayout 布局或其 LinearLayout 父级是无用的；将背景属性转移到另一个视图

第 13 行 --> 在布局文件中发现意外的文本：“””

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:24:39.797

您在这里不需要嵌套的 LinearLayout。因为第一个 LinearLayout 没有其他子级。删除第一个 LinearLayout。这是没用的。

# html - Internet Explorer 9 不支持 css3 样式

> ID：12196810
> 
> 赞同：1
> 
> 时间：2012-08-30T12:26:20.567
> 
> 标签：html, css, internet-explorer-9, media

我有以下脚本，它在 Firefox 和 chrome 中运行良好。ie9 不显示颜色的变化。

```
<style type="text/css">
body {
background-color: #FF77BB;
}
@media screen and (max-width: 960px) {
body {
background-color: #8A2BE2;
}
}
@media screen and (max-width: 768px) {
body {
background-color: #FF8C00;
}
}
@media screen and (max-width: 550px) {
body {
background-color: #7FFF00;
}
}
@media screen and (max-width: 320px) {
body {
background-color: #CC0011;
}
}
}
</style> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:30:15.663

对我来说很好，只需在最后去掉多余的 }，其他浏览器可能不会成为问题，但 IE9 非常挑剔，如果一件事不妥，就会破坏整个事情。

# c# - 如何在 .NET 中使用 MUMPS？

> ID：12196811
> 
> 赞同：2
> 
> 时间：2012-08-30T12:26:20.160
> 
> 标签：c#, .net, wpf, mumps

我想知道如何使用 C# .NET 与 MUMPS 进行通信？有一个要求，我必须使用任何 .NET 技术（如 ASP.NET、WPF 或 Silverlight 等）在 .NET 中开发 UI。但后端将是 60 年代的旧 MUMPS，它是非关系数据库。

有没有办法使用.NET 与 MUMPS 程序进行通信？如何将 .NET 与 MUMPS 一起使用？我在互联网上找不到太多资源，所以想在这里问

请求您帮助和指导我的上述查询。

谢谢

问候 VJ

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T14:35:13.077

这取决于您将使用哪种 MUMPS 解决方案。

一种可能性是由 M/Gateway 开发并免费提供的 M/Gateway 服务集成器 (MGWSI)。从他们的网页（[M/Gateway Developments](http://gradvs1.mgateway.com/main/)，然后单击*MGWSI Gateway*选项卡）：

> 核心 MGWSI 产品是一个通用集成引擎，但我们提供一系列特定集成网关作为整个软件包的一部分，包括：
> 
> *   Caché、GT.M 或 M21 转 PHP（m_php 网关）；
> *   Caché 或 GT.M 到 Java 服务器页面（m_jsp 网关）；
> *   Caché 或 GT.M 到 ASP.Net（m_aspx 网关）；

另一种可能性是使用[KB_SQL](http://www.kbsystems.com/kbsql.html)，它提供 JDBC 和 ODBC 驱动程序。KB_SQL 可以与大多数 MUMPS 解决方案一起使用。

另一种可能是使用[EsiObjects](http://www.esiobjects.org/)，它同时支持 GT.M 和 InterSystem Caché。从他们的常见问题解答：

> EsiObjects 支持 4 个基本网关：
> 
> *   TCP/IP 网关：此网关用于将 EsiObjects 客户端开发 VDE 与任何受支持的 M 系统连接。此外，TCP/IP 网关还用于通过 ActiveX 控件连接运行时环境。
> *   COM Bridge：这与使用 VB、C++、C# 等构建的 Microsoft 客户端一起使用。它使用 TCP/IP 网关并为 EsiObjects 实现 ActiveX 控件。
> *   Java 网关：此网关使用 TCP/IP 网关。ESI 库中有一组方法可以让您从任何 EsiObjects 类生成外部 Java 代理类。所有连接都是内置的。因此，您可以获取创建的 Java 文件并在您的 Java 环境中使用它，使用代理自动访问 EsiObjects 服务器上的数据。
> *   CORBA ORB（又名 EsiORB）：这个包是 EsiObjects 的附加组件。它是对象管理组 (OMG) 通用对象请求代理体系结构 (CORBA) 的实现。ORB 使用 TCP/IP 网关。

如果您使用的 MUMPS 解决方案是 InterSystem Caché，您可以使用[Caché Managed Provider](http://www.intersystems.com/cache/dotnet/index.html)解决方案。也就是说，该解决方案仅适用于 InterSystem Caché，不适用于其他 MUMPS 解决方案。

如果您使用的 MUMPS 解决方案是 GT.M，您可以使用[PIP](http://www.fisglobal.com/products-technologyplatforms-pip)，因为它提供了 JDBC 驱动程序。也就是说，该解决方案仅适用于 GT.M，不适用于其他 MUMPS 解决方案。

# javascript - 在单个表中生成表头和内容

> ID：12196813
> 
> 赞同：0
> 
> 时间：2012-08-30T12:26:27.573
> 
> 标签：javascript, css, jqgrid

使用 jqgrid 我发现它生成了 2 个单独的表。一个表只是生成标题行，我可以从中对列进行排序。第二列是实际数据。我想为标题和内容生成一个表，因为 2 个表导致对齐问题。

这是我的代码

```
$("#myGridView").jqGrid({
    url: 'urlto/records',
    datatype: 'json',
    mtype: 'GET',
    height: 300,
    width : 960,
    colNames : [ 'ID', 'Date', 'Name', 'Email Address'],
    colModel : [ 
             { name : 'id', index : 'id', align : "center", sortable : true, classes: 'viewLidsGrid_id'}, 
             { name : 'dateReceived', index : 'dateReceived', align : "center", sorttype : "date", sortable: true},
             { name : 'name', index : 'name', align : "center", sortable:true}, 
             { name : 'email', index : 'email',  align : "center", sortable : true}, 
        ],
    postData: {},
    serializeGridData: function(postData) {
            var newPostData = $.extend(postData, {
                uuid: $("#requestUUID").val()
            });
            return $.param(newPostData);
    },
    rowNum:config.getJQGridRowCount(),
    rowList:config.getJQGridRows(),
    pager: '#pager',
    sortname: 'id',
    viewrecords: true,
    toppager: true,
    sortorder: "asc",
    caption:"Records",
    emptyrecords: "Empty records",
    loadonce: false,
    jsonReader : {
        root: "rows",
        page: "page",
        total: "total",
        records: "records",
        repeatitems: false,
        cell: "cell",
        id: "id"
    }
    }).jqGrid('navGrid','#pager',{cloneToTop:true, edit:false,add:false,del:false, search:false}); 
```

# c# - 在受限用户帐户中以管理员身份执行 C# 应用程序

> ID：12196816
> 
> 赞同：-1
> 
> 时间：2012-08-30T12:26:34.590
> 
> 标签：c#, auto-update, admin-rights, limited-user

我开发了一个应用程序，它会像下面这样更新自己

1.  我将从 Admin PC 向客户端侦听器发送信号以更新客户端应用程序
2.  侦听器将停止客户端应用程序，然后删除客户端应用程序。
3.  侦听器将从新客户端应用程序所在的共享 URL 复制最新的客户端应用程序。
4.  复制后，Listener 将执行 Client Application 并通知 Admin Application 更新成功。

我制作了这个系统，以便在没有客户知识的情况下，我的应用程序将自行更新。

上述系统在具有管理员权限的客户端中完美运行。但它不适用于访问受限的客户端。

在受限访问客户端 PC 中，侦听器应用程序无法删除客户端应用程序以复制最新的应用程序。

请帮帮我，怎么办。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:05:00.053

您可以编写一个自定义的 Windows 服务，即您的侦听器，它接收来自 admin pc 的信号并在后台更新您的客户端应用程序。

# c# - string.format() 至少有一位小数

> ID：12196819
> 
> 赞同：4
> 
> 时间：2012-08-30T12:26:41.113
> 
> 标签：c#, .net, formatting

从以下两个 - 双精度 - 数字：

```
123456
0.0003232 
```

我需要得到（至少一位小数）...

```
123456.0   (one decimal place added)
0.0003232  (same as above) 
```

...永远不要使用科学记数法，例如 E+000。与标准更接近的结果`string.Format()`是`string.Format("{0:F1}", myDoubleVal)`，但在第二种情况下，小数点会丢失。

我还能尝试什么？

谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-30T12:31:51.300

试试下面

```
string.Format("{0:0.0###########}",myval); 
```

谢谢

# android - 片段，保存视图以备后用不起作用？

> ID：12196823
> 
> 赞同：0
> 
> 时间：2012-08-30T12:26:47.040
> 
> 标签：android, gps, fragment

所以我有一个包含三个片段的 ViewPager。在中间，如果 GPS 已停用，我想将 TextView 设置为 Visible，如果 GPS 已激活，则将其隐藏。为了对 GPS 模块可用性的变化做出反应，我正在做这样的事情：

```
@Override
public void onProviderDisabled(String provider) {
    if (provider.equals(LocationManager.GPS_PROVIDER)) {
        // gps deactivated, sucks dude
        GPS_ACTIVE = false;
        ((Nearby) mTabsAdapter.getItem(1)).notifyGpsDeactivated();
    }
}

@Override
public void onProviderEnabled(String provider) {
    if (provider.equals(LocationManager.GPS_PROVIDER)) {
        // gps activated, start again!
        GPS_ACTIVE = true;
        ((Nearby) mTabsAdapter.getItem(1)).notifyGpsActivated();
    }
} 
```

在“附近”片段中，它看起来像这样：

```
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    view = inflater.inflate(R.layout.fragment_nearby, null, false);
    int VISIBLE = (SHOW_GPS_NOTIFICATION) ? View.VISIBLE : View.GONE;
    Log.d("Nearby", "Show gps not? " + SHOW_GPS_NOTIFICATION);
    view.findViewById(R.id.nearby_notification_activategps).setVisibility(
            VISIBLE);
    return view;
}

public void notifyGpsActivated() {
    SHOW_GPS_NOTIFICATION = false;
    if (view != null)
        view.findViewById(R.id.nearby_notification_activategps)
                .setVisibility(View.VISIBLE);
    else
        Log.d("Nearby", "View is null :(");
}

public void notifyGpsDeactivated() {
    Log.d("Nearby", "Gps deactivated.");
    SHOW_GPS_NOTIFICATION = true;
    if (view != null)
        view.findViewById(R.id.nearby_notification_activategps)
                .setVisibility(View.VISIBLE);
    else
        Log.d("Nearby", "View is null :(");
} 
```

*   View 是 Nearby 类中的私有变量，我在 onCreateView 中保存对视图的引用，以便稍后在通知方法中使用它，但视图始终为空。我什至尝试在片段的方法中使用“getView()”获取视图，但它也是空的。任何人都有建议，如何解决这个问题？此外，如果我在应用程序暂停时激活 GPS，“onProviderEnabled()”似乎不起作用 - 我是否也应该在 onResume 中检查可用的 GPS 提供程序？

谢谢！

哦，是的，顺便说一句，我将这两个值都设置为 VISIBLE，因为它永远不可见，只是为了测试目的 - 我从来没有看到 textview .. 所以不是这样。:)

# html - 多边形的属性不起作用

> ID：12196827
> 
> 赞同：0
> 
> 时间：2012-08-30T12:27:05.733
> 
> 标签：html, svg, jquery-svg

这个例子我可以看到属性。

[jsFiddle 代码运行良好](http://jsfiddle.net/centerwow/tZKuv/273/)

```
polygon.hoverable
{
    fill: blue;
    stroke:gray; /* Replace with none if you like */
    stroke-width: 4;
    cursor: pointer;
} 
```

这里相同的代码不起作用。

```
var path = document.createElementNS (xmlns, "path");
            path.setAttributeNS (null, 'stroke', "white");
            path.setAttributeNS (null, 'stroke-width', 4);
            path.setAttributeNS (null, 'fill', "yellow");
            polygon.appendChild (path); 
```

[jsFiddle 代码不能正常工作](http://jsfiddle.net/centerwow/CCr5T/12/)

```
<body onload="CreateSVG ()">
    <div id="svgTriangle"></div>
</body>​

function CreateSVG () {
            var xmlns = "http://www.w3.org/2000/svg";
            var boxWidth = 250;
            var boxHeight = 250;
            var LeftWidth=(250-boxHeight)/2;
            var RightWidth=250-LeftWidth;
            var RopTringleX=(RightWidth-(boxWidth/2));
            var RopTringleY=(boxHeight);

            var svgElem = document.createElementNS (xmlns, "svg");
            svgElem.setAttributeNS (null, "viewBox", "0 0 " + boxWidth + " " + boxHeight);
            svgElem.setAttributeNS (null, "width", boxWidth);
            svgElem.setAttributeNS (null, "height", boxHeight);
            svgElem.style.display = "block";

            var polygon = document.createElementNS (xmlns, "polygon");
            svgElem.appendChild (polygon);

            polygon.setAttributeNS (null, "points", ("50,0 200,0 125,150"));

            var path = document.createElementNS (xmlns, "path");
            path.setAttributeNS (null, 'stroke', "white");
            path.setAttributeNS (null, 'stroke-width', 4);
            path.setAttributeNS (null, 'fill', "yellow");
            polygon.appendChild (path);

            var svgContainer = document.getElementById ("svgTriangle");

            svgContainer.appendChild (svgElem); 
            alert(boxWidth + ' ' + boxHeight);     
        }
CreateSVG ();
​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:05:51.450

您需要在多边形元素上创建附加属性，而不是创建路径元素子元素并在其上设置属性，例如

```
 polygon.setAttribute("points", "50,0 200,0 125,150");

    polygon.setAttribute('class', "hoverable");
    polygon.setAttribute('stroke', "white");
    polygon.setAttribute('stroke-width', 4);
    polygon.setAttribute('fill', "yellow"); 
```

# android - gcc 4.6 的 std::future 实现

> ID：12196828
> 
> 赞同：1
> 
> 时间：2012-08-30T12:27:18.833
> 
> 标签：android, c++, gcc, c++11, android-ndk

我有跨平台 C++11 代码，我想在 Android 上编译。虽然大多数琐碎的代码在*ndk8b*或*CrystaX7*上编译，`std::future`但遗憾的是尚不可用。*gcc4.6*是否有任何（部分/粗略）`std::future`实现？

 *我现在能想到的最佳选择是`std::future`从 libstdc++4.7 或 libc++ 移植。*

# visual-studio-2010 - 单空格缩进

> ID：12196829
> 
> 赞同：0
> 
> 时间：2012-08-30T12:27:19.380
> 
> 标签：visual-studio-2010

有时当我在 Visual Studio 中工作时，我会得到一段代码，我需要缩进一个空格以使其完全对齐。

通过选择文本并按 Tab 键可以完成正常大小的缩进，但是如果我只想将其沿一个空格移动，则选择文本并按空格键会覆盖代码。

我知道我可以通过更改制表符间距选项来做到这一点，因此缩进大小为 1，缩进文本然后将其更改回来，但这似乎有点冗长......

我没有运气搜索，所以我编写了一个宏来执行上述操作，但我想在我辞职使用它之前我会在这里问一下，以防万一功能/快捷方式已经存在......

* * *

编辑：宏移至答案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:31:19.610

对于任何有兴趣的人来说，这里是宏：

```
Sub SingleSpaceIndent()
    Dim textEditor As Properties
    textEditor = DTE.Properties("TextEditor", "AllLanguages")
    textEditor.Item("IndentSize").Value = 1
    DTE.ActiveDocument.Selection.Indent()
    textEditor.Item("IndentSize").Value = 4
End Sub 
```

# spring - spring 接口作为@ModelAttribute 参数

> ID：12196832
> 
> 赞同：5
> 
> 时间：2012-08-30T12:27:41.677
> 
> 标签：spring, interface, default, implementation, modelattribute

我有带有方法的用户控制器：

```
@RequestMapping(value={"/new"}, method=RequestMethod.GET)
public String showCreationForm(@ModelAttribute User user){
    return "user_registration_form";
} 
```

显示注册表单。我想在我的项目中保持模块化（在其他项目中使用这个控制器会很好），所以 User 是一个接口，并且有它的实现 - UserImpl。问题是 Spring 无法实例化用户界面。有没有办法配置spring来使用用户的一些默认实现？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:38:17.463

`@ModelAttribute`您可以使用-annotated 方法提供要填充请求数据的对象：

```
@ModelAttribute
public User createUser() {
    return new UserImpl();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-08-01T00:49:34.847

创建一个简单的类来最低限度地实现接口。它与接口的想法相同，但它是一个类。它不包含您的任何逻辑或验证或其他任何内容。它只是接口的最简单实现，称之为UserSimple，它实现了你的接口。它被称为数据传输对象。

```
public class UserSimple implements User {
    String name;
    String address;
    //getters and setters only
} 
```

添加一个转换器，将 UserImpl 的真实属性复制到 UserSimple 中。

```
@Component
public class ImplToSimpleConverter 
        implements Converter<UserImpl, UserSimple> {

    @Override
    public UserSimple convert(UserImpl source) {
        UserSimple target = new UserSimple();
        BeanUtils.copyProperties(source, target);
        return target;
    }

} 
```

`UserSimple`在处理程序中使用。

```
@RequestMapping(value={"/new"}, method=RequestMethod.GET)
public String showCreationForm(@ModelAttribute UserSimple user){
    return "user_registration_form";
} 
```

这使您可以保持代码通用。要在不同的应用程序中使用相同的类，您只需添加不同的转换器即可。

# database - 带有 OR 语句的 drupal 7 db_select

> ID：12196838
> 
> 赞同：0
> 
> 时间：2012-08-30T12:28:07.710
> 
> 标签：database, drupal-7

我正在尝试执行以下代码：

```
 $state  =   db_select('webform_email_confirm', 'wec')
            ->fields('wec')
            ->condition('nid', $form['nid']['#value'], '=')
            ->condition('cid1', $form['cid']['#value'], '=')
            ->or('cid2', $form['cid']['#value'], '=')
            ->execute()
            ->fetchAssoc(); 
```

第三个语句 ,`->or('cid2', $form['cid']['#value'], '=')`不起作用。

我需要在**cid1**或**cid2**中匹配我的数据库中的记录。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:32:51.667

您必须使用 db_or() 或 $query->where 构造。

请查看[此页面](http://api.drupal.org/api/drupal/includes!database!database.inc/function/db_or/7)以获取更多信息。

所以基本上，尝试：

```
$or = db_or()
         ->condition('cid1', $form['cid']['#value'])
         ->condition('cid2',  $form['cid']['#value']);

$state  = db_select('webform_email_confirm', 'wec')
        ->fields('wec')
        ->condition('nid', $form['nid']['#value'], '=')
        ->condition($or)
        ->execute()
        ->fetchAssoc(); 
```

[drupal 网站上](http://drupal.org/node/310086)的示例也可能很有用：

```
$query
  ->condition('field1', array(1, 2), 'IN')
  ->condition(db_or()->condition('field2', 5)->condition('field3', 6))
// Results in:
// (field1 IN (:db_placeholder_1, :db_placeholder_2) AND (field2 = :db_placeholder3 OR field3 = :db_placeholder_4)) 
```

# excel - 如何使用 If 语句在列中搜索特定文本？

> ID：12196841
> 
> 赞同：2
> 
> 时间：2012-08-30T12:28:10.183
> 
> 标签：excel, vba

我正在尝试获取代码以**检查整个列是否包含特定文本**。
它永远是大写字母。此行之后有很多代码，但我只希望代码在满足以下条件时运行。我正在考虑的代码如下。

```
If ActiveSheet.Range("J:J").Text = "GENERAL" Then 
```

但是，这没有任何回报，我尝试过`Instr()`但无济于事。

什么是正确的语法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:37:12.783

您可以在一个范围内搜索；

```
if not ActiveSheet.Range("J:J").Find("GENERAL", MatchCase:=True) is nothing then
    msgbox "found it!"
end if 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:58:02.067

`FInd`有用法

`Find(What, [After], [LookIn], [LookAt], [SearchOrder], [SearchDirection As XlSearchDirection = xlNext], [MatchCase], [MatchByte], [SearchFormat])`

您应该指定匹配“GENERAL”应该是整个字符串（使用`LookAt:=xlWhole`），还是部分匹配（即匹配“GENERAL COMMOTION”中的GENERAL使用`LookAt:=xlPart`）

此外，通常最好使用一个`Range`对象（`rng1`如下），这样您就可以使用找到的对象。尽管在您的情况下，布尔测试足以运行或不运行您的进一步代码

**部分匹配**

```
Sub FindPartialString()
Dim rng1 As Range
'find partial match
Set rng1 = ActiveSheet.Range("J:J").Find("GENERAL", , xlValues, xlPart, , , True)
If Not rng1 Is Nothing Then
MsgBox "found in " & rng1.Address(0, 0)
Else
MsgBox "no found", vbCritical
End If
End Sub 
```

**整场比赛**

```
Sub FindWholeString()
Dim rng1 As Range
'find exact match
Set rng1 = ActiveSheet.Range("J:J").Find("GENERAL", , xlValues, xlWhole, , , True)
If Not rng1 Is Nothing Then
MsgBox "found in " & rng1.Address(0, 0)
Else
MsgBox "no found", vbCritical
End If
End Sub 
```

# asp.net - 我的正则表达式有什么问题

> ID：12196846
> 
> 赞同：0
> 
> 时间：2012-08-30T12:28:24.527
> 
> 标签：asp.net, regex

我有一个验证密码字段的 RegularExpressionValidator。密码必须包含字母和至少 1 个数字，并且必须介于 8 到 20 个字符之间。这是我的验证器：

```
<asp:RegularExpressionValidator ID="regexPassword" runat="server" ControlToValidate="txtNewPassword"
                ValidationExpression="^(?=.*[0-9])(?=.*[a-zA-Z])\w{8,20}$" ErrorMessage="Password must contain at least one digit and must be between 8 and 20 characters"
                Text="*" ValidationGroup="Passwords"></asp:RegularExpressionValidator> 
```

这在我的开发环境中非常有效，当我在本地机器上工作时，但是当我将它迁移到生产环境时它不起作用。在生产环境中，我必须从一个数字开始，它才能通过。我们的生产环境正在运行 Win 2k8 R2 机器，但我无法想象这很重要。我在这里发现了另一个帖子，说这个表达式可以工作，所以我测试了它，确实它确实有效......但只在我的开发环境中。谁能明白为什么在我的生产环境中，我必须从一个数字开始才能工作？该数字应位于密码中的任何位置。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T13:16:14.190

尝试这个：

```
^(?=\w{8,20}$)(?=.*[0-9])(?=.*[a-zA-Z]).* 
```

它与 IE6 错误有关，但它可能仍然适用，具体取决于您的生产机器上运行的 ASP.NET 版本。

# android - 如何在 Android 中设置活动结果？

> ID：12196851
> 
> 赞同：0
> 
> 时间：2012-08-30T12:28:55.540
> 
> 标签：android, android-activity, onactivityresult, preferenceactivity, startactivityforresult

我有一个`ListActivity`以.`startActivityForResult``PreferenceActivity`

上`ListItemClick`，我想将结果返回到我的`PreferenceActivity`.

我该怎么做呢？什么时候会`onActivityResult`调用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:31:29.963

在列表项单击事件上调用它。

```
Intent data = new Intent();
data.putExtra("SOMETHING", "EXTRAS");
setResult(RESULT_OK, data); 
finish(); 
```

# java - 没有调用paint方法

> ID：12196854
> 
> 赞同：3
> 
> 时间：2012-08-30T12:29:03.657
> 
> 标签：java, swing, paint

我不知道为什么，但我无法`paint(Graphics g)`从代码中调用该方法。我有`MouseListeners`：

```
 @Override
    public void mouseReleased(MouseEvent e) {       
        pointstart = null;
    }

    @Override
    public void mousePressed(MouseEvent e) {
        pointstart = e.getPoint();
    } 
```

和`MouseMotionListeners`：

```
 @Override
    public void mouseMoved(MouseEvent e) {
        pointend = e.getPoint();
    }

    @Override
    public void mouseDragged(MouseEvent arg0) {
        pointend = arg0.getPoint();
        // ==========================================================================
        //          call repaint:

        repaint();

        // ==========================================================================
    } 
```

和我的`paint`方法：

```
public void paint(Graphics g){
    super.paint(g); //here I have my breakpoint in debugger
    g.translate(currentx, currenty);
    if(pointstart!=null){
        g.setClip(chartPanel.getBounds());
        g.setColor(Color.BLACK);
        g.drawLine(pointstart.x, pointstart.y, pointend.x, pointend.y);
    }
} 
```

在初始化方法中：

```
currentx = chartPanel.getLocationOnScreen().x;
currenty = Math.abs(chartPanel.getLocationOnScreen().y - frame.getLocationOnScreen().y); 
```

所有在课堂上，这是我的工作框架，它扩展了`JFrame`.

问题是，该程序没有`call`绘制方法。我在调试器中检查了它。我试过这样做`paintComponent`，没有`super.paint(g)`。最好的是，我从另一个项目中复制的代码可以正常工作。

更新：这是我想在面板上画线的代码（无论 - 面板/图表面板/等）。而且它不会画画。我尝试通过 paint(Graphics g){super.paint(g) ..... } 来做到这一点，但它也没有。单击“线条”按钮后应该可以绘画。

```
import java.awt.Color;
import java.awt.EventQueue;
import java.awt.Graphics;
import java.awt.Point;
import javax.swing.JFrame;
import javax.swing.JPanel;
import java.awt.BorderLayout;
import javax.swing.JButton;
import javax.swing.JToolBar;
import javax.swing.SwingConstants;
import javax.swing.JScrollPane;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.MouseMotionListener;

public class Window extends JFrame {
private JFrame frame;
public JPanel panelbuttons;
public JPanel panelscrollpane;
public JButton btnLine;
public JToolBar toolBar;
public JScrollPane scrollPane;
public JPanel panel;

public static void main(String[] args) {
    EventQueue.invokeLater(new Runnable() {
        public void run() {
            try {
                Window window = new Window();
                window.frame.setVisible(true);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    });
}

public Window() {
    initialize();
}

private void initialize() {
    frame = new JFrame();
    frame.setBounds(100, 100, 644, 430);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    panel = new JPanel();

    panelbuttons = new JPanel();
    frame.getContentPane().add(panelbuttons, BorderLayout.WEST);
    panelbuttons.setLayout(new BorderLayout(0, 0));

    toolBar = new JToolBar();
    toolBar.setOrientation(SwingConstants.VERTICAL);
    panelbuttons.add(toolBar, BorderLayout.WEST);

    btnLine = new JButton("line");
    btnLine.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent arg0) {
            panel.addMouseListener(mouselistenerLine);
            panel.addMouseMotionListener(mousemotionlistenerLine);
        }
    });
    toolBar.add(btnLine);

    panelscrollpane = new JPanel();
    frame.getContentPane().add(panelscrollpane, BorderLayout.CENTER);
    panelscrollpane.setLayout(new BorderLayout(0, 0));

    scrollPane = new JScrollPane(panel);
    panel.setLayout(new BorderLayout(0, 0));
    scrollPane.setViewportBorder(null);
    panelscrollpane.add(scrollPane);
    panelscrollpane.revalidate();
}

    Point pointstart = null;
    Point pointend = null;

private MouseListener mouselistenerLine = new MouseListener() {

        @Override
        public void mouseReleased(MouseEvent e) {
            System.out.println("I'm in first listener. - mouse Released");
            pointstart = null;
        }

        @Override
        public void mousePressed(MouseEvent e) {
            System.out.println("I'm in first listener. - mousePressed");
            pointstart = e.getPoint();
        }

        @Override
        public void mouseExited(MouseEvent e) {
        }

        @Override
        public void mouseEntered(MouseEvent e) {
        }

        @Override
        public void mouseClicked(MouseEvent e) {
        }

    };

    private MouseMotionListener mousemotionlistenerLine = new MouseMotionListener() {

            @Override
            public void mouseMoved(MouseEvent e) {
                System.out.println("I'm in second listener. - mouseMoved");
                pointend = e.getPoint();
            }

            @Override
            public void mouseDragged(MouseEvent arg0) {
                System.out.println("I'm in second listener. - mouseDragged");
                pointend = arg0.getPoint();
                repaint();
            }

    };

    public void paintComponent(Graphics g){

        System.out.println("I'm in paintComponent method.");

        if(pointstart!=null){
            System.out.println("I'm drawing.");
            g.setClip(scrollPane.getBounds());
            g.setColor(Color.BLACK);
            g.drawLine(pointstart.x, pointstart.y, pointend.x, pointend.y);

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T10:32:40.433

您正在创建两个单独的 JFrame 实例并且只显示一个。
一个实例是因为`Window`类扩展`JFrame`而创建的，第二个是在`initialize`方法内部创建的。

要在不对代码进行大量更改的情况下解决此问题，请执行以下操作：

```
private void initialize() {
    frame = this;
    frame.setBounds(100, 100, 644, 430);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); 
```

顺便提一句。更改`paintComponent(Graphic g)`为`paint(Graphic g)`因为`JFrame`不是`JComponent`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T13:53:01.827

在`ChartPanel`上下文中，考虑其中一个，`org.jfree.chart.annotations`例如[此处](https://stackoverflow.com/a/6802375/230513)和[此处](https://stackoverflow.com/a/6802375/230513)`XYLineAnnotation`所示。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T12:32:57.800

调用`repaint()`将触发您的`paint(Graphics g)`方法被调用。因此，您不必显式调用`paint()`.

# iphone - 有没有办法在 iOS 中以编程方式打开和关闭 vpn

> ID：12196859
> 
> 赞同：0
> 
> 时间：2012-08-30T12:29:19.160
> 
> 标签：iphone, ios, vpn

有没有办法在 iOS 中以编程方式打开和关闭 vpn？

我需要知道适用于 VPN 的 iOS 私有 API

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:38:07.370

*两天前问了同样的问题。不幸的是，到目前为止还没有 api/framework。但是，CISCO 和瞻博网络应用程序使用它们的私有框架来实现这一点。就目前而言，除了要求用户更改设置外，我们无法以编程方式做任何事情。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:31:07.943

不，现在无法切换 VPN、Wi-Fi 或蓝牙。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:31:57.943

不，iOS 不允许访问数据网络相关设置。

# php - 如何更改php文件的扩展名

> ID：12196866
> 
> 赞同：3
> 
> 时间：2012-08-30T12:29:48.097
> 
> 标签：php, .htaccess, core

我想更改 php 文件的扩展名。例如在浏览器中调用文件 home.php 它应该显示为 home.html。我可以通过在配置文件中使用**后缀**变量在 codeigniter 中完成它。但是我如何在核心 php 中实现它？我认为它可以通过 .htaccess 文件完成，也可以通过其他方式完成，但该怎么做？请告诉我。

我尝试：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1.html 
```

通过使用上面的代码我尝试但它没有改变？或者如果有任何其他方法可以做到这一点，请告诉我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T12:32:35.490

使用此规则：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)\.html$ $1.php [L] 
```

它将任何对 html 文件（实际不存在）的请求重定向到 php 文件。

# gwt - GWT 单元格表自动刷新

> ID：12196867
> 
> 赞同：1
> 
> 时间：2012-08-30T12:29:50.390
> 
> 标签：gwt

我在其中一个屏幕上有一个 GWT 单元表，其中填充了来自服务的数据。
要求是我必须为该单元格表提供自动刷新功能，以便用户可以每 5 分钟查看一次最新数据。
我在
我搜索了很多但找不到任何可行的解决方案的项目中使用 GWT 和活动和地点。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:05:53.643

对于这种类型的功能，如果 gwt 没有提供任何 API，那么您应该进行自定义实现。在此您需要编写一个过期值为 5 分钟的计时器。当计时器过期时，您需要调用您的服务来获取数据并将其呈现到 GWT 单元表中。

[这](http://coffeewithcode.com/2011/11/client-side-session-time-out-in-gwt/)是显示使用计时器的链接。它不是完全正确的，但它可以帮助您创建自己的 5 分钟计时器。希望这会帮助你。

# mysql - 无法停止Mysql

> ID：12196873
> 
> 赞同：3
> 
> 时间：2012-08-30T12:30:15.103
> 
> 标签：mysql

我想停止 mysql 以便在救援模式下启动它以检索我的 mysql 密码，但它向我显示一条错误消息并且不会停止。

```
service mysql stop 
```

输出：

> stop：拒绝发送消息，1 个匹配规则；type="method_call", sender=":1.131" (uid=1000 pid=7640 comm="stop mysql") interface="com.ubuntu.Upstart0_6.Job" member="Stop" error name="(unset)" requested_reply="0" 目的地="com.ubuntu.Upstart" (uid=0 pid=1 comm="/sbin/init")

的输出

etc/init.d/mysql 停止

> 不要通过 /etc/init.d 调用初始化脚本，而是使用 service(8) 实用程序，例如 service mysql stop
> 
> 由于您尝试调用的脚本已转换为 Upstart 作业，您还可以使用 stop(8) 实用程序，例如 stop mysql stop: Rejected send message, 1 match rules; type="method_call", sender=":1.129" (uid=1000 pid=7246 comm="stop mysql") interface="com.ubuntu.Upstart0_6.Job" member="Stop" error name="(unset)" requested_reply="0" destination="com.ubuntu.Upstart" (uid=0 pid=1 comm="/sbin/init") subhransu@subhransu-Inspiron-1545:~$ service mysql stop stop: 拒绝发送消息，1匹配规则；type="method_call", sender=":1.130" (uid=1000 pid=7400 comm="stop mysql") interface="com.ubuntu.Upstart0_6.Job" member="Stop" error name="(unset)"请求回复=“

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T12:34:45.567

尝试：

```
sudo service mysql stop 
```

您必须是 root 才能启动和停止 mysql 服务器。

如果您不是 root，您必须是 sudo 用户，您必须使用命令 sudo 并且您必须知道您的 sudo 密码。

# php - JSON.parse：数据意外结束

> ID：12196877
> 
> 赞同：1
> 
> 时间：2012-08-30T12:30:22.740
> 
> 标签：php, javascript, jquery

下面的代码在我的本地机器 (WAMP) 中运行良好，但在实时 LINUX 机器上总是失败并出现此错误：**JSON.parse: unexpected end of data**

是与环境有关还是我遗漏了什么？我查看了其他帖子，但未能解决问题。

我正在使用 jquery 1.8.0 版本。

```
$(document).ready(function()
{
   $("#run").click(function(event)
   {
      $('#run').hide();
      $('#loader').fadeIn(1000);

      $.ajax(
      {
         type       : 'POST',
         url        : 'process.php',
         data       : 'user=jolly',
         dataType   : 'json',
         success        : function(response)
         {
             $('#loader').stop(true).fadeOut(function ()
             {
                  if (response.status == 'goodjob')
                  {
                      $('#tick').fadeIn(1000, function ()
                      {
                          $('#script').fadeIn(1000);
                      });
                  }
                  else
                  {
                      $('#cross').fadeIn(1000);
                  }
              });
          },
          error: function (jqXHR, textStatus, errorThrown)
          {
              alert(textStatus + '---' + errorThrown);
          }
      });
   });
});

<div id="first">
   <img id="run" src="run.png" />
   <img id="loader" src="loader.png" style="display:none;" />
   <img id="success" src="success.png" style="display:none;" />
   <img id="fail" src="fail.png" style="display:none;" />
</div>
<div id="next" style="display:none;">
   ....
   ....
</div> 
```

**进程.php**

```
echo json_encode(array('status' => 'goodjob')); 
```

# android - Andengine 游戏力量随着设备方向的改变而恢复

> ID：12196880
> 
> 赞同：0
> 
> 时间：2012-08-30T12:30:36.290
> 
> 标签：android, andengine

我使用`andengine`PORTRAIT_FIXED开发了一款游戏`ScreenOrientation`。这是平板电脑中出现的问题。

简单地说，在玩游戏时 > 按电源按钮关闭屏幕 > 再次按电源按钮恢复 > 锁定屏幕 > 将设备方向更改为横向 > 解锁锁定屏幕 > 活动无响应对话框

在手机中不会出现此问题。但是在平板电脑中，如果我更改设备的屏幕方向，就会发生这种`ANR`情况。请帮我解决这个问题。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:35:49.263

在 Manifest xml 中尝试以下代码：

```
 <activity
        android:name="..."
        android:configChanges="orientation|locale"
        android:screenOrientation="portrait" /> 
```

# css - 流出div的文字

> ID：12196885
> 
> 赞同：129
> 
> 时间：2012-08-30T12:30:46.833
> 
> 标签：css, border

当文本**没有空格** 并且**超过 div 大小 200px**时，它会流出宽度定义为 200px 我已经把我的代码放在这里[http://jsfiddle.net/madhu131313/UJ6zG/](http://jsfiddle.net/madhu131313/UJ6zG/) 你可以看到下面的图片 **编辑**：我想要转到下一行的文本

![在此处输入图像描述](../Images/028632a61f81307c74570b68e45e2e3f.png)

![在此处输入图像描述](../Images/7518adea14df67d36806dedcda7f1a76.png)

* * *

## 回答 #1

> 赞同：227
> 
> 时间：2012-08-30T12:42:16.557

这是因为你有一个没有空格的长单词。您可以使用该`word-wrap`属性使文本中断：

```
#w74 { word-wrap: break-word; } 
```

它也有相当好的浏览器支持。[在此处查看有关它的文档](https://developer.mozilla.org/en-US/docs/CSS/word-wrap)。

* * *

## 回答 #2

> 赞同：126
> 
> 时间：2014-12-30T05:55:09.480

利用

```
white-space: pre-line; 
```

它将防止文本流出`div`. 当文本到达`div`.

* * *

## 回答 #3

> 赞同：34
> 
> 时间：2012-08-30T12:32:31.903

您应该使用`overflow:hidden;` 或`scroll`

[http://jsfiddle.net/UJ6zG/1/](http://jsfiddle.net/UJ6zG/1/)

或者使用 php 你可以缩短长词......

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2018-01-14T21:13:21.640

您需要将以下 CSS 属性应用于容器块 (div)：

```
overflow-wrap: break-word; 
```

根据规范（来源[CSS | MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-wrap)）：

> CSS 属性指定浏览器`overflow-wrap`是否应在单词中插入换行符以防止文本溢出其内容框。

将值设置为`break-word`

> 为防止溢出，如果行中没有其他可接受的断点，通常不可破坏的单词可能会在任意点被破坏。

值得一提...

> 该属性最初是一个名为 的非标准且无前缀的 Microsoft 扩展`word-wrap`，由大多数同名浏览器实现。它已被重命名为`overflow-wrap`，并`word-wrap`作为别名。

* * *

如果您关心旧版浏览器的支持，则值得同时指定：

```
word-wrap    : break-word;
overflow-wrap: break-word; 
```

前任。**IE9**无法识别`overflow-wrap`但可以正常使用`word-wrap`

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2012-08-30T12:47:56.757

使用`overflow:auto`它将为您的文本提供滚动条`div`:)。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2018-04-06T18:00:37.093

如果这有帮助。将以下具有值的属性添加到您的选择器：

```
white-space: pre-wrap; 
```

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2019-12-20T09:57:34.460

这对我有用：

`{word-break: break-all; }`

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2021-04-04T10:39:13.397

这个技巧对我有用：

```
{
  word-break: break-all;
  white-space: pre-wrap;
} 
```

[空格](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)
[分词](https://developer.mozilla.org/en-US/docs/Web/CSS/word-break)

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-03-30T14:29:37.043

我最近遇到了这个。我用了：`display:block;`

* * *

## 回答 #10

> 赞同：-6
> 
> 时间：2014-01-27T00:12:50.153

如果它只是一个需要包裹 2 或 3 行的实例，我会`<wbr>`在字符串中使用一些。它会像对待那些一样对待，`<br>`但如果没有必要，它不会插入换行符。

```
<div id="w74" class="dpinfo">
adsfadsadsads<wbr>fadsadsadsfadsadsa<wbr>dsfadsadsadsfadsadsads<wbr>fadsadsadsfadsadsadsfa<wbr>dsadsadsfadsadsadsfadsad<wbr>sadsfadsadsads<wbr>fadsadsadsfadsads adsfadsads
</div> 
```

这是一个小提琴。

[http://jsfiddle.net/gaby_de_wilde/UJ6zG/37/](http://jsfiddle.net/gaby_de_wilde/UJ6zG/37/)

# opencv - opencv - 使用特征检测的对象跟踪

> ID：12196889
> 
> 赞同：9
> 
> 时间：2012-08-30T12:30:54.337
> 
> 标签：opencv, feature-detection

我想在视频中跟踪一个对象（例如，一个移动的球）。参考 opencv 教程 - 'Features2D + Homography to find a known object'，我已经能够通过提供参考图像在静止图像中跟踪我的对象。我计划使用参考图像从输入视频的第一帧中检测移动对象。对于下一帧，在前一帧中检测到的对象应作为参考图像，依此类推。

但我不知道如何从它的描述符中找回一个对象。包含多个对象的图像将具有多个关键点，但是如何找到关键点或一组关键点属于图像中的哪个对象。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T06:52:40.867

假设您有一张对象的图片（参考图像），并且您检测特征并提取关键点。为了在场景中使用从 2D 图像到 3D 坐标的单应性变换，您的对象**应该是平面**的。

现在，您必须处理帧，从场景中提取关键点。允许您检测对象的是参考图像中的关键点与场景中的关键点的**匹配。**

您的对象被检测到，但如果您想知道它的 3D 位置，您必须使用**findHomography()**与匹配的对（它将使用整个集合中的四个匹配）。

所以关键是匹配。从阅读[以下](http://docs.opencv.org/2.4.2/doc/tutorials/features2d/feature_flann_matcher/feature_flann_matcher.html)内容开始：

# android - 如何使用单独的应用清除所有通知？

> ID：12196892
> 
> 赞同：1
> 
> 时间：2012-08-30T12:30:58.523
> 
> 标签：android, notificationmanager

是否可以在 android 上制作一个图标，单击该图标会清除所有通知，例如短信、电子邮件、未接来电等？我只想在我的主屏幕上有一个图标来清除所有通知。我会使用什么编码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T13:00:32.337

`cancel(notificationID)`您在哪里传递您创建的通知的通知 ID

否则，您可以通过 清除所有通知`cancelAll()`。

***注意：***只能删除您的应用程序创建的通知。您**不能**删除由其他应用程序创建的通知。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:56:23.210

您只能删除`Notification`您自己提出的。您不能删除`Notification`由另一个应用程序引发的。

# javascript - 是什么 ？？！Javascript中的运算符？

> ID：12196896
> 
> 赞同：1
> 
> 时间：2012-08-30T12:31:01.533
> 
> 标签：javascript, syntax

当我在寻找一些网站的 Javascript 代码时，我看到了这个

```
function hrefLeftMenu() {
    var x = true;
    for (i in info) {
        $(".leftmenu ul").append("<li" + (x ? " class='active'" : "") + " onclick='openAnInfo(\"" + i + "\", this);'> - " + info[i].title + "</li>");
        x = x??!x;
    }
    openAnInfo("0", ".lelelesakineyy");
} 
```

它在javascript中做了什么？为什么编码器使用这个运算符？

谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-30T12:33:26.393

> 它在javascript中做了什么？

它会引发语法错误。

```
> x = x??!x;
SyntaxError: Unexpected token ? 
```

> 为什么编码器使用这个运算符？

进行合理的猜测（除了“他们犯了一个错误”）需要更多的上下文。肯定地说需要读心术:)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T12:38:32.703

在 JavaScript 中，这不是有效的代码。但是，该序列在 C 中以[三元组](http://en.wikipedia.org/wiki/Digraphs_and_trigraphs#C)`??!`的形式存在（存在？），表示. 也许那不是 JavaScript 代码，或者它是从古老的 C 代码移植得不好。但即便如此，也很难称得上是有用的陈述。`|``x = x | x`

**编辑：**现在问题中有一点背景，这种猜测可能是错误的。一位朋友建议该序列可能`x??`是一个错字，随后尝试更正它，其中退格被一些中间修饰（在终端或通过 SSH 键入时并不罕见）变成了一个字符，并且有问题的行应该是`x = !x`.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-30T12:44:22.423

我认为这是一个错误。他们正在生成一个菜单并`x`用于将一个项目设置为活动状态，看起来他们希望默认选择第一个项目。他们希望`x`第一次是真的，然后是假的。它可能应该是这样的

```
x = x?!x:x; // If first time through, then set x = false for the rest 
```

又名

```
x = false; // Set x = false for the rest 
```

但是混乱/混乱的思维导致过度复杂化。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T12:39:36.590

这是一个错误吗？

你是这个意思吗？

```
x= x?x:!x; 
```

# javascript - 用于跨站点脚本的 API？

> ID：12196899
> 
> 赞同：0
> 
> 时间：2012-08-30T12:31:21.020
> 
> 标签：javascript, xss, same-origin-policy

有没有办法用 javascript 向非合作网站发送 HTTP 请求？我知道这是因为同源策略而被禁止的，但是有什么方法可以做到，包括实验性 API、Java 小程序、Flash、浏览器扩展、隐藏设置、特殊证书等？如果用户必须明确授予我的页面权限才能访问其他站点，那很好，实际上这是非常合理的。

背景：我正在尝试通过抓取多个站点的 html 来进行一种混搭，我想从用户的 IP 地址而不是我的服务器中进行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T09:17:59.787

只是一个想法 - 如果这些网站中的任何一个使用 JQuery - 这种隧道方法可能会起作用： [http ://benv.ca/2011/3/7/subdomain-tunneling-with-jquery-and-document-domain/](http://benv.ca/2011/3/7/subdomain-tunneling-with-jquery-and-document-domain/)

在您网站的页面中创建一个 iframe，将另一个网站的页面加载到其中，将页面的 jquery ajax 对象替换为 iframe 中的对象 - 您可以开始使用了！

如果您尝试，请告诉我:)

# php - 在有间隙的数组中查找总年份跨度

> ID：12196910
> 
> 赞同：-2
> 
> 时间：2012-08-30T12:31:58.207
> 
> 标签：php, arrays, bar-chart

我需要为这个数组绘制一个堆积条形图，它应该有 2 个条形图，间隔为 2 年（从年`1998`到`2000`）

问题：第一条应该是这样的，

```
*1998-1997* - *2 years gap*  - *2000-2008* 
```

条形应该合并较短的年份，就像它在`2000`从`array0`和`2008`取自时所做的那样`array 1`

```
Array
(
    [comp_name] => C++
    [parent_cat_name] => Information Technology
    [sub_cat_name] => Programming
    [total_years] => 6
    [last_year] => 2006
    [start_year] => 2000
)

Array
(
    [comp_name] => .NET
    [parent_cat_name] => Information Technology
    [sub_cat_name] => Programming
    [total_years] => 7
    [last_year] => 2008
    [start_year] => 2001
)

Array
(
    [comp_name] => API
    [parent_cat_name] => Information Technology
    [sub_cat_name] => Programming
    [total_years] => 1
    [last_year] => 1998
    [start_year] => 1997
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:45:07.060

您想要合并两个数组项，如果它们根据某些条件相邻并且在某些其他字段上具有某些相等条件。

你可能会这样做：

```
for(;;)
{
    $merge = array();
    $n     = count($data);
    for ($i = 0; empty($merge) && $i < $n-1; $i++)
    {
        for ($j = $i+1; empty($merge) &&  $j < $n; $j++)
        {
            // Are $i and $j congruent?
            if ($data[$i]['parent_cat_name'] != $data[$j]['parent_cat_name'])
               continue;
            if ($data[$i]['sub_cat_name'] != $data[$j]['sub_cat_name'])
               continue;

            // Are $i and $j adjacent?
            if ($data[$i]['last_year']+1 == $data[$j]['start_year'])
            {
                $merge = array($i, $j);
                break;
            }
            if ($data[$j]['last_year']+1 == $data[$i]['start_year'])
                $merge = array($j, $i);
                break;
            }
            // They are congruent but not adjacent, try the next
        }
    }
    // If we get to the end and find nothing mergeable, exit.
    if (empty($merge))
        break;
    list($i, $j) = $merge;
    // We add $j to $i
    $data[$i]['last_year'] = $data[$j]['last_year']
    $data[$i]['total_years'] += $data[$j]['total_years']
    // We destroy $j
    unset($data[$j]);
    // Dirty renumber
    $data = array_values($data);
    // Now data has been modified, let's do this again.
} 
```

# css - 在输入文件上放置超链接

> ID：12196911
> 
> 赞同：0
> 
> 时间：2012-08-30T12:32:00.743
> 
> 标签：css

如何使用 CSS 在文本框上放置超链接？

```
<a href="#" id="up">click</a>
<input type="file"></input> 
```

我想隐藏文件输入并使超链接在文件输入上可见，以便向用户显示他正在单击超链接来浏览他的文件而不是文件输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:41:29.990

您可以将输入的不透明度设置为 0，因此它是不可见的，然后只需`<p>`在顶部放置一个标签（或者`<a>`如果您愿意。

```
<div id="container">
<p>Browse</p>
<input type="file"/>
</div> 
```

而这个 CSS

```
#container input {
   opacity: 0;
   height:30px;
   width:100px;
}
#container{
   height:30px;
   width:100px;
    background-color:#ccc;
}
#container p {
   position:absolute;
   text-align:center;
   height:30px;
   width:100px;
} 
```

这样你就可以把你的按钮设计`<p>`成一些很棒的按钮:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:47:55.917

见这篇文章：www.quirksmode.org/dom/inputfile.html

它涵盖了所有不同的方法，但是您将不得不使用图像，而不是链接。

# wpf - 以编程方式缩小网页浏览器中的网页

> ID：12196913
> 
> 赞同：0
> 
> 时间：2012-08-30T12:32:16.223
> 
> 标签：wpf, silverlight, windows-phone-7, windows-phone-7.1

在我的应用程序中，我创建了一个网页浏览器，其中页面以缩放视图加载。我需要默认页面处于缩小位置。是否可能。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T14:38:09.257

最好的方法是使用 Javascript。您可以从 C# 运行脚本。

这里有一个示例：http: [//blogs.msdn.com/b/mikeormond/archive/2010/08/26/calling-javascript-functions-in-windows-phone-7.aspx](http://blogs.msdn.com/b/mikeormond/archive/2010/08/26/calling-javascript-functions-in-windows-phone-7.aspx)

# c# - 发布后如何休息下拉列表

> ID：12196916
> 
> 赞同：0
> 
> 时间：2012-08-30T12:32:22.247
> 
> 标签：c#

当用户单击提交按钮时，试图在我的 c# Web 应用程序中休息我的 DropDownList。回发时如何将其重置为默认值？有人可以给我一个例子吗？

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:35:44.547

您可以尝试使用此代码

```
DropDownList.ClearSelection(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:36:47.947

```
if(IsPostBack)
 {
   dropdownlist.DataSource=null;
   dropdownlist.DataBind();

   } 
```

# html - 尽管居中对齐，Lightbox2 div标签仍向左对齐

> ID：12196921
> 
> 赞同：0
> 
> 时间：2012-08-30T12:32:49.517
> 
> 标签：html, css, dreamweaver, lightbox2

我正在使用 Dreamweaver CS5 设计一个网站。我已经下载了[Lightbox2](http://lokeshdhakar.com/projects/lightbox2/)并将其集成到网站中。一切正常，除了缩略图总是左对齐不管我做什么。我正在使用以下代码来实现灯箱功能：

```
<div class="imageRow">                     
<div class="single">
      <div align="center">
        <p>&nbsp;</p>
        <p><a href="images/Milkshake2.png" rel="lightbox"><img src="images/Milkshake2.png" alt="" width="177" height="113" /></a></p>
        <p>&nbsp;</p>
      </div>
    </div>
    </div> 
```

这会产生以下结果：

![左对齐](../Images/31cf7729698558c3975290245fea3efd.png)

但是，如果我删除 imageRow div 标签，我会得到以下信息：

![居中对齐](../Images/7fb3228fe9ff30c5bad5e3d12124d32f.png)

这让我相信问题出在 imageRow 代码中。这是CSS文件：

```
 /* Lightbox v2 Project page styles 
 *  Author: Lokesh Dhakar http://www.lokeshdhakar.com
 *  Created: a long time ago (2006 I think)
 *  Table of Contents:
 *      layout
 *      typography
 *    content */
/* line 17, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}

/* line 20, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
body {
  line-height: 1;
}

/* line 22, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
ol, ul {
  list-style: none;
}

/* line 24, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
table {
  border-collapse: collapse;
  border-spacing: 0;
}

/* line 26, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
caption, th, td {
  text-align: left;
  font-weight: normal;
  vertical-align: middle;
}

/* line 28, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
q, blockquote {
  quotes: none;
}
/* line 101, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
q:before, q:after, blockquote:before, blockquote:after {
  content: "";
  content: none;
}

/* line 30, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
a img {
  border: none;
}

/* line 114, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/reset/_utilities.scss */
article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section, summary {
  display: block;
}

/* layout
 *----------------------------------------------- */
/* line 18, ../sass/screen.sass */
#sidebar {
  position: fixed;
  top: 40px;
  left: 40px;
  width: 200px;
}

/* line 24, ../sass/screen.sass */
#content {
  margin: 0 40px 40px 280px;
}

/* line 27, ../sass/screen.sass */
.row {
  *zoom: 1;
}
/* line 38, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/utilities/general/_clearfix.scss */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Typography
 *----------------------------------------------- */
/* line 33, ../sass/screen.sass */
body {
  background: #222222 url(../images/bg-checker.png);
}

/* line 36, ../sass/screen.sass */
body, input, textarea {
  color: white;
  text-shadow: 0 -1px 0 black;
  font-size: 16px;
  line-height: 1.625em;
  font-family: "Open Sans", "lucida grande", tahoma, sans-serif;
  font-weight: 600;
  -webkit-font-smoothing: antialiased;
}

/* line 45, ../sass/screen.sass */
#lightbox {
  text-shadow: none;
}

/* line 48, ../sass/screen.sass */
h1, h2, h3, h4, h5, h6 {
  font-family: "Fredoka One", "lucida grande", tahoma, sans-serif;
  font-weight: 400;
  letter-spacing: 0.03em;
  line-height: 1.625em;
  margin: 0;
  color: #d0eb6a;
}

/* line 56, ../sass/screen.sass */
h1 {
  font-size: 40px;
  line-height: 1.2em;
}

/* line 60, ../sass/screen.sass */
h2 {
  font-size: 34px;
  line-height: 1.45em;
  margin-bottom: 0.2em;
}

/* line 65, ../sass/screen.sass */
h3 {
  font-size: 16px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #88a616;
}

/* line 71, ../sass/screen.sass */
h4 {
  font-size: 16px;
}

/* Text elements */
/* line 77, ../sass/screen.sass */
p {
  margin: 0 0 1.25em 0;
  line-height: 1.625em;
}

/* line 81, ../sass/screen.sass */
ul, ol {
  margin: 0 0 1.25em 0;
}

/* line 84, ../sass/screen.sass */
dt {
  font-weight: bold;
}

/* line 87, ../sass/screen.sass */
dd {
  margin-bottom: 1.625em;
}

/* line 90, ../sass/screen.sass */
strong {
  font-weight: bold;
}

/* line 93, ../sass/screen.sass */
i {
  font-style: italic;
}

/* line 96, ../sass/screen.sass */
pre {
  background: rgba(0, 0, 0, 0.4);
  color: #e7931a;
  font: 14px Monaco, Consolas, "Andale Mono", "DejaVu Sans Mono", monospace;
  line-height: 1.5;
  margin: 20px 0 20px 0;
  overflow: auto;
  padding: 1em;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1), inset 0 2px 6px 2px black;
  -moz-box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1), inset 0 2px 6px 2px black;
  box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1), inset 0 2px 6px 2px black;
}

/* line 107, ../sass/screen.sass */
code, kbd {
  font: 14px Monaco, Consolas, "Andale Mono", "DejaVu Sans Mono", monospace;
  background: rgba(0, 0, 0, 0.4);
  -webkit-box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1), inset 0 2px 6px 2px black;
  -moz-box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1), inset 0 2px 6px 2px black;
  box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1), inset 0 2px 6px 2px black;
  padding: 5px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  color: #e7931a;
}

/* line 115, ../sass/screen.sass */
pre code {
  font-size: 13px;
  background: transparent;
  -webkit-box-shadow: none;
  -moz-box-shadow: none;
  box-shadow: none;
  padding: 0;
}

/* Links */
/* line 122, ../sass/screen.sass */
a {
  color: #8ad459;
  text-decoration: none;
}
/* line 125, ../sass/screen.sass */
a:hover {
  color: #589e29;
}

/* line 128, ../sass/screen.sass */
::-moz-selection,
::selection {
  background: #e7931a;
  color: white;
}

/* sidebar
 *----------------------------------------------- */
/* line 137, ../sass/screen.sass */
#sidebar {
  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=60);
  opacity: 0.6;
  -webkit-transition: opacity 0.2s;
  -moz-transition: opacity 0.2s;
  -ms-transition: opacity 0.2s;
  -o-transition: opacity 0.2s;
  transition: opacity 0.2s;
}
/* line 140, ../sass/screen.sass */
#sidebar:hover {
  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);
  opacity: 1;
}
/* line 142, ../sass/screen.sass */
#sidebar a {
  color: white;
}
/* line 144, ../sass/screen.sass */
#sidebar .logo {
  -webkit-transition: all 0.2s ease-out;
  -moz-transition: all 0.2s ease-out;
  -ms-transition: all 0.2s ease-out;
  -o-transition: all 0.2s ease-out;
  transition: all 0.2s ease-out;
}
/* line 146, ../sass/screen.sass */
#sidebar .logo em {
  color: #8ad459;
}
/* line 148, ../sass/screen.sass */
#sidebar .logo:hover {
  text-shadow: 0 0 20px #d0eb6a, 0 0 50px #d0eb6a;
}
/* line 150, ../sass/screen.sass */
#sidebar .author {
  font-weight: 800;
  line-height: 1.4em;
}
/* line 154, ../sass/screen.sass */
#sidebar .author a:hover {
  text-shadow: 0 0 10px white;
}
/* line 156, ../sass/screen.sass */
#sidebar .author .twitter {
  font-size: 14px;
}
/* line 158, ../sass/screen.sass */
#sidebar .author .twitter a {
  color: #4d9ed8;
}
/* line 160, ../sass/screen.sass */
#sidebar .author .twitter em {
  color: #4d9ed8;
}

/* line 163, ../sass/screen.sass */
#nav {
  list-style: none;
  margin: 1.5em 0 1em 0;
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-family: "Fredoka One", "lucida grande", tahoma, sans-serif;
}
/* line 170, ../sass/screen.sass */
#nav li {
  padding: 0;
  margin: 0;
}
/* line 173, ../sass/screen.sass */
#nav a {
  display: block;
  height: 2em;
  padding: 0.6em 0.2em 0.3em 20px;
  background: #505050;
  border-top: 1px solid rgba(255, 255, 255, 0.15);
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  -webkit-transition: all 0.2s ease-out;
  -moz-transition: all 0.2s ease-out;
  -ms-transition: all 0.2s ease-out;
  -o-transition: all 0.2s ease-out;
  transition: all 0.2s ease-out;
}
/* line 181, ../sass/screen.sass */
#nav a:hover {
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.6);
  background-color: #88a616;
}
/* line 184, ../sass/screen.sass */
#nav a.first {
  border-bottom-color: rgba(0, 0, 0, 0.5);
  -moz-border-radius-topleft: 4px;
  -webkit-border-top-left-radius: 4px;
  -ms-border-top-left-radius: 4px;
  -o-border-top-left-radius: 4px;
  border-top-left-radius: 4px;
  -moz-border-radius-topright: 4px;
  -webkit-border-top-right-radius: 4px;
  -ms-border-top-right-radius: 4px;
  -o-border-top-right-radius: 4px;
  border-top-right-radius: 4px;
  border-top-color: transparent;
}
/* line 188, ../sass/screen.sass */
#nav a.last {
  border-top-color: rgba(255, 255, 255, 0.25);
  -moz-border-radius-bottomleft: 4px;
  -webkit-border-bottom-left-radius: 4px;
  -ms-border-bottom-left-radius: 4px;
  -o-border-bottom-left-radius: 4px;
  border-bottom-left-radius: 4px;
  -moz-border-radius-bottomright: 4px;
  -webkit-border-bottom-right-radius: 4px;
  -ms-border-bottom-right-radius: 4px;
  -o-border-bottom-right-radius: 4px;
  border-bottom-right-radius: 4px;
}

/* content
 *----------------------------------------------- */
/* line 196, ../sass/screen.sass */
.download {
  float: left;
  margin: 0 40px 40px 0;
  padding: 10px 20px 10px 10px;
  background-color: #333333;
  border: 5px solid #333333;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  -webkit-transition: all 0.2s ease-out;
  -moz-transition: all 0.2s ease-out;
  -ms-transition: all 0.2s ease-out;
  -o-transition: all 0.2s ease-out;
  transition: all 0.2s ease-out;
}
/* line 204, ../sass/screen.sass */
.download:hover {
  border-color: #8ad459;
  background-color: #444444;
}
/* line 207, ../sass/screen.sass */
.download .box {
  float: left;
}
/* line 209, ../sass/screen.sass */
.download .file {
  float: left;
  font-size: 36px;
  font-family: "Fredoka One", "lucida grande", tahoma, sans-serif;
  font-weight: 400;
  color: white;
  line-height: 1.1em;
}
/* line 216, ../sass/screen.sass */
.download .file .version {
  font-size: 24px;
  color: #8ad459;
}

/* line 221, ../sass/screen.sass */
.filelist {
  float: left;
  font-size: 12px;
  font-family: Monaco, Consolas, "Andale Mono", "DejaVu Sans Mono", monospace;
  line-height: 1.5em;
}
/* line 226, ../sass/screen.sass */
.filelist .header {
  text-transform: uppercase;
  font-weight: bold;
}
/* line 229, ../sass/screen.sass */
.filelist .folder {
  color: #999999;
}
/* line 231, ../sass/screen.sass */
.filelist .note {
  color: #999999;
}

/* line 235, ../sass/screen.sass */
.changelog {
  margin-bottom: 0.5em;
}
/* line 237, ../sass/screen.sass */
.changelog li {
  list-style: none;
  padding: 0 0 0 14px;
  background: url(../images/bullet.gif) no-repeat 0 11px;
  color: #999999;
}
/* line 242, ../sass/screen.sass */
.changelog li .version {
  color: #88a616;
}
/* line 244, ../sass/screen.sass */
.changelog li .date {
  color: white;
}
/* line 246, ../sass/screen.sass */
.changelog .old {
  display: none;
}

/* line 249, ../sass/screen.sass */
.showOlderChanges {
  color: #999999;
}

/* line 253, ../sass/screen.sass */
.forums {
  float: left;
  margin: 0 40px 40px 0;
  padding: 10px;
  background-color: #333333;
  border: 5px solid #333333;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  -webkit-transition: all 0.2s ease-out;
  -moz-transition: all 0.2s ease-out;
  -ms-transition: all 0.2s ease-out;
  -o-transition: all 0.2s ease-out;
  transition: all 0.2s ease-out;
}
/* line 261, ../sass/screen.sass */
.forums:hover {
  border-color: #8ad459;
  background-color: #444444;
}
/* line 264, ../sass/screen.sass */
.forums .speech {
  float: left;
  margin-right: 20px;
}
/* line 267, ../sass/screen.sass */
.forums .link {
  float: left;
  font-size: 36px;
  font-family: "Fredoka One", "lucida grande", tahoma, sans-serif;
  font-weight: 400;
  color: white;
  line-height: 1.1em;
}
/* line 274, ../sass/screen.sass */
.forums .link .sub {
  color: #8ad459;
}

/* line 278, ../sass/screen.sass */
#elsewhere .button {
  font-family: "Fredoka One", "lucida grande", tahoma, sans-serif;
  font-weight: normal;
  font-size: 24px;
  display: block;
  float: left;
  margin: 20px 20px 40px 0;
  padding: 10px 10px 10px 10px;
  background-color: #333333;
  border: 5px solid #333333;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  -webkit-transition: all 0.2s ease-out;
  -moz-transition: all 0.2s ease-out;
  -ms-transition: all 0.2s ease-out;
  -o-transition: all 0.2s ease-out;
  transition: all 0.2s ease-out;
  color: white;
}
/* line 291, ../sass/screen.sass */
#elsewhere .button:hover {
  background-color: #444444;
  border-color: #8ad459;
}

/* misc
 *----------------------------------------------- */
/* line 298, ../sass/screen.sass */
p.lead {
  font-size: 26px;
  font-weight: 600;
  line-height: 1.4em;
  margin-bottom: 0;
}

/* line 305, ../sass/screen.sass */
hr {
  height: 6px;
  background: #3d3d33;
  border: none;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  clear: both;
}

/* line 312, ../sass/screen.sass */
.section {
  padding: 40px 0;
}
/* line 314, ../sass/screen.sass */
.section:first-child {
  border-top: none;
}

/* line 317, ../sass/screen.sass */
.imageRow {
  *zoom: 1;
  margin: 20px 0;
  float: right;
}
/* line 38, ../../../../.rvm/gems/ruby-1.9.2-p290/gems/compass-0.12.1/frameworks/compass/stylesheets/compass/utilities/general/_clearfix.scss */
.imageRow:after {
  content: "";
  display: table;
  clear: both;
}
/* line 320, ../sass/screen.sass */
.imageRow .single {
  float: right;
}
/* line 322, ../sass/screen.sass */
.imageRow .single a {
  float: inherit;
  display: block;
  background: rgba(255, 255, 255, 0.1);
  padding: 7px;
  line-height: 1em;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  margin-right: 40px;
  -webkit-transition: all 0.2s ease-out;
  -moz-transition: all 0.2s ease-out;
  -ms-transition: all 0.2s ease-out;
  -o-transition: all 0.2s ease-out;
  transition: all 0.2s ease-out;
}
/* line 332, ../sass/screen.sass */
.imageRow .single a img {
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  border: 1px solid rgba(0, 0, 0, 0.3);
}
/* line 335, ../sass/screen.sass */
.imageRow .single a:hover {
  background-color: #8ad459;
}
/* line 337, ../sass/screen.sass */
.imageRow .set {
  float: right;
  background: rgba(255, 255, 255, 0.1);
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  -ms-border-radius: 4px;
  -o-border-radius: 4px;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  -webkit-transition: all 0.2s ease-out;
  -moz-transition: all 0.2s ease-out;
  -ms-transition: all 0.2s ease-out;
  -o-transition: all 0.2s ease-out;
  transition: all 0.2s ease-out;
}
/* line 343, ../sass/screen.sass */
.imageRow .set:hover {
  background: rgba(255, 255, 255, 0.2);
}
/* line 346, ../sass/screen.sass */
.imageRow .set .single a {
  background: none;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  -ms-border-radius: 0;
  -o-border-radius: 0;
  border-radius: 0;
  -webkit-box-shadow: none;
  -moz-box-shadow: none;
  box-shadow: none;
  margin-right: 0;
}
/* line 351, ../sass/screen.sass */
.imageRow .set .single a:hover {
  background-color: #8ad459;
  -webkit-box-shadow: 0 -1px 0 0 rgba(255, 255, 255, 0.2), 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0 -1px 0 0 rgba(255, 255, 255, 0.2), 0 1px 4px 0 rgba(0, 0, 0, 0.5);
  box-shadow: 0 -1px 0 0 rgba(255, 255, 255, 0.2), 0 1px 4px 0 rgba(0, 0, 0, 0.5);
}
/* line 355, ../sass/screen.sass */
.imageRow .set .single.first a {
  -moz-border-radius-topleft: 4px;
  -webkit-border-top-left-radius: 4px;
  -ms-border-top-left-radius: 4px;
  -o-border-top-left-radius: 4px;
  border-top-left-radius: 4px;
  -moz-border-radius-bottomleft: 4px;
  -webkit-border-bottom-left-radius: 4px;
  -ms-border-bottom-left-radius: 4px;
  -o-border-bottom-left-radius: 4px;
  border-bottom-left-radius: 4px;
}
/* line 358, ../sass/screen.sass */
.imageRow .set .single.last a {
  -moz-border-radius-topright: 4px;
  -webkit-border-top-right-radius: 4px;
  -ms-border-top-right-radius: 4px;
  -o-border-top-right-radius: 4px;
  border-top-right-radius: 4px;
  -moz-border-radius-bottomright: 4px;
  -webkit-border-bottom-right-radius: 4px;
  -ms-border-bottom-right-radius: 4px;
  -o-border-bottom-right-radius: 4px;
  border-bottom-right-radius: 4px;
}

@media only screen and (max-width: 1000px) {
  /* line 364, ../sass/screen.sass */
  body, input, textarea {
    font-size: 14px;
  }

  /* line 367, ../sass/screen.sass */
  body {
    padding-top: 20px;
  }

  /* line 370, ../sass/screen.sass */
  .section {
    padding: 20px 0;
  }

  /* line 373, ../sass/screen.sass */
  p.lead {
    font-size: 20px;
  }

  /* line 376, ../sass/screen.sass */
  h1 {
    font-size: 30px;
  }

  /* line 379, ../sass/screen.sass */
  h2 {
    font-size: 24px;
  }

  /* line 382, ../sass/screen.sass */
  h3 {
    font-size: 16px;
  }

  /* line 385, ../sass/screen.sass */
  code, kbd {
    font-size: 13px;
  }

  /* line 388, ../sass/screen.sass */
  pre code {
    font-size: 12px;
  }

  /* line 391, ../sass/screen.sass */
  pre {
    padding: 0.75em;
  }

  /* line 394, ../sass/screen.sass */
  #sidebar {
    width: 160px;
    left: 20px;
  }

  /* line 398, ../sass/screen.sass */
  #content {
    margin-left: 200px;
  }
}
@media only screen and (max-width: 700px) {
  /* line 403, ../sass/screen.sass */
  body, input, textarea {
    font-size: 12px;
    padding-top: 0;
  }

  /* line 407, ../sass/screen.sass */
  p.lead {
    font-size: 16px;
  }

  /* line 410, ../sass/screen.sass */
  code, kbd {
    font-size: 12px;
  }

  /* line 413, ../sass/screen.sass */
  pre code {
    font-size: 11px;
  }

  /* line 416, ../sass/screen.sass */
  pre {
    padding: 0.5em;
  }

  /* line 420, ../sass/screen.sass */
  #sidebar {
    filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);
    opacity: 1;
    position: static;
    text-align: center;
    width: auto;
    margin: 20px 20px 0 20px;
    border-bottom: 6px solid #3d3d33;
  }
  /* line 427, ../sass/screen.sass */
  #sidebar h1 {
    font-size: 24px;
  }
  /* line 429, ../sass/screen.sass */
  #sidebar .twitter {
    font-size: 14px;
  }
  /* line 431, ../sass/screen.sass */
  #sidebar #nav {
    font-size: 12px;
  }
  /* line 433, ../sass/screen.sass */
  #sidebar #nav li {
    display: inline-block;
  }
  /* line 435, ../sass/screen.sass */
  #sidebar #nav li a {
    padding: 10px;
    height: auto;
    margin: 0 5px 10px 5px;
    -webkit-border-radius: 6px;
    -moz-border-radius: 6px;
    -ms-border-radius: 6px;
    -o-border-radius: 6px;
    border-radius: 6px;
  }

  /* line 441, ../sass/screen.sass */
  h2 {
    font-size: 18px;
  }

  /* line 444, ../sass/screen.sass */
  h3 {
    font-size: 14px;
  }

  /* line 447, ../sass/screen.sass */
  #content {
    margin: 10px 20px 20px 20px;
  }

  /* line 450, ../sass/screen.sass */
  .download {
    text-align: center;
    width: 95%;
    margin-right: 0;
    padding-right: 0;
    padding-left: 0;
  }
  /* line 456, ../sass/screen.sass */
  .download .box, .download .file {
    float: none;
  }

  /* line 459, ../sass/screen.sass */
  .forums {
    text-align: center;
    width: 95%;
    margin-right: 0;
    padding-right: 0;
    padding-left: 0;
  }
  /* line 465, ../sass/screen.sass */
  .forums .speech, .forums .link {
    float: none;
  }
} 
```

任何人都可以在这里看到问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:52:05.723

`.imageRow`从基本块开始的属性：

```
/* line 317, ../sass/screen.sass */
.imageRow {
  *zoom: 1;
  margin: 20px 0;
  float: right;
} 
```

如您所见，此类操作边距和浮动选项。`.imageRow`该类的其他属性在 CSS 文件中，尝试操作这些边距、显示和位置。

# css - CSS：删除样式后，它仍然显示

> ID：12196923
> 
> 赞同：2
> 
> 时间：2012-08-30T12:32:54.340
> 
> 标签：css, ruby-on-rails, ruby, browser-cache

在 Rails 应用程序中删除一些 CSS 代码后，我重新启动服务器并刷新页面，发现代码仍在使用中。当我使用 Chrome 元素检查器时，我仍然可以看到它。

```
 @media screen and (min-width: 961px) {
.logow {  position:absolute; left:0px; top:0px;

}

body {
font-family: Verdana, Arial, Tahoma, sans-serif;
background-image: url('bg.png');

}
} 
```

例如，如果我`background-image: url('bg.png');`从代码中删除 ，背景仍然保持不变。我是一个 CSS 和 Rails 菜鸟，所以它可能非常简单。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:47:10.130

按`Ctl`+ `Shift`+ `Del`，你可以删除缓存、cookies 和任何你想要的，然后加载你的页面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:40:53.330

发生这种情况是因为您的浏览器正在缓存该页面。

确保重新加载页面。有时 Opera 仍然使用旧的和缓存的样式，这意味着您应该避免使用 Opera，而使用 Chrome、Mozilla 或 Safari。

如果您仍然需要在 Opera 上工作，`delete history`. 在 Chrome、Mozilla 或 Safari 上重新加载`F5`就足够了

# wordpress - 我的自定义页面模板需要帮助

> ID：12196926
> 
> 赞同：1
> 
> 时间：2012-08-30T12:32:57.887
> 
> 标签：wordpress

我对这种 PHP 编码很陌生。实际上我不是程序员，但我需要这里任何人的帮助...

无论如何，我需要你的帮助：

我写了一小段自定义页面模板，这里是：

```
------------------------------

<?php
/*
Template Name: MyCustomTemplate
*/
?>

<?php get_header(); ?>

<?php get_footer(); ?>

------------------------------ 
```

现在我已经安装了一个 wordpress 滑块插件“Nivo Slider”..

现在我不明白如何将此插件调用到我的自定义模板中......

我正在尝试使用滑块和其中的一些广告来实现主页.. 例如：我需要这样的主页：www.papayaclothing.com/shop/

那么，谁能给我一个代码来工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:50:33.667

请尝试以下代码，确保您尝试调用的滑块已发布：

```
<?php 

//valid for Nivo Slider version < 1.8
echo do_shortcode('[nivoslider slug="my-slider"]');

?> 
```

让我知道我的回答是否有帮助。

# android - 像“ListView”一样的线性布局，包含android中的对象？

> ID：12196928
> 
> 赞同：1
> 
> 时间：2012-08-30T12:33:05.513
> 
> 标签：android, android-layout, android-listview, android-linearlayout, android-ui

我正在制作一个列表，`LinearLayout`并希望将几个“人”对象添加到我的“列表”中在我的数据库中找到特定的人。

我该怎么做呢？我尝试过使用 a`TextView`但是包含所有所需的值太简单了。

我也尝试过使用 a`ListView`但我有几个`LinearLayout`彼此相邻。单独滚动，因此`ListView`我无法使用它们

这是一张图片： ![每列是一个线性视图，每一行都应该是一个对象](../Images/4a8332fbb2eca6b3d82b71f34d71592e.png)

如您所见，我正在尝试制作一个排序网格，每一列都是一个线性视图，目前每一行也是如此。我意识到有一个网格，但我需要能够将对象放在我想要的位置，而且我太缺乏经验，无法为 gridview 编写自己的适配器

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:49:10.453

您可以使用`ListView`带有自定义的`ArrayAdapter`.

看看这个[例子](http://www.ezzylearning.com/tutorial.aspx?tid=1763429)。

代替`Weather`类，使用您自己的`Person`对象并进行必要的修改。

**编辑：**

阅读您的编辑后，我可以看到您有某种网格。所以我最好的猜测是将 a`GridView`与自定义适配器一起使用。由于您是从数据库中获取数据，因此您不妨使用自定义的`CursorAdapter`.

但我还没有弄清楚你想做什么。

您似乎希望所有单元格都可见。这仅意味着您拥有少量/有限数量的单元格，在这种情况下，GridView 不会比将视图添加到布局的 for 循环更好。

# ios - 同步同时的 UIImageView 动画

> ID：12196929
> 
> 赞同：2
> 
> 时间：2012-08-30T12:33:07.690
> 
> 标签：ios, animation, uiimageview, uibutton

我在 UIScrollView 上有三个键盘，每个键盘都是一列按钮。当我获得按钮状态的更新（键盘充当代表）时，我有某些按钮图像可以响应这种状态变化 - 开、关和两个开/关动画（1 Hz 和 10 Hz）。现在我已经完成了所有工作，但我需要正确同步所有动画。我的代码在单个键盘上同步动画，但不是页面上的所有键盘（这是在 KeypadController 中）：

```
#pragma mark -
#pragma mark LEDDelegate

- (void)LEDUpdated:(LED *)sender {
    // Search through our LEDs for a match on the updating LED. This gives us
    // the button index so we can update properly.
    int ledIndex = -1; // Needs to be zero indexed
    Component *tempComp;
    LED *tempLED;
    for (NSUInteger itemCount = 0; itemCount < [taskButtonTitleCollection count]; ++itemCount) {
        tempComp = (Component *) [taskButtonTitleCollection objectAtIndex:itemCount];
        if ([[tempComp getComponentType] isEqualToString:@"LED" ]){
            tempLED = (LED *) [tempComp getComponentElement];
            ledIndex++;
            if (tempLED == sender) {
                break;
            }
        }
    }

    //Code for selecting images here - removed for brevity    

    // Declare the image we're about to use
    UIImage *newNormal, *newHighlight, *newBlink;

    // Going to need the button for flashing
    UIButton *btn = [buttonCollection objectAtIndex:ledIndex];

    // For syncing animation, part 1
    // TODO: This syncs a single keypad, which means we don't sync between columns
    NSMutableArray *buttonsToSync = [[NSMutableArray alloc] init];
    for (UIButton *active in buttonCollection) {
        if ([[active imageView] isAnimating]) {
            [[active imageView] stopAnimating];
            if (active != btn) {
                [buttonsToSync addObject:active];
            }
        }  
    }

    // Grab the updated state of the current led object so we can select the
    // correct button images
    switch ([tempLED state]) {
        case LED_STATE_ON:
            newNormal = [[Utils getImageNamed:pressedImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];

            newHighlight = [[Utils getImageNamed:highlightedImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];
            break;

        case LED_STATE_FLASH1: // 1 Hz blinking
            newNormal = [[Utils getImageNamed:normalImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];
            newBlink = [[Utils getImageNamed:pressedImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];

            // We can animate between these two images at the correct
            // speed with the below code.
            [[btn imageView] setAnimationImages:[NSArray arrayWithObjects:newNormal, newBlink, nil]];
            [[btn imageView] setAnimationDuration:1];
            [buttonsToSync addObject:btn];

            newHighlight = [[Utils getImageNamed:highlightedImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];
            break;

        case LED_STATE_FLASH2: // 10 Hz blinking
            newNormal = [[Utils getImageNamed:normalImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];
            newBlink = [[Utils getImageNamed:pressedImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];

            // We can animate between these two images at the correct
            // speed with the below code.
            [[btn imageView] setAnimationImages:[NSArray arrayWithObjects:newNormal, newBlink, nil]];
            [[btn imageView] setAnimationDuration:0.1];
            [buttonsToSync addObject:btn];

            newHighlight = [[Utils getImageNamed:highlightedImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];
            break;

        case LED_STATE_OFF:
        default:
            newNormal = [[Utils getImageNamed:normalImage] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];

            newHighlight = [[Utils getImageNamed:normalImageWithoutShadow] stretchableImageWithLeftCapWidth:0.0 topCapHeight:0.0];
            break;
    }

    // Set the new button images for the normal and highlighted states
    [btn setImage:newNormal forState:UIControlStateNormal];
    [btn setImage:newHighlight forState:UIControlStateHighlighted];
    newNormal = nil, newBlink = nil, newHighlight = nil;

    // For syncing animation, part 2
    // TODO: This syncs a single keypad, which means we don't sync between columns
    for (UIButton *active in buttonsToSync) {
        [[active imageView] startAnimating];
    }       
} 
```

同样，这会同步一个小键盘但不是全部的动画。

我想出的一个可能的解决方案是让所有动画在系统时间的某个倍数处开始（例如，尽可能接近一秒），但我想不出一种可行的方法来做到这一点。我尝试在同步的第 2 部分前面添加它（我重新启动动画）：

```
NSDate *date = [NSDate date];
double timePassed_ms = [date timeIntervalSince1970] * 1000.0;

while ( (int)timePassed_ms % 500 != 0) {
    timePassed_ms = [date timeIntervalSince1970] * 1000.0;
} 
```

不幸的是，这不起作用（无限循环和阻止 GUI）。我猜那是因为我从来没有在正确的时间投票。

有没有办法做我想做的事？

# adview - 嗨，已经有几个带有 AdView 的应用程序，但是这一次，我看不出有什么问题。当我在图形布局中查看 Eclipse 中的文件时，它以正确的大小和位置显示 AdView 占位符，但显示错误消息：无法初始化 AdView。必需的 XML 属性，缺少“adSize”。 请 问问题 问问题 2012-08-30T12:33:09.540 940 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 嗨，已经有几个带有 AdView 的应用程序，但是这一次，我看不出有什么问题。当我在图形布局中查看 Eclipse 中的文件时，它以正确的大小和位置显示 AdView 占位符，但显示错误消息：无法初始化 AdView。必需的 XML 属性，缺少“adSize”。 请看一下我的代码，希望有人能看到我缺少的东西。 这是代码： <relativelayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads" android:id="@+id/textView1" android:layout_width="wrap_content" android:layout_height="fill_parent" android:orientation="vertical"><linearlayout android:layout_width="fill_parent" android:layout_height="fill_parent" android:background="@drawable/eifelturm" android:orientation="vertical"></linearlayout><com.google.ads.adview android:id="@+id/adView" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_alignparentbottom="true" android:layout_alignparentleft="true" app:adsize="BANNER" app:adunitid="a1501d20d464e5d" app:loadadoncreate="true"></com.google.ads.adview></relativelayout>为了访问其他通勤者上的文件，您必须对该文件具有正确的权限，因此共享文件夹似乎是个好主意。当然，如果您可以选择在远程计算机上定义某种服务器并将文件保存在他的根目录下，您将能够在没有特殊权限的情况下访问该文件（例如：在远程计算机上定义 SFTP 服务器，将文件保存在他的根，从用户计算机连接并获取文件） adview 4 1 回答 1 This answer is useful 0 回复有点晚了，但我认为您的问题是您使用的是关键字app而不是adsAdView 定义。使用这种结构，它应该可以工作： <com.google.ads.adview android:id="@+id/adView" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_alignparentbottom="true" android:layout_alignparentleft="true" ads:adsize="BANNER" ads:adunitid="a1501d20d464e5d" ads:loadadoncreate="true">于 2013-06-20T07:53:53.997 回答 Related 1 javascript - 将带有表单的容器动态添加到另一个容器 2 logging - 跨多个作业聚合 Hadoop 作业计数器 2 php - OnClick 函数获取下一条记录 PHP AJAX MYSQL 0 php - 检查数组的元素是否存在于另一个数组中 1 opencv - 如何检测是否有任意文件已经用opencv签名 1 java - 从带有方括号的 URL 编码数组中读取变量 3 ubuntu - 如何共享在 vagrant 中创建的文件夹？ 1 jquery - 如何在 MVC 4 中将 JSON 返回值放置到 HTML？ 2 c# - 如何在不阻塞 UI 的情况下暂停 1 .net - 您是否应该删除将事件分配给控件 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</com.google.ads.adview>

> ID：12196930
> 
> 赞同：0
> 
> 时间：
> 
> 标签：adview

嗨，已经有几个带有 AdView 的应用程序，但是这一次，我看不出有什么问题。当我在图形布局中查看 Eclipse 中的文件时，它以正确的大小和位置显示 AdView 占位符，但显示错误消息：无法初始化 AdView。必需的 XML 属性，缺少“adSize”。

请看一下我的代码，希望有人能看到我缺少的东西。

这是代码：

```
 <?xml version="1.0" encoding="utf-8"?>

<RelativeLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

<LinearLayout 

    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/eifelturm"
    android:orientation="vertical" >

    <Button
        android:id="@+id/newbutton"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:drawableLeft="@android:drawable/ic_menu_camera"
        android:text="@string/neuesFoto"
        android:gravity="fill"
        android:onClick="newPhoto"
        ></Button>

    <ListView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/main_listview">
    </ListView>
</LinearLayout>

<com.google.ads.AdView
    android:id="@+id/adView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    app:adSize="BANNER"
    app:adUnitId="a1501d20d464e5d"
    app:loadAdOnCreate="true" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-20T07:53:53.997

回复有点晚了，但我认为您的问题是您使用的是关键字`app`而不是`ads`AdView 定义。使用这种结构，它应该可以工作：

```
<com.google.ads.AdView
    android:id="@+id/adView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    ads:adSize="BANNER"
    ads:adUnitId="a1501d20d464e5d"
    ads:loadAdOnCreate="true" /> 
```

# javascript - 我需要使用 kineticjs click 事件以任何所需的角度旋转画布中的文本

> ID：12196933
> 
> 赞同：2
> 
> 时间：2012-08-30T12:33:15.117
> 
> 标签：javascript, html, canvas, kineticjs

我喜欢使用 click 以任何所需的角度旋转画布中的文本，但这里的文本是顺时针和 anticloclwise 旋转的。我喜欢顺时针旋转它到我想要的角度。

代码：

```
 <html>
    <head>
    <style>
   body { margin: 0px; padding: 0px; }
   canvas { border: 1px solid #9C9898; }
    </style>
   <script src="http://www.html5canvastutorials.com/libraries/kinetic-0.2.js">
   </script>
     <script>
     window.onload = function() {
     var angle = 0;
     var stage = new Kinetic.Stage({
       container: "container",
       width: 578,
       height: 200
     });
     var layer = new Kinetic.Layer();

     var text = new Kinetic.Text({
       x:225,
       y: 80,
       text: "Simple",
       fontSize: 30,
       fontFamily: "Calibri",
       textFill: "black",
       draggable: true

     });         
       text.on("click", function(){
       angle=getRandomInt(1,4);
       text.transitionTo({
         rotation:Math.PI*angle/2,
         duration:1 

       });
     });
     layer.add(text);
     stage.add(layer);
   }
       function getRandomInt (min, max) {
       return (Math.random() * (max - min + 1)) + min;
     }

      </script>
      </head>
      <body>
      <div id="container"></div>
      </body>
      </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T19:31:57.810

你得到一个随机的角度。

您必须获取鼠标位置，然后计算鼠标坐标与文本位置之间的角度

看看是否有帮助：

```
<html>
    <head>
        <style>
            body { margin: 0px; padding: 0px; }
            canvas { border: 1px solid #9C9898; }
        </style>
        <script src="http://www.html5canvastutorials.com/libraries/kinetic-v4.0.1.js">   </script>
        <script>

            window.onload = function() {
                var angle = 0;
                var stage = new Kinetic.Stage({
                    container: "container",
                    width: 578,
                    height: 200
                });

                var layer = new Kinetic.Layer();
                var rect = new Kinetic.Rect({x:0,y:0, width:stage.getWidth(), height:stage.getHeight()});

                var text = new Kinetic.Text({
                    x:225,
                    y: 80,
                    text: "Simple",
                    fontSize: 30,
                    fontFamily: "Calibri",
                    textFill: "black",
                    draggable: true
                });         

                rect.on("click", function(){
                    var mousePos = stage.getMousePosition(); /*gets the mouse position*/
                    angle = getAngle(text.getX(), text.getY(), mousePos.x, mousePos.y);
                    text.transitionTo({
                        rotation: angle,
                        duration: 1
                    });
                });

                layer.add(rect);
                layer.add(text);
                stage.add(layer);
            }

            function getAngle (cx, cy, px, py) { /*calculate the angle between two points*/
                var x = cx - px;
                var y = cy - py;
                return Math.atan2(-y, -x);
            }
        </script>
    </head>
    <body>
        <div id="container"></div>
    </body>
</html> 
```

# javascript - Javascript 对象文字，POST 问题

> ID：12196934
> 
> 赞同：0
> 
> 时间：2012-08-30T12:33:19.780
> 
> 标签：javascript, jquery, ruby, ajax, ruby-on-rails-3

我试图让 autocomplete-rails.js 在带有 Ajax 的 Rails 中工作，

我有以下功能

```
<script type="text/javascript">
function reply_click(clicked_id)
{
 var x = "work";
 var y = "monday"
 alert(y)
 $.ajax({
  type    : 'POST',
  url     : "/whens", 
  data: { y : x},
success : function(data) {
            alert(data);          
          },  
});
}
</script> 
```

我得到的问题是这会返回

```
"y"=>"work" 
```

我希望它返回 y 的值

```
"monday"=>"work" 
```

另外，如果我执行以下操作

```
<script type="text/javascript">
function reply_click(clicked_id)
{
 var x = "work";
 var y = "monday"
 var data = {};
 data[x] = y;
 $.ajax({
  type    : 'POST',
  url     : "/whens", 
  data,
success : function(data) {
            alert(data);          
          },  
});
}
</script> 
```

它似乎返回我得到的问题是这返回

```
"term"=>"work" 
```

知道如何让它返回 y 的内容

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:47:24.870

如果一个键没有引号，那并不意味着它正在使用一个变量。

正如您所提到的，正确的做法是

```
var data = {};
data[y] = x;
$.ajax({
  type    : 'POST',
  url     : "/whens", 
  data    : data,
  success : function(data) {
            alert(data);          
          },  
 }); 
```

注意我把它改成了`data[y] = x;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:49:22.153

如果您想使用 ajax 加载一些数据，作为回报，这些数据可用于自动完成，然后通过 ajax 加载字符串数组。例如。在控制器做-

```
def get_characteristics
  unless ['Threads', 'Note'].include?(params[:name])
  @characteristics = Category.all.collect(&:characteristic)
  respond_to do |format|
    format.js{}
  end
end 
```

在 get_characteristics.js.haml 中（例如在 haml 中）

```
var characteristics = #{@characteristics.to_json};
$('#characteristic').autocomplete( //the id of the text fields where u want autocomplete
  source: characteristics  //the array of string that u want for autocomplete
) 
```

有关其他信息 [http://jqueryui.com/demos/autocomplete/](http://jqueryui.com/demos/autocomplete/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:53:05.210

[变量作为关联数组中的索引 - Javascript](https://stackoverflow.com/questions/4091257/variable-as-index-in-an-associative-array-javascript)

```
> var x = "work"
> var y = "monday"

> data= {}
{}
> data[x]=y
'monday'
> data
{ work: 'monday' } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:59:21.113

你不能，第二个片段 ( `data[y] =`) 是唯一的方法。原因如下：

一个对象字面量，就像 JS 中的所有东西一样是一个对象（*duh*）并且具有属性。在全局范围内声明的所有变量都是全局（无名）对象的属性。您拥有的唯一（半）真实变量是您在闭包范围内声明的变量。所以从这个角度来看，在构造对象字面量时不应该引用属性是有道理的。
我什至会说，在对象字面量的声明中允许引用属性应该被认为是错误的，或者应该 - 至少 - 不鼓励。

JS 是一门美妙的语言，被一堆不一致、怪癖和坏主意所掩盖。可悲的是，如果你所知道的只是垃圾（几乎每个人都知道垃圾，很少有人知道实际的语言以及它的强大之处），那么一致且*良好*的稀有功能一开始看起来就像一个障碍。值得庆幸的是，你有大量的结构可以让你做你想做的事，并且做得很好。

在这种情况下，您可以将其全部写出来，`data[a] = b; data[c] = d;...` *或者*您可以使用 power-constructor (google it)
另一个选项只是一个非常小的循环，假设您的数据对象将使用传递给函数的参数填充：

```
var data = {};
var argArray = Array.prototype.slice.apply(arguments,[0]);//returns array of arguments
var duo;
while(duo = argArray.splice(0,2))
{
    data[duo[0]] = duo[1];
    if (argArray.length < 2)
    {
        break;
    }
} 
```

举个例子。我建议您（和其他所有人）在涉及对象时研究 crockfords 结构，以及函数调用在 JS 中的含义：不只是调用函数，`call-object`而是创建函数。

# bamboo - 批处理文件中的 Bamboo 变量替换

> ID：12196936
> 
> 赞同：14
> 
> 时间：2012-08-30T12:33:19.983
> 
> 标签：bamboo

我们在 Windows 机器上运行 Atlassian 的 Bamboo 构建服务器 4.1.2。我创建了一个在任务中执行的批处理文件。该脚本只是在 .bat 文件中引用，而不是在任务中内联。（例如createimage.bat）

在 createimage.bat 中，我想使用 Bamboo 的 PLAN 变量。通常的变量语法不起作用，意味着没有被替换。例如，脚本中的一行可以是：

```
goq-image-${bamboo.INTERNALVERSION}-SB${bamboo.buildNumber} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-12-05T02:09:03.103

您正在使用内部[Bamboo 变量](https://confluence.atlassian.com/display/BAMBOO/Bamboo+variables)语法，但[脚本任务](https://confluence.atlassian.com/display/BAMBOO/Script)将它们传递到操作系统的脚本环境中，并且需要使用相应的语法来引用它们，例如（请注意术语之间的下划线）：

*   Unix -`goq-image-$bamboo_INTERNALVERSION-SB$bamboo_buildNumber`
*   窗户 -`goq-image-%bamboo_INTERNALVERSION%-SB%bamboo_buildNumber%`

令人惊讶的是，我无法找到 Windows 变体的官方参考，现在只有[Using variables in bash](https://confluence.atlassian.com/display/BAMBOO/Bamboo+variables#Bamboovariables-Usingvariablesinbash)：

> Bamboo 变量导出为 bash shell 变量。所有句号（句点）都转换为下划线。例如，变量bamboo.my.variable 在bash 中是$bamboo_my_variable。这与文件脚本任务（不是内联脚本任务）有关。

但是，我在某些时候从 Atlassian 的文档中了解了 Windows 语法，并按照[Bamboo Variable Substitution/Definition](https://utoolity.atlassian.net/wiki/x/CQApAQ)中的说明对其进行了测试和使用：

> *   例如，这些变量也可用作脚本任务中的环境变量，尽管名称略有不同，例如 $bamboo_custom_aws_cfn_stack_StringWithRegex (Unix) 或 %bamboo_custom_aws_cfn_stack_StringWithRegex% (Windows)

# c#-4.0 - 需要在 C#.Net 中的 SQL Server 和 SQL Server Compact 之间进行单向同步

> ID：12196937
> 
> 赞同：0
> 
> 时间：2012-08-30T12:33:19.967
> 
> 标签：c#-4.0, sql-server-2008-r2, microsoft-sync-framework

这里有 2 个数据库，一个在 SQL Server 上，另一个在 SQL Server Compact 上。

它们具有以下行：

```
SQL Server     SQL Server CE

Id  Name       Id  Name
1   A          1    A
2   B          2    B
3   C          3    C 
```

我需要单向同步。当同步过程工作时，SQL Server Compact 的所有数据都与 SQL Server 同步（它是主服务器）。

现在，如果用户从 SQL Server Compact 中删除数据（例如 delete where id=3）并再次同步。

```
SQL Server     SQL Server CE

Id  Name       Id  Name
1   A          1    A
2   B          2    B
3   C 
```

我的意思是数据不应该从 SQL Server 中删除。

如果用户在 SQL Server Compact 数据库中添加数据并再次同步，那么新添加的数据应该像 ....

```
SQL Server     SQL Server CE

Id  Name       Id  Name
1   A          1    A
2   B          2    B
3   C          4    D
4   D 
```

是我的要求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T13:08:18.647

在 SQL Ce 提供程序的 ChangesSelected 事件中拦截来自 SQL Ce 的更改数据集，然后从数据集中删除删除，这样它就不会通过并在服务器上应用。

请参阅此处的方法：http: [//jtabadero.wordpress.com/2011/03/07/manipulating-the-change-dataset-in-sync-fx/](http://jtabadero.wordpress.com/2011/03/07/manipulating-the-change-dataset-in-sync-fx/)

# c# - 方法没有重载需要 2 个参数

> ID：12196938
> 
> 赞同：1
> 
> 时间：2012-08-30T12:33:21.480
> 
> 标签：c#, visual-studio-2008, optional-parameters

我创建了一个 dll 。

dll有一个方法，它有4个可选参数和2个必需参数。

当我尝试在 VS2010 中调用该方法时，即使我只提供 2 个必需参数，它也运行良好且良好。

但是当我尝试在 VS2008 中调用该方法时，它显示错误消息“方法没有重载需要 2 个参数”。

我是否需要传递 4 个可选参数值`null`才能摆脱它？

请帮忙

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:36:14.450

可选参数是 Visual Studio 2010 的新增功能，因此在 2008 中不受支持。您需要为可选参数显式传递参数。

[您可以在面向 .NET 3.5 的代码中使用可选参数吗？](https://stackoverflow.com/questions/1210679/can-you-use-optional-parameters-in-code-targeting-net-3-5)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:35:26.690

可选参数是 C# 4.0 的一项功能，因此您将无法在 C# 3.5 上使用它。明确发送这些的默认值。

# iphone - 当应用程序在后台运行时，我们可以让 iPhone 耳机插孔插入/拔出事件吗？

> ID：12196943
> 
> 赞同：1
> 
> 时间：2012-08-30T12:33:33.220
> 
> 标签：iphone, ios, audio-player, background-foreground

当用户在 iPhone 中插入/拔出耳机时，我想执行一些事件，只有应用程序在后台运行。简单解释一下，我在插入耳机的情况下在后台运行音乐播放器，现在经过一段时间我正在移除耳机（已拔出），那时我想显示警报“耳机已拔出”。

在前台，我们可以得到我研究并得到的这个事件，但是如果我们在后台运行应用程序，我们能得到这个插入/输出事件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T12:05:38.703

You are not able to get event in background while if you app is active, you will get notification. please look on apple docs for more detail.

thanks

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:52:41.183

是的，您应该能够做到这一点，因为您在后台模式下运行 AudioSession，您将收到插孔拔出通知。

但是你不能显示`UIAlertView`你将不得不将`UILocalNotification`当前日期安排为firedate。如果应用程序触发通知以提醒我执行的操作，我作为用户将如何发现它非常任何。

# macos - 如何在 Safari 中禁用 DNS 缓存？

> ID：12196946
> 
> 赞同：4
> 
> 时间：2012-08-30T12:33:39.467
> 
> 标签：macos, caching, dns, safari

我想禁用 Mac OS X 上的 Safari 执行 DNS 缓存。
有没有办法通过配置或任何其他设置来做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-05T01:23:17.873

清除操作系统缓存：

```
sudo killall -HUP mDNSResponder 
```

禁用 Safari DNS 预取：

```
defaults write com.apple.safari WebKitDNSPrefetchingEnabled -boolean false 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-20T17:48:59.980

更新：让优胜美地清除您想要的缓存：

```
sudo discoveryutil udnsflushcaches 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-05-08T14:45:45.323

在 Safari 12.1 中，这应该已移至：

```
defaults read com.apple.Safari WebKitPreferences.dnsPrefetchingEnabled 
```

和：

```
defaults write com.apple.Safari WebKitPreferences.dnsPrefetchingEnabled -boolean false 
```

你应该能够禁用它。

# c++ - cin.getline() 没有按预期工作

> ID：12196951
> 
> 赞同：-3
> 
> 时间：2012-08-30T12:33:57.403
> 
> 标签：c++, getline, cin

我们不能在循环中使用 cin.getline() 吗？我正在运行以下代码：

```
for(int k=0; k<t; k++)
{
    char ph1[1000], ph2[1000], ph11[1000], ph22[1000][1000];
    int i, j, count = 0;

    cin.getline(ph1, 1000);
    cin.getline(ph2, 1000);
} 
```

该代码应该通过 cin.getline() 接受两个字符串（或 char *）。但是当我运行它时，它接受第一个字符串，打印“NO”并退出。为什么会这样？为什么第二个 cin.getline() 被跳过？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:07:02.423

即使在您编辑它之后，您的示例代码**仍然**无法编译。这是一个没有环绕的循环`main()`。

我将其重写为：

```
#include <iostream>
#include <cstdio>

int main()
{
    char ph1[1000], ph2[1000];

    std::cin.getline(ph1, 1000);
    std::cin.getline(ph2, 1000);

    std::cout << "ph1: '" << ph1 << "' - ph2: '" << ph2 << "'" << std::endl;

    return 0;
} 
```

这可以按预期工作，即您认为的问题与“cin.getline() not working”无关，并且您发布的代码也没有表现出来。投票结束问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T13:11:31.857

你*可能*想要这样的东西：

```
for (std::string l1, l2;
     std::getline(std::cin, l1) && std::getline(std::cin, l2); )
{
    std::cout << "Your first line: '" << l1
              << "'\nYour second line: '" << l2 << "'\n";
} 
```

如果您执行的输入操作的返回值未立即在布尔上下文中使用，则应*始终将其视为硬编程和逻辑错误。*在我的示例中，`for`循环的条件检查测试两个连续的行提取是否成功，如果不成功（例如，如果文件流已到达末尾），则循环中断。

# iphone - 在带有 mac OS 的普通 PC 上开发 Iphone/Ipad 应用程序

> ID：12196953
> 
> 赞同：0
> 
> 时间：2012-08-30T12:34:00.793
> 
> 标签：iphone, xcode, macos, ipad

> **可能的重复：**
> [Windows 上的 iPhone 开发](https://stackoverflow.com/questions/113547/iphone-development-on-windows)

我有一台标准的 windows 机器，如果我用 mac OS Lion 或任何最新的东西来决斗它。如果我不使用原始的 mac 机器，我是否能够开发应用程序并充分利用环境？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:40:55.013

不。

我认为除了 Mac OS 10.7+ 之外，没有机会在非 Mac 硬件上安装 Mac OS。Mac OS 10.7+ 可在虚拟机中运行。但它非常慢并且经常崩溃。所以绝对没有开发环境（尽管 Xcode 可以在 VM 中运行）。

我的建议：购买一台二手 MacBook。

# javascript - 使用 Javascript 在弹出窗口中提交表单

> ID：12196954
> 
> 赞同：-3
> 
> 时间：2012-08-30T12:34:00.797
> 
> 标签：javascript

我有一个要求，我必须提交一个带有 javascript 值的表单。该方法是“POST”类型。

表单提交应该在新的弹出窗口中。当前窗口必须保持不变......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:37:50.963

HTML：

```
 <form action="..." method="post" onsubmit="target_popup(this)">

</form> 

```

Javascript：

```
功能目标弹出（形式）{
    window.open('', 'formpopup', 'width=400,height=400,resizeable,scrollbars');
    form.target = 'formpopup';
}

```

# swing - Scala Swing Box 订阅多个事件

> ID：12196955
> 
> 赞同：1
> 
> 时间：2012-08-30T12:34:08.243
> 
> 标签：swing, events, scala, foreach

我正在用 Scala 编写 GUI，并且在尝试在`foreach`语句中注册按钮事件时遇到了一个奇怪的问题：对于对象列表中的每个元素*对象[i]*（*对象[0]* ...*对象[n]* )，检索到相应的 Button *x = button [i]*并使用 订阅给定的 Box `box.listenTo(x)`。当按下按钮时，应该执行与*对象[i]*`println("Event triggered: " + event)`相关的一些操作（在本例中为）：

```
import scala.swing.ComboBox
import scala.collection.mutable.Buffer
import scala.swing.Button
import scala.swing.event.ButtonClicked
import scala.swing.Action
import scala.swing.SimpleSwingApplication
import scala.swing.MainFrame
import scala.swing.GridPanel
import scala.swing.BorderPanel

object EventSet extends SimpleSwingApplication  {

    object PhoneKeyEvent extends Enumeration {
        val Key1 = Value("1")
        val Key2 = Value("2")
    }

    /* Constants */

    private val DisplayHistory = Buffer[String]()   

    private val KeypadKeyEvents = List(
        PhoneKeyEvent.Key1, PhoneKeyEvent.Key2)

   private val PhoneKeyEventButtonNames = Map(
        PhoneKeyEvent.Key1 -> "1",
        PhoneKeyEvent.Key2 -> "2"
        )

    /* End constants */        

    private var PhoneKeyEventButtons = Map[PhoneKeyEvent.Value, Button]()

    private def createDisplay() : ComboBox[String] = {

        new ComboBox(DisplayHistory) {
            // Listen to keypad keys
            // Get the set of all keypad key events
            val keypadEvents = List(PhoneKeyEvent.Key1, PhoneKeyEvent.Key2)
            println("keypadEvents: " + keypadEvents)
            keypadEvents.foreach({ event =>
                println("event: " + event)
                // Listen to each button representing a keypad key event
                var keypadEventButton = PhoneKeyEventButtons(event)
                println("keypadEventButton: " + keypadEventButton)
                listenTo(keypadEventButton)
              reactions += {
                  case ButtonClicked(keypadEventButton) => {
                    // TODO: fix strange bug here: adds all possible inputs
                    println("Event triggered: " + event)

//                        selection.item = selection.item + event
                  }

              }

            })
        }

    }

    private def createPhoneControllerPanel() : BorderPanel = {
        new BorderPanel() {
            val keypadControlPanel = createPhoneKeyEventTypeControlPanel(KeypadKeyEvents)
            add(keypadControlPanel, BorderPanel.Position.Center)

            add(createDisplay(), BorderPanel.Position.North)   

            focusable = true
            requestFocus
        }
    }

     /**
     * Creates a new {@link Button} for a given {@link PhoneKeyEvent} and adds
     * the button to the global map of such buttons to their respective events;
     * that means multiple buttons cannot be created for the same key event.
     */
    private def createPhoneKeyEventButton(phoneKeyEvent: PhoneKeyEvent.Value) : Button = {
        // Only one button can be created per key event
        require(!PhoneKeyEventButtons.contains(phoneKeyEvent),
            {System.err.println("A Button for the PhoneKeyEvent " + phoneKeyEvent + "has already been created.")})

        val keyEventButtonName = PhoneKeyEventButtonNames(phoneKeyEvent)

        val result = new Button(Action(keyEventButtonName) {
            println("Key event button pressed: " + phoneKeyEvent)

        })

        // Add the button to the map of all created key event buttons
        PhoneKeyEventButtons += phoneKeyEvent -> result  
        return result

    }

    private def createPhoneKeyEventTypeControlPanel(keyEvents : Iterable[PhoneKeyEvent.Value]) : GridPanel = {
        new GridPanel(4, 3) {

            // Get the intersection of all key events of the given type and the events with button names
            keyEvents.foreach(phoneKeyEvent => contents += createPhoneKeyEventButton(phoneKeyEvent))
        }

    }

    override def top = new MainFrame {

        contents = createPhoneControllerPanel()

    }

} 
```

但是，我得到了一些非常奇怪的行为，单击任何 Button会触发*所有*此类对象操作 - 请参阅程序输出：

```
keypadEvents: List(1, 2)
event: 1
keypadEventButton: scala.swing wrapper scala.swing.Button$$anon$1[,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.5,border=
javax.swing.plaf.BorderUIResource$CompoundBorderUIResource@7633f09,flags=296,maximumSize=,minimumSize=,preferredSize=,de
faultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=14,bottom=2,right=14]
,paintBorder=true,paintFocus=true,pressedIcon=,rolloverEnabled=true,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,te
xt=1,defaultCapable=true]
event: 2
keypadEventButton: scala.swing wrapper scala.swing.Button$$anon$1[,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.5,border=
javax.swing.plaf.BorderUIResource$CompoundBorderUIResource@7633f09,flags=296,maximumSize=,minimumSize=,preferredSize=,de
faultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=14,bottom=2,right=14]
,paintBorder=true,paintFocus=true,pressedIcon=,rolloverEnabled=true,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,te
xt=2,defaultCapable=true]
Key event button pressed: 1
Event triggered: 1
Event triggered: 2
Key event button pressed: 2
Event triggered: 1
Event triggered: 2 
```

我完全不知道为什么会这样。*无论如何，我对 Scala 还是很陌生，所以这是一个非常陌生的*领域，但我尝试摆弄很多东西并在 Swing 源代码中窥探，但仍然一无所知......每次迭代都使用一个循环？或者 Swing 如何一次触发每个事件？或者...？

**编辑：**这是两个最小化版本，它们的行为不同：

```
import scala.swing.SimpleSwingApplication

object ButtonEvents extends SimpleSwingApplication  {

import scala.swing.Button
import scala.swing.event.ButtonClicked
import scala.swing.Action
import scala.swing.MainFrame
import scala.swing.FlowPanel

override def top = new MainFrame {

    contents = new FlowPanel {

        val button1 = new Button(Action("1") {
        println("Button 1 pressed")

    })
        contents += button1
        val button2 = new Button(Action("2") {
        println("Button 2 pressed")

    })
        contents += button2
        val buttons = List(button1, button2)
        buttons.foreach({ button =>
            listenTo(button)
            reactions += {
                case ButtonClicked(button) => {
                    println("Event triggered: " + button.text)
                }
            }
        })

    }

} 
```

}

印刷：

```
Button 1 pressed
Event triggered: 1
Event triggered: 1
Button 2 pressed
Event triggered: 2
Event triggered: 2 
```

还有一个似乎表现正确的版本（但我不确定为什么）：

```
import scala.swing.SimpleSwingApplication

object ButtonEvents extends SimpleSwingApplication  {

    import scala.swing.Button
    import scala.swing.event.ButtonClicked
    import scala.swing.Action
    import scala.swing.MainFrame
    import scala.swing.FlowPanel

    override def top = new MainFrame {

        contents = new FlowPanel {

            val button1 = new Button(Action("1") {
            println("Button 1 pressed")

        })
            contents += button1
            val button2 = new Button(Action("2") {
            println("Button 2 pressed")

        })
            contents += button2
            val buttons = Map("1" -> button1, "2" -> button2)
            buttons.foreach({ eventButton =>
                listenTo(eventButton._2)
                reactions += {
                    case ButtonClicked(eventButton._2) => {
                        println("Event triggered: " + eventButton._1)
                    }
                }
            })

        }

    }

} 
```

打印（正确）：

```
Button 1 pressed
Event triggered: 1
Button 2 pressed
Event triggered: 2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T13:56:35.170

在行

```
reactions += {
  case ButtonClicked(keypadEventButton) => { 
```

您正在创建一个新的`val keypadEventButton`并将其分配给内部的任何内容`ButtonClicked()`。将行更改为 `case ButtonClicked(abstractButton)`仍然可以工作并显示相同的问题。

我猜你希望这与`keypadEventButton`前面几行中的使用相匹配。您可能想要创建一个反应，然后使用`abstractButton`来判断按下了哪个按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T17:45:14.330

@andy 是正确的。像 IDEA 这样的优秀 IDE 会突出显示“变量模式的可疑阴影”，因为您在模式匹配中绑定了一个新变量。Scala 允许您在嵌套代码块中尽可能多地隐藏变量，例如：

```
scala> val a = 1; {val a = 2; println(a)}; println(a)
2
1
a: Int = 1 
```

那么下面的返回是什么？

```
val a = 1
2 match {
  case a => "it was 1"
  case _ => "something else"
} 
```

它返回`"it was 1"`是因为`a`被遮蔽了。现在尝试：

```
2 match {
  case `a` => "it was 1"
  case _ => "something else"
} 
```

这返回`"something else"`是因为我们使用反引号来引用他先前定义的变量的值。（也试试这个变量以大写字母开头的地方......）

所以你只需要添加反引号，即

```
case ButtonClicked(`button`) => { 
```

# php - 使用 setExtendedAccessToken() 获取长期访问令牌会返回短期令牌

> ID：12196958
> 
> 赞同：8
> 
> 时间：2012-08-30T12:34:31.807
> 
> 标签：php, facebook-php-sdk

我尝试使用

```
$facebook->setExtendedAccessToken();
$access_token = $facebook->getAccessToken(); 
```

在查看 SDK 后，我发现 setExtendedAccessToken() 函数正在设置长寿命访问令牌

```
protected static $kSupportedKeys =
array('state', 'code', 'access_token', 'user_id'); 
```

和

```
$this->setPersistentData(
  'access_token', $response_params['access_token']
); 
```

并且 getAccessToken() 正在返回短期访问令牌

```
protected $accessToken 
```

那么 setExtendedAccessToken() 的目的是什么，因为它不返回任何内容？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-05T00:19:57.440

@朱利安。非常感谢你在这里的灵感。我能够在不更改任何核心 FB api 文件的情况下完成这项工作。

发生的情况是，`setExtendedAccessToken`调用将值发送到该值`setPersistentData`，然后通过 将其发送到会话中`constructSessionVariableName`。

因此，如果我们将其从会话中取出，然后将其设置到 facebook 对象中，我们就完成了。

这是我的代码：

```
// ask for the extended token and get it from session ...
$facebook->setExtendedAccessToken();
$access_token = $_SESSION["fb_".FB_APP_ID."_access_token"];
// now set it into the facebook object ....
$facebook->setAccessToken($access_token);
// now our fb object will use the new token as usual ...
$accessToken = $facebook->getAccessToken(); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-28T13:23:25.523

在进一步尝试四处`base_facebook.php`寻找之后，我发现了以下内容：

*   `setExtendedAccessToken();`将交换一个短期访问令牌，Facebook*将*返回一个适当的扩展访问令牌。
*   `setExtendedAccessToken();`将其保存在持久数据缓存中，但这并不意味着`getAccessToken();`可以访问它，因为`getAccessToken();`不查询持久缓存。此外，该类似乎将持久数据视为“故障安全”，并且仅在所有其他检索数据的尝试都失败时（即在检查`signed_request`和解析 a之后`code`）才使用它。
*   在我们的例子中，通过返回的访问令牌`setExtendedAccessToken();`是最新的访问令牌，所以我进行了修复。在底部添加以下行`setExtendedAccessToken();`

    `// Also set the publically accessible access token value to this new extended token`

    `$this->accessToken = $response_params['access_token'];`

*   **警告**：即使我们现在有了新的扩展访问令牌，对 Facebook 的后续查询以检索访问令牌（例如在页面刷新后）将返回相同的旧的短期访问令牌。*掌心*

*   即使在用户注销（从而导致短期令牌过期）并重新登录后，Facebook 也会再次返回一个短期访问令牌。
*   但是，即使是这种情况，`setExtendedAccessToken();`也会返回您之前检索到的相同扩展访问令牌。该令牌仍可用于查询用户信息。

所以，这看起来像一个 Facebook 错误，尽管我讨厌这样说。我们可以通过我上面详述的 hack 来解决它，任何后续的获取访问令牌的调用都只会返回一个短暂的访问令牌，可以一次又一次地交换相同的扩展访问令牌。

* * *

**原始答案**

根据[这个答案](https://stackoverflow.com/a/9035036/122353)，新的访问令牌保存在持久数据中（正如您在问题中所指出的那样），并且可以通过`$facebook->getAccessToken();`.

两个相关说明：

*   [该页面](https://developers.facebook.com/roadmap/offline-access-removal/)还提到，当将短期访问令牌交换为扩展访问令牌时，令牌本身**可能会或可能不会更改**，尽管到期时间应该已更新以反映更长的到期时间。也许当你打电话时`$facebook->getAccessToken();`，你只是拿回了相同的令牌，但它的过期时间已经改变了？
*   *每个用户每天*只能调用一次将短期访问令牌交换为延长访问令牌的调用。我不知道这是为什么，我不知道如果用户决定取消对您的应用授权并重新授权，该计数器是否会被重置。

来自 Facebook 文档：

> 当用户使用现有的、有效的、短期用户 access_token 访问您的站点时，您可以选择延长该访问令牌的到期时间。**我们的平台每天只会延长一次过期时间**，所以即使用户每天多次访问您的网站，令牌也会在第一次请求时延长。*（强调我的）*

我相信是这种情况，因为草率的程序员会`$facebook->setExtendedAccessToken();`抓住每一个可能的机会，希望总能检索到扩展的访问令牌。（而不是*首选*`$facebook->setExtendedAccessToken();`行为，只有在您当前拥有的是短期访问令牌时才会调用- 但除非您保存了到期日期，否则您将如何判断，这本身并不是可靠的...！）

我的假设是，如果用户取消对应用程序的授权，或者令牌无效，则限制将重置，并且您将能够在传递短期访问令牌时再次检索扩展访问令牌。但是，这需要进一步测试，因此请对本段持保留态度。

# multithreading - 是否可以在短时间内有效地使用多线程

> ID：12196961
> 
> 赞同：1
> 
> 时间：2012-08-30T12:34:42.010
> 
> 标签：multithreading, winapi, synchronization

考虑我有一个在主线程中执行某些操作的单线程代码，它大约需要 10-20 毫秒。我想利用我的处理器的两个内核并将任务拆分给位于不同内核的两个线程。从技术上讲，我可能应该恢复两个睡眠线程并让自己入睡，直到它们完成并再次入睡。如果任务足够长可以执行，那就没什么可怕的了。但是对于 10-20 毫秒，我怀疑使用众所周知的同步技术会花费我大量的时间。如果我太怀疑并且 Windows/CPU 可以很好地使所有睡眠/唤醒请求有效，那么拆分仍然有意义的最小时间是多少，1 毫秒、10 毫秒、100 毫秒？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:45:16.117

使用现有线程池（现有休眠线程）的多线程可以加快 10-20ms 的操作。

唤醒线程并加入它们的具体同步调用是微不足道的，远小于 1ms。

要注意的一件事是参考的位置。如果在多个线程上运行的代码访问相同的内存，那么 CPU 将不得不同步内存访问，这可能会降低实际的性能提升。

同样，如果线程正在使用公共资源并需要锁定或其他线程同步，等待这些锁定会降低性能。

如果这些线程中有任何 I/O，那么将其拆分为线程将有助于最大程度地加快速度。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T12:45:05.157

除非这个短任务被调用很多次（即在一个循环中），否则没有意义，因为即使在考虑任何任务切换/线程启动/同步之前，您最多也可以为自己节省 10 毫秒的处理时间......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T09:42:53.663

如果您有许多任务并且您的工作线程不断地从公共队列中获取任务（例如在 ExecutorService 中），则任务的开销为 1..10 微秒。Fork/Join 设施更加有效。线程切换是最昂贵的操作，因此与其恢复 2 个休眠线程并让主线程等待，不如在主线程上运行一个任务，在工作线程上只运行一个任务。

# android - 我现在需要知道什么才能让我的网站在移动设备上运行？

> ID：12196962
> 
> 赞同：4
> 
> 时间：2012-08-30T12:34:42.220
> 
> 标签：android, iphone, django, web-applications, mobile

这个问题是基于[我需要知道什么才能让我的网站在移动浏览器上运行？](https://stackoverflow.com/questions/1320764/what-do-i-need-to-know-to-make-my-website-work-on-mobile-browsers)2009 年发布的一些旧网站和特定的 Microsoft 资料

我主要在 Django 中制作网络应用程序，但它在 Android/Iphone/其他移动设备上似乎不太好用。

有一些像 django-mobile ( [https://github.com/gregmuellegger/django-mobile](https://github.com/gregmuellegger/django-mobile) ) 这样的应用程序可以让您根据设备的风格制作不同的网站。问题是，如果我们想在Android、Iphone和PC上使用它，我们几乎必须制作3个网站。

从 2006 年开始，有一些 W3C 建议 ( [http://www.w3.org/TR/2006/CR-mobile-bp-20060627/](http://www.w3.org/TR/2006/CR-mobile-bp-20060627/) )，我认为已经过时，因为 6 年使互联网和设备完全不同。

有什么相关的贡献吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:38:36.933

据我所知（如果我错了，请纠正我）Django 是一个 Python 框架，所以它在服务器端运行。这不应该影响手机上运行的任何东西。所有智能手机都将能够运行 HTML/CSS 和 JavaScript/jQuery。

如果您正在谈论如何在如此小的屏幕上显示页面，则有几个选项：

1.  具有适应设备屏幕尺寸的响应式设计。看看[引导程序](http://twitter.github.com/bootstrap/)。
2.  拥有一个单独的移动站点，以及能够检测移动/平板设备并将其转发到在子域（如`mobile.mysite.com`.
3.  拥有一个无响应的站点并使用[`viewport`元标记](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag)。
4.  另一种选择是使用 css 媒体查询，它允许您根据屏幕或浏览器尺寸设置条件 css，如下所示：

    ```
    @media only screen 
    and (min-width : 325px) 
    and (max-width : 500px) {
    /*CONDITION CSS*/
    } 
    ```

媒体查询的好处在于，理论上您可以得到非常详细的信息，您可以对 100 台设备进行媒体查询，为设备横向和纵向模式指定特定的 css。

[这是](http://mobile.smashingmagazine.com/2012/08/22/separate-mobile-responsive-website-presidential-smackdown/)一篇关于罗姆尼与奥巴马竞选活动以及各方如何选择以不同方式开发其移动网站的非常有趣的文章。

# c# - C# 中 Mod 256 校验和的示例

> ID：12196967
> 
> 赞同：-3
> 
> 时间：2012-08-30T12:35:10.443
> 
> 标签：c#, .net, windows

我似乎找不到很多关于这个校验和算法的信息，也没有任何关于 C# 的信息，我有一个如下场景；

我有一串数据，例如：

```
string input = "hello world" 
```

我想创建一个校验和，以后可以用相同的字符串验证它

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T12:39:05.330

也许这对你来说已经足够了。如果您使用字节作为校验和，则自动隐含 Mod 256。

```
 string s = "hello world";
  byte[] data = Encoding.ASCII.GetBytes(s);
  byte check = 0;
  for (int i = 0; i < data.Length; i++)
  {
    check += data[i];
  } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T12:37:46.280

`(byte) input.GetHashCode()`?............

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T12:39:41.023

将字符串转换为字节数组并计算校验和：

```
string input = "hello world";
System.Text.ASCIIEncoding enc = new System.Text.ASCIIEncoding();
var array = enc.GetBytes(input);
byte chksum = 0;
foreach(byte data in array)
{
   chksum += data;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T12:40:05.500

默认情况下，校验和是整个数据的简单二进制 XOR，以生成内容的单个数字描述符。通常，XOR 校验和的宽度为 32 或 64 以匹配平台字的大小以使其更快地计算，这些和分别以 2^32 和 2^64 为模。如果有人说模 256，那么他可能想要一个单字节 8 位，因此模 256 校验和。

也就是说，您只需简单地从字符串中获取字节，然后将它们全部异或。

# objective-c - UIScrollViewDelegate 方法不适用于 UITextView 子类

> ID：12196968
> 
> 赞同：2
> 
> 时间：2012-08-30T12:35:16.923
> 
> 标签：objective-c, cocoa-touch, uitextview, uiscrollviewdelegate, uitextviewdelegate

我有一个`MyTextView`继承自`UITextView`. 我还有一个`MyViewController`是`UIViewController`. `MyViewController`实现`UITextViewDelegate`协议并设置为`MyTextView`.

`MyViewController`实现了一些来自`UITextViewDelegate`(like `- (void)textViewDidChange:(UITextView *)textView`) 的委托方法，它们都可以正常工作。但是，当我尝试实现`- (void)scrollViewDidScroll:(UIScrollView *)scrollView`或某些或其他滚动委托方法时，它们不会被调用。据我了解，这应该可以工作，因为`UITextView`继承`UIScrollView`并`UITextViewDelegate`符合`UIScrollViewDelegate`声明相关滚动方法的声明。

奇怪的是，如果我进入 IB 并将文本视图的类从`MyTextView`调用`UITextView`所有委托方法，包括滚动一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T08:09:20.097

您可能重新合成了该`delegate`属性，这意味着现在有一个新的实例变量为您的类私有，并且合成的访问器指向该私有变量。因此，任何通过实例变量而不是属性引用委托的超类实现都不会通过（当然，那些引用属性的实现仍然会调用您的子类访问器）。看起来可能`UITextField`使用属性并`UIScrollView`使用实例！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T19:51:09.457

我没有尝试过，但它可能与协议有关？

在这种情况下，第三个答案可能会有所帮助： [How to use custom delegates in Objective-C](https://stackoverflow.com/questions/645449/how-to-use-custom-delegates-in-objective-c)

# asp.net - 配置 iis 快速路径以具有虚拟目录

> ID：12196971
> 
> 赞同：1
> 
> 时间：2012-08-30T12:35:36.667
> 
> 标签：asp.net, iis-express

如何配置 IIS Express 以从特定目录位置运行我的 asp.net 应用程序？

我已经将我的应用程序复制到 c:\www\apptest 并且我有一个批处理文件来启动 iis express，然后打开 localhost url：

> iisexpress.exe /path:c:\www\ /port:8888

但在 IIS Express 中，我的应用名称不像站点那样出现，只是 localhost:8888。当输入 localhost:8888/apptest 我有一个错误：

> 解析器错误消息：在应用程序级别之外使用注册为 allowDefinition='MachineToApplication' 的部分是错误的。此错误可能是由未在 IIS 中配置为应用程序的虚拟目录引起的。

如何在 IIS Express 中配置我的站点？我认为它是虚拟目录。我可以在哪里配置它？

# iphone - .html 和 .htm 用于 xcode 4.3.2 (phonegap)

> ID：12196972
> 
> 赞同：1
> 
> 时间：2012-08-30T12:35:40.997
> 
> 标签：iphone, html, xcode, ios5

将**.html**和**.htm**用于 xcode 4.3.2 (phonegap) 时有什么区别？我的文件不会通过 xcode 创建应用程序。我在尝试模板文件时注意到它是 .htm？

什么是最佳实践？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:37:20.667

`.htm`扩展名是用于在 FAT16 文件系统（DOS 6 和更早版本使用）上存储 HTML 文档的约定。

`.html`是所有其他系统的约定。

据推测，PhoneGap 并不期望 HTML 文档具有 DOS 文件扩展名，因为它是在此类系统不再普遍使用十多年后创建的。

# ant - 项目“烧烤”中不存在目标“运行”

> ID：12196974
> 
> 赞同：0
> 
> 时间：2012-08-30T12:35:47.463
> 
> 标签：ant, jasper-reports

我想为 JasperReport 运行示例演示，因此我下载了该文件，但是当我[根据 Jasperreport 文档](http://jasperforge.org/website/jasperreportswebsite/trunk/documentation.html?header=project&target=jasperreports)在 Windows 7 命令行中键入以下内容时：

```
C:\jasperreports-4.7.0\demo\samples\barbecue>ant run 
```

我收到以下错误：

> 项目 "barbecue" 中不存在目标 "run" 。

那么可能是什么问题？

**::更新::** 在我输入`ant –p`CMD 后，我得到以下信息：-

```
C:\jasperreports-4.7.0\demo\samples\barbecue>ant -p
Buildfile: C:\jasperreports-4.7.0\demo\samples\barbecue\build.xml
Shows how barcodes could be included in reports using the Barbecue component.
Main targets:

 clean          Deletes all the generated files.
 compile        Compiles the XML report design and produces the .jasper file.
 csv            Generates a CSV version of the report by converting the .jrprint
 file.
 decompile      Decompiles a .jasper file into a .jrxml file.
 docx           Generates a DOCX version of the report by converting the .jrprin
t file.
 fill           Fills the compiled report design with data and produces the .jrp
rint file.
 html           Generates an HTML version of the report by converting the .jrpri
nt file.
 javac          Compiles the java source files of the test application.
 jxl            Generates an XLS version of the report by converting the .jrprin
t file using the JExcelApi library.
 ods            Generates an ODS version of the report by converting the .jrprin
t file.
 odt            Generates an ODT version of the report by converting the .jrprin
t file.
 pdf            Generates a PDF version of the report by converting the .jrprint
 file.
 pptx           Generates a PPTX version of the report by converting the .jrprin
t file.
 print          Sends the report in the .jrprint file to the printer.
 rtf            Generates an RTF version of the report by converting the .jrprin
t file.
 test           Runs the sample.
 view           Launches the report viewer to preview the report stored in the .
jrprint file.
 viewDesign     Launches the design viewer to preview the compiled report design
.
 viewDesignXml  Launches the design viewer to preview the XML report design.
 viewXml        Launches the report viewer to preview the generated report store
d in an XML file.
 writeApi       Generates a .java version of the report by converting the .jrxml
 file.
 writeApiXml    Generates a .jrxml version of the report by executing the API ve
rsion of the report design.
 xhtml          Generates an XHTML version of the report by converting the .jrpr
int file.
 xls            Generates an XLS version of the report by converting the .jrprin
t file using the POI library.
 xlsx           Generates an XLSX version of the report by converting the .jrpri
nt file.
 xml            Generates an XML version of the report by converting the .jrprin
t file.
 xmlEmbed       Generates an XML version of the report by converting the .jrprin
t file.
Default target: test 
```

**:::::UPDATED2:::::** 我`ant test`为图表演示键入但问题仍然存在：-

```
C:\jasperreports-4.7.0\demo\samples\charts>ant test
Buildfile: C:\jasperreports-4.7.0\demo\samples\charts\build.xml

test:
     [echo] ===================================
     [echo]  Charts Sample
     [echo] ===================================

clean:

clean-sample:

javac:

javac:
    [mkdir] Created dir: C:\jasperreports-4.7.0\demo\samples\charts\build\classe
s
    [javac] C:\jasperreports-4.7.0\demo\samples\build.xml:41: warning: 'includea
ntruntime' was not set, defaulting to build.sysclasspath=last; set to false for
repeatable builds
    [javac] Compiling 2 source files to C:\jasperreports-4.7.0\demo\samples\char
ts\build\classes
    [javac] warning: [options] bootstrap class path not set in conjunction with
-source 1.6
    [javac] Note: C:\jasperreports-4.7.0\demo\samples\charts\src\ChartsApp.java
uses unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 1 warning
     [copy] Copied 5 empty directories to 5 empty directories under C:\jasperrep
orts-4.7.0\demo\samples\charts\build\classes

compile:

compile:
    [mkdir] Created dir: C:\jasperreports-4.7.0\demo\samples\charts\build\report
s
      [jrc] Compiling 24 report design files.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\MultipleAx
isChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\XYBarChart
TimePeriodReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\XYAreaChar
tReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\Pie3DChart
Report.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\StackedBar
3DChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\MeterChart
Report.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\XYBarChart
Report.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\StackedAre
aChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\Candlestic
kChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\HighLowCha
rtReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\XYLineChar
tReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\BubbleChar
tReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\Thermomete
rChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\StackedBar
ChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\ScatterCha
rtReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\TimeSeries
ChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\SubDataset
ChartReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\AreaChartR
eport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\LineChartR
eport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\XYBarChart
TimeSeriesReport.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\GanttChart
Report.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\PieChartRe
port.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\Bar3DChart
Report.jrxml ... OK.
      [jrc] File : C:\jasperreports-4.7.0\demo\samples\charts\reports\BarChartRe
port.jrxml ... OK.

test:
     [java] net.sf.jasperreports.engine.JRException: java.sql.SQLException: sock
et creation error
     [java]     at net.sf.jasperreports.engine.util.AbstractSampleApp.getDemoHsq
ldbConnection(AbstractSampleApp.java:158)
     [java]     at ChartsApp.fill(ChartsApp.java:83)
     [java]     at ChartsApp.test(ChartsApp.java:63)
     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAcces
sorImpl.java:57)
     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMet
hodAccessorImpl.java:43)
     [java]     at java.lang.reflect.Method.invoke(Method.java:601)
     [java]     at net.sf.jasperreports.engine.util.AbstractSampleApp.executeTas
k(AbstractSampleApp.java:94)
     [java]     at net.sf.jasperreports.engine.util.AbstractSampleApp.main(Abstr
actSampleApp.java:179)
     [java]     at ChartsApp.main(ChartsApp.java:54)
     [java] Caused by: java.sql.SQLException: socket creation error
     [java]     at org.hsqldb.jdbc.Util.sqlException(Unknown Source)
     [java]     at org.hsqldb.jdbc.jdbcConnection.<init>(Unknown Source)
     [java]     at org.hsqldb.jdbcDriver.getConnection(Unknown Source)
     [java]     at org.hsqldb.jdbcDriver.connect(Unknown Source)
     [java]     at java.sql.DriverManager.getConnection(DriverManager.java:579)
     [java]     at java.sql.DriverManager.getConnection(DriverManager.java:221)
     [java]     at net.sf.jasperreports.engine.util.AbstractSampleApp.getDemoHsq
ldbConnection(AbstractSampleApp.java:150)
     [java]     ... 9 more

BUILD SUCCESSFUL
Total time: 8 seconds

C:\jasperreports-4.7.0\demo\samples\charts>ant run
Buildfile: C:\jasperreports-4.7.0\demo\samples\charts\build.xml

BUILD FAILED
Target "run" does not exist in the project "charts".

Total time: 0 seconds 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T14:04:12.643

Java 错误就像一场车祸。一辆车会撞到另一辆车，导致第一辆车撞上路灯。路灯倾倒并撞到一辆爆炸的汽油卡车。

最后，你有毁灭、火灾和死亡。然而，整个事情的开始是因为司机忙着发短信，没有在停车标志前停下来。

您有一长串错误消息，但最重要的是最开始的错误消息：

```
net.sf.jasperreports.engine.JRException: java.sql.SQLException: socket creation error
     [java]     at net.sf.jasperreports.engine.util.AbstractSampleApp.getDemoHsqldbConnection(AbstractSampleApp.java:158) 
```

这是一个*套接字创建错误*。

此错误似乎指出您无法连接到服务器或数据库。

而且，这就是我能做到的。我真的不认识 Jasper，但我确实找到[了这个](http://jasperforge.org/plugins/espforum/view.php?group_id=83&forumid=101&topicid=86819)。这对你有帮助吗？

是否有您应该运行的服务器，或者您需要连接的未创建的数据库？您是否有阻止连接到服务器/数据库的防火墙。（我倾向于数据库问题，因为我确实在您的错误消息中看到了有关*hsqldb*和*sql的内容。*

我认为您不是 Java 开发人员，因为您似乎对 Ant 和它的*build.xml*文件感到困惑。有人可以帮助你吗？如果可以，请查看*build.xml*并查看目标*测试*在做什么。它正在运行一个 Java 命令，您可以尝试在 Ant 之外运行该命令。有时，这会给你更多的信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T13:29:48.500

您应该运行*`ant test`*命令来运行示例（清理、编译和生成所有格式的报告：xls、pdf 等）。

***要在JRViewer***中查看报告，您应该运行*`ant view`*命令。

结果（输出）*`ant test`*将是：

```
d:\java\jasperreports-4.5.1\demo\samples\barbecue>ant test
Buildfile: d:\java\jasperreports-4.5.1\demo\samples\barbecue\build.xml

test:
     [echo] ===================================
     [echo]  Barbecue Sample
     [echo] ===================================

clean:

clean-sample:

javac:

javac:
    [mkdir] Created dir: d:\java\jasperreports-4.5.1\demo\samples\barbecue\build
\classes
    [javac] d:\java\jasperreports-4.5.1\demo\samples\build.xml:41: warning: 'inc
ludeantruntime' was not set, defaulting to build.sysclasspath=last; set to false
 for repeatable builds
    [javac] Compiling 1 source file to d:\java\jasperreports-4.5.1\demo\samples\
barbecue\build\classes

compile:

compile:
    [mkdir] Created dir: d:\java\jasperreports-4.5.1\demo\samples\barbecue\build
\reports
      [jrc] Compiling 1 report design files.
      [jrc] File : d:\java\jasperreports-4.5.1\demo\samples\barbecue\reports\Bar
becueReport.jrxml ... OK.

test:
     [java] Filling time : 3198
     [java] PDF creation time : 993
     [java] XML creation time : 224
     [java] XML creation time : 44
     [java] HTML creation time : 109
     [java] RTF creation time : 98
     [java] XLS creation time : 364
     [java] XLS creation time : 248
     [java] CSV creation time : 6
     [java] ODT creation time : 95
     [java] ODS creation time : 12
     [java] DOCX creation time : 183
     [java] XLSX creation time : 103
     [java] PPTX creation time : 74
     [java] XHTML creation time : 56

BUILD SUCCESSFUL
Total time: 13 seconds 
```

* * *

***对`net.sf.jasperreports.engine.JRException: java.sql.SQLException: sock et creation error`异常的反应：***

您尝试启动的示例正在使用与*HSQLDB*服务器的连接。要启动 DB，您应该从该文件夹运行*`ant runServer`*命令。*`demo/hsqldb`*

有关如何运行示例的更多详细信息，您可以阅读[这篇文章](http://jasperreports.sourceforge.net/sample.reference/charts/index.html#charts)

# vb.net - Option Strict 和 Anonymous 类型不能一起使用吗？

> ID：12196976
> 
> 赞同：5
> 
> 时间：2012-08-30T12:36:00.387
> 
> 标签：vb.net, linq, anonymous-types

我有一个产生匿名类型的 Linq 查询。但是，现在我想使用这种匿名类型的参数，它似乎不起作用。

```
For Each obj As Object in Query
Dim row As DataRow = obj.parameter
...
Next obj 
```

现在编译器在表达式 obj.parameter 上抛出一个错误：“Option Strict On 不允许后期绑定”。如果我理解正确，编译器不知道匿名类型的参数。我根据 Google 结果尝试了 Option Infer On（并删除了 As Object），但没有帮助。这似乎是有道理的，因为它似乎总是对我来说是一种扩大的转变。

无论如何要解决这个问题，还是我应该创建一个自定义类型？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:45:45.090

声明匿名类型的代码（即`Select`LINQ 查询的一部分）必须与使用它的代码使用相同的方法，并且`Query`变量的声明必须具有推断类型。将匿名类型转换为 an 后，您将无法访问它的属性，`Object`因为没有可以将其转换为的命名类型。

因此，请确保您的 LINQ 查询（或至少`Select`是新匿名类型的部分）使用相同的方法。例如

```
Dim Query = From prod In products
            Select prod.Name, prod.Price

For Each obj in Query
    Dim name = obj.Name
    ...
Next obj 
```

# asp.net - 带有 DataBinding 的 ASP.NET GridView：切换列可见性

> ID：12196978
> 
> 赞同：0
> 
> 时间：2012-08-30T12:36:00.637
> 
> 标签：asp.net, data-binding, code-behind, markup

我有一个绑定到 ObjectDataSource 的 ASP.NET GridView，其中不会自动生成列。现在我想根据用户的权限显示一行（包含编辑页面的链接）。我有一个方法可以进行所有权限检查并返回一个简单的布尔值来描述行的可见性。现在我的标记看起来有点像这样：

```
<Columns>
    <%-- Some important information rows --%>

    <asp:TemplateField Visible='<%= CanEditRows() %>'>
        <%-- Column content --%>
    </asp:TemplateField>
</Columns> 
```

然而，这总是会导致错误：

> System.Boolean 类型的对象不能从 String '<%= CanEditRows() %>' 创建并分配给 Visible-property。

（或以这种方式...）

我还尝试从 GridView 的 DataBound 或 DataBinding-Events 内的代码隐藏切换列可见性，但我尝试的一切都没有成功......

有人可以帮帮我吗？:)

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:40:16.557

尝试使用此代码

```
 <asp:TemplateField Visible=<%# CanEditRows() %> > 
```

# c# - 布尔语法的性能和优雅问题

> ID：12196979
> 
> 赞同：1
> 
> 时间：2012-08-30T12:36:08.337
> 
> 标签：c#, c#-4.0, coding-style, boolean, logic

这个问题更多的是性能问题而不是优雅，我为自己说话，但是......

有两个选项来实现，这对于 cpu 计算来说更快，或者如果最后它是相同的（我倾向于认为它是，因为条件是 (x<10) 相同）

```
 public int DidLogcount = 0; // DidLogCount is raised by +1 every time we deside, then condition is met 
    public bool MoreLogsAllowed()
    {
        if (DidLogcount < 10) return true;
        else return false;
    } 
```

对比

```
 public bool MoreLogsAllowed()
    {
       return DidLogcount < 10;
    } 
```

我们大部分时间都应该检查它是否不为空，但如果我们必须这样做，它会影响这两种情况，所以如果我没有错过任何其他问题，我猜我只是缩小了范围（？）。

我会应用正确的答案。谢谢。

重新编辑：我只是想标记正确的答案，但在页面上进行了刷新，又加载了 3 个......

将等待更多选票...现在，我真的要感谢大家！为了分享您的知识，我确实想到了编译器的优化问题，所以......虽然这些打印输出显示了一些东西，虽然它本身的差异很小，但是当添加到一堆条件时，它就更少了little ，除非我们谈论的是一个真正复杂的应用程序，否则我不会说 big 。我应该说，性能问题从来都不是小问题，还有逻辑和可读性，这要感谢@Steve 和@Nick 为我们实际测试它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T12:37:56.887

我不确定是否会有任何性能差异，如果有的话，它可以忽略不计。但第二种情况更优雅。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T12:42:57.490

用 LinqPAD 测试。

```
int DidLogcount = 5;
void Main()
{
    MoreLogsAllowed();
    MoreLogsAllowed2();
}

public bool MoreLogsAllowed() 
{ 
    if (DidLogcount < 10) return true; 
    else return false; 
} 

public bool MoreLogsAllowed2() 
{ 
    return (DidLogcount < 10); 
} 
```

并生成此 IL 代码

```
IL_0000:  ldarg.0     
IL_0001:  call        UserQuery.MoreLogsAllowed
IL_0006:  pop         
IL_0007:  ldarg.0     
IL_0008:  call        UserQuery.MoreLogsAllowed2

MoreLogsAllowed:
IL_0000:  ldarg.0     
IL_0001:  ldfld       UserQuery.DidLogcount
IL_0006:  ldc.i4.s    0A 
IL_0008:  bge.s       IL_000C
IL_000A:  ldc.i4.1    
IL_000B:  ret         
IL_000C:  ldc.i4.0    
IL_000D:  ret         

MoreLogsAllowed2:
IL_0000:  ldarg.0     
IL_0001:  ldfld       UserQuery.DidLogcount
IL_0006:  ldc.i4.s    0A 
IL_0008:  clt         
IL_000A:  ret 
```

第二个版本不仅更优雅，而且似乎产生了更短的代码。
为了确保这不是 LinqPAD 引入的差异，我使用 Visual Studio 2010 创建了一个小型控制台应用程序，并在发布模式下使用默认设置进行编译。
然后我用ILDASM看IL colde。
我确认上面的代码与编译器生成的代码相同。
当然差异可以忽略不计，但两个版本不会产生相同的 IL 代码。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T12:43:18.867

如果这两种选择之间的性能存在差异，我会感到非常惊讶。我也发现第二种选择更优雅，我什至会省略括号。

然而，对于更复杂的条件，特别是在涉及函数调用的情况下，将两个 return 语句放在不同的行上可以更方便地在使用调试器单步执行代码时找出正在发生的事情。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-30T12:40:07.527

对我来说，第一个例子没有优雅。此外，我认为编译器会优化第一种情况，所以没有什么可谈的。对我来说，第二个例子更简洁、更短、更易读。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-30T12:53:31.697

任何性能差异都可能可以忽略不计，并且高度依赖于 .NET JIT 编译 - 但查看 x86 示例，比较结果如下：

```
 if (DidLogcount < 10) return true;
... skipped DidLogCount call...
    00000020  mov         dword ptr [ebp-4],eax 
    00000023  cmp         dword ptr [ebp-4],0Ah 
    00000027  jge         00000037 
    00000029  mov         eax,1 
    0000002e  and         eax,0FFh 
    00000033  mov         esp,ebp 
    00000035  pop         ebp 
    00000036  ret 
                else return false;
    00000037  xor         eax,eax 
    00000039  mov         esp,ebp 
    0000003b  pop         ebp 
    0000003c  ret 
```

对比

```
 return (DidLogcount < 10);
    ... skipped DidLogCount call...
0000001f  mov         dword ptr [ebp-4],eax 
00000022  cmp         dword ptr [ebp-4],0Ah 
00000026  setl        al 
00000029  movzx       eax,al 
0000002c  mov         esp,ebp 
0000002e  pop         ebp 
0000002f  ret 
```

后者可能会更快一些 - 但同样取决于您的 CPU 如何处理这些指令。

最好的答案是编写一个测试应用程序来衡量它！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-30T12:45:23.933

两个片段之间没有区别，因为最重要的是 MSIL，在编译之后，在这种情况下，编译后的代码是相同的。

```
Code 1 C# -> MSIL 1 -> Code natif 1

Code 2 C# -> MSIL 1 -> Code natif 1 
```

# jquery - json 和 javascript 获得价值

> ID：12196982
> 
> 赞同：0
> 
> 时间：2012-08-30T12:36:12.253
> 
> 标签：jquery, json

我如何能够从以下获取 jquery 中的用户名

```
{"id":true,"username":"mynameisdonald"} 
```

我试过 console.log(data); 它显示了上述内容，当我使用 console.log(data.username) 时，它显示为未定义

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:37:56.983

使用[`parseJSON`](http://api.jquery.com/jQuery.parseJSON/)功能：

```
var jsonStr = '{"id":true,"username":"mynameisdonald"}';
var obj = $.parseJSON(jsonStr);
console.log(obj.username); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:38:52.783

在您的 jQuery 调用中，指定这是 JSON：

```
$.post(
    "backend.php", 
    data: "nodata",
    function(data) {
        console.log(data.username);
    },
    "json"
); 
```

或者像这样使用jQuery [`parseJSON`](http://api.jquery.com/jQuery.parseJSON/)：

```
$.post(
    "backend.php", 
    data: "nodata",
    function(rawData) {
        var data = $.parseJSON(rawData);
        console.log(data.username);
    }
); 
```

# php - 更改 WordPress 的模板层次结构

> ID：12196986
> 
> 赞同：0
> 
> 时间：2012-08-30T12:36:23.203
> 
> 标签：php, wordpress, wordpress-theming

有没有一种简单的方法可以更改 WP 默认模板层次结构？

例如;

假设我想更改我的主题目录结构，使其完全不同于此处根据条件建议的模板层次结构：

[http://codex.wordpress.org/Template_Hierarchy](http://codex.wordpress.org/Template_Hierarchy)

如果我想确保对于所有页面类型（`is_single()` `is_home()`等）它总是打开一个模板文件，然后激发我自己的模式来提供输出？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T13:22:41.890

我会这样做：易于阅读且效果很好

单.php：

```
<?php include_once('template-you-want.php'); 
```

主页.php：

```
<?php include_once('template-you-want.php'); 
```

如果您根本不想拥有这两个文件，请在 index.php 中执行：

```
<?php
// at the very top
if (is_single()){
    include_once('template-you-want.php');
    die(); // don't continue
}

if (is_home()){
    include_once('template-you-want.php');
    die(); // don't continue
} 
```

# javascript - NetBeans：Javascript 代码完成无法按预期工作

> ID：12196987
> 
> 赞同：0
> 
> 时间：2012-08-30T12:36:30.573
> 
> 标签：javascript, macos, netbeans

我刚刚开始使用 NetBeans（适用于 Mac 的 PHP 7.2 版）并且到目前为止很喜欢它。我无法弄清楚的一件事是如何让代码完成以与 PHP、CSS 和 HTML 文件相同的方式对 Javascript 文件工作。例如，如果我在 PHP 文件中输入“fun”，它会弹出一个框让我选择“function”：

![在此处输入图像描述](../Images/4912a98ae50dfdd22a26f3778348f84a.png)

如果我在 Javascript 文件中做同样的事情，我会得到 nada：

![在此处输入图像描述](../Images/32f283fdba958f94a271733ed3ac8026.png)

我找遍了所有地方，但没有找到添加此功能的方法。您的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T20:12:58.353

对于此示例，请尝试使用*Source-> Complete Code*命令（默认为`Ctrl`+ `Space`）。

无论如何，JavaScript 编辑器目前正在从头开始[重写，因此预计在不久的将来会有更好的代码智能。](https://blogs.oracle.com/netbeansphp/entry/new_javascript_editor_in_the)

**编辑：**我几乎忘记了最明显的答案...确保您的文件属于已加载的项目。代码智能在项目之外无法正常工作。

# asp.net-mvc-3 - 检索发布到 jquery 对话框的数据

> ID：12196988
> 
> 赞同：3
> 
> 时间：2012-08-30T12:36:32.503
> 
> 标签：asp.net-mvc-3, jquery-ui

我的问题与这个答案有些相关 - [https://stackoverflow.com/a/3458299/1635958](https://stackoverflow.com/a/3458299/1635958)。

我正在研究 Asp.Net MVC 3.0。

我有 Page1 我有很多控件。当我单击 Button1 时，我希望能够创建一个 json 对象列表（比如说 List personList ）并将该列表发送到控制器操作。我希望将视图作为对话框打开。

所以我正在尝试类似的东西

```
var $dialog = $('<div></div>')
    .load("http://localhost:XXXX/Controler1/Action1")
    .dialog({
   autoOpen: false,
   title: "SomeTitle",
   width: 500,
   height: 300
});

$dialog
    .data("personList", personList)
    .dialog('open'); 
```

一旦我这样做了，我希望能够在控制器端反序列化这些数据并将其传递给视图。通过这种方法可行吗？有更好的方法吗？

**编辑**

要求是这样的 ->
1\. Page1 将显示书籍详细信息的网格。
2\. 每一行都有一个Action 列，它是一个复选框
3\. 用户可以选择他感兴趣的行，然后单击网格外的一个按钮来执行特定的Action。
4\. 我应该能够整理有关所有选定书籍的数据，并将该数据传递到打开的 jQuery 对话框中。
5\. jQuery 对话框应该向用户显示整理的数据，并让他能够采取一些额外的行动。

**编辑 2** 在 MVC 中使用模式对话框的最佳做法是什么？我有一个显示项目网格的视图。我想提供选择行子集、单击按钮并打开带有所选行的模式对话框以编辑所选行并执行更多操作的功能。在 MVC 中完成这项工作的最佳实践是什么？当我们单击按钮时，如果我们调用一个控制器，那么推荐的将数据传递给该控制器的方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T09:23:12.193

我是这样做的->

我从第一页创建了一个 json 对象。将其作为 ajax 调用发布到控制器。控制器会渲染一个视图作为结果。我捕获响应并将其显示为 jquery UI 对话框。为我工作。

# android - ID 0 没有键盘，我该如何解决？

> ID：12196993
> 
> 赞同：0
> 
> 时间：2012-08-30T12:36:51.557
> 
> 标签：android

我不知道为什么会发生这种情况，因为我以前的代码是这样的，但是当我的活动继续进行时，应用程序将停止 id 0 的键盘。

```
public class Lesson_p extends Activity implements OnClickListener {
MediaPlayer p, p_sound;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.lesson_p);
    p = MediaPlayer.create(this, R.raw.p);
    p_sound = MediaPlayer.create(this, R.raw.p_sound);

    View p = findViewById(R.id.imageButton_p);
    p.setOnClickListener((OnClickListener)this);

    View p_sound = findViewById(R.id.imageButton_pp);
    p_sound.setOnClickListener((OnClickListener)this);

    Button back = (Button) findViewById(R.id.button_bckp);
    back.setOnClickListener((OnClickListener)this);

    Button next = (Button) findViewById(R.id.button_nxtp);
    next.setOnClickListener((OnClickListener)this);
}

public void onClick(View v) {
    // TODO Auto-generated method stub
     switch(v.getId()){
        case R.id.imageButton_p:
            p.start();
            break;

        case R.id.imageButton_pp:
            p_sound.start();
            break;

        case R.id.button_bckp:
            Intent back = new Intent(this, Example_n.class);
            startActivity(back);
            break;

        case R.id.button_nxtp:
            Intent next = new Intent(this, Example_p.class);
            startActivity(next);
            break;

        }       

}
//@Override
protected void onPause() {
    // TODO Auto-generated method stub
    super.onPause();
    p.release();
    p_sound.release();
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:50:21.753

检查这篇[文章](https://stackoverflow.com/questions/6321706/no-keyboard-for-id-0-what-does-it-mean)。它会给你答案。要获得谷歌的答案，请点击[这里](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/R3yvdVCFsQg)。

# javascript - Aloha 内联编辑器

> ID：12196995
> 
> 赞同：1
> 
> 时间：2012-08-30T12:37:02.720
> 
> 标签：javascript, ruby-on-rails, aloha-editor

我正在尝试向 Aloha 内联编辑器 UI 工具栏添加一个按钮，以便在我的 rails 应用程序中使用。用于普通 html 页面的代码可以正常工作。然而，在我的 Rails 应用程序中，即使我复制粘贴它，它也无法正常工作。该页面甚至没有显示任何错误。我的代码如下，它来自他们的网站，只是在这里包含它： -

```
<script type="text/javascript">
Aloha.require(['ui/ui', 'ui/button'], function(Ui, Button) {
    var button = Ui.adopt("myButton", Button, {
        click: function(){
            alert("Click!");
        }
    });
});

Aloha.settings.toolbar = {
    tabs: [
     {
        label: 'Save',
        components: [ 'myButton' ]
     }
    ],
    exclude: [ 'strong', 'emphasis', 'strikethrough' ]
};

Aloha.ready( function() {
    var $ = Aloha.jQuery;
    $('.editable').aloha();
});
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T16:34:46.283

我同意！

```
 Aloha.settings.toolbar = {...}; 
```

应该在 aloha.js 的 include 之前。但如果是这样，你就会遇到在你想使用的那一刻没有定义 Aloha 的问题。

所以我在演示中找到了解决方法。

```
(function(window, undefined) {

   if (window.Aloha === undefined || window.Aloha === null ) {
      var Aloha = window.Aloha = {};
   }

   Aloha.settings = { 
      toolbar :{.....} 
   }; 

})(window); 
```

之后，包含 aloha.js 并且设置应该生效。

# mysql - MySQL：删除数据库时出错（errno 13；errno 17；errno 39）

> ID：12196996
> 
> 赞同：60
> 
> 时间：2012-08-30T12:37:02.757
> 
> 标签：mysql, errno

我未能删除数据库：

```
mysql> 删除数据库 mydb;
ERROR 1010 (HY000): 删除数据库时出错（不能 rmdir './mydb', errno: 39）

```

目录 db/mydb 存在于 mysql 树中但没有表：

```
# ls -l db/mydb
-rw-rw---- mysql mysql HIS_STAT.MYD
-rw-rw---- mysql mysql HIS_STAT.MYI

```

我该怎么办？

* * *

## 回答 #1

> 赞同：131
> 
> 时间：2012-08-30T13:06:29.530

# 快速解决

如果您无论如何都只想删除数据库（但*请先*阅读整篇文章：错误**是有原因的**，知道原因可能很重要！），您可以：

*   使用命令找到数据目录`SHOW VARIABLES WHERE Variable_name LIKE '%datadir%';`
*   停止 MySQL 服务器（例如在 Linux 上`service mysql stop`或`rcmysqld stop`类似，`NET STOP <name of MYSQL service, often MYSQL57 or similar>`或`SERVICES.MSC`在 Windows 上通过）
*   转到数据目录（这是您应该调查的地方；见下文）
*   删除与数据库同名的目录
*   再次启动 MySQL 服务器并连接到它
*   执行 DROP DATABASE
*   就是这样！

# Errno 13 的原因

`mydb`MySQL 对文件夹所在的父目录没有写权限。

检查它

```
ls -la /path/to/data/dir/         # see below on how to discover data dir
ls -la /path/to/data/dir/mydb 
```

在 Linux 上，如果混合搭配 MySQL 和 AppArmor/SELinux 软件包，也会发生这种情况。发生的情况是 AppArmor 期望 mysqld 将其数据保存在 中`/path/to/data/dir`，并允许在那里进行完全 R/W，但 MySQLd 来自不同的发行版或构建，它实际上将其数据存储在**其他地方**（例如：`/var/lib/mysql5/data/**`与 相对`/var/lib/mysql/**`）。因此，您看到的是该目录具有**正确的权限和所有权**，但它仍然提供 Errno 13，因为 apparmor/selinux 不允许访问它。

要验证，请检查系统日志是否存在安全违规，手动检查 apparmor/selinux 配置，和/或模拟 mysql 用户并尝试转到基本 var 目录，然后逐步 cd 直到您在目标目录中，然后运行类似`touch aardvark && rm aardvark`. 如果权限和所有权匹配，但上述情况会产生访问错误，则很可能是安全框架问题。

> **“EASY FIX”被认为是有害的**
> 
> *我在“专家论坛”（不是*Stack Overflow，谢天谢地）上遇到了一个“简单修复”建议，我有时会为 Web 和 FTP 问题找到相同的“修复”—— `chown 777`。**请不要那样做**。对于那些还不知道的人来说，777（或 775，或 666）并不是 MySQL 程序员以某种方式*忘记应用*或*不想让你知道*的神奇数字。每个数字都有一个含义，777 的意思是“**我在此同意每个人对我的东西做任何他们想做的事情，直到并包括执行它，就好像它是一个二进制或 shell 脚本一样**”。通过这样做（很可能你*不会被允许*在配置合理的系统上这样做），
> 
> *   你冒着几个安全意识程序*拒绝运行的*风险（例如，如果你对你的 SSH 密钥这样做，再见 SSH 连接等），因为他们意识到他们现在处于不安全的环境中。
> *   您实际上允许对系统具有任何级别访问权限的每个人都可以读取*和写入*您的数据，无论 MySQL 是否允许，*MySQL 本身*都不知道- 即，可以默默地破坏整个数据库。
> *   *有时可能*会在*极度困难*的情况下，由绝望和知识渊博的人完成上述操作，以再次获得对原本无法访问的拧紧 MySQL 安装的访问权限（即甚至`mysqladmin`不再授予本地访问权限），并且一旦事情恢复就会立即撤消正常-这不是永久性的变化，*即使那样也不是*。这不是解决“一个能够删除我的数据库的奇怪技巧”的方法。
> 
> （不用说，它几乎**也不**是任何 Web 或 FTP 问题的*真正*解决方案。“最近，妻子的钥匙无法打开前门，她无法进入我们家”的解决方案是“检查钥匙或把锁修好或更换了'；公认的更快`chown 777`的是“只要把前门敞开！轻松！可能发生的最坏情况是什么？”）

# Errno 39 的原因

此代码表示“目录不为空”。该目录包含一些MySQL 一无所知的**隐藏文件。**对于非隐藏文件，见 Errno 17。解决方法是一样的。

# Errno 17 的原因

此代码表示“文件存在”。该目录包含一些 MySQL 不想删除的 MySQL 文件。此类文件可能是由没有路径的`SELECT ... INTO OUTFILE "filename";`命令创建的。`filename`在这种情况下，MySQL 进程在其当前工作目录中创建它们，该工作目录（在 OpenSuSE 12.3 上的 MySQL 5.6 上测试）是*数据库的数据目录*，例如`/var/lib/mysql/data/nameofdatabase`.

再现性：

```
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1676
Server version: 5.6.12-log openSUSE package
[ snip ]    

mysql> CREATE DATABASE pippo;
Query OK, 1 row affected (0.00 sec)

mysql> USE pippo;
Database changed
mysql> SELECT version() INTO OUTFILE 'test';
Query OK, 1 row affected (0.00 sec)

mysql> DROP DATABASE pippo;
ERROR 1010 (HY000): Error dropping database (can't rmdir './pippo/', errno: 17)

-- now from another console I delete the "test" file, without closing this connection
-- and just retry. Now it works.

mysql> DROP DATABASE pippo;
Query OK, 0 rows affected (0.00 sec) 
```

将文件移到外面（或如果不需要则删除）并重试。**另外，首先确定它们的创建原因 - 它可能指向某些应用程序中的错误**。或者更糟：见下文...

# 更新：错误 17 作为漏洞利用标志

这发生在安装了 Wordpress 的 Linux 系统上。不幸的是，客户受到时间限制，我既无法对磁盘进行映像，也无法进行真正的取证 - 我重新安装了整台机器，并且 Wordpress 在此过程中得到了更新，所以我只能说我*几乎*可以肯定他们是通过[这个完成的插件](https://www.exploit-db.com/exploits/34161/)。

**症状**：`mysql`数据目录包含三个扩展名为 PHP 的文件。*等等，什么？！？*- 在文件中，有大量的 base64 代码被传递给`base64_decode`,`gzuncompress`和`[eval()][2]`. *啊哈*。当然，这些只是第一次尝试，没有成功。该网站一直很好，真正pwn3d。

因此，如果您在 mysql 数据目录中发现导致错误 17 的文件，**请使用`file`实用程序**检查它或使用防病毒软件对其进行扫描。或目视检查其内容。**不要假设它存在一些无害的错误。**

（不用说，要目视检查文件，*切勿双击它*）。

在这种情况下，受害者（他有一些朋友“进行维护”）永远不会猜到他被黑客入侵，直到维护/更新/任何脚本运行`DROP DATABASE`（*不要问我为什么 - 我什至不确定我想要要知道*）并得到一个错误。从 CPU 负载和系统日志消息来看，我相当肯定主机已成为垃圾邮件场。

# 又一个错误 17

如果您`rsync`或在相同版本*但不同平台或文件系统*（如 Linux 或 Windows）的两个 MySQL 安装之间进行复制（不鼓励这样做，并且有风险，但许多人仍然这样做），特别是使用不同的[区分大小写](http://dev.mysql.com/doc/refman/5.0/en/identifier-case-sensitivity.html)设置，您可能会意外结束同一个文件的**两个版本**（数据、索引或元数据）；说`Customers.myi`和`Customer.MYI`。MySQL 使用其中一个，而对另一个一无所知（这可能已过时并导致灾难性的同步）。当删除数据库时，这也发生在许多`mysqldump ... | ... mysql`备份方案中，`DROP`将失败，因为那个额外的文件（或*那些*额外文件）存在。如果发生这种情况，您应该能够从文件时间中识别出需要手动删除的过时文件，或者从它们的案例方案与大多数其他表不同的事实中识别出来。

# 查找数据目录

通常，您可以通过检查`my.cnf`文件（在 Linux 上为 , ；`/etc/my.cnf`在`/etc/sysconfig/my.cnf`Windows中的 MySQL 程序文件目录中）在标题下找到数据目录，如.`/etc/mysql/my.cnf``my.ini``[mysqld]``datadir`

或者，您可以向 MySQL 本身询问：

```
mysql> SHOW VARIABLES WHERE Variable_name LIKE '%datadir%';
+---------------+-----------------+
| Variable_name | Value           |
+---------------+-----------------+
| datadir       | /var/lib/mysql/ |
+---------------+-----------------+
1 row in set (0.00 sec) 
```

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2014-03-10T12:59:13.513

在我的情况下，这是由于 'lower_case_table_names' 参数。

当我尝试删除包含带有 lower_case_table_names 参数的大写表名的数据库时，抛出的错误号 39 已启用。

这可以通过将小写参数更改恢复到以前的状态来解决。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2017-11-09T17:21:53.990

只需前往`/opt/lampp/var/mysql`

在那里你可以找到你的`database`名字。打开那个文件夹。如果其中有任何文件，请删除

现在来`phpmyadmin`扔掉那个`database`

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2018-05-03T07:50:22.180

至于**ERRORCODE 39**，您绝对可以只删除磁盘上的物理表文件。该位置取决于您的操作系统分布和设置。在 Debian 上，它通常在 /var/lib/mysql/ *database_name* / 下，所以这样做：

```
rm -f /var/lib/mysql/<database_name>/ 
```

然后从您选择的工具中删除数据库或使用以下命令：

```
DROP DATABASE <database_name> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-04-20T14:54:32.910

这就是我解决它的方法：

```
mysql> DROP DATABASE mydatabase;
ERROR 1010 (HY000): Error dropping database (can't rmdir '.\mydatabase', errno: 13)
mysql> 
```

我去删除了这个目录：`C:\...\UniServerZ\core\mysql\data\mydatabase`.

```
mysql> DROP DATABASE mydatabase;
ERROR 1008 (HY000): Can't drop database 'mydatabase'; database doesn't exist 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2018-11-01T15:16:19.763

在我的情况下，一个不属于数据库的附加文件位于数据库文件夹中。删除所有触发错误的表后，Mysql 发现文件夹不为空。我删除了文件，drop 数据库工作正常。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2018-07-13T08:00:52.463

在linux中，只需转到“/var/lib/mysql”右键单击并（以管理员身份打开），在mysql文件夹中找到与您的数据库名称对应的文件夹并将其删除。就是这样。数据库被删除。