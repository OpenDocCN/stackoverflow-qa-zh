# StackOverflow 问答 11008000-11008999

# java - 使 Jar 文件正确链接时出现问题。验证错误

> ID：11008002
> 
> 赞同：1
> 
> 时间：2012-06-13T03:54:50.600
> 
> 标签：java, android, exception, jar, verifyerror

我已经在网上搜索了很长时间，并且很明显这个 VerifyError 并不少见，并且可能有多种原因导致跳闸。我创建了一个项目，并将其导出为 jar 文件。它是用 android 2.2 (API 8) 构建的。这部分工作正常。但是我有一个单独的项目，当我尝试导入它时，我开始遇到问题。

我能够让它工作的唯一方法是将 jar 导入我创建的 libs 文件夹中。然后它会自动添加为 Android 依赖项，我可以正常使用它，但是我无法将我的 javadoc 文件附加到它，并且在我的构建配置中它说我无法修改依赖项。（无法链接到 javadoc）。

我认为我应该能够做的只是将它添加为外部 jar，然后链接 javadoc 和源代码。如果我这样做，使用 jar 的代码不会显示任何错误，并且 javadoc 注释有效。但是，当我运行它时，我不断收到一个 VerifyError。我附上了显示错误的堆栈跟踪。我完全没有想法，有人有什么建议吗？我是否构建了错误的jar文件？我是不是导入错了？

如果有人可以帮助我指出建设性的方向，将不胜感激。

谢谢

堆栈跟踪： ![堆栈跟踪](../Images/341bad9e0eec4421b3829554579a9b39.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T17:27:16.310

好的，所以这很令人沮丧。当我花了一个多小时研究这个问题时，解决方案花了大约 20 秒。

我必须做的是去：属性 - > Java构建路径 - >订单和导出

但是，除了单击外部 jar 之外，我还必须将其移至构建路径顺序的列表顶部。

肯定要归功于 yorkw，因为它为我指明了正确的方向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T04:02:42.477

我相信Android jar文件有点不同。您可以尝试将 JAR 文件放入 Android“dx”工具中，它位于 ~/android-sdk/platform-tools

# html - 如何使阴影一直穿过div的边缘，而不是插入

> ID：11008005
> 
> 赞同：5
> 
> 时间：2012-06-13T03:55:23.763
> 
> 标签：html, css, dropshadow

这是一个非常简单的问题，我无法弄清楚。

我想让一个阴影一直穿过 div 的底部。事实上，它覆盖了大部分底部：

![在此处输入图像描述](../Images/d39d7bd9c0286e02ee3dd32294957687.png)

这是代码：

```
box-shadow: 0px 20px 15px -15px rgba(0, 0, 0, 0.49) 
```

我需要影子从两边一直穿过。

谢谢

编辑：我会错吗？我应该使用其他一些 CSS 属性吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T04:17:11.030

有一个解决方案，使用一个额外的 div，比原来的大，绝对定位。在此处查看一个工作示例：http: [//jsfiddle.net/martinschaer/MHs5R/](http://jsfiddle.net/martinschaer/MHs5R/)

```
<div class="container">
    <div class="content"></div>
    <div class="shadow"></div>
</div> 
```

和 de CSS：

```
.container{
    position: relative;
    background-color: #f0f0f0;
    padding: 20px;
}

.content{
    height: 200px;
    width: 200px;
    background-color: #fff;
}

.shadow{
    -webkit-box-shadow:  0px 20px 15px -15px rgba(0, 0, 0, 0.49);
    box-shadow:  0px 20px 15px -15px rgba(0, 0, 0, 0.49);
    position: absolute;
    top: 20px; /* .container top padding */
    left: 13.5px; /* 20 - (15/2) = .container left padding - (shadow spread / 2) */
    width: 215px; /* .content width + shadow spread */
    height: 200px;
}​ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T04:19:58.377

要避免顶部阴影，请添加垂直偏移并相应地调整其他参数。此外，将传播距离设置为 0 或更大，您将覆盖水平边框。

从这个开始：

```
box-shadow: 0px 10px 10px 0px rgba(0, 0, 0, 0.49) 
```

如果您没有覆盖完整的水平边框，请稍微增加第 4 个值，直到它看起来不错。如果需要，也相应地调整您的垂直偏移。

查看实际框的 html / css 也会很有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T04:03:22.437

box-shadow参数依次为：
水平偏移量、垂直偏移量、模糊距离、阴影散布距离、颜色值

我想你需要的是这个`box-shadow: 0px 0px 15px 5px rgba(0, 0, 0, 0.49)`

这是小提琴 - [http://jsfiddle.net/ashwyn/Cbqej/1/](http://jsfiddle.net/ashwyn/Cbqej/1/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-13T04:22:37.500

## 结果是：

![在此处输入图像描述](../Images/b2cf10b85af1d047885a33e41d249b91.png)

[**dabblet.com 上的演示**](http://dabblet.com/gist/2921844)

## CSS：

```
div {
    background-color: #FFF;
    border: 1px solid #888;
    width: 100px;
    height: 100px;
    box-shadow: 0px 10px 5px -2px #888 ;
} 
```

# java - Java jar 运行

> ID：11008011
> 
> 赞同：0
> 
> 时间：2012-06-13T03:56:04.747
> 
> 标签：java, jar, double-click

知道为什么

```
java -jar jarname.jar 
```

有效，但双击罐子会给出一个

`"Could not find the main class:"`

错误？清单已正确放置，并且直到最近双击才有效，但突然之间它给出了该错误。我不确定我做了什么改变。

编辑：
我用来创建 jar 的命令是（在 cmd 中）：

```
jar cfe jarname.jar files.Main * 
```

Main 是包文件的一部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T03:58:32.700

在清单文件中添加此条目：

```
Main-Class: com.abc.def.YourMainClass 
```

希望这会有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T04:19:10.240

前段时间我有一个类似的问题。这是由我机器上的多个 JDK/JRE 版本引起的。双击使用的内容与键入`jar`shell 使用的内容不同。

我认为[JarFix](http://johann.loefflmann.net/en/software/jarfix/index.html)可以提供帮助。或者您在文件关联中查找与双击关联的内容（重新安装 java 也可能有帮助）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T04:23:18.363

It seems to have been some weird compiler version problem. When I complied the class files using an older version of java, then compiled it into a .jar file, it was able to run.

# actionscript-3 - 屏幕中间的全屏视频

> ID：11008012
> 
> 赞同：0
> 
> 时间：2012-06-13T03:56:18.167
> 
> 标签：actionscript-3, video, fullscreen

使用我在这里找到的答案后 [as3 video full screen mode](https://stackoverflow.com/questions/1457318/as3-video-full-screen-mode) 这是：

```
stage.displayState = StageDisplayState.FULL_SCREEN;
videoPlayer.x = 0;
videoPlayer.y = 0;
videoPlayer.width = stage.fullScreenWidth;
videoPlayer.height = stage.fullScreenHeight; 
```

我的视频是全屏尺寸，但锚定在舞台上的同一点，将我的视频放在一边。

有没有一种算法可以用来计算我应该移动视频多少负像素，以便它边到边显示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T08:47:23.523

添加这些行，您的代码可能会起作用。默认情况下，舞台放大以填满屏幕 (VIEW_ALL) 并居中。

```
stage.align = StageAlign.TOP_LEFT;
stage.scaleMode = StageScaleMode.NO_SCALE; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T08:08:18.030

计算视频和舞台的宽度并使用它的一半：

当 videoPlayer 的锚点位于左上角时：

```
videoPlayer.x = (stage.fullScreenWidth - videoPlayer.width) / 2;
videoPlayer.y = (stage.fullScreenHeight- videoPlayer.height ) / 2; 
```

当 videoPlayer 的锚点居中时：

```
videoPlayer.x = stage.fullScreenWidth / 2;
videoPlayer.y = stage.fullScreenHeight / 2; 
```

**编辑：**再次阅读您的问题后，您可以尝试在调整大小后重新定位您的视频：

```
import flash.display.StageAlign;

stage.align = StageAlign.TOP_LEFT;
stage.addEventListener(Event.RESIZE, myResizeHandler);

private function myResizeHandler(event:Event) {
    videoPlayer.x = 0;
    videoPlayer.y = 0;
} 
```

# c++ - boost msm，我如何确定是否发生了转换？

> ID：11008016
> 
> 赞同：2
> 
> 时间：2012-06-13T03:57:13.840
> 
> 标签：c++, boost, boost-msm

当我触发 process_event("eventname") 时，如何检查是否发生了状态转换或是否调用了 no_transition？

基本上，我希望触发/调用 process_event("eventname") 的类能够判断转换是否发生。目前我无法确定这一点。

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T15:32:06.333

process_event 的返回值为：

```
typedef enum
{
    HANDLED_FALSE=0,
    HANDLED_TRUE =1,
    HANDLED_GUARD_REJECT=2,
    HANDLED_DEFERRED=4
} HandledEnum; 
```

你想要的可能是所有除了`HANDLED_FALSE`，它附带`no_transition`。

# php - 按列使用 php mysql 分组结果？

> ID：11008022
> 
> 赞同：0
> 
> 时间：2012-06-13T03:58:11.527
> 
> 标签：php

我有一张数据表 `mobile(id, name, size)`；

```
(1, "Asha 301", "240 x 400");
(2, "Asha 302", "480 x 800");
(3, "Asha 303", "240 x 400");
(4, "Asha 304", "480 x 800");
(5, "Asha 305", "240 x 400");
(6, "Asha 306", "240 x 400");
<?php
    $query = "SELECT id, name, size
              FROM `mobile`
              GROUP BY size Order by display_size ";
    $results = mysql_fetch_array($query);
   foreach ($results as $result) {
        ?>
        <li>
           <?php echo $result['size']; ?>
           <ul>
               <li><?php echo $result['name']; ?></li>
           </ul>
        </li>
<?php
}
?> 
```

结果是：

```
240 x 400
   Asha 301
400 x 800
   Asha 302 
```

结果只得到 1 行，如何获取所有行？

```
240 x 400
   Asha 301
   Asha 303
   Asha 305
   Asha 306
400 x 800
   Asha 302
   Asha 304 
```

如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:01:44.797

```
 $query = "SELECT `id`, `name`, `size` FROM `mobile` Order by `size` ";
 $results = mysql_query($query);
 while ($result=mysql_fetch_array($results)) {
  ?>
    <li>
       <?php echo $result['size']; ?>
       <ul>
           <li><?php echo $result['name']; ?></li>
       </ul>
    </li> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T04:01:06.570

`mysql_fetch_object`返回一个对象，因此在 foreach 中迭代它什么也不做。

相反，您应该使用`mysql_fetch_array`，它返回一个结果数组，

# delphi - 从zip中提取图像到内存delphi

> ID：11008024
> 
> 赞同：1
> 
> 时间：2012-06-13T03:58:19.630
> 
> 标签：delphi, memory, zip, jpeg, delphi-xe2

我想以某种方式将加载有图像的 zip 文件提取到内存中。我真的不在乎它们进入什么类型的流，只要我之后可以加载它们。我对流没有那么深刻的理解，关于这个主题的解释似乎也没有很详细。

本质上，我现在正在做的是将文件提取到 (getcurrentdir + '\temp\')。这有效，但不是我想要做的。我会更乐意让 jpg 最终出现在内存中，然后能够从内存中读取到 TImage.bitmap。

我目前正在使用 jclcompresion 来处理 zip 和 rars，但正在考虑回到 system.zip，因为我真的只需要能够处理 zip 文件。如果继续使用 jclcompression 会更容易，尽管这对我有用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T16:16:46.960

[TZipFile](http://docwiki.embarcadero.com/Libraries/en/System.Zip.TZipFile)类的[read](http://docwiki.embarcadero.com/Libraries/XE2/en/System.Zip.TZipFile.Read)方法可以与流一起使用

```
procedure Read(FileName: string; out Stream: TStream; out LocalHeader: TZipHeader); overload;
procedure Read(Index: Integer; out Stream: TStream; out LocalHeader: TZipHeader); overload; 
```

从这里您可以使用索引或文件名访问压缩文件。

检查这个使用[TMemoryStream](http://docwiki.embarcadero.com/Libraries/en/System.Classes.TMemoryStream)保存未压缩数据的示例。

```
uses
  Vcl.AxCtrls,
  System.Zip;

procedure TForm41.Button1Click(Sender: TObject);
var
  LStream    : TStream;
  LZipFile   : TZipFile;
  LOleGraphic: TOleGraphic;
  LocalHeader: TZipHeader;
begin
  LZipFile := TZipFile.Create;
  try
    //open the compressed file
    LZipFile.Open('C:\Users\Dexter\Desktop\registry.zip', zmRead);
    //create the memory stream
    LStream := TMemoryStream.Create;
    try
      //LZipFile.Read(0, LStream, LocalHeader); you can  use the index of the file
      LZipFile.Read('SAM_0408.JPG', LStream, LocalHeader); //or use the filename 
      //do something with the memory stream
      //now using the TOleGraphic to detect the image type from the stream
      LOleGraphic := TOleGraphic.Create;
      try
         LStream.Position:=0;
         //load the image from the memory stream
         LOleGraphic.LoadFromStream(LStream);
         //load the image into the TImage component
         Image1.Picture.Assign(LOleGraphic);
      finally
        LOleGraphic.Free;
      end;
    finally
      LStream.Free;
    end;
  finally
   LZipFile.Free;
  end;
end; 
```

# javascript - 没有任何 {} 的 for 循环

> ID：11008030
> 
> 赞同：5
> 
> 时间：2012-06-13T03:58:59.547
> 
> 标签：javascript

所以我正在阅读关于洗牌的内容。然后我遇到了[这个脚本](https://stackoverflow.com/a/6274381/283863)：

```
shuffle = function(o){ //v1.0
    for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
    return o;
}; 
```

当我仔细观察时，`for`它甚至根本没有`{}`！但它很有效，就像魔术一样。我很想知道它是如何工作的。[^(（还有一堆逗号。）)]

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-13T04:05:29.860

后面的`for ()`可以是任何语句；可以是带有花括号的东西，也可以是单个表达式，也可以是空表达式。`for (...);`相当于`for (...) {}`。当然，这只能与自然终止的 for 循环一起使用，否则您将手上有一个无限循环。

逗号实际上是二级分号；它们生成大部分单独的语句，但它们可以在 for 循环中工作（以及其他地方；这是对它们的非常草率的定义）。

```
for (
     // initialisation: declare three variables
     var j, x, i = o.length;
     // The loop check: when it gets to ``!i``, it will exit the loop
     i;
     // the increment clause, made of several "sub-statements"
     j = parseInt(Math.random() * i),
     x = o[--i],
     o[i] = o[j],
     o[j] = x
)
    ; // The body of the loop is an empty statement 
```

这可以以更易读的形式表示为：

```
for (
     // initialisation: declare three variables
     var j, x, i = o.length;
     // The loop check: when it gets to ``!i``, it will exit the loop
     i;
     // note the increment clause is empty
) {
     j = parseInt(Math.random() * i);
     x = o[--i];
     o[i] = o[j];
     o[j] = x;
} 
```

作为一个while循环，可能是：

```
var j, x, i = o.length;
while (i) {
     j = parseInt(Math.random() * i);
     x = o[--i];
     o[i] = o[j];
     o[j] = x;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T04:51:41.120

首先，我想指出这样的循环被认为是不好的风格，因为它非常不可读并且会引起很多混乱。这是一个典型的优化出错的例子。

查看[规格](http://es5.github.com/#x12.6.3)，您会发现`for(...)`后面必须有一个*声明*。它可以是[任何语句](http://es5.github.com/#x12)，包括块。所以所有这些都是有效的：

```
for (...)
    foo;  // expression statement 
```

,

```
for(...)
    {
       // block statement
    } 
```

,

```
for(...)
   if(...) // If statement
      foo; 
```

， 而且当然

```
for (...)
    ; 
```

因为 " `;`" 是[*空语句*](http://es5.github.com/#x12.3)。它什么也不做，但足以使`for(...);`语法有效。

现在，逗号。请注意，括号的内容必须是三个[表达式](http://es5.github.com/A.html#A.3)，（每个都是可选的），用分号分隔。几乎“一切”都可以作为表达式，包括以[逗号分隔的表达式列表](http://es5.github.com/x11.html#x11.14)。虽然鲜为人知，但这些工作基本上在 JS 中无处不在，不仅在`for`循环中。他们只是一个接一个地被评估。

所以，你的循环可以像这样重写

```
shuffle = function(o) {
    var j, x, i = o.length;
    while (i) { // for-loops are just while-loops in disguise
        j = parseInt(Math.random() * i), // even better: replace , by ;
        x = o[--i],
        o[i] = o[j],
        o[j] = x;
    }
    return o;
}; 
```

此外，`x = o[--i]`应写为`i--; x = o[i]`.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-13T04:01:51.200

对于我们不需要 {} 的单个语句，每个计算都在同一个语句中，但也在这个语句中；（句尾用了句终止符）表示下一条语句不属于for语句。无论逻辑是什么，for 语句都是一样的。

```
 for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);

  for(var j, x, i = o.length;// Initialization
  i;// Work until i is zero
 j = parseInt(Math.random() * i),
  x = o[--i], o[i] = o[j], o[j] = x);//Here he is    computing his logic 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-13T04:00:32.967

如果都在一行上，则不需要括号。很多时候，在括号内的第三部分中，您只会看到`i++`，或类似的东西。真的，你可以在那里做很多不同的事情。如果您能够在第三部分中打包所有内容，那么您甚至不需要`for`循环体。

```
for (first section; second section; third section); 
```

**第一节**

变量被声明和初始化。这些变量包含在循环的范围内。

**第二节**

这是每次循环通过时检查的条件。

**第三节**

每次通过循环后运行的代码。它可以像增加一个变量一样简单，也可以像……那么复杂，只要语法正确，您可以在线放置任何东西。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-13T04:00:39.647

看起来我没有正确阅读循环。

在这种情况下，评估发生在 for 循环的条件内。

所以一个 for 循环包含三个部分

```
for (initial variables; end cases; what to do every iteration) 
```

您定义一些初始的东西并使用`o`它们传递给函数，定义一个结束情况，然后在每次迭代中计算一些东西。最后，`o`有一个新值并返回。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-13T04:05:21.203

所有的工作实际上都是在`for`声明的括号内完成的。循环没有明确的主体，所以`;`最后只是说主体是一个空语句。

（`,`逗号）运算符从左到右计算表达式，并返回最右边的值。

循环基本上相当于：

```
for(var j, x, i = o.length; i > 0;)
{
    j = parseInt(Math.random() * i--);
    x = o[i];
    o[i] = o[j];
    o[j] = x
} 
```

# python - Python - 将创建的字符串转换为转换说明符

> ID：11008031
> 
> 赞同：0
> 
> 时间：2012-06-13T03:59:02.323
> 
> 标签：python, string, placeholder

我有一个创建随机字符串的脚本，我想把它变成一个占位符。这是我的脚本：

```
import random

def randstring(length=10):
    valid_letters='abcdefghijklmnopqrstuvqxyz1234567890'
    return ''.join((random.choice(valid_letters) for i in xrange(length)))
print randstring(15)
#prints something like "qkxfdqp5jockf6n" 
```

我希望能够将“randstring(15)”的创建值转换为转换说明符，例如 %s 或 %d。这应该很简单，但我无法弄清楚。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T04:06:21.783

使用`format()`而不是旧的`%s`字符串格式。

```
import random

def randstring(length=10):
  valid_letters='abcdefghijklmnopqrstuvqxyz1234567890'
  return "hello, {0:s}".format(''.join((random.choice(valid_letters) for i in xrange(length))))
print (randstring(15)) 
```

**输出：**

```
hello, u3gbd0p2rfvrsze 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T04:13:31.360

> 当我运行它时，它会吐出一个字符串，例如 qkxfdqp5jockf6n 。我想让它能够做类似 print "Hello, %s" 它说 "Hello, qkxfdqp5jockf6n"

`%s`不是魔术，它也不会神奇地知道你想要替换什么。它是一个占位符。您将字符串替换为*与替换任何其他字符串相同的方式*：

```
text = 'Damien'
def my_function():
    return 'Damien'

# All of the following will print "Hello, Damien":
print 'Hello, %s' % 'Damien'
print 'Hello, %s' % text
print 'Hello, %s' % my_function() 
```

没有任何东西“变成”转换说明符。

# java - 如何用Java编写我们自己的标记接口？

> ID：11008033
> 
> 赞同：19
> 
> 时间：2012-06-13T03:59:23.493
> 
> 标签：java, oop, interface

我知道java中的标记接口。它用于定义有关类的特定行为。例如，Serializable 接口具有将对象存储为字节流及其反向过程的特定能力。但是我不知道这个特定的行为是在哪里实现的，因为它里面没有任何方法。

1.  JVM 如何调用这个特定的行为？
2.  如何编写我们自己的标记接口？你能给我一个简单的用户定义的标记界面供我理解吗？
3.  标记接口中是否可以有方法？

请指导我解决此问题。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-06-13T04:11:14.153

*   JVM 如何调用此特定行为

`ObjectOutputStream`并将`ObjectInputStream`检查您的课程是否实现`Serializable`, `Externalizable`. 如果是，它将继续，否则将抛出`NonSerializableException`。

*   如何编写我们自己的标记接口

创建一个没有任何方法的接口，这就是你的标记接口。

样本

```
public interface IMarkerEntity {

} 
```

如果任何实现此接口的类将被您的应用程序视为数据库实体。

示例代码：

```
public boolean save(Object object) throws InvalidEntityException {
   if(!(object instanceof IMarkerEntity)) {
       throw new InvalidEntityException("Invalid Entity Found, cannot proceed");
   } 
   database.save(object);
} 
```

*   这可能在标记接口中有方法吗？

[标记接口模式](http://en.wikipedia.org/wiki/Marker_interface_pattern)的整个想法是提供一种说“是的，我是某物”的意思，然后系统将继续执行默认过程，就像当你将你的类标记为 Serialzable 时，它​​只是告诉这个类可以转换为字节。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-13T04:08:33.537

1.  序列化由`ObjectInputStream`和`ObjectOutputStream`类处理。[如果一个类有特殊的序列化需求， API](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html)中列出了创建方法。反射用于调用这些方法。

2.  与编写任何其他接口的方式相同。

3.  没有什么能阻止您将方法放入标记接口中。

现在更常见的做法是使用[注释](http://docs.oracle.com/javase/tutorial/java/javaOO/annotations.html)来提供与元数据标记接口相同的功能。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-03-02T10:24:12.337

是的，我们可以创建自己的标记界面..请参阅以下...

```
interface Marker{   
}

class MyException extends Exception {   
    public MyException(String s){
        super(s);
    }
}

class A  {
    void m1() throws MyException{        
         if((this instanceof Marker)){
             System.out.println("successfull");
         }
         else {
             throw new MyException("Must implement interface Marker ");
         }      
    }   
}

public class CustomMarkerInterfaceExample  extends A implements Marker
{ // if this class will not implement Marker, throw exception
    public static void main(String[] args)  {
        CustomMarkerInterfaceExample a= new CustomMarkerInterfaceExample();
        try {
            a.m1();
        } catch (MyException e) {

            System.out.println(e);
        }

    }

} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-02-08T20:03:55.070

标记接口没有方法。Java具有JVM可以理解的内置标记接口，如`Serializable`，`Clonable`&等。`EventListner`

我们可以创建自己的标记接口，但它与 JVM 无关，我们可以添加一些检查`instanceOf`。

1.  创建空接口

    ```
    interface Marker{    } 
    ```

2.  编写一个类并实现接口

    ```
    class A implements Marker {
        //do some task
    } 
    ```

3.  `Main`检查标记接口的类`instanceof`

    ```
    class Main {
        public static void main(String[] args) {
            A ob = new A(){
            if (ob instanceof A) {
                // do some task
            }
        }
    } 
    ```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-13T04:09:57.800

[正如 Wikipedia 文章Marker interface pattern](http://en.wikipedia.org/wiki/Marker_interface_pattern)中很好地解释的那样，marker interface 是元数据的一种形式。客户端代码可以测试一个对象是否是标记接口的一个实例，并相应地调整它的（客户端的）行为。这是一个标记界面：

```
public interface CoolObject {
} 
```

然后代码可以测试一个对象是否是 a`CoolObject`并用它做一些事情：

```
if (anObject instanceof CoolObject) {
    addToCoolList((CoolObject) anObject);
} 
```

该`Serializable`接口被定义为 Java 语言的一部分。您自己无法实现该级别的行为。

您可以将方法添加到标记接口，但这会将标记模式与接口的其他概念用途混合在一起，并且可能会造成混淆。（一个实现接口的类是为了标记它，还是为了它的行为，或两者兼而有之？）

正如 Wikipedia 文章中所解释的，Java 中的标记接口可以（并且可能应该）替换为[annotations](http://docs.oracle.com/javase/tutorial/java/javaOO/annotations.html)。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-13T04:09:18.853

据我所知，标记接口通过“实用程序”类获得它们的行为。例如，如果您阅读了四人组的设计模式书，您就会知道一个类的行为是用另一个类中定义的标记接口标记的。

例如，您有一个标记界面“可保存”。您有一个遍历所有实现此接口的类（通过反射）的过程，然后对其进行保存操作。

# iphone - 建立window和iPad之间的Socket连接

> ID：11008039
> 
> 赞同：2
> 
> 时间：2012-06-13T04:00:50.393
> 
> 标签：iphone, ios, ipad, sockets, network-programming

我需要在窗口机器和 iPad 之间建立套接字连接。所以这里的window machine是一个可以连接一个或多个iPad的服务器。对于窗口机器（服务器）代码已经存在。

那么使用socket将window机与iPad连接会有什么问题吗？最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:19:27.843

如果您因为一侧是 Win 而另一侧是 iOS 而询问可能的问题，那么您可以确定这不会导致任何问题。

假设您正在谈论 iOS TCP 客户端 - 这里有一个很好的教程：[iPhone 网络编程](http://www.devx.com/wireless/Article/43551)。

还有 Robbie Hanson 的[CocoaAsyncSocket](https://github.com/robbiehanson/CocoaAsyncSocket)：写得很好，易于实现并附带示例。示例是 OSX 项目，但可以快速转换为 iOS 项目。

# mysql - 170 MB 的数据库对于 350 个帖子来说是否太大？

> ID：11008042
> 
> 赞同：0
> 
> 时间：2012-06-13T04:01:09.223
> 
> 标签：mysql, wordpress

我正在使用 wordpress，只有大约 350 个帖子。在清理所有帖子修订、垃圾评论和优化数据库后，它的大小为 170 mb。当我检查 phpmyadmin 时，评论元是 152 mb，我有 700 条评论。是不是太大了？我怎样才能减小尺寸？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-26T17:48:29.893

优化不是清理，优化只是重新排列数据以加快访问速度。您需要从 mysql 数据库中删除冗余数据。这里有 7 个 mysql 查询来清理你臃肿的数据库。

[http://www.geckoandfly.com/12815/10-must-use-sql-queries-clean-wordpress-bloated-mysql-database/](http://www.geckoandfly.com/12815/10-must-use-sql-queries-clean-wordpress-bloated-mysql-database/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T09:25:07.633

嗨，

过去我有同样的问题，这篇文章帮助了我：[http ://thecustomizewindows.com/2011/12/reduce-wp_commentmeta-table-database-size-in-wordpress/](http://thecustomizewindows.com/2011/12/reduce-wp_commentmeta-table-database-size-in-wordpress/)

祝你好运！:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:58:05.317

问题是因为垃圾邮件评论没有被永久删除。永久删除垃圾评论，评论元表大小将降至几 kb。

# javascript - 如何找出在 Chrome 控制台中按下按钮时调用了哪些函数？

> ID：11008047
> 
> 赞同：70
> 
> 时间：2012-06-13T04:01:54.850
> 
> 标签：javascript, google-chrome-devtools, google-closure-library

我正在尝试自学 Google Closure javascript 库。我正在检查 TreeControl UI 小部件。

我如何使用 Chrome 控制台来分析当我在下面的演示中单击“剪切”按钮时运行了哪些功能？例如，我可以为此设置一个断点吗？我已经尝试查看源代码并环顾四周，但我觉得 Chrome 控制台可能会提供更系统的方法。

[https://github.com/google/closure-library/blob/master/closure/goog/demos/tree/demo.html](https://github.com/google/closure-library/blob/master/closure/goog/demos/tree/demo.html)

* * *

## 回答 #1

> 赞同：122
> 
> 时间：2012-06-13T04:42:09.020

您可能正在寻找调试器区域右侧的“事件侦听器断点”部分。打开它并选择“鼠标”下的点击事件。请参阅屏幕图像。然后单击应用程序中的按钮，您将立即被带到正在执行的代码。

![在此处输入图像描述](../Images/4d3d79b077018ce385de33856a179424.png)

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2012-06-13T04:38:47.297

打开 Chrome 开发者工具窗口，点击“Sources”选项卡。如果您没有看到任何内容，您可能需要单击该选项卡左上角的“显示导航器”按钮。打开导航器，导航到`cut()`定义函数的文件（在您的情况下是`demo.html`）。将文件显示在视图中时，找到`cut()`定义函数的行，然后在该函数的第一行设置断点。您可以通过单击左侧的行号来设置断点。

设置断点后，在页面上执行一些触发`cut()`函数的操作，浏览器应在脚本进入函数后立即中断脚本执行`cut()`（假设断点位于函数的第一行`cut()`）。从这一点开始，您可以使用选项卡右上角的控件来步入/退出/绕过代码，看看发生了什么。

这是我这样做的截图：http: [//d.pr/i/f6BO](http://d.pr/i/f6BO)

此外，这里有一个很棒的视频，它讨论了使用 Chrome 开发工具，包括设置断点：[http ://www.youtube.com/watch?v=nOEw9iiopwI](http://www.youtube.com/watch?v=nOEw9iiopwI)

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2012-06-13T04:39:34.180

您正在寻找的东西称为“分析”。

它可以通过以下方式实现：

1.  转到个人资料
2.  选择第一个选项（“收集 JavaScript CPU 配置文件”）
3.  在按下“剪切”按钮之前启动它

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-09-05T09:48:37.890

这可能对某些人有帮助：

您可以右键单击元素选项卡上的元素并使用“中断”来中断例如子元素修改。[https://developer.chrome.com/devtools/docs/javascript-debugging](https://developer.chrome.com/devtools/docs/javascript-debugging)

# c# - .net 压缩使用水晶报告生成的 pdf

> ID：11008049
> 
> 赞同：4
> 
> 时间：2012-06-13T04:02:23.197
> 
> 标签：c#, .net, pdf, crystal-reports, compression

截至目前，我们正在使用水晶报表以编程方式生成 PDF 并将其保存到数据库中。PDF 文档中包含条形码图像。每个文件的大小为 120-150 KB。

一切运行良好，但最近我们面临数据库大小和存储需求大幅增长的问题。这是因为每天生成 100 - 1000 条记录。

有什么方法可以压缩PDF文件然后存储它。任何可用的 API/工具都可以执行这些操作而不会对条形码造成问题。压缩后我们能否大幅减小尺寸？

或者任何其他存储数据的方式都会很好？

对此的任何建议将不胜感激。

谢谢， 斯维拉普

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:17:09.420

不幸的是，由于 PDF 已经被压缩，您不会通过压缩 PDF获得*太多收益。*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T15:09:16.873

许多*压缩*的 PDF 文件可以进一步压缩。

PDF 文件的大小通常可以通过以下方式减小：

*   删除未使用的对象（如果有）
*   从文件中删除多余的空白字符（而不是从视觉内容中）
*   使用对象流（PDF 1.5 功能）

我不知道 Crystal Report 压缩 PDF 的效果如何，但您可能想尝试[Docotic.Pdf 库](https://bitmiracle.com/pdf-library/)和以下代码，看看您的文件是否可以更好地压缩。

```
public static void CompressExistingDocument(string original, string output)
{
    using (PdfDocument pdf = new PdfDocument(original))
    {
        pdf.SaveOptions.Compression = PdfCompression.Flate;
        pdf.SaveOptions.UseObjectStreams = true;
        pdf.SaveOptions.RemoveUnusedObjects = true;
        pdf.SaveOptions.WriteWithoutFormatting = true;

        pdf.Save(output);
    }

    FileInfo originalFileInfo = new FileInfo(original);
    FileInfo compressedFileInfo = new FileInfo(output);
    MessageBox.Show(
        String.Format("Original file size: {0} bytes;\r\nCompressed file size: {1} bytes",
        originalFileInfo.Length, compressedFileInfo.Length));

    System.Diagnostics.Process.Start(output);
} 
```

免责声明：我为图书馆的供应商工作。

# php - 对变量中的特定行进行分组和筛选 (PHP)

> ID：11008054
> 
> 赞同：0
> 
> 时间：2012-06-13T04:03:51.313
> 
> 标签：php, arrays, preg-split

我有一个包含类似数据的 PHP 变量：

```
$var = "
Name: Tom
Age: 26
Location: London

Name: Mike
Age: 28
Location: New York

Name: Sunny
Age: 24
Location: Tokyo"; 
```

我只想提取位置，并将它们存储在数组中，例如：

```
Array
(
    [0] => London
    [1] => New York
    [2] => Tokyo
) 
```

现在，凭借我对 PHP 的简单经验，我正在使用“ *LOL，Don't Laugh..* ”来完成这项工作：

```
$location = array_merge(preg_replace('/^Location: /','',preg_grep('/^Location: /',explode("\n", $var)))); 
```

但我相信，会有一种更好的流程（可能使用`preg_split`）来实现更快、更明智并且可能更少的系统过载。

请告知..提前谢谢.. :-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T04:12:17.417

```
preg_match_all('/Location: (.+)/', $var, $m);
print_r($m[1]); 
```

之所以有效，是因为默认情况下，点与换行符不匹配。

# arduino - 在 Arduino 中使用 Google 的“协议缓冲区”

> ID：11008058
> 
> 赞同：16
> 
> 时间：2012-06-13T04:04:14.427
> 
> 标签：arduino, protocol-buffers, avr

是否可以让 Google [Protocol Buffers](http://en.wikipedia.org/wiki/Protocol_Buffers)在 Arduino 中工作？

我已经尝试了大约一个星期，但无法使其工作，我想知道它是否可能。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-14T19:00:44.163

这应该适合 Arduino： [https ://github.com/nanopb/nanopb](https://github.com/nanopb/nanopb)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-15T21:19:49.560

经过几次尝试，我已经设法为 Arduino 编译 google 协议缓冲区（使用 lite 运行时），但生成的代码大小仍然超过了 32k 的限制。所以，就目前而言，GPB 不是 Arduino 项目的可行选择。（也许在 Arduino Mega 上？）

我建议您查看[MQTT](http://knolleary.net/arduino-client-for-mqtt/)以寻找合适的替代品（我会这样做）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T12:58:00.883

查看提供的链接，它说它具有 C++ 绑定。这本质上是 arduino 的编程内容。我看不出它为什么不起作用。如果您要发布一些详细信息（您尝试处理的数据对象和系统生成的 C++ 代码），我们可能会提供帮助。究竟是什么不工作？

# scala - 为什么我无法运行这个 scala 程序？

> ID：11008059
> 
> 赞同：0
> 
> 时间：2012-06-13T04:04:17.240
> 
> 标签：scala, netbeans

我正在尝试在 net beans 中运行以下 scala 程序。我无法运行以下内容。由于我对 scala 非常陌生，因此我无法弄清楚出了什么问题。

```
object HelloWorld {

def main(args:Array[String])
{
  println("hello world");
}
} 
```

下面屏幕截图中的信息框显示：

> “scalaapplication1.HelloWorld”类没有主方法。

**附上截图**

![在此处输入图像描述](../Images/71ca460fc0ea1a27079908676e2213c5.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T15:43:05.403

我也有这个。首先，更新您的 NetBeans。如果这没有帮助，请尝试使用运行配置来运行它，而不是直接从弹出菜单中运行。如果这仍然没有帮助，请使用 Eclipse 或 IntelliJ IDEA :-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:08:21.173

您的代码似乎正确，但您描述的问题不可重现。

总是描述你的问题，以便它可以被复制。

在这里，我可以建议从头开始重试（这将消除小错误，如果有的话），如果问题仍然存在，您可以详细描述您的问题，包括您已采取的步骤、您正在使用的版本的详细信息等。

快速深入了解 scala 并运行您的第一个应用程序（Hello World！）；[在http://www.assembla.com/spaces/scala-ide/wiki/Tutorial](http://www.assembla.com/spaces/scala-ide/wiki/Tutorial) (Scala-Eclipse IDE)有一个非常好的分步教程。

# javascript - 即使在 slickgrid 节点中输入了正确的值，也会显示上一个 onValidationError 事件的工具提示

> ID：11008065
> 
> 赞同：0
> 
> 时间：2012-06-13T04:05:13.543
> 
> 标签：javascript, validation, tooltip, slickgrid

我正在使用`requiredFieldValidator`我的`TextEditor`. 使用`onValidationError`下面给出的事件，我将单元格的标题属性设置为错误消息，以便工具提示将显示为“这是必填字段”。

```
var handleValidationError = function(e, args) {
var validationResult = args.validationResults;
var activeCellNode = args.cellNode;
var editor = args.editor;
var errorMessage = validationResult.msg
$(activeCellNode).live('mouseover mouseout', function(event) {
if (event.type == 'mouseover') {
    $(activeCellNode).attr("title", errorMessage);
} else {
    $(activeCellNode).attr("title", "");
}
});
grid.onValidationError.subscribe(handleValidationError); 
```

成功地，当出现一些验证错误时会显示工具提示。但问题是当给同一个单元格一个正确的值并且验证成功时，之前的工具提示会再次出现。

如何在成功验证时删除该工具提示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T03:03:13.550

我找到了解决此问题的方法，并且效果很好。

通过浏览 slick.grid.js 代码，我了解到只有当验证器的“有效”值为 false 时才会触发 OnValidationError 事件。

**我的想法是在验证器被调用时触发 onValidationError 事件，即验证成功和失败，并检查“有效”值并根据该值处理工具提示。**

脚步：

1.  在 slick.grid.js 中，当验证器的“有效”也为真时，我添加了 onValidationError 事件的触发器。

（即）在 slick.grid.js 的 if(validationResults.valid) 中的 return 语句之前添加以下给定代码

```
trigger(self.onValidationError, {
          editor: currentEditor,
          cellNode: activeCellNode,
          validationResults: validationResults,
          row: activeRow,
          cell: activeCell,
          column: column
        }); 
```

2\. 在您的 slickgrid 的 onValidationError 事件处理程序中，获取参数 'valid' 的值。如果为真，则表示验证成功并删除工具提示，即删除该节点的标题属性。如果 'valid' 为 false，则表示验证失败并添加 tooltip.ie 将 title 属性设置为错误消息。通过这样做，之前的 onValidationError 的工具提示将不会出现在同一个节点上。代码如下：

```
grid.onValidationError.subscribe(function(e, args) {
        var validationResult = args.validationResults;
        var activeCellNode = args.cellNode;
        var editor = args.editor;
        var errorMessage = validationResult.msg;
        var valid_result = validationResult.valid;
        if (!valid_result) {
           $(activeCellNode).attr("title", errorMessage);
            }
        else {
           $(activeCellNode).attr("title", "");
        }

    }); 
```

希望这个解决方案能帮助其他人解决这个问题。

学习愉快！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-20T09:51:12.467

实现这一点的更合适的方法是订阅`onBeforeCellEditorDestroy`事件并清除那里的状态（即清除工具提示）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T13:09:05.380

而不是编辑光滑的网格 js - 我已经提交了此更改的请求 - 同时您可以订阅以下事件以删除以前的验证显示：

```
 grid.OnCellChange.Subscribe(delegate(EventData e, object a)
        {
            // Hide tooltip
        });
        grid.OnActiveCellChanged.Subscribe(delegate(EventData e, object a)
        {
            // Hide tooltip
        });
        grid.OnBeforeCellEditorDestroy.Subscribe(delegate(EventData e, object a)
        {
            // Hide tooltip
        }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-21T20:18:10.573

我无法确定 中的当前单元格`OnBeforeCellEditorDestroy`，所以我只是清除了`onCellChange`之前触发的标题`onValidationError`。例如：

```
grid.onCellChange.subscribe(function (e, args) {
    $(grid.getCellNode(args.row, args.cell)).children("input").attr( "title", "");
}); 
```

# php - PHP imagettftext 字体文件名无效

> ID：11008066
> 
> 赞同：5
> 
> 时间：2012-06-13T04:05:16.017
> 
> 标签：php, gd, truetype

我正在尝试使用 imagettftext 创建带有文本的图像。它告诉我警告：imagettftext()：第 32 行 C:\xampp\htdocs\recentpost.php 中的字体文件名无效。这是我用来添加文本的第 32 行代码

```
imagettftext($img, 12, 0, 20, 1, $black, "../fonts/arial.ttf", "News!"); 
```

我从 C:/Windows/Fonts 文件夹中复制了字体，因此它是有效字体。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-13T04:17:20.610

尝试类似：

```
$font = dirname(__FILE__) . '/arial.ttf';
//OR
$font = dirname(__FILE__) . '/fonts/arial.ttf';    
imagettftext($img, 12, 0, 20, 1, $black, $font, "News!"); 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T04:10:38.050

如果你在 Windows 上，你应该使用`"..\fonts\arial.ttf"`我认为的路径

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T04:18:36.937

您是否尝试过使用

```
imagettftext($img, 12, 0, 20, 1, $black, "../fonts/arial.TTF", "News!"); 
```

反而？（.TTF 而不是 .ttf）

和@Fab，您可以在 Windows 上同时使用 \ 和 /。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T04:24:35.977

哦，哇，愚蠢的我......我已经太晚了，无法使用 php ：p 我试图进入一个不存在的文件夹。真正的代码应该是

```
imagettftext($img, 12, 0, 20, 1, $black, "fonts/arial.ttf", "News!"); 
```

谢谢大家试图纠正我的愚蠢错误：p

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-16T17:44:25.397

尝试使用双斜杠：

```
imagettftext($img, 12, 0, 20, 1, $black, "..\\fonts\\arial.ttf", "News!"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-07-06T08:05:07.613

我尝试使用上面的建议，但没有一个对我有用。

所以，我会添加对我有用的东西，以防其他人在我的鞋子里。

我用了

```
imagettftext($img, 12, 0, 20, 1, $black, getcwd()."\fonts\\arial.ttf", "News!"); 
```

*请注意，'arial.ttf' 之前的额外反斜杠是为了转义原始字体文件目录中的反斜杠。*

`getcwd()`用于获取当前工作目录。[你可以在这里](https://www.php.net/manual/en/function.getcwd.php)阅读更多。

*如果您愿意，您可以使用`echo getcwd()."\fonts\\arial.ttf"`获取完整目录并将所有反斜杠更改为正斜杠。它仍然可以正常工作*

# python - 不支持库

> ID：11008071
> 
> 赞同：0
> 
> 时间：2012-06-13T04:06:20.173
> 
> 标签：python, django, google-app-engine, xhtml2pdf

我正在使用 Python、DJANGO 和 Google Appengine 编写我的第一个应用程序。基本流程是用户将数据输入数据库并创建一个导出为 PDF 的报告表单。除了最后一块，我已经完成了所有工作，但我遇到了一个我找不到任何东西的问题。我有最新版本的 Appengine Launcher、Python 2.7、DJANGO 1.4 和 XHTML2PDF 0.0.4。我将它与我的应用程序捆绑在一起，但是当我启动我的应用程序时，我在页面和日志中收到错误消息：

加载应用程序配置时出现致命错误：

> ```
> Invalid object:
> the library "xhtml2pdf" is not supported
>   in "/Users/username/project/app.yaml", line 31, column 1 
> ```

我需要做些什么或配置一些额外的东西还是版本问题？

感谢您可以为新手提供的任何帮助，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:44:17.380

你的第31行`app.yaml`说什么？

`xhtml2pdf`不在App Engine 2.7 支持[的第三方库列表中。](https://developers.google.com/appengine/docs/python/tools/libraries27)（这些是包含 C 扩展的库，需要额外的审查才能支持。纯 Python 库通常是可以的）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T03:26:06.383

包含 xhtml2pdf 的最简单方法是将 xhtml2pdf src 文件夹拖放到主目录中，然后

从 xhtml2pdf 导入比萨

您还需要reportlab，拖放也适用于它。我不得不使用来自[http://ruudhelderman.appspot.com/testpdf](http://ruudhelderman.appspot.com/testpdf)的修改版本，但其他人已经得到了非修改版本的工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T07:40:25.343

xhtml2pdf 库不包含在应用引擎运行时中。不过，您可以自己包含它。python27 运行时支持 html5lib 需要的 lxml 库（xhtml2pdf 需要）。但是，有一个更简单的解决方案：使用[转换 api](https://developers.google.com/appengine/docs/python/conversion/)，它支持 HTML -> PDF 转换，并且使用起来会更容易。

# php - 如何将值从数据库发送到来自操作页面

> ID：11008075
> 
> 赞同：0
> 
> 时间：2012-06-13T04:07:45.900
> 
> 标签：php, mysql

我正在创建一个常见问题解答面板，因为问题可能有多个答案，我想获取答案 ID。因为我正在按答案 ID 存储评论

问题是如何将 $answer_id 发送到 comment_submit_process.php 以及如何识别答案？

```
$selected_ques= mysql_prep($_GET['ques']);
   $query = "SELECT * FROM formanswer where question_id = {$selected_ques}";
    $ans=  mysql_query($query);
    if($ans){
       while($answer = mysql_fetch_array($ans))  

           //here is the form  
        <form id="add-comment" action="comment_submit_process.php" >
         <textarea   class="comment-submit-textarea" cols="78" name="comment" style="height: 64px;"></textarea>
         <input type="submit" name="submitbutton" value="Add Comment" class="comment-submit-button"  >

         <br> <?php
         $ans_id= $answer['id'];  //i am fatching the $answer['id'] from database

         ?>

            <input type="hidden" name="ques" value="<?php echo $_GET['$ans_id'] ?>" />
         <span class="counter ">enter at least 15 characters</span>
         <span class="form-error"></span>
     </form>

<?php }} ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:16:02.560

你这里可能有错字！！它应该是..

```
<input type="hidden" name="ques" value="<?php echo $ans_id; ?>" /> 
```

其他的，你可以添加 get param to action link it self。

```
<form id="add-comment" action="comment_submit_process.php?<?php echo $answer['id']; ?>" > 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T04:20:20.683

您可以在表单操作标记中回显 answer_id 作为附加参数，如下所示：

```
<form id="add-comment" action="comment_submit_process.php?ans_id=$ans_id" >

//Your stuff here

</form> 
```

在 comment_submit_process.php 中，您可以通过以下方式确定答案

```
$ans_id=$_GET['ans_id']; 
```

您可以使用 $ans_id 进行进一步处理
**编辑：** 更改此行：

```
<input type="hidden" name="ques" value="<?php echo $_GET['$ans_id'] ?>" 
```

至：

```
<input type="hidden" name="ques" value="<?php echo $ans_id; ?>" /> 
```

这样该字段的值将是从数据库中获取的 $ans_id 。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T04:23:54.300

而不是设置 ans_id，每次都设置为 hidden field 。生成一个用“，”分隔的 ans_id 字符串，直到 while 循环结束附加该字符串并将该值分配给隐藏字段，在表单操作页面中，您可以获取该值并使用分隔符“，”从该字符串生成 van 数组。现在您可以在表单操作页面中包含 ans_id 数组

```
 $answer_array = "nothing";
     while($answer = mysql_fetch_array($ans))
      {
         if( $answer_array == "nothing")
               $answer_array = $answer;
         else
             $answer_array .= ",".$answer;
       }
      <input type="hidden" name="answer_arr" value="<?=$answer_array?>"> 
```

在表单操作页面中，您可以获得隐藏的值

```
 $ans_array= explode(",",$_GET['answer_arr']); 
```

# iphone - 用于部署到客户端的 iOS 企业许可证

> ID：11008076
> 
> 赞同：0
> 
> 时间：2012-06-13T04:07:55.533
> 
> 标签：iphone, ios, enterprise, iphone-developer-program

我工作的公司开发了一套劳动力管理软件，然后我们在大型组织中进行许可和分发。这个想法是创建一个针对 iPhone 和 iPad 的软件套件的移动组件。最初，我们假设如果我们要从 Apple 购买企业开发人员许可证，我们就可以部署到我们的客户。不过，从我所阅读的内容来看，您似乎只被许可将应用程序部署到您的组织而不是您的客户。有没有人有类似的经验？有什么选择？我们必须通过应用商店部署它吗？或者有什么方法可以让我们控制对客户的部署？

谢谢

雅各布

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T04:13:07.973

您是对的：企业分发计划明确禁止在您自己的公司之外共享您的应用程序。[企业批量采购计划](https://developer.apple.com/programs/volume/)怎么样？

> 企业可以发现、购买应用程序并将其批量分发给整个员工队伍。
> 
> ...
> 
> 直接向注册批量购买计划的企业客户提供独特的定制解决方案。

# javascript - 淘汰 SelectedOptions 绑定到“Selected”属性

> ID：11008080
> 
> 赞同：1
> 
> 时间：2012-06-13T04:08:34.893
> 
> 标签：javascript, knockout.js

[http://jsfiddle.net/CsrrD/](http://jsfiddle.net/CsrrD/)

给定一个对象

```
var viewModel = {
    Opts: ko.observableArray([
    { d: 'a', v: 0, selected: 1},
    { d: 'b', v: 1, selected: 1},
    { d: 'c', v: 2, selected: 1},
    { d: 'd', v: 3, selected: 2},
    { d: 'e', v: 4, selected: 1},
    { d: 'f', v: 5, selected: 1}
    ]), 
    selectedOpts: ko.observableArray([])
}; 
```

我想绑定一个多选列表来改变'selected'属性的值，1为假，2为真。（它在服务器上的表示方式 - 它实际上是状态代码）

```
<select data-bind="options: Opts,
    optionsText: 'd',
    optionsValue: 'v',
    selectedOptions: selectedOpts,
    optionsCaption: 'Choose...'" multiple=""></select> 
```

​我知道如果我可以将 selectedOptions 绑定绑定到 selected 属性，我将不需要 selectedOpts 对象，我只是不知道如何简单地执行此操作而无需设置手动订阅 selectedOpts 以查看值列表并手动在每个已选择的项目上设置 selected 属性。

我相信有一个简单的方法。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T13:46:09.813

没有一种方法可以自动执行您想要的操作。

您将拥有的一些选项：

*   如您所示，设置对 observableArray 的手动订阅，并循环选项以根据它是否在数组中来设置值
*   创建您的选项，以便它`selected`是一个计算的 observable，它会根据它是否在数组中来保持自身更新。缺点是每个选项都会有一个计算，只要 observableArray 更新就会触发（效率低于单个手动订阅）
*   编写一个自定义绑定，在绑定中查找`selectedOptions`并执行订阅。也许你会提供一个函数来执行每个选项，如：http: [//jsfiddle.net/rniemeyer/ds2aE/](http://jsfiddle.net/rniemeyer/ds2aE/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T13:55:53.350

手动订阅并不那么可怕，而且非常有用。我已经修改了您的小提琴，以演示如果您只是使选定的属性可观察，这将是多么容易：

[http://jsfiddle.net/CsrrD/4/](http://jsfiddle.net/CsrrD/4/)

从设计的角度来看，订阅功能可能应该存在于您的 viewModel 对象中，并且您可能希望使用映射插件来避免手动创建可观察对象，但您明白了。

# facebook - 通过 FQL 获取 Facebook 中所有上传、标记和共享的视频

> ID：11008082
> 
> 赞同：1
> 
> 时间：2012-06-13T04:08:47.993
> 
> 标签：facebook, facebook-fql

在我的应用程序中，我想获取登录用户的所有视频，即用户上传的视频、用户共享的视频、用户标记等。目前我正在使用“流”查询：

```
SELECT created_time, post_id, actor_id, type, updated_time,
   attachment FROM stream WHERE created_time>1075593600
   AND type IN (56, 80, 128, 237, 272) AND source_id=me() limit 10000 
```

如您所见，我使用“输入”来获取所需的视频，但此查询并未获取我的所有视频。我在 2011 年有两个视频，其中一个是上传的，另一个是共享的。但我没有得到这两个。

同样在 developer.facebook 中写道：

> 流表的每个查询仅限于前 30 天或 50 个帖子，以较大者为准，但是您可以使用特定于时间的字段，例如 created_time 以及 FQL 运算符（例如 < 或 >）来检索更大范围的帖子。

所以我尝试了“created time>0” ie(1970) 和其他类似 2001 的时间戳，但我仍然没有得到全部。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T12:56:33.570

这在单个 facebook 查询中是不可能的。我也使用单个查询实现了它，但我遇到了问题。

# java - 在 Java 中创建复杂的 HashMap

> ID：11008083
> 
> 赞同：4
> 
> 时间：2012-06-13T04:08:51.217
> 
> 标签：java, data-structures

像这样创建 HashMap 的最简单方法是什么：

```
( student1 => Map( name => Tim,         
                   Scores => Map( math => 10,
                                  physics => 20,
                                  Computers => 30),
                   place => Miami,
                   ranking => Array(2,8,1,13),
                ), 
student2 => Map ( 
                  ...............
                  ...............
                ),
............................
............................
); 
```

我试过这个：

```
HashMap record = new HashMap();
record.put("student1", new HashMap());
record.get("student1").put("name","Tim");
record.get("student1").put("Scores", new HashMap()); 
```

但我得到错误。我这样做是因为它`record.get("student1")`是一个 HashMap 对象，所以我假设`put`它应该可以工作，依此类推。

如果它不起作用，最好的方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T04:12:13.133

你得到那个异常是因为`get()`返回了一个 type `Object`。您需要将其转换为`Map`.

```
((Map)record.get("student1")).put("name","Tim"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T04:12:54.917

您可以通过类型转换`Object`to`Map`或来做到这一点`HashMap`。

```
HashMap record = new HashMap();
record.put("student1", new HashMap());
((HashMap)record.get("student1")).put("name","Tim");
((HashMap)record.get("student1")).put("Scores", new HashMap()); 
```

不过，正如我所评论的，你确定你想要这个设计吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T07:19:35.917

Java 是一种静态且名义上的类型化语言。因此，您所遵循的编码风格并不可取。您应该改为创建类和对象。

也就是说，Guava 提供了几个实用程序类，例如,`Lists`等，可让您从 varargs 构造相关的集合对象。`Iterables``Maps`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-25T04:45:00.060

虽然我同意其他评论者关于更喜欢为您的域对象创建适当的类的观点，但我们可以使用一些辅助方法来简化地图构造语法：

```
Map<String, Object> map = map(
    entry("student1", map(
        entry("name", "Tim"),
        entry("scores", map(
            entry("math", 10),
            entry("physics", 20),
            entry("Computers", 30)
        )),
        entry("place", "Miami"),
        entry("ranking", array(2, 8, 1, 13))
    )),
    entry("student2", map(
        // ...
    ))
);

// map.toString():
// {student2={}, student1={scores={math=10, physics=20, Computers=30}, name=Tim, place=Miami, ranking=[2, 8, 1, 13]}} 
```

您只需要定义一个如下所示的辅助类并使用静态导入：

```
import static com.example.MapHelper.*; 
```

助手类：

```
package com.example;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class MapHelper {

    public static class Entry {
        private String key;
        private Object value;

        public Entry(String key, Object value) {
            this.key = key;
            this.value = value;
        }

        public String getKey() {
            return key;
        }

        public Object getValue() {
            return value;
        }
    }

    public static Map<String, Object> map(Entry... entries) {
        Map<String, Object> map = new HashMap<String, Object>();
        for (Entry e : entries) {
            map.put(e.getKey(), e.getValue());
        }
        return map;
    }

    public static Entry entry(String k, Object v) {
        return new Entry(k, v);
    }

    public static List<Object> array(Object... items) {
        List<Object> list = new ArrayList<Object>(items.length);
        for (int i = 0; i < items.length; i++) {
            list.add(i, items[i]);
        }
        return list;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-13T04:12:38.910

好吧，“Java”的做法是将这些实体分解为类。从您提供的示例中，您可以创建一个`Student`包含名称、地点、位置等属性的类。

这比将所有内容都强制放入这样的地图要干净得多。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-13T04:12:42.667

为什么要创建一组复杂的 HashMap，您可以创建一个 Java 对象，然后将其用于 HashMap。

因此，在您的情况下，您可以创建一个名为 ScoreInfo 的类，该类将具有 HashMap 分数、位置和排名，然后将其用作`HashMap`.

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-06-13T04:14:14.747

代替

```
HashMap record = new HashMap(); 
```

和

```
Map<String,Map<String, Object>> record = new HashMap<String,Map<String, Object>>(); 
```

但是，将不同的对象类型作为值并没有多大意义。如果下一行是错误的，

```
record.get("student1").put("Scores", new HashMap()); 
```

那么你也可以简化定义。

```
Map<String,Map> record = new HashMap<String,Map>(); 
```

假设：您使用的是 JDK 1.5+

# bash - 如何在shell的if条件中找到选项

> ID：11008084
> 
> 赞同：8
> 
> 时间：2012-06-13T04:08:57.397
> 
> 标签：bash, shell

在我的一个 shell 脚本中，我看到

```
if [[ ! -d directory1 || ! -L directory ]] ; then 
```

`-d`和`-L`选项在这里是什么意思？我在哪里可以找到有关在某种`if`情况下使用的选项的信息？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-13T11:19:27.843

您可以这样做，这将显示该命令`help test`接受的大多数选项。`[[`

您也可以这样做`help [`，这将显示其他信息。您可以`help [[`获取有关该类型条件的信息。

另请参阅`man bash`“[条件表达式](http://tiswww.case.edu/php/chet/bash/bash.html#lbBW)”部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T10:50:39.033

`bash`具有命令的内置帮助`help`。您可以使用以下命令轻松找到内置 bash 的选项`help`：

```
$ help [[
...
Expressions are composed of the same primaries used by the `test' builtin
...
$ help test
test: test [expr]
    Evaluate conditional expression.
    ...
    [the answer you want] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T04:15:33.163

检查给`-d`定目录是否存在。对符号链接的 `-L`测试。

[Advanced Bash-Scripting Guide](http://tldp.org/LDP/abs/html/index.html)中的[文件测试运算符](http://tldp.org/LDP/abs/html/fto.html)解释了各种选项。这是[bash 的手册页，](http://linux.die.net/man/1/bash)也可以通过在终端中键入来找到。`man bash`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-04T01:33:28.180

在 Bourne shell 中，`[`并被`test`链接到相同的可执行文件。因此，您可以在[测试](http://ss64.com/bash/test.html)手册页中找到许多可用的各种*测试。*

这个：

```
if [[ ! -d directory1 || ! -L directory ]] ; then 
```

是说如果不是`directory1`目录*或*`directory`不是链接。

我相信正确的语法应该是：

```
if [[ ! -d $directory1 ] ||  [ ! -L $directory ]] ; then 
```

或者

```
if [[ ! -d $directory1 -o ! -L $directory ]] ; then 
```

您的 OP 中的行是否正确？

# asp.net-mvc - Visual Studio 2010 未发布所有 App_Data

> ID：11008097
> 
> 赞同：7
> 
> 时间：2012-06-13T04:11:11.250
> 
> 标签：asp.net-mvc, visual-studio-2010, webdeploy, app-data

我使用 Visual Studio 2010 Ultimate SP1 发布了我的项目，并且在 ~/App_Data.xml 中有一堆文件。

我不记得第一次上传 appdata 是使用 FTP 还是使用 WebDeploy。问题是当我将新文件添加到 ~/App_Data 并发布站点时，这些文件（或 ~/App_Data 下的文件夹）永远不会被发布。

我的项目 Web 部署设置具有未选中的“排除 App_Data”，因此它应该上传它，但它没有。

还有什么我应该做的吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-13T04:17:51.887

如果您没有将“构建操作”设置为“内容”，则可能会发生这种情况。这可以通过查看相关文件的属性来更改（右键单击文件上的“属性”）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-08-17T12:07:28.607

它可以设置如下截图。取消选中排除 App_Data

![设置页面](../Images/2223a831d584a55cce3fcb59ea88799a.png)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-13T04:15:02.317

确保文件属性中的*构建操作设置为“内容”。*~~，并且“*复制到输出目录*”设置为“如果较新则复制”。~~

# c# - Ms Fakes 框架，NotSupportedException

> ID：11008100
> 
> 赞同：1
> 
> 时间：2012-06-13T04:11:36.213
> 
> 标签：c#, mocking, microsoft-fakes

为什么此代码会在运算符中抛出 ShimNotSupportedException？

```
ShimStreamReader.AllInstances.EndOfStreamGet = ((s)=>calls < 1);

[TestMethod]
        public void GetAllLinesFromFile__()
        { 
            int calls = 0;

            using (ShimsContext.Create())
            {
                ShimStreamReader.AllInstances.EndOfStreamGet = ((s)=>calls < 1);
                ShimStreamReader.AllInstances.ReadLine = (s) =>
                                                             {
                                                                 calls++;
                                                                 return ";;;;;;;;;;";
                                                             };
                var streamFake = new ShimStreamReader();
                var obj = new MyFile(streamFake, ';');

                Assert.IsTrue(obj.GetAllLinesFromFile().Count() == 1);
            }

        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T11:28:11.743

可能是您正在从 Resharper 或其他一些测试运行程序运行测试吗？

我写了一些与此相关的博文，可能会有所帮助：

[http://blog.degree.no/2012/09/visual-studio-2012-fakes-shimnotsupportedexception-when-debugging-tests/](http://blog.degree.no/2012/09/visual-studio-2012-fakes-shimnotsupportedexception-when-debugging-tests/)

[http://blog.degree.no/2012/09/unit-testing-visual-studio-2012-fakes-in-team-city/](http://blog.degree.no/2012/09/unit-testing-visual-studio-2012-fakes-in-team-city/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-17T09:00:21.907

我运行了您的代码，并且在 VS 2012 RC 中运行良好。当我在 VS 11 Beta 中打开一个在 VS 2010 中创建的解决方案时，我确实遇到了类似的问题。我想出的唯一解决方法是在 VS 11 Beta 中创建一个新的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T13:52:06.540

可能的原因之一是缺少应该与您的 xxx.fakes.dll 一起生成的 fakesconfig 文件。

我使用了一个中心项目来生成假程序集，并使用依赖于中心项目的其他项目来使用生成的假程序集。

让我们将 Fake 程序集消费项​​目称为 FOO。

我确实遇到了 ShimNotSupportedException。经过一番调查（几天！），我发现 fakesconfig 文件没有与 Fake 程序集一起复制到 FOO.dll 所在的文件夹中。在那里复制 fakesconfig 文件后，我的测试通过了。

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-16T20:00:58.663

发生这种情况的另一种情况是您安装了 Typemock 并启用了它。

在 Typemock 上禁用 -> 暂停模拟

# gnuplot - Gnuplot，yerrorbar，文本作为 x 轴

> ID：11008106
> 
> 赞同：0
> 
> 时间：2012-06-13T04:12:19.130
> 
> 标签：gnuplot

我有以下数据：

```
t4.8k   1.84    1.86    1.83
t5.8k   1.82    1.84    1.8
t7.10k  1.79    1.8     1.77 
t8.8k   1.8     1.84    1.76 
```

我需要使用 yerror 条在 GNU 图中绘制它。
Column1 - 数据集名称。这是 xaxis 比例。Column2 - Y-Mean Column3 - Y-Max Column4 - Y-Min

这是我使用的绘图代码：

```
plot "chameleonConfidence.dat" using xtic(1):2:4:3  title "Ratio of Time Taken" with yerrorbars 
```

但这给了我以下错误

> 警告：空 x 范围 [4.94066e-324:4.94066e-324]，调整为 [4.94066e-324:4.94066e-324] “chameleonConfidence.gplot”，第 15 行：x_min 不应等于 x_max！

有人可以帮我弄这个吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T04:34:59.380

这对我有用。

```
set xrange [-1:4]
TITLE="Ratio of Time Taken"
plot "chameleonConfidence.dat" using ($0):2:4:3:xticlabels(1) with yerrorbars title TITLE 
```

该`xtic`函数不会替换文件中的 x 值——它是一个自动附加字段，您可以添加到 using 规范中以在轴上添加 xticlabels。基本上，您只需要将行号 ( `$0`) 设置为 x 值，然后一切就绪（移动`xtic(1)`到使用规范的末尾）

# java - 使用 List 时出现 NumberFormatException 在数据表中

> ID：11008111
> 
> 赞同：3
> 
> 时间：2012-06-13T04:12:42.183
> 
> 标签：java, jsf, datatable, nullpointerexception, icefaces

尝试在数据表中显示列表时遇到 NumberFormatException。我知道发生此异常的一般原因，但无法弄清楚它适用于我的情况。

这是我的冰：数据表显示代码

```
<ice:dataTable id="transformations" var="transformationList" width="700"
value="#{ShowStatusBean.transformationStatusList}" rows="10"    
partialTriggers="refreshButton"  autoSubmit="true">

<ice:column>
<ice:outputText value="#{transformationList.businessDate}" />
</ice:column>

<ice:column>
<ice:outputText value="#{transformationList.service}" />
</ice:column>

<ice:column>
<ice:outputText value="#{transformationList.status}" />
</ice:column>

</ice:dataTable> 
```

还有我的支持 bean 代码

```
public List<TransformationBean> getTransformationStatusList() {
    transformationStatusList = new ArrayList<TransformationBean>();
    transformationStatusList.add(new TransformationBean("2012-01-01", "serviceName", "status1"));
    transformationStatusList.add(new TransformationBean("2012-01-02", "serviceName2", "status2"));
    return transformationStatusList;
} 
```

最后是堆栈跟踪

```
 23:59:57 ERROR [f-tuning)'] D2DFaceletViewHandler     - Problem in renderResponse: For input string: "businessDate"
java.lang.NumberFormatException: For input string: "businessDate"
    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
    at java.lang.Integer.parseInt(Integer.java:449)
    at java.lang.Integer.parseInt(Integer.java:499)
    at com.sun.facelets.el.LegacyELContext$LegacyELResolver.getValue(LegacyELContext.java:138)
    at com.sun.el.parser.AstValue.getValue(AstValue.java:96)
    at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:183)
    at com.sun.facelets.el.TagValueExpression.getValue(TagValueExpression.java:71)
    at com.sun.facelets.el.LegacyValueBinding.getValue(LegacyValueBinding.java:56)
    at javax.faces.component.UIOutput.getValue(UIOutput.java:80)
    at com.icesoft.faces.renderkit.dom_html_basic.OutputTextRenderer.encodeEnd(OutputTextRenderer.java:91)
    at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:539)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:369)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.component.ext.renderkit.TableRenderer.encodeChildren(TableRenderer.java:896)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:357)
    at com.icesoft.faces.renderkit.dom_html_basic.GroupRenderer.encodeChildren(GroupRenderer.java:95)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.component.util.CustomComponentUtils.renderChild(CustomComponentUtils.java:338)
    at com.icesoft.faces.component.panelpopup.PanelPopupRenderer.encodeBegin(PanelPopupRenderer.java:240)
    at javax.faces.component.UIComponentBase.encodeBegin(UIComponentBase.java:515)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:355)
    at com.icesoft.faces.renderkit.dom_html_basic.GroupRenderer.encodeChildren(GroupRenderer.java:95)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:357)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.renderkit.dom_html_basic.GroupRenderer.encodeChildren(GroupRenderer.java:95)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:357)
    at com.icesoft.faces.renderkit.dom_html_basic.GroupRenderer.encodeChildren(GroupRenderer.java:95)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.component.util.CustomComponentUtils.renderChild(CustomComponentUtils.java:338)
    at com.icesoft.faces.component.paneltabset.PanelTabSetRenderer.writeTabCell(PanelTabSetRenderer.java:983)
    at com.icesoft.faces.component.paneltabset.PanelTabSetRenderer.encodeEnd(PanelTabSetRenderer.java:422)
    at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:539)
    at javax.faces.component.UIData.encodeEnd(UIData.java:573)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:369)
    at com.icesoft.faces.renderkit.dom_html_basic.GridRenderer.encodeChildren(GridRenderer.java:207)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:357)
    at com.icesoft.faces.renderkit.dom_html_basic.GroupRenderer.encodeChildren(GroupRenderer.java:95)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:357)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.renderkit.dom_html_basic.GroupRenderer.encodeChildren(GroupRenderer.java:95)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:357)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.renderkit.dom_html_basic.DomBasicRenderer.encodeParentAndChildren(DomBasicRenderer.java:364)
    at com.icesoft.faces.renderkit.dom_html_basic.GroupRenderer.encodeChildren(GroupRenderer.java:95)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)
    at com.icesoft.faces.application.D2DViewHandler.renderResponse(D2DViewHandler.java:490)
    at com.icesoft.faces.application.D2DViewHandler.renderResponse(D2DViewHandler.java:495)
    at com.icesoft.faces.application.D2DViewHandler.renderResponse(D2DViewHandler.java:495)
    at com.icesoft.faces.application.D2DViewHandler.renderResponse(D2DViewHandler.java:495)
    at com.icesoft.faces.application.D2DViewHandler.renderResponse(D2DViewHandler.java:495)
    at com.icesoft.faces.facelets.D2DFaceletViewHandler.renderResponse(D2DFaceletViewHandler.java:281)
    at com.icesoft.faces.application.D2DViewHandler.renderView(D2DViewHandler.java:155)
    at com.icesoft.faces.application.ViewHandlerProxy.renderView(ViewHandlerProxy.java:70)
    at org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:41)
    at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:132)
    at com.icesoft.faces.webapp.http.core.JsfLifecycleExecutor.apply(JsfLifecycleExecutor.java:51)
    at com.icesoft.faces.webapp.http.core.ReceiveSendUpdates.renderCycle(ReceiveSendUpdates.java:171)
    at com.icesoft.faces.webapp.http.core.ReceiveSendUpdates.service(ReceiveSendUpdates.java:112)
    at com.icesoft.faces.webapp.http.core.RequestVerifier.service(RequestVerifier.java:65)
    at com.icesoft.faces.webapp.http.servlet.BasicAdaptingServlet.service(BasicAdaptingServlet.java:48)
    at com.icesoft.faces.webapp.http.servlet.SessionVerifier.service(SessionVerifier.java:58)
    at com.icesoft.faces.webapp.http.servlet.PathDispatcher.service(PathDispatcher.java:55)
    at com.icesoft.faces.webapp.http.servlet.SessionDispatcher.service(SessionDispatcher.java:77)
    at com.icesoft.faces.webapp.http.servlet.PathDispatcher.service(PathDispatcher.java:55)
    at com.icesoft.faces.webapp.http.servlet.MainServlet.service(MainServlet.java:192)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
    at com.icesoft.faces.webapp.xmlhttp.BlockingServlet.service(BlockingServlet.java:67)
    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)
    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)
    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:301)
    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)
    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
    at weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:27)
    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3730)
    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3696)
    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)
    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2273)
    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179)
    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1490)
    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:256)
    at weblogic.work.ExecuteThread.run(ExecuteThread.java:221) 
```

还有我的 TransformationBean

```
public class TransformationBean{

    private String businessDate;
    private String service;
    private String status;

    // constructor 
    // getter and setters
    } 
```

我研究了这个问题并找到了很多回应。但看起来我没有犯任何这些错误..所以不确定我错过了什么。这些是我发现的关于同一问题的其他链接。

[从数据库（JPA）返回值时出现数字格式异常](https://stackoverflow.com/questions/7216488/number-format-exception-when-returning-values-from-databasejpa)

[输入字符串的 NumberFormatException](https://stackoverflow.com/questions/4412171/numberformatexception-for-input-string)

[http://jforum.icesoft.org/JForum/posts/list/16645.page](http://jforum.icesoft.org/JForum/posts/list/16645.page)

所有这些都提到从 java 代码返回的 List<> 是 Object[] 的 List，这就是为什么它试图通过将属性视为索引属性来访问数组条目的原因。但是，从我的代码中，很明显，我没有返回 Object[] 的 List ，而是正确定义的 List

我还在 JUNit 测试用例中测试了 java 代码，并验证了返回类型是 TransformationBean 对象的列表。

伙计们，我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T23:39:23.150

我能够解决这个问题。不知道问题是什么。我刚刚创建了一个新文件，其中包含具有相同信息集的 xhtml 显示代码。我唯一改变的是像这样将var名称更改为bean..

```
 <ice:dataTable id="transformations" var="bean" width="700"
value="#{ShowStatusBean.transformationStatusList}" rows="10"    
partialTriggers="refreshButton"  autoSubmit="true">

<ice:column>
<ice:outputText value="#{bean.businessDate}" />
</ice:column>

<ice:column>
<ice:outputText value="#{bean.service}" />
</ice:column>

<ice:column>
<ice:outputText value="#{bean.status}" />
</ice:column>

</ice:dataTable>` 
```

它开始工作..没有意义..也许应用程序服务器正在缓存一些不正确的以前版本..但看起来我的代码一直都是正确的..

# c# - 预期的类、委托、枚举、接口或结构错误 C#

> ID：11008119
> 
> 赞同：0
> 
> 时间：2012-06-13T04:13:46.147
> 
> 标签：c#, c#-4.0

有一个这样的 php 代码，将其转换为 C#。

```
function isValid($n){
if (preg_match("/\d+/",$n) > 0 && $n<1000) {
    return true;
}
return false;
} 
```

这是我的尝试，但显示错误错误是“预期的类、委托、枚举、接口或结构错误 C#”

```
public string IsValidate(string Item)
{
    string Result = Item;
   try
{
Result = System.Text.RegularExpressions.Regex.Replace(InputTxt, @"(\\)([\000\010\011\012\015\032\042\047\134\140])", "$2");
}
catch(Exception ex)
{
console.WriteLine(ex.Message)
}
return Result;
} 
```

错误是什么，有没有比我的尝试更好的方法来实现这个？我从这里的[代码中得到了这个片段](http://www.digitalcoding.com/Code-Snippets/C-Sharp/C-Code-Snippet-AddSlashes-StripSlashes-Escape-String.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T04:19:23.927

您尚未在类/结构中定义此方法，这就是您收到此错误的原因。您可以在类中定义此方法。

```
public class MyValidator
    {
        public string IsValidate(string Item)
        {
          //Your code here
        }

    } 
```

稍后您可以像这样使用它：

```
MyValidator validator = new MyValidator();
validator.IsValid("Your string"); 
```

此外，您在语句末尾缺少分号，并且`Console.Write`控制台的“c”应为大写

**编辑：**
由于在您的 php 代码中，您似乎正在尝试查看传递的字符串是否为整数并且小于 1000，您可以使用`int.TryParse`以下代码：

```
public class MyValidator
{
    public bool IsValidate(string Item)
    {
        string Result = Item;
        int val;
        if (int.TryParse(Item, out val) && val > 0 && val < 1000)
        {
            return true;
        }
        else
        {
            return false;
        }

    }
} 
```

在您的主要方法中，您可以执行以下操作：

```
 static void Main()
        {
            MyValidator validator = new MyValidator();
            Console.WriteLine(validator.IsValidate("asdf123")); // This will print false
            Console.WriteLine(validator.IsValidate("999")); //This will print true
            Console.WriteLine(validator.IsValidate("1001")); //This will print false
         } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-13T04:20:20.077

在 C# 中，方法必须放在类或结构中：

```
public class Validator {
  public string IsValidate(string item) {
   ...
  }
} 
```

在这种情况下，我可能会这样翻译：

```
public static class Validator {   
  public static bool IsValid(string item) {
    int value;
    return int.TryParse(item, out value) 
           && value > 0 && value < 1000;    
  } 
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-13T04:25:56.897

您可以在静态类中定义您的函数，这样您就不必在调用函数之前创建它的实例。像，

```
public static class Validator
{
    public static string IsValidate(string item)
    {
        // ...
    }
} 
```

然后，您可以使用以下方法调用它：

```
Validator.IsValidate("String to validate") 
```

**编辑：**然后您可以通过以下方式检查您的函数是否返回您期望的内容：

```
if(Validator.IsValidate("String to validate") == "Expected result") 
{ 
    /* Logic to be executed here */ 
} 
```

# iphone - 如何在 iOS 的 PhotosAlbum 中删除图像

> ID：11008122
> 
> 赞同：0
> 
> 时间：2012-06-13T04:13:57.287
> 
> 标签：iphone, photo, photolibrary

在我的 iPhone 应用程序中，我使用代码在单击“保存”按钮时保存图像

`UIImageWriteToSavedPhotosAlbum(previewImg.image, self, @selector(image:didFinishSavingWithError:contextInfo:), nil);`

那么，有没有办法通过代码删除上次保存的图像呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:51:17.440

使用`UIImageView *photoImageView;`显示照片就可以了，然后保存，否则重新拍摄或重新选择照片

[看到这个链接](http://developer.apple.com/library/ios/#samplecode/PhotoLocations/Introduction/Intro.html#//apple_ref/doc/uid/DTS40008909)

# python - 在python中将文件存储在剪贴板中

> ID：11008125
> 
> 赞同：7
> 
> 时间：2012-06-13T04:14:09.437
> 
> 标签：python, clipboard

有没有办法使用 win32clipboard 模块在 python 的 windows 剪贴板中存储对文件的引用。我的目标是以允许透明的方式粘贴图像。如果我将“png”文件拖放到 OneNote 中，或者复制文件然后将其粘贴到 OneNote 中，这似乎可以保持透明度。据我所知，剪贴板不能存储透明图像，这就是为什么它必须是对文件的引用。

我的研究表明它可能涉及 win32clipboard.CF_HDrop 属性，但我不确定。

所以，总结一下，我的目标是有一些我可以点击的python代码，它使用我桌面上名为“img.png”的特定文件。结果是“img.png”被存储在剪贴板中，可以粘贴到其他程序中。本质上，就像我自己在桌面上选择文件一样，右键单击并选择“复制”。

编辑：这个页面似乎暗示有一种使用 win32clipboard.CF_HDrop 的方法：http: [//timgolden.me.uk/pywin32-docs/win32clipboard__GetClipboardData_meth.html](http://timgolden.me.uk/pywin32-docs/win32clipboard__GetClipboardData_meth.html)

它说“CF_HDROP”与“Unicode 文件名元组”相关联

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T08:00:30.437

```
from PythonMagick import Image
Image("img.png").write("clipboard:") 
```

获取 PythonMagick的[Windows 二进制文件](http://www.lfd.uci.edu/~gohlke/pythonlibs/#pythonmagick)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T10:02:48.340

我将其写为答案，尽管这只是一个可能对您有所帮助的步骤，因为注释没有很多格式选项。

我写了这个示例脚本：

```
import win32clipboard as clp, win32api

clp.OpenClipboard(None)

rc= clp.EnumClipboardFormats(0)
while rc:
    try: format_name= clp.GetClipboardFormatName(rc)
    except win32api.error: format_name= "?"
    print "format", rc, format_name
    rc= clp.EnumClipboardFormats(rc)

clp.CloseClipboard() 
```

然后我在资源管理器中选择了一个图像文件并复制了它；然后，脚本报告以下可用的剪贴板格式：

```
format 49161 DataObject
format 49268 Shell IDList Array
format 15 ?
format 49519 DataObjectAttributes
format 49292 Preferred DropEffect
format 49329 Shell Object Offsets
format 49158 FileName
format 49159 FileNameW
format 49171 Ole Private Data 
```

这个“Preferred DropEffect”似乎很可疑，尽管我远非 Windows 专家。不过，我会先尝试使用 FileNameW，因为这可能会为您完成这项工作（抱歉，我没有安装 OneNote）。似乎它只期望将完整路径名编码为“utf-16-le”并`'\0\0'`在末尾带有一个空字符（即编码为 ）作为数据。

# asp.net - 多个UpdatePanel回发触发其他UpdatePanel的updateprogress动画

> ID：11008127
> 
> 赞同：0
> 
> 时间：2012-06-13T04:14:15.437
> 
> 标签：asp.net, webforms, updatepanel, updatepanel-progressbar

我`UpdatePanels`在网页上有多个，一个在 UserControl 内（如图所示的紫色 ColorBox），另一个在主页内。当`(< 1 2 3 >)`调用主页面的分页用户控件时，它显示相应 `UpdateProgress`的“最新新闻”部分，但也显示`UpdatePanelAnimationExtender`“订阅”用户控件。

我正在使用`UpdatePanelAnimationExtender`用户控制和`UpdateProgress`主页上的最新消息。

我试图更改属性，但它不断出现；如果我保留`UpdateMode="Conditional"`用户控制，那么进度条会循环并连续显示。

**截屏**![更新面板](../Images/ae7534523fd508f1c03772cd210a152f.png)

如何更改此代码以仅显示相应的进度条。过去几天我查看了 50 多个示例，但修女似乎正在工作。如果有人可以帮助我解决这个问题，我将不胜感激。

```
 <!-- LatestNewArea -->
    <div class="LatestNewArea">
        <asp:UpdatePanel ID="updLatestNews" runat="server" UpdateMode="Conditional">
        <ContentTemplate>
            <asp:Repeater ID="rptLatestNews" runat="server" EnableViewState="False" onitemdatabound="rptLatestNews_ItemDataBound">
                <ItemTemplate>
                <asp:HyperLink ID="hylLatestNews" CssClass="chylLatestNews" runat="server" NavigateUrl=''>
                    <div class="LatestNewsWrapper">
                        <div class="LatestNewsDateBox">
                            <div class="LNYYYY">
                                <asp:Label ID="lblYYYY" runat="server" Text="2012"></asp:Label>  
                            </div>
                            <div class="LNDDMM">
                                <asp:Label ID="lblDDMM" runat="server" Text="12/08"></asp:Label> 
                            </div>
                        </div>
                        <div class="LatestNewsTitle">
                            <asp:Label ID="lblLatestNewsTitle" runat="server" Text="First News for the Website"></asp:Label>
                        </div>
                        <div class="LatestNewsHDate">
                            <asp:Label ID="Label1" runat="server" Text="Hijri: 15 Rajab 1433"></asp:Label>
                        </div>
                        <div class="LatestNewsDesc">
                            <asp:Label ID="Label2" runat="server" Text=""></asp:Label>
                        </div>
                    </div>
                    <div class="LNHLine"> </div>
                </asp:HyperLink>
            </ItemTemplate>
        </asp:Repeater>
        <!-- Pager -->
        <div class="LatestNewsPagerWrapper">
        <div class="LatestNewsPagerInnerWrapper">
            <asp:UpdateProgress ID="UpdateProgress1" runat="server" DisplayAfter="50" AssociatedUpdatePanelID="updLatestNews" >
                <ProgressTemplate>
                <div id="imgLoadingArticleList" class="imgLoadingArticleList">
                    <asp:Image ID="imgLoading" runat="server" ImageUrl="~/images/ajax-loader-bar2.gif"  />
                </div>
                </ProgressTemplate>
            </asp:UpdateProgress>
            <uc1:PagerControl ID="PagerControl1" runat="server"  CssClass="gold-pager"  PageMode="LinkButton"  />
        </div>
        </div>
        <!-- Pager -->
    </ContentTemplate>
    </asp:UpdatePanel>
    </div>
    <!-- LatestNewArea --> 
```

**用户控制页面代码**

```
 <script type="text/javascript">

        function onUpdating() {
            // get the divImage
            var panelProg = $get('divImage');
            // set it to visible
            panelProg.style.display = '';

            // hide label if visible      
            var lbl = $get('<%= this.pnlSubscribe.ClientID %>');
            lbl.innerHTML = '';
        }

        function onUpdated() {
            // get the divImage
            var panelProg = $get('divImage');
            // set it to invisible
            panelProg.style.display = 'none';
        }

    </script>

<table cellpadding="0" cellspacing="0" class="SubscribeContainer">
    <tr>
        <td align="center">
            <table cellpadding="0" cellspacing="0" class="SubscribeWrapper" border="0">
                <tr>
                    <td valign="top">
                    <asp:UpdatePanel ID="updSubscribe" runat="server" >
                        <ContentTemplate>  
                                <asp:Panel ID="pnlSubscribe" runat="server" Height="10px">
                                    <div class="SubHeading"><asp:Label ID="lblTitle" runat="server" Text="JOIN US"></asp:Label></div>
                                    <div class="dSubName">
                                        <asp:TextBox ID="txtName" CssClass="txtSubscribe" runat="server" Text="NAME" onfocus="if(this.value=='NAME')this.value='';" onblur="if(this.value=='')this.value='NAME';"></asp:TextBox>
                                    </div>
                                    <div class="dSubEmail">
                                        <asp:TextBox ID="txtEmail" CssClass="txtSubscribe" runat="server" Text="YOUR EMAIL" onfocus="if(this.value=='YOUR EMAIL')this.value='';" onblur="if(this.value=='')this.value='YOUR EMAIL';"></asp:TextBox>
                                        <asp:RequiredFieldValidator ID="rfvEmailSub"  runat="server" ErrorMessage="*" 
                                            ControlToValidate="txtEmail" ValidationGroup="SubEmail" ></asp:RequiredFieldValidator>
                                        <asp:RegularExpressionValidator ID="revEmailSub" runat="server" 
                                            ErrorMessage="*" ControlToValidate="txtEmail" ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" 
                                            ValidationGroup="SubEmail" ></asp:RegularExpressionValidator>
                                    </div>
                                    <div class="dSubSubmit">
                                        <asp:Button ID="btnSubscribe" CssClass="btnSubscribe" runat="server" ValidationGroup="SubEmail" Text="Subscribe" onclick="btnSubscribe_Click" />
                                    </div> 
                                </asp:Panel> 
                                    <div class="dSubMSG"> 
                                    <asp:Label ID="lblMSG" runat="server" Text=""></asp:Label>
                                </div>
                                            <div id="divImage" style="display:none" class="dSubAni">
                                                <asp:Image ID="Image1" runat="server" ImageUrl="~/Images/loader-sub.png" Visible="true"/>
                                            </div>

                        </ContentTemplate>
                    </asp:UpdatePanel>

                    <asp:UpdatePanelAnimationExtender ID="UpdatePanelAnimationExtender1"  TargetControlID="updSubscribe" runat="server">
                    <Animations>
                        <OnUpdating>
                            <Parallel duration="0">
                                <ScriptAction Script="onUpdating();" />

                                <EnableAction AnimationTarget="btnSubscribe" Enabled="false" />                    
                            </Parallel>
                        </OnUpdating>
                        <OnUpdated>
                            <Parallel duration="0">
                                <ScriptAction Script="onUpdated();" /> 
                                <EnableAction AnimationTarget="btnSubscribe" Enabled="true" />
                            </Parallel>
                        </OnUpdated>
                    </Animations>
                    </asp:UpdatePanelAnimationExtender>  

                       </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table> 
```

其他信息：ASP.Net 4.0、C# 和分页控件是使用链接按钮进行分页的用户控件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T13:00:53.647

我尝试了许多解决方案，但没有一个以正确的方式工作。最后我决定替换`UpdatePanelAnimationExtender` 用户控件，`UpdateProgress`因为我能够捕获启动 UpdatePanel`AsyPostback`

`AsyPostback`由于某种原因，我使用时无法捕获`UpdatePanelAnimationExtender`

这种方法可以用于多个更新面板，一个需要捕获启动控件以进行回发

**下面是一个工作代码**

```
 // Function to hide control on update
            function onUpdateOfSubscribe() {
                var panelProg = $get('divImage');
                // set it to visible
                panelProg.style.display = '';
                // hide label if visible      
                var lbl = $get('<%= this.pnlSubscribe.ClientID %>');
                lbl.innerHTML = '';
            }
    //Code to track the initiating event so to associate updateprogress
        var currentPostBackElement;
        function pageLoad() {
            var manager = Sys.WebForms.PageRequestManager.getInstance();
            manager.add_initializeRequest(OnInitializeRequest);
        }
        //On OnInitializeRequest
        function OnInitializeRequest(sender, args) {
            var manager = Sys.WebForms.PageRequestManager.getInstance();
            currentPostBackElement = args.get_postBackElement().parentElement;

            var cmdAuthoriseButton = '<%= btnSubscribe.ClientID %>';
            if (cmdAuthoriseButton == args._postBackElement.id) {
                // Show UpdateProgress for subscribe 
                onUpdateOfSubscribe();
            }
        }
    </script>

<table cellpadding="0" cellspacing="0" class="SubscribeContainer">
        <tr>
            <td align="center">
                <table cellpadding="0" cellspacing="0" class="SubscribeWrapper" border="0" >
                    <tr>
                        <td valign="top">
                        <asp:UpdatePanel ID="updSubscribe" runat="server" UpdateMode="Conditional"   >
                            <ContentTemplate>  
                                    <asp:Panel ID="pnlSubscribe" runat="server" Height="10px">
                                        <div class="SubHeading"><asp:Label ID="lblTitle" runat="server" Text="JOIN US"></asp:Label></div>
                                        <div class="dSubName">
                                            <asp:TextBox ID="txtName" CssClass="txtSubscribe" runat="server" Text="NAME" onfocus="if(this.value=='NAME')this.value='';" onblur="if(this.value=='')this.value='NAME';"></asp:TextBox>
                                        </div>
                                        <div class="dSubEmail">
                                            <asp:TextBox ID="txtEmail" CssClass="txtSubscribe" runat="server" Text="YOUR EMAIL" onfocus="if(this.value=='YOUR EMAIL')this.value='';" onblur="if(this.value=='')this.value='YOUR EMAIL';"></asp:TextBox>
                                            <asp:RequiredFieldValidator ID="rfvEmailSub"  runat="server" ErrorMessage="*" 
                                                ControlToValidate="txtEmail" ValidationGroup="SubEmail" ></asp:RequiredFieldValidator>
                                            <asp:RegularExpressionValidator ID="revEmailSub" runat="server" 
                                                ErrorMessage="*" ControlToValidate="txtEmail" ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" 
                                                ValidationGroup="SubEmail" ></asp:RegularExpressionValidator>
                                        </div>
                                        <div class="dSubSubmit">
                                            <asp:Button ID="btnSubscribe" CssClass="btnSubscribe" runat="server" ValidationGroup="SubEmail" Text="Subscribe" onclick="btnSubscribe_Click" />
                                        </div> 
                                    </asp:Panel> 
                                        <div class="dSubMSG"> 
                                        <asp:Label ID="lblMSG" runat="server" Text=""></asp:Label>
                                    </div>
                                                <div id="divImage" style="display:none" class="dSubAni">
                                                    <asp:Image ID="Image1" runat="server" ImageUrl="~/Images/loader-sub.png" Visible="true"/>
                                                </div>

                            </ContentTemplate>
                            <Triggers>
                                <asp:AsyncPostBackTrigger ControlID="btnSubscribe" EventName="Click" />
                            </Triggers>
                        </asp:UpdatePanel>
                    <asp:UpdateProgress ID="UpdateProgress1" runat="server" AssociatedUpdatePanelID="updSubscribe" >
                        <ProgressTemplate>

                        </ProgressTemplate>
                    </asp:UpdateProgress>

                           </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table> 
```

# java - 我可以在不实际提取 Lotus Notes 嵌入文件的情况下访问它们吗？

> ID：11008128
> 
> 赞同：0
> 
> 时间：2012-06-13T04:14:26.057
> 
> 标签：java, apache-poi, lotus-notes

我正在研究一种以编程方式访问 Lotus Notes 数据库的方法，以收集有关给定时期内记录的嵌入式附件的信息。

我的目标是查找给定时间段内的记录，然后使用 Apache-POI 获取有关文档大小、字符数等的元数据。

POI 部分工作正常，到目前为止，由于以下帮助，我已经能够访问 Lotus Notes 记录：

[莲花笔记使用Java api按日期搜索](https://stackoverflow.com/questions/10843113/lotus-notes-search-by-date-with-java-api)

这个答案还向我展示了如何下载/复制附件：

[如何使用 java 从 .nsf(lotus notes) 文件中获取所有附件](https://stackoverflow.com/questions/7850189/how-do-i-get-all-the-attachments-from-a-nsflotus-notes-file-using-java/7854740#7854740)

从那里我可以使用我的 POI 代码完成我的工作，最后，只需删除复制的附件。这种方法基本上可行，但我想避免复制、保存然后最后从数据库中删除这些附加文档的副本的开销。

我尝试将 EmbeddedObject getSource() 方法的结果作为输入传递给我的 POI 代码，并在 POI 代码中得到一个 FileNotFoundException，它期望一个字符串来生成一个文件。

有没有办法获取我可以传递给 POI 的文件参考，而无需复制和保存附件？或者，我的意思是，它是否像获取 Lotus Notes EmbeddedObject 附件的文件（+路径）一样简单，我该怎么做？

* * *

我找到了答案并将其发布在下面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T00:22:14.283

回答我自己的问题...

...这是我在发布上述问题后发现的解决方案：

EmbeddedObject 的 getInputStream 来拯救...

```
 //from the answer in the link in the question above　
  Database db = agentContext.getCurrentDatabase();
  DocumentCollection dc = db.getAllDocuments();
  Document doc = dc.getFirstDocument();
  boolean saveFlag = false;
  while (doc != null) {
    RichTextItem body = 
    (RichTextItem)doc.getFirstItem("Body");
    System.out.println(doc.getItemValueString("Subject"));
    Vector v = body.getEmbeddedObjects();
    Enumeration e = embeddedObjs.elements();
    while(e.hasMoreElements()){
        EmbeddedObject eo = (EmbeddedObject)e.nextElement();
        if(eo.getType() == EmbeddedObject.EMBED_ATTACHMENT){

    //this next line gives Apache-POI access to the InputStream

                        InputStream is = eo.getInputStream();
            POIFSFileSystem POIfs = 
                              HWPFDocument.verifyAndBuildPOIFS(is);
            POIOLE2TextExtractor extractor = 
                              ExtractorFactory.createExtractor(POIfs);
            System.out.println("extracted text: " + extractor.getText());
                        is.close();  //closing InputStream 
                     }
                     eo.recycle();  //recycling EmbeddedObject

   //thanks to rhsatrhs for the close() and recycle() tip! 
```

# c# - 在 C# 表达式树中可靠地检测编译器生成的类

> ID：11008129
> 
> 赞同：12
> 
> 时间：2012-06-13T04:14:32.230
> 
> 标签：c#, .net, linq, expression-trees, linq-expressions

我正在按照 Linq-to-SQL 的方式构建一个 C# 表达式到 Javascript 转换器，但是我遇到了编译器生成的表达式树的问题。

我遇到的特殊问题是处理`MemberExpression`编译器生成的值，但`CompilerGeneratedAttribute`它们的类型没有指定。

这是我一直在尝试的精简版：

```
void ProcessMemberExpression(MemberExpression memberX) {
    var expression = memberX.Expression;
    var expressionType = expression.Type;
    var customAttributes = expressionType.GetCustomAttributes(true);
    var expressionTypeIsCompilerGenerated = customAttributes.Any(x => x is CompilerGeneratedAttribute);
    if (expressionTypeIsCompilerGenerated) {
        var memberExpressionValue = Expression.Lambda(memberX).Compile().DynamicInvoke();
        ... do stuff ...
    }
    else {
        ... do other stuff ...
    }
} 
```

现在，我打开了一个 Visual Studio 调试会话，我发现它（在即时窗口中运行）：

```
expressionType.Name
"<>c__DisplayClass64"
expressionType.GetCustomAttributes(true)
{object[0]}
expressionType.GetCustomAttributes(true).Length
0 
```

所以我这里有一个明显的编译器生成的类，没有自定义属性，因此没有`CompilerGeneratedAttribute`！因此，我的代码`do other stuff`将`do stuff`.

如果有人可以在这里帮助我，我将不胜感激。如果可能的话，我真的宁愿不做任何肮脏的`expressionType.Name`事情，比如将`<>.*__DisplayClass`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T11:39:04.027

根据 Jon Skeet 在此处的回答，听起来检查尖括号会起作用。

[自动实现的属性中的私有变量在哪里/什么？](https://stackoverflow.com/questions/9256594/where-what-is-the-private-variable-in-auto-implemented-property)

# label - jqPlot - 标签和刻度文本重叠

> ID：11008131
> 
> 赞同：3
> 
> 时间：2012-06-13T04:14:38.533
> 
> 标签：label, jqplot, overlap

我试图在 Y 轴上同时显示刻度和标签，但文本似乎在标签和刻度之间重叠：

![重叠！](../Images/474ee5f1160646203cfd835db361e715.png)

知道如何将标签更向左移动吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-13T05:41:43.547

好吧，我傻了。

我没有正确包含 jqplot CSS 文件。它指向错误的目录。

# python - PyQT 自定义小部件固定为正方形

> ID：11008140
> 
> 赞同：5
> 
> 时间：2012-06-13T04:15:10.860
> 
> 标签：python, qt, widget, pyqt, pyqt4

我正在开发一个自定义小部件（继承自 QWidget）以用作控件。如何将小部件的纵横比固定为正方形，但在垂直和水平空间都允许的情况下仍允许布局管理器调整其大小？

我知道我可以设置 QPainter 的视口，使其仅在中央正方形区域中绘制，但这仍然允许用户单击绘制区域的任一侧。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T08:02:03.940

似乎没有通用的方法可以在所有情况下保持小部件方形。您必须选择一项：

*   使其高度取决于其宽度：

```
class MyWidget(QWidget):
    def __init__(self, parent=None):
        QWidget.__init__(self, parent)
        policy = QSizePolicy(QSizePolicy.Preferred, QSizePolicy.Preferred)
        policy.setHeightForWidth(True)
        self.setSizePolicy(policy)
    ...
    def heightForWidth(self, width):
        return width
    ... 
```

*   使其最小宽度取决于其高度：

```
class MyWidget(QWidget):
    def __init__(self, parent=None):
        QWidget.__init__(self, parent)
        self.setSizePolicy(QSizePolicy.Preferred, QSizePolicy.Preferred)
    ...
    def resizeEvent(self, e):
        setMinimumWidth(height())
    ... 
```

只要有这种可能性，这样的小部件就会保持正方形。

正如您所提到的，对于其他情况，您确实应该考虑更改视口。鼠标事件应该不是什么大问题，只需找到小部件的中心（将尺寸除以 2），找到`min(width, height)`并从那里开始。您应该能够通过坐标验证鼠标事件。[`QMouseEvent.accept`](http://qt-project.org/doc/qevent.html#accept)仅当事件通过验证并且您使用了该事件时，才可以调用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T08:26:34.410

我会使用 BlaXpirit 的方法，但这是我以前使用过的替代方法。

如果您对自定义小部件进行子类化，`resiseEvent()`您可以调整请求的大小以使其成为正方形，然后手动设置小部件的大小。

```
import sys
from PyQt4 import QtCore, QtGui

class CustomWidget(QtGui.QFrame):
    def __init__(self, parent=None):
        QtGui.QFrame.__init__(self, parent)

        # Give the frame a border so that we can see it.
        self.setFrameStyle(1)

        layout = QtGui.QVBoxLayout()
        self.label = QtGui.QLabel('Test')
        layout.addWidget(self.label)
        self.setLayout(layout)

    def resizeEvent(self, event):
        # Create a square base size of 10x10 and scale it to the new size
        # maintaining aspect ratio.
        new_size = QtCore.QSize(10, 10)
        new_size.scale(event.size(), QtCore.Qt.KeepAspectRatio)
        self.resize(new_size)

class MainWidget(QtGui.QWidget):
    def __init__(self, parent=None):
       QtGui.QWidget.__init__(self, parent)

       layout = QtGui.QVBoxLayout()
       self.custom_widget = CustomWidget()
       layout.addWidget(self.custom_widget)
       self.setLayout(layout)

app = QtGui.QApplication(sys.argv)
window = MainWidget()
window.show()
sys.exit(app.exec_()) 
```

# android - cocos2d-x 游戏进入后台崩溃

> ID：11008141
> 
> 赞同：6
> 
> 时间：2012-06-13T04:15:17.993
> 
> 标签：android, iphone, cocos2d-iphone, cocos2d-x

我的 cocos2d-x 游戏在进入后台时崩溃。这是来自 AppDelegate 的一些代码：

```
// This function will be called when the app is inactive. When comes a phone call,it's be invoked too
void AppDelegate::applicationDidEnterBackground()
{

    CCDirector::sharedDirector()->pause();

    CCUserDefault::sharedUserDefault()->flush();

    CocosDenshion::SimpleAudioEngine::sharedEngine()->pauseBackgroundMusic();

}

// this function will be called when the app is active again
void AppDelegate::applicationWillEnterForeground()
{

    CCDirector::sharedDirector()->resume();

    CocosDenshion::SimpleAudioEngine::sharedEngine()->resumeBackgroundMusic();
} 
```

和错误信息：

```
libGPUSupportMercury.dylib`gpus_ReturnNotPermittedKillClient:
0x3797e094:  trap   
0x3797e096:  nop 
```

请注意，它总是在 iPhone 上崩溃，但在 Android 上 99% 崩溃（好吧，当游戏没有加载大图像等时）

编辑：我已经尝试过 CCDirector::sharedDirector()->stopAnimation() 并且它适用于 iOS。但 Android 仍然崩溃（不是立即崩溃。返回应用程序时，屏幕变黑（但我认为它仍在运行，因为背景音乐仍在播放。然后大约 5 秒后它崩溃了）

编辑 2： Eclipse 中的错误消息：

```
libEGL   call to OpenGL ES API with no current context (logged once per thread)      (red warning text)

libc     Fatal signal 11 (SIGSEGV) at 0x5f012000 (code=2)                  (black text) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T04:22:20.877

*在*您的应用程序转换到后台之后，但*在*您的应用程序挂起之前`applicationDidEnterBackground:`调用应用程序委托方法。不幸的是，您不能在后台执行*任何*GPU 指令，否则看门狗将终止您（如您在此处看到的）。

 ***假设您的`CCDirector::sharedDirector()->pause()`调用负责停止图形/动画循环，您应该将其移至`applicationWillResignActive:`委托方法。在您的应用程序转换到后台*之前*调用该方法。

无论您的代码结构如何，请确保在从`applicationWillResignActive:`委托调用返回之前完全刷新并停止动画循环。

*注意：这个答案是关于为什么它总是在 iOS 上崩溃****

# php - 如何使用 jquery 获取 html 表 td 属性的唯一 ID

> ID：11008144
> 
> 赞同：0
> 
> 时间：2012-06-13T04:16:22.137
> 
> 标签：php, jquery, mysql, html, show-hide

大家好，我正在尝试为每个人创建工具提示，`HTML table cell`你们知道如何`td`在这里获取属性 ID

非常感谢 jquery 代码示例

```
 $(function () {
    $(".test").hover(
        function () {

                        var toolTipHtml = $("#ToolTipDiv").clone();

            $(this).append(toolTipHtml);
            toolTipHtml.show("slow");
        },
        function () {
            var toolTipHtml = $(this).find(".tooltip");

            toolTipHtml.hide();
            toolTipHtml.remove();
        }
    );

});

 echo "<table>";
while($row = mysql_fetch_array($result))
{
      $id = $row['id_out_org'];
           echo "<tr>";  
         echo "<td>" .$row['KG']."</td>";        
        echo "<td class='test'>" .$row['B']."</td>";
        echo "<td >" .$row['B']."</td>";
        echo  "<td class='test'>"; 
        echo "<div id = 'ToolTipDiv' class='tooltip' style='background-color: White; display: none; width: 20%;'>";

        echo "Total: $ "; echo $totalp = $total + $fuel;

        echo "</div>";
         "</td>";

        echo "</tr>";           
    }
    echo "</table>"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T04:42:42.680

[最好使用Tooltip](http://docs.jquery.com/Plugins/Tooltip)中的这个开源插件

它可能会满足您的需求。[在此处](http://jquery.bassistance.de/tooltip/demo/)查看示例

```
$('#table td.test').tooltip(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T04:21:20.847

使用一个包罗万象的选择器，然后遍历它们：

```
$("td[id$=ToolTipDiv_]").each(function() {
    $(this).attr('title', 'some tool tip');
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T04:32:36.363

因为你使用的是胡佛，你可以使用这样的东西

```
$('.tooltip').hover(function() {
   alert(this.id);
   // or to get the id of the row
var toolTipHtml = $("#"+this.id).clone();
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T04:24:39.247

要从每个表格单元格中获取 HTML 和 ID：

```
$('td').each(function() {
  var toolTipHtml = $(this).html(); // now you have the contents of the cell
  id = $(this).attr('id');  // now you have the id
}); 
```

# hadoop - 将 jobtracker 和 tasktracker logging 更改为“Daily Rolling File Appender”

> ID：11008146
> 
> 赞同：2
> 
> 时间：2012-06-13T04:16:54.433
> 
> 标签：hadoop, log4j, cloudera

由于使用“每日滚动文件附加器”，我们无法提供 MaxBackupIndex，我想将“滚动文件附加器”用于作业跟踪器和任务跟踪器守护程序日志。我怎样才能做到这一点？以下是我正在使用的 log4j。（我正在使用 hadoop cdh4beta2）

```
# Define some default values that can be overridden by system properties
hadoop.root.logger=INFO,console
hadoop.log.dir=.
hadoop.log.file=hadoop.log

# Define the root logger to the system property "hadoop.root.logger".
log4j.rootLogger=${hadoop.root.logger}, EventCounter

# Logging Threshold
log4j.threshold=ALL

# Null Appender
log4j.appender.NullAppender=org.apache.log4j.varia.NullAppender

#
# Rolling File Appender - cap space usage at 5gb.
#
hadoop.log.maxfilesize=100MB
hadoop.log.maxbackupindex=3
log4j.appender.RFA=org.apache.log4j.RollingFileAppender
log4j.appender.RFA.File=${hadoop.log.dir}/${hadoop.log.file}
log4j.appender.RFA.MaxFileSize=${hadoop.log.maxfilesize}
log4j.appender.RFA.MaxBackupIndex=${hadoop.log.maxbackupindex}

log4j.appender.RFA.layout=org.apache.log4j.PatternLayout

# Pattern format: Date LogLevel LoggerName LogMessage
log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n
# Debugging Pattern format
#log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n

#
# Daily Rolling File Appender
#

log4j.appender.DRFA=org.apache.log4j.DailyRollingFileAppender
log4j.appender.DRFA.File=${hadoop.log.dir}/${hadoop.log.file}

# Rollver at midnight
log4j.appender.DRFA.DatePattern=.yyyy-MM-dd

# 30-day backup
log4j.appender.DRFA.MaxBackupIndex=3
log4j.appender.DRFA.layout=org.apache.log4j.PatternLayout

# Pattern format: Date LogLevel LoggerName LogMessage
log4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n
# Debugging Pattern format
#log4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n

#
# console
# Add "console" to rootlogger above if you want to use this 
#

log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.target=System.err
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n
#
# TaskLog Appender
#

#Default values
hadoop.tasklog.taskid=null
hadoop.tasklog.iscleanup=false
hadoop.tasklog.noKeepSplits=4
hadoop.tasklog.totalLogFileSize=100
hadoop.tasklog.purgeLogSplits=true
hadoop.tasklog.logsRetainHours=12

log4j.appender.TLA=org.apache.hadoop.mapred.TaskLogAppender
log4j.appender.TLA.taskId=${hadoop.tasklog.taskid}
log4j.appender.TLA.isCleanup=${hadoop.tasklog.iscleanup}
log4j.appender.TLA.totalLogFileSize=${hadoop.tasklog.totalLogFileSize}

log4j.appender.TLA.layout=org.apache.log4j.PatternLayout
log4j.appender.TLA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n

#
#Security appender
#
hadoop.security.logger=INFO,console
hadoop.security.log.maxfilesize=100MB
hadoop.security.log.maxbackupindex=3
log4j.category.SecurityLogger=${hadoop.security.logger}
hadoop.security.log.file=SecurityAuth.audit
log4j.appender.RFAS=org.apache.log4j.RollingFileAppender 
log4j.appender.RFAS.File=${hadoop.log.dir}/${hadoop.security.log.file}
log4j.appender.RFAS.layout=org.apache.log4j.PatternLayout
log4j.appender.RFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n
log4j.appender.RFAS.MaxFileSize=${hadoop.security.log.maxfilesize}
log4j.appender.RFAS.MaxBackupIndex=${hadoop.security.log.maxbackupindex}

#
# Daily Rolling Security appender
#
log4j.appender.DRFAS=org.apache.log4j.DailyRollingFileAppender 
log4j.appender.DRFAS.File=${hadoop.log.dir}/${hadoop.security.log.file}
log4j.appender.DRFAS.layout=org.apache.log4j.PatternLayout
log4j.appender.DRFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n
log4j.appender.DRFAS.DatePattern=.yyyy-MM-dd

#
# hdfs audit logging
#
hdfs.audit.logger=ERROR,NullAppender
hdfs.audit.log.maxfilesize=100MB
hdfs.audit.log.maxbackupindex=3
log4j.logger.org.apache.hadoop.hdfs.server.namenode.FSNamesystem.audit=${hdfs.audit.logger}
log4j.additivity.org.apache.hadoop.hdfs.server.namenode.FSNamesystem.audit=false
log4j.appender.RFAAUDIT=org.apache.log4j.RollingFileAppender
log4j.appender.RFAAUDIT.File=${hadoop.log.dir}/hdfs-audit.log
log4j.appender.RFAAUDIT.layout=org.apache.log4j.PatternLayout
log4j.appender.RFAAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n
log4j.appender.RFAAUDIT.MaxFileSize=${hdfs.audit.log.maxfilesize}
log4j.appender.RFAAUDIT.MaxBackupIndex=${hdfs.audit.log.maxbackupindex}

#
# mapred audit logging
#
mapred.audit.logger=INFO,console
mapred.audit.log.maxfilesize=100MB
mapred.audit.log.maxbackupindex=3
log4j.logger.org.apache.hadoop.mapred.AuditLogger=${mapred.audit.logger}
log4j.additivity.org.apache.hadoop.mapred.AuditLogger=false
log4j.appender.MRAUDIT=org.apache.log4j.RollingFileAppender
log4j.appender.MRAUDIT.File=${hadoop.log.dir}/mapred-audit.log
log4j.appender.MRAUDIT.layout=org.apache.log4j.PatternLayout
log4j.appender.MRAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n
log4j.appender.MRAUDIT.MaxFileSize=${mapred.audit.log.maxfilesize}
log4j.appender.MRAUDIT.MaxBackupIndex=${mapred.audit.log.maxbackupindex}

# Custom Logging levels

#log4j.logger.org.apache.hadoop.mapred.JobTracker=DEBUG
#log4j.logger.org.apache.hadoop.mapred.TaskTracker=DEBUG
#log4j.logger.org.apache.hadoop.hdfs.server.namenode.FSNamesystem.audit=DEBUG

# Jets3t library
log4j.logger.org.jets3t.service.impl.rest.httpclient.RestS3Service=ERROR

#
# Event Counter Appender
# Sends counts of logging messages at different severity levels to Hadoop Metrics.
#
log4j.appender.EventCounter=org.apache.hadoop.log.metrics.EventCounter

#
# Job Summary Appender 
#
# Use following logger to send summary to separate file defined by 
# hadoop.mapreduce.jobsummary.log.file :
# hadoop.mapreduce.jobsummary.logger=INFO,JSA
# 
hadoop.mapreduce.jobsummary.logger=${hadoop.root.logger}
hadoop.mapreduce.jobsummary.log.file=hadoop-mapreduce.jobsummary.log
hadoop.mapreduce.jobsummary.log.maxfilesize=100MB
hadoop.mapreduce.jobsummary.log.maxbackupindex=3
log4j.appender.JSA=org.apache.log4j.RollingFileAppender
log4j.appender.JSA.File=${hadoop.log.dir}/${hadoop.mapreduce.jobsummary.log.file}
log4j.appender.JSA.MaxFileSize=${hadoop.mapreduce.jobsummary.log.maxfilesize}
log4j.appender.JSA.MaxBackupIndex=${hadoop.mapreduce.jobsummary.log.maxbackupindex}
log4j.appender.JSA.layout=org.apache.log4j.PatternLayout
log4j.appender.JSA.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n
log4j.logger.org.apache.hadoop.mapred.JobInProgress$JobSummary=${hadoop.mapreduce.jobsummary.logger}
log4j.additivity.org.apache.hadoop.mapred.JobInProgress$JobSummary=false 
```

# c# - C# 中离子 zip 的替代品是什么？

> ID：11008152
> 
> 赞同：16
> 
> 时间：2012-06-13T04:17:59.797
> 
> 标签：c#, windows, zip

我使用 Ionic.Zip 压缩和解压缩我的数据。但我发现 Ionic.Zip 无法处理大文件（> 3GB）。

那么是否有任何第三方工具可以用来替代 Ionic.Zip？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-13T05:26:09.200

如果您可以使用 .NET Framework 4.5+，则[ZipArchive](https://docs.microsoft.com/dotnet/api/system.io.compression.ziparchive)现在是 BCL 的一部分，如“ [.NET 4.5 基类库中的新增功能](https://docs.microsoft.com/en-us/archive/msdn-magazine/2012/june/clr-what%E2%80%99s-new-in-the-net-4-5-base-class-library#support-for-zip-archives)”一文所述。

此外，恕我直言，“事实上的”第三方库是来自 SharpDevelop 团队的[SharpZipLib 。](http://www.icsharpcode.net/opensource/sharpziplib/)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-09-25T11:54:39.420

它实际上可以处理更大的文件。

为此，您需要使用属性：

```
UseZip64WhenSaving = Zip64Option.Always 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T04:45:04.033

[适用于 .NET 的 Xceed 实时 zip](http://xceed.com/ZipRT_Net_Intro.html)

从他们的网站引用：

> Zip 存档中文件的大小或数量对内存和磁盘空间要求绝对没有影响。

那里可能是更便宜的选择。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T05:38:44.017

[System.IO.Compression](http://msdn.microsoft.com/en-us/library/system.io.compression.aspx)命名空间有[DeflateStream](http://msdn.microsoft.com/en-us/library/system.io.compression.deflatestream.aspx)和[GZipStream](http://msdn.microsoft.com/en-us/library/system.io.compression.gzipstream.aspx)类。

# android - 如何使用 DialogFragment 和 FragmentManager 制作 DatePicker？

> ID：11008154
> 
> 赞同：4
> 
> 时间：2012-06-13T04:18:35.473
> 
> 标签：android, android-fragments, android-dialogfragment, android-datepicker

所以我已经有一段时间了，我似乎无法弄清楚。我是 Android 开发的新手，所以请多多包涵。我对创建 Datepicker 不太熟悉，我学会了以不推荐的方式来完成它，只是为了掌握它的窍门。使用本教程让我加快速度：

[http://developer.android.com/resources/tutorials/views/hello-datepicker.html](http://developer.android.com/resources/tutorials/views/hello-datepicker.html)

但是现在我需要更改它，主要是不使用已弃用的代码，所以我环顾四周，找到了 2 个教程，但主要是这个：

[http://www.kylebeal.com/2011/11/android-datepickerdialog-and-the-dialogfragment/](http://www.kylebeal.com/2011/11/android-datepickerdialog-and-the-dialogfragment/)

问题是，有些代码没有意义。主要是这部分：

```
//create new DateDialogFragment
DateDialogFragment ddf = DateDialogFragment.newInstance(this, R.string.set_date, date);

ddf.setDateDialogFragmentListener(new DateDialogFragmentListener() {

    @Override
    public void dateDialogFragmentDateSet(Calendar date) {
        // update the fragment
        mDateDetailFragment.updateDate(date);
    }
});

ddf.show(getSupportFragmentManager(), "date picker dialog fragment"); 
```

假设是在它运行的活动类中运行的内容。所以我有点了解其余代码中发生的情况，并随意查看其余部分，因为它可能会有所帮助。该代码基本上遵循与原始代码几乎相同的路线`showDialog()`。实现`DatePickerDialog.onDateSetListener`并返回一个新`DatePickerDialog`的，明显的例外是它使用 DialogFragment。但这就是我迷路的地方。

部分原因是因为我不确定新的 DatePickerDialog**在哪里** `onCreateDialog()`返回。如果你看我说的代码没有意义，两者`mDateDetailFragment`都`getSupportFragmentManager()`没有实例化或出现在其他任何地方，所以我无法让教程代码工作。Android Doc 还提到，`showDialog()`我应该同时使用`DialogFragment`and而不是使用`FragmentManager`，这里也没有这样做。只有 DialogFragment。

所以就像标题一样，我如何才能以非弃用形式制作 DatPicker？我会要求**不要**将我发送到链接，只是说看看这里。我已经做到了。相信我。如果不是，至少解释一下我错过了什么才有意义。此外，如果有人能真正告诉我该`onCreateDialog()`方法将 发送到哪里`DatePickerDialog`，那也将非常有帮助。我只是想弄明白这一切，而不是复制和粘贴代码（无论如何它都不起作用）。非常感谢您抽出时间阅读本文，如果需要任何澄清，请询问。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T06:58:24.430

按照您的帖子顺序... \

1)`onCreateDialog`将对话框返回给DialogFragment。

2）我不知道这`mDateDetailFragment.updateDate(date);`条线......我认为他可能遗漏了一些代码。 **编辑** 找到它，它在他完整演示的 zip 文件中的一个类中。

3）您正在使用片段管理器（它的`getSupportFragmentManager()`一部分）：

```
ddf.show(getSupportFragmentManager(), "date picker dialog fragment"); 
```

好的，也就是说，这就是我的做法（我使用的是 DateSlider，但在它的位置插入 Datepicker 对你来说应该足够简单）。

在调用 DialogFragment 的片段/活动中：

```
DialogFragment newFragment = new DateDialog();
newFragment.show(getFragmentManager(), "dialog"); 
```

还有我的 DialogFragment：

```
public class DateDialog extends DialogFragment {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }
    private DateSlider.OnDateSetListener mDateSetListener = new DateSlider.OnDateSetListener() {
        public void onDateSet(DateSlider view, Calendar selectedDate) {
            MemberAddFragment.startTxt.setText(String.format("%tB %te, %tY", selectedDate, selectedDate, selectedDate));
        }
    };

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
        final Calendar c = Calendar.getInstance();  // Get calendar instance to use in DateSlider
        return new AlternativeDateSlider(getActivity(),mDateSetListener,c,null,null);  // return DateSlider dialog to DialogFragment
    }
} 
```

希望这有助于消除您的困惑。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-16T06:45:18.293

我知道这个问题是我的，并且已经有了答案。但我想我会将自己的答案添加给其他人，以寻求在同一问题上的帮助。**我已将上面提供的示例代码简化为 2 个类。**Kbeal 非常亲切地提供了教程，他做得很好，但它过于臃肿，提供了甚至没有必要的信息。因此，使用我对对话框的了解以及从 Kbeal 的教程中学到的知识以及我对片段所做的研究，我从我的 GitHub 上的 DatePickerDialog 提供了我的实现。

[https://github.com/Zeroe31890/DateDialogFragment](https://github.com/Zeroe31890/DateDialogFragment)

老实说，您只需在复制和粘贴 2 个类、单一布局和修改 Android Manifest 文件后直接运行它。比任何其他教程都容易得多。哦，如果有人看到任何可以做得更好的事情，请这样做。享受！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T15:45:45.937

此处帖子的作者：听起来您已经弄清楚了。尽管巴拉克在回答这些问题方面做得很好，但在发现这个问题之前，我已经在我的帖子中回答了你的问题。如果您还没有这样做，请下载示例应用程序的完整源代码。我认为这将有助于填补您仍然存在的任何缺失的空白。

# asp.net - ASP.NET 在线图像编辑器的托管规范

> ID：11008157
> 
> 赞同：0
> 
> 时间：2012-06-13T04:18:49.077
> 
> 标签：asp.net, web-services, web, shared-hosting

我打算创建一个像[pixlr.com/editor](http://pixlr.com/editor)这样的在线图像编辑器。我想使用 ASP.NET 作为 P 语言，因此更喜欢 Windows 托管。我应该寻找带宽、空间、数据库等什么。我想知道有多少并发用户可以使用该站点（有/没有数据库连接）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T04:37:17.003

我是 Windows Azure 应用程序的忠实拥护者——它的起价（每月 15 美元左右）是负担得起的，并且具有可扩展性的优点。

很确定它还提供 3 个月的免费试用 - 值得一试。

[www.windowsazure.com](http://www.windowsazure.com)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T04:27:05.110

Appharbor 是一个很棒的免费增值资源。您通过 git 或 Github、BitBucket 或 Codeplex 提交文件。它基本上是 .NET 的 Heroku。免费获得无限的提交和空间（我认为），带宽很棒，而且速度足够快。您将获得一个 .apphb.com 域。欲了解更多信息，请访问[http://www.appharbor.com](http://www.appharbor.com)

# resources - 死锁问题（与操作系统相关）

> ID：11008158
> 
> 赞同：3
> 
> 时间：2012-06-13T04:19:08.060
> 
> 标签：resources, deadlock

考虑一台具有五个单独资源的计算机，名称为 R1 ...。R5。让五个进程 P1，...。P5按顺序发出请求，如下：

```
i. P1 requests R2
ii. P4 requests R3
iii. P3 requests R1
iv. P2 requests R4
v. P5 requests R5
vi. P4 requests R2
vii. P5 requests R3
viii. P3 requests R5 
```

如果 R_i 当前可用，则假设进程 P_i 获得 R_i。

是否存在死锁，如果是，它是在什么时候发生的，它涉及哪些过程？

谁能帮帮我？对于第一个我认为没有僵局，但我不知道如何证明。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T04:44:10.530

假设这是事件的实际顺序，那里没有死锁。最初，所有资源都是免费的，按顺序运行该代码：

```
1\. P1 requests R2: p1 has r2.
2\. P4 requests R3: p4 has r3.
3\. P3 requests R1: p3 has r1.
4\. P2 requests R4: p2 has r4.
5\. P5 requests R5: p5 has r5.
6\. P4 requests R2: p4 has r3, awaiting r2(p1).
7\. P5 requests R3: p5 has r5, awaiting r3(p4).
8\. P3 requests R5: p3 has r1, awaiting r5(p5). 
```

所以目前的状态是：

```
p1 has r2.
p2 has r4.
p3 has r1, awaiting r5(p5).
p4 has r3, awaiting r2(p1).
p5 has r5, awaiting r3(p4). 
```

等待链是（服务员->拦截器）：

```
p4 -> p1, p5 -> p4, p3 -> p5 
```

或者：

```
p3 -> p5 -> p4 -> p1 
```

因为那里没有循环，所以没有发生死锁。

通过简单地让非服务员释放他们的资源并遵循事件链可以获得进一步的证明：

```
 9\. p1 releases r2, frees it up for p4 (p3 and p5 blocked, p4 has r3/r2).
10\. p4 releases r3, frees it up for p5 (p3 blocked, p5 has r5/r3).
11\. p5 releases r5, frees it up for p3 (nobody is blocked, p3 has r5). 
```

这些步骤之后的最终状态是：

```
p1 has nothing.
p2 has r4.
p3 has r1/r5.
p4 has r2.
p5 has r3. 
```

现在没有阻塞，每个线程都可以简单地释放它们仍然分配的任何资源。

* * *

现在，如果您扩展您的问题以询问如果这些操作可以按任何顺序发生（同时保持每个线程内的顺序）是否可能发生死锁，答案仍然是否定的。

这是多线程的基本原则，您可以通过确保所有资源在每个线程中以相同的顺序分配来避免死锁。根据您提供的操作，各个线程按如下方式分配其资源（必须*在*线程内维护顺序）：

```
P1: R2
P2: R4
P3: R1 R5
P4: R3 R2
P5: R5 R3 
```

那么，我们如何确保它们都以相同的顺序分配呢？我们只需要找到一个匹配的序列。首先，我们从上面的列表开始，但添加空格，以便排列相似的资源并且没有资源位于另一个资源的两侧：

```
P1:             R2
P2: R4
P3:    R1 R5
P4:          R3 R2
P5:       R5 R3

    R4 R1 R5 R3 R2  <== 
```

还有你的序列。*每个*线程都按 4、1、5、3、2 的顺序分配资源。并非每个线程都分配所有资源，但这在这里无关紧要。

这也不是唯一的解决方案（R4 是独立的，因此它可以*放在*列表中的任何位置 - 每个其他资源都包含在单个依赖链（1、5、3、2）中，因此它们的相对位置是固定的）。

但是，只要证明每个线程都按特定顺序分配资源就足够了，因此死锁是不可能的。

# button - 从列表框行显示窗口的按钮

> ID：11008162
> 
> 赞同：0
> 
> 时间：2012-06-13T04:19:53.873
> 
> 标签：button, listbox, zk

我想创建一个按钮，该按钮可以显示一个窗口，以便在单击时显示列表框中元素的详细信息。列表框 itsetf 是从 JSONObject 列表创建的，如下所示：

```
<listbox id="userListbox">
<listhead>
    <listheader laber="Action"></listheader>
    <listheader label="Id"></listheader>
    <listheader label="Name"></listheader>
    <listheader label="Address"></listheader>
    <listheader label="Phone"></listheader>
</listhead>
<listitem forEach="${userController.list}">
    <listcell>
        <button label="Detail"  id="detailButton"></button>
    </listcell>
    <listcell label="${each.id}" ></listcell>
    <listcell label="${each.name}" ></listcell>
    <listcell label="${each.address}" ></listcell>
    <listcell label="${each.phone}" ></listcell>
</listitem>
</listbox> 
```

对于每一行（listcell），总是有一个按钮来显示详细信息。但是当我加载页面时，它无法显示带有错误消息的列表：

**在 ID 空间 <Window cP8Q0#userWindow> 中不是唯一的：detailButton。**

单击按钮时显示一个窗口的任何想法？这是单击按钮时的代码：

```
@Listen("onClick = #detailButton")
public void showModal(Event event) {
    Component comp = Executions.createComponents("/widgets/window/modal_dialog/employee_dialog.zul", null, null);

    if(comp instanceof Window) {
        ((Window)comp).doModal();
    }
} 
```

感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T21:00:03.580

问题是，如果您单击不同的按钮，您将一次又一次地运行 createComponents。您的 employee_dialog.zul 只能安全地包含在页面中一次，因为其中包含 ID；如果您执行两次操作，您将创建第二组具有相同 ID 的组件，并且 ID 在给定的 idSpace 内应该是唯一的（有关理论，请参阅 ZK 开发人员指南）。

这里还有其他问题：为什么要创建两次组件？为什么不保留一套，也只有一套，根据按钮点击显示和隐藏它们。这样更有效率。

查看 [Button to Show a Window from Listbox Row](https://stackoverflow.com/questions/11008162/button-to-show-a-window-from-listbox-row)这表明您可以：

```
<zk>
    <!-- hidden -->
    <window id="wnd" title="My Modal" visible="false" width="300px">
        <button label="close" onClick="wnd.visible = false"/>
    </window>
    <!-- click button to pop the hidden window! -->
    <button label="do it" onClick="wnd.doModal()"/>
</zk> 
```

所以你可以使用一个

```
<include src="/widgets/window/modal_dialog/employee_dialog.zul"> 
```

将模型对话框拉到主页底部一次且仅一次。然后在代码中，您可以将数据设置到其中并执行

```
win1.doModal(); 
```

其中 win1 是片段中定义的模态窗口。您必须在弹出模型窗口之前告诉模型窗口要显示什么，但这并不难。使用 desktopScope.put("myName", this) 将对话框的控制器/视图模型注册到主窗口中的控制器/视图模型可以找到它并与之交谈以传递给它的位置要渲染的数据。

另外两个提示。

1.  将您的片段隐藏为 /WEB-INF/zul/employee_dialog.zul，因为浏览器无法直接访问 WEB-INF 下的任何内容以提高安全性。
2.  尽量不要将任何 zul 放入您的 java.lang. 那就是将行为与表现相混合。有时这是不可避免的，但总是先尝试将 zul 保留在 zul 中，然后仅通过 java ID 与其交互（很像我的建议）。这并不总是可能的，但逻辑与布局的分离是一种核心设计模式。

西蒙

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:44:25.910

```
<button label="Detail" />
@Listen("onClick = listbox listitem listcell button") 
```

# unix - 如何查看 unix 中哪些文件占用的空间最多？

> ID：11008164
> 
> 赞同：3
> 
> 时间：2012-06-13T04:20:17.733
> 
> 标签：unix

我使用过`du -h`and `df -h`，但我似乎无法确定哪些实际文件占用了空间。当我删除文件时`df -h`仍然说磁盘已满。此外，当我删除基于 的文件时`du -h`，sda2 的空间不会减少。

```
Filesystem            Size  Used Avail Use% Mounted on
/dev/sda2              13G   12G     0 100% /
/dev/sda1             251M   21M  218M   9% /boot
tmpfs                1006M     0 1006M   0% /dev/shm 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T05:38:18.950

查找大文件（具有名称）的技巧通常`du -a`是`sort -n`. 这会为您最后提供最大的文件（因此小文件从页面顶部消失并不重要）。

您可能有一个进程仍在运行，打开一个无名文件，当它有机会时正在写入该文件，这正在占用空间。这可能是它打开以存储数据的临时文件，也可能是某人删除的日志文件。它使用的空间不会显示为可用空间，但也不会显示为正在使用`du -a`（或任何其他选项），因为没有文件名。如果您不知道它是哪个进程，您可以使用重新启动来停止该进程（所有进程），从而释放空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:19:36.123

参考`df`手册页：

```
`--no-sync'
     Do not invoke the `sync' system call before getting any usage data.
     This may make `df' run significantly faster on systems with many
     disks, but on some systems (notably SunOS) the results may be
     slightly out of date.  This is the default. 
```

由于这是默认设置，我猜您正在获取可用空间的缓存视图。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:15:54.937

使用以下命令检查磁盘空间：

```
df -lh 
```

# java - SwingUtilities invokeLater GUI update with JList

> ID：11008166
> 
> 赞同：3
> 
> 时间：2012-06-13T04:20:19.963
> 
> 标签：java, multithreading, swing, user-interface, swingutilities

再会，

我已经阅读了其他一些堆栈溢出帖子和其他教程，但是在按钮开始一个漫长的过程后，我无法让我的 GUI 正确更新。我附上了我遇到的问题的完整代码。请注意，如果您运行代码，JList 会在最后一次全部更新，而不是 for 循环的每次迭代。

```
import java.awt.Dimension;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.DefaultListModel;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JList;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class theframe extends JFrame implements ActionListener
{
    private JList list;
    private DefaultListModel listmodel;
    private JButton start;

    public theframe()
    {
        listmodel = new DefaultListModel();
        list = new JList(listmodel);
        start = new JButton("Start");

        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setSize(500,500);
        setVisible(true);

        list.setPreferredSize(new Dimension(200,200));

        start.addActionListener(this);
        JPanel p = new JPanel();
        p.add(start);
        p.add(list);

        this.add(p);
    }

    public static void main(String[] args)
    {
        theframe frame = new theframe();

    }

    @Override
    public void actionPerformed(ActionEvent arg0)
    {
        if(arg0.getSource() == start)
        {
            for(int i=0;i<10;i++)
            {   
                SwingUtilities.invokeLater(new Runnable()
                {
                    @Override
                    public void run()
                    {
                        // the JList should update one by one
                        listmodel.addElement("Start pushed ");
                    }
                });

                try
                {
                                    //This thread sleep simulates a long job
                    Thread.sleep(300);
                } 
                catch (InterruptedException e)
                {
                    e.printStackTrace();
                }
            }
        }
    }
} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T04:31:52.137

该`actionPerformed`方法将在事件调度线程上调用。调用`Thread.sleep`EDT 会阻止它更新您的 GUI。由于您的 GUI 无法更新，因此在`JList`将项目添加到其中时，您将不会重新绘制自己，直到您的循环退出之后。

您可能应该使用[`SwingWorker`](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html). （[`SwingWorker`教程。](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T04:33:05.227

您的问题是您`invokeLater`已经从 EDT（*事件调度线程*）调用该方法。

该方法`actionPerformed`是从 EDT 调用的，所以`sleep`调用只是停止 EDT 本身：您可以想象这不是它应该如何工作的，没有 EDT 运行意味着没有 GUI 更新。

由于这是一项耗时的任务，您应该在`Thread`/中实现它，`Runnable`以便您可以并行执行它，然后`invokeLater`从另一个线程调用。

就像是：

```
class LongProcess extends Thread {
  public void run() {
    for (int i = 0; i < 10; ++i) {
      SwingUtilities.invokeLater(...);
      Thread.sleep(300);
    }
  }
}

void actionPerformed(ActionEvent e) {
  LongProcess process = new LongProcess();
  process.start();
} 
```

# javascript - jQuery 访问对象

> ID：11008169
> 
> 赞同：0
> 
> 时间：2012-06-13T04:21:05.930
> 
> 标签：javascript, jquery, object, multidimensional-array

我正在尝试从使用回调创建的函数中访问对象的值，但遇到了一些麻烦。我还是 jQuery/javascript 的新手。

我调用函数如下：

```
siteDeps(id,function(data){
    $.each(data,function(key,val) {
        console.log(key);
        console.log(val);
    });
}); 
```

该函数从 XML 数据运行 5 次 ajax 查询，并将数据作为多维对象返回；这是一段显示它的肉的摘录：

```
function siteDeps(id,callback) {
    var result = { 
        sitecontactid : {}, 
        siteaddressid : {}, 
        sitephoneid : {}, 
        contactaddressid : {}, 
        contactphoneid : {} 
    };

...//....

    var url5 = decodeURIComponent("sql2xml.php?query=xxxxxxxxxxx");             
    $.get(url5, function(data){
        $(data).find('ID').each(function(i){
            result.sitephoneid[i] = $(this).text(); 
        }); 
    }); 
    callback(result);
} 
```

console.log 输出显示：

```
sitecontactid
Object
    0: "2"
    1: "3"
    __proto__: Object
siteaddressid
Object
    0: "1"
    __proto__: Object
sitephoneid
Object
    0: "1"
    1: "5"
    2: "54"
    __proto__: Object
contactaddressid
Object
    0: "80"
    __proto__: Object
contactphoneid
Object
    0: "6"
    __proto__: Object 
```

如何以我可以使用的格式提取回调数据，例如 sitephoneid: "1","5","54"

还是有更好/更简单的方法来做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T04:27:42.717

要获得该输出，您可以使用 Javascript "join" 函数：

```
siteDeps(id, function(data){
    console.log(JSON.stringify(data));

    var values = [];
    for (var prop in data.sitephoneid) {
        values.push(data.sitephoneid[prop])
    }
    var str = '"' + values.join('","') + '"';
    console.log(str);
    // output: "1","5","54"
});

function siteDeps(id,callback) {
    var result = { 
        sitecontactid : {}, 
        siteaddressid : {}, 
        sitephoneid : {}, 
        contactaddressid : {}, 
        contactphoneid : {} 
    };

...//....

    var url5 = decodeURIComponent("sql2xml.php?query=xxxxxxxxxxx");             
    $.get(url5, function(data){
        $(data).find('ID').each(function(i){
            result.sitephoneid[i] = $(this).text(); 
        }); 

        // callback needs to go inside the ajax call, because it's asynchronous
        callback(result);
    }); 
} 
```

# php - PHP如何将php表格结果保存到.PDF文件

> ID：11008176
> 
> 赞同：-2
> 
> 时间：2012-06-13T04:22:29.697
> 
> 标签：php, javascript, jquery, header

我想要实现的是当用户点击链接并来到这个页面时。将弹出一个消息，要求用户将此 .php 文件保存为 .pdf。基本上，我想将此结果从 .php 保存到 .pdf 文件中，结果来自 mysql 数据库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T04:27:57.550

如果您只想将 HTML 输出保存为 PDF，这两个资源易于使用和设置：

[http://www.tcpdf.org/](http://www.tcpdf.org/)

[http://pdfcrowd.com/hub/2011/04/18/convert-html-to-pdf-in-php.html](http://pdfcrowd.com/hub/2011/04/18/convert-html-to-pdf-in-php.html)

# javascript - 阻止人们将我的网站加载到多个标签上

> ID：11008177
> 
> 赞同：35
> 
> 时间：2012-06-13T04:22:31.047
> 
> 标签：javascript, cookies, browser, tabs

我希望用户*仅从*浏览器中的一个选项卡浏览我的网站。如何才能做到这一点？我会使用 javascript 和 cookie 吗？

例如，我有一个网站：***www.example.com*** - 我希望我的客户只能从一个浏览器中的一个选项卡访问该网站。如果他们打开另一个选项卡并加载站点（或站点的​​子页面） - 我想要一个警报“*无法打开多个实例*”，然后将它们重定向到错误页面。

有一点需要注意 - 如果用户将地址从***www.example.com/action/door/mine.aspx***更改为***www.example.com*** - 这应该可以正常工作，因为用户在同一个（原始）选项卡中。

任何帮助将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2015-09-24T11:40:44.287

我为此创建了一个简单的解决方案。母版页布局创建一个选项卡 GUID 并将其存储在选项卡的 sessionStorage 区域中。在存储区域上使用事件侦听器我将选项卡 GUID 写入站点 localStorage 区域。然后，侦听器将选项卡 GUID 与写入站点存储的选项卡 GUID 进行比较，如果它们不同，则它知道打开了多个选项卡。

因此，如果我有三个选项卡 A、B、C，然后单击选项卡 C 中的某些内容，选项卡 A 和 B 检测到另一个选项卡已打开并警告用户。我还没有修复它，所以最后一个选项卡使用了 get 的通知，正在进行中。

这是我在母版页中的 JS，在登录页面中，我有一个`localStorage.Clear`清除上一个会话的最后一个选项卡。

```
 // multi tab detection
function register_tab_GUID() {
    // detect local storage available
    if (typeof (Storage) !== "undefined") {
        // get (set if not) tab GUID and store in tab session
        if (sessionStorage["tabGUID"] == null) sessionStorage["tabGUID"] = tab_GUID();
        var guid = sessionStorage["tabGUID"];

        // add eventlistener to local storage
        window.addEventListener("storage", storage_Handler, false);

        // set tab GUID in local storage
        localStorage["tabGUID"] = guid;
    }
}

function storage_Handler(e) {
    // if tabGUID does not match then more than one tab and GUID
    if (e.key == 'tabGUID') {
        if (e.oldValue != e.newValue) tab_Warning();
    }
}

function tab_GUID() {
    function s4() {
        return Math.floor((1 + Math.random()) * 0x10000)
          .toString(16)
          .substring(1);
    }
    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
      s4() + '-' + s4() + s4() + s4();
}

function tab_Warning() {
    alert("Another tab is open!");
} 
```

注意：IE9+

希望这可以帮助。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2020-06-06T12:18:14.610

**更新 - 2020**

***客户端实现：***

我们可以使用[广播通道 API](https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API)，它允许跨*浏览上下文*（窗口、选项卡、框架或 iframe）进行通信，前提是两个上下文来自同一来源。

检测从第一个选项卡加载网站的第二个选项卡的简单实现：

```
 //in entry point of your app (index.js)    

    const channel = new BroadcastChannel('tab');

    channel.postMessage('another-tab');
    // note that listener is added after posting the message

    channel.addEventListener('message', (msg) => {
      if (msg.data === 'another-tab') {
        // message received from 2nd tab
        alert('Cannot open multiple instances');
      }
    }); 
```

如果第一个选项卡处于脱机状态并且正在加载第二个选项卡，这不会使用`localStorage`，或者它甚至可以工作。`cookies`

**注意：Safari 和 IE11 尚不支持此功能 :(**

记下它的[浏览器兼容性](https://caniuse.com/#search=BroadcastChannel)。

但是，有一个[polyfill](https://github.com/pubkey/broadcast-channel)可以完成这项工作。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2012-06-13T05:00:05.750

**编辑2：**

这是[这个答案](https://stackoverflow.com/a/2839183/1055628)中提到的确切内容，您需要 2 个 ID：

1.  随机一张
2.  一个一致的（实际上这将是我们的 SSID，因为您限制了单个浏览器的选项卡，所以最好获取生成的表单浏览器的唯一参数）

您可以从浏览器的用户代理生成一致的用户代理或从服务器端获取它。将它们都存储在服务器端。
将随机一个存储在`window.name`特定于选项卡的属性中。
每 1~2 秒向您的服务器发送一次心跳，其中包含一致的 ID 和随机的 ID。如果服务器无法接收到心跳，它会清理数据库并注销死客户端。
在每个浏览器的请求中，检查`window.name`该值。如果丢失，请与服务器端检查前一个选项卡是否已关闭（从数据库中清除）。

如果是，则为客户端生成一个新对，如果否，则拒绝它们。

* * *

我心中的两个建议：

1.  ***服务器端（更好）：***提供所有客户端、用户名和密码。要求他们在他们第一次访问您的网站时输入他们的凭据。然后在每个其他请求中，检查具有所述凭据的用户是否已经登录。

```
  客户 *
         |
         |
      服务器 ---> 检查是否
                  已登录
                     或不？
                  ______________
                   | |
                  是 否
                   | |
                 允许拒绝
                  他们他们

```

2.  ***客户端：***如果您确实需要对此进行严格检查，请使用[evercookie](http://samy.pl/evercookie/)在客户端计算机上存储`already-logged-in`cookie。

***旁注：***要知道客户端的每一次尝试都不安全！客户端应该帮助服务器端，它不应该被用作唯一的安全来源。[甚至 evercookies 也可以删除](http://jeremiahgrossman.blogspot.com/2010/10/killing-evercookie-google-chrome-wo.html)，所以请试一试我的第一个建议。

* * *

**编辑：**

Evercookie 在存储最安全的僵尸 cookie 方面确实做得很好，但由于库本身对于浏览器来说有点重（每次存储 cookie 需要超过 100 毫秒），因此不建议在现实世界的 Web 应用程序中使用。

如果您使用服务器端解决方案，请改用这些：

*   [跨多个选项卡窗口共享 ASP.NET 会话的方式](https://stackoverflow.com/a/2839183/1055628)
*   [基兰夫的回答](https://stackoverflow.com/a/11008323/1055628)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2017-08-16T15:35:32.470

我知道这篇文章已经很老了，但如果它对任何人有帮助，我最近研究了使用 localStorage 和 sessionStorage 基本上做同样的事情。

与[安东尼的回答](https://stackoverflow.com/a/43691630/1257546)类似，它设置了一个间隔以确保原始选项卡保持条目新鲜，这样如果浏览器崩溃或以某种方式关闭而不调用卸载事件（包含在注释中，但不是用于测试目的的代码的一部分），那么在应用程序在新的浏览器窗口中正常运行之前，只会有短暂的延迟。

显然，您可以更改“标签好”、“标签不好”的条件来执行您想要的任何逻辑。

哦，而且，createGUID 方法只是一个使会话标识符唯一的实用程序......它来自[这个](https://stackoverflow.com/a/2117523/1257546)对上一个问题的回答（想确保我没有为此获得荣誉）。

[https://jsfiddle.net/yex8k2ts/30/](https://jsfiddle.net/yex8k2ts/30/)

```
let localStorageTimeout = 15 * 1000; // 15,000 milliseconds = 15 seconds.
let localStorageResetInterval = 10 * 1000; // 10,000 milliseconds = 10 seconds.
let localStorageTabKey = 'test-application-browser-tab';
let sessionStorageGuidKey = 'browser-tab-guid';

function createGUID() {
  let guid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {
    /*eslint-disable*/
    let r = Math.random() * 16 | 0,
      v = c == 'x' ? r : (r & 0x3 | 0x8);
    /*eslint-enable*/
    return v.toString(16);
  });

  return guid;
}

/**
 * Compare our tab identifier associated with this session (particular tab)
 * with that of one that is in localStorage (the active one for this browser).
 * This browser tab is good if any of the following are true:
 * 1\.  There is no localStorage Guid yet (first browser tab).
 * 2\.  The localStorage Guid matches the session Guid.  Same tab, refreshed.
 * 3\.  The localStorage timeout period has ended.
 *
 * If our current session is the correct active one, an interval will continue
 * to re-insert the localStorage value with an updated timestamp.
 *
 * Another thing, that should be done (so you can open a tab within 15 seconds of closing it) would be to do the following (or hook onto an existing onunload method):
 *      window.onunload = () => { 
                localStorage.removeItem(localStorageTabKey);
      };
 */
function testTab() {
  let sessionGuid = sessionStorage.getItem(sessionStorageGuidKey) || createGUID();
  let tabObj = JSON.parse(localStorage.getItem(localStorageTabKey)) || null;

    sessionStorage.setItem(sessionStorageGuidKey, sessionGuid);

  // If no or stale tab object, our session is the winner.  If the guid matches, ours is still the winner
  if (tabObj === null || (tabObj.timestamp < new Date().getTime() - localStorageTimeout) || tabObj.guid === sessionGuid) {
    function setTabObj() {
      let newTabObj = {
        guid: sessionGuid,
        timestamp: new Date().getTime()
      };
      localStorage.setItem(localStorageTabKey, JSON.stringify(newTabObj));
    }
    setTabObj();
    setInterval(setTabObj, localStorageResetInterval);
    return true;
  } else {
    // An active tab is already open that does not match our session guid.
    return false;
  }
}

if (testTab()) {
  document.getElementById('result').innerHTML = 'tab is good';
} else {
  document.getElementById('result').innerHTML = 'tab is bad';
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-13T04:45:07.713

同样的问题（和解决方案）：[https ://sites.google.com/site/sarittechworld/track-client-windows](https://sites.google.com/site/sarittechworld/track-client-windows)

类似： http: [//www.codeproject.com/Articles/35859/Detect-and-prevent-multiple-windows-or-tab-usage-i](http://www.codeproject.com/Articles/35859/Detect-and-prevent-multiple-windows-or-tab-usage-i)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-11-25T22:42:31.977

解决此问题的最佳方法是拥有一次性会话 ID。

例如，每个页面都包含一个会话 ID，它对一次访问有效，是唯一的，并且是随机的。当点击任何一个链接时，它会使用 & 使会话 ID 无效，并且新页面将有一个新的会话 ID。

这将迫使用户始终在最新的窗口或选项卡中浏览，并且还可以防止会话通过网络窃取。任何重用旧会话 ID 的尝试都应立即终止该用户的活动会话 ID。

在会话管理系统中存储可以从页面 X 访问的页面也很重要。因此，如果页面 X（具有会话 ID abc）包含指向页面 1、2 和 3 的链接，则任何尝试访问具有会话 ID abc 的页面 4 , 将失败并终止会话。

这将迫使用户始终拥有一个会话跟踪，并始终遵循站点上的逻辑。任何前进、后退、使用历史记录或完整记录，或打开多个窗口或选项卡的尝试都将失败，并在所有窗口、选项卡和设备中注销用户。

所有这些都可以完全在服务器端实现，无需任何客户端逻辑。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-13T04:32:03.873

**你为什么**要这样做？

可以尝试做一些丑陋的黑客攻击，但结果是：你**无法**完全抑制这种行为。

这无法通过 JavaScript 解决，因为用户总是有可能在他的浏览器中禁用了 JavaScript，或者只允许某个子集。

用户可以打开一个新的浏览器、使用不同的计算机等来一次访问多个页面。

**但更重要的是：**

此外，您的站点将是唯一具有此行为的站点，因此这会使使用您站点的每个人感到困惑，因为它不像网站那样工作。每个试图打开第二个标签的人都会认为：“这很奇怪。这个网站很糟糕，因为它与网站应该不同。我不会再来了！” ;-)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2022-02-10T17:24:26.563

扩展[rehman_00001 的答案](https://stackoverflow.com/a/62231610/18173605)以处理您希望在新选项卡上显示警报的情况。

```
const channel = new BroadcastChannel('tab');
let isOriginal = true;

channel.postMessage('another-tab');
// note that listener is added after posting the message

channel.addEventListener('message', (msg) => {
    if (msg.data === 'another-tab' && isOriginal) {
        // message received from 2nd tab
        // reply to all new tabs that the website is already open
        channel.postMessage('already-open');
    }
    if (msg.data === 'already-open') {
        isOriginal = false;
        // message received from original tab
        // replace this with whatever logic you need
        alert('Cannot open multiple instances');
    }
});
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2022-01-23T11:22:31.597

```
window.addEventListener('load', function () {
    if (localStorage.getItem('web_browser') == null) {
        // new tab
        localStorage.setItem('web_browser', 'true');
        window.addEventListener('unload', function() {
            localStorage.removeItem('web_browser');
        })
    } else {
        // duplicate tab
        return;
    }
}) 
```

将此脚本放在 html 页面的开头，您不希望用户复制当前页面或选项卡。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-04-29T03:58:42.997

我写这个是为了阻止呼叫中心页面在多个选项卡中被访问。它运作良好，纯粹是客户端。如果检测到新选项卡，只需更新`else if`部件以执行您想要的操作。

```
// helper function to set cookies
function setCookie(cname, cvalue, seconds) {
    var d = new Date();
    d.setTime(d.getTime() + (seconds * 1000));
    var expires = "expires="+ d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

// helper function to get a cookie
function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

// Do not allow multiple call center tabs
if (~window.location.hash.indexOf('#admin/callcenter')) {
    $(window).on('beforeunload onbeforeunload', function(){
        document.cookie = 'ic_window_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
    });

    function validateCallCenterTab() {
        var win_id_cookie_duration = 10; // in seconds

        if (!window.name) {
            window.name = Math.random().toString();
        }

        if (!getCookie('ic_window_id') || window.name === getCookie('ic_window_id')) {
            // This means they are using just one tab. Set/clobber the cookie to prolong the tab's validity.
            setCookie('ic_window_id', window.name, win_id_cookie_duration);
        } else if (getCookie('ic_window_id') !== window.name) {
            // this means another browser tab is open, alert them to close the tabs until there is only one remaining
            var message = 'You cannot have this website open in multiple tabs. ' +
                'Please close them until there is only one remaining. Thanks!';
            $('html').html(message);
            clearInterval(callCenterInterval);
            throw 'Multiple call center tabs error. Program terminating.';
        }
    }

    callCenterInterval = setInterval(validateCallCenterTab, 3000);
} 
```

# mongodb - 我们应该在读取繁重的应用程序中使用 dbref 还是嵌入文档

> ID：11008186
> 
> 赞同：9
> 
> 时间：2012-06-13T04:24:05.453
> 
> 标签：mongodb

我们正在开发一个阅读量很大并且可能有数百万个文档的应用程序。我们需要在几乎每个集合中引用用户信息。用户信息有一些属性会不时改变。

我们应该使用 DBref 还是在所有集合中嵌入用户信息？

重读应用程序中的 DBref 性能有多差？

如果我们不使用 DBref，如果用户信息定期更改，我们如何更新每个文档？

在 Mongodb 中，对于这种用例，DBref 和嵌入式文档是否有替代方案？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-13T06:50:44.463

DBref 与传统关系系统中的外键不同。它只是一个约定，可以轻松地告诉驱动程序（有能力）自动加载那些引用的文档。有关这方面的更多信息，请参阅[DBRef](http://docs.mongodb.org/manual/applications/database-references/)。

根据使用的驱动程序，您可能只能在需要时自动加载这些引用（惰性），因此性能开销应该非常小。但是存储开销比另一个文档的简单引用 _id 高一点。基本上，我会说，如果链接的文档可以是变量类型，您应该只使用那些 DBrefs。如果它是静态的，那么你就会被 _id-references 和你自己的惰性加载器功能所困，所以你不要重复自己。

不要重复自己（或数据库术语中的数据重复）也适用于您的上下文，正如 MongoDB 建议的那样（我也会这样做），即仅[链接您的文档](http://www.mongodb.org/display/DOCS/Schema+Design#SchemaDesign-EmbeddingandLinking)。否则，您将拥有更高的存储使用率和运行时间较长的更新，以仅更新一个逻辑实体（经常在物理上复制）。

使用前面提到的自定义惰性加载器，您可以添加一些缓存，以便并非每次查找实际上都会导致 mongodb 查找。然后，您很可能需要注意缓存和数据库之间的数据一致性。

# c++ - 即使成员是从未知的基类继承的，是否可以检查是否为类定义了成员函数

> ID：11008189
> 
> 赞同：7
> 
> 时间：2012-06-13T04:24:37.643
> 
> 标签：c++, sfinae

我发现了类似的问题和答案，如[this one](https://stackoverflow.com/a/257382/794424 "这个")。然而，正如我所尝试的，这个 SFINAE 测试只有在被测试的成员被直接定义在被测试的类中时才会成功。例如以下， class `B`，`D1`print`HAS`而其他两个 print `NOT HAS`。有没有办法判断一个类是否有成员，是自己定义的，还是基类，这种情况下基类的名字是未知的。动机是我想编写一个通用函数，如果它存在，它将调用某个方法（无论是否来自基，参数的类型是通用的，留下其可能基的类型）。

```
#include <iostream>

class HasFoo
{
    public :

    typedef char Small;
    typedef struct {char; char;} Large;

    template <typename C, void (C::*) ()> class SFINAE {};

    template <typename C> static Small test (SFINAE<C, &C::foo> *)
    {
        std::cout << "HAS" << std::endl;
    }

    template <typename C> static Large test (...)
    {
        std::cout << "NOT HAS" << std::endl;
    }
};

class B
{
    public :

    void foo () {}
};

class D1 : public B
{
    public :

    void foo () {} // overide
};

class D2 : public B
{
    public :

    using B::foo;
};

class D3 : public B {};

int main ()
{
    HasFoo::test<B>(0);
    HasFoo::test<D1>(0);
    HasFoo::test<D2>(0);
    HasFoo::test<D3>(0);
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-13T09:28:30.693

在 C++03 中，很遗憾这是不可能的，抱歉。

在 C++11 中**，**由于`decltype`. `decltype`允许您编写表达式来推断其结果的类型，因此您可以完美地命名基类的成员。如果方法是模板，则 SFINAE 应用于`decltype`表达式。

```
#include <iostream>

template <typename T>
auto has_foo(T& t) -> decltype(t.foo(), bool()) { return true; }

bool has_foo(...) { return false; }

struct Base {
    void foo() {}
};

struct Derived1: Base {
    void foo() {}
};

struct Derived2: Base {
    using Base::foo;
};

struct Derived3: Base {
};

int main() {
    Base b; Derived1 d1; Derived2 d2; Derived3 d3;

    std::cout << has_foo(b) << " "
              << has_foo(d1) << " "
              << has_foo(d2) << " "
              << has_foo(d3) << "\n";
} 
```

不幸的是，ideone 的 gcc 版本太旧了，clang 3.0 也好不到哪里去。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-13T05:13:01.187

不幸的是，至少在 C++03 中是不可能的，我也怀疑在 C++11 中。

几个重要的点：

1.  建议的 SFINAE 仅在该方法适用时才有效`public`
2.  即使 SFINAE 适用于基本方法，第 (1) 点也适用；因为对于`private`和`protected`继承 SFINAE 可能最终没用
3.  假设您可能只想处理`public`方法/继承，则`HasFoo::test<>`可以增强代码以获取多个参数，其中也可以传递基类； `std::is_base_of<>`可用于进一步验证基础/派生关系；然后对基类也应用相同的逻辑

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-29T06:15:33.240

有一种方法可以确定类层次结构是否具有给定名称的成员。它使用 SFINAE 并通过创建歧义在名称查找中引入替换失败。此外，还有一种方法可以测试公共成员是否可调用；但是，无法确定成员是否是 SFINAE 的公开成员。

[这](http://ideone.com/yvLn3)是一个例子：

```
#include <iostream>

template < typename T >
struct has_foo
{
  typedef char yes;
  typedef char no[2];

  // Type that has a member with the name that will be checked.
  struct fallback { int foo; };

  // Type that will inherit from both T and mixin to guarantee that mixed_type
  // has the desired member.  If T::foo exists, then &mixed_type::foo will be
  // ambiguous.  Otherwise, if T::foo does not exists, then &mixed_type::foo
  // will successfully resolve to fallback::foo.
  struct mixed_type: T, fallback {};

  template < typename U, U > struct type_check {};

  // If substituation does not fail, then &U::foo is not ambiguous, indicating
  // that mixed_type only has one member named foo (i.e. fallback::foo).
  template < typename U > static no&  test( type_check< int (fallback::*),
                                                        &U::foo >* = 0 );

  // Substituation failed, so &U::foo is ambiguous, indicating that mixed_type
  // has multiple members named foo.  Thus, T::foo exists.
  template < typename U > static yes& test( ... );

  static const bool value = sizeof( yes ) == 
                            sizeof( test< mixed_type >( NULL ) );
};

namespace detail {
  class yes {};
  class no{ yes m[2]; };

  // sizeof will be used to determine what function is selected given an
  // expression.  An overloaded comma operator will be used to branch based
  // on types at compile-time.
  //   With ( helper, anything-other-than-no, yes ) return yes.
  //   With ( helper, no, yes ) return no.
  struct helper {};

  // Return helper.
  template < typename T > helper operator,( helper, const T& ); 

  // Overloads.
  yes operator,( helper, yes ); // For ( helper, yes ) return yes.
  no  operator,( helper, no );  // For ( helper, no  ) return no.
  no  operator,( no,     yes ); // For ( no,     yes ) return no.
} // namespace detail

template < typename T >
struct can_call_foo
{ 
  struct fallback { ::detail::no foo( ... ) const; };

  // Type that will inherit from T and fallback, this guarantees
  // that mixed_type has a foo method.
  struct mixed_type: T, fallback
  {
    using T::foo;
    using fallback::foo;
  };

  // U has a foo member.
  template < typename U, bool = has_foo< U >::value >
  struct impl
  {
    // Create the type sequence.
    // - Start with helper to guarantee the custom comma operator is used.
    // - This is evaluationg the expression, not executing, so cast null
    //   to a mixed_type pointer, then invoke foo.  If T::foo is selected,
    //   then the comma operator returns helper.  Otherwise, fooback::foo
    //   is selected, and the comma operator returns no.
    // - Either helper or no was returned from the first comma operator
    //   evaluation.  If ( helper, yes ) remains, then yes will be returned.
    //   Otherwise, ( no, yes ) remains; thus no will be returned. 
    static const bool value = sizeof( ::detail::yes ) == 
                              sizeof( ::detail::helper(),
                                      ((mixed_type*)0)->foo(),
                                      ::detail::yes() );
  };

  // U does not have a 'foo' member.
  template < typename U >
  struct impl< U, false >
  {
    static const bool value = false;
  };

  static const bool value = impl< T >::value;
};

// Types containing a foo member function.
struct B     { void foo();   };
struct D1: B { bool foo();   }; // hide B::foo
struct D2: B { using B::foo; }; // no-op, as no hiding occured.
struct D3: B {               }; 

// Type that do not have a member foo function.
struct F {};

// Type that has foo but it is not callable via T::foo().
struct G  { int foo;         };
struct G1 { bool foo( int ); };

int main ()
{
  std::cout << "B:  " << has_foo< B  >::value << " - "
                      << can_call_foo< B >::value << "\n"
            << "D1: " << has_foo< D1 >::value << " - "
                      << can_call_foo< D1 >::value << "\n"
            << "D2: " << has_foo< D2 >::value << " - "
                      << can_call_foo< D2 >::value << "\n"
            << "D3: " << has_foo< D3 >::value << " - "
                      << can_call_foo< D3 >::value << "\n"
            << "F:  " << has_foo< F  >::value << " - "
                      << can_call_foo< F >::value << "\n"
            << "G:  " << has_foo< G  >::value << " - "
                      << can_call_foo< G >::value << "\n"
            << "G1: " << has_foo< G1  >::value << " - "
                      << can_call_foo< G1 >::value << "\n"
            << std::endl;
  return 0;
} 
```

产生以下输出：

```
乙：1 - 1
D1：1 - 1
D2：1 - 1
D3：1 - 1
F: 0 - 0
克：1 - 0
G1：1 - 0
```

`has_foo`仅检查是否存在名为 的成员`foo`。它不验证是否`foo`是可调用成员（公共成员函数或作为函子的公共成员）。

`can_call_foo`检查是否`T::foo()`可调用。如果`T::foo()`不公开，则会发生编译器错误。据我所知，没有办法通过 SFINAE 阻止这种情况。如需更完整、更出色但相当复杂的解决方案，请查看[此处](https://groups.google.com/group/comp.lang.c++.moderated/tree/browse_frm/thread/4f7c7a96f9afbe44/)。

# android - 什么布局适合 720x1280 的 Android 设备？

> ID：11008199
> 
> 赞同：3
> 
> 时间：2012-06-13T04:26:21.523
> 
> 标签：android, screen

我开发了一个时钟小部件。而且我只有 1 个 res/layout 和 1 个 res/drawable。一切都很完美。

它适用于三星 Galaxy Ace 等 mdpi。它适用于三星 Galaxy S2 等 hdpi。它适用于三星 Galaxy Note 等 xhdpi。

但是，我在三星 Galaxy Nexus 或索尼 Xperia S 等 720x1280 设备上的外观很难看。三星 Galaxy S3 即将推出。

当我提供专门为 720x1280 设备构建的 res/layout/xhdpi 时，Galaxy Note 也将使用此布局，它在 Galaxy Note 上看起来很难看。

如何解决这个问题？

这就像 720x1280（Galaxy Nexus、Sony Xperia S、Galaxy S3）和 800x1280（Galaxy Note）之间的某种交叉。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T04:40:54.490

设备的分辨率和 DPI 不一定匹配（高分辨率并不意味着高 DPI）。DPI 是设备的分辨率与其物理尺寸的比率。

不要按 DPI 分隔布局文件夹，而是按维度分隔它们。例如，`layout-large`，`layout-xlarge`。您还可以按特定尺寸进行量化，例如`layout-w720-h1280`，在这种情况下，它将仅匹配最小宽度为 720 像素且最小高度为 1280 像素的设备。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T09:51:13.807

为 Galaxy S3 使用 layout-sw320dp

# sql - CHAR(4) 在 Table Join 中没有显示 FOUR CHAR

> ID：11008207
> 
> 赞同：0
> 
> 时间：2012-06-13T04:27:07.660
> 
> 标签：sql, sql-server-2008, char, sql-server-2008-r2

好吧，标题不能足够正确地解释这种情况。现在就是这样，我有一个带有列的表

```
Table1
Columns0, CHAR(20), NOT NULL.
Columns1, CHAR(4), Allow Nulls.
Data : 'ARR '

Table2
Columns0, CHAR(20), NOT NULL.
Columns1, CHAR(4), NOT NULL.
Data : 'ARR ' 
```

然后我将两张桌子连接在一起。

```
SELECT (ISNULL(a.Columns1,'') + ISNULL(b.Columns1,'')) AS WhatEver
FROM Table1 a 
left join Table2 b on a.Columns0 = b.Columns0 
```

结果应该显示为`'ARR ARR '`
而不是这个，它显示为`'ARRARR '`

为什么会这样？

* * *

编辑 2012/06/11：

经过努力，我最终做了以下事情：

```
SELECT ISNULL(CONVERT(CHAR(4),a.Columns1),'') + ISNULL(b.Columns1,'') 
```

然后只有我得到正确的结果`'ARR ARR '`

但我很确定我的数据类型`CHAR(4)`在数据库中。

谢谢各位。。

* * *

编辑 2012/08/06：

我发现另一个可行的解决方案是将 TABLE 2 COLUMN 1 更改为 (CHAR(4), NULL)。这可以通过 ALTER TABLE [table_name] MODIFY [column_name] [column_data_type] [null|not null] 来完成

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T04:42:26.053

您的示例在我的服务器（SQL Server 2008 R2）上运行良好：

```
create table SOxx1
(
    col1  char(4),
    col2  char(20) not null
)

create table SOxx2
(
    col1  char(4),
    col2  char(20) not null
)
Go

insert into SOxx1 (col1, col2) VALUES ('ARR ', 'abc')
insert into SOxx2 (col1, col2) VALUES ('ARR ', 'abc')
go

SELECT (ISNULL(a.col1,'') + ISNULL(b.col1,'')) AS WhatEver 
FROM SOxx1 a  
left join SOxx2 b on a.Col2 = b.Col2

-- OUTPUT is 'ARR ARR ' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:41:37.487

您是否尝试过不同的排序规则？

```
SELECT ISNULL(a.Columns1,'') collate Latin1_General_BIN + ISNULL(b.Columns1,'') collate Latin1_General_BIN AS WhatEver
FROM Table1 a 
left join Table2 b on a.Columns0 = b.Columns0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T04:39:28.577

你确定你的列是`CHAR`不是`VARCHAR`？

从 SQL Server 获得结果后，没有什么是剥离空格？

你可以试试这个：

```
declare @table1 table (id int, one char(4))
declare @table2 table (id int, one char(4))
insert into @table1 values (1 ,'ARR ')
insert into @table2 values (1 ,'ARR ')
select (isnull(a.one,'') + isnull(b.one,'')) AS WhatEver
from @table1 a left join @table2 b on a.id = b.id 
```

正如预期的那样，我得到了，

> ARR ARR

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-13T04:30:52.037

```
SELECT (ISNULL(a.Columns1,'') +ISNULL(b.Columns1,'')) AS WhatEver FROM Table1 a left join Table2 b on a.Columns0 = b.Columns0 
```

# .htaccess - 我的 htaccess 文件中的 URL 重写错误

> ID：11008210
> 
> 赞同：1
> 
> 时间：2012-06-13T04:27:55.937
> 
> 标签：.htaccess

每个人..

我需要重写这个网址

```
http://www.mydomain.com/profiles/tutors/index.php?tutorCode=1255&tutorName=Kasun%20Perera&city=Bandarawela 
```

像这样

```
http://www.mydomain.com/profiles/tutors/1255/Kasun+Perera.html 
```

我尝试使用 Apache 的 mod_rewrite 功能。但我无法达到预期的结果。

这是我尝试过的代码。

```
RewriteEngine on 
```

具体老师：

```
RewriteRule ^lanka_institute/profiles/tutors/([0-9]+)/([A-Za-z\+\-]+)/([A-Za-z\+\-]+)/$ index.php?tutorCode=$1&tutorName=$2&city=$3 
```

它不起作用，然后我会收到此错误消息。

> 内部服务器错误
> 
> 服务器遇到内部错误或配置错误，无法完成您的请求。
> 
> 请联系服务器管理员 admin@localhost 并告知他们错误发生的时间，以及您所做的任何可能导致错误的事情。
> 
> 服务器错误日志中可能提供有关此错误的更多信息。

非常感谢任何评论。

谢谢你。

# java - 如何将 Unicode 符号添加到组合框

> ID：11008213
> 
> 赞同：2
> 
> 时间：2012-06-13T04:28:06.907
> 
> 标签：java, swing, unicode, jcombobox

我需要在组合框中添加一个除号作为项目。这是小学数学的正式除法符号（连字符上方和下方都有一个点的符号）。在 unicode 中，此符号的代码是“00f7”。

我试过这段代码：

```
myComboBox.addItem("\00f7"); 
```

但它没有用。我刚得到一个盒子，后面跟着'f7'。我知道这段代码适用于添加字符串，所以一定是我没有正确处理 unicode 部分。

谁能告诉我要改什么？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T04:31:04.727

尝试

```
myComboBox.addItem("\u00f7"); 
```

Unicode 以“\u”开头

# mysql - Mysql 右外连接不工作 100%

> ID：11008217
> 
> 赞同：0
> 
> 时间：2012-06-13T04:29:13.847
> 
> 标签：mysql, sql

我是 mysql 新手，编写了一个 My sql 查询并尝试使用两个子查询进行外部连接，但结果未显示准确的结果这里是查询

```
SELECT a.lpcode,a.lpname,a.companycode,a.zone,a.tdy_growr,a.tdy_acres,b.tdate_growr,tdate_acres,a.name
  FROM    (SELECT z.lpcode,
                  x.companycode,
                  z.lpname,
                  z.zone,
                  z.name,
                  count(x.vehicleno) tdy_growr,
                  sum(x.haulagecode) tdy_acres
             FROM gis.registration x, loadingpoint z
            WHERE x.date =
                     (SELECT max(a.date)
                        FROM gis.registration a
                       WHERE     a.fieldno > 0
                             AND a.haulagecode > 0
                             AND a.isaccepted = 1)
                  AND z.lpcode = x.lpcode
                  AND x.fieldno > 0
                  AND x.haulagecode > 0
                  AND x.isaccepted = 1
           GROUP BY x.lpcode) a
       RIGHT OUTER JOIN
          (SELECT r.lpcode,
                  count(r.vehicleno) tdate_growr,
                  sum(r.haulagecode) tdate_acres
             FROM gis.registration r, loadingpoint l
            WHERE r.fieldno > 0 AND r.haulagecode > 0 AND r.isaccepted = 1
            AND r.lpcode = l.lpcode
           GROUP BY l.lpcode) b
       ON a.lpcode = b.lpcode
ORDER BY a.zone, a.lpcode 
```

任何帮助都可以提前感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:06:14.823

右外连接的性能很差，并且在很多情况下您不能更改查询的结构以使用左外连接来代替，这样性能会更好。您的查询正在做的是从 b 获取所有行，而不管 a 中是否有要加入的行。重写的相同查询是：

```
SELECT             a.lpcode,a.lpname,a.companycode,a.zone,a.tdy_growr,a.tdy_acres,b.tdate_growr,a.tdate_acres,a.name
FROM (SELECT r.lpcode,
              count(r.vehicleno) tdate_growr,
              sum(r.haulagecode) tdate_acres
         FROM gis.registration r, loadingpoint l
        WHERE r.fieldno > 0 AND r.haulagecode > 0 AND r.isaccepted = 1
        AND r.lpcode = l.lpcode
       GROUP BY l.lpcode) b
   LEFT OUTER JOIN (SELECT z.lpcode,
              x.companycode,
              z.lpname,
              z.zone,
              z.name,
              count(x.vehicleno) tdy_growr,
              sum(x.haulagecode) tdy_acres
         FROM gis.registration x, loadingpoint z
        WHERE x.date =
                 (SELECT max(a.date)
                    FROM gis.registration a
                   WHERE     a.fieldno > 0
                         AND a.haulagecode > 0
                         AND a.isaccepted = 1)
              AND z.lpcode = x.lpcode
              AND x.fieldno > 0
              AND x.haulagecode > 0
              AND x.isaccepted = 1
       GROUP BY x.lpcode) a
   ON a.lpcode = b.lpcode
ORDER BY a.zone, a.lpcode 
```

这也给出了 b 中的所有行，而不管 a 中是否存在要加入的匹配行。

如果您的问题是您在所有这些列中都得到 NULLS：“a.lpcode,a.lpname,a.companycode,a.zone,a.tdy_growr,a.tdy_acres,a.tdate_acres,a.name”然后使用应该使用您已经在使用的结构，但使用 LEFT OUTER JOIN 代替，这可能会在此列“b.tdate_growr”中返回 null

# layout - 在富文本中插入表格按钮

> ID：11008219
> 
> 赞同：0
> 
> 时间：2012-06-13T04:29:39.250
> 
> 标签：layout, ckeditor, containers, xpages, richtext

我正在学习 Mastering Xpages (a step by step guide...) 一书中的布局容器模式。

我的 Xpage 的结构是我有一个带有导航链接的左侧面板，可以从不同的视图移动，然后我有 1 个链接将调用创建新文档 xpage。

以上布局基于教程（Chapter10.nsf）。

我遇到的奇怪的事情是在 Xpage 中我的富文本字段之一中的“插入表格”按钮上，在我单击“插入表格”按钮后，布局结构发生了变化，带有导航链接的左侧面板消失了，只显示了表单和字段.

行为不一致。有时插入表格按钮会正常工作，这意味着它调用的弹出窗口会显示但有时不起作用，即会破坏 Xpage 的布局。

请帮助可能是按钮无法正常运行的原因以及如何解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T04:39:05.947

脚步：

*   使用 Extlib（或升级包）中的 OneUI 布局控件
*   行为是否改变？如果它有效 - >完成

# java - Java - 多个用户同时编辑相同数据库字段的 Web 应用程序

> ID：11008220
> 
> 赞同：2
> 
> 时间：2012-06-13T04:29:57.807
> 
> 标签：java, database, servlets, concurrency

我正在创建一个网站，其中数据库中的特定字段由许多用户同时编辑（假设所有用户都在进行相同的编辑）。我该如何应对？我只需要一位用户就可以收到他们的编辑已成功完成的通知。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:33:30.297

使用表中的版本号，并检查版本是否正确，否则抛出异常并显示数据已更新的用户消息并显示最新数据

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T04:37:19.907

这是一个复杂的问题，有许多可能的解决方案。本质上，您需要一种锁定表或检测并发更新的方法。执行此操作的常用技术是将版本数据添加到表中。然后，在每次更新时，您会检查最初从数据库中检索到的数据版本与现在的数据版本。如果它们不同，则您知道其他人在更新过程中更改了数据。

像 Hibernate 这样的项目可以为您自动执行其中的一些操作，因此您应该考虑使用它来帮助实现表版本控制。

# java - 在 Kundera 中使用 getResultList() 方法时引发 Nullpointer 异常

> ID：11008222
> 
> 赞同：1
> 
> 时间：2012-06-13T04:30:10.030
> 
> 标签：java, jpa, hbase, kundera

我使用 Kundera 作为带有 HBase 和 java 的 JPA。以下是调用 getResultList() 方法的方法：

```
 @Override
    public List<Activity> getAllActivities()
    {
        em = emf.createEntityManager();        
        Query q = em.createQuery("select ac from Activity ac");
        List<Activity> activities = q.getResultList();
        return activities;
    } 
```

它抛出空指针异常。

```
Exception in thread "main" java.lang.NullPointerException
    at com.impetus.kundera.index.IndexManager.search(IndexManager.java:191)
    at com.impetus.kundera.query.LuceneQuery.getResultList(LuceneQuery.java:101)
    at com.impetus.activity.dao.ActivityService.getAllActivities(ActivityService.java:100)
    at ActivityExample.main(ActivityExample.java:44) 
```

PS：HBase 中的 Activity 表有 6 条记录。
可能是什么原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T07:39:15.307

请尝试添加下面提到的属性

```
<property name="index_home_dir" value="./lucene" /> 
```

在persistence.xml 中。

原因是您没有可用于 HBase 的默认索引支持。

它应该适合你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T07:01:55.440

好吧，似乎`at com.impetus.kundera.index.IndexManager.search([IndexManager.java][1]:191)`有一个片段：

```
public final Map<String, String> search(String query, int start, int count)
{
    return indexer.search(query, start, count, false); //line 191 
} 
```

并且索引器似乎为空。索引器作为参数传递给 IndexManager。在您的应用程序中查找索引器的实例化。

# python - NLTK 和配置文件

> ID：11008224
> 
> 赞同：0
> 
> 时间：2012-06-13T04:30:32.313
> 
> 标签：python, config, nltk

所以我对 python 和 configobj 和 NLTK 还很陌生。

现在我的要求是我需要创建一个包含 NLTK 的所有规则的配置文件。从某种意义上说，对于“The Black Crow”类型的句子......NLTK 规则将是“ `DT+JJ+NN`”。`(DT=determiner(the), JJ=Adjective(black), NN=Noun(crow))`.

所以基本上我的配置文件看起来像这样，

```
rule = [DT+JJ+NN, CC+JJ+NN, .....] 
```

现在我需要在 python 中编写一个代码，如果我将输入作为规则 [0]，那么它应该将输出作为`[DT+JJ+NN]`. 如果我给出规则 [1]，那么它应该给我的输出为`[CC+JJ+NN]`. 因此，如果我给出 rule[0][0] 那么输出应该是`[DT]`并且对于 rule [0][1] 它应该是`[JJ]`.

有人可以帮帮我吗？？我遇到了麻烦，因为所有规则都保存在配置文件中。我将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T09:38:07.783

因此，您有一个要在 python 中打开和读取的配置文件。您是否一定想要/需要使用 ConfigObj 来做到这一点？如果是，您是否通过谷歌搜索查看了一些使用示例？

无论如何，你应该向我们展示你到目前为止所拥有的。对于初学者，您可以编写打开配置文件的 python 代码吗？

# android - 如何从 ListView SimpleCursorAdaptor 访问项目

> ID：11008243
> 
> 赞同：0
> 
> 时间：2012-06-13T04:32:47.650
> 
> 标签：android, android-listview

我正在使用 SimpleCursorAdaptor 加载一个包含 2 列的列表视图。代码是：

```
 mCursor = managedQuery(MyobiliseData.CONTENT_URI, projection, null, null, null);

    //3\. Attach the data to the listview using an adaptor
    SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, 
            R.layout.list_item_custom_font, 
            mCursor, 
            new String[]{MyobiliseData.Columns.CUSTOMER_NAME,MyobiliseData.Columns.ADDRESS},
            new int[] {R.id.text1,R.id.text2}
            );
     listView1.setAdapter(adapter); 
```

When an item in the list is selected I am trying to access the data, but I am not sure what type of object to use - when I use a HashMap object, it fails, ie

```
HashMap<String, String> item =  (HashMap<String,String>) listView1.getAdapter().getItem(position); 
```

非常感谢任何帮助。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T04:38:26.563

您可以从游标获取特定索引上的项目，使用如下：

```
listView1.setOnItemClickListener(new OnItemClickListener()
{
    public void onItemClick(AdapterView adapterView, View view, int position, long id)
    {
         mCursor.moveToPosition(position);
         String customerName=mCursor.getString(mCursor.getColumnIndex(MyobiliseData.Columns.CUSTOMER_NAME));
         String address=mCursor.getString(mCursor.getColumnIndex(MyobiliseData.Columns.ADDRESS));
         //Use CustomerName and address
    }
}); 
```

# android - 我的 Android 应用程序可以从非 Google 的服务器下载其数据文件吗？

> ID：11008245
> 
> 赞同：2
> 
> 时间：2012-06-13T04:33:12.743
> 
> 标签：android, file

正如标题所说：我们的团队是 Google Play 的新手，我们已经完成了一个包含大型数据文件 (200MB) 的应用程序。我们想知道我们是否可以这样做：

1.  将 apk 提交给 Google（文件大小 < 50MB）
2.  在 apk 中实现下载服务，链接到我们自己服务器上托管的数据文件。
3.  首次运行时，应用程序将从该服务器下载数据文件。

如果有了解 Google 政策的人可以告知我们，我们将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:44:19.523

据我所知，你可以下载任何你喜欢的东西，很多应用程序已经这样做了（比如有订阅、阅读书籍、播放音频等的应用程序）

他们确实会告诉您他们认为不良内容是什么[内容政策](http://www.android.com/us/developer-content-policy.html)，但他们并不关心您如何获得它（嵌入式或可下载），只要您遵循几条规则，这些规则基本上不会让用户对大量下载感到惊讶，让他们选择退出等。

Google 还刚刚添加了一项新服务，允许您自动下载最大 2GB 的扩展包，并且可以托管在他们的市场服务器上[Google Expansion Packs](http://developer.android.com/guide/market/expansion-files.html)

他们还提供了下载器和 zip 压缩访问源代码，因此如果您想通过进行一些修改来托管异地数据，则可以将其用作示例。

扩展包有一些（在我看来）古怪的要求，设备上必须安装 Google play vs. Google market，但它是托管一些相当大数据的免费方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:11:17.427

如果他们大惊小怪，那么您也可以一起避开 Google Play 市场，让用户直接从您的站点下载并安装它。当然，你错过了市场曝光率，需要一种赚钱的方式，但从好的方面来说，你可以为自己保留 30%。我们目前正在自己​​之间争论这件事的利弊。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:16:40.883

考虑想要通过 Edge 甚至 3G 从 Google Play 下载应用程序的用户。这将是一个漫长的下载。

什么构成了这么大的文件大小？您可以剥离媒体并将其放在您的服务器上 - 正如您所说。这会使应用程序下降很多。

至于远程托管 apk 本身，我不会进一步追求这个想法。最好修复 apk 并将其保留在 Google Play 的标准路径中。

最简单的解决方案是在应用程序中执行类似的操作，然后将文件保存到 SD 卡。[使用 Android 下载文件，并在 ProgressDialog 中显示进度](https://stackoverflow.com/questions/3028306/download-a-file-with-android-and-showing-the-progress-in-a-progressdialog)

# sitecore - Sitecore 6.5 访问分析数据库

> ID：11008249
> 
> 赞同：1
> 
> 时间：2012-06-13T04:33:37.143
> 
> 标签：sitecore, sitecore6, sitecore-dms

我想知道是否可以通过 API 访问 Sitecore Analytics 数据库。

我查看了参与分析 api 参考，但这似乎是针对跟踪个人用户及其会话，即我无法直接从数据库中提取记录。

我正在编写一个代理，它将处理 pages 表中的记录，但首先我必须把所有记录都拿出来。我可以通过普通的旧 SQL 访问它，但 sitecore API 肯定有办法将这些数据取出来吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T00:21:35.230

我最终创建了自己的 SQL 调用来提取我需要的数据。

# android - Android布局重用，“导出”属性可能吗？

> ID：11008251
> 
> 赞同：2
> 
> 时间：2012-06-13T04:33:42.057
> 
> 标签：android, layout

我正在开发一个应用程序，其中某些元素会在整个界面中重复很多次。谷歌搜索了一下，我发现了这个`<include />`标签，它非常适合我想要的东西。

我只是想知道是否有一种方法可以导出包含布局的某些属性：其中一个具有根据用例更改的图像和字符串，我想为每种情况在 XML 文件中设置这些，而不必编写样板代码来在代码中设置它们；有没有办法做到这一点？还是我注定要编写该代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T04:41:48.110

我们都注定要失败。正如在[创建可重用组件](http://developer.android.com/resources/articles/layout-tricks-reuse.html)一文中所解释的，您可以覆盖的唯一内容是`layout_*`属性和 id。没有办法（可悲）像您描述的那样参数化布局。

该`<include>`标签可用于将布局的依赖于配置的部分与跨设备不变的部分分开。（例如，对于不同的配置，您可以`<include layout="@layout/footer">`拥有不同`footer.xml`的文件。）

# javascript - 如何在 javascript/css 中为堆叠 div 设置动画？

> ID：11008253
> 
> 赞同：0
> 
> 时间：2012-06-13T04:34:22.890
> 
> 标签：javascript, jquery, css

假设我有 2 `div`s 具有相同的 CSS 类，它们相互堆叠：

```
div {
  width:100px;
  height: 100px;
  background: red;
} 
```

我如何做到这一点，以便当我单击页面顶部的按钮时，`div`会从底部的屏幕外创建一个新按钮并向上移动，在第二个所在的位置停止`div`。当再次单击该按钮时，第四个`div`移动从屏幕底部进入并停在第三个`div`...等创建“堆叠” div 效果？

我知道`position:fixed`并调整 的值`top`，但我不确定如何动态计算停止动画的位置以实现此效果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:39:51.203

如果您将最后添加的 div 作为 jQuery 对象，则可以通过以下方式计算其底部的 y 位置

```
 var divTop = $(lastDiv).offset().top;
 var divBottom = divTop + $(lastDiv).outerHeight(); 
```

然后你会将新 div 的最高值设置为 equal `divBottom`。

# replication - 如何找到文档访问者的数量？

> ID：11008254
> 
> 赞同：1
> 
> 时间：2012-06-13T04:34:52.997
> 
> 标签：replication, lotus-notes, lotus-domino

实际上，我需要计算特定文档的访问者数量。

我可以通过添加一个字段并增加它的值来做到这一点。

但是问题来了，

我在不同的位置有 10 个复制副本。它正在按计划的方式进行复制。因此，由于文档计数正在不同位置编辑同一文档，因此发生了复制冲突。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T11:42:55.460

我会为此使用外部解决方案。只需在您喜欢的搜索引擎中搜索“访问者计数”并选择第三方工具即可。然后，如果这很重要，您可以在页面上显示计数。

如果您出于某种原因需要将值存储在数据库中，也许您可​​以将其存储为每次添加（并在以后清理）的新文档类型以避免复制问题。

否则，如果不需要存储它，也可以考虑使用 Google Analytics。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T04:39:15.770

我也遇到了这个问题。我不能说它有一个简单的解决方案。文档锁定是我找到的唯一解决方案。但是访客的计数是不可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T14:03:53.723

这是可能的，但不是通过更新文档。而是对代理或表单进行 AJAX 调用，并在 URL 上使用参数来标识正在读取的文档。此调用将文档写入具有一个或两个视图的跟踪数据库，然后从这些视图中确定您有多少读取。读取次数是 AJAX 表单的返回值。

这可以用 LS、Java 或 @Formulas 编写。我会尝试在@Formulas 中做到 100% 以使其尽可能高效。

您还可以添加逻辑以排除来自同一用户或同一源 IP 地址的读取。

然后，跟踪数据库使用与其他数据库相同的计划进行复制。

每日或每小时代理可以运行以创建摘要文档并删除详细文档，这样您就不会超出 @DBLookup 的限制。

如果您不需要非常接近实时的计数（这是使用这样的复制系统可以获得的最佳结果），您可以使用多米诺生成的 Web 日志，方法是在日志中查找读取并在每个服务器的文档中构建计数.

/新人

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T20:46:46.997

早在 90 年代，我们有一个客户需要知道每个人在没有点击签名或其他任何内容的情况下阅读了一份文件。

最初的解决方案是将每个名称添加到单独跟踪文档的文本字段中。当它真正快速超过 32k 时遇到了问题。然后，我的一位同事意识到你可以让它为每个用户创建一个文档来记录他们阅读过的内容。

哎呀，您可以使用一个数据库来跟踪所有用户对所有文档的所有读取，因为一个用户一次只能打开一个文档——每次他们打开一个新文档时，要么将该值添加到一个字段或创建一个以他们在自己的“读者跟踪器”文档上阅读的文档命名的字段。

或者你可以把它做成一个邮寄数据库，这样就不用担心复制了。每次他们打开您要跟踪读取的文档时，它都会创建一个小文档，其中只有他们的姓名和他们阅读的文档，这些文档被邮寄到“阅读计数器数据库”。如果您不关心谁阅读了它，您可以使用一个按计划运行的代理来更新计数并删除邮寄的文档。

真的有很多方法可以给这只猫剥皮。

# html - 文本文件中的 HTML 表单字段数据

> ID：11008259
> 
> 赞同：0
> 
> 时间：2012-06-13T04:35:43.997
> 
> 标签：html, forms, sed, field

我想在桌面上的文本文件中检索 HTML 表单字段数据。

我有一个包含 HTML 表单字段框的 HTML 页面。

此外，我想运行一个将文本文件作为输入的 bash 脚本。bash 脚本包含以下命令：

```
 sed -f replacer input.txt > output.txt 
```

我还必须将此`output.txt`文件包含在另一个 html 表单字段中。

帮帮我。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T06:53:29.020

有这样的html：

```
<form id="some" name="someName" method="post" action="/ur/url/to/post">
   <input type="text" id="some1" class="someClass" value="" name="fileWrite"/>
   <iput type="submit" value="submit" class="submitClass"/>
</form> 
```

有一个这样的php脚本：

```
$myFile = "testFile.txt";
if(isset($_POST['fileWrite']) && !empty($_POST['fileWrite'])) {
      $fileWrite = $_POST['fileWrite'];
}
if($fileWrite) {
    $fh = fopen($myFile, 'a') or die("can't open file"); //Make sure you have permission
    fwrite($fh, $fileWrite);
    fclose($fh);
    exec('/your/command /dev/null 2>/dev/null &');
} 
```

而已。工作完成。

# php - 从 Android 设备使用 PHP 写入 PDF

> ID：11008262
> 
> 赞同：0
> 
> 时间：2012-06-13T04:37:02.023
> 
> 标签：php, android

我正在尝试写入 php 服务器上的 pdf 文件。我已将变量发送到服务器，创建 pdf 文档，然后让我的手机下载文档以在设备上查看。变量似乎没有写在 php 文件上。我在下面有我的代码

```
 public void postData() {
    try {
    Calculate calc = new Calculate();

    HttpClient mClient = new DefaultHttpClient();

    StringBuilder sb=new StringBuilder("myurl.com/pdf.php");

    HttpPost mpost = new HttpPost(sb.toString());

            String value = "1234";

    List nameValuepairs = new ArrayList(1);

    nameValuepairs.add(new BasicNameValuePair("id",value));

    mpost.setEntity(new UrlEncodedFormEntity(nameValuepairs));

    } catch (UnsupportedEncodingException e) {
    Log.w(" error ", e.toString());
    } catch (Exception e) {
    Log.w(" error ", e.toString());
    }
} 
```

我的 php 代码将变量“值”写入 pdf 文档：

```
//code to reverse the string
if($_POST[] != null) {
$reversed = strrev($_POST["value"]);

$this->SetFont('Arial','u',50);

$this->Text(52,68,$reversed);

} 
```

我只是想在一个随机的地方写变量，但是 if 语句总是空的，我不知道为什么。谢谢。对不起，如果它有点草率。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T04:42:02.833

代替：

```
if($_POST[] != null) { 
```

尝试：

```
if ( isset( $_POST[ 'value' ] ) && ! empty( $_POST[ 'value' ] ) ) { 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T04:42:54.027

在`if`语句中，您没有在 $_POST 数组中指定键。试试这个：

```
if(isset($_POST["value"]) 
{
  $reversed = strrev($_POST["value"]);

  $this->SetFont('Arial','u',50);

  $this->Text(52,68,$reversed);
} 
```

# mysql - 您不能在 FROM 子句中指定目标表 'b' 进行更新

> ID：11008264
> 
> 赞同：0
> 
> 时间：2012-06-13T04:37:06.643
> 
> 标签：mysql

我需要知道我在这个 sql 语句中哪里做错了。我尝试在以前的线程中找到类似问题的解决方案，但没有一个可以解决我的问题。所以我想也许我的陈述实际上是错误的。

```
UPDATE table1 b

LEFT JOIN table2 m ON b.ICNO=m.ICNO

SET b.SalMoveMth = '01'

WHERE
    m.Status!='6' AND 
    (DATE_FORMAT(startDateSand,'%m')='10' OR DATE_FORMAT(startDateSand,'%m')='11' OR 
        DATE_FORMAT(startDateSand,'%m')='12') AND 
    ((SELECT SalMoveMth FROM table1 WHERE ICNO=table2.ICNO ORDER BY SalMoveMthStDt DESC LIMIT 1)!='10'). 
```

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T04:45:05.757

where 子句的最后一部分：

代替 ：

```
where ICNO=table2.ICNO order by SalMoveMthStDt desc limit 1)!='10') 
```

尝试：

```
where ICNO=table2.ICNO order by SalMoveMthStDt desc limit 1)<>'10') 
```

还 ：

```
and b.SalMoveMth in (
((select SalMoveMth from table1 where ICNO=table2.ICNO order by 
SalMoveMthStDt desc limit 1)<>'10')) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:59:12.503

```
update table1 
set SalMoveMth = '01' where icno in 
  (select b.ICNO from table1 b 
   left join table2 m on b.ICNO=m.ICNO
   where m.Status!='6' 
   and (DATE_FORMAT(startDateSand,'%m')='10' or 
        DATE_FORMAT(startDateSand,'%m')='11' or 
        DATE_FORMAT(startDateSand,'%m')='12') 
   and b.SalMoveMth in (
     ((select SalMoveMth 
       from table1 
       where ICNO=table2.ICNO 
       order by SalMoveMthStDt desc limit 1)<>'10')
  ) 
```

# encoding - 为什么 Solr 管理查询页面将 UTF-8 解释为 ISO-8859-1

> ID：11008265
> 
> 赞同：0
> 
> 时间：2012-06-13T04:37:09.923
> 
> 标签：encoding, utf-8, solr, iso-8859-1

我在 Win7 64 位上将战争部署到我的 Tomcat 6.0.35 并且当我在 Solr Admin 中使用全界面查询页面（我的意思是 form.jsp）来查询 2 个汉字（比如说它是 C1C2）时，调试信息显示：

```
<lst name="debug">
  <str name="rawquerystring">æ°è</str>
  <str name="querystring">æ°è</str>
  <str name="parsedquery">NEWSID:æ°è</str>
  <str name="parsedquery_toString">NEWSID:æ°è</str>
... 
```

你可以看到 C1C2 变成了æ°è。我将相同的war文件部署到Linux上的Tomcat或同事计算机的另一台Win7 64位上，编码效果很好。有谁知道为什么以及如何避免这个问题？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T06:17:06.197

我解决了这个问题。邪恶是**Win7的文件虚拟化**功能。默认情况下，Win7会在几个众所周知的文件夹上启用此功能，例如Windows、Program Files、ProgramData等。效果是在某些情况下，一个文件会有双重内容，而这恰好发生在我的server.xml上.

解决方法是清理“ **c:\Users\<user account>\AppData\local\VirtualStore** ”中的内容。长期以来的解决方案是“不要在这些众所周知的文件夹中安装Tomcat。如果您坚持，请确保不要安装-n-卸载太多次。”

*~~~ 我是怎么发现这个问题的（你可能不需要看这个）~~~*

两个字：“纯属运气”。当我使用一些 xml 编辑器编辑 tomcat-users.xml 并添加用户“测试”时。我重新启动 Tomcat 但无法登录以使用管理器 UI。我重新检查了 tomcat-users.xml 并看到确实设置了用户。即使我卸载-'n-安装不同版本的Tomcat，登录仍然失败。

然后我使用记事本编辑 tomcat-users.xml，我很惊讶地看到它是 Tomcat 安装的原始版本。用记事本编辑它并重新启动Tomcat后，我现在可以登录了。

很快，我的想法闪现到 server.xml 并使用记事本查看。啊哈！连接器标记中没有*URIEncoding属性。*修复后，问题就解决了。

*日志*

就我而言，我的 xml 编辑器和 IE 都显示错误的版本，但我的其他浏览器和记事本显示正确的版本。我仍然不知道 Win7 在文件虚拟化上使用什么算法，所以我认为解决方法会存在一段时间。

# regex - Coldfusion RegEx 检查密码强度

> ID：11008278
> 
> 赞同：2
> 
> 时间：2012-06-13T04:38:59.733
> 
> 标签：regex, coldfusion, passwords, coldfusion-7

我正在使用它来（尝试）验证 ColdFusion 7 中的“强”密码。

```
if ( REFind("^(?=.*[A-Z])(?=.*[!@##$&*])(?=.*[0-9])(?=.*[a-z]).{6}$", myPassword, 1) EQ 0 ) 
```

然而，它失败了。有人可以指出我的错误吗？

我*认为*我正在测试的标准是：

*   1 鞋面
*   1 低
*   1 个号码
*   1个特殊字符
*   最少 6 位数

非 CF 人员的脚注：

*   双散列是为了逃避CF散列；
*   ColdFusion 使用 Jakarta ORO 2.0.6 作为其正则表达式引擎

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T14:14:26.973

好的，您尝试测试的标准集很糟糕。

例如，`Pa$5word`符合标准但不是一个错误的选择，虽然`my name |z NOT Fr£d`更强但失败（没有数字；不同的符号）。

理想情况下，您应该寻找现有的密码强度检查器（尽管我不知道是否有任何现有的/好的）。

无论如何，对于您所问的问题的简单解决方案，准确说明正在检查的内容，只需执行以下操作：

```
<cfif NOT 
    ( len(myPassword) GTE 6
    AND refind('[A-Z]',myPassword)
    AND refind('[a-z]',myPassword)
    AND refind('[0-9]',myPassword)
    AND refind('[!@##$&*]',myPassword)
     )> 
```

没有必要/没有好处将它全部变成一个正则表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T07:19:25.853

它可能失败的一个原因是您的业务规则是“至少六个字符”，但您的正则表达式强制执行六个字符。

另外：您说明它在哪些条件下失败会有所帮助。我的表面测试表明你很好，除了我上面提到的警告。如果您可以微调您的问题以指出我没有考虑的非表面测试失败，那将很有帮助。

在现实世界中，我也希望您认为哪些标点符号是有效的。你的清单有点短。但这与您当前的问题无关。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T10:54:57.820

试试这个。

^(?=. *[AZ])(?=.* [!@##\$& *])(?=.* [0-9])(?=.*[az]).{6,}$

在六个之后添加逗号，因为您希望允许超过 6 个字符，并且 $ 必须用 \$ 转义

**更新**

试试下面， ^ 和 $ 从上面的一个中删除

(?=. *[AZ])(?=.* [!@##$& *])(?=.* [0-9])(?=.*[az]).{6,}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T17:21:28.667

fwiw 以区分不同的字符故障：

```
<cfscript> raRe=[["[a-z]","lowercase"],["[A-Z]","uppercase"],["[\W]","non-alphanumeric"],["[\d]","numeric"]];</cfscript>
<cfoutput>
 <cfloop from=1 to=4 index="idxRe">
  #idxRe#: refind(raRe[idxRe][1], myPassword):<b>#refind(raRe[idxRe][1], myPassword)#</b> myPassword:<b>#myPassword#</b>; re:<b>#raRe[idxRe][1]#</b>; <br />
  <cfif refind(raRe[idxRe][1], myPassword) eq 0><b>Your password must include at least one #raRe[idxRe][2]# character</b><br /></cfif>
 </cfloop>
</cfoutput> 
```

当然，如果 >=6 也是必需的：

```
<cfif Len(myPassword) lte 6><b>Your password must be at least 6 characters long</b></cfif> 
```

# javascript - 从折线坐标数组创建高程剖面

> ID：11008284
> 
> 赞同：2
> 
> 时间：2012-06-13T04:39:51.623
> 
> 标签：javascript, google-maps-api-3, elevation, google-polyline

我使用坐标数组创建了一条折线，其代码改编自 [https://google-developers.appspot.com/maps/documentation/javascript/examples/polyline-simple](https://google-developers.appspot.com/maps/documentation/javascript/examples/polyline-simple)

虽然第一种（可能也是最糟糕的）制作这条线的方法只是一个巨大的纬度/经度点列表。还在学习编程技巧，我很抱歉。我是地理学家而不是程序员！

我想从那条线上获取高程并创建一个高程剖面图。我是 JS 新手，不知道如何调试不起作用的东西。我似乎无法使用折线中的坐标填充路径数组。

它当前设置为将 bikeCourseCoordinates 推送到一个新数组，然后将其用作路径。我尝试使用 bikeCourseCoordinates 数组作为“路径”，但这也不起作用。

在线（但不是工作版本）在这里： [http ://geography.uoregon.edu:50000/bentesting/map_try3.html](http://geography.uoregon.edu:50000/bentesting/map_try3.html)

* * *

```
function drawPath() {

  // Create a new chart in the elevation_chart DIV.
  chart = new google.visualization.ColumnChart(document.getElementById('elevation_chart'));

  var path = new Array;
  path.push(bikeCourseCoordinates);

  // Create a PathElevationRequest object using this array.
  var pathRequest = {
    'path': path,
    'samples': 256
  }

  // Initiate the path request.
  elevator.getElevationAlongPath(pathRequest, plotElevation);
}

// Takes an array of ElevationResult objects, draws the path on the map
// and plots the elevation profile on a Visualization API ColumnChart.
function plotElevation(results, status) {
  if (status == google.maps.ElevationStatus.OK) {
    elevations = results;

    // Extract the elevation samples from the returned results
    // and store them in an array of LatLngs.
    var elevationPath = [];
    for (var i = 0; i < results.length; i++) {
      elevationPath.push(elevations[i].location);
    }

    // Extract the data from which to populate the chart.
    // Because the samples are equidistant, the 'Sample'
    // column here does double duty as distance along the
    // X axis.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Sample');
    data.addColumn('number', 'Elevation');
    for (var i = 0; i < results.length; i++) {
      data.addRow(['', elevations[i].elevation]);
    }

    // Draw the chart using the data within its DIV.
    document.getElementById('elevation_chart').style.display = 'block';
    chart.draw(data, {
      width: 640,
      height: 200,
      legend: 'none',
      titleY: 'Elevation (m)'
    });
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-22T22:21:43.763

您是否要重现该页面上的第三个示例？[https://developers.google.com/maps/customize](https://developers.google.com/maps/customize)

如果是，我已经做到了，但没有图表效果

这是我的代码

这在你的脑海中

```
script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"
script type="text/javascript" src="https://www.google.com/jsapi"
script src="https://www.google.com/uds/?file=visualization&amp;v=1&amp;packages=columnchart" type="text/javascript" 
```

这在正文标记之前的页脚中

```
var elevator;
var map;
var chart;
var infowindow = new google.maps.InfoWindow();
var polyline;
var mapCenter = new google.maps.LatLng(-21.745585792425,165.91141052497);

// Load the Visualization API and the columnchart package.
google.load("visualization", "1", {packages: ["columnchart"]});

function initialize() {
    var mapOptions = {
        center: mapCenter,
        zoom: 13,
        mapTypeId: 'terrain'
    };

    map = new google.maps.Map(document.getElementById("map"), mapOptions);

    // Create an ElevationService.
    elevator = new google.maps.ElevationService();

    // Draw the path, using the Visualization API and the Elevation service.
    drawPath();
}

function drawPath() {

    // Create a new chart in the elevation_chart DIV.
    chart = new google.visualization.ColumnChart(document.getElementById('elevation-chart'));

    var path = bikeCourseCoordinates;

    // Create a PathElevationRequest object using this array.
    // Ask for 256 samples along that path.
    var pathRequest = {
        'path': path,
        'samples': 256
    }

    // Initiate the path request.
    elevator.getElevationAlongPath(pathRequest, plotElevation);
}

function plotElevation(results, status) {
  if (status == google.maps.ElevationStatus.OK) {
    elevations = results;

    // Extract the elevation samples from the returned results
    // and store them in an array of LatLngs.
    var elevationPath = [];
    for (var i = 0; i < results.length; i++) {
      elevationPath.push(elevations[i].location);
    }

    // Display a polyline of the elevation path.
    var pathOptions = {
      path: elevationPath,
      strokeColor: '#0000CC',
      opacity: 0.9,
      map: map
    }
    polyline = new google.maps.Polyline(pathOptions);

    // Extract the data from which to populate the chart.
    // Because the samples are equidistant, the 'Sample'
    // column here does double duty as distance along the
    // X axis.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Sample');
    data.addColumn('number', 'Elevation');
    for (var i = 0; i < results.length; i++) {
      data.addRow(['', elevations[i].elevation]);
    }

    // Draw the chart using the data within its DIV.
    document.getElementById('elevation-chart').style.display = 'block';
    chart.draw(data, {
      width: 960,
      height: 300,
      legend: 'none',
      titleY: 'Elevation (m)'
    });
  }
}

initialize(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:57:50.303

我找不到问题，但这里有一些可能会有所帮助的观察结果：

`I tried it just using the bikeCourseCoordinates array as the 'path'`

根据 Maps API，`pathRequest`应该是：

```
var pathRequest = {
    'path': bikeCourseCoordinates,
    'samples': 256
} 
```

此外，我认为以下初始部分，即：

```
var whitney = new google.maps.LatLng(36.578581, -118.291994);
...
...
var panamintsprings = new google.maps.LatLng(36.339722, -117.467778);
var badwater = new google.maps.LatLng(36.23998, -116.83171);

var bikeCourseCoordinates = [
            new google.maps.LatLng(47.67609435030702, -116.7896032333374), 
```

`<script>`只有在加载地图库后才应调用直接包含在第一个内联标记中的内容。我会将它全部放入另一个函数中`myInit`，然后`myInit`从您当前名为的函数中调用`initialize`

上述原因是，尽管您包含了包含 maps api 的脚本标记，`maps.googleapis.com/maps/api/js?sensor=false`但浏览器将继续执行包含的下一个脚本块，`whitney= new google.maps.Lat`因为 maps.googleapis.com 是一个外部脚本，我认为这些外部脚本是异步加载的。

# android - 为什么我应该使用 Intent 将字符串从一个活动发送到另一个活动？

> ID：11008285
> 
> 赞同：0
> 
> 时间：2012-06-13T04:40:04.060
> 
> 标签：android, android-intent, android-activity

我有一个简单的疑问。在 android 中，几乎到处都说要传递一个`String`或`int`任何你应该使用`Intent`和使用的`putextra()`东西，或者传递它的任何东西`activity`，因为我可以创建一个静态对象并从任何地方访问它`activity`

使用意图这样做必须有一些原因，谁能告诉我为什么我们需要`intent`将一个对象从一个对象传递`activity`到另一个对象，我们可以像在java中一样正常地做到这一点。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T04:50:37.227

因为我们不会在静态上下文中考虑活动。活动有生命周期，因此我们尝试将我们的数据整合到这个生命周期中，而不是绕过它。

仅使用静态变量并没有直接的问题，但可能会出现一些问题。例如，假设您显示一个`Activity`. `String`您需要的孩子可能`Activity`与您以前需要的不同，因此当向后导航到 that 的前一个实例时`Activity`，该值不是您所期望的。

传递`String`通过`Intent`也使`Activity`独立。`Activity`不应该以与另一个紧密耦合的方式设计一个。传递数据`Intent`意味着只要传递正确的数据，任何人`Activity`都可以启动它。`Activity`

也就是说，在某些情况下使用可静态访问的变量是合理的，例如对于不会更改且可被应用程序的多个部分访问的常量值，或者对于多个活动可能需要的任何数据。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-13T05:11:40.173

通常，您*可以*使用静态将数据从一个传递`Activity`到另一个。这并不意味着这是最好的主意。`Intent` **以下是使用extras**的几个原因。

1.  **这是一个约定。** 这是大多数 Android 开发人员所做的，这很重要。如果您以外的任何人要阅读或维护您的代码，最好使用通用解决方案来解决您的编程问题。

2.  *通常*，在 Java 或其他 OO 编程语言中，最好避免使用静态变量（除非它们是常量）。 [这是一篇关于为什么会这样的文章，这是](http://www.offthehill.org/articles/2011/06/03/java-static-variables-are-wrong-almost-always/)另[一篇](http://gbracha.blogspot.com/2008/02/cutting-out-static.html)文章。

3.  考虑一个普通的非 Android 应用程序。忘记`Activities`和`Intents`。如果你有一个控制器对象需要创建另一个控制器对象，它可以使用如下代码：

FirstController.java：

```
public void doSomething() {
    SecondController newController = new SecondController();
    newController.start();
} 
```

如果你想将一个字符串变量从第一个控制器传递给第二个控制器，你不会使用静态变量......你只需这样做：

```
 newController.start("WithSomeData"); 
```

现在，再想想安卓。 `Activity`对象的实例化方式不同。一个`Activity`不只是简单地`new`启动另一个，持有对它的引用，然后调用它的方法。这就是为什么需要这个相当复杂的过程。因为如果`Activity`对象是通过`Intent`对象间接创建的，那么“调用者”还没有对“被调用”对象的引用，因此不能使用正常的方法和参数传递。因此，如果我们接受此限制，那么您需要另一种方式来传递信息。由于该`Intent`对象用于创建一个`Activity`或返回一个现有的，因此赋予处理额外数据（如传递的参数）的能力`Activity`是有意义的。`Intents`

同样，创建此解决方案是因为普遍不喜欢使用静态变量以及它们的问题。

但是，如果您只有两个`Activity`类，并且每个类**只有一个并发实例**`Activity`，那么您可能会摆脱静态变量。由于我概述的原因，我仍然不会推荐它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-13T04:48:11.847

[从Intent](http://developer.android.com/reference/android/content/Intent.html)中读取 Intent 定义

意图是对要执行的操作的抽象描述。在 Android 中，Intent 用于激活组件（Activity、Service、BroadcastReceivers）。您可以通过静态变量传递字符串或其他数据，但这不是一个好习惯，因为在大型应用程序中，如果您使用静态变量，您会很头疼。

读取意图也有两种类型，隐式意图和显式意图，在显式意图中，您可以使用静态变量，因为您知道目标组件，但是通过未指定目标组件的隐式意图，静态变量没有任何用处。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T04:49:05.517

我相信在意图上使用 .putExtras() 的主要原因是在两个活动之间传递一个大对象，例如字符串数组。

尽管如此，我还是建议创建一个包含所有要在多个活动中使用的变量的全局类，访问多个变量都在一个地方比尝试在之间传递一堆变量要简单得多活动。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-13T04:56:39.923

简单来说，静态变量应该在加载时预加载......所以，它会增加内存使用和你的处理，如果你的应用程序没有执行到使用静态变量......预加载变量是没有价值的.

# android - android expandablelistview 不展开也不接收点击事件

> ID：11008286
> 
> 赞同：12
> 
> 时间：2012-06-13T04:40:37.567
> 
> 标签：android, click, listener, expandablelistview, expandablelistadapter

我一辈子都想不通为什么我的 ExpandableListView 没有展开……我几乎在每个可以为 ExpandableListView 找到的点击监听器中都使用了日志语句，而且看起来它们中的任何一个都没有被调用。

我知道有很多关于这个主题的帖子，但我已经通读了所有帖子并尝试了很多事情并且没有运气，希望我错过了一些容易被其他人发现的小错误。

主要活动：

```
public class ForumListActivity extends Activity  {

    private static ArrayList<Forum> forumList;
    private static ArrayList<ArrayList<SubForum>> subForumList;
    private ExpandableListView forumListView;
    private ForumListAdapter forumListAdapter;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        this.setContentView(R.layout.main_page);
        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);

        forumListView = (ExpandableListView) this.findViewById(R.id.main_page_forum_list);

        forumList = new ArrayList<Forum>();
        subForumList = new ArrayList<ArrayList<SubForum>>();
        setUpForums(this);

        forumListAdapter = new ForumListAdapter(this, forumList, subForumList);
        forumListView.setAdapter(forumListAdapter);

        forumListView.setOnGroupExpandListener(new OnGroupExpandListener(){
            @Override
            public void onGroupExpand(int groupPosition) {
                Log.d("onGroupExpand", "this works?");
                for(int i=0; i<forumListAdapter.getGroupCount(); i++) {
                    if(i != groupPosition) 
                        forumListView.collapseGroup(groupPosition);
                }
            }
        });

        forumListView.setOnGroupClickListener(new OnGroupClickListener() {
            @Override
            public boolean onGroupClick(ExpandableListView parent, View v, int groupPosition, long id) {
                Log.d("onGroupClick:", "worked");
                parent.expandGroup(groupPosition);
                return true;
            }
        });
    } 
```

注意：setUpForums() 方法只是获取系统数组并将它们放入 forumList 和 subForumList

列表视图适配器：

```
public class ForumListAdapter extends BaseExpandableListAdapter {

    private ArrayList<Forum> groups;
    private ArrayList<ArrayList<SubForum>> children;
    private Context ctx;

    public ForumListAdapter(Context ctx, ArrayList<Forum> groups, ArrayList<ArrayList<SubForum>> children) {
        this.ctx = ctx;
        this.groups = groups;
        this.children = children;
    }

    @Override
    public Object getChild(int groupPosition, int childPosition) {
        return children.get(groupPosition).get(childPosition);
    }

    @Override
    public long getChildId(int groupPosition, int childPosition) {
        return childPosition;
    }

    @Override
    public View getChildView(int groupPosition, int childPosition, boolean isLastChild, View convertView, ViewGroup parent) {
        if (convertView == null) {
            LayoutInflater inflater = LayoutInflater.from(ctx);
            convertView = inflater.inflate(R.layout.forum_list_child_item_row, null);
        }

        SubForum currentSubForum = children.get(groupPosition).get(childPosition);
        TextView name = (TextView)convertView.findViewById(R.id.child_row_forum_title);
        TextView desc = (TextView)convertView.findViewById(R.id.child_row_forum_description);

        if (name != null)
            name.setText(currentSubForum.getName());

        if (desc != null)
            desc.setText(currentSubForum.getDescription());

        convertView.setFocusableInTouchMode(true);
        return convertView;
    }

    @Override
    public int getChildrenCount(int groupPosition) {
        return children.get(groupPosition).size();
    }

    @Override
    public Object getGroup(int groupPosition) {
        return groups.get(groupPosition);
    }

    @Override
    public int getGroupCount() {
        return groups.size();
    }

    @Override
    public long getGroupId(int groupPosition) {
        return groupPosition;
    }

    @Override
    public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {
        if (convertView == null)
        {
            LayoutInflater inflater = LayoutInflater.from(ctx);
            convertView = inflater.inflate(R.layout.forum_list_group_item_row, null);
        }

        Forum currentForum = (Forum) groups.get(groupPosition);
        TextView name = (TextView) convertView.findViewById(R.id.group_item_forum_title);
        //ImageView image = (ImageView) convertView.findViewById(R.id.group_item_expander_image);

        if(name != null)
            name.setText(currentForum.getName());           

        /*
        if(image != null) {
            int[][] group_state_sets = {{}, {android.R.attr.state_expanded}};
            image.setVisibility(View.VISIBLE);  
            int stateSetIndex = (isExpanded ? 1 : 0) ;  
            Drawable drawable = image.getDrawable();  
            drawable.setState(group_state_sets[stateSetIndex]);  
        }
        */

        return convertView;
    }

    @Override
    public boolean hasStableIds() {
        return true;
    }

    @Override
    public boolean isChildSelectable(int groupPosition, int childPosition) {
        return true;
    }

} 
```

分组布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/turquoise_gradient"
    android:orientation="horizontal"
    android:paddingTop="6dip"
    android:paddingBottom="6dip"
    android:paddingLeft="6dip" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/turquoise_gradient"
        android:orientation="vertical"
        android:padding="2dip" >

        <TextView
            android:id="@+id/group_item_forum_title"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical|left"
            android:gravity="left"
            android:paddingLeft="5dip"
            android:textColor="@color/white"
            android:textSize="16dip" />

    </LinearLayout>

    <!--  
    <LinearLayout 
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical"
        android:gravity="center|right">

        <ImageView
            android:id="@+id/group_item_expander_image"
            android:focusable="false"
            android:focusableInTouchMode="false"
            android:gravity="center"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:src="@drawable/collapse_down" />

    </LinearLayout> -->

</LinearLayout> 
```

子布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/turquoise_gradient"
    android:orientation="horizontal"
    android:paddingTop="6dip"
    android:paddingBottom="6dip"
    android:paddingLeft="6dip" >

    <LinearLayout 
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="2dip"
        android:background="@drawable/turquoise_gradient" >

        <TextView
            android:id="@+id/child_row_forum_title"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="left"
            android:layout_gravity="center_vertical"
            android:paddingLeft="5dip"
            android:textColor="@color/white"
            android:maxLines="1"
            android:textSize="11dip"  />

         <TextView
            android:id="@+id/child_row_forum_description"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="left"
            android:layout_gravity="center_vertical"
            android:paddingLeft="15dip"
            android:textColor="@color/white"
            android:maxLines="2"
            android:textSize="11dip"  />

    </LinearLayout>

</LinearLayout> 
```

主页面布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@color/black"
    android:orientation="vertical" >

    <ExpandableListView
        android:id="@+id/main_page_forum_list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:background="@color/black"
        android:divider="@color/black"
        android:dividerHeight="1dip"
        android:clickable="true" />

</LinearLayout> 
```

非常感谢您提供的任何帮助！

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-07-14T16:02:51.327

我也遇到了和你类似的问题。经过几天的调查，我发现我做错了什么。所以我通过做一些小改动来修复它以使其正常工作。

`boolean onGroupClick(...)`让我们看一下in的主体`setOnGroupClickListener`。您已返回**true**，这意味着[“点击已处理”](http://developer.android.com/reference/android/widget/ExpandableListView.OnGroupClickListener.html)

如果要扩展，则应**返回 false 。**所以我建议你这样做：

```
forumListView.setOnGroupClickListener(new OnGroupClickListener() {
    @Override
    public boolean onGroupClick(ExpandableListView parent, View v, int groupPosition, long id) {
            Log.d("onGroupClick:", "worked");
            parent.expandGroup(groupPosition);
            return false;
        }
    }); 
```

在`android.widget.ExpandableListView`课堂上，有一个名为的方法`boolean handleItemClick(View v, int position, long id)`负责展开/折叠组或将点击传递给正确的孩子。

```
 /* It's a group click, so pass on event */
         if (mOnGroupClickListener != null) {
             if (mOnGroupClickListener.onGroupClick(this, v,
                     posMetadata.position.groupPos, id)) {
                 posMetadata.recycle();
                 return true;
             }
         }

  /* expanding/collapsing/other tasks... */ 
```

如果您实现`onGroupClick`返回*true*，则第 8 行以下的代码将永远不会被执行。（也就是说，组永远不会被折叠、扩展）

希望我的回答对您有所帮助:-) 祝你好运！

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2015-07-10T16:41:25.413

如果您的列表项上有一个小部件，例如按钮，您可能必须添加`android:focusable="false"`到它。按钮不允许单击我的列表项。这就是我的问题。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-06-13T05:07:58.053

您可能需要检查三件事，

1.  检查您是否有任何可用于孩子的数据，因为如果您没有任何数据，孩子根本不会出现。

2.尝试在使用布局充气器时删除 if 条件检查

```
 if (convertView == null) {
    LayoutInflater inflater = LayoutInflater.from(ctx);
    convertView = inflater.inflate(R.layout.forum_list_child_item_row, null);
    } 
```

3.  你还需要通过`Viewgroup`这里

    ```
     convertView = inflater.inflate(R.layout.forum_list_child_item_row,parent, false); 
    ```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2016-08-31T15:21:39.203

我知道这已经得到了回答，但是尝试将您要充气的任何内容的基本布局设置为具有该属性：

```
android:descendantFocusability="blocksDescendants" 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2018-04-11T05:50:11.333

如果您的可扩展列表视图父级有按钮或开关，它不会被调用，我在此浪费了一整天。所以只需使用下面的代码

```
android:focusable="false"
android:focusableInTouchMode="false" 
```

**将此代码添加到切换按钮、切换按钮或可扩展列表视图中的任何内容**

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-03-02T08:11:27.157

确保您的自定义组布局不具有`android:textIsSelectable="false"`“真”，如果 textview 中的文本设置为可选，可扩展列表视图将在姜饼中扩展，但在 jellybean 中不扩展，并且可能在 ICS 中也不起作用。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-12-17T13:49:13.980

我有一个类似的问题，它是通过`android:clickable="true"`从 xml 上的 ExpandableListView 中删除属性来解决的。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-03-14T21:38:11.130

forumListView.collapseGroup( **groupPosition** );

应该

forumListView.collapseGroup( **i** );

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-06-13T07:02:00.060

***当您使用可扩展列表时，组扩展是其中的默认功能。意味着该组仅在您单击它时才会自行扩展，您不需要覆盖 onGroupExpand(int groupPosition) 或任何其他方法，只需将您的数据填充到您的列表中，如下所示：***

```
 public class MyActivity extends Activity { 

  private ExpandableListView forumListView;
  private ForumListAdapter forumListAdapter;
  String[] forumList={"group 1","group 2","group 3"};
 String[][] subForumList={{"group 1 child1","group 1 child1","group 1 child3"},
                     {"group 2 child1","group 2 child2","group 2 child3"},
                     {"group 3 child1","group 3 child2","group 3 child3"},
                     };
     @Override
     public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
this.setContentView(R.layout.main);

forumListView = (ExpandableListView) this.findViewById(R.id.main_page_forum_list);

forumListAdapter = new ForumListAdapter(this, forumList, subForumList);
forumListView.setAdapter(forumListAdapter);

  /* forumListView.setOnGroupExpandListener(new OnGroupExpandListener(){
    public void onGroupExpand(int groupPosition) {
        Log.d("onGroupExpand", "this shit works?");
        for(int i=0; i<forumListAdapter.getGroupCount(); i++) {
            if(i != groupPosition) 
                forumListView.collapseGroup(groupPosition);
        }
    }
});

forumListView.setOnGroupClickListener(new OnGroupClickListener() {
     public boolean onGroupClick(ExpandableListView parent, View v, int groupPosition, long  id) {
        Log.d("onGroupClick:", "worked");
        parent.expandGroup(groupPosition);
        return true;
    }
});*/
     }

    public class ForumListAdapter extends BaseExpandableListAdapter {

      String[] groups;
   String[][] children;
     private Context ctx;

   public ForumListAdapter(Context ctx, String[] groups, String[][] children) {
    this.ctx = ctx;
    this.groups = groups;
    this.children = children;
}

public Object getChild(int arg0, int arg1) {
    // TODO Auto-generated method stub
    return children[arg0][arg1];
}

public long getChildId(int arg0, int arg1) {
    // TODO Auto-generated method stub
    return arg1;
}

public View getChildView(int arg0, int arg1, boolean arg2, View arg3,
        ViewGroup arg4) {
    if (arg3 == null) {
        LayoutInflater inflater = LayoutInflater.from(ctx);
        arg3 = inflater.inflate(R.layout.child, null);
    }

    String childData = children[arg0][arg1];
    TextView name = (TextView)arg3.findViewById(R.id.child_row_forum_title);
    TextView desc = (TextView)arg3.findViewById(R.id.child_row_forum_description);

    if (name != null)
        name.setText(childData);

    if (desc != null)
       // desc.setText(currentSubForum.getDescription());

    arg3.setFocusableInTouchMode(true);
    return arg3;}

public int getChildrenCount(int arg0) {
    // TODO Auto-generated method stub
    return children[arg0].length;
}

public Object getGroup(int arg0) {
    // TODO Auto-generated method stub
    return groups[arg0];
}

public int getGroupCount() {
    // TODO Auto-generated method stub
    return groups.length;
}

public long getGroupId(int arg0) {
    // TODO Auto-generated method stub
    return arg0;
}

public View getGroupView(int arg0, boolean arg1, View arg2, ViewGroup arg3) {
    if (arg2 == null)
    {
        LayoutInflater inflater = LayoutInflater.from(ctx);
        arg2 = inflater.inflate(R.layout.group, null);
    }

    TextView name = (TextView) arg2.findViewById(R.id.group_item_forum_title);
    //ImageView image = (ImageView) arg2.findViewById(R.id.group_item_expander_image);

    if(name != null)
        name.setText(groups[arg0]);           

    /*
    if(image != null) {
        int[][] group_state_sets = {{}, {android.R.attr.state_expanded}};
        image.setVisibility(View.VISIBLE);  
        int stateSetIndex = (isExpanded ? 1 : 0) ;  
        Drawable drawable = image.getDrawable();  
        drawable.setState(group_state_sets[stateSetIndex]);  
    }
    */

    return arg2;}

public boolean hasStableIds() {
    // TODO Auto-generated method stub
    return false;
}

public boolean isChildSelectable(int arg0, int arg1) {
    // TODO Auto-generated method stub
    return false;
}
    }

       } 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-06-13T06:24:12.013

添加`implements OnGroupExpandListener`到您的活动中。然后它将起作用。我正在使用它，它工作正常。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-02-19T17:43:03.933

就我而言，我在组视图和子视图中有按钮，甚至在这两个视图`android:focusable="false"` `android:focusableInTouchMode="false"`上都设置了它不起作用。

所以我不得不将它们从 更改`ImageButton`为`ImageView`。点击的监听器是相同的。您可能需要创建自定义背景来为`ImageView`.

# javascript - 根据文件选择器选择更改 div 背景

> ID：11008290
> 
> 赞同：7
> 
> 时间：2012-06-13T04:41:21.977
> 
> 标签：javascript, html, css

我正在寻找一种在用户从表单输入中选择图像时更改 div 背景图像的方法。正如您在下面看到的，我有一个输入类型的文件。一旦用户选择了他们想要的文件，我希望 div#imgHolder 根据选择的文件更改背景。有什么想法吗？

```
<div id="simpleDialog" style="width: 350px; height: 350px; display:none;" scrolltop="0">
  <br>  
  <div id="imgHolder" style="width:200px;height:200px;background-image: url(images/gray.png)"></div>
  <br>
  <form id="userForm" align="center">
    <fieldset>
      <legend>Artist Info</legend>
        <input type="file" name="artistImage" id="artistImage" style="border: none;float:left"><br><br>
        <label for="text" style="float:left">Enter URL:</label>
        <input type="text" name="website" id="website" value="" required="required">                
      </fieldset>
  </form>
  <input type="button" id="submit" value="Submit" /> 
  <input type="button" id="cancel" value="Cancel" /> 
</div> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-13T05:54:24.390

由于您标记了此[html5](/questions/tagged/html5 "显示标记为“html5”的问题")，因此您了解这是一项高级浏览器功能。

您所要求的将需要 FileReader，它在[大多数现代浏览器](http://caniuse.com/#feat=filereader)（甚至 IE）中都可用。

```
// Bind to the change event of our file input
$("input[name='myFileSelect']").on("change", function(){

    // Get a reference to the fileList
    var files = !!this.files ? this.files : [];

    // If no files were selected, or no FileReader support, return
    if ( !files.length || !window.FileReader ) return;

    // Only proceed if the selected file is an image
    if ( /^image/.test( files[0].type ) ) {

        // Create a new instance of the FileReader
        var reader = new FileReader();

        // Read the local file as a DataURL
        reader.readAsDataURL( files[0] );

        // When loaded, set image data as background of page
        reader.onloadend = function(){

            $("html").css("background-image", "url(" + this.result + ")");

        }

    }

});​ 
```

我刚刚在 Internet Explorer 10、Chrome 19/21、Firefox 12/13 和 Opera 11.64 中测试了上面的代码，发现它没有问题。

不支持 FileReader 的旧浏览器将保持沉默。未显示图像，未引发异常。

小提琴：http: [//jsfiddle.net/jonathansampson/K3A9r/](http://jsfiddle.net/jonathansampson/K3A9r/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T04:50:14.687

## 更新

如果您想访问本地计算机上的图片，您可以使用[HTML5 的 File API](http://www.html5rocks.com/en/tutorials/file/dndfiles/)来实现。

[例如：](http://www.html5rocks.com/en/tutorials/file/dndfiles/#toc-reading-files)

```
<input type="file" id="files" name="files[]" multiple />
<output id="list"></output>

<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

      // Only process image files.
      if (!f.type.match('image.*')) {
        continue;
      }

      var reader = new FileReader();

      // Closure to capture the file information.
          reader.onload = (function(theFile) {
        return function(e) {
          // Render thumbnail.
          var span = document.createElement('span');
          span.innerHTML = ['<img class="thumb" src="', e.target.result,
                            '" title="', escape(theFile.name), '"/>'].join('');
          document.getElementById('list').insertBefore(span, null);
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
  }

  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T04:44:56.717

您可以编写一个 jQuery，单击表单输入的图像来更改 .css 的 css`background-image`属性`#imgHolder`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T04:56:31.390

由于浏览器安全模式，它不允许您从本地计算机访问文件并在浏览器中显示它，**除非您使用 HTML5 FileReader() 功能**（不幸的是，目前所有浏览器都不支持该功能）。

# ruby - Ruby，未初始化的常量

> ID：11008293
> 
> 赞同：0
> 
> 时间：2012-06-13T04:41:42.123
> 
> 标签：ruby

我收到此错误：

> 第 12 行的未初始化常量`OU`(NameError)

我究竟做错了什么？

```
require 'win32ole'
domain = "dc=Troptrain,dc=net,dc=au"
ou = "studentsOU"

ad = WIN32OLE.connect("LDAP://#{OU}, #{domain}'")        # <== (line 12)
def errorcheck
  puts "Please enter the file name and location"
  file = gets.chomp.to_s
  #open file
  f1 = File.open(file,"r")
  #setup loop
  f1\. each do |line|
    #split information
    info = line.split(',')
    #get informatio position 
    firstname = info[0]
    lastname = info[1]
    dob = info[2]
    snumber = info[3]
    eos = info[4]
    sarea = info[5]

    if ((firstname == ''))
      puts "No firstname found."
      puts ""
      system "pause"
      next
    end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:50:04.800

Ruby 区分大小写。将“#{OU}”更改为“#{ou}”

# javascript - javascript中的异步foreach

> ID：11008295
> 
> 赞同：4
> 
> 时间：2012-06-13T04:41:50.030
> 
> 标签：javascript, asynchronous, foreach

我希望这是有道理的：我需要在 javascript 中创建一个 foreach 函数，它将像这样使用：

```
foreach(["A", "B", "C"], function(letter, done) {
    // do something async with 'letter'
    doSomthing(letter, done); // ***
}, function () {
    // final callback that is called after all array has been visted.
    // do some final work
}); 
```

所以我在考虑以下实现：

```
var foreach = function(array, func, ready) {
    if (!array.length)
        ready();
    var that = this;
    func(array[0], function(){
        that.foreach(array.slice(1, array.length), func, ready);
    });
} 
```

而且它似乎确实有效！很酷。

但我在想是否有不使用递归的解决方案？我想不出一个...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T12:40:27.767

在这一点上，我只是出于学术目的再次来到这里。现在，我建议大家首先了解 Aadit 的优雅和简洁的方法，因为这对我来说是一次很好的学习体验，因为我不知道这一点，也不知道你可以在 setTimeout 之后放置的其他参数.

在学习了这些东西之后，我将我的代码简化为：

```
 var foreach = function(array,doSomething,onComplete) {
        var i = 0, len = array.length, completeCount = 0;
        for(;i < len; i++) {
            window.setTimeout(function() {
                doSomething(arguments[0]);
                completeCount++;
                if (completeCount === len) { 
                    onComplete(); 
                }
            },0,array[i]);
        }
    }; 
```

我认为你必须有一个“completeCount”，因为虽然 Aadit 的代码是一个非常简洁的工作解决方案，它可以自动减少数组，但它并不是真正异步的，因为在数组中的每个方法线性完成后调用“next()”。“completeCount”允许代码以任何顺序完成执行，这是我相信的重点。在 Aadit 的代码中，还存在修改输入数组以及需要更改 Function 原型的副作用，我认为这不是必需的。他的代码中也没有实践“提升”，我认为应该这样做，因为这种风格可以减少错误。

同样，我非常尊重 Aadit 的代码，并花时间再次回来尝试根据我从其他聪明人以及 Aadit 那里学到的知识提出更好的解决方案。我欢迎任何批评和更正，因为我会努力从中学习。

仅供参考：这是一种通用的延迟方法

```
 var deferred = function(methods,onComplete) {
        var i = 0, len = methods.length, completeCount = 0,
        partialComplete = function() {
            completeCount++;
            if (completeCount === len) {
                onComplete();
            }
        };
        for(;i < len; i++) {
            window.setTimeout(function() {
                arguments[0](partialComplete);
            },0,methods[i]);
        }
    };

    // how to call it
    deferred([
        function (complete) {
            // this could easily be ajax that calls "complete" when ready
            complete();
        },
        function (complete) {
            complete();    
        }
    ], function() {
       alert('done'); 
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:02:53.553

您的方法在技术上是正确的，但这样做并不好。请在 javasript 中使用 promise 模式实现。我建议您使用 git 上可用的开源 js when.js 来实现承诺模式请参考以下代码

```
 var service = {
            fetch: function (query) {

                // return a promise from the function
                return when(["A", "B", "C"].forEach(function (name) {
                    alert(name);
                }));
            }
        };

        service.fetch("hello world").then(function () {
            alert("work has been completed");
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T20:22:52.927

假设您想要进行原始计算，并且您希望它是异步的，因此它不会阻塞浏览器。

我一直在使用“setTimeout(Func,0);” 把戏大约一年。这是我最近写的一些研究来解释如何加快速度。如果您只是想要答案，请跳至步骤 4。步骤 1 2 和 3 解释推理和机制；

```
// In Depth Analysis of the setTimeout(Func,0) trick.

//////// setTimeout(Func,0) Step 1 ////////////
// setTimeout and setInterval impose a minimum 
// time limit of about 2 to 10 milliseconds.

  console.log("start");
  var workCounter=0;
  var WorkHard = function()
  {
    if(workCounter>=2000) {console.log("done"); return;}
    workCounter++;
    setTimeout(WorkHard,0);
  };

// this take about 9 seconds
// that works out to be about 4.5ms per iteration
// Now there is a subtle rule here that you can tweak
// This minimum is counted from the time the setTimeout was executed.
// THEREFORE:

  console.log("start");
  var workCounter=0;
  var WorkHard = function()
  {
    if(workCounter>=2000) {console.log("done"); return;}
    setTimeout(WorkHard,0);
    workCounter++;
  };

// This code is slightly faster because we register the setTimeout
// a line of code earlier. Actually, the speed difference is immesurable 
// in this case, but the concept is true. Step 2 shows a measurable example.
///////////////////////////////////////////////

//////// setTimeout(Func,0) Step 2 ////////////
// Here is a measurable example of the concept covered in Step 1.

  var StartWork = function()
  {
    console.log("start");
    var startTime = new Date();
    var workCounter=0;
    var sum=0;
    var WorkHard = function()
    {
      if(workCounter>=2000) 
      {
        var ms = (new Date()).getTime() - startTime.getTime();
        console.log("done: sum=" + sum + " time=" + ms + "ms"); 
        return;
      }
      for(var i=0; i<1500000; i++) {sum++;}
      workCounter++;
      setTimeout(WorkHard,0);
    };
    WorkHard();
  };

// This adds some difficulty to the work instead of just incrementing a number
// This prints "done: sum=3000000000 time=18809ms".
// So it took 18.8 seconds.

  var StartWork = function()
  {
    console.log("start");
    var startTime = new Date();
    var workCounter=0;
    var sum=0;
    var WorkHard = function()
    {
      if(workCounter>=2000) 
      {
        var ms = (new Date()).getTime() - startTime.getTime();
        console.log("done: sum=" + sum + " time=" + ms + "ms"); 
        return;
      }
      setTimeout(WorkHard,0);
      for(var i=0; i<1500000; i++) {sum++;}
      workCounter++;
    };
    WorkHard();
  };

// Now, as we planned, we move the setTimeout to before the difficult part
// This prints: "done: sum=3000000000 time=12680ms"
// So it took 12.6 seconds. With a little math, (18.8-12.6)/2000 = 3.1ms
// We have effectively shaved off 3.1ms of the original 4.5ms of dead time.
// Assuming some of that time may be attributed to function calls and variable 
// instantiations, we have eliminated the wait time imposed by setTimeout.

// LESSON LEARNED: If you want to use the setTimeout(Func,0) trick with high 
// performance in mind, make sure your function takes more than 4.5ms, and set 
// the next timeout at the start of your function, instead of the end.
///////////////////////////////////////////////

//////// setTimeout(Func,0) Step 3 ////////////
// The results of Step 2 are very educational, but it doesn't really tell us how to apply the
// concept to the real world.  Step 2 says "make sure your function takes more than 4.5ms".
// No one makes functions that take 4.5ms. Functions either take a few microseconds, 
// or several seconds, or several minutes. This magic 4.5ms is unattainable.

// To solve the problem, we introduce the concept of "Burn Time".
// Lets assume that you can break up your difficult function into pieces that take 
// a few milliseconds or less to complete. Then the concept of Burn Time says, 
// "crunch several of the individual pieces until we reach 4.5ms, then exit"

// Step 1 shows a function that is asyncronous, but takes 9 seconds to run. In reality
// we could have easilly incremented workCounter 2000 times in under a millisecond.
// So, duh, that should not be made asyncronous, its horrible. But what if you don't know
// how many times you need to increment the number, maybe you need to run the loop 20 times,
// maybe you need to run the loop 2 billion times.

  console.log("start");
  var startTime = new Date();
  var workCounter=0;
  for(var i=0; i<2000000000; i++) // 2 billion
  {
    workCounter++;
  }
  var ms = (new Date()).getTime() - startTime.getTime();
  console.log("done: workCounter=" + workCounter + " time=" + ms + "ms"); 

// prints: "done: workCounter=2000000000 time=7214ms"
// So it took 7.2 seconds. Can we break this up into smaller pieces? Yes.
// I know, this is a retarded example, bear with me.

  console.log("start");
  var startTime = new Date();
  var workCounter=0;
  var each = function()
  {
    workCounter++;
  };
  for(var i=0; i<20000000; i++) // 20 million
  {
    each();
  }
  var ms = (new Date()).getTime() - startTime.getTime();
  console.log("done: workCounter=" + workCounter + " time=" + ms + "ms"); 

// The easiest way is to break it up into 2 billion smaller pieces, each of which take 
// only several picoseconds to run. Ok, actually, I am reducing the number from 2 billion
// to 20 million (100x less).  Just adding a function call increases the complexity of the loop
// 100 fold. Good lesson for some other topic.
// prints: "done: workCounter=20000000 time=7648ms"
// So it took 7.6 seconds, thats a good starting point.
// Now, lets sprinkle in the async part with the burn concept

  console.log("start");
  var startTime = new Date();
  var workCounter=0;
  var index=0;
  var end = 20000000;
  var each = function()
  {
    workCounter++;
  };
  var Work = function()
  {
    var burnTimeout = new Date();
    burnTimeout.setTime(burnTimeout.getTime() + 4.5); // burnTimeout set to 4.5ms in the future
    while((new Date()) < burnTimeout)
    {
      if(index>=end) 
      {
        var ms = (new Date()).getTime() - startTime.getTime();
        console.log("done: workCounter=" + workCounter + " time=" + ms + "ms"); 
        return;
      }
      each();
      index++;
    }
    setTimeout(Work,0);
  };

// prints "done: workCounter=20000000 time=107119ms"
// Sweet Jesus, I increased my 7.6 second function to 107.1 seconds.
// But it does prevent the browser from locking up, So i guess thats a plus.
// Again, the actual objective here is just to increment workCounter, so the overhead of all
// the async garbage is huge in comparison. 
// Anyway, Lets start by taking advice from Step 2 and move the setTimeout above the hard part. 

  console.log("start");
  var startTime = new Date();
  var workCounter=0;
  var index=0;
  var end = 20000000;
  var each = function()
  {
    workCounter++;
  };
  var Work = function()
  {
    if(index>=end) {return;}
    setTimeout(Work,0);
    var burnTimeout = new Date();
    burnTimeout.setTime(burnTimeout.getTime() + 4.5); // burnTimeout set to 4.5ms in the future
    while((new Date()) < burnTimeout)
    {
      if(index>=end) 
      {
        var ms = (new Date()).getTime() - startTime.getTime();
        console.log("done: workCounter=" + workCounter + " time=" + ms + "ms"); 
        return;
      }
      each();
      index++;
    }
  };

// This means we also have to check index right away because the last iteration will have nothing to do
// prints "done: workCounter=20000000 time=52892ms"  
// So, it took 52.8 seconds. Improvement, but way slower than the native 7.6 seconds.
// The Burn Time is the number you tweak to get a nice balance between native loop speed
// and browser responsiveness. Lets change it from 4.5ms to 50ms, because we don't really need faster
// than 50ms gui response.

  console.log("start");
  var startTime = new Date();
  var workCounter=0;
  var index=0;
  var end = 20000000;
  var each = function()
  {
    workCounter++;
  };
  var Work = function()
  {
    if(index>=end) {return;}
    setTimeout(Work,0);
    var burnTimeout = new Date();
    burnTimeout.setTime(burnTimeout.getTime() + 50); // burnTimeout set to 50ms in the future
    while((new Date()) < burnTimeout)
    {
      if(index>=end) 
      {
        var ms = (new Date()).getTime() - startTime.getTime();
        console.log("done: workCounter=" + workCounter + " time=" + ms + "ms"); 
        return;
      }
      each();
      index++;
    }
  };

// prints "done: workCounter=20000000 time=52272ms"
// So it took 52.2 seconds. No real improvement here which proves that the imposed limits of setTimeout
// have been eliminated as long as the burn time is anything over 4.5ms
///////////////////////////////////////////////

//////// setTimeout(Func,0) Step 4 ////////////
// The performance numbers from Step 3 seem pretty grim, but GUI responsiveness is often worth it.
// Here is a short library that embodies these concepts and gives a descent interface.

  var WilkesAsyncBurn = function()
  {
    var Now = function() {return (new Date());};
    var CreateFutureDate = function(milliseconds)
    {
      var t = Now();
      t.setTime(t.getTime() + milliseconds);
      return t;
    };
    var For = function(start, end, eachCallback, finalCallback, msBurnTime)
    {
      var i = start;
      var Each = function()
      {
        if(i==-1) {return;} //always does one last each with nothing to do
        setTimeout(Each,0);
        var burnTimeout = CreateFutureDate(msBurnTime);
        while(Now() < burnTimeout)
        {
          if(i>=end) {i=-1; finalCallback(); return;}
          eachCallback(i);
          i++;
        }
      };
      Each();
    };
    var ForEach = function(array, eachCallback, finalCallback, msBurnTime)
    {
      var i = 0;
      var len = array.length;
      var Each = function()
      {
        if(i==-1) {return;}
        setTimeout(Each,0);
        var burnTimeout = CreateFutureDate(msBurnTime);
        while(Now() < burnTimeout)
        {
          if(i>=len) {i=-1; finalCallback(array); return;}
          eachCallback(i, array[i]);
          i++;
        }
      };
      Each();
    };

    var pub = {};
    pub.For = For;          //eachCallback(index); finalCallback();
    pub.ForEach = ForEach;  //eachCallback(index,value); finalCallback(array);
    WilkesAsyncBurn = pub;
  };

///////////////////////////////////////////////

//////// setTimeout(Func,0) Step 5 ////////////
// Here is an examples of how to use the library from Step 4.

  WilkesAsyncBurn(); // Init the library
  console.log("start");
  var startTime = new Date();
  var workCounter=0;
  var FuncEach = function()
  {
    if(workCounter%1000==0)
    {
      var s = "<div></div>";
      var div = jQuery("*[class~=r1]");
      div.append(s);
    }
    workCounter++;
  };
  var FuncFinal = function()
  {
    var ms = (new Date()).getTime() - startTime.getTime();
    console.log("done: workCounter=" + workCounter + " time=" + ms + "ms"); 
  };
  WilkesAsyncBurn.For(0,2000000,FuncEach,FuncFinal,50);

// prints: "done: workCounter=20000000 time=149303ms"
// Also appends a few thousand divs to the html page, about 20 at a time.
// The browser is responsive the entire time, mission accomplished

// LESSON LEARNED: If your code pieces are super tiny, like incrementing a number, or walking through 
// an array summing the numbers, then just putting it in an "each" function is going to kill you. 
// You can still use the concept here, but your "each" function should also have a for loop in it 
// where you burn a few hundred items manually.  
/////////////////////////////////////////////// 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T04:49:20.873

查看[异步](https://github.com/caolan/async)库。它有几个不同的功能，并且得到积极的支持。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-13T05:56:42.630

如果我错了，请纠正我，但从我对您的问题的理解来看，我相信您想要获取一个数组，在该数组的每个成员上异步串行调用一个函数，然后在处理完数组的每个成员后执行一个回调函数.

现在要在浏览器环境中异步执行函数，我们将执行[以下](http://jsfiddle.net/dGLvD/)操作：

```
Function.prototype.async = function () {
    setTimeout.bind(window, this, 0).apply(window, arguments);
};

alert.async(5);
alert(6); 
```

在上面的示例中，该`setTimeout`函数用于异步调用给定函数，因此我们首先看到该值`6`，然后`5`是警报值。

接下来，为了使您的`foreach`函数异步，我们将执行[以下](http://jsfiddle.net/dGLvD/3/)操作：

```
function forEach(array, funct, callback) {
    if (array.length)
    funct.async(array[0], forEach.bind(null, array.slice(1), funct, callback));
    else callback.async();
} 
```

上述解决方案不使用recursion。当然该`forEach`函数在其内部被引用，但它仅在`funct`异步调用的函数中被调用。因此，`forEach`函数在函数中再次调用之前返回`funct`。

我在每个代码片段之前都包含了指向 JS fiddles 的链接。如果您还有任何疑问，我很乐意为您解答。

**编辑：**

如果您不喜欢修改`prototype`( `Function`@kitgui.com)，那么您可以使用此[修改后的代码](http://jsfiddle.net/UTutx/)：

```
var async = Function.prototype.call.bind(function () {
    setTimeout.bind(null, this, 0).apply(null, arguments);
});

async(alert, 5);
alert(6); 
```

由于我没有`window`在上面的代码中引用它，它也可以在非浏览器环境中工作。

那么我们可以将`forEach`函数改写如下：

```
function forEach(array, funct, callback) {
    if (array.length)
    async(funct, array[0], forEach.bind(null, array.slice(1), funct, callback));
    else async(callback);
} 
```

我们有它。无需修改`prototype`. `Function`的函数体`async`几乎相同。我们简单[地](http://bonsaiden.github.com/JavaScript-Garden/#function.arguments "传递参数")使用`call.bind`. 您可以亲自观看[现场演示](http://jsfiddle.net/UTutx/1/)。

**奖金：**

您可以使用上述模式创建 errbacks，如下所示（参见[现场演示](http://jsfiddle.net/UTutx/4/)）：

```
function forEach(array, funct, callback, error) {
    if (array.length && !error)
    async(funct, array[0], forEach.bind(null, array.slice(1), funct, callback));
    else async(callback, error || null);
} 
```

这相当于`forEachSeries`caolan的[async](https://github.com/caolan/async#foreachseriesarr-iterator-callback "曹兰/异步")库中的函数，不到10行代码。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-07-26T11:26:42.603

我发现本教程准确地解释了我需要什么。我希望这也会对其他人有所帮助。 [http://nodetuts.com/tutorials/19-asynchronous-iteration-patterns.html#video](http://nodetuts.com/tutorials/19-asynchronous-iteration-patterns.html#video)

# windows-xp - 命令提示符重定向到 Arduino 不起作用

> ID：11008299
> 
> 赞同：2
> 
> 时间：2012-06-13T04:42:11.980
> 
> 标签：windows-xp, serial-port, arduino

我有一个简单的 Arduino 程序，它从串行输入中解析一个 int 并打开一个[螺线管](http://en.wikipedia.org/wiki/Solenoid)。它与 Arduino 串行监视器（旧 Arduino，带 ATmega168的[Diecimila ）完美配合。](http://arduino.cc/en/Main/ArduinoBoardDiecimila)

我的目标是从命令提示符将该数据发送到 Arduino。我已经通过运行确保命令提示符 com 设置正确：

```
mode com7:9600,n,8,1 
```

但是，当我尝试将整数发送给它进行解析时，什么也没有发生，例如：

```
ECHO 2 > COM7 
```

我也尝试过 ECHO '2' > COM7, ECHO "2" > COM7, (ECHO 2) > COM7 以及我能想到的所有其他变体。

*编辑*请注意，我已经使用 Arduino Serial Monitor、[PuTTY](http://en.wikipedia.org/wiki/PuTTY)和[HyperTerminal](http://en.wikipedia.org/wiki/HyperACCESS)进行了尝试。所有这些程序都可以很好地与 Arduino 通信，并且螺线管按预期打开。我还尝试了下面的代码，`Serial.parseInt()`而不是`Serial.read()`在案例编号周围使用单引号和不使用单引号。再一次，在所有情况下，它都适用于上述三个程序，但不适用于命令提示符。

*编辑*这是我正在使用的草图：

```
int incoming;

void setup()
{
    Serial.begin(9600);
    pinMode(2, OUTPUT);
    pinMode(4, OUTPUT);
    pinMode(6, OUTPUT);
    pinMode(8, OUTPUT);
}

void loop()
{
    if (Serial.available > 0)
    {
        incoming = Serial.read();

        switch(incoming)
        {
            case '1':
                digitalWrite(2, HIGH);
                delay(2000);
                degitalWrite(2, LOW);
                break;
            case '2':
                digitalWrite(4, HIGH);
                delay(2000);
                degitalWrite(4, LOW);
                break;
            case '3':
                digitalWrite(6, HIGH);
                delay(2000);
                degitalWrite(6, LOW);
                break;
            case '4':
                digitalWrite(8, HIGH);
                delay(2000);
                degitalWrite(8, LOW);
                break;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T20:34:52.880

想到两件事：

*   你试过`echo 2 > com7:`（注意冒号）吗？

*   Windows 中的行分隔符是两字节序列 CR/LF。也许串行监视器使用另一个监视器，而您的 Arduino 草图不理解 CR/LF。

如果那没有帮助，您应该发布草图或[SSCCE](http://sscce.org)示例。

# jquery - 如何从大框（div）中获取图像的xy坐标=（0,0）？

> ID：11008300
> 
> 赞同：0
> 
> 时间：2012-06-13T04:42:14.727
> 
> 标签：jquery

我有一个问题...我正在使用 Visual Studio 2008...

我想问一下，如何从大框（div）中获取图像=（0,0）的xy坐标？因为当图像被拖到框的末尾时，它会给我 x=8 和 y=8... 而不是 x=0 和 y=0...

请帮我！谢谢你。

这是代码：

```
$('#dragThis').draggable({
    cursor: 'move',
    // sets the cursor apperance
    containment: '#box',
    drag: function() {
        var offset = $(this).offset();
        var xPos = Math.abs(offset.left);
        var yPos = Math.abs(offset.top);
        $('#posX').text('x: ' + xPos);
        $('#posY').text('y: ' + yPos);
    },
    stop: function(event, ui) {

        // Show dropped position.
        var Stoppos = $(this).position();
        var left = Math.abs(Stoppos.left);
        var top = Math.abs(Stoppos.top);
        $('#posX').text('left: ' + left);
        $('#posY').text('top: ' + top);
    }

});​ 
```

这是链接...我所说的框实际上是一个面板。

[http://jsfiddle.net/qx5K7/](http://jsfiddle.net/qx5K7/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T12:42:12.240

你有一个不正确的标签**asp**，[在这里](http://jsfiddle.net/qx5K7/2/)它可以工作

# c++ - LookAt 实施不当行为

> ID：11008303
> 
> 赞同：1
> 
> 时间：2012-06-13T04:42:24.710
> 
> 标签：c++, opengl, rendering, opengl-3, glulookat

我期待着实现一个 LookAt(forward, up) 方法，其中：

```
Vector3 forward = eyePosition - targetPosition;
Vector3 up; 
```

我在网上看到了一些实现，但是分析代码，我发现了潜在的不当行为......

我从最简单到最难列出它们：

1) 如果 UP 是零向量，这将不起作用。

2) 如果 FORWARD 是零向量，这将不起作用。

3) 如果 UP 和 FORWARD 是平行的，这将不起作用。

...

那么..这个方法应该如何正确实现呢？

这是我发现的一个代码示例。

```
/*
 *  gluLookAt.h
 *
 *  This is a modified version of the function of the same name from 
 *  the Mesa3D project ( http://mesa3d.org/ ), which is  licensed
 *  under the MIT license, which allows use, modification, and 
 *  redistribution
 *
 *  In order to work under OpenGL ES, all instances of GLdouble
 *  had to be changed to GLfloat, and all "d" function calls had
 *  to be changed to the "f" versions.
 *
 *  Original developer's comments have been left in place.
 *
 *  Out of respect for the original authors, this is licensed under
 *  the Mesa (MIT) license. Original license follows:
 *  
 *  -----------------------------------------------------------------------
 *
 *  Copyright (C) 1999-2007  Brian Paul   All Rights Reserved.
 *  
 *  Permission is hereby granted, free of charge, to any person obtaining a
 *  copy of this software and associated documentation files (the "Software"),
 *  to deal in the Software without restriction, including without limitation
 *  the rights to use, copy, modify, merge, publish, distribute, sublicense,
 *  and/or sell copies of the Software, and to permit persons to whom the
 *  Software is furnished to do so, subject to the following conditions:
 *  
 *  The above copyright notice and this permission notice shall be included
 *  in all copies or substantial portions of the Software.

 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 *  BRIAN PAUL BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN
 *  AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 *  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 */
#import <Foundation/Foundation.h>
#import <OpenGLES/EAGL.h>
#import <OpenGLES/ES1/gl.h>
#import <OpenGLES/ES1/glext.h>

void gluLookAt(GLfloat eyex, GLfloat eyey, GLfloat eyez,
          GLfloat centerx, GLfloat centery, GLfloat centerz,
          GLfloat upx, GLfloat upy, GLfloat upz);

gluLookAt.m
/*
 *  gluLookAt.c
 */

#include "gluLookAt.h"

void gluLookAt(GLfloat eyex, GLfloat eyey, GLfloat eyez,
          GLfloat centerx, GLfloat centery, GLfloat centerz,
          GLfloat upx, GLfloat upy, GLfloat upz)
{
    GLfloat m[16];
    GLfloat x[3], y[3], z[3];
    GLfloat mag;

    /* Make rotation matrix */

    /* Z vector */
    z[0] = eyex - centerx;
    z[1] = eyey - centery;
    z[2] = eyez - centerz;
    mag = sqrt(z[0] * z[0] + z[1] * z[1] + z[2] * z[2]);
    if (mag) {          /* mpichler, 19950515 */
        z[0] /= mag;
        z[1] /= mag;
        z[2] /= mag;
    }

    /* Y vector */
    y[0] = upx;
    y[1] = upy;
    y[2] = upz;

    /* X vector = Y cross Z */
    x[0] = y[1] * z[2] - y[2] * z[1];
    x[1] = -y[0] * z[2] + y[2] * z[0];
    x[2] = y[0] * z[1] - y[1] * z[0];

    /* Recompute Y = Z cross X */
    y[0] = z[1] * x[2] - z[2] * x[1];
    y[1] = -z[0] * x[2] + z[2] * x[0];
    y[2] = z[0] * x[1] - z[1] * x[0];

    /* mpichler, 19950515 */
    /* cross product gives area of parallelogram, which is < 1.0 for
     * non-perpendicular unit-length vectors; so normalize x, y here
     */

    mag = sqrt(x[0] * x[0] + x[1] * x[1] + x[2] * x[2]);
    if (mag) {
        x[0] /= mag;
        x[1] /= mag;
        x[2] /= mag;
    }

    mag = sqrt(y[0] * y[0] + y[1] * y[1] + y[2] * y[2]);
    if (mag) {
        y[0] /= mag;
        y[1] /= mag;
        y[2] /= mag;
    }

#define M(row,col)  m[col*4+row]
    M(0, 0) = x[0];
    M(0, 1) = x[1];
    M(0, 2) = x[2];
    M(0, 3) = 0.0;
    M(1, 0) = y[0];
    M(1, 1) = y[1];
    M(1, 2) = y[2];
    M(1, 3) = 0.0;
    M(2, 0) = z[0];
    M(2, 1) = z[1];
    M(2, 2) = z[2];
    M(2, 3) = 0.0;
    M(3, 0) = 0.0;
    M(3, 1) = 0.0;
    M(3, 2) = 0.0;
    M(3, 3) = 1.0;
#undef M
    glMultMatrixf(m);

    /* Translate Eye to Origin */
    glTranslatef(-eyex, -eyey, -eyez);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T07:02:14.240

好的..我刚刚想出了一个解决这个问题的想法。我还没有测试它，甚至还没有编码它，但我分享了讨论它的想法，我感谢你的意见！

伪代码：（使用列主矩阵和右手坐标系）

```
// transformation matrix (column major)
float matrix[16];

void crossProduct( const flaot a[3], const float b[3], float result[3] ) {
    result[0] = a[1] * b[2] - a[2] * b[1];
    result[1] = -a[0] * b[2] + a[2] * b[0];
    result[2] = a[0] * b[1] - a[1] * b[0];
} 

void LookAt( float forward[3], float up[3] ) {
    // get forward length
    int length = sqrt( forward[0] * forward[0] + forward[1] * forward[1] + forward[2] * forward[2] );
    // if not zero, normalize it
    if ( length ) {
        forward[0] /= length;
        forward[1] /= length;
        forward[2] /= length;
    } else {
        // get last forward direction
        forward[0] = matrix[8];
        forward[1] = matrix[9];
        forward[2] = matrix[10];
    }

    // get up length
    length = sqrt( up[0] * up[0] + up[1] * up[1] + up[2] * up[2] );
    // if not zero, normalize it
    if ( length ) {
        up[0] /= length;
        up[1] /= length;
        up[2] /= length;
    } else {
        // get last up direction
        up[0] = matrix[4];
        up[1] = matrix[5];
        up[2] = matrix[6];
    }

    float left[3];
    crossProduct( up, forward, left);
    // if cross product is zero, forward and up are parallels. get last left direction
    if ( left[0]==0 && left[1]==0 && left[2]==0 ) {
        left[0] = matrix[0];
        left[1] = matrix[1];
        left[2] = matrix[2];
    }

    // recalculate orthogonal up
    crossProduct( forward, left, up );

    // update matrix values
    matrix[0] = left[0];
    matrix[1] = left[1];
    matrix[2] = left[2];
    matrix[3] = 0;
    matrix[4] = up[0];
    matrix[5] = up[1];
    matrix[6] = up[2];
    matrix[7] = 0;
    matrix[8] = forward[0];
    matrix[9] = forward[1];
    matrix[10] = forward[2];
    matrix[11] = 0;
    matrix[12] = 0;
    matrix[13] = 0;
    matrix[14] = 0;
    matrix[15] = 1;
} 
```

# opencl - 需要在 OpenCL 内核中检查 get_global_id 吗？

> ID：11008305
> 
> 赞同：4
> 
> 时间：2012-06-13T04:42:26.537
> 
> 标签：opencl

我注意到许多看起来像这样的内核源代码（通过谷歌搜索随机找到）：

```
__kernel void fill(__global float* array, unsigned int arrayLength, float val)
{
    if(get_global_id(0) < arrayLength)
    {
        array[get_global_id(0)] = val;
    }
} 
```

我的问题是 if 语句是否真的必要（假设此示例中的“arrayLength”与全局工作大小相同）。

在我见过的一些更“专业”的内核中，它*并不*存在。在我看来，硬件最好不要将内核分配给无意义的坐标。

但是，我也知道处理器是分组工作的。因此，我可以想象一个组的某些处理器必须什么都不做（例如，如果您有 1 个大小为 16 的组，工作大小为 41，那么该组将处理前 16 个工作项，然后是下一个 16，然后接下来的 9 个，有 7 个处理器什么都不做——他们得到虚拟内核吗？）。

我检查了[规格。](http://www.khronos.org/registry/cl/specs/opencl-1.1.pdf)，并且唯一相关提及的“get_global_id”与在线文档相同，内容如下：

```
 The global work-item ID specifies the work-item ID based on the number of global work-items specified to execute the kernel. 
```

. . . 依据*如何*？

那是什么？如果数组的大小是工作组大小的倍数，那么省略是否安全？什么？

谢谢，
伊恩

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T20:19:24.907

我想你已经有了正确的答案。如果你的内核执行的全局大小与数组长度相同，那么这个`if`语句是没有用的。

通常，只有在您对数据进行分区的情况下才需要这种类型的检查，您*知道*您可能会执行相对于数组大小的额外工作项。根据我的经验，您几乎总是可以避免这种情况。

# c# - 无法插入数据库

> ID：11008310
> 
> 赞同：1
> 
> 时间：2012-06-13T04:43:15.133
> 
> 标签：c#, asp.net, sql, sql-server, ado.net

我收到错误消息：

> 异常详细信息：System.Data.SqlClient.SqlException：关键字“desc”附近的语法不正确。

任何人都可以帮我解决问题吗？

```
if (IsPost && Validation.IsValid())
{
    name = Request.Form["name"];
    price = Request.Form["price"];
    desc = Request.Form["desc"];

    var db = Database.Open("mystring");
    var insertCommand = "INSERT INTO CarBike (name,image,price,desc,date,userid) VALUES(@0,@1,@2,@3,@4,@5)";
    db.Execute(insertCommand, name, image, price, desc, date, userid);
    Response.Redirect("~/Members");
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-13T04:45:51.740

问题是*desc*是 SQL 中的关键字，因此您需要使用方括号编写该列：

```
var insertCommand = "INSERT INTO CarBike (name,image,price,[desc],date,userid) VALUES(@0,@1,@2,@3,@4,@5)"; 
```

# apache-flex - 如何将 TLF 3.0 集成到现有的 Flex 4 或更高版本的应用程序中？

> ID：11008312
> 
> 赞同：2
> 
> 时间：2012-06-13T04:43:30.960
> 
> 标签：apache-flex

使用 Flex Builder 4.6.1 代码应用程序完成的步骤。

1.  在 Flex Builder 4.6.1 (Adobe Flash Builder 4.6\sdks\4.6.0\frameworks\libs) 中替换了 3.0 TLF
2.  将 textLayout.swc 添加到项目目录的 libs 文件夹中。
3.  清理整个项目并复制主应用程序的 .swf 文件并粘贴到服务器目录中。
4.  它显示空白页，有时它显示错误# 2032

请指导我使其工作。

# java - 在写入文件之前格式化 JSON

> ID：11008313
> 
> 赞同：7
> 
> 时间：2012-06-13T04:43:40.577
> 
> 标签：java, json, jackson

目前我正在使用[Jackson JSON 处理器](https://web.archive.org/web/20150315020718/http://jackson.codehaus.org/)将偏好数据和诸如此类的文件写入文件，主要是因为我希望高级用户能够修改/备份这些数据。Jackson 对此非常棒，因为它非常易于使用，而且显然表现不错（见[这里](http://code.google.com/p/thrift-protobuf-compare/wiki/Benchmarking)），但是我似乎遇到的唯一问题是当我运行`myObjectMapper.writeValue(myFile, myJsonObjectNode)`它时，它会将所有数据写入`ObjectNode`一行。我想做的是将 JSON 格式化为更用户友好的格式。

例如，如果我将一个简单的 json 树传递给它，它将编写以下内容：

```
{"testArray":[1,2,3,{"testObject":true}], "anotherObject":{"A":"b","C":"d"}, "string1":"i'm a string", "int1": 5092348315} 
```

我希望它在文件中显示为：

```
{
    "testArray": [
        1,
        2,
        3,
        {
            "testObject": true
        }
    ],
    "anotherObject": {
        "A": "b",
        "C": "d"
    },
    "string1": "i'm a string",
    "int1": 5092348315
} 
```

有谁知道我可以用杰克逊做到这一点，还是我必须从杰克逊那里得到 JSON 字符串并使用另一个第三方库来格式化它？

提前致谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T04:56:05.720

尝试像这样创建对象编写器

```
 ObjectWriter writer = mapper.defaultPrettyPrintingWriter(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-14T13:11:59.670

您需要预先配置映射器，如下所示：

```
ObjectMapper mapper = new ObjectMapper();
mapper.configure(SerializationConfig.Feature.INDENT_OUTPUT, true);
mapper.writeValue(myFile, myJsonObjectNode); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-09-03T06:30:28.003

根据上面提到的评论，这对我很有用，

```
 Object json = mapper.readValue(content, Object.class);
     mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json); 
```

内容是您的**JSON**字符串响应

杰克逊版本：2.12

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-10-30T09:55:46.823

要在 Jackson 2.0.2 及更高版本中启用标准缩进，请使用以下命令：

```
ObjectMapper myObjectMapper = new ObjectMapper();
myObjectMapper.enable(SerializationFeature.INDENT_OUTPUT);
myObjectMapper.writeValue(myFile, myJsonObjectNode) 
```

> 来源：[https ://github.com/FasterXML/jackson-databind](https://github.com/FasterXML/jackson-databind)

# php - 在array_map中使用不同类的回调函数--PHP

> ID：11008314
> 
> 赞同：0
> 
> 时间：2012-06-13T04:43:52.243
> 
> 标签：php, array-map

> **可能重复：**
> [设置array_map php的范围](https://stackoverflow.com/questions/2329483/setting-scope-of-array-map-php)

我在一个名为 customExceptions 的类中有一个名为 cube1() 的函数。在另一个 PHP 脚本中，我需要使用 array_map()，而对于回调函数，我想使用 customExceptions 类中的 cube1() 函数。这样做的语法是什么？这似乎是一个非常基本的问题，但我找不到一个简单直接的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T08:48:00.773

```
<?php

class customExceptions{    
    static public function cube1($i){
        return $i*$i*$i;
    }
}

$arr = array(1,2,3,4);
print_r($arr);
$arr2 = array_map(array('customExceptions', 'cube1'), $arr);
print_r($arr2);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T04:46:20.397

这不应该工作吗？

```
customExceptions::cube1(array_map()); 
```

# git - Git：有没有办法查看对文件特定部分所做的更改？

> ID：11008318
> 
> 赞同：1
> 
> 时间：2012-06-13T04:44:36.450
> 
> 标签：git, version-control, history, git-log

用例：

我发现一段我根本看不懂的代码。我想找到编写此代码的时间上下文，以及这部分代码经历的所有更改。

基本上查找此文件的历史记录，但仅查找与 [第 34 行至第 38 行（例如）] 相交的历史记录部分。

`git log -p <file> | grep <some snippet matching mysterious code>`是否有一个比然后返回`log -p`输出查看差异中的上下文更有用的命令。

可悲的是，在查看*自己编写的代码*时，我经常发现需要这种功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T04:46:11.763

`git blame <path to file>`将为您提供带有上下文的提交列表（在该文件中的该提交点完成的更改）。阅读`git help blame`它拥有的所有力量。

然后您可以使用`git show <commit>:<path>`在该提交点查看整个文件或`git diff <commit> <commit> -- <path>`查看差异

# android - 第一次 HTTP POST 和 GET 尝试总是很慢 - 这是操作系统相关还是网络？

> ID：11008319
> 
> 赞同：6
> 
> 时间：2012-06-13T04:44:51.020
> 
> 标签：android, http, networking, http-post, http-get

我现在才刚刚开始涉足 HTTP。我一直在使用 GET 和 POST 来计时简单的 HTTP 请求。我使用的网页是 3 行 php 检查正确的 $_GET[] 和 $_POST[] 然后简单地回显字符“1”。我使用具有相同的单个短名称/值对的 POST 和 GET，希望不需要数据包碎片来搞砸事情，所有这些都是在脱离 UI 线程的线程上完成的。这些请求在计时时会在电话上循环几次。一切正常。（见下面的代码）也就是说，我得到了“1”的响应。但存在一个持续存在的时间问题。我观察到的是：

1.  在第一次尝试中发出请求的时间比在 GET 和 POST 方法中的后续尝试要长得多。

2.  其余的尝试对两者来说总是快得多。

3.  GET 总是比 POST 快。

所有这些都适用于 3G 和 Wifi 连接（但总体而言，Wifi 速度比预期的要快得多）。

我已经用 BasicResponseHandler() 和更多的手动缓冲 IO 流方法进行了尝试，结果相同。

我相信我理解 3\. 因为 POST 需要两次传输，一次用于“HTTP 100”返回，然后是数据包主体。- 这个对吗？

我的主要问题是第一次请求尝试如此缓慢时发生了什么？有时需要几秒钟（！）。是网络阻止了事情还是Android将其放入了某种套接字创建队列？如果是 Android，有没有办法更正确地编码并避免这种情况？是否有一些关于保持套接字打开以使这个问题在执行期间仅出现一次？如果是这样，这样做是个好习惯吗？诚然，我对此一无所知。

我已经找到了一些关于这个的讨论，但没有一个直接触及这个方面。

--

GET 和 POST 方法的基本代码如下所示（减去 try/catch），并且在 UI 之外的线程中执行，首先是 GET 方法，然后是 POST 方法：（下面的输出）

获取其中的一部分：

```
public String[] HTTPGETIt(int numrounds)
{
 HttpClient httpclient = new DefaultHttpClient();
 httpclient.getParams().setParameter (CoreProtocolPNames.PROTOCOL_VERSION,HttpVersion.HTTP_1_1); 
 HttpGet GETRequest = new HttpGet("http://mypage.com/epoch.php?mynameis=tam");
 ResponseHandler <String> MyBRH = new BasicResponseHandler();
 String[] GETResult = new String[numrounds];

 int i = 0;
 long timestart, DT;
 while(i < numrounds)
 {
  timestart = System.currentTimeMillis();
  GETResult[i] = httpclient.execute(GETRequest, MyBRH);
  DT = System.currentTimeMillis() - timestart;
  Log.d(TAG, "(" + i + ") GET-Round Trip was "+ DT + " ms.");
  i++;
 }//while i <= numrounds
 httpclient.getConnectionManager().shutdown();
 return GETResult;
} //END HTTPGETIt 
```

和 POST 版本：

```
public String[] HTTPPOSTIt(int numrounds)
{
 String Place = "HTTPPostping";
 HttpClient httpclient = new DefaultHttpClient();
 httpclient.getParams().setParameter(CoreProtocolPNames.PROTOCOL_VERSION,HttpVersion.HTTP_1_1); 
 HttpPost PostRequest = new HttpPost("http://mypage.com/epoch.php");
 ResponseHandler <String> MyBRH = new BasicResponseHandler();
 String[] POSTResult = new String[numrounds];

 List<NameValuePair> MynameValuePairs = new ArrayList<NameValuePair>(2);
 MynameValuePairs.add(new BasicNameValuePair("mynameis", "tam"));

 PostRequest.setEntity(new UrlEncodedFormEntity(MynameValuePairs));

 int i = 0;
 long timestart, DT;
 while(i < numrounds)
 {
  timestart = System.currentTimeMillis();
  POSTResult[i] = httpclient.execute(PostRequest, MyBRH);
  DT = System.currentTimeMillis() - timestart;
  Log.d(TAG, "(" + i + ") POST-Round Trip was "+ DT + " ms.");
  i++;
 }//while i <= numrounds
 httpclient.getConnectionManager().shutdown();
 return POSTResult;
} // END HTTPPOSTIt 
```

这些被调用：

```
Runnable HTTPGETJob = new HTTPGETTask(NS);
Thread HTTPGETThread = new Thread(HTTPGETJob, "HTTPGETThread");
HTTPGETThread.setPriority(Thread.MAX_PRIORITY);
HTTPGETThread.start(); 
```

和：

```
Runnable HTTPPOSTJob = new HTTPPOSTTask(NS);
Thread HTTPPOSTThread = new Thread(HTTPPOSTJob, "HTTPPOSTThread");
HTTPPOSTThread.setPriority(Thread.MAX_PRIORITY);
HTTPPOSTThread.start(); 
```

使用可运行文件：

```
class HTTPGETTask implements Runnable
{
 int numtimes;
 DeviceInfo tsrtDI;
 HTTPGETTask(int inNS) {
  this.numtimes = inNS;
 }

 @Override
 public void run() 
 {
  long [] TT2NS = new long[numtimes];
  TT2NS = HTTPGETIt(numtimes);
 }
}; 
```

和，

```
class HTTPPOSTTask implements Runnable
{
 int numtimes;
 DeviceInfo tsrtDI;
 HTTPPOSTTask(int inNS) {
  this.numtimes = inNS;
 }

 @Override
 public void run() 
 {
  long [] TT2NS = new long[numtimes];
  TT2NS = HTTPPOSTIt(numtimes);
 }
}; 
```

输出通常是：

(0) GET-Round Trip 为 368 毫秒。

(1) GET-Round Trip 为 103 毫秒。

(2) GET-Round Trip 为 98 毫秒。

(3) GET-Round Trip 为 106 毫秒。

(4) GET-Round Trip 为 102 毫秒。

(0) POST-Round Trip 为 1289 毫秒。

(1) POST-Round Trip 为 567 毫秒。

(2) POST-Round Trip 为 589 毫秒。

(3) POST-Round Trip 为 496 毫秒。

(4) POST-Round Trip 为 557 毫秒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:06:41.987

我会坚持你设置`Protocol Version`为`HTTP 1.1`并试一试。它会比现在增加请求/响应时间。不过我没试过，只是得到了信息。因此，您可以在执行请求之前尝试以下操作。

```
httpclient.getParams().setParameter(CoreProtocolPNames.PROTOCOL_VERSION, 
                                                        HttpVersion.HTTP_1_1); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:20:39.937

我同意 Lalit Poptani 的回答，这可能有助于加快通话速度，因为 HTTP 1.1 保持连接并且每次都不会握手。

但同时，我想说这不是 Android 特有的问题，几乎每个平台和每种语言都会发生同样的事情，因为当您第一次进行任何 http 调用时，平台需要创建和设置不同的对象为它分配值以执行调用，并保留在那里，因此当您进行新调用时，可以节省创建和分配对象的时间，因此您可以获得更快的响应。

这些对象是哪些？- 在上面的几行中说：我没有任何非常清晰的列表，但它们就像代理设置，缓存内存。

* * *

再等一会儿，直到有人对此有深入的技术知识并解释了所有东西是如何工作的。

# perl - Perl 找不到 Tie/File/AsHash.pm

> ID：11008331
> 
> 赞同：1
> 
> 时间：2012-06-13T04:46:18.160
> 
> 标签：perl

我有一个代码

```
use Tie::File::AsHash;
tie %sets, 'Tie::File::AsHash', '.\\main\\old_names.txt',  split => '\+' or die "Problem trying to %hash: $!"; 
```

我得到了错误：

```
Can't locate Tie/File/AsHash.pm in @INC <@INC contains: C:/strawberry/perl/site/lib C:/strawberry/perl/vendor/lib C:/strawberry/perl/lib .> at C:\Users\user\Desktop\test.pl line 97 (which is the second line I posted)

BEGIN failed--compilation aborted at line 97. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:50:55.580

这通常表明该模块未安装。通常按如下方式安装模块：

```
cpan Tie::File::AsHash 
```

# r - 如何将数据框列传递给列向量以用于回归模型的 RHS？

> ID：11008333
> 
> 赞同：2
> 
> 时间：2012-06-13T04:46:26.973
> 
> 标签：r, formula, names

我在数据框 Data1 中有一个 100 列的列表。这些变量之一是因变量。其他都是预测者。

我需要将 99 个预测变量提取到一列（例如`varlist`）中以用于下面的等式

```
equation <- as.formula(paste('y', "~", paste(varlist, collapse="+"),collapse="")) 
```

我可以`dput`在数据框上使用来提取所有列，但我无法从列表中删除因变量 y：

```
Varlist <- dput(names(Data1)) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T05:04:35.243

走不同的路线会更合适。如果您想在数据框中包含除响应变量之外的所有其他变量，您可以使用它`y ~ .`来指定它。

```
fakedata <- as.data.frame(matrix(rnorm(100000), ncol = 100))
names(fakedata)[1] <- "y"

o <- lm(y ~ ., data = fakedata) 
```

这使用 fakedata 中的 99 个其他列作为预测变量和“y”作为响应来拟合回归并将其存储到“o”中

* * *

编辑：如果要排除某些变量，可以从数据集中排除这些变量。下面从第 100 列删除第 10 列，在第 2-9 列留下 y 回归

```
o <- lm(y ~ ., data = fakedata[,-(10:100)]) 
```

# python - 使用用户名和密码时出现 Rabbitmq 连接问题

> ID：11008337
> 
> 赞同：2
> 
> 时间：2012-06-13T04:47:24.820
> 
> 标签：python, rabbitmq, celery

我正在尝试通过rabbitmq开始一些后台处理，但是当我发送请求时，我在rabbitmq日志中得到以下错误。但是，我认为我提供了正确的凭据，因为我的 celery 作品能够使用相同的用户名/密码组合连接到 rabbitmq 服务器。

> ```
> =错误报告==== 2012 年 6 月 12 日::20:50:29 ===
> 来自 127.0.0.1:41708 的 TCP 连接异常
> {channel0_error，开始，
>                 {amqp_error,access_refused,
>                             “AMQPLAIN 登录被拒绝：用户 'guest' - 无效凭据”，
>                             'connection.start_ok'}}
> ```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-04T23:29:40.780

在 amqp 协议中调试权限问题的最佳方法是查看请求：

```
transport://userid:password@hostname:port/virtual_host

```

来自[http://docs.celeryproject.org/en/latest/configuration.html#conf-broker-settings](http://docs.celeryproject.org/en/latest/configuration.html#conf-broker-settings)

# c# - 执行 Facebook C# SDK GET 操作时无法创建安全 SSL/TLS 通道错误

> ID：11008343
> 
> 赞同：1
> 
> 时间：2012-06-13T04:47:39.233
> 
> 标签：c#, .net, https, facebook-c#-sdk, facebook-javascript-sdk

在 Windows 7/IIS7.5 上本地测试代码后，我们已将此代码部署到 Windows 2003/IIS6 生产环境并收到可怕的“请求中止：无法创建 SSL/TLS 安全通道”错误。

我已经添加了所有可能的 ServicePointManager 代码行，但无济于事：

> ServicePointManager.UseNagleAlgorithm = true; ServicePointManager.Expect100Continue = true; ServicePointManager.CheckCertificateRevocationList = true; ServicePointManager.DefaultConnectionLimit = ServicePointManager.DefaultPersistentConnectionLimit; ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3; ServicePointManager.ServerCertificateValidationCallback = 委托 { 返回真；};

这一切都是在使用最新的 Facebook C# SDK 并尝试执行 GET 操作时发生的。

通过跟踪，我可以看到 Facebook 令牌正在正确传递，但无法弄清楚其他任何事情。

有任何想法吗？我已经尝试了所有我能找到的解决方案，但似乎无法找出任何可行的方法。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T07:54:14.933

用 graph.beta.facebook.com 替换对 graph.facebook.com 的调用，您将再次运行它为我们工作。希望 Facebook 能尽快解决这个问题。

# ios - iOS 5 UISplitViewController 不调用 ShouldHideViewController

> ID：11008346
> 
> 赞同：1
> 
> 时间：2012-06-13T04:47:47.817
> 
> 标签：ios, xamarin.ios, uisplitviewcontroller

我正在使用 MonoDevelop 3.0.3 和 Monotouch 5.2.12

为什么在 iOS 5.1 中从未调用过“UISplitViewController”类中的“ShouldHideViewController”？

如果我没有分配“ShouldHideViewController”和“将显示/隐藏”属性，左/主视图会正确显示，但我无法在主视图（viewFees）中隐藏/显示“BarButtonItem”。

以下是我的拆分视图类代码：

```
using System;
using MonoTouch.UIKit;

namespace PlazaTimePad 
{
  public class FeesSplitViewController : UISplitViewController
  {
    CalendarMonthViewController viewCalendar;
    FeeListViewController viewFees;

    public FeesSplitViewController () : base()
    {
      this.TabBarItem.Title = "My Time"; 
      viewFees = new FeeListViewController ();
      viewCalendar = new CalendarMonthViewController (viewFees);

      ViewControllers = new UIViewController[] {viewCalendar, viewFees};

      WillHideViewController += (object sender, UISplitViewHideEventArgs e) => {
        viewFees.AddContentsButton (e.BarButtonItem);
      };

      WillShowViewController += (object sender, UISplitViewShowEventArgs e) => {
        viewFees.RemoveContentsButton ();
      };

      ShouldHideViewController += (svc, viewController, inOrientation) => {
        return inOrientation == UIInterfaceOrientation.Portrait || 
               inOrientation == UIInterfaceOrientation.PortraitUpsideDown;
      };
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T12:24:55.393

我认为你应该重写`WillRotate`或者`DidRotate`你正在尝试做的事情。

这是链接：

[http://docs.go-mono.com/index.aspx?link=M%3AMonoTouch.UIKit.UIViewController.WillRotate(MonoTouch.UIKit.UIInterfaceOrientation%2CSystem.Double](http://docs.go-mono.com/index.aspx?link=M%3AMonoTouch.UIKit.UIViewController.WillRotate(MonoTouch.UIKit.UIInterfaceOrientation%2CSystem.Double) )

[http://iosapi.xamarin.com/index.aspx?link=M%3AMonoTouch.UIKit.UIViewController.DidRotate(MonoTouch.UIKit.UIInterfaceOrientation](http://iosapi.xamarin.com/index.aspx?link=M%3AMonoTouch.UIKit.UIViewController.DidRotate(MonoTouch.UIKit.UIInterfaceOrientation) )

如果您使用本机帮助浏览器（帮助菜单 -> 帮助）浏览这些文档，您将获得与 C# 集成的完整 Apple 文档。

# php - .htaccess 页面名称前的隐藏参数

> ID：11008351
> 
> 赞同：0
> 
> 时间：2012-06-13T04:48:26.790
> 
> 标签：php, apache, .htaccess, mod-rewrite

我正在尝试重写网址，例如：

```
http://www.domain.com/contact?language=en
http://www.domain.com/?language=en 
```

至：

```
http://www.domain.com/en/contact
http://www.domain.com/en/ 
```

使用：

```
RewriteRule ^([^/]*)/([^/]+)/?$ $2/index.php?language=$1 [QSA,L] 
```

我不确定为什么这不起作用！？

**编辑**

我将规则更改为：

```
RewriteRule ^([^/]*)/([^/]*)/?$ $2/?language=$1 [QSA,L] 
```

这不会像上面的旧规则那样给出 URL 错误。但是，它不会转到指定的目录

```
http://www.domain.com/en/contact <- stays at the / (root) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T16:08:20.200

```
RewriteEngine On
RewriteBase /
RewriteRule ^(en|fr|de|nl)/(.*)$ /$2?language=$1 [QSA,L] 
```

# android - Android：我们如何解析 opml 字符串

> ID：11008365
> 
> 赞同：1
> 
> 时间：2012-06-13T04:50:44.670
> 
> 标签：android, parsing, opml

> **可能重复：**
> [Android：我们如何从 xml 字符串的属性中获取值](https://stackoverflow.com/questions/10990767/android-how-we-can-get-the-value-from-attribute-from-xml-string)

我有以下字符串。我想解析`attribute of outline`.

```
<opml version="1">
<head>
<status>200</status>
</head>
<body>
<outline type="text" text="General" guide_id="f1" is_default="true"/>
<outline type="text" text="Rock Stations" guide_id="f2"/>
<outline type="text" text="Rock Stations" guide_id="f3"/>
<outline type="text" text="Rock" guide_id="f4"/>
<outline type="text" text="Awdhesh" guide_id="f5"/>
</body>
</opml> 
```

我如何解析属性并获取 and 的`text`值`guide_id`。我可以使用哪个解析器来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:08:55.120

为此使用 Dom Parser，下面是 Dom Parser 示例的链接。

[DOM解析](http://www.androidpeople.com/android-xml-parsing-tutorial-%E2%80%93-using-domparser)

# c# - 寻找创建地址控制 C# 的指导

> ID：11008366
> 
> 赞同：0
> 
> 时间：2012-06-13T04:50:55.230
> 
> 标签：c#

我正在寻找一个应用程序来查询地址信息（第一个、最后一个、地址、城市、州、邮编）。您可以在任何应用程序中使用的自定义地址窗口控件。此控件需要验证邮政编码并且所有字段均已正确填写。我正在寻找一些可以提供帮助的教程或有关如何创建此类控件的任何指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:14:30.377

您应该考虑创建一个地址模型类来定义您正在收集的数据。类的各个属性可以绑定到用户控件 gui 中控件的值。

此类可以实现[INotifyPropertyChanged](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.aspx)和[IDataErrorInfo](http://msdn.microsoft.com/en-us/library/system.componentmodel.idataerrorinfo.aspx)接口，以帮助它与 Windows 窗体数据绑定组件进行交互。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:15:33.340

像@Francesco 建议创建一个用户控件。它本质上是一个**复合**或**复合**控件。对于地址，您可以添加所需的文本和标签控件以及验证它们的逻辑。然后，您可以跨项目重用它。

像这样在你的 windows 窗体项目中添加一个类：

```
public class AddressForm : UserControl
{
 //excluding this causes probs with VS designer sometimes.
 public AddressForm() : base() 
 {
 }
} 
```

构建您的项目，您会注意到 Visual Studio 中的文件图标发生了变化，当您双击它时，您可以通过在其上添加简单的控件来设计控件。

确保在进行任何更改后进行构建，并且在设计表单时还应该看到更新的工具箱。`AddressForm`将显示在那里，您可以将其拖动并添加到表单上。它现在可以正式重复使用。

有关更多信息，请参阅[UserControls 上的 msdn](http://msdn.microsoft.com/en-us/library/system.windows.forms.usercontrol.aspx)。尝试运行他们的客户表单示例（在同一页面上），您应该有一个好主意。

# java - 垃圾收集过程在java中定期完成吗？

> ID：11008367
> 
> 赞同：1
> 
> 时间：2012-06-13T04:50:55.420
> 
> 标签：java, garbage-collection, jvm

垃圾回收识别不再被任何变量引用的对象，然后回收对象占用的内存。

我不知道这个过程是定期完成还是对象引用计数下降到零时完成。

假设，如果当对象引用计数降至零时 GC 立即工作，则无需通过调用 System.GC() 来请求 GC；那么，在这种情况下，此方法的目的是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T04:54:26.790

GC 既不会定期进行，也不会在对象引用计数降至零时立即进行（注意：大多数 JVM 实现不使用引用计数算法，因此最后一点没有实际意义）。

GC 何时运行由垃圾收集算法决定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:01:48.970

这是由垃圾收集算法决定的。即使有像`System.gc ()`和`Runtime.gc ()`这样的方法用于向JVM发送垃圾收集请求，**但不能保证垃圾收集会发生。**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T06:53:55.110

当您调用 时`System.gc()`，您会告诉垃圾收集器进行清理。问题是尚不清楚何时`GC`会响应您的请求。更重要的是，`GC`当您调用它时，它可能根本不运行。**在 java 中，您无法预测`GC`将如何工作**。（这就是为什么将清理代码放在`Object`'`finalize()`方法中被认为是不好的做法的原因）。在`Java`中，引用对象外的对象会被自动收集为垃圾。这就是为什么您不需要调用`System.gc()`. 在特殊情况下，当您想尽可能运行它时，您可以尝试使用此方法，但不能保证行为。（如上所述）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-19T16:09:01.003

大多数现代 JVM 使用“stop-the-world”垃圾收集器，即停止程序中所有应用程序线程的垃圾收集器，执行垃圾收集，然后恢复应用程序线程。这意味着在进行垃圾收集之前，应用程序中的所有线程都应该达到可以安全停止线程的点。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-13T04:55:10.373

如果一个对象无法从任何活动线程或任何静态引用中访问，则该对象有资格进行垃圾收集或 GC，换句话说，如果一个对象的所有引用都为空，则您可以说该对象有资格进行垃圾收集。循环依赖不计为引用，因此如果对象 A 具有对象 B 的引用并且对象 B 具有对象 A 的引用并且它们没有任何其他实时引用，则对象 A 和 B 都将有资格进行垃圾收集。通常，在以下情况下，对象符合 Java 中的垃圾回收条件：
1) 该对象的所有引用显式设置为 null，例如 object = null
2) 在块内创建对象，一旦控制退出该块，引用就会超出范围。
3) 父对象设置为空，如果一个对象持有另一个对象的引用，并且当您将容器对象的引用设置为空时，子对象或包含的对象自动成为垃圾回收的条件。
4) 如果一个对象只有通过 WeakHashMap 的实时引用，它将有资格进行垃圾收集。

有 System.gc() 和 Runtime.gc() 等方法用于向 JVM 发送垃圾收集请求，但不能保证垃圾收集会发生。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-13T06:43:53.567

有两个答案：

1.  JVM 规范、JLS 或任何其他明确的 Java 文档都没有指定垃圾收集器何时运行。因此，它是特定于实现的。

2.  在实践中，通常使用几种不同的策略。对于非并发收集器，当尝试分配失败时触发 GC，因为没有足够的未分配空间。对于并发收集器，当可用空间量低于预定阈值时开始收集。（对于 HotSpot 并发 GC，阈值比率是一个可调参数。）

没有现代 Java GC 使用引用计数。

的目的`System.gc()`是允许应用程序向 JVM*提示*“现​​在是运行垃圾收集器的好时机”。JVM 可以忽略该提示。作为一般规则，以这种方式触发 GC 在 CPU 使用率方面是低效的。在生产代码中这样做的唯一正当理由是为了避免在高度交互的应用程序中出现 GC 暂停。（当您知道不需要交互性时，您会尝试强制 GC；例如，在游戏中的“关卡”之间。）

# android - 在android中为HTTP请求标头添加接受编码gzip会更好吗？

> ID：11008370
> 
> 赞同：0
> 
> 时间：2012-06-13T04:51:04.660
> 
> 标签：android, http-headers

`"Accept-Encoding", "gzip"`只是想知道在 android 中发出 HTTP 请求时在请求标头中是否更好？

如果不是，那么在哪些情况下它不是可取的？它还可以用于返回 XML 或 JSON 作为响应的请求吗？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T04:59:43.253

gzip 编码用于减少通过网络传输的数据的大小。它将它压缩成一个 zip 文件，并为您提供一个更小的压缩版本，从而减少带宽的使用，并使程序更快。所以我想说添加标签并没有什么坏处，因为在大多数情况下`"gzip"`它肯定会加快这个过程。`get`您可能应该看看的一个好网站： [这是](http://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/)

是的。它可以与xml一起使用。

**其中一些问题是**

*   大多数图像已经高度压缩，无法进一步压缩。
*   一些较旧的版本存在压缩问题，但这对您来说应该不是问题。

# ios - 通过 facebook 登录到其他网站 - IPHONE

> ID：11008371
> 
> 赞同：1
> 
> 时间：2012-06-13T04:51:05.653
> 
> 标签：ios, facebook, login

我有一个应用程序，我需要通过 facebook、twitter 和网站自己的登录名登录网站。

我不太确定如何通过 facebook 登录并将其连接到网站。就像我用 facebook 按钮点击登录一样，它会重定向到 facbook 登录页面（这可以通过 facebook 开发人员文档和 sdk 中提供的所有教程和信息来实现），然后在 facebook 登录后立即重定向到网站。如何做到这一点？任何建议或帮助实现这一点将不胜感激。

我也想知道 facebook 的加密访问令牌。如何使用该访问令牌。我已经阅读了文档，但我的脑海中并没有这么清楚的概念。

**编辑**：该网站已经连接到 facebook 和 twitter...我必须在 iphone 上进行相同的操作。我的意思是，通过 facebook 登录后我将得到的响应是访问令牌。我可以使用这个访问令牌吗？如何将 facebook 登录后获得的响应链接到网站以验证用户的登录。这我需要在 iphone 中完成。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T04:56:32.817

这是一个关于如何使用 php 执行此操作的示例，

[Facebook 作为身份验证](http://subirkumarsao.blogspot.dk/2011/11/facebook-as-oauth.html)

编辑：正如您所提到的，您已经有一个集成了 facebook 和 twitter 的网站，并且只需要在 iPhone 中进行。

对于 iPhone，请查看适用于 iPhone 的 facebook sdk。

在 iPhone 应用程序中从 facebook 进行身份验证后获得的将是 access_token。您可以使用此令牌获取 facebook 用户 ID。将相同的 id 与网站中存在的 id 匹配。这样您就可以验证用户。

要从 access_token 获取用户详细信息，请尝试此操作。

```
graph.facebook.com/me?access_token=<token>. 
```

这将返回基本用户信息以及 facebook 用户 ID。

祝你好运。

# css - CSS 图像/文本菜单跨浏览器问题

> ID：11008373
> 
> 赞同：0
> 
> 时间：2012-06-13T04:51:11.573
> 
> 标签：css, browser

我有一个问题。

我试图在菜单中的一些文本旁边显示一些图像，但是每个图像的高度都比文本大，因此文本以图像为中心。

本质上，这是网站： http: [//www.sasstraliss.org/scme2202](http://www.sasstraliss.org/scme2202)

而且，它在 Firefox 中的视图非常好。

在 chrome 中，它垂直显示。在 IE 中，图像被压扁。

我的 CSS 哪里出错了？

我正在对图像使用这种方法...

```
#menu img {
min-height: 1em;
display: table-cell;
vertical-align: middle;
padding: 0px 0px 0px 10px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T04:53:39.200

我刚刚尝试删除 min-height 和表格单元格显示，现在它工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:28:02.600

我没有查看您的代码，但假设您的 HTML 中有这样的内容：

```
<div id="menu">
    <a href="someurl"><img src="someimage.gif" />Some text</a>
    <a href="otherurl"><img src="otherimage.gif" />Other text</a>
</div> 
```

下面的 CSS 应该可以解决问题：

```
div#menu {
overflow: auto;
}
    div#menu a {
    float: left;
    margin-left: 10px;
    }
        div#menu a img {
        height: 60px;
        width: 60px;
        margin-right: 10px;
        vertical-align: middle;
        } 
```

注意：始终明确设置图像的尺寸是一种很好的做法，这会加快页面渲染速度并防止页面在加载过程中重排时跳来跳去。

# python - 为什么 Google 告诉我我的 REST httplib2 代码格式错误？

> ID：11008377
> 
> 赞同：0
> 
> 时间：2012-06-13T04:51:45.007
> 
> 标签：python, http, rest, google-api, httplib2

```
import httplib2
from urllib import urlencode
h = httplib2.Http()
h.add_credentials('zackster@gmail.com', 'PassWord')
data = dict(key="ThisIsMyApiKeyICopiedAndPastedIt")
resp, content = h.request("https://www.googleapis.com/calendar/v3/users/me/calendarList", "GET", urlencode(data), headers={'content-type':'text/plain'})

>>> resp
{'date': 'Wed, 13 Jun 2012 04:33:03 GMT', 'status': '400', 'content-length': '925', 'content-type': 'text/html; charset=UTF-8', 'server': 'GFE/2.0'}

>>> print content

<!DOCTYPE html>
<html lang=en>
  <meta charset=utf-8>
  <meta name=viewport content="initial-scale=1, minimum-scale=1, width=device-width">
  <title>Error 400 (Bad Request)!!1</title>
  <style>
    *{margin:0;padding:0}html,code{font:15px/22px arial,sans-serif}html{background:#fff;color:#222;padding:15px}body{margin:7% auto 0;max-width:390px;min-height:180px;padding:30px 0 15px}* > body{background:url(//www.google.com/images/errors/robot.png) 100% 5px no-repeat;padding-right:205px}p{margin:11px 0 22px;overflow:hidden}ins{color:#777;text-decoration:none}a img{border:0}@media screen and (max-width:772px){body{background:none;margin-top:0;max-width:none;padding-right:0}}
  </style>
  <a href=//www.google.com/><img src=//www.google.com/images/errors/logo_sm.gif alt=Google></a>
  <p><b>400.</b> <ins>That’s an error.</ins>
  <p>Your client has issued a malformed or illegal request.  <ins>That’s all we know.</ins> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T07:54:14.897

我猜，但您将 API 密钥作为 POST 数据发送。它需要作为查询字符串附加到 URL。这是您的代码生成的 HTTP 请求：

```
GET /calendar/v3/users/me/calendarList HTTP/1.1
Host: www.googleapis.com
Content-Length: 36
content-type: text/plain
accept-encoding: gzip, deflate
user-agent: Python-httplib2/$Rev$

key=ThisIsMyApiKeyICopiedAndPastedIt 
```

相反（如果我的猜测是正确的）它应该是：

```
GET /calendar/v3/users/me/calendarList?key=ThisIsMyApiKeyICopiedAndPastedIt HTTP/1.1
Host: localhost:1234
content-type: text/plain
accept-encoding: gzip, deflate
user-agent: Python-httplib2/$Rev$ 
```

所以你的代码应该修改成这样：

```
url = 'https://www.googleapis.com/calendar/v3/users/me/calendarList'
uri = '%s?%s' % (url, urlencode(data))
resp, content = h.request(uri, "GET", headers={'content-type':'text/plain'}) 
```

# windows-installer - 在单个 .msi 包中打包多个 .exe

> ID：11008378
> 
> 赞同：9
> 
> 时间：2012-06-13T04:51:51.570
> 
> 标签：windows-installer

我正在尝试将多个 .exe 放在单个 .msi 包中，并且应该一一安装。

假设我有 a.exe、b.exe 和 c.exe

单击 .msi 包时，应安装 a.exe，并且 .msi 应在成功安装 a.exe 后等待它，它应触发 b.exe。成功安装 b.exe 后，应触发 c.exe 进行安装。

.exe 文件（a.exe、b.exe 和 c.exe）是标准可安装文件（用于 egCodeSourcery、flash 工具、IAR 工作台等）。

请让我知道如何实现这一目标以及我需要什么工具。

问候 堀良

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T11:31:14.890

[Advanced Installer](http://www.advancedinstaller.com/user-guide/tutorial-convert-exe-to-msi.html)对此有一些专门的支持。但它是一种商业工具，因此需要许可证。

作为免费解决方案，您可以尝试使用[WiX](http://wix.sourceforge.net/)创建 MSI。然后，您可以使用[自定义操作](http://wix.sourceforge.net/manual-wix2/authoring_custom_actions.htm)启动 EXE 包。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-15T21:22:44.887

这三个 EXE 文件可能是 EXE 文件中的 MSI 文件。同时运行两个 MSI 是有问题的。

您需要的是一个引导程序 EXE 来按顺序启动每个安装程序（与您在启动自己的 MSI 安装之前使用引导程序安装 .NET 的方式相同）

例子：

*   dotNetInstaller - [http://dblock.github.com/dotnetinstaller/](http://dblock.github.com/dotnetinstaller/)
*   刻录（WiX 的一部分）- [http://wixtoolset.org/](http://wixtoolset.org/)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-08-09T14:11:11.893

我认为“Advanced Installer tool”最适合这种情况，我尝试将三个不同的 exe 打包在一个 MSI 包中。它首先将它们捆绑起来，然后为它们运行安装。与 Advanced Installer 相比，Visual Basic 感觉相当困难。

# c# - 为什么我不能将此对象隐式转换为类引用

> ID：11008379
> 
> 赞同：2
> 
> 时间：2012-06-13T04:51:53.100
> 
> 标签：c#, oop

有人可以解释为什么这不起作用吗？

```
MyClass myClass1 = new MyClass();
object obj = myClass1;
MyClass myClass2 = obj; <-- error 
```

如果 obj “指向” MyClass 类型的同一块内存，那么为什么我不能将 myClass2 “指向”最后一行的同一块内存？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T04:54:52.493

myClass2 的类型是“ `MyClass`”。您可以为其分配任何属于或派生自 的类型的值`MyClass`。 `object`不是也不是从 派生的`MyClass`，所以你需要一个演员表。

如果它能够隐式地做到这一点，如果你用一个不是真的 a 的对象做这件事会发生什么`MyClass`？

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-13T04:55:40.667

c# 编译器只允许您从派生类隐式转换为基类，而不是相反。在您的情况下，您需要从 object 显式转换为 Myclass 这是派生类

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-13T05:05:43.733

因为这里`object`是*基*类。

如果我有这个：

```
class Square : Shape
{
}

class Circle : Shape
{
} 
```

我可以

```
Shape c = new Circle(); 
```

从语义上考虑，圆形**是一种**形状。我可以将圆形存储为形状。

但我不能这样做：

```
Circle c = new Shape(); 
```

因为形状不是圆形，它可能是正方形。考虑：

```
Shape sq = new Square();
Shape cr = new Circle(); 
```

根据您的看法，这应该可以工作：

```
Circle x = cr; 
```

但是如果没有演员表，即使这样也应该起作用：

```
Circle x = sq;//this will blow up, sq is a square. 
```

因此你需要一个演员表。类似地，an`object`可以是任何 a `Form`、 a`Button`或 a `MyClass`。您需要对其进行强制转换，以便如果它不是正确的类型，运行时将引发异常。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-13T05:06:21.410

C# 是一种静态类型语言。你指出那`obj`是 type `object`。因为语言是静态类型的，你只能期望编译器尊重你指定的显式类型，`obj`并抱怨你试图把 an`object`当作`MyClass`.

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-13T05:11:42.810

```
MyClass myClass1 = new MyClass();
MyClass myClass2 = myClass1 ; 
```

您可以直接将 A 类型的类分配给相同类型的另一个类，但不能将对象分配给没有类型的对象，因为编译器不知道该对象是什么类型，所以在这种情况下您需要强制转换

```
MyClass myClass1 = new MyClass();
object obj = myClass1;
MyClass myClass2 = (MyClass)obj; 
```

这会起作用，因为`(MyClass)obj;`告诉编译器 obj 是 MyClass 类型

# python - 为什么 Geopy Distance.Distance 错误？

> ID：11008380
> 
> 赞同：7
> 
> 时间：2012-06-13T04:52:02.653
> 
> 标签：python, geopy

从 GeoDjango Point Field，我得到以下几点：

```
object1.point = "POINT(-113.4741271000000040 53.4235217000000020)"
object2.point = "POINT(-113.5013688000000229 53.5343457999999970)" 
```

然后我使用以下方法计算距离`geopy`：

```
from geopy import distance
from geopy import Point

p1 = Point("-113.4741271000000040 53.4235217000000020")
p2 = Point("-113.5013688000000229 53.5343457999999970")
result = distance.distance(p1,p2).kilometers
print result
# 5.791490830933827 
```

但是使用这个工具：[http](http://www.movable-type.co.uk/scripts/latlong.html) ://www.movable-type.co.uk/scripts/latlong.html 我得到了 12.45km 的距离

为什么会有这么大的差异？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-13T05:02:00.187

您的纬度/经度方向错误。尝试：

```
p1 = Point("53.4235217000000020 -113.4741271000000040")
p2 = Point("53.5343457999999970 -113.5013688000000229") 
```

给我结果= 12.466096663282977

# sql - 可以在 SQL 中加密查询字符串吗？

> ID：11008381
> 
> 赞同：2
> 
> 时间：2012-06-13T04:52:04.537
> 
> 标签：sql, sql-server, class, encryption

请给我一些建议。我必须使用 SQL 数据库邮件发送电子邮件。在我的电子邮件中，我必须创建用户可以单击以转到我网站上的产品页面的链接。但是，我需要加密产品的 ID，一旦产品页面加载，产品 ID 的查询字符串就会被解密。

如何将我在网站类中创建的加密算法转换为 SQL？我相信解密和加密算法必须是相同的，这样当用户点击邮件中的链接时，我的页面才能正确解密。我使用的加密类类似于此链接： http: [//www.codeproject.com/Articles/33350/Encrypting-Query-Strings](http://www.codeproject.com/Articles/33350/Encrypting-Query-Strings)

非常感谢你的帮助。

PS：我也在asp.net论坛上发布了这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:04:20.343

您可以在 SQL Server 中运行 CLR（即 .NET）代码。涉及多个步骤，但首先是在 Visual Studio 中创建“SQL Server”项目、编写代码并将其部署到 SQL Server。您还必须使用*sp_configure*在 SQL Server 中启用 CLR 函数。

有关详细说明，请参见此处 (MSDN)： [如何：创建和运行 CLR SQL Server 用户定义函数](http://msdn.microsoft.com/en-us/library/w2kae45k%28v=vs.80%29.aspx)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T21:44:24.687

在做了相当多的研究之后，我可以确认CLR是要走的路。正如建议的那样，我使用了用户定义的函数 CLR。首先，我需要在 Visual Studio 中创建 CLR 项目。这是了解其工作原理的一个很好的起点：

[http://blog.sqlauthority.com/2008/10/19/sql-server-introduction-to-clr-simple-example-of-clr-stored-procedure/](http://blog.sqlauthority.com/2008/10/19/sql-server-introduction-to-clr-simple-example-of-clr-stored-procedure/)

然后，我没有添加 CLR 存储过程，而是移至用户定义的函数。添加一个加密类并在用户定义的函数中调用该类。构建和部署。而已。

这是另一个有用的链接：

[http://channel9.msdn.com/Learn/Courses/SQL2008R2TrainingKit/CLR/CLRIntegrationLab/Exercise-1-Creating-User-Defined-Functions-Using-SQL-CLR](http://channel9.msdn.com/Learn/Courses/SQL2008R2TrainingKit/CLR/CLRIntegrationLab/Exercise-1-Creating-User-Defined-Functions-Using-SQL-CLR)

感谢 dbaseman 指出这一点。

# php - 动态关联数组帖子名称

> ID：11008382
> 
> 赞同：0
> 
> 时间：2012-06-13T04:52:08.200
> 
> 标签：php, html, post

我有一个业主协会的登记表。房主实际上可以拥有多个需要注册的地块。我通过允许用户单击将文本字段添加到表单以允许附加数据的按钮来做到这一点。可以注册的额外批次数量没有限制。我的问题是如何管理帖子名称？地址、城市、州和邮政编码都需要组合在一起。基本上，我怎样才能得到这个结果：

```
$_POST = array(
    'mainAddress' => array(
        'address' => '',
        'city' => '',
        'state' => '',
        'zipcode' => ''
    )
    'additionalAddresses' => array(
        array(
            'address' => '',
            'city' => '',
            'state' => '',
            'zipcode' => ''
        ),
        array(
            'address' => '',
            'city' => '',
            'state' => '',
            'zipcode' => ''
        ),
        array(
            'address' => '',
            'city' => '',
            'state' => '',
            'zipcode' => ''
        )
    )
); 
```

这甚至可能吗？如果没有，我能做些什么来接受额外的地址？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T05:03:41.793

HTML：

```
 <form>
Address 1
    <input name="address[]" value="">
    <input name="zip[]" value="">
    <input name="city[]" value="">
    <input name="state[]" value="">

Address 2
    <input name="address[]" value="">
    <input name="zip[]" value="">
    <input name="city[]" value="">
    <input name="state[]" value="">

Address 3
    <input name="address[]" value="">
    <input name="zip[]" value="">
    <input name="city[]" value="">
    <input name="state[]" value="">
    </form> 
```

PHP代码：

```
$new_address_array = array();
foreach($_POST['address'] as $k=>$v){
$temparray['address'] = $v;
$temparray['city'] = $_POST['city'][$k]; 
$temparray['state'] = $_POST['state'][$k]; 
$temparray['zip'] = $_POST['zip'][$k]; 
$new_address_array[] = $temparray;
}

$final['addtional_address']=$new_address_array;

print_r($final); 
```

# php - PHP - 我需要任何 UTF-8 编码/解码吗？

> ID：11008384
> 
> 赞同：1
> 
> 时间：2012-06-13T04:52:33.557
> 
> 标签：php, utf-8, utf8-decode

好的，我正在向我在下面的函数中读取的 UTF-8 文件写入注释，以删除这些注释之间的文本。我的问题是，我需要什么不同的东西来为 UTF-8 文件成功地做到这一点吗？或者下面的代码会起作用吗？基本上，我想知道我是否需要`utf8_decode`和/或`utf8_encode`功能，或者`iconv`功能？

```
// This holds the current file we are working on.
$lang_file = 'files/DreamTemplates.russian-utf8.php';

// Can't read from the file if it doesn't exist now can we?
if (!file_exists($lang_file))
    continue;

// This helps to remove the language strings for the template, since the comment is unique
$template_begin_comment = '// ' . ' Template - ' . $lang_file . ' BEGIN...';
$template_end_comment = '// ' . ' Template - ' . $lang_file . ' END!';

$fp = fopen($lang_file, 'rb');
$content = fread($fp, filesize($lang_file));
fclose($fp);

// Searching within the string, extracting only what we need.
$start = strpos($content, $template_begin_comment);
$end = strpos($content, $template_end_comment);

// We can't do this unless both are found.
if ($start !== false && $end !== false)
{
    $begin = substr($content, 0, $start);
    $finish = substr($content, $end + strlen($template_end_comment));

    $new_content = $begin . $finish;

    // Write it into the file.
    $fo = fopen($lang_file, 'wb');
    @fwrite($fo, $new_content);
    fclose($fo);
} 
```

感谢您在有关字符串的 UTF-8 编码和解码方面的帮助，即使它们是注释字符串。

当我将 php 注释写入 UTF-8 文件时，我没有使用任何转换。我可以做？？php 注释之间的字符串定义已经以 UTF-8 编码，但是在文件中似乎可以正常工作。任何帮助在这里表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:01:52.213

为此，我将`preg_replace`改用：

```
$content = file_get_contents($lang_file);

$template_begin_comment = '// ' . ' Template - ' . $lang_file . ' BEGIN...';
$template_end_comment = '// ' . ' Template - ' . $lang_file . ' END!';

// find from begin comment to end comment
// replace with emptiness
// keep track of how many replacements have been made
$new_content = preg_replace('/' . 
      preg_quote($template_begin_comment, '/') . 
      '.*?' . 
      preg_quote($template_end_comment, '/') . '/s', 
    '', 
    $content, 
    -1, 
    $replace_count
);

if ($replace_count) {
  // if replacements have been made, write the file back again
  file_put_contents($lang_file, $new_content);
} 
```

因为您的匹配只包含 ASCII，所以这种方法足够安全，因为其余部分是逐字复制的。

**免责声明**

以上代码未经测试，如果有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:15:23.440

不，您不需要进行任何转换。

此外，您的提取代码将是可靠的，因为它不会破坏多字节字符，尽管您可能希望确保结束位置出现在开始 pos 之后。

# ssas - 使用来自多个立方体的测量值创建全局立方体

> ID：11008387
> 
> 赞同：0
> 
> 时间：2012-06-13T04:53:05.973
> 
> 标签：ssas, ssms, mdx, cubes

我有 2 个立方体，每个立方体都有自己的尺寸。一个立方体的一些测量值与第二个立方体相关联。出于某种原因，如果我使用所说的链接测量，查询将不会运行，但它会运行它，我只包括来自我选择的多维数据集的测量。现在，从我读过的内容来看，这看起来不太可能，但我认为我会检查 SO 100% 确定并找出解决方法。

那么，有没有办法从多个立方体中选择测量值？

**立方体结构：**

```
CUB1
  Measures
    FCT CUB1
      Measure1
      Measure2
  Dimensions
    Dim1
    Dim2

CUB2
  Measures
    FCT CUB1 // linked measurements
      Measure1
      Measure2
    FCT CUB2
      Measure3
      Measure4
      Measure5
  Dimensions
    Dim1
    Dim2 
```

我根据 MSDN 的这一部分创建了一个 MDX 查询：http: [//msdn.microsoft.com/en-us/library/ms145581.aspx](http://msdn.microsoft.com/en-us/library/ms145581.aspx)

**在桌面上创建全局多维数据集的查询：**

```
CREATE GLOBAL CUBE [LocalTest]
STORAGE 'C:\LocalCube.cub'
FROM [CUB2]
(
  MEASURE [FCT CUB2].[Measure1], // does not work with this
  MEASURE [FCT CUB2].[Measure3], // here on is fine 
  DIMENSION [FCT CUB2].[Dim1],
  DIMENSION [FCT CUB2].[Dim2]
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T16:10:27.517

我从未使用过 GLOBAL CUBE 命令，因此无法对此发表评论。还有另一种方法可以使用 LOOKUPCUBE 函数来引用另一个多维数据集中的度量。不过，它可能会影响性能。唯一知道的方法是测试它。您可以在此处了解 LOOKUPCUBE 功能：http: [//msdn.microsoft.com/en-us/library/ms144720.aspx](http://msdn.microsoft.com/en-us/library/ms144720.aspx)

# context-free-grammar - 使用抽引引理证明语法不是上下文无关的？

> ID：11008394
> 
> 赞同：0
> 
> 时间：2012-06-13T04:54:22.277
> 
> 标签：context-free-grammar, formal-languages, pumping-lemma

我试图`L={y#x|(y is a substring of x) ∧x,y∈{a,b}^* }`使用抽水引理证明这不是上下文无关的，但我似乎无法做到这一点。如果

```
|vy|≠ε ,|vxy|≤k , uv^n xy^n z∈L ,∀n≥0 
```

然后要么`vxy`两者兼有`a`，`b`要么只有，`b`要么只有`a`。

我怎样才能抽它来显示呢？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-10-02T17:18:27.887

我同意 cHao 的观点，使用泵引理来表明一种语言不是上下文无关的。为了证明一种语言是上下文无关的，构建一个上下文无关语法或 DFA。

`{y#x | y`是`x`} 在字母表上的一个子集`{a, b}*`似乎不是上下文无关的，只是快速浏览一下。

让`s = (a|b)^p#(a|b)^(2p)`这是一个字符串，其中`p`字符之前`#`和`2p`之后的字符使其成为一个简单的子集。

我们现在需要将此字符串分解为`x y^i z`where`|y| > 0`和`|xy| = p`. 所以`y`必须由 之前的任何字符串组成`#`。我们现在可以将这个字符串“拉高”到第一个字符串之前的第一个字符串`#`大于第二个字符串。这不再是下半场的一个子集。这是一个矛盾，所以这种语言不是上下文无关的。

# sql-server - T-SQL如何向用户授予角色

> ID：11008399
> 
> 赞同：57
> 
> 时间：2012-06-13T04:55:05.870
> 
> 标签：sql-server, sql-server-2008, tsql

创建角色并授予权限后，我想将指定角色的权限授予用户，如何处理？我尝试授予 ，但失败了。

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2014-03-06T17:01:01.180

因为 BOL 显示 sp_addrolemember 已被弃用，如果您使用的是 SQL Server 2012，您可能希望使用：

```
ALTER ROLE <role_name> ADD MEMBER <user_name> 
```

* * *

## 回答 #2

> 赞同：68
> 
> 时间：2012-06-13T05:01:46.637

```
EXEC sp_addrolemember 'db_owner', 'JohnJacobs' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-07-16T13:37:19.633

就我而言，我需要将用户添加到特定数据库的公共角色。这样做是这样的：

```
USE [<DB Name>]
GO
CREATE USER [<User Name>] FOR LOGIN [<User Name>]
GO 
```

# php - 比 simplexml_load_file() PHP 更快的东西

> ID：11008402
> 
> 赞同：0
> 
> 时间：2012-06-13T04:55:19.703
> 
> 标签：php, xml, simplexml

> **可能重复：**
> [PHP 中最快的 XML 解析器是什么？](https://stackoverflow.com/questions/3048583/what-is-the-fastest-xml-parser-in-php)

我仍然需要维护 xml 格式，但我发现我的主要瓶颈是我打了很多电话`simplexml_load_file();`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:00:03.667

`simplexml_load_file`本身并没有那么慢。问题是它导致的 I/O，这将是昂贵的。使用不同的方法来解析您的 XML 文件不会使其更快。

您可以尝试优化您的程序以减少打开 xml 文件的频率，或者您可以考虑另一种保存数据的方法，例如在数据库中以加快处理速度。

# emacs - 矩形选择的填充区域？

> ID：11008403
> 
> 赞同：4
> 
> 时间：2012-06-13T04:55:35.310
> 
> 标签：emacs

我想做一些类似填充区域的事情，除了我想选择一个矩形区域并只将文本包装在其中，并让它保持在矩形范围内。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T06:51:56.443

**编辑：**啊，我*知道*我以前遇到过这种能力。

中的矩形编辑功能`cua`提供了此功能。

所以首先启用`cua-selection-mode`. 这是 CUA 中的好东西，无需更改复制/剪切/粘贴键，因此您可能希望它永久启用：

```
(cua-selection-mode 1) 
```

然后`C-RET`标记一个角，将点移动到对角，并`C-q`照常进行填充。`C-RET`再次退出矩形模式。

CUA 的矩形编辑非常棒。在 的评论中阅读它`M-x` `find-library` `RET` `cua-base` `RET`。查找“CUA 矩形支持”标题。

**原答案：**

```
(defun my-fill-rectangle (start end)
  "`fill-region' within the confines of a rectangle."
  (interactive "*r")
  (let* ((indent-tabs-mode nil)
         (content (delete-extract-rectangle start end)))
    (goto-char start)
    (insert-rectangle
     (with-temp-buffer
       (setq indent-tabs-mode nil
             fill-column (length (car content)))
       (insert-rectangle content)
       (fill-region (point-min) (point-max))
       (goto-char (point-max))
       (move-to-column fill-column t)
       (extract-rectangle (point-min) (point)))))) 
```

# android - 将新视图绘制到相对布局中

> ID：11008414
> 
> 赞同：1
> 
> 时间：2012-06-13T04:57:08.280
> 
> 标签：android, view, draw, android-relativelayout

我们正在为汽车编写“仪表板”。计算/绘制速度表的代码与其余代码分开完成，现在我试图将两者结合起来。

它们都单独工作，并且在速度表视图代码中，UI 的主要部分仍在运行，我只是看不到速度表。

我已经编译好了，没有明显的错误。但是，当应用程序运行时，我看不到速度计出现在主视图中，即使我已经使用 addView 方法添加了它。

以供参考：

我创建和添加视图的代码：

```
 setContentView(R.layout.main); 
    RelativeLayout relativeLayout = (RelativeLayout) findViewById(R.id.RelativeLayout1);
    RelativeLayout.LayoutParams lp = new RelativeLayout.LayoutParams(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.CENTER_VERTICAL);
    myView v = new myView(this);
    v.setLayoutParams(lp);
    relativeLayout.addView(v, lp); 
```

myView 类的代码：import android.content.Context；导入android.graphics.Bitmap；导入android.graphics.BitmapFactory；导入android.graphics.Canvas；导入android.graphics.Color；导入android.graphics.Paint；导入android.graphics.RectF；导入android.graphics.Typeface；导入android.view.View；

```
public class myView extends View {
    private Paint mPaints;
    private Paint textpaint;
    private boolean mUseCenters;
    private RectF mBigOval;
    private float mStart;
    private float mSweep;
    public float SPEED_raw;
    public int SPEED = 0;   //initialized to 0 just for loop.  Remove initialization when IF statement below is deleted
    public static Bitmap gaugefront;
    public static Bitmap gaugeback;

    public myView(Context context) {
        super(context);
        mPaints = new Paint();
        mPaints.setAntiAlias(true);
        mPaints.setColor(Color.YELLOW);

        textpaint = new Paint();
        textpaint.setAntiAlias(true);
        textpaint.setColor(Color.WHITE);
        textpaint.setTextSize(150);
        textpaint.setTypeface(Typeface.defaultFromStyle(Typeface.BOLD));

        gaugefront = BitmapFactory.decodeResource(context.getResources(),R.drawable.gaugefront);    //Load gaugefront.png
        gaugeback = BitmapFactory.decodeResource(context.getResources(),R.drawable.gaugeback);      //Load gaugeback.png

        mUseCenters = true;
        mBigOval = new RectF(400, 10, 880, 490);                //left[x-coordinate],top[y-coordinate],right[x],bottom[y]
    }

    private void drawArcs(Canvas canvas, RectF oval, boolean useCenter, Paint paint) {
        canvas.drawArc(oval, mStart, mSweep, useCenter, paint);
    }

    @Override 
    protected void onDraw(Canvas canvas) {
        canvas.drawBitmap(myView.gaugeback, 400, 10, null);     //draw gauge background, X coordinate:400, Y coordinate: 10
        drawArcs(canvas, mBigOval, mUseCenters, mPaints);

        //SPEED_raw = 70;                   //Raw float data from CCS. Uncomment when the IF statement below is deleted.
        SPEED = Math.round(SPEED_raw);      //SPEED integer.  Units km/h - Top speed of 135\. Used for digital readout

        mStart = 90;                        //Start drawing from -90 degrees (Counter clockwise)                
        mSweep = SPEED_raw*2;               //Draw stop point

            if(SPEED >= 135){           //JUST FOR SHOW.  Delete this for actual speedo
                SPEED_raw = 0;          // "
            }                           // "
            else                        // "
                SPEED_raw += 0.5;       // "

        canvas.drawBitmap(myView.gaugefront, 400, 10, null);                //draw gauge foreground, X coordinate:400, Y coordinate: 10

        String speed_string = String.valueOf(SPEED);                        //Convert int SPEED to String for display

//            while (speed_string.endsWith(".0") || speed_string.endsWith(".")){            //Erase trailing ".0" for float types. Don't need if SPEED is an int
//              speed_string = (speed_string.substring(0, speed_string.length() - 1));
//            }

        canvas.drawText(speed_string, 640, 420, textpaint);                 //arguments: (string, x-coordinate, y-coordinate, paint)

        invalidate();
    }
} 
```

这是我的 XML 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/RelativeLayout1"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:gravity="center"
android:keepScreenOn="true"
android:orientation="vertical" >

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

<ImageView
    android:id="@+id/solarbg"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:src="@drawable/solarbg" />
</LinearLayout>

<ImageView
    android:id="@+id/l_lamp"
    android:layout_width="90dp"
    android:layout_height="90dp"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:layout_gravity="left"
    android:src="@drawable/l_arrow_dim" />

<DigitalClock
    android:id="@+id/digitalClock1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    android:gravity="center"
    android:textColor="#ffffff"
    android:textSize="50dp" />

<ImageView
    android:id="@+id/r_lamp"
    android:layout_width="90dp"
    android:layout_height="90dp"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true"
    android:src="@drawable/r_arrow_dim" />

<TextView
    android:id="@+id/setAmps"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_centerVertical="true"
    android:gravity="left"
    android:text="@string/setAmps"
    android:textColor="#ffffff"
    android:textSize="30dp" />

<TextView
    android:id="@+id/setAmpsVal"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:gravity="left"
    android:layout_below = "@+id/setAmps"
    android:layout_alignParentLeft="true"
    android:maxEms = "5"
    android:textColor="#ffffff"
    android:textSize="30dp" />

<TextView
    android:id="@+id/setVelocity"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignBottom="@+id/setAmps"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true"
    android:gravity="right"
    android:text="@string/setVelocity"
    android:textColor="#ffffff"
    android:textSize="30dp" />

    <TextView
    android:id="@+id/setVelocityVal"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:gravity="right"
    android:layout_below = "@+id/setVelocity"
    android:layout_alignParentRight="true"
    android:maxEms = "5"
    android:textColor="#ffffff"
    android:textSize="30dp" />

<TextView
    android:id="@+id/actVelocity"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_below="@+id/setVelocityVal"
    android:gravity="right"
    android:text="@string/actVelocity"
    android:textColor="#ffffff"
    android:textSize="30dp" />

<TextView
    android:id="@+id/actVelocityVal"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below = "@+id/actVelocity"
    android:layout_alignParentRight="true"
    android:gravity="right"
    android:maxEms = "5"
    android:textColor="#ffffff"
    android:textSize="30dp" />

<TextView
    android:id="@+id/busAmps"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/setAmpsVal"
    android:gravity="left"
    android:text="@string/busAmps"
    android:textColor="#ffffff"
    android:textSize="30dp" /><TextView
    android:id="@+id/busAmpsVal"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:gravity="left"
    android:layout_below = "@+id/busAmps"
    android:maxEms = "5"
    android:textColor="#ffffff"
    android:textSize="30dp" />

  <TextView
    android:id="@+id/powerVal"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignParentBottom = "true"
    android:gravity="right"
    android:textColor="#ffffff"
    android:textSize="30dp" />

<TextView
    android:id="@+id/power"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_above = "@+id/powerVal"
    android:gravity="left"
    android:text="@string/power"
    android:textColor="#ffffff"
    android:textSize="30dp" />

 <TableLayout
    android:id="@+id/msgCenterLayout"
    android:layout_width="600dp"
    android:layout_height="200dp" 
    android:layout_alignParentBottom = "true" 
    android:layout_centerHorizontal = "true"
    android:orientation = "vertical"
    android:visibility = "invisible">

<ScrollView
    android:id="@+id/messageCenterText"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="left"
    android:text="@string/busAmps"
    android:textColor="#ffffff"
    android:textSize="30dp" />

</TableLayout>

</RelativeLayout> 
```

编辑：我正在使用一个 XML 文件作为主布局，并尝试将此新视图添加到该 XML 文件内的相对布局中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:04:56.440

尝试写作

```
LayoutParams p = new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.FILL_PARENT); 

v.setLayoutParams(lp);
relativeLayout.addView(v); 
```

# windows - .pl 文件在记事本中打开

> ID：11008421
> 
> 赞同：5
> 
> 时间：2012-06-13T04:58:26.597
> 
> 标签：windows, perl, file-association

我是 xampp 的新手，而且我是 Perl 编程的新手。我只是试图打开文件 C:\xampp\cgi-bin\printenv.pl 并且我犯了一个错误。

我选择了默认程序以记事本形式打开该文件扩展名，并带有`always use the selected program to open this kind of file`.

现在，当我尝试从 cmd 运行 .pl 文件时，它会在记事本中打开它们而不是执行。请回复。提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-13T05:00:54.390

在 shell 提示符下键入以下内容：

```
assoc .pl=PerlScript
ftype PerlScript="c:\...\bin\perl.exe" "%1" %* 
```

（替换`...`为正确的路径。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-01-23T12:03:08.070

ikegami 的建议在 Windows 10 中对我不起作用，但在[ActivePerl 找到 Jack Wu 的评论之后。.pl 文件不再执行，而是在记事本中打开，而](https://stackoverflow.com/questions/20601270/activeperl-pl-files-no-longer-execute-but-open-in-notepad-instead)我能够这样解决问题：

*   选择并右键单击 .pl 文件
*   使用“打开方式”子菜单“选择另一个应用程序”
*   选择“始终使用此应用程序打开 .pl 文件”（立即执行此操作 - 选择程序后您将没有机会）
*   滚动到“其他选项”底部找到“更多应用”，然后选择“在这台电脑上查找其他应用”
*   导航到 C:/path/to/perl/bin/ 并选择`Perl5.16.3.exe`（或等效的，取决于您安装的 Perl 版本：但*不是* `Perl.exe`）

然后 Perl 图标出现在 .pl 文件旁边，双击会导致它们每次都根据需要在 Perl 中打开。

# java - 深入了解一个复杂的数据结构，一个 HasMap

> ID：11008422
> 
> 赞同：-2
> 
> 时间：2012-06-13T04:58:28.260
> 
> 标签：java, data-structures

我有一个 HashMap，它看起来像：

```
( student1 => Map( name => Tim,         
                   Scores => Map( math => 10,
                                  physics => 20,
                                  Computers => 30),
                    place => Miami,
                    ranking => Array(2,8,1,13),
                  ),
  student2 => Map ( 
                   ...............
                   ...............
                ),
   ............................
   ............................
); 
```

由于键不是任何特定类型（对象、字符串、整数等），我如何“潜入”这个复杂的 HashMap ？

编辑：“潜水”意味着遍历每个键和值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:01:08.357

怎么样

```
Map<Long, Student> studentIdToStudentMap = new HashMap<Long, Student>(); 
```

和

```
class Student{
  private String name;
  private List<Score> scores;
  private Location location;
  private List<Rank> rankings;
  //const, equals(), hashcode(), accessors
} 
```

和

```
class Score{
   private String subject;
   private float marksObtained;
   private float totalMark;
   private Long examId;
   //const, equals(), hashcode(), accessors
} 
```

同样地

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:05:04.490

完全未经测试，不能保证适合任何目的（您的问题有些模糊），但它应该让您了解如何解决您的问题：

```
public void doStuffWithMap(Map yourMap)
{
  for(Map.Entry entry : yourMap.entrySet())
  {
    if (entry.getValue() instanceof Map)
      doStuffWithMap((Map)entry.getValue());
    else
      System.out.println(entry.getKey() + ": " + entry.getValue());
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T05:05:29.583

使用类似的东西

```
private static printKeyValues(Map map) {
  for (Object key : map.keySet()) {
    if(map.get(key) instanceOf Map) {
      printKeyValues((Map)map.get(key))
    } else {
      System.out.println("key:" + key+" value:"+ map.get(key));
    }
  }
} 
```

# java - 在 Jtable 行中插入多行

> ID：11008424
> 
> 赞同：3
> 
> 时间：2012-06-13T04:59:19.293
> 
> 标签：java, swing, jtable

我搜索了很多，但没有为我的以下问题找到任何有效的解决方案，请提出您的宝贵建议。提前谢谢。

在第一列 [+] 符号上单击事件后在 Jtable 行中插入多行。第三列是一个JTree，点击第一列[+]符号后展开，需要将JTree子节点的对应值插入其他列（Best、Good、Avg等）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T06:23:30.250

有两种方法

*   将[JTable 作为 Renderer](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#renderer)放入JTables 单元格

*   `JTreeTable`, `JXTreeTable`,`OutLine API by Netbeans`和非免费的`Jide`

# css - 在ie7中定位绝对，警告框移动到右对齐

> ID：11008427
> 
> 赞同：4
> 
> 时间：2012-06-13T04:59:44.983
> 
> 标签：css

我在 IE7 上的绝对位置属性有问题。我的通知框在 IE7 中移动到右对齐它在 IE8、ie-9 和所有其他浏览器中工作正常，但在 IE7 中出现问题

我的 HTML 是

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<body>
<div align="center">
  <div class="notification-bubble">
    <div class="chat-bubble-arrow-border"></div>
    <div class="chat-bubble-arrow"></div>
    This should be on top in all browser </div>
  <div class="gray-form-box">
    <p class="notification-text"><span class="notification-group"></span><a href="#">User Name:</a> “Aliquam erat volutpat. Aliquam eu massa id augue tincidunt accumsan. Cras cursus imperdiet tempus. Integer in libero mi, quis condimentum tellus. Aliquam augue quam, tincidunt at imperdiet” <a href="#" class="notification-time"> 03 June 6:12 pm. </a></p>
    <div class="seperator-line"></div>
    <p class="notification-text"><span class="notification-group"></span><a href="#">User Name:</a> “Aliquam erat volutpat. Aliquam eu massa id augue tincidunt accumsan. Cras cursus imperdiet tempus. Integer in libero mi, quis condimentum tellus. Aliquam augue quam, tincidunt at imperdiet” <a href="#" class="notification-time"> 03 June 6:12 pm. </a></p>
    <div class="seperator-line"></div>
    <p class="notification-text"><span class="notification-group"></span><a href="#">User Name:</a> “Aliquam erat volutpat. Aliquam eu massa id augue tincidunt accumsan. Cras cursus imperdiet tempus. Integer in libero mi, quis condimentum tellus. Aliquam augue quam, tincidunt at imperdiet” <a href="#" class="notification-time"> 03 June 6:12 pm. </a></p>
    <div class="seperator-line"></div>
    <p class="notification-text"><span class="notification-group"></span><a href="#">User Name:</a> “Aliquam erat volutpat. Aliquam eu massa id augue tincidunt accumsan. Cras cursus imperdiet tempus. Integer in libero mi, quis condimentum tellus. Aliquam augue quam, tincidunt at imperdiet” <a href="#" class="notification-time"> 03 June 6:12 pm. </a></p>
    <div class="seperator-line"></div>
    <p class="notification-text"><span class="notification-group"></span><a href="#">User Name:</a> “Aliquam erat volutpat. Aliquam eu massa id augue tincidunt accumsan. Cras cursus imperdiet tempus. Integer in libero mi, quis condimentum tellus. Aliquam augue quam, tincidunt at imperdiet” <a href="#" class="notification-time"> 03 June 6:12 pm. </a></p>
    <div class="seperator-line"></div>
    <p class="notification-text"><span class="notification-group"></span><a href="#">User Name:</a> “Aliquam erat volutpat. Aliquam eu massa id augue tincidunt accumsan. Cras cursus imperdiet tempus. Integer in libero mi, quis condimentum tellus. Aliquam augue quam, tincidunt at imperdiet” <a href="#" class="notification-time"> 03 June 6:12 pm. </a></p>
  </div>
</div>
</body>
</html> 
```

我的 CSS 是

```
body
{
margin:0px;
padding:0px;    
}
.notification-bubble
{
background-color:#ffffff;
border:1px solid #c1c1c1;
font-size:35px;
height:269px;
margin:10px auto;
position:absolute;
text-align:center;
width:280px;
margin-top:45px;
-moz-box-shadow: 0px 0px 10px #666666;
-webkit-box-shadow: 0px 0px 10px #666666;
box-shadow: 0px 0px 10px #666666;
margin-left:62px;
}
.chat-bubble-arrow-border
{
  border-color: transparent transparent #c2c2c2 transparent;
  border-style: solid;
  border-width: 10px;
  height:0;
  width:0;
  position:absolute;
  top:-21px;
  right:30px;
}
.chat-bubble-arrow
{
  border-color: transparent transparent #ffffff transparent;
  border-style: solid;
  border-width: 10px;
  height:0;
  width:0;
  position:absolute;
  top:-19px;
  right:30px;
}
.gray-form-box
{
width:800px;
height:100%;
background-color:#f5f5f5;
border:1px solid #e5e5e5;    
float:left;
margin-bottom:30px;
}
.notification-group
{
width:26px;
height:26px;
margin:10px;
float:left;    
margin-top:2px;
background-color:#FF0000;
}
.notification-text
{
font-family:Arial, Helvetica, sans-serif;
font-size: 13px;
font-weight: normal;
color: #333333;
text-align: left;
text-decoration:none;
float:left;
margin-top:10px;
line-height:18px;
margin-right:10px;
}
.notification-text a:link
{
    font-weight: bold;
    color: #3366cc;
    text-decoration:none;
}
.notification-text a:visited
{
    font-weight: bold;
    color: #3366cc;
    text-decoration:none;    
}
.notification-text a:hover
{
text-decoration:underline;
}
.notification-text a:active
{
text-decoration:underline;
}
a.notification-time:link
{
    font-weight: normal;
    color: #808080;
    text-decoration:none;    
    font-size: 11px;
}
a.notification-time:hover
{
text-decoration:underline;
}
.seperator-line
{
width:90%;    
height:1px;
background-color:#d1d0d0;
display:block;
float:left;
margin-left:5%;
} 
```

**对你的帮助表示感谢**

检查小提琴[http://jsfiddle.net/rizwanabbasi/jGHZK/](http://jsfiddle.net/rizwanabbasi/jGHZK/)

我的屏幕截图

![在此处输入图像描述](../Images/00a83f993f71c83bf588bc91d7a293b4.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T06:11:51.320

在您的 CSS 中`.notification-bubble`，您已经定义了两次边距（`margin:10px auto;`和`margin-left:62px;`）。尝试删除它们，然后键入：`left:62px`

# asp.net - ASP webservice 使用 GET 参数并返回 JSON 对象

> ID：11008428
> 
> 赞同：0
> 
> 时间：2012-06-13T04:59:45.873
> 
> 标签：asp.net, json, web-services, getmethod

我的网络服务有问题。当我以 POST 和 JSON 格式传递参数时，它返回一个 JSON 对象。我想将 POST 转换为 GET，但问题是，Web 服务仅以 XML 格式返回。

```
<script>   
$.ajax({
        type: "GET",
        url: "/web_services/webservice.asmx/getReturnJson",
        data: "params1=1",
        contentType: "application/*; charset=utf-8",
        dataType: "json")
</script> 
```

网络服务：

```
 [WebMethod]
    [ScriptMethod(UseHttpGet = true, ResponseFormat=ResponseFormat.Json)]
    public List<tempStruct> getReturnJson(String params1)
    { 
     return temp;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:12:39.120

如果您遇到 GET 参数无法正确解析的问题，请在 URL 中设置它们。

```
$.ajax({
    type: "GET",
    url: "/web_services/webservice.asmx/getReturnJson?params=1",
    contentType: "application/json; charset=utf-8") 
```

还要确保你有所有合适的配置。

```
<httpHandlers>
    <remove verb="*" path="*.asmx"/>
    <add verb="*" path="*.asmx" type="System.Web.Script.Services.ScriptHandlerFactory"     validate="false"/>
</httpHandlers> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:26:36.003

发现出于安全原因它不接受 POST 请求

# macos - 从 POSIX 路径字符串获取 Mac Applescript 文件对象

> ID：11008429
> 
> 赞同：1
> 
> 时间：2012-06-13T04:59:57.503
> 
> 标签：macos, applescript

我有一个存储在名为 tempfile.txt 的文本文件中的文件列表。例如 tempfile.txt 的内容如下所示：

```
/path/to/my/file1.txt
/path/to/my/file2.txt
/path/to/my/file3.txt 
```

我想使用 Applescript 在 Finder 中更改这些文本文件的标签颜色，但无法获取实际的文件对象（而不是作为字符串的文件名和路径）。这是我到目前为止所拥有的：

```
-- some work has already been done to set tempfile to tempfile.txt

set files_to_update to paragraphs of (read tempfile) -- this works fine
repeat with myfile in files_to_update
    set selected_file to POSIX path of myfile -- this works fine
    set label index of selected_file to 1 -- trying to set this file to orange fails with error "A property can't go after this identifier"
end repeat 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T05:30:16.250

```
set input to "/Users/username/Desktop/untitled folder/
/Users/username/Desktop/Untitled.txt"

repeat with f in paragraphs of input
    set f to POSIX file f
    tell application "Finder" to set label index of (f as alias) to 1
end repeat 
```

用于`POSIX file`获取文本路径的文件对象。（`POSIX path of`用于获取文件或别名的文本路径。）`label index`是 Finder 项目的属性。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-04-20T20:28:00.207

上面的答案是正确的，但我被一些简单的东西绊了一下，所以我想我会提到它：

在使用路径执行 Unix-y 操作时，通常会获取`quoted form of`POSIX 路径，以避免路径中有空格等问题。但是`as alias`不理解引用的形式，事情就会出错。（即抛出错误。）

如果您有带引号的路径，请在进入别名世界时去掉引号，如下所示：

```
set label index of ((text 2 thru -2 of f) as alias) to 1 
```

# java - 如何使 Java 组合框中的项目居中

> ID：11008431
> 
> 赞同：7
> 
> 时间：2012-06-13T05:00:04.117
> 
> 标签：java, swing, jcombobox, renderer

Java中是否有一种组合框的方法可以使组合框中的项目居中？我试过了，但没有用：

```
myCombobox.setAlignmentY(CENTER_ALIGNMENT); 
```

谢谢！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-13T06:14:12.143

试试这个链接：[如何使用组合框（Java™ 教程 > 使用 JFC/Swing 创建 GUI > 使用 Swing 组件）](http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer)

```
class ComboBoxRenderer extends JLabel
                   implements ListCellRenderer {
  public ComboBoxRenderer() {
    setOpaque(true);
    setHorizontalAlignment(CENTER);
    setVerticalAlignment(CENTER);
  }
  //. . . 
```

或者

```
((JLabel)comboBox.getRenderer()).setHorizontalAlignment(SwingConstants.CENTER); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-13T06:14:10.690

您已经查看[了 Oracles pages 上](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender)`Renderers`的 JTable 教程中描述的概念，这个概念类似于 ,和,在您可以将所需文本居中`JComboBox``JList``JTable``JTree``Renderer`

# css - 最佳相等 div 高度选项？

> ID：11008433
> 
> 赞同：1
> 
> 时间：2012-06-13T05:00:18.853
> 
> 标签：css, html, height, equals, fluid-layout

好的，所以获得相等的 div 高度是一个相当大的过程。似乎有很多方法可以做到这一点。我想使用 CSS，因为我很不擅长，我希望有人能帮我一把。

这是我的基本布局。 [http://jsfiddle.net/SineMetu/nWXyu/1/](http://jsfiddle.net/SineMetu/nWXyu/1/)

（抱歉css中的大量背景渐变）

我希望所有 div 都是最高 div 的高度。我需要它能够在调整页面大小时动态（流畅地）更改高度。所以基本上页面上的所有 div 都会在调整大小时调整为最高的 div。

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:03:06.700

在现代* 浏览器中制作等高列的~~最佳最优雅的方法是将每个列设置为~~`display: table-cell;`

```
<div id="page">
<div class="column one">one</div>
<div class="column two">two</div>
<div class="column three">three</div>
</div>

<style>
html, body {
height: 100%;
margin: 0;
padding: 0;
}
div#page {
display: table;
table-layout: fixed; /* this prevents column width from changing with content */
width: 100%;
height: 100%;
}
div.column {
display: table-cell;
width: 33%;
height: 100%;
}
div.one {
background-color: #CCC;
}
div.two {
background-color: #999;
}
div.three {
background-color: #666;
}
</style> 
```

*) 基本上，这适用于除 IE 6 和 7 之外的所有浏览器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T07:17:05.200

您可以使用**css 表**获得您想要的结果，它很容易理解，请参阅演示：- [http://jsfiddle.net/nWXyu/5/](http://jsfiddle.net/nWXyu/5/)

[或者您可以阅读有关等高列的更多信息：](http://css-tricks.com/fluid-width-equal-height-columns/)

[http://css-tricks.com/examples/FluidEqualHeightFauxColumns/](http://css-tricks.com/examples/FluidEqualHeightFauxColumns/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:15:40.220

我会同时使用 css 和 html 在两个 div 上实现相等的高度。

```
<div class="container">
    <div class="equal-height"></div>
    <div class="equal-height"></div>
</div>

.container { overflow: hidden; }
.equal-height { margin-bottom: -99999px; padding-bottom: 99999px !important; } 
```

# c++ - typename 参数的模板特化是特定模板的任何实例化

> ID：11008434
> 
> 赞同：1
> 
> 时间：2012-06-13T05:00:30.320
> 
> 标签：c++, templates, template-specialization, boost-mpl, template-templates

我有一个类模板`Z`，当传递一个特定模板的任何实例化类型时，我想专门研究它`N`：

```
struct L {
    template <typename S> void foo(S &) {/*...*/}
};

template <class T>
struct M {
    template <typename S> void foo(S &) {/*...*/}
};

template <class T>
struct N {
    template <typename S> void foo(S &) {/*...*/}
};

// I'd like to specialize this for TY==N<anything>
template <typename TX, typename TY>
struct Z {
    void bar(TX &tx) { /*...*/ ty->foo(tx); /*...*/ }
    TY *ty;
}; 
```

由于`Z<int, L>`and 和`Z<int, N<int>>`and`Z<int, M<int>>`都是有效的用例，我无法做任何事情来`Z`转换为模板模板，并且`Z<TX, TY>::bar(TX &)`当`TY`类从`N`. 有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:11:23.637

这应该会影响您想要的专业化：

```
template <typename TX, typename ANY>
struct Z< TX, N<ANY> > {
    // ...
}; 
```

`Z`当第一个参数是`TX`，第二个参数是时，得到专门化`N<ANY>`。一个简单的例子：

```
template <typename A> struct N { A a; };

template <typename TX, typename TY>
struct Z { Z () { std::cout << "not special" << std::endl; } };

template <typename TX, typename ANY>
struct Z< TX, N<ANY> > { Z () { std::cout << "special" << std::endl; } };

int main ()
{
    Z<int, int> z1;
    Z<int, N<int> > z2;
} 
```

输出结果：

```
not special
special 
```

# php - 如何在 PHP 中将数组值转换为小写？

> ID：11008443
> 
> 赞同：151
> 
> 时间：2012-06-13T05:01:26.473
> 
> 标签：php, arrays, string, lowercase

如何在 PHP 中将数组中的所有值转换为小写？

像`array_change_key_case`什么？

* * *

## 回答 #1

> 赞同：400
> 
> 时间：2012-06-13T05:03:49.250

使用[`array_map()`](http://php.net/manual/en/function.array-map.php)：

```
$yourArray = array_map('strtolower', $yourArray); 
```

如果您需要**小写嵌套数组**（由[Yahya Uddin](https://stackoverflow.com/users/3006737/yahya-uddin)提供）：

```
$yourArray = array_map('nestedLowercase', $yourArray);

function nestedLowercase($value) {
    if (is_array($value)) {
        return array_map('nestedLowercase', $value);
    }
    return strtolower($value);
} 
```

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2013-12-14T16:07:51.267

只是为了完整性：您也可以使用[`array_walk`](http://www.php.net/manual/en/function.array-walk.php)：

```
array_walk($yourArray, function(&$value)
{
  $value = strtolower($value);
}); 
```

来自 PHP 文档：

> 如果回调需要使用数组的实际值，请将回调的第一个参数指定为引用。然后，对这些元素所做的任何更改都将在原始数组本身中进行。

或直接通过[`foreach`循环](http://www.php.net/manual/en/control-structures.foreach.php)使用[引用](http://www.php.net/manual/en/language.references.pass.php)：

```
foreach($yourArray as &$value)
  $value = strtolower($value); 
```

请注意，这两种方法“就地”更改数组，而`array_map`创建并返回数组的副本，这在非常大的数组的情况下可能不理想。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-06-13T05:04:33.050

您可以使用array_map()，将第一个参数设置为'strtolower'（包括引号），将第二个参数设置为$lower_case_array。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2016-10-07T09:31:58.607

如果您希望小写**嵌套**数组中的所有值，请使用以下代码：

```
function nestedLowercase($value) {
    if (is_array($value)) {
        return array_map('nestedLowercase', $value);
    }
    return strtolower($value);
} 
```

所以：

```
[ 'A', 'B', ['C-1', 'C-2'], 'D'] 
```

会返回：

```
[ 'a', 'b', ['c-1', 'c-2'], 'd'] 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-01-04T13:09:10.780

array_change_value_case

通过继续

```
 function array_change_value_case($array, $case = CASE_LOWER){
        if ( ! is_array($array)) return false;
        foreach ($array as $key => &$value){
            if (is_array($value))
            call_user_func_array(__function__, array (&$value, $case ) ) ;
            else
            $array[$key] = ($case == CASE_UPPER )
            ? strtoupper($array[$key])
            : strtolower($array[$key]);
        }
        return $array;
    }

    $arrays = array ( 1 => 'ONE', 2=> 'TWO', 3 => 'THREE',
                     'FOUR' => array ('a' => 'Ahmed', 'b' => 'basem',
                     'c' => 'Continue'),
                      5=> 'FIVE',
                      array('AbCdeF'));

    $change_case = array_change_value_case($arrays, CASE_UPPER);
    echo "<pre>";
    print_r($change_case); 
```

> ```
> Array
> (
>  [1] => one
>  [2] => two
>  [3] => three
>  [FOUR] => Array
>   (
>    [a] => ahmed
>    [b] => basem
>    [c] => continue
>   )
> 
>  [5] => five
>  [6] => Array
>   (
>    [0] => abcdef
>   )
> 
> ) 
> ```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-12-04T10:20:53.943

`array_map()`是正确的方法。但是，如果要将特定数组值或所有数组值一一转换为小写，则可以使用**`strtolower()`**.

```
for($i=0; $i < count($array1); $i++) {
    $array1[$i] = strtolower($array1[$i]);
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-12-19T06:53:59.077

```
$Color = array('A' => 'Blue', 'B' => 'Green', 'c' => 'Red');

$strtolower = array_map('strtolower', $Color);

$strtoupper = array_map('strtoupper', $Color);

print_r($strtolower);
print_r($strtoupper);` 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-09-05T17:57:27.923

AIO 解决方案 / 递归 / Unicode|UTF-8|支持多字节！

```
/**
 * Change array values case recursively (supports utf8/multibyte)
 * @param array $array The array
 * @param int $case Case to transform (\CASE_LOWER | \CASE_UPPER)
 * @return array Final array
 */
function changeValuesCase ( array $array, $case = \CASE_LOWER ) : array {
    if ( !\is_array ($array) ) {
        return [];
    }

    /** @var integer $theCase */
    $theCase = ($case === \CASE_LOWER)
        ? \MB_CASE_LOWER
        : \MB_CASE_UPPER;

    foreach ( $array as $key => $value ) {
        $array[$key] = \is_array ($value)
            ? changeValuesCase ($value, $case)
            : \mb_convert_case($array[$key], $theCase, 'UTF-8');
    }

    return $array;
} 
```

例子：

```
$food = [
    'meat' => ['chicken', 'fish'],
    'vegetables' => [
        'leafy' => ['collard greens', 'kale', 'chard', 'spinach', 'lettuce'],
        'root'  => ['radish', 'turnip', 'potato', 'beet'],
        'other' => ['brocolli', 'green beans', 'corn', 'tomatoes'],
    ],
    'grains' => ['wheat', 'rice', 'oats'],
];

$newArray = changeValuesCase ($food, \CASE_UPPER); 
```

输出

```
 [
    'meat' => [
        0 => 'CHICKEN'
        1 => 'FISH'
    ]
    'vegetables' => [
        'leafy' => [
            0 => 'COLLARD GREENS'
            1 => 'KALE'
            2 => 'CHARD'
            3 => 'SPINACH'
            4 => 'LETTUCE'
        ]
        'root' => [
            0 => 'RADISH'
            1 => 'TURNIP'
            2 => 'POTATO'
            3 => 'BEET'
        ]
        'other' => [
            0 => 'BROCOLLI'
            1 => 'GREEN BEANS'
            2 => 'CORN'
            3 => 'TOMATOES'
        ]
    ]
    'grains' => [
        0 => 'WHEAT'
        1 => 'RICE'
        2 => 'OATS'
    ]
] 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-02-22T21:14:44.637

你没有说你的数组是否是多维的。如果是，array_map 将无法单独工作。你需要一个回调方法。对于多维数组，请尝试[array_change_key_case](https://secure.php.net/manual/en/function.array-change-key-case.php)。

```
// You can pass array_change_key_case a multi-dimensional array,
// or call a method that returns one
$my_array = array_change_key_case(aMethodThatReturnsMultiDimArray(), CASE_UPPER); 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-01-15T01:40:18.603

**嗨**，试试这个解决方案。简单使用[php数组映射](https://www.php.net/manual/en/function.array-map.php)

```
function myfunction($value)
{
 return strtolower($value);
}

$new_array = ["Value1","Value2","Value3" ];
print_r(array_map("myfunction",$new_array )); 
```

输出`Array ( [0] => value1 [1] => value2 [2] => value3 )`

* * *

## 回答 #11

> 赞同：-2
> 
> 时间：2014-07-11T19:11:32.077

您还可以使用`array_flip()`和的组合`array_change_key_case()`。看到[这个帖子](http://www.jterminal.com/3-uses-of-php-array_flip-function/)

# python - 如何一步退出并运行 Python IDLE shell

> ID：11008454
> 
> 赞同：0
> 
> 时间：2012-06-13T05:01:57.363
> 
> 标签：python, linux, shell, restart, python-idle

是否可以一步退出和运行 Python IDLE？如果是这样，我应该采取什么步骤来做到这一点？

我想在 Windows IDLE 中执行类似于 Shell -> Restart Shell (Ctrl+F6) 的操作。我可以按Ctrl-D，向上箭头，回车，但我想一步完成。

以下并没有真正回答我的问题... [如何在 Linux 中重新启动 IDLE Python Shell？](https://stackoverflow.com/questions/8188805/how-do-i-restart-the-idle-python-shell-in-linux)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T04:47:49.640

实际上，您链接到的相关问题确实为您提供了有关如何执行此操作的提示。

编辑 Idle 的菜单项，然后删除命令路径和文件名后的默认 -n。当您重新启动 Idle 时，您在 windows 中熟悉的 Shell 菜单项将具有所有常用功能。

# iphone - 从设置中加载 UIView 变换和中心给出不同的位置

> ID：11008462
> 
> 赞同：5
> 
> 时间：2012-06-13T05:03:28.197
> 
> 标签：iphone, uiview, transform, uigesturerecognizer, center

我正在使用平移、捏合和旋转 UIGestureRecognizers 来允许用户将某些 UI 元素准确地放在他们想要的位置。使用此处的代码[http://www.raywenderlich.com/6567/uigesturerecognizer-tutorial-in-ios-5-pinches-pans-and-more](http://www.raywenderlich.com/6567/uigesturerecognizer-tutorial-in-ios-5-pinches-pans-and-more)（或此处的类似代码[http://mobile.tutsplus.com/ tutorials/iphone/uigesturerecognizer/](http://mobile.tutsplus.com/tutorials/iphone/uigesturerecognizer/)）都为我提供了用户根据需要放置这些 UI 元素所需的东西。

当用户退出“UI 布局”模式时，我保存 UIView 的变换和中心，如下所示：

```
NSString *transformString = NSStringFromCGAffineTransform(self.transform);
[[NSUserDefaults standardUserDefaults] setObject:transformString forKey:@"UItransform", suffix]];

NSString *centerString = NSStringFromCGPoint(self.center);
[[NSUserDefaults standardUserDefaults] setObject:centerString forKey:@"UIcenter"]; 
```

当我重新加载应用程序时，我读取了 UIView 的转换和中心，如下所示：

```
NSString *centerString = [[NSUserDefaults standardUserDefaults] objectForKey:@"UIcenter"];
if( centerString != nil )
    self.center = CGPointFromString(centerString);

NSString *transformString = [[NSUserDefaults standardUserDefaults] objectForKey:@"UItransform"];

if( transformString != nil )
    self.transform = CGAffineTransformFromString(transformString); 
```

UIView 最终会正确旋转和缩放，但在错误的位置。此外，再次进入“UI 布局”模式后，我不能总是用各种手势抓取视图（好像显示的视图不是手势识别器所理解的视图？）

我还有一个重置按钮，可将 UIView 设置`transform`为身份，并将其`center`设置为从 NIB 加载时的任何内容。但是在加载改变后的 UIView 中心和变换后，即使重置也不起作用。UIView 的位置不对。

我的第一个想法是，由于这些手势代码示例`center`发生了变化，因此旋转必须围绕不同的中心进行（假设一些不可预测的移动、旋转和缩放序列）。由于我不想保存整个编辑序列（尽管如果我想在布局模式下拥有一些撤消功能，这可能会很方便），我更改了 UIPanGestureRecognizer 处理程序以使用转换来移动它。一旦我开始工作，我想只要保存转换就会让我得到当前的位置和方向，不管事情发生的顺序是什么。但没有这样的运气。我仍然以这种方式获得一个古怪的位置。

所以我很茫然。如果 UIView 已被移动并旋转到新位置，我该如何保存该位置和方向，以便稍后加载它并将 UIView 恢复到应有的位置？

如果我没有正确标记此内容或没有正确布局或犯了其他一些 stackoverflow 罪行，请提前道歉。这是我第一次在这里发帖。

编辑

到目前为止，我正在尝试这两个建议。我认为它们实际上是同一件事（一个建议保存框架，另一个建议保存原点，我认为是 frame.origin）。

所以现在首选项代码中的保存/加载包括以下内容。

节省：

```
NSString *originString = NSStringFromCGPoint(self.frame.origin);
[[NSUserDefaults standardUserDefaults] setObject:originString forKey:@"UIorigin"]; 
```

加载（加载转换*之前*）：

```
NSString *originString = [[NSUserDefaults standardUserDefaults] objectForKey:@"UIorigin"];
if( originString ) {
    CGPoint origin = CGPointFromString(originString);
    self.frame = CGRectMake(origin.x, origin.y, self.frame.size.width, self.frame.size.height);
} 
```

我得到了相同（或相似——很难说）的结果。事实上，我添加了一个按钮来重新加载首选项，一旦视图旋转，“重新加载”按钮将重复移动 UIView 一些偏移量（好像框架或变换是相对于自身的 - 我敢肯定是一个线索，但我不确定它指的是什么）。

编辑#2

这让我想知道取决于视图的`frame`. 来自 Apple [http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/WindowsandViews/WindowsandViews.html#//apple_ref/doc/uid/TP40009503-CH2-SW6](http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/WindowsandViews/WindowsandViews.html#//apple_ref/doc/uid/TP40009503-CH2-SW6)（强调我的）：

> center 属性中的值始终有效，即使缩放或旋转因子已添加到视图的变换中。*frame 属性中的值也不是这样，如果视图的变换不等于恒等变换，则认为该值无效。*

编辑#3

好的，所以当我加载首选项时，一切看起来都很好。UI 面板的`bounds`矩形是 {{0, 0}, {506, 254}}。在我的 VC 的 viewDidLoad 方法结束时，一切似乎都还可以。但是当事情真正被展示出来时，`bounds`就是另外一回事了。例如：{{0, 0}, {488.321, 435.981}}（看起来就像旋转和缩放后它在其父视图中的大小）。如果我将界限重新设置为应有的界限，它就会移回原位。

将界限重置为他们应该以编程方式设置的界限很容易，但我实际上不确定何时执行！我本来想在 viewDidLoad 结束时这样做，但`bounds`那时仍然是正确的。

编辑#4

我尝试在 initWithCoder 中捕获 self.bounds（因为它来自 NIB），然后在 layoutSubviews 中，将 self.bounds 重置为捕获的 CGRect。那行得通。

但它看起来非常骇人听闻并且充满了危险。这真的不是正确的方法。（可以吗？） skram 下面的回答似乎很简单，但在应用程序重新加载时对我不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:05:09.233

您也将保存该`frame`属性。您可以使用`NSStringFromCGRect()`和`CGRectFromString()`。

加载时，设置框架然后应用您的变​​换。这就是我在我的一个应用程序中执行此操作的方式。

希望这可以帮助。

**更新**：就我而言，我有 Draggable`UIViews`可以应用旋转和调整大小。我`NSCoding`用来保存和加载我的对象，示例如下。

```
//encoding
....
[coder encodeCGRect:self.frame forKey:@"rect"];
// you can save with NSStringFromCGRect(self.frame);
[coder encodeObject:NSStringFromCGAffineTransform(self.transform) forKey:@"savedTransform"];

//init-coder
CGRect frame = [coder decodeCGRectForKey:@"rect"];
// you can use frame = CGRectFromString(/*load string*/);
[self setFrame:frame];
self.transform = CGAffineTransformFromString([coder decodeObjectForKey:@"savedTransform"]); 
```

这样做是保存我的框架和变换，并在需要时加载它们。`NSStringFromCGRect()`和可以应用相同的方法`CGRectFromString()`。

**更新2**：在你的情况下。你会做这样的事情..

```
[self setFrame:CGRectFromString([[NSUserDefaults standardUserDefaults] valueForKey:@"UIFrame"])];
self.transform = CGAffineTransformFromString([[NSUserDefaults standardUserDefaults] valueForKey:@"transform"]); 
```

假设您`NSUserDefaults`使用`UIFrame`, 和`transform`键保存。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T18:33:54.623

我无法重现您的问题。我使用了以下代码，它执行以下操作：

*   添加视图
*   通过改变中心来移动它
*   用变换缩放它
*   用另一个变换旋转它，连接到第一个
*   将变换和中心保存到字符串
*   添加另一个视图并从字符串应用中心和变换

这会导致两个视图在完全相同的位置和位置：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    UIView *view1 = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 100, 100)];
    view1.layer.borderWidth = 5.0;
    view1.layer.borderColor = [UIColor blackColor].CGColor;
    [self.view addSubview:view1];
    view1.center = CGPointMake(150,150);
    view1.transform = CGAffineTransformMakeScale(1.3, 1.3);
    view1.transform = CGAffineTransformRotate(view1.transform, 0.5);

    NSString *savedCentre = NSStringFromCGPoint(view1.center);
    NSString *savedTransform = NSStringFromCGAffineTransform(view1.transform);

    UIView *view2 = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 100, 100)];
    view2.layer.borderWidth = 2.0;
    view2.layer.borderColor = [UIColor greenColor].CGColor;
    [self.view addSubview:view2];
    view2.center = CGPointFromString(savedCentre);
    view2.transform = CGAffineTransformFromString(savedTransform);

} 
```

给予：

![在此处输入图像描述](../Images/65e13359ffbf891a87e87b51d3fe12c0.png)

这与我对文档的期望有关，因为所有转换都发生在中心点周围，因此永远不会受到影响。我可以想象您无法将项目恢复到以前状态的唯一方法是，如果超级视图以某种方式*不同*，要么具有自己的变换或不同的框架，要么完全不同的视图。但我不能从你的问题中看出这一点。

总之，您问题中的原始代码应该可以工作，所以还有其他事情发生！希望这个答案能帮助您缩小范围。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T05:11:39.753

您还应该保存 UIView 的位置，

```
CGPoint position = CGPointMake(self.view.origin.x, self.view.origin.y)

NSString _position = NSStringFromCGPoint(position);

// Do the saving 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T10:06:36.973

我不确定正在发生的所有事情，但这里有一些可能会有所帮助的想法。

1- skram 的解决方案似乎是合理的，但它是`bounds`你要保存的，而不是`frame`. （请注意，如果没有旋转，则中心和边界定义框架。因此，设置两者与设置框架相同。）从，您链接到[的 IOS 查看编程指南：](http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/WindowsandViews/WindowsandViews.html#//apple_ref/doc/uid/TP40009503-CH2-SW6)

> 重要如果视图的变换属性不是恒等变换，则该视图的框架属性的值是未定义的并且必须被忽略。将变换应用于视图时，您必须使用视图的边界和中心属性来获取视图的大小和位置。任何子视图的框架矩形仍然有效，因为它们是相对于视图边界的。

2-另一个想法。重新加载应用程序时，您可以尝试以下操作：

*   首先，将视图的变换设置为恒等变换。
*   然后，将视图的边界和中心设置为保存的值。
*   最后，将视图的变换设置为保存的变换。

根据您的应用程序重新启动的位置，它可能会以一些旧几何图形重新启动。我真的不认为这会改变任何事情，但尝试起来很容易。
**更新：** 经过一些测试，看起来这确实没有任何效果。更改变换似乎不会更改边界或中心（尽管它确实会更改框架。）

3-最后，您可以通过重写捏合手势识别器来操作`bounds`而不是`transform`. （再次使用`bounds`，而不是`frame`，因为较早的旋转可能会使`frame`无效。）这样，变换仅用于旋转，我认为，如果不重绘​​，就不能以任何其他方式完成。

在同一指南中，Apple 的建议是：

> 当您想要实现动画时，通常会修改视图的变换属性。例如，您可以使用此属性创建视图围绕其中心点旋转的动画。您不会使用此属性对视图进行永久性更改，例如在其父视图的坐标空间内修改其位置或视图大小。对于这种类型的更改，您应该修改视图的框架矩形。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-21T21:43:44.887

感谢所有提供答案的人！它们的总和使我得出以下结论：

问题似乎是`bounds`CGRect 在启动时从首选项加载转换后被重置，但在实时修改时更新首选项时却没有。

我认为有两种解决方案。一种是首先加载首选项 from`layoutSubviews`而不是 from `viewDidLoad`。调用`bounds`之后似乎没有任何事情发生。`layoutSubviews`

但是，由于我的应用程序中的其他原因，从视图控制器的`viewDidLoad`. 所以我使用的解决方案是这样的：

```
// UserTransformableView.h
@interface UserTransformableView : UIView {
    CGRect defaultBounds;
}

// UserTransformableView.m
- (id)initWithCoder:(NSCoder *)aDecoder {
    self = [super initWithCoder:aDecoder];
    if( self ) {
        defaultBounds = self.bounds;
    }
    return self;
}

- (void)layoutSubviews {
    self.bounds = defaultBounds;
} 
```

# http - JSON Web 服务是否容易受到 CSRF 攻击？

> ID：11008469
> 
> 赞同：91
> 
> 时间：2012-06-13T05:03:51.480
> 
> 标签：http, security, csrf

我正在构建一个专门将 JSON 用于其请求和响应内容的 Web 服务（即，没有表单编码的有效负载）。

**如果以下情况属实，Web 服务是否容易受到 CSRF 攻击？**

1.  任何`POST`没有顶级 JSON 对象的请求，例如`{"foo":"bar"}`，都会被 400 拒绝。例如，`POST`带有内容的请求`42`将因此被拒绝。

2.  任何`POST`内容类型不是`application/json`400 的请求都将被拒绝。例如，`POST`内容类型的请求`application/x-www-form-urlencoded`将因此被拒绝。

3.  所有 GET 请求都是[Safe](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html)，因此不会修改任何服务器端数据。

4.  客户端通过会话 cookie 进行身份验证，Web 服务在他们通过带有 JSON 数据的 POST 提供正确的用户名/密码对后提供给客户端，例如`{"username":"user@example.com", "password":"my password"}`.

辅助问题：`PUT`和`DELETE`请求是否容易受到 CSRF 的攻击？我问是因为似乎大多数（所有？）浏览器都不允许在 HTML 表单中使用这些方法。

编辑：添加项目#4。

编辑：到目前为止，有很多好的评论和答案，但没有人提供此 Web 服务易受攻击的特定 CSRF 攻击。

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-06-13T22:42:51.710

只有使用 XHR 才能有效地伪造具有任意媒体类型的任意 CSRF 请求，因为[表单的方法仅限于 GET 和 POST](http://www.w3.org/TR/html5/attributes-common-to-form-controls.html#attr-fs-method)，并且[表单的 POST 消息体也仅限于三种格式`application/x-www-form-urlencoded`,`multipart/form-data`和`text/plain`](http://www.w3.org/TR/html5/attributes-common-to-form-controls.html#attr-fs-enctype)。但是，[使用表单数据编码`text/plain`仍然可以伪造包含有效 JSON 数据的请求](https://stackoverflow.com/q/10788538/53114)。

所以唯一的威胁来自基于 XHR 的 CSRF 攻击。只有当它们来自同一来源时，它们才会成功，所以基本上来自您自己的网站（例如 XSS）。注意不要误将禁用 CORS（即不设置 Access-Control-Allow-Origin: *）作为保护。CORS 只是阻止客户端读取响应。整个请求仍然由服务器发送和处理。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-09-27T23:57:13.330

是的，有可能。您可以设置一个攻击者服务器，它将向目标服务器发送回一个 307 重定向到受害机器。您需要使用 flash 来发送 POST 而不是使用 Form。

参考：[https ://bugzilla.mozilla.org/show_bug.cgi?id=1436241](https://bugzilla.mozilla.org/show_bug.cgi?id=1436241)

它也适用于 Chrome。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-18T10:39:47.163

可以使用 Ajax 在基于 JSON 的 Restful 服务上执行 CSRF。我在一个应用程序上测试了这个（同时使用 Chrome 和 Firefox）。您必须将 contentType 更改为 text/plain 并将 dataType 更改为 JSON 以避免预检请求。然后你可以发送请求，但是为了发送 sessiondata，你需要在你的 ajax 请求中设置 withCredentials 标志。我在这里更详细地讨论这个（包括参考资料）：

[http://wsecblog.blogspot.be/2016/03/csrf-with-json-post-via-ajax.html](http://wsecblog.blogspot.be/2016/03/csrf-with-json-post-via-ajax.html)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-03-07T17:34:03.620

我对第3点有一些疑问。虽然它不会改变服务器端的数据，因此可以认为是安全的，但数据仍然可以读取，并且存在被盗的风险。

[http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx/](http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx/)

* * *

## 回答 #5

> 赞同：-7
> 
> 时间：2012-06-13T08:53:03.727

> 如果以下情况属实，Web 服务是否容易受到 CSRF 攻击？

是的。它仍然是 HTTP。

> PUT 和 DELETE 请求是否容易受到 CSRF 的攻击？

是的

> 似乎大多数（所有？）浏览器都不允许在 HTML 表单中使用这些方法

您认为浏览器是发出 HTTP 请求的唯一方法吗？

# c# - 在 dotnet reg 中访问 dll 的结构

> ID：11008470
> 
> 赞同：1
> 
> 时间：2012-06-13T05:03:53.260
> 
> 标签：c#, .net, dll

是否有可能知道 dll 的总体结构为

1.  使用的变量名称
2.  使用的签名
3.  使用的声明
4.  使用的变量
5.  使用的类
6.  使用的方法

通过 c#.net 代码有代码或无代码，无需使用任何反编译器。

是否可以通过列出来通过自动化扫描dll

1) 里面导入的所有包 2) 里面使用的类 3) 里面使用的方法等等......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:05:21.503

**无需编写代码**

使用[.net 的软件 Reflector 软件](http://www.reflector.net/?utm_expid=53707066-1&utm_referrer=http://www.google.com.pk/url?sa=t&rct=j&q=reflector&source=web&cd=1&ved=0CGAQFjAA&url=http%253A%252F%252Fwww.reflector.net%252F&ei=OCHYT8I76b3RBb_W8JoE&usg=AFQjCNFUYKHS6YOhMQfDr2BkY_QXx9SZEQ)

**随着编写代码**

您可以[**在 Dot Net 中使用 .net Reflection**](http://msdn.microsoft.com/en-us/library/system.reflection.aspx)提供的反射命名空间。您也可以使用一些软件来获取大会的成员信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:05:32.090

您只需要[System.Reflection](http://msdn.microsoft.com/en-us/library/system.reflection.aspx)命名空间

# jquery - jquery悬停功能

> ID：11008474
> 
> 赞同：0
> 
> 时间：2012-06-13T05:04:32.253
> 
> 标签：jquery

```
var h=0;
var w=0;
    $(".extend").hover(function() {

        //alert(h);
        $(this).css({'z-index' : '999' });
        $(this).addClass("hover").filter(":not(:animated)").stop()
            .animate({
                marginTop: '-110px', 
                marginLeft: '10px', 
                top: '80%', 
                left: '80%',
                width: 387, 
                height: 487,
                padding: '0px' 
            }, 200);
         h=$(this).height();
         w=$(this).width();
        } , function() {
        $(this).css({'z-index' : '0'});
        $(this).removeClass("hover").stop()
            .animate({
                marginTop: '0', 
                marginLeft: '0',
                top: '0', 
                left: '0', 
                width:w,
                height:h,
                padding: '0px'
            }, 400);
    });

<img class="extend" src="a.jpg">
<img class="extend" src="b.jpg"> 
```

我的悬停功能有问题如果我将图像悬停到 a.jpg 它会扩展，然后我将悬停到 b.jpg 而不等待 a.jpg 返回到原始大小，它会变得更大和更大。

我如何在不改变大小的情况下悬停和展开？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:29:58.917

除非您需要更改宽度和高度，否则您应该只设置一次，假设两个图像的大小相同，这应该可以工作

```
var h=$(".extend").height();
var w=$(".extend").width();
    $(".extend").hover(function() {

        //alert(h);
        $(this).css({'z-index' : '999' });
        $(this).addClass("hover").filter(":not(:animated)").stop()
            .animate({
                marginTop: '-110px', 
                marginLeft: '10px', 
                top: '80%', 
                left: '80%',
                width: 387, 
                height: 487,
                padding: '0px' 
            }, 200);
        } , function() {
        $(this).css({'z-index' : '0'});
        $(this).removeClass("hover").stop()
            .animate({
                marginTop: '0', 
                marginLeft: '0',
                top: '0', 
                left: '0', 
                width:w,
                height:h,
                padding: '0px'
            }, 400);
    }); 
```

[小提琴](http://jsfiddle.net/mowglisanu/WSqve/)

编辑——
对于不同尺寸的图像，使用 .data() 将它们保存在元素中

```
$(".extend").each(function(){
    $(this).data('width', $(this).width());
    $(this).data('height', $(this).height());
})
$(".extend").hover(function() {

    //alert(h);
    $(this).css({'z-index' : '999' });
    $(this).addClass("hover").filter(":not(:animated)").stop()
        .animate({
            marginTop: '-110px', 
            marginLeft: '10px', 
            top: '80%', 
            left: '80%',
            width: 387, 
            height: 487,
            padding: '0px' 
        }, 200);
    } , function() {
    $(this).css({'z-index' : '0'});
    $(this).removeClass("hover").stop()
        .animate({
            marginTop: '0', 
            marginLeft: '0',
            top: '0', 
            left: '0', 
            width:$(this).data('width'),
            height:$(this).data('height'),
            padding: '0px'
        }, 400);
}); 
```

[小提琴](http://jsfiddle.net/mowglisanu/WSqve/1/)

EDIT-2-
解决移位问题的一种简单方法是将 img 标签包装在 inline-block 元素中，将元素尺寸设置为图像的尺寸，然后使 img 绝对定位

```
<span><img class="extend" src="a.jpg"></span>
<span><img class="extend" src="b.jpg"></span>​

$(".extend").each(function(){
    $(this).data('width', $(this).width());
    $(this).data('height', $(this).height());
    $(this).parent().css({display:'inline-block', width: $(this).width(), height: $(this).height()})
    .end().css({position:'absolute'});
})
$(".extend").hover(function() {

    //alert(h);
    $(this).css({'z-index' : '999' });
    $(this).addClass("hover").filter(":not(:animated)").stop()
        .animate({
            marginTop: '-110px', 
            marginLeft: '10px', 
            top: '80%', 
            left: '80%',
            width: 387, 
            height: 487,
            padding: '0px' 
        }, 200);
    } , function() {
    $(this).css({'z-index' : '0'});
    $(this).removeClass("hover").stop()
        .animate({
            marginTop: '0', 
            marginLeft: '0',
            top: '0', 
            left: '0', 
            width:$(this).data('width'),
            height:$(this).data('height'),
            padding: '0px'
        }, 400);
}); 
```

[小提琴](http://jsfiddle.net/mowglisanu/WSqve/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:11:31.370

试试这种方式：

```
 $(".extend").hover(function() {

    //alert(h);
     h=$(this).height();
     w=$(this).width();
    $(this).css({'z-index' : '999' });
    $(this).data('width', w);
    $(this).data('height',h);
    $(this).addClass("hover").filter(":not(:animated)").stop()
        .animate({
            marginTop: '-110px', 
            marginLeft: '10px', 
            top: '80%', 
            left: '80%',
            width: 387, 
            height: 487,
            padding: '0px' 
        }, 200);

    } , function() {
    $(this).css({'z-index' : '0'});
    h=$(this).data('height');
     w=$(this).data('width');
    $(this).removeClass("hover").stop()
        .animate({
            marginTop: '0', 
            marginLeft: '0',
            top: '0', 
            left: '0', 
            width:w,
            height:h,
            padding: '0px'
        }, 400);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:11:38.503

由于`w`和`h`是全局变量，每次悬停一个新元素时，它们都会变得越来越大。

`.data()`使用属性将它们存储在实际元素中：

```
$(".extend").hover(function() {
    $(this).css({'z-index' : '999' });
    $(this).addClass("hover").filter(":not(:animated)").stop()
        .animate({
            marginTop: '-110px', 
            marginLeft: '10px', 
            top: '80%', 
            left: '80%',
            width: 387, 
            height: 487,
            padding: '0px' 
        }, 200);

     $(this).data('original-height', $(this).height());
     $(this).data('original-width', $(this).width());

    } , function() {
    $(this).css({'z-index' : '0'});
    $(this).removeClass("hover").stop()
        .animate({
            marginTop: '0', 
            marginLeft: '0',
            top: '0', 
            left: '0', 
            width:$(this).data('original-width'),
            height:$(this).data('original-height'),
            padding: '0px'
        }, 400);
}); 
```

# java - 如何在 switch-case 语句中获取和设置值

> ID：11008478
> 
> 赞同：0
> 
> 时间：2012-06-13T05:04:57.423
> 
> 标签：java, menu, switch-statement

我想做一个简单的菜单，有 3 个选项：

员工管理器中的“创建新员工”、“显示所有员工”和“退出”（代码如下）但不成功（编译错误）。

BlueJ 编辑器无法实现“case 2”语句中的对象“m”、“s”和“l”。无论如何要在“案例1”中获取对象的值并在“案例2”中使用它们？非常感谢！

```
import java.util.Scanner;

public class Test
{
    public static void main(String[] args)
    {
        int ch;
        do{
            System.out.println("EMPLOYEE MANAGER\n");
            System.out.println("1\. Create new employees\n");
            System.out.println("2\. Display all employees\n");
            System.out.println("3\. Quit\n");
            System.out.print("Your choice: ");

            Scanner input = new Scanner(System.in);
            ch = input.nextInt();

            switch(ch){
                case 1: System.out.println("== CREATE NEW EMPLOYEES ==");
                    System.out.println();
                    Manager   m = new Manager();
                    Scientist s = new Scientist();
                    Labourer  l = new Labourer();
                    m.newManager();
                    s.newScientist();
                    l.newLabourer();
                    System.out.println();
                    break;

                case 2: System.out.println("==  PREVIEW  EMPLOYEES  ==");        
                    System.out.println();
                    m.display();
                    s.display();
                    l.display();
                    System.out.println();
                    System.out.println();
                    break;
                case 3: System.exit(0);
                default: System.out.println("Invalid choice!");
            }
        } while(ch >= 1 && ch <=4);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:06:21.660

它们是本地阻塞的，将它们声明在 switch 块之外

```
Manager   m = new Manager();
Scientist s = new Scientist();
Labourer  l = new Labourer();

switch(){...} 
```

这很好地回答了您的问题，但我想添加更多细节

如果您不将括号与 case 块放在一起

```
 switch(i){
   case 1:
    String str="abc";
    System.out.println(str);
   case 2:
     // it will give you compile time error
     //duplcate local variable str
     String str="abc";

    } 
```

那么这个`str`实例在其他案例块中也是可见的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:09:06.337

问：有没有办法在“案例1”中获取对象的值并在“案例2”中使用它们？

答：不。案例块的重点是“非此即彼”。

如果您想基于“其他”做“某事”，那么您将需要两个独立的控制结构。

例子：

```
import java.util.Scanner;

public class Test
{
    Manager m = null;
    Scientist s = null;
    Labourer  l = null;

    public static void main(String[] args) {
       Test test = new Test().doIt ();
    }

    private void doIt () {
       int ch;
       do{
          System.out.println("EMPLOYEE MANAGER\n");
          System.out.println("1\. Create new employees\n");
          System.out.println("2\. Display all employees\n");
          System.out.println("3\. Quit\n");
          System.out.print("Your choice: ");

          Scanner input = new Scanner(System.in);
          ch = input.nextInt();

          switch(ch) {
          case 1: 
              System.out.println("== CREATE NEW EMPLOYEES ==");
              getEmployees ();
              break;

          case 2: 
              System.out.println("==  PREVIEW  EMPLOYEES  ==");
              previewEmployees ();
              break;

          case 3: 
              System.exit(0);
              break;

          default: 
              System.out.println("Invalid choice!");
       }
    } while(ch >= 1 && ch <=4);
 }

 private void getEmployees () {
    System.out.println();
    m = new Manager();
    s = new Scientist();
    labourer  l = new Labourer();
    m.newManager();
    s.newScientist();
    l.newLabourer();
    System.out.println();
 }

 private void previewEmployees () {
    ... 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:06:43.577

在交换机之外更广泛的范围内定义您的对象 m、s 和 l。此外，使用空值初始化您的对象并在使用前验证它们。

```
Manager   m = null;
Scientist s = null;
Labourer  l = null;
do{
    //your code here....
        switch(ch) {
        case 1:
            m = new Manager();
            //the rest of your code here...
            break;
        case 2:
            if (m != null) {
                m.display(); //and so on
            }
    }
} 
```

# html - 如何设置一个具有链接外观和下降但没有文件的链接（链接的内容将与链接在同一个文件中）

> ID：11008486
> 
> 赞同：-2
> 
> 时间：2012-06-13T05:05:35.223
> 
> 标签：html

我正在编写一个应用程序，一个具有文件夹和文件层次结构的报告器，在较低的层次结构级别有两种类型的报告：简单的报告是一个平面（非链接）报告，它显示为一个简单的行。第二种类型是在标题中带有一般描述的链接，如果您点击链接，您将获得完整的报告。

示例：如果我运行 telnet 命令，我将在标题中看到该命令，如果我想查看与设备的整个会话，我将按下链接并显示它。

我的问题是大多数这些行文件都很小，但是操作系统为每个文件保留了最小空间，所以我白白浪费了很多磁盘空间。我想要实现的解决方案是一个“虚拟”链接，它将被呈现并且表现得像一个常规链接，但实际上会像它们的“父”一样存储在同一个文件中（可能还有很多像它们这样的其他链接）。

到目前为止，我看到的解决方案仅用于在页面内“跳转”，但这不是我想要的，我希望它像一个单独的文件一样呈现，我不希望“父”文件在全部（查看它的唯一方法是按下链接，即使那样它也只会显示此信息而不显示其他文件内容）。

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:09:44.493

要链接到网页中的特定部分，请在您希望用户单击链接时转到的位置放置一个锚链接：

```
<a name="anchor"></a> 
```

并链接到它：

```
Click <a href="#anchor">here</a> 
```

如果需要，您可以用更具描述性的名称替换“锚”。

* * *

隐藏/显示 div（以下代码未经测试，但应该可以工作）

**JQuery 解决方案（如果您使用的是 JQuery）：**

```
function toggle(divname) {
    $(divname).toggle();
} 
```

对应的 HTML：

```
<div id="content">some content</div>
<a onclick="toggle('content')">Click here to show/hide the content div!</a> 
```

**非jQuery解决方案：**

```
function toggle(divname) {
    var adiv = document.getElementById(divname);
    if (adiv.style.display === 'block' || adiv.style.display === '') {
        adiv.style.display = 'none'; 
    } else {
        adiv.style.display = 'block'
    }
} 
```

的HTML：

```
<div style="display:hidden" id="content">Content</div>
<a onclick="toggle('content')">Click here to show/hide the content div!</a> 
```

# ruby - “捆绑安装”失败，rails rubies 和 rvm 搞砸了

> ID：11008489
> 
> 赞同：1
> 
> 时间：2012-06-13T05:05:49.070
> 
> 标签：ruby, segmentation-fault, rvm, bundle

我搞砸了我的 rails、rubies 和 rvm，我已经重新安装了几次。重新安装我做

```
rvm implode 
```

我用 sudo 安装所有东西

我现在无法创建任何新的 Rails 项目，它在安装捆绑包时停止并继续给出分段错误。

这是我在之前创建的应用程序中进行捆绑安装时遇到的错误

```
trample1210$ bundle install
Fetching gem metadata from https://rubygems.org/./Users/trample1210/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/net/http.rb:799: [BUG] Segmentation fault
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin11.4.0] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T07:59:47.643

这是使用 GNU GCC 编译的 rubies 中的一个错误，`clang`您需要使用 GNU GCC 重新安装您的 ruby​​，最简单的方法是安装 osx-gcc-installer。

要重新安装 ruby​​，请运行：

```
rvm reinstall 1.9.3 
```

没有必要内爆，更重要的是获得正确的编译器 -`gcc-4.2`不应该输出**clang**或**LLVM**。

# sql-server - 时间戳/行版本溢出

> ID：11008492
> 
> 赞同：1
> 
> 时间：2012-06-13T05:05:58.867
> 
> 标签：sql-server, sql-server-2008

我对时间戳/行版本溢出有疑问。据我了解，由于我们无法区分数据库中最旧和最新修改的条目，因此发生溢出时数据类型的使用将是微不足道的。我的问题是如何克服这个问题？

编辑：假设我正在使用时间戳来同步数据，我如何区分时间戳为 0x0000000000000001 [数据库的第一个条目] 的条目和 0xfff....fff [溢出后的第一个条目] 之后的条目。（据我的理解，这个字段最终应该会在某个时间点溢出。如果我错了，请纠正我）。

# java - 控制流实践

> ID：11008498
> 
> 赞同：1
> 
> 时间：2012-06-13T05:06:30.703
> 
> 标签：java, controls, flow

现在有没有人是练习一些基本控制结构问题的好资源？一个网站会很有用。我正在尝试修改我的期末考试，以介绍 Java 编程。我们将得到的问题类似于：

> 1.h（6 分）：编写一个名为“Lengths”的完整 Java 程序，该程序将接受字符串参数列表，并计算并打印出每个长度的单词数。
> 
> 基本上有字符串操作问题..然后是数组控制流 Q 并找到最大值、最小值和平均值。

给予的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:10:52.013

也许在算法方面很重，但仍然有助于训练语言：[Project Euler](http://projecteuler.net/)

# java - 如何获取有关我的应用程序中发生的异常的更多详细信息？

> ID：11008504
> 
> 赞同：4
> 
> 时间：2012-06-13T05:07:34.723
> 
> 标签：java, android, exception, stack-trace, line-numbers

我想显示我的应用程序中发生的异常的详细信息，例如异常的行号。这可能吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T05:08:54.397

是的。在下面的示例中，stackTraceElement 中有很多关于您的异常的信息。

自定义此方法：

```
private static String getExceptionDetails(Activity act, Exception e) {
    StackTraceElement[] stackTraceElement = e.getStackTrace();

    String fileName = "";
    String methodName = "";
    int lineNumber = 0;

    try {
        String packageName = act.getApplicationInfo().packageName;
        for (int i = 0; i < stackTraceElement.length; i++) {
            if (stackTraceElement[i].getClassName().startsWith(packageName))
            {
                fileName = stackTraceElement[i].getFileName();
                methodName = stackTraceElement[i].getMethodName();
                lineNumber = stackTraceElement[i].getLineNumber();
                break;
            }
        }
    } catch (Exception e2) {
    }

    return fileName + ":" + methodName + "():line "
            + String.valueOf(lineNumber);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T05:08:28.210

你检查过了吗？

```
exception.printStackTrace() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-13T05:10:51.640

```
exception.printStackTrace() 
```

显示产生异常的行号和方法名称。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T05:23:35.643

使用 try catch 块作为

```
 try{

   // here add your code 

    }catch(Exception e){
     Log.e("error",e.toString());
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-04-02T13:10:27.667

你可以试试这个：

```
public static String getStackTrace(Throwable throwable) {
  StringWriter sw = new StringWriter();

  try (PrintWriter pw = new PrintWriter(sw)) {
    throwable.printStackTrace(pw);
    return sw.toString();
  }
} 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-06-13T05:10:43.373

查看 -

```
exception.getMessage() 
```

# php - mysql 列上的最大长度并确保我不会使用 utf8_unicode_ci - PHP 超出该限制？

> ID：11008505
> 
> 赞同：5
> 
> 时间：2012-06-13T05:07:45.667
> 
> 标签：php, mysql, string, text, unicode

我正在使用 mysql 中的`TEXT`列`ut8_unicode_ci`来存储从互联网上抓取的一些数据。

收集的文本来自不同语言的不同站点。

`65535`我对列的最大字节长度感到困惑`TEXT`。

如何检查我插入列中的字符串是否超过该限制？

在我`strlen($str)`用来检查字符串长度的那一刻，但是通过使用它是否可以确保数据不会被截断以适合列，因为我理解`utf8_unicode_ci`每个字符可以超过 1 个字节？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T12:05:28.007

**编辑：** OP 可以简单地使用`strlen()`，因为它返回字节，而不是字符。见证：

```
$ cat test.php
#!/usr/bin/php -q
<?php
echo strlen("דותן כהן")."\n";
echo mb_strlen("דותן כהן", "UTF-8")."\n";
?>

$ ./test.php 
15
8 
```

[在对这篇文章的评论中归功于](https://stackoverflow.com/users/476/deceze)deceze 。

**旧帖如下：**

PHP 手册的注释有[一个方便的函数来确定字符串中有多少字节](http://www.php.net/manual/en/function.strlen.php#72274)。它似乎是使用[MYSQL 内置函数`LENGTH`来完成这项工作](https://stackoverflow.com/a/11011360/343302)的唯一替代方法，这在这里会很麻烦。

还有另外两种可能的解决方法。首先，您可以将字符串写入文件并检查文件的大小。其次，你可以对 mb_strlen 强制进行 ASCII 编码，然后它将每个字节视为一个字符，因此它返回的字符数实际上就是字节数。我没有测试过，所以先检查一下。让我们知道什么对您有用！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T08:54:25.543

签出 MySQL 函数 LENGTH() ：

> 返回字符串 str 的长度，以字节为单位。多字节字符计为多个字节。这意味着对于包含五个两字节字符的字符串，LENGTH() 返回 10，而 CHAR_LENGTH() 返回 5。

# javascript - 如何使用 html 和 css 创建虚拟骰子（用于玩骰子）？

> ID：11008513
> 
> 赞同：6
> 
> 时间：2012-06-13T05:08:30.470
> 
> 标签：javascript, html, css

我正在尝试使用 CSS/HTML 和 JavaScript 制作虚拟骰子（用于玩骰子）......我的 JavaScript 部分正在工作，但我似乎无法让 HTML/CSS 以我想要的方式显示它（不创建一个无边框的表格，并将每个点放在一个单元格中）。我做了以下 JSfiddle： http: [//jsfiddle.net/ShoeMaker/KwBaN/5/](http://jsfiddle.net/ShoeMaker/KwBaN/5/)当你得到 4、5 或 6 时，你可以看到我的问题。

我想得到一个带有一组方括号 [ ] 的模拟芯片，里面有正确的点数。1\. 中间应该有一个点 2\. 左上角应该有一个点，右下角应该有一个点 3\. 左上角应该有一个点，中间应该有一个点，中间应该有一个点，还有一个在右下角 4\. 应该有一个在左上角、右上角、左下角和右下角 5\. 应该有一个在左上角、右上角、中间中间、左下角, 和右下角 6\. 顶部应该有三个，底部有三个（或左侧三个，右侧三个）。

我曾考虑过创建一个无边框表，但我想先尝试使用块/内联和超级/子。我不想显示图像（不允许）。他们只需要显示最终结果，而不是闪烁并假装滚动（尽管将来可能会很酷）。我不在乎使用 ASCII 字符或类似字符使它们“数字化”。（太传统了，比如模拟骰子）。

我的小提琴有什么想法没有按我的意愿工作吗？

几个小的附加说明......

*   将来我可能想将其与“非标准”骰子（具有 7、9、12、20、??? 面的骰子）一起使用，需要易于适应（使用“：”不起作用）。

*   希望它相对较小（每个骰子不应该占据屏幕的 1/8（Yahtzee 会占据屏幕的一半以上！））

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:22:36.887

有几件事。

Span 元素已经是内联元素，因此您无需在 css 中指定此类元素。

请注意，您的“行”元素现在包装在具有“内联块”显示样式的父容器中。内部元素被更改为`block`元素，因为您希望它们“堆叠”在彼此之上以达到您想要的效果。

```
<span class="bracket">[</span>
<div id="die">
    <div id="TopRow">&nbsp;&nbsp;&nbsp;</div>
    <div id="MidRow">&nbsp;&nbsp;&nbsp;</div>
    <div id="BotRow">&nbsp;&nbsp;&nbsp;</div>
</div>
<span class="bracket">]</span>

#die {
    display: inline-block; 
    padding: 5px;             
}

span.bracket {
    font-size: 95px;       
}

#TopRow, #MidRow, #BotRow {
    font-weight: bold;           
} 
```

​ 更新小提琴：http: [//jsfiddle.net/KwBaN/11/](http://jsfiddle.net/KwBaN/11/)

**编辑**：根据您的评论，这里是另一个使“死”更小的更新：

```
div {
     padding: 0;
     margin: 0; 
}

#die {
    display: inline-block;              
}

span.bracket {
    font-size: 40px;       
}

#TopRow, #MidRow, #BotRow {
    font-weight: bold;  
    font-size: 12px;
    line-height: 8px;    
} 
```

另一个更新的小提琴： http: [//jsfiddle.net/KwBaN/34/](http://jsfiddle.net/KwBaN/34/) ​</p>

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T05:22:38.577

我做了一些html和css，结果就在这里-

[http://jsfiddle.net/ashwyn/KwBaN/21/](http://jsfiddle.net/ashwyn/KwBaN/21/)

**编辑：**
使用内联 css 更新小提琴。
[http://jsfiddle.net/ashwyn/KwBaN/36/](http://jsfiddle.net/ashwyn/KwBaN/36/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T05:16:37.553

HTML：

```
<span>[</span>
<div style="display:inline-block;">
    <div id='top'></div>
    <div id='mid'></div>
    <div id='bot'></div>
</div>
<span>]</span> 
```

只需将字体大小添加到内容中并使 id 正确，它应该可以工作。它在彼此正上方的三行上显示点。也许会弄乱`line-height`以使其漂亮。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T05:21:50.130

这样的概念？

[http://jsfiddle.net/NuRKL/12/](http://jsfiddle.net/NuRKL/12/)

# java-me - J2ME(LWUIT)- 中断来自服务器的响应

> ID：11008514
> 
> 赞同：0
> 
> 时间：2012-06-13T05:08:35.037
> 
> 标签：java-me, lwuit

我已经使用**J2ME(LWUIT)**开发了一个移动应用程序，因为在收到来自服务器的响应并在服务器端完成更新后，我必须更新我的移动 RMS 中的值，在这种情况下，当我点击呼叫结束按钮时 - 红色在点击服务器后和收到响应之前，我的手机中的按钮，移动应用程序被关闭并且服务器端值已更新，但移动**RMS**值尚未更新，请告诉我是否有人对此有所了解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T12:59:33.953

红色按钮通常会立即终止应用程序，并且不会真正让您有机会修复它。您可能需要回调到服务器以实际在那里提交数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T10:54:49.637

@arun好吧，您可以做的是。

1）更新服务器上的更改。

2) 将您希望推送到 RMS 的数据连同唯一 ID 一起发送到 MIDlet。唯一 ID 唯一标识每笔交易。

3）此时，服务器一直在等待 MIDlet 确认 MIDlet 是否收到数据（假设等待 20 秒）

4）一旦 MIDlet 接收到数据，它将数据存储在内存中，并立即将确认连同收到的 uniqueID 一起发送到服务器（并等待 ..say.25 秒）。MIDlet 还存储服务器发送具有特定唯一 ID 数据的次数的计数。因此，计数最初为 0，并且每次服务器发送具有相同唯一 ID 的数据时递增。

5）如果服务器在 20 秒内收到确认，它什么也不做。25 秒后，MIDlet 会将数据写入 RMS。你的工作完成了！

5.1）如果服务器没有收到确认，它将再次发送具有相同唯一ID的数据（在第21秒）。MIDlet 识别唯一 id 并递增计数器，该计数器跟踪服务器发送相同数据的次数。它再次发送确认并等待 25 秒。

现在……这个过程可以继续下去。

您需要做的是……决定何时决定退出此过程。

6）最终，如果服务器没有收到确认，它会回滚更改并向MIDlet发送消息“roll back data for unique id so so”

7) 如果 midlet 没有提交该唯一 id 的数据，它会忽略消息以及与该唯一 id 关联的更改。如果已经提交，它只会回滚该唯一 ID 的数据。如果对相同的唯一 id 重复回滚请求，则忽略并向服务器发送更改已回滚的消息。

8)注意：您需要向服务器发送一条消息，说明对 RMS 的更改已回滚，否则服务器将继续发送消息以回滚更改。

是的，这很复杂。看看这本书。作者 Behrouz Forouzan 的通信网络或类似的东西。他解释了这个工厂。

# c# - LINQ：如何返回所有子元素？

> ID：11008518
> 
> 赞同：3
> 
> 时间：2012-06-13T05:09:02.603
> 
> 标签：c#, xml, linq

对于我正在处理的应用程序，我必须显示 XML 文件中的数据。正在进行一些转换，但最终结果将显示在树视图中。当用户然后单击一个节点时，我想在列表视图中弹出详细信息。

当没有节点被选中时，我基本上是使用LINQ来抓取我遇到的第一个项目的细节。

这是我的 XML 的简化版本

```
<root>
   <parent label="parent1">
      <child label="child1">
         <element1>data</element1>
         <element2>data</element2>
         ...
      </child>
      <child label="child2">
         <element1>data</element1>
         <element2>data</element2>
         ...
      </child>
   </parent>
</root> 
```

这是用于抓取它的代码（在通过 XPAthSelectStatement 选择树视图设置为的父节点之后）：

```
protected void listsSource_Selecting(object sender, LinqDataSourceSelectEventArgs e)
{
    XElement rootElement = XElement.Load(MapPath(TreeSource.DataFile));
    rootElement = rootElement.XPathSelectElement("//parent[@label='parent1']");
    XElement parentElement;

    parentElement = rootElement;

    var query = (from itemElement in parentElement.Descendants("child")
                 select new
                 {
                     varElement1 = itemElement.Element("element1").Value,
                     varElement2 = itemElement.Element("element2").Value,
                     ...
                 }).Take(1);

    e.result = Query;
} 
```

这是一种享受，我可以从那里读出`varElement1`和`varElement2`值。但是，当我尝试为用户实际选择节点时实现类似的机制时，我似乎碰壁了。

我的方法是使用另一个`XPatchSelectStatement`来到达实际节点：

```
parentElement = rootElement.XPathSelectElement("//child[@label='" + tvwChildren.SelectedNode.Text + "']"); 
```

但是我对如何现在构建一个正确的 LINQ 查询以读取嵌套在子节点下的所有元素感到困惑。我尝试使用`parentElement.Elements()`，但这会产生错误。我也看过 using `Nodes()`，但结果相似。

我想我可以使用 foreach 循环来访问节点，但是我不确定如何将结果放入 LINQ 查询中，以便可以返回相同的结果`e.Result = query`。

正如您可能已经猜到的那样，我对 LINQ 相当陌生，因此非常感谢任何提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:56:14.770

我认为在这种情况下数据绑定要容易得多。

```
XDocument doc = XDocument.Load(filePath);
if (doc.Root == null)
{
throw new ApplicationException("invalid data");
}
tvwChildren.Source=doc; 
```

但是如果你想以这种方式希望以下帮助（不是确切的解决方案）

```
XElement root = XElement.Load("Employees.xml");
TreeNode rootNode = new TreeNode(root.Name.LocalName);
treeView1.Nodes.Add(rootNode);
    foreach(XElement employee in root.Elements())
           {
            TreeNode employeeNode = new TreeNode("Employee ID :" + employee.Attribute("employeeid").Value);
            rootNode.Nodes.Add(employeeNode);
                 if (employee.HasElements)
                 {
                    foreach(XElement employeechild in employee.Descendants())
                     {
                        TreeNode childNode = new TreeNode(employeechild.Value);
                        employeeNode.Nodes.Add(childNode);
                     }
                 }
            } 
```

您可以尝试使用 Resharper 工具来创建更好的 linq 语句。它显示了可能的循环，您可以轻松地将每个 for、foreach 循环转换为 linq 语句。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T07:16:22.243

这是将为您提供子元素的查询（假设只有一个`child`具有指定标签的元素）：

```
var childElement = rootNode.Descendants("child")
                           .Single(e=>e.Attribute("label").Value == "child1"); 
```

如果您有多个`child`元素，`label="child1"`但这些元素位于不同的`parent`元素下，您可以使用相同的方法先获取`parent`元素，然后再获取`child`元素。

有了以上内容，您可以使用此查询来获取`element`节点下的所有`child`节点：

```
var elements = childElement.Descendants().Select(e=>e.Value); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T08:39:26.403

我不完全确定我理解你想要做什么，但听起来可能是这样的：

```
var data =
    from p in xml.Root.Elements("parent")
    where p.Attribute("label").Value == "parent1"
    from c in p.Elements("child")
    where c.Attribute("label").Value == "child2"
    from d in c.Elements()
    select d.Value; 
```

让我知道这是否有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T17:55:12.660

使用[这个 Xml 库](https://github.com/ChuckSavage/XmlLib/)，您可以编写您的 XPath，如下所示：

```
XElement child = rootElement.XPathElement(
    "//parent[@label={0}]/child[@label={1}]", "parent1", "child2"); 
```

# python - 使用 python 3.2 检测和打印两个文本文件之间的差异

> ID：11008519
> 
> 赞同：0
> 
> 时间：2012-06-13T05:09:02.843
> 
> 标签：python, python-3.x

我一直在尝试用 python 编写一个程序来读取两个文本文件并打印它们的文本中的差异。这两个文件是相似的，除了由于插入了一些注释而导致的行号不同。我尝试使用 difflib模块，但它给了我错误。

```
import difflib
from difflib import *

temp3=[]
temp4=[]
with open ("seqdetect",'r') as f:
    with open ("seqdetect_2",'r') as g:
        for item in f:
            temp1 =item.split()
            temp3.append(temp1)

        for items in g:
            temp2 =items.split()
            temp4.append(temp2)
        d = difflib.Differ()
        diff = d.compare(temp3, temp4)
        print ('\n'.join(diff)) 
```

你能建议一个替代方案吗？问候，马扬克

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T07:10:13.527

好的，我已经尝试了您的代码并发现了问题。

该`Differ.compare()`方法期望得到两个字符串列表，代表两个文本的行。但是，由于您的`item.split()`调用，您的列表`temp3`和`temp4`是（一个字符长）字符串列表的列表。

我不确定你到底想用那个拆分做什么，所以我不确定最好的解决方法是什么。如果您确实希望它告诉您已添加或删除的单个字符，您可以在两个 for 循环中`append()`替换您的调用。`extend()`但坦率地说，这似乎不是很有用。

分裂更有可能是一个错误。而不是循环遍历文件中的行，只需使用将它们全部读入列表`readlines()`并让 Differ 对其进行处理。

```
with open("seqdetect") as f, open("seqdetect_2") as g:
    flines = f.readlines()
    glines = g.readlines()

    d = difflib.Differ()
    diff = d.compare(flines, glines)
    print("\n".join(diff)) 
```

如果您想对什么算作差异进行一些过滤（忽略空格差异等），您应该探索[difflib 文档](http://docs.python.org/py3k/library/difflib.html)，并将适当的函数作为Differ 构造函数的`linejunk`or参数传递。`charjunk`

# lua - 在 Lua 中将 '%' 放入 string.gsub()

> ID：11008520
> 
> 赞同：3
> 
> 时间：2012-06-13T05:09:03.980
> 
> 标签：lua, gsub, lua-patterns

我有这个代码

```
local strs = "my dog"
print (string.gsub( strs , " ","%20")) 
```

我只是希望输出是这样的，`my%20dog`但我收到了这个错误

```
Runtime error
        ... invalid capture index
stack traceback:
        [C]: ?
        [C]: in function 'gsub' 
```

我读过那`%`是Lua中的逃生。

我的问题是，我如何申请`%`替换的新字符串（`strs`）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-13T05:13:59.423

尝试

```
print (string.gsub( strs , " ","%%20")) 
```

`%`在 lua 中用于正则表达式操作，例如。`%a`适用于所有字母[教程](http://lua-users.org/wiki/PatternsTutorial)

为了逃避它，我们需要用来`%%`告诉我们实际上是在寻找百分号而不是正则表达式。

# android - datepicker android上的取消按钮

> ID：11008524
> 
> 赞同：1
> 
> 时间：2012-06-13T05:09:22.013
> 
> 标签：android, android-widget, android-datepicker

我有一个 FromDate `EditText`，我已向其中添加了图像。现在，当我单击图像时，`Datepicker`会显示一个。现在，当我选择某个日期并单击**Set** `Button`时，日期设置在`EditText`. 问题是，当我单击 Cancel 时`Button`，日期选择器消失了，并且在我按 Back 之前，prev 活动不会获得焦点！屏幕上没有触摸事件。请帮忙...

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T06:23:41.087

我不相信这可能是最好的方法......但是下面的代码是如何工作的；从此链接获得了一些指导 [https://stackoverflow.com/a/4981308/840520](https://stackoverflow.com/a/4981308/840520)

```
 dialog.setButton(DialogInterface.BUTTON_NEGATIVE, getString(R.string.cancel), new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
               if (which == DialogInterface.BUTTON_NEGATIVE) {                 
                  dialog.dismiss();
                  onBackPressed();
               }
            }
          }); 
```

由于我有一个项目交付，现在这对我有用。但是，我仍在寻找一种体面的方式来处理这个问题。android平台是否不像其他对话框那样处理取消按钮？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-09T06:45:18.673

我已经实现了具有取消事件处理和使用 EditText 的日期选择器。可能对想要清除取消事件文本的人有所帮助。

```
private EditText dob;
    static final int DATE_DIALOG_ID = 0;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.browse);

        dob = (EditText) findViewById(R.id.txtDob);
                /* For DOB EditText */
        dob.setOnTouchListener(new OnTouchListener() {
            public boolean onTouch(View v, MotionEvent event) {
                if (v == dob)
                    showDialog(DATE_DIALOG_ID);
                return false;
            }
        });
}

    @Override
    protected Dialog onCreateDialog(int id) {
        final int cyear, cmonth, cday;

        if (dob.getText().equals("")) {
            Calendar c = Calendar.getInstance();
            cyear = c.get(Calendar.YEAR);
            cmonth = c.get(Calendar.MONTH);
            cday = c.get(Calendar.DAY_OF_MONTH);
        } else {
            String[] datestr = dob.getText().toString().split("-");
            cyear = Integer.parseInt(datestr[0]);
            cmonth = Integer.parseInt(datestr[1]);
            cday = Integer.parseInt(datestr[2]);
        }
        switch (id) {
        case DATE_DIALOG_ID:
            // return new DatePickerDialog(this, mDateSetListener, cyear,
            // cmonth,cday);
            DatePickerDialog dateDlg = new DatePickerDialog(this,
                    new DatePickerDialog.OnDateSetListener() {
                        public void onDateSet(DatePicker view, int year,
                                int monthOfYear, int dayOfMonth) {
                            String date_selected = String.valueOf(year)
                                    + "-"
                                    + ((String.valueOf(monthOfYear + 1)
                                            .length() == 1 ? "0"
                                            + String.valueOf(monthOfYear + 1)
                                            : String.valueOf(monthOfYear + 1)))
                                    + "-"
                                    + ((String.valueOf(dayOfMonth).length() == 1 ? "0"
                                            + String.valueOf(dayOfMonth)
                                            : String.valueOf(dayOfMonth)));
                            dob.setText(date_selected);

                        }

                    }, cyear, cmonth, cday);
            dateDlg.setTitle(getString(R.string.dob));
            dateDlg.setCancelable(false);
            dateDlg.setButton(DialogInterface.BUTTON_NEGATIVE, "Cancel",
                    new DialogInterface.OnClickListener() {
                        @Override
                        public void onClick(DialogInterface dialog, int which) {
                         dob.setText("");
                         dialog.dismiss();

                        }
                    });

            return dateDlg;

        }
        return null;
    }
```

# c - 绘制立方体时出现奇怪的 OpenGL 行为

> ID：11008527
> 
> 赞同：5
> 
> 时间：2012-06-13T05:09:43.133
> 
> 标签：c, opengl, 3d, glut, depth-testing

当我用这段代码画一个立方体时

```
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
glLoadIdentity();
gluLookAt(
x,    y,    z, 
x+xp, y+yp, z+zp,
0.0f, 1.0f, 0.0f);   
glBegin(GL_QUADS);            

glColor3f(0.0f,1.0f,0.0f);            
glVertex3f( 1.0f, 1.0f,-1.0f);        
glVertex3f(-1.0f, 1.0f,-1.0f);       
glVertex3f(-1.0f, 1.0f, 1.0f);       
glVertex3f( 1.0f, 1.0f, 1.0f);        

glColor3f(1.0f,0.5,0.0f);           
glVertex3f( 1.0f,-1.0f, 1.0f);        
glVertex3f(-1.0f,-1.0f, 1.0f);        
glVertex3f(-1.0f,-1.0f,-1.0f);       
glVertex3f( 1.0f,-1.0f,-1.0f);        

glColor3f(1.0f,0.0f,0.0f);            
glVertex3f( 1.0f, 1.0f, 1.0f);        
glVertex3f(-1.0f, 1.0f, 1.0f);       
glVertex3f(-1.0f,-1.0f, 1.0f);        
glVertex3f( 1.0f,-1.0f, 1.0f);        

glColor3f(1.0f,1.0f,0.0f);            
glVertex3f( 1.0f,-1.0f,-1.0f);        
glVertex3f(-1.0f,-1.0f,-1.0f);        
glVertex3f(-1.0f, 1.0f,-1.0f);        
glVertex3f( 1.0f, 1.0f,-1.0f);        

glColor3f(0.0f,0.0f,1.0f);            
glVertex3f(-1.0f, 1.0f, 1.0f);       
glVertex3f(-1.0f, 1.0f,-1.0f);        
glVertex3f(-1.0f,-1.0f,-1.0f);       
glVertex3f(-1.0f,-1.0f, 1.0f);        

glColor3f(1.0f,0.0f,1.0f);            
glVertex3f( 1.0f, 1.0f,-1.0f);        
glVertex3f( 1.0f, 1.0f, 1.0f);        
glVertex3f( 1.0f,-1.0f, 1.0f);       
glVertex3f( 1.0f,-1.0f,-1.0f);   
glEnd(); 
```

我得到一个奇怪的 cude 图：

[![图像1](../Images/fd206c7521b07233645a12e0fa9d4bfc.png)](https://i.stack.imgur.com/Z0nAR.png)

和

[![img2](../Images/0c306af8287304005343ef6923abb032.png)](https://i.stack.imgur.com/iwp3T.png)

即使没有 gluLookAt()，我仍然会得到一张奇怪的图画。

奇怪的是我在 python OpenGL 项目中使用了完全相同的代码并且没有遇到任何问题。所以这似乎是一个C错误？

似乎根本没有绘制前 2 个四边形（绿色和橙色）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T21:05:26.137

刚刚通过添加解决了我自己的问题：

```
glEnable(GL_DEPTH_TEST); 
```

到我的代码。

# python - 任何用于自定义 BNF 解析器的 python 模块？

> ID：11008528
> 
> 赞同：0
> 
> 时间：2012-06-13T05:09:43.887
> 
> 标签：python, parsing

朋友们。

我有一个需要解析的类似“make”的样式文件。语法类似于：

```
samtools=/path/to/samtools
picard=/path/to/picard

task1: 
    des: description
    path: /path/to/task1
    para: [$global.samtools,
           $args.input,
           $path
          ]

task2: task1 
```

where`$global`包含在全局范围内定义的变量。`$path`是一个“局部”变量。`$args`包含用户传入的键/对值。

我想通过一些 python 库来解析这个文件。最好返回一些解析树。如果有一些错误，最好报告它们。我找到了这个：[CodeTalker](http://jaredforsyth.com/blog/2010/jul/8/announcing-codetalker/)和[yeanpypa](http://freecode.com/projects/yeanpypa)。在这种情况下可以使用它们吗？还有其他建议吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T08:45:41.390

我不得不根据你的例子猜测你的makefile结构允许什么，但这应该让你接近：

```
from pyparsing import *
# elements of the makefile are delimited by line, so we must
# define skippable whitespace to include just spaces and tabs
ParserElement.setDefaultWhitespaceChars(' \t')
NL = LineEnd().suppress()

EQ,COLON,LBRACK,RBRACK = map(Suppress, "=:[]")
identifier = Word(alphas+'_', alphanums)

symbol_assignment = Group(identifier("name") + EQ + empty + 
                          restOfLine("value"))("symbol_assignment")
symbol_ref = Word("$",alphanums+"_.")

def only_column_one(s,l,t):
    if col(l,s) != 1:
        raise ParseException(s,l,"not in column 1")
# task identifiers have to start in column 1
task_identifier = identifier.copy().setParseAction(only_column_one)

task_description = "des:" + empty + restOfLine("des")
task_path = "path:" + empty + restOfLine("path")
task_para_body = delimitedList(symbol_ref)
task_para = "para:" + LBRACK + task_para_body("para") + RBRACK
task_para.ignore(NL)
task_definition = Group(task_identifier("target") + COLON + 
        Optional(delimitedList(identifier))("deps") + NL +
        (
        Optional(task_description + NL) & 
        Optional(task_path + NL) & 
        Optional(task_para + NL)
        )
    )("task_definition")

makefile_parser = ZeroOrMore(
    symbol_assignment |
    task_definition |
    NL
    )

if __name__ == "__main__":
    test = """\
samtools=/path/to/samtools
picard=/path/to/picard

task1:  
    des: description 
    path: /path/to/task1 
    para: [$global.samtools, 
           $args.input, 
           $path 
          ] 

task2: task1 
"""

# dump out what we parsed, including results names
for element in makefile_parser.parseString(test):
    print element.getName()
    print element.dump()
    print 
```

印刷：

```
symbol_assignment
['samtools', '/path/to/samtools']
- name: samtools
- value: /path/to/samtools

symbol_assignment
['picard', '/path/to/picard']
- name: picard
- value: /path/to/picard

task_definition
['task1', 'des:', 'description ', 'path:', '/path/to/task1 ', 'para:', 
 '$global.samtools', '$args.input', '$path']
- des: description 
- para: ['$global.samtools', '$args.input', '$path']
- path: /path/to/task1 
- target: task1

task_definition
['task2', 'task1']
- deps: ['task1']
- target: task2 
```

dump() 输出显示您可以使用哪些名称来获取已解析元素中的字段，或区分您拥有的元素类型。dump() 是一个方便的通用工具，用于输出 pyparsing 已解析的任何内容。下面是一些更特定于您的特定解析器的代码，展示了如何将字段名称用作点对象引用（`element.target`、`element.deps`、`element.name`等）或 dict 样式引用（`element[key]`）：

```
for element in makefile_parser.parseString(test):
    if element.getName() == 'task_definition':
        print "TASK:", element.target,
        if element.deps:
            print "DEPS:(" + ','.join(element.deps) + ")"
        else:
            print
        for key in ('des', 'path', 'para'):
            if key in element:
                print " ", key.upper()+":", element[key]

    elif element.getName() == 'symbol_assignment':
        print "SYM:", element.name, "->", element.value 
```

印刷：

```
SYM: samtools -> /path/to/samtools
SYM: picard -> /path/to/picard
TASK: task1
  DES: description 
  PATH: /path/to/task1 
  PARA: ['$global.samtools', '$args.input', '$path']
TASK: task2 DEPS:(task1) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-13T05:17:56.710

我过去使用`pyparsing`过并且对它非常满意（qv，[pyparsing 项目站点](http://pyparsing.wikispaces.com/)）。

# python - 如何取消选择 PySide QTableWidget 中的项目

> ID：11008530
> 
> 赞同：1
> 
> 时间：2012-06-13T05:10:05.880
> 
> 标签：python, pyside

非常简单的问题，但我似乎无法在文档中看到答案。

我有一个工作 QTableWidget，我需要清除选择。用例是向数据模型添加一行时，我不希望用户将新行与所选内容相关联，因此需要清除选择。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T05:27:44.113

我想你可能忘记检查 QTableWidget 的超类。

QTableWidget -> QTableView -> [QAbstractItemView.clearSelection()](http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qabstractitemview.html#clearSelection)

如果需要控制特定item的选择状态：
[QTableWidget.setItemSelected()](http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qtablewidget.html#setItemSelected)

编辑：以前的链接坏了。 [PySide.QtGui.QAbstractItemView.clearSelection()](http://pyside.github.io/docs/pyside/PySide/QtGui/QAbstractItemView.html#PySide.QtGui.PySide.QtGui.QAbstractItemView.clearSelection)

> PySide.QtGui.QAbstractItemView.clearSelection()
> 取消选择所有选定的项目。当前索引不会改变。

# ios5 - iOS 5.1 Monotouch 查看问题

> ID：11008532
> 
> 赞同：1
> 
> 时间：2012-06-13T05:10:38.983
> 
> 标签：ios5, uinavigationcontroller, xamarin.ios

是否有可能具有以下“视图”结构？

1) RootViewController 是一个 UITabBarController。2) “选项卡式”视图之一是 UISplitViewController。3）“SplitViewController”的“Detail”视图是一个UINavigationController。

我想要完成的是“详细信息”视图可以创建一个具有“后退”按钮的子视图。

问题是在我的“详细信息”视图中调用 PushViewController(newView, true) 从不显示 newView。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T12:22:07.170

必须`UISplitViewController`是顶级控制器。

见这里：[拆分视图控制器必须是根视图控制器](https://stackoverflow.com/questions/2579861/split-view-controller-must-be-root-view-controller)

`UITabBarController`您应该只使用拆分控制器，而不是在根目录使用 a 。

详细信息和主信息部分都将具有`UINavigationControllers`您可以根据需要推送任意数量的新屏幕的位置。

# ruby-on-rails-3 - 未知属性 X，但 X 不在 rails3 中 update_attributes 的参数中

> ID：11008537
> 
> 赞同：1
> 
> 时间：2012-06-13T05:10:55.237
> 
> 标签：ruby-on-rails-3, update-attributes

我正在尝试使用 accept_nested_attributes 在表单中设置对象的字段。但是，当我这样做时，在控制器中：

```
@device.update_attributes(params[:device]) 
```

我得到：

```
ActiveRecord::UnknownAttributeError
"unknown attribute: device_id" 
```

但是 device_id 是其他非相关模型的属性，不包含在 params 中。参数如下所示。

```
{"utf8"=>"✓",
 "authenticity_token"=>"Xja5GCNRutpZn2c4wKeSx0KO6sNEzh09kWmPQ0/0Hys=",
 "id"=>"5",
 "device"=>{"routes_attributes"=>{"0"=>{"name"=>"",
 "origin_attributes"=>{"name"=>"",
 "lat"=>"",
 "lng"=>""},
 "destination_attributes"=>{"name"=>"",
 "lat"=>"",
 "lng"=>""}}}},
 "commit"=>"Create Device"} 
```

可以认为是什么原因。这是我的代码。

看法

```
<%= form_for @device, :url => {:action => "do_compose"}, :method => :post do |f| %>
  <div class="field">
     <%= select_tag(:id, options_for_select( Device.all.collect{|d| [d.name + "/" + d.get_driver().name, d.id] } ),:prompt=>"select a device") %>                                 
  </div>

  <div class="field">
    <%= render partial:"routes/nested_routes_form", locals: {route_object:@device.get_route(), parent_form:f} %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %> 
```

控制器

```
 def do_compose
    @device = Device.find(params[:id])
    respond_to do |format|
      if @device.update_attributes(params[:device])
        format.html { redirect_to @device, notice: 'Device was successfully updated.' }
      else
        format.html { render action: comopse }
      end
    end
  end 
```

模型

```
 class Route < ActiveRecord::Base
    attr_accessible :name, :destination_attributes, :origin_attributes, :waypoints, :driver_id
    has_many :waypoints
    has_one :origin, :class_name=>"Origin"
    has_one :destination, :class_name=>"Destination"
    belongs_to :device
    accepts_nested_attributes_for :origin, :destination, :waypoints
  end

  class Device < ActiveRecord::Base
    attr_accessible :id, :name, :password
    attr_accessible :device_driver_bind_attributes, :drivers_attributes, :routes_attributes, :current_location_attributes
    has_many :drivers, through: :device_driver_bind
    has_many :device_driver_bind, dependent: :destroy
    has_one :current_location, :class_name => "CurrentLocation"
    has_many :routes
    has_many :origins, through: :routes
    has_many :destinations, through: :routes
    has_many :waypoints, through: :routes
    accepts_nested_attributes_for :routes, :current_location, :device_driver_bind
  end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:26:14.833

这必须是您的 select_tag 中的问题，试试这个：

```
<%= f.select(:id, options_for_select( Device.all.collect{|d| [d.name + "/" + d.get_driver().name, d.id] } ),:prompt=>"select a device") %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:57:29.473

```
ActiveRecord::UnknownAttributeError
"unknown attribute: device_id" 
```

看起来这是由于 Routes 上缺少一列。

ActiveRecord 期望能够将其设置为`accepts_nested_attributes_for :routes`, 以满足`belongs_to :device`.

# java - java中ParseInt接收到的int和int的区别

> ID：11008538
> 
> 赞同：5
> 
> 时间：2012-06-13T05:11:00.993
> 
> 标签：java, parseint

```
int i = 0;
int k = Integer.parseInt("12");
int j = k;
System.out.println(i+1 + " " + j+1); 
```

奇怪的是收到的输出是

```
1 121 
```

我无法弄清楚这个基本区别。请帮我。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-13T05:12:28.143

使用括号如下

```
System.out.println((i+1) + " " + (j+1)); 
```

从[文档](http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#39990)

> + 运算符在语法上是左结合的，无论它是后来由类型分析确定是表示字符串连接还是加法。在某些情况下，需要小心才能获得所需的结果。例如，表达式：
> 
> a + b + c 始终被视为含义： (a + b) + c

将此扩展到您的场景

```
i+1 + " " + j+1 
```

它成为了

```
(((i + 1) + " ") + j)+1 
```

因为`i`是一个 int 所以`(i + 1) = 1`，简单的*加法*

`" "`是一个`String`因此`((i + 1) + " ")`= `1` **WITH SPACE**（字符串*连接*）

类似地，当`j`和 last`1`被添加时，它被添加到一个`String`因此发生的`String` *连接*中，这证明了你得到的输出是正确的。

**看**

*   [JLS 15.18.1 字符串连接运算符 +](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-13T05:13:40.830

那是因为`" "`.

每当一个字符串出现时，java 不会在此之后进行任何计算，只是将其附加为字符串。

因此，在您的情况下，`i+1`计算为`1`，但`" " + j+1`其中包含字符串。所以，它只是附加在一起形成 `121`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-13T05:15:09.377

您看到此行为的原因是运算符序列`+`是从左到右计算的。所以它被评估为好像用括号括起来的：

```
System.out.println((((i + 1) + " ") + j) + 1); 
```

第一个运算符将两个`int`值相加并产生一个`int`值。接下来将 a`+`添加`int`到 a`String`并生成 a `String`。之后，一切都是字符串连接。你可以引入自己的括号来得到你想要的结果。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-13T05:15:44.673

当您使用`" "`之后的表达式被评估为字符串。

使用括号`(`和`)`表达式周围可以解决手头的问题。

```
System.out.println(i+1 + " " + (j+1)); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-13T05:12:55.960

```
 int i = 0;
    int k = Integer.parseInt("12");
    int j = k;
    System.out.println(i+1 + " " + (j+1)); 
```

基本上，当您在此 java 之后放置 + " " + 时，只会将值附加为字符串。

当你把 (j+1) 放在括号中时，它的优先级会更高，它首先执行它并执行求和运算。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-13T05:16:22.993

`+`运算符为加法和字符串连接重载，您正在做的是字符串连接而不是加法。使用括号执行加法。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-13T05:18:04.593

parseint 基本上会返回 int（看 Java API），而 Java 中只有一种 int 类型。在本例中，您使用了“”，java 会将其视为字符串。在任何操作中，请确保不要将字符串与计算混淆。始终使用括号将字符串与计算分开。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-06-13T05:22:19.200

发生这种情况是因为 + 运算符已经离开关联性并且有一个带有字符串的重载函数，所以当你有这个时

`int i = 0; int k = Integer.parseInt("12"); int j = k; i+1 + " " + j+1`

它首先求和 `i + 1`，然后求和`1 + " "`，它使用它的重载函数来连接 1 和“”，因此它给出了一个值为“1”的字符串。之后它求和`"1 " + j`，因为其中一个操作数是一个字符串，所以它执行相同的行为，依此类推。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-09-14T17:21:11.633

Interger.parseInt(String str) 是一个包装类方法，用于将 String obj 类型转换为原始数据类型 (int)。这通常用于集合框架中，用于将原始数据类型转换为对象，反之亦然

# ruby - 引擎中的 Rails 3.2 中的 Activerecord 抛出 NameError: uninitialized constant when using accepted_nested_attributes_for

> ID：11008548
> 
> 赞同：1
> 
> 时间：2012-06-13T05:11:51.323
> 
> 标签：ruby, activerecord, ruby-on-rails-3.2, rails-engines

我正在构建一个 Rails 引擎。我有以下两个模型类：

```
module LandingPageEng
    class LandingPage < ActiveRecord::Base
        attr_protected # just for debugging right now
        has_many :slide_show_images, :dependent => :destroy
        accepts_nested_attributes_for :slide_show_images, allow_destroy: true
    end
end 
```

第二类是：

```
module LandingPageEng
    class SlideShowImage < ActiveRecord::Base
        attr_accessible :image, :landing_page_id
        belongs_to :landing_page 

        validates :image, :presence => true
    end
end 
```

与它们关联的表是landing_page_eng_landing_page 和landing_page_eng_slide_show_image。

当我在控制台中运行以下命令时，我收到错误 NameError: uninitialized constant SlideShowImage。

```
1.9.3-p194 :001 > LandingPageEng::LandingPage.new({"title"=>"wd", "tagline"=>"wed",     "slide_show_images"=>{"_destroy"=>""}})
NameError: uninitialized constant SlideShowImage
    from /Users/martinjlogan/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-  3.2.6/lib/active_support/inflector/methods.rb:229:in `block in constantize'
    from /Users/martinjlogan/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.2.6/lib/active_support/inflector/methods.rb:228:in `each'
    from /Users/martinjlogan/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.2.6/lib/active_support/inflector/methods.rb:228:in `constantize'
    from /Users/martinjlogan/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.2.6/lib/active_support/core_ext/string/inflections.rb:54:in `constantize'
<snip> 
```

我一直在努力解决这个问题，无法弄清楚。非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:18:39.313

我没有带有引擎的 Rails 3 设置来快速测试它，但我认为问题出在您的`has_many`配置上；它正在寻找一个名为`SlideShowImage`但你的类名为`LandingPageEng::SlideShowImage`.

我相信`:class_name`为您添加一个选项`has_many`将解决此问题。

[http://railsapi.com/doc/rails-v3.0.8rc1/classes/ActiveRecord/Associations/ClassMethods.html#M004956](http://railsapi.com/doc/rails-v3.0.8rc1/classes/ActiveRecord/Associations/ClassMethods.html#M004956)

# c++ - C ++：快速确定适当的标题包含列表？

> ID：11008549
> 
> 赞同：2
> 
> 时间：2012-06-13T05:12:01.903
> 
> 标签：c++, compilation, header, include

有什么工具或方法可以加快这个过程吗？

例如，我只是将neaTrick.cpp 源文件拆分为两个单独的文件neaTrickImplementation.cpp 和neaTrickTests.cpp。

我现在要做的就是浏览natTrick.cpp 顶部的#include 列表，并确定其中哪些需要进入实现文件，哪些需要进入测试文件。它们中的一些标题是必需的，有些则不是。有些甚至可能完全没有必要。

我觉得我的过程（从零开始，编译，看看有什么问题，添加正确的包含，再次编译，重复）会产生最不臃肿的代码，但它是如此令人沮丧的慢。我认为如果我的 IDE 可以分析我项目中的其余标头，看看哪些可以消除当前的错误集，并为我自动执行此任务，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:46:53.733

[Chandler Carruth](http://channel9.msdn.com/Events/GoingNative/GoingNative-2012/Clang-Defending-C-from-Murphy-s-Million-Monkeys)在 Microsoft 的“Going Native”（一个 C++ 会议）上发表了讲话，他说 Clang 工具项目正在筹备中，以解决这个问题。

据我了解，它是目前没有公开可用的工具能够做到的事情，大多数人对此印象深刻。

所以：**目前**，还没有这样的工具。**在不久的将来**，您可能会得到类似的基于 Clang 的工具来为自己编译。**长期**，希望这是建立在 Clang 工具链上的标准功能。

（有点 OT：目前正在[讨论有关](http://lists.cs.uiuc.edu/pipermail/cfe-dev/2012-June/022028.html)工具/服务基础架构的 Clang/LLVM 开发人员列表。这些工具尚不存在，但正在积极开发中，目前由 Google 工程师，后来可能由整个行业的人和 Clang 开源社区）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T06:57:39.430

去年 4 月在牛津举行的 ACCU 会​​议期间，其中一位演讲者 Peter Sommerlad 使用由他的一位学生编写的 Eclipse CDT 插件准确演示了此功能。我不知道这个插件是否已经公开可用，但也许你可以给他发电子邮件询问......

# ruby-on-rails - 运行服务器时如何解决 rake 路由错误？

> ID：11008558
> 
> 赞同：1
> 
> 时间：2012-06-13T05:13:04.277
> 
> 标签：ruby-on-rails

我是 Rails 的新手，遇到如下路由错误：

没有路线匹配 [GET] "/static_pages/home"

我知道这是因为我在 routes.rb 中遗漏了一些代码，我该如何获得这些路线？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:27:14.847

森的回答很到位。但是作为初学者，您会发现以下命令可以成为您的朋友：

```
rake routes 
```

祝你好运

# c++ - 更快的循环范围 (C++11)

> ID：11008563
> 
> 赞同：15
> 
> 时间：2012-06-13T05:13:48.143
> 
> 标签：c++, optimization, iterator, c++11

我有一些代码可以遍历（多变量）数值范围：

```
#include <array>
#include <limits>
#include <iostream>
#include <iterator>

template <int N>
class NumericRange : public std::iterator<double, std::input_iterator_tag>
{
public:
  NumericRange() {
    _lower.fill(std::numeric_limits<double>::quiet_NaN());
    _upper.fill(std::numeric_limits<double>::quiet_NaN());
    _delta.fill(std::numeric_limits<double>::quiet_NaN());
  }
  NumericRange(const std::array<double, N> & lower, const std::array<double, N> & upper, const std::array<double, N> & delta):
    _lower(lower), _upper(upper), _delta(delta) {
    _state.fill(std::numeric_limits<double>::quiet_NaN());
  }

  const std::array<double, N> & get_state() const {
    return _state;
  }

  NumericRange<N> begin() const {
    NumericRange<N> result = *this;
    result.start();
    return result;
  }

  NumericRange<N> end() const {
    NumericRange<N> result = *this;
    result._state = _upper;
    return result;
  }

  bool operator !=(const NumericRange<N> & rhs) const {
    return in_range();
    //    return ! (*this == rhs);
  }

  bool operator ==(const NumericRange<N> & rhs) const {
    return _state == rhs._state && _lower == rhs._lower && _upper == rhs._upper && _delta == rhs._delta;
  }

  const NumericRange<N> & operator ++() {
    advance();
    if ( ! in_range() )
      _state = _upper;
    return *this;
  }

  const std::array<double, N> & operator *() const {
    return _state;
  }

  void start() {
    _state = _lower;
  }

  bool in_range(int index_to_advance = N-1) const {
    return ( _state[ index_to_advance ] - _upper[ index_to_advance ] ) < _delta[ index_to_advance ];
  }

  void advance(int index_to_advance = 0) {
    _state[ index_to_advance ] += _delta[ index_to_advance ];
    if ( ! in_range(index_to_advance) ) {
      if (index_to_advance < N-1) {
    // restart index_to_advance
    _state[index_to_advance] = _lower[index_to_advance];

    // carry
    ++index_to_advance;
    advance(index_to_advance);
      }
    }
  }
private:
  std::array<double, N> _lower, _upper, _delta, _state;
};

int main() {
   std::array<double, 7> lower{{0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0}};
   std::array<double, 7> upper{{1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0}};
   std::array<double, 7> delta{{0.03, 0.06, 0.03, 0.06, 0.03, 0.06, 0.03}};

  NumericRange<7> nr(lower, upper, delta);
  int c = 0;    
  for (nr.start(); nr.in_range(); nr.advance()) {
    ++c;
  }
  std::cout << "took " << c << " steps" << std::endl;    
  return 0;
} 
```

在我的计算机上使用`g++ -std=c++11 -O3`（或`-std=c++0x`使用 gcc < 4.7）进行编译大约需要 13.8 秒。

如果我将`main`函数更改为使用基于范围的 for 循环：

```
 for (const std::array<double, 7> & arr : nr) {
    ++c;
  } 
```

运行时间增加到 29.8 秒。`std::vector<double>`巧合的是，这约 30 秒的运行时间与使用而不是原始的运行时间几乎相同，这`std::array<double, N>`让我相信编译器*无法*展开基于范围的 for 循环生成的代码。

**有没有办法获得原始的速度并且仍然使用基于范围的 for 循环？**

* * *

**我试过的：**

通过更改以下两个成员函数，我可以通过基于范围的 for 循环获得所需的速度`NumericRange`：

```
bool operator !=(const NumericRange<N> & rhs) const {
  return in_range();
  //    return ! (*this == rhs);
}

const NumericRange<N> & operator ++() {
  advance();
  //    if ( ! in_range() )
  //      _state = _upper;
  return *this;
} 
```

但是，这段代码感觉设计得很糟糕，因为`!= operator`它没有按预期工作。通常对于数字运算，我使用`<`终止循环而不是`==`. 我想找到第一个超出范围的值，但是由于数值错误，分析上这样做可能无法给出准确的答案。

**如何在不误导将看到我的代码的其他人的情况下强制其`!= operator`行为类似于 a ？`<`**我只是将`begin()`and`end()`函数设为私有，但对于基于范围的 for 循环，它们需要是公共的。

非常感谢你的帮助。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-13T09:00:02.967

就我而言，问题在于您没有正确使用 range-for 构造。

* * *

让我们退后一步：

```
void foo(std::vector<int> const& v) {
    for (int i: v) {
    }
} 
```

请注意 range-for 如何遍历向量以提取*整数*。

* * *

由于某些原因，您选择不实现从 to 桥接的迭代器`begin`，`end`而是重新使用您正在迭代的内容的副本，即使它变化很小，而且您正在做**大量**的额外工作（在副本中和检查）...

*注意：`std::iterator<double, ...>`表示`operator*`应该返回一个`double&`.*

如果你想使用新的成语，你必须符合它的期望。

期望是您使用迭代器进行**迭代**，而不是一遍又一遍地复制原始对象（稍作修改）。这是 C++ 习语。

这意味着您将需要将对象切成两半：在要迭代的对象中删除所有在迭代期间不可变的内容以及在迭代器中修改的内容。

据我所知：

*   `_lower`,`_upper`并且`_delta`是固定的
*   `_state`是迭代变量

因此，您将拥有：

```
template <typename> class NumericRangeIterator

template <unsigned N> // makes no sense having a negative here
class NumericRange {
public:
    template <typename> friend class NumericRangeIterator;

    typedef NumericRangeIterator<NumericRange> iterator;
    typedef NumericRangeIterator<NumericRange const> const_iterator;

    static unsigned const Size = N;

    // ... constructors

    iterator begin(); // to be defined after NumericRangeIterator
    iterator end();

    const_iterator begin() const;
    const_iterator end() const;

private:
    std::array<double, N> _lower, _upper, _delta;
}; // class NumericRange

template <typename T>
class NumericRangeIterator: public
    std::iterator< std::array<double, T::Size>,
                   std::forward_iterator_tag >
{
public:
    template <unsigned> friend class NumericRange;

    NumericRangeIterator(): _range(0), _state() {}

    NumericRangeIterator& operator++() {
        this->advance();
        return *this;
    }

    NumericRangeIterator operator++(int) {
        NumericRangeIterator tmp(*this);
        ++*this;
        return tmp;
    }

    std::array<double, T::Size> const& operator*() const {
        return _state;
    }

    std::array<double, T::Size> const* operator->() const {
        return _state;
    }

    bool operator==(NumericRangeIterator const& other) const {
        return _state != other._state;
    }

    bool operator!=(NumericRangeIterator const& other) const {
        return !(*this == other);
    }

private:
    NumericRangeIterator(T& t, std::array<double, T::Size> s):
        _range(&t), _state(s) {}

    void advance(unsigned index = T::Size - 1);  // as you did
    void in_range(unsigned index = T::Size - 1); // as you did

    T* _range;
    std::array<double, T::Size> _state;
}; // class NumericRangeIterator

template <unsigned N>
auto NumericRange<N>::begin() -> typename NumericRange<N>::iterator {
    return iterator(*this, _lower);
}

template <unsigned N>
auto NumericRange<N>::end() -> typename NumericRange<N>::iterator {
    return iterator(*this, _upper);
} 
```

通过所有这些设置，您可以编写：

```
for (auto const& state: nr) {
} 
```

`auto`将推论到哪里`std::array<double, nr::Size>`。

*注意：不确定`iterator`是否有用，也许只是`const_iterator`因为它在某种程度上是错误的迭代；您无法进入范围对象以通过迭代器对其进行修改。*

**编辑：** `operator==`太慢了，如何让它变得更好？

我建议作弊。

1/ 修改迭代器的构造函数

```
NumericRangeIterator(): _range(0), _state() {}               // sentinel value
NumericRangeIterator(T& t): _range(&t), _state(t._lower) {} 
```

2/ 调整迭代以在最后创建新的“哨兵”值

```
void advance() {
    // ...

    if (not this->in_range()) {        // getting out of the iteration ?
       *this = NumericRangeIterator(); // then use the sentinel value
    }
} 
```

3/ 相应地更改`begin`和`end`定义

```
template <unsigned N>
auto NumericRange<N>::begin() -> typename NumericRange<N>::iterator {
    return iterator(*this);
}

template <unsigned N>
auto NumericRange<N>::end() -> typename NumericRange<N>::iterator {
    return iterator();
} 
```

4/`==`使用哨兵让更平等

```
bool operator==(NumericRangeIterator const& other) const {
    return _range == other._range and _state == other._state;
} 
```

现在，在整个迭代过程中，因为其中一个为空而另一个不为空，所以它是`==`短路的。`_range`只有在最后一次调用时，两个`_state`属性的比较才会真正发生。

# c++ - 如何设置以非阻塞模式从服务器客户端接收消息的超时时间？

> ID：11008570
> 
> 赞同：0
> 
> 时间：2012-06-13T05:14:39.730
> 
> 标签：c++, winsock

我有一个`server`有 2 个连接`SOCKET`的连接，`clients`我将其设置`server`为非阻塞模式，在发送或接收消息时不会停止。我想为每个连接设置超时`SOCKET`，但如果我使用以下代码：

```
 void getMessage(SOCKET connectedSocket, int time){ 
    string error = R_ERROR;
    // Using select in winsock
    fd_set  set;
    timeval tm;

    FD_ZERO(&set);
    FD_SET(connectedSocket, &set);

    tm.tv_sec = time; // time 
    tm.tv_usec = 0; // 0 millis
    switch (select(connectedSocket, &set, 0, 0, &tm))
    {
    case 0:
        // timeout
        this->disconnect();
        break;
    case 1:
        // Can recieve some data here
        return this->recvMessage();
        break;
    default:
        // error - handle appropriately.
        break;
    }
return error;
} 
```

我的服务器不再是非阻塞模式！我必须等到第一个连接超时才能从第二个连接收到消息！这不是我所期望的！那么，有没有办法为非阻塞模式设置超时？还是我必须自己处理？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T06:27:43.613

`select`是一种解复用机制。当您使用它来确定数据何时在单个套接字上准备好或超时时，它实际上被设计为在许多套接字上返回数据准备状态（因此是`fd_set`）。从概念上讲，它与`poll`,`epoll`和相同`kqueue`。结合非阻塞 I/O，这些机制为应用程序编写者提供了实现单线程并发服务器的工具。

在我看来，您的应用程序不需要那种能力。您的应用程序将只处理两个连接，并且您已经在每个连接使用一个线程。我相信让套接字处于阻塞 I/O 模式更合适。

如果您坚持非阻塞模式，我的建议是`select`用其他方式替换呼叫。由于您想要的`select`是单个套接字的读取就绪或超时的指示，因此您可以`recv`通过传递适当的参数并在套接字上设置适当的超时来实现类似的效果。

```
tm.tv_sec = time;
tm.tv_usec = 0;
setsockopt(connectedSocket, SOL_SOCKET, SO_RCVTIMEO, (char *)&tm, sizeof(tm));
char c;
swtich (recv(connectedSocket, &c, 1, MSG_PEEK|MSG_WAITALL)) {
case -1:
    if (errno == EAGAIN) {
        // handle timeout ...
    } else {
        // handle other error ...
    }
    break;
case 0: // FALLTHROUGH
default:
    // handle read ready ...
    break;
} 
```

来自`man recv`：

> MSG_PEEK——该标志使接收操作从接收队列的开头返回数据，而不从队列中删除该数据。因此，后续的接收调用将返回相同的数据。
> 
> MSG_WAITALL（自 Linux 2.2 起）——此标志请求操作阻塞，直到满足完整请求。但是，如果捕获到信号、发生错误或断开连接，或者要接收的下一个数据与返回的数据类型不同，则调用返回的数据仍可能少于请求的数据。

至于为什么`select`以您观察到的方式行事。虽然`select`调用是线程安全的，但它很可能完全防止重入。因此，一个线程的调用`select`只会在另一个线程的调用完成后才会出现（调用`select`被序列化）。这与其作为解复用器的功能是一致的。它的目的是充当连接就绪的单个仲裁器。因此，它希望由单个线程控制。

# java - 小程序代码问题

> ID：11008571
> 
> 赞同：0
> 
> 时间：2012-06-13T05:14:53.603
> 
> 标签：java, applet

我是小程序编程的新手。我想要做的是，当键盘上的某个键被按下时，它必须在小程序上显示它。这是我的代码。

```
public class sample extends Applet implements KeyListener {
private Graphics graphic;
@Override
public void init(){
    addKeyListener(this);
}
@Override
public void paint(Graphics g){
    graphic=g;
    g.drawString("hello",20,30);
}

public void keyTyped(KeyEvent e) {
    char key=e.getKeyChar();
    dis(key,graphic);
}

public void keyPressed(KeyEvent e) {

}

public void keyReleased(KeyEvent e) {

}

private void dis(char key, Graphics graphic) {
    graphic.drawString(" "+key,50,60);
  }
} 
```

但它没有在按键上显示任何内容。我的代码有什么问题..??? 请帮我找出来！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:22:53.967

不要保存`Graphics`对象。尝试`repaint()`从处理程序中调用该方法。

```
public class sample extends Applet implements KeyListener {
String msg="";
@Override
public void init(){
    addKeyListener(this);
}
@Override
public void paint(Graphics g){
    g.drawString(msg,20,30);
}

public void keyTyped(KeyEvent e) {
    char key=e.getKeyChar();
    msg="KeyTyped : " + key;
    repaint();
 }
 ....
} 
```

# php - 如何将mysql中的字符串字段句子拆分为单词

> ID：11008577
> 
> 赞同：0
> 
> 时间：2012-06-13T05:15:33.227
> 
> 标签：php, mysql

我正在使用 CMS 添加新产品。除了添加产品，我还提供了添加关键字的选项。

```
Keywords:<textarea rows="10" cols="20" name="keywords"></textarea> 
```

然后将其插入到mysql表中。但我想将这些关键字用于搜索选项。现在它保存为用逗号或空格分隔的一串句子。我怎样才能从桌子上取回每个单词？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:19:18.797

[您可以在此处](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html)和[此处](http://blog.fedecarg.com/2009/02/22/mysql-split-string-function/)找到处理字符串拆分的函数

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:21:41.417

您可以使用 PHP 方法：explode($delimiter, $string)。

例子：

```
$newArray = explode(' ', $yourPhraseWithSpaces); 
```

或者

```
$newArray = explode(',', $yourPhraseWithCommas); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:46:30.330

通过使用

```
array preg_split ( string $pattern , string $subject [, int $limit = -1 [, int $flags = 0 ]] ) 
```

或者

```
 explode($delimiter,$string) 
```

或者

```
 spliti ( string $pattern , string $string [, int $limit = -1 ] ) 
```

或者

```
 chunk_split ( string $body [, int $chunklen = 76 [, string $end = "\r\n" ]] ) 
```

或者

```
 str_split ( string $string [, int $split_length = 1 ] ) 
```

# objective-c - 如何在 iPhone 的纵向视图中查看一个视图控制器

> ID：11008588
> 
> 赞同：1
> 
> 时间：2012-06-13T05:16:41.453
> 
> 标签：objective-c, ios, uiviewcontroller, uiinterfaceorientation

我正在开发一个应用程序，它显示从服务器获取的书籍数量，它可以帮助用户随时阅读书籍。在每本书中，我都应该添加简单的游戏。在这里，我所做的是，应用程序以横向视图启动，它工作正常。但现在，我只想在纵向视图中加载游戏视图控制器（而不是其他 VC）。我用谷歌搜索了它，但找不到真正的解决方案。任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T08:02:51.110

> 默认情况下，UIViewController 类仅以纵向模式显示视图。要支持其他方向，您必须重写 shouldAutorotateToInterfaceOrientation: 方法并为您的子类支持的任何方向返回 YES。

因此，您只需`shouldAutorotateToInterfaceOrientation:`在视图控制器中覆盖您的功能即可纵向查看：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
} 
```

# winapi - 启动具有焦点的 Windows 应用程序

> ID：11008590
> 
> 赞同：0
> 
> 时间：2012-06-13T05:17:01.073
> 
> 标签：winapi, visual-c++

我正在用 Visual C++ 编写一个没有 MVC 的小型 Windows 应用程序。它真的很小，它只包含一个文本字段、一个确定按钮和一个取消按钮。

当用户开始打印时，应用程序由后台进程启动。打开应用程序时没有获得焦点，甚至不可见。

对于用户来说，应用程序直接处于焦点是很重要的，因此他们可以通过尽可能多的点击来使用它。

我尝试了很多方法来使应用程序成为焦点：

```
SetWindowPos(hWnd, HWND_TOPMOST, 0, 0, 0, 0, SWP_NOMOVE | SWP_NOSIZE);
SetForegroundWindow(hWnd);
ShowWindow(hWnd, SW_RESTORE);
SetFocus(hWnd); 
```

我什至在计时器中重复了这个调用。这一切都行不通。现在我在 MSDN 上找到了一些注释：

> 系统限制哪些进程可以设置前台窗口。只有当下列条件之一为真时，进程才能设置前台窗口：
> 
> ```
> The process is the foreground process.
> The process was started by the foreground process.
> The process received the last input event.
> There is no foreground process.
> The foreground process is being debugged.
> The foreground is not locked (see LockSetForegroundWindow).
> The foreground lock time-out has expired (see SPI_GETFOREGROUNDLOCKTIMEOUT in SystemParametersInfo).
> No menus are active. 
> ```

有人知道解决方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T05:24:53.910

没有解决方法。这种新的 Windows 行为的全部意义在于防止应用程序自行将自己带到前台并造成麻烦。在您的情况下，我建议使用通知图标并在必要时显示气球消息而不是窗口。但是，即使在这种情况下，您的通知图标也可能被用户隐藏并且没有解决方法，原因与上述相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:24:23.140

现在，这是来自 Java 开发人员而不是 Visual C++ 开发人员，但您可以将 frame/window/whatever-its-call-in-visual-c 设置为始终位于顶部吗？在 Java 中，如果你有一个`JFrame`，比如说`myJFrame`，你可以调用`myJFrame.setAlwaysOnTop(true)`它，它会保持在所有其他窗口的顶部。这似乎是解决您的问题的简单解决方法，但是如果它在屏幕上阻止了他们的某些内容，则用户可能不希望这样做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T18:12:00.413

[http://www.thescarms.com/vbasic/alttab.aspx](http://www.thescarms.com/vbasic/alttab.aspx)似乎可以完成这项工作

```
void forceToFront(HWND hWnd) {
HWND foregroundWindow = GetForegroundWindow();

if (foregroundWindow == hWnd) {
    // Window is already Foreground-window
    return;
}

if (SetForegroundWindow(hWnd)) {
    // could set window to foreground without any tricks
    return;
}

// attach thread of foreground-window to this window
DWORD foregroundThread = GetWindowThreadProcessId(foregroundWindow, NULL);
DWORD myThread = GetWindowThreadProcessId(hWnd, NULL);
AttachThreadInput(foregroundThread, myThread, true);
SetForegroundWindow(hWnd);
AttachThreadInput(foregroundThread, myThread, false); 
```

}

# objective-c - 用于运行解释代码的 Objective-c 解决方法

> ID：11008592
> 
> 赞同：0
> 
> 时间：2012-06-13T05:17:01.870
> 
> 标签：objective-c, cocos2d-iphone

我习惯于在 javascript 等语言中使用 eval()

在 cocos2d 中，为了选择关卡，我将“1”或“2”传递给我的 Loadlevel.m 文件，关卡类相应地命名为“LevelOne”和“LevelTwo”，我想创建一个匹配“1”的字典查找" => "LevelOne" 等然后在该字符串上运行 eval 以有效调用 [MyLevel node];

显然我们不能在 IOS 代码中使用 eval ，那我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:28:32.540

尝试使用`NSStringFromClass`和`NSClassFromString`功能。

具体来说，将类表示为字典中的字符串，例如，

```
[myDictionary setObject:NSStringFromClass([LevelOne class]) forKey:@"1"] 
```

然后，要使用字典中的正确级别，您可以执行以下操作：

```
NSString *levelAsString = [myDictionary objectForKey:@"1"];
id node = [NSClassFromString(levelAsString) node] 
```

（我假设`+node`是一个类方法）

现在，这在 Cocoa 中是一个非常罕见和奇怪的设计。也许如果您对您正在做的事情进行更多解释，我们可以建议可能更好的替代设计选择。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:29:56.677

我不是百分百清楚你在问什么，但你可以将类对象直接存储在字典中，检索它们，并向它们发送消息：

```
NSDictionary * d = [NSDictionary dictionaryWithObjectsAndKeys:[LevelOne class], @"1", [LevelTwo class], @"2", nil];

Class selectedLevel = [d objectForKey:@"1"];

[selectedLevel node]; 
```

# javascript - JavaScript：访问嵌套对象

> ID：11008594
> 
> 赞同：1
> 
> 时间：2012-06-13T05:17:13.190
> 
> 标签：javascript

代码看起来像这样

```
function Scripts() {this.FindById = function (id) {
    this.FindById.constructor.prototype.value = function () {
        return document.getElementById(id).value;

    }}} 
```

`var Control = new Scripts();`

现在当我说 Control.FindById("T1").value()。我无法获取 textInput("T1") 的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:21:20.297

看来您的代码应该比它更复杂;-)

我个人会这样写（未经测试）：

```
function Scripts() {
  this.findById = function(id) {
    var el = document.getElementById(id);

    return {
      value: function() { 
        return el.value;
      }
    }
  }
} 
```

现在`findById()`关闭一个节点并返回一个可以返回其值的接口。

此外，您的想法听起来很像 Singleton，因此您甚至不需要额外的`Scripts`构造函数：

```
var Control = {
    findById: function(id) {
        var el = document.getElementById(id);

        return {
            value: function() { 
                return el.value;
            }
        }
    }
} 
```

* * *

工作示例：http: [//jsfiddle.net/YYkD7/](http://jsfiddle.net/YYkD7/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:27:09.637

尝试这个：

```
function Scripts() {this.FindById = function (id) {
    this.FindById.constructor.prototype.value = function () {
        return document.getElementById(id).value
    }}} 
```

你没有关闭最后一个“}”:-)

# php - 对我的数组中的值求和

> ID：11008595
> 
> 赞同：-3
> 
> 时间：2012-06-13T05:17:42.457
> 
> 标签：php, regex, arrays

我有一个如下所示的数组，我想以特定方式计算值的总和，其中 ADDED_NEW_(.*) {正则表达式}的所有值以及其他类似的值。我只有特定的值，例如 ADDED_NEW、ADDED_OLD 和 ADD_LATER。

我的数组是这样的：

```
$stats = Array
(
    [ADDED_NEW_2012_06_12] => 16
    [ADDED_OLD_2012_06_12] => 10
    [ADD_LATER_2012_06_12] => 12
    [ADDED_NEW_2012_06_11] => 16
    [ADDED_OLD_2012_06_11] => 10
    [ADD_LATER_2012_06_11] => 12
) 
```

你能告诉我如何获得我的结果。我不知道如何在 php 中使用正则表达式添加这些值。请帮忙。

我期望的输出是 $ADDED_NEW = 32（即 16+16）、$ADDED_OLD = 20（即 10+10）和 $ADD_LATER = 24（即 12+12）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:45:56.960

尝试这个：

```
<?php

$stats = array
(
    "ADDED_NEW_2012_06_12" => 16,
    "ADDED_OLD_2012_06_12" => 10,
    "ADD_LATER_2012_06_12" => 12,
    "ADDED_NEW_2012_06_11" => 16,
    "ADDED_OLD_2012_06_11" => 10,
    "ADD_LATER_2012_06_11" => 12,
);

$accumulators = array
(
    "ADDED_NEW" => 0,
    "ADDED_OLD" => 0,
    "ADD_LATER" => 0,
);

foreach($stats as $key => $value)
{
    foreach(array_keys($accumulators) as $accumulator)
    {
        if(preg_match("@^${accumulator}@m", $key)){$accumulators[$accumulator] += $value;}
    }
}

header('Content-Type: text/plain');
print_r($accumulators);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:26:15.820

我相信您只想添加类似键的值，它们都以 ADDED_NEW 或 ADDED_OLD 或 ADD_LATER 开头，我假设这样我们就可以制作 3 个计数器，然后匹配键中的那些并添加到计数器中。

我不太了解 PHP，但使用手册和我从 Python 获得的知识，这就是我收集的内容：

```
<?php
$ADDED_NEW = 0;
$ADDED_OLD = 0;
$ADD_LATER = 0;
foreach ($stats as $key => $value) {
    if (preg_match("ADDED_NEW_.*", $key)) { $ADDED_NEW += $value; }
    if (preg_match("ADDED_OLD_.*", $key)) { $ADDED_OLD += $value; }
    if (preg_match("ADD_LATER_.*", $key)) { $ADD_LATER += $value; }
}
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:38:52.980

看一下这个。

```
<?php

   $stats = array(
    'ADDED_NEW_2012_06_12' => 16,
    'ADDED_OLD_2012_06_12' => 10,
    'ADD_LATER_2012_06_12' => 12,
    'ADDED_NEW_2012_06_11' => 16,
    'ADDED_OLD_2012_06_11' => 10,
    'ADD_LATER_2012_06_11' => 12
);
    $ADDED_NEW = 0;
    $ADDED_OLD = 0;
    $ADD_LATER = 0;
    foreach ($stats as $key => $value) {
        if (preg_match("/ADDED_NEW_.*/", $key)) { $ADDED_NEW += $value; }
        else if (preg_match("/ADDED_OLD_.*/", $key)) { $ADDED_OLD += $value; }
        else if (preg_match("/ADD_LATER_.*/", $key)) { $ADD_LATER += $value; }
    }

echo "$ADDED_NEW - $ADDED_OLD - $ADD_LATER";

?> 
```

输出：32 - 20 - 24

# ruby-on-rails - 如何在 Dotcloud 上设置 postgresql 数据库？

> ID：11008596
> 
> 赞同：0
> 
> 时间：2012-06-13T05:17:47.110
> 
> 标签：ruby-on-rails, postgresql, dotcloud

我正在尝试将 Rails 应用程序上传到 dotcloud。

我收到此错误：

```
PG::Error (could not connect to server: No such file or directory
    Is the server running locally and accepting
    connections on Unix domain socket "/var/run/postgresql/.s.PGSQL.5432"?
):
  activerecord (3.2.5) lib/active_record/connection_adapters/postgresql_adapter.rb:1206:in `initialize' 
```

我猜这是因为我还没有建立一个 postgres 数据库。我怎么做？文档似乎没有说。

我的 dotcloud.yml 文件如下所示：

```
www:
  type: ruby
  exclude_bundler_groups:
    - development
data:
  type: postgresql 
```

我的 database.yml 看起来像这样：

```
production:
  adapter: postgresql
  database: my_app_production # have not set this up on dotcloud yet as I can't find any docs on how to do it
  username: root
  password: mypassword 
```

我必须运行迁移吗？我该怎么做，文档又没有说。

是否有在 dotcloud 上设置 Rails 应用程序的白痴指南？我从 Heroku 过来，你只需推送代码并运行迁移。我花了好几个小时在 dotcloud 文档上苦苦挣扎，但无法让这个应用程序运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:29:56.813

使用该 yaml 文件创建应用程序后，例如“dotcloud push APPNAME app-on-dotcloud/”，您应该运行此行“dotcloud APPNAME.data info”，并获得连接到数据库的所有信息，您可以添加到数据库.yml

**更新**

您已经获得了访问 postgresql 终端的所有信息：用户、密码、端口和主机。您需要运行“dotcloud ssh APPNAME.www”，因为您使用“psql -h myapp-myname.dotcloud.com -p 29876 -U root”连接到 postgresql，然后输入您的密码。最后，使用“CREATE DATABASE 'dbname';”创建您的数据库 并更新你的 database.yml。

# excel - Excel比较两列，将匹配的行复制到新工作表

> ID：11008601
> 
> 赞同：1
> 
> 时间：2012-06-13T05:18:40.757
> 
> 标签：excel, compare, formula

我一直在尝试这样做一段时间，一直遇到障碍。

我在 Excel 中有一张包含 5 列数据的表格：A、B、C、D 和 E。

我有另一列 F 有一些数据。

我想要的是一个公式或宏，这样我就可以在 B 列的 F 列中找到所有值，并且只将整行（A、B、C、D 和 E）复制到一个新工作表中（或者只是删除所有其他值）。

我尝试做一个公式并删除错误行，但它弄乱了数据。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:48:13.030

我不明白你有如下数据

将 C 列与 B 列进行比较

```
A       B       C
Row 1   Value 1 Value 3
Row 2   Value 2 Value 5
Row 3   Value 3 Value 8
Row 4   Value 4 Value 3
Row 5   Value 5 Value 5
Row 6   Value 6 Value 8
Row 7   Value 7 Value 3
Row 8   Value 8 Value 5
Row 9   Value 9 Value 8 
```

你想要结果在 sheet2

```
A       B
Row 3   Value 3
Row 5   Value 5
Row 8   Value 8 
```

试试下面的代码

```
Sub Macro1()

    Dim Counter As Long

    Dim lastRow As Long
    lastRow = 10
    Dim arrColF(10) As String

    Sheets("Sheet1").Select

    For Counter = 1 To lastRow Step 1
        arrColF(Counter - 1) = Sheet1.Cells(Counter, 3).Value
    Next Counter

    arrStr = Join(arrColF, ", ")
    Dim strRange As String

    For Counter = 1 To lastRow Step 1
        If InStr(1, arrStr, Sheet1.Cells(Counter, 2).Value & ", ") > 0 Then
            strRange = strRange & "A" & Counter & ":B" & Counter
            If Trim(strRange) <> "" Then strRange = strRange & ","
        End If
    Next Counter
    strRange = Left(strRange, Len(strRange) - 1)

    Sheet1.Range(strRange).Select
    Selection.Copy
    Sheets("Sheet2").Select
    Range("A1").Select
    ActiveSheet.Paste

End Sub 
```

# url - 有什么方法可以避免在 IDN 域中显示“xn--”？

> ID：11008602
> 
> 赞同：5
> 
> 时间：2012-06-13T05:18:41.933
> 
> 标签：url, unicode, dns, idn, punycode

如果我使用诸如*www.äöü.com 之*类的域，有什么方法可以避免它在用户的浏览器中显示为*www.xn--4ca0bs.com ？*

我猜，像*www.xn--4ca0bs.com*这样的域名会引起普通互联网用户的很多困惑。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-13T05:23:10.407

这完全取决于浏览器。事实上，IDN 几乎是一种仅限浏览器的技术。域名不能包含非 ASCII 字符，因此实际的域名始终是 Punycode 编码`xn--...`形式。由浏览器来美化这一点，但许多人选择不这样做，以避免使用相似的 Unicode 字符进行域名欺骗。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-04-05T08:25:26.167

从安全角度来看，Unicode 域可能存在问题，因为许多 Unicode 字符很难与常见的 ASCII 字符（或实际上是其他 Unicode 字符）区分开来。

可以注册“xn–pple-43d.com”等域名，相当于“аapple.com”。乍一看可能并不明显，但“аapple.com”使用西里尔字母“а”（U+0430）而不是 ASCII “a”（U+0061）。这被称为[同形异义词攻击](https://en.wikipedia.org/wiki/IDN_homograph_attack)。

幸运的是，现代浏览器有适当的机制来限制 IDN 同形异义词攻击。[chrome 上的 IDN 政策](https://chromium.googlesource.com/chromium/src/+/master/docs/idn.md)页面突出显示了 IDN 以其本机 Unicode 形式显示的条件。一般来说，如果域标签包含来自多种不同语言的字符，则 Unicode 形式将被隐藏。如上所述的“аapple.com”域将以 Punycode 形式显示为“xn–pple-43d.com”，以减少与真正的“apple.com”的混淆。

有关更多信息，请参阅[Xudong Zheng 的这篇博文](https://www.xudongz.com/blog/2017/idn-phishing/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:36:12.287

Windows 7 上的 Internet Explorer 8.0 可以很好地显示您的 UTF-8 域。另一方面，Google Chrome 19 没有。

在此处阅读更多信息：[多语言网址简介#phishing](http://www.w3.org/International/articles/idn-and-iri/#phishing)。

不同的浏览器给的东西不同，可能是因为有些使用系统codepage/locale/encoding/wtvr。而其他人则使用他们自己的设置，或允许的字符列表。

仔细阅读那篇文章，它解释了每个浏览器在做出决定时是如何工作的。如果您针对的是特定语言，则可以摆脱它并使其发挥作用。

# android - 即使在 ICS 中误启动应用程序后，Broadcastreceiver 也不会收听

> ID：11008603
> 
> 赞同：0
> 
> 时间：2012-06-13T05:18:48.830
> 
> 标签：android

如果音乐在后台播放，我的应用程序会显示音乐元数据。在 ICS 设备中，即使手动启动应用程序后，广播接收器也没有注册。它适用于以下版本。我在下面添加了一部分代码，我想在清单文件中添加任何意图操作吗？

```
IntentFilter iF = new IntentFilter();
// Android Stock Music App / Google Play Music App
 iF.addAction("com.miui.player.metachanged");
// HTC music player`enter code here`
iF.addAction("com.htc.music.metachanged");
// WinAmp
iF.addAction("com.nullsoft.winamp.metachanged");
// Samsung Music App
iF.addAction("com.sec.android.app.music.metachanged");
registerReceiver(mReceiver, iF);

private BroadcastReceiver mReceiver = new BroadcastReceiver() {
        @Override
        public void onReceive(Context context, Intent intent) {
            String track =intent.getStringExtra("track");
    };
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:27:51.790

您提供的代码有效，但它需要一个活动（您是否使用活动）。在 Android 3.1+ 上，应用程序安装在“停止”状态。在这种状态下，广播接收器不会工作，直到用户从应用程序手动启动一个活动。如果用户从设置中强制停止应用程序，应用程序将返回到此“停止”状态。

因此，向您的项目添加一个活动，启动一次，然后查看您的接收器是否工作。否则尝试在清单文件中注册广播接收器..

希望解释对你有用。

# jquery - jQuery 输入限制数字/数字为 4，但文本可以是无限长

> ID：11008605
> 
> 赞同：2
> 
> 时间：2012-06-13T05:18:53.690
> 
> 标签：jquery, input, numbers, limit

我怎样才能有一个限制为 4 个数字/数字的输入，但如果输入文本，则字符长度是无限的？

最终工作代码：

```
 function isNumber (o) {
  return ! isNaN (o-0);
}

$("#txt").keyup(function(e){
    txtVal = $(this).val();  
     if(isNumber(txtVal) && txtVal.length>4)
     {
         $(this).val(txtVal.substring(0,4) )
           $(".error").html("4 Numbers Only").show();
      return false;
     }
});
}); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T05:21:06.720

**[现场演示](http://jsfiddle.net/C4Y99/4/)**

**HTML**

```
 <input id="txt1" type="text" name="usrname" />​ 
```

**JAVASCRIPT**

```
function isNumber (o) {
  return ! isNaN (o-0);
}  

$("#txt1").keyup(function(e){
txtVal = $(this).val();  
 if(isNumber(txtVal) && txtVal.length>4)
 {
     $(this).val(txtVal.substring(0,4) )
 }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T05:28:52.620

您可以检查该值是否为数值，并且当超过 4 个字符时触发验证。

```
$("#yourField").change(function(e){
     if(isNaN($(this).val()) && $(this).val().length > 4)
     {
        //trigger validation
     }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-11T07:42:28.503

HTML

```
<input type="text" class="numeric" /> 
```

查询

```
$('.numeric').keypress(function(e) { 

var verified = (e.which == 8 || e.which == undefined || e.which == 0) ? null : String.fromCharCode(e.which).match(/[^0-9]/);
if (verified || e.delegateTarget.value.length>3 || e.ctrlKey ==true) { if(e.which!=8 ){e.preventDefault();}}

}).on('paste',function(e){ e.preventDefault();}); 
```

工作示例

[http://jsfiddle.net/nadeemmnn2007/C4Y99/52/](http://jsfiddle.net/nadeemmnn2007/C4Y99/52/)

# c# - 如何配置 smtp 设置？

> ID：11008606
> 
> 赞同：2
> 
> 时间：2012-06-13T05:19:06.987
> 
> 标签：c#, asp.net, smtp

我想使用 asp.net 中的 PasswordRecovery 控件来恢复密码。但是当我单击提交按钮时。我收到以下消息：

错误的命令顺序。服务器响应是：此邮件服务器在尝试发送到非本地电子邮件地址时需要身份验证。请检查您的邮件客户端设置或联系您的管理员以验证是否为此服务器定义了域或地址。这是我的html代码：

```
<asp:PasswordRecovery ID="PasswordRecovery1" runat="server" 
          style="font-family: Tahoma; font-size: small" 
          onsendingmail="PasswordRecovery1_SendingMail" >
          <MailDefinition BodyFileName="../User Pages/RecoveryPass.htm" From="info@shirinfam.com"
            IsBodyHtml="True" Subject="بازیابی کلمه ی عبور" Priority="High"></MailDefinition>
        <UserNameTemplate>
            <table cellpadding="1" cellspacing="0" style="border-collapse:collapse;">
                <tr>
                    <td>
                        <table cellpadding="0">
                            <tr>
                                <td align="center" colspan="2">
                                    &nbsp;</td>
                            </tr>
                            <tr>
                                <td align="center" colspan="2">
                                    <asp:Label ID="Label1" runat="server" 
                                        Text="<%$ Resources:resource, passrecovery %>" 
                                        style="font-size: small; font-family: Tahoma"></asp:Label></td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <asp:Label ID="UserNameLabel" runat="server" AssociatedControlID="UserName"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="UserName" runat="server"></asp:TextBox>
                                    <asp:RequiredFieldValidator ID="UserNameRequired" runat="server" 
                                        ControlToValidate="UserName" ErrorMessage="User Name is required." 
                                        ToolTip="User Name is required." ValidationGroup="PasswordRecovery1">*</asp:RequiredFieldValidator>
                                </td>
                            </tr>
                            <tr>
                                <td align="center" colspan="2" style="color:Red;">
                                    <asp:Literal ID="FailureText" runat="server" EnableViewState="False"></asp:Literal>
                                </td>
                            </tr>
                            <tr>
                                <td align="right" colspan="2">
                                    <asp:Button ID="SubmitButton" runat="server" CommandName="Submit" Text="<%$ Resources:resource, submit %>" 
                                        ValidationGroup="PasswordRecovery1" Font-Names="tahoma" 
                                        Font-Size="X-Small" Width="80px" />
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </UserNameTemplate>
</asp:PasswordRecovery> 
```

这是背后的代码：

```
protected void PasswordRecovery1_SendingMail(object sender, MailMessageEventArgs e)
    {
        SmtpClient smtp = new SmtpClient();

        smtp.Send(e.Message);
    } 
```

这是 web.config 中的 smtp 设置：

```
 <system.net>
    <mailSettings >
      <smtp >
        <network host="mail.domainname.com" userName="info@dominname.com" password ="password" defaultCredentials="false"/>
      </smtp>
          </mailSettings>
  </system.net> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:24:54.287

为您的电子邮件帐户设置您`credentials`的，假设您正在使用您的`Gmail`帐户发送电子邮件，因此，您必须将 设置`credentials (username and password)`为您的`smtpClient object`.

以下是示例::

```
 MailMessage m = new MailMessage();
 SmtpClient sc = new SmtpClient(); 
```

MailMessage 帮助我们创建邮件，SmtpClient 允许我们向收件人发送邮件。

注意：以下代码配置为从 GMAIL 帐户发送邮件。

```
m.From = new MailAddress("from@gmail.com", "Display name");
m.To.Add(new MailAddress("to@domain.com", "Display name To"));
m.Subject = "Test";
m.Body = "This is a Test Mail";
sc.Host = "smtp.gmail.com";
sc.Port = 587;
sc.Credentials = new System.Net.NetworkCredential("from@gmail.com", "password of from");
sc.EnableSsl = true; // runtime encrypt the SMTP communications using SSL
sc.Send(m); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:23:59.630

DefaultCredentials 应设置为 true，并应显式将凭据添加到客户端。

```
SmtpClient client = new SmtpClient(server, port);
        // Credentials are necessary if the server requires the client 
        // to authenticate before it will send e-mail on the client's behalf.
        client.Credentials = CredentialCache.DefaultNetworkCredentials; 
```

# php - 在命令行上运行 Artisan (Laravel) 时出现致命错误

> ID：11008610
> 
> 赞同：6
> 
> 时间：2012-06-13T05:19:48.407
> 
> 标签：php, laravel, laravel-3

我在（很棒的）Laravel PHP 框架上使用 artisan 时遇到了一个致命错误。

我最近下载了 Laravel v3.2.1，并尝试从 artisan 所在的目录中运行以下命令行：

```
php artisan key:generate 
```

这应该在我的 applications/application.php 文件中为我创建一个随机密钥。（有关此命令的具体参考，请参阅[http://laravel.com/docs/artisan/commands 。）](http://laravel.com/docs/artisan/commands)

但是，当我从 shell 运行此命令时，我收到以下错误：

```
Warning: chdir(): No such file or directory (errno 2) in /home/[USERNAME REMOVED]/websites/[DIRECTORY REMOVED]/htdocs/dev/sb4/paths.php on line 62                                                                                                       

Parse error: syntax error, unexpected T_STRING in /home/[USERNAME REMOVED]/websites/[DIRECTORY REMOVED]/htdocs/dev/sb4/laravel/core.php on line 1 
```

这是paths.php第62行的内容：

```
chdir(__DIR__); 
```

这是 core.php 第 1 行的内容：

```
<?php namespace Laravel; 
```

**我的问题是：是否有任何特定的环境、目录或其他权限我应该修改以使 artisan 启动并运行。**

一点背景：

*   我昨天第一次安装了 Laravel 3.2.1
*   我可以在我的系统上成功运行一个简单的 Web 应用程序（即我可以将请求路由到控制器并正确加载相关联的刀片）
*   我只是从 GitHub 下载了 Laravel 3.2.1 (laravel-laravel-v3.2.1-8-gaae8b62.zip) 并将其提取到我的服务器上

我的环境：

*   Dreamhost 共享主机上的 PHP 5.3.13
*   FireSSH 运行命令

我的根目录：（括号中的权限）

*   /申请 (775)
*   /捆绑 (775)
*   /laravel (775)
*   /公共 (775)
*   /存储 (775)
*   /工匠 (664)
*   /paths.php (777)

请让我知道是否有任何其他有关我的设置的详细信息。我真的不确定什么有助于解决此问题。

--

更新：我还将这个问题发布到 Laravel 的 GitHub 问题跟踪器。(https://github.com/laravel/laravel/issues/820)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-16T11:29:17.450

首先，感谢@KingCrunch，你的第一反应让我找到了解决这个问题的正确途径。此外，我收到了 Dreamhost 技术支持（特别是 Gary S）的出色回复，他给了我想要的简洁答案。

问题是：我在 CLI 上运行 PHP 5.2.17，而我的 Web 服务器运行的是 PHP 5.3.13。

解决方法是：使用

```
/usr/local/php53/bin/php artisan <command> 
```

在 CLI 上运行 artisan 命令时。这将确保我所有的 artisan 命令都使用 PHP 5.3 及更高版本运行，这满足 Laravel 的 PHP 5.3+ 要求。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-15T08:38:18.730

命名空间和`__DIR__`-pseud-constant 是在 PHP 5.3 中引入的。看来您正在运行旧版本。您应该至少更新到 5.3。

```
php -v 
```

# android - 将数据从活动发送到片段

> ID：11008611
> 
> 赞同：0
> 
> 时间：2012-06-13T05:19:49.820
> 
> 标签：android, android-fragments

我们如何将数据从活动发送到片段？通过使用 FragmentPagerAdapter 将片段配置为活动。

问候迷你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-24T23:22:03.183

*   您可以在创建时将包传递给片段[`setArguments`](http://developer.android.com/reference/android/app/Fragment.html#setArguments%28android.os.Bundle%29)。
*   您可以创建方法来设置 Fragment 类上的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-12T14:19:56.133

您可以使用 [Bundle执行此操作](http://developer.android.com/intl/zh-cn/reference/android/os/Bundle.html)

从活动（或片段）发送数据：

```
int a = 5;

Bundle args = new Bundle(); 
args.putInt("INT_DATA_TAG", a); 

Fragment fragment = Fragment.newInstance(args); 
//Making fragment transaction 
```

检索片段中的数据

```
int a;
public static Fragment newInstance(Bundle args) {
      a = args.getInt("INT_DATA_TAG"); //use a constant for the tag
      return new Fragment();
} 
```

# less - 边框半径不影响内部元素

> ID：11008614
> 
> 赞同：36
> 
> 时间：2012-06-13T05:20:18.767
> 
> 标签：less, css

我有一个布局，其中所有页面内容都在一个带圆角的框中。这包括页面的标题等。我有一个`div`包含我的页眉内容的元素，一个`div`包含页面主要内容的元素，以及一个`div`包含页脚的元素。我的问题是：由于我的“标题”的边框`div`不是圆形的，大“容器”`div`的顶部似乎没有圆形。我进行了调查，并表明这只是`div`将自身叠加在 "container" 上的 "header" `div`。我在这里有一个例子：http: [//jsfiddle.net/V98h7/](http://jsfiddle.net/V98h7/)。

我已经尝试将“header”的边框四舍五入`div`到相同的程度，但这会在边框上产生一个小缺陷（它获得了自己的边框，即“header”`div`的背景色）。无奈之下，我还尝试将容器的 z-index 设置为很大的数字。那没有做任何事情。

我觉得这个问题应该有一个简单的解决方案。我不想要一个 javascript 修复程序。我更喜欢 CSS，但 LESS 也可以。

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2012-06-13T05:25:38.453

这是小提琴 - [http://jsfiddle.net/ashwyn/V98h7/2/](http://jsfiddle.net/ashwyn/V98h7/2/)

添加 -

```
#outer {
   overflow: hidden;
} 
```

它会起作用。

[`overflow`可以在 MDN 上找到有关](https://developer.mozilla.org/en-US/docs/Web/CSS/overflow)该属性的更多信息。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T05:28:47.937

用这个：

```
#outer { overflow: hidden; } 
```

或这个：

```
#inner1 {
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
} 
```

或者你可以试试这个：

```
#outer div:first {
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
} 
```

（注意：我没有测试上面的最后一个选项）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:24:55.383

这是更新jsfiddle

[http://jsfiddle.net/V98h7/1/](http://jsfiddle.net/V98h7/1/)

仅圆边框角`border-radius`可以采用 4 个值`TOP-LEFT RADIUS` `TOP-RIGHT RADIUS` `BOTTOM-RIGHT RADIUS` `BOTTOM-LEFT-RADIUS`

所以`border-radius: 20px 20px 0 0;`将从顶部环绕您的内部 div。请记住使用与父 div 相同的半径值，否则您会看到一些额外的边框。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-03-12T19:01:17.477

css 边框半径背景颜色出血和内部元素破坏边框半径的边框修复。这可能有助于解决奇怪的边界故障。

```
/* useful if you don't want a bg color from leaking outside the border: */
-moz-background-clip: padding; 
-webkit-background-clip: padding-box;
background-clip: padding-box; 
```

这个参考是在这里[http://css3please.com/](http://css3please.com/) 由[https://stackoverflow.com/a/7052769/9071880找到的](https://stackoverflow.com/a/7052769/9071880)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-13T05:25:29.173

尝试为容器 div 提供比标题 div 稍大的边框半径（在顶部两个角上）。

# java - 在 Play 1 中移植动态表单绑定 Play 2 示例应用

> ID：11008615
> 
> 赞同：1
> 
> 时间：2012-06-13T05:20:21.940
> 
> 标签：java, playframework, reverse-engineering, dynamic-forms

以下是 Play 2 应用程序， [https://github.com/playframework/Play20/tree/master/samples/java/forms](https://github.com/playframework/Play20/tree/master/samples/java/forms)

它描绘了动态表单绑定，其中表单字段和部分在客户端动态添加和删除。

这是一个 Play 2 示例应用程序。我想将它移植到 Play 1 代码库上。

如果有人可以在 Play 框架 1.xt 中移植相同的应用程序将是一个很大的帮助！GitHub 共享将是逐步改进移植应用程序的绝佳方式！

想法是在 Play 1 中为此类用例学习最佳实践。![动态形式生成播放控制器绑定](../Images/62cd843a99fe4f74cbf94be811a98b67.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T12:19:42.803

使用[列表绑定](http://www.playframework.org/documentation/1.2.4/controllers#array)和适当命名的字段和一些 JavaScript。

# ruby - 序列化压缩

> ID：11008616
> 
> 赞同：1
> 
> 时间：2012-06-13T05:20:23.917
> 
> 标签：ruby, serialization, compression, thrift

我使用紧凑协议将 116k 文件序列化为 thrift 二进制格式，但即使在序列化之后，大小也是 116K。序列化程序不应该减小文件大小吗？如果该信息有帮助，该文件仅包含字符串。

是否有任何其他数据序列化技术可以减小我的对象的大小？

我尝试了 protobuf 序列化，但这也没有减少大小。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T07:05:12.453

序列化器应该序列化东西。序列化是将内存中的对象图转换为字节流的过程，适合存储在磁盘上或通过网络发送。

要压缩此字节流，您需要一个压缩器。

# java - Alfresco 版本和标记

> ID：11008620
> 
> 赞同：1
> 
> 时间：2012-06-13T05:20:47.137
> 
> 标签：java, alfresco

是否可以在 Alfresco 中标记文件的特定版本？如果是这样，请指导我如何实现它。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:57:04.583

这里/s javascript API 文档：[http ://wiki.alfresco.com/wiki/3.4_JavaScript_API#Versions_API](http://wiki.alfresco.com/wiki/3.4_JavaScript_API#Versions_API)

否则，在 Java 中使用 VersionService bean：[http ://dev.alfresco.com/resource/docs/java/repository/org/alfresco/service/cmr/version/VersionService.html](http://dev.alfresco.com/resource/docs/java/repository/org/alfresco/service/cmr/version/VersionService.html)

如果你不知道你到底想要哪个版本，你可以通过 JavaScript 或 Java 中的版本历史数组使用 VersionService 的“getVersionHistory”方法，然后在 VersionHistory 上使用“getAllVersions”，它是普通的旧 Java 集合（java.util.Collection）。

希望有帮助。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T15:28:48.127

您可以使用**VersionService的****getVersionHistory**方法返回**VersionHistory**对象。从这个对象你可以得到节点的每个版本。**版本**对象表示节点的单个版本。调用**Version对象的****getVersionedNodeRef**方法，您将获得该节点版本的 NodeRef。最后，使用**TaggingService**和方法**addTag**为节点版本的 nodeRef 添加标签。我希望这能帮到您。

# css - div 浮动在仅使用 css 的其他 div 之上

> ID：11008622
> 
> 赞同：0
> 
> 时间：2012-06-13T05:20:54.647
> 
> 标签：css, html

我环顾四周寻找解决方案，似乎有一些解决方案，但我似乎没有让它工作，任何想法将不胜感激。

我将三个 div 放入一个用作背景 ( ) 的 div 容器（居中`z-index : -10;`）。我想`z-index : 5;`在之前的上面浮动另一个 div （它将是另一个容器）。

下面的 HTML：

```
<div class="div-backall ">
<div class="div-backtop">
        <p>1111</p>
    </div>
<div class="div-backmid">
        <p>2222</p>
    </div>
<div class="div-backbottom ">
        <p>3333</p>
    </div>
</div>
<div class="div-main">
    <p>Main text goes here</p>
</div> 
```

下面的CSS：

```
.div-backall {
    width: 90%;
    height: 100%;
    z-index : 1;
    margin-left : auto;
    margin-right : auto;
    position : absolute;
}
.div-backtop {
    width: 90%;
    height: 20%;
    background-color: #D8E4F8;
    margin: -5px 0 0 0;
    position : absolute;
    margin-left : 5%;
    margin-right : 5%;          
}
.div-backmid {
    width: 90%;
    height: 75%;
    background-color: #F1EFE2;
    margin: 14% 0 0 0;
    position : absolute;
    margin-left : 5%;
    margin-right : 5%;      
}
.div-backbottom {
    width: 90%;
    height: 5%;
    background-color: #D8E4F8;
    margin: 70% 0 0 0;
    text-align: center;
    position : absolute;
    margin-left : 5%;
    margin-right : 5%;  
}

.div-main{
    width: 70%;
    height: 85%;
    background-color: #FFFFFF;
    margin-left : 10%;
    margin-right : 10%;
    text-align: center;
    z-index : 2;
    border : thin solid Black;
    position : absolute;
    margin-top : 5%; 
    border-radius: 5px;
} 
```

我可以使用获得浮动效果，`margin-top : -800px;`但它是一种垃圾解决方案。我也无法让后者居中。仅使用 CSS 可能吗？我应该看一个js解决方案吗？

谢谢，李

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:24:47.080

**z-index**仅适用于 position `relative, absolute & fixed`。像这样写：

```
 .div-backtop,
    .div-backbottom,
    .div-main{
     position:relative;
    }
   .div-backtop{
     z-index:1;
    }
   .div-main{
     z-index:2;
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:37:53.530

要使用 z-index，您必须对每个 div 使用绝对位置，因为相对位置不支持 z-index

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:30:55.937

请确定输出如何？我无法为您的问题提供答案...据我所知，我给出了一个解决方案..希望您能从中得到

```
margin-top : -700px;
    position:relative; 
```

请对此进行更改

```
.div-main{
    width: 70%;
    height: 85%;
    background-color: #FFFFFF;
    margin-left : 10%;
    z-index : 5;
    border : thin solid Black;
    position : relativ;
    margin-top : -700px;
    border-radius: 5px;
} 
```

# php - 如何使用 PHP 在 URL 中插入附加路径？

> ID：11008624
> 
> 赞同：0
> 
> 时间：2012-06-13T05:21:02.393
> 
> 标签：php, url, urlparse

假设我有这个网址：

[http://example.com/image-title/987654/](http://example.com/image-title/987654/)

我想将“下载”插入“图像标题”和“987654”之间的部分，所以它看起来像：

[http://example.com/image-title/download/987654/](http://example.com/image-title/download/987654/)

帮助将不胜感激！谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:28:18.560

假设您的 URI 始终是相同（或至少是可预测的）格式，您可以使用该[`explode`](http://php.net/manual/en/function.explode.php)函数将 URI 拆分为其每个部分，然后用于[`array_splice`](http://php.net/manual/en/function.array-splice.php)将元素插入该数组，最后用于[`implode`](http://www.php.net/manual/en/function.implode.php)将它们重新组合在一起成一个字符串。

`$length`请注意，您可以通过将参数指定为零来将元素插入到数组中。例如：

```
$myArray = array("the", "quick", "fox");
array_splice($myArray, 2, 0, "brown");
// $myArray now equals array("the", "quick", "brown", "fox"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:42:12.423

格式不是很好，但我认为这是你需要的

```
$mystr= 'download';
$str = 'http://example.com/image-title/987654/';
$newstr = explode( "http://example.com/image-title",$str);
$constring =  $mystr.$newstr[1];

$adding = 'http://example.com/image-title/';
echo $adding.$constring;  // output-- http://example.com/image-title/download/987654/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:48:52.043

在 PHP 中有很多方法可以做到这一点：

*   使用 explode()、array_merge、implode() 进行拆分和重构
*   使用子字符串（）
*   使用正则表达式
*   使用 str_replace

假设所有 url 都符合相同的结构（image-title/[image_id]），我建议使用 str_replace，如下所示：

```
$url = str_replace('image-title', 'image-title/download', $url); 
```

但是，如果图像标题是动态的（图像的实际标题），我建议像这样拆分和重建：

```
$urlParts = explode('/', $url);
$urlParts = array_merge(array_slice($urlParts, 0, 3), (array)'download', array_slice($urlParts, 3));
$url = implode('/', $urlParts); 
```

# javascript - 如何将值传递给 chrome.tabs.create 打开的新选项卡？

> ID：11008628
> 
> 赞同：2
> 
> 时间：2012-06-13T05:21:14.093
> 
> 标签：javascript, google-chrome, google-chrome-extension

我是为 Chrome 编写扩展程序的新手。我正在尝试编写一个简单的扩展程序，该扩展程序将在单击扩展程序图标时打开一个具有指定 URL 的新选项卡，并且需要向其传递一个值，以便将该值填充到输入区域（例如：搜索输入) 的指定网址。

我在单击图标时成功打开了具有给定 URL 的新选项卡。我使用后台脚本监听图标上的事件并打开一个选项卡，脚本如下：

```
chrome.browserAction.onClicked.addListener(function(tab) {

  chrome.tabs.create({'url': 'www.google.com'}, function(tab1) {
    // Tab opened.
  });
}); 
```

现在我很困惑什么方法可以让我向新选项卡发送一些值并使用该值并在那里执行一些操作，如果我通过“java api”我必须把它放在谷歌页面的搜索区域。我尝试查看 Chrome 扩展文档，但对于使用什么感到困惑？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T06:44:33.000

您应该使用[`chrome.tabs.executeScript()`](http://code.google.com/chrome/extensions/tabs.html#method-executeScript)在此选项卡中运行内容脚本：

```
chrome.tabs.create(..., function(tab1) {
  chrome.tabs.executeScript(tab1.id, {file: ...});
}); 
```

然后，此内容脚本将能够对选项卡内容执行某些操作。如果它需要来自您的扩展程序的一些数据，它必须[发送一条消息](http://code.google.com/chrome/extensions/extension.html#method-sendRequest)。

# iphone - InApp 购买 SKPaymentQueue 完成交易不起作用

> ID：11008636
> 
> 赞同：2
> 
> 时间：2012-06-13T05:22:00.073
> 
> 标签：iphone, ios, xcode, ios5

我正在iOS sdk中的inapp购买项目。我已经准备了inapp购买类，用于从appstore购买应用程序并启用项目的内部内容。但是，我的问题是SKPaymentQueue没有完成我的类的工作。这是我的inapp购买代码班级：

```
- (void)purchase {
    [[SKPaymentQueue defaultQueue] removeTransactionObserver:self];
    SKPayment *payment = [SKPayment paymentWithProductIdentifier:@"com.test"];
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] addPayment:payment];

}

- (void)provideContent:(NSString *)productIdentifier {

    NSLog(@"Toggling flag for: %@", productIdentifier);
    [[NSUserDefaults standardUserDefaults] setBool:TRUE forKey:productIdentifier];
    [[NSUserDefaults standardUserDefaults] synchronize];
    //[_purchasedProducts addObject:productIdentifier];

    [[NSNotificationCenter defaultCenter] postNotificationName:kProductPurchasedNotification object:productIdentifier];

}

- (void)completeTransaction:(SKPaymentTransaction *)transaction {

    NSLog(@"completeTransaction...");

    //[self recordTransaction: transaction];
    [self provideContent: transaction.payment.productIdentifier];
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];

}

- (void)restoreTransaction:(SKPaymentTransaction *)transaction {

    NSLog(@"restoreTransaction...");

    //[self recordTransaction: transaction];
    [self provideContent: transaction.originalTransaction.payment.productIdentifier];
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];

}

- (void)failedTransaction:(SKPaymentTransaction *)transaction {

    if (transaction.error.code != SKErrorPaymentCancelled)
    {
        NSLog(@"Transaction error: %@", transaction.error.localizedDescription);
    }

    [[NSNotificationCenter defaultCenter] removeObserver:self name:kProductPurchaseFailedNotification object:transaction];

    [[NSNotificationCenter defaultCenter] postNotificationName:kProductPurchaseFailedNotification object:transaction];

    //[[NSNotificationCenter defaultCenter] postNotificationName:@"NotificationName" object:transaction];

    [[SKPaymentQueue defaultQueue] finishTransaction:transaction];

}

- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {

    for (SKPaymentTransaction *transaction in transactions) {

        switch (transaction.transactionState) {

            case SKPaymentTransactionStatePurchasing:

                break;

            case SKPaymentTransactionStatePurchased:
                [self completeTransaction:transaction];
                //[[SKPaymentQueue defaultQueue] finishTransaction:transaction];

                break;

            case SKPaymentTransactionStateRestored:
                //[[SKPaymentQueue defaultQueue] finishTransaction:transaction];
                [self restoreTransaction:transaction];

                break;

            case SKPaymentTransactionStateFailed:
                if (transaction.error.code != SKErrorPaymentCancelled) {
                    NSLog(@"An error encounterd");
                }
                else {
                    NSLog(@"Cancelled!");
                }
                //[[SKPaymentQueue defaultQueue] finishTransaction:transaction];

                [self failedTransaction:transaction];

                break;

        }

    }

}

- (void)dealloc
{
    [[SKPaymentQueue defaultQueue] removeTransactionObserver:self];

    [request release];
    [super dealloc];

} 
```

那条线在我的课堂 `[[SKPaymentQueue defaultQueue] finishTransaction:transaction];`交易没有完成时不起作用。我的另一个问题是 nsnotificationcenter 调用多次，例如如果我第一次单击它只调用一次没问题，另一次是 nsnotificationcenter 调用 3 次。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-13T05:50:43.663

我得到了解决方案，您的问题是 addTransaction 服务器与您的问题重复，

试试下面的代码它必须工作：

```
static bool hasAddObserver=NO;

- (void)purchase {
    if (!hasAddObserver) {//flag to fix this bug
        /*=====================================*/
        [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
        hasAddObserver=YES;
    }
    SKPayment *payment = [SKPayment paymentWithProductIdentifier:@"com.test"];
    //[[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] addPayment:payment];

}

- (void)provideContent:(NSString *)productIdentifier {

    NSLog(@"Toggling flag for: %@", productIdentifier);
    [[NSUserDefaults standardUserDefaults] setBool:TRUE forKey:productIdentifier];
    [[NSUserDefaults standardUserDefaults] synchronize];
    //[_purchasedProducts addObject:productIdentifier];

    [[NSNotificationCenter defaultCenter] postNotificationName:kProductPurchasedNotification object:productIdentifier];

}

- (void)completeTransaction:(SKPaymentTransaction *)transaction {

    NSLog(@"completeTransaction...");

    //[self recordTransaction: transaction];
    [self provideContent: transaction.payment.productIdentifier];
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];

}

- (void)restoreTransaction:(SKPaymentTransaction *)transaction {

    NSLog(@"restoreTransaction...");

    //[self recordTransaction: transaction];
    [self provideContent: transaction.originalTransaction.payment.productIdentifier];
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];

}

- (void)failedTransaction:(SKPaymentTransaction *)transaction {

    if (transaction.error.code != SKErrorPaymentCancelled)
    {
        NSLog(@"Transaction error: %@", transaction.error.localizedDescription);
    }

    [[NSNotificationCenter defaultCenter] postNotificationName:kProductPurchaseFailedNotification object:transaction];

    //[[NSNotificationCenter defaultCenter] postNotificationName:@"NotificationName" object:transaction];

    [[SKPaymentQueue defaultQueue] finishTransaction:transaction];

}

- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {

    for (SKPaymentTransaction *transaction in transactions) {

        switch (transaction.transactionState) {

            case SKPaymentTransactionStatePurchasing:

                break;

            case SKPaymentTransactionStatePurchased:
                //[self completeTransaction:transaction];
                [[SKPaymentQueue defaultQueue] finishTransaction:transaction];

                break;

            case SKPaymentTransactionStateRestored:
                [[SKPaymentQueue defaultQueue] finishTransaction:transaction];
                //[self restoreTransaction:transaction];

                break;

            case SKPaymentTransactionStateFailed:
                if (transaction.error.code != SKErrorPaymentCancelled) {
                    NSLog(@"An error encounterd");
                }
                else {
                    NSLog(@"Cancelled!");
                }
                //[[SKPaymentQueue defaultQueue] finishTransaction:transaction];

                [self failedTransaction:transaction];

                break;

        }

    }

}

- (void)dealloc
{
    [[SKPaymentQueue defaultQueue] removeTransactionObserver:self];

    [request release];
    [super dealloc];

} 
```

欢迎！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-05-19T13:55:00.737

要解决此问题，只需在`[[SKPaymentQueue defaultQueue]removeTransactionObserver:self];` 之后添加`[[SKPaymentQueue defaultQueue] finishTransaction:transaction];`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-01T12:08:32.473

你可以这样做：

```
 - (void)buyProduct:(SKProduct *)product {

NSLog(@"Buying %@...", product.productIdentifier);
SKPayment * payment = [SKPayment paymentWithProduct:product];
[[SKPaymentQueue defaultQueue] addPayment:payment];

 }

- (void)validateReceiptForTransaction:(SKPaymentTransaction *)transaction {
VerificationController * verifier = [VerificationController sharedInstance];
[verifier verifyPurchase:transaction completionHandler:^(BOOL success) {
    if (success) {
        NSLog(@"Successfully verified receipt!");
        [self provideContentForProductIdentifier:transaction.payment.productIdentifier];
    } else {
        NSLog(@"Failed to validate receipt.");
        [[SKPaymentQueue defaultQueue] finishTransaction: transaction];

    }
}];
}

#pragma mark SKPaymentTransactionOBserver

- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions
{
for (SKPaymentTransaction *transaction in transactions) {
    switch (transaction.transactionState) {
        case SKPaymentTransactionStatePurchasing:
            NSLog(@"Prossing.............");

            break;

        case SKPaymentTransactionStatePurchased:
        {

            [self completeTransaction:transaction];
            NSError* error;
            NSDictionary* jsonDict = [NSJSONSerialization
                                  JSONObjectWithData:transaction.transactionReceipt

                                  options:kNilOptions 
                                  error:&error];
            NSLog(@"JSON Receipt: %@",jsonDict);

            [[NSUserDefaults standardUserDefaults] setObject:jsonDict forKey:@"A"];
            NSLog(@"Purchase was a Success.....");
        }
            break;
        case SKPaymentTransactionStateFailed:

            [self failedTransaction:transaction];

            NSLog(@"Purchase cancelled");

            break;

        case SKPaymentTransactionStateRestored:

            [self restoreTransaction:transaction];

            default:

            break;
    }         
}
}

- (void)completeTransaction:(SKPaymentTransaction *)transaction {
NSLog(@"completeTransaction...");

[self validateReceiptForTransaction:transaction];
[[SKPaymentQueue defaultQueue] finishTransaction:transaction];
}

- (void)restoreTransaction:(SKPaymentTransaction *)transaction {
NSLog(@"restoreTransaction...");

[self validateReceiptForTransaction:transaction];
[[SKPaymentQueue defaultQueue] finishTransaction:transaction];
}

 - (void)failedTransaction:(SKPaymentTransaction *)transaction {

NSLog(@"failedTransaction...");

[[SKPaymentQueue defaultQueue] finishTransaction: transaction];

if (transaction.error.code != SKErrorPaymentCancelled)
{
    NSLog(@"Transaction error: %@", transaction.error.localizedDescription);
    MedPulseAppDelegate *appdelegate =( MedPulseAppDelegate *)[[UIApplication sharedApplication]delegate];
    [appdelegate hideLoading];
}

[[SKPaymentQueue defaultQueue] finishTransaction: transaction];
}

 - (void)provideContentForProductIdentifier:(NSString *)productIdentifier {

if ([productIdentifier isEqualToString:kMDPulseSubscriptionProductIdentifier]) {
    [self purchaseSubscriptionWithMonths:1];
 }

[[NSNotificationCenter defaultCenter] postNotificationName:IAPHelperProductPurchasedNotification object:productIdentifier userInfo:nil];

  }

  - (void)paymentQueue:(SKPaymentQueue *)queue restoreCompletedTransactionsFailedWithError:(NSError *)error {
NSLog(@"%s","User Cancel.");

  }

 - (void)paymentQueueRestoreCompletedTransactionsFinished:(SKPaymentQueue *)queue
 {
NSLog(@"Restore completed transactions finished.");
NSLog(@" Number of transactions in queue: %d", [[queue transactions] count]);
for (SKPaymentTransaction *trans in [queue transactions])
  {
    NSLog(@" transaction id %@ for product %@.", [trans transactionIdentifier], [[trans payment] productIdentifier]);
    NSLog(@" original transaction id: %@ for product %@.", [[trans originalTransaction] transactionIdentifier],
          [[[trans originalTransaction] payment]productIdentifier]);

    if ([[[trans payment] productIdentifier] isEqual: kMDPulseSubscriptionProductIdentifier]) {

        NSLog(@"Purchase Restored");

        // Do your stuff to unlock
    }
  }
 }

 - (void)restoreCompletedTransactions
 {
    NSLog(@"Restore Tapped in transaction process");
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];
  } 
```

欢迎！
如果您有任何疑问，请将其评论下来

# sql - 用于数据流任务的 Foreach 循环容器

> ID：11008637
> 
> 赞同：4
> 
> 时间：2012-06-13T05:22:08.097
> 
> 标签：sql, sql-server, oracle, ssis

我想从 oracle DB 导入近 1200 万条记录，但由于 SSIS 内存缓冲区问题，我需要每年迭代我的数据流任务，即 2005 年到 2012 年（7 次）。我如何使用 foreach 我的 oracle 查询来逐年获取数据。

询问

`SELECT * FROM EMP_RECORDS_DETAILS WHERE to_char(JOIN_DT,'YYYY')=2005`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T06:23:14.633

我已经使用 Sql Server 解决了上述问题。因此，您唯一需要更改的是 Select 查询

1.  首先创建一个变量来存储每年的日期。

    ```
     Name: TimeValue  DataType=Int32 
    ```

2.  使用 ForEach 循环并在集合选项卡中选择 Foreach 项目枚举器

![新列](../Images/f566262fd58c78bdb4030afd09216adc.png)

3.  单击“列”选项卡并创建一个数据类型为 int 的新列

4.  在变量映射映射上面创建的变量。

![映射](../Images/8542b69df4ccc64dd35c4252d2094334.png)

5.  在数据流内部使用 oledb 目标并在数据访问模式下选择 sql 命令。应更改 where 子句中的查询并尝试选择列而不是提供 *。

![SQL 查询](../Images/38f7f829d9ea050f64b4622cebbbf19a.png)

6.  单击参数选项卡映射为 foreach 循环创建的参数

![映射参数](../Images/15821e9a1c06e3b21ab0b53a7b4aef0f.png)

如果之前不知道日期的值，那么您可以在 foreach 循环之前使用执行 sql 任务，并从表中仅选择 dateTime 列值并将其存储在一个变量中，并在 foreach 循环中使用集合中的变量枚举器中的 Foreach选项卡并选择在上面执行 sql 任务中创建的变量。

希望这对你有帮助。

# android - Android NFC p2p 检索信息

> ID：11008641
> 
> 赞同：3
> 
> 时间：2012-06-13T05:22:34.177
> 
> 标签：android, nfc, android-beam, nfc-p2p

我正在阅读有关 Android 上的近场通信的信息，并想知道是否有任何方法可以从另一部手机中检索信息。所以这可以通过两种方式完成：

1.  电话（检索器）通过 NFC 连接到另一部电话（客户端）。客户端没有安装任何特殊的应用程序，但我们在 Retriever 中安装了一个应用程序。Retriever 然后触发一个查询，它能否获取有关客户端设备的一些信息（比如所有者的电子邮件地址）？（请记住，客户端电话中没有安装任何特殊应用程序）。

2.  在这种情况下，客户端安装了一个适当的应用程序，该应用程序捕获 NFC 查询，对其进行解析，从客户端检索相关数据并将 NFC 消息发送回 Retriever。

我的背景研究表明，通过第二种方式应该是可能的。我有两个问题：

**1.是否可以通过第一种方法。如果是，那怎么办？**

**2.你能给我推荐一些关于第二种方法的好教程吗**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T14:31:10.807

Android 设备目前无法实现这两种情况。带有 NFC 的设备上的 Android 应用程序可以通过 NFC 将数据*推*送到另一台设备。Android 上无法通过 NFC查询和检索信息（*拉取数据）。*

使用 NFC 标签，Android 设备充当读卡器/写卡器设备。在这种情况下，Android 设备可以询问标签并从中检索信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T08:44:27.103

根据我的经验，两台设备都必须有一个已读取的应用程序才能接收 NFC 事件，“呼叫者”必须将应用程序置于前台，当它靠近其他设备时，会出现“光束”并发送 NdefMessage，在接收器每个具有该 MIME-TYPE 的意图过滤器的应用程序都可以启动并处理 nfc 事件。

作为起点的参考是[this](http://developer.android.com/guide/topics/nfc/nfc.html#p2p)和API中的项目示例。

# xml - 如何在 Flash 电影中加载 cgi-bin 文件夹中的 xml 文件

> ID：11008645
> 
> 赞同：0
> 
> 时间：2012-06-13T05:22:53.647
> 
> 标签：xml, actionscript-3, perl, cgi-bin

我在 cgi-bin 文件夹中有一个 perl 脚本，它请求位于 cgi-bin 文件夹之外的 flash 电影。此 Flash 影片加载位于 cgi-bin 文件夹内的 xml 文件。这种结构的原因是我需要 perl 脚本能够在将 xml 文件加载到 Flash 电影中之前将其写入。因此，xml 文件需要在 cgi-bin 中（我不想更改我的 .htaccess 文件）。但是，即使我在 as3 中指定了与 .swf 文件所在位置不同的路径，flash 电影也无法将 xml 文件加载到 .swf 电影所在的不同目录中。

```
xmlLoader.load(new URLRequest("cgi-bin/folder/file2.xml")); 
```

它一直在 .swf 文件所在的目录中查找 xml 文件。

我还使用以下 html 代码嵌入我的 flash 电影并告诉 perl 脚本 .swf 文件位于 cgi-bin 文件夹之外的不同目录中

```
param name='base' value = 'http://www.domain.ca/' 
```

这可能是造成问题的原因，但我不知道如何解决它。任何帮助，将不胜感激。

谢谢

**编辑：** 我通过将 xml 文件留在我的 cgi-bin 文件夹中并通过向 .xml 扩展名添加默认处理程序来编辑我的 Apache 服务器配置来解决问题。但是，我不确定这是否会导致安全问题以及是否有其他更好的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:29:36.333

我认为 http 无法访问 cgi-bin 文件夹。您可以做的是创建另一个读取 xml 文件并将其呈现给 flash 请求的 perl 脚本。

# session - 在第三方应用程序中退出 Liferay 时会话未清除

> ID：11008657
> 
> 赞同：0
> 
> 时间：2012-06-13T05:23:59.613
> 
> 标签：session, jsf, liferay, cas, invalidation

使用 iFrame 已将应用程序集成到 liferay。应用程序是在 JSF 中开发的，bean 处于会话范围内。对于身份验证，CAS 已与 liferay 一起使用。该应用程序使用 liferay 的登录用户名。当liferay注销时，应用程序的会话不会被清除，因此使用另一个帐户登录会显示旧数据。退出liferay时如何清除应用程序的会话？

寻求帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:45:30.183

看看[`com.liferay.portal.action.LogoutAction.execute()`](http://docs.liferay.com/portal/5.2/javadocs/portal-impl/com/liferay/portal/action/LogoutAction.java.html.)方法。在*第 100 行*。

此时您必须调用您的 jsf 应用程序代码，以使您在该特定应用程序中的会话无效。

现在，为了更改`LogoutAction`，您可以使用 EXT 环境，也可以`LogoutPostAction`通过使用钩子修改相同的代码来编写代码。

# java - 您能否以编程方式连接到一系列网页并解析源 HTML 而不会对系统施加压力或引发危险信号？

> ID：11008673
> 
> 赞同：1
> 
> 时间：2012-06-13T05:25:44.807
> 
> 标签：java, httpurlconnection, denial-of-service

我正在做一个 NLP 项目，要求我下载相当多的视频游戏评论——每个网站大约 10,000 条。因此，我将编写一个程序，访问每个 URL 并提取每个页面的评论部分以及一些额外的元数据。

我正在使用 Java，并计划只打开一个 HttpURLConnection 并通过输入流读取文本。然后，关闭连接并打开下一个。

我的问题是这样的：

1) 假设这是一个中小流量的站点：通常，他们每秒收到来自普通用户的大约 1000 个请求。我的程序是否可能会对他们的系统造成过度的压力，从而影响其他人的用户体验？

2）这些连接一个接一个地出现是某种恶意攻击吗？

我是偏执狂，还是这是一个问题？有没有更好的方法来获取这些数据？我要去几个网站，所以与网站管理员单独合作很不方便，而且可能是不可能的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:31:11.683

如果您模仿网络浏览器，并以人类的速度提取文本（也就是说，即使人类没有阅读文本，通常也需要几秒钟才能“点击”到下一页），那么服务器就不能真正告诉客户是什么。

换句话说，只需将您的 slurping 限制为每几秒钟 1 页，就没有问题。

The other concern you ought to have is legality. I assume these reviews are material that you didn't write, and have no permission to create derivative works from. If you are just slurping them for personal use, then its ok. If you are slurping them to create something (a derivative work), then you are breaking copyright.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:30:36.470

我相信您误解了 HTTP 请求的工作原理。你要求一个页面，你就得到了……你一次读一行流的事实与 HTTP 请求无关，并且该站点非常乐意一次给你一页。它看起来并不恶意（因为它只是 1 个用户阅读页面......完全正常的行为）。你 100% 可以继续你的计划（如果它是你描述的那样）。

# excel - 在 SUMIF 函数中将字符串转换为浮点数

> ID：11008674
> 
> 赞同：-1
> 
> 时间：2012-06-13T05:25:48.113
> 
> 标签：excel, google-sheets, google-sheets-formula, sumifs

我正在使用 SUMIF 函数，除了我要求和的列是这样的字符串：“AU $12.3”而不仅仅是“12”，我怎样才能剥离这个字符串以只返回我的 SUMIF 语句中的浮点值（在 E 列中）？

```
=SUMIF('may'!$D$1:$D$500,"*Amount*",'may'!$E$1:$E$500) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T07:07:21.707

你可以尝试这样的事情：

```
=SUMPRODUCT(ISNUMBER(SEARCH("Amount",May!$D$1:$D$500))*REPLACE(May!$E$1:$E$500,1,4,0)) 
```

# android - 我可以从我的应用程序在暂停时离开计算的同一个地方恢复吗？

> ID：11008676
> 
> 赞同：0
> 
> 时间：2012-06-13T05:26:05.533
> 
> 标签：android, onresume, onpause

我的应用程序正在处理数据（涉及大量计算、创建数组、清除这些数组）是否可以在应用程序恢复时从它离开计算的地方恢复？

计算正在进行时，我正在显示一个无法使用后退按钮取消的进度条，但是如果用户单击主页按钮，我不希望我的计算丢失，但会立即保持在该点直到应用程序再次运行并显示最终结果。

谢谢

====== 编辑 ======

我调用`ProcessingAsync().execute()`onCreate 方法

我的 ProcesingAsync 类的 doInBackGround 的内容如下：（使用微调器而不是水平进度条来显示活动正在进行）

```
@Override
        protected String doInBackground(String... aurl) {

                recordedDataFile = new  File(Environment.getExternalStorageDirectory().getPath(), "Machine_Health_Monitoring/Temporary_Files/Fault" + faultNumber + FORMAT_WAV);

                runThisCalculationMethod(2, recordedDataFile);  

                // showWaitingMessage becomes false after the runThisCalculationMethod() is completed           
                while(showWaitingMessage){
                    }

            return null;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:32:14.453

您可以创建一个标记（显示您在计算的哪一部分）和一个部分结果并将其保存到文件中。当您尝试恢复时，您将首先查看文件（如果存在）并从最后保存的点继续。完成所有计算并显示结果后 - 确保删除文件。

# python - python搜索字符串并使用正则表达式附加到它

> ID：11008681
> 
> 赞同：0
> 
> 时间：2012-06-13T05:26:36.163
> 
> 标签：python, regex

我需要在名为 config.ini 的配置文件中搜索名为 jvm_args 的某个参数

```
**contents of config.ini:
first_paramter=some_value1
second_parameter=some_value2
jvm_args=some_value3** 
```

我需要知道如何在我的文件中找到此参数并将某些内容附加到它的值（即附加一个字符串到字符串 some_value3）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T06:06:41.263

如果您“只是”想在 ini 文件中查找键和值，我认为 configparser 模块比使用正则表达式更好。但是，configparser 断言该文件具有“部分”。

configparser 的文档在这里：[http](http://docs.python.org/library/configparser.html) ://docs.python.org/library/configparser.html - 底部有用的示例。configparser 还可用于设置值和写出新的 .ini 文件。

输入文件：

```
$ cat /tmp/foo.ini 
[some_section]
first_paramter = some_value1
second_parameter = some_value2
jvm_args = some_value3 
```

代码：

```
#!/usr/bin/python3

import configparser

config = configparser.ConfigParser()
config.read("/tmp/foo.ini")
jvm_args = config.get('some_section', 'jvm_args')
print("jvm_args was: %s" % jvm_args)

config.set('some_section', 'jvm_args', jvm_args + ' some_value4')
with open("/tmp/foo.ini", "w") as fp:
    config.write(fp) 
```

输出文件：

```
$ cat /tmp/foo.ini
[some_section]
first_paramter = some_value1
second_parameter = some_value2
jvm_args = some_value3 some_value4 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:37:20.157

您可以使用[re.sub](http://docs.python.org/library/re.html#re.sub)

```
import re
import os

file = open('config.ini')
new_file = open('new_config.ini', 'w')
for line in file:
    new_file.write(re.sub(r'(jvm_args)\s*=\s*(\w+)', r'\1=\2hello', line))
file.close()
new_file.close()

os.remove('config.ini')
os.rename('new_config.ini', 'config.ini') 
```

还要检查[ConfigParser](http://docs.python.org/library/configparser.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:22:22.517

没有`regex`你可以尝试：

```
with open('data1.txt','r') as f:
    x,replace=f.read(),'new_entry'
    ind=x.index('jvm_args=')+len('jvm_args=')
    end=x.find('\n',ind) if x.find('\n',ind)!=-1 else x.rfind('',ind)
    x=x.replace(x[ind:end],replace)

with open('data1.txt','w') as f:
    f.write(x) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T06:09:59.030

正如 avasal 和 tobixen 所建议的，您可以使用 python [ConfigParser](http://docs.python.org/library/configparser.html)模块来执行此操作。例如，我采用了这个“config.ini”文件：

```
[section]
framter = some_value1
second_parameter = some_value2
jvm_args = some_value3** 
```

并运行这个 python 脚本：

```
import ConfigParser

p = ConfigParser.ConfigParser()
p.read("config.ini")
p.set("section", "jvm_args", p.get("section", "jvm_args") + "stuff")
with open("config.ini", "w") as f:
    p.write(f) 
```

运行脚本后“config.ini”文件的内容为：

```
[section]
framter = some_value1
second_parameter = some_value2
jvm_args = some_value3**stuff 
```

# batch-file - 更改 cmd 提示符的布局

> ID：11008684
> 
> 赞同：1
> 
> 时间：2012-06-13T05:26:47.203
> 
> 标签：batch-file

我想通过批处理文件更改命令提示符布局。它需要显示在屏幕的中心或某个位置，但不能显示在最顶部。我试过了：

```
@echo off
COLOR 8f
mode con:cols=80 lines=40 
mode con:top=10 
```

该`mode con:cols=80 lines=40`命令有效，但`mode con:top=10`无效。
请建议我实现它的权利。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T08:19:15.793

要控制窗口的属性，您必须

1.  在某个标题下的注册表中创建一个配置文件。Windows 使用注册表根据窗口标题存储命令提示窗口的设置。

2.  打开一个标题与配置文件中使用的标题相匹配的窗口

使用以下代码作为示例来帮助您入门。

```
@echo off
setlocal
set mycmdTitle=My Special Command Prompt
Set mycmdHeight=40
Set mycmdWidth=80
Set mycmdBufferHeight=500
Set mycmdBufferWidth=%mycmdWidth%
Set mycmdxPos=0
Set mycmdyPos=120
Set mycmdColor=8f
Set /A mycmdBufferSize=mycmdBufferHeight*0x10000+mycmdBufferWidth
Set /A mycmdWindowPos=mycmdyPos*0x10000+mycmdxPos
Set /A mycmdWindowSize=mycmdHeight*0x10000+mycmdWidth
Set mycmdCmd=Title My First Command Prompt^&Echo.^&Echo.^&Echo.^&Echo.
Call :StartCommandPrompt %mycmdBufferSize% %mycmdColor% %mycmdWindowPos% %mycmdWindowSize% "%mycmdTitle%" "%mycmdCMD%"
endlocal
Goto :EOF

:StartCommandPrompt
REM receives %1=BufferSize %2=Color %3=WindowPos %4=WindowSize %5=Title %6=cmd
reg add "HKCU\Console\%~5" /V ScreenBufferSize /T REG_DWORD /D %1 /F >nul
reg add "HKCU\Console\%~5" /V ScreenColors /T REG_DWORD /D 0x%2 /F >nul
reg add "HKCU\Console\%~5" /V WindowPosition /T REG_DWORD /D %3 /F >nul
reg add "HKCU\Console\%~5" /V WindowSize /T REG_DWORD /D %4 /F >nul
start "%~5" %COMSPEC% /K %6
goto :eof 
```

此代码基于我曾经在 google 上找到的一些原始代码，但我无法检索它，因此我无法正确归因于其原始开发人员。

# c# - 嵌套gridview获取父行

> ID：11008686
> 
> 赞同：3
> 
> 时间：2012-06-13T05:26:54.503
> 
> 标签：c#, asp.net, .net, gridview

我正在使用嵌套网格视图，其中网格视图中的每一行*都有*子网格视图。我正在使用*Parent GridView的***RowDataBound**事件来绑定*Child GridView*。我的问题是，如何在子 gridViews **RowDataBound**事件上获取父 GridView 的键。

 ****下面是示例代码：

```
<asp:GridView ID="gvParent" DataKeyNames="ID" runat="server" PageSize="1" AllowPaging="true" PagerSettings-Mode="NextPrevious" AutoGenerateColumns="False" SkinID="GVCenter" onrowdatabound="gvParent_RowDataBound">
   <Columns>
        <asp:BoundField DataField="Name" />
        <asp:TemplateField>
           <ItemTemplate>
               <asp:GridView ID="gvChild"  DataKeyNames="ID" runat="server" AutoGenerateColumns="false" ShowHeader="false" OnRowDataBound="gvChild_RowDataBound">
                  <Columns>
                     <asp:BoundField DataField="Name" />                     
                  </Columns>
                </asp:GridView>
           </ItemTemplate>
        </asp:TemplateField>
   </Columns>
</asp:GridView> 
```

这是后面的代码：

```
 protected void gvParent_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            GridView gvChild= (GridView)e.Row.FindControl("gvChild");
            gvChild.DataSource = getChildObj();
            gvChild.DataBind();
        }
    }

   protected void gvChild_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            // Here I need to get the parent gridview Row Key
        }
    } 
```

希望上面的代码解释了所有的场景。

提前感谢桑迪

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-13T05:50:08.307

试试这个

```
 <asp:GridView ID="gvParent" DataKeyNames="ID" runat="server" PageSize="10" AllowPaging="true"
            PagerSettings-Mode="NextPrevious" AutoGenerateColumns="False" OnRowDataBound="gvParent_RowDataBound">
            <Columns>
                <asp:BoundField DataField="Name" />
                <asp:TemplateField>
                    <ItemTemplate>
                        <asp:HiddenField ID="HdnID" runat="server" Value='<%# Eval("ID") %>' />
                        <asp:GridView ID="gvChild" DataKeyNames="ID" runat="server" AutoGenerateColumns="false"
                            ShowHeader="false" OnRowDataBound="gvChild_RowDataBound">
                            <Columns>
                                <asp:BoundField DataField="Name" />
                            </Columns>
                        </asp:GridView>
                    </ItemTemplate>
                </asp:TemplateField>
            </Columns>
        </asp:GridView> 
```

背后的代码

```
protected void gvParent_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            GridView gvChild = (GridView)e.Row.FindControl("gvChild");
            gvChild.DataSource = GetData();
            gvChild.DataBind();
        }
    }

    protected void gvChild_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            string ID = ((HiddenField)e.Row.Parent.Parent.Parent.FindControl("HdnID")).Value;
        }
    } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T05:50:13.197

我不认为你将能够正常跟踪它，但我会将 ID 字段嵌入到隐藏字段中，并将这个隐藏字段放在 TemplateField 下，

```
<ItemTemplate> 
    <asp:HiddenField ID="idOfYourHiddenField" runat="server" Value='<%# Eval("ID") %>' />     
    <asp:GridView ID="gvChild"  DataKeyNames="ID" runat="server" AutoGenerateColumns="false" ShowHeader="false" OnRowDataBound="gvChild_RowDataBound">                   
        <Columns>                      
            <asp:BoundField DataField="Name" />                                         
        </Columns>                 
    </asp:GridView>            
 </ItemTemplate> 
```

这样你就可以通过去获得它的价值

```
gvChild.Parent.FindControl("idOfYourHiddenField"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-13T05:59:06.343

**您可以使用Parent**属性访问子 Gridview 的父级。你必须试试这个：

```
 GridView gvChild = (GridView)e.Row.FindControl("gvChild");
     Response.Write(gvChild.Parent); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-13T06:03:09.167

您必须后退 4 步并获得这样的父行

```
protected void gvChild_RowDataBound(object sender, GridViewRowEventArgs e)
        {
            if (e.Row.RowType == DataControlRowType.DataRow)
            {
                GridViewRow gvMasterRow = (GridViewRow)e.Row.Parent.Parent.Parent.Parent;
            }
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-13T22:12:15.797

```
<asp:GridView ID="gvParent" DataKeyNames="ID" runat="server" PageSize="1" AllowPaging="true"
PagerSettings-Mode="NextPrevious" AutoGenerateColumns="False" SkinID="GVCenter"
OnRowDataBound="gvParent_RowDataBound">
<Columns>
    <asp:BoundField DataField="Name" />
    <asp:TemplateField>
        <ItemTemplate>
            <asp:GridView ID="gvChild" DataKeyNames="ID" runat="server" AutoGenerateColumns="false"
                ShowHeader="false" OnRowDataBound="gvChild_RowDataBound">
                <Columns>
                    <asp:TemplateField>
                        <ItemTemplate>
                            <%# (((IDataItemContainer)Container.Parent.Parent.Parent).DataItem as MyClass).MyProperty %>
                        </ItemTemplate>
                    </asp:TemplateField>
                </Columns>
            </asp:GridView>
        </ItemTemplate>
    </asp:TemplateField>
</Columns> 
```****

# html - 覆盖 RSS Java 脚本的样式表

> ID：11008689
> 
> 赞同：0
> 
> 时间：2012-06-13T05:27:00.253
> 
> 标签：html, css, stylesheet

在进行项目时学习 CSS、HTML 和 Java。将其他人的代码混合在一起，然后对其进行编辑以符合我的目的。我就是这样学习的。

所以，我在我的页面中嵌入了一个 RSS 提要：

```
<script type="text/javascript" src="http://output69.rssinclude.com/output?type=js&amp;id=491322&amp;hash=e7ec1e6d8d00e9c28972fedae169e932"></script> 
```

虽然风格很接近……但它适用于 WebApp。我从源代码中复制了样式表（不幸的是，我无法在源代码中进行我想要的更改）然后更改了我需要的参数，然后将其作为样式粘贴到我的页面中：

```
<meta charset="utf-8"/>
<style type="text/css">

div#rssincl -box-491322 * {
    font-family : Verdana, Arial, sans-serif !important;
    margin : 0 !important;
    padding : 0 !important;
    border-radius : 10px !important;
    line-height : 110% !important;
    clear : both !important;
}

div#rssincl -box-491322 {
    height : 520px !important;
    border-radius : 10px !important;
    overflow-y : auto !important;
}

div#rssincl -box-491322 div.rss-head {
    border-radius : 10px !important;
    padding : 7px !important;
    background-color : #ffffff !important;
}

div#rssincl -box-491322 div.rss-head p.rss-title, div#rssincl -box-491322 div.rss-head p.rss-title a {
    font-family : Verdana, Arial, sans-serif !important;
    border-radius : 10px !important ;
    font-size : 15px !important;
    font-weight : bold !important;
    text-align : center !important;
    color : #000000 !important;
    text-decoration : none !important;
}

div#rssincl -box-491322 div.rss-content {
    border-radius : 5px !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry {
    border-radius : 10px !important;
    padding : 7px !important;
    background-color : rgba(255, 255, 255, 0.5) !important;
    border-bottom : 3px solid #FFFFFF !important;
}

div#rssincl -box-491322 div.rss-content div.rss-last {
    border-bottom : none !important;
    border-radius : 10px !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry p.rss-itemtitle {
    margin-bottom : 6px !important;
    border-radius : 10px !important;
    text-align : center !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry p.rss-itemtitle a {
    font-family : Verdana, Arial, sans-serif !important;
    border-radius : 10px !important;
    font-size : 13px !important;
    text-decoration : underline !important;
    text-align : centre !important;
    font-weight : bold !important;
    color : #000000 !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry div.rss-itemdesc, div#rssincl -box-491322 div.rss-content div.rss-entry div.rss-itemdesc * {
    border-radius : 10px !important;
    font-family : Verdana, Arial, sans-serif !important;
    font-size : 12px !important;
    color : #000000 !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry div.rss-backlink {
    border-radius : 10px !important;
    font-family : ;font-size: 10px !important;
    color : #000000 !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry div.rss-backlink a {
    border-radius : 10px !important;
    color : #000000 !important;
    line-height : 130% !important;
    text-decoration : none !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry div.rss-itemdesc img {
    border-radius : 10px !important;
    margin : 5px !important;
}

div#rssincl -box-491322 div.rss-content div.rss-entry div.rss-clear {
    border-radius : 10px !important;
    clear : both !important;
}

</style> 
```

通过一些谷歌搜索，我认为 !important 在一切都可能有效之前。它没有。该页面仍显示脚本的原始格式。

欢迎简单的解释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:37:24.173

如果我理解正确，您将无法在您的网页上反映您的样式。也许您可以尝试检查萤火虫中的元素。当您将鼠标悬停在任何元素上时，然后在 firebug 的右侧窗口（即 css 窗口）上，您可以找出问题所在。如果您的样式被覆盖，那么该属性将被删除。

除此之外，我认为没有任何东西可以覆盖`!important`，但可能有从您的脚本中应用的样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:39:29.080

看起来你在我的 css 中打错了字。

你的代码：

```
div#rssincl -box-491322 
```

我认为应该是：

```
div#rssincl-box-491322 
```

请注意代码中的额外空间。这似乎是所有选择器的问题。

# batch-file - 制作一个检测自己的文件路径的批处理

> ID：11008690
> 
> 赞同：0
> 
> 时间：2012-06-13T05:27:00.620
> 
> 标签：batch-file, directory, detect, filepath

我需要制作一个批处理文件来检测它所在的驱动器和目录。当我正常运行该文件时，它已经在正确的目录/驱动器中。但是当它以管理员身份运行时，它会在 system32 中启动。是否有进入批处理来源的目录或驱动器的命令？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T05:53:18.777

你可以使用

```
Pushd "%~dp0" 
```

这会将当前目录更改为批处理文件的路径。
引用该参数可以防止路径名中的特殊字符，如“C:\Documents & Settings”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:30:29.400

一个解决方法是`\`在路径之前使用给出绝对路径。

所以，如果你需要运行一个文件`c:\temp\xyz.exe`，即使你`c:\winodws\system32`仍然在目录中，当你运行时`cd \temp\xyz.exe`，文件仍然会正常运行

# iphone - 使用base64解码的AES256解密不起作用

> ID：11008694
> 
> 赞同：1
> 
> 时间：2012-06-13T05:27:20.753
> 
> 标签：iphone, objective-c, cryptography, aes

我需要在我的 iphone 应用程序中执行 AES 256 解密。场景是纯文本在在线网页中使用 AES256 位（OFB 模式）进行 base64 编码和加密。在我的应用程序中，我从该网页检索加密文本作为查询字符串。这里我做了base64解码和AES256解密。但我得到 -4304 状态。

我用过`kCCOptionPKCS7Padding`。即使我也更改了填充，我也没有得到正确的解密纯文本。仅显示不可读的文本。

我使用[http://isv.appspot.com/app/enc](http://isv.appspot.com/app/enc)通过设置 OFB 模式来检查使用 base64 的 AES256 加密。

以下代码有两种方法，我用于 base64 解码和 AES256 解密

```
+ (NSString*)decryptBase64String:(NSString*)encryptedBase64String keyString:(NSString*)keyString
{
    NSData* encryptedData = [NSData dataFromBase64String:encryptedBase64String];
    NSLog(@"encryptedData %@",encryptedData);
    // NSData *strData = [encryptedData subdataWithRange:NSMakeRange(0, [encryptedData length] - 2)];
    // NSString* newStr = nil;
    NSData* keyData = [keyString dataUsingEncoding:NSUTF8StringEncoding];
    NSData* data = [self decryptData:encryptedData
                                 key:keyData
                                  iv:nil];
   // newStr = [NSString stringWithCString:[strData bytes] encoding:NSUTF8StringEncoding];

    if (data) {

        return [[[NSString alloc] initWithData:data
                                      encoding:NSASCIIStringEncoding] autorelease];
    } else {
        return nil;
    }
}

+ (NSData*)decryptData:(NSData*)data key:(NSData*)key iv:(NSData*)iv;
{
    NSData* result = nil;

    // setup key
    unsigned char cKey[FBENCRYPT_KEY_SIZE];
    bzero(cKey, sizeof(cKey));
    [key getBytes:cKey length:FBENCRYPT_KEY_SIZE];

    // setup iv
    char cIv[FBENCRYPT_BLOCK_SIZE];
    bzero(cIv, FBENCRYPT_BLOCK_SIZE);
    if (iv) {
        [iv getBytes:cIv length:FBENCRYPT_BLOCK_SIZE];
    }

    // setup output buffer
    size_t bufferSize = [data length] + FBENCRYPT_BLOCK_SIZE;
    void *buffer = malloc(bufferSize);

    // do decrypt
    size_t decryptedSize = 0;
    CCCryptorStatus cryptStatus = CCCrypt(kCCDecrypt,
                                          FBENCRYPT_ALGORITHM,
                                          kCCOptionPKCS7Padding,
                                          cKey,
                                          FBENCRYPT_KEY_SIZE,
                                          cIv,
                                          [data bytes],
                                          [data length],
                                          buffer,
                                          bufferSize,
                                          &decryptedSize);

    if (cryptStatus == kCCSuccess) {
        result = [NSData dataWithBytesNoCopy:buffer length:decryptedSize];
    } else {
        free(buffer);
        NSLog(@"[ERROR] failed to decrypt| CCCryptoStatus: %d", cryptStatus);
    }

return result;
} 
```

任何人都可以使用这种方法帮助我获取纯文本吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T21:55:46.597

根据您问题中的事实，base64 编码数据是加密的，而不是该数据的解码变体。因此，您需要对 base64 编码的数据进行解密，然后再对其进行 base64 解码。

# c# - C++ 和 C# 之间的字符代码不同

> ID：11008695
> 
> 赞同：2
> 
> 时间：2012-06-13T05:27:22.397
> 
> 标签：c#, c++, unicode, character-encoding

我在 C++ 和 C# 中有一个字符串处理函数。在 C++ 中，字符的代码`ˆ`返回为`-120`C# 中的`710`. 在使用 Visual Studio 2010 在 C++ 中构建时，我在项目设置中将字符集设置为“未设置”。在 C# 中，我`System.Text.Encoding.Default`在其中一次转换期间使用。这有什么区别吗？如何在 C++ 和 C# 中获得相同的行为？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-13T05:48:10.197

字符是 U+02C6。您在 C++ 中使用的编码可能是 CP 1252，它将此字符编码为字节 0x88（在十进制中显示有符号字符时为 -120）。C# 使用编码 UTF-16，将这个字符编码为 0x02C6（十进制的 710）。

您可以在 Windows 上使用 wchar_t insead of char 在 C++ 中使用 UTF-16。

您不能使 C# 字符串使用 CP1252，但您可以使用 Encodings 从字符串中获取不同编码的字节数组。

```
byte[] in_cp1252 = Encoding.GetEncoding(1252).GetBytes("Your string here"); 
```

# jsf-2 - 如何使用jsf显示没有滚动条的textarea？

> ID：11008696
> 
> 赞同：1
> 
> 时间：2012-06-13T05:27:33.667
> 
> 标签：jsf-2

我希望输入文本区域在输入时自动增长。但我不想要滚动条。我已经完成了**溢出：隐藏**，它没有显示滚动，但它也没有自动增长。

```
<h:inputTextarea id="ta1" cols="25" style="overflow: hidden"/> 
```

请给我答复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T10:45:34.470

自动增长的文本区域**不是**由 JSF 生成的 HTML`<textarea>`元素的标准功能`<h:inputTextarea>`。这通常是通过添加一些 JavaScript 代码来实现的。这是一个基本的启动示例。

```
<h:inputTextarea ... onkeyup="autoGrow(this)" /> 
```

和

```
function autoGrow(textarea) {
    if (textarea.clientHeight < textarea.scrollHeight) {
        textarea.style.height = textarea.scrollHeight + "px";
    }
} 
```

# android - 在自定义列表视图中不显示 TextViews 列表

> ID：11008697
> 
> 赞同：0
> 
> 时间：2012-06-13T05:27:39.267
> 
> 标签：android, listview, button, textview

我已经创建了自定义列表视图，其中包含文本视图列表和按钮列表。现在它显示按钮列表但它没有显示文本视图列表。我有来自 sdcard 内容的文本视图列表。

```
 public class Downloadlist extends ListActivity {
        Bundle bundle=null;
        private List<String> item = null;
        private List<String> path = null;
        private String root="/sdcard/mydownloads";
        private TextView myPath;
        private OrderAdapter m_adapter;
        Button b1;
        ListView lv1;
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mydownload);
        bundle = new Bundle();
        myPath = (TextView)findViewById(R.id.path);
        b1=(Button)findViewById(R.id.view);
        lv1=(ListView)findViewById(R.id.list);
        getDir(root);
    }
    private void getDir(String dirPath)
    {
        myPath.setText("Location: " + dirPath);
        item = new ArrayList<String>();
        path = new ArrayList<String>();
        File f = new File(dirPath);
        File[] files = f.listFiles();   
        if(!dirPath.equals(root))
        {
            item.add(root);
            path.add(root);
            item.add("../");
            path.add(f.getParent());
        }
        for(int i=0; i < files.length; i++)
        {
            File file = files[i];
            path.add(file.getPath());
            if(file.isDirectory())
                item.add(file.getName() + "/");
            else
                item.add(file.getName());
        }
        Log.d("itemssssssss", item.toString());

        /*ArrayAdapter<String> fileList =
                new ArrayAdapter<String>(this,R.id.rowtext, this.item);
        setListAdapter(fileList);*/
        this.m_adapter = new OrderAdapter(this,R.layout.rowmydownload, item);
        setListAdapter(this.m_adapter);     
    }
    @SuppressWarnings("rawtypes")
    private class OrderAdapter extends ArrayAdapter {

        private List<String> item;
        TextView tt=null;
        Button bt=null;
        ViewHolder holder = null;
        @SuppressWarnings("unchecked")
        public OrderAdapter(Context context, int textViewResourceId, List<String> items) {
            super(context, textViewResourceId, items);
            item = items;
        }
        @Override
        public View getView(final int position, View convertView, ViewGroup parent) {
            View v = convertView;
            if (convertView == null) {
                LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                v = vi.inflate(R.layout.rowmydownload, null);
                holder = new ViewHolder();
            }
            if (item.get(position) != null) {

                tt = (TextView) v.findViewById(R.id.rowtext);
                Button bt = (Button) v.findViewById(R.id.view); 
                final String result=item.get(position);
                tt.setOnClickListener(new View.OnClickListener() {                              
                    @Override
                    public void onClick(View v) {
                        Toast.makeText(getBaseContext(), "text is clicked"+item.get(position).toString(), Toast.LENGTH_LONG).show();
                        tt.setText(result.toString());
                        bundle.putString("listresultfromsd", result);
                        Intent i1=new Intent(Downloadlist.this,ReadXml.class);
                        i1.putExtras(bundle);
                        startActivityForResult(i1,0);
                        Log.d("resulttttt",result);

                    }
                });
                bt.setOnClickListener(new View.OnClickListener() {

                    @Override
                    public void onClick(View v) {

                        Toast.makeText(getBaseContext(), "button clicked", Toast.LENGTH_LONG).show();
                        bundle.putString("listresultfromsd", result);
                        String strbundle=bundle.toString();
                        Log.d("bundleeeeeeeee",result);
                        if(strbundle.contains(".zip"))
                        {
                            Intent i2=new Intent(Downloadlist.this,LaunchZip.class);
                            i2.putExtras(bundle);
                            startActivityForResult(i2,0);
                        }
                        else
                        {
                            Intent i3=new Intent(Downloadlist.this,Launch.class);
                            i3.putExtras(bundle);
                            startActivityForResult(i3,0);
                        }
                    }
                });

            }
            return v;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:31:55.453

实际上，您忘记为您`TextView tt`的`setOnClickListener`..

只需将`tt.setText(result.toString());` 线放在`tt.setOnClikListener`..

现在试试这个，

```
 tt = (TextView) v.findViewById(R.id.rowtext);
 Button bt = (Button) v.findViewById(R.id.view); 
 final String result=item.get(position);
 tt.setText(result.toString());
 tt.setOnClickListener(new View.OnClickListener() {                              
    @Override
     public void onClick(View v) {
       Toast.makeText(getBaseContext(), "text is clicked"+item.get(position).toString(), Toast.LENGTH_LONG).show();
        bundle.putString("listresultfromsd", result);
        Intent i1=new Intent(Downloadlist.this,ReadXml.class);
        i1.putExtras(bundle);
        startActivityForResult(i1,0);
        Log.d("resulttttt",result); 
       }
   }); 
```

# asp.net - 使用openxml将多个项目导出到excel

> ID：11008702
> 
> 赞同：0
> 
> 时间：2012-06-13T05:28:08.467
> 
> 标签：asp.net, openxml, export-to-excel

大家好，我正在处理一个项目，其中我有一个网页，其中我有一些文本框和一个按钮。该按钮的功能是将输入到文本框中的数据导出为表格形式的 Excel。还有图像（存储在我的本地驱动器上）也需要与文本框数据一起导出。所有这些我只想通过openxml实现。这就是我想要实现的。注意要导出的图像是一些随机图像我的本地驱动器。！[ `input`][1]！[输出][2]

任何建议将不胜感激。谢谢

输入[1]：http: [//i.stack.imgur.com/u3vsT.jpg](http://i.stack.imgur.com/u3vsT.jpg)

所需输出 [2]：http: [//i.stack.imgur.com/pkILb.jpg](http://i.stack.imgur.com/pkILb.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T06:34:59.287

以下是您可以使用 C# 在 ASP.NET 应用程序中显示标题、单元格值和图像的确切示例：

[http://polymathprogrammer.com/2010/11/10/how-to-insert-multiple-images-in-excel-open-xml/](http://polymathprogrammer.com/2010/11/10/how-to-insert-multiple-images-in-excel-open-xml/)

如果您遇到任何问题，请在此处回信，我们一定可以提供帮助。

# android - 碰撞在 Box2D 与 Cocos2d Android 中无法正常工作

> ID：11008703
> 
> 赞同：3
> 
> 时间：2012-06-13T05:28:15.190
> 
> 标签：android, box2d, cocos2d-android

`beginContact`正在为未碰撞的物体调用回调函数。

我在屏幕上有很多身体，彼此相距很远，但突然发生碰撞，接触听众开始返回屏幕上的所有身体，但它们实际上并没有碰撞。

任何人都可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T15:47:23.533

我建议您将库更改为 cocos2d-x，因为 cocos2d for android 将不再更新。

Cocos2d-x 在 C++ 中工作，并使用 JNI（Java 原生接口）来工作。[这](https://stackoverflow.com/q/10711047/1077364)是您开始使用它所需的所有信息。

# sql - SQL Query 以查找复合主键之一应为 Max 与其他复合主键的记录

> ID：11008706
> 
> 赞同：0
> 
> 时间：2012-06-13T05:28:19.807
> 
> 标签：sql, sql-server-2008, composite

以下是我的表：

```
PatientID|VisitID|Date|Accident|Diagnosis|Doctor
  1      |    1  |    |        |         | 
  1      |    2  |    |        |         |
  1      |    3  |    |        |         | 
```

`PatientID`和都是`VisitID`复合主键。现在我只想显示最后一条记录。换句话说，其中`PatientID`=`1`和`VisitID`= 最大值。

那么查询会是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T10:08:51.890

我办公室的一位前辈告诉了以下问题，这完全符合我的目标。

```
select * 
  from tblAccident 
 where PatientID = 1 
   and VisitNo = ( Select Max(VisitNo) from tblAccident where PatientID = 1 ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:49:04.663

假设这`VisitID`是顺序的：

```
select top 1 * from yourTable
where PatientID=@patientID
order by VisitID desc 
```

其中：`@patientID`是一个参数（在您的示例中是`1`）

# numpy - 使用 dpi 值更改 numpy 数组

> ID：11008708
> 
> 赞同：0
> 
> 时间：2012-06-13T05:28:30.453
> 
> 标签：numpy, matplotlib, dpi

我有一个 numpy 数组，我使用 savefig() 将其保存到图像中。然后我在我的代码中读取它，图像比我的原始 aray 倍增为 dpi，而保存为 100。

是否可以使用 dpi 使图像尺寸变大并将其放入 numpy 数组中而无需再次保存和加载？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T21:41:05.870

听起来您想获取一个大小为 (a, b) 的数组并将其缩放任意因子 s，以便生成的数组具有形状 (a*s, b*s)？

据我所知，有几种方法可以做到这一点，但也许最好的资源是关于 rebinning 的食谱页面：[http ://www.scipy.org/Cookbook/Rebinning](http://www.scipy.org/Cookbook/Rebinning)

高温高压

# java - 我的 Java 应用程序的日志在哪里？

> ID：11008710
> 
> 赞同：0
> 
> 时间：2012-06-13T05:28:42.153
> 
> 标签：java, tomcat, slf4j

我在我的应用程序中记录问题，如下所示：

```
private static Logger logger = LoggerFactory.getLogger(Student.class);
...
logger.info(msg);
logger.debug(another_msg); 
```

我使用在 Apache Tomcat 6 和 slf4j 上运行的 Java 和 Spring 框架进行日志记录。当我在 Intellij IDEA 上调试我的应用程序时，我看到两个选项卡：服务器和 Tomcat 日志。该日志显示在服务器选项卡上。在 tomcat 文件夹下没有记录该日志的文件。但是，如果我想更改日志级别（调试、信息等）以查看日志，我想在文件末尾看到它。

我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:31:43.580

在您的应用程序中搜索 log4j.properties 文件。

在 log4j.properties 中，您指定日志文件的路径。 [看这里](https://stackoverflow.com/questions/3967202/storing-log-into-log-file-using-slf4j-log4j)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:33:52.877

sl4j 不是完整的日志实现，它是一个门面，我们可以将其他框架（如 log4j、java.util.logging、commons 等）耦合到它，因此确定您的日志框架并检查配置文件的相应文档。对于 log4j 它将是log4j.properties

# delphi - Delphi - 从未使用过分配给“x”的值

> ID：11008714
> 
> 赞同：6
> 
> 时间：2012-06-13T05:29:02.077
> 
> 标签：delphi, compiler-warnings

假设我有以下代码：

```
function DoSomething:Boolean;
var obj : TMyObject;
i : Integer;
begin
  Result := False; //We haven't executed GetValue() correctly yet
  obj := TMyObject.Create();
  try
    //perform some code that may produce an exception        
    i := obj.GetValue();
    //Set the return to True as we executed GetValue() successfully
    Result := True;
  finally
    //do some cleanup
    obj.Free; 
  end;
end; 
```

Delphi 编译器抱怨分配给 Result 的值从未在第一行中使用。

我可能遗漏了一些明显的东西，但我不明白为什么编译器会优化它（如果优化是打开的）。

我一直被教导明确设置我的变量，以免混淆它们的值是什么。最重要的是，如果`GetValue()`函数产生异常，该`Result := True;`行将永远不会执行。所以我们受德尔福初始化变量的支配。

那么这是安全/可接受的代码吗？我是否应该简单地删除该方法的第一行，这会使其更难阅读？如果失败，我将不得不关闭特定的编译器警告，但我不愿意这样做，因为此警告消息可以提供有用的信息。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-13T06:18:48.067

编译器是正确的。将 False 分配给 Result 是徒劳的，您的函数可以返回的唯一值是 True。

两种可能的执行路径是：

1.  该函数不会引发异常并返回 True。
2.  该函数确实引发了异常，因此根本不返回结果值。

解决方法很简单，去掉设置Result为False的那行代码。在这一点上，返回值没有任何用途变得完全清楚，您可以简单地将函数转换为过程。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-13T05:46:52.543

您的函数只有两个结果。它要么返回，要么`True`引发异常，因此您可以将其转换为过程而不是使警告消失。

如果您希望函数的结果是`False`当`GetValue()`引发异常时，您必须捕获该异常`DoSomething`并将返回值设置为`False`. 在这种情况下，您应该启动函数，将返回值初始化为`True`.

像这样的东西：

```
function DoSomething:Boolean;
var
  obj : TMyObject;
  i: Integer;
begin
  Result := True;
  obj := TMyObject.Create();
  try
    try
      i := obj.GetValue();
    except
      Result := False;
    end;
  finally
    obj.Free;
  end;
end; 
```

# php - htaccess 文件在服务器上不起作用并且在本地主机上工作时重定向不正确

> ID：11008717
> 
> 赞同：0
> 
> 时间：2012-06-13T05:29:17.847
> 
> 标签：php, apache, .htaccess

我正在我的服务器上设置一些东西，

[http://adamcyber.net/talentmasterdemo/](http://adamcyber.net/talentmasterdemo/)

如果我复制数据库和应用程序并将其运行到本地主机，则将配置更改为本地主机设置（如路径和子目录）一切正常。但是当我将它上传到服务器 adamcyber.net 时。登录页面工作正常，但是当我使用凭据登录时。它进入重定向的无限循环。所以Firefox显示错误。到目前为止，我发现这是 htaccess 问题，但我不确定 y htaccess 是否在 localhost 上运行而不在服务器上运行，配置为正确运行 htaccess，因此在运行 htaccess 时没有问题作为其他站点服务器正在正确运行 htaccess。下面是 htaccess 文件代码。

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule    (.*) index.php/$1 [L] 
```

我被困在这里。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:38:14.093

试试这个

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule> 
```

# android - 不兼容的设备，如何兼容？

> ID：11008718
> 
> 赞同：2
> 
> 时间：2012-06-13T05:29:25.867
> 
> 标签：android, xml, eclipse, cordova

我是 Android 开发的新手。我目前正在使用带有 Apache Cordova 扩展的 Eclipse 开发一个新应用程序。我成功地创建了我的应用程序并将其发布到 Google Play。一个大问题，我的应用程序只与某些设备兼容。我在制作这个应用程序时考虑到了“平板电脑”，不幸的是它们都不兼容。在我的 android 清单中，我有这个：

支持屏幕

```
android:largeScreens="true" 
android:normalScreens="true" 
android:smallScreens="true" 
android:resizeable="true" 
android:anyDensity="true" 
```

但仍然没有运气。我已经厌倦了无休止的谷歌搜索，并且空手而归。有什么建议么？

我也遇到过这个：

```
// Wait for Cordova to load
//
document.addEventListener("deviceready", onDeviceReady, false);

// Cordova is ready
//
function onDeviceReady() {
    var element = document.getElementById('deviceProperties');

    element.innerHTML = 'Device Name: '     + device.name     + '<br />' + 
                        'Device Cordova: '  + device.cordova + '<br />' + 
                        'Device Platform: ' + device.platform + '<br />' + 
                        'Device UUID: '     + device.uuid     + '<br />' + 
                        'Device Version: '  + device.version  + '<br />';
}

</script> 
```

带有如下信息： device.name 返回设备型号或产品的名称。此值由设备制造商设置，同一产品的不同版本可能不同，获取设备的型号名称。

var 字符串 = 设备名称；

但我不确定把这些放在哪里。有什么建议么？

我希望我已经为正在阅读本文的人提供了足够的信息以提供解决方案。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:36:43.783

我不确定 Apache Cordova 扩展但是在 android manifest 我们总是提到两件事

```
android:minSdkVersion 
```

一个整数，指定应用程序运行所需的最低 API 级别

```
android:targetSdkVersion 
```

一个整数，指定应用程序所针对的 API 级别。

所以你可能必须指定类似的东西。

```
<uses-sdk 
        android:minSdkVersion="8"           
        android:targetSdkVersion="15" /> 
```

# c# - Datetime.ParseExact 在服务器上引发错误，但在客户端上有效

> ID：11008720
> 
> 赞同：0
> 
> 时间：2012-06-13T05:29:43.583
> 
> 标签：c#, datetime, cultureinfo, datetime-format

我收到错误消息“字符串未被识别为有效的日期时间。” 通过使用以下代码。

```
NewRow["ExpiryDate"] = DateTime.ParseExact(SelectedRow.Cells[9].Text, "dd/MM/yyyy", System.Globalization.CultureInfo.InvariantCulture); 
```

其中 selectedRow 是数据库行。代码写在 RowCommand 事件中。SelectedRow.Cells[9].Text 中的值在客户端采用 dd-MM-yyyy 格式，而在服务器端则不同。

如何编写适用于所有日期时间格式的通用代码？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T05:33:59.673

您必须为 dd-MM-yyyy 数据指定日期格式。

使用以下[方法](http://msdn.microsoft.com/en-us/library/332de853.aspx)：

```
DateTime.ParseExact Method (String, String[], IFormatProvider, DateTimeStyles) 
```

样本：

```
 string[] formats = { "dd-MMM-yyyy", "dd/MMM/yyyy", "dd-MM-yy","d/M/yy"};
 string dateString = "1/1/10";

 DateTime date=DateTime.ParseExact(dateString ,formats,
    System.Globalization.CultureInfo.InvariantCulture,
     System.Globalization.DateTimeStyles.None); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:33:04.180

您正在接收 dd-MM-yyyy 格式，但在 parseExact 中您给出了 dd/MM/yyyy。用。。。来代替 '-'

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:43:18.953

AVD

试试这个....或类似的

```
NewRow["ExpiryDate"] = DateTime.ParseExact(SelectedRow.Cells[9].Text, "dd/MM/yyyy".Replace("/", "-"), System.Globalization.CultureInfo.InvariantCulture); 
```

# binding - Zebra SDK 与 Monotouch 的绑定？

> ID：11008726
> 
> 赞同：2
> 
> 时间：2012-06-13T05:30:05.087
> 
> 标签：binding, sdk, xamarin.ios, zebra-printers

我正在开发 Monotouch (5.2.12) 中的 iPad 应用程序。该应用程序将与 Zebra 的移动打印机一起使用，因此我们从它们那里获得了 SDK（.a 库和标头）。所以我去阅读所有的指南和教程，并为它创建了一个绑定项目（只有 2 个连接类）。我真的很高兴能够让它快速用于基本的文本和标签打印。

但是我们需要打印 PDF。为此，我需要绑定更多的课程，但我现在 2 天不知道怎么做。这是库的一般设置：

ZebraPrinterConnection 协议由 TcpPrinterConnection 接口实现。ZebraPrinterFactory 接口用于获取 ZebraPrinter 协议的实例，需要将 ZebraPrinterConnection 传递给它。

这是绑定的核心：

## **斑马打印机连接**

*标头 (.h)*

```
@protocol ZebraPrinterConnection        
    - (BOOL) open;
    - (void) close;
    - (NSInteger) write:(NSData *)data error:(NSError **)error;
    - (NSData *)read: (NSError**)error; 
```

*绑定 (.cs)*

```
[BaseType (typeof (NSObject))]
[Model]
    interface ZebraPrinterConnection {
        [Export ("open")]
        bool Open();

         [Export ("close")]
         void Close();

         [Export ("write:error:")]
         int Write(NSData data, out NSError error);

         [Export ("read:")]
         NSData Read(out NSError error);
    } 
```

## **TcpPrinterConnection**

*标头 (.h)*

```
@interface TcpPrinterConnection : NSObject<ZebraPrinterConnection>
  - (id)initWithAddress:(NSString *)anAddress andWithPort:(NSInteger)aPort; 
```

*绑定 (.cs)*

```
[BaseType (typeof(ZebraPrinterConnection))]
interface TcpPrinterConnection {        
    [Export ("initWithAddress:andWithPort:")]
    IntPtr Constructor (string anAddress, int aPort);
} 
```

## **斑马打印机厂**

*标头 (.h)*

```
@interface ZebraPrinterFactory : NSObject
  +(id<ZebraPrinter,NSObject>) getInstance:(id<ZebraPrinterConnection, NSObject>) 
    connection error:(NSError**)error 
```

*绑定 (.cs)*

```
[BaseType (typeof(NSObject))]
interface ZebraPrinterFactory {
  [Static, Export ("getInstance:error:")]
  ZebraPrinter getInstance(ZebraPrinterConnection connection, out NSError error);
} 
```

## 问题：

注意 ZebraPrinterFactory 希望如何`ZebraPrinterConnection`传递给它，但只有`TcpPrinterConnection`一个实际的构造函数。

如果我尝试使用类似的东西：

```
NSError err;
TcpPrinterConnection conn;
conn = new TcpPrinterConnection(ipAddress, port);
bool connectionOK = conn.Open ();
ZebraPrinter zPrinter = ZebraPrinterFactory.getInstance(conn, out err); 
```

然后我得到一个“System.InvalidCastException：无法从源类型转换为目标类型。” 在运行时...

知道您几乎可以正常工作，但并不完全正常，这是一种可怕的感觉……如何解决这个问题？

**更新：**好的，我从绑定中完全删除了 ZebraPrinterConnection 类，将其方法复制到 TcpPrinterConnection 中（如 Jonathan 所建议的那样）。仍然没有运气（同样的例外）。然后绑定另一个类，该类具有期望 ZebraPrinterConnection 作为参数的方法，这个类像丝绸一样平滑。

*标头 (.h)*

```
@interface SGD : NSObject {}
  +(NSString*) GET: (NSString*) setting 
    withPrinterConnection: (id<ZebraPrinterConnection,NSObject>) printerConnection 
    error:(NSError**)error; 
```

*绑定 (.cs)*

```
[BaseType (typeof (NSObject))]
interface SGD 
{
  [Static, Export ("GET:withPrinterConnection:error:")]
  string Get (string setting, TcpPrinterConnection printerConnection, out NSError error);
} 
```

我开始怀疑 ZebraPrinterFactory 类的实现是问题的根源，现在可以绑定其他类而没有任何问题。另一方面，它可能与返回的 ZebraPrinter 类实例有关。难道 Mono 无法将 ZebraPrinter 映射到工厂类返回的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T18:20:18.287

我不熟悉 MonoTouch，但了解斑马 api。希望 sdk 工作方式的一些背景知识将有助于这些单声道映射

因此，ZebraPrinterFactory 是一个简单的工厂，它询问打印机连接以确定您拥有的打印机型号（ZPL 或 CPCL）。工厂的返回类型是一个接口，`ZebraPrinter`. a 的具体类型`ZebraPrinter`是内部的、未记录的类，`ZebraPrinterZpl`或`ZebraPrinterCpcl`. 这两个具体类都符合`ZebraPrinter`接口并且可以在打印机上执行功能。我们选择这样做是为了消除对打印机语言的了解。但是如果 Mono 需要知道具体类来执行映射，您可以将返回值转换为具体类`ZebraPrinterCpcl`或`ZebraPrinterZpl`（取决于您的打印机型号，小型移动打印机可能是 cpcl，大型台式机或桌面是 ZPL）

您也可以通过调用其构造函数来实例化具体类型的打印机来绕过工厂（不幸的是，它没有记录，因为工厂是执行此操作的首选方式）但它会是这样的：

```
ZebraPrinterCpcl myPrinter = new ZebraPrinterCpcl(conn);  
//or using the base interface as the type... and you may need to pass in an NSError also, I forget now...
ZebraPrinter myPrinter = new ZebraPrinterCpcl(conn); 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T12:19:15.253

代替：

```
[BaseType (typeof(NSObject))]
interface TcpPrinterConnection : ZebraPrinterConnection { 
```

利用：

```
[BaseType (typeof(ZebraPrinterConnection ))]
interface TcpPrinterConnection { 
```

然后绑定项目应该正确设置您的继承。属性决定了基`BaseType`类，实际上并不继承接口（我知道这有点奇怪）。

# java - 允许类“自我注册”，将自己添加到列表等

> ID：11008738
> 
> 赞同：3
> 
> 时间：2012-06-13T05:31:46.380
> 
> 标签：java

我正在开发一个会有很多贡献的 java 应用程序。我希望单个包中的类能够以某种方式“自我注册”。目前，我们有另一个类，它们只是简单地将每个类添加到这样的列表中：

`ourlist.add( new SomeClassName() );`

这要求每个贡献者为他们的添加添加这样的一行，我想避免这样做。我想让应用程序扫描包，并自动将每个类添加到上面的列表中。

我已经尝试对包使用一些类扫描代码，但类类型不能很好地与我们的类类型配合使用，而且我对 java 太陌生，无法完全理解这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:34:07.277

运行时还是静态？运行时您可以在类中使用静态块并将代码放在静态块中以注册自己。就像 JDBC 驱动程序的工作方式和向驱动程序管理器注册一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:36:06.047

[扫描包以获取所有类名](https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection)并使用`Reflection`每个类的创建实例添加到`list`

```
for(Class claszz: scannedClasses){
 list.add(clazz.newInstance());//default constructor
} 
```

# scala - 在 Scala^Z3 DSL 中，如何声明未解释的函数？

> ID：11008743
> 
> 赞同：1
> 
> 时间：2012-06-13T05:32:35.440
> 
> 标签：scala, dsl, z3

我有一个小型 Scala 程序，可以将 Scala^Z3 DSL 表达式转换为 Latex 以便于阅读。但我看不到如何使用 DSL 声明未解释的函数。有很多方法可以使用其他构造来破解函数的行为，并且很容易打印被破解的函数，因此它看起来就像乳胶中的普通函数。但我宁愿只声明一个未解释的函数，如果以某种方式可能的话。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T12:44:42.357

解决未解释函数的一种方法是在`Val[_]`类型构造函数中使用 Scala 函数类型。例如：

```
import z3.scala._
import z3.scala.dsl._

choose(
  (x : Val[Int], f : Val[Int=>Int]) => x < f(x)
)

> res0: (Int, Int=>Int) = (0,<function1>) 
```

然后该函数由实际的 Scala 函数建模：

```
val f = res0._2
f(0)

> 1 
```

# android - 如何在激活应用程序中推送具有不同内容的通知？

> ID：11008746
> 
> 赞同：0
> 
> 时间：2012-06-13T05:33:01.150
> 
> 标签：android, refresh, push-notification

我已经实现了这个[推送通知](http://www.vogella.com/articles/AndroidCloudToDeviceMessaging/article.html)。

我尝试推送第一条消息，它可以工作。之后我更改消息并再次推送，但内容无法进入应用程序。它仍然收到第一条消息。例如，第一条消息是“ABC”。第二条消息是“DEF”，当我在应用程序中单击通知时，消息仍然显示“ABC”而不是“DEF”。如果我手动运行该应用程序，然后我推送消息“DEF”，它确实会收到“DEF”。

当用户点击通知直接跳转到应用程序而不是从头手动运行应用程序时，如何使应用程序始终接受最新消息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T17:47:21.683

只需传入一个像 intent() 这样的空意图并在通知标志设置中使用此标志： notification.flags |= Notification.FLAG_AUTO_CANCEL;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:59:40.323

我认为您可以将标志[FLAG_UPDATE_CURRENT](http://developer.android.com/reference/android/app/PendingIntent.html#FLAG_UPDATE_CURRENT)添加到通知[PendingIntent](http://developer.android.com/reference/android/app/PendingIntent.html)以将现有 Pending Intent 中的额外内容替换为新 Intent。

如果你想删除旧的 PendingIntent 并用新的替换它，还有标志[FLAG_CANCEL_CURRENT 。](http://developer.android.com/reference/android/app/PendingIntent.html#FLAG_CANCEL_CURRENT)

# java - JRE 抛出 NoClassDefFoundError 错误

> ID：11008750
> 
> 赞同：0
> 
> 时间：2012-06-13T05:33:19.197
> 
> 标签：java, noclassdeffounderror

JRE 版本 - **jre1_6_16**

JRE 将`NoClassDefFoundError`在执行 java 文件时抛出。

**错误信息**

初始化期间发生错误`VM`。

```
java/lang/NoClassDefFoundError: java/lang/Object 
```

我怎么解决这个问题 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:56:58.717

Java 虚拟机无法`rt.jar`在您的 Java 安装中找到/加载，这很可能意味着它已被删除或重新定位。

我的建议是完全卸载并重新安装 Java。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:43:30.170

看起来您遇到了类路径问题，我建议您检查其中是否包含所有内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T06:03:23.917

您的系统在什么操作系统上运行？我曾经在 Fedora 17 上做过这个，我得到了这个错误。事实证明，RPM 没有正确安装。

RPM 的大小比原来的大小要小一些。您的解决方案是**卸载 JVM 并重新安装它**。然后它会解决问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-13T10:11:01.343

这为我解决了它（linux，通过安装后：）`sudo alien -i jdk-7u45-linux-x64.rpm`：

```
 export JAVA_HOME=/usr/java/jdk1.7.0_45; export PATH=${PATH}:${JAVA_HOME}/bin (put in /etc/bash_bashrc)

    cd ${JAVA_HOME}/jre/lib

../../bin/unpack200 rt.pack rt.jar 
```

# java - Java中对NaN的困惑

> ID：11008755
> 
> 赞同：15
> 
> 时间：2012-06-13T05:33:54.437
> 
> 标签：java, floating-point, double, nan

```
int i = 0, j = 0;
double nan1 = (double)0/0;
double nan2 = (double)0/0;
double nan3 = (double)i/j;
System.out.println(Double.doubleToRawLongBits(nan1) == Double.doubleToRawLongBits(nan2));
System.out.println(Double.doubleToRawLongBits(nan1) == Double.doubleToRawLongBits((double)0/0));
System.out.println(Double.doubleToRawLongBits(nan3) == Double.doubleToRawLongBits(nan2)); 
```

输出：

```
true
true
false 
```

请帮助我`true`前两个和`false`最后一个的输出是如何产生的。请告诉我**Double.doubleToRawLongBits()**方法的实际工作是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:49:10.587

请尝试运行以下代码以查看值：

```
public class Test
{
    public static void main(String[] args){
        int i = 0, j = 0;
        double nan1 = (double)0/0;
        double nan2 = (double)0/0;
        double nan3 = (double)i/j;
        System.out.println(Double.doubleToRawLongBits(nan1) + " == "+ Double.doubleToRawLongBits(nan2) + " is " +
            (Double.doubleToRawLongBits(nan1) == Double.doubleToRawLongBits(nan2)));
        System.out.println(Double.doubleToRawLongBits(nan1) + " == "+ Double.doubleToRawLongBits((double)0/0) + " is " +
            (Double.doubleToRawLongBits(nan1) == Double.doubleToRawLongBits((double)0/0)));
        System.out.println(Double.doubleToRawLongBits(nan3) + " == "+ Double.doubleToRawLongBits(nan2) + " is " +
            (Double.doubleToRawLongBits(nan3) == Double.doubleToRawLongBits(nan2)));
    }
} 
```

在我的 Mac 上，它产生以下输出：

```
9221120237041090560 == 9221120237041090560 is true
9221120237041090560 == 9221120237041090560 is true
-2251799813685248 == 9221120237041090560 is false 
```

这个陷阱在[doubleToRawLongBits 方法](http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#doubleToRawLongBits%28double%29)的 Javadoc 中有记录：

> 如果参数是 NaN，则结果是表示实际 NaN 值的长整数。与 doubleToLongBits 方法不同，doubleToRawLongBits 不会将所有编码 NaN 的位模式折叠为单个“规范”NaN 值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T06:01:03.550

原因是当您将双变量 0 除以 0 时，它返回 NaN，因此该方法没有二进制的单一规范表示，因此它可能将 NaN 的二进制返回为 7F F8 00 00 00 00 00 00 或 FF F8 00 00 00 00 00 00。

尽管从技术上讲，它们代表相同的东西，即 NaN，但它在二进制表示上是不同的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-13T06:07:29.853

IEEE 754 标准允许`NaN`. 出于计算和比较的目的，它们都应该以相同的方式工作（即`NaN`比较不等于自身，没有排序，涉及的每个计算`NaN`都是`NaN`自身）。随着`doubleToRawLongBits`您获得使用的确切位模式。这在 JLS 中也有详细说明：

> 在大多数情况下，Java 平台将给定类型的 NaN 值视为折叠为单个规范值（因此本规范通常将任意 NaN 称为规范值）。但是，Java 平台 1.3 版引入了使程序员能够区分 NaN 值的方法：`Float.floatToRawIntBits`and`Double.double- ToRawLongBits`方法。感兴趣的读者可以参考`Float`和`Double`类的规范以获取更多信息。

在您的情况下，符号位不同，在这种情况下，我可以将您定向到[Wikipedia](http://en.wikipedia.org/wiki/NaN#Encoding)，它简要地总结了这一点：

> 在符合 IEEE 754 标准的浮点存储格式中，NaN 由特定于 NaN 的预定义位模式标识。符号位无关紧要。

您的两个值都是`NaN`，它们只是使用不同的位来表示。IEEE 754 允许的东西，在这种情况下，可能源于编译器替换`Double.NaN`了常量计算，导致`NaN`实际硬件给出不同的结果，正如[Mysticial](https://stackoverflow.com/questions/11008755/confusion-on-nan-in-java#comment14387877_11008755)在对该问题的评论中所怀疑的那样。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-13T05:58:23.507

我认为 Java 遵循 IEEE 754。在这种情况下，NaN 具有不止一种可能的位表示。您的情况下的两种表示形式在“符号”位上有所不同。符号位的值似乎没有被标准定义，通常被忽略。所以这两个值都是正确的。见[http://en.wikipedia.org/wiki/NaN](http://en.wikipedia.org/wiki/NaN)

# android - 直接从本机 c++ JNI 调用 java

> ID：11008757
> 
> 赞同：0
> 
> 时间：2012-06-13T05:33:59.713
> 
> 标签：android, android-ndk, java-native-interface

这个问题已经在很多这样的帖子中被问到并得到了[回答](https://stackoverflow.com/questions/5198105/calling-a-java-method-from-c-in-android)！

但是我怎样才能直接从 c++ 调用呢？为此，我怎样才能获得 JNIEnv* 和 jobject ？这可能吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:07:41.293

为此`JNIEnv`，您可以编写`JNI_OnLoad`将在加载共享库期间调用的全局函数。该函数将`JavaVM`指针作为参数。使用它，您可以获得`JNIEnv`当前线程（如果`JNIEnv`以前没有，则创建新线程）。

至于在哪里获得 jobject - 如果这是您正在实例化的新对象，那么您使用`JNIEnv::NewObject`方法。否则，您需要将要在其上调用方法的对象从 java 端传递给 C/C++。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T21:58:17.287

您需要阅读[JNI 规范的调用部分](http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/invocation.html#wp9502)。

# c++ - 从 C++ 中的函数返回字符串数组

> ID：11008759
> 
> 赞同：2
> 
> 时间：2012-06-13T05:34:06.753
> 
> 标签：c++, arrays, string, vector

我在 C++ 中处理字符串数组时遇到问题。我尝试了以下两种方法。仍然无法解决问题...在这里：当我使用时：

```
string* fun(string* a,string*b) 
{
    string c[];
    return c; /* c is string array type*/ 
} 
```

它返回存储在字符串数组 c 中的第一个字符串我希望返回整个字符串数组。当我使用：

```
vector<string> fun(vector<string> a,vector<string> b){
    vector<string> c;
    return c;
} 
```

仍然，我有一些错误。
你能帮我知道这两种情况的问题出在哪里吗？需要进行哪些修改才能获得所需的结果。如何在 C++ 中处理字符串数组。提前谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:44:47.513

如果你必须返回一个比字符串更复杂的对象，你应该向你的函数传递一个指向向量的链接（在你的代码中）并用值填充它。这是一种快速而正确的方法。

```
vector<string> fun(vector<string> a,vector<string> b, vector<string>& result){
  res.push_back("one");
  res.push_back("two");
  res.push_back("three");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:40:16.137

在第一个版本中，您将返回一个指向局部变量（您的数组）的指针，当您离开作用域时，它将不再存在。您需要在堆上创建数组，例如使用`malloc`or `new`。如果您手动分配它，请不要忘记释放它。

在第二个版本中，您将返回`vector`函数中声明的副本（如果您修改了`string`返回的 s `vector`，它们将不会在`a`et中修改`b`）。您正在创建一个空`vector`而不在其中添加任何内容，因此它不会包含任何`string`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:38:01.473

您不能直接在 C++ 中返回数组（它继承自 C）。解决方法是将其填充到结构中。

```
struct returned_array
{
    string result[100];
};
returned_array fun()
{
    returned_array result;
    result.result[0] = "whatever";
    return result;
} 
```

我刚刚选择了一个任意大小的 100 作为示例。如果您想根据传入的数组大小来确定返回大小，可以添加一个模板参数：

```
template<int N>
struct returned_array
{
    string result[N];
};
template<int N>
returned_array<N> fun(string (&)[N])
{
    returned_array<N> result;
    result.result[0] = "whatever";
    return result;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T05:57:02.753

在您的第一个片段中，您可以尝试初始化以`new`自己分配空间。

```
string* func() {
    string* c = new string[3];
    c[0] = "Hello";
    c[1] = "World";
    c[2] = "<3";
    return c;
} 
```

主要：

```
m = func();
for(int i = 0; i < 3; i++)
{
    cout << m[i] << endl;
} 
```

这应该可以防止它在函数结束后失去作用域。不要忘记释放空间。请注意，您返回的是指向数组的指针，而不是数组。此外，我运行您的第二段代码也没有问题。请始终分享您遇到的错误。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-13T05:59:01.773

在 C/C++ 中，从函数返回字符串时，如果返回本地缓冲区将不起作用。

返回的指针应该是一个静态缓冲区（如静态字符串 c[]）或指向调用者函数传入的缓冲区的指针（如 string *fun(string *a, string *b, string *c) ）或指向 a使用 malloc/new 但不是本地数组获得的内存。

# ruby-on-rails - Rails form_for 与 file_field 和 remote => true 和 format => :js

> ID：11008764
> 
> 赞同：3
> 
> 时间：2012-06-13T05:34:15.967
> 
> 标签：ruby-on-rails, ajax, ruby-on-rails-3.1, form-for, ujs

我正在提交一个带有 file_field 的 form_for。当表单与 post 一起提交时，控制器会响应一个 .js 文件，该文件将被执行。

file_field 是可选的。

当我上传文件时，js文件在一个新文档中打开（作为一个简单的文本文件）并且js没有被执行。当我不上传任何文件时，响应 div 会更新。我希望在响应 div 或独立于文件上传的失败消息中通知更新成功。

可能是出于某些安全原因这样做吗？对于希望能够做到这一点的人是否有一些解决方法？

大致，

形成部分 _action.html.erb：

```
<div id="response"></div>
<%= form_for ... :remote => true, :url => {..., :format => :js} do |f| %>
    ...
    <%= f.file_field :name %>
<% end %> 
```

控制器::动作

```
 if not request.post?
    render :partial => 'controller/action'
    return
 else
    @response = "save was successful";
    # renders the action.js.erb
 end 
```

action.js.erb：

```
$("#response").html("<%= @response %>"); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T05:52:19.717

尝试使用 remotipart gem [https://github.com/JangoSteve/remotipart](https://github.com/JangoSteve/remotipart)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-27T11:28:13.950

以下解决方案对我有用

```
$('.sales_application_form').submit(function() {
    $(this).ajaxSubmit();
    return false;
  }); 
```

# objective-c - 动画结束后如何获取事件？

> ID：11008767
> 
> 赞同：0
> 
> 时间：2012-06-13T05:34:21.613
> 
> 标签：objective-c, animation, cocos2d-iphone, box2d

任何人请告诉我在 Sprite 上完成动画后如何获得事件？我正在使用 cocos2d 框架，

我的代码的某些部分是这样的..

```
-(void)playerTouchHurdlesOnFlore:(LHContactInfo*)contact
{

    if(!isHurdlesAnimStart)
    {
        isHurdlesAnimStart=YES;

        onGround=NO;

        [player stopAnimation];

        //[player setIsRelativeAnchorPoint:NO];

        // I want to call any event or function after end of the this "Fall_Down" animation.
        [player startAnimationNamed:@"Fall_Down"];

        jumpCounter = 0.3f;
        player.body->ApplyLinearImpulse(b2Vec2(0,2.0f), player.body->GetPosition());
    }

} 
```

请告诉我任何解决方案或给我一些想法，如果你有，

提前致谢 ，

:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T05:47:52.600

您可以使用简单地创建回调`CCCallFunc`

```
id animation = // any of your action, CCAnimate, CCMoveTo, etc.
id callback = [CCCallFunc actionWithTarget:self selector:@selector(onAnimationEnd)];
id sequence = [CCSequence actionOne: animation two: callback];
[nodeToAnimate runAction: sequence]; 
```

当然，你可以使用任何你想要的目标和选择器作为回调

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:54:57.800

你能检查一下 sprite 和 cocoa2d 的文档吗，应该有一个像这样的委托方法

```
 - (void)animationDidStop:(CAAnimation *)animation finished:(BOOL)finished 
```

但此方法适用于 Core Animation

# sql - 插入后的 SQL Server 2008，当我将插入或删除的表与审计表连接时，更新触发器非常慢

> ID：11008768
> 
> 赞同：0
> 
> 时间：2012-06-13T05:34:27.543
> 
> 标签：sql, sql-server-2008, triggers

我有 100 万行`item_audit table`。下面是我在项目表上的触发器。为什么这么慢？

```
create trigger [dbo].[item_audit_trigger] on [dbo].[item]  after insert, update as  
begin 
    declare @type char(1), @begindate varchar(16), @enddate varchar(16),      @hostname   
          nvarchar(128), @programname nvarchar(128), @loginname nvarchar(128),      
    @logintime varchar(16), @ocuserid varchar(12), @ocquefromid varchar(10), @lcontextinfo
          varchar(128)  

    set @begindate = dbo.DateToD16(getdate()) 
    set @enddate   = '9999123100000000' 
    select @hostname     = host_name from sys.dm_exec_sessions where session_id = @@SPID 
    select @programname  = program_name from sys.dm_exec_sessions where session_id = @@SPID 
    select @loginname    = login_name from sys.dm_exec_sessions where session_id = @@SPID  
    select @logintime    = dbo.DateToD16(login_time) from sys.dm_exec_sessions where 
          session_id = @@SPID  
    select @lcontextinfo = cast(context_info as varchar(128)) from sys.dm_exec_sessions where  
          session_id = @@spid  
    set @ocuserid    = substring(@lcontextinfo, 1, 12)  
    set @ocquefromid = substring(@lcontextinfo, 13, 10) 
...

        set @type = 'I'  

---------------  Below update takes 2 minutes

        update medorder_audit set audit_end = @begindate  
        from medorder_audit a inner join inserted d 
        on  a.MO_ID = d.MO_ID and  a.PAT_ID = d.PAT_ID  
        where audit_end = @enddate 
---------------------------------------------------------------

        insert into medorder_audit (mo_id, mo_stat, pat_id, item_id, physn_id, physn_name, pharm_id, start_dati, stop_dati, frequency, dose, route, site, prn, sol_time, 
        sol_amt, sol_units, adm_times, adm_instr, add_dati, lu_dati, lu_from, er_wnd, lt_wnd, mo_qty, item_name, dos_str, str_units, dos_units, dos_amt, tvol_amt, tvol_units, 
        dos_form, mo_pstatus, mo_doseunt, xact_dati, user_id, user_name, omni_stid, qty, dose_text, mo_alert, give_amt, give_units, dose_max, rx_suffix, rx_name, rx_disp, 
        duration, interval, stat, only_days, wnd_type, sch_done, use_def, mocf_stat, mocf_user, mocf_dati, admin_dati, adm_dur, adm_site, comp_ct, comp_dati, mocf_inits, 
        mocf_title, ftdue_dati, is_iv, mix_id, mix_type, mo_disp, lu_user, modisp_db, psb_fill, audit_begn, audit_end, audit_type, audit_host, audit_prgm, audit_logn, 
        audit_date) select mo_id, mo_stat, pat_id, item_id, physn_id, physn_name, pharm_id, start_dati, stop_dati, frequency, dose, route, site, prn, sol_time, sol_amt, 
        sol_units, adm_times, adm_instr, add_dati, lu_dati, lu_from, er_wnd, lt_wnd, mo_qty, item_name, dos_str, str_units, dos_units, dos_amt, tvol_amt, tvol_units, dos_form, 
        mo_pstatus, mo_doseunt, xact_dati, user_id, user_name, omni_stid, qty, dose_text, mo_alert, give_amt, give_units, dose_max, rx_suffix, rx_name, rx_disp, duration, 
        interval, stat, only_days, wnd_type, sch_done, use_def, mocf_stat, mocf_user, mocf_dati, admin_dati, adm_dur, adm_site, comp_ct, comp_dati, mocf_inits, mocf_title, 
        ftdue_dati, is_iv, mix_id, mix_type, mo_disp, lu_user, modisp_db, psb_fill, @begindate, @enddate, @type, @hostname, @programname, @loginname, @logintime  
        from inserted 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:26:39.800

而不是在同一个触发器上执行插入、更新、删除，您应该使用 3 个不同的触发器来对表进行操作，并检查表的索引

# struts2 - 无法设置 Struts 2 环境

> ID：11008771
> 
> 赞同：1
> 
> 时间：2012-06-13T05:34:44.157
> 
> 标签：struts2

我在 index.jsp 文件中收到此错误消息

**找不到“http://struts.apache.org/tags-logic”的标签库描述符**

我该如何纠正它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T10:42:30.373

[请参阅此 Hello World 应用程序教程链接](http://www.vaannila.com/struts-2/struts-2-example/struts-2-hello-world-example-1.html)，您可以将您的代码与此示例代码进行比较并解决您的问题。

该链接中也提供了所有必需的 Jar 文件（MySQL 连接器除外）。

# actionscript-3 - 将 .fla 变成令人头疼的问题

> ID：11008772
> 
> 赞同：0
> 
> 时间：2012-06-13T05:34:58.737
> 
> 标签：actionscript-3, class, fla

我写了一个不错的小游戏，它的 .fla 格式运行良好。因为我想包含一些带有选项、保存等的菜单，所以我遵循了[http://www.actionscript.org/resources/articles/965/3/Better-Flash-Navigation-using-AS3-Classes/Page3的建议.html](http://www.actionscript.org/resources/articles/965/3/Better-Flash-Navigation-using-AS3-Classes/Page3.html)我设法从菜单中正确导航，但我真的不知道如何处理我的 fla 的内容。理想情况下，我认为它应该单独放在一个类中（称为 Game.as），如果您查看上面的链接，它将从 Main.as 链接（这是链接的类 [导航菜单] 从包含所有资产的主 .fla 文件）。我是否认为 Game.as 中的构造函数类与我的 .fla 文件中的 init() 函数非常相似？在这种情况下，游戏的其余代码将是存储在构造函数之外的单独函数（称为类的方法，对吗？）。或者我完全错了，游戏不应该单独在课堂上，而是坐在 Main.as 里面，因为这个类与原来的 . 佛罗里达所有资产在哪里？我所需要的只是朝着正确的方向轻推，因为我在我的任何书中都找不到此信息，而且我不知道如何为谷歌措辞。提前致谢。尼克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T08:04:22.523

您需要从 FLA 文件中的类中导出要访问的所有 MovieClip 和资产。打开 MC 或 Bitmap 的属性并标记导出并将包名称写入其中。

[http://www.flashandmath.com/howtos/as3link/](http://www.flashandmath.com/howtos/as3link/)

其余的：

每个对象都是另一个类。这是面向对象的编程。你的菜单是一个类，你的菜单项是不同的类。你的游戏是一个类，你的游戏物品是不同的类等等。

有了这个，您可以创建一个类层次结构，并可以在特定情况下“加载”您需要的项目。

[http://www.adobe.com/devnet/actionscript/articles/oop_as3.html](http://www.adobe.com/devnet/actionscript/articles/oop_as3.html)

> 我是否认为 Game.as 中的构造函数类与我的 .fla 文件中的 init() 函数非常相似？在这种情况下，游戏的其余代码将是存储在构造函数之外的单独函数（称为类的方法，对吗？）。

是啊，你说得对。

# javascript - jQuery 库与另一个 jQuery 库冲突

> ID：11008773
> 
> 赞同：0
> 
> 时间：2012-06-13T05:35:03.097
> 
> 标签：javascript, jquery, javascript-framework, jquery-events, mapmyindia-api

我在我的应用程序中使用了很多 jQuery 库。

我的应用程序是基于地图的，而地图是由我自己的服务器 mapmyindia.com 生成的。

问题是当我使用fancybox jQuery 库、分页jQuery 库和下拉清单jQuery 库时发生jQuery 冲突，所有这些都一起工作。

由于 jQuery 库冲突，我的方向搜索 API 不起作用。

但是，如果我删除所有 jQuery 库，我可以使用我的方向搜索 API 就好了。

启用 jQuery 库后，它给了我一个错误：

> $.jsonp 不是函数

我的申请在 app.mapmyindia.com/michelin 请帮助我......

```
<script>MIREO_RESOURCES_ROOT = "http://46.137.254.191/MapServer/";</script>
<script type="text/javascript" src="http://46.137.254.191/MapServer/MireoWebMap.js"></script>

<script type="text/javascript">
    var map = $("#map");
    var valid = new Validation();
    map.MireoMap();
</script>

<script type="text/javascript" src="jquery/jquery-1.6.1.min.js"></script>
<script type="text/javascript" src="jquery/jquery-ui-1.8.13.custom.min.js"></script>
<script type="text/javascript" src="jquery/ui.dropdownchecklist-1.4-min.js"></script>
<script type="text/javascript" src="fancybox/jquery.fancybox.js?v=2.0.6"></script>
<link rel="stylesheet" type="text/css" href="fancybox/jquery.fancybox.css?v=2.0.6" media="screen"/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:41:07.053

尝试使用jquery`noConflict()`并下载最新版本的jquery解决一些问题冲突

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:41:11.687

试试这个 ：

使用 jquery noconflict 并将代码包装在 jQuery 函数中：

[http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

```
jQuery.noConflict();
jQuery(function($){
  // my code here each 
}); 
```

祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:51:16.053

您声明 javascript 的顺序，即首先导入您的 MapmyIndi​​a Js，使用它

```
<script type="text/javascript">
var map = $("#map");
var valid = new Validation();
map.MireoMap();
</script> 
```

& 然后调用 jQuery，我认为 jQuery 不会造成问题。

你也应该使用

```
var map=document.getElementById("id"); 
```

因为你在那之后调用了 jQuery，所以 $() 将不起作用。

编辑：或者如果 MayMyIndi​​a Js 也需要 jQuery，那么您应该在顶部调用 jQuery.Js。

# android - Android：如何获取和设置目录修改日期

> ID：11008775
> 
> 赞同：1
> 
> 时间：2012-06-13T05:35:24.430
> 
> 标签：android, file, directory

我正在寻找一种获取目录修改日期的方法。我试过了：

```
File dir = new File(myDir);
long mod = dir.lastModified(); 
```

但它返回 0。

我也在寻找一种方法来设置目录的最后修改日期，但没有找到任何东西。

有记录的方法来做这些吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T05:53:24.503

**编辑：** 您的代码看起来正确，只需检查目录的存在..

```
public long lastModified () 
```

返回上次修改此文件的时间，以 1970 年 1 月 1 日午夜以来的毫秒数为单位。**如果文件不存在，则返回 0。**

所以只需检查您的文件是否存在..

**代码：**

从文件中获取上次修改日期，

```
File file = new File("Your file path");
Date lastModDate = new Date(file.lastModified());
Log.i("File last modified : "+ lastModDate.toString()); 
```

将上次修改日期设置为文件..

```
try{

    File file = new File("/mnt/sdcard/temp.txt");

    //print the original last modified date
    SimpleDateFormat sdf = new SimpleDateFormat("MM/dd/yyyy");
    Log.i("Original Last Modified Date : " , ""+sdf.format(file.lastModified()));

    //set this date 
    String newLastModified = "01/06/2012";

    //need convert the above date to milliseconds in long value 
    Date newDate = sdf.parse(newLastModified);
    file.setLastModified(newDate.getTime());

    //print the latest last modified date
    Log.i("Lastest Last Modified Date : ", ""+sdf.format(file.lastModified()));

    }catch(ParseException e){
        e.printStackTrace();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:56:24.460

我希望你的 myDir 包含目录的路径

以下片段对我有用

```
 File file1 = new File(getFilesDir().getAbsolutePath());
        Log.i("text", "" + file1.lastModified()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:57:56.017

object dir 返回的 long 变量需要使用您的示例进行如下转换。

```
File dir = new File(myDir);
long mod = dir.lastModified();
Date lastModify = new Date(mod); 
```

对于日期设置，请尝试函数 setLastModified( long Time )。

供参考，Java 链接@Java [1.7](http://docs.oracle.com/javase/7/docs/api/java/io/File.html)

# java - 从 flex 创建层次数据并将其发送到 java

> ID：11008779
> 
> 赞同：0
> 
> 时间：2012-06-13T05:35:43.973
> 
> 标签：java, apache-flex, hierarchical-data, advanceddatagrid, dataprovider

我正在尝试使用 AdvancedDataGrid 在 flex 中创建分层数据网格。数据是从远程 java 对象中检索的。出于项目和需求目的，GroupingCollection 不是一个选项。所以我试图在java端创建一个dataprovider，就像[这个链接](http://livedocs.adobe.com/flex/3/html/help.html?content=advdatagrid_07.html)的第一个例子中显示的那样，然后将它发送给flex。

我如何在java中创建这样的数据结构？是否有任何工作代码作为示例？

在我看到的所有示例中，数据都是手动插入的，就像在示例中一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T07:16:35.317

在`flex`中，您可以将 设置`dataProvider`为一些不同的数据类型。当您使用`Java`后端和`flex`UI 时，您应该将通信`XML`作为基本数据表示来考虑。因此，即使您想将 as`dataProvider`用于您`AdvancedDataGrid`的 an`ArrayCollection`或 an `GroupingCollection`，您也`XML`将从`RemoteObject`. 我认为在网上搜索有关此主题的内容会对您有所帮助。

# c# - C# Windows 窗体应用程序 --> 在多个窗体之间切换

> ID：11008786
> 
> 赞同：1
> 
> 时间：2012-06-13T05:36:20.507
> 
> 标签：c#, winforms, visual-studio-2010

我正在使用 Microsoft Visual C# 2010 开发 Windows 窗体应用程序 我有两个通过 Visual Studio GUI 制作的窗体现在我想在按钮单击事件上切换到下一个窗体`this.hide()`但是当我写下一个窗体名称后跟点时，`show()`方法没有显示它似乎 show 方法不适用于它。如何显示我的新表单，因为它不是动态创建的 我已经通过 Visual Studio GUI 创建了它 当我动态创建它时

```
Form myform = new Form(); 
```

比

`myform.show();`

显示功能存在，但在我的情况下，这不存在

请告诉我有什么问题

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-13T05:39:03.750

您需要创建 Form2 的对象并在 Form2 的实例上调用 show 方法

```
Form2 form = new Form2();
form.Show(); 
```

**编辑：**由于您编辑了问题并添加了 part `Form myform = new Form();`。您实际上是在创建 base class 的实例`Form`。您需要创建继承`Form`类的 Form 实例。

```
public partial class Form2 : Form 
```

在这种情况下，您需要创建 Form2 类的实例。但是你的 myForm 应该有 Show 方法。你确定你有`System.Windows.Forms;`using 语句和 Form 类来自`System.Windows.Forms;`. 尝试

```
System.Windows.Forms.Form myform = new Form(); //Although this is wrong but it should have show method
myform.Show(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T05:59:15.223

制作第二种形式的对象，然后调用`Show()`方法

```
SecondForm frmsecond = new SecondForm();
frmsecond.Show(); 
```

`Form myform = new Form();`这里不需要，因为您试图将 myform 作为 Form Class 的对象

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T06:14:37.843

好吧..'你有两种形式（你不是动态创建它们），你想在点击事件上从一个切换到另一个'，不是吗？

例如，假设您通过 VS GUI 创建了两个表单，即 Form1 和 Form2。如果你喜欢做类似的事情

```
Form2.Show(); 
```

那么你不能。您是否查看过您的应用程序的入口点，即。应用程序的 Main() 方法（大多数情况下在“Program.cs”中）。虽然您已经静态创建了 Form1，但您会发现

```
 Application.Run(new Form1); 
```

你现在明白了。您不能使用“类型”。您应该使用一个变量。因此，只有我们正在创建您的第二个表单的实例并显示它。

```
Form2 form=new Form2();
form.Show(); 
```

# heroku - Heroku到底是什么？

> ID：11008787
> 
> 赞同：136
> 
> 时间：2012-06-13T05:36:29.133
> 
> 标签：heroku

我刚开始在 Rails 上学习 Ruby，我想知道 Heroku 到底是什么？我知道它的云可以帮助我们避免使用服务器？我们什么时候真正使用它？

* * *

## 回答 #1

> 赞同：198
> 
> 时间：2012-12-29T12:45:46.073

Heroku 是一个云平台即服务。这意味着您不必担心基础设施；您只需专注于您的应用程序。

除了 Jonny[说](https://stackoverflow.com/a/11013081/1916110)的，Heroku 还有几个特点：

*   使用 Git 推送即时部署 - Heroku 使用您的构建脚本构建您的应用程序
*   大量附加资源（应用程序、数据库等）
*   进程缩放 - 为您的应用程序的每个组件独立缩放，而不影响功能和性能
*   隔离 - 每个进程（又名测功机）彼此完全隔离
*   完整的日志记录和可见性 - 轻松访问应用程序每个组件和每个进程 (dyno) 的所有日志记录输出

Heroku 提供了非常好的教程，让您可以在几分钟内开始。他们还免费提供前 750 个计算小时，这意味着您可以免费拥有一个进程（又名 Dyno）。性能也非常好，例如用 node.js 编写的简单 Web 应用程序每秒可以处理大约 60 - 70 个请求。

Heroku 的竞争对手是：

*   [红帽的 OpenShift](http://www.redhat.com/en/technologies/cloud-computing/openshift)
*   [视窗天青](http://windows.azure.com/)
*   [亚马逊网络服务](http://aws.amazon.com/)
*   [谷歌应用引擎](https://developers.google.com/appengine/)
*   [VMware](http://www.vmware.com/)
*   [惠普云服务](https://www.hpcloud.com/)
*   [原力网](http://www.force.com/)

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2012-06-13T10:35:47.610

它是一个基于云的、可扩展的服务器解决方案，它允许您轻松管理 Rails（或其他）应用程序的部署，前提是您订阅了许多约定（例如 Postgres 作为数据库，不写入文件系统）。

因此，您可以通过改进数据库和增加 dynos（Rails 实例）和 worker 的数量来轻松扩展应用程序的增长。

它不能帮助您避免使用服务器，您需要对服务器管理有所了解才能有效地调试您的平台/应用程序组合的问题。然而，虽然它相对昂贵（即，与在 Slicehost 上租用一个切片或其他东西相比，每个实例），但有一个免费帐户，并且在付费某人构建自己的解决方案或采取更具成本效益之间进行粗略的权衡额外的费用。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-02-05T12:18:03.697

Heroku 基本上提供了网络空间来上传您的应用程序

如果您正在上传 Rails 应用程序，那么您可以按照本教程 [https://github.com/mrkushjain/herokuapp](https://github.com/mrkushjain/herokuapp)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-06-16T12:01:37.970

正如我所看到的，它是一种可扩展的托管网络托管服务，随时可以增长，因此您不必担心它。

它对于普通的 PHP Web 应用程序没有用处，因为那里有很多带有 ftp 的 Web 托管服务，用于没有可扩展性需求的简单 Web，但是如果您需要更大的 Heroku 或类似的东西，您就需要它。

它通过命令行工具作为服务公开，因此您可以编写脚本来自动化部署。无论如何，它与启用 Git 的其他网络托管服务非常相似，但 Heroku 使它更简单。

就是这样，让管理工作对您来说更简单，因此可以节省您的时间。但我不确定，因为我才刚刚开始！

官方文档中对它的工作原理的一个很好的介绍是：

[https://devcenter.heroku.com/articles/how-heroku-works](https://devcenter.heroku.com/articles/how-heroku-works)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-10-16T21:16:10.030

每个 DZone：[https ://dzone.com/articles/heroku-or-amazon-web-services-which-is-best-for-your-startup](https://dzone.com/articles/heroku-or-amazon-web-services-which-is-best-for-your-startup)

> Heroku 是基于 AWS 的平台即服务 (PaaS) 产品，与弹性计算云有很大不同。当我们考虑使用这两种解决方案部署和支持我们的应用程序时，区分“基础设施即服务”和“平台即服务”解决方案非常重要。
> 
> Heroku 比 AWS Elastic Compute Cloud 更易于使用。也许它甚至太简单了。但这种简单性是有充分理由的。Heroku 平台为我们提供了现成的运行时环境和应用服务器。此外，我们还受益于与各种开发工具、预装操作系统和冗余服务器的无缝集成。
> 
> 因此，使用 Heroku，我们不需要考虑基础设施管理，这与 AWS EC2 不同。我们只需要选择订阅计划并在必要时更改我们的计划。

那篇文章很好地解释了 Heroku 和 AWS 之间的区别，但看起来您可以选择 AWS 以外的其他 iaas（基础设施）提供商。所以最终 Heroku 似乎只是简化了使用云提供商的过程，但需要付出一定的代价。

[![在此处输入图像描述](../Images/a951266f91e1274c5e1c27d9a2cce0d3.png)](https://i.stack.imgur.com/qHij2.jpg)

# iphone - 如何在 iPhone 中缩放 UIWebView

> ID：11008796
> 
> 赞同：0
> 
> 时间：2012-06-13T05:37:41.230
> 
> 标签：iphone, ipad, url, uiwebview, zooming

我是这项技术的新手，

我正在加载网页`webview`，

我没有设置`scalePageToFit`属性。在不使用此属性的情况下，我想在我的 web 视图上进行放大和缩小。

**可能吗 ？**

这是我的代码片段，

```
NSURL *url2=[NSURL URLWithString:str1];
NSURLRequest *req2=[NSURLRequest requestWithURL:url2];
[webView1 loadRequest:req2];
[webView1.scrollView setZoomScale:2.0 animated:TRUE];
[webView1 release]; 
```

str1 是我的`url`，我试过了，但我仍然无法在模拟器中缩放我的 web 视图。

**任何帮助将不胜感激。**

***提前致谢 ！***

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:53:22.947

您需要将`scalePageToFit`属性设置为 YES。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:07:36.980

UIWebView 将 scrollView 作为属性。使用 ScrollView 的委托方法

```
– scrollViewDidEndZooming:withView:atScale: 
```

这可能会帮助你。

按照[这个链接](https://developer.apple.com/library/ios/#samplecode/ZoomingPDFViewer/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010281)：这可能会给你一些线索。如何缩放滚动视图。

# c# - 限制匹配的长度

> ID：11008801
> 
> 赞同：2
> 
> 时间：2012-06-13T05:38:14.830
> 
> 标签：c#, regex

这个 C# 正则表达式会是什么样子？

*   长度至少为一 (1) 个字符
*   最多七 (7) 个字符
*   数字字符

我有这个，但我需要检查 1-7 位数字：

```
var chequeNumRX = new Regex("^[0-9]+$"); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T05:40:08.077

在正则表达式中，您可以使用[重复](http://www.regular-expressions.info/repeat.html)运算符`{min,max}`。

```
var chequeNumRX = new Regex(@"^\d{1,7}$"); 
```

上面的正则表达式`\d`最少匹配 1 次，最多匹配 7 次。

请注意，这`\d`是一个等同于 . 的速记字符类`[0-9]`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-13T05:42:47.437

只需将范围放在您的字符列表之后：

`{1,7}`: 允许 1 - 7 个字符

例如

```
^[0-9]{1,7}$ 
```

# asp.net - 如何使用 ImageButton 传递值来更新数据库？

> ID：11008802
> 
> 赞同：0
> 
> 时间：2012-06-13T05:38:16.830
> 
> 标签：asp.net, vb.net, controlparameter

当我尝试将值从 ImageButton 传递给控制参数时遇到问题，然后更新命令可以从控制参数中检索值以执行更新语句。

我想在单击 ImageButton APPROVE 时传递值 Status=1，否则在单击 ImageButton REJECT 时传递值 Status=2。

我应该在哪里以及如何分配值状态？当我运行我的代码时，我收到此错误：必须声明标量变量“@Status”。

或者有什么建议可以传递价值状态？

我的图像按钮：

```
<ItemTemplate>
<asp:ImageButton runat="server" ID="APPROVE" CommandName="update" 
ImageUrl="~/images/accept.png"
OnClientClick="if (!window.confirm('Are you sure you want to approve this booking?')) return false;" />
</ItemTemplate>

<ItemTemplate>
<asp:ImageButton runat="server" ID="REJECT" CommandName="update"
ImageUrl="~/images/reject.png"
OnClientClick="if (!window.confirm('Are you sure you want to reject this booking?')) return false;" />
</ItemTemplate> 
```

我的更新声明

```
UpdateCommand="UPDATE [bookingschedule] SET status=@Status WHERE [bookingScheduleID] = @bookingScheduleID" 
```

我的控制参数

```
<UpdateParameters>                            
<asp:Parameter Name="bookingScheduleID" Type="Int32" />
<asp:ControlParameter Name="Status" ControlID="APPROVE"  Type="Int32" />
<asp:ControlParameter Name="Status" ControlID="REJECT"  Type="Int32" />
</UpdateParameters> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T06:40:27.403

您是否尝试过使用ImageButton的[CommandArgument 属性？](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.imagebutton.commandargument.aspx)

来自 MSDN：

> 有时，多个 ImageButton 控件是相关的并共享相同的 CommandName 属性值，例如 Sort。使用此属性可使用有关要执行的命令的附加信息（例如升序）来补充 CommandName 属性。CommandName 和 CommandArgument 属性的值通常用于 OnCommand 事件处理程序，以确定单击 ImageButton 控件时要执行的操作。

```
<asp:ImageButton id="imagebutton1" runat="server"
       AlternateText="Sort Ascending"
       ImageUrl="images/pict.jpg"
       OnCommand="ImageButton_Command"
       CommandName="Sort"
       CommandArgument="Ascending"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:25:29.163

按钮在 html 中没有值，因此您不能在 ControlParameter 声明中使用它。一种解决方案是在表单上制作一个隐藏的文本框。让我们称之为“StatusType”。

```
<input type="hidden" name="StatusType" value="0"> 
```

现在，在每个按钮的“OnClientClick”中；将 StatusType 的值分配给 1 或 2（或任何您定义的状态代码）。

```
OnClientClick="if (!window.confirm('Are you sure you want to reject this booking?')) {
    return;
}
else {
    $('#StatusType').val(0);
}" 
```

然后在 ControlParameter 中使用“StatusType”。

```
<asp:ControlParameter Name="Status" ControlID="StatusType"  Type="Int32" /> 
```

# java - 使用axis2和apache的webservices连接

> ID：11008804
> 
> 赞同：2
> 
> 时间：2012-06-13T05:38:34.640
> 
> 标签：java, web-services, axis

我希望使用 apache、axis2 和 eclipse 在 java 中连接 web 服务。

在这里我收到以下错误：

```
[ERROR] Exception occurred while trying to invoke service method customerData
org.apache.axis2.AxisFault: namespace mismatch require http://ws.retailer.com found http://ws.retailer.com/
    at org.apache.axis2.rpc.receivers.RPCUtil.invokeServiceClass(RPCUtil.java:190)
    at org.apache.axis2.rpc.receivers.RPCMessageReceiver.invokeBusinessLogic(RPCMessageReceiver.java:117)
    at org.apache.axis2.receivers.AbstractInOutMessageReceiver.invokeBusinessLogic(AbstractInOutMessageReceiver.java:40)
    at org.apache.axis2.receivers.AbstractMessageReceiver.receive(AbstractMessageReceiver.java:110)
    at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:181)
    at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:172)
    at org.apache.axis2.transport.http.AxisServlet.doPost(AxisServlet.java:146)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:680) 
```

如何清除这些错误。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:42:27.273

错误消息说明了一切：

```
org.apache.axis2.AxisFault: namespace mismatch require http://ws.retailer.com found http://ws.retailer.com/ 
```

一个 URL 有一个尾部反斜杠，另一个没有。

您可以配置您的服务器。这是“Apache re-writes”的文档：

[http://httpd.apache.org/docs/2.0/mod/mod_dir.html](http://httpd.apache.org/docs/2.0/mod/mod_dir.html)

更简单，只需确保您的端点与 URL 完全匹配。

# asp.net - ASP.NET 在批处理过程中处理 ajax 请求

> ID：11008809
> 
> 赞同：1
> 
> 时间：2012-06-13T05:38:51.583
> 
> 标签：asp.net

我有一个 ab asp.net 表单，它在回发（按钮单击）上进行了几分钟的处理。我知道这并不理想，但我不能在异步线程中运行这个过程，因为它使用了一个处于仅 Reqd 模式的控制报告查看器非主线程。

鉴于此过程正在进行中的限制，我想在客户端显示状态。为此，我可以向服务器发出 Ajax 请求以获取处理状态。但由于会话的 ASP.NET 主线程正忙于使用 reportviewer 控件呈现报告，因此 Ajax 请求只需等待所有处理结束。有什么方法可以定期放弃和重新获得对主线程的控制权。我们可以让它回复任何 ajax 请求。

我已经研究这个问题一段时间了。我只需要使用 ReportViewer 控件在后台呈现一组报告并在客户端提供反馈

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T06:08:18.003

这是没有意义的。来自浏览器的新 AJAX 调用可以并且将由线程池中的任何可用线程提供服务。

你是如何发布表格的？您必须使用 AJAX 请求开始该过程以生成报告，否则浏览器将锁定等待从普通表单发布的返回。这将禁止进行额外的客户端调用来检查状态。

# php - PHPUnit，覆盖报告显示非代码行未被覆盖？

> ID：11008812
> 
> 赞同：1
> 
> 时间：2012-06-13T05:39:05.030
> 
> 标签：php, phpunit

我有一个很有趣的单元测试。测试通过了，但是代码覆盖率报告显示了一个特定的行，它是一个注释，没有被覆盖，这会影响代码覆盖率统计：

![在此处输入图像描述](../Images/6a62cd043dc3f6151c65f8906e9a2a2c.png)

被测试类的定义如下：

```
class User implements UserInterface, \Serializable 
```

当我删除**, \Serializable**部分时，问题消失了，但是我的代码会以其他方式中断，这不是解决方案。

有谁知道为什么会发生这种情况？

```
phpunit --version 
```

**塞巴斯蒂安伯格曼的 PHPUnit 3.6.11。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:00:41.523

看起来像 PHPUnit 令牌流解析器中的一个错误，并且该行为绝对不是预期的。

我不认为您可以通过创建错误报告来做更多的事情。

# objective-c - 如何解除分配在我的头文件中声明的静态变量？

> ID：11008816
> 
> 赞同：1
> 
> 时间：2012-06-13T05:39:21.057
> 
> 标签：objective-c

我有一个 -dealloc() 方法，我假设我可以用它来释放实例变量，我有另一个不在实例中的变量，而是一个类级别的变量，想知道我何时以及如何释放这个？我不能在实例方法 dealloc() 中做到这一点，对吗？下面的代码供参考（关于变量：levelHash）：

```
@interface Level : CCNode 
    { 
        //Instance variables
        PlayBackgroundLayer* playBGLayer;
        PlayTilemapLayer* playTilemapLayer;
        PlayUILayer* playUILayer;
        PlayElementLayer* playElementLayer;
    }
    //Property declarations for instance variables
    @property (nonatomic, retain) PlayBackgroundLayer* playBGLayer;
    @property (nonatomic, retain) PlayTilemapLayer* playTilemapLayer;
    @property (nonatomic, retain) PlayUILayer* playUILayer;
    @property (nonatomic, retain) PlayElementLayer* playElementLayer;

    //Static methods
    +(void) Initialize: (NSString*) levelReference;
    +(void) InitLevel: (NSString*) levelReference;
    +(Level*) GetCurrentLevel;
@end

//static variables
NSMutableDictionary *levelHash; 
```

和我的实现：

```
+(void) Initialize: (NSString*) levelReference 
{
    levelHash = [[NSMutableDictionary alloc] init];
    [levelHash setObject:NSStringFromClass([LevelOne class]) forKey:@"1"];
    //EG CALL IT [levelHash objectForKey:@"foo"];
    //WHEN DO I CALL THIS??? [levelHash release];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:42:19.147

在程序的整个生命周期内都不会释放类，因此发布该字典似乎没有多大意义。您的应用程序使用的所有内存在终止时都会被回收。如果需要，您可以为释放字典的类创建“拆卸”方法，就像创建自定义初始化方法一样。

（顺便说一下，它既不是类也不是静态变量；ObjC 没有类变量，并且缺少`static`关键字，它实际上是全局的。这就是为什么不需要担心泄漏的原因——全局变量也存在于程序的整个生命周期。

另外，你不应该把它放在你的头文件中，正如[我之前提到的](https://stackoverflow.com/a/11007105/603977)。导入此标头的每个文件都将重新定义它，这将导致链接器错误——您只能定义一次。）

# c++ - 是否可以检索 CWindow 的计时器信息？

> ID：11008822
> 
> 赞同：0
> 
> 时间：2012-06-13T05:40:09.413
> 
> 标签：c++, winapi, atl

我正在寻找一种方法来检索开发人员使用该`SetTimer`函数设置的超时值。

这是因为应该根据其价值采取不同的方法。

谢谢！

# ruby-on-rails - 错误的参数传递到 URL

> ID：11008824
> 
> 赞同：0
> 
> 时间：2012-06-13T05:40:30.477
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, erb

尝试链接到“user_annversary_path”并且正在传递不正确的周年纪念路径。user_id 是正确的（2）但 id（周年纪念日）应该是 1。

```
ActiveRecord::RecordNotFound in AnniversaryController#show

Couldn't find Anniversary with id=2
Rails.root: /Users/nelsonkeating/Desktop/ReminDeal

Application Trace | Framework Trace | Full Trace
app/controllers/anniversary_controller.rb:10:in `show'
Request

Parameters:

{"user_id"=>"2",
 "id"=>"2"} 
```

周年纪念控制器

```
 def show 
      @user = current_user
      @anniversary = Anniversary.find(params[:id])
    end 
```

查看触发传入的参数不正确的代码

```
<%= link_to "Anniversary", user_anniversary_path(@user) %> 
```

路线

```
 resources :users do
      resources :anniversary
    end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T06:24:14.633

对于`user_anniversary_path`，您需要传入*两个*参数：一个`User`对象（或表示`User`对象的 id）和一个`Anniversary`对象（或表示`Anniversary`对象的 id）。例如，您可以这样做：

```
user_anniversary_path(User.first, Anniversary.first) 
```

或这个：

```
user_anniversary_path(1, 2) 
```

对象的在哪里，并且`1`是对象的。我真的建议坚持将整个对象传递给此方法。`id``User``2``id``Anniversary`

当您尝试 Trent 的示例时它失败的原因是因为`@anniversary`在您调用该路由助手的操作中为零。请注意这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:01:07.693

周年纪念日是否嵌套在您的 routes.rb 中的用户中？如果是这样，请尝试与用户一起传递周年纪念日。

```
<%= link_to "Anniversary", user_anniversary_path(@user, @anniversary) %> 
```

另外，为什么不直接从视图中传入 current_user 呢？它是不可访问的吗？

```
<%= link_to "Anniversary", user_anniversary_path(current_user, @anniversary) %> 
```

有关详细信息，请参阅[http://guides.rubyonrails.org/routing.html#nested-resources 。](http://guides.rubyonrails.org/routing.html#nested-resources)

# android - 在 Android 中通过 simplexml 解析资源 ID

> ID：11008825
> 
> 赞同：1
> 
> 时间：2012-06-13T05:40:44.840
> 
> 标签：android, android-resources, simple-framework

在我的 Android 应用程序中，我需要像这样解析 xml：

```
<items>
    <item title="@string/item1" />
    <item title="@string/item2" />
</items> 
```

我想使用*simplexml*进行解析。

但我找不到任何关于解析属性中的资源 id 的信息。是否可以将标题属性解析为 int？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:45:43.823

是的，在 SAXparser 的[**startElement()**](http://developer.android.com/reference/org/xml/sax/ContentHandler.html#startElement%28java.lang.String,%20java.lang.String,%20java.lang.String,%20org.xml.sax.Attributes%29)中 ，您将有一个名为 attributes 的参数。

看这个**[例子](https://stackoverflow.com/questions/3778875/sax-xml-parsing-in-android)**

# ruby-on-rails - webistrano 替代品？

> ID：11008826
> 
> 赞同：7
> 
> 时间：2012-06-13T05:40:49.980
> 
> 标签：ruby-on-rails, ruby, deployment, webistrano

我们正在为我们的 Rails 部署寻找一个自动化的远程部署系统。Webistrano 有什么好的替代品吗？我们想先试用，然后选择最适合我们要求的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-15T09:25:43.200

Etsy 已经[开源](https://github.com/etsy/deployinator)了他们的[Deployinator](http://codeascraft.etsy.com/2010/05/20/quantum-of-deployment/)。它使用 Sinatra、Capistrano 和一点 PHP，但您可以从中部署任何东西。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-07T13:10:21.623

[Strano](https://github.com/joelmoss/strano) - 用于 Capistrano 部署的 GitHub 支持的 Web UI。也适用于非 GitHub 项目。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-02-27T15:14:47.373

经过长时间的搜索，我开始构建 Gunnery - 一个真正的、现代的[webistrano 替代品](http://eyjafjallajokull.github.io/gunnery/)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-03T10:20:26.397

我不知道它是否仍然相关，但我想提出一个不同的解决方案。我正在构建一个新的部署工具，它可以满足您的需求。我不打算在这里发送垃圾邮件，但是因为我正在构建可以帮助您的东西...

无论如何，看看这里[https://alessiosantocs.github.io/Captain](https://alessiosantocs.github.io/Captain)。我正在收集反馈，如果您有任何反馈，请告诉我。

# asp.net-mvc-3 - 如何在 mvc3 的控制器中启用和禁用 @html.textbox

> ID：11008831
> 
> 赞同：2
> 
> 时间：2012-06-13T05:41:17.900
> 
> 标签：asp.net-mvc-3

如何`@html.textbox`在 mvc3 中启用和禁用 in 控制器？

我的文本框代码：

```
@Html.TextBox("txtIden1") 
```

单击按钮后，如何禁用或启用控制器中的文本框。

我在控制器中编写了按钮单击事件代码，如下所示

```
@using(Html.BeginForm())
{
@Html.TextBox("txtCustomerFilter");
}

<button name="button" value="Submit">Save</button>&nbsp;
<button name="button" value="cancel">Cancel</button> 
```

控制器：

```
[AcceptVerbs(HttpVerbs.Post)]
public ActionResult Customer(string button,
         customer customerInsert, FormCollection formvalues)
{
  if(button == "Submit")
  {
    //Code
  }
  else
  {
    //Code
  }

  return View();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:57:37.780

我建议您使用视图模型：

```
public class CustomerViewModel
{
    public string Button { get; set; }
    public string Filter { get; set; }
    public bool Disabled { get; set; }

    ... some other properties that will represent the customer
        details
} 
```

接着：

```
public ActionResult Customer()
{
    var model = new CustomerViewModel();
    return View(model);
}

[HttpPost]
public ActionResult Customer(CustomerViewModel model)
{
    if(model.Button == "Submit")
    {
        model.Disabled = true;
        //Code
    }
    else
    {
        //Code
    }

    return View(model);
} 
```

然后有一个强类型视图：

```
@model CustomerViewModel
@using (Html.BeginForm())
{
    @Html.TextBoxFor(
        x => x.Filter, 
        Model.Disabled ? new { @readonly = readonly } : null
    )

    <button name="button" value="Submit">Save</button>
    <button name="button" value="cancel">Cancel</button>
} 
```

# c# - 从/到导航时将选中的项目保存在多选列表中

> ID：11008832
> 
> 赞同：0
> 
> 时间：2012-06-13T05:41:28.513
> 
> 标签：c#, windows-phone-7, xaml

我想保存已在多选列表中选中的项目，以便在从页面导航然后返回到选中的项目时可以显示在列表中。目前，当我在检查项目后导航离开然后返回多选列表项目页面时，未保存检查状态。到目前为止，我所拥有的如下

多选列表.xaml

```
<Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
        <ScrollViewer>
            <!--<toolkit:MultiselectList x:Name="ColorList" ItemsSource="{Binding}" Height="88" HorizontalAlignment="Left" VerticalAlignment="Top" >-->
            <toolkit:MultiselectList x:Name="ColorList" HorizontalAlignment="Left" VerticalAlignment="Top" Tap="ColorList_Tap">
                <toolkit:MultiselectList.ItemTemplate>
                    <DataTemplate>

                        <StackPanel Orientation="Horizontal" Margin="12,0,0,0" Grid.ColumnSpan="2">
                            <!--<Rectangle Fill="{Binding Brush}" Width="50" Height="50"/>-->
                            <CheckBox Background="{Binding Brush}"/>

                            <TextBlock Text="{Binding Name}" Margin="12,10,0,0"/>
                        </StackPanel>
                    </DataTemplate>
                </toolkit:MultiselectList.ItemTemplate>
            </toolkit:MultiselectList>
        </ScrollViewer> 
```

多选列表.xaml.cs

```
 public ColorListPage()
    {
        InitializeComponent();

        solidColorBrushList = new List<ColorItem>()
        {
            //Color Color = (Color)ColorConverter.ConvertFromString("#FFF0F8FF");

            new ColorItem { Brush = ColorHelper.ToSolidColorBrush("#FFF0F8FF"), Name = "alice blue" },
            new ColorItem { Brush = ColorHelper.ToSolidColorBrush("#FFFAEBD7"), Name = "antique white" },
            new ColorItem { Brush = ColorHelper.ToSolidColorBrush("#FF00FFFF"), Name = "aqua" },
            new ColorItem { Brush = ColorHelper.ToSolidColorBrush("#FF7FFFD4"), Name = "aquamarine" },
            new ColorItem { Brush = ColorHelper.ToSolidColorBrush("#FFF0FFFF"), Name = "azure" },  //dont translate!?

        };            

        this.ColorList.ItemsSource = solidColorBrushList;

       this.Loaded += new RoutedEventHandler(ColorListPage_Loaded);
    }

    void ColorListPage_Loaded(object sender, RoutedEventArgs e)
    {
        //show checkboxes when page is loaded
        this.ColorList.IsSelectionEnabled = true;
    }

    private void ColorList_Tap(object sender, System.Windows.Input.GestureEventArgs e)
    {
        DependencyObject tappedElement = e.OriginalSource as UIElement;
        MultiselectItem tappedItem = this.FindParentOfType<MultiselectItem>(tappedElement);
        ColorItem selectedItem = null;
        if (tappedItem != null)
        {
            // DataContext contains reference to data item
            selectedItem = tappedItem.DataContext as ColorItem;
        }

        if (selectedItem != null)
        {
            MessageBox.Show(selectedItem.Name + " Tapped");
        }
    }

    private T FindParentOfType<T>(DependencyObject element) where T : DependencyObject
    {
        T result = null;
        DependencyObject currentElement = element;
        while (currentElement != null)
        {
            result = currentElement as T;
            if (result != null)
            {
                break;
            }
            currentElement = VisualTreeHelper.GetParent(currentElement);
        }
        return result;
    } 
```

那么我将如何保存多选列表中项目的选中状态，以便如果用户导航离开然后返回页面，则显示这些选中的项目？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-12T17:49:26.537

您可以使用多选列表的`SelectedItems`属性来选择项目。如果您使用`SelectionChanged`列表上的事件，您可以更新视图模型中的列表以在离开页面时保存。使用[blend sdk](http://www.microsoft.com/en-us/download/details.aspx?id=3062)及其交互 dll，您也可以将事件绑定到视图模型中的命令。

```
<phone:PhoneApplicationPage
    <!-- the usual xmlns attributes -->
    xmlns:vm="clr-namespace:MyApplication.Presentation.ViewModels"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity">

    <phone:PhoneApplicationPage.DataContext>
        <vm:MyPageViewModel />
    </phone:PhoneApplicationPage.DataContext>

    <toolkit:MultiselectList x:Name="selectionlist" ItemsSource="{Binding Items}">
        <i:Interaction.Triggers>
            <i:EventTrigger EventName="SelectionChanged">
                <i:InvokeCommandAction
                   Command="{Binding UpdateSelectedCommand}"
                   CommandParameter="{Binding ElementName=selectionlist, Path=SelectedItems}"/>
            </i:EventTrigger>
            <i:EventTrigger EventName="Loaded">
                <i:InvokeCommandAction
                   Command="{Binding LoadCommand}"
                   CommandParameter="{Binding ElementName='selectionlist'}"/>
            </i:EventTrigger>
        </i:Interaction.Triggers>
        <toolkit:MultiselectList.ItemTemplate>
            <DataTemplate>
                <TextBlock Text="{Binding Name}"/>
            </DataTemplate>
        </toolkit:MultiselectList.ItemTemplate>
    </toolkit:MultiselectList>

</phone:PhoneApplicationPage> 
```

然后，在您的视图模型中，您可以像这样创建适当的命令和方法。

```
namespace MyApplication.Presentation.ViewModels {
    public sealed class MyPageViewModel : DependencyObject {
        private readonly ObservableCollection<ItemViewModel> items;
        private readonly RoutedCommand load;
        private readonly RoutedCommand saveCommand;
        private readonly RoutedCommand updateSelectedCommand;

        public MyPageViewModel() {
           items = new ObservableCollection<ItemViewModel>();

           load = new RoutedCommand<MultiselectList>(
                m => {
                    IEnumerable<Item> store = loadItems();
                    IEnumerable<Item> selected = loadSelectedItems();
                    populateSelectionList(m, store, selected);
                });

           updateSelectedCommand = new RoutedCommand<IList>(setSelected);
           // use the savecommand on a button or a BindableApplicationBarButton
           // or execute the command when you're navigating away from the page
           saveCommand = new RoutedCommand<object>(o => storeItems(items));
        }

        public ICommand LoadCommand {
            get { return load; }
        }

        public ICommand UpdateSelectedCommand {
            get { return updateSelectedCommand; }
        }

        public ICommand SaveCommand {
            get { return saveCommand; }
        }

        private void populateSelectionList(MultiselectList list, IEnumerable<Item> storage, IEnumerable<Item> selected) {
            foreach (Item item in selected) {
                ItemViewModel viewModel = new ItemViewModel(item);
                list.SelectedItems.Add(viewModel);
                items.Add(viewModel);
            }
            foreach (string item in storage) {
                bool found = false;
                foreach (Item select in selected) {
                    if (select == item) {
                        found = true;
                        break;
                    }
                }
                if (!found) {
                    ItemViewModel viewModel = new ItemViewModel(item);
                    items.Add(viewModel);
                }
            }
        }

        private void setSelected(IList list) {
            // triggered when user selects or deselects an item in GUI
            foreach (ItemViewModel viewModel in items) {
                viewModel.IsSelected = false;
            }
            foreach (object item in list) {
                ItemViewModel item = (ItemViewModel)item;
                foreach (ItemViewModel tvm in items) {
                    if (tvm == item) {
                        tvm.IsSelected = true;
                        break;
                    }
                }
            }
        }

        private static void storeItems(IEnumerable<ItemViewModel> enumerable) {
            // get all selected items
            List<ItemViewModel> selected = new List<ItemViewModel>();
            foreach (ItemViewModel viewModel in enumerable) {
                if (viewModel.IsSelected) {
                    selected.Add(viewModel);
                }
            }
            // save selected items in storage
            saveSelectedItems(selected);
            // save enumerable (i.e. all items) in storage
            saveItems(enumerable);
        }

        private static void saveItems(IEnumerable<ItemViewModel> items) {
            // todo: save enumerable to storage
            foreach (ItemViewModel item in items) {
                //saveItem(item.Model);
            }
        }

        private static IEnumerable<Item> loadItems() {
            // todo: load from storage
        }

        private static void saveSelectedItems(IEnumerable<Item> items) {
            // todo: save selected to storage
        }

        private static IEnumerable<Item> loadSelectedItems() {
            // todo: load from storage
        }
    }
} 
```

注意待办事项。您需要存储和加载某些存储中的项目，例如文件。如果您想将其存储在文件中，请查看 IsolatedStorage。

例如，如果您在 google 上搜索，您会找到 RoutedCommand 类，为了简单起见，它被插入到下面。

Item 和 ItemViewModel 类是非常基础的，它们只是公开了显示项目所需的字段。

```
public class ItemViewModel : INotifyPropertyChanged {
    private Item model;

    public ItemViewModel(Item item) {
        model = item;
        item.PropertyChanged += (o,e) => onPropertyChanged(e.Property);
    }

    public bool IsSelected { get; set; }

    public string Name {
        get { return model.Name; }
        set { model.Name = value; }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    private void onPropertyChanged(string property) {
        PropertyChangedEventHandler handler = PropertyChanged;
        if (handler != null) {
            handler(this, new PropertyChangedEventArgs(property));
        }
    }
}

public sealed class Item : INotifyPropertyChanged {
    private string name;

    public string Name {
        get { return name; }
        set {
            if (name != value) {
                name = value;
                onPropertyChanged("Name");
            }
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    private void onPropertyChanged(string property) {
        PropertyChangedEventHandler handler = PropertyChanged;
        if (handler != null) {
            handler(this, new PropertyChangedEventArgs(property));
        }
    }
} 
```

如果您愿意，可以将 RoutedCommand 类放在单独的命名空间中，并将其包含在您的 xaml 文件和使用语句的视图模型中。

```
public class RoutedCommand<TArg> : ICommand {
    private readonly Action<TArg> execute;
    private readonly Func<TArg, bool> canexecute;

    public RoutedCommand(Action<TArg> execute) : this(execute, o => true) { }

    public RoutedCommand(Action<TArg> execute, Func<TArg, bool> canexecute) {
        this.execute = execute;
        this.canexecute = canexecute;
    }

    public bool CanExecute(object parameter) {
        return canexecute((TArg)parameter);
    }

    public void Execute(object parameter) {
        if (CanExecute(parameter)) {
            execute((TArg)parameter);
        }
    }

    public event EventHandler CanExecuteChanged;
} 
```

# php - 如何使用正则表达式提取包含在 CDATA 之间的字符串部分？

> ID：11008835
> 
> 赞同：1
> 
> 时间：2012-06-13T05:42:10.827
> 
> 标签：php, regex

如何使用 php 提取包含在 CDATA 标记中的字符串？例如我有

```
$str = "<![CDATA[this is my text]]>"; 
```

使用正则表达式如何提取字符串“这是我的文本”？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T05:47:13.900

您可以使用这个正则表达式`/<!\[CDATA\[(.*?)\]\]>/`：：

```
$str = "<![CDATA[this is my text]]>";

$matches = array();
preg_match('/<!\[CDATA\[(.*?)\]\]>/', $str, $matches);
echo $matches[1]; // this is my text 
```

正则表达式查找`<![CDATA[`后跟任何字符，直到`]]>`遇到第一个字符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T05:52:34.530

如果您的字符串始终以开头`<![CDATA[`和结尾，`]]>`则可以使用 substr()

```
$str = "<![CDATA[this is my text]]>";
$output = substr($str,9,strlen($str)-12);
echo $output; 
```

# perl - 这种非分叉 Perl 超时方法安全吗？

> ID：11008838
> 
> 赞同：2
> 
> 时间：2012-06-13T05:42:25.073
> 
> 标签：perl, timeout

我有一个调用其他几个函数的函数，例如

```
sub do_work {
    send_mail();
    send_soap_envelope();
    send_rpc();
} 
```

被调用的函数可能会挂起，所以我想在超时后停止它们。我想避免分叉，因为它在我的上下文中很昂贵（例如，每次分叉后都需要重新创建数据库句柄）。我想出了以下方案：

```
sub timeout {
    my ($code) = @_;
    eval {
        alarm 2;
        local $SIG{ALRM} = sub { die 'timeout' };
        &$code;
        alarm 0;
    };
    # handling of $@ eq 'timeout' removed for brevity
}

sub do_work {
    timeout \&send_mail;
    timeout \&send_soap_envelope;
    timeout \&send_rpc;
}; 
```

该`timeout()`函数（在此示例中硬编码为 2 秒超时）使用`eval`块作为中止使用`die`.

这在我的测试场景中工作得很好，但是我对如果在`die`Perl 解释器不处于“安全状态”时中断有效负载函数会发生什么感到不安，例如，当它正在处理 XS 子例程时。我的直觉对吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T05:59:58.277

从 5.8.1 开始，Perl 使用“安全信号处理”。它不会将您的信号处理程序提供给系统，而是提供安全的信号处理程序。这个安全的信号处理程序只是简单地记录一个信号被接收并返回。在执行 Perl 操作码之间，解释器检查是否接收到任何信号，如果有则调用您的信号处理程序。

这意味着信号不会在长操作的中间得到处理，例如长 XS 调用或长正则表达式匹配。信号会中断大多数系统调用，因此如果您处于阻塞系统调用的中间（例如，等），您的信号处理程序将在信号进入后不久`sleep`被`read`调用

```
alarm(2);
my $s = time;
$SIG{ALRM} = sub {
   my $e = time;
   print $e-$s, "\n";  # 6, not 2.
};
('a' x 25) =~ /a*a*a*a*a*a*a*a*a*(?:b|c)/; 
```

* — 为了加快程序的速度，现在检查的频率有所降低，但您应该不会注意到差异。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T17:44:29.883

它*不太*安全，因为它`alarm()`在安装`SIGALRM`处理程序之前调用。交换`local $SIG{ALRM}`和`alarm`线，应该会有很大的改进。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:08:05.703

好的，现在我看到它[`perldoc -f alarm`](http://perldoc.perl.org/functions/alarm.html)提到了我的确切用例：

> 如果你想使用“alarm”来让系统调用超时，你需要使用“eval”/“die”对。

（后面是示例代码。）

# jquery - mousemove 在打开的图层上

> ID：11008841
> 
> 赞同：3
> 
> 时间：2012-06-13T05:42:38.327
> 
> 标签：jquery, openlayers

有人知道如何在 openlayers 中使用这个 onmousemove 事件吗？

```
$('#map')[0].onmousemove = (function() {
    var onmousestop = function() {
        $('#tooltip').fadeIn(500);
    }, thread;

    return function() {
        $('#tooltip')
            .css('top', e.pageY + offsetY)
            .css('left', e.pageX + offsetX);
        $('#coor').val(e.pageX + ' - ' + e.pageY);
        $('#tooltip').fadeOut(500);
        clearTimeout(thread);
        thread = setTimeout(onmousestop, 500);
    };
})(); 
```

我想将上面的代码作为一个事件添加到我的开放层上。我在这里有一个工作示例。

```
map.events.register('mouseout', map, function (e) {
    $('#tooltip').remove();
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T06:53:10.430

OL 中的地图对象支持多种类型的事件。

这是列表（[http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Map-js.html](http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Map-js.html)）

```
preaddlayer ==> triggered before a layer has been added.  
addlayer ==> triggered after a layer has been added. 
preremovelayer ==> triggered before a layer has been removed.  
removelayer ==> triggered after a layer has been removed. 
changelayer ==> triggered after a layer name change, order change, opacity change, params change, visibility change (due to ==> resolution thresholds) or attribution change (due to extent change).  
movestart ==> triggered after the start of a drag, pan, or zoom
move ==> triggered after each drag, pan, or zoom
moveend ==> triggered after a drag, pan, or zoom completes
zoomend ==> triggered after a zoom completes
mouseover ==> triggered after mouseover the map
mouseout ==> triggered after mouseout the map
mousemove ==> triggered after mousemove the map
changebaselayer ==> triggered after the base layer changes 
```

你为什么不将这些事件与类似的东西一起使用：

```
map.events.register('move', map, function (e) {
    $('#tooltip')
            .css('top', e.pageY + offsetY)
            .css('left', e.pageX + offsetX);
    $('#coor').val(e.pageX + ' - ' + e.pageY);
});

map.events.register('movestart', map, function (e) {
    $('#tooltip').fadeIn(500);
});

map.events.register('moveend', map, function (e) {
    $('#tooltip').fadeOut(500);
}); 
```

# sencha-touch - sencha 运行时不更新面板中的列表

> ID：11008844
> 
> 赞同：0
> 
> 时间：2012-06-13T05:42:55.487
> 
> 标签：sencha-touch, sencha-touch-2

我有两个面板。当我单击左侧面板项目时，其调用 Web 服务并填充右侧面板，同时将右侧面板中的项目数更新为单击的左侧面板项目。第一次更新左侧面板项目，但是当我单击另一个左侧面板项目时，它不会再次更新左侧面板项目。它只是第一次更新。

我的代码是：

```
 onInboxListTap:function (dataview, index, item, record) {
    console.log('Inside onInboxListTap function');
    var queuestore = dataview.getStore();
    var rec = queuestore.getAt(index);
    console.log(rec.data.workSetName);
    var store = Ext.getStore('InboxWorkitemStore');
    store.clearData();                        //Function  To clear WorkitemStore
    //creating object of InboxQueueServices class
    var inboxQueueServiceObject =
    Ext.create('InfoImage.common.services.InboxQueueServices', {   
        config:{
            scope:this

        }
    }, this.onQueueContentRetrievalSuccess, this.onQueueContentRetrievalFailure());
    // calling loadQueueContent function to load queue contents
    inboxQueueServiceObject.loadQueueContent(rec.data.workSetName);

  },
 //To call Function onQueueContentRetrievalSuccess after loadQueueContent successful
  onQueueContentRetrievalSuccess:function () {

    console.log('Inside onQueueContent Retrieval Success function');

    var store = Ext.getStore('InboxWorkitemStore');               
    //Getting componenet queueDetails list
    var inboxWorkitemList = Ext.getCmp('inboxWorkitemList'); 
    var queueDetails = Ext.getCmp('queueDetails');
    var queueList = Ext.getCmp('queuelist');                  //Getting component list
    var queueViewPanel = Ext.getCmp('queueViewPanel');        //Getting queueViewPanel
    queueDetails.setStore(store);
      store.sync();
    var queueCount = store.getCount();                        
    if (queueCount > 0) {
        var queueItem = store.getAt(0);
        var queueStore = queueList.getStore();
              queueStore.each(function (record) {
               if (record.get('workSetName') == queueItem.get('sourceWorkstep')) {
                record.data.queueName = queueItem.get('sourceWorkstep') + '(' +   
                queueCount + ')';

            }
        });

         queueList.setStore(queueStore);
        queueStore.sync();
        queueList.getStore().each(function (record) {
            console.log('queueList:' + record.data.queueName);
        });
      console.log('store UPDATED');
    }
    queueList.refresh();
    console.log('store count: ' + store.getCount());
    console.log(queueDetails);
    // navigates the panel
    queueViewPanel.animateActiveItem(
        inboxWorkitemList, {
            type:'slide',
            direction:'up',
            duration:250
        });

}, 
```

请在这个问题上帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T10:46:39.670

我必须为此设置记录，我解决它。

```
 queueStore.each(function (record) {
               if (record.get('workSetName') == workitem.get('sourceWorkset')) {
                record.data.queueName = workitem.get('sourceWorkset')
                    + '(' + queueCount + ')';
                // queueStore.updateRecord(record.data.queueName);
                record.set(record.data.queueName);
            }
        }); 
```

# .net - vb.net 中的 Dll 和 Exe.local 文件

> ID：11008848
> 
> 赞同：1
> 
> 时间：2012-06-13T05:43:22.653
> 
> 标签：.net, vb.net

我的应用程序使用第 3 方 dll。如果我`myapp.exe.local`从我的应用程序目录中删除文件，并且某些使用相同 dll 的不同版本的应用程序将被注册或在 system32 目录中，我的应用程序会成功运行吗？将使用哪个 dll？

哪个目录将获得偏好 - 本地应用程序目录或已注册或 system32？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T07:23:56.313

app.exe.local 文件解决了 COM 服务器的 DLL Hell 问题。其中在注册表中有一个键，指定 DLL 的位置。该密钥是通过一个 guid，即 coclass 的 CLSID 找到的。HKLM\Software\Classes\CLSID 包含 guid。

COM 的一个硬性要求是，当您对服务器代码进行重大更改时，必须更改 guid。然而，这经常被跳过，它会导致痛苦，因为更改 guid 还需要重新编译使用该组件的应用程序。或者该更改是作为一个错误修复，非破坏性的，但仍然会导致另一个应用程序出现问题。

通过使用 app.exe.local 文件，您可以强制 COM 始终加载与 EXE 存储在同一文件夹中的 DLL，*而忽略*注册表中指定的路径。因此允许应用程序拥有*不同*版本的 DLL，即使注册表只能指定一个。因此，如果您删除该文件，很有可能您会立即破坏该应用程序，或者在另一个应用程序更新 DLL 时遭受 DLL Hell。

MSDN 文章[在这里](http://msdn.microsoft.com/en-us/library/windows/desktop/aa375142%28v=vs.85%29.aspx)。它的谷歌缓存在[这里](http://webcache.googleusercontent.com/search?q=cache%3aNFuTae2xRWYJ%3amsdn.microsoft.com/en-us/library/windows/desktop/aa375142%28v=vs.85%29.aspx%20&cd=1&hl=en&ct=clnk&gl=us)，MSDN 最近很糟糕。

# html - 输入的“for”属性不重定向到输入框

> ID：11008850
> 
> 赞同：5
> 
> 时间：2012-06-13T05:43:24.933
> 
> 标签：html

我有一个奇怪的 html 问题。

我有一个像这样的代码：

```
<label for="username">Username</label>
<input name="username" type="text"/> 
```

但是当我点击标签文本用户名时，我没有“重定向”到输入文本字段中。通过重定向，我的意思是闪烁的光标出现在输入字段内，我可以开始写作。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-13T05:47:19.950

因为 in 标签指的是一个 id：

```
<label for="username">Username</label>
<input name="username" id="username" type="text"/> 
```

更多：[http ://www.w3.org/TR/html401/interact/forms.html#h-17.9.1](http://www.w3.org/TR/html401/interact/forms.html#h-17.9.1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T05:46:16.617

文本框还需要一个 id 值，因此在文本框中使用一个值，如下所示：

```
<input name="username" id="username" type="text"/> 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-06-13T05:52:02.557

在标签中，您需要输入的 id 而不是名称，所以请提及输入 id

尝试这个...

```
 <label for="username">Username</label>
    <input id="username" type="text"/> 
```

希望它对你有用！

# c# - 是否可以在枚举中保存类型（使用“typeof()”）？

> ID：11008853
> 
> 赞同：61
> 
> 时间：2012-06-13T05:43:36.000
> 
> 标签：c#, types, enums, type-conversion

所以我在 XNA、C# 4.0 中创建一个游戏，我需要管理很多 PowerUps（在代码中都是从类“PowerUp”继承的），并处理我目前拥有的 PowerUps 的后端管理枚举 PowerupEffectType，为 PowerUp 的每个子类都有一个值。最终，在代码中，我需要将 PowerupEffectType 转换为 Powerup 类型（属于 class `Type`，通常使用 实现`typeof([class name])`）。

由于这是一个小组项目，我想尽可能地将 PowerupEffectType 的每个值与其对应的类 Type 结合起来，即：不只是期望我的其他程序员使用 switch 语句手动进行转换，并确保以后添加/扩展在尽可能少的地方进行尽可能少的更改。我有几个选项，到目前为止我发现的最好的方法是创建枚举伪方法，将所有内容压缩为一个 switch 语句（我想要的 99%），这要归功于我在这里找到的一些提示：[http ://msdn.microsoft.com/en-us/library/bb383974.aspx](http://msdn.microsoft.com/en-us/library/bb383974.aspx)

但我正试图更进一步 -**我可以保存 a`Type`吗`enum`？**我知道您可以将枚举保存为特定类型（链接：http: [//msdn.microsoft.com/en-us/library/cc138362.aspx](http://msdn.microsoft.com/en-us/library/cc138362.aspx)），但`Type`不是其中之一。当前的选择是*byte、sbyte、short、ushort、int、uint、long 和 ulong*。是否有任何可行的方法可以将转换 a 保存为`Type`上述任何数据类型并返回？

**为了清楚起见，这是我希望我能做的，我正在寻找一种方法：**

```
// (Assuming 'LightningPowerup', 'FirePowerup', and 'WaterPowerup' are
// all declared classes that inherit from a single base class)

public enum PowerupEffectType
{
    LIGHTNING = typeof(LightningPowerup),
    FIRE = typeof(FirePowerup),
    WATER = typeof(WaterPowerup)
} 
```

有什么办法可以做到这一点，还是我只是让一个已经完成 99% 的问题的解决方案过于复杂？

提前致谢！

* * *

## 回答 #1

> 赞同：93
> 
> 时间：2012-06-13T05:51:31.167

您不能将其作为枚举的*值*，但您可以在*属性*中指定它：

```
using System;
using System.Runtime.CompilerServices;

[AttributeUsage(AttributeTargets.Field)]
public class EffectTypeAttribute : Attribute
{
    public Type Type { get; private set; }

    public EffectTypeAttribute(Type type)
    {
        this.Type = type;
    }
}

public class LightningPowerup {}
public class FirePowerup {}
public class WaterPowerup {}

public enum PowerupEffectType
{
    [EffectType(typeof(LightningPowerup))]
    Lightning,
    [EffectType(typeof(FirePowerup))]
    Fire,
    [EffectType(typeof(WaterPowerup))]
    Water
} 
```

然后，您可以在执行时通过反射提取这些属性值。但是，我*个人*只会创建一个字典：

```
private static Dictionary<PowerupEffectType, Type> EffectTypeMapping =
    new Dictionary<PowerupEffectType, Type>
{
    { PowerupEffectType.Lightning, typeof(LightningPowerup) },
    { PowerupEffectType.Fire, typeof(FirePowerup) },
    { PowerupEffectType.Water, typeof(WaterPowerup) }
}; 
```

无需特殊属性，无需使用繁琐的反射代码提取值。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-06-13T06:09:36.923

这不正是你所要求的。我发现 Jon 的属性方法是最好的。但是为什么不将它包装在扩展方法中呢？

```
public Type GetPowerupEffectType(this PowerupEffectType powerEffect)
{
    switch (powerEffect)
    {
        case LIGHTNING:
            return typeof(LightningPowerup);
        case FIRE:
            return typeof(FirePowerup);
        case WATER:
            return typeof(WaterPowerup);
        default:
            return default(Type);
    }
} 
```

并称之为：

```
PowerupEffectType e = PowerupEffectType.WATER;
var t = e.GetPowerupEffectType(); 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2012-06-13T06:04:08.643

这样的事情怎么样？

您获得了使用枚举所做的类型安全性，以及到 Type 的隐式转换

```
public class PowerupEffectType
{
    private readonly Type _powerupType;

    public static implicit operator Type(PowerupEffectType powerupEffectType)
    {
        return powerupEffectType._powerupType;
    }

    private PowerupEffectType(Type powerupType)
    {
        _powerupType = powerupType;
    }

    public static readonly PowerupEffectType LIGHTNING = new PowerupEffectType(typeof(LightningPowerup));
    public static readonly PowerupEffectType FIRE = new PowerupEffectType(typeof(FirePowerup));
    public static readonly PowerupEffectType WATER = new PowerupEffectType(typeof(WaterPowerup));
} 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2012-06-13T05:51:57.170

你可以使用一个`static Dictionary<PowerupEffectType, Powerup>`. 我相信这将是你正在寻找的那种“婚姻”。它将允许轻松枚举和访问。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-13T05:45:09.393

您只能使用 Microsoft 文档中的数字类型。默认情况下，枚举中每个元素的基础类型是 int。您可以使用冒号指定另一个整数类型，如前面的示例所示。有关可能类型的完整列表，请参阅枚举。[**参考：枚举类型**](http://msdn.microsoft.com/en-us/library/cc138362.aspx)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-13T10:17:45.723

对不起，我不太明白这一点，你到底想达到什么目的；你能给出代码摘录吗？我不确定为什么你不能在这里只使用继承，而枚举给你的类型继承却没有。对我来说，感觉就像你在提出解决方案而不是问题，我可能完全错了，你能澄清一下你打算如何使用这些元信息吗？

我很困惑，您是在要求告诉您类型/类的实例类型的东西吗？您可以使用枚举来存储您所说的每种类型的类型列表，但您为什么要这样做呢？您说您不想让其他程序员使用 switch 语句，但是很抱歉，我看不到您将类型信息存储在...类型的某些枚举中会带来什么好处。每个实例都知道它是什么类型以及它可以做什么。

您将如何处理类型信息？如果这些类型都继承自一个基类型，那么大概它们具有可以在`abstract`方法中为任何特殊情况处理指定的通用功能，或者可能返回`Null Object`无事可做的地方（或者可能什么都不做）。这样您就不必担心添加新类 - 因为它们必须具有必要的行为。我尽量避免使用`Enum`s，除非在您实际枚举一组固定的任意值的情况下，它们是不灵活的。 `Enum`s 必须保持，这是非常困难的（在实践中）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-13T10:57:57.360

我实际上认为您可能想看看一个依赖注入框架。

看起来您正试图让其他开发人员在不同的组件上工作，然后您试图在最后将它们全部集成到代码库的一个中心位置。

几个项目要看：

*   [http://www.ninject.org/](http://www.ninject.org/)
*   [http://docs.structuremap.net/](http://docs.structuremap.net/)
*   [http://archive.msdn.microsoft.com/mef](http://archive.msdn.microsoft.com/mef)

# javascript - html中是否有“先加载标题，最后加载正文”之类的东西？

> ID：11008855
> 
> 赞同：1
> 
> 时间：2012-06-13T05:43:51.487
> 
> 标签：javascript, html, performance

据我所知，在加载网页时，总是先加载标题，然后再加载正文（从上到下的方法）。但是当人们问他们想先加载标题和最后加载正文时，这让我感到困惑？

在这里，我实际上并没有得到他们想要的东西。是否有一些概念首先加载页面的某些部分，最后加载页面的某些部分？

请帮助我理解这个概念。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:56:00.540

## 第一次尝试

可能你在问**[AJAX](http://en.wikipedia.org/wiki/AJAX)**

这项技术让

> “......首先加载页面的某些部分，最后加载页面的某些部分？”</p>

## 第二次尝试

如果你的问题是

> “是否可以先加载或最后加载网页的特定部分以提高网页的性能？”</p>

雅虎[将脚本放在底部](http://developer.yahoo.com/performance/rules.html#js_bottom)

**是**的，您可以将所有脚本包含在底部（很早之前`</body>`）。这个技巧让浏览器更快地呈现页面（向最终用户读取性能改进），因为在这种情况下浏览器不会等待加载页面中的所有脚本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:56:19.743

**简短的回答：**不。

**长答案：**我假设有问题的人的意思是“*确保在页面内容加载之前加载外部资源。* ”您可以使用 JavaScript 执行此操作，但这并不总是一个好主意。人们通常非常讨厌盯着空白页看超过一两秒。

# c - 阶乘尾随零，错误？

> ID：11008870
> 
> 赞同：-1
> 
> 时间：2012-06-13T05:46:13.497
> 
> 标签：c

```
 #include<math.h>
   #include<stdio.h>
   int main()
   {
       long i,j[100000],k,l,T,a,n[100000],c,sum=0,m;
       scanf("%ld\n", &T);
       for(c=1; c<=T; c++)
       {
           n[c] = 0;
       }
       for(i=1; i<=T; i++)
       {
           scanf("%ld", &j[i]);
           printf(" \n");
       }
       for(k=1; k<=T ; k++)
       {
           for(l=1; j[k]>pow(5,l); l=l+15);
           a=l++;
           n[k] = j[k];
           while(a>0)
           {
               n[k] = n[k]/pow(5,l);
               sum = sum + n[k];
           }
           n[k] = sum;
       }
       for(m=1; m<=T; m++)
       {
           printf("%ld \n", &n[m]);
       }
       return 0;
   }
   long pow(long x,long y)
   {
       if(y==0)
           return 1;
       else
       return(x*pow(x,y-1));
   } 
```

错误：POW 的类型冲突

否则程序是否正确？这是程序语句输入

在输入的第一行有一个正整数 T（大约等于 100000）。它代表要跟随的数字的数量。然后有 T 行，每行正好包含一个正整数 N，1 <= N <= 1000000000。

输出

对于每个数字 N，输出包含单个非负整数 Z(N) 的单行。例子

样本输入：

```
6
3
60
100
1024
23456
8735373 
```

样本输出：

```
0
14
24
253
5861
2183837 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:50:14.907

`pow`定义在`math.h`其中您也在代码中定义。`pow`in `math.h`has signature:这`double pow(double x, double y)`导致了冲突。

使用`math.h` `pow`并删除您的版本。或者使用您实施的那个并删除`math.h`.

如果您正在使用您的版本`pow`in `gcc`use`-fno-builtin-pow`停止检测`pow`as builtin，以便使用您的版本`pow`。

# objective-c - 使用 UIImageWriteToSavedPhotosAlbum 控制图像质量

> ID：11008872
> 
> 赞同：0
> 
> 时间：2012-06-13T05:46:15.883
> 
> 标签：objective-c, image, cocoa-touch, uiimage

我正在使用如下代码将当前屏幕保存到照片库：

```
UIGraphicsBeginImageContext(self.view.bounds.size);
[self.view.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage* result = UIGraphicsGetImageFromCurrentImageContext();     
UIGraphicsEndImageContext();
UIImageWriteToSavedPhotosAlbum(result, nil,nil, nil); 
```

这可行，但质量看起来很像压缩的 JPG（并且保存的文件名采用标准 IMG_XXXX.JPG 格式），即使此代码中没有指定图像类型或其质量。有没有办法控制质量？即我可以将它保存为未压缩的 PNG 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T05:50:00.727

`UIImagePNGRepresentation()`您可以使用 for 的方法将其保存为 PNG `NSData`，执行以下操作：

```
....
UIImage* result = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
NSData* data =  UIImagePNGRepresentation ( result );
UIImage* pngImage = [UIImage imageWithData:data];
UIImageWriteToSavedPhotosAlbum(pngImage, nil, nil, nil); 
```

希望这可以帮助。

# mysql - 在数据库中存储有序列表的最佳方法？

> ID：11008876
> 
> 赞同：21
> 
> 时间：2012-06-13T05:46:32.950
> 
> 标签：mysql, database-design

在数据库中存储“有序列表”的最佳方式是什么，以便轻松完成更新（添加、删除和更改条目的顺序）？

考虑一个数据库，其中有一个用户和电影表。每个用户都有一个最喜欢的电影列表。

由于许多用户可以喜欢同一部电影，因此我将用户和电影制作为单独的表，并使用第三个表将它们连接起来，即 usermovies。

usermovies 包含用户的 id 和电影以及“订单号”。订单号用于为用户订购电影列表。

例如，用户 Josh 可能有以下列表：

1.  普罗米修斯
2.  黑衣人 3
3.  独裁者

用户 Jack 可能有如下列表：

1.  独裁者
2.  普罗米修斯
3.  战舰
4.  白雪公主与猎人

因此，他们分享了一些最爱，但不一定以相同的顺序。

我可以使用查询获取每个用户的电影 ID 列表：

```
SELECT movie_id FROM usermovies WHERE user_id =? ORDER BY order_number 
```

然后，使用有序的movie_ids，我可以使用另一个查询获取电影列表

```
SELECT name FROM movies WHERE id in (?,?,?) ORDER BY FIELD (id, ?,?,?) 
```

所以查询工作，但现在更新列表似乎真的很复杂 - 有没有更好的方法来存储这些信息，以便轻松获取用户 x 的电影列表、添加电影、删除它们并更改列表的顺序？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-13T21:17:40.350

如果您不是在寻找“上移/下移”之类的解决方案，然后默认添加到列表底部，这里还有一些提示：

可以像这样将新行插入特定位置：（在位置 3 插入）

```
UPDATE usermovies SET order_number = ordernumber + 1 
   WHERE ordernumber > 3 and user_id = ?;
INSERT INTO usermovies VALUES (?, 3, ?); 
```

你可以用类似的方式删除：（删除位置6）

```
DELETE usermovies WHERE order_numer = 6 and user_id=?;
UPDATE usermovies SET order_number = ordernumber - 1 
   WHERE ordernumber > 6 and user_id = ?; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-13T07:02:36.130

带有用于电影和用户之间关联属性的附加列的联结/链接表是实现与关联类的多对多关联的标准方法 - 所以你所做的似乎是正确的。

关于插入/更新/删除的易用性，每次执行插入/更新/删除时，您都必须管理整个关联（用户电影 FK 的所有行）。可能没有一种神奇/更简单的方法可以做到这一点。

话虽如此，您还需要在事务中运行这些操作，更重要的是，如果您的应用程序支持多用户，则在此联结表上有一个“版本”列。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-13T08:12:28.590

除了其他人所说的之外，重新排序现有收藏夹可以在单个 UPDATE 语句中完成，如此[处](https://stackoverflow.com/a/8142484/533120)所述。

链接的答案解释了两个项目的重新排序，但可以很容易地推广到任意数量的项目。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-13T05:51:40.120

要检索用户最喜欢的电影，您可以使用单个查询：

```
SELECT um.order_number, m.name FROM movies m
INNER JOIN usermovies um ON m.id = um.movie_id
WHERE um.user_id = ?
ORDER BY um.order_number 
```

`usermovies`要添加/删除喜欢的电影，只需在表中添加/删除相关记录。
要更改电影顺序，只需更改与用户相关`order_number`的表中的所有字段。`user_movies`

# javascript - 如何判断一个javascript变量的数据类型是数组？

> ID：11008878
> 
> 赞同：0
> 
> 时间：2012-06-13T05:46:38.713
> 
> 标签：javascript, object, types

我在下面尝试了三种方式，结果是右边的评论，困难是我不能将它与`Object`数据类型区别开来。我怎样才能得到它的数据类型`Array`，`String`但不是`Object`？

```
 var arr = [];
   console.log('type of arr', typeof arr); //objct
   console.log('instanceof array', arr instanceof Array); //true
   console.log('instanceof object', arr instanceof Object);  // true 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T05:51:19.103

这是一种技术：

```
> var arr = [];
> Object.prototype.toString.call(arr);
"[object Array]" 
```

它的作用是调用`toString`原型对象的方法，使用传入的任何内容作为`this`指针。有关此技术的更多信息，请[参阅`call`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call).

事实证明，您也可以使用此技术来确定其他对象类型：

```
> var func = function(){}
> Object.prototype.toString.call(func);
"[object Function]"

> var obj = {};
> Object.prototype.toString.call(obj);
"[object Object]" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-13T05:56:02.923

您可以为此使用 jQuery 的“isArray”函数

```
var arr1 =[];
alert(jQuery.isArray(arr1));  // true

var arr2 = new Array();
alert(jQuery.isArray(arr2));  // true

var obj = new Object();
alert(jQuery.isArray(obj));   // false 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-17T01:56:18.667

我在 MDN 获得了这个信息 - 在 Javascript 版本 1.8.5 中添加了 Array.isArray，它是 ECMAScript 5 中的标准

```
// all following calls return true
Array.isArray([]);
Array.isArray([1]);
Array.isArray( new Array() );
Array.isArray( Array.prototype ); // Little known fact: Array.prototype itself is an array. 
```

此外，如果 isArray 不可用

```
if(!Array.isArray) {
  Array.isArray = function (vArg) {
    return Object.prototype.toString.call(vArg) === "[object Array]";
  };
} 
```

欲了解更多详情，请访问[MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/isArray)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T05:55:00.333

这很简单，你的问题确实是你的答案，

```
var arr = [];
if('instanceof object', arr instanceof Object){
    alert('arr is a object');
    if('instanceof array', arr instanceof Array){
        alert('arr is a Array');
    }
}​else{
    alert('this is not a object');
} 
```

现在让我们使用一个简单的变量 testObj，这甚至不是一个对象，那么它怎么可能是一个数组，

```
 var testObj;
    if('instanceof object', testObj instanceof Object){
      alert('testObj is a object');
    }else{
      alert('testObj is not a object');
    }
​ 
```

试试这个以获得[更多](http://jsfiddle.net/37Rc6/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-13T06:09:20.027

数组总是对象的实例 -`Object`是 javascript 中的基础对象，并且由 new 创建的任何另一个对象都继承自。

```
 new String('a') instanceof Object // true - also instance of String
 new Number(3) instanceof Object // true -also instance of Number etc.
 new Boolean(true) instanceof Object // true
 new Date instanceof Object // true
 new function(){} instanceof Object // true

 [] instanceof Object // true - [] is equal to new Array

 check this out: 
 Array = 1;
 [] //TypeError: Cannot read property 'slice' of undefined
 :) 
```

然而

```
'a' instanceof Object // false
 3 instanceof Object // false 
```

试试这个：

```
 var str = 'aaa',
     arr  = [],
     myClass = function(){},
     myClassInstance = new myClass;

 str.constructor == String // true
 arr.constructor == Array // true
 myClassInstance.constructor == myClass // true 
```

# jquery - 最简单的 getJSON 调用不起作用

> ID：11008879
> 
> 赞同：3
> 
> 时间：2012-06-13T05:46:43.573
> 
> 标签：jquery, cross-browser, getjson

似乎无法弄清楚下面简单的 getJSON 调用有什么问题。它在 FF12 中运行良好，但在 IE8 和 Chrome19 中运行良好。

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js">    </script>
<script type="text/javascript">
$(document).ready(function(){
$.getJSON('data.json',function(result){
    alert("success");
});
});
</script> 
```

请注意，以下在所有浏览器中都可以正常工作：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js">       </script>
<script type="text/javascript">
$(document).ready(function(){
       alert("success");
});
</script> 
```

所以，显然，getJSON 调用出了点问题。

有任何想法吗？

谢谢。

**更新：** 感谢 samy.vilar，我能够让它工作。以下是我更正的内容：-

1.  将文件托管到服务器（在本例中为 IIS 7）：要发出 AJAX 请求，文件必须托管在服务器上。我试图使用文件系统访问 data.json 。

2.  在 IIS 7 中添加了扩展 .json 的 MIME 类型。

做到了。虽然我仍然想知道当我们无法在没有托管的情况下完成 AJAX 请求时它在 FF 中是如何工作的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T06:00:42.063

由于 IIS 默认不支持 json 您可以尝试将 data.json 重命名为 data.html 这样 IIS 不会抱怨 ;) ...只需将 getJSON 更新为`$.getJSON('data.html,...`

如果您想启用 .json 文件扩展名，只需按照此说明进行操作。 `Open the properties for the server in IIS Manager and click MIME Types`
`Click "New". Enter "JSON" for the extension and "application/json" for the MIME type.`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:40:21.497

这与 D3.js 在本地加载 json 数据的问题相同。

D3.js 的补丁可以在这里找到：

[https://github.com/jasondavies/d3/commit/95b1eaaf68a1e75e6cf95b88d7e4bbc834b8489d](https://github.com/jasondavies/d3/commit/95b1eaaf68a1e75e6cf95b88d7e4bbc834b8489d)

正在应用的补丁使本地 json 数据正常工作。

我希望这些补丁也可以应用于 jquery-1.7.2

我在使用 jQuery-1.7.2 的 jQtouch b4 上遇到了同样的问题。使用 jQuery-1.3.2 的以前版本的 jQTouch b1 可以正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-18T20:09:20.667

如何在 ubuntu 中遵循以下说明？在 IIS 管理器中打开服务器的属性并单击 MIME 类型 单击“新建”。为扩展名输入“JSON”，为 MIME 类型输入“application/json”。

# node.js - 安装 xmldom 时出现 npm 错误

> ID：11008883
> 
> 赞同：0
> 
> 时间：2012-06-13T05:47:20.763
> 
> 标签：node.js, npm

我收到如下 npm 错误

> npm install xmldom
> npm http GET [https://registry.npmjs.org/xmldom](https://registry.npmjs.org/xmldom)
> 
> npm 错误！错误：连接 ECONNREFUSED
> npm ERR！在 errnoException (net.js:670:11)
> npm ERR！在 Object.afterConnect [as oncomplete] (net.js:661:19)
> npm ERR！
> npm 错误！如果您使用代理，请确保
> npm ERR! “代理”配置设置正确。请参阅：'npm help config'
> npm ERR！
> npm 错误！系统 Windows_NT 6.1.7601
> npm 错误！命令 "C:\Program Files (x86)\nodejs\\node.exe" "C:\Program File
> s (x86)\nodejs\node_modules\npm\bin\npm-cli.js" "install" "xmldom"
> npm呃！cwd C:\Users\panugasu
> npm ERR！节点 -v v0.6.18
> npm 错误！npm -v 1.1.21
> npm 错误！系统调用连接
> npm 错误！
> npm 错误！消息连接 ECONNREFUSED
> npm ERR！errno {}
> npm 错误！
> npm 错误！可以在以下位置找到其他日志记录详细信息：
> npm ERR！C:\Users\panugasu\npm-debug.log
> npm 不正常

但是使用相同的设置，其他模块的安装也很好，例如

> npm install xml2js
> npm http GET [https://registry.npmjs.org/xml2js](https://registry.npmjs.org/xml2js)
> npm http GET [https://registry.npmjs.org/sax](https://registry.npmjs.org/sax)
> xml2js@0.1.14 ./node_modules/xml2js
> └── sax@0.4.0

需要有关如何解决此问题的即时帮助...

以下是我访问网址[https://registry.npmjs.org/xmldom时得到的](https://registry.npmjs.org/xmldom)

> {"_id":"xmldom","_rev":"53-b06f4b669d712be646c86109995af18d","name":"xmldom","description":"W3C 标准 XML DOM(Level2 CORE) 实现和解析器(DOMParser/XMLSerializer)。 ","dist-tags":{"latest":"0.1.11"},"versions":{"0.1.0":{"name":"xmldom","version":"0.1.0", "description":"一个基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers": [{"name":"jindw","email":"jindw@xidea.org"}],"contributors":[],"bugs":{"email":"jindw@xidea.org","url":" [http://code.google.com/p/lite/issues/list](http://code.google.com/p/lite/issues/list) "},"licenses":[{"type":"LGPL","url": " [http://www.gnu.org/licenses/lgpl.html](http://www.gnu.org/licenses/lgpl.html) "}],"repositories":[{"type":"svn","url":" [http://lite.googlecode.com/svn /trunk/Lite/web/scripts/org/xidea/lite/util/xmlcom/svn/trunk/Lite/web/scripts/org/xidea/lite/util/xmlcom/svn/trunk/Lite/web/scripts/org/xidea/lite/util/xml](http://lite.googlecode.com/svn/trunk/Lite/web/scripts/org/xidea/lite/util/xml)"}],"implements":[],"dependencies":{},"engines":{"node":">=0.5"},"directories":{"lib":"./"}," main":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.0" ,"devDependencies":{},"_engineSupported":true,"_npmVersion":"1.1.0-alpha-2","_nodeVersion":"v0.6.3","_defaultsLoaded":true,"dist":{" shasum":"ccf582a2b3b9ada6dbde027d36ca8a3fdcdc3d2e","tarball":" [http://registry.npmjs.org/xmldom/-/xmldom-0.1.0.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.0.tgz) "}},"0.1.1":{"name":"xmldom ","版本":"0.1.1","description":"一个基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers": [{"name":"jindw","email":"jindw@xidea.org"}],"contributors":[],"bugs":{"email":"jindw@xidea.org","url “：” [http://code.google.com/p/lite/issues/list贡献者":[],"bugs":{"email":"jindw@xidea.org","url":" http://code.google.com/p/lite/issues/list贡献者":[],"bugs":{"email":"jindw@xidea.org","url":" http://code.google.com/p/lite/issues/list](http://code.google.com/p/lite/issues/list)"},"licenses":[{"type":"LGPL","url":" [http://www.gnu.org/licenses/lgpl.html](http://www.gnu.org/licenses/lgpl.html) "}],"repositories":[{"type" :"svn","url":" [http://lite.googlecode.com/svn/trunk/Lite/web/scripts/org/xidea/lite/util/xml](http://lite.googlecode.com/svn/trunk/Lite/web/scripts/org/xidea/lite/util/xml) "}],"implements":[], "依赖":{},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main":"./dom-parser.js ","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.1","devDependencies":{},"_engineSupported" :true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"bb091356c9a9d86a18bca88199deffc52c032e66","tarball":" [http://registry.npmjs.org/xmldom/-/xmldom-0.1.1.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.1.tgz)"}},"0.1.2":{"name":"xmldom","version":"0.1.2","description":"一个基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[],"bugs":{"email":"jindw@xidea.org","url":" [http://code.google.com/p/lite/issues /list](http://code.google.com/p/lite/issues/list) "},"licenses":[{"type":"LGPL","url":" [http://www.gnu.org/licenses/lgpl.html](http://www.gnu.org/licenses/lgpl.html)"}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main":"./dom-parser.js"," _npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.2","devDependencies":{},"_engineSupported":true, "_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"39bb0ccdc55d81d5906a2616c2fb024795ca9978","tarball":" [http://registry. npmjs.org/xmldom/-/xmldom-0。1.2.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.2.tgz)"}},"0.1.3":{"name":"xmldom","version":"0.1.3","description":"一个基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "} ,{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{""}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"devDependencies":{"wows":" *"},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main ":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.3", "_engineSupported":true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"0df9b4bc6c13e0cc8c02b87720cc26712be4f5d0","tarball":"[网址：//registry.npmjs.org/xmldom/-/xmldom-0.1.3.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.3.tgz)"}},"0.1.4":{"name":"xmldom","version":"0.1.4","description":"基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "} ,{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{""}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"devDependencies":{"wows":"* "},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main ":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.4", "_engineSupported":true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"f3d1ef1705ed502c73a0b52c2675161fb1c2319d","tarball":"[网址：//registry.npmjs.org/xmldom/-/xmldom-0.1.4.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.4.tgz)"}},"0.1.5":{"name":"xmldom","version":"0.1.5","description":"基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "} ,{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{""}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"devDependencies":{"wows":" *"},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main ":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.5", "_engineSupported":true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"ca8ddeb9252902c6e59ce1de0e0248a8bdc59157","tarball":"[网址：//registry.npmjs.org/xmldom/-/xmldom-0.1.5.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.5.tgz)"}},"0.1.6":{"name":"xmldom","version":"0.1.6","description":"一个基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "} ,{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{""}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"devDependencies":{"wows":"* "},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main ":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.6", "_engineSupported":true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"1e86209548bbaff7ccd8e7b0f441a8fbef551cd7","tarball":"[网址：//registry.npmjs.org/xmldom/-/xmldom-0.1.6.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.6.tgz)"}},"0.1.7":{"name":"xmldom","version":"0.1.7","description":"基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "} ,{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{""}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"devDependencies":{"wows":" *"},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main ":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.7", "_engineSupported":true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"c338f1cd9893a623d1603c0a7fea7df439a120b8","tarball":"[网址：//registry.npmjs.org/xmldom/-/xmldom-0.1.7.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.7.tgz)"}},"0.1.8":{"name":"xmldom","version":"0.1.8","description":"一个基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "} ,{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{""}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"devDependencies":{"wows":"* "},"engines":{"node":">=0.1"},"directories":{"lib":"./"},"main ":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.8", "_engineSupported":true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"fdffec08120fea390d6482a9f34e6d167cb8b207","tarball":"[网址：//registry.npmjs.org/xmldom/-/xmldom-0.1.8.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.8.tgz)"}},"0.1.9":{"name":"xmldom","version":"0.1.9","description":"一个基于 W3C 标准的 DOMParser 和 XMLSerializer (DOM Level2 CORE)。","keywords":["javascript","XML","DOM","DOMParser","XMLSerializer"],"maintainers":[{"name":"jindw","email":"jindw@xidea .org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "} ,{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{""}],"repositories":[{"type":"git","url":"git://github.com/jindw/xmldom.git"}],"implements":[],"dependencies" :{},"devDependencies":{"vows":"*"},"engines":{"node":">=0.1"},"directories":{"lib":"./"}," main":"./dom-parser.js","_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.9" ,"_engineSupported":true,"_npmVersion":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"d5831a5770541f69353b261c6adc88ccd1d12073","tarball": ” [http：](http://registry.npmjs.org/xmldom/-/xmldom-0.1.9.tgz)//registry.npmjs.org/xmldom/-/xmldom-0.1.9.tgz "}},"0.1.10":{"name":"xmldom","version":"0.1.10","description ":"一个 W3C 标准 XML DOM(Level2 CORE) 实现和解析器(DOMParser/XMLSerializer)。","keywords":["XML","DOM","parser","javascript","DOMParser","XMLSerializer "],"作者":{"姓名":"jindw","email":"jindw@xidea.org","url":"XML","DOM","parser","javascript","DOMParser","XMLSerializer"],"author":{"name":"jindw","email":"jindw@xidea.org","网址“：”XML","DOM","parser","javascript","DOMParser","XMLSerializer"],"author":{"name":"jindw","email":"jindw@xidea.org","网址“：”[http://www.xidea.org](http://www.xidea.org) "},"主页":" [https://github.com/jindw/xmldom](https://github.com/jindw/xmldom) ","re​​pository":{"type":"git","url":"git: //github.com/jindw/xmldom.git"},"main":"./dom-parser.js","scripts":{"test":"./test"},"engines":{" node":">=0.1"},"dependencies":{},"devDependencies":{},"maintainers":[{"name":"jindw","email":"jindw@xidea.org"} ],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com","url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "},{"name ":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https://github.com/nightwing](https://github.com/nightwing) "}],"bugs":{"email":"jindw@xidea.org","url":" [http: //github.com/jindw/xmldom/issues](http://github.com/jindw/xmldom/issues) "},"licenses":[{"type":"LGPL","url":" [http://www.gnu.org/licenses/lgpl.html](http://www.gnu.org/licenses/lgpl.html)"}],"_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.10","_engineSupported":true,"_npmVersion ":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"021f55b75f815ccfbbc59e1a7a40484ba100e234","tarball":" [http://registry.npmjs. org/xmldom/-/xmldom-0.1.10.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.10.tgz) "},"directories":{}},"0.1.11":{"name":"xmldom","version":"0.1.11"," description":"W3C 标准 XML DOM(Level2 CORE) 实现和解析器(DOMParser/XMLSerializer)。","keywords":["XML","DOM","parser","javascript","DOMParser","XMLSerializer"],"author":{"name":"jindw","email":"jindw@xidea.org","url":" [http://www.xidea.org](http://www.xidea.org) "} "主页":" [https://github.com/jindw/xmldom](https://github.com/jindw/xmldom)","re​​pository":{"type":"git","url":"git://github.com/jindw/xmldom.git"},"main":"./dom-parser.js", "scripts":{"test":"./test"},"engines":{"node":">=0.1"},"dependencies":{},"devDependencies":{},"maintainers": [{"name":"jindw","email":"jindw@xidea.org"}],"contributors":[{"name":"Yaron Naveh","email":"yaronn01@gmail.com" "url":" [http://webservices20.blogspot.com/](http://webservices20.blogspot.com/) "},{"name":"Harutyun Amirjanyan","email":"amirjanyan@gmail.com","url":" [https:// github.com/nightwing](https://github.com/nightwing) "},{"name":"bigeasy","email":"alan@prettyrobots.com","url":" [http://www.prettyrobots.com/](http://www.prettyrobots.com/) "}],"bugs":{"email":"jindw@ xidea.org","url":" [http://github.com/jindw/xmldom/issues](http://github.com/jindw/xmldom/issues) "},"licenses":[{"type":"LGPL","url":" [http://www .gnu.org/licenses/lgpl.html//www.gnu.org/licenses/lgpl.html//www.gnu.org/licenses/lgpl.html](http://www.gnu.org/licenses/lgpl.html)"}],"_npmUser":{"name":"jindw","email":"jindw@xidea.org"},"_id":"xmldom@0.1.11","_engineSupported":true,"_npmVersion ":"1.0.103","_nodeVersion":"v0.5.10","_defaultsLoaded":true,"dist":{"shasum":"d8227c85bdf5197ed9b5c9d12319e3bcdd6d2eac","tarball":" [http://registry.npmjs. org/xmldom/-/xmldom-0.1.11.tgz](http://registry.npmjs.org/xmldom/-/xmldom-0.1.11.tgz)"},"directories":{}}},"readme":null,"maintainers":[{"name":"jindw","email":"jindw@xidea.org"}],"time": {"0.1.0":"2012-01-06T09:49:42.641Z","0.1.1":"2012-01-10T07:18:18.313Z","0.1.2":"2012-02- 03T10:49:02.984Z","0.1.3":"2012-05-22T16:39:09.565Z","0.1.4":"2012-05-22T16:41:40.120Z","0.1.5 ":"2012-05-25T17:43:18.008Z","0.1.6":"2012-05-28T12:49:32.759Z","0.1.7":"2012-05-29T03:05:55.479 Z","0.1.8":"2012-05-29T13:30:02.006Z","0.1.9":"2012-06-08T06:18:02.555Z","0.1.10":"2012- 06-14T02:54:35.731Z","0.1.11":"2012-06-18T10:45:58.508Z"},"作者":{"姓名":"jindw","email":"jindw@xidea.org","url":" [http://www.xidea.org](http://www.xidea.org) "},"repository":{"type" :"git","url":"git://github.com/jindw/xmldom.git"}}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-23T05:50:51.697

您应该按照错误消息中的说明设置代理配置：

```
npm config set proxy <proxy address> 
```

# java - 有没有办法漂亮地打印 X509Certificate？

> ID：11008884
> 
> 赞同：10
> 
> 时间：2012-06-13T05:47:25.070
> 
> 标签：java, ssl, certificate

我有一个网页，其中显示了与服务器一起使用的 SSL 证书的详细信息。我认为 toString() 可能没问题，但它看起来像这样：

```
 [0]         Version: 3
         SerialNumber: 117262955582477610212812061435665386300
             IssuerDN: CN=localhost
           Start Date: Wed Jun 13 15:15:05 EST 2012
           Final Date: Tue Jun 08 15:15:05 EST 2032
            SubjectDN: CN=localhost
           Public Key: DSA Public Key
            y: 6ef96c2ace616280c5453dda2[TRUNCATED BY ME]

  Signature Algorithm: SHA1withDSA
            Signature: 302c021450b1557d879a25ccf6b89e7ac6de8dc6
                       0b13df7e0214559cdc810cdb1faa3a645da837cd
                       5efdeb81d62e
       Extensions: 
                       critical(true) 2.5.29.17 value = DER Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
```

我遇到的问题是扩展的模糊表示。我希望看到“subjectAltNames”和替代名称列表，就像我在查看证书信息时在我的网络浏览器中看到的那样。

有没有办法做到这一点？我的班级路径上有整个 BouncyCastle，所以我希望我能在那里找到它，但我似乎无法找到它。

最糟糕的是最糟糕的我知道我可以花时间自己整理所有的零碎，但我不知道我是否会错过某人可能希望在那里找到的扩展。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T04:38:39.797

用我自己的解决方案回答我自己的问题。

事实证明，这种糟糕的 toString() 输出只发生在使用 Sun 的 X509Certificate 实现时。使用 BouncyCastle 时，它​​看起来要好得多（或者至少更详细。）

事实证明，我们没有在页面呈现之前初始化 BC 的提供程序。初始化被延迟，直到我们想用它来实际生成证书，现在它是在 webapp 启动时完成的，toString() 看起来好多了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:55:42.727

标准 X509Certificate 类中几乎所有的“点点滴滴”都应该是可用的：

*   [http://docs.oracle.com/javase/6/docs/api/java/security/cert/X509Certificate.html](http://docs.oracle.com/javase/6/docs/api/java/security/cert/X509Certificate.html)

你应该能够很容易地格式化你想要的任何东西，无论你想要什么。您还可以访问和迭代“ [getIssuerAlternativeNames()](http://docs.oracle.com/javase/6/docs/api/java/security/cert/X509Certificate.html#getIssuerAlternativeNames%28%29) ”集合。

PS：

这是一个关于实现 X509Certificate 类的优秀链接：

*   [http://www.mayrhofer.eu.org/create-x509-certs-in-java](http://www.mayrhofer.eu.org/create-x509-certs-in-java)

这是来自使用 Bouncy Castle 的人的链接（解决方案还涉及上述链接）：

*   [使用 bouncycastle X509v3CertificateBuilder 生成 X509Certificate](https://stackoverflow.com/questions/9938079/generating-x509certificate-using-bouncycastle-x509v3certificatebuilder)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-20T14:17:35.530

尝试来自 BC Provider 的 PEMReader API

```
byte[] content = data.getBytes();
// create new buffered reader
PEMReader pemReader = new PEMReader(br, null);    
Object obj = pemReader.readObject(); 
```

一旦你打印了 obj 它会给你 toString 格式

# sql - 如何识别正确的行

> ID：11008887
> 
> 赞同：1
> 
> 时间：2012-06-13T05:48:01.273
> 
> 标签：sql

我有两张表，即价格表（表A）和订单记录（表B）

**表 A**

```
SKU Offer Date  Amt
AAA 20120115    22
AAA 20120223    24
AAA 20120331    25
AAA 20120520    28 
```

**表 B**

```
Customer   SKU  Order Date
A001       AAA  20120201
B001       AAA  20120410
C001       AAA  20120531 
```

我必须根据订单日期为每个客户检索正确的定价。预期的输出应该是这样的： -

```
Customer  SKU   Order Date  Amt
A001      AAA   20120201    22
B001      AAA   20120410    25
C001      AAA   20120531    28 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T06:02:34.533

左连接（或`NOT EXISTS`子查询）可用于确保两个表之间的连接使用价格表中日期为订单日期或之前的“最新”行。我假设这是您想要实现的表之间的关系：

设置：

```
create table Prices (
    SKU char(3) not null,
    OfferDate date not null,
    Amt int not null
)
go
insert into Prices (SKU, OfferDate,  Amt) values
('AAA','20120115',    22),
('AAA','20120223',    24),
('AAA','20120331',    25),
('AAA','20120520',    28)
go
create table Orders (
    Customer char(4) not null,
    SKU char(3) not null,
    OrderDate date not null
)
go
insert into Orders (Customer,   SKU,  OrderDate) values
('A001','AAA','20120201'),
('B001','AAA','20120410'),
('C001','AAA','20120531')
go 
```

询问：

```
select
    o.*, /* TODO - Explicit columns */
    p.Amt
from
    Orders o
        inner join
    Prices p
        on
            o.SKU = p.SKU and
            o.OrderDate >= p.OfferDate
        left join
    Prices p_later
        on
            o.SKU = p_later.SKU and
            o.OrderDate >= p_later.OfferDate and
            p_later.OfferDate > p.OfferDate 
where
    p_later.SKU is null 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:59:48.140

下一次，做你尝试过的东西....

无论如何，这是你的答案！尝试...

```
Select X.Customer , X.SKU , X.OrderDate , Y.Amt from B as X INNER JOIN A as Y ON X.Order Date= Y. Offer Date 
```

祝你好运...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T06:01:47.710

```
SELECT o.Customer, o.SKU, o.[Order Date],
  (SELECT TOP 1 l.Amt
   FROM PriceList l
   WHERE l.[Offer Date] <= o.[Order Date] AND o.SKU = l.SKU
   ORDER BY l.[Offer Date] DESC) AS Amount
FROM
Orders o 
```

根据数据库支持，有些事情可能会有所不同

# postgresql - 在 PostgreSQL 中获取下一个可用的 auto_increment ID - 更好的方法？

> ID：11008889
> 
> 赞同：6
> 
> 时间：2012-06-13T05:48:09.930
> 
> 标签：postgresql

我是 postgreSQL 的新手，所以非常感谢社区的任何指示。

我正在更新我刚刚继承的一个相当老的网站的 CMS 中的一些功能。基本上，在将文章插入数据库之前，我需要文章的 ID。无论如何在数据库会话（插入）开始之前检查序列将使用的下一个值吗？

起初我以为我可以使用`SELECT max(id) from tbl_name`，但是由于 id 是从序列中自动递增的，并且文章经常被删除，它显然不会为序列中的下一个值返回正确的 id。

由于文章还没有在数据库中，并且数据库会话还没有开始，所以我似乎无法使用`currval()`postgreSQL 的功能。此外，如果我使用`nextval()`它在插入数据之前自动递增序列（插入也会自动递增序列，最终序列会加倍递增）。

我目前解决它的方式如下：

```
function get_next_id()
{
    $SQL = "select nextval('table_id_seq')";
    $response = $this->db_query($SQL);
    $arr = pg_fetch_array($query_response, NULL, PGSQL_ASSOC);

    $id = (empty($arr['nextval'])) ? 'NULL' : intval($arr['nextval']);
    $new_id = $id-1;
    $SQL = "select setval('table_id_seq', {$new_id})";
    $this->db_query($SQL);

    return $id;
} 
```

我`SELECT nextval('table_id_seq')`用来获取序列中的下一个 ID。由于这增加了序列，然后我立即使用`SELECT setval('table_id_seq',$id)`将序列设置回其原始值。这样，当用户提交数据并且代码最终命中 INSERT 语句时，它会自动递增，并且插入之前和插入之后的 ID 是相同的。

虽然这对我有用，但我对 postgreSQL 并不太感兴趣，我想知道它是否会导致任何问题，或者它们是否不是更好的方法？有没有办法在不自动递增的情况下检查序列的下一个值？

如果有帮助，我正在使用 postgresql 7.2

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-11-08T18:04:19.103

伙计们 - 有理由在插入记录*之前获取 ID。*例如，我有一个应用程序将 ID 存储为插入另一个字段的文本的一部分。只有两种方法可以做到这一点。

1）无论采用何种方法，在插入之前获取 ID 以包含在我的 INSERT 语句中
2）INSERT，获取 ID（再次，无论如何（SELECT ...或来自 INSERT ... RETURNING id;）），更新包含 ID 的记录文本字段

许多评论和答案都假设 OP 做错了什么……这是……错误的。OP明确表示“基本上，在将文章插入数据库之前，我需要文章的ID”。*OP为什么*想要/需要这样做并不重要- 只需回答问题即可。

我的解决方案选择预先获取 ID；所以我会根据需要执行 nextval() 和 setval() 以达到我需要的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T08:02:24.303

免责声明：不确定 7.2，因为我从未使用过。

显然，您的 ID 列被定义为从序列中获取其默认值（可能是因为它被定义为`serial`虽然我不知道这在 7.x 中是否可用）。

如果删除默认值但保留序列，则可以`nextval()`在插入新行之前检索下一个 ID。

删除列的默认值将要求您在插入期间*始终*提供一个 ID（通过从序列中检索它）。如果您仍然这样做，那么我认为没有问题。如果您想同时满足这两种情况，请创建一个插入前触发器（7.x 有它们吗？），它检查 ID 列是否有值，如果没有，则从序列中检索新值，否则不要理会它。

但真正的问题是：为什么在插入之前需要 ID。您可以简单地将行发送到服务器，然后通过调用获取*生成的 id*`curval()`

但是再说一遍：您真的应该（我的意思是**真的**）与客户交谈以升级到 Postgres 的最新版本

# c++ - boost::format vs sprintf

> ID：11008891
> 
> 赞同：3
> 
> 时间：2012-06-13T05:48:16.457
> 
> 标签：c++, boost

哪个更好：`boost::format`还是`sprintf`？我也想知道哪一种更安全。

我知道`sprintf`它格式化`char[]`对象的一个​​限制，并且 的大小`char[]`应该足以容纳格式化的字符串。但`boost::format`也有同样的限制与否。任何人都可以在网上指出我的一个文档，我会参考 和 之间的`boost::format`区别`sprintf`。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T05:53:23.427

在健壮性和类型安全方面 boost::format 是明显的赢家。它没有缓冲区大小的问题，因为它使用动态流。参数的类型保留在函数调用中，因此格式化程序可以智能转换。这也意味着不存在用不匹配的类型搞砸堆栈的问题。此模型中还提供类型转换。

格式的缺点是速度快，而且有点麻烦。对于 sprintf 可以处理的格式，它的速度比 sprintf 低很多。它的语法也比快速调用 sprintf 更复杂一些。

对于简单的标记格式化，我通常使用 sprintf。对于复杂的字符串格式，我倾向于使用 boost 格式或 iostreams。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T05:50:43.633

`sprintf()`不是类型安全的；因此`boost::format`将更加类型安全。 `sprintf()`容易出现缓冲区溢出；你最好使用`snprintf()`than `sprintf()`，但你很可能仍然使用`boost::format`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-13T02:07:22.257

这取决于您如何定义“更好”。

`printf`作为标准库的一部分，它非常快速且易于使用。然而，它具有在某种程度上通过GCC 中的[__attribute__ ((format (printf, ...))解决的安全问题。](http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html)

Boost 格式是安全的，但它[要慢得多](https://github.com/cppformat/cppformat#speed-tests)，并且正如 指出的那样`@edA-qa mort-ora-y`，由于非常规使用`operator%`.

如果您想要两全其美，方便的函数调用格式化 API 和`printf`Boost 格式的速度以及安全性，请考虑[{fmt}](https://github.com/fmtlib/fmt)库。它同时支持`printf`Python 的`str.format`语法：

```
fmt::print("Hello, {}!", "world");  // uses Python-like format string syntax
fmt::printf("Hello, %s!", "world"); // uses printf format string syntax 
```

免责声明：我是 {fmt} 的作者

# android - 读取 url android 中的文件名

> ID：11008899
> 
> 赞同：0
> 
> 时间：2012-06-13T05:49:11.917
> 
> 标签：android, http

我想在**不使用 ftp 连接**的情况下读取 url 中的内容文件。我在网站上有更多图片，`http://somedomain.com/images`如 photo1.png、photo2.png 等，

我想通过我的编码读取图像的这些名称。通过使用[这些](https://stackoverflow.com/questions/2075836/read-contents-of-a-url-in-android)我会得到这些。但是我如何获得funny1.png、funny2.png 等，..

```
<li><a href="funny1.png"> funny1.png</a></li>
 <li><a href="funny10.png"> funny10.png</a></li>
 <li><a href="funny2.png"> funny2.png</a></li>
 <li><a href="funny3.png"> funny3.png</a></li>
 <li><a href="funny4.png"> funny4.png</a></li>
 <li><a href="funny5.png"> funny5.png</a></li>
 <li><a href="funny6.png"> funny6.png</a></li>
<li><a href="funny7.png"> funny7.png</a></li>
<li><a href="funny8.png"> funny8.png</a></li>
<li><a href="funny9.png"> funny9.png</a></li>
</ul>
 </body></html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T06:21:37.740

我不知道，这就是你需要的，（或者它对你有没有帮助）

**Commons VFS**提供了用于访问各种不同文件系统的单一 API。它呈现来自各种不同来源的文件的统一视图，例如本地磁盘上、HTTP 服务器上或 Zip 存档内的文件。

[http://commons.apache.org/vfs/](http://commons.apache.org/vfs/)

试试这个，让我知道会发生什么..

**编辑：**

要从 HTML 内容中获取 img 标记内容，请查看以下 SO 问题：

[从 HTML 标签中获取属性的正则表达式](https://stackoverflow.com/questions/1079423/regular-expression-to-get-an-attribute-from-html-tag)

[在 Android 中解析 HTML](https://stackoverflow.com/questions/2188049/parse-html-in-android)

[android java从字符串中获取html图像标签](https://stackoverflow.com/questions/6998163/android-java-get-html-image-tag-from-string)

[Java：HTML解析](https://stackoverflow.com/questions/4614211/java-html-parsing)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T05:52:18.360

您必须在服务器上为您生成文件列表的一些代码，除非您运行 apache 服务器并且您没有 index.html 文件。在这种情况下，url "http://somedomain.com/images 将返回一个文件列表，您可以在您的应用程序中读取该列表。您必须解释 html 以获得一个简单的文件列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T05:58:22.953

使用沙丁鱼 java 库。

```
Sardine sardine = SardineFactory.begin(Username, Password);
List <> ph = sardine.getResource(url); 
```

# iphone - 在应用程序购买拒绝原因是什么意思？

> ID：11008904
> 
> 赞同：1
> 
> 时间：2012-06-13T05:49:51.760
> 
> 标签：iphone, ios, in-app-purchase

> 11.3 我们发现您的应用允许用户使用In App Purchase购买实物商品，这不符合App Store Review Guidelines。

这是什么意思？

我有一个应用程序使用 1 年的不可续订订阅进行某些内容 + 咨询，但由于上述原因，我的应用程序被拒绝。白金会员还提供咨询功能。当他们引用审查指南的那部分时，他们是否引用了应用内购买的咨询部分？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:52:38.983

您不能出售任何无法在应用程序内消费的东西。我假设您销售的这种“咨询”服务在应用程序中是不可消耗的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T06:04:37.123

您可以销售四种受支持的应用内购买项目类别：

• 内容

• 功能

• 服务

• 订阅

您还应该阅读[应用内购买指南](http://www.google.co.in/url?sa=t&rct=j&q=iphone%20in%20app%20purchase%20rules&source=web&cd=1&ved=0CFUQFjAA&url=https://developer.apple.com/appstore/in-app-purchase/In-App-Purchase-Guidelines.pdf&ei=hyzYT8TwJ8esrAfZ19HRDw&usg=AFQjCNGZpPYRSW0LT8f9fxwyCNRtcKBNOA&cad=rja)。

# iphone - 将 RSS 提要转换为字符串

> ID：11008905
> 
> 赞同：0
> 
> 时间：2012-06-13T05:49:53.940
> 
> 标签：iphone, string, twitter, rss, uilabel

我为我的 iPhone 应用程序设置了一个 RSS 提要，它从 twitter 获取新闻更新并将它们添加到 UITable。这很好用，但我正在考虑让信息在屏幕顶部滚动。所以这是我的问题：我不知道如何将提要转换为可以在新闻滚动上使用的文本标签。有谁知道怎么做？

# asp.net-mvc-3 - mvc 3 动态类别下拉列表

> ID：11008906
> 
> 赞同：2
> 
> 时间：2012-06-13T05:49:54.160
> 
> 标签：asp.net-mvc-3, drop-down-menu

好的，我已经阅读了一堆文章，但我仍然迷路，所以我想我会把问题放在这里。

我正在尝试在我的“帖子”创建视图中创建一个动态下拉列表。我想从我的 Categories.sdf 中提取 selectList 项目，它有一个名为 categories 的表和两列“CategoryID”和“CategoryTitle”。

我知道我需要通过“postscontroller”将项目拉入视图包中，以便将它们传递给视图。但我不确定这会是什么样子。再说一次，我是 MVC 的新手，所以如果我听起来像个笨蛋，我很抱歉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:32:20.137

> 我知道我需要通过“postscontroller”将项目拉入视图包中

哦，不，你不需要做那样的事情。

您可以从定义视图模型开始：

```
public class PostViewModel
{
    [DisplayName("Select a category")]
    [Required]
    public string SelectedCategoryId { get; set; }

    public IEnumerable<SelectListItem> Categories { get; set; }
} 
```

您将在控制器中填充：

```
public class PostsController: Controller
{
    public ActionResult Index()
    {
        var model = new PostViewModel();
        model.Categories = db.Categories.ToList().Select(c => new SelectListItem
        {
            Value = c.CategoryId,
            Text = c.CategoryName
        });
        return View(model);
    }
} 
```

然后有一个对应的强类型视图（`~/views/posts/index.cshtml`）：

```
@model PostViewModel
@using (Html.BeginForm())
{
    @Html.LabelFor(x => x.SelectedCategoryId)
    @Html.DropDownListFor(x => x.SelectedCategoryId, Model.Categories, "-- select --")
    @Html.ValidationMessageFor(x => x.SelectedCategoryId)

    <button type="submit">OK</button>
} 
```

# apache-flex - 在 Windows Vista 上的 Eclipse 中安装 Flex 4.6

> ID：11008907
> 
> 赞同：0
> 
> 时间：2012-06-13T05:49:55.360
> 
> 标签：apache-flex, eclipse-plugin, flex4, flex3, flex4.5

我正在使用`Windows Vista 32bit`. 我已经安装了`Eclipse Helios Service Release 2`。

我需要`flex`融入`Eclipse`. 有人可以给我安装步骤或指向一个解释该过程的好教程。

注：我已经下载了`flex_sdk_4.6`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:33:52.257

如果没有插件，您无法真正将 Flex 集成到 eclipse 中 - 它可以让您将文本文件编辑为文本并运行编译器，但您没有实际的 IDE 支持。

至于插件/基于 Eclipse 的 IDE：现在，有[Adob​​e Flash Builder](http://www.adobe.com/products/flash-builder.html)和[FDT](http://fdt.powerflasher.com/)，它们都是很好的产品（不过，它们各有不同的优点和缺点——你可能想尝试一下，看看哪个最适合你的需求） ，但它们既不免费也不便宜。

另一个非常好的商业 IDE 是[IntelliJ IDEA](http://www.jetbrains.com/idea/)，但这不是基于 eclipse 的。

如果您需要在 Windows 上用于 ActionScript 的免费 IDE，请查看[FlashDevelop](http://www.flashdevelop.org/) - 它不像基于 eclipse 的商业产品那么复杂，但如果您想进入 ActionScript 或尝试 Flash 的 IDE 替代品，这是一个好的开始。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T08:38:59.437

从您的评论看来，FlashBuilder 是您的首选工具。

**下载它**

前往[FlashBuilder 下载页面](https://www.adobe.com/cfusion/tdrc/index.cfm?product=flash_builder)获取它。自动下载将让您下载 Akamai 软件，这是 Adob​​e 的下载垃圾软件。如果您在代理后面，那么您就不走运了：您的下载将无法正常工作。不过，您可以获得直接链接：只需取消自动下载，然后在下载页面上选择“文件 1 of 1”链接。

![在此处输入图像描述](../Images/568a4d25b8c5734620107069f0f08566.png)

**安装它**

您可以在此处找到独立安装或 Eclipse 插件的安装说明：http: [//helpx.adobe.com/flash-builder/release-note/flash-builder-4-6-release.html#main_Install_your_software](http://helpx.adobe.com/flash-builder/release-note/flash-builder-4-6-release.html#main_Install_your_software)

# java - 在开关/机箱中添加等待？

> ID：11008914
> 
> 赞同：0
> 
> 时间：2012-06-13T05:50:27.607
> 
> 标签：java, android

当用户单击时，将触发 case MotionEvent.ACTION_DOWN。当点击被释放时，case MotionEvent.ACTION_UP 被触发。

我有兴趣确定 ACTION_UP 是否在 ACTION_DOWN 的 3 秒内未触发。意思是，如果用户点击后已经过了 3 秒，但还没有释放，我想知道，本质上是试图确定长点击。

有没有办法做这样的事情？

```
 switch (event.getAction()) {
       case MotionEvent.ACTION_DOWN:
       break;
       case MotionEvent.ACTION_UP:
       break;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T06:04:05.657

通常，检测长按的正确方法是实现 [View.OnLongClickListener](http://developer.android.com/reference/android/view/View.OnLongClickListener.html)。这比自己检测更容易，更不容易出错，并且可以确保您的应用程序与系统的其余部分完美匹配。

对于 custom `View`，您将添加`implements View.OnLongClickListener`到您的类声明中，添加`setOnLongClickListener(this);`到构造函数中，然后将`onLongClick()`方法添加到您的类中：

```
public boolean onLongClick (View v) {
    // Handle long-click
} 
```

如果您`View`不是自定义的，您可以像这样添加侦听器：

```
theView.setLongClickable(true);
theView.setOnLongClickListener(new View.OnLongClickListener() {
    public boolean onLongClick(View v) {
        // Handle long-click
    }
}); 
```

**更新：**好的，我已经进行了一些挖掘，虽然这对于我曾经使用过的每个视图都是正确的方法，但实际上它不适用于提问者正在使用的 SeekBars。这个事实没有记录在`SeekBar`文档中，但实验表明它是正确的，并且深入研究源代码显示了原因：`SeekBar.onTouchEvent()`不调用`super.onTouchEvent()`. 如果合适的话，它就是`View.onTouchEvent()`被调用的。`performLongClick()`

如果我必须要实现它，我会使用`Handler.postDelayed()`. 在 ACTION_DOWN 上，我会发布（例如 3000 毫秒延迟）`Runnable`处理长按的 a `Handler`，然后我会在 ACTION_UP 上取消它。因此，任何小于延迟的按下都不会最终调用`Runnable`，但如果在延迟之后没有发生 ACTION_UP ，那就是。

也就是说，我会提醒你重新考虑这样做。长按 a 是什么意思`SeekBar`？如果用户拖动“拇指”的时间超过了延迟时间，那么突然间你就有了一个可能不是本意的长按。您可以在每次移动拇指时取消和重置延迟，需要长按几秒钟才能恰好在一个位置。但是很少有完全静止的；事实上，握住拇指几秒钟不移动它是很困难的。因此，您可以对重置延迟的拇指位置进行最小更改。如果必须，我会这样做，但我必须说这是一种非常奇怪的用户体验。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:02:28.910

它简单直接。您需要获取时间戳来评估事件之间的时间差异您可以通过以下示例进行操作：

```
private static int TIME_MARGIN = 3;  //seconds
private Date d1 = null;

public void OnWhatEverOnClickEvent(Event event){
    switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:
           d1 = new Date();
        break;
        case MotionEvent.ACTION_UP:
           Date d2 = new Date();
           if((d2.getTime() - d1.getTime()) >= (TIME_MARGIN * 1000L)){
               //its a long click due to 3 seconds hold, do something here
           }
        break;
    }
} 
```

但是，正如@Darshan Computing 所说，您应该更好地利用`View.OnLongClickListener`这是一种无忧的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:20:28.427

当用户单击时，启动一个新线程来轮询按钮的当前状态（或引入一个新标志，该标志在 中设置`DOWN`和重置`UP`。线程可以每 100 毫秒轮询此状态或标志，并使用内部时间戳来确定是否3 秒过去了。如果是这样，它可能会触发一个新事件以开始长按操作

# javascript - 使用 jquery/javascript 选择框将验证复选框

> ID：11008915
> 
> 赞同：0
> 
> 时间：2012-06-13T05:50:36.453
> 
> 标签：javascript, jquery, jquery-plugins

我卡在一个页面中，我正在使用选择框和复选框，它们的行为就像 - 在选择框中选项是 ABC、BCD、BDE、AD、BE & 在复选框中，选项是 A、B、C ，D，E。当我从选择框中选择（假设）BDE（或AD）时......在复选框B，D，E（或A和D）中将被选中（自动）。

任何想法......或输入将不胜感激。

我的代码（如下所示）：

编辑：还有一件事是，如果我使用类似选择框（下面提到），并希望根据选择框实现选中复选框。任何线索......

```
<body>
<form>
<select name="item" id="item" class="item" onChange=list(this.value) >
<script type="text/javascript">
document.write("<option value=-1>Item</option>");
count=item.length;
for(i=0;i<count;i++)
document.write("<option value="+i+">"+item[i]+"</option>");
</script>
</select>
<table>
<td>
<input type="checkbox" name="A" id="A" value="A" >A<br>
<input type="checkbox" name="B" id="B" value="B">B<br>
<input type="checkbox" name="C" id="C" value="C">C<br>
<input type="checkbox" name="D" id="D" value="D">D<br>
<input type="checkbox" name="E" id="E" value="E">E<br>  
</td>
</table>
</form>
</body> 
```

并且在更改特定的选择项目（项目）时，所有这些选项都可以用 jquery 编写（而不是你回答的）你提到的（@ mohon ram）

[我在这里](https://stackoverflow.com/questions/9939802/display-checkbox-after-select-combo-box)有一个链接，但无法从我的答案角度对其进行排序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T06:34:09.150

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<script language="javascript" src="http://code.jquery.com/jquery-1.7.2.js"></script>
<script language="javascript">
$(document).ready(function(){

$("select#select_element").change(function(){
    var select_val = $.trim( $("select#select_element option:selected").attr("test") );
    var select_val_arr = select_val.split(",");
    $("input.checkbox").prop("checked",false);
    $.each(select_val_arr, function(i,val){
        $("input:checkbox#"+val).prop("checked",true);
    });
});
$("select#select_element").trigger("change");
});
</script>

</head>
<body>
<select id="select_element">
    <option test="A,B,C" value="ABC">ABC</option>
    <option test="B,C,D" value="BCD">BCD</option>
    <option test="B,D,E" value="BDE">BDE</option>
    <option test="A,D" value="AD">AD</option>
    <option test="B,E" value="BE">BE</option>
</select>

<input type="checkbox" id="A" value="A" class="checkbox" />A
<input type="checkbox" id="B" value="B" class="checkbox"  />B
<input type="checkbox" id="C" value="C" class="checkbox"  />C
<input type="checkbox" id="D" value="D" class="checkbox"  />D
<input type="checkbox" id="E" value="E" class="checkbox"  />E
<input type="checkbox" id="F" value="F" class="checkbox" />F
</body>
</html> 
```

# iphone - 在 kalCalender 中手动添加新事件

> ID：11008922
> 
> 赞同：0
> 
> 时间：2012-06-13T05:51:23.090
> 
> 标签：iphone, ios, calendar

我只想通过使用添加按钮中的 kalcalender 在我的编中手动添加一个事件。但基本上我对此一无所知。

[https://github.com/klazuka/Kal](https://github.com/klazuka/Kal)

我试图从 nativecal 中理解，但我无法理解。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T07:28:59.400

希望其他人可以帮助您解决您的问题，但我假设您已经考虑过使用 Apple 的[EKEventEditViewController](http://developer.apple.com/library/ios/#DOCUMENTATION/EventKitUI/Reference/EKEventEditViewControllerClassRef/Reference/Reference.html)。[Event Kit Programming Guide](http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/EventKitProgGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009765)解释得很好。我很容易在用户的日历中添加日历事件，但也许你正在尝试做一些我不理解的事情。

# ssl - 卷曲错误 - 来自服务器的空回复 (ssl)

> ID：11008924
> 
> 赞同：11
> 
> 时间：2012-06-13T05:51:24.053
> 
> 标签：ssl, curl, openssl, ssl-certificate, osx-leopard

我在 OSX 上使用 curl 访问某些 URL 时遇到问题。对于其他 url，我会收到响应，对于这个特定的 UWL，我可以从其他 ubuntu 机器接收响应。

我被卡住了，不知道哪个组件坏了，不知道，除了升级整个系统之外，我真的很感激任何会阻止我这样做的建议。

卷曲的输出：

```
$ curl -v https://subdomain.example.com/pushdispatcher/dispatcher.asp
* About to connect() to subdomain.example.com port 443 (#0)
*   Trying 213.229.251.147... connected
* Connected to subdomain.example.com (213.229.251.147) port 443 (#0)
* successfully set certificate verify locations:
*   CAfile: /Users/bmihelac/.cert/cacert.pem
  CApath: none
  * SSLv2, Client hello (1):
  * SSLv3, TLS handshake, Server hello (2):
  * SSLv3, TLS handshake, CERT (11):
  * SSLv3, TLS handshake, Server finished (14):
  * SSLv3, TLS handshake, Client key exchange (16):
  * SSLv3, TLS change cipher, Client hello (1):
  * SSLv3, TLS handshake, Finished (20):
  * SSLv3, TLS change cipher, Client hello (1):
  * SSLv3, TLS handshake, Finished (20):
  * SSL connection using RC4-MD5
  * Server certificate:
  *      subject: /C=SI/ST=Ljubljana/L=Ljubljana/O=Example d.d./OU=Example/CN=subdomain.example.com
  *      start date: 2011-07-01 00:00:00 GMT
  *      expire date: 2012-07-26 23:59:59 GMT
  *      common name: subdomain.example.com (matched)
  *      issuer: /C=US/O=Thawte, Inc./CN=Thawte SSL CA
  * SSL certificate verify ok.
  > GET /pushdispatcher/dispatcher.asp HTTP/1.1
  > User-Agent: curl/7.16.4 (i386-apple-darwin9.0) libcurl/7.16.4 OpenSSL/0.9.7l zlib/1.2.3
  > Host: subdomain.example.com
  > Accept: */*
  > 
  * SSLv3, TLS handshake, Hello request (0):
  * SSL read: error:00000000:lib(0):func(0):reason(0), errno 54
  * Empty reply from server
  * Connection #0 to host subdomain.example.com left intact
  curl: (52) SSL read: error:00000000:lib(0):func(0):reason(0), errno 54
  * Closing connection #0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-05-12T07:53:49.107

似乎服务器出于某种原因断开了您的连接。

*   尝试将 User-Agent 标头添加到请求中（机器人检测？）
*   尝试从其他 ip 连接（您的 ip 在黑名单中？）

# iphone - Admob 与 iphone 的集成

> ID：11008939
> 
> 赞同：0
> 
> 时间：2012-06-13T05:52:45.097
> 
> 标签：iphone, admob

我已将 Admob 与 ios 集成以在我的应用程序中查看广告横幅应用程序与模拟器很好地配合使用。（广告栏也是）

但是当我尝试使用 ios 设备运行应用程序时。应用程序崩溃。

有什么解决办法吗？？？？？？

# android - 微调器默认文本的设置？

> ID：11008941
> 
> 赞同：2
> 
> 时间：2012-06-13T05:53:06.550
> 
> 标签：android, sqlite, android-spinner

我的项目中有一个微调器，其中值来自数据库并显示在微调器中。但是我想将微调器的一个默认值设置为“选择项目”，并且需要在其旁边添加来自数据库的值。我正在使用的以下代码是...

代码：

```
 ArrayAdapter<String> adp=new ArrayAdapter<String> (this,android.R.layout.simple_spinner_dropdown_item,arraylist);
  spinner.setAdapter(adp); 
```

在这里，我将从数据库中获取的值作为数组列表添加到微调器，并且值直接显示。但我想显示一个默认值以显示为“选择项目”。如何设置。谁能帮我解决这个问题..？我要按照下图...

![在此处输入图像描述](../Images/ceb2ca8ee8308b03f588555c4cafbb74.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T05:55:53.243

添加元素`0th index using .add(0,"Select Item");`

**更清晰**

```
arraylist.add(0,"Select Item"); //Add element at 0th index

ArrayAdapter<String> adp=new ArrayAdapter<String> (this,android.R.layout.simple_spinner_dropdown_item,arraylist);
spinner.setAdapter(adp); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T05:57:08.040

用“select item”附加你的arraylist怎么样？：

```
arraylist.add(0, "select item"); 
```

或者为显示目的创建新的数组列表，在第一个索引中包含“选择项目”。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T06:12:37.283

如果您不想更改 Arraylist，我有一个选择。

将 TextView 设置为 Spinner 的背景图像。单击它打开一个包含值列表的 AlertDialog，因此将适配器设置为它。

然后添加 onClick(DialogInterface dialog, int item) 以获取所选值并将其设置为您的 textview（假微调器）。

希望能帮助到你 ！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-09T02:25:16.230

您可以将其更改为文本视图并使用它：

```
android:style="@android:style/Widget.DeviceDefault.Light.Spinner" 
```

然后定义`android:text`属性。

# jsf-2 - 使用 与 上传时未获取 inputext 映射值

> ID：11008943
> 
> 赞同：3
> 
> 时间：2012-06-13T05:53:21.793
> 
> 标签：jsf-2, primefaces

我在里面使用`<p:fileUpload >`PrimeFaces `<h:inputText>`。我面临的问题是，当我上传图像并添加图像标题时，图像已上传，但 inputText 值将包含 null，不映射到 bean。

图片上传的Jsf页面：

```
 <p:fileUpload id="imaload" fileUploadListener="#{ngoPhotoUpload.photoUpload}"  
                         mode="advanced"  multiple="true" 
                          update="messages" 
                           allowTypes="/(\.|\/)(gif|jpe?g|png)$/">
     <h:inputText value="#{ngoPhotoBean.description}"/>
     </p:fileUpload> 
```

当我上传 ngoPhotoBean.description 时包含 null。我正在使用 primefaces 3.0 和 jsf 2.0。我该如何解决？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-13T09:58:00.270

使用[fileUpload](http://www.primefaces.org/docs/vdl/3.2/p/fileUpload.html)的**process**属性，并将 FileUploadEvent 推送到 INVOKE_APPLICATION 阶段以查看 inputText 中的值`#{ngoPhotoBean.description}`：

Xhtml:

```
<h:form>
    <p:fileUpload fileUploadListener="#{ngoPhotoUpload.photoUpload}" process="@form" update="@form" />
    <h:inputText value="#{ngoPhotoBean.description}" />
</h:form> 
```

爪哇：

```
public void photoUpload(FileUploadEvent event) {
    if (!PhaseId.INVOKE_APPLICATION.equals(event.getPhaseId())) {
        event.setPhaseId(PhaseId.INVOKE_APPLICATION);
        event.queue();
    } else {
        //do stuff here, #{ngoPhotoBean.description} is set
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:06:37.277

在那个primefaces p：remotecommand标签那里..您可以使用该标签传递参数。此链接可以帮助您..

[如何在primefaces中的文件上传期间传递参数](https://stackoverflow.com/questions/10909492/how-to-pass-the-parameter-during-file-upload-in-primefaces)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-12T15:47:35.290

有一个简单的方法可以解决它。只需将 <p:ajax /> 放在 <p:textinput> 和 </p:textinput> 之间

# c# - 可点击的网格视图行 asp.net

> ID：11008952
> 
> 赞同：1
> 
> 时间：2012-06-13T05:53:59.090
> 
> 标签：c#, asp.net

我想要其行可点击的asp.net gridview。

我想在根据行索引单击该行时调用一个函数。

我尝试使用 RowDataBound 事件，但它没有用或我

我使用了以下代码

```
protected void PeopleGridView_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            e.Row.Attributes["onmouseover"] = "this.style.cursor='hand';this.style.textDecoration='underline';";
            e.Row.Attributes["onmouseout"] = "this.style.textDecoration='none';";

            e.Row.Attributes["onclick"] = ClientScript.GetPostBackClientHyperlink(this.PeopleGridView, "Select$" + e.Row.RowIndex);
        }
    } 
```

我哪里错了？

我不想重定向到任何其他页面。我想在同一页面上的文本框中填写值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:57:47.810

您可以在 javascript 中创建一个函数并从行的鼠标事件中调用它。

**Java脚本**

```
<script language="javascript" type="text/javascript"> 
    function setStyle(obj)
    {
       obj.style.cursor='hand';
       obj.style.textDecoration='underline';
    }

    function resetStyle(obj)
    {
       this.style.textDecoration='none'; 
    }
</script> 
```

**代码背后**

```
protected void PeopleGridView_RowDataBound(object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        e.Row.Attributes["onmouseover"] = "setStyle(this);";
        e.Row.Attributes["onmouseout"] = "resetStyle(this);";

        e.Row.Attributes["onclick"] = ClientScript.GetPostBackClientHyperlink(this.PeopleGridView, "Select$" + e.Row.RowIndex);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:03:20.970

尝试这个

```
 <script type="text/javascript" language="javascript">
        function call(id) {
            alert(id);
            // Do whatever
        }
    </script>

<asp:GridView ID="gvParent" DataKeyNames="ID" runat="server" PageSize="10" AllowPaging="true"
            PagerSettings-Mode="NextPrevious" AutoGenerateColumns="False" OnRowDataBound="gvParent_RowDataBound">
            <Columns>
                <asp:BoundField DataField="Name" />
                <asp:TemplateField>
                    <ItemTemplate>
                        <asp:HiddenField ID="HdnID" runat="server" Value='<%# Eval("ID") %>' />
                    </ItemTemplate>
                </asp:TemplateField>
            </Columns>
        </asp:GridView> 
```

背后的代码

```
protected void gvParent_RowDataBound(object sender, GridViewRowEventArgs e)
{
if (e.Row.RowType == DataControlRowType.DataRow)
        {
            string ID = ((HiddenField)e.Row.FindControl("HdnID")).Value;

            e.Row.Attributes["onmouseover"] = "this.style.cursor='hand';this.style.textDecoration='underline';";
            e.Row.Attributes["onmouseout"] = "this.style.textDecoration='none';";

            e.Row.Attributes["onclick"] = "call(" + ID + ");";
        }
} 
```

# java - android eclipse中的屏幕切换

> ID：11008953
> 
> 赞同：1
> 
> 时间：2012-06-13T05:54:00.680
> 
> 标签：java, android, eclipse

![图像_1](../Images/db9d725ee72ea57b7b1177c19e4c95e3.png)

上面的仿真器图像只是将给定的两个值相加，并在同一屏幕上的下面的 textview 上显示结果。

在这里我的需要是我只想在另一个屏幕的 textview 上显示结果。如何实现这一点？我必须在我的来源上添加什么来源？

```
public class CheckingActivity extends Activity {
 Button     button1;
 EditText   txtbox1,txtbox2;
 TextView tv;

 /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.main);

     txtbox1=  (EditText) findViewById(R.id.editText1);
     button1 = (Button) findViewById(R.id.button1);
     tv = (TextView) findViewById(R.id.textView5);
     txtbox2=  (EditText) findViewById(R.id.editText2);
     button1.setOnClickListener(new View.OnClickListener() {

    public void onClick(View v) 
    {
         String a,b;
         Integer vis;
         a =  txtbox1.getText().toString();
         b =  txtbox2.getText().toString();    
         vis =  Integer.parseInt(a)+Integer.parseInt(b);
         tv.setText(vis.toString());
        }
    }); 
```

非常感谢！。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T06:11:46.347

1.）用这个替换你的主要活动：

```
public class CheckingActivity extends Activity {
 Button     button1;
 EditText   txtbox1,txtbox2;
 TextView tv;

 /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.main);

 txtbox1=  (EditText) findViewById(R.id.editText1);
 button1 = (Button) findViewById(R.id.button1);
 tv = (TextView) findViewById(R.id.textView5);
 txtbox2=  (EditText) findViewById(R.id.editText2);
 button1.setOnClickListener(new View.OnClickListener() {

public void onClick(View v) 
{
     String a,b;
     Integer vis;
     a =  txtbox1.getText().toString();
     b =  txtbox2.getText().toString();    
     vis =  Integer.parseInt(a)+Integer.parseInt(b);
     //tv.setText(vis.toString());
     Intent i = new Intent(getApplicationContext(),ResultActivity.class);
     i.putExtra("sum",vis.toString());
     startActivity(i);
    } 
```

* * *

3.) 添加一个xml布局文件`resultview`

```
<RelativeLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <TextView
        android:id="@+id/tvsum"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
            android:text="Sum : " />

    <TextView
        android:id="@+id/tvres"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@id/tvsum"/>
</RelativeLayout> 
```

* * *

4.）最后添加你的清单：

```
<activity android:name=".ResultActivity" /> 
```

* * *

希望能帮助到你！！

## 编辑

```
public class ResultActivity extends Activity {
TextView tv;
String result;
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.resultview);
Bundle extras = getIntent().getExtras();
if (extras != null) {
    result = extras.getString("sum");
    }
tv=(TextView) findViewById(R.id.tvres);    
tv.setText(result);
  }
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T06:01:47.897

如果我对您的理解正确，您想显示一个带有结果值的新活动。如果是这样，您可以通过创建一个新活动并向该活动传递一个整数值来表示该值。

你可以这样做：

在 CheckingActivity 活动中：

```
public void onClick(View v) 
{
     String a,b;
     Integer vis;
     a =  txtbox1.getText().toString();
     b =  txtbox2.getText().toString();    
     vis =  Integer.parseInt(a)+Integer.parseInt(b);
     Intent in = new Intent(this, B.class);
     in.putExtra("output_value", vis);
     startActivity(in);

    }
}); 
```

您的新活动的 XML：

```
<RelativeLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <TextView
        android:id="@+id/txt_sum"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Output: "/>

    <TextView
        android:id="@+id/txt_value"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@id/txt_sum"/>
</RelativeLayout> 
```

在新活动中：

```
 Bundle extras = getIntent().getExtras();
    int value = extras.getInt("output_value");

    TextView output =  (TextView) findViewById(R.id.txt_value);
    output.setText(value); 
```

# perl - 数组中的数组，如何在这里转储值？

> ID：11008954
> 
> 赞同：0
> 
> 时间：2012-06-13T05:54:01.783
> 
> 标签：perl

我在这里做一个最小的例子，我应该如何在数组中转储数组的值？

多个数组，其中包含一个字符串值和一个数字，现在我按第二个值对数组进行排序，并按顺序读取第一个字段的值。

```
my @a = { "A" , 123 };
my @b = { "B" , 9 };

my @entries = ();
push @entries , \@a;
push @entries , \@b;

@entries = sort { $a[1] cmp $b[1] } @entries;
for (@entries)
{
        print @_[0] , "\n"; // should be "A\nB" after for loop
} 
```

我应该查看什么文件？嗯...它不像数组中的普通数组，例如像`$a[0][0]`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T06:10:03.807

第一个问题是你没有一个数组数组，你最终有一个哈希数组，因为`{}`你用来构造`@a`and `@b`。
[（顺便说一句，`a`作为`b`标识符的选择很糟糕，特别是考虑到标量`$a`和`$b`排序块的使用——您不想将自己与在这些排序块中取消引用的内容混淆。）]

如果您使用以下方法解决此问题：

```
my @a = ("A", 123);
my @b = ("B", 9); 
```

然后你修复你的排序以数字排序（`cmp`是字符串排序，`$a`并且`$b`是数组引用）：

```
sort { $a->[1] <=> $b->[1] } @entries; 
```

然后将您的`print`行更改为：

```
print $_->[0], "\n"; 
```

你应该看到你期望的结果。

在脚本的顶部添加`use strict; use warnings;`，并充分利用`Data::Dumper`模块来调试它。

# php - jquery 自动完成插件不能与 json 完美配合

> ID：11008955
> 
> 赞同：1
> 
> 时间：2012-06-13T05:54:01.940
> 
> 标签：php, jquery, json, jquery-autocomplete

我使用jquery自动完成插件编写了一个自动完成文本框的代码.....但它不能正常工作

这是html

```
 <input type="submit" value="Search" />
    <input class="searchBox" id="isearch" name="isearch" value="" type="text" />
    <input type="hidden" name="hsearch" id="hsearch" /> 
```

和 javascript

```
 $(document).ready(function(){
  $("#isearch").autocomplete(
     "search.php", 

      {
            select: function(event, ui) {
        event.preventDefault();
        $("#isearch").val(ui.item.label);
        $("#hsearch").val(ui.item.value);
        return false;
    },
    focus: function(event, ui) {
        event.preventDefault();
        $("#isearch").val(ui.item.label);
        return false;
    }
});
    }); 
```

PHP代码是

```
 <?php
       include 'config.php';

       $q=$_GET['q']; 
       $my_data=mysql_real_escape_string($q);
       $sql="SELECT emp_id,name FROM f_name WHERE name LIKE '%$my_data%' ORDER BY name";
       $result = mysql_query($sql) or die(mysql_error());
       $results = array();

while($row=mysql_fetch_array($result))
{
    $results[] = array('value' => $row['emp_id'],'label' => $row['name']);
}
echo json_encode($results);

    ?> 
```

在文本框中返回的 json 值是

```
 [
     {"value":"2","label":"AAA ZZZ"},
     {"value":"3","label":"Roger Fedrer"},
     {"value":"1","label":"Php Admin"}
   ] 
```

我希望文本框只显示“标签”和“值”应该存储在隐藏字段中

# javascript - 在新窗口中打开。但标准是_blank

> ID：11008959
> 
> 赞同：0
> 
> 时间：2012-06-13T05:54:34.923
> 
> 标签：javascript, drupal, hyperlink, target

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T05:57:39.863

# .net - 如何将一个xml更改为另一个

> ID：11008963
> 
> 赞同：1
> 
> 时间：2012-06-13T05:54:58.367
> 
> 标签：.net, xml

我是 XML 解析的新手。我有一个 Xml 文件，我需要从这个 xml 中提取一些元素，并使用这些选定的元素和一些额外的元素创建一个新的 xml 文件。

在开始这个之前我需要了解什么以及如何去做。？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-13T05:59:03.333

> 在开始这个之前我需要了解什么以及如何去做。？

您可以查看允许您操作 XML 文件的[XDocument类。](http://msdn.microsoft.com/en-us/library/system.xml.linq.xdocument.aspx)另一种可能性是阅读有关[XSL 转换](http://www.w3.org/TR/xslt)的信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-13T06:00:53.360

LINQ to XML 使这非常容易。例如，这会将所有`foo`元素从一个元素复制`existing.xml`到`new.xml`一个`imported`元素下，同时创建一个`other`元素：

```
XDocument oldDoc = XDocument.Load("existing.xml");
var elementsToCopy = oldDoc.Descendants("foo");

var newDoc = new XDocument(
    new XElement("root",
        new XElement("imported", elementsToCopy),
        new XElement("other")
    )
);
newDoc.Save("new.xml"); 
```

虽然 XSLT（在其他地方推荐）很可能工作得很好，但我一直觉得它使用起来有些繁琐——而且我宁愿不必为了在 C# 中轻松实现的东西而学习另一种语言。YMMV。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-13T06:02:18.980

我强烈建议您使用[LINQ to XML](http://msdn.microsoft.com/en-us/library/bb387098.aspx)。

这是关于这个主题的好教程：

[在 C# 中使用 LINQ to XML 将数据添加到 XML 文件](http://www.aspnettutorials.com/tutorials/xml/linq-to-xml-adding-cs.aspx)

# iphone - 在 for 循环中附加 NSMutable 字符串

> ID：11008974
> 
> 赞同：4
> 
> 时间：2012-06-13T05:56:12.790
> 
> 标签：iphone, ios, objective-c

```
//viewdidload
{
str1 = [[NSMutableString alloc] initWithCapacity:0];
str2 = [[NSMutableString alloc] initWithCapacity:0];
}//

for (int pq=1; pq<=temp; pq++) 
{
str1 =  [NSMutableString stringWithString:[documentManager wholeTextForPage:pq] ] ;
[self.str2 appendString:str1];
NSLog(@"content of page chumma1:  %@",str1);
}
NSLog(@"cwhole text:  %@",str2 
```

**这里 str1 在每次迭代时返回不同的字符串。我试图将 str1 返回的每个字符串附加到 str2。但是 str2 在第一次迭代时只返回 str1 返回的一个字符串。其他迭代返回的字符串不会附加到 str2。请帮我想办法解决这个问题。提前致谢。

感谢和问候VEERA **

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T07:53:18.940

用这种方法试试......

```
NSMutableString *str1 = [[NSMutableString alloc]initWithCapacity:0];
NSMutableString *str2 = [[NSMutableString alloc]initWithCapacity:0];

for(int pq=1; pq<temp; pq++)
{
    str1 = [NSMutableString stringWithFormat:[documentManager wholeTextForPage:pq]];
    str2 = (NSMutableString *)[str2 stringByAppendingFormat:str1];
    NSLog(@"content of page chumma1:  %@",str1);
}

NSLog(@"cwhole text:  %@",str2); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:01:26.063

```
Use stringByAppendingString see example:
But str2 should declare NSString 
```

**更新：**

```
NSMutableString *str1 = [NSMutableString string];
NSString *str2 = @"";

for (int pq=1; pq<=temp; pq++) 
{
    str1 =  [NSMutableString stringWithString:[documentManager wholeTextForPage:pq] ] ;
    str2 = [str2 stringByAppendingString:str1];
} 
```

这会将 str1 中的所有数据附加到 str2。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-13T06:01:35.140

试试这样的..

```
....
for (int pq=0; pq < temp; pq++)  {
    str1 =  [NSMutableString stringWithString:[documentManager wholeTextForPage:pq] ] ;
    [self.str2 appendString:str1];
    NSLog(@"content of page chumma1:  %@",str1);
}

NSLog(@"cwhole text:  %@",str2 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T06:05:04.270

这样做附加字符串：

```
str1 = [[NSMutableString alloc] initWithCapacity:0];
for (int pq=1; pq<=temp; pq++) 
{
  str1 = [str1 stringByAppendingString:[NSString stringWithString:[documentManager wholeTextForPage:pq]]];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-13T06:05:36.567

```
NSMutableString *str1= [NSMutableString new];
    for (int i =0; i < 10; i++) {
        [str1 appendString:@"Hi "];
    }   
    NSLog(@"%@",str1); 
```

您的代码可能不起作用，因为 appendString:(NSString*)str 不是 NSMutableString。所以使用NSString。

给你代码试试这个

```
for (int pq=1; pq<=temp; pq++)
    [self.str2 appendString:[documentManager wholeTextForPage:pq]]; 
```

# installation - 在 NSIS 自定义页面中创建超链接：不做任何事情

> ID：11008985
> 
> 赞同：1
> 
> 时间：2012-06-13T05:57:03.290
> 
> 标签：installation, nsis

我试图在我的 NSIS 页面之一中放置一个超链接。

**我的问题：**单击时，超链接无法打开网页甚至网络浏览器（没有任何反应），当我将鼠标悬停在链接上时，它没有下划线。

我是否错误地使用了超链接？NSIS 页面中的超链接是否意味着在悬停时加下划线/突出显示？

你能帮我获取我的代码来创建一个正常运行的超链接吗？

```
${NSD_CreateLink} 218u 128u 60u 20u "Manual Installation"
Pop $R9
${NSD_OnClick} $R9 onManualInstallClick

Function onManualInstallClick
    ExecShell "open" "http://www.google.com.au" 
FunctionEnd 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T08:19:50.583

您在调用 onClick 回调时忘记弹出被压入堆栈的 HWND 参数。

尝试

```
!define DEBUG `System::Call kernel32::OutputDebugString(ts)`
Function onManualInstallClick
    pop $0
    ${DEBUG} "Link clicked"
    ExecShell "open" "http://www.google.com.au" 
FunctionEnd 
```

# ios - 在 iOS、短信或彩信中分享联系人？

> ID：11008993
> 
> 赞同：0
> 
> 时间：2012-06-13T05:57:46.923
> 
> 标签：ios, sms, contact, mms

您好我正在尝试通过短信/彩信网关共享联系人（电子名片），我应该对联系人进行编码并作为短信发送，还是将联系人附加到彩信？

iPhone这样做的方式是什么。我找不到任何文件清楚地说明这一点。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T06:52:43.480

默认情况下，iOS 提供了通过电子邮件或彩信共享联系人的可能性，因此您可能应该使用彩信或电子邮件。

# sql-server-2008 - 默认情况下select语句的顺序是什么

> ID：11008999
> 
> 赞同：0
> 
> 时间：2012-06-13T05:58:17.023
> 
> 标签：sql-server-2008

如果我在表变量中插入一组 Row 。之后我`select * from table`会按什么顺序给我输出。它会是插入的顺序吗？它会改变吗

```
 DECLARE @next_seq_val NCHAR(50)
    DECLARE @tbl TABLE(
    seq NCHAR(50)
    )
    EXEC    [dbo].[ix_NextSeq]
        @seq_id = 58,
        @next_seq_val = @next_seq_val OUTPUT
   insert into @tbl(seq) values(@next_seq_val)
   SELECT * FROM @tbl 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T06:25:28.283

表中的行未排序。没有“默认”顺序。数据库可以自由地以它认为最有效的任何顺序返回它们。

把桌子上的行想象成篮子里的球，它们也没有顺序。

确保顺序一致的**唯一（真的！）方法是使用**`ORDER BY`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T06:26:09.927

它应该被视为随机顺序。这取决于数据库服务器。