# StackOverflow 问答 11112000-11112999

# javascript - jQuery Form 插件 - 如何防止重复提交？

> ID：11112006
> 
> 赞同：3
> 
> 时间：2012-06-20T02:19:42.417
> 
> 标签：javascript, jquery, jquery-forms-plugin

SO 这里有几个线程，但我没有找到专门处理我在我的应用程序中广泛使用的很棒的[jQuery Form 插件的线程。](http://jquery.malsup.com/form/)

我希望用户只能单击“提交”一次——并禁用“提交”按钮，直到 Ajax 成功返回 JSON 字符串。

我的试用代码是这样的

```
$('#submit_button').live('click', function(e) {
e.preventDefault();

var options = {
    type:           'post',
    dataType:       'json',
    beforeSubmit:   function(){
                        $('#loading').show().fadeIn();
                        $('#submit_button').attr('disabled', 'disabled');
                    },
    success:        function(data) {
                            if (data.success === 3) {
                                $('#submit_button').hide();
                                $('#loading').hide();
                                $('#validation_message').html(data.message).fadeIn();
                                $('#submit_button').attr('enabled', 'enabled');
                            }
                    }
            }

$(this).closest('form').ajaxSubmit(options);
}); 
```

但这会在`<button>`.

```
<button class="button" id="submit_button" disabled="disabled" enabled="enabled"> Post </button> 
```

你对如何让它发挥作用有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T02:24:52.823

而不是将属性“启用”设置为“启用”，您需要取消设置“禁用”属性：`$('#submit_button').attr('disabled', '');`

HTML 没有按钮的“启用”属性，因此浏览器不会对它做任何事情 - 它认为它只是一个“垃圾”属性。设置和取消设置“禁用”属性是您所追求的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T02:25:17.590

尝试：

在成功处理程序中添加此行..

```
 $('#submit_button').removeAttr('disabled'); 
```

在成功处理程序中删除此行：

```
$('#submit_button').attr('enabled', 'enabled'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T02:25:36.177

现在无法对其进行测试，但使用[removeAttr](http://api.jquery.com/removeAttr/)应该会有所帮助（在 beforeSubmit 部分中启用了删除，反之则成功）。

# asp.net - 从 TableAdapter.GetData() 获取单行

> ID：11112010
> 
> 赞同：0
> 
> 时间：2012-06-20T02:20:24.100
> 
> 标签：asp.net, vb.net

所以我最近在代码中遇到了这个解决方案，想知道它是否被认为是从强类型数据集/表中检索单行的“可接受”方式。

基本上我们所拥有的是这样的：

```
Dim fooAdapter As New FooDataSetTableAdapters.FooTableAdapter()
Dim fooRow As FooDataSet.FooRow = CType(fooAdapter.GetData().Select("SomeFooField=50")(0), FooDataSet.FooRow)

with fooRow
..
..
end with 
```

虽然上面的代码有效，但我主要担心的是调用 fooAdapter.GetData() 实际上会在应用 Select() 过滤器之前获取表中的所有数据，这可能会随着时间的推移而减慢速度......有没有更清洁的方法这种或这种做事方式好吗？

编辑：过滤条件不是主键字段，因此调用表的 FindByFooID 方法将不起作用...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-27T02:47:50.567

使用数据集编辑器工具创建一个带有 SQL 的查询`GetUniqueFoo`，该 SQL 将基于`SomeFooField`. 您可以使用`fooAdapter.GetUniqueFoo(SomeFooValue)`.

# postgresql - 在 postgresql 中将 search_path 恢复为默认值

> ID：11112012
> 
> 赞同：2
> 
> 时间：2012-06-20T02:20:47.000
> 
> 标签：postgresql

任何人都知道如何在 postgresql 中将 search_path 恢复为默认值？我更改了它的值，但现在我想再次使用默认值。任何帮助表示赞赏。

程

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T03:35:29.823

试试这个：

```
SET search_path TO DEFAULT ; 
```

# ruby - 使用 callcc 的 Ruby Enumerator 不会终止

> ID：11112019
> 
> 赞同：1
> 
> 时间：2012-06-20T02:21:36.350
> 
> 标签：ruby, callcc

`Enumerable#take`鉴于我的枚举器，我很难弄清楚为什么永远不会终止：

```
require 'continuation'

fib = Enumerator.new do |yielder|
  c, x, y = callcc {|cc| [cc, 0, 1]}
  yielder << x
  c.call c, y, x+y
end

# this works as I'd suspect
1.upto(10) do
  puts fib.next
end

# this works as I'd suspect
fib.take(1)

# this never terminates :(
fib.take(10) 
```

快速浏览一下[enum.c](https://github.com/ruby/ruby/blob/ruby_1_9_3/enum.c)，看起来[args[1]](https://github.com/ruby/ruby/blob/ruby_1_9_3/enum.c#L2037)中的计数器可能正在重置为请求的初始长度，导致迭代永远不会在第[2019](https://github.com/ruby/ruby/blob/ruby_1_9_3/enum.c#L2019)行终止。我的理解是，当枚举器的内部光纤产生 (at `yielder << x`) 时，应该恢复堆栈，因此我`c.call ...`不应该成为问题（尽管它暂时设置`args[1]`回原始长度参数）......但这似乎不是就是这样。

谁能解释为什么`fib.take(n)`永远不会因某些 n > 1 而终止？`callcc`关于我可能在这里遗漏的工作原理，是否有一些基本的东西？

**注意：**这是在 Ruby 1.9.3 上。是的，我意识到我的使用`callcc`有点愚蠢:)。

# ruby-on-rails - SAME rails 应用程序的多个端口

> ID：11112020
> 
> 赞同：1
> 
> 时间：2012-06-20T02:21:52.060
> 
> 标签：ruby-on-rails, apache, passenger

我正在尝试找出一种部署我的 RAILS 应用程序（rails 3.2、apache、passenger）的方法。该应用程序有两种不同的通信方式。

1.  用户像往常一样连接到我们的 https 站点，用于 Rails 应用程序。这是由标准商业 CA 签署的。
2.  自动化机器连接到我们的站点并使用客户端证书身份验证并检索数据。这一切都由我们自己的 CA 和证书管理。

目前我不考虑平衡，该应用程序将在一台机器上运行。我不能使用 443 上的可选证书检查来组合这两种方法，因为这会影响在同一 apache 实例上运行的其他应用程序，所以我相信我需要两个单独的应用程序端口。

我应该如何管理这个？可以将 apache 配置为通过单独的虚拟主机指向同一个应用程序（可能通过代理到独立的乘客）吗？我是否应该使用一些共享库或引擎将我的应用程序分成两个单独的应用程序？我应该只部署两次指向同一个数据库（这将如何影响缓存）？

有没有比检查客户端证书更好的方法来区分连接端口，如果是这样，假设是自动连接？

我也对让它快速工作的技巧以及构建这样的东西的正确 Rails 方式感兴趣。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:49:33.063

在您的 Rails 应用程序中，如果您希望行为取决于请求类型，您可以添加一个小助手方法，如下所示：

```
class ApplicationController < ActionController::Base
  def api_request?
    request.port == 443
  end
end 
```

然后在您的其他控制器中：

```
class UserController < ApplicationController 
  def index
    @users = User.all
    if api_request?
      render :json => @users.to_json
    else
      render :action => :index
    end
  end
end 
```

# objective-c - UIViewController 后面的括号

> ID：11112027
> 
> 赞同：1
> 
> 时间：2012-06-20T02:23:25.113
> 
> 标签：objective-c

在研究开源项目的时候看到了一些代码：[here](https://github.com/Inferis/ViewDeck)。但是在检查了 Objective-C 语法后，我无法弄清楚它的含义。

代码如下所示：

```
@interface UIViewController (UIViewDeckItem) 
@property(nonatomic,readonly,retain) IIViewDeckController *viewDeckController;  
@end

@implementation UIViewController (UIViewDeckItem) 
@dynamic viewDeckController;
...
@end

@implementation UIViewController (UIViewDeckController_ViewContainmentEmulation_Fakes) 
...
@end 
```

不确定在哪里可以找到有关此实现的相关 Obejctive-C 信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T02:27:55.467

我认为这就是你要找的：

**类别和扩展**

[http://developer.apple.com/library/ios/#documentation/cocoa/conceptual/objectivec/chapters/occategories.html](http://developer.apple.com/library/ios/#documentation/cocoa/conceptual/objectivec/chapters/occategories.html)

# javascript - setTimeout 故障与直接调用

> ID：11112028
> 
> 赞同：0
> 
> 时间：2012-06-20T02:23:37.100
> 
> 标签：javascript, canvas, timer, settimeout

> **可能重复：**
> [循环内的 Javascript 闭包 - 简单的实际示例](https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example)

我有一个简单的问题。我正在使用 HTML5 画布元素，并且我有一个在画布上绘制一系列框的循环。此代码工作正常：

```
for (var i = 0; i < this.boxes.length; i++) {
    this.drawBox(canvas, this.boxes[i]);
} 
```

现在我想给画框循环添加一点延迟，所以我将循环更改为：

```
for (var i = 0; i < this.boxes.length; i++) {
     var me = this;
     var xcanvas = canvas;
     var box = this.boxes[i];
     var func = function () {
         me.drawBox(xcanvas, box);
     };
     window.setTimeout(func, i * 50);
  } 
```

第二个循环仅从 this.boxes 数组中绘制一个框（数组可以包含 1 到 16 个框）。源代码中的所有其他代码都是相同的。怎么会这样？

** 详细的变量声明用于对引用进行故障排除 **

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T02:43:08.060

我不知道您的问题的确切答案，但我在类似情况下所做的只是将 setInterval 设置为 50 毫秒，然后在该间隔函数中 clearInterval 和 setInterval 再次使用 50 * i ... 类似于以下内容：

```
var initialDelay = 50;
var counter = 0;
var intervalID;

intervalID = setInterval(myFunction(initialDelay), initialDelay);

myFunction(delay) {
     if (counter >= this.boxes.length) {
         clearInterval(intervalID);             
         //Clear interval and do nothing
     }
     clearInterval(intervalID);
     me.drawBox(xcanvas, box); //Do the stuff you want to do in your interval
     intervalID = setInterval(myFunction(delay * 50), initialDelay);
} 
```

setInterval 本质上就像一个循环。

# emacs - 使用 Emacs 和 Gdb 设置断点，为什么提示总是“当前缓冲区没有进程”？

> ID：11112034
> 
> 赞同：3
> 
> 时间：2012-06-20T02:25:03.553
> 
> 标签：emacs, process, gdb

我使用 Emacs 和 Gdb 调试我的程序，当我在我的程序中设置断点（MX gud-break）时，提示是“当前缓冲区没有进程”。有人遇到过这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-24T20:14:12.980

您需要先启动 GDB 进程...

如果您仍然有错误，您必须通过以下方式提交错误：**Mx emacs-bug**并编写完整的步骤来重现错误。

# macos - 有没有在没有虚拟机的情况下在 mac os x 上开发基于 epoll 的网络程序？

> ID：11112038
> 
> 赞同：3
> 
> 时间：2012-06-20T02:25:20.250
> 
> 标签：macos, epoll

据我所知，epoll 是现代 linux 内核的一个特性。但我希望有一种方法可以在 Mac OS X 上开发基于 epoll 的程序，而不是使用虚拟机。一个开发环境就好了，我会在真正的linux服务器上做负载测试和运行产品模式，因为在这些之前，源代码会在linux系统上重新编译。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T02:52:41.013

不是这样的；`epoll()`在 Mac OS X 上不存在。它确实有一些类似的[`kqueue`](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man2/kqueue.2.html)系统调用。或者，您可以使用诸如[libevent](http://libevent.org/)之类的库来抽象出差异。

# javascript - 如何合并这些 ajax 调用

> ID：11112041
> 
> 赞同：0
> 
> 时间：2012-06-20T02:25:56.217
> 
> 标签：javascript, jquery, ajax

我做了一门课，我得到了工作，但我认为它效率低下，因为我浸入 DOM 3 次，而它可能是 1 次。我认为您不需要为此查看其余代码，因此我仅发布效率低下的部分以保持整洁：

```
function showSelectedAttr(){

    var productID = <?php echo $product_info['products_id'];?>;
    var sizeID = 0; 
    var tallID = 0;
    var colID = 0;

    $(".sizeopt").each(function() {
          if ($(this).is(':checked'))  sizeID = $(this).val();                         
     });

     $(".tallopt").each(function() {
          if ($(this).is(':checked'))  tallID = $(this).val();                         
     });

     $(".mine_color").each(function() {
          if ($(this).is(':checked'))  colID = $(this).val();                          
     });

    $.ajax({
              type: "POST",
              url: 'get_product_attribute.php',
              data: "product_id="+ productID +"&size_id="+ sizeID,
              success: function( response ) {       
                    $("#attr_container").html(response);
              } 
     });

     $.ajax({
              type: "POST",
              url: 'get_product_attribute.php',
              data: "product_id="+ productID +"&size_id="+ tallID,
              success: function( response ) {       
                    $("#attr_container_tall").html(response);
              } 
     });

         $.ajax({
              type: "POST",
              url: 'get_product_attribute.php',
              data: "product_id="+ productID +"&size_id="+ colID,
              success: function( response ) {       
                    $("#attr_container_color").html(response);
              } 
     });

} 
```

如您所见，ajax api 被分别调用了 3 次。有一个更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T02:56:10.763

```
function showSelectedAttr() {

    var productID = <?php echo $product_info['products_id'] ?>;
    var sizeID = 0; 
    var tallID = 0;
    var colID = 0;

    $(".sizeopt").each(function() {
        if ($(this).is(':checked')) sizeID = $(this).val();                         
    });

    $(".tallopt").each(function() {
         if ($(this).is(':checked')) tallID = $(this).val();                         
    });

    $(".mine_color").each(function() {
         if ($(this).is(':checked')) colID = $(this).val();                          
    });

    $.ajax({ 
        dataType:"json",
        type: "POST", 
        url: 'get_product_attribute.php', 
        data: {
            productId : productID,
            sizeId : sizeID,
            tailId : tailID,
            colId : colID
        }, 
        success: function( response ) {    
            $("#attr_container").html(response.Text);
            $("#attr_container_tall").html(response.Tall);
            $("#attr_container_color").html(response.Color);
        }  
    }); 
} 
```

响应是 json 格式是`{Text: "value", Tall: "value", Color: "value" }`

# python - 从字符串**正确**创建一个 lambda 函数

> ID：11112046
> 
> 赞同：15
> 
> 时间：2012-06-20T02:28:06.020
> 
> 标签：python, string, lambda

给定一个字符串，例如

```
"2*(i+j) <= 100" 
```

我想生成对应的lambda函数，

```
fn = lambda i,j: 2*(i+j) <= 100 
```

*   我可以用 来做到这一点`eval`，但我正在寻找一种不那么邪恶的方法。

*   我已经找到

    ```
    import ast
    f = ast.Lambda('i,j', '2*(i+j) <= 100') 
    ```

    但我还没有弄清楚如何执行结果！

*   理想情况下，我也想自动提取参数列表 ('i','j') - 现在，我只是使用 re.findall('\w+')，但我希望能够正确使用现有功能，`cos`而不是将它们隐藏为“关键字”。

* * *

我在看[是否有用于处理复杂数学集的 Python 库（使用数学集构建器符号构造）？](https://stackoverflow.com/questions/11110595/is-there-a-python-library-for-handling-complicated-mathematical-sets-constructe)并试图弄清楚如何最好地将 set-builder 符号解析为 lambdas 以提供给约束求解器。

我基本上希望 ast.literal_eval 也能识别变量。

理想情况下，考虑`i >= 20`到我想回来`((lambda x: x >= 20), ['i'])`，然后我可以直接喂给`constraint`.

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-20T02:33:30.743

您正在寻找 的替代品`eval`，但为什么呢？你接受任意代码并执行它，为什么不使用`eval`？避免的唯一原因`eval`是因为它很危险，但是您最终创建的 lambda 也同样危险。

另外，请记住，[您真的不能在 CPython 中安全地执行此操作](http://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-20T04:30:58.607

如果您的输入来自**受信任的来源**，那么*eval()*是最简单、最清晰、最可靠的方法。

如果您的输入**不受信任**，则需要对其进行**清理**。

一种合理的方法是使用正则表达式。确保字符串中没有函数调用、属性查找或双下划线。

或者，一种更复杂的方法是遍历 AST 解析树以确定是否存在任何令人反感的调用。

第三种方法是遍历 AST 解析树并直接执行它。这使您可以完全控制接听电话的内容。ast.literal_eval 函数采用这种方法。也许你从它的源代码开始，为你想要支持的任何操作做一些扩展：

```
def literal_eval(node_or_string):
    """
    Safely evaluate an expression node or a string containing a Python
    expression.  The string or node provided may only consist of the following
    Python literal structures: strings, numbers, tuples, lists, dicts, booleans,
    and None.
    """
    _safe_names = {'None': None, 'True': True, 'False': False}
    if isinstance(node_or_string, basestring):
        node_or_string = parse(node_or_string, mode='eval')
    if isinstance(node_or_string, Expression):
        node_or_string = node_or_string.body
    def _convert(node):
        if isinstance(node, Str):
            return node.s
        elif isinstance(node, Num):
            return node.n
        elif isinstance(node, Tuple):
            return tuple(map(_convert, node.elts))
        elif isinstance(node, List):
            return list(map(_convert, node.elts))
        elif isinstance(node, Dict):
            return dict((_convert(k), _convert(v)) for k, v
                        in zip(node.keys, node.values))
        elif isinstance(node, Name):
            if node.id in _safe_names:
                return _safe_names[node.id]
        elif isinstance(node, BinOp) and \
             isinstance(node.op, (Add, Sub)) and \
             isinstance(node.right, Num) and \
             isinstance(node.right.n, complex) and \
             isinstance(node.left, Num) and \
             isinstance(node.left.n, (int, long, float)):
            left = node.left.n
            right = node.right.n
            if isinstance(node.op, Add):
                return left + right
            else:
                return left - right
        raise ValueError('malformed string')
    return _convert(node_or_string) 
```

# ruby-on-rails - 尝试使用自定义 buildpack 时出错

> ID：11112050
> 
> 赞同：1
> 
> 时间：2012-06-20T02:28:24.023
> 
> 标签：ruby-on-rails, deployment, heroku

我正在尝试在 Heroku 上使用 phantom.js 自定义 buildpack（[https://github.com/stomita/heroku-buildpack-phantomjs](https://github.com/stomita/heroku-buildpack-phantomjs)）

我按照指示创建了一个项目

```
heroku create --stack cedar --buildpack http://github.com/stomita/heroku-buildpack-phantomjs.git 
```

但是当我这样做时，一切似乎都出错了。我最初认为这是其他一些问题（[Heroku run rake db:migrate 错误，“没有要加载的此类文件--bundler/setup”](https://stackoverflow.com/questions/11111696/heroku-run-rake-dbmigrate-error-with-no-such-file-to-load-bundler-setup)）但在创建一个没有 buildpack 的新应用程序后意识到它是导致问题的 buildpack .

基本上，当我使用 buildpack 时，一切都会出错：我的进程都没有启动，捆绑进程不起作用等。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:29:01.990

这对我有用：

1.  运行`heroku create --stack cedar --buildpack http://github.com/stomita/heroku-buildpack-phantomjs.git`以在您的 Heroku 帐户上创建一个新的 Heroku 应用程序。
2.  转到 Heroku 并找到您的应用程序存储库。
3.  签出`git@heroku.com:stark-mist-2296.git`并切换到克隆目录。
4.  运行`rails new .`以创建一个新的空白 Rails 应用程序。
5.  更改`Gemfile`为在 Heroku 上使用 Postgres——<code>pg 而不是`sqlite3`.
6.  运行`git push origin master`。

您应该会看到一个空白的 Rails 应用程序。

可能是您没有`pg`在 Heroku 上使用 gem。

**参考**

*   [Heroku.com，“配置和配置变量”](https://devcenter.heroku.com/articles/rails3)

# ios - 在 iOS 配置门户上创建 AdHoc 配置文件时出错

> ID：11112051
> 
> 赞同：2
> 
> 时间：2012-06-20T02:28:25.623
> 
> 标签：ios, provisioning

每当我尝试在 iOS 配置门户上编辑现有的或创建新的分发配置配置文件时，新配置文件的状态会变为“待处理”，然后几乎立即变为“错误”（参见下面的屏幕截图）。

这可能是什么原因？为什么我不能编辑个人资料？

![在此处输入图像描述](../Images/4bd87a1d3d1ed62f48793051ee9d0972.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T02:33:17.353

哎呀。Apple 门户似乎有问题： [https ://devforums.apple.com/message/680208](https://devforums.apple.com/message/680208)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:52:53.107

[当我尝试添加配置文件时，iOS Provisioning Portal 出现错误](https://stackoverflow.com/questions/11112292/ios-provisioning-portal-gives-error-when-i-try-to-add-a-profile)

这个问题也和上面一样，我也是在路上问这个的，我想大家都有问题。

请参阅 UrK 答案以获取人们正在谈论它的论坛的链接

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T07:05:17.567

添加新设备后，我遇到了同样的错误。我想，我无法将特定设备添加到设备列表中。我尝试删除设备并重新创建配置文件，但我得到了同样的错误。

[https://devforums.apple.com/thread/155483?start=0&tstart=0](https://devforums.apple.com/thread/155483?start=0&tstart=0)

我在苹果论坛上看到很多开发者都面临着同样的问题。由于每个人都面临同样的问题，所以我们必须等到问题得到解决。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T09:42:55.367

**iOS Provisioning Portal 说**

> 我们正在对 Provisioning 服务进行维护。在维护完成之前，所有供应请求都将保持挂起状态，届时将自动处理所有挂起的请求。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T10:39:18.147

苹果表示，他们需要将 Provisioning Portal 放入 mainanace。现在应该修复它。Pofiles 可以更改并再次下载。

# c# - Parallel.ForEach 与 ListView

> ID：11112053
> 
> 赞同：2
> 
> 时间：2012-06-20T02:29:03.803
> 
> 标签：c#, task-parallel-library, parallel.foreach

我有以下代码：

```
Parallel.ForEach(this.listView2.CheckedItems,
                    new ParallelOptions { MaxDegreeOfParallelism = 4 },
                    (CheckedItem) =>
                    {
                         //do something
                    }); 
```

我得到以下**编译**错误：

> 无法从用法中推断出方法“System.Threading.Tasks.Parallel.ForEach(System.Collections.Concurrent.OrderablePartitioner, System.Threading.Tasks.ParallelOptions, System.Action)”的类型参数。尝试明确指定类型参数。

我搜索了如何在任务中使用 listview，但找不到任何东西。

**如何将 Parallel.ForEach 与 ListView 一起使用？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-20T02:57:55.300

ListView.CheckedItems 返回一个[CheckedItemsListViewCollection](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.checkedlistviewitemcollection.aspx)，它没有实现任何泛型集合类型，因为它位于泛型尚不可用的 .NET 1.x 区域中。您需要告诉 Plinq 哪些类型的项目驻留在集合中。如果您阅读文档， CheckedListViewCollection 包含[ListViewItems](http://msdn.microsoft.com/en-us/library/system.windows.forms.listviewitem.aspx)。您可以使用 Linq 通过 Cast 扩展方法显式指定类型。

```
Parallel.ForEach(this.listView2.CheckedItems.Cast<ListViewItem>(),
                    new ParallelOptions { MaxDegreeOfParallelism = 4 },
                    (CheckedItem) =>
                    {
                         //do something
                    }); 
```

这整个讨论可能会变得过时，因为 ListViews（因此，大多数其他 winform 控件）只能从 UI 线程访问。如果您必须并行，您可以在 ListViewItem 中创建数据的副本并对其进行处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T02:53:21.280

将代码更改为以下内容。请注意，要使其正常工作，您需要`using`为 System.Linq 添加一条语句，因为使用 Cast 扩展方法。

```
Parallel.ForEach<string>(this.listView2.CheckedItems.Cast<string>(), 
    new ParallelOptions { MaxDegreeOfParallelism = 4 }, 
    (CheckedItem) => 
    { 
        //do something 
    }); 
```

这应该可以编译，因为您明确定义了类型，因为 CLR 无法从非泛型集合中推断类型。

# c# - Sql Server 中违反 PRIMARY KEY 约束

> ID：11112054
> 
> 赞同：-6
> 
> 时间：2012-06-20T02:29:13.447
> 
> 标签：c#, asp.net

我创建了一个数据库，其中列有名字 lastname 、Id 、到达日期和今天日期。都是 nchar() 的数据类型；我现在在网页中将 ID 作为主键，我输入了 vales 并单击了提交，但出现错误

违反主键约束：无法在对象“dbo.Accomdation”中插入重复键。该语句已终止。

代码给出为

```
 SqlConnection con = new SqlConnection(@"Data Source=.\sqlexpress;Initial Catalog=Accomdation;Integrated Security=True");
    con.Open();

    string f = TextBox1.Text;
    string g = TextBox5.Text;
    string d = DropDownList1.Text;
    string s = TextBox1.Text;
    string a = TextBox2.Text;
    string h = TextBox7.Text;
    string k = TextBox6.Text;
    string u = TextBox8.Text;
    string sql=("INSERT INTO Accomdation ([First Name], [LAst Name], Gender, [UHCL ID], [Date OF arrival], [FLight No], Email)VALUES        ('tya', 'tya', 'tya', 'tya', 'tya', 'tya', 'tya')");

    SqlCommand sw = new SqlCommand(sql,con); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:25:37.297

由于您没有为 ID 插入值，因此您应该将该 ID 设为自动递增而不是 null。

如下所示。

```
create table Accomdation(
   AccID int not null identity(1,1) primary key,

   define other columns 

 ) 
```

并使用带有 SqlCommand 的参数化查询，这里是示例代码

```
string commandText = "INSERT INTO Accomdation ([First Name], [LAst Name]) VALUES (@FirstName, @LastName)";
using (SqlConnection connection = new SqlConnection(connectionString))
{
    SqlCommand command = new SqlCommand(commandText, connection);
    command.Parameters.AddWithValue("@FirstName", firstName);
    command.Parameters.AddWithValue("@LastName", lastName);

    try
    {
        connection.Open();
        command.ExecuteNonQuery();
    }
    catch (Exception ex)
    {
        Console.WriteLine(ex.Message);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T02:34:14.550

ID（主键）是身份吗？它需要。主键是复合聚集索引/如何？该错误意味着您正在尝试将某些内容插入到已经存在的 PK 中。

从表中选择并查看存在的内容。尝试在管理工作室中只运行插入语句，使用不同的值。

# javascript - 如何在 PrimeFaces 中使用 jQuery 和 jQuery 插件

> ID：11112058
> 
> 赞同：17
> 
> 时间：2012-06-20T02:29:58.093
> 
> 标签：javascript, jquery, css, jsf, primefaces

我有一个 PrimeFaces 网络应用程序。当我手动添加 jQuery 和插件时，如下所示，

```
<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="js/onebyone/jquery.onebyone.js"></script>              
<script type="text/javascript" src="js/onebyone/jquery.touchwipe.min.js"></script> 
<script type="text/javascript" src="js/jquery.carouFredSel-5.5.0.js"></script> 
```

然后 PrimeFaces 组件失去了它们的功能和一些样式。例如，`<p:dialog>`不显示、`<p:accordionPanel>`不滑动、`<p:panelGrid>`丢失填充等。

这是如何引起的，我该如何解决？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-06-20T02:50:09.113

PrimeFaces 已经捆绑了 jQuery，但是您已经下载并安装了另一个只会与 PrimeFaces 捆绑的 jQuery 冲突的软件。我敢肯定，如果您对 webbrowser 的内置 JavaScript 控制台多加关注和喜爱，您就会看到 JS 错误。而且，如果您通过右键单击在 webbrowser 中*查看源代码*检查 JSF 生成的 HTML 输出，您会看到另一个`jquery.js`文件包含在 HTML 中`<head>`。

您需要**删除**以下行：

```
<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script> 
```

如果您的页面不一定使用 PrimeFaces 组件，因此不会自动包含其 jQuery，那么您需要通过适当的`<h:outputScript>`.

```
<h:outputScript library="primefaces" name="jquery/jquery.js" /> 
```

请注意，使用`<h:outputScript>`不会在实际使用 PrimeFaces 组件的页面上包含重复的脚本。

### 也可以看看：

*   [将 jQuery 添加到 PrimeFaces 会导致 Uncaught TypeError 无处不在](https://stackoverflow.com/questions/16166039/adding-jquery-to-primefaces-results-in-uncaught-typeerror-over-all-place)
*   [如何解决与primefaces jquery的冲突](https://stackoverflow.com/questions/25508564/how-to-solve-a-conflict-with-primefaces-jquery/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T18:41:26.590

**编辑2：**我进行了手动调试，发现这条线导致了问题，在删除它之后，希望一切恢复正常。

```
 <script type="text/javascript" src="js/main.js"></script> 
```

我实际上并没有收到任何错误或排泄物，但一些 primeface 组件表现得很奇怪。例如，我有一个`selectOneMenu`用转换器定义的组件。选择一个项目时，表单通过AJAX更新。问题是在选择一个项目后菜单项被破坏（它们代表数字而不是文本），好像转换器不工作并且页面的其他命令停止运行（没有做任何事情）。

另一个问题是`datatable`每行都有一个触发某些 Ajax 行为的命令链接的组件。单击链接后，数据表的分页不起作用。

从这些问题中，我假设 jQuery 和 ajax 之间存在冲突。

虽然它是一个非常大的文件，但如果有人感兴趣，这是导致麻烦的 js 文件的内容

```
 (function($) {
$(function(){
    $(document).ready(function(){

    $('ul.accordion li').click(function () {
        $(this).each(function() {
            $('ul.accordion li').removeClass('active');
            });
        $(this).addClass('active');
    });

    $('ul.accordion').accordion({
        active: ".active",
        autoHeight: false,
        header: ".opener",
        collapsible: true,
        event: "click"
    });
});
});
})(jQuery);

// background resize init
function initBackgroundResize() {
var holder = document.getElementById('bg');
if(holder) {
    var images = holder.getElementsByTagName('img');
    for(var i = 0; i < images.length; i++) {
        BackgroundStretcher.stretchImage(images[i]);
    }
    BackgroundStretcher.setBgHolder(holder);
}
 }

 if (window.addEventListener) window.addEventListener("load", initBackgroundResize, false);
 else if (window.attachEvent) window.attachEvent("onload", initBackgroundResize);

 // image stretch module
 BackgroundStretcher = {
images: [],
holders: [],
viewWidth: 0,
viewHeight: 0,
ieFastMode: true,
stretchBy: 'window', // "window", "page", "block-id", or block
init: function(){
    this.addHandlers();
    this.resizeAll();
    return this;
},
stretchImage: function(origImg) {
    // wrap image and apply smoothing
    var obj = this.prepareImage(origImg);

    // handle onload
    var img = new Image();
    img.onload = this.bind(function(){
        obj.iRatio = img.width / img.height;
        this.resizeImage(obj);
    });
    img.src = origImg.src;
    this.images.push(obj);
},
prepareImage: function(img) {
    var wrapper = document.createElement('span');
    img.parentNode.insertBefore(wrapper, img);
    wrapper.appendChild(img);

    if(/MSIE (6|7|8)/.test(navigator.userAgent) && img.tagName.toLowerCase()  === 'img') {
        wrapper.style.position = 'absolute';
        wrapper.style.display = 'block';
        wrapper.style.zoom = 1;
        if(this.ieFastMode) {
            img.style.display = 'none';
            wrapper.style.filter =  'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+img.src+'",  sizingMethod="scale")'; // enable smoothing in IE6
            return wrapper;
        } else {
            img.style.msInterpolationMode = 'bicubic'; // IE7 smooth  fix
            return img;
        }
    } else {
        return img;
    }
},
setBgHolder: function(obj) {
    this.holders.push(obj);
    this.resizeAll();
},
resizeImage: function(obj) {
    if(obj.iRatio) {
        // calculate dimensions
        var dimensions = this.getProportion({
            ratio: obj.iRatio,
            maskWidth: this.viewWidth,
            maskHeight: this.viewHeight
        });
        // apply new styles
        obj.style.width = dimensions.width + 'px';
        obj.style.height = dimensions.height + 'px';
        obj.style.top = dimensions.top + 'px';
        obj.style.left = dimensions.left +'px';
    }
},
resizeHolder: function(obj) {
    obj.style.width = this.viewWidth+'px';
    obj.style.height = this.viewHeight+'px';
},
getProportion: function(data) {
    // calculate element coords to fit in mask
    var ratio = data.ratio || (data.elementWidth / data.elementHeight);
    var slideWidth = data.maskWidth, slideHeight = slideWidth / ratio;
    if(slideHeight < data.maskHeight) {
        slideHeight = data.maskHeight;
        slideWidth = slideHeight * ratio;
    }
    return {
        width: slideWidth,
        height: slideHeight,
        top: (data.maskHeight - slideHeight) / 2,
        left: (data.maskWidth - slideWidth) / 2
    }
},
resizeAll: function() {
    // crop holder width by window size
    for(var i = 0; i < this.holders.length; i++) {
        this.holders[i].style.width = '100%'; 
    }

    // delay required for IE to handle resize
    clearTimeout(this.resizeTimer);
    this.resizeTimer = setTimeout(this.bind(function(){
        // hide background holders
        for(var i = 0; i < this.holders.length; i++) {
            this.holders[i].style.display = 'none';
        }

        // calculate real page dimensions with hidden background blocks
        if(typeof this.stretchBy === 'string') {
            // resize by window or page dimensions
            if(this.stretchBy === 'window' || this.stretchBy === 'page') {
                this.viewWidth =  this.stretchFunctions[this.stretchBy].width();
                this.viewHeight = this.stretchFunctions[this.stretchBy].height();
            }
            // resize by element dimensions (by id)
            else {
                var maskObject = document.getElementById(this.stretchBy);
                this.viewWidth = maskObject ? maskObject.offsetWidth : 0;
                this.viewHeight = maskObject ? maskObject.offsetHeight : 0;
            }
        } else {
            this.viewWidth = this.stretchBy.offsetWidth;
            this.viewHeight = this.stretchBy.offsetHeight;
        }

        // show and resize all background holders
        for(i = 0; i < this.holders.length; i++) {
            this.holders[i].style.display = 'block';
            this.resizeHolder(this.holders[i]);
        }
        for(i = 0; i < this.images.length; i++) {
            this.resizeImage(this.images[i]);
        }
    }),10);
},
addHandlers: function() {
    if (window.addEventListener) {
        window.addEventListener('resize', this.bind(this.resizeAll), false);
        window.addEventListener('orientationchange',  this.bind(this.resizeAll), false);
    } else if (window.attachEvent) {
        window.attachEvent('onresize', this.bind(this.resizeAll));
    }
},
stretchFunctions: {
    window: {
        width: function() {
            return typeof window.innerWidth === 'number' ?  window.innerWidth : document.documentElement.clientWidth;
        },
        height: function() {
            return typeof window.innerHeight === 'number' ? window.innerHeight : document.documentElement.clientHeight;
        }
    },
    page: {
        width: function() {
            return !document.body ? 0 : Math.max(
                Math.max(document.body.clientWidth,  document.documentElement.clientWidth),
                Math.max(document.body.offsetWidth, document.body.scrollWidth)
            );
        },
        height: function() {
            return !document.body ? 0 : Math.max(
                Math.max(document.body.clientHeight, document.documentElement.clientHeight),
                Math.max(document.body.offsetHeight,  document.body.scrollHeight)
            );
        }
    }
},
bind: function(fn, scope, args) {
    var newScope = scope || this;
    return function() {
        return fn.apply(newScope, args || arguments);
    }
}
}.init();
// clear inputs on focus
function initInputs() {
// replace options
var opt = {
    clearInputs: true,
    clearTextareas: true,
    clearPasswords: true
}
// collect all items
var inputs = [].concat(
    PlaceholderInput.convertToArray(document.getElementsByTagName('input')),
    PlaceholderInput.convertToArray(document.getElementsByTagName('textarea'))
);
// apply placeholder class on inputs
for(var i = 0; i < inputs.length; i++) {
    if(inputs[i].className.indexOf('default') < 0) {
        var inputType = PlaceholderInput.getInputType(inputs[i]);
        if((opt.clearInputs && inputType === 'text') ||
            (opt.clearTextareas && inputType === 'textarea') || 
            (opt.clearPasswords && inputType === 'password')
        ) {
            new PlaceholderInput({
                element:inputs[i],
                wrapWithElement:false,
                showUntilTyping:false,
                getParentByClass:false,
                placeholderAttr:'value'
            });
        }
    }
}
}

// input type placeholder class
;(function(){
PlaceholderInput = function() {
    this.options = {
        element:null,
        showUntilTyping:false,
        wrapWithElement:false,
        getParentByClass:false,
        placeholderAttr:'value',
        inputFocusClass:'focus',
        inputActiveClass:'text-active',
        parentFocusClass:'parent-focus',
        parentActiveClass:'parent-active',
        labelFocusClass:'label-focus',
        labelActiveClass:'label-active',
        fakeElementClass:'input-placeholder-text'
    }
    this.init.apply(this,arguments);
}
PlaceholderInput.convertToArray = function(collection) {
    var arr = [];
    for (var i = 0, ref = arr.length = collection.length; i < ref; i++) {
     arr[i] = collection[i];
    }
    return arr;
}
PlaceholderInput.getInputType = function(input) {
    return (input.type ? input.type : input.tagName).toLowerCase();
}
PlaceholderInput.prototype = {
    init: function(opt) {
        this.setOptions(opt);
        if(this.element && this.element.PlaceholderInst) {
            this.element.PlaceholderInst.refreshClasses();
        } else {
            this.element.PlaceholderInst = this;
            if(this.elementType == 'text' || this.elementType ==  'password' || this.elementType == 'textarea') {
                this.initElements();
                this.attachEvents();
                this.refreshClasses();
            }
        }
    },
    setOptions: function(opt) {
        for(var p in opt) {
            if(opt.hasOwnProperty(p)) {
                this.options[p] = opt[p];
            }
        }
        if(this.options.element) {
            this.element = this.options.element;
            this.elementType =  PlaceholderInput.getInputType(this.element);
            this.wrapWithElement = (this.elementType === 'password' || this.options.showUntilTyping ? true : this.options.wrapWithElement);
            this.setOrigValue( this.options.placeholderAttr == 'value' ? this.element.defaultValue : this.element.getAttribute(this.options.placeholderAttr) );
        }
    },
    setOrigValue: function(value) {
        this.origValue = value;
    },
    initElements: function() {
        // create fake element if needed
        if(this.wrapWithElement) {
            this.element.value = '';
            this.element.removeAttribute(this.options.placeholderAttr);
            this.fakeElement = document.createElement('span');
            this.fakeElement.className = this.options.fakeElementClass;
            this.fakeElement.innerHTML += this.origValue;
            this.fakeElement.style.color = getStyle(this.element, 'color');
            this.fakeElement.style.position = 'absolute';
            this.element.parentNode.insertBefore(this.fakeElement, this.element);
        }
        // get input label
        if(this.element.id) {
            this.labels = document.getElementsByTagName('label');
            for(var i = 0; i < this.labels.length; i++) {
                if(this.labels[i].htmlFor === this.element.id) {
                    this.labelFor = this.labels[i];
                    break;
                }
            }
        }
        // get parent node (or parentNode by className)
        this.elementParent = this.element.parentNode;
        if(typeof this.options.getParentByClass === 'string') {
            var el = this.element;
            while(el.parentNode) {
                if(hasClass(el.parentNode,  this.options.getParentByClass)) {
                    this.elementParent = el.parentNode;
                    break;
                } else {
                    el = el.parentNode;
                }
            }
        }
    },
    attachEvents: function() {
        this.element.onfocus = bindScope(this.focusHandler, this);
        this.element.onblur = bindScope(this.blurHandler, this);
        if(this.options.showUntilTyping) {
            this.element.onkeydown = bindScope(this.typingHandler, this);
            this.element.onpaste = bindScope(this.typingHandler, this);
        }
        if(this.wrapWithElement) this.fakeElement.onclick = bindScope(this.focusSetter, this);
    },
    togglePlaceholderText: function(state) {
        if(this.wrapWithElement) {
            this.fakeElement.style.display = state ? '' : 'none';
        } else {
            this.element.value = state ? this.origValue : '';
        }
    },
    focusSetter: function() {
        this.element.focus();
    },
    focusHandler: function() {
        this.focused = true;
        if(!this.element.value.length || this.element.value === this.origValue) {
            if(!this.options.showUntilTyping) {
                this.togglePlaceholderText(false);
            }
        }
        this.refreshClasses();
    },
    blurHandler: function() {
        this.focused = false;
        if(!this.element.value.length || this.element.value === this.origValue) {
            this.togglePlaceholderText(true);
        }
        this.refreshClasses();
    },
    typingHandler: function() {
        setTimeout(bindScope(function(){
            if(this.element.value.length) {
                this.togglePlaceholderText(false);
                this.refreshClasses();
            }
        },this), 10);
    },
    refreshClasses: function() {
        this.textActive = this.focused || (this.element.value.length && this.element.value !== this.origValue);
        this.setStateClass(this.element, this.options.inputFocusClass,this.focused);
        this.setStateClass(this.elementParent, this.options.parentFocusClass,this.focused);
        this.setStateClass(this.labelFor, this.options.labelFocusClass,this.focused);
        this.setStateClass(this.element, this.options.inputActiveClass, this.textActive);
        this.setStateClass(this.elementParent, this.options.parentActiveClass, this.textActive);
        this.setStateClass(this.labelFor, this.options.labelActiveClass, this.textActive);
    },
    setStateClass: function(el,cls,state) {
        if(!el) return; else if(state) addClass(el,cls); else removeClass(el,cls);
    }
}

// utility functions
function hasClass(el,cls) {
    return el.className ? el.className.match(new  RegExp('(\\s|^)'+cls+'(\\s|$)')) : false;
}
function addClass(el,cls) {
    if (!hasClass(el,cls)) el.className += " "+cls;
}
function removeClass(el,cls) {
    if (hasClass(el,cls)) {el.className=el.className.replace(new RegExp('(\\s|^)'+cls+'(\\s|$)'),' ');}
}
function bindScope(f, scope) {
    return function() {return f.apply(scope, arguments)}
}
function getStyle(el, prop) {
    if (document.defaultView && document.defaultView.getComputedStyle) {
        return document.defaultView.getComputedStyle(el, null)[prop];
    } else if (el.currentStyle) {
        return el.currentStyle[prop];
    } else {
        return el.style[prop];
    }
}
  }());

  if (window.addEventListener) window.addEventListener("load", initInputs, false);
 else if (window.attachEvent) window.attachEvent("onload", initInputs);
 // init rounded corners
 function initRoundedCorners() {
var images = document.getElementsByTagName('img');
for(var i = 0; i < images.length; i++) {
    if(images[i].className.indexOf('rounded-corner-') != -1) {
        var radValue = parseInt(images[i].className.replace(/.*rounded-corner-(\d+).*/, '$1'),10);
        if(!isNaN(radValue)) {
            new ImgCorner({
                image: images[i],
                radius: radValue
            });
        }
    }
}
 }

 // DOM ready
 function domReady(handler){
var called = false
function ready() {
    if (called) return;
    called = true
    handler()
}
if (document.addEventListener) {
    document.addEventListener( "DOMContentLoaded", ready, false )
} else if (document.attachEvent) {
    if (document.documentElement.doScroll && window == window.top) {
        function tryScroll(){
            if (called) return
            if (!document.body) return
            try {
                document.documentElement.doScroll("left")
                ready()
            } catch(e) {
                setTimeout(tryScroll, 0)
            }
        }
        tryScroll()
    }
    document.attachEvent("onreadystatechange", function(){
        if ( document.readyState === "complete" ) {
            ready()
        }
    })
}
if (window.addEventListener) window.addEventListener('load', ready, false)
else if (window.attachEvent) window.attachEvent('onload', ready)
}

domReady(initRoundedCorners);

 // rounded image module
 ;(function(window){
// init VML for IE6, IE7, IE8
var IE = /(MSIE (6|7|8))/.test(navigator.userAgent);
if(IE) {
    var ns = 'rcr';
    if(document.namespaces && !document.namespaces[ns]) {
        // add VML namespace
        document.namespaces.add(ns,'urn:schemas-microsoft-com:vml','#default#VML'); 
        // create stylesheets
        var screenStyleSheet, printStyleSheet;
        screenStyleSheet = document.createElement('style');
        screenStyleSheet.setAttribute('media', 'screen');
        document.documentElement.firstChild.insertBefore(screenStyleSheet, document.documentElement.firstChild.firstChild);
        if (screenStyleSheet.styleSheet) {
            try {
                // add screen-media rule
                screenStyleSheet = screenStyleSheet.styleSheet;
                screenStyleSheet.addRule(ns + '\\:*', '{behavior:url(#default#VML); display:inline-block}');
                // add a print-media stylesheet
                printStyleSheet = document.createElement('style');
                printStyleSheet.setAttribute('media', 'print');
                document.documentElement.firstChild.insertBefore(printStyleSheet, screenStyleSheet);
                printStyleSheet = printStyleSheet.styleSheet;
                printStyleSheet.addRule(ns + '\\:*', '{display: none !important;}');
            } catch(e) {}
        }
    }
}

// browsers techniques support detection
var supportCanvas = !!document.createElement('canvas').getContext;
var supportBorderRadius = (function(){
    var cssAttributeNames = ['borderRadius','BorderRadius','MozBorderRadius','WebkitBorderRadius','OBorderRadius','KhtmlBorderRadius']; 
    for (var i = 0; i < cssAttributeNames.length; i++) {
        var attributeName = cssAttributeNames[i];
        if (document.documentElement.style[attributeName] !== undefined) {
            return true;
            break;
        }
    }
    return false;
}());

// rounded image class
ImgCorner = function() {
    this.options = {
        radius: 0,
        image: null,
        roundedClass: 'img-rounded'
    }
    this.init.apply(this, arguments);
}
ImgCorner.prototype = {
    init: function(options) {
        for(var p in options) {
            if(options.hasOwnProperty(p)) {
                this.options[p] = options[p];
            }
        }
        this.initImage();
    },
    initImage: function() {
        // create image to calculate dimensions
        if(this.options.image) {
            // check borders
            this.realImage = this.options.image;
            this.borderWidth = parseInt(this.getStyle(this.realImage, 'borderTopWidth')) || 0;
            this.borderColor = this.getStyle(this.realImage, 'borderTopColor') || '#333';

            this.tmpImage = new Image();
            this.tmpImage.onload = this.bind(function() {
                this.realWidth = this.tmpImage.width;
                this.realHeight = this.tmpImage.height;
                this.onImageComplete();
            },this);
            this.tmpImage.src = this.realImage.src;
        }
    },
    onImageComplete: function() {
        if(IE) {
            this.createVMLNode();
        } else {
            if(supportBorderRadius) {
                this.createCSS3Node();
            } else if(supportCanvas) {
                this.createCanvasNode();
            }
        }
    },
    createCanvasNode: function() {
        var canvas = document.createElement('canvas'), ctx;
        canvas.width = this.realWidth + this.borderWidth*2;
        canvas.height = this.realHeight + this.borderWidth*2;
        if(typeof canvas.getContext === 'function') {
            // create path function
            var createPath = function(dc,x,y,w,h,r,bw) {
                var a = Math.PI/180;
                r -= bw;
                dc.beginPath();
                dc.moveTo(x+r,y);
                dc.lineTo(x+w-r,y);
                dc.arc(x+w-r,y+r,r,a*270,a*360,false);
                dc.lineTo(x+w,y+h-r);
                dc.arc(x+w-r,y+h-r,r,a*0,a*90,false);
                dc.lineTo(x+r,y+h);
                dc.arc(x+r,y+h-r,r,a*90,a*180,false);
                dc.lineTo(x,y+r);
                dc.arc(x+r,y+r,r,a*180,a*270,false); 
            }

            // create rounded path
            ctx = canvas.getContext('2d');
            ctx.save();
            createPath(ctx, this.borderWidth,this.borderWidth,this.realWidth,this.realHeight,this.options.radius, this.borderWidth);

            // draw border only if needed
            if(this.borderWidth) {
                ctx.strokeStyle = this.borderColor;
                ctx.lineWidth = this.borderWidth*2;
                ctx.stroke();
            }
            ctx.clip();
            ctx.drawImage(this.tmpImage,this.borderWidth,this.borderWidth);
            ctx.restore();

            // append canvas image
            this.realImage.style.display = 'none';
            this.realImage.parentNode.insertBefore(canvas, this.realImage);
        }
    },
    createVMLNode: function() {
        var w = this.realWidth, h = this.realHeight, r = this.options.radius;
        var vmlBox = document.createElement('corner');
        var sh = document.createElement(ns + ':shape');
        var filler = document.createElement(ns + ':fill');
        vmlBox.style.cssText = 'width:'+this.realWidth+'px;height:'+this.realHeight+'px;margin:0;padding:0;border:0;';
        sh.appendChild(filler);
        sh.style.cssText = 'width:'+this.realWidth+'px;height:'+this.realHeight+'px;display:inline-block;';
        sh.path = 'm '+r+',0 l '+(w-r)+',0 qx '+w+','+r+' l '+w+','+(h-r)+' qy '+(w-r)+','+h+' l '+r+','+h+' qx 0,'+(h-r)+' l 0,'+r+' qy '+r+',0 e';
        sh.coordorigin = "-1 -1";
        sh.coordsize = w+' '+h;

        // draw border if needed
        if(this.borderWidth) {
            sh.strokecolor = this.borderColor;
            sh.strokeweight = this.borderWidth/2;
            sh.stroked = true;
        } else {
            sh.stroked = false;
        }

        filler.style.display = 'inline-block';
        filler.setAttribute('type', 'frame');
        filler.setAttribute('src', this.realImage.src);
        vmlBox.appendChild(sh);
        vmlBox.innerHTML = vmlBox.innerHTML;
        this.realImage.style.display = 'none';
        this.realImage.parentNode.insertBefore(vmlBox, this.realImage);
    },
    createCSS3Node: function() {
        var borderAttr = ['borderRadius', 'MozBorderRadius', 'WebkitBorderRadius', 'OBorderRadius']; 
        var span = document.createElement('span');
        span.style.width = this.realWidth+'px';
        span.style.height = this.realHeight+'px';
        span.style.display = 'inline-block';
        span.style.background = 'url('+this.realImage.src+')';
        span.style.overflow = 'hiddden';

        for(var i = 0; i < borderAttr.length; i++) {
            span.style[borderAttr[i]] = this.options.radius + 'px';
        }

        // draw border if needed
        if(this.borderWidth) {
            span.style.border = this.borderWidth+'px solid  '+this.borderColor;
        }

        this.realImage.style.border = '0';
        this.realImage.style.display = 'none';
        this.realImage.parentNode.insertBefore(span, this.realImage);
        span.appendChild(this.realImage);
        return span;
    },
    getStyle: function(el, prop) {
        if (document.defaultView && document.defaultView.getComputedStyle) {
            return document.defaultView.getComputedStyle(el, null)[prop];
        } else if (el.currentStyle) {
            return el.currentStyle[prop];
        } else {
            return el.style[prop];
        }
    },
    bind: function(fn, scope, args) {
        return function() {
            return fn.apply(scope, args || arguments);
        }
    } 
}
  })(this);
 /*! HTML5 Shiv pre3.5 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
  Uncompressed source: https://github.com/aFarkas/html5shiv  */
 ;(function(){
  /*@cc_on(function(a,b){function h(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function i(){var a=l.elements;return typeof a=="string"?a.split(" "):a}function j(a){var b={},c=a.createElement,f=a.createDocumentFragment,g=f();a.createElement=function(a){l.shivMethods||c(a);var f;return b[a]?f=b[a].cloneNode():e.test(a)?f=(b[a]=c(a)).cloneNode():f=c(a),f.canHaveChildren&&!d.test(a)?g.appendChild(f):f},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(a){return b[a]=c(a),g.createElement(a),'c("'+a+'")'})+");return n}")(l,g)}function k(a){var b;return a.documentShived?a:(l.shivCSS&&!f&&(b=!!h(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),g||(b=!j(a)),b&&(a.documentShived=b),a)}function p(a){var b,c=a.getElementsByTagName("*"),d=c.length,e=RegExp("^(?:"+i().join("|")+")$","i"),f=[];while(d--)b=c[d],e.test(b.nodeName)&&f.push(b.applyElement(q(b)));return f}function q(a){var b,c=a.attributes,d=c.length,e=a.ownerDocument.createElement(n+":"+a.nodeName);while(d--)b=c[d],b.specified&&e.setAttribute(b.nodeName,b.nodeValue);return e.style.cssText=a.style.cssText,e}function r(a){var b,c=a.split("{"),d=c.length,e=RegExp("(^|[\\s,>+~])("+i().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),f="$1"+n+"\\:$2";while(d--)b=c[d]=c[d].split("}"),b[b.length-1]=b[b.length-1].replace(e,f),c[d]=b.join("}");return c.join("{")}function s(a){var b=a.length;while(b--)a[b].removeNode()}function t(a){var b,c,d=a.namespaces,e=a.parentWindow;return!o||a.printShived?a:(typeof d[n]=="undefined"&&d.add(n),e.attachEvent("onbeforeprint",function(){var d,e,f,g=a.styleSheets,i=[],j=g.length,k=Array(j);while(j--)k[j]=g[j];while(f=k.pop())if(!f.disabled&&m.test(f.media)){for(d=f.imports,j=0,e=d.length;j<e;j++)k.push(d[j]);try{i.push(f.cssText)}catch(l){}}i=r(i.reverse().join("")),c=p(a),b=h(a,i)}),e.attachEvent("onafterprint",function(){s(c),b.removeNode(!0)}),a.printShived=!0,a)}var c=a.html5||{},d=/^<|^(?:button|form|map|select|textarea|object|iframe)$/i,e=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,f,g;(function(){var c=b.createElement("a");c.innerHTML="<xyz></xyz>",f="hidden"in c,f&&typeof injectElementWithStyles=="function"&&injectElementWithStyles("#modernizr{}",function(b){b.hidden=!0,f=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).display=="none"}),g=c.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()})();var l={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:k};a.html5=l,k(b);var m=/^$|\b(?:all|print)\b/,n="html5shiv",o=!g&&function(){var c=b.documentElement;return typeof b.namespaces!="undefined"&&typeof b.parentWindow!="undefined"&&typeof c.applyElement!="undefined"&&typeof c.removeNode!="undefined"&&typeof a.attachEvent!="undefined"}();l.type+=" print",l.shivPrint=t,t(b)})(this,document);@*/
}()); 
```

问候

# java - 通配符，java 中的泛型

> ID：11112062
> 
> 赞同：0
> 
> 时间：2012-06-20T02:30:45.420
> 
> 标签：java, generics

我在 countList 方法上遇到编译时错误。

```
public static void countList( List<? extends Number> list, int count ){
        for( int i = 0; i < count; i++ ){
            list.set(i, i-1);
        }
}

public static void clearList( List<?extends Number> list){
    list.clear();
} 
```

它说： List 类型中的方法 set(int, capture#2-of ? extends Number) 不适用于参数 (int, int)

这个错误信息是什么意思？为什么我不能设置列表中的元素？为什么可以清除列表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T02:34:56.403

因为它是“扩展数字的东西，但我不知道是什么”的列表。你不能只把整数放在那里，如果它实际上是一个双精度列表呢？

```
List<Double> list = new ArrayList<Double>();
list.add(Double.valueOf(4.5);
countList(list, 1);
Double d = list.get(0); //what happens here?  You put an Integer in there!  class cast exception 
```

您可以清除该列表，因为对于该操作，Number 的哪个子类型实际上在其中并不重要。清楚就是清楚就是清楚。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T02:55:13.810

问题是由于类型擦除，编译器不知道在运行时将哪种*类型*的 Number 添加到列表中。考虑这个例子：

```
public static void main(String[] args) {
        List<Integer> intList= new ArrayList<Integer>();
        // add some Integers to the list here
        countList(intList, 4);

}

public static void countList( List<? extends Number> list, int count ) {
        for( double d = 0.0; d < count; d++ ){
            list.set((int)d, d-1); // problem at d-1, because at runtime, 
            // the double result of d-1 will be autoboxed to a Double, 
            // and now you have added a Double to an Integer List (yikes!);
        }
} 
```

因此，您永远无法使用该语法*添加*到通用类型的集合中。`? extends SomeObject`如果必须添加，可以将方法声明更改为：

1.  将方法声明更改为`public static void countList( List<Number> list, int count )`
2.  将方法更改为`public static void countList( List<? super Integer> list, int count )`.

无论哪种方式，编译器都会停止抱怨，因为它可以放心，您永远不会在 List 中添加与声明的 List 不同类型的任何内容。

# xml - 我的 SCORM 1.2 先决条件的有效文本节点值是多少？

> ID：11112067
> 
> 赞同：2
> 
> 时间：2012-06-20T02:31:14.877
> 
> 标签：xml, manifest, scorm, scorm1.2

我正在尝试创建一个包含多个模块的有序 SCORM 1.2 包。但是，指定多个项目标识符会创建无效的 XML。

从 ADL 的“ [SCORM 内容聚合模型](http://xml.coverpages.org/SCORM-12-CAM.pdf)”（转到第 2-139 节）中，使用的文本节点值为：

```
<adlcp:prerequisites type="aicc_script">R1&R2</adlcp:prerequisites> 
```

因此，XML 在 R1/R2 之间的 & 符号上阻塞。我用什么来代替 & 字符？我尝试了一个在 Moodle 中有效但在 Saba 中无效的逗号。

我的清单内容：

```
<?xml version="1.0" encoding="UTF-8"?>
<manifest identifier="captivate_test_multires_seq_4" version="1" xmlns="http://www.imsproject.org/xsd/imscp_rootv1p1p2" xmlns:adlcp="http://www.adlnet.org/xsd/adlcp_rootv1p2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.imsproject.org/xsd/imscp_rootv1p1p2 imscp_rootv1p1p2.xsd http://www.imsglobal.org/xsd/imsmd_rootv1p2p1 imsmd_rootv1p2p1.xsd http://www.adlnet.org/xsd/adlcp_rootv1p2 adlcp_rootv1p2.xsd">
    <metadata>
        <schema>ADL SCORM</schema>
        <schemaversion>1.2</schemaversion>
        <lom xmlns="http://www.imsglobal.org/xsd/imsmd_rootv1p2p1" xsi:schemaLocation="http://www.imsglobal.org/xsd/imsmd_rootv1p2p1 imsmd_rootv1p2p1.xsd">
            <general>
                <title>
                <langstring xml:lang="x-none">Captivate Multi-Res Sequenced Test 4</langstring>
                </title>
                <description>
                    <langstring xml:lang="x-none">Captivate Multi-Res Sequenced Test 4</langstring>
                </description>
            </general>
        </lom>
    </metadata>
    <organizations default="kineo_scorm">
        <organization identifier="kineo_scorm">
            <title>Captivate Multi-Res Sequenced Test 4</title>
            <item identifier="item_1" isvisible="true" identifierref="res1">
                <title>Mod 1</title>
                <adlcp:masteryscore>50</adlcp:masteryscore>
            </item>
            <item identifier="item_2" isvisible="true" identifierref="res2">
                <title>Mod 2</title>
                <adlcp:prerequisites type="aicc_script">item_1</adlcp:prerequisites>
                <adlcp:masteryscore>50</adlcp:masteryscore>
            </item>
            <item identifier="item_3" isvisible="true" identifierref="res3">
                <title>Mod 3</title>
                <adlcp:prerequisites type="aicc_script">item1&item_2</adlcp:prerequisites>
                <adlcp:masteryscore>50</adlcp:masteryscore>
            </item>
        </organization>
    </organizations>
    <resources>
        <resource identifier="res1" type="webcontent" href="mod_1/mod_1.htm" adlcp:scormtype="sco">
            <file href="mod_1/mod_1.htm"/>
            <file href="mod_1/mod_1.swf"/>
        </resource>
        <resource identifier="res2" type="webcontent" href="mod_2/mod_2.htm" adlcp:scormtype="sco">
            <file href="mod_2/mod_2.htm"/>
            <file href="mod_2/mod_2.swf"/>
        </resource>
        <resource identifier="res3" type="webcontent" href="mod_3/mod_3.htm" adlcp:scormtype="sco">
            <file href="mod_3/mod_3.htm"/>
            <file href="mod_3/mod_3.swf"/>
        </resource>
    </resources>
</manifest> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T08:33:45.070

尝试使用 & 这是转义＆符号的首选方式（另请参阅[如何在 XML 中转义＆符号，以便它们在 HTML 中呈现为实体？](https://stackoverflow.com/questions/1328538/how-do-i-escape-ampersands-in-xml)）

（我刚刚在 LMS 中尝试过，它成功了）

# javascript - 在 iframe 中关闭颜色框

> ID：11112072
> 
> 赞同：1
> 
> 时间：2012-06-20T02:32:04.283
> 
> 标签：javascript, jquery, colorbox

一旦用户通过执行以下操作提交表单，我尝试打开一个颜色框：

```
$.colorbox({
    'iframe': true,
    'width':'550px',
    'height':'200px', 
    'href': 'index.html', 
    'onClosed': function()
    { 
        var form$ = $('#book-form');
        form$.get(0).submit();
    }
}); 
```

我正在尝试通过执行以下操作在 iframe 中关闭它（当人们单击“是”链接时）：

```
$('#yes').click(function() 
{ 
    parent.$('#repeat_provider').val(" . $booking['provider_id'] . ");

    parent.$.colorbox.close();

    return true;
}); 
```

但彩盒实际上并没有关闭。不知道我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:19:32.577

您所拥有的应该可以工作，但是您需要牢记几件事。

如果将此单击事件绑定到锚元素，则需要处理默认行为。如果您在父文档中将 $ 别名与 jQuery 分离，则需要记住使用 jQuery。

```
$('#yes').click(function() 
{ 
    parent.jQuery('#repeat_provider').val("whatever");
    parent.jQuery.colorbox.close();
    return false; // cancel the default click event
}); 
```

# ruby - 在 eventmachine http 服务器中处理超时

> ID：11112074
> 
> 赞同：1
> 
> 时间：2012-06-20T02:32:17.487
> 
> 标签：ruby, eventmachine

如何在基于 eventmachine 的 http 服务器中处理超时？我基本上将http请求信息放在处理它的队列中，然后处理可能会调用回调函数，也可能不会。我可以设置超时时间，但我还没有弄清楚如何添加超时处理程序或超时回调。

我浏览了这些文档，但没有设法从中收集到任何有用的信息。将逻辑放入 unbind 方法显然不起作用，因为在调用 unbind 时请求已完成，并且在回调创建代码旁边添加 EM::error_handler 也不起作用。

我想捕捉超时事件并在超时事件上返回特定的 json。

这是我的代码——一个 HTTP 请求处理程序

```
class HTTPRequestHandler  < EventMachine::Connection

  def initialize(s,q,h)
    @tcpserver = s
    @queue = q
    @callback_hash = h
    self.comm_inactivity_timeout = API_REQUEST_TIMEOUT

  end

  def post_init
      @parser = RequestParser.new
  end

  def receive_data(data)
    handle_http_request if @parser.parse(data)
  end

  def parse_query_parms(query_str)
    begin
      rethash = {}
      query_arr = query_str.split(/&/)
      query_arr.each { |element|
        e_arr = element.split(/\=/)
        rethash[e_arr[0]] = e_arr[1]
      }
      return rethash
    rescue
      return nil
    end
  end

  def handle_http_request
    result = parse_query_parms(@parser.env["QUERY_STRING"]) # hash
    if result
      if result.has_key?('id') and result.has_key?('rid') and result.has_key?('json')
        puts result

        # Callback to handle this
         cb = EM.Callback{ |rid,rtime,msg|
           data = "{\"rid\":\"#{rid}\",\"rtime\":\"#{rtime}\",\"msg\":#{msg}}"
           send_data("HTTP/1.1 200 OK\r\n")
           send_data("Content-Type: application/json\r\n")
           send_data("Content-Length: #{data.bytesize}\r\n")
           send_data("\r\n")
           send_data(data)
           close_connection_after_writing
         }

         # Add callback to hash
         @callback_hash[result['rid']] = cb

         # Unencode jsonin url
         json_from_api = result['json']
         json_from_api = URI.decode(json_from_api)

         # Push request onto queue
         qreq=QueuedRequest.new(result['id'],json_from_api)
         @queue.push(qreq)

      else
        data = "{\"success\":\"false\",\"response\":\"request needs id, rid, json parameters\"}"
        send_data("HTTP/1.1 200 OK\r\n")
        send_data("Content-Type: application/json\r\n")
        send_data("Content-Length: #{data.bytesize}\r\n")
        send_data("\r\n")
        send_data("#{data}")
        close_connection_after_writing
      end
    else
      data = "{\"success\":\"false\",\"response\":\"unable to parse parameters\"}"
      send_data("HTTP/1.1 200 OK\r\n")
      send_data("Content-Type: application/json\r\n")
      send_data("Content-Length: #{data.bytesize}\r\n")
      send_data("\r\n")
      send_data("#{data}")
      close_connection_after_writing
    end
  end

end 
```

我们初始化所有内容并处理队列的主循环：

```
EM.synchrony do
  h = {} # map of rids -> callbacks for requests

  # Intialize TCP and HTTP Servers
  q = EM::Queue.new # Queue of messages from HTTP Server
  s = TCPProxyServer.new(h)
  EM.start_server(LISTEN_HOST_CLIENT, LISTEN_PORT_API, HTTPRequestHandler, s, q, h)
  s.start
  puts "Server starting (http and tcp)"

  # process queue of messages coming in from API (recursive)
  process_queue = Proc.new do |qreq| 
    # Our functions
    @operation = lambda do
      puts qreq
      begin
        # Send data to channel
        if s.connections_plug[qreq.id]
          s.connections_plug[qreq.id].send_data(qreq.json)
        else
          return "unable to find id:#{qreq.id} in connection"
        end
      rescue Exception=>e
        puts "Unable to send process queued request! #{e}"
      end     
    end
    @callback = lambda { |result| }

    EM::defer(@operation,@callback) 
    EM.next_tick{ q.pop(&process_queue) }
  end
  q.pop(&process_queue)
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-07T21:23:54.203

[根据EventMachine 小组](https://groups.google.com/forum/?fromgroups#!topic/eventmachine/34EfVnqC0-I)的建议，我在我的 http 请求中附加了一个计时器：

```
class HTTPRequestHandler  < EventMachine::Connection
  def initialize(s,q,h)
    @tcpserver = s
    @queue = q
    @callback_hash = h
    #self.comm_inactivity_timeout = API_REQUEST_TIMEOUT # handled using one off timer
  end

  def post_init
    @parser = RequestParser.new

    # Use timer to handle timeout
    @timer = EventMachine::Timer.new API_REQUEST_TIMEOUT, proc {
      data = {:err => "timeout"}
      data = data.to_json
      send_data("HTTP/1.1 200 OK\r\n")
      send_data("Content-Type: application/json\r\n")
      send_data("Content-Length: #{data.bytesize}\r\n")
      send_data("\r\n")
      send_data("#{data}")
      close_connection_after_writing
    }
  end

  def unbind
    @timer.cancel()
  end

  def receive_data(data)
  end

end 
```

# mysql - 选择查询 - 新列中带有标识符的行

> ID：11112077
> 
> 赞同：0
> 
> 时间：2012-06-20T02:33:14.847
> 
> 标签：mysql, sql

我在购物车的数据库上有一个查询，该查询涉及一些外部联接，这些外部联接返回如下内容（高度简化）：

```
Orderid |   Customer Name | Product | Image
 1      |      John       |  Prod1  | x.jpg
 1      |      John       |  Prod2  | e.jpg
 2      |      Paul       |  Prod3  | r.jpg
 3      |      Ringo      |  Prod1  | x.jpg 
```

我希望结果是这样的

```
Orderid | Customer Name | Product1 | Image1 | Product2 | Image 2
  1     |      John     |   Prod1  |  x.jpg | Prod2    | e.jpg
  2     |      Paul     |   Prod3  |  r.jpg | NULL     | NULL
  3     |      Ringo    |   Prod1  |  x.jpg | NULL     | NULL 
```

这可能吗？

我之前的查询使用了 GROUP_CONCAT，结果是一个 blob，但我发现它没有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:43:58.150

为了可靠地将所有产品放入***不同***数量的列中，您需要使用`PIVOT`SQL Server、Oracle 等 DBMS 中存在的功能。

在 MySQL 的情况下，这种功能不可用，直接从查询生成 CSV 的最佳方法（正如您在问题的评论中提到的那样）是使用`GROUP_CONCAT()`.

您之前有“blob”数据的原因`GROUP_CONCAT()`是因为您试图将两种不同的数据类型连接到字符串中，因此 phpMyAdmin 会自动将其转换为`[BLOB]`. 您必须将各种整数值（ID、价格等）与字符串值连接起来。您必须做的是`CAST()`将整数值转换为您的字符串，`GROUP_CONCAT()`以便 PMA 不会转换为 blob。[有关CAST()](http://dev.mysql.com/doc/refman/5.0/en/cast-functions.html#function_cast)的更多信息。

根据您拥有的 PMA 版本，它可能会或可能不会转换为`[BLOB]`. 如果是这样，您可以随时展开`+options`并选中“*显示 blob 内容*”，它将显示预期的结果。

仅基于您上面的示例（除了`product_id`说明之外`CAST()`，您还可以执行以下操作：

```
SELECT
    order_id,
    customer_name,
GROUP_CONCAT(CONCAT(CAST(product_id AS CHAR(6)), '|||', product, '|||', image) SEPARATOR ':::') AS order_products
FROM 
    orders
GROUP BY
    order_id,
    customer_name 
```

这将为您提供以下结果集：

```
Orderid | Customer Name | order_products 
  1     |      John     |   1|||Prod1|||x.jpg:::2|||Prod2|||e.jpg
  2     |      Paul     |   3|||Prod3|||r.jpg
  3     |      Ringo    |   1|||Prod1|||x.jpg 
```

然后根据您用于构建应用程序的语言，您可以将`order_products`字符串“分解”为数组。首先在分隔符上展开`:::`以分隔产品，然后对于每个产品，在分隔符上再次展开`|||`以分隔该产品的详细信息。

我使用这些特定的分隔符是因为逗号可以出现在标题等字段中，并且您不希望脚本将字符串分隔在错误的位置。这种错误分隔的可能性是使用 的主要缺点之一`GROUP_CONCAT()`，因此您必须根据它们出现在字段值中的可能性来决定最好使用哪些分隔符。

另外，在使用`CONCAT`. 例如，假设每个产品的`image`字段不是必需的并且可以包含`NULL`. 如果其中一部分`CONCAT()`是`NULL`，那么整个连接字符串将变为`NULL`。

因此，对于可以为空的任何字段，您都希望`COALESCE()`在该字段上使用以防止`NULL`s 被传递给`CONCAT()`. （例如`CONCAT(product, '|||', COALESCE(image, 'NoImage'))`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:21:27.230

你不能用纯 mysql 做到这一点，原因如下：

*   无法使用枢轴
*   无法遍历一组特定值（在 oracle 下，您可以连接并遍历名称为“产品”的列，以构建与不同产品一样多的临时表）

作为一种解决方法，您可以以编程方式生成查询；对于找到的每个产品，将连接连接到查询：

```
select orderid, customer_name, product1, image1, producti, imagei, productn, imagen
from table t
   inner join table t1 on t1.product = 'product1' and t1.order_id = t.order_id
   inner join table ti on ti.product = 'producti' and ti.order_id = t.order_id
   inner join table tn on tn.product = 'productn' and tn.order_id = t.order_id 
```

所有这些都是高度理论化的，因为我对您的模型一无所知。

希望能帮助到你。rgds。

# php - 在搜索中使用 php 或 xhtml 属性的占位符

> ID：11112079
> 
> 赞同：0
> 
> 时间：2012-06-20T02:33:25.627
> 
> 标签：php, forms, search

我知道当你想在搜索这样的形式中获得一个值时，你可以这样做

```
<input type='text' name='search' value='$_GET[search]' placeholder='  Search'/> 
```

通过使用`placeholder="value"`，单击时表单中的文本将消失，但这仅在 HTML5 中有效。尽管现在大多数浏览器都支持（也许少数仍然不支持），但这是一个任务，所以我不打算使用 HTML5 或 JavaScript。在 JavaScript 中你也可以做类似的事情。

```
<input type="text" onfocus="if(this.value=='Enter your text here...') this.value='';" onblur="if(this.value=='') this.value='Enter your text here...';" value="Enter your text here..." /> 
```

所以现在我只剩下两个选择了。

1.  是找到在 XHTML 1.0 中实际有效的任何属性
2.  使用 php 具有类似的值`placeholder`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T02:39:56.527

停停停。你想要什么？占位符是一种客户端技术。您无法使用服务器端技术创建占位符。无论如何，您都可以检查服务器端的值以实现安全目标。

# javascript - jQuery / iScroll - 带有可点击图像的滚动面板

> ID：11112081
> 
> 赞同：1
> 
> 时间：2012-06-20T02:33:39.780
> 
> 标签：javascript, jquery

我有一个滚动面板（使用[iScroll4](http://cubiq.org/iscroll-4)和 jQuery）来导航缩略图的水平列表，如下所示。

![在此处输入图像描述](../Images/09d7256e0869e1539223582da117b265.png)

使用我的鼠标，我可以很好地抓住和滑动这个面板，非常棒。问题是，我现在为列表中的每个图像添加了一个单击事件，因此当用户抓取并滑动时，它会单击图像，从而触发事件。这很烦人，因为用户不想选择该图像，他们只是想看得更远。

我怎样才能做到这一点，如果他们确定点击图像，没有左右移动，它会选择图像，但如果滚动条移动，那么它不会？

我所说的一个例子可以在[这里](http://fotoramajs.com/)的 Fotorama 滑块插件上找到。如果您尝试滑动缩略图然后尝试单击缩略图，您会明白我的意思。

任何帮助或建议都会很棒。

**更新**

我发现 iScroll4 文档中有一个 onScrollMove 和 onScrollEnd 回调。也许：`onScrollEnd: function() { $(".uploaded_images").unbind("click"); }`

**另一个更新**

现在，我已经通过使图像可双击而不是单点来解决这个问题，但我仍然想知道它是如何实现的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T02:40:52.940

Fotorama 插件可能在 javascript 中使用 mousedown 事件进行拖动，如果要滑动，则禁用缩略图的单击。您修复的方法是简单地在底部添加更多空间（如果您愿意，可以使用填充），以便用户可以拖动它。或者使用 Fotorama 插件。或者只是让用户可以使用滚动条和滚轮滚动。我将查看 iscroll 插件，看看我是否可以执行 mousedown 事件

# asp-classic - 使用应用程序变量的目的是什么？

> ID：11112083
> 
> 赞同：-1
> 
> 时间：2012-06-20T02:33:52.937
> 
> 标签：asp-classic

我被赋予了一个 asp 经典站点的责任，我遇到了以下代码行。这行代码的目的是什么，这个语法说明了什么？

```
Application("dbconn_ConnectionTimeout") = 90; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T02:49:06.667

[应用程序对象](http://msdn.microsoft.com/en-us/library/ms525360%28v=vs.90%29.aspx)是一个存储在服务器上的变量，您的应用程序的所有实例都可以访问该变量。在您的场景中，它似乎被用于存储数据库调用在超时之前可以花费的时间段。

```
// Database connections can take 90 seconds before they timeout
Application(“dbconn_ConnectionTimeout”) = 90; 
```

# java - 使用 Java Xmx 在 Linux 上启动 Processing.org 应用程序

> ID：11112093
> 
> 赞同：0
> 
> 时间：2012-06-20T02:35:24.993
> 
> 标签：java, linux, processing, heap-memory

我有一个使用 Processing.org 创建的应用程序，并试图在 Linux 上运行它。进入应用程序后不久，我收到一个堆大小错误。我正在尝试使用命令行从命令外壳运行应用程序，`java -Xmx512m myAppNameHere`但是当我这样做时，我收到一条消息，上面写着“线程中的异常”java.lang.NoClassDefFoundError：myAppNameHere/exec”然后它说“找不到主类：myAppNameHere。程序将退出“

那么......在运行此命令时是否有一种特殊的方式来调用应用程序？我尝试了 myApp.java、myApp.exe、myApp.pde ......任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:10:15.343

你是说它运行但由于堆大小错误而崩溃，所以你通过添加 -Xmx512M 更改了命令行，现在你得到一个 NoClassDefError？

您可能没有正确地将您的 Xmx 选项添加到命令行中，即您已将命令行专门设置​​为`java -Xmx512M appName`，而没有设置类路径以及使应用程序运行所需的任何其他数百万命令行开关。

简短的回答是你没有告诉 java 在哪里可以找到应用程序类文件，所以它不能运行它们。添加`-cp someJar.jar`（或目录，如果你有类文件）到你的命令行

# php - 从一个页面插入php结果以使用js从另一个页面输入文本

> ID：11112102
> 
> 赞同：0
> 
> 时间：2012-06-20T02:35:57.967
> 
> 标签：php, text, input

第1页：test.php（在弹出窗口中打开）

```
<script type="text/javascript">
function addFiles(aFiles) {
if ($('#addfiles').length==0) $('#addfiles').html;
for (var i=0;i<aFiles.length;i++)   $("#addfiles").append(""+aFiles[i].file+"");
                      }
</script>

<?php
$result = "<div id=\"addfiles\"></div>";    (everything works good here, i have only one result)
?> 
```

Page2：results.php（主页，已经打开）

`<input type="texta" name="texta" id="texta" value="<? echo $result; ?>"/>`（当 $result 有一些结果而不刷新所有页面时，我需要 value="" 使用 $result 自动更新。）

谢谢

编辑：

```
function addFiles(aFiles) {
if ($('#addfiles').length==0) $('#addfiles').html;
for (var i=0;i<aFiles.length;i++) $("#addfiles").append(""+aFiles[0].file+"");
(window.opener.location = 'http://www.example.com/value='+aFiles[0].file+'');
self.close();   
} 
```

现在工作得很好。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T02:44:21.827

小心，你现在正在将一个整体`<div>`写入`value="..."`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T02:54:20.027

```
<?php 
if($result) {
    echo '<script language="JavaScript">window.opener.location = "http://example.com/?value='.$result.'");self.close();</script>';
}
?> 
```

然后让父窗口通过'value'获取存储在'value'中的值`$_GET['value']`并将其回显到输入字段的'value'属性中。

# php - 由于安全的画布 URL，无法注册 Facebook 应用

> ID：11112106
> 
> 赞同：0
> 
> 时间：2012-06-20T02:37:26.870
> 
> 标签：php, facebook, facebook-graph-api

我正在尝试创建一个 Facebook 应用程序。但是在注册过程中我无法前进。它要求输入安全的画布 URL。我听说 HTTPS 将从 10 月开始强制使用。但我无法前进，因为我只有 HTTP。

请帮我解决这个问题。我有另一个使用 HTTP 和 Facebook 应用程序完美运行的网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T02:40:17.127

新应用程序将需要 https，强制...要测试您的应用程序以进行开发，请为您的应用程序输入 https URL，但关闭安全浏览以进行测试:-)

要使用多个用户进行测试，请尝试获取自签名证书并运行 HTTPS。

在生产环境中，从 CA 获取正确的 SSL 证书并进行部署。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:00:14.767

**在FB以外使用您的应用程序没有问题**

最近FB更新了SSL for Secure canvas url..这并不意味着我们需要购买SSL认证

只需使用您的 http:// 创建一个应用程序

然后对于安全的画布 url，只需添加 https://

这里的安全画布网址用于将您的网址放入 FACEBOOK 中是不可能的。但您可以从 FB 外部访问所有内容

检查这个没有 https:// 只有 http:// 但它在 FB [http://shop.samthesamurai.com/之外可以清楚地工作的网站](http://shop.samthesamurai.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:41:57.857

我也遇到了同样的问题，但我通过将相同的 url 与 https 一起解决了这个问题。这是两个 url 演示。

```
Canvas URL:

http:// Site url

Secure Canvas URL

https:// Site url 
```

# plone - 为 ZODB 和 Plone.app.blob 提供更好的文件系统

> ID：11112107
> 
> 赞同：3
> 
> 时间：2012-06-20T02:37:47.240
> 
> 标签：plone, zope

我很想知道哪个 Linux 文件系统最适合托管 Zope 的对象数据库 (Data.fs) 和 Plone.app.blob (blobstorage)。来自 Internet 的各种评论表明 XFS 对托管两者都有好处。XFS 速度很快，并且可以很好地处理大文件。有人在 Zope 或 Plone 上使用 XFS 吗？您对 XFS 使用哪些优化标志（如果有）？

# php - 我正在使用以纯文本形式发送批准或拒绝响应的支付网关

> ID：11112110
> 
> 赞同：0
> 
> 时间：2012-06-20T02:38:33.160
> 
> 标签：php, plaintext

我正在使用以纯文本（逗号分隔）发送批准或拒绝响应的支付网关。如何在 PHP 中捕获该响应？我需要能够将响应分解为数组并使用一些数据。

# c# - 如何在 ASP.NET 网络表单中隐藏列

> ID：11112112
> 
> 赞同：0
> 
> 时间：2012-06-20T02:39:03.337
> 
> 标签：c#, asp.net

在我的打印机包中。**aspx**文件我有以下**“用户控制”**：

```
<%@ Register Src="~/ProvisionControls/DeferredTaxRollforwardControl.ascx" TagPrefix="uc9" TagName="DeferredTaxesRollforwardControl" %> 
   ...
   ...
 <div>
    <uc9:DeferredTaxesRollforwardControl ID="DeferredTaxesRollforwardControl1" runat="server" />
 </div> 
```

它调用控制文件'DeferredTaxRollforwardControl. **ascx** ' 包含我的表定义如下：

```
<table style="width: 4600px; border-spacing:0px;" border="0" frame="hsides" cellpadding="2" cellspacing="1">

<tr id = "tblTempDiff"> //want to import this

<td style="width:7.6%;" width="2px;" class="paintYellowTotalLeftBold">
    Grand Total Current
</td>
<td style="width:2.8%;" width="2px;" class="paintYellowTotalBold">
    <asp:Label ID="lblGrandTotalUnadjustedBeginningBalance" runat="server" Text=""></asp:Label>
</td>
... and more <td> 
```

我正在尝试使用 PrinterPackage 中的以下代码显示表格并隐藏一些列。**aspx.cs**文件：

```
 TableRow row = DeferredTaxesRollforwardControl1.FindControl("tblTempDiff") as TableRow;
        row.Cells[0].Visible = true;
        row.Cells[1].Visible = true;
        row.Cells[2].Visible = true;
        row.Cells[3].Visible = true;
        row.Cells[4].Visible = true;
        row.Cells[5].Visible = true;
        row.Cells[6].Visible = true;
        row.Cells[7].Visible = true;
        row.Cells[8].Visible = true;
        row.Cells[9].Visible = false;
        row.Cells[10].Visible = false;
        row.Cells[11].Visible = false;
        row.Cells[12].Visible = false; 
```

但是，这似乎没有拿起表格行**tblTempDiff 而是**给了我一个空值。如何将 TableRow **tblTempDiff**中的数据导入**行**，然后隐藏我想要隐藏的任何列？

**如果您需要更多信息，请向我提问，因为我知道在解释我的问题时我不是最好的人。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T02:53:39.637

@ user1319424：不是已经创建表，而是使用占位符，然后创建动态表并将该表绑定到占位符。

参考以下链接： [http ://www.dotnetcurry.com/ShowArticle.aspx?ID=135](http://www.dotnetcurry.com/ShowArticle.aspx?ID=135)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T02:58:18.200

后面的代码看不到`<tr>`您创建的代码，因为它不是服务器控件。将`runat="server"`属性添加到`<tr>`：

```
<tr id="tblTempDiff" runat="server"> 
```

并使用[`System.Web.UI.HtmlControls.HtmlTableRow`](http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmltablerow%28v=vs.110%29.aspx)而不是`TableRow`. 两种不同的东西。

# ruby-on-rails - 主干视图中渲染方法的参数

> ID：11112114
> 
> 赞同：0
> 
> 时间：2012-06-20T02:39:14.940
> 
> 标签：ruby-on-rails, backbone.js, coffeescript, jasmine, backbone-views

我正在使用这个咖啡脚本代码：

在规范文件中：

```
index = new MeetingIndex(render: false, collection: booking.meetings)
index.render(writeTo: '.sandbox') 
```

在视图文件中：

```
render: (options = {}) ->
  console.log 'options'
  console.log options
  console.log 'options'
  options[key] ||= val for key, val of writeTo: 'body', enhanceUI: true 
```

浏览器控制台打印：

```
Object
  enhanceUI: true
  writeTo: "body" 
```

这里会发生什么？，如何将参数传递给渲染方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:35:31.790

你只是被一个 asynchronous 愚弄了`console.log`。您的第一个`console.log`电话只是获取对的引用，`options`但当它尝试记录它时，您已经更新了它。试试这个：

```
render: (options = {}) ->
  console.log 'options'
  console.log _(options).clone()
  console.log 'options'
  options[key] ||= val for key, val of writeTo: 'body', enhanceUI: true 
```

演示：http: [//jsfiddle.net/ambiguous/EZc7N/](http://jsfiddle.net/ambiguous/EZc7N/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:32:12.360

我无法重现此问题。这[按预期工作](http://coffeescript.org/#try%3arender%20%3D%20%28options%20%3D%20%7B%7D%29%20-%3E%0A%20%20console.log%20%27first%3A%27%2C%20JSON.stringify%20options%0A%20%20options%5Bkey%5D%20%7C%7C%3D%20val%20for%20key%2C%20val%20of%20writeTo%3A%20%27body%27%2C%20enhanceUI%3A%20true%0A%20%20console.log%20%27then%3A%27%2C%20JSON.stringify%20options%0A%0Arender%20writeTo%3A%20%27.sandbox%27)：

```
render = (options = {}) ->
  console.log 'first:', JSON.stringify options
  options[key] ||= val for key, val of writeTo: 'body', enhanceUI: true
  console.log 'then:', JSON.stringify options

render writeTo: '.sandbox' 
```

输出：

```
first: {"writeTo":".sandbox"}
then: {"writeTo":".sandbox","enhanceUI":true} 
```

请注意，我正在记录对象的 JSON 字符串化以避免两次记录同一对象（由于对象相同，调试控制台将打印相同的值（其当前状态））。

此外，您可能对使用[下划线`default`](http://underscorejs.org/#defaults)填充默认参数感兴趣：

```
render = (options = {}) ->
  _.defaults options, writeTo: 'body', enhanceUI: true 
```

# python - Python Tkinter 列表框取消绑定默认选择

> ID：11112120
> 
> 赞同：1
> 
> 时间：2012-06-20T02:40:15.843
> 
> 标签：python, listbox, widget, tkinter

我发现自动选择列表框中项目索引 0 的这种功能很麻烦。在我的脚本中，我有 3 个名为 lb1、lb2 和 lb3 的列表框。如果用户选择了 lb2 或 lb3 上的任何项目，我打算弹出一个 MessageBox 要求用户仅从 lb1 中选择项目。但是，由于 lb2 和 lb3 中的自动选择项目索引 0，每当我单击 lb1 中的项目时，MessageBox 也会出现。

问题：如何禁用 ListBox 中项索引 0 的初始选择？

如果用户从 lb2 或 lb3 中选择项目，这是我调用 MessageBox 的脚本的一部分：

```
if lb2.get(ACTIVE) or lb3.get(ACTIVE):
    tkMessageBox.showwarning("Warning","Please select from lb1 ") 
```

请指教！执行预期操作的任何其他方式也可以。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T12:05:21.173

您使用的是什么操作系统？

如果我在 Windows 上执行此代码（取自 effbot.org 上的 Tkinter Listbox 参考页面），则列表框中没有默认选择。

```
from Tkinter import *
master=Tk()
listbox=Listbox(master)
listbox.pack()
for item in ['one','two','three','four']:
    listbox.insert(END, item) 
```

**编辑：**好的，现在我明白你在问什么了。您想`curselection`在尝试使用之前先检查方法`get(ACTIVE)`。

```
if listbox.curselection():
    item = listbox.get(ACTIVE) 
```

这有帮助吗？您可以在此处找到[更完整的示例](http://www.tkdocs.com/tutorial/morewidgets.html)。

# javascript - 防止 BACKSPACE 使用 jQuery 导航回来（如 Google 的主页）

> ID：11112127
> 
> 赞同：43
> 
> 时间：2012-06-20T02:40:58.870
> 
> 标签：javascript, jquery

请注意，在 Google 的主页上，没有任何元素的焦点，按 BACKSPACE 键会将焦点放在搜索工具栏中，而不是向后导航。

我怎样才能做到这一点？

我一直在我的应用程序中遇到用户这个问题。他们没有专注于任何元素并点击 BACKSPACE 将他们赶出应用程序。

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-06-20T02:48:40.427

`keydown`如果我们正在处理 a `textarea`or之外的退格键，我会将事件处理程序绑定到并阻止该事件的默认操作`input`：

```
$(document).on("keydown", function (e) {
    if (e.which === 8 && !$(e.target).is("input, textarea")) {
        e.preventDefault();
    }
}); 
```

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2012-12-07T03:31:42.807

我真的很喜欢 Andrew Whitaker 的回答。但是，当专注于只读、单选或复选框输入字段时，它仍会向后导航，并且不允许 contentEditable 元素上的退格，因此我添加了一些细微的修改。归功于安德鲁·惠特克。

```
$(document).on("keydown", function (e) {
    if (e.which === 8 && !$(e.target).is("input:not([readonly]):not([type=radio]):not([type=checkbox]), textarea, [contentEditable], [contentEditable=true]")) {
        e.preventDefault();
    }
}); 
```

目前，似乎有必要拥有 HTML 中的每个变体 [contentEditable]，因为 [contentEditable] ！= [contentEditable=true]。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-06-20T02:53:12.320

谷歌这样做的方式有点酷。当您按退格键时，它们会聚焦文本字段，从而阻止用户向后导航！

您可以尝试相同的方法：

```
<script src="http://code.jquery.com/jquery.min.js" type="text/javascript"></script>
<input id="target" type="text" />

<script type="text/javascript">
$(document).keydown(function(e) { if (e.keyCode == 8) $('#target').focus(); });
</script> 
```

演示：http: [//jsfiddle.net/epinapala/TxG5p/](http://jsfiddle.net/epinapala/TxG5p/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-05-22T04:06:31.787

这是一个在 IE、Chrome 和 Firefox 上测试的简单解决方案。

```
$(document).on("keydown", function (event) {
// Chrome & Firefox || Internet Explorer
if (document.activeElement === document.body || document.activeElement === document.body.parentElement) {
    // SPACE (32) o BACKSPACE (8)
    if (event.keyCode === 32 || event.keyCode === 8) {
        event.preventDefault();
    }
}}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-10-16T03:31:33.860

这是旧的，但这些答案仍然允许您在专注于单选按钮时退格和导航。您还需要过滤输入类型。归功于以上所有答案：

```
$(document).on("keydown", function (e) {
    if (e.which === 8 && !$(e.target).is("input[type='text']:not([readonly]), textarea")) {
        e.preventDefault();
    }
}); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-11-30T14:04:43.197

要停止导航，只需此代码即可！

```
$(document).on("keydown", function (event) {        
   if (event.keyCode === 8) {
      event.preventDefault();
    }
  }); 
```

但这甚至也会发生在输入字段类型 text/textarea 上。因此，要将其限制在这些字段中，您可以使用

```
$(document).on("keydown", function (event) {
  if (event.which === 8 && !$(event.target).is("input, textarea")) {
   event.preventDefault();
  }
}); 
```

在我的情况下，我有一个日历文本字段，每当我单击该日历时，选择日期并按退格键，它就会导航回上一页。为了防止它仅用于该领域，我只是使用了

```
$('#myField').on("keydown", function (event) {
  if (event.keyCode === 8 || event.which === 8) { 
   event.preventDefault(); 
  } 
}); 
```

我想提一些帮助;-)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-10-07T07:36:11.320

我已经尝试了互联网上的许多代码片段，但没有满意的结果。IE (IE11) 和 Crome 的新浏览器版本打破了我以前的解决方案，但这是对我有用的 IE11 + Crome + Firefox。该代码防止退格，并且用户不会丢失他在文本字段中键入的任何内容：

```
window.addEventListener('keydown', function (e) {
    if (e.keyIdentifier === 'U+0008' || e.keyIdentifier === 'Backspace' || e.keyCode === '8' || document.activeElement !== 'text') {
        if (e.target === document.body) {
            e.preventDefault();
        }
    }
}, true); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-01-20T13:28:58.167

对于 Internet Explorer，这对我有用：

```
window.addEventListener('keydown', function (e) {

    if (e.keyCode === 8) {
       if (e.target === document.body) {
           e.preventDefault();
       }
    }
}, true); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-07-20T22:05:36.210

也处理只读文本框

```
$(document).keydown(function (e) {
        var activeInput = $(document.activeElement).is("input[type=text]:not([readonly]):focus, textarea:focus");
        if (e.keyCode === 8 && !activeInput) {
            return false;
        };
    }); 
```

# asp.net - 要使用的客户端自定义验证器

> ID：11112132
> 
> 赞同：-1
> 
> 时间：2012-06-20T02:41:20.257
> 
> 标签：asp.net, validation

只是想问一下我是否可以在客户端使用自定义验证器而不在服务器端使用它？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:04:11.020

是的，该`CustomValidator`控件有一个名为`ClientValidationFunction`.

像这样创建一个 Javascript 函数：

```
function YourFunctionName(sender, args) {

    if(x == true) /* put your validation check in here */
    {            
        args.IsValid = true;
        return; 
    }
    else
    {
        args.IsValid = false;
        return;
    }
} 
```

然后将`ClientValidationFunction`属性设置为`YourFunctionName`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:40:27.987

在客户端有很多验证示例：

*   [http://docs.jquery.com/Plugins/Validation](http://docs.jquery.com/Plugins/Validation)
*   [http://www.junnark.com/Blog/Detail/using-jquery-validation-with-aspnet-web-forms](http://www.junnark.com/Blog/Detail/using-jquery-validation-with-aspnet-web-forms)
*   [http://encosia.com/using-jquery-validation-with-asp-net-webforms/](http://encosia.com/using-jquery-validation-with-asp-net-webforms/)
*   [http://encosia.com/asp-net-webforms-validation-groups-with-jquery-validation/](http://encosia.com/asp-net-webforms-validation-groups-with-jquery-validation/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T02:58:03.833

是的，你可以使用 javascript 或者你可以使用 jquery 验证

# php - PHP 会话超时太快

> ID：11112135
> 
> 赞同：1
> 
> 时间：2012-06-20T02:41:57.853
> 
> 标签：php, session

你能帮助我吗。

在我的演示服务器中，当用户登录时，它会在接下来的 2 小时内自动注销。但是当我将我的网站放到生产服务器上时，它的注销速度太快了（少了 15 分钟，用户就会注销）。

在生产服务器中，我使用 iis。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T02:46:08.473

参数可以帮助你

```
ini_get(’session.gc_maxlifetime’)
ini_get(‘session.gc_maxlifetime’);
ini_get(‘session.gc_probability’);
ini_get(‘session.gc_divisor’); 
```

开始会话时试试这个：

```
session_set_cookie_params(8*60*60);
session_start(); 
```

# algorithm - 循环迭代分析

> ID：11112137
> 
> 赞同：2
> 
> 时间：2012-06-20T02:42:28.760
> 
> 标签：algorithm, big-o, analysis

请参阅下面的解决方案，我想要一些建设性的反馈。

下面 O(n) 中的运行时间是多少。

```
int a = 0;
int k = n*n*n; //n^3
while(k > 1) 
{
  for (int j=0; j<k; j++) //runs from 0->k
  { a--; }
k = k/2; //divides by 2 each iteration
} 
```

每次 for 循环运行时，它都会给出一个常数 x k。

= 0xn^3 + 1x (n^3/2) + 2x(n^3/4) +...+ nx(n^3/2^n)
= n^3 (0 + 1/2 + 2/ 4 +...+ n/2^n) <- 有谁知道我可以如何进一步简化它？

编辑：我假设我们会以某种方式使用算术级数......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:01:16.777

我们先用k

在第一个while循环中，for循环运行k次

在第二个 while 循环中，for 循环运行 k/2 次

在第三个 while 循环中，for 循环运行 k/4 次

...

所以总共运行 ( k + k/2 + k/4 + k/8 + ... + 1) 次

提取 k 后，它是 k * ( 1 + 1/2 + 1/4 + 1/8 + ... + 1/k)

随着k的增加，括号中的部分变为2，我们可以忽略

将k改为n^3，结果为O(n^3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-05T16:40:42.010

我认为您可以通过以下正式方程式得出增长复杂度的顺序：

![在此处输入图像描述](../Images/fc5539707b85a479087171def9b14a6d.png)

# android - 写入 Android LogCat

> ID：11112138
> 
> 赞同：2
> 
> 时间：2012-06-20T02:42:29.460
> 
> 标签：android, logcat

我想知道写入 LogCat 是否会以任何明显的方式影响设备的速度。例如，如果我进行 100 次 Log.d() 方法调用，这会减慢应用程序的速度吗？我无法想象它确实如此，但我只是在确定。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T02:49:04.443

Remdroid 的回答实际上是不正确的。使用大量日志记录*会*影响您的应用程序的性能。*但是，除非您写了很多*，否则您可能无法注意到任何实际数量的不同。例如，我偶尔会检测应用程序以在每次遇到系统调用时转储调用日志，这很常见。以这种速度，有大量的事情发生。请记住，写入日志是 IO，并且在某种程度上，它跨越了应用程序的边界并将其写入缓冲区。

请记住，您必须进行*大量*日志记录才能真正伤害自己。*大多数*开发人员所做的，如果他们担心这一点，就是制作一个实现日志记录的辅助类。当您想切换到应用程序的生产版本，并且想要摆脱所有调试日志记录时，您可以简单地将转储到日志的方法转换为简单返回的方法。（请注意，即使在没有 JIT 的设备上，这些也会被安全地优化掉，甚至不会调用该函数。）

ps，请记住，任何生产稳定的应用程序都应该关闭调试日志，因为无论如何留下它是不专业的！

# android - 使用 C++ 为 Android 和 iOS 制作 OpenGLES 2.0 库

> ID：11112143
> 
> 赞同：1
> 
> 时间：2012-06-20T02:43:16.643
> 
> 标签：android, c++, ios, opengl-es

我正在寻找一个我在 C++ 中创建的基于 OpenGL 的库，并使用 OpenGL ES 2.0 对其进行转换（或重写），并将其与我的 Mac 上的 XCode 中的 Objective-C 集成，并将其与我的 PC 上的 Eclipse 中的 Java 集成到（几乎）同时为 Android 和 iOS 创建一个应用程序。如果可能的话，我想将我的库保留在 C++ 中，并且主要使用我的 PC 进行开发。唯一的问题是，我似乎在网上找不到任何关于将 OpenGLES 2.0 框架导入我的 PC 的信息，因此我可以开始转换。我找到了一些使用 Objective-C++ 编写的库的不错示例，但没有关于如何使用 Java 和 Android SDK 在 C++ 中调用任何基于 OpenGLES 的内容。我知道这是一个复杂的问题，但我绝对认为这是可能的。我只需要知道从哪里开始。请注意，我已经检查过，我在 OpenGL 中使用的所有函数都应该能够毫无问题地转换为 OpenGLES 2.0。（这是非常基本的）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:09:14.070

我不确定您到底在问什么，但您可以在两个平台（Android 和 iOS）的 C/C++ 代码中使用 OpenGL ES 2.0。无需使用 Java 或 Objective-C 来调用 OpenGL 函数。只要您不使用供应商/硬件特定的 OpenGL 扩展，您的绘图代码就可以在两个平台上保持完全相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T07:07:17.280

要使用 OpenGL-ES 在 PC 上进行开发，我建议您尝试使用[ANGLE](http://code.google.com/p/angleproject/)，它将 OpenGL-ES 调用转换为 Direct3D。它非常成熟，因为它被 Firefox 和 Chrome 用于 WebGL，为一些供应商解决 Windows 上的 OpenGL 驱动程序问题。

对于 Android，您可以查看*Android NDK*和[NVidia Tegra 示例代码](http://developer.nvidia.com/tegra-android-development-pack)，它们只会显示您的要求。

# html - 脚本桥、Apple Mail、HTML 和头文件

> ID：11112147
> 
> 赞同：0
> 
> 时间：2012-06-20T02:44:31.980
> 
> 标签：html, cocoa, email, html-email, scripting-bridge

我已经能够通过脚本桥和苹果邮件破解我的方式，现在可以从我的可可程序发送电子邮件。现在，我正在尝试发送 HTML 邮件并遇到了障碍。简而言之，我生成了一个 NSString ，其中包含从打开的 html 标记到 slash-html 的关闭标记的整个 HTML 代码，以及介于两者之间的所有好东西。

但是，当我通过脚本桥将其作为内容传递时，我最终得到的只是一封电子邮件，我可以在其中阅读 HTML 代码......我会说它是纯文本，但链接仍然显示为可点击的链接，所以这并不完全真的。

如果我在 Safari 中打开代码，HTML 会正确显示。

我想这可能与电子邮件中的标题信息有关，但如果有办法通过脚本桥设置它，我还没有找到一种方法来做到这一点。同样，由于链接是可点击的，我认为它们可能不是问题？

如果有办法将标头信息设置为“Content-Type: text/html; charset=ISO-8859-1”和“MIME-Version: 1.0”并且任何人都知道如何，请赐教:)

如果没有，有人有什么建议吗？我确定我一定遗漏了一些东西，我希望它很简单。

*** 编辑 ***

我尝试在 Safari 中打开我的 HTML 文件并使用 FILE>Email Contents 然后在 Apple Mail 中创建一个新电子邮件。这封新电子邮件可以 HTML 格式查看。因此，我知道必须有可能做到这一点。

然后，我将该电子邮件以及非 html 电子邮件发送给自己。

仅检查两个文件的标题信息显示，这两封电子邮件的内容类型相同，被列为：

```
multipart/alternative; boundary="Apple-Mail=_D0859731-3A0F-459E-9673-DEC0FC6503BF" 
```

当然，发送的每封电子邮件的 ID 字符串都不同......

但是，在查看原始源代码时，HTML 文件实际上确实有第二种内容类型，它在 HTML 代码之前指定了“text/html”（我将其解释为 multipart/alternative 只是指示邮件应用程序查看对于其他内容类型标签...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T02:50:34.503

这是您需要的：

[开源 Cocoa/Cocoa-Touch POP3/SMTP 库？](https://stackoverflow.com/questions/740939/open-source-cocoa-cocoa-touch-pop3-smtp-library)

（一个邮件函数库）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-23T22:18:23.193

据我所知，Apple 不允许您通过脚本桥直接发送 HTML 电子邮件。我可以推测他们对此不满意的原因（垃圾邮件、安全性等），但似乎事实就是如此。

解决方法是在 Safari 中打开 HTML，然后使用 Scripting Bridge 将“此页面的内容通过电子邮件发送到邮件”。这会在 Mail.app 中创建一个新的外发邮件，其中包含 HTML 代码。

注意：然而，我注意到的一个副作用是，当 Safari 创建电子邮件后使用脚本桥将收件人添加到电子邮件时，会为每个收件人创建一个带有内嵌代码的附加 DIV 标记。因此，由于默认设置是在显示的每个 DIV 标记之前和之后添加换行符，因此 HTML 代码在页面下方开始为每个添加的收件人。一种解决方法是在 HTML 代码中使用 CSS 来覆盖 DIV 标记的默认显示行为。我在这里更详细地解释了它：

[Scripting Bridge 在将收件人添加到邮件时添加了不需要的 HTML 代码](https://stackoverflow.com/questions/11149911/scripting-bridge-adds-unwanted-html-code-when-adding-recipient-to-mail)

# iphone - 使用 iphone 上的 HTML5 视频元素，如何检测“暂停”和“完成”之间的区别？

> ID：11112150
> 
> 赞同：11
> 
> 时间：2012-06-20T02:44:55.913
> 
> 标签：iphone, ios, ipad, html5-video

这是[这个问题的延伸](https://stackoverflow.com/questions/3097545/using-html5-video-events-on-the-iphone-how-do-i-tell-done-button-click-from-a/11111482 "这个问题")

根据我的研究，对于 iPhone/iPad 上的视频元素，同时按下“完成”和“暂停”会触发“暂停”事件。因此，如果我有一些想要在按下“完成”按钮时启动的网页行为，我需要监听“暂停”事件。

```
player = document.getElementById('videoplayer');
player.addEventListener("pause", function() {
   //desired "done button" behavior defined here
}, false); 
```

根据[Arv-ToolTwist](https://stackoverflow.com/a/5260176/1065525)对该原始问题的回答，区分“完成”和“暂停”的方式是检查`webkitDisplayingFullscreen`布尔值（因为“完成”按钮退出全屏，布尔值将返回 false）。

```
player.addEventListener("pause", function() {
   if(!player.webkitDisplayingFullscreen) {
      //desired "done button" behavior defined here
   }
}, false); 
```

然而，如果用户在播放器处于全屏模式时暂停视频，然后在视频暂停时按下“完成”，则不会启动“所需的完成按钮行为”。

我的研究几乎没有发现这方面的信息，但我的假设是“暂停”事件没有被第二次触发，或者它在`webkitDisplayingFullscreen`布尔值变为“假”之前被第二次触发。无论哪种方式，设备都可以区分“完成”和“暂停”（即使播放器已经暂停），所以我想知道

1.  设备如何区分，以及
2.  是否有办法检测播放器何时退出全屏模式，这样即使播放器已经暂停，仍然可以检测到按下“完成”按钮，并且仍然会启动所需的行为。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-29T00:23:58.447

这是您正在寻找的事件：

```
player.addEventListener('webkitendfullscreen', onVideoEndsFullScreen, false); 
```

当用户按下“完成”按钮时，该事件确实会触发。(iPhone/iTouch)

在这个问题中得到了回答，[如何确定 HTML5 视频播放器何时在 iOS / iPad 上进入全屏模式？](https://stackoverflow.com/questions/9094913/how-can-we-figure-out-when-a-html5-video-player-enters-the-full-screen-mode-on-i?rq=1)

这只是留下主页按钮事件......似乎没有可靠的事件（见底部2个帖子）[https://discussions.apple.com/thread/4182660?start=0&tstart=0](https://discussions.apple.com/thread/4182660?start=0&tstart=0)

# powershell - Lync - PowerShell - 用户状态

> ID：11112151
> 
> 赞同：4
> 
> 时间：2012-06-20T02:45:02.820
> 
> 标签：powershell, administration, lync, querying

大家好，我正在查看 Lync PowerShell 博客，但找不到太多关于按状态（可用、忙碌等）为用户查询 Lync 服务器的信息。有[这个](http://msdn.microsoft.com/en-us/library/hh378560.aspx)，但它是针对 SDK 的，任何人都可以举一个通过在线状态检索用户的示例吗？此外，有没有办法区分他们正在运行的 Lync 类型，因为当用户在手机上登录时它会有所不同，并且我相信它会显示“移动”状态。

非常感谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-01T15:29:50.713

看看这个链接。它来自 TechNet。我相信帖子中的代码示例演示了您要完成的工作。

[列出连接到注册器池的用户和客户端端点版本：远程连接](http://blogs.technet.com/b/csps/archive/2011/03/10/list_2d00_users_2d00_and_2d00_endpoints_2d00_remote.aspx)

# firebreath - 如何在 Firebreath 中使用 JSCallback？

> ID：11112152
> 
> 赞同：0
> 
> 时间：2012-06-20T02:45:07.197
> 
> 标签：firebreath

我想在我的 C++ 代码中添加一个事件处理程序。

我关注了 firebreath.org 中的文档（[来自脚本的回调](http://www.firebreath.org/display/documentation/JSAPIAuto#JSAPIAuto-CallbacksfromScripts "脚本回调")）：

```
FB::JSObjectPtr doc = m_host->getDOMDocument()->getJSObject();
doc->Invoke("addEventListener", FB::variant_list_of("load", FB::make_callback(this, &mine::foo))); 
```

但看到以下错误：

```
/home/dq/manager/mine.cpp: In member function ‘void mine::init()’:
/home/dq/manager/mine.cpp:284:119: error: no matching function for call to ‘variant_list_of(const char [5], FB::JSAPIPtr)’
/home/dq/manager/mine.cpp:284:119: note: candidates are:
/usr/include/firebreath/ScriptingCore/variant_list.h:122:5: note: FB::detail::VariantListInserter FB::variant_list_of(FB::variant)
/usr/include/firebreath/ScriptingCore/variant_list.h:122:5: note:   candidate expects 1 argument, 2 provided
/usr/include/firebreath/ScriptingCore/variant_list.h:128:5: note: FB::VariantList FB::variant_list_of()
/usr/include/firebreath/ScriptingCore/variant_list.h:128:5: note:   candidate expects 0 arguments, 2 provided
In file included from /home/deqing/manager/mine.h:51:0,
                 from /home/deqing/manager/mine.cpp:37:
/usr/include/firebreath/ScriptingCore/JSCallback.h: In function ‘FB::JSAPIPtr FB::make_callback(const T&, F, bool) [with T = mine*, F = void (mine::*)(), FB::JSAPIPtr = boost::shared_ptr<FB::JSAPI>]’:
/home/dq/manager/mine.cpp:284:118:   instantiated from here
/usr/include/firebreath/ScriptingCore/JSCallback.h:47:107: error: request for member ‘get’ in ‘instance’, which is of    non-class type ‘mine* const’
/usr/include/firebreath/ScriptingCore/JSCallback.h:49:97: error: request for member ‘get’ in ‘instance’, which is of non-class type ‘mine* const’
make[2]: *** [CMakeFiles/mine.dir/manager/mine.cpp.o] Error 1
make[1]: *** [CMakeFiles/mine.dir/all] Error 2
make: *** [all] Error 2 
```

查看 make_callback() 的实现，我尝试了以下操作：

```
FB::JSObjectPtr doc = m_host->getDOMDocument()->getJSObject();
doc->Invoke("addEventListener", FB::variant_list_of("load")(FB::JSAPIPtr(new FB::JSCallback(FB::make_method(this, &mine::foo))))); 
```

这次编译通过了，但是我的函数 - mine::foo() 没有被 document.load() 调用

通过在 chrome 中使用“检查元素”，在“事件侦听器”中，我可以看到为“加载”添加了一个新的侦听器。但是， listenerBody 是一个`<JSAPI-Auto Javascript Object>`.

恐怕这就是为什么没有调用 mine::foo() 的原因，Javascript 不知道如何调用它，因为它不是函数，只是一个对象。

有谁知道如何完成这项工作？

我能想到的另一种方法是：

1.  注册自定义事件处理程序
2.  在初始化时触发自定义事件

我想使用类似的东西：

```
registerEventMethod("myevent", &mine::foo); 
```

这样当 myevent 被触发时，可以调用 mine::foo() 。

这里的问题是，mine::foo 不是 JSObjectPtr，所以这段代码不起作用。

在这种情况下使用 registerEventMethod() 的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T13:02:58.760

registerEventObject 从来没有打算手动调用；它由 addEventListener 和 attachEvent 的内部实现使用。目的是将 javascript 处理程序附加到插件中的事件。

我建议你使用 boost 的信号和槽之类的东西来实现你自己的 c++ 端事件系统；FireBreath 的东西从来没有打算解决这个问题。另一方面，如果您想查看它，可能会扩展 FireBreath 的功能以支持它，并且我非常权威地认为 FireBreath 的看门人可能会为此接受拉取请求。=]

# c++ - c++中4个字符中哪个字符排在第一位

> ID：11112162
> 
> 赞同：1
> 
> 时间：2012-06-20T02:46:51.150
> 
> 标签：c++, char

在我的项目中，我从用户那里获取一个字符串，然后我需要检查元音 a、e、I、O、U 是否存在。如果是这样，我必须找出字符串中哪个排在第一位，然后哪个排在后面。例如，如果用户输入如下内容：

```
char expr[] = "this is for something real"; 
```

我先来，然后是我，然后是 O，以此类推。我使用 . 检查了字符是否在字符串中`strchr(expr,'character here')`。为了找到哪个字符先出现，我使用找到每个字符的索引

```
const char *ptr = strchr(expr, characters here);
if(ptr) {
    int index = ptr - expr;
} 
```

之后我检查哪个索引更大。但这是一个非常漫长的过程。有没有更聪明的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T02:56:16.220

这可以很容易地通过简单地迭代输入表达式并注意何时遇到目标字母来完成。这是一种按照元音在输入表达式中出现的顺序`C++11`填充 a的方法。`std::vector`如果您只需要将它们打印出来，那么就不要填充`results`向量（而是打印它们）。

```
char expr[] = "this is for something real";
std::vector<char> results;

std::for_each(
    expr,
    expr + strlen(expr),
    [&results] (const char c)
{
   switch(c)
   {
   case 'a':
   case 'A':
   case 'e':
   case 'E':
   case 'i':
   case 'I':
   case 'o':
   case 'O':
   case 'u':
   case 'U':
      results.push_back(c);
   }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T03:12:34.377

如果您不需要原始字符串中的位置，而只需要顺序，则可以使用`std::remove_copy_if`检测非元音字符的仿函数（即元音返回 true）：

```
 std::string only_vowels;
 std::remove_copy_if( std::begin(expr), std::end(expr),
                    std::back_inserter(only_vowels),
                    []( char ch ) { char upper = toupper(ch);
                                    return upper!='A' 
                                          && upper!='E'
                                          && upper!='I'
                                          && upper!='O'
                                          && upper!='U'; } ); 
```

（使用 C++11 特性来获取迭代器和 lambda 而不是创建函子，但同样可以用 C++03 编写一些额外的样板代码。代码未经测试）

算法完成后，`only_vowels`将仅包含原始字符串中存在的元音，并按照它们出现的确切顺序。算法不修改大小写。

或者，您可以手动迭代字符串中的元素，并测试每个字符以查看它是否是元音，然后打印它或做任何需要做的事情。如果这是家庭作业，那么这可能就是你所期望的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T03:19:22.670

这是一种方法，可以为您提供找到的字符以及索引（自动排序）。它还利用了一些 C++ 特性，而不是 C：

```
int main() {
    std::string expr = "this is for something real";
    std::string toCheck = "AaEeIiOoUu"; //checking for these letters
    std::map<int, char> indices; //stores index-character pairs

    for (char c : toCheck) { //go through each char in string (ranged-for, C++11)
        if (expr.find (c) != std::string::npos)
            indices [expr.find (c)] = c; //map sorts itself by key
    }

    for (const auto &element : indices) { //print results
        std::cout << "'" << element.second << "'" 
            << " found at index " << element.first << '\n';
    }
} 
```

我不确定它是否提供了您需要的任何其他内容而不是大卫的回答，但这是一种方法，并且确实允许提取更多信息。但是，当前代码只会为您提供每个代码的第一次出现。我不确定你是想要全部还是第一个，但它是适应性强的。不过，在这一点上，大卫的回答非常适合。

# javascript - 为什么我的 JavaScript 没有按顺序执行？

> ID：11112167
> 
> 赞同：0
> 
> 时间：2012-06-20T02:47:36.347
> 
> 标签：javascript

我不明白为什么我的代码没有按顺序运行......下面的代码不执行 document.write 部分，但它执行之后的部分就好了。我认为这与时间有关，让浏览器执行 . 我尝试在某些部分使用 setTimeout，但它要么不起作用，要么我做错了。

```
function isBrowserMobile()
{
    var iPadAgent = navigator.userAgent.match(/iPad/i) != null;
    var iPodAgent = navigator.userAgent.match(/iPhone/i) != null;
    var AndroidAgent = navigator.userAgent.match(/Android/i) != null;
    var webOSAgent = navigator.userAgent.match(/webOS/i) != null;
    if (iPadAgent || iPodAgent || AndroidAgent || webOSAgent)
    {
       document.write("<body bgcolor='Orange'><b>Mobile browser detected!</b></body>");
       var choice = confirm("Do you want to visit the mobile site?")
       if (choice)
           mobile();
       else
           desktop();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:01:49.343

**编辑：**

我建议你不要使用`document.write`，而是使用 DOM，如下所示：

```
document.body.style.backgroundColor='Orange';
document.body.innerHTML='This is a text'; 
```

在桌面浏览器中测试您的代码时，您可以添加`true ||`到 if 条件的开头。

*我的原始答案使用了不是标准的 innerText*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:02:25.550

浏览器很少在函数完成处理之前更新页面。所以`document.write`已经执行了，但是在函数完成之前可能不会显示结果。

正如 minitech 所说，无论如何，这是一个非常垃圾的功能。您应该根据屏幕大小而不是 UA 嗅探来询问。

请注意，如果该函数在文档加载完成后运行，则调用`document.write`将清除文档的全部内容，包括脚本。

# c# - C# 复杂的树视图设计

> ID：11112170
> 
> 赞同：6
> 
> 时间：2012-06-20T02:48:45.567
> 
> 标签：c#, .net, winforms, treeview

我正在尝试使用富文本框控件设计一个类似 IDE（不可编辑）的程序。基本上，每当用户单击 +/- 按钮时，我需要位于 RTB 左侧的树视图来展开/折叠我的代码的某个部分。可扩展的可折叠范围定义为可以看到大括号的任何位置。例如，在 RTB 中，如果我有类似的东西：

```
int main()
{
   if (...)
   {
       if (...)
       {
       }
   }
   else
   {
   }
} 
```

如果我点击最上面的大括号，它会折叠主函数内的所有内容。基本上，大括号内包含的内容就是折叠的内容。所以总而言之，我正在尝试设计一些与 Visual Studio 的展开/折叠代码功能非常相似的东西，除了它也可以使用 if/else 功能。

我知道括号匹配算法，并且我实现了一个堆栈以了解哪些括号对匹配（存储在元组列表中的行号）。

我遇到的主要问题是如何设计实际的树视图。我需要树视图以线性方式，其中没有节点被添加到另一个之上。我不知道有任何方法可以添加展开/折叠按钮，而无需在另一个节点上实际添加子节点。

此外，除了 +/- 按钮和单个垂直线之外，我需要树视图节点不可编辑、不可见和不可点击。

最后，这是假设如果我满足上述要求，我还需要 RTB 的垂直滚动事件来正确滚动树视图。也就是说，Treeview 的折叠/展开部分将根据 RTB 上可见的代码部分进行更新。

这是我用来初始化树的一段代码：

```
public partial class LogicSimulationViewerForm : Form
{
    private List<Tuple<string,Boolean>> visibleLines = new List<Tuple<string,Boolean>>();
    private List<Tuple<int, int>> collapseRange = new List<Tuple<int, int>>();

    private void TreeInit()
    {
        TreeNode tn;
        Stack<int> openBracketLine = new Stack<int>();
        int i = 0;
        TreeLogicCode.Nodes.Clear();
        foreach (string s in rtbLogicCode.Lines)
        {
            visibleLines.Add(Tuple.Create(s, true));
            if (s == "{")
            {
                openBracketLine.Push(i);
            }
            else if (s == "}")
            {
                collapseRange.Add(Tuple.Create(openBracketLine.Pop(),i));
            }
            i++;
        }
    } 
```

这是 Designer.sc 源代码，虽然我相信这不是必需的，但以防万一：

```
namespace DDCUI
{
    partial class LogicSimulationViewerForm
    {
        /// <summary>
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.TreeLogicCode = new System.Windows.Forms.TreeView();
            this.labelLogicCode = new System.Windows.Forms.Label();
            this.rtbLogicCode = new System.Windows.Forms.RichTextBox();
            this.SuspendLayout();
            // 
            // TreeLogicCode
            // 
            this.TreeLogicCode.Dock = System.Windows.Forms.DockStyle.Left;
            this.TreeLogicCode.Location = new System.Drawing.Point(50, 0);
            this.TreeLogicCode.Name = "TreeLogicCode";
            this.TreeLogicCode.Scrollable = false;
            this.TreeLogicCode.Size = new System.Drawing.Size(40, 600);
            this.TreeLogicCode.TabIndex = 4;
            // 
            // labelLogicCode
            // 
            this.labelLogicCode.BackColor = System.Drawing.Color.LightGray;
            this.labelLogicCode.BorderStyle = System.Windows.Forms.BorderStyle.FixedSingle;
            this.labelLogicCode.Dock = System.Windows.Forms.DockStyle.Left;
            this.labelLogicCode.ForeColor = System.Drawing.SystemColors.ControlText;
            this.labelLogicCode.Location = new System.Drawing.Point(0, 0);
            this.labelLogicCode.Margin = new System.Windows.Forms.Padding(3);
            this.labelLogicCode.Name = "labelLogicCode";
            this.labelLogicCode.Padding = new System.Windows.Forms.Padding(3);
            this.labelLogicCode.Size = new System.Drawing.Size(50, 600);
            this.labelLogicCode.TabIndex = 3;
            this.labelLogicCode.TextAlign = System.Drawing.ContentAlignment.TopRight;
            // 
            // rtbLogicCode
            // 
            this.rtbLogicCode.Dock = System.Windows.Forms.DockStyle.Fill;
            this.rtbLogicCode.Location = new System.Drawing.Point(90, 0);
            this.rtbLogicCode.Name = "rtbLogicCode";
            this.rtbLogicCode.Size = new System.Drawing.Size(510, 600);
            this.rtbLogicCode.TabIndex = 5;
            this.rtbLogicCode.Text = "";
            this.rtbLogicCode.VScroll += new System.EventHandler(this.rtbLogicCode_VScroll);
            // 
            // LogicSimulationViewerForm
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(7F, 12F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.ClientSize = new System.Drawing.Size(600, 600);
            this.Controls.Add(this.rtbLogicCode);
            this.Controls.Add(this.TreeLogicCode);
            this.Controls.Add(this.labelLogicCode);
            this.FormBorderStyle = System.Windows.Forms.FormBorderStyle.None;
            this.Name = "LogicSimulationViewerForm";
            this.Text = "LogicSimulationViewerForm";
            this.ResumeLayout(false);

        }

        #endregion

        private System.Windows.Forms.TreeView TreeLogicCode;
        private System.Windows.Forms.Label labelLogicCode;
        private System.Windows.Forms.RichTextBox rtbLogicCode;
    }
} 
```

我非常感谢任何有关解决此问题的指导。提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-22T09:45:04.370

您应该在此处查看 Scintilla 和 .NET 版本：http: [//scintillanet.codeplex.com/](http://scintillanet.codeplex.com/)。

它包括用于解决这类问题的源代码，但老实说，我只是使用控件并将其设为只读来解决您的编程要求。

# metadata - Facebook Open Graph 元数据标签是否在任何地方都有详细记录？

> ID：11112171
> 
> 赞同：0
> 
> 时间：2012-06-20T02:48:48.797
> 
> 标签：metadata, facebook-opengraph

Facebook 建议我将元数据标签添加到打开的图表中。但是是否有更多的细节记录在任何地方？比如[http://ogp.me/ns#](http://ogp.me/ns#) 和[http://ogp.me/ns/fb#](http://ogp.me/ns/fb#) 。我应该改变那些吗？

```
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">
  <meta property="fb:app_id"      content="136682149751451" /> 
  <meta property="og:type"        content="website" /> 
  <meta property="og:url"         content="Put your own URL to the object here" /> 
  <meta property="og:title"       content="Your Open Graph object title" /> 
  <meta property="og:image"       content="http://ogp.me/logo.png" /> 
  <meta property="og:description" content="Your Open Graph object description" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T02:59:31.760

是的，在协议页面[http://ogp.me/](http://ogp.me/)和[http://developers.facebook.com/docs/opengraph/objects/builtin/](http://developers.facebook.com/docs/opengraph/objects/builtin/)

> 但是是否有更多的细节记录在任何地方？比如[http://ogp.me/ns#](http://ogp.me/ns#)和[http://ogp.me/ns/fb#](http://ogp.me/ns/fb#)。

你不应该改变那些，那些是需要的命名空间`fb`和`og`

# python - 在 Python 正则表达式中，如何忽略捕获组中的表达式？

> ID：11112175
> 
> 赞同：0
> 
> 时间：2012-06-20T02:49:19.597
> 
> 标签：python, regex

我有一个看起来像这样的字符串：

```
<name>-<gender>-<age>.jpg 
```

就我所接受的而言，我想非常自由。要求是：

1.  该`<name>`组件是必需的。
2.  必须有`.jpg`文件扩展名
3.  只要最终结果是以下排列之一，您就可以将组件留空或完全省略：
    *   `<name>.jpg`
    *   `<name>-<gender>.jpg`
    *   `<name>-<gender>-<age>.jpg`

被视为有效的示例：

```
Beamin-M.jpg
Jean.jpg
Maria-F-23.jpg 
```

我想使用正则表达式分解字符串的每个组成部分，但我不想捕获破折号 ( `-`)。我尝试使用非捕获组，但无法获得我正在寻找的结果：

```
>>> import re
>>> r = re.compile(r'([^\-]*)((?:\-)[^\-]*)?((?:\-)[^\-]*)?\.jpg')
>>> for d in (
...  'Beamin-M.jpg',
...  'Jean.jpg',
...  'Maria-F-23.jpg',
... ):
...  print r.match(d).groups()
...
('Beamin', '-M', None)
('Jean', None, None)
('Maria', '-F', '-23') 
```

有没有人有什么建议？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T03:03:06.730

当有更逻辑友好的解决方案现成可用时，我不是正则表达式的忠实粉丝，所以我会尝试这样的事情：

```
from os.path import splitext    

test = '<name>-<gender>-<age>.jpg'

fname, ext = splitext(test) # works with names like 'xxx.yyy.jpg'
if ext in ('.jpg', '.jpeg'):
    name, gender, age = (fname.split('-') + [None, None])[:3] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T02:53:12.967

将您的正则表达式重写为：

```
r'([^\-]*)(?:-([^\-]*))?(?:-([^\-]*))?\.jpg' 
```

从技术上讲，您不需要`-`在字符类中转义`[]`，因为它是类中的最后一个。但为了安全起见，我会把它留在那里。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T02:54:10.733

嗯？

你的意思是 r'([^-] *)(?:(?:-)([^-]* ))?((?:-)[^-]*)?.jpg')

说真的，您正在捕获破折号，因为它位于外部捕获的括号中。

# c# - 限制成员访问多个特定类

> ID：11112176
> 
> 赞同：1
> 
> 时间：2012-06-20T02:49:31.347
> 
> 标签：c#, .net, oop, clr

我的泵可以（充气）我的气球。没问题！但是当我尝试使用我的 PUMP 来（弹出）气球时，它真的不能很好地工作。我可以继续使用我的 PUMP，最终它会（弹出）气球，但我的手臂真的很累，我现在想（弹出）它。所以，相反，我得到了我的 POINTY STICK 和（流行音乐）！当然，我的 POINT STICK 在（充气）我的气球时甚至不如 PUMP 在（弹出）它时有效。

```
Class Balloon
{
    Private int _volume = 0;
    Private bool _popped = false;

    Public Balloon() { }

    //Restrict calling to only a PUMP object
    Internal Inflate()
    {
        if (_popped) return;

        _volume += 1;
        if (volume > 10) this.Pop();
    }

    //Restrict calling to only a POINTY STICK object
    Internal Pop()
    {
        if (!_popped) _popped = true;
    }

    Public string GirlHappiness
    { get
        {
        if (!_popped)
            {
            if (_volume < 3)
                return "......";
            if (_volume < 6)
                return "Ooohhh";                    
            else
                return "Ahhhh! Yay!";
            }
        else
            return "WaAaAaAaHhHhHh";
        }
    }

    Public string BoyHappiness
    { get
        {
        if (!_popped)
            {
            if (_volume < 3)
                return "zzzzzz";
            if (_volume < 6)
                return "zzzzzz";                    
            else
                return "zzzzzz";
            }
        else
            return "Ahahaha YAY!";
        }
    }
} 
```

那么，有没有办法实现这一目标？我无法通过分离程序集来获得所需的结果，而我探索的另一种方法，使用反射和跟踪堆栈，在调试之外是不可靠的。该怎么办？！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:07:42.443

我想到了两种方法：使用显式接口实现或事件。

使用显式接口，您可以为那些不“按原样”威胁实例的人隐藏实现。例子：

```
 interface IPumpable 
    {
        void Pump();
    }
    interface IPoppable
    {
        void Pop();
    }

    class Balloon :IPumpable, IPoppable
    {
        private void IPumpable.Pump()
        {
            throw new NotImplementedException();
        }   
        private void IPoppable.Pop()
        {
            throw new NotImplementedException();
        }
    }

    public static void PopMethod(IPoppable poppable)
    {
        poppable.Pop();
    }
    public static void PumpMethod(IPumpable pumpable)
    {
        pumpable.Pump();
    }

    static void Main(string[] args)
    {
        Balloon balloon = new Balloon();

        PumpMethod((IPumpable)balloon);
        PopMethod((IPoppable)balloon);
    } 
```

请注意，Pump 和 Pop 实现可以标记为私有。仅当您分别将气球威胁为 IPumpable 或 IPoppable 时，它​​们才可见。

# javascript - 从 Tinymce 获取 HTML 值

> ID：11112181
> 
> 赞同：4
> 
> 时间：2012-06-20T02:49:59.567
> 
> 标签：javascript, jquery, tinymce

有没有办法使用 jQuery 从 TinyMCE 编辑器获取 HTML 内容，以便我可以将其复制到另一个 div？

我在内容上尝试了几种方法，如 val() ，但它似乎不起作用......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T02:55:29.577

使用 jQuery：

```
<textarea id="content" name="content">
$('#content').html() 
```

使用 TinyMce API：

```
$('#content').tinymce().activeEditor.getContent() // overall html
$('#content').tinymce().activeEditor.getContent({format : 'text'}) // overall text
$('#content').tinymce().selection.getContent() // selected html
$('#content').tinymce().selection.getContent({format : 'text'})) // selected text 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-20T02:57:41.980

如果您正在使用 jquery 适配器进行初始化

```
 $(selector).tinyMCE().getContent(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T02:57:15.957

如果您使用的是 tinymce，我会使用它的内部方法来获取您需要的内容。当我需要在活动编辑器中获取内容时，我会这样做：

```
var rawString = tinyMCE.activeEditor.getContent(); 
```

我在事件处理函数中调用该方法。

这是文档：

[tinymce api](http://www.tinymce.com/wiki.php/API3%3amethod.tinymce.Editor.getContent)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T02:53:34.677

使用 TinyMCE 的 API 来获取它：

```
alert(tinyMCE.activeEditor.getContent()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T02:51:38.797

使用`text();`而不是`val();`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-12-26T11:40:41.367

我正在尝试 charlietfl 方法： `$(selector).tinyMCE().getContent();`

有一个错误：

```
[$(selector).tinyMCE().getContent();][1] 
```

这种方式`activeEditor`对我有用：

[活动编辑器](https://i.stack.imgur.com/mahKY.jpg)

```
tinymce.activeEditor.getContent() 
```

[来源](https://www.tiny.cloud/blog/how-to-get-content-and-set-content-in-tinymce/)

这是我的代码：

```
$(document).ready(function() {

    $(document).on("click", ".btnClassClose", function () {

        var tinyMCEcontent = tinymce.activeEditor.getContent();

        var getAttrIDArray = [];

        $("#" + getelementId).html("");
        $("#" + getelementId).html(tinyMCEcontent);
        $("#" + getelementId).append(buttonEDI);

        var PageName = new Object();
        PageName["mdlPageId"] = getelementId;
        getAttrIDArray.push(PageName);

        var PageName = new Object();
        PageName["mdlPageContentHtml"] = tinyMCEcontent;
        getAttrIDArray.push(PageName);

        var PageName = new Object();
        PageName["mdlPageName"] = "Default";
        getAttrIDArray.push(PageName);

        var PageName = new Object();
        PageName["mdlAligen"] = "Central";
        getAttrIDArray.push(PageName);

        var PageName = new Object();
        PageName["mdlOrderNumberHorizontal"] = "1";
        getAttrIDArray.push(PageName);

        alert(JSON.stringify(getAttrIDArray));

        var contentGetAttrIDArray = SecondMainSendAjax("CMS?handler=Content", getAttrIDArray);

    });
}); 
```

# javascript - 如何单击带有特定文本的按钮？

> ID：11112186
> 
> 赞同：3
> 
> 时间：2012-06-20T02:50:43.980
> 
> 标签：javascript, button, greasemonkey

我正在尝试修改下面的脚本以单击站点上如下所示的按钮：

```
<button id="checkPrice-02070" onclick="checkPrice(02070,null); return false;" class="orangeDark">
  <span>check price</span>
</button> 
```

我正在使用下面的代码。到目前为止，页面似乎一直在重新加载；没有其他事情发生。
对新人有什么建议吗？

```
(function () {
    window.addEventListener("load", function (e) {
        clickConfirmButton()
    }, false);
})();

function clickConfirmButton() {
    var buttons = document.getElementsByTagName('button');
    var clicked = false;
    for (var index = 0; (index < buttons.length);  index++) {
        if (buttons[index].value == "check price") {
            buttons[index].click();
            clicked = true;
            break;
        }
    }
    if (!clicked) {
        setTimeout("window.location.reload()", 300 * 1000);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:12:11.483

A `<button>`s`value`不是可见文本。你想搜索`textContent`.

**然而：**

1.  如果该示例 HTML 是正确的，您最好搜索以`checkPrice`. 请参阅下面的代码。

2.  如果找不到按钮，您确定要*重新加载吗？*如果它是由 AJAX 添加的，这不是最好的方法。看到[这个答案](https://stackoverflow.com/a/10476659/331508)。

3.  不要`setTimeout`与这样的字符串（评估）参数一起使用。请参阅下面的代码。

4.  您不需要将代码包装在匿名函数中。

无论如何，这应该工作，给定示例 HTML：

```
window.addEventListener ("load", clickConfirmButton, false);

function clickConfirmButton (zEvent) {
    var button = document.querySelector ("button[id^='checkPrice']");
    if (button) {
        button.click ();
    }
    else {
        setTimeout (function () { location.reload(); }, 300 * 1000);
    }
} 
```

* * *

* * *

要检查按钮文本，请使用：

```
function clickConfirmButton (zEvent) {
    var buttons = document.querySelectorAll ("button[id^='checkPrice']");
    var clicked = false;

    for (var index = 0, numBtn = buttons.length;  index < numBtn;  ++index) {
        if (/check price/i.test (buttons[index].textContent) ) {
            buttons[index].click();
            clicked = true;
            break;
        }
    }
    if (!clicked) {
        setTimeout (function () { location.reload(); }, 300 * 1000);
    }
} 
```

# asp.net - AJAX 添加动态表单和 AJAX Post 数据

> ID：11112196
> 
> 赞同：0
> 
> 时间：2012-06-20T02:52:41.390
> 
> 标签：asp.net, ajax, forms

这就是我试图用 AJAX 做的事情：

[下拉列表]

我有一个 DropDownList（不在 UpdatePanel 内），由不同的产品填充以“添加”到数据库。

[更新面板#1]

下面，我有一个条件 UpdatePanel，它在 DropDownList 上侦听“SelectedIndexChanged”，当触发该事件时，它将 TextBoxes 添加到 UpdatePanel 内的 div“productForm”中。它根据要添加的产品创建表单。

[按钮]

在 UpdatePanel 下方，我有一个“应该”提交上面的表单的按钮。

[更新面板#2]

我有一个更新面板，用于侦听按钮“单击”事件上的事件。我在 ContentTemplate 中还有一个 div，它应该发布从第一个 UpdatePanel 中的“添加产品表单”提交的数据。

问题是，当我提交时（并且控件在第一个 UpdatePanel 中仍然可见。它无法从 TextBoxes 读取数据，因为它们不存在。另外，如果我尝试将所有这些添加到同一个 UpdatePanel，每当我单击提交按钮时，控件就会消失。

任何想法如何使类似的工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T12:21:28.037

如果没有代码，我可以怀疑当您在下拉选择的索引更改事件上动态填充第一个 div 时，由于它在更新面板中，视图状态永远不会知道新控件并且在提交时无法将它们发布回服务器。

我在更新面板方面有过一些糟糕的经历，除了非常简单的场景外，我从不使用它。尝试熟悉 jQuery ajax。我会使用 jQuery 和 web 方法做你想做的事情。

# iphone - 有没有办法将 int 设置为 001

> ID：11112201
> 
> 赞同：-1
> 
> 时间：2012-06-20T02:53:12.780
> 
> 标签：iphone, objective-c, xcode

我需要设置一个整数从 001 开始，而不是只有 1

```
int iNumber = 001;
NSLog(@"%d",iNumber); // this is logging 1 instead of 001 
```

有没有办法让它成为 001 ？

[更新]

我需要这个，因为我正在从 NSUserDefaults 创建一个 NSMutableArray，之后我使用 NSSortDescriptor 对数组进行排序。问题是因为我无法将 int 设置为从 001 开始，我排序的数组是 0、10、11、12、1、2、3、4、5、6、7、8、9。

更多代码解释

```
NSString *name = @"Name";
NSUserDefaults *MainArray = [NSUserDefaults standardUserDefaults];
NSString *Temp = [NSString stringWithFormat:@"%@%d", name,MainNumber];
[MainArray setObject:@"test" forKey:Temp];
[MainArray synchronize];
NSLog(@"%@",Temp);
MainNumber++; 
```

上面的代码会这样保存：Name1,Name2,Name3....

我需要它是 Name001、Name002、Name003 .......

先感谢您 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T03:01:19.200

使用 %03d 格式说明符，例如

```
NSString *theString = [NSString stringWithFormat: @"%@%03d",name,MainNumber];
NSLog(@"%03d", iNumber );// can also use in nsstring stringWithFormat 
```

Objective-C的方式，

```
 NSNumberFormatter * numberFormatter = [[[NSNumberFormatter alloc] init] autorelease];
 [numberFormatter setPaddingPosition:NSNumberFormatterPadBeforePrefix];
 [numberFormatter setPaddingCharacter:@"0"];
 [numberFormatter setMinimumIntegerDigits:10];

 NSNumber * number = [NSNumber numberWithInt:1];
 NSString * theString = [numberFormatter stringFromNumber:number];

 NSLog(@"%@", theString); 
```

现在你的需求网：

```
 NSString *name = @"Name";
 NSUserDefaults *MainArray = [NSUserDefaults standardUserDefaults];
 NSString *Temp = [NSString stringWithFormat:@"%@%03d", name,MainNumber];
 [MainArray setObject:@"test" forKey:Temp];
 [MainArray synchronize];
 NSLog(@"%@",Temp);
 MainNumber++; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:38:29.043

你从太低的层面解决问题。要创建一个排序描述符，该描述符将在字符串、、等`@"10"`之后对字符串进行排序，请告诉它使用,来比较字符串`@"2"``@"3"``@"4"`[`localizedStandardCompare:`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/uid/20000154-SW88)

> 每当文件名或其他字符串出现在类似 Finder 的排序的列表和表格中时，都应该使用它。

```
[NSSortDescriptor sortDescriptorWithKey:theKey
                              ascending:YES
                               selector:@selector(localizedStandardCompare:)]; 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-06-20T03:13:41.660

您可以使用“浮动”

```
float *float = 001; 
```

这*可能*需要调整，因为我在我的 iPad 上，所以我没有 Xcode 来验证......

# clojure - leiningen 运行一个 AOT 编译的 java 类

> ID：11112203
> 
> 赞同：3
> 
> 时间：2012-06-20T02:53:14.400
> 
> 标签：clojure, leiningen

## 语境

如果我希望 Lein 1.7 从加载的特定类开始，我会：

```
:repl-init init.init 
```

现在，我不想让 lein 加载 *.clj 文件，而是希望 lein 执行“java Foo”的等效操作，其中 Foo 是 classes/Foo.class

## 问题：

我的 project.clj 看起来很像：

```
(defproject ...
  :aot [Foo]
  ???? ) 
```

我放什么？？？通过执行“java Foo”使“lein repl”启动？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:13:01.613

如果我理解您的问题，您仍然可以为此使用 :repl-init ，方法是调用要在 repl 加载的命名空间中预加载的类。在此示例中，我使用`println`语句作为您要完成的设置的替代 :-)

项目.clj：

```
(defproject foooo "1.0.0-SNAPSHOT"
  :description "FIXME: write description"
  :dependencies [[org.clojure/clojure "1.3.0"]]
  :aot [foooo.core]
  :main foooo.core
  :repl-init foooo.core) 
```

核心.clj

```
(ns foooo.core
  (:gen-class))
(println "setting up for fun")

(defn -main []) 
```

compile: arthur@a:~/foooo$ lein compile Compiling foooo.core 编译成功。

跑步：

```
arthur@a:~/foooo$ CLASSPATH=./lib/clojure-1.3.0.jar:./classes/ java foooo.core 1
setting up for fun 
```

或者：

```
arthur@a:~/foooo$ lein run
setting up for fun 
```

回复：

```
arthur@a:~/foooo$ lein repl
REPL started; server listening on localhost port 63392
setting up for fun
foooo.core=> 
```

# objective-c - Restkit 映射 POST 响应

> ID：11112209
> 
> 赞同：0
> 
> 时间：2012-06-20T02:53:54.730
> 
> 标签：objective-c, ios, post, restkit

我正在尝试通过下面的代码映射 POST 响应，但是当到达 didLoadObjects 时，Restkit 正在尝试映射与我尝试 POST 相同的对象（发布 Foo 并希望它映射 Bar，但 RestKit 正在尝试映射返回 Foo)。

```
[self.objectManager sendObject:mySyncInstance toResourcePath:url usingBlock:^(RKObjectLoader* postLoader) {
        postLoader.delegate = aDelegate;
        postLoader.objectMapping = [self.objectManager.mappingProvider objectMappingForClass:[Bar class]];
        postLoader.method = RKRequestMethodPOST;
        postLoader.userData = kUserDefaultsAttendanceReads;
        postLoader.serializationMIMEType = RKMIMETypeJSON;
        postLoader.serializationMapping
        [postLoader setUsername:[prefs objectForKey:kCurrentUsername]];
        [postLoader setPassword:[prefs objectForKey:kCurrentPassword]];
    }];// end sendObject 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:43:58.980

解决方案是设置 rootKeyPath。

```
myPostReturnMapping.rootKeyPath = @"persons";

"persons": [
                        { "id": "1",
                          "firstname": "hans",
                          "lastname": "maier",
                          "genre": "m"
                        },
                        { "id": "2",
                          "firstname": "michael",
                          "lastname": "schmidt",
                          "genre": "w"
                        }] 
```

# c# - 从配置转换为类型

> ID：11112212
> 
> 赞同：0
> 
> 时间：2012-06-20T02:54:11.900
> 
> 标签：c#

给定一个将某些 ID 映射到类型的字典：

```
Dictionary<int, Type> processIdToTypeMapping 
```

我正在尝试遍历字典并将对象转换为字典中指定的类型。该对象来自一个 MSMQ。

这是我迭代字典的方式：

```
foreach (KeyValuePair<int, Type> processIdToType in processIdToTypeMapping) 
```

我尝试使用泛型：

```
private void CreateObject<T>()
{
    FooBase fooBase = message.Body as T;
} 
```

但这需要在编译时知道类型。我不能像这样调用 CreateObject()：

```
CreateObject<typeof(processIdToType.Value)>();  // That can't work. 
```

我尝试使用 ChangeType()：

```
private void CreateObject(Type fooType)
{
    FooBase fooBase = Convert.ChangeType(message.Body, fooType);
} 
```

但是我得到一个无法转换的编译时错误。

我试过**：**

```
private void CreateObject(Type fooType)
{
    FooBase fooBase = message.Body as typeof(fooType);
} 
```

如何将 message.Body 转换为字典中的类型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:31:17.597

从评论中，您只是尝试进行动态类型检查，所以幸运的是，不需要动态转换。

```
if(message.Body != null && message.Body.GetType() == fooType) ... 
```

# sql - 如何在 Oracle 数据库中获取所有仅限应用程序或自定义角色？

> ID：11112214
> 
> 赞同：3
> 
> 时间：2012-06-20T02:54:21.133
> 
> 标签：sql, oracle, authentication, oracle11g

在网上搜索并阅读 Oracle 文档后，我需要一些帮助来获取在 Oracle 数据库中找到的所有自定义角色。由于我找不到一个很好的资源来为我提供系统表或数据字典的逻辑模型（所以我可以看到 dba_role 映射到的位置），我能想到的最好的方法是：

```
select role from dba_roles 
```

然后从那里过滤掉我知道的任何 sys 或 sysdba 角色——我知道这可能不正确。

任何有用的关于使用哪个表的指针将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:45:15.543

您可以找到视图背后的 SQL `dba_roles`：

> select * from dba_views where view_name = 'DBA_ROLES';

这是我系统上的代码：

```
select name, decode(password, null,          'NO',
                              'EXTERNAL',    'EXTERNAL',
                              'GLOBAL',      'GLOBAL',
                              'YES'),
             decode(password, null,          'NONE',
                              'EXTERNAL',    'EXTERNAL',
                              'GLOBAL',      'GLOBAL',
                              'APPLICATION', 'APPLICATION',
                              'PASSWORD')
from  user$
where type# = 0 and name not in ('PUBLIC', '_NEXT_USER'); 
```

几年前，当我跑步时，`select * from sys.user$ where type# = 0 order by ctime;`我几乎同时看到了很多视图。`ctime`（时间甚至*在*我的数据库创建之前。）假设旧角色是系统生成的可能是安全的。

但这并不一定意味着最新的角色都是自定义角色。`ctime`升级或重新编译后，或者安装新选项后，可能会发生变化。

安装一个新实例并减去您在其中看到的任何内容可能会有所帮助`dba_roles`。

# c# - 如何将字节数组转换为int数组？

> ID：11112216
> 
> 赞同：23
> 
> 时间：2012-06-20T02:54:48.060
> 
> 标签：c#, arrays

如何将字节数组转换为int数组？我有一个包含 144 个项目的字节数组，由于我的经验不足，我尝试过的方法效率很低。很抱歉，如果之前已经回答过这个问题，但我在任何地方都找不到好的答案。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-06-20T02:57:31.127

简单的：

```
//Where yourBytes is an initialized byte array.
int[] bytesAsInts = yourBytes.Select(x => (int)x).ToArray(); 
```

确保包含`System.Linq`using 声明：

```
using System.Linq; 
```

如果 LINQ 不是你的东西，你可以使用它来代替：

```
int[] bytesAsInts = Array.ConvertAll(yourBytes, c => (int)c); 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-10-25T12:21:33.917

我知道这是一篇旧文章，但是如果您首先要获取一个打包在字节数组中的整数数组（并且可能正在考虑您的 144 个元素的数组字节），那么这是一种方法：

```
var size = bytes.Count() / sizeof (int);
var ints = new int[size];
for (var index = 0; index < size; index++)
{
    ints[index] = BitConverter.ToInt32(bytes, index * sizeof (int));
} 
```

注意：如果需要，请注意字节顺序。（在大多数情况下它会）

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2018-02-26T10:43:44.483

现在很简单，如下所示，

```
int[] result = Array.ConvertAll(bytesArray, Convert.ToInt32); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2020-07-05T16:03:18.810

使用 Buffer.BlockCopy 而不是 Array.ConvertAll。

ref[在 C# 中将 int[] 转换为 byte[]](https://stackoverflow.com/questions/5896680/converting-an-int-to-byte-in-c-sharp?noredirect=1&lq=1)

```
byte[] bytes = new byte[] { 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8 };
int[]  ints= Array.ConvertAll(bytes, Convert.ToInt32); 
```

将返回 ints[]={0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8},

不返回整数 []={0x04030201,0x08070605}

应该使用 Buffer.BlockCopy(bytes, 0, ints, 0, bytes.Length);

# opencl - OpenCL，在内核中很重要的越界检查

> ID：11112218
> 
> 赞同：2
> 
> 时间：2012-06-20T02:54:59.190
> 
> 标签：opencl

我见过这样的解决方案：

```
kernel dp_square (const float *a,
float *result)
{
int id = get_global_id(0);
result[id] = a[id] * a[id];
} 
```

和

```
kernel dp_square (const float *a,
float *result, const unsigned int count)
{
int id = get_global_id(0);
if(id < count)
    result[id] = a[id] * a[id];
} 
```

检查 id< count 是否重要，如果内核工作项尝试处理不可用的项会发生什么？在第一个示例中它不存在的原因是否是程序员只是确保全局大小等于要处理的元素数量（这是否正常）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-21T14:29:20.280

这样做通常有两个原因——

1.  确保开发人员错误不会杀死代码或读取坏内存

2.  因为有时运行比数据点更多的工作项是最佳的。例如，如果我的设备的最佳工作组大小是 32（并不少见），并且我有一个包含 61 条数据的数组，我将运行 64 个工作项，最后三个将简单地“装死。 "

为了不包括此检查，您必须使用除以工作项总数的工作组大小。在这种情况下，这将使您的工作组大小为 1（因为 61 是素数），这将非常慢！

# java - 从GL10中获取线条并排绘制图像，解决方案？

> ID：11112220
> 
> 赞同：6
> 
> 时间：2012-06-20T02:55:22.557
> 
> 标签：java, android, opengl-es, bitmap, line

我有一个我正在使用 open gl 1.0 es 绘制的背景图像。

问题是当我将这个小图像绘制到大屏幕上时，我得到了这个......

![在此处输入图像描述](../Images/77d8b5a5f403c8cccb1570dcfc0d16cb.png)

模式中的**线条/中断不应该存在**。我已经尝试了很多东西，我想也许我的图集是错误的......怀疑它。我从 (0, 0, 50, 50) 绘制它，即 (x, y, width, height)。检查了很多，仍然得到相同的结果，它应该是。

用下面的 for 循环尝试了不同的东西......

```
GL10 gl = this.glGraphics.getGL();
        gl.glClear(GL10.GL_COLOR_BUFFER_BIT);
        guiCam.setViewportAndMatrices();

        gl.glEnable(GL10.GL_TEXTURE_2D);

        // Set background color //

        batcher.beginBatch(Assets.mainmenuAtlas);

        for(int x = Assets.mmbackgroundPattern.width / 2; x < this.scale.getWidth() + Assets.mmbackgroundPattern.width / 2; x += Assets.mmbackgroundPattern.width) {
            for(int y = Assets.mmbackgroundPattern.height / 2; y < this.scale.getHeight() + Assets.mmbackgroundPattern.height / 2; y += Assets.mmbackgroundPattern.height) {
                batcher.drawSprite(x, y, Assets.mmbackgroundPattern.width, Assets.mmbackgroundPattern.height, Assets.mmbackgroundPattern);
            }
        } 
```

视口和矩阵是：

```
public void setViewportAndMatrices() {
        GL10 gl = glGraphics.getGL();
        gl.glViewport(0, 0, glGraphics.getWidth(), glGraphics.getHeight());
        gl.glMatrixMode(GL10.GL_PROJECTION);
        gl.glLoadIdentity();
        gl.glOrthof(position.x - frustumWidth * zoom / 2, 
                    position.x + frustumWidth * zoom/ 2, 
                    position.y - frustumHeight * zoom / 2, 
                    position.y + frustumHeight * zoom/ 2, 
                    1, -1);
        gl.glMatrixMode(GL10.GL_MODELVIEW);
        gl.glLoadIdentity();
    } 
```

当我绘制精灵时：

```
public void endBatch() {
        vertices.setVertices(verticesBuffer, 0, bufferIndex);
        vertices.bind();
        vertices.draw(GL10.GL_TRIANGLES, 0, numSprites * 6);
        vertices.unbind();
    }

    public void drawSprite(float x, float y, float width, float height, TextureRegion region) {
        float halfWidth = width / 2;
        float halfHeight = height / 2;
        float x1 = x - halfWidth;
        float y1 = y - halfHeight;
        float x2 = x + halfWidth;
        float y2 = y + halfHeight;

        verticesBuffer[bufferIndex++] = x1;
        verticesBuffer[bufferIndex++] = y1;
        verticesBuffer[bufferIndex++] = region.u1;
        verticesBuffer[bufferIndex++] = region.v2;

        verticesBuffer[bufferIndex++] = x2;
        verticesBuffer[bufferIndex++] = y1;
        verticesBuffer[bufferIndex++] = region.u2;
        verticesBuffer[bufferIndex++] = region.v2;

        verticesBuffer[bufferIndex++] = x2;
        verticesBuffer[bufferIndex++] = y2;
        verticesBuffer[bufferIndex++] = region.u2;
        verticesBuffer[bufferIndex++] = region.v1;

        verticesBuffer[bufferIndex++] = x1;
        verticesBuffer[bufferIndex++] = y2;
        verticesBuffer[bufferIndex++] = region.u1;
        verticesBuffer[bufferIndex++] = region.v1;

        numSprites++;
    } 
```

这是我的纹理和纹理区域：

```
public TextureRegion(Texture texture, float x, float y, float width, float height) {
        this.u1 = x / texture.width;
        this.v1 = y / texture.height;
        this.u2 = this.u1 + width / texture.width;
        this.v2 = this.v1 + height / texture.height;        
        this.texture = texture;

        this.width = (int) width;
        this.height = (int) height;
    }

public class Texture {
    GLGraphics glGraphics;
    FileIO fileIO;
    Bitmap img;
    String fileName;
    int textureId;
    int minFilter;
    int magFilter;   
    public int width;
    public int height;

    public Texture(GLGame glGame, String fileName) {
        this.glGraphics = glGame.getGLGraphics();
        this.fileIO = glGame.getFileIO();
        this.fileName = fileName;
        try {
            load(BitmapFactory.decodeStream(this.fileIO.readAsset(fileName)));
        } catch(Exception e) {
            e.printStackTrace();
        }
    }

    public Texture(GLGame glGame, Bitmap img) {
        this.glGraphics = glGame.getGLGraphics();
        this.fileIO = glGame.getFileIO();
        this.img = img;
        load(img);
    }

    private void load(Bitmap bitmap) {
        GL10 gl = glGraphics.getGL();
        int[] textureIds = new int[1];
        gl.glGenTextures(1, textureIds, 0);
        textureId = textureIds[0];

        gl.glBindTexture(GL10.GL_TEXTURE_2D, textureId);
        GLUtils.texImage2D(GL10.GL_TEXTURE_2D, 0, bitmap, 0);
        setFilters(GL10.GL_LINEAR, GL10.GL_LINEAR);
        gl.glBindTexture(GL10.GL_TEXTURE_2D, 0);
        width = bitmap.getWidth();
        height = bitmap.getHeight();
        bitmap.recycle();
    }

    public void reload() {
        if(fileName.equals(null)) {
            load(this.img);
        } else {
            try {
                load(BitmapFactory.decodeStream(this.fileIO.readAsset(fileName)));
            } catch(Exception e) {
                e.printStackTrace();
            }
        }
        bind();
        setFilters(minFilter, magFilter);        
        glGraphics.getGL().glBindTexture(GL10.GL_TEXTURE_2D, 0);
    }

    public void setFilters(int minFilter, int magFilter) {
        this.minFilter = minFilter;
        this.magFilter = magFilter;
        GL10 gl = glGraphics.getGL();
        gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, minFilter);
        gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, magFilter);
    }    

    public void bind() {
        GL10 gl = glGraphics.getGL();
        gl.glBindTexture(GL10.GL_TEXTURE_2D, textureId);
    }

    public void dispose() {
        GL10 gl = glGraphics.getGL();
        gl.glBindTexture(GL10.GL_TEXTURE_2D, textureId);
        int[] textureIds = { textureId };
        gl.glDeleteTextures(1, textureIds, 0);
    }
} 
```

我已经尝试从添加的宽度和添加的高度中添加和减去，但让它看起来更糟。

**我的问题是你会看什么来尝试解决这个问题**，我感到很困惑，但**我觉得我可能在 OPENGL 中设置了错误。我可能有什么设置错误？** 我总是可以提供更多的代码，但不确定你可能需要什么。

我在整个屏幕上重新粘贴的图像是：

![在此处输入图像描述](../Images/9a6e7d31ec81248a277b7049e71eb262.png)

我用来制作图集的工具也可以[在这里找到](https://github.com/gemurdock/jTextureAtlas)，我使用的是 beta 树下的工具，它被认为是 build 4。但是，我检查了图集，看起来还不错。

```
public class SpriteBatcher {        
    final float[] verticesBuffer;
    int bufferIndex;
    final Vertices vertices;
    int numSprites;    

    public SpriteBatcher(GLGraphics glGraphics, int maxSprites) {                
        this.verticesBuffer = new float[maxSprites*4*4];        
        this.vertices = new Vertices(glGraphics, maxSprites*4, maxSprites*6, false, true);
        this.bufferIndex = 0;
        this.numSprites = 0;

        short[] indices = new short[maxSprites*6];
        int len = indices.length;
        short j = 0;
        for (int i = 0; i < len; i += 6, j += 4) {
                indices[i + 0] = (short)(j + 0);
                indices[i + 1] = (short)(j + 1);
                indices[i + 2] = (short)(j + 2);
                indices[i + 3] = (short)(j + 2);
                indices[i + 4] = (short)(j + 3);
                indices[i + 5] = (short)(j + 0);
        }
        vertices.setIndices(indices, 0, indices.length);                
    }  

        public void drawSprite(float x, float y, float width, float height, TextureRegion region, boolean corner) {
                if(corner) {
                    float x1 = x;
                    float y1 = y;
                    float x2 = x + width;
                    float y2 = y + height;

                    verticesBuffer[bufferIndex++] = x1;
                    verticesBuffer[bufferIndex++] = y1;
                    verticesBuffer[bufferIndex++] = region.u1;
                    verticesBuffer[bufferIndex++] = region.v2;

                    verticesBuffer[bufferIndex++] = x2;
                    verticesBuffer[bufferIndex++] = y1;
                    verticesBuffer[bufferIndex++] = region.u2;
                    verticesBuffer[bufferIndex++] = region.v2;

                    verticesBuffer[bufferIndex++] = x2;
                    verticesBuffer[bufferIndex++] = y2;
                    verticesBuffer[bufferIndex++] = region.u2;
                    verticesBuffer[bufferIndex++] = region.v1;

                    verticesBuffer[bufferIndex++] = x1;
                    verticesBuffer[bufferIndex++] = y2;
                    verticesBuffer[bufferIndex++] = region.u1;
                    verticesBuffer[bufferIndex++] = region.v1;

                    numSprites++;
                } else {
                    drawSprite(x, y, width, height, region);
                }
            }

    public void present(float deltaTime) {
            GL10 gl = this.glGraphics.getGL();
            gl.glClear(GL10.GL_COLOR_BUFFER_BIT);
            guiCam.setViewportAndMatrices();

            gl.glEnable(GL10.GL_TEXTURE_2D);

            // Set background color //

            batcher.beginBatch(Assets.mainmenuAtlas);

            for(float x = 0; x < this.scale.getWidth(); x += Assets.mmbackgroundPattern.width) {
                for(float y = 0; y < this.scale.getHeight(); y += Assets.mmbackgroundPattern.height) {
                    batcher.drawSprite(x, y, Assets.mmbackgroundPattern.width, Assets.mmbackgroundPattern.height, Assets.mmbackgroundPattern, true);

    }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T21:09:46.457

您可以尝试使用 GL_NEAREST 过滤而不是 GL_LINEAR 吗？您可能会在边缘像素和边框颜色之间获得一些线性采样。

具体在这里：

```
setFilters(GL10.GL_LINEAR, GL10.GL_LINEAR); 
```

# asp.net-mvc-3 - DisplayFor 上的 DateFormat 不起作用

> ID：11112223
> 
> 赞同：2
> 
> 时间：2012-06-20T02:56:06.847
> 
> 标签：asp.net-mvc-3

我已经为日期设置了数据注释，当我使用 EditorFor 时它可以工作，但是当我使用 DisplayFor 时它不起作用。日期来自数据集合。我在 2011 年 8 月 13 日上午 12:00:00 得到这种格式，而不是 2011 年 8 月 13 日。代码有什么问题。

**日期的数据注释**

```
 [DisplayName("Date")]
    [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = "{0:MM/dd/yyyy}")] 
    [Required(ErrorMessage = "Date required.")]
    public DateTime EM_Date { get; set; } 
```

**查看代码**

```
@foreach (EventViewModel item in Model)
{
    <tr>
         <td class="AdBoxBodyRow1" style="text-align: center"> @Html.DisplayFor(modelItem => item.EM_Date) </td>

    </tr>
} 
```

# fancybox - 重新加载fancybox而不重新加载页面

> ID：11112226
> 
> 赞同：1
> 
> 时间：2012-06-20T02:56:24.753
> 
> 标签：fancybox

我有第一个 FB 弹出窗口显示一个小图像和一些数据。我希望能够单击图像并加载/重新加载同一图像的更大版本，使用后退按钮返回第一个 FB 弹出窗口......我是一个简单的程序员，需要简单的解决方案

# unix - 未找到 AIX 中的命令历史记录

> ID：11112227
> 
> 赞同：1
> 
> 时间：2012-06-20T02:56:42.293
> 
> 标签：unix, aix

我输入：

```
# history 
```

AIX 回来了：

```
history: not found. 
```

我错过了什么？在我可以使用历史命令之前我需要配置一些东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T14:10:19.240

必须同意对您的问题的两条评论，但无论如何，这是您的答案，由 IBM 提供：

[列出以前输入的命令（历史命令）](http://pic.dhe.ibm.com/infocenter/aix/v7r1/index.jsp?topic=/com.ibm.aix.baseadmn/doc/baseadmndita/listing_prev_cmds.htm)

简而言之：

*   history 命令是一个**Korn shell 内置命令**，列出了最后输入的 16 个命令。
*   **Bourne shell** *不支持*命令历史。

祝你好运！

# objective-c - CAKeyframeAnimation 关键路径错误

> ID：11112229
> 
> 赞同：1
> 
> 时间：2012-06-20T02:56:52.070
> 
> 标签：objective-c, ios, uiview, core-animation, cakeyframeanimation

我正在尝试为`transform`视图的属性设置动画。这是我的代码：

```
CAKeyframeAnimation *shakeAnimation = [CAKeyframeAnimation animationWithKeyPath:@"transform"];
NSArray *transformValues = [NSArray arrayWithObjects:
                        [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation((3*M_PI)/8)],
                        [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(-((3*M_PI)/8))],
                        [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation((3*M_PI)/8)],
                        [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(-((3*M_PI)/8))],
                        [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation((3*M_PI)/8)],
                        [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(-((3*M_PI)/8))],
                        nil];

[shakeAnimation setValues:transformValues];

NSArray *times = [NSArray arrayWithObjects:[NSNumber numberWithFloat:0.16f],[NSNumber numberWithFloat:0.33f],[NSNumber numberWithFloat:0.49f],[NSNumber numberWithFloat:0.66f],[NSNumber numberWithFloat:0.82f], [NSNumber numberWithFloat:1.0f], nil];

[shakeAnimation setKeyTimes:times];

NSArray *timingFunctions = [NSArray arrayWithObjects:
[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut], 
[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut],
[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut], 
[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut], 
[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut], 
[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut], 
nil];

[shakeAnimation setTimingFunctions:timingFunctions];

shakeAnimation.fillMode = kCAFillModeForwards;
shakeAnimation.removedOnCompletion = NO;
shakeAnimation.duration = 1.0f;

[self.someView.layer addAnimation:shakeAnimation forKey:@"anim"]; 
```

出于某种原因，每当我将方法的参数设置`animationWithKeyPath:`为“转换”时，都会出现错误。我已经尝试了半个小时来调试这个，但找不到错误。我最初虽然我在 UIView 的转换属性上执行不允许的动画，但我知道我可以做这样的事情：

```
aView.transform = CGAffineTransformMakeRotation(M_PI/2); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:06:05.153

图层`transform`属性的值是 a `CATransform3D`，而不是 a `CGAffineTransform`。

`transform.rotation.z`此外，您可能会发现为关键路径设置动画更简单。该值只是 a `CGFloat`，因此您根本不必创建变换矩阵。

[Core Animation Programming Guide中的“Modifying a Transform Using Key Paths” Core Animation Programming Guide 中的](http://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/Layers.html#//apple_ref/doc/uid/TP40006082-SW17)*[*“*](http://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/KVCAdditions.html#//apple_ref/doc/uid/TP40005299-SW6) [*Key*](http://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/Layers.html#//apple_ref/doc/uid/TP40006082-SW17)
[Path Support for Structure Fields”](http://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/KVCAdditions.html#//apple_ref/doc/uid/TP40005299-SW6)*

# ruby - 如何将文档转换为 ASCII？

> ID：11112237
> 
> 赞同：0
> 
> 时间：2012-06-20T02:57:40.027
> 
> 标签：ruby, text, character-encoding, ascii

因此，例如，您有一个文档：Ruby.txt，其内容是

> RuBYrUbYRuByByurBRyuRuby

出于某种原因，您需要将文档的内容转换为 ASCII 代码**而不**将其打印到屏幕上（更改文档的内容）。你是怎样做的？

PS 抱歉，没有可调试的代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:15:38.173

```
"RuBYrUbYRuByByurBRyuRuby".unpack("c*")
 => [82, 117, 66, 89, 114, 85, 98, 89, 82, 117, 66, 121, 66, 121, 117, 114, 66, 82, 121, 117, 82, 117, 98, 121] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:18:01.313

它可能取决于您的 ruby​​ 版本......
但这应该适用于 1.8 和 1.9

```
1.9.3p194 :062 > "string".each_byte do |c|
1.9.3p194 :063 >     puts c.ord
1.9.3p194 :064?>   end
115
116
114
105
110
103
 => "string" 
```

# asp.net - 从静态 IP 地址访问开发 ASP.NET Web 应用程序

> ID：11112241
> 
> 赞同：0
> 
> 时间：2012-06-20T02:58:08.193
> 
> 标签：asp.net, visual-studio-2010, iis, web-applications, static-ip-address

我在 Windows 7 Ultimate 机器上运行 Visual Studio 2010。此计算机连接到具有静态 IP 地址的路由器。该 IP 地址当前用于其中一个端口上的远程 DVR 服务，并且可以从任何 Web 浏览器访问它。

我使用 VS2010 开发了一个 ASP.NET Web 应用程序，目前可以通过在 VS2010 中启动调试会话来在 Web 浏览器中查看它，该会话会启动“开发 IIS 服务器模拟器”。

所以我很好奇，我可以使用相同的静态 IP 地址和不同的端口从 Internet 访问我的 Web 应用程序吗？

PS。我需要这个来演示它。

# mercurial - 将*单个文件*作为子存储库添加到 mercurial 存储库的推荐方法

> ID：11112243
> 
> 赞同：1
> 
> 时间：2012-06-20T02:58:23.740
> 
> 标签：mercurial, subrepos

我有一个善变的存储库`myProject`：

```
myProject
|- file1.js
|- file2.css
|- useful.js 
```

现在`useful.js`是一个包含一些有用类的文件。我在多个项目中使用它，因此它有自己的存储库：

```
useful
|- useful.js
|- example.js
|- README 
```

这个想法是其他人可以签出`useful`，查看文件和示例和自述文件，如果他们喜欢，他们可以复制`useful.js`到自己的项目中并使用它。

由于`useful.js`在我的一些项目中使用过，所以推荐的保持同步的方法是什么？有一个限制`useful.js` *必须*存在于顶级文件夹`myProject`中，即不能嵌套。这使得使用子存储库变得很棘手（无论如何，我都会得到其他文件，例如`example.js`and `README`）。

另一件需要注意的是，`useful`repo 有几个分支：`default`、`version1`和`version2`. 我使用的项目也`useful.js`有分支`default`和. 我想确保每当我在分支之间切换时，我的切换分支也是如此。如果不是这样，我可能会使用符号链接。`version1``version2``myProject``useful.js`

这种情况似乎并不少见。其他人如何处理？只需写一个钩子`update`来检查我是否正在切换分支并相应地切换？加上钩子`commit`, `push`, `pull`? （基本上复制单个文件的子存储库行为）？

干杯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-26T23:52:01.277

鉴于您的用例，您可能需要考虑使用[Yeoman](http://yeoman.io/)，更具体地说是[Twitter Bower Package Manager](https://github.com/twitter/bower)。这样，无需在存储库中保留外部依赖项的副本，只需在 Bower 配置中识别它即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T15:53:33.067

使用 Mercurial 无法仅将存储库的一部分添加为子存储库。因此，您不能只添加存储库中的单个文件。

即使您的另一个存储库仅包含一个文件，您也不能在根级别添加它。

您将不得不找到另一种方法来包含您的`useful.js`文件。您提到了这样做的钩子，但是如果没有某种手动工作，我看不到诚实的方法。就我个人而言，我会选择“简单”并“手工”做所有事情。

关于分支开关，Mercurial 中没有内置机制，但正如您所说，您应该能够通过更新挂钩来做到这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-27T12:13:05.947

跟进@krtek

是的，在任何情况下，您都不能在 superrepo 的根目录中链接（使用 subrepo）有用的.js，它**必须**在 subbir 内。

但是 - 不，通过*一些技巧*，您可以对请求的结果进行一些迭代（依赖于分支的有用.js 并添加单个文件而不是全部）。

为了实现这一点，您必须重新阅读子存储库文档（“任何受 Mercurial URL 支持的都可用于定义外部子存储库......”）`hg help urls`，即

> # 之后的可选标识符表示要从远程存储库使用的特定分支、标记或变更集

并注意**提及分支**。即-*如果*您在有用的存储库中有具有已知名称的特殊分支并且在此分支中只有一个有用的.js，您可以使用这些添加的数据定义子存储库-在超级存储库中*使用单个文件*进行分支

这样，您将在 superrepo 的每个分支中拥有不同的 subrepo 规范，必须准确地合并分支（始终保存“我的”）或为 .hgsub 文件定义特殊的合并工具

# ruby-on-rails - 如何舍入 DateTime 值

> ID：11112249
> 
> 赞同：2
> 
> 时间：2012-06-20T02:59:13.803
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.1

我有一个可以举办活动的地点。我想要一个`upcoming_events`方法，但希望它向下舍入，这样如果有人在晚上 10 点看，它会显示今天的事件。我有这个：

```
def upcoming_events
  d=Time.new
  d.strftime("%m-%d-%Y")
  l=Event.where('location_id=? and start_datetime>?',self.id, d)
end 
```

我得到正确转换但在`d.strftime`但查询是：

```
SELECT `events`.* FROM `events` WHERE (location_id=301 and start_datetime>'2012-06-20 02:49:23') 
```

知道如何让它做'2012-06-20'吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T03:05:12.973

调用`strftime`在这里基本上什么都不做，因为它不会`d`以任何方式改变对象。

无论如何，Rails[`beginning_of_day`](http://api.rubyonrails.org/classes/DateTime.html#method-i-beginning_of_day)在`DateTime`（以及`Date`& `Time`）上提供了完全符合您要求的方法：

```
d = Time.now        #=> 2012-06-19 23:05:54 -0400
d.beginning_of_day  #=> 2012-06-19 00:00:00 -0400 
```

所以只需将您的代码更改为：

```
Event.where('location_id=? and start_datetime>?', self.id, d.beginning_of_day) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T03:11:30.437

我认为您实际上是`"%Y-%m-%d"`故意的`"%m-%d-%Y"`，因为您想要`'2012-06-20'`。因此，请尝试以下操作：

```
def upcoming_events
  d=Time.new
  l=Event.where('location_id=? and start_datetime>?', self.id, d.strftime("%Y-%m-%d"))
end 
```

# c++ - 用于检测启动了哪些程序的后台脚本

> ID：11112255
> 
> 赞同：0
> 
> 时间：2012-06-20T03:00:42.960
> 
> 标签：c++, windows-7

基本上，我想编写一个脚本来检测用户何时启动程序（在 Windows 7 上），以便使用应用程序的图标制作 MegaMan 风格的闪屏。

我不确定从哪里开始。这甚至可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:07:20.697

您可以挂钩 CreateProcess

这里有一些细节， [http://www.codeproject.com/Articles/11985/Hooking-the-native-API-and-controlling-process-cre](http://www.codeproject.com/Articles/11985/Hooking-the-native-API-and-controlling-process-cre)

或者你可以继续观察所有过程并注意变化......

# javascript - 棘手的图像注入问题

> ID：11112256
> 
> 赞同：0
> 
> 时间：2012-06-20T03:00:48.183
> 
> 标签：javascript, image

我需要构建一些遵循这个用例的客户端代码：

1.  图像通过 ftp 上传，名称如“1.jpeg”或“1.png”（“1”基于数据库中设置的 id）
2.  我需要在页面上注入一个 src 属性为“1.jpeg”或“1.png”的 img（取决于实际存在的文件）

我目前的想法是在 phpMyAdmin 中创建另一个位置来指示文件类型，但是我想避免这种情况（因为它取决于非程序员/设计师正确识别文件类型）。有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:39:15.323

如果客户获得的信息不超过 id，那么据我所知，您只有三个选项：

1.  让客户端尝试每个可能的 URL，忽略`404`s 直到您收到`200`响应，然后使用它（非常讨厌的解决方案）。
2.  编写一个服务器端处理程序，允许您将 id 传回并让它进行文件存在检查并流回文件。所以你最终会得到类似的东西`<img src='/getimage?id=1' />`（更好的解决方案，但不是你暗示的纯 javascript 是你想要的）。
3.  首先将更多信息传递回客户端（例如您建议的文件类型解决方案，尽管如果您可以控制上传，您可能会从文件中确定它而不是添加另一个字段）

# php - 通过 NSURLRequest 将音频文件发布到 Web 服务器并将其取回的问题

> ID：11112258
> 
> 赞同：0
> 
> 时间：2012-06-20T03:01:10.647
> 
> 标签：php, objective-c, audio, nsurlrequest

我正在编写一个应用程序，该应用程序需要将 mp3 或任何其他常见音频格式的音频文件发送到服务器。我正在使用一个`NSURLConnection`实例来建立这种连接。我正在使用 post 方法，因为接收信息的文件是 .php。在同一个连接中，我需要发送其他主要是字符串和整数的参数。我面临的问题实际上是发送音频文件并在服务器中接收它。我正在使用下一个代码来建立我的连接：

```
NSMutableURLRequest *localRequest = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:@"whateverphpfile"]];
[localRequest setHTTPMethod:@"POST"];
[self setRequest:localRequest];
[localRequest release];

NSMutableData *body = [[NSMutableData alloc] init];

NSString *testerSTR = [NSString stringWithFormat:@"file=%@", [[NSBundle mainBundle] pathForResource:@"header" ofType:@"png"]];
[body setData:[testerSTR dataUsingEncoding:NSUTF8StringEncoding]];

//_request is of type NSMutableURLRequest
[_request setHTTPBody:body];
//[_request setValue:@"multipart/form-data" forHTTPHeaderField:@"enctype"];
[_request setValue:@"multipart/form-data" forHTTPHeaderField:@"content-type"];

NSLog(@"the body sent is: %@", [[NSString alloc] initWithData:body encoding:NSUTF8StringEncoding]);

_connection = [[NSURLConnection alloc] initWithRequest:_request delegate:self];

if (_connection)
{
    [self setWebData:[NSMutableData data]];
}
else
{
    NSLog(@"theConnection is NULL");
} 
```

检查数据并将其返回到设备时的问题是它是一个像`<564024S D451475 DS5752... ...552D4S5>`. 我应该怎么做才能接收实际的音频文件，或者如何将该大字符串转换为原生 iOS 类可读的音频文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:47:01.613

您需要以 multipart/form-data 格式发送数据。本主题的第二个答案的代码应该做到这一点：[NSURLConnection to upload file asynchonrously?](https://stackoverflow.com/questions/7266464/nsurlconnection-to-upload-file-asynchonrously)

您也可以使用 ASIHTTPRequest 库，它可以做到这一点。

# erlang - Erlang如何处理内存不足的问题？

> ID：11112261
> 
> 赞同：11
> 
> 时间：2012-06-20T03:01:14.390
> 
> 标签：erlang, out-of-memory, fault-tolerance

根据 Erlang 的“让它崩溃”的理念，如果一个进程无法分配继续其操作所需的内存，人们会期望整个 VM 不会崩溃。事实上，如果系统有一个启发式方法来杀死某个进程以释放一些内存，那么其他一些进程会处理这个并恢复。根监督者可能不太可能被启发式方法杀死。

这与大多数现代流行语言形成鲜明对比，后者只是死掉或让操作系统选择做什么。

在 Erlang中*实际上是*如何处理内存不足的？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-20T07:43:52.070

当 Erlang VM 在内存不足的情况下运行时，它只会使整个 VM 崩溃。原因是这是最简单和最安全的事情。

如果您想要一个容错系统，您必须已经拥有多台计算机。您无法仅使用一台计算机（精确的自治计算单元）来构建容错系统。因此，如果您的应用程序在内存不足的情况下运行，最简单的方法就是让整个 VM 崩溃。无论如何，您的系统中有错误。

处理所有边缘情况——你可以处理哪些内存不足，哪些不能处理——太复杂且容易出错。杀死有问题的进程不是解决方案。首先，哪个是违规过程很难决定。杀死一些“随机”（启发式决定的）进程也不是一个解决方案，因为这个被启发式杀死的进程可能是负责意外恢复的进程。杀死整个 VM 不仅是解决内存不足情况的最简单而且也是唯一合理的解决方案。

在您需要可靠系统的情况下，大多数现代流行语言或操作系统的完成方式肯定是错误的。它对于桌面或不太严格的要求是可以接受的，但对于 Erlang 设计的系统绝对不能接受。

# jquery-ui - jqgrid 切换扩展子网格与 ui 效果

> ID：11112262
> 
> 赞同：0
> 
> 时间：2012-06-20T03:01:36.563
> 
> 标签：jquery-ui, jqgrid

如何使用 jquery ui 效果（如[显示](http://jqueryui.com/demos/show/)和[隐藏](http://jqueryui.com/demos/hide/)）在 jqgrid 中切换扩展子网格？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T11:39:34.683

使用它并检查

1.  子网格行扩展：`function(subgrid_id, row_id) { loadComplete:`

2.  `function() { $("#grid_"+row_id).show("slide", { direction: "left" }, 1000); } }`

# twitter-bootstrap - 如何让 Bootstrap 的导航下拉菜单平滑地上下滑动？

> ID：11112267
> 
> 赞同：3
> 
> 时间：2012-06-20T03:02:09.047
> 
> 标签：twitter-bootstrap, drop-down-menu

我的导航是 Twitter 的常规 Bootstrap，除了我想要一些幻灯片效果。

如何使 Bootstrap 导航上的下拉菜单平滑地上下滑动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T18:13:04.297

好吧，这是通过根据我从[http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js](http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js)收集到的内容切换类名来完成的。

如果有的话，您必须正确手动编辑下拉 JS 以支持用于打开和关闭菜单的动画的自定义设置。这是非常可行的，我认为这样的事情会起作用：[https ://gist.github.com/3013002](https://gist.github.com/3013002)

**警告**这尚未经过测试。

**编辑**：这将导致 Bootstrap 更多地依赖 jQuery.effects。只是一个抬头。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T08:44:52.130

如果有人需要 - 检查我的解决方案。修改 bootstrap-dropdown.js 下面。我没有将 display:none 切换为 display:block，而是使用 slideToggle。为了让引导 CSS 不发生交互，我将打开的菜单项的类从“打开”更改为“打开”。

```
/* ============================================================
 * bootstrap-dropdown.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

!function ($) {

  "use strict"; // jshint ;_;

 /* DROPDOWN CLASS DEFINITION
  * ========================= */

  var toggle = '[data-toggle=dropdown]'
    , Dropdown = function (element) {
        var $el = $(element).on('click.dropdown.data-api', this.toggle)
        $('html').on('click.dropdown.data-api', function () {
          $(toggle).next('ul').slideToggle();
          $el.parent().removeClass('opened')
        })
      }

  Dropdown.prototype = {

    constructor: Dropdown

  , toggle: function (e) {
      var $this = $(this)
        , $parent
        , isActive

      if ($this.is('.disabled, :disabled')) return

      $parent = getParent($this)

      isActive = $parent.hasClass('opened')

      clearMenus()

      if (!isActive) {
        $(this).next('ul').slideToggle();
        $parent.toggleClass('opened')
      }

      $this.focus()

      return false
    }

  , keydown: function (e) {
      var $this
        , $items
        , $active
        , $parent
        , isActive
        , index

      if (!/(38|40|27)/.test(e.keyCode)) return

      $this = $(this)

      e.preventDefault()
      e.stopPropagation()

      if ($this.is('.disabled, :disabled')) return

      $parent = getParent($this)

      isActive = $parent.hasClass('opened')

      if (!isActive || (isActive && e.keyCode == 27)) {
        if (e.which == 27) $parent.find(toggle).focus()
        return $this.click()
      }

      $items = $('[role=menu] li:not(.divider):visible a', $parent)

      if (!$items.length) return

      index = $items.index($items.filter(':focus'))

      if (e.keyCode == 38 && index > 0) index--                                        // up
      if (e.keyCode == 40 && index < $items.length - 1) index++                        // down
      if (!~index) index = 0

      $items
        .eq(index)
        .focus()
    }

  }

  function clearMenus() {
    $(toggle).each(function () {
      if (getParent($(this)).hasClass('opened')) {
        $(this).next('ul').slideToggle();
        getParent($(this)).removeClass('opened');
      }
    })
  }

  function getParent($this) {
    var selector = $this.attr('data-target')
      , $parent

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') //strip for ie7
    }

    $parent = selector && $(selector)

    if (!$parent || !$parent.length) $parent = $this.parent()

    return $parent
  }

  /* DROPDOWN PLUGIN DEFINITION
   * ========================== */

  var old = $.fn.dropdown

  $.fn.dropdown = function (option) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data('dropdown')
      if (!data) $this.data('dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  $.fn.dropdown.Constructor = Dropdown

 /* DROPDOWN NO CONFLICT
  * ==================== */

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }

  /* APPLY TO STANDARD DROPDOWN ELEMENTS
   * =================================== */

  $(document)
    .on('click.dropdown.data-api', clearMenus)
    .on('click.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('.dropdown-menu', function (e) { e.stopPropagation() })
    .on('click.dropdown.data-api'  , toggle, Dropdown.prototype.toggle)
    .on('keydown.dropdown.data-api', toggle + ', [role=menu]' , Dropdown.prototype.keydown)

}(window.jQuery); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-06T12:54:53.467

我还没有检查这是否适用于旧版本的 Bootstrap，但是使用 v3，您可以绑定到单击下拉切换时触发的事件。这样您就不必编辑源 JS 代码。

```
$(document).on("hide.bs.dropdown", ".dropdown", function (event) {
    $(event.target).find(">.dropdown-menu:first").slideUp();
});

$(document).on("show.bs.dropdown", ".dropdown", function (event) {
    $(event.target).find(">.dropdown-menu:first").slideDown();
}); 
```

# android - 我在以下按钮代码中缺少什么？

> ID：11112268
> 
> 赞同：-1
> 
> 时间：2012-06-20T03:02:11.457
> 
> 标签：android, button

我正在尝试通过侧面的按钮增加和减少中间的文本视图。该应用程序可以正常启动，但是当我单击任何按钮时，它会因以下错误而关闭。
`Error: process <package> has stopped unexpectedly.`

我的 main.xml：

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<Button
    android:id="@+id/button1"
    android:layout_width="50dp"
    android:layout_height="250dp"
    android:text="+"
    android:textSize="40dp" />

<TextView
    android:id="@+id/tv1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="0"
    android:textSize="80dp"
    android:layout_toRightOf="@+id/button1"
    android:layout_marginTop="75dp"
    android:layout_marginLeft="80dp"
     />

<Button
    android:id="@+id/button2"
    android:layout_width="50dp"
    android:layout_height="250dp"
    android:layout_alignParentRight="true"
    android:text="-"
    android:textSize="40dp" /> 
```

我的java文件：

```
public class IncrementDecrementActivity extends Activity {

int counter;
Button add, sub;
TextView tv;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    add = (Button) findViewById(R.id.button1);
    sub = (Button) findViewById(R.id.button2);
    tv = (TextView) findViewById(R.id.tv1);

    add.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            counter++;
            tv.setText(counter);
        }
    });

    sub.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            counter--;
            tv.setText(counter);
        }
    });

} 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:08:14.967

出色地。这应该是。

在这份声明中

```
counter--;
tv.setText(counter); 
```

它应该是

```
counter--;
tv.setText(String.valueOf(counter)); 
```

我猜错误是

> 资源未找到异常

你是怎么遇到这个错误的？

在上面的代码上。

你声明`int counter;`

让我们考虑计数器的值为0

接着

你打过电话了

```
counter--; // take note this is an integer
tv.setText(counter); 
```

计数器现在是 -1

通过调用[setText(counter);](http://developer.android.com/reference/android/widget/TextView.html#setText%28int%29)

将首先从 strings.xml 中搜索一个带有整数 -1 的字符串值并将文本设置为 textview

如果 android 找不到该字符串，它将抛出`ResourceNotFoundException`

:)

# google-chrome - Chrome 扩展将属性附加到每个选项卡

> ID：11112270
> 
> 赞同：0
> 
> 时间：2012-06-20T03:02:26.533
> 
> 标签：google-chrome, google-chrome-extension

在 chrome 扩展中，我创建了我试图与每个选项卡一起存储的选项卡属性。做这个的最好方式是什么？我已经研究过使用 localStorage，但似乎有更简单的方法。数据绝不是永久的，它只在选项卡存在时才存在。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T07:49:55.037

绝对没有必要使用`localStorage`. 如果没有“数据绝不是永久的”这一概念，人们已经知道：标签 ID 在会话中是唯一的。从这个事实可以看出，数据是非持久的。

实现它的最佳方法是维护选项卡属性的哈希：

*   [`chrome.tabs.onCreated`](http://code.google.com/chrome/extensions/tabs.html#event-onCreated)（可选，将初始信息添加到选项卡哈希）
*   [`chrome.tabs.onUpdated`](http://code.google.com/chrome/extensions/tabs.html#event-onUpdated)- （添加/）更新选项卡哈希（URL 可用）
*   [`chrome.tabs.onRemoved`](http://code.google.com/chrome/extensions/tabs.html#event-onRemoved)- 删除哈希条目

[选项卡](http://code.google.com/chrome/extensions/tabs.html#type-Tab)对象并不昂贵：所有属性都是原语（布尔值、数字、字符串）。

例如（仅背景页面）：

```
var tabStore = {};         // <-- Collection of tabs
chrome.tabs.onUpdated.addListener(function(tabId, changeInfo, tab) {
    tabStore[tabId] = tab;
});
chrome.tabs.onRemoved.addListener(function(tabId) {
    delete tabStore[tabId];
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-08-05T18:00:54.983

Rob W 答案的重要附录。

确保还收听 tabs.onReplaced，并相应地更新 tabStore。

```
chrome.tabs.onReplaced.addListener(function(addedTabId, removedTabId) {
    tabStore[addedTabId] = tabStore[removedTabId];
    delete tabStore[removedTabId];
}); 
```

Chrome 可以在没有警告或标志的情况下更改标签页的 ID。据我所知，发生这种情况的唯一地方是当您在地址栏中输入搜索时谷歌的“即时搜索”。这可能是一个边缘案例，但如果你不跟踪它，它最终可能会成为一个非常隐蔽的问题。

# vb.net - 单击以输入文本时保存文本框名称

> ID：11112271
> 
> 赞同：0
> 
> 时间：2012-06-20T03:02:50.350
> 
> 标签：vb.net, textbox, controls

嘿，我需要一些帮助，让我的代码像我需要的那样正常工作。下面是我的代码，当用户单击文本框时，它会弹出一个键盘，他们可以在其中单击任何字母，并将该字母输入文本框。问题是我似乎无法让文本框的名称返回，以便它知道将信件发送到哪里。

射击顺序为：

TextBox1_MouseDown

keyboardOrPad.runKeyboardOrPad

kbOrPad.keyboardPadType

点击信

Form1.putIntoTextBox

**表格1**

```
Private Sub TextBox1_MouseDown(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs) Handles TextBox1.MouseDown
    Call keyboardOrPad.runKeyboardOrPad("SHOW") 'Just shows the keyboard
    Call kbOrPad.keyboardPadType("PAD", TextBox1)
End Sub

Public Sub putIntoTextBox(ByRef what2Put As String, ByRef whatBox As TextBox)
    whatBox.Text = what2Put '<-- has error Object reference not set to an instance of an object. for the whatBox.text
End Sub 
```

**kbOrPad 类**

```
Dim theBoxName As TextBox = Nothing

Public Sub keyboardPadType(ByRef whatType As String, ByRef boxName As TextBox)
    theBoxName = boxName '<-- shows nothing here
    Dim intX As Short = 1

    If whatType = "PAD" Then
        Do Until intX = 30
            Dim theButton() As Control = Controls.Find("Button" & intX, True)

            theButton(0).Enabled = False
            intX += 1
        Loop
    ElseIf whatType = "KEYB" Then

    End If
End Sub

Private Sub ClickLetters(ByVal sender As System.Object, ByVal e As System.EventArgs)
    Dim btn As Button = CType(sender, Button)

    If btn.Text = "Backspace" Then

    Else
        Call Form1.putIntoTextBox(btn.Text, theBoxName) 'theBoxName taken from keyboardPadType
    End If
End Sub 
```

给你一些视觉效果：

![在此处输入图像描述](../Images/82e64ec9d65fdcb8de9fa353bbc1ed2b.png) ![在此处输入图像描述](../Images/52d76723ff3ef2523f170feb8d1273e5.png)

粘贴代码：[http://pastebin.com/4ReEnJB0](http://pastebin.com/4ReEnJB0)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:30:08.110

首先，您应该将 ByRef 替换为 ByVal（当您不知道是否应该使用其中一个时，请使用 ByVal）。

其次，我认为您不需要 putIntoTextBox 方法，我认为您应该可以直接执行此操作（可能是阻止它的线程问题，但我认为这不太可能基于您的描述）。您没有显示`Form1`设置的位置（或者即使设置），这是另一个潜在的问题。

最后，回调另一个类的更好方法是使用委托/lambada。

（我知道，没有代码，但你没有为工作响应提供足够的上下文，所以我只是给出文本）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T03:14:59.267

确保它`theBoxName`是一个[模块范围的变量](http://msdn.microsoft.com/en-us/library/1t0wsc67.aspx)，然后我会像这样填充它，为您提供实现共享`TextBox` `MouseDown`处理程序的灵活性：

```
Private Sub TextBox1_MouseDown(sender As System.Object, e As System.Windows.Forms.MouseEventArgs) Handles TextBox1.MouseDown
    Dim tb As TextBox = CType(sender, TextBox)

    Call keyboardPadType("PAD", tb)
End Sub 
```

* * *

尝试这样的事情

```
Public Class Form1
Dim myKborPad As New kbOrPad

Private Sub TextBox1_MouseDown(sender As System.Object, e As System.Windows.Forms.MouseEventArgs) Handles TextBox1.MouseDown
    Dim tb As TextBox = CType(sender, TextBox)

    Call myKborPad.keyboardPadType("PAD", tb)
End Sub 
```

* * *

根据您的 PasteBin 代码进行编辑。

我注意到你已经在你的模块中声明了一个keyboardPadType 的实例，使用它而不是我之前所说的。该代码应如下所示：

删除：将 myKborPad 调暗为新 kbOrPad

并使用您在模块中创建的 theKbOrPad，如下所示：

```
Private Sub TextBox1_MouseDown(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs) Handles TextBox1.MouseDown
    Dim tb As TextBox = CType(sender, TextBox)

    Call keyboardOrPad.runKeyboardOrPad("SHOW")
    Call theKbOrPad.keyboardPadType("PAD", tb)
    'Call kbOrPad.keyboardPadType("PAD", tb)
End Sub 
```

另外关于您遇到的当前错误，您正在尝试使用[Form1 的默认实例](http://msdn.microsoft.com/en-us/library/ms233839.aspx)，它不是您正在运行的实际 Form ，您可以通过将您尝试使用的方法设置为共享来围绕此进行编码。像这样：

```
Public Shared Sub putIntoTextBox(ByRef what2Put As String, ByRef whatBox As TextBox)
    whatBox.Text = what2Put
End Sub 
```

但是，我实际上更愿意像这样将它放入您的模块中

```
Public Sub putIntoTextBox(ByRef what2Put As String, ByRef whatBox As TextBox)
    whatBox.Text = what2Put
End Sub 
```

并这样称呼它

```
Call putIntoTextBox(btn.Text, theBoxName) 
```

进行上述更改后，您的代码有效。

# azure - 下载天蓝色诊断日志？

> ID：11112272
> 
> 赞同：21
> 
> 时间：2012-06-20T03:02:51.027
> 
> 标签：azure, azure-diagnostics

有谁知道如何下载 Azure 诊断日志？在控制面板中，它向我显示了日志的 ftp 链接，但是当我单击它时，它会提示我输入用户名/密码。我尝试的任何用户名/密码都会导致“530 用户无法登录”错误。

它看起来与 Vis Studio 发布到的地址相同，并且在我的用户名前有一个“$”。我也试过了，但是不行。

只是好奇当您开始在应用程序中弹出错误时如何获取日志，或者我应该做些什么来准备我的应用程序以在 Azure 上运行？

谢谢，迈克

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-20T04:49:08.253

您需要使用 FTP 客户端应用程序来访问文件，而不是使用网页，因为它旨在使用客户端应用程序来显示文件。

我已将 FileZilla 配置如下，以访问我的 Windows Azure 网站以访问诊断日志以及使用相同的客户端应用程序上传/下载特定于站点的文件：

![在此处输入图像描述](../Images/5381c388fc5aba0358c140a9a3b4ddbe.png)

在我的博客[Windows Azure 网站：通过 FTP 上传/下载文件并收集诊断日志](http://blogs.msdn.com/b/avkashchauhan/archive/2012/06/19/windows-azure-website-uploading-downloading-files-over-ftp-and-collecting-diagnostics-logs.aspx)中，我已经描述了所有步骤。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-12-03T17:35:19.497

**作为 2015 年 12 月的更新（新 Azure 门户）显然 FTP 用户名和密码不是由您的发布设置或我能找到的任何其他内容设置的。**

首先设置 FTP 凭据的步骤是转到新门户上的 Web 应用程序。单击“刀片”顶部的设置图标。那里有 25-30 个不同的设置链接。我们想要的是在 Publishing 和 Deployment Credentials 下。

我以为我已经用我的发布配置文件设置了这些，但这些都不起作用。您现在应该有机会为 FTP 和 git 输入所需的用户名和密码。

现在转到诊断刀片（它就在发布部分的正上方），您可以复制 ftp url。我刚刚复制了第一个（ftp 不是 ftps），转到 FileZilla 并使用了 ftp url、我的新用户名和密码以及端口 21，我能够按预期看到所有日志文件。

这不会以我能看到的任何方式弄乱或影响您的发布凭据。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-06-27T17:17:26.677

在新的 Azure 门户网站上，有一个新的[站点扩展](http://azure.microsoft.com/blog/2014/06/20/azure-web-sites-extensions/)概念，您可以在其中找到一个名为**Azure 网站日志浏览器**的扩展，它可以让您非常轻松地访问您网站的日志（查看和下载它们）。

[你可以在这里](http://blog.amitapple.com/post/2014/06/azure-website-logging/)阅读更多关于它的信息。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-04-03T08:19:42.037

只是为了澄清这个过程，对我来说是：

1.  正确设置APP服务器（部署->部署凭据...设置用户名和密码
2.  在 Monitoring -> Diagnostic Logs 中读取正确的用户名...有一个带有 SERVERNAME\USERNAME 的标签（这整个是用户名！）
3.  使用 WinSCP 进行 SFTP 连接并正确配置。然后我就可以连接了。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-01T13:10:25.933

我有同样的问题，但你的形象帮助解决了我的问题。我没有使用 [站点名] [用户名]（我说的是站点名，但也许我应该称之为主机名/域）

我不知道这是否会对您有所帮助，您可能已经尝试过，但我使用的用户名是我的 Windows Live ID。（我没有*使用*美元$ign）

哦，还有一件事，我不知道这是否重要，就访问存储日志的 ftp 站点而言，但请确保您已在网站 | 下启用它们。[选择您的网站] | 配置 - 然后向下滚动到诊断并单击要打开的日志的“打开”。

我添加了最后一部分，因为我不知道您的 ftp.[sitename].azurewebsites.windows.net/LogFiles/ 目录是否已创建，并且因为这是我登录后在 (/LogFiles) 下车的地方，如果它不存在，您可能无法登录..只是事后考虑。

祝你好运！约翰

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-09-09T13:18:15.573

确保为应用程序设置部署凭据。这是 FTP 所需要的。（示例用户名：MyFtpUserName）

然后，当浏览到提供的 ftp 链接时，请记住使用域限定用户 ID。（示例限定用户名：MyWebSiteName\MyFtpUserName）

# asp.net-mvc - 你如何命名你的服务层？

> ID：11112278
> 
> 赞同：0
> 
> 时间：2012-06-20T03:03:32.710
> 
> 标签：asp.net-mvc, repository-pattern, service-layer

因此，对于我的存储库层的命名空间，这很容易。我做这样的事情：

这些接口位于 Models.Repositories 中。所以也许我会有 Models.Repositories.IUserRepository 什么的。

然后我根据实现的功能来划分命名空间。所以实现可能如下所示：

Models.Repositories.MySql.UserRepository

你会如何对服务层做一些类似的逻辑？现在我只是在“服务”命名空间中拥有我的接口和实现，它看起来有点......愚蠢。比如，我会在哪里放置一些替代实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:48:45.703

这真的取决于你，但我喜欢根据名字来组织。首先在接口上，我将有一个文件夹/命名空间接口，因此它们都易于查看/查找/等。

在服务层 - 与您执行此操作的方式完全相同。

```
YourCompany.Project.Services.SomeAlternateImplementation 
```

您也可以选择调用与服务合同相关的接口。

```
YourCompany.Project.Services.Contracts 
```

# php - PHP Regex 向前看向后看 - 两者一定不匹配？

> ID：11112279
> 
> 赞同：1
> 
> 时间：2012-06-20T03:03:47.730
> 
> 标签：php, regex

我目前正在寻找一种在某些地方从字符串中删除句号的方法。

我希望它只有在不满足两个条件的情况下才会删除句号；

   句号前没有数字。

**和**

   句号后没有数字。

我目前有这个正则表达式

```
'#(?<!\d)\.(?!\d)#' 
```

但这不会删除字符串中的句号，例如

```
'hello.1', '1.hello' 
```

我猜想因为在句号之前或之后有一个数字，所以匹配失败并且无法识别。

我怎样才能做到这一点，以便必须满足向前看和向后看才能进行匹配并正确删除句号？

谢谢你。

**编辑**

我希望它在且仅当在**〜或〜**句号之后没有数字时才删除句号。因此，如果字符串是这样的，则只能有句号，`(a digit).(a digit)`但在任何其他情况下都会删除句号。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T03:16:39.430

你可以这样做：

```
'#((?<!\d)\.|\.(?!\d))#' 
```

如果它之前或之后是非数字，它将删除点。

# android - Android Java，非常简单的代码。但哪里出了问题？

> ID：11112284
> 
> 赞同：0
> 
> 时间：2012-06-20T03:04:52.303
> 
> 标签：android, for-loop

我使用网络服务来获取价值，长话短说。我可以从 webservices 获取值，在这种情况下，strVersion 的值为 1（for 循环仅返回 1 条记录，因为只有 1 条记录）。

现在问题来了，结果总是返回“Wrong：1”而不是“OK：1”，有人请告诉我为什么？该字段在 MYSQL 中的数据类型是 Varchar。

```
 AndroidHttpTransport aht = new AndroidHttpTransport(URL);
    aht.call(SOAP_ACTION, soapEnvelope);
    SoapObject resultString = (SoapObject) soapEnvelope.getResponse();

    final String[] strVersion = new String[resultString.getPropertyCount()];

    for(int i =0; i<resultString.getPropertyCount(); i++)
    {
        SoapObject array = (SoapObject) resultString .getProperty(i);
        strVersion[i] = array.getProperty(0).toString();                    
        if(strVersion[i] == "1")
        {
        Toast.makeText(getApplicationContext(), "OK: " + strVersion[i], Toast.LENGTH_SHORT).show();
        }
        else
        {
             Toast.makeText(getApplicationContext(), "Wrong: " + strVersion[i], Toast.LENGTH_SHORT).show();
        }
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:06:33.147

使用进行`String`比较。`equals()`

改变这个：

```
if(strVersion[i] == "1") 
```

到

```
if(strVersion[i].equals("1")) 
```

阅读[此](https://stackoverflow.com/questions/767372/java-string-equals-versus)内容以获取更多信息。

`==`比较引用，而不是值。在您的情况下，您要检查值相等，而不是引用相等。

# haskell - 警告：在 FFI 声明中使用了新类型“CInt”，

> ID：11112287
> 
> 赞同：4
> 
> 时间：2012-06-20T03:05:09.247
> 
> 标签：haskell, ffi

使用 ghc 7.4.2 构建 gtk2hs-buildtools 时，我收到以下警告：

```
c2hs/toplevel/C2HSConfig.hs:110:1:
    Warning: newtype `CInt' is used in an FFI declaration,
             but its constructor is not in scope.
             This will become an error in GHC 7.6.1.
    When checking declaration:
      foreign import ccall safe "static bitfield_direction" bitfield_direction
        :: CInt 
```

即使我有 FFI 调用，我也会收到类似的警告`import Foreign.C.Types(CInt)`。

摆脱此警告的正确方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T03:11:10.897

```
import Foreign.C.Types(CInt(..)) 
```

获取构造函数。

# ios - 当我尝试添加配置文件时，iOS Provisioning Portal 出现错误

> ID：11112292
> 
> 赞同：7
> 
> 时间：2012-06-20T03:05:57.623
> 
> 标签：ios, xcode, provisioning, ios-provisioning

我无法弄清楚是什么导致了供应门户中的这种一般错误。没有给出任何解释，我一无所知。有任何想法吗？谢谢你的帮助。

![配置门户错误](../Images/07db7a134f49448462fc2d06afcf984e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:56:06.160

（与此相同）[在 iOS 配置门户上创建 AdHoc 配置文件时出错](https://stackoverflow.com/questions/11112051/error-creating-adhoc-profile-on-ios-provisioning-portal/)

这个问题也和上面一样，我也是在路上问这个的，我想大家都有问题

上面的链接还有一个链接指向人们正在谈论它的开发论坛。我没有把链接放在这里来感谢发布它的原始人。

# windows - Windows Server 2012 RC PowerShell 错误：使用“0”参数调用“SetInfo”的异常：“指定的网络

> ID：11112293
> 
> 赞同：0
> 
> 时间：2012-06-20T03:05:59.933
> 
> 标签：windows, powershell

我正在尝试运行以下 PowerShell 脚本来创建本地用户。这适用于 Windows Server 2008 R2，但我在 Windows Server 2012 RC 上收到以下错误。关于如何在 Windows Server 2012 RC 中进行这项工作的任何想法？

```
$ComputerName = 'localhost' 
$computer = [ADSI]"WinNT://$ComputerName" 
$user = $computer.Create("User","Test") 
$user.setpassword("P2ssw0rd") 
$user.put("fullname","Test User") 
$user.SetInfo() 
$User.UserFlags[0] = $User.UserFlags[0] -bor 0x10000  #ADS_UF_DONT_EXPIRE_PASSWD flag is 0x10000 
$User.SetInfo() 
```

错误消息：使用“0”参数调用“SetInfo”异常：“指定的网络密码不正确。

我还在 Technet 上找到了遇到同样问题的人。那里没有答案。 [http://social.technet.microsoft.com/Forums/en/ITCG/thread/16b0f6cc-1c85-4a6f-ba4f-1515f2991bec](http://social.technet.microsoft.com/Forums/en/ITCG/thread/16b0f6cc-1c85-4a6f-ba4f-1515f2991bec)

谢谢，迈克

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-26T20:08:10.807

感谢 Technet 论坛上的某个人，答案是不要使用 localhost 作为计算机名。这是更新的代码。

```
$ComputerName = $env:ComputerName 
$computer = [ADSI]"WinNT://$ComputerName" 
```

希望它可以帮助别人。

谢谢，迈克

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-10T21:38:56.550

这更像是对迈克的回答的补充，我只是还没有代表发表评论。我只是想补充一点，如果您像我一样尝试使用 [ADSI]"LDAP://servername 而不是 [ADSI]"LDAP://127.0.0.1 它仍然会引发相同的错误。使用了您当前*不在*的 DC 的名称，这样就成功了。以防万一有人像我一样捷径迈克的回答，直接指定主机名，得到错误，并驳回这个解决方案。

# c - 使用格式字符串扫描输入时出现分段错误

> ID：11112298
> 
> 赞同：1
> 
> 时间：2012-06-20T03:06:50.493
> 
> 标签：c, segmentation-fault, scanf

考虑代码及其结果：

```
while ((row = mysql_fetch_row (table_info)) != NULL)
{
    answer='\0';
    printf ( "%s: ", row[0] );
    scanf ( "%c", &answer );
    getchar();
    if ( answer == 'y')
    {
        printf ( "*****\n" );
        table_name[index] = malloc ( strlen(row[0]) + 1 );
        printf ( "*****\n" );
        memcpy ( &table_name[index], &row[0], strlen(row[0]) + 1 );
    }
    printf ( "finally inserted: %s \n", table_name[index]);
} 
```

执行结果：

```
1_time_access: y
*****
*****
finally inserted: 1_time_access 
2_time_access: y
*****
*****
finally inserted: 2_time_access 
39_time_access: y
*****
*****
finally inserted: 39_time_access 
```

结果解释：`row[0]`有值`1_time_access`, `2_time_access`, `39_time_access`. 现在考虑一种更好的方法，即使用格式字符串来转义`\n`. 我运行以下代码，但它给出了分离错误，我不明白为什么。代码：

```
while ((row = mysql_fetch_row (table_info)) != NULL)
{
    answer='\0';
    printf ( "%s: ", row[0] );
    scanf ( "%[^\n]%*c", &answer );
    if ( answer == 'y')
    {
        printf ( "*****\n" );
        fflush(stdout);
        table_name[index] = malloc ( strlen(row[0]) + 1 );
        printf ( "*****\n" );
        fflush(stdout);
        memcpy ( &table_name[index], &row[0], strlen(row[0]) + 1 );
    }
    printf ( "finally inserted: %s \n", table_name[index]);
    fflush(stdout);
} 
```

结果：

```
1_time_access: y
*****
./set-env.sh: line 17: 15263 Segmentation fault      (core dumped) ./exec dataset_one 
```

（不用担心`set-env.sh`，这是运行程序的脚本。）

我不明白为什么会这样。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:10:58.267

```
if ( answer == 'y')
{
    printf ( "*****\n" );
    fflush(stdout);
    table_name[index] = malloc ( strlen(row[0]) + 1 );
    printf ( "*****\n" );
    fflush(stdout);
    memcpy ( &table_name[index], &row[0], strlen(row[0]) + 1 );
}

                                    /*     BAD      */
printf ( "finally inserted: %s \n", table_name[index]); 
```

你只分配`table_name[index]`if `answer == 'y'`，但你把它发送给`printf`不管。我假设这是发生段错误的行。

调试器是你的朋友。它将向您显示变量的状态。

# nhibernate - Nhibernate 多对多与额外的列，

> ID：11112299
> 
> 赞同：1
> 
> 时间：2012-06-20T03:07:13.840
> 
> 标签：nhibernate, many-to-many

我对 NHibernate 有点陌生。我希望使用 C# 使用 asp.net 实现一个 Web 应用程序。

我有以下数据库模式：

[**数据库模式**](http://dl.dropbox.com/u/33698629/db-mapping.JPG "数据库模式")

这是我的 NHibernate 映射文件。我不确定我的映射是否正确。如果我做错了，请纠正我。

```
<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <class name="TelDir.Core.Domain.Status, TelDir.Core" table="tblStatus" lazy="false">
    <id name="ID" column="StatusID" unsaved-value="0">
      <generator class="identity" />
    </id>

    <property name="StatusCode" column="StatusCode" />
    <property name="StatusName" column="StatusName" />

    <!--
    <set name="WorkOrderStatus" table="tblWorkOrderStatus" inverse="true">
      <key column="StatusID" />
      <one-to-many class="TelDir.Core.Domain.WorkOrderStatus, TelDir.Core" />
    </set>
    -->
  </class>

</hibernate-mapping>

<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <class name="TelDir.Core.Domain.WorkOrder, TelDir.Core" table="tblWorkOrder" lazy="false">
    <id name="ID" column="WOID" unsaved-value="0">
      <generator class="identity" />
    </id>
    <property name="WorkOrderRef" column="WORef" />
    <property name="WorkOrderDesc" column="WODesc" />

    <set name="WorkOrderStatus" table="tblWorkOrderStatus" inverse="true">
      <key column="WOID" />
      <one-to-many class="TelDir.Core.Domain.WorkOrderStatus, TelDir.Core" />
    </set>

  </class>
</hibernate-mapping>

<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <class name="TelDir.Core.Domain.WorkOrderStatus, TelDir.Core" table="tblWorkOrderStatus" lazy="false">
    <composite-id>
      <key-many-to-one name="WorkOrder" column="WOID"/>
      <key-many-to-one name="Status" column="StatusID"/>
    </composite-id>
    <property name="LastModifyDateTime" column="LastModifiedOn"  type="Timestamp" />
    <property name="CreatedBy" column="CreatedBy" />
  </class>
</hibernate-mapping> 
```

**我的 POCO 课程如下所示**

```
public class Status : DomainObject<Int16>
    {
        private string _statuscode = "";
        private string _statusname = "";
        //private ISet<WorkOrderStatus> _workorder_status = new HashedSet<WorkOrderStatus>()  ;

        public Status() { }

        public Status(string statusCode, string statusName) {
            this._statuscode = statusCode;
            this._statusname = statusName; 
        }

        public string StatusCode        {
            get { return _statuscode ; }
            set { _statuscode  = value; }
        }

        public string StatusName
        {
            get { return _statusname; }
            set { _statusname = value; }
        }

        /*
        public ISet<WorkOrderStatus> WorkOrderStatus
        {
            get { return (_workorder_status); }
            protected set { _workorder_status = value; }
        }
        */
    }

  public class WorkOrder : DomainObject<long>
    {
        private string _workorder_ref = "";
        private string _workorder_desc = "";
        private ISet<WorkOrderStatus> _workorder_status = new HashedSet<WorkOrderStatus>();

        public WorkOrder() { }

        public WorkOrder(string wref, string wdecs) {
            this._workorder_ref = wref;
            this._workorder_desc = wdecs;
        }

        public string WorkOrderRef   {
            get { return _workorder_ref ; }
            set { _workorder_ref = value; }
        }

        public string WorkOrderDesc
        {
            get { return _workorder_desc; }
            set { _workorder_desc = value; }
        }

        public ISet<WorkOrderStatus> WorkOrderStatus
        {
            get { return (_workorder_status); }
            protected set { _workorder_status = value; }
        }

        public void AddStatus(Status st, DateTime dt)
        {
                WorkOrderStatus obj = new WorkOrderStatus();
                obj.WorkOrder = this;
                obj.Status = st;
                obj.LastModifyDateTime = dt;
                _workorder_status.Add(obj);
        }
    }

    public class WorkOrderStatus 
    {
        private DateTime _lastmodifydt;
        private WorkOrder _workorder;
        private Status _status;
        private int _createdby;

        public WorkOrderStatus() { 
        }

        public DateTime LastModifyDateTime{ 
            get { return _lastmodifydt; }
            set { _lastmodifydt = value; }
        }

        public WorkOrder WorkOrder
        {
            get { return _workorder; }
            set { _workorder = value; }
        }
        public Status  Status
        {
            get { return _status; }
            set { _status = value; }
        }

        public int CreatedBy {
            get { return _createdby; }
            set { _createdby = value; }
        }

        public override bool Equals(object other)
        {

            //if (this == other) return true;

            //WorkOrderStatus obj = other as WorkOrderStatus;
            //if (obj == null) return false; // null or not a cat

            //if (_lastmodifydt != obj._lastmodifydt ) return false;            

            //return true;

            if (other == null)
                return false;
            WorkOrderStatus t = other as WorkOrderStatus;
            if (t == null)
                return false;
            if (WorkOrder  == t.WorkOrder  && Status  == t.Status && _lastmodifydt == t.LastModifyDateTime )
                return true;
            return false;  
        }

        public override int GetHashCode()
        {

            unchecked
            {
                int result;
                result = _lastmodifydt.GetHashCode();
                result = 29 * result + WorkOrder.GetHashCode() + Status.GetHashCode();
                return result;
            }

            //return (WorkOrder.ID + "|" + Status.ID + "|" + Status.StatusName).GetHashCode();  
        }

    } 
```

我希望我的数据出现在这样的表中：

[tblWorkOrderStatus]

```
 StatusID           WOID              LastModifiedOn              CreatedBy
 --------------------------------------------------------------------------
 2                  1                 06/20/2012 09:45:40.209         1 
```

[tblWorkOrder]

```
 WOID               WORef             WODesc
 -------------------------------------------
   1                001               Test-001 
```

[tbl状态]

```
 StatusID           StatusCode        StatusName
 -----------------------------------------------
   1                'X001'            OPEN
   2                'X002'            CLOSE 
```

我应该怎么做才能将记录添加到 [tblWorkOrderStatus]？

我已经编写了如下测试代码，但我发现关联表[tblWorkOrderStatus]中没有添加记录，我不知道为什么它没有添加。

```
 WorkOrder Wo = new WorkOrder('001', 'Test-001');
           daoFactory.GetWorkOrderDao().Save(Wo);

           Status St = daoFactory.GetStatusDao().GetById(1, false);

                //// Secode Methode
                WorkOrderStatus _objWS = new WorkOrderStatus();
                _objWS.WorkOrder      = Wo;
                _objWS.Status     = St;
                _objWS.LastModifyDateTime = DateTime.Now;
                _objWS.CreatedBy = 1; //suppose 1 is current login UserID 

                Wo.WorkOrderStatus.Add(_objWS);

          daoFactory.GetWorkOrderDao().Save(Wo); 
```

我可能在 POCO、NHibernate 映射文件或其他地方遗漏了一些东西。你能指导我找到正确的解决方案吗？

此致，

这是我的堆栈跟踪：

```
"   at System.ThrowHelper.ThrowKeyNotFoundException()\r\n   
at System.Collections.Generic.Dictionary`2.get_Item(TKey key)\r\n   
at NHibernate.Engine.StatefulPersistenceContext.RemoveEntity(EntityKey key)\r\n   
at NHibernate.Action.EntityDeleteAction.Execute()\r\n   
at NHibernate.Engine.ActionQueue.Execute(IExecutable executable)\r\n   
at NHibernate.Engine.ActionQueue.ExecuteActions(IList list)\r\n   
at NHibernate.Engine.ActionQueue.ExecuteActions()\r\n   
at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)\r\n   
at NHibernate.Event.Default.DefaultFlushEventListener.OnFlush(FlushEvent event)\r\n   
at NHibernate.Impl.SessionImpl.Flush()\r\n   
at NHibernate.Transaction.AdoTransaction.Commit()\r\n   
at TelDir.Data.NHibernateSessionManager.CommitTransaction() 
in E:\\OLD PC\\D\\WORKS\\PROJECT\\TelDIR\\Data\\NHibernateSessionManager.cs:line 120\r\n   
at TelDir.Web.NHibernateSessionModule.CommitAndCloseSession(Object sender, EventArgs e) 
in e:\\OLD PC\\D\\WORKS\\PROJECT\\TelDIR\\Web\\App_Code\\NHibernateSessionModule.cs:line 38\r\n   
at System.Web.HttpApplication.SyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()\r\n   
at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:10:50.293

主要问题是 没有级联`WorkOrder.WorkOrderStatus`，因此 NHibernate 将不知道保存时保存它在该集合中找到的更改。

我改变`WorkOrder.hbm.xml`了，`set`看起来像这样：

```
<set name="WorkOrderStatus" table="tblWorkOrderStatus" inverse="true"  cascade="all-delete-orphan">
  <key column="StatusID" />
  <one-to-many class="TelDir.Core.Domain.WorkOrderStatus, TelDir.Core" />
</set> 
```

然后这个测试通过了：

```
 // Arrange
    var workorder = new WorkOrder("001", "Test-001");
    var status = new Status("1", "Status-1");

    workorder.AddStatus(status, DateTime.Now);

    WorkOrderStatus expected;

    // Act
    using (ISession session = _factory.OpenSession())
    using (ITransaction tx = session.BeginTransaction())
    {
        session.Save(status);
        session.SaveOrUpdate(workorder);

        tx.Commit();
    }

    using (ISession session = _factory.OpenSession())
    using (ITransaction tx = session.BeginTransaction())
    {
        expected = session.Query<WorkOrderStatus>()
            .Fetch(s => s.Status)
            .Fetch(s => s.WorkOrder)
            .FirstOrDefault();
    }

    // Assert
    expected.Should().NotBeNull();
    expected.Status.Should().Be(status);
    expected.WorkOrder.Should().Be(workorder); 
```

# 移除

取消注释 上的`ISet<WorkOrderStatus> WorkOrderStatus`属性`Status`。此外，`<set name="WorkOrderStatus" ...`在 Status.hbm.xml 中取消注释，并`cascade="all-delete-orphan"`像在`WorkOrder`.

添加到工作订单：

```
public void RemoveStatus(WorkOrderStatus item)
{
    if (!WorkOrderStatus.Contains(item)) return;

    item.Status.WorkOrderStatus.Remove(item);
    WorkOrderStatus.Remove(item);
} 
```

现在，这个测试应该通过了：

```
 // Arrange
    var workorder = new WorkOrder("001", "Test-001");
    var status = new Status("1", "Status-1");

    workorder.AddStatus(status, DateTime.Now);

    WorkOrderStatus expected;

    // Act
    using (ISession session = _factory.OpenSession())
    using (ITransaction tx = session.BeginTransaction())
    {
        session.Save(status);
        session.SaveOrUpdate(workorder);

        tx.Commit();
    }

    using (ISession session = _factory.OpenSession())
    using (ITransaction tx = session.BeginTransaction())
    {
        expected = session.Query<WorkOrderStatus>()
            .Fetch(s => s.Status)
            .Fetch(s => s.WorkOrder)
            .FirstOrDefault();

        expected.WorkOrder.RemoveStatus(expected);

        tx.Commit();
    }

    using (ISession session = _factory.OpenSession())
    using (ITransaction tx = session.BeginTransaction())
    {
        expected = session.Query<WorkOrderStatus>()
            .Fetch(s => s.Status)
            .Fetch(s => s.WorkOrder)
            .FirstOrDefault();
    }

    // Assert
    expected.Should().BeNull(); 
```

# html - 不透明 div 内嵌套元素的不透明性

> ID：11112303
> 
> 赞同：0
> 
> 时间：2012-06-20T03:07:55.690
> 
> 标签：html, css

我有一个不透明的 div.opaque 包含另一个 div.inner。由于内部 div 包含在不透明 div 中，因此它也变得不透明。如何覆盖内部 div 的不透明性。

我试过：http: [//jsfiddle.net/wfWbX/7/](http://jsfiddle.net/wfWbX/7/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:09:56.330

不幸的是，你不能。一种解决方法是将内部`div`置于与 opaque 相同的级别`div`：

[http://jsfiddle.net/wfWbX/10/](http://jsfiddle.net/wfWbX/10/)

# binding - 为 Selenium 2 / WebDriver 编写新语言绑定的文档

> ID：11112308
> 
> 赞同：0
> 
> 时间：2012-06-20T03:08:39.133
> 
> 标签：binding, selenium

我发现 Selenium 网站有点难以导航。有人可以向我指出可以帮助我为 Selenium 编写语言绑定的文档吗？我希望不必直接移植其他语言的绑定，因为我想更好地理解 Selenium 并使用我当前的语言范例。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T12:49:08.543

真的没有任何这样的文档。你最好加入 Freenode 上的#selenium IRC 频道，开发人员在那里闲逛并提出问题。

# javascript - JS/jQuery - 尝试使用 mouseenter() mouseleave() 实现打开和关闭显示 div，以免重复动画

> ID：11112309
> 
> 赞同：0
> 
> 时间：2012-06-20T03:08:49.463
> 
> 标签：javascript, jquery, jquery-animate, mouseenter, mouseleave

所以这是我的代码：

```
 var timeouts = {};
    $('#nav ul > li').mouseenter(function() {
        clearTimeout(timeouts['menu']);
        $(this).find('div.dropdown').stop(true).slideDown(200);
    });
    $('#nav ul > li').mouseleave(function() {
        timeouts['menu'] = setTimeout(function() {
            $(this).find('div.dropdown').stop(true).slideUp(200);
        }, 1000)
    }); 
```

这似乎不起作用。任何想法？还有其他方法可以实现我的目标吗？现在，当我将鼠标悬停在上面时，代码可以工作，但是当我的鼠标离开时，div 不会向上滑动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:16:40.253

在您的匿名函数内部，`this`可能未定义为 HTML 元素。

放入`this`适当的范围：

```
var timeouts = {'menu': false};

$('#nav ul > li').hover(function() {
    if (timeouts['menu'] !== false) {
      clearTimeout(timeouts['menu']);
    }

    $(this).find('div.dropdown').stop(true).slideDown(200);
}, function() {
    var $this = $(this);

    timeouts['menu'] = setTimeout(function() {
        $this.find('div.dropdown').stop(true).slideUp(200);
    }, 1000)
}); 
```

此外，如果您在没有先定义的情况下尝试调用，您可能会收到错误消息`timeouts['menu']`。我将它设置为默认值，然后在使用它之前检查它是否存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:25:42.243

你可以试试[hoverIntent](http://cherne.net/brian/resources/jquery.hoverIntent.html)插件或者看看这里的一些解决方案：[jQuery if mouse is over for 2 sec。开始动画或根本不动画](https://stackoverflow.com/questions/7869019/jquery-if-mouse-is-over-for-2-sec-begin-animation-or-dont-animate-at-all)

# ios - wait_fences：拍照时收不到回复：10004003

> ID：11112312
> 
> 赞同：0
> 
> 时间：2012-06-20T03:09:15.703
> 
> 标签：ios, uiimage

我正在开发一个可以拍照并将其保存到设备的应用程序。单击“保存”时，它似乎花费了太长时间，并在日志中抛出此消息：

```
wait_fences: failed to receive reply: 10004003 
```

这是保存拍摄的图片时调用的方法：

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {

    [picker dismissModalViewControllerAnimated:YES];

    AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

    UIImage *image = [info objectForKey:UIImagePickerControllerOriginalImage];

    int img_count = [[appDelegate retrieveFromUserDefaults:@"image_saved"] intValue];
    img_count = img_count + 1;

    NSString *imageName = [[NSString alloc] initWithFormat:@"dmg_image_%@_%d", [appDelegate retrieveFromUserDefaults:@"current_job_id"], img_count];

    [appDelegate saveImage:image withName:imageName];
    [appDelegate saveToUserDefaults:imageName key:@"inspection_image"];

    [damageImage setImage:image];
    [damageDesc becomeFirstResponder];
} 
```

我确定我遗漏了一些简单的东西，而且我认为抛出此消息的任何原因都是它运行缓慢的原因。

我读过其他人有这个问题，但他们正在使用警报呼叫，而不是拍照返回。在调用 didFinishPicking 时我是否应该稍微延迟一下？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:34:31.853

问题可能是您在主线程上运行此方法。该`wait_fences`函数是一个iOS图形库的内部函数，它与动画有关——当你保存图像时，你会阻塞主线程和UI，同时将大量数据写入文件。将保存功能移动到另一个线程（考虑使用`NSThread`），您的用户界面应该再次响应。

# mysql - 从现有表创建多对多关系

> ID：11112314
> 
> 赞同：1
> 
> 时间：2012-06-20T03:09:24.300
> 
> 标签：mysql, sql

我有一个句子表和一个单词表。我正在尝试创建一个中间表，以便我可以快速查找哪些句子包含一个单词。

```
Table A (sentences)
id INT PRIMARY KEY
sentence VARCHAR

Table B (words)
id INT PRIMARY KEY
word VARCHAR

Table C (relationship table)
id INT PRIMARY KEY
sentence_id INT
word_id INT 
```

我可以用 SQL *填充表 C 吗？*

该查询将遍历 B(words) 中的单词，并且对于每个单词，通过在表 C 中输入条目来记录 A(Sentences) 中的哪些句子。

非常感谢，您是 SQL 高手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:34:14.113

我将从：

```
insert into table C (sentence_id, word_id)
values (
select A.sentence_id, B.word_id from table B, table A
where locate(word, sentence) > 0
order by word, sentence ) 
```

# c# - 如何在骨架视图C#上添加彩色图像流

> ID：11112316
> 
> 赞同：0
> 
> 时间：2012-06-20T03:09:52.843
> 
> 标签：c#, kinect

我正在研究在 kinect 工具包示例中找到的骨架基础示例 WPF 应用程序 C#，骨架现在出现在主 window.xaml 的图像上，但图像的其余部分是黑色的，所以只有绿色的骨架，我想要在表单上查看骨架和 RGB 图像流，其中出现站在 kinect 前面的人的图像并且骨架绘制在同一图像上，那么我该怎么做呢？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T13:16:49.847

看看[这个教程](http://channel9.msdn.com/coding4fun/kinect/Getting-started-with-Kinect-development-quickly-with-the-Kinect-for-Windows-Quickstart-Series)。这家伙很好地解释了如何开始为 Kinect 开发

# linux - 链接器找不到符号，但已读取库且存在符号

> ID：11112318
> 
> 赞同：7
> 
> 时间：2012-06-20T03:10:07.510
> 
> 标签：linux, g++, ld, shared-objects

我一直在尝试编译我的项目，但我遇到了`undefined reference`错误。例如。：

```
installertest.cpp:(.text+0x9d1): undefined reference to `XmlRpcValue::makeArray()'
...
installertest.cpp:(.text+0xede): undefined reference to `dbcancel'
installertest.cpp:(.text+0xefd): undefined reference to `dbfcmd'
installertest.cpp:(.text+0xf0f): undefined reference to `dbsqlexec'
installertest.cpp:(.text+0xf2d): undefined reference to `SHA1_Init'
... 
```

我的命令行是：

```
g++ -o installertest \
    -lsybdb \
    -lxmlrpc \
    -lxmlrpc_cpp \
    -lxmlrpc_xmlparse \
    -lxmlrpc_xmltok \
    -lxmlrpc_util \
    -lxmlrpc++ \
    -lxmlrpc_server_cgi \
    -lssl \
    -std=c++0x \
    ContractData.o installertest.o 
```

`objdump -T`显示符号在 .so 文件中。例如。：

```
libsybdb.so:
...
0000000000011c30 g    DF .text  0000000000000083  Base        dbcancel
...

/usr/lib/libxmlrpc_cpp.so:
...
0000000000002e78 g    DF .text  0000000000000092  Base        _ZN11XmlRpcValue9makeArrayEv
... 
```

`strace`显示链接器正在打开和读取库文件：

```
...
[pid  5019] stat("/usr/lib/gcc/x86_64-linux-gnu/4.6/../../../x86_64-linux-gnu/libsybdb.so", {st_mode=S_IFREG|0644, st_size=421608, ...}) = 0
[pid  5019] open("/usr/lib/gcc/x86_64-linux-gnu/4.6/../../../x86_64-linux-gnu/libsybdb.so", O_RDONLY) = 7
[pid  5019] fcntl(7, F_GETFD)           = 0
[pid  5019] fcntl(7, F_SETFD, FD_CLOEXEC) = 0
[pid  5019] fstat(7, {st_mode=S_IFREG|0644, st_size=421608, ...}) = 0
[pid  5019] mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b16c200c000
[pid  5019] lseek(7, 0, SEEK_SET)       = 0
[pid  5019] read(7, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P\237\0\0\0\0\0\0"..., 4096) = 4096
...
[pid  5019] stat("/usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libxmlrpc.so", {st_mode=S_IFREG|0644, st_size=80936, ...}) = 0
[pid  5019] open("/usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libxmlrpc.so", O_RDONLY) = 8
[pid  5019] fcntl(8, F_GETFD)           = 0
[pid  5019] fcntl(8, F_SETFD, FD_CLOEXEC) = 0
[pid  5019] fstat(8, {st_mode=S_IFREG|0644, st_size=80936, ...}) = 0
[pid  5019] mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b16c200d000
[pid  5019] lseek(8, 0, SEEK_SET)       = 0
[pid  5019] read(8, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\300?\0\0\0\0\0\0"..., 4096) = 4096
... 
```

涉及的所有文件都针对 x86-64，C 库的标头是`extern "C"`. 我已经尝试了我能想到的一切，但仍然无法链接。

我什至尝试删除所有 C++11 代码并在没有命令行开关的情况下进行编译，但仍然没有。

如果有帮助，我的系统是使用**g++ (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3的****Ubuntu Precise (12.04) 64 位**。所有包都是从包管理器安装的，并且安装了开发包。

 ****编辑（2017-05-30）**：*标记为[https://stackoverflow.com/questions/45135/why-does-the-order-in-which-libraries-are-linked-sometimes-cause-errors-in的副本-gcc](https://stackoverflow.com/questions/45135/why-does-the-order-in-which-libraries-are-linked-sometimes-cause-errors-in-gcc_)*
其他问题询问为什么参数的顺序很重要。当提出问题时，不知道参数顺序是一个问题。
此外，上一个问题不包含任何有用的扩展，而这个问题显示了手头的问题。
上一个问题可能被视为对此问题答案的有益扩展，但不是重复。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-20T03:24:16.747

您必须将库的链接器标志**放在**目标文件之后。所以，而不是

```
g++ -o installertest \
-lsybdb \
-lxmlrpc \
-lxmlrpc_cpp \
-lxmlrpc_xmlparse \
-lxmlrpc_xmltok \
-lxmlrpc_util \
-lxmlrpc++ \
-lxmlrpc_server_cgi \
-lssl \
-std=c++0x \
ContractData.o installertest.o 
```

利用

```
g++ -o installertest \
ContractData.o installertest.o \
-lsybdb \
-lxmlrpc \
-lxmlrpc_cpp \
-lxmlrpc_xmlparse \
-lxmlrpc_xmltok \
-lxmlrpc_util \
-lxmlrpc++ \
-lxmlrpc_server_cgi \
-lssl \
-std=c++0x 
```**

# javascript - 如何将画布保存为png图像？

> ID：11112321
> 
> 赞同：91
> 
> 时间：2012-06-20T03:10:55.130
> 
> 标签：javascript, html, canvas, png, save-image

我有一个带有绘图的画布元素，我想创建一个按钮，单击该按钮时，它将图像保存为 png 文件。所以它应该打开保存，打开，关闭对话框......

我用这段代码来做

```
var canvas = document.getElementById("myCanvas");
window.open(canvas.toDataURL("image/png")); 
```

但是当我在 IE9 中测试它时，会打开一个新窗口，上面写着“无法显示网页”，它的 url 是：

```
data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmAAAABpCAYAAACd+58xAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAADRwSURBVHhe7V0HgBVF0q7ZJSlJwRxAPUFRD39RFLN34qGnnomoqIjhzBlFPROIgsoZzogR5AQEzJ4BPFAUEUwgJjgQkCQKooggaf/6el6/6ZnpSW/zUn237u5MdXX1172+z6rqaqeEG6VsJet+pDW/vkdrfx3H3yfT2tVzaP26X6hkw1q/BoeI/280/29JwznZxJPUyXtBQBAQBAQBQaBcECjefmi56BWlZYtAeqajx/WokfrJYEqOIikOFRfXoVq161PtOk2odu0t+ectqKiojnrntWhC46QhYOtXfUarl79Ivy9/ldau+h+tX/8b2SbjJ07pWFQy2Uqnp2yXSrQJAoKAICAICALJCAgBS8ao8iTi/UvpSZlBxiwqwWOKimsxCWtEdettR3XqbEfFtRonkrBYArZh3fe0+senadWyEbRm1UzasP53K45ZiFc84RKyVXkbVUYWBAQBQUAQyIqAELCsiFW2fDQpSyZk8UQMMysqKmaPWCOqt8mOVK/eTuQU1YuccCQBW7dyIq38/j5a/fN/ad3a5QGXmqsvLfGKJl0ZCFdONEOPyl5lGV8QEAQEAUGghiMgBKzqLHCeHqVOrILtduF4MpZExEqoVq167A3bmjap34J/bmoFqcj2dM3Pr9GK+b1p5bJXmXz9nEC+3FiorYF4hcmXlo+gUrk+um/+e+QoVWfxxRJBQBAQBAQBQUAQqBwE8uzCwiMiaEqOWYR5jJ2/6Hl58nYHk0Pr1v1Ov62cTytXfE5r1yyyc6RgDhjI16+L+tLqFZ9xnteGUKc0Xi876YpYkFDCfpqFEz9YGpRERhAQBAQBQaB8ERAPWPnim157JreX6/eK7eJ/Ge0RS8oPc9gT1pTqN2jFocltfdPxecBU2HHxgBTky+71CjPGCO+YyU4j0TU9ZcGf0y+JSAoCgoAgIAgIAoJATUcgG2dQ0jpKZ/Xp+PlLtEcs3huGQhO/r17K3rBvuGrEUt8i5HPAkHC/Yt6lKuwYKiuRM9TtGbY0rcerTBLwC/KY1fSNJ/MTBAQBQUAQqAwExANWGaiHx0z2aJl9CknET+MRc2XsVSKKaNP6O1CDhvtwYn5dJZf3gOG0IxLuS0e+LB4vw9sVhiwmHywmF6xqLLdYIQgIAoKAICAICAJVAQHTo2XmkNtzv6K5R7RXLOwRs3MaW+47SNkG9oRxZQmun6qbImCo84VSE+5pR3/zvFZJni/7e8tTHiCeqCkAqsKKig2CgCAgCAgCgoAgUG0RCBKzMLmwkzHdL4pk4XlUAn7Uu3XrVtPqVfO4lurPSq0KQa5cdAv9snBgqM5XFPlKSsSPM8o3mcxES2hZtf0rEMMFAUFAEKiBCEgIsqotavpk/OiwZViHPQk/LgHfHo5EnbCGjVpxeYo9yNmw9oeSn2YeTatWTPNzozzX8ZOeWPJlJVRJnrOoxUtJtmLEUmqoartH7BEEBAFBQBCoJggIASu/hUqkUokC2rZkwSSCBU12wpadhNXbpAk13vwwKlJ3O/L1QmYrxPNlDxuGyVtyIn6K8KSZHwY3XsRX+W0L0VyTEPjwM6KuFxN1uiB6Vkv48MpdjxLt9ieieQvscuvWE13eh2jnQ9zv+F2aICAICAKCQGEIRH22559H5IqnDTMGeU/SgUJ7WNLjOVH9g8/Xrv2Fa4P9SM6K7y4t+WXRw76sfVc42fPV936iJ5+LKrbqTU0P3rA+0dZbEh20L9HJHYj23I2oVrHFT5U5NFnY4m6svUA0Pvo8efbvjCBqtr0nN+IVot4Dkvv1v5aoy/HJcpUpsfI3olffdknV0uWuJfv9kWjkw55VIFAfM073PE4EkqZbEBf9HMTs8C6e3KhHiPbdqzJnKWMLAoJAeSMgHrDyRrj0+rOEGvVoYY9Y0inIeE+YqQ+cqGGj3dgDtvJjC/mKm7BHmG68lGjO+0T 
```

有人知道怎么修这个东西吗？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-06-20T03:20:05.780

尝试这个：

```
var canvas = document.getElementById("alpha");
var dataURL = canvas.toDataURL("image/png");
var newTab = window.open('about:blank','image from canvas');
newTab.document.write("<img src='" + dataURL + "' alt='from canvas'/>"); 
```

这会在新页面上显示来自画布的图像，但如果您有`open popup in new tab`设置它会显示`about:blank`在地址栏中。

编辑：- 虽然`window.open("<img src='"+ canvas.toDataURL('image/png') +"'/>")`在 FF 或 Chrome 中不起作用，但以下作品虽然渲染与画布上显示的有所不同，但我认为透明度是问题所在：

```
window.open(canvas.toDataURL('image/png')); 
```

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2012-06-20T05:29:41.703

[FileSaver.js](https://github.com/eligrey/FileSaver.js)应该可以在这里为您提供帮助。

```
var canvas = document.getElementById("my-canvas");
// draw to canvas...
canvas.toBlob(function(blob) {
    saveAs(blob, "pretty image.png");
}); 
```

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2015-04-20T18:59:11.510

我使用此解决方案来设置**文件名**：

HTML：

```
<a href="#" id="downloader" onclick="download()" download="image.png">Download!</a>
<canvas id="canvas"></canvas> 
```

JavaScript：

```
function download(){
    document.getElementById("downloader").download = "image.png";
    document.getElementById("downloader").href = document.getElementById("canvas").toDataURL("image/png").replace(/^data:image\/[^;]/, 'data:application/octet-stream');
} 
```

* * *

## 回答 #4

> 赞同：24
> 
> 时间：2019-10-31T23:29:07.757

为了满足所有三点：

*   按钮
*   将图像保存为 png 文件
*   打开保存、打开、关闭对话框

文件对话框是浏览器中的设置。

对于按钮/保存部分，将以下功能从其他答案归结为您的按钮 onclick：

```
function DownloadCanvasAsImage(){
    let downloadLink = document.createElement('a');
    downloadLink.setAttribute('download', 'CanvasAsImage.png');
    let canvas = document.getElementById('myCanvas');
    let dataURL = canvas.toDataURL('image/png');
    let url = dataURL.replace(/^data:image\/png/,'data:application/octet-stream');
    downloadLink.setAttribute('href', url);
    downloadLink.click();
} 
```

[Codepen 上的示例](https://codepen.io/noontz/pen/XWWVYaw)

另一种更简洁的方法是使用[Canvas.toBlob()](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob)：

```
function DownloadCanvasAsImage(){
    let downloadLink = document.createElement('a');
    downloadLink.setAttribute('download', 'CanvasAsImage.png');
    let canvas = document.getElementById('myCanvas');
    canvas.toBlob(function(blob) {
      let url = URL.createObjectURL(blob);
      downloadLink.setAttribute('href', url);
      downloadLink.click();
    });
} 
```

[Codepen 上的示例](https://codepen.io/noontz/pen/PooOyjO)

两种解决方案都不是 100% 跨浏览器兼容，所以请检查客户端

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2017-03-24T13:27:32.333

我遇到了这个问题，这是没有任何外部或额外脚本库的最佳解决方案：在 Javascript 标记或文件中创建此函数：我们假设画布是您的画布：

```
function download(){
        var download = document.getElementById("download");
        var image = document.getElementById("canvas").toDataURL("image/png")
                    .replace("image/png", "image/octet-stream");
        download.setAttribute("href", image);

    } 
```

在 HTML 的正文部分中指定按钮：

```
<a id="download" download="image.png"><button type="button" onClick="download()">Download</button></a> 
```

这是有效的，下载链接看起来像一个按钮。在 Firefox 和 Chrome 中测试。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2013-12-17T12:13:24.350

我可能发现了一种不强迫用户右键单击并“将图像另存为”的更好方法。将画布 base64 代码实时绘制到`href`链接中并对其进行修改，以便自动开始下载。我不知道它是否与通用浏览器兼容，但[它应该适用于主要/新浏览器](https://caniuse.com/#feat=download)。

```
var canvas = document.getElementById('your-canvas');
    if (canvas.getContext) {
        var C = canvas.getContext('2d');
    }

$('#your-canvas').mousedown(function(event) {
    // feel free to choose your event ;) 

    // just for example
    // var OFFSET = $(this).offset();
    // var x = event.pageX - OFFSET.left;
    // var y = event.pageY - OFFSET.top;

    // standard data to url
    var imgdata = canvas.toDataURL('image/png');
    // modify the dataUrl so the browser starts downloading it instead of just showing it
    var newdata = imgdata.replace(/^data:image\/png/,'data:application/octet-stream');
    // give the link the values it needs
    $('a.linkwithnewattr').attr('download','your_pic_name.png').attr('href',newdata);

}); 
```

你可以`<a>`围绕任何你想要的东西。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2017-04-21T23:09:07.627

提交一个表单，其中包含一个值为 canvas toDataURL('image/png') 的输入，例如

//JAVASCRIPT

```
 var canvas = document.getElementById("canvas");
    var url = canvas.toDataUrl('image/png'); 
```

将 url 的值插入到表单元素上的隐藏输入中。

//PHP

```
 $data = $_POST['photo'];
    $data = str_replace('data:image/png;base64,', '', $data);
    $data = base64_decode($data);
    file_put_contents("i".  rand(0, 50).".png", $data); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-05-25T05:47:27.183

尝试这个：

```
jQuery('body').after('<a id="Download" target="_blank">Click Here</a>');

var canvas = document.getElementById('canvasID');
var ctx = canvas.getContext('2d');

document.getElementById('Download').addEventListener('click', function() {
    downloadCanvas(this, 'canvas', 'test.png');
}, false);

function downloadCanvas(link, canvasId, filename) {
    link.href = document.getElementById(canvasId).toDataURL();
    link.Download = filename;
} 
```

您可以将此代码放在 Firefox 或 chrom 的控制台中，然后在上面的脚本中更改您的画布标签 ID 并在控制台中运行此脚本。

执行此代码后，您将在 html 页面底部看到文本“单击此处”的链接。单击此链接并在新窗口中将画布绘图作为 PNG 图像打开并保存图像。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-05-31T08:53:31.433

`download`我真的很喜欢 Tovask 的答案，但由于函数的名称（[这个答案](https://stackoverflow.com/a/7852336/7219748)解释了原因），它不起作用。我也看不出用“data:application/...”替换“data:image/...”的意义。

以下代码已在 Chrome 和 Firefox 中测试过，并且似乎在两者中都可以正常工作。

JavaScript：

```
function prepDownload(a, canvas, name) {
    a.download = name
    a.href = canvas.toDataURL()
} 
```

HTML：

```
<a href="#" onclick="prepDownload(this, document.getElementById('canvasId'), 'imgName.png')">Download</a>
<canvas id="canvasId"></canvas> 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2022-01-21T09:34:51.343

我的解决方案通过`vue`和异步支持

```
async downloadImage () {
  const canvas = this.$refs.canvas
  const blob = await new Promise(resolve => canvas.toBlob(resolve))

  const downloadLink = document.createElement('a')
  downloadLink.href = window.URL.createObjectURL(blob)
  downloadLink.download = 'mycanvasimage.png'
  downloadLink.click()
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2017-12-27T21:38:45.807

**完整的工作 HTML 代码**。剪切+粘贴到新的 .HTML 文件中：

包含两个例子：

1.  HTML 文件中的画布。
2.  使用 Javascript 动态创建的画布。

测试于：

1.  铬合金
2.  IE浏览器
3.  *Edge（标题名称不显示）
4.  火狐
5.  歌剧

* * *

```
<!DOCTYPE HTML >
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> #SAVE_CANVAS_TEST# </title>
    <meta 
        name   ="author" 
        content="John Mark Isaac Madison"
    >
    <!-- EMAIL: J4M4I5M7 -[ＡＴ]- Hotmail.com -->
</head>
<body>

<div id="about_the_code">
    Illustrates:
    <ol>
    <li>How to save a canvas from HTML page.     </li>
    <li>How to save a dynamically created canvas.</li>
    </ol>
</div>

<canvas id="DOM_CANVAS" 
        width ="300" 
        height="300"
></canvas>

<div id="controls">
    <button type="button" style="width:300px;"
            onclick="obj.SAVE_CANVAS()">
        SAVE_CANVAS ( Dynamically Made Canvas )
    </button>

    <button type="button" style="width:300px;"
            onclick="obj.SAVE_CANVAS('DOM_CANVAS')">
        SAVE_CANVAS ( Canvas In HTML Code )
    </button>
</div>

<script>
var obj = new MyTestCodeClass();
function MyTestCodeClass(){

    //Publically exposed functions:
    this.SAVE_CANVAS = SAVE_CANVAS;

    //:Private:
    var _canvas;
    var _canvas_id = "ID_OF_DYNAMIC_CANVAS";
    var _name_hash_counter = 0;

    //:Create Canvas:
    (function _constructor(){
        var D   = document;
        var CE  = D.createElement.bind(D);
        _canvas = CE("canvas");
        _canvas.width = 300;
        _canvas.height= 300;
        _canvas.id    = _canvas_id;
    })();

    //:Before saving the canvas, fill it so
    //:we can see it. For demonstration of code.
    function _fillCanvas(input_canvas, r,g,b){
        var ctx = input_canvas.getContext("2d");
        var c   = input_canvas;

        ctx.fillStyle = "rgb("+r+","+g+","+b+")";
        ctx.fillRect(0, 0, c.width, c.height);
    }

    //:Saves canvas. If optional_id supplied,
    //:will save canvas off the DOM. If not,
    //:will save the dynamically created canvas.
    function SAVE_CANVAS(optional_id){

        var c = _getCanvas( optional_id );

        //:Debug Code: Color canvas from DOM
        //:green, internal canvas red.
        if( optional_id ){
            _fillCanvas(c,0,255,0);
        }else{
            _fillCanvas(c,255,0,0);
        }

        _saveCanvas( c );
    }

    //:If optional_id supplied, get canvas
    //:from DOM. Else, get internal dynamically
    //:created canvas.
    function _getCanvas( optional_id ){
        var c = null; //:canvas.
        if( typeof optional_id == "string"){
            var id = optional_id;
            var  d = document;
            var c  = d.getElementById( id );
        }else{
            c = _canvas; 
        }
        return c;
    }

    function _saveCanvas( canvas ){
        if(!window){ alert("[WINDOW_IS_NULL]"); }

        //:We want to give the window a unique
        //:name so that we can save multiple times
        //:without having to close previous
        //:windows.
        _name_hash_counter++              ; 
        var NHC = _name_hash_counter      ;
        var URL = 'about:blank'           ;
        var name= 'UNIQUE_WINDOW_ID' + NHC;
        var w=window.open( URL, name )    ;

        if(!w){ alert("[W_IS_NULL]");}

        //:Create the page contents,
        //:THEN set the tile. Order Matters.
        var DW = ""                        ;
        DW += "<img src='"                 ;
        DW += canvas.toDataURL("image/png");
        DW += "' alt='from canvas'/>"      ;
        w.document.write(DW)               ;
        w.document.title = "NHC"+NHC       ;

    }

}//:end class

</script>

</body>
<!-- In IE: Script cannot be outside of body.  -->
</html> 
```

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2017-09-20T02:53:02.803

```
var canvasId = chart.id + '-canvas';
var canvasDownloadId = chart.id + '-download-canvas';
var canvasHtml = Ext.String.format('<canvas id="{0}" width="{1}" height="{2}"></canvas><a id="{3}"/>',
canvasId,
chart.getWidth(),
chart.getHeight(),
canvasDownloadId);
var canvasElement = reportBuilder.add({ html: canvasHtml });

var canvas = document.getElementById(canvasId);

var canvasDownload = document.getElementById(canvasDownloadId);
canvasDownload.href = chart.getImage().data;
canvasDownload.download = 'chart';

canvasDownload.click(); 
```

# android - R 无法解析...构建 xml 代码时

> ID：11112329
> 
> 赞同：0
> 
> 时间：2012-06-20T03:12:02.997
> 
> 标签：android

我创建了一个 xml 文件presentation_main.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
    <LinearLayout 
        android:id="@+id/top"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"        
        android:orientation="horizontal"
        >

        <TextView 
            android:text="..."
            android:id="@+id/txtDate"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            />
    </LinearLayout>
    <LinearLayout 
        android:layout_below="@id/top"
        android:layout_above="@id/bottom"                       
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:layout_alignParentLeft="true"
        android:orientation="vertical"        
        >
        <ImageView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/img1"
            android:contentDescription="@string/shop"
            android:src="@drawable/ic_launcher"
            />
        <ImageView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/img2"
            android:contentDescription="@string/shop"
            android:src="@drawable/ic_launcher"
            />
        <ImageView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/img3"
            android:contentDescription="@string/shop"
            android:src="@drawable/ic_launcher"                     
            />
    </LinearLayout>

    <LinearLayout 
        android:layout_below="@id/top"
        android:layout_above="@id/bottom"
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:layout_centerHorizontal="true"
        android:orientation="vertical"        
        >
        <ImageView 
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:id="@+id/img4"
            android:contentDescription="@string/shop"
            android:src="@drawable/preloaderf1"
            />
    </LinearLayout>
    <LinearLayout 
        android:layout_below="@id/top"
        android:layout_above="@id/bottom"
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:layout_alignParentRight="true"
        android:orientation="vertical"
        >
        <ImageView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/img5"
            android:contentDescription="@string/shop"
            android:src="@drawable/ic_launcher"
            />
        <ImageView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/img6"
            android:contentDescription="@string/shop"
            android:src="@drawable/ic_launcher"
            />
        <ImageView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/img7"
            android:contentDescription="@string/shop"
            android:src="@drawable/ic_launcher"
            />
    </LinearLayout>
    <LinearLayout 
            android:id="@+id/bottom"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_marginBottom="20dp"
        >
        <TextView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/level"
            android:layout_marginLeft="15dp"
            android:layout_marginRight="10dp"
            android:textSize="25dp"
            />

        <ProgressBar
            android:id="@+id/proBar"
            style="@android:style/Widget.ProgressBar.Horizontal"
            android:layout_width="fill_parent"
            android:layout_height="30dp" 
            android:layout_marginRight="15dp"
            android:progress="50"         
            android:max="100"
            />

    </LinearLayout>
</RelativeLayout> 
```

错误是什么？我建立了 >>> R 无法解决？

版面设计如下，

![在此处输入图像描述](../Images/577dae3cf19cd2a01e9ff62e43765ff5.png)

xml 文件 id 错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:14:14.930

您是否尝试过项目-> 清洁？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:08:26.057

这可能是因为您甚至在声明之前就`@id/bottom`在其他顶级布局中引用了一个 id。`android:layout_above="@id/bottom"`不要在声明之前尝试引用 id。检查这个链接，它可以更清楚地说明这个问题：

[http://developer.android.com/guide/topics/ui/layout-objects.html#relativelayout](http://developer.android.com/guide/topics/ui/layout-objects.html#relativelayout)

`@id/bottom`在线性布局下方声明线性布局`@+id/top`，这应该可以解决您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:42:59.633

id 的第一次出现是必须有“+”的那个，无论它是小部件还是对小部件的引用。

```
<LinearLayout 
    android:layout_below="@id/top" 
    android:layout_above="@+id/bottom" 
    android:layout_width="wrap_content" 
    android:layout_height="fill_parent" 
    android:layout_alignParentLeft="true" 
    android:orientation="vertical" > 
```

以上是完全有效的。当您到达“底部”小部件时，您只需使用`@id/bottom`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-21T09:50:59.607

请检查您的可绘制文件夹中是否有大写字母或任何不正确格式的图像。它会导致 R.java 文件丢失。

如果找不到错误在哪里，只需重新启动eclipse并查看控制台。它显示错误在哪里。

# powershell - Powershell脚本将文件夹中所有文件的格式从Unicode更改为ANSI

> ID：11112331
> 
> 赞同：4
> 
> 时间：2012-06-20T03:12:28.340
> 
> 标签：powershell

有人可以给我一个 Powershell 脚本，它将文件夹中所有文件的格式从 Unicode 更改为 ANSI 吗？这是一个示例文件夹结构：

```
c:\DBObjects
  +StoredProcs
      - sp1.sql
      - sp2.sql
      - sp3.sql
  +Views
     - v1.sql
     - v2.sql
  .Functions
     - fn1.sql
     - fn2.sql 
```

我为一个文件尝试了以下脚本并且它有效。但是它将创建另一个文件：

```
Get-Content sp1.sql -encoding Unicode | Set-Content sp1_Ansi.sql -encoding ASCII 
```

谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-20T04:05:58.160

尝试

```
Set-Content sp1.sql -Encoding ASCII -Value (Get-Content sp1.sql) 
```

请注意，整个文件将被临时读入内存。如果这不可接受，您将需要使用管道方法写入新文件，然后删除旧文件，并将新文件重命名为旧文件的名称。

# php - Create a valid symlink for PHP file

> ID：11112344
> 
> 赞同：2
> 
> 时间：2012-06-20T03:14:45.400
> 
> 标签：php, symlink

I'm having trouble accessing a PHP page on my server through a symbolic link created as follows:

```
ln -s test.php clone/test.php 
```

When I try to access the page, I get a 403 error.

Also, when I have checked created symlink in FTP, it shows folder icon there. (Though this wont be so big issue anyway.)

So simply I hope I could access `clone/test.php` through web browser. Is not there any good way to do this?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:18:24.683

Tricky one. You'll need to either edit an .htaccess file similar to the following:

```
Options +FollowSymLinks +SymLinksIfOwnerMatch 
```

Or use a httpd.conf file:

```
<Directory “/”&gt;
Options -ExecCGI FollowSymLinks -Includes -IncludesNOEXEC -Indexes -MultiViews -symLinksIfOwnerMatch
AllowOverride All
</Directory> 
```

May be different depending on your configuration.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T03:19:12.143

You're probably running into the symbolic link permissions error that only happens on Unix. Make sure that the Apache user (I'm assuming this is Apache) has access to the file pointed to, *as well as every directory above it*.

You'll also need to enable `FollowSymLinks` on your directory if you haven't already, as @LukePittman points out.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-19T07:44:40.320

Finally I have figured it out. When I tried with FULL PATH for source path, it works okay.

So when to create a symlink, it seems we have to put Full Physical Path for source file to which the symlink will link.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-30T07:36:14.667

I copied what Luke Pittman had posted, and modified what Codemole stated.

1.  Create your symlink in the htdocs folder (D:\xampp\htdocs)

*mklink /J dynamic c:\somedirectory\www-dynamic*

2.  Then alter your httpd.conf to allow execute access for php pages

    Options ExecCGI FollowSymLinks Includes IncludesNOEXEC Indexes MultiViews symLinksIfOwnerMatch AllowOverride All

Luke's solution just needs to loose the dashes "-". Before that, Apache wouldn't start up. Apache: Apache/2.4.26 (Win32) OpenSSL/1.0.2l PHP/7.0.22

# java - Netbeans dist jar 文件给出 NoClassDefFoundError

> ID：11112345
> 
> 赞同：0
> 
> 时间：2012-06-20T03:14:49.547
> 
> 标签：java, executable-jar, classnotfoundexception

是的，我有一个正在 NetBeans 7.1 中处理的项目，我想在另一台计算机上使用 jar 文件，但是当我尝试运行它时，它会给出 NoClassDefFoundError。但是当我在我的电脑上运行它时，它工作正常。我已经提取了 .jar 文件，所有的类似乎都在那里。我检查了 netbeans 是否认为我的项目是主项目，并且它有一个主类，我也在 MANIFEST.MF 文件中确认了这一点。如果影响任何事情，我的程序确实有摆动组件。

编辑 此外，我的 dist 文件夹中没有其他文件夹，如任何 lib 或图片文件夹，我也清理和重建了大约一百次/编辑

这是错误

```
Caused by: java.lang.ClassNotFoundException: ClubControl.jar
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247) 
```

我已经搜索了无数关于这个主题的文章，但我仍然认为我没有找到问题所在。希望我没有错过它，并且有人回复了另一个问题的链接。

如果需要任何其他信息，请询问。

编辑

这是MF文件

```
 Manifest-Version: 1.0
Ant-Version: Apache Ant 1.8.3
Created-By: 1.7.0_01-b08 (Oracle Corporation)
Class-Path: 
X-COMMENT: Main-Class will be added automatically by build
Main-Class: GUI.MainWindow 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:29:16.103

从异常堆栈跟踪中，您的代码中的某个类似乎被错误命名：

```
Caused by: java.lang.ClassNotFoundException: ClubControl.jar
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202) 
```

它似乎正在尝试加载一个名为的类`ClubControl.jar`-名称上不应有扩展名，而且绝对不是*.jar*的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:18:53.473

您必须包含 .jar 的其他依赖项。像 /lib 文件夹，或者有时如果您在项目中有图像，您也必须包含这些图像，并确保 .jar 可以找到这些依赖项。并尝试清理和构建 Netbeans 项目。

# mysql - TEMPORARY TABLE 不存在，未按预期创建？MYSQL

> ID：11112351
> 
> 赞同：1
> 
> 时间：2012-06-20T03:16:21.097
> 
> 标签：mysql, jakarta-ee, stored-procedures, jdbc, temp-tables

```
-- --------------------------------------------------------------------------------
-- Routine DDL
-- --------------------------------------------------------------------------------
DELIMITER $$

CREATE DEFINER=`root`@`localhost` PROCEDURE `storage_choices_according_to_criteria`( 
                                        IN storage_calc_usage BIGINT,
                                        IN all_provider_considered BOOLEAN,
                                        IN provider_LIST varchar(200),
                                        IN has_requests BOOLEAN
                                        )
BEGIN

    IF storage_calc_usage > 0 THEN
        drop table if exists `storage_choices_expanded`;
        CREATE TEMPORARY TABLE `storage_choices_expanded` AS
        (select *, 
             usage_each_plan * standard_storage as price_storage, 
             concat_ws(' ',`Provider Name`,`Name`,`region_name`) as group_name
        from 
           (SELECT *, 
                ( 
                    if( 
                    (quota_band_high is not NULL) and storage_calc_usage>quota_band_high, 
                    quota_band_high, 
                    storage_calc_usage
                    ) - quota_band_low
                ) as usage_each_plan
            FROM `storage_service_price`
            where storage_calc_usage > quota_band_low
        and if(all_provider_considered, 1, find_in_set(`Provider Name`,provider_LIST))
           ) as storage_usage_each_plan
        );

        drop table if exists `request_options_for_storage`;

        if has_requests then

            CREATE TEMPORARY TABLE `request_options_for_storage` as
            SELECT 
                price_storage_requests.*,
                n,
                (n / per_unit_amount)*request_price as cost
            FROM `storage_request_criterias`
            right join price_storage_requests
            on price_storage_requests.storage_request_name = storage_request_criterias.name
            ;

        else

            CREATE TEMPORARY TABLE `request_options_for_storage` as
            select *, 
                0 as cost,
                0 as n
            from `price_storage_requests`
            where 0=1
            ;

        end if;

        drop table if exists `choices_storage_summed`;
        CREATE TEMPORARY TABLE `choices_storage_summed` AS

        select 
            summed.*,
            total_storage_cost + if(total_requests_cost is NULL,0,total_requests_cost) as 'Total Price',
            total_requests_cost,
            request_type_id_list
        from 
            (
                select *, 
                  sum(price_storage) as total_storage_cost, 
                  count(group_name) as count 
                from storage_choices_expanded
                group by group_name
            ) as summed
        left join
        (
            select 
            sum(cost) as total_requests_cost,
            GROUP_CONCAT(request_options_for_storage.id) as request_type_id_list,
            resource_type_id 
            from `request_options_for_storage`
            group by resource_type_id       
        ) as requests
        on requests.resource_type_id = summed.resource_type_id      
        where 
            (   
                count=1 
                and 
                if(quota_band_high is NULL,1,storage_calc_usage<=quota_band_high) 
            ) 
            or count>1 
        order by 'Total Price' asc
        ;

    END IF;

END 
```

以上是我调用的 PROCEDURE，但是当我尝试从 table 中选择时`choices_storage_summed`，它给了我一个`Table doesn't exist`错误。

我通过 jdbc 连接以编程方式调用了 PROCEDURE，我使用的是相同的连接。以下代码显示了我如何调用该过程：

```
private static void calcChoicesStorageSummed(Map<String, Integer> requests, boolean consider_all_provider, String provider_list, Integer storage_calc_usage, Integer daysInUse) throws SQLException {

    storage_calc_usage = storage_calc_usage * (daysInUse / DAYS_PER_MONTH);
    Boolean has_requests = insertIntoStorageRequestCriterias(requests); 

    CallableStatement cs = conn.prepareCall("call "+db+".storage_choices_according_to_criteria(?,?,?,?);"); 
    cs.setInt("storage_calc_usage", storage_calc_usage);
    cs.setBoolean("all_provider_considered", consider_all_provider);
    cs.setString("provider_LIST", provider_list); 
    cs.setBoolean("has_requests", has_requests);
    cs.executeQuery();
    cs.close();
} 
```

这是尝试访问临时表的代码，`conn`它是一个全局变量，在相关操作期间保持不变。

```
 calcChoicesStorageSummed(requests,(provider_name_list == null),provider_name_list,storage_usage,duration);
    /**
     * debug
     */
    sql = "select * from choices_storage_summed ";
    sql += ";";

    prest = conn.prepareStatement(sql);     
    rs = prest.executeQuery();
    while (rs.next()) {
        System.out.println(rs.getString("standard_storage")); 
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:19:35.537

听起来您正试图`choices_summed_storage`从不同的连接中进行选择，但是

> TEMPORARY 表仅对当前连接可见，并在连接关闭时自动删除。

[http://dev.mysql.com/doc/refman/5.6/en/create-table.html](http://dev.mysql.com/doc/refman/5.6/en/create-table.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T02:01:18.637

我已经弄清楚我们出了什么问题。我已将输入定义`storage_calc_usage`为，`BIGINT`但在我用来传递值的 java 代码`setInt`中，并且在 sql 中我有`IF storage_calc_usage > 0 THEN`这个条件失败，因此没有创建临时表。

# c++ - 如何在 C++ 中使用映射或向量对任意数量的输入进行记忆？

> ID：11112352
> 
> 赞同：1
> 
> 时间：2012-06-20T03:16:22.127
> 
> 标签：c++, memoization

我尝试使用数组，但我不需要每个元素，因此它不会编译，因为我的界限太大。

所以，我想尝试一些更动态的东西，也许使用地图或矢量或其他东西（无论你们推荐什么）。

就像我有一个功能：

```
long long func(long long arg1, long long arg2, long long arg3){
      check if [arg1, arg2, arg3] is memoized, and if it is, return it
      ....function body...
      store return value with [arg1, arg2, arg3] in memoization cache
      return value;
  } 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:18:50.363

您可以使用`map`映射`pair<pair<long long, long long>, long long>`到`long long`.

如果要检查密钥是否存在，只需使用[find()](http://www.cplusplus.com/reference/stl/map/find/)。`[]`使用重载运算符可以安全地分配和访问您确认存在于地图中的键。

**编辑**

或者，您可以定义自己的包含 3 个`long long`键的结构，并定义它们的自然顺序（以便`map`正常工作）。然后你可以避免冗长的`pair`语法。

# asp.net - ASP.NET MVC3，如何设置也可以在控制器和模型中使用的全局变量？

> ID：11112356
> 
> 赞同：0
> 
> 时间：2012-06-20T03:18:00.917
> 
> 标签：asp.net, asp.net-mvc-3

我所有的控制器在类的顶部都有这个代码。

```
public class TestController : Controller
{
//
// GET: /Reports/

string userName;
string uid;
string accountType;
int companyCode;

protected override void Initialize(RequestContext requestContext)
{
    base.Initialize(requestContext);

    string cookieName = FormsAuthentication.FormsCookieName;
    HttpCookie authCookie = Request.Cookies[cookieName];

    if (authCookie != null)
    {
    FormsAuthenticationTicket authTicket = FormsAuthentication.Decrypt(authCookie.Value);
    string userData = authTicket.UserData;

    JavaScriptSerializer serializer = new JavaScriptSerializer();
    var userInfo = serializer.Deserialize<MemberModel>(userData);

    userName = userInfo.firstName + " " + userInfo.lastName;
    uid = userInfo.uid;
    accountType = userInfo.accountType;
    companyCode = userInfo.companyCode;
    }
} 
```

因为，每个控制器都需要有 cookie 中的用户信息。

我认为这不是在每个控制器中编写该代码的正确方法。

此外，即使我不能在我的模型中使用该方法。

```
base.Initialize(requestContext); <= 'object' does not contain a definition for 'Initialize' 
```

所以，我想知道如何将该方法设置为 GLOBAL 变量以在任何控制器和模型中使用。

有知道的请指教~

[编辑]

![在此处输入图像描述](../Images/37ccf50ecd6f63a918b5b89f8abc6721.png)

谢谢！

[编辑]

我在 HomeController 中定义如上代码并尝试在 testController 中调用 userName。但它是空的。（错误现在消失了）

在测试控制器中，

```
[HttpGet]
public void test()
{
    Response.Write(MemberModelProvider.UserName);
    Response.Write(System.Web.HttpContext.Current.Items["UserName"]);
} 
```

**它什么也没打印...**

我究竟做错了什么？

我非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:48:58.417

为控制器创建一个公共基类，并使所有实际的控制器都继承它

```
public abstract class BaseController : Controller
{
    protected readonly MemberModel Member;

    protected BaseController()
    {
        Member = getUserInfoFromCookie();
    }
}
public class TestController : BaseController
{
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T03:23:30.390

每次使用操作过滤器执行每个操作时，您都可以执行那段代码。[你可以在这里](http://msdn.microsoft.com/en-us/library/dd381609.aspx)找到更多信息

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T05:59:27.577

您可以将该信息放在 HttpContext.Items 中。该集合在请求期间存在，因此您不会在不同请求访问相同代码时遇到任何麻烦：

```
public abstract class AuthenticatedController : Controller
{

  protected override void Initialize(RequestContext requestContext)
  {
    base.Initialize(requestContext);

    string cookieName = FormsAuthentication.FormsCookieName;
    HttpCookie authCookie = Request.Cookies[cookieName];

    if (authCookie != null)
    {
    FormsAuthenticationTicket authTicket = FormsAuthentication.Decrypt(authCookie.Value);
    string userData = authTicket.UserData;

    JavaScriptSerializer serializer = new JavaScriptSerializer();
    var userInfo = serializer.Deserialize<MemberModel>(userData);
    MemberModelProvider.Current = userInfo;
    }
  }
}

public class HomeController :  AuthenticatedController {

    //Your actions here...
}

public class TestController :  AuthenticatedController {

    //Your actions here...
}

public class MemberModelProvider {
    public static MemberModel Current {
        get { return (MemberModel)HttpContext.Current.Items["CurrentMemberModel"];}
        set { HttpContext.Current.Items["CurrentMemberModel"] = value; }
    }
} 
```

然后，只要您需要使用它，您只需调用`MemberModelProvider.Current`.

# javascript - 仅在浏览器中更改已编辑的 javascript 文件

> ID：11112360
> 
> 赞同：0
> 
> 时间：2012-06-20T03:18:26.017
> 
> 标签：javascript

我有一个使用 javascript 的繁重项目，每次我更改一个文件时，我都必须刷新页面，所有文件都必须从服务器重新获取，并且我的车把再次渲染......

我如何只能在浏览器中更改已编辑的文件？而不是触摸其他文件？

我不知道，例如将新脚本附加到新页面`rev`以使其不缓存

```
<script type="text/javascript" src="/static/js/bjs/framework/manifest.js?rev=1024"></script> 
```

我也使用`Mercurial`, `Emacs`，`Firefox`并且没有这个工具的力量。只有我想知道这可能会发生。我找到了移植到我的工具的方法

像 CSS Reloader :: Add-ons for Firefox -> [https://addons.mozilla.org/en-US/firefox/addon/css-reloader/](https://addons.mozilla.org/en-US/firefox/addon/css-reloader/) for js 之类的东西，只编辑了 js

ps：它的本地服务器，但我有大约 2mb 的文件，在 10 或 20 次刷新后，我的 firefox 接近崩溃

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T08:11:52.403

我发现一些东西有助于回答我的问题

*   自动重新加载 :: Firefox 附加组件 -> [https://addons.mozilla.org/en-US/firefox/addon/auto-reload/?src=search](https://addons.mozilla.org/en-US/firefox/addon/auto-reload/?src=search)

*   浏览器扩展/通用/知识库 - LiveReload 支持 -> [http://help.livereload.com/kb/general-use/browser-extensions](http://help.livereload.com/kb/general-use/browser-extensions)

*   Python LiveReload -> [http://project.lepture.com/python-livereload/](http://project.lepture.com/python-livereload/)

使用此插件，我可以找到一些已更改的文件。所以我可以在更改文件后运行 js 脚本并用新文件替换 js 文件。我认为这是发展的最佳方式

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T03:28:45.977

对于特定的时间间隔，您可以使用刷新 JavaScript 代码`setInterval()`并再次重新加载它。

```
<script type="text/javascript">
    var sc = document.createElement('script');
    setInterval('sc.setAttribute("src", "script.js")', 5000);
</script> 
```

希望这有助于或让您了解您需要做什么。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:08:24.660

```
<script tyep="text/javascript">

</script>

<script tyep="text/javascript">
 document.scripts[0].src="/static/js/bjs/framework/manifest.js?rev="+Math.random()
</script> 
```

每次使用 Math.random() 函数获取新的转速。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T03:25:23.657

在 Firebug 中，您可以即时编辑 js/css 文件，和/或使用 javascript 控制台，运行代码而无需刷新页面。这是我能想到的唯一可能有帮助的事情。看看这里[如何在 Firebug 中编辑 JavaScript？](https://stackoverflow.com/questions/3203779/how-to-edit-javascript-in-firebug-in-mozilla)看看如何。

# internet-explorer-9 - IE9：边框半径+渐变+边框不混合，但在其他地方看起来都很好。做什么？

> ID：11112364
> 
> 赞同：0
> 
> 时间：2012-06-20T03:19:07.150
> 
> 标签：internet-explorer-9

我在这个网站上有导航按钮：http: [//www.dermatologypartners.com](http://www.dermatologypartners.com)，它有圆角、渐变和 2px 边框。

IE9 弯曲边框而不是框。有什么建议么？

如果我不想只为 IE9 设置白色边框，我会在 CSS 中添加什么？（我从来没有完全掌握条件评论的窍门。）

这是导航代码 - 这是一个响应式网站，写成“桌面优先”，所以桌面版本的导航代码是：

```
#nav {
float:none;
width:19%;
clear:left;
margin:0;
padding:0;
}

#nav ul {
margin-left:-20px;
padding-left:10px;
}

#nav li {
list-style:none;
width:90%;
border:2px solid #fff;
background:linear-gradient(top,#adb0be0%,#ffffff45%,#ffffff55%,#adb0be100%,#ffffff100%,#adb0be100%);
filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#adb0be',endColorstr='#adb0be',GradientType=0);
-webkit-border-radius:15px;
-moz-border-radius:15px;
border-radius:15px;
text-align:center;
margin:10px;
padding:7px;
}

#nav a:link {
color:#162357;
font:bold 14px/28px 'Gentium Book Basic',"Times New Roman", Times, serif;
text-decoration:none;
display:block;
}

#nav a:hover {
color:#990d24;
font:bold 14px/28px 'Gentium Book Basic',"Times New Roman", Times, serif;
text-decoration:none;
}

#nav a:visited,#nav a:active {
color:#162357;
font:bold 14px/28px 'Gentium Book Basic',"Times New Roman", Times, serif;
text-decoration:none;
} 
```

非常感谢帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T16:56:35.837

我能够使用条件注释删除白色边框。不是最好的解决方案，但体面。

# haskell - 在 Haskell 中写或不写 `module Main where`

> ID：11112371
> 
> 赞同：25
> 
> 时间：2012-06-20T03:20:06.243
> 
> 标签：haskell, module, entry-point

Haskell 98 规范规定程序的入口点，即函数`main`，按照惯例应该驻留在名为 Main 的模块中。然而，即使你没有写`module Main where`在你写的文件的顶部，`main`当你使用 GHC 时，源代码编译并且看起来工作正常。

问题是：

1.  `module Main where`写和不写有什么区别？
2.  哪个是首选？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-20T03:33:31.650

没有真正的区别，`module Main (main) where`当您自己不指定标头时，将是隐式定义。来自[Haskell 98 报告](https://www.haskell.org/onlinereport/modules.html)：

> 允许使用仅由模块主体组成的模块的缩写形式。如果使用它，则假定标题为`module Main(main) where`.

我更喜欢明确的定义而不是隐含的定义，但是，`Main.hs`这是一个次要的偏好。

# android - AudioRecord缓冲区在android中消失

> ID：11112373
> 
> 赞同：0
> 
> 时间：2012-06-20T03:20:40.320
> 
> 标签：android, audio, audio-recording, audio-player

根据文档，在android中读取阻塞调用，但是如果我们使用读取调用将数据读入我们的自定义缓冲区，android音频缓冲区会发生什么

1.  Android音频缓冲区在读取后是否会清除其数据？
2.  如果android录音机上出现大量不同频率的声音信号会怎样？
3.  有没有办法在android中捕获指定频率的声波？
4.  如何通过android录音机本身捕获从android（使用音轨）发出的声波，即如果我发出特定频率的声波，我怎么知道我捕获了相同的频率？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T17:26:52.477

Android音频缓冲区在读取后是否会清除其数据？

*   是的

如果android录音机上发生大量声音信号会怎样？

*   我不确定你的意思，Android 会记录麦克风中的任何内容。如果您的应用程序在从缓冲区读取之前等待的时间过长，那么就会出现溢出并且您开始丢失数据。

有没有办法在android中捕获指定频率的声波？

*   你的意思是产生一定频率的声音？为此，使用[ToneGenerator](http://developer.android.com/reference/android/media/ToneGenerator.html)来识别频率，那么您需要更复杂的算法，其中之一就是[过零](https://github.com/gast-lib/gast-lib/blob/master/library/src/root/gast/audio/processing/ZeroCrossing.java)

如何通过android录音机本身捕获从android（使用音轨）发出的声波？

*   你只是正常记录。我没有使用音轨，但我使用 a`SoundPool`播放声音，然后使用 Android 的 API 录制它们

# wpf - WPF用户控件不变

> ID：11112375
> 
> 赞同：0
> 
> 时间：2012-06-20T03:20:58.880
> 
> 标签：wpf, xaml, c#-4.0, inheritance, user-controls

我有一个具有以下内容的基类：

```
public class BodyBase : UserControl
{

} 
```

然后，我有两个 WPF 用户控件（WelcomeBody 和 SettingsBody），它们继承了该基础，例如：

```
public partial class WelcomeBody : BodyBase
{
    public WelcomeBody()
    {
        InitializeComponent();
    }
} 
```

我还更改了每个 XAML 文件以反映此 BaseBody 并且在那里没有问题。设计师很好，我可以毫无问题地编辑每个控件。

我将 BodyBase 放在我的 WPF 表单上，如下所示：

```
 <my:BodyBase x:Name="ApplicationBody" SnapsToDevicePixels="True" Background="#FFAA1111" Panel.ZIndex="-99" HorizontalContentAlignment="Stretch" VerticalAlignment="Stretch" Grid.Row="1" /> 
```

然后我点击了按钮：

```
private void WelcomeClick(object sender, RoutedEventArgs e)
{
    MessageBox.Show("test");
    ApplicationBody = new WelcomeBody();
} 
```

现在在运行时，如果我单击按钮，我会得到消息框，然后一旦我在消息框上单击确定，什么都不会发生。我进行了调试，没有抛出异常，除了它不起作用之外没有任何问题。

我究竟做错了什么？我需要做什么才能让用户控制切换。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:46:34.703

ApplicationBody 是对“bodybase”控件的代码生成引用，该控件仅在“foo.g.cs”部分类中初始化一次。包含控件的父容器（例如 Grid）对您的“bodybase”控件有不同的引用。当您替换“ApplicationBody”引用时，Grid 仍在使用其其他引用并指向原始“bodybase”控件。这就是您看不到变化的原因。更改“ApplicationBody”后，您可以通过查看父控件的子元素来亲自看到这一点。

在 WPF 中执行此操作的正确方法是使用 ContentPresenter

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T02:31:45.643

我必须做

```
ApplicationBody.Content = new WelcomeBody(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T03:47:49.190

你们都准备好按该名称分配给您的容器对象的现有控件。尝试从容器中删除控件并将新控件添加到容器中。我通常不在我的 Xaml 中分配用户控件，而是为控件添加一个容器并将我的项目换入/换出容器。

假设您的容器是一个名为 myGrid 的网格：

```
private void WelcomeClick(object sender, RoutedEventArgs e)
{
    MessageBox.Show("test");
    Thickness margin = ApplicationBody.Margin; //Preserve Usercontrol Location Unless it fills Container
    myGrid.Children.Remove(ApplicationBody);
    ApplicationBody = new WelcomeBody();
    ApplicationBody.Margin = margin;
    myGrid.Children.Add(ApplicationBody);
} 
```

# ios - addSubview 滞后？

> ID：11112378
> 
> 赞同：0
> 
> 时间：2012-06-20T03:21:25.773
> 
> 标签：ios, animation, subview, lag

我正在尝试在视图控制器之间做自定义动画，在下面的例子中，我正在模仿 UINavigationController 的 popViewController。但是，它似乎在 iPhone，尤其是 iPad 上滞后很多，Time Profiler 证实它说所有滞后都来自 addSubview 行。

无论如何，我通过 Interface Builder 连接 nlView 并使用以下代码：

```
 [self.view.superview addSubview:nlView.view];
    [nlView.view setFrame:CGRectMake(-kWidth, 20, kWidth, kHeight-20)];
    [UIView animateWithDuration:2
                     animations:^{
                         [nlView.view setFrame:CGRectMake(0, 20, kWidth, kHeight-20)];
                         [self.view setFrame:CGRectMake(kWidth, 20, kWidth, kHeight-20)];
                     }
                     completion:^(BOOL finished){
                         [self.view removeFromSuperview];
                     }]; 
```

那么，我怎样才能将这种滞后降到最低呢？没有泄漏或类似的东西，但我怎么能改变我的逻辑，以便在改变视图时没有滞后？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-23T03:46:01.900

如果你想动画视图的位置，而不是设置框架，动画视图的层位置是这样`[nlView.view.layer setPosition: newPosition]...`的：当然你需要将 QuartzCore 添加到你的项目中并导入 QuartzCore/QuartzCore.h

# java - 在数组中查找给定类的所有实例

> ID：11112381
> 
> 赞同：2
> 
> 时间：2012-06-20T03:21:37.070
> 
> 标签：java

我有一个程序，我需要在一个数组中找到一个类的所有实例。我想创建一个为我执行此操作的方法。例如，如果我有数组

```
Object[] arr = {"mystring", new Boolean(false), new Integer(4), new Character('i')} 
```

我用 String 的参数调用了这个方法（实际上我不确定我的参数应该是什么类型），它会返回一个`{"mystring"}`.

我试过像

```
public void printInstancesOf(Class c, Object[] array)
{
    for (Object obj : array)
    {
        if (obj instanceof c)
        {
             System.out.println(obj);
        }
    }
} 
```

但这甚至没有编译。有谁知道如何做到这一点？或者是不可能做到的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T03:27:53.013

看起来你想要[Class.isInstance(Object o)](http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29)：

> 确定指定的 Object 是否与该 Class 表示的对象赋值兼容。**此方法是 Java 语言 instanceof 运算符的动态等效方法**。如果指定的 Object 参数不为 null，则该方法返回 true，并且可以强制转换为此 Class 对象表示的引用类型，而不会引发 ClassCastException。否则返回 false。

```
if (c.isInstance(obj) {
    System.out.println(obj);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T03:26:14.283

这不起作用，因为它正在测试是否`obj`是`instanceof`文字`c`类。我没有方便的Java环境，但我相信类似

```
if (obj.getClass().equals(c)) { 
```

应该做的伎俩。虽然这可能不适用于子类，但这不应该是一个问题。

编辑：正如其他人指出的那样

```
if (c.isInstance(obj)) { 
```

是更好的选择

更大的问题是……*你为什么要这样做*？尝试在 Java 中模拟松散类型是一个令人钦佩的目标，但通常是一个非常糟糕的主意。改用适当的多态性和/或泛型（使用自定义类）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T11:50:56.347

它看起来不像惯用的 Java。您通常只会为特定的类构建数组，而不是混合不同的类，如 String、Boolean、Integer、Character。

这通常是代码异味。

如果你有一个像

AFoo、BFoo、CFoo -> 扩展 Foo，并将它们放在一个数组中，你会让它们对消息做出显着反应：

```
for (Foo foo : foos) 
    foo.react (param); 
```

然后 AFoos 可以以不同于 BFoos 的方式做出反应。否则使用实例：

```
for (Foo foo : foos) 
    if (foo instanceof BFoo)
        barDoSomethingWith (foo, param); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T03:31:13.907

你有没有尝试过：

```
private <E> List<E> findInstances(Class<E> type, Object[] arr) {
    List<E> instances = new ArrayList<E>();
    for(Object o : arr) {
        if(type.isInstance(o)) {
            instances.add((E)o);
        }
    }
    return instances;
} 
```

# java - zk mvc 2 .zul 共享同一个控制器

> ID：11112384
> 
> 赞同：1
> 
> 时间：2012-06-20T03:22:49.303
> 
> 标签：java, spring, zk

如果我有 2 个 .zul，一个有一个列表框，另一个是模态窗口。他们可以使用相同的控制器吗？我只是无法让它工作。

这个问题基本上恢复了，我必须`apply="myController"`在两个.zul中使用吗？如果我这样做，我会在 处得到 nullpointerException `myList`，因为我认为 zk 正在实例化 2 个控制器对象，并且模态不存在`myList`。但如果我不在 modal.zul 上应用控制器，当我按下按钮时不会发生任何事情。

如何让 2 .zul 使用相同的控制器实例？

邮件.zul

```
<?variable-resolver class="org.zkoss.zkplus.spring.DelegatingVariableResolver"?>
<?init class="org.zkoss.zkplus.databind.AnnotateDataBinderInit" ?>
<zk>
    <hlayout>
    <div id="winDiv" apply="com.company.controller.ProductController">
        <vbox>
            <listbox id="myList" width="690px" height="300px" >
                <listhead>
                    <listheader hflex="min" label="id" sort="auto(id)" />
                    <listheader hflex="2" label="name" sort="auto(name)" />
                    <listheader hflex="4" label="description" sort="auto(description)" />
                                        <listheader hflex="min" label="opcion"/>
                                </listhead>
            </listbox>
        </vbox>
    </div>
            <button label="new" id="new"/>
        </hlayout>
</zk> 
```

modal.zul

```
<?xml version="1.0" encoding="UTF-8"?>
<?variable-resolver class="org.zkoss.zkplus.spring.DelegatingVariableResolver"?>
<window id="modalProductType" title="Nuevo tipo de producto" border="normal" width="420px"
    closable="true" position="center,center" **apply="com.company.controller.ProductController"**>

    <grid>
        <columns>
                <column hflex="1"/>
                <column hflex="2"/>
        </columns>
        <rows>
                <row>
                    Clave:
                     <textbox hflex="1" value="@{product.id}" readonly="true"/>
                </row>
                <row>
                    Nombre:
                     <textbox id="txtname" value="@{product.name}" hflex="1" tabindex="1" />
                </row>
                <row>
                     Description:
                      <textbox value="@{product.description}" rows="5" hflex="1" tabindex="2" />
                </row>
                <row>
                    <cell colspan="2" style="text-align:center">
                        <hlayout>
                            <button width="100px" id="save" label="Aceptar"/>
                            <button width="100px" label="close"/>
                        </hlayout>
                   </cell>
                </row>
        </rows>
    </grid>
</window> 
```

产品控制器.java

```
public class ProductTypeController extends SelectorComposer {
@WiredVariable
    private ProductTypeService productTypeService;

@Wire
    private Listbox myList;

//methods...

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T21:03:21.863

不建议这样做

1.  为了避免并发问题（请参阅[此处](http://books.zkoss.org/wiki/ZK_Developer%27s_Reference/MVC/Controller/Composer#Apply_Composer_Instances)）例如。如果将相同的控制器实例应用于多个视图，则连接的组件将指向最后一个视图，从而导致 UI 行为不稳定。使用不同的实例而不是针对并发问题进行编码并使控制器线程安全更容易。
2.  避免内存泄漏。例如。如果将相同的控制器实例应用于两个完全不同的视图，并且两个视图的组件都连接在其中，那么如果其中一个视图没有被使用，则其连接的组件仍然不会被释放，从而导致内存泄漏。

# hadoop - (Sqoop-import) ERROR tool.ImportTool: Encountered IOException running import job: java.io.IOException: Hive exited with status 9

> ID：11112385
> 
> 赞同：3
> 
> 时间：2012-06-20T03:22:49.777
> 
> 标签：hadoop, hive, sqoop

当我输入命令时：

```
./sqoop-import --connect jdbc:mysql://localhost/sqoop2 -table sqeep2 -m 1 -hive-import 
```

执行此命令时：

```
hadoop@dewi:/opt/sqoop/bin$ ./sqoop-import --connect jdbc:mysql://localhost/sqoop2 -table sqeep2 -m 1 -hive-import
12/06/20 10:00:44 INFO tool.BaseSqoopTool: Using Hive-specific delimiters for output. You can override
12/06/20 10:00:44 INFO tool.BaseSqoopTool: delimiters with --fields-terminated-by, etc.
12/06/20 10:00:44 INFO tool.CodeGenTool: Beginning code generation
12/06/20 10:00:45 INFO manager.MySQLManager: Executing SQL statement: SELECT t.* FROM `sqeep2` AS t LIMIT 1
12/06/20 10:00:45 INFO manager.MySQLManager: Executing SQL statement: SELECT t.* FROM `sqeep2` AS t LIMIT 1
12/06/20 10:00:45 INFO orm.CompilationManager: HADOOP_HOME is /opt/hadoop
Note: /tmp/sqoop-hadoop/compile/dedd7d201dfca40c5cd5dee4919e0487/sqeep2.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
12/06/20 10:00:46 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-hadoop/compile/dedd7d201dfca40c5cd5dee4919e0487/sqeep2.jar
12/06/20 10:00:46 WARN manager.MySQLManager: It looks like you are importing from mysql.
12/06/20 10:00:46 WARN manager.MySQLManager: This transfer can be faster! Use the --direct
12/06/20 10:00:46 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.
12/06/20 10:00:46 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)
12/06/20 10:00:46 INFO mapreduce.ImportJobBase: Beginning import of sqeep2
12/06/20 10:00:46 INFO manager.MySQLManager: Executing SQL statement: SELECT t.* FROM `sqeep2` AS t LIMIT 1
12/06/20 10:00:46 INFO util.NativeCodeLoader: Loaded the native-hadoop library
12/06/20 10:00:46 INFO mapred.JobClient: Running job: job_201206200849_0006
12/06/20 10:00:47 INFO mapred.JobClient:  map 0% reduce 0%
12/06/20 10:00:52 INFO mapred.JobClient:  map 100% reduce 0%
12/06/20 10:00:53 INFO mapred.JobClient: Job complete: job_201206200849_0006
12/06/20 10:00:53 INFO mapred.JobClient: Counters: 11
12/06/20 10:00:53 INFO mapred.JobClient:   Job Counters 
12/06/20 10:00:53 INFO mapred.JobClient:     SLOTS_MILLIS_MAPS=4255
12/06/20 10:00:53 INFO mapred.JobClient:     Total time spent by all reduces waiting after reserving slots (ms)=0
12/06/20 10:00:53 INFO mapred.JobClient:     Total time spent by all maps waiting after reserving slots (ms)=0
12/06/20 10:00:53 INFO mapred.JobClient:     Launched map tasks=1
12/06/20 10:00:53 INFO mapred.JobClient:     SLOTS_MILLIS_REDUCES=0
12/06/20 10:00:53 INFO mapred.JobClient:   FileSystemCounters
12/06/20 10:00:53 INFO mapred.JobClient:     FILE_BYTES_READ=106
12/06/20 10:00:53 INFO mapred.JobClient:     FILE_BYTES_WRITTEN=41020
12/06/20 10:00:53 INFO mapred.JobClient:   Map-Reduce Framework
12/06/20 10:00:53 INFO mapred.JobClient:     Map input records=3
12/06/20 10:00:53 INFO mapred.JobClient:     Spilled Records=0
12/06/20 10:00:53 INFO mapred.JobClient:     Map output records=3
12/06/20 10:00:53 INFO mapred.JobClient:     SPLIT_RAW_BYTES=87
12/06/20 10:00:53 INFO mapreduce.ImportJobBase: Transferred 0 bytes in 6.5932 seconds (0 bytes/sec)
12/06/20 10:00:53 INFO mapreduce.ImportJobBase: Retrieved 3 records.
12/06/20 10:00:53 INFO hive.HiveImport: Loading uploaded data into Hive
12/06/20 10:00:53 INFO manager.MySQLManager: Executing SQL statement: SELECT t.* FROM `sqeep2` AS t LIMIT 1
12/06/20 10:00:53 INFO manager.MySQLManager: Executing SQL statement: SELECT t.* FROM `sqeep2` AS t LIMIT 1
12/06/20 10:00:53 WARN hive.TableDefWriter: Column price had to be cast to a less precise type in Hive
12/06/20 10:00:53 WARN hive.TableDefWriter: Column design_date had to be cast to a less precise type in Hive
12/06/20 10:00:54 INFO hive.HiveImport: Hive history file=/tmp/hadoop/hive_job_log_hadoop_201206201000_695261712.txt
12/06/20 10:01:00 INFO hive.HiveImport: FAILED: Error in metadata: MetaException(message:Got exception: java.io.FileNotFoundException File file:/user/hive/warehouse/sqeep2 does not exist.)
12/06/20 10:01:00 INFO hive.HiveImport: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
12/06/20 10:01:00 ERROR tool.ImportTool: Encountered IOException running import job: java.io.IOException: Hive exited with status 9
    at com.cloudera.sqoop.hive.HiveImport.executeExternalHiveScript(HiveImport.java:326)
    at com.cloudera.sqoop.hive.HiveImport.executeScript(HiveImport.java:276)
    at com.cloudera.sqoop.hive.HiveImport.importTable(HiveImport.java:218)
    at com.cloudera.sqoop.tool.ImportTool.importTable(ImportTool.java:362)
    at com.cloudera.sqoop.tool.ImportTool.run(ImportTool.java:423)
    at com.cloudera.sqoop.Sqoop.run(Sqoop.java:144)
    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)
    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)
    at com.cloudera.sqoop.Sqoop.runSqoop(Sqoop.java:180)
    at com.cloudera.sqoop.Sqoop.runTool(Sqoop.java:218)
    at com.cloudera.sqoop.Sqoop.main(Sqoop.java:228)

hadoop@dewi:/opt/sqoop/bin$ 
```

我的 sqoop 命令有什么问题？

请任何解决方案:)谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T09:24:32.020

我修改了 hive-site.xml 以便`hive.metastore.warehouse.dir`值为`/home/hadoop/data/hive/warehouse`.

然后它工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-04T16:28:37.430

您的 sqoop 语法错误，在特定于工具的参数前有两个破折号。尝试：

> ./sqoop import --connect jdbc:mysql://localhost/sqoop2 --table sqeep2 -m 1 --hive-import

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T10:27:30.353

表 sqeep2 是否存在？

`12/06/20 10:01:00 INFO hive.HiveImport: FAILED: Error in metadata: MetaException(message:Got exception: java.io.FileNotFoundException File file:/user/hive/warehouse/sqeep2 does not exist.)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-28T10:41:29.543

步骤 - 1：设置您的 .bashrc 文件 $HADOOP_HOME 、 $HIVE_HOME 、 $SQOOP_HOME

步骤 - 2：启动 hiveserver 和 Metastore

```
 bin/hive --service hiveserver
      bin/hive --service metastore 
```

试试这个命令的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-07-18T09:11:34.803

cp libthrift-0.9.2.jar /opt/app/sqoop-1.4.7.bin__hadoop-2.6.0/lib/

# joomla - 错误：500 JHtmlSelect::checkboxlist 在 joomla 2.5 中不支持

> ID：11112387
> 
> 赞同：0
> 
> 时间：2012-06-20T03:23:54.903
> 
> 标签：joomla, joomla2.5

我在 joomla 2.5 中使用此代码

```
$booleanlist = JHTML::_('select.checkboxlist', '1', 'K2ExtraField[]', '', 'value', 'name','');
print $booleanlist; 
```

但是当运行代码得到错误select.checkboxlist不支持时，如何解决它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T15:08:37.483

Joomla 中没有“复选框列表”。

但从这个线程： http: [//forum.joomla.org/viewtopic.php?t=210780](http://forum.joomla.org/viewtopic.php?t=210780)

我找到了这段代码：

在文件库/joomla/html/html/select.php 中添加代码：

```
/*custom checkbox*/
   function checkboxlist( $arr, $name, $attribs = null, $key = 'value', $text = 'text', $selected = null, $idtag = false, $translate = false )
   {
      reset( $arr );
      $html = '';

      if (is_array($attribs)) {
         $attribs = JArrayHelper::toString($attribs);
       }

      $id_text = $name;
      if ( $idtag ) {
         $id_text = $idtag;
      }

      for ($i=0, $n=count( $arr ); $i < $n; $i++ )
      {
         $k   = $arr[$i]->$key;
         $t   = $translate ? JText::_( $arr[$i]->$text ) : $arr[$i]->$text;
         $id   = ( isset($arr[$i]->id) ? @$arr[$i]->id : null);

         $extra   = '';
         $extra   .= $id ? " id=\"" . $arr[$i]->id . "\"" : '';
         if (is_array( $selected ))
         {
            foreach ($selected as $val)
            {
               $k2 = is_object( $val ) ? $val->$key : $val;
               if ($k == $k2)
               {
                  $extra .= " selected=\"selected\"";
                  break;
               }
            }
         } else {
            $extra .= ((string)$k == (string)$selected ? " checked=\"checked\"" : '');
         }
         $html .= "\n\t<input type=\"checkbox\" name=\"$name\" id=\"$id_text$k\" value=\"".$k."\"$extra $attribs />";
         $html .= "\n\t<label for=\"$id_text$k\">$t</label><br>";
      }
      $html .= "\n";
      return $html;
   }
/*end custom checkbox*/ 
```

# mysql - 多对多查询到多个列以进行报告

> ID：11112389
> 
> 赞同：1
> 
> 时间：2012-06-20T03:24:04.983
> 
> 标签：mysql, many-to-many, report

我有两个表，其中一个链接表描述了它们的多对多关系。

```
TABLE buildings
    building_id
    building_name

TABLE facility_types
    facility_type_id
    facility_type

TABLE buildings_2_facility_types
    building_id
    facility_type_id 
```

现在我需要一份报告，其中包括设施类型作为每个建筑物的*列。*

```
REPORT:

  NAME        golf    pool    garage
Building A     Y        N        Y
Building B     N        Y        Y
Building C     N        N        N 
```

我怎样才能在 SQL 中做到这一点？

注意这将是涉及许多其他表的更大查询的一部分。我可以做所有这部分，但是将行转换为列让我很烦恼！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:28:01.097

将行转换为列是一件非常痛苦的事情，您必须了解 SQL 并不适合这种操作。

它仍然是可能的，前提是要转置的值集是**小**、**已知**和**有限**的。如果没有，您将不得不依赖您的应用程序层。

如何做到这一点的一个例子应该可以帮助您理解 3 个条件：

假设一张桌子`buildings_2_facility_types`：

```
building_id facility_type_id
    1               1
    1               2
    2               3
    3               1
    3               3 
```

你可以通过这种方式摆脱它：

```
SELECT
    building_id,
    IF(SUM(facility_type_id = 1) > 0, "Y", "N") as facility_type_1,
    IF(SUM(facility_type_id = 2) > 0, "Y", "N") as facility_type_2,
    IF(SUM(facility_type_id = 3) > 0, "Y", "N") as facility_type_3
FROM buildings_2_facility_types
GROUP BY building_id; 
```

看 ？**小**，**已知**和**有限**：/

当然，您也可以使用 proc 库存进行操作，但这通常不是首选方式。

# c# - 在 SDK 中获取 Visual Studio 的版本

> ID：11112391
> 
> 赞同：2
> 
> 时间：2012-06-20T03:24:05.570
> 
> 标签：c#, visual-studio, visual-studio-addins, visual-studio-extensions

我一直在更新我的一些扩展以使其与 Visual Studio 2012 兼容。其中大多数我只需要更改 vsixmanifest 文件以报告它与 2012 兼容。

但是，我目前正在处理的代码需要稍作更改。我宁愿检测 Visual Studio 的版本并使用该事实来运行正确的逻辑，而不是拥有 2 个单独的扩展。

但是，我还没有找到检测扩展运行在哪个版本的 Visual Studio 的好方法。

找到它的最佳方法是什么？

# php - 邮编和距离 MySQL 查询

> ID：11112395
> 
> 赞同：0
> 
> 时间：2012-06-20T03:24:36.117
> 
> 标签：php, mysql

t_dealer 包含dealer_name、dealer_state、dealer_postcode t_postcodes 包含p1、p2、dist 查找距离时，我始终必须确保较低的（数字）邮政编码是p1，较高的邮政编码是p2（除非它们相等）。

前置问题：如果客户浏览网站并输入（例如）3000 的邮政编码，我如何进行加入（或我需要做的任何其他事情）以保持距离？

这并不难，我知道 - 做

```
if($postcode>$dealer_postcode){

  $query="select dist from t_postcodes where p1=$dealer_postcode and p2=$postcode limit 1";

} else {

  $query="select dist from t_postcodes where p2=$dealer_postcode and p1=$postcode limit 1";

} 
```

实际问题：我需要将州内的所有经销商 (dealer_state) 列在一个表中（使用 jqgrid），这意味着我需要 1 个查询来提取所有经销商及其与 $postcode 的各自距离。

我尝试了各种连接和东西，但都没有接近。

感谢您的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T18:55:14.640

这是答案的第一部分：

```
select dist,p1,p2,dealer_postcode from t_dealer, t_postcodes where (if(dealer_postcode<$user_postcode,p1,p2)=dealer_postcode) and (if(dealer_postcode<$user_postcode,p2,p1)=$user_postcode) 
```

我主要是从[这个](http://www.roseindia.net/mysql/mysql5/writing-subqueries.shtml)页面（关于子查询）得到的。

第二部分——让它运行而不会超时或花费太长时间的唯一方法——是限制结果。我最初有大约 2100 个经销商。我将它（通过其他标准）限制为 30，然后它运行正常

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:27:30.520

我使用以下文章为另一个项目（请注意它是 ZipCodes）做了类似的事情。您可以采用相同的原则并将它们应用于邮政编码。

[使用 MySQL 的邮政编码半径搜索](http://gabesumner.com/zip-code-radius-search-using-mysql)

# jquery - jquery调整嵌套div的大小

> ID：11112397
> 
> 赞同：2
> 
> 时间：2012-06-20T03:24:43.937
> 
> 标签：jquery, user-interface

我刚开始使用 jquery 并遇到了以下问题

```
<div id="container">
    <div id="content" contenteditable="true">
    </div>
    ...
</div> 
```

如果我正在使用`$(...).resizable()`如何让它们同时调整大小？哪个`overflow`值会起作用？

另外，使“容器”可拖动会影响什么吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:34:41.043

当然，这是可能的。试试这个演示：

[jsfiddle 演示](http://jsfiddle.net/nickadeemus2002/KmCGg/)

确保两个 div 都是 .resizable()。确保外部调整 div 取决于内部 div 的调整大小事件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T03:48:14.790

你可以试试这个：

```
$(document).ready(function() {
    $("#container, #content").resizable({
        alsoResize: "#content, #container"
    });
    $('#container').draggable();
}); 
```

**[演示](http://jsfiddle.net/KmCGg/18/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T03:30:49.313

找到答案 jQuery 提供了以下内容：

```
$("#container").resizable({alsoResize:"#content"}); 
```

这似乎做得很好:)

# haskell - 运行时是否通常使用类似命令式的函数式语言代码解释

> ID：11112399
> 
> 赞同：5
> 
> 时间：2012-06-20T03:24:54.330
> 
> 标签：haskell, functional-programming, ocaml, interpreter, imperative-programming

我有一个关于函数式语言解释器的一般性问题：

在运行时使用函数式语言与命令式语言（或进入解释器）实际上有什么优势吗？

我看到的所有问题（例如[this](https://stackoverflow.com/questions/1857083/how-functional-language-are-different-from-the-language-implementation-point-of "这个")）都没有真正解决这个问题，并且搜索中充斥着关于不同语言定义的争论。

编辑：精简到我最终需要回答的唯一问题。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-20T07:49:01.240

简短的回答是：一切最终都被编译成某种低级语言（汇编或虚拟机语言）。函数式语言和命令式语言处于同等地位：它们必须编译掉它们的抽象机制以适应机器上可用的东西。
语言的不同之处在于它们与底层低级代码的匹配程度（通过提供低级功能以在需要时手动优化代码）以及它们通过提供强大推理保证的清晰语义来启用或简化哪些优化。

例如，当编译为本机代码时，递归不是（通常）编译成循环，而是编译成到标签的跳转，就像循环一样：大多数汇编语言既没有循环也没有递归。当然，如果编译成有循环但没有跳转的虚拟机，就需要产生循环；这是一个问题，例如在 Java 虚拟机上，因为一般的尾调用比单独的循环更具表现力，您需要解决这个限制，放弃一些效率。

函数式程序的“优点”可能是因为语义表现更好，您可以更轻松地对程序进行推理，例如以更简单的方式表达优化。现在很多编译器都使用[单一静态赋值 (SSA)](http://en.wikipedia.org/wiki/Static_single_assignment_form)中间形式，它基本上是一种低级函数式语言¹——尽管它是由编译器社区的人们独立发现的。例如，当您消除变量突变并且变量在其所有范围内保持相同的值时，大多数优化会更容易进行。有一些技术可以在这些功能中间形式上以[更有效的方式进行寄存器分配。](http://www.cdl.uni-saarland.de/projects/ssara/)

¹：参见 Andrew Appel 1998 年的短文：[SSA 是函数式编程](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.34.3282)；如果您对 SSA 形式的详细信息感兴趣，这里有一些关于 SSA 与其他功能中间形式（例如[CPS ）之间关系的](http://en.wikipedia.org/wiki/Continuation_Passing_Style)[阅读笔记](http://gallium.inria.fr/~scherer/gagallium/ssa-cps-reading-notes/)。

您还可以从纯度（没有副作用，或者至少可以很好地控制哪些计算将没有副作用）和静态类型中获得优化优势。从纯度中，您可以获得强大的优化，例如[砍伐森林](http://en.wikipedia.org/wiki/Deforestation_%28computer_science%29)或[融合](http://www.haskell.org/haskellwiki/Correctness_of_short_cut_fusion)（消除中间数据结构），并且从类型中您可以获得对值的形状的有力保证（这就是为什么一些动态语言尝试允许某些受限形式的类型注释进行优化目的）允许生成更好的代码。

关于访问低级功能：Fortran、C 和 C++ 可能是最好的、最广泛使用的“可以使用非常低级”的语言。一些语言试图提供其中的一些功能：例如[ATS](http://www.ats-lang.org/)（最初是一种函数式编程语言，虽然它是如此裸机以至于很难看到）提供了对堆栈分配版本堆分配的良好控制，[Haskell](http://www.haskell.org/ghc/docs/latest/html/users_guide/primitives.html)和[CLR（ C# 等）](http://msdn.microsoft.com/en-us/library/34yytbws%28v=vs.71%29.aspx)提供未装箱的复合类型作为这种低级推理的特例，类似地，[Rust](http://www.rust-lang.org/)试图为您提供对内存消耗做出低级决策的方法。
但是，当您隔离一小部分对您的性能至关重要的代码并且您想优化它（放弃一些灵活性/简单性/可维护性）时，这当然很有用，但这不会改变您的生活在日常情况下，除非您是嵌入式/内核程序员。您可能会从允许您使用正确的抽象级别并花更多时间为您的问题选择正确的设计和算法的高效语言中获得更多的整体性能提升。当然，一个人可能想要两者兼得，这是可能的，但很困难。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-13T15:34:47.383

> 在运行时使用函数式语言与命令式语言（或进入解释器）实际上有什么优势吗？

是的。如果您使用函数式语言，其优点是解释器编写器可能完成得更快。如果您使用命令式，可能会使用更少的内存和 CPU。

所以，不管你怎么做，都有优势。

但是，给定两个解释器，一个用命令式语言编写，另一个用函数式语言编写，并且进一步假设它们都是正确的，您无法从程序的结果中分辨出使用了哪个解释器。

# assembly - 说“CMP命令是最长的汇编命令”是否正确？

> ID：11112400
> 
> 赞同：2
> 
> 时间：2012-06-20T03:25:05.667
> 
> 标签：assembly

与 JMP、CALL、MOV、PUSH（我的意思是更多可用命令）等其他汇编语句相比，说 CMP 需要更多时间来运行是否正确？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-20T03:28:59.003

不，到目前为止 MOV 可能需要最长的时间才能运行，因为一般来说它必须命中内存才能执行移动（比寄存器访问慢得多），并且可能会阻塞。另一方面，CMP 在实践中通常将文字和寄存器作为参数，并且只命中 ALU。

CALL 实际上会执行 PUSH 和 JUMP，因此是第二长的。哦，是的，如前所述，JMP 可以刷新管道（尽管无条件跳转不会）。

底线 CMP 速度很快，就像 INC、ADD 或任何其他简单的数学计算一样，通常都经过优化以使用寄存器值和文字，并且除了命中 ALU 之外什么都不做。

# android - android中线性布局内的文本视图

> ID：11112407
> 
> 赞同：1
> 
> 时间：2012-06-20T03:26:04.517
> 
> 标签：android, android-layout, user-interface

我创建了三个等重的线性布局。在其中一个线性布局中，我有 6 个文本视图。我已经在我的活动中初始化了文本视图。但我无法查看此文本视图。我不知道我要去哪里错了。请帮我。

这是我的 XML 布局

```
<?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_width="fill_parent"
 android:layout_height="fill_parent"
 android:orientation="vertical" >
 <LinearLayout
 android:id="@+id/lay"
 android:layout_weight="1"
 android:layout_width="match_parent"
 android:layout_height="fill_parent"
 android:background="#FFFFFF">
<TextView android:id="@+id/num1" 
 android:layout_width="0dip" 
 android:layout_height="wrap_content"
 android:gravity="left"
 android:textColor="#000000" 
 android:textSize="10dip"
 android:layout_weight="1" />
<TextView android:id="@+id/date1" 
android:layout_width="0dip" 
android:layout_height="wrap_content"
android:gravity="right"
android:textColor="#000000"
android:textSize="10dip" 
android:layout_marginLeft="10dp"
android:layout_weight="1" />
<TextView android:id="@+id/cus1" 
android:layout_width="0dip" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip" />
<TextView android:id="@+id/service1" 
android:layout_width="0dip" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip" />
<TextView android:id="@+id/job1" 
android:layout_width="0dip" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip" />
<TextView android:id="@+id/des1" 
android:layout_width="0dip" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip" />
</LinearLayout>
<LinearLayout
  android:layout_weight="1"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:orientation="horizontal"
  android:background="#FFFFFF" >
<EditText
 android:id="@+id/EditTextName"
 android:layout_width="match_parent"
 android:layout_height="wrap_content"
 android:hint="@string/followup"
 android:inputType="textMultiLine"
 android:lines="3" />
</LinearLayout>
<LinearLayout
  android:layout_weight="1"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:orientation="horizontal"
  android:background="#FFFFFF" />
</LinearLayout> 
```

这是我的活动

```
public class Detail extends Activity{
String value1 , value2;
Cursor c, c1;
DataBaseHelper myDbHelper = new DataBaseHelper(this);

  @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.detail);

        LinearLayout ll = (LinearLayout) findViewById(R.id.lay);
        TextView  tv1 =(TextView)ll.findViewById(R.id.num1);
        TextView  tv2 =(TextView)ll.findViewById(R.id.date1);
        TextView  tv3 =(TextView)ll.findViewById(R.id.cus1);
        TextView  tv4 =(TextView)ll.findViewById(R.id.service1);
        TextView  tv5 =(TextView)ll.findViewById(R.id.job1);
        TextView  tv6 =(TextView)ll.findViewById(R.id.des1);

        Bundle extras = getIntent().getExtras(); 
        if(extras !=null)
        {
        value1 = extras.getString("keyName");
        value2 = extras.getString("keyTime");
        }
        try {

            myDbHelper.openDataBase();

        }catch(SQLException sqle){

            throw sqle;

        }

        myDbHelper.setSearch(value1);
        c = myDbHelper.getDetail();
        if(c.getCount()!=0){
            c.moveToFirst();

            while (!c.isAfterLast()) {
                tv1.setText("Ticket No:" + c.getString(c.getColumnIndex("taskID")));
                tv2.setText("Date:" + value2 + "/" + c.getString(c.getColumnIndex("time")) );
                tv3.setText("Customer Name:" + value1);
                tv4.setText("Description:" + c.getString(c.getColumnIndex("taskDetail")));
                c.moveToNext();
            }
        c.close();
        }

        myDbHelper.setSearch(value1);
        c1 = myDbHelper.getService();
        if(c1.getCount()!=0){
            c1.moveToFirst();

            while (!c1.isAfterLast()) {
                tv5.setText("Service Type:" + c1.getString(c1.getColumnIndex("description")));
                tv6.setText(value1);
                c1.moveToNext();
            }
        c1.close();
        }

        myDbHelper.close();}} 
```

我想要这样的布局，![布局](../Images/3d3a16a5e087f31d627c7a55a07b89fb.png) 前两个文本在同一行，一个在右边，另一个在左角，另外四个垂直向下。如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:23:38.737

你可以试试这个....

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

        <LinearLayout
            android:id="@+id/lay"
            android:layout_weight="1"
            android:layout_width="match_parent"
            android:layout_height="fill_parent"
            android:background="#FFFFFF"
            android:orientation="horizontal">

                <TextView android:id="@+id/num1" 
                android:layout_width="wrap_content" 
                android:layout_height="wrap_content"
                android:textColor="#000000" 
                android:textSize="10dip"
                android:text="test"
                android:layout_weight="1"/>

                <TextView android:id="@+id/date1" 
                android:layout_width="wrap_content" 
                android:layout_height="wrap_content"
                android:textColor="#000000"
                android:textSize="10dip" 
                android:layout_marginLeft="10dp"
                android:text="test"
                android:layout_weight="1"/>

                <TextView android:id="@+id/cus1" 
                android:layout_width="wrap_content" 
                android:layout_height="wrap_content"
                android:layout_marginLeft="10dp"
                android:textColor="#000000"
                android:textSize="10dip"
                android:text="test" 
                android:layout_weight="1"/>

                <TextView android:id="@+id/service1" 
                android:layout_width="wrap_content" 
                android:layout_height="wrap_content"
                android:textColor="#000000"
                android:textSize="10dip" 
                android:text="test"
                android:layout_weight="1"/>

                <TextView android:id="@+id/job1" 
                android:layout_width="wrap_content" 
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:textColor="#000000"
                android:textSize="10dip" 
                android:text="test"/>

                <TextView android:id="@+id/des1" 
                android:layout_width="wrap_content" 
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:textColor="#000000"
                android:textSize="10dip" 
                android:text="test"/>
        </LinearLayout>
        <LinearLayout
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:orientation="horizontal"
            android:background="#FFFFFF" >

            <EditText
            android:id="@+id/EditTextName"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="@string/followup"
            android:inputType="textMultiLine"
            android:lines="3" />
        </LinearLayout>
        <LinearLayout
        android:layout_weight="1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="horizontal"
        android:background="#FFFFFF" />
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:06:31.387

您已将`layout_width`属性`TextView`s 设置为`0dip`，但其中六个中只有两个具有`layout_weight`属性。其他四个将具有零宽度。

任何一个：

*   将四个最低`TextView`的 s 设置为宽度 > `0dip`...
*   ...或者，将`layout_width`属性添加到剩余的四个`TextView`s，就像您对前两个所做的那样。

**根据评论编辑：**

```
<LinearLayout
    ...
    android:orientation="vertical">

    <LinearLayout
        ...
        android:orientation="horizontal">

        <TextView />

        <TextView />

    </LinearLayout>

    <LinearLayout
        ...
        android:orientation="vertical">

        <TextView />

        <TextView />

        <TextView />

        <TextView />

    </LinearLayout>

</LinearLayout> 
```

这只是一个基本草稿，因此您可以了解哪些布局属于哪里。请记住设置布局的权​​重、宽度、高度、ID 等等等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T04:28:13.030

您需要在 weight=1 内放置一个 Table Layout 或 3 LinearLayout。

3 行，2 列，宽度固定

```
<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_weight="1"
    android:orientation="vertical" 
    android:background="#FFFFFF" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF" >

        <TextView
            android:id="@+id/num1"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="left"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/date1"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_marginLeft="10dp"
            android:layout_weight="1"
            android:gravity="right"
            android:textColor="#000000"
            android:textSize="10dip" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF" >

        <TextView
            android:id="@+id/cus1"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="left"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/service1"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="right"
            android:textColor="#000000"
            android:textSize="10dip" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF" >

        <TextView
            android:id="@+id/job1"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="left"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/des1"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="right"
            android:textColor="#000000"
            android:textSize="10dip" />
    </LinearLayout>
</LinearLayout> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T03:30:13.220

除非您在每个文本视图上设置文本，否则线性布局内的每个文本视图都是不可见的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T04:26:28.083

我试图解决你的问题。这是我已经解决的问题，我不知道您到底需要什么。我想你想以相同的线性布局显示你的文本视图，宽度相等。

```
<?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_width="fill_parent"
 android:layout_height="fill_parent"
 android:orientation="vertical" >
 <LinearLayout
 android:id="@+id/lay"
 android:layout_weight="1"
 android:layout_width="match_parent"
 android:layout_height="fill_parent"
 android:background="#FFFFFF">
<TextView android:id="@+id/num1" 
 android:layout_height="wrap_content"
 android:gravity="left"
 android:textColor="#000000" 
 android:textSize="10sp"
 android:layout_weight="1"
 android:text="rgfgfd"
 android:layout_width="wrap_content"/>
<TextView android:id="@+id/date1" 
android:layout_height="wrap_content"
android:gravity="right"
android:textColor="#000000"
android:textSize="10sp" 
android:layout_marginLeft="10dp"
android:layout_weight="1"
android:text="sdfsdfsdf"
android:layout_width="wrap_content"/>
<TextView android:id="@+id/cus1" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip"
android:layout_weight="1"
android:layout_width="wrap_content"/>
<TextView android:id="@+id/service1" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip"
android:layout_weight="1"
android:layout_width="wrap_content"/>
<TextView android:id="@+id/job1" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip"
android:layout_weight="1"
android:layout_width="wrap_content"/>
<TextView android:id="@+id/des1" 
android:layout_height="wrap_content"
android:gravity="left"
android:textColor="#000000"
android:textSize="10dip"
android:layout_weight="1"
android:layout_width="wrap_content"/>
</LinearLayout>
<LinearLayout
  android:layout_weight="1"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:orientation="horizontal"
  android:background="#FFFFFF" >
<EditText
 android:id="@+id/EditTextName"
 android:layout_width="match_parent"
 android:layout_height="wrap_content"
 android:hint="followup"
 android:inputType="textMultiLine"
 android:lines="3" />
</LinearLayout>
<LinearLayout
  android:layout_weight="1"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:orientation="horizontal"
  android:background="#FFFFFF" />
</LinearLayout> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-20T04:26:44.663

对于水平文本视图：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/num1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="@android:color/black"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/date1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="right"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/cus1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/service1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/job1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/des1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF"
        android:orientation="horizontal" >

        <EditText
            android:id="@+id/EditTextName"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="@string/followup"
            android:inputType="textMultiLine"
            android:lines="3" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF"
        android:orientation="horizontal" /> 
```

对于垂直文本视图

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF"
        android:orientation="vertical" >

        <TextView
            android:id="@+id/num1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="@android:color/black"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/date1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="right"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/cus1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/service1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/job1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />

        <TextView
            android:id="@+id/des1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:gravity="left"
            android:text="ryhgfderuh"
            android:textColor="#000000"
            android:textSize="10dip" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF"
        android:orientation="horizontal" >

        <EditText
            android:id="@+id/EditTextName"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="@string/followup"
            android:inputType="textMultiLine"
            android:lines="3" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:background="#FFFFFF"
        android:orientation="horizontal" /> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-20T04:37:36.993

看到这张图片。我已经解决了你的问题：

![在此处输入图像描述](../Images/5222c45cda3cd6c1ba460801f3e320f2.png)

遵循此 XML 代码使其成为可能：

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent" android:layout_height="fill_parent"
    android:orientation="vertical">
    <LinearLayout android:id="@+id/lay" android:layout_weight="1"
        android:layout_width="fill_parent" android:layout_height="fill_parent"
        android:background="#FFFFFF">
        <TextView android:id="@+id/num1" android:layout_width="wrap_content"
            android:text="first" android:layout_height="wrap_content"
            android:gravity="left" android:textColor="#000000" android:textSize="10dip"
            android:layout_weight="1" />
        <TextView android:id="@+id/date1" android:layout_width="wrap_content"
            android:text="second" android:layout_height="wrap_content"
            android:textColor="#000000" android:textSize="10dip"
            android:layout_marginLeft="10dp" android:layout_weight="1" />
        <TextView android:id="@+id/cus1" android:layout_width="wrap_content"
            android:text="third" android:layout_weight="1" android:layout_height="wrap_content"
            android:gravity="left" android:textColor="#000000" android:textSize="10dip" />
        <TextView android:id="@+id/service1" android:layout_width="wrap_content"
            android:text="fourth" android:layout_weight="1"
            android:layout_height="wrap_content" android:gravity="left"
            android:textColor="#000000" android:textSize="10dip" />
        <TextView android:id="@+id/job1" android:layout_width="wrap_content"
            android:text="fifth" android:layout_weight="1" android:layout_height="wrap_content"
            android:gravity="left" android:textColor="#000000" android:textSize="10dip" />
        <TextView android:id="@+id/des1" android:layout_width="wrap_content"
            android:text="sixth" android:layout_weight="1" android:layout_height="wrap_content"
            android:gravity="left" android:textColor="#000000" android:textSize="10dip" />
    </LinearLayout>
    <LinearLayout android:layout_weight="1"
        android:layout_width="fill_parent" android:layout_height="fill_parent"
        android:orientation="horizontal" android:background="#FFFFFF">
        <EditText android:id="@+id/EditTextName"
            android:layout_width="match_parent" android:layout_height="wrap_content"
            android:hint="followup" android:inputType="textMultiLine"
            android:lines="3" />
    </LinearLayout>
    <LinearLayout android:layout_weight="1"
        android:layout_width="fill_parent" android:layout_height="fill_parent"
        android:orientation="horizontal" android:background="#FFFFFF" />
</LinearLayout> 
```

希望这对您有所帮助。

享受编码。. . .

:)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-20T07:21:36.180

我希望你打算实现这样的布局：

![在此处输入图像描述](../Images/89545bc3fd918c0a6c619cd4a8f302bd.png)

我已经使用这种布局来实现相同的效果：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <!-- Top Layout -->
    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >
        <LinearLayout 
            android:layout_width="fill_parent"
            android:layout_height="wrap_content">
            <TextView 
                android:background="#ff0000"
                android:text="text 1"
                android:layout_weight="1"
                android:layout_width="0px"
                android:layout_height="wrap_content"/>
            <TextView 
                android:background="#00ff00"
                android:text="text 2"
                android:layout_weight="1"
                android:layout_width="0px"
                android:layout_height="wrap_content"/>
        </LinearLayout>
        <TextView
            android:background="#ffff22"
            android:text="text 3"
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"/>
        <TextView
            android:background="#ff00ff"
            android:text="text 4"
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"/>
        <TextView
            android:background="#00ffff"
            android:text="text 5"
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"/>
        <TextView
            android:background="#ff3322"
            android:text="text 6"
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"/>
    </LinearLayout>

    <!-- Middle Layout -->
    <LinearLayout
        android:background="#0000ff"
        android:layout_weight="1" 
        android:layout_width="fill_parent"
        android:layout_height="0px"
        android:orientation="vertical" >
    </LinearLayout>

    <!-- Bottom Layout -->
    <LinearLayout
        android:background="#0ff3ff"
        android:layout_weight="1" 
        android:layout_width="fill_parent"
        android:layout_height="0px"
        android:orientation="vertical" >
    </LinearLayout>

</LinearLayout> 
```

您可以编辑`android:background`和`android:text`标签以满足您的目的。

# php - Joomla Jnews 按字母顺序显示前端列表

> ID：11112409
> 
> 赞同：0
> 
> 时间：2012-06-20T03:26:34.197
> 
> 标签：php, joomla-extensions

Jnews展示列表内容：http: [//i204.photobucket.com/albums/bb267/kellyshl/Untitled.png](http://i204.photobucket.com/albums/bb267/kellyshl/Untitled.png)

我想知道如何使它像这样：http: [//i204.photobucket.com/albums/bb267/kellyshl/Untitled-2.png](http://i204.photobucket.com/albums/bb267/kellyshl/Untitled-2.png) （只是希望通过列表名称对其进行排序）

问候，并在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:33:19.267

在 _showSubcriptionList 方法中，

后 {

```
if ( $this->showListName ) {
            if(!$this->linear) 
                if(!$this->dropdown) 
                    $html .= '<ul class="jNewsLists">'; 
```

}

添加语句{

```
usort($this->lists, array("jnews_module", "cmp")); 
```

}

并在类（jnews_module）中添加函数{

```
 function cmp( $a, $b )
{ 

if(  $a->list_name ==  $b->list_name ){ return 0 ; } 

return ($a->list_name < $b->list_name) ? -1 : 1;
} 
```

}

# python - 寻找一个 dict 值，如果它不存在 - 运行另一个模块

> ID：11112411
> 
> 赞同：1
> 
> 时间：2012-06-20T03:27:20.827
> 
> 标签：python

我正在为我的网络构建一个版本控制模块，这就是我目前所拥有的：

```
import os, plistlib
def cyberduck():
    path=('/Applications/Cyberduck.app/Contents/Info.plist')
    pl = plistlib.readPlist(path)
    pl['key']=0
        for key in pl.values():
            if (key=='4.2.1'):
                print("We're good!")
            else:
                print("No good")
                import cyberduck_install 
```

循环将找到版本字符串（'4.2.1'），但也会找到所有非版本字符串。如何对循环进行编码以便如果 ('4.2.1')​​ 存在它将返回 true 并且仅打印 ("We're good!") 并且如果 ('4.2.1')​​ 在任何地方都不存在，它将返回false 并且只打印一次（“不好”）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T03:30:48.963

我错过了什么吗？这就是你想要的：

```
if '4.2.1' in pl.values():
   print ("We're good!")
else:
   print ("No good") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:41:40.987

出于各种充分的理由，happydave 的回答几乎可以肯定是您的最佳选择。但是，纯粹为了完整起见，对问题中代码的这种轻微修改将起作用：

```
for key in pl.values():
    if (key=='4.2.1'):
        print("We're good!")
        break
else:
    print("No good") 
```

这是有效的，因为 Python 循环（`for`和`while`）[允许一个`else:`子句](http://docs.python.org/py3k/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops)，当你从循环的末尾掉下来时触发，但如果你用`break`.

# sql - oracle sql 查询加入具有现有查询的表

> ID：11112416
> 
> 赞同：0
> 
> 时间：2012-06-20T03:27:54.853
> 
> 标签：sql, oracle

我有以下四个具有以下结构的表

**表 A**

```
 ColA1  ColA2  ColA3    ColA4  ColA5
-----------------------------------------
  AA     100      CC     DD       EE 
```

**表 B**

```
 ColB1  ColB2  ColB3    ColB4   ColB5
 -------------------------------------------
 AA      100     40452   A9       CDE 
```

当它们`two tables`像下面这样加入时：

```
 Select colA1,ColA2, ColA3, ColA4, ColB3,ColB4, ColB5
   from table A
        Left outer join 
            (select ColB3, ColB4, ColB5
              from table B
              where colB3 = (select max(colB3) from table B
            )
          on (colA1 = colB1 and ColA2 = col B2); 
```

现在我必须加入下`table C`一个`table B`

**表C**结构是

```
 ColD1   ColD2   ColD3
 --------------------------------  
  Desc1 A9   Executive
  Desc1 A7   Engineer 
```

我有共同的专栏，比如`ColD2 and colB4`得到`Col D3`

我如何加入`existing query + join between`表b和表c？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:20:02.670

*未经测试，但它会像下面给出的*

```
 SELECT colA1,ColA2, ColA3, ColA4, ColB3,ColB4, ColB5,ColD3
   FROM table A
        LEFT OUTER JOIN 
            (SELECT ColB3, ColB4, ColB5
              FROM table B
              WHERE colB3 = (SELECT MAX(colB3) FROM table B
            )
          ON (colA1 = colB1 AND ColA2 = col B2)
        LEFT OUTER JOIN TABLE C
          ON (colB4=colD2); 
```

# php - PHP数组选择mysql

> ID：11112417
> 
> 赞同：0
> 
> 时间：2012-06-20T03:27:55.693
> 
> 标签：php, mysql

我有一个完整的包列表，我希望用户使用复选框进行选择并比较包。用户选择后，我将使用从复选框数组中获取的 packages_id 将所有包数据显示为 .PDF 文件。如何分离数组并注入 mysql 选择？

**$_POST['compare'] 的输出：** [14,15,16]

**mysql查询：**

```
$packages=mysql_query(" 
select * 
from package 
where id in (" . implode(',', $_POST['compare']) . ") 
LIMIT 4"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:36:16.220

这应该适合你

```
mysql_query("
    select *
    from package
    where id in (" . implode(',', $_POST['compare']) . ")
"); 
```

适当注意清理和验证您的输入

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:33:08.203

如果我正确理解您的问题，则您需要有关查询的帮助。

```
if( empty( $_POST['compare'] ) )
     // stop execution because they didn't pick anything    

$packages = mysql_query(   
     " SELECT * FROM package WHERE id = '". 
        implode( "' OR id = '", $_POST['compare'] )
        ."'" ); 
```

看看[http://us3.php.net/implode](http://us3.php.net/implode) 在您对 PDO 进行更改之前，这是编写查询的最佳选择。

您应该知道您根本没有清理您的查询。即使您认为您正在控制复选框的值以及查询的内容，也很容易伪造表单数据。因此，您需要实施安全检查。

一个简单的方法是：

```
foreach( $_POST['compare'] as $compare ){
    $sql[] = sanitize( $compare );   
} 
```

显然你需要一个消毒功能。这些在 SO 上很容易找到。然后您可以在查询中使用 $sql 而不是 $_POST['compare'] 。

# javascript - 如何输出逆序？AJAX 文件 > DIV

> ID：11112418
> 
> 赞同：0
> 
> 时间：2012-06-20T03:27:58.223
> 
> 标签：javascript, html, ajax

目的：逐行输出日志文件的内容，最新的在顶部，最旧的在底部。

代码：

```
<script>

$.get('http://192.168.1.1/test.log, function(data)
        {         var lines = data.split("\n");
                   $.each(lines, function(n, elem)
                       {        $('#output').append('<div>' + elem + '</div>');
                       });
         });

</script> 
```

当前的：

这一切正常并按预期输出到 DIV，但是底线位于 div 的底部，第一行位于顶部。

问题：如何将输出更改为顶部的最后一行和底部的第一行？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:28:45.767

使用`.reverse()`.

```
var lines = data.split("\n").reverse(); 
```

* * *

或者，如果有现有内容，并且新内容应该放在最前面，请使用`.prepend()`而不是`.append()`.

```
$('#output').prepend('<div>' + elem + '</div>'); 
```

# java - 使用 JavaScript 刷新页面一次？

> ID：11112429
> 
> 赞同：-1
> 
> 时间：2012-06-20T03:30:18.623
> 
> 标签：java, javascript

谁能帮我用脚本刷新一次页面。

我已经在使用`window.history.forward(1);`

但它在控制台中给了我一个奇怪的异常。

```
`Error: uncaught exception: [Exception... "prompt aborted by user"  nsresult:
"0x80040111 (NS_ERROR_NOT_AVAILABLE)"  location: "JS frame ::
resource:///components/nsPrompter.js :: openTabPrompt :: line 457"  data: no]` 
```

帮助我使用不同的脚本来刷新页面。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T03:32:59.567

`location.reload(true)`...来吧，谷歌。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T03:32:24.273

你要`window.location.reload()`

# ssh - cygwin 中的 ::1 错误关闭了连接

> ID：11112431
> 
> 赞同：4
> 
> 时间：2012-06-20T03:30:36.717
> 
> 标签：ssh, cygwin, openssh

我正在尝试使用 cygwin 进行 ssh 连接。我已按照[此处](http://v-lad.org/Tutorials/Hadoop/05%20-%20Setup%20SSHD.html)给出的说明进行操作。当我触发`ssh localhost`命令时，我得到`Connection closed by ::1`错误。由于我是 unix 和 cygwin 的新手，我无法弄清楚出了什么问题。请谁能告诉我为什么会出现这个错误以及如何解决它？

我的 cygwin shell 如下所示：

```
$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/Shekhar/.ssh/id_rsa):
/home/Shekhar/.ssh/id_rsa already exists.
Overwrite (y/n)? y
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/Shekhar/.ssh/id_rsa.
Your public key has been saved in /home/Shekhar/.ssh/id_rsa.pub.
The key fingerprint is:
85:69:77:cc:fd:21:8a:ce:fe:46:41:ee:c8:e7:3d:7b Shekhar@Shekhar-PC
The key's randomart image is:
+--[ RSA 2048]----+
|                 |
|         o + .   |
|        + = +... |
|       . o.+. ...|
|        S.o..   .|
|        oo +     |
|         o+ .    |
|        .  o o E |
|         .o. .+  |
+-----------------+

Shekhar@Shekhar-PC ~
$ cd ~/.ssh/

Shekhar@Shekhar-PC ~/.ssh
$ ls -l
total 10
-rw-r--r-- 1 Shekhar None 1200 Jun 16 19:49 authorized_keys
-rw------- 1 Shekhar None 1675 Jun 20 08:55 id_rsa
-rw-r--r-- 1 Shekhar None  400 Jun 20 08:55 id_rsa.pub
-rw-r--r-- 1 Shekhar None  171 Jun  6 23:28 known_hosts

Shekhar@Shekhar-PC ~/.ssh
$ cat id_rsa.pub >> authorized_keys

Shekhar@Shekhar-PC ~/.ssh
$ ssh localhost
Connection closed by ::1 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T00:58:33.100

我遇到了同样的问题。至少对我来说，问题是使用 ssh-host-config 创建 cyg_server 用户。它是在没有主目录的情况下创建的，并且它的 shell 设置为 /bin/false。因此，我更改了 cyg_server 用户的 /etc/passwd 文件以反映 /home/cyg_server（从 /var/empty 更改）和 /bin/false 为 /bin/bash，并为用户创建了主目录。尝试使用 cyg_server 用户重新连接，瞧。

简而言之：

```
mkdir /home/cyg_server
vim /etc/passwd
cyg_server:...(bunch of stuff)...:/var/empty:/bin/false 
```

到

```
cyg_server:...(bunch of stuff)...:/home/cyg_server:/bin/bash 
```

大概 cygwin 有一个 usermod 命令或同义词可以更安全一点。但我很不耐烦，这就是我所做的。如果有人遵循这一点，请注意在编辑 /etc/passwd 文件时要格外小心。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-16T06:53:35.213

以防其他人发现同样的问题。由于您在配置 ssh 时选择了 cyg_server 作为用户名，因此请尝试使用“ssh cyg_server@localhost”命令而不是默认的“ssh localhost”进行连接。密码可以和你配置时提供的一样

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T10:34:02.777

把它放在这里以防以后有人遇到这个问题。我遇到了同样的问题，重新安装 cygwin 解决了它......直到我重新启动。然后我又遇到了同样的错误。我现在第二次解决了这个问题：我没有使用 cygwin 在运行 ssh-host-config 时向我建议的帐户名称“cyg_server”，而是在 Windows 上输入了我的普通管理员帐户的名称。到目前为止似乎正在工作。

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2012-06-21T02:48:33.360

我的问题解决了。我刚刚删除了 cygwin 并重新安装了它，现在它以某种方式正常工作。

# iphone - 警报视图没有响应

> ID：11112432
> 
> 赞同：0
> 
> 时间：2012-06-20T03:30:47.227
> 
> 标签：iphone, ios, xcode

所以我有一个带有按钮的`UIScrollview`with`UIImageView`设置，我希望能够在单击图像`alertView`时弹出一个如果选择 YES 则该图像将在`NSDocumentDirectory`. 我设法使 alertView 出现，但图像没有删除，因为我认为发送错误`sender`或 button.tag。这是我的代码：

//我的滚动视图

```
UIScrollView *scrollView1 = [[UIScrollView alloc] initWithFrame:CGRectMake(0.0f,0.0f,300.0f,134.0f)];
[self.view addSubview:scrollView1];

int row = 0;
int column = 0;
for(int i = 0; i < _thumbs1.count; ++i) {

    UIImage *thumb = [_thumbs1 objectAtIndex:i];
    UIButton * button = [UIButton buttonWithType:UIButtonTypeCustom];
    button.frame = CGRectMake(column*60+10, row*60+10, 60, 60);
    [button setImage:thumb forState:UIControlStateNormal];
    [button addTarget:self 
               action:@selector(buttonClicked:) 
     forControlEvents:UIControlEventTouchUpInside];
    button.tag = i; 

    [scrollView1 addSubview:button];

    if (column == 4) {
        column = 0;
        row++;
    } else {
        column++;
    } 
```

// 按钮

```
- (IBAction)buttonClicked:(id)sender {
    NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];
    NSInteger slotBG = [prefs integerForKey:@"integerKey"];

    if(slotBG == 1){
        UIAlertView *deleteMessage = [[UIAlertView alloc] initWithTitle:@""
                                                              message:@"DELETE？"
                                                             delegate:self
                                                    cancelButtonTitle:@"NO"
                                                    otherButtonTitles:@"YES", nil];
        [deleteMessage show];          
    } 
```

//对于我的警报视图

```
- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
    NSString *title = [alertView buttonTitleAtIndex:buttonIndex];

    if([title isEqualToString:@"YES"]){
        // I KNOW THIS IS SOMEWHAT WRONG BECAUSE OF THE SENDER having errors with it
        UIButton *button = (UIButton *)sender;
        [button removeFromSuperview];
        [_images objectAtIndex:button.tag];
        [_images removeObjectAtIndex:button.tag];
        [_images insertObject:[NSNull null] atIndex:button.tag];
        NSFileManager *fileManager = [NSFileManager defaultManager];
        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDirectory = [paths objectAtIndex:0];
        NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"oneSlotImages%lu.png", button.tag]];
        [fileManager removeItemAtPath: fullPath error:NULL];
        NSLog(@"image removed");
    } 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:07:30.877

在 clickedButtonAtIndex 函数中，您无法从单击的按钮获得任何引用，因为它是来自 UIAlertView 的回调。你能从这个函数中得到什么都与点击的 UIAlertView 本身有关。

如果要删除选中的图片，可以先将点击按钮的指针或标签存储在buttonClicked函数中。

```
- (IBAction)buttonClicked:(id)sender {
    NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];
    NSInteger slotBG = [prefs integerForKey:@"integerKey"];

    if(slotBG == 1){
        //  Get the pointer or tag of the clicked button
        _clickedButton = (UIButton *)sender;
        UIAlertView *deleteMessage = [[UIAlertView alloc] initWithTitle:@""
                                                              message:@"DELETE？"
                                                             delegate:self
                                                    cancelButtonTitle:@"NO"
                                                    otherButtonTitles:@"YES", nil];
        [deleteMessage show];        
    }  
} 
```

然后你可以在 clickedButtonAtIndex 函数中使用这个指针/标签。

```
- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
    NSString *title = [alertView buttonTitleAtIndex:buttonIndex];

    if([title isEqualToString:@"YES"]){
        UIButton *button = _clickedButton;

        [button removeFromSuperview];
        [_images objectAtIndex:button.tag];
        [_images removeObjectAtIndex:button.tag];
        [_images insertObject:[NSNull null] atIndex:button.tag];
        NSFileManager *fileManager = [NSFileManager defaultManager];
        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDirectory = [paths objectAtIndex:0];
        NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"oneSlotImages%lu.png", button.tag]];
        [fileManager removeItemAtPath: fullPath error:NULL];
        NSLog(@"image removed");
    }

    //  Remember to set it to nil when you finish
    _clickedButton = nil;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:08:34.850

```
- (IBAction)buttonClicked:(id)sender {
    NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];
    NSInteger slotBG = [prefs integerForKey:@"integerKey"];

    if(slotBG == 1){
        //  Get the pointer or tag of the clicked button
        _clickedButton = (UIButton *)sender;
        UIAlertView *deleteMessage = [[UIAlertView alloc] initWithTitle:@""
                                                              message:@"DELETE？"
                                                             delegate:self
                                                    cancelButtonTitle:@"NO"
                                                    otherButtonTitles:@"YES", nil];
deleteMessage.tag=1;

        [deleteMessage show];        
    }  
} 
```

///////

```
- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
    NSString *title = [alertView buttonTitleAtIndex:buttonIndex];

   if (alertView.tag==1) {
    if (buttonIndex==1) {
        UIButton *button = _clickedButton;

        [button removeFromSuperview];
        [_images objectAtIndex:button.tag];
        [_images removeObjectAtIndex:button.tag];
        [_images insertObject:[NSNull null] atIndex:button.tag];
        NSFileManager *fileManager = [NSFileManager defaultManager];
        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDirectory = [paths objectAtIndex:0];
        NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"oneSlotImages%lu.png", button.tag]];
        [fileManager removeItemAtPath: fullPath error:NULL];
        NSLog(@"image removed");
    }
}
    //  Remember to set it to nil when you finish
    _clickedButton = nil;
} 
```

# javascript - 如何从 Knockout Observable 中获取所选项目的文本？

> ID：11112435
> 
> 赞同：3
> 
> 时间：2012-06-20T03:31:06.240
> 
> 标签：javascript, knockout.js

我可以看到所有用于获取所选项目的文本值的 Knockout-ish 方式，但前提是它是由其中一个或两个生成的：

1.  无价值属性
2.  或者您为“选项”提供数组

但是，我自己并没有加载选项数组，我只是想观察下拉列表中的选定项目并检查文本表示。不幸的是，在这种情况下，返回的值始终是所选项目的“值”属性。

我必须对 observable 执行以下操作：

```
this.selectedText = $("#myId: option:selected).text(); 
```

我确信有一种方法可以让它与 Knockout 保持一致。

我只想获取未提供选择列表数组且选择列表保留值属性的选定项目的文本值。

```
 <option value="2129">SomeText</option> 
```

**编辑**

为了更具体地理解我为什么要这样做 - 选择项的值是一个 ID - 如果进行了某个选择，我需要能够触发一段代码可见。不幸的是，我无法绑定到选择（值）的 id，因为它可能与开发不同，但文本将始终相同。

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-06-20T03:49:49.023

我认为我们必须绑定到可观察数组以使下拉列表可观察到的文档在淘汰赛中也没有列出其他内容

[http://knockoutjs.com/documentation/options-binding.html](http://knockoutjs.com/documentation/options-binding.html)

# wcf - 在客户端获取服务凭证

> ID：11112441
> 
> 赞同：0
> 
> 时间：2012-06-20T03:31:54.363
> 
> 标签：wcf

我正在尝试使用 ServiceSecurityContext.Current.WindowsIdentity.Name 在客户端获取服务凭据。但是，ServiceSecurityContext.Current 显示为空。

服务和客户端使用 Windows 身份验证、消息安全模式和 wsHttpBinding。非常感谢您的帮助..谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:46:53.407

如果您试图在客户端获取服务器的凭据，那么您可能做错了一些事情。如果您不这样做，则可以使用以下设置

```
BasicHttpBinding basicHttpBinding = new BasicHttpBinding(BasicHttpSecurityMode.TransportCredentialOnly);              
basicHttpBinding.Security.Transport.ClientCredentialType =HttpClientCredentialType.Windows;                
reportService = new ReportingService2005SoapClient(basicHttpBinding, new EndpointAddress(reportServerUrl));
reportService.ClientCredentials.Windows.AllowNtlm = false;
reportService.ClientCredentials.Windows.AllowedImpersonationLevel =          TokenImpersonationLevel.Impersonation;
reportService.ChannelFactory.Credentials.Windows.ClientCredential =
                    CredentialCache.DefaultNetworkCredentials; 
```

**编辑**

[MSDN](http://msdn.microsoft.com/en-us/library/system.servicemodel.servicesecuritycontext.aspx)

> 使用此类在运行时获取有关远程安全上下文的信息。当客户端成功验证并授权访问方法时，将创建安全上下文。当消息成功认证和授权后，可以从该类的实例中获取来自客户端和当前服务实例的安全信息

# java - 如何使用 java 将日文编码文本（Unicode 类型除外）复制到剪贴板？

> ID：11112442
> 
> 赞同：1
> 
> 时间：2012-06-20T03:32:06.353
> 
> 标签：java, encoding, clipboard

因此，我制作了一个程序，它成功地从剪贴板捕获文本并通过 Java 中的 System.out.println 打印出来。然后，我想将修改后的文本复制到剪贴板。这是该代码的片段：

```
 StringSelection ss = new StringSelection(result);                        
                 Toolkit.getDefaultToolkit().getSystemClipboard().setContents(ss, null); 
```

结果是修改后的字符串，当我将结果变量打印到控制台时，它仍然可读。但是，剪贴板上复制的文本似乎与原始文本的编码不同，而是显示不可读的字符。

我能做些什么来克服这个问题吗？任何答案都非常感谢，谢谢:)

编辑：对不起，事实证明，当复制到任何 Windows 程序（如便笺、单词等）时，文本可读性很好。但是当我将它复制到 Atlas Translator 时，它似乎无法读取 Unicode 编码流我怀疑java中的默认编码。

所以，我修改后的问题是：如何转换字符串选择，使其具有日语编码，但不是 Unicode？任何答案都非常感谢，谢谢！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:32:42.147

试试这个程序，会解决你的问题

```
public class UTFDemo {

    public static void main(String s[]) {
        //String message = "Езикова";
        String message = "LiuYan 刘研";
        System.out.println("Original Message : " + message);
        StringSelection ss = new StringSelection(message);
        Clipboard cb = Toolkit.getDefaultToolkit().getSystemClipboard();
        cb.setContents(ss, null);

        String result = getClipboardContents();
        System.out.println("Result : " + result);
    }

    public static String getClipboardContents() {
        String result = "";
        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
        //odd: the Object param of getContents is not currently used
        Transferable contents = clipboard.getContents(null);
        boolean hasTransferableText =
                (contents != null)
                && contents.isDataFlavorSupported(DataFlavor.stringFlavor);
        if (hasTransferableText) {
            try {
                result = (String) contents.getTransferData(DataFlavor.stringFlavor);
            } catch (UnsupportedFlavorException ex) {
                //highly unlikely since we are using a standard DataFlavor
                System.out.println(ex);
                ex.printStackTrace();
            } catch (IOException ex) {
                System.out.println(ex);
                ex.printStackTrace();
            }
        }
        return result;
    } 
```

# php - PHP - MySQL 访问被拒绝错误 - 适用于其他程序

> ID：11112443
> 
> 赞同：1
> 
> 时间：2012-06-20T03:32:08.260
> 
> 标签：php, mysql, linux, lamp

```
Access denied for user 'root '@'localhost' (using password: YES) 
```

是的，这个错误太常见了，我花了很多时间研究它。然而，没有什么能解决问题。

在我正在开发的一个 PHP 脚本中尝试第一次连接时出现此错误。如果它有助于了解，我正在运行 Linux Mint 并安装了[http://community.linuxmint.com/tutorial/view/486](http://community.linuxmint.com/tutorial/view/486)中详细介绍的 LAMP 配置。

问题是，任何其他应用程序都可以连接。以 root 身份登录 PhpMyAdmin 或在控制台上以 root 身份登录 mysql 客户端都可以正常工作。MySQL网站本身说这可能是我的代码有问题，但我还没有弄清楚……我对这些东西有点陌生，所以如果这是一个非常愚蠢的错误，请原谅我。

我在不同的页面上使用外部函数（使用 require_once 导入）。这是一个不好的做法吗？无论如何，这里是：

```
global $sql_conn, $sql_addr, $sql_user, $sql_pass, $sql_datb;

$config=app_readconfig();
echo "<p>".$sql_addr." ".$sql_user." ".$sql_pass." ".$sql_datb."</p>";//DEBUG, shows values are read
if($config==FALSE)
{
    echo "<p>Error: Missing values in darkace_config.txt!</p>";
    return FALSE;
}
$sql_conn=mysql_connect($sql_addr,$sql_user,$sql_pass);
if(!$sql_conn)
{
    echo "<p>MYSQL Error: ".mysql_error()."</p>";
    return FALSE;
}

if(!mysql_select_db($sql_datb,$sql_conn))
{
    echo "<p>MYSQL Error selecting database: ".mysql_error()."</p>";
    return FALSE;
}
return TRUE; 
```

该函数被调用，我返回的消息是：MYSQL Error: Access denied for user 'root'@'localhost' (using password: YES)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:24:49.143

您有“root [SPACE]”作为用户名。在没有空格的情况下尝试“root”？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T03:52:42.267

您的*凭据*有问题。

验证：

*   用户名
*   密码
*   主持人

另外，请停止使用`mysql_*`功能，因为它们[现在已弃用](http://news.php.net/php.internals/53799)。请改用[MySQLi](http://php.net/manual/en/book.mysqli.php)或[PDO](http://php.net/manual/en/book.pdo.php)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T03:58:13.923

你的连接应该是这样的

```
$link = mysql_connect('127.0.0.1:3307', 'mysql_user', 'mysql_password'); 
```

不包括http，在例子中添加端口号，检查用户名和密码。

如果会惹恼您，但每次使用 mysql_* 函数时，您都会得到 PDO 推荐。我也推荐 PDO，PHP 也推荐 PDO，你可以查看[PHP Documentation for mysql_connect](http://php.net/manual/en/function.mysql-connect.php)

# javascript - html5画布fillRect存储在变量中

> ID：11112447
> 
> 赞同：0
> 
> 时间：2012-06-20T03:32:32.570
> 
> 标签：javascript, html5-canvas

我可以存储`fillRect`到变量吗？之后使用变量切出一个矩形`'c'`？除了必须写`fillRect`两次。

```
var c = ctx.fillRect(x, y, width, height); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:04:09.743

不确定内置功能，但作为替代方案，您可以执行以下操作

```
var c = function() {
    ctx.fillRect(x, y, width, height);
} 
```

然后调用它两次：

```
c();
c(); 
```

# ruby-on-rails - 如何为康康指定条件

> ID：11112448
> 
> 赞同：0
> 
> 时间：2012-06-20T03:32:34.107
> 
> 标签：ruby-on-rails, cancan

我正在使用带有 cancan 1.1 的 Rails 2.3.11。
我想添加一个新角色，允许用户在属于某个特定组织的那些“出版物”中创建/编辑“出版物”并创建/编辑“文章”。正如我所提到的，由于我运行的是较旧的 cancan 1.1，我无法尝试文档中的所有新示例。这是我在 Ability.rb 中尝试的一个示例：

```
class Ability
  include CanCan::Ability

  #additional roles require changes be made to config/environment.rb ROLES constant 
  def initialize(user)
    user ||= User.new # Guest user

    # Multirole environment

    if user.role? :admin
      can :manage, :all
      can :archive, Article
      can :review, Article
    end
   #several other roles ...

   #This is not working...I'm specify the organization that I want the super_user to be able to create and edit for

   if user.role? :super_user
     can [:create, :edit], Publication, :organization_id => 21
     can [:create, :edit], Article, :organization_id => 21  
   end 
```

我有以下三个模型：

```
class Organization < ActiveRecord::Base
  #validations here

  has_many :publications, :dependent => :destroy
  has_many :articles, :through => :publications
end

class Publication < ActiveRecord::Base
  #validations here  
  has_many :articles, :dependent => :destroy

end

class Article < ActiveRecord::Base
  #validations here ...

  belongs_to :publication
  validates_associated :publication
  #...

end 
```

感谢您的任何建议。

# mysql - 浮点字段上的 MySQL GROUP BY

> ID：11112456
> 
> 赞同：2
> 
> 时间：2012-06-20T03:33:47.970
> 
> 标签：mysql, group-by, floating-accuracy

我有一个包含以下列的表：

```
ID int, DISTANCE float, EVENT Varchar 
```

我想要实现的是选择所有数据，但按事件和距离字段分组（即删除相同距离的重复事件）。

我可以看到的问题是该`Distance`列是一个浮点数，因此它的`GROUP BY`行为可能不符合预期。大多数（我说大部分）数据存储到小数点后 3 位，这是我想要分组的标准。

示例数据：

ID,距离,事件

```
1, 0.001, A
2, 0.002, A
3, 0.002, A
4, 0.002, B
5, 0.003, C
6, 0.0035,C 
```

所以结果看起来像：

```
1, 0.001, A
2, 0.002, A
4, 0.002, B
5, 0.003, C 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T04:27:59.423

您可以使用`CAST()`将小数转换为字符串，并且仅使用转换后的字符串 ( `"x.xxx"`) 的前 5 个字符，然后您可以使用 进行分组`GROUP BY`：

前任：

```
SELECT
    ID,
    CAST(Distance AS CHAR(5)) AS DistanceGroup,
    Event
FROM 
    yourtbl
GROUP BY
    DistanceGroup,
    Event 
```

**编辑**：您还可以在性能方面实际上可能更好`TRUNCATE()`的字段上使用：`Distance`

```
SELECT
    ID,
    TRUNCATE(Distance, 3) AS DistanceGroup,
    Event
FROM 
    yourtbl
GROUP BY
    DistanceGroup,
    Event 
```

[关于CAST()](http://dev.mysql.com/doc/refman/5.0/en/cast-functions.html#function_cast)和[TRUNCATE()](http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html#function_truncate)的附加信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T03:40:46.930

将浮点数更改为十进制。请参阅[浮点值问题](http://dev.mysql.com/doc/refman/5.0/en/problems-with-float.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-05T18:46:24.793

不要使用`FLOAT`类型。改为使用`DECIMAL`。浮点数将十进制数转换为二进制数，这会导致舍入（精度损失）。Decimal 将数字存储为小数 - 无转换。

如果不允许更新表定义，则在查询中将浮点列强制转换为 DECIMAL。

# php - Mysql 查询问题。授予使用 * . * 给用户

> ID：11112457
> 
> 赞同：0
> 
> 时间：2012-06-20T03:34:06.177
> 
> 标签：php, mysql

```
<?php
$user = substr(md5(rand()),0,16);
$pass = substr(md5(rand()),0,20);
$query = "CREATE USER '{$user}'@'%' IDENTIFIED BY '{$pass}'; 
GRANT USAGE ON * . * TO '{$user}'@'%' IDENTIFIED BY '{$pass}' WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0; 
CREATE DATABASE IF NOT EXISTS `{$user}`; 
GRANT ALL PRIVILEGES ON `{$user}` . * TO '{$user}'@'%';";
mysql_connect("***.****.info", "***", "****") or die(mysql_error());
mysql_query($query) or die(mysql_error());
?> 
```

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'GRANT USAGE ON *.* TO '78eb50407b017587'@'%' IDENTIFIED BY '4fa70f7cc25ccf9dc9dd' 附近使用正确的语法。

任何人都知道这里发生了什么

**更新**我删除了标识，它什么也没做。还有其他建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:42:41.553

[mysql_query()](http://php.net/manual/en/function.mysql-query.php)不支持多查询。逐一进行查询。

```
mysql_connect("***.****.info", "***", "****") or die(mysql_error());
$query1 = "CREATE USER '{$user}'@'%' IDENTIFIED BY '{$pass}';";
$query2 = "GRANT USAGE ON * . * TO '{$user}'@'%' IDENTIFIED BY '{$pass}' WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0;";
$query3 = "CREATE DATABASE IF NOT EXISTS `{$user}`;";
$query4 = "GRANT ALL PRIVILEGES ON `{$user}` . * TO '{$user}'@'%';";
mysql_query($query1) or die(mysql_error());
mysql_query($query2) or die(mysql_error());
mysql_query($query3) or die(mysql_error());
mysql_query($query4) or die(mysql_error()); 
```

但是，鉴于您的查询结构，我建议您进行交易查询。你可以在这里读更多关于它的内容：

*   [PHP + MySQL 事务示例](https://stackoverflow.com/questions/2708237/php-mysql-transactions-examples)
*   [PHP & mySQL：实现事务的简单代码 - 提交 & 回滚](https://stackoverflow.com/questions/2133125/php-mysql-simple-code-to-implement-transaction-commit-rollback)

# jquery - jQuery不会自动执行命令

> ID：11112459
> 
> 赞同：0
> 
> 时间：2012-06-20T03:34:16.453
> 
> 标签：jquery

最奇怪的是......在本地自动滚动，但是一旦我将它上传到我的服务器，它就不会自动滚动。文件完全相同。我什至上传了整个工​​作目录，它不会自动旋转。有任何想法吗？

```
$(document).ready(function() {

    $('#viewport').carousel('#previous', '#next');

    //The auto-scrolling function
    function slide(){
      $('#next').click();
    }
    //Launch the scroll every 2 seconds
    var intervalId = window.setInterval(slide, 6000);

    //On user click deactivate auto-scrolling
    $('#previous, #next').click(
    function(event){
      if(event.originalEvent){
          window.clearInterval(intervalId);
      }
    }
    );

}); 
```

我正在使用插件[http://code.google.com/p/jquery-infinite-carousel/](http://code.google.com/p/jquery-infinite-carousel/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T20:37:24.490

在昨晚整晚试图弄清楚这一点之后，我去了我的托管公司，看看他们是否意识到任何可能抑制自动点击的服务器安全问题。他们的回答解决了这个问题，如下：

“我必须将“$('#next').click();”行更新为“jQuery('#next').click();”，因为显然发生了一些冲突并且 wordpress jquery 正在加载将 noConflict 设置为 true ，这样它将使用 $ 和 jQuery 加载。

它无法在实时站点上的 Wordpress 中运行的原因是与正在加载的另一个 javascript 库一定存在某种冲突，jquery 具有避免这些冲突的内置功能。它被称为 'noConflict' [http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/) 通过调用 wordpress 已经在做的这个函数使它可以在 jquery 的函数调用之前使用 'jQuery' 而不是 '$' 它会避免这些冲突。这是因为其他库也可能使用“$”符号。因此，为了避免未来更新中可能出现的冲突，我们建议使用 'jQuery' 调用而不是 '$'。”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:41:19.447

尝试使用 $(window).load() 而不是 $(document).ready()，因为您的页面在服务器上加载的时间可能比在本地主机上加载的时间更长，并且调用了 $(window).load()页面加载时。

# sql - 这个 SQL Server 查询除法计算有什么问题？

> ID：11112462
> 
> 赞同：3
> 
> 时间：2012-06-20T03:34:33.703
> 
> 标签：sql, sql-server, sql-server-2008

我在 SQL Server 2008 R2 数据库上有这个表结构：

```
 CREATE TABLE FormTest
(   
clientid char(10),
DateSelected date,
A int,
B int,
C int
) 
```

我用以下信息填写表格 FormTest

```
clientid        DateSelected      A       B     C
x1              2006-06-09     65150    4921    1
x2              2006-05-05     155926   69092   1
x3              2006-01-20     95603    156892  1
x4              2006-01-20     30704    164741  1
x4              2006-02-03     65150    174834  1
x5              2006-04-28     59629    4921    1
x6              2006-01-27     30704    162356  1
x7              2006-06-30     65150    4921    1
x8              2006-07-10     65150    4921    1 
```

最后，我运行这个 sql 查询：

```
SELECT clientid, (((a+ b + c) / 3) / 216647 * 10) AS Formula1 
    From FormTest 
```

但后来我得到了这些结果：

```
clientid        Formula1      
x1              0
x2              0
x3              0
x4              0
x4              0
x5              0
x6              0
x7              0
x8              0 
```

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:41:25.233

这是因为你正在做整数除法。您应该使用以下方式将其中一个操作数转换为浮点数或小数（取决于您正在执行的计算的精度和目的）：

```
((CAST((a+ b + c) AS FLOAT) / 3) / 216647 * 10) 
```

或者可能：

```
(((a+ b + c) / 3.0) / 216647.0 * 10) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T03:40:00.040

您正在执行整数运算，因此您的结果将始终向下舍入到最接近的整数。由于您要除以 3，然后除以 216647，根据数字输入，您的结果每次都会向下舍入为 0。如果要获得非整数结果，则需要使用小数（精确）或浮点（近似）数据类型和/或强制转换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T03:42:55.030

```
declare @a int
declare @b int
declare @c int
set @a=65150
set @b=4921
set @c=1

select convert(float,((@a+@b+@c)/ 216647.0 * 10) ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-31T13:01:04.477

整数相除将得到一个整数（余数部分将被忽略）。因此，除法时，请使用小数或浮点数。除了前面给出的浮动解决方案之外，这应该可以工作。用您喜欢的精度替换 (12,2)：

```
SELECT clientid, (((
Cast(a as decimal(12,2)) + 
Cast(b as decimal(12,2)) + 
Cast(c as decimal(12,2)) 
) / 3) / 216647 * 10) AS Formula1 
FROM FormTest 
```

# java - 如何在 Java 中等待按钮按下

> ID：11112464
> 
> 赞同：2
> 
> 时间：2012-06-20T03:34:47.657
> 
> 标签：java, swing, jbutton, wait, notify

我有一个带有一些 JTextField 和一个 JButton 的 JFrame。我希望它表现得像 JOptionPane.showInputDialog()。基本上，我想构造它，然后调用 .start() 或使其可见的东西，然后等待按下按钮，然后返回 JTextField 的内容。我听说 wait()/notify() 可能会这样做，但我不知道这是否合适，如果合适，我可以看到一个如何使用它的简短示例吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T03:59:43.843

在这里尝试使用以下代码示例`JDialog`：

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class DialogExample extends JFrame
{
    private JLabel nameLabel;

    public DialogExample()
    {
        super("Dialog Example");
    }

    private void createAndDisplayGUI()
    {       
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel contentPane = new JPanel();
        nameLabel = new JLabel();
        contentPane.add(nameLabel);

        setContentPane(contentPane);
        setSize(200, 100);
        setLocationByPlatform(true);
        setVisible(true);

        MyDialog dialog = new MyDialog(this, "Credentials : ", true);
        dialog.createAndDisplayGUI();
    }

    public void setName(String name)
    {
        if (name.length() > 0)
            nameLabel.setText(name);
        else
            nameLabel.setText("Empty string received.");
    }

    public static void main(String... args)
    {
        SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
                new DialogExample().createAndDisplayGUI();
            }
        });
    }
}

class MyDialog extends JDialog
{
    private JTextField nameField;
    private JFrame frame;

    public MyDialog(JFrame f
            , String title, boolean isModal)
    {
        super(f, title, isModal);
        frame = f;
    }

    public void createAndDisplayGUI()
    {
        JPanel contentPane = new JPanel();
        contentPane.setLayout(new FlowLayout(FlowLayout.LEFT, 5, 5));
        JLabel nameLabel = new JLabel("Please Enter your Name : ");
        nameField = new JTextField(10);
        JButton submitButton = new JButton("SUBMIT");
        submitButton.addActionListener(new ActionListener()
        {
            public void actionPerformed(ActionEvent ae)
            {
                if (nameField.getDocument().getLength() > 0)
                    frame.setName(nameField.getText());
                else
                    frame.setName("");
                MyDialog.this.dispose();    
            }
        });

        contentPane.add(nameLabel);
        contentPane.add(nameField);
        contentPane.add(submitButton);

        add(contentPane);
        pack();
        setVisible(true);
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T03:55:04.607

JDialog 也是您自定义输入对话框的解决方案，有一个库可以帮助您加快开发速度。它被称为TaskDailog。

更多信息请访问[http://code.google.com/p/oxbow/wiki/TaskDialogIntroduction?tm=6](http://code.google.com/p/oxbow/wiki/TaskDialogIntroduction?tm=6)

# jquery - 滚动到页面加载时

> ID：11112465
> 
> 赞同：10
> 
> 时间：2012-06-20T03:34:56.073
> 
> 标签：jquery, google-chrome, scrollto

我从这个链接（页面末尾）获得了一个 jquery 代码： [如何使用 JavaScript/jQuery 滚动到页面顶部？](https://stackoverflow.com/questions/4210798/how-to-scroll-to-top-of-page-with-javascript-jquery)

> 为什么不在 html 文件的开头使用一些参考元素，比如

```
<div id="top"></div> 
```

> 然后，当页面加载时，只需执行

```
$(document).ready(function(){

    top.location.href = '#top';

}); 
```

> 如果此函数触发后浏览器滚动，您只需执行

```
$(window).load(function(){

    top.location.href = '#top';

}); 
```

现在，一切正常，但不是在谷歌浏览器中！ **我怎样才能为谷歌浏览器修复这个代码？** 以及如何在此代码中添加一些动画？像滚动速度或快，慢等...

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-20T03:49:45.340

如果您使用的是 jQuery，则可以使用`scrollTop`滚动。这是一种方法，但它也可以是动画的。这是文档：[scrollTop 的 jQuery API 文档](http://api.jquery.com/scrollTop)

你可以像这样使用它：

```
$("html,body").scrollTop(0); 
```

或用于动画：

```
$("html,body").animate({scrollTop: 0}, 1000); 
```

您可以在任何事件处理程序中设置它：

```
$(document).ready(function()
{
     $("html,body").animate({scrollTop: 0}, 1000);
} 
```

或者：

```
$(window).load(function()
{
     $("html,body").animate({scrollTop: 0}, 1000);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:50:40.707

（我会推荐 lewiguez 在实践中给出的答案，但仍然不确定为什么您的方法在 google chrome 中不起作用。）

这似乎对我有用，但我不确定窗口负载。尽管单击链接，但我测试了实际的“top.location.href”行。

```
$('#bottomlink').click(function(){
  top.location.href="#top";
  return false;
}); 
```

它位于页面顶部附近。

```
<p id="top">lorem ipsum</p> 
```

这是页面底部的链接。

```
<a id="bottomlink" href="#">Bottom Link</a> 
```

# http - 带有 WGET 的 NodeJS 文件下载器？

> ID：11112466
> 
> 赞同：1
> 
> 时间：2012-06-20T03:35:01.207
> 
> 标签：http, node.js, download, exec, wget

我正在尝试使用 nodejs 的 WGET 方法进行文件下载。我找到了这个：

```
var exec = require('exec');

// Function to download file using wget
var download_file_wget = function(file_url) {

    // extract the file name
    var file_name = url.parse(file_url).pathname.split('/').pop();
    // compose the wget command
    var wget = 'wget -P ' + DOWNLOAD_DIR + ' ' + file_url;
    // excute wget using child_process' exec function

    var child = exec(wget, function(err, stdout, stderr) {
        if (err) throw err;
        else console.log(file_name + ' downloaded to ' + DOWNLOAD_DIR);
    });
}; 
```

但它说：

```
Error: Cannot find module 'exec' 
```

是否`exec`要安装和导入另一个模块..或者我怎样才能使它工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:37:28.897

是的，[`url`](http://nodejs.org/api/url.html)是内置节点模块之一

做就是了

```
var url = require('url'); 
```

在你文件的某个地方。

`exec`是[`child_process`](http://nodejs.org/api/child_process.html)这样做的一部分

```
var exec = require('child_process').exec; 
```

# ruby-on-rails - facebook打开图形爬虫在rails动作中触发json响应

> ID：11112467
> 
> 赞同：9
> 
> 时间：2012-06-20T03:35:11.460
> 
> 标签：ruby-on-rails, ruby-on-rails-3, facebook-graph-api, ruby-on-rails-3.1, facebook-opengraph

出于某种原因，facebook 爬虫在我的 rails 操作中触发了 json 响应。这会导致该操作仅返回对象的 json 表示，而没有正常的 html 标记 + 打开图形标记。我已经用 rails 3.2.6 对此进行了测试。我使用 facebook 打开图形调试器来查看刮板所看到的内容：http: [//developers.facebook.com/tools/debug](http://developers.facebook.com/tools/debug)。

代码非常简单。想象一个对象的简单“显示”动作，例如用户。它以：

```
respond_to do |format|
  format.js { render :json => @this.to_json }
  format.html
end 
```

facebook 爬虫正在触发 format.js，这会导致打开的图形标签不被呈现。任何想法为什么会发生这种情况或如何解决它？谢谢。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-20T13:58:56.310

好的，所以 Facebook 发送了一个接受标头

```
*/* 
```

由于没有请求特定的格式，因此 rails 只是按顺序进入 respond_to 块。如果您首先在 response_to 块中列出您的 js，如下所示，rails 将使用 JSON 响应 Facebook 开放爬虫，这将不起作用：

```
respond_to do |format|
  format.js { render :json => @this.to_json }
  format.html
end 
```

只需切换顺序，默认情况下 rails 会以 HTML 响应：

```
respond_to do |format|
  format.html
  format.js { render :json => @this.to_json }
end 
```

我不确定为什么 Facebook 没有指定他们正在寻找的格式……对我来说似乎很愚蠢。希望这对未来的人有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T07:53:45.010

检查 Facebook 爬虫发送的 HTTP 请求标头——尤其是*Accept*标头。

很可能是它们发送了一个值，让您的应用程序认为它必须发送与正常 HTML 输出不同的东西。

# ios - 将文档存储在不会与应用程序一起删除的位置

> ID：11112470
> 
> 赞同：0
> 
> 时间：2012-06-20T03:36:01.807
> 
> 标签：ios, file-management

通常，与 iOS 应用程序相关的所有文档都存储在一个文档文件夹中，该文件夹附加到相关应用程序。当我们删除应用程序时，该文件夹也会被删除。我想要做的是将与该应用程序相关的所有文档存储在一个共享文件夹中，即使该应用程序从设备中删除，该文件夹也将保持不变。我可以这样做吗？如果可能，我想保护该文件夹，使其无法通过 iTunes 访问。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T03:48:50.077

> 我想要做的是将与该应用程序相关的所有文档存储在一个共享文件夹中，即使该应用程序从设备中删除，该文件夹也将保持不变。我可以这样做吗？

不，至少，您不能在设备上执行此操作。您的应用程序只能访问文件系统的一部分，并且当用户删除应用程序时，该部分会被删除。您可以将数据存储在 iCloud 中，特别是如果您希望用户将您的应用程序安装在其他设备上。

> 如果可能，我想保护该文件夹，使其无法通过 iTunes 访问。

如果您想阻止用户访问数据，最好的办法可能是将数据存储在您自己的服务器上。第二好的是将数据存储在 iCloud 或类似设备中并加密数据，但这可能不那么可靠。（我希望 iCloud 足够可靠，但你对它的控制不如你对自己的服务器的控制那么多。）

# facebook - .me 域与 Facebook OAuth 不兼容

> ID：11112473
> 
> 赞同：2
> 
> 时间：2012-06-20T03:36:33.203
> 
> 标签：facebook, oauth

当我像这样调用 Facebook OAuth 端点时：

```
https://www.facebook.com/dialog/oauth
?client_id=xxxxxxxxxxxxxxxxx
&redirect_uri=http%3A%2F%2Fexample.me
&scope=email%2Cpublish_stream
&state=aa48a8a575a0e308123b7f178047dd87 
```

我什至在获得 FB 对话框之前就收到了服务器错误。

但是，如果我将 更改`redirect_uri`为`example.com`，它可以正常工作（因为我进入 FB 然后得到“不正确的重定向 uri 错误，因为我不拥有 example.com）。

所以，基本上，似乎当我的 redirect_uri 是 时`.me`，我得到了服务器错误。

这是 OAuth / Facebook 的一个已知问题，还是我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:08:43.330

您可以在 .com 域上使用来自您的域的重定向 URL

例如。`example.com/xyz`并尝试将此网址重定向到`.me`您希望将用户重定向到的域上的网址。

或者尝试使用 url shortner 来缩短你的重定向 url，比如`bit.ly`or `goo.gl`（但这可能不会锻炼）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-02T08:49:11.320

*为了不让这个无人回答*

那个时候我一直找不到解决办法。这几乎可以肯定是一个 FB 错误。最近，我不得不再次这样做，并找到一个`.me`可以正常工作的域，所以看来这个错误已经修复了。

# c# - 计算DataGridView中的行数

> ID：11112481
> 
> 赞同：0
> 
> 时间：2012-06-20T03:37:26.403
> 
> 标签：c#, datagridview

我正在使用 DataGridView 并设置：

```
AutoSizeRowsMode = DisplayedCell 
```

&

```
RowDefaultCellStyle: WrapText=True 
```

结果：

![在此处输入图像描述](../Images/f0ad6849f8a28cc9ac901403e07a0130.png)

如何获得具有行数 DataGridView 的订单。例如，在图片中。线= 8。

图片中：

```
Row1 = 2 Line & Row2 = 1 Line & Row3 = 4 Line & Row4 = 1 Line. -----> Line = 8 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:48:35.870

您最好的选择是[`MeasureString()`](http://msdn.microsoft.com/en-us/library/system.drawing.graphics.measurestring.aspx)根据当前字体和单元格宽度使用。这是执行您想要的代码：

```
private int CountLines(DataGridView dataGridView)
{
    int totalLineCount = 0;
    using (Graphics graphics = Graphics.FromHwnd(this.Handle))
    {
        SizeF baselineSize = graphics.MeasureString("test line", dataGridView.Font);
        foreach (DataGridViewRow row in dataGridView.Rows)
        {
            int cellLineCount = 0;

            foreach (DataGridViewCell cell in row.Cells)
            {
                if (cell.Value == null)
                {
                    continue;
                }

                string value = cell.Value.ToString();
                SizeF size = graphics.MeasureString(value, dataGridView.Font, cell.Size.Width);
                int lines = (int)Math.Round(size.Height / baselineSize.Height);
                cellLineCount = Math.Max(cellLineCount, lines);
            }

            totalLineCount += cellLineCount;
        }
    }

    return totalLineCount;
} 
```

# apache - 如何确定 apache 使用大量 CPU 的原因

> ID：11112484
> 
> 赞同：0
> 
> 时间：2012-06-20T03:37:38.247
> 
> 标签：apache

出于某种原因，apache 正在使用大量的 cpu 和内存，但我不知道为什么。我怎样才能确定为什么会这样？

我尝试检查错误日志。

我使用 top 命令来确定 cpu 使用率，而 apache 正在使用 100% cpu。不知道为什么。

我们正在使用 PHP/Mysql 在 Linux 上运行 Apache。Mysql 在单独的服务器上-该服务器上的 cpu/memory 很好。

# ajax - JQuery/Ajax - 在使用 .replaceWith 或 .html 调用数据库后在页面中加载新数据？

> ID：11112487
> 
> 赞同：1
> 
> 时间：2012-06-20T03:38:19.913
> 
> 标签：ajax, jquery, jquery-effects

我很好奇如何让我的 AJAX/JQuery 用新的数据库信息更新页面。

对现有问题的研究表明，这些帖子可能会有所帮助：

[jQuery AJAX 调用数据库工作，但不是按顺序](https://stackoverflow.com/questions/10442506/jquery-ajax-calls-to-database-work-but-not-in-order)

[jQuery AJAX 使用淡入 + 替换](https://stackoverflow.com/questions/6323868/jquery-ajax-using-fadein-replacewith)

根据这些建议，我创建了一个 PHP 函数来处理使用 AJAX 发送的数据。在*Success*上，我淡出旧的 HTML，并用新的 HTML 替换。

问题是第一次单击 DOM 元素时不会显示来自数据库的新数据，但在第二次单击时会显示。我在第二次点击时也得到了不需要的页面刷新。

您可以在以下位置看到一个现场示例（用于我的婚礼网站）： [http ://bucketlingerwedding.com/80s-music-reception/](http://bucketlingerwedding.com/80s-music-reception/)

如果您尝试投票，它第一次不起作用，第二次起作用（页面重新加载除外）。

我担心的另一个问题是我不知道是否应该将 cache: 设置为 'false' 或简单地省略。部分问题可能是我使用 replaceWith 加载的新 HTML（我也尝试过 .html()）对于每个表行具有相同的类和 ID。我很好奇，如果我尝试替换单行而不是整个表，并给它一个新的 ID 和类名，JQUERY/AJAX 会用数据库中的新信息淡入该新行吗？

这是我用于 AJAX 的代码（部分基于上面的帖子）：

```
$(document).ready(function(){
//JQuery for the submission of a new list item.
    $('input.[class$="-arrow"]').click(function(e){
        e.preventDefault(); //put e in function.
        var ajaxurl = '<?php echo the_permalink(); ?>';
        if ($(this).hasClass('up-arrow')) {
            var arrowdirection = 'up';
            var entry = $(this).val();
        }
        else if ($(this).hasClass('down-arrow')) {
            var arrowdirection = 'down';
            var entry = $(this).val();
        }
        var rowid = '.line-items-rows' + '#' + entry;
        var data = {
            action: 'cb_lud_arrow_action',
            arrow: arrowdirection,
            entryID: entry
        };
        $.ajax ({
            cache: false,
            type: 'POST',
            url: ajaxurl,
            data: data,
            success: function(data){
                newtable = '<?php 
                $cb_table_code = plugins_url("list-up-down/table-up-down.php", _FILE_);
                include_once "table-up-down.php";
                echo $cb_lud_new_output;
                ?>';
                $('#cb_lud_table').fadeOut('fast', function(){
                    $(this).replaceWith(newtable).hide();
                    newtable.fadeIn('fast');
                });
                }
        });
});
}); 
```

注意：我已经确认使用 AJAX 发布的数据确实更新了数据库表，因此 .php 文件和 ajax POST 方法至少可以正常工作。

我基本上需要的是事件的年表：

1.  用户投票（点击）表格中的一行。
2.  数据被发送到 MySQL 数据库，在正确的列中添加投票。
3.  成功后，函数会从数据库中确定新值并生成新的 html。
4.  旧数据淡出，新数据淡入。
5.  大家都开心。

如果这更像是一个 JQuery 解决方案（比如将效果按正确的顺序排列，或者使用 .delay() 函数），或者更像是一个 AJAX 解决方案，我在其中设置回调函数，这对我来说并不重要数据的成功发布，或者与缓存有关的事情。只是想让它工作。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:03:49.233

使用浏览器控制台查看抛出的错误。`newtable`只是一个字符串，因此您不能将其用作 jQuery 对象来调用 jQuery 方法。这会在控制台中引发错误，并使您的代码很容易归零。

查看以下输出的源视图：

```
 newtable = '<?php 
            $cb_table_code = plugins_url("list-up-down/table-up-down.php", _FILE_);
            include_once "table-up-down.php";
            echo $cb_lud_new_output;
            ?>'; 
```

您可能不需要任何在 html 字符串中完全重建表格的字符串，但由于整个页面也在 html 中返回，所以它是完全重复的，您可以简单地获取 html 版本本身并删除上面的内容完全地。

改成：

```
 success: function(data){
           /* convert whole page returned to jquery and get inner html of the table*/
            var newRows=$(data).find('#cb_lud_table').html() 
            $('#cb_lud_table').fadeOut('fast', function(){
                 /* insert new rows*/
                $(this).html(newRows).fadeIn('fast');

            });
            } 
```

一旦你开始工作，你可能还需要重新审视你的点击处理程序是如何附加的（我没有看过）。删除旧的 html 也会删除任何附加的事件。使用`on()`委托给表，现在将成为永久资产，将补偿更改 html

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:03:22.117

您已在变量上使用了 fadeIn 函数。所以它会抛出一个错误 newtable.fadeIn is not a function.You can't use the fadeIn function on the variable. 将 id 或类名提供给 fad​​eIn 函数。

# javascript - 如何在首次站点访问时制作 Javascript 弹出框？

> ID：11112495
> 
> 赞同：0
> 
> 时间：2012-06-20T03:39:43.737
> 
> 标签：javascript, popup

我试图在谷歌上搜索这个，但我不知道它实际上叫什么。它基本上是一个框，在您第一次访问网站时（使用 cookie）淡出屏幕，右上角有一个 X 允许用户关闭它。谁能告诉我这实际上叫什么，或者告诉我怎么做？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:24:55.183

使用 JavaScript，您需要一些函数来获取和设置 cookie。

获取 Cookie 信息

`function getCookie(c_name) { var i,x,y,ARRcookies=document.cookie.split(";"); for (i=0;i<ARRcookies.length;i++) { x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("=")); y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1); x=x.replace(/^\s+|\s+$/g,""); if (x==c_name) { return unescape(y); } } }`

设置 Cookie 信息

`function setCookie(c_name,value,exdays) { var exdate=new Date(); exdate.setDate(exdate.getDate() + exdays); var c_value=escape(value) + ((exdays==null) ? "" : "; expires="+exdate.toUTCString()); document.cookie=c_name + "=" + c_value; }`

现在检查 cookie 并显示弹出框

`function checkCookie() { var popup=getCookie("popup"); if (popup==null && popup=="") { document.getElementById("popupDivID").style.display="block"; }`

HTML 部分

`<div id="popupDivID" style="display:none;position:absolute;top:20%;left:15%;background-color:#fff;width:500px;height:300px;">POPUP Content and Close Icon</div>`

您必须在 body onload 上调用 checkCookie() 函数。如果您需要 jQuery 解决方案，请遵循 @Jayantha 的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:44:35.213

您可以使用 jquery 检查 cookie 的存在并设置一个 cookie（如果它不存在）。

```
 if( $.cookie("visited")!='visited'){
       $.cookie("visited", "visited"); 
       $('#dialogDivId').dialog();
  } 
```

如果

```
<div id="dialogDivId">

It's your first visit...
</div> 
```

# javascript - 带有年、月、日的javascript倒计时

> ID：11112497
> 
> 赞同：2
> 
> 时间：2012-06-20T03:40:44.363
> 
> 标签：javascript, countdown

我正在尝试使用 javascript 进行倒计时。但是，我的倒计时只能计算天、小时、分钟和秒。我还想显示年份和月份。

以下是我的代码：

```
<script type="text/javascript">

        today = new Date();

        BigDay = new Date("December 25, 2016");
        msPerDay = 24 * 60 * 60 * 1000;
        timeLeft = (BigDay.getTime() - today.getTime());
        e_daysLeft = timeLeft / msPerDay;
        daysLeft = Math.floor(e_daysLeft);
        e_hrsLeft = (e_daysLeft - daysLeft) * 24;
        hrsLeft = Math.floor(e_hrsLeft);
        minsLeft = Math.floor((e_hrsLeft - hrsLeft) * 60);
        // $("#countdown").append("There are only<BR> <H4>" + daysLeft + " days " + hrsLeft + " hours and " + minsLeft + " minutes left </H4> Until December 25th 2020<P>");
        document.write(daysLeft + " days " + hrsLeft + " hours" + minsLeft + " minutes");

</script> 
```

我想输出：

> *x*年，*y*个月，*z*还剩多少天。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:53:38.037

你在正确的轨道上。如果天数超过 365，只需按照相同的方法将天数除以 365，然后对 daysLeft 取模 365。

（虽然它不会精确，但它是一个简单的，如果你不需要精确的单位，你可以使用它。）

IE

```
var today = new Date();

var BigDay = new Date("December 25, 2018");
var msPerDay = 24 * 60 * 60 * 1000;
var timeLeft = (BigDay.getTime() - today.getTime());
var e_daysLeft = timeLeft / msPerDay;
var daysLeft = Math.floor(e_daysLeft);
var yearsLeft = 0;
if (daysLeft > 365) {
  yearsLeft = Math.floor(daysLeft / 365);
  daysLeft = daysLeft % 365;
}
var e_hrsLeft = (e_daysLeft - daysLeft) * 24;
var hrsLeft = Math.floor(e_hrsLeft);
var minsLeft = Math.floor((e_hrsLeft - hrsLeft) * 60);
document.write(yearsLeft + " years " + daysLeft + " days " + hrsLeft + " hours " + minsLeft + " minutes");
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T14:42:45.290

月份实际上包含不同的天数。有些是 30 天，有些是 31 天。二月更糟，包含 28 天，每 4 年（闰年）增加一天。显示“年”的数量将不那么繁琐，但仍有闰年需要处理。

所以没有任何简单的方法可以准确地计算它们。

有关演示计算年、月和周的代码，请查看此页面：
[http ://blog.refoua.me/post/day-counter/?lang=en](http://blog.refoua.me/post/day-counter/?lang=en)

虽然它不是一个简单的方法，但它可以尽可能精确地工作和计算单位。

# youtube - 以编程方式检查 youtube 视频链接是否有效？

> ID：11112501
> 
> 赞同：0
> 
> 时间：2012-06-20T03:40:49.367
> 
> 标签：youtube, youtube-api

> **可能重复：**
> [以编程方式确定 Youtube 视频是否已被删除](https://stackoverflow.com/questions/1591293/programmatically-determine-whether-a-youtube-video-has-been-taken-down)

我想检查指向 Youtube 视频（或 Youtube id）的链接列表，看看它们是否还活着。例如，我有一个要发送到 Youtube 的链接列表，并检查每个链接是否有响应，表明链接是否指向视频。我可以检查一个链接是否存在，但我想用一个脚本来做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T03:57:35.597

如果您使用 PHP 来执行此操作，请尝试使用`curl`with`curl_multi_init`

初始化卷曲。`(curl_init, or curl_multi_init)`

发送多个请求`(in multiple curl_exec calls if needed, or curl_multi_exec)`

关闭卷曲。`(curl_close or curl_multi_close)`

所以是的，一次会议

# dart - _internal 的语义是什么？

> ID：11112506
> 
> 赞同：46
> 
> 时间：2012-06-20T03:41:26.743
> 
> 标签：dart

我不断在以下示例中看到对 _internal 的引用：

```
class Symbol {
    final String name;
    static Map<String, Symbol> _cache;

    factory Symbol(String name) {
        if (_cache == null) {
        _cache = {};
     }

     if (_cache.containsKey(name)) {
        return _cache[name];
     } else {
        final symbol = new Symbol._internal(name);
        _cache[name] = symbol;
        return symbol;
      }
    }

  Symbol._internal(this.name);
} 
```

我从代码中收集到它是一个私有可访问的构造函数。最后一行`Symbol._internal(this.name);`似乎有点令人困惑，因为它似乎是类主体中的语句，而不是方法主体中的语句，这让我相信它实际上是没有方法主体的内部构造函数定义。

我的假设正确吗？

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2012-06-20T03:55:46.273

**_internal**构造只是通常给类私有的构造函数的名称（名称不需要是._internal **，您可以使用任何****Class._someName**构造创建私有构造函数）。

例如，以下代码仅允许您使用缓存构造函数从类外部创建新人员：

```
class Person {

    final String name;
    static Map<String,Person> _cache;

    factory Person(String name) {
        if(_cache === null) {
            _cache = new Map<String,Person>();
         }
         if(_cache[name] === null]) {
            _cache[name] = new Person._internal(name); 
         }
         return _cache[name];
    }

    Person._internal(this.name);
} 
```

通常，Dart 将任何**_construction**视为类或包含它的库的私有。例如，您可以定义为这样的全局函数：

```
_globalToThisLibaryOnly() {
    print("can only be called globally within this #library");
} 
```

可以从定义它的库中的任何文件调用它。

# python - 如何使用python上传包含图像的表单？

> ID：11112508
> 
> 赞同：4
> 
> 时间：2012-06-20T03:41:30.620
> 
> 标签：python, http, post

我很难做到这一点...

[您可能希望获得与http://i.joyton.com:2010](http://i.joyton.com:2010) 使用此图像相同的结果。![在此处输入图像描述](../Images/5e31ad31451ffff8d2a3c02a1adb028a.png), 其他参数保持默认。

```
def search_img(item, image_name):
try:
    f = open(image_name, 'rb')
    img = f.read()
    print type(img)
except IOError, e:
    print 'fail to open %s' % image_name
    print e
    return None

ts = str(time.time())

m = md5.new('testsearch_by_image' + item)
m.update(ts)
m.update('0123456789')
sign = m.hexdigest()

params = urllib.urlencode( {
    'item': item,
    'app_key': 'test',
    'cmd':'search_by_image',
    'sign':sign,
    'img_file':img,
    'extra':'',
    'time_stamp':ts,
    })

headers = {'Content-type': 'application/x-www-form-urlencode',
           'Accept': 'text/plain'}

conn = httplib.HTTPConnection('i.joyton.com', 2010)
conn.request('POST', '', params, headers)
response = conn.getresponse()

print response.status, response.reason
print response.read()
conn.close()
return response.read()

if __name__ == '__main__':
    search_img('book', 'f:\\book_001.jpg') 
```

在浏览器中一切正常，但我的脚本没有。有时脚本会返回正确的结果；有时它会得到其他书籍，有时它什么也得不到。当它获得其他书籍时，这些书籍通常会被其他人最近搜索。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T07:39:40.570

这是您修改后的代码以执行`multipart/form-data`. 虽然这不起作用，但当我在我的电脑上针对您的 URL 进行测试时，它可能需要一些黑客攻击（可能是标志不正确或其他什么）才能让它工作。

```
import mimetypes
import string
import random
import time
import md5
import httplib

def upload(fields,files):
    boundaryChars = list(string.lowercase) + list(string.uppercase) + \
                    [str(x) for x in range(10)] + ['_'*10]
    random.shuffle(boundaryChars)    

    boundary = '----------RaNdOm_crAPP'+''.join(boundaryChars[:20])
    CRLF = '\r\n'
    elem = []
    for key in fields:
        elem.append('--' + boundary)
        elem.append('Content-Disposition: form-data; name="%s"' % key)
        elem.append('')
        elem.append(fields[key])
    for (key, filename,value) in files:
        elem.append('--' + boundary)
        elem.append('Content-Disposition: form-data; name="%s"; filename="%s"' % (key, filename))
        elem.append('Content-Type: %s' % mimetypes.guess_type(filename)[0] or \
                        'application/octet-stream')
        elem.append('')
        elem.append(value)
    elem.append('--' + boundary + '--')
    elem.append('')
    body = CRLF.join(elem)
    content_type = 'multipart/form-data; boundary=%s' % boundary
    return content_type, body

def search_img(item, image_name):
    try:
        f = open(image_name, 'rb')
        img = f.read()
    except IOError, e:
        print 'fail to open %s' % image_name
        print e
        return None

    ts = str(time.time())

    m = md5.new('testsearch_by_image' + item)
    m.update(ts)
    m.update('0123456789')
    sign = m.hexdigest()

    #params = urllib.urlencode( )

    contentType,body = upload({
        'item': item,
        'app_key': 'test',
        'cmd':'search_by_image',
        'sign':sign,
        #'img_file':img,
        'extra':'',
        'time_stamp':ts,
        },
        [('img_file', image_name, img)]
    )
    headers = {
        'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
        'Content-type': contentType,
        'User-Agent':'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5',
        'Host':'i.joyton.com:2010',
        'Origin':'http://i.joyton.com:2010',
        'Referer':'http://i.joyton.com:2010/'
    }
    #print c
    #print body

    conn = httplib.HTTPConnection('i.joyton.com', 2010)
    conn.request('POST', '/', body, headers)
    response = conn.getresponse()

    print response.status, response.reason
    print response.read()
    conn.close()
    return response.read()

if __name__ == '__main__':
    search_img('book', 'iMgXS.jpg') #the same image. 
```

# css - CSS Font-face 不适用于 IE8，但适用于 IE9

> ID：11112511
> 
> 赞同：2
> 
> 时间：2012-06-20T03:41:42.470
> 
> 标签：css, font-face

我有一种字体在 IE8 和 IE9 以及所有其他浏览器中都可以正常工作，但第二种字体只能在 IE9 和其他浏览器中使用。在 IE8 中，我收到错误：

“CSS3111：@font-face 遇到未知错误。”

我一直在阅读并尝试了很多没有运气的事情。

我的代码是：

```
<!DOCTYPE html>
<html lang="en">
<head>
<title>Test Site</title>
<meta charset="utf-8" />
<style type="text/css"> 
    @font-face {
        font-family: "Cake";
        src: url('cake.eot'); /* IE9 Compat Modes */ 
        src: url('cake.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */ 
             url('cake.woff') format('woff'), /* Modern Browsers */ 
             url('cake.ttf')  format('truetype'), /* Safari, Android, iOS */ 
             url('cake.svg#svgCake') format('svg'); /* Legacy iOS */ 
    }
    p {
        font-family: "Cake";
    }
</style>
</head>
<body>
    <p>Testing font</p>
</body>
</html> 
```

我曾尝试使用几个不同的生成器多次重新生成eot，使用CSS，使用标题，使用域等，但看起来它们都很好。如前所述，相同的代码，只是指向不同的字体文件工作正常。由于某种原因，这个文件不想工作。我查看了 ttfpatch 程序，但它告诉我字体的 tableversion 为 3，与其他工作字体相同。这些字体由一个名为 Type Light 3.2 的程序修改，添加了一些法语字符，但正如前面提到的，它适用于所有其他浏览器。

任何帮助，将不胜感激。谢谢。

编辑：

我意识到的一件事是 IE9 没有读取 EOT 文件，它给出了同样的错误，只是使用 WOFF 文件。[您可以在http://www.searchfreefonts.com/free/cake.htm](http://www.searchfreefonts.com/free/cake.htm)下载原始字体。任何人都可以在 IE8 中使用它吗？

编辑2：

查看开发人员工具，eot 字体似乎正在下载并且是正确的类型。我得到一个 304 响应代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T18:34:29.073

找不到解决方案。在不同的计算机上多次重新下载和重新生成字体，每次查看都清除缓存，但仍然无效。其他字体工作正常，所以我的结论是 eot 生成器不喜欢这种字体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:43:26.790

尝试使用[字体](http://www.fontsquirrel.com/fontface/generator)生成器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-06T14:58:16.513

试试这个解决方案[http://fontface.codeandmore.com/blog/ie-7-8-error-with-eot-css3111/](http://fontface.codeandmore.com/blog/ie-7-8-error-with-eot-css3111/)因为它为我们的用户工作了很多次。

# python - Django Session 在开发服务器中的生命周期

> ID：11112515
> 
> 赞同：2
> 
> 时间：2012-06-20T03:42:29.460
> 
> 标签：python, django, web-applications

我现在在我的 web 应用程序中搞乱 Session，我注意到每当我重新启动开发服务器（Django 附带的内置服务器）时，会话不会自行重置。即使我一遍又一遍地重新启动服务器，它仍然存在。

我在哪里可以设置它，以便每当我重置/重新启动开发服务器时，会话都会被刷新/清除？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T03:59:21.940

更改运行服务器文件

```
DJANGO_SETTINGS_MODULE="myproj.settings" \
  python -c 'from django.contrib.sessions.models import Session; \
    Session.objects.all().delete()' 
python manage.py runserver 
```

在这里查看 Django 片段：清除会话表 -> [http://djangosnippets.org/snippets/48/](http://djangosnippets.org/snippets/48/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-12T20:06:23.420

另一种解决方案是使用非持久会话后端。例如，

```
SESSION_ENGINE = 'django.contrib.sessions.backends.cache' 
```

假设：Django 1.0-1.5，使用默认缓存后端 (LocMem)

使用 signed_cookies 后端并清除浏览器的 cookie*也可以*，但我还没有尝试过。

## 为什么？

Django 默认使用数据库作为会话后端

> [会话引擎](https://docs.djangoproject.com/en/1.5/ref/settings/#session-engine)
> 
> 默认值：django.contrib.sessions.backends.db

因此，当重新加载开发服务器时，旧会话会从数据库中恢复。这也适用于文件和 cached_db 后端。

# iphone - GLKBaseEffect prepareToDraw 正在泄漏

> ID：11112517
> 
> 赞同：2
> 
> 时间：2012-06-20T03:42:47.620
> 
> 标签：iphone, ios, glkit

似乎每个人都同意这是坏的，你需要摆脱 GLKBaseEffect 以阻止它泄漏。但是没有人提到你会用什么来代替它。

有人可以指出我正确的方向吗？一些示例代码或教程将非常有用！

我正在做非常基本的事情，只是绘制 2D 精灵。除了所有泄漏之外，效果很好：p

我只需要知道 prepareToDraw 正在做什么，并用一些有效的代码替换它。我发现的所有教程似乎都专注于 3D 渲染......

我可以使用 OpenGL ES1 而不是 2 吗？

```
//---Sprite drawing code ----------------------

effect.transform.modelviewMatrix = viewMatrix;

effect.texture2d0.name = textureInfo.name;
effect.texture2d0.envMode = GLKTextureEnvModeReplace;

// LEAK Here
[effect prepareToDraw];

glEnable(GL_BLEND);
glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);

glEnableVertexAttribArray(GLKVertexAttribPosition);
glVertexAttribPointer(GLKVertexAttribPosition, 2, GL_FLOAT, GL_FALSE, 0, vertices);

glEnableVertexAttribArray(GLKVertexAttribTexCoord0);
glVertexAttribPointer(GLKVertexAttribTexCoord0, 2, GL_FLOAT, GL_FALSE, 0, textureVerts);

glDrawArrays(GL_TRIANGLE_FAN, 0, 4);

glDisableVertexAttribArray(GLKVertexAttribPosition);
glDisableVertexAttribArray(GLKVertexAttribTexCoord0);

glDisable(GL_BLEND); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T04:37:57.993

所以......最后我做了其他人必须做的事情并编写了我自己的 GLKBaseEffect 版本。

这很繁琐，但并不难，大约花了一天时间。那里有教程，但没有一个提供我所需要的。最后，我使用 OGL 默认项目作为我的起点，因为它为我提供了框架 - 编译和运行着色器以及所有这些，即使它没有做我想要的。

这是我所做的要点。花了很多迭代才开始工作......

1.  从默认 OGL 项目中删除所有 GLKBaseEffect（一个立方体使用 GLKBaseEffect 绘制，而另一个使用着色器绘制）
2.  将投影矩阵更改为 GLKMatrix4MakeOrtho。
3.  将顶点从立方体更改为二维。让它工作。
4.  添加纹理。
5.  让一切正常工作。
6.  将所有 OGL 代码移动到 OpenGLHelper 类中。
7.  将代码移动到我的项目中并用我的新类替换所有 GLKEffects

最终结果可能不是最好的代码，但它可以工作，并且不再有泄漏。

这是我的着色器

```
// FRAGMENT SHADER //////////////

precision mediump float;
varying lowp vec2 texCoordOut; 
uniform sampler2D textureUniform; 
uniform float     alphaUniform;
uniform lowp vec4 colorUniform;

void main()
{
    vec4 color  = colorUniform * texture2D(textureUniform, texCoordOut); ;
    gl_FragColor = color; 
}

// VERTEX SHADER ////////////////////

attribute vec4 position;
uniform mat4 projection;
uniform mat4 modelView;

attribute vec2 texCoordIn; 
varying vec2 texCoordOut; 

void main()
{
    gl_Position = projection * modelView * position;
    texCoordOut = texCoordIn; 
} 
```

我很乐意分享其余的代码，但这里还有很多东西要放！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T15:33:38.850

与您的问题没有直接关系，但我遇到了一些类似的问题。困难的部分是找出泄漏的内容：

您似乎正在使用纹理。你必须打电话`glDeleteTextures`，否则你的每次更新`textureInfo`都会泄露。

另请参阅此相关帖子：[释放纹理（GLKTextureInfo objects）由 GLKTextureLoader 分配](https://stackoverflow.com/q/8720221/1546259)

# c# - 寻找有关使用高级套接字选项的描述和指导

> ID：11112518
> 
> 赞同：3
> 
> 时间：2012-01-06T15:32:46.940
> 
> 标签：c#, sockets

我正在重构一些旧的 Socket 例程，我正在努力理解一些更高级的 Socket 选项（*特别是`System.Net.Sockets.SocketOptionName`*）以及删除/添加它们的含义。

***例如**... DontRoute、OutOfBandInline、SendLowWater/ReceiveLowWater、DontFragment、BlockSource、NoDelay、NoChecksum 等...*

完整列表可在[http://msdn.microsoft.com/en-us/library/system.net.sockets.socketoptionname.aspx找到](http://msdn.microsoft.com/en-us/library/system.net.sockets.socketoptionname.aspx)

任何人都可以推荐一个可以让我获得有关套接字选项的更详细指导/描述的来源吗？尽管我的重点与套接字的整体性能有关，但我也有兴趣获得一些关于不同情况下各种选项的适当性的背景信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T17:00:18.520

高级套接字 API 在 MSDN 的 .NET 端没有很好地记录。您必须查看非托管方面。

幸运的是，低级`Socket`类及其关联的枚举几乎是到非托管函数/值的 1:1 映射。例如，[这里列出了`setsockopt`values](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740525%28v=vs.85%29.aspx)的含义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:35:02.587

我在 Windows 系统和 VxWorks 之间实现了套接字。我相信我用它作为[CodeProject 的 @Code](http://www.codeproject.com/Articles/17031/A-Network-Sniffer-in-C)的开始。CodeProject 站点有遗留代码的历史。

我刚刚发现 Wikipedia 上有关于 TCP/IP 套接字的完整示例代码并附有解释！它在[BSD 套接字上](http://en.wikipedia.org/wiki/Berkeley_sockets)

# windows-phone-7 - Guide.BeginShowMessageBox 参数异常

> ID：11112521
> 
> 赞同：0
> 
> 时间：2012-06-20T03:43:03.997
> 
> 标签：windows-phone-7, xna

我正在尝试编写用户名选择器。所做的是创建一个包含所有用户名（只是字符串）的 LinkedList，然后为 New User 和 Cancel 添加另外两个字符串。问题是当我尝试添加额外的两个字符串时 Guide.BeginShowMessageBox(...) 开始抛出参数异常。

查看我的列表的实际布局表明它最后有一个空条目。他们有什么办法摆脱这种情况吗？我也尝试过使用 List 并遇到同样的问题。

这是我当前的代码：

请注意，MogadeController.Mogade.GetUserNames() 获取所有以前使用的用户名。

```
LinkedList<string> names = new LinkedList<string>();
ICollection<string> col = MogadeController.Mogade.GetUserNames();
foreach (string s in col)
   names.AddLast(s);
names.AddLast("New Username");
names.AddLast("Cancel");
IAsyncResult fres = Guide.BeginShowMessageBox("Select New User", "Select a username to use or select New Username to create a new user", names, 0, MessageBoxIcon.None, null, null); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:39:54.727

[阅读文档](http://msdn.microsoft.com/en-us/library/dd940233.aspx)。

> **Windows Phone 上的最大按钮数为两个**，Xbox 360 或 Windows 上的最大按钮数为三个。

如果您想为用户提供两个以上的选项，则必须创建自己的 UI。

# python - 您如何使用 Google App Engine 的 Python 邮件服务找到请求的 URL？

> ID：11112523
> 
> 赞同：0
> 
> 时间：2012-06-20T03:43:15.013
> 
> 标签：python, google-app-engine, wsgi

我的 Google App Engine 应用程序想要存储各种传入的电子邮件，包括电子邮件的收件人。我试图弄清楚如何查看电子邮件发布到的 URL，以便找到预期的收件人。

app.yaml 有：

```
inbound_services:
- mail
handlers:
- url: /_ah/mail/.+ 
  script: handle_incoming_email.py 
  login: admin 
```

Python 脚本具有：

```
class Message(db.Model):
    recipient = db.stringProperty()
    subject = db.stringProperty()
    # etc.

class MyMailHandler(InboundMailHandler):
    def receive(self, mail_message):
        msg = Message(subject=mail_message.subject, recipient=???)
        msg.put()

application = webapp.WSGIApplication([MyMailHandler.mapping()], debug=True) 
```

因此，如果向 john@myapp.appspot.com 发送电子邮件，收件人将是 john@myapp.appspot.com。如果电子邮件发送到 jane@myapp.appspot.com，收件人将是 jane@myapp.appspot.com 等。

我知道我可以筛选 mail_message.to 字段，但我更愿意查看实际传入的 URL。似乎它应该是直截了当的，但我无法弄清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:27:26.513

地址在handler URL 中，你可以查看self.request.path 来检索它，但确实应该使用mail_message 获取这个值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-21T17:45:13.073

OK，去源码搞清楚receive()和mapping()是干什么的。我最终以这种方式做了我想做的事：

```
class MyEmailHandler(InboundMailHandler):
    def post(self,recipient):
        # 'recipient' is the captured group from the below webapp2 route
        mail_message = mail.InboundEmailMessage(self.request.body)
        # do stuff with mail_message based on who recipient is

app = webapp2.WSGIApplication(
    [(r'/_ah/mail/(.+)@.+\.appspotmail\.com',MyEmailHandler)],
    debug=True) 
```

webapp2 路由器允许捕获组，并将其作为参数发送给处理程序。这里捕获的组是recipient@myapp.appspotmail.com 中的“收件人”。但是您不能使用 mapping() 便利功能（在这种情况下无论如何都不会做任何事情）或处理程序中的接收方法（实际上只是从请求中获取电子邮件并将其放入 args 到收到。）

# java - QuickSort 是否能够堆栈溢出？

> ID：11112532
> 
> 赞同：0
> 
> 时间：2012-06-20T03:44:21.707
> 
> 标签：java, algorithm, sorting, data-structures, quicksort

在我的代码中，该方法将调用自身（递归）。我们知道，深度方法调用会导致堆栈溢出。那么，当数据量很大时，会不会发生栈溢出呢？

我的快速排序代码：（排序类的内部类）

```
private static class QuickSortor extends Sortor {

    protected <E> void sort(E[] a, boolean isAsc) {
        quickSort(a, 0, a.length - 1, isAsc);
    }

    private <E> void quickSort(E[] a, int left, int right, boolean isAsc) {
        if (left >= right)
            return;
        int middle = left;
        Comparable<E> cmp = (Comparable<E>) a[left];
        for (int i = left + 1; i <= right; i++) {
            int result = cmp.compareTo(a[i]);
            if (!isAsc)
                result = -result;
            if (result >= 0)
                swap(a, ++middle, i);
        }
        swap(a, left, middle);
        quickSort(a, left, middle - 1, isAsc);
        quickSort(a, middle + 1, right, isAsc);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T04:00:45.720

递归的深度以及快速排序需要多长时间，取决于数据点的相对顺序以及数据点的数量。如果枢轴点总是最终成为您在上面的代码中递归的数据的最大或最小成员，那么递归将与数据大小一样深。

使用快速排序，您可以确保递归深度很小，即使最终仍然需要很长时间。[这在http://en.wikipedia.org/wiki/Quicksort](http://en.wikipedia.org/wiki/Quicksort)中进行了非常简短的讨论，如下所示：

为了确保最多使用 O(log N) 空间，首先递归到数组的较小一半，然后使用尾调用递归到另一个。

很简单，这意味着你首先要重写

```
f(...)
{
  ...
  f()
  f()
} 
```

作为

```
f()
{
  while (...)
  {
    ...
    f()
    ...
 }
} 
```

（使用 while 循环修改 f 的参数，以便第二次递归调用对应于 while 循环的第二次循环）。

然后查看如何为两个递归调用拆分数组，并确保第二个递归调用（变成 while 循环）用于数组的较大一半。这意味着剩余的递归调用总是不超过数组的一半，这意味着你永远不会比数组大小的 log base 2 更深。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T04:12:25.433

您编写的算法总是选择最左边的元素作为枢轴。如果在已经排序的数组上执行，这将表现出快速排序的病态`O(n^2)`行为，这将导致非常小的数组发生堆栈溢出。

`Integers`您可以通过对从 0 到 15000 的数字数组依次调用排序来进行尝试。我得到一个`StackOverflowError`尝试。在 15000 个随机数的数组上执行它`Integer`不会导致堆栈溢出。

# arrays - Powershell 使用多个函数创建新对象

> ID：11112535
> 
> 赞同：0
> 
> 时间：2012-06-20T03:44:56.230
> 
> 标签：arrays, object, powershell

所以我几乎已经解决了我最初的问题，但我在这里遇到了一堵砖墙：我有一组需要格式化为表格的 3 个变量（最终会变得更多）。我为每个变量创建了函数，并且可以使用以下代码成功组合两个变量：

```
$pids = get-counter -listset process | get-counter -maxsamples 1 | select -expandproperty countersamples | where {$_.path -like "*\id process" -and $_.path -like $filter} | select cookedvalue | ForEach {$_.cookedvalue}
function GetMemoryUsage  { ...code here... }
function GetAppID { ...code here.... }
$combined = $pids | %{ $wapp = GetAppID $_
             $obj = new-object psobject
             $obj | add-member -name WP -type noteproperty -value $wapp
             $obj | add-member -name "Process ID" -type noteproperty -value $_
             $obj
        }
Write-Output $combined 
```

我的问题是：如何在此处添加 GetMemoryUsage 作为对象？我试过使用一个函数，但它并不顺利。请注意，我不想在这里使用哈希表，因为我相信它们只在 v2 中工作，而且我仍然让机器运行 v1。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T07:22:18.473

如果进程 ID 和内存消耗是您所追求的，那么这应该适合您：

```
Get-Process | Select Name,ID,WorkingSet 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T18:22:54.960

弄清楚了！

这里的关键是将它成功地输送到一个数组中。我在这里有很多缺点，但你必须克服它们。

```
$pids = get-counter -listset process | get-counter -maxsamples 1 | select -expandproperty countersamples | where {$_.path -like "*\id process" -and $_.path -like $filter} | select cookedvalue | ForEach {$_.cookedvalue}
function GetMemoryUsage  { ...code here... }
function GetAppID { ...code here.... }
$myresults = @()
$x = foreach ($ids in $pids) {
         $thisapp = GetAppID $ids
         $thismem = GetMemoryUsage $ids
         $robj = New-Object System.Object
     $robj | Add-Member -type NoteProperty -name WP -value $thisapp
     $robj | Add-Member -type NoteProperty -name Memory -value $thismem
     $robj | Add-Member -type NoteProperty -name Process -value $ids
     $myresults += $robj
}
$myresults | ft -auto 
```

这种方法的好处是您可以通过管道输入无限数量的变量，只要您可以将这些变量与数组相关联，那么您就可以开展业务了。

# javascript - 禁用按钮 onclick 但启用另一个按钮

> ID：11112537
> 
> 赞同：12
> 
> 时间：2012-06-20T03:45:31.787
> 
> 标签：javascript, html

我的页面上有两个不同的按钮。我希望它们都在页面加载时启用，但是当用户单击一个时，我想禁用另一个按钮。但是，如果他们单击另一个按钮，我希望在启用另一个禁用按钮的同时禁用该按钮。我已经能够禁用按钮 onclick，但我无法让另一个按钮重新启用 . 这是我在页面上的两个按钮。它们不在表格中，只是在页面上。

```
<button onclick="down7913.disabled=false" type="submit" class="positive" name="up7913"><img src="check.png" alt=""/></button>

<button onclick="this.disabled=true" type="submit" class="negative" name="down7913"><img src="cross.png" alt=""/></button> 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-20T04:06:25.827

检查此代码，它符合您的口味并且可以正常工作：

代码片段 -

```
<button
    onclick="this.disabled=true;document.getElementById('down7913').disabled=false;"
    type="submit"
    class="positive"
    name="up7913"
    id="up7913"
  >
    First
  </button>

  <button
    onclick="this.disabled=true;document.getElementById('up7913').disabled=false;"
    type="submit"
    class="negative"
    name="down7913"
    id="down7913"
  >
    Second
  </button>
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T03:55:53.170

您应该编写函数：

```
function disablefirstbutton() {
    document.getElementById("firstbutton").disabled = true;
    document.getElementById("secondbutton").disabled = false;
}

function disablesecondbutton() {
    document.getElementById("secondbutton").disabled = true;
    document.getElementById("firstbutton").disabled = false;
}

<button id="firstbutton" onclick="disablefirstbutton()">
<button id="secondbutton" onclick="disablesecondbutton()"> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T04:13:14.433

如果你不介意使用 jQuery，就在这里！

```
$(function() {
    $('button').click(function() {
        var classname = $(this).attr('class');

        if(classname == 'positive')
        { 
            $('button.positive').attr('disabled', 'disabled');
            $('button.negative').attr('disabled', false);
        }
        else
        {
            $('button.negative').attr('disabled', 'disabled');
            $('button.positive').attr('disabled', false);
        }
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T03:57:24.760

您可以尝试以下方法：

```
onclick="document.getElementsByClassName('negative')[0].disabled=false" 
```

那是纯 javascript，请注意所有类的`document.getElementsByClassName('negative')`返回值。`array`如果只有一个，那么它将像我写的那样工作。如果没有，那么我会添加一个 id 并使用`document.getElementById('buttonId').disabled=false`.

# canvas - html5画布像素操作和转换

> ID：11112542
> 
> 赞同：2
> 
> 时间：2012-06-20T03:46:05.950
> 
> 标签：canvas, transformation, pixels, putimagedata

由于 putImageData 不受变换的影响，我如何操作图像中的像素然后对结果使用变换？例如，我想让图片中的红色更亮，然后将图片旋转 36 度。

使用 putImageData 似乎不是答案，因为我无法旋转它。我尝试放在一个新的画布上并使用 drawImage(newCanvas,0,0) 但这甚至根本没有绘制图像。

我难住了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T23:01:33.973

使用新的画布就可以了。您只需要先提取图像。像这样的东西会起作用：

```
Image img = new Image();
img.src = newCanvas.toDataURL();
canvas.drawImage(img, x, y); // img is drawn with current transformation 
```

调用`toDataURL()`获取画布内容的快照；调用后对内容的更改`newCanvas`不会出现在图像中。

# model-view-controller - MVC 可以替代 n 层架构还是 n 层架构的一部分

> ID：11112543
> 
> 赞同：2
> 
> 时间：2012-06-20T03:46:16.570
> 
> 标签：model-view-controller, architecture, n-tier-architecture

这些天我正在学习 MVC 架构，我将 MVC 与 n 轮胎架构混淆了。

我看到有人说你可以直接使用MVC而不是n-tire(3-tire)架构，其中View代表UI轮胎，控制器代表业务或逻辑轮胎，模型代表数据访问轮胎。

也有人说只有 3 轮胎架构的 UI 轮胎会被 MVC 取代。如果是这样，那么我们是否必须在模型和逻辑轮胎中复制域对象？

以上两种方法中哪一种是正确的，或者两者都可以根据要求使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T21:39:24.840

MVC 和 N-Tier 是互补的。您可以同时使用它们。在这种情况下，MVC 替换了 UI 层。N-Tier 描述了物理结构，而 MVC 是一种设计模式。

一个很好的例子可能是拥有一个 MVC 应用程序 (UI)，它与连接到不同数据源 (DA) 的 Web 服务（服务和业务）进行通信。在这里，MVC 将允许更通用、可重用的视图和优化的 UI 层。

但是 MVC 并没有取代 N-Tier。

我希望这会有所帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T03:48:32.750

与传统的 n 层架构相比，MVC 有很多好处。它是动态的，有利于团队合作。设计师做他们的事情而不用担心编码方面，而编码员可以继续他们的工作而不用担心设计。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:24:15.243

这些是完全不同的模式。

N 层是关于应用程序层的物理分离，因此您可以例如换出 DAL，或添加另一个前端。

另一方面，MVC 关注用户和应用程序之间的交互。

# javascript - Dojo BorderContainer 布局

> ID：11112544
> 
> 赞同：1
> 
> 时间：2012-06-20T03:46:31.787
> 
> 标签：javascript, dojo, dijit.layout, border-container

目前我有一个borderContainer布局，如下所示：

![在此处输入图像描述](../Images/84b6e1f5793a93a778ef4c558f630c25.png)

我的这个布局的代码是：

```
<div data-dojo-type="dijit.layout.BorderContainer" data-dojo-props="design:'sidebar', gutters:true, liveSplitters:true" id="borderContainer">
<div data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:true, region:'left'" style="width: 150px;" id="treeSection">Tree menu display here</div>
<div data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:true, region:'top'" style="height:200px;" id="gridSection">Dojo Grid display here
</div>
<div data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:true, region:'center'" id="contactView" data-dojo-id="contactView">contact detail here
</div>
</div> 
```

我想要一个如下所示的布局（2 列，右列有 3 行）： ![在此处输入图像描述](../Images/271e68643083412ff13e7ea4d9d31919.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T11:57:51.200

您可以将另一个小部件添加到顶部区域。

```
<div data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:true, 
  region:'top'" style="height:20px;" id="pageSection">
  Pagination goes here
</div> 
```

[http://jsfiddle.net/cswing/Kjr78/](http://jsfiddle.net/cswing/Kjr78/)

也可以看看：

[Dojo：我可以将两个或更多小部件添加到同一个 BorderContainer 区域吗？](https://stackoverflow.com/questions/11042631/dojo-can-i-add-two-or-more-widgets-to-the-same-bordercontainer-region/11042955#11042955)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T14:07:54.400

BorderContainers 可以作为区域嵌入。你的例子是：

*   边界容器（父级）
    *   contentpane（区域左显式宽度）
    *   contentpane（区域顶部显式高度）
    *   边界容器（区域中心，流体）
        *   contentpane（区域顶部，显式高度）
        *   contentpane（区域中心，流体）

# objective-c - mpmovieplayer 中的多个视频在模拟器中运行良好，但在 iPad 上运行时出现 SIGABRT 错误

> ID：11112550
> 
> 赞同：0
> 
> 时间：2012-06-20T03:47:17.307
> 
> 标签：objective-c, ios, video, mpmovieplayercontroller

3 天来我真的很沮丧，我检查了一切，它工作得很好。没有错误，模拟器上没有警告，但是在 iPad 上启动时，它得到了这个 SIGABRT 错误。我正在使用 Xcode 4.3 和 ARC 激活。这是我的代码：

.h 文件：

```
#import <UIKit/UIKit.h>
#import <MediaPlayer/MediaPlayer.h>

@interface videothumbnailViewController : UIViewController {
    NSURL *videoURL;
    NSURL *videoURL2;

   MPMoviePlayerController *player;
   MPMoviePlayerController *player2;

    UIScrollView *scrollView;

    }
@property (nonatomic, retain) IBOutlet UIScrollView *scrollView;
@property (nonatomic, retain) MPMoviePlayerController *player;
@property (nonatomic, retain) MPMoviePlayerController *player2;

-(IBAction)stopmovie:(id)sender;
-(IBAction)playmovie:(id)sender;
-(IBAction)playmovie2:(id)sender;

@end 
```

和实现文件：

```
#import "videothumbnailViewController.h"
#import "MediaPlayer/MediaPlayer.h"

@interface videothumbnailViewController ()

@end

@implementation videothumbnailViewController
@synthesize scrollView;
@synthesize player;
@synthesize player2;

-(IBAction)playmovie2:(id)sender {

 // [player stop];

    NSString *path2 = [[NSBundle mainBundle] pathForResource:@"test2.mov" ofType:nil];
   videoURL2 = [NSURL fileURLWithPath:path2];
    player2 = [[MPMoviePlayerController alloc] initWithContentURL:videoURL2];
    player2.view.frame = CGRectMake(676, 0, 605, 339);
    player2.scalingMode = MPMovieScalingModeFill;
       [scrollView addSubview:player2.view];
    player2.controlStyle = MPMovieControlStyleNone;
    [player2.backgroundView addSubview:[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"test2.png"]]];
    player2.view.backgroundColor = [UIColor clearColor];
    [player2 play];
    player2.repeatMode = MPMovieRepeatModeOne;

}

-(IBAction)playmovie:(id)sender {

   [player2 stop];

    NSString *path = [[NSBundle mainBundle] pathForResource:@"test.mov" ofType:nil];
    videoURL = [NSURL fileURLWithPath:path];
    player = [[MPMoviePlayerController alloc] initWithContentURL:videoURL];
    player.view.frame = CGRectMake(0, 0, 605, 339);
    player.scalingMode = MPMovieScalingModeFill;
    [scrollView addSubview:player.view];
    player.controlStyle = MPMovieControlStyleNone;
    [player.backgroundView addSubview:[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"test.png"]]];
    player.view.backgroundColor = [UIColor clearColor];
    [player play];
    player.repeatMode = MPMovieRepeatModeOne;

}

-(IBAction)stopmovie:(id)sender {

    [player stop];

}

- (void)viewDidLoad {
    [super viewDidLoad];

    NSString *path2 = [[NSBundle mainBundle] pathForResource:@"test2.mov" ofType:nil];
    videoURL2 = [NSURL fileURLWithPath:path2];
    player2 = [[MPMoviePlayerController alloc] initWithContentURL:videoURL2];
    player2.view.frame = CGRectMake(676, 0, 605, 339);
    player2.scalingMode = MPMovieScalingModeFill;
    [scrollView addSubview:player2.view];
    player2.controlStyle = MPMovieControlStyleNone;
    player2.view.backgroundColor = [UIColor clearColor];
    [player2 stop];

    [scrollView setContentSize:CGSizeMake(1300, 339)]; 
    NSString *path = [[NSBundle mainBundle] pathForResource:@"test.mov" ofType:nil];
    videoURL = [NSURL fileURLWithPath:path];
    player = [[MPMoviePlayerController alloc] initWithContentURL:videoURL];
    player.view.frame = CGRectMake(0, 0, 605, 339);
    player.scalingMode = MPMovieScalingModeFill;
    [scrollView addSubview:player.view];
    player.controlStyle = MPMovieControlStyleNone;
    [player.backgroundView addSubview:[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"test.png"]]];
    player.view.backgroundColor = [UIColor clearColor];
    player.repeatMode = MPMovieRepeatModeOne;
    [player play];

}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return YES;
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T07:40:51.387

请尝试添加这样的异常断点：

1.  转到 Xcode 中的断点窗格，然后单击底部的加号按钮 ![在此处输入图像描述](../Images/b1aec8d28d2f5fad558b6ff96f79860c.png)

2.  单击添加异常断点
    ![在此处输入图像描述](../Images/950f18f1ce75b49c057a0e9676ccf3eb.png)

3.  点击完成
    ![在此处输入图像描述](../Images/f5159eadaa6b6b2dfbfff675ad2331c4.png)

调试器不应停在抛出异常的行。

希望这可以帮助！

# mysql - 尝试连接到 mysql 并出现错误：不允许连接到这个 MySQL 服务器连接被外部主机关闭

> ID：11112555
> 
> 赞同：17
> 
> 时间：2012-06-20T03:48:14.217
> 
> 标签：mysql

嗨，我在 ec2 中运行两个 rhel 实例。现在我正在尝试做 $telnet ec2-184-73-58-163.compute-1.amazonaws.com 3306

```
Trying 10.193.139.147...
Connected to ec2-184-73-58-163.compute-1.amazonaws.com.
Escape character is '^]'.
bHost 'domU-12-31-39-05-3D-E6.compute-1.internal' is not allowed to connect to this MySQL serverConnection closed by foreign host. 
```

我是新手。现在不知道该怎么办？请帮忙。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-13T12:51:08.337

如果您不在 MySQL 用户权限表中的白名单中，您将无法连接到远程 MySQL。

* * *

假设您的 IP 地址是`199.255.209.168`，并且您正尝试`123.238.18.47`使用用户名`rakman`和密码登录在 IP 地址上运行的 MySQL 守护程序

```
$ mysql -h 123.238.18.47 -u rakman -p
Enter password:
ERROR 1130 (HY000): Host '199.255.209.168' is not allowed to connect to this MySQL server 
```

mysql 用户 [rakman]@[your IP address] 需要存在于运行于`123.238.18.47`. 因此`rakman@199.255.209.168`（或者`rakman@%`允许从任何远程主机登录到这个 MySQL 但不推荐）需要存在于运行在`123.238.18.47`.

有关如何实现此目的的 MySQL 命令，您可以在[Host 'xxx.xx.xxx.xxx' is not allowed to connect to this MySQL server](https://stackoverflow.com/questions/1559955/host-xxx-xx-xxx-xxx-is-not-allowed-to-connect-to-this-mysql-server)处看到接受的答案。如果您在此之后尝试登录。

```
$ mysql -h 123.238.18.47 -u rakman -p
Enter password:
Welcome to the MySQL monitor. 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-11-27T08:51:01.997

您必须授予对 mysql 的访问权限。

创建新用户：

```
CREATE USER 'myuser'@'youripaddres' IDENTIFIED BY 'password'; 
```

对于下面的所有 ips 使用

```
GRANT ALL PRIVILEGES ON *.* TO 'myuser'@'%' WITH GRANT OPTION; 
```

对于下面的特定 IP 使用

```
GRANT ALL PRIVILEGES ON *.* TO 'myuser'@'youripaddres' WITH GRANT OPTION; 
```

需要ps`flush privileges;`才能使更改生效。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T04:41:34.680

我在这方面也不是很好，但我认为这个链接可以帮助你一点。这是我在使用 MySQL 时遇到问题时的参考。

你试一试。我希望它有效。 [SourceForge.net](http://nst.sourceforge.net/nst/docs/faq/ch06s04.html)

# log4j - 如何在 log4j 中使用 AsyncAppender？

> ID：11112560
> 
> 赞同：29
> 
> 时间：2012-06-20T03:48:33.497
> 
> 标签：log4j, appender

如何在 log4j 中使用 AsyncAppender 将日志消息写入 Web 服务？我应该创建自己的 Appender 来扩展 AsyncAppender 还是只是将自定义附加程序附加到 AsyncAppender？如果第二个选择是正确的，我应该把 AsyncAppender 对象放在哪里？有什么例子吗？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-10-23T07:41:46.770

在 log4j 配置文件中添加 AsyncAppender，它将引用一个真正的 appender。演示：将 asyncappender 添加到 log4j.xml 中的控制台附加程序

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd" >
<log4j:configuration>
<appender name="console" class="org.apache.log4j.ConsoleAppender">
    <layout class="org.apache.log4j.PatternLayout">
        <param name="ConversionPattern" value="[%p] %d{dd MMM hh:mm:ss aa} %t [%l] %m%n"/>
    </layout>
</appender>
<appender name="async" class="org.apache.log4j.AsyncAppender">
    <param name="BufferSize" value="500"/>
    <appender-ref ref="console"/>
</appender>
<root>
    <priority value="all"></priority>
    <appender-ref ref="async"/>
</root>
</log4j:configuration> 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-27T20:27:04.567

我们想使用 log4j.AsyncAppender，但在 log4j.property 文件中找不到任何设置方法来附加其他附加程序。所以我们扩展了 log4j.AsyncAppender 类并添加了一个 setter 来添加其他 appender。这有助于主程序线程独立于 log4j 的日志记录操作。详情如下。

log4j 条目：

使用 log4j 文件附加器“fileAppender”定义记录器“com.noPath”。请注意，记录器路径无关紧要，因此名称为“com.noPath”

```
log4j.logger.com.noPath=DEBUG,fileAppender
log4j.appender.fileAppender=org.apache.log4j.RollingFileAppender
log4j.appender.fileAppender.File=c:/test.log 
```

定义业务需要的记录器“com.business”，通过扩展 log4j AsyncAppender 的自定义类 com.log.AsyncAppenderHelper 将上一步的文件附加程序“fileAppender”附加到 log4j AsyncAppender

```
log4j.logger.com.business=DEBUG,asyncLog
log4j.appender.asyncLog=com.log.AsyncAppenderHelper
log4j.appender.asyncLog.appenderFromLogger=com.noPath 
```

扩展 log4j.AsyncAppender 的 java 类 com.log.AsyncAppenderHelper 使其在类路径中可用。

```
package com.log
import java.util.Enumeration;
import org.apache.log4j.Appender;
import org.apache.log4j.AsyncAppender;
import org.apache.log4j.Logger;

/*
 * This class helps configure to AsyncAppender from log4j as part of log4j.properties
 * You can inject other appenders to AsyncAppender using the AsyncAppenderHelper
 * This would free up the main program thread to be independent of log4j's logging operation
 * @Author http://www.linkedin.com/in/jobypgeorge
 */

public class AsyncAppenderHelper extends AsyncAppender{

    public AsyncAppenderHelper(){
        super();
    }

    public void setAppenderFromLogger(String name){
        Logger l = Logger.getLogger(name);

        Enumeration<Appender> e = l.getAllAppenders();

        while(e.hasMoreElements()){
             Appender a = e.nextElement();
             this.addAppender(a);
             System.out.println("The newAppender "+a.getName() +" attach status "+this.isAttached(a));
        }

     }
} 
```

* * *

## 回答 #3

> 赞同：-7
> 
> 时间：2012-06-20T11:55:51.783

回答我自己的问题。

在 log4j 配置文件（通常是 log4j.xml 或 log4j.properties）中，我们应该定义 AsyncAppender 它将引用一个真正的 appender（它可能是我们自己定义的类，就像我的例子一样）。

所以我写了一个 WebServiceAppender 类，它扩展了 AppenderSkeleton 并实现了 3 个抽象方法。主要方法是“附加”，它连接到 Web 服务并将所有信息发送给它。就是这样。

# email - 如何使用 cakephp 框架发送电子邮件？

> ID：11112561
> 
> 赞同：0
> 
> 时间：2012-06-20T03:48:47.043
> 
> 标签：email, cakephp, confirmation

保存订单后不知道如何发送电子邮件。购买者将在订单中输入电子邮件，并使用 CakePHP 2.0 发送确认电子邮件。我尝试了很多不同的方法，但我是菜鸟，需要指导。请指导我！

```
 <?
    class OrdersController extends AppController
    {
       var $name = 'Orders';
       var $scaffold;
       function add()
       {            
          if ($this->request->is('post'))
          {
               if ($this->Order->save($this->request->data)) 
               {
                   $this->Session->setFlash('Order has been saved');
                   $this->redirect(array('action' => 'index'));
               }
               else 
               {
                   $this->Session->setFlash('Unable to add order');
               }
          }
       }
    }
  ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:46:49.357

CakePHP 为此提供了一个 CakeEmail 类：http: [//book.cakephp.org/2.0/en/core-utility-libraries/email.html](http://book.cakephp.org/2.0/en/core-utility-libraries/email.html)

# ruby - Ruby Net-SSH-Shell 从执行中获得标准！方法

> ID：11112563
> 
> 赞同：0
> 
> 时间：2012-06-20T03:48:50.177
> 
> 标签：ruby, net-ssh

如何从`.execute`Net-SSH-Shell 中的方法获取标准输出

使用好的 'ol Net-SSH，这很容易

```
Net::SSH.start('host','user') do |ssh|
     puts ssh.exec! 'date'
end 
```

给我`Tue Jun 19 23:43:53 EDT 2012`

但是如果我尝试使用外壳，我会得到一个进程对象

```
Net::SSH.start('host','user') do |ssh|
    ssh.shell do |bash|
        output = bash.execute! 'ls'
        puts output
    end
end 
```

给我`#<Net::SSH::Shell::Process:0x007fc809b541d0>`

我在稀疏文档中找不到任何关于如何轻松获得标准的内容。有方法，但是如果我使用该方法`on_output`，那似乎对我没有任何作用`execute!`

我也试过传递一个块来`.execute!`喜欢

```
bash.execute! 'ls' do |output|
    puts output
end 
```

但我仍然得到一个过程`#<Net::SSH::Shell::Process:0x007fc809b541d0>`

我需要一个可以使用的变量中的标准输出，并且我需要一个实际的有状态登录 shell，据我所知，准系统 Net-SSH 并没有这样做。

有任何想法吗？

**编辑**

**按照@vikhyat**的建议的相同想法，我尝试了

```
 ssh.shell do |bash|
      process = bash.execute! 'ls'  do |a,b|
            # a is the process itself, b is the output
            puts [a,b]
            output = b
      end
 end 
```

但是`b`总是空的，即使我知道命令返回结果。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T09:26:48.910

你试过这样做吗？

```
Net::SSH.start('host','user') do |ssh|
    ssh.shell do |bash|
        process = bash.execute! 'ls'
        process.on_output do |a, b|
          # a is the process itself, b is the output
          p [a, b]
        end
    end
end 
```

您可以在这里查看 Net::SSH::Process 的定义：[https ://github.com/mitchellh/net-ssh-shell/blob/master/lib/net/ssh/shell/process.rb](https://github.com/mitchellh/net-ssh-shell/blob/master/lib/net/ssh/shell/process.rb)

**编辑**

我认为问题在于`!`in`execute!`因为以下对我来说很好：

```
require 'net/ssh'
require 'net/ssh/shell'

Net::SSH.start('students.iitmandi.ac.in', 'k_vikhyat') do |ssh|
  ssh.shell do |bash|
    process = bash.execute 'whoami'
    process.on_output do |a, b|
      p b
    end
    bash.wait!
    bash.execute! 'exit'
  end
end 
```

我不确定为什么会这样，因为它看起来像`execute!`创建一个进程，运行`wait!`然后返回该进程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T14:04:05.630

我正在使用下一个包装器

```
def ssh_exec!(ssh, command)
    stdout_data = ""
    stderr_data = ""
    exit_code = nil
    exit_signal = nil

    ssh.open_channel do |channel|
      channel.exec(command) do |ch, success|
        unless success
          abort "FAILED: couldn't execute command (ssh.channel.exec)"
        end

        channel.on_data do |ch,data|
          stdout_data+=data
        end

        channel.on_extended_data do |ch,type,data|
          stderr_data+=data
        end

        channel.on_request("exit-status") do |ch,data|
          exit_code = data.read_long
        end

        channel.on_request("exit-signal") do |ch, data|
          exit_signal = data.read_long
        end
      end
    end
    ssh.loop
    [stdout_data, stderr_data, exit_code, exit_signal]
  end 
```

和用法：

```
Net::SSH.start(@ssh_host, @ssh_user, :password => @ssh_password) do |ssh|
  result = ssh_exec! ssh, command
end 
```

在SO或其他地方的某个时候找到它，现在不记得了。

# ios - 如何从 iOS 中的 UIPanGestureRecognizer 的选择器中引用视图的控制器？

> ID：11112565
> 
> 赞同：1
> 
> 时间：2012-06-20T03:49:04.293
> 
> 标签：ios, uipangesturerecognizer

**背景：**

我有一个基于 MVC 的宝丽来对象。该模型保留照片的元数据和图像。视图显示照片的名称和图像（通过 UIView）。控制器可以访问模型和视图并协调它们之间的操作（例如，在视图上淡入模型照片）

**我的目标：**

我想在我的程序中实现一个简单的拖放功能，以便用户可以将 Polarid 的视图和视图控制器拖放*到*相册中。

**问题：**

我可以将 UIPanGestureRecognizer 添加到我的宝丽来视图中。但是，我无法从 polaroidPanned 方法访问视图控制器或模型。

添加 UIPanGestureRecognizer：

```
 UIPanGestureRecognizer *panRecogniser = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(polaroidPanned:)];
    [polaroidController.polaroidView addGestureRecognizer:panRecogniser]; 
```

这是 UIPanGestureRecognizer 处理程序：

```
 - (void) polaroidPanned: (UIPanGestureRecognizer *) panGesture
{
    CGPoint touchLocation = [panGesture locationInView:self.view];

    //While being dragged
    if ([panGesture state] == UIGestureRecognizerStateBegan || [panGesture state] == UIGestureRecognizerStateChanged) 
    {
        //update the album view to the touch location
        [panGesture view].center = touchLocation;
    }
    else  if ([panGesture state] == UIGestureRecognizerStateEnded && isOntopOfAlbum)
    {
        //HERE I WANT TO PASS THE VIEW CONTROLLER OF THE [panGesture view] to my album
        [album addPolaroidViewController: ????]

    }
} 
```

我可以通过视图，但我似乎无法引用视图的 ViewController。

有谁知道我怎么能做到这一点？或者解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:00:59.283

我最近做了一个类似的组件。您不能（据我所知）直接获取视图的视图控制器。但是，如果您修改了手势识别器的目标对象的结构，您可以支持您自己的 VC 查找。通常，我将目标设置为首先创建手势识别器的视图控制器。然后我添加到以视图为键的字典中，以允许从回调中查找视图控制器。使用视图作为字典键的技巧是将其“包装”为带有 [NSValue valueWithNonretainedObject:theView] 的 NSValue

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:17:47.600

我通常在视图控制器中执行触摸处理逻辑，或者至少让视图控制器充当目标并将相关信息传递给视图。对我来说，这似乎更像是 MVC，并且很好地绕过了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:23:29.867

假设您无法更改 PolaroidViewController 或 PolaroidView 的代码。你有其他选择。其中之一是使用关联对象。

在 Objective-C 中，您可以在对象中插入运行时属性。它带有几个“陷阱”，但如果您无法控制视图和控制器，这可能会有所帮助。

首先在您的源代码中导入 objc/runtime.h

```
#import <objc/runtime.h> 
```

声明一个用于获取关联对象的键

```
const NSString* kViewController = @"panGestureViewController"; 
```

然后，当您创建 UIPanGestureRecognizer 时，您将关联一个对象，如下所示：

```
// Create
UIPanGestureRecognizer *panRecogniser = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(polaroidPanned:)];
[polaroidController.polaroidView addGestureRecognizer:panRecogniser];
// Associate
objc_setAssociatedObject(panRecogniser, &kViewController, polaroidController,OBJC_ASSOCIATION_ASSIGN); 
```

在处理程序中检索关联对象

```
- (void) polaroidPanned:(UIPanGestureRecognizer *)panGesture
{
    PolaroidViewController* viewController = ((NSNumber*)objc_getAssociatedObject(panGesture, &kViewController)
    //...    
} 
```

# javascript - 如何在 mailto 链接中附加画布图像？

> ID：11112568
> 
> 赞同：3
> 
> 时间：2012-06-20T03:49:21.267
> 
> 标签：javascript, html, canvas, mailto

我在我的 html 页面中创建了一个画布图像，并且我想创建一个 mailto 链接，单击该链接时将打开带有画布图像的默认电子邮件应用程序（例如 Outlook）。这可以做到吗？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T15:50:42.223

不。不可能使用**“mailto：”链接**（我想这是您所要求的）来执行此操作，因为**mailto：链接不支持传递任何类型的附件**（文件、数据等），只有文本内容（主题、消息...）

在这里检查：[RCF 2368](http://www.faqs.org/rfcs/rfc2368.html)

我认为可以使用表单从服务器发送电子邮件，我的意思是将画布作为 DataURL 发送到可以将其附加到电子邮件的 PHP，并使用**PHPMailer Class**发送带有附件的电子邮件。这是我现在能想到的唯一解决方法。

问候。
C：。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2014-05-19T21:55:29.267

实际上，您可以轻松地为图像创建“mailto”链接。（我认为第一个人误解了你的问题。）

html 看起来像这样。只需确保为您切换通用电子邮件和图像信息。

```
 <a href="mailto:info@youremail.com">
  <img class="aligncenter" title="YOUR IMAGE TITLE" alt="Your ALT Image Title" src="http://www.example.com/image-file-location"/>
 </a> 
```

# iphone - 将图像加载到存储在 xml 文件中的缓存

> ID：11112572
> 
> 赞同：0
> 
> 时间：2012-06-20T03:49:48.413
> 
> 标签：iphone, objective-c, ios

我有一个应用程序，我通过提供 url 将 xml 文件加载到缓存中，我有以下代码：

```
 NSHTTPURLResponse *response = nil;
    responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
    cachedResponse = [[NSCachedURLResponse alloc] initWithResponse:response data:responseData userInfo:nil storagePolicy:NSURLCacheStorageAllowed];
    [[NSURLCache sharedURLCache] storeCachedResponse:cachedResponse forRequest:request]; 
```

在此之后，我正在解析从 web 获取的 xml 文件。在 xml 文件中，当我从 url 加载该图像时，有图像和视频的 url，它只需要很长时间。我可以在解析时使用缓存加载这些图像吗？或者有没有其他方法可以避免在显示时加载图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:51:16.210

有一些库可以帮助你做这种事情。一种流行的是[SDWebImage](https://github.com/rs/SDWebImage)。它有一个内置的缓存，它可以异步下载图像。

以下是 SDWebImage 的示例：

```
[imageView setImageWithURL:[NSURL URLWithString:@"http://www.domain.com/path/to/image.jpg"]
               placeholderImage:[UIImage imageNamed:@"placeholder.png"]
                        success:^(UIImage *image) {... success code here ...}
                        failure:^(NSError *error) {... failure code here ...}];
]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:32:24.737

您可以通过两种方式实现它：

1.  在制作 UI（您想要显示图像的位置）之前在前台加载图像和视频，我认为这是一个最糟糕的主意，因为它会在加载图像和视频内容时卡住您的 UI。

2.  在后台线程中加载图像和视频，并在加载时在屏幕上显示一个深色分层微调器。下载完成后不要忘记删除微调器。

# java - 是否可以使用 Mongo java 的 json 对象填充其他字段？

> ID：11112574
> 
> 赞同：0
> 
> 时间：2012-06-20T03:49:50.100
> 
> 标签：java, mongodb, mongo-java

我知道有一个 BasicDBObject 可以让你去：

```
BasicDBObject info = new BasicDBObject();

info.put("x", 203);
info.put("y", 102); 
```

我遇到的问题是该值只能是原始类型。我有一个 json 对象，我想与无法修改的公共数据一起存储，但想在单个 mongo 文档中描述 json 对象。我能做些什么来做类似的事情：

```
BasicDBObject info = new BasicDBObject();
info.put("Name", "John");
info.put("Main Hobby", "Hiking");
info.put("Albums", json-string-with-nested-arrays); 
```

总而言之，我正在寻找一种方法来允许我在同一文档中存储除了键值对之外的 json 对象（假设我拥有的“json-string-with-nested-arrays”是不可修改的，所以我不能在其中插入额外的属性。）我怎样才能做到这一点？

下面是 json-string-with-nested-arrays：

```
{"data":[{"stuff":[
    {"onetype":[
        {"id":1,"name":"John Doe"},
        {"id":2,"name":"Don Joeh"}
    ]},
    {"othertype":[
        {"id":2,"company":"ACME"}
    ]}]
},{"otherstuff":[
    {"thing":
        [[1,42],[2,2]]
    }]
}]} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:56:50.177

如果**“json-string-with-nested-arrays”**是一个 JSON 字符串，那么你可以在 mongo-java-driver 中执行类似的操作。

```
info.put("Albums", JSON.parse(json-string-with-nested-arrays)); 
```

此`JSON.parse()`方法是 mongo-java-driver 的一部分

# html - 从目标c中的HTML解析电子邮件地址

> ID：11112579
> 
> 赞同：0
> 
> 时间：2012-06-20T03:50:26.680
> 
> 标签：html, objective-c, parsing

这是我只需要从中获取“user@website.com”的 HTML。

```
<td valign="top">                                                       

<script type="text/javascript">
/* <![CDATA[ */
    PrintMail('user','website.com','user<at>website.com', '  '); 
/* ]]> */
</script><a href="JavaScript:SendMail('user','website.com');" onmouseover="self.status='user@website.com'; return true;" onmouseout="self.status=''; return true;">user@website.com</a><br> 
```

这是我的代码：

```
NSArray *emailNodes = [bodyNode findChildTags:@"td"];

    for (HTMLNode *inputNode in emailNodes) {
        if ([inputNode findChildrenWithAttribute:@"valign" matchingName:@"top" allowPartial:NO]) {

                NSLog(@"%@", [[inputNode getAttributeNamed:@"href"] stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]]); 
```

我使用的 HTML 解析器可以在这里找到：[https ://github.com/zootreeves/Objective-C-HMTL-Parser](https://github.com/zootreeves/Objective-C-HMTL-Parser)

我通过使用第一个孩子、下一个兄弟姐妹等修改了我的代码一百万次，但什么都没有......

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T08:16:48.120

您可以使用 Regex 为 exp 提取电子邮件：

```
NSString *regex = @"[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})";
for (NSString *match in [html componentsSeperatedByRegex: regex]{
    NSLog (@"%@", match); 
} 
```

# ruby-on-rails - 从 Rails 3.2 中的数组调用 ActiveRecord 关联方法

> ID：11112581
> 
> 赞同：2
> 
> 时间：2012-06-20T03:50:36.697
> 
> 标签：ruby-on-rails, arrays, excel, activerecord, associations

目标：生成一个 Excel 文档，其中包含来自 3 个相关模型的信息，类似于我的 HTML 表格中的信息。to_xls gem 需要它作为数组列表。

[https://github.com/splendeo/to_xls](https://github.com/splendeo/to_xls)

期望的输出：

```
(working for both)      (working for both)    (working in HTML, not in Excel)
territory.branch.name    territory.zip    territory.mailedcounts.maximum(:maileddate)
My Branch                90210            2012-05-01
My Branch                90211            2012-05-03
My Branch                90212 
```

一个分支有许多区域。一个区域有许多 Mailedcounts。

我可以通过 show.html.erb 的内置 ActiveRecord 方法在我的视图中显示正确的数据

```
<% for territory in @territories %>
<tr>
  <td><%= territory.branch.name %></td>      
  <td><%= territory.zip %></td>
  <td><%= territory.mailedcounts.maximum(:maileddate) %></td>
</tr>
<% end > 
```

这是我到目前为止正确导出的内容

```
class BranchesController < ApplicationController
.
.
.
 def show
  @branch = Branch.find(params[:id])
  @territories = @branch.territories

  respond_to do |format|
    format.html
    format.xls { 
      send_data @territories.to_xls(:columns => [ { :branch => :name }, :zip ] )
    }
 end
end 
```

这给了我可以正常工作的区域.branch.name 和区域.zip。从领土开始，我不知道如何获取我的邮件计数信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T03:57:42.253

使用自定义范围应该适用于此。

```
class Territory < ActiveRecord::Base
  scope :mailed_counts_max_date, lambda {
    mailcounts.maximum(:maileddate)  
  }
end 
```

然后在控制器中：

```
class BranchesController < ApplicationController
 def show
  @branch = Branch.find(params[:id])
  @territories = @branch.territories

  respond_to do |format|
    format.html
    format.xls { 
      send_data @territories.to_xls(:columns => [ { :branch => :name }, :zip, :mailed_counts_max_date ] )
    }
 end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:03:19.140

您是否尝试过（完全未经测试）

```
format.xls {
  # essentially replicate what the view does
  arr = []
  for territory in @territories
    arr << [territory.branch.name, territory.zip,  territory.mailedcounts.maximum(:maileddate)] 
  end
  send_data arr.to_xls
} 
```

如果它（宝石？）需要一个数组列表，那么使用 ActiveRecord 并没有什么神圣不可侵犯的...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-21T01:32:55.063

这是为我做的解决方案。（经过比应有的时间多得多的尝试。）

诀窍是在 Mailedcount 模型中定义一个类，而不是在 Territory 模型中。

```
class Mailedcount < ActiveRecord::Base
.
.
.
  belongs_to :branch
  belongs_to :territory

  class << self
    def max_maileddate
      maximum('maileddate')
    end
  end
end 
```

回到控制器，我现在可以调用该方法。

```
class BranchesController < ApplicationController
.
.
.
 def show
  @branch = Branch.find(params[:id])
  @territories = @branch.territories

  respond_to do |format|
  format.html
  format.xls { 
    send_data @territories.to_xls(:columns => [ { :branch => :name }, :zip,
                        { :mailedcounts => :max_maileddate } ] )
  }
    end
  end 
```

如果不从本质上复制与另一个联接的关系，我就无法获得在 Territory 模型中工作的范围或方法。

# ios - JSONKit 问题：非法的 Unicode 转义序列

> ID：11112583
> 
> 赞同：1
> 
> 时间：2012-06-20T03:50:41.313
> 
> 标签：ios, unicode, escaping, afnetworking, jsonkit

使用 AFNetwork（带有 JSONKit ）时，出现错误：

> Domain=JKErrorDomain Code=-1 "非法 \u Unicode 转义序列。" UserInfo=0x834cab0 {JKAtIndexKey=218, JKLineNumberKey=1, NSLocalizedDescription=非法 \u Unicode 转义序列。}

搜索让我知道这些[细节](https://github.com/johnezang/JSONKit/pull/26)

此问题的任何修复或解决方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:13:05.403

首先你需要找出非法序列是什么。

如果您无法修复 Web 服务以防止其发出错误数据，那么您需要在评估 JSON 之前预处理响应。

在您引用的源代码中，他们使用一个简单的正则表达式`s/[\u0000-\u001f]/\\uFFFD/g`来使所有少于 20 个的原始 ASCII 字符无效。根据您拥有的无效序列，这也可能对您有用。

# firefox - 如何在我的 about firefox 插件中添加主页链接

> ID：11112584
> 
> 赞同：1
> 
> 时间：2012-06-20T03:50:47.647
> 
> 标签：firefox, firefox-addon-sdk

我希望用户在从工具、插件点击我的插件时能够查看到我的网站的超链接。那么我将如何准确地将超链接添加到我的网站。我正在使用firefox插件sdk。![在此处输入图像描述](../Images/96700eed7ec0bc61cbd8312a1edc871d.png)

编辑：

我意识到可以在 packages.json 中使用 icon:"name.png" 更改图标。但是有没有类似的方法来更改主页 URL。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:50:08.370

`package.json`通过添加这样的`homepage`属性来更新您的：

```
{
"name": "myaddons", 
"license": "MPL 2.0", 
"author": "", 
"version": "0.1", 
"fullName": "myaddons", 
"id": "jid1-TGV1ZHqyB9PkVg", 
"description": "a basic add-on",
"homepage": "http://examples.com",
"icon": "chrome://myext/skin/icon.png"
} 
```

然后运行`cfx xpi`。

这些值由`install.rdf`.

[更多信息](https://addons.mozilla.org/en-US/developers/docs/sdk/1.7/dev-guide/package-spec.html)

# ruby-on-rails - 设计自定义密码更改

> ID：11112586
> 
> 赞同：2
> 
> 时间：2012-06-20T03:51:39.723
> 
> 标签：ruby-on-rails, passwords

正如标题所述，我正在使用设计。我遇到了这个 [链接](https://github.com/plataformatec/devise/wiki/How-To%3a-Allow-users-to-edit-their-password)，它描述了这样做的过程。我有这个用户控制器：

```
 def update_password
      @user = User.find(current_user.id)
      #raise @user.to_yaml
      if @user.update_attributes(params[:user])
        # Sign in the user by passing validation in case his password changed
        sign_in @user, :bypass => true
        #flash[:notice] = "Password Successfully Changed"
        redirect_to settings_path
      else
        flash[:notice] = @user.errors.full_messages
        render password_path
      end
    end 
```

忽略`#raise @user.to_yaml`. 而这个观点：

```
 <h1>Change Password</h1>

        <%= form_for(:user, :url => { :action => 'update_password'}) do |f| %>
            <div>
                <%= f.label :current_password %>
                <%= f.password_field :current_password %>
            </div>

            <div>
                <%= f.label :password %>
                <%= password_field_tag :password %>
            </div>

            <div>
                <%= f.label :password_confirmation %>
                <%= f.password_field :password_confirmation %>
            </div>

          <div>
                <%= f.submit "Change Password" %>
            </div>
        <% end %> 
```

我将该视图映射到此控制器方法：

```
 def password
      @user = current_user
    end 
```

将操作和视图分开，我的 config/routes.rb 是这样的： `match '/password' => 'users#password', :as => 'password'`

当我单击表单中的“更改密码”按钮时，就会出现问题。这是它带给我的链接：“http://localhost:3000/assets?action=update_password&controller=users”，我收到错误“找不到 id=assets 的用户”

我不知道它为什么以这种方式行事以及我做错了什么，因为我复制了网页上所说的内容。有没有人有这方面的经验并且可以帮助我？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:07:57.487

如果您使用的是 Rails 3 或更新版本，您可以使用资源语法设置您的路线：

```
resources :users do
  member do # These routes will apply to specific model instances
    get 'password' # /users/:id/password
    put 'update_password' # /users/:id/updated_password
  end
end 
```

那么你就可以在你的`form_for`声明中使用路径助手

```
<%= form_for @user, :url => update_password_user_path(@user) do |form| %>
...
<% end %> 
```

# sql - HyperSQL 分区 row_number() 等效

> ID：11112587
> 
> 赞同：2
> 
> 时间：2012-06-20T03:52:06.317
> 
> 标签：sql, hsqldb, openoffice.org

我正在使用 OpenOffice Base (HyperSQL) 进行一些数据转换，并希望`customerID`根据前三个字符和三个数字生成一个字段，以帮助解决冲突。

获取前三个字符没有问题：

```
客户 ID Customer_Name
AAA AAA 服务
BUS 商务 R US
NOR 北方曝光
NOR北脸
NOR北岸供应
ZEB斑马画

```

我想得到这个：

```
客户 ID Customer_Name
AAA001 AAA 服务
BUS001 商务俄罗斯
NOR001 北曝
NOR002 北脸
NOR003 北岸供应
ZEB001 斑马画

```

我可以看到，如果 HyperSQL 支持，这将很容易实现`row_number()`，但似乎并不支持。

还有其他优雅的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T17:00:16.263

HyperSQL 2.2.8 支持[ROWNUM()](http://hsqldb.org/doc/guide/builtinfunctions-chapt.html#N13FF6)。您可以将此版本用作外部数据库。请参阅此链接[http://hsqldb.org/web/openoffice.html](http://hsqldb.org/web/openoffice.html)

使用 OpenOffice 中包含的 HSQLDB 1.8.0，您可以分多个步骤执行此操作（在使用前三个字符创建列之后）。

```
UPDATE CUSTOMER SET "CustomerID" = "CustomerID" || '001' 
  WHERE "Customer_Name" IN (
    SELECT MIN("Customer_Name") 
      FROM CUSTOMERS WHERE CHAR_LENGTH("CustomerID") = 3
      GROUP BY "CustomerID"
    ) 
```

然后重复“002”、“003”等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-11T13:09:46.277

基本上，您要求的是每个组都有一个排名（在您的情况下，摸索是 per `CustomerID`）。正如@fredt 所说，没有 HSQLDB 支持`PARTITION BY`（就像在 MSSQL 下的...），但您可以执行以下操作（如果在字符串顶部添加自动生成的**数字ID 并不大）**

```
Select ID, CustomerID, Customer_Name,
     (Select 1 + Count(*) From Customers
      Where CustomerID = A.CustomerID
         And Id < A.Id) Rank
 From Customers A 
```

Rank 列将为您提供每个组的行号

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-03T06:51:21.170

您也可以在 HSQLDB 中实现 ROWNUM() OVER(PARTITION BY ... ORDER BY ...)，但有一些限制。此处的解决方案假定 Customer_Name 上没有重复项，并且 Customer_Name 上不允许有 NULL 值。

```
SELECT A.Partition || RIGHT('00' || count(B.Part), 3) AS "CustomerID", Customer_Name
FROM ( SELECT LEFT(Customer_Name,3) AS "Partition", Customer_Name FROM Table ) A
LEFT JOIN ( SELECT LEFT(Customer_Name,3) AS "Partition", Customer_Name FROM Table ) B
    ON A.Customer_Name >= B.Customer_Name AND A.Partition = B.Partition
GROUP BY A.Partition, A.Customer_Name 
```

只是为了使解决方案更通用一点；当您的唯一订单位于两个字段 F1、F2 上时，请使用以下表达式：

```
ON ( A.F1 = B.F1 AND A.F2 >= B.F2 OR A.F1 > B.F1 ) AND A.Partition = B.Partition 
```

# zend-framework - Zend Framework 从 headlink() 中删除或取消设置附加的 css 文件

> ID：11112589
> 
> 赞同：1
> 
> 时间：2012-06-20T03:52:26.933
> 
> 标签：zend-framework

是否可以删除或取消设置已附加的特定样式表？

例如：

```
<?php 
// my layout file
     $this->headLink()
       ->appendStylesheet('/css/page/foo.css');

?> 
```

通常我已经附加了样式表或添加了样式表，但现在我不需要在特定上下文的视图脚本中。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:17:29.153

当前 api 的选项几乎是通过调用控制器/动作/视图来覆盖整个`headLink()`堆栈。 另一种选择是重构并仅在需要特定操作/视图时添加某些样式表。 我确实相信大多数人会顺其自然，因为样式表消耗的额外的几位通常不值得花费 cpu 周期来删除它。`setStyleSheet()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:16:56.630

没有`removeStylesheet()`或类似的东西。这主要是由于您应该尝试将所需的文件减少到绝对最小值，我将您的 css 文件迁移到一个文件中。

文件是否大 20kb 无关紧要，只要它只是一个请求即可。

然后，如果您有一些特殊的站点，例如带有管理部分的站点，您可以为这些站点附加一个管理样式表。

只需附加需要的内容！

# spring-mvc - Spring MVC——对声明控制器映射感到困惑

> ID：11112590
> 
> 赞同：1
> 
> 时间：2012-06-20T03:52:41.157
> 
> 标签：spring-mvc

我是 Spring MVC 的新手，所以我很困惑。我在 Struts 中使用过 MVC，所以我得到了 MVC 模式。只是我现在正在学习在 Spring 中做这件事，我很困惑，因为映射的方式不同。我已经尝试咨询在线教程，但我仍然没有得到它。以下是我当前问题的低调。谁能帮我？谢谢。

我的 JSP 表单（来自 GuestBook.jsp）：

```
<form:form modelAttribute="comments" method="post" action="GuestBook.jsp">
    <table>
        <tr>
            <td>Name:</td>
            <td><form:input path="comment.name" maxlength="150" /></td>
        </tr>
        <tr>
            <td>Message:</td>
            <td><form:textarea path="comment.message" rows="10" cols="50" /></td>
        </tr>
        <tr>
            <td><button type="submit" value="Submit" /></button></td>
            <td>&nbsp;</td>
        </tr>
    </table>
</form:form> 
```

来自 applicationContext.xml：

```
<bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter" />
<bean name="getComments" class="com.controller.CommentController" /> 
```

来自 CommentController.java（只是相关部分）：

```
@Controller
@RequestMapping("/GuestBook.jsp")
public class CommentController {
    // Variables and getters and setters follow,
    // not part of the problem

    @RequestMapping(method = RequestMethod.GET)
public ModelAndView handleRequest(@ModelAttribute Comment comment) throws Exception {
    // Method continues, but not part of the problem 
```

错误报告：

```
java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'getComments' available as request attribute
    at org.springframework.web.servlet.support.BindStatus.<init>(BindStatus.java:141)
    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:174)
    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:194)
    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getName(AbstractDataBoundFormElementTag.java:160)
    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.autogenerateId(AbstractDataBoundFormElementTag.java:147)
    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.resolveId(AbstractDataBoundFormElementTag.java:138)
    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.writeDefaultAttributes(AbstractDataBoundFormElementTag.java:122)
    at org.springframework.web.servlet.tags.form.AbstractHtmlElementTag.writeDefaultAttributes(AbstractHtmlElementTag.java:408)
    at org.springframework.web.servlet.tags.form.InputTag.writeTagContent(InputTag.java:140)
    at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102)
    at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79)
    at org.apache.jsp.GuestBook_jsp._jspx_meth_form_005finput_005f0(GuestBook_jsp.java:256)
    at org.apache.jsp.GuestBook_jsp._jspx_meth_form_005fform_005f0(GuestBook_jsp.java:207)
    at org.apache.jsp.GuestBook_jsp._jspService(GuestBook_jsp.java:121)
    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:04:42.560

我认为问题在于您的对象未与 jsp 表单绑定。因为您可能没有将 pojo 类的对象放在 modelMap 中，以便该`commandName="getComments"`属性可以将 pojo 字段与表单字段绑定。

我在这里假设您的 pojo 类名称是**GetComments**。

我建议您将控制器方法的方法签名更改为以下内容。

```
@RequestMapping(method = RequestMethod.GET) 
public ModelAndView handleRequest(@ModelAttribute GetComments getComments) throws Exception {
// your code in the controller and the return statement of your model and view.
} 
```

**更新**

同样在您的 jsp 而不是 commandName 中，使用`modelAttribute="getComments"`.

希望这对您有所帮助。干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T07:42:16.690

你应该有`@ModelAttribute GetComments getComments`作为你的句柄方法的第一个参数。

# c# - 在 C# 应用程序中打开 HTML 文件

> ID：11112592
> 
> 赞同：2
> 
> 时间：2012-06-20T03:53:11.267
> 
> 标签：c#, html, visual-studio-2010

我在 VS2010 的解决方案中添加了一个 HTML 文件。如何创建打开 HTML 文件的调用？例如，当用户单击按钮时，它将在我的解决方案中找到 HTML 文件并在 Web 浏览器中打开它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T03:59:53.577

**你可以使用网络浏览器控制**

```
webbrowser.Navigate("File location.html") 
```

有关更多信息，请参见[此处](https://stackoverflow.com/questions/7194851/load-local-html-file-in-a-c-sharp-webbrowser)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:13:04.993

```
System.Diagnostics.Process.Start(
  Server.MapPath("~/HtmlFileFolderNameInSolution/") + "HtmlFileName.htm"
); 
```

这将在同一浏览器的新选项卡中打开 HTML 文件...

# php - 如何初始化我的自定义 joomla 2.5 模型？

> ID：11112595
> 
> 赞同：2
> 
> 时间：2012-06-20T03:54:17.320
> 
> 标签：php, joomla, undefined

好的，所以我一直在关注 joomla 2.5 教程[，](https://docs.joomla.org/Developing_a_Model-View-Controller_Component_-_Part_6_-_Adding_Backend_Actions)并且我设法制作了一个无故障的初始组件。

但我想知道如何将额外的类导入框架？

我有一个名为**auth.php的模型类**

```
// No direct access to this file
defined('_JEXEC') or die('Restricted access');

// import Joomla modelitem library
jimport('joomla.application.component.modelitem');

/**
 * Auth Model
 */
class AutoBaseModelAuth extends JModelItem
{
    function detail()
    {   
        echo "this is test";
    }
} 
```

位于 C:/xampp/htdocs/com_autobase/model/auth.php

[![xampp](../Images/47295b8ddf13a8ce03a66123c4119886.png)](https://i.stack.imgur.com/CmUm3.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/p5m1gjxh.jpx.png)）]

而我的观点...

```
// No direct access to this file
defined('_JEXEC') or die('Restricted access');

// import Joomla view library
jimport('joomla.application.component.view');

/**
 * HTML View class for the AutoBase Component
*/
class AutoBaseViewAutoBase extends JView
{
    // Overwriting JView display method
    function display($tpl = null) 
    {       
        $db     =& JFactory::getDBO();
        //request the auth model
        $model  =& $this->getModel('auth');
        $items =& $model->detail();
    }
} 
```

但是我一直在不知不觉中收到这个错误**，因为它还没有被导入......而且我已经在大约 5 个不同的网站上试图找出 Joomla 如何导入新模型**。

```
Notice: Undefined index: auth in C:\xampp\htdocs\libraries\joomla\application\component\view.php on line 413 
```

那么有人可以解释一下joomla中的模型是如何初始化的吗？以及我做错了什么..谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T13:03:14.843

我们通常在所有组件中包含的帮助器中都有这个静态函数

```
public static function getModel($name, $component_name = null, $config = array()) {

    //Use default configured component unless other component name supplied
    if(!$component_name) {
        $component_name = self::$com_name;
    }

    jimport('joomla.application.component.model');
    $modelFile = JPATH_SITE . DS . 'components' . DS . $component_name . DS . 'models' . DS . $name.'.php';
    $adminModelFile = JPATH_ADMINISTRATOR . DS . 'components' . DS . $component_name . DS . 'models' . DS . $name.'.php';
    if (file_exists($modelFile)) {
        require_once($modelFile);
    } elseif (file_exists($adminModelFile)) {
        require_once($adminModelFile);
    } else {
        JModel::addIncludePath(JPATH_SITE . DS . 'components' . DS . $component_name . DS . 'models');
    }

    //Get the right model prefix, e.g. UserModel for com_user
    $model_name = str_replace('com_', '', $component_name);
    $model_name = ucfirst($model_name).'Model';

    $model = JModel::getInstance($name, $model_name, $config);

    return $model;
} 
```

然后你可以去任何地方得到一个模型

```
$model = helper::getModel('Name', 'ComponentName'); 
```

# css - Twitter Bootstrap 两列响应式布局 - 侧边栏 100% 高度和固定宽度

> ID：11112596
> 
> 赞同：0
> 
> 时间：2012-06-20T03:54:17.453
> 
> 标签：css, twitter-bootstrap, responsive-design

我正在尝试使用类似于响应式典型 OS X UI 的 Bootstrap 组合布局。

它必须执行以下操作：

*   整体高度 100%
*   固定宽度（但反应灵敏）100% 高度侧边栏，具有自己的背景颜色
*   响应式正文（右栏）

我找到[了这个](https://stackoverflow.com/questions/8740779/how-to-build-a-2-column-fixed-fluid-layout-with-twitter-bootstrap)线程，它部分完成了这项工作。问题是侧边栏不是 100% 的高度，在全视图中也不是固定宽度，当“响应”时，右侧在底部留下白色背景，而不是填充。

我玩了一堆东西，但似乎无法得到它。有人有任何建议或知道如何做到这一点吗？

谢谢！

编辑：

只是为了澄清，因为我的问题不清楚。这将是一个固定的左侧菜单，具有流畅的右侧“主体”，整体宽度为 100%。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T07:45:27.560

看一下这个。

```
<div class="row">
    <div class="span3" style="position:fixed;background-color:#46a546;height:100%;top:0px;" id="leftmargin">
        position fixed navbar (out of .container)
    </div>
</div>
<div class="container">
  <div class="row">
      <div class="span9 offset3" style="background-color:#049cdb;">
          bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>
          bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>
          bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>
          bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>
          bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>
          bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>bla bla bla<br>
      </div>
  </div>
</div> 
```

还有一点 jQuery

```
function sizing() {
    var windowwidth=$(window).width();
    var containerwidth=$('.container').width();
    if(windowwidth<1200) {
      var diff=windowwidth-containerwidth+40;
    }
    else {
      var diff=windowwidth-containerwidth+60; 
    }
    $('#leftmargin').text("window="+ windowwidth+",container="+containerwidth);
    if(windowwidth<=767) {
      $('#leftmargin').css('margin-left', '0px');
      $('#leftmargin').css('position', 'relative');  
    }
    else {
      $('#leftmargin').css('position', 'fixed');        
        if(diff>0) {
            $('#leftmargin').css('margin-left', (diff/2) +'px');
        } else {
            $('#leftmargin').css('margin-left', '20px');
        }
    }
}
$(document).ready(sizing);
$(window).resize(sizing); 
```

[http://jsfiddle.net/NzqfL/3/](http://jsfiddle.net/NzqfL/3/)

灵感来自我之前的帖子[https://stackoverflow.com/a/10972425/1416911](https://stackoverflow.com/a/10972425/1416911)

# facebook - Facebook 开发者网站中的错误

> ID：11112597
> 
> 赞同：0
> 
> 时间：2012-06-20T03:54:43.817
> 
> 标签：facebook, x-facebook-platform

facebook 开发者网站不会记住我的应用程序的站点 URL。我尝试删除应用程序并重新创建应用程序。在我重新创建的新应用程序中，我在 Web 部分设置了站点 URL，但是当我再次查看应用程序的基本部分时，我没有看到站点 URL 已修改。它仍然是空的。我尝试了几次以在 Web 部分设置站点 URL，但是当我重新访问该页面时它仍然是空的。那么发生了什么？所以我尝试设置站点 URL，但为什么不让我呢？？？

这是facebook平台的错误吗？我希望从像 facebook 这样的网站中获得更多。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:07:39.203

Comule.com 被列为已知垃圾邮件站点的黑名单。Facebook 不会抓取任何出现在[URIBL中的网站](https://admin.uribl.com/)

您需要找到不同的网络主机。

Facebook 通过 Heroku 提供免费托管服务。您可以从[应用设置页面](https://developers.facebook.com/apps)注册。

# jquery - 在该页面的悬停菜单项上显示摘录文本

> ID：11112599
> 
> 赞同：0
> 
> 时间：2012-06-20T03:54:54.027
> 
> 标签：jquery, wordpress

当翻转该页面的主菜单项时，寻找带入页面摘录（简短描述）！

我将在导航 div 之外有一个单独的 div，它将淡入以显示该页面的摘录文本，然后淡出……。

我有 js 在翻转时淡入但不知道如何引入文本..

```
$("#menu-item-1266").hover(
  function () {
    $(".nav-excerpt").fadeIn('fast');
  }, 
  function () {
    $(".nav-excerpt").fadeOut('fast');
  }
); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:27:02.620

在 .nav-excerpt 中手动加载页面的摘录`echo my_get_post_excerpt( $post->ID );`

```
function my_get_post_excerpt($id)
{
   $content_post = get_post($id);
   return $content_post->post_excerpt;
}

echo my_get_post_excerpt( $post->ID ); 
```

所以你应该有这样的东西：

```
<ul id="menu">
    <li id="menu-item-1266">Item 1266<li>
    <li id="menu-item-1267">Item 1267<li>
    <li id="menu-item-1268">Item 1268<li>
    <li id="menu-item-1269">Item 1269<li>
</ul>

<div class="nav-excerpt">
    <div rel="menu-item-1266"><?php echo my_get_post_excerpt( 1266 ); ?></div>
    <div rel="menu-item-1267"><?php echo my_get_post_excerpt( 1267 ); ?></div>
    <div rel="menu-item-1268"><?php echo my_get_post_excerpt( 1268 ); ?></div>
    <div rel="menu-item-1269"><?php echo my_get_post_excerpt( 1269 ); ?></div>
</div>

<script>
$("#menu li").hover(
  function () {
    $(".nav-excerpt div[rel="+$(this).attr('id')+"]").fadeIn('fast');
  }, 
  function () {
    $(".nav-excerpt div[rel="+$(this).attr('id')+"]").fadeIn('fast');
  }
);
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:42:49.487

Here is one solution using the qtip [tooltip] plugin. See [http://craigsworks.com/projects/qtip/docs/](http://craigsworks.com/projects/qtip/docs/) for docs.

CSS:

```
ul { margin: 20px; }
li { padding: 5px; float: left; border-left: 1px dotted #d0d0d0; background-color: green; }
li:hover { background-color: yellow; }
li a { color: white; text-decoration: none;  }
li a:hover { color: black; }

#excerpt { display: none; } 
```

HTML:

```
<ul id="menu">
    <li><a rel=".excerpt-1" href="#">Nav Item 1</a></li>
    <li><a rel=".excerpt-2" href="#">Nav Item 2</a></li>
    <li><a rel=".excerpt-3" href="#">Nav Item 3</a></li>
</ul>

<div id="excerpt">
    <div class="excerpt-1">EXCERPT 1 - Lorem ipsum dolor sit amet</div>
    <div class="excerpt-2">EXCERPT 2 - Lorem ipsum dolor sit amet</div>
    <div class="excerpt-3">EXCERPT 3 - Lorem ipsum dolor sit amet</div>
</div> 
```

--

Render your content inside #excerpt.

--

JS:

```
$(document).ready(function() {
    $('#menu li a').each(function() {
        var id = $(this).attr('rel');
        $(this).qtip({ 
            content: $(id).html(),
            style: { name: 'dark' }
        });
    });

    $('#menu li a').click(function() { return false; });
});​ 
```

--

Hope this helps. Working demo is here: [http://jsfiddle.net/3vrjL/](http://jsfiddle.net/3vrjL/)

# java - 为什么 StringBuffer/StringBuilder 不覆盖 equals 或 hashCode？

> ID：11112602
> 
> 赞同：30
> 
> 时间：2012-06-20T03:55:20.940
> 
> 标签：java, oop

为什么 StringBuffer/StringBuilder 不覆盖对象中的`equals()`方法`hashcode()`？

请建议我清晰的图片，以帮助理解问题...

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-06-20T03:58:01.353

因为`StringBuffer`是可变的，它的主要用途是*构造*字符串。如果要比较内容，调用`StringBuffer#toString()`并比较返回值。

覆盖可变对象通常没有用处`hashCode()`，因为修改用作 a 中的键的此类对象`HashMap`可能会导致存储的值“丢失”。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-07-30T05:02:36.940

实际上，这一切都取决于哈希码代码值。为了理解这个概念，让我们举个例子：

```
String str1 = new String("sunil");
String str2 = new String("sunil");

HashMap hm = new HashMap()
hm.put(str1,"hello");
hm.put(str2,"bye"); 
```

最后嗯：

```
hm = { sunil=bye } 
```

在上面的代码中， str1 和 str2 是两个不同的 String 对象。是否应该将它们单独添加到 HashMap 中？答案是**否定**的。这是因为在 HashMap 中插入/放入值之前，它会在内部检查并比较**str1**和**str2**的 hashCode 值。两者都返回相同的哈希码值，因为 String 类覆盖了 equals() 和 hashcode() 方法。因此，在执行`hm.put(str2,"bye");`第一个键时，将被新值覆盖。现在试试这个：

```
StringBuilder sb1 = new StringBuilder("sunil");
StringBuilder sb2 = new StringBuilder("sunil");

HashMap hm = new HashMap()
hm.put(sb1,"hello");//sb1 and sb2 will return different HashCode 
hm.put(sb2,"bye");// StringBuffer/StringBuilder does not override hashCode/equals methods 
```

最后嗯：

```
{sunil=hello, sunil=bye} 
```

这两个值都将添加到 hashMap 中，因为 sb1 和 sb2 都返回不同的哈希码。StringBuilder/StringBuffer 不会覆盖 equals() 和 hashCode() 方法。

*Sun Microsystem 希望程序员允许在 Hashtable 或任何其他 Hash 集合（HashSet、HashMap…）中添加 2 种不同的 String 类型的值，这就是在 StringBuffer、StringBuilder 类中没有有意覆盖 hashCode() 和 equals() 的原因。*

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-01-06T06:19:08.863

因为 StringBuffer 是**可变**的。举个例子试试这个:)

```
package test;

import java.util.HashMap;

public class CheckHashcodeEquals {

    public static void main(String[] args) {

        /*
         * String class override equals() and hashcode() method thats way
         * override value of HashMap
         */
        String s1 = new String("Arya");
        String s2 = new String("Arya");
        HashMap hm = new HashMap<>();
        hm.put(s1, "A1");
        hm.put(s2, "A2");
        System.out.println(hm); /* Output: {Arya=A2} */

        /*
         * String class does not override equals() and hashcode() method thats
         * way insert duplicate value
         */
        StringBuffer sb1 = new StringBuffer("Arya");
        StringBuffer sb2 = new StringBuffer("Arya");
        HashMap hm2 = new HashMap<>();
        hm2.put(sb1, "A1");
        hm2.put(sb2, "A2");
        System.out.println(hm2); /* Output: {Arya=A2, Arya=A1} */
    }

} 
```

# c++ - TinyXML 引发访问冲突

> ID：11112603
> 
> 赞同：0
> 
> 时间：2012-06-20T03:55:42.960
> 
> 标签：c++, tinyxml

我最近开始使用 tinyXML。问题是当我运行我的程序来读取 xml 时，它会返回访问冲突。一条常见的线路是：

```
doc.FirstChildElement("Map")->FirstChildElement("Width")->GetText() 
```

使用 Visual Studio 调试器，我确定它为“地图”返回 null，然后使用 null 引用来调用函数。

这是第一行代码，以及 xml

```
XMLDocument doc;
    doc.LoadFile(path.c_str());

    int width = atoi(doc.FirstChildElement("Map")->FirstChildElement("Width")->GetText()); 
```

XML:

```
<?xml version="1.0"?>
 <Master>
 <Map>
    <Width>5</Width>
    <Height>5</Height>
    <Layers>1</Layers>
    <Tiles>
        <Tile>
            <Id>1</Id>
            <Path>data/tiles/dirt-base.png</Path>
        </Tile>
    </Tiles>
    <Data>
        <DataLayer>1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1</DataLayer>
    </Data>
 </Map>
 </Master> 
```

需要注意的是，我本来没有root标签，但是当它不起作用时添加它，添加它仍然没有帮助。任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:59:29.573

改变

```
int width = atoi(doc.FirstChildElement("Map")->FirstChildElement("Width")->GetText()); 
```

至

```
int width = atoi(doc.FirstChildElement("Master")->FirstChildElement("Map")->FirstChildElement("Width")->GetText()); 
```

它正在我的电脑上使用最新的 tinyxml。

**根据 TinyXml 文档**

你应该首先检查 LoadFile 返回

```
if (!_doc.LoadFile(filename))
{
    printf("load file=[%s] failed\n", filename);
    return -1;
} 
```

然后检查元素是否存在以避免访问冲突。

使用 TiXmlHandle 检查元素更容易。

```
TiXmlHandle docHandle(&doc);
TiXmlElement* child = docHandle.FirstChild("Map").FirstChild("Width").ToElement();
if (child)
{
    // do something useful 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T14:25:38.153

就像您在问题的评论中所说的那样，错误代码 3 是`file not found` 您很可能已经解决了这个问题，但造成这种情况的一个常见原因只是让路径中的反斜杠以错误的方式出现。

我自己也遇到了这个确切的问题。在进行了相当多的 Web 开发之后，由于正在进行不同的脚本/标记/服务器端/客户端 funk，斜线在同一个项目中处于不同方向的环境（有时您需要反转方向）发布时你的一半斜线！），这突然出现了很多。仍然让我难倒了一个小时。

将这个可能的解决方案推迟到很晚以供参考 - 这是在 TinyXML 和这个问题上最突出的谷歌结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:31:13.580

在我看来，您正在调用的 TinyXML 函数之一正在返回无效指针。尝试分别检查每个调用的结果，您将能够确定问题。

# javascript - 将模型数据和行为放在哪里？[tl; 博士；使用服务]

> ID：11112608
> 
> 赞同：342
> 
> 时间：2012-06-20T03:56:27.573
> 
> 标签：javascript, model-view-controller, angularjs, dci

我正在为我的最新项目使用 AngularJS。在文档和教程中，所有模型数据都放入控制器范围内。我知道必须有控制器可用，因此必须在相应的视图中可用。

但是我认为该模型实际上不应该在那里实施。例如，它可能很复杂并且具有私有属性。此外，人们可能希望在另一个上下文/应用程序中重用它。将所有内容都放入控制器完全破坏了 MVC 模式。

这同样适用于任何模型的行为。如果我要使用[DCI 架构](http://www.artima.com/articles/dci_vision.html)并将行为与数据模型分开，我将不得不引入额外的对象来保存行为。这将通过引入角色和上下文来完成。

DCI **==**数据协作交互**_** **_**

当然，模型数据和行为可以用普通的 javascript 对象或任何“类”模式来实现。但是 AngularJS 的方法是什么？使用服务？

**所以归结为这个问题：**

遵循 AngularJS 最佳实践，您如何实现与控制器分离的模型？

* * *

## 回答 #1

> 赞同：155
> 
> 时间：2012-06-20T13:31:35.773

如果您想要多个控制器可以使用的东西，您应该使用服务。这是一个简单的人为示例：

```
myApp.factory('ListService', function() {
  var ListService = {};
  var list = [];
  ListService.getItem = function(index) { return list[index]; }
  ListService.addItem = function(item) { list.push(item); }
  ListService.removeItem = function(item) { list.splice(list.indexOf(item), 1) }
  ListService.size = function() { return list.length; }

  return ListService;
});

function Ctrl1($scope, ListService) {
  //Can add/remove/get items from shared list
}

function Ctrl2($scope, ListService) {
  //Can add/remove/get items from shared list
} 
```

* * *

## 回答 #2

> 赞同：81
> 
> 时间：2013-02-13T11:22:24.877

我目前正在尝试这种模式，虽然不是 DCI，但它提供了经典的服务/模型解耦（用于与 Web 服务对话的服务（也称为模型 CRUD），以及定义对象属性和方法的模型）。

请注意，我仅在模型对象需要处理**其自身**属性的方法时才使用此模式，我可能会在任何地方使用（例如改进的 getter/setter）。我**不**提倡系统地为每项服务都这样做。

**编辑：我曾经认为这种模式会违背“Angular 模型是普通的旧 javascript 对象”的口头禅，但现在在我看来，这种模式非常好。**

**编辑（2）：为了更清楚，我只使用模型类来分解简单的获取器/设置器（例如：用于视图模板）。对于大业务逻辑，我建议使用“了解”模型的单独服务，但要与它们分开，并且只包含业务逻辑。如果您愿意，可以将其称为“业务专家”服务层**

**service/ElementServices.js**（注意元素是如何注入到声明中的）

```
MyApp.service('ElementServices', function($http, $q, Element)
{
    this.getById = function(id)
    {
        return $http.get('/element/' + id).then(
            function(response)
            {
                //this is where the Element model is used
                return new Element(response.data);
            },
            function(response)
            {
                return $q.reject(response.data.error);
            }
        );
    };
    ... other CRUD methods
} 
```

**model/Element.js**（使用 angularjs 工厂，用于创建对象）

```
MyApp.factory('Element', function()
{
    var Element = function(data) {
        //set defaults properties and functions
        angular.extend(this, {
            id:null,
            collection1:[],
            collection2:[],
            status:'NEW',
            //... other properties

            //dummy isNew function that would work on two properties to harden code
            isNew:function(){
                return (this.status=='NEW' || this.id == null);
            }
        });
        angular.extend(this, data);
    };
    return Element;
}); 
```

* * *

## 回答 #3

> 赞同：29
> 
> 时间：2013-05-30T10:30:20.840

Angularjs 文档明确指出：

> 与许多其他框架不同，Angular 对模型没有任何限制或要求。没有可继承的类或用于访问或更改模型的特殊访问器方法。模型可以是原始的、对象散列或完整的对象类型。简而言之，模型是一个普通的 JavaScript 对象。
> 
> — [AngularJS 开发者指南 - V1.5 概念 - 模型](https://code.angularjs.org/1.1.5/docs/guide/concepts#model)

所以这意味着如何声明模型取决于您。这是一个简单的 Javascript 对象。

我个人不会使用 Angular 服务，因为它们的行为类似于你可以使用的单例对象，例如，在你的应用程序中保持全局状态。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-09-12T16:03:53.417

This article about models in AngularJS might help:

[http://joelhooks.com/blog/2013/04/24/modeling-data-and-state-in-your-angularjs-application/](http://joelhooks.com/blog/2013/04/24/modeling-data-and-state-in-your-angularjs-application/)

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2012-06-20T05:56:11.163

DCI 是一种范式，因此没有 angularJS 方法可以做到这一点，无论语言支持还是不支持 DCI。如果您愿意使用源代码转换，那么 JS 对 DCI 的支持相当好，如果您不愿意，则有一些缺点。同样，DCI 与依赖注入没有更多关系，就像说 C# 类具有并且绝对不是服务一样。因此，使用 angulusJS 进行 DCI 的最佳方式是使用 JS 方式进行 DCI，这非常接近于最初制定 DCI 的方式。除非您进行源转换，否则您将无法完全做到这一点，因为即使在上下文之外，角色方法也将成为对象的一部分，但这通常是基于方法注入的 DCI 的问题。如果您查看[fullOO.info](http://FullOO.info)DCI 的权威站点，您可以查看他们也使用方法注入的 ruby​​ 实现，或者您可以查看[此处](http://runefs.com/category/dci/)以获取有关 DCI 的更多信息。它主要是 RUby 示例，但 DCI 的东西对此是不可知的。DCI 的关键之一是系统所做的与系统是什么是分开的。因此，数据对象非常愚蠢，但一旦绑定到上下文中的角色，角色方法就会使某些行为可用。角色只是一个标识符，仅此而已，当通过该标识符访问对象时，角色方法可用。没有角色对象/类。使用方法注入，角色方法的作用域并不完全像描述的那样，而是接近的。JS 中的上下文示例可能是

```
function transfer(source,destination){
   source.transfer = function(amount){
        source.withdraw(amount);
        source.log("withdrew " + amount);
        destination.receive(amount);
   };
   destination.receive = function(amount){
      destination.deposit(amount);
      destination.log("deposited " + amount);
   };
   this.transfer = function(amount){
    source.transfer(amount);
   };
} 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2014-01-11T07:44:32.223

正如其他发帖人所说，Angular 没有提供开箱即用的建模基类，但可以提供以下几个有用的功能：

1.  与 RESTful API 交互和创建新对象的方法
2.  建立模型之间的关系
3.  在持久化到后端之前验证数据；也可用于显示实时错误
4.  缓存和延迟加载以防止产生浪费的 HTTP 请求
5.  状态机挂钩（保存、更新、创建、新建等之前/之后）

一个能很好地完成所有这些事情的库是 ngActiveResource ( [https://github.com/FacultyCreative/ngActiveResource](https://github.com/FacultyCreative/ngActiveResource) )。完全公开——我编写了这个库——我已经成功地使用它来构建几个企业级应用程序。它经过了很好的测试，并提供了 Rails 开发人员应该熟悉的 API。

我和我的团队继续积极开发这个库，我希望看到更多的 Angular 开发人员为它做出贡献并对其进行实战测试。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2014-12-19T16:54:22.457

一个较老的问题，但我认为考虑到 Angular 2.0 的新方向，这个话题比以往任何时候都更相关。我想说一个最佳实践是编写代码，尽可能少地依赖特定框架。仅使用可以增加直接价值的框架特定部分。

目前看来，Angular 服务是少数几个将成为下一代 Angular 的概念之一，因此遵循将所有逻辑转移到服务的一般准则可能是明智之举。但是，我认为即使不直接依赖 Angular 服务，您也可以制作解耦模型。创建仅具有必要依赖项和职责的自包含对象可能是要走的路。在进行自动化测试时，它也让生活变得更加轻松。如今，单一职责是一项热门工作，但它确实很有意义！

这是我认为有利于将对象模型与 dom 解耦的模式示例。

[http://www.syntaxsuccess.com/viewarticle/548ebac8ecdac75c8a09d58e](http://www.syntaxsuccess.com/viewarticle/548ebac8ecdac75c8a09d58e)

一个关键目标是以某种方式构建代码，使其在单元测试中与在视图中一样易于使用。如果你做到了，你就可以很好地编写现实和有用的测试。

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2014-07-17T19:34:33.727

我试图在[这篇博](http://sauceio.com/index.php/2014/07/angularjs-data-models-http-vs-resource-vs-restangular/)文中解决这个确切的问题。

基本上，数据建模的最佳场所是服务和工厂。但是，根据您检索数据的方式和您需要的行为的复杂性，有很多不同的方法可以实现。Angular 目前没有*标准*方法或最佳实践。

这篇文章涵盖了三种方法，使用**$http**、**$resource**和**[Restangular](https://github.com/mgonto/restangular)**。

下面是每个示例代码，`getResult()`在 Job 模型上有一个自定义方法：

**Restangular（简单易懂）：**

```
angular.module('job.models', [])
  .service('Job', ['Restangular', function(Restangular) {
    var Job = Restangular.service('jobs');

    Restangular.extendModel('jobs', function(model) {
      model.getResult = function() {
        if (this.status == 'complete') {
          if (this.passed === null) return "Finished";
          else if (this.passed === true) return "Pass";
          else if (this.passed === false) return "Fail";
        }
        else return "Running";
      };

      return model;
    });

    return Job;
  }]); 
```

**$resource（稍微复杂一些）：**

```
angular.module('job.models', [])
    .factory('Job', ['$resource', function($resource) {
        var Job = $resource('/api/jobs/:jobId', { full: 'true', jobId: '@id' }, {
            query: {
                method: 'GET',
                isArray: false,
                transformResponse: function(data, header) {
                    var wrapped = angular.fromJson(data);
                    angular.forEach(wrapped.items, function(item, idx) {
                        wrapped.items[idx] = new Job(item);
                    });
                    return wrapped;
                }
            }
        });

        Job.prototype.getResult = function() {
            if (this.status == 'complete') {
                if (this.passed === null) return "Finished";
                else if (this.passed === true) return "Pass";
                else if (this.passed === false) return "Fail";
            }
            else return "Running";
        };

        return Job;
    }]); 
```

**$http（硬核）：**

```
angular.module('job.models', [])
    .service('JobManager', ['$http', 'Job', function($http, Job) {
        return {
            getAll: function(limit) {
                var params = {"limit": limit, "full": 'true'};
                return $http.get('/api/jobs', {params: params})
                  .then(function(response) {
                    var data = response.data;
                    var jobs = [];
                    for (var i = 0; i < data.objects.length; i ++) {
                        jobs.push(new Job(data.objects[i]));
                    }
                    return jobs;
                });
            }
        };
    }])
    .factory('Job', function() {
        function Job(data) {
            for (attr in data) {
                if (data.hasOwnProperty(attr))
                    this[attr] = data[attr];
            }
        }

        Job.prototype.getResult = function() {
            if (this.status == 'complete') {
                if (this.passed === null) return "Finished";
                else if (this.passed === true) return "Pass";
                else if (this.passed === false) return "Fail";
            }
            else return "Running";
        };

        return Job;
    }); 
```

博客文章本身更详细地说明了您可能使用每种方法的原因，以及如何在控制器中使用模型的代码示例：

[AngularJS 数据模型：$http VS $resource VS Restangular](http://sauceio.com/index.php/2014/07/angularjs-data-models-http-vs-resource-vs-restangular/)

Angular 2.0 有可能为数据建模提供更强大的解决方案，让每个人都在同一个页面上。

# vba - 如何强制用户在工作表中启用宏？

> ID：11112613
> 
> 赞同：2
> 
> 时间：2012-06-20T03:57:13.340
> 
> 标签：vba, excel

我有一个带有宏的模板，可以在单击按钮时验证数据。该模板只有一张纸，并且没有在该文件中添加任何图纸（它应该只有一张纸）。现在，我要做的是，当文件在没有启用宏的情况下打开时，我需要显示图像，请启用宏，否则不需要显示。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T04:05:46.390

> 如何强制用户在工作表中启用宏？

你的问题的答案是“**你不能**”

但是，Ken Puls 提供了一个替代方案，可以很好地满足您的目的。

**主题**：强制用户在工作簿中启用宏

**链接**：[http ://www.vbaexpress.com/kb/getarticle.php?kb_id=379](http://www.vbaexpress.com/kb/getarticle.php?kb_id=379)

引用该链接

> 由于无法使用宏来打开宏，因此需要一种确保用户已启用宏的技术。这种特殊方法隐藏了所有工作表，除了告诉用户启用宏的“欢迎”工作表，并且每次保存工作簿时都会强制执行。如果用户在启用宏的情况下打开工作簿，则工作表将全部被宏隐藏。工作表的隐藏也是使用 Excel 的 VeryHidden 属性完成的，这意味着不能使用 Excel 的菜单取消隐藏工作表。但是请记住，这只会影响此工作簿，因此用户可以使用另一个工作簿中的宏来取消隐藏所有工作表。但是，如果您的用户非常熟练，他们可能总是可以进入您的文件。注意：为防止某些事件循环问题，此代码需要推翻 Excel' s 内置保存事件，并且还需要复制 Excel 的“工作簿已更改，是否要保存”提示和操作。这段代码负责所有这一切。但是，它在关闭文件时确实会产生一个非常小的问题。如果用户尝试退出应用程序，它将关闭工作簿，但不会关闭 Excel。再次退出将完全关闭 Excel。

**跟进**

在关闭工作簿之前，请执行以下操作

1.  插入新行
2.  增加行高
3.  隐藏其余行
4.  在相关位置调整大小和移动图片

当你打开时做上面的相反

1.  取消隐藏其余行
2.  删除第一行
3.  减小尺寸并将图片移动到工作表中的最左侧位置

**重要**。

当您将图片放在工作表上时，右键单击图片并单击“设置图片格式”。在 中`Format Picture Dialog`，选择`Don't move or size with cells`并取消选中显示的选项`Print Object`

![在此处输入图像描述](../Images/cff63af1dc367f3e88fc885a85d051f1.png)

**关闭工作簿时的代码 - 应用与上述链接中所示相同的概念**

```
Dim shp As Shape

With Sheets("Sheet1")
    .Rows(1).Insert Shift:=xlDown, CopyOrigin:=xlFormatFromLeftOrAbove
    .Rows(1).RowHeight = 300

    .Rows("2:" & .Rows.Count).EntireRow.Hidden = True
    Set shp = .Shapes("Picture 1")
    With shp
        .Top = Sheets("Sheet1").Range("A1").Top
        .Left = Sheets("Sheet1").Range("A1").Left
        .LockAspectRatio = msoFalse
        .Height = 100
        .Width = 100
    End With
End With 
```

**打开工作簿时的代码 - 应用与上面链接中所示相同的概念**

```
Dim shp As Shape

With Sheets("Sheet1")
    .Rows("1:" & .Rows.Count).EntireRow.Hidden = False
    .Rows(1).Delete

    Set shp = .Shapes("Picture 1")
    With shp
        .LockAspectRatio = msoFalse
        .Height = 0
        .Width = 0
        .Top = Sheets("Sheet1").Range("A1").Top
        .Left = Sheets("Sheet1").Range("IV1").Left
    End With
End With 
```

注意：在上面的代码中，替换`"Sheet1"`为相关的工作表名称并替换`"Picture 1"`为相关的图片名称。我在 Cell 中显示图像`A1`。`.Top`您可以通过调整形状来修改它以显示您想要的图片`.Left`。

**禁用宏时的快照**

![在此处输入图像描述](../Images/756ced25d3cf17cfac80b6842b80556c.png)

# iphone - 解压来自 json web-service 的 gzip 类型响应

> ID：11112619
> 
> 赞同：1
> 
> 时间：2012-06-20T03:57:45.533
> 
> 标签：iphone, objective-c, ios4, gzip

我正在从 Web 服务获得 GZIP 类型的压缩响应。你能帮我解压缩或解码这样的响应吗？

```
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init]; 

[request setURL:[NSURL URLWithString:urlString]];

  **strong text** [request setValue:@"gzip" forHTTPHeaderField:@"Accept-Encoding"];

[request setTimeoutInterval:30];
[request setHTTPMethod:@"POST"]; 
[request setHTTPBody:requestData]; 
```

等待您的答复。谢谢你的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:54:00.683

```
NSData *data = [NSData dataWithContentsOfURL:URL]; 
```

如果内容被 gzip 压缩，这将自动解压缩内容。

# javascript - 在类中创建的 Javascript 鼠标事件侦听器

> ID：11112629
> 
> 赞同：0
> 
> 时间：2012-06-20T03:59:36.123
> 
> 标签：javascript, jquery, html, class

我在使用我的类创建鼠标侦听器时遇到问题。首先，我创建类（new mouseEventManager()），然后调用 init() 函数，我想设置我的 zoomHandler 函数。它必须使用类的变量 scale_level 才能适当地缩放屏幕。但是我被告知 scale_level 是 NaN （不是数字）。

这是代码：

```
function mouseEventManager() {

this.designManager;
this.canvasManager;
this.scale_level; 

this.init = function(designManager, canvasManager) {

this.designManager = designManager;
this.canvasManager = canvasManager; 
this.scale_level = 1; alert(this.scale_level);

var designManager = this.designManager;

//general mousemove listener
$(document).mousemove(function(e){
    designManager.HAND_X = e.pageX;
    designManager.HAND_Y = e.pageY;
}); 

//create scroll wheel listener
if(window.addEventListener) { document.addEventListener('DOMMouseScroll', this.zoomHandler, false); } 
document.onmousewheel = this.zoomHandler;

}

this.zoomHandler = function() {

var delta = 0;

if (!event) event = window.event;
// normalize the delta
if (event.wheelDelta) {
        // IE and Opera
        delta = event.wheelDelta / 60;
} else if (event.detail) {
        // W3C
        delta = -event.detail / 2;
}

if (delta > 0) {
    //scroll wheel up
    this.scale_level = this.scale_level * 1.25; alert(this.scale_level);
    this.canvasManager.mainLayer.setScale(this.scale_level);
    this.canvasManager.mainLayer.draw();
} else if (delta < 0) {
    //scroll wheel down
    this.scale_level = this.scale_level * 0.8;
    this.canvasManager.mainLayer.setScale(this.scale_level);
    this.canvasManager.mainLayer.draw();
}

alert(delta);

}

} 
```

看起来在 zoomHandler 中，没有定义 mouseEventManager 的内部成员。所以我认为我在变量范围或相关方面做错了。

感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:05:19.913

问题是，`this`当实际调用处理程序时，您的处理程序将不是您需要的。

尝试如下更改：

```
var manager = this;
this.zoomHandler = function() {
   // ... 
```

然后在`this`函数中使用的位置，而不是使用`manager`对对象的“已保存”引用。

```
if (delta > 0) {
    //scroll wheel up
    manager.scale_level = this.scale_level * 1.25; alert(manager.scale_level);
    manager.canvasManager.mainLayer.setScale(manager.scale_level);
    manager.canvasManager.mainLayer.draw();
} else if (delta < 0) {
    //scroll wheel down
    manager.scale_level = manager.scale_level * 0.8;
    manager.canvasManager.mainLayer.setScale(manager.scale_level);
    manager.canvasManager.mainLayer.draw();
} 
```

# actionscript-3 - 将 Starling 与 AVD 一起使用时出现“错误的 wmode 值”

> ID：11112634
> 
> 赞同：1
> 
> 时间：2012-06-20T03:59:56.247
> 
> 标签：actionscript-3, apache-flex, air, android-emulator, starling-framework

我目前正在使用通过 Flex/AIR SDK 和 Starling 设置的 FlashDevelop。我使用了 AIR for Android AS3 模板并成功编译了测试应用程序，而没有完美地初始化 Starling。这些应用程序在我的 Android 虚拟设备上运行良好。但是，一旦我初始化 Starling 实例，屏幕中间的红色条中就会显示错误“此应用程序未正确嵌入（错误的 wmode 值）”。我浏览了 Starling 论坛并直接设置，但我仍然收到错误消息。我也设置了-swf-version=15，但我仍然得到错误。真正奇怪的是，当我使用 FlashPlayer 11 进行编译时，一切正常。只有当我在 AVD 上编译和安装时才会出现错误。跟踪输出在我的调试器 logcat 中仍然显示正常，

如果我的解释不清楚，这个人似乎有类似的问题：http: [//forum.starling-framework.org/topic/wmode-issue-with-rendering-mode-direct](http://forum.starling-framework.org/topic/wmode-issue-with-rendering-mode-direct)

是的，我已将我的 AVD 设置为使用 GPU 加速。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-02T17:02:06.617

你现在可能已经解决了这个问题，但以防万一其他人遇到这个线程......

进入你的 *-app.xml 文件并搜索`<!--<renderMode></renderMode>-->`untag 它并在标签之间直接添加，所以它看起来像`<renderMode>direct</renderMode>`

# jquery - jquery mobile - 如何手动标记html？

> ID：11112637
> 
> 赞同：0
> 
> 时间：2012-06-20T04:00:55.440
> 
> 标签：jquery, jquery-mobile

我使用 ajax 加载页面并将其插入到当前页面的 div 中。如何标记它？我不使用 $.mobile.changePage，我只想知道如何使用 javascript 手动标记。请不要问为什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:56:33.510

如果您实际上不知道自己在做什么，则如果您向项目添加任何标记，则需要调用“刷新”事件。

例如：`$("#selectbox").html(optionList).selectmenu('refresh', true);`

标记以正常的 jQuery 方式添加到元素中。鉴于这不是问题，我不会讨论这个问题。

您可以在 FireFox 中使用 FireBug 查看元素并以与所有类完全相同的方式写出新元素，但这有点危险。

# c - 错误：在 'void' 之前应有 '='、','、';'、'asm' 或 '__attribute__'

> ID：11112639
> 
> 赞同：0
> 
> 时间：2012-06-20T04:01:23.183
> 
> 标签：c, function, compiler-errors

我在网上看到过这个错误几次，但我从未见过解决方案，我刚刚得到它。

错误：

```
C:\Users\Jake\Desktop\FightingChance\Fighting_Screen.c:3:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'void' 
```

这是代码：

```
#include "main.h"
///////////////////////////////////////////////////////////////////////////////////////////
void prefight(void)
{
     system("cls");
     printf("%s:\n\nScore = %ld \n\nYour Pre-Fight Stats:\n\nStrength = %ld \nToughness = %ld \nHealth = %d\n\n",name,UserStats[0],UserStats[1],UserStats[2],Userpre_health);
     printf("\n\nEnemy:\n\nYour Enemies Pre-Fight Stats:\n\nStrength = %ld \nToughness = %ld \nHealth = %d\n\n",EnemyStats[1],EnemyStats[2],Enemypre_health);
     printf("\nPress any key to return to menu");
     getch();
}
///////////////////////////////////////////////////////////////////////////////////////////
... 
```

我非常感谢您的帮助，如果您需要更多信息或代码，请告诉我......提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T04:03:28.830

检查你的头文件 main.h。您可能忘记在任何内容的末尾加上分号。

# php - 使用 PHP 安全地传输数据

> ID：11112641
> 
> 赞同：1
> 
> 时间：2012-06-20T04:01:37.087
> 
> 标签：php, wordpress, encryption

我正在开发一个 wordpress 插件。我的插件需要一些数据从用户的 wordpress 传输到我的网站（在服务器端）。我可以为此使用 cURL，但我想提供一点安全性。我不能使用 HTTPS 或 SSL，因为这些数据不是那么敏感，值得购买证书。我怎样才能做到这一点？一些公钥私钥算法什么的？我应该以哪种格式传输数据？它们是几根弦。你能建议我一个安全的方法吗？我担心 MITM 攻击。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:10:00.947

我不确定这是否是一个解决方案，但您始终可以从您的终端读取信息。您可以将信息收集到本地文件（在客户端的插件文件夹中），然后定期从您的服务器（通过一些 crone 脚本）远程读取它吗？并使用类似的东西

```
file_get_contents("http:// wordpress pluginfolder ..... etc.   ??? 
```

...插件文件夹始终在同一个位置，因此 URL 不应该成为问题 ...对于“安全”部分，只需保护文件，以便只有您可以阅读它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:35:07.520

是否为用户（拥有自己的 wordpress 站点）提供一个独特的“令牌”以存储在插件的配置中？

如果每个用户都有一个令牌，并且该用户有一个匹配的令牌，则可以使用该令牌对数据进行加密和解密。

令牌本身永远不会与加密数据一起进行通信，因此中间的任何人都很难解密它（并非不可能，但如果没有 SSH，您将获得最好的结果）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T09:46:38.820

我正在使用以下方法通过 HTTP 传输安全数据。Data 是一个 Request 对象，我正在对其进行序列化。现在这个序列化对象使用`mcrypt_encrypt()`如下加密

```
$encrypted=base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, md5($key), $string, MCRYPT_MODE_CBC, md5(md5($key)))); 
```

如此处所述[，](https://stackoverflow.com/questions/1289061/best-way-to-use-php-to-encrypt-and-decrypt)并使用 curl 将该加密数据发布到我的主机。

在我的主机上，我使用解密数据

```
$decrypted = rtrim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, md5($key), base64_decode($encrypted), MCRYPT_MODE_CBC, md5(md5($key))), "\0"); 
```

然后反序列化对象。我还在添加盐以提高安全性。

更详细的解释，你可以访问[这个帖子](http://ksg91.com/2012/07/19/transferring-data-securely-http-php/)

# php - 我应该始终打开会话吗？

> ID：11112650
> 
> 赞同：0
> 
> 时间：2012-06-20T04:03:26.170
> 
> 标签：php, session

我应该经常在我的网站上使用用户帐户打开一个会话，还是只在他们登录时才启动它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:09:43.870

如今，立即启动一个非常普遍，特别是如果您正在执行任何类型的用例日志记录。如果您正确地进行会话，则成本非常低。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:10:33.553

这将取决于你的需要。

例如：在线购物网站可以跟踪已注销但仍在浏览其网站的用户。这将使他们能够获得一些浏览模式并知道用户在看什么并可能提出建议。

这只是一种情况。

# http-status-code-404 - 网页结构如何？

> ID：11112654
> 
> 赞同：0
> 
> 时间：2012-06-20T04:03:49.790
> 
> 标签：http-status-code-404

我有 6 个网站，mydomain.com 这是我的第一个网站，目录是 public_html，其他 5 个在 public_html/domain.com 我不知道它会像 mydomain.com/domain.com 一样工作。主要问题是链接deis两次。例如：domain.com/index.php&option... 如果此链接失效 mydomain.com/domain.com/index.php&option... 也会失效。我想修复它。有什么办法可以改写方向。示例：mydomain.com/domain.com/index.php&option... -> domain.com/index.php&option... 等

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:10:03.693

这些被称为`virtual hosts`。您需要搜索如何配置虚拟主机。您需要搜索特定于您正在使用的 Web 服务器（IIS、Apache 等）的说明。

# php - CI 只返回 Validation_error 而不是整个表单页面

> ID：11112658
> 
> 赞同：0
> 
> 时间：2012-06-20T04:04:15.457
> 
> 标签：php, codeigniter, codeigniter-form-helper

我在同一页面上查看了登录和注册表单。我想只返回错误消息而不刷新整个页面。我怎样才能做到这一点？

```
public function signup() {      

        $this->form_validation->set_rules('user_name', 'User name', 'min_length[4]|is_unique[ts_user.user_name]|xss_clean');
        $this->form_validation->set_rules('user_twitter_id', 'User Twitter ID', 'is_unique[ts_user.user_twitter_id]|xss_clean');
        $this->form_validation->set_rules('password', 'Password', 'required|min_length[8]');
        $this->form_validation->set_rules('email', 'Email', 'required|valid_email|is_unique[ts_user.email]');

        if($this->input->post('submit') == TRUE) {
            if($this->form_validation->run()) {
                $twitterid = $this->input->post('user_twitter_id');
                $username = $this->input->post('user_name');
                $email = $this->input->post('email');
                $password = $this->input->post('password');

                $this->Usermodel->add_user($twitterid, $username, $email, $password);
                echo 'Successful.';
            } else {
                echo validation_errors();
                /*$this->load->view('registration_view');*/
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:13:56.960

不要使用post，使用ajax

样本：

```
var paperData = 'name=' + sourceFileName + '&' + 'file=' + uploadFileName;
 var url = encodeURI('/Paper/Create?' + paperData);
            ajax

            ({

                block: false,

                url: url,

                success: function (r) {

                    if (r.success) {

                                    var html='<tr><td class="tac">';

                                        html = html + r.displayName;

                                        html = html + '</td>';

                                        html = html + '<td class="tac">';

                                        html = html + r.type;

                                        html = html + '</td>';

                                        html = html + '<td>';

                                        html = html + '<a class="showPaperEditor" href="/Paper/Edit/';

                                        html = html + r.paperID;

                                        html = html + '" w="570" h="340" >修改</a>';

                                        html = html + '<span class="cd">┊&lt;/span>' ;

                                        html = html + '<a class="a-ajax-delPaper" href="/Paper/Delete/';

                                        html = html + r.paperID;

                                        html = html + '">删除</a>';

                                        html = html + '</td></tr>';

                                    $('#tbPaperList').append(html);

                    }

                    else {

                        alert(r.message);

                        //$.unblockUI();

                    }

                }

            }); 
```

# eclipse - 如何在 Eclipse 中打开控制台窗口？

> ID：11112670
> 
> 赞同：87
> 
> 时间：2012-06-20T04:06:50.013
> 
> 标签：eclipse, console

我不小心关闭了 Eclipse 中的控制台窗口，现在我看不到我的代码运行的结果。

怎么又打开了？

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2012-06-20T04:08:23.407

从菜单栏中，窗口 → 显示视图 → 控制台。或者，使用键盘快捷键：

*   Mac：`Option`- `Command`- `Q`，然后`C`，或
*   Windows：`Alt`- `Shift`- `Q`，然后`C`

![在此处输入图像描述](../Images/4e1cbbc7e41fb9fcedf3882033a6353a.png)

* * *

## 回答 #2

> 赞同：56
> 
> 时间：2013-01-18T21:58:10.260

对我来说唯一的解决方案是：

单击窗口->关闭所有透视图（您也可以尝试关闭透视图）

在此之后，在右上角单击：打开透视图->资源

完毕

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2014-12-13T13:55:24.963

只需打开窗口（在 Eclipse IDE 中）-> 单击重置透视图。它对我有用。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2012-09-19T14:21:50.177

“修剪堆栈”是一个垂直图标栏，如果它还没有，它应该出现在主窗口的一侧。回到最初写这个答案的时候，它在左侧（我有一个屏幕截图，不幸的是被上传到某个图像粘贴箱位置而不是 Stack Overflow，然后链接，并且已经丢失了）。目前还不是 Eclipse 用户，我不知道是否仍然如此。

它包含每个最小化的子窗口的图标，因此如果它们都没有被最小化，则没有修剪堆栈。尝试最小化 Package Explorer/Navigator 窗口，您应该会看到它出现。然后，您可以单击修剪堆栈中的“恢复”图标（顶部的重叠方块）以恢复窗口。

但是 - 并且不一致 - 有时使用 Eclipse Juno，当带有控制台等的窗口被最小化并且没有修剪堆栈时，修剪堆栈不会出现并且使用“显示视图”什么都不做。我发现的解决方法是最小化其他一些窗口，然后出现修剪堆栈并出现控制台图标（蓝色和白色监视器方块）。单击它，控制台等将出现在弹出窗口中。单击该弹出窗口中的“恢复”图标，它将再次成为主窗口的一部分。

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2012-12-17T10:00:49.613

我还错误地删除了我的 Eclipse 控制台，但是对我来说最有效的是在菜单右侧的“快速访问”框中键入“控制台”，然后它就恢复了！我正在运行版本 4.2.1，不确定此快速访问框是否在其他版本中可用。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2014-02-20T12:34:16.843

只需按`Alt+Shift+Q`,`c`即可快速访问。（在 Windows 中）

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2017-11-23T13:31:31.087

在eclipse中点击窗口>显示视图>控制台。就是这样。您已设置为使用控制台。快乐的编码。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-10-14T19:53:56.783

窗口 > 透视 > 重置透视

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-03-22T17:12:35.753

1.  打开日食
2.  点击窗口
3.  转到显示视图
4.  点击控制台
5.  现在将其最小化或将其拖到底部，它将在您的控制台和其他屏幕之间拆分

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2019-08-02T10:27:40.527

最好先保存代码，windows -> Perspective -> close all Perspective。然后从 windows -> Perspective -> 打开你想要的透视图。现在您可以查看透视图所需的所有选项卡

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2016-11-23T11:13:22.277

# 适用于 C/C++

> 窗口 -> 首选项 -> C/C++ -> 构建 -> 控制台

在限制控制台输出字段上增加所需的行数。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-05-19T04:39:57.410

再次访问控制台，他是Windows上的截图。

[![从 Mars.2 版本 (4.5.2) 开始在 Eclipse 中重新打开控制台视图](../Images/cee38b56f4f1f77b93bf6bcc2ba0d288.png)](https://i.stack.imgur.com/vFuYf.png)

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-05-20T09:47:16.650

对于 Spring Tool Suite（Eclipse 的扩展），在 Windows 中是

Alt + Shift + Q、C

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2017-12-05T14:31:05.860

打开它的唯一可靠方法是窗口 -> 显示视图 -> 其他 -> 搜索“控制台”。这篇文章中有一些建议，但没有一个有效！显然 Eclipse 喜欢每隔一秒就改变一次逻辑。

此外，重置视图是最可怕的建议，因为那样你将失去你为改变布局所做的一切，所以它可能对大多数读者不起作用。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2020-07-16T00:27:33.117

最简单的方法是在 Eclipse 中单击“控制台”图标，如下所示：

[![在此处输入图像描述](../Images/6e964bcb5976ce4006b898c1fe0290b3.png)](https://i.stack.imgur.com/uBmST.png)

# authentication - 不使用会话的 SSO 身份验证

> ID：11112671
> 
> 赞同：0
> 
> 时间：2012-06-20T04:06:50.620
> 
> 标签：authentication, jakarta-ee, single-sign-on, shibboleth

我正在尝试自定义使用 Shibboleth 身份验证机制的 Java EE Web 应用程序（使用速度开发）。但是，我被要求在不使用会话的情况下提供 SSO 身份验证。用户登录到一个门户并获得身份验证。在同一个门户中，他单击指向另一个门户的链接。我应该对其进行自定义，以便可以直接通过 URL 检查身份验证。第二个门户有自己的数据库，其中包含用户名及其各自的角色。我不确定的两件事是：-

1.  如果用户退出第一个门户，第二个门户将如何实现？

2.  如果用户刚刚从以前访问第一个门户的某个 URL 复制了 URL，那么第二个门户将如何实现？

有没有办法解决这些问题？

# linux - i2c 数字音频流作为 linux 音频中的输入

> ID：11112674
> 
> 赞同：0
> 
> 时间：2012-06-20T04:07:33.517
> 
> 标签：linux, audio, driver, i2c

目前我有一个 A/D（模数转换器），我用它来将模拟音频流转换为数字，以通过 I2C 输入计算机音频系统。最终目标是获取数字流并通过 I2C 总线将其泵送到运行 Debian Linux 的计算机，然后将其作为音频输入接收以进行修改（对音频进行效果）或仅输出据说是电脑的麦克风输入。

目前我不确定在 linux 中从哪里开始。任何和所有的帮助将不胜感激。

我还没有设置数字音频的 I2C 输出流，因为我不知道如何在 linux 端解释数据。

谢谢，埃里克

# linux - 用于调试 Linux 设备驱动程序的 GDB

> ID：11112685
> 
> 赞同：0
> 
> 时间：2012-06-20T04:08:52.180
> 
> 标签：linux, debugging, gdb, driver

我是使用 GDB 调试器的新手。我正在关注链接[http://www.linuxforu.com/2011/01/understanding-a-kernel-oops/](http://www.linuxforu.com/2011/01/understanding-a-kernel-oops/) 我使用相同的代码和相同的`Makefile`. Syslogd 正在运行并`CONFIG_DEBUG_INFO`设置为`y`. 但是，我仍然没有成功。当我`.ko`用 GDB 打开文件时，我收到了消息

> 未找到调试符号

当我使用`list*`命令时，我得到

> 未找到符号表。

请帮帮我。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T20:24:21.460

这可能是从树中构建驱动程序的怪癖之一。使用

CONFIG_DEBUG_INFO=1 使

当你构建你的驱动程序时，你会得到调试符号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T09:08:52.683

You can try adding `-g` option while compiling the modules. This option should generate debugging symbols. Cannot say exactly why your flag 'CONFIG_DEBUG_INFO' is not working.

# database - 级联删除如何在 coredata 的多对多关系中工作？

> ID：11112688
> 
> 赞同：2
> 
> 时间：2012-06-20T04:09:36.283
> 
> 标签：database, core-data, cascading-deletes

比如说，我们有 2 个实体：**父母**和**孩子**。

**删除父**级时，所有**子**级也将被删除。

伟大的。

现在我们有了一个叫做**情人**的实体。

每个人都可以“爱”许多其他人，并被许多人所爱。

如果一个人被删除会怎样？

是否级联删除：

1.  根本不工作？
2.  当最后一个爱你的人被删除时，删除你？

要不然是啥？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:44:19.317

我认为，您不应该以这种方式将级联与 to-many 一起使用，因为当它删除您删除的对象的所有**情人**时，它可能会越走越远并删除整个数据库。

因此，对您来说更好的方法是拥有一个中间（“加入”）实体，例如**loverInfo**。这是Apple根据**朋友**关系建议您如何执行此操作的方法。

> 最初被建模为与自身相反的多对多关系的一个常见示例是“朋友”。虽然不管他们喜不喜欢你是你表弟的表弟，但你不一定是你朋友的朋友。对于这种关系，您应该使用中间（“连接”）实体。中间实体的一个优点是您还可以使用它向关系中添加更多信息——例如，“FriendInfo”实体可能包含一些带有“排名”属性的友谊强度指示。这在此处进行了说明

![图 3](../Images/b1812420b5dea348e155ff8f98e340e6.png)

> 在此示例中，Person 与 FriendInfo 有两个对多的关系：friends 表示源人员的朋友，befriendedBy 表示将源视为其朋友的人。FriendInfo 代表关于一个友谊的信息，“在一个方向上”。一个给定的实例会注明来源是谁，以及他们认为是他们朋友的一个人。如果感觉是相互的，那么就会有一个相应的实例，源和朋友互换。处理此类模型时还有其他几个注意事项：

*   要在一个人与另一个人之间建立友谊，您必须创建一个 FriendInfo 实例。如果两个人都喜欢对方，则必须创建两个 FriendInfo 实例

*   要破坏友谊，您必须删除 FriendInfo 的相应实例。

*   从 Person 到 FriendInfo 的删除规则应该是级联的。如果一个人从商店中删除，那么 FriendInfo 实例将变为无效，因此也必须删除。
*   作为推论，从 FriendInfo 到 Person 的关系不能是可选的——如果源或朋友为空，则 FriendInfo 的实例无效。

# php - 在 Windows 上安装 Behat

> ID：11112690
> 
> 赞同：0
> 
> 时间：2012-06-20T04:09:43.827
> 
> 标签：php, behat

我已经在 xampp (windows) 中安装了 behat。我用 PEAR 来安装它。但是当我使用控制台运行时，它不起作用，因为需要一些 Symfony 框架上的文件。错误信息可以在这张图片上看到：
[![在此处输入图像描述](../Images/b14354a9c9e73e9df676f0e057cd51f0.png)](https://i.stack.imgur.com/iAQGL.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T02:30:09.770

直到今天，我还没有习惯在 Windows 环境中工作。考虑启动一个 Ubuntu 32 位虚拟机，并在那里试一试，以获得最佳的 Behat 体验。在其开发的这个阶段，Windows 支持不存在。

# mysql - freebsd / mysql 5.5 高 i/o 使用率

> ID：11112691
> 
> 赞同：2
> 
> 时间：2012-06-20T04:10:03.210
> 
> 标签：mysql, io, freebsd, disk

我有个问题。

我在 freebsd8 服务器上使用 mysql5.5，带有 php 5.3.13 -fpm 和 nginx。

当我查看 iostat -d 2 时，我看到写入中的磁盘 i/o 20 30 mb/s 很高，但是从监视 df 中可以看出，这并不能转化为实际的磁盘增长。

我查看了“top”，然后点击 m 参数来切换，看看是哪个进程导致了这个磁盘活动，它显示它是 mysql 服务器。

我不知道从哪里开始，因为这让我有点困惑，为什么这种高磁盘写入实际上并没有转化为磁盘使用被修改。

你能给我一个提示，让我朝着正确的方向前进吗？

我的硬件：raid10 中的双四核 xeons / 4 x 120 gb ssd / 16 gb ram

下面是我的“my.cnf”文件

```
 [mysqld]
datadir=/var/db/mysql
socket=/tmp/mysql.sock
skip-external-locking
skip-name-resolve
query_cache_limit=256M
query_cache_size=256M
query_cache_type=1
ft_min_word_len=3
max_user_connections=200
max_connections=200
interactive_timeout=10
wait_timeout=30
connect_timeout=10
thread_cache_size=128
long_query_time=5
key_buffer_size=1024M
join_buffer=2M
max_allowed_packet=16M
table_cache=32384
sort_buffer_size=4M
read_buffer_size=4M
max_connect_errors=10
thread_concurrency=8
myisam_sort_buffer_size=64M
low_priority_updates=1
concurrent_insert=2
max_heap_table_size=128M
tmp_table_size=128M
slow_query_log=1
slow_query_log_file=/var/db/mysql/razor-slow-log-by-katmai.log
long_query_time=1
log-queries-not-using-indexes
server-id=1
local-infile=0
innodb_open_files=131072
innodb_buffer_pool_size=8192M
#new options
#innodb_log_file_size=256M
#innodb_log_buffer_size=4M
#innodb_flush_log_at_trx_commit=2
#innodb_thread_concurrency=8
############################
#for recovery
#innodb_force_recovery=4
#innodb_file_per_table=

#[mysql.server]
#user=mysql
#basedir=/var/lib

[safe_mysqld]
err-log=/var/db/mysql/razor-mysqld.log
pid-file=/var/db/mysql/mysql.pid
open_files_limit=131072

#[mysqldump]
#quick
#max_allowed_packet=16M

[mysql]
no-auto-rehash

[isamchk]
key_buffer=64M
sort_buffer=64M
read_buffer=16M
write_buffer=16M

[myisamchk]
key_buffer=64M
sort_buffer=64M
read_buffer=16M
write_buffer=16M

[mysqlhotcopy]
interactive-timeout 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-23T19:40:48.150

标准`iostat`显示显示*组合*读取和写入：

```
foobox:~> iostat -d 2
          ada0             ada1              cd0              cd1 
KB/t tps  MB/s   KB/t tps  MB/s   KB/t tps  MB/s   KB/t tps  MB/s 
27.52   5  0.15  14.82   2  0.03   0.00   0  0.00   0.00   0  0.00 
96.00   1  0.14   0.00   0  0.00   0.00   0  0.00   0.00   0  0.00 
128.00   1  0.19   0.00   0  0.00   0.00   0  0.00   0.00   0  0.00 
64.00   3  0.19   0.00   0  0.00   0.00   0  0.00   0.00   0  0.00 
```

所以我的猜测是你根本看不到写入，而是读取。

要单独查看它们，您需要使用该`-x`标志进行扩展统计：

```
foobox:~> iostat -d -x 2
                        extended device statistics  
device     r/s   w/s    kr/s    kw/s qlen svc_t  %b  
ada0       1.9   3.6    51.3    98.5    0  37.6   1 
ada1       0.8   1.3     3.3    28.0    0  12.5   0 
cd0        0.0   0.0     0.0     0.0    0   0.0   0 
cd1        0.0   0.0     0.0     0.0    0   0.0   0 
pass0      0.0   0.0     0.0     0.0    0   0.0   0 
pass1      0.0   0.0     0.0     0.0    0   0.0   0 
pass2      0.0   0.0     1.1     0.0    0   0.0   0 
pass3      0.0   0.0     0.0     0.0    0   0.0   0 
```

有关标头含义的完整概述，请参阅 iostat 手册页，但 kr/s 是每秒读取的千字节数，而 kw/s 是每秒写入的千字节数。

# iphone - 如何打开多个 UIwebView

> ID：11112695
> 
> 赞同：-3
> 
> 时间：2012-06-20T04:10:19.350
> 
> 标签：iphone, objective-c, ios, uiwebview

在 UIWebView 1 单击超链接然后打开 UIWebView 2，单击 UIWebView 2 中的超链接然后打开 UIWebView 3，单击 UIWebView 3 中的超链接然后打开 UIWebView 4...。

如何实施？

我现在打开第二个 UIWebView

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType {
self.otherWebView = [[UIWebView alloc] init];
    numberOfOpenedWebPage ++;
    self.otherWebView.tag = numberOfOpenedWebPage;

    self.otherWebView.delegate = self;
    CGRect frame = self.view.frame;
    self.otherWebView.frame = CGRectMake(frame.size.width, 0.0f, frame.size.width, frame.size.height);
    [self.view addSubview:self.otherWebView];
    [otherWebView loadRequest:request]; 
```

因为每一个新的 webview 都需要共享委托方法，所以我将 uiwebview var 定义为 class var。但我不知道如何创造更多`shouldStartLoadWithRequest`

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:38:46.613

您当前代码的问题是您不检查超链接的打开位置。

你应该根据这个伪代码重写代码：

```
// Declare a NSMutableArray in the .h file to store all UIWebViews that are loaded this way.
// Assume that I can refer to it as self.allWebViews
// Set tag of the first UIWebView to 0, and put it in self.allWebViews

if (self.allWebViews.count <= webView.tag + 1) {
    Initialize a new UIWebView
    Set tag to self.allWebViews.count
    Add it to self.allWebViews
    Subview the UIWebView
    Set it to load NSURLRequest passed in
} else {
    Get the UIWebView from the (webView.tag + 1) position of the self.allWebViews
    Set the UIWebView to load the NSURLRequest passed in
}

// Never load hyperlink in the current web view
return NO; 
```

请注意，UIWebViews 由 NSMutableArray 的强引用保存。我不确定你的程序是如何工作的，但如果你不再使用它，你必须注意这一点才能释放 UIWebView。

# c++ - 用 C++ 开发记事本

> ID：11112696
> 
> 赞同：-1
> 
> 时间：2012-06-20T04:10:19.367
> 
> 标签：c++, notepad

我正在尝试用 C++ 开发一个带有菜单的记事本。代码如下。

```
#include <windows.h>
#define IDI_APP_ICON    1
#define IDD_ABOUT   100
#define IDC_STATIC  101
#define IDM_MAINMENU    200
#define IDM_FILE_NEW    201
#define IDM_FILE_OPEN   203
#define IDM_FILE_SAVE   204
#define IDM_FILE_EXIT   205
#define IDM_HELP_ABOUT  206

class MainWindow
{
public:
MainWindow(HINSTANCE hInstance);
~MainWindow();
static LRESULT CALLBACK MainWndProc (HWND hwnd, UINT msg, WPARAM wParam, LPARAM       lParam);

static void OnCommand(HWND hwnd, int id, HWND hCtl, UINT codeNotify);
bool Run(int nCmdShow);

private:
WNDCLASSEX m_wndClass;
static HINSTANCE m_hInstance;
HWND m_hwnd;
static char m_szClassName[];
};

class AboutDialog
{
public:
AboutDialog();
~AboutDialog();
static BOOL CALLBACK DialogProc (HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam);
int Run(HINSTANCE hInstance, HWND hParent);

private:
HWND m_hwnd;
};

AboutDialog::AboutDialog()
{
}

AboutDialog::~AboutDialog()
{
}

// Function: Run
// Returns: Result of the DialogBox
int AboutDialog::Run(HINSTANCE hInstance, HWND hParent)

{
int retval = DialogBox(
    hInstance,
    MAKEINTRESOURCE(IDD_ABOUT), // Dialog template
    hParent, // Pointer to parent hwnd
    DialogProc);

}
BOOL CALLBACK
AboutDialog::DialogProc (HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)
{
int retVal = false;
switch(msg)
{
case WM_INITDIALOG:
    retVal = true;
    break;
case WM_COMMAND:
    if(LOWORD(wParam)== IDOK)
        EndDialog(hwnd, TRUE);
    break;
case WM_CLOSE:
    EndDialog(hwnd, TRUE);
    break;
}
return retVal;
}

char MainWindow::m_szClassName[] = "DrawLite";
HINSTANCE MainWindow::m_hInstance = NULL;

MainWindow::MainWindow(HINSTANCE hInstance)
{
m_hInstance = hInstance; // Save Instance handle

m_wndClass.cbSize = sizeof(WNDCLASSEX); // Must always be sizeof(WNDCLASSEX)
m_wndClass.style = CS_DBLCLKS; // Class styles
m_wndClass.lpfnWndProc = MainWndProc; // Pointer to callback procedure
m_wndClass.cbClsExtra = 0; 
m_wndClass.cbWndExtra = 0; 
m_wndClass.hInstance = hInstance;
m_wndClass.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_APP_ICON));
m_wndClass.hCursor = LoadCursor(NULL, IDC_ARROW); 
m_wndClass.hbrBackground = (HBRUSH) (COLOR_WINDOW);
m_wndClass.lpszMenuName = MAKEINTRESOURCE(IDM_MAINMENU);
m_wndClass.lpszClassName = m_szClassName; 
m_wndClass.hIconSm = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_APP_ICON));
}

MainWindow::~MainWindow()
{
}

LRESULT CALLBACK MainWindow::MainWndProc (HWND hwnd, UINT msg, WPARAM wParam, LPARAM  lParam)
{
switch (msg)
{
case WM_DESTROY:
    PostQuitMessage (0);
    break;
case WM_COMMAND:
//HANDLE_WM_COMMAND(hwnd, wParam, lParam, OnCommand);
    break;
default:
    return DefWindowProc (hwnd, msg, wParam, lParam);
}

return 0;
}

void MainWindow::OnCommand(HWND hwnd, int id, HWND hCtl, UINT codeNotify)
{
switch(id)
{
case IDM_FILE_EXIT:
    PostQuitMessage(0);
    break;
case IDM_HELP_ABOUT:
    AboutDialog* dlg = new AboutDialog();
    dlg->Run(m_hInstance, hwnd);
    delete dlg; dlg = NULL;
    break;
}
}

bool MainWindow::Run(int nCmdShow)
{
if(!RegisterClassEx(&m_wndClass))
    return false;
m_hwnd = CreateWindowEx(
        0,
        m_szClassName,
        "Draw Lite",
        WS_OVERLAPPEDWINDOW,
        CW_USEDEFAULT,
        CW_USEDEFAULT,
        500,
        400,
        NULL,
        NULL,
        m_hInstance,
        NULL
        );
if(!m_hwnd)
    return false;
ShowWindow(m_hwnd, nCmdShow);
return true;
}
int WINAPI
WinMain(HINSTANCE hInst, HINSTANCE hPrev, LPSTR lpCmdLine, int nCmdShow)
{
MSG msg;

MainWindow *winMain = new MainWindow(hInst);
if(!winMain->Run(nCmdShow))
{
    delete winMain;
    return 1; // error
}

// Run the message loop. It will run until GetMessage() returns 0
while (GetMessage (&msg, NULL, 0, 0))
{
    // Translate virtual-key messages into character messages
    TranslateMessage(&msg);
    // Send message to WindowProcedure
    DispatchMessage(&msg);
}

delete winMain;

return msg.wParam;
} 
```

我有一个链接器错误，不知道如何修复它，因为我在这个领域很新。我想知道是否有人可以帮助我。谢谢，

这是我得到的错误

```
[Linker error] undefined reference to _ZN11AboutDialog10DialogProcEP6HWND__jjl@16' 
```

这也是`[Linker error] undefined reference to _ZN11AboutDialog10DialogProcEP6HWND__jjl@16'`

阿西夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:33:48.480

虽然您在这里没有任何大错误，但您有一些较小的错误。正如链接器所说，您已经声明但尚未定义`AboutDialog::DialogProc`.

您还没有返回值`AboutDialog::Run`（您已经定义了一个名为 的变量`retval`，但还没有返回它的值）。

你真的需要修复你的缩进。

您没有主消息循环（可能应该在丢失的`main`/中`WinMain`）？

您还没有包含任何要创建的代码和类`Run()`的实例`MainWindow`。您通常会在`main`or中执行此操作`WinMain`（您似乎都没有定义）。

# jsf - 你如何使用 标记而不进行整页刷新？

> ID：11112699
> 
> 赞同：1
> 
> 时间：2012-06-20T04:11:05.527
> 
> 标签：jsf, primefaces

如何在`<p:poll/>`不进行整页刷新的情况下使用标签？

我在下面有这段代码，我告诉标签只更新消息 id，但它正在更新整个中心 layoutPane：

```
<pe:layoutPane id="center" position="center">
    <h:form id="mainF">
        <h:panelGroup id="centerContent" minHeight="70%" maxHeight="70%">
            <ui:include src="#{navigationBean.pageName}.xhtml" />
        </h:panelGroup>
    </h:form>
    <p:messages id="messages">  
        <p:effect type="pulsate" event="load" delay="1000">
            <f:param name="mode" value="'show'" />  
            <f:param name="times" value="1000" />
        </p:effect>
    </p:messages>
    <h:form id="pollF">
        <p:poll interval="10" listener="#{alarmsBean.checkAlarms()}" update=":messages" partialSubmit="true" process="pollF" />
    </h:form>
</pe:layoutPane> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:23:18.507

试试这种方式： -

更改`<p:messages id="messages">`为

```
<p:messages id="messages" showDetail="true" showSummary="true"> 
```

**或者**

```
<p:messages id="messages" autoUpdate="true"> 
```

# php - 如何识别正确的电子邮件以更新正确的数据库记录？

> ID：11112701
> 
> 赞同：0
> 
> 时间：2012-06-20T04:11:23.060
> 
> 标签：php, mysql, email, cakephp, imap

使用 PHP，我正在制作一个类似于在线礼宾服务的应用程序。我有一个页面显示一个表单，询问用户他想让我做什么。当用户完成表单时，信息将被保存到数据库中，并且用户会收到一封电子邮件，内容是：“感谢您最近提交：（无论他刚刚提交了什么）。” 用户将（希望）每月多次提交相同的表单。

我希望用户能够使用新信息回复我的自动电子邮件，然后这些新信息会更新正确的数据库记录。

**问题：如何获取新信息来更新正确的数据库记录？**

例如，假设用户“John”今天提交了两次该表单。首先，他要求我为他预订 Chili's 的晚餐，然后他要求我为他预订一些飞往纽约的机票。John 将收到来自该站点的 2 封电子邮件，感谢他的请求。让我们说今天晚些时候，John 改变了主意，决定转而去 Applebees。我希望他能够回复第一封电子邮件，说明他的变化。然后，我希望将该信息附加到数据库中的正确记录中。 **如何在数据库记录中的信息和电子邮件之间建立联系？**

我想作为一种可能的解决方案，我可以在电子邮件的主题行中包含数据库的记录 ID 号，例如：“感谢您最近的请求 #428。” 然后我可以获取该编号 428 并更新数据库中的记录编号 428。但我认为如果用户看到这个数字突然出现，这可能会让用户感到困惑。

我正在寻找类似于使用隐藏输入的东西，就像您可以在表单中执行的操作和处理 POST 数据一样。

顺便说一句：我正在使用 CakePHP 2.1.x 并正在使用 IMAP 下载我的电子邮件。但答案可能不是 CakePHP 特有的。

有什么建议么？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:23:17.627

这是通常的做法。它通常与唯一的回复和发件人地址结合使用，以增加更多安全性并可以跟踪退回邮件。

这很安全（为什么有人会更改主题行？）但是您仍然应该确保只有正确的发件人地址才能进行修改，否则恶意用户可以更改号码并将内容发布到他们喜欢的任何票证上。

这对用户来说很容易。我要改变的是主题的措辞，原因有两个：

1.  请求编号是一个技术编号，不应成为句子的一部分（在我看来）。
2.  如果您能够创建一个更有说服力的主题行，以便用户可以看到两封邮件中的哪一封是针对哪种类型的服务，那么用户将更容易找到并回复正确的两封邮件。即使它只是一个非常通用的类别名称来区分它们，它也可能对许多用户有用。

考虑到这一点，一个很好的主题行可能是：

> 晚餐预订请求 - 自动确认 (#428)

# java - java：打印JFrame的内容

> ID：11112702
> 
> 赞同：0
> 
> 时间：2012-06-20T04:11:30.153
> 
> 标签：java, swing, printing, jframe, graphics2d

我正在制作用于打印 JFrame 内容的应用程序。它可以正常工作，但我的问题是我必须在不同表单上的“打印”JButton 上调用该应用程序，例如 Print JButton 在 Form_1.java 上并且打印内容在Form_2.java ...我在打印按钮上使用 ActionListener 但它不起作用..请帮助我我的项目在截止日期前...我在这里发布了我的代码：

```
public class PrintUI implements Printable, ActionListener {
    JFrame frameToPrint;

    public int print(Graphics g, PageFormat pf, int page) throws
            PrinterException {
        if (page > 0) {
            return NO_SUCH_PAGE;
        }

        Graphics2D g2d = (Graphics2D) g;
        g2d.translate(pf.getImageableX(), pf.getImageableY() - 55);
        frameToPrint.setVisible(true);
        frameToPrint.print(g);
        return PAGE_EXISTS;
    }

    public void actionPerformed(ActionEvent e) {
        PrinterJob job = PrinterJob.getPrinterJob();
        job.setPrintable(this);
        boolean ok = job.printDialog();
        if (ok) {
            try {
                job.print();
            } catch (PrinterException ex) {

            }
        }
    }

    public PrintUI(JFrame f) {
        frameToPrint = f;
    }

    public static void main(String args[]) {

        final JButton printButton = new JButton("Print");
        UIManager.put("swing.boldMetal", Boolean.TRUE);
        JFrame f = new JFrame("GatePass");

        f.addWindowListener(new WindowAdapter() {
            public void windowClosing(WindowEvent e) {
                System.exit(0);
            }
        });
        Font f1 = new Font("Times New Roman", Font.BOLD, 12);

        printButton.setVisible(true);
        JLabel label1 = new JLabel("Vision Techno Solutions", JLabel.CENTER);
        label1.setBounds(30, 30, 200, 40);
        JLabel label2 = new JLabel("Batch No:");
        label2.setBounds(10, 70, 80, 20);
        JLabel label3 = new JLabel("Date and Time:");
        label3.setBounds(10, 100, 120, 20);
        JLabel label4 = new JLabel("Visitor's Name:");
        label4.setBounds(10, 130, 120, 20);
        JLabel label5 = new JLabel("Concern Person:");
        label5.setBounds(10, 160, 120, 20);
        JLabel label6 = new JLabel("Purpose of Visit:");
        label6.setBounds(10, 190, 120, 20);
        JLabel label7 = new JLabel("Manager's Sign");
        label7.setBounds(140, 230, 120, 20);
        JLabel label8 = new JLabel("Visitor's Sign");
        label8.setBounds(10, 230, 120, 20);

        printButton.addActionListener(new PrintUI(f));
        f.setSize(300, 350);
        f.setLocationRelativeTo(null);
        f.add(printButton, BorderLayout.SOUTH);
        f.setResizable(false);
        f.setVisible(true);
        printButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                printButton.setVisible(false);
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:21:37.860

不知道你到底想在这里做什么。

您说您正在尝试打印另一个 Frame 但

```
printButton.addActionListener(new PrintUI(f)); 
```

表示您正在添加`PrintUI`类以打印当前帧。

如果要打印另一个框架，首先在代码中创建另一个框架，使其可见，然后将新框架传递给`PrintUI()`，这应该可以工作。

# asp.net - 如何在报表查看器中生成多个报表

> ID：11112703
> 
> 赞同：0
> 
> 时间：2012-06-20T04:11:40.983
> 
> 标签：asp.net, reportviewer, rdlc

我实际上传递了单个员工的员工 ID，它会为员工生成报告，但是如果有多个员工具有相同的标准，我该怎么做。如果存储过程生成多个员工数据而不是应该生成那么多报告。因为我是新手，请帮帮我....谢谢:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:51:55.917

你能放一些代码以便我更新它吗

反正！

报告中有一些部分。报表页眉、报表页脚、页眉、页脚以及内容页眉和详细信息现在您必须以必须对员工 ID 进行分组的方式设计报表。分组在报表中非常重要。

您可以轻松找到我提到的内容。

您必须提及您使用的报告工具，然后我会为您提供更多详细信息

这里有一些有用的链接

*   [http://www.dummies.com/how-to/content/creating-a-report-with-crystal-reports-10.html](http://www.dummies.com/how-to/content/creating-a-report-with-crystal-reports-10.html)
*   [http://www.softwaremedia.com/software-guides/crystal-reports-setup.html](http://www.softwaremedia.com/software-guides/crystal-reports-setup.html)
*   [http://www.codeproject.com/Articles/12694/Creating-Crystal-Reports-using-C-with-Datasets](http://www.codeproject.com/Articles/12694/Creating-Crystal-Reports-using-C-with-Datasets)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T11:45:06.167

如果您尝试打印符合您的条件的每个员工，假设您在 Visual Studio 中使用 rdlc 文件，您只需使用工具箱菜单中的列表，它将按您的条件对您的员工进行分组。

# javascript - 我的 HTML 输入文件中的内容消失到了哪里？

> ID：11112704
> 
> 赞同：0
> 
> 时间：2012-06-20T04:12:18.827
> 
> 标签：javascript, html, function, dom-events

尝试通过 HTML FileReader 从文件中导入一些字符串对我来说开始很痛苦。经过测试，主函数内的警报显示事件完成后消失的内容。请赐教。

```
<input type="file" id="Open" />
<script type="text/javascript">
function readSingleFile(evt) {
  var f = evt.target.files[0]; 
  var r = new FileReader();
  var contents;
  if (f) {
      r.onloadend = function(evt) { 
        var contents = evt.target.result.substr();
        // this alert show string content
        alert(contents);
      }
      r.readAsText(f);
  }
  // there's no string content - (undefined)
  alert(contents);
}
document.getElementById('Open').addEventListener('change', readSingleFile, false);
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:26:43.743

该`FileReader`对象允许 Web 应用程序异步读取文件的内容。调用 r.readAsText(f) 后无法立即获取文件内容 您应该在`onloadend` `evt`函数中处理内容

像这样

```
<script type="text/javascript">
    var contents;

    function readSingleFile(evt) {
      var f = evt.target.files[0]; 
      var r = new FileReader();

      if (f) {
          r.onloadend = function(evt) { 
            contents = evt.target.result.substr();
            // this alert show string content
            alert(contents);

            //code for the contents
          }
          r.readAsText(f);
      }
      // there's no string content - (undefined)
      //alert(contents);
    }
    document.getElementById('Open').addEventListener('change', readSingleFile, false);
</script> 
```

# apache-flex - 使用带有本机扩展的 ant mxmlc 任务

> ID：11112705
> 
> 赞同：4
> 
> 时间：2012-06-20T04:12:23.270
> 
> 标签：apache-flex, air, mxmlc

我有一个正在编译到移动设备的 AIR 应用程序。有一个 iOS 原生扩展 ( [JamPot MobileBackup](http://www.jampot.ie/ane/ane-ios-data-storage-set-donotbackup-attribute-for-ios5-native-extension/) ) 在 IDE 中使用时可以正常编译。

但是，由于我们正在转向支持其他平台，IDE 还不够，我决定构建一个 Ant 脚本来运行构建过程。

问题是这个特定的 ANE 似乎在扩展代码中定义 MobileBackup 类，而不是像我正在使用的其他 ANE 那样在单独的 .as 文件中定义。

这是我看到的错误：

```
[mxmlc] Loading configuration file /Users/anderson/src/flex/4.6.0/frameworks/airmobile-config.xml
[mxmlc] /Users/anderson/src/xxx/src/xxx/Utility.as(32): col: 35 Error: Type was not found or was not a compile-time constant: MobileBackup.
[mxmlc] 
[mxmlc]         private static var mobileBackup:MobileBackup = new MobileBackup();
[mxmlc]                                         ^
[mxmlc] 
[mxmlc] /Users/anderson/src/xxx/src/xxx/Utility.as(32): col: 54 Error: Call to a possibly undefined method MobileBackup.
[mxmlc] 
[mxmlc]         private static var mobileBackup:MobileBackup = new MobileBackup();
[mxmlc]                                                            ^
[mxmlc] 
[mxmlc] /Users/anderson/src/xxx/src/xxx/Utility.as(32): col: 54 Error: Call to a possibly undefined method MobileBackup.
[mxmlc] 
[mxmlc]         private static var mobileBackup:MobileBackup = new MobileBackup();
[mxmlc]                                                            ^
[mxmlc] 
[mxmlc] /Users/anderson/src/xxx/src/xxx/Utility.as(21): col: 35 Error: Definition ie.jampot.nativeExtensions:MobileBackup could not be found.
[mxmlc] 
[mxmlc]     import ie.jampot.nativeExtensions.MobileBackup; 
```

mxmlc 调用如下所示：

```
<mxmlc 
   file="${app.main.class.file}" 
   output="${build.output.swf.file}" 
   locale="${LOCALE}" 
   static-rsls="false" 
   accessible="false" 
   configname="airmobile" 
   debug="${build.debug.mode}" 
   failonerror="true" 
   fork="true" 
   maxmemory="512m">
  <source-path path-element="${app.src.path}"/>
  <compiler.library-path dir="${FLEX_HOME}/frameworks" append="true">
<include name="libs/*" />
  </compiler.library-path>
  <library-path file="${FLEX_HOME}/frameworks/locale/${LOCALE}" append="true"/>
  <library-path dir="${spicelib.lib.path}" includes="*.swc" append="true"/>
  <library-path dir="${parsley.lib.path}" includes="*.swc" append="true"/>
  <library-path dir="${app.lib.path}" includes="*.swc" append="true"/>
  <external-library-path file="${AIR_GLOBAL}" append="true"/>
  <external-library-path dir="${app.ane.path}" includes="*.ane" append="true"/>
  <define name="CONFIG::DESKTOP" value="${output.config.environment.desktop}"/>
  <define name="CONFIG::IOS" value="${output.config.environment.ios}"/>
  <define name="CONFIG::ANDROID" value="${output.config.environment.android}"/>
  <define name="CONFIG::PRODUCTION" value="${output.config.environment.production}"/>
  <define name="CONFIG::STAGING" value="${output.config.environment.staging}"/>
  <define name="CONFIG::LOCAL" value="${output.config.environment.local}"/>
</mxmlc> 
```

其中 app.ane.path 是项目的 .ane 文件集合的路径。

我也尝试过使用库路径而不是外部库路径。

除了添加 build.xml 之外，我根本没有更改 Flash Builder 项目的布局或内容，它仍然可以在 IDE 中正常编译。

我需要做什么才能让它在 IDE 之外编译？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T04:13:42.037

我把这一切都输入了，并决定在发布之前再尝试一次。我想通了，所以我会在这里为其他人发布结果。

Flash Builder 必须将 SWC 从 ANE 中提取出来以供 mxmlc 使用。我在其他地方找到了 SWC 的副本，并将其添加到我的 libs 文件夹中，嘿，很快，它可以工作了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T14:46:37.967

我无法解释为什么，但是如果您复制并重命名您的 .ane 文件并将它们更改为 .swc 文件（字面意思是复制和重命名，没有转换），然后将 ANE 的目录作为外部库路径引用 - 它可以工作。

```
<compiler.external-library-path dir="${ANE_DIR}" includes="*.swc" append="true" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-23T06:46:04.593

我查看了 mxmlc Ant Task 的源代码，它明确忽略了任何不是 *.swc 的文件。我在 github 上分叉了 apache/flex-sdk 并修复了它，以便 mxmlc 接受 *.swc 和 *.ane。[您可以在https://github.com/leapingbytes/flex-sdk](https://github.com/leapingbytes/flex-sdk)克隆固定版本（要构建固定的 ant 任务 jar，请转到 modules/antTasks 并运行 ant）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-02-28T14:25:42.173

正如其他人发布的那样，mxmlc 将忽略 *.swc 以外的任何文件扩展名以进行链接。我通过将所有 .ane 文件复制到临时目录，将它们命名为 .swc 然后调用 mxmlc 来解决这个问题：

```
<!-- Copy all ANE files to temp SWC files because mxmlc only accepts SWC for linkage -->
<copy todir="${basedir}/temp-swc" overwrite="true">
    <fileset dir="${basedir}/_extensions"/>
    <globmapper from="*.ane" to="*.swc"/>
</copy>

<mxmlc
    <!-- ... --> >

    <!-- ... -->

    <external-library-path dir="${basedir}/temp-swc" includes="*.swc" append="true"/>
</mxmlc>

<!-- Remove temporary SWC files after usage -->
<delete dir="${basedir}/temp-swc" /> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-05-30T16:38:20.497

我直接使用java任务。

当我将 ane 文件的绝对路径附加到`-library-path`选项（别名`-l`）时，它可以工作。

但是，它不能在 mxmlc 任务中工作。

```
<java jar="${FLEX_HOME}/lib/mxmlc.jar" fork="true" failonerror="true" dir="${FLEX_HOME}/frameworks">
<arg value="-o=${basedir}/${swf.file}"/>
<arg value="-load-config=airmobile-config.xml"/>
<arg value="-l+=${basedir}/${LIB_DIR}"/>
<arg value="-l+=${basedir}/${ANE_DIR}/us.sanguo.ios.ane" />
<arg value="-debug=false"/>
<arg value="-optimize=false"/>
<arg value="${basedir}/${main.file}"/>
</java> 
```

# python - 我应该将数据从 csv 直接导入数据库还是对象

> ID：11112714
> 
> 赞同：0
> 
> 时间：2012-06-20T04:13:47.200
> 
> 标签：python

学习 Python 的基础知识，现在准备好迎接更大的挑战了……没过多久就跌倒了 :)

我正在编写一个基本的分配应用程序，该应用程序导入“工作”行，然后根据合同条件将每个工作分配给“承包商”。

我的第一个障碍是，我是将数据直接导入数据库（使用 postgres）还是导入对象？我只是有点迷茫，因为下一步将解析数据以确保正确性......所以应该在数据存储后还是在内存中完成？？？？

史蒂夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:47:17.897

只有在数据可靠且值得信赖的情况下才能将数据直接加载到任何数据库中 - 无论是从备份中还是在经过清理之后。

我建议使用 Python[`csv`](http://docs.python.org/library/csv.html)或[pandas](http://pandas.pydata.org/)读取您的文件- 取决于文件布局的复杂程度。

然后，您可以清理和解析数据并为数据库做好准备。

Python 为所有支持的数据库提供了一个通用接口，称为 DB API。[这个 wiki 条目](http://wiki.python.org/moin/UsingDbApiWithPostgres)解释了如何将它与 Postgres 一起使用。

# java - 使用 JasperReports 时出现异常

> ID：11112717
> 
> 赞同：0
> 
> 时间：2012-06-20T04:14:00.673
> 
> 标签：java, jasper-reports

当我尝试将报告导出到 Excel *XLS*文件时出现异常，在互联网上我发现这是因为*POI*版本必须是 3.6 或更高版本，我已经删除了以前的版本，只留下*POI 3.6*，但它没有帮助：

```
[#|2012-06-20T04:06:02.593+0000|WARNING|glassfish3.1.1|javax.enterprise.system.container.web.com.sun.enterprise.web|_ThreadID=160;_ThreadName=Thread-2;|StandardWrapperValve[JasperToExcel]: PWC1406: Servlet.service() for servlet JasperToExcel threw exception
java.lang.NoSuchMethodError: org.apache.poi.hssf.usermodel.HSSFWorkbook.getCreationHelper()Lorg/apache/poi/ss/usermodel/CreationHelper;
    at net.sf.jasperreports.engine.export.JRXlsExporter.openWorkbook(JRXlsExporter.java:204)
    at net.sf.jasperreports.engine.export.JRXlsAbstractExporter.exportReportToStream(JRXlsAbstractExporter.java:366)
    at net.sf.jasperreports.engine.export.JRXlsAbstractExporter.exportReport(JRXlsAbstractExporter.java:187)
    at servlet.JasperToExcel.processRequest(JasperToExcel.java:119)
    at servlet.JasperToExcel.doGet(JasperToExcel.java:155)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1539)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:70)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:279)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:98)
    at com.sun.enterprise.web.PESessionLockingStandardPipeline.invoke(PESessionLockingStandardPipeline.java:91)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:162)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:330)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:174)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:828)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:725)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1019)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:225)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)
|#] 
```

我正在使用*Jasper Reports 3.7.4*。

如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T07:09:31.423

Jasper Reports 4.0 可以与 POI 3.6 一起正常工作，但您的版本是 3.7.4。你需要 POI 3.5-FINAL。[在这里](http://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/3.7.4)找到

问候

# c# - 与同一日期相关的平均数字并使用 linq 从日期时间中提取日期

> ID：11112718
> 
> 赞同：0
> 
> 时间：2012-06-20T04:14:13.700
> 
> 标签：c#, linq, linq-to-sql

我正在尝试平均与同一日期关联的数据，并且我正在尝试使用 linq 从 datetime 中提取日期。我可以在 mysql workbench 中执行此操作并获得我想要的结果：

```
select avg(pl.time), Date(pl.created_at) as date
from page_loads as pl
join sites as s
on pl.site_id = s.id
join test_runs as t
on pl.test_run_id = t.id
where s.3id = 17
group by date 
```

我将如何在 linq 中执行此操作。到目前为止我有这个：

```
var data = from pl in page_loads
           join s in sites 
           on pl.site_id equals s.id
           join t in test_runs
           on pl.test_run_id equals t.id
           where s.3id == 17
           select new { time = pl.time, created_at = pl.created_at }; 
```

这给了我以下结果：

```
4034    2012-06-06 00:15:48
5649    2012-06-06 00:31:05
4275    2012-06-06 01:48:54
4352    2012-06-07 06:50:27
5672    2012-06-07 07:05:15
7510    2012-06-07 17:49:25
10366   2012-06-07 17:49:53
12193   2012-06-07 18:32:28
3681    2012-06-07 18:55:42
7951    2012-06-07 18:59:59
2273    2012-06-07 19:26:38
6816    2012-06-08 22:41:48
6918    2012-06-08 22:44:40
3702    2012-06-08 23:03:58
3065    2012-06-08 23:04:58
5981    2012-06-19 20:46:40
1695    2012-06-19 20:48:36
4323    2012-06-19 20:50:24 
```

但我想平均与同一日期相关的数字，我想从日期时间戳中提取日期。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:10:02.863

您要做的是根据日期分组获得平均值，但是您编写的 LINQ 不包含 group 子句。您可以从查看 LINQ 示例开始。这个[LINQ 聚合运算符](http://code.msdn.microsoft.com/LINQ-Aggregate-Operators-c51b3869#content)将为您提供一个可以使用的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:04:15.750

任何 DateTime 上的 Date 属性都会为您提供该日期的 DateTime。
即：`(new DateTime(2001,1,1,13,1,1)).Date`应该等于`new DateTime(2001,1,1)`

像这样的东西应该*适用于内存对象*：

```
var data = from pl in page_loads
       join s in sites 
       on pl.site_id equals s.id
       join t in test_runs
       on pl.test_run_id equals t.id
       where s.3id == 17

       group pl by pl.created_at.Date into g 
       select new { time = g.Average(t=>t.time), created_at = g.Key }; 
```

编辑：堆栈溢出问题[LINQ to Entities group-by failure using .date](https://stackoverflow.com/questions/4188066/linq-to-entities-group-by-failure-using-date)有一个已接受的答案，其中详细说明了如何使用适用于 Entity Framework/LINQ to SQL 的方法。

您需要将组行修改为：

```
 group pl by EntityFunctions.TruncateTime(pl.created_at) into g 
```

但除此之外，解决方案的其余部分保持不变。

# ios - UITextView 内的界面生成器 UIButton

> ID：11112719
> 
> 赞同：1
> 
> 时间：2012-06-20T04:14:50.150
> 
> 标签：ios, interface-builder

我想构建一个界面，该界面在 UITextView 内具有滚动文本，并在文本末尾有一个基本的圆形矩形按钮。按钮的位置将是动态的，取决于 textView 中文本的长度我的视图层次结构是这样的：

*   视图控制器
    *   文本视图 (UITextView)

当我尝试在 Interface Builder 中向 textView 添加一个圆形矩形按钮时，它会替换它。将 UIButton 添加为 UITextView 的子视图是否正确，还是我应该做其他事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:23:52.610

我会采取稍微不同的方法。

*   视图控制器
    *   UIView（持有者）
        *   文本视图（子视图索引 0）
        *   UIButton（子视图索引 1）

然后根据文本字段的宽度将按钮位置设置为您需要的任何位置。

# java - Maven 中的 Java 版本不匹配

> ID：11112721
> 
> 赞同：1
> 
> 时间：2012-06-20T04:15:10.743
> 
> 标签：java, maven, build

*尝试在命令行上*使用 Maven 构建我的应用程序时，我遇到了一个奇怪的问题。（我在 SO 上看到的其他问题是指在 Eclipse 或其他 IDE 中构建）

当我尝试构建时，maven 抱怨它在 tools.jar 中找不到 Javac。查看给定的位置，很明显 Maven 正在查看 JRE 目录，但是，我似乎无法让 Maven 为我的 JDK 指向正确的 Java_home - 关于如何做到这一点的任何想法？

**环境概述**

```
JAVA_HOME=C:\jdk1.6.0_27
Path=C:\jdk1.6.0_27\bin;...... (showing the jdk is the first thing on the path)

D:\> javac -version
javac 1.6.0_27  <-- This is correct

D:\>java -version
java version "1.6.0_31"  <-- wtf? 

D:\>mvn -version
Apache Maven 2.2.1 (r801777; 2009-08-07 03:16:01+0800)
Java version: 1.6.0_31                       <--- This is the problem - Where
Java home: C:\Program Files (x86)\Java\jre6  <--- does Maven get this from? 
```

您可以对此提出的任何启示都将受到欢迎。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T13:01:07.250

尝试将您的 maven 目录（例如 D:\maven-2.2.1\conf）中的 toolchains.xml 配置为您的 java 版本

```
<toolchains>
<toolchain>
    <type>jdk</type>
    <provides>
        <version>1.5</version> <!--This should be same as is configured via the toolchains plugin -->
        <vendor>ibm</vendor> <!--This should be same as is configured via the toolchains plugin -->
    </provides>
    <configuration>
        <jdkHome>C:\Program Files\Java\jdk1.5.0</jdkHome>
    </configuration>
</toolchain>
</toolchains> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:41:35.710

你看过你的 build-local.properties 或 build.properties 吗？可能仍然指向那里的JRE。这必须纯粹是路径中某处的构建路径问题。

很抱歉将此列为答案，因为我似乎无法添加评论。

# javascript - 将值传递给 js 变量后显示具有 style="display:none" 的 div

> ID：11112722
> 
> 赞同：3
> 
> 时间：2012-06-20T04:15:21.563
> 
> 标签：javascript, html, jsp

最初，div id =“showHide”是不可见的。**当vall**的值不为 null 时，我想让它可见。但是代码不起作用。尽管变量 vall 正在获取值，但 div 仍然不可见。js codescript有什么问题？？我正在使用jsp。

```
<head>
</head>

<body>
<div id =" showHide" style="display:none">

    /*HTML TABLE*/
</div>

<script type="text/javascript">

 alert("first alert");
 var vall = "<%=vall%>";    

    if (vall != null)
        {            
            var mydiv = getElementById.("showHide");
            mydiv.style.display ="block";
            alert("second alert");
            <% System.out.println("jsvar="+vall);%>

             }

    </script>
</body> 
```

当我登录控制台时，我得到了错误：

> 未捕获的语法错误：意外令牌（

并且两个警报框也没有显示。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T04:18:02.780

尝试：

```
mydiv.style.display = "block"; 
```

代替

```
mydiv.style.visibility = "visible"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T04:18:48.083

[`visibility`](https://developer.mozilla.org/en/CSS/visibility)并且[`display`](https://developer.mozilla.org/en/CSS/display)是不同的。相反，您应该将`display`值从更改`none`为`block`（ a 的默认值`<div>`）：

```
mydiv.style.display = "block"; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T04:23:48.907

您确定在调用您的 JS 之前实际已加载内容吗？尝试将您的 JS 移动到正文的末尾，或者将您的代码包装在一个可以在页面加载时调用的函数中。如果你想要真正的花哨，你应该使用 jQuery 来帮助你解决这个问题。[http://api.jquery.com/ready/](http://api.jquery.com/ready/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T04:22:59.860

```
<div id =" showHide" style="display:none"> 

/*HTML TABLE*/ 
</div> 
```

去掉 id 的空格，把 Js 代码放到 div 后面，试试看。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-20T05:22:50.540

我认为您忘记声明变量 mydiv。

替换这一行 mydiv = document.getElementById("showHide");

经过

var mydiv = document.getElementById("showHide");

```
enter code here<div id ="showHide" style="display:none">

/*HTML TABLE*/ 
```

// javascript代码只是检查一下

```
var vall = 10;
var mydiv = null
if (vall != null)
    {
        mydiv = document.getElementById("showHide");
        mydiv.style.display ="block";

    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-20T04:21:11.107

我认为当脚本标记中的代码运行时，它找不到具有该 ID 的 div 标记，并且当 div 在页面中呈现时，您再次将其可见性设置为隐藏。

我建议将您的脚本标签放在 div 之后。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-03-10T06:54:24.840

代替

```
 var mydiv = getElementById.("showHide"); 
```

利用

```
 var mydiv = document.getElementById.("showHide"); 
```

# java - UML 类图与 java 编码

> ID：11112723
> 
> 赞同：1
> 
> 时间：2012-06-20T04:16:03.060
> 
> 标签：java, uml

我有下面的 UML 类图和 java 编码，请告诉我根据图我的编码是正确还是不正确，

![在此处输入图像描述](../Images/3c639383775b1391f2283fae65df7e7c.png)

[图1]

```
Class A{
  B b = new B();
}

Class B{
  A a = new A();
} 
```

* * *

[图表2]

```
Class B{
  private void methodA(){
      A a = new A();
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:22:51.560

图1看起来不错。图 2 不正确。

1.  方法 A/B 应该是公开的
2.  您应该在 B 类中有一个属性，而不是在方法主体的 init 类中，它表示与 A 类的关联
3.  您不必根据仅将 UML 图映射到类来初始化方法中的类。

[图表2]

```
class A {
  public void methodA() {}
}

class B {
  A a;

  public void methodB() {}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:23:06.103

图表的 Java 实现中有几个错误：

*   `+`指定`public`可见性，而您的方法是`private`
*   该图没有指定每个方法的主体中的内容。两个身体都必须是空的
*   该图没有说明变量`a`和`b`是如何初始化的，所以`= new A()`和`= new B()`需要省略。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:27:13.337

代码1

```
Class A{
  B b;
}

Class B{
  A a;
} 
```

代码2

```
Class A{

          public void methodA(){

      }
    }

    Class B{
    A a;
      public void methodB(){

      } 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T09:06:18.020

如果您在两个分类器之间创建关联，那么您还将在 UML2 类图中创建属性。方法流程显示在序列图中。

如果您不确定您的代码，最简单的方法是下载 EclipseUML Omondo 的 30 天评估：[http ://www.uml2.org/eclipse-java-galileo-SR2-win32_eclipseUML2.2_package_may2010.zip](http://www.uml2.org/eclipse-java-galileo-SR2-win32_eclipseUML2.2_package_may2010.zip)

只需解压缩即可。

# jquery-mobile - 主页图标在 jquery 菜单标题

> ID：11112725
> 
> 赞同：0
> 
> 时间：2012-06-20T04:16:15.763
> 
> 标签：jquery-mobile

有没有办法在标题中有一个导航栏，后跟一个图标？

我唯一能做的就是在导航栏中的第三个菜单中有图标：

[http://tof.canardpc.com/view/f0ad5385-09d9-4624-9324-d6cad4e0aad7.jpg](http://tof.canardpc.com/view/f0ad5385-09d9-4624-9324-d6cad4e0aad7.jpg)

```
 <div data-role="navbar" data-theme="a">
        <ul>
            <li><a href="#nav1">Nav 1</a></li>
            <li><a href="#nav2">Nav 2</a></li>
            <li><a href="#nav3">Nav 3</a></li>

        </ul>

    </div>
    <a href="index.html" data-role="button" data-icon="home" data-theme="a" 
     class="ui-btn-right" data-iconpos="notext">Home</a>

</div> 
```

我可以以编程方式做到这一点吗？就像每个标题中的后退按钮一样？

```
$.mobile.page.prototype.options.backBtnText = "previous"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:04:38.533

首先，您想要实现的目标我无法理解，但是从您提供的图像来看，这意味着您想在导航栏的右侧制作一个主页图标...

为了实现，您可以使用 css 并将其包含到导航栏中...

只需在 li 中添加不同的类并为它们提供不同的宽度......

HTML：

```
<div data-role="haeder" data-theme="a">
        <ul data-role="navbar" data-theme="a">
            <li class="tap1"><a href="#nav1">Nav 1</a></li>
            <li class="tap2"><a href="#nav2">Nav 2</a></li>
            <li class="tap3"><a href="#nav3">Nav 3</a></li>
            <li class="tap4"><a href="index.html" data-role="button" data-icon="home" data-theme="a" class="ui-btn-right" data-iconpos="notext">Home</a></li>

        </ul>

    </div> 
```

CSS，

```
.tap1 { width:30% !important; }
.tap2 { width:30% !important; }
.tap3 { width:30% !important; }
.tap4 { width:10% !important; } 
```

您可以根据需要调整宽度百分比...

# php - html5自动转换器？

> ID：11112727
> 
> 赞同：0
> 
> 时间：2012-06-20T04:16:37.553
> 
> 标签：php, javascript, html, video

我正在开发一个用于上传视频的 php 后端，并想知道是否有办法从 3 种常见格式中的一些转换为另一种格式。这个想法是将上传简化为仅一个视频，我的应用程序会将其转换为 3 种格式以保持兼容性。

插件什么的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:43:04.803

The easiest is probably ffMPEG: ffmpeg.org/

There is a "plug-in" (i.e. extension) for PHP called php_ffmpeg but I strongly advise you not to use it. Just run command line instead as it's simple once you've done the first one.

Important: the conversion takes time, so make sure you have a queuing solution - line the conversions up and do one at a time (or two at a time if you have dual core CPUs, 4 for quad etc, and specify the CPU to run on).

# syntax - Notepad++：保存文件前的语法高亮

> ID：11112729
> 
> 赞同：2
> 
> 时间：2012-06-20T04:17:30.047
> 
> 标签：syntax, notepad++, highlighting

在进行了一些谷歌搜索并查看了 StackOverflow 之后，我似乎无法弄清楚一些事情。

是否可以在打开新文件后立即在 Notepad++ 中突出显示语法？我知道它会在您保存文件后根据保存的文件类型显示，并且还可以更改默认保存类型。（从 .txt 到 .py 或 .java）

我正在寻找的功能与您从 Eclipse for Java 或 Visual C++ 中获得的功能相同。基本上大多数IDE。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T04:28:22.250

启动 Notepad++ 时，转到：

1.  **设置**[菜单栏]
2.  **喜好...**
3.  **新文档/默认目录**[选项卡]
4.  **默认语言**[组合框]
5.  选择你最喜欢的语言。

![Notepad++ 首选项对话框](../Images/9341dac22213cb93e1a7399efff06010.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T04:26:04.947

在*Settings* > *Preferences*中，转到**New Document/Default Directory**选项卡，然后将 Default Language 更改为您的首选项（C# 等）。这应该让您输入关键字，并自动突出显示它们。

![在此处输入图像描述](../Images/791ae4584222a9a1381358c1dada3ae7.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-16T10:35:07.373

在 2015 年 1 月 10 日的构建版本中，您可以访问：

*   **菜单栏中的语言， **然后**
    从那里选择您的语言。**

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-07-28T07:56:45.127

@adam-karlson 的答案是最好的方法。除此之外，您还可以在[“语言首选项设置”](https://npp-user-manual.org/docs/preferences/#language)中禁用不需要的语言，并使语言选项卡更紧凑。

[图片：首选项 > 语言](https://i.stack.imgur.com/kUlMc.png)

您还可以在列表中找到用户定义的语言。**

# playframework - play2-war-plugin 更改应用程序路径

> ID：11112730
> 
> 赞同：2
> 
> 时间：2012-06-20T04:17:45.780
> 
> 标签：playframework, playframework-2.0

在 Play2-war-plugin [源码](https://github.com/dlecan/play2-war-plugin/blob/develop/project-code/core/src/main/scala/Play2WarServer.scala)中，我看到了这段代码

```
 val applicationPath = Option(System.getProperty("user.home")).map(new File(_)).getOrElse(new File("")) 
```

在我的 Windows 服务器上，这被翻译为 c:\users\myloginuser

我希望我的应用程序在 \webapps 目录而不是 users 目录下执行文件操作。有没有办法通过使用来实现这一点`Play.application().path()`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T10:35:31.643

您可以尝试在启动应用程序时更改 user.home 参数：

```
start -Duser.home=c:\users\myloginuser\webapps //not tested 
```

# windows - Go 和 COM/ActiveX

> ID：11112736
> 
> 赞同：2
> 
> 时间：2012-06-20T04:18:44.017
> 
> 标签：windows, activex, go

任何人都可以向我指出一个 Go 库，它将使我能够对 Windows 中的 COM/ActiveX 对象进行早期和/或后期绑定调用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T10:49:37.957

也许[https://github.com/mattn/go-ole](https://github.com/mattn/go-ole)？

# php - 傻瓜的 PHP PDO

> ID：11112738
> 
> 赞同：10
> 
> 时间：2012-06-20T04:19:08.333
> 
> 标签：php, mysql, sql, pdo

我正在寻找一个 PHP PDO 完整工作示例，其中包含运行查询和处理错误的最佳实践。这是我到目前为止所拥有的。

**正在连接。如果您不这样做，默认情况下连接失败会将数据库凭据暴露给您站点的所有用户。**

```
try {
    $dbh = new PDO("mysql:host=localhost;dbname=phor_lang", "phor_lang", "'9lsnthsn9");
} catch (PDOException $e) {
    error(false, "PDO ERROR: " . $e->getMessage());
} 
```

**查询**

```
$stmt = $dbh->prepare("INSERT INTO sets");
$stmt->execute()
    or error(0, "USERS ERROR ".__LINE__." ".print_r($dbh->errorInfo(),true));
$setID = $dbh->lastInsertID();
$stmt->closeCursor();

$stmt = $dbh->prepare("INSERT INTO words (language, name, detail, user, type, set) VALUES (?, ?, ?, ?, ?, ?)");
$stmt->execute(array($l1l, $l1w, $l1d, $userID, 'training', $setID))
    or error(0, "USERS ERROR ".__LINE__." ".print_r($dbh->errorInfo(),true));
$stmt->closeCursor(); 
```

但是，这会导致查询失败（执行返回 false）并且错误消息为空白。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-20T06:41:55.273

[这](http://net.tutsplus.com/tutorials/php/php-database-access-are-you-doing-it-correctly/)是 PDO 的现代入门指南。它回答了您的一些问题并解释了许多其他基本 PDO 功能。

我昨天刚读过它，发现它是一个很好的资源！

这是“错误”下的引用：

```
try {
    $conn = new PDO('mysql:host=localhost;dbname=myDatabase', $username, $password);
    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch(PDOException $e) {
    echo 'ERROR: ' . $e->getMessage();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T04:39:03.460

默认情况下，pdo 不会在出错时抛出异常。

您需要将其配置为

```
$dbh = new PDO("...", "...", "...", array(
    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION
));

// or
$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); 
```

# javascript - 如何制作水平滑块？

> ID：11112739
> 
> 赞同：-3
> 
> 时间：2012-06-20T04:19:34.433
> 
> 标签：javascript, jquery, extjs, sencha-touch-2

我必须制作一个水平月份滑块，它将有两个指针用于选择月份间隔。这可以在 sencha 中完成，还是我将不得不使用 jquery。但是，如果有人知道如何做到这一点或有任何链接，请回答........

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:23:00.327

HTML5：

```
Month: <input type="range" min="1" max="12"> 
```

或[jQuery UI](http://jqueryui.com/demos/slider/)。

```
$("#slider").slider(); 
```

```
Month: <div id="slider"></div> 
```

* * *

如果您希望用户选择日期，这里[有一种更方便的方法](http://jqueryui.com/demos/datepicker/)：

```
$("#datepicker").datepicker();

Date: <input type="text" id="datepicker"> 
```

# lotus-notes - 如何对所有数据库应用通用设计？

> ID：11112741
> 
> 赞同：1
> 
> 时间：2012-06-20T04:19:57.213
> 
> 标签：lotus-notes, lotus-domino

我有三十个笔记数据库。每个数据库大约有 20 多个表格和 50 个视图。我们计划进行设计更改[表单样式、操作栏、视图、表格等]。我们设计了一种通用样式并应用于数据库。现在他们是否可以直接将设计应用于所有数据库？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T09:46:11.683

您可以在模板中创建设计更改，并让数据库从该模板继承设计。如果您在晚上运行[设计](http://www-12.lotus.com/ldd/doc/domino_notes/7.0/help7_designer.nsf/855dc7fcfd5fec9a85256b870069c0ab/943b12488c6ea36e8525704a003f6ed7?OpenDocument)任务，它将更新所有数据库中的设计。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T15:47:37.330

这取决于。如果那些其他数据库具有相同的 20 多个表单和相同的 50 多个视图，那么通过模板创建和刷新设计是完美的方法。

另一方面，如果您的意思是您已经提出了一套格式化表单、操作栏、视图、表格等的标准，那么您手头的任务就大不相同了。如果您确实有一些跨数据库相同（或应该相同）的字面 Notes 设计元素（表单、视图、子表单），您可以将模板分配给这些单独的元素并使用模板来刷新这些元素。如果不同的元素很少，您可以为数据库分配一个模板，但可以排除不同的元素或将它们标记为从不同的模板继承。

因此，这取决于当前数据库中特定设计元素的标准化。如果它们都应该完全相同（不仅仅是看起来相同），那么这很容易。如果您的目标只是外观相似，那么您的任务将更加复杂。

我知道 Designer 客户端和第三方提供的其他工具有新工具可以增强您发现和查找和替换项目的能力，但您的目标可能超出了可用的范围。因此，它可能最终成为一个主要是手动过程。

# .net - MEF：将未标记为 [export] 的部分添加到 CompositionContainer

> ID：11112743
> 
> 赞同：3
> 
> 时间：2012-06-20T04:20:33.027
> 
> 标签：.net, mef

基于这个问题的答案[CompositionBatch 和目录有什么区别？](https://stackoverflow.com/questions/5534240/whats-the-difference-between-compositionbatch-and-catalogs)这表明组合批处理的使用在对象由其他组件构建的情况下很有用。这让我想，它适用于哪些现实生活中的例子？然后我开始思考那些你无法控制的构建对象。如果您无法添加未标记为导出的部件，您将如何将这些实例添加到容器中？唯一想到的是使用所需类型的成员设置一个类并将其标记为导出。

如果实例未标记为导出，是否可以将实例添加到容器中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T10:37:21.157

我将假设您的意思是“未标记为导出的类”而不是“实例”。

对于 .NET4.5 及更高版本，您可以使用[MEF 的约定模型](http://blogs.msdn.com/b/hammett/archive/2011/03/08/mef-s-convention-model.aspx)。

对于 .NET4，Mark Seemann 在[博客](http://blog.ploeh.dk/2011/03/14/ResolvingClosedTypesWithMEF.aspx)中介绍了如何巧妙地利用泛型和属性导出来导出现有类型。您可以像这样创建一个类：

```
public class MefAdapter<T> where T : new()
{
    private readonly T export;

    public MefAdapter()
    {
        this.export = new T();
    }

    [Export]
    public virtual T Export
    {
        get { return this.export; }
    }
} 
```

然后您可以构造一个类型目录来导出不支持 MEF 的现有类型，如下所示：

```
var catalog = new TypeCatalog(
    typeof(MefAdapter<Foo>),
    typeof(MefAdapter<Bar>), 
    ...); 
```

您可以修改此示例以添加对具有构造函数参数的类型的支持、导出接口而不仅仅是类类型等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:08:46.327

您需要创建自己的目录。这不是一件容易的事，但这[是一个例子](http://code.dortikum.net/2011/01/05/extending-mef/) （我自己没有使用过。我可以用[InheritedExport](http://msdn.microsoft.com/en-us/library/system.componentmodel.composition.inheritedexportattribute.aspx)解决我的类似问题）

如果链接失效，我在这里重复代码。

```
public class ConventionalCatalog : ComposablePartCatalog {
    private List<ComposablePartDefinition> _parts = new List<ComposablePartDefinition>();
    public void RegisterType<TImplementation, TContract>() {
        var part = ReflectionModelServices.CreatePartDefinition(new Lazy<Type>(() => typeof(TImplementation)),
                   false,
                   new Lazy<IEnumerable<ImportDefinition>>(() => GetImportDefinitions(typeof(TImplementation))),
                   new Lazy<IEnumerable<ExportDefinition>>(() => GetExportDefinitions(typeof(TImplementation), typeof(TContract))),
                   new Lazy<IDictionary<string, object>>(() => new Dictionary<string, object>()),
                   null);
                   _parts.Add(part);
    }

    private ImportDefinition[] GetImportDefinitions(Type implementationType) {
        var constructors = implementationType.GetConstructors()[0];
        var imports = new List<ImportDefinition>();

        foreach (var param in constructors.GetParameters()) {
            imports.Add(ReflectionModelServices.CreateImportDefinition(
                new Lazy<ParameterInfo>(() => param),
                AttributedModelServices.GetContractName(param.ParameterType),
                AttributedModelServices.GetTypeIdentity(param.ParameterType),
                Enumerable.Empty<KeyValuePair<string,Type>>(),
                ImportCardinality.ExactlyOne,
                CreationPolicy.Any,
                null));
        }
        return imports.ToArray();
    }

    private ExportDefinition[] GetExportDefinitions(Type implementationType, Type contractType) {
        var lazyMember = new LazyMemberInfo(implementationType);
        var contracName = AttributedModelServices.GetContractName(contractType);
        var metadata = new Lazy<IDictionary<string, object>>(() => {
                           var md = new Dictionary<string, object>();
                           md.Add(CompositionConstants.ExportTypeIdentityMetadataName,
                                  AttributedModelServices.GetTypeIdentity(contractType));
                           return md;
                       });
        return new ExportDefinition[] {
             ReflectionModelServices.CreateExportDefinition(lazyMember, contracName, metadata, null)
        };
    }

    public override IQueryable<ComposablePartDefinition> Parts {
        get { return _parts.AsQueryable(); }
    }
} 
```

像这样使用它：

```
using (var myCatalog = new ConventionalCatalog()) {
    myCatalog.RegisterType<MyClass, IMyClass>();

    using (var container = new CompositionContainer(myCatalog)) {
        container.ComposeParts(this);
        ...
    }
} 
```

# r - 在for循环中获取列表名称

> ID：11112750
> 
> 赞同：12
> 
> 时间：2012-06-20T04:21:10.937
> 
> 标签：r, list, control-flow

在 PHP 中，您可以使用 for 循环访问数组的名称和值

```
foreach ( $array as $key => $value ) { 
```

循环命名列表时，R中有什么可比的吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2019-01-08T21:15:47.807

这是一种更简单的方法：

```
for (name in names(myList)) {
    print(name)
    print(myList[[name]])
} 
```

注意：我没有编写此代码。我从[这个页面](https://statisticsblog.com/2010/03/16/r-tip-iterating-over-list/)复制了它。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-20T08:05:48.493

使用一些虚拟数据和一个愚蠢的人为示例

```
ll <- list(A = 1:10, B = LETTERS[1:10], C = letters[1:10]) 
```

您可以`lapply()`通过以下元素的索引`ll`：

```
out <- lapply(seq_along(ll),
           function(ind, list, names) {
               paste(names[ind], "=", paste(list[[ind]], collapse = ", "))
           }, list = ll, names = names(ll))

R> out
[[1]]
[1] "A = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10"

[[2]]
[1] "B = A, B, C, D, E, F, G, H, I, J"

[[3]]
[1] "C = a, b, c, d, e, f, g, h, i, j" 
```

或`for()`遍历列表：

```
ll2 <- vector("list", length(ll))
nams <- names(ll)
for(i in seq_along(ll)) {
    ll2[[i]] <- paste(nams[i], "=", paste(ll[[i]], collapse = ", "))
}
ll2

R> ll2
[[1]]
[1] "A = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10"

[[2]]
[1] "B = A, B, C, D, E, F, G, H, I, J"

[[3]]
[1] "C = a, b, c, d, e, f, g, h, i, j" 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-20T14:28:37.850

要获取列表的名称，您只需使用`names(list)`.

```
ll <- list(A = 1:10, B = LETTERS[1:10], C = letters[1:10])
names(ll)
#[1] "A" "B" "C" 
```

如果列表以开头命名，则大多数 *apply 函数将返回适当命名的值。

```
sapply(ll, max)
#   A    B    C 
#"10"  "J"  "j" 
```

# grails - HQL 加入 Grails

> ID：11112758
> 
> 赞同：2
> 
> 时间：2012-06-20T04:22:15.303
> 
> 标签：grails, join, groovy, hql

我有这样的关系

```
class Foo {
    static hasMany = [bars: Bar, things: Thing]
}

class Bar {
    // Has nothing to tie it back to Foo or anything else of importance
}

class Thing {
    // Has nothing to tie it back to Foo or anything else of importance
} 
```

我有一个`Thing`. **我想获取与我拥有的实例相关`Bar`联的所有实例相关联的所有实例。`Foo``Thing`**

我已经多次使用 Grails`executeQuery`方法，但我的查询不起作用。

这是一个有效的查询，它将获取`Foo`与 的实例相关的所有实例`Bar`。我希望我需要的查询看起来非常相似，我只是遇到了 HQL 连接问题。

```
SELECT DISTINCT f FROM Foo f INNER JOIN f.bars bars WHERE bars =:bars 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T04:35:36.443

```
SELECT DISTINCT f.Bars FROM Foo f inner join f.things thing where thing.Id in (:validThingIds) 
```

grails 应该支持设置参数，并且您基本上需要将 id 数组传递给查询。查询的最后一部分应该评估为`(1,2,3,4)`1,2,3,4 是有效事物的 id。

# eclipse - 使用 Ant 的 Eclipse RCP 产品导出

> ID：11112769
> 
> 赞同：2
> 
> 时间：2012-06-20T04:23:24.873
> 
> 标签：eclipse, ant, eclipse-rcp

我正在寻找一种使用 ant 导出 Eclipse RCP 产品的方法，但我找不到实现这一目标的直接方法（当然在搜索网络和我们的论坛之后）。

我发现与我的问题更相关的链接是“http://stackoverflow.com/questions/9098378/how-to-build-eclipse-rcp-application-from-product-with-ant-on-jenkins”但这并没有说明蚂蚁的用法。还有一个指南“http://www.vogella.com/articles/EclipsePDEBuild/article.html”，但即使在尝试之后，我也无法成功使用 Ant ni 导出 Eclipse 产品。

任何帮助/指针将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T11:42:18.087

[您想要http://www.vogella.com/articles/EclipsePDEBuild/article.html](http://www.vogella.com/articles/EclipsePDEBuild/article.html)中列出的 PDE 构建（基于 ant）。那是正确的地方，它对您的设置没有什么作用？

有关基本 RCP 产品构建的示例，另请参见[http://pweclipse.blogspot.com/2010/09/simple-rcp-product-build.html 。](http://pweclipse.blogspot.com/2010/09/simple-rcp-product-build.html)虽然它是基于 ant 的，但您仍然必须使用 eclipse 来运行它：

```
eclipse/eclipse -application org.eclipse.ant.core.antRunner \
 -buildfile eclipse/plugins/org.eclipse.pde.build_3.6.0.v20100603/scripts/productBuild/productBuild.xml \
 -Dbuilder=/opt/local/rcp/builder  \
 -Dbase=/opt/local/rcp/base \
 -Dtimestamp=20100924-1100 
```

# django - 无法使用 django-admin.py

> ID：11112772
> 
> 赞同：0
> 
> 时间：2012-06-20T04:23:46.850
> 
> 标签：django

我是 Django 新手，正在尝试创建我的第一个项目。我知道我需要运行命令“python django-admin.py startproject iFriends”（iFriends 是我为项目创建的文件夹）。终端响应 - “-bash: django-admin.py: command not found。” 为什么它不起作用？这是错误的命令吗？

我正在使用 Mac OS X 10.7.3、Django 1.4 和 Python 2.7.2。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T18:36:49.580

我还在 Mac OS 10.7.x（使用 Django 1.5.1）上使用 Python 2.7。我认为教程已经过时了。尝试使用“django-admin-2.7.py”命令而不是“django-admin.py”，其他一切都一样。经过一个多小时的研究 PATHS 和符号链接等，这是对我有用的解决方案。

这是我所走的曲折路，如果您想为后代受苦：

*   我发现前面引用的安装陷阱文章很有帮助，因为它更详细地解释了故障排除文档中提到的符号链接解决方案（[https://docs.djangoproject.com/en/1.5/faq/troubleshooting/#troubleshooting-django-管理员-py](https://docs.djangoproject.com/en/1.5/faq/troubleshooting/#troubleshooting-django-admin-py) )。
*   但是，我在建议的正常位置找不到 django-admin.py 文件。
*   然后，我找到了可以告诉你文件在哪里的终端命令（也来自 django 文档，在如何卸载下）：

python -c "import sys; sys.path = sys.path[1:]; import django; print(django.path **)** "

*   我的返回了以下路径，与文档非常不同：

/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/bin

*   我开始遵循符号链接的建议，但是当我尝试创建指向 /usr/local/bin 的符号链接时，我做不到（另一篇文章的主题）。
*   查看 $PATH ($ `echo $PATH`) 后，我想查看 /opt/local/bin 而不是 usr/local/bin。瞧，有一个名为`django-admin-2.7.py`. 难道是我只需要在教程中的命令中添加版本号吗？
*   我导航回我的代码文件夹，我将在其中放置我的 Django 项目，并按照教程 ( [https://docs.djangoproject.com/en/1.5/intro/tutorial01/](https://docs.djangoproject.com/en/1.5/intro/tutorial01/) ) 设置新项目。但不是`django-admin.py`，我试过了`django-admin-2.7.py`。有效！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-15T07:09:18.057

如果您使用的是 Windows 并且需要更新系统路径，请确保在重试之前关闭并重新打开命令提示符。我遇到了与您类似的问题，这就是为我解决的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:02:20.670

django-admin.py 在您的系统路径上吗？结帐：[https ://code.djangoproject.com/wiki/InstallationPitfalls](https://code.djangoproject.com/wiki/InstallationPitfalls)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-01-12T15:27:49.563

作为一种解决方法，运行这是 Python

```
import site; site.getsitepackages() 
```

将***django-admin***替换为***python (your-site-packages-addresss)/django/bin/django-admin.py***

启动项目的完整示例：

```
python /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/django/bin/django-admin.py startproject mysite 
```

# java - 将字节矩阵写入文本文件的最有效方法

> ID：11112781
> 
> 赞同：0
> 
> 时间：2012-06-20T04:24:42.580
> 
> 标签：java, byte, text-files, bufferedwriter

我在将 3D 字节矩阵（作为无符号字节）写入文本文件时遇到问题。矩阵是 3D 的，看起来像`wMatrix3D[k][j][i]`. 我想将它保存到一个文本文件中，因此这些值由空格分隔，并且每 1,000 个值换行一个新行（每行有 1,000 个像素值，1,000 行构成一个代表图像的 1,000 x 1,000 文本文件）。

目前，我这样做：

```
BufferedWriter out = new BufferedWriter(new FileWriter(imgout));

//Parse Headers
for(int countHeaderLines = 0; countHeaderLines < numHeaders; countHeaderLines+=1){
    out.write(headers[countHeaderLines] + "\n");
}
System.out.println("Wrote Headers");

//Parse 1,000,000 x 1,000 2D matrix into 3D (1,000 x 1,000) x 1,000 matrix 
System.out.println("Writing main matrix to text...");

//String slice = new String();
for(int k = 0; k < numLayers; k++){
    for(int j = 0;  j < numRows; j++){
        String rowStr = new String();
        for(int i = 0; i < numColumns; i++){
            rowStr += Integer.toString((Integer.valueOf(wMatrix3D[k][j][i]) & 0xFF)) + " ";
        }
    out.write(rowStr + "\n");
    }

/*if( (k+1) % 5 == 0){
slice = new String();
out.write(slice);
System.out.println("Writing Set of 10:" + k);
}*/

System.out.println("k: " + k);
} 
```

但是，这种方式非常非常慢。有没有更有效的方法来做到这一点？在 CI 中使用“fprintf”没有问题，但在 Java 中我无法让它正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:47:32.863

`Array`s 和`byte`s 都`Serializable`在 Java 中。只需通过`ObjectOutputStream`.

```
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.util.Arrays;

class MatrixWriter {
    public static void main(String... a) throws FileNotFoundException,
            IOException, ClassNotFoundException {

        byte[][][] data = new byte[][][] {
                { { 1, 2 }, { 3, 4, 5 }, { 6, 7, 8 } },
                { { 9, 10 }, { 11, 12 } } };
        String filename = "data.ser";

        ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(
                filename));
        out.writeObject(data);
        out.close();

        ObjectInputStream in = new ObjectInputStream(new FileInputStream(
                filename));
        byte[][][] array = (byte[][][]) in.readObject();
        in.close();

        for (byte[][] b : array) {
            System.out.print("[");
            for (byte[] c : b) {
                System.out.print(Arrays.toString(c));
            }
            System.out.println("]");
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T07:13:41.223

您在其他答案中获得的大部分输入都是正确的。但是找出导致性能问题的最佳方法是分析您的应用程序。Netbeans IDE 实际上内置了一个不错的分析器。如果您要分析您的应用程序，最好使用矩阵的子集（我尝试了 200^3 次迭代），您会注意到字符串操作是您的问题。

![在此处输入图像描述](../Images/170247802800b57afc0e22d5683c408f.png)

每次连接字符串时，您都是`String`在后台创建一个对象。正如其他答案使您意识到的那样，您正在这样做十亿次。因此，实现良好解决方案的第一步是在每次迭代时停止创建对象。这可以通过使用`StringBuilder`连接`append()`值和`setLength(0)`重用字符数组来完成。这将产生轻微的改进，因为每次迭代只创建 1 个字符串。另一种方法是`out.write()`使用您想编写的每个字符串进行调用，而不必将它们连接起来。您可以在下面看到结果：

**使用 StringBuilder：**

![在此处输入图像描述](../Images/ea24906e16a5e863d090a3a4a03af2b2.png)

**直接到 BufferedWriter：**

![在此处输入图像描述](../Images/4fd90d7cb72c787f5089df1693f08f19.png)

仅供参考，我读过[内存映射文件](http://www.linuxtopia.org/online_books/programming_books/thinking_in_java/TIJ314_029.htm)提高了文件写入速度。我看到的唯一缺点是您必须事先知道预期的文件大小。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:36:01.720

您在文件上写入 10 亿个整数，因此假设每个数字至少 1 个字节 + 每个空格 1 个字节，忽略换行符，您已经是必须写入磁盘的 2 GB 数据。

现在这是一个很好的数量，肯定需要时间，但您可以考虑[`PrintWriter`](http://docs.oracle.com/javase/6/docs/api/java/io/PrintWriter.html)在您周围使用 a ，`BufferedWriter`以便您可以直接使用许多其他可以更优化的操作，例如

```
void print(int i) 
```

此外，您的矩阵似乎存储为字符串（因为您使用`Integer.valueOf(...)`）将字符串转换为整数，然后您将它们与它们并再次转换回来。我想您可以**通过将所有内容都设置为 int 来节省一些时间**（或者无论如何这似乎更有意义）。

还可以考虑使用 a[`StringBuilder`](http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html)来代替像您正在做的那样连接长字符串。但我认为你根本不应该连接任何东西（通过使用`PrintWriter`和优化数据结构）。

如果您的数据不适合人类阅读，那么只需跳过字符串并**保存二进制数据**，您将获得至少 10 倍的速度。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T04:45:13.993

You have to remember that you are effectively executing the central loop 1 billion times. There's nothing you can do to reduce that because that is the number of values in your 3d array. All you can hope to do is make that loop as tight as possible.

Creating strings by 'adding' (using the + operator) is very inefficient. Reducing the number of strings you create (which occurs every time you use the + operator to concatenate them) will help. Look into using a StringBuilder instead.

```
StringBuilder rowStr = new StringBuilder();
    ...
    rowStr.append(...);
    ...
rowStr.append("\n");
out.write(rowStr.toString()); 
```

Also, don't use Integer.toString on the result of Integer.valueOf. Try just casting to int and handling the case where the result is negative.

Any time you can remove the construction of a new object in the inner loop, you will be saving time.

# scala - 带有模式匹配的 Scala 部分应用函数

> ID：11112782
> 
> 赞同：4
> 
> 时间：2012-06-20T04:24:42.917
> 
> 标签：scala

我出于好奇发布这个问题，看看是否有人知道在以下情况下模式匹配是如何工作的。假设我有一个函数值定义如下：

```
val f = (s: String) => s.toInt 
```

它的类型当然是 String => Int。现在我想创建一个基于模式匹配传递给该函数的任何内容的输出的新函数。我可以定义如下：

```
val f2 = f(_: String) match {
  case i: Int => i + 2
} 
```

现在我的新函数也来自 String => Int，但是在这个过程中它加了 2。可以这样调用：

```
scala> f2("3")
res0: Int = 5 
```

如果我在不做部分应用的情况下做同样的事情，那么我会根据函数本身得到一个匹配：

```
val f3 = f match {
  case x => "matched: " + x
} 
```

现在，值 f3 被分配“匹配的 <function1>”，因为它以 'f' 作为值调用 match。

所以我的问题是，Scala 如何区分这两者？它们都是函数值，并且都是 String => Int 类型。事实上，如果我在运行 match 之前将部分应用的函数值分配给临时变量 tmp，那么它的行为与 f3 相同：

```
val tmp = f(_: String)
val f4 = tmp match {
  case x => "matched: " + x
} 
```

现在 f4 被分配“匹配的 <function1>”而不是函数 String => Int。

我可以看到想要做的价值，我只是好奇它是如何完成的。这只是 Scala 添加的一些魔法吗，它以某种方式发现你在匹配的上下文中部分应用了一个函数，所以它会产生一些不同的东西......

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-20T06:02:08.870

这就是下划线的工作方式。

```
f(_: String) match {
  case i: Int => i + 2
} 
```

是的简写

```
(x: String) => (f(x) match {
  case i: Int => i + 2
}) 
```

（添加括号以使事情更清楚）但您的其他示例等效于

```
(x: String => f(x)) match {
  case y => "matched: " + y
} 
```

# java - '+' 字符串运算符和 BlackBerry 中的 StringBuilder

> ID：11112786
> 
> 赞同：0
> 
> 时间：2012-06-20T04:25:09.940
> 
> 标签：java, blackberry, stringbuilder

我在使用 BlackBerry JDE 6.0 时遇到问题 以下代码向我发出警告（并在运行时导致错误）

```
 String s = "hello";
 doSomeStuff(s + "world"); 
```

警告：

```
Warning!: Reference to undefined class: java.lang.StringBuilder 
```

我不使用任何 StringBuilder。我搜索并发现*RIM API 的最新版本不包含 StringBuilder 类*。
将 JRE 版本更改为 1.4 会有所帮助，但这给我带来了很大的麻烦，因为我无法在此版本中使用泛型集合和一些新的 api。
另一个解决方案是我可以使用**StringBuffer**，但我不能简单地使用 '+' 运算符吗？为什么很难尝试？
**更新**：
我正在寻找另一种使用“+”运算符的方法，因为我的代码已经使用了其中的许多，我不想花很多时间来替换所有这些。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-23T23:58:14.920

Java 编译器会自动将任何带有一系列字符串连接的表达式转换为使用缓冲区。在 Java 1.5 之前，只有一种选择——StringBuffer。但是，它受到早期 Java 中同步所有公共方法的约定的影响。在 Java 1.5 中添加了一个新的缓冲区类 - StringBuilder - 这更好，因为它放弃了同步，让该类的用户正确同步访问。当 Java 编译器面向 Java 1.5 或更高版本时，它将使用 StringBuilder。对于 pre-1.5，它将使用 StringBuffer。

BlackBerry 设备使用基于 Java 1.3 的 Java-ME，因此不存在 StringBuilder 类。您的问题是您正在编写现代 Java-SE 代码并希望将其部署在 Java-ME BlackBerry 设备上。如果您使用的是 Eclipse，请将您的 Java 语言合规级别更改为 1.3。这将使编译器正确生成 StringBuffer 引用。它还将使用泛型作为语法错误。这是 BlackBerry 开发的预期 - 您不会获得泛型。

示例代码：

```
public class test {
    public static String concat(String a, String b) {
        return a + b;
    }
} 
```

编译时的字节码结果`javac -source 1.5 -target 1.5 test.java`

```
public static java.lang.String concat(java.lang.String, java.lang.String);
  Code:
   0:   new     #2; //class java/lang/StringBuilder
   3:   dup
   4:   invokespecial   #3; //Method java/lang/StringBuilder."<init>":()V
   7:   aload_0
   8:   invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   11:  aload_1
   12:  invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   15:  invokevirtual   #5; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;
   18:  areturn 
```

编译时的字节码结果`javac -source 1.3 -target 1.3 test.java`

```
public static java.lang.String concat(java.lang.String, java.lang.String);
  Code:
   0:   new     #2; //class java/lang/StringBuffer
   3:   dup
   4:   invokespecial   #3; //Method java/lang/StringBuffer."<init>":()V
   7:   aload_0
   8:   invokevirtual   #4; //Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
   11:  aload_1
   12:  invokevirtual   #4; //Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
   15:  invokevirtual   #5; //Method java/lang/StringBuffer.toString:()Ljava/lang/String;
   18:  areturn 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:34:57.940

当您使用 + 运算符附加字符串时，会隐式使用 StringBuilder。因为字符串是不可变的，所以重复追加是一个 O(n^2) 操作。解决方案是 StringBuilders，它摊销了 O(n) 附加时间，并且在您对字符串和其他内容使用 + 运算符时隐式使用。该代码正在内部扩展为：

```
doSomeStuff(new StringBuilder().append(s).append("world").toString()); 
```

您应该能够通过以下方式解决此问题：

```
doSomeStuff(s.append("world")); 
```

但是，因为这又回到了 StringBuilders 打算解决的问题上，所以考虑回到其他人建议的 StringBuffer 实现。

您也许可以尝试编写自己的 StringBuilder 类来包装 StringBuffer。我认为您需要公开的唯一方法是一堆 append(?)s（每个原始类型一个，一个用于 String，一个用于调用对象 toString 并回退到 String 的 Object）和一个 toString ()。我不知道这是否可行，这取决于编译器生成的代码是否使用 StringBuilder 的完全限定名称。但这可能值得一试。除此之外，我想不出任何其他方法可以使它工作，除了当您使用 + 运算符时，您可以找到一个关闭带有 StringBuilders 的代码生成的开关。

您可以尝试以下方法：

```
class StringBuilder
{
    StringBuffer buf = null;
    public StringBuilder()
    {
        buf = new StringBuffer();
    }
    public StringBuilder append(StringBuilder other)
    {
        buf.append(other.buf);
        return this;
    }
    public StringBuilder append(String s)
    {
        buf.append(s);
        return this;
    }
    public StringBuilder append(Object o)
    {
        buf.append(o.toString());
        return this;
    }
    public StringBuilder append(int i)
    {
        buf.append(i);
        return this;
    }
    /* SNIP: append() methods for every other primitive type */
    public String toString()
    {
        return buf.toString();
    }
} 
```

老实说，我不知道这是否会奏效，但值得一试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:35:53.163

您使用的编译器版本是什么？
据我所知，至少从 1.5 版本开始，operator+ 在编译期间被 StringBuilder 替换，在某些情况下。例如：
当代码中存在这样的“静态”字符串连接时：`String s = "hello" + "world";`
但是，如果在编译时无法确定连接结果，则无法翻译为 StringBuilder。
写完以上所有内容后，我不建议依赖编译器优化技术，并且建议您使用 StringBuilder 作为良好实践。
如果你有编译问题，你应该尝试显式地使用 StringBuffer ，或者进一步降低编译器版本
参见这里的一些[优化](http://www.precisejava.com/javaperf/j2se/StringAndStringBuffer.htm)建议。

# ios - 巨大的分配字节

> ID：11112787
> 
> 赞同：0
> 
> 时间：2012-06-20T04:25:20.097
> 
> 标签：ios, instruments, allocation

我几乎完成了我的第一个 iOS 应用程序的编写，但我现在遇到了一个问题，在某些时候应用程序会冻结几秒钟，我不知道为什么。

因此，为了让您了解应用程序，布局看起来与 facebook 的布局相同，所以我在左侧有一个菜单，在右侧有一个内容

```
 ------------------------------------
|           |                       |
|           |                       |
|           |                       |
|    UI     |                       |
|   TABLE   |     UITABLEVIEW       |
|   VIEW    |                       |
|           |                       |
|           |                       |
|           |                       |
|           |                       |
|           |                       |
|           |                       |
 ------------------------------------ 
```

左边有一个用户列表，点击它会显示一个带有个人资料的模式视图。

为了让您了解分配的数量，这是我第一次启动我的应用程序的时候： ![在此处输入图像描述](../Images/0464228f16c151d536d6b7a8bea4ecbd.png)

实际上看起来已经很多了，右边的表格视图由带有图像和 4 个标签的单元格组成（有时是 UITextView）

当我点击一个用户并启动模式视图时，分配增加了大约 20MB ![在此处输入图像描述](../Images/244f318f68d7428c2d30bc23c3b293b3.png)

但是，我认为这是问题所在，当我关闭模式视图并再次打开它时，分配增加了 50MB

![在此处输入图像描述](../Images/767932d0c7dd916db22ff73185eb752d.png)

这似乎不太正常，我发现很难检查到底哪里出了问题。

所以一个视图问题： - 当关闭一个模式视图时，分配不应该再次下降吗？- 我怎么能看到哪里出错了，好像某处有巨大的内存泄漏

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:44:24.800

所以在环顾四周后，我遇到了一些问题

1.  我没有在我的自定义单元格中释放任何东西（只是我愚蠢）
2.  当打开模态视图时，数据已经被推送到表格中，这导致一切都冻结了一秒钟

# python - 合并排序实施检查

> ID：11112789
> 
> 赞同：-1
> 
> 时间：2012-06-20T04:25:32.840
> 
> 标签：python, algorithm, python-2.7, mergesort

我特别怀疑我对两种情况的合并排序的实现：

1\. 如果列表的大小是 2，那么如果它们不是按升序排列的值，我已经交换了值，否则我已经返回它们。

2\. 在合并功能中，当列表试图检查其中的元素数量时，我分配了最大的数字（`9999`），这样在与它比较的情况下总是错误的。
谁能告诉我合并排序的实现是否正确？就像排序完成一样，但是归并排序的实现是准确的还是由于情况而出错？

这是我的代码：

```
# unsorted LIST
u_list = [3, 6, 8, 1, 4, 7, 2, 12, 45];

# Size of the unsorted list
global_size = len(u_list)

def foo(temp_list):
    size_of_list = len(temp_list)
    # If the size of the list is 1
    if size_of_list == 1:
        return temp_list

    # If the size of the list is 2
    if size_of_list == 2:
        if temp_list[0] > temp_list[1]:
            temp_list[0],temp_list[1] = temp_list[1],temp_list[0]
            return temp_list
        else: 
            return temp_list

    # If the size of the list is greater than 2                
    if size_of_list > 2:
        count = 1
        i = 0
        if size_of_list % 2 == 0:
            mid1 = size_of_list / 2
        else:
            mid1 = (size_of_list / 2) + 1

        mid2 = size_of_list - mid1

        newlist1 = list()
        newlist2 = list()

        for e in temp_list:
            if count >= mid1 + 1:
                newlist2.append(e)
            else:
                newlist1.append(e)
            if count == size_of_list:
                break
            count = count + 1
        sorted_list = list()
        return merge(foo(newlist1), foo(newlist2))

# Merging all the sorted components
def merge(list1, list2):
    i = 0
    j = 0
    k = 0
    size_of_list = len(list1) + len(list2)
    sorted_list = list()
    while k <= size_of_list - 1:
        if i == len(list1):
            list1.append(9999)
        if j == len(list2):
            list2.append(9999)

        if list1[i] < list2[j]:
            sorted_list.append(list1[i])
            i = i + 1
        elif list2[j] < list1[i]:
            sorted_list.append(list2[j])
            j = j + 1
        k = k + 1
    return sorted_list

print foo(u_list) 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-20T05:09:33.963

老实说，看到这样的代码，我感到很不安；）。这可能是正确的，但我的直觉认为它不是（如果数字 > 9999 怎么办？）。它比必要的复杂。语法是 Python，但您没有使用 Python 的强大功能。

以下是我将如何在 Python 中实现合并排序：

```
def merge_sort(sequence):
    if len(sequence) < 2: 
        return sequence

    mid = int(len(sequence) / 2)
    left_sequence = merge_sort(sequence[:mid])
    right_sequence = merge_sort(sequence[mid:])
    return merge(left_sequence, right_sequence)

def merge(left, right):
    result = []
    i = j = 0
    while i < len(left) and j < len(right):
        if left[i] < right[j]:
            result.append(left[i])
            i += 1
        else:
            result.append(right[j])
            j += 1 
    result += left[i:]
    result += right[j:]

    return result 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T20:58:57.423

# 不是最干净的代码，但它将通过合并排序方法完成工作。

方法一：

```
def merge_sorted(list1,list2):

    sorted = []

    i = 0

    k = 0

    while True:
        if i >= len(list1):                                                     
            sorted.extend(list2[k:])
            return sorted

        if k >= len(list2):
            sorted.extend(list1[i:])                                   
            return sorted

        if list1[i] <= list2[k]:
            sorted.append(list1[i])
            i += 1
        else:
            sorted.append(list2[k])
            k += 1 
```

方法二：

```
def sort_method2(list0):

    unsorted_list = list0[:]

    if (len(unsorted_list) == 1 or len(unsorted_list) == 0): 

        return(unsorted_list)

    elif(len(unsorted_list) == 2): 

        if (unsorted_list[0] > unsorted_list[1]):

            temp = unsorted_list[0]

            unsorted_list[0] = unsorted_list[1]

            unsorted_list[1] = temp

        return(unsorted_list)
    else:
        length = len(unsorted_list)//2   

        first_list = sort_method2(unsorted_list[length:])   

        second_list = sort_method2(unsorted_list[:length]) 

        return(merge_sorted(first_list,second_list)) 
```

list3 = [8,8,2,63,2,6,3,4,2,6,2,6,8,5,4,3,6,-1,21,0,1,23,623,4, 0.001,5,4,256,4,0]

sort_method2(list3)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-12-08T04:23:30.143

递归版本：将值从 sorted_lists 中删除后，将其推送到 merge_list 中，这是使用 pop() 完成的。

```
"""
This function merges two sorted arrays using recursion( sorted from left to right)
e.g
a = [1,2,3,4] and b = [5,6,7,8]
lets represent them like they are stacks and the smallest values can be popped out
so we send reversed lists into the function

_merge_two_sorted_lists(a[::-1], b[::-1])

"""
def _merge_two_sorted_lists(a1_L, b1_L, merged_sorted_lists = None):
    if merged_sorted_lists is None:
        merged_sorted_lists = []
    if not a1_L and not b1_L:
        return merged_sorted_lists

    if a1_L and b1_L:
        if a1_L[-1] < b1_L[-1]:
            merged_sorted_lists.append(a1_L.pop())
        else:
            merged_sorted_lists.append(b1_L.pop())
    elif a1_L and not b1_L:
        merged_sorted_lists.append(a1_L.pop())
    elif not a1_L and b1_L:
        merged_sorted_lists.append(b1_L.pop())

    return _merge_two_sorted_lists(a1_L, b1_L, merged_sorted_lists)
>>> a = [1, 2, 3]
>>> b = [3,4]
>>> _merge_two_sorted_lists(a[::-1],b[::-1])
>>> [1, 2, 3, 3, 4] 
```

# ruby-on-rails - 找不到没有 id 的用户 - Rails

> ID：11112793
> 
> 赞同：0
> 
> 时间：2012-06-20T04:25:54.973
> 
> 标签：ruby-on-rails, ruby

我刚刚开始使用 Rails。我有一个模型，“用户”，它有很多“列表”。在用户显示视图上，我创建了一个表单来为当前用户创建一个列表。提交表单时，我收到以下错误：

> 找不到没有 ID 的用户

我认为我设置嵌套列表表单的方式有问题。

用户 -> show.html.erb

```
 <p id="notice"><%= notice %></p>

<p>
  <b>Username:</b>
  <%= @user.username %>
</p>

<p>
  <b>Password:</b>
  <%= @user.password %>
</p>

<p>
  <b>Email:</b>
  <%= @user.email %>
</p>

<h2>Add a List</h2>
 <%= form_for([@user, @user.lists.build]) do |f| %>
 <div class ="field">
    <%= f.label :title %><br />
    <%= f.text_field :title %>
</div>
<div class="field">
    <%=f.label :description%><br />
    <%=f.text_field :description%>
</div>
<div class="actions">
    <%= f.submit %>
</div>

<% end %>

<%= link_to 'Edit User', edit_user_path(@user) %> |
<%= link_to 'Back to Users', users_path %> 
```

这是列表“创建”控制器操作。

```
 class ListsController < ApplicationController
    def create
        @user = User.find(params[:id])
        @list = @user.lists.create(params[:list])
        redirect_to user_path(@user)        
    end
end 
```

更新：在 UserController 上显示方法

```
 # GET /users/1
  # GET /users/1.json
  def show
    @user = User.find(params[:id])

    respond_to do |format|
      format.html # show.html.erb
      format.json { render json: @user }
    end
  end 
```

更新：我的路线

```
 resources :users do
      resources :lists
  end

  get "home/index" 
```

那么 params[:id] nil 不知何故？我错过了什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:47:06.880

你能试试这个吗？由于这不是 RESTUL 路由（请参阅[http://guides.rubyonrails.org/form_helpers.html](http://guides.rubyonrails.org/form_helpers.html)），您可能必须在 form_for 标记中指定您希望表单命中的 URL（控制器和操作）。如果这仍然没有传递用户 ID，您还可以使用 hidden_​​field 在表单中显式传递它。如果这不起作用，请告诉我...

在视图中 (show.html.erb)

```
<h2>Add a list</h2>
<%= form_for [@user, @list] do |f| %>
<div class ="field">

<%= f.label :title %><br />
<%= f.text_field :title %>

<%=f.label :description%><br />
<%=f.text_field :description%>

<%= f.submit %>
<% end %> 
```

在用户控制器中：

```
class UsersController < ApplicationController
  def show
    @user = User.find(params[:id])
    @list = @user.list.new
  end
end 
```

在 Lists 控制器中：

```
 class ListsController < ApplicationController
   def create
     @user = User.find(params[:user_id])
     @list = @user.lists.build(params[:list])
     @list.save
     redirect_to @user # or wherever
   end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:49:12.490

确保您`params[:user_id]`在创建操作中使用，而不是`params[:id]`

```
class ListsController < ApplicationController
    def create
        @user = User.find(params[:user_id]) 
        @list = @user.lists.create(params[:list])
        redirect_to user_path(@user)        
    end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-20T00:14:46.440

至少在 Rails 4 中（不确定以前的版本），如果您在新视图中的表单中传递一个参数，如果您想在创建操作中调用该参数，您需要稍微修改调用`resource_name_params[:user_id]`而不是简直了`params[:user_id]`。

特别是在您的情况下，您在控制器中的 create 方法可能需要如下所示：

```
class ListsController < ApplicationController
   def create
     @user = User.find(list_params[:user_id])
     @list = @user.lists.build(list_params)
     ... 
```

# php - 删除字符串mysql中换行后的空格

> ID：11112796
> 
> 赞同：0
> 
> 时间：2012-06-20T04:26:13.713
> 
> 标签：php, mysql

我的数据库中有一个名为“system”的字段，如下所示

系统领域；

```
registration    //This field is part of a table called "system_owner" 
elearning       //all three value is in one string which each contains "\n"
payment 
```

当我用这个 SQL 语句删除“elearning”时；

```
$SQL = "UPDATE system_owner SET system=REPLACE(system,'elearning','') 
```

系统场变成了这样；

```
registration

payment 
```

我的问题是如何删除“注册”和“付款”之间的空白？我应该使用什么 SQL 语句？

我想要的字段的输出

```
registration
payment 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T04:29:10.200

如果你尝试：

```
$SQL = "UPDATE system_owner SET system=REPLACE(system,'elearning\n','') 
```

# ruby - ruby all 和 none 的 Groovy 等效项

> ID：11112799
> 
> 赞同：19
> 
> 时间：2012-06-20T04:26:42.013
> 
> 标签：ruby, collections, groovy, conditional-statements

我想知道 Groovy 中 Collection 的所有（或没有）项目是否满足特定条件。

我知道在 ruby​​ 中（以及在带有 linq 的 c# 中），您可以调用诸如`all?`and之类的方法`none?`并将条件作为闭包传递来完成此操作。

Groovy 中是否有与此方法等效的方法？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-20T04:33:18.423

是的，它`!any`（对于 Ruby 的`none`）和`every`（对于 Ruby 的`all`）：

```
def list = [1, 2]
assert !list.any { it < 0 }
assert list.every { it > 0 } 
```

另请参阅[http://groovy.codehaus.org/JN1015-Collections上的文档](http://groovy.codehaus.org/JN1015-Collections)

# python - 奇怪的 Pygame 错误

> ID：11112800
> 
> 赞同：0
> 
> 时间：2012-06-20T04:26:43.103
> 
> 标签：python, pygame

我正在创建一个游戏，并使用paint.NET 制作了一张世界地图图像。我将它保存为 JPEG 文件，并尝试将其加载到 Pygame 框架中。这是我的代码：

```
 import pygame
    import sys
    from pygame.locals import *

    Surface = pygame.display.set_mode ((1000, 775)), 0, 32)
    pygame.display.set_caption ('World Map')
    white = (255, 255, 255)
    pygame.image.load ('WorldMap.jpg')
    while True:
        Surface.fill (white)
        WorldMap.blit(Surface, (900, 675))
        for event in pygame.event.get ():
            if event.type == QUIT:
                pygame.quit ()
                sys.exit(0)
         pygame.display.update() 
```

我的错误是它告诉我它无法加载 WorldMap.jpg

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T17:40:29.697

In the code you posted, the image isn't assigned to a variable and the blitting is backwards:

```
 pygame.image.load ('WorldMap.jpg')
    while True:
        Surface.fill (white)
        WorldMap.blit(Surface, (900, 675)) 
```

should be:

```
 WorldMap = pygame.image.load('WorldMap.jpg')
    while True:
        Surface.fill(white)
        Surface.blit(WorldMap, (900, 675)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:56:40.067

无论出于何种原因，它都没有加载图像。以下是您可以尝试解决此问题的一些步骤：

*   尝试在外部查看器中打开图像。如果您无法查看它，则它可能已损坏或存在权限问题。
*   检查图像上的权限设置。
*   确保图像与 python 脚本位于同一文件夹中
*   确保图像实际上是 jpeg 图像。您是否可能将其保存为位图 (BMP)，但在不更改格式的情况下将文件扩展名更改为 JPG？

除此之外，如果没有看到整个错误并知道您在每个步骤中发现了什么，我将无法提供太多帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T15:33:51.187

尝试指定 jpg 文件的完整路径。

如果仍然失败，请更新您的问题以包含您收到的完整错误。

# jquery - datasift.com 页面中的计数器是真正的计数器吗？

> ID：11112806
> 
> 赞同：0
> 
> 时间：2012-06-20T04:27:12.603
> 
> 标签：jquery, counter

[我正在查看http://datasift.com/](http://datasift.com/)页面底部的计数器，查看页面源后，我发现计数器是由如下JS代码生成的（存储在此[链接](http://datasift.com/sites/default/files/js/js_idtH4v08cW6QPrmvF5F9E72D54mv-QIRd4WGwPfjjrg.js)中）：

```
function UpdateClockCounter(count) {
  numberitems = jQuery('#clock ul').children('li').children('.number');
  number = '';
  numberitems.each(function(index, el) {
    number += jQuery(el).text();
  });
  number = number * 1 + count * 1;
  number = number.toString().split("").reverse().join("");
  revnumberitems = jQuery(numberitems.get().reverse());
  revnumberitems.each(function(index, el) {
    if( i = number.charAt(index))
      jQuery(el).text(i);
    else
      jQuery(el).text('0');
  });
} 
```

刷新计数器时与服务器端没有通信。我可以说这个柜台是假柜台吗？还是我在这里想念什么？

我问这个问题是因为我想实现类似的东西。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:34:15.460

是的，完全是假的。甚至起始值都不是真实的。建立对他们服务的信心的好方法。以下是该函数的调用方式：

```
 jQuery(document).ready(function() {

      var start = Math.round(
          new Date("April 01, 2011 00:00:00").getTime()/1000);
      var time = Math.round(new Date().getTime()/1000);
      var d = time - start;
      var count = 1000000 + (d * 3000);

      SetClockCounter(count);

      setInterval(function() {
         var number = 
              Math.floor((Math.random() * (2500 - 3000 + 1) + 2500)/10);
         UpdateClockCounter(number);
      }, 100);
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T07:45:57.377

该数字基于通过 twitter firehose 发布的推文数量。我们每秒处理数千条推文、Facebook 帖子、博客和其他数据。您可以随意查看通过我们服务的费率数据：http: [//highscalability.com/blog/2011/11/29/datasift-architecture-realtime-datamining-at-120000-tweets-p.html](http://highscalability.com/blog/2011/11/29/datasift-architecture-realtime-datamining-at-120000-tweets-p.html)

所以是的，正如您从 JS 中发现的那样，它是假的，但基于我们的过滤和流服务器的粗略平均吞吐量。使用这些数字比花时间创建一个服务更有效，该服务将作为返回 JSONP 响应的 REST 服务计算并坐在那里。你会发现真实的数字并没有太大的不同。我们正在谈论数十亿的“交互”，因此只有几千的数据通过平台只需要 1 秒的时间。

# sql-server - 嵌套存储过程调用临时表的范围是什么？

> ID：11112811
> 
> 赞同：9
> 
> 时间：2012-06-20T04:28:20.827
> 
> 标签：sql-server, tsql, stored-procedures

这是两部分问题：

1.  我有两个存储过程：sp1 和 sp2。如果 sp1 创建一个临时表 #temp 然后执行 sp2 我可以在嵌套过程中访问 #temp 吗？如果没有，如何以另一种方式做到这一点？

2.  函数可以接受表类型的参数吗？我试过了，但 SQL Server 给了我一个错误。为什么这行不通？也许 sqlserver 应该支持类似 Generic 的东西。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-20T05:07:14.443

1.  是的，临时表在连接范围内，因此嵌套存储过程 (sp2) 将有权访问 sp1 中的 #temp table create。

2.  是的，在 SQL 2008 中，我们能够将表值参数 (TVP) 作为输入传递给函数或存储过程。你可以[在这里阅读更多](http://msdn.microsoft.com/en-us/library/bb510489.aspx)。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2016-05-10T15:25:44.327

它的工作原理，要访问子程序中的临时表，它必须在父程序中声明。

```
create proc test2
    As
    BEGIN

        insert into #tmpchild
        select 100

    END

CREATE PROC [dbo].[TEST]
As
BEGIN

    create table #tmpchild(id int)
    exec test2;
    select * FROM #tmpchild;
END 
```

在这里，当您运行 TEST SP 时，它会调用 test2 ，在子 SP 中可以访问 #tempchild。它给出了以下输出。

```
100 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-30T13:26:49.647

这个例子有效：

可以在嵌套过程中访问过程的临时表

```
alter procedure tests2 (@tmptbl varchar(20))
as
    declare @sql as nvarchar(1000)
    set @sql = 'select * from ' + @tmptbl
    exec sp_executesql @sql
    print @tmptbl
go

alter procedure tests1
as
    IF EXISTS (SELECT * FROM tempdb.dbo.sysobjects WHERE ID = OBJECT_ID(N'tempdb..#tmpchild'))
    BEGIN DROP TABLE #tmpchild END
    create table #tmpchild(id int)
    insert into #tmpchild(id) values(100)
    exec tests2 '#tmpchild'
go

exec tests1 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-02-08T12:17:19.393

当从父 SP 调用临时表时，可以在子 SP 中访问临时表，因为临时表在连接范围内。请参阅下面的代码以供参考。

```
CREATE PROCEDURE ParentSP   
AS
BEGIN
    --Assuming, there is a pre-existing 'Employee' table in DB
    select * INTO #TempTable FROM Employee   --temparary table created here
    EXEC ChildSP
END
GO

CREATE PROCEDURE ChildSP    
AS
BEGIN
    (select COUNT(1) as Count FROM #Temp)
    select * FROM #TempTable --tempary table assessed here
END
GO

EXEC ParentSP 
```

# java - 从 java 调用 jsp 或 javascript

> ID：11112813
> 
> 赞同：0
> 
> 时间：2012-06-20T04:28:27.860
> 
> 标签：java, jsp

是否可以从 Java 调用 JSP 页面（我只在 Java 中编写了以下方法，而不是在 jsp 上）？我想做类似的事情..

```
public void testmethod(){

  if(somecondtion){
    show some messege to the user.
 }  

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:34:07.023

如果您的 java 代码在客户端，您可以使用 Url 类访问服务器，如下所示

```
URL url = new URL("http://www.xyz.com/xyz.jsp");//i.e your Url
URLConnection conn = url.openConnection();
conn.connect(); 
```

更好地参考[http://docs.oracle.com/javase/1.4.2/docs/api/java/net/URL.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/URL.html)以更好地使用 Url 类方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:11:22.507

您需要 servlet。网络上有很多例子

[http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/](http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/)

[http://courses.coreservlets.com/Course-Materials/csajsp2.html](http://courses.coreservlets.com/Course-Materials/csajsp2.html)

还有很多

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:38:40.633

Heard of servlets ? [This](https://stackoverflow.com/questions/2437768/how-to-call-jsp-file-from-java) question is infact a duplicate, which you would have got on searching.

# zend-framework - Zend_Db_Table_Abstract 问题？

> ID：11112816
> 
> 赞同：1
> 
> 时间：2012-06-20T04:28:51.203
> 
> 标签：zend-framework, zend-studio

我正在尝试使用 Zend_Db_Table_Abstract 连接到数据库表。为此，请按照以下步骤操作

**Step1：**创建一个扩展 Zend_Db_Table_Abstract 的类

```
<?php
class Application_Model_DbTable_Albums extends Zend_Db_Table_Abstract{

protected $_name = "zfalbums";

public function getAlbums($id){
    $where = "id = $id";
    $row = $this->fetchRow($where);
    $row->toArray();
    return $row;
}
} 
```

**Step2：**在控制器中调用上面的类，像这样

```
<?php

class IndexController extends Zend_Controller_Action
{

public function init()
{
    /* Initialize action controller here */
}

public function indexAction()
{
    ;

    $albums = new Application_Model_DbTable_Albums();
    $result = $albums->fetchAll()->toArray();
    print_r($result);
}
} 
```

Step3：使用本地主机url访问索引控制器

但是，当尝试运行此控制器时，会引发以下错误

> 致命错误：在中找不到类“Application_Model_DbTable_Albums”

这是我的项目结构

![在此处输入图像描述](../Images/b0c03c081ad40c40f25bd2cc8b8ef6a3.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T04:58:50.877

将您的文件重命名`Application_Model_DbTable_Albums.php`为`Albums.php`并确保其中有类似这样的内容

```
 Class Application_Model_DbTable_Albums extends Zend_Db_Table_Abstract
{

} 
```

# android - android listview到表格布局

> ID：11112819
> 
> 赞同：0
> 
> 时间：2012-06-20T04:29:24.357
> 
> 标签：android, android-listview

嗨，我无法将列表视图中的项目列表打印到表格中。

```
lv.setOnItemClickListener(new OnItemClickListener() {

            //@Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {
                // getting values from selected ListItem
                String filename = ((TextView) view.findViewById(R.id.FileName)).getText().toString();
                // Starting new intent
                Intent in = new Intent(getApplicationContext(), QuestionActivity.class);
                in.putExtra(KEY_FILENAME, filename);
                startActivity(in);
            }
        }); 
```

单击项目时从第一页开始，它将传递到第二页。

在第二页检查 2 项时，我想将结果打印到表中，但出现错误。帮助！！！

```
if(checkedItems == 2){
        Intent in1 = new Intent(getApplicationContext(), TableActivity.class);
        String filename = ((TextView) arg1.findViewById(R.id.FileName)).getText().toString();
        in1.putExtra(KEY_FILENAME, filename);
        startActivity(in1);
    } 
```

logCat 看起来像这样

06-21 16:02:57.011: D/dalvikvm(422): GC_FOR_MALLOC 在 43 毫秒内释放了 2120 个对象/142168 个字节 06-21 16:02:59.931: D/AndroidRuntime(422): 关闭 VM 06-21 16:02 :59.931: W/dalvikvm(422): threadid=1: 线程以未捕获的异常退出 (group=0x4001d800) 06-21 16:02:59.941: E/AndroidRuntime(422): FATAL EXCEPTION: main 06-21 16:02 :59.941: E/AndroidRuntime(422): java.lang.NullPointerException 06-21 16:02:59.941: E/AndroidRuntime(422): at com.xml.android.QuestionActivity.onItemClick(QuestionActivity.java:119) 06- 21 16:02:59.941: E/AndroidRuntime(422): 在 android.widget.AdapterView.performItemClick(AdapterView.java:284) 06-21 16:02:59.941: E/AndroidRuntime(422): 在 android.widget。 ListView.performItemClick(ListView.java:3382) 06-21 16:02:59.941: E/AndroidRuntime(422): 在 android.widget.AbsListView$PerformClick.run(AbsListView.java:1696) 06-21 16:02:59.941: E/AndroidRuntime(422): 在 android.os.Handler.handleCallback(Handler.java:587) 06-21 16:02:59.941: E/AndroidRuntime(422): 在android.os.Handler.dispatchMessage(Handler.java:92) 06-21 16:02:59.941: E/AndroidRuntime(422): 在 android.os.Looper.loop(Looper.java:123) 06-21 16: 02:59.941: E/AndroidRuntime(422): 在 android.app.ActivityThread.main(ActivityThread.java:4627) 06-21 16:02:59.941: E/AndroidRuntime(422): 在 java.lang.reflect.Method .invokeNative(Native Method) 06-21 16:02:59.941: E/AndroidRuntime(422): at java.lang.reflect.Method.invoke(Method.java:521) 06-21 16:02:59.941: E/ AndroidRuntime(422): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868) 06-21 16:02:59.941: E/AndroidRuntime(422): 在 com.android.internal.os .ZygoteInit.main(ZygoteInit.java:626) 06-21 16:02:59.941:E/AndroidRuntime(422): at dalvik.system.NativeStart.main(Native Method) 06-21 16:03:36.252: D/AndroidRuntime(447): 关闭 VM 06-21 16:03:36.262: W/dalvikvm (447): threadid=1: 线程以未捕获的异常退出 (group=0x4001d800) 06-21 16:03:36.272: E/AndroidRuntime(447): 致命异常: main 06-21 16:03:36.272: E/AndroidRuntime (447): java.lang.RuntimeException: 无法启动活动 ComponentInfo{com.xml.android/com.xml.android.TableActivity}: java.lang.NullPointerException 06-21 16:03:36.272: E/AndroidRuntime(447 ): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679) 06- 21 16:03:36.272: E/AndroidRuntime(447): 在 android.app.ActivityThread.access$2300(ActivityThread.java:125) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.os.Handler .dispatchMessage(Handler.java:99) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.os.Looper.loop(Looper.java:123) 06-21 16:03:36.272: E /AndroidRuntime(447): 在 android.app.ActivityThread.main(ActivityThread.java:4627) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 java.lang.reflect.Method.invokeNative(Native Method ) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 java.lang.reflect.Method.invoke(Method.java:521) 06-21 16:03:36.272: E/AndroidRuntime(447):在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 com.android.internal.os.ZygoteInit.main( ZygoteInit.java:626) 06-21 16:03:36.272:E/AndroidRuntime(447): 在 dalvik.system.NativeStart.main(Native Method) 06-21 16:03:36.272: E/AndroidRuntime(447): 由: java.lang.NullPointerException 06-21 16:03: 36.272: E/AndroidRuntime(447): 在 com.xml.android.TableActivity.onCreate(TableActivity.java:27) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1047) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) 06-21 16:03:36.272: E/AndroidRuntime (447): ... 11 更多E/AndroidRuntime(447): 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java :2627) 06-21 16:03:36.272: E/AndroidRuntime(447): ... 11 更多E/AndroidRuntime(447): 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 06-21 16:03:36.272: E/AndroidRuntime(447): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java :2627) 06-21 16:03:36.272: E/AndroidRuntime(447): ... 11 更多

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:48:07.693

```
intnt = new Intent(getApplicationContext(), QuestionActivity.class));
String filename = ((TextView) view.findViewById(R.id.FileName)).getText().toString()
Bundle bundle = new Bundle();   
bundle.putString(KEY_FILENAME, filename);
intnt.putExtras(bundle); 
startActivity(intnt);

// In the receiving class write

Bundle b = getIntent().getExtras();
String name1 = b.getString("KEY_FILENAME"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:41:08.287

创建这样的意图

```
Intent in = new Intent(PresentActivity.this, QuestionActivity.class);
in.putExtra(KEY_FILENAME, filename);
startActivity(in); 
```

# android - Android 默认 DeskClock 应用程序中的设计模式

> ID：11112822
> 
> 赞同：0
> 
> 时间：2012-06-20T04:29:51.027
> 
> 标签：android, design-patterns

我正在尝试学习 android 系统并正在研究标准（默认）DescClock 应用程序（我想我从这里得到了它：http://omapzoom.org/?p=platform/packages/apps/ [DeskClock.git](http://omapzoom.org/?p=platform/packages/apps/DeskClock.git)） . 具体来说，我的问题是关于类`Alarm`和`Alarms`. `Alarm`是单个警报的实现，同时`Alarms`具有多种使用方法`Alarm`。的所有方法`Alarms`都是*静态*的。

现在，问题。使用静态方法创建“管理器”类是一种众所周知的设计模式吗？这种方法的一般好处是什么？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T09:49:17.533

At first, I thought about this possibly being a [Composite pattern](http://en.wikipedia.org/wiki/Composite_pattern), which is typical when you have a class that can be stand-alone or a container of the same type. But, when I read that all of the `Alarms` methods are static, I realized it has nothing to do with a Composite.

The fact that all of the `Alarms` methods are static implies that `Alarms` has no state, and only acts *behaviorally* on the `Alarm` class instances. After looking at the code, it appears as though the `Alarms` class is a hybrid of the [Facade pattern](http://en.wikipedia.org/wiki/Facade_pattern) or even a [Visitor pattern](http://en.wikipedia.org/wiki/Visitor_pattern), even though its only working on one class.

What the `Alarms` class is doing is effectively encapsulating the details of ***how*** to work on the `Alarm` class, thus simplifying its use for the end-user. I actually like this approach, although one could argue that if its so difficult to use the `Alarm` class that it has to be encapsulated like this, then maybe its design should be refactored.

# iphone - 无法在 xcode 4.3.2/preferences/downloads/components 中安装 iOS Simulators 5.0 和 4.3

> ID：11112823
> 
> 赞同：0
> 
> 时间：2012-06-20T04:29:57.843
> 
> 标签：iphone, ios, ios4

大家好，我最近安装了 Xcode 4.3.2。我想从 Xcode/preferences/downloads/components 安装 iOS 模拟器 5.0 和 4.3。但是当我单击上面路径上的安装按钮时，它显示 abc@gmail.com（即我的开发者苹果登录ID）无法访问iOSSimulator。我不确定这个问题如何解决。目前我可以访问5.1simulator。如果不安装 5.0 和 4.3 模拟器，我无法访问其他模拟器和设备调试支持。所以请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:38:50.573

Make sure you log into the Developer site and accept any new Terms and Conditions. I got locked out because of that. What happens is your developer account contracts arent valid and so you can't access resources. Kind of annoying, but part of the process. Usually this only happens after major updates or before them.

Here's the link if you need it: [Apple Developer](https://developer.apple.com/devcenter/ios/index.action)

Also, it could be I scheduled downtime. Just a warning!

# asp.net-mvc - 禁用下拉菜单的默认验证

> ID：11112829
> 
> 赞同：3
> 
> 时间：2012-06-20T04:30:53.027
> 
> 标签：asp.net-mvc

我有一个称为 Machinefilter 的视图

```
@using (Html.BeginForm())
{
    <div id="filterDiv">
        <fieldset>
            <legend>Filter</legend>
            <table>
                <tr>
                    <td>
                        @Html.Label("Machine Serial No :")
                    </td>
                    <td>
                        @Html.TextBoxFor(m => m.MachineSrNo, new { @id = "SearchSerialNo" })
                    </td>
                    <td>
                        @Html.Label("City :")
                    </td>
                    <td>
                        @Html.DropDownListFor(m => m.CityId, new SelectList(ViewBag.Cities, "CityId", "CityName"), "--Select City--", new { @id = "drpCity" })
                    </td>
                    <td>
                        @Html.Label("Bank Branch :")
                        </td>
                        <td>
                        @Html.DropDownListFor(m => m.BankBranchId, new SelectList(ViewBag.BankBranch, "BankBranchId", "Name"), "--Select Bank Branch--", new { @id = "drpBankBranch" })
                    </td>
                </tr>
            </table>
        </fieldset>
    </div>
    <p>
    <input type="submit" value="Search" />
    <input type="reset" value="Clear" />
</p>
} 
```

每当我点击“搜索”按钮时，它都会显示默认验证。我没有对此观点进行任何验证。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-20T05:01:54.800

即使您不使用验证属性装饰属性，ASP.NET MVC 也会隐含地进行一些验证。这两个验证是类型检查和必需的。如果您使用不可为空的内置数据类型（如整数、日期时间等），则会发生这两个验证。

我希望你有整数类型的属性。如果你不提交隐式验证失败并且你得到一个错误，一个整数属性应该有一些值。

**为避免这种情况，您可以使用可为空的类型。**

例如。

```
public class Model
{
   public int? CityId{get;set;}
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-12-02T17:44:54.090

对于 MVC5，只需将**data_val = false**添加到您不希望对其进行验证的帮助程序。

```
@Html.TextBoxFor(m => m.MachineSrNo, new { @id = "SearchSerialNo", data_val = false  }) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-20T04:51:48.783

根据此视图检查您正在使用的模型。你必须在那里使用Required属性。从那里删除相同的内容。

# ruby - 为什么从 MacVim 执行时 shell 输出/设置与终端不同

> ID：11112836
> 
> 赞同：1
> 
> 时间：2012-06-20T04:31:58.847
> 
> 标签：ruby, vim, rvm, zsh, macvim

使用 Vim 时，您可以通过

```
:!<command_name> 
```

这是我的问题。

我已将当前的 Ruby 设置为

```
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin11.4.0] 
```

这是来自的输出

```
ruby -v 
```

在 Terminal.app 或只是终端。

一旦我加载 MacVim 并输入

```
:!ruby -v 
```

我明白了

```
ruby 1.9.3p0 (2011-10-30 revision 33570) [x86_64-darwin11.2.0] 
```

Vim 从哪里得到它的上下文？

它似乎没有遵守我在`.zshrc`. 这些设置似乎都没有加载或生效。我什至创建了一个函数来通过命令行获取我的点文件

```
:!source ~/.zshrc 
```

并无济于事！

我不明白这里到底发生了什么。我遇到了一个问题，因为 Vim 使用的是 Ruby 1.9.3p0，但 RVM 设置为不同的 Ruby。这当然会破坏对 Rails 的任何调用。

```
/usr/lib/ruby/1.9.1/rubygems.rb:314:in `bin_path': can't find gem rails ([">= 0"]) with executable rails (Gem::GemNotFoundException)
        from /usr/bin/rails:19:in `<main>'

shell returned 1 
```

有人可以告诉我如何覆盖它吗？

甚至我的 rails 版本在 Vim 和终端中也有所不同。

```
# Terminal output
which rails

# prints - /Users/adubb/.rvm/gems/ruby-1.9.3-p194/bin/rails

# Vim/MacVim output
:!which rails

# prints - /usr/bin/rails 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T02:04:28.120

好的，伙计们，一切都很好。让我概述一下解决问题的步骤。首先，非常感谢@romainl 和@mpapis 的帮助。@romainl，我做的第一件事是尝试 RVM 插件，但这没有帮助。然后我查看[了@mpapis 发布的链接，在](http://groups.google.com/d/msg/vim_mac/wSS_1zujSyo/eC_JOgI2gq4J)那里我了解了 MacVim 的隐藏设置。好吧，我不能马上找到这个设置，因为当他们提到偏好时，他们并不是在谈论 UI（通常映射到 Command + ，热键）。他们在谈论

```
:h macvim 
```

[我在扫描上述帖子](http://groups.google.com/d/msg/vim_mac/wSS_1zujSyo/eC_JOgI2gq4J)后发现了这一点。

进入 macvim 帮助部分后，我搜索了世界“shell”。

```
/shell 
```

我在 3\. Preferences 部分下找到了两个设置。

```
==============================================================================
3\. Preferences                  macvim-prefs macvim-preferences

Some settings are global to the MacVim application and would not make sense as
Vim options.  These settings are stored in the user defaults database and can
be accessed via the "MacVim.Preferences..." menu item.

                            macvim-user-defaults
Not all entries in the user defaults database are exposed via the preference
panel, usually because they should not be changed by the user under normal
circumstances.  These options can still be changed with the "defaults" command
by opening Terminal and typing

    defaults write org.vim.MacVim KEY VALUE

Check the man page on "defaults" for more information on this command as well
as general information regarding Mac OS X user defaults.

Here is a list of relevant dictionary entries:

...more entries
MMLoginShellArgument    login shell parameter [string]
MMLoginShellCommand     which shell to use to launch Vim [string]
...more entries 
```

MMLoginShellArgument 和 MMLoginShellCommand 设置引起了我的注意。所以我尝试了其中一种设置

```
defaults write org.vim.MacVim KEY VALUE 
```

语法，但无济于事。

然后我搜索了“mmloginshell command macvim”，这是我在 MacVim 帮助的首选项部分找到的 2 个设置之一。

[第一个链接是 Stackoverflow 问题。](https://stackoverflow.com/questions/3344704/path-variable-not-properly-set-in-gvim-macvim-when-it-is-opened-from-the-finder)

到达那里后，我遇到了[这个答案](https://stackoverflow.com/a/7382033/389103)，对我来说，[这是 MacVim Github wiki 上的这个页面](https://github.com/b4winckler/macvim/wiki/Troubleshooting)。

在那里，我按照 Björn Winckler（MacVim 核心开发人员）的故障排除指南中的步骤进行操作；特别是标题为“对于 zsh 用户”的部分。

正是在这里，我了解了这两个文件：

```
/etc/zshenv 
/etc/zprofile 
```

人们会期望在加载 MacVim 并且 zsh 是当前 shell 时会读取/获取 ~/.zshrc 的内容，但事实并非如此。一旦我意识到这两个文件之一（/etc/zshenv 和 /etc/zprofile）应该包含我的 $PATH 变量，我开始将它从 ~/.zshrc 单独迁移到每个文件，以查看是否可以工作. 我最初以 /etc/zshenv 为目标（同时保持 /etc/zprofile 完好无损），重新加载 vim/MacVim，一切都完美无缺。

```
which rails 
```

这次实际上有正确的输出。

@romainl，当您最初询问我的 $PATH 变量是否在 Terminal.app 和 vim 之间同步时，我想我错误地认为它们是等价的。后来在分析两组输出时，我发现它们确实略有不同。对于潜在问题是什么，这将是一个很好的指标。我的错误，谢谢。

Bash 用户可能想考虑我怀疑的 /etc/zshenv 等价物，本文对此进行了[概述](https://groups.google.com/d/msg/vim_mac/wSS_1zujSyo/eC_JOgI2gq4J)。

Ben Schmidt 提到你应该在“~/.profile 而不是~/.bashrc”中设置你的 $PATH 变量；所以在进行故障排除时需要考虑一些事情。

我不记得在 ~/.bashrc 中指定了我的 $PATH 变量时曾经遇到过 bash 的这个问题，但是谁知道呢……这些信息在某些时候可能会派上用场。

谢谢大家，我希望这些信息能帮助困扰 zsh 的用户。快乐 Ruby 黑客攻击。

# linux - 如何将核心文件与其关联的可执行文件捆绑在一起？

> ID：11112838
> 
> 赞同：3
> 
> 时间：2012-06-20T04:32:05.773
> 
> 标签：linux, debugging, gdb, core

如何将核心文件与其关联的可执行文件和共享库捆绑在一起？

当一个程序崩溃时，它会生成一个核心文件，我可以用它来用 gdb 调试它。但是，如果有人出现在我身后并“有帮助”地重新编译程序并打开额外的调试，或者升级包，或者以任何方式弄乱系统，那么该核心文件将变得无用。

所以我想要一种将核心文件与其引用的所有其他二进制文件捆绑到一个大文件中的方法。

那么，当然，我还需要一种在gdb中打开这个文件的方法。我不想将文件“提取”回其原始位置并覆盖升级或更改的二进制文件。我在想象一个 shell 脚本，它将二进制文件提取到一个临时目录，然后告诉 gdb 去那里看。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-10T06:59:40.063

gdb 已经拥有您想要的信息 ( `info sharedlib`)：

```
$ gdb -ex 'set height 0' -ex 'set confirm off' \
  -ex 'file /path/to/exe' -ex 'core-file core.pid' \
  -ex 'info sharedlib' -ex quit 
```

所以很自然你可以让 gdb 给你这个列表，然后你可以从那里创建一个“gdb-bundle”tarball，其中包含可执行文件和 gdb 报告的所有共享库。

我写了一个脚本来自动化这个：

```
#!/bin/sh
me=$(basename $0)

usage() {
    echo "Usage:
  $me -p <pid>
  $me <executable> <core>

DESCRIPTION
  $me - Creates a tarball containing the executable, it's core dump and
        all the shared libraries that gdb said it loads.

OPTIONS
    -p <pid>  A running process id of a process to be bundled.
    -h        Show this help message"
}

pid=
while getopts hp: opt
do
    case "$opt" in
        p)
            pid="$OPTARG"
            ;;
        h)
            usage
            exit
            ;;
        \?)
            echo Unknown option
            exit
            ;;
    esac
done
shift $(($OPTIND -1))
executable=$1
corename=$2

if [ -n "$pid" ]; then
    test "$pid" -gt 0 || { echo "pid must be numeric"; exit 1; }
    proc=/proc/$pid/exe
    executable=`readlink -e $proc` ||
        { echo "Could not readlink $proc"; exit 1; }
    corename=${basename}.$pid.core
else
    test -z "$executable" && usage && exit 1;
    test -z "$corename" && usage && exit 1;
fi

basename=$(basename $executable)
if [ -n "$pid" ]; then
    sharedlibs=$(gdb -ex "attach $pid" -ex 'set height 0' \
        -ex 'set confirm off' -ex "generate-core-file $corename" \
        -ex 'info sharedlib' -ex quit|
        sed -n '/Shared Object Library/,/^(/p'|grep -E '(Yes|No)'|
        sed -e 's,[^/]\+,,') || exit 1
    dir="gdb-${basename}.$pid.$(date +%F-%H%M%S)"
else
    sharedlibs=$(gdb -ex 'set height 0' -ex 'set confirm off' \
        -ex "file $executable" -ex "core-file $corename" \
        -ex 'info sharedlib' -ex quit|
        sed -n '/Shared Object Library/,/^(/p'|grep -E '(Yes|No)'|
        sed -e 's,[^/]\+,,') || exit 1
    dir="gdb-${basename}.$(date +%F-%H%M%S)"
fi

mkdir "$dir" && cp "$corename" "$dir" &&
tar chf - $sharedlibs $executable|tar -C $dir -xf - &&
echo -e "gdb:\n\tgdb -ex 'set solib-absolute-prefix ./'" \
    "-ex 'file .$executable' -ex 'core-file ./$corename' " \
    > $dir/makefile &&
echo tar czf $dir.tar.gz $dir &&
tar czf $dir.tar.gz $dir 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T21:14:10.453

您可以捕获 SIGSEGV，然后编写一个子进程以将相关的进程文件（使用 lsof）复制到临时目录中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T02:26:06.227

首先找到与核心关联的二进制文件。你有几个选择：

1.  将系统配置为以二进制文件命名核心，然后将二进制文件安装在脚本可以从中获取它们的标准位置。核心命名说明在[此处](http://www.linuxhowtos.org/Tips%20and%20Tricks/coredump.htm?ref=news.rdf)，另请参阅 core(5)。

2.  如果您无法配置系统，我想出的最好方法是在核心上运行字符串，然后为每个字符串运行“文件”的有效路径，并为“ELF”和“可执行文件”进行 grepping。这可能会给您错误的答案，特别是如果二进制文件被另一个实用程序（如 make）调用，它们可能会出现在核心中，因此您可以添加其他过滤器，例如排除 /bin 和 /usr/bin 中的路径（如果您知道）你的二进制文件总是在 /opt 中，并选择具有最近 mtime 的二进制文件（较新的软件更有可能是核心，更有可能是你的，而不是系统附带的软件）。

3.  补充技巧是在字符串输出中查找“_=/your/binary/here”——“_”是一些 shell/WM/应用程序为它们正在调用的二进制文件设置的特殊环境变量。不过，它也可能会产生误导（例如，当 make 调用您的二进制文件时，它将是 /usr/bin/make）。

其次，收集二进制文件的依赖项：

1.  再次从核心输出字符串以获取 LD_PRELOAD 和 LD_LIBRARY_PATH 的值。这些会影响二进制文件实际链接的库。
2.  在二进制文件上运行“ldd”，将这些变量设置为相同的值，然后在“=>”上拆分以查找每个库的文件名。

然后将其全部复制到一个目录并在其上运行 tar 。将日志文件复制到目录中通常也很有帮助。

# r - 如何在R中存储多层数据？

> ID：11112842
> 
> 赞同：0
> 
> 时间：2012-06-20T04:32:31.403
> 
> 标签：r, data-structures, hierarchy

我有一个气候模型运行数据集。它们当前存储在这样的列表中：

```
 $ ensemble   :List of 25
  ..$ run_name  :List of 2
  .. ..$ variable: num [1:72, 1:36, 1:12, 1:40] 255 256 256 257 257 ... 
```

`variable`带有尺寸的特定模型输出（例如“表面温度”）在哪里`[lat, long, month, year]`（不要问我为什么输出不只是按月...）

这不一定是存储这些数据的最佳方式，我想知道是否有一种 R-ish 方式可以使操作更容易。特别是，我想查看每个变量在和集合内的所有运行的年平均值图（即每个集合/变量一个图，25 行），以及时间序列上每个集合的统计数据（即移动 PDF )，以后可能还有更复杂的事情。

理想情况下，我想避免 for 循环，`*apply`而是使用函数。我一直在尝试使用这种结构，但一直在碰壁，就像需要在一个`lapply()`调用中组合两个函数一样，这是行不通的。

# c# - ErrorProvider 工具提示消息

> ID：11112843
> 
> 赞同：0
> 
> 时间：2012-06-20T04:32:37.577
> 
> 标签：c#, .net, winforms, tooltip, errorprovider

我是 c# 新手，我遇到了这个问题：

我在这里有一个***带有 errorProvider 的文本框和***我的文本框上方的标签..

在验证我的文本框中的值后，每当输入的值不可接受时，错误图标应出现在标签的右侧，并在图标悬停时显示其工具提示消息。

但是，每当我单击**错误图标**时，其**工具提示消息**将（已处置？或）**消失**并且不会重新出现，即使鼠标指针从错误图标移开并再次悬停在该图标上。当整个窗口关闭并重新打开时，它只会重新出现。它有点烦人。

单击错误图标时，如何使其不消失？请帮忙..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T05:38:31.947

在搜索此问题的解决方案后，我发现 errorProvider 工具提示消息上的此问题*[在“8/29/2006 11:16:27 AM”上报告为 connect.microsoft.com 的错误，但已关闭“因为不会修复”](https://connect.microsoft.com/VisualStudio/feedback/details/188945/errorprovider-tooltip-disappears-after-mouse-pointer-is-left-on-error-icon-for-over-ten-seconds)*。[反馈已经 5 年了。(-_-)] 我认为现在是他们“应该修复这个错误的时候了，因为它阻碍了错误提供程序控件的使用。”

我还找到了[**可以解决此问题**](http://www.codeproject.com/Articles/17102/ErrorProvider-Fix-for-Disappearing-ToolTip)的解决方法。

我希望这会有所帮助，他们也会尽快解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:12:01.197

这是 Windows 工具提示的默认行为，当您将某个图标悬停在系统中时，它们会显示为图示命令的帮助消息。

Windows 窗体的 ErrorProvider 控件仅在另一个控件附近显示一个不可点击的图标，以通知用户无效输入，其工具提示将具有常见的 Windows 图标行为。

如果您必须通过单击获取错误消息，则此方法无效，因为此控件不会向观察者公开任何单击或鼠标方法，因此您必须遵循另一种方法。

# jquery - jQuery 动态 DOM 选择器模式可能吗？

> ID：11112845
> 
> 赞同：0
> 
> 时间：2012-06-20T04:32:41.477
> 
> 标签：jquery, variables, dynamic, design-patterns

在jQuery中我们通常使用，例如：

```
var content = $('tr#someid td').find('div').html();
var content = $('tr#someid div').has('p').text();
var content = $('tr#someid td:eq(1) div').html(); 
```

是否可以使`right part`美元符号`$`动态化？

```
// Pattern Array
var pattern = [
    "('tr#someid td').find('div').html()",
    "('tr#someid div').has('p').text()",
    "('tr#someid td:eq(1) div').html()"
];

var contents = "";
for (i=0; i<pattern.length; i++) {
    /*
     * I WANT TO GRAB THE ELEMENTS HERE!
     * SOMETHING LIKE:
     */
     var dynamic_var = pattern[i];
     contents += $dynamic_var;
} 
```

是否可以？
所以问题是：

*   我们可以在 jQuery 选择器中创建变量变量吗？
*   喜欢：`$_______________;`？
*   空白`_________`将是一个动态模式变量

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:10:07.253

也许你可以使用`eval`，请查看**[演示](http://jsfiddle.net/dhirajbodicherla/krKUY/1/)**

```
<div id="div">This is a div</div>
<input type="button" value="show" id="show" />​

var arr = ['("#div")'];
$('#show').click(function(){
    eval('$'+arr[0]);
}); 
```

不确定这是否能达到您的目的，但希望对您有所帮助。

# php - 如何使用 cookie 在 mysql 表上选择值

> ID：11112846
> 
> 赞同：0
> 
> 时间：2012-06-20T04:32:47.513
> 
> 标签：php, mysql

如何使用 cookie 在 mysql 表上选择值？

我想根据 cookie 在 mysql 表上选择值。

我有这个疑问，

```
 function db_prepare_input($string)
    {
        if (is_string($string)) {
            return trim(stripslashes($string));
        } elseif (is_array($string)) {
            reset($string);
            while (list($key, $value) = each($string)) {
                $string[$key] = tep_db_prepare_input($value);
            }
            return mysql_real_escape_string($string);
        } else {
            return mysql_real_escape_string($string);
        }
    }
    $country_id = db_prepare_input($_COOKIE['country']);

    $catglobal_sql = "select p.*, case when p.specials_new_products_price >= 0.0000 and p.expires_date > Now() and p.status != 0 then p.specials_new_products_price else p.products_price end price from " . TABLE_GLOBAL_PRODUCTS . " p INNER JOIN ".TABLE_STORES." s ON s.blog_id = p.blog_id where MATCH (p.products_name,p.products_description) AGAINST ('%".$search_key."%') OR p.products_name like '%".$search_key."%' and s.countries_id = '".$country_id."' and p.display_product = '1' and p.products_status = '1' ".$duration." order by p.products_date_added DESC, p.products_name";
    $catglobal_1     = mysql_query($catglobal_sql); 
```

cookie 已设置在`header.php`文件中，

```
<?php
if(!empty($_POST['country'])) 
{ 
 $country = strtolower($_POST['country']); 
 setcookie("country", $country, time()+604800, '/'); // cookie expires in 7 days.
}
?> 
```

我将查询称为`index.php`.

说，`$_COOKIE['country']`设置为`168` 我想选择值`WHERE s.countries_id = '168'`

但是，cookie 输出是空白的。所以这`WHERE s.countries_id = ''`就是为什么没有返回值的原因。

我需要找到一种在`WHERE`子句上使用 cookie 的方法

# email - 邮件服务器向不同帐户发送随机电子邮件

> ID：11112855
> 
> 赞同：0
> 
> 时间：2012-06-20T04:34:04.837
> 
> 标签：email, smtp, sendmail, spam

所以今天我查看了我的 Mercury 邮件服务器，发现它正在向一堆随机邮件地址发送大量邮件。我看了一下邮件，这是原邮件：在互联~网世界里，网络营销已经成为主~流营销模式，4i如何找到~到设置系统的~网络推广模式。oP全面推广~您的产品~或者快速提提销售业绩。让更多客家找到你。7M全面整理了~8~80000000~80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000一臂之力。h1让成千上~万客户找到您，购买~您的产品。cI并快~快速打造自动~化营销系统。75系统分享如~何进行推广的~实战操作。YB让你事半~功倍，快速将营销大~执行计出来。z1 内容，8a~资料168元 附录是~内容，扣nc扣：984108—291

BI3UCuWq

现在，当我翻译它时，它说了一些关于营销的内容，但我不知道为什么会发送这些内容以及如何阻止它们。有谁知道如何阻止这些随机发送的垃圾邮件？提前感谢帮助我的英雄。-马特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T22:48:50.123

*   检查您的邮件日志以查看发送邮件的用户。您是否使用 SMTPAUTH，在这种情况下，他们是否已登录？
*   *是否可以在不进行*身份验证的情况下通过您的服务器发送电子邮件？
*   消息来自哪个 IP 地址？
*   垃圾邮件程序是否可能已安装在邮件服务器机器上，或者您的计算环境中的任何其他机器上？

# c# - System.Net 是如何实现的？

> ID：11112856
> 
> 赞同：-1
> 
> 时间：2012-06-20T04:34:13.430
> 
> 标签：c#, system.net

我正在学习 C# 网络，我意识到我完全依赖 System.Net 网络框架（并不是说这是一件坏事）。我不明白如何在不依赖任何框架的情况下使用标准语言功能通过 C# 连接到网络。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T04:40:51.863

与许多托管运行时一样，底层代码依赖于本机功能。我可以列出使用的 Win32 API，或者您可以只查看源代码 :) 我更喜欢后者。

[.NET 源代码](http://referencesource.microsoft.com/netframework.aspx)已经开放大约[4 年了](http://weblogs.asp.net/scottgu/archive/2007/10/03/releasing-the-source-code-for-the-net-framework-libraries.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:42:07.673

System.NET 框架只是提供了一个围绕 Windows API 的托管包装器。如果你想看看 MS 是怎么做的，你可以用反编译器（Reflector 或 ILSpy）打开 Assembly 并查看代码。

# javascript - Javascript for loop 缺少中间部分：错误还是高级？

> ID：11112858
> 
> 赞同：9
> 
> 时间：2012-06-20T04:34:26.683
> 
> 标签：javascript, for-loop

我正在为工作中的项目调试另一个开发人员的 Javascript。

在美好的一天，我可能是一名中级 Javascript 开发人员，但我遇到了一个似乎已损坏的 for 循环：

```
for(i = 0; ; i++) 
```

谁能告诉我这是否确实是一个错误，或者在某些情况下这是一种完全有效的高级方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T04:38:04.260

没关系，完全合法。语句中的三个槽中的任何一个`for`都可以留空。除了我添加的条件之外，它在逻辑上与此相同：

```
i = 0;
while (true) {
    // other code here
    if (some condition) {
        break;
    }
    i++;
} 
```

这将是一个无限循环，除非循环中的某处有一个测试`break`在某些条件下发出一条语句来停止循环（我在我的代码示例中添加了一个示例测试）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T04:37:15.333

这是有效的。for 循环中的三个表达式中的每一个`for(expr1; expr2; expr3)`都可以为空。例如`for( ; ; )`与`while(true)`.

`expr1`是在循环开始之前执行一次的表达式。您还可以在此处使用变量声明语句，而不是代码中的表达式。
`expr2`是在循环的每次迭代之前执行的表达式，如果表达式的值是假的，则循环完成。如果表达式被省略，它被认为是真实的。
`expr3`是在循环的每次迭代之后立即执行的表达式。

您拥有的语句本质上是一个`while(true)`循环（它应该`break`在其中的某处包含一个语句，该语句计算它使用变量迭代的次数`i`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T04:36:16.843

只要在循环内部有一个`break`语句，就完全可以了。

如果没有 break 语句，JavaScript 运行时将继续执行循环中的代码，一遍又一遍，“i”不断增长。很快，“i”将成为一个比任何东西都大的数字；甚至比你在学校认识的那个有钱孩子在他的游戏室里的乐高积木的数量还要多。它会超过这个数字，大于世界上蚂蚁的数量，然后是星巴克的数量，然后是海洋中水分子的数量。在某些时候，浏览器可能会询问您是否希望它停止脚本，但如果您很好奇，如果您是那种喜欢探索未知事物的人，那么您会拒绝并放手。很快，“i”的值就会达到真正的天文值，事情就会变得有趣。记住如何在`2001 A Space Odyssey`当这家伙被吸入木星或其他什么时，事情变得很奇怪？那么它可能是这样的。

尝试一个jsfiddle。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T04:37:24.670

这是一种使用递增计数器进行无限循环的有效方法。这是否是故意的完全是另一回事，这就是为什么我个人反对在这种奇怪的情况下使用 for 循环。不过，评论显然会解决这种用法的任何问题

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T04:41:55.400

循环有一个简单的语法：

1.  变量声明 => i=0
2.  循环输入检查 =>
3.  创建另一个循环 => i++

因为 JavaScript**没有返回 true**（如果我错了，请纠正我），**所以循环输入检查总是 true**。

这根本不是一个好习惯。因此，我坚信这是一个损坏的代码。我从来没有见过设计无限循环的例子。

# java - 动态加载 jar 及其内容

> ID：11112859
> 
> 赞同：0
> 
> 时间：2012-06-20T04:34:28.520
> 
> 标签：java

任何人都可以帮助我动态加载一个 jar 及其类和方法吗？我需要将参数传递给方法。我正在做一个需要与第三方供应商集成的项目。他们将在 jar 文件中提供所有操作。来自供应商的 jar 文件每月更新一次。但我不想在更新 jar 时更改我的应用程序。我希望我的应用程序能够不间断地运行并动态加载所有第三方 jar。

例如：我正在将我的应用程序与 MIMS 集成。MIMS 是第三方供应商之一。他们将在一个罐子里提供他们的操作。我需要从我的应用程序中调用他们的方法并从供应商 jar 文件中获取结果。方法签名、参数数量及其顺序始终相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:40:17.937

您可以创建一个 ClassLoader 实现，该实现将从文件或 JarFile 加载一个类（例如，使用 JarInputStream）。
以此[为例](http://www.java.happycodings.com/Other/code27.html)。

# postgresql - Postgres 缺少 pgcrypt 能力？

> ID：11112860
> 
> 赞同：7
> 
> 时间：2012-06-20T04:34:37.013
> 
> 标签：postgresql, jetty, postgresql-9.1

我正在尝试运行 Java Jetty 应用程序，但一直看到此错误：

```
Caused by: 
org.postgresql.util.PSQLException: ERROR: function crypt(character varying, character) does not exist|  Hint: No function matches the given name and argument types. You might need to add explicit type casts.|  Where: PL/pgSQL function 
```

有谁认识到这一点或如何解决这个问题？我认为 pgcrypt 是在 Postgres 9.1.x 中预捆绑的？

我目前运行 Mac OSX Lion 10.7 并使用 brew "brew install postgres" 安装了 Postgres。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-20T13:24:14.667

我只需要启用 pgcrypto；刚刚从 CLI 运行：

> 创建扩展 pgcrypto；

对于 mac 用户，我建议在 brew 上阅读有关它的更多信息：

> 酿造信息 postgres

# java - 如何使用许多参数构建宁静的 DELETE URL？

> ID：11112861
> 
> 赞同：0
> 
> 时间：2012-06-20T04:34:38.797
> 
> 标签：java, resteasy, restful-url

我创建了一个restful DELETE服务，比如URL是

```
http://localhost/book/10, 
```

使用DELETE方法发送这个请求，但是我需要记录这个操作是由哪个用户完成的，所以我需要用那个DELETE方法请求发送一个operatorId参数。如何建立这个删除网址？

```
http://localhost/book/10?operatorId=10 
```

或者

```
http://localhost/book/10/operator-id/10 
```

或其他网址。

你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T02:00:30.083

好吧，您不希望任何人都删除，因此您可以检查与请求一起发送的 cookie 或基本身份验证凭据。

另外，RESTful DELETE 应该是幂等的，这意味着在进行相同的调用时不会发生任何变化。如果您正在处理数据库，则它不再是客户端和服务器之间的有效合同。

# solr - 如何使用 Solr 在 hadoop 集群中搜索数据库

> ID：11112862
> 
> 赞同：1
> 
> 时间：2012-06-20T04:34:44.663
> 
> 标签：solr, hadoop, spotlight

我目前在 hadoop 集群中有许多数据库，并希望将这些数据库中的一些表索引到 Solr 索引中以进行搜索。有没有办法做到这一点？或者是否有一些机制可以在 hadoop 本身中执行这种搜索？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T18:19:43.840

您可以使用 hadoop 本身。但是，如果您正在执行各种正则表达式搜索，那么 solr 是一个非常好的选择。您是在 hadoop 中使用 hive 或 hbase 来存储数据库，还是存储在平面文件中？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:53:23.887

退房： http: [//katta.sourceforge.net/](http://katta.sourceforge.net/)

这是用于分布式索引和分片的 Hadoop / Lucene 的集成。

# android - 需要使用 sd 卡中的图像设置动态壁纸的背景

> ID：11112865
> 
> 赞同：0
> 
> 时间：2012-06-20T04:35:17.957
> 
> 标签：android

> **可能重复：**
> [从 SDCard 上的图像设置壁纸](https://stackoverflow.com/questions/3208708/setting-the-wallpaper-from-an-image-on-the-sdcard)

我正在制作动态壁纸。我需要将 sd 卡中的图像显示为动态壁纸背景。图像必须仅在第一个和第三个主屏幕上显示为网格视图。有谁能够帮我

我已经检查了为动态壁纸选择背景的问题，但我缺少一些代码

所以我已要求 Dean 发布他的整个代码，请任何人帮助。在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:45:42.730

You better try with below code for setting the image as a wallpaper from SDCard. But, you have to populate the images from sdcard to GridView. Probably you can use these blogs [displaying-images-from-sd-card](http://mihaifonoage.blogspot.in/2009/09/displaying-images-from-sd-card-in.html) and [Images from sdcard to Gridview](http://mihaifonoage.blogspot.in/2009/11/displaying-images-from-sd-card-in.html) of listing the images from sdcard to gridview.

```
Bitmap o = BitmapFactory.decodeFile("/mnt/sdcard/DCIM/Auntumn.jpg");

try {
  wallpaperManager.setBitmap(o);
  finish();
} 
catch (IOException e) {
  e.printStackTrace();
} 
```

# api - Google Places API 的替代品

> ID：11112869
> 
> 赞同：2
> 
> 时间：2012-06-20T04:35:59.640
> 
> 标签：api, google-places-api

“Google Places API”有哪些替代品？无论是否有任何付费 API 服务。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-17T15:56:47.147

你可以试试 openStreetMap 一个开源地图项目[http://www.osmfoundation.org/wiki/Main_Page](http://www.osmfoundation.org/wiki/Main_Page)

您还可以找到有关其工作原理的信息[http://en.wikipedia.org/wiki/OpenStreetMap](http://en.wikipedia.org/wiki/OpenStreetMap)

是一个非常好的选择，它是由社区为社区制作的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-19T05:21:38.250

在为 iOS 应用程序中的用户输入位置字段搜索实现自动完成字段的方法时，我也遇到了这个问题。我认为它工作原理的最佳示例之一是在 Apple 的本地天气应用程序中制作的。“添加新位置屏幕”上的搜索结果比我尝试过的任何其他服务都多：
- Google Place API（主要替代品）
- Yelp
- Foursquare
- 其他一些。

不幸的是，天气使用 https 请求：（[https://gsp-ssl.ls.apple.com](https://gsp-ssl.ls.apple.com)）。:( 似乎没有解决方案来检索这些数据。但事实证明，Apple 并没有使用他们自己的服务来确定位置。

我检查了地图应用程序并尝试`CLGeocoder`了它的类 - `-(void)geocodeAddressString:(NSString *)addressString completionHandler:`（仅在 iOS 中存在）

最后一个没用，只找到一个结果，而谷歌给出了大约 5 分（作为莫斯科的一部分，“Mosc”这个词）

**解决方案：** Apple 放弃了 Yahoo 作为天气提供者，选择了[TWC](http://www.weather.com)（[prooflink](http://www.macrumors.com/2014/06/03/ios-8-new-weather-app/)）。所以我们的案例不是收集天气状况，而是获取位置，它们也提供什么！

确切地说，让我们比较几个服务：（
![在此处输入图像描述](../Images/28002831e1f10f539abb69f579cae7c3.png)
上图 - 利用 Place API 的谷歌地图，下图 - 苹果使用的 TWC）

**优点（TWC）：**
- 可以按城市（邮编、机场等）进行搜索
- 找到更多结果（如果甚至为谷歌查询设置最大半径 - 50 000，它不会找到很多）
- 支持带有自动完成功能的 API options
- 非常适合自动完成的目的，包含 JSON 的所有基本字段，如下所示：

```
{
     "name":"Moscu, CUN, COLOMBIA",
      "key":"COXX8971:1:CO",
    "locId":"COXX8971",
  "locType":1,
   "cityNm":"Moscu",
  "cntryCd":"CO",
 "_country":"COLOMBIA",
     "stCd":"CUN",
     "stNm":"Cundinamarca",
  "bigCity":false
}, 
```

**缺点：**
- 如果您需要地理编码选项或查询地点，则功能远不如 Google。
- 处理请求比谷歌慢

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-26T22:52:56.080

我不知道为什么每次投票，但第一个投了反对票。好像很简陋...

无论如何，OpenStreetMaps 可能是一个可能的选择，但根据我的经验，与其他服务相比，他们没有太多关于企业的数据。

必应地图是另一个不错的选择。它是 Facebook 用于他们的“地点”页面的东西，它似乎有相当多的数据。

Foursquare 绝对是一个不错的选择……如果你留在美国。与谷歌相比，他们的费率相当有竞争力，但你必须处理重复的条目和一些未完全填写的信息。

我前段时间研究了 Yelp 的 API，所以我不记得它们有多好。我只记得与 Bing、Google 和 Foursquare 相比，它们提供的服务不如 Bing 好。

所有这些都是付费服务，除了 OpenStreetMaps。如果我没记错的话，谷歌拥有最好的企业整体数据，但在定价方面，Foursquare 占了上风。最后，这完全取决于您的具体需要，因为它们都是不错的选择。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-02T09:33:21.673

试试 Foursquare.com，它的免费和使用限制非常可观。每小时 5000 个请求。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-02T06:39:21.713

他们是：

*   Yelp.com
*   Foursquare.com

它们都有自己的 API，任何人都可以使用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-20T04:41:48.167

好的，据我所知，如果你想使用geo api，它必须是一家大公司。那么，bing map 或中国最大的互联网公司百度的baidu'map 怎么样？

# php - 用 jQuery 和 PHP 填充数组

> ID：11112872
> 
> 赞同：1
> 
> 时间：2012-06-20T04:36:14.497
> 
> 标签：php, jquery

我绝对在 jquery 上苦苦挣扎。本质上，我有一个搜索栏，它查询我的数据库，并用相关搜索动态填充下拉框（就像任何体面的搜索栏一样。）

无论如何，我实际上不知道如何允许用户单击元素以将数据添加到数组中。现在，它只是

```
 echo '<a href="index.php?action='.$result->game_id.'">'; 
```

这可行，但我希望能够允许用户从搜索栏中选择多个内容。

如果有人可以发布一些代码，或者指向一个教程来帮助我解决这个可怕的事情。

谢谢。

[编辑]

对不起，我认为我不够清楚，感谢有关整个 jquery 自动完成的信息，但我已经有了！

```
if(isset($_POST['queryString'])) {
    $queryString = mysqli_real_escape_string($GLOBALS["___mysqli_ston"],$_POST['queryString']);

    // Is the string length greater than 0?
    if(strlen($queryString) >0) {
        $query = mysqli_query($GLOBALS["___mysqli_ston"],"SELECT * FROM gamelist WHERE name LIKE '%" . $queryString . "%' LIMIT 8");

        if($query) {
            // While there are results loop through them - fetching an Object.

            while ($result = $query ->fetch_object()) {
                echo '<a href="index.php?action='.$result->game_id.'">';
                echo "<img src = ".$result->image_thumb." height=46 width=46 />";

                $name = $result->name;
                echo '<span class="searchheading">'.$name.'</span>';

                 $description = $result->aliases;
                 if(strlen($description) > 80) { 
                     $description = substr($description, 0, 80) . "...";
                 }                  
                 echo '<span>'.$description.'</span></a>';
            }
            echo '<span class="seperator"><a href="http://www.marcofolio.net/sitemap.html" title="Sitemap">Nothing interesting here? Try the sitemap.</a></span><br class="break" />';
        } else {
            echo 'ERROR: There was a problem with the query.';
        }
    } else {
        // Dont do anything.
    } // There is a queryString. 
```

如您所见，当我通过 _POST 获得输入时，让用户与这些结果交互的唯一方法是单击 a href 链接。我想我只是在问，什么 jQuery 代码可以让我允许用户单击它，并将其存储回 _POST[] 数组中？这样我可以让他们将多个搜索项存储到数组中，以便我的 PHP 代码可以评估它。

我希望这更清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:36:56.767

你可以使用 jquery 自动完成有 cheeso 说

在下面的链接中

[http://jqueryui.com/demos/autocomplete/#remote](http://jqueryui.com/demos/autocomplete/#remote)

```
 you can click on view source to see the jquery for it . 
```

您还可以查看只需要传递数据的其他 jquery 自动完成插件列表

[http://www.jqueryrain.com/2012/03/35-best-ajax-jquery-autocomplete-tutorial-plugin-with-examples/](http://www.jqueryrain.com/2012/03/35-best-ajax-jquery-autocomplete-tutorial-plugin-with-examples/)

# c++ - 您如何使用 rand() 函数每次都提出不同的问题？

> ID：11112873
> 
> 赞同：-6
> 
> 时间：2012-06-20T04:36:16.647
> 
> 标签：c++

什么代码用于此类问题？另外，您将 rand() 的代码放在顶部还是底部？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:43:22.987

Normally you call `srand(time(NULL));` once (and only once) as the program is starting up.

To ask different questions, you'd normally get a random number with `rand`, reduce it to the range of the number of questions, and use that to select one of the questions.

# java - XMLRPC java插入问题

> ID：11112876
> 
> 赞同：0
> 
> 时间：2012-06-20T04:36:35.960
> 
> 标签：java, xml-rpc

我正在尝试使用 XMLPRC 和 java 将客户详细信息插入 OpenERP 服务器。我能够进行身份验证。但是，当我通过传递参数调用执行方法来插入记录时，在线程“main”java.lang.NullPointerException 中出现异常 res_create = client_1.execute("execute", params_create);

请在下面找到我的代码

```
 res = client.execute("login", params);

```
 String url_1 = "http://agilewebdevelopment.net:8514/xmlrpc/object";
        XmlRpcClientConfigImpl config_1 = new XmlRpcClientConfigImpl();
        try {
            config_1.setServerURL(new URL(url_1));
        } catch (MalformedURLException e) {
            System.out.println("First");
            e.printStackTrace();
        }
        System.out.println(res);
        HashMap<String, Object> vals = new HashMap<String, Object>();
        vals.put("name", "Mantavya Gajjar");
        vals.put("ref", "MGA");
        XmlRpcClient client_1 = new XmlRpcClient();
        client.setConfig(config_1);
        Object[] params_create = new Object[]{"erp_performance", "1", "admin", "res.partner", "create", vals};

        Object res_create = null;
        try {
             res_create = client_1.execute("execute", params_create);
        } catch (XmlRpcException e) {
            e.printStackTrace();
        } 
``` 任何帮助表示赞赏

            回答 #1

赞同：1

时间：2012-06-20T05:26:36.083

如果您使用的是 java 1.4，则它无法自动装箱。所以可以试试这个

Object[] params_create = new Object[]{"erp_performance", "1", "admin", "res.partner", "create", vals};

只需在字符串中传递 uid

或者

也有可能是登录你必须使用“http://localhost:8069/xmlrpc/common”，而对象方法你必须使用“http://localhost:8069/xmlrpc/object”

检查两者，您将获得解决方案。  

            回答 #2

赞同：0

时间：2012-06-20T04:48:44.090

尝试了解您需要发送的参数以执行该操作。由于参数不匹配，您正面临此错误。

您确定`1`要发送的实际上是整数或字符串吗？一旦你确定了预期参数的类型，你就可以摆脱这个异常。

            回答 #3

赞同：0

时间：2012-06-20T06:52:24.333

如果您能够进行身份验证，这意味着您有工作的 XMLRPC 连接，那么现在在身份验证的情况下，您将使用的 OpenERP 服务是通用服务，因此您将拥有客户端对象，该对象将`http://host:posrt/xmlrpc/common`是完全正确的代理。

但是，如果您想对任何 OE 模型执行任何操作，那么对于该 OE 提供单独的服务即`OBJECT`服务，因此在这种情况下，您的*客户端*对象必须是代理`http://host:port/xmlrpc/object`，然后您可以对其调用执行方法，您可以看到我们这样做没有为链接[http://bazaar.launchpad.net/~openerp/openobject-server/trunk/view/head:/openerp/service/web_services.py#L379上的公共服务实现执行方法](http://bazaar.launchpad.net/~openerp/openobject-server/trunk/view/head:/openerp/service/web_services.py#L379)

更多可以看[OE和JAVA](http://doc.openerp.com/v6.0/developer/6_22_XML-RPC_web_services/index.html#id1) 

我已经准备了一些你试试的scartch代码以防万一

```
package com.xmlrpc.client;

import java.net.URL;
import java.util.HashMap;
import java.util.Vector;

import org.apache.xmlrpc.client.XmlRpcClient;
import org.apache.xmlrpc.client.XmlRpcClientConfigImpl;

public class Create {

public static void main(String args[]) throws Exception {

Vector params1 = new Vector();
params1.addElement("openerpdb");
params1.addElement("admin");
params1.addElement("admin");

XmlRpcClient xmlrpcLogin = new XmlRpcClient();
XmlRpcClientConfigImpl xmlrpcConfigLogin = new XmlRpcClientConfigImpl();
xmlrpcConfigLogin.setEnabledForExtensions(true);
xmlrpcConfigLogin.setServerURL(new URL("http", "localhost", 8069, "/xmlrpc/common"));
xmlrpcLogin.setConfig(xmlrpcConfigLogin);

Object id = xmlrpcLogin.execute("login", params1);
System.out.println("Login Id : " + id.toString());

System.out.println("------------------------");

XmlRpcClient client = new XmlRpcClient();
XmlRpcClientConfigImpl clientConfig = new XmlRpcClientConfigImpl();
clientConfig.setEnabledForExtensions(true);
clientConfig.setServerURL(new URL("http", "localhost", 8069, "/xmlrpc/object"));
client.setConfig(clientConfig);

HashMap<Object, Object> params = new HashMap<Object, Object>();

params.put("street", "Edamon3");
params.put("partner_id", "24");
params.put("city", "Punalur3");
params.put("name", "ShameerHabeeb3");

Vector<Object> arg = new Vector<Object>();

arg.add("openerpdb");
arg.add(1);
arg.add("admin");
arg.add("res.partner.address");
arg.add("create");
arg.add(params);

Object ret_id = client.execute("execute", arg);
System.out.println("Created new partner address with id :" + ret_id.toString());

} 
```

}

```

# floating-point - 负浮点数表示为负整数？

> ID：11112881
> 
> 赞同：3
> 
> 时间：2012-06-20T04:37:46.047
> 
> 标签：floating-point, twos-complement

我知道今天的计算机如何存储负整数，大多数计算机使用 2' 补码。我只是想知道 2' 补码方法也适用于浮点数等各种数字吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T11:15:25.217

不，浮点数不使用 2 补码表示，但由于所有二进制实现都有一个符号位，因此可以保证对于所有值（符号没有意义的 NaN 除外）可以测试浮点数的整数表示< 0。这是因为如果设置了第一位，则 2 补码中的整数也是负数。但有效数和指数均不使用 2 补码表示。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-20T05:01:43.553

有不同种类的浮点数表示，但我记得大多数类似于符号位（1 = 正），然后是 2s 补码指数值，然后是 2s 补码尾数值，最高有效位在 1s指数为零时的位置。

请注意，在这种安排中，您可以对更大/更小使用整数比较。

编辑

以上显然是基于错误的记忆，但在[http://en.wikipedia.org/wiki/Binary32](http://en.wikipedia.org/wiki/Binary32)上有一个很好的解释。

基本上， ...

*   第一位是数字的符号，也是尾数的符号
*   接下来的几位是指数，可以是无符号的或使用 2-s 补码有符号的。
*   其余位是尾数，减去隐含的前导“1”。
*   零是一个特例...

# php - 显示失败的朋友列表的代码片段？

> ID：11112882
> 
> 赞同：0
> 
> 时间：2012-06-20T04:37:52.057
> 
> 标签：php

我有那些代码片段可以检查粉丝表并获取所有粉丝。然后它会检查你是否也给他们发了粉丝，如果是，它会显示他们的用户名和个人资料图片。

它会检查您是否使用 $count 扇动它们，我假设这是它出错的地方。但萤火虫没有显示任何错误。

```
<?php $friendlist = mysql_query("SELECT * FROM fans WHERE username='$user'") or die(mysql_error());
        while($row = mysql_fetch_array($result1)) {
            $friendname = $row['fanned'];
            $friendlist2 = mysql_query("SELECT * FROM fans WHERE username='$friendname' AND fanned='$user'") or die(mysql_error());
            $count = mysql_num_rows($friendlist2);
            if($count == 1 ){
                $avatar = mysql_query("SELECT * FROM users WHERE username='$friendname'") or die(mysql_error());
                while($row3 = mysql_fetch_assoc($avatar)) {
                $filename = $row3['avatar'];
                if($filename != "") { 
                            $friendpic = '<img id="headeravapic" src="profileavatars/' . $friendname . "/" . $filename . '" />';
                        }
                        else {
                            $friendpic = '<img id="headeravapic" src="images/nopic.PNG" />';
                        }
        echo '<div align="center" id="onlinepic">' . $friendpic . '<p />' . $friendname . '</div>'; 
                }
            }
        }?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:48:39.437

您可以将其简化为一个查询。就像是：

```
SELECT f.*, u.avatar, f2.username as YouFanThem
   FROM fans f
       LEFT JOIN fans f2 ON f.fanned=f2.username and f2.fanned='$user'
       LEFT JOIN users u ON f.fanned=u.username
   WHERE f.username='$user'
while($row = mysql_fetch_array($result1)) { 
    $FriendName = $row['fanned'];
    $Avatar = $row['avatar'];
    $MutualFriend = (empty($row['YouFanThem']) ? false : true);
} 
```

如果您只想限制那些您是共同粉丝的人，那么将“LEFT JOIN”更改为“INNER JOIN” - 那么您也不需要返回结果中的“YouFanThem”。

我还鼓励您不要使用“SELECT *”，因为它很重，只选择您需要的字段。

最后，必须注意 mysql_functions 正在贬值，因此请查看 PDO。

# ruby-on-rails - Rails 3.1 一个模型的不同视图

> ID：11112883
> 
> 赞同：2
> 
> 时间：2012-06-20T04:37:53.773
> 
> 标签：ruby-on-rails, model-view-controller, ruby-on-rails-3.1

我有一个应用程序，其中有一个 Shipment 模型。我创建了一个视图，允许我在基于表格的布局中创建货件和查看货件。一切都在 index.html.erb 中，因为所有操作都是通过 ajax 完成的。

创建货件时，默认状态为“OPEN”。稍后打印提单时，状态将变为“已打印”。

我的目标是创建另一个视图，该视图仅列出未结货物，允许操作员使用单独的表格打印提单。我的问题是 Rails 如何处理一个模型的多个表单和视图的渲染？我应该使用单独的控制器/视图来处理与打印相关的操作/视图，还是应该使用两个模型作为 ex. 装运和开运？我很难找到解释这个问题的文档。

下面列出的是我的这个模型的架构以及当前视图的目录结构。希望这有助于解释这个问题。

```
Shipment Model
  t.string    :item_code
  t.string    :status
  t.string    :bill_of_lading
  t.integer   :qty_shipped
  t.datetime  :ship_date
  t.datetime  :delivery_date 
```

查看目录结构

```
views
   shipments
      index.html.erb
      _shipment.html.erb
      _shipment_table.html.erb
      _form.html.erb
      _edit_form.html.erb
      create.js.coffee
      edit.js.coffee
      update.js.coffee
      destroy.js.coffee 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:41:37.757

在控制器中创建一个名为 open_shipments 的新操作和一个名为 open_shipments.html.erb 的新视图文件。将新路由添加到您的路由表，并在某些视图中创建一个链接以链接新路由。

在控制器动作中，将模型对象访问到实例变量中，并在视图中从这些实例变量中显示。

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T10:49:02.223

如我所见，您将展示两次相同的内容。您可以通过两种方式解决此问题：添加参数并保持相同的控制器操作，或者添加新的控制器操作（这可能会使 url 更清晰——取决于您的偏好）。

首先，您定义一个`scope`on `Shipment`：

```
class Shipment

  scope :open, lambda { where(:status => 'open')

end 
```

这将允许编写如下内容：

```
Shipment.open 
```

这将为您提供所有未结货物。

所以你可以定义一个新的控制器动作如下

```
def open_shipments
  @shipments = Shipment.open
  render :index
end 
```

这将检索打开的货物，然后呈现与索引相同的视图。

为了使它更清晰，您可以在您的 url 中将状态作为参数。在你`config/routes.rb`写的

```
get 'shipments/status/:status', :as => 'shipments#index' 
```

然后您必须`index`按如下方式编辑您的操作：

```
def index
  if params[:status]
    @shipments = Shipment.where(:status => params[:status])
  else
    @shipments = Shipment.all
  end
end 
```

然后您就可以访问`shipments/status/open`将提供未结货件的 url，同样`shipments/status/printed`将提供所有打印的货件。

但是 url`shipments?status=open`会给你相同的结果（不需要对路由进行任何更改）。取决于你的口味。

希望这可以帮助。

# javascript - 100% 的时间选择菜单更改时 Javascript 未触发

> ID：11112884
> 
> 赞同：2
> 
> 时间：2012-06-20T04:37:56.150
> 
> 标签：javascript, jquery

感谢我昨天收到的一些帮助，我根据用户输入和选择菜单中的选择对 HTML 表进行了一些动态求和。我遇到了一个问题，尽管这让我很困惑。如果你看看我的 jsfiddle：

[http://jsfiddle.net/fmdataweb/T5xtL/13/](http://jsfiddle.net/fmdataweb/T5xtL/13/)

 `如果您按如下方式输入数据： 第 1 行：水果 = 苹果数量 = 100 Rwo 2：水果 = 香蕉数量 = 200

对于总数，一切都按预期工作：

苹果总数 100 香蕉总数 200

如果您现在将第 1 行水果选择从 Apple 更改为 Banance，则小计现在为：

苹果总数 100 香蕉总数 300

Bananas 总数已正确更新，但 Apples 总数未更改 - 现在应该为零/0。

任何想法这是怎么回事？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:05:17.483

这是你的错误：

```
for(val in total){ 
```

您只是为 的属性设置 html ，因此在您更改 only 后没有 s ，`total`因此s总数不会更新，因为未设置！`banana``select``banana``banana``total['banana']`

这是一个修复：

```
$('.fruit select:first option').each(function() {
    val = $(this).text();
    if(!total.hasOwnProperty(val))
        total[val] = 0;
}); 
```

这将从第一个开始获取所有选项，`select`并检查 total 是否将每个选项都作为属性，将缺少的属性添加到 value`0`中。

[**小提琴**](http://jsfiddle.net/ult_combo/T5xtL/21/)

如果要检查所有`select`s `option`，请`:first`从选择器中删除 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:46:26.820

**Update: Here's a [jsFiddle of what I meant since it was unclear before](http://jsfiddle.net/RhH52/1/)**

At the beginning of the calc function you should reset everything back to zero. The issue is that you only reset to zero if one of the fruits is selected in a drop down. In your case apple wasn't selected so it was never reset! Hope this helps.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T04:47:00.590

在您的代码中，您只更新与`sum`匹配的`val`，换句话说，您需要先重置这些值。向您的 s 添加一个`span`包含总数的类。

```
<span id="sumApples" class="sum"></span>
<span id="sumBanana" class="sum"></span>
... 
```

然后重置：

```
for(val in total){
    if(total.hasOwnProperty(val)){
        $('.sum').html(''); // Reset
        $('#sum' + val).html(total[val]);
    }                
} 
````

# android - 如何转换列表 to byte array using java or Android? im developing a app in Android. in this project im using a List of Objects and i need to convert the list object in byte array. but there is a null pointer exception shown in logcat? he 问问题 问问题 2012-06-20T04:38:18.437 5045 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. im developing a app in Android. in this project im using a List of Objects and i need to convert the list object in byte array. but there is a null pointer exception shown in logcat? here is my coading. class MyContact { String Name; Bitmap Image; String Number; public MyContact(String cName, String cNumber, Bitmap cImage) { Name = cName; Number = cNumber; Image = cImage; } public String getName() { return Name; } public void setName(String name) { Name = name; } public Bitmap getImage() { return Image; } public void setImage(Bitmap image) { Image = image; } public String getNumber() { return Number; } public void setNumber(String number) { Number = number; } } List <mycontact>list = new ArrayList<mycontact>(); I added some values to the List object, using MyContact contactObj = new MyContact(name, phoneNo, photo); list.add(contactObj); bla bla bla .... and i need store the entire list object into the Android Mobiles local file. i used , FileOutputStream fos = openFileOutput( fileName, Context.MODE_PRIVATE); fos.write(toByteArray(MyTrackList)); // null pointer error occured here fos.close(); here is a byte array conversion coding. public static byte[] toByteArray (Object obj) { byte[] bytes = null; ByteArrayOutputStream bos = new ByteArrayOutputStream(); try { ObjectOutputStream oos = new ObjectOutputStream(bos); oos.writeObject(obj); oos.flush(); oos.close(); bos.close(); bytes = bos.toByteArray (); } catch (IOException ex) { //TODO: Handle the exception } return bytes; } but returns null pointer exception in the line of above i marked in comment how can i resolve this problem. any suggestion? thanks in advance.... Manually schedule a job in sql server 2008 I want to create a schedule to manipulate some data on server. and i have store procedure which have some sql query. Now i want to exec this sp every day. For that i have created job, schedule using sp_add_job, sp_add_schedule etc.. now all this needs to run on my clients server. Now problem is that, I cant run these queries in client server as I don't have "sa" (admin) login. So is there any alternate way to run this query? And also i cant create job from SQ L Server Agent in Object Explorer as I don't have rights to do it. So Is there any way to create job on server? androidlistnullpointerexceptionbytearray 4 2 回答 2 This answer is useful 4 catch (IOException ex) { //TODO: Handle the exception } 你的问题是：如果有一个 IOException，你的方法只会返回 null 而不会告诉你。 不要捕获异常，将方法更改为throws IOException（因为此时无论如何您都无能为力），然后找出导致它的原因。 很可能是因为您的MyContact类没有实现Serializable，因此无法将其写入 ObjectOutputStream。 此外，可以通过不使用中间字节数组并将 ObjectOutputStream 直接连接到 FileOutputStream 来提高性能和内存使用率。 于 2012-06-20T04:40:34.907 回答 This answer is useful 0 @Thilo 很好地指出了可能的问题。您可以发布 Logcat 输出吗？ [ 建议 ： 我通常推荐使用 JSON/XML 序列化，因为 Android SDK 支持一些非常好的 JSON/XML(DOM/SAX/XML pull) 实现。 它们使您的本地文件可读、可移植。 您甚至可以通过网络传输文件，也可以远程存储。 希望这会有所帮助，干杯！] 于 2012-06-20T04:54:27.917 回答 Related 2 android - 为什么程序中不显示收到的短信？ 1 jpa - JPA 级联持续错误 2 wpf - 启用父操作时 WPF TouchUp 未触发 2 magento - 调整默认 magento 1.7 产品图像的大小 1 java - 读取字节到 Netty 服务器 0 windows-7 - 如何在 Windows 7 的上下文菜单中添加一个条目并将一个复杂的命令关联到它？ 1 clojure - Clojure Immutant 服务器说请求的资源不可用 1 arrays - 按嵌套在数组中的字典中的字符串对数组进行排序 1 java - 无法从警报对话框中的 RatingBar 获取值 3 android - 在 Android 4.0+ 中禁用主页按钮 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</mycontact></mycontact>

> ID：11112889
> 
> 赞同：0
> 
> 时间：
> 
> 标签：android, list, nullpointerexception, bytearray

im developing a app in Android. in this project im using a List of Objects and i need to convert the list object in byte array. but there is a null pointer exception shown in logcat? here is my coading.

```
class MyContact
{
    String Name;
    Bitmap Image;
    String Number;

    public MyContact(String cName, String cNumber, Bitmap cImage) {

        Name    = cName;
        Number  = cNumber;
        Image   = cImage;
    }

    public String getName() {
        return Name;
    }

    public void setName(String name) {
        Name = name;
    }

    public Bitmap getImage() {
        return Image;
    }

    public void setImage(Bitmap image) {
        Image = image;
    }

    public String getNumber() {
        return Number;
    }

    public void setNumber(String number) {
        Number = number;
    }
}

List<MyContact> list = new ArrayList<MyContact>(); 
```

I added some values to the List object, using

```
MyContact contactObj = new MyContact(name, phoneNo, photo);
 list.add(contactObj);

bla bla bla .... 
```

and i need store the entire list object into the Android Mobiles local file. i used ,

```
FileOutputStream fos = openFileOutput( fileName, Context.MODE_PRIVATE);
 fos.write(toByteArray(MyTrackList));   // null pointer error occured here
 fos.close(); 
```

here is a byte array conversion coding.

```
public static byte[] toByteArray (Object obj)
    {
      byte[] bytes = null;
      ByteArrayOutputStream bos = new ByteArrayOutputStream();
      try {
        ObjectOutputStream oos = new ObjectOutputStream(bos); 
        oos.writeObject(obj);
        oos.flush(); 
        oos.close(); 
        bos.close();
        bytes = bos.toByteArray ();
      }
      catch (IOException ex) {
        //TODO: Handle the exception
      }
      return bytes;
    } 
```

but returns null pointer exception in the line of above i marked in comment how can i resolve this problem. any suggestion? thanks in advance....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T04:40:34.907

```
 catch (IOException ex) {
    //TODO: Handle the exception
  } 
```

你的问题是：如果有一个 IOException，你的方法只会返回 null 而不会告诉你。

不要捕获异常，将方法更改为`throws IOException`（因为此时无论如何您都无能为力），然后找出导致它的原因。

很可能是因为您的`MyContact`类没有实现`Serializable`，因此无法将其写入 ObjectOutputStream。

此外，可以通过不使用中间字节数组并将 ObjectOutputStream 直接连接到 FileOutputStream 来提高性能和内存使用率。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:54:27.917

@Thilo 很好地指出了可能的问题。您可以发布 Logcat 输出吗？

[ 建议 ：

我通常推荐使用 JSON/XML 序列化，因为 Android SDK 支持一些非常好的 JSON/XML(DOM/SAX/XML pull) 实现。

*   它们使您的本地文件可读、可移植。
*   您甚至可以通过网络传输文件，也可以远程存储。

希望这会有所帮助，干杯！]

# sql-server-2008 - 在 sql server 2008 中手动安排作业

> ID：11112890
> 
> 赞同：0
> 
> 时间：2012-06-20T04:38:35.870
> 
> 标签：sql-server-2008, scheduled-tasks, job-scheduling

我想创建一个时间表来操作服务器上的一些数据。我有存储过程，其中有一些 sql 查询。现在我想每天执行这个 sp。

为此，我创建了作业，使用 sp_add_job、sp_add_schedule 等进行调度。现在所有这些都需要在我的客户端服务器上运行。

现在的问题是，我无法在客户端服务器中运行这些查询，因为我没有“sa”（管理员）登录。那么有没有其他方法可以运行这个查询呢？

而且我也无法从对象资源管理器中的 SQL Server Agent 创建作业，因为我无权这样做。

那么有没有办法在服务器上创建工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-16T15:10:45.180

您可以尝试两种解决方案：

使用使用 Windows 内置调度程序执行 sqlcmd 的 bat 文件。

或者

您可以创建一个执行 sql 步骤任务的 SSIS 项目并将 proc 分配给 SQL 任务。再次，您可以使用 Windows 调度程序执行 SSIS 包。

其中任何一个都需要您大约 1-2 小时来学习如何使用这些工具（如果您以前从未这样做过）并设置和使用它们。

# sql - SQL: Viewing the latest ID based on latest updated timestamp

> ID：11112894
> 
> 赞同：1
> 
> 时间：2012-06-20T04:38:55.890
> 
> 标签：sql, postgresql

If i have the below data:

```
 route_name     updatedDate          route_id
    FF          15/06/2012 0:00         22
    DD          15/06/2012 0:00         31
    FF          16/06/2012 0:00         23
    FF          17/06/2012 0:00         24
    DD          17/06/2012 0:00         32
    DD          17/06/2012 18:00            
    FF          18/06/2012 0:00         
    FF          18/06/2012 19:00        40
    DD          20/06/2012 0:00         60 
```

I want to run a query where i only see the `route_id` based in the latest `updatedDate` for the given route_name, so for example for route_name `FF` above the `route_id` should be 40.

I tried to do this using:

```
 select route_name,route_id,max(updatedDate) from route_de 
    group by route_name,route_id,updatedDate
    having count(*) >= 1
    order by route_name 
```

but i get many repeated rows because of the updatedDate field (this is a big table). Can someone please suggest a way to archive the above?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:57:58.117

```
select route_de.route_name, route_de.route_id from route_de join
(select max(updatedDate) as maxDate, route_name from route_de group by route_name) maxRoutes
on maxRoutes.maxDate = route_de.updatedDate and maxRoutes.route_name = route_de.route_name 
```

# javascript - 使用 selenium 单击 contentreplace 隐藏的链接用 selenium xpath

> ID：11112899
> 
> 赞同：0
> 
> 时间：2012-06-20T04:39:30.470
> 
> 标签：javascript, python, xpath, selenium, selenium-chromedriver

我正在使用 selenium chrome webdriver 在 python 中编写脚本，我想单击一个链接。链接本身是：

a href="javascript:contentReplace('/cgi-bin/ssol/9PGaiwzaxu43ZaLXZ8mAix/?p%.5Fr%.5Fid=a5UAMSbnZrZMIowCvr5gzh&p%.5Ft%.5Fid=1&tran%.5B1%.5D%.5Fentry=student&tran%.5B1 %.5D%.5Ftran%.5Fname=sreg')">注册/a>

（我去掉了链接元素的开头 < 以便能够在浏览器中显示代码，而不是文本）

我无法使用 find_element_by_link_text 找到它——它一直抛出错误——所以我尝试使用 xpath。我使用firebug来获取xpath，它是：“/html/body/table/tbody/tr[2]/td[2]/table/tbody/tr[2]/td/ul/li/ul/li [10]/一"

但是当我这样做时 link = driver.find_element_by_xpath("//html/body/table/tbody/tr[2]/td[2]/ta\ ble/tbody/tr[2]/td/ul/li/ul/李[10]/a")

我收到“urlopen 错误 [Errno 61] 连接被拒绝”的错误

不知道出了什么问题，因为 xpath 在 firebug 中工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T10:46:33.880

尝试

```
driver.find_element_by_link_text("Registration").click() 
```

为什么不能在**Selenium IDE**中录制脚本？当您单击它时，它将直接给出链接的**xpath 。**

如果您想要代码，请将**链接发布到**您单击该网页的网页`link`。这样就很容易给出答案。

# intellij-idea - IntelliJ IDEA 控制台折叠与通配符？

> ID：11112901
> 
> 赞同：4
> 
> 时间：2012-06-20T04:39:47.803
> 
> 标签：intellij-idea

**简短的问题：**我可以为自定义控制台折叠指定通配符吗？如果是这样，语法是什么？

**长问题：** IntelliJ 有一个非常漂亮的插件（内置），它允许您在控制台输出中折叠行（并指定何时或何时不这样做的黑名单/白名单）

![控制台折叠](../Images/81d055fc6d2328f888f652e47531c2e3.png)

但是我不确定如何（如果可能的话）指定通配符。很多行都以时间戳开头，就像这样

`1, Jan, 2012, 10:00:00,000 DEBUG`

我想通过DEBUG折叠，使用类似的东西

`* DEBUG`

我知道我可以将日志级别限制为仅 INFO，但是如果测试失败，这些行很有用，然后我可以随意扩展它们。

有没有办法做到这一点，或者我应该开始寻找 IntelliJ 功能请求页面？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T06:50:02.383

您根本不应该使用通配符。当你添加一个新的折叠模式时，你会得到一个提示：

`Enter a substring of a console line you'd like to see folded:`

![折叠图案](../Images/e24558d41a8deb8c8fdcd656e8c42ed8.png)

请注意，它说的是“子字符串”。尝试在那里写“DEBUG”，看看它是否有效。

# sql-server - sp_send_dbmail 在查询窗口中运行并发送邮件，在代理作业中成功运行但未发送邮件？

> ID：11112906
> 
> 赞同：0
> 
> 时间：2012-06-20T04:40:21.323
> 
> 标签：sql-server, sp-send-dbmail

我有调用 sp_send_dbmail 的存储过程。如果我从 SSMS 中的查询窗口运行它，它运行正常并发送邮件。如果它在代理作业中运行，该作业会报告成功，但不会发送邮件。是什么赋予了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T02:04:00.347

如果 msdb.dbo.sp_send_dbmail 存储过程中存在 T-SQL 查询，请确保用于执行作业的用户是数据库引擎中的有效登录名。

# ios - 如何通过iphone通过zebra RW420打印word文档或html文档？

> ID：11112909
> 
> 赞同：1
> 
> 时间：2012-06-20T04:40:36.607
> 
> 标签：ios, xcode, zebra-printers

我的要求是从 iphone 应用程序打印 zebra RW420 的 word 文档或网页我不知道如何继续..请帮助我

在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T12:39:06.920

[Zebra SDK](http://www.zebra.com/us/en/products-services/software/adapt-software/zebralink-sdk-apple-ipad-ipodtouch.html#mainpartabscontainer_71ac=research-learn)可以打印出图像 (UIImage) 。有关如何将 UIWebview 的内容转换为 UIImage 的信息，请参阅[这篇文章。](https://stackoverflow.com/questions/858788/convert-uiwebview-contents-to-a-uiimage)然后查看`GraphicsUtil`与 SDK 捆绑的文档，了解如何打印 UIImage

# sql - 比较 PostgreSQL 中的数组

> ID：11112915
> 
> 赞同：2
> 
> 时间：2012-06-20T04:41:11.030
> 
> 标签：sql, arrays, postgresql, postgresql-9.2

我正在尝试确定值列表中的任何项目是否存在于 PostgreSQL 的数组列中。

```
SELECT * FROM data WHERE array IN (array) 
```

我使用 && 运算符和手动构造的数组文字来完成这项工作：

```
SELECT id, data FROM things WHERE '{"value", "other"}' && (array_column) 
```

有没有更好的方法来实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T10:51:13.883

这是一个很好的方法，你所说的更好的方法是什么意思？

有一件事可以通过其他方式完成，您可以使用`ARRAY[...]`如下方式创建数组：

```
select ARRAY['a', 'b'] && '{"a", "c"}'; 
```

# java - 如何在 Eclipse 中导出 Java 游戏？

> ID：11112916
> 
> 赞同：0
> 
> 时间：2012-06-20T04:41:11.430
> 
> 标签：java, windows, eclipse, export

我一直在使用 Eclipse IDE 在 Java 游戏库 Slick2D 中编写平台游戏。如何将我的游戏和外部库和资源文件夹导出到可运行的 JAR 中，以便其他人可以玩我的游戏？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:58:03.013

在包资源管理器上右键单击您的项目，然后选择“导出”。然后使用搜索找到“Java”下的“可运行 JAR 文件”选项。

选择您的输出路径和 JAR 名称。使用上面的下拉菜单使用您的 main(String[]) 方法定义类。您需要定义一个运行配置（当您直接在 Eclipse 中运行一个新类时，这通常会自动发生）以便填充下拉列表。

在名称选择下方有一个单选选择器，您可以使用它来选择“将所需的库打包到生成的 JAR 中”，它指示 Eclipse 这样做。

# c - 不将格式说明符与 printf 一起使用的潜在问题

> ID：11112917
> 
> 赞同：2
> 
> 时间：2012-06-20T04:41:23.110
> 
> 标签：c, printf

```
 #include <stdio.h>
  void wrapperPrint(char* s)
  {
      printf(s);
      return;
  }

  int main()
  {

          wrapperPrint("Hello world\n");
          wrapperPrint("This is a string");

      return 0;
  } 
```

如果程序正确打印字符串（确实如此，在 gcc 4.6.3 上测试过），为什么我们需要像 %d、%s 等格式说明符。或者换句话说，这个程序的潜在问题是什么。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T04:46:24.170

As-is, there's no problem at all. If, however, you pass in a string containing a percent-sign, that could cause a problem, because `printf` would try to treat it as the beginning of a conversion specifier, but 1) the rest of the conversion specifier probably won't be there, and 2) you won't have passed a matching argument when you call `printf` either, so if you do pass a proper conversion specifier, it'll try to use a nonexistent argument (giving undefined behavior).

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-20T04:46:46.393

> **为什么我们需要 %d、%s 等格式说明符？**

`printf`不是***格式安全***的。t 本身不理解*类型*，您必须明确告诉数据参数`printf`的格式（*类型*）。它告诉`print`您希望如何将参数解释为，如果您不理解，它只会将其视为字符串（*如在您的示例代码中*）。

请注意，如果格式说明符和实际数据类型不匹配，那么您得到的是***Undefined Behavior***。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T04:47:04.417

你应该使用 puts()，或者使用 printf("%s", s);

如果格式字符串恰好包含 %s 或任何其他格式，则 printf 将尝试读取您未传递的参数，尝试访问随机的内存块，但结果未定义。

尝试使用传入的 %s 运行您的程序，看看会发生什么。然后尝试在[valgrind](http://valgrind.org/)下再次运行它，以真正看到正在发生的可怕事情。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T04:43:07.843

There is nothing that mandates the use of format specifier in `printf`. Rather, it is because you want to print string according to some format that you use `printf`. You may use other methods (`puts`) to output plain string.

For the program above, if there are format specifiers in the string, the program will print garbage, since you will still be calling `printf` underneath.

# grails - 使用 Spring Security 插件在 Grails 中自定义登录表单

> ID：11112918
> 
> 赞同：1
> 
> 时间：2012-06-20T04:41:30.080
> 
> 标签：grails, spring-security

我在 Grails 2.0.3 中使用 Spring Security 插件，如果用户未登录，我会尝试将登录表单添加到每个页面的标题中。当我单击登录按钮时，它会尝试 POST 到控制器没有任何代码来处理请求的操作。这就是我正在做的

博客帖子控制器

```
class BlogPostController {

    static defaultAction = "home"

    /**
     * Summary of the most recent blog posts.
     */
    def home() {
        // snip
    }

    def show() {
        // snip
    }
} 
```

UrlMappings 有一些额外的条目

```
"/blog/$year/$month/$day/$title"(controller: "blogPost", action: "show")
"/blog/$action?/$id?"(controller: "blogPost")
"/"(controller:"blogPost") 
```

grails-app/views/layout/main.gsp

```
<!doctype html>
<html lang="en" >
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title><g:layoutTitle default="My Blog"/></title>
        <g:layoutHead/>
        <r:layoutResources />
    </head>
    <body>
        <g:render template="/banner" />
        <g:layoutBody/>
        <r:layoutResources />
    </body>
</html> 
```

grails-app/views/_banner.gsp

```
<div id="banner">
    <r:img class="logo" dir="images" file="logo.png" />

    <div class="login">

        <sec:ifLoggedIn>
            <sec:username/>
        </sec:ifLoggedIn>

        <sec:ifNotLoggedIn>
        <g:form name="banner-login" method="POST" action="${resource('file': 'j_spring_security_check')}">
            <ul>
                <li>
                    <label for="j_username">Username:</label>
                    <g:textField name="j_username"/>
                </li>
                <li>
                    <label for="j_password">Password:</label>
                    <g:passwordField name="j_password"/>
                </li>
            </ul>
            <div class="button-panel">
                <g:submitButton name="banner-login-button" value="Log in" />
            </div>
        </g:form>
        </sec:ifNotLoggedIn>

    </div>

</div> 
```

配置文件

```
grails.plugins.springsecurity.auth.loginFormUrl = '/' 
```

当我单击我的登录按钮时，它会尝试发布到“/myblog/blog/%2fmyblog%2fj_spring_security_check”，但失败了。我认为这是因为 BlogPostController 的 home 操作不知道如何处理该请求。

知道我做错了什么吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:53:05.647

必须是`/j_spring_security_check`，只有这个 url 会被 Spring Security 过滤器处理（当然，如果你没有改变这个设置）。似乎`resource`生成了错误的 url，我看不出有任何理由在这里使用它。

尝试`${createLink(uri: '/j_spring_security_check'}`代替`${resource('file': 'j_spring_security_check')}`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T12:25:22.793

我发现改变

```
<g:form> 
```

至

```
<form> 
```

解决了这个问题。不知道为什么 GSP 表单标签会这样做，但使用普通的旧元素是可行的。

# arm - 反汇编时如何分离ARM指令和数据

> ID：11112919
> 
> 赞同：1
> 
> 时间：2012-06-20T04:41:30.660
> 
> 标签：arm, thumb, objdump

我正在编写/（使用 binutils）一段代码来手动反汇编 thumb2（16 位和 32 位）指令。我在区分真正的 ARM 指令和 DATA 部分时遇到了问题。

最大的问题是指令不是字对齐的。所以当我尝试阅读 32 位指令时，很多时候它实际上与下一条指令重叠。

请提供任何帮助。

谢谢，VJ

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T16:30:58.470

如果您还能够读取符号表，GCC 将留下符号 $a $t $d 指示您应该在哪个地址切换您解释字节的方式：分别是 Arm、Thumb 和 Data。

例如，这就是 objdump 如何知道显示文字池的内容，但不尝试将它们映射回指令，尽管 a .text 部分中的相邻函数之间存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T15:47:35.530

arm 指令总是字对齐的。拇指总是对齐的。thumb2 是可变字长。并且您不能以与固定字长相同的方式拆卸可变字长。要反汇编可变字长指令集，您不能简单地遍历对齐地址上的内存并反汇编。在某种形式下，您必须按执行顺序遍历数据以找到每条指令的起始地址，然后从该列表中反汇编。

# gtk# - Gtk#：更改按钮的字体大小

> ID：11112923
> 
> 赞同：4
> 
> 时间：2012-06-20T04:41:47.327
> 
> 标签：gtk#

我使用标记来更改`Gtk.Label`字体大小。例如

```
label1.Markup="<span size='38000'>big text</span>"; 
```

我怎样才能为 Gtk.Button 做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T06:44:09.467

```
var label = new Label();
label.Markup = "<span size='38000'>big text</span>";
var button = new Button(label); 
```

# mysql - 如何使用 SQL 数据库中的经纬度查找最近的位置？

> ID：11112926
> 
> 赞同：48
> 
> 时间：2012-06-20T04:42:06.003
> 
> 标签：mysql

我想从以下数据库表中找到最近的位置

```
Address                            Latitude                longitude 

Kathmandu 44600, Nepal              27.7                   85.33333330000005
Los, Antoniterstraße                37.09024               -95.71289100000001
Sydney NSW, Australia               49.7480755             8.111794700000019
goa india                           15.2993265             74.12399600000003 
```

我已经从谷歌地图中获取了所有数据。在这里，我必须找到离某个地方最近的位置。假设我在 Surkhet 的地方，它的纬度是 28.6，经度是 81.6，我怎样才能找到距离 Surkhet 最近的地方。

* * *

## 回答 #1

> 赞同：97
> 
> 时间：2012-06-20T04:52:48.190

**使用 MySQL 查找附近的位置**

下面的 SQL 语句将找到距离 37, -122 坐标 25 英里半径范围内最近的 20 个位置。它根据该行的纬度/经度和目标纬度/经度计算距离，然后仅询问距离值小于 25 的行，按距离对整个查询进行排序，并将其限制为 20 个结果。要按公里而不是英里搜索，请将 3959 替换为 6371。

表结构：

```
id,name,address,lat,lng 
```

注意 - 这里纬度 = 37 & 经度 = -122。所以你只是通过你自己的。

```
SELECT id, ( 3959 * acos( cos( radians(37) ) * cos( radians( lat ) ) * 
cos( radians( lng ) - radians(-122) ) + sin( radians(37) ) * 
sin( radians( lat ) ) ) ) AS distance FROM your_table_name HAVING
distance < 25 ORDER BY distance LIMIT 0 , 20; 
```

[您可以在此处](http://en.wikipedia.org/wiki/Haversine_formula)找到详细信息。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2012-07-25T05:27:26.973

```
SELECT id, ( 3959 * acos( cos( radians(37) ) * cos( radians( lat ) ) * cos( radians( lng ) - radians(-122) ) + sin( radians(37) ) * sin( radians( lat ) ) ) ) AS distance FROM markers HAVING distance < 25 ORDER BY distance LIMIT 0 , 20; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-20T06:42:39.493

要查找附近的位置，您可以使用**地理**编码器类。由于您有地理点（纬度和经度），因此可以使用反向地理编码。 **反向地理编码**是将（纬度、经度）坐标转换为（部分）地址的过程。查看[此](http://developer.android.com/reference/android/location/Geocoder.html)以获取更多信息。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-14T11:17:59.377

```
SELECT latitude, longitude, SQRT(
    POW(69.1 * (latitude - [startlat]), 2) +
    POW(69.1 * ([startlng] - longitude) * COS(latitude / 57.3), 2)) AS distance
FROM TableName HAVING distance < 25 ORDER BY distance; 
```

其中**[starlat]**和**[startlng]**是开始测量距离的位置，25 是以公里为单位的距离。

建议使用存储过程来使用查询，因为它会检查很多行来查找结果。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T15:02:28.207

SQL有问题。在像这样的表中：

```
`ubicacion` (
  `id_ubicacion` INT(10) NOT NULL AUTO_INCREMENT ,
  `latitud` DOUBLE NOT NULL ,
  `longitud` DOUBLE NOT NULL ,
  PRIMARY KEY (`id_ubicacion`) ) 
```

使用时的 id_ubicacion 变化：

```
SELECT  `id_ubicacion` , ( 3959 * ACOS( COS( RADIANS( 9.053933 ) ) * COS( RADIANS( latitud ) ) * COS( RADIANS( longitud ) - RADIANS( - 79.421215 ) ) + SIN( RADIANS( 9.053933 ) ) * SIN( RADIANS( latitud ) ) ) ) AS distance
FROM ubicacion
HAVING distance <25
ORDER BY distance
LIMIT 0 , 20 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-07T08:20:09.813

当该方法应该执行时，最好先过滤纬度和经度，然后计算平方距离近似值。对于北欧国家，1000 公里范围内会有 0.3% 的折扣。

因此，不要将距离计算为：

```
dist_Sphere = r_earth * acos ( sin (lat1) * sin (lat2) + cos(lat1)*cos(lat2)*cos(lon 2 - lon 1) 
```

可以计算出近似值（假设 lat = lat 1 接近 lat 2）为

```
const cLat2 = cos lat ^ 2
const r_earth2 = r_earth ^ 2
dist_App ^2 = r_earth2 * ((lat 2 - lat 1) ^2 + clat2 *(lon 2 - lon 1) ^2) 
```

按 Dist_App 2 排序，然后简单地从结果中取平方根。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-09-05T10:04:12.070

```
sesach : ( 3959 * acos( cos( radians('.$_REQUEST['latitude'].') ) * cos( radians( latitude ) ) * cos( radians( longitude ) - radians('.$_REQUEST['longitude'].') ) + sin( radians('.$_REQUEST['latitude'].') ) * sin( radians( latitude ) ) ) ) <='.$_REQUEST['mile']; 
```

# ftp - java库做FTP操作

> ID：11112930
> 
> 赞同：1
> 
> 时间：2012-06-20T04:42:30.073
> 
> 标签：ftp, java

我有一组基于部署的活动，其中还涉及

1.  进行从开发机器到基于 linux 的服务器的 FTP 传输，以及
2.  在 linux 机器上执行某些脚本。

可以通过创建一个基于 Java 的小型实用程序来执行这些 FTP 活动，从而使这些活动自动化。

以下是我的问题：

1.  是否有执行 FTP 操作的 java 库（如 apache commons net、[http://commons.apache.org/net/](http://commons.apache.org/net/)）？
2.  是否有开源库可以通过 FTP 调用 shell 脚本并根据脚本输出执行某些操作？

请注意，我不是在论坛中寻找针对我的特定问题的解决方案；我更感兴趣的是从这里的成员那里寻找技术/java 库的替代方案和建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T04:58:09.223

**是**的，我们非常有 apache commons net 库来执行 ftp 操作。

`you can view this link:`

```
 http://commons.apache.org/net/ 
```

`Download the commons-net-ftp-2.0 lib from the above site.`

`I am also attaching my program to upload and download song to ftp server using the apache` `lib`

**上传：**

```
public void goforIt(){

        FTPClient con = null;

        try
        {
            con = new FTPClient();
            con.connect("192.168.2.57");

            if (con.login("Administrator", "KUjWbk"))
            {
                con.enterLocalPassiveMode(); // important!
                con.setFileType(FTP.BINARY_FILE_TYPE);
                String data = "/sdcard/vivekm4a.m4a";

                FileInputStream in = new FileInputStream(new File(data));
                boolean result = con.storeFile("/vivekm4a.m4a", in);
                in.close();
                if (result) Log.v("upload result", "succeeded");
                con.logout();
                con.disconnect();
            }
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }

    } 
```

**下载：**

```
public void goforIt(){
    FTPClient con = null;

    try
    {
        con = new FTPClient();
        con.connect("192.168.2.57");

        if (con.login("Administrator", "KUjWbk"))
        {
            con.enterLocalPassiveMode(); // important!
            con.setFileType(FTP.BINARY_FILE_TYPE);
            String data = "/sdcard/vivekm4a.m4a";

            OutputStream out = new FileOutputStream(new File(data));
            boolean result = con.retrieveFile("vivekm4a.m4a", out);
            out.close();
            if (result) Log.v("download result", "succeeded");
            con.logout();
            con.disconnect();
        }
    }
    catch (Exception e)
    {
        Log.v("download result","failed");
        e.printStackTrace();
    }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:07:47.910

既然您提到了 PuTTY（一个 SSH 客户端），您可能应该看看[JSch](http://www.jcraft.com/jsch/)库。它提供 SSH 访问，让您能够安全地传输文件和远程执行 shell 脚本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T05:17:11.903

我们在生产环境中使用[ftp4j 。](http://www.sauronsoftware.it/projects/ftp4j/)例如，它支持 HTTP-Proxy、SOCKS-Proxy、FTPS 和 FTPES。

要执行 shell 脚本，您将不得不使用像[这些这样的](http://linuxmafia.com/ssh/java.html)ssh 库。

# ios - 如何在 phonegap 中使用 iScroll 添加具有时间间隔的无限循环滑块？

> ID：11112931
> 
> 赞同：0
> 
> 时间：2012-06-20T04:42:46.147
> 
> 标签：ios, iphone, cordova

在我的项目中，我使用的是 iOS Phonegap，而且我是这个 phonegap 的新手。我想要像 iScroll 这样滚动无限循环的滚动器。我已经浏览了这些链接：[Link1](https://stackoverflow.com/questions/10974285/how-to-create-infinite-iscroll)但没有得到任何提示。据我所知，我在顶部添加了这个 javascript

```
function getStartTimerNext(){
var loopnext= myScroll.scrollToPage('next', 0);return false
}, 3000);}
getStartTimerNext(); 
```

它一直工作到最后一个项目结束，然后卡在那里。请帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:01:15.833

解决 iscroll 中无限循环的另一种简单方法是定义包含顺序选择页面的函数。在最后一页之后得到第一页

```
function nextPage(){

        if(myScroll.currPageX == totalPages){
            myScroll.scrollToPage(0, 0);
        }else{
            myScroll.scrollToPage('next', 0);return false
        }            
    } 
```

totalPages 将是总数。的页面想要滚动。根据您的需求 3 秒或 4 秒在 setInterval 中调用此函数。

```
setInterval(function() {  nextPage(); }, 4000); 
```

并解决了！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T08:07:13.267

万岁...我自己解决了这个问题..我在代码中添加了两个函数并一个接一个地调用它。见下面的代码：

```
function getStartTimerNext(){
var loopnext= myScroll.scrollToPage('next', 0);return false
}, 4000);}

function previousPageLoop(){
setInterval(function () {
myScroll.scrollToPage(0,0);
}, 12500);
}
getStartTimerNext();
previousPageLoop(); 
```

之后它工作正常.. :)

# mysql - MySQL中的LEFT OUTER JOIN vs SUBSELECT

> ID：11112940
> 
> 赞同：6
> 
> 时间：2012-06-20T04:44:40.847
> 
> 标签：mysql, sql, join, query-optimization

我有一张桌子说它`table1`有 3 列`column1, column2 and column3`。

和是一个`column1`与其他 2 个表。但是，其中的数据来自 n 个表。`column2``FOREIGN KEY``column3`

例如，让我们考虑 Facebook。为了显示活动，它可能会维护一个表，该表可能具有`user1 photoliked photo1`或`user1 statusliked status1`。所以在这种情况下`column3`不能是`FOREIGN KEY`带有特定表的。

现在有两种获取真实数据的方法 -

第一种方式——

```
SELECT user_id,
       verb_id,
       CASE WHEN verb_id = photoliked THEN
            (SELECT photo_name FROM photos WHERE photo_id = column3) -- getting the desired data from the third column
         WHEN verb_id = statusliked THEN
            (SELECT status FROM statustable WHERE status_id = column3) 
         ELSE '' END AS performedon
FROM table1
     JOIN table2 ON user_id = user_id  -- joining the first column
     JOIN table3 ON verb_id = verb_id  -- joining the second column 
```

第二种方式——

```
SELECT user_id,
       verb_id,
       CASE WHEN verb_id = photoliked THEN
            p.photo_name
         WHEN verb_id = statusliked THEN
            s.status
         ELSE '' END AS performedon
FROM table1
     JOIN table2 ON user_id = user_id  -- joining the first column
     JOIN table3 ON verb_id = verb_id  -- joining the second column
     LEFT JOIN photos p ON p.photo_id = column3  -- joining the column3 with specific table 
     LEFT JOIN statustable s ON s.status_id = column3 
```

**问题**

两种方法中哪一种更好地检索数据？两个查询中哪一个更便宜？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:12:26.123

我认为`JOIN`会更快，因为它对查询执行一次，而且我会尝试`verb_id`过滤`JOIN`

```
SELECT user_id,
   verb_id,
   COALESCE(p.photo_name, s.status) AS performedon
FROM table1
    JOIN table2 ON user_id = user_id  -- joining the first column
    JOIN table3 ON verb_id = verb_id  -- joining the second column
    LEFT JOIN photos p ON verb_id = 'photoliked' AND p.photo_id = column3  -- joining the column3 with specific table 
    LEFT JOIN statustable s ON verb_id = 'statusliked' AND s.status_id = column3 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T07:30:20.250

第二个会更快，原因是第一个包含所谓的相关子查询。子查询与主查询中的记录相关。因此，对于主查询中的每个匹配记录，子查询都需要运行一次。在您的情况下，它无法运行子查询，直到它确定主查询中的 verb_id 值。这是要运行的很多查询。

第一个查询的 EXPLAIN 应表明此问题。当您在 EXPLAIN 中看到它时，它通常是一个危险信号。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T07:41:40.760

您可以使用这种方法：

```
SELECT t.user_id,
       t.verb_id,
       p.photo_name  AS performedon
FROM table1 AS t
     JOIN table2 AS t2  ON t2.user_id = t.user_id  
     JOIN table3 AS t3  ON t3.verb_id = t.verb_id 
     JOIN photos AS p  ON  p.photo_id = t.column3  
                       AND t.verb_id = 'photoliked'

UNION ALL

SELECT t.user_id,
       t.verb_id,
       s.status  
FROM table1 AS t
     JOIN table2 AS t2  ON t2.user_id = t.user_id
     JOIN table3 AS t3  ON t3.verb_id = t.verb_id
     JOIN statustable AS s  ON  s.status_id = t.column3
                            AND t.verb_id = 'statusliked' ; 
```

# jquery - JQuery: Using data attribute to affix a function

> ID：11112942
> 
> 赞同：3
> 
> 时间：2012-06-20T04:45:03.507
> 
> 标签：jquery

Quick Question

I notice this in bootstrap that it was manage to use the right function by using the data attribute. Like in dropdowns, you can use data-toggle to initiate it. I would like to know how this works. This might save me time to declare each of them in .ready or .load

Thanks.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T04:47:17.850

它的工作方式与任何其他选择器（来自引导模式的代码）完全相同：

```
$('body').on('click.modal.data-api', '[data-toggle="modal"]', function ( e ) {
    // show modal
}); 
```

此绑定意味着：对于`body`该 fit选择器下的所有元素，通过指定的回调函数`[data-toggle="modal"]`处理事件`click`

# javascript - How to access jQuery draggable's helper element inside the drag callback?

> ID：11112945
> 
> 赞同：0
> 
> 时间：2012-06-20T04:45:25.610
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-draggable

I have a draggable with a custom helper function defined like this:

```
$("article.post").draggable({     
  helper: function(e) {
    // return a dom element
  },
  drag: function(event, ui) {
    var helper = $this.draggable( "option", "helper" );
    // helper is not the returned dom element, but the function definition
  }
}); 
```

In the drag callback, I want to access the helper element returned by the function, but `$this.draggable( "option", "helper" )` returns the function definition instead.

Is there a way to access the helper element?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:00:17.410

好的，事实证明它可以通过`ui.helper`.

# django - 如何从 django 中的模型获取关联数据？

> ID：11112946
> 
> 赞同：0
> 
> 时间：2012-06-20T04:45:35.883
> 
> 标签：django, templates, view, model

一旦用户点击给定的产品名称，我就会尝试返回相关的评论。我正在使用的视图是：

```
def index(request):
    prod_list = Website.objects.values('productname').distinct()
    return render_to_response('reserve/templates/index.html', {'prod_list': prod_list}) 
```

我的模板是：

```
 {% for website in prod_list %}
        <a href="/clubs/{{ website.id }}/detail">{{ website.productname }}</a>
        <br>{{  website.review }} <br><br>
    {% endfor %} 
```

我使用的模型是：

```
class Website(models.Model):
    productname = models.CharField('Website name', max_length = 100)
    review = models.CharField('Review', max_length = 200)
    def __unicode__(self):
        return self.productname 
```

列出的每个产品名称都有多个评论；我遇到的问题是链接（）没有返回 website.id。关于如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:59:16.877

从[文档](https://docs.djangoproject.com/en/dev/ref/models/querysets/#values)

> 价值观
> 
> 值（*字段）
> 
> 返回一个 ValuesQuerySet — 一个 QuerySet 子类，它在用作可迭代对象而不是模型实例对象时返回字典。

所以你实际上迭代的是字典对象。

其次，当您限制值字段时，仅返回那些字段。`prod_list`实际上是：

`[{'productname': u'Product Name 1'},{'productname': u'Product Name 2'}, ...]`

将您的视图更新为此`prod_list = Website.objects.distinct('productname')`将使您的模板正确呈现，因为它将返回一个查询集。

### 编辑

由于`DISTINCT ON`仅支持 postgresql，因此您可以使用此解决方法：

```
from django.shortcuts import render
# ... your other imports

def index(request):

    prod_list_distinct = set()
    for obj in Website.objects.all():
       prod_list_distinct.add(obj.productname) # sets only allow uniques

    prod_list = Website.objects.filter(productname__in=prod_list_distinct)

    return render(request,
                  'reserve/templates/index.html', {'prod_list': prod_list}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T08:18:10.513

你的模型结构不太合适。您真正需要的是评论和产品的单独表格，然后是`ForeignKey`从评论到产品的表格，以便它们处于一对多关系。然后，您可以轻松获得每个不同的产品，并遍历每个产品的评论。

# javascript - [function].apply() 在 IE 中导致“JScript object expected”错误

> ID：11112950
> 
> 赞同：4
> 
> 时间：2012-06-20T04:46:14.087
> 
> 标签：javascript, internet-explorer, object-expected

以下代码行在 IE 中导致“JScript object expected”错误：

```
hideElements.apply(window, elements); 
```

根据 IE 的说法，“预期的 JScript 对象”是指`hideElements`，这是一个将任意数量的 HTML 对象作为参数并隐藏它们的函数。

具体来说，我通过调用来检索 HTML 对象数组`getElementsByTagName`，并且我想将此数组作为参数列表传递给函数`hideElements`。JS 函数`apply()`正是我在这种情况下所需要的。我知道我当然可以用不同的方式编写我的代码，但是由于这在 Firefox 和 Chrome 上完美运行，并且在技术上是正确的，我真的很想知道为什么 IE 会卡在那里。

我已经确定，当该行执行时：

*   `window`不为 null 且类型为`Window`;
*   `elements`不为 null 且类型为`HTMLCollection`; 和
*   `hideElements`是一个功能齐全的 JS 函数（它自己完美地工作，并且在执行上面的代码时完全加载）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T05:51:24.963

`getElementsByTagName`返回一个`nodeList`。`apply`期望第二个参数是一个`array`. 如果您转换`elements`为真实数组（使用循环），它应该可以工作。

注意：在 IE<9 中，无法使用`Array.prototype.slice.call(elements)`它，因此循环是创建数组的最安全方法，例如：

```
function nodeList2Array(nodes){
  var arr = [];
  for (var i=1; i<nodes.length;(i+=1)){
    arr.push(nodes[i]);
  }
  return arr;
} 
```

现在：`hideElements.apply(window, nodeList2Array(elements));`应该工作。

# java - Android: Remove item (ListView)

> ID：11112953
> 
> 赞同：1
> 
> 时间：2012-06-20T04:46:33.423
> 
> 标签：java, android, android-listview

I want to remove an item from `ListView`, but I don't know how can I do it.

This is my code...

```
public void FLYNOTE_refresh() {
    int i;
    SharedPreferences Pref = getSharedPreferences("nnote", MODE_WORLD_READABLE); //созаётся файл настроек "nnote" и туда барыжиться вся хня
    key = Pref.getInt("number", 0); 
    key++;
    String lv_arr[] = new String[key];

    for (i = 0; i < key; i++) {
         lv_arr[i] = Pref.getString("n" + i, "none");           
    }

    textView1.setText(String.valueOf(key));

    listView1.setAdapter(new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1 , lv_arr));
    listView1.setTextFilterEnabled(true);
} 
```

I want to remove an item with `0 id`,guide me to do that.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:55:29.787

您可以从 ListView 中删除一个项目：

```
 ArrayAdapter<String> adapterlist = new ArrayAdapter<String>(this,
                    android.R.layout.simple_list_item_1, lv_arr);
     listView1.setAdapter(adapter1);
     adapter1.notifyDataSetChanged();
     listView1.setOnItemClickListener(new OnItemClickListener() {
     public void onItemClick(AdapterView<?> a, View v, int position, long id) {
    adapter1.remove(position);
    adapter1.notifyDataSetChanged();
    }); 
```

你可以看到这些从 ListView 中删除项目的帖子：

[在 Android 中删除 ListView 项目](https://stackoverflow.com/questions/2558591/remove-listview-items-in-android)

[Android：如何从 listView 和 arrayAdapter 中删除项目](https://stackoverflow.com/questions/4698386/android-how-to-remove-an-item-from-a-listview-and-arrayadapter)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-23T17:53:21.863

如果您不想显示项目 0，只需调整大小`lv_arr`并更改 for 循环：

```
public void FLYNOTE_refresh() {
    int i;
    SharedPreferences Pref = getSharedPreferences("nnote", MODE_WORLD_READABLE); //созаётся файл настроек "nnote" и туда барыжиться вся хня
    key = Pref.getInt("number", 0); 
    String lv_arr[] = new String[key]; // One item smaller without "n0" 

    key++;
    for (i = 1; i < key; i++) {
        // Skip "n0" like this
        lv_arr[i - 1] = Pref.getString("n" + i, "none");           
    }

    textView1.setText(String.valueOf(key));

    listView1.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, lv_arr));
    listView1.setTextFilterEnabled(true);
} 
```

如果您想在应用程序运行时删除项目，我建议使用 a`List<String>`而不是 a `String[]`：

```
public void FLYNOTE_refresh() 
{
    int i;
    SharedPreferences Pref = getSharedPreferences("nnote", MODE_WORLD_READABLE); //созаётся файл настроек "nnote" и туда барыжиться вся хня
    key = Pref.getInt("number", 0); 
    key++;
    lv_arr = new ArrayList<String>(); 

    for (i = 1; i < key; i++) {
        lv_arr.add(Pref.getString("n" + i, "none"));           
    }

    adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, lv_arr);
    listView1.setAdapter(adapter);

    listView1.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
            lv_arr.remove(position);
            adapter.notifyDataSetChanged();
        }
    });
} 
```

# c# - Exception in linq query for use "Type" for property name

> ID：11112954
> 
> 赞同：1
> 
> 时间：2012-06-20T04:46:37.677
> 
> 标签：c#, linq, nhibernate, casting, linq-to-nhibernate

I have a query by linq to nhibernate.

```
var q = SessionInstance.Query<Evidence>()
       .Select(x => new Evidence(x.Id)
        {
            Type = x.Type,
            StartDate = x.StartDate,
            EndDate = x.EndDate
        })    
        .ToList(); 
```

It has a exception by this Message :

`NHibernate.Exceptions.GenericADOException : Could not execute query[SQL: SQL not available] {"Exception has been thrown by the target of an invocation."} {"Specified cast is not valid."}`

But by rename `Type` property to `Type1`, My problem is resolved.

```
q = q.Select(x => new Evidence(x.Id)
    {
        Type1 = x.Type1,
        StartDate = x.StartDate,
        EndDate = x.EndDate
    }); 
```

Why?

Is a solution exist for use `Type` name for a property?

**UPDATE:** Evidence class is :

```
public class Evidence
{
    public long Id;
    public EvidenceEnumType? Type;
    public DateTime? StartDate;
    public DateTime? EndDate;
} 
```

**Stack Trace**

```
 at NHibernate.Impl.SessionImpl.List(IQueryExpression queryExpression, QueryParameters queryParameters, IList results)
   at NHibernate.Impl.AbstractSessionImpl.List(IQueryExpression queryExpression, QueryParameters parameters)
   at NHibernate.Impl.ExpressionQueryImpl.List()
   at NHibernate.Linq.NhQueryProvider.ExecuteQuery(NhLinqExpression nhLinqExpression, IQuery query, NhLinqExpression nhQuery)
   at NHibernate.Linq.NhQueryProvider.Execute[TResult](Expression expression)
   at Remotion.Data.Linq.QueryableBase`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at RCISP.NHibernate.Repository.EvidenceIssuanceRepositoryNh.Search(SearchEvidenceIssuanceDto dto)
   at RCISP.Domain.Services.EvidenceIssuanceService.SearchCommand(IRepositoryLocator locator, SearchEvidenceIssuanceDto dto) in D:\Users\Zeynali\Aseman\src\RCISP.Domain\Services\Issuance\EvidenceIssuanceService.cs:line 62
   at RCISP.Domain.Services.EvidenceIssuanceService.<>c__DisplayClass4.<Search>b__3(IRepositoryLocator locator) in D:\Users\Zeynali\Aseman\src\RCISP.Domain\Services\Issuance\EvidenceIssuanceService.cs:line 58
   at RCISP.NHibernate.TransManager.TransManagerNh.ExecuteCommand[TResult](Func`2 command) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:43:53.177

我相信您可以使用该`@`符号让编译器知道您正在输入一个属性名称：

```
var q = SessionInstance.Query<Evidence>()
       .Select(x => new Evidence(x.Id)
        {
            Type = x.@Type,
            StartDate = x.StartDate,
            EndDate = x.EndDate
        })    
        .ToList(); 
```

编辑：嗯，我只是尝试用以下方式制作模型情况：

```
public class MyClass
{
    public string Type;
} 
```

和

```
var y = new List<MyClass>().Select(x => new MyClass() {Type = x.Type}); 
```

它似乎正在编译，所以我现在看到这不是编译时问题（你的问题应该很明显），但可能是反射问题......所以让我知道`@`符号是否真的修复了它...... .

# python - Graphserver 代码中的 Python 缩进

> ID：11112957
> 
> 赞同：1
> 
> 时间：2012-06-20T04:46:50.827
> 
> 标签：python, indentation

我正在阅读来自[GraphServer](http://graphserver.github.com/graphserver/)的代码。还有这个函数有奇怪的缩进（从底部计数的第 5 行和从底部计数的第 1 行）：

![在此处输入图像描述](../Images/f9a102d742c661e2eab9917e251dff37.png)

倒数第五行有一个制表符，我将 vim 设置为显示缩进 4。底部的屈服线有一个制表符加四个空格。所有其他行都以空格开头。

我认为这样的代码会造成不一致，并且在 Python 中会成为问题。但是代码似乎运行良好（我不知道是否正确运行，它可能确实如此。）。python 是否只是说 ok 一个制表符等于 8 个空格并将其解释为这样？我正在运行 Python 2.6。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T04:51:24.820

是的，Python 认为一个制表符是（最多）8 个空格，即每 8 个字符就有一个制表位。因此，在 Python 视觉中，那条奇怪的缩进`yield`线实际上与它周围的其他线对齐。

这就是使用混合制表符和空格的危险。使用命令行选项调用 Python 以`-tt`使其在这些类型的文件上引发错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:51:36.763

不要混合制表符和空格！这就是金玉律...

# javascript - 调试 javascript 按钮

> ID：11112959
> 
> 赞同：0
> 
> 时间：2012-06-20T04:46:50.600
> 
> 标签：javascript, django

我有 2 个由两个单独的按钮触发的 java 脚本函数。我正在尝试从 django 模板中运行它。 `Button 1`工作，但`Button 2`没有。我正在尝试使按钮 2 工作。按钮2不起作用的任何原因？或者如何解决？

```
<script type="text/javascript">
    function addMore()
    {
      alert("Click!");
    }
</script>

<script>
    $('#add_more').click(function() {
        alert('click');
    });
</script>

<button onclick="addMore()">Button 1</button>
<input type="button" value="Button 2" id="add_more"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:51:41.573

您应该始终使用 jQuery[就绪](http://api.jquery.com/ready/)函数来确保在执行代码之前加载文档。例如：

```
$(function() {
    $('#add_more').click(function() {
        alert('click');
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:49:30.547

您可能需要将其包装在此：

```
$(document).ready(function () {
    $('#add_more').click(function() {
        alert('click');
    });
}); 
```

[http://jsfiddle.net/HF5Bd/](http://jsfiddle.net/HF5Bd/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T04:52:03.953

将代码包装在`$(document).ready()`方法中。前任，

```
$(document).ready(function(){
       $('#add_more').click(function() {
        alert('click');
    });
}); 
```

`.ready()`当整个文档准备好时，方法内部的函数会初始化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T04:53:58.050

1）您的第二个脚本在 DOM 之前加载。你需要使用`document.ready`

```
$(document).ready(function(){
    $('#add_more').click(function() {
     alert('click');     
    });
 }); 
```

* * *

2）另一种选择是移动

```
<script>
    $('#add_more').click(function() {
     alert('click');     
    }); 
</script> 
```

以下

```
<input type="button" value="Button 2" id="add_more"> 
```

# wcf - Visual Studio 2012 错误参考.svcmap 抛出错误

> ID：11112960
> 
> 赞同：7
> 
> 时间：2012-06-20T04:46:54.423
> 
> 标签：wcf, visual-studio-2012

从昨天开始使用 Visual Studio 2012 RC，我们有一个 WCF 解决方案。每当我尝试在另一个解决方案中使用“添加/删除引用”对话框时，添加服务后都会出现以下错误。

> 错误 1 ​​Reference.svcmap：无法为服务引用“DPService”生成代码。无法导入 wsdl：portType 详细信息：运行 WSDL 导入扩展时引发异常：System.ServiceModel.Description.DataContractSerializerMessageContractImporter 错误：类型“WebSupergoo.ABCpdf8.Objects.Bookmark”是不支持的递归集合数据协定。考虑修改集合“WebSupergoo.ABCpdf8.Objects.Bookmark”的定义以删除对自身的引用。XPath 到错误源：//wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:portType[@name='IGQDynamicPackaging'] 无法导入 wsdl:binding 详细信息：导入一个错误wsdl:binding 所依赖的 wsdl:portType。XPath 到 wsdl:portType: //wsdl: 定义[@targetNamespace='http://tempuri.org/']/wsdl:portType[@name='IGQDynamicPackaging'] XPath 到错误源：//wsdl:definitions[@targetNamespace='http://tempuri.org /']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 无法导入 wsdl:port 详细信息：导入 wsdl:port 所依赖的 wsdl:binding 时出错。wsdl:binding 的 XPath: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 错误源的 XPath: //wsdl:definitions[@ targetNamespace='http://tempuri.org/']/wsdl:service[@name='GQService']/wsdl:port[@name='WSHttpContextBinding_IGQDynamicPackaging'] App_WebReferences/DPService/ portType[@name='IGQDynamicPackaging'] XPath 到错误源：//wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 无法导入 wsdl：端口详细信息：导入 wsdl: 绑定时出错，该 wsdl:port 依赖于该绑定。wsdl:binding 的 XPath: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 错误源的 XPath: //wsdl:definitions[@ targetNamespace='http://tempuri.org/']/wsdl:service[@name='GQService']/wsdl:port[@name='WSHttpContextBinding_IGQDynamicPackaging'] App_WebReferences/DPService/ portType[@name='IGQDynamicPackaging'] XPath 到错误源：//wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 无法导入 wsdl：端口详细信息：导入 wsdl: 绑定时出错，该 wsdl:port 依赖于该绑定。wsdl:binding 的 XPath: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 错误源的 XPath: //wsdl:definitions[@ targetNamespace='http://tempuri.org/']/wsdl:service[@name='GQService']/wsdl:port[@name='WSHttpContextBinding_IGQDynamicPackaging'] App_WebReferences/DPService/ binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 无法导入 wsdl:port 详细信息：导入 wsdl:port 所依赖的 wsdl:binding 时出错。wsdl:binding 的 XPath: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 错误源的 XPath: //wsdl:definitions[@ targetNamespace='http://tempuri.org/']/wsdl:service[@name='GQService']/wsdl:port[@name='WSHttpContextBinding_IGQDynamicPackaging'] App_WebReferences/DPService/ binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 无法导入 wsdl:port 详细信息：导入 wsdl:port 所依赖的 wsdl:binding 时出错。wsdl:binding 的 XPath: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='WSHttpContextBinding_IGQDynamicPackaging'] 错误源的 XPath: //wsdl:definitions[@ targetNamespace='http://tempuri.org/']/wsdl:service[@name='GQService']/wsdl:port[@name='WSHttpContextBinding_IGQDynamicPackaging'] App_WebReferences/DPService/

请注意：当我使用 VS 2010 时，上述服务工作正常。供您参考，我们正在使用“在引用的程序集中重用类型”打开并选中“在所有引用的程序集中重用类型”选项。

相同的设置在 VS 2010 上运行良好，我们可以添加参考。但是现在，在安装 VS 2012 RC 之后，我无法为 VS 2010 和 VS2012 添加参考。任何解决方案或解决此问题。

我只想回滚并想使用VS2010，“添加服务”现在在VS 2010中给出了相同的参考错误。

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-06-20T22:03:02.297

我遇到了类似的问题，我取消了“配置服务引用”对话框中的“在引用的程序集中重用类型”复选框。

1）右键单击服务参考 2）选择配置服务参考 3）取消选中“在引用的程序集中重用类型”

我不确定这样做的所有后果，但它让我能够再次使用参考。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-10-28T08:01:32.417

看起来“CustomerServiceReference”已在您的项目引用的两个程序集中定义。代码生成器不知道应该使用哪一个。

要摆脱这个问题，就像拉斯说的那样。您可以配置您的服务引用，在其高级选项选项卡中，您可以禁用“在所有引用的程序集中重用类型”，（通过选择“在指定的引用程序集中重用类型”）。您可以选择除导致此问题的程序集以外的所有程序集（将 CustomerServiceReference 定义为错误消息所述。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-21T08:27:05.163

卸载vs 2012，vs 2010会给你“未知错误”，一个小错误信息，修复vs 2010（重新安装），就OK了！

# jsf - 如何为rich：fileUpload定义默认打开文件位置？

> ID：11112966
> 
> 赞同：1
> 
> 时间：2012-06-20T04:47:11.007
> 
> 标签：jsf, richfaces

我正在使用 rich:fileUpload 上传文件。

当我单击 + 按钮添加文件时，文件浏览器的默认位置是我使用 windows 文件浏览器访问的最后一个位置。

单击 + 按钮时，如何设置文件浏览器显示的默认位置？

是不是有一些类似于 HTML 的东西： <input type="file" value="DEFAULT PATH" /> ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T08:40:06.613

INMO**你不能**修改`rich:fileUpload`不在任何文件上传组件中的文件浏览器的位置，除非你构建自己的基于flash或其他不使用浏览器原生组件的自定义文件上传组件，*因为服务器永远不知道客户端机器的文件结构*

你可以看看google上的类似线程：[default path to open location in file upload](https://www.google.co.il/search?rlz=1C1CHEU_enIL465IL465&sugexp=chrome,mod=5&sourceid=chrome&ie=UTF-8&q=default%20path%20to%20open%20location%20in%20file%20upload)

# c# - 如何在 C# 中减去 2 个 UTC 日期

> ID：11112969
> 
> 赞同：2
> 
> 时间：2012-06-20T04:47:18.187
> 
> 标签：c#, datetime, utc

在我的网站中，我使用**日期**数据类型将用户访问`DateTime`信息存储在 sql server 中。为此我 在.**`UtcNow``C#`**

 **```
 visit_date = System.DateTime.UtcNow 
```

现在，如果同一用户访问我的网站，我想获得小时差异，那么我如何减去 2 个 UTC 日期。我使用以下方法来获取小时差异，但它给出了错误的小时差异。

```
TimeSpan timeDiff = System.DateTime.UtcNow.Subtract((DateTime)_Last_View.visit_date); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T04:55:01.160

尝试在生成的时间跨度上使用 TotalHours 获取小时数，例如：

```
TimeSpan interval = date2.Subtract(date1);
double Hours = interval.TotalHours; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:01:11.827

```
DateTime dt1 = DateTime.UtcNow;
DateTime dt2 = (DateTime)_Last_View;

TimeSpan ts = dt1.Subtract(dt2);

int seconds = ts.Seconds;
int minutes = ts.Minutes;
double hours = ts.TotalHours;
int days = ts.Days;
int days = ts.TotalDays;
int years = (int) (ts.Days / 365.25); // leap years included 
```

在 C# 中检查此[计算日期差异](http://www.c-sharpcorner.com/uploadfile/dipalchoksi/datediff_cs_dc09132006172429pm/datediff_cs_dc.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T05:02:24.290

尝试使用[Ticks](http://msdn.microsoft.com/en-us/library/system.datetime.ticks.aspx)：

```
double timeDiffTicks = System.DateTime.UtcNow.Ticks - visit_date.Ticks;
double hours = (((timeDiffTicks / 10000)/1000) / 60)/60; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T05:19:37.067

感谢 。

有用

```
TimeSpan timeDiff = System.DateTime.UtcNow.Subtract((DateTime)_Last_View.visit_date);

            if (timeDiff.TotalHours > 24)
            {
            } 
```

我正在使用`timeDiff.Hours`而不是`timeDiff.TotalHours`.**

# java - 如何在 Android 中使用 HttpPost 发送图像

> ID：11112971
> 
> 赞同：1
> 
> 时间：2012-06-20T04:47:35.167
> 
> 标签：java, android, apache-httpcomponents

我必须通过 HttpPost 将图像发送到 php 服务器，但我的代码不起作用......

```
public void postAddToServer() {

    String URL="http://xyz.com.au/abc/users/webappadpost/?userid=12531&listtype=2&listcatid=2&listsubcatid=3&listtitle=testTitle&listdesc=justDemo&listprice=1&listsuburb=adelate&listphone=9895623148&listavailable=1&listcondtn=1&listoldcondtn=3";

    ByteArrayOutputStream bao = new ByteArrayOutputStream();
    post_add_bitmap_image.compress(Bitmap.CompressFormat.JPEG, 90, bao);
    byte [] ba = bao.toByteArray();
    String baImage=Base64.encodeBytes(ba);

    try {
        String lineEnd = "\r\n";
        String twoHyphens = "--";
        String boundary = "xxxxxxxx";
        //String EndBoundary = "";
        String str = twoHyphens + boundary + lineEnd;

        String str4 = "Content-Disposition: form-data; name=\"image\"";
        String str5 = "Content-Type: image/jpg";
        String str6 = twoHyphens + boundary + twoHyphens;

        String StrTotal ="\r\n" + str + str4 + "\r\n" +"\r\n"+ baImage + "\r\n" + str6;

        HttpPost post = new HttpPost(URL);
        post.addHeader("Content-Type","multipart/form-data;boundary="+boundary);
        post.addHeader("Content-Type","image/jpg");

        StringEntity se = new StringEntity(StrTotal);
        se.setContentEncoding("UTF-8");

        post.setEntity(se);

        HttpClient client= new DefaultHttpClient();
        HttpResponse response = client.execute(post);

        HttpEntity getResEntity=response.getEntity();
        System.out.println("RESPONSE getResEntity : "+getResEntity.toString());
        String result="";

        if(getResEntity!=null){
            result=EntityUtils.toString(getResEntity);
            System.out.println("result from server: "+result);

            if(result!=null){
                JSONObject object=new JSONObject(result);
                statusFlag=object.getString("status");
                statusFlagMessage=object.getString("message");
            }
            else{
                System.out.println("NULL response from server.");
            }                       
        }
    }
    catch (RuntimeException e) {
}
    catch (Exception e) {
}
} 
```

对于 Post 方法，URL 的格式是否正确？或者它应该是这样的......`URL="http://xyz.com.au/abc/users/webappadpost"`

任何建议和帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:54:25.060

你可以这样做..我已经尝试过了，它对我有用

```
private void uploadImage() {
    // TODO Auto-generated method stub

        try  
        {
        String extStorageDirectory = Environment.getExternalStorageDirectory().toString()+"/SurveyFiles/";
        pathToOurFile=extStorageDirectory+fileName+".jpg";
        //Toast.makeText(this, pathToOurFile.toString(), 600).show();
        //Toast.makeText(this, pathToOurFile, 600).show();
        FileInputStream fileInputStream = new FileInputStream(new File(pathToOurFile) );

        URL url = new URL(urlServer);
        connection = (HttpURLConnection) url.openConnection();

        // Allow Inputs & Outputs
        connection.setDoInput(true);
        connection.setDoOutput(true);
        connection.setUseCaches(false);

        // Enable POST method
        connection.setRequestMethod("POST");

        connection.setRequestProperty("Connection", "Keep-Alive");
        connection.setRequestProperty("Content-Type", "multipart/form-data;boundary="+boundary);

        outputStream = new DataOutputStream( connection.getOutputStream() );
        outputStream.writeBytes(twoHyphens + boundary + lineEnd);
        outputStream.writeBytes("Content-Disposition: form-data; name=\"uploadedfile\";filename=\"" + pathToOurFile +"\"" + lineEnd);
        outputStream.writeBytes(lineEnd);

        bytesAvailable = fileInputStream.available();
        bufferSize = Math.min(bytesAvailable, maxBufferSize);
        buffer = new byte[bufferSize];

        // Read file 
        bytesRead = fileInputStream.read(buffer, 0, bufferSize);

        while (bytesRead > 0)
        {
        outputStream.write(buffer, 0, bufferSize);
        bytesAvailable = fileInputStream.available();
        bufferSize = Math.min(bytesAvailable, maxBufferSize);
        bytesRead = fileInputStream.read(buffer, 0, bufferSize);
        }

        outputStream.writeBytes(lineEnd);
        outputStream.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);

        // Responses from the server (code and message)
        connection.getResponseCode();
        connection.getResponseMessage();

        fileInputStream.close();
        outputStream.flush();
        outputStream.close();
        }
        catch (Exception ex)
        {
        //Exception handling
        } 
```

PathtoOurFile 是您要上传的图像的路径， urlserver 是您的 php 文件的路径

这是那个php文件

```
<?php
// Where the file is going to be placed
 $target_path = "path where u need to store on server";

 /  * Add the original filename to our target path.
 Result is "uploads/filename.extension" */
 $target_path = $target_path . basename( $_FILES['uploadedfile']['name']);

  if(move_uploaded_file($_FILES['uploadedfile']['tmp_name'], $target_path)) {
   echo "The file ".  basename( $_FILES['uploadedfile']['name']).
   " has been uploaded";
  } else{
   echo "There was an error uploading the file, please try again!";
   echo "filename: " .  basename( $_FILES['uploadedfile']['name']);
   echo "target_path: " .$target_path;
 }
?> 
```

# coldfusion - Coldfusion复选框同名

> ID：11112972
> 
> 赞同：1
> 
> 时间：2012-06-20T04:47:59.457
> 
> 标签：coldfusion

这是我的表格：

```
<form method="post">
    <input type="checkbox" name="ciccio" value="214124,qqqqq" />1
    <input type="checkbox" name="ciccio" value="675656,fggggggggg" />2
    <input type="checkbox" name="ciccio" value="125676,gfsdsasssss" />3
    <input type="checkbox" name="ciccio" value="898797,looooooo" />4
    <input type="submit" value="vai" />
</form> 
```

我需要在数据库中插入“form.ciccio”的值。当我转储该变量时，结果是：

```
Ciccio: 214124,qqqqq,675656,fggggggggg,125676,gfsdsasssss,898797,looooooo 
```

我试过使用：

```
<cfset testing = form["ciccio[]"]> 
```

但它不起作用。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T05:14:52.827

复选框值作为逗号分隔列表传递，因此如果您的值包含 csv 数据，您必须一次处理 2 个值或使用逗号以外的其他分隔符。

```
<input name="c" type="checkbox" value="12345|lolololol"> 
```

`ListFirst()`然后遍历列表并使用and拉出子数据`ListRest()`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-20T06:49:34.917

对于 CF10+，`this.sameformfieldsasarray=true;`在 Application.cfc中使用

[http://www.raymondcamden.com/2012/06/19/ColdFusion-10-Missing-Feature-Form-Fields-and-Arrays](http://www.raymondcamden.com/2012/06/19/ColdFusion-10-Missing-Feature-Form-Fields-and-Arrays)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T13:30:38.937

插入数据库值“form.ciccio”逗号是默认分隔符。

```
 <cfloop index="i" list=#form.ciccio# > 

      <cfif condition >
         insert int value
      <cfelse>
         insert text value
      </cfif>

    </cfloop> 
```

# sql - 索引字段和包含字段的索引之间的sql差异

> ID：11112982
> 
> 赞同：2
> 
> 时间：2012-06-20T04:49:07.640
> 
> 标签：sql, performance, tsql, indexing, non-clustered-index

我正在提高一些 sql 查询脚本的性能。例如：

```
SELECT * 
FROM Book b, Library l, [Order] o 
WHERE o.bookid = b.bookID 
AND o.mode = 'A' 
AND o.library_ID = l.library_ID 
AND l.library_ID > 19 
AND b.publisher_id  > 1000 
AND b.print_id > 800 
AND NOT EXISTS (
  SELECT * 
  FROM ExtBOOK 
  WHERE b.bookid = extbookid 
  AND library_ID = l.library_ID
) 
AND o.activated = 'Y' 
AND b.eisbn13 LIKE '978%' 
AND len(o.ext_user_id) > 3 
AND b.bookid > 200000 
AND b.bookid in (
  SELECT bookid 
  FROM category 
  WHERE categoryid  > 2
) 
ORDER BY o.orderid DESC 
```

当我在 SQL Management Studio 中使用“包含实际执行计划”搜索此 sql 脚本时，结果要求我添加以下索引

```
CREATE NONCLUSTERED INDEX [<Name of Missing Index, sysname,>]
ON [dbo].[Order] ([MODE],[ACTIVATED],[LIBRARY_ID],[BOOKID])
INCLUDE ([OrderID],[EXT_USER_ID],[APPROVAL_DATE]) 
```

但是，如果我删除一些 where 条件，如下所示：

```
SELECT * FROM Book b, Library l, [Order] o 
WHERE o.bookid = b.bookID 
AND o.mode = 'A' 
AND o.library_ID = l.library_ID 
AND l.library_ID > 19 
ORDER BY o.orderid DESC 
```

我得到了另一个不同的建议，如下所示：

```
CREATE NONCLUSTERED INDEX [<Name of Missing Index, sysname,>]
ON [dbo].[ORDER] ([MODE])
INCLUDE ([LIBRARY_ID],[BOOKID]) 
```

因为条件是可变的，我应该创建哪个索引？我了解索引的作用，但不了解被索引的字段和被包含的字段之间的好处。为什么在第一个推荐索引中，BOOKID 和 LIBRARY_ID 在索引字段中，而在第二个推荐索引中，BOOKID 和 LIBRARY_ID 在包含字段中？有什么区别，我应该使用哪个来涵盖所有可能的情况？

另外，从我的测试来看，我分别添加了它们来测试性能，但看不出有什么区别。我很感激任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T12:31:44.473

您的索引策略在一定程度上取决于数据的预期波动性——如果您的数据稳定且很少更新，那么您可以添加更多索引来提高查询性能。但是，如果您的数据是易变的，并且经常更改，那么更多的索引将导致性能下降，因为索引会在数据更改时重新生成。

它还取决于您的查询的可预测性 - 它们是可预测的，在这种情况下将它们封装在存储过程或参数化查询中，还是它们完全是临时的？

我假设您已经在`Order.BookID`and上有索引`Order.Library_ID`？

此外，我会改写查询以使用内部连接语法 - 即：

```
SELECT * 
FROM [Order] o 
     INNER JOIN Library l
          ON o.library_ID = l.library_ID  
     INNER JOIN Book b  
          ON o.bookid = b.bookID 
WHERE 
     o.mode = 'A'  
AND 
     l.library_ID > 19 
```

# python - 表单上的报表_Aeroo 中的禁用菜单

> ID：11112988
> 
> 赞同：2
> 
> 时间：2012-06-20T04:49:38.387
> 
> 标签：python, report, openerp

我使用**Report_Aeroo**制作了一个 Excel 报告，但是我在这里有一点问题我制作了一个**向导**，然后我正在生成一个 Excel 报告，所以我不想在我传入 Report.So 的模型的表单视图中使用它的菜单我能做些什么 ？？就像我们在**rml**中具有类似**“Menu =false”**的功能，在 Report Aeroo 中有什么相同的东西**？？？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:34:00.493

我相信该条目是 multi=True 或者我认为您会发现只需进入报告并使用删除打印按钮即可。

# html - 如何开始使用html5？

> ID：11112992
> 
> 赞同：0
> 
> 时间：2012-06-20T04:50:01.773
> 
> 标签：html

这可能是一个显而易见的问题，但我想知道您如何开始使用新技术？
我看到了所有新标签等，但如果我刚开始使用它，它可能不会识别它。
我需要安装一些东西/定义一些东西/等才能开始使用它吗？Visual Studio 如何知道它是 html5？

所有指南都集中在如何使用 html5 中的标签和语法，而不是如何启用它......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T05:27:26.757

这就是开始空白 html5 文档所需的全部内容：

```
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
</head>

<body>
</body>
</html> 
```

我强烈建议还使用 html5 shiv [http://code.google.com/p/html5shiv/](http://code.google.com/p/html5shiv/)以便您的页面在旧浏览器中很好地降级。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:58:19.270

较新的浏览器支持 HTML 5（Chrome、Firefox、IE9、Opera 等）。你的出发点是

```
<!DOCTYPE html> 
```

就是这样。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T07:39:47.610

启动 html5

html5 文档类型是

```
<!DOCTYPE html> 
```

当您使用新的 HTML5 DOCTYPE 时，它会触发浏览器以符合标准的模式呈现页面。

**符合标准的模式**

*   在标准兼容模式下，Web 浏览器假定页面已根据声明的 Web 内容规范编写；不符合声明标准的代码可能无法显示，或者可能显示不正确。
*   要触发 Web 浏览器的标准兼容模式，网页必须具有完整的文档类型声明，包括文档类型定义 (DTD) 的 URI。
*   当触发标准兼容模式时，不同浏览器之间的网页显示差异通常较小，因为在创建 Web 浏览器软件时使用相同的集中式 W3C 规范作为参考。

礼貌这个[链接](http://www.motive.co.nz/glossary/quirks-mode.php)

了解有关**HTML5**的更多信息，单击此[链接](http://www.html5rocks.com/en/)并阅读文章....

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T06:05:28.077

首先，您需要了解 HTML 是什么。HTML 是一种标记语言，用于定义文档，然后可以以可视方式呈现给用户。此渲染通常由 Web 浏览器完成。正因为如此，如果您使用 HTML5 中引入的新标签来生成 HTML 文档，那么使用这些文档的人就必须拥有能够呈现新标准的浏览器。

幸运的是，HTML5 被设计为向后兼容当前使用的几乎所有浏览器。这意味着，除了少数例外，使用新语义标签发布有效的 HTML5 标记通常可供所有用户查看。一些更高级的方面（例如 canvas 元素）在旧版浏览器中无法使用，在发布生产站点之前，您肯定需要对跨浏览器兼容问题进行更广泛的研究。但是，如果您只是想开始，只要您在本地安装了您最喜欢的浏览器的最新版本来进行测试，就可以了。

您需要做的一件事是确保在文档的开头包含正确的 doctype 语句。这是浏览器读取的第一件事，它告诉浏览器期望文档的其余部分采用什么格式。HTML5 文档的第一行应该有以下代码：

```
<!doctype html> 
```

有关如何设置 HTML5 页面以及规范历史的进一步参考，我建议阅读[Dive into HTML5](http://diveintohtml5.info/)，可在超链接地址免费在线获得。

# orm - Amazon Web Services 关系数据库休眠

> ID：11112996
> 
> 赞同：0
> 
> 时间：2012-06-20T04:51:01.547
> 
> 标签：orm, amazon-web-services, amazon-rds

我正在尝试使用 Amazon Web Services，特别是 Amazon Relational Database Service (RDS)。目前我可以创建一个数据库并发送一些 SQL 语句。所以一切正常。

现在我正在寻找与 Amazon RDS 一起使用的 ORM 框架。

有人有好的提议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T23:53:28.987

RDS 与（无论您的 RDS 实例使用哪个数据库）没有任何不同，所以一切都会发生。