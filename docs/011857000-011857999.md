# StackOverflow 问答 11857000-11857999

# magento - 当您单击“注册”时，Magento 会在 Onepage 结帐的 URL 中添加“®ister”

> ID：11857002
> 
> 赞同：1
> 
> 时间：2012-08-08T02:52:12.147
> 
> 标签：magento, checkout, magento-1.7

我一直使用 magento 1.5。在那里，当我在 Onepage 结帐的第一步中单击 REGISTER 时，页面会自动打开表单进行注册，而无需重新加载。

现在我正在使用 magento 1.7 开发一家商店，但我意识到这并不好用。当我进入 Onepage 结帐并单击 REGISTER 时，Magento 重新加载页面，加载表单并在 URL 中添加“& register”，例如：www.domain.com/checkout/onepage/®ister。

我已经尝试了几种方法来禁用重新加载和这个“&注册”..我想像在 magento 1.5 中一样保留这个页面..我还看到 Magento 1.7 中没有这个问题的其他商店。谁能帮我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T07:01:12.297

这是持久模块的原因（从 Magento 1.6 开始）

查看您的模板文件：

```
app/design/frontend/[base/default]/[default/yourTheme]/template/persistent/checkout/onepage/login.phtml 
```

这行代码：

```
<?php if ($this->getQuote()->isAllowedGuestCheckout()): ?>
    <button id="onepage-guest-register-button" type="button" class="button" onclick="checkout.setMethod();"><span><span><?php echo $this->__('Continue') ?></span></span></button>
<?php else: ?>
    <form action="<?php echo $this->getUrl('persistent/index/saveMethod'); ?>">
        <button id="onepage-guest-register-button" type="submit" class="button"><span><span><?php echo $this->__('Register') ?></span></span></button>
    </form>
<?php endif; ?> 
```

查看表单操作 -> 它是使您的页面重新加载的原因

它如何改变模板？

```
app/design/frontend/[base/default]/[default/yourTheme]/layout/persistent.xml 
```

这行代码：

```
<checkout_onepage_index>
    <reference name="checkout.onepage.login">
        <action method="setTemplate"><template>persistent/checkout/onepage/login.phtml</template></action>
        <block type="persistent/form_remember" name="persistent.remember.me" template="persistent/remember_me.phtml" />
    </reference>
    <reference name="checkout.onepage.billing">
        <action method="setTemplate"><template>persistent/checkout/onepage/billing.phtml</template></action>
        <block type="persistent/form_remember" name="persistent.remember.me" template="persistent/remember_me.phtml" />
        <block type="core/template" name="persistent.remember.me.tooltip" template="persistent/remember_me_tooltip.phtml" />
    </reference>
</checkout_onepage_index> 
```

如果你没有使用你的持久化模块，你可以通过改变 app/etc/modules/Mage_Persistent.xml 来禁用它`<active>false</active>`

看起来那个模块已经被巧妙地创建了，所以如果你禁用它，它不会破坏任何东西，虽然我不太确定

另一种方法是更改​​模板，将该行代码更改为：

```
<button type="button" class="button" onclick="checkout.setMethod();"><span><span><?php echo ($this->getQuote()->isAllowedGuestCheckout() ? $this->__('Continue') : $this->__('Register')) ?></span></span></button> 
```

# uitableview - textField 在 UITableView 中出现两次

> ID：11857003
> 
> 赞同：3
> 
> 时间：2012-08-08T02:52:37.763
> 
> 标签：uitableview, uitextfield

我`ageTextField`的`TableViewController`. 我将它添加到第一部分单元格的 subciew 中，但我不知道为什么当我向下滚动时它会显示在另一部分（#3）中。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier];
    }
    // Configure the cell...
    switch (indexPath.section){
        case 0:
        {
            [cell addSubview:self.ageTextField];
        }
        break;
        case 1:
        {
            cell.textLabel.text = [screeningArray objectAtIndex:indexPath.row];
            if (indexPath.row == 0)     //no choice
                cell.accessoryType = self.doneScreening ? UITableViewCellAccessoryNone:UITableViewCellAccessoryCheckmark;
            else                        //yes choice
                cell.accessoryType = self.doneScreening ? UITableViewCellAccessoryCheckmark:UITableViewCellAccessoryNone;
        }
        break;
        case 2:
        {
            cell.textLabel.text = @"1 : ";
            [cell addSubview:self.riskTextField];
        }
        break;
        case 3:
        {
            cell.textLabel.text = [findingsArray objectAtIndex:indexPath.row];
            cell.accessoryType = [[boolValuesArray objectAtIndex:indexPath.row] boolValue] ? UITableViewCellAccessoryCheckmark:UITableViewCellAccessoryNone;
        }
        break;
        default:
        break;
    }
    cell.textLabel.font = [UIFont systemFontOfSize:14];
    return cell;
}

- (BOOL)textFieldShouldReturn:(UITextField *)textField {
    [textField resignFirstResponder];
    return YES;
}

- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {
    NSUInteger newLength = [textField.text length] + [string length] - range.length;
    if (textField == self.ageTextField)
        return (newLength > 2) ? NO : YES;
    else
        return (newLength > 7) ? NO : YES;
} 
```

这是开头的截图..

[http://dl.dropbox.com/u/30838210/Screen%20Shot%202012-08-07%20at%209.26.47%20PM.png](http://dl.dropbox.com/u/30838210/Screen%20Shot%202012-08-07%20at%209.26.47%20PM.png)

向下滚动后，注意 ageTextField 的占位符是如何在 Section3, cell3.. 中复制的。

[http://dl.dropbox.com/u/30838210/Screen%20Shot%202012-08-07%20at%209.27.28%20PM.png](http://dl.dropbox.com/u/30838210/Screen%20Shot%202012-08-07%20at%209.27.28%20PM.png)

再次向上滚动时，section3 中 cell3 的文本出现在第一个单元格中。

dl.dropbox.com/u/30838210/Screen%20Shot%202012-08-07%20at%209.27.52%20PM.png

**这很奇怪，我无法弄清楚发生了什么！请帮忙..**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-08T08:31:40.147

如果重复使用表视图单元格的内容（即，如果单元格！= nil），则必须删除它们。此外，应将子视图添加到表格单元格的 contentView 而不是单元格本身，因此子视图在进入/退出编辑模式时会适当调整。

```
 [cell.contentView addSubview:self.ageTextField];

        [cell.contentView addSubview:self.riskTextField]; 
```

以下代码准备单元以供重用。

```
if (cell == nil)
{
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier];
}
else
{
    // Prepare cell for reuse

    // Remove subviews from cell's contentView
    for (UIView *view in cell.contentView.subviews)
    {
        // Remove only the appropriate views
        if ([view isKindOfClass:[UITextField class]])
        {
            [view removeFromSuperview];
        }
    }
    cell.accessoryType = UITableViewCellAccessoryNone;
    cell.textLabel.text = nil;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:06:16.547

当表格为您提供一个可重用的单元格时，它并不关心它以前在哪个部分中使用过。由于您添加了一个子视图，无论它是一个新单元格还是以前添加了一个子视图的单元格，很有可能获得多个和的各种。

# php - 试图根据百分比得出结果的 PHP 文本游戏

> ID：11857004
> 
> 赞同：0
> 
> 时间：2012-08-08T02:52:45.163
> 
> 标签：php, sql, game-engine

这对我来说真的很难，我已经为此工作了 3 天，并且即将放弃大声笑...... :(

我正在尝试在我的游戏中编写一个基于百分比的结果成功的功能，并且这个百分比需要随着您使用该功能的次数增加而增加。您从 1% 开始，并且大部分时间都会入狱，或者只是无法使用该功能。但是，当你在达到 100% 的情况下做得更多时，你每次都会成功，这是我到目前为止得到的代码。如果有人知道编写此代码的正确方法并将我指向正确的方向，那将非常有帮助，我很确定我必须重新编写其中的大部分内容。如果以这种方式犯罪机会达到 100，它将始终为 1，因此您将始终成功，但必须有更好的方法来使用百分比来做到这一点。

crimechance1 设置为默认值 1，因此它从 1 开始，并且每次你在 100 处执行该功能时都会上升你将始终完成该功能.. 我需要它以百分比工作，尽管示例在 60 时你有 60% 的机会在 80 时通过你有80%的机会通过。

代码更新

```
<?php 
if ($_POST['Commit']){

$radiobutton=$_POST['radiobutton'];

if ($radiobutton == "1"){
$sql = "SELECT * FROM users WHERE id='".mysql_real_escape_string($_SESSION['user_id'])."'";
$query = mysql_query($sql) or die(mysql_error());
$row = mysql_fetch_object($query);
$crimechance1 = htmlspecialchars($row->crime1);

    $crime_chance = 100 / $crimechance1;
    $crimechance1++;

if ($crime_chance == 1){
$result = mysql_query("UPDATE users SET exp='100' WHERE name='$name'") or die(mysql_error());
echo "You passed the Function";
}
else {
echo "You failed the Function";
}

}
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T17:52:53.057

我昨晚发现这个结果效果更好，如果你认为你有更好的结果，请回答

```
$perc = 40;
$rand  = rand(1, 100);
if ($rand <= $perc) {
    //pass
} else {
   //Fail
} 
```

# javascript - 在页面加载时创建/设置活动的默认链接，但在单击其他链接时删除活动的默认链接

> ID：11857005
> 
> 赞同：0
> 
> 时间：2012-08-08T02:52:45.890
> 
> 标签：javascript, jquery

当我输入这个问题时，我注意到类似的问题，但我的方法不同。我确实阅读了它们，但不是我想要做的，但是我确实得到了一些想法。

我的页面上有三个链接（锚标记），我正在使用 JQuery 根据用户单击的链接在链接之间切换一个类。单击该链接后，该链接变为活动状态，并且我添加了 Cookie 以记住用户操作。

我真正想做的是设置第一个链接或链接，例如：ID等于一个；成为默认值。我想要我用来使链接处于活动状态的相同类（activeLink）应用于默认值。当其他人被点击时，该类被移除并且被点击的链接变为活动状态。

这就是我不知道该怎么做。

我的页面是单页。
**HTML：**

```
<ul class="yeahBaby">
<li><a id="one" href="#/">Make me default</a></li>
<li><a id="two" href="#/">Example</a></li>
<li><a id="three" href="#/">Example</a></li>
</ul> 
```

**查询：**

```
$(document).ready(function() {
    var idActive = $.cookie('cookieActive');

    if (idActive) {
        $('#'+idActive).addClass('activeLink');
    }

    $('.yeahBaby li a').click(function() {
        var id = $(this).attr('id');

        $(".yeahBaby li a").removeClass("activeLink");
        $(this).addClass("activeLink");
        $.cookie('cookieActive', id); //Save anchor id as cookie
        $.cookie('cookieActive', id, { expires: 10000}); 
    });
}); 
```

**CSS：**

```
<style type="text/css">
.activeClass{
color: #999;
}
</style> 
```

感谢大家！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T03:51:19.833

`id="one"`在 HTML中将链接设置为默认值。

```
<ul class="yeahBaby">
    <li><a id="one" href="#/">Make me default</a></li>
    <li><a id="two" href="#/">Example</a></li>
    <li><a id="three" href="#/">Example</a></li>
</ul>​​​ 
```

然后在 jQuery 中：

```
// Upon loading the page set default .activeLink
$(window).load(function() {
    // If cookie exists
    if( $.cookie('active') !== null ) {
        // Add .activeLink to last the class in cookie
        $.cookie('active').addClass('activeLink');
    } else {
        // Else set on default
        $('#one').addClass('activeLink');
    }
});

// Bind click event to each anchor in your list
$('.yeahBaby li a').bind('click', function(e) {
    // Remove .activeLink class from current active link
    $('.activeLink').removeClass('activeLink');
    // Add .activeLink to the link just clicked
    $(this).addClass('activeLink');
    // Create cookie
    $.cookie('active', $(this));
    return false;
});​ 
```

在这里查看它的实际效果：[JSFiddle](http://jsfiddle.net/AcQsc/1/)

- 更新 -

[使用jQuery $.cookie 插件](https://github.com/carhartl/jquery-cookie/)添加 cookie 见上文。

# android - 在模拟器中启用 Android 网络摄像头

> ID：11857006
> 
> 赞同：15
> 
> 时间：2012-08-08T02:52:50.327
> 
> 标签：android, emulation

海我是安卓新手。我正在使用 Android4 sdk。我无法在 Android 模拟器中启用网络摄像头。谁能告诉如何启用它。谢谢。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-08-08T03:27:07.487

有一种方法可以使用 Android 虚拟设备管理器。您需要编辑您的 AVD，以便在硬件部分“配置正面摄像头”或“配置背面摄像头”可用。这些属性的一个（但不是两个）值应设置为“webcam0”（或任何可用的值）。然后启动您的虚拟设备并将您的网络摄像头用作模拟摄像头。

如果您将这两个属性都设置为“webcam0”，那么当您启动虚拟设备时会收到警告，并且相机应用程序中的前/后控件将不可用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-08T03:11:00.947

使用模拟器帮助探索可用选项

```
$ emulator -help 2>&1 | grep cam
    -camera-back <mode>            set emulation mode for a camera facing back
    -camera-front <mode>           set emulation mode for a camera facing front
    -webcam-list                   lists web cameras available for emulation 
```

例如，用于`-webcam-list`列出已识别的相机

```
$ emulator -webcam-list @4.1
List of web cameras connected to the computer:
 Camera 'webcam0' is connected to device '/dev/video0' on channel 0 using pixel format 'YUYV' 
```

查看相机的仿真选项

```
$ emulator -camera-front help @4.1
emulator: ERROR: Invalid value for -camera-front <mode> parameter: help
Valid values are: 'emulated', 'webcam<N>', or 'none' 
```

# javascript - .val() 当网页动态编辑源 html 时选择文本而不是值字符串

> ID：11857008
> 
> 赞同：-4
> 
> 时间：2012-08-08T02:52:58.580
> 
> 标签：javascript, jquery

我在网页上有这个 html：

```
<select name="chapter_select" class="chapter_select">
<option value="http://www.example.com/chapter/1">Chapter 1</option>
<option value="http://www.example.com/chapter/2">Chapter 2</option>
<option value="http://www.example.com/chapter/3">Chapter 3</option>
<option value="http://www.example.com/chapter/4">Chapter 4</option>
<option value="http://www.example.com/chapter/5">Chapter 5</option>
<option value="http://www.example.com/chapter/6" selected="selected">Chapter 6</option>
</select> 
```

而这个变量：

```
getInformationsFromCurrentPage : function(doc, curUrl, callback) {
//This function runs in the DOM of the current consulted page
var curChapName = $("select.chapter_select:first option:selected", doc).text();
var chapurl = $("select.chapter_select:first option:selected", doc).val();
callback({"name": name, 
        "currentChapter": curChapName, 
        "currentMangaURL": nameurl, 
        "currentChapterURL": chapurl});
},
} 
```

问题是两者都返回相同的文本值。chapurl 应该返回 url，而不是文本值。这一直有效，直到网站修改了他们的网站。

我知道我会很挑剔，但这是开发扩展的手册，并且 doc 变量是必须的[http://www.allmangasreader.com/dev.php](http://www.allmangasreader.com/dev.php)只需注意 getInformationsFromCurrentPage 函数。它使用的是 jQuery 1.4.2，所以可能就是这样，奇怪的是其他网站也可以正常工作。

更新：服务器正在使用脚本（重写 html）让我认为下拉列表在顶部。我使用了一些选择器来获取源代码之后的正确选择器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T02:59:40.463

```
var curChapName = $("select.chapter_select:first option:selected", doc).text();
var chapurl = $("select.chapter_select:first option:selected", doc).val(); 
```

这项工作[http://jsfiddle.net/](http://jsfiddle.net/)所以你的 doc 变量一定有问题，请检查它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:53:48.463

```
var curChapName = $("select.chapter_select:first :selected").text()
var chapurl = $("select.chapter_select:first").val() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T03:19:04.467

总是可以使用后备并使用[attr](http://api.jquery.com/attr/)。这样，您始终可以保证您将获得价值。

```
var chapval = $("select.chapter_select:first option:selected").attr('value'); 
```

[http://jsfiddle.net/dt5PV/](http://jsfiddle.net/dt5PV/)

# javascript - 有人可以告诉我如何调试这个 html 表单/javascript 组合吗？

> ID：11857009
> 
> 赞同：0
> 
> 时间：2012-08-08T02:52:58.783
> 
> 标签：javascript, html, google-maps

我正在尝试使用 Google Maps API，并且正在尝试做一个准系统方向应用程序。该表单调用 calcRoute() 函数，使用警报，我可以看到*确实*定义了正确的“开始”和“结束”变量。然而，页面只是重新加载，表单被清除并且地图没有改变。对于我的生活，我无法弄清楚出了什么问题。有没有人看到任何明显的东西/可能导致问题的原因？谢谢！

另外，显然我很讨厌 stackoverflow 降价，所以这里有一个 pastebin 链接：[http://pastebin.com/BMThntPz](http://pastebin.com/BMThntPz)

```
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Maps script -->
    <script type="text/javascript" <google maps api> </script>
    <script type="text/javascript">
      var directionDisplay;
      var directionsService = new google.maps.DirectionsService();
      var map;

      function initialize() {
        directionsDisplay = new google.maps.DirectionsRenderer();
        var philadelphia = new google.maps.LatLng(39.9522, -75.1642);
        var mapOptions = {
          center: philadelphia,
          zoom: 7,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          disableDefaultUI: true,
        };
        map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
        directionsDisplay.setMap(map);
      }

      function calcRoute() {
        var start = document.getElementById('start').value;     
        var end = document.getElementById('end').value;
        var request = {
          origin:start,
          destination:end,
          travelMode: google.maps.DirectionsTravelMode.DRIVING,
        };
        directionsService.route(request, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {
            directionsDisplay.setDirections(response);
          }
        });
      }
    </script>
  </head>

  <body onload="initialize()">
    <div class="container" style="height: 100%">
      <div>
      <form class="form-horizontal" onsubmit="return calcRoute()">
          <input type="text" class="input-xlarge" id="start">
          <input type="text" class="input-xlarge" id="end">
        <input class="btn" type="submit" value="Let's go!">
      </form> <!-- /trip info -->
    </div> 

    <div>
      <div id="map_canvas" ></div>
    </div> 

    </div> <!-- /container -->
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:26:46.167

有一个很棒的截屏视频，展示了如何使用 Chrome 开发者工具调试 Maps API： [http ://www.youtube.com/watch?v=nb4gvrNrDWw&feature=player_embedded](http://www.youtube.com/watch?v=nb4gvrNrDWw&feature=player_embedded)

# c# - 在选定的列表视图项中获取图像？

> ID：11857015
> 
> 赞同：1
> 
> 时间：2012-08-08T02:54:08.673
> 
> 标签：c#, winforms, listview, visual-c#-express-2010

这是我正在使用的，但出现错误：

```
private void listView1_DoubleClick(object sender, EventArgs e)
{
    foreach (ListViewItem itm in listView1.SelectedItems)
    {
        pictureBox1.Image = System.Drawing.Image.FromFile(itm.SubItems[1].Text);
    }
} 
```

我得到：`InvalidArgument=Value of '1' is not valid for 'index'. Parameter name: index`

我该如何解决这个问题？

这就是我用图像列表中的图像填充列表视图的方式（添加到属性项集合中）

```
for (int j = 0; j < this.imageList1.Images.Count; j++)
        {
            ListViewItem item = new ListViewItem();
            item.ImageIndex = j;
            this.listView1.Items.Add(item);
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:13:01.613

您 listViewItems 只有 1 个子项，似乎是空字符串（这不是有效路径）。

ImageList 不保留图像的路径信息。相反，它创建了一个嵌入在可执行文件中的副本。

试试这个代码：

```
private void listView1_DoubleClick(object sender, EventArgs e)
{
    foreach (ListViewItem itm in listView1.SelectedItems)
    {
        int imgIndex = itm.ImageIndex;
        if ( imgIndex >= 0 && imgIndex < this.imageList1.images.Count)
        {
            pictureBox1.Image = this.imageList1.images[imgIndex];
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:06:03.583

`InvalidArgument=Value of '1' is not valid for 'index'. Parameter name: index'`是您在 SubItems 集合中提供无效索引时会出现的错误。您可能没有超过 1 个子项。尝试将您的代码更改为：

```
private void listView1_DoubleClick(object sender, EventArgs e)
{
    foreach (ListViewItem itm in listView1.SelectedItems)
    {
        pictureBox1.Image = System.Drawing.Image.FromFile(itm.SubItems[0].Text);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-05T05:45:15.607

这段代码对我有用：D

私人无效listView1_DoubleClick（对象发送者，EventArgs e）{

```
 if (listView1.SelectedItems.Count > 0)
        {
            var item = listView1.SelectedItems[0];
            var img = item.ImageList.Images[item.ImageIndex];

            pictureBox1.Image = img;

        }
    } 
```

# ajax - 用 .txt 替换 div 值

> ID：11857018
> 
> 赞同：-1
> 
> 时间：2012-08-08T02:54:39.067
> 
> 标签：ajax

我正在尝试替换 span 中数据的值

```
.ajax ({
.
.
.
success: function(data){
                $("#ID1").html(data[0]);
                $("#ID2").val(data[1]);
                }
            });
<span id ='ID1'>test</span>
<input id = 'ID2'> 
```

返回数据是 [["abc"],["def"]] 使用 json_encode ID1 没有将测试更改为 abc 而 ID2 的值能够更改为 def 有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T02:59:29.147

使用`$("#ID1").html(data[0])`代替 `$("#ID1").val(data[0]);`

# .htaccess - .htaccess 强制 404 并阻止目录列表

> ID：11857020
> 
> 赞同：1
> 
> 时间：2012-08-08T02:54:55.717
> 
> 标签：.htaccess, ubuntu, apache2, http-status-code-404

如果有人尝试访问我的根目录 (/var/www) 中的任何目录（只要目录名称包含 .git），是否可以强制执行 404 错误？

即如果有人试图访问`http://mysite.com/site.git`，它会显示一个404页面？

此外，如何防止在同一文件中列出目录？

我正在使用 Apache/2.2.22 (Ubuntu)。

谢谢，

最大限度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T02:58:59.090

使用 mod_rewrite，您可以将这些规则放在文档根目录的 htaccess 文件中：

```
RewriteEngine On
RewriteRule \.git$ - [R=404,L] 
```

或者，您可以将括号替换为 a`[F,L]`以返回 403 Forbidden。

# c - Systrace 1.6f 编译错误

> ID：11857021
> 
> 赞同：0
> 
> 时间：2012-08-08T02:54:58.653
> 
> 标签：c, gcc

我正在尝试在 Ubuntu 12.04 32 位版本上编译 Systrace-1.6f。我发现以下错误。

```
root@sharma-VM:/home/sharma/Desktop/systrace-1.6f# make
使所有递归
make[1]: 进入目录`/home/sharma/Desktop/systrace-1.6f'
全力以赴。
make[2]: 进入目录`/home/sharma/Desktop/systrace-1.6f'
gcc -DHAVE_CONFIG_H -I。-Wall -c systrace-translate.c
在 systrace-translate.c:54:0 包含的文件中：
linux_fcntl.h:90:2: 错误: 未知类型名称 'linux_off_t'
linux_fcntl.h:91:2: 错误: 未知类型名称 'linux_off_t'
linux_fcntl.h:92:2: 错误: 未知类型名称 'linux_pid_t'
linux_fcntl.h:98:9: 错误: 未知类型名称 'linux_loff_t'
linux_fcntl.h:99:9: 错误: 未知类型名称 'linux_loff_t'
linux_fcntl.h:100:9: 错误: 未知类型名称 'linux_pid_t'
make[2]: *** [systrace-translate.o] 错误 1
make[2]: 离开目录`/home/sharma/Desktop/systrace-1.6f'
make[1]: *** [all-recursive] 错误 1
make[1]: 离开目录`/home/sharma/Desktop/systrace-1.6f'
make: *** [全部] 错误 2

```

请建议我解决上述错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:50:54.470

这个关于特定程序的问题太具体了，无法在 SO 上提出。但是我遇到了同样的问题，这就是我发现它的方式。

grep 是你的帮手！你可以`grep -rsli linux_off_t`找出它在`linux_types.h`. 另一个问题为什么它不起作用，但如果您只想更进一步，请插入以下行

```
#undef _LINUX_TYPES_H
#include "linux_types.h" 
```

开头的某处`linux_fcntl.h`。

然后你会遇到另一个问题。`cs`用替换所有引用`xcs`。自从我上次使用汇编程序以来，我花了一段时间。所以我不知道现在这个寄存器是不是这样称呼的，但这就是我`struct user_regs_struct`在`/usr/include/i386-linux-gnu/sys/user.h`.

尽管如此，它仍然没有通过第二次回归测试。

systrace 已经有一段时间没有更新了，可能与 3.x 内核不完全兼容。虽然我不是内核专家。

# android - 片段实现 OnClickListener

> ID：11857022
> 
> 赞同：19
> 
> 时间：2012-08-08T02:55:04.803
> 
> 标签：android, android-fragments, onclicklistener

我有一个正在现代化的应用程序。此过程的一个步骤是更改为基于片段的布局（使用支持库中的片段）。我将我的活动转换为片段，并且布局运行良好（使用 ViewPager，很酷的东西！）

我让我的活动实现 OnClickListener 来满足我所有的按钮按下需求。当然，我有新的 Fragment 化身做同样的事情，但看起来“onClick”永远不会受到打击。Fragments 是否有什么特别之处阻止它们以这种方式工作？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-02-19T06:31:33.367

只做一个

```
public class fragmentOne extends Fragment implements OnClickListener {
    Button myButton;

    @Override
    public View OnCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedinstanceState) {
        View myView = inflater.inflate(R.layout.fragment_1, container, false);
        myButton = (Button) myView.findViewById(R.id.myButton);
        myButton.setOnClickListener(this);
        return myView;
    }

    @Override
    public void onClick(View v) {
        // implements your things
    }
} 
```

很简单

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2015-04-20T07:08:32.980

> 我将重点使用 OnClick 操作进行全局访问，您必须这样做是您的项目，必须实现**View.OnClickListener**，然后覆盖方法 **OnClick()**，在**OnCreateView()**中必须这样做**button_submit.setOnClickListener(这个）;** 对于您需要的视图，请参阅下面的代码以获得明确的答案，谢谢。

```
public class New_Project extends Fragment implements View.OnClickListener{
private View mView;
private Button button_submit;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    mView = inflater.inflate(R.layout.fragment_newproject, container,false);
    button_submit=(Button)mView.findViewById(R.id.button_submit);
    button_submit.setOnClickListener(this);
    return mView;
}

@Override
public void onClick(View v) {
    switch (v.getId()) {
        case R.id.button_submit:
            //do your stuff
            break;
    }
} 
```

}

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-03-27T08:20:40.517

我想评论 Abhijit Chakra 的答案，但似乎我需要 50 次代表。对于那些想知道您是否不能使用 Abhijit 答案的人，这是因为：

```
public void OnClick(View v) {
    // implements your things
} 
```

您需要确保它是 onClick，而不是 OnClick。谢天谢地，Android Studio 内部错误消息来救援。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-08-12T07:02:03.890

```
view.setOnLongClickListener(new View.OnLongClickListener() {
  @Override
  public boolean onLongClick(View v) {
    switch (v.getId()) {
      case R.id.imgView1:
        Toast.makeText(getActivity(), "Long pressing", Toast.LENGTH_SHORT).show();
        updateImage();
        break;
      case R.id.imgView2:
        Toast.makeText(getActivity(), "Long pressing", Toast.LENGTH_SHORT).show();
        updateImage();
        break;
      case R.id.imgView3:
        Toast.makeText(getActivity(), "Long pressing", Toast.LENGTH_SHORT).show();
        updateImage();
        break;
      default:
        break;
    } 
```

# java - zookeeper 防止 WebLogic 完全关闭

> ID：11857025
> 
> 赞同：0
> 
> 时间：2012-08-08T02:55:39.057
> 
> 标签：java, linux, jvm, weblogic, apache-zookeeper

所以我有一个我最近包含 zookeeper 的 java 应用程序。这个应用程序部署在 WebLogic 11g 服务器上。由于使用 zookeeper，当我运行 stopWebLogic.sh 关闭服务器时，WebLogic 服务器进入 SHUTDOWN 模式，但 WLS JVM 进程继续运行。我几乎可以肯定 zookeeper 会以某种方式阻止 JVM 宕机。

所以我的问题是，当我尝试关闭 WebLogic 时，如何强制 ZooKeeper 被杀死 100%。

在 stopWebLogic.sh 作为第一行，我输入以下行：

回声杀| 数控 127.0.0.1 2181

但是它不起作用，并且在 WLS 关闭后 JVM 仍在运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:20:33.357

ZooKeeper 有一个相关的错误。会不会是这样：

[https://issues.apache.org/jira/browse/ZOOKEEPER-846](https://issues.apache.org/jira/browse/ZOOKEEPER-846)

此外，如果可能，请考虑查看 ZooKeeper 的 Netflix Curator：
[https ://github.com/netflix/curator](https://github.com/netflix/curator)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-16T01:30:43.190

解决方案是更改以下 stopWebLogic.sh 脚本行

```
echo "shutdown('${SERVER_NAME}','Server', ignoreSessions='true')" >>"shutdown.py" 
```

到

```
echo "shutdown('${SERVER_NAME}','Server', force='true', ignoreSessions='true')" >>"shutdown.py" 
```

在 WLS 处于 SHUTDOWN 模式后大约 10 秒后，JVM 现在将消失。

# sitecore - Sitecore 未注册目标

> ID：11857032
> 
> 赞同：1
> 
> 时间：2012-08-08T02:56:16.770
> 
> 标签：sitecore, sitecore6, sitecore-dms

我正在运行 Sitecore 6.5 rev。120706 与 DMS 2.0.1 版本。120706\. Sitecore 未记录访问者达到的目标。日志显示

> 注册期间出现错误异常：System.Data.StrongTypingException：表“AutomationStates”中列“LastAccessedDateTime”的值为 DBNull。

检查 SQL Server 行中的 LastAccessedDateTime 列没有被填充：

![在此处输入图像描述](../Images/1c459a14cf9ad87cf7d91339a399b748.png)

是否有任何已知的解决方法或通过代码填充此数据的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T10:34:56.623

查看我们的安装`[AutomationStates].[LastAccessedDateTime]`被标记为允许`Nulls`。您可以尝试下载一个干净的 Analytics 数据库，为两者生成创建脚本并运行差异工具来查看您的数据库损坏的位置。

DMS201 的更新脚本不包含对 的任何引用`LastAccessedDateTime`，因此它必须来自之前的更新。

# wcf - WCF：尝试使用自签名证书和“PeerTrust”设置双向相互 SSL 身份验证

> ID：11857039
> 
> 赞同：4
> 
> 时间：2012-08-08T02:57:22.180
> 
> 标签：wcf, ssl, certificate

我正在尝试使用相互 SSL 身份验证在同一台机器上设置 WCF 服务和客户端。

我有：

*   为服务器和客户端创建证书并将它们放在 LocalMachine 证书存储中。服务器和客户端私钥在“个人”存储中，而公钥在“受信任的人”存储中。

*   我已经配置了一个 WCF 服务和客户端，每个服务和客户端都从商店中指定了自己的证书引用，并且还设置了要验证的其他方证书引用

`<authentication certificateValidationMode="PeerTrust" trustedStoreLocation="LocalMachine" />`

注意：服务器证书颁发给Machine name，客户端调用的服务url为'https:\tokenservice\tokenservice.svc

使用此配置，我希望客户端安全地连接到服务，任一端解析来自“受信任的人”存储的证书，但我收到以下错误，表明证书验证失败：

[AuthenticationException：根据验证程序，远程证书无效。]

所以这并没有像我预期的那样工作。任何人都可以指出任何错误吗？还是我的期望不正确？

WCF 配置如下：

```
 <?xml version="1.0"?>
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>
  <system.serviceModel>
    <bindings>
      <wsHttpBinding>
        <binding name="CertificateForClient">
          <security mode="Transport">
            <transport clientCredentialType="Certificate"/>
          </security>
        </binding>
      </wsHttpBinding>
    </bindings>
    <behaviors>
      <serviceBehaviors>
        <behavior name="CertificateBehaviour">
          <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
          <serviceMetadata httpGetEnabled="true"/>
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="true"/>
          <serviceCredentials>
            <clientCertificate>
              <authentication certificateValidationMode="PeerTrust"
                              trustedStoreLocation="LocalMachine" />
            </clientCertificate>
            <serviceCertificate findValue="CN='ServerCertificate which is machine name'"
            storeLocation="LocalMachine" storeName="My"
            x509FindType="FindBySubjectDistinguishedName" />
          </serviceCredentials>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <services>
      <service name="TokenService.TokenService" behaviorConfiguration="CertificateBehaviour">
        <endpoint contract="TokenService.ITokenService"
            binding="wsHttpBinding" />
        <endpoint contract="IMetadataExchange"
            binding="mexHttpBinding" address="mex">
        </endpoint>
        <host>
          <baseAddresses>
            <add baseAddress="https://tokenservice" />
          </baseAddresses>
        </host>
      </service>
    </services>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
  </system.serviceModel>
 <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>

</configuration> 
```

客户端配置：

```
 <system.serviceModel>
<behaviors>
  <endpointBehaviors>
    <behavior name="ClientBehaviour">
      <clientCredentials>
        <clientCertificate storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" findValue="CN=TokenClient"/>
        <serviceCertificate>
          <authentication certificateValidationMode="PeerTrust" trustedStoreLocation="LocalMachine"></authentication>
        </serviceCertificate>
      </clientCredentials>
    </behavior>
  </endpointBehaviors>
</behaviors>
<bindings>
  <wsHttpBinding>
    <binding name="ClientBinding">
      <security mode="Transport">
        <transport clientCredentialType="Certificate"/>
      </security>
    </binding>
  </wsHttpBinding>
</bindings>
<client>
  <endpoint address="https://tokenservice/TokenService.svc"
    behaviorConfiguration="ClientBehaviour"
    binding="wsHttpBinding" bindingConfiguration="ClientBinding"
    contract="TokenService.ITokenService" name="ToolClient">
    <identity>
      <dns value="MachineName" />
    </identity>
  </endpoint>
</client> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-28T07:45:05.087

当使用双向 SSL 在传输层完成身份验证时，PeerTrust 和 ChainTrust 提供的内置授权不起作用。

老实说，PeerTrust 在许多情况下并不能控制所需的授权过程。

解决此问题的一种非常常见的方法是插入自定义 ServiceAuthorizationManager 并覆盖其 OnAccess 方法。

```
<behavior name="ServerCertificateBehavior">
  <serviceCredentials>
    <serviceCertificate ....  />
  </serviceCredentials>
  <serviceAuthorization serviceAuthorizationManagerType="MyCustomCertificateAuthorizationManager, MyWCFExtensions.Security" />
</behavior> 
```

ServiceAuthorizationManager 可以在几行代码中完成，用于非常静态的简单证书检查，或者根据需要进行更复杂的检查。

希望这个简单的概念验证可以帮助您入门：

```
public class MyCustomCertificateAuthorizationManager : ServiceAuthorizationManager
{

    public override bool CheckAccess(OperationContext operationContext, ref Message message)
    {
        base.CheckAccess(operationContext, ref message);
        string action = operationContext.IncomingMessageHeaders.Action;

        List<string> approvedActions = new List<string> 
        { 
            "http://kramerica.lan/namespace/MySpecialMethod",
            "http://kramerica.lan/namespace/AnotherMethod"
        };

        List<string> approvedThumbprints = new List<string> 
        { 
            "‎1aaffe105b31b79b66c31de3389203d42351683a",
            "‎f1bcfbc6383bcbfa736473bcaf109987bbc2121a"
        };

        //One way is do the authorization based on the action if the endpoint is used for more than one operation with different ACL needs
        if (approvedActions.Contains(action))
        {
            foreach (ClaimSet claimSet in OperationContext.Current.ServiceSecurityContext.AuthorizationContext.ClaimSets)
            {
                X509CertificateClaimSet certificateClaimSet = claimSet as X509CertificateClaimSet;
                if (certificateClaimSet != null)
                {
                    //Get the actual certificate used by the client
                    X509Certificate2 certificate = certificateClaimSet.X509Certificate;

                    //Here a real validation of certificate issuer chain etc. could be made
                    if (certificate != null)
                    {
                        //This proof-of-concept does authorization based on a static list of thumbprints but about anything os possible here.
                        //One could easily check if this certificate
                        //is present in the TrustedPeople store or some database backend
                        if (approvedThumbprints.Contains(certificate.Thumbprint))
                            return true;
                    }
                }
            }
        }
        return false;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-10T13:38:42.193

服务的基本 URL 应该是服务器证书名称。

例如：

> 如果我的服务器证书名称是 test.cer，那么我的服务 URL 应该是[https://test/MyService/MyService.svc](https://test/MyService/MyService.svc)。

这是您设置服务的方式吗？

# ruby-on-rails - Rspec 测试嵌套资源的正确方法

> ID：11857044
> 
> 赞同：0
> 
> 时间：2012-08-08T02:57:44.600
> 
> 标签：ruby-on-rails, ruby, rspec

想象一下我有这样的路线：

```
resource :users do
  resource :projects
do 
```

项目.rb

```
...
belongs_to :users
... 
```

用户.rb

```
...
has_many :projects
... 
```

如果我想为 Project 创建 rspec 测试，我会在没有 User 的情况下单独测试 Project 吗？理论上永远不会有没有用户的项目，因为用户创建了一个项目。像这样的东西：

project_spec.rb

```
...
  it "is created by a user"
... 
```

或者

user_spec.rb

```
...
it "create a project"
... 
```

如果我想对用户创建项目进行测试，我会在 user_spec 中还是在 project_spec 中进行测试？或两者？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:57:17.737

我通常使用模拟来隔离和提高速度。这些规范只测试到用户对象的边界，并且不会触及数据库或对项目模型做任何实际的事情。他们测试*行为*而不是*状态*。

（以下使用 RSpec 2.11 特性）

```
describe User do
  let(:project){ mock_model(Project) }

  subject(:user){ User.new(:project => project) }

  it "does something with a project" do
    project.should_receive(:some_method_call).and_return(:a_value)
    user.do_something
  end

end

describe User do
  let(:fake_project_class) { Class.new }
  let(:project){ double('a_project') }

  subject(:user){ User.new }

  before(:each) do
    stub_const("Project", fake_project_class)
  end

  it "creates a project" do
    Project.should_receive(:new).and_return(project)
    user.make_me_a_project!
  end
end 
```

# c++ - 结构中的 CUDA 设备函数指针，没有静态指针或符号副本

> ID：11857045
> 
> 赞同：2
> 
> 时间：2012-08-08T02:57:45.330
> 
> 标签：c++, cuda, gpu

如果可能的话，我的预期程序流程如下所示：

```
typedef struct structure_t
{
  [...]
  /* device function pointer. */
  __device__ float (*function_pointer)(float, float, float[]);
  [...]
} structure;

[...]

/* function to be assigned. */
__device__ float
my_function (float a, float b, float c[])
{
  /* do some stuff on the device. */
  [...]
}

void
some_structure_initialization_function (structure *st)
{
  /* assign. */
  st->function_pointer = my_function;
  [...]
} 
```

这是不可能的，并且在编译过程中会出现一个熟悉的错误，即 __device__ 在结构中的位置。

```
 error: attribute "device" does not apply here 
```

在 stackoverflow 上有一些类似类型问题的示例，但它们都涉及在结构外使用静态指针。示例是[作为结构成员](https://stackoverflow.com/questions/11102945/device-function-pointers-as-struct-members)的设备函数指针和[设备函数指针](https://stackoverflow.com/questions/9000388/device-function-pointers)。我之前在其他代码中采用了类似的方法并取得了成功，我很容易使用静态设备指针并在任何结构之外定义它们。目前虽然这是一个问题。它被编写为各种 API，用户可以定义一个或两个或几十个需要包含设备函数指针的结构。因此，在结构之外定义静态设备指针是一个主要问题。

我相当肯定答案存在于我上面链接的帖子中，通过使用符号副本，但我无法成功使用它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T13:33:32.213

您尝试做的事情*是*可能的，但是您在声明和定义将保存和使用函数指针的结构的方式上犯了一些错误。

> 这是不可能的，并且在编译过程中会出现一个熟悉的错误，即 __device__ 在结构中的位置。
> 
> ```
>  error: attribute "device" does not apply here 
> ```

这只是因为您试图将内存空间分配给结构或类数据成员，这在 CUDA 中是非法的。所有类或结构数据成员的内存空间都是在定义或实例化类时隐式设置的。所以有些东西只是略有不同（更具体）：

```
typedef float (* fp)(float, float, float4);

struct functor
{
    float c0, c1;
    fp f;

    __device__ __host__
    functor(float _c0, float _c1, fp _f) : c0(_c0), c1(_c1), f(_f) {};

    __device__ __host__
    float operator()(float4 x) { return f(c0, c1, x); };
};

__global__
void kernel(float c0, float c1, fp f, const float4 * x, float * y, int N)
{
    int tid = threadIdx.x + blockIdx.x * blockDim.x;

    struct functor op(c0, c1, f);
    for(int i = tid; i < N; i += blockDim.x * gridDim.x) {
        y[i] = op(x[i]);
    }
} 
```

是完全有效的。当在设备代码中实例化的实例时，函数指针`fp`in`functor`隐含地是一个`__device__`函数。`functor`如果它在宿主代码中实例化，则函数指针将隐含地成为宿主函数。在内核中，作为参数传递的设备函数指针用于实例化`functor`实例。都是完全合法的。

我相信我说没有直接的方法可以`__device__`在主机代码中获取函数的地址是正确的，因此您仍然需要一些静态声明和符号操作。这在 CUDA 5 中*可能*有所不同，但我还没有测试过。如果我们用几个`__device__`函数和一些支持主机代码来充实上面的设备代码：

```
__device__ __host__ 
float f1 (float a, float b, float4 c)
{
    return a + (b * c.x) +  (b * c.y) + (b * c.z) + (b * c.w);
}

__device__ __host__
float f2 (float a, float b, float4 c)
{
    return a + b + c.x + c.y + c.z + c.w;
}

__constant__ fp function_table[] = {f1, f2};

int main(void)
{
    const float c1 = 1.0f, c2 = 2.0f;
    const int n = 20;
    float4 vin[n];
    float vout1[n], vout2[n];
    for(int i=0, j=0; i<n; i++) {
        vin[i].x = j++; vin[i].y = j++;
        vin[i].z = j++; vin[i].w = j++;
    }

    float4 * _vin;
    float * _vout1, * _vout2;
    size_t sz4 = sizeof(float4) * size_t(n);
    size_t sz1 = sizeof(float) * size_t(n);
    cudaMalloc((void **)&_vin, sz4);
    cudaMalloc((void **)&_vout1, sz1);
    cudaMalloc((void **)&_vout2, sz1);
    cudaMemcpy(_vin, &vin[0], sz4, cudaMemcpyHostToDevice);

    fp funcs[2];
    cudaMemcpyFromSymbol(&funcs, "function_table", 2 * sizeof(fp));

    kernel<<<1,32>>>(c1, c2, funcs[0], _vin, _vout1, n);
    cudaMemcpy(&vout1[0], _vout1, sz1, cudaMemcpyDeviceToHost); 

    kernel<<<1,32>>>(c1, c2, funcs[1], _vin, _vout2, n);
    cudaMemcpy(&vout2[0], _vout2, sz1, cudaMemcpyDeviceToHost); 

    struct functor func1(c1, c2, f1), func2(c1, c2, f2); 
    for(int i=0; i<n; i++) {
        printf("%2d %6.f %6.f (%6.f,%6.f,%6.f,%6.f ) %6.f %6.f %6.f %6.f\n", 
                i, c1, c2, vin[i].x, vin[i].y, vin[i].z, vin[i].w,
                vout1[i], func1(vin[i]), vout2[i], func2(vin[i]));
    }

    return 0;
} 
```

您将获得一个完全可编译且可运行的示例。这里有两个`__device__`函数和一个静态函数表为宿主代码`__device__`在运行时检索函数指针提供了一种机制。每个函数调用一次内核并显示结果，以及从*主机*代码（并因此在主机上运行）`__device__`实例化和调用的完全相同的仿函数和函数以进行比较：

 *```
$ nvcc -arch=sm_30 -Xptxas="-v" -o function_pointer function_pointer.cu 

ptxas info    : Compiling entry function '_Z6kernelffPFfff6float4EPKS_Pfi' for 'sm_30'
ptxas info    : Function properties for _Z6kernelffPFfff6float4EPKS_Pfi
    16 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _Z2f1ff6float4
    24 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _Z2f2ff6float4
    24 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 16 registers, 356 bytes cmem[0], 16 bytes cmem[3]

$ ./function_pointer 
 0      1      2 (     0,     1,     2,     3 )     13     13      9      9
 1      1      2 (     4,     5,     6,     7 )     45     45     25     25
 2      1      2 (     8,     9,    10,    11 )     77     77     41     41
 3      1      2 (    12,    13,    14,    15 )    109    109     57     57
 4      1      2 (    16,    17,    18,    19 )    141    141     73     73
 5      1      2 (    20,    21,    22,    23 )    173    173     89     89
 6      1      2 (    24,    25,    26,    27 )    205    205    105    105
 7      1      2 (    28,    29,    30,    31 )    237    237    121    121
 8      1      2 (    32,    33,    34,    35 )    269    269    137    137
 9      1      2 (    36,    37,    38,    39 )    301    301    153    153
10      1      2 (    40,    41,    42,    43 )    333    333    169    169
11      1      2 (    44,    45,    46,    47 )    365    365    185    185
12      1      2 (    48,    49,    50,    51 )    397    397    201    201
13      1      2 (    52,    53,    54,    55 )    429    429    217    217
14      1      2 (    56,    57,    58,    59 )    461    461    233    233
15      1      2 (    60,    61,    62,    63 )    493    493    249    249
16      1      2 (    64,    65,    66,    67 )    525    525    265    265
17      1      2 (    68,    69,    70,    71 )    557    557    281    281
18      1      2 (    72,    73,    74,    75 )    589    589    297    297
19      1      2 (    76,    77,    78,    79 )    621    621    313    313 
```

如果我正确理解了您的问题，那么上面的示例应该为您提供了在设备代码中实现您的想法所需的几乎所有设计模式。*

# java - 关于启动守护进程的脚本

> ID：11857048
> 
> 赞同：0
> 
> 时间：2012-08-08T02:58:51.027
> 
> 标签：java, daemon, daemons

我对守护进程和 java 很陌生，并且刚刚获得了以下用于运行守护进程的脚本。我大致可以理解这个脚本的结构。但我有几个问题：

“Install”、“StdOutput”、“StartClass”和“StartMode”在这里是什么意思？在我看来“Install”是一个操作，“StdOutput”是一个文件名；而“StartClass”只是一个java类文件。而这个脚本只是这些信息的一个列表。我的理解正确吗？

```
commons-daemon-1.0.8-bin-windows\prunsrv.exe//AB/TestService   
--Classpath="D:\TESTFOLDER\TestService.jar;D:\TESTFOLDER\;D:\TESTFOLDER\lib\weka.jar; 
" --LogPath="d:\TESTFOLDER\logs\testprocess.log" --Install="d:\TESTFOLDER\commons-
 daemon-1.0.8-bin-windows\prunsrv.exe" --StdOutput="d:\TESTFOLDER\logs\std.out" 
--StartClass="com.Group.TestService" --StartMode=Java --JavaHome="c:\Program Files\Java
\jdk1.6.0_02" --Jvm="c:\Program Files\Java\jdk1.6.0_02\jre\bin\jvm.dll" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:30:49.890

以下页面应该可以帮助您： [http ://commons.apache.org/daemon/procrun.html](http://commons.apache.org/daemon/procrun.html)

它解释了 procrun 是什么以及每个命令行参数是什么。即`--StdOutput`： *重定向的标准输出文件名。如果在 LogPath 中创建名为 service-stdout.YEAR-MONTH-DAY.log 的命名自动文件。*

# javascript - MVVM UI 集成心智块

> ID：11857050
> 
> 赞同：-1
> 
> 时间：2012-08-08T02:58:57.000
> 
> 标签：javascript, mvvm, design-patterns, module-pattern

我一直在“尝试”创建一个良好的可靠框架来在 html 空间中构建企业应用程序（转换为 silverlight 应用程序）。

我喜欢 MVVM 模式的想法，这让我在 javascript 世界中感觉更加自在。我的思维障碍是将所有基于 UI 的逻辑锁定到 ViewModel 中。大部分应用程序将被拆分为许多“单页应用程序”，这些应用程序只是列出 -> 详细信息（而不是重复）。

当涉及到执行客户端 DOM 操作（例如隐藏、显示元素、动画等）或客户端路由（sammyjs 到客户端在列表和详细信息之间导航）时，我不知道应该把它放在哪里。这一切都应该在视图模型中吗？在视图模型的单独脚本中拥有一半的逻辑是否正确。

我看到了很多 MVVM 的例子，所有的 javascript 逻辑都完全在 viewmodel 中，但是这些例子都很简单。

我正在使用 KendoUI 的 MVVM 实现。

当我失去理智时，请有人给我一些指导。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T09:56:09.623

您是否尝试过[knockoutjs](http://knockoutjs.com/)。一些 dom 操作可以通过更简洁的代码来实现。

我们为大型 JS 项目实现了一个参考架构。看看它：[http ://boilerplatejs.org/](http://boilerplatejs.org/)

我们解决了您的一些问题，例如模块化组件、构建解决方案。

# php - PHP 类型转换

> ID：11857052
> 
> 赞同：34
> 
> 时间：2012-08-08T02:59:08.263
> 
> 标签：php, types, casting

我想知道将值从一种类型转换为另一种类型的最佳方法是什么。

我们应该使用哪种变体：

1.  `intval($value);`
2.  `settype($value, 'int')`
3.  `(int)$value`

它们都产生相同的结果。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-08-08T03:07:59.027

```
(int)$value 
```

`intval($value)`与和相比，保存一个函数调用`settype($value, 'int')`。

而且`(int)$value`足够干净，所以我更喜欢这种方式。

当你需要使用`intval($value)`是指当你需要使用指定的基数进行转换时（默认是基数10）。[intval](http://php.net/manual/en/function.intval.php)接受第二个参数作为转换的基数。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-08-08T03:48:44.500

我更喜欢使用

```
settype($value,getType(intval((int)$value))); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-08T03:22:57.480

这里的答案是使用对您来说“更清洁”的任何内容。速度上的任何差异都将如此之小，以至于担心它几乎肯定会花费您更多的时间而不是您可能节省的时间。然而，可以节省时间的是拥有将来可以阅读和理解的代码。

[Coding Horror](http://www.codinghorror.com/blog/2009/01/the-sad-tragedy-of-micro-optimization-theater.html)上有一篇很棒的文章解释了这件事。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-08-08T03:12:30.037

`(int)$value`比其他方式快得多

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-08T03:15:05.990

这取决于您要转换的类型。PHP 已经设计为动态转换类型。如果需要，它可以将字符串 '5' 转换为整数值 5 或浮点 5.0。这只是 PHP 的自然类型转换，但有一些方法可以强制执行类似的行为。

在许多情况下，intval() 实际上可以比 (int) 类型转换更快，尤其是在字符串到整数的转换中。但就个人而言，由于我也编写 C++，所以我使用类型转换，因为它对我来说更自然和整洁。然而，结果在不同情况下略有不同。不过，我从没想过 settype() 很有前途。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-06-01T12:09:59.473

PHP 中的类型转换与 C 中的工作方式非常相似：所需类型的名称写在要转换的变量之前的括号中。

[http://php.net/manual/en/language.types.type-juggling.php#language.types.typecasting](http://php.net/manual/en/language.types.type-juggling.php#language.types.typecasting)

# wcf - WCF 性能下降和消息失败

> ID：11857066
> 
> 赞同：0
> 
> 时间：2012-08-08T03:00:30.293
> 
> 标签：wcf, performance, wcf-binding, appfabric

我们目前正在为我们的生产迁移设置服务器。

在我们当前的设置中，我们将 Web 和 App 服务器放在不同的盒子上。但是，在我们的一个负载测试场景中，并发用户的性能测试并没有显示出最佳结果。

我们的 WCF 配置当前保留为“开箱即用”设置值。

如何更改/调整 WCF 配置以获得最佳性能。我们正在尝试使用 200 个用户进行测试，并将其托管在 appfabric 中。添加我们正在使用 NetTcpBinding。可能如果我们可以添加一个最佳设置，它也会有所帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:56:37.340

以下配置在性能中起着重要的作用。

1.  服务限制行为
2.  NetTcpBinding.ListenBacklog 和 NetTcpBinding.MaxConnections
3.  数据库查询优化。

你可以参考这些文章。

1.  [http://msdn.microsoft.com/en-us/library/ee377061(v=bts.10).aspx](http://msdn.microsoft.com/en-us/library/ee377061(v=bts.10).aspx)

2.  [http://www.devproconnections.com/article/net-framework2/load-balancing-and-scaling-your-wcf-services-122258](http://www.devproconnections.com/article/net-framework2/load-balancing-and-scaling-your-wcf-services-122258)

3.  [http://blogs.msdn.com/b/wenlong/archive/2010/02/11/why-does-wcf-become-slow-after-being-idle-for-15-seconds.aspx](http://blogs.msdn.com/b/wenlong/archive/2010/02/11/why-does-wcf-become-slow-after-being-idle-for-15-seconds.aspx)

4.  [http://www.devproconnections.com/article/net-framework2/concurrency-and-throttling-configurations-for-wcf-services](http://www.devproconnections.com/article/net-framework2/concurrency-and-throttling-configurations-for-wcf-services)

# dojo - 重载 Dojo 中的 _transition 方法

> ID：11857069
> 
> 赞同：0
> 
> 时间：2012-08-08T03:00:54.847
> 
> 标签：dojo, dijit.layout

我要疯了。我要做的就是从 StackContainer 继承并添加一个简单的效果。请注意：我知道有一些过于复杂的实验性小部件可以进行转换。但是，他们的代码完全是矫枉过正。我所追求的是堆栈容器进行转换的最简单的*工作方式。*

这是一个非工作示例：

```
declare('app.StackFade', [ StackContainer], {

  _transition:function(newWidget, oldWidget){

   // this.inherited(arguments); // This breaks things, obviously

    console.log("Transition called");
    html.style(oldWidget.domNode, "opacity", 1);// Random attempt
    baseFx.fadeOut({
      node:oldWidget.domNode,
      duration: 500,
      onEnd: function(){
        console.log("First animation finished");
        baseFx.fadeIn({
          node:newWidget.domNode,
          duration:500,
          onEnd: function(){
            html.style(newWidget.domNode, "opacity", 0);
            lang.hitch(this,"inherited", arguments, arguments); // this doesn't work
            console.log("Second animation finished");
          },
       }).play();
      }
    }).play();

  }
} 
```

我如何将这个不工作的例子变成一个工作的例子？再一次，我追求一些非常简单、简单、几行代码来改变 _transition 的东西，就是这样！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:40:00.630

我最喜欢的活动，回答我自己的问题...... Dojo、lang.hitch 和 this.inherited(arguments) 似乎存在问题。

解决方案是`this`进入`that`,*也*`arguments`进入`a`(where`a`和`that`是函数的局部变量) 。

我最终创建了一个 mixin，它可以混入任何堆栈容器（也适用于选项卡容器），使其具有“淡化”效果......

享受。

```
define([
  "dojo/_base/declare",
  "dojo/_base/html",
  "dojo/_base/fx",
  "dojo/_base/lang",
  "app/defaults",
  "app/globals",

   ], function(
     declare
     , html
     , baseFx
     , lang
     , BusyButton
     , defaults
     , g
 ){

return declare('app._StackFadingMixin', null, {

  fadeInInProgress: null,
  fadeOutInProgress: null,

  _transition:function(newWidget, oldWidget){

    // console.log("Transition called");

    // Needed later for calling this.inherited(arguments);
    that = this;
    var a = arguments;

    /*
    console.log("Values:");
    console.log("FadeInInProgress :" + this.fadeInInProgress);
    console.log("FadeOutInProgress :" + this.fadeOutInProgress);
    */

    // An animation was stopped: don't do the whole animation thing, reset everything,
    // called this.inherited(arguments) as if nothing happened
    if( this.fadeInInProgress || this.fadeOutInProgress ){

       // Stop animations
       if( this.fadeInInProgress ){ this.fadeInInProgress.stop(); }
       if( this.fadeOutInProgress ){ this.fadeOutInProgress.stop(); }

       // Reset opacity for everything
       html.style(newWidget.domNode, "opacity", 1);
       html.style(oldWidget.domNode, "opacity", 1);

       // call inherited(arguments) as if nothing happened
       this.inherited(arguments);
       return;
     }

    // ////////////////////////////////////////
    // // FADEOUT
    // ////////////////////////////////////////
    // console.log("Fade out starting");
    that.fadeOutInProgress = baseFx.fadeOut({
      node:oldWidget.domNode,
      duration: 150,
      onStop: function(){
        that.fadeOutInProgress = null;
        // console.log("Fadeout stopped");
      },

      // ////////////////////////////////////////
      // // FADEIN
      // ////////////////////////////////////////
      onEnd: function(){

        that.fadeOutInProgress = null;

        // Make the widget transparent, and then call inherited -- which will do the actual switch.
        html.style(newWidget.domNode, "opacity", 0);
        that.inherited(a);
        // console.log("Fadeout ended");

        // At this point the widget is visible, selected but transparent.
        // Let's fix that...
        // console.log("Fade in starting");
        that.fadeInInProgress = baseFx.fadeIn({
          node:newWidget.domNode,
          duration: 150,
          onStop: function(){
            that.fadeInInProgress = null;
            // console.log("Fadein stopped");
          },
          onEnd: function(){
            // console.log("Fadein ended");
            that.fadeInInProgress = null;
          },
       }).play();
      }
    }).play();
  }
}); // Declare 
```

}); // 定义

# php - 如何在symfony2中的stackoverflow标签等文本框中实现自动建议

> ID：11857070
> 
> 赞同：1
> 
> 时间：2012-08-08T03:01:01.820
> 
> 标签：php, symfony, doctrine, autoload

我有`textbox`老师必须在照片上标记学生的地方。

学生名单很长，可能有相同的名字。所以我想像我们在stackoverflow中的标签中一样有自动建议，我可以在其中有学生姓名和他的照片和出生日期之类的小区域，以便它们易于选择。

谁能指出我需要为此做些什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:07:08.733

对于自动完成解决方案，基本思想是在文本框中的按键上，您将触发一个 ajax 调用，该调用将使用 regex 或 soundex 对 db 运行一些查询，并返回一个小的匹配列表/数据集，它将显示在文本框下以模仿建议的可选下拉列表的外观或将其放入文本框中。jQueryUI 有一个您可能感兴趣的插件：http: [//jqueryui.com/demos/autocomplete/](http://jqueryui.com/demos/autocomplete/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T07:59:27.623

也许你想使用这个包：

[https://github.com/genemu/GenemuFormBundle](https://github.com/genemu/GenemuFormBundle)

它提供了几种新的表单类型供您在表单中使用。其中之一是 jQuery 自动完成表单字段，这正是您所需要的。它非常容易配置，而且非常强大，有多个可用于自动完成数据的来源（文本、数据库、ajax...）

# express - ExpressJS 文档在哪里？

> ID：11857073
> 
> 赞同：3
> 
> 时间：2012-08-08T03:01:35.160
> 
> 标签：express

例如，这是键入`express`命令后创建的示例：

```
app.set 'port', process.env.PORT or 3000
app.set 'views', __dirname + '/views'
app.set 'view engine', 'jade'
app.use express.favicon()
app.use express.logger 'dev'
app.use express.bodyParser()
app.use express.methodOverride()
app.use app.router
app.use express.static path.join __dirname, 'public' 
```

（即转换为 CoffeeScript）。

但是访问[http://expressjs.com](http://expressjs.com)并没有发现任何文档。“意见”？“浏览引擎”？express.bodyParser()? 这一切在哪里？

它不在以下任何位置：

*   [http://expressjs.com/api.html](http://expressjs.com/api.html)
*   [http://expressjs.com/faq.html](http://expressjs.com/faq.html)
*   [http://expressjs.com/guide.html](http://expressjs.com/guide.html)

存在的少量文档几乎是无用的：

```
app.set(name, value)
Assigns setting name to value. 
```

这是什么我什至不...

也许我错过了一些明显的东西？我不是在寻找教程；他们只给你部分图片——我想要一个正式的、全面的概述。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:57:45.853

这段代码本质上是在你的 express 应用程序中设置一个中间件。很多这种中间件是 express 建立在其之上的连接中间件框架的一部分。正如 JohnnyHK 在评论中提到的，您可以在连接文档中找到有关这些的更多信息。

我同意在快速网站上应该有更多解释正在发生的事情，或者至少可以为新用户指出正确的方向来查找信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T21:44:02.270

好的信息通常可以在[Express wiki](https://github.com/visionmedia/express/wiki)以及他们的[代码示例中找到](https://github.com/visionmedia/express/tree/master/examples)

如果您仍然卡住，请考虑在 freenode IRC 上的#express 中询问

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-21T11:16:41.830

在一些奇怪的谷歌搜索之后，我找到了他们的 2.x 文档。不知道为什么所有这些宝贵的信息还没有被移植。

[http://expressjs.com/2x/guide.html](http://expressjs.com/2x/guide.html)

# concurrency - Erlang 读写器程序

> ID：11857077
> 
> 赞同：4
> 
> 时间：2012-08-08T03:02:09.107
> 
> 标签：concurrency, erlang

我对 Erlang 很陌生，目前我在用 Erlang 编写读写器程序时遇到问题。基本上，一个共享内存位置可以被任意数量的任务并发读取，但是当一个任务必须写入共享内存位置时，它必须具有独占访问权限。我的想法是为不同的进程生成读/写方法，并在这些方法中打印出诸如“读者阅读”/“作家写作”之类的内容。

但是，信号量/互斥量的使用确实困扰着我，而且我没有多线程/并发方面的背景。谁能提供一些线索如何编写这样的程序？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-08T03:23:07.763

互斥量和信号量只是定义两个并发进程/线程之间的同步点的一种方式。在 erlang 中，这些大多被在 erlang 进程之间发送和接收消息所取代。在 erlang 中执行此操作的惯用方法是：

1.  在 erlang 中生成一个进程来存储您的数据并侦听消息。
2.  产生其他进程，将消息发送到您的存储进程，要求返回数据或发送要写入的数据。

您的数据处理的消息框将确保没有其他人可以与其他人同时写入数据。

# qt - Fiddler 不捕获 QT QNetworkAccessManager 流量？

> ID：11857079
> 
> 赞同：1
> 
> 时间：2012-08-08T03:02:32.540
> 
> 标签：qt, http, fiddler, traffic, qnetworkaccessmanager

我正在使用 QNetworkAccessManager 测试一个 QT C++ 应用程序，该应用程序成功地制作了 HTTP 帖子，但我在 Fiddler 中看不到这些帖子。我在提琴手设置中缺少什么？我知道 Fiddler 需要专门为 HTTPS 设置，确实如此，但我在 Fiddler 中没有看到来自此应用程序的任何基本 HTTP 流量。Fiddler 正在查看来自所有其他应用程序的流量，包括浏览器和其他 C++ 应用程序（如 Flickr Uploadr 工具）。

需要在 Fiddler 中设置什么来捕获 QT QNetworkAccessManager 流量？我也试过没有运气的查尔斯......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T20:19:36.953

我以为您需要将 Fiddler 设置为 HTTP 代理？你能用这个应用程序做到这一点吗？

如果没有，请尝试使用 Wireshark。

# c++ - 返回对 C 数组的 const 引用？

> ID：11857081
> 
> 赞同：8
> 
> 时间：2012-08-08T03:02:38.887
> 
> 标签：c++, reference, arrays

这是我的示例类：

```
template<typename T> class MyClassVector
{
    public:
        inline const std::vector<T>& data() const
        {
            return _data;
        }

    protected:
        std::vector<T> _data;
};

template<typename T, unsigned int SIZE> class MyClassArray
{
    public:
        inline const /* SOMETHING */ data() const
        {
            return _data; // OR SOMETHING ELSE
        }

    protected:
        T _data[SIZE];
}; 
```

我的问题是： MyClassArray 类返回对基础 _data 容器的常量引用的 MyClassVector data() 函数的等价物是什么？

非常感谢你 ！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-08T04:07:10.987

有两种方法可以做到这一点：直接的和可读的：

直接的：

```
inline T const (& data() const)[SIZE] {
  return _data;
} 
```

可读性：

```
typedef T Data[Size];
inline Data const& data() const {
  return _data;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T03:52:35.073

最接近的语法是返回对 const T 数组的引用。简单的编写方法是通过 typedefs：

```
template <typename T, unsigned int N>
class MyClassArray {
public:
   typedef T array_t[N];
   typedef const T carray_t[N];
   array_t _data;

   carray_t& data() const {
      return _data;
   }
}; 
```

更难阅读的方式实际上是在函数声明中拼写类型：

```
const T (&foo() const)[N] {
   return _data;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T03:05:32.210

由于数组只是衰减为指针，因此无法安全地执行此操作。等价的将返回一个 const 指针，但是调用者无法知道大小。

无论如何，没有理由再使用原始数组了。Std::array 可以解决这个问题并且更好地使用。

编辑，没关系可以传递对原始数组的引用（见上文）。这并不意味着你应该这样做。`std::array`更好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T03:08:43.133

您可以返回对 T`const`的大小数组的引用`SIZE`。我不知道它的语法是什么，但您可以使用类型特征来生成它。但更相关的是，你只是在复制很差`std::array<T, N>`，这也可以在 Boost/TR1 中找到，所以这有点浪费时间。

```
#include <type_traits>

class X {
    int arr[5];
    std::add_reference<std::add_const<int[5]>::type>::type foo() {
        return arr;
    }
}; 
```

这将返回对您的数组的大小感知 const 引用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-08T06:06:18.743

为什么不将数组公​​开为*指向 T 的 const 实例的指针*？还有数组的大小？

```
template<typename T, std::size_t SIZE>
class MyClassArray {
public:
    inline const int* data() const
    {
        return _data;
    }

    inline std::size_t size() const
    {
        return SIZE;
    }

protected:
    std::size_t _data[SIZE];
}; 
```

有一种类似的方法：参见`std::string`类`c_str()`和`size()`成员函数。

# java - 使用 XPath 在 Java 中使用 Android SDK 查询 xml 资源

> ID：11857082
> 
> 赞同：0
> 
> 时间：2012-08-08T03:02:38.623
> 
> 标签：java, android, xpath

注意：我正在从原始问题修改它。

我的 /res/xml 文件夹中有一个名为“festivals.xml”的 xml 文件。我正在使用以下代码创建 XmlResourceParser：

```
xrp = rc.getResources().getXml(R.xml.festivals); 
```

但是，尽管该文件存在并且在键入时出现在 IDE 的下拉列表中，即“R.xml.festivals”），但当上述行执行时，什么也没有返回。

我不知道还能做什么。我的目标是 2.3.3 和 8。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T00:28:39.990

您应该将您的 xml 文件放在名为 raw 的文件夹中，然后您可以通过这个愚蠢的 R.raw.xyz 访问

# vba - VBA获取单击超链接的单元格的值

> ID：11857090
> 
> 赞同：4
> 
> 时间：2012-08-08T03:03:55.563
> 
> 标签：vba, excel

我正在尝试根据用户单击的超链接的值将用户发送到工作簿中的某个工作表。“1.01”是作为超链接的单元格之一中的示例文本。当他们使用此代码单击时，我触发了事件，但每次`BR`都是 0。

```
Private Sub Worksheet_FollowHyperlink(ByVal Target As Hyperlink)
    Dim BR As Integer
    BR = ActiveCell.Value
    Select Case BR
    Case Is < 2  'case always gets run because BR is always 0
        Worksheets("Appts").Select
    Case 2 To 3
        Worksheets("Next").Select
    Case 3 To 4
        Worksheets("Calls").Select
    End Select
End Sub 
```

我认为我的问题是我得到了，`ActiveCell.Value`但我一直无法弄清楚。任何帮助表示赞赏。

谢谢，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-08T03:13:44.640

这是你正在尝试的吗？

`Activecell`将始终为您提供活动单元格的值。如果您想要具有超链接的单元格的值，请使用它。

```
Private Sub Worksheet_FollowHyperlink(ByVal Target As Hyperlink)
    Dim BR As Integer

    BR = Target.Range.Value

    Select Case BR
        Case Is < 2: Worksheets("Appts").Select
        Case 2 To 3: Worksheets("Next").Select
        Case 3 To 4: Worksheets("Calls").Select
    End Select
End Sub 
```

**编辑**

由于围绕使用正确的数据类型有很多评论。这是一个附加信息。从您的选择案例中，很明显您只关心 1 到 4 之间的值。在这种情况下，将变量声明为 Integer 就可以了。如果您不确定用户输入，那么引入一个小的错误处理，因为将变量声明为 Integer 或 Long 或 Single 将无济于事。例如

```
Private Sub Worksheet_FollowHyperlink(ByVal Target As Hyperlink)
    Dim BR As Integer

    On Error GoTo Whoa

    BR = Target.Range.Value

    Select Case BR
        Case Is < 2: Worksheets("Appts").Select
        Case 2 To 3: Worksheets("Next").Select
        Case 3 To 4: Worksheets("Calls").Select
    End Select

    Exit Sub
Whoa:
    MsgBox "The value of the cell which has the hyperlink doesn't fall in the range 1 to 4"
End Sub 
```

**快照**

![在此处输入图像描述](../Images/257592de79914169d26c5b0ccb0bda0f.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T03:10:18.540

```
Private Sub Worksheet_FollowHyperlink(ByVal Target As Hyperlink)
    Dim BR As Integer
    BR = ActiveCell.Formula
    'or
    BR = ActiveCell.Value2
    Select Case BR
    Case Is < 2  'case always gets run because BR is always 0
        Worksheets("Appts").Select
    Case 2 To 3
        Worksheets("Next").Select
    Case 3 To 4
        Worksheets("Calls").Select
    End Select
End Sub 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-08T03:17:55.733

您需要解决两件事。

**1.从超链接中获取值**

为了从 中获取值`activecell.value`，您的超链接需要链接到它们自己。（右键单击超链接并选择`edit hyperlink`、选择`Place in This Document`，然后在单元格引用中键入单元格的地址。）

更好的选择是按照悉达多的建议去做。

**2.确保根据超链接的值选择所需的工作表**

您还需要修正您的案例陈述。如果 BR 是整数，则 3 到 3.5 之间的任何值都将计算为 3 并选择“下一个”表而不是“呼叫”表。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-08T03:13:28.733

您的单元格的值可能存储为文本而不是数值。选择单元格，按 ctrl+1，然后将类型更改为一般或数字。按 OK，然后按 F2 更改单元格中的值，然后按 Enter。数据类型现在是数字。再次运行您的代码。

或者，而不是这个：

```
BR = ActiveCell.Value 
```

用这个：

```
BR = CDbl(ActiveCell.Value) 
```

# c# - char * str[] 在 C# 中等效

> ID：11857092
> 
> 赞同：0
> 
> 时间：2012-08-08T03:04:18.590
> 
> 标签：c#, c, dll, dllimport

我正在导入具有定义的函数

```
 __declspec(dllexport) int __stdcall karacell_bridge( 
               int argumentCount, char *argContent[]) 
```

从 C DLL 到 MS Visual Studio C# 项目。如何在 C# 中重新定义参数 char *argContent[]？

我可以使用`MarshalAs`吗？`public static extern int karacell_bridge( int argumentCount, string[] argContent)`或者在 C#中定义它是否正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T14:47:34.173

这应该有效：

```
public unsafe static int karacell_bridge_wrapper(string[] input)
{
    char*[] argContent = new char*[input.Length];

    for(int i = 0; i < input.Length; i++)
    {
        char* str;
        fixed (char* cptr = input[i])
        {
            str = (char*)cptr;
        }
        argContent[i] = str;
    }

    return karacell_bridge(input.Length, argContent);
} 
```

请记住在您的 C# 项目中允许不安全代码（右键单击 -> 属性 -> 构建 -> 允许不安全代码）

# java - 错误：找不到符号 IOUtils.copy(in, out);

> ID：11857096
> 
> 赞同：2
> 
> 时间：2012-08-08T03:05:06.657
> 
> 标签：java

使用 Apache ANT 构建。在类路径中包含 commons-io-2.4.jar。编译器显示此错误：

```
 error: cannot find symbol
    [javac]         IOUtils.copy(in, out); 
```

## 编辑 - 代码

```
File f1 = new File("c:\\json\\user.json");
 File f2 = new File("c:\\json\\user1.json");

 InputStream in = new FileInputStream(f1);
 OutputStream out = new FileOutputStream(f2, true); // appending output stream

 try {
    IOUtils.copy(in, out);
 }
 finally {
     IOUtils.closeQuietly(in);
     IOUtils.closeQuietly(out);
 } 
```

## 编辑-答案

导入错误。导入 org.apache.commons.io.IOUtils；

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T03:26:51.920

要尝试一些事情，请：

*   验证代码是否具有：

    `import org.apache.commons.compress.utils.IOUtils;`

*   验证 build.xml 是否具有 javac 任务的类路径引用，其中包含：

    `<classpath>
    <pathelement path="${classpath}"/>
    <pathelement location="lib/commons-io-2.4.jar"/>
    </classpath>`

# ios - 通过将 NSString 解释为十六进制数字来创建 NSData

> ID：11857097
> 
> 赞同：3
> 
> 时间：2012-08-08T03:05:29.913
> 
> 标签：ios, cocoa, nsstring, nsdata

**Edit1:** rob mayoff 的回答很棒。这是我自己的：

```
 -(NSData *)change:(NSString *)hexString
    {
        int j=0;
        Byte bytes[[hexString length]];  
        for(int i=0;i<[hexString length];i++)
        {
            int int_ch;  

        unichar hex_char1 = [hexString characterAtIndex:i]; 
        int int_ch1;
        if(hex_char1 >= '0' && hex_char1 <='9')
            int_ch1 = (hex_char1-48)*16;   
        else if(hex_char1 >= 'A' && hex_char1 <='F')
            int_ch1 = (hex_char1-55)*16; 
        else 
            int_ch1 = (hex_char1-87)*16; 
        i++;

        unichar hex_char2 = [hexString characterAtIndex:i]; 
        int int_ch2;
        if(hex_char2 >= '0' && hex_char2 <='9')
            int_ch2 = (hex_char2-48); 
        else if(hex_char1 >= 'A' && hex_char1 <='F')
            int_ch2 = hex_char2-55; 
        else 
            int_ch2 = hex_char2-87; 

        int_ch = int_ch1+int_ch2;

        bytes[j] = int_ch;
        j++;
    }
    NSData *newData = [[NSData alloc] initWithBytes:bytes length:[hexString length]/2];
    return newData;
} 
```

-------- 单独编辑----------------------------- --------

我有一个 NSString 的十六进制数字，如下所示：

```
NSString *aString =@“8dfe2f9a9384573fa0ffae17c3bef4cc2ba056cc5cbbfab57ac78c83af4ef8a48ea1728d904e87613845377821e01e07cc6c9dea35516dc595421e0ffc7caa7a19671e713bb74d84d1dd4fb2c972dd8facf5d74ad32662e992ea13d2417abcaee4137098322394ba76badbaf4c1db344704bbf9ed8a1513ff4b2e766526c98a2808b7ae67d1866cb9b489764e70662b1499d8d467a8817d1304aab8f92ebddd3e871cc1374cae96a1428f0c2afcb3f43e705cdd7649bde5a363d59125980d0acbbe32879b96ab15e93f74c08d435b787a8ee734e2773e16ae8f4cb4a5ddad989f92cf1c609f0f8b81fedb67f974ae583548b13c86b6fe1925a33a47cbda8ed54c20f2d8020650ba7fabbf8cbac00493b6de423880ef1a1af8cddc457c064cd6150aa30d34456e422ea707c313c7fbb428ce1c4e534ea8edd8c21b62d526522606e6944c4058e631dafc6f9a539f9a4dfd8afeccef51a8a4904a3efa0a76f3ca55ab56c726b0787d9ebb261ca91f5abbf985096b327a6269399ac11a23cafb0b3a6b3fb4aa357fc1644c89b7dee396c51af734738e598b765b2384eb8931f4b65d9f4b6c73ee3f1f6c5aa17871d14335153e4058ab9bc0fcad35dbdb924d00b0a71b985e20cdf530fa5479e2dd8f14d269ce59da365bac03fccb037963e7e3f175a09dd7efc66e450df5a16e7233ea55009e4891ef238d003d5837f077c12167428ad19d3da45d569aa252d5ffd736e134ad3b5654fd82506822be9b78731c9ca5ee56685153e657e8b385013ff14bbe5a1f5938801e94fe498495c2d94c84a937e1c36a4667a16dfeced471c3902b4b3d1daa9f2c72a09af736ef51ebe39f0006667d60ddc9ec20c5c29cc8933e5fb9e293560db6b1s2df4864bd9cf02b0d40d5b24d0326f1d7e251a0cbc692b68fa37212a57f34588d18d6f4f7e59d997a8c4b5e452fe883645b90bd7ee3a4b38754616ca7a9d430620036dbead2ec03bebb5c69e92f9a33951c22e83e68dd85350c7” 
```

我想把它改成这样的 NSData：

```
NSData *aData = <8dfe2f9a 9384573f a0ffae17 c3bef4cc 2ba056cc 5cbbfab5 7ac78c83 af4ef8a4 8ea1728d 904e8761 38453778 21e01e07 cc6c9dea 35516dc5 95421e0f fc7caa7a 19671e71 3bb74d84 d1dd4fb2 c972dd8f acf5d74a d32662e9 92ea13d2 417abcae e4137098 322394ba 76badbaf 4c1db344 704bbf9e d8a1513f f4b2e766 526c98a2 808b7ae6 7d1866cb 9b489764 e70662b1 499d8d46 7a8817d1 304aab8f 92ebddd3 e871cc13 74cae96a 1428f0c2 afcb3f43 e705cdd7 649bde5a 363d5912 5980d0ac bbe32879 b96ab15e 93f74c08 d435b787 a8ee734e 2773e16a e8f4cb4a 5ddad989 f92cf1c6 09f0f8b8 1fedb67f 974ae583 548b13c8 6b6fe192 5a33a47c bda8ed54 c20f2d80 20650ba7 fabbf8cb ac00493b 6de42388 0ef1a1af 8cddc457 c064cd61 50aa30d3 4456e422 ea707c31 3c7fbb42 8ce1c4e5 34ea8edd 8c21b62d 52652260 6e6944c4 058e631d afc6f9a5 39f9a4df d8afecce f51a8a49 04a3efa0 a76f3ca5 5ab56c72 6b0787d9 ebb261ca 91f5abbf 985096b3 27a62693 99ac11a2 3cafb0b3 a6b3fb4a a357fc16 44c89b7d ee396c51 af734738 e598b765 b2384eb8 931f4b65 d9f4b6c7 3ee3f1f6 c5aa1787 1d143351 53e4058a b9bc0fca d35dbdb9 24d00b0a 71b985e2 0cdf530f a5479e2d d8f14d26 9ce59da3 65bac03f ccb03796 3e7e3f17 5a09dd7e fc66e450 df5a16e7 233ea550 09e4891e f238d003 d5837f07 7c121674 28ad19d3 da45d569 aa252d5f fd736e13 4ad3b565 4fd82506 822be9b7 8731c9ca 5ee56685 153e657e 8b385013 ff14bbe5 a1f59388 01e94fe4 98495c2d 94c84a93 7e1c36a4 667a16df eced471c 3902b4b3 d1daa9f2 c72a09af 736ef51e be39f000 6667d60d dc9ec20c 5c29cc89 33e5fb9e 293560db 6b152df4 864bd9cf 02b0d40d 5b24d032 6f1d7e25 1a0cbc69 2b68fa37 212a57f3 4588d18d 6f4f7e59 d997a8c4 b5e452fe 883645b9 0bd7ee3a 4b387546 16ca7a9d 43062003 6dbead2e c03bebb5 c69e92f9 a33951c2 2e83e68d d85350c7> 
```

有人可以告诉我该怎么做吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-08T03:50:58.207

我猜你说的是你有一个`NSString`，并且你想将字符串中的字符解释为十六进制数字，并创建一个`NSData`其内容是这些十六进制数字表示的字节。我已经编辑了你的问题这样说。

有很多方法可以做到这一点。这是一个完全未优化并且不能优雅地处理错误的方法。但是我确实在您的示例中对其进行了测试。

```
NSData *dataByIntepretingHexString(NSString *hexString) {
    char const *chars = hexString.UTF8String;
    NSUInteger charCount = strlen(chars);
    if (charCount % 2 != 0) {
        return nil;
    }
    NSUInteger byteCount = charCount / 2;
    uint8_t *bytes = malloc(byteCount);
    for (int i = 0; i < byteCount; ++i) {
        unsigned int value;
        sscanf(chars + i * 2, "%2x", &value);
        bytes[i] = value;
    }
    return [NSData dataWithBytesNoCopy:bytes length:byteCount freeWhenDone:YES];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-12T09:26:59.293

```
-(NSMutableData*)hexDataFromString:(NSString*)string{

    NSMutableData *hexData= [[NSMutableData alloc] init];
    unsigned char whole_byte;
    char byte_chars[3] = {'\0','\0','\0'};
    int i;
    for (i=0; i < [string length]/2; i++) {
        byte_chars[0] = [string characterAtIndex:i*2];
        byte_chars[1] = [string characterAtIndex:i*2+1];
        whole_byte = strtol(byte_chars, NULL, 16);
        [hexData appendBytes:&whole_byte length:1];
    }
    return hexData;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-03T00:42:38.147

接受的答案，同时很好地展示了这个想法。由于 sscanf 可能会出现性能问题。另一个答案可能应该被赞成。以下内容可能会有所帮助，但不会检查格式错误的数据。

```
+(uint8_t)hexCharacterValue:(unichar)hexChar{
    if(hexChar > 0x60) return (hexChar - 0x57);
    if(hexChar > 0x40) return (hexChar - 0x37);
    return (hexChar - 0x30);
}

+(NSData*)dataWithOctetString:(NSString*)string{
    NSUInteger byteCount = [string length]/2;
    uint8_t* bytes = (uint8_t*) malloc(byteCount*sizeof(uint8_t));
    for(NSUInteger j = 0, i=0; j<[string length]; j+=2,i++) bytes[i] = ([[self class] hexValue:[string characterAtIndex:j]] << 4) | [[self class] hexValue:[string characterAtIndex:j+1]];
    return [NSData dataWithBytesNoCopy:bytes length:byteCount freeWhenDone:YES];
} 
```

# algorithm - 调度：将一组整数划分为 K 个子集

> ID：11857104
> 
> 赞同：3
> 
> 时间：2012-08-08T03:06:09.667
> 
> 标签：algorithm, math, numbers, integer, scheduling

我正在研究任务调度程序并面临以下问题（处理器之间的任务分配）：

**有一组 N 个整数。如何将它们划分为 K 个不相交的子集，它们的总和相差很小？**

我正在寻找一种简单的启发式算法，它对于 N=100-500 和 K=10-20 具有合理的计算复杂度。不需要最优解（即总和的最小可能差异），粗略的近似就足够了。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-20T06:25:04.740

构造启发式[First Fit](http://docs.jboss.org/drools/release/5.4.0.Final/drools-planner-docs/html_single/index.html#d0e4570)或[First Fit Decreasing](http://docs.jboss.org/drools/release/5.4.0.Final/drools-planner-docs/html_single/index.html#d0e4620)效果很好。

对于 First fit Decreasing，首先按尺寸递减对零件进行排序（在下面的示例中：A、B、C、D），然后将它们一个一个地放在剩余的最佳位置（X 或 Y）中。在下面的示例中，忽略 2 个维度中的 1 个（例如，忽略 CPU）。

![CloudBalance 上的首次拟合减少](../Images/3ec68bfbba2de344a5902996c252dedc.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:11:29.367

这是您正在寻找的论文，我认为：

多路数分区
Richard E. Korf 加利福尼亚大学洛杉矶分校
计算机科学系 Los Angeles, CA 90095 korf@cs.ucla.edu

[http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.150.2326&rep=rep1&type=pdf](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.150.2326&rep=rep1&type=pdf)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T07:57:57.997

即使划分为 2 也是 NP 完全的。尽管您可以使用伪多项式时间算法。[在 Wikipedia](http://en.wikipedia.org/wiki/Partition_problem)上提到，假设您有数字总和的上限。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-19T16:56:17.107

事实证明，简单的[贪心算法](http://en.wikipedia.org/wiki/Partition_problem#The_greedy_algorithm)在这种情况下效果很好。

# php - 如果我的 PHP 脚本写在那里，/var/tmp/mysite 的权限应该是什么？

> ID：11857108
> 
> 赞同：2
> 
> 时间：2012-08-08T03:06:30.740
> 
> 标签：php, linux, apache, permissions, apache2

我（PHP 新手）正在我的 Linux/Apache 服务器上建立一个旧的 PHP 网站。

当我在浏览器中测试该站点时，出现此错误：

```
Warning: move_uploaded_file(/var/tmp/jinfo/Circuit/best_cities.csv):
failed to open stream: Permission denied in /var/www/jinfo/includes/jinfo.inc.php on line 89 
Warning: move_uploaded_file(): Unable to move '/tmp/phpMLE9Ox' to
'/var/tmp/jinfo/Circuit/best_cities.csv' in
/var/www/jinfo/includes/jinfo.inc.php on line 89 
```

看起来像文件系统权限问题。该脚本使用`/var/tmp/jinfo`及其子文件夹来存储文件。该目录的权限是：

```
drwxr-xr-x 5 root root 4096 Aug  7 15:32 jinfo 
```

由于 Apache 以用户 www-data 身份运行，因此预期会出现错误消息。但是权限应该是什么？我相信有很多方法可以通过放松权限来消除错误消息，但我想遵循最佳实践。我应该将所有者（chown）更改为 www-data，还是更改权限？

注意：我也需要将更改传播到子目录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T03:09:41.930

我认为最好的解决方案是将该文件夹上的 chgroup 加入 www-data 组并添加组写入权限（例如，或创建一个包含 www-data 的新组）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:22:04.527

您需要先修复您的权限，然后更改组才会生效。如 Explosion Pill 的回答中所述，您应该将组更改`www-data`为 Apache。您可以在您的`/var/www`目录上递归地执行此操作：

```
chown -R owner:www-data /var/www 
```

`owner`当前拥有文件的用户在哪里。

在这里，您可以分别看到所有者、组和其他人对文件的读/写/执行权限：

> drwxr-xr-x

忽略`d`，其他字母表示：

*   owner - 读写执行
*   组 - 读取 ------ 执行
*   其他 - 读取 ------ 执行

该站点为您提供了`chmod`数字的含义：

[http://www.goldenplanet.com/support/kb/articles/changeing-of-file-rights-chmod-on-the-webserver.html](http://www.goldenplanet.com/support/kb/articles/changing-of-file-rights-chmod-on-the-webserver.html)

```
0：无权限
1：执行
2：写
3：写/执行
4：阅读
5：读取/执行
6：读/写
7：读/写/执行
```

您可以`chmod 775` *在给出权限错误的目录上*执行此操作，这将授予文件所有者和组完全权限，同时仅授予“其他人”读取和执行权限。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T03:31:34.163

我认为更好的选择是 chown 或 chgroup 然后 chmod 以便为用户/组提供写入文件的权限。

```
chgrp -R www-data /var/tmp/jinfo

        OR 
```

chown -R root:www-data /var/tmp/jinfo

它们都将产生相同的输出。然后通过授予组对文件夹的写访问权限来更改权限。

```
chmod 775 or chmod 665 or chmod g+w /var/tm/jinfo -R 
```

授予对组的写访问权限。

# c# - 即使在转到下一页后，ASP.Net 也会对 Gridview 进行排序

> ID：11857109
> 
> 赞同：0
> 
> 时间：2012-08-08T03:06:34.833
> 
> 标签：c#, asp.net, gridview

大家好，我的gridview排序有问题。假设我的gridview 有10 行数据和2 列，名称和年龄。分页设置为每页 5 行数据。当我单击名称时，它已正确排序。但是，当我单击下一页时，它再次变为“未排序”。请帮忙！我在下面附上了事件处理程序。

```
 protected void SearchResultGridView_Sorting(object sender, GridViewSortEventArgs e)
    {
        if (ViewState["SearchDS"] == null)
            Response.Redirect("PESearh.aspx");
        DataTable SearchDT = ((DataSet)ViewState["SearchDS"]).Tables[0];

        string sortExpression = e.SortExpression;

        if (ViewState["SearchSort"] != null && ViewState["SearchSort"].ToString().Length > 0)
        {
            if (!ViewState["SearchSort"].ToString().Contains(sortExpression))
                GridViewSortDirection = SortDirection.Descending;
        }
        else
        {
            GridViewSortDirection = SortDirection.Descending;
        }

        if (GridViewSortDirection == SortDirection.Ascending)
        {
            GridViewSortDirection = SortDirection.Descending;
            sortExpression += " DESC";
            SearchDT.DefaultView.Sort = sortExpression;
        }
        else
        {
            GridViewSortDirection = SortDirection.Ascending;
            sortExpression += " ASC";
            SearchDT.DefaultView.Sort = sortExpression;
        }
        ViewState["SearchSort"] = sortExpression;

        this.SearchResultGridView.DataSource = SearchDT;
        this.SearchResultGridView.DataBind();
    } 
```

和我的换页

```
 protected void SearchResultGridView_PageIndexChanging(object sender, GridViewPageEventArgs e)
    {
        SearchResultGridView.DataSource = ViewState["SearchDS"];

        SearchResultGridView.PageIndex = e.NewPageIndex;
        SearchResultGridView.DataBind();
    } 
```

我需要帮助，以便先前的排序也对下一页进行排序。请帮忙谢谢！

注意：我不想在绑定之前对数据进行排序，因为我希望用户先看到数据，然后再决定绑定什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:34:32.063

您似乎将排序表达式保存在`ViewState["SearchSort"]`. 当您更改页面索引时，该值仍应保留在`ViewState`变量中，因此您可以抓住它并再次设置它：

```
SearchDT.DefaultView.Sort = ViewState["SearchSort"].ToString(); 
```

不过，在对数据进行排序之前，可能希望得到第`DataTable`一个，如下所示：

```
DataTable SearchDT = ((DataSet)ViewState["SearchDS"]).Tables[0]; 
```

`ViewState["SearchDS"]`然后，您可以使用 new 而不是直接分配`DataSource`of your ：`GridView``DataTable`

```
SearchResultGridView.DataSource = SearchDT; 
```

总之，你有这样的事情：

```
protected void SearchResultGridView_PageIndexChanging(object sender, GridViewPageEventArgs e)
{
    DataTable SearchDT = ((DataSet)ViewState["SearchDS"]).Tables[0];
    SearchDT.DefaultView.Sort = ViewState["SearchSort"].ToString();
    SearchResultGridView.DataSource = SearchDT;

    SearchResultGridView.PageIndex = e.NewPageIndex;
    SearchResultGridView.DataBind();
} 
```

不过为了安全起见，您可能需要`ViewState["SearchSort"]`在分配之前先检查可能是否存在（如果不存在，则可以给它一个默认值）。

# cocoa-touch - 绘制矩形和优化

> ID：11857115
> 
> 赞同：1
> 
> 时间：2012-08-08T03:07:42.710
> 
> 标签：cocoa-touch, optimization, drawing

我有一个`NSMutableArray`持有对象（对象代表弧）；

每次点击屏幕时，数组中都会添加一个圆圈，并且绘制的矩形集需要更新。我没有打电话`drawRect:`，只是告诉它需要更新。

每次`drawRect:`查看圆圈数组时，它是重新绘制*每个*圆圈，还是只是新的/与上次相比没有改变？

如果它确实重绘了每个圆圈，是否有任何好的做法可以针对此进行优化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T03:30:03.387

您的绘图代码完全按照它所说的去做——如果您编写它来绘制每个圆圈，那么每个圆圈都会被绘制。您可以编写您的`drawRect:`方法，使其考虑到传递的矩形，这是视图的“脏”部分 - 需要更新的部分，但只有通过测试和测量确定，才值得这样做，您的绘图是性能问题。

但是， Cocoa Touch*会*剪辑您的绘图，因此*它*不必刷新整个屏幕，如果您使用 ，而不是`setNeedsDisplay`使用`setNeedsDisplayInRect:`，则传递一个适当的脏矩形。例如，当添加一个新圆时，您可以只传递每个新圆的边界矩形。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:14:10.817

你的意思是你正在调用 setNeedsDisplay 吗？如果是这样，该方法会重绘整个视图。如果您只想重绘视图的一部分，可以使用 setNeedsDisplayInRect:。

# iphone - __unsafe_unretained NSString struct var

> ID：11857117
> 
> 赞同：3
> 
> 时间：2012-08-08T03:07:53.770
> 
> 标签：iphone, ios, struct, nsstring

我正在尝试创建一个结构，其中包含几个不同类型的不同变量。

有几种类型是 NSString，但尝试这样做会导致错误

`ARC forbids Objective-C objects in structs or unions`

因此，在阅读了有关该错误的信息后，我认为添加该错误是明智的

```
__unsafe_unretained 
```

在 NSString 声明之前，但是我不知道这会产生什么后果，我快速阅读并找到了这篇关于差异的详细[帖子](https://stackoverflow.com/a/8593731/748343)

*   __强的
*   __虚弱的
*   __unsafe_unretained

但是，对于前面带有 __unsafe_unretained 的结构中的 NSString 发生了什么仍然有点模糊，并希望有人能告诉我发生了什么以及我将来需要考虑的关于内存和阻止任何泄漏的事情。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-08T04:23:58.210

假设，在 ARC 下，你可以声明一个这样的结构：

```
typedef struct {
    __strong NSObject *someObject;
    int someInteger;
} MyStruct; 
```

然后你可能会写这样的代码：

```
MyStruct *thing = malloc(sizeof(MyStruct)); 
```

问题：`malloc`不会将它返回的内存填零。一些随机值也是如此`thing->someObject`- 不一定是NULL。然后像这样为它分配一个值：

```
thing->someObject = [[NSObject alloc] init]; 
```

在幕后，ARC 会将其转换为如下代码：

```
NSObject *temporary = [[NSObject alloc] init];
[thing->someObject release];
thing->someObject = temporary; 
```

这里的问题是您的程序只是发送`release`了一些随机值！此时您的应用程序可能会崩溃。

您可能会说 ARC 应该识别调用`malloc`并注意设置`someObject`为 NULL 以防止这种情况发生。问题是它`malloc`可能包含在其他一些函数中，如下所示：

```
void *myAllocate(size_t size) {
    void *p = malloc(size);
    if (!p) {
        // malloc failed.  Try to free up some memory.
        clearCaches();
        p = malloc(size);
    }
    return p;
} 
```

好的，现在 ARC 也必须知道你的`myAllocate`函数......这可能在你作为二进制文件获得的某个静态库中。

您的应用程序甚至可能有自己的内存分配器，可以回收旧的分配，而无需每次都使用`free`和。`malloc`因此，即使`malloc`在返回之前更改为零填充内存也行不通。ARC 必须知道程序中的任何自定义分配器。

使这项工作可靠地工作将非常非常困难。所以相反，ARC 的创造者只是放弃了，说“算了。我们不会让你在结构中放置`__strong`和`__weak`引用。”</p>

这就是为什么只有`__unsafe_unretained`在告诉 ARC“不要尝试管理 this 引用的对象的所有权”时才能将对象指针放入结构体中。</p>

您可以尝试使用包含`__unsafe_unretained`对象引用的结构，也许使用`CFRetain`and`CFRelease`手动保留和释放它们。然后您可以创建一个此类结构的数组。这很容易出错，因此只有在分析器告诉您它对性能至关重要时，您才应该这样做。

相反，只需创建一个新的 Objective-C 类而不是结构。`@property`为您将放入结构中的每个字段分配一个类。使用 an`NSMutableArray`来管理这个新类的实例数组。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-08T04:47:35.740

只是更多的思考...

如果您真的需要在非目标 c 代码中使用 ARC 指针，您可以在 C++ 中本地使用它们。

事实上，您可以将 ARC 指针存储在所有标准模板容器中，并且它们仍然保留（哈哈）它们正确的语义。

```
struct Foo {
    NSDictionary *dictionary;
    NSString *string;
    __weak UIViewController *viewController;
};

std::list<UIView*> views; 
```

由于编译器将 ARC 指针视为具有非平凡构造函数的对象，因此它们可以具有正常的语义。

他们所有的 ARC 荣耀都将被神奇地处理。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-08T03:51:49.910

ARC就是喜欢抱怨！实际上，我们必须从历史角度来看。在很久以前的老式手动引用计数环境中，编译器并没有抱怨，因为它知道所有与内存相关的事情都将是你的工作，而且只有你自己的工作。但是当 Apple 引入自动引用计数时，情况发生了变化，因为编译器需要更深入地了解对象的类型和包含的内容，以便知道如何有效地正确管理所述对象的内存。当您将 Objective-C 对象放入 C-struct 时，您有点在向编译器伸出舌头，因为 struct 意味着您将自己拥有和管理其中项目的内存（而 ARC 不不要碰 malloc 和 free)。那是哪里`__unsafe_unretained`进来。有了它，我们告诉编译器任何和所有内存操作都将是你的责任，就像在 MRC 中一样。ARC 字面意思是“不能保证对象指针在释放后为零的安全性”，所以它让你明确声明它是这样的。

如果你想避免所有这些废话，只需将你的结构变成一个轻量级的类并正常声明你的对象。毕竟，Objective-C 中的类只是 C-structs-(ish)，其中包含了很多 Apple 的魔法。

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2012-08-08T03:21:12.030

不要将目标 C 对象放在结构中。这就是 Obj C 支持类的原因。您正在编写 C 代码。

# regex - 如何重写单个页面的插件域的 URL？

> ID：11857122
> 
> 赞同：0
> 
> 时间：2012-08-08T03:08:48.153
> 
> 标签：regex, .htaccess, redirect

我在 stonycreekgallery.com.au 有一个 WordPress 网站，其中包含 redpeppergallery.com.au 作为插件域（更正：'**停放域'**，抱歉）。

我希望访问者主要以 stonycreekgallery.com.au 的形式浏览该站点，但每当他们访问单个页面[http://stonycreekgallery.com.au/red-pepper-gallery/](http://stonycreekgallery.com.au/red-pepper-gallery/)时，我希望将 URL 重写为 redpeppergallery.com.au。

我发现了一个[类似的问题](https://stackoverflow.com/questions/9982476/hypens-in-domain-name-of-htaccess-rewrite)（未回答）并尝试了以下方法：

```
RewriteCond %{HTTP_HOST} ^(www.)?redpeppergallery.com.au$ [NC]
RewriteCond %{REQUEST_URI} !^/red-pepper-gallery/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /red-pepper-gallery/ [L]
RewriteCond %{HTTP_HOST} ^(www.)?redpeppergallery.com.au$ [NC] 
RewriteRule ^(/)?$ red-pepper-gallery/ [L] 
```

这些规则当前在域上处于活动状态。

有什么指点给我吗？！TIA，蒂姆

* * *

编辑：一些澄清......

*   只有一个站点，在 wordpress 站点上运行
*   redpeppergallery 的链接在 WordPress 中设置为指向 redpeppergallery.com.au
*   redpeppergallery 是一个停放的域/域别名（上面我错误地将其称为插件）
*   redpeppergallery.com.au 应直接访问[http://stonycreekgallery.com.au/red-pepper-gallery/](http://stonycreekgallery.com.au/red-pepper-gallery/)

以下完成了一半的工作 - 它将 redpeppergallery 直接带到正确的页面：

```
RewriteCond %{HTTP_HOST} ^(www.)?redpeppergallery.com.au$ [NC]
RewriteCond %{REQUEST_URI} !^/red-pepper-gallery/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ http://stonycreekgallery.com.au/red-pepper-gallery/ [L] 
```

任务的第二部分是：当在页面 stonycreekkgallerycom.au/red-pepper-gallery/（仅此页面）上时：将 URL 显示为 redpeppergallery.com.au.. 这是我不确定的......我已经尝试过：

```
RewriteCond   %{REQUEST_FILENAME}   ^stonycreekgallery.com.au/red-pepper-gallery/?$         [NC]
RewriteRule   http://redpeppergallery.com.au/  [R=301] 
```

我希望迟早会遇到一个循环，但它还没有发生:) 我尝试过的最后一个片段的变化没有效果......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:23:38.947

**尝试将其放入stonycreekkgallery.com.au**域的文档根目录中的 htaccess 文件中：

```
Redirect 301 /red-pepper-gallery http://redpeppergallery.com.au/ 
```

如果您不想重定向，但希望浏览器的 URL 地址栏保留在**stonycreekkgallery.com.au**，那么这将取决于您的配置。

如果两个域都停在同一个文档根目录下，例如`http://stonycreekgallery.com.au/`，并且`http://redpeppergallery.com.au/`都从目录提供服务`/something/www/root`，那么您可以在文档根目录的 htaccess 文件中执行此操作：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^(www.)?stonycreekgallery.com.au$ [NC]
RewriteRule ^red-pepper-gallery/(.*) /$1 [L] 
```

否则，如果一个文档根目录位于另一个文档根目录中，例如，`http://stonycreekgallery.com.au/`从目录提供`/something/www/root`但从`http://redpeppergallery.com.au/`目录提供，`/something/www/root/gallery`那么您将执行以下操作：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^(www.)?stonycreekgallery.com.au$ [NC]
RewriteRule ^red-pepper-gallery/(.*) /gallery/$1 [L] 
```

如果这两个域是从完全独立的文档根中提供的，则您需要使用该`[P]`标志，但这仅在您加载了 mod_proxy 时才有效：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^(www.)?stonycreekgallery.com.au$ [NC]
RewriteRule ^red-pepper-gallery/(.*) http://redpeppergallery.com.au/$1 [P,L] 
```

# c# - 如何在 chrome 隐身模式下打开 URL

> ID：11857123
> 
> 赞同：22
> 
> 时间：2012-08-08T03:09:15.423
> 
> 标签：c#, google-chrome, command-line

我将 Chrome 设置为默认浏览器。为了在 Chrome 中打开一个 URL，我写道：

```
Process.Start("http://domain.com"); 
```

有什么方法可以通过 c# 以隐身模式打开该 URL（通常按 Ctrl + Shift + N）？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-08T03:12:24.173

您需要创建一个带有 Chrome exe 文件路径的进程，并使用参数`--incognito`.

windows中chrome的路径通常是：

`C:\Users\<UserName>\AppData\Local\Google\Chrome\chrome.exe`

使用以下代码：

```
var url = "http://www.google.com";

using (var process = new Process())
{
    process.StartInfo.FileName = @"C:\Users\<UserName>\AppData\Local\Google\Chrome\chrome.exe";
    process.StartInfo.Arguments = url + " --incognito";

    process.Start();
} 
```

一篇解释这一点的文章：[http ://www.tech-recipes.com/rx/3479/google-chrome-use-a-command-line-switch-to-open-in-incognito-mode/](http://www.tech-recipes.com/rx/3479/google-chrome-use-a-command-line-switch-to-open-in-incognito-mode/)

完整的 chrome 命令行开关目录： http: [//peter.sh/experiments/chromium-command-line-switches/](http://peter.sh/experiments/chromium-command-line-switches/)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-08T03:45:54.763

我写了这个，它成功了：

```
Process.Start(@"chrome.exe", "--incognito http://domain.com"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-04-21T17:10:37.657

chrome.exe 的路径已经改变，或者至少我认为 x32 和 x64 之间存在不同。C:\Program Files (x86)\Google\Chrome\Application\chrome.exe

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-10-18T15:35:22.743

对于使用 Brave 浏览器的任何人，解决方案与 Dan 的答案非常相似，只是使用了 brave.exe 路径（请注意，对于 Brave，exe 不在 中`%LocalAppData%`）。

```
var url = "http://www.google.com";

using (var process = new Process())
{
    process.StartInfo.FileName = @"C:\Program Files (x86)\BraveSoftware\Brave-Browser\Application\brave.exe";
    process.StartInfo.Arguments = url + " --incognito";

    process.Start();
} 
```

# iphone - NSUserDefaults 对象泄露

> ID：11857125
> 
> 赞同：0
> 
> 时间：2012-08-08T03:09:43.100
> 
> 标签：iphone

在 Xcode 中分析后，我得到“对象泄漏：分配的对象在他的执行路径中没有被引用，并且保留计数 +1”

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
int iValue = [defaults integerForKey:@"KEY"]; 
```

我需要释放默认值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:12:20.493

不，问题很可能在您的代码中的其他地方。这两个对象都是自动释放的。

# c# - 到 Apple TV 的 TcpClient 或 HttpWebRequest 在 30 秒后结束？

> ID：11857130
> 
> 赞同：5
> 
> 时间：2012-08-08T03:10:09.353
> 
> 标签：c#, httpwebrequest, tcpclient, apple-tv

我正在用 C# 创建一个库，以使用 Airplay 协议将照片和视频发送到我的 Apple TV（特别是与第 3 代一起使用，但希望这不重要）。

[https://airlib.codeplex.com/](https://airlib.codeplex.com/)

根据此规范，Airplay 的所有命令都是端口 70 上的 HTTP：http: [//nto.github.com/AirPlay.html](http://nto.github.com/AirPlay.html)

我已经成功地在 Apple TV 上播放照片和视频，但无论我做什么，AppleTV 都只能播放 30 秒的视频。似乎我发出播放命令的 C# 客户端在 30 秒后断开连接，这导致 AppleTV 结束播放会话。

我这么认为的原因：

*   完全终止客户端应用程序会产生与等待 30 秒相同的行为（本质上是强制关闭连接）。
*   手动关闭 HttpWebRequest 或 TcpClient 连接会产生相同的行为（播放会话中途）。
*   无论我为阻止 GetResponse() 调用而保留断点多长时间，视频总是在 WebRequest 开始发送消息后 30 秒超时。
*   为视频使用不同的源（IIS、外部网络服务器）不会改变行为。
*   即使视频已经缓存在 AppleTV 上并且没有重新流式传输，超时仍然会发生。

我很确定客户端请求需要在整个视频“播放”过程中保持连接，据我所知，我已经对其进行了编码。我真的束手无策。我已经尝试了所有我能想到的方法，包括将请求作为 HttpWebRequest 和作为原始 TcpClient （两者都工作但都超时），将接收/发送超时设置为疯狂的数字，并循环读取 Tcp 流确保有“活动”。

就好像 AppleTV 期待我发送“嘿，继续播放”消息，但我还没有从网络上的任何来源看到类似的消息。我希望这只是我没有做的愚蠢的事情，因为我缺乏 Http/Tcp 知识。

这是我的代码：

```
 Uri url = "http://somevideo.com/video.mov";
    float startPosition = 0;        
    TcpClient tcpClient = new TcpClient("192.168.1.20",7000);
    tcpClient.ReceiveTimeout = 100000;
    tcpClient.SendTimeout = 100000;

    //get the client stream to read data from.
    NetworkStream clientStream = tcpClient.GetStream();

     string body = 
    "Content-Location: " + url + "\n" +
    "Start-Position: " + startPosition + "\n";

    string request = "POST /play HTTP/1.1\n" + 
    "User-Agent: MediaControl/1.0\n" +
    "Content-Type: text/parameters\n" +
    "Content-Length: " + Encoding.ASCII.GetBytes(body).Length + "\n" +           
    "X-Apple-Session-ID:" + _sessionGuid.ToString() + "\n\n";

    sendMessage(clientStream, request);
    sendMessage(clientStream, body);

    byte[] myReadBuffer = new byte[1024];
    StringBuilder myCompleteMessage = new StringBuilder();
    int numberOfBytesRead = 0;

    //incoming message might be bigger than the buffer
    do
    {
        try
        {
            numberOfBytesRead = clientStream.Read(myReadBuffer, 0, myReadBuffer.Length);
            myCompleteMessage.Append(Encoding.ASCII.GetString(myReadBuffer, 0, numberOfBytesRead));
            Thread.Sleep(10);//let the iOS device catch up sending data
        }
        catch (System.IO.IOException) { }
    } while (tcpClient.Connected); //check if it's connected before checking for data available, as maybe the program might get quit and the sockets closed halfway through a read 
```

注意：使用 telnet 我可以连接到端口 7000 上的 AppleTV 并粘贴此命令以播放整个视频：

```
POST /play HTTP/1.1
User-Agent: MediaControl/1.0
Content-Type: text/parameters
Content-Length: 89
X-Apple-Session-ID:fb6d816a-a5ad-4e8f-8830-9642b6e6eb35

Content-Location: http://192.168.1.11:82/2012/2012_03_11/IMG_1328.MOV
Start-Position: 0 
```

我在端口 82 上运行 Cassini Webserver，但这也适用于 IIS。这提供了进一步的证据，表明 .Net 堆栈在 30 秒内正在做一些导致断开连接的事情。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T04:33:27.970

我终于想通了。杀死连接的不是 .Net 代码，而是 Apple TV 本身。使用wireshark，我能够看到来自AppleTV的正确Ack和Fin消息，这些消息在30秒后没有在该连接上收到任何新消息。为了解决这个问题，我通过玩 Telnet 发现 AppleTV 似乎并不关心你发送什么，只要你定期发送它，这似乎可以保持连接活跃。

使用 HttpWebRequest 发送/接收部分是相当固定的。它是为标准的 Http 请求和响应而设计的，如果您需要做任何其他事情，您只需启动一个新的 HttpWebRequest 而不是使用现有的。尝试在相同的 HttpWebRequest 错误上发送第二条消息。

所以我不得不使用一个TcpClient，并且不得不返工结束。

```
 /// <summary>
    /// Starts a video.
    /// </summary>
    /// <param name="url">The URL of the video to play.</param>
    /// <param name="startPosition">The start position of the video. This value must be between 0 and 1</param>
    public void StartVideo(Uri url, float startPosition = 0)
    {
        if (startPosition > 1)
        {
            throw new ArgumentException("Start Position must be between 0 and 1");
        }

        TcpClient tcpClient = new TcpClient("192.168.1.20", 7000);
        tcpClient.ReceiveTimeout = 100000;
        tcpClient.SendTimeout = 100000;

        //get the client stream to read data from.
        NetworkStream clientStream = tcpClient.GetStream();

        string body =
       "Content-Location: " + url + "\n" +
       "Start-Position: " + startPosition + "\n";

        string request = "POST /play HTTP/1.1\n" +
        "User-Agent: MediaControl/1.0\n" +
        "Content-Type: text/parameters\n" +
        "Content-Length: " + Encoding.ASCII.GetBytes(body).Length + "\n" +
        "X-Apple-Session-ID:" + _sessionGuid.ToString() + "\n\n";

        //Send the headers
        sendMessage(clientStream, request);
        //Send the body
        sendMessage(clientStream, body);

        //Get the response
        byte[] myReadBuffer = new byte[1024];
        StringBuilder myCompleteMessage = new StringBuilder();
        int numberOfBytesRead = 0;
        numberOfBytesRead = clientStream.Read(myReadBuffer, 0, myReadBuffer.Length);
        myCompleteMessage.Append(Encoding.ASCII.GetString(myReadBuffer, 0, numberOfBytesRead));

        //Now start doing a "keepalive"
        while (true)
        {
            //Simply send the characters "ok" every two seconds
            sendMessage(clientStream, "ok");
            Thread.Sleep(2000);
        }                      
    }

    /// <summary>
    /// Sends a message across the NetworkStream
    /// </summary>
    /// <param name="clientStream">The stream to send the message down</param>
    /// <param name="message">The message to send</param>
    public void sendMessage(NetworkStream clientStream, string message)
    {
        byte[] buffer = new ASCIIEncoding().GetBytes(message);
        try
        {
            clientStream.Write(buffer, 0, buffer.Length);
            clientStream.Flush();
        }
        catch (System.IO.IOException e)
        {
            Debug.WriteLine("IOException: " + e.Message);
        }
    } 
```

显然这不是最终的答案，但这是让它工作的最低限度。如果有人弄清楚实际 Apple 硬件发送的是什么来代替“ok”，请添加注释。

# encryption - 使用 GPU 进行加密硬件加速

> ID：11857131
> 
> 赞同：6
> 
> 时间：2012-08-08T03:10:17.953
> 
> 标签：encryption, cuda, openssl, hardware

有人在生产中使用基于 Nvidia CUDA 的 SSL/AES 加速解决方案吗？我对 SSL 卸载和 AES 加密/解密加速很感兴趣。

我发现很少有像 engine-cuda 这样的开源解决方案。[基准相当令人印象深刻](http://code.google.com/p/engine-cuda/wiki/benchmarkVersion011 "发动机 cuda")。但我仍然怀疑它在实际生产系统中是否有用。

可能的缺点是：

*   第三方开源解决方案还不够成熟，无法用于生产
*   它不如合成测试那么有效
*   它是否容易与脚本语言集成，否则我将被迫分叉 openssl

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T06:33:26.567

我不使用 CUDA 进行加速，但我不认为 AES 是您应该在 SSL 中优化的算法。AES 被设计为在软件方面非常高效，最新的英特尔处理器甚至具有[专门的指令](http://software.intel.com/en-us/articles/intel-advanced-encryption-standard-aes-instructions-set/)，可以完全在硬件中执行一整轮 AES。

此外，[最近的一些攻击](http://www.schneier.com/blog/archives/2011/09/man-in-the-midd_4.html)还促使许多站点将首选密码套件从 AES 切换到 RC4，而 RC4 的软件速度甚至更快。

在 SSL 中，历史上最耗时的操作一直是服务器在初始握手期间和大多数密码套件中必须执行的 RSA 私钥解密。这就是导致 90 年代后期在市场上出现如此多用于电子商务网站的硬件加速器的原因之一。软件中的 RSA 解密速度非常慢，这限制了每个网站可以承受的负载，即每秒 TCP/SSL 连接的数量。

据我所知，已经有一些关于这个话题的[学术研究。](https://www.cs.tcd.ie/John.Waldron/owenHarrison/publications/PKonGPU_eurocrypt.pdf)GPU 可以有效地加速 RSA（或者更准确地说，是大整数的模幂运算），但速度并不快。此外，延迟也可能是一个问题，具体取决于您拥有的显卡型号。不过，我找不到太多用于在 GPU 中执行 RSA 的开源软件，更不用说任何集成到 SSL 堆栈（如 openssl）的软件了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T18:55:58.157

有证据表明，严重的加密不应该使用英特尔和威盛芯片提出的硬件加密指令。在斯诺登泄密之后，此类硬件生成的随机数可能会减少熵，因此不像声称的那样安全！欲了解更多信息：[http ://bit.ly/IDkRVq](http://bit.ly/IDkRVq)

# vb.net - System.Windows.Forms.AxHost InvalidActiveXStateException vb.net

> ID：11857135
> 
> 赞同：1
> 
> 时间：2012-08-08T03:10:38.357
> 
> 标签：vb.net, visual-studio-2010, vb6, vb6-migration

当我将 VB 转换为 VB.NET 时，我发现了错误`InvalidActiveXStateException`。我的程序有一个主窗体和许多子窗体，当我检查子窗体时，其中一个出现此错误，无法打开该窗体，但其他窗体可以正确打开。代码是一样的。为什么我打不开那个表格？

我曾在互联网上进行过研究，大多数人都说：

```
((System.ComponentModel.ISupportInitialize)(this.ax)).BeginInit();

this.Controls.Add(ax);

((System.ComponentModel.ISupportInitialize)(this.ax)).EndInit(); 
```

但似乎 C# 不是 VB.NET，我不知道什么时候可以在我的程序中找到 ax 的名称。这是我的程序代码的一部分。

```
Public Sub mnu_dceedc_enq_Click(ByVal eventSender As System.Object, ByVal eventArgs        As System.EventArgs) Handles mnu_dceedc_enq.Click
    If bolCheckSecurity("dcs_eedc_enq") Then
        Unload_frm()
        DCformfun = mnu_dceedc_enq.Name
        frmDCEEDC.Show()
    End If
End Sub

Private Sub chkfiltercase_CheckStateChanged(ByVal eventSender As System.Object, ByVal eventArgs As System.EventArgs) Handles chkfiltercase.CheckStateChanged
    '20090401
    'fgdetail_Click

    Call ShowFolderDetail(fgdetail.get_TextMatrix(fgdetail.Row, 1), fgdetail.get_TextMatrix(fgdetail.Row, 2), CShort(txtbatchno.Text))
End Sub 
```

当我打开一个子表单时，它会从开始`nu_dceedc_enq_Click`然后转到，`chkfiltercase_CheckStateChanged`但是当我遇到时`Call ShowFolderDetail`，它会自动返回`form.show()`并发生异常。

为什么会发生此错误，我该如何解决？

**测试后更新：**

我尝试评论所有 Sub`chkfiltercase_CheckStateChanged`并且表单成功发生，我试图测试它是否会发生其他人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-22T14:27:13.293

我遇到了同样的问题，我尝试了调用 CreateControl 的建议解决方案，但没有成功。

事实证明，互操作是针对 .net 2.0 框架生成的，并且在从 4.0 代码调用时出现了问题。解决方案是使用[.NET Framework Tools 4.0](http://msdn.microsoft.com/en-us/library/d9kh6s92%28v=vs.100%29.aspx)生成互操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T02:47:09.563

活动 x 控件的标准转换/使用的部分作用是为控件创建状态。此状态并不总是正确设置/创建，并且有时会在您在调试器中运行应用程序时发生更改。当状态无效时，抛出此异常。我通常会尝试将活动 x 控件替换为 .net 控件（已经存在的控件或创建等效控件）。

据说标准工具的一些商业替代品可以避免这个问题。

# web - PrimeFaces css不工作

> ID：11857141
> 
> 赞同：1
> 
> 时间：2012-08-08T03:11:16.103
> 
> 标签：web, primefaces

我正在使用 primefaces 3.3.1 和 Myfaces 2.1.1 配置一个项目。我运行了一个简单的展示示例，但此示例仅显示文本，没有 CSS 内容。我在 xhtml 中看到使用手动导入 css 的任何示例，但我认为这不是一个好方法。

pom.xml：

```
 <dependencies>
    <dependency>
        <groupId>org.apache.myfaces.core</groupId>
        <artifactId>myfaces-api</artifactId>
        <version>2.1.1</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.apache.myfaces.core</groupId>
        <artifactId>myfaces-impl</artifactId>
        <version>2.1.1</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency

    <!-- Primefaces dependency -->
    <dependency>
        <groupId>org.primefaces</groupId>
        <artifactId>primefaces</artifactId>
        <version>3.3.1</version>
    </dependency>

    <!-- Themes PrimeFaces -->
    <dependency>
        <groupId>org.primefaces.themes</groupId>
        <artifactId>bluesky</artifactId>
        <version>1.0.6</version>
    </dependency>
  </dependencies>

  <repositories>
    <repository>
        <id>prime-repo</id>
        <name>PrimeFaces Maven Repository</name>
        <url>http://repository.primefaces.org</url>
        <layout>default</layout>
    </repository>
   </repositories> 
```

网页内容/WEB-INF/Web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
id="WebApp_ID" version="3.0">
<display-name>meu-projeto</display-name>

<servlet>
    <servlet-name>HelloServlet</servlet-name>
    <servlet-class>br.com.meuprojeto.servlet.HelloServlet</servlet-class>
</servlet>

<servlet-mapping>
    <servlet-name>HelloServlet</servlet-name>
    <url-pattern>*.teste</url-pattern>
</servlet-mapping>

<servlet-mapping>
    <servlet-name>HelloServlet</servlet-name>
    <url-pattern>/HelloServlet</url-pattern>
</servlet-mapping>

<session-config>
    <session-timeout>30</session-timeout>    <!-- 30 minutes -->
</session-config>

<welcome-file-list>
    <welcome-file>index.jsp</welcome-file>
</welcome-file-list>

<servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.jsf</url-pattern>
</servlet-mapping>

<context-param>
    <param-name>primefaces.THEME</param-name>
    <param-value>bluesky</param-value>
</context-param>

</web-app> 
```

我的页面：

```
<html xmlns="http://www.w3c.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:p="http://primefaces.prime.com.tr/ui">
<h:head>
</h:head>
<h:body>
<h:form id="form">

    <p:panel header="Enter your passwords">
        <h:panelGrid columns="2">
            <h:outputText value="Basic: " />
            <p:password id="nonFeedback" value="" />
        </h:panelGrid>
    </p:panel>

    <p:spacer height="10" />

    <p:panel header="Match Mode">
        <p:messages id="messages" showDetail="true" autoUpdate="true" />
        <p:commandButton id="saveButton" update="matchGrid" value="Save" />
    </p:panel>

</h:form>

</h:body>
</html> 
```

然后项目 > 属性 > 部署程序集 > 添加 > Java 构建路径条目并添加所有 jar。所以，在图书馆项目中有所有的罐子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T23:51:46.113

问题是：

```
xmlns:p="http://primefaces.prime.com.tr/ui 
```

在 xhtml 页面中。

我改为：

```
xmlns:p="http://primefaces.org/ui 
```

并工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T15:31:08.800

更改 web.xml 文件中的 Faces Servlet 映射：

```
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.jsf</url-pattern>
</servlet-mapping> 
```

至 ：

```
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.xhtml</url-pattern>
</servlet-mapping> 
```

您对其进行配置的方式会阻止 Faces Servlet 处理您的 JSF 页面。

# javascript - 多表格计算器事件处理程序

> ID：11857142
> 
> 赞同：0
> 
> 时间：2012-08-08T03:11:19.903
> 
> 标签：javascript

下面的链接将带您到我的示例。我的问题是......在不更改表单本身的任何代码的情况下，我可以用一个按钮控制每个表单中的所有按钮。因此，一旦单击“主按钮”，它将分别列出每个表单中的所有计算？您会注意到我只有三个表单，但我正在处理的项目将有数百个。这只是其中的一小部分简单起见。我希望有人能回答的是，如果我可以单击“主计算”按钮而不是单击每个表单中的计算按钮？

[http://jsfiddle.net/qvDFY/1/](http://jsfiddle.net/qvDFY/1/)

帮助将不胜感激，

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T03:16:36.307

如果您使用的是 jQuery，您可以为每个按钮添加一个**类**（无需修改 HTML）：

```
$('form button').addClass('autoClick'); 
```

然后在主按钮上单击：

```
$('.autoClick').click(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:26:33.523

也许：[jsfiddle.net/qvDFY/9/n](http://jsfiddle.net/qvDFY/9/)

基本上：

```
function calculateAll() {
    var forms = document.getElementsByTagName("form");
    for(var i = 0; i < forms.length; i++ ) {
        CalculateIMSUB(forms[i].input_A.value, forms[i].input_B.value,forms[i], 96)                
    }
} 
```

虽然我不确定为什么在您的示例中将“96”输入到 CalculateIMSUB 函数中

# actionscript-3 - 闭包函数如何访问实例属性

> ID：11857145
> 
> 赞同：1
> 
> 时间：2012-08-08T03:11:32.670
> 
> 标签：actionscript-3, function, actionscript, closures

先编码

```
 import flash.display.Sprite;
    import flash.events.Event;

    public class TestClosure extends Sprite
    {
        private var a:Object = {'value':'test'}

        public function TestClosure()
        {
            this.addEventListener(Event.ADDED_TO_STAGE,
                function (e:Event):void
                {
                    trace(a.value);//this works
//                  trace(this.a.value);this won't work
                }
            );
        }
    } 
```

如您所见，访问实例属性 a 而不使用“this”关键字将成功。

所以这是我的猜测，我不知道它是否正确。

创建闭包函数时，编译器会查找范围变量并创建对它的引用。

使用 a.value 会导致编译器在函数范围内寻找 a，当然 var a 是一个私有变量，它在函数范围内可用。

使用 this.a.value，编译器将跳过“this”，因为它在许多情况下是动态的，只能在运行时确定。正如闭包函数“this”引用全局而不是他的实例。

感谢您的任何提示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T09:30:09.793

正如你所说，闭包函数`this`是指全局而不是局部范围。但是在另一个变量中创建引用`this`将起作用：

```
public function TestClosure()
{
    var me:TestClosure = this;

    this.addEventListener(Event.ADDED_TO_STAGE,
         function (e:Event):void
         {
             trace(a.value);//this works
             trace(me.a.value); //this will work provided a is a public var
         }
    );
} 
```

`trace(me.a.value);`一旦您更改`a`为公共变量或为其创建 getter 函数，该行将立即工作。

# c - C 编程语言书籍示例：可能已过时？

> ID：11857148
> 
> 赞同：4
> 
> 时间：2012-08-08T03:11:41.100
> 
> 标签：c

我开始学习 C 和我的一个朋友（比我大）`The C Programming Language`由**Brian Kernighan**和**Dennis Ritchie**建议。

然而，在尝试一些示例时，它们的行为与预期不同，并且与书中所写的不同。

例如，这个似乎不起作用（什么都不打印）：

```
#include <stdio.h>

#define IN 1
#define OUT 0

/* count lines, words, and characters in input */

int main()
{
   int c, nl, nw, nc, state;
   state = OUT;
   nl = nw = nc = 0;

   while ((c = getchar()) != EOF) {
      ++nc;
      if (c == '\n')
         ++nl;
      if (c == ' ' || c == '\n' || c == '\t')
         state = OUT;
      else if (state == OUT) {
         state = IN;
         ++nw;
      }
   }
   printf("%d %d %d\n", nl, nw, nc);
   return 0;
} 
```

你认为我应该继续读这本书吗，也许只有几个错误，值得一读？或者有一本适合 C 初学者的更好的书。

编辑：我的假设是用`ENTER`密钥发送输入会模拟`EOF`，但事实并非如此。`CTRL+Z` 做。

感谢您的帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-08T03:18:20.780

这个对我有用。

```
$ gcc c.c -o c
$ echo hello world | ./c
1 2 12
$ 
```

程序从标准输入读取文本，直到到达文件结尾。我怀疑您在从键盘读取时没有正确地发出文件结束条件的信号。在 Linux 和其他类 Unix 系统上，单独键入`Ctrl-D`一行。在 Windows 上，键入`Ctrl-Z`.

如果您从 IDE 启动程序，它可能会在新启动的终端窗口中运行程序，该窗口会在程序完成时关闭；在这种情况下，窗口可能会在您看到输出之前消失。如果您的 IDE 没有提供覆盖此错误行为的方法，您可以直接从运行 shell 的终端窗口运行它，也可以添加如下行：

```
getchar(); 
```

到程序结束，在`return 0;`. 这导致它在终止之前读取（并忽略）输入字符；您可以`Enter`在看到输出后输入。请注意，当您从 shell 执行程序时，这种事情会使程序运行变得更加尴尬，因此只有在必要时才这样做。

Kernighan 和 Ritchie 合着的《The C Programming Language》，通常称为 K&R，是一本优秀的 C 书籍；毕竟，里奇在很大程度上发明了这种语言，尽管它确实倾向于假设一些现有的编程知识。确保你有第二版；第一个描述了该语言的早期版本。（自 K&R2 发布以来，已经有两个新的 ISO C 标准，但它们没有添加任何对介绍性测试至关重要的内容。）

有关其他 C 在线教程和书籍的列表，请参阅[comp.lang.c FAQ](http://www.c-faq.com)的问题 18.9 和 18.10 。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-08T07:45:58.190

由于怀旧和丹尼斯·里奇（Dennis Ritchie）所写，K&R 受到了很多“跟风炒作”。毫无疑问，它是有史以来最著名的编程书籍。然而，在我看来，这对于初学者来说并不是一本好书。

主要原因是这本书是在良好的编程风格发明之前编写的。大多数示例都是用大多数现代 C 程序员认为是相当混乱的编码风格编写的。什么是好的和坏的编码风格当然是一个主观的话题。但以你为例。可以改写成这样：

```
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>

/* count lines, words, and characters in input */

int main (void)
{
   int  ch;
   int  linefeeds_n = 0;
   int  words_n     = 0;
   int  chars_n     = 0;
   bool new_word    = true;

   while ((ch = getchar()) != EOF) 
   {
     if (ch == '\n')
     {
       new_word = true;       
       linefeeds_n++;
     }
     else if (ch == ' ' || ch == '\t')
     {
       new_word = true;
     }
     else if (new_word)
     {
       new_word = false;
       words_n++;
     }

     chars_n++;
   }

   printf("%d %d %d\n", 
          linefeeds_n, 
          words_n, 
          chars_n);

   return EXIT_SUCCESS;
} 
```

我发现上述风格更具可读性和正确性。变化是：

*   健全的变量名称。
*   可读的变量声明列表。
*   没有神秘的状态变量。请改用 bool 类型。
*   始终对每个语句使用 {}，以防止出现许多经典错误。
*   没有针对 '\n' 的多重检查（更快的代码）。
*   在 while 循环结束时计数器递增（常见的编码风格）。
*   按照 C99 结束 main() 的正确方法。
*   Nitpick 关于 main()，声明为 void 而不是空括号。

它们没有大的变化，没有大的问题，但一切都很快堆积起来……

这段代码也是使用最新的 C99/C11 标准的特性编写的，这在 K&R 中是找不到的，因为这本书也没有跟上最新的 C 标准。

此外，在 K&R 中有一些案例，这本书是不正确的，或者它公然宣扬危险的做法。一个完美的例子是：对 malloc 的结果进行类型转换。[在这篇文章](http://c.learncodethehardway.org/book/learn-c-the-hard-waych55.html)中可以找到更多对本书进行有效批评的例子。

由于存在大量错误、错误和拼写错误，因此请确保在阅读 K&R 时始终将[勘误表](http://cm.bell-labs.com/cm/cs/cbook/2ediffs.html)放在手边。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-08T03:15:21.417

该程序运行良好。请注意，它在打印任何内容之前需要一些输入；它计算输入中的行数、单词数和字符数。因此，如果您将代码编译`example`并运行：

```
echo this has four words | example 
```

你会看到输出：

```
1 4 20 
```

（即 1 行，4 个单词，20 个字符）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-08T03:36:04.137

所以，你的程序可能什么都不打印，但在你按下 Ctrl+C 或类似的东西之前不会给你提示，对吧？这意味着您永远不会退出 while 循环，这意味着您的输入中没有 EOF。

该书基于较旧的体系结构，这些体系结构可能对构成 EOF 的内容有不同的约定。我对这本书的建议是继续读下去，保持灵活的思维，这样你就可以解释错误并解决它们。从书本上学习很棒，但在开始使用它并自己调试它之前，你不会真正集成它。例如，如果我不知道这个程序中发生了什么，我可能会在 while 循环中放置一个 printf 以获取有关循环行为的一些反馈。我还可以尝试将 EOF 更改为其他内容（可能是 -1、.、//）。想象一下，你是一个只会玩东西的小孩，你可能会学得更快。至少这是我的经验。

至于其他可以学习的书籍，我强烈推荐 Jon Erickson 的《黑客，剥削的艺术》一书。它不需要以前的编程经验，第二章是对 C 的非常透彻的介绍。我从这本书的这一章中学到了更多关于计算机如何真正工作的知识，而不是在一所私立大学的 3 个学期的计算机编程课程中。它以非常清晰但密集的方式解释了如何使用 GNU 调试器、编译器如何解释您编写的代码、内存如何工作（堆栈、bss 等），最重要的是，它解释了如何看待生活中的其他事物作为程序（法律，生物学等）。如果你有毅力通过它，本书的其余部分将教你大量有用的信息。

祝你好运，黑客愉快！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-08T03:17:49.213

这对我来说可以。它真的不应该过时，因为语言在相当长的一段时间内没有太大变化。互联网和书籍中存在的一些示例可能是特定于操作系统的。一个典型的例子是`system("PAUSE");`它只适用于 Windows，但可以转换为一个哨兵循环，不断询问你是否要再次运行它或有一个选项菜单。我运行了这个例子并点击了 ctrl-d 并输出了`5 3 14`. 以下是我的输入。最后两个是空行。

```
bla
blah
2 
```

`./a.out < a.in`我通常通过在 *nix 上重定向输入来运行此类程序

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-08T03:22:33.707

《The C Programming Language》对你来说是一本非常好的书，相信你的朋友。你什么都看不到的原因是你没有结束你的输入。在像这样的 Unix 中，您可以输入**Ctrl + D**，以结束您的输入。程序没问题，我测试一下。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-08-08T03:24:52.450

C 编程语言是 Dennis Ritchie 的一本好书。但是，如果您对它不满意，您可以使用另一本书：
Let Us C-by Yashwant Kanetkar 读完这本书后，您想看看您真正了解多少 C（即您知道多少关于它的语法和怪癖），你可以试试这个：
Test Your C Skills-by Yashwant Kanetkar

# c++ - void operator()() 的功能

> ID：11857150
> 
> 赞同：26
> 
> 时间：2012-08-08T03:12:08.323
> 
> 标签：c++

我对`void operator()()`.

你能告诉我，例如：

```
class background_task
{
public:

    void operator()() const
    {
        do_something();
        do_something_else();
    }
};

background_task f;

std::thread my_thread(f); 
```

在这里，我们为什么需要`operator()()`？第一个和第二个是什么意思`()`？实际上，我知道普通运算符的操作，但是这个运算符令人困惑。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-08-08T03:17:08.740

您可以重载`()`运算符来调用您的对象，就好像它是一个函数一样：

```
class A {
public:
    void operator()(int x, int y) {
        // Do something
    }
};

A x;
x(5, 3); // at this point operator () gets called 
```

所以第一个括号总是空的：这是函数的名称：`operator()`，第二个括号可能有参数（如我的示例），但它们不必（如您的示例）。

因此，要在您的特定情况下调用此运算符，您将执行类似`task()`.

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2012-08-08T03:15:06.907

第一个`()`是操作符的名称——它是`()`在对象上使用时调用的操作符。第二个`()`是参数，其中没有。

这是一个如何使用它的示例：

```
background_task task;
task();  // calls background_task::operator() 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-08-08T03:20:48.677

第一部分`operator()`是声明当类的实例作为函数调用时调用的函数的方式。第二对括号将包含实际参数。

使用返回值和参数，这可能更有意义：

```
class Adder{
public:
int operator()(int a, int b){
    //operator() -- this is the "name" of the operator
    //         in this case, it takes two integer arguments.
    return a+b;
}
};
Adder a;
assert( 5==a(2,3) ); 
```

在这种情况下，`std::thread`将在线程内部进行内部调用`f()`，即主体内部的任何内容都是该线程内部`operator()`完成的内容。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-09-08T02:53:24.220

上面提供的所有提示对于顺序程序都是正确的，我的意思是，没有线程的程序。使用线程事情会改变。首先，默认情况下 std::thread 的参数是函数和函数参数。可能你正在研究“C++ concurrency in action”一书，作者展示了一个有趣的例子：

```
void do_some_work(); 
thread my_thread(do_some_work); //thread receives the function address 
```

假设这个函数：

无效do_other_job（int k）；在代码正文中，您应该执行以下操作：

```
k=3; 
thread my_thread2(do_other_job, k); 
```

为了产生另一个线程。

因此，使用线程，编译器默认将 f ( in **std::thread my_thread(f);** ) 解释为函数而不是类。要改变这一点，你必须启动一个 operator() 来警告你正在使用一个类的编译器。替代代码可能是：

```
class background_task{
public: 
background_task(){
 do_sth(); 
 do_sth_else(); 
 }
void operator()(){} 
}; 
background_task f; 
thread mythread10(f); 
```

最终，这是不正确的，使用线程，喂给操作员，所以这段代码不起作用：

```
void operator()(int x){
do_sth(); 
cout<<"x = "<<x<<endl;
} 
```

发生这种情况是因为括号内的所有代码都是只读的，并且在运行时无法更改。如果您打算在构造函数中插入变量，则必须将其放入线程初始化中。所以：

```
class backg{
public: 
backg(int i){
   do_sth(i); 
   }
void operator()(){}
}; 
int main(){
thread mythread{ backg(12) }; //using c++11
return 0; 
} 
```

将无错误地运行，并将在生成的线程中执行函数 do_sth(12)。

我希望我有所帮助。

# wpf - 代码中的绑定不会对源对象更改做出反应

> ID：11857151
> 
> 赞同：1
> 
> 时间：2012-08-08T03:12:08.953
> 
> 标签：wpf, binding, datacontext, code-behind

我有一个从装饰器继承的类的依赖属性，如下所示：

```
public class LoadingAdorner : Adorner
{
    public static readonly DependencyProperty TextProperty = DependencyProperty.Register("Text", typeof (string), typeof (LoadingAdorner), new PropertyMetadata(default(string)));

    public string Text
    {
        get { return (string) GetValue(TextProperty); }
        set { SetValue(TextProperty, value); }
    }

    public static readonly DependencyProperty IsShowingProperty = DependencyProperty.Register("IsShowing", typeof (bool), typeof (LoadingAdorner), new PropertyMetadata(default(bool)));

    ...
} 
```

装饰器实际上没有任何 XAML，但我希望此装饰器的文本可绑定到视图模型。所以我在代码中创建绑定，在视图的构造函数中，如下所示：

```
 private readonly LoadingAdorner _loading;

    public MainWindow()
    {
        InitializeComponent();
        _loading = new LoadingAdorner(MainPage);
        var bind = new Binding("LoadingText"){Source = DataContext};
        _loading.SetBinding(LoadingAdorner.TextProperty, bind);
    } 
```

DataContext 是我的视图模型，我的视图模型实现了 INotifyPropertyChanged，LoadingText 是一个调用 OnPropertyChanged 的​​字符串属性等。XAML 中的所有绑定都可以正常工作，但是代码绑定不能。

我相信是因为在创建绑定的时候，视图模型还没有被设置为DataContext（它是null），我在创建视图之后就行了。如果我使用 Source = this 将此绑定设置为视图上的属性，则它可以工作。

我的问题是，为什么 XAML 绑定能够对源对象的变化做出反应，而代码绑定似乎没有？我是否有合适的方法来创建一个绑定，该绑定将对此类似于 XAML 绑定作出反应？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T08:23:07.207

绑定不会**也不能**对源更改做出反应，这在逻辑上是不可能的，对象不会*更改*属性并且*对对象的*引用会更改。绑定可以对`DataContext`属性更改做出反应，但前提是您*不做*一些可怕的事情，例如`Source = DataContext`通过仅获取当前数据上下文*一次*来杀死机制。只需将其删除，以便`DataContext`再次成为默认源，并且绑定应该对更改做出反应。

如果`DataContext`位于绑定对象之外的另一个对象上，则需要将其移动到 中`Path`，即`new Binding("DataContext.LoadingText"){ Source = this }`。

# mysql - 在SQL中合并两个后如何删除旧列

> ID：11857161
> 
> 赞同：0
> 
> 时间：2012-08-08T03:13:26.193
> 
> 标签：mysql, sql

我一直在寻找有关如何将两列组合成新列的答案，并发现[这](https://stackoverflow.com/questions/5774532/mysql-combine-two-columns-and-add-into-new-column)是完美的答案。但是，由于我真的没有使用 MySQL 的经验，所以我想知道在编辑表时如何删除旧列。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:15:37.487

```
ALTER TABLE tableName DROP COLUMN columnName 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T07:29:38.840

要在合并后删除列（多个），您可以使用以下语法。

```
ALTER TABLE table_Name DROP COLUMN columnName1, DROP COLUMN columnName2; 
```

请参阅[ALTER TABLE 语法](http://dev.mysql.com/doc/refman/5.1/en/alter-table.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T09:39:02.367

您可以更改表以删除列。语法是

```
ALTER TABLE yourTable DROP COLUMN yourColumn 
```

# java - 其他子引用图像的方法？

> ID：11857174
> 
> 赞同：1
> 
> 时间：2012-08-08T03:15:10.900
> 
> 标签：java, image, awt

我发现绘制部分图像的唯一方法是使用此`drawImage`功能：

公共抽象布尔drawImage（图像img，int dx1，int dy1，int dx2，int dy2，int sx1，int sy1，int sx2，int sy2，ImageObserver观察者）

**有没有一种方法可以绘制只需要目标坐标而不是矩形的图像部分？**我想指定我的图像剪切，然后在一个坐标处绘制它，而不必担心目标矩形与我的剪切大小匹配。我发现这有更多的错误空间，就好像你弄错了它会挤压/拉伸你的图像以适应等等。另外，当你在屏幕上移动图像时，这意味着移动两组点而不是一个简单的左上角坐标点。

（我确定我看过有人这样做的视频，我只是不记得功能是什么）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:19:08.537

您可以从您的图像创建一个子图像，然后绘制它。

请查看[BufferedImage API](http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html)`getSubImage()`方法。这会将大图像中的剪切图像作为 BufferedImage 对象返回。然后你可以用一个更简单的`drawImage(...)`重载来绘制它，它只是占据这个位置。

例如：

```
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;

import javax.imageio.ImageIO;
import javax.swing.*;

public class SubImageEg extends JPanel {
   // images from Wikimedia Commons
   // http://commons.wikimedia.org/wiki/Main_Page
   public static final String MAIN_IMG_PATH = "http://upload.wikimedia.org/wikipedia/commons/" +
        "thumb/4/43/Sarcophilus_harrisii_taranna.jpg/800px-Sarcophilus_harrisii_taranna.jpg";
   public static final String SECOND_IMG_PATH = "http://upload.wikimedia.org/wikipedia/commons/" +
        "thumb/f/f8/Soldering_a_0805.jpg/800px-Soldering_a_0805.jpg";
   public static final String[] IMAGE_PATHS = {MAIN_IMG_PATH, SECOND_IMG_PATH};
   private static final int SUB_X = 520;
   private static final int SUB_Y = 340;
   private static final int SUB_W = 150;
   private static final int SUB_H = 150;
   private static final int SEC_SUB_X = 400;
   private static final int SEC_SUB_Y = 200;

   private BufferedImage[] images = new BufferedImage[IMAGE_PATHS.length];
   private BufferedImage secondImgSubImg;

   public SubImageEg() {
      try {
         for (int i = 0; i < IMAGE_PATHS.length; i++) {
            images[i] = ImageIO.read(new URL(IMAGE_PATHS[i]));
         }

         secondImgSubImg = images[1].getSubimage(SUB_X, SUB_Y, SUB_W, SUB_H);
      } catch (MalformedURLException e) {
         e.printStackTrace();
      } catch (IOException e) {
         e.printStackTrace();
      }
   }

   @Override
   protected void paintComponent(Graphics g) {
      super.paintComponent(g);
      if (images[0] != null) {
         g.drawImage(images[0], 0, 0, this);
      }
      if (secondImgSubImg != null) {
         g.drawImage(secondImgSubImg, SEC_SUB_X, SEC_SUB_Y, this);
      }
   }

   @Override
   public Dimension getPreferredSize() {
      if (images[0] != null) {
         return new Dimension(images[0].getWidth(), images[0].getHeight());
      } else {
         return super.getPreferredSize();
      }
   }

   private static void createAndShowGui() {
      SubImageEg mainPanel = new SubImageEg();

      JFrame frame = new JFrame("SubImageEg");
      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      frame.getContentPane().add(mainPanel);
      frame.pack();
      frame.setLocationByPlatform(true);
      frame.setVisible(true);
   }

   public static void main(String[] args) {
      SwingUtilities.invokeLater(new Runnable() {
         public void run() {
            createAndShowGui();
         }
      });
   }
} 
```

# graph - 具有不同权重的公共边的图的联合

> ID：11857177
> 
> 赞同：0
> 
> 时间：2012-08-08T03:15:35.583
> 
> 标签：graph

我有两个无向加权间隙 G1 和 G2，它们之间有 2 个公共顶点 C 和 D。

是否有可能 G1 中的边 CD 的权重为 4，而 G2 中的同一边的权重为 7？如果是，这些图的联合是什么？

![在此处输入图像描述](../Images/99e8146cc834058ef783225e96be179e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:07:12.170

好吧，让我尽量在这里记住我的图论......

答案是肯定的，结果图类似于

```
 3
    A---------B
    |    4    |
  5 | _______ |  8
    |/       \|
    D---------C
    \    7   /
     \      /
    6 \    / 5
       \  /
        \/
         E
      G1 U G2 
```

顶点 D 和 C 之间有两条边

`c(DC) = 4 and c(DC') = 7`

其中 c 是路径成本函数。

您似乎在问这两个图上的联合是否可能。答案是肯定的，你总是可以对图执行联合操作，就像你可以相交一样（它就像集合论，回想一下图的第一原则定义，它们都是包含顶点和边集的元组）。

并不是说“边缘” DC 同时具有 4 和 7 的权重，而是它们是在 DC 之间运行的两个不同的边缘，一个具有 4 的权重，另一个具有 7 的权重。如果您要形象化这些图表代表城市地图，加权路径 4 将是“更快”划分的高速公路，而成本较高的路径 7 将是城市大道。

希望能对这个问题有所了解。

# ruby-on-rails - 引导 sidekiq：获取消息时出错：ERR 未知命令 'blpop'

> ID：11857179
> 
> 赞同：2
> 
> 时间：2012-08-08T03:15:44.540
> 
> 标签：ruby-on-rails, redis, sidekiq

我正在使用 Sidekiq 进行队列。当我`RAILS_ENV=production bundle exec sidekiq`在远程服务器上运行时，它给了我以下错误，而 sidekiq 在本地环境中运行良好：

`2012-08-08T02:03:57Z 3348 TID-1hqs8u ERROR: Error fetching message: ERR unknown command 'blpop'`

`2012-08-08T02:03:57Z 3348 TID-1hqs8u ERROR: /home/deploy/www/zhule/shared/bundle/ruby/1.9.1/gems/redis-3.0.1/lib/redis/client.rb:79:in`调用'`

当地环境：

ruby 1.9.3p125（2012-02-16 修订版 34643）[x86_64-darwin11.3.0] Redis 服务器版本 2.4.15 (00000000:0)

远程服务器环境：

ruby 1.9.3p194（2012-04-20 修订版 35410）[i686-linux] Redis 服务器版本 2.4.16 (00000000:0)

我怎么解决这个问题？

# ruby-on-rails - 使用omniauth（自定义策略）/门卫的法拉第超时错误

> ID：11857182
> 
> 赞同：6
> 
> 时间：2012-08-08T03:16:03.187
> 
> 标签：ruby-on-rails, api, oauth-2.0, omniauth

我目前正在关注这个[railscast](http://railscasts.com/episodes/353-oauth-with-doorkeeper?view=asciicast)，对于我的具体情况，我在omniauth 的回调中遇到了法拉第超时错误。

目前我使用 Rails 应用程序作为 API 和主干作为 javascript 前端（在同一个应用程序上）

我决定我想用 OAuth 锁定 API，并为 Omniauth 提供了一个自定义策略来作为客户端访问 API 以及 Doorkeeper 来处理授权逻辑

```
 module OmniAuth
      module Strategies
        class Twiddle < OmniAuth::Strategies::OAuth2
          option :name, :twiddle

          option :client_options, {
            site: "http://localhost:3001",
            authorize_path: "/oauth/authorize"
          }

          uid do
            raw_info["id"]
          end

          info do
            { 
              firstName: raw_info["firstName"],
              lastName: raw_info["lastName"], 
              email: raw_info["email"]
            }
          end

          def raw_info
            @raw_info ||= access_token.get('/api/v1/user').parsed
          end
        end
      end
    end 
```

我包括这样的自定义策略：

```
require File.expand_path('lib/omniauth/strategies/twiddle', Rails.root)

Rails.application.config.middleware.use OmniAuth::Builder do
  provider :twiddle, id, secret # Omitting the actual ones for obvious reasons
end 
```

我目前在我的捆绑包中使用这些宝石

```
# OAuth 
gem 'oauth2'
gem 'omniauth'
gem 'omniauth-oauth2'
gem 'omniauth-facebook'
gem 'doorkeeper' 
```

这是我进行身份验证并尝试检索正确访问令牌的地方（也是我卡住的地方）

```
 def loginParse
    if ( user = User.authenticate( params[:email], params[:password] ) ) 
      session[:user_id] = user.id
      redirect_to '/auth/twiddle/' 
    else 
      render :controller => "authentication", :action => "loginIndex", :notice => "Incorrect credentials" 
    end
  end 
```

这是来自 routes.rb 的路由

```
 # Oauth urls
  match '/auth/twiddle/callback', to: "authentication#connectAPI"
  match "/auth/facebook/callback", to: "authentication#loginSocialMedia" 
```

应用程序永远无法呈现 connectAPI 操作，完全卡在这一点上（由服务器日志给出）

```
 User Load (0.4ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  Doorkeeper::Application Load (0.2ms)  SELECT `oauth_applications`.* FROM `oauth_applications` WHERE `oauth_applications`.`uid` = '' LIMIT 1
  CACHE (0.0ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  Doorkeeper::AccessToken Load (0.3ms)  SELECT `oauth_access_tokens`.* FROM `oauth_access_tokens` WHERE `oauth_access_tokens`.`revoked_at` IS NULL AND `oauth_access_tokens`.`application_id` = 1 AND `oauth_access_tokens`.`resource_owner_id` = 1 ORDER BY created_at desc LIMIT 1
   (0.1ms)  BEGIN
  Doorkeeper::AccessGrant Load (0.2ms)  SELECT `oauth_access_grants`.* FROM `oauth_access_grants` WHERE `oauth_access_grants`.`token` = '' LIMIT 1
  SQL (1.1ms)  INSERT INTO `oauth_access_grants` (`application_id`, `created_at`, `expires_in`, `redirect_uri`, `resource_owner_id`, `revoked_at`, `scopes`, `token`) VALUES (1, '2012-08-08 03:10:31', 600, 'http://localhost:3001/auth/twiddle/callback', 1, NULL, '', '')
   (1.4ms)  COMMIT
Redirected to http://localhost:3001/auth/twiddle/callback?code=a
Completed 302 Found in 12ms (ActiveRecord: 3.7ms)
(twiddle) Callback phase initiated. 
```

日志中省略了许多 uids/重要信息。

最后给出这个错误：

**Faraday::Error::TimeoutError（超时::Error）：**

我希望我对这个问题的解释已经彻底。

我不知道为什么应用程序似乎在omniauth的回调启动部分冻结。我已经尝试更新捆绑器，因为其他一些 stackoverflow 问题已经指出了我，但它不起作用。

也许我对 OAuth2 的理解有点模糊。

如果有人可以帮助我，我将不胜感激

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T16:12:24.253

我不确定这是否适用于你我的情况是：

### 问题

*   一个包含我们内部 OAuth 服务器需要的数据的应用程序
*   几乎没有数据的 OAuth 服务器
*   我们希望在不移动数据的情况下将 App1 的身份验证部分卸载到 App2

### 解决方案

*   App1 使用 App2 作为认证服务器
*   App2 使用 App1 获取用户数据

### 此解决方案的问题

死锁 - App1 正在等待来自 App2 的 OAuth 响应，但要完成该响应，App2 必须等待来自 App1 的响应。

### 最后的观察

在 Rails（使用 WebBrick）的开发模式下，您不能运行多线程，因此可能永远不允许完成请求。

### 我的解决方案

我的解决方案是安装[puma](https://github.com/puma/puma)并添加到 `config/environments/development.rb`：

```
if ENV["THREADS"]
  config.threadsafe!
end 
```

然后，当您启动服务器时，您将`THREADS=1 rails s Puma`测试您的 OAuth 内容。

### 或者

或者您的场景完全不同，您实际上并没有在您的服务之间进行通信。您的`extra_info`（如 Github 的`/user`）端点是否在 OAuth 服务器上运行？你的回调真的在做什么吗？

我希望这有帮助！

# c# - C# 中调用任何函数并返回其返回值（如果有）的通用方式？

> ID：11857186
> 
> 赞同：0
> 
> 时间：2012-08-08T03:16:41.737
> 
> 标签：c#, generics, delegates

我试图想出一种调用任何类型函数的好方法。void 或返回值，没有参数或很多。我需要定时执行此功能，并希望对客户隐藏所有这些。所以我只想给客户端代码一种使用我的类调用任何类型的函数的方法，然后我的类将执行它并计时，然后返回给客户端。

我不知道的部分是如何支持任何类型的功能。代表需要一个类型。func 需要返回。我想要一些通用的东西，这将使客户做最少的工作来设置参数，并做最少的工作来获得返回值（如果有的话）。

这可能没有反思吗？性能在这里非常重要。

我可以想象客户端代码如下所示：

```
Recorder r = new Recorder();
r.Params.Add(param);
r.Params.Add(param);

r.CallFunc([function]);

MyReturnType ret = (MyReturnType)r.returnValue; 
```

这看起来可行吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T03:45:07.717

有一种广泛使用的方法来包装方法调用：

```
public static class Recorder
{
  // overload for any method, that returns value
  public static T CallFunc(Func<T> func)
  {
    // other stuff here
    return func();
    // other stuff here
  }

  // overload for any method, that returns void
  public static CallFunc(Action action)
  {
    // other stuff here
    action();
    // other stuff here
  }
} 
```

用法：

```
Recorder.CallFunc(() => someObj.SomeMethod(param1, param2)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:28:26.747

你可以重载你的方法。

```
void MyMetaFunction(Action action);
void MyMetaFunction<T>(Action<T> action, T arg);
TResult MyMetaFunction<TResult>(Func<TResult> func);
TResult MyMetaFunction<TResult,TArg>(Func<TResult,TArg> func, TArg arg); 
```

等等。当然，这确实限制了您可以支持的参数数量，但也许这对您来说仍然可以。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T03:42:17.027

根据你的期望和伪代码，你可以做这样的事情。

```
public void SomeMethod(params object[] objects) {
}

public void SomeMethod(out object returnValue, params object[] objects) {
} 
```

这支持任何数量和任何类型的参数，并且可以根据客户端选择的重载返回值或不返回值。但我不得不说，这*似乎*是一个非常糟糕的主意，您将负责处理作为参数传入的*任何内容。*

# windows - v8_base.lib（作为 node.js 的一部分编译）是 huuuuge。为什么？

> ID：11857196
> 
> 赞同：4
> 
> 时间：2012-08-08T03:17:53.577
> 
> 标签：windows, node.js, v8

当做 a 时`vcbuild.bat Release`，我会得到一个这样的*lib*目录：

```
$ ls -1Ssh Release/lib/
total 303M
263M v8_base.lib
 22M openssl.lib
7.2M v8_snapshot.lib
6.2M v8_nosnapshot.lib
4.8M uv.lib
480K zlib.lib
 88K http_parser.lib 
```

调试要好得多，但仍然：

```
$ ls -1Ssh Debug/lib/
total 102M
 83M v8_base.lib
 14M openssl.lib
2.1M uv.lib
1.6M v8_snapshot.lib
1.3M v8_nosnapshot.lib
352K zlib.lib
 80K http_parser.lib 
```

关于这一切，我不明白两件事：

*   为什么 v8 这么*大*？
*   为什么 Debug 构建会产生更小的 lib 文件？

我在 Windows 7 64 位。

**编辑**我刚刚发现无论主机是什么架构，默认值`target_arch`都是`ia32`, not 。`x64`所以上面的数字是指 32 位版本。64 位数字稍大一些（309M / 128M）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:31:03.743

> 为什么 v8 这么大？

可能是因为它的依赖关系和特性？喜欢：

```
$ ls -1Ssh Release/obj/v8_base/|head -15
total 264M
5.1M hydrogen.obj
4.7M objects.obj
4.6M lithium-codegen-ia32.obj
4.4M lithium-ia32.obj
4.3M runtime.obj
4.3M hydrogen-instructions.obj
4.2M lithium-allocator.obj
4.1M lithium-gap-resolver-ia32.obj
3.7M compiler.obj
3.7M isolate.obj
3.5M v8.obj
3.4M lithium.obj
3.3M heap.obj
3.3M api.obj 
```

不过，好像有点大……

> 为什么 Debug 构建会产生更小的 lib 文件？

也许是我发现的这些速度优化`common.gypi`？

```
 'Release': {
    ...
    'msvs_settings': {
      'VCCLCompilerTool': {
        'RuntimeLibrary': 0, # static release
        'Optimization': 3, # /Ox, full optimization
        'FavorSizeOrSpeed': 1, # /Ot, favour speed over size
        'InlineFunctionExpansion': 2, # /Ob2, inline anything eligible 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-25T03:01:32.540

我花了一段时间才弄清楚为什么 V8 引擎要在 Windows 上构建如此庞大的构建。

在构建 V8 时可以使用一个选项 -D"component=shared" 来创建更小的库 v8.lib (~250kb) 和需要 V8.dll (~12mb)、icui18n.dll (~2.5mb) 的 dll， icuuc.dll (~1.5mb)。

```
From the V8 Directory:
third_party\python_26\python.exe build\gyp_v8 -G msvs_version=2010 -Dtarget_arch=x64 -D"component=shared" -G 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-10-04T03:26:40.383

真正的答案是您没有选择“发布”构建选项。释放模式显着减小了尺寸。

# ubuntu - 如何停止 redis-server 自动启动

> ID：11857198
> 
> 赞同：30
> 
> 时间：2012-08-08T03:17:54.997
> 
> 标签：ubuntu, redis, autostart

我正在使用 Ubuntu 开发我的网站。最近开始使用redis。

当我启动我的计算机时，redis-server 将自行启动。

我可以用什么方法阻止我的 redis-server 自行启动？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-08-08T10:10:16.630

似乎该`redis-server`软件包使用`rc.d`脚本，在 Ubuntu 中处理它们的首选方法是使用`update-rc.d`：

```
sudo update-rc.d redis-server disable 
```

应该做的伎俩。您也可以仅在某个运行级别禁用它：

```
sudo update-rc.d redis-server disable 2 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2018-07-02T17:18:56.220

对于那些寻求更新的解决方案的人。如果您的系统使用 systemd（Ubuntu 15.04 及更高版本），则在启动时不启动它的方法是：

```
sudo systemctl disable redis-server 
```

systemctl“基本上”承认这些操作（查看以下链接以获取完整列表）

*   `disable`. 不要在启动时启动。
*   `enable`. 在启动时启动。
*   `start`. 现在启动它。
*   `stop`. 快停下。
*   `status`. 检查是否正在运行

如本[答案所述](https://askubuntu.com/a/699015/499290)：

> 有关更多详细信息，请参阅[启用和禁用服务](http://www.aboutlinux.info/2006/04/enabling-and-disabling-services-during_01.html)，对于很长的答案，请参阅这篇[文章](https://askubuntu.com/q/19320/425630)
> 
> 有关更多详细信息，请参阅[Digital Ocean](https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units)上的这篇文章和[systemctl 的手册页](https://www.freedesktop.org/software/systemd/man/systemctl.html)。

# java - JSP 和 servlet 不响应转发

> ID：11857203
> 
> 赞同：1
> 
> 时间：2012-08-08T03:18:50.317
> 
> 标签：java, html, jsp, web-applications, servlets

我在转发时遇到了一些问题，即使我正在转发，JSP 文件也拒绝转发：我从这里开始：

**索引.html：**

```
<!DOCTYPE html>
<html>
<head><title>Bank application</title>
<link rel="stylesheet"
      href="./css/styles.css"
      type="text/css"/>
</head>
<body>
<table class="title">
  <tr><th>Web Bank application</th></tr>
</table>

<br/>
<fieldset>
  <legend>Login Page - please enter your Username and Password</legend>
  <form action="loginPage"> 
    Username: <input type="text" name="username"><br>
    Password : <input type="text" name="password"><br>
    <input type="submit" value="Login">
  </form>
</fieldset>

<br/>
<br/>
<br/>
<br/>
<br/><br/><br/><br/><br/><br/>
</body></html> 
```

与屏幕： ![在此处输入图像描述](../Images/14ef653a42e6924dd164a5969b21450b.png)

然后我转到那个 JSP 文件 - **adminPage.jsp**：

```
<!DOCTYPE html>
<html>
<head><title>System Administrator Page</title>
<link rel="stylesheet"
      href="./css/styles.css"
      type="text/css"/>
</head>
<body>

<h1>Hello ${name.firstName} ${name.lastName} , You've logged in successfully!</h1>
<h1>
Please choose one of the following options
</h1>

<fieldset>
  <legend>Add a new manager to the bank system</legend>
  <form action="adminAdds1"> 
    <a href="WEB-INF/results/adminAddNewManager.jsp">Press here to continue</a>
  </form>
</fieldset>

<fieldset>
  <legend>Add a new employee to the bank system</legend>
  <form action="adminAdds2"> 
    <a href="WEB-INF/results/adminAddNewEmployee.jsp">Press here to continue</a>
  </form>
</fieldset>

</body></html> 
```

用那个屏幕：

![在此处输入图像描述](../Images/1a9c8bdd301b01c521a5c386582b1deb.png)

但是当我单击两个选项之一并移至`adminAddNewEmployee.jsp`of 时`adminAddNewManager.jsp`，我一遍又一遍地得到这个，即使两个文件都位于同一文件夹中 `adminPage.jsp`：

```
HTTP Status 404 - 

--------------------------------------------------------------------------------

type Status report

message 

description The requested resource () is not available.

--------------------------------------------------------------------------------

Apache Tomcat/7.0.28 
```

项目树在哪里：

![在此处输入图像描述](../Images/49de45652f3b737393a95023d58ead3f.png)

我怎样才能解决这个问题 ？我知道 WEB-INF 需要一些转发，但我应该把转发放在哪里？在 JSP 中？

但请注意，我使用`href`它仍然失败。

问候

**编辑：**

在 adminPage.jsp 中添加：

```
<fieldset>
  <legend>Add a new manager to the bank system</legend>
  <form action="adminAdds1"> 
    <a href="src/servlets/Admin1">Press here to continue</a>
  </form>
</fieldset> 
```

并创建了一个新的 servlet `Admin1.java`：

```
package servlets;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

    @WebServlet("/adminAdds1")
    public class Admin1 extends HttpServlet {
        private static final long serialVersionUID = 1L;

        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException 
        {
            request.getRequestDispatcher("/WEB-INF/results/adminPage.jsp").forward(request, response);
        }

    } 
```

但是当我再次运行所有东西时，我得到：

```
HTTP Status 404 - /WebBank/src/servlets/Admin1

--------------------------------------------------------------------------------

type Status report

message /WebBank/src/servlets/Admin1

description The requested resource (/WebBank/src/servlets/Admin1) is not available.

--------------------------------------------------------------------------------

Apache Tomcat/7.0.28 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T03:27:01.527

WEB-INF 中的文件不能直接从客户端访问。

**一种方法**是改变

```
 <a href="SomeServletmapping"> 
```

在 SomeServlet get 方法里面做

```
request.getDispatacher(yourJSP).forward(); 
```

**第二种方式：**

```
move those JSPs outside the WEB-INF folder. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:26:14.747

看看这里

```
<a href="WEB-INF/results/adminAddNewEmployee.jsp">Press here to continue</a> 
```

根据规范，文件夹`directly`内的任何内容都无法访问（） 。`WEB-INF`

可以使用

```
<%@ include file="WEB-INF/path/to/expected.jsp" %> 
```

或`JSP`使用 request dispather 或使用类似的框架进行调度`Spring`！

# javascript - 如何在 jQuery 中切换 setInterval 函数的状态？

> ID：11857205
> 
> 赞同：1
> 
> 时间：2012-08-08T03:18:55.290
> 
> 标签：javascript, jquery

我希望能够单击一个 id 为 pause 的元素来开始计算时间对象中的元素，如果我重新单击暂停，它将停止它并重新单击启动它，就像 JQuery 中的切换功能一样，但使用一个 setInteval 函数我将如何去做呢？

```
$("#pause").click(function(ffe) {
  if(on == true) {
    on = false 
    alert("on");
  }
  else {
    on = true;
    alert("off");
  }
  if(on == false) {
    setInterval(function() {
      $("#timet ul").append("<li>" + $("#time ul")
                    .children('li').length +"</li>");

    }, 100);
  }
  else {

    alert("Error");
  }
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T03:50:15.167

一种经典的技术是使用单个主 setInterval 循环并简单地使用 if..else 逻辑来确定需要运行的内容。这就是许多 javascript 游戏的工作方式：

```
var on = true;

// Our master scheduler:
setInterval(function() {
    if (on) {
      $("#timet ul").append("<li>" + $("#time ul")
         .children('li').length +"</li>");
    }
}, 100);

// Code to handle the pause button
$("#pause").click(function(ffe) {
    on = !on;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:32:25.490

您可以使用该`setTimeout`功能，如果您想运行该功能一次，`setInterval`连续运行，请尝试以下操作：

```
var on = false;
$("#pause").click(function(ffe) {
  if (on) {
      on = false;
      setTimeout(function() {
           $("#timet ul").append("<li>" + $("#time ul")
                    .children('li').length +"</li>");
      }, 100);
  } else {
      on = true; 
  }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T03:35:24.333

您需要使用`.clearInterval()`来停止执行。

这是代码：（***[工作演示](http://jsfiddle.net/pzPPy/)***）

```
$("#pause").click((function () {
    var interId = null;
    var $ul = $("#timet ul");
    return function (e) {
        if (interId) {
            $(this).text("start");
            clearInterval(interId);
            interId = null;
        } else {
            $(this).text("pause");
            interId = setInterval(function () {
                $ul.append($('<li>').text($('li', $ul).length));
            }, 100);
        }
    };
}()));​ 
```

# delphi - RAVE 报告错误“缺少 dbrtl160.bpl”

> ID：11857209
> 
> 赞同：-1
> 
> 时间：2012-08-08T03:19:28.217
> 
> 标签：delphi

当我从 IDE (Delphi XE2) 运行 RAVE Reports Designer 时，我收到此错误：

“程序无法启动，因为您的计算机中缺少 dbrtl160.bpl。请尝试重新安装程序以解决此问题”

但是，在 Delphi XE2 文件夹中，该文件`dbrtl160.bpl`存在。

这里出了什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T11:05:52.423

该文件需要与您的应用程序位于同一文件夹中，或者位于系统上的文件夹中`PATH`。IDE 从它自己的文件夹中使用它，但是当您的应用程序（或在本例中为 RAVE）运行时，它不在 IDE 文件夹中。IDE 通常会在安装过程中将必要的 RAVE 文件夹添加到该文件夹​​中`PATH`，但如果您安装了 RAVE 更新，它可能已被删除或更改，或者您安装的其他内容损坏了 PATH 语句。

Delphi 包只是特殊的 DLL，它们在您的应用程序启动时由 LoadLibrary 加载。查找它们的规则也是 LoadLibrary 使用的规则。搜索顺序在 MSDN 上[LoadLibrary 文档](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684175%28v=vs.85%29.aspx)的备注部分中指定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-09T20:41:41.423

如果您使用 x64 windows，则必须将 rave 文件复制到 C:\Program Files\Embarcadero\RAD Studio\8.0\Rave...

# ruby-on-rails - Mountain Lion 安装后无法安装 postgresql gem

> ID：11857212
> 
> 赞同：3
> 
> 时间：2012-08-08T03:19:46.693
> 
> 标签：ruby-on-rails, postgresql, osx-mountain-lion

自从我从 Lion 升级到 Mountain Lion 以来，我一直在尝试恢复我的 Rails 开发环境。问题是专门安装 pg-0.14.0 (postgresql) gem。

我已经尝试过这篇[文章](http://robots.thoughtbot.com/post/27985816073/the-hitchhikers-guide-to-riding-a-mountain-lion)的说明，但没有运气。我试过用 Homebrew 卸载 Postgres，然后重新安装它。没有任何工作。如果我尝试安装这个 gem，我会收到这个错误：

```
Building native extensions.  This could take a while...
ERROR:  Error installing pg: ERROR: Failed to build gem native extension.

/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby extconf.rb
checking for pg_config... yes 
Using config values from /usr/local/bin/pg_config
checking for libpq-fe.h... yes
checking for libpq/libpq-fs.h... yes
checking for pg_config_manual.h... yes
checking for PQconnectdb() in -lpq... no
checking for PQconnectdb() in -llibpq... no
checking for PQconnectdb() in -lms/libpq... no
Can't find the PostgreSQL client library (libpq)

*** extconf.rb failed ***

Could not create Makefile due to some reason, probably 
lack of necessary libraries and/or headers.  Check the
mkmf.log file for more details.  
You may need configuration options. 
```

我在哪里可以找到`mkmf.log`？谁能给我一个关于如何再次安装 pg gem 的建议？

**更新** 我能够使用以下命令找到我的 mkmf.log 文件：

> 查找/-name mkmf.log 2>/dev/null

有几个失败的 xcrun 调用，如下所示：

have_library: 检查 -llibpq 中的 PQconnectdb()... -------------------- 否

> “xcrun cc -o conftest -I.-I/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin12.0 -I.-D_XOPEN_SOURCE -D_DARWIN_C_SOURCE -I/usr /local/Cellar/postgresql/9.1.4/include -arch i386 -arch x86_64 -g -Os -pipe -fno-common -DENABLE_DTRACE -fno-common -pipe -fno-common conftest.c -L.-L/System /Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib -L. -arch i386 -arch x86_64 -L/usr/local/Cellar/postgresql/9.1.4/lib -lruby -llibpq -lpthread -ldl - lobjc " ld: 找不到 -llibpq clang 的库: 错误: 链接器命令失败，退出代码为 1（使用 -v 查看调用）

为什么我在运行 xcrun 时会出错？有人见过这个吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:06:25.083

错误在那里说：

```
checking for PQconnectdb() in -lpq... no
checking for PQconnectdb() in -llibpq... no
checking for PQconnectdb() in -lms/libpq... no
Can't find the PostgreSQL client library (libpq) 
```

它找不到 libpq，或者尝试编译测试程序并链接到它的测试失败。因为它发现`/usr/local/bin/pg_config`它应该知道 Pg 库和头文件在哪里，所以问题可能是测试编译中的错误。

要了解更多信息，您需要检查`mkmf.log`. 跑

```
find . -name mkmf.log 
```

从您运行 gem install 命令的目录中，这可能会找到它。使用其内容更新您的帖子。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T15:44:55.263

我终于解决了这个问题。我使用[RVM](https://rvm.io/)卸载 ruby​​ 并重新安装 ruby​​ 版本 1.9.3。这使我可以毫无问题地运行“捆绑安装”。我检查了所有已加载的宝石（宝石列表）。但是，此时我的 rails 应用程序无法找到 postgres 套接字文件。同样的问题[在这里详细描述。](https://stackoverflow.com/questions/8465508/can-not-connect-to-local-postgresql)我没有找到 postgresql.conf 文件、更改其权限并对其进行编辑，而是卸载了我当前版本的 Postgres 并从 PostGres 下载了最新的 One-Click 安装程序。当我再次运行安装程序时，它检测到另一个 PostGres 安装并更新了它。这为我更新了配置，一切都好起来了。

我希望这可能有助于其他一些糟糕的 Rails 开发人员升级到 Mountain Lion :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T06:33:53.203

我也为此苦苦挣扎了几个小时，但在我的设置中找不到任何工作。

我最终使用了[postgres.app](http://postgresapp.com/)。这是 Heroku 人员发布的 Postgres 的打包版本。他们说这是“在 Mac 上运行 postgreSQL 的最简单方法”。根据我的经验，这是真的！

只需将其放入您的应用程序文件夹中，您就完成了！（我只需要重新启动以释放端口 5432）。

旁注：他们还发布了一个名为[Induction](http://inductionapp.com/)的应用程序来管理和查询您的数据库，但目前它在 Mountain Lion 中无法使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T01:38:20.547

如果您有 Mountain Lion 和 XCODE 4.4.1，则没有命令工具，请从此处下载[https://developer.apple.com/downloads/index.action](https://developer.apple.com/downloads/index.action)

# vb.net - 如何将 Datagrid 数据存储到数据库

> ID：11857214
> 
> 赞同：-1
> 
> 时间：2012-08-08T03:20:22.593
> 
> 标签：vb.net, datagrid

我想将数据网格值存储到数据库中。我有 1 列名为项目标题。我想将该列下的所有值添加到数据库中...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:49:02.263

您正在开发哪种语言？

vb.net 中的示例：

```
For i As Integer = 0 To DataGridView1.Rows.Count

        Dim obj As Object = DataGridView1.Rows(i).Cells(0).Value

        ' save in database

 Next 
```

您可以将 obj 转换为您自己的类型，然后将其保存在您的数据库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:47:07.497

这是填充的初始`DataGridView`代码`DataTable`

```
 Private bindingSource1 As New BindingSource()    
    Private dataAdapter As New OleDbDataAdapter()

    Private Sub Form1_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load    
        Dim connectionString As String = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=<FilePath>;User Id=username;Password=password;"    
        Dim selectCommand As String    
        Dim connection As New OleDbConnection(connectionString)

        selectCommand = "SELECT * FROM...<YOUR SELECT Query>"    
        Me.dataAdapter = New OleDbDataAdapter(selectCommand, connection)

        Dim commandBuilder As New OleDbCommandBuilder(Me.dataAdapter)    
        Dim table As New DataTable()

        Me.dataAdapter.Fill(table)    
        Me.bindingSource1.DataSource = table

        Dim data As New DataSet()

        DataGridView1.DataSource = Me.bindingSource1    
    End Sub 
```

这就是您想要的（使用将 Datagrid 数据存储到数据库`DataAdapter`）

```
 Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        Dim table As New DataTable()

        Me.bindingSource1 = Me.DataGridView1.DataSource    
        table = Me.bindingSource1.DataSource

        Me.dataAdapter.Update(table)    
    End Sub

End Class 
```

# python - 卡在 Learnpython.org 教程（关于函数）

> ID：11857216
> 
> 赞同：0
> 
> 时间：2012-08-08T03:20:28.457
> 
> 标签：python, function, python-3.x

几个小时前我刚刚开始学习 Python，似乎有一个我根本无法解决的问题。

他们要求我：

1.  添加一个名为 list_benefits()- 的函数，它返回以下字符串列表：“更有条理的代码”、“更易读的代码”、“更容易的代码重用”、“允许程序员共享和连接代码”

2.  添加一个名为 build_sentence(info) 的函数，它接收一个包含字符串的参数并返回一个以给定字符串开头并以字符串结尾的句子“是函数的好处！”

3.  运行并查看所有功能协同工作！

我已经用谷歌搜索了这个问题，但所有这些似乎都是针对以前版本的 python，我希望有一种更新的方法来做到这一点。

给定代码：

```
def name_the_benefits_of_functions():
    list_of_benefits = list_benefits()
    for benefit in list_of_benefits:
        print build_sentence(benefit)

name_the_benefits_of_functions() 
```

预期输出：

```
More organized code is a benefit of functions!
More readable code is a benefit of functions!
Easier code reuse is a benefit of functions!
Allowing programmers to share and connect code together is a benefit of functions! 
```

我试过的：

```
def list_benefits():
    benefits_list = ["More organized code", "More readable code", "Easier code reuse",           "Allowing programmers to share and connect code together"]
    return benefits_list
def build_sentence(benefit):
    return "%s is a benefit of functions!" % list_benefits()

def name_the_benefits_of_functions():
    list_of_benefits = list_benefits()
    for benefit in list_of_benefits:
        print(build_sentence(benefit))

name_the_benefits_of_functions() 
```

输出：

```
['More organized code', 'More readable code', 'Easier code reuse', 'Allowing programmers to share and connect code together'] is a benefit of functions!
['More organized code', 'More readable code', 'Easier code reuse', 'Allowing programmers to share and connect code together'] is a benefit of functions!
['More organized code', 'More readable code', 'Easier code reuse', 'Allowing programmers to share and connect code together'] is a benefit of functions!
['More organized code', 'More readable code', 'Easier code reuse', 'Allowing programmers to share and connect code together'] is a benefit of functions! 
```

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:26:12.043

每次调用该函数时，您只希望它使用您在其参数`build_sentence()`中指定的单个好处构建一个句子。`benefit`

```
def build_sentence(benefit):
    return "%s is a benefit of functions!" % benefit 
```

对于此循环的每次迭代：

```
for benefit in list_of_benefits:
    print(build_sentence(benefit)) 
```

将一个好处传递给该`build_sentence()`函数，这就是您要打印的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:26:07.747

我想你想做的是：

```
def build_sentence(benefit):
    return "%s is a benefit of functions!" % benefit 
```

您的调用是`name_the_benefits_of_functions`将`list_benefits()`结果列表存储在本地变量`list_of_benefits`中。现在您迭代它（正确地），但在您的`build_sentence`函数中，您反复获得一个新的好处列表。而不是这样做，只需添加`benefit`传入的单曲。

我知道你是 Python 的新手，所以欢迎你。我相信您会看到关于 的部分`generators`，但这里有一个修改后的示例，只是为了好玩。

```
def list_benefits():
    benefits_list = ["More organized code", "More readable code", "Easier code reuse", "Allowing programmers to share and connect code together"]
    i = 0
    while i < len(benefits_list):
        yield benefits_list[i]
        i += 1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T01:09:10.920

我只是陷入了同样的问题。我的`name_the_benefits_of_functions()`功能有点垃圾，因为它只是重复四次，而不是在`list_of_benefits`用完时优雅地失败，但这对我有用：

```
# Modify this function to return a list of strings as defined above
def list_benefits(count): #just a list of benefits. It spits out whatever number 'count' happens to be
    list_of_benefits = ["More organized code", "More readable code", "Easier code reuse", "Allowing programmers to share and connect code together"]
return list_of_benefits[count]

# Modify this function to concatenate to each benefit - " is a benefit of functions!"
def build_sentence(benefit): #tacks on the sentence end, and that's it
    return "%s is a benefit of functions!" % benefit

def name_the_benefits_of_functions():
    count = 0
    while count < 4: # not very graceful, but oh well
        benefit = list_benefits(count)
        print build_sentence(benefit)
        count += 1

name_the_benefits_of_functions() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T03:29:35.080

当您应该将列表中的每个字符串依次传递给函数时，您正在将字符串列表传递给函数 build_sentence。

```
list_of_benefits = list_benefits()
for item in list_of_benefits:
    print build_sentence(item) 
```

您还需要在此处格式化您的代码问题，以便更容易破译。

我希望我正确理解了你的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-14T17:21:46.947

这对我有用。我花了一段时间才得到首字母缩略词，错误的全部伽玛和所有类型的烟花，但正确的答案。

最后......我意识到你并不真的需要所有功能的意大利面（就像他们设置的那样。-我试图让这些功能按照我认为的需要工作；但事实并非如此。所以我很惊讶我得到了弹出来移动到下一章。

我学到的教训？..区分*返回*和*打印*并使用它。

说得好。这是代码！：

```
# Modify this function to return a list of strings as defined above
s= ("More organized code", "More readable code", "Easier code reuse", "Allowing programmers to share and connect code together")
def list_benefits(s):
  for b in s:
    return b

def build_sentences(s):
  for b in s:
    print b + " is a benefit of functions!"

list_benefits(s)
build_sentences(s) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-27T21:20:49.397

我是初学者，这是我的答案

def list_benefits():

```
benefit_list= ["More organized code","More readable code", "Easier code reuse","Allowing programmers to share and connect code together"]

return benefit_list
pass 
```

def build_sentence（好处）：

```
return benefit + " is a benefit of functions!"

pass 
```

def name_the_benefits_of_functions():

```
list_of_benefits = list_benefits()

for benefit in list_of_benefits:

    print build_sentence(benefit) 
```

name_the_benefits_of_functions()

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-09-19T17:59:53.603

答案（简短而甜蜜）：

```
 # Modify this function to return a list of strings as defined above
def list_benefits():
    return "More organized code", "More readable code", "Easier code reuse", "Allowing programmers to share and connect code together"

# Modify this function to concatenate to each benefit - " is a benefit of functions!"
def build_sentence(benefit):
    return "%s is a benefit of functions!" % benefit

def name_the_benefits_of_functions():
    list_of_benefits = list_benefits()
    for benefit in list_of_benefits:
        print build_sentence(benefit)

name_the_benefits_of_functions() 
```

摆脱您的列表，只需返回字符串。

# makefile - Makefile问题，需要澄清

> ID：11857219
> 
> 赞同：0
> 
> 时间：2012-08-08T03:20:42.937
> 
> 标签：makefile

以下是我使用的 Makefile。一切都很好，除了应该在 obj/ 目录中创建 .o 而不是。

请问我做错了什么？

![在此处输入图像描述](../Images/67fab64295a0ec74157d53ccbcad4843.png)

确定之后

*   src 目录包含 a.cpp
*   目标目录存在且为空
*   obj 目录存在且为空

什么时候`make`跑，我看到了

```
g++ -pedantic -Wall -c src/a.cpp  -o /Users/me/Dropbox/dev/c++/hott/obj/src/a.o 
```

什么时候应该

```
g++ -pedantic -Wall -c src/a.cpp  -o /Users/me/Dropbox/dev/c++/hott/obj/a.o 
```

**请问我做错了什么？**

**更新**`pwd`：硬编码路径并且不依赖分辨率时似乎没有任何改变

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T03:22:53.723

如果你使用`-o`你必须指定文件名，而不仅仅是输出路径。尝试：

```
$(CC) $(FLAGS) $(SOURCES) $(OBJ)/$@ 
```

这个问题也可能有帮助：

*   [makefile 符号 $@ 和 $< 是什么意思？](https://stackoverflow.com/questions/3220277/what-do-the-makefile-symbols-and-mean)

此外，您可能想要调用类似的`FLAGS`东西`CFLAGS`，意思是“编译的标志”。

* * *

**编辑**

请注意，您没有有效地使用 make，因为您总是从 .cpp 文件重新编译所有 .o 文件。您应该改用[Pattern Rule](http://ftp.gnu.org/old-gnu/Manuals/make-3.79.1/html_chapter/make_10.html#SEC98)，以便 Make 可以有规则来仅构建必要的内容。（即“要从 .cpp 文件构建任何 .o 文件，请执行以下操作：___”） 

```
%.o : %.c
    $(CC) -c $(CFLAGS) $(CPPFLAGS) $< -o $@ 
```

您可以编辑它以包含`$(OBJ)`在`$@`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T14:03:37.237

像这样使用时一切正常。乔纳森建议的一个小修改

![在此处输入图像描述](../Images/5a3f10ae9a1e811b31cfb0e68612047d.png)

# css - 如何推翻先前的CSS

> ID：11857222
> 
> 赞同：1
> 
> 时间：2012-08-08T03:21:21.913
> 
> 标签：css

为什么我不能用div类“title left”控制下面的<p>标签

```
<td align="left" >
                    <div class="pop-posts-image-left">
                            <a href="http://www.livecrafteat.com/live/meal-planning-template/"> 
                                <img src="http://www.livecrafteat.com/wp-content/uploads/2012/08/menu-plan-sidebar-thumbnail-2.jpg" alt="" />  
                            </a>
                           <div class="title left">
                                <p text-align="center">  
                                     This Is An Example Post Title 
                                </p> 
                           </div>  
                     </div>
</td> 
```

相反，它受到以下控制：

```
body, h1, h2, h2 a, h2 a:visited, h3, h4, h5, h6, p, select, textarea {
color: #70635A;
font-family: "Century Gothic",AppleGothic,Arial,sans-serif;
font-size: 10px;
font-weight: normal;
line-height: 22px;
margin: 0;
padding: 0;
text-decoration: none;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:46:04.827

`title left`不是一个类。这是两个类：`title`和`left`

您可以使用其中之一将样式应用于 P 标签：

```
.title p {your styles} 
```

或两者，如果你愿意

```
.title.left p {your styles} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T03:27:10.957

它现在不应用它的原因是因为标签名称的 CSS 样式优先于使用类定义的样式。

使用您定义的样式，您可以指定要将其应用于`<p>`：

```
.title-left, .title-left p {
    color: #000;    
    font-size: 20px;
} 
```

在 HTML 中：

```
<div class="title-left"> 
  <p> This Is An Example Post Title </p>
</div> 
```

或者，如果您只想将样式应用于`<p>`而不是`<div>`：

```
.title-left {
    color: #000;    
    font-size: 20px;
} 
```

在 HTML 中：

```
<div> 
  <p class="title-left"> This Is An Example Post Title </p>
</div> 
```

[您可以在此处](http://jsfiddle.net/ha4fQ/7/)测试修改。

# java - Java 错误：找不到符号/库存程序

> ID：11857224
> 
> 赞同：0
> 
> 时间：2012-08-08T03:21:45.807
> 
> 标签：java

我是 Java 新手，正在尝试编译这个清单程序。我不断收到相同的错误消息，无法弄清楚我错过了什么。错误是找不到符号，它在第 10、18、20、21、22、23 行任何说 Inventory 有指向它们的 ^ 符号。我附上了我绞尽脑汁并尽我所能尝试的一切，我将不胜感激。

```
//InventoryProgram2.java
//Camera inventory program
import java.util.Arrays; 

public class InventoryProgram2
{
public static void main( String args [])
{
      //instantiate camera object
      Inventory myInventory = new Inventory();

      //displays welcome message
System.out.println( "Camera Invenotry Program");
System.out.println();//skips a line

//create and initialize an array of Cameras
Inventory[] Camera = new Inventory[4];

Camera[0] = new Inventory( 1980, "Cannon Rebel T3", 20, 489.99);
Camera[1] = new Inventory( 2120, "Nikon CoolPix L810", 5, 279.99);
Camera[2] = new Inventory( 1675, "Sony CyberShot HX200V", 12, 479.99);
Camera[3] = new Inventory( 1028, "Fujifilm FinePix S4300", 3, 199.99);

//for each array element, output value

for(int count = 0; count < Camera.length; count++)
{
    Camera[count] = count+1;

    System.out.printf("Product Number: %4.2f\n", Camera[count].getprodNumber() );
    System.out.printf("Product Name: %s\n", Camera[count].getprodName() );
    System.out.printf("Units In Stock: %.2f\n", Camera[count].getunitsTotal() );
    System.out.printf("Unit Price: $%4.2f\n", Camera[count].getunitPrice() );
    System.out.printf("Inventory Value: $%4.2f\n", Camera[0].gettotalInventory() );
    System.out.println();//blank line to seperate products

    }//end for 

}//end main method

}//end public class InventoryProgram2

class Camera
{

private int prodNumber;//product number
private String prodName;//product name
      private int unitsTotal;//total units in stock
      private double unitPrice;//price per unit
private double totalInventory;//amount of total inventory

//initializa four-argument constructor
public Camera ( int number, String name, int total, double price)
      {
     prodNumber = number;
     prodName = name;
     setUnitsTotal (total);//validate and store total of camera
     setUnitPrice (price);//validate and store price per camera

}//end four-argument constructor

public void setProdNumber (int number)
{
          prodNumber = number;
}

      public int getProdNumber()
{
    return prodNumber;
}

public void setProdName (String name)
{
    prodName = name;
}
      public String getProdName()
{
    return prodName;
}

public void setUnitsTotal (int total)
      {
    unitsTotal = total;
}
public int getUnitsTotal()
{
    return unitsTotal;
}  
      public void setUnitPrice (double price)
      {
    unitPrice = price;
}
      public double getUnitPrice()
{
    return unitPrice;
}

// method to set Inventory value
//public void setInventoryValue(double value)

//{
//InventoryValue = value;
//}end method setInventoryValue

//method to get InventoryValue
//public double getInventoryValue()
//{
// return InventoryValue;
//} //end method to getInventoryValue

public double getInventoryValue()
{
    return unitPrice * unitsTotal;
}//end method to getInventoryValue

//method to set TotalInventory
//public void setTotalInventory(double value)

//{
//TotalInventory = total;
//}end method setTotalInventory

//method to get TotalInventory
//public double getTotalInventory()

//{
//return TotalInventory;
//}end method to getTotalInventory

}//end class Camera 
```

我需要保留一台相机，所以我做了一些调整。我有7个错误如下：

第 10 行：错误：Camera 类中的构造函数 Camera 不能应用于给定类型；相机 myCamera = new Camera(); 必需：int、String、int、double 找到：无参数 原因：实际参数列表和形式参数列表的长度不同

第 29 行：错误：不兼容的类型 Inventory[count] = count+1 ^ required：Camera found: int

第 31、32、33、34、35 行：错误找不到符号 System.out.printf(......) [count].getprodNumber ^ 符号：方法 getprodNumber() 位置：类 Camera

这是我更新的代码：

```
//Inventory.java 
```

//相机盘点程序 import java.util.Arrays;

```
public class Inventory
{
public static void main( String args [])
      {
      //instantiate camera object
      Camera myCamera = new Camera();

//displays welcome message
System.out.println( "Camera Invenotry Program");
System.out.println();//skips a line

//create and initialize an array of Cameras
Camera[] Inventory = new Camera[4];

Inventory[0] = new Camera( 1980, "Cannon Rebel T3", 20, 489.99);
Inventory[1] = new Camera( 2120, "Nikon CoolPix L810", 5, 279.99);
Inventory[2] = new Camera( 1675, "Sony CyberShot HX200V", 12, 479.99);
Inventory[3] = new Camera( 1028, "Fujifilm FinePix S4300", 3, 199.99);

//for each array element, output value

for(int count = 0; count < Inventory.length; count++)
{
      Inventory[count] = count+1;

      System.out.printf("Product Number: %4.2f\n", Inventory[count] .getprodNumber() );
      System.out.printf("Product Name: %s\n", Inventory[count] .getprodName() );
      System.out.printf("Units In Stock: %.2f\n", Inventory[count] .getunitsTotal() );
      System.out.printf("Unit Price: $%4.2f\n", Inventory[count] .getunitPrice() );
      System.out.printf("Inventory Value: $%4.2f\n", Inventory[0] .gettotalInventory() );
      System.out.println();//blank line to seperate products

    }//end for 

}//end main method

}//end public class Inventory

class Camera
{

private int prodNumber;//product number
private String prodName;//product name
      private int unitsTotal;//total units in stock
      private double unitPrice;//price per unit
private double totalInventory;//amount of total inventory

//initializa four-argument constructor
public Camera ( int number, String name, int total, double price)
      {
     prodNumber = number;
     prodName = name;
     setUnitsTotal (total);//validate and store total of camera
     setUnitPrice (price);//validate and store price per camera

}//end four-argument constructor

public void setProdNumber (int number)
{
    prodNumber = number;
}

      public int getProdNumber()
{
    return prodNumber;
}

public void setProdName (String name)
{
    prodName = name;
}
      public String getProdName()
{
    return prodName;
}

public void setUnitsTotal (int total)
      {
    unitsTotal = total;
}
public int getUnitsTotal()
{
    return unitsTotal;
}  
      public void setUnitPrice (double price)
      {
    unitPrice = price;
}
      public double getUnitPrice()
{
    return unitPrice;
}

// method to set Inventory value
//public void setInventoryValue(double value)

//{
//InventoryValue = value;
//}end method setInventoryValue

//method to get InventoryValue
//public double getInventoryValue()
//{
// return InventoryValue;
//} //end method to getInventoryValue

public double getInventoryValue()
{
    return unitPrice * unitsTotal;
}//end method to getInventoryValue

//method to set TotalInventory
//public void setTotalInventory(double value)

//{
//TotalInventory = total;
//}end method setTotalInventory

//method to get TotalInventory
//public double getTotalInventory()

//{
//return TotalInventory;
//}end method to getTotalInventory

}//end class Camera 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:31:41.660

看起来你的 Camera 类真的应该被称为 Inventory。您在主应用程序类中使用 Camera 作为变量名而不是类型。

更改`class Camera`为`class Inventory`

和

```
public Camera ( int number, String name, int total, double price) 
```

至

```
public Inventory ( int number, String name, int total, double price) 
```

它应该让你更接近，如果不是一直到那里的话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:28:37.127

检查`Inventory`类是否与该类在同一个包中。否则，只需像您为`Arrays`.

# jsf - 在另一个页面中获取 View Scoped Bean 的数据

> ID：11857226
> 
> 赞同：1
> 
> 时间：2012-08-08T03:22:07.583
> 
> 标签：jsf, primefaces

我有 2 页。第 1 页会将一些数据传输到第 2 页，因此我必须在第 1 页中使用 bean 范围内的会话。在第 2 页中，我必须更改一些会影响第 1 页中的数据的数据。但是我返回第 1 页，数据仍然没有改变。如果我在第 1 页使用查看范围，我无法转到第 2 页。请帮我做

# javascript - 使用 jqPlot 用颜色填充图形的下半部分

> ID：11857240
> 
> 赞同：0
> 
> 时间：2012-08-08T03:23:46.913
> 
> 标签：javascript, canvas, jqplot

我正在使用 jqPlot 制作一个简单的图表：

![在此处输入图像描述](../Images/08476483870681196e977defc3880a67.png)

他们的文件表明它已经过时了。有没有办法用这样的颜色来遮蔽图形的下半部分（线下方）？

[http://www.epmag.com/resources/images/archives/OFFPROD-Petrolite-Graph1.jpg](http://www.epmag.com/resources/images/archives/OFFPROD-Petrolite-Graph1.jpg)

如果没有，关于我如何自己遮蔽它的任何线索？jqPlot 使用 javascript 在 HTML 画布上绘图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T20:10:48.597

在您的[系列选项](http://www.jqplot.com/docs/files/jqplot-core-js.html#Series.fill)集中：

```
series: [
    {
       fill: true
    }
] 
```

请参阅此[示例](http://www.jqplot.com/deploy/dist/examples/dashboardWidget.html)。

# iphone - 如何在目标c中声明指针数组

> ID：11857243
> 
> 赞同：1
> 
> 时间：2012-08-08T03:24:27.377
> 
> 标签：iphone, objective-c, ios, arrays

我不知道如何声明一个只存储指向对象的指针的数组。根据我的理解，如果我使用方法

```
 [ someArray addObject:someObject ] , 
```

然后它将对象的副本添加到数组中，并且对对象的任何更改都不会反映到原始对象。

我想要的是创建一个指针数组，它只指向对象并且对对象所做的更改将持续存在。请原谅我，如果我遗漏了一些基本的东西。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T04:02:11.650

`NSArray`或是一个指针数组`NSMutableArray` *。*没有复制。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T03:29:41.390

你的基础错了。从技术上讲，当您这样做时，您会创建指向这些对象的指针数组。

[http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html)阅读描述。

如果要复制对象，则必须明确说明。

例如看这个问题

[深拷贝一个 NSArray](https://stackoverflow.com/questions/647260/deep-copy-nsmutablearray-in-objective-c)

顺便说一句，您应该使用 NSMutableArray。

还要看看超类 NSArray

[http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html#//apple_ref/occ/cl/NSArray](http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html#//apple_ref/occ/cl/NSArray)

专门针对**initWithArray:copyItems:**

> 旗帜
> 
> 如果是，数组中的每个对象都会收到一个 copyWithZone: 消息来创建对象的副本——对象必须符合 NSCopying 协议。在托管内存环境中，这不是对象将收到的保留消息。然后将对象副本添加到返回的数组中。
> 
> 如果否，则在托管内存环境中，数组中的每个对象在添加到返回的数组时都会收到一条保留消息。

默认情况下，将对象添加到 nsmutablearray 会在必要时增加其容量，为对象添加保留，以及指向对象的指针。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-08T03:36:00.683

> ...如果我使用方法
> 
> ```
> [ someArray addObject:someObject ] , 
> ```
> 
> 然后它将对象的副本添加到数组中，并且对对象的任何更改都不会反映到原始对象。

虽然它在技术上与问题无关，但我必须更正您的术语。Objective-C 中的“复制”意味着将方法`-copy`发送到对象，这将在自身中创建一个新对象。数组所做的是发送`-retain`到它们的对象，这意味着数组本身现在拥有对象的股份，这就是为什么不引用数组 ( `-objectAtIndex:`) 或对对象本身具有有效声明的更改不会被反映的原因。

> 我想要的是创建一个指针数组，它只指向对象并且对对象所做的更改将持续存在。请原谅我，如果我遗漏了一些基本的东西。

好吧，不幸的是，iOS 不支持类[NSPointerArray](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSPointerArray_Class/Introduction/Introduction.html)，这将使您的实际指针数组变得非常容易。在不涉及任何 C 疯狂的情况下，我只能重申我上面提到的内容：如果您需要改变数组中的对象，只需使用对它的有效引用来访问它，或者使用`-objectAtIndex`. 只要您仍然对对象有有效的声明（在这种情况下是引用，它的指针没有因为它被发送而改变`-retain`），您就可以更改它。请注意下面的简单示例：

```
NSMutableString *str = [[NSMutableString alloc]initWithString:@"Hello"];
NSArray *arr = [[NSArray alloc]initWithObjects:str, nil];
NSLog(@"%@",arr);
[str appendString:@" Friend!"];
NSLog(@"%@",arr); 
```

这打印：

```
2012-08-07 21:37:46.368 .MyApp[2325:303] (
    Hello
)
2012-08-07 21:37:46.369 .MyApp[2325:303] (
    "Hello Friend!"
) 
```

简单的！

# javascript - 内容滑块问题 javascript

> ID：11857244
> 
> 赞同：1
> 
> 时间：2012-08-08T03:24:29.783
> 
> 标签：javascript

好的，所以我正在尝试制作像 www.gamespot.com 这样的可视化代码。我对每个 div 都有一个显示/隐藏/切换功能。

[jsFiddle](http://jsfiddle.net/2ZswK/1/)

Javascript：

```
<script language="javascript" type="text/javascript">
//<!--

function showRow(mainsect){
if (document.getElementById(mainsect)) {
        document.getElementById(mainsect).style.display = ''; 
    }
}

function hideRow(mainsect){
if (document.getElementById(mainsect)) {
    document.getElementById(mainsect).style.display = 'none';
}
}

function toggleRow(mainsect){
if (document.getElementById(mainsect)) {
    if (document.getElementById(mainsect).style.display == 'none') {
        showRow(mainsect)
    } else {
        hideRow(mainsect)
    }
}
}

//-->
</script>
  <script type="text/javascript">
window.onload=function('hideRow';) {
toggleRow('mainsect');
};
</script> 
```

好的，我为每个 div 使用的 html 是

```
<li><a href="javascript:void(0);" onMouseOver="toggleRow('sect')" onMouseOut="toggleRow('sect')">Page 1</a></li> 
```

当它 mouseOver togglesRow 'sect' 并且我有多个这样的 ////\ javascript 代码（我相信有四个）来调用每个不同的 div 时，它的作用是什么。问题是 style="display:none;" 做到了，所以根本没有图像。我想要做的是，当鼠标移出 sect 或 Page1 时，它会一直停留在该页面上，直到将鼠标悬停在 page2 或任何其他页面上……我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T01:08:05.100

好的，我一切正常。我所做的是删除

```
} else { 
    hideRow(mainsect) 
} 
```

每次调用鼠标悬停功能时都会隐藏它，即使 div 已经打开，这是我不想要的。然后反过来创建了这样的a href

```
<li><a href="javascript:void(0);" onMouseOver="toggleRow('sect')";hideRow('otherRow');hideRow('sect2');">Page 1</a></li> 
```

一切正常，花花公子。虽然在 jsfiddle 中它不起作用，所以试图找出更多。

# c# - 如何从列表框中获取选定的复选框项目

> ID：11857245
> 
> 赞同：1
> 
> 时间：2012-08-08T03:24:33.793
> 
> 标签：c#, wpf, checkbox, listbox

我有一个列表框，其中的项目包含复选框：我想为`Content`用户选择的每个 CheckBox获取字符串

```
 <ListBox Name="SendCodecsNamelistBox"
                     Height="52"
                     Margin="150,128,31,65"
                     ItemsSource="{Binding .}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <CheckBox Content="{Binding Path=.}" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:36:43.997

您可以像这样定义模型

```
public class Model
{
    public string Content { get; set; }
    public bool IsSelected { get; set; }
} 
```

并将其绑定到复选框

```
 <ListBox.ItemTemplate>
            <DataTemplate>
                <CheckBox Content="{Binding Path=Content}" IsChecked="{Binding Path=IsSelected, Mode=TwoWay}" />
            </DataTemplate>
        </ListBox.ItemTemplate>

        var data = new List<Model>()
        {
            new Model{ Content = "item1", IsSelected = false},
            new Model{ Content = "item2", IsSelected = false},
            new Model{ Content = "item1", IsSelected = false},
            new Model{ Content = "item3", IsSelected = false}
        };

        SendCodecsNamelistBox.ItemsSource = data; 
```

然后你可以像这样得到你想要的

```
var selectedContents = data.Where(i => i.IsSelected)
                           .Select(i => i.Content)
                           .ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:35:09.317

这就是 WPF 和 MVVM 耦合在一起的原因。因为您可以在 中放置任何内容，所以`ItemsTemplate`直接从 GUI 获取有关已检查项目的信息是一件很痛苦的事情。

将您绑定`ListBox`到具有属性的视图模型集合，然后`IsChecked`将该属性绑定到`CheckBox.IsChecked`，您将从集合中获得选中的项目。

# java - 创建一个noSql数据库，最好看的源代码是什么？

> ID：11857248
> 
> 赞同：0
> 
> 时间：2012-08-08T03:24:50.483
> 
> 标签：java, rest, nosql, comments, sharding

我一直想要一个专为存储大量嵌套/线程注释而构建的 nosql 数据库。实现可能会在 java 中完成，因为这是我最擅长的。我真的很喜欢 ElasticSearch 是如何简单地设置一个集群并将数据投入其中，我希望我的产品具有这些相同的品质。以下是我想到的功能：

1) 跨集群的自动/手动分片
2) 跨集群的自动/手动索引
3) 全文搜索（可能通过 lucene 或 elasticSearch）
4) REST/JSON API
5) 通过 ID 检索任何评论
6) 可以在有或没有的情况下检索评论子节点
7) 可以以指定的深度检索
评论树 8) 可以检索评论树 可以按时间或等级过滤
9) 可以重新设置整个评论树的父节点。

我正在寻找的是在深入研究这个项目之前我可以研究的特殊代码或特定算法。谁能推荐几个开始的地方？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:34:13.617

由于您在问题中的标记表示 Java，因此我建议您查看 OrientDB。

这是一个源代码：

[http://code.google.com/p/orient/source/browse/](http://code.google.com/p/orient/source/browse/)

和架构：

[http://code.google.com/p/orient/wiki/Presentations](http://code.google.com/p/orient/wiki/Presentations)

对于大男孩的东西（集群、超缩放，看看 HBase 和 Accumulo）：

[http://hbase.apache.org/source-repository.html](http://hbase.apache.org/source-repository.html)

[http://accumulo.apache.org/source.html](http://accumulo.apache.org/source.html)

希望这可以帮助。
埃德蒙

# date - 将警报设置为在特定时间前 5 分钟发出警报

> ID：11857251
> 
> 赞同：0
> 
> 时间：2012-08-08T03:25:56.413
> 
> 标签：date, calendar, android-alarms

我试图让警报管理器在事件发生前 5 分钟提醒用户。我该怎么做呢？

例如，事件发生的时间是 10:00:00，我需要在 9:55:00 提前 5 分钟设置闹钟。我无法在搜索中找到这方面的示例。

是否有日期或日历功能可以根据日期设置更早的时间？

下面是不完整的伪代码

```
 int index = eventTime.indexOf(':');
                String Hour =eventTime.substring(0, index);
                String Min = eventTime.substring(index + 1, index + 3);

                Calendar cal = Calendar.getInstance(); 
                int em = Integer.parseInt(eventMonth);
                int ed = Integer.parseInt(eventDay);
                int ey = Integer.parseInt(eventYear);
                int h = Integer.parseInt(Hour);
                int m = Integer.parseInt(Min);

                        int alertTime=5;
                        m=m+alertTime;

                            cal.set(Calendar.MONTH, em);
                cal.set(Calendar.YEAR, ey);
                cal.set(Calendar.DAY_OF_MONTH, ed);
                cal.set(Calendar.HOUR_OF_DAY, h);
                cal.set(Calendar.MINUTE, m);

                            AlarmManager mgr = new AlarmManager();

                             mgr.addAlarm(cal.getTime(), new AlarmListener() {
            // public void handleAlarm(AlarmEntry entry)
            Log.v("calander", cal.toString());
            // }
            // }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:42:41.443

您的伪代码在正确的轨道上。虽然`AlarmManager`你想做这样的事情：

```
AlarmManager alarm = (AlarmManager)getContext().getSystemService(Activity.ALARM_SERVICE);
alarm.set(AlarmManager.RTC_WAKEUP, time.getTimeInMillis(), pi);
//pi is a PendingIntent since you want it to run some code at the point it goes off
//Look up PendingIntent on the Android docs to understand what it does if you dont already know 
```

对于您使用的约会`Calendar`对象，您做得对。尽管以这种方式使用会更清洁`set()`：

```
set(int year, int month, int day, int hourOfDay, int minute) 
```

在您的情况下，它可能如下所示：

```
Calendar cal = Calendar.getInstance();
cal.set(ey, em, ed, h, m-5); 
```

至于是否存在根据日期制作日历的东西，这取决于你想怎么做。对你来说，我真的不认为除了提供日期之外你真的可以做任何其他事情，只是根据它的分钟、小时等减去做。

# c++ - “最大更改”功能的最佳模板参数类型？

> ID：11857252
> 
> 赞同：0
> 
> 时间：2012-08-08T03:26:03.027
> 
> 标签：c++, c++11

我想编写一个通用函数，它接受一个引用 x 和一个值 y，如果 y 大于 x，则将 x 分配给 y。（性能关键）

这是我所拥有的：

```
template<class X, class Y>
inline void chmax(X& x, const Y& y) { if (y > x) x = y; } 
```

这是最好的方法吗？

我担心参数类型“const Y&”，如果我只使用“Y”会有什么区别？两种不同方式中的一种会与优化器混淆吗？如果 Y 是 POD 类型呢？这会强制它调用addressof，将指针传递给int，然后取消引用指针吗？

（如果两者不同，我对通用 C++ 答案和 C++11 特定答案都感兴趣。）

# php - 有没有办法将 mysql 查询从一个页面安全地传递到另一个页面？

> ID：11857257
> 
> 赞同：4
> 
> 时间：2012-08-08T03:26:33.387
> 
> 标签：php, mysql

有没有办法将 mysql 查询从一个页面安全地传递到另一个页面？

基本上，我有一个由 mysql 查询生成的项目列表，并且仅限于 5 个项目。我想在底部添加一个“更多”链接，将用户带到一个显示相同列表但没有 5 项限制的页面。通常我会将一组参数传递给“更多”页面，我可以使用这些参数来重新创建查询，但由于列表可以由大量和多样化的查询生成，这非常困难。

所以我想知道是否有一种方法可以安全轻松地将整个 mysql 查询从一个 php 页面传递到另一个页面。例如，有没有办法做到这一点，当您单击一个链接时，查询存储在一些数据库中，并为其分配了一个 ID，然后只需将 ID 传递到下一页。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:30:38.620

**“将查询从一个页面传递到另一个页面的安全方法”是根本不传递它。将查询视为数据并在页面之间传递它们是意外创建安全漏洞的一种非常好的方法。**

您生成查询的逻辑已经存在，因此只需将该逻辑提供给两个页面即可。这通常是通过`require()`将具有共享代码的文件放入两个页面的文件中来完成的。

或者，只需向已经生成查询的页面添加一个选项，以显示完整的项目集，而不仅仅是一个子集——无需完全独立的页面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:30:08.210

您可以使用会话来传递数据，而不会“逃离”后端领域。

由于查询可能来自许多地方，您可能需要通过一些任意标识符键对数据进行索引，并将其传递到 URL 中。

**更新**

如果站点是公开的（即不需要登录），会话会阻止与其他人轻松共享页面。

在这种情况下，您应该有一种方法来识别所有查询，无论是使用数据库还是从代码库本身（可能使用命名约定）；然后通过查询参数发送参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T03:31:40.373

如果不能使用会话，则使用私钥对查询进行加密，base64 对其进行编码，并将其放在页面上的隐藏输入字段中。

# forms - 重定向到编辑操作 onclick 单选按钮不起作用

> ID：11857267
> 
> 赞同：0
> 
> 时间：2012-08-08T03:28:25.987
> 
> 标签：forms, rails-3.1

```
<% @divisions.each do |division| %>
  <td class="user_radio"><%= radio_button_tag("division_ids[]", division.id, false, :onClick=> 'redirect_to edit_division_path(division)')%></td>
  /* rest of the elements in the division */
  <% end %> 
```

我需要在单击单选按钮时将页面重定向到正在单击的分区的edit_division_path。

但什么也没有发生。没有错误或其他任何东西..

我究竟做错了什么？

我正在使用rails 3 ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:40:29.633

`onClick`是一个javascript的东西。

你想要的是这样的：

```
:onClick => 'location.href="' + edit_division_path(division) + '"' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-04T09:45:20.143

```
onclick = "document.location.href='somepage.htm'" 
```

# php - php 打开打印浏览器

> ID：11857272
> 
> 赞同：0
> 
> 时间：2012-08-08T03:29:12.463
> 
> 标签：php

我发现这段代码会自动下载在 GET 方法中声明的 pdf 文件。是否有另一个 php 代码可以打开浏览器打印窗口并允许用户单击打印？我可以使用相同的 GET 方法吗？谢谢

```
 <?php
$name = isset($_GET["name"])? trim($_GET["name"]): "";
if ($name && preg_match("/\.pdf$/i",$name) && file_exists($name)) {
    header ("Content-Type: application/octet-stream");
    header ("Content-Transfer-Encoding: binary");
    header ("Content-Length: " . filesize($name));
    header ("Content-Disposition: attachment; filename=$name");
    readfile($name);
    exit;
}
?> 
```

我还找到了这个 Javascript 代码，但它只适用于 Chrome `function printTrigger(elementId) { var getMyFrame = document.getElementById(elementId); getMyFrame.focus(); getMyFrame.contentWindow.print(); }`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:47:43.717

听起来你在寻找`window.print()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:48:17.833

无需将文档作为`octet-stream`带有`attachment`处置的文件发送（这将迫使用户下载它），只需将 PDF（使用正确的`header('Content-type: application/pdf');`）加载到页面上的隐藏 iframe 中，然后使用 javascript`print()`函数（以该框架为目标）。

# jquery - 为什么我不能使用 jQuery 操作从外部 HTML 文件加载的行？

> ID：11857273
> 
> 赞同：0
> 
> 时间：2012-08-08T03:29:16.550
> 
> 标签：jquery, html-table, row

我得到一个包含表格的 HTML 文件：

src.HTML：

```
<table id="all">
  <tr>
    <th>Row 1</th>
    <td>Content 1</td>
  </tr>
  <tr>
    <th>Row 2</th>
    <td>Content 2</td>
  </tr>
  <tr>
    <th>Row 3</th>
    <td>Content 3</td>
  </tr>
</table> 
```

这是我的代码：

```
$('document').ready(function(){
    var tempTable = $('<table id="tempTable"></table>');
    tempTable.load('src.Html #all tr');
    console.log(tempTable);    --> it shows content of tempTable

    console.log($(tempTable).find('tr'));   --> it shows []

}); 
```

它有效，它打印 tempTable 的内容。

但是当我想根据需要获得行时，它什么也没显示！如：

```
$(tempTable).find('tr');        --> []
$(tempTable).find('tr').eq(1);  --> []
$('#tempTable tr:eq(2)')        --> [] 
```

谁能告诉我为什么？那个 tempTable 不是一个普通的 DOM 对象吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:20:11.503

我个人不喜欢[.load](http://api.jquery.com/load/)方法。我一直在为此苦苦挣扎。我什至不知道为什么[这个](http://jsfiddle.net/w7jRW/)例子没有正确加载和显示 HTML。但是，我确实在那里做了一些测试。你自己看。

在回调中，一切都很好。在调用回调之外的相同函数之后执行回调。这意味着您的内容是在您的代码之后加载的，因此您会收到空数组。

在谷歌 Chrome 开发者工具中，仍然显示临时表有子表的原因是您有一个对 DOM 对象的引用。我相信不同之处在于 JavaScript 范围与 DOM 范围不同。与纯 JavaScript 对象不同，到目前为止我对 DOM 对象的每个引用都会自动更新。请参阅[本](http://jsfiddle.net/w7jRW/1/)修订版。对同一个表的两个引用都表明第三行具有不同的内容，尽管它们在不同的时间被调用。

最后，您所需要的只是一个***回调处理程序***。

*编辑：*

忘记为什么它不会显示内容。当然不会，我从来没有更新过它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:21:59.020

只需使用函数***回调***[`.load()`](http://api.jquery.com/load)：

```
tempTable.load('src.Html #all tr', function() {
  $(tempTable).find('tr');
}); 
```

# .net - 与默认值相同时包含xml属性

> ID：11857274
> 
> 赞同：0
> 
> 时间：2012-08-08T03:29:18.510
> 
> 标签：.net, xml, xsd, xmlserializer

我有一个 xsd，我们使用 .net 中的 XMLSerializer 类来生成一个 xml 文档。我们有以下带有默认值的类型

```
 <xs:complexType name="telephoneType">
<xs:simpleContent>
  <xs:extension base="xs:string">
    <xs:attribute name="type" default="BH">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="BH"/>
          <xs:enumeration value="AH"/>
          <xs:enumeration value="mobile"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:extension>
</xs:simpleContent> 
```

似乎当我们将值设置为默认值 BH 时，它不包含文档中的属性。有没有办法总是包括这些？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:34:49.303

当属性等于其默认值时，序列化程序将不会创建元素/属性。除非您创建一个自定义方法来序列化您的对象，否则几乎没有什么可做的。

# java - 有没有办法自动化junit bean属性测试？

> ID：11857279
> 
> 赞同：7
> 
> 时间：2012-08-08T03:29:50.920
> 
> 标签：java, unit-testing, testing, junit, junit4

让我们面对现实吧，编写 bean 属性测试可能是最糟糕的时间利用方式。但他们需要完成。

例如。如果为如下调用测试`String`属性：`propName`

```
testProperty(target, "propName", String.class);
testProperty(target, "propName", String.class, "expected initial"); 
```

将验证：

*   `get`和`set`方法存在。
*   如果使用期望值，则测试`get`调用`assertEquals`给定值。
*   ( `get`, `is`)/`set`方法的行为符合预期。

我可以开始编写这些实现，但我想知道是否有可用的东西来促进这一点。其他可选属性可用于验证`null`是否允许或使用 JSR-303 bean 验证来验证字段。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-08T21:08:44.957

有很多现有的代码库/片段可以让这更容易。在进行快速搜索时，我发现了一些有潜力的：

*   [https://github.com/codebox/javabean-tester](https://github.com/codebox/javabean-tester)
*   [http://code.google.com/p/junit-javabean-runner/](http://code.google.com/p/junit-javabean-runner/)
*   [http://javabeantester.sourceforge.net/](http://javabeantester.sourceforge.net/)

我见过有人拿我列出的第一个例子（很好而且简单，因为它只是一个类）并修改它以更好地满足他们的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:38:34.860

如果您想手动执行 或参考此答案以获取公共 信息，我可以考虑[使用反射：](http://tutorials.jenkov.com/java-reflection/getters-setters.html)

[getter 和 setter 的 junit 测试方法](https://stackoverflow.com/questions/2218177/junit-test-method-for-getters-setters)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T21:01:24.760

创建另一个 bean，使其看起来像您测试过的 bean。然后使用 apache-commons、festAssert、hamcrest 或任何其他可以使用反射进行比较的框架。不要自己写，我确定它已经完成了

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-06-22T12:35:07.357

**更新到上面的 javabean-tester**

上面提到的（但死的）codebox/javabean-tester有一个[活动的 fork 项目，看起来相当不错......](https://github.com/hazendaz/javabean-tester)

# android - 如何在我的项目中添加 Jsoup？

> ID：11857281
> 
> 赞同：1
> 
> 时间：2012-08-08T03:30:05.557
> 
> 标签：android

我想解析一个 html 文件，我在 google 中找到了 Jsoup

我下载了Jsoup-1.6.3.jar

然后我在我的项目根目录中创建一个名为 libs 的文件

在 Eclipse -> RIGHT_CLICK 项目 -> 属性 -> 库 -> 添加 jars

-> 在文件夹 libs 中选择 Jsoup.jar -> 确定

但是当我在库中单击 Jsoup.jar 时，我发现：

源附件（无）、Javadoc 位置（无）、本机库位置（无）

我失去了任何一步吗？

有人可以教我如何在项目中导入 Jsoup 吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:47:23.293

你可以试试：

1.  创建一个文件夹“libs”
2.  将您的 jar 添加到 libs 文件夹中
3.  **右键单击 jars 并选择 Build Path -> Add to build path。**，它将在您的项目结构中创建一个“引用库”文件夹。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-11-24T00:35:23.173

将您的 Jsoup-1.6.3.jar 复制或移动到您的项目源中，然后右键单击 Jsoup-1.6.3.jar，构建路径并添加到构建路径。完成你的好去！

# php - array_search() 获取大于或等于数字的值？

> ID：11857287
> 
> 赞同：1
> 
> 时间：2012-08-08T03:31:08.647
> 
> 标签：php

我试图弄清楚如何搜索一个数组，以便找到一个值大于或等于 1 的键。

例如：

```
array_search(>1, $array); 
```

^ 非法语法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:36:43.217

array_search 不能有条件作为搜索的指针，而是使用 array_walk()。您可以将自定义函数传递给 array_walk，它将针对数组的每个元素执行该函数。就像是 ..

```
array_walk($array, 'check_great_than_one_fn');

function check_great_than_one_fn($val)
{
  //if($val > 1) do whatever your heart pleases..
} 
```

[在http://www.php.net/array_walk](http://www.php.net/array_walk)阅读更多关于它的信息

请注意：我给出的示例非常简陋，在论据和逻辑方面甚至可能不正确。它只是给你一个关于如何去做的想法。检查我提供的链接中的文档以获得正确的想法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-20T16:03:50.760

我正在使用非常相似的东西来构建一系列工作日：

```
// Set different value to test. 0 = Sunday, 1 = Monday
$start_of_week = 5;

// Build an array, where the values might exceed the value of 6
$days = range( $start_of_week, $start_of_week +6 );

// Check if we find a value greater than 6
// Then replace this and all following vals with an array of values lower than 6
if ( $found_key = array_search ( 7, $days ) )
    array_splice(
        $days,
        $found_key,
        7 -$found_key +1,
        range( 0, $days[ 0 ] -1 )
    );

// Check the days:
var_dump( $days ); 
```

# c++ - 如何在我的头文件中声明一个常量对

> ID：11857288
> 
> 赞同：0
> 
> 时间：2012-08-08T03:31:26.910
> 
> 标签：c++, constants, std-pair

```
#include <utility>
class C {
   private:
     const std::pair<int,int> corner1(1,1);
}; 
```

GCC 报告错误：数字常量之前的预期标识符。

我需要在它声明的那一刻构造对象，因为它是 const，但我似乎无法获得正确的语法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T03:36:02.417

> 我需要在它声明的那一刻构造对象，因为它是 const，但我似乎无法获得正确的语法。

不，您只能在构造函数初始化程序列表中初始化非整数类型 - const 与否（至少在 C++11 之前）：

```
class C {
   private:
     const std::pair<int,int> corner1;
     C() : corner1(1,1) {}
}; 
```

但是在我看来，您不需要在每个实例中都复制该成员，因此我只需将其设为静态即可：

```
class C {
   private:
     static const std::pair<int,int> corner1;
};

//implementation file:
const std::pair<int,int> C::corner1(1,1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:46:20.317

如果你通过`-std=c++11`并且你使用的是更新版本的 gcc，你可以这样做：

```
class C {
   private:
     const std::pair<int,int> corner1{1,1}; // Note curly braces
}; 
```

# jquery-mobile - jQuery Mobile 背景不是全高

> ID：11857294
> 
> 赞同：2
> 
> 时间：2012-08-08T03:31:43.950
> 
> 标签：jquery-mobile

当我在 iphone 上加载我的 jQuery Mobile 页面时，一些页面超出了初始视口。初始视口之外的空间一开始是白色的，而不是应有的灰色。我尝试使用这行代码将高度设置为 100%：`[data-role=page]{height: 100% !important; position:relative !important;}`但这仍然不能解决问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T02:15:04.143

我的 JQM 页面总是有同样的问题。我用它来使我的页面高度为 100%：

```
$(document).delegate('#yourPage', 'pageshow', function () {
    var the_height = ($(window).height() - $(this).find('[data-role="header"]').height() -   $(this).find('[data-role="footer"]').height());
    $(this).height($(window).height()).find('[data-role="content"]').height(the_height);
}); 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T02:09:53.597

首先，不要滥用`!important`. 要诊断 CSS 出了什么问题，您可以使用 Firefox 中的 Firebug / Chrome 中的开发者控制台。（Safari & IE 也有类似的东西）。一些 CSS 可能被覆盖，或者层可能重叠。

如果没有您的 HTML 代码和 jQuery 脚本，我真的无能为力，但通常，要使内容达到全高，您必须将`html`CSS 和`body`CSS 设置为使用`height: 100%;`.

# sql - 按日期降序对父行排序，子行在每个行下独立排序

> ID：11857295
> 
> 赞同：3
> 
> 时间：2012-08-08T03:31:50.230
> 
> 标签：sql, sql-server-2008, sql-order-by, inner-join, common-table-expression

这是我的表模式的人为版本来说明我的问题：

QuoteID、详细信息、DateCreated、ModelQuoteID

其中 QuoteID 是主键，ModelQuoteID 是返回到此表的可空外键，以表示已根据另一个报价建模的报价（并且可能随后更改了其详细信息列等）。

我需要返回一个按 DateCreated 降序排序的引号列表，但建模引号除外，它应位于其父引号下方，按日期在任何其他同级引号内降序排序（引号只能建模一层深度）。

因此，例如，如果我有这 4 个引号行：

```
1, 'Fix the roof', '01/01/2012', null
2, 'Clean the drains', '02/02/2012', null
3, 'Fix the roof and door', '03/03/2012', 1
4, 'Fix the roof, door and window', '04/04/2012', 1
5, 'Mow the lawn', '05/05/2012', null 
```

然后我需要按以下顺序取回结果：

```
5 - Mow the lawn
2 - Clean the drains
1 - Fix the roof
4 - -> Fix the roof, door and window
3 - -> Fix the roof and door 
```

我还传递了搜索条件，例如详细信息的关键字，并且即使它们不包含搜索词但它们的父引号包含，我也会返回建模的引号。我已经使用公用表表达式使该部分工作以获取原始报价，并与建模的联接结合在一起。

这很好用，但目前我必须将建模的引号重新排列为代码中的正确顺序。这并不理想，因为我的下一步是在 SQL 中实现分页，如果当时行没有正确分组，那么我不会让当前页面中的子项在代码中进行重新排序。一般来说，无论如何它们都会自然地组合在一起，但并非总是如此。您今天可以为一个月前的报价创建模型报价。

我在这方面花了很多时间，任何 SQL 专家都可以帮忙吗？非常感激。

编辑：这是我的 SQL 的人为版本，以适合我的人为示例 :-)

```
;with originals as (
select
    q.*
from
    Quote q
where
    Details like @details
)
select
    *
from
(
select
    o.*
from
    originals o

union

select
    q2.*
from
    Quote q2
join
    originals o on q2.ModelQuoteID = o.QuoteID
)
as combined

order by
    combined.CreatedDate desc 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T04:58:50.987

观看奥运会 - 只是浏览了你的帖子 - 看起来你想控制每一层的排序（根和一层），并确保返回的数据是直接在其父级下方的子级（这样你就可以分页数据...）。我们一直这样做。您可以`order by`向每个内部查询添加一个并创建一个`sort`列。我设计了一个稍微不同的示例，您应该很容易将其应用于您的情况。我将根升序和一级降序排序只是为了说明如何控制每个部分。

```
declare @tbl table (id int, parent int, name varchar(10))

insert into @tbl (id, parent, name)
values (1, null, 'def'), (2, 1, 'this'), (3, 1, 'is'), (4, 1, 'a'), (5, 1, 'test'),
       (6, null, 'abc'), (7, 6, 'this'), (8, 6, 'is'), (9, 6, 'another'), (10, 6, 'test')

;with cte (id, parent, name, sort) as (
  select id, parent, name, cast(right('0000' + cast(row_number() over (order by name) as varchar(4)), 4) as varchar(1024))
  from   @tbl
  where  parent is null

  union all

  select t.id, t.parent, t.name, cast(cte.sort + right('0000' + cast(row_number() over (order by t.name desc) as varchar(4)), 4) as varchar(1024))
  from   @tbl t inner join cte on t.parent = cte.id
)
select * from cte
order by sort 
```

这会产生以下结果：

```
id    parent    name     sort
----  --------  -------  ----------
6     NULL      abc      0001
7     6         this     00010001
10    6         test     00010002
8     6         is       00010003
9     6         another  00010004
1     NULL      def      0002
2     1         this     00020001
5     1         test     00020002
3     1         is       00020003
4     1         a        00020004 
```

可以看到根节点按升序排序，内部节点按降序排序。

# python - Django: (\d+) 的解释

> ID：11857300
> 
> 赞同：2
> 
> 时间：2012-08-08T03:32:32.637
> 
> 标签：python, django

在 django book 和 django website 中，`\d+`用于从 url 捕获数据。语法永远不会解释，D 或 () 的重要性也不会超出您可以指定 url 的该部分中的字符数这一事实。这些变量是如何、准确地/以什么顺序传递给函数的？锄头，确切地说，语法有效吗？你如何实施它？别忘了解释`()`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T03:35:03.560

那是一个[正则表达式](http://www.regular-expressions.info/)。`\d`意思是数字，`+`意思是“一个或多个”。将它放在括号中指定它是一个捕获组。每个捕获组的内容按照它们在正则表达式中出现的顺序传递给处理函数。

Python 的正则表达式库是[`re`](http://docs.python.org/library/re.html).

作为另一个例子，一个更复杂的正则表达式可能`(\d+)/(\d+)`会捕获由斜线分隔的两组不同的一个或多个数字，并将它们作为两个参数传递（第一个数字字符串作为第一个参数，第二个数字字符串作为第二个参数）参数）到处理函数。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-08T03:35:19.053

如果没有更多信息，我猜它是一个正则表达式（或简称“正则表达式”）。这些是许多编程语言中使用的常见字符串处理机制。在 Python 中，它们[由`re`模块](http://docs.python.org/library/re.html)处理。如果您想了解更多关于它们的信息，您可能需要查看一般的正则表达式教程，例如[http://www.regular-expressions.info/](http://www.regular-expressions.info/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T03:35:33.927

它指的是用于从 URI 中捕获数字 ID 的数字正则表达式。

Hi-REST 约定要求 GET/POST/... 的 URI 由资源的 ID 终止，在这种情况下，它正在寻找数字 ID -`\d+`是一个或多个数字）

将它括在括号中只是帮助 Django 解析正则表达式的约定。

例子：

[http://www.amazon.com/dp/0486653552](https://rads.stackoverflow.com/amzn/click/com/0486653552)

# asp.net - 列表框不会导致 Chrome 和 Safari 中的回发

> ID：11857304
> 
> 赞同：0
> 
> 时间：2012-08-08T03:33:06.840
> 
> 标签：asp.net, listbox

在 chrome 和 safari 中，我的列表框有问题。数据最初加载到后端，效果很好。但随后在 SelectedIndexChange 事件中，我想弄清楚他们选择了什么并用该信息更新我的面板。问题是 chrome 并且 safari 没有调用该事件。我检查了脚本错误并没有得到任何东西。IE 和 FF 工作得很好，所以我只是想知道这些浏览器有什么问题以及我能做些什么来解决这个问题。基本上，这是一个位于 sharepoint 2007 页面内的控件。

```
<asp:UpdatePanel ID="ISudpl" runat="server">
<ContentTemplate>
<strong>Product</strong><br /><asp:ListBox  runat="server" ID="Product" 
                OnSelectedIndexChanged="Filter_SelectedIndexChanged" EnableViewState="true" AutoPostBack="true" 
                SelectionMode="Multiple" Rows="15" CssClass="designIntent"/>
</ContentTemplate>
<Triggers>
    <asp:AsyncPostBackTrigger ControlID="Product" EventName="SelectedIndexChanged" />
</Triggers>
</asp:UpdatePanel> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T07:57:37.593

我认为这是 Microsoft AJAX 和基于 webkit 的浏览器的一个记录问题，请查看[http://blog.turlov.com/2009/01/aspnet-ajax-compatibility-patch-for.html](http://blog.turlov.com/2009/01/aspnet-ajax-compatibility-patch-for.html)和此处的[Asp.Net、DropDownList、AutoPostBack和谷歌浏览器](https://stackoverflow.com/questions/508994/asp-net-dropdownlist-autopostback-and-google-chrome)寻找可能的解决方案

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T07:54:03.173

您不需要触发器，因为您的控件（列表框）在同一个更新面板中。请`<Triggers></Triggers>`从您的代码中删除完整的块并检查它是否适用于 Chrome？

# ruby-on-rails - 想要添加一个 mobile_views 目录并使用 i18n 快捷方式

> ID：11857307
> 
> 赞同：1
> 
> 时间：2012-08-08T03:33:45.643
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mobile, internationalization, lazy-evaluation

我有一个 Rails 3.0.9 应用程序，我正在使用 i18n 模块进行国际化。我将我所有的移动视图添加到一个名为 mobile_views 的文件夹中，我将其添加到任何检测到移动用户代理的请求的视图搜索路径中。我希望能够使用我在常规视图中使用的相同的“惰性”快捷方式来访问翻译，即 app/mobile_views/users/index.html.erb 中的 t('.title') 应该参考这个标题条目我的 en.yml 文件：

```
en:
  users:
    index:
      title: "A title" 
```

就像它在 app/views/users/index.html.erb 中一样

我希望视图和 mobile_views 中的文件都能够使用相同的快捷方式访问相同的 i18n 翻译。换句话说，我希望两个视图文件夹映射到相同的快捷方式，而翻译文件中没有两个不同的树（即一个用于视图，另一个用于移动视图）

我如何配置 i18n 来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T02:45:10.220

事实证明这是自动发生的。

一旦我使用 prepend_view_path Rails.root + 'app' + 'mobile_views' 将我的 mobile_views 目录添加到视图搜索路径，i18n 会自动为该文件夹中的文件提供与常规视图文件夹中相同的范围。所以两个目录都可以映射到 en.yml 文件中的同一个翻译树。

# jakarta-ee - 使用 JPA 将列类型从 varchar 更改为 CLOB

> ID：11857309
> 
> 赞同：3
> 
> 时间：2012-08-08T03:33:48.380
> 
> 标签：jakarta-ee, jdbc, jpa-2.0, glassfish-3, jta

我正在尝试使用 JPA 注释更改列的数据类型：

```
@Column(columnDefinition="CLOB")
private String description; 
```

每当此实体被持久化时，都会尝试存储一个 VARCHAR 值，但这还不够长。除了定义列 =“CLOB NOT NULL”的文档之外，我找不到任何关于 CLOB 特定的 @Column 注释的文档。我希望允许 NULL 值。“CLOB”在这里不是正确的列定义吗？

我正在使用 EclipseLink 持久化到 JavaDB 数据库。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-08T06:01:02.657

使用`@Lob`字段上的注释。API 文档：[http ://docs.oracle.com/javaee/5/api/javax/persistence/Lob.html](http://docs.oracle.com/javaee/5/api/javax/persistence/Lob.html)

# qt - Qt 4.8 杀死并重新启动 GUI

> ID：11857314
> 
> 赞同：1
> 
> 时间：2012-08-08T03:34:35.940
> 
> 标签：qt, qt4

需要在基于 MIPS 的平台上编写 Qt 应用程序。

但是有很多限制。限制包括在需要时释放少量资源（QGFX 插件、GPU 内存等）并重新使用它。但是应用程序不能被杀死，因为它处理大量其他请求并运行其他事情。

基本上需要杀死GUI并释放与GUI相关的所有资源；稍后在需要时再次重新启动

已经尝试过的方法之一是：

main() -> 创建一个新线程

在新线程中，

```
while(<Condition>)
{
  sem_wait(..)
  m_wnd =  new myMainWindow();
   ...
   ..
   app->exec();
} 
```

当有 kill 命令时，它会从事件循环中出来，并等待来自其他线程的信号。一旦其他线程进行了所需的更改，它将获得信号并创建一个新窗口并进入事件循环。

在 main() 中，还创建了一些其他线程，它们控制其他设备等，并为 Qt-GUI 发出启动和停止信号。

以上似乎可行，但我不确定这是否是正确的设计。它会产生任何问题吗？

任何人都可以提出更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:09:23.483

我能够在 Qt-Forums 中找到所需的答案。

由于主要目的是删除所有与 GUI 相关的东西（在屏幕上），我可以使用`void setQuitOnLastWindowClosed ( bool quit )` [(Details Here)](http://qt-project.org/doc/qt-4.8/qapplication.html#quitOnLastWindowClosed-prop)。这将确保 GUI / 主窗口关闭，并且应用程序仍然没有退出事件循环，我可以稍后重新启动主窗口。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-01T16:13:25.470

当我需要一种方法来确保我的应用程序继续运行时，我将它分叉到一个子进程中。这样，即使它出现了 seg-fault，主进程也会捕获它并启动一个新的子进程。在子进程中，我有多个线程用于 GUI 和非 GUI 任务。fork 代码很短，基于[wait(2)](http://linux.die.net/man/2/wait)手册页中给出的示例。`createChild()`main() 只是在 while 循环中调用。`createChild()`使用 启动一个新进程`zmain()`。`zmain()`是您的 QT 应用程序的主要内容。

```
#include <QtGui/QApplication>
#include <QThread>

int zmain(int argc, char *argv[])
{
    QApplication app(argc, argv, true);
    app.setQuitOnLastWindowClosed(false);

    QThread powerThread;
    Power p;
    p.moveToThread(&powerThread);
    powerThread.start();

    return app.exec();
}

// The following code is taken from the wait(2) man page and has been modified to run
// our Qt main() above in a child process. When the child terminates, it is automatically
// restarted.

#include <sys/wait.h>
#include <stdlib.h>
#include <unistd.h>
#include <stdio.h>

int createChild(int argc, char *argv[]) {
    pid_t cpid, w;
    int status;

    cpid = fork();
    if (cpid == -1) {
        perror("fork");
        exit(EXIT_FAILURE);
    }

    if (cpid == 0) {            /* Code executed by child */
        fprintf(stderr, "Child PID is %ld\n", (long) getpid());
        exit(zmain(argc, argv));
    } else {                    /* Code executed by parent */
        do {
            w = waitpid(cpid, &status, WUNTRACED | WCONTINUED);
            if (w == -1) {
                perror("waitpid");
                return(EXIT_FAILURE);
            }

            if (WIFEXITED(status)) {
                fprintf(stderr, "exited, status=%d\n", WEXITSTATUS(status));
            } else if (WIFSIGNALED(status)) {
                fprintf(stderr, "killed by signal %d\n", WTERMSIG(status));
            } else if (WIFSTOPPED(status)) {
                fprintf(stderr, "stopped by signal %d\n", WSTOPSIG(status));
            } else if (WIFCONTINUED(status)) {
                fprintf(stderr, "continued\n");
            }
        } while (!WIFEXITED(status) && !WIFSIGNALED(status));
        if (WIFEXITED(status) && WEXITSTATUS(status) == 111)
            return 111;
        return EXIT_SUCCESS;
    }
}

int
main(int argc, char *argv[])
{
    while (111 != createChild(argc, argv)) {
    }
} 
```

# asp.net - 如何在 Windows 身份验证中处理“在数据库主控中创建数据库权限被拒绝”？

> ID：11857324
> 
> 赞同：1
> 
> 时间：2012-08-08T03:35:35.167
> 
> 标签：asp.net, sql-server-2008

我使用 Visual Studio 10 命令 propmpt（以管理员身份运行）中的命令 apsnet_regsql 打开了“ASP.NET SQL Server 安装向导”。

在那个向导中，我选择了 Windows 身份验证而不是 Sql 身份验证。当我尝试连接到主数据库时，出现以下异常

执行 SQL 文件“InstallCommon.sql”时出错。SQL 错误号为 262，SqlException 消息为：数据库 'master' 中的 CREATE DATABASE 权限被拒绝。创建 TestDB 数据库

并且 SqlException 是：

在 Windows 身份验证中的数据库“主”中创建数据库权限被拒绝。

例外情况是，我知道我无权创建数据库。但是我如何以及在哪里可以获得这样做的许可。

我的系统中有 SQL Server 2008，默认情况下只有 Visual Studio 2008。

所以请帮助我并为我的问题提供解决方案。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:53:43.373

显然，发生这种情况的原因是因为用户没有在 sql server 中进行任何修改的权限，解决它的方法之一是转到安全文件夹选择用户选择属性可能是权限并使该用户成为 dbadministrator或其他高级角色，而不是使用此用户登录并尝试创建数据库

这里有几篇文章

[http://msdn.microsoft.com/en-us/library/dd568727.aspx](http://msdn.microsoft.com/en-us/library/dd568727.aspx)

[http://msdn.microsoft.com/en-us/library/ms178630(v=sql.90).aspx](http://msdn.microsoft.com/en-us/library/ms178630(v=sql.90).aspx)

[http://www.blackwasp.co.uk/SQLChangeOwner.aspx](http://www.blackwasp.co.uk/SQLChangeOwner.aspx)

# design-patterns - 发布者-订阅者 vs 观察者

> ID：11857325
> 
> 赞同：45
> 
> 时间：2012-08-08T03:35:58.887
> 
> 标签：design-patterns, observer-pattern, publish-subscribe, event-dispatching

我试图将[观察者设计模式](https://en.wikipedia.org/wiki/Observer_pattern)理解为主要的事件调度设计模式。观察者模式似乎是[发布-订阅设计模式](https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern)的类型或种类，我想知道为什么有两种外观相似的设计模式以及我应该如何在两者之间进行选择。

在这两种情况下，信息消息都在实体之间发送，并且在这两种情况下，实体都必须以某种方式注册或订阅才能接收消息。

两种设计模式之间的主要区别似乎是：

*   观察者模式的消息量似乎较少。观察者向他们正在观察的实体注册，以便收到某个事件的通知。发布-订阅模式似乎涉及一种单向对话，一种从一个实体到另一个实体的独白，其中包含大量更多不同类型的消息。
*   在观察者模式中，观察者期望一种特定类型的事件通知，其中发布-订阅似乎具有更开放的消息协议，具有更广泛的可能消息类型和消息内容（由特定类型的事件触发的消息之间的差异指示事件发生与更通用的消息协议相比，消息包含可能不是事件触发器的信息，例如包含由周期性计时器触发的温度数据的消息）。
*   观察者是在应用程序的边界内或在单个进程内实现的。Publish-Subscribe 是一种跨应用程序通信模式，消息在不同进程之间交换。
*   Publish-Subscribe 具有独立的发布者、代理和订阅者实体，而 Observer 使用组合的发布者/代理和订阅者（​​观察者）实体，存在架构差异。

想到的一个想法是，在多线程应用程序中，在多个线程之间进行通信时可能会使用发布-订阅模式，而不是观察者模式。也许观察者模式可以在进程之间使用，例如一个进程向另一个进程注册，以便在事件发生时得到通知。一个例子是一个农场管理仪表板应用程序，该应用程序向多个动物饲料箱注册，如果该箱测量的饲料水平或重量低于某个阈值，则会收到通知。

这两种设计模式之间是否还有其他重要差异，可以提供选择其中一种的标准？

# mysql - MySQL 中的事务性 ALTER 语句

> ID：11857329
> 
> 赞同：1
> 
> 时间：2012-08-08T03:36:14.567
> 
> 标签：mysql, sql, database, rollback, transactional

我正在对 MySQL 数据库进行更新，其中包括制作 ALTER TABLE 语句以及 DIU 语句（删除、插入、更新）的 MySQL 脚本。

这个想法是进行事务更新，所以如果一个句子失败，就会进行回滚，但是如果我把 ALTER TABLE 句子或其他在[http://dev.mysql.com/doc/refman/5.0/en/implicit中指定-commit.html](http://dev.mysql.com/doc/refman/5.0/en/implicit-commit.html)进行了隐式提交，因此我无法进行完全回滚，因为指示的操作仍然提交。

我尝试使用 mysqldump 进行备份，以防出错（mysql返回不同的零），但它太慢并且也可能失败。

我能做些什么？我需要这个来确保未来的更新安全且不会太慢，因为数据库包含 30-100 GB 的数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T03:53:11.657

dump 和 reload 可能是您最好的选择，而不是`alter table`.

从 mysql 提示符或从数据库脚本：

`select * from mydb.myt INTO OUTFILE '/var/lib/mysql/mydb.myt.out';
drop table mydb.myt;
create table`我的T`(your table ddl here)
load data infile '/var/lib/mysql/mydb.myt.out' INTO TABLE mydb.myt;`

看一下这个：

[http://everythingmysql.ning.com/profiles/blogs/whats-faster-than-alter](http://everythingmysql.ning.com/profiles/blogs/whats-faster-than-alter)

我认为它为“替代方案”提供了很好的指导。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T06:21:42.180

看看 pt-online-schema 的变化。

您可以将其配置为在在线 ALTER 完成后保留“旧”表。旧表将有一个下划线前缀。如果发生坏事，请删除您更改的表并将旧表重命名为原始表。如果一切正常，那么只需删除 OLD 表。

[http://www.percona.com/doc/percona-toolkit/2.1/pt-online-schema-change.html](http://www.percona.com/doc/percona-toolkit/2.1/pt-online-schema-change.html)

# c# - 带有 Asp.net MVC3 的淘汰赛向导

> ID：11857334
> 
> 赞同：0
> 
> 时间：2012-08-08T03:36:47.263
> 
> 标签：c#, asp.net-mvc-3, knockout.js

我有一个这样的向导：http: [//jsfiddle.net/rniemeyer/FyuSD/](http://jsfiddle.net/rniemeyer/FyuSD/)当我单击按钮时，当前步骤的下一个数据将发送到服务器中的服务器（发送数据的功能未显示在此链接中）我有这样的动作：

**控制器：**

```
 [HttpPost]
    public ActionResult SocialNetworkChoice(string[] selectedSocialNetwork)
    {
        if (selectedProduct!= null)
        {
          // check if the user got a social account linked in for 
          // all the selected networks and redirect to the link account page
          ....
            if (q.Count() > 0)
            {
                return RedirectToAction("LinkAccount", "Account",
                         new LinkAccountModel() { ProviderName = q.First() });
            }

            else
            {....}
         }
    } 
```

**昏死：**

```
 <script id="socNetchoiceTmpl" type="text/html">         
       <ul data-bind="foreach: socialNetworksList, visible:
                  socialNetworksList().length > 0">
          <li>
             <input type="checkbox" data-bind="value: $data, checked:  
                 $parent.selectedSocialNetworks" /><span data-bind="text: $data"/>
          </li>
       </ul>
    </script>

   function SocialNetChoicesViewModel() {
    var self = this;
    self.socialNetworksList = ko.observableArray([]);
    self.selectedSocialNetworks = ko.observableArray([]);

     self.save = function () {
        $.ajax("/Home/SocialNetworkChoice", {
            data: ko.toJSON({ selectedSocialNetworks: self.selectedSocialNetworks }),
            type: "post", contentType: "application/json",
            success: function (result) {
                if (result.Success) {
                    //alert(result.Message);
                }
                else {
                    alert(result.Message);
                }
            }
        });
     };
     // Load initial state from server, convert it to Task instances,
     //  then populate self.tasks
     $.getJSON("/Home/SocialNetworkChoice", function (allData) {
        var mappedItems = $.map(allData, function (item) { return item });
        self.socialNetworksList(mappedItems);
    });
   }; 
```

在第一步中，我有两个用于两个社交网络的复选框，当用户检查复选框数据时，它发送到动作 SocialNetworkChoice。if (q.Count() > 0) 操作“LinkAccount”的视图不显示，向导进入第二步

如果 (q.Count() > 0) 重定向到 LinkAccount (View) 否则到第二步，如何解决这个问题

我很抱歉我的英语不好，

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T12:30:29.643

您只是重定向 ajax 调用，而不是可见页面。

一种解决方案是检测重定向的 ajax 调用并相应地以编程方式重定向页面。例如，从 javascript 设置 window.location。

# ruby-on-rails - 需要 SSL 来支持我网站上的 Facebook 身份验证？

> ID：11857336
> 
> 赞同：0
> 
> 时间：2012-08-08T03:37:08.560
> 
> 标签：ruby-on-rails, facebook, ssl

我正在制作一个允许人们登录的 Rails 站点，仅使用 Facebook 的 Omniauth 身份验证。我的网站没有输入密码。在我的网站上使用 SSL 仍然有益吗？还是 Facebook 身份验证路由几乎可以解决这个问题？我知道出现在 FB 中的 Facebook 应用程序/网站需要 SSL，这不是我的情况。

我知道它*会*起作用，就像我可以在没有 SSL 的情况下使用带有电子邮件/密码的登录屏幕一样。它会起作用，但它并不完全安全。我正在寻找建议...如果我的网站上没有 SSL，传递的哪些信息不安全？这些信息是否值得拥有我自己的 SSL 证书来隐藏它以防止任何人看到？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:49:48.537

部分答案：即使您的应用用户启用了安全浏览，它也可以在没有 SSL 的情况下正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T19:44:23.710

它是一个 ipage，通过 HTTPS 浏览时会显示错误

# python - 如何将类的子类作为属性访问？

> ID：11857349
> 
> 赞同：1
> 
> 时间：2012-08-08T03:40:13.353
> 
> 标签：python, class, properties, getattr

所以我有一个 .py 文件，其中包含一个可以作为属性访问其子类的类。所有这些子类都是预先定义的。我还需要所有子类都具有相同的能力（让它们自己的子类可以作为属性访问）。我一直面临的最大问题是我不知道如何在我的实现中访问当前类`__getattr__()`，所以这是一个很好的起点。

这是我迄今为止尝试过的一些 Python+伪代码。我很确定它不会起作用，因为它`__getattr__()`似乎只适用于类的实例。如果是这种情况，对不起，我对 Python 中的 OOP 并不像我希望的那样熟悉。

```
class A(object):
    def __getattr__(self, name):
        subclasses = [c.__name__ for c in current_class.__subclasses__()]
        if name in subclasses:
            return name
    raise AttributeError 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:26:12.140

```
 class A(object):
        def __getattr__(self, key):
            for subclass in self.__class__.__subclasses__():
                if (subclass.__name__ == key):
                    return subclass
            raise AttributeError, key 
```

出于好奇，这是为了什么而设计的？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T11:04:41.877

如果我正确理解了您的问题，您可以通过使用将 a 添加`classmethod`到其实例的自定义元类来做您想做的事情。这是一个例子：

```
class SubclassAttributes(type):
    def __getattr__(cls, name):  # classmethod of instances
        for subclass in cls.__subclasses__():
            if subclass.__name__ == name:
                return subclass
        else:
            raise TypeError('Class {!r} has no subclass '
                            'named {!r}'.format(cls.__name__, name))

class Base(object):
    __metaclass__ = SubclassAttributes  # Python 2 metaclass syntax

#class Base(object, metaclass=SubclassAttributes):  # Python 3 metaclass syntax
#    """ nothing to see here """

class Derived1(Base): pass
class Derived2(Base): pass

print(Base.Derived1)  # -> <class '__main__.Derived1'>
print(Base.Derived2)  # -> <class '__main__.Derived2'>
print(Base.Derived3)  # -> TypeError: Class 'Base' has no subclass named 'Derived3' 
```

对于在 Python 2 和 3 中都有效的东西，如下所示定义类。从具有 SubclassAttributes 作为其元类的类派生 Base。这类似于[六个](https://pypi.python.org/pypi/six/)模块的[`with_metaclass()`](http://pythonhosted.org/six/#six.with_metaclass)功能：

```
class Base(type.__new__(type('TemporaryMeta', (SubclassAttributes,), {}),
                        'TemporaryClass', (), {})): pass 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T03:46:47.437

```
>>> class A(object):
...     pass
...
>>> foo = A()
>>> foo.__class__
<class '__main__.A'> 
```

# iphone - 如何识别当前哪个文本字段是第一响应者

> ID：11857350
> 
> 赞同：5
> 
> 时间：2012-08-08T03:40:21.730
> 
> 标签：iphone, objective-c, ios, ipad, uikit

如果您在屏幕上有多个文本字段，并且在点击它们时会为每个文本字段弹出键盘，如果您想以编程方式隐藏键盘，或者让第一响应者辞职，但您不知道要发送哪个文本字段，该怎么办`resignFirstResponder`？到？有没有办法确定哪个对象/文本字段应该得到这个消息？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-08T03:51:44.547

检查所有文本字段调用

```
[textfield isFirstResponder] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-08T03:53:21.813

您可以通过将视图控制器设置为所有文本字段的委托对象来跟踪哪个文本字段是第一响应者，然后当您的子类文本字段获得“ `becomeFirstResponder`”方法调用时，告诉您的视图控制器哪个文本字段是当前一个。

或者，有一种更生硬的方法，它是“ `UIView`”的类别扩展：

```
@implementation UIView (FindAndResignFirstResponder)
- (BOOL)findAndResignFirstResponder
{
    if (self.isFirstResponder) {
        [self resignFirstResponder];
        return YES;     
    }
    for (UIView *subView in self.subviews) {
        if ([subView findAndResignFirstResponder])
            return YES;
    }
    return NO;
}
@end 
```

我[从这个可能非常相关的问题](https://stackoverflow.com/questions/1823317/how-do-i-legally-get-the-current-first-responder-on-the-screen-on-an-iphone)中得到的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T04:35:27.307

您可以检查所有文本字段，然后轻松识别。

```
[textfield isFirstResponder]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T03:50:56.693

没有获取当前第一响应者的公共方法，但您可以做一些事情来获取它；第一个显然是要自己跟踪这一点。您可以通过多种方式执行此操作，如果您不想触及任何现有的类而只是希望它工作，那么类别和方法调配就可以解决问题。然而，更简洁的解决方案是遍历视图层次结构并询问视图是否是当前的第一响应者。您可以从 root`UIWindow`开始并开始迭代，或者您可以从 current`UIViewController`的视图开始，但请记住，当前的第一响应者不必是您的根`UIWindow`视图层次结构的一部分（例如，如果您有文本)内的字段`UIAlertView`。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2017-10-17T21:12:24.870

试试这个（Swift 3）：

```
if textField.isEditing {
   textField.resingFirstResponder()
} 
```

# msbuild - 为什么我的打包步骤在团队构建中失败？

> ID：11857356
> 
> 赞同：0
> 
> 时间：2012-08-08T03:41:33.143
> 
> 标签：msbuild, tfsbuild, packaging

我只是构建人员，我没有编写网络应用程序，也不太了解网络应用程序（我敢肯定，这将变得非常清楚）。

所以老兄告诉我我们需要运行“msbuild /T:Package /P:Configuration=Release”来打包他的应用程序。好的。他的构建定义中有多个解决方案，其中只有一个需要 Package 目标，所以我编写了一个愚蠢的小 msbuild proj 文件来添加到他的 TFS 构建定义中，默认目标如下所示：

```
<Target Name="Package" Condition=" '$(Configuration)' == 'Release' ">
    <MSBuild Projects="HisApp.csproj"
        Properties="Configuration=$(Configuration)"
        Targets="Package" />
</Target> 
```

将其添加到构建定义中，但它失败了：

```
Build started 8/7/2012 7:17:48 PM.
Project "C:\path\to\MyDumbScript.proj" on node 1 (default targets).
Package:
Project "C:\Path\to\MyDumbScript.proj" (1) is building "C:\Path\to\HisApp.csproj" (2) on node 1 (Package target(s)).
C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.targets(1737,5): error : Value cannot be null. [C:\Path\to\HisApp.csproj]
C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.targets(1737,5): error : Parameter name: type [C:\Path\to\HisApp.csproj]
C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.targets(1737,5): error : Unknown error (0x80005000) [C:\Path\to\HisApp.csproj]
Done Building Project "C:\Path\to\HisApp.csproj" (Package target(s)) -- FAILED.
Done Building Project "C:\Path\to\MyDumbScript.proj" (default targets) -- FAILED.

Build FAILED.

"C:\Path\to\MyDumbScript.proj" (default target) (1) ->
"C:\Path\to\HisApp.csproj" (Package target) (2) ->
(GetProjectWebProperties target) -> 
  C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.targets(1737,5): error : Value cannot be null. [C:\Path\to\HisApp.csproj]
C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.targets(1737,5): error : Parameter name: type [C:\Path\to\HisApp.csproj]
  C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.targets(1737,5): error : Unknown error (0x80005000) [C:\Path\to\HisApp.csproj]

    0 Warning(s)
    2 Error(s)

Time Elapsed 00:00:00.82 
```

所以这就像泥巴一样清晰。

问题：

1.  当构建定义调用多个解决方案时，是否有一些更直接的方法可以从 Team Build 调用包目标？

2.  为什么会失败？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T23:51:51.920

看起来错误是由于没有在构建机器上启用 IIS。

当我在构建机器上启用“Web 管理工具”和“万维网服务”功能时，构建以新的、更有趣（且不透明）的方式失败了。

至于如何更好地从 Team Build 调用包目标的问题，我很乐意听到答案，但这现在有效。

# node.js - 是否可以使用托管在 Apache 上的 socket.io 客户端 index.html 指向另一个端口上的 nodejs？

> ID：11857357
> 
> 赞同：2
> 
> 时间：2012-08-08T03:42:01.527
> 
> 标签：node.js

这种情况是否可能，如果没有，如何使其成为可能？

假设我在端口 8080 上运行 nodejs。我还在端口 80 上运行 Apache。在 nodejs 端口上，我使用 socketIO 表达。

在 Apache 上，我有一个 index.html 网页，其文本框带有一个包含“socket.io-client.js”的提交按钮。在文本框中输入消息并点击提交会将消息传递到端口 80 上的 nodejs，这将有效地将消息广播给在 apache 上托管的 index.html 上打开页面的所有其他用户。

从我目前看到的例子来看，socketio、网页、express 都必须驻留在节点所在的任何位置，以便 index.html 页面可以包含脚本“/socketio/socket.io.js”。有什么方法可以包含托管在 nodejs 之外的服务器上的 socket.io.js 脚本吗？如果此工作需要任何可用的示例或配置将有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:01:58.530

您可以通过在 srcipt URL 中指定 node.js 端口来简单地将 socket.io.js 包含在 index.html 中，例如：

```
<script src="http://your.host:8080/socket.io/socket.io.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T17:00:53.270

如果您在与 Apache 相同的机器上运行 node.js，您可以[查看此链接](http://arguments.callee.info/2010/04/20/running-apache-and-node-js-together/)，它解释了如何将任何连接重定向到 node.js 以获取 url 路径中的某些“文件夹”。
您必须在另一个端口上运行 node.js，然后使用 .htaccess 重定向连接到 node.js 以获取 url 路径中的特定文件夹。

# c - #define, EQ(a, b) ((a) == (b)) 是什么意思？

> ID：11857362
> 
> 赞同：0
> 
> 时间：2012-08-08T03:42:28.033
> 
> 标签：c, c-preprocessor

我已经获得了**C**代码，其中标题语句包括以下内容：

```
#define, EQ(a, b) ((a) == (b)) 
```

这是什么意思？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T03:43:33.953

它没有任何意义：这段代码格式不正确。紧跟在 a 之后的标记`#define`必须是标识符，但`,`不是。

如果`,`要删除 ，这将定义一个名为[的类函数宏](http://gcc.gnu.org/onlinedocs/cpp/Function_002dlike-Macros.html#Function_002dlike-Macros)`EQ`，该宏需要两个参数。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-08T03:44:21.680

逗号是一个错误，会阻止代码编译：我假设它是一个错字。

鉴于：

```
#define EQ(a, b) ((a) == (b)) 
```

这为相等运算符定义了一个宏`==`。

稍后在代码中使用此宏，您可以键入，例如：

```
if (EQ(2+2, 4)) 
```

代替：

```
if (2+2 == 4) 
```

不是很有用，真的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-08T06:55:46.937

让我们一步一步来

```
#define MAX 10 
```

这会将代码文件中单词“MAX”的每个实例替换为 10。这非常类似于定义一个具有一个主要区别的常量变量。#define 语句的解释在编译之前完成。这有助于例如使用 MAX 作为数组大小。如果您改用变量，这在许多情况下会导致编译器错误。

您可以`cpp <filename.c>`在 Linux 终端中使用命令来查看执行宏时会发生什么。

例如这段代码：

```
#define MAX 10
int numbers[MAX]; 
```

预处理后（即预处理器宏的解释）

```
int numbers[10]; 
```

请注意，#define 语句将在解释后消失。

这将我们带到另一个例子

```
#define square(x) (x * x) 
```

我们代码中的每个实例`square(x)`不仅会被替换，`(x * x)`而且 x 的值也会被替换。其效果类似于功能减速，但又有所不同

所以

`square(5)`将被替换为`(5 * 5)`

最后我们的例子

```
#define, EQ(a, b) ((a) == (b)) 
```

这将替换`EQ(a, b)`by`((a) == (b))`

举个例子

`EQ(4, 5)`将被替换为`((4) == (5))`

现在“==”是什么意思？如果 4 和 5 相等，则“检查是否相等”整个表达式将评估为 1（这显然不是真的），因此该表达式最终将被评估为 0。

哪个或多或少喜欢这个功能**的效果**

```
int EQ(int a, int b)
{
    return (a == b);
} 
```

也可以写成

```
int EQ(int a, int b)
{
    if (a ==b) return 1;
    if (a !=b) return 0;
} 
```

请注意，使用宏我们避免了两个变量声明，并且实际上没有函数调用，而且通常更快。如果您有较慢的处理器（或微处理器），这一优势将是显而易见的。

最后让我说明显而易见的

```
#define simple_macro 5
int some_integer_variable = 10;
.
.
.
some_integer_variable = simple_macro;
simple_macro = 12;  /* illegal statement */
simple_macro++;     /* illegal statement */ 
```

因为在运行预处理器之后，这将是

```
int some_integer_variable = 10;
.
.
.
some_integer_variable = 5;
5 = 12;
5 ++; 
```

哦！我可能说得太多了，但让我把这个（明显的）代码留给你

```
#define MAX 10
int variable = MAX; /*this is a MAX variable */
char some_string[] = "the MAX value";  /* no replacement will happen here */
int variable_MAX;                      /* no replacement will happen here */ 
```

运行预处理器后将

```
int variable = 10;
char some_string[] = "the MAX value";
int variable_MAX; 
```

# cakephp-1.3 - CakePHP 协会

> ID：11857363
> 
> 赞同：0
> 
> 时间：2012-08-08T03:42:35.793
> 
> 标签：cakephp-1.3

我有 2 张桌子：

1) 类别：身份证、姓名。

2) 新闻：id、category_id、title、body

在烘焙所有这些东西之后，它准备了我必须通过单击添加新闻来添加新闻的界面。之后，我必须手动选择类别。

我想单击某个类别（视图），并且有一个选项“将新闻添加到此类别”，然后从那里转到带有 category_id 的操作，这样用户就不需要选择类别，因为它来自 URL它知道正在使用哪个类别。

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T22:10:01.187

我找到了解决方案。

首先获取`category_id`来自 URL：

```
$categoryId= $this->params['named']['category_id']; 
```

然后在表单上使用隐藏字段：

```
echo $this->Form->hidden('category_id', array('default'=>$categoryId)); 
```

# delphi - Delphi (Indy + ADO) 初始化慢

> ID：11857366
> 
> 赞同：0
> 
> 时间：2012-08-08T03:42:51.270
> 
> 标签：delphi, indy

我试图让 TIdTCPServer 实例中的每个连接线程将 TADOConnection 实例化到上下文中。

这很好用，我将 CoInitialize(nil) 放在 OnConnect 事件处理程序中。问题是这个过程需要大约 20-25 秒才能工作，这太长了……

有什么建议吗？

干杯，阿德里安

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T03:54:39.973

任何一个或 ADO 都不太可能`CoInitialize()`需要这么长时间来初始化。我已经使用多线程 COM 多年，从未经历过这样的延迟。

话虽如此，初始化 COM 的更好位置是在调用线程的`Execute()`方法的顶部，而不是在服务器的`OnConnect`事件中。要使用 Indy 做到这一点，请从其派生一个新类`TIdThreadWithTask`并覆盖其`BeforeExecute()`和`AfterExecute()`方法。然后实例化一个`TIdSchedulerOfThread...`组件，将你的类分配给它的属性，并在激活服务器之前`ThreadClass`将它分配给服务器的属性。`Scheduler`

# python - Django：从 URL 捕获数据将不起作用

> ID：11857375
> 
> 赞同：0
> 
> 时间：2012-08-08T03:44:33.860
> 
> 标签：python, django

我的 URL.py 文件中有以下语句

```
(r'^confirm/(\d+)/$', confirm) 
```

但是这个网址

```
http://127.0.0.1:8000/confirm/DMo32zPB15 
```

返回这个

```
Page not found (404)
Request Method: GET
Request URL:    http://127.0.0.1:8000/confirm/DMo32zPB15
Using the URLconf defined in BBN.urls, Django tried these URL patterns, in this order:
^login/$
^ajax/login$
^ajax/login/nact/$
^ajax/login/nact/cancel//$
^ajax/login/nact/resend/$
^confirm/(\d+)/$
The current URL, confirm/DMo32zPB15, didn't match any of these.
You're seeing this error because you have DEBUG = True in your Django settings file Change that to False, and Django will display a standard 404 page. 
```

为什么它不能识别 URL？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T03:48:13.440

`\d+`表示一位或*多位数字*。

`DMo32zPB15`既有数字又有字母。试试`r'^confirm/([a-zA-Z0-9]+)/$'`吧。

有关正则表达式的更多信息，[请访问 http://www.regular-expressions.info](http://www.regular-expressions.info)以供您阅读。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-08T03:48:15.593

这与您关于`\d+`. `\d+`只匹配数字。您的 URL 包含非数字的内容（如字母）。在尝试使用它们编写 URL 匹配器之前，您应该查看我在回答您的其他问题时链接的正则表达式教程，并牢牢掌握正则表达式。

# android - 为许多屏幕设计和开发标题 - android

> ID：11857378
> 
> 赞同：0
> 
> 时间：2012-08-08T03:44:49.150
> 
> 标签：android, user-interface

我的应用程序中有一个看起来像这样的标题： ![标题](../Images/a1c8aad62f2b3312578e9b154a4741c6.png)

我希望它从屏幕的左侧到右侧。

为了让它在尽可能多的设备上看起来不错，我必须采取哪些具体步骤？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:50:39.537

这称为 ActionBar，可从 API 级别 10+ 开始使用。但是有一个优秀的库，您也可以在较低的库中使用它。寻找 ActionBarSherlock：

[http://actionbarsherlock.com/](http://actionbarsherlock.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T03:48:08.987

1.  具有每种密度的图像（LDPI、MDPI、HDPI 和 XHDPI）

2.  使用相对布局。

# javascript - 主干js事件绑定

> ID：11857379
> 
> 赞同：0
> 
> 时间：2012-08-08T03:45:06.030
> 
> 标签：javascript, backbone.js, web

我一直在浏览主干js官方文档，但我似乎找不到答案，下面是他们网站的片段

```
var DocumentRow = Backbone.View.extend({

   tagName: "li",

  className: "document-row",

  events: {
   "click .icon":          "open",
   "click .button.edit":   "openEditDialog",
   "click .button.delete": "destroy",
   "click .list1 .item1" : "open",
 },

  render: function() {
  ...
}

}); 
```

我不明白的是事件：部分它在说什么？

有人可以用简单的英语解释以下内容或指出我在文档中可以找到的位置吗

```
 "click .icon":          "open",
   "click .button.edit":   "openEditDialog",
   "click .button.delete": "destroy",
   "click .list1 .item1" : "open", 
```

??

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:00:21.673

事件部分从字面上委托给 JQuery（或您正在使用的任何东西）：

> “点击 .icon”：“打开”

将事件绑定到`click`具有类的任何元素上`icon`，范围为您的视图`el`，并将调用该`open`函数。

用 JQuery 说话：

```
$(el).on("click", ".icon", open) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:12:10.460

它基本上是将您的 DOM 事件链接到您的视图方法。

基于这样的事情......

```
var DocumentRow = Backbone.View.extend({

    tagName: "li",

    className: "document-row",

    events: {
        "click .icon": "open",
        "click button.edit": "openEditDialog",
        "click button.delete": "destroy",
        "click .open": "open",
    },

    open: function() {
        // The open something code here
    },
    openEditDialogue: function() {
        // Code to open edit dialogue
        var editDialogue = new EditDialogueView(); // etc.
    },
    destroy: function() {
        this.model.destroy();
    }

... 
```

您的视图 el 可能看起来像这样。

```
<li class="document-row">
    <div class="list1">
        <img src="someSRC" class="icon" />
        <button class="edit">EDIT</button>
        <button class="delete">DELETE</button>
        <button class="open">OPEN</button>
    </div>
</li> 
```

它不必看起来像这样，但我只是根据事件声明的内容重新创建 DOM。

用简单的英语，基本上这是在说：

如果我单击带有类图标的元素，请运行 open() 方法。如果我单击带有类编辑的按钮元素，请运行 openEditDialogue() 方法。如果我单击带有类删除的按钮元素，请运行销毁方法。如果我单击类打开的元素，请运行 open() 方法。

因此，基本上通过创建 event: {} 对象并使用您的事件规则、侦听器将附加到的 DOM 元素以及处理程序（在此视图类中）来填充它，您可以设置基本视图功能。

# mysql - 什么时候不分区表（MySQL）？

> ID：11857381
> 
> 赞同：2
> 
> 时间：2012-08-08T03:45:22.907
> 
> 标签：mysql, performance, database-design, partitioning, bigdata

在 MySQL（5.5+）中，对于大型表（500,000,000 行及以上），您始终通过指定主键来访问（读取和写入），是否有时**分区**（按主键）**不会提高性能**？

特别是当每一行都很薄（3 个 int 列）时。

问的理由：对于内容繁重的表（多个 varchar/text 列），我已经看到了很好的改进，但在类似的情况下，对于细行（3 个 int 列），我认为我看到的性能比没有分区时更差。[都使用基于主键（int）的100个分区]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:51:01.453

首先，尽可能尝试不同类型的分区：

`HASH,RANGE,KEY,LIST`和子分区以查看哪个在空间和时间方面产生最佳结果。

[http://dev.mysql.com/doc/refman/5.1/en/partitioning-types.html](http://dev.mysql.com/doc/refman/5.1/en/partitioning-types.html)

其次，用于`explain partitions`获取有关分区的统计信息：

[http://dev.mysql.com/doc/refman/5.5/en/explain.html](http://dev.mysql.com/doc/refman/5.5/en/explain.html)

[http://dev.mysql.com/doc/refman/5.5/en/partitioning-info.html](http://dev.mysql.com/doc/refman/5.5/en/partitioning-info.html)

最后，我建议查看这篇内容丰富的帖子：

[http://chrismoos.com/2010/01/31/mysql-partitioning-tables-with-millions-of-rows/](http://chrismoos.com/2010/01/31/mysql-partitioning-tables-with-millions-of-rows/)

# ruby-on-rails-3 - 我应该如何通过地理交叉点将模型与 postgis 和 rails 3 相关联？

> ID：11857383
> 
> 赞同：1
> 
> 时间：2012-08-08T03:45:45.450
> 
> 标签：ruby-on-rails-3, postgis

我正在使用 Rails 3.1.4、postgis 和 activerecord-postgis-adapter。我有一个“Zcta”模型和一个“Neighborhood”模型，每个模型都有一个“geog”列。我想找到交叉点，例如与某个邮政编码相交的所有街区，或与某个街区相交的所有邮政编码。我可以通过这样的显式连接来做到这一点：

```
Zcta.joins("join neighborhoods on st_intersects(zcta.geog, neighborhoods.geog)").where("neighborhoods.name" => 'Silver Lake') 
```

Rails 从中创建一个 SQL 查询，该查询根据与邻域的交集返回所有适当的 Zcta 对象。这很好，但我无法在同一个查询中检索邻域对象。这也有点笨拙。我正在寻找的更像是可以急切加载的 has_many 关系。像这样的东西：

```
Neighborhood.find(name: 'Silver Lake').include(:zctas) 
```

有没有办法在 Rails 中实现这一点？

# cocoa - 可可绑定：NSStrings 和 NSTextFields？

> ID：11857385
> 
> 赞同：0
> 
> 时间：2012-08-08T03:45:56.137
> 
> 标签：cocoa, binding, nsstring, nstextfield

我已经设法将 NSString 的值绑定到 NSTextField，但我希望做相反的事情。我的目标是能够拥有一个随着 NSTextField 变化而更新的 NSString。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:04:38.983

我不知道您是否正确使用了“绑定”一词（很多人没有）。如果您已将字符串属性绑定到文本字段的值，则绑定是双向的——如果您在文本字段中键入内容，那将是字符串的新值。相反，如果您在代码中更改字符串的值，则会更改文本字段中显示的内容。

也许你应该发布你已经设法做的事情。

# php - 按列分组 MySQL 结果

> ID：11857391
> 
> 赞同：0
> 
> 时间：2012-08-08T03:46:43.050
> 
> 标签：php, mysql, arrays, multidimensional-array

我在将 MySQL 结果输出到 HTML 时遇到问题。我有一个 MySQL 结果，它返回：

```
| title        | category_name | from_where |
---------------------------------------------
| Title num 1  | Journal       | iidl_file  |
---------------------------------------------
| Title num 2  | Books         | iidl_file  |
---------------------------------------------
| Title num 3  | Announcement  | iidl_post  |
---------------------------------------------
| Title num 4  | News          | iidl_post  |
--------------------------------------------- 
```

我怎样才能像这样在 HTML 中预览这些数据：

```
iidl_file
 - Title num 1 (Journal)
 - Title num 2 (Books)

--------------------------

iid_post
 - Title num 3 (Announcement)
 - Title num 4 (News) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:56:28.400

这就是我要做的：

```
SELECT `title`, `category_name`, `etc` FROM `table_name` ORDER BY `from_where`; 
```

如果您有很多记录，您将受益于确保`from_where`列上有索引。

这是一些伪代码：

```
$groups = array();
foreach ($rows as $row) {
    $from_where = $row['from_where']
    if (! isset($groups[$from_where])) {
        $groups[$from_where] = array();
    }
    $groups[$from_where][] = $row;
} 
```

现在您将包含由该列`$groups`键入的数组。`from_where`

这样做，您实际上甚**至**不必在查询中发出 ORDER BY。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T03:56:48.723

只是一个想法，只需使用普通的mysql结果循环和这样的代码，未经测试，但希望它会有所帮助

```
$from_all = array();
$from_all[$from_where][] = array('title'=>$title,'category_name'=>$category_name) 
```

然后

```
foreach($from_all as $from_where=>$array) {
    echo $from_where
    foreach($array as $row) {
        echo $row['title'];
        echo $row['category_name'];
    }
} 
```

# python - 保留命令不起作用

> ID：11857393
> 
> 赞同：5
> 
> 时间：2012-08-08T03:46:51.223
> 
> 标签：python, debugging, pyramid, pylons, waitress

我是 Python 新手，正在使用 Pyramid 框架开发一个测试应用程序。

今天，由于不明原因，用于启动服务员服务器的 pserve 命令停止运行。Running:`pserve development.ini`导致消息：`invalid command name 'development.ini'`，虽然它以前工作正常。

我已经验证这`which pserve`是正确的，并`which python`指向我为该项目创建的 virtualenv 的 Python。development.ini 的路径也是正确的。

我在网上搜索过，似乎没有任何关于此的文档。这个事情谁有经验？我该如何调试问题？任何帮助将不胜感激。谢谢。

# jquery - Javascript：如何在每次调用时遍历数组

> ID：11857406
> 
> 赞同：1
> 
> 时间：2012-08-08T03:48:45.137
> 
> 标签：jquery, arrays, function

我正在尝试创建一个函数，在每次调用时它都会选择数组中的下一个变量。

```
var nexttest=['abc','def','ghi'];
function nexttest() {
 if (nexttest = 'abc') {
  $('#result').load('url1.html');
 }
 else if (nexttest = 'def') {
  $('#result').load('url2.html');
 }
 else {
  $('#result').load('url3.html');
 }
} 
```

有没有办法让 nexttest() 第一次使用 abc，第二次使用 def，第三次使用 ghi。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T03:50:15.387

您将创建一个变量来跟踪数组的索引：

```
var index = 0; 
```

`index`然后，在函数中，您可以使用变量选择要与之交互的数组元素：

```
var interactWithThis = nexttest[index]; 
```

然后在每次调用函数时增加索引：

```
index++; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T04:00:46.770

我会更喜欢

```
var tester = function(){
    var i = 0;
    var tests = ['abc','def','ghi'];
    this.nexttest = function() {
        if (tests[i] == 'abc') {$('#result').load('url1.html');}
        else if (tests[i] == 'def') {$('#result').load('url2.html'); }
        else { $('#result').load('url3.html');}        
        i++;
    };
}

var testing = new tester();

testing.nexttest();
testing.nexttest();
testing.nexttest();
testing.nexttest(); 
```

​</p>

# r - 提取纯数字列，然后将该矩阵传递给 R 中的 heatmap()

> ID：11857415
> 
> 赞同：0
> 
> 时间：2012-08-08T03:49:54.577
> 
> 标签：r, correlation, heatmap

我使用了以下代码：

```
data<-read.csv('/Users/mf/Desktop/acceptor.csv')
just_nums<-sapply(data,is.numeric)
just_nums_data<-data[,just_nums]
str(just_nums_data)
heatmap(just_nums_data) 
```

但是得到了这个输出：

```
data<-read.csv('/Users/mf/Desktop/acceptor.csv')
just_nums<-sapply(data,is.numeric)
just_nums_data<-data[,just_nums]
str(just_nums_data)
'data.frame':   622 obs. of  16 variables:
 ID                                 : int  1 2 4 5 6 7 8 9 10 11 ...
 QnWeight_initial                   : int  158 165 137 129 155 150 119 153 137 153 ...
 QnWeight_initial_mg                : num  15.8 16.5 13.7 12.9 15.5 15 11.9 15.3 13.7 15.3   ....
 Days_till_1st_Wrkr                 : int  NA 21 NA 26 NA 23 22 20 22 NA ...
 Days_before_max_Wrkr_Eclosion      : int  NA 12 NA 7 NA 10 11 13 11 NA ...
 Wrkr_Eclosion_Bin                  : int  NA 3 NA 1 NA 1 2 3 2 NA ...
 QnMass_At_Wrkr_Eclosion            : int  NA 83 NA 73 NA 67 53 78 56 NA ...
 ColonyMass_At_Wrkr_Eclosion        : int  NA 117 NA 53 NA 91 85 111 96 NA ...
 Adult_Wrkrs_At_Wrkr_Eclosion       : int  NA 9 NA 5 NA 1 7 3 2 NA ...
 Mature_Brood_At_Wrkr_Eclosion      : int  NA 25 NA 13 NA 17 18 27 28 NA ...
 Sum_wrkrsPlusBrood_At_Wrkr_Eclosion: int  0 34 0 18 0 18 25 30 30 0 ...
QnMass_2wksLater                   : int  NA 124 NA NA NA 111 NA NA NA NA ...
QnMass_4wksLater                   : int  NA 117 NA NA NA 88 NA NA NA NA ...
ColonyMass_4wksLater               : int  NA 571 NA NA NA 736 NA NA NA NA ...
QnMass_2mnthsLater                 : int  NA 118 NA NA NA 86 NA NA NA NA ...
ColonyMass_2mnthsLater             : int  NA 445 NA NA NA 1817 NA NA NA NA ...
heatmap(just_nums_data)
Error in heatmap(just_nums_data) : 'x' must be a numeric matrix 
```

我想我的困惑在于“int”类型满足 is.numeric() 但在传递给 heatmap() 时不算作数字。这是有什么问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T03:56:42.373

*   `heatmap`需要`x`是一个数字矩阵（参见 参考资料`?heatmap`）。
*   它通过使用`is.numeric(x)` 或更具体地说是`numeric`具有 2 维的对象 来测试这一点
    *   `length(di <- dim(x)) != 2 || !is.numeric(x)`)
*   a`data.frame`不是数字矩阵，即使所有列都是数字

例如：

```
.d <- data.frame(x= 1:10, y = runif(10))
is.numeric(.d) 
## [1] FALSE 
```

所以，你需要运行

```
heatmap(as.matrix(just_nums_data)) 
```

# java - X509TrustManager 覆盖而不允许所有证书？

> ID：11857417
> 
> 赞同：8
> 
> 时间：2012-08-08T03:50:03.873
> 
> 标签：java, x509certificate

我目前正在覆盖 X509TrustManager 以允许所有证书作为临时“解决方案”（当时不安全）。我试图弄清楚我将如何添加，所以它只接受一个我遇到问题的特定证书，直到可以完成适当的修复（目前这不在我的掌控之中）。这是当前代码。

```
TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {
    @Override
    public java.security.cert.X509Certificate[] getAcceptedIssuers() {
        return null;
    }

    @Override
    public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {
    }

    @Override
    public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {
    }
}};

try {
    SSLContext sc = SSLContext.getInstance("SSL");
    sc.init(null, trustAllCerts, new java.security.SecureRandom());
    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());
} catch (GeneralSecurityException e) {
    System.out.println(e.getStackTrace());
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-08T03:59:01.183

您需要做的就是从`getAcceptedIssuers`. 看到[这个](http://docs.oracle.com/javase/6/docs/api/java/security/cert/X509Certificate.html)

```
 InputStream inStream = new FileInputStream("fileName-of-cert");
 CertificateFactory cf = CertificateFactory.getInstance("X.509");
 X509Certificate cert = (X509Certificate)cf.generateCertificate(inStream);
 inStream.close(); 
```

然后在方法内的数组中返回它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:06:15.537

一种可能性是将有问题的证书作为可信证书临时添加到 JVM 的密钥库中。

# vbscript - 使用 VB 脚本格式化文件

> ID：11857435
> 
> 赞同：0
> 
> 时间：2012-08-08T03:51:23.560
> 
> 标签：vbscript

下面是文件，

```
AMQ8409：显示队列详细信息。
   队列（TEST1）类型（QLOCAL）
   CURDEPTH(0) 最大深度(1000)
AMQ8409：显示队列详细信息。
   队列（TEST2）类型（QLOCAL）
   CURDEPTH(0) 最大深度(5000)
AMQ8409：显示队列详细信息。
   队列（TEST3）类型（QLOCAL）
   CURDEPTH(0) 最大深度(5000)

```

我需要使用 VB 脚本将上述文件格式化如下

```
队列(TEST1) 类型(QLOCAL) CURDEPTH(0) MAXDEPTH(1000)
队列(TEST2) 类型(QLOCAL) CURDEPTH(0) MAXDEPTH(5000)
队列(TEST3) 类型(QLOCAL) CURDEPTH(0) MAXDEPTH(5000)

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:59:43.393

对您感兴趣的部分使用正则表达式：

```
 Dim reX  : Set reX  = New RegExp
  reX.Global  = True
  reX.Pattern = "\w+\(\w+\)"
  Dim sAll : sAll     = goFS.OpenTextFile("..\data\in.txt").ReadAll()
  WScript.Echo sAll
  Dim oMTS : Set oMTS = reX.Execute(sAll)
  Dim nMT
  For nMT = 0 To oMTS.Count - 1 Step 4
      WScript.Echo Join(Array(oMTS(nMT + 0), oMTS(nMT + 1), oMTS(nMT + 2), oMTS(nMT + 3)))
  Next 
```

输出：

```
AMQ8409: Display Queue details.
   QUEUE(TEST1)         TYPE(QLOCAL)
   CURDEPTH(0)                             MAXDEPTH(1000)
AMQ8409: Display Queue details.
   QUEUE(TEST2)               TYPE(QLOCAL)
   CURDEPTH(0)                             MAXDEPTH(5000)
AMQ8409: Display Queue details.
   QUEUE(TEST3)            TYPE(QLOCAL)
   CURDEPTH(0)                             MAXDEPTH(5000)

QUEUE(TEST1) TYPE(QLOCAL) CURDEPTH(0) MAXDEPTH(1000)
QUEUE(TEST2) TYPE(QLOCAL) CURDEPTH(0) MAXDEPTH(5000)
QUEUE(TEST3) TYPE(QLOCAL) CURDEPTH(0) MAXDEPTH(5000) 
```

# image - 如何抓取谷歌网页图片

> ID：11857437
> 
> 赞同：2
> 
> 时间：2012-08-08T03:51:40.283
> 
> 标签：image, web-crawler

我想抓取谷歌网络图片返回的结果。google 有提供工具吗？我正在构建一个需要针对各种主题训练示例的对象识别系统。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T03:53:35.947

这可能对您有用，因为 Google 已弃用其搜索 API：

> Google 自定义搜索使您能够搜索网站或网站集合。利用 Google 的力量创建适合您的需求和兴趣的搜索引擎，并将结果显示在您的网站上。您的自定义搜索引擎可以根据您指定的网站对搜索结果进行优先排序或限制。

[https://developers.google.com/custom-search/](https://developers.google.com/custom-search/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T03:57:34.160

您可以为此使用谷歌的 Image API。
例子：

```
$url = "https://ajax.googleapis.com/ajax/services/search/images?v=1.0&q=stackoverflow";

// sendRequest
// note how referer is set manually
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_REFERER, /* Enter the URL of your site here */);
$body = curl_exec($ch);
curl_close($ch);

// now, process the JSON string
$json = json_decode($body);
// now have some fun with the results... 
```

更多信息：[https ://developers.google.com/image-search/v1/jsondevguide#json_snippets_php](https://developers.google.com/image-search/v1/jsondevguide#json_snippets_php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-27T12:12:07.980

```
package GoogleImageDownload;

import java.io.*
import java.net.HttpURLConnection;
import java.net.URL;

import javax.net.ssl.HttpsURLConnection;
import org.w3c.dom.*

public class HttpURLConnectionExample {

private final String USER_AGENT = "Chrome/44.0.2403.157";

public static void main(String[] args) throws Exception {

    HttpURLConnectionExample http = new HttpURLConnectionExample();

    System.out.println("Testing 1 - Send Http GET request");
                    String url = "https://www.google.co.in/search?tbm=isch&q=test";

    http.sendGet(url);

    System.out.println("\nTesting 2 - Send Http POST request");
    //http.sendPost();

}

// HTTP GET request
private void sendGet(String url) throws Exception {

    URL obj = new URL(url);
    HttpsURLConnection con = (HttpsURLConnection) obj.openConnection();

    // optional default is GET
    con.setRequestMethod("GET");

    //add request header
    con.setRequestProperty("User-Agent", USER_AGENT);

    int responseCode = con.getResponseCode();
    System.out.println("\nSending 'GET' request to URL : " + url);
    System.out.println("Response Code : " + responseCode);

    BufferedReader in = new BufferedReader(
            new InputStreamReader(con.getInputStream()));
    String inputLine;
    StringBuffer response = new StringBuffer();

    while ((inputLine = in.readLine()) != null) {
        response.append(inputLine);
    }
    in.close();

        //print result
        String Html2Xml = light_html2xml.Html2Xml(response.toString());
        Document convertStringToDocument = DocumentObjectClass.convertStringToDocument(Html2Xml);
        NodeList Images = convertStringToDocument.getElementsByTagName("img");
        for(int i = 0;i<Images.getLength();i++)
        {
             Node node= Images.item(i);
             if (node.getNodeType() == Node.ELEMENT_NODE)
             {   Element elem = (Element) node;

                 if(Integer.parseInt(elem.getAttribute("height").replace("px", ""))>10&&Integer.parseInt(elem.getAttribute("width").replace("px", ""))>10)
                 {
                     System.out.println(elem.getAttribute("src"));
                     try{
                     saveImage(elem.getAttribute("src"),String.valueOf(i));
                     }
                     catch(Exception e){System.err.println(e.getMessage());}

                 }
             }
        }
                    NodeList href = convertStringToDocument.getElementsByTagName("a");
        for(int i = 0;i<href.getLength();i++)
        {
             Node node= href.item(i);
             if (node.getNodeType() == Node.ELEMENT_NODE)
             {   Element elem = (Element) node;

                 if(elem.getAttribute("href")!=null)
                 {

                     try{
                         sendGet(elem.getAttribute("href"));                         }
                     catch(Exception e){System.err.println(e.getMessage());}

                 }
             }
        }            

}

public static void saveImage(String imageUrl,String name) throws IOException {
URL url = new URL(imageUrl);
String fileName = url.getFile();

String destName = new File(".").getAbsolutePath()+"/"+name+".jpg";
System.out.println(destName);

    OutputStream os;
        try (InputStream is = url.openStream()) {
            os = new FileOutputStream(destName);
            byte[] b = new byte[2048];
            int length;
            while ((length = is.read(b)) != -1) {
                os.write(b, 0, length);
}   }
os.close();
}
} 
```

# asp.net - 绑定到 SharePoint Visual WebPart UserControls 中的静态方法

> ID：11857441
> 
> 赞同：0
> 
> 时间：2012-08-08T03:52:20.880
> 
> 标签：asp.net, data-binding, sharepoint-2010, static, webforms

我正在尝试将控件的`Text`属性绑定`<asp:TextBox />`到静态方法上的静态属性。

```
<asp:TextBox ID="TextBox1" Text='<%# Test.Text("ID") %>' runat="server"></asp:TextBox> 
```

从：

```
public static class Test
{
    public static string Text(string text)
    {
        return text;
    }
} 
```

但它似乎没有工作。如果我在方法内设置断点，它永远不会被命中。

以下 HTML 将返回给浏览器：

```
<input name="ctl00$m$g_007ce7d6_239f_413c_a8e9_8ed90deb20b1$ctl00$TextBox1" type="text" id="ctl00_m_g_007ce7d6_239f_413c_a8e9_8ed90deb20b1_ctl00_TextBox1"> 
```

但是，当我使用标记调用方法时`<%=`，标记被正确编译并将字符串返回给浏​​览器：

```
<%= this.Test.Text("ID") %> 
```

我没有从编译器得到任何错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:08:39.263

您正在使用`<%# Test.Text("ID") %>.`

请参阅[数据绑定表达式语法](http://msdn.microsoft.com/en-us/library/bda9bbfx%28v=vs.100%29.aspx)。

只有在调用 DataBind 时才会绑定此数据，如下所示：

```
Page.DataBind(); 
```

调用它的好地方是页面的 Load 事件。

# kineticjs - Kinetic JS - 如何获取组成员的坐标（在组被拖动后）？

> ID：11857446
> 
> 赞同：4
> 
> 时间：2012-08-08T03:53:13.243
> 
> 标签：kineticjs

我有一组可拖动设置为 true 的 Kinetic.Rectangle 对象。无论您将组拖动多少，调用 rect.getX() 或 rect.attrs.x，其中 rect 是组中的矩形对象之一，例如：

```
var rect = group.get('.rect')[0]; 
```

总是返回相同的值。有人知道如何获得每个矩形绘制位置的实际 x 和 y 值吗？

谢谢！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-08T16:58:04.263

我想你得到相同结果的原因是因为你得到了每个记录的相对位置。我通常使用以下代码来获取我的对象的位置：

```
Shape.getAbsolutePosition().x 
```

或者

```
shape.getPosition().x 
```

希望这会有所帮助。

# c# - 如何使用 linq to xml 概念在 wpf 中获取元素名称？

> ID：11857450
> 
> 赞同：0
> 
> 时间：2012-08-08T03:53:30.457
> 
> 标签：c#, wpf, linq-to-xml

```
<Contacts>
       <Node>
           <ID>123</ID>
           <Name>ABC</Name>
       </Node>
       <Node>
           <ID>124</ID>
           <Name>DEF</Name>
       </Node>
</Contacts> 
```

在这里，我想使用 linq to xml 概念获取元素名称（标签名称），例如**联系人**、**节点**、**ID**、**名称**。我该怎么做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:07:20.833

尝试这个：

```
var xml = @"<Contacts>
                    <Node>
                        <ID>123</ID>
                        <Name>ABC</Name>
                    </Node>
                    <Node>
                        <ID>124</ID>
                        <Name>DEF</Name>
                    </Node>
            </Contacts>";
var xdoc = XDocument.Parse(xml);
var namelist = xdoc.Descendants()
                    .Select(i => i.Name.ToString())
                    .Distinct()
                    .ToList(); 
```

你会得到：

```
{"Contacts","Node","ID","Name"} 
```

如果要获取第一个节点的名称列表

```
var nodes = xdoc.Descendants(XName.Get("Node"));
var firstNode = nodes.First();
var namelist = firstNode.Descendants()
                    .Select(i => i.Name.ToString())
                    .Distinct()
                    .ToList(); 
```

# jquery - jQuery - 为丢失某些类的元素定义变量和运行函数

> ID：11857451
> 
> 赞同：2
> 
> 时间：2012-08-08T03:53:31.283
> 
> 标签：jquery, removeclass, eventtrigger, flexslider

我知道这里有一些类似的问题，但我试图获得一个特定的值。

我正在研究 Flexslider [http://www.woothemes.com/FlexSlider/](http://www.woothemes.com/FlexSlider/)并尝试向失去“flex-active-slide”类的幻灯片添加一些特殊功能。根据文档，我设法在幻灯片动画之前和之后插入我的函数。

```
// Callback API
start: function(){},
before: function(){ 
  $('li.image').someFunction(); //this is where I need to trigger this event only to the li.image that's losing the flex-active-slide class
},                          
after: function() {
  $('li.flex-active-slide').otherFunction(); //this is where the active class
}, 
```

正如您在上面的示例中看到的那样，我不需要为所有其他`li.image`元素运行该函数，只需要为丢失 flex-active-slide 类的元素运行该函数。

我需要获取这个元素并用一个变量定义它，这样我才能正确运行函数`li.image`，这对于性能优化目的也很有意义。

我很感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:41:57.053

更简单的方法是编辑插件文件本身

打开`jquery.flexslider.js`

找到以下代码

```
 active: function() {
          slider.controlNav.removeClass(namespace + "active").eq(slider.animatingTo).addClass(namespace + "active");
        } 
```

您可以`slider.controlNav`在此功能中使用您的工作。`slider.controlNav`指`li`您使用 jQuery 找到其子图像的元素`.find`

如果它不起作用，您可以`active-slide`在此文件中找到并查看删除此类的位置，您可以在这些位置添加代码

**更新**： $('li.image').eq(slider.currentSlide) 是调用失去活动类的幻灯片的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:28:41.950

我想你可以试试这样的东西......

```
var somevar;

start: function(){},
before: function() {
    somevar = $('li.image.flex-active-slide');
},
after: function() {
    $.each(somevar, function( index, elem ) {
        if( !$(elem).hasClass('flex-active-slide')) ) {
            // Obviously it has lost the flex-active-slide class.
        }
    });
} 
```

我怀疑在插件实际执行某些操作之前很容易确定元素是否正在丢失所述类而不修改插件本身。因此，即使`.someFunction()`您拥有的方法也必须在`after`回调中执行。

# c++ - 带有指向成员模板参数的指针的隐含类型？

> ID：11857457
> 
> 赞同：3
> 
> 时间：2012-08-08T03:54:14.433
> 
> 标签：c++, templates, template-meta-programming, pointer-to-member

我正在模板中使用指向成员类型的指针，目前我正在做这样的事情：

```
template <typename Base, typename Type, Type Base::* Var>
struct Member
{
    //Stuff goes here.
}; 
```

但是必须定义 Base、Type 和 Var，似乎有点多余，因为 Base 和 Type 隐含在 Var 的类型中。

有没有办法做到这一点，这样，当使用/调用成员结构时，它只需要使用单个指向成员参数的指针？就像，理论上，是这样的：

```
template <typename Base, typename Type, Type Base::* Var>
struct Member<Var>
{
    //stuff goes here
};

struct S
{
    int memberVal;
};

int main()
{
    Member<&S::memberVal> example;
}; 
```

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:01:51.190

没门。只有您的第一个变体是正确的。您正在举例说明 C++ cyntax 不是那么优雅。就这样吧。

您的第二个示例具有模板专业化的语法。虽然它是一个新模板的定义。这很可能会被当作反对意见。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T05:02:52.223

您所要求的不能直接在 C++ 中实现。限制是对于非类型模板参数，必须在模板定义中提供类型。类型推导仅适用于函数参数。

根据您的实际用例，可以使用其他替代方法，但它们意味着将成员指针从模板参数（编译时）移动到函数参数（运行时）。也就是说，给定一个类型：

```
template <typename C, typename M>
struct Member {
   M C::*ptr;
   Member( M C::*ptr ) : ptr(ptr) {}
}; 
```

可以使用以下语法创建它的实例：

```
auto x = create_member( &S::memberVal ); 
```

通过使用一些元编程技巧，虽然不太复杂：

```
template <typename T> struct MemberType;
template <typename T, typename M> 
struct MemberType<M T::*> {
   typedef Member<T,M> type;
};
template <typename T>
typename MemberType<T>::type
create_member( T mbrptr ) {
    typename MemberType::type r(mbrptr);
    return r;
} 
```

但正如我已经提到的，这意味着将编译时参数转换为运行时参数，因此可能会抑制编译器会做的一些优化（即内联）。

# security - Google Chrome 原生和沙盒磁盘安全

> ID：11857458
> 
> 赞同：0
> 
> 时间：2012-08-08T03:54:19.310
> 
> 标签：security, google-chrome, native, sandbox, google-nativeclient

Google 原生沙盒磁盘的安全性如何？

如果使用谷歌原生 API 的沙盒应用程序将高度安全的文件放置在 Chrome 沙盒磁盘中，那么 Chrome 之外的程序或其他 Chrome 原生客户端是否可以访问这些数据？

人们希望沙盒对其他沙盒应用程序和外部应用程序完全隐藏/加密。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T13:31:16.487

Chrome 之外的程序（在与 Chrome 相同的用户下或以 root/管理员身份运行）可以访问由 NaCl 或 javascript 保存在 HTML5 文件系统中的任何数据。来自不同域的 NaCl 应用程序和 javascript 无法访问它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T08:39:55.607

从这里： [https ://developers.google.com/native-client/faq](https://developers.google.com/native-client/faq)

听起来您应该使用本机客户端来“......处理企业应用程序的浏览器端加密和解密”。因此，我想您可以通过使用 NaCL 并确保使用良好的加密库来对您的数据进行强大的加密。

# java - 无论如何要打开软糖触摸响应

> ID：11857466
> 
> 赞同：0
> 
> 时间：2012-08-08T03:55:17.380
> 
> 标签：java, android, eclipse

无论如何要关闭果冻豆触摸响应。它导致我的游戏出现 FPS 延迟。游戏是 FPS 射击游戏，因此它必须不落后。我知道它的触摸响应能力，因为当我在屏幕上主动拖动手指时，FPS 会达到最大值，但如果我放手，它会再次下降。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:23:21.273

在任何视图中你使用 put 使它 clicable false

`android:clickable="false"`

放这条线并检查结果

# c# - .Net 控制台应用程序中使用的 Oracle Db 的性能更好？

> ID：11857469
> 
> 赞同：0
> 
> 时间：2012-08-08T03:55:44.620
> 
> 标签：c#, sql, oracle

目前，我们有使用 oracle DB 的 C#.Net 控制台应用程序。

首先，应用程序从许多表中检索数据并插入到 C# List 对象中。

之后，列表中的数据将被插入到一个表（例如，tableA）中，但表A中的数据已经很旧，不再使用了。所以，我们必须在插入之前删除整个表。 每次出现新数据时，我们都必须这样做**“删除整个表并插入新数据过程” 。**有什么方法可以改善应用程序性能的结构吗？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:49:54.707

可能的改进：

*   使用 PLSQL 完成工作并从您的应用程序调用函数/过程，而不是“下载”信息并从客户端“上传”信息，一切都将在数据库内完成。这假设没有对客户端内部的信息进行交互工作（用户更改数据）。
*   在开始工作之前，使用 truncate table 而不是 delete（在 tableA 上）清空表。
*   添加索引以加快查询速度

# oauth - 为什么我的 jsOAuth 代码不起作用

> ID：11857482
> 
> 赞同：0
> 
> 时间：2012-08-08T03:58:26.013
> 
> 标签：oauth, jsoauth

我正在使用 jsOAuth：[https ://github.com/bytespider/jsOAuth](https://github.com/bytespider/jsOAuth)

我想进入 Twitter OAuth 页面，用户在该页面输入他们的用户名/密码，以便我的应用程序可以获取另一个用于发推文等的令牌。（仅供参考，它不是网络应用程序。它是一个移动应用程序[我知道不显示密钥和秘密等]）

当我单击此按钮时它不起作用（你知道为什么吗？）：

```
<html>
<head>
<script src="jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="jsOAuth-1.3.4.js"></script>
<script type="text/javascript">

function gimmiegimmie(){
var options = { 
        consumerKey: 'blahblahblah',
        consumerSecret: 'blahblahblah',
        callbackUrl: 'http://www.wouwqheqweiqiuwheiug8yg2g123e.com/' };
oauth = OAuth(options);
oauth.get('https://api.twitter.com/oauth/request_token',
function(data) {
    requestParams = data.text;
window.location.href = "https://api.twitter.com/oauth/authorize?"+data.text;},
alert("ahhhh");
window.location.replace( "index.html" );
    );}

</script>
</head>
<body  bgcolor="black"  >
<center>
<br>
<button type="button"  id="authbut" style="font-size:45px;height: 100px; width: 75%"     onClick="gimmiegimmie();">OAuth</button><br>
<br>
</center>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-15T13:50:46.460

只看它， oauth.get 需要 3 个参数，但您只有 1 个有效参数——匿名函数。

另外两个——

警报（“啊”）；

window.location.replace("index.html");

不是有效参数。可能像参考文献中那样设置要执行的成功和失败函数并将其用作参数会有所帮助。 [http://bytespider.github.com/jsOAuth/api-reference/#get](http://bytespider.github.com/jsOAuth/api-reference/#get)

# android - 如何将应用程序文件夹共享给另一个 Dropbox 用户

> ID：11857487
> 
> 赞同：7
> 
> 时间：2012-08-08T03:59:19.073
> 
> 标签：android, dropbox, sharing, dropbox-api

我正在开发一个可以在保管箱文件夹中上传和下载的应用程序保管箱自动创建一个应用程序文件夹

我的问题是，如何将文件夹共享给另一个保管箱用户

我之前尝试过，它说应用程序文件夹无法共享，或者我可以更改编码以创建不在应用程序文件夹中的文件夹吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:48:10.667

更改最终静态私有 AccessType ACCESS_TYPE = AccessType.APP_FOLDER; to final static private AccessType ACCESS_TYPE = AccessType.DROPBOX;

如果将创建可以共享给其他用户的文件夹

# iphone - IOS TableView选择行崩溃应用程序

> ID：11857488
> 
> 赞同：0
> 
> 时间：2012-08-08T03:59:23.413
> 
> 标签：iphone, ios, uitableview

我的 iphone 推特应用程序有问题。当我在表格视图中选择一行时，我的应用程序崩溃并显示“线程 1：程序收到信号”EXC_BAD_ACCESS“。”

这是我的表格视图的代码

```
//
//  PersonListViewController.m
//  AssignmentPresenceII
//
//  Created by Waqas Naseem on 8/7/12.
//  Copyright 2012 __MyCompanyName__. All rights reserved.
//

#import "PersonListViewController.h"

@implementation PersonListViewController

@synthesize users;
//@synthesize person;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];

    if (self) {
        // Custom initialization

       self.title=@"People";
    }
    return self;
}

- (void)didReceiveMemoryWarning
{
    // Releases the view if it doesn't have a superview.
    [super didReceiveMemoryWarning];

    // Release any cached data, images, etc that aren't in use.
}

#pragma mark - View lifecycle

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.

    NSString *path=[[NSBundle mainBundle] bundlePath];

    NSString *filePath=[path stringByAppendingPathComponent:@"TwitterUsers.plist"];

    self.users=[NSArray arrayWithContentsOfFile:filePath];

    //users=[NSArray arrayWithObjects:@"Waqas",@"RAmiz",@"Afnan", nil];

    for(NSString *s in users)
    {
        //NSLog(@"Name : %@",s);
    }

    //NSArray *array=
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
    // e.g. self.myOutlet = nil;

    users=nil;
}
-(void)dealloc
{
    [self.users release];
    [super dealloc];
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [self.users count];
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSString *cellId=@"Cell";

    UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:cellId];

    if(cell==nil)
    {
        cell=[[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId] autorelease];
    }
    //NSString *nameString=[self.users objectAtIndex:[indexPath row]];

   // NSDictionary *dic=[TwitterHelper fetchInfoForUsername:nameString];

   // NSString *displayName=[dic objectForKey:@"name"];

    //NSLog(@"Name is %@:",displayName);

    //NSString *picURL=[dic objectForKey:@"profile_image_url"];

   // NSArray *userTimeLine=[TwitterHelper fetchTimelineForUsername:nameString];

   // person=[[Person alloc] initWithUserName:nameString displayName:displayName imgURL:picURL statuses:userTimeLine];

    //cell.imageView.image=[UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:picURL]]];

    //[dic release];

    //cell.textLabel.text=nameString;

    cell.textLabel.text=@"Hello";

    return  cell;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // Return YES for supported orientations

    return (interfaceOrientation == UIInterfaceOrientationPortrait);

}

-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSLog(@"Hi");
}

@end 
```

# android - 识别手机版浏览器的最佳方法

> ID：11857490
> 
> 赞同：1
> 
> 时间：2012-08-08T03:59:28.720
> 
> 标签：android, ios, http, http-headers, mobile-safari

我正面临[这篇文章](https://stackoverflow.com/questions/3038898/ipad-iphone-hover-problem-causes-the-user-to-double-click-a-link)中描述的问题。建议的解决方案不适合我，因为我正在使用一些 jQuery 历史/后退按钮插件。

我决定将 css 拆分为多个版本——一个用于桌面浏览器（具有悬停功能），另一个用于移动浏览器。所以我开始检查浏览器的用户代理标头是否包含`Mobile`单词。据我所知，只有 Opera 不附加该词并使用`Mini`.

如果我想处理大多数 iOS/Android 设备，那是正确的方法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T07:05:48.007

我知道您的问题并非专门针对 Ruby on Rails，但我可以与您分享我用来识别移动请求的代码。它几乎是在检查用户代理标头是否存在 Mobile 或 Mini：

```
 def is_mobile_request?
    request.headers.select{ |k,v| k[/AGENT/]}.values.first[/mobile|mini/i]
  end 
```

到目前为止没有任何问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T07:51:27.563

您还可以使用[detectmobilebrowsers.com](http://detectmobilebrowsers.com/)提供的代码片段。它们为网站使用的常用语言提供移动浏览器检测代码。

# google-apps-script - 使用应用程序脚本将符合条件的电子邮件导入 Google 电子表格

> ID：11857494
> 
> 赞同：12
> 
> 时间：2012-08-08T03:59:49.310
> 
> 标签：google-apps-script, google-sheets, gmail

我想知道是否可以创建一个应用程序脚本来监视我的收件箱或 gmail 中的某个标签，并在收到电子邮件时将其导入谷歌电子表格

两者中较简单的是导入在某个标签中捕获的所有电子邮件，这很容易使用 gmail 本身中的过滤器完成，所以我认为这将是更简单的选择

如果可能的话，有人可以将我链接到已经执行此操作的应用程序脚本，或者为我指出正确的开始方向吗？我有一些，尽管对应用程序脚本的经验很少，所以对我来说轻松一点:)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-22T09:14:26.817

这是一个开始的小代码，我确实将请求限制在前 10 个线程以使其简短，并使用了我拥有的标签......在测试之前不要忘记更改它的名称 ;-)

```
 function getMessagesWithLabel() {
     var destArray = new Array();
      var threads = GmailApp.getUserLabelByName('Facebook').getThreads(1,10);

      for(var n in threads){
            var msg = threads[n].getMessages();
            var destArrayRow = new Array();
            destArrayRow.push('thread has '+threads[n].getMessageCount()+' messages');
              for(var m in msg){
                         destArrayRow.push(msg[m].getSubject());
               }
      destArray.push(destArrayRow);           
            }
    Logger.log(destArray);
    var ss = SpreadsheetApp.getActiveSpreadsheet();
    var sh = ss.getActiveSheet();
    if(ss.getLastRow()==0){sh.getRange(1,1).setValue('getMessagesWithLabel() RESULTS')};
    sh.getRange(ss.getLastRow()+1,1,destArray.length,destArray[0].length).setValues(destArray)
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-08T05:46:19.190

是的，可以编写一个脚本来执行您概述的操作。请参阅 Apps 脚本的[GmailApp 文档](https://developers.google.com/apps-script/class_gmailapp)，了解您可以使用的方法。

# c# - 如何检查两个日期是否介于 c# 或 Vb.net 中的另外两个日期之间

> ID：11857496
> 
> 赞同：0
> 
> 时间：2012-08-08T04:00:16.777
> 
> 标签：c#, .net, vb.net

我有一个搜索页面，可以按日期搜索文章。搜索条件仅包含月份和年份。So whenever the month is selected and clicked "filter" I take the start day of that month as "dtStartDate" and end day of the month as "dtEndDate"

必须搜索的文章还具有有效开始日期为“EffStartDate”和有效结束日期为“EffEndDate”

那么，如果这些 "EffStartDate" 和 "EffEndDate" 都落在 "dtStartDate" 和 "dtEndDate" 之内，应该是什么条件？

我尝试了这个，但结果不正确，

```
If (EffStartDate >= dtStartDate & EffStartDate  <= dtEndDate) 

    //Do Something     

ElseIf (EffEndDate >= ddl_FromDate & EffEndDate <= dtEndDate.AddDays(1)) Then

    //Do Something

End If 
```

场景：假设有两篇文章将使用不同的日期进行搜索。

```
Article - 1
EffStartDate = 11/7/2012
EffEndDate = 31/8/2012

Article - 2
EffStartDate = 1/7/2012 
EffEndDate = 28/9/2012 
```

现在，在我的搜索页面中，当我搜索 2012 年 7 月 7 日至 2012 年 7 月 31 日之间的文章时，我应该会看到这两篇文章的结果，因为 effstardate 和 effenddate 都位于用于搜索的日期之间。但现在我只看到 Artilce - 1 结果。为什么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:52:39.173

从您的示例中我可以清楚地看出您的标准文本是错误的。您的标准文本表明，如果有效开始日期和结束日期都在日期范围内，您只想显示一篇文章......如果文章的***整个**有效范围*完全适合*搜索*。但是您的示例表明，如果日期范围的*任何部分适合搜索范围，则您希望显示该文章。*澄清这一点的编辑会有所帮助，但现在我将继续假设该示例是正确的解释。

您似乎还将 VB.Net 和 C# 的语言语法混合在一起。你不能像那样混合语法。对您的代码片段影响最大的似乎是 VB.Net，因此我将在示例中使用它。

在 VB.Net 中，您可以编写一个匹配搜索示例的条件，如下所示：

```
If       (EffStartDate >= dtStartDate AndAlso EffStartDate  < dtEndDate.AddDays(1)) _
  OrElse (EffEndDate >= dtStartDate AndAlso EffEndDate < dtEndDate.AddDays(1)) 
  OrElse (EffStartDate < dtEndDate.AddDays(1) AndAlso EffEndDate >= dtStartDate) Then
   '...
End If 
```

我还担心您完全是在一个`If`块中编写此代码。如果这些日期在数据库中，那么数据库是*迄今为止*筛选结果的最佳位置。如果数据在其他地方，那么某种类型的 linq-to-objects 查询可能会产生更好的性能，并且更短且更易于维护。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:28:22.030

我没有很好地回答你的问题，但这样更简单

```
 bool isStartEffDateInside=(EffStartDate >= dtStartDate && EffStartDate  <= dtEndDate);
 bool isEndEffDateInside=(EffEndDate >= ddl_FromDate && EffEndDate <= dtEndDate.AddDays(1));

if(isStartEffDateInside || isEndEffDateInside)
{
 // do something global
  if(isStartEffDateInside && isEndEffDateInside)
    {
        //Do something when the two Effs are inside the StartEnd
    }
} 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T04:37:30.007

您是否尝试过[DateTime.CompareTo](http://msdn.microsoft.com/en-us/library/5ata5aya.aspx)方法？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T04:55:12.860

C#版本：

```
if ((EffStartDate >= dtStartDate && EffStartDate <= dtEndDate) ||
    (EffEndDate >=  dtStartDate && EffEndDate <= dtEndDate))
{
    // Good Article
}
else
{
    // Bad Article
} 
```

# wordpress - wp-plugin 仅将 Rss Feed 应用于页面

> ID：11857502
> 
> 赞同：1
> 
> 时间：2012-08-08T04:01:33.140
> 
> 标签：wordpress, rss

我想将 Rss 提要应用于我的页面，而不是帖子（因为我的帖子无法正常工作）作为我项目的临时解决方案。

Wp-Plugin 或代码，任何东西都适用于我的 wordpress 网站。

我应用了这个代码@

```
<div class="left mr15"><a class="ico_rss" href="<?php bloginfo('rss2_url'); ?>" title="RSS"><span>RSS</span></a></div> 
```

它只显示我最近的帖子，但我想显示我最近的页面。

你的建议是可观的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T04:10:40.290

1.  我为页面创建了自己的 Rss 提要，并让它只适用于我的页面，而不是帖子。

    $numposts = 5;

    函数 yoast_rss_date( $timestamp = null ) { $timestamp = ($timestamp==null) ？时间（）：$时间戳；回显日期（DATE_RSS，$timestamp）；}

    函数 yoast_rss_text_limit($string, $length, $replacer = '...') { $string = strip_tags($string); if(strlen($string) > $length) return (preg_match('/^(. *)\W.* $/', substr($string, 0, $length+1), $matches) ? $matches[1] : substr($string, 0, $length)) 。$替换器；
    返回$字符串；} $numpages = 5; // 要显示多少最近修改的页面 $pages = $wpdb->get_results("SELECT * from $wpdb->posts WHERE post_type='page' and post_status='publish' and post_title != 'Rss' ORDER BY post_modified DESC限制 $numpages"); $lastpost = $numposts - 1;

    header("Content-Type: application/rss+xml; charset=UTF-8"); 回声''; ?> Clayton Updates http://vygears.com/Clayton1/ Clayton 的最新博客页面 en-us post_date_gmt) ); ?> post_date_gmt) ); ?> ID); ?> ID); ?> post_content, 500)。

    继续阅读：ID).'">'.get_the_title($page->ID).''.']]>'; ?> post_date_gmt) ); ?> ID); ?>

2.  将上述代码保存为您网站文件夹中的 Rss.php（连同 index.php、header.php、....）作为模板页面。

3.  然后，打开管理仪表板并转到 Pages->New Page 并在标题中给出“Rss”，在右侧的 Template 下，选择“Custom Feed_trial”并单击发布。

4.  然后，将您的 Rss 页面路径（例如网站地址/？page_id=2022）应用到您网站或博客中的 Rss 按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:10:17.700

WordPress 有一个 RSS to Page 插件。

[http://wordpress.org/extend/plugins/rss-in-page/](http://wordpress.org/extend/plugins/rss-in-page/)

# binding - 如何在 WinRT 中的 ItemContainerStyle 中进行绑定？

> ID：11857505
> 
> 赞同：24
> 
> 时间：2012-08-08T04:01:52.057
> 
> 标签：binding, windows-runtime, itemscontrol, winrt-xaml, itemcontainerstyle

我正在尝试将集合绑定到 ItemsControl，将 Canvas 作为项目面板，并将每个项目的 Canvas.Left 和 Top 绑定到项目对象的属性。[基本上，我正在尝试重新创建我在博客上](http://blog.excastle.com/2009/04/26/databinding-the-videogame-part-5-making-the-map-2-d/)的这篇文章中描述的二维数据绑定，但这次是在 WinRT 而不是 WPF 中。

由于 ItemsControl 将您的 ItemTemplate 内容包装在另一个 UI 元素（在 WinRT 的情况下为 ContentPresenter）中，并且这些包装器/容器元素直接放置在项目面板内，因此必须在这些容器上设置 Left 和 Top；您不能只在 DataTemplate 中设置它们。在 WPF 中，使用 ItemContainerStyle 中的绑定很容易做到这一点，例如：

```
<ItemsControl.ItemContainerStyle>
    <Style>
        <Setter Property="Canvas.Left" Value="{Binding Path=X}"/>
        <Setter Property="Canvas.Top" Value="{Binding Path=Y}"/>
    </Style>
</ItemsControl.ItemContainerStyle> 
```

但是当我在 WinRT/XAML 项目中尝试同样的事情时，我什么也得不到。*甚至没有绑定错误。*如果我硬编码一个值，它会起作用；但如果我使用绑定，该属性将保持其默认值（零），并且“输出”窗口中不会显示任何绑定错误。

```
<ItemsControl.ItemContainerStyle>
    <Style TargetType="ContentPresenter">
        <!-- This works, so ItemContainerStyle does work in WinRT: -->
        <Setter Property="Canvas.Left" Value="200"/>
        <!-- But this silently fails, leaves Top as 0, and does not show
             any binding errors in the debugger's Output window: -->
        <Setter Property="Canvas.Top" Value="{Binding Y}"/>
    </Style>
</ItemsControl.ItemContainerStyle> 
```

我已经验证 ContentPresenters 确实具有正确的 DataContext（即集合项，而不是集合本身或其他时髦的东西），因此您会认为这些绑定可以正常工作。但他们似乎甚至没有得到*评估。*如果我在其他任何地方放置了错误的绑定并运行调试构建，我会在调试器的输出窗口中看到绑定错误；但是如果我在我的 ItemContainerStyle 中引用了一个无意义的属性，则不会显示绑定错误。

这是一个更完整的示例，（据我所知）在 WPF 中应该可以正常工作，但是在 WinRT 中将所有内容留在原点：

```
<ItemsControl ItemsSource="{Binding Tiles}">
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
            <Canvas/>
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
    <ItemsControl.ItemContainerStyle>
        <Style TargetType="ContentPresenter">
            <Setter Property="Canvas.Left" Value="{Binding DataContext.Left}"/>
        </Style>
    </ItemsControl.ItemContainerStyle>
    <ItemsControl.ItemTemplate>
        <DataTemplate>
            <Rectangle Width="80" Height="80" Fill="Gray"/>
        </DataTemplate>
    </ItemsControl.ItemTemplate>
</ItemsControl> 
```

我已经尝试了一些更奇特的选项`Binding`——特别是`RelativeSource`。当我使用`RelativeSource TemplatedParent`时，无所事事的行为没有改变。但是，当我使用时`RelativeSource Self`，我确实收到了一个绑定错误，说该属性在 type 上不存在`Setter`！这`Self`有点太字面意思了，那里。

我也玩过 . `TemplateBinding`，但我从来没有真正理解过它应该用来做什么，我得到的只是一些难以理解的 COM 错误（欢迎使用 WinRT，这是一个巨大的技术倒退）。

我怎样才能（a）使绑定正常工作（是否有其他选项`Binding`可以用来强制它正常工作？），或者（b）以其他方式允许我中的项目基于数据绑定`ItemsContainer`任意定位到`Canvas`集合项目的属性？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-08T16:33:58.513

Setter 不支持绑定。我认为 Silverlight 仅在版本 5 中获得了它们。对于解决方法，您可以在[此处](http://blog.onedevjob.com/2011/10/26/workaround-for-binding-not-supported-on-stylesettervalue-in-silverlight/)查看我的旧文章。基本上，您定义一个附加的依赖属性，为您设置绑定。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-12-31T19:01:29.247

在 silverlight 和 winrt/metro/8.1 中应用 RenderTransform 似乎对我很有效：

```
<ItemsControl ItemsSource="{Binding TreeMapItems}">
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
            <Canvas Background="White"/>
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
    <ItemsControl.ItemTemplate>
        <DataTemplate>
            <Rectangle Width="{Binding Width}" Height="{Binding Height}" Fill="{Binding Brush}" ToolTipService.ToolTip="{Binding Label}">
                <Rectangle.RenderTransform>
                    <TranslateTransform X="{Binding X}" Y="{Binding Y}"/>
                </Rectangle.RenderTransform>
            </Rectangle>
        </DataTemplate>
    </ItemsControl.ItemTemplate>
</ItemsControl> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-14T20:47:45.010

替代方案：在演示之前创建“项目”期间，还有其他机会通过代码附加绑定。

ItemsControl.PrepareContainerForItemOverride [http://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.controls.itemscontrol.preparecontainerforitemoverride.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.controls.itemscontrol.preparecontainerforitemoverride.aspx)

ListViewBase.ContainerContentChanging [http://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.controls.listviewbase.containercontentchanging.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.controls.listviewbase.containercontentchanging.aspx)

# c - C中是否有isset（）的php对应物？

> ID：11857508
> 
> 赞同：0
> 
> 时间：2012-08-08T04:02:07.167
> 
> 标签：c

> **可能重复：**
> [C/C++ 中 PHP 的 isset() 对应项](https://stackoverflow.com/questions/230687/counterpart-of-phps-isset-in-c-c)

我是 C 新手，我想知道是否有办法测试定义的变量？

类似`isset()`PHP 的东西

更新：

我问这个问题是为了检查我在`main()`子线程中是否存在声明的变量。答案不相关，但我想知道 C 中有什么方法可以做到这一点

# symfony - 在会话中存储序列化对象

> ID：11857510
> 
> 赞同：0
> 
> 时间：2012-08-08T04:02:27.003
> 
> 标签：symfony

我有一个将对象存储到会话中的服务类

```
$this->session->set('utmUser', $this->session->serialize($this->utmUser)); 
```

我从会话中得到未序列化的对象：

```
$this->utmUser = $this->session->unserialize($this->session->get('utmUser')); 
```

但结果不是存储对象的实例。

会话包含此序列化字符串：

> string(221) "a:2:{i:0;O:68:"Symfony\Component\HttpFoundation\SessionStorage\NativeSessionStorage":1:{s:10:"*options";a:5:{s:8 :"生命周期";i:0;s:4:"路径";s:1:"/";s:6:"域";s:0:"";s:6:"安全";b: 0;s:8:"httponly";b:0;}}i:1;s:2:"en";}"

将对象的所有属性设置为受保护不起作用。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T08:28:58.673

session->serialize() 和 unserialize() 不会像您认为的那样做，它们不会序列化和反序列化对象，它们会序列化和反序列化整个会话。它们不带任何参数，实际上已在 Symfony 2.1 中删除

您只需将对象设置到会话中，Symfony 就会为您处理序列化和反序列化，只需使用：

```
$this->session->set('utmUser', $this->utmUser); 
```

和

```
$this->utmUser = $this->session->get('utmUser'); 
```

在任何情况下，您都可以重新考虑是否真的需要将整个对象存储到会话中。如果这是一个大对象，则效率可能非常低。如果是这种情况并且对象存储在数据库中，您可以只存储对象的 id，然后在需要时从 id 重新加载它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-13T13:29:19.773

实际上，**Symfony 不会为您处理对象的序列化和反序列化。**

对于标准的 Symfony 对象（比如 Request 对象，比如说）可能是这样，但是如果你想存储你的自定义对象而不实现*serialize()*和*unserialize()*方法，**Symfony/PHP 将会崩溃**。

此外，它不会在保存对象时崩溃，而是在从数据库加载会话时（特别是在每次 session_start() 调用时）。所以它可能会引起很多麻烦 - 你不会看到任何错误，只是无限加载页面！

**解决方案：**只需实现 \Serializable 接口。例子：

```
namespace AppBundle\Event;

use Symfony\Component\EventDispatcher\GenericEvent;

class MyEvent extends GenericEvent implements \Serializable
{

  /* ... */

  public function serialize()
  {
    return serialize(
      [
        $this->property1,
        $this->property2,
      ]
    );
  }

  public function unserialize($serialized)
  {
    $data = unserialize($serialized);
    list(
      $this->property1, 
      $this->property2,
      ) = $data;
  }
} 
```

# c# - 将泛型添加到动态集合时的 C# 奇怪行为

> ID：11857512
> 
> 赞同：4
> 
> 时间：2012-08-08T04:02:34.577
> 
> 标签：c#, generics, dynamic

作品

```
private void Add<H>(H toAdd, IList<dynamic> list)
{
     list.Add(toAdd);
} 
```

不工作

```
private void Add<H>(IList<H> toAdd, IList<IList<dynamic>> list)
{
     list.Add(toAdd);
} 
```

可以想象，错误是

```
The best overloaded method match for 'System.Collections.Generic.ICollection<System.Collections.Generic.IList<dynamic>>.Add(System.Collections.Generic.IList<dynamic>)' has some invalid arguments 
```

如果有人知道为什么会发生这种情况甚至更好，如何解决它，我很好奇。我认为它与通用方差有关，但动态让我不太确定。

谢谢，汤姆

**编辑**

```
 //doesn't work
   private void Add<H>(IList<H> toAdd, IList<IList<dynamic>> list) where H : object
   {
      list.Add(toAdd);
   }

   //works
   //this isn't good enough however because I only want to be able to
   //have one type of object in toAdd
   private void Add(IList<object> toAdd, IList<IList<dynamic>> list)
   {
      list.Add(toAdd);
   }

   //works
   private void Add<H>(IList<H> toAdd, IList<IList<dynamic>> list)
   {
      list.Add(toAdd.Cast<dynamic>().ToList());
   }

   private void Foo()
   {
      //works
      IList<dynamic> list1 = new List<object>();
      //works
      IList<object> list2 = new List<dynamic>();
      //works
      IList<IList<dynamic>> list4 = new List<IList<object>>();
      //works
      IList<IList<object>> list3 = new List<IList<dynamic>>();
   } 
```

我添加了更多示例（并不令人惊讶）只是为了说明

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T04:12:56.857

那是因为您不能将 an`IList<H>`转换为`IList<dynamic>`. 想象一下会发生什么：

```
IList<H> myList = new List<H>(...);
IList<dynamic> myDynamicList = myList; // assuming this would compile
myDynamicList.Add(new Foo()); // boom 
```

您可以尝试保留一个列表，`IEnumerable<dynamic>`而不是`IList<dynamic>`，因为`IEnumerable<out T>`它有一个协变类型参数。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-08-08T05:08:29.840

您正在尝试将列表“toAdd”添加到列表列表（“list”）中，因此您会看到错误...

# knockout.js - KnockoutJS 通过另一个 ObservableArry 过滤 ObservableArray

> ID：11857515
> 
> 赞同：2
> 
> 时间：2012-08-08T04:03:21.823
> 
> 标签：knockout.js, knockout-2.0

假设我有一个视图模型，其中包含一个可观察的产品数组，该数组在产品对象上有一个类别数组（Id、Name）。然后我还有一个可观察的过滤器数组，它们只是类别。有没有一种方法可以找到所有在过滤器可观察数组中具有所有类别的产品。因此，我需要返回具有过滤器数组中所有类别的所有产品，而不仅仅是一个过滤器，但该产品必须包含所有过滤器。提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T06:19:23.980

我认为它应该是这样的：

```
 function Product(id, name) {
            this.id = id;
            this.name = name;
            this.categories = [];
        }

        function ProductCategory(name) {
            this.name = name;
        }

        function ViewModel() {
            this.products = ko.observableArray();
            this.filters = ko.observableArray();
            var self = this;

            //dummy data
            self.init = function () {
                var c1 = new ProductCategory('Cat1');
                var c2 = new ProductCategory('Cat2');
                var c3 = new ProductCategory('Cat3');
                var c4 = new ProductCategory('Cat4');

                var p1 = new Product(1, 'Prod 1');
                p1.categories = [c1, c2];

                var p2 = new Product(2, 'Prod 2');
                p2.categories = [c1, c3, c4];

                var p3 = new Product(3, 'Prod 3');
                p3.categories = [c3, c4];

                var p4 = new Product(4, 'Prod 4');
                p4.categories = [c1, c2, c4];

                self.products([p1, p2, p3, p4]);
                self.filters([c1, c3, c4]);
            };

            self.init();

            //filtered products will be recalculated on products or filters array change
            self.filteredProducts = ko.computed(function () {
                var filteredProducts = [];
                ko.utils.arrayForEach(self.products(), function (product) {
                    var notInFilter = false;

                    for (var i = 0; i < product.categories.length; i++) {
                        var category = product.categories[i];

                        if (self.filters().indexOf(category) < 0) {
                            notInFilter = true;
                            break;
                        }
                    }

                    if (!notInFilter) {
                        filteredProducts.push(product);
                    }
                });

                return filteredProducts;
            });
        } 
```

[摆弄](http://jsfiddle.net/yk3GR/)代码

# c - 从支持 UNICODE 的 WINAPI 编程开始

> ID：11857517
> 
> 赞同：1
> 
> 时间：2012-08-08T04:03:37.820
> 
> 标签：c, windows, winapi, unicode, unicode-string

我开始使用 WINAPI 用 C 语言开发应用程序。我希望我的应用程序支持 UNICODE。

> 我正在使用 mingw 和 gcc 编译器。我应该怎么做才能使我的应用程序支持 UNICODE。它应该适用于从 xp 开始的所有 Windows 版本。我希望我的应用程序可以使用所有语言。

你能不能给我一些关于这个和做和不做的指导方针。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T04:11:04.107

1）不幸的是，您的问题太模糊而无法有效回答。

2）此外，“支持Unicode”*与*“支持不同语言”不同。

3) 最后，即使是 Unicode（更广泛的“国际化”主题的一小部分）也会根据您的 Windows 版本、Windows 编译器和目标受众而有所不同。

强烈建议：

1) 从这里开始了解“Unicode”的概述：

*   [每个软件开发人员绝对、绝对必须了解 Unicode 和字符集的绝对最低要求（没有借口！）](http://www.joelonsoftware.com/articles/Unicode.html)

2）以下是“国际化”的几个很好的概述：

*   [http://en.wikipedia.org/wiki/Internationalization_and_localization](http://en.wikipedia.org/wiki/Internationalization_and_localization)

*   [http://msdn.microsoft.com/en-us/library/windows/desktop/dd318661%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/dd318661%28v=vs.85%29.aspx)

3）这里有几个链接可以用多种不同的语言编写应用程序：

*   [http://www.linuxtopia.org/online_books/programming_books/gnu_libc_guide/Translation-with-gettext.html](http://www.linuxtopia.org/online_books/programming_books/gnu_libc_guide/Translation-with-gettext.html)

*   [在 win32 API 应用程序中实现全球化/多语言功能](https://stackoverflow.com/questions/1653874/implementing-globalization-multilingual-feature-in-win32-api-application)

# python - 从文件中读取结构数组

> ID：11857521
> 
> 赞同：2
> 
> 时间：2012-08-08T04:04:21.940
> 
> 标签：python, struct

我有下一个任务：我需要从文件中读取结构数组。读取一个结构没有问题：

```
structFmt = "=64s 2L 3d"    # char[ 64 ] long[ 2 ] double [ 3 ]
structLen = struct.calcsize( structFmt )
f = open( "path/to/file", "rb" )
structBytes = f.read( structLen )
s = struct.unpack( structFmt, structBytes ) 
```

读取“简单”类型的数组也没有问题：

```
f = open( "path/to/file", "rb" )
a = array.array( 'i' )
a.fromfile( f, 1024 ) 
```

但是`structFmt`从文件中读取 1024 个结构是有问题的（当然对我来说）。我认为，读取 1024 次 struct 并将其附加到列表中是一种开销。我不想使用像`numpy`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T07:05:05.080

我会查看对文件进行映射，然后使用 ctypes 类方法 from_buffer() 调用。这将映射 ctypes 定义的结构数组[http://docs.python.org/library/ctypes#ctypes-arrays](http://docs.python.org/library/ctypes#ctypes-arrays)。

这将结构映射到 mmap 文件上，而无需显式读取/转换和复制内容。

我不知道最终结果是否合适。

只是为了好玩，这里是一个使用 mmap 的快速示例。（我使用 dd 创建了一个文件`dd if=/dev/zero of=./test.dat bs=96 count=10240`

```
from ctypes import Structure
from ctypes import c_char, c_long, c_double
import mmap
import timeit

class StructFMT(Structure):
     _fields_ = [('ch',c_char * 64),('lo',c_long *2),('db',c_double * 3)]

d_array = StructFMT * 1024

def doit():
    f = open('test.dat','r+b')
    m = mmap.mmap(f.fileno(),0)
    data = d_array.from_buffer(m)

    for i in data:
        i.ch, i.lo[0]*10 ,i.db[2]*1.0   # just access each row and bit of the struct and do something, with the data.

    m.close()
    f.close()

if __name__ == '__main__':
    from timeit import Timer
    t = Timer("doit()", "from __main__ import doit")
    print t.timeit(number=10) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T04:37:54.870

Alas, there is no analog for *array* that holds complex structs.

The usual technique is to make many calls to struct.unpack and append the results to a list.

```
structFmt = "=64s 2L 3d"    # char[ 64 ] long[ 2 ] double [ 3 ]
structLen = struct.calcsize( structFmt )
results = []
with open( "path/to/file", "rb" ) as f:
    structBytes = f.read( structLen )
    s = struct.unpack( structFmt, structBytes )
    results.append(s) 
```

If you're concerned about being efficient, know that *struct.unpack* caches the parsed structure between successive calls.

# javascript - 使用 initKeyboardEvent

> ID：11857524
> 
> 赞同：2
> 
> 时间：2012-08-08T04:05:05.463
> 
> 标签：javascript, html, javascript-events

我正在尝试找到使用 initKeyboardEvent() 的基本示例。理想情况下，我想创建一个键盘事件，当用户在一个输入字段中输入时按下回车按钮，另一个输入字段将使用 jQuery 显示。有谁知道我在哪里可以找到使用 initKeyboardEvent() 的基本可理解示例？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T04:50:04.177

*initKeyboardEvent*最初是*initKeyEvent*，MDN 上有一个工作示例：[https](https://developer.mozilla.org/en-US/docs/DOM/event.initKeyEvent) ://developer.mozilla.org/en-US/docs/DOM/event.initKeyEvent和这里： http: [//www.howtocreate.co.uk/tutorials /javascript/domevents](http://www.howtocreate.co.uk/tutorials/javascript/domevents)。

我相信您可以通过网络搜索找到许多示例：“javascript initkeyevent”和“javascript initKeyboardEvent”。您可能需要测试支持以确定使用哪个。

另请注意，在[DOM 4 (draft)中不推荐使用](http://www.w3.org/TR/dom/)*initKeyboardEvent*以支持 Event 构造函数语法，在[DOM 3](http://www.w3.org/TR/DOM-Level-3-Events/#idl-interface-KeyboardEvent-initializers)中建议并在[DOM 4 (draft)](http://www.w3.org/TR/dom/#interface-event)中实现。

一个简单的功能测试可能类似于：

```
// Test for Event constructor
if (typeof Event != 'undefined') {
  var x, evt;
  try {
    x = new Event('keyboardEvent');
  } catch(e) {
    x = void 0;
  }
}

// test to see which method to use
if (typeof x != 'undefined') {
  alert('Use Event constructor');

} else if (document.createEvent) {
  evt = document.createEvent('KeyboardEvent');

  if (evt && evt.initKeyboardEvent) {
    alert('Use initKeyboardEvent');

  } else if (evt && evt.initKeyEvent) {
    alert('Use initKeyEvent');
  }
} 
```

但就目前而言，最好测试并使用带有*initKeyEvent*或*initKeyboardEvent的 DOM 2* *createEvent*。

 **请注意，Firefox 14 似乎不支持*initKeyboardEvent*但确实支持*Event*构造函数和*initKeyEvent*，IE 9 则相反，不支持*initKeyEvent*或*Event*构造函数，但确实支持*initKeyboardEvent*。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-29T15:25:20.720

[在这里](https://stackoverflow.com/a/14561303/1587897)查看我的答案

简而言之：

这里[跨浏览器initKeyboardEvent](https://gist.github.com/4654819/)

Here [Keyboard Event Level 3 polyfill](https://github.com/termi/DOM-Keyboard-Event-Level-3-polyfill)

例子：

```
var a = new KeyboardEvent("keypress", {"key": 1, "char": "!", shiftKey: true})
alert(a.type + " | " + a.key + " | " + a.char + " | " + a.shiftKey) 
```**

# asp.net - 无法删除多条记录

> ID：11857529
> 
> 赞同：0
> 
> 时间：2012-08-08T04:06:35.497
> 
> 标签：asp.net, vb.net

我已经编写代码来删除gridview 中的多条记录，但它只删除gridview 中的一条记录。有人可以帮我解决这个问题。这是我的代码

```
 'This is to Delete multiple records in gridview
Private Sub DeleteMultipleRecords(ByVal idCollection As StringCollection)
    'Create sql Connection and Sql Command
    Dim cnnOLEDB As New OleDbConnection(strConnectionString)
    Dim cmd As New OleDbCommand()
    Dim IDs As String = ""

    'Create string builder to store 
    'delete commands separated by ;

    For Each id As Integer In idCollection
        IDs += id & ","
    Next
    Try
        Dim test As Integer = IDs
        Dim sql As String = "DELETE FROM [1BK] WHERE [sampleID] in (" & test & ")"
        Dim ANS As Integer
        ANS = MsgBox("Are you sure want to delete selected record ?" & vbCrLf & vbCrLf, MsgBoxStyle.YesNo)
        If ANS = vbYes Then
            cmd.CommandType = CommandType.Text
            cmd.CommandText = sql
            cmd.Connection = cnnOLEDB
            cnnOLEDB.Open()
            cmd.ExecuteNonQuery()
        End If
        ANS = 0
    Catch ex As Exception
        Dim errorMsg As String = "Error in Deletion"
        errorMsg += ex.Message
        Throw New Exception(errorMsg)
    Finally
        cnnOLEDB.Close()
    End Try
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:49:54.137

你的代码有问题。

```
//Dim test As Integer
Dim test As String 
```

test 是一个字符串值，而不是整数。

当你完成

```
IDs += id & "," 
```

最后一个“，”应该被删除。

因此，您应该在完成循环后再添加一行代码。

```
IDs = IDs.TrimEnd(',') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:58:40.583

使用下面的代码

```
IDs+= "'"&id &"'" & "," 
```

代替

```
IDs += id & "," 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T04:14:38.237

测试变量应该是 a `string`as you are using`IN`子句。例如

```
string test="'1','2'"
if(test=="")
 test = "'" & id & "'"
else
 test += "," & "'" & id & "'" 
```

然后查询将起作用

# python - 如何将 jinja2 输出渲染到 Python 中的文件而不是浏览器

> ID：11857530
> 
> 赞同：95
> 
> 时间：2012-08-08T04:06:41.617
> 
> 标签：python, django, jinja2

我有一个要渲染的 jinja2 模板（.html 文件）（用我的 py 文件中的值替换标记）。但是，我不想将渲染结果发送到浏览器，而是将其写入新的 .html 文件。我想对于 django 模板来说，解决方案也是类似的。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：148
> 
> 时间：2012-08-08T04:20:53.717

这样的事情怎么样？

```
from jinja2 import Environment, FileSystemLoader
env = Environment(loader=FileSystemLoader('templates'))
template = env.get_template('test.html')
output_from_parsed_template = template.render(foo='Hello World!')
print(output_from_parsed_template)

# to save the results
with open("my_new_file.html", "w") as fh:
    fh.write(output_from_parsed_template) 
```

**测试.html**

```
<h1>{{ foo }}</h1> 
```

**输出**

```
<h1>Hello World!</h1> 
```

如果您使用的是 Flask 等框架，那么您可以在返回之前在视图底部执行此操作。

```
output_from_parsed_template = render_template('test.html', foo="Hello World!")
with open("some_new_file.html", "wb") as f:
    f.write(output_from_parsed_template)
return output_from_parsed_template 
```

* * *

## 回答 #2

> 赞同：55
> 
> 时间：2016-06-29T15:59:12.190

您可以将模板流转储到文件，如下所示：

```
Template('Hello {{ name }}!').stream(name='foo').dump('hello.html') 
```

参考：http: [//jinja.pocoo.org/docs/dev/api/#jinja2.environment.TemplateStream.dump](http://jinja.pocoo.org/docs/dev/api/#jinja2.environment.TemplateStream.dump)

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-08-08T04:21:12.640

因此，在加载模板后，调用 render 然后将输出写入文件。'with' 语句是一个上下文管理器。在缩进中，您有一个打开的文件，例如名为“f”的对象。

```
template = jinja_environment.get_template('CommentCreate.html')     
output = template.render(template_values)) 

with open('my_new_html_file.html', 'w') as f:
    f.write(output) 
```

# php - 什么是 /** 在 php 中？

> ID：11857532
> 
> 赞同：5
> 
> 时间：2012-08-08T04:06:46.427
> 
> 标签：php

php示例中的/**是什么意思

```
/**
     * Method to display a view.
     *
     * @param   boolean         If true, the view output will be cached
     * @param   array           An array of safe url parameters and their variable types, for valid values see {@link JFilterInput::clean()}.
     *
     * @return  JController     This object to support chaining.
     * @since   1.5
     */ 
```

我似乎无法搜索它？我可以使用什么关键字进行搜索？它进入代码还是只是评论？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-08T04:35:49.593

This is called **DocBlock** style commenting. In general, code should be commented prolifically. It not only helps describe the flow and intent of the code for less experienced programmers, but can prove invaluable when returning to your own code months down the line. This is not a required format for comments, but it is recommended.

[DocBlock](http://manual.phpdoc.org/HTMLSmartyConverter/HandS/phpDocumentor/tutorial_phpDocumentor.howto.pkg.html#basics.docblock) style comments preceding class and method declarations so they can be picked up by IDEs:

```
 /** 
    * Super Class *
    * @package Package Name 
    * @subpackage Subpackage 
    * @category Category 
    * @author Author Name 
    * @link http://example.com 
    */
     class Super_class { 
```

Source:[Click!](http://codeigniter.com/user_guide/general/styleguide.html#commenting)

In IDEs like netbeans,this commenting style is detected and the * pointers are automatically generated (like in listing pointers). All you have to do is open `/**` and press Enter!

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-08T04:09:59.390

`/*`开始评论。之后的任何其他内容，直到第一个`*/`是评论的一部分，所以第二个`*`没有`/**`什么特别的 - 只是评论的一部分。一些内联文档/代码注释系统可能会觉得它很重要，但对于 PHP 来说，它绝对没有任何意义。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-08T04:13:10.533

`/*`开始多行注释，以`*/`

`/**`特别适用于 phpdoc 和可能的其他一些 PHP 文档生成软件。您必须使用`/**`该软件来获取评论并从中创建文档。 `/*`只有不会做。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-08T04:11:22.887

它只是用来注释一段代码。这是一个例子：

```
/* here is a block of code
And some more
And some more */ 
```

您还可以使用 // 注释单行，如下所示：

```
//this is a comment 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-08T04:12:27.677

这是 doxygen 评论的开始。见[http://www.doxygen.nl/index.html](http://www.doxygen.nl/index.html)。Doxygen 从特殊格式的注释创建文档。@param 和 @returns 是 doxygen 识别的标记。Doxygen 几乎是一种行业标准，可以作为为多种语言和输出样式创建程序员文档的一种方式。它扫描源文件，收集编码人员在评论中留下的信息，然后创建各种格式的文档，例如 HTML、Latex 等。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-08T04:15:22.957

这是注释的开始，它将由像 Doxygen 这样的文档生成器转换为功能文档。该`/*`部分开始一个以 结尾的普通 PHP 注释`*/`，额外的星号将注释标记为元数据以供外部处理。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-08-08T04:17:04.530

`/**`正如多次提到的， 是 PHP 注释块的开始。[您可以在PHP 手册](http://php.net/manual/en/language.basic-syntax.comments.php)中阅读有关 PHP 注释的更多信息。

注释块中的信息用于描述它下面的方法。Joomla 使用[PHPDoc](http://www.phpdoc.org/)`@param`使用和等标签自动构建文档页面`@return`。[您可以在此页面](http://docs.joomla.org/Coding_style_and_standards/Comments)上阅读有关 Joomla 文档标准的更多信息。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-08T04:10:11.743

这`/*`是一个多行注释标签。那是开始标签，`*/`也是结束标签。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-08-08T04:12:19.443

`/* content goes here */`用于在 PHP 中注释文本。

您还可以使用：

`//content goes here`这将评论该特定行上的所有内容

# php - 如何在php中检测从哪个相机拍摄的图像

> ID：11857534
> 
> 赞同：1
> 
> 时间：2012-08-08T04:06:48.417
> 
> 标签：php, html

我正在尝试检测从哪个相机拍摄的照片？我已将图像文件打开到记事本中，我可以看到相机名称，但如何提取该名称？任何的想法 。我想在 PHP ... ..

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T04:08:54.510

试试[EXIF](http://php.net/exif)功能。这是在数码照片中存储此类信息的标准方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:27:17.210

试试[exif_read_data](http://www.php.net/manual/en/function.exif-read-data.php)函数。您可能会得到相机型号、焦距、快门速度和更多细节。

# python - 为什么要为 C 等其他语言的现有代码开发 Python 绑定？

> ID：11857535
> 
> 赞同：2
> 
> 时间：2012-08-08T04:06:50.200
> 
> 标签：python, python-bindings

为其他语言的现有代码开发 Python 绑定的动机是什么？我看到许多程序员为他们现有的 C 代码开发 Python 绑定。为什么？它有什么帮助？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T04:13:56.047

虽然我不能完全权威地这么说，因为它是基于偏好的，但是为 C 开发 Python 绑定可以让那些发现 Python 语法更高效、更容易使用的人的开发过程更容易。

（例如 Python CUDA、3D、Kinect 等库）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-08T04:16:50.133

Python 在 C 中有绑定，因为 C 是一种低级语言，可以非常快速和有效，同时提供对大量硬件和软件功能的支持。C 对于初学者来说非常困难，并且天生缺乏面向对象的特性，Python 改进了这些特性。C 缺乏面向对象的行为也促成了 C++ 的诞生。

通常，软件项目受限于开发人员的速度，而不是代码的执行速度，在大多数情况下，Python 优于 C。

Python 相对于 C 的优势包括：

*   非常清晰易读的语法
*   强大的内省能力
*   直观的面向对象
*   程序代码的自然表达
*   完全模块化，支持分层包
*   基于异常的错误处理
*   非常高级的动态数据类型
*   适用于几乎所有任务的广泛标准库和第三方模块
*   使用 C、C++（或用于 Jython 的 Java，或用于 IronPython 的 .NET 语言）轻松编写的扩展和模块
*   可作为脚本接口嵌入到应用程序中

[http://www.python.org/about/](http://www.python.org/about/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T16:30:11.793

因为 C 中有许多非常高质量的库，经过多年的测试、错误修复等，尝试在 Python 中重新实现所有东西是疯狂的（例如，我永远不会在 Python 中使用加密库，应该使用绑定来经过良好测试和偏执开发的 C 库，如 openssl、NSS 或 gnutls）。

# crystal-reports - Crystal Report 中的单个组详细信息

> ID：11857536
> 
> 赞同：0
> 
> 时间：2012-08-08T04:07:01.303
> 
> 标签：crystal-reports

我不知道如何制作多个组，因为每个组都有自己的详细信息。

例子：

```
Group A Header
Details
Group A Footer

Group B Header
Details
Group B Footer

Group C Header
Details
Group C Footer 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:26:39.067

正常的水晶报告不像您在示例中提到的那样运行。

如果你想实现这件事，你必须为此创建子报告。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-03T04:55:15.613

这在水晶报表中是不可能的，我尝试通过构建一个单独的报表然后将它们作为子报表相互添加来实现这一点。

例如：这将是 report1.rpt Group A Header Details Group A Footer

以下将是 report2.rpt Group B Header Details Group B Footer

以下将在report3.rpt Group C Header Details Group C Footer

没有打开 report3.rpt 并使用部分专家添加两个页面标题（PH 1，PH2），并在每个页面中分别插入 report1.rpt 和 report2.rpt。

希望我已经回答了你的问题。如果是，请将其标记为已回答。

干杯，钱德拉。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T16:37:56.723

请提供更多信息。这看起来像一个常规的组/详细信息报告。

```
Class,  Student,     Grade
A,      Joe Hines,     A+
B,      Sarah Nyg,     A
A,      Jim Bear,      C
C,      Alice Tny,     B
A,      Manny Dear,    C
C,      DJoe Blank,    F
B,      George Blat,   B
B,      Carla Osa,     C+
B,      Wally Num,     A 
```

按班级分组，并将学生和成绩放在详细信息中，您将获得：

```
Class A
    Jim Bear      C
    Joe Hines     A+
Students: 2

Class B
    George Blat   B
    Carla Osa     C+
    Wally Num     A
    Sarah Nyg     A
Students: 4

Class C
    Alice Tny     B
    DJoe Blank    F
Students: 2

Total Students: 8 
```

# google-drive-api - 与公众共享 Google 云端硬盘中的文件

> ID：11857543
> 
> 赞同：4
> 
> 时间：2012-08-08T04:08:14.677
> 
> 标签：google-drive-api

使用 Google Drive 网络界面，我右键单击一个文件，选择“共享”，进入“共享设置”。我将文件设置为“在网络上公开 - Internet 上的任何人都可以找到和查看”。

然后我复制“共享链接”，在本例中为： [https ://docs.google.com/open?id=0B6Cpn8NXwgGPbFBPMEh5VHc1cUU](https://docs.google.com/open?id=0B6Cpn8NXwgGPbFBPMEh5VHc1cUU)

然后我点击“完成”。

如果我打开另一个浏览器，没有 cookie，并尝试访问该链接，我会被重定向到 Google 的登录页面。我认为此设置意味着查看文件不需要身份验证。这是预期的行为吗？

我正在尝试通过 API 做同样的事情，但在将权限设置为公共、将“任何人”设置为“阅读者”以及使用文件的 webContentLink 值作为发布的 URL 时，我都没有得到预期的结果。同样在这种情况下，如果我在未登录 Google Apps 时转到该链接，我将被重定向到登录。

我使用以下方法调用以下方法来设置权限：

```
thePermission = insert_permission(userNickName,file['id'],"me","anyone","reader") 
```

方法：

```
def insert_permission(userNickName,file_id, value, perm_type, role):

  credentials = get_stored_credentials(userNickName)
  service = CreateDrive(credentials)
  if service is None:
      return

  """Insert a new permission.

  Args:
    service: Drive API service instance.
    file_id: ID of the file to insert permission for.
    value: User or group e-mail address, domain name or None for 'default'
           type.
    perm_type: The value 'user', 'group', 'domain' or 'default'.
    role: The value 'owner', 'writer' or 'reader'.
  Returns:
    The inserted permission if successful, None otherwise.
  """
  new_permission = {
      'value': value,
      'type': perm_type,
      'role': role
  }
  try:
    return service.permissions().insert(
        fileId=file_id, body=new_permission).execute()
  except errors.HttpError, error:
     print 'An error occurred: %s' % error
  return None 
```

我主要在这个问题中询问 UI 界面，因为使用 Google 所做的事情来判断我是否期待正确的结果似乎更简单。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-12T17:10:36.467

我终于在我的案例中发现了问题。我的 GAE 应用程序使用“联合登录”作为“身份验证选项”，而不是“Google Accounts API”。一切都与 Google Drive API 一起工作。我可以使用 Oauth 登录来放置文件、删除、移动、命名它。但一段时间以来，我一直无法从我的 GAE 应用程序创建的 Google Drive 中公开共享文件。如果在未登录 Google Apps 的情况下尝试查看这些文件，系统总是提示我登录。

我决定放弃 GAE 的 Oauth 登录并使用 Google 帐户登录，因为使用该应用程序的每个人现在都需要 Google Drive。将 Dashboard 中的 GAE 应用从“Federated”切换到“Google Accounts”后，我无需登录即可愉快地向公众分享文件。

因此，Google Drive 似乎还没有完全支持 GAE 的“联合登录”，这几乎没有什么可抱怨的，因为“联合登录”被证明是实验性的。

# google-chrome - Google Chrome 21 不回复 websockets 连接

> ID：11857544
> 
> 赞同：0
> 
> 时间：2012-08-08T04:08:16.783
> 
> 标签：google-chrome, websocket

我无法在 Google chrome 版本 21（最新）上打开任何网络套接字应用程序。应用程序在 Firefox 中运行顺畅。可能的原因是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-26T13:41:46.600

我能够找到问题所在。防火墙阻止了 Web 套接字连接。

# android - 显示一个空的列表视图，它会在一段时间内加载

> ID：11857552
> 
> 赞同：0
> 
> 时间：2012-08-08T04:10:23.817
> 
> 标签：android, listview, android-listview, android-fragments, android-listfragment

我有两个片段。单击左侧片段将填充右侧片段中的列表视图，但在单击我想显示一些文本之前，可能是一个文本视图。现在如何在加载时显示某些内容，并在左侧片段中单击项目时将其更改为列表视图。左边是扩展 ListFragment，右边是扩展 Fragment。

我在 details.xml 中定义了一个 textview，它在启动时成功加载。现在我想显示一个从左片段接收数组的列表视图。

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.details, container, false);

        return view;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T07:31:55.710

我建议您在初始化时使用 a `emptyView`for your 。`listview`

```
// init
mTextViewLoad.setText("Loading");
mListView.setEmptyView(mTextViewLoad); 
```

这非常有用，因为您`textview`将自动隐藏/显示。加载完成后，只需将文本更改为“空”即可。

希望这会帮助你。

# jquery-mobile - 如何在 jquery Mobile 呈现页面之前删除 li

> ID：11857555
> 
> 赞同：0
> 
> 时间：2012-08-08T04:10:46.313
> 
> 标签：jquery-mobile

我有一个移动网站： http: [//m.gbin1.com](http://m.gbin1.com)

我需要删除其中一个导航项，例如 jquery 的“home”，因为现在它有 7 个导航项，而且看起来很糟糕，但我不能使用 jquery 来实现它。例如，使用 .remove 删除其中一项。

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:20:40.863

如果您希望在 jQuery Mobile 初始化之前操作 DOM，您必须在`pagebeforeload`事件中进行。有关更多信息，请参阅[事件文档](http://jquerymobile.com/demos/1.1.1/docs/api/events.html)。只需将您的 .remove() 代码放在标准的 dom-ready 函数中，只会在初始页面加载时触发一次。

```
$(document).bind('pagebeforeload', function(event, data) {
    $('nav ul li:first').remove();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:28:40.177

我发现 pagebeforecreate 是正确的选择，现在[http://m.gbin1.com](http://m.gbin1.com)可以处理添加/删除

*   出色地。

    ```
     $(document).bind('pagebeforecreate', function(event, data) {
                $('nav ul').append('<li><a href="javascript:void(0)">new gbin1.com item</a></li>');
            }); 
    ```

# java - 有人可以帮助我理解调用 Intent 来选择文件吗？

> ID：11857559
> 
> 赞同：1
> 
> 时间：2012-08-08T04:11:45.333
> 
> 标签：java, android, android-intent, filechooser

我有这个代码，我有半工作。我希望它拉出一个文件选择器，然后将选择的文件返回为可操作的格式。也许`File`或`String`。

我阅读了有关如何调用它的 Android 文档，但我仍然不了解意图以及如何使用它们。

我习惯于调用一个函数，然后将返回值设置为一个变量并从那里开始工作。

我不知道如何设置它才能做到这一点。我知道有些用户可能没有文件浏览器，但我所有的用户都会。

那么如何让这段代码发挥作用呢？当它返回时，它现在什么都不做。

```
chooseFileButton.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            EditText enterZipEditText = (EditText) findViewById(R.id.enterZipEditText);
            Intent intent = new Intent();  
            intent.setType("zip/*");  
            intent.setAction(Intent.ACTION_GET_CONTENT);  
            startActivityForResult(Intent.createChooser(intent, "Choose File"), REQUEST_CODE);
        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:51:53.750

如果您要处理返回的文件名，您可能需要添加回调：

```
@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if (requestCode == 1) {
        if (resultCode == Activity.RESULT_OK) {
            // Do Stuff
            String file = data.getData().getPath();
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:16:56.620

您可以尝试以下方法：

```
@Override
public void onClick(View v) {
    Intent intent = new Intent(Intent.ACTION_GET_CONTENT); 
    intent.setType("zip/*"); 
    intent.addCategory(Intent.CATEGORY_OPENABLE);

    try {
        startActivityForResult(
                Intent.createChooser(intent, "Select a File to Upload"),
                FILE_SELECT_CODE);
     } catch (android.content.ActivityNotFoundException ex) {
        //Handle error.
     }
    }
}); 
```

看看这是否有效。您可以找到有关我发现的[这个SO 问题的更多信息。](https://stackoverflow.com/questions/7856959/android-file-chooser)

# android - 仅当手机上安装了与之相关的apk时如何显示菜单选项

> ID：11857561
> 
> 赞同：2
> 
> 时间：2012-08-08T04:12:14.977
> 
> 标签：android, apk, android-package-managers

假设我有一个名为“显示”的菜单选项，我的应用程序 com.android.display 正在执行显示图片的任务。现在如果设备上没有安装 apk com.android.display，菜单选项“显示”就会出现但它没有用。所以我希望只有当这个apk安装在设备上时才会出现“显示”菜单选项。有什么办法可以在 Android 操作系统上实现这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:56:59.153

这个特殊的解决方案是在[Android How To on Google Sites](https://sites.google.com/site/androidhowto/how-to-1/detect-if-an-app-is-installed)

> 如果您需要知道用户设备上是否安装了特定应用程序，您可以使用 PackageManager。您可以从上下文类（例如活动或服务）调用 getPackageManager()。这为您提供了多种方法，其中之一是 getPackageInfo()。以下是您可能会使用的方法。你可以这样称呼它：

```
isAppInstalled("com.simexusa.campusmaps_full");

private boolean isAppInstalled(String uri) {
   PackageManager pm = getPackageManager();
   boolean installed = false;
   try {
      pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);
      installed = true;
   } catch (PackageManager.NameNotFoundException e) {
      installed = false;
   }
   return installed;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:02:45.070

有几种方法可以解决这个问题。

第一个，也可能是最好的，是在所有情况下都显示该选项。如果未安装其他 APK，当您尝试激活它时，通过向其发送意图，Android 将抛出异常。只需捕获此异常，并提供将用户引导到可以安装缺失应用程序的市场。这样，用户就会意识到他们可以选择额外的功能，并且可以相当容易地安装它。

如果你坚持你原来的路线，我不会采用上面的解决方案，因为有可能不止一个 APK 提供相同的功能。如果您检查特定的 APK，那么用户可能有另一个 APK 处理相同的意图，并且您没有向他们提供功能，尽管它受到支持。

相反，我会检查特定意图是否有处理程序。[您可以在此处](http://alt236.blogspot.co.il/2011/06/checking-if-intent-handler-or-activity.html)找到执行此操作的代码。

沙查尔

# c++ - C++/OpenGL/SFML 顶点着色

> ID：11857565
> 
> 赞同：1
> 
> 时间：2012-08-08T04:12:49.287
> 
> 标签：c++, opengl, colors, sfml, vertex

我最近一直在学习[顶点着色](http://www.swiftless.com/tutorials/opengl/vertex_colors.html)。当我只使用 glut/OpenGL 时，程序运行良好。但是，我想将 SFML 用于应用程序，因此我尝试将在[此站点](http://www.swiftless.com/tutorials/opengl/vertex_colors.html)上找到的代码更改为SFML 可以使用的代码。但是，整个四边形只有纯色有效；每个顶点着色只产生一个白色方块。下面是一个重现我的问题的小例子：

```
#include <windows.h>
#include <SFML/Graphics.hpp>
#include <gl/gl.h>
#include <gl/glu.h>

class Scene {
public:
    void resize( int w, int h ) {
        // OpenGL Reshape
        glViewport( 0, 0, w, h );
        glMatrixMode( GL_PROJECTION );
        glLoadIdentity();
        gluPerspective( 120.0, (GLdouble)w/(GLdouble)h, 0.5, 500.0 );
        glMatrixMode( GL_MODELVIEW );
    }
};

int main() {

    sf::RenderWindow window(sf::VideoMode(800, 600, 32), "Test");

    ///Setup the scene, materials, lighting
    Scene scene;
    scene.resize(800,600);
    glEnable(GL_DEPTH_TEST);
    glEnable(GL_LIGHTING);
    glColorMaterial(GL_FRONT_AND_BACK, GL_EMISSION);
    glEnable(GL_COLOR_MATERIAL);
    glShadeModel(GL_FLAT);
    glEnable(GL_LIGHT0);
    float XL = .5, YL = .1, ZL = 1;
    GLfloat ambientLight[] = { 0.2f, 0.2f, 0.2f, 1.0f };
    GLfloat diffuseLight[] = { 0.8f, 0.8f, 0.8, 1.0f };
    GLfloat specularLight[] = { 0.5f, 0.5f, 0.5f, 1.0f };
    GLfloat lightpos[] = {XL, YL, ZL, 0.};
    glLightfv(GL_LIGHT0, GL_AMBIENT, ambientLight);
    glLightfv(GL_LIGHT0, GL_DIFFUSE, diffuseLight);
    glLightfv(GL_LIGHT0, GL_SPECULAR, specularLight);
    glLightfv(GL_LIGHT0, GL_POSITION, lightpos);

    ///Start loop
    while( window.isOpen() ) {
        sf::Event event;
        while( window.pollEvent( event ) ) {
            if( event.type == sf::Event::Closed )
                window.close();
        }

        glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );
        glMatrixMode(GL_PROJECTION);
        glLoadIdentity();
        gluPerspective(50.0, 1.0, 1.0, 50);
        glMatrixMode(GL_MODELVIEW);
        glLoadIdentity();
        gluLookAt(1, 0, 1, 0, 0, 0, 0, 1, 0);

        glColor3f(1, 0, 0);

        glBegin(GL_QUADS);
           // glColor3f(1,0,0); //red
            glVertex3f(-0.5, -0.5, 0.0);
           // glColor3f(0,1,0); //green
            glVertex3f(-0.5, 0.5, 0.0);
           // glColor3f(0,0,1); //blue
            glVertex3f(0.5, 0.5, 0.0);
           // glColor3f(1,1,1); //white
            glVertex3f(0.5, -0.5, 0.0);
        glEnd();

        ///Reset env settings for SFML
        glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);

        window.display();
    }
    return 1;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T04:38:48.820

这是因为您打开了平面着色，它禁用了顶点之间的颜色插值。

删除 glShadeModel 调用，或将其替换为`glShadeModel(GL_SMOOTH)`（默认）。

> GL primitives can have either flat or smooth shading. Smooth shading, the default, causes the computed colors of vertices to be interpolated as the primitive is rasterized, typically assigning different colors to each resulting pixel fragment. Flat shading selects the computed color of just one vertex and assigns it to all the pixel fragments generated by rasterizing a single primitive. In either case, the computed color of a vertex is the result of lighting if lighting is enabled, or it is the current color at the time the vertex was specified if lighting is disabled.

# google-app-engine - GAE 队列任务不记录错误

> ID：11857566
> 
> 赞同：0
> 
> 时间：2012-08-08T04:12:53.973
> 
> 标签：google-app-engine

我的队列中有一个任务，该任务失败并返回。当我通过 GAE 仪表板/控制台查看任务队列中的任务时，我可以看到最后一个 http 响应代码是 500（内部服务器错误），但日志中没有关于失败原因的错误消息。

当我在队列外运行该函数时，会按预期记录一条错误消息。我已经尝试在后端实例和前端实例上运行任务 - 在这两种情况下都不会记录错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T22:13:24.120

任务队列可以分派任务，但该任务实际上并未在您的一个实例上执行。如果没有可用的可用实例，并且任务进入实例队列但超过队列中的最大等待时间，通常会发生这种情况。

我们计划添加一个新的标头 X-AppEngine-TaskExecutionCount，它显示一个任务已被实例执行的次数。它可能也应该显示在控制台上。

# r - R：为什么这个奇怪的 ccf 结果与 xts 数据

> ID：11857568
> 
> 赞同：2
> 
> 时间：2012-08-08T04:13:07.927
> 
> 标签：r, correlation, xts

我在[这里](https://stat.ethz.ch/pipermail/r-sig-finance/2011q4/008924.html)`drop`看到将（单列）XTS 对象传递给`ccf`（互相关）函数时应该使用。（样本数据很大，所以我把它[放在一个要点中](https://gist.github.com/3291932)）

```
library(xts)
gist="https://gist.github.com/raw/3291932"
tmp1=dget(file.path(gist,"e620647218626929b4ee370a05aa7748b2f9a32b/tmp1.txt"))
tmp2=dget(file.path(gist,"49b732db3eafa52f96006e3b1bb0be28380f5df0/tmp2.txt"))
ccf(drop(tmp1),drop(tmp2)) #Weird? 
```

我预计在 lag=0 附近会有一个小峰值，两边大部分都是噪音。相反，我得到了一条直线：

![所有 400 根柱上的 ccf](../Images/2b2c19995a0e7aac7916f33be92eec65.png)

那是400个酒吧。我在数千条柱的完整数据上得到了同样的线条。但是，如果我只使用该数据的尾端 100 条，我会得到更接近我预期的结果：（50 条看起来更合理）

![仅最后 100 根柱的 ccf](../Images/c017d62b76360347c3008b8d557c413c.png)

`ccf`如果这是一个错误，我使用 xts 对象的方式有问题，我对`ccf`正在做的事情的误解，或者我神奇地发现了击败股市的公式，我有点难过......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T17:11:18.373

您的结果并不令人惊讶，因为您正在查看股票*价格*之间的互相关性。价格通常在几个滞后处具有高度的串行自相关性。

```
acf(tmp1)
acf(tmp2) 
```

大多数相关性分析都是在*return*上完成的，这会产生更像你所期望的东西：

```
ccf(drop(diff(tmp1,na.pad=FALSE)),drop(diff(tmp2,na.pad=FALSE))) 
```

# java - Eclipse：如何将当前时间写入文件作为每次构建的一部分？

> ID：11857571
> 
> 赞同：1
> 
> 时间：2012-08-08T04:13:32.763
> 
> 标签：java, eclipse, ant

我有一个应用程序。该应用程序有一个关于屏幕。我想在这个屏幕上显示构建日期和时间。

为此，我想运行一个程序，将当前时间写入文件并将其放在`res/`文件夹中，然后再开始正常的构建过程。该程序是从一个 jar 中运行的。

如何从 Eclipse 中的构建过程的一部分运行该程序？

蚂蚁似乎是解决这个问题的最佳方式。Eclipse 是否已经使用 ant 作为其构建/调试过程的一部分？我可以修改项目已经使用的现有文件，还是需要在外部下载和运行 ant？

**编辑**：我想要做的是运行这个任务作为我按下顶部的调试按钮的一部分。我不想运行两个单独的命令，因为这会破坏将构建时间写入文件的整个目的。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:20:45.123

您可以定义[自己的构建器](http://help.eclipse.org/juno/topic/org.eclipse.platform.doc.user/gettingStarted/qs-93_project_builder.htm)，如果需要，可以基于 ant。这些构建器可以作为 Eclipse 编译过程的一部分运行，以确保您描述的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:17:46.857

1.  Eclipse 是否已经使用 ant 作为其构建/调试过程的一部分？是的，Eclipse 可以识别 ant 脚本并且可以用于构建/调试。

2.  我可以修改项目已经使用的现有文件，还是需要在外部下载和运行 ant？您可以在构建时从外部进程/eclipse 运行您的 ant 任务。Ant 任务应该能够修改预期的资源文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T04:30:32.923

老实说，我想知道 Eclipse 是否适合用作发布的构建工具（我只将它用作 IDE，我相信这就是它的优势）。我建议使用其他构建工具（如 Maven 和 Ant），这样的需求很容易实现。

提醒一下，即使您有 Maven/Ant，您也可以在 Eclipse 中触发它们的构建过程。

# delphi - 在 Delphi 中编辑 PDF 文档

> ID：11857572
> 
> 赞同：4
> 
> 时间：2012-08-08T04:13:49.097
> 
> 标签：delphi, pdf, editor, components

我们需要添加在 Delphi 应用程序中编辑 PDF 文档的能力。

即给定一个 PDF 文档，打开它并生成一个带有编辑框的表单，用户可以使用它来更新 PDF 文档。

任何人都可以建议提供此功能的第三方组件或建议某种实现此功能的方法。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T18:28:37.213

我使用[QuickPDF](http://www.quickpdflibrary.com/)。有据可查，很多例子，很好的支持。然而，更新 PDF 中的文本是一门艺术，而不是科学，除非您完全控制 PDF 的制作者，否则您可能会发现在一般情况下很难做到。例如：我见过 PDF 中的文本由单个字符组成，每个字符都插入到特定位置，因此很难像单词一样编辑；当然，在某些 PDF 中，“文本”实际上是文本图像，需要 OCR 才能对其进行编辑。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T04:53:15.107

你可以试试[Gnostice PDFtoolkit](http://www.gnostice.com/nl_article.asp?id=250&t=Introduction_to_PDFtoolkit_VCL)。

免责声明：我为 Gnostice 工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T14:47:19.537

看看[Amyuni PDF Creator ActiveX](http://www.amyuni.com/en/developer/pdfcreatoractivex/)，它在 32 位和 64 位应用程序中都受支持，现在[Delphi 有一个 64 位编译器](http://www.embarcadero.com/products/delphi/64-bit)，您可能会发现它很有用。

*通常的免责声明适用*

# c - c s-function中局部函数内部的变量

> ID：11857574
> 
> 赞同：0
> 
> 时间：2012-08-08T04:13:58.387
> 
> 标签：c, matlab

我正在尝试在 matlab simulink 中创建一个 s-function 块。这是 mdlOutput 函数。当我在里面定义局部变量时它给了我一个错误

```
//////

static void mdlOutputs(SimStruct *S, int_T tid)
{
real_T           *y    = ssGetOutputPortRealSignal(S,0);// no error
real_T           *x    = ssGetContStates(S);//no error
UNUSED_ARG(tid);
real_T           *a;// error:missing ';' before 'type'
real_T           *b=5.0//error: illegal use of this type as an expression
} 
```

不只是 real_T，我不能在函数中定义任何类型的局部变量，除了已经在模板中定义的 y 和 x。在顶部使用静态变量工作正常。普通变量可能有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:38:13.787

I got it .I have to define variables before the UNUSED_ARG(tid) command

# php - PHP将输出刷新到浏览器

> ID：11857577
> 
> 赞同：2
> 
> 时间：2012-08-08T04:14:46.267
> 
> 标签：php, flush

我在一个 PHP 项目上工作，我使用`flush()`.

我做了很多搜索，发现 PHP 将脚本的长输出分块发送到浏览器，并且在脚本终止时不会发送所有巨大的数据。

我想知道这些数据的大小，我的意思是 PHP 必须输出多少字节才能将它们发送到浏览器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T05:29:46.690

将数据分块的不仅是 PHP；这实际上是 Apache（或 Tomcat 等）的工作。这就是为什么默认是关闭 PHP 中的“分块”并将其留给 Apache。即使你从 PHP 强制刷新，它仍然会被 Apache 困住。从手册：

> flush() 可能无法覆盖 Web 服务器的缓冲方案，并且它对浏览器中的任何客户端缓冲都没有影响。它也不会影响 PHP 的用户空间输出缓冲机制。这意味着如果您正在使用 ob_flush() 和 flush() 来刷新 ob 输出缓冲区，则必须调用它们。

有一篇关于传输编码/分块的维基百科文章：[http ://en.wikipedia.org/wiki/Chunked_transfer_encoding](http://en.wikipedia.org/wiki/Chunked_transfer_encoding)

Apache 使用 GZIP 或 deflate 编码变得更加复杂；您需要访问 apache 服务器来了解如何配置它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T11:37:17.270

我认为你错了看到这段代码

```
echo str_repeat(' ',1024);
for($i=0;$i<10;$i++){
echo $i;
flush();
sleep(1); 
```

如果你运行它，就会看到每 1 个字节发送到浏览器并打印 //str_repeat 用于浏览器缓冲区，用于显示数据，仅此而已

# javascript - 防止在所有平台上旋转时改变方向

> ID：11857581
> 
> 赞同：0
> 
> 时间：2012-08-08T04:16:46.917
> 
> 标签：javascript, jquery, html

无论移动设备如何旋转，是否有任何方法可以防止网站方向的变化，而无需编写特定于平台的代码？在这种情况下，目标是将站点保持在“纵向”模式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:40:30.067

没有。最好的做法是为您的网站规划一个“响应式布局”，而无需使用[Foundation](http://foundation.zurb.com/)或[Twitter Bootstrap](http://twitter.github.com/bootstrap/)之类的东西。原生客户端会给你更多的控制权，但在 JS 世界中你只能[检测到大小何时发生变化](https://stackoverflow.com/questions/1649086/detect-rotation-of-android-phone-in-the-browser-with-javascript)。

在@Derija93 的建议下，我将其发布为答案，以便我们关闭此问题。

编辑：现在说。你也许可以用[一些 css 翻译](http://www.w3schools.com/css3/css3_2dtransforms.asp)来伪造它（你会看到它跳来跳去）.. 但我真的不建议走这条路。

# java - 如何在 Selenium WebDriver 中使用 JavasSript 在文本字段/框中输入值

> ID：11857586
> 
> 赞同：2
> 
> 时间：2012-08-08T04:17:09.267
> 
> 标签：java, javascript, selenium-webdriver

我正在使用带有 java 的 WebDriver。我想使用 JavaScript 在文本字段中输入一些文本。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:48:16.330

考虑在 Google 搜索文本字段中输入文本，以下代码应该可以工作：

```
WebDriver driver = new FirefoxDriver();
JavascriptExecutor jse = (JavascriptExecutor) driver;
jse.executeScript("document.getElementById('gbqfq').value = 'Ripon Al Wasim';"); 
```

# css - 长文本导致行内元素显示在下方

> ID：11857587
> 
> 赞同：0
> 
> 时间：2012-08-08T04:17:11.077
> 
> 标签：css, responsive-design, response, word-wrap

我必须内联块元素。我想并排显示这两个元素。当第二个块元素中的链接文本由于长文本（自动换行）而显示在两行时，链接父元素显示在第二行。

在小提琴下面，第二个`div.job_content`块应该像第一个块一样显示（并排）。

任何想法？

这是小提琴：

```
.content {
  width: 300px;
}

.job-content {
  border: 1px solid red;
  margin: 20px 0;
}

.job-thumbnail {
  display: inline-block;
}

.job-thumbnail img {
  margin: 10px 10px 5px;
  max-width: none;
  border: none;
}

.job-title {
  display: inline-block;
  vertical-align: top;
}
```

```
<div class="content">
  <div class="job-content">
    <div class="job-thumbnail">
      <img width="80" height="80" src="http://www.rockstargames.com/midnightclubLA/downloads/content/avatar/MCLA_avatar_256x256_black_rlogo.jpg">
    </div>

    <div class="job-title">
      <a href="" title="Permalien vers Inspecteur(trice) du permis de conduire et de la sécurité routière" rel="bookmark">Small text</a>

      <dl class="">
        <dt class="study_level">Niveau requis:</dt>
        <dd>
          <a href="#" rel="tag">bac ou équivalent</a>
        </dd>
      </dl>
    </div>
  </div>

  <div class="job-content">
    <div class="job-thumbnail">
      <img width="80" height="80" src="http://www.rockstargames.com/midnightclubLA/downloads/content/avatar/MCLA_avatar_256x256_black_rlogo.jpg">
    </div>

    <div class="job-title">
      <a href="" title="Permalien vers Inspecteur(trice) du permis de conduire et de la sécurité routière" rel="bookmark">Large text du permis de conduire et de la
                    sécurité routière</a>

      <dl class="">
        <dt class="study_level">Niveau requis:</dt>
        <dd>
          <a href="#" rel="tag">bac ou équivalent</a>
        </dd>
      </dl>
    </div>
  </div>
</div>
```

这是一个更简单的例子：

```
.wrapper {
    border: 1px solid red;   
}
.thumbnail {
    display: inline-block;
    margin-right: -80px;
    width: 80px;        
}
.text {
    display: inline-block;
    vertical-align: top;
    width: auto;
    padding-left: 80px;
}
```

```
<div class="wrapper">
  <img width="80" height="80" class="thumbnail" src="http://www.rockstargames.com/midnightclubLA/downloads/content/avatar/MCLA_avatar_256x256_black_rlogo.jpg">
  <a href="#" class="text">
    This text shouldn't be pushed downwards when the "result" frame is resized
  </a>
</div>
```

只需调整结果框架的大小即可看到被向下推的文本......我以前做过这个，我不明白有什么问题......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:26:44.683

看看[这个 jsfiddle](http://jsfiddle.net/DxTg2/7/)

```
.content {
    width: 700px;  
}
.job-content {
    display:inline-block;
    border: 1px solid red;   
    margin: 20px 0;     
}
.job-thumbnail {
    display: inline-block;  
}

.job-thumbnail img {
    margin: 10px 10px 5px;
    max-width: none;
    border: none;
}
.job-title {
    display: inline-block;
    vertical-align: top;
    width:190px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T23:30:11.927

你有什么理由使用 inline-block 运行？

如果你浮动元素，它会更容易做 - [http://jsbin.com/ojoloq/1/edit](http://jsbin.com/ojoloq/1/edit)

**更新**

删除内联块并使用浮点数就可以了（http://jsfiddle.net/DxTg2/12/）

```
.wrapper {
    border: 1px solid red;
float:left;            
}
.thumbnail {
    float:left;
   margin-right: -80px;
    width: 80px;        
}

.text {
    float:left;
vertical-align: top;
    width: auto;
    padding-left: 80px;
} 
```

# c# - 如何在 C# 中将谷歌搜索谷歌自动完成插入 TextBox1.TextChanged？

> ID：11857588
> 
> 赞同：1
> 
> 时间：2012-08-08T04:17:13.550
> 
> 标签：c#, autocomplete

当我在 Google Web Search 上输入时，它会向服务器发送一个 URL：

```
string q = "keywords";
string url = "https://www.google.com.vn/s?hl=vi&gs_nf=1&tok=QsGiZnZo-E6Tp4AB-_2zlg&cp=2&gs_id=d&xhr=t&pf=p&safe=off&output=search&sclient=psy-ab&oq=&gs_l=&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=bb84745dfff12f1f&biw=1366&bih=667&tch=1&ech=2&psi=4OQhUJXMNYejiQfToIHYAQ.1344398521888.1&q=";
url += System.Web.HttpUtility.UrlEncode(q) //This is URl 
```

如果我将此 URL 粘贴到地址栏，浏览器会强制我下载“s”文件。有什么方法可以将此自动完成插入 TextBox1.TextChanged？

在“s”文件中包含我在谷歌文本框中输入的单词的建议。例如，如果我输入“stack”，chorme 将上面的 URL 发送到服务器，并返回一个“s”文件，里面有这样的词：“stackoverflow”、“stack c++”、“stack docklet”。我的想法是，当我输入 Form1.TextBox1 时，它会自动将 TextBox1.Text 发送到 Google 服务器，并处理返回的“s”文件，就像 Google 建议关键字的方式一样。

# wordpress - 粘性页脚问题（wordpress）

> ID：11857591
> 
> 赞同：0
> 
> 时间：2012-08-08T04:17:20.047
> 
> 标签：wordpress, footer, spacing, sticky

您好，我正在尝试实现一个粘在页面底部的页脚，无论此处的内容大小如何 22twenty.com/wordpress 并且它不起作用页脚由于某种原因位于渐变包装的底部而不是页面，我使用了本教程：[http ://www.wordimpressed.com/wordpress/put-a-css-sticky-footer-in-your-wordpress-theme/](http://www.wordimpressed.com/wordpress/put-a-css-sticky-footer-in-your-wordpress-theme/)

如果您需要更多信息，请询问谢谢

丹佛

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:32:44.363

Playing around with your page and CSS I found you hadn't quite completed the tutorial based on the link provided. The following is what was needed to be changed:

1.  Move the footer tag outside of the container div.
2.  Remove the margin line from the footer CSS rule.

These two things will move the footer to the bottom right of the page.

# vb.net - vb.net 对象变量或未设置块变量，OleDbDataReader

> ID：11857593
> 
> 赞同：0
> 
> 时间：2012-08-08T04:17:29.507
> 
> 标签：vb.net

我正在尝试使用 vb.net 编写一个 mdb 到 CVS 转换器。我想使用 oledbdata 阅读器获取列标题名称，这是我到目前为止的代码

```
 Public Cheadernames As Array
    Public firstRead As Boolean = False
    Public columnCount

    Dim connectionstring = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & strfilename
    Dim queryString = "SELECT * FROM products"
    Dim connection As New OleDbConnection(connectionstring)
    Dim command As New OleDbCommand(queryString, connection)
    connection.Open()
    Dim reader As OleDbDataReader = command.ExecuteReader()
    While reader.Read
        If firstRead Then
            columnCount = reader.FieldCount()
            firstRead = False
            For i = 0 To columnCount - 1
                Cheadernames(i) = reader.GetName(i) ' i am getting an error with this line
                Console.WriteLine(Cheadernames(i))
            Next
        End If 
```

所以我试图将所有列标题名称放在一个数组中，但注释行给了我这个错误“对象变量或未设置块变量”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T04:25:33.390

您的 Cheadernames 变量是一个空数组，没有元素也没有类型。那是错误的：您几乎不应该将变量或方法参数声明为“As Array”。相反，你想要这样的东西：

```
Private HeaderHames() As String
Private firstRead As Boolean = True
Private columnCount As Integer

Dim connectionstring = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & strfilename
Dim queryString = "SELECT * FROM products"
Using connection As New OleDbConnection(connectionstring), _ 
      command As New OleDbCommand(queryString, connection)

    connection.Open()
    Using reader As OleDbDataReader = command.ExecuteReader()
        While reader.Read
            If firstRead Then
                columnCount = reader.FieldCount()
                HeaderNames = New String(columnCount-1)
                firstRead = False
                For i = 0 To columnCount - 1
                    HeaderNames(i) = reader.GetName(i) 
                    Console.WriteLine(HeaderNames(i))
                Next
            End If
            '...
         End While
     End Using
 End Using 
```

# postgresql - PSQL 脚本中的变量而不创建函数

> ID：11857594
> 
> 赞同：4
> 
> 时间：2012-08-08T04:17:35.670
> 
> 标签：postgresql, variables, psql

我试图在下面的示例中使用变量运行 PSQL 脚本，而无需声明函数并且必须调用它们。

```
DECLARE
    result TEXT;
BEGIN
    SELECT INTO result name 
FROM test;

    RAISE NOTICE result;
END; 
```

其中表`test`只有 1 行和列。这是否可能无需将此脚本包装在函数中。这将使我可以更轻松地通过命令行调用脚本。

多谢你们。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-08T04:31:06.720

You can use [`DO`](http://www.postgresql.org/docs/current/interactive/sql-do.html) to create and execute an anonymous function:

> `DO` executes an anonymous code block, or in other words a transient anonymous function in a procedural language.

Something like this:

```
do $$
    declare result text;
    begin
        select name into result from test;
        raise notice '%', result;
    end;
$$; 
```

I also fixed your `raise notice`.

If you just want to dump the single value from the table to the standard output in a minimal format (i.e. easy to parse), then perhaps [`--tuples-only`](http://www.postgresql.org/docs/current/static/app-psql.html) will help:

> `-t`
> `--tuples-only`
> Turn off printing of column names and result row count footers, etc. This is equivalent to the `\t` command.

So you could say things like this from the shell:

```
result=$(echo 'select name from test;' | psql -t ...) 
```

# asp.net - 使用 c# 将饼图导出到 powerpoint

> ID：11857597
> 
> 赞同：-1
> 
> 时间：2012-08-08T04:18:19.173
> 
> 标签：asp.net, c#-4.0, powerpoint, pie-chart

我正在尝试将饼图导出到 powerpoint slide uisng c#，但没有找到任何可以帮助我的类似文章...

请提供一些示例或提供一些有用的链接，可以帮助我轻松实现此功能...

谢谢，阿曼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:54:41.387

我们正在使用[hipdf](http://www.hiqpdf.com/downloads.aspx)库，但这是付费的，我们首先将 html 转换为图像，然后在 ppt 幻灯片上显示此图像。您也可以使用inkscape exe文件来完成

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:10:00.230

在 button_click 事件中编写以下代码。

```
GridView1.AllowPaging = false; //write this code only if paging is enabled.
GridView1.DataBind(); //write this code only if paging is enabled.

Response.Clear();

Response.AddHeader("content-disposition", "attachment;filename=FileName.ppt");//for text file write FileName.txt

Response.Charset = "";

// If you want the option to open the Excel file without saving than comment out the line below
// Response.Cache.SetCacheability(HttpCacheability.NoCache);

Response.ContentType = "application/vnd.ppt";\\for text file write vnd.txt

System.IO.StringWriter stringWrite = new System.IO.StringWriter();
System.Web.UI.HtmlTextWriter htmlWrite = new HtmlTextWriter(stringWrite);
GridView1.RenderControl(htmlWrite);

Response.Write(stringWrite.ToString());

Response.End();

GridView1.AllowPaging = true; //write this code only if paging is enabled.

GridView1.DataBind();//write this code only if paging is enabled. 
```

您将不得不像这样覆盖 VerifyRenderingInServerForm 的功能

```
public override void VerifyRenderingInServerForm(Control control)
{
    //Keep it empty
} 
```

并且为避免异常，您必须设置

```
<%@ Page Language="C#" EnableEventValidation="false" %> 
```

# r - R错误：要替换的项目数不是替换长度R的倍数

> ID：11857598
> 
> 赞同：1
> 
> 时间：2012-08-08T04:19:08.650
> 
> 标签：r

我编写了以下代码并得到了错误：要替换的项目数不是代码行中替换长度的倍数：

```
 X_after[count, ] = c(censN1, censN2, censN3) 
```

在网上搜索后，我发现问题可能是由于预先确定`n_samples`的`NA`和最终 `X_after`数据集的样本大小不匹配造成的。如何调整矩阵代码，使其`ncol`在循环后动态确定，而不是在 n_samples 处预先确定？或者，如果您对此错误消息有其他解决方案，也请加入。

```
multiLodSim <- function (GM, GSD, n_samples, n_iterations, p) {    
  X_after <- matrix(NA_real_, nrow = n_iterations, ncol = n_samples)
  delta <- matrix(NA_real_, nrow = n_iterations, ncol = n_samples)
  mu <- log(GM)
  sigma <- log(GSD)
  lod1 <- quantile(rlnorm(100000,mu,sigma),p)
  lod2 <-  quantile(rlnorm(100000,mu,sigma),(p*0.95))
  lod3 <- quantile(rlnorm(100000,mu,sigma),(p*0.9)) 
  pct_cens <- numeric(n_iterations)
  count <- 1
   while(count <= n_iterations) {     
   sub_samples = n_samples/3   # divide the total sample into third (for 3 lods)
  n1 <- rlnorm(sub_samples,mu,sigma)
censN1 <- sort(pmax(n1,lod1))   
n2 <- rlnorm(sub_samples,mu,sigma)
censN2 <- sort(pmax(n2,lod1))
censN2[censN2==lod1] <- lod2   
n3 <- rlnorm(sub_samples,mu,sigma)
censN3 <- sort(pmax(n3,lod1))    
censN3 [censN3==lod1] <- lod3
X_after[count, ] = c(censN1, censN2, censN3)
delta [count, ] = X_after <= lod1  # nondetects= TRUE (1), detects= FALSE (0)
pct_cens [count] = mean(delta[count,])   #
if (pct_cens [count]  > 0 & pct_cens [count] < 1 ) count <- count + 1}}

 a = multiLodSim(GM=1,GSD=2,n_samples=20,n_iterations=5,p=0.3) 
```

更新：阅读您的评论后，我对这些代码行进行了更改并且它正在工作。感谢您的帮助。

```
n1 = rlnorm(round(sub_samples),mu,sigma)
n2 = rlnorm(round(sub_samples),mu,sigma)
sub_samples3 = n_samples - length(n1)-length(n2)
n3 = rlnorm(subsamples3, mu,sigma) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T04:40:48.013

你的问题在于它 `sub_samples = n_samples/3` 不是一个整数。

当您创建分数大小的样本时，它会创建一个样本`floor(size)`

```
length(rlnorm(1.5,1,1)) 
## [1] 1 
```

因此，当您重新组合您的数据时 `length( c(censN1, censN2, censN3))`（必然）不等于`n_sample`.

因此，您需要一种方法来处理不能被 3 整除的样本数量。

# excel - VBA 宏：使用带有类型修饰符的变量

> ID：11857603
> 
> 赞同：2
> 
> 时间：2012-08-08T04:19:39.607
> 
> 标签：excel, vba

我已经用简写符号声明了一个整数变量 testInt，如下所示

```
Dim testInt% 
```

使用有**什么区别吗**

```
somevalue = testInt * testInt 
```

**相对**

```
somevalue = testInt% * testInt% 
```

简而言之，在引用变量的每一点都使用类型说明符是否有优势？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T04:31:06.650

一个快速的时间测试表明它们是线球——这在直觉上是有道理的

使用`Long`而不是`Integer`会更有效。请参阅此[MSFT 链接](http://msdn.microsoft.com/en-us/library/aa164754)

我将使用更准确的 API 计时器重复此操作

```
Sub B()
Dim testInt%
Dim somevalue%
Dim lcnt As Long
Dim dbStart As Double
dbStart = Timer()
For lcnt = 1 To 100000000
somevalue = testInt * testInt
Next
MsgBox "Time was " & Timer() - dbStart
End Sub

Sub A()
Dim testInt%
Dim somevalue%
Dim lcnt As Long
Dim dbStart As Double
dbStart = Timer()
For lcnt = 1 To 100000000
somevalue = testInt% * testInt%
Next
MsgBox "Time for type-specified was " & Timer() - dbStart
End Sub 
```

# c++ - '=' : 左操作数必须是左值

> ID：11857604
> 
> 赞同：2
> 
> 时间：2012-08-08T04:20:01.753
> 
> 标签：c++

当我编译以下代码时，我在“m.msg_body[i].id = i;”处得到“错误 C2106：'='：左操作数必须是左值”。当我注释掉该行时，没有错误。我的代码有什么问题？

```
static const short MSG_DATA_MAX = 10;

struct MsgBodyData
{
    int id;
    string value;
};

class MsgBody
{
public:
    MsgBody()
    {
        len = 0;    
    }
    MsgBody(MsgBody & msg_obj);
    ~MsgBody() {}

    int length() { return len; }
    void setLength(int _len) { len = _len; }

    MsgBodyData operator[](short index)
    {
        if(index > -1 && index < MSG_DATA_MAX)
            return data[index];

        MsgBodyData dump_data;
        return dump_data;
    }

    void operator=(MsgBody & msg_obj)
    {
        len = msg_obj.length();
        for(int i = 0; i < len; ++i)
            data[i] = msg_obj[i];
    }

private:
    int len;
    MsgBodyData data[MSG_DATA_MAX];
};

MsgBody::MsgBody(MsgBody &msg_obj)
{
    operator=(msg_obj);
}

struct Msg
{
    int msg_id;
    string msg_title;
    MsgBody msg_body;
};

void sendMsg()
{
    Msg m;
    m.msg_id = 1;
    m.msg_title = "test_msg";

    int size = MSG_DATA_MAX;

    for(int i = 0; i < size; ++i)
    {
        m.msg_body[i].id = i;  // HERE I GOT ERROR !!!
        m.msg_body[i].value = "test_value";
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T04:24:03.363

您`operator[]`按值返回，这意味着它会制作一个临时副本并返回它。临时变量是右值。您应该修改您的运算符以返回参考。实际上，您应该有两个版本，一个 const 版本，它返回一个 const 引用，一个非常量版本，它返回一个非常量引用。

不过，您处理超出范围索引的方法将不得不改变。您可以抛出异常，也可以简单地将其保留为未定义的行为，只要确保将其记录在案即可。另一种选择是`MsgBodyData`在类中有一个虚拟对象，当您获得错误索引时返回该对象，但这似乎是一个非常愚蠢的设计。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-08T04:24:02.317

您`operator[]`返回一个临时（右值），这使得它的每个成员都成为*rvalue*。该语言禁止分配给右值（准确地说，分配给非类类型的右值），这就是错误告诉您的内容。

该限制的原因是，由于左侧将在完整表达式的末尾被销毁，因此分配没有多大意义（临时销毁将被遗忘）。

如果您打算修改类中保存的元素，则需要返回对存储元素的引用（*左值*），而不是副本。

# json - 如何从 iOS5 中的安全网站访问 json 文件？

> ID：11857607
> 
> 赞同：0
> 
> 时间：2012-08-08T04:20:33.023
> 
> 标签：json, authentication, ios5

如何从 iOS5 中的安全网站访问 json 文件？我正在解析，`NSJSONSerialization`这就是方法的样子：

```
- (void)parseJSON {
    NSData *data = [NSData dataWithContentsOfURL: [NSURL URLWithString:@"https//:username:password@www.mysecuresite.com"]];
    NSError *error;
    NSDictionary *json = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&error];

    NSArray *items = [json objectForKey:@"projects"];
    [self setTableData:items];
} 
```

否则，访问不安全的网站并返回解析的 json 文件是可以的，只是不能通过安全的网站。

# winapi - ATL/WTL 替代消息映射 (ALT_MSG_MAPs) 如何工作？我什么时候使用它们？

> ID：11857611
> 
> 赞同：5
> 
> 时间：2012-08-08T04:20:54.167
> 
> 标签：winapi, visual-c++, atl, wtl, message-map

我已[阅读](http://msdn.microsoft.com/en-us/library/at19ychx.aspx)[文档](http://msdn.microsoft.com/en-us/library/8d3ws24d.aspx)，其中说：

> ATL 支持使用`ALT_MSG_MAP`宏声明的备用消息映射。
> 每个备用消息映射由一个唯一编号标识，您将其传递给`ALT_MSG_MAP`.
> *使用备用消息映射，您可以在一个映射中处理多个窗口的消息。*
> 请注意，默认情况下，`CWindowImpl`不使用备用消息映射。
> 要添加此支持，请覆盖`WindowProc`您的`CWindowImpl`派生类中的方法并`ProcessWindowMessage`使用消息映射标识符进行调用。

当我查看 WTL 时，我会看到如下消息映射：

```
BEGIN_MSG_MAP(CCommandBarCtrlImpl)
    MESSAGE_HANDLER(WM_CREATE, OnCreate)
    MESSAGE_HANDLER(WM_FORWARDMSG, OnForwardMsg)
    ...
ALT_MSG_MAP(1)   // Parent window messages
    MESSAGE_HANDLER(WM_INITMENUPOPUP, OnParentInitMenuPopup)
    ...
ALT_MSG_MAP(2)   // MDI client window messages
    // Use CMDICommandBarCtrl for MDI support
ALT_MSG_MAP(3)   // Message hook messages
    MESSAGE_HANDLER(WM_MOUSEMOVE, OnHookMouseMove)
    ...
END_MSG_MAP() 
```

但是，我不明白：

*   他们是如何被调用的。（代码如何知道备用消息映射的存在？）

*   它们与默认消息映射有何不同。他们看起来都在为同一个窗口处理相同类型的消息......

*   为什么它们有用。（难道他们不都是同一个窗口吗？）

有人对备用消息映射的作用有更好的解释吗？
（为什么发明它们的动机会非常有帮助。）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T11:44:10.550

替代消息映射让您可以在同一映射中为其他窗口的消息定义消息处理程序。看看你上面的地图：

```
BEGIN_MSG_MAP(CCommandBarCtrlImpl)
    MESSAGE_HANDLER(WM_CREATE, OnCreate)
    MESSAGE_HANDLER(WM_FORWARDMSG, OnForwardMsg)
    ...
ALT_MSG_MAP(1)   // Parent window messages
    MESSAGE_HANDLER(WM_INITMENUPOPUP, OnParentInitMenuPopup)
    ... 
```

这是类`CCommandBarCtrlImpl`，它有一个与之关联的窗口句柄`HWND`。所有消息都通过默认映射（上面的行`ALT_MSG_MAP(1)`）。

不是出于某种原因，该类想要处理父级的消息。它使用成员类变量对其进行子类化，并且您需要定义消息处理程序。您不能将它们直接添加到同一个地图中，因为它会与它自己的窗口消息混淆。

这就是替代地图可以提供帮助的地方。父窗口消息被路由到备用消息映射编号 1。

如果您只处理自己窗口的消息，则不需要备用地图。

# javascript - 在 d3.js 中将标签放置在节点的中心

> ID：11857615
> 
> 赞同：56
> 
> 时间：2012-08-08T04:21:06.807
> 
> 标签：javascript, svg, d3.js

我从 d3.js 开始，并试图创建一行节点，每个节点都包含一个居中的数字标签。

我能够在视觉上产生所需的结果，但我这样做的方式几乎不是最优的，因为它涉及对每个文本元素的 xy 坐标进行硬编码。下面是代码：

```
var svg_w = 800;
var svg_h = 400;
var svg = d3.select("body")
    .append("svg")
    .attr("width", svg_w)
    .attr("weight", svg_h);

var dataset = [];
for (var i = 0; i < 6; i++) {
    var datum = 10 + Math.round(Math.random() * 20);
    dataset.push(datum);
}

var nodes = svg.append("g")
               .attr("class", "nodes")
               .selectAll("circle")
               .data(dataset)
               .enter()
               .append("circle")
               .attr("class", "node")
               .attr("cx", function(d, i) {
                   return (i * 70) + 50;
               })
               .attr("cy", svg_h / 2)
               .attr("r", 20);

var labels = svg.append("g")
                .attr("class", "labels")
                .selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .attr("dx", function(d, i) {
                    return (i * 70) + 42
                })
                .attr("dy", svg_h / 2 + 5)
                .text(function(d) {
                    return d;
                }); 
```

该类`node`是我为`circle`元素单独定义的自定义 CSS 类，而类`nodes`并`labels`没有明确定义，它们是从这个[答案](https://stackoverflow.com/questions/11102795/d3-node-labeling/11109803#11109803)中借来的。

如图所示，每个文本标签的位置都是硬编码的，因此它出现在每个节点的中心。显然，这不是正确的解决方案。

我的问题是，我应该如何正确地将每个文本标签与每个节点圆圈动态关联，以便标签的位置自动随着圆圈的位置变化。代码示例非常欢迎概念性解释。

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2012-08-08T13:40:58.743

[text-anchor](http://www.w3.org/TR/SVG/text.html#TextAnchorProperty)属性在D3 创建的 svg 元素上按预期工作。但是，您需要将 the`text`和 the附加`circle`到一个公共`g`元素中，以确保 the`text`和 the`circle`彼此居中。

为此，您可以将`nodes`变量更改为：

```
var nodes = svg.append("g")
           .attr("class", "nodes")
           .selectAll("circle")
           .data(dataset)
           .enter()
           // Add one g element for each data node here.
           .append("g")
           // Position the g element like the circle element used to be.
           .attr("transform", function(d, i) {
             // Set d.x and d.y here so that other elements can use it. d is 
             // expected to be an object here.
             d.x = i * 70 + 50,
             d.y = svg_h / 2;
             return "translate(" + d.x + "," + d.y + ")"; 
           }); 
```

请注意，`dataset`现在是对象列表，因此可以使用`d.y`and而不仅仅是字符串列表。`d.x`

然后，将您的`circle`和`text`附加代码替换为以下内容：

```
// Add a circle element to the previously added g element.
nodes.append("circle")
      .attr("class", "node")
      .attr("r", 20);

// Add a text element to the previously added g element.
nodes.append("text")
     .attr("text-anchor", "middle")
     .text(function(d) {
       return d.name;
      }); 
```

现在，不是更改 的位置，而是更改同时移动和的元素`circle`的位置。`g``circle``text`

这是一个[JSFiddle](http://jsfiddle.net/brantolsen/Ld6Uz/)，在圆圈上显示居中的文本。

如果您想让您的文本位于单独的`g`元素中，以便它始终显示在顶部，则使用在创建第一个元素时为文本设置的值`d.x`和`d.y`值。`g``transform`

```
var text = svg.append("svg:g").selectAll("g")
         .data(force.nodes())
         .enter().append("svg:g");

text.append("svg:text")
    .attr("text-anchor", "middle")
    .text(function(d) { return d.name; });

text.attr("transform",  function(d) {
      return "translate(" + d.x + "," + d.y + ")"; 
    }); 
```

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2014-06-30T02:00:26.093

最好的答案[来自提问者](https://stackoverflow.com/questions/11857615/placing-labels-at-the-center-of-nodes-in-d3-js#comment15798829_11865807)本人：

> 只是进一步的观察：每个文本元素只有 .attr("text-anchor", "middle") ，标签水平位于中间，但垂直方向略有偏离。我通过添加 attr("y", ".3em") （从 d3.js 网站上的示例中借用）来解决此问题，即使对于任意大小的节点圆，它似乎也能很好地工作。然而，这个附加属性究竟是什么让我无法理解。当然，它对每个文本元素的 y 坐标都有作用，但为什么特别是 .3em 呢？这对我来说几乎是神奇的......

只需添加`.attr("text-anchor", "middle")`到每个文本元素。

例子：

```
node.append("text")
    .attr("x", 0)
    .attr("dy", ".35em")
    .attr("text-anchor", "middle")
    .text(function(d) { return d.name; }); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-07-06T01:48:36.003

本页[描述了在](http://www.dashingd3js.com/svg-text-element)涉及文本元素时 svg 引擎盖下发生的事情。了解底层机制和数据结构有助于我更好地了解如何修改代码以使其正常工作。

# java - ProcessBuilder设计反馈的多线程实现

> ID：11857622
> 
> 赞同：0
> 
> 时间：2012-08-08T04:22:26.713
> 
> 标签：java, multithreading

我是一个相当新的 Java 开发人员，所以我正在寻找一些社区反馈，了解他们将如何为我需要解决的问题实施解决方案，以及对我提出的解决方案的反馈。

没有过多的细节，这是愿望：

1.  我需要处理大量数据，然后以非常通用的方式对这些数据执行 7 个步骤。我已经有一个应用程序/框架可以非常有效地执行此操作，并且以可重新启动且安全且最重要的是隔离的方式。我利用这个现有的框架很重要。
2.  我需要在相当短的时间内对许多不同的数据实例进行此操作。如果我有时间，我会通过上述框架以串行方式执行此操作，但我不会。我需要构建/拆分/校验和一些数据，同时压缩和传输其他数据，否则它永远不会及时完成。

我的想法是在一个单独的应用程序中利用我现有的应用程序/框架（我们称之为“子”），在一个单独的应用程序（“父”）中使用 ProcessBuilder() 调用队列。该解决方案允许我为父应用程序和子应用程序利用现有的可重新启动框架。

这是一种会被看不起的方法吗？这是一种可靠的方法吗？即使您不喜欢这种方法，如果您确定使用 ProcessBuilder 循环执行任务是最佳选择，您将如何解决它？

伪代码将类似于以下内容（幸运的是实际代码不会太长）

```
Class Task {
    //contains all the information for the task we need to complete
    String taskArgs;
}

Class TaskWatcher implements Runnable {
    //constructor requires process object for Constructor
    //boolean isFinished();
    process.waitfor();
    isFinished=true;
}

Class TaskOutStream implements Runnable {
    //constructor requires process object & TaskWatcher object
    //Receives and redirects output of process
}

Class Semaphore {
    //constructor sets int threadCount (We'll call it "3" for now)
    synchronized acquireThread{
    while threadCount==0, wait();
        threadcount--
    }
    synchronized releaseThread{
        threadcount++
        notify(); 
    }
}
Class TaskThread implements Runnable (
    // constructor requires Task Object
    run() {
        semaphoreObject.acquireThread();
        Process p = ProcessBuilder.command("cmd text", "args").start();
        tw = TaskWatcher(p);
        ThreadOutStream(p, tw);
    }
}

Class TaskRunner {
    //Constructor requires ArrayList<Task> 
    //For each Task t
    TaskThread thread = new TaskThread(t);
    thread.start();
} 
```

假设所有来自线程的“返回”都存在，并且重新启动功能是从工作队列（父）或实际工作（子）级别外部处理的，这种方法有意义吗？它注定失败吗？

仍然没有找到一个很好的理由不这样做，有人吗？

# java - 无法显示网页视图

> ID：11857623
> 
> 赞同：0
> 
> 时间：2012-08-08T04:22:43.513
> 
> 标签：java, android

我需要显示一个网页几秒钟，然后开始另一个活动。我正在做的是 onResume() 方法，我调用 Thread.sleep() 然后启动新活动，但是当我执行它时，它没有显示网页。它显示一个黑屏，并执行下一个活动。我可能做错了什么？这是我的代码：

```
public class ShowPortalActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

            String url = "http://someurl.com";
            WebView webview = (WebView) findViewById(R.id.webView);
            // next line explained below
            webview.setWebViewClient(new WebViewClient());
            webview.getSettings().setJavaScriptEnabled(true);
            webview.loadUrl(url);

}

@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();
    try {
        newActivity();
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
}

void newActivity() throws InterruptedException {
    Thread.sleep(3000);
    Intent intent = new Intent(ShowPortalActivity.this, Inicio.class);
    startActivity(intent);

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:32:55.663

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

            String url = "http://someurl.com";
            WebView webview = (WebView) findViewById(R.id.webView);
            // next line explained below
            webview.setWebViewClient(new WebViewClient());
            webview.getSettings().setJavaScriptEnabled(true);
            webview.loadUrl(url);
            new Thread(new Runnable() {
                @Override
                public void run() {
                                  try {
                                        newActivity();
                                  } catch (InterruptedException e) {
                                        // TODO Auto-generated catch block
                                        e.printStackTrace();
                                    }

                        }
            }).start();    

}

void newActivity() throws InterruptedException {
    Thread.sleep(3000);
    Intent intent = new Intent(ShowPortalActivity.this, Inicio.class);
    startActivity(intent);
}

@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();   
} 
```

删除 Resume 代码并在 create 方法上替换此代码并立即尝试....newActivity 功能与您的旧代码相同....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:44:17.107

在您的 android 清单文件中，是否提供了 Internet 权限。

如果没有添加以下代码。

```
<manifest xlmns:android...>
 ...
 <uses-permission android:name="android.permission.INTERNET"></uses-permission>
</manifest> 
```

# html - 与之前居中的文本对齐

> ID：11857626
> 
> 赞同：-1
> 
> 时间：2012-08-08T04:22:57.757
> 
> 标签：html, css, alignment, center

是否有任何技巧（或非技巧）可以将左调整的文本对齐到它上面的中心调整的句子恰好开始的地方？上面的句子长度在哪里无法预测？

编辑：重申问题：我有一行居中的文本。该行的第一个字母落在屏幕上的某个特定位置，具体取决于该行的长度。

我在它下面有第二行。我希望该行的第一个字母与上一行的第一个字母对齐。简单地将其居中显然是行不通的，因为长度可能不同，也可能不同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-05T20:44:57.000

不要将文本居中，只需使用

```
p{
margin-left:  100px/*Or whatever number you want*/
} 
```

然后所有文本都将在行中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:32:37.100

我认为你应该使用 text-align css 属性：

```
text-align:left; 
```

# ios - IOS。使用音乐生成游戏关卡

> ID：11857632
> 
> 赞同：-2
> 
> 时间：2012-08-08T04:23:36.530
> 
> 标签：ios

是否可以在不违反苹果应用商店应用规则的情况下使用音乐生成游戏关卡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:38:42.037

是的，许多应用程序都这样做，例如“Beat Hazards”。并且没有理由相信它会违反 tos。

# ios4 - 如何使用 commitEditingStyle？(UITableViewCell-UITableView)

> ID：11857633
> 
> 赞同：2
> 
> 时间：2012-08-08T04:23:46.540
> 
> 标签：ios4, uitableview

我正在研究各种可能的方法来`UITableViewCell`对`UITableView`.

我现在正在尝试的方法是基于以下方法的使用：

```
 [tableView setEditing:YES animated:YES];

        - (void)tableView:(UITableView *)tableView
commitEditingStyle:(UITableViewCellEditingStyle)editingStyle
    forRowAtIndexPath:(NSIndexPath *)indexPath; 
```

我可以看到使用这种方法的一些优点，但是有一个问题：

当我尝试它时，我可以使红色的“**删除**”按钮出现并工作，但仅此而已。

有没有一种机制让我也可以拥有“**编辑**”和“**复制**”按钮？还是只是不可能？

感谢您提供任何有用的信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T08:41:50.990

**编辑**

我刚刚明白您指的是单元格，而不是 TableView。对于单元格，提供了以下样式：

*   **UITableViewCellEditingStyleDelete**：单元格有删除编辑控件；此控件是一个包含减号的红色圆圈。
*   **UITableViewCellEditingStyleInsert**：单元格有插入编辑控件；此控件是一个包含加号的绿色圆圈。您可以将其用于“复制”。
*   **UITableViewCellEditingStyleNone**：单元格没有编辑控件。

您必须自己实现其他样式。

**原始答案**

可以使用的`editButtonItem`方法`UIViewController`。它返回一个栏按钮项目，该项目在“编辑”和“完成”（但不是“复制”）之间切换其标题和关联状态。默认按钮操作已调用该`setEditing:animated:`方法。

如果你想要另一个状态，你必须创建你自己的 BarButtonItem。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T13:23:09.617

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath { 
    if (editingStyle == UITableViewCellEditingStyleDelete) {
        [DummyData removeObjectAtIndex:indexPath.row];
        [_tableView reloadData];
    }       
} 
```

使用此代码。希望它有所帮助，请对**UITableViewCellEditingStyleInsert做同样的事情**

# api - 如何使用标题搜索照片

> ID：11857638
> 
> 赞同：0
> 
> 时间：2012-08-08T04:24:31.143
> 
> 标签：api, facebook-graph-api, search, photo

我是 Facebook API 编码的新手，所以提前感谢您对我的问题的耐心等待 :)

我想知道有没有办法根据标题信息搜索用户照片和用户朋友的照片。

例如，如果我搜索“Toyota”，我希望我的程序搜索我所有的照片以及我朋友的所有照片，并在所有照片的标题中查找与“Toyota”匹配的文本。我想检索照片 ID 及其标题以供后续显示。

这可以做到吗？使用[https://graph.facebook.com/search?q](https://graph.facebook.com/search?q)还是使用 FQL？当然，我们假设所有身份验证都已完成，并且应用程序所需的任何权限都已由应用程序的用户授予。

还是我只需要检索所有照片标题，然后在后端自己进行搜索/过滤？

在此先感谢您的帮助。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:52:26.547

在 FQL 中，您只能搜索索引列。所以我不确定名称列，即照片的标题是否被索引。您需要验证这一点。

检索所有照片标题然后进行搜索的第二种选择会更好，因为它将独立于 FB 将来可能对其平台进行的任何更改。

希望这可以帮助

谢谢

考希克

# javascript - 如何在 html5 的 javascript 中加载时停止一个函数并设置其他函数运行

> ID：11857639
> 
> 赞同：0
> 
> 时间：2012-08-08T04:24:34.153
> 
> 标签：javascript, html

```
<script>
function start(){
    sprites.start();
    preloader();
    }
</script> 
```

我有两个功能，一个是预加载，另一个是加载图像。两个函数都成功运行，但我想要的是停止执行预加载函数并在图像加载完成时显示下一个函数。

简单地说，我想隐藏预加载函数并在加载精灵函数后显示精灵函数

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:37:07.963

看看这个： [在继续之前等待图像加载](https://stackoverflow.com/questions/8645143/wait-for-image-to-be-loaded-before-going-on)

这是一个简单的模型：

```
<html>
<head>
<script language="javascript">
function loadImage()
{
  var img = new Image();
  img.src = 'img_navsprites.gif';
  console.log( '1\. Image has just started downloading.' );
  document.getElementsByTagName('body')[0].appendChild(img);
  img.onload = function() {
    console.log( '2\. Image has fully loaded.' );
  }
  console.log( '3\. Hey, look at me ... all the way down here!' );
}
</script>
</head>
<body onload="loadImage()">
<div>
</div>
</body>
</html> 
```

还有一个基于您的代码的 PasteBin 模型：http: [//pastebin.com/wcBY2YaL](http://pastebin.com/wcBY2YaL)

# java - java中的时间戳到日期并获取计数值

> ID：11857640
> 
> 赞同：0
> 
> 时间：2012-08-08T04:24:52.920
> 
> 标签：java, mysql, date, jdbc, timestamp

嗨，我必须在检查查询并返回计数值后将时间戳转换为日期。我的数据库有日期（1344399208,1344399269），状态（Q，Q）。这是我的代码：

```
public class GetCurrentDateTime {
 public int data(){
int count=0;
java.sql.Timestamp timeStamp =new Timestamp(System.currentTimeMillis());

          java.sql.Date      date      = new java.sql.Date(timeStamp.getTime()); 
           System.out.println(date);
//count++;

try{
    Class.forName("com.mysql.jdbc.Driver");
    Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/xcart-432pro","root","");

    PreparedStatement statement =  con.prepareStatement("select * from xcart_orders where status='Q' AND date=CURDATE()");
     ResultSet result = statement.executeQuery();
     while(result.next()) {
            // Do something with the row returned.
            count++; //if the first col is a count.
        }

}

      catch(Exception exc){
      System.out.println(exc.getMessage());
      }

    return count;
       }

        } 
```

这里日期以时间戳格式保存。但我喜欢转换日期（yyyy-mm-dd）格式。它已成功完成。我得到的输出是 2012-08-08。但我**今天必须检查查询日期+ status = Q** .so如何将该日期保存在变量中并在查询中调用该变量。so如何为上述条件编写查询。检查条件并在我的tomcat控制台上显示返回计数值。如何做。请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:35:35.310

To convert date to the date format specified:

```
int timestamp = 1231342342342; // replace with timestamp fetched from DB
Date date = new Date(timestamp);
SimpleDateFormat sdf = new SimpleDateFormat("yyyy-mm-dd");
String dateString = sdf.format(date); //convert to yyyy-mm-dd format 
```

From what I understand from the edit, you want the query to be something like this:

```
PreparedStatement statement =  con.prepareStatement("select * from xcart_orders where status='Q' AND date='"+dateString+"'"); 
```

I'm assuming that the date is stored in string format in the DB since you asked it to be converted into a particular format.

From comments:

To get midnight date:

```
Calendar cal = Calendar.getInstance();
cal.setTimeInMillis(timestamp);
cal.set(Calendar.HOUR_OF_DAY, 0);
cal.set(Calendar.MINUTE, 0);
cal.set(Calendar.SECOND, 0);
cal.set(Calendar.MILLISECOND, 0); 
```

To get all entries within a 24 period:

```
"select * from xcart_orders where status='Q' AND date between " + cal.getTimeInMillis() + " and " + (cal.getTimeInMillis() + 86400000l); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:47:47.407

部分回答您的问题

**日期示例**

从 Code Ranch 和 SO 帖子中借用的示例

```
// Get system time

Timestamp SysTime = new Timestamp(System.currentTimeMillis());

java.util.Date UtilDate = new java.util.Date(Systime.getTime());
java.sql.Date SQLDate = new java.sql.Date(Systime.getTime());

// Date + Time + Nano Sec
System.out.println(SysTime); 

// Date + Time
System.out.println(UtilDate); 

// Date
System.out.println(SQLDate); 
```

**格式化日期**

```
// Apply Format
Date InDate = SQLDate; // or UtilDate
DateFormat DateFormat = new SimpleDateFormat("yyyy MM dd");
String DisplayDate = DateFormat.format(InDate);
System.out.println(DisplayDate); 
```

请注意，我是 java 新手，因此请验证它是否有效。

**比较日期**

请参阅此 SO 帖子：

[如何使用 Java 比较日期](https://stackoverflow.com/questions/9123414/how-to-compare-dates-using-java)

# data-binding - 绑定查找编辑存储库

> ID：11857642
> 
> 赞同：0
> 
> 时间：2012-08-08T04:25:05.077
> 
> 标签：data-binding, devexpress, xtragrid, repositorylookupedit

我在 devexpress xtragrid 控件中有三个查找编辑存储库（用于三列）。我想根据从lookupedit1和lookupedit3中选择的值绑定lookupedit2，基于lookupedit2。当我单击查找编辑时，我只能看到填充的元素。但是，它不会在网格上显示所选元素。

这是我使用的代码：

```
void repositoryLookupEdit1_EditValueChanged(object sender, EventArgs e) {
    LookUpEdit edit = gridView.ActiveEditor as LookUpEdit;
    int val = Convert.ToInt32(edit.EditValue);
    if (!val.Equals(0)) {
        var elements = from e in dc.Elements select e;
        repositoryLookupEdit1.DisplayMember = "paymentType";
        repositoryLookupEdit1.ValueMember = "paymentTypeID";
        repZone.DataSource = bindData(elements);  
    }
}
public BindingSource bindData(object obj) {
    BindingSource ctBinding = new BindingSource();
    ctBinding.DataSource = obj;
    return ctBinding;
} 
```

可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:57:09.287

我相信这个例子会有所帮助： [How to filter the second LookUp column based on the first LookUp column's value](http://www.devexpress.com/Support/Center/Example/Details/E898)

# jquery - 选择父项中除子项之外的所有内容

> ID：11857643
> 
> 赞同：1
> 
> 时间：2012-08-08T04:25:06.867
> 
> 标签：jquery, jquery-selectors

我正在编写一个主干应用程序，并使用使用 jquery 选择器的内置事件处理。

我想编写一个选择器，它将选择除`.delete`下面之外的所有内容，然后`.delete`是一个专门的选择器（这要简单得多。）

基本上，我想选择父项中的所有内容，除了这个特定的孩子。

我试过`li:not(.delete)`了，但是没有用。有任何想法吗？

```
<li class="">
  <a href="#">
    <i class="icon-book"></i>
    <span class="name">@randallb</span>
    <i class="delete icon-remove-sign pull-right"></i>
  </a>
</li> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T04:28:11.823

```
li :not(.delete) 
```

需要空格来指定后代，没有它就对没有类`not`的`li`意义选择进行操作`li``delete`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T04:31:49.963

试试这个：

```
$('li > a *:not(.delete)') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T05:06:31.603

```
$('li').children().find('*:not(.delete)').css('color', 'red'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T05:44:05.410

如果这是您正在寻找的。

```
// allChildrenArray will hold all the children of li except .delete
   var allChildrenArray = [];
    function getSelectedChildren(parentContainer, rejectedClass){
        parentContainer.children().each(function(){
            if(!$(this).hasClass(rejectedClass)){
                allChildrenArray.push(this);
            }
            getSelectedChildren($(this), rejectedClass);
        });
    }
    getSelectedChildren($('li'), 'delete'); 
```

# c++ - C++ 速度/效率：为 DRY 互斥函数创建临时参数或分解参数？

> ID：11857645
> 
> 赞同：0
> 
> 时间：2012-08-08T04:25:42.420
> 
> 标签：c++

从速度和效率的角度来看：哪个被认为是最佳实践，创建一个临时对象或分解一个（可能是临时的）参数对象？

在这个例子中，为了 DRY 目的，函数的实现是互斥的。两者都不会如图所示实施，但一个将根据另一个将委派实际工作来实施。

```
void SetPoints(double xA, double yA, double xB, double yB, double xC, double yC);
void SetPoints(const Point& A, const Point& B, const Point& C);

///Option one: create temporary objects:
void SetPoints(double xA, double yA, double xB, double yB, double xC, double yC) {
    SetPoints(Point(xA, yA), Point(xB, yB), Point(xC, yC));
}

//Option two: decompose object arguments
void SetPoints(const Point& A, const Point& B, const Point& C) {
    SetPoints(A.GetX(), A.GetY(), B.GetX(), B.GetY(), C.GetX(), C.GetY());
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T04:32:17.260

极有可能完全无关紧要。编译器甚至可能不会为两者生成不同的程序集，即使生成了，微小的 thunk 的性能成本也可以忽略不计。甚至没有理由去想这个。

在这种情况下，最好的功能是最清晰/等的功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T04:53:48.837

我将只实现一个接受 Point 对象的对象，然后创建一个接受 a 的 Point 构造函数`std::initializer_list`，所以当你想传递单个双打时，你可以使用类似的东西：

```
SetPoints({xA, yA}, {xB, yB}, {xC, yC}); 
```

# html - Line-Height 与字体大小不匹配

> ID：11857654
> 
> 赞同：12
> 
> 时间：2012-08-08T04:27:23.340
> 
> 标签：html, css, fonts, font-size

当我有两行不同字体大小的文本时，它们会重叠。看这个例子：http: [//jsfiddle.net/3WcMG/1/](http://jsfiddle.net/3WcMG/1/)

所有的 'j' 和 'g' 都隐藏了第二行的 to。它适用于所有主要字体。

为什么它会那样做？我能做些什么来避免这种情况？

编辑：我知道“em”是什么意思，我知道如何使用边距，我知道如何增加行高，我知道 JSFiddle 的重置 css 的效果是什么，这不是我的问题。我的问题是：为什么“j”的底部不在文本框内？看起来如果我在第二行放置负边距顶部（除了我没有，默认情况下看起来像这样）。有没有办法让字体适合盒子。

EDIT2：似乎是浏览器问题！我在 Mac 上使用 chrome 21.0，我看到： ![截屏](../Images/80f66928d92535561a59f09a286cec9c.png)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-08-08T04:46:31.350

1em 等于字体大小中像素数的 1 倍。所以如果你`font-size`是 60px，1em = 60px。如果是 14px，1em = 14px，以此类推。将 设置`line-height`为 1em 使其等于像素数的 1 倍。

可能会有一些混淆，因为用户代理样式表设置的默认行高通常在 1.5em 左右，所以 12px`font-size`会导致 18px `line-height`。

> **em unit**
> 等于使用它的元素的 'font-size' 属性的计算值

来源：[http](http://www.w3.org/TR/css3-values/#font-relative-lengths)
://www.w3.org/TR/css3-values/#font-relative-lengths 另见：[http ://www.w3.org/TR/CSS21/syndata.html#length-units](http://www.w3.org/TR/CSS21/syndata.html#length-units)

基于此，您的原始示例正是我希望看到的。作为参考，这是我在 Chrome 中看到的内容：

![在此处输入图像描述](../Images/99279aaddaeb0e23d8a871ca16d4fb09.png)

您的第一行是 60px 高，但第二行的*计算值*（W3 的术语）是 14px（由应用于它的类决定）。两者都有`line-height`1em。因此，`line-heights`它们分别是 60px 和 14px。由于这与字体大小相同，因此两条线接触（这可能因字体而异）。

如果您看到重叠的行为，那是另一个问题。

要更改行为，您可以使用不同的行高、填充、边距等。作为旁注，尽管在旧版浏览器[中缺乏支持，但](http://caniuse.com/rem)[rem 单位](https://www.w3.org/TR/css3-values/#font-relative-lengths)可能更直观。

有关 CSS 单元的概述，请参阅：[http ://css-tricks.com/css-font-size/](http://css-tricks.com/css-font-size/)

## 字体未与框的边缘对齐

*更新的问题/问题*

![在此处输入图像描述](../Images/3b6ecd3d708f090b7735d4b32777c814.png)

关于更新的问题，请参阅：[http](http://www.w3.org/TR/css3-fonts/#propdef-font-size) ://www.w3.org/TR/css3-fonts/#propdef-font-size其中指出：

> 请注意，某些字形可能会在其 EM 框外流血。

这在不同程度上发生在我尝试过的不同字体中（有些在 X/Y 上都流血，有些在一个方向上，有些根本没有）。

我不确定是否有任何方法可以改变这种行为，尤其是因为每个浏览器可能使用不同的抗锯齿算法，这可能会稍微改变字符的边缘。

我*认为* `line-box-contain: glyph`可能是相关的，但我只在编辑草稿中看到它，我确信浏览器支持不存在/不一致。

[http://dev.w3.org/csswg/css3-linebox/#line-box-contain](http://dev.w3.org/csswg/css3-linebox/#line-box-contain)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T04:34:10.490

增加 CSS 中的行高

**行高：2em；**（从 1 到 2em）

在*p*元素中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T05:34:33.253

你可以给你的“测试”类 line-height 或 margin-top 任何你觉得舒服的东西。

```
.test{
    font-size: 14px;
    line-height:18px;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-11T14:13:58.070

默认行高是相对大小，例如 ap 中字体大小的 150%。如果您使用 em 或 % 更改行高，浏览器会将其解释为“em/% 与字体大小相比”。

[http://jsfiddle.net/P7LaP/](http://jsfiddle.net/P7LaP/)

```
<div class="small">
    <p>Normal pq</p><br/>
    <p class="short">Short pq</p><br/>
    <p class="tall">Tall pq</p><br/>
</div>
<div class="normal">
    <p>Normal pq</p><br/>
    <p class="short">Short pq</p><br/>
    <p class="tall">Tall pq</p><br/>
</div>
<div class="large">
    <p>Normal pq</p><br/>
    <p class="short">Short pq</p><br/>
    <p class="tall">Tall pq</p><br/>
</div> 
```

该示例具有三组三个 p 标签，具有正常高度、短和高。而三组是字体大小。

```
p {
    color: ffffff;
    background: #777777;
}
.short { line-height: 1em; }
.tall { line-height: 2em; }
.small { font-size: 8px; }
.normal { font-size: 16px; }
.large { font-size: 32px; } 
```

我希望这有帮助。我不确定您到底要做什么，但看起来您应该从样式表中删除 line-height 行。

# jquery - 获取选中单选按钮的值

> ID：11857657
> 
> 赞同：0
> 
> 时间：2012-08-08T04:28:04.027
> 
> 标签：jquery, jquery-selectors, internet-explorer-8, internet-explorer-6

以下 jQuery 代码实际上在 MS IE8 中运行良好，但在 MS IE6 中返回“未定义”。

我还检查了 Stack Overflow 中与我的查询相关的其他问题，但找不到任何与 IE6 相关的信息。我需要这段代码在两种浏览器（IE6 和 IE8）中工作。

我的无线电组有以下 HTML 设置：

```
<input type="radio" name="f10" value="abc123"/> 
```

我还有以下代码，在 IE8 中似乎可以正常工作，但在 IE6 中却不行：

```
function processJob(){
  if ($("input[name=f10]:checked").val() != undefined){
     isDelgateFlag = "Y";
     var delgSelection = $("input[name=f10]:checked").val();
  }
  else {
    isDelgateFlag = "N";
    $('#dialogdelegate').dialog('open');
    alert("Please make a selection.");
  }
} 
```

如前所述，`$("input[name=f10]:checked").val()`似乎在 IE8 中返回一个值，但在 IE6 中返回“未定义”。

我怎样才能同时满足这两种浏览器的需求？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T04:31:07.003

引用它`f10`

`if ($("input[name='f10']:checked").val() != undefined){`

或者给单选按钮上课说`foo`和

```
alert($('.foo:checked').val()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T15:15:43.643

感谢以上回复。将 jQuery 和 jQuery UI 库都升级到最新版本后，这似乎解决了我在 IE6 和 IE8 浏览器中的问题。

谢谢。

# r - 将 S4 R 对象分配给矩阵：为什么会这样？

> ID：11857658
> 
> 赞同：4
> 
> 时间：2012-08-08T04:28:06.663
> 
> 标签：r, matrix, variable-assignment, s4

我已经定义了一个名为 的 S4 类`cell`，我想将其实例分配给一个 3x3 矩阵（选择 3x3 是为了确定性）。以下代码适用于 R 版本 2.15.1，并在一个简单的情况下重现了 R 的行为。我发现我可以将类型的对象分配`cell`给一个矩阵，该矩阵的条目首先用 初始化为空列表`matrix(list(),3,3)`，然后我将新的类型对象分配给`cell`条目。问题是：它为什么有效？

```
 setClass("cell", representation = representation(       
        A="numeric",  # a field
        B="numeric")) # another one

    # initialize the cell
    setMethod("initialize", "cell", function(.Object, a,b) {
        .Object@A <- a;
        .Object@B <- b;
    .Object})

    createGrid <- function(a,b) {
        grid <- matrix(list(),3,3)  # note initialization to list()
        for (i in 1:3 )
            for (j in 1:3)
                grid[[i,j]] <- new("cell",j,i);
        grid} 
```

这是一个示例会话：

```
 > source("stackoverflow.R")
    > grid <- createGrid(1,2)
    > grid[[1,3]]
    An object of class "cell"
    Slot "A":
    [1] 3

    Slot "B":
    [1] 1

    > grid[[2,3]]
    An object of class "cell"
    Slot "A":
    [1] 3

    Slot "B":
    [1] 2 
```

`createGrid()`通过将空列表分配更改为进行修改`grid<- matrix(0,3,3)`将产生错误：

```
 > grid <- createGrid0(1,2)
    Error in grid[[i, j]] <- new("cell", j, i) : 
      more elements supplied than there are to replace 
```

这并不奇怪，但它确实让我找到了工作代码。以下尝试使用 3x3 单元格矩阵定义`new()`失败：

```
 > grid <- matrix(new("cell",1,2),3,3)
    Error in as.vector(data) : 
      no method for coercing this S4 class to a vector 
```

问题是，为什么第一个有效？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T14:23:05.763

没有真正回答这个问题，但是...

通常从向量的角度来考虑是值得的，所以代表整个矩阵的不是“cell”，而是“cell”。这是一个实现。这个想法是 Cell 扩展了矩阵，带有包含附加值的向量。

```
setClass("Cell", representation("matrix", A="numeric", B="numeric")) 
```

我们用有效性函数约束 A 和 B 具有相同的长度

```
setValidity("Cell", function(object) {
    msg <- NULL
    if (length(object@A) != length(object@B))
        msg <- c(msg, "'A' and 'B' must be the same length")
    if (is.null(msg)) TRUE else msg
}) 
```

并创建一个构造函数，用 A 和 B 的索引初始化 Cell 的矩阵。

```
Cell <- function(A, B, ...)
    new("Cell", matrix(seq_along(A), ...), A=A, B=B) 
```

参数是 matrix()的`...`非数据参数（nrow、ncol、dimnames 等）。

我们免费获得了一些功能（例如，dim、nrow、ncol、length、...），但需要实现子设置，并且可能还需要其他操作。对于单括号子设置，我们将操作传递给底层矩阵，然后使用结果索引对 A 和 B 进行子集，创建一个具有更新值的新 Cell 实例

```
setMethod("[", "Cell", function(x, i, j, ..., drop=TRUE) {
    m <- callNextMethod()
    initialize(x, m, A=x@A[m], B=x@B[m])
}) 
```

最后，实现一个show方法

```
setMethod(show, "Cell", function(object) {
    cat("class:", class(object), "\n")
    cat("dim:", dim(object), "\n")
    m <- object@.Data
    m[] <- object@A
    cat("A:\n"); print(m)
    m[] <- object@B
    cat("B:\n"); print(m)
}) 
```

然后在行动：

```
> Cell(1:6, 6:1, 3, 2)[c(3, 1), 2:1]
class: Cell 
dim: 2 2 
A:
     [,1] [,2]
[1,]    6    3
[2,]    4    1
B:
     [,1] [,2]
[1,]    1    4
[2,]    3    6 
```

这种实现似乎有几个好处。矩阵应该具有单一类型，这就是这里的情况（使用`cell`，矩阵的元素是列表，因此可以包含任何数据）。从矩阵继承了相当多的功能。大概你想在你的 Cell 矩阵上实现操作，并且可以有效地操作底层向量 A、B，例如通过组通用 Arith，

```
setMethod("Arith", c("Cell", "Cell"), function(e1, e2) {
    A <- callGeneric(e1@A, e2@A)
    B <- callGeneric(e1@B, e2@B)
    initialize(e1, e1@.Data, A=A, B=B)
}) 
```

接着

```
> c1 = Cell(1:6, 6:1, 3, 2)
> c2 = Cell(6:1, 1:6, 3, 2)
> c1 + c2
class: Cell 
dim: 3 2 
A:
     [,1] [,2]
[1,]    7    7
[2,]    7    7
[3,]    7    7
B:
     [,1] [,2]
[1,]    7    7
[2,]    7    7
[3,]    7    7
> c1 * c2
class: Cell 
dim: 3 2 
A:
     [,1] [,2]
[1,]    6   12
[2,]   10   10
[3,]   12    6
B:
     [,1] [,2]
[1,]    6   12
[2,]   10   10
[3,]   12    6 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T04:51:19.907

您可以在矩阵中包含列表条目。尚未定义打印方法。

```
> grid <- matrix( sapply(1:9, function(x){new("cell",x,2) }), 3, 3)
> grid
     [,1] [,2] [,3]
[1,] ?    ?    ?   
[2,] ?    ?    ?   
[3,] ?    ?    ?   
> grid[1,1]
[[1]]
An object of class "cell"
Slot "A":
[1] 1

Slot "B":
[1] 2

> grid[3,3]
[[1]]
An object of class "cell"
Slot "A":
[1] 9

Slot "B":
[1] 2 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T09:06:32.910

另一种解决方案使用`outer`

```
createGrid <- function(a,b) { 
    grid <- outer(1:3, 1:3, FUN = Vectorize(function(x, y) new("cell", x, y)));
    grid}

grid <- createGrid(1, 2)
grid[[2, 3]]

## An object of class "cell"
## Slot "A":
## [1] 2

## Slot "B":
## [1] 3 
```

# function - 节奏模式 elisp 函数作用于区域

> ID：11857670
> 
> 赞同：1
> 
> 时间：2012-08-08T04:29:43.213
> 
> 标签：function, variables, emacs

我正在尝试设置一个速度模板，当使用 Cu 前缀调用该模板时，它将用标签 \begin{environment} 和 \end{environment} 包围该区域，并在每行的开头插入标签 \item地区。但是它给出了“保存游览：Args 超出范围：2247、2312”错误。

```
(require 'tempo)
(setq tempo-interactive t)

(tempo-define-template "env"
'("\\begin{" (p "Environment: " environment) "}" > n>
r> n>
"\\end{" (s environment) "}" > n
(save-excursion
(narrow-to-region start end)
(goto-char (point-min))
(while (re-search-forward "^" nil t) (replace-match "\\item " nil t))
(widen)
))
"env"
"Insert a LaTeX environment.")

(defun item (start end)
(interactive "r")
(save-excursion 
(narrow-to-region start end)
(goto-char (point-min))
(while (re-search-forward "^" nil t) (replace-match "\\item " nil t))
(widen)
)) 
```

item 函数本身在区域上运行良好。我尝试在 tempo-template 中调用 elisp 函数项：

```
(tempo-define-template "env"
'("\\begin{" (p "Environment: " environment) "}" > n>
r> n>
"\\end{" (s environment) "}" > n
(item point-min point-max)
)
"env"
"Insert a LaTeX environment.") 
```

但是，这会给出“eval：符号的值作为变量是 void：point-min”错误。任何解决问题的指针表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T07:15:41.890

`point-min`和`point-max`是函数，所以你应该调用它们`(item (point-min) (point-max))`：

```
(tempo-define-template
 "env"
 '("\\begin{" (p "Environment: " environment) "}" > n>
   r> n>
   "\\end{" (s environment) "}" > n
   (item (point-min) (point-max))) ; HERE
 "env"
 "Insert a LaTeX environment.") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T01:58:07.450

@Deokhwan Kim：感谢您对此进行调查。在模板中使用 (item (point-min) (point-max)) 会替换整个缓冲区。使用 (item (region-beginning) (region-end)) 修改后的模板现在可以工作：

```
(require 'tempo)
(setq tempo-interactive t)

(tempo-define-template
 "list"
'("\\begin{" (p "List environment: " environment) "}" > n>
r> (item (region-beginning) (region-end)) 
"\\end{" (s environment) "}" > n>
)
"list"
"Insert a LaTeX list environment.")

(defun item (start end)
(interactive "r")
(save-excursion
(narrow-to-region start end)
(goto-char (point-min))
(while (re-search-forward "^[^\\]" (point-max) t) (replace-match "\\item " nil t))
(widen)
)) 
```

# java - 列出线程及其操作的最佳摇摆容器？

> ID：11857672
> 
> 赞同：0
> 
> 时间：2012-08-08T04:30:30.763
> 
> 标签：java, multithreading, swing

我有一个执行数据输入的多线程，在给定时间每个线程都在输入相似的数据。我想创建一个容器，就像我附上的照片一样。我想在程序运行时更新“进度”列。在这种情况下，最好的挥杆组件是什么？

![示例图像](../Images/470a28608d68cd95132b5ad589df91dc.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:52:11.863

看起来`JTable`很合适。有关详细信息和示例，请参阅[如何使用表格](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)。另请查看有关 Swing 线程模型[的 Swing 中的并发教程。](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)

您可能还[对 Swing 组件的视觉指南](http://docs.oracle.com/javase/tutorial/ui/features/components.html)感兴趣。

# java - 由于“增量”而获得“唯一键约束违规”

> ID：11857677
> 
> 赞同：1
> 
> 时间：2012-08-08T04:31:00.550
> 
> 标签：java, hibernate

我是休眠新手，我面临一个奇怪的问题。我正在使用 Hibernate 2.0，并且自过去 2 天以来一直被困在这个问题上。

我有一个有 2 个表格的表格，即。借贷。每个将包含多个条目。每个条目将作为单独的记录存储在表中。两个表中的数据将存储在同一个表中。我已将“ID”字段作为表的主键并将其配置为自动增量。

```
<id column="ID" name="id">
<generator class="increment"/>
</id> 
```

当我第一次提交时，我将条目存储在工作正常的表中。自动增量在那个时候工作得很好。在更新动作中，由于某些业务逻辑，我从数据库表中删除了与每个表相关的所有条目，并再次输入新记录。问题从这里开始。

我将通过一个示例来解释确切的场景：我有 2 个借方和贷方条目，每个条目的 ID 分别为 1 & 2 和 3 & 4。现在在更新操作中，我首先删除借记记录（即 ID 1 和 2）并提交更改。提交后，我尝试插入新的借记记录集。理想情况下，它应该从表中选择最大 ID 并为新记录生成下一个 ID（即 5 和 6），但它会给出“违反唯一键约束”错误。

有人可以指导这个问题吗？有没有人遇到过类似的问题？任何指针将不胜感激。

问候， 阿希什

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:41:40.877

尝试使用本机密钥生成器：

```
<id column="ID" name="id">
  <generator class="native"/>
</id> 
```

如果您的数据库的表已经设置为自动递增主键 ID，那么它将与 hibernate 的自动递增生成器发生冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:24:29.143

确保您的表 ID 字段设置为自动增量，然后您应该像这样更改；

```
 <id column="ID" name="id">
     <generator class="identity"/>
     </id> 
```

# xcode - xcodebuild build xcode project with dependent project failed. dependent project's target not found

> ID：11857678
> 
> 赞同：4
> 
> 时间：2012-08-08T04:31:05.090
> 
> 标签：xcode, xcodebuild

My main project named sample.xcodeproj dependends on sdklib.xcodeproj. The target of sdklib.xocdeproj is sdk.a.

when I build the sample.xcodeproj with xcodebuild command

```
 xcodebuild -project sample.xcodeproj 
```

It failed.

```
 error: no such file or directory:'/Users/.../libsdklib.a 
```

It seems the dependent project doesn't builded. I also didn't see the libsdklib.a in sdklib.xcodeproj's target path. But It runs well in xcode. So where is the sdk.a when I build sample.xcodeproj? and how can I use the xcodebuild command to build sample.xcodeproj with sdklib.xcodeproj?

# javascript - 如何在 Worklight Adapter 中调用 WSDL

> ID：11857689
> 
> 赞同：0
> 
> 时间：2012-08-08T04:32:31.387
> 
> 标签：javascript, json, wsdl, ibm-mobilefirst

我为 WL 适配器创建了一个小型 Web 服务。即它以纯文本格式显示“Hello World”。我完成了培训模块如何在适配器内使用 SOAP 信封。但这是不同的。我将我的代码附在 jpeg frmt 中。任何建议请告诉我。适配器内部是否还有其他示例可以调用 WSDL？更多详细信息我已附上此链接[参考](http://www.ibm.com/developerworks/forums/thread.jspa?threadID=450657&tstart=30)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:48:02.823

你把东西混在一起了。如果您使用返回文本的 Web 服务，为什么需要 SOAP？SOAP 通常用于检索 XML 数据。您返回的内容类型应该是普通的。

```
function getHelloWorld() {
var input = {
    method : 'get',
    returnedContentType : 'plain',
    path : 'path/to/your/web/service'
};
return WL.Server.invokeHttp(input);
} 
```

您不需要构建一个 SOAP 信封，如果您确实需要构建一个，它不应该是一个字符串，它应该是一个 XML 对象（忽略 Eclipse 错误消息）。

# magento - Magento 将块添加到索引操作页面

> ID：11857691
> 
> 赞同：0
> 
> 时间：2012-08-08T04:32:45.180
> 
> 标签：magento

我正在创建一个模块，该模块将在 mysite.com/memymodule/index/index 拥有自己的页面

我想从位于 templates/me/template.phtml 的模板文件中添加功能

我有一个这样的索引控制器：

```
<?php
    class me_mymodule_IndexController extends Mage_Core_Controller_Front_Action {        

        public function indexAction() {

            $this->loadLayout();     
            $this->renderLayout();
    }
}
?> 
```

我有一个布局更新 mymodule.xml，如下所示：

```
<?xml version="1.0"?>
<layout version="0.1.0">
    <mymodule_index_index>
        <reference name="content">
            <block type="core/template" name="me.mymodule" template="me/template.phtml" />
        </reference>
    </mymodule_index_index>
</layout> 
```

模块的frontName是mymodule

当页面呈现时，内容块完全为空，并且完全忽略了 template.phtml 的内容。

非常感谢帮助:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:08:06.037

在控制器的操作中尝试此代码 -

```
 var_dump(Mage::getSingleton('core/layout')->getUpdate()->getHandles());

 exit("Your Layout Path is ".__LINE__." in ".__FILE__); 
```

此代码告诉您需要在 Layout.xml 中创建的标记。

还要检查**Config.xml**是否正确定义了**布局更新部分。**

希望它对你有益。

谢谢

# iphone - How to attach a plist into an email in Xcode?

> ID：11857694
> 
> 赞同：1
> 
> 时间：2012-08-08T04:32:50.797
> 
> 标签：iphone, xcode, email, plist, email-attachments

I am working on a quiz app where the user's input will be stored inside a plist files. I tried researching for various ways to attach files to an email, but mostly are all for JPEG and TXT files.

I have created a plist and tried to attach the it the same way, but on the mailcomposer it only shows the filename of the attachment.

```
 -(NSString *) dataFilePath
{
    NSArray *path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentDirectory = [path objectAtIndex:0];
    return [documentDirectory stringByAppendingPathComponent:@"Answer.plist"];
} 
```

This is the code in the composer

```
-(IBAction) openEmail {
MFMailComposeViewController *mailComposer = [[MFMailComposeViewController alloc] init];
[mailComposer setMailComposeDelegate:self];
if ([MFMailComposeViewController canSendMail]) {
    [mailComposer setToRecipients:[NSArray arrayWithObjects:@"secondary_Example@email.com", nil]];
    [mailComposer setSubject:@"Subject Topic"];
    [mailComposer setMessageBody:@"Message Body" isHTML:NO];
    [mailComposer setModalTransitionStyle:UIModalTransitionStyleCrossDissolve];

    NSString *path = [[NSBundle mainBundle] pathForResource:@"Answer" ofType:@"plist"];
    NSData *myData = [NSData dataWithContentsOfFile:path];
    [mailComposer addAttachmentData:myData mimeType:@"application/xml" fileName:@"Answers"];

       [self presentModalViewController:mailComposer animated:YES]; }} 
```

Am I missing something out? Please help.. Would really appreciate it.

# c - Please explain the difference

> ID：11857698
> 
> 赞同：5
> 
> 时间：2012-08-08T04:33:08.970
> 
> 标签：c, pointers, multidimensional-array

> i have a program about 2-D arrays
> 
> base adress is `8678`

```
#include<stdio.h>
#include<conio.h>
main()
{
 int arr[3][3]={
                 {83,8,43},
                 {73,45,6},
                 {34,67,9}
                 };
printf("%d ",&arr+1);  //points to 8696
printf("%d ",arr+1);   //points to 8684
return 0;
} 
```

> what is the difference between `arr+1` and `&arr+1`?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-08T04:37:53.880

Well, they're different things. `arr` decays in most contexts to a pointer to the first element of your array - that means a pointer to the first 3-element row in your 2D array: type `int (*)[3]`. `arr + 1`, then, points to the second row in the array.

`&arr` is the address of the array itself (type `int (*)[3][3]`), so `&arr + 1` points to memory just past the end of the entirety of your 2D array.

You can confirm this behaviour easily by printing differently. Specifically, printing the offsets to the new pointers rather than the values themselves will help clear things up. The output from your program from these print statements:

```
printf("%ld\n",(intptr_t)(&arr+1) - (intptr_t)arr);
printf("%ld\n",(intptr_t)(arr+1) - (intptr_t)arr); 
```

Will be the decimal offsets to `&arr+1` and `arr+1` respectively. Here's the output from a test run I just made:

```
36
12 
```

36 matches up: 3 rows × 3 columns × 4 bytes per entry = 36 bytes. So does the 12: 1 row × 3 columns × 4 bytes per entry = 12 bytes.

Note - you're also printing pointers using `%d`, which is wrong. You should probably be using `%p` for that.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T05:39:10.717

你可以借助这个等价来解决这个问题：X[Y] === *(X+Y)

由于 *(arr+1) === arr[1], arr+1 === &arr[1]

同样， &arr+1 === &((&arr)[1])

什么是 (&arr)[1]？嗯，(&arr)[0] === *&arr === arr，也就是3x3数组本身，所以(&arr)[1]就是后面的3x3数组，&arr+1 === &(( &arr)[1]) 是 &arr 之后的 3x3 数组的地址 ... 一个指向刚刚超过整个数组的字节的指针。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-15T12:06:24.137

Arr+1 给出数组中的下一个元素，而 &arr +1 给出下一个整数数组的地址

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-08T05:50:33.940

array + 1 表示 array[1] 的地址，它花费 3 int 内存。

&array + 1 表示array[0]的地址加1；

# java - 使用线程计算查询的响应时间

> ID：11857699
> 
> 赞同：0
> 
> 时间：2012-08-08T04:33:24.540
> 
> 标签：java, multithreading, synchronization

我有一组必须同时执行的查询。为此，我为每个查询启动了一个可运行线程，从遍历查询列表的 while 循环中调用它。

线程执行每个查询，并计算每个查询执行所花费的时间。这是通过捕获开始时间和结束时间来获取差异来完成的。这个时间应该是每个查询具体的，需要和对应的查询一起打印出来/

在这种情况下，我只需要捕获时间并显示吗？它会导致任何同步问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:14:31.963

> 在这种情况下，我只需要捕获时间并显示吗？它会导致任何同步问题吗？

我不知道，你呢？为什么不为每个`Runnable`实例设置一个成员字段来跟踪执行所需的时间 - 然后当所有线程完成时，迭代`Runnables`并显示数据。除了你还有谁知道你的真实意图是什么。我只知道两个同步问题：[死锁](http://en.wikipedia.org/wiki/Deadlock)和[竞争](http://en.wikipedia.org/wiki/Race_condition)条件。两者都不适用于这种情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T06:28:49.440

这个问题太笼统了。会不会导致并发问题？或许。您是否在每个 Runnable 之间共享对象？如果你这样做，你可能有问题，如果你没有，那么没有。

例如，如果您的循环看起来像这样（此代码证明了一点 - 它不起作用）：

```
for(int i=0;i<queries.size();++i){
     String query = queries.get(i);
     new Thread(new Runnable() {
        public void run() {
            //Execute the query
        }
    });
} 
```

每个线程将执行它自己的查询而不访问一些共享数据——那么不，你不会有并发问题——至少在 Java 代码中是这样。您可能在数据库中遇到问题 - 例如，多个查询尝试更新同一行。

# event-handling - Windows8 内部事件处理程序参数命名约定是否像看起来那样随机？

> ID：11857700
> 
> 赞同：1
> 
> 时间：2012-08-08T04:33:26.470
> 
> 标签：event-handling, windows-8

将搜索合同添加到项目后，在 App.xaml.cs 中，我看到了这两个：

```
private async void OnSuspending(object sender, SuspendingEventArgs e) 
```

（IOW，事件参数的“e”）还有这个：

```
protected override void OnSearchActivated(Windows.ApplicationModel.Activation.SearchActivatedEventArgs args) 
```

（事件参数的“参数”）。

是否有一些方法可以解决他们的疯狂（没有双关语），IOW 在创建事件处理程序时是否有我们应该遵循的模式/标准？如果是这样，它是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T01:34:25.853

两者`e`和`args`都是事件参数的常用变量名。方法参数名称需要易于理解，因此为事件参数使用常用名称是一个好主意。除此之外，我认为没有任何特定的约定在起作用。

# css - CakePHP 2.0 Table helper

> ID：11857704
> 
> 赞同：0
> 
> 时间：2012-08-08T04:33:45.913
> 
> 标签：css, cakephp-2.0

Is there any table helper or plugin or component for CakePHP 2.0+ ?

if yes, can anyone please help me by providing information where I can get some useful tutorials?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:27:32.000

[HtmlHelper](http://book.cakephp.org/2.0/en/core-libraries/helpers/html.html#HtmlHelper%3a%3atableHeaders)有一些帮助构建表格的方法。
还有一个（旧的）[TableHelper](http://bakery.cakephp.org/articles/scottsanders/2009/05/08/table-helper-1)

# c# - Format WCF Response

> ID：11857705
> 
> 赞同：0
> 
> 时间：2012-08-08T04:33:46.880
> 
> 标签：c#, wcf

I have a object return in a WCF and when I do an xml over http the response will look like:

```
<person>
  <name>Hello</name>
</person 
```

I need it to look like

```
<?xml version="1.0" encoding="UTF-8"?>
<pre:person>
  <name>Hello</name>
</pre:person> 
```

Is there an easy way to do it in C#?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:51:30.683

浏览这篇文章可能会帮助您[更改 WCF 服务的 XML 响应中的前缀](http://blogs.msdn.com/b/carlosfigueira/archive/2010/06/13/changing-prefixes-in-xml-responses.aspx)。

或者你可以尝试返回`XElement`。

# php - PHP - 修剪不适用于空白？

> ID：11857706
> 
> 赞同：1
> 
> 时间：2012-08-08T04:33:53.427
> 
> 标签：php, trim

今天，我对修剪功能有一个非常奇怪的问题。这是我的代码。= 结果是 124。修剪功能不适用于此字符串？？！

```
$s = '                                                                                  ';
$s = trim($s);
echo strlen($s);exit(); 
```

复制和粘贴不适用于此代码。不知道什么是空白？但修剪无法剥离它：|

你可以在这里测试这段代码：

测试：http://70.38.18.62/t.php

您可以在那里复制空格和代码：http: [//jsbin.com/ukunuq/1/edit](http://jsbin.com/ukunuq/1/edit)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-08T04:54:52.557

当我查看您的 t.txt 时，$s 字符串不仅仅是空格。在十六进制中，它读取 20（空格）和 C2 和 A0 字符的混合。您需要丢失那些 C2 和 A0 字符。

它们可能不会显示在屏幕上，但它们不是空格。这是我对返回的内容的嗅探

![屏幕截图](../Images/f979c9c0e4ac1d19262bf5eb08566aa7.png)

可能以 7 位 ASCII 编码文件也会揭示问题。

要清理它，只需选择 $s 中的所有文本，删除它，然后按空格键以获得正确数量的空格。或者使用 str_repeat(' ', 134) 来做同样的事情。检查编辑器的字符集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:37:37.057

在这里工作：

```
marc@panic:~$ php -a
Interactive shell

php > $s = '                                                                                  ';
php > $s = trim($s);
php > echo strlen($s);exit();
0
marc@panic:~$ 
```

PHP 5.3.10-1ubuntu3.2。不知道你从哪里来`124`。原始未修剪 $s 的 strlen 对我来说是 82。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T05:01:53.400

由于没有第二个参数转义的[PHP DOCS函数](http://ru2.php.net/manual/en/function.trim.php) `trim();`

```
" " (ASCII 32 (0x20)), an ordinary space.
"\t" (ASCII 9 (0x09)), a tab.
"\n" (ASCII 10 (0x0A)), a new line (line feed).
"\r" (ASCII 13 (0x0D)), a carriage return.
"\0" (ASCII 0 (0x00)), the NUL-byte.
"\x0B" (ASCII 11 (0x0B)), a vertical tab. 
```

`$s`所以你在变量中只有一个这个字符。其他人不可见，但不在列表中。

# sql - 实体关系（范式）

> ID：11857714
> 
> 赞同：0
> 
> 时间：2012-08-08T04:34:43.440
> 
> 标签：sql, entity-relationship, database-normalization

假设我们有表用户，如：

..ID..用户名

1.  用户1
2.  用户2
3.  用户3

用户可以拥有账单（`user -> have_many -> bill`关系）。

表账单如：

..ID..user_id

1.  1
2.  2
3.  2

我们也有产品，因此每个产品只能与一个账单（`product -> has_one -> bill`关系）相关联。

表产品如：

..ID..bill_id

1.  2
2.  3
3.  1

因此，如您所见，我们的用户可以拥有很多产品（通过账单）。

**我的问题：**

由于**数据库规范化**，将第二个外键添加到名为 PRODUCTS 的表中以`user_id`快速从 PRODUCTS 表中选择所有用户的产品是否正确，或者它不正确，我应该使用 JOIN 语句来选择所有用户的产品？

PS对不起，脏表绘图）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:38:13.117

我宁愿使用规范化视图（产品表中*没有*user_id）。

作为最后的选择，我唯一会考虑这一点的是性能是否真的*需要*它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T04:39:29.323

通常最好对数据进行规范化，以免重复信息并保持数据一致性。

然而，在现实生活中的系统中需要一些例外，通常是在处理大量数据时出于性能原因。

# mysql - 带有 where 子句和总和值的 Mysql 数据透视表

> ID：11857715
> 
> 赞同：0
> 
> 时间：2012-08-08T04:34:51.537
> 
> 标签：mysql

```
SELECT * FROM ( 
select student_id, class_id,  
       sum(number*(1-abs(sign(subject-1)))) as sub1,  
       sum(number*(1-abs(sign(subject-2)))) as sub2,  
       sum(number*(1-abs(sign(subject-3)))) as sub3,  
       sum(number*(1-abs(sign(subject-4)))) as sub4,  
       sum(number*(1-abs(sign(subject-5)))) as sub5,  
       sum(number*(1-abs(sign(subject-6)))) as sub6  
from result GROUP BY student_id,class_id) m 
where class_id = '7' 
```

它的查询工作正常。但如果主题值为空，则所有学生记录都不会显示在该主题中。我需要再发烧一次。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T04:40:28.780

不知道有没有直接使用mysql的方法，但是我可以建议你使用php

```
$sql = mysql_query("SELECT m.* FROM (  
select student_id, class_id,   
       sum(number*(1-abs(sign(subject-1)))) as sub1,   
       sum(number*(1-abs(sign(subject-2)))) as sub2,   
       sum(number*(1-abs(sign(subject-3)))) as sub3,   
       sum(number*(1-abs(sign(subject-4)))) as sub4,   
       sum(number*(1-abs(sign(subject-5)))) as sub5,   
       sum(number*(1-abs(sign(subject-6)))) as sub6   
from result GROUP BY student_id,class_id) m  
where m.class_id = '7'");

$row = mysql_fetch_array($sql);
$sum = 0;
for($i = 1; $i < count($row); $i++) {
    $sum += isset($row['sub' . $i]) ? $row['sub' . $i] : 0;
} 
```

# joomla - spacing virtuemart cart

> ID：11857716
> 
> 赞同：0
> 
> 时间：2012-08-08T04:35:21.200
> 
> 标签：joomla, virtuemart

Im having problems spacing out my virtuemart cart.

I was hoping someone could have a look and see what my problem could be. I know this is a very broud question but I dont know where else to turn to.

As you can see nothing is really lined up.

[https://colman.net.nz/colmannew/index.php?option=com_virtuemart&page=shop.cart&product_id=2&Itemid=20](https://colman.net.nz/colmannew/index.php?option=com_virtuemart&page=shop.cart&product_id=2&Itemid=20)

You might need to add to cart and all that to actually view the shopping cart.

Any references, or help would be amazing.

Thanks, Callum

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:18:02.263

我正在回答这个相当广泛的问题，所以如果这不是你想要的，请告诉我，我会尝试更好地回答。

尝试进行以下 2 次编辑，我使用 firebug 进行了编辑，它显着改善了购物车的外观：

[https://colman.net.nz/colmannew/components/com_virtuemart/themes/default/templates/onepage/icetheme_twocolumn/onepage.css](https://colman.net.nz/colmannew/components/com_virtuemart/themes/default/templates/onepage/icetheme_twocolumn/onepage.css) - 第 55 行附近的这个文件更改了以下内容：

```
width: 90%; 
```

至：

```
width: 20%; 
```

这伴随着为您的表 TD 元素提供以下内容：

```
valign="middle" 
```

和

```
style="padding:5px 0;" 
```

这显然是在使用内联样式，因为我不想规定您将 CSS 放在哪里，但建议将这些样式放在 .css 文件中。

希望这可以帮助。

# c# - c# 带有通用项的接口列表

> ID：11857721
> 
> 赞同：3
> 
> 时间：2012-08-08T04:35:59.593
> 
> 标签：c#, list, generics, interface, generic-list

我的问题有点类似于 [不允许通用接口的通用列表，还有其他方法吗？](https://stackoverflow.com/questions/4522580/generic-list-of-generic-interfaces-not-allowed-any-alternative-approaches)

如果我有一个界面，例如

```
public interface IPrimitive
{

}

public interface IPrimitive<T> : IPrimitive
{
     T Value { get; }
}

public class Star : IPrimitive<string> //must declare T here
{
    public string Value { get { return "foobar"; } }
}

public class Sun : IPrimitive<int>
{
    public int Value { get { return 0; } }
} 
```

然后我有一个清单

```
var myList = new List<IPrimitive>();
myList.Add(new Star());
myList.Add(new Sun()); 
```

遍历此列表时，如何获取 Value 属性？

```
foreach (var item in myList)
{
    var value = item.Value; // Value is not defined in IPrimitive so it doesn't know what it is
} 
```

我不确定这怎么可能。

谢谢，罗伯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T04:50:01.540

您可以利用**[动态](http://msdn.microsoft.com/en-us/library/dd264741.aspx)**：

```
foreach (dynamic item in myList) 
{ 
    var value = item.Value; 
} 
```

> 动态类型允许其发生的操作绕过编译时类型检查。相反，这些操作在运行时解决

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-08T04:48:30.360

你可以这样做：

```
public interface IPrimitive
{
    object Value { get; }
}

public interface IPrimitive<T> : IPrimitive
{
    new T Value { get; }
}

public class Star : IPrimitive<string> //must declare T here
{
    public string Value { get { return "foobar"; } }
    object IPrimitive.Value { get { return this.Value; } }
}

public class Sun : IPrimitive<int>
{
    public int Value { get { return 0; } }
    object IPrimitive.Value { get { return this.Value; } }
} 
```

然后，当您只有`IPrimitive`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-08T04:40:22.787

当然不是，你的价值将是不同的类型......所以你必须向下转换为真正的类型才能获得不同的价值。

基本上你的界面失败了。它不是“通用接口” 更像是“相似接口”

如果您不想进行强制转换，那么您将必须找到它们共同的接口。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T04:47:39.137

您可以将`Value`属性移动到基本接口。

```
public interface IPrimitive
{
     object Value { get; }
} 
```

您想如何`value`在具有不同类型的循环中进行处理？

# python - Django：Slugify 发布数据

> ID：11857724
> 
> 赞同：0
> 
> 时间：2012-08-08T04:36:26.497
> 
> 标签：python, django

我正在尝试保存用户输入的一些表单数据。我想对用户输入的“名称”进行 slugify，但不希望 slug 字段显示在用户看到的模板上。我尝试使用您在下面看到的销售功能手动执行此操作，但无法使其正常工作。我想最终将 slugified 名称保存到下面列出的 Item 模型中。我确信有一种比我目前使用的销售功能更智能/更简单的方法：P。提前致谢！

```
class Item(models.Model):
    user = models.ForeignKey(User)
    name = models.CharField(max_length=75)
    slug = models.SlugField(max_length=50, unique=True)
    is_active = models.BooleanField(default=True)
    image =  models.CharField(max_length=50)
    price = models.DecimalField(max_digits=9, decimal_places=2)
    quantity = models.IntegerField(default=1)
    description = models.TextField()
    created = models.DateTimeField(auto_now_add=True)
    shipping_price = models.DecimalField(decimal_places=2, max_digits=6)
    categories = models.ManyToManyField(Category)

class AddItem(forms.ModelForm):
    class Meta:
        model = Item
        exclude = ('user','slug','is_active',)

def sell(request):
        if request.method == "POST":
            form = AddItem(request.POST)
            item = form.save(commit=False)
            item.user = request.user
            item.is_active = True
            item.slug = slugify(form.name) **#not sure what this line should be?** 
            item.save()
            if form.is_valid():
                form.save()
                return HttpResponseRedirect('thanks.html')
            else:
                url = urlresolvers.reverse('register')
                return HttpResponseRedirect(url) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T07:34:12.683

您可以从用户表单中排除 slug。并在 pre_save 信号中进行 slugify。

```
from django.dispatch import receiver
from django.db.models.signals import pre_save

@receiver(pre_save, sender=Item)
def iter_pre_save_handler(sender, instance, **kwargs):
    if not instance.pk:
        instance.slug = slugify(instance.name) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T07:04:23.157

根据[文档](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/#using-a-subset-of-fields-on-the-form)，您可以将字段排除在模型表单中，如下所示：

```
class PartialAuthorForm(ModelForm):
    class Meta:
        model = Author
        fields = ('name', 'title') 
```

或者

```
class PartialAuthorForm(ModelForm):
    class Meta:
        model = Author
        exclude = ('birth_date',) 
```

或通过在模型中的 Field 实例上设置 editable=False 。

完成此操作后，您可以覆盖模型的保存方法，正如 OP 中的评论所建议的那样：

```
#  shamelessly copied from http://stackoverflow.com/questions/837828/how-do-i-create-a-slug-in-django/837835#837835
from django.template.defaultfilters import slugify

class test(models.Model):
    q = models.CharField(max_length=30)
    s = models.SlugField()

    def save(self, *args, **kwargs):
        self.s = slugify(self.q)
        super(test, self).save(*args, **kwargs) 
```

# .htaccess - 301 redirect isn't working

> ID：11857741
> 
> 赞同：0
> 
> 时间：2012-08-08T04:38:36.050
> 
> 标签：.htaccess, redirect

I have a blog that I'm trying to redirect to a different domain.

*   Old domain: `http://harrisonfjord.com`
*   New domain: `http://agoodman.com/blog/`

Google states that you should do 301 redirection for all pages, so I took a list of urls from my XML sitemap and just manually set up the redirection.

Here's what I've put in my .htaccess file: [http://pastebin.com/PkKNbJKf](http://pastebin.com/PkKNbJKf)

The file structure is the same across both domains, so I can simply redirect each page as follows:

```
redirect 301 http://harrisonfjord.com/ http://agoodman.com.au

redirect 301 http://harrisonfjord.com/whatever http://agoodman.com.au/blog/whatever 
```

However, this currently isn't working. Do I need to put the redirection in an tag or something?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:45:07.233

如果您将旧域完全重定向到新域怎么办？

```
# redirect an entire site via 301
redirect 301 / http://agoodman.com/blog/ 
```

也尝试使用`RewriteEngine`：

```
RewriteEngine On
RewriteRule ^(.*)$ http://agoodman.com/blog/$1 [R=301,L] 
```

# entity-framework - 实体框架 Database First & EF Code First 通过 ID 获取关系对象

> ID：11857747
> 
> 赞同：0
> 
> 时间：2012-08-08T04:39:41.243
> 
> 标签：entity-framework, code-first, ef-database-first

在 EF Database First 中，当更改 ForeignKey(CommodityGroupID) 自动获取 Commodity 对象的 CommodityGroup，但在 EF Code First(4.3.1) 中没有这样做。

```
public class Commodity  
        {
            public int CommodityID { get; set; }
            public string MadeBy { get; set; }
            public decimal ServiceTimePrice { get; set; }
            public decimal QCPrice { get; set; }
            public int ServicePoint { get; set; }
            public string Note { get; set; }
            public int CommodityGroupID { get; set; }
            [ForeignKey("CommodityGroupID")]
            public virtual CommodityGroup CommodityGroup { get; set; }
    }
    public class CommodityGroup
    { 
        public int CommodityGroupID { get; set; }
        public string CommodityGroupName { get; set; } 
        public virtual ICollection<Commodity> Commodities { get; set; }

    } 
```

此属性在 Edmx 文件中定义（数据库优先），我应该先在 ef 代码中定义此代码吗？

```
[BrowsableAttribute(false)]
[DataMemberAttribute()]
public EntityReference<CommodityGroup> CommodityGroupReference
{
    get
    {
        return ((IEntityWithRelationships)this).RelationshipManager.GetRelatedReference<CommodityGroup>("GaamRepairModel.FK_Commodity_CommodityGroup", "CommodityGroup");
    }
    set
    {
        if ((value != null))
        {
            ((IEntityWithRelationships)this).RelationshipManager.InitializeRelatedReference<CommodityGroup>("GaamRepairModel.FK_Commodity_CommodityGroup", "CommodityGroup", value);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T20:19:47.420

听起来您想要一个更改跟踪代理。您希望 CommodityGroup 导航属性在 FK 更改正确时自动更新吗？

有关更改跟踪代理的详细信息，请参阅[MSDN 上的这篇文章。](http://msdn.microsoft.com/en-us/library/dd468057.aspx)

MSDN 上的这篇[文章](http://msdn.microsoft.com/en-us/library/ee835846.aspx)显示了一些关于如何正确创建代理对象的测试代码。

这是一个新对象吗？如果是这样，您需要在 DbSet 上调用 CreateObject 函数，而不是使用 New Commodity()。

# iphone - 插入方法不起作用

> ID：11857749
> 
> 赞同：0
> 
> 时间：2012-08-08T04:40:02.477
> 
> 标签：iphone, objective-c, ipad, ios5, nsstring

我正在研究 sqlite 数据库，试图插入数据库，但它不能正常工作。我搜索了一些帖子，还写了 reset 和 finalize 声明。

* * *

```
(void)addLimittypeForeign
{
  // Create insert statement for the person

  if(sqlite3_open([dbPath UTF8String],&database) == SQLITE_OK)
  {
    NSString *querySQL = [NSString stringWithFormat: 
         @"insert into Limittabel (limitid,limitAmt,Profileid) Values (?,?,?)"];

    char *errmsg=nil;

    if(sqlite3_exec(database, [querySQL UTF8String], NULL, NULL, &errmsg)
         != SQLITE_OK )
    {
      NSLog(@"YES THE DATA HAS BEEN WRITTEN SUCCESSFULLY");
    }
  }
  sqlite3_close(database);
} 
```

* * *

请帮助我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:12:36.900

使用此代码插入数据库....根据您的要求更改代码...对我来说很好...

```
-(void) insertDataIntoDatabase
{
NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);

NSString *documentsDir = [documentPaths objectAtIndex:0];

databasePath = [documentsDir stringByAppendingPathComponent:@"dataBaseName.sqlite"];

NSLog(@"%@",sender);

if(sqlite3_open([databasePath UTF8String], &database) == SQLITE_OK)
{
    NSLog(@"%@",[quoteDic objectForKey:@"bookmark"]);
    NSLog(@"%d",[[quoteDic objectForKey:@"quoteId"] intValue]);
    NSString *sqlStatement=[NSString stringWithFormat:@"insert into tableName (frndName,frndDescription,frndAddress,frndMobile,frndEmail,frndCollege,frndCompany) Values('%@','%@','%@','%@','%@','%@','%@')",[frndName text],[frndDescription text],[frndAddress text],[frndMobile text],[frndEmail text],[frndCollege text],[frndCompany text]];

    sqlite3_stmt *compiledStatement;
    if(sqlite3_prepare_v2(database, [sqlStatement UTF8String], -1, &compiledStatement, NULL) == SQLITE_OK)
    {
    }
    if(sqlite3_step(compiledStatement) != SQLITE_DONE)
    {

        //sqlite3_close(database);
        NSAssert1(0, @"Error while Updating data. '%s'", sqlite3_errmsg(database));
        sqlite3_finalize(compiledStatement);
    }
    else
    {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Update!!"
                                                        message:@"Your record Updated"
                                                       delegate:nil
                                              cancelButtonTitle:@"Thankyou"
                                              otherButtonTitles:nil];
        [alert show];
        [alert release];

    }

    sqlite3_finalize(compiledStatement);
}
sqlite3_close(database);
} 
```

# php - PHP引用数组项没有额外的行

> ID：11857750
> 
> 赞同：3
> 
> 时间：2012-08-08T04:40:15.750
> 
> 标签：php, arrays

我有以下代码不必要地占用 2 行：

```
<?php
$items = get_my_items();
$item4 = $items[4];

// get_my_items()[4] # invalid code
?> 
```

我不是初学者，但这个小东西一直很紧张......有什么建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T04:41:02.693

这称为数组解引用。它从 PHP 5.4 开始可用。如果需要，请升级您的 PHP。

# delphi - TScriptControl - 类未注册

> ID：11857764
> 
> 赞同：3
> 
> 时间：2012-08-08T04:41:24.987
> 
> 标签：delphi, exception, vba

以下代码示例适用于 99% 的 PC

```
CoInitialize(Nil);

  ScriptControl1:= TScriptControl.create(nil); 
```

但是一个用户错误报告（madExcept）显示了这一点：

```
exception class   : EOleSysError
exception message : Class not registered.

thread $414 (TCreate_restore_point):
004e90b5 +019 xxxx.exe ComObj                   OleError
004e90c8 +010 xxxx.exe ComObj                   OleCheck
0053e668 +04c xxxx.exe OleCtrls                 LicenseCheck
0053e75d +0e9 xxxx.exe OleCtrls                 TOleControl.CreateInstance
0053e125 +125 xxxx.exe OleCtrls                 TOleControl.Create 
```

“ScriptControl1:= TScriptControl.create(nil);” 引发异常“类未注册”。

如何注册或解决问题？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T04:57:10.473

您需要[`Windows Script Control`](http://www.microsoft.com/en-us/download/details.aspx?id=1949)在系统中安装才能使用`TScriptControl`该类。

# ios - ios - NSObjCRuntime、NSZone 和 NSObject 中的解析问题

> ID：11857765
> 
> 赞同：40
> 
> 时间：2012-08-08T04:41:40.743
> 
> 标签：ios, compiler-errors, automatic-ref-counting, addthis

我正在使用[AddThis](http://support.addthis.com/customer/portal/articles/381270-addthis-for-ios-quick-start-guide#.UCHnE8iXSs0)在我的 iOS 应用程序中添加共享选项。

我已经导入了这些类并将 -fno-objc-arc 标志添加到所有导入的类中，因为它们不使用 ARC。

但是，当我尝试运行该应用程序时，我会遇到一系列解析问题，例如：

```
Expected identifier or '('
Unknown type name 'NSString'
Unknown type name 'Protocol'
... 
```

这些错误发生在 NSObjCRuntime、NSZone 和 NSObject 中。我也包含了必要的框架。有任何想法吗？

如果有帮助，请包括此图像： ![图片](../Images/87972ecda46b97a5d923395e9b630b08.png)

* * *

## 回答 #1

> 赞同：130
> 
> 时间：2012-11-05T15:14:16.050

当我尝试将 C 代码（.h 和 .c）与 Objective-C 代码混合时，我的项目也遇到了同样的问题。找到问题的原因：

检查您的 .pch 文件以确保每个 Objective-C 框架 #import（例如`#import <UIKit/UIKit.h>`）都包含在：

```
#ifdef __OBJC__

#endif 
```

如果它们超出此条件范围，编译器将尝试将 Objective-C 框架导入 C 源代码。

希望有帮助。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-08-08T05:28:34.150

我刚刚把Base64Transcoder.c的文件名改成了Base64Transcoder.m，现在项目编译好了。我不知道为什么这可以解决问题，但它确实有效。

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2016-02-04T10:53:23.013

我有同样的问题，使用带有目标 C 的 C 和 C++ 代码，我没有 .pch 最简单的解决方案是进入您的构建设置 - >自定义编译器标志并将“其他 C 标志”设置为“-x 目标” -c”并将“Other C++ Flags”设置为“-x objective-c++”

这将使用 xCode 7.2 解决问题

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2014-07-03T18:47:04.323

当我的项目包含 .cpp 文件时，我遇到了同样的问题。

如果 .cpp 文件不包含 ObjectiveC 框架（例如），它必须是“Default-C++ Source”类型

![在此处输入图像描述](../Images/3dc8b17a15b533454699aa1d09dd110a.png),

但如果 .cpp 文件具有 ObjectiveC 框架 - 它必须是“Objective-C++ Source”

![在此处输入图像描述](../Images/688b7aa3ba83eff3fe8dac6da24eb73b.png)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-06-15T05:30:26.947

TLDR：如果您的 PCH 文件正常，请查看您的 CPP 文件头，看看您是否不小心包含了 Objective C 对象的任何头。

详细信息：我得到这个是因为我不小心在 C++ 类头中间接包含了一个 Objective-C 类头。结构是这样的：

Compass.h 定义了一个纯Objective C 类。

ActionTracker.h 定义了一个理解 Objective C 结构的 C++ 类（通过 ActionTracker.mm）。

HelloWorld.h 定义了一个纯 C++ 类。

在我原来的设置中，HelloWorld.h 包含了 ActionTracker.h，但这没关系，因为 ActionTracker.h 还没有包含 Compass.h。后来，我更改了我的代码并将 Compass.h 包含在 ActionTracker.h 中，然后将其拉入 HelloWorld.h，我得到了这些错误。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-07T08:56:18.090

当我尝试将 info.plist 文件从一个目录移动到另一个目录时，我遇到了同样的问题。这以某种方式触发了 XCode 编辑该目标的构建阶段，并显着增加了“编译源”和“复制捆绑资源”的数量。

幸运的是，我的项目有多个用于测试的目标（即 App Demo、App Dev、App Local、App 1.1、App 1.2 等）

所以我只是复制了一个未受影响的目标并将其重命名（也重命名了捆绑标识符和构建方案），这显然解决了我的问题，因为受影响的不是整个项目，而只是那个特定的目标。

如果您想尝试我的解决方案，请尝试从头开始创建一个新目标，或者复制并重命名任何未受影响的目标。

# ruby-on-rails - Cap deploy 在初始克隆时挂起

> ID：11857769
> 
> 赞同：1
> 
> 时间：2012-08-08T04:41:59.087
> 
> 标签：ruby-on-rails, git, amazon-ec2, jruby, capistrano

在初始部署期间，cap deploy 在初始克隆时挂起。它给出这个输出并永远坐在那里，没有退出或给出任何类型的错误：

```
** [50.18.125.107 :: out] Cloning into 'home/torquebox/apps/releases/20120808033824'... 
```

它类似于[这个问题](https://stackoverflow.com/questions/6344214/git-clone-stuck-during-a-capistrano-deploy)，除了我能够手动执行命令，只是不能用 capistrano 自动执行它。

服务器设置：EC2 TorqueBox 服务器上的 Ubuntu 12.04 LTS、jruby、java6、postgresql、mysql、apache2、tomcat7

开发机器：OSX Lion 使用我的开发机器上的 ssh 密钥通过 forward_agent 访问 github

应用程序：JRuby on Rails github repo

[deploy.rb 的要点](https://gist.github.com/3291899)

事实和我尝试过的：

cap deploy:setup 工作正常并且确实创建了目录结构。

如果我手动 ssh 并执行命令，则克隆可以正常工作。

我已经用详细（-v）和调试（-d）尝试了上限，但都没有给我更多信息。

我尝试使用远程机器上的 forward_agent ssh 到 github 来处理[已知的主机错误](https://help.github.com/articles/deploying-with-capistrano)，但这也很好。

我检查了环境变量并意识到并不是所有的东西都被加载了，因为它不是一个交互式 shell，所以我添加了额外的 PATH 目录和其他通常由登录脚本加载的环境变量。我什至编辑了 sshd_config 文件以允许非交互式脚本中的用户环境。

我尝试通过手动执行命令，`cap shell`但我看到了相同的行为。

克隆操作确实创建了正确的目标目录并在其中放置了一个 .git 目录，但 repo 似乎是空的。

我试过打开和关闭远程缓存选项，无论哪种方式都看到相同的行为。

[由于这篇文章](https://stackoverflow.com/questions/9723029/cap-deploysetup-hangs)，我尝试为我的服务器使用 ec2 dns 名称而不是弹性 IP，但这没有用。

所以我被困住了。我真的很感激任何关于在哪里寻找以试图解决这个问题的建议。让我知道是否有更多信息会有所帮助。

谢谢！！

将要

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T04:11:58.347

问题可能是 ssh 代理转发在 JRuby 中被破坏了。它自 JRuby 1.7.0.pre2 起已修复。

见：http: [//jira.codehaus.org/browse/JRUBY-6181](http://jira.codehaus.org/browse/JRUBY-6181)

# algorithm - 类似于栈的数据结构

> ID：11857773
> 
> 赞同：0
> 
> 时间：2012-08-08T04:44:03.963
> 
> 标签：algorithm, data-structures

您可以建议在以下情况下使用哪种数据结构：

我使用 Java

我需要像堆栈一样的东西 - 所以后进先出，但是一个固定大小的堆栈，例如只能放入 5 个元素，当一个新元素放入堆栈时，堆栈底部的元素应该被丢弃，我也想通过索引获取元素，即最新元素的索引为 0，最旧的元素的索引为 4。

Java中是否有合适的东西？

我尝试使用 java.util.Stack，但例如，如果我将大小设置为 3 并尝试添加 4 个元素，它们都会被添加到堆栈中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:54:35.403

Java 有[ArrayDeque](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayDeque.html)，它基本上是一个可增长的环形缓冲区。如果要保持固定大小，只需在推送前检查大小，如果大小太大，则弹出底部值。

# powershell - 使用批处理文件将路径参数传递到 power shell 脚本

> ID：11857777
> 
> 赞同：1
> 
> 时间：2012-08-08T04:45:00.307
> 
> 标签：powershell, batch-file

我想将路径变量 --> param ([string]$w) 传递到另一个参数中，该参数将路径存储在 power shell 脚本中。然后使用另一个批处理文件调用这个 power shell 脚本。我未能传入 $ ，它是完成完整路径的文件夹名称。请建议我解决这个问题

```
$FilePath = "C:\Root\Main\Subfolder\param ([string]$w)\Table\" 
$FileExists = Test-Path $FilePath 

  If ($FileExists -eq $True) 
     { Get-ChildItem -path C:\Root\Main\Subfolder\param ([string]$w)\Table\ -Recurse -Filter *.sql |
      ` Sort-Object -Property DirectoryName -Desc | `
      Foreach-Object -Process {$_.FullName } |ForEach-Object {sqlcmd -i $_}
     }

  Else {Write-Host "No file at this location"} 
```

这是我的批处理文件命令行

```
 PowerShell.Exe -File C:\Users\AZ\Desktop\PowerShell\untitled7.ps1 "Payment" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T06:53:35.330

尝试将其放在脚本的顶部：

```
param(
        [Parameter(
                    Mandatory=$true,
                    Position=0,
                    HelpMessage='Set path variable')]
        [string] $w
) 
```

代替：

```
param ([string]$w) 
```

和：

```
$w 
```

它出现在脚本中的位置。

# javascript - $.mobile.changePage 在多页中无法正常工作

> ID：11857780
> 
> 赞同：5
> 
> 时间：2012-08-08T04:45:20.593
> 
> 标签：javascript, jquery, jquery-ui, jquery-mobile, cordova

大家好，我正在从 index.html 导航到 test.html，因为`$.mobile.changePage("test.html", {transition : "slide"});` 它工作正常。但是在我的 test.html 中，不同的 div 中有多个 html 页面。在 test.html 中，我调用了不同的 html 页面，该页面位于同一 html 文件（ietest.html）中的不同 div 中，`$.mobile.changePage("#secondtestPage", {transition : "slide"});` 但这里它不是导航到 secondtestPage。我的 index.html 是：

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery Mobile: Demos and Documentation</title>

    <link rel="stylesheet"  href="jquery.mobile/jquery.mobile-1.1.0.css" />
    <link rel="stylesheet" href="docs/assets/css/jqm-docs.css" />
    <link rel="stylesheet" href="docsdemos-style-override.css" />
    <script type="text/javascript" src="jquery.mobile/jquery-1.7.2.min"></script>
    <script type="text/javascript" src="jquery.mobile/jquery.mobile-1.1.0.js"></script>
    <!-- Uncomment following line to access PhoneGap APIs (not necessary to use PhoneGap to package web app) -->
    <!-- <script type="text/javascript" charset="utf-8" src="cordova-1.6.1.js"></script>-->

</head> 
<body> 
    <div data-role="page" id="firstPage" onclick=callSecondPage() class="type-home" data-ajax="false" >

            <div data-role="button">
                <input type="submit" data-role="button" value="firstPage" id="firstPage">
            </div>

    </div>  

    <script type="text/javascript">
                function callSecondPage()
                {
                    alert ("Ins ide callPage");

                    //$.mobile.changePage('#secondPage');
                    $.mobile.changePage("test.html", {transition : "slide"});

                }
            </script>

</body>
</html> 
```

现在页面导航到 test.html，我的 test.html 看起来像：

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>jQuery Mobile: Demos and Documentation</title>

        <link rel="stylesheet"  href="jquery.mobile/jquery.mobile-1.1.0.css" />
        <link rel="stylesheet" href="docs/assets/css/jqm-docs.css" />
        <link rel="stylesheet" href="docsdemos-style-override.css" />
        <script type="text/javascript" src="jquery.mobile/jquery-1.7.2.min"></script>
        <script type="text/javascript" src="jquery.mobile/jquery.mobile-1.1.0.js"></script>
        <!-- Uncomment following line to access PhoneGap APIs (not necessary to use PhoneGap to package web app) -->
        <!-- <script type="text/javascript" charset="utf-8" src="cordova-1.6.1.js"></script>-->

    </head> 
    <body> 
        <div data-role="page" id="firsttestPage" onclick=callnewSecondPage() class="type-home" data-ajax="false" >

                <div data-role="button">
                    <input type="submit" data-role="button" value="firsttestPage" id="firsttestPage">
                </div>

                <script type="text/javascript">
                    function callnewSecondPage()
                    {
                        alert ("Inside callPage");

                        //$.mobile.changePage('#secondPage');
                        $.mobile.changePage("#secondtestPage", {transition : "slide"});
                        //$.mobile.changePage("index.html", {transition : "slide"});

                    }
                </script>

        </div>

        <div data-role="page" id="secondtestPage"  onclick=callThirdPage() class="type-home" data-ajax="false" >

                <div data-role="button">
                    <input type="submit" data-role="button" value="secondtestPage" id="secondtestPage">
                </div>

                <script type="text/javascript">
                    function callThirdPage()
                    {
                        alert ("Inside callPage");

                        $.mobile.changePage('#thirdtestPage');

                    }
                </script>

        </div>

        <div data-role="page" id="thirdtestPage"  onclick=callFourthPage() class="type-home">

                <div data-role="button">
                    <input type="submit" data-role="button" value="thirdtestPage" id="thirdtestPage">
                </div>

                <script type="text/javascript">
                    function callFourthPage()
                    {
                        alert ("Inside callPage");

                        $.mobile.changePage('#fourthtestPage');

                    }
                </script>

        </div>

        <div data-role="page" id="fourthtestPage" class="type-home">

                <div data-role="button">
                    <input type="submit" data-role="button" value="fourthtestPage" id="fourthtestPage">
                </div>

        </div>

        <div data-role="page" id="fifthtestPage" class="type-home">

                <div data-role="button">
                    <input type="submit" data-role="button" value="fifthtestPage" id="fifthtestPage">
                </div>

        </div>

        <div data-role="page" id="sixthtestPage" class="type-home">

                <div data-role="button">
                    <input type="submit" data-role="button" value="sixthtestPage" id="sixthtestPage">
                </div>

        </div>
    </body>
</html> 
```

但是现在单击按钮时，它不会导航到“callSecondPage”。如果我打电话`$.mobile.changePage("index.html", {transition : "slide"});` ，那么它会正确导航到 index.html，那么为什么在多页 changePage 中不起作用？还有一件事如果我用 test.html 代码替换 index.html 代码，那么`$.mobile.changePage("#secondtestPage", {transition : "slide"});`效果很好。

我很困惑为什么它会这样？任何建议将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-08T04:55:47.487

jQuery Mobile 将异步加载您的**test.html**文件的内容以过渡到它。您在**index.html**和**test.html**`callSecondPage()`的同一范围内定义了一个函数，这可能有问题。**尝试在test.html**中将其命名为不同的名称并报告回来。

 ******编辑：

好的，事实证明 jQuery Mobile 并没有实际加载除第一个以外的所有其他 data-role="page" 页面。如果您在从 index.html 转换到 test.html 时检查 DOM，您会注意到第二、第三和第四页丢失了。

这来自 jQuery Mobile 文档：http: [//jquerymobile.com/demos/1.0a3/#docs/pages/docs-pages.html](http://jquerymobile.com/demos/1.0a3/#docs/pages/docs-pages.html)

> 请务必注意，如果您从通过 Ajax 加载的移动页面链接**到具有多个内部页面的页面**，则需要在链接中添加**rel="external"**或**data-ajax="false"**。这告诉框架重新加载整个页面以清除 URL 中的 Ajax 哈希。这很关键，因为 Ajax 页面使用哈希 (#) 来跟踪 Ajax 历史记录，而多个内部页面使用哈希来指示内部页面，因此会有冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-28T12:15:31.030

我`false`在方法的末尾添加了值，从而解决了问题：

```
$.mobile.changePage("#secondtestPage", {transition : "slide"}, false); 
```******

# php - 将会话变量与获取变量 PHP 进行比较

> ID：11857781
> 
> 赞同：0
> 
> 时间：2012-08-08T04:45:22.457
> 
> 标签：php, session, get, comparison, integer

我正在尝试将`$_SESSION`变量与`$_GET`变量进行比较。

两者都是数字：

```
$_SESSION['auth'] === $_GET['user'] 
```

如果两个结果都等于 1，则继续。

由于某种原因，这无法正常工作。使用时：`if $_SESSION['auth'] = 2, and $_GET['user'] = 1`，它仍然继续。

编辑：

```
if(isset($_SESSION['auth'])===isset($_GET['user'])){
// proceeding code
} 
```

这样，无论 $_GET 变量产生什么结果，它仍然会继续进行。即使我用 (int) 尝试了下面的答案，它仍然给我相同的结果。

我确实尝试将 $_GET 变量设置为要测试的某个字符串，但由于我的 $_SESSION 变量是`1`. 它只通过任何数字的代码进行。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T05:21:57.603

当您在`if`“等于”条件下有一个函数时，您将与该函数返回的任何内容进行比较。

因此，在您的情况下，如果设置了参数，则`isset()`返回，否则返回。`true``false`

那是您要比较的，而不是值。

很明显，您想在比较之前检查是否设置了变量。所以先这样做，然后开始你的比较。像这样：

```
if(isset($_SESSION['auth'])  && isset($_GET['user'])){

    if($_SESSION['auth'] === (int)$_GET['user'])
    // proceeding code
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T04:48:13.320

来自 GET/POST/REQUEST 超全局变量的任何内容都被输入为字符串，即使它仅包含数字。如果您在 SESSION 中存储了一个实际整数，那么您的严格比较 ( `===`) 将失败，因为您将字符串与 int 进行比较。

尝试

```
$_SESSION['auth'] === (int)$_GET['user'] 
```

相反，或者只是放松对 的比较`==`，它不比较类型。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T05:14:20.397

如果没有看到其他代码，您似乎可能使用了错误的比较运算符。您的条件表达式应该通过的唯一方法是在以下情况下：

```
<?php
$a = 2;

if($a = 1 && $a = 5){
    echo 'yes';
}else{
    echo 'no';
}
?> 
```

的用法`===`是针对值和类型进行相同的比较。有关其他参考，请参阅[比较运算符](http://php.net/manual/en/language.operators.comparison.php)的文档。

**更新：**

看到您的代码后，您的条件表达式通过的原因是因为如果`isset($_SESSION['auth'])`is`True`和`isset($_GET['user'])`is的结果，`True`那么它将通过，如果两者都是 ，则相同`False`。您的条件表达式仅检查结果，`isset(VARIABLE)`而不检查其中的变量是否匹配。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-08T05:19:38.587

您正在检查两者`$_SESSION['auth']`和`$_GET['user']`是否已设置或未设置，而不是实际比较它们，请尝试

```
if(isset($_SESSION['auth'])  && isset($_GET['user'])){
    if($_SESSION['auth'] == $_GET['user'])
    // proceeding code
    }
} 
```

# jsf-1.2 - jsf 1.2 中的 h:commandLink 行为

> ID：11857787
> 
> 赞同：0
> 
> 时间：2012-08-08T04:46:37.183
> 
> 标签：jsf-1.2

我的页面中有 2 个 commandLink。用户必须在输入文本框中填写详细信息（我为此使用了 h:inputText 并且所有字段都是必需的），然后单击“提交”。如果用户不想填写这些字段中的任何一个，则在提交下方提供“跳过此活动”的链接。此跳过链接将重定向到其他页面。提交链接和跳过链接都是 h:commandLink。我不能将 h:outputLink 用于 Skip，因为当用户单击 Skip 时，我想调用 bean 并进行一些业务检查。

现在，当用户没有在字段中填写任何详细信息，而是单击跳过链接时，h:inputText 的 required=true 属性将被触发。我希望仅当用户单击提交而不填写任何详细信息而不是单击跳过链接时才触发此操作。

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T14:10:14.710

添加`immediate="true"`到 commandLink。

它将确保`immediate="true"`在处理过程中跳过所有未定义的输入字段，并且不会触发验证错误。

# sql-server - 我什么时候应该在 sql server 中使用表变量和临时表？

> ID：11857789
> 
> 赞同：313
> 
> 时间：2012-08-08T04:46:42.723
> 
> 标签：sql-server, temp-tables, table-variable

我在表变量中学习更多细节。它说临时表总是在磁盘上，而表变量在内存中，也就是说，表变量的性能优于临时表，因为表变量使用的IO操作比临时表少。

但有时，如果一个表变量中有太多的记录无法包含在内存中，那么该表变量会像临时表一样放在磁盘上。

但我不知道“太多记录”是什么。100,000 条记录？还是 1000,000 条记录？我如何知道我正在使用的表变量是在内存中还是在磁盘上？SQL Server 2005 中是否有任何函数或工具来测量表变量的规模或让我知道表变量何时从内存放入磁盘？

* * *

## 回答 #1

> 赞同：377
> 
> 时间：2012-12-08T13:20:10.493

您的问题表明您已经屈服于围绕表变量和临时表的一些常见误解。

我[在 DBA 站点上写了一个相当广泛的答案，](https://dba.stackexchange.com/questions/16385/whats-the-difference-between-a-temp-table-and-table-variable-in-sql-server/16386#16386)查看了这两种对象类型之间的差异。这也解决了您关于磁盘与内存的问题（我没有看到两者之间的行为有任何显着差异）。

关于标题中关于何时使用表变量和本地临时表的问题，您并不总是有选择的余地。例如，在函数中，只能使用表变量，如果您需要在子范围内写入表，那么只有`#temp`表可以执行（表值参数允许[只读访问](https://stackoverflow.com/questions/4626292/how-to-use-table-variable-in-a-dynamic-sql-statement/12876775#12876775)）。

在您可以选择的地方，以下是一些建议（尽管最可靠的方法是使用您的特定工作负载简单地测试两者）。

1.  如果您需要一个无法在表变量上创建的索引，那么您当然需要一个`#temporary`表。然而，这方面的细节取决于版本。对于 SQL Server 2012 及更低版本，可以在表变量上创建的唯一索引是那些通过`UNIQUE`or`PRIMARY KEY`约束隐式创建的索引。SQL Server 2014 为`CREATE INDEX`. 这已被扩展，以允许过滤索引条件。`INCLUDE`但是，仍然无法在表变量上创建具有-d 列或列存储索引的索引。

2.  如果您将重复从表中添加和删除大量行，请使用`#temporary`表。这支持`TRUNCATE`（这比`DELETE`大型表更有效），并且在 a 之后的后续插入`TRUNCATE`可以比在 a 之后的插入具有更好的性能`DELETE` [，如此处所示](https://dba.stackexchange.com/questions/27309/why-does-delete-leave-a-lingering-effect-on-performance/27319#27319)。

3.  如果您要删除或更新大量行，那么临时表的性能可能会比表变量好得多 - 如果它能够使用行集共享（请参阅下面的“行集共享的影响”以获取示例）。
4.  如果使用表格的最佳计划会因数据而异，则使用`#temporary`表格。这支持创建允许根据数据动态重新编译计划的统计信息（尽管对于存储过程中的缓存临时表，需要单独理解[重新编译行为）。](http://web.archive.org/web/20180130201242/http://sqlblog.com/blogs/paul_white/archive/2012/08/15/temporary-tables-in-stored-procedures.aspx)
5.  如果使用表的查询的最佳计划不太可能改变，那么您可以考虑使用表变量来跳过统计信息创建和重新编译的开销（可能需要提示来修复您想要的计划）。
6.  如果插入到表中的数据源来自潜在的昂贵`SELECT`语句，则考虑使用表变量将阻止使用并行计划的可能性。
7.  如果您需要表中的数据在外部用户事务的回滚中幸存下来，请使用表变量。一个可能的用例可能是在长 SQL 批处理中记录不同步骤的进度。
8.  当在用户事务中使用`#temp`表时，事务锁可以比表变量持有更长的时间（可能直到事务结束与语句结束，具体取决于锁的类型和隔离级别），并且它还可以防止`tempdb`事务日志被截断，直到用户交易结束。所以这可能有利于使用表变量。
9.  在存储例程中，表变量和临时表都可以被缓存。缓存表变量的元数据维护少于`#temporary`表。Bob Ward 在他的[`tempdb`演讲](http://www.youtube.com/watch?v=SvseGMobe2w)中指出，这可能会导致在高并发条件下对系统表的额外争用。此外，在处理少量数据时，这[会对性能产生可衡量的差异](https://dba.stackexchange.com/a/13412/3690)。

**行集共享的效果**

```
DECLARE @T TABLE(id INT PRIMARY KEY, Flag BIT);

CREATE TABLE #T (id INT PRIMARY KEY, Flag BIT);

INSERT INTO @T 
output inserted.* into #T
SELECT TOP 1000000 ROW_NUMBER() OVER (ORDER BY @@SPID), 0
FROM master..spt_values v1, master..spt_values v2

SET STATISTICS TIME ON

/*CPU time = 7016 ms,  elapsed time = 7860 ms.*/
UPDATE @T SET Flag=1;

/*CPU time = 6234 ms,  elapsed time = 7236 ms.*/
DELETE FROM @T

/* CPU time = 828 ms,  elapsed time = 1120 ms.*/
UPDATE #T SET Flag=1;

/*CPU time = 672 ms,  elapsed time = 980 ms.*/
DELETE FROM #T

DROP TABLE #T 
```

* * *

## 回答 #2

> 赞同：77
> 
> 时间：2013-01-22T18:06:26.237

如果数据量非常小（数千字节），请使用**表变量**

对大量数据使用**临时表**

另一种思考方式：如果您认为您可能会受益于索引、自动统计或任何 SQL 优化器的优点，那么您的数据集可能对于表变量来说太大了。

在我的示例中，我只想将大约 20 行放入一个格式并将它们作为一个组进行修改，然后再使用它们来更新/插入永久表。所以一个表变量是完美的。

但我也在运行 SQL 以一次回填数千行，我可以肯定地说临时表的性能比表变量好得多*。*

这与 CTE 因类似大小原因而受到关注的方式没有什么不同 - 如果 CTE 中的数据非常小，我发现 CTE 的性能与优化器提出的一样好或更好，但如果它非常大，那么它伤害了你。

我的理解主要基于[http://www.developerfusion.com/article/84397/table-variables-v-temporary-tables-in-sql-server/](http://www.developerfusion.com/article/84397/table-variables-v-temporary-tables-in-sql-server/)，其中有很多细节。

* * *

## 回答 #3

> 赞同：45
> 
> 时间：2014-02-26T19:56:40.340

微软[在这里说](http://msdn.microsoft.com/en-us/library/ms175010.aspx)

> 表变量没有分布统计，它们不会触发重新编译。因此，在很多情况下，优化器会在假设表变量没有行的情况下构建查询计划。出于这个原因，如果您期望有更多的行数（大于 100），您应该谨慎使用表变量。在这种情况下，临时表可能是更好的解决方案。

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2014-07-07T03:24:56.990

我完全同意 Abacus（抱歉 - 没有足够的评论点数）。

另外，请记住，它不一定取决于您拥有*多少*条记录，而是取决于您的记录的*大小*。

例如，您是否考虑过每条 50 列的 1,000 条记录与每条只有 5 列的 100,000 条记录之间的性能差异？

最后，也许您查询/存储的数据超出了您的需要？[这是关于SQL 优化策略](http://cc.davelozinski.com/sql/optimizing-sql-strategies)的好读物。限制您提取的数据量，尤其是在您没有全部使用的情况下（一些 SQL 程序员确实变得懒惰并且只选择所有内容，即使他们只使用了一个很小的子集）。别忘了 SQL 查询分析器也可能成为你最好的朋友。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-07-06T16:20:20.287

**变量表**仅对当前会话可用，例如，如果您需要在当前会话中使用`EXEC`另一个存储过程，则必须传递该表`Table Valued Parameter`，当然这会影响性能，使用**临时表**，您只能使用传递临时表名

**要测试临时表：**

*   打开管理工作室查询编辑器
*   创建临时表
*   打开另一个查询编辑器窗口
*   从此表中选择“可用”

**要测试变量表：**

*   打开管理工作室查询编辑器
*   创建变量表
*   打开另一个查询编辑器窗口
*   从此表中选择“不可用”

我经历过的其他事情是：如果您的架构没有`GRANT`创建表的权限，则使用变量表。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-07-14T14:38:25.253

在声明的表中写入数据`declare @tb`并与其他表连接后，我意识到与临时表相比，响应时间`tempdb .. # tb`要高得多。

当我与*@tb*一起加入他们时，返回结果的时间要长得多，与*#tm*不同，返回几乎是瞬时的。

我用 10,000 行加入测试并加入了 5 个其他表

# android - 如何像新的 YouTube 应用一样在 Android 手机（未列出）上实现“SplitView”？

> ID：11857790
> 
> 赞同：2
> 
> 时间：2012-08-08T04:46:43.233
> 
> 标签：android, android-layout, android-ui

我想在 Android 手机（未列出）上实现“SplitView”，比如新的 YouTube 应用。

![Youtube 应用拆分视图](../Images/bedbe1345c9c6e7b90e71f3954192bda.png)

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:51:37.930

不是一个特定的编程问题。更像是一个开放的问题。无论如何，您可以从研究开始`Fragments`。这是教程的链接：[Fragments](http://answers.oreilly.com/topic/2448-how-to-use-the-fragment-class-in-the-android-honeycomb-sdk-preview/)。

希望有帮助。

# python - Google App Engine Datastore 中是否可以有多值字段？

> ID：11857792
> 
> 赞同：2
> 
> 时间：2012-08-08T04:46:56.463
> 
> 标签：python, google-app-engine, google-cloud-datastore

我想要一个类似于博客的 GAE-Python 数据存储类型，并且我想要一个类别或标签字段，其中给定博客实例可以有多个标签。我是一个 GAE/Python 新手，正在尝试找到一种方法来为单个实例分配多个类别。

例如

```
class MyModel(db.Model):
    category = db.CategoryProperty() 
```

我将如何修改它以启用 MyModel 实例的多个类别？

如果这是可能的，检索单个类别值的实例的查询会是什么样子？

该字段具有多个值的“放置”会是什么样子？

预先感谢您提供任何建议或链接到我可以找到适用文档的位置..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T09:35:54.347

如果您现在开始使用此项目，请考虑 NDB 和[重复属性](https://developers.google.com/appengine/docs/python/ndb/properties#repeated)

```
class MyModel(ndb.Model):
category = ndb.StringProperty(repeated=True) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T06:50:25.517

您可以使用 a[`ListProperty`](https://developers.google.com/appengine/docs/python/datastore/typesandpropertyclasses#ListProperty)或 a[`StringListProperty`](https://developers.google.com/appengine/docs/python/datastore/typesandpropertyclasses#StringListProperty)来存储类别列表；它们存储一个列表（或字符串列表），您可以像通常在 Python 中使用列表一样使用属性值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T07:51:56.300

您还可以使用**TextProperty**在 list 或 dict 或 list-dict 的组合中存储任何类型的值。

# sql - cakephp url没有检索数据

> ID：11857796
> 
> 赞同：1
> 
> 时间：2012-08-08T04:47:11.880
> 
> 标签：sql, cakephp

大家好，当点击我页面上的链接时，它没有携带`id`从进入`template`页面时的链接`view`，所以当 sql 查询数据库时，它正在查询这个

```
SELECT `Field`.`name`
FROM `pra`.`fields` AS `Field`
LEFT JOIN `pra`.`templates` AS `Template` ON (
    `Field`.`template_id` = `Template`.`id`)
WHERE `template`.`id` IS NULL 
```

数据库说 id 应该是 =`2`

这是视图功能的代码

```
$fields = $this->Field->find('all',
           array('fields'=>array('name','template_id'),
                 'conditions' => array('template_id' =>  $this->Auth->user('template.id'))));

$this->set('field', $fields); 
```

更新的代码，template_id 仍然等于 null

硬编码后它可以正常工作，这条线有问题`$this->Auth->user`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:52:05.367

您可以尝试使用以下代码：

```
$fields = $this->Field->find('all', 
           array('fields'=>array('name'),
                 'conditions' => array('Field.template_id' =>  $this->Auth->user('template_id'))
                 )
                            );

$this->set('field', $fields); 
```

请确保当前登录的用户必须有任何`template_id`值。请询问它是否不适合您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:52:55.010

通过执行以下操作检查`find`调用结果`debug`：

```
debug($fields); 
```

这将向您显示查询返回的数据。您可以将其添加到操作方法的末尾。

如果结果为空，请仔细检查会话身份验证键中存储的值。您可以通过使用`debug($_SESSION)`或使用[CakePHP DebugKit](http://github.com/cakephp/debug_kit)转储会话来做到这一点。调试工具包在屏幕右上角为您提供了一个小工具栏，可让您查看会话信息等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T09:50:04.897

```
function view($name){

    $this->set('title_for_layout', 'Create Template');
    $this->set('stylesheet_used', 'homestyle');
    $this->set('image_used', 'eBOXLogoHome.jpg');
    $this->layout='home_layout';

$fields = $this->Template->Field->find('list',array( 
          'fields'=> array('name'),
          'conditions' => array(
          'template_id'=> $name)));
$this->set('field', $fields);

} 
```

它没有传递参数的值

# c# - c#中float类型的最大值

> ID：11857797
> 
> 赞同：21
> 
> 时间：2012-08-08T04:47:18.777
> 
> 标签：c#

当我这样做时：

```
float x = float.MaxValue; 
```

我有结果：3.40282347E+38

什么是 E+38？没有这个符号我怎么能代表最大数量？

msdn 说范围：±1.5 × 10^−45 到 ±3.4 × 10^38，但这对我没有帮助。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-08-08T04:52:23.453

“E+38”格式是默认格式。如果您想查看整数，请指定其他格式，如下所示：

```
float.MaxValue.ToString("#") 
```

这将导致：

```
340282300000000000000000000000000000000 
```

以下是一些其他格式：http: [//msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.aspx](http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.aspx)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-08-08T04:53:01.500

这称为[E-Notation](http://en.wikipedia.org/wiki/Scientific_notation#E_notation)（指数表示法），与科学记数法一起使用。

来自[维基百科关于科学记数法的文章的 E 表示法部分](http://en.wikipedia.org/wiki/Scientific_notation#E_notation)：

> 因为像 10^7 这样的上标指数不能总是方便地显示，所以字母 E 或 e 通常用于表示乘以 10 的次方（可以写为“x 10^b”），然后是指数的值。

因此，`3.40282347E+38`等于`3.40282347 * 10`^(`38`)并且将被读取为“3.40282347 乘以 10 的 38 次方”。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-08T04:53:24.260

试试下面的代码：

```
float f = float.MaxValue;
Console.WriteLine("Origianl Value: " + f);
Console.WriteLine("With Zeros:" + f.ToString("0")); 
```

价值

```
Origianl Value: 3.402823E+38
With Zeros:340282300000000000000000000000000000000 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-08T04:53:12.660

那是[科学记](http://en.wikipedia.org/wiki/Scientific_notation)数法。

```
5E+2 = 
5 x 10 ^ 2 = 
5 x 10 * 10 = 
5 * 100 =
500 
```

换句话说，这就是你移动小数点的多少位来计算结果。取 5，将其移动 2 位，最终得到 500。在您的示例中，您需要取您的数字，`3.40282347`并将小数位移动 38 次以上！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-08T04:50:00.973

3.4e38 是 3.4 * 10^38 或 340000000000 ...（37 个零）

附加信息：

[http://msdn.microsoft.com/en-us/library/b1e65aza(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/b1e65aza(v=vs.71).aspx)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-08T04:52:26.623

大约是。340 000 000 000 000 000 000 000 000 000 000 000 000

如果你使用 Dan 的代码，你会得到这样的结果：

```
340282300000000000000000000000000000000 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-12-22T09:50:17.510

老问题，但这是字符串格式的最小值和最大值。

```
Using float.Parse
-340282356779733642999999999999999999999 to 340282356779733642999999999999999999999
Using float.MinValue.ToString("#") and float.MaxValue.ToString("#")
-340282300000000000000000000000000000000 to 340282300000000000000000000000000000000
Using float.MinValue.ToString() and float.MaxValue.ToString()
-3.402823E+38 to 3.402823E+38 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-09-01T21:21:11.850

很抱歉破坏了一个旧线程，但谷歌把我带到了这里，我没有找到满意的答案。我相信谷歌会在这里带领其他人。

float.h 库包括 c 中 float 和其他的最大值。FLOAT_MAX等于340282346638528859811704183484516925440，即float可以存储的最大值。

我不是 C 方面的专家，但我想这个值是通用的，并且不依赖于 x32 或 x64 操作系统。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-05-14T05:30:43.890

显示`float.MaxValue`使用的答案`ToString`不正确。

这些答案状态`float.MaxValue`是： `var f1 = 340282300000000000000000000000000000000f;`

这只是 C# 转换`float.MaxValue`为字符串时产生的内容。

然而，`float.MaxValue`定义`System.Single`为`3.40282347E+38F`

所以实际的答案是：

`var f2 = 340282347000000000000000000000000000000f;`

另请注意，编译缺陷将允许将高于此的常量值用作浮点数。但是在编译时，C# 会将这些值截断为`float.MaxValue`. 例如：

```
var f3 = 340282356699999999999999999999999999999f;
var f4 = 340282356760000000000000000000000000000f;
var f5 = 340282356779733661637539395458142568447.9f; 
```

这里 f5 ( `340282356779733661637539395458142568447.9f`) 是您可以定义的实际最大常数。同样，这被截断为`float.MaxValue`.

这都可以验证：

```
var equals_1 = f1 == f; // false
var equals_2 = f2 == float.MaxValue; // true
var equals_3 = f3 == float.MaxValue; // true
var equals_4 = f3 == float.MaxValue; // true
var equals_4 = f5 == float.MaxValue; // true 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-05-14T02:21:39.927

不带指数的最大浮点数为：340282356779733661637539395458142568447.9f

# javascript - 发布一个包含 n 个项目的数组以形成

> ID：11857800
> 
> 赞同：0
> 
> 时间：2012-08-08T04:47:34.323
> 
> 标签：javascript, html, forms, node.js

我想将一个长度为 n 的数组发布到表单中。处理这个问题的最佳方法是什么？

该对象是一个 Timesheet，它有一个日期和一个 Lines 数组。

行具有持续时间、类别和注释字段。

我的表单有一个日期字段和一行开始，jQuery 会根据需要添加更多行。

我知道我需要以某种方式使用括号表示法，但我不知道如何考虑嵌套两个对象。

FWIW，应用程序端在 Node.js 和 express 中。

```
<form id="timesheet" method="POST" action="/timesheets">
  <label>date for timesheet</label>
  <input type="date" name="date"/><br/>
  <ol id="timesheet-list">
    <li>
      <input type="number" name="hours" min="0" value="0" step=".25"/>
      <input type="text" name="category"/>
      <input type="text" name="details"/>
    </li>
  </ol>
  <input type="submit"/>
</form>

<a id="addItem" href="#">Add a new line item</a>

<script type="text/javascript">
  $('#addItem').click(function(e){
    e.preventDefault();
    $('#timesheet-list').append('<li><input type="number"> <input type="text"> <input type="text"></li>');
  });
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:05:00.707

您想将数据格式化`JSON`为**POST**到您的表单吗？

你的`JSON`对象看起来像这样。

```
// Entire object is a representation of a 'Timesheet'
{
  date: '8-8-2012',
  lines: [ // Array of objects, each storing a duration, catagory and note.
    {
      duration: 0,
      catagory: 'whatever',
      note: 'whatever'
    },
    { // Have as many of these as you please.
      duration: 123,
      catagory: 'another',
      note: 'moar notes'
    },
  ]
} 
```

当您收到此对象时，您可以像这样访问数据：

```
data = getTimesheet(); // Assume this function gets the above JSON
data.date;
for(var i=0; i<data.lines.length; i++) {
    data.lines[i].duration;
    data.lines[i].catagory;
    data.lines[i].note;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:28:10.337

`serializeArray`如果您想使用 jQuery方法将其作为 JSON 数据提交，我认为您可以序列化您的输入值

```
 $('form').submit(function() {
          alert($(this).serializeArray());
          return false;
      }); 
```

**请注意**，要使上述内容起作用，您`<input ...>`必须具有一个`name`属性。

对于其他可能希望将更复杂的数据（对象类型）编码为表单数据的人来说，[这里](https://stackoverflow.com/questions/1184624/convert-form-data-to-js-object-with-jquery)的答案很有帮助。基本上，它使用 serializeArray 函数将其转换为 JavaScript 对象（包含以下代码，因为链接可能会随着时间的推移而变为非活动状态）

```
 $.fn.serializeObject = function()
  {
   var o = {};
   var a = this.serializeArray();
    $.each(a, function() {
       if (o[this.name] !== undefined) { //check to see if name attribute exists
           if (!o[this.name].push) { 
              o[this.name] = [o[this.name]];
           }
           o[this.name].push(this.value || '');
         } else {
            o[this.name] = this.value || ''; 
          }
    });
    return o;
 }; 
```

**使用功能**

```
 $(function() {
     $('form').submit(function() {
         $('#result').text(JSON.stringify($('form').serializeObject()));
      return false;
    });
});​ 
```

# apache - .htaccess 隐藏地址中的问号

> ID：11857810
> 
> 赞同：0
> 
> 时间：2012-08-08T04:48:13.520
> 
> 标签：apache, .htaccess, mod-rewrite

我究竟做错了什么？我有一个链接：

`<a href="norma/something1/something2/something3/">Link Name</a>`

我需要从以下地址填写地址： `eshop.mydomain.com/norma/something1/something2/something3/`
这个地址：
`eshop.mydomain.com/norma-something1-something2-something3.html`

我唯一能做的就是
`eshop.mydomain.com/?norma-something1-something2-something3.html`

我需要隐藏问号，但我不知道如何:(

这是我的 .htaccess

```
#php_value memory_limit 256M 
RewriteEngine On
RewriteBase /
RewriteRule /index.php / [R=301]

RewriteRule ^norma/([^/]+)/([^/]+)/([\d\.]+)$ %{DOCUMENT_ROOT}/index.php?$1-$2&-$3.html [L,QSA]

ErrorDocument 404 /doc/e404/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:00:13.843

您正在重写规则中添加该问号：

```
# right here -----------------------------------------------------------v
RewriteRule ^norma/([^/]+)/([^/]+)/([\d\.]+)$ %{DOCUMENT_ROOT}/index.php?$1-$2&-$3.html [L,QSA] 
```

但我怀疑这可能是导致这种重定向发生的几件事，而实际上它应该是服务器端内部的重写。尝试将您的规则更改为：

```
RewriteEngine On
RewriteBase /

# this L is important ------------v
RewriteRule ^/?index.php / [R=301,L]

RewriteRule ^norma/([^/]+)/([^/]+)/([\d\.]+)$ /index.php?$1-$2&-$3.html [L,QSA] 
```

# frameworks - 为 iOS 构建 MailCore 框架？

> ID：11857817
> 
> 赞同：0
> 
> 时间：2012-08-08T04:49:13.567
> 
> 标签：frameworks, build, mailcore

您好，两天以来我一直在尝试构建 MailCore 框架……它给出了太多错误。首先它给出了“config.h no such file”错误。我下载了 MailCore 的另一个副本，这个给出了两个错误

1-target 指定产品类型“com.apple.product-type.framework”，但“iphonesimulator”平台没有此类产品类型

2-创建依赖关系图时发生内部错误：/SourceCache/IDEXcode3ProjectSupport/IDEXcode3ProjectSupport-928/Xcode3Sources/XcodeIDE/Frameworks/DevToolsBase/pbxcore/Target.subproj/PBXTargetBuildContext.m:1966 中的 ASSERTION FAILURE

请帮帮我..我厌倦了。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:30:56.993

我通过执行这里所告诉的说明解决了这个问题... [http://libmailcore.com/](http://libmailcore.com/) ...无需构建框架...只需按照我的链接所述将文件包含在您的项目中提到你就完成了......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T02:31:36.933

我只能说那个“config.h”错误：

事实证明，您必须将 MailCore 放在目录路径中没有空格的文件夹中。

见： [https ://github.com/mronge/MailCore/issues/35](https://github.com/mronge/MailCore/issues/35)

我将文件夹移到`/Users/bill/Documents/dev/lib/MailCore`并能够在那里构建项目。将 MailCore 留在那个位置，我将 MailCore.xcodeproj 文件拖到我的项目中（位于硬盘驱动器的其他位置）并且能够编译我的项目。

如果有人将此作为警告添加到[此处的说明中，那就太好了](http://libmailcore.com/#iosadding)

# c# - 为什么我的图片加载不出来？

> ID：11857819
> 
> 赞同：0
> 
> 时间：2012-08-08T04:49:20.743
> 
> 标签：c#, xna

```
 private void LoadImageList()
    {
        string filepath = Application.StartupPath + @"\Content\Textures\Tiles\PlatformTiles.png";
        Bitmap tileSheet = new Bitmap(filepath);
        int tilecount = 0;

        for (int y = 0; y < tileSheet.Height / TileGrid.TileHeight; y++)
        {
            for (int x = 0; x < tileSheet.Width / TileGrid.TileWidth; x++)
            {
                Bitmap newBitmap = tileSheet.Clone(
                    new System.Drawing.Rectangle(
                        x * TileGrid.TileWidth,
                        y * TileGrid.TileHeight,
                        TileGrid.TileWidth,
                        TileGrid.TileHeight),
                        System.Drawing.Imaging.PixelFormat.DontCare);

                imgListTiles.Images.Add(newBitmap);
                string itemName = "";
                if (tilecount == 0)
                {
                    itemName = "Empty";
                }
                if (tilecount == 1)
                {
                    itemName = "White";
                }
                listTiles.Items.Add(new ListViewItem(itemName, tilecount++));
            }
        }
    } 
```

我所做的只是用更新的更新 PlatformTiles.png 并且下次运行程序时它不会加载。*我在int tilecount = 0*处放置了一个断点；它永远也达不到。之后的所有内容也不会加载。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-20T13:40:39.793

如果该文件是您的内容项目的一部分，并且它的 Build Action 设置为 Compile，则运行时该文件夹中的文件没有 .png 扩展名，因此永远不会创建位图。内容资产具有 .xnb 扩展名，因为它们已被编译为二进制格式。将 Build Action 更改为 None 并将 Copy to Output Direction 更改为 Copy（如果较新）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T04:55:59.200

`Bitmap`那是指吗`System.Drawing.Bitmap`？如果是这样，您的代码有内存泄漏。您正在创建数百（数千？）个 Bitmap 对象而不处置它们。每个`Bitmap`对象都封装了一个必须显式处理的 GDI 位图表面。使用 C#`using(Bitmap bmp) { }`块确保它们在超出范围时被释放，或者确保在释放父类对象时释放位图。

这可能与您的问题有关（通常，如果您达到 GDI 对象限制，创建太多位图是个坏主意）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T21:52:14.973

我摆脱了字符串并替换了文件路径，Bitmap tileSheet = new Bitmap(filepath);，用我的硬盘驱动器上的图像路径，它工作。解决方案，但可以使用一些解释。

# facebook - 远程链接到FB个人资料图片或将其存储在本地？

> ID：11857822
> 
> 赞同：2
> 
> 时间：2012-08-08T04:49:58.900
> 
> 标签：facebook, facebook-graph-api, photo

我用 Facebook 登录建立了自己的博客。目前，我正在使用以下内容在博客顶部显示我的 FB 用户的个人资料图片，以表明他们已登录：

```
<img src="https://graph.facebook.com/[profileID]/picture"> 
```

现在我想为博客文章上的每条评论添加个人资料图片，每页有 20 条评论。这意味着有 21 个请求前往 FB 获取个人资料图片。这是一个好主意还是我应该从 FB 获取个人资料图片（当然是通过编程方式）并将其存储在本地？

如果需要，我知道如何抓取图片，我只想知道我在做什么是对还是错？偶尔，我注意到从 FB 加载一张个人资料图片有点滞后，我担心加载 20 张不同的图片。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T04:53:26.223

使用 FB 的优点：

1.  你不会浪费你的空间
2.  你不会浪费你的流量
3.  你不会浪费你的网络服务器连接/CPU/IO
4.  您的页面上总是有实际的用户图片
5.  FB 比你有更好的 CDN
6.  每个浏览器都会限制每个域的同时 HTTP 请求。因此，拥有不同的主机（至少您的主机和 FB 主机）可能会提高页面加载速度。

使用 FB 的缺点：

1.  如果您的应用是 Intranet 应用 - FB 会消耗您用户的互联网流量

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-08-08T04:56:45.503

好的，这个问题纯粹是关于哪种方法更好。我不建议您在本地保存个人资料图片，因为用户可能会更改其个人资料上的图片，您最终将承担更新它们的额外责任。

此外，一旦从 FB 加载图片，接下来的 20 张图片浏览器将使用缓存的图像，而不是向 FB 服务器发出新的请求。

希望有意义

谢谢

考希克

# mysql - 与 phpmyadmin 文件相比，mysqldump 文件的导入速度较慢

> ID：11857827
> 
> 赞同：1
> 
> 时间：2012-08-08T04:50:56.110
> 
> 标签：mysql, cron, phpmyadmin, backup, mysqldump

我有一个大型 mySQL 数据库，每晚通过 cron 作业备份它：

```
/usr/bin/mysqldump --opt USERNAME -e -h SERVERNAME -uUSER -pPASSWORD > /home/DIRECTORY/backup.sql 
```

它运行良好 - 除非我去“恢复”另一台服务器上的 sql 文件 - 这需要很长时间（大约 3 分钟）

这与使用 phpMyAdmin 形成对比——如果我“导出”并导出相同的 MySQL 数据库，然后将该 sql 文件导入另一台服务器，只需 10 秒。

**问题：**如何让“mysqldump”创建与“phpMyAdmin”相同类型的 sql 文件？

**一些 FAST 版本的 sql 示例（不是全部）：**

```
CREATE TABLE IF NOT EXISTS `absence_type` (
  `absence_type_ID` int(16) NOT NULL AUTO_INCREMENT,
  `name` varchar(30) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`absence_type_ID`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=14 ;

--
-- Dumping data for table `absence_type`
--

INSERT INTO `absence_type` (`absence_type_ID`, `name`) VALUES
(1, 'Sick Leave'),
(2, 'Personal Carers'),
(3, 'Other'); 
```

**一些 SLOW 版本的 sql 示例（不是全部）：**

```
 --
    -- Table structure for table `absence_type`
    --

    DROP TABLE IF EXISTS `absence_type`;
    /*!40101 SET @saved_cs_client     = @@character_set_client */;
    /*!40101 SET character_set_client = utf8 */;
    CREATE TABLE `absence_type` (
      `absence_type_ID` int(16) NOT NULL AUTO_INCREMENT,
      `name` varchar(30) COLLATE utf8_unicode_ci NOT NULL,
      PRIMARY KEY (`absence_type_ID`)
    ) ENGINE=MyISAM AUTO_INCREMENT=14 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
    /*!40101 SET character_set_client = @saved_cs_client */;

    --
    -- Dumping data for table `absence_type`
    --

    LOCK TABLES `absence_type` WRITE;
    /*!40000 ALTER TABLE `absence_type` DISABLE KEYS */;
    INSERT INTO `absence_type` VALUES
 (1,'Sick Leave'),
 (2,'Personal Carers'),
 (3,'Other');
    /*!40000 ALTER TABLE `absence_type` ENABLE KEYS */;
    UNLOCK TABLES; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T15:20:03.187

# 3d - cuda 访问 3d 数组

> ID：11857834
> 
> 赞同：1
> 
> 时间：2012-08-08T04:51:31.010
> 
> 标签：3d, cuda

我试图弄清楚如何在设备上分配一个 3d 数组，填充它，然后将它返回给主机代码。

我尝试使用“Cuda C Programming guide”第 3.2.2 pg、21 和 22 节中的代码。当我尝试编译此代码时，出现此错误：

> 错误：“void *”类型的值不能用于初始化“char *”类型的实体

```
/* host code */
#include <stdio.h>
#include <math.h>
#include "mex.h"

/* Kernel function */
#include "simulate3DArrays.cpp"

/* Define some constants. */
#define width  5
#define height 9
#define depth  5

void mexFunction(int        nlhs,
             mxArray    *plhs[],
             int        nrhs,
             mxArray    *prhs[])
{

double *output;
mwSize ndim3 = 3;
mwSize dims3[] = {height, width, depth};

plhs[0] = mxCreateNumericArray(ndim3, dims3, mxDOUBLE_CLASS, mxREAL);
output = mxGetPr(plhs[0]);

cudaExtent extent = make_cudaExtent(width * sizeof(double), height, depth);
cudaPitchedPtr devicePointer;
cudaMalloc3D(&devicePointer, extent);

cudaMemcpy3DParms deviceOuput = { 0 };
deviceOuput.srcPtr.ptr = devicePointer.ptr;
deviceOuput.srcPtr.pitch = devicePointer.pitch;
deviceOuput.srcPtr.xsize = width;
deviceOuput.srcPtr.ysize = height;

deviceOuput.dstPtr.ptr = output;
deviceOuput.dstPtr.pitch = devicePointer.pitch;
deviceOuput.dstPtr.xsize = width;
deviceOuput.dstPtr.ysize = height;

deviceOuput.kind = cudaMemcpyDeviceToHost;

simulate3DArrays<<<1,depth>>>(devicePointer, width, height, depth);

/* copy 3d array back to 'ouput' */
cudaMemcpy3D(&deviceOuput);

return;
} /* End Mexfunction */

/* device code from pg 22\. */
__global__ void simulate3DArrays(cudaPitchedPtr devPitchedPtr, 
                             int width, 
                             int height, 
                             int depth) 
{
char* devPtr = devPitchedPtr.ptr;  /* << error occurs here */
size_t pitch = devPitchedPtr.pitch; 
size_t slicePitch = pitch * height;

for (int z = 0; z < depth; ++z) 
{ 
    char* slice = devPtr + z * slicePitch; 
    for (int y = 0; y < height; ++y)
    {
        float* row = (float*)(slice + y * pitch);
        for (int x = 0; x < width; ++x) 
        {
            float element = row[x]; 
        }
    } 
}
} 
```

不确定它是否真的与这个问题相关，但我的环境是：

*   视窗 7 x64
*   MATLAB 2012a
*   库达 SDK 4.2
*   特斯拉 C2050 GPU

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T04:33:07.697

正如@talonmies 所指出的，您需要将 void* 指针转换为正确的类型。在这种情况下，字符 *：

```
char* devPtr = (char *)devPitchedPtr.ptr; 
```

# excel - 计算时间跨度的 MIN MAX 时忽略零

> ID：11857836
> 
> 赞同：0
> 
> 时间：2012-08-08T04:51:37.817
> 
> 标签：excel, excel-formula

请帮忙！我正在尝试使用 MIN MAX 函数计算轮班内的时间段，当轮班不工作时我不能忽略零。以下是轮班时间和轮班中的“服务时间”：

```
Start   Finish  Hours   Service Hrs
11:00   16:00   5.00    4.00 
```

对于我使用的服务时间计算：

```
=(MIN(C1,D5)-MAX(B1,C5))*24 
```

但是，如果没有轮班，服务时间仍然等于 4.00。

我该如何忽略这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T07:36:58.773

在允许公式执行任何操作之前，我会专门测试是否输入了开始时间和结束时间，例如：

```
=IF(COUNT(C5:D5)=2, (MIN(C1,D5)-MAX(B1,C5))*24, "") 
```

# iphone - 我可以将下载的文件保存到 iPhone 中的 NSCacheDictionary 吗？

> ID：11857837
> 
> 赞同：0
> 
> 时间：2012-08-08T04:51:42.377
> 
> 标签：iphone, itunes, nsdocumentdirectory, nscache

我正在使用 NSURLConnection 通过我的应用程序下载一些 mp3 文件。其实我可以在哪里保存下载的文件。有人说保存到 NSDocumentDirectory 会导致应用被拒绝。

我可以将文件保存到 NSCacheDictionary 并从 iTunes 中检索吗？

我使用这段代码将文件保存到 NSCacheDictionary

```
 NSString *cachesPath = [NSSearchPathForDirectoriesInDomains(
                                                            NSCachesDirectory, NSUserDomainMask, YES)
                        objectAtIndex: 0];
   NSString *documentsDirectoryPath = [cachesPath stringByAppendingPathComponent:@"music.mp3"];
  [receivedData writeToFile:documentsDirectoryPath atomically:YES]; 
```

我可以这样使用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:00:53.247

如果您将文件保存到`NSCacheDictionary`您将无法从 iTunes 中检索它们。

**编辑：** 您可以将 mp3 文件存储到`NSDocumentDirectory`并设置“不备份”标志以设置您可以检查[技术问答 QA1719](http://developer.apple.com/library/ios/#qa/qa1719/_index.html)的标志。

有关其他信息，您可以查看[文档](https://developer.apple.com/icloud/documentation/data-storage/)。

具体来说：

> 将此属性用于可以重新创建但即使在存储空间不足的情况下也需要保留的数据，以便您的应用程序正常运行，或者因为客户希望它在离线使用期间可用。此属性适用于标记的文件，无论它们位于哪个目录，包括 Documents 目录。

# ios - 在新线程中加载 UIWebView 内容

> ID：11857858
> 
> 赞同：0
> 
> 时间：2012-08-08T04:53:25.817
> 
> 标签：ios, multithreading, uiwebview

我有四个选项卡控制器，其中一个在视图控制器中有一个 UIWebView。当应用程序启动时，我创建了一个新线程来在我的 webView 中加载 web 内容，因此当 web 完成加载时，它就可以供用户在切换到视图控制器时查看。

我的问题是，webVIew 根本没有在新创建的线程中加载请求，但是当我将 loadRequest 放入 viewDidLoad 时它正在工作。我花了整整一天的时间来找到解决方案，但一点运气都没有。

这是我的代码：

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
     self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
     if (self)
        [NSThread detachNewThreadSelector:@selector(doStuff) toTarget:self withObject:nil];

     return self;
}

- (void)doStuff
{
     NSLog(@"Starting a new thread ...");

     NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
     url = [NSURL URLWithString:@"http://www.myURL.com"];
     NSURLRequest *request = [NSURLRequest requestWithURL:url];
     [newsWebView loadRequest:request];

     [pool release];
 } 
```

有人可以解决我的问题吗？非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-08-18T07:20:20.420

```
 - (void)doStuff
 {
 NSLog(@"Starting a new thread ...");

 NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
 url = [NSURL URLWithString:@"http://www.myURL.com"];
 NSURLRequest *request = [NSURLRequest requestWithURL:url];

dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    [newsWebView loadRequest:request];
 });
[pool release];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T05:09:52.717

UIWebView 是 UIKit 的一部分，所以你应该在主线程上操作。

```
- (void)doStuff
{
     NSLog(@"Starting a new thread ...");

     NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
     url = [NSURL URLWithString:@"http://www.myURL.com"];
     NSURLRequest *request = [NSURLRequest requestWithURL:url];
     dispatch_async(dispatch_get_main_queue(), ^(void){
         [newsWebView loadRequest:request];
     });
     [pool release];
 } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-01-17T09:14:40.840

尝试这个

```
func loadPdfFromDocumentDirectory(localPathUrl: URL)
{
    let urlRequest = URLRequest(url: localPathUrl)
    DispatchQueue.main.async {
        self.webView?.loadRequest(urlRequest)
    }
} 
```

# android - 如何修复andengine中的消费者和渠道相关的错误？

> ID：11857862
> 
> 赞同：1
> 
> 时间：2012-08-08T04:54:02.370
> 
> 标签：android, andengine

这个错误是什么意思？

```
08-08 10:10:39.203: ERROR/InputDispatcher(60): channel '406c6df0 org.bg.demo/org.bg.demo.BgDemoActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x8

08-08 10:10:39.203: ERROR/InputDispatcher(60): channel '406c6df0 org.bg.demo/org.bg.demo.BgDemoActivity (server)' ~ Channel is unrecoverably broken and will be disposed! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T04:59:15.650

从您拥有的两个错误行中，我只能猜测您的问题可能是什么。所以我的猜测是你开始了`thread`两次。看看你有没有两个`start()`相同的`thread`。

看看是不是这个问题。如果您想更好地猜测，请发布您的整个`logCat`错误日志。

# jquery - 检测 _self 或 _blank，将 href 中的 URL 解析为函数和 window.open(URL, '_self') 或 window.open(URL, '_blank')

> ID：11857863
> 
> 赞同：1
> 
> 时间：2012-08-08T04:54:04.893
> 
> 标签：jquery, function, href

`href=""`在插入某些带有滚动条的 jQuery`DIV`滚动条后，我花了两天时间修复故障链接。

我`href=""`在这些 DIV 中有链接，点击了它们，但浏览器没有做任何事情，无论它们是`_self`还是`_blank`.

因此，黑客通过`window.open()`，导致要么`window.open(URL, '_self')`要么`window.open(URL, '_blank')`。

我想通过`.class`as 选择器创建一个 jQuery 函数，检测原始对象是否`href=""`为 target`_self`或`_blank`，并将 URL 从 href 解析为函数中的相应 if else 并使链接正常工作。

把事情弄清楚：

常规 <a href="http://www.google.com" target="_blank"> 或 <a href="http://www.yahoo.com" target="_self"> 申请后不起作用上面说的 jQuery 内容滚动条。

因此，我使用 <a onclick="window.open('http://www.google.com/', '_blank');">

但是，我试图通过一个 jQuery 函数来做到这一点，而不是每次都内联。此函数能够检测目标是 _blank 还是 _self，捕获 URL 并分别使用带有 _blank 或 _self 的 window.open() 返回。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T06:26:47.667

你说的很奇怪。我不知道为什么您的链接在浏览器中不起作用，但这是您想要的：

```
$(document).ready(function(){
  $('.links').click(function(){
    var href = $(this).attr("href");
    var target = $(this).attr("target");

    window.open(href, target);

  });
}); 
```

# jquery - 在内部滑动和 iframe 或类似的东西

> ID：11857864
> 
> 赞同：1
> 
> 时间：2012-08-08T04:54:08.090
> 
> 标签：jquery, ios, ipad, jquery-mobile

嘿嘿，

希望这是一个简单的问题，有一个简单的答案......有没有办法用 iframe 或类似的东西创建一个 html 文档，它会加载一个网页，但允许你在页面之间来回滑动？就像是

```
<html>
<head>
<meta charset="utf-8"/>
<title>Blent</title>
<link rel="stylesheet" href="jquery.mobile.pagination.css" />
<script src="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js">      </script>
<script src="jquery.mobile.pagination.js"></script>
<!-- Prevent scaling -->
<meta name="viewport" content="user-scalable=no, width=device-width" />
<!-- Eliminate url and button bars if added to home screen -->
<meta name="apple-mobile-web-app-capable" content="yes" />
</head>
<body>
<iframe id=”the-frame” src=”http://google.com”&gt;</iframe>
</body>
</html> 
```

所以我有一个带有 google 的 iFrame，如果我滑动，它会加载说 Amazon.com，然后如果我向后滑动，它会加载 Google。有什么办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T12:49:34.687

我猜你会冒犯同源政策。因此，您将无法使用 javascript 在 iframe 中执行任何操作（无论是 jquery、mootools、vanilla 还是其他）。

但是，如果您在多个 DIV 中创建多个 IFRAME 并滑动后者，则***可能会有机会...***

# image - 图片未通过 https 显示

> ID：11857871
> 
> 赞同：1
> 
> 时间：2012-08-08T04:55:21.873
> 
> 标签：image, https, web

我的图片通过 HTTPS 遇到了一个非常奇怪的问题。

我可以在 URL 中看到带有 HTTP 的图像，但是一旦将其更改为 HTTPS，它就会开始显示图像的 404。

请提出建议，因为这对我来说是一种真正的痛苦。

谢谢，萨米尔

# c - 关于 pthread_t 指针转换的警告

> ID：11857874
> 
> 赞同：0
> 
> 时间：2012-08-08T04:55:41.037
> 
> 标签：c, pthreads

我制作了这个测试代码来尝试将thread2的pthread_t传递给thread1，并制作了让`main thread`等待`thread1`完成而不是`thread1`等待`thread2`完成的代码：

```
 void *function_thread1(void *ptr){
      pthread_t thread2;
      thread2 = (pthread_t *)ptr;
      printf("the end of the thread1\n");
      pthread_join(thread2,NULL);
      pthread_exit(0);

    }

void *function_thread2(void *ptr){
  printf("the end of the thread2\n");
  pthread_exit(0);
}

int main(void){
  pthread_t thread1,thread2;
  pthread_t *ptr2;
  ptr2 = &thread2;
  pthread_create(&thread1,NULL,function_thread2,(void*) ptr2);
  pthread_create(&thread2,NULL,function_thread1,NULL);
  printf("This is the end of main thread\n");
  pthread_join(thread1,NULL);
  exit(0);
} 
```

它有效，但我收到以下我不知道的警告：

```
thread_join.c:12:10: warning: incompatible pointer to integer conversion
      assigning to 'pthread_t' (aka 'unsigned long') from 'pthread_t *'
      (aka 'unsigned long *'); dereference with *
        thread2 = (pthread_t *)ptr;
                ^ ~~~~~~~~~~~~~~~~
                  *
1 warning generated. 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:57:32.187

你应该这样做：

```
pthread_t *thread2;
thread2 = ptr;

pthread_join(*thread2, NULL); 
```

# android - 从 LocationManager 获取多个 NETWORK_PROVIDER

> ID：11857875
> 
> 赞同：0
> 
> 时间：2012-08-08T04:55:42.697
> 
> 标签：android, networking, provider, locationmanager

LocationManager 在获取位置数据时如何选择使用哪个 NETWORK_PROVIDER？我希望能够识别 LocationManager 从中选择 NETWORK_PROVIDER 的提供者。

例如，附近有两个 NETWORK_PROVIDER 位置，X（接近）和 Y（不那么接近）。当站在一个地方时，有时 NETWORK_PROVIDER 会是 X，有时是 Y。我假设返回精度最高的位置（这就是通常返回 X 的原因），并且所有其他网络都被忽略，但我想同时返回所有附近网络（或至少前 2 或 3 个）的列表。

任何 .getProvider() 方法（据我所知）都返回提供者的类型（网络、gps、被动），但没有任何东西可以实际识别提供者。返回位置时，位置数据对于提供者来说是唯一的，但不能用于选择提供者。我可以从 X 获取数据，但我不能告诉程序忽略 X（或者我可以吗？）。

无论如何要做到这一点？要返回 NETWORK_PROVIDERS 的列表或数组，然后逐步通过它们获取位置数据？

不，使用 GPS_PROVIDER 不是一个可接受的答案，因为我只需要 NETWORK_PROVIDER 数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T10:43:52.523

这个答案不是基于任何证据，而是我对位置提供者如何工作的理解。当您请求 NETWORK_PROVIDER 时，您基本上是在要求它为您提供他们根据所有可用信息估计的位置。例如，您可能有 3 个 wifi 网络和 2 个手机信号塔，并且该信息被发送到 Internet 上的服务器。使用该信息，他们会计算出他们认为您在哪里，并将其返回给您。因此，换句话说，network_provider 位置基于您的手机可用的所有 wifi/cell-tower 信息的总和。

单独来说，wifi热点并不能告诉你太多关于你在哪里的信息。手机信号塔会为您提供一些位置信息，但您需要一些来源才能准确地对您的位置进行三角测量。另外，请注意您需要互联网/数据连接，因为该位置是由某些服务器确定的，而不是在您的手机上完成的。这是因为如果没有将每个热点映射到其物理位置的数据库，了解附近的 wifi 热点（更具体地说是 MAC 地址）是没有用的。

# android - 在 Facebook 墙上发布 ScrollView 内容

> ID：11857882
> 
> 赞同：2
> 
> 时间：2012-08-08T04:56:41.010
> 
> 标签：android, facebook, scrollview

我在我的应用程序中使用了 ScrollView。它包含一个 LinearLayout 作为子视图和一些其他视图，如 TextViews、Buttons 等......作为子视图。现在我想将滚动视图的内容作为图像发布在 FaceBook 墙上。我找不到合适的帖子。

```
 **My question is how to post ScrollView/Layout content on facebook wall?...** 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:13:59.090

使用此功能将您的视图转换为位图图像

```
public Bitmap getBitmapFromView(View view) {
    Bitmap returnedBitmap = Bitmap.createBitmap(480, 640,Bitmap.Config.ARGB_8888);
    Canvas canvas = new Canvas(returnedBitmap);
    Drawable bgDrawable =view.getBackground();
    if (bgDrawable!=null) 
        bgDrawable.draw(canvas);
    else 
        canvas.drawColor(Color.WHITE);
    view.draw(canvas);
    return returnedBitmap;
} 
```

然后在 facebook 墙上张贴位图图像

希望能帮到你。。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:53:38.540

我将上面的代码更改为

```
public Bitmap getBitmapFromView(View view) {

    Bitmap returnedBitmap = Bitmap.createBitmap(view.getMeasuredWidth(),
                  view.getMeasuredHeight() , Bitmap.Config.ARGB_8888);
    Canvas canvas = new Canvas(returnedBitmap);
    Drawable bgDrawable = view.getBackground();
    if (bgDrawable != null)
        bgDrawable.draw(canvas);
    else
        canvas.drawColor(Color.WHITE);
    view.draw(canvas);
            return returnedBitmap;
} 
```

它工作正常并获得所有内容的位图。

# events - Box.com 事件 API - 从流中删除的旧事件？

> ID：11857883
> 
> 赞同：1
> 
> 时间：2012-08-08T04:56:41.693
> 
> 标签：events, stream, position, box-api

我一直在针对一个相对较新的帐户（创建于 2012 年 6 月 13 日）测试事件 API。直到今天，对流位置为 0 的事件 API 的调用将返回帐户上发生的第一个事件。这使我能够跟踪已添加到我的帐户的所有文件，而无需遍历文件夹层次结构。从本周开始，在我开设帐户后的前几天，我将不再收到上传活动。我的电话如下：

```
curl 'https://www.box.com/api/2.0/events?stream_type=changes&limit=100&stream_position=0' -L -H 'Authorization: BoxAuth api_key=xxxxx&auth_token=xxxxx' 
```

旧事件是否会不时从事件队列中删除？如果是这样，有什么方法可以知道队列退了多远？（假设旧事件确实被丢弃，仅检查队列中最早的项目是不可靠的，因为如果该事件比我处理的最后一个事件更新，则无法判断该帐户是否刚刚处于非活动状态或临时事件已被丢弃。）

任何指导将不胜感激。希望我只是做错了什么，而旧的事件仍然可以通过一种或另一种方式访问​​。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T16:54:49.673

事件不会在用户帐户的生命周期内维护。由于我们仍在研究 API 的使用情况，因此尚未指定保存事件的具体时间长度，但我们将在 v2 API 成为 GA 之前指出这一点。

# html - filezilla 连接失败

> ID：11857891
> 
> 赞同：0
> 
> 时间：2012-08-08T04:57:18.670
> 
> 标签：html, ftp, filezilla

我尝试使用 filezilla 连接到我的网站 ftp，但此错误不断出现：

```
 Status: Waiting to retry...
    Status: Resolving address of helloworld.net
    Status: Connecting to 12.345.678.910:11
    Status: Connection attempt failed with "EACCES - Permission denied".
    Error:  Could not connect to server 
```

我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T09:58:02.040

检查您的防火墙以及可能需要的任何端口转发。

[http://forum.filezilla-project.org/viewtopic.php?f=2&t=7704&p=72986](http://forum.filezilla-project.org/viewtopic.php?f=2&t=7704&p=72986)

# dll - LoadLibrary MSVCRT 问题

> ID：11857897
> 
> 赞同：1
> 
> 时间：2012-08-08T04:57:36.340
> 
> 标签：dll, loadlibrary, msvcrt

有两个问题让我很困惑：

1.  我从微软网站上读到，我们不能在同一个项目中使用不同的 C 运行时。假设我有一个用 /MT 标志编译的 dll，那么我不能在 /MD 编译的项目中使用该 dll。我的问题是，如果我使用 LoadLibrary() 加载 dll，我是否也需要拥有相同的 C 运行时？如果我不这样做有什么潜在的危险？

2.  我认为使用 /MT 标志，运行时静态链接到二进制文件中。但是对于我的一个 dll 项目，我用 /MT 制作了一个 dll。但是，当我转储bin.exe /dependents mydll 时，它显示MSVCR100.dll 是一个依赖项。我的问题是为什么dll仍然依赖于MSVCR100.dll？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T09:43:50.290

1) 不，这不是要求。这发生在任何程序中，例如 Windows DLL 使用它们自己的 CRT。然而，在一个程序中混合 CRT 是非常危险的，并且可能导致非常难以诊断问题。Windows api 经过精心设计以避免这些问题，它们从不需要代码来释放在 DLL 中分配的内存，不使用异常，不使用标准 C++ 库类，不依赖于语言环境或任何其他类型共享 CRT 状态。混合时会出错的那种事情。限制自己使用 C 或 COM api 有助于避免这些陷阱。

2) 当您链接使用 /MD 编译的代码时，会发生这种情况。与您链接的 .libs 常见。

当您的项目中有 DLL 并使用完全相同的编译器和选项编译*所有代码时，始终使用 /MD 可以避免麻烦。*不是你自己构建的静态库很麻烦，避免使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T08:50:18.317

关于你的 2\. 问题，依赖是间接的。您的 DLL 使用依赖于 MSVCR100.dll 的 DLL。使用[Dependency walker](http://www.dependencywalker.com/)，您可以查看组件的依赖关系树，并查看直接和间接依赖的库。

# c++ - 我可以在同一时间执行并获得相同功能的输出的哪种技术？

> ID：11857901
> 
> 赞同：1
> 
> 时间：2012-08-08T04:58:03.277
> 
> 标签：c++, image-processing, parallel-processing

根据上一个问题[如何找到ROI和检测内部标记](https://stackoverflow.com/questions/11553332/how-can-i-find-roi-and-detect-markers-inside)，谢谢专业人士的帮助。我已经完成了那个任务。:)

我的下一个与之前相关的问题，现在我想通过同时调用具有不同参数（作为 blob 编号）的检测函数（名为 track(param)）来单独跟踪每个 blob，然后函数将返回 blob 位置的输出.

哪些技术可以同时执行相同的功能？我对[OpenMP](http://openmp.org/wp/about-openmp/)、[OpenCL](http://www.khronos.org/opencl/)和一些可能同时返回输出的并行编程感到困惑？

抱歉英语不好。感谢所有帮助者:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:35:52.573

在我看来，您只需要多线程，这可以通过诸如[Boost Thread](http://www.boost.org/doc/libs/1_50_0/doc/html/thread.html)之类的库来完成。您可以生成多个线程来跟踪每个 blob。然后您可以在最后使用 join 来确保所有线程都完成并组合结果

# c# - 远程服务器返回意外响应：(413) Request Entity Too Large

> ID：11857902
> 
> 赞同：1
> 
> 时间：2012-08-08T04:58:06.523
> 
> 标签：c#, wcf, wcf-binding

如果有人能帮我弄清楚为什么在调用我的 WCF 服务时会出现以下错误，我将永远感激不尽。

> 已超出传入邮件 (65536) 的最大邮件大小配额。要增加配额，请在适当的绑定元素上使用 MaxReceivedMessageSize 属性。

我尝试在服务和客户端上修改配置文件，并确保服务名称包含命名空间。我似乎无法取得任何进展。

这是我的服务配置设置：

```
<services>
      <service name="CCC.CA-CP &amp; Sightlines Campus Carbon Calculator">
        <endpoint address="" binding="basicHttpBinding" bindingConfiguration="Binding2" contract="CCC.ICCCService" behaviorConfiguration="WebBehavior2" />

      </service>

    </services>
    <bindings>
      <basicHttpBinding>
        <binding name="Binding2" sendTimeout="00:01:00" allowCookies="false" bypassProxyOnLocal="false"
          hostNameComparisonMode="StrongWildcard" maxBufferSize="2147483647"
          maxBufferPoolSize="52428800" maxReceivedMessageSize="2147483647" messageEncoding="Text"
          textEncoding="utf-8" transferMode="Buffered" useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="2147483647" maxArrayLength="16384"
            maxBytesPerRead="20000" maxNameTableCharCount="16384" ></readerQuotas>

        </binding>
      </basicHttpBinding>

    </bindings>

..
     <dataContractSerializer maxItemsInObjectGraph="12097151"  />
...
       <requestLimits maxAllowedContentLength="157286400" />
... 
<httpRuntime  useFullyQualifiedRedirectUrl="true" maxRequestLength="2147483647"... 
```

我还使用相同的绑定值设置客户端配置。

这是服务合同：

```
namespace CCC
{
    [ServiceContract(Name = "CA-CP & Sightlines Campus Carbon Calculator", Namespace = "http://www.sightlines.com/CCC/01")]
    public interface ICCCService
    {

....
} 
```

提前感谢您提供的任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T01:43:51.650

服务标签的名称属性没有类实现的名称。它在服务接口的“ServiceContract”属性中具有名称。感谢 Vinay Kumar 的建议。

# php - PHP const 数组访问

> ID：11857903
> 
> 赞同：2
> 
> 时间：2012-08-08T04:58:19.520
> 
> 标签：php, arrays, enums, constants, associative-array

我试图了解如何使用 PHP 中的关联数组和 const 构建一种知识树/本体。以下示例显示了我正在尝试做的事情：

```
class Fruit {
    public static $TYPES = array("APPLE" => array("GREEN" => Apple::GREEN), array("RED" => Apple::RED)); 
}

class Apple {
    public static $GREEN = array("GRANNY_SMITH" => array("FLAVOUR" => array(Flavour::SHARP, Flavour::SWEET)), 
                                 "GOLDEN_DELICIOUS" => array("FLAVOUR" => array(Flavour::SWEET, Flavour::BLAND))); 

    public static $RED = array("RED_DELICIOUS" => array("FLAVOUR" => array(Flavour::SOUR, Flavour::SHARP)), 
                               "PAULA_RED" => array("FLAVOUR" => array(Flavour::SWEET, Flavour::SOUR)));  
}

class Flavour {
    const SHARP = "sharp";
    const SWEET = "sweet";
    const SOUR = "sour";
    const BLAND = "bland";
} 
```

从这里我希望能够检索类似的值：

```
$flavours = Fruit::TYPES["APPLE"]["GREEN"]["GOLDEN_DELICIOUS"]; 
```

所以基本上我得到了一个与金冠苹果相关的口味列表......有没有更好的方法来表示像这样在 PHP 中的静态数据树？在Java中我会使用枚举...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T06:45:27.033

回答关于不可变数组的评论：

```
类 ImmutableArray 扩展 ArrayObject
{
    const ERROR = '不可变数组！';

    公共函数 __construct($input, $flags = 0, $iterator_class = 'ArrayIterator') {
        父::__construct($input, $flags, $iterator_class);
    }

    公共函数 __get($key) {
        返回 $this->offsetGet($key);
    }

    公共函数 __isset($key) {
        返回 $this->offsetExists($key);
    }

    公共函数 __set($key, $value) {
        抛出新异常（self::ERROR）；
    }

    公共函数 __unset($key) {
        抛出新异常（self::ERROR）；
    }

    公共函数追加（$值）{
        抛出新异常（self::ERROR）；
    }

    公共函数 asort() {
        抛出新异常（self::ERROR）；
    }

    公共函数 ksort() {
        抛出新异常（self::ERROR）；
    }

    公共函数 natcasesort() {
        抛出新异常（self::ERROR）；
    }

    公共函数 natsort() {
        抛出新异常（self::ERROR）；
    }

    公共函数 offsetSet($key, $value) {
        抛出新异常（self::ERROR）；
    }

    公共函数 offsetUnset($key) {
        抛出新异常（self::ERROR）；
    }

    公共函数 uasort($cmp_function) {
        抛出新异常（self::ERROR）；
    }

    公共函数 uksort($cmp_function) {
        抛出新异常（self::ERROR）；
    }
}

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-20T16:42:46.717

对于任何寻找现代 PHP 版本答案的人：因为 php 5.6 const 数组和复杂的初始化是在 PHP 中实现的。查看[php 5.6 中的新功能](http://php.net/manual/en/migration56.new-features.php)

```
class Fruit {
    const TYPES = [
        "APPLE" => ["GREEN" => Apple::GREEN, "RED" => Apple::RED]
    ]; 
}

class Apple {
    const GREEN = [
        "GRANNY_SMITH" => ["FLAVOUR" => [Flavour::SHARP, Flavour::SWEET]], 
        "GOLDEN_DELICIOUS" => ["FLAVOUR" => [Flavour::SWEET, Flavour::BLAND]]
    ]; 

    const RED = [
        "RED_DELICIOUS" => ["FLAVOUR" => [Flavour::SOUR, Flavour::SHARP]], 
        "PAULA_RED" => ["FLAVOUR" => [Flavour::SWEET, Flavour::SOUR]]
    ];  
}

class Flavour {
    const SHARP = "sharp";
    const SWEET = "sweet";
    const SOUR = "sour";
    const BLAND = "bland";
}

var_dump(Fruit::TYPES["APPLE"]["GREEN"]["GOLDEN_DELICIOUS"]); 
```

上面的代码将输出（如预期的那样）：

> 数组（1）{'FLAVOUR'=>数组（2）{[0]=>字符串（5）“甜” [1](http://php.net/manual/en/migration56.new-features.php) =>字符串（5）“平淡”}}

# ruby - Active Record 按组大小排序

> ID：11857904
> 
> 赞同：6
> 
> 时间：2012-08-08T04:58:27.920
> 
> 标签：ruby, ruby-on-rails-3, activerecord

我有一个活动记录查询，我正在使用 group_by

```
@foo = Foo.group_by(&:relation) 
```

然后在我正在使用的视图中

```
@foo.each do |group, values|
 group x has values.count elements
end 
```

有没有办法按每组的数量对这些进行排序？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-08T05:14:09.363

group_by 不是 ActiveRecord 方法， group 是。group_by 是一个枚举器方法。

关于什么

```
@foo = Foo.group('relation').order('count_id asc').count('id') 
```

取自[“分组依据”计数的“排序依据”结果？](https://stackoverflow.com/questions/7131109/order-by-result-of-group-by-count).

否则，如果你想在 Ruby 级别对其进行排序，你可以这样做

```
disordered_hash = {:two=>[1, 2], :one=>[1], :three=>[1, 2, 3]}
ordered_array = disordered_hash.sort {|k, v| k[1].count <=> v[1].count} # add .reverse if you want
# => [[:one, [1]], [:two, [1, 2]], [:three, [1, 2, 3]]] 
```

# eclipse - 如何在 Eclipse 自动内容辅助中使用 ant-contrib 任务

> ID：11857906
> 
> 赞同：2
> 
> 时间：2012-08-08T04:58:42.443
> 
> 标签：eclipse, ant, content-assist, ant-contrib

我有 Eclipse Ganymede，并希望将自动内容辅助功能用于`ant`. 我有`ant-contrib-1.0b3.jar`我的。

eclipse 中需要什么配置才能使用自动内容辅助，它也可以包括任务`ant-contrib`？

当我使用以下`ant`可以识别 ant-contrib 的任务但内容辅助不起作用时？

```
<!-- Define classpath for ant-contrib tasks -->
<path id="ant.contrib.classpath">
    <fileset dir="/path/to/lib/">
        <include name="ant-contrib-1.0b3.jar" />
    </fileset>
</path>

<!-- Task definition -->
<taskdef resource="net/sf/antcontrib/antcontrib.properties">
    <classpath refid="ant.contrib.classpath" />
</taskdef> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T06:55:17.263

请尝试以下方法。

我知道对于 Ant 1.6 及更高版本，您需要引用 antcontrib XML 文件，而不是像这样的属性文件：

```
<!-- Task definition -->
<taskdef resource="net/sf/antcontrib/antlib.xml">
    <classpath refid="ant.contrib.classpath" />
</taskdef> 
```

这也详细**[在这里](http://ant-contrib.sourceforge.net/tasks/index.html)**。

除此之外，`Preferences -> Ant -> Editor -> Content Assist`检查`Provide proposals for user defined tasks`是这样检查的（这也是默认设置）：

![在此处输入图像描述](../Images/e86e4858d451a35fc5bc5f85ca0c20b1.png)

如果上述两个都到位，您应该获得如下所示的内容辅助（这是您帖子中的代码，唯一的区别是，它已经替换了对`antcontrib.properties`with的引用`antlib.xml`）：

![在此处输入图像描述](../Images/261010d1672e7392f43bc5fdb37bfe05.png)

在 Eclipse Indigo SR2（64 位）上，用 xml 替换对属性文件的引用对我来说完全不同。

我检查以确保此功能（用户定义的 ant 任务的内容辅助）*至少*从 Eclipse 3.3 开始可用。Ant Editor 中存在与 Eclipse 3.3 中的此功能特别相关的性能问题，但同样的问题已得到解决。

# javascript - XPCOM组件的创建

> ID：11857907
> 
> 赞同：0
> 
> 时间：2012-08-08T04:58:46.897
> 
> 标签：javascript, firefox, browser, xpcom

我正在使用[教程](http://www.codeproject.com/Articles/87465/A-Simple-XPCOM-Tutorial)作为参考创建一个 XPCOM 组件。但是，当我运行以下命令时，它成功完成但不生成任何`.h`文件：

```
xpidl -m header -I [XUL_RUNNER SDK\IDL] myfile.idl 
```

这是为什么？XPCOM过时了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:46:04.620

不，XPCOM 并没有过时，但本教程已经过时了。该文档建议使用[pyxpidl](https://developer.mozilla.org/en-US/docs/XPIDL/pyxpidl)：

```
header.py -I [XUL_RUNNER SDK\IDL] -o myfile.h myfile.idl 
```

# php - 找不到匹配项时出现 404 页面

> ID：11857911
> 
> 赞同：0
> 
> 时间：2012-08-08T04:59:17.460
> 
> 标签：php, mod-rewrite

我有这个重写规则：

```
RewriteEngine on
RewriteBase /

RewriteCond %{THE_REQUEST} \.php[\ /?].*HTTP/ [NC]
RewriteRule ^.*$ - [R=404,L]

RewriteRule ^(home|contact|about|submit|search)/?$ /index.php?page=$1 [L]
RewriteRule ^([a-z]+)/([a-z0-9-]+)/?$ /index.php?page=home&cat=$1&slug=$2 [L]
RewriteRule ^([a-z]+)/?$ /index.php?page=home&cat=$1 [L] 
```

我想要的是：

*   如果用户键入的内容与最后三个条件不匹配，我想显示 404 错误。目前它加载主页。所以我`$_GET['page']`在那里办理登机手续。我不想检查 php。
*   你有什么可以改进我的重写规则或任何补充吗？

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T07:11:35.237

您可以使用 mod rewrite 将参数添加到您的网页 index.php，然后在 php 页面中处理它们，可能会返回一个错误页面（如在 cakePHP 中）。只保留一个规则。

```
 RewriteRule ^([0-9A-Za-z]+)/?$ /index.php?argument=$1 [L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:03:15.930

由于一切最终都路由到**index.php**（前端控制器模式），我建议删除`mod_rewrite`并使用：

```
FallbackResource /index.php 
```

然后解析**index.php**中的 URL并相应地处理路由。

这将需要一些重写，但从长远来看会更加灵活。

阅读更多关于PHP[`FallbackResource`](http://httpd.apache.org/docs/trunk/mod/mod_dir.html#fallbackresource)和[Front-Controllers 的](https://stackoverflow.com/questions/4053285/php-frontcontroller)信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T07:16:40.433

尝试使用`ErrorDocument`白色位置页面

```
ErrorDocument 404 /erreur_404.html 
```

# blackberry - 如何使用黑莓的中键启用水平滚动

> ID：11857912
> 
> 赞同：-2
> 
> 时间：2012-08-08T04:59:57.240
> 
> 标签：blackberry, jquery-mobile, jquery-selectors, blackberry-webworks

我用 jquery mobile 开发了一个应用程序，但我想使用设备的中间触摸按钮滚动里面的内容。目前我可以垂直滚动页面，但不能水平滚动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T12:59:42.857

尝试将页面宽度设置为 100% 以上的值。

*如果不发布代码/您已经厌倦了，就无法做太多其他事情来帮助您。*

# c# - 尝试从内部 Zip 文件（另一个 Zip 中的 Zip）获取流时出现“无法将其读取为 Zip 文件”异常

> ID：11857913
> 
> 赞同：5
> 
> 时间：2012-08-08T05:00:03.793
> 
> 标签：c#, dotnetzip

在 C# 中，我使用的是**DotNetZip** ， 我有一个名为“innerZip.zip”的 zip，其中包含一些数据，另一个名为“outerZip.zip”的 zip 包含了 innerZip。我为什么要这样做？好吧，在设置密码时，密码实际上适用于添加到存档中的单个条目，而不是整个存档，通过使用这个内部/外部组合，我可以设置整个内部 zip 的通行证，因为它是外一。

问题是，代码比普通话说得更好：

```
ZipFile outerZip = ZipFile.Read("outerZip.zip");
outerZip.Password = "VeXe";
Stream innerStream = outerZip["innerZip.zip"].OpenReader();
ZipFile innerZip = ZipFile.Read(innerStream); // I'm getting the exception here.
innerZip["Songs\\IronMaiden"].Extract(tempLocation); 
```

为什么我得到那个例外？内部文件是一个 zip 文件，所以我不应该得到那个例外吗？有没有办法解决这个问题，或者我只需要从外部提取内部，然后访问它？

提前谢谢..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-04-08T20:34:34.107

发生此异常是因为创建的`CrcCalculatorStream`流`OpenReader`不可搜索，并`ZipFile.Read(Stream)`在打开 zip 文件时尝试搜索。

zip 压缩的性质防止在压缩内容中寻找某个位置，因此必须按顺序对内容进行解压缩。

解决此问题的一种方法是将内部 zip 文件提取到 a`MemoryStream`然后通过`ZipFile.Read`.

```
MemoryStream ms = new MemoryStream();
outerZip["innerZip.zip"].Extract(ms);
ms.Seek(0, SeekOrigin.Begin);
ZipFile innerZip = ZipFile.Read(ms);
innerZip["Songs\\IronMaiden"].Extract(tempLocation); 
```

# algorithm - 生成具有成对不同行和列的随机矩阵

> ID：11857919
> 
> 赞同：2
> 
> 时间：2012-08-08T05:01:00.840
> 
> 标签：algorithm, math, random

我需要随机生成一个 NxN 整数矩阵，范围在 1 到 K 之间，这样所有行和列都分别具有它们的元素成对不同的属性。

例如对于 N=2 和 K=3

还行吧：

```
1 2
2 1 
```

这不是：

```
1 3
1 2 
```

（请注意，如果 K < N 这是不可能的）

当 K 比 N 足够大时，一个足够有效的算法就是生成一个由 1..K 个整数组成的随机矩阵，检查每一行和每一列是否成对不同，如果不是再试一次。

但是如果 K 比 N 大不了多少呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T09:08:24.257

这不是一个完整的答案，而是一个关于不起作用的直观解决方案的警告。我假设“随机生成”是指*在所有现有此类矩阵上具有统一概率*。

对于 N=2 和 K=3，这里是可能的矩阵，直到集合 [1..K] 的排列：

```
1 2    1 2    1 2
2 1    2 3    3 1 
```

（因为我们忽略了集合 [1..K] 的排列，我们可以假设 wlog 的第一行是`1 2`）。

现在，一种直观（但不正确）的策略是逐个绘制矩阵条目，确保每个条目与同一行或列上的其他条目不同。要了解它为什么不正确，请考虑我们已经绘制了这个：

```
1 2
x . 
```

我们现在正在绘制 x。x 可以是 2 或 3，但如果我们给每个可能性 1/2 的概率，那么矩阵

```
1 2
3 1 
```

最后会得到 1/2 的概率，而它应该只有 1/3 的概率。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T11:47:44.040

这是一个（文本）解决方案。我不认为它提供了很好的随机性，但无论如何它对您的应用程序来说可能没问题。

让我们使用以下算法在 [0;K-1] 范围内生成一个矩阵（如果您愿意，您将对所有元素执行 +1）：

*   使用您想要的任何随机方法生成第一行。
*   每个数字将是随机序列的第一个元素，计算方式是保证您在后续行中没有重复，即对于任何不同的列 x 和 y，您将有 x[i]!=y[i ] 对于 [0;N-1] 中的所有 i。
*   计算前一行的每一行。

所有算法都基于具有我提到的属性的随机生成器。通过快速搜索，我发现[Inversive congruential generator](http://en.wikipedia.org/wiki/Inversive_congruential_generator)满足此要求。这似乎很容易实现。如果 K 是素数，则有效；如果 K 不是素数，请参见同一页上的“复合逆生成器”。也许处理完美的平方或立方数会有点棘手（你的问题听起来像数独 :-)），但我认为通过创建具有 K 的素数和不同参数化的复合生成器是可能的。对于所有生成器，每列的第一个元素是种子。

无论 K 的值是多少，复杂度仅取决于 N，并且为 O(N^2)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T07:05:40.073

1.  确定性地生成具有所需行和列属性的矩阵。如果 K > N，这可以通过以 i 开始第 i 行并用 i+1、i+2 等填充行的其余部分来轻松完成，在 K 之后回绕回 1。其他算法也是可能的。
2.  随机排列列，然后随机排列行。

让我们展示置换行（即取出整行并以某种顺序从它们中组装一个新矩阵，每行可能处于不同的垂直位置）使行和列的所需属性保持不变，假设它们之前是正确的。同样的推理也适用于列排列，以及任何一种排列的任何序列。

1.  简单地说，置换行不能改变在每一行中没有元素出现多次的属性。
2.  在特定列上排列行的效果是重新排序该列中的元素。这适用于任何列，并且由于重新排序元素不能产生以前没有的重复元素，因此置换行不能改变在每列中没有元素出现多次的属性。

我不确定该算法是否能够生成所有可能的满足矩阵，或者如果可以，它是否会以相等的概率生成所有可能的满足矩阵。另一个我没有答案的有趣问题是：需要多少轮行排列然后列排列？更准确地说，是否有任何有限的 row-perm-then-column-perm 轮次序列等效于有限数量的（或特别是一个）row-perm-then-column-perm 轮次？如果是这样，那么在第一行和第一列排列之后的进一步排列不会获得任何东西。也许有较强数学背景的人可以发表评论。但无论如何它可能已经足够好了。

# javascript - 从一个 jqGrid 中删除行并将其添加到另一个

> ID：11857920
> 
> 赞同：0
> 
> 时间：2012-08-08T05:01:03.550
> 
> 标签：javascript, jquery, ajax, jquery-plugins, jqgrid

我有两个相同的 jqGrid（“in_table”和“out_table”），除了它们的数据。感谢我在[这篇文章](https://stackoverflow.com/questions/11743983/adding-a-custom-button-in-row-in-jqgrid)中收到的帮助，我现在了解如何添加可自定义的按钮。按下按钮时，我想从表中删除该行并将其添加到另一个。

以下代码在按下按钮时调用，是不可预测的 - 它工作了一段时间，然后停止工作！
控制台显示错误：

```
Uncaught TypeError: Cannot read property 'name' of undefined 
```

**代码：**

```
function sign_in_out_action(myself,rowid,icol,cellcontent,e){
    var this_row = myself.getRowData(rowid);
    if( in_out_button_content(cellcontent)== "In"){
    alert('Signing OUT');
    this_row.in_out = "Out";
    $('#out_table').jqGrid('addRowData',1,this_row);
    myself.delRowData(rowid);
    }
    else{
    if( in_out_button_content(cellcontent)== "Out"){
        alert('Signing in');
        this_row.in_out = "In";
        $('#in_table').jqGrid('addRowData',1,this_row);
        myself.delRowData(rowid);
    }
    else{
        alert("what?  "+in_out_button_content(cellcontent));
    }
    } 
```

删除和添加数据似乎很简单。我将不胜感激任何洞察我做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:09:33.107

我认为您可以定义两个功能，一个是为网格添加一行，另一个是删除网格的一行。

然后您可以为自定义按钮添加点击功能。

```
// delete row
function deleteRow(tableId, rowId) {
        $('#' + tableId).jqGrid('delRowData', rowId);
        return false;
}

    var index = 999;
// add a row
    function addRow(tableId, c1, c2) {
        var datarow = { Id: c1, Name: c2 };

        var lastsel2 = index;
        index++;
        var su = jQuery('#' + tableId).addRowData(lastsel2, datarow, 'last');
        if (su) {
            jQuery('#' + tableId).jqGrid('editRow', 0, true);
        }
    } 
```

c1、c2 是列值。（您可能有五列，因为您可以定义 c1、c2、c3、c4、c5）。

以下代码用于获取单元格值：

```
var c1 = $('#' + tableId).getCell(rowId, 'Id');
var c2 = $('#' + tableId).getCell(rowId, 'Name'); 
```

# asp.net - 基于超时删除 SQL 中的无效记录

> ID：11857923
> 
> 赞同：1
> 
> 时间：2012-08-08T05:01:24.733
> 
> 标签：asp.net, sql, sql-server-2005

我有一张表，它根据用户名存储员工通过 Time Machine 的签到时间。如果员工多次打卡，那么他的签到记录就会有多个。所有在第一条记录后 1 分钟内出现的记录均无效，必须删除。如果比第一条记录晚一分钟的记录有效，不得删除。那么这个第二个有效记录也可能包含在这个第二个有效记录的1分钟内无效的后续记录。这些记录也应该被删除，依此类推。如何在当前日期的员工的所有签到记录上执行此操作？flag 字段不在 db 中，它只是说明哪个记录有效，哪个记录无效。

```
The Data in the db is as follows.

Username               Checktime                       CheckType          Flag
 HRA001            7/29/2012 8:16:44 AM                Check-In           Valid 
 HRA001            7/29/2012 8:16:46 AM                Check-In           Invalid
 HRA001            7/29/2012 8:16:50 AM                Check-In           Invalid
 HRA001            7/29/2012 8:17:30 AM                Check-In           Invalid 
 HRA001            7/29/2012 8:17:50 AM                Check-In           Valid 
 HRA001            7/29/2012 8:17:53 AM                Check-In           Invalid
 HRA001            7/29/2012 8:18:40 AM                Check-In           Invalid
 HRA001            7/29/2012 8:18:54 AM                Check-In           Valid 
 HRA001            7/29/2012 8:18:56 AM                Check-In           Invalid
 HRA001            7/29/2012 8:18:58 AM                Check-In           Invalid
 HRA001            7/29/2012 8:19:55 AM                Check-In           Valid
 HRA001            7/29/2012 8:20:58 AM                Check-In           Valid 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T06:09:52.647

试试这个：

```
;WITH users_CTE as 
(
 select *,row_number() over (partition by Username order by Checktime) as row from users
)
,CTE as(
select row,Username,Checktime,CheckType,0 as totalSeconds,'N' as Delflag from users_CTE where row=1 
union all
select t.row,t.Username,t.Checktime,t.CheckType,CASE WHEN (c.totalSeconds + DATEDIFF(SECOND,c.Checktime,t.Checktime))  >= 60 then 0 else (c.totalSeconds + DATEDIFF(SECOND,c.Checktime,t.Checktime)) end as totalSeconds,
CASE WHEN (c.totalSeconds + DATEDIFF(SECOND,c.Checktime,t.Checktime))  >= 60 then 'N' else 'Y' end as Delflag
--CASE WHEN c.totalSeconds <= 60  then 'Y' else 'N' end as Delflag
from users_CTE t inner join CTE c
on t.row=c.row+1
)

select Username,Checktime,CheckType,Delflag from CTE 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T10:58:58.100

```
;WITH users_CTE as 
(
 select *,row_number() over (partition by USER_NAME order by CHECKTIME) as row from daily_machine_data
WHERE Convert(varchar(10),CHECKTIME,101) = Convert(varchar(10),GetDate(),101) AND USER_NAME='HRA002'
)
,CTE as(
select row,USERID,USER_NAME,CHECKTIME,CHECKTYPE,VERIFYCODE,CHK_DATE,CHK_TIME,IP_ADDRESS,MACHINE_NO,0 as totalSeconds,'N' as Delflag from users_CTE where row=1 
union all
select t.row,t.USERID,t.USER_NAME,t.CHECKTIME,t.CHECKTYPE,t.VERIFYCODE,t.CHK_DATE,t.CHK_TIME,t.IP_ADDRESS,t.MACHINE_NO,
CASE WHEN (c.totalSeconds + DATEDIFF(SECOND,c.CHECKTIME,t.CHECKTIME))  >= 60 then 0 else (c.totalSeconds + DATEDIFF(SECOND,c.CHECKTIME,t.CHECKTIME)) end as totalSeconds,
CASE WHEN (c.totalSeconds + DATEDIFF(SECOND,c.CHECKTIME,t.CHECKTIME))  >= 60 then 'N' else 'Y' end as Delflag
--CASE WHEN c.totalSeconds <= 60  then 'Y' else 'N' end as Delflag
from users_CTE t inner join CTE c
on t.row=c.row+1
)
INSERT INTO TempMachineData(USERID,USER_NAME,CHECKTIME,CHECKTYPE,VERIFYCODE,CHK_DATE,CHK_TIME,IP_ADDRESS,MACHINE_NO)
select USERID,USER_NAME,CHECKTIME,CHECKTYPE,VERIFYCODE,CHK_DATE,CHK_TIME,IP_ADDRESS,MACHINE_NO from CTE
WHERE Delflag='N'

DELETE FROM daily_machine_data 
WHERE USER_NAME = 'HRA002' AND Convert(varchar(10),CHECKTIME,101) = Convert(varchar(10),GetDate(),101)

INSERT INTO daily_machine_data(USERID,USER_NAME,CHECKTIME,CHECKTYPE,VERIFYCODE,CHK_DATE,CHK_TIME,IP_ADDRESS,MACHINE_NO)
select USERID,USER_NAME,CHECKTIME,CHECKTYPE,VERIFYCODE,CHK_DATE,CHK_TIME,IP_ADDRESS,MACHINE_NO from TempMachineData

DELETE FROM TempMachineData 
```

# .htaccess - 解析到主站点 URL 的子域

> ID：11857924
> 
> 赞同：0
> 
> 时间：2012-08-08T05:01:27.507
> 
> 标签：.htaccess, cdn

我在网站上有子域来托管 CDN 图像。让我们称之为 cdn.mysite.com。

现在我网站上的所有页面也可以通过这种方式访问​​：

[www.mysite.com/examplepage.html](http://www.mysite.com/examplepage.html)

也可以在

[cdn.mysite.com/examplepage.html](http://cdn.mysite.com/examplepage.html)

这会导致 Google 中出现重复的 URL。

我正在将 Cloudflare 与 Edgecast CDN 一起使用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:14:03.190

当您设置子域时，您是否为其分配了文档根目录？

例如：

我设置了子域cohen.digitaldemo.net，其文档根为digitaldemo.net/cohen/

我网站上 /cohen 文件夹之外的任何内容都无法通过 cohen.digitaldemo.net 访问。

最好的，

辛西娅

# html - html中的括号引用

> ID：11857928
> 
> 赞同：0
> 
> 时间：2012-08-08T05:02:17.550
> 
> 标签：html

任何人都可以向我解释以下代码：

```
<li><a class="xo-gbnavmod3" href="<{xoAppUrl modules/tdgallery/}>" accesskey="g"  title="<{$smarty.const.THEME_MODULE3_DESC}>"><{$smarty.const.THEME_MODULE3}></a></li> 
```

html 中的 <{}> 是什么？上面的链接是错误的 tdgallery，我想将其更改为 tadgallery，但是当我更改它时，我网站中的链接也导航到旧的错误链接。我应该怎么办 ？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:06:11.310

它看起来像是使用 PHP Smarty 模板引擎的东西。

见：[http ://www.smarty.net](http://www.smarty.net)

*** 编辑 ***我的错误......它实际上似乎是 XOOPS。

# r - 在 ggplot2 中绘制每个级别的平均值

> ID：11857935
> 
> 赞同：28
> 
> 时间：2012-08-08T05:02:54.557
> 
> 标签：r, ggplot2

我正在使用 ggplot2 并试图生成一个显示以下数据的图。

```
df=data.frame(score=c(4,2,3,5,7,6,5,6,4,2,3,5,4,8),
              age=c(18,18,23,50,19,39,19,23,22,22,40,35,22,16))
str(df)
df 
```

而不是做变量的频率图（见下面的代码），我想为每个 x 值生成一个平均值图。所以我想绘制每个年龄段的平均分数。在 x 轴上 18 岁时，我们可能在 y 轴上有一个**3**来表示分数。在 23 岁时，我们的平均分数可能为**4.5**，依此类推（**编辑**：平均值已更正）。理想情况下，这将用条形图表示。

```
ggplot(df, aes(x=factor(age), y=factor(score))) + geom_bar()
Error: stat_count() must not be used with a y aesthetic. 
```

只是不确定如何在 R 中使用 ggplot2 执行此操作，并且似乎在此类图上找不到任何内容。从统计上看，我不知道我想要绘制的情节是否正确，但那是另一家商店。

谢谢！

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-08-08T05:17:00.947

您可以在 中使用汇总函数`ggplot`。以下是实现相同结果的两种方法：

```
# Option 1
ggplot(df, aes(x = factor(age), y = score)) + 
  geom_bar(stat = "summary", fun = "mean")

# Option 2
ggplot(df, aes(x = factor(age), y = score)) + 
  stat_summary(fun = "mean", geom = "bar") 
```

[![在此处输入图像描述](../Images/c9f0066d1d298c19f0702bef121e3db0.png)](https://i.stack.imgur.com/N4f33.png)

旧版本的`ggplot`使用`fun.y`而不是`fun`：

```
ggplot(df, aes(x = factor(age), y = score)) + 
  stat_summary(fun.y = "mean", geom = "bar") 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-08T05:08:20.080

如果我理解你的话，你可以尝试这样的事情：

```
library(plyr)
library(ggplot2)
ggplot(ddply(df, .(age), mean), aes(x=factor(age), y=factor(score))) + geom_bar() 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-08T05:16:42.240

您也可以`aggregate()`在基础 R 中使用，而不是加载另一个包。

```
temp = aggregate(list(score = df$score), list(age = factor(df$age)), mean)
ggplot(temp, aes(x = age, y = score)) + geom_bar() 
```

# ruby-on-rails - 在 Web 应用程序中使用开源代码/软件

> ID：11857937
> 
> 赞同：2
> 
> 时间：2012-08-08T05:03:28.923
> 
> 标签：ruby-on-rails, ruby, web-applications, licensing

我最近在使用开源许可证时遇到了一些麻烦。我开始觉得他们是否有点棘手！所以，我只是在询问权利，归属等..

知道，例如，如果我使用了 GPL 许可的 Ruby Gem，我会安装 gem，使用它，我的 web 应用程序就可以工作了！但是没有提到Gem，它的背后是什么，它的许可证。我不能只是相信我必须为我正在使用的每一个宝石包括那些。我一定要吗？或者我可以*默默地*使用它吗？

那么，一个包含 Rails (MIT)、一些 GPL ruby​​ gem 等的网站，我应该公开包含哪些内容？我想我不会修改任何这些 gem 的源代码.. 是的，如果我必须在我的网页中添加属性，我是否必须链接到许可证，或者更糟糕的是在相同的情况下分发我的源代码执照？

另外，如果我找到了一个教程或类似的东西，它是根据 Creative Commons BY-NC 许可的，如果我不打算在我自己的服务器之外运行它们，我应该分发我的整个作品还是将它放在同一个许可下？如果我想分发我的软件，它使用了教程中的想法（和修改过的代码）怎么办？

使用比拥有更通用的公式怎么样？未安装 gem 时来自 stackoverflow 的单行命令 - 我应该归因于我使用它来安装 gem 吗？我认为当然不是，但只是要求确保整个事情..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:41:39.717

网站通常是程序的输出。就像您使用文字处理器将文本文档保存在磁盘中一样，文档本身不属于专有文字处理器 (MS Word) 的互惠许可或免费软件文字处理器 (Open 或 Libre Office) 的互惠和许可许可作家）。

只有在您创建和分发衍生作品或组合作品（例如将多个程序打包在一个包中）的情况下，您才需要关心许可证。

这肯定总是取决于你所做的具体事情。您需要记录这些具体的事情，然后去找您的律师，然后根据所使用的许可证以及如果有效，您需要执行哪些步骤，找出您在版权是否有效以及如何有效的情况下所做的事情。

在这里，我们都只是软件开发人员（或者如果是律师，不是*你的*律师），所以我们不能给你任何法律支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T07:01:49.350

通常关于许可证的内容可能会与在不同许可证下发布的开源软件有点混淆，并且通常许可证文档通常是用律师行话编写的，这对很多人来说很难理解。

幸运的是，这种问题在 SO 中被问了很多次。只需查看许可标签并按投票排序问题，您应该会发现一些问题几乎可以回答您的问题。特别看这个[问题。](https://stackoverflow.com/questions/94346/can-i-legally-incorporate-gpl-lgpl-open-sourced-software-in-a-proprietary-cl)

# c# - 调用具有返回值的方法...参数

> ID：11857938
> 
> 赞同：0
> 
> 时间：2012-08-08T05:03:36.520
> 
> 标签：c#, class, return

我正在寻找将什么放入 purse.CountMoney(); 的参数中 如果有的话...我有一个心理障碍，因为与非返回方法相比，返回值的方法如何工作...我尝试了总计...双倍总计....嗯，我尝试进入程序，看看是否调试工具可以提供帮助，但我没有任何反应。

任何指导都很棒。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace lab24
{
class Program
{
    static void Main()
    {
        CoinPurse purse = new CoinPurse();

        purse.AddPenny(3);
        purse.AddNickel(4);
        purse.AddDime(2);
        purse.AddQuarter(1);
        purse.CountMoney();
        purse.TakeNickels(4);
        purse.CountMoney();

        Console.ReadLine();
    }
    public class CoinPurse
    {
        private int numPennies;
        private int numNickels;
        private int numDimes;
        private int numQuarters;
        private double total;

        public CoinPurse()
        {
            numPennies = 0;
            numNickels = 0;
            numDimes = 0;
            numQuarters = 0;
            total = 0;
        }
        public void AddPenny(int p)
        {
            numPennies += p;
        }
        public void AddNickel(int n)
        {
            numNickels += n;
        }
        public void AddDime(int d)
        {
            numDimes += d;
        }
        public void AddQuarter(int q)
        {
            numQuarters += q;
        }
        public void TakePenny(int p)
        {
            numPennies -= p;
        }
        public void TakeNickels(int n)
        {
            numNickels -= n;
        }
        public void TakeDime(int d)
        {
            numDimes -= d;
        }
        public void TakeQuarters(int q)
        {
            numQuarters -= q;
        }
        public double CountMoney(double total)
        {
            double q = numQuarters * .25;
            double d = numDimes * .10;
            double n = numNickels * .05;
            double p = numPennies * .01;

            total = q + d + n + p;

            return total;
        }
    }

}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T05:07:10.813

```
var total = 0m;
total = purse.CountMoney(total); 
```

但是，这段代码看起来有点奇怪，你应该传入一个双精度数，只是为了计算它并传回，而不考虑初始值。

就个人而言，我会丢失输入参数`CountMoney()`

```
 public double CountMoney()
        {
           //Existing Code
        } 
```

并按照您的操作返回双精度，然后您可以直接调用它；

```
var total = purse.CountMoney(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T05:11:49.357

将您的方法更改`CountMoney`为如下所示：

```
public double CountMoney()
{
    double q = numQuarters * .25;
    double d = numDimes * .10;
    double n = numNickels * .05;
    double p = numPennies * .01;

    double total = q + d + n + p;

    return total;
} 
```

然后，您可以从如下`Main`方法调用它：

```
static void Main()
{
    CoinPurse purse = new CoinPurse();

    purse.AddPenny(3);
    purse.AddNickel(4);
    purse.AddDime(2);
    purse.AddQuarter(1);
    purse.CountMoney();
    purse.TakeNickels(4);

    double total = purse.CountMoney();

    Console.WriteLine(total);

    Console.ReadLine();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T05:12:58.913

`total`请告诉，您的方法中参数的目的是什么`CountMoney`？是要检索总的钱数吗？然后你需要指定`out`关键字，可能不需要返回值，如下：

### # 1（*没有*关键字）

```
 public void CountMoney(out double total)
    {
        double q = numQuarters * .25;
        double d = numDimes * .10;
        double n = numNickels * .05;
        double p = numPennies * .01;

        total = q + d + n + p;
    } 
```

那么方法`Main`将如下所示：

```
 static void Main()
    {
        CoinPurse purse = new CoinPurse();

        purse.AddPenny(3);
        purse.AddNickel(4);
        purse.AddDime(2);
        purse.AddQuarter(1);
        purse.CountMoney();
        purse.TakeNickels(4);

        double total;
        purse.CountMoney(out total);
        Console.WriteLine(total);

        Console.ReadLine();
    } 
```

您也可以使用返回值以不同的方式进行操作（在这种情况下更自然）。

### # 2（有返回值）

具有返回值的方法`CountMoney`如下所示：

```
 public double CountMoney()
    {
        double q = numQuarters * .25;
        double d = numDimes * .10;
        double n = numNickels * .05;
        double p = numPennies * .01;

        return q + d + n + p;
    } 
```

和方法`Main`将如下所示：

```
 static void Main()
    {
        CoinPurse purse = new CoinPurse();

        purse.AddPenny(3);
        purse.AddNickel(4);
        purse.AddDime(2);
        purse.AddQuarter(1);
        purse.CountMoney();
        purse.TakeNickels(4);

        Console.WriteLine(purse.CountMoney());

        Console.ReadLine();
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T05:15:13.927

我认为您正在尝试添加（如果我错了，请纠正我）所有类型的更改以将您的钱全部放在钱包中，这在这种情况下不起作用，因为变量不会处理初始值并保存结果. 您应该使用 ref 关键字（请参阅以下内容：http: [//msdn.microsoft.com/en-us/library/14akc2c7%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/14akc2c7%28v=vs.71%29.aspx)）或者最好的方法是使用对象（始终认为面向对象）

# php - PHP是一次一个一个地执行吗？

> ID：11857939
> 
> 赞同：1
> 
> 时间：2012-08-08T05:03:36.757
> 
> 标签：php, transactions, rollback

如果很多用户同时调用相同的 PHP 脚本。执行顺序是什么？会排队吗？执行完 1 个会话后，它会执行另一个？

我对服务器端编程很陌生。我正在编写的 PHP 将访问数据库，并使用事务查询数据库（这意味着如果事务中的任何查询失败，则有提交和回滚）。如果 PHP 没有按顺序执行，它显然会搞砸事情。

[补充] 感谢回复，我会更具体的问题：它是一个通过PHP与服务器通信的在线游戏。需要事务以确保一切都是一致的。就像注册一个新玩家一样，我们不希望表格“PlayerData”被插入并且“PlayerInventory”因为一些错误而失败。他们应该整体成功或失败。

所以如果PHPs同时执行，那么“Rollback”或“Commit”可能会回滚或提交其他PHP同时运行的事务。

那么，解决这个问题的方法是什么？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T05:40:18.780

关于你的更新...

每个 php 请求都有自己的 db 连接，因此如果您在一个连接上回滚，它不会影响其他 php 请求。就这么简单:)，只要您使用事务，数据库就应该让您摆脱对不一致的恐惧。

通常php请求使用短生命进程，所以如果你有10个并发用户，每个人都会有自己的进程，请求完成的那一刻进程就会被杀死

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T05:06:46.273

服务器将处理每个传入的请求。面对并发修改，PHP 不会帮助您保持数据完整性。话虽如此，使用数据库事务将帮助您保持数据完整性，因为它会使多个查询看起来是以某种串行（一个接一个）方式执行的。

如果您的 DB 代码在事务中，您的 DBMS 将为您处理事务内容，以使 DB 代码看起来像是一个接一个地执行（即使这实际上不是下面发生的事情）。这是假设您的 DBMS 支持[ACID 事务](https://en.wikipedia.org/wiki/ACID)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T05:08:06.937

取决于您的网络服务器。一个标准的 Apache 安装将有多个并行的子服务请求。如果您有 20 个孩子，并且 20 个人请求相同的脚本，那么您将获得 20 个同时运行的脚本副本。

脚本的每个副本名义上相互独立，每个运行的脚本副本之间没有通信，除非您添加通信通道（例如会话、数据库、共享文件/内存等）。

如果您不能在数据库上并行处理多个请求，那么您必须在数据库中实现适当的事务和表/行锁，以防止这些并行请求相互干扰。它们仍将并行执行，但事务/锁将确保实际的数据库操作是串行的。

# android - 如何将语言从英语转换为阿拉伯语？

> ID：11857943
> 
> 赞同：0
> 
> 时间：2012-08-08T05:04:29.500
> 
> 标签：android, localization

我用英语创建了一个应用程序，它工作正常。现在我想将这种英语转换为 Arebic。我正在关注这个链接。[stackoverflow](https://stackoverflow.com/questions/6236052/how-can-i-change-language-of-my-application)。但没有得到正确的。任何人都可以告诉我任何教程或任何参考资料吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T07:57:05.673

如果您需要添加翻译，请阅读本手册：[本地化指南](http://developer.android.com/guide/topics/resources/localization.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T07:20:28.193

创建资源文件夹：res/values-ar

将您的 strings.xml 文件从 res/values 复制到此文件夹中，并将此文件中的英文字符串翻译成阿拉伯语。

# facebook - Facebook API - 获取生活事件（graph-api 或 FQL）

> ID：11857944
> 
> 赞同：2
> 
> 时间：2012-08-08T05:04:33.587
> 
> 标签：facebook, facebook-graph-api, facebook-fql

在广泛阅读 FB 的 graph-api 和 FQL 文档后，我仍然找不到获取朋友生活事件（例如毕业日期、周年纪念日、新家等）的方法。

在他们的文档中明确提供的唯一事件是生日（这很明显）。

我几乎可以肯定可以执行上述操作，因为 iPhone 应用程序“Karma”（[http://itunes.apple.com/us/app/karma/id457143798?mt=8](http://itunes.apple.com/us/app/karma/id457143798?mt=8)）在登录后会自动提供该信息FB（排除诸如爬我的朋友墙之类的选项，由于FB的权限，这也不太可能）

**有任何想法吗？可能没有记录的 FQL 选择器？**

谢谢！

**编辑：**请注意，Karma 的 Android 应用程序不提供生活事件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-12T07:29:49.293

问题在这里得到了回答：[抓取 Facebook 生活事件](https://stackoverflow.com/questions/12400522/grabbing-facebook-life-events)

这些帖子有一个“类型”，带有一个`code`. 例如，关系状态更改为`code 62`，位置更改为`code 282`。

看链接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-16T06:19:31.003

```
SELECT name, education_history, work_history, relationship_status from user where uid IN (SELECT uid2 FROM friend WHERE uid1 = me()) 
```

You can use this for education and work history or user, but for other your have to pass through their feed using

```
id/feed 
```

and check story edge for filtration.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T07:29:42.880

大多数对用户个人信息（教育、工作、家乡、关系状态）的更改只会生成“正常”状态更新消息——AFAIK 与其他手动状态更新没有区别。

所以我想说一个想要显示这种信息的应用程序必须通过用户的状态消息，并通过查看故事文本来过滤掉它认为与自身相关的那些信息。

# azure - Azure：停止角色而不停止托管服务中的所有其他角色

> ID：11857945
> 
> 赞同：1
> 
> 时间：2012-08-08T05:04:34.447
> 
> 标签：azure

例如，我有一个具有两个角色的托管服务，即 web 和 worker。我想暂时摆脱工人角色。有没有简单的方法来实现这一目标？这似乎是一件微不足道的事情。

在 azure 门户中，如果我选择其中一个角色并点击 STOP，它将停止托管服务中的所有角色。在 Visual Studio 中，我可以从“角色”文件夹中删除角色并重新发布，但是当我想重新启动该角色时，我必须完成添加角色的整个过程；以及看似不必要的发布。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T05:40:22.837

目前，如果不重新发布您的应用程序，您将无法执行此操作。但是在 Visual Studio 中有一种简单的方法来管理它。您可以创建 2 个 Azure 项目，一个带有 WorkerRole，一个没有 WorkerRole（请注意，您需要复制为 WebRole 配置的所有内容，例如证书、服务配置……）：

![在此处输入图像描述](../Images/276670b774598138166c61012e8d8119.png)

为了让这个部署过程更容易一些，我建议你编写一个 PowerShell 脚本来执行以下操作（例如）：

*   上传 *.cspkg
*   部署到登台
*   VIP兑换
*   删除暂存部署

无论如何，将实例数更改为 0 对您来说是完美的解决方案，但目前这是不可能的。产品团队的某个人确认该功能将会推出，但它只会在 2012 年秋季之后发布。在[此处](http://www.mygreatwindowsazureidea.com/forums/34192-windows-azure-feature-voting/suggestions/743252-allow-a-role-instnace-count-of-0)投票支持该功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T05:40:46.017

不，如果不重新部署就不行，因为角色是在 ServinceDefinition 中定义的，一旦部署了服务，就无法更改。您可以更改 ServiceConfiguration（例如角色实例的数量，但不能为零）。

正如 Jim 所说，您可以强制实例重新启动。您甚至可以破坏实例，使它们在重新启动后无法成功启动。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-28T18:00:45.650

该线程现在已有几年历史了，但是在我写这个答案时我们仍然遇到同样的问题。

我发现的一种更简洁的方法是在我的 worker wole 的服务配置中引入一个设置，带有一个布尔字符串。

然后，在我的 WorkerRole.OnRun() 中，我可以利用设置标志通过 if 语句影响代码执行路径。

请注意，这实际上不会停止工作角色实例的运行，它只会添加一个“功能标志”模式，以防止在角色的 OnRun() 的每次循环迭代期间执行实际工作代码路径。

这样做的好处是，如果我从 Azure Mgmt 门户更新设置，它将强制角色重新启动并获取新的设置值。

缺点是，如果您试图关闭辅助角色以最小化成本，这将无济于事，因为角色实例将继续运行。

高温高压

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T10:24:23.917

另一种解决方案是您可以在一个部署中运行 Web 角色，而在另一个部署中运行辅助角色。只要您的解决方案不需要角色直接相互通信，那么应该没问题。例如，如果实例通过队列与每个实例通信，则两个部署都可以使用相同的存储连接字符串（或服务总线命名空间）。

拥有单独的部署允许您拥有脚本来在不需要时拆除辅助角色，并在需要时重新部署它。虽然 Sandrino 提供的答案有效，但它需要有 VIP 交换和涉及您不希望受到影响的 Web 角色的全面部署。使用两个单独的部署可以让您将它们分开并仍然获得您想要的结果。

如果角色确实需要在没有一些共享中介（如队列或数据库）的情况下直接相互通信，那么 Sandrino 的答案看起来是一个不错的选择。另外，请务必为他链接的功能投票。

# c# - 尝试填充 objectlistview 行的 buffer.blockCopy 错误

> ID：11857946
> 
> 赞同：0
> 
> 时间：2012-08-08T05:04:39.390
> 
> 标签：c#, buffer, rows, objectlistview

我正在尝试使用 Buffer.BlockCopy 将数组的一部分（data.item）复制到另一个数组中。如果我尝试一件事，我会收到关于无效内容的编译器错误（见下文），如果我使用强制转换，则会收到运行时错误。但如果我只分配它，它就可以正常工作：row[item.AspecName] = "random chars"。我在做什么错？

```
namespace ObjectListViewFramework
{
    public partial class ObjectListviewForm : Form
    {
        public DataTable ListRows { get; private set; }
  }

 }

    public void AddRows2(DLL_conduit data)
    {
        int columnIndex;
        int bufferIndex = 0;
        for (int rowIndex = 0; rowIndex < data.rowCount; rowIndex++)
        {
            DataRow row = ListRows.NewRow();
            columnIndex = 0;
            foreach (var item in objectListView1.AllColumns)
            {
                // this works dandy
               row[item.AspectName] = "random chars";

                // compiler error: the best overloaded method match has some invalid args
                 Buffer.BlockCopy(data.item, bufferIndex, row[item.AspectName], columnIndex * 256, 256);

                 // runtime error: invalid cast 
                 Buffer.BlockCopy(data.item, bufferIndex, (char[])row[item.AspectName], columnIndex * 256, 256);      

                ++columnIndex;
                bufferIndex += 256;
            }
            ListRows.Rows.Add(row);
        }
        objectListView1.AddObjects(ListRows.DefaultView);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:27:55.980

最初，您的行没有任何关联数据。

`Buffer.BlockCopy`不会创建要复制到的数组。您必须将现有数组传递给它，而您没有。

您的工作代码使用索引设置器。您的非工作代码使用索引 getter 来检索当前在`DataRow`.

的使用`Buffer.BlockCopy`很少而且相差甚远。

# python - 如何使用 Python 从 Google App Engine 显示 pdf blob

> ID：11857947
> 
> 赞同：0
> 
> 时间：2012-08-08T05:04:42.357
> 
> 标签：python, google-app-engine, blobstore

我关于 StackOverflow 的第一个问题。. .

在使用 python 的 Google App Engine 应用程序中，我试图在页面上显示一个与 html 内联的小型 pdf 图像。

我有一个小班，这样写：

```
class modelReport(db.Model):
    Applicant = db.StringProperty()
    Reportblob = db.BlobProperty() 
```

一个小表单用于上传图像并将图像提交给以下处理程序：

```
class UploadResults(webapp.RequestHandler):
    def post(self):
        m = modelReport()
        m.Applicant = self.request.get("txtApplicantName")
        Reportblob = self.request.get("file")
        m.Reportblob = db.Blob(Reportblob)
        m.put() 
```

我正在使用以下代码来显示申请人的图像和姓名：

```
class RetrieveResults(webapp.RequestHandler):
    def get(self):
        self.response.out.write('''
        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
        <html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="em">
        <head>
        <meta http-equiv="Content-Type" content="application/pdf" />
        <title>Results Page</title>
        </head>
        <body>
        ''')
        reports = db.GqlQuery('SELECT * FROM modelReport')
        for report in reports:
            self.response.out.write('</p><b>%s</b> report is:' % report.Applicant)
            self.response.out.write("<div><img src='img?img_id=%s'></img>" % report.key())
        self.response.out.write('''
        </body></html>
        ''') 
```

使用开发服务器 Datastore Viewer 时，我可以看到新的“modelReport”实体，其中列出了 Key、Write Ops、ID、Key Name、Applicant 和 Reportblob。

问题是输出列出了申请人，然后显示一个带有“？”的小蓝色框。中间好像找不到图片文件。. . 并且，开发服务器日志控制台显示 404 错误：

```
INFO..."GET /retrieve_results/all_results HTTP/1.1" 200 -
INFO..."GET /retrieve_results/img?img_id=ag...Aww HTTP/1.1" 404 -
INFO..."GET /retrieve_results/img?img_id=ag...BQw HTTP/1.1" 404 -
INFO..."GET /retrieve_results/img?img_id=ag...Bgw HTTP/1.1" 404 - 
```

我想了一会儿，我可能使用了错误的“内容类型”标头，但是使用 Apache Web 服务器的类似代码可以很好地显示文本和图像。

似乎我可能正在制作空的 blobstore 属性“Reportblob”，但我不知道如何验证或调试。

任何或所有帮助修复 GAE 代码将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T10:03:25.337

先说几个错误：

1.  您的 HTML 页面不是 PDF 文档，因此您不能将其 Content-type 声明为 pdf：

    ```
    <meta http-equiv="Content-Type" content="application/pdf" /> 
    ```

    相反，它应该是

    ```
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" /> 
    ```

2.  PDF 文档不是图像，您不能只指向`src`PDF 文档 URL 并期望它显示：

    ```
    <div><img src='img?img_id=%s'></img> 
    ```

3.  只是检查一下：我假设您有`/img?img_id=<..>`处理程序来[提供来自 blobstore 的图像](https://developers.google.com/appengine/docs/python/blobstore/overview#Serving_a_Blob)？

你需要做什么：

1.  确保正确地提供 blob，如上面第 3 点中的链接所述。

2.  查看有关如何将 PDF 文档正确嵌入 HTML 页面的所有选项：[在 HTML 中嵌入 PDF 的推荐方法？](https://stackoverflow.com/questions/291813/best-way-to-embed-pdf-in-html)（最简单的是[PDFObject](http://pdfobject.com/)）

# android - 如何在系统应用程序顶部显示 AlertDialog

> ID：11857948
> 
> 赞同：0
> 
> 时间：2012-08-08T05:04:55.150
> 
> 标签：android, android-alertdialog

在我的应用程序中，您单击启动图库的按钮，从图库中选择照片后，我的应用程序会压缩照片并生成缩略图。此操作需要几秒钟，我想显示一个对话框，向用户说明一些内容，让他们知道我的应用正在做某事。问题是在生成照片时，画廊仍然在屏幕上处于活动状态，并且我的对话框没有出现。目前使用以下代码，我收到有关“此窗口类型的权限被拒绝”和“badtoken”的错误。我的清单中确实为“SYSTEM_ALERT_WINDOW”设置了权限

我的问题基本上是如何让这个对话框显示在画廊视图的顶部？

```
public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        switch (requestCode) {

        // Do this if result came from selection in android photo gallery
        case PICK_EXISTING_PHOTO_RESULT_CODE: {

            if (resultCode == RESULT_OK) {
                AlertDialog alertDialog = new AlertDialog.Builder(this)
                        .setTitle("").setMessage("Optimizing Photo...")
                        .setCancelable(false).create();
                alertDialog.getWindow().setType(
                        WindowManager.LayoutParams.TYPE_SYSTEM_DIALOG);
                alertDialog.show(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:36:37.567

*   我认为您无法从图库应用程序中显示对话框。您应该仅将文件选择传递给图库应用程序，然后在您的应用程序中处理处理，对吗？因此，您不会在图库应用程序中通知用户图像正在处理中。
*   我想你会想要添加一个 ProgressBar，而不是一个 AlertDialog。当用户有一些选项时，或者当您想要确认某事时，通常会使用对话框，而不仅仅是指示进程正在运行。

我觉得你的时间表应该是：

1.  您的活动
    *   用户按下按钮表示打算选择图像
2.  图库应用程序
    *   用户选择图像
    *   图库应用程序返回文件/文件名
3.  您的活动
    *   开始显示进度条
    *   过程映像
    *   结束进度条

# cython - pytest.raises(AssertionError) 使用 cython 模块失败

> ID：11857953
> 
> 赞同：4
> 
> 时间：2012-08-08T05:05:12.887
> 
> 标签：cython, pytest

将文件 python_assert.py 和 cython_assert.pyx 定义为相同的，每个文件都包含一个引发 AssertionError 的简单函数：

```
def raise_assertionerror():
    assert False 
```

我希望以下两个测试都能在 pytest 下成功：

```
import pytest

import pyximport
pyximport.install()

from python_assert import raise_assertionerror as python_assert
from cython_assert import raise_assertionerror as cython_assert

def test_assertion():
    with pytest.raises(AssertionError):
        python_assert()

def test_cython_assertion():
    with pytest.raises(AssertionError):
        cython_assert() 
```

但是，cython 测试失败：

```
===================================== FAILURES ======================================
_______________________________ test_cython_assertion _______________________________

    def test_cython_assertion():
        with pytest.raises(AssertionError):
>           cython_assert()

test_pytest_assertion.py:15: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

>   assert False
E   AssertionError

cython_assert.pyx:2: AssertionError
======================== 1 failed, 1 passed in 0.61 seconds ========================= 
```

这似乎是 pytest 的问题，因为等效的 unittest 成功：

```
import unittest

import pyximport
pyximport.install()

from python_assert import raise_assertionerror as python_assert
from cython_assert import raise_assertionerror as cython_assert

class MyTestCase(unittest.TestCase):
    def test_cython(self):
        self.assertRaises(AssertionError, cython_assert)

    def test_python(self):
        self.assertRaises(AssertionError, python_assert)

if __name__ == "__main__":
    unittest.main() 
```

此外，如果我们调用`pytest.raises(Exception)`而不是`pytest.raises(AssertionError)`.

知道有什么问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-12T17:37:07.523

这已被[识别为 pytest 中的错误](https://bitbucket.org/hpk42/pytest/issue/176/pytestraises-assertionerror-fails-with)并已解决。

# iphone - Cocos2d：如何在 RunTime 上为 Endless Runner 创建关卡的一部分

> ID：11857956
> 
> 赞同：0
> 
> 时间：2012-08-08T05:05:55.477
> 
> 标签：iphone, ios, cocos2d-iphone, box2d, game-engine

我正在使用 Cocos2d/Box2d 创建一个“无尽的跑步者”，我正在使用 CCFollow 将我的相机设置在主要的跑步角色上。（是的，我在 X 和 Y 值中滚动得很深）。现在，我已经创建了这个游戏的一部分，它已经太大了。我在固定位置一次生成所有的身体/精灵。（类似于 X 轴的 1500 和 Y 轴的 -1500）。

但是对于优化问题和我的游戏的性质（即无尽的跑步者）是错误的，我必须在随机位置生成随机高度的随机山丘。可能我只会使用 4 到 5 个地形，并通过改变它们上面的障碍物来重复使用它们，这样它们看起来就不会重复。

请记住，由于地形的复杂性，我没有使用任何循环来生成山丘/精灵。我是手动做的！

[RayWenderlich](http://www.raywenderlich.com/3888/how-to-create-a-game-like-tiny-wings-part-1)有一个关于“像小翅膀一样的游戏”的很棒的教程，我研究了它的“resetHillVertices”方法，但这对我没有帮助，因为我有各种不同的精灵/身体，我必须在运行时以不同的方式生成随机位置。任何帮助，将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:35:47.833

我假设您正在寻找在地形上方的随机位置生成随机精灵。如果是这种情况，并且您正在使用“连接点”类型的地形生成方法，正如 Ray Wenderlich 所描述的，您可以在地图生成期间为对象创建条目（不是实际的精灵，但有足够的信息来创建它们） （游戏前）。

您可以使用 Ray 的剪裁方法在运行时生成精灵，并在它们经过您身后的剪裁平面时将其销毁。

至于将物品随机放置在地形上方，我建议选择一条随机的地形线，将物品“滑动”到该线上的随机点，然后将其从该线上投射（朝向天空）。就像是：

```
 float slope = (point2.y - point1.y) / (point2.x - point1.x);

        CGPoint randomPositionOnLine;
        randomPositionOnLine.x = point1.x + (arc4random( ) % ((int) (point2.x - point1.x)));
        randomPositionOnLine.y = randomPositionOnLine.x * slope;

        float angleOfLine = atanf(slope);

        float angleOfNormal = angleOfLine + (M_PI / 2);

        int maxHeightAboveTerrainToPlaceItem = 200;
        float heightAboveTerrain = (arc4random( ) % maxHeightAboveTerrainToPlaceItem);

        CGPoint itemPosition;
        itemPosition.x = randomPositionOnLine.x + (cosf(angleOfNormal) * heightAboveTerrain);
        itemPosition.y = randomPositionOnLine.y + (sinf(angleOfNormal) * heightAboveTerrain); 
```

# android - 在文件中找不到 phonegap 类：///android_asset/www/cordova-2.0.0.js:938

> ID：11857958
> 
> 赞同：8
> 
> 时间：2012-08-08T05:06:03.560
> 
> 标签：android, cordova

我尝试使用[这个插件](https://github.com/phonegap/phonegap-plugins/tree/master/Android/VideoPlayer)并按照 readme.md 文件中的说明进行操作。

1）这是我的 html 文件

```
<!DOCTYPE HTML>
<html>
<head>
    <title>TryMakan Video</title>
    <link rel="stylesheet" href="style.css" />
<script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>
    <script type="text/javascript" charset="utf-8" src="video.js"></script>
    <script type="text/javascript">
function playVideo(){
            window.plugins.videoPlayer.play("http://www.trymakan.my/wp-content/uploads/2011/09/NASI-AYAM-BEREMPAH-KAJANG.mp4");
        }
 </script>
</head> <body>
<a href="#" onClick="playVideo();">play</a>
</body></html> 
```

2) 这是我的 plugins.xml，它位于 xml 文件夹中

```
<?xml version="1.0" encoding="utf-8"?>
<plugins>
    <plugin name="VideoPlayer" value="com.phonegap.plugins.video.VideoPlayer"/>
</plugins> 
```

3）我还将 VideoPlayer.java 复制到此文件夹 src\com\phonegap\plugins\video

4）另外，有人说我还需要将插件添加到AndroidManifest.xml文件中，所以这是它的一个片段

```
<application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale"
            android:label="@string/title_activity_main" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="com.phonegap.plugins.video.VideoPlayer"/>
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application> 
```

但是，当我单击“播放”时，log cat 仍会返回此错误

```
08-08 04:54:15.823: I/Web Console(309): Error: Status=2 Message=Class not found at file:///android_asset/www/cordova-2.0.0.js:938 
```

update1：​​这里是 VideoPlayer.java 所在的位置

[这里](https://i.imgur.com/9DsME.png)

我在 Gen 文件夹下没有看到 VideoPlayer.java，这是否意味着它没有编译？这可能是问题吗？如果是，如何解决？

update2：我检查了 bin 文件夹，并且在 bin\classes\com\phonegap\plugins\video 下有 VideoPlayer.class，所以 VideoPlayer.java 实际上是编译的

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-08T05:31:23.320

问题是你的plugins.xml。

> 它出现在最近的 PhoneGap 版本之一中，plugins.xml 已被删除，您必须在 res/xml/config.xml 中添加该行。

所以尝试添加标签`<plugin name="VideoPlayer" value="com.phonegap.plugins.video.VideoPlayer"/>`

到 res/xml/config.xml 而不是 plugins.xml

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-18T12:35:14.693

如果日志中显示的错误是

> 在文件中找不到类：///android_asset/www/cordova-2.0.0.js:938

最好的方法是检查**哪个**类导致了错误。对于那些仍然收到此错误消息的人，请尝试以下技巧。

1.  在编辑器中打开 cordova-2.0.0.js。
2.  替换第 938 行的代码，即

    > console.log("错误：状态="+v.status+" Message="+v.message);

    和

    > console.log("错误：状态="+v.status+" Message="+v.message+" service="+service+" action="+action);

3.  再次运行应用程序并检查控制台是否存在上述错误。**您可以在service=XYZ**中看到导致错误的插件，其中 XYZ 是插件名称。

4.  检查 config.xml 文件中的部分是否有 XYZ 插件的任何条目。
5.  如果找不到，请添加 XYZ 插件。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-20T22:25:02.347

由于缺少插件，我遇到了此错误。我添加了

```
<plugin name="Device" value="org.apache.cordova.Device"/> 
```

到 config.xml 文件并修复它。

# ruby-on-rails - 在ruby 1.9中将 管道分隔的字符串数组转换为映射

> ID：11857972
> 
> 赞同：1
> 
> 时间：2012-08-08T05:07:29.623
> 
> 标签：ruby-on-rails, ruby, savon

我正在使用 savon gem 来处理一个非常糟糕的肥皂响应，例如：

```
["12|310|T02-260|", "14|130|T01-110|CAR 27", ...] 
```

我需要在管道符号处拆分它们并将它们映射到模型属性。有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T05:25:38.553

这将为您提供哈希数组

```
fields = [:a, :b, :c, :d]
response.map{ |r| Hash[*fields.zip(r.split('|')).flatten] } 
```

结果 =`[ {:a => 1, :b => 2, :c => 3, :d => 4}, ... ]`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T05:30:47.257

举个例子，假设你需要获取和设置一个 id、sequence number 和 skw。这会有帮助吗？

```
class Foo
  attr_accessor :id, :seq, :skw

  def initialize(soap_res)
    %w{id seq skw}.zip(soap_res.split "|").each do |(attr, val)|
      self.send("#{attr}=", val)
    end
  end
end

1.9.3p194 :057 > f = Foo.new "12|310|T02-260"
 => #<Foo:0x007ff1ea8e0970 @id="12", @seq="310", @skw="T02-260"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T05:19:34.917

让给定的数组是`soap_response`

```
def deal_with_pipe_symbols(soap_response)
  outer_array = []
  soap_response.each do |element|
    outer_array << element.split('|')
  end
  outer_array
end 
```

这个方法应该返回一个看起来像下面这样更可行的数组。

`[['12','310','T02-260',''], ['14','130','T01-','CAR 27'], ...]`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T05:25:37.023

stdlib 中的 CSV 库应该能很好地做到这一点（它理解引用等）在这里我加入了这些行，但您可以独立解析它们，它们只会位于更深的数组中。

```
require 'csv'
inputs = ["12|310|T02-260|", "14|130|T01-110|\"CAR|27\""]
result = CSV.parse inputs.join("\n"), col_sep: '|'
result # => [["12", "310", "T02-260", nil], ["14", "130", "T01-110", "CAR|27"]] 
```

# c# - 在 C# 中的两个进程之间共享对象

> ID：11857974
> 
> 赞同：1
> 
> 时间：2012-08-08T05:07:51.900
> 
> 标签：c#, memory-mapped-files, memory-mapping

我正在寻找一种在两个进程之间共享对象的方法。第一个进程应该创建对象，第二个进程应该只复制它而不对原始对象进行任何更改。

有谁知道如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T07:34:24.610

您不需要共享内存：第一个进程可以公开 WCF（或 .NET Remoting）服务，而第二个进程将能够调用它。确保您的对象是可序列化的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-24T04:21:19.383

在 .net2.0 或更低版本中你不能使用 wcf，但你可以使用一些库，如 wcf，例如 ICE Framework，你可以下载并阅读它，在下面的链接 [ICe Framewrok](http://www.zeroc.com/)

# php - 使用 Mongo ODM 的 GridFS 不工作

> ID：11857975
> 
> 赞同：1
> 
> 时间：2012-08-08T05:07:51.727
> 
> 标签：php, mongodb, symfony1, doctrine-odm

我有一个用户文档，该文档需要使用 GridFS 为该文档提供多张图片。我无法使用 GridFS 保存文件。

这是我的用户文档：

```
namespace Main\UserBundle\Document;

use Doctrine\ODM\MongoDB\Mapping\Annotations as MongoDB;

/**
 *@MongoDB\Document(db="mydb", collection="users")
 */
class User
{
    /**
     * @MongoDB\Id
     */
    protected $id;

    /** @MongoDB\EmbedMany(targetDocument="Asset") */
    public $assets = array();

    public function __construct()
    {
        $this->assets = new \Doctrine\Common\Collections\ArrayCollection();
    }

     /**
     * Get id
     *
     * @return id $id
     */
    public function getId()
    {
        return $this->id;
    }

    /**
     * Add assets
     *
     * @param Main\ClassifiedBundle\Document\Asset $assets
     */
    public function addAsset(\Main\ClassifiedBundle\Document\Asset $asset)
    {
        $this->assets[] = $asset;
    }

    /**
     * Get assets
     *
     * @return Doctrine\Common\Collections\Collection $assets
     */
    public function getAsset()
    {
        return $this->assets;
    }

} 
```

这是我的资产文件：

```
namespace Main\UserBundle\Document;
use Doctrine\ODM\MongoDB\Mapping\Annotations as MongoDB;

/** @MongoDB\EmbeddedDocument */
    class Asset
    {
         /**
         * @MongoDB\Id
         */
        public $id;

    /** @MongoDB\Field */
    public $name;

    /** @MongoDB\File */
    public $file;

    /** @MongoDB\Field */
    public $uploadDate;

    /** @MongoDB\Field */
    public $length;

    /** @MongoDB\Field */
    public $chunkSize;

    /** @MongoDB\Field */
    public $md5;

    public function getId()
    {
        return $this->id;
    }

    public function setName($name)
    {
        $this->name = $name;
    }

    public function getName()
    {
        return $this->name;
    }

    public function getFile()
    {
        return $this->file;
    }

    public function setFile($file)
    {
        $this->file = $file;
    }

} 
```

现在在我的控制器中，我正在尝试执行以下操作：

```
$dm = $this->get('doctrine.odm.mongodb.document_manager');
    $user = $dm->getRepository('MainUserBundle:User')
    ->find(1); //I already have a user document with id 1

    $asset = new Asset();
    $asset->setName('Test image');
    $asset->setFile($uploadedFile->getPathname()); //I have verified that this is a valid image
   $user->addAsset($asset);

   var_dump($user);

  $dm->persist($user);
    $dm->flush(); 
```

我在日志中看到的错误是：

```
MongoException: zero-length keys are not allowed, did you use $ with double quotes? (uncaught exception) 
```

我在以下位置得到它：

```
myapp.com/vendor/doctrine-mongodb/lib/Doctrine/MongoDB/Collection.php line 203 
```

文档也没有保存。我错过了什么？我已按照 mongoodm 网站上的所有步骤进行操作。??

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T14:27:07.797

元数据错误

[蒙哥异常](http://php.net/manual/en/class.mongoexception.php)

> 您试图将“”保存为密钥。您通常不应该这样做。"" 可能会弄乱子对象的访问，并由 MongoDB 内部使用。但是，如果您真的需要，可以在 php.ini 文件中将 mongo.allow_empty_keys 设置为 true 以覆盖此健全性检查。如果您覆盖它，强烈建议您将错误检查设置为严格以避免字符串插值错误。

例如：

```
$m = new MongoClient();
$gridfs = $m->selectDB('test')->getGridFS();

$metaData = array(
'' => 'value', // '' as key
);

$gridfs->storeUpload('pic', $metaData); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-06T11:59:34.983

使用当前版本的 MongoDB ODM 似乎无法将 GridFS 文件存储在嵌入式文档中。

您可以使用 @ReferenceMany 作为解决方法。

# java - 如何在sql查询中将字符串转换为日期？

> ID：11857976
> 
> 赞同：-1
> 
> 时间：2012-08-08T05:08:01.603
> 
> 标签：java, sql, sql-server, jdbc

我正在使用 MS-SQL 服务器。我在`Convert`. 这是我的查询：

```
String query1="select * from pat.dbo.Demand_Register 
               where (select (Convert (datetime,Payment_Date,103)) as pd 
                      from pat.dbo.Demand_Register)
                  between '"+frmDate1+"' and '"+toDate1+"' "; 
```

和例外：

```
java.sql.SQLException: [Microsoft][SQLServer 2000 Driver for JDBC][SQLServer]Syntax error converting datetime from character string. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T19:20:12.103

您的陈述不必要的复杂，您可以将其简化为：

```
String query1="select * from pat.dbo.Demand_Register " +
               "where Convert (datetime,Payment_Date,103) " + 
               "between '"+frmDate1+"' and '"+toDate1+"' "; 
```

但这仍然不是一个好主意。您应该`java.sql.Date`从 PreparedStatement 构造实例`frmDate1`并`toDate1`在 PreparedStatement 中使用它们：

```
SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");
java.sql.Date from = new java.sql.Date(sdf.parse(frmDate1));
java.sql.Date to = new java.sql.Date(sdf.parse(toDate1));
String query1="select * from pat.dbo.Demand_Register " +
               "where Payment_Date between ? and ?";
PreparedStatement stmt = connection.prepareStatement();
stmt.setDate(1, from);
stmt.setDate(2, to);
ResultSet rs = stmt.executeQuery(); 
```

这不仅可以保护您免受 SQL 注入的影响，而且还可以使用潜在的索引来加快速度`Payment_Date`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T05:30:17.220

这可能是因为您使用单引号连接字符串，因此也应该使用双引号；看看你的字符串中的组合`frmDate1`和`toDate1`参数。

所以这应该有效

```
String query1 = "select * from pat.dbo.Demand_Register where (select  (Convert(datetime,Payment_Date,103)) as pd from pat.dbo.Demand_Register) between '" + frmDate1 + "' and '" + toDate1 + "' "; 
```

# iphone - 如何获取自动更新应用内购买的共享密钥？

> ID：11857977
> 
> 赞同：1
> 
> 时间：2012-08-08T05:08:02.747
> 
> 标签：iphone, objective-c, in-app-purchase, app-store-connect

我正在实施 Auto-renewable InApp 购买。据我所知`SHARED_SECRET_KEY`，iTunes Connect 上开始提供的内容是针对个人用户帐户的。`verifying receipt`在这种情况下我不能将它用作静态变量时使用它`#Define`。

我也没有在`SKPaymentTransaction`对象中找到它。

当我们获取特定用户的收据数据时，我如何为单个用户获取它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T13:34:47.047

实际上，据我所知，SHARED_SECRET_KEY 不是用于个人用户帐户，而是用于应用程序本身。

当交易状态为 SKPaymentTransactionStatePurchased 且付款队列中的活动交易（SKPaymentTransaction）时，您需要验证收据。

当我实施应用内购买时，我的主要困惑是获取有关特定用户的信息，就像你一样。我正在保存有关我购买的信息，因此在启动时我可以刷新有关用户的信息。恢复也是我可以建议的另一种方法，用于支持用户的多个设备（最多 5 个）。

# javascript - 右键单击表格行不适用于单击功能

> ID：11857978
> 
> 赞同：3
> 
> 时间：2012-08-08T05:08:03.680
> 
> 标签：javascript, jquery

我有一个表格和这段代码来查找 a href 并使整行可点击：

```
$(document).ready( function() {

        $('table tr').click(function() {
            var href = $(this).find("a").attr("href");
            if(href) {
                window.location = href;
            }
}); 
```

但是，有一个问题，那就是**我的右键单击不提供“在新选项卡中打开链接”选项**和窗口等类似正常 a href 链接的内容。

使用 divs 而不是 table 不是一种选择。

如何解决？

有没有可以为我修复它的 jQuery 插件？

*我的桌子看起来像这样（它更大，有更多的 td，但只是为了说明）：*

```
<table>
    <tr>
         <td>
             <a href="http://example.com">Some link</a>
             <span>Bla bla bla</span>
         </td>
         <td>
             <span>Some text</span>
         </td>
    </tr>
    <tr>
         <td>
             <a href="http://someotherlink.com">Some link</a>
             <span>Other text</span>
         </td>
         <td>
             <span>Something else</span>
         </td>
    </tr>
    <tr>
         ...
    </tr>
</table> 
```

**编辑：我需要像当前代码一样自动获取 a href 值： $(this).find("a").attr("href");**

**编辑 2：我需要成为整个 tr 可点击的（作为一个块）。这可以使用上面的方法。但是，无法单击该行并选择“在新选项卡中打开链接”。仅当我将鼠标悬停在 a href 上时，此选项才可用。但我需要它也在整行。因此，如果用户想要使用鼠标中键或右键单击并从上下文菜单中选择“在新选项卡中打开”来打开多个新选项卡，他可以做到。现在是不可能的。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T06:03:41.407

你为什么不尝试这样的事情：

JS：

```
$(document).ready(function(){
    $("table tr").mousedown(function(e){

        document.oncontextmenu = function() {return false;}; 

        e.preventDefault();

        var href = $(this).find("a").attr("href");
        if( e.button == 2 ) {
            $(this).find('td:first').prepend('<div class="blank"><a href="' + href + '" target="_blank">Open in new window</a></div>').find('.blank').css('left',e.pageX + 'px').css('top',e.pageY + 'px').fadeIn(400);

        } else if(e.button === 0) {
            if(href) { 
                window.location = href;
            }
        } 
    });

    $(document).on('click','.blank a',function(){ 
        $(this).parent().fadeOut(400,function() { 
            $(this).remove(); 
        }); 
    }).on('mouseleave','.blank',function(){  
        $(this).fadeOut(400, function(){ 
            $(this).remove();     
        });     
    }); 

}); 
```

CSS：

```
.blank {
    display:block;
    padding:4px;
    background:#c3c3c3;
    position:absolute;
}

table tr td {
    overflow:visible;
    position:relative;
}

table tr {
    cursor:pointer;
} 
```

这是一个[jsfiddle](http://jsfiddle.net/Lswmd/1/)，但请注意，我没有对外观进行样式化，并且必须针对左键单击更新 javascript 代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:24:15.607

尝试这个

```
 $('tr th, tr td').wrapInner('<a href="http://example.com"></a>').children('a').click(function() {
   var href = $(this).attr("href"); if(href) { window.location = href; }
}); 
```

//如果有任何`delegation`问题试试这个

```
 $('tr th, tr td').wrapInner('<a class="links" href="http://example.com"></a>');
$('body').delegate('a.links','click',function(e){
e.preventDefault();

   var href = $(this).attr("href"); if(href) { window.location = href; }
}); 
```

# javascript - 将“this”分配给 Javascript 中的变量

> ID：11857982
> 
> 赞同：11
> 
> 时间：2012-08-08T05:08:19.737
> 
> 标签：javascript, this

我使用 Javascript 采用面向对象的方法，原因有两个。一，因为它可以帮助我学习，二，以防我的代码被分发。

我已经将函数分配给变量并`this`用于公共变量。但是，我在使用`this`时遇到了问题。当我在“私有”函数中时，`this`指的是不同的范围，我无法访问`this`. 我将说明我的观点。

```
var ClassObject = function() {
  this.var1 = 'Hello';

  var var2 = 786;

  this.func1 = function() {
    alert(this.var1); // Alerts Hello
    alert(var2); // Alerts 786
  }

  var func2 = function() {
    alert(this.var1); // Alerts undefined
    alert(var2); // Alerts 786
  }
} 
```

我发现授予`func2`访问权限的唯一方法`this.var1`是将另一个变量分配给`this`: `var c = this`。这是完成这项任务的最佳方式，甚至是被广泛接受的方式吗？有人可以提供更好的解决方案吗？

谢谢你们。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-08T05:18:14.943

是的，这是公认的做法。请参阅有关范围或[此问题的](https://stackoverflow.com/questions/500431/javascript-variable-scope)[这篇文章](http://javascriptplayground.com/blog/2012/04/javascript-variable-scope-this)。

阅读**关闭**也可能会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-08T05:21:48.213

的值`this`由 javascript 解释器在每个函数调用上设置，包括在调用您的私有函数时。规则相当简单：

1.  如果调用`object.method()`，则`this`设置为方法内的对象。
2.  如果调用一个普通的函数（无论是全局的还是本地的）`fn()`，`this`设置为全局对象（通常`window`在浏览器中）。
3.  当使用`.apply()`or`.call()`时，`this`设置为这些函数的第一个参数（例如，您可以通过传递给`.apply()`or的内容来控制设置的内容`.call()`。

因此，当你调用你的私有函数时，你会得到选项 2。如果你想访问`this`你的对象，你有这三个选项：

1.  使这些私有函数方法（它们将不再是私有的）并将它们作为方法调用它们，就像`this.func2()`javascript 解释器`this`为您设置的那样。
2.  使用`.call()`或`.apply()`喜欢`func2.call(this)`指示口译员`this`按照您的意愿进行设置。
3.  在调用之前将 的值存储`this`在局部变量中，`func1()`这样您就可以通过闭包`var self = this`引用`self`内部变量。`func1()`这在 javascript 中很常见（利用闭包允许访问父范围变量的方式）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-08T05:12:23.367

除非您确实使用诸如将其设置为另一个变量之类的东西，否则您将无法做您想做的事情。所以要么重组所有东西，所以你不必这样做，或者只使用变量。我会说使用变量是可以接受的

# php - 如何在页面的其余部分加载后强制加载 php 包含？

> ID：11857989
> 
> 赞同：0
> 
> 时间：2012-08-08T05:08:52.840
> 
> 标签：php, javascript, jquery, ajax

所以我确定我有点过头了。我对 html 和 css 之后的任何代码都很陌生，我决定深入研究 javascript 作为我的第一次尝试。我收到了很多很棒的反馈，虽然其中很多有帮助，但我真的想不通。

从本质上讲，我所做的是用两个 php 页面创建了一个画廊：第一个是我网站上的一个页面，带有一个滑动缩略图窗口和一个“通用”字段，它将加载艺术作品和可变内容。第二个是gallery.php 页面，该页面将所有潜在的艺术作品分解为div，其中艺术、标题、描述等都以唯一的ID 分解。When one of the thumbnails is selected, it calls the div from the gallery.php page and populates it in the 'generic' div using .innerHTML. 这工作正常，但由于我在gallery.php 页面中有40 多个div，使其成为标准的php 包含（在隐藏的div 中，所以什么都不可见）使页面永远加载，这并不理想。

因为我对一切都很陌生，所以我开始的速度非常慢，并且仅仅因为我试图首先掌握它的 javascript 根源而避免使用 jquery。前几天我在 jquery 中找到 .load() 函数时提出了这个问题，我想知道是否有办法用直接的 javascript 写出来，虽然我没有收到任何版本，但我确实得到了关于如何在 ajax 中做到这一点的详细回复，这让我有点不知所措。

我的查询基本上是以下可能的情况之一： - 希望是最简单的解决方案......有没有办法加载页面上的所有内容，然后只有在页面加载之后告诉页面开始加载包含的 gallery.php 页面内容，这样我就不会减慢页面的加载时间，如果有的话，点击时我的画廊内容的加载时间会变慢吗？- AJAX 是从另一个页面调用 div 的最基本方式吗？- 如果有办法将源定义为单独的 php 页面，我可以告诉它拉出我定义的 div 吗？- 如果我要折叠并包含 .load() jquery 函数，我如何返回我正在寻找的 div？

我不是在寻找所有这些或课程的答案，但如果有任何推荐的解决方案，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:08:47.100

作为预加载内容的一种简单方法，我建议使用隐藏的 iframe。这样，您的资源将在客户端加载和缓存，但您不必担心 AJAX。为确保该 iframe 的内容将在缩略图*之后*加载，您可以使用纯 JavaScript 创建它，并将其附加到文档加载事件。有关 addEventListener 的详细信息，请参阅[“MDN: element.addEventListener”](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)。

```
window.addEventListener("load", function(){

    var iframe = document.createElement("IFRAME"); 
    iframe.setAttribute("src", "galery.php"); 
    iframe.style.display = "none"; 
    document.body.appendChild(iframe);

}, false); 
```

# javascript - JavaScript - 来自输入的多维数组

> ID：11857991
> 
> 赞同：0
> 
> 时间：2012-08-08T05:09:11.297
> 
> 标签：javascript

基本上，这是作业中的最后一个问题，我很茫然。我需要创建一个交替 1 和 0 的 x x x 矩阵，其中 x 是用户输入。举个例子，如果用户输入 2，矩阵看起来像这样

```
0 1
1 0

```

如果用户输入 4，矩阵将如下所示

```
0 1 0 1
1 0 1 0
0 1 0 1
1 0 1 0

```

等等......我已经搜索了堆栈溢出和其他论坛，并且我了解如何创建一个数组。这只是交替的 1 和 0 以及如何显示它。感谢任何有任何想法的人。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T05:19:39.377

不要把事情复杂化。您不需要像,和之类的**标志**或**条件**。这非常简单。`bool``if``?:`

```
var count = 4; // User specified matrix size
mat = []; // Empty array, to use as matrix.
for(var i=0; i<count; i++) {
    mat.push(new Array(count)); // Add a new row (reserved size) to the matrix
    for(var j=0; j<count; j++) {
       mat[i][j] = (i^j) % 2; // Insert an alternating 1 or 0 based on iteration.
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T06:03:38.853

秘诀是将你的代码抽象成多个函数。如果将用于创建行的代码与用于创建矩阵的代码分开，则与将所有内容都塞进一个宏功能相比，您将更容易围绕正在发生的事情进行思考。

让我们先解决更简单的问题——创建一行。看起来您想要控制返回行的长度以及第一个单元格的初始值，无论是 1 还是 0。这需要一个带有两个参数的函数：

```
function makeMatrixRow(size, initialValue) { } 
```

所需的代码非常简单：

```
function makeMatrixRow(size, initialValue) {
    var n = [];

    for (var i = 0, flag = !!initialValue;
             i < size;
             i++, flag = !flag) {
        n.push(0+flag+0);
    }

    return n;
} 
```

我已将大部分逻辑推入 for 循环的定义中。解构应该不难。唯一棘手的位是“!!initialValue”和“0+flag+0”。第一个将 initialValue 转换为真/假值（布尔值）。第二个将此布尔值转换为数字。显然我不需要在两边都加零，但我喜欢它的对称性——而且我觉得这样看起来有点像杠铃:)

有了这个功能，生成矩阵就很容易了。不用摆弄嵌套循环。问题已简化为简单的迭代来填充数组：

```
function makeMatrix(size) {
    var matrix = [];
    for (var i = 0; i < size; i++) {
        matrix.push(makeMatrixRow(size, i % 2 == 0));
    }
    return matrix;
} 
```

i % 2 == 0 正在测试均匀度。最好将其拆分为自己的变量赋值，而不是直接传递它。这里有一个额外的变量，或者可以充分替代注释：

```
for (var i = 0; i < size; i++) {
    var isEvenRow = (i % 2 == 0);
    matrix.push(makeMatrixRow(size, isEvenRow));
} 
```

就是这样！现在，代码如下所示：

```
function makeMatrixRow(size, initialValue) {
    var n = [];

    for (var i = 0, flag = !!initialValue;
             i < size;
             i++, flag = !flag) {
        n.push(0+flag+0);
    }

    return n;
}

function makeMatrix(size) {
    var matrix = [];
    for (var i = 0; i < size; i++) {
        matrix.push(makeMatrixRow(size, i % 2 == 0));
    }
    return matrix;
} 
```

即使它有点长，我更喜欢单一功能的解决方案......但每个人都有自己的！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-08T05:19:10.210

您可以使用此功能：

```
function createArray(n) {
    var arr = [];                     // create new array
    var zeroStart = true;             // the first row should start with 0
    for (var i = 0; i < n; i++) {     // loop over n times
        arr[i] = [];                  // used because array is multidimensional
        var zero = zeroStart;         // starting zero should match the row start
        for (var j = 0; j < n; j++) { // again loop over n times
            arr[i][j] = zero ? 0 : 1; // if zero is true, assign 0; otherwise 1
            zero = !zero;             // negate the value of zero
        }
        zeroStart = !zeroStart;       // negate the value of the starting zero
    }
    return arr;                       // return the created array
} 
```

可以这样调用：

```
createArray(6);                       // create 6x6 array 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T05:18:38.853

```
function mArray(num){
   var a = [];
   var b = false;
   for(var z=0; z<num; z++){
      a[z] = [];
      b = false;
      for(var i=0; i<num; i++){
         a[z][i] = (b)? 1: 0;
         b = !b;
      }
   }
} 
```

那应该行得通。

```
mArray(4); // to create a 4x4 array 
```

# android - 活动恢复时android OnBackPressed不会触发

> ID：11857993
> 
> 赞同：0
> 
> 时间：2012-08-08T05:09:29.627
> 
> 标签：android

我有一个选项卡活动和 5 个子活动。
选项卡活动是启动器活动。

当使用 Activity 1 开始时`tabHost.setCurrentTabByTag(CommonParams.HOME_TAG);`，手机的后退按钮按下会触发 Actvitiy 1 的 OnBackPressed。

但是，当我启动活动 1，然后通过单击第二个选项卡导航到活动 2，然后通过单击第一个选项卡返回到活动 1 时，手机的后退按钮按下不会触发 OnBackPressed()。它使应用程序退出。

我通过以下代码在制表机上加载活动。

```
 intent = new Intent().setClass(this, Activity1.class);
        spec = tabHost
                .newTabSpec(CommonParams.HOME_TAG)
                .setIndicator("Home",
                        res.getDrawable(R.drawable.ic_tab_home))
                .setContent(intent);
        tabHost.addTab(spec);

        intent = new Intent().setClass(this, Activity2.class);
        spec = tabHost
                .newTabSpec(CommonParams.PAGE2_TAG)
                .setIndicator("Page2",
                        res.getDrawable(R.drawable.ic_tab_page2))
                .setContent(intent);
        tabHost.addTab(spec); 
```

因此，当使用选项卡从 Home 导航到 Page2 然后返回 Home 时，Activity 1 不会重新开始。它被恢复。我想， OnBackPressed() 不会因恢复活动而被解雇。

活动是否失去了焦点？如果是这样，如何避免活动失去焦点，或者如何将焦点放在活动 OnResume() 上？

有人可以帮我找出 OnBackPressed 没有触发的原因以及如何使其工作。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:37:02.520

您所描述的是android的正常/默认行为。这正是它设计的工作方式。如果您希望它以不同的方式工作 - 您需要自己实现它并覆盖`onBackPressed()`主选项卡活动的回调。

无论如何-对于您想要实现的行为-我建议您不要使用制表符 and `TabActivity`，而是`Fragments`and `FragmentManager`。Fragments 有内置的机制来处理你需要的后退按钮请求，android 建议无论如何都使用它。这就是为什么很久以前 `TabActivity` **不推荐使用的原因，因为 Honeycomb，以及为 Froyo 和 Gingerbread 添加了面向 android 片段的 API 的可竞争性。**

这是谷歌在文档中写的`TabActivity`：

> 新的应用程序应该使用 Fragments 而不是这个类；要继续在旧设备上运行，您可以使用 v4 支持库，它提供了与 DONUT 兼容的 Fragment API 版本

谷歌不想`TabActivity`再使用了。