# StackOverflow 问答 11824000-11824999

# android - 我的服务似乎没有启动。

> ID：11824003
> 
> 赞同：0
> 
> 时间：2012-08-06T07:20:54.513
> 
> 标签：android

我有一个服务：

```
public class FileObserverService extends Service {

private FileObserverForNewFirFiles fObs;

@Override
public void onCreate() {
    Log.i("FILE_OBSERVER_SERVICE: ", "INSIDE ONCREATE()"); 
    File f = new File("/mnt/sdcard/Bluetooth"); 
    createFileObserver(f);

}

public void createFileObserver(File f) {

    if(!f.isDirectory()) {
        Log.i("FILEOBSERVER: ", "FILE NOT A DIRECTORY!"); 
    }
    else {
        fObs = new FileObserverForNewFirFiles(f.getAbsolutePath()); 
    }
}

@Override
public void onStart(Intent i, int startid) {
    fObs.startWatching();
    Toast.makeText(this.getApplicationContext(), "start monitoring file modification", Toast.LENGTH_SHORT).show();
}

@Override 
public void onDestroy() {
    fObs.stopWatching();
    Toast.makeText(this.getApplicationContext(), "stop monitoring file modification", Toast.LENGTH_SHORT).show();
}

@Override
public IBinder onBind(Intent arg0) {
    return null;
}
} 
```

在我的主要活动中，我这样称呼这个类：

```
startService(new Intent(ThisClass.this, FileObserverService.class)); 
```

我认为该`onCreate`方法会向 打印出一些东西`LogCat`，指的是该方法的第一行。但它似乎没有这样做。任何打击？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:31:17.213

我认为您真正想要的是 IntentService

[http://developer.android.com/reference/android/app/IntentService.html](http://developer.android.com/reference/android/app/IntentService.html)

只需替换您的 onCreate 方法签名

使用 onStartCommand

基本上，您还没有完成所有需要做的事情来让常规的旧服务正常运行，而 IntentService 将完成所有这些工作，而无需您自己付出更多的努力。

# javascript - 没有像 Jquery 这样的库，当 url 关闭时检查 Xmlhttp 状态

> ID：11824006
> 
> 赞同：0
> 
> 时间：2012-08-06T07:21:08.163
> 
> 标签：javascript, ajax, xmlhttprequest

我正在尝试检查给定的 url 是否正在使用 ajax。所以我稍微修改了Ajax。

```
function isServerAlive()
{
var xmlhttp;
   if (window.XMLHttpRequest)
  {
  // code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
  else
  {
   // code for IE6, IE5
   xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4)
   {
   document.getElementById("myDiv").innerHTML=xmlhttp.status;
   }
  }
   xmlhttp.open("GET","wrongurl",true);
   xmlhttp.send();
} 
```

我要做的就是在 url 错误时将 xmlhttp.status 显示为 404 或 503。但它不是打印。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:32:03.643

我认为您无法使用 XHR 来检查 url 是否正常工作，因为 url 必须来自与原始页面[相同的来源。](https://developer.mozilla.org/en-US/docs/Same_origin_policy_for_JavaScript)首先检查您的解决方案在访问本地 url 时是否正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:25:00.697

您有可用的状态代码`.status`和文本`.statusText`

```
xmlhttp.onreadystatechange=function()
  {
      if (xmlhttp.readyState == 4)
           console.log("Code: " + xmlhttp.status  + "Status text: " + xmlhttp.statusText);
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:26:30.947

将响应对象传递给 xmlhttp 事件，因此请改用：

```
xmlhttp.onreadystatechange=function(r) {
    if (r.readyState == 4) {
        document.getElementById("myDiv").innerHTML = r.status;
    }
} 
```

# tsql - T-SQL 用 NULL 替换非空列的一部分会产生错误

> ID：11824008
> 
> 赞同：0
> 
> 时间：2012-08-06T07:21:16.703
> 
> 标签：tsql, replace, null, notnull

我有表变量，它的所有列都不能为空（每个都不是 NULL 定义）：

```
DECLARE @SampleTable 
(
   ,SampleColumnID nvarchar(400) NOT NULL PRIMARY KEY
   ,SampleColumnText nvarchar(max) NOT NULL
) 
```

我对这个变量做了一些操作，并用一些文本初始化了“SampleColumnText”。

然后我尝试用其他函数返回的文本替换其中的一部分。发生的情况是该函数在某些情况下返回 NULL，所以我这段代码会产生错误：

```
REPLACE(SampleColumnText , '{*}', @InitByFunctionText) 
```

这次@InitByFunctionText 为 NULL。

那么，当我只用 NULL 替换部分文本而不是整个文本时，是否会生成正常错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:23:27.120

我最近有类似的事情，以下解决了这个问题：

```
REPLACE(SampleColumnText , '{*}', ISNULL(@InitByFunctionText, '')) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T07:23:59.980

这是预期的行为。[`REPLACE`](http://msdn.microsoft.com/en-us/library/ms186862.aspx)：

> `NULL`如果任何一个参数是 则返回`NULL`。

如果要将其替换为空字符串（与 不同*）*`NULL`，可以使用[`COALESCE`](http://msdn.microsoft.com/en-us/library/ms190349.aspx)：

```
REPLACE(SampleColumnText , '{*}', COALESCE(@InitByFunctionText,'')) 
```

# unix - 睡眠 1 周的 shell 脚本

> ID：11824012
> 
> 赞同：1
> 
> 时间：2012-08-06T07:21:34.140
> 
> 标签：unix, ksh, unix-timestamp

任何人都可以将“整整一周的工作”作为shell命令给我脚本。

在每次跑步睡觉之前，它应该计算下一周的日期和时间。

我发现了一些有用的东西

```
startTime=$(date +%s) 

endTime=$(date -d "next week" +%s)

timeToWait=$(($endTime- $startTime)) sleep $timeToWait 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T15:46:20.300

```
date -d "next week" 
```

是另一种说法

```
date -d "7 days" 
```

这意味着“从现在开始的 7 天”，这*不是*下周的开始，也可能不是您想要的。如果它*是*你想要的并且你正在使用[`GNU sleep`](http://linux.die.net/man/1/sleep)，你可以发出这个命令：

```
sleep 7d 
```

让您的脚本休眠 7 天。如果您不使用 GNU sleep，则必须将 7 天间隔转换为秒：

```
sleep 604800 
```

如果您想要下周的*开始*`ksh`，那么这可能会有所帮助，甚至是`bash`：

```
let time=`date -d "next monday" +%s`-`date +%s`
sleep $time 
```

也就是说，我认为您在这项工作中使用了错误的工具。拥有`sleep`7 天的脚本是非常不切实际的——在此期间可能会发生任何数量的事情，从系统重新启动到 shell 进程被杀死。

您应该查看[`crond`](http://linux.die.net/man/8/crond)and [`crontab`](http://linux.die.net/man/1/crontab)，[`atd`](http://linux.die.net/man/8/atd)甚至[`at`](http://linux.die.net/man/1/at)查看更现代的`cron`变体/补充，例如[frcon](http://en.wikipedia.org/wiki/Fcron)或[anacron](http://en.wikipedia.org/wiki/Anacron)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T16:20:06.527

请问为什么要睡1周？

我问是因为如果你想让一个进程等待一周然后重试/做某事，cron 工作可能会更好。有两个原因 -->

1) 节省资源

2）如果由于某种原因您的系统必须重新启动/关闭 - 您的 shell 脚本将停止，您等待的任何事情都不会发生。

而 cron 作业将在您希望它运行时准确运行，从而使您免于这种情况。一些有用的例子在下面的链接中

[http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/](http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/)

我之所以知道这一点，是因为我亲身经历过！:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T09:22:59.080

`coreutils` `sleep`支持`d`后缀，所以：

```
sleep 7d 
```

会睡7天。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T16:01:02.193

我警告不要长时间等待，我不会在等待时间为 1 周的情况下这样做。但我过去曾使用过这种变体：

```
 waittime=
 interval=

 : ${waittime:?specify wait time in seconds}
 : ${interval:?specify interval in seconds}

 t0=SECONDS
 target=$(( t0 + waittime ))

 until
     (( SECONDS > target ))
 do
     sleep $interval
 done 
```

# ios - 将数据插入 SQLite（使用 FMDB）在设备上不起作用？

> ID：11824013
> 
> 赞同：0
> 
> 时间：2012-08-06T07:21:33.813
> 
> 标签：ios, ipad, sqlite, fmdb

我是这里的新手。在我的设备上运行时，我无法将任何数据插入我的 SQLite 数据库。我正在使用下面的代码来连接 SQLite。它在我的模拟器中完美运行，但不适用于我的 iPad 设备。有人可以帮忙吗？谢谢你。

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0]; 
NSString *writableDBPath = [documentsDirectory stringByAppendingPathComponent:@"DADatabase1.sqlite"];
NSLog(@"%@", writableDBPath);

FMDatabase* db = [FMDatabase databaseWithPath:writableDBPath];

/*if ([fileManager fileExistsAtPath:writableDBPath] == NO) {
    NSString *resourcePath = [[NSBundle mainBundle] pathForResource:@"DADatabase1.sqlite" ofType:@"sqlite"];
    [fileManager copyItemAtPath:resourcePath toPath:writableDBPath error:nil];
}*/
[db open];
[db traceExecution];
[db beginTransaction];
BOOL success = [db executeUpdate:[NSString stringWithFormat:@"insert into PatientDetails (patAge) values (?)",patAge.text]];
if(!success)
{
    NSLog(@"Query not success!");
}
else {
    NSLog(@"Query success!");
}
//NSString *query = [NSString stringWithFormat:];
[db commit];
[db close]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:38:39.090

你把你的`Database`和你`Tables`的放在你的项目资源文件夹中了吗？您必须将数据库文件复制到您的`Apps Document`文件夹中。

```
+ (BOOL)initDB {
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *path = [documentsDirectory stringByAppendingPathComponent:@"sqlite.db"]; 

NSFileManager *fileManager = [NSFileManager defaultManager];

if (![fileManager fileExistsAtPath: path])
{
    NSString *bundle =  [[ NSBundle mainBundle] pathForResource:@"sqlite" ofType:@"db"];
    [fileManager copyItemAtPath:bundle toPath:path error:nil];
    return YES;
}
    return NO;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:35:51.523

提供的示例代码没有`CREATE TABLE`声明。无处可`INSERT`插入。您在模拟器中开发时是否手动创建了表（使用`sqlite3`命令行工具）？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:41:25.537

**请注意**：

模拟器中的文件名不区分大小写，但设备中的文件名区分大小写。确保您的文件名完全相同。

# php - 需要 php 代码来使用 ACS 在 android 设备上发送推送通知

> ID：11824014
> 
> 赞同：3
> 
> 时间：2012-08-06T07:21:39.197
> 
> 标签：php, android, appcelerator-mobile

我想使用 php 在 android 设备上发送推送通知，为此我使用 ACS（Appcelerator cloud Services）。这是我的代码，如果有人找到任何解决方案，请分享。

```
$tmp_fname = "cookie.txt";
$curl_handle = curl_init('https://api.cloud.appcelerator.com/v1/users   /login.json?key=uGDhfoFYdIwwyCKQMzKlSuNIPxl3CBSd');
curl_setopt($curl_handle, CURLOPT_COOKIEJAR, $tmp_fname);
curl_setopt($curl_handle, CURLOPT_POST, 1);
curl_setopt($curl_handle, CURLOPT_RETURNTRANSFER, true);
curl_setopt($curl_handle, CURLOPT_COOKIEFILE, $tmp_fname);
$post_array = array('login' => 'abs', 'password' => '123456');
curl_setopt($curl_handle, CURLOPT_POSTFIELDS, $post_array);
$output = curl_exec($curl_handle);
//$session = json_decode($output);
print_r($output);
$json = '{"badge": 1,"sound": "default","alert" : "Abdul Sattar Testing"}';
$Curl_Session2 = curl_init('https://api.cloud.appcelerator.com/v1/push_notification/notify.json?key=uGDhfoFYdIwwyCKQMzKlSuNIPxl3CBSd&to_ids=ND1TQ9BM8TW4GYASMP2MJ84');
curl_setopt($Curl_Session2, CURLOPT_COOKIEFILE, "$tmp_fname");
curl_setopt($Curl_Session2, CURLOPT_COOKIEJAR, "$tmp_fname");
curl_setopt($Curl_Session2, CURLOPT_POST, 1);
curl_setopt($Curl_Session2, CURLOPT_RETURNTRANSFER, true);
curl_setopt($Curl_Session2, CURLOPT_POSTFIELDS, "channel=friend_request&payload=" . $json);
curl_setopt($Curl_Session2, CURLOPT_FOLLOWLOCATION, 1);
$res2 = curl_exec($Curl_Session2);
$response = curl_getinfo($Curl_Session2);
print_r($res2);
echo '<br /><br />';
print_r($response);
curl_close($Curl_Session2); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T22:54:24.607

已经尝试过了？ [https://developers.google.com/android/c2dm/](https://developers.google.com/android/c2dm/) 它是云到设备消息传递。它使创建推送通知变得更加容易。

希望可以帮助你:)

编辑：也许这也可以帮助你。 [http://developer.appcelerator.com/question/137264/php-curl-problem-acs-push-notification](http://developer.appcelerator.com/question/137264/php-curl-problem-acs-push-notification)

# java - 没有选择文件

> ID：11824019
> 
> 赞同：0
> 
> 时间：2012-08-06T07:21:56.300
> 
> 标签：java, io

我有这个下面的程序，它没有在指定的时间内选择文件，请更新..它有什么问题..

```
import java.io.BufferedReader;
import java.io.File;
import java.io.FileFilter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Calendar;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class PatternFileFilter implements FileFilter {

    public static String ITEM_TYPE_FILE = "File"; // for file

    public static String ITEM_TYPE_FOLDER = "Folder"; // for folder

    public static String ITEM_TYPE_FILE_AND_FOLDER = "FileAndFolder"; // for file and folder

    private Pattern fileNamePattern;

    public PatternFileFilter(Pattern fileNamePattern) {
        this.fileNamePattern = fileNamePattern;
    }

    public boolean accept(File pathname) {
        return fileNamePattern.matcher(pathname.getName()).find() || pathname.isDirectory();
    }

    public Pattern getPattern() {
        return fileNamePattern;
    }

    public static void searchFile(File topFolderOrFile, String type, PatternFileFilter filter, long timeOut) throws IOException {

        long startTimeStamp = Calendar.getInstance().getTimeInMillis();
        if (topFolderOrFile.isDirectory()) {
            File[] subFoldersAndFileNames = topFolderOrFile.listFiles(filter);
            if (subFoldersAndFileNames != null && subFoldersAndFileNames.length > 0) {
                for (File subFolderOrFile : subFoldersAndFileNames) {
                    if (ITEM_TYPE_FILE.equals(type) && subFolderOrFile.isFile()) {
                        System.out.println("File name matched ----- " + subFolderOrFile.getName());
                    }
                    if (ITEM_TYPE_FOLDER.equals(type) && subFolderOrFile.isDirectory()
                            && filter.getPattern().matcher(subFolderOrFile.getName()).find()) {

                        System.out.println("Folder name matched ----- " + subFolderOrFile.getName());
                    }

                    if (ITEM_TYPE_FILE_AND_FOLDER.equals(type) && filter.getPattern().matcher(subFolderOrFile.getName()).find()) {
                        System.out.println("File or Folder name matched ----- " + subFolderOrFile.getName());

                    }
                    // You need to decide if you want to process the folders inline // or after you've processed the
                    // file list...
                    if (subFolderOrFile.isDirectory()) {
                        long timeElapsed = startTimeStamp - Calendar.getInstance().getTimeInMillis();
                        if (((timeOut * 1000) - timeElapsed) < 0) {
                            System.out.println("Could not complete operation-- timeout");
                        } else {
                            searchFile(subFolderOrFile, type, filter, (timeOut * 1000) - timeElapsed);
                        }
                    }
                }
            }
        }
    }

    public static void searchFile(String topFolderName, String type, String fileNamePatternRegExp, long timeOut)
            throws IOException {
        File topFolderOrFile = new File(topFolderName);
        Pattern fileNamePattern = Pattern.compile(fileNamePatternRegExp);
        searchFile(topFolderOrFile, type, new PatternFileFilter(fileNamePattern), timeOut);
    }

    // ***************
    public static void main(String[] str) throws Exception {

        System.out.println("Type Item to Search ");
        System.out.println("1 File");
        System.out.println("2 Folder ");
        System.out.println("3 Both");
        System.out.println("0 Exit");

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        String searchType = br.readLine();

        System.out.println("Enter top folder name ::");

        String topFolderName = br.readLine();

        System.out.println("Enter name of file to search ::");

        String fileName = br.readLine();

        System.out.println("Enter timeout period in seconds::");

        String timeOutStr = br.readLine();

        if (searchType == null || fileName == null || topFolderName == null || timeOutStr == null) {
            throw new Exception("Error Occured::Provide both the input Parameters");
        }

        int searchTypeInd = Integer.parseInt(searchType);
        switch (searchTypeInd) {

        case 1:
            searchFile(topFolderName, ITEM_TYPE_FILE, fileName, Long.parseLong(timeOutStr));
            break;

        case 2:
            searchFile(topFolderName, ITEM_TYPE_FOLDER, fileName, Long.parseLong(timeOutStr));
            break;
        case 3:
            searchFile(topFolderName, ITEM_TYPE_FILE_AND_FOLDER, fileName, Long.parseLong(timeOutStr));
            break;

        case 0:
            System.exit(0);
        }

    }

} 
```

请告知我是否在 D:\saral 中有文件夹，它应该从 D: 文件夹中选择文件

> 我得到的结果是......
> 
> 键入要搜索的项目 1 文件 2 文件夹 3 两者 0 退出 3 输入顶层文件夹名称 :: Test 输入要搜索的文件名称 :: allMfile.txt 输入超时时间（以秒为单位）:: 5

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:36:00.520

我想这是错误的：

```
searchFile(subFolderOrFile, type, filter, (timeOut * 1000) - timeElapsed);
                                                  ^^^^^^^ 
```

看起来你混合了时间单位：你期望秒但传递一个毫秒值。在您的情况下，您通过的第一次超时等于 5 秒，在第一次递归中，您通过 5000 秒，在下一级超过 1000 倍......

提示：将方法参数重命名为`timeOutInSeconds`并再次读取您的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:50:16.307

我建议颠倒逻辑。不要传入超时（并进行复杂的计算），而是在方法之外计算结束时间：

```
long timeOut = System.currentTimeMillis() + Long.parseLong(timeOutStr); 
```

在该方法中，您可以使用以下方法检查超时：

```
if( System.currentTimeMillis() > timeOut ) { break; } 
```

您也不会在代码中结束循环（使用`break`or `return`），因此检查超时只会阻止递归调用。

最后，考虑反转你的`if()`条件而不是嵌套它们：

```
if (!topFolderOrFile.isDirectory()) { return; }

File[] subFoldersAndFileNames = topFolderOrFile.listFiles(filter);
if (subFoldersAndFileNames == null || subFoldersAndFileNames.length == 0) { return; }

... 
```

# jquery - 使用 jQuery 测试子项是否包含特定文本

> ID：11824022
> 
> 赞同：6
> 
> 时间：2012-08-06T07:22:27.673
> 
> 标签：jquery, html, css, filter

我必须过滤一个 html 表。为此，我为所有`tr`元素创建了一个 each 回调，并测试其中一个是否`tr-children`包含某些特定模式。

```
$("#filter").keypress(function() {
    var filter = $(this).val();

    $("#table1 tr[data-config]").each(function(){

        var val = $(this).find(":contains('" + filter + "')");

        if(val.length > 0){
            $(this).css("display","table-row");
        }else{
            $(this).css("display","none");
        }
    });
}); 
```

它可以工作，但是是否有一个功能可以测试元素是否包含一些文本？

目前，我检索包含该模式的所有元素的列表，并计算它是否大于零。是否有一个 jQuery 函数来测试这种模式是否发生并返回一个布尔值？该表可以包含许多行，因此我希望尽可能少的开销。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T07:30:47.760

```
///// replace these lines...
// var val = $(this).find(":contains('" + filter + "')");
// if(val.length > 0){

///// with this line
if($(this).text().match(filter)){ 
```

这通过将整行内容转换为文本字符串，然后使用简单的字符串比较函数来检查过滤器是否包含在文本中（因此行）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-01-28T21:01:04.213

答案很好，但是使用 :contains 有一种更简单的方法

一般来说，这样做：

```
$(".class:contains('texttofind')").css("display", "none"); 
```

使用上面的具体示例，请执行以下操作：

```
$("#table1 tr[data-config]:contains('" + filter + "')").css("display","table-row"); 
```

您可以在此处了解更多信息：[https ://api.jquery.com/contains-selector/](https://api.jquery.com/contains-selector/)

这避免了循环使用`.each`or `.find`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-27T05:20:46.637

当过滤器区分大小写时，这是使其不区分大小写的方法：

```
.match("/pattern/i"); 
```

[[比利](https://stackoverflow.com/questions/11824022/test-if-children-contain-specific-text-with-jquery/11824143#11824143)的道具！]

# php - PHP 爆炸多维数组

> ID：11824033
> 
> 赞同：0
> 
> 时间：2012-08-06T07:23:02.003
> 
> 标签：php, arrays, multidimensional-array, explode, dimensional

我正在使用 file_get_contents() 导入文本文件。在文本文件中，格式如下（示例）：

3434,83
​​,8732722 834,93,4983293
9438,43933,34983

依此类推...基本上它遵循以下模式：整数，逗号分割它，第二个整数，另一个逗号分割它，第三个整数，然后新行开始。我需要将其放入相应格式的表格中。所以换句话说，我将有一个 3 列的表，文本文件中的每一行都是表中的新行。

这必须用 <table> <tr> 和 <td> 转码成一个简单的 html 表

我从来没有使用过多维数组并用它来分割文本。这就是我寻求帮助的原因。对此，我真的非常感激！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:56:12.110

您可以执行以下操作：

```
$filename = 'abc.txt';
$content = file_get_contents($filename);
$explodedByBr = explode('<br/>', $content);
$table = "<table border='1'>";
foreach ($explodedByBr as $brExplode) {
  $explodedByComma = explode(',', $brExplode);

  $table .= "<tr>";
  foreach ($explodedByComma as $commaExploded) {
    $table .= "<td>" .$commaExploded. "</td>";
  }
  $table .= "<tr/>";
}
$table .= "</table>";

echo $table; 
```

abc.txt 具有以下格式的数据：

3434,83
​​,8732722 834,93,4983293
9438,43933,34983

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:30:58.620

尝试这个：

将文件读入一个数组，然后通过传递它来处理数组的每一行，将其列化`array_walk`。

```
<?php
function addElements( &$v, $k ) {
    $v1 = explode( ',', $v ); // break it into array
    $v2 = '';
    foreach( $v1 as $element ) {
        $v2 .= '<td>'.$element.'</td>';
            // convert each comma separated value into a column
    }
    $v = '<tr>'.$v2.'</tr>'; // add these columns to a row and return
}

// read the whole file into an array using php's file method.
$file = file( '1.txt' );
// now parse each line of the array so that we convert each line into 3 columns.
// For this, i use array_walk function which calls a function, addElements, 
// in this case to process each element in the array.
array_walk( $file, 'addElements' );
?>
<html>
     <head></head>
     <body>
         <table border="0">
             <?php echo implode('',$file);?>
         </table>
     </body>
</html> 
```

希望能帮助到你。请参阅 php 文档以获取`file`和`array_walk`。这些都是简单方便的功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:28:39.417

```
<?php
    $file = 'path/to/file.txt';
    echo '<table>';
    while(!feof($file)) {
        $line = fgets($file);

        echo '<tr><td>' . implode('</td><td>',explode(',',$line)) . '</td></tr>';
    }
    echo '</table>';
?> 
```

# .net - 外发光位图效果的真正替代品

> ID：11824034
> 
> 赞同：0
> 
> 时间：2012-08-06T07:23:07.623
> 
> 标签：.net, wpf

我阅读了有关替代 DropShadowEffect 的信息，但就我而言，我无法使用它。

我的窗口有自己的样式并且是透明的。我想为它添加一个外发光，现在已弃用（outerGlowBitmapEffect）。

DropShadowEffect 将在我的窗口后面添加一个恒定颜色，由于透明窗口而变得可见。因此，它不是外发光的真正替代品。

我还能做些什么来实现外发光？

编辑：

```
<Window x:Class="DVR.Gui.GuiTemplates.Dialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Dialog" Width="400"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize" 
        ShowInTaskbar="False" WindowStyle="None"
        UseLayoutRounding="True"
        AllowsTransparency="True" Background="Transparent" SizeToContent="Height">
    <Border Margin="10">

        <Border.Style>
        <Style TargetType="{x:Type Border}">
            <Setter Property="Background" Value="#CCFFFFFF" />
            <Setter Property="CornerRadius" Value="10,10,10,10" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{x:Static SystemColors.ControlDarkBrush}" />
        </Style>
        </Border.Style>
        <DockPanel LastChildFill="True">
            OTHER CONTENT
        </DockPanel>
    </Border>
</Window> 
```

# javascript - prototype.function 与 this.function 有一点不同

> ID：11824035
> 
> 赞同：0
> 
> 时间：2012-08-06T07:23:09.420
> 
> 标签：javascript

老问题，问了很多次，回答了很多次，但有点扭曲。首先是原型版本：

```
someA = function() {
    this.val = 'a';
}
someA.prototype.getVal = function() {
    return this.val;
} 
```

现在另一个版本：

```
someA = function() {
    this.val = 'a';
    this.getVal = function() {
        return this.val;
    }
} 
```

现在，假设 getVal() 函数是**HUGE**，您将创建数以千计的 someA 对象，但无论出于何种原因，您想使用 this.getVal 版本？如果我们这样写会怎样：

```
someA =function() {
    this.val = 'a';
    this.getVal = this._getVal;
}
someA.prototype._getVal = function() {
    return this.val;
} 
```

这样做，你是否会同时拥有两者的优势？

ps 在一个完全不同（但仍然有些相关）的主题上，如何在问题或答案之一中添加问题和*评论*？

**已编辑：**将所有出现的情况更改`return val`为`return this.val`-- 愚蠢的错误 ;-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:51:25.083

下面的示例起作用的原因是，该`getVal`函数位于闭包中，将所有变量保留在外部函数的范围内，因此，创建运行实例的结果`someA`为您提供了一个对象，该对象具有`getVal`可以访问的方法的值`val`。

```
var someA = function() {
  var val = 'a';
  this.getVal = function() {
    return val;
  }
}; 
```

如果您将 val 公开为成员变量（即：），`this.val = 'a';`那么您将需要该`getVal`方法还返回成员变量版本，而不仅仅是`return val;`.

```
var someA = function() {}
someA.prototype = {
  val: 'a',
  getVal: function() {
    return this.val;
  }
}; 
```

使用原型意味着这在功能上等同于：

```
var someA = function() {
  this.val = 'a';
  this.getVal = function() {
    return this.val;
  }
} 
```

但具有显着的性能提升，因为只有一个 getVal 函数实例。但是，您可以通过将其重写为来使用具有多个引用的单个函数实例：

```
var _getVal = function() {
  return this.val;
};
var someA = function() {
  this.val = 'a';
  this.getVal = _getVal;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:43:19.347

您只是给原型函数起别名，没有任何好处。当您将其分配给某物时，在别处定义的函数不会意识到任何变量。它并没有突然出现`val`在它的范围内。

然而，无论函数是在哪里定义的，一个函数对于每次调用都可以有不同的对象上下文。这允许对不同对象进行真正的函数重用，并且不需要将所有内容保存在巨大的闭包链中并为每个对象重新创建它们。

您可以尝试运行代码，看看它不起作用：

```
someA =function() {
    var val = 'a';
    this.getVal = this._getVal;
}
someA.prototype._getVal = function() {
    return val; //This will throw reference error because the `val` is not
                //known here.
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:46:53.830

做这个IMO真的没有意义。

有些人可能会争辩说，原型版本会节省你的内存并给你带来更好的性能。尽管您可以尝试在 jsPerf 上设置测试并查看您得到的结果，但这可能是正确的，但可能不足以产生显着差异。

两者当然是有区别的。原型只会创建属性或方法的一个实例，而构造函数将创建与对象实例一样多的实例。

我会说，只要选择对你有意义的东西，或者将两者结合起来。如果您真的关心性能，那么使用构造函数添加可能更改的属性或每个实例必须唯一的属性，并使用原型创建适用于所有实例的公共方法。

# c++ - 一个简单的opencv相机程序中抛出的异常

> ID：11824041
> 
> 赞同：-2
> 
> 时间：2012-08-06T07:23:25.637
> 
> 标签：c++, c, exception, opencv

我是opencv的新手，编写了一个非常简单的程序来显示从相机捕获的图像。

代码是：

```
#include "cv.h"
#include "highgui.h"

int main(int argc, char** argv) {
    cvNamedWindow("win");

    CvCapture* capture = cvCreateCameraCapture(0);
    IplImage* frame = cvQueryFrame(capture);
    IplImage* out = cvCreateImage(cvGetSize(frame), frame->depth, 1);
    while(1) {
        frame = cvQueryFrame(capture);
        if(!frame) break;
        cvCanny(frame, out, 10, 100, 30);
        cvShowImage("win", out);  // !!!!! this line thrown exception

        char c = cvWaitKey(20);
        if(c==27) break;
    }

    cvReleaseImage(&out);
    cvReleaseCapture(&capture);
    cvDestroyWindow("win");
    return 0;
} 
```

但是当我运行它时，它会抛出异常：

```
Unhandled exception at at 0x000007FEFDD0CACD in Project2.exe: Microsoft C++ exception: cv::Exception at memory location 0x000000000024DA50. 
```

哪里出了问题，如何解决？

* * *

**更新**

最后，我找到了原因：

```
cvCanny(frame, out, 10, 100, 30); 
```

最后一个参数太大了，如果我把它改成`3`，一切正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:38:52.790

以前从未使用过*opencv*，但我将在这里猜测以下之一：

```
 CvCapture* capture = cvCreateCameraCapture(0);
 IplImage* frame = cvQueryFrame(capture);
 IplImage* out = cvCreateImage(cvGetSize(frame), frame->depth, 1); 
```

是**NULL 或 invalid**，并且由于您随后将它们传递给其他函数，因此您将进一步崩溃。

# javascript - 无法在 symfony2 中获得 ajax 请求的响应

> ID：11824047
> 
> 赞同：0
> 
> 时间：2012-08-06T07:23:44.577
> 
> 标签：javascript, ajax, symfony

我是 symfony2 的新手。基本上我想将一个变量发送`name`到一个名为`sub.html.php`. 我正在发出如下的ajax请求：

```
function onsub()
    {
        alert(document.getElementById('source').value);
        var http=new XMLHttpRequest();
        var name="rohit";
        http.open("POST", {{path('task1')}}, false);

        http.onreadystatechange = function() 
        {
        alert(http.status);
            if(http.readyState == 4 && http.status == 200) 
            {

                alert('i m back');
            }
            else
            {
                alert('sorry');

            }
        }  

        http.send();
        return false;
    } 
```

我定义的路线`task1`如下：

```
task1:
    pattern:    /task1/
    defaults:   {_controller:AcmeTaskBundle:Task:task1} 
```

在TaskController中我定义了task1Action如下：

```
public function task1Action()
    {
    return $this->render('AcmeTaskBundle:Default:sub.html.php');
    } 
```

但无论如何我都无法调用 sub.html.php 文件。我怎样才能调用这个文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T12:36:04.127

您可以转发来自`TaskController::task1Action()`类似的请求...

```
$response = $this->forward('VendorOtherBundleName:ControllerName:ActionName', array(
    'some_variable'  => $value
)); 
```

[你可以在这里](http://symfony.com/doc/current/book/controller.html#forwarding)阅读更多

# visual-studio-2010 - Documentation for writting your own dll for Rundll32.exe?

> ID：11824055
> 
> 赞同：1
> 
> 时间：2012-08-06T07:24:08.203
> 
> 标签：visual-studio-2010, winapi, dll, rundll32

> **Possible Duplicate:**
> [How to use Rundll32 to execute DLL Function?](https://stackoverflow.com/questions/3207365/how-to-use-rundll32-to-execute-dll-function)

Where can I find documentation (tutorials, books, etc.) to write my own dll's that can be run with rundll32.exe?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-11T10:22:47.273

Here is the most basic Hello World sample I could come up with that will work with `rundll.exe`. Please follow along these steps:

Start a fresh WIN32 DLL project in Visual Studio (I used VS2010)

In dlllmain.cpp add:

```
// this shoud ideally go into the .h file I believe
__declspec( dllexport ) void CALLBACK EntryPoint(
       HWND hwnd, 
      HINSTANCE hinst, 
      LPSTR lpszCmdLine, 
      int nCmdShow);

// our hello world function
void CALLBACK EntryPoint(HWND hwnd, HINSTANCE hinst, LPSTR lpszCmdLine, int nCmdShow)
{
    int msgboxID = MessageBox(
        NULL,
        L"Hello World from Run32dll",
        L"Hello World",
        MB_ICONWARNING | MB_CANCELTRYCONTINUE | MB_DEFBUTTON2
    );

    switch (msgboxID)
    {
    case IDCANCEL:
        // TODO: add code
        break;
    case IDTRYAGAIN:
        // TODO: add code
        break;
    case IDCONTINUE:
        // TODO: add code
        break;
    }

} 
```

Add a `module.def` file to your project and edit the following snippet in it:

```
LIBRARY YourDll
EXPORTS
    EntryPoint 
```

Compile and then test from the commandline with

```
rundll32 YourDll.dll,EntryPoint 
```

You should be greeted with a MessageBox with three buttons

I used the following url's to overcome C++ issues and *EntryPoint not found* in the early stages of my effort:

*   [Rundll from user mricicle](http://everything2.com/title/rundll32)
*   [How messagebox works](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645505%28v=vs.85%29.aspx)
*   [DependencyWalker](http://www.dependencywalker.com/)
*   [Exporting functions](http://msdn.microsoft.com/en-US/library/a90k134d%28v=vs.100%29)
*   [Exporting with .def file](http://msdn.microsoft.com/en-us/library/d91k01sh)
*   [String literals](http://msdn.microsoft.com/en-us/library/69ze775t%28v=vs.100%29.aspx)

# eclipse - 从 Eclipse 4 RCP 中的部分传递数据以查看

> ID：11824061
> 
> 赞同：4
> 
> 时间：2012-08-06T07:24:36.603
> 
> 标签：eclipse, eclipse-rcp

在 Eclipse 4 RCP 中创建零件时如何将数据对象传递给查看。

我有联系人详细信息部分描述符，并且每次用户单击联系人列表时都会创建新部分。但我需要将联系信息传递给视图。我如何在创建零件时将联系信息传递给视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-05T10:24:02.587

您可以使用 Context( `IEclipseContext`) 或`IEventBroker`用于发送您的数据对象。只需使用上下文，因为 MPart、MWindow、MApplication 和 MPerspective 扩展了 MContext。

```
 part.getContext().set("name-of-your-object", your-data-object); 
```

您可以简单地获取您的数据对象，如下所示：

```
your-data-object aa = (your-data-object)part.getContext().get("name-of-your-object") 
```

# javascript - 将常规 javascript 数组分配给对象数组

> ID：11824062
> 
> 赞同：1
> 
> 时间：2012-08-06T07:24:39.073
> 
> 标签：javascript

我在 javascript 中有 3 个常规数组

> 第一个数组：ids[]（包含 id 列表）
> 第二个数组：country[]（包含国家名称列表）
> 第三个数组：code[]（包含国家代码列表）

我需要从这三个数组中创建一个对象数组，比如“comb”，键为“id”、“name”和“code”，以及 3 个数组中的相应值。

例如：这就是我想要的常规数组

```
var comb = [
{id:1, name:'United States',code:'US'},
{id:2, name:'China',code:'CH'}
]; 
```

谁能告诉我如何实现这一目标

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T07:28:06.997

```
var comb = [];
for (var i=0,n=ids.length;i<n;i++) {
  comb.push({id:ids[i],name:country[i],code:codes[i]});
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T07:33:44.833

我更喜欢以这种方式定义对象，我认为它看起来更具可读性。

```
function Country(id, country, code) {
    this.id = id;
    this.country = country;
    this.code = code;
}

var comb = new Array();

for(var i = 0; i < ids.length; i++) {
    var ctry = new Country(ids[i], country[i], codes[i]);
    comb.push(ctry);
} 
```

# javascript - 使用 JavaScript 解析 JSON 的最佳方法

> ID：11824063
> 
> 赞同：5
> 
> 时间：2012-08-06T07:24:41.647
> 
> 标签：javascript, jquery

> **可能重复：** [JavaScript 对象的长度（即关联数组）](https://stackoverflow.com/questions/5223)

我有以下格式的 JSON

```
[{"student":{"name" : "ABCD",
        "age":8,
        }
    "user":{ "firstName":"ABCD",
            "age": 9,
        }
        },
   {"student":{"name" : "XCYS",
        "age":10,
        }
    "user":{ "firstName":"GGG",
            "age": 11,
        }
},] 
```

我尝试使用`(data.student[i].length)`，它不起作用（只是为了看看对象的长度是多少），我也尝试过`(data.user[i])`无济于事。

我基本上对如何获取 JSON 中一个对象的长度以及如何有效地显示它感到非常困惑。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:30:42.083

您问题中的内容不会解析为有效的 JSON，因为所有键都需要用引号括起来（因此您应该使用`"age": 11`而不是`age: 11`）。对象中的所有键/值对都应该用逗号分隔（所以你应该有`"firstName": "GGG", "age": 11`而不是`"firstName": "GGG" "age": 11`。在外部数组中也有一个尾随逗号。

只要您拥有有效的 JSON，您应该能够`JSON.parse(data)`在所有比 IE7 更新的浏览器中使用将字符串转换为实际对象。解析为对象后，您可以使用：

```
var data = "your JSON string";
var object = JSON.parse(data);

console.log(object.length); // the number of objects in the array
console.log(object[0].student.name; // the name of the first student 
```

如果您支持浏览器 IE7 及更早版本，请查看 Douglas Crockford 的 JSON polyfill：[https ://github.com/douglascrockford/JSON-js](https://github.com/douglascrockford/JSON-js)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:37:07.137

[请在某些网站http://jsonformatter.curiousconcept.com/](http://jsonformatter.curiousconcept.com/)中验证您的 json 字符串

由于 javascript 是一种脚本语言，它会解释脚本并在出现一些语法错误时终止解释。尝试在浏览器中使用一些 javascript 控制台

> IE - 开发者工具
> 
> Firefox - 萤火虫插件

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T07:38:19.630

让我们假设您拥有的*实际*对象是有效的（没有缺少逗号等），并且您已经正确解析了字符串，您正在尝试使用数组索引访问对象，反之亦然。让我们从头开始重建对象：

首先，你有一个数组。

```
[] 
```

您可以使用 访问数组中的第一个元素`data[0]`。第一个元素是一个对象。

```
[
    {}
] 
```

该对象有两个键，它们都保存对象。

```
[
    {
        "student": {},
        "user": {}
    }
] 
```

您使用 访问`student`密钥`data[0].student`。它包含一个带有两个键的对象。

```
[
    {
        "student": {
            "name": "ABCD",
            "age": 8
        },
        "user": {}
    }
] 
```

您可以通过以下方式获得该对象中的值的数量：

```
Object.keys( data[0].student ).length; 
```

要获得更好的浏览器支持，请参阅[JavaScript 对象的长度](https://stackoverflow.com/questions/5223/length-of-javascript-object-ie-associative-array)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:48:44.043

首先，json 的结构不正确 - 一些元素名称缺少引号、逗号在错误的位置、丢失等。将您的与此进行比较：

```
 var json = [{"student":{"name" : "ABCD","age":8}, "user":{ "firstName":"ABCD", "age": 9}},
            {"student":{"name" : "XCYS","age":10}, "user":{ "firstName":"GGG", "age": 11}}
            ]; 
```

json 比垂直展开更容易校对。然后，使用一个简单的循环：

```
 for(var ix in json)
{
        alert(json[ix].student.name +"="+json[ix].student.age);
} 
```

希望你能看到如何从那里去。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T21:10:36.813

我想出了如何解析它，看起来很简单

`data[i].student.name`我用过`data[i].user.name`

这似乎提醒了正确的值

谢谢大家的回复！！

# yii - 如何在 Yii 中建立两个表的两个外键值之间的关系

> ID：11824064
> 
> 赞同：1
> 
> 时间：2012-08-06T07:24:44.067
> 
> 标签：yii, relation

我有这样的数据库

```
==== cis_policy_registration====
id
policy_id
email_id
policy_start_date

==== cis_policy_family_details===
id
policy_id
is_main_applicant
firstname
lastname
gender 
```

现在如何使用policy_id（两个表）建立模型之间的关系，我想在注册模型中取名和姓并检查主申请人

必须在 CGridView 中列出

谁能解决这个问题

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:47:51.330

这两个表之间的关系应该从“主”模型（策略）处理，所以在策略模型类中你应该有：

```
'policy_reg' => array(self::HAS_ONE, 'PolicyRegistration', 'policy_id'),
'policy_details' => array(self::HAS_ONE, 'PolicyDetails', 'policy_id'), 
```

进而：

```
$policy = Policy::model()->with(array('policy_details'))->findByPk($pk);
$policy->policy_details->is_main_applicant;
... 
```

在 CGridView 中，您可以像这样打印关系值（在从 Policy 模型发送 CActiveDataProvider 对象之后）：

```
'policy_details.firstname' 
```

或者

```
array(
    'name'=>'Firstname',
    'value'=>'$data->policy_details->firstname',
), 
```

# c++ - NPAPI：需要两次 RetainObject() 处理程序，否则 SIGBUS

> ID：11824065
> 
> 赞同：1
> 
> 时间：2012-08-06T07:24:51.533
> 
> 标签：c++, npapi, browser-plugin, sigbus

在我的 NPAPI 插件中，一些对象具有可读可写的“onEvent”属性，并在某些事件上调用。

我的 Javascript 代码中的内容如下所示：

```
myObject.onEvent = function( event ) {
    console.log("Event: " + event );
}

// if I put this next line, the next call to the 'onEvent' handler will SIGBUS
// when there's no RetainObject() in the getter.
console.log("Event handler : " + myObject.onEvent); 
```

在插件的 C++ 端，我有这样的代码：

```
bool MyPluginObject::getOnEvent(NPIdentifier id, NPVariant *result)
{
    if( _onEvent )
    {
        OBJECT_TO_NPVARIANT( _onEvent, *result);
        NPN_RetainObject( _onEvent ); // needed ???? why??
    }
    else
        VOID_TO_NPVARIANT(*result);

    return true;
}

bool MyPluginObject::setOnEvent( NPIdentifier id, const NPVariant *value )
{
    if ( value && NPVARIANT_IS_OBJECT( *value ) )
    {
        if( _onEvent != NULL )
        {
            // release any previous function retained
            NPN_ReleaseObject( _onEvent );
        }

        _onEvent = NPVARIANT_TO_OBJECT( *value );
        NPN_RetainObject( _onEvent ); // normal retain

        return true;
    }
    return false;
}

void MyPluginObject::onEvent(void)
{
    NPVariant event = [...];

    if ( _onEvent!= NULL )
    {
        NPVariant retVal;
        bool success = NPN_InvokeDefault( _Npp, _onEvent, &event, 1, &retVal );
        if( success )
        {
            NPN_ReleaseVariantValue(&retVal);
        }
    }
} 
```

奇怪的是，我一直在为一个 SIGBUS 问题苦苦挣扎，一旦我`NPN_RetainObject()`在 getter 中添加了，正如你在上面看到的，一切都很好。

我没有在[Mozilla 文档](https://developer.mozilla.org/en-US/docs/NPN_GetProperty)中找到需要它的声明，在 Taxilian[关于 NPAPI](http://colonelpanic.net/2009/12/memory-management-in-npapi/)的很棒的文档中也没有发现。

我不明白：当浏览器请求我保留的属性时，为什么我必须第二次保留它？

我应该在调用`InvokeDefault()`它时保留该功能吗？但是，为什么？我已经说过我想保留它。

是在不告诉我的情况下做`getProperty()`或`InvokeDefault()`实际上做的吗？`NPN_ReleaseObject()`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T09:28:08.487

您始终必须使用 NPAPI 保留对象输出参数，这并非特定于属性获取器。

在您的特定情况下，该对象可能仍然保持活动状态，但在一般情况下不会：
考虑将一个对象返回给您不打算通过插件保持活动状态的调用者。您必须将所有权转移给调用者，并且不能返回保留计数为`0`.

# iphone - 未加载 mapViewDidLoad 方法

> ID：11824070
> 
> 赞同：1
> 
> 时间：2012-08-06T07:25:07.717
> 
> 标签：iphone, objective-c, ios, xcode4.3, arcgis

目标 c 的新手，我将 ArcGIS 用于地图部分。我有一个`mapViewDidLoad`没有调用/加载该方法的问题。这是代码的一部分：

.h 文件

```
@interface ViewController : UIViewController<AGSMapViewLayerDelegate, AGSMapViewTouchDelegate, AGSMapViewCalloutDelegate>{
AGSMapView *_mapView;
AppDelegate *appDelegate;
...
} 
```

.m 文件

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    [self.activityView startAnimating];
    self.mapView.touchDelegate = self;
    self.mapView.calloutDelegate = self;
    appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    CLLocationManager *locationManager = [[CLLocationManager alloc] init];
    ...
}

- (void)mapViewDidLoad:(AGSMapView *)mapView {

    AGSEnvelope *envelope = [[AGSEnvelope alloc]initWithXmin:29757.610204117
                                                    ymin:40055.0379682464
                                                    xmax:29884.6992302249
                                                    ymax:40236.6028660071
                                        spatialReference:self.mapView.spatialReference];
    [self.mapView zoomToEnvelope:envelope animated:YES];

    self.mapView.callout.width = 195.0f;
    self.mapView.callout.accessoryButtonHidden = YES;

    [self.mapView.gps start];
    [self.mapView centerAtPoint:self.mapView.gps.currentPoint animated:YES];   
    NSLog(@"Location : %@", self.mapView.gps.currentPoint);

    [self.activityView stopAnimating];
    self.activityView.hidden = YES;

} 
```

我的代码有什么问题，为什么我不加载该`mapViewDidLoad`方法。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:37:10.850

只需`self.mapView.delegate = self;`添加`viewDidLoad`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:38:51.363

确保通过右键单击mapview连接mapviewdelegate，然后分配委托.. ![在此处输入图像描述](../Images/1e8120b10cdb1a5c236d2d0e734bc47e.png)

或添加`[self.mapview setDelegate:self];`

在您的情况下，“AGSMapView”mapViewDidLoad：在将第一层添加到地图后调用 AGSMapViewLayerDelegate 上的方法。此时，该组件功能齐全，您可以在 [http://help.arcgis.com/en/arcgismobile/10.0/apis/iphone/reference/interface_a_g_s_map_view.html中找到对它的引用](http://help.arcgis.com/en/arcgismobile/10.0/apis/iphone/reference/interface_a_g_s_map_view.html)

使 self.mapview.layerDelegate = self;

# linux - unix / linux中的keepalive超时

> ID：11824073
> 
> 赞同：0
> 
> 时间：2012-08-06T07:25:26.963
> 
> 标签：linux, unix

如果客户端正在等待 recv() 并且连接由于 keepalive 超时而超时，recv() 的返回值是多少，是否为由于 keepalive 超时而终止连接设置了任何特定的错误代码？

我可以看到我们有一个特定的错误代码，用于 Windows 上的 keepalive。WSAENETRESET 对于面向连接的套接字，此错误表明连接已由于在操作进行时检测到故障的保持活动活动而中断。对于数据报套接字，此错误表示生存时间已过期。

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms740121(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740121(v=vs.85).aspx)

请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T10:59:58.333

如果发生 keepalive 超时，您将收到一个`SIGPIPE`if you try to `read()`or `write()`on the socket。

另请参阅： [如何正确使用 SO_KEEPALIVE 选项来检测另一端的客户端已关闭？](https://stackoverflow.com/questions/5435098/how-to-use-so-keepalive-option-properly-to-detect-that-the-client-at-the-other-e)

# twitter-bootstrap - twitter bootstrap 在流体配置中从跨度中删除排水沟

> ID：11824074
> 
> 赞同：1
> 
> 时间：2012-08-06T07:25:31.080
> 
> 标签：twitter-bootstrap

我关注了这篇文章但没有成功：

[https://github.com/twitter/bootstrap/issues/3445#issuecomment-5640392](https://github.com/twitter/bootstrap/issues/3445#issuecomment-5640392)

我正在使用流体容器和行，我想去除跨度之间的排水沟。

为了获得没有左侧边距的跨度，我到底该怎么做？我使用了属性@fluidGridGutterWidth 设置为0 的自定义构建。我什至手动添加到响应式和常规css 文件中：@fluidGridGutterWidth: margin-left:0;!important; @gridGutterWidth: margin-left:0;!important;

仍然得到这个排水沟！！！！

请指教 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T11:45:41.063

**更新**自 2.1 起，响应式网格排水沟可在`variables.less`文件中编辑（[参见 github](https://github.com/twitter/bootstrap/blob/v2.1.0/less/variables.less#L257)）

```
@gridGutterWidth: 20px;
...
@gridGutterWidth1200: 30px;
...
@gridGutterWidth768: 20px; 
```

* * *

首先，`!important`必须在`;`like之前`margin-left: 0!important;`

其次，变量应该设置为值，而不是整个规则：

```
@fluidGridGutterWidth: 0; 
```

函数也是如此（来自`responsive-1200px-min.less`文件的示例）

```
#grid > .fluid(8.547008547%, 0); 
```

*此硬编码*参数修改涉及几个响应文件。**（版本 < 2.1 - 查看更新）**

# c# - 使用文字显示缩略图并在点击事件上动态显示大图像

> ID：11824079
> 
> 赞同：0
> 
> 时间：2012-08-06T07:26:00.977
> 
> 标签：c#, javascript, jquery, thumbnails, literals

我的网站基于 C#.net。我有一个文件夹，用户可以在其中放置未知数量的图像。每个图像都有一个缩略图版本和大尺寸。

例如，如果图像名称为“car.jpg”，则缩略图图像将为 thcar.jpg”（即，只需在图像名称前附加“th”）。

**在我的页面加载事件中，我想使用 asp:literal 显示所有这些缩略图。当用户单击缩略图时，我想在缩略图上方的 asp:image 中显示该图像的较大尺寸。**

谁能帮我这个？jquery 或 javascript 中的代码会更有用，而我对 C# 代码也很满意....提前致谢，

编辑：我的网页应该看起来像

```
 ____________________
|                    |
|  Larger image      |
|                    |
|____________________| 
```

缩略图，

```
 _   _   _   _
|_| |_| |_| |_| 
```

每当单击缩略图时，应显示缩略图的较大版本....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T09:47:58.553

我也做了一个基本的例子：

[http://jsbin.com/utijid/1](http://jsbin.com/utijid/1)

它的来源在这里：

[http://jsbin.com/utijid/1/edit](http://jsbin.com/utijid/1/edit)

# android - 这个在 Android 中访问 SQLite 数据库的简单 Java 代码有什么问题？

> ID：11824080
> 
> 赞同：0
> 
> 时间：2012-08-06T07:26:02.897
> 
> 标签：android, sqlite, cursor, sqlitemanager

我使用 SQLiteManager 创建了一个包含一个表的数据库文件 (.db)，`TEstTable`并将其粘贴到*/assets*文件夹中。我想从我的 Android 应用程序对此数据库执行操作。

为此，我按照Stack Overflow 上的建议遵循[了本教程。](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)

添加了更多代码来读取它并将结果保存在字符串中并打印该结果，准确地说我只添加了一个原始查询。

检查我的 DatabaseHelper 类代码：

```
public class DatabaseHelper extends SQLiteOpenHelper {
    //The Android's default system path of your application database.
    private static final String DB_PATH = "/data/data/com.example.sqlitemanagerexample/databases/";

    private static final String DB_NAME = "managerSample";

    private SQLiteDatabase myDataBase;

    private final Context myContext;

    /**
     * Constructor Takes and keeps a reference of the passed context in order to
     * access to the application assets and resources.
     * 
     * @param context
     */
    public DatabaseHelper(Context context) {

            super(context, DB_NAME, null, 1);
            this.myContext = context;
    }

    /**
     * Creates a empty database on the system and rewrites it with your own
     * database.
     * */
    public void createDataBase() throws IOException {

            boolean dbExist = checkDataBase();

            if (dbExist) {
                    // do nothing - database already exist
            } else {

                    // By calling this method and empty database will be created into
                    // the default system path
                    // of your application so we are gonna be able to overwrite that
                    // database with our database.
                    this.getReadableDatabase();

                    try {

                            copyDataBase();

                    } catch (IOException e) {

                            throw new Error("Error copying database");

                    }
            }

    }

    /**
     * Check if the database already exist to avoid re-copying the file each
     * time you open the application.
     * 
     * @return true if it exists, false if it doesn't
     */
    private boolean checkDataBase() {

            SQLiteDatabase checkDB = null;

            try {
                    String myPath = DB_PATH + DB_NAME;
                    checkDB = SQLiteDatabase.openDatabase(myPath, null,
                                    SQLiteDatabase.OPEN_READONLY);

            } catch (SQLiteException e) {

                    /* database does't exist yet. */

            }

            if (checkDB != null) {

                    checkDB.close();

            }

            return checkDB != null ? true : false;
    }

    /**
     * Copies your database from your local assets-folder to the just created
     * empty database in the system folder, from where it can be accessed and
     * handled. This is done by transfering bytestream.
     * */
    private void copyDataBase() throws IOException {

            // Open your local db as the input stream
            InputStream myInput = myContext.getAssets().open(DB_NAME);

            // Path to the just created empty db
            String outFileName = DB_PATH + DB_NAME;

            // Open the empty db as the output stream
            OutputStream myOutput = new FileOutputStream(outFileName);

            // transfer bytes from the inputfile to the outputfile
            byte[] buffer = new byte[1024];
            int length;
            while ((length = myInput.read(buffer)) > 0) {
                    myOutput.write(buffer, 0, length);
            }

            // Close the streams
            myOutput.flush();
            myOutput.close();
            myInput.close();

    }

    public void openDataBase() throws SQLException {

            // Open the database
            String myPath = DB_PATH + DB_NAME;
            myDataBase = SQLiteDatabase.openDatabase(myPath, null,
                            SQLiteDatabase.OPEN_READONLY);

    }

    @Override
    public synchronized void close() {

            if (myDataBase != null)
                    myDataBase.close();

            super.close();

    }

    @Override
    public void onCreate(SQLiteDatabase db) {

    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {

    }

    public String getEntries() {

            Cursor c = myDataBase.rawQuery("SELECT * FROM TestTable ;", null);
            String result = "";
            for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {
                    result = result + c.getShort(0) + c.getString(1) + c.getString(2);

            }
            return result;

    }

    // Add your public helper methods to access and get content from the
    // database.
    // You could return cursors by doing "return myDataBase.query(....)" so it'd
    // be easy
    // to you to create adapters for your views.

} 
```

查看活动的代码：

```
public class View extends Activity {

    TextView tv;

    public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.viewdb);
            tv = (TextView) findViewById(R.id.textView1);

            DatabaseHelper myDbHelper ;
            myDbHelper = new DatabaseHelper(this);

            try {

                    myDbHelper.createDataBase();

            } catch (IOException ioe) {

                    throw new Error("Unable to create database");

            }

            try {

                    myDbHelper.openDataBase();

            } catch (SQLException sqle) {

                    throw sqle;

            }

            tv.setText(myDbHelper.getEntries());

    }
} 
```

当我运行此代码时，视图活动未启动并且应用程序被强制关闭。Logcat 说：

> E / AndroidRuntime（1764）：java.lang.RuntimeException：无法启动活动ComponentInfo {com.example.sqlitemanagerexample/com.example.sqlitemanagerexample.View}：android.database.sqlite.SQLiteException：没有这样的表：TestTable：，而编译： SELECT * FROM TestTable ；
> android.database.sqlite.SQLiteException：没有这样的表：TestTable：，编译时：SELECT * FROM TestTable；

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:58:35.487

检查您的数据库，如果 Table **TestTable存在，因为从您的活动调用的****getEntries**方法中的**select**语句引起的错误。您从日志中发布的错误表明，不存在这样的表。

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T09:19:14.567

检查数据库的名称（存在于 assests 文件夹中），它必须是“ **managerSample** ”，因为您的代码中有这一行：

```
private static final String DB_NAME = "managerSample"; 
```

**编辑**：

[这可能对您有所帮助](https://stackoverflow.com/questions/9109438/how-to-use-existing-database-with-android-app/9109728#9109728)。**

# php - ajax POST 响应

> ID：11824091
> 
> 赞同：0
> 
> 时间：2012-08-06T07:26:56.827
> 
> 标签：php, jquery

我使用 niceEdit 作为 html 编辑器和 mysql 作为后端。我将使用 AJAX 将数据发送到 php 的过程。

这是我的html代码：

```
<div class='atabcontent'>
    <form id='apostform' method='POST'>
        <input name='request' type='hidden' value='atabaddnew' />
        <textarea id='aposttextarea' name='area1' style='width:780px; height: 400px; margin: 10px auto 0 auto;'cols='40'></textarea>
    <div style='height: 5px;'></div>
    <button id='apostsubmit'>Save</button>
    </form>
</div> 
```

这是ajax代码。

```
$("#apostform").submit( function () { 
    //add a loading bar first
    $('div.atabcontent').append("<img class='loading' src='media/loading.gif' />");
    //send data to processor.php
    $.post(
        'processor.php',
        $(this).serialize(),
        //here, where we're going to manage the respond from the processor.php
        function(data){
            //remove the loading bar
            $('.atabcontent img.loading').remove();
            //output the respond
            $('div.atabcontent').html(data).show();
        });
    return false;   
}); 
```

和继承人的php文件（processor.php）。

```
<? //this a processor e.g. post, delete, edit etc..
    //check if a post "request" is present..
    if (isset($_POST['request']))
    {
        //check if what type of request, if request type is equal to atabmenu then..
        if ($_POST['request'] === "atabmenu")
        {
            echo $_POST['data'];
        }
        elseif ($_POST['request'] === "atabaddnew")
        {
            echo htmlspecialchars($_POST['area1']);
        }
        //end
        //else if no request then go to fail.php along with the error code of "unable to     process the data"
    }
    else
    {
        header("location: fail.php?error=unable to process the data");
    }

?> 
```

正如您在上面的代码中看到的那样，它应该可以正常工作，但是来自 ajax 响应处理程序已获取的 php 文件的响应是空的，并且似乎没有数据已发送或也没有收到我试过这个

```
$("#apostform").submit( function () { 
    var data = $('#apostform textarea').val();

    alert (data);
    return false;   
}); 
```

但是那里的警告框内容是空的，正如您在代码中看到的那样，它应该警告一个带有“#apostform”值的框。我尝试了一个普通的表单，我的意思是没有 ajax 并且它工作正常，因为我可以看到数据已被接收，因为它显示了从表单接收的数据。

希望有人可以帮助我指出这似乎是什么问题。无论如何我使用 niceEdit 文本框[http://nicedit.com/](http://nicedit.com/)

PS：我对任何建议、建议和想法都持开放态度。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:30:44.203

您的提交功能似乎有一些语法错误

```
$("#apostform").submit( function () { 
    var data = $('#apostform textarea').val(); // missing equals sign and closing apostrophe

    alert (data);
    return false;   
}); 
```

# sharepoint - 如何在 Sharepoint wiki 中集成“简码”功能

> ID：11824093
> 
> 赞同：3
> 
> 时间：2012-08-06T07:27:12.020
> 
> 标签：sharepoint

我想通过做一些非常简单的事情来“自定义”我的 sharepoint wiki。

我希望能够在 wiki 页面上运行正则表达式来查找`[math]`和`[\math]`标记，然后采用写在中间的表达式（假设该值存储在变量中`x`）并将整个块替换为

```
 "<img src='http://latex.codecogs.com/gif.latex?" + x +"'/>" 
```

因此，例如，短代码 [math]a^2+b^2=c^2[\math] 应该最终显示为如下图像（感谢[这个在线工具](http://www.codecogs.com/latex/eqneditor.php)）：

![在此处输入图像描述](../Images/70d13c328c9196bd11f6b6b45e60b7af.png)

我从来没有在sharepoint中开发过任何东西，而且我已经使用了一个星期。

谁能告诉我应该如何继续添加这样的功能（如果可能的话）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-03-22T06:23:39.847

您可以使用现有的解决方案，例如[ShortPoint](http://shortpoint.com/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T11:38:39.110

当然 - 这可以通过两种方法简单地完成 - 1) 您可以直接使用 SharePoint 设计器修改页面 - 将代码飞入您想要的位置，2) 更好的方法 - 将您的代码添加到文本文件，将文本文件上传到文档库然后使用内容编辑器 Web 部件，将其放在页面上，将其（通过属性）指向文本文件。

注意：内容编辑器部分将允许您修改背景 HTML/脚本，但是，它有覆盖您的代码的令人讨厌的习惯，而且我实际上已经复制了它自己（添加重复脚本）。使用文本文件消除了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-29T20:00:53.117

如果我理解正确，我认为内容编辑器 Web 部件不是您正在寻找的解决方案。我相信你想要实现一个短代码解决方案，比如在 WordPress 中找到的，对吗？在这种情况下，问题变得有点复杂。要真正获得在必要阶段执行的任何类型的自定义代码，您将需要一个自定义解决方案，或者在现有富文本编辑器中实现附加功能，或者推出您自己的自定义富文本编辑器。

那时，您将完全控制内容的解析和解释方式，因此您可以同时进行服务器端和客户端处理。您可以使用诸如小胡子或车把之类的模板引擎。

为此，您需要编写自己的自定义字段类型，从 SPFieldMultiLineText 继承，覆盖属性 FieldRenderingControl，并返回您的自定义控件。这样，您可以选择在多个不同的位置（页面布局中的自定义 pege 字段、自定义 Web 部件、自定义列表等）实现它，并且您仍然可以从开箱即用的控件中获得所需的好处。

# java - 两个文本文件中不同的“单词”并将它们加粗，以两个 txt 显示在屏幕上。文件

> ID：11824107
> 
> 赞同：0
> 
> 时间：2012-08-06T07:28:16.257
> 
> 标签：java, string, swing, project

我比较了两个文本文件，发现彼此不同的单词。我想在两个文本文件中显示不同的单词并将它们加粗，显示在屏幕上。

这是我的比较代码，但我没有这样做我如何在这些 txt 中显示不同的单词。视觉上的文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:02:48.370

当你有一个单词列表时，你需要创建两个`JTextPane`s，将文本文档放入其中并突出显示差异。

代码示例：[JTextPane 突出显示示例](http://www.java2s.com/Code/Java/Swing-JFC/JTextPaneHighlightExample.htm)和[在 JTextPane 组件中插入样式文本](http://www.exampledepot.com/egs/javax.swing.text/tp_StyledText.html)

# android - 尝试读取 csv 文件时出现 Nullpointer 异常

> ID：11824108
> 
> 赞同：1
> 
> 时间：2012-08-06T07:28:18.417
> 
> 标签：android, exception, exception-handling, nullpointerexception

我想在我的 android 应用程序中开发一个读取功能，以便它可以读取设备中的 csv 文件。这是我的代码：

```
Button btninsert;
TextView CSV1;
TextView CSV2;
TextView CSV3;
TextView CSV4;
String[][] Data;
int numrecord=0;

@Override
public void onCreate(Bundle savedInstanceState) {

    //create the activity
    super.onCreate(savedInstanceState);

    //set up the layout
    setContentView(R.layout.activity_chico);
    btninsert = (Button) findViewById(R.id.Insert);
    CSV1 = (TextView) findViewById(R.id.CSV1);
    CSV2 = (TextView) findViewById(R.id.CSV2);
    CSV3 = (TextView) findViewById(R.id.CSV3);
    CSV4 = (TextView) findViewById(R.id.CSV4);
    if(new File(Environment.getExternalStorageDirectory()+"/Chico/record.csv").exists()){
        btninsert.setVisibility(View.VISIBLE);
    }else{
        btninsert.setVisibility(View.GONE);         
    }
    CSV1.setVisibility(View.GONE);
    CSV2.setVisibility(View.GONE);
    CSV3.setVisibility(View.GONE);
    CSV4.setVisibility(View.GONE);

    btninsert.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            btninsert.setVisibility(View.GONE);
            try {
                BufferedReader reader = new BufferedReader(new FileReader(Environment.getExternalStorageDirectory()+"/Chico/record.csv"));
                try {
                    String line;
                    while ((line = reader.readLine()) != null){
                        String[] RowData = line.split(",");
                        Data[numrecord][0]=RowData[0];
                        Data[numrecord][1]=RowData[1];
                        Data[numrecord][2]=RowData[2];
                        Data[numrecord][3]=RowData[3];
                        numrecord++;
                    }
                } catch (IOException ex) {

                }
            } catch (FileNotFoundException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            for(int i=0; i<numrecord; i++){
                if(i==0){
                    CSV1.setVisibility(View.VISIBLE);
                    CSV2.setVisibility(View.VISIBLE);
                    CSV3.setVisibility(View.VISIBLE);
                    CSV4.setVisibility(View.VISIBLE);

                    CSV1.setText(Data[i][0]);
                    CSV2.setText(Data[i][1]);
                    CSV3.setText(Data[i][2]);
                    CSV4.setText(Data[i][3]);
                }else{
                    CSV1.append(" "+Data[i][0]);
                    CSV2.setText(" "+Data[i][1]);
                    CSV3.setText(" "+Data[i][2]);
                    CSV4.setText(" "+Data[i][3]);
                }
            }
        }
    });
} 
```

但是，每当我单击该按钮时，系统意外结束，并且错误日志中出现错误消息，其中提到了以下几行出现空指针异常。

```
Data[numrecord][0]=RowData[0];
Data[numrecord][1]=RowData[1];
Data[numrecord][2]=RowData[2];
Data[numrecord][3]=RowData[3]; 
```

有人可以告诉我异常的原因是什么吗？

我的示例 csv 文件包含两行，每行有四列。就像我在下面做的例子一样：

```
1 1 in 8/6/2012
1 1 out 8/6/2012 
```

如果我在 while 循环中使用以下代码，它可以正常工作：

```
while ((line = reader.readLine()) != null){
    String[] RowData = line.split(",");
    if(numrecord==0) {
        CSV1.setText(RowData[0]);
        CSV2.setText(RowData[1]);
        CSV3.setText(RowData[2]);
        CSV4.setText(RowData[3]);
    } else {
        CSV1.append(" "+RowData[0]);
        CSV2.append(" "+RowData[1]);
        CSV3.append(" "+RowData[2]);
        CSV4.append(" "+RowData[3]);
    }
    numrecord++;
} 
```

这就是为什么我认为问题出在数据数组上

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:37:24.970

您*不是*在创建一个数组`String[]`。

像这样的东西：

```
String[][] Data;
Data=new String[100];
Data[0]=new String[10];
Data[1]=new String[10]; 
```

我建议使用`List<T>`而不是数组。

```
List<String[]> list;

list=new ArrayList<String>();

 while ((line = reader.readLine()) != null){
     String[] RowData = line.split(",");
     list.add(RowData);
 } 
```

# android - 如何在多列 ListView 中启用可点击操作？

> ID：11824109
> 
> 赞同：0
> 
> 时间：2012-08-06T07:28:18.357
> 
> 标签：android

如何在多列 ListView 中启用可点击操作？如果我在多列自定义 listView 中使用 EditText，但我无法选择 listView 项。因为列表项不可点击。如果我不使用 EditText 方式，我可以单击列表项。但是，如果我在自定义列表视图中使用 EditText，则不允许使用 itemClick。

```
 public class TicketActivity extends Activity{
TextView t1;
TextView t2;
ListView l1;
TextView t6;
       public void onCreate(Bundle savedInstanceState){
super.onCreate(savedInstanceState);
setContentView(R.layout.ticket);
t1=(TextView)findViewById(R.id.textView3);
t2=(TextView)findViewById(R.id.textView5);
l1=(ListView)findViewById(R.id.listView1);

   //Get the Table no Value From Edit Text

Intent i1=getIntent();
Bundle b=i1.getExtras();
int num=b.getInt("Table No:");
    String pno=Integer.toString(num);
    t1.setText(pno);

        //Get The Guest Value From Edit Text

    Intent i2=getIntent();
    Bundle b1=i2.getExtras();
    int num1=b1.getInt("Guest:");
    String pno1=Integer.toString(num1);
    t2.setText(pno1);

   // List<String> st=GlobalClass.myval;

      //ArrayAdapter<String> ada = new ArrayAdapter<String>( this, android.R.layout.simple_list_item_1,st);

    l1.setAdapter(new EfficientAdapter(TicketActivity.this));

         l1.setOnItemClickListener(new OnItemClickListener(){
   public void onItemClick(AdapterView<?> parent,View view,int position,long id){

       String[] s1 = (String[]) parent.getItemAtPosition(position);

       Toast.makeText(getApplicationContext(), "Selected:"+ s1,Toast.LENGTH_SHORT).show();
   }
   });

   } 
   private static class EfficientAdapter extends BaseAdapter{
    private LayoutInflater mInflater;

    public EfficientAdapter(Context context){
        mInflater=LayoutInflater.from(context);

    // implementation of EfficientAdapter   
    }
    public int getCount() {

        return GlobalClass.myval.size();

    }
    public Object getItem(int position) {

        return position;
    }
    public long getItemId(int position) {

        return position ;
    }
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder;
        String[] stockArr = new String[GlobalClass.myval.size()];
        stockArr = GlobalClass.myval.toArray(stockArr);
        String[] stockArr1=new String[GlobalClass.myvals.size()];
        stockArr1=GlobalClass.myvals.toArray(stockArr1);
    if(convertView==null){
            convertView=mInflater.inflate(R.layout.list_ticket, null);
            holder=new ViewHolder();
            holder.Text1=(EditText)   convertView.findViewById(R.id.editText1);
            holder.Text2=(TextView) convertView.findViewById(R.id.textView2);
            holder.Text3=(TextView) convertView.findViewById(R.id.textView3);
            convertView.setTag(holder);
        }
        else{
              holder=(ViewHolder)convertView.getTag();
            }
           holder.Text1.setText("1");
            holder.Text2.setText(stockArr[position]);
            holder.Text3.setText(stockArr1[position]);
            return convertView;

     }

    }
    static class ViewHolder{
        EditText Text1;
        TextView Text2;
        TextView Text3;

    }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:05:25.047

尝试这个

```
android:focusable="true" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:09:36.750

您必须为您的列表视图使用 setOnItemClickListener()。您可以通过以下方式使用它。

```
l1.setOnItemClickListener(yourListener);

private OnItemClickListener yourListener = new OnItemClickListener() {
    private String getSelectedItemOfList;

    public void onItemClick(AdapterView<?> view, View view1, int pos,
            long arg3) {
        // TODO Auto-generated method stub

        getSelectedItemOfList = yourlist.get(pos).toString; // Here you can get selected item of listview.
  }
} 
```

希望这会有所帮助。让我知道它是否有效？

# python - 如何在 Python 中调用不同的 URL 进行负载测试？

> ID：11824112
> 
> 赞同：0
> 
> 时间：2012-08-06T07:28:32.410
> 
> 标签：python, arrays, list, load

我有一个针对任何特定 url 执行负载测试的代码。但是我必须对具有不同 URL 的 Web 服务进行负载测试。为此，我需要创建一个 URL 数组，每个线程都应该访问数组中给定的所有 URL。我怎样才能做到这一点？这是我的代码：

```
import httplib2

import socket

import time

from threading import Event
from threading import Thread
from threading import current_thread
from urllib import urlencode

# Modify these values to control how the testing is done

# How many threads should be running at peak load.
NUM_THREADS = 50

# How many minutes the test should run with all threads active.
TIME_AT_PEAK_QPS = 20 # minutes

# How many seconds to wait between starting threads.
# Shouldn't be set below 30 seconds.
DELAY_BETWEEN_THREAD_START = 30 # seconds

quitevent = Event()

def threadproc():
    """This function is executed by each thread."""
    print "Thread started: %s" % current_thread().getName()
    h = httplib2.Http(timeout=30)
    while not quitevent.is_set():
        try:
            # HTTP requests to exercise the server go here
            # !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
            resp, content = h.request(
                "http://www.google.com")
            if resp.status != 200:
             print "Response not OK"
            # !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        except socket.timeout:
            pass

print "Thread finished: %s" % current_thread().getName()

if __name__ == "__main__":
    runtime = (TIME_AT_PEAK_QPS * 60 + DELAY_BETWEEN_THREAD_START * NUM_THREADS)
    print "Total runtime will be: %d seconds" % runtime
    threads = []
    try:
        for i in range(NUM_THREADS):
            t = Thread(target=threadproc)
            t.start()
            threads.append(t)
            time.sleep(DELAY_BETWEEN_THREAD_START)
        print "All threads running"
        time.sleep(TIME_AT_PEAK_QPS*60)
        print "Completed full time at peak qps, shutting down threads"
    except:
        print "Exception raised, shutting down threads"
quitevent.set()
time.sleep(3)
for t in threads:
    t.join(1.0)
print "Finished" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:56:26.283

不要传递`threadproc`to `Thread`，而是扩展类：

```
class Worker(Thread):
    def __init__(self, urls):
        super(Worker, self).__init__()
        self.urls = urls

    def run(self):
        for url in self.urls:
            self.fetch(url) 
```

也就是说，除非您这样做是为了更好地了解线程以及负载测试在内部是如何工作的，否则我建议您改用[Jmeter](http://jmeter.apache.org/)等成熟的测试框架。首先，您必须积累多年的经验。

# regex - SQL SERVER 2008：查找存储过程中没有 (NOLOCK) 语句的所有对象

> ID：11824114
> 
> 赞同：1
> 
> 时间：2012-08-06T07:28:39.353
> 
> 标签：regex, sql-server-2008, wildcard

我有一个包含 3000 多行代码的 SQLSERVER 2008 SP。我必须找出 SP 中没有 WITH (NOLOCK) 语句的所有对象（表/视图）。是否有更简单的方法来查找所有此类对象并添加 WITH (NOLOCK) 语句，最好使用 SQLServer Management Studio 中的通配符/正则表达式？

# sql - 将文本文件中的数据解析为逗号分隔值

> ID：11824115
> 
> 赞同：0
> 
> 时间：2012-08-06T07:28:41.210
> 
> 标签：sql, excel, csv, vbscript, sybase

我在一个行间距的文本文件中有数千条如下所示的记录。我正在尝试创建某种类型的划定文件以在 SQL 中导入。无论是脚本，功能，甚至是excel，我都无法理解。

```
RECORD #:  #####
NAME:  Tim
DOB:  01/01/2012    
SEX:  male 
DATE:  07/19/2012   

NOTES IN PARAGRAPH FORM

END OF RECORD
RECORD #:  #####
NAME:  Tim
DOB:  01/01/2012    
SEX:  male 
DATE:  07/19/2012   

NOTES IN PARAGRAPH FORM

END OF RECORD 
```

期望的输出：

```
RECORD #:  #####,NAME:  Tim,DOB:  01/01/2012,SEX:  male,DATE:  07/19/2012,NOTES IN PARAGRAPH FORM
RECORD #:  #####,NAME:  Tim,DOB:  01/01/2012,SEX:  male,DATE:  07/19/2012,NOTES IN PARAGRAPH FORM 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T10:05:41.057

一个计划：

1.  利用 。**ReadAll** () 将您的输入文件加载到内存中（回退：逐行读取，“END OF RECORD”触发记录处理）
2.  使用**Split** (sAll, "END OF RECORD") 获取记录数组（字符串）。对于每个 sRecord
3.  使用**Split** (sRecord, EOL, **6** ) 获得 5 个“单行字段”和 1 个可能包含 EOL 的文本/注释/备忘录字段
4.  使用一个**RegExp** ("\w+\s*#?:\s*(.+)") （后备：专门的 RegExps）从“单行字段”中剪切数据，从第 6 个开始修剪前导/尾随空格
5.  根据需要转换字段：应引用字符串数据，应（可能）将 EOL 和第 6 行中的引号排除，使用标准日期格式（yyyy-mm-dd）可以避免以后出现问题
6.  . **WriteLine** **加入**(aFields, sSep) 到 output.csv
7.  在**schema.ini**文件中描述 output.csv 的格式（选择简单/保存列名！）
8.  使用 DBMS 或 ADO 的**导入**工具将 .csv 导入数据库

随时询问详情。

# c# - 将 aspx 下拉列表的值传递给单独的 c# 文件

> ID：11824117
> 
> 赞同：-1
> 
> 时间：2012-08-06T07:28:54.500
> 
> 标签：c#, asp.net, drop-down-menu

我在 doc1.aspx 中有以下代码片段：

```
<select id="ListBoxViewType" style="width:160px;font-family:Tahoma;visibility:hidden;">
                        <option value="abcd">Amendment</option>
                        <option value="dcba">Full Terms Amendment</option>
                        <option value="Both">Both</option>
                    </select> 
```

在单独的 c# 文件（不是带有 aspx.cs 的文件）上，我需要为我的 if 语句获取 ListBoxViewType 的值。这是它的伪代码：

```
if( listboxviewtype.value == "abcd")
{//do code here}
else
{//do code here} 
```

蒂亚！:)

PS我忘了提到我需要传递值的.aspx文件和.cs文件在不同的项目中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:35:02.720

我想说您可以将`<select>`所选值保存在会话变量中来完成此操作。

该论坛主题提供了有关会话变量的简明信息：[http ://forums.asp.net/t/1140819.aspx/1](http://forums.asp.net/t/1140819.aspx/1)

基本上，你对待它们就像它们一直在那里一样，分配和读取它们就像它是一个普通的字符串数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:33:56.963

在您的 apsx.cs 文件中，您可以为 valuechanged 或 selectedindex/item changed 事件定义一个事件处理程序，您可以通过这种方式将值传递给另一个类。同样，您可以使用自定义事件来执行此操作，或者只是在传递值时调用该方法，而无需从该单独的 c# 文件访问列表框。

# ruby-on-rails - 使用 Ruby on Rails 和 Paperclip 将 Content-Disposition 设置为附件

> ID：11824124
> 
> 赞同：2
> 
> 时间：2012-08-06T07:29:24.360
> 
> 标签：ruby-on-rails, ruby-on-rails-3, paperclip

我有一个（希望很小）的问题。

我正在使用 Ruby on Rails 和 Paperclip 来处理文件上传。现在我想自动将 Content-Disposition 标头设置为“附件”，以便当用户单击链接时，文件被下载而不是直接显示在浏览器中。

我为 Amazon S3 找到了以下解决方案： [点击下载文件 - Ruby on Rails](https://stackoverflow.com/questions/4811906/download-file-on-click-ruby-on-rails)

但我不使用S3。有人可以帮忙吗？

提前致谢，/Lasse

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T19:58:28.423

如果您使用文件存储，Paperclip 将文件存储在文件`RAILS_ROOT/public/system`夹中（使用该选项进行[配置）。](https://github.com/thoughtbot/paperclip#understanding-storage)`:path`

文件`/public`夹中的文件直接作为静态文件提供。“Rails/Rack 永远不会看到对您的公用文件夹的请求”（[引用 cwninja](https://stackoverflow.com/a/1628004/1473185)的话）。

文件`/public`夹中的文件由运行此应用程序的网络服务器提供服务（例如开发中的 Apache 或 WEBrick）。网络服务器负责在提供文件时设置标头。所以你应该配置网络服务器来为你的附件设置正确的标题。

另一种选择是构建一个控制器或一些 Rack 中间件来为您的回形针附件提供服务。在那里你可以做类似的事情`response.headers['Content-Disposition'] = 'attachment'`。

第三个选项是使用 S3，然后您可以`Content-Disposition`在 S3 对象中存储标头（如 ）。然后，S3 使用这些标题提供回形针附件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T15:23:25.173

根据[此链接](http://www.givegoodweb.com/post/30/forcing-a-download-with-apache-and-htaccess)，您可以执行以下操作：

```
<Files *.xls> ForceType application/octet-stream Header set Content-Disposition attachment </Files> 
<Files *.eps> ForceType application/octet-stream Header set Content-Disposition attachment </Files> 
```

# spring - 在 Spring Mvc 中提交表单后未删除支持对象

> ID：11824125
> 
> 赞同：1
> 
> 时间：2012-08-06T07:29:26.407
> 
> 标签：spring, spring-mvc

在 Spring MVC-3 中，当我们提交表单时，表单支持对象不会被删除。我认为在 spring mvc 中，它会在表单提交后删除烘焙对象。

我是正确的还是任何人都可以解释这里可能发生了什么？

附言

```
<form:form id="id1" commandName="command1" modelAttribute="command1" method="post"> 
```

当我们进行提交时，绑定到表单的模型属性会在某个时间点从会话中删除，不是吗？

我想知道的是命令对象被删除的那一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:51:02.547

如果你能提供一些代码会很有帮助。那里可能是一个错误.. MVC 实际上没有支持对象。您所能做的就是将对象放入模型映射中，并在每次请求后将其删除。当您进行表单发布时，Spring MVC 所做的就是将您的表单输入映射到您在控制器中拥有的对象：

形式：

```
<form action="/some-path" method="post">
    <input type="text" name="some_property"  />
    <input type="submit" value="Submit" />
</form> 
```

控制器：

```
@RequestMapping(value="/some-path" method = RequestMethod.POST)   
public ModelAndView createItem(SomeObject someObject, BindingResult result) {
// ...
} 
```

映射对象：

```
public class SomeObject {

    private String some_property;

    // getter, setter

} 
```

如果您没有将对象声明为 Bean (`@Named`或`@Component`其他东西) 或将其添加到模型映射中：

```
ModelAndView mav = new ModelAndView();
mav.addObject("someObject,someObject); 
```

然后控制器完成后它就会消失。

**编辑** 没有注意到 jsp 标记.. 不要认为它有太大变化.. 不过，没有任何代码，很难说什么。

# android - Android：如何使用“内容传输编码二进制”处理 HTTP 日期

> ID：11824130
> 
> 赞同：0
> 
> 时间：2012-08-06T07:29:51.640
> 
> 标签：android, ruby-on-rails, http

我正在为一个网站开发一个 android 应用程序，该网站由 Nginx 上的 Ruby on Rail 组成，它将提供 HTTP-REST API，并以 JSON 格式响应。很奇怪的是它输出了带有这个 HTTP 响应头的东西，而 android 无法读取它：

```
Cache-Control   private
Connection  keep-alive
Content-Disposition inline
Content-Length  6608
Etag    "5c6304b4d6f23fab9b841ec3567b32c8"
Server  nginx/1.2.2 + Phusion Passenger 3.0.15 (mod_rails/mod_rack)
Status  304
Vary    User-Agent, Accept-Encoding
X-Powered-By    Phusion Passenger (mod_rails/mod_rack) 3.0.15
X-Runtime   16
content-transfer-encoding   binary 
```

我使用这个函数来获取 JSON - 它在没有内容传输编码二进制文件的其他 API 上运行良好，但是当读取这样的数据时，什么都不会读取。所以我想知道如何在 android 上处理二进制，或者为什么站点输出二进制格式，有什么方法可以在 Ruby on Rail 上处理它吗？谢谢。

```
public String getJSON(String url) {

        try {
            HttpParams httpParameters = new BasicHttpParams();

            int timeoutConnection = HTTP_TIMEOUT_CONNECTION;
            HttpConnectionParams.setConnectionTimeout(httpParameters,
                    timeoutConnection);

            int timeoutSocket = HTTP_TIMEOUT_SOCKET;
            HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket);

            DefaultHttpClient httpClient = new DefaultHttpClient(httpParameters);
            HttpPost httpPost = new HttpPost(url);

            httpPost.setHeader("Accept-Encoding","deflate");

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, Charset.defaultCharset()), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;

            while ((line = reader.readLine()) != null) {
                sb.append(line);
            }

            android.util.Log.v ("JSONParser", sb.toString());

            is.close();
            json = sb.toString();
            return json;

        } catch (Exception e) {
            e.printStackTrace();
        }

        if (is != null) {
            try {
                is.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        json = null;
        return null;
    } 
```

它给了我这个错误-

```
08-06 15:29:46.218: W/System.err(4318): org.json.JSONException: End of input at character 1 of  
08-06 15:29:46.218: W/System.err(4318):     at org.json.JSONTokener.syntaxError(JSONTokener.java:446)
08-06 15:29:46.218: W/System.err(4318):     at org.json.JSONTokener.nextValue(JSONTokener.java:93)
08-06 15:29:46.238: W/System.err(4318):     at org.json.JSONArray.<init>(JSONArray.java:87)
08-06 15:29:46.238: W/System.err(4318):     at org.json.JSONArray.<init>(JSONArray.java:103)
08-06 15:29:46.238: W/System.err(4318):     at com.baozoumanhua.android.network.JSONParser.parseJSONArray(JSONParser.java:181)
08-06 15:29:46.238: W/System.err(4318):     at com.baozoumanhua.android.network.Comments.getJSONArray(Comments.java:176)
08-06 15:29:46.238: W/System.err(4318):     at com.baozoumanhua.android.network.Comments$1.run(Comments.java:151)
08-06 15:29:46.238: W/System.err(4318):     at java.lang.Thread.run(Thread.java:1019) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T20:00:07.400

问题解决了，用httpGet代替httpPost...

# google-chrome - 在 SVG 上（和顶部）移动 div 时，Chrome 中会出现垂直线

> ID：11824131
> 
> 赞同：2
> 
> 时间：2012-08-06T07:29:57.743
> 
> 标签：google-chrome, svg, qtip2, visual-artifacts

当悬停在 SVG 元素上时，我使用 qTip2 div 作为工具提示。在 Chrome 中，每当我移动鼠标并且工具提示跟随它时，SVG 上就会出现白色垂直线（在我的 qTip div 的左侧）。它们仅在工具提示消失时才会消失。

为什么会发生这种情况，这是可以解决的吗？

# python - 像datagridfield一样，我们可以在ploneformgen的表单上动态创建多个文件输入吗？

> ID：11824133
> 
> 赞同：0
> 
> 时间：2012-08-06T07:30:00.540
> 
> 标签：python, plone, ploneformgen

是否有像datagridfield一样的动态文件上传输入在ploneformgen的输入表单上动态上传多个文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T13:50:55.713

有这个：[http](http://plone.org/products/collective.upload) : //plone.org/products/collective.upload 这可能是在 ploneformgen 中创建小部件的开始......

# java - 引起：java.lang.OutOfMemoryError: Java heap space

> ID：11824134
> 
> 赞同：5
> 
> 时间：2012-08-06T07:30:22.970
> 
> 标签：java, multithreading, operating-system, threadpool

**我的目标：**

我想为 1000 个用户运行我的应用程序。

**现在**

我正在尝试为 100 个用户运行。在应用程序运行期间，我想为每个用户执行一些过程，每个用户至少需要一小时，所以我为每个用户使用一个线程。

**错误**

`Caused by: java.lang.OutOfMemoryError: Java heap space`

我试图弄清楚这意味着什么，但我不确定如何解决它。

有谁能够帮助我？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T07:37:38.710

这个错误意味着你的程序需要比你的 JVM 允许它使用的更多的内存！

因此，您几乎有两种选择：

1.  使用该选项增加您的程序允许使用的默认内存`-Xmx`（例如 1024 MB: `-Xmx1024m`）
2.  修改您的程序，使其需要更少的内存，使用更少的大数据结构并摆脱程序中某个时刻不再使用的对象

正如 Peter Lawrey 所指出的，使用分析器来查看您的程序在这种情况下正在做什么通常是一个好主意。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-06T07:33:21.410

使用具有有限数量的工作线程的[生产者/消费者模式。](http://en.wikipedia.org/wiki/Producer-consumer_problem)

100 多个线程太荒谬了——难怪您的应用程序正在爆炸式增长。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T07:33:58.103

您也没有提供任何信息表明该问题与 StackOverflow 中给出的有关此错误的所有答案都非常不同；

*   您正在使用太多内存，您需要使用内存分析器来减少它。
*   您将最大内存设置得太低，您需要使用`-mx`或增加最大内存`-Xmx`

我怀疑由于您希望 1000 个用户运行每个需要一个小时的进程，因此您可能需要比您拥有的更多的资源。例如 1000 个核心？我建议您根据以可接受的水平运行用户所需的 CPU、内存、磁盘 IO 和网络 IO 来查看需要多少硬件，例如 20 个用户和 50 个用户的倍数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T07:38:46.177

您可以在启动应用程序时尝试增加 JVM 堆空间。您可以尝试将其设置为 2GB `-Xmx2g`。如果您运行的是 32 位 Java，我认为 2GB 已经足够高了，但如果您使用 64 位 JVM，您应该可以更高。

***编辑：***

例子：`java -Xmx2g MyApp`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-06T07:44:45.577

当出现内存不足错误时，我将检查 2 个区域

1.  分配给 JVM 的内存是否足够，如果不使用 -Xmx 增加它
2.  彻底检查代码，超过 90% 的时间我发现在某些边界条件下某些循环会递归的错误。

# android - 这是否可以检查广播是否以粘性模式发送？它可以中止/删除吗？

> ID：11824135
> 
> 赞同：12
> 
> 时间：2012-08-06T07:30:23.830
> 
> 标签：android, broadcastreceiver

这是否可以检查广播是否以粘性模式发送？

我们可以完全中止/删除粘性广播吗？如果是，那么可以对正常广播和有序广播都进行吗？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-06T08:57:57.887

在`onReceive()`您可以使用以下调用：

`isInitialStickyBroadcast()`- 这将告诉您当前正在处理的广播是否作为“粘性”发送并且`BroadcastReceiver`是注册时的当前广播。

`isOrderedBroadcast()`- 这将告诉您当前正在处理的广播是否作为“有序”广播发送。

如果你只是想看看是否有“粘性”广播，你可以调用

```
registerReceiver (BroadcastReceiver receiver, IntentFilter filter) 
```

并`null`作为`receiver`参数提供。这将返回任何“粘性”广播，而无需实际注册接收器。

您可以使用以下方法删除粘性广播：

```
removeStickyBroadcast(Intent intent) 
```

但是，恕我直言，这将适得其反。通常发送“粘性”广播以指示某物的**当前状态**。因此，删除它意味着应用程序无法确定当前状态。

# python - 根据 request.is_secure 的值改变 STATIC_URL

> ID：11824137
> 
> 赞同：1
> 
> 时间：2012-08-06T07:30:33.393
> 
> 标签：python, django

就某些情况而言，我正在测试在 webfaction 上的 nginx+gunicorn 后面运行一个 Django (1.4) 应用程序，以便安全地运行管理部分。这工作正常。nginx 代理正在将请求从`http://domain.com/admin`to重定向，`https://domain.com/admin`而 Django 正在毫无问题地提供一切服务。更大的问题是静态文件。我从一个单独的静态目录提供这些服务，该目录可通过 http 和 https 访问。我的问题是如何在我的应用程序模板以及管理界面模板中呈现静态 url，以便根据请求是否安全，应用适当的前缀（http 或 https）。

对于我的应用程序模板，我使用了`{{ STATIC_URL }}path/to/resource`约定，它允许我在 template_context_processor 函数中轻松调整 STATIC_URL 上下文变量。`{% static path/to/resource %}`但这对使用templatetag 呈现 url 的管理模板没有任何影响。

我想出的最好的方法是在**settings.py**中创建两个 url 选项：

```
STATIC_URL = 'https://mydomain.com/static/'
NON_SECURED_STATIC_URL = 'http://mydomain.com/static/' 
```

然后将以下函数添加到**TEMPLATE_CONTEXT_PROCESSORS**：

```
def set_static_url(request):
    if not request.is_secure():
        return { 'STATIC_URL': settings.NON_SECURED_STATIC_URL } 
```

这实际上是有效的，但它似乎相当hackish。我对 Django 也很陌生，我觉得必须有更好或更合适的方法来做到这一点。

# iphone - 如何为 iPhone 应用程序集成 3rd 方游戏

> ID：11824144
> 
> 赞同：0
> 
> 时间：2012-08-06T07:30:54.397
> 
> 标签：iphone, ios, xcode, ipad, ipod

我的客户想要将一些游戏集成到他的 iPhone 应用程序中。出于这个考虑，我们准备购买付费游戏，或者我们也可以使用免费游戏。

据我所知 iPhone 不支持闪光灯，你能告诉我应该如何开始吗？有什么方法可以在 iPhone 上玩 Flash 游戏，或者有什么可以集成到 iPhone 中的游戏您想与我分享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:33:32.610

没有办法在未越狱的 iPhone 上使用 Flash。

# java - 嵌入 Tomcat-7 以仅在 https 中运行

> ID：11824148
> 
> 赞同：6
> 
> 时间：2012-08-06T07:31:11.067
> 
> 标签：java, tomcat7

我想运行仅使用 HTTPS (8443) 的嵌入式 tomcat。我根本不想使用 8080 端口。有什么想法吗？

```
    连接器 httpsConnector = new Connector();
    httpsConnector.setPort(httpsPort);
    httpsConnector.setSecure(true);
    httpsConnector.setScheme("https");
    httpsConnector.setAttribute("keystoreFile", appBase + "/.keystore");
    httpsConnector.setAttribute("clientAuth", "false");
    httpsConnector.setAttribute("sslProtocol", "TLS");
    httpsConnector.setAttribute("SSLEnabled", true);

    Tomcat tomcat = new Tomcat();
    tomcat.getService().addConnector(httpsConnector);
    tomcat.setPort(8080);
    连接器 defaultConnector = tomcat.getConnector();
    defaultConnector.setRedirectPort(8443);

    tomcat.setBaseDir(".");
    tomcat.getHost().setAppBase(appBase);

    StandardServer 服务器 = (StandardServer) tomcat.getServer();
    AprLifecycleListener listener = new AprLifecycleListener();
    server.addLifecycleListener(listener);

```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:34:10.900

您必须删除 [tomcat-dir]/conf/server.xml 中定义的连接器，该连接器将其绑定到 8080，并为 HTTPS 提供单独的连接器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T18:52:11.210

我刚刚尝试使用问题中的代码段来创建`httpsConnector`它，效果很好！除了我必须添加一个缺失的行：

```
httpsConnector.setAttribute("keystorePass", "YOUR-PASSWORD-HERE"); 
```

[将其设置为我在创建密钥库](http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html#Installing_a_Certificate_from_a_Certificate_Authority)时设置的密码就可以`keytool`了。

谢谢！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-02T18:23:54.773

从 Tomcat 实例获取 defaultConnector 并将其设置为 https。这样就没有其他连接器了：

```
 Connector defaultConnector = tomcat.getConnector();
    defaultConnector.setPort(8443);
    defaultConnector.setSecure(true);
    defaultConnector.setScheme("https");
    defaultConnector.setAttribute("keystorePass", "password");
    defaultConnector.setAttribute("keystoreFile", absolutePath + "/keystore.jks");
    defaultConnector.setAttribute("clientAuth",  "false");
    defaultConnector.setAttribute("sslProtocol",  "TLS");
    defaultConnector.setAttribute("SSLEnabled",  true); 
```

# java - Axis2 wsdl2java - 解析错误

> ID：11824153
> 
> 赞同：1
> 
> 时间：2012-08-06T07:31:41.100
> 
> 标签：java, xsd, wsdl, axis2, wsdl2java

我正在尝试从 wsdl 文件生成 java 类。最初，此文件与 Axis 1.1 一起使用，没有任何问题。然后 Axis1 被 Axis2 替换，现在生成无法处理以下错误：

> ```
>  [java] Exception in thread "main" org.apache.axis2.wsdl.codegen.CodeGenerat 
> ```
> 
> ionException：在 org.apache.axis2.wsdl.codegen.CodeGenerationEngine.(Cod eGenerationEngine.java:175) [java] 在 org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:35) 解析 WSDL [java] 时出错) [java] at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:24) [java] 原因：org.apache.axis2.AxisFault：没有错误消息的部分：{http:// www.w3.org/2001/XMLSchema}createPolicyCustomLSPDTOFault [java] at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430) [java] at org.apache.axis2.description.WSDL11ToAxisServiceBuilder.popul ateService(WSDL11ToAxisServiceBuilder. java:411) [java] 在 org.apache.axis2.description.WSDL11ToAllAxisServicesBuilder.p opulateAllServices(WSDL11ToAllAxisServicesBuilder.java:107) [java] 在 org.apache.axis2.wsdl.codegen。CodeGenerationEngine.(Cod eGenerationEngine.java:169) [java] ... 2 更多

wsdl 文件中的错误行：

```
<wsdl:operation name="createPolicyCustomLSPDTO">
  <wsdl:input message="tns:createPolicyCustomLSPDTORequest"/>
  <wsdl:output message="tns:createPolicyCustomLSPDTOResponse"/>
  <wsdl:fault name="Fault" message="tns:createPolicyCustomLSPDTOFault"/>
</wsdl:operation> 
```

createPolicyCustomLSPDTOFault 定义如下

```
<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions
    xmlns="http://www.w3.org/2001/XMLSchema"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:tns="http://webservice.example.com"
    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
    xmlns:hql="http://hql.webservice.example.com"
    targetNamespace="http://webservice.example.com"
>

    <wsdl:types>
        <xsd:import namespace="http://webservice.example.com" schemaLocation="ServerMessageDTO.xsd"/>
        <xsd:schema
            xmlns:xsd="http://www.w3.org/2001/XMLSchema"
            targetNamespace="http://webservice.example.com"
        >
            <xsd:element name="createPolicyCustomLSPDTOFault" type="tns:ServerMessageDTO"/>
        </xsd:schema>
    </wsdl:types> 
```

我该如何解决？

# android - 在 CameraApplication 上传递 resultInfo 失败

> ID：11824154
> 
> 赞同：0
> 
> 时间：2012-08-06T07:31:41.363
> 
> 标签：android, eclipse

我正在做一个相机应用程序，使用我在互联网上找到的代码来捕获和裁剪图像。直到我想将图像保存在 SDd 卡中之前它都做得很好。它意外停止并产生以下错误：

```
08-06 15:06:58.341: E/AndroidRuntime(26462): FATAL EXCEPTION: main

08-06 15:06:58.341: E/AndroidRuntime(26462): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=2, result=-1, data=Intent { (has extras) }} to activity {net.londatiga.android/net.londatiga.android.MainActivity}: java.lang.NullPointerException

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.app.ActivityThread.deliverResults(ActivityThread.java:2994)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.app.ActivityThread.handleSendResult(ActivityThread.java:3037)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.app.ActivityThread.access$1100(ActivityThread.java:128)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1191)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.os.Handler.dispatchMessage(Handler.java:99)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.os.Looper.loop(Looper.java:137)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.app.ActivityThread.main(ActivityThread.java:4514)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at java.lang.reflect.Method.invokeNative(Native Method)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at java.lang.reflect.Method.invoke(Method.java:511)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at dalvik.system.NativeStart.main(Native Method)

08-06 15:06:58.341: E/AndroidRuntime(26462): Caused by: java.lang.NullPointerException

08-06 15:06:58.341: E/AndroidRuntime(26462):    at java.io.File.fixSlashes(File.java:185)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at java.io.File.<init>(File.java:134)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at net.londatiga.android.MainActivity.saveBitmapToFile(MainActivity.java:128)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at net.londatiga.android.MainActivity.onActivityResult(MainActivity.java:112)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.app.Activity.dispatchActivityResult(Activity.java:4746)

08-06 15:06:58.341: E/AndroidRuntime(26462):    at android.app.ActivityThread.deliverResults(ActivityThread.java:2990)

08-06 15:06:58.341: E/AndroidRuntime(26462):    ... 11 more 
```

* * *

**编码：**

```
package net.londatiga.android;

import java.io.File;
import java.io.FileOutputStream;
import java.util.ArrayList;
import java.util.List;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.ActivityNotFoundException;
import android.content.ComponentName;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.pm.ResolveInfo;
import android.graphics.Bitmap;
import android.graphics.Bitmap.CompressFormat;
import android.graphics.Path;
import android.net.Uri;
import android.os.Bundle;
import android.os.Environment;
import android.provider.MediaStore;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.Toast;

public class MainActivity extends Activity {
    private Uri mImageCaptureUri;
    private ImageView mImageView;
    private String path;
    private Bitmap bitmap;

    private static final int PICK_FROM_CAMERA = 1;
    private static final int CROP_FROM_CAMERA = 2;
    private static final int PICK_FROM_FILE = 3;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.main);

        final String [] items           = new String [] {"Take from camera", "Select from gallery"};                
        ArrayAdapter<String> adapter    = new ArrayAdapter<String> (this, android.R.layout.select_dialog_item,items);
        AlertDialog.Builder builder     = new AlertDialog.Builder(this);

        builder.setTitle("Select Image");
        builder.setAdapter( adapter, new DialogInterface.OnClickListener() {
            public void onClick( DialogInterface dialog, int item ) { //pick from camera
                if (item == 0) {
                    Intent intent    = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);

                    mImageCaptureUri = Uri.fromFile(new File(Environment.getExternalStorageDirectory(),
                                       "tmp_avatar_" + String.valueOf(System.currentTimeMillis()) + ".jpg"));

                    intent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, mImageCaptureUri);

                    try {
                        intent.putExtra("return-data", true);

                        startActivityForResult(intent, PICK_FROM_CAMERA);
                    } catch (ActivityNotFoundException e) {
                        e.printStackTrace();
                    }
                } else { //pick from file
                    Intent intent = new Intent();

                    intent.setType("image/*");
                    intent.setAction(Intent.ACTION_GET_CONTENT);

                    startActivityForResult(Intent.createChooser(intent, "Complete action using"), PICK_FROM_FILE);
                }
            }
        } );

        final AlertDialog dialog = builder.create();

        Button button   = (Button) findViewById(R.id.btn_crop);
        mImageView      = (ImageView) findViewById(R.id.iv_photo);

        button.setOnClickListener(new View.OnClickListener() {  
            public void onClick(View v) {
                dialog.show();
            }
        });
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (resultCode != RESULT_OK) return;

        switch (requestCode) {
            case PICK_FROM_CAMERA:
                doCrop();

                break;

            case PICK_FROM_FILE: 
                mImageCaptureUri = data.getData();

                doCrop();

                break;          

            case CROP_FROM_CAMERA:          
                Bundle extras = data.getExtras();

                if (extras != null) {               
                    Bitmap photo = extras.getParcelable("data");
                    saveBitmapToFile("/sdcard/cropped_img.jpg", photo);

                    mImageView.setImageBitmap(photo);
                }

                File f = new File(mImageCaptureUri.getPath());            

                if (f.exists()) f.delete();

                break;
//
        }
    }

    private boolean saveBitmapToFile(String string, Bitmap photo) {

        File file = new File(path);
        boolean res = false; if (!file.exists())
        {
        try 
        {
        FileOutputStream fos = new FileOutputStream(file); 
        res = bitmap.compress(CompressFormat.JPEG, 100, fos); fos.close();
        } catch (Exception e) 
        {   }
        } return res;
        }

//  }

    private void doCrop() {
        final ArrayList<CropOption> cropOptions = new ArrayList<CropOption>();

        Intent intent = new Intent("com.android.camera.action.CROP");
        intent.setType("image/*");

        List<ResolveInfo> list = getPackageManager().queryIntentActivities( intent, 0 );

        int size = list.size();

        if (size == 0) {            
            Toast.makeText(this, "Can not find image crop app", Toast.LENGTH_SHORT).show();

            return;
        } else {
            intent.setData(mImageCaptureUri);

            intent.putExtra("outputX", 200);
            intent.putExtra("outputY", 200);
            intent.putExtra("aspectX", 1);
            intent.putExtra("aspectY", 1);
            intent.putExtra("scale", true);
            intent.putExtra("return-data", true);

            if (size == 1) {
                Intent i        = new Intent(intent);
                ResolveInfo res = list.get(0);

                i.setComponent( new ComponentName(res.activityInfo.packageName, res.activityInfo.name));

                startActivityForResult(i, CROP_FROM_CAMERA);
            } else {
                for (ResolveInfo res : list) {
                    final CropOption co = new CropOption();

                    co.title    = getPackageManager().getApplicationLabel(res.activityInfo.applicationInfo);
                    co.icon     = getPackageManager().getApplicationIcon(res.activityInfo.applicationInfo);
                    co.appIntent= new Intent(intent);

                    co.appIntent.setComponent( new ComponentName(res.activityInfo.packageName, res.activityInfo.name));

                    cropOptions.add(co);
                }

                CropOptionAdapter adapter = new CropOptionAdapter(getApplicationContext(), cropOptions);

                AlertDialog.Builder builder = new AlertDialog.Builder(this);
                builder.setTitle("Choose Crop App");
                builder.setAdapter( adapter, new DialogInterface.OnClickListener() {
                    public void onClick( DialogInterface dialog, int item ) {
                        startActivityForResult( cropOptions.get(item).appIntent, CROP_FROM_CAMERA);
                    }
                });

                builder.setOnCancelListener( new DialogInterface.OnCancelListener() {
                    public void onCancel( DialogInterface dialog ) {

                        if (mImageCaptureUri != null ) {
                            getContentResolver().delete(mImageCaptureUri, null, null );
                            mImageCaptureUri = null;
                        }
                    }
                } );

                AlertDialog alert = builder.create();

                alert.show();
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:14:46.383

你得到 NPE 。看到这一行 bitmap.compress(CompressFormat.JPEG, 100, fos); fos.close(); . 是分配了 y 值的位图变量。我没有在你的代码中看到它。instread 尝试 photo..compress(CompressFormat.JPEG, 100, fos);

您的代码中有很多错误。上面提到的是一个。

我刚刚看到您在 File file = new File(path); 处遇到异常 此变量路径未定义。用你的路径值初始化它。

# php - 从表单更新数据库中的对象

> ID：11824155
> 
> 赞同：0
> 
> 时间：2012-08-06T07:31:49.250
> 
> 标签：php, symfony, doctrine-orm

我有一张包含域及其开始日期的表格。我希望当我点击一个域时，显示一个编辑（更新）表单，其字段填充了当前信息。到目前为止，我已经做到了：

```
class Domains
{
/**
 * @ORM\Id
 * @ORM\Column(type="integer")
 * @ORM\GeneratedValue(strategy="AUTO")
 */
protected $id;

/**
 * @ORM\Column(type="string", length=100)
 */
protected $main_domain;

/**
 * @ORM\Column(type="date", nullable=true)
 */
protected $start_date; 
```

...每个属性都有设置器和获取器。

我创建了一个 EditType 类来构建表单：

```
public function buildForm(FormBuilder $builder, array $options)
{
    $builder->add('start_date', 'date', array('widget' => 'single_text', 'format' => 'yyyy-MM-dd'));
} 
```

使用 getName() 方法，EditController 的问题就来了：

```
class EditController extends Controller
{
/**
 * @Route("/fc/edit/{id}")
 */
public function editAction($id, Request $request)
{
    $domain = $this->getDoctrine()
        ->getRepository('AcmeAbcBundle:Domains')
        ->find($id);

    if (!$domain) 
    {
        throw $this->createNotFoundException('No domians found');
    }

    $form = $this->createForm(new EditType(), $domain);

    if($request->getMethod() != 'POST')
    {
         return $this->render('AcmeAbcBundle:Edit:form.html.twig', array(
        'id'=>$id, 'domain'=>$domain, 'form' => $form->createView() ));
    }

    if ($request->getMethod() == 'POST') 
    {
        $form->bindRequest($request);
        print_r($request);

        if ($form->isValid())
        {
            $em = $this->getDoctrine()->getEntityManager();
            $domain = $em->getRepository('AcmeAbcBundle:Domains');

            if (!$domain) 
            {
                throw $this->createNotFoundException('There is no such domain');
            }

            $domain->setStartDate($request->getStartDate());

            $em->flush();

        }

        return $this->redirect($this->generateUrl('homepage'));
   } 
```

我不知道它应该是怎样的:(我尝试了一些东西，但它们似乎没有用。

```
$domain->setStartDate($request->getStartDate()); 
```

在这里它没有找到方法，如果它是 $request->start_date 它没有找到属性...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:56:57.410

要获取 start_date POST 参数，您需要执行以下操作：

```
$request->request->get('start_date'); 
```

还要注意这些行

```
 $em = $this->getDoctrine()->getEntityManager();
        $domain = $em->getRepository('AcmeAbcBundle:Domains');

        if (!$domain) 
        {
            throw $this->createNotFoundException('There is no such domain');
        } 
```

后

```
 if ($form->isValid()) 
```

是不必要的，因为您已经在函数中进一步获得了域对象。实际上，它们是错误的，因为您没有获得任何域对象，而是获得了实体存储库。

# ios - 设备中安装 FB Native App 时无法使用 Facebook ios sdk v3 进行授权

> ID：11824159
> 
> 赞同：0
> 
> 时间：2012-08-06T07:32:16.300
> 
> 标签：ios, facebook

大家好，我在使用 Facebook ios SDK 3.0.6 beta 时遇到问题。我已经使用这个 Facebook SDK 创建了一个项目，并且在没有安装 Facebook 原生 iPhone 应用程序之前工作正常。当我安装 Facebook 应用程序时，我无法再授权我的应用程序。当我尝试授权时，授权是在 Facebook 的本机应用程序而不是 Safari 中完成的。我收到错误“操作无法完成。（com.facebook.FBiOSSDK 错误 2。）”

我也收到此错误网址：

fb4* ******* *2://authorize#error_description=Invalid%2BIOS%2Bbundle%2BID&error=unknown%5Ferror

我怎么解决这个问题？任何的想法？

我在 OSX Snow Leopard 中使用 xcode 4.2

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T07:51:00.903

听起来您在 developer.facebook.com 下的应用程序设置不正确。

确保在您的应用设置下；

“Native iOS App”下的“iOS bundle ID”设置为您的应用程序包名称。这样，一旦身份验证完成，本机应用程序就知道要重定向回哪个应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:33:48.647

我和你有同样的问题，我像 Pork 所说的那样仔细检查了我的 iOS Bundle ID，发现了一封遗漏的信，修复后可以正常工作。因此，请在您的 Facebook 应用程序设置中检查您的 iOS Bundle ID，以了解 Native iOS App 是否与在 XCode 中为您的目标应用程序定义的 Bundle 标识符中的“完全相同”。

# css - 固定菜单栏 css 放大和缩小

> ID：11824160
> 
> 赞同：0
> 
> 时间：2012-08-06T07:32:16.807
> 
> 标签：css

放大和缩小时网页中的菜单不会固定在如图所示的标题图像：

![在此处输入图像描述](../Images/25e3a0b7039c1a718be9e765842889e1.png)

这个的css脚本如下#navmenu{ z-index:99999; 边距顶部：40px；位置：绝对；宽度：100%；边距：0；填充：0；最小宽度：90%；宽度：950 像素；

```
 }

 #navMenu li {
  float:left;
  color:#ececec;
  list-style-type:none;
  width:80px;
 }

 #navMenu ul {
  width:970px;
  font-size:16px;
  color:#000000;
 }

#navMenu li a{

height:15px;
float:left; display:inline;
font-weight:700;
float:left;
color:#707070;
display: block;
padding: 8px 12px;
text-decoration: none;display: block;
padding: 8px 12px;
text-decoration: none;
background-image: url(img/image_menubutton.JPG);
border-right:1px solid white;
margin-right:12px;
font-family:"Georgia",Georgia,Serif;
 font-weight:900;
font-size:19px;
text-align: center;
  zoom: 1;
  max-width: 30%;

  }
 #navmenu li.item1{background-image: url(img/about.JPG);}

#navmenu li a:hover {
    color:33CCFF;
} 
```

解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-13T09:20:43.367

如果您使用位置：固定；然后它在滚动时不会移动，这是我假设你正在寻找的，当缩放相同的东西时，它会保持固定在你想要的位置，也许添加 top:0; 左：0；取决于您希望将其放置在哪里-也许尝试添加一些 html ？除此之外，这就是我能帮你的全部了

```
 #navmenu{ 
  z-index:99999; 
  margin-top:40px; 
  position:fixed;
  width:100%;
  top:0;
  left:0;
  margin:0; 
  padding:0; 
  min-width: 90%; 
  width:950px;
}

 #navMenu li {
  color:#ececec;
  list-style-type:none;
  width:80px;
 }

 #navMenu ul {
  width:970px;
  top:0;
  left:0;
  font-size:16px;
  color:#000000;
 }

#navMenu li a{
 position:fixed;
 height:15px;
 font-weight:700;
 float:left;
 color:#707070;
 display: block;
 padding: 8px 12px;
 text-decoration: none;
 background-image: url(img/image_menubutton.JPG);
 border-right:1px solid white;
 margin-right:12px;
 font-family:"Georgia",Georgia,Serif;
 font-size:19px;
 text-align: center;
 zoom: 1;
 max-width: 30%;
} 
```

# dll - 任务自动化

> ID：11824165
> 
> 赞同：0
> 
> 时间：2012-08-06T07:33:07.433
> 
> 标签：dll, automation, exe

哪种脚本语言/工具最适合自动化任务？

我有一个 exe，我不知道任何使用的函数列表。如果我知道使用的任何函数，那么我想我可以通过将 exe/dll 引用到 VB 或任何其他脚本语言来尝试使用这些函数。我知道exe是从Delphi开发的。

有什么方法可以使过程自动化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:38:43.890

我不确定您的问题是什么；你想完全自动化什么？您是在尝试调用 DLL 提供的函数，还是试图找出*从*DLL 中实际公开的功能。我什至不确定你有一个 DLL，你大部分时间都提到了一个 .exe ......

请参阅指南并尝试更清楚地说明您的问题，如果我一个人不理解您的问题，那么我很抱歉，我希望另一个更有帮助的 SOer 来拯救您！

编辑：在来自 OP 的有用评论之后，我相信这个问题是，'**我怎样才能自动化与 GUI 的交互？**'

如果这是一个 Windows GUI，那么我会推荐使用 Python 和[pyWinAuto](http://code.google.com/p/pywinauto/ "pyWinAuto")包。这将允许您完成相当多的 Windows GUI 应用程序的基本到中级操作。如果那不是你的街道，那么[这个 SO 问题](https://stackoverflow.com/questions/818907/automate-interaction-with-a-gui-interface "与 GUI 界面自动交互")还有许多其他建议。

高温高压

# css - Outlook 2010，使用标签作为按钮 css

> ID：11824166
> 
> 赞同：7
> 
> 时间：2012-08-06T07:33:07.233
> 
> 标签：css, outlook-2010

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2015-07-13T11:33:44.177

解决 Outlook 中的填充问题的一些工作，您可以使用与背景颜色相同的边框来为按钮创建填充。例如：

```
<a style="border:15px solid #FFAE00;background-color:#FFAE00;color:#FFF;font-size:14px; font-family:Arial;text-decoration:none" href="#">
Click Here
</a> 
```

这仅适用于基本按钮样式。

[http://jsbin.com/pohidedayo/edit?html，输出](http://jsbin.com/pohidedayo/edit?html,output)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T07:37:32.567

编辑：

不幸的是，Outlook 支持的东西大致相当于 IE5 兼容的 HTML。这真的很可怕。[这是有关Outlook 2007 中 Word 2007 HTML 和 CSS 呈现功能](http://msdn.microsoft.com/en-us/library/aa338201%28v=office.12%29.aspx)的详细 MSDN 文章，我认为 Outlook 2010 的变化不大。

老实说，我能够让 Outlook HTML 看起来像我想要的方式的唯一方法是使用大致 HTML2 标准标签和属性而不是使用 CSS 手动生成 HTML。一些 CSS 渲染，但它真的是命中注定。

## [请参阅邮件客户端中的 CSS 支持 - 终极指南](http://www.campaignmonitor.com/css/)

在上面的链接中，您可以看到`background`Outlook 不支持 css 属性，因此您应该使用 Outlook 支持的CSS 属性`background-color`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-03-31T23:54:06.393

正如其他答案所暗示的那样，对 Outlook 2007、2010 和 2013 中任何真正通用的东西的支持非常糟糕。这个按钮的主要问题是这些版本的 Outlook 不支持 margin 属性（他们使用 MS Word 作为渲染引擎，yuk！）[Litmus 很好地解释了这个和解决方案](https://litmus.com/help/email-clients/outlookcom-margins/)。

我设法创建了一个[基于 HTML 表格的按钮](http://codepen.io/gillytech/pen/hdoLm)，该按钮适用于几乎所有主要的电子邮件客户端。

这是供您参考的 HTML：

```
<table cellpadding="0" cellmargin="0" border="0" height="44" width="178" style="border-collapse: collapse; border:5px solid #c62228">
  <tr>
    <td bgcolor="#c62228" valign="middle" align="center" width="174">
      <div style="font-size: 18px; color: #ffffff; line-height: 1; margin: 0; padding: 0; mso-table-lspace:0; mso-table-rspace:0;">
        <a href="#" style="text-decoration: none; color: #ffffff; border: 0; font-family: Arial, arial, sans-serif; mso-table-lspace:0; mso-table-rspace:0;" border="0">MY BUTTON</a>
      </div>
    </td>
  </tr>
</table> 
```

希望这可以帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:36:02.830

# html - HTML / CSS：半透明标题 - 没有内容/覆盖

> ID：11824171
> 
> 赞同：1
> 
> 时间：2012-08-06T07:33:49.030
> 
> 标签：html, css, header, transparent

在我当前的网络项目中，滚动应该在徽标和标题之后开始。
这是页面： http: [//neos-srv.dyndns.org/restaurantAppHtdocs/site.php](http://neos-srv.dyndns.org/restaurantAppHtdocs/site.php)

所以我创建了一个标题并将徽标和标题放在标题中。但是由于无论何时滚动该区域都是半透明的，因此内容会通过标题闪耀。

**那么如何制作一个不与内容重叠的半透明标题呢？**

笔记：

*   仅当浏览器窗口/分辨率太小时页面才会滚动（在浏览器窗口上撤消最大化以进行测试）
*   Header 需要半透明才能显示背景图片。我已经尝试为标题使用背景图像，它是背景的一部分 - 但这只在同一台显示器上看起来不错。示例：[http ://neos-srv.dyndns.org/restaurantAppHtdocs/site.php?page=restaurants](http://neos-srv.dyndns.org/restaurantAppHtdocs/site.php?page=restaurants)
*   请不要使用 Internet Explorer - 因为它不能正确呈现网站

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:42:54.130

将位置固定在#header 和样式为 display:block 或类似。Position:fixed 将使内容随页面滚动，这就是图像出现在此标题部分下方的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T08:47:59.227

我找到了 FF 和 Chrome 的修复程序。IE 和 Safari 显示的页面非常糟糕：

HTML：

```
<div id="header">'
<div id="headerPic" style="background: url(Bg.jpg) no-repeat center center fixed; 
-webkit-background-size: cover;
-moz-background-size: cover;
-o-background-size: cover;
background-size: cover;
filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='Bg.jpg', sizingMethod=scale);
-ms-filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='Bg.jpg', sizingMethod=scale);">
<div id="headerContent">
...
</div></div></div> 
```

CSS：

```
#header {
    position:fixed;
    display: block;
    top:0px; left:0px; right:0px;
width: 100%px;
    z-index:5;
    overflow: hidden;
    height: 215px;
}

#headerPic {
    width: 100%; height: 100%;          
    background: url(images/restaurantsBg.jpg) no-repeat center center fixed;
    background-size: 100%;
}

#headerContent {
    width: 701px;
    margin: 0 auto;
    height: 215px;
    background: rgba(255,255,255, 0.80);
    /* Colors: transparency, r, g, b
    /* For IE 5.5 - 7 */
    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#d0ffffff, endColorstr=#d0ffffff);
    /* For IE 8 */
    -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#d0ffffff, endColorstr=#d0ffffff)"
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-19T14:33:28.053

```
.home{
  height: 100vh;
  overflow-y: auto;
  background-image: url('https://i.imgur.com/nfHr3AD.jpg');
  background-size: cover;
  background-position-x: center;
}

.content{
  height: 92vh;
  margin-top: 17vh;
  overflow-y: auto;
}

.header {
  height: 15vh;
  background-color: rgba(71, 83, 143, 0.41);
  position: fixed;
  width: 100%;
  top: 0;
  border-bottom: 1px solid black;
}
```

```
<div class="home">
  <div class="header">
    my header content
  </div>
  <div class="content">
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
    <h5>first list</h5>
  </div>
</div>
```

> 这对我有用！

# php - 如何在php中为soapclient构造KeyValuePair

> ID：11824180
> 
> 赞同：1
> 
> 时间：2012-08-06T07:34:18.603
> 
> 标签：php, parameters, soap-client

在我的 SoapClient 中，请求 XML 应该如下所示：

```
<SOAP-ENV:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:SOAP-ENV="http://www.w3.org/2003/05/soap-envelope">
<SOAP-ENV:Body>
    <SoapFunction xmlns="http://services.***/">
        <prop1>value1</prop1>
        <prop2>value2</prop2>
        <prop3>
            <KeyValuePair>
                <Key>string</Key>
                <Value>string</Value>
            </KeyValuePair>
            <KeyValuePair>
                <Key>string</Key>
                <Value>string</Value>
            </KeyValuePair>
        </prop3>
    </SoapFunction>
</SOAP-ENV:Body>
</sSOAP-ENV:Envelope> 
```

我可以通过以下代码正确构建 prop1 和 prop2：

```
$parameters = array(
    'prop1' => value1,
    'prop2' => value2
);
$request = array($parameters);
$client->__soapCall('SoapFunction', $request); 
```

但是我如何构建属性 prop3，尤其是构建在 WSDL 文件中定义的类型**KeyValuePair**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T01:17:20.767

根据 WSDL 文件中的定义

```
<s:complexType name="KeyValuePair">
    <s:sequence>
        <s:element minOccurs="0" maxOccurs="1" name="Key" type="s:string" />
        <s:element minOccurs="0" maxOccurs="1" name="Value" type="s:string" />
    </s:sequence>
</s:complexType> 
```

我创建了一个具有“键”和“值”属性的新类 KeyValuePair。然后我可以像这样使用 SoapVar 作为 prop3

```
$kvp1= new SoapVar(new KeyValuePair('key1', 'value1'), XSD_ANYTYPE, 'KeyValuePair');
$kvp2= new SoapVar(new KeyValuePair('key2', 'value2'), XSD_ANYTYPE, 'KeyValuePair');
$parameters = array(
    'prop1' => value1,
    'prop2' => value2,
    'prop3' => array($kvp1, $kvp2)
);
$request = array($parameters);
$client->__soapCall('SoapFunction', $request); 
```

顺便说一句：如果生成的请求 xml 与您想要的有细微差别，您可以覆盖 SoapClient 的 __doRequest 以执行一些 preg_replace 等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:12:39.630

您可以像这样生成您的 XML 字符串，然后将其传递给您的 soapFunction

```
<?php
$prop1="prop1 value";
$prop2="prop2 value";
$prop3Values=array();
$prop3Values["key1"]="value1";
$prop3Values["key2"]="value2";
$prop3Values["key3"]="value3";
$prop3Values["key3"]="value3";
$prop3=="";

foreach($prop3Values as $k=>$v)
{
if($prop3=="")
{
$prop3.="<KeyValuePair> 
        <Key>$k</Key> 
        <Value>$v</Value> 
    </KeyValuePair>";
}
else
{
    $prop3.="
    <KeyValuePair> 
        <Key>$k</Key> 
        <Value>$v</Value> 
    </KeyValuePair>";
}
}

$xml=<<<XML
<SOAP-ENV:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:SOAP-ENV="http://www.w3.org/2003/05/soap-envelope"> 
<SOAP-ENV:Body> 
<SoapFunction xmlns="http://services.***/"> 
    <prop1>$prop1</prop1> 
    <prop2>$prop2</prop2> 
    <prop3> 
    $prop3
    </prop3> 
</SoapFunction> 
</SOAP-ENV:Body> 
</sSOAP-ENV:Envelope>
XML;
echo $xml;
?> 
```

在变量 $xml 是您的格式化字符串

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:14:28.817

我认为你可以通过复杂的结构。

看这里：

[https://stackoverflow.com/questions/2608626/how-to-send-an-array-of-complex-type-in​​-php-using-soap-client](https://stackoverflow.com/questions/2608626/how-to-send-an-array-of-complex-type-in-php-using-soap-client)

PHP 可以翻译该调用中的复杂结构。

# wpf - 如何在 Windows 8 / 2012 中左对齐窗口标题？

> ID：11824181
> 
> 赞同：11
> 
> 时间：2012-08-06T07:34:37.553
> 
> 标签：wpf, windows-8

有没有办法（本质上）在 Windows 8 或 2012 机器中左对齐窗口标题？

Window 8 或 2012 中的 Window 标题水平居中对齐。

![在此处输入图像描述](../Images/046d51a129c0ad9ae72725b4d1994072.png)

我们有一个移植到 Windows 8 / 2012 机器的 WPF 应用程序。我们正在与我们的几个客户一起对其进行测试，客户需要将窗口的标题左对齐，就像在 Window 7 或 XP 中一样。

我知道我们可以在 WPF 中使用 ControlTemplate 来做到这一点，但这对于这个小东西来说太过分了。

我相信随着更多应用程序移植到 Windows 8 / 2012，这个问题将会出现。

有什么快速的解决方案吗？或者您知道微软是否会在 Windows 8 或 2012 的最终版本中提供这种灵活性？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T15:52:53.640

这是 Windows 8 的默认行为，因此不建议这样做。

尽管 Visual Studio 2012 将标题左对齐，所以它是可能的，但它可能不一致。

![](../Images/4e113a73df33591b3881f810fd263bc5.png)

由于它已经是 RTM，微软是否会提供如何覆盖或更改默认功能是值得怀疑的。 [这](http://www.codeproject.com/Questions/437938/Center-Align-the-TExt-of-Form-Title-Bar)可能会帮助您获得一些方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-06T22:29:19.323

Windows 8 中的所有窗口标题都居中对齐。在 Windows 8 中强制应用程序标题左对齐几乎就像强制最小化和最大化按钮显示在窗口左侧一样。

您可以使用 DevExpress 中的 DXWindow 等自定义绘图窗口来完成此操作。看到这个帖子：

[http://www.devexpress.com/Support/Center/p/Q298641.aspx](http://www.devexpress.com/Support/Center/p/Q298641.aspx)

但是，该应用程序在 Windows 8 上会显得格格不入，并且可能无法通过桌面应用程序认证。

# c - 如何在 C 编程中锁定文件并避免读取

> ID：11824183
> 
> 赞同：-3
> 
> 时间：2012-08-06T07:34:48.493
> 
> 标签：c, file

我想在写文件时锁定一个文件，没有人应该能够读取它。怎么做？..请提供示例代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:37:25.033

你用fopen吗？然后

[开放](http://linux.die.net/man/3/fopen)

> x - 以独占方式打开文件（如 open(2) 的 O_EXCL 标志）。如果文件已经存在，fopen() 将失败，并将 errno 设置为 EEXIST。fdopen() 忽略此标志。

# java - jar 文件在 lib 目录中的位置

> ID：11824192
> 
> 赞同：0
> 
> 时间：2012-08-06T07:35:47.133
> 
> 标签：java, jar

我的 java 项目包含许多用于不同目的的 jar。例如 spring 框架 jars、log4j、hibernate 等。

我的问题是我应该将这些罐子放在 lib 文件夹中的什么位置？

1.  我应该将所有这些罐子复制到一个文件夹中还是
2.  在 lib 文件夹中为每个组件创建一个不同的文件夹，即我的 lib 文件夹将在其中包含 hibernate、spring、log4j 文件夹或
3.  创建一个类似于 Maven 创建的文件夹结构

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:59:26.440

如果您使用的是 Eclipse IDE，请使用“User Libraries”标签制作不同的库。但所有放入 WEB-INF/lib 的库也可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:31:46.323

你的部署是什么？（战争/耳朵）？在任何一种情况下，所有 jars 文件都直接放在 lib 文件夹下

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:44:19.207

如果您不想使用`Maven`，我想做的是为每个 jar 设置每个文件夹并为每个版本创建一个子文件夹。

例如，

```
 lib
|
---hibernate
      |+3.xx
          |+ .jar
---spring
      |+3.xx
          |+ .jar 
```

 `但是如果你只有几个 jar 文件，你可以把它们都放在一个文件夹中，你的 IDE 会处理它。`

# android - HTC Sensation 真实分辨率

> ID：11824193
> 
> 赞同：0
> 
> 时间：2012-08-06T07:35:48.260
> 
> 标签：android, resolution

我有两种方法可以获得真正的解决方案：

```
 DisplayMetrics dm = new DisplayMetrics(); 
    getWindowManager().getDefaultDisplay().getMetrics(dm);
    device_value[index++] = dm.widthPixels + "x" + m.heightPixels;

    Display display = getWindowManager().getDefaultDisplay();
    String widthAndHeight = display.getWidth() + " x " + display.getHeight();

<uses-sdk android:minSdkVersion="3"  android:targetSdkVersion="3"/>
<supports-screens android:anyDensity="false" android:smallScreens="true" android:normalScreens="true" android:largeScreens="true"/> 
```

它们都返回“320x569”，而真正的返回“640x960”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:59:28.620

我相信这是因为您的目标或最低 SDK 版本正在激活屏幕兼容模式。您应该在清单中使用更高的最小值和目标 SDK 值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T00:48:21.230

关于如何获得真正分辨率的结论：

```
< uses-sdk android:targetSdkVersion="4"...

< supports-screens android:anyDensity="true"...

DisplayMetrics dm = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(dm);
String resolution = dm.widthPixels + "x" + m.heightPixels; 
```

# iphone - 启动画面（启动图像）与 iPhone 应用程序的图标

> ID：11824194
> 
> 赞同：0
> 
> 时间：2012-08-06T07:35:50.913
> 
> 标签：iphone, xcode

我知道**iPhone 应用程序的启动画面是 Default.png**。顺便说一句，我正在使用**XCode4**进行开发。

**但问题是**

**当我尝试使用应用程序加载器上传应用程序时，应用程序加载器告诉我 Default.png 太大：“图标尺寸不符合尺寸要求 [..] 57x57 像素”。**

如果我改变尺寸，初始屏幕将失去分辨率，因此看起来不太好。那么如何区分图标和启动画面，以便应用程序加载器不会给我一个错误？

先感谢您！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-06T07:46:25.430

你正在混淆`Icon.png`和`Default.png`。两者都必须具有指定的尺寸。分别为**57x57 非视网膜**、**114x114 视网膜**和**320x480 非视网膜**、**640x960 视网膜**。

确保您没有为应用程序中**的图标文件指定任何非标准名称**`plist`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T09:40:28.553

只需制作两个不同尺寸的不同文件，并将它们分配到目标摘要选项卡中的适当位置，如下图所示

![在此处输入图像描述](../Images/d610971fbd2415270da67a7bf4a9977b.png)

**它必须是上述答案中指定的所需尺寸**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T09:50:37.373

**更新：** *（2014 年 1 月 8 日）*

官方网站的新链接在**[这里](https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/IconMatrix.html)**。

**更新：** *（29/04/13）*

```
full DEFAULT image set contains:

- 2048 by 1536 (Retina iPad default, landscape)
- 1536 by 2048 (Retina iPad default, portrait)
- 1136 by 640 (Retina iPhone5 default, landscape)
- 1024 by 768 (iPad default, landscape)
- 960 by 640 (Retina iPhone default, landscape)
- 768 by 1024 (iPad default, portrait)
- 640 by 960 (Retina iPhone default, portrait)
- 640 by 1136 (Retina iPhone5 default, portrait)
- 480 by 320 (iPhone default, landscape)
- 320 by 480 (iPhone default, portrait) 
```

最终的官方 Apple 文档可**[在此处](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/IconsImages/IconsImages.html)**获得。

**原帖：**

这是**通用应用程序的图标和图像的完整列表，**以了解如果您想为所有应用程序做好准备，需要多少图标和图像。

```
full ICON set contains:

- 1024 by 1024 (Retina iTunes artwork)
- 512 by 512 (iTunes artwork)
- 144 by 144 (Retina iPad icon)
- 114 by 114 (Retina iPhone icon)
- 96 by 96 (Retina iPad Spotlight)
- 72 by 72 (iPad icon)
- 58 by 58 (Retina iPhone Spotlight)
- 57 by 57 (iPhone icon)
- 48 by 48 (iPad Spotlight)
- 29 by 29 (iPhone Spotlight)

full DEFAULT image set contains:

- 2048 by 1536 (Retina iPad default, landscape)
- 1536 by 2048 (Retina iPad default, portrait)
- 1024 by 768 (iPad default, landscape)
- 960 by 640 (Retina iPhone default, landscape)
- 768 by 1024 (iPad default, portrait)
- 640 by 960 (Retina iPhone default, portrait)
- 480 by 320 (iPhone default, landscape)
- 320 by 480 (iPhone default, portrait) 
```

# android - NoDisplay Activity 有时显示为空 Activity

> ID：11824199
> 
> 赞同：1
> 
> 时间：2012-08-06T07:36:04.877
> 
> 标签：android, android-activity, android-dialog

我有一个在清单中声明的​​活动，如下所示：

```
<activity
        android:name=".MainActivity"
        android:configChanges="orientation|keyboardHidden|screenSize"
        android:label="@string/app_name"
        android:noHistory="true"
        android:theme="@style/Theme.Transparent" > 
```

Theme.Transparent 在哪里：

```
 <style name="Theme.Transparent" parent="android:style/Theme.NoDisplay">
    <item name="android:windowIsTranslucent">true</item>
    <item name="android:windowBackground">@android:color/transparent</item>
    <item name="android:windowContentOverlay">@null</item>
    <item name="android:windowIsFloating">true</item>
    <item name="android:backgroundDimEnabled">false</item>
</style> 
```

在这个活动中，我正在显示对话框，然后对话框（在我的 AsyncTask 的 postExecute 中）打开另一个活动。Activity 启动后，对话框直接打开。

现在有时它只显示一个空活动而不加载对话框（我想我的活动生命周期做错了什么？！）我在清单中设置了一个 noHistory 标志，这样如果在启动的活动中点击后退按钮你不要进入一个空的活动，而是完全退出应用程序......

这是我的活动的结构：

```
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
// setting up and showing dialog etc...
}

@Override
protected void onResume() {
    super.onResume();
}

@Override
protected void onPause() {
    super.onPause();
    finish();
}

@Override
protected void onDestroy() {
    super.onDestroy();
    finish();
}

} 
```

非常感谢你的帮助...

# javascript - 表单提交而不检查ext js中的必填字段

> ID：11824202
> 
> 赞同：0
> 
> 时间：2012-08-06T07:36:26.047
> 
> 标签：javascript, extjs, extjs3

我在 ext js 表单中添加了一些字段，其中包含必需的“itemCls”。但是表单提交时不检查（必填字段）字段是否为空。

我的代码如下，

```
 xtype: 'form',
  id: 'form',
  bodyStyle: 'overflow : auto; height: 337px;',
  items: [{
    xtype: 'fieldset',
    items: [{
      xtype: 'combo',
      id: 'adr',
      anchor: '98%',
      listWidth: 300,
      itemCls: 'required',
      editable: false,
      store: store,
      displayField: 'NAM',
      valueField: 'ID',
      triggerAction: 'all',
      mode: 'local'
    }, {
      xtype: 'datefield',
      id: 'date',
      name: 'date',
      itemCls: 'required',
      readOnly: false,
    }, {
      xtype: 'textfield',
      id: 'name',
      itemCls: 'required',
      anchor: '98%',
      fieldLabel: 'name',
      name: 'name'
    }]
  }, {
    xtype: 'button',
    text: 'Save',
    handler: function(btn, evt) {
      Ext.getCmp('form').getForm().submit();
    }

  }]
```

任何帮助都必须感谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T11:01:03.793

您必须将[monitorValid](http://docs.sencha.com/ext-js/3-4/#!/api/Ext.form.FormPanel-cfg-monitorValid) :true 添加到**form**。然后你可以在**表单上使用监听**[器客户端验证](http://docs.sencha.com/ext-js/3-4/#!/api/Ext.form.FormPanel-event-clientvalidation)，例如，禁用提交按钮

 **```
listeners: {
  clientvalidation : function(form, valid) {
    Ext.getCmp('button-save').setDisabled(!valid);
  }
} 
```

之后，客户端验证将按预期工作。注意：**button-save**是**id**，应该在**Save**按钮上。**

# git - 选定文件上的 git 存储库提交

> ID：11824205
> 
> 赞同：2
> 
> 时间：2012-08-06T07:36:37.017
> 
> 标签：git

我在选定文件提交的 git 存储库中遇到问题。

如果我修改了 4 个文件，则与在 SCM 或 SVN 中一样。但只想提交两个文件，那么我可以轻松地只提交选定的文件。

但是在git中使用cmd时：git commit -a。它将提交所有修改过的文件。如果使用像 git commit filename filename 这样的 cmd。它不起作用。

所以任何帮助如何在 git 中只提交选定的文件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T07:39:51.183

`git commit -a`如果您不想提交所有内容，请不要使用- 因为`-a`是“提交所有内容”。

相反，使用`git add <filename>`来添加您要提交的文件，然后将`git commit`.

例如，如果您有三个文件`foo`、`bar`和`baz`，并且您只想提交对`foo`and的更改`bar`，则执行以下操作：

```
git add foo
git add bar
git commit 
```

（您也可以`git add foo bar`在一个命令中添加这两个文件。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-14T09:04:36.847

# iphone - 我们如何在 iPhone sdk 中控制音乐的低音？

> ID：11824207
> 
> 赞同：6
> 
> 时间：2012-08-06T07:37:00.913
> 
> 标签：iphone, static-libraries, mpmusicplayercontroller, bass

我想控制用户从 iPod 音乐库中播放的歌曲的低音。

我在谷歌上搜索并得到了一些没有帮助的 AudioMixer 样本，但现在我从[http://www.un4seen.com/](http://www.un4seen.com/)获得了低音库，即 libbass.a ，我认为这非常有用。

但我不知道如何使用滑块调整歌曲的低音。

最近我又得到了一个关于这个的样本。但是这里示例中的问题是我在 AudioUnit 框架给出的数组中获得了所有均衡器的类型，如舞蹈、流行、摇滚、低音、爵士、原声、古典等预设/预定义。但我只想在滑块中实现低音。而且您必须知道，要在滑块中实现任何东西，我们都需要值。但在我的情况下，我没有得到任何均衡器预设类型的任何价值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T11:35:25.850

如果您想真正突出 iPod 中播放曲目的低音，请将您的值设置为提高 60-80 Hz 左右的频率，同时减少 100-400 Hz 左右的一些中频。不要忘记稍微增加高点，比如 2800 + Hz 左右。我不熟悉软件是如何设置的，但根据工作室艺术家的经验，上述频率调整将消除任何浑浊或闷闷的声音，真正打开低端。要处理您的要求：将滑块设置在 60-100 Hz 之间。

祝你好运！

# ajax - 带参数的 jQuery Promise 回调

> ID：11824209
> 
> 赞同：3
> 
> 时间：2012-08-06T07:37:02.800
> 
> 标签：ajax, promise, jquery

我试图弄清楚如何将参数传递给由 jQuery 的 promise 对象触发的回调函数。我的方法，它调用 ajax，然后是 promise 方法，如下所示：

```
var formObject = {
    call : function(thisForm, thisUrl, thisArray, thisCallback) {
        "use strict";
        var thisMethod = thisForm.attr('method').toUpperCase();
        var thisPromise = $.ajax({
            type : thisMethod,
            url : thisUrl,
            dataType : 'json',
            data : thisArray,
            cache : false
        });
        thisPromise.done(thisCallback(data, textStatus, jqXHR));
        thisPromise.fail(formObject.topError(jqXHR, textStatus, errorThrown));
    }
}; 
```

done() 和 fail() 方法中的参数不正确——但这正是我想要弄清楚的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:43:33.910

无需提供额外的闭包 - 下面的行应该可以正常工作：

```
thisPromise.done(thisCallback);
thisPromise.fail(formObject.topError.bind(formObject)); 
```

`done`回调将传递由提供的`data, textStatus, jqXHR`参数`$.ajax`。这一行只是直接注册提供的回调函数。

回调将`fail`同样获得正确的参数，除了我在[`.bind`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind)这里使用以确保`this`正确设置为`formObject`. 如果要在 ES5 之前的浏览器上使用此代码，只需安装一个 shim 即可`.bind`- 上面链接的 Mozilla 网站上有一个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:39:42.673

试着改写

```
thisPromise.done(function(data, textStatus, jqXHR) { 
    thisCallback(data, textStatus, jqXHR); 
});
thisPromise.fail(function(jqXHR, textStatus, errorThrown) { 
     formObject.topError(jqXHR, textStatus, errorThrown); 
}); 
```

将两个回调包装在一个函数中

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T07:40:21.610

使用闭包：

```
var formObject = {
    call : function(thisForm, thisUrl, thisArray, thisCallback) {
        "use strict";
        var thisMethod = thisForm.attr('method').toUpperCase();
        var thisPromise = $.ajax({
            type : thisMethod,
            url : thisUrl,
            dataType : 'json',
            data : thisArray,
            cache : false
        });
        thisPromise.done(function(data, textStatus, jqXHR) {
                 thisCallback(/* additional parameters*/)
        });
..........................
    }
}; 
```

# android - 提醒后的 Android 日历 ICS 4.0 URI

> ID：11824222
> 
> 赞同：1
> 
> 时间：2012-08-06T07:37:53.077
> 
> 标签：android, android-calendar, android-event

我面临的问题是非常独特的。每当我从我的应用程序将事件添加到日历并设置“准时”提醒时，它会在 Android 日历应用程序中显示为适当的值。在时间过去后，例如：“设置准时”为下午 12:15 和下午 12:15，Android 日历应用程序自动将“准时”更改为“10 分钟前”。

还有一个：另外，在我设置了 5 分钟的提醒之后，我从 android 日历应用程序中删除了事件，在提醒时间到达之前或在警报弹出之前，URI 被删除并反映在我的应用程序中。在弹出警报并将其删除后，URI 仍然存在于 android 日历应用程序中。

谢谢，帮助赞赏。

# c# - MEF 部分的依赖

> ID：11824225
> 
> 赞同：1
> 
> 时间：2012-08-06T07:38:03.030
> 
> 标签：c#, .net, mef

我有一个关于 MEF 的问题。在本质上：

```
assembly my.main {
  class Main {
    <Import>
    Lazy<IMyType> prop;

    public static void Main(...) {
      ComposeParts(this);
      prop.DoStuff();
    }
  }
}

assembly my.interfaces {
  interface IMyType {
    void DoStuff();
  }
}

assembly my.parts {
  using 3rdParty;
  <Export>
  class MyType : IMyType {
    void DoStuff() {
      3rdParty.DoStuff();
    }
  }
} 
```

my.main和*my.parts**都*引用*了 my.interfaces*程序集。除此之外，*my.parts*程序集引用了第 3 方 .dll，而我的其他两个没有。当我尝试执行上述操作时，在调用*prop.DoStuff(* *) 时会在 Main()*中引发*CompositionException* ，并显示找不到类*3rdParty*的消息。

 ***换句话说，MEF 部分被注入，但它需要的 dll 没有被注入/复制。

有谁知道这个问题的解决方案或解决方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:45:35.183

在执行期间，`3rdParty`程序集文件显然与程序集不在同一目录中`my.parts`（或加载程序探测的任何其他位置）。***

# c# - 用户代码未处理解析失败异常

> ID：11824227
> 
> 赞同：1
> 
> 时间：2012-08-06T07:38:05.217
> 
> 标签：c#, .net

每当我尝试使用其他模块的管理器和存储库部分将记录保存到数据库中时，我都会遇到以下给定的异常。此异常在控制器中引发。我是新手，对此一无所知。请帮助我。

依赖项解析失败，type = "XV.XS.Framework.ExceptionHandling.IExceptionHandler"，name = "(none)"。异常发生时：解决时。

## 例外是：ActivationException - 尝试获取 ExceptionManager 类型的实例时发生激活错误，键“”

在异常发生时，容器是：

解决 XV.XS.Framework.ExceptionHandling.IExceptionHandler，（无）

内部异常是：1）{“尝试获取ExceptionManager类型的实例时发生激活错误，键\“\”“}

2) {"依赖项解析失败，类型 = \"Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionManager\", name = \"(none)\"。\r\nException occurred while: while resolve。\r\nException是: InvalidOperationException - 无法构造类型 ExceptionManager。您必须配置容器以提供此值。\r\n------------------------- ----------------------\r\n发生异常时，容器为：\r\n\r\n 正在解决 Microsoft.Practices.EnterpriseLibrary .ExceptionHandling.ExceptionManager,(无)\r\n"}

3) {“无法构造类型 ExceptionManager。您必须配置容器以提供此值。”}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T17:01:08.957

我在继承的项目中遇到了类似的问题。原来它正在寻找我已更改名称的连接字符串：D

# assembly - 在可启动媒体上找不到引导加载程序

> ID：11824231
> 
> 赞同：1
> 
> 时间：2012-08-06T07:38:22.737
> 
> 标签：assembly, operating-system, boot, iso, bootloader

我目前正在玩 mkisofs、dd 和程序集。我创建了简单的引导加载程序：

```
BITS 16
;-------------------
;SIMPLE BOOTLOADER
;-------------------
start:
    mov ax, 0x07C0
    mov ds, ax

    mov si, welcmsg
    call printstr

    mov ah, 0Eh
    mov al, 65
    int 10h

    cli;
    hlt;    

printstr:
    pusha
    mov ah, 0Eh
    .loop:
        mov al, byte [ds:si]

        cmp al, 0
        jz .end
        int 10h

        inc si
        jmp .loop
    .end:
        popa
    ret
;-------------------
;DATA
;-------------------
welcmsg: db "Welcome!", 0x0D, 0x0A, 0
;-------------------
;FILL
;-------------------
times 510-($-$$) db 0
dw 0xAA55 
```

我已经使用 NASM 在 linux 上编译了它。编译成功后，我复制了 512 字节 .bin 文件的内容，并使用 Okteta 十六进制编辑器将其粘贴到空的 .img 文件中。

```
dd if=/dev/zero of=boot.img bs=512 count=2880 
```

然后我使用 mkisofs 创建 .iso 文件。

```
mkisofs -U -D -floppy-boot -b  boot.img -c boot.catalog -hide boot.img -hide boot.catalog -V "test" -iso-level 3 -L -o test.iso content 
```

我已将此 .iso 映像添加到虚拟机设置并启动它。我面临的问题是 VirtualBox 错误消息：

```
FATAL: No bootable medium found. 
```

有谁知道我做错了什么，我怎样才能让它工作？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T18:37:25.063

这是其他人致力于在[SO](https://stackoverflow.com/questions/4690300/how-to-make-an-bootable-isonot-cd-or-flash-drive-for-testing-your-own-boot-loa)上开发引导加载程序。您可能想查看[OSDev](http://forum.osdev.org/)以获得更多想法，并加入一个从头开始构建它的社区。至于为什么您的努力无法启动，我想知道您是否需要检查[Using Virtualbox as a bootloader testing environment](http://www.dreamincode.net/forums/blog/150/entry-2999-bodoms-universe/)。正如我之前所说，你已经有了一个很好的开始，一切顺利。干杯！

# javascript - 在一个 java 脚本函数中传递 2 个变量

> ID：11824239
> 
> 赞同：0
> 
> 时间：2012-08-06T07:39:06.540
> 
> 标签：javascript, android, android-webview

我使用以下代码将一个变量从我的 Java 类传递到我的 Web 视图：

```
web.loadUrl("javascript:window.onload = function(){setValue(\""+ amount1 +"\");};"); 
```

并使用 Java 脚本代码：

```
function setValue(amount1)
    {
    myValue = amount1;

    document.getElementById("amount").value = myValue;
} 
```

现在我只想在一个函数名 setValue 中传递 2 个变量

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:45:19.260

从表面上看，我会说它很简单

```
web.loadUrl("javascript:window.onload = function(){setValue(\""+ amount1 +"\",\""+ amount2 +"\");};"); 
```

和

```
function setValue(amount1, amount2)
{
    myValue1 = amount1;
    myValue2 = amount2;

    document.getElementById("amount1").value = myValue1;
    document.getElementById("amount2").value = myValue2;
} 
```

但是，如果您能多解释一下您在做什么，我们或许能够提供更好的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:44:58.987

```
web.loadUrl("javascript:window.onload = function(){setValue(\""+ amount1 +"\",\""+ amount2 +"\");};");

function setValue(amount1, amount2)
    {
    myValue = amount1;

    document.getElementById("amount").value = myValue;
} 
```

请告诉它是否有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:56:32.897

如果你走这条路，虽然我确信你正在做的事情有更优雅的解决方案......你最好发送一个包含你希望设置的所有键和值的对象：

```
setValue({amount1:'amount1', amount2:'amount2'}); 
```

这种结构比定义单独的变量更具可扩展性。您需要做的就是确保您的键通过某种标准化的命名约定与它们的目标输入相关联，并且您可以使用如下函数：

```
function(obj){
  var i, elm;
  for( i in obj ) {
    if ( (elm = document.getElementById(i)) ) {
      elm.value = obj[i];
    }
  }
} 
```

通过标准化的命名约定，我的意思是您的键名与其目标输入的键名匹配。因此，您在目标页面上有 id="amount1" 和另一个 id="amount2" 的输入。还要记住，如果您发送“金额”，我猜它们是数字的。如果是这样，您不需要将它们作为字符串发送，这意味着您可以避免 \" 转义。

```
web.loadUrl(
  "javascript:window.onload = function(){setValue({amount1:123, amount2:5});};"
); 
```

# java - 如何使用 JDBC 将整行作为对象数组获取

> ID：11824258
> 
> 赞同：9
> 
> 时间：2012-08-06T07:40:34.700
> 
> 标签：java, mysql, sql, jdbc, fetch

我必须为通过 JDBC 访问 MySQL 的类创建一个“查询”方法。

该方法的输入参数是一个完整的 SQL 命令（包含值），所以我不知道要提取的列的名称。

有些列是字符串，有些是整数，等等。

该方法需要返回`ArrayList<HashMap<String,Object>>` 每个 HashMap 为 1 行的类型的值，ArrayList 包含结果的所有行。

我正在考虑使用`ResultSet.getMetaData().getColumnCount()`获取列数，然后从当前行中逐个单元格地获取，但这是唯一的解决方案吗？有更好的吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-06T10:48:50.007

我这里有示例代码，以防万一有人需要。（代码中的“Con”是标准的 JDBC 连接）。

```
//query a full sql command
public static ArrayList<HashMap<String,Object>> 
rawQuery(String fullCommand) {
  try {

    //create statement
    Statement stm = null;
    stm = con.createStatement();

    //query
    ResultSet result = null;
    boolean returningRows = stm.execute(fullCommand);
    if (returningRows)
      result = stm.getResultSet();
    else
      return new ArrayList<HashMap<String,Object>>();

    //get metadata
    ResultSetMetaData meta = null;
    meta = result.getMetaData();

    //get column names
    int colCount = meta.getColumnCount();
    ArrayList<String> cols = new ArrayList<String>();
    for (int index=1; index<=Col_Count; index++)
      cols.add(meta.getColumnName(index));

    //fetch out rows
    ArrayList<HashMap<String,Object>> rows = 
    new ArrayList<HashMap<String,Object>>();

    while (result.next()) {
      HashMap<String,Object> row = new HashMap<String,Object>();
      for (String colName:cols) {
        Object val = Result.getObject(colName);
        row.put(colName,val);
      }
      rows.add(row);
    }

    //close statement
    stm.close();

    //pass back rows
    return tows;
  }
  catch (Exception ex) {
    System.out.print(ex.getMessage());
    return new ArrayList<HashMap<String,Object>>();
  }
}//raw_query 
```

# java - 部署 weblogic 12c 时发生 java.net.MalformedURLException

> ID：11824259
> 
> 赞同：0
> 
> 时间：2012-08-06T07:40:35.933
> 
> 标签：java, exception, jakarta-ee, deployment, weblogic

```
org.eclipse.core.runtime.CoreException: Module named '_auto_generated_ear_' failed to deploy. See Error Log view for more detail.
    at oracle.eclipse.tools.weblogic.server.internal.WlsJ2EEDeploymentHelper.deployAutoGenerateEarApplication(WlsJ2EEDeploymentHelper.java:807)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publishWeblogicModules(WeblogicServerBehaviour.java:1438)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publishToServer(WeblogicServerBehaviour.java:898)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publishOnce(WeblogicServerBehaviour.java:686)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publish(WeblogicServerBehaviour.java:539)
    at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:774)
    at org.eclipse.wst.server.core.internal.Server.publishImpl(Server.java:3087)
    at org.eclipse.wst.server.core.internal.Server$PublishJob.run(Server.java:345)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Contains: java.net.MalformedURLException: no protocol: 12c/patch_wls1211/profiles/default/sys_manifest_classpath/../../../patch_jars/BUG13340309_1211.jar
java.lang.Exception: Exception received from deployment driver. See Error Log view for more detail.
    at oracle.eclipse.tools.weblogic.server.internal.DeploymentProgressListener.watch(DeploymentProgressListener.java:190)
    at oracle.eclipse.tools.weblogic.server.internal.WlsJ2EEDeploymentHelper.deployAutoGenerateEarApplication(WlsJ2EEDeploymentHelper.java:788)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publishWeblogicModules(WeblogicServerBehaviour.java:1438)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publishToServer(WeblogicServerBehaviour.java:898)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publishOnce(WeblogicServerBehaviour.java:686)
    at oracle.eclipse.tools.weblogic.server.internal.WeblogicServerBehaviour.publish(WeblogicServerBehaviour.java:539)
    at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:774)
    at org.eclipse.wst.server.core.internal.Server.publishImpl(Server.java:3087)
    at org.eclipse.wst.server.core.internal.Server$PublishJob.run(Server.java:345)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Caused by: java.net.MalformedURLException: no protocol: 12c/patch_wls1211/profiles/default/sys_manifest_classpath/../../../patch_jars/BUG13340309_1211.jar
    at java.net.URL.<init>(URL.java:567)
    at java.net.URL.<init>(URL.java:464)
    at java.net.URL.<init>(URL.java:413)
    at sun.rmi.server.LoaderHandler.pathToURLs(LoaderHandler.java:749)
    at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:145)
    at java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:620)
    at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:247)
    at sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:197)
    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1574)
    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)
    at java.rmi.MarshalledObject.get(MarshalledObject.java:142)
    at javax.management.remote.rmi.RMIConnectionImpl.unwrap(RMIConnectionImpl.java:1523)
    at javax.management.remote.rmi.RMIConnectionImpl.unwrap(RMIConnectionImpl.java:1559)
    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:771)
    at javax.management.remote.rmi.RMIConnectionImpl_WLSkel.invoke(Unknown Source)
    at weblogic.rmi.internal.BasicServerRef.invoke(BasicServerRef.java:695)
    at weblogic.rmi.internal.BasicServerRef$1.run(BasicServerRef.java:520)
    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)
    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:146)
    at weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:516)
    at weblogic.rmi.internal.wls.WLSExecuteRequest.run(WLSExecuteRequest.java:118)
    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:256)
    at weblogic.work.ExecuteThread.run(ExecuteThread.java:221) 
```

在 Weblogic 12c 中部署应用程序时出现此异常。你能帮我解决这个问题吗？

“_auto_generated_ear_”它说部署失败......所以请告诉mw如何解决这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:25:57.793

您是否尝试使用[WLST](http://docs.oracle.com/cd/E15051_01/wls/docs103/config_scripting/using_WLST.html)部署您的 EAR ？Weblogic 本身使用 t3 协议进行通信。

如果您还没有尝试过，请使用新的堆栈跟踪更新问题

# java - 线程安全 - 传递给线程的最终局部方法变量？

> ID：11824264
> 
> 赞同：8
> 
> 时间：2012-08-06T07:41:03.220
> 
> 标签：java, multithreading, concurrency, thread-safety, final

如果此方法的变量“commonSet”改为类级别字段，则以下代码是否会导致相同的问题。如果它是一个类级别的字段，我将不得不在同步块中包装添加到设置操作，因为 HashSet 不是线程安全的。我是否应该在下面的代码中做同样的事情，因为多个线程正在添加到集合中，甚至当前线程可能会继续改变集合。

```
public void threadCreatorFunction(final String[] args) {
    final Set<String> commonSet = new HashSet<String>();

    final Runnable runnable = new Runnable() {
        @Override
        public void run() {
            while (true) {
                commonSet.add(newValue());
            }
        }
    };

    new Thread(runnable, "T_A").start();
    new Thread(runnable, "T_B").start();
} 
```

对“commonSet”的引用通过使用 final 被“锁定”。但是在它上面运行的多个线程仍然可以破坏集合中的值（它可能包含重复项？）。其次，混淆是因为“commonSet”是一个方法级别的变量——它的相同引用将在调用方法（threadCreatorFunction）的堆栈内存和运行方法的堆栈内存上——这是正确的吗？

有很多与此相关的问题：

*   [为什么传递给runnable的变量必须是final的？](https://stackoverflow.com/questions/11424753/why-do-variables-passed-to-runnable-need-to-be-final)
*   [为什么在匿名类中只能访问最终变量？](https://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class)

但是，我看不到他们强调这种共享/传递可变变量的线程安全部分。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-06T07:44:53.230

不，这绝对不是线程安全的。仅仅因为您将它放在 final 变量中，这意味着两个线程将看到相同的*引用*，这很好 - 但它不会使*对象*变得更加线程安全。

要么您需要同步访问，要么使用[`ConcurrentSkipListSet`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html).

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-06T07:44:55.163

一个有趣的例子。

引用`commonSet`是线程安全且不可变的。它位于第一个线程的堆栈上，也是您的匿名`Runnable`类的一个字段。（您可以在调试器中看到这一点）

`commonSet`所指的集合是可变的并且不是线程安全的。您需要使用同步或锁来使其线程安全。（或者改用线程安全的集合）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T07:50:34.000

我认为你在第一句话中漏掉了一个词：

> 如果此方法的变量“commonSet”是`???`类级别字段，则以下代码是否会导致相同的问题。

我觉得你有点困惑。并发问题与是否声明了对可变数据结构的引用无关`final`。您需要将引用声明为因为`final`您[在](http://en.wikipedia.org/wiki/Closure_%28computer_science%29)`Runnable`. 如果您实际上要让多个线程读取/写入数据结构，那么您需要使用锁（同步）或使用并发数据结构，如[java.util.concurrent.ConcurrentHashMap](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T08:35:12.170

commonSet 在两个线程之间共享。您已将其声明为 final，因此您使**引用**不可变（您不能重新分配它），但 Set 中的实际数据仍然是可变的。假设一个线程放入一些数据，而另一个线程读取一些数据。每当第一个线程放入数据时，您很可能希望锁定该 Set，以便在写入该数据之前没有其他线程可以读取。HashSet会发生这种情况吗？并不真地。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T08:06:39.930

正如其他人已经评论的那样，您误会了一些概念，例如最终和同步。

我认为如果你解释你想用你的代码完成什么，帮助你会容易得多。我的印象是这个代码片段比实际代码更像是一个例子。

一些问题：为什么在函数内部定义集合？它应该在线程之间共享吗？令我困惑的是，您使用相同的可运行实例创建了两个线程

```
 new Thread(runnable, "T_A").start();
    new Thread(runnable, "T_B").start(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-06T08:14:19.830

无论 commonset 是由单个线程还是多个线程使用，它只是对最终对象不可变的引用（即，一旦分配，您就不能再次分配另一个 obj 引用）但是您仍然可以使用该引用修改该对象引用的内容。

如果它不是最终的，一个线程可能会再次对其进行初始化并更改引用 `commonSet = new HashSet<String>(); commonSet.add(newValue());` ，在这种情况下，这两个线程可能会使用两个不同的公共集，这可能不是您想要的

# c# - 如何根据一个属性设置不同的背景？

> ID：11824266
> 
> 赞同：0
> 
> 时间：2012-08-06T07:41:22.593
> 
> 标签：c#, wpf, listview, listviewitem

我有`ListView`哪个`ItemSource`bindend to `ObservableCollection<Period>`where`Period`是

```
 public class Period : INotifyPropertyChanged
 {
    //some stuff
    //

    public Status PeriodStatus
    {
        get;
        set;
    }

    #region PropertyChangedEventHandler members

    public void SendPropertyChanged(string name)
    {
        if (this.PropertyChanged != null)
            this.PropertyChanged(this, new PropertyChangedEventArgs(name));
    }

    public event PropertyChangedEventHandler PropertyChanged;

    #endregion 
}

public enum Status
{
    None,
    Added,
    Deleted,
    Edited
} 
```

我想`ListViewItem`按这个顺序设置每个的背景：添加-绿色/删除-红色/编辑-黄色/无默认。在这里找到了很多解决方案，但没有提供我的解决方案。如果存在问题，请发表评论，我将关闭此

**[编辑]** 我想以`DataTemplate`这种方式使用：创建模板，该模板创建与`Background`属性的绑定并 `Status`在`Period`其中使用转换器。但不知道如何保留其余的设计

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:57:38.413

请使用`DataTrigger`s 作为 of 中的属性`Background`（本[问题中的示例](https://stackoverflow.com/questions/1488547/)：您不需要转换器，使用枚举值而不是整数值）。`Style``ListViewItem`

```
<ListView>
    <ListView.ItemContainerStyle>
        <Style TargetType="{x:Type ListViewItem}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=PeriodStatus}" Value="Added">
                    <Setter Property="Background" Value="Green" />
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=PeriodStatus}" Value="Deleted">
                    <Setter Property="Background" Value="Red" />
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=PeriodStatus}" Value="Edited">
                    <Setter Property="Background" Value="Yellow" />
                </DataTrigger>
            <Style.Triggers>
        </Style>
    </ListView.ItemContainerStyle>
</ListView> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:59:25.660

最简单的一种是`Triggers`在您的`ListView.ItemContainerStyle`.

```
<ListView.ItemContainerStyle>
    <Style TargetType="{x:Type ListViewItem}">
        <Style.Triggers>
            <DataTrigger Binding="{Binding Path=PeriodStatus}" Value="Added">
                <Setter Property="Background" Value="Green" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=PeriodStatus}" Value="Deleted">
                <Setter Property="Background" Value="Red" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=PeriodStatus}" Value="Edited">
                <Setter Property="Background" Value="Yellow" />
            </DataTrigger>
        <Style.Triggers>
    <Style>
<ListView.ItemContainerStyle> 
```

这是一个示例代码：您可能需要添加一个命名空间以`enum`在`XAML`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T09:57:02.683

我发现拥有一个专用的 PeriodStatusColor 只读属性更容易，更少的“纯 xaml”，是的，但是更少的代码，并且所有代码都在同一个地方。所以这个属性只返回当前 PeriodStatus 的颜色。在 PeriodStatus 更改时，还引发 PeriodStatusColor PropertyChanged。使用静态冻结颜色，并且可能使用 PeriodStatus --> Color static Dictionnary 来获得干净的代码。

# ms-access - Microsoft Access：尝试检测由父表单中的子表单触发的插入

> ID：11824269
> 
> 赞同：1
> 
> 时间：2012-08-06T07:41:36.797
> 
> 标签：ms-access, ms-access-2007, vba

是否有可能在仍处于父表单中时检测到子表单执行的插入操作？

澄清一下：我有一系列用于数据输入的表格，它们每个都有一个用于向相应表格添加条目的按钮（使用表格中提供的数据）。我正在尝试将它们中的每一个依次设置为“向导”父表单中的子表单，该父表单将循环遍历所有数据输入表单。

在表单之间切换时出现了我的问题，因为很明显，这个父表单中的 AfterInsert 事件没有检测到由子表单中包含的表单触发的插入。我知道我可以将插入的触发器移动到父表单中的按钮；但是，据我所知，这需要将数据输入表单中每个按钮的单击事件代码设置为公开，以便可以从父表单的代码中调用它们。我对此持怀疑态度，因此希望有其他选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T14:24:17.877

在父窗体中创建一个公共过程。

```
Public Sub Listener(ByVal pMsg As String)
    MsgBox pMsg
End Sub 
```

然后，在您的每个子窗体中，从 After Insert 调用该过程。

```
Private Sub Form_AfterInsert()
    Dim strMsg As String
    strMsg = Me.Name & " inserted row."
    Call Me.Parent.Listener(strMsg)
End Sub 
```

如果子表单也可以单独使用（没有父表单），`Me.Parent`将抛出错误 #2452，“*您输入的表达式对 Parent 属性的引用无效。* ”您可以创建一个单独的函数来检查当前表单是否具有父级，并将您的代码基于函数的返回值。

```
Private Sub Form_Open(Cancel As Integer)
    Dim strPrompt As String
    If HaveParentForm(Me) = True Then
        strPrompt = "I am a subform to '" & _
            Me.Parent.Name & "'."
    Else
        strPrompt = "I am a top level form."
    End If
    MsgBox strPrompt
End Sub 
```

功能 ...

```
Public Function HaveParentForm(ByRef frm As Form) As Boolean
    Dim blnReturn As Boolean
    Dim strMsg As String

On Error GoTo ErrorHandler

    blnReturn = (Len(frm.Parent.Name) > 0)

ExitHere:
    HaveParentForm = blnReturn
    On Error GoTo 0
    Exit Function

ErrorHandler:
    Select Case Err.Number
    Case 2452 ' The expression you entered has an invalid '
              ' reference to the Parent property. '
    Case Else
        strMsg = "Error " & Err.Number & " (" & Err.Description _
            & ") in procedure HaveParentForm"
        MsgBox strMsg
    End Select
    blnReturn = False
    GoTo ExitHere
End Function 
```

# jasper-reports - iReport/JasperReports 服务器：子报表返回值 null

> ID：11824270
> 
> 赞同：0
> 
> 时间：2012-08-06T07:41:37.473
> 
> 标签：jasper-reports, ireport, jasperserver, subreport

*我对iReport/JasperReports 服务器*有以下问题。

我正在使用带有两个子报表的主报表，它们返回计算出的价格，子报表变量的类型和局部变量是**BigDecimal**。

如果子报表的返回值为空（未找到行），则主报表中分配的局部变量始终为空。但我想要“0.00”，因为我想计算一个总和。

`(return_variable == null ? new BigDecimal(0) : return_variable)`除了将局部变量设置为默认值之外，该构造也无济于事`new BigDecimal(0)`。我总是得到***null***而不是想要的值***“0.00”***；-(

我已经测试了 3.7.6 到 4.4 版本。*iReport*，没有任何帮助。

有人对我有提示吗？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T16:09:47.463

我遇到了同样的问题，除了我尝试使用子报表的返回值作为另一个子报表的参数。通过在第二个子报告中使用 scriptlet，我成功获得了我想要的结果。

我是这样进行的： -in subreport 2，我有我的参数 p（Float），它的值是 subreport 1 的返回值 -in subreport 2，我有一个变量 v（Float），在我的 scriptlet 中用 p 初始化（在方法 beforeDetailEval() 中，我测试我的变量 v ：如果它为空，我将值赋值为 new Float("0.0")

我工作正常。

这样做的限制是，如果您想直接在主报告中使用子报告的返回值。我尝试这样做，但从未成功。

希望有一天这会对某人有所帮助。

塞西尔卡

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-01T19:18:55.197

雅虎！靠着上帝的恩典，我为自己的问题找到了一个很好的答案。发布它，因为它可能会在将来帮助某人。

```
1) I changed my Simple SQL Query with a MySQL stored procedure as. 
```

我的存储过程为

```
BEGIN
SET @p = 0;
SET @n = 0;
SET @m = '00';
SELECT x.*, y.* FROM 
     (select @n:=@n+1 as "ID", @m:=acc as "Account" from tbl_reports) x
        right JOIN 
     (SELECT if(@m='00',0,@p:=@p+1) as "IDU") y
ON y.IDU = x.ID;
END 
```

在 IReport 中，我将变量声明为

```
$F{IDU}>0?$F{Amount}:0 
```

这样，它现在显示 0.00 而不是 null。

# c - 检查一个数字是否为 2^n

> ID：11824271
> 
> 赞同：0
> 
> 时间：2012-08-06T07:41:41.250
> 
> 标签：c, math, logic, bit-manipulation

> **可能重复：**
> [如何检查一个数字是否是 2 的幂](https://stackoverflow.com/questions/600293/how-to-check-if-a-number-is-a-power-of-2)

这个问题曾在一次采访中被问到。

如何检查数字是否`2^n`格式为 {1, 2, 4, 8, 16, 32, ....}

不使用 `*`, `/`, `+`, `-`,`%`运算符？

而且你也不能使用循环。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-06T07:42:55.723

检查二进制表示中是否恰好设置了一位。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-06T08:01:55.137

使用好旧的`n & (n - 1) == 0`，转换成不使用操作符的方式`-`。

```
int powerOfTwo(int number)
{
    int numberMinusOne = --number;
    ++number;

    if (number == 0)
        return 0;

    return (number & numberMinusOne) == 0;
} 
```

# ruby-on-rails - Net::SMTP ruby 中的信封问题

> ID：11824274
> 
> 赞同：0
> 
> 时间：2012-08-06T07:41:59.363
> 
> 标签：ruby-on-rails, ruby, smtp

我正在使用此代码使用 ruby​​ 和 SMTP 协议发送电子邮件

```
smtp = Net::SMTP.new 'smtp.gmail.com', 587
smtp.enable_starttls
smtp.start('smtp.gmail.com', 'username', 'password', :login)
msgstr = "From: Sender <Sender@gmail.com>
      To: Receiver <receiver@gmail.com>
      Subject: Spammers List

          This is a test message"
smtp.send_message(msgstr, 'sender@gmail.com', 'receiver@gmail.com')
smtp.finish 
```

但是信封是一起来的。收到的邮件中没有收件人和主题。一切都像这样从自己的部分进来。发件人：收件人主题：垃圾邮件发送者列表

谁能告诉我代码中的错误是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:55:22.487

我相信你有2个问题。SMTP 需要 cr-lf 换行符，并且标头不能有前导空格。我不确定这一点，但我认为最后一个消息行可能还需要以换行符结尾。如果您将内容构建为...

```
msgstr = <<SMTP
From: Sender <Sender@gmail.com>\r
To: Receiver <receiver@gmail.com>\r
Subject: Spammers List\r
\r
This is a test message\r
SMTP 
```

# jquery-mobile - 多页中的 changePage 将所有页面设置为空白

> ID：11824281
> 
> 赞同：0
> 
> 时间：2012-08-06T07:42:47.577
> 
> 标签：jquery-mobile

当我使用以下方法更改页面时：

```
$.mobile.changePage('#newPage'); 
```

浏览器的 url 正确更改，但我看到空白页面，我必须刷新页面 ( `F5`) 才能看到它。

我使用 PHP 将所有页面放在一个`HTML`（小应用程序，3 页）中，并尝试过：

```
$.mobile.changePage('#newPage', { allowSamePageTransition:true }); 
```

看起来它开始动画然后由于某种原因停止。

不仅如此：如果我使用浏览`back`器`forward`的按钮，所有页面都显示为空白，除非我刷新。

有什么建议吗？

# javascript - 如果在 jQuery 中选中，则返回多个 CheckBox 值

> ID：11824287
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:14.323
> 
> 标签：javascript, jquery

我的页面中有多个复选框。如果选中，我想检索它的值。

这是HTML代码..

```
<input name="ctl1189" type="checkbox" id="chkTicket_189310" class=" chkTicket" value="189310">

<input name="ctl1190" type="checkbox" id="chkTicket_189311" class=" chkTicket" value="189311"> 
```

等等..

Javascript代码：

```
function updateTicketAction() {
    var allUpdatedVendorTickets = $('.chkTicket').filter(function() { return this.value != $input.is(':unchecked'); });
    var sFinalUpdateList = '';

    allUpdatedVendorTickets.each(function() {
        var ids = $(this).attr('id').split('_')[1];

        sFinalUpdateList += ((sFinalUpdateList == '') ? '' : '|') + ids + ',' + $(this).val();
    });
    alert(sFinalUpdateList);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:50:40.580

```
function updateTicketAction() {
    var sFinalUpdateList = '';
    $("input.chkTicket:checked").each( 
        function() { 
           var ids = $(this).attr('id').split('_');
           var id = ids[1];
           sFinalUpdateList += ((sFinalUpdateList == '') ? '' : '|') + id + ',' + $(this).val();
        } 
    );
    alert(sFinalUpdateList);
} 
```

[http://jquery-howto.blogspot.com/2008/12/how-to-check-if-checkbox-is-checked.html](http://jquery-howto.blogspot.com/2008/12/how-to-check-if-checkbox-is-checked.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:52:26.867

试试这个代码

```
var collect='';
$('input:checked').each(function(i,e){  
    collect+=(collect===''? $(e).attr('name')+'='+$(e).val():','+$(e).attr('name')+'='+$(e).val());
    alert(collect);
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:07:52.050

我刚刚创建了一个[fiddle](http://jsfiddle.net/feklee/xGHkN)。在 JavaScript 控制台中查找生成的对象，然后您可以对其进行进一步处理。

代码：

```
var checkedCheckboxes = $('.chkTicket:checked'),
    results = {};

checkedCheckboxes.each(function () {
    var key = $(this).attr('id').split('_')[1];
    results[key] = $(this).val();
});

function alertResults(results) {
    var text = '', sep = '';
    $.each(results, function (key, value) {
        text += sep + key + '=' + value;
        sep = '|';
    });
    alert(text);
}

alertResults(results);
console.log(results); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T08:10:05.527

这是一个返回所有检查输入的[jsfiddle 片段](http://jsfiddle.net/G72S2/)。但是有一个问题，当您将 id 存储在 value-attribute 中时，为什么要拆分 id-attribute？无论如何，希望这对你有用！

```
function updateTicketAction() {
  var allUpdatedVendorTickets = $('.chkTicket:checked');
  var sFinalUpdateList = '';

  allUpdatedVendorTickets.each(function () {
    sFinalUpdateList += ((sFinalUpdateList == '') ? '' : '|') + $(this).val();
  }); 

  alert(sFinalUpdateList);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T08:10:58.073

或者你可以使用 map()：

```
var el = $('input[type=checkbox]:checked').map(function(i,e){

        var id = $(e).attr('id').replace('chkTicket_', '');
        var val = $(e).val();

        return {
                'id' : id,
                'value' : val
               }

    });

console.log(el[0].id); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-06T08:25:18.227

你的过滤功能是错误的。

```
this.value != $input.is(':unchecked'); 
```

您正在将属性（字符串）与jQuery 方法`.value`的返回值（布尔值）进行比较。[`.is`](http://api.jquery.com/is/)它类似于：

```
'value' != !true  //checked
'value' != !false //unchecked 
```

两者都将始终返回`true`- 除非`value`is`0`或计算结果为假值的空字符串，并且表达式的右侧计算结果为`false`，`!=`不同的运算符将返回`false`。

所以，你`filter`的回调根本不过滤任何东西，除了取出`checked`有值或没有值的盒子`0`（这是无意的）。

您可以通过使用选择器来避免使用`filter`函数[`:checked`](http://api.jquery.com/checked-selector/)：

```
var allUpdatedVendorTickets = $('.chkTicket:checked'); 
```

现在您将拥有一个仅包含 checked 的 jQuery 对象`.chkTicket`，这要好得多。

* * *

接下来，您正在错误地使用字符串。

```
"189310,189310|189311,189311" 
```

这就是你的函数正在生成的。每次需要操作这些结果时，都必须在 处拆分字符串`|`，创建一个新数组。最好将其存储为数组。

```
var sFinalUpdateList = []; 
```

假设您的键和值始终与示例中的相同，您也应该只存储一次。

```
allUpdatedVendorTickets.each(function() {
    sFinalUpdateList.push(this.value);
}); 
```

这将生成一个更干净且可维护的数组，其中仅包含选中框的值：

```
sFinalUpdateList =>
       [0] -> "189310"
       [1] -> "189311" 
```

`chkTicket_`您可以通过附加到这些值来获取它们的 ID 。

## [*jsFiddle*](http://jsfiddle.net/gbbQM/1/)

# tridion - 在 SDL Trdion 2011 Sp1 中的 Dreamweaver TBB 中引用来自 Trdion 服务器的图像文件

> ID：11824288
> 
> 赞同：2
> 
> 时间：2012-08-06T07:43:14.520
> 
> 标签：tridion, tridion-2011

我正在尝试从 Tridion 的 Web 服务器中引用图像。

```
<img src="file://///ServerAddress.com/applications/Images/Styles/temporary.jpeg"  alt="alt text"/> 
```

我已将此代码添加到我的 TBB。

图像未显示。

在我机器的本地 html 页面中添加了相同的代码，我可以检索该图像。

**编辑：** 在 Tridion CME 中预览时图像未显示。

任何人都可以建议如何在 TBB 中配置我的图像源路径以访问图像。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T10:41:55.213

您使用的是`file://`URL，这意味着您指的***是机器上打开 HTML***的本地文件。因此，当您在最初创建（和放置`temporary.jpg`）它的机器上打开 HTML 时，它会在本地找到该文件并显示它。

当您从任何其他机器打开相同的 HTML 时，它将无法在该机器上找到文件，因此不会显示图像。您使用的事实对此`ServerAddress.com`没有任何影响：文件 URL 只会解析为本地计算机上的文件。

如果您想确保您的图像也适用于 Internet 的其余部分，请使用更常见的协议，例如`http://`.

# ios - PLCrashReporter - 符号问题

> ID：11824289
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:15.853
> 
> 标签：ios, plcrashreporter

我是 PLCrashReporter 的新手。我有一个关于崩溃数据符号的问题。我使用 PLCrashReporter API 读取崩溃数据并将其发送到服务器。在那之后，我使用符号化崩溃脚本来符号化崩溃报告。

问题是; 我的工作区中有大约 10 个项目。当我生成我的应用程序 shell.app 时，构建过程也会生成 shell.app.dSYM 文件。因此，我使用这个 .dSYM 文件在符号化脚本中进行符号化。但是，它只表示属于 shell 项目的十六进制代码。请参见下面的示例。

```
Thread 3 name:  Exception Backtrace
Thread 3:
0   CoreFoundation                      0x021c0022 0x20c2000 + 1040418
1   libobjc.A.dylib                     0x00b11cd6 0xb0c000 + 23766
2   CoreFoundation                      0x02168a48 0x20c2000 + 682568
3   CoreFoundation                      0x021689b9 0x20c2000 + 682425
4   shell                               0x0004bd78 -[DocumentHubApplicationBarContentView applicationBarButtonTapped:] (DocumentHubApplicationBarContentView.mm:85)
5   shell                               0x00010657 -[ApplicationBarButton buttonTapped] (ApplicationBarButton.mm:48)
6   CoreFoundation                      0x021c1e99 0x20c2000 + 1048217
7   UIKit                               0x0109214e 0x1084000 + 57678
8   UIKit                               0x010920e6 0x1084000 + 57574
9   UIKit                               0x01138ade 0x1084000 + 740062
10  UIKit                               0x01138fa7 0x1084000 + 741287
11  UIKit                               0x01138266 0x1084000 + 737894
12  UIKit                               0x010b73c0 0x1084000 + 209856
13  UIKit                               0x010b75e6 0x1084000 + 210406
14  UIKit                               0x0109ddc4 0x1084000 + 105924
15  UIKit                               0x01091634 0x1084000 + 54836
16  GraphicsServices                    0x026b2ef5 0x26ab000 + 32501
17  CoreFoundation                      0x02194195 0x20c2000 + 860565
18  CoreFoundation                      0x020f8ff2 0x20c2000 + 225266
19  CoreFoundation                      0x020f78da 0x20c2000 + 219354
20  CoreFoundation                      0x020f6d84 0x20c2000 + 216452
21  CoreFoundation                      0x020f6c9b 0x20c2000 + 216219
22  GraphicsServices                    0x026b17d8 0x26ab000 + 26584
23  GraphicsServices                    0x026b188a 0x26ab000 + 26762
24  UIKit                               0x0108f626 0x1084000 + 46630
25  shell                               0x0000347d main (main.mm:42)
26  shell                               0x00002425 start + 53
27  ???                                 0x00000001 0x0 + 0 
```

另外，我检查了同样由 iOS 生成的崩溃报告，它是完全符号化的。此外，该崩溃报告包含 PLCrashReporter 提供的更多信息。有人可以启发我吗？我错过了什么吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T16:20:36.843

要对 iOS 系统框架调用进行符号化，您需要在系统上存在相应 iOS 版本的符号，并且可用于符号化脚本。

关于您的问题`that crash report has more information that PLCrashReporter provides`：如果没有进一步说明您到底指的是什么，则无法回答。

# php - MySQL DB 通过 php 优化

> ID：11824290
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:16.190
> 
> 标签：php, mysql, database-optimization

我缺少的另一点（作为初学者）我在两个数据库之间有一个备份脚本，作为最后一步，我应该优化真实数据库以减少开销的大小。我有一个代码在我只使用一个数据库时有效，但我需要使用两个：

```
$actconn = mysql_connect($dbhost, $actdbuser, $actdbpass) or die ('act Error connecting to mysql');
$bckconn = mysql_connect($dbhost, $bckdbuser, $bckdbpass) or die (' back Error connecting to mysql');

$ressql="SHOW TABLE STATUS FROM $actdbname WHERE Data_free / Data_length > 0.1 AND Data_free >  102400"; 
```

****- 这应该说明 bckuser 被忽略了，我相信......****

 **```
 $res = mysql_query( $ressql, $actconn);

 echo mysql_error(); 
while($optrow = mysql_fetch_assoc($res)) {
  mysql_query('OPTIMIZE TABLE ' . $optrow['Name'], $actconn);
} 
```

actconn 值：资源 ID #1

bckconn 值：资源 ID #2

mysql_error 说：

> SELECT 命令拒绝用户 'bckuser'@'localhost' 用于表 '实际表'

知道我做错了什么吗？

更新： bckuser 不应该对它做任何事情，因为 actdbuser 是该数据库的根目录，但由于某种原因 SHOW TABLE 无法识别 $actconn ...

UPDATE2：我再次尝试了 opt ，唯一改变的是 $actdbname='db-name'; `db-name`使用规范撇号和 $actdbname=' ' 工作时；

请注意这是在共享主机上，所以我无法更改数据库名称。

感谢@Corbin 有趣的想法，我试过但没有用，但我该如何调试呢？由于某种原因，我什至无法正确调试它...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:51:00.483

您需要对用户 'bckuser'@'localhost' 具有适当的授予权限才能执行`SHOW TABLE STATUS`查询。

不幸的是，在 MySQL 5.5 中，这个操作没有单独的授权选项。或者，您可以授予`ALL`该用户或使用`root`用户登录来执行此操作。见[赠款手册](http://dev.mysql.com/doc/refman/5.5/en/grant.html)**

# log4net - Log4Net 在数据库备份后停止记录

> ID：11824294
> 
> 赞同：1
> 
> 时间：2012-08-06T07:43:24.463
> 
> 标签：log4net

在某些晚上，我们的站点在数据库备份发生时停止记录 - 在上周，我们有 5 天没有问题，有 2 天我们不得不回收 IIS 应用程序池以重新开始记录。我们正在调试级别记录。停止之前的最后一项是 DEBUG 级别的日志。

我们的理论是，它仅在数据库备份时发生请求时才会中断。

关于潜在原因或可靠解决方案的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T09:28:17.180

如果出现连接问题，Log4net 会停止记录到数据库。您可以在 appender 上设置[ReConnectOnError](http://logging.apache.org/log4net/release/sdk/log4net.Appender.AdoNetAppender.ReconnectOnError.html)标志（确保使用非常短的连接超时，否则您的应用程序可能会挂起）。

# python - 减去字段中的两个值

> ID：11824295
> 
> 赞同：-2
> 
> 时间：2012-08-06T07:43:24.853
> 
> 标签：python, function, for-loop

我正在使用python。

有两列。A 列和 B 列。我想在按下保存按钮时减少 A 列和 B 列中的值

这是我的代码

但是当我按下保存按钮时会发生什么。值为 0

```
def _tot_get_deposit(self, cr, uid, ids, name, arg, context=None):
    res = {}
    for deposit in self.browse(cr, uid, ids, context=context):
        sum = 0.0
        sum = A - B
        return sum
    return res 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:52:40.310

我认为您需要阅读有关功能如何工作的更多信息。

一旦你做`return`了任何事情，该功能就会结束。

您不能迭代任何内容并在函数中返回多个值。

尝试将它们本地保存在函数中，然后最后返回一个包含所有结果的列表/字典/元组。

例如......我认为你的代码可以写成：

```
def _tot_get_deposit(self, cr, uid, ids, name, arg, context=None):
    res = {}
    results = []
    for deposit in self.browse(cr, uid, ids, context=context):
        sum = 0.0
        sum = A - B
        results.append( sum )
    return (res,results) 
```

这将创建一个“sum”列表，然后将其添加到您的字典“res”中，然后返回。一起作为一个元组。

# javascript - Raphael JS 选择路径/对象/节点的特定实例

> ID：11824296
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:26.210
> 
> 标签：javascript, variables, raphael, selection

这里的例子：http: [//jsfiddle.net/dhREK/32/](http://jsfiddle.net/dhREK/32/)

使用 Raphael JS，我正在使用 for 循环创建一系列三角形。创建三角形后，我希望能够通过按索引选择 raphael 对象来为其中任何一个设置动画，例如：

```
tri[1] 
```

或者

```
tri.1 
```

但我不确定正确的语法。在任何情况下，使用

```
tri.animate({fill: '#ff0000'}, 400) 
```

仅动画最后一个三角形。

如何具体选择其他节点？

谢谢！

```
var paper = new Raphael(0, 0, 500, 500);

for(var i = 0; i < 6; i++) {
    var coords = 'M 43 0 L 74 63 L 13 63 Z';

    if(i % 2) {
        coords = 'M 43 63 L 74 0 L 13 0 Z';                      
    }

    var tri = paper.path(coords).attr({
       'fill' : '#000',
        'stroke-width' : '0'
    });

    tri.transform('T'+i * 34+',0');
}

tri.animate({fill: '#ff0000'}, 400) 
```

PS：我能够将我论文的所有子项都作为 jquery 对象（如 jsfiddle 链接中所示），但是`animate()`在 jquery 对象上使用不允许我为 raphael 属性设置动画......对此的任何评论都是非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:06:16.357

更适合这种情况的是类似数组[`Paper.set`](http://raphaeljs.com/reference.html#Paper.set)

你可以这样定义

```
var triangles = Paper.set();

for(var i = 0; i < 6; i++) {
  // ....
  var tri = paper.path(coords) //

  triangles.push(tri);
}

triangles.animate(
  // ...
); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:01:12.943

变成`tri`一个数组。

```
var paper = new Raphael(0, 0, 500, 500),
    tri = [];

for(var i = 0; i < 6; i++) {
    var coords = 'M 43 0 L 74 63 L 13 63 Z';

    if(i % 2) {
        coords = 'M 43 63 L 74 0 L 13 0 Z';                      
    }

    tri[i] = paper.path(coords).attr({
       'fill' : '#000',
        'stroke-width' : '0'
    });

    tri[i].transform('T'+i * 34+',0');
}

tri[1].animate({fill: '#ff0000'}, 400); 
```

# android - 如果 webview 上方存在 edittext，则焦点不会转移到 webview 中的文本框

> ID：11824298
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:38.047
> 
> 标签：android, android-layout

我有一个特殊的行为

在模拟器中的 android 2.2 中焦点不会从`edittext`to `textbox`of改变。`webview`如果我删除`edittext`布局，那么一切都会完美运行。每个文本框都可以单击并输入值。

如果有，`edittext`则焦点不会转移到，`textbox`但光标会同时出现在`webview` `textbox`和处`edittext`。

我附上了关于两个光标如何出现以及仅在键入`edittext`时填充的图像。

我也在使用 Action Bar Sherlock。

任何帮助，将不胜感激。

添加了布局

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="match_parent"
android:background="@drawable/white"
android:tileMode="repeat" >

<RelativeLayout
android:layout_width="fill_parent"
android:layout_height="fill_parent">
<LinearLayout 
android:layout_height="wrap_content" 
android:orientation="horizontal"
android:layout_width="fill_parent"
android:layout_marginTop="30dip">
    <EditText android:text="" 
        android:id="@+id/searchEditText"
        android:layout_height="wrap_content" 
        android:layout_weight="1"
        android:layout_width="fill_parent">
    </EditText>
    <Button android:text="Search" 
        android:id="@+id/searchCatalogButton"
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content">
    </Button>

  </LinearLayout>

<WebView
            android:id="@+id/browserwebview"
            android:fillViewport="true"
            android:layout_marginTop="75dip"
            android:layout_marginBottom="30dip"
            android:layout_height="fill_parent"
            android:layout_width="fill_parent"
            android:focusable="true"/>
    <LinearLayout
        android:id="@+id/header"
        android:layout_alignParentTop="true"
        android:layout_width="fill_parent" 
        android:layout_height="30dip"
        android:background="@drawable/black"
        android:tileMode="repeat">
        <ImageButton 
            android:id="@+id/buttonBackCatalog"
            android:src="@drawable/greenarrow"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/black"
            android:tileMode="repeat"/>
      <ImageView 
          android:src="@drawable/logo"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content"
          android:visibility="gone"/>
         </LinearLayout>

                <LinearLayout
        android:layout_alignParentBottom="true"
        android:layout_width="fill_parent" 
        android:layout_height="30dip"
        android:layout_weight="1"
        android:weightSum="5" 
        android:orientation="horizontal"
        android:background="@drawable/black"
        android:tileMode="repeat">

    <LinearLayout 
        android:id="@+id/footerLayoutHome"
        android:clickable="true"
        android:layout_width="fill_parent"
        android:layout_weight="1" 
        android:orientation="vertical"
        android:gravity="center" 
        android:layout_height="fill_parent">

        <ImageButton 
            android:id="@+id/footerMainBtnHome"
            android:layout_width="fill_parent" 
            android:layout_height="14dip"
            android:src="@drawable/home" 
            android:background="@drawable/black"/>
        <TextView 
            android:text="Home" 
            android:textSize="8dip"
            android:textColor="#ffffff"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />
    </LinearLayout>
     <LinearLayout 
         android:id="@+id/footerLayoutProducts"
         android:clickable="true"
        android:layout_width="fill_parent"
        android:layout_weight="1" 
        android:orientation="vertical"
        android:gravity="center" 
        android:layout_height="fill_parent">

        <ImageButton 
            android:id="@+id/footerMainBtnProducts"
            android:layout_width="fill_parent" 
            android:layout_height="14dip"
            android:src="@drawable/products" 
            android:background="@drawable/black"/> 
            <TextView 
            android:text="Products" 
            android:textSize="8dip"
            android:textColor="#ffffff"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />
    </LinearLayout>
     <LinearLayout 
         android:id="@+id/footerLayoutCart"
         android:clickable="true"
        android:layout_width="fill_parent"
        android:layout_weight="1" 
        android:orientation="vertical"
        android:gravity="center" 
        android:layout_height="fill_parent">

        <ImageButton 
            android:id="@+id/footerMainBtnCart"
            android:layout_width="fill_parent" 
            android:layout_height="14dip"
            android:src="@drawable/cart" 
            android:background="@drawable/black"/>
        <TextView 
            android:text="Cart" 
            android:textSize="8dip"
            android:textColor="#ffffff"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />

    </LinearLayout>
     <LinearLayout 
         android:id="@+id/footerLayoutFeedback"
         android:clickable="true"
        android:layout_width="fill_parent"
        android:layout_weight="1" 
        android:orientation="vertical"
        android:gravity="center" 
        android:layout_height="fill_parent">

        <ImageButton 
            android:id="@+id/footerMainBtnFeedback"
            android:layout_width="fill_parent" 
            android:layout_height="14dip"
            android:src="@drawable/feedback" 
            android:background="@drawable/black"/>
        <TextView 
            android:text="Feedback" 
            android:textSize="8dip"
            android:textColor="#ffffff"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />

    </LinearLayout>
     <LinearLayout 
         android:id="@+id/footerLayoutHelp"
         android:clickable="true"
        android:layout_width="fill_parent"
        android:layout_weight="1" 
        android:orientation="vertical"
        android:gravity="center" 
        android:layout_height="fill_parent">

        <ImageButton 
            android:id="@+id/footerMainBtnHelp"
            android:layout_width="fill_parent" 
            android:layout_height="14dip" 
            android:src="@drawable/help" 
            android:background="@drawable/black"/>
        <TextView 
            android:text="Help" 
            android:textSize="8dip"
            android:textColor="#ffffff"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />

    </LinearLayout>

         </LinearLayout>
</RelativeLayout>
</LinearLayout> 
```

谢谢。

![附图片](../Images/86e992a7f5931d5af1c56b1ad66a9f7b.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:59:38.823

尝试添加

在您的编辑文本上方，这确保 edittext doeant 获得默认焦点。只有当你点击它时，Edittest 才会获得焦点。

如果它不起作用，请提供您的布局

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:48:22.453

尝试添加

```
android:focusable="true" 
```

到你`WebView`的布局。

# javascript - iframe详情操作？

> ID：11824300
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:43.247
> 
> 标签：javascript, iframe

我需要知道 iframe 何时生成他的内容，因为我需要通过 javascript 访问他的身体，但有时，我不知道为什么，身体对象不存在......我经常玩 iframe，我将它插入一个对象，然后我恢复它以将其插入另一个对象，当我这样做时，主体对象消失了，我不知道为什么：/我认为 iframe 对象使用起来有点复杂......

这是我的代码的一部分：

```
field("fuse")._elt.onclick = function(oEvent){
            var src=oEvent.srcElement.offsetParent.offsetParent.parentElement;
            var ed1=field(src.previousSibling.id);
            var ed2=field(src.nextSibling.id);
            debugger;
            if(ed1.getClassName() == "HTMLEditorField" && ed2.getClassName() == "HTMLEditorField"){
                var p=ed1.getParentField();
                var pp=p.getParentField();
                var ind=p._index;

                /* On retire le composant qui contient les 2 éditeurs */
 /*Here when i remove p, which contains iframes, my iframe ed1 lost his contentWindow */
                pp.removeChild(p);
                p.removeChild(ed1);

                /* On redéfinie les hauteurs et largeur de l'éditeur après l'avoir inséré à la place des 2 autres éditeurs */
                pp.insertChild(ed1,ind);
 /*And here when i insert it in an other object, ed1 recover his contentWindow and document but the body object of his document isn't created ... */
                ed1.setWidth(p.getUserAttribute("width"));
                ed1.setHeight(p.getUserAttribute("height"));

                currentEditor=ed1;

                /* Suppression de la barre d'espacement dans la liste des barres */
                lSpacerField.remove(field(src.id));
            }
        } 
```

我希望你能帮助我，在此先感谢。

（对不起我的英语水平我是法语）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T09:54:29.060

我已经解决了我的问题，它似乎是“designMode”javascript 属性导致身体不稳定，所以我使用“contentEditable”body 属性而不是“designMode”来使我的 iframe 可编辑并且一切正常！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:48:08.897

iframe 使用起来很痛苦，您几乎无法控制它们，您是否有任何可能想要使用的替代方案。谈到你的问题，我认为你可以使用类似下面的东西，只是伪代码：

```
function getContentFromIframe(iFrameName)
{

    var myIFrame = document.getElementById(iFrameName);
    var content = myIFrame.contentWindow.document.body.innerHTML;

    //Do whatever you need with the content    

} 
```

# css - CSS：为“位置：相对”、“位置：固定”等使用一个类——这是个好主意吗？

> ID：11824302
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:51.173
> 
> 标签：css, class, position

在某个地方，我决定为职位开设课程是一件好事。所以我创建了以下内容：

```
.prel {position: relative}
.pfix {position: fixed}
.pabs {position: absolute} 
```

这些类适用于数以千计的浮动小元素，但它们开始困扰我。

例如，我的相对位置类适用的元素都属于大约七个其他类。所以我可以这样做（其中 class1-class7 是所有用于其他目的的现有类）：

```
.class1,.class2...class7 {position: relative} 
```

提出这个问题的原因是：我有一种偷偷摸摸的感觉，这将是我做出的那些改变之一，我需要稍后撤销。所以我正在寻找关于哪种方法是最好的前进方向的建议。它有什么不同吗？为什么大网站似乎使用这些职位类别？

如果这很重要，我会做很多基于 jQuery 类的搜索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:47:04.143

原则上，这是一个坏主意。这与将内联样式应用于所有元素并没有什么不同。最佳实践是风格和内容的良好分离。

正如您已经提到的，稍后您很可能需要更改这些类的负载。维持这将是一场噩梦。

# c# - DevExpress：获取当前选定行的实体 ID

> ID：11824303
> 
> 赞同：0
> 
> 时间：2012-08-06T07:43:51.607
> 
> 标签：c#, asp.net, devexpress

我有一个 ASPxGridView 并且在 EditForm 中，当用户单击一个按钮时，我有一个弹出表单。我需要获取当前选定实体/行的 ID，以便我可以查询数据库并根据该 ID 在弹出窗口中填充下拉列表。我怎么能得到那个？我知道一些事件，你可以这样做：

```
protected void myGrid_OnRowUpdating(object sender, ASPxDataUpdatingEventArgs e)
        {
            Guid entityId = (Guid)e.Keys[0]; 
```

所以我想用`SelectionChanged`事件来尝试，但事件参数只有 type `EventArgs`，所以我不能使用上面的..

想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T01:12:40.473

您可以使用该`HtmlRowCreated`事件来绑定下拉列表的内容，如下所示。

```
protected void myGrid_HtmlRowCreated(object sender, ASPxGridViewTableRowEventArgs e)
{
    if (e.RowType != GridViewRowType.EditForm)
        return;

    var grid = sender as ASPxGridView;
    if (grid == null) 
        return;

    var row = (sender as ASPxGridView).GetRow(e.VisibleIndex) as MyEntity;
    var ddlMyDropDown = grid.FindEditFormTemplateControl("ddlMyDropDown") as ASPxComboBox;

    ddlMyDropDown.DataSource = GetDataForMyDropdown(); // Your Business Logic
    ddlMyDropDown.DataBind();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-20T23:50:34.913

我最终做了一些客户端的事情。首先，我添加了这一列：

```
<dx:GridViewCommandColumn ShowSelectCheckbox="True" VisibleIndex="0" Width="40">
                <HeaderTemplate>
                    <dx:ASPxCheckBox ID="SelectAllCheckBox" runat="server" ToolTip="Select/Unselect all rows on the page"
                        ClientSideEvents-CheckedChanged="function(s, e) { gridView.SelectAllRowsOnPage(s.GetChecked()); }" />
                </HeaderTemplate>
            </dx:GridViewCommandColumn> 
```

然后我也添加了这个（到同一个网格）：

```
<ClientSideEvents SelectionChanged="grid_SelectionChanged" /> 
```

最后，javascript：

```
var selected = [];

        function grid_SelectionChanged(s) {
            s.GetSelectedFieldValues("ID", GetSelectedFieldValuesCallback);
        }

        function GetSelectedFieldValuesCallback(values) {
            selected = [];
            for (var i = 0; i < values.length; i++) {
                selected.push(values[i]);
            }
        } 
```

# iphone - 应用更新时不移除应用内购买的内容

> ID：11824310
> 
> 赞同：-1
> 
> 时间：2012-08-06T07:44:34.807
> 
> 标签：iphone, ios, ipad, in-app-purchase

在我的应用程序中，用户可以从我的服务器加载内容。然后这个内容存储在

**编辑：** ~~应用程序包~~，NSLibraryDirectory

所以当我发布新版本和用户更新应用程序时，所有内容都丢失了，用户应该重新加载它。如何存储内容以免更新时丢失？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T07:48:39.220

~~我什至不知道如何写入应用程序包。~~（编辑后过时。）您应该将内容存储在应用程序文档目录中。它应该留在那里并通过更新持续存在。

# c# - 如何使一个枚举字段依赖于 Orchard CMS 中的另一个枚举字段？

> ID：11824312
> 
> 赞同：1
> 
> 时间：2012-08-06T07:44:46.083
> 
> 标签：c#, asp.net-mvc, orchardcms

考虑我们在 Orchard CMS 中有两个类型为枚举字段的字段，如下所示： 第一个列表包含状态值：

> *   阿拉巴马州
> *   阿拉斯加州
> *   亚利桑那
> *   ...

第二个包含所选州的城市。例如，假设我们已经选择了`Arizona`状态，所以我们应该在第二个下拉列表中看到以下项目：

> *   阿帕奇交界处
> *   埃文代尔
> *   本森

等等 ...

是否可以通过枚举字段来实现这一点，或者如果没有，是否有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T14:00:46.820

您应该为此使用分类法，因为它允许术语层次结构。

# continuous-integration - 如何在 luntbuild 的构建器中使用计划变量？

> ID：11824313
> 
> 赞同：0
> 
> 时间：2012-08-06T07:44:49.673
> 
> 标签：continuous-integration, build-automation, luntbuild

我们使用 Luntbuild 1.6.2 作为构建自动化工具。

使用的构建器`ant`是针对不同的任务定义的`parameters`。

计划是在一个或多个构建器上定义的。由于构建器被重复使用，因此在调度本身中定义可在构建器中使用的变量肯定更好。

谁能指导我如何定义可以`variable`在`schedule`级别访问的`builder`级别。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:58:22.160

最终我能够做到这一点......

在创建`schedule`变量时可以在变量部分定义。

```
myVariable=myValue 
```

并且在访问调度变量所需`builder`的`OGNL`表达式中是

```
${build.schedule.var["myVariable"]} 
```

# windows-7 - Windows 7 任务计划程序不使用更新的路径

> ID：11824319
> 
> 赞同：4
> 
> 时间：2012-08-06T07:45:00.577
> 
> 标签：windows-7, scheduled-tasks

我刚刚注意到 Windows 7 任务计划程序不使用最新更新的环境路径变量。任务调度程序已启动并正在运行，我更改了路径变量。在任务调度程序中运行的新进程具有旧路径。我不得不杀死 taskeng.exe 以便它可以开始使用最新的路径。所以看起来任务调度程序将新进程作为子进程而不是新的父进程生成。在不终止任务调度程序进程的情况下，是否有任何解决方法？

问候， AJ

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T14:17:31.913

用于`cmd /c`启动程序，这将允许访问环境变量。例如：

`cmd /c start %my_exe_path%\myexe.exe`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-19T13:35:22.707

更改在调度程序中运行作业的帐户对我有用（在 win server 2008 r2 上）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-21T06:52:42.170

要在任务调度程序中使用正确的路径，请使用以下注册表：

```
:::: print System PATH
for /f "usebackq tokens=2,*" %%A in (`reg query "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" /v PATH`) do echo "%%B"

:::: print User PATH
for /f "usebackq tokens=2,*" %%A in (`reg query HKCU\Environment /v PATH`) do echo "%%B" 
```

如果您从交互式 CMD 而不是脚本运行它，则将`%%A`and更改`%%B`为`%A`and`%B`

# javascript - 在页面加载和按钮单击时调用函数，但参数不同

> ID：11824320
> 
> 赞同：0
> 
> 时间：2012-08-06T07:45:11.937
> 
> 标签：javascript, jquery

我有一个 Ajax 函数，它可以带来 Web 方法的数据并将其显示在页面上。我想在页面加载时显示带有 4 个项目的第一页。单击按钮时，应显示接下来的四个项目，以此类推，以进行下一次单击。这在页面加载时执行，但是当我单击按钮时没有任何反应。

```
 $(document).ready(function () {
        var s;
        var countnumber = 0;
        function dos(s, countnumber) {

            participant = s.split("!");
            var i
            for (i = countnumber; i < countnumber + 4; i++) {
                part = participant[i].split("ٌ");

                rk = part[5];

                if (rk == 1) {
                    $("#ts" + i).attr('src', 'con1.png'); 
                } else if (rk == 2) {
                    $("#ts" + i).attr('src', 'con2.png');
                } else if (rk == 3) {
                    $("#ts" + i).attr('src', 'con3.png');
                } else if (rk > 3 && rk < 20) {
                    $("#ts" + i).attr('src', 'briliant.ico');
                } else if (arrlist[5] > 20 && arrlist[5] < 50) {
                    $("#ts").attr('src', 'cup.png');
                } else {
                    $("#ts" + i).attr('src', 'box.png');
                }
                    { $("#st" + i) }
                    $("#use" + i).html(part[1]);
                    $("#rnk" + i).html(part[5]);
                    $("#avg" + i).html(part[2]);
                    $("#pnt" + i).html(part[4]);
                    $("#wit" + i).html(part[3]);
                    $("#kl" + i).html(part[0]);
                    $("#use" + i).html(username);
                }

        }
        $('#kil').bind('click', function () {
            countnumber = countnumber + 4;
            dos(s , countnumber);
        })

        var arrlist;
        var participant, part;
        var username, klll, wt, pt, av, rk;

        $.ajax({
            type: "POST",
            url: "rank.aspx/bringdata",
            data: "",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: true,
            cache: false,
            success: function (ret) {
                s = ret.d;
                dos(s, 0);
            },
            error: function (x, e) {
                alert("error");
            }
        });
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T18:34:51.667

据我[了解](https://stackoverflow.com/questions/11824320/call-function-on-page-load-and-again-on-button-click-but-with-different-paramet/11833897#comment15719358_11824320)，您正在尝试`dos()`通过`onclick=""`事件执行该功能。

它不起作用的原因很简单：`dos()`从全局范围来看是不存在的。

您必须做的是以下两项之一：

1.  将`dos()`函数移动到全局可访问的范围内。
2.  通过 jQuery将`dos()`函数附加到事件。`click`

就个人而言，我更喜欢第二种选择，因为它可以避免污染全局命名空间。

## 从局部变量

**示例：**局部变量

```
function f() {
    var x = 1;
}

process_x(x); # this will trigger a "ReferenceError: x is not defined" 
```

我相信您知道，不可能从外部访问函数的本地变量。

## 到本地功能 -

在函数内部定义函数时，实际上是在创建一个恰好是函数的局部变量。

**示例：函数声明**，这是您拥有的形式：

```
$(document).ready(function() { # enclosing_function
    function dos() {

    }
}); 
```

如前所述，这将`dos()`导致`enclosing_function`.

## ...本质上是一样的

你可以这样想，以更好地说明相似性：

**示例：**函数表达式

```
$(document).ready(function() { # enclosing_function
    var dos = function () {

    };
}); 
```

## 提升结肠——功能高

在示例中，这两个版本是等效的。然而，一个函数*声明*——即没有赋值的东西（那些所谓的“函数*表达式*”）——被“提升”在代码的顶部，它们在其中被定义。

这意味着，定义被移动（或“提升”）到定义它的范围的最顶部（或开始）。在定义该函数之前，不可能执行代码（在该范围内）。因此，您无法收到`ReferenceError`for 函数声明。（除非你在错误的范围内，也就是说。）

另一方面，函数*表达式*的求值方式与所有其他语句的求值方式相同：只要程序流遇到它们。

**示例：吊装**

```
$(document).ready(function() { # enclosing_function
    # <- This is where "hoisted" is being defined <--
    non_hoisted(); # ReferenceError                 |
    hoisted();     # Works fine                     |
    var non_hoisted = function () { # This is where "non_hoisted" is defined
                                                    |
    };                                              ^
                                                hoisting
    non_hoisted(); # Works fine                     ^
                                                    |
    function hoisted() { ------>-------->------->----

    }
}); 
```

## 还有一件事

```
var s;
function dos(s, countnumber) {
    ...
} 
```

形参`s`将`s`作为函数内部的局部变量引入`dos()`。它将隐藏`s`其父范围的变量。

为什么要`s`作为参数传递给`dos()`函数？当 Ajax 请求成功返回时，您已经将它分配给`var s`内部的局部变量。`enclosing_function()`

# hql - 弹簧数据查询

> ID：11824321
> 
> 赞同：0
> 
> 时间：2012-08-06T07:45:14.027
> 
> 标签：hql, paging, spring-data, spring-data-jpa

```
public interface AreaRepository extends JpaRepository<Area, Integer>, JpaSpecificationExecutor<Area>{

    @Query("from Area where sup is null")
    List<Area> findProvinces();

    @Query("from Area where sup is null")
    Page<Area> findProvinces(Pageable pg);
} 
```

这是我的代码。第一种方法效果很好，但第二种方法不行。谁能告诉我如何使它正确？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T01:27:05.547

here doesn't work mean the second query throws an error and can't find out all the data specified by my sql

> @Query("from Area where sup is null") .

Actually what i want to archieve is a qbe pattern using jpa,and i finally got a solution implementing org.springframework.data.jpa.domain.Specification interface.

```
public class QbeSpec<T> implements Specification<T> {

private final T example;

public QbeSpec(T example) {
    this.example = example;
}

@Override
public Predicate toPredicate(Root<T> root, CriteriaQuery<?> query, CriteriaBuilder cb) {
    if (example == null) {
        return cb.isTrue(cb.literal(true));
    }

    BeanInfo info = null;
    try {
        info = Introspector.getBeanInfo(example.getClass());
    } catch (IntrospectionException e) {
        throw new RuntimeException(e);
    }

    List<Predicate> predicates = new ArrayList<Predicate>();
    for (PropertyDescriptor pd : info.getPropertyDescriptors()) {
        String name = pd.getName();
        Object value = null;

        if (name.equals("class"))
            continue;

        try {
            value = pd.getReadMethod().invoke(example);
        } catch (Exception e) {
            throw new RuntimeException(e);
        }

        if (value != null) {
            Path<String> path = root.get(name);
            // string using like others using equal
            if (pd.getPropertyType().equals(String.class)) {
                predicates.add(cb.like(path, "%" + value.toString() + "%"));
            } else {
                predicates.add(cb.equal(path, value));
            }
        }
    }

    return cb.and(predicates.toArray(new Predicate[predicates.size()]));
} 
```

}

# php - FreeTDS 奇怪的日期时间格式

> ID：11824323
> 
> 赞同：5
> 
> 时间：2012-08-06T07:45:26.927
> 
> 标签：php, freetds

将应用程序移动到具有更新软件的新服务器后（从 php 5.2.17 -> 5.3.15、FreeTDS 0.64 -> 0.82 移动）

```
SELECT GETDATE() 
```

和任何其他日期时间函数/列产生类似于：

```
2012-06-219 51:527:
// proper time: 2012-08-06 09:33:02 
```

我知道我可以`convert`在 select 中使用，但是 DB 中有很多我无法更改的存储过程。

我试图更改`/etc/locales.conf`和设置`date format = %Y-%m-%d %H:%M:%S`，但使用`ini_set('mssql.datetimeconvert',1);`但 freetds 似乎忽略它并返回`Aug 06 2012 09:33AM`

有没有办法以标准格式检索日期时间列，而无需修改每个查询？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T20:18:52.353

我以一种蛮力的方式解决了这个问题 -`date format`在所有语言环境中都进行了更改`/etc/locales.conf`，我不知道哪个有效，但我很确定它们都没有被用作系统语言环境。

无论如何，`datetimeconvert`不​​建议使用，并且在某些 db 抽象层库（在这种情况下为 adodb）中关闭，所以如果有任何方法可以让它显示正确的日期时间，我仍然很感兴趣

# search - 快速搜索 FAT32/NTFS 文件系统

> ID：11824325
> 
> 赞同：0
> 
> 时间：2012-08-06T07:45:57.707
> 
> 标签：search, filesystems, ntfs, fat32

我正在编写一个程序，它通过文件名和文件内容（纯文本）搜索整个文件系统。是否有任何算法或开源项目可以使搜索非常快？我正在使用`FAT/NTFS`文件系统的 Windows 上执行此操作，并且我不想要索引。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:26:59.697

如果您仅按文件名/文件属性/文件日期搜索，获得最佳性能的“魔术”方法是手动“解析”文件分配表（如果文件系统是 FAT）和主文件表（如果文件系统是 NTFS）。

对于 FAT 文件系统来说并不太难，因为它非常简单且有据可查，但对于 NTFS 来说就更难了，因为文件系统要复杂得多，而且文档也不是那么好。

如果您还想搜索文件内容，那么除了枚举所有文件并通过其内容读取之外，别无他法。您将始终受到磁盘读取速度的限制，如果不索引文件内容就无法优化它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T21:05:49.650

在 SourceForce 上下载了一个 NTFS 搜索器（名为 NTFS-Search），它做得非常好！它首先读取“FAT”一次，然后速度非常快。只有界面是德语的。

您可以使用 SVN 下载源代码：

```
svn co https://ntfs-search.svn.sourceforge.net/svnroot/ntfs-search 
```

# c# - Imagehandler 不显示来自远程请求的图像

> ID：11824327
> 
> 赞同：0
> 
> 时间：2012-08-06T07:46:12.627
> 
> 标签：c#, asp.net, handler

嗨，我编写了这个图像处理程序代码，它在我的本地工作正常并在页面中显示图像，现在我已将其上传到主机上，当我从远程请求页面时，图像不会显示在图像控件中！有什么帮助吗？！

```
 <%@ WebHandler Language="C#" Class="Handler" %>

using System;
using System.Configuration;
using System.Data.SqlClient;
using System.Web;

public class Handler : IHttpHandler, System.Web.SessionState.IRequiresSessionState
{

    SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["IranQRDBConnectionString"].ConnectionString);
    public void ProcessRequest(HttpContext context)
    {
        try
        {
            string TableName = context.Session["TableToQuery"].ToString();
            string ID = context.Session["ID"].ToString();

            SqlCommand comm = new SqlCommand("SELECT * FROM " + TableName + " WHERE ID=" + ID, conn);

            conn.Open();
            SqlDataReader dr = comm.ExecuteReader();
            dr.Read();
            context.Response.ContentType = "image/jpeg";
            context.Response.BinaryWrite((byte[])dr["Image"]);
            conn.Close();

        }
        catch
        {
            SqlCommand comm = new SqlCommand("SELECT * FROM DefaultImage WHERE ID=1", conn);

            conn.Open();
            SqlDataReader dr = comm.ExecuteReader();
            dr.Read();
            context.Response.ContentType = "image/jpeg";
            context.Response.BinaryWrite((byte[])dr["Image"]);
            conn.Close();
        }
    }

    public bool IsReusable
    {
        get
        {
            return false;
        }
    }

} 
```

我的连接字符串：

```
 <add name="ConnectionString" connectionString="Data Source=myDatasource;Initial Catalog=DB;User Id=myusername;Password=mypassword"
   providerName="System.Data.SqlClient" /> 
```

这是我显示图像的数据列表：

' /> '>

我检查了我的数据库，数据插入正确，文本数据回发到我的页面，但只有图像没有显示

这是我的 webconfig 部分：

```
<system.webServer>
    <validation validateIntegratedModeConfiguration="false"/>
    <modules>
        <remove name="ScriptModule"/>
        <add name="ScriptModule" preCondition="managedHandler" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
    </modules>
    <handlers>
        <remove name="WebServiceHandlerFactory-Integrated"/>
        <remove name="ScriptHandlerFactory"/>
        <remove name="ScriptHandlerFactoryAppServices"/>
        <remove name="ScriptResource"/>
        <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        <add name="ScriptHandlerFactoryAppServices" verb="*" path="*_AppService.axd" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        <add name="ScriptResource" preCondition="integratedMode" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
    </handlers>
</system.webServer> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:52:32.860

首先，您并不总是处理您的数据库连接。*如果您的catch*块中出现异常，您将不会关闭该连接。*此外，如果在conn.Open()之后的**try*块中抛出异常，您最终将打开连接两次。 *始终*使用*using*语句来管理实现*IDisposable*的资源的生命周期。

 ***其次，捕获异常作为回退到默认图像的一种方式并不是好的风格。实际上，您可能正在泄漏资源（我不清楚阅读代码的确切位置是抛出异常的位置）。

至于核心问题，我认为没有足够的信息来回答为什么在部署代码后图像没有显示。

您的数据库连接字符串是否正确？你从第一次得到什么

```
comm.ExecuteReader() 
```

?

如果抛出异常，什么异常，在哪里？

如果您将日志记录添加到代码中以回答这些问题，那么问题的根源很可能会变得明显。如果没有，请用这些答案更新您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T11:21:30.520

除了使用 Seesion 之外，您为什么不尝试使用查询字符串。这是我使用查询字符串的代码，我从数据库中获取图像，而无需在本地文件夹中创建所需图像的任何实例。跳这有帮助。

```
<%@ WebHandler Language="C#" Class="DisplayImg" %>

using System;
using System.Web;
using System.Configuration;
using System.IO;
using System.Data;
using System.Data.SqlClient;

public class DisplayImg : IHttpHandler
{

    public void ProcessRequest(HttpContext context)
    {
        string theID;
        if (context.Request.QueryString["id"] != null)
            theID = context.Request.QueryString["id"].ToString();
        else
            throw new ArgumentException("No parameter specified");

        context.Response.ContentType = "image/jpeg";
        Stream strm = DisplayImage(theID);
        byte[] buffer = new byte[2048];
        int byteSeq = strm.Read(buffer, 0, 2048);

        while (byteSeq > 0)
        {
            context.Response.OutputStream.Write(buffer, 0, byteSeq);
            byteSeq = strm.Read(buffer, 0, 2048);
        }
    }

    public Stream DisplayImage(string theID)
    {
        SqlConnection connection = new SqlConnection(ConfigurationManager.ConnectionStrings["SERVER"].ConnectionString.ToString());
        string sql = "SELECT Server_image_icon FROM tbl_ServerMaster WHERE server_Code = @ID";
        SqlCommand cmd = new SqlCommand(sql, connection);
        cmd.CommandType = CommandType.Text;
        cmd.Parameters.AddWithValue("@ID", theID);
        connection.Open();
        object theImg = cmd.ExecuteScalar();
        try
        {
            return new MemoryStream((byte[])theImg);
        }
        catch
        {
            return null;
        }
        finally
        {
            connection.Close();
        }
    }

    public bool IsReusable
    {
        get
        {
            return false;
        }
    }
} 
```

只需在 CS 代码中添加一行

```
UploadImg.ImageUrl = "~/DisplayImg.ashx?id=" + code; 
```***

# maven - Maven 的默认构建配置文件

> ID：11824328
> 
> 赞同：80
> 
> 时间：2012-08-06T07:46:13.370
> 
> 标签：maven, maven-profiles

我已将分析添加到我的 Maven 项目中。

```
 <profile>
            <id>da</id>                
        </profile>
        <profile>
            <id>live</id>
        </profile>
        <profile>
            <id>dev</id>
        </profile> 
```

当我在`mvn clean install`没有指定构建配置文件的情况下发出命令时。我需要默认构建*开发配置文件。*

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：160
> 
> 时间：2012-08-06T07:48:58.657

通过使用该属性`activeByDefault`，当没有使用 -P 参数选择其他配置文件时，您将能够在 Maven 中选择默认配置文件。

```
<profiles>
    <profile>
        <id>da</id>                
    </profile>
    <profile>
        <id>live</id>
    </profile>
    <profile>
        <id>dev</id>
        <activation>
            <activeByDefault>true</activeByDefault>
        </activation>
    </profile>
</profiles> 
```

见[Maven 简介文档](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-01-23T16:35:29.077

您还可以通过运行激活特定配置文件

```
mvn clean install -Pprod 
```

或者

```
mvn clean install -Pdev 
```

# asp.net - 将返回的 LINQ 结果添加到标签/文本框

> ID：11824329
> 
> 赞同：0
> 
> 时间：2012-08-06T07:46:19.540
> 
> 标签：asp.net, linq-to-sql, label, return, code-behind

我想将 LINQ 2 SQL 查询的结果添加到标签或文本框中。我使用“CustomerClass”类作为数据层。在这里，我有一个带有 LINQ 查询的方法。此结果需要返回到代码隐藏文件并添加到标签或文本框中。

类中的方法：

```
public static object SelectCustomerByUser(string user)
{
    var query = (from p in dc.Customers
                 where p.No_ == user
                 select p).Single();
    return query;
} 
```

文件后面的代码：

```
protected void Page_Load(object sender, EventArgs e)
{
    string user = Membership.GetUser().UserName.ToString().ToUpper();
    var queryresult = CustomerClass.SelectCustomerByUser(user);
    lblStreet.Text = ?????????

} 
```

当我将 LINQ 查询直接设置到文件后面的代码中时，我可以直接分配 lblStreet.Text，例如：`lblStreet.Text = queryresult.Street`但我想将 LINQ 查询与文件后面的代码分开。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:52:55.150

因此，linq 似乎从 dc.Customers 类型返回了一个对象`CustomerClass`。您可以创建一个函数（类似于`string GetCustomerStreet(){...}`），以填充标签：

```
lblStreet.Text = ((CustomerClass)queryresult).GetCustomerStreet(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:54:03.323

```
public static CustomerClass SelectCustomerByUser(string user)
{
    var query = (from p in dc.Customers
                 where p.No_ == user
                 select p);
    if(query.Any())
    {
        var result=query.FirstOrDefault();
        return new CustomerClass
        {
            Id = result.Id,
            Name = result.Name,
            Age = result.Age
        }
    }
    return null;
} 
```

背后的代码

```
protected void Page_Load(object sender, EventArgs e)
{
    string user = Membership.GetUser().UserName.ToString().ToUpper();
    var queryresult = CustomerClass.SelectCustomerByUser(user);
    lblStreet.Text = queryresult!=null?queryresult.Street:"";

} 
```

或者

```
public static CustomerClass SelectCustomerByUser(string user)
{
    var query = (from p in dc.Customers
                 where p.No_ == user
                 select p);
    if(query.Any())
    {
        return query.FirstOrDefault();      
    }
    return null;
} 
```

代码背后

```
protected void Page_Load(object sender, EventArgs e)
{
    string user = Membership.GetUser().UserName.ToString().ToUpper();
    var queryresult = CustomerClass.SelectCustomerByUser(user);
    lblStreet.Text = queryresult!=null?queryresult.Street:"";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:57:15.283

我会让函数返回一个 Customer 而不是像这样的对象：

```
public static Customer SelectCustomerByUser(string user) 
```

它是一个 Customer 类，函数被称为`SelectCustomerByUser`它会返回一个客户，这将使您能够访问位于街道上的客户的成员。

在这种特殊情况下，您可以考虑使用[SingleOrDefault 。](http://msdn.microsoft.com/en-us/library/bb342451.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:51:23.643

该方法`SelectCustomerByUser`返回一个*客户类型的**盒装*对象，因此您需要（类型转换）它并将属性/字段值分配给您的用户界面。*`unbox`*

 *就像是：

```
var queryresult = CustomerClass.SelectCustomerByUser(user) as Customer;
if(queryresult!=null)
  lblStreet.Text= queryresult.Street; 
```

如果您更改返回类型`SelectCustomerByUser`并使用`FirstOrDefault`而不是`Single`方法会更好。

```
public static Customer SelectCustomerByUser(string user)
{
    var query = (from p in dc.Customers
                 where p.No_ == user
                 select p).Single();
    return query;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T08:01:06.650

假设

```
var queryresult = CustomerClass.SelectCustomerByUser(user); 
```

返回客户的一个实例，您可以将其转换为该实例，然后将属性连接到一个字符串中，或​​者使用 StringBuilder，无论如何，像这样：，

```
Customer c = (Customer)queryresult);
textbox.Text = String.Format("{0} email = {1}",customer.name , customer.email); 
```

顺便说一句，我会做的查询

```
select p).SingleOrDefault(); 
```

然后在进行强制转换之前测试结果是否为 null*

# sql - Oracle 10G 普通用户如何创建文件夹

> ID：11824334
> 
> 赞同：0
> 
> 时间：2012-08-06T07:46:58.617
> 
> 标签：sql, oracle, plsql, oracle10g

这是我到目前为止所尝试的。当我以 sysdba 用户身份运行此脚本时，它正在创建文件夹。但是，我想以普通用户的身份创建文件夹。我已经给予了所有适当的资助。

```
Declare
 my_Directory varchar2(100);

Begin

MY_DIRECTORY := 'C:\TEST';

DBMS_SCHEDULER.CREATE_JOB (
job_name =>'create_directory',
JOB_TYPE =>'executable',
job_action => 'c:\windows\system32\cmd.exe /c mkdir C:\TEST',
enabled =>true,
auto_drop => true
);
commit;
END;
/ 
```

我正在使用 Windows XP。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T01:18:36.270

您应该能够查询 dba_scheduler_job_run_details 和 dba_scheduler_job_log 以更好地了解作业运行时发生的情况。我很确定您会发现该用户缺少授权。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T15:05:39.227

以 SYSDBA 身份登录并向您的用户/用户组授予以下权限

```
GRANT CREATE job, CREATE EXTERNAL job TO YOUR_USER; 
```

现在您可以使用 YOUR_USER 运行您的 plsql 块。

# ios - 使用父视图管理另一个 UIView 插座

> ID：11824336
> 
> 赞同：0
> 
> 时间：2012-08-06T07:47:08.767
> 
> 标签：ios, uitableview, ios5, uiview, uiviewcontroller

我在 UIViewController 上有一个 UITableView 插座，层次结构如下图所示：

![在此处输入图像描述](../Images/99ea41492ff3f14cc6f77c89d820ac6f.png)

我想在父视图下放置另一个视图说“bottomView”（包括当前的tableview、2个uibutton和一个uilabel），这样当我使父视图动画到右侧时，bottomView就会出现。

我刚刚试了一下，在层次结构中添加了一个使用 IB 的 UIView，如下所示，当我为 topView（self.view）设置动画时，问题是底部视图不会出现，而是我在底部看到黑屏。问题是如何正确地将底部视图添加到层​​次结构中，以使现有视图位于顶部，并且在对其进行动画处理时会显示底部视图。

![在此处输入图像描述](../Images/2f9ccda53dcf5b0adadb05bc25bf4b32.png)

我的代码在这个[答案](https://stackoverflow.com/a/11434415/928763)中，我只是在 viewDidLoad() 上将 [self view] 分配给 topView。

[编辑]：我正在使用故事板

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T19:06:06.563

该视图已被纳入 xib 文件，但需要将其添加到其他视图中才能对其进行可视化。在动画的时候，这个bottomView应该在设置适当的框架后作为子视图添加到self.view上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T11:58:54.973

您可以像这样在 firstView 上添加其他视图。

```
[firstView addSubView: secondView]; 
```

# batch-file - 下面的 findstr 示例有什么问题

> ID：11824338
> 
> 赞同：2
> 
> 时间：2012-08-06T07:47:18.517
> 
> 标签：batch-file

以下 FINDSTR 示例给了我错误。

```
"%JAVA%" -version 2>&1 | findstr /I hotspot > nul 
```

***错误***：'findstr' 未被识别为内部或外部命令、可运行程序或批处理文件。

为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:59:06.863

好的，您需要确保它`findstr.exe`确实存在（`c:\windows\system32`默认情况下）。

如果不是（不太可能），那是你的问题。

如果它确实存在，请确保它存在的目录在您的路径中。`path`从命令窗口执行将显示这一点。

尝试执行：

```
echo hello | findstr /I hello 
```

看看会发生什么。如果这有效而 Java 无效，则 Java 本身可能正在以一种使`findstr`消失的方式修改路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:51:56.863

我想你的意思是“找到”。尝试，

```
find /? 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-26T04:57:19.333

右键单击我的电脑-高级-环境变量-系统变量-选择路径变量-附加以下

C:\WINDOWS\system32

# python - 熊猫：date_range 错误

> ID：11824341
> 
> 赞同：0
> 
> 时间：2012-08-06T07:47:34.070
> 
> 标签：python, date, pandas

使用 pandas`date_range`函数时出现错误。我已经给出了下面的跟踪，并且可以提供更多上下文，但这似乎是我真的必须深入自己才能解决的问题。

所以我想知道的是，是否有办法获取跟踪中提到的文件的源代码，特别`datetime.pyx`是在定义 Timestamp 类的地方——我似乎找不到它。我对 Python 非常熟悉，不太了解包和源代码，但我希望如果我能更深入地挖掘，我将能够对此有所了解。

```
>>> d=process_files(args, options, False)
Processing file K2.csv
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/tmp/py7041Jtp.py", line 158, in process_files
  File "/tmp/py7041Jtp.py", line 81, in process_csv
  File "/usr/local/lib/python2.7/dist-packages/pandas-0.8.1-py2.7-linux-x86_64.egg/pandas/tseries/index.py", line 1317, in date_range
    freq=freq, tz=tz, normalize=normalize, name=name)
  File "/usr/local/lib/python2.7/dist-packages/pandas-0.8.1-py2.7-linux-x86_64.egg/pandas/tseries/index.py", line 176, in __new__
    tz=tz, normalize=normalize)
  File "/usr/local/lib/python2.7/dist-packages/pandas-0.8.1-py2.7-linux-x86_64.egg/pandas/tseries/index.py", line 254, in _generate
    start = Timestamp(start)
  File "datetime.pyx", line 87, in pandas.lib.Timestamp.__new__ (pandas/src/tseries.c:26892)
  File "datetime.pyx", line 511, in pandas.lib.convert_to_tsobject (pandas/src/tseries.c:32019)
  File "datetime.pyx", line 640, in pandas.lib._string_to_dts (pandas/src/tseries.c:33452) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:55:13.007

要找到 datetime.pyx，我建议从：

```
find /usr/local/lib/python2.7 -name 'datetime.pyx' 
```

要找到 Timestamp 类的定义，我将从：

```
grep -r 'class Timestamp' /usr/local/lib/python2.7/dist-packages/pandas-0<tab> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:57:17.410

这些`.pyx`文件是 Cython 文件。您可能会发现它们已安装，但如果您没有从源代码构建库，它们可能不会安装。但是，所有的 pandas 源代码都可以在 github 上找到。的来源`datetime.pyx`是[here](https://github.com/pydata/pandas/blob/master/pandas/src/datetime.pyx)。

Cython 看起来类似于 Python，因此如果您只是想浏览源代码以找出导致错误的原因，您可能会发现查看 Cython 源代码很有用。但是你不能像普通的 Python 那样调试它，因为它不是。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T10:16:10.880

为方便起见，我在下面复制了`pandas.lib._string_to_dts`功能代码。根据您的回溯，这是引发异常的那个。

```
cdef inline _string_to_dts(object val, pandas_datetimestruct* dts):
  cdef:
      npy_bool islocal, special
      PANDAS_DATETIMEUNIT out_bestunit
      int result

  if PyUnicode_Check(val):
      val = PyUnicode_AsASCIIString(val);

  result = parse_iso_8601_datetime(val, len(val), PANDAS_FR_ns,
                                   NPY_UNSAFE_CASTING,
                                   dts, &islocal, &out_bestunit, &special)
  if result == -1:
      raise ValueError('Unable to parse %s' % str(val)) 
```

在我看来，您提供的输入`pandas.date_range`无法解析为日期，并且您的代码`process_csv`会引发`ValueError`异常，如下例所示。

```
>>> import pandas
>>> pandas.date_range('hello')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File ".../lib/python2.7/site-packages/pandas-0.8.2.dev_90842ba-py2.7-linux-x86_64.egg/pandas/tseries/index.py", line 1317, in date_range
    freq=freq, tz=tz, normalize=normalize, name=name)
  File "../lib/python2.7/site-packages/pandas-0.8.2.dev_90842ba-py2.7-linux-x86_64.egg/pandas/tseries/index.py", line 176, in __new__
    tz=tz, normalize=normalize)
  File ".../lib/python2.7/site-packages/pandas-0.8.2.dev_90842ba-py2.7-linux-x86_64.egg/pandas/tseries/index.py", line 254, in _generate
    start = Timestamp(start)
  File "datetime.pyx", line 87, in pandas.lib.Timestamp.__new__ (pandas/src/tseries.c:26892)
  File "datetime.pyx", line 511, in pandas.lib.convert_to_tsobject (pandas/src/tseries.c:32019)
  File "datetime.pyx", line 640, in pandas.lib._string_to_dts (pandas/src/tseries.c:33452)
ValueError: Unable to parse hello 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T10:21:14.420

原来我只是根据默认为`None`. 没有想清楚：/

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-07T18:40:35.217

请在 GitHub（或邮件列表）上发布潜在的错误报告。谢谢——尽管这确实得到了比 GitHub 更多的答案。

# iphone - 如何创建 IPA 文件？

> ID：11824343
> 
> 赞同：1
> 
> 时间：2012-08-06T07:47:47.073
> 
> 标签：iphone, ios, arrays, ipad, xcode4.3

如何创建 IPA 文件？我需要连接我的设备吗？

我关注了[此链接][1]。但我还是失败了。现在我可以构建我的应用程序，但是每当我点击产品->存档时。

**更新：**终于解决了。我只是从分发更改为开发人员。

感谢你们所有人，特别是 LithuThiruvathira。感谢您的患者告诉我哪个是错误的，让我尝试。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:54:29.170

[http://www.raywenderlich.com/8003/how-to-submit-your-app-to-apple-from-no-account-to-app-store-part-1](http://www.raywenderlich.com/8003/how-to-submit-your-app-to-apple-from-no-account-to-app-store-part-1)

[http://www.raywenderlich.com/2012/01/30/how-to-submit-your-app-to-apple-from-no-account-to-app-store-part-2/](http://www.raywenderlich.com/2012/01/30/how-to-submit-your-app-to-apple-from-no-account-to-app-store-part-2/)

按照步骤在本教程中，您将逐步了解如何创建正确的配置文件和其他所有内容

完成本教程后，转到产品 -> 存档

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:56:02.180

首先，您下载您的证书和配置文件，然后双击两者。在此之后在 xcode 中打开您的项目，然后将 Bundle Identifier 更改为配置文件标识符。现在它工作正常。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T08:03:26.203

首先，您需要一个有效的配置文件 + 证书 + 证书的签名。您应该像在设备或模拟器上运行应用程序一样设置您的项目。

我建议在制作 ipa 之前先清理一下（命令 + shift + k）。然后断开任何设备，从模拟器/设备列表中选择“iOS 设备”。从菜单产品/存档中打开并等待 X 代码完成存档。之后将出现一个新窗口，按“共享...”，您应该选择属于配置文件的证书（并确保选择了“iOS App Store Package (ipa)”）。按下一步。将出现另一个窗口，您应该在此处输入应用程序的标题。当我进行内部构建时，通常我会选中“保存以供企业分发”框，并在“应用程序 URL”处填写 ipa 文件的路径并再次添加应用程序的“标题”。按保存，你就准备好了！

# joomla - 尝试在 Joomla 2.5.3 中安装 CP 时收到此错误

> ID：11824345
> 
> 赞同：1
> 
> 时间：2012-08-06T07:47:50.837
> 
> 标签：joomla, joomla2.5

尝试在 Joomla 2.5.3 中安装 CP 时收到此错误

“具有相同父项的另一个菜单项具有此别名错误构建管理菜单”

我确实遇到了以前的安装问题...我尝试安装不兼容的版本。我卸载了所有项目并尝试使用正确的版本重新安装，但自定义属性不会出现在组件菜单中。

发生了什么？我怎样才能解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:55:43.440

很难说发生了什么。无论如何，根据错误消息，菜单项存在问题。我会检查数据库表 #__menu 以查看是否存在拙劣的自定义属性安装的剩余部分。

# delphi - 如何将 DataSnap 客户端连接定向到各种 DS 服务器？

> ID：11824347
> 
> 赞同：3
> 
> 时间：2012-08-06T07:47:51.200
> 
> 标签：delphi, indy, datasnap

我有一个相当大的 DataSnap 服务器，它将 24/7 运行，它将替代当前运行的 MIDAS (COM) 服务器。现在我面临的问题是如何更新该服务器而不必强制断开所有连接的客户端。

使用当前的 midas 服务器（顺便说一下，它没有大量的服务流量）我只是等到没有连接，然后关闭服务器应用程序并替换 exe 文件。如果在服务器“关闭”时发生新连接，作为 COM 对象，它将被操作系统“拉起”，不会给客户端带来任何问题。

新的 DataSnap 架构不再基于 COM（太棒了！），但是这样我就失去了停止服务器而不会导致新连接失败的机会。

我认为某种 TCP“代理”或“隧道”可以解决我的问题，所以我可以简单地将新的服务器 exe 放在某个地方，并让该“代理”将客户端连接重定向到新的 DS 服务器。我已经尝试过 TIdMappedPortTCP，但它不断地挂在服务器-客户端对话框的随机点上。

有任何想法吗？

编辑：出于效率原因，我在纯 TCP/IP 传输上使用 DataSnap，因此 http 代理不适合我的具体情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-16T01:08:55.050

也许你应该看一下命名服务的等价物？可以像 Datasnap 服务器一样简单，您可以对其进行方法调用并返回“主”服务器的 IP 地址。然后，当您想要删除服务器进行维护时，您可以更改命名服务器分配的 IP 地址，以便将新客户端路由到它。当您的主服务器备份时，您可以将 IP 更改回来。

您仍然有引导问题（即，他们如何找到命名服务器的 IP），但这可以简单到在客户端的配置文件中有几个 IP 地址，如果第一个失败，则返回到第二。

# c++ - 打印 x509 证书 c++

> ID：11824348
> 
> 赞同：1
> 
> 时间：2012-08-06T07:47:55.973
> 
> 标签：c++, openssl, x509certificate

我有一个 x509 证书指针，例如 `x509* cert = SSL_get_peer_certificate(connection);`

我应该使用什么功能来打印完整的证书？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T03:59:35.027

X509_NAME_print_ex 系列函数就是您的[答案](http://www.openssl.org/docs/crypto/X509_NAME_print_ex.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-23T10:17:15.433

这会将证书打印到控制台

> PEM_write_X509（标准输出，对等）；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T03:29:46.047

如果要打印所有证书数据，X509_print 和 X509_print_fp 是更简单的选择。 [链接到文档](http://fossies.org/dox/openssl-1.0.1c/t__x509_8c.html#a3334cd2019f6197e4a2be131fd6932ff)

# javascript - 使用 Crossfilter 和 D3 重绘直方图

> ID：11824354
> 
> 赞同：16
> 
> 时间：2012-08-06T07:48:37.557
> 
> 标签：javascript, visualization, d3.js, crossfilter

我正在调整[Crossfilter](http://square.github.com/crossfilter/)库以可视化我从[Olympics](http://www.london2012.com)收集的一些推文。我试图以两种方式从本质上扩展初始示例：

1.  我不想显示基于原始数据集的航班列表，而是显示另一个数据集中的项目列表，该数据集中由交叉过滤器当前选择的项目键入。
2.  在不同的数据源之间切换并重新加载直方图和表格。

我的第 (1) 部分按计划工作。但是，第 (2) 部分给我带来了一些麻烦。我目前正在通过选择要显示的新“运动”或选择新的汇总算法来更改数据集。在切换其中任何一个时，我认为我应该首先删除之前创建和显示的过滤器、图表和列表，然后重新加载新数据。

然而，对于前端可视化，尤其是 D3 和 Crossfilter，我还没有弄清楚如何做到这一点，我也不知道如何最好地表达这个问题。

我在[这里](http://fozziethebeat.github.com/tweetolympics/)有一个关于我的问题的工作示例。在 Date 上选择一个范围，然后从 Archery 切换到 Fencing，然后选择 reset 显示了一个很好的错误示例：并非所有新数据都被绘制。

![在日期过滤时切换运动后的击剑数据屏幕图像](../Images/c2523828b8389aaac8ddca232175e542.png)

如前所述，大部分代码都是从[Crossfilter](http://square.github.com/crossfilter/)示例和[关于制作径向可视化的教程](http://flowingdata.com/2012/08/02/how-to-make-an-interactive-network-visualization/)中提取的。以下是我认为相关的一些关键代码块：

选择新数据源：

```
d3.selectAll("#sports a").on("click", function (d) {
    var newSport = d3.select(this).attr("id");
    activate("sports", newSport);
    reloadData(activeLabel("sports"), activeLabel("methods"));
});                          

d3.selectAll("#methods a").on("click", function (d) {
    var newMethod = d3.select(this).attr("id");
    activate("methods", newMethod);
    reloadData(activeLabel("sports"), activeLabel("methods"));
}); 
```

重新加载数据：

```
function reloadData(sportName, methodName) {
    var filebase = "/tweetolympics/data/tweet." + sportName + "." + methodName + ".all.";
    var summaryList, tweetList, remaining = 2;
    d3.csv(filebase + "summary.csv", function(summaries) {
        summaries.forEach(function(d, i) {
           d.index = i;
           d.group = parseInt(d.Group);
           d.startTime = parseTime(d.Start);
           d.meanTime = parseTime(d.Mean);
        });
        summaryList = summaries;
        if (!--remaining)
            plotSportData(summaryList, tweetList);
    });

    d3.csv(filebase + "groups.csv", function(tweets) {
        tweets.forEach(function(d, i) {
            d.index = i;
            d.group = parseInt(d.Group);
            d.date = parseTime(d.Time);
        });
        tweetList = tweets;
        if (!--remaining)
            plotSportData(summaryList, tweetList);
    });
} 
```

并使用数据加载交叉过滤器：

```
function plotSportData(summaries, tweets) {

    // Create the crossfilter for the relevant dimensions and groups.
    var tweet = crossfilter(tweets),
        all = tweet.groupAll(),
        date = tweet.dimension(function(d) { return d3.time.day(d.date); }),
        dates = date.group(),
        hour = tweet.dimension(function(d) { return d.date.getHours() + d.date.getMinutes() / 60; }),
        hours = hour.group(Math.floor),
        cluster = tweet.dimension(function(d) { return d.group; }),
        clusters = cluster.group();

     var charts = [
        // The first chart tracks the hours of each tweet.  It has the
        // standard 24 hour time range and uses a 24 hour clock.
        barChart().dimension(hour)
                  .group(hours)
                  .x(d3.scale.linear()
                             .domain([0, 24])
                             .rangeRound([0, 10 * 24])),
        // more charts added here similarly...
      ];

    // Given our array of charts, which we assume are in the same order as the
    // .chart elements in the DOM, bind the charts to the DOM and render them.
    // We also listen to the chart's brush events to update the display.
    var chart = d3.selectAll(".chart")
                  .data(charts)
                  .each(function(chart) { chart.on("brush", renderAll)
                                               .on("brushend", renderAll); });

    // Render the initial lists.
    var list = d3.selectAll(".list")
                 .data([summaryList]);

    // Print the total number of tweets.
    d3.selectAll("#total").text(formatNumber(all.value()));

    // Render everything..
    renderAll(); 
```

我的猜测是我应该从`plotSportData`清除旧数据集的东西开始，但我不确定它应该是什么样子。任何建议或想法将不胜感激。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-07T01:38:13.453

经过一夜的睡眠，解决方案来了。

我只需要打电话

```
d3.selectAll(".chart").selectAll("svg").remove(); 
```

在开始时`plotSportData`将抓取任何嵌套在`.chart`div 下的直方图并将其删除。如果没有要删除的元素，那将是无操作的。

# apache-flex - 鼠标光标在 ObjectHandles 中对象的不同句柄上发生变化

> ID：11824361
> 
> 赞同：0
> 
> 时间：2012-08-06T07:49:24.540
> 
> 标签：apache-flex, flex4

当在 ObjectHandles 中对象的不同句柄上时，我找不到鼠标光标发生变化。在对象句柄的鼠标悬停时，我需要对象握持句柄..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T17:51:33.477

我认为这就是你要找的东西：http: [//blog.flexexamples.com/2007/09/10/changeing-the-cursor-in-a-flex-application-using-the-cursormanager-class/](http://blog.flexexamples.com/2007/09/10/changing-the-cursor-in-a-flex-application-using-the-cursormanager-class/)

当然，您必须根据您的特定情况进行调整。

# c# - C#通过变量名获取和设置属性

> ID：11824362
> 
> 赞同：14
> 
> 时间：2012-08-06T07:49:27.873
> 
> 标签：c#, string, variables, properties

有没有办法做到这一点？我尝试测试对象的属性是否存在，如果存在，我想为其设置一个值。（如果是真的，也许完整的想法很糟糕——为什么？）

```
class Info
{
    public string X1{ set; get; }
    public string X2{ set; get; }
    public string X3{ set; get; }
}

Dictionary<string, string> values = new Dictionary<string, string>();
values.Add("X1","blah1");
values.Add("X2","blah2");
values.Add("NotThere","blah3");

Info info = new Info();

foreach (var item in values)
{
  string propertyName = item.Key;
  string value = item.Value;
  if (info.GetType().GetProperty(propertyName) != null)  //this probably works
  {
        info.propertyName = value; //this doesn't, how to set it?
  }
} 
```

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-08-06T07:51:40.933

是的，您正在寻找[PropertyInfo.SetValue](http://msdn.microsoft.com/en-us/library/system.reflection.propertyinfo.setvalue.aspx)方法，例如

```
var propInfo = info.GetType().GetProperty(propertyName);
if (propInfo != null)
{
    propInfo.SetValue(info, value, null);
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-06T07:52:34.207

```
var propertyInfo = info.GetType().GetProperty(propertyName);
if (propertyInfo != null)  //this probably works. Yes it is
  {
        propertyInfo.SetValue(info, value, null);
  } 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-06T07:52:14.607

您需要`SetValue`在属性上调用该方法：

```
var property = info.GetType().GetProperty(propertyName);
if (property != null)
{
    property.SetValue(info, value, null); 
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T09:51:46.703

我认为每次使用反射有点慢，所以，如果你多次进行初始化，你可以使用表达式树。但是每次你的字典应该有相同的属性顺序来初始化。

可能的代码

```
class Info
{
    public string X1 { set; get; }
    public string X2 { set; get; }
    public int X3 { set; get; }
    private Action<Info, List<object>> initAction;

    public void Init(Dictionary<string, object> initDict)
    {
        //on first usage we deal with reflection and build expression tree to init properties
        if (initAction==null)
        {
            ParameterExpression targetInstanceExpression = Expression.Parameter(this.GetType());
            ParameterExpression valuesExpression = Expression.Parameter(typeof(List<object>));
            ParameterExpression value = Expression.Variable(typeof(object));
            ParameterExpression enumerator = Expression.Variable(typeof(IEnumerator));

            var expList = new List<Expression>();
            expList.Add(Expression.Assign(enumerator, Expression.TypeAs(Expression.Call(valuesExpression, "GetEnumerator", null),typeof(IEnumerator))));
            foreach (var initRecord in initDict)
            {
                Expression moveNextExp = Expression.Call(enumerator, "MoveNext", null);
                expList.Add(moveNextExp);
                Type type = initRecord.Value.GetType();
                expList.Add(Expression.Assign(value, Expression.PropertyOrField(enumerator, "Current")));
                Expression assignExp = GetPropAssigner(initRecord.Key, type, targetInstanceExpression, value);
                expList.Add(assignExp);
            }
            Expression block = Expression.Block
            (
                 new[] { value, enumerator },
                 expList
            );
            //compile epression tree and get init action 
            initAction = Expression.Lambda<Action<Info, List<object>>>(block, targetInstanceExpression, valuesExpression).Compile();
        }
        initAction(this, initDict.Values.ToList());
    }
    //little method to create property assigner
    public static Expression GetPropAssigner(string propName, Type type,
         ParameterExpression targetInstanceExp, ParameterExpression valueExp)
    {
        MemberExpression fieldExp = Expression.PropertyOrField(targetInstanceExp, propName);
        BinaryExpression assignExp = Expression.Assign(fieldExp, type.IsValueType ? Expression.Unbox(valueExp, type) : Expression.TypeAs(valueExp, type));
        return assignExp;
    }
} 
```

用法：

```
var values = new Dictionary<string, object>();
            values.Add("X1", "blah1");
            values.Add("X2", "blah2");
            values.Add("X3", 8);

Info info = new Info();
info.Init(values); 
```

# iphone - 以编程方式在 UITabBarController 中嵌入 ABPersonPicker (UIAddressBook)

> ID：11824363
> 
> 赞同：1
> 
> 时间：2012-08-06T07:49:32.680
> 
> 标签：iphone, xcode, abaddressbook

我想`UIAddressBook`在我的内部显示 a `UITabBarController`（也嵌入在 a 中`UINavigationController`），而不是每次都以模态方式显示它。换句话说，我想访问已经存在的标签栏控制器和导航控制器中的地址簿。当我以模态方式显示它时，这两个消失了，因为它是一个全新的视图。但是，我找不到嵌入它的文档。有没有人有任何指示？

奖励：是否可以从 sqlite 数据库中加载来自 NSDictionary 的姓氏列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T02:41:40.027

答案很简单。

```
picker = [[ABPeoplePickerNavigationController alloc] init];
// place the delegate of the picker to the control
picker.peoplePickerDelegate = self;
picker.view.frame = self.view.bounds;
[self.view addSubview:picker.view]; 
```

诀窍是将框架设置为`self.view.bounds`; 那是为我做的。

# tomcat - 在tomcat7上使用maven部署

> ID：11824365
> 
> 赞同：3
> 
> 时间：2012-08-06T07:49:38.880
> 
> 标签：tomcat, maven, deployment

您好我正在尝试使用 Maven 部署我的应用程序。通过 web 界面部署炒锅。但是 maven 首先取消部署应用程序（这是正确的），然后在日志消息“已上传”处停止 ca.30 秒并失败：

tomcat7：部署

```
[INFO] Deploying war to http://192.168.1.137:8080/Application
Uploading: http://192.168.1.137:8080/manager/html/deploy?path=%2FApplication&update=true
Uploaded: http://192.168.1.137:8080/manager/html/deploy?path=%2FApplication&update=true (17575 KB at 23215.6 KB/sec)

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 57.061s
[INFO] Finished at: Mon Aug 06 09:41:27 CEST 2012
[INFO] Final Memory: 19M/220M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.0-beta-1:deploy (default-cli) on project Application: Cannot invoke Tomcat manager: The target server failed to respond -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException 
```

我的 pom.xml 中的配置

```
<plugin>
    <groupId>org.apache.tomcat.maven</groupId>
    <artifactId>tomcat7-maven-plugin</artifactId>
    <configuration>
        <url>http://192.168.1.137:8080/manager/html</url>
        <username>admin</username>
        <password>password</password>
        <path>/Application</path>
        <update>true</update>
    </configuration>
</plugin> 
```

我还尝试了使用 tomcat:redeploy 的旧插件：

```
<plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>tomcat-maven-plugin</artifactId>
    <configuration>
        <url>http://192.168.1.137:8080/manager/html</url>
        <username>admin</username>
        <password>password</password>
        <path>/Application</path>
    </configuration>
</plugin> 
```

但它也失败了：

```
[ERROR] Failed to execute goal org.codehaus.mojo:tomcat-maven-plugin:1.1:redeploy (default-cli) on project Application: Cannot invoke Tomcat manager: Unexpected end of file from server -> [Help 1] 
```

是否可以更改部署的超时时间？也许我的应用程序需要很长时间才能启动

编辑：我发现当我签出项目并在运行 tomcat 的同一台机器上运行 tomcat7:deploy 时，它可以工作

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-07T04:03:27.547

虽然答案较晚，但有人可能会觉得这很有用。如果您使用的是 maven3 和 tomcat7。下面的方法对我有用。我不知道 tomcat7 中应用程序管理器端点的变化。

```
Environment - Apache Maven 3.0.4,apache-tomcat-7.0.34,Windows 7 
```

Tomcat7 已将其部署端点从 更改`http://tomcatserver:8080/manager/html`为`http://tomcatserver:8080/manager/text` .

所以我的 pom.xml 将是

```
 <plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>tomcat-maven-plugin</artifactId>
     <configuration>
           <url>http://tomcatserver:8080/manager/text</url>
           <server>tomcat</server>
          <path>/myWebApp</path>
         </configuration>
  </plugin> 
```

在 tomcat-users.xml 中

```
<role rolename="manager-gui"/>
  <role rolename="manager-script"/>
  <role rolename="manager-jmx"/>
  <role rolename="manager-status"/>
  <role rolename="admin-gui"/>
  <role rolename="admin-script"/>

  <user username="root" password="root" roles="manager-gui,manager-script,manager-jmx,manager-status,admin-gui,admin-script"/> 
```

在 Maven settings.xml 中

```
<server>
  <id>tomcat</id>
  <username>root</username>
  <password>root</password>
</server> 
```

在 context.xml 中，虽然这是可选的，并且与 maven3 部署到 tomcat7 无关，但有时可能会发生 jar 锁定，所以为了更安全。

```
<Context  antiJARLocking="true" antiResourceLocking="true"> 
```

现在发行

```
mvn tomcat:deploy 
```

记得在部署maven之前启动tomcat。

如果部署成功，您的应用程序将在

```
http://tomcatserver:8080/myWebApp 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:12:48.770

我猜你现在正在执行目标 tomcat:deploy，而不是那样，尝试运行目标**tomcat:redeploy**并确保你在 pom.xml 中添加了 tomcat-maven-plugin

# ui-automation - 是否可以在事务执行期间收集所有消息？

> ID：11824366
> 
> 赞同：2
> 
> 时间：2012-08-06T07:49:58.727
> 
> 标签：ui-automation, abap

我们有两个 SAP 系统。其中之一在第二侧调用 RFC 功能模块。该模块反过来运行事务。事务产生一些在调用方无法检测到的消息（类型“I”和“S”）。

那么，是否可以通过 RFC 将这些消息传递给调用方？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:04:17.090

来自**通话交易**文档

```
... MESSAGES INTO itab 
```

**影响**

使用此添加，在批处理输入处理期间发送的所有消息都存储在 ABAP 字典中类型为 BDCMSGCOLL 的内部表 itab 中。

所以是的，如果您通过**调用事务**语句调用事务，则可以通过此添加来收集所有消息。

# objective-c - 通过 GData 框架获取上传到 YouTube 的视频 url

> ID：11824367
> 
> 赞同：0
> 
> 时间：2012-08-06T07:50:00.803
> 
> 标签：objective-c, ios, youtube-api, gdata

我对 GData Youtube 框架有疑问。我成功上传了我的视频。但我要问的是，是否可以在关闭我的 YouTubeViewController 后立即获取视频网址。我想将该链接存储在我的`NSString`变量中。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T13:11:29.237

你可以通过使用

```
NSString *url = [[[[videoEntry mediaGroup] mediaContents] objectAtIndex:0] URLString];
NSLog(@"Upload URL = %@", url); 
```

在上传工单回调方法中。

# java - 构造函数 ArrayAdapter (SmsActivity, int, SmsActivity.SmsReceived) 未定义？？

> ID：11824368
> 
> 赞同：0
> 
> 时间：2012-08-06T07:50:01.537
> 
> 标签：java, android, list, listadapter

以下代码显示错误消息，

```
setListAdapter(new ArrayAdapter<String>(this, R.layout.main,mSmsReceiver)); 
```

错误消息：构造函数 ArrayAdapter(SmsActivity, int, SmsActivity.SmsReceived) 未定义

下面提供了完整的代码。

我的问题：

1.  我该如何解决这个错误？
2.  而是使用 mSmsReceiver，我应该如何/如何修改以将 str（下方）中的消息显示到 ListView

    ```
    str += "SMS from " + msgs[i].getOriginatingAddress(); 
    ```

完整代码：

```
 import...
    ....   

    public class SmsActivity extends ListActivity {
    private SmsReceived mSmsReceiver;
    public SmsActivity(){
    mSmsReceiver = new SmsReceived();

    setListAdapter(new ArrayAdapter<String>(this, R.layout.main,mSmsReceiver));

    ListView listView = getListView();
    listView.setTextFilterEnabled(true);

    //---method is call when listitem is clicked---
    listView.setOnItemClickListener(new OnItemClickListener() {edit later});
    }

    private class SmsReceived extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) 
    {
        //---get the SMS message passed in---
        Bundle bundle = intent.getExtras();        
        SmsMessage[] msgs = null;
        String str = "";     
        if (bundle != null)
        {
            //---retrieve the SMS message received---
            Object[] pdus = (Object[]) bundle.get("pdus");
            msgs = new SmsMessage[pdus.length];            
            for (int i=0; i<msgs.length; i++){
                msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);                
                str += "SMS from " + msgs[i].getOriginatingAddress();                          

            }
        }
    }
    }
    } 
```

**对不起，因为我对这些东西真的太陌生了，所以希望你可以直接在我的代码中编辑，这样我就可以看到你想说什么。如果给你带来了很多负担，我真的很抱歉...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:53:52.180

要修复错误，您需要正确的对象类型作为适配器的参数。由于您告诉`ArrayAdapter`它将具有`String`数据类型，因此您必须提供类型为的数组或列表集合对象`String`。

改变这个：

```
private SmsReceived mSmsReceiver; 
```

对此：

```
private String[] mSmsReceiver;
//or
private List<String> mSmsReceiver 
```

**更改mSmsReceiver**的数据类型后，请确保在推入**ArrayAdapter**之前对其进行初始化并填写一些数据。

# html - 里面的表格不起作用

> ID：11824372
> 
> 赞同：0
> 
> 时间：2012-08-06T07:50:40.433
> 
> 标签：html, forms, html-table

我这里有一个小问题..我有一个表格，我把它写在一个表格内容中，但是它不起作用..所以让我给你看我的代码：

```
<table>
<form name='editpo' method=POST action='js_buat_po.php?act=caricustomer&doit=update&uid=$data[uid]'>
<tr bgcolor=$warna>
<td><input type=hidden name='iddemand' value='$data[id_demand]'>$data[barcode]</td><td><input type='text' name='nama' value='$data[nama_item]'></td>
<td>$data[id_pr]</td>
<td align=right><input type='text' name='jumlah' value='$data[jumlah]'></td>
<td align=right><input type='text' name='regane' id='regane' value='$data[hargabeli]'></td>
<td align=right>".number_format($total,0,',','.')."</td>
<td align=right> <input type=submit value='UPDATE'></form><a href='js_buat_po.php?act=caricustomer&doit=hapus&uid=$data[uid]'>Hapus</a></td>
</tr>
</form>
</table> 
```

当我尝试检查检查元素的输出时。我得到了这样的结果：

```
<tr bgcolor="#FFFFFF">
                    <form name="editpo" method="POST" action="js_buat_po.php?act=caricustomer&amp;doit=update&amp;uid=7"></form>
                    <td>
                        <input type="hidden" name="iddemand" value="2">accesories204</td><td><input type="text" name="nama" value="  AC komplit Mitsubishi Pick Up C. T120 / 2012 merk sanden   "></td>
                        <td>1</td>
                        <td align="right"><input type="text" name="jumlah" value="1"></td>
                        <td align="right"><input type="text" name="regane" id="regane" value="5000000"></td>
            <td align="right">5.000.000</td>
            <td align="right"> <input type="submit" value="UPDATE"><a href="js_buat_po.php?act=caricustomer&amp;doit=hapus&amp;uid=7">Hapus</a></td>
                        </tr> 
```

我不知道为什么我的代码会变成这样，请帮忙？

====更新============

那么如何做到这一点，我有 1 个表和动态的每个 tr 的数据是不同的，所以可以说我不会使用每个 tr 的更新按钮 .. 以及如何为我的 tr 标识符创建一个数组 id？

格式是这样的。。

```
<form>
<table>
<tr id='1'><td><input type='text' name='tes' value='xxx'></td><td><input type='submit' value='update'></td></tr>  <--- Submit the data from tr1
<tr id='2'><td><input type='text' name='tes' value='xxx'></td><td><input type='submit' value='update'></td></tr>  <--- Submit the data from tr2
</table>
</form> 
```

怎么做？谁能帮我？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:00:12.673

最坏的格式应该是

```
<form>
    <table>
       <tr>
          <td>
               <input ....>
          <td>
          <td>
               <input type=submit value='UPDATE'>
          <td>
       </tr>
    </table>
</form> 
```

回复您的更新：看起来您需要两种形式：

```
<table>
     <tr>
          <td>
                <form ...>
                    <input..><input type=submit>
                </form>
          </td>
     </tr>
     <tr>
          <td>
               <form ...>
                    <input..><input type=submit>
               </form>
          </td>
     </tr>
 </table> 
```

# html - IE6 + 7 中的无序列表问题

> ID：11824373
> 
> 赞同：0
> 
> 时间：2012-08-06T07:50:47.380
> 
> 标签：html, css, internet-explorer-7, internet-explorer-6

我有一个无序列表，在除 ie6+7 之外的大多数浏览器中都能正常显示。问题是我为列表项设置了样式，给它们一个宽度和高度，并将它们显示为一个块，以便具有正确的大小。IE 解释块并将列表项垂直而不是水平放置这是我的代码；

jsfiddle：http: [//jsfiddle.net/NY94w/1/](http://jsfiddle.net/NY94w/1/)

HTML

```
<div>
     <ul class="hozlist">
          <li><a href="#" class="btnyellow ">View Details</a></li>
          <li><a href="#" class="btnyellow ">View NDP</a></li>
          <li><a href="#" class="btnyellow ">View News</a></li>
    </ul>
</div>​ 
```

CSS

```
ul.hozlist {
    list-style: none;
    padding: 0px;
    margin: 0px;
    text-align: left;
}
ul.hozlist li {display: inline-block; *display: inline}

    .btnyellow
    {
        width: 93px;
        height: 21px;
        background: yellow;      
        border:1px solid red;
        line-height:21px;
        vertical-align: middle;    
        padding: 0;
        cursor: pointer;
        font-size: 70%;
        text-align: center;
        display: block;
    }
    a.btnyellow, a.btnyellowsmall{text-decoration: none;color: black;font-family: Arial;} 
```

​</p>

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:05:36.247

虽然 AK 的回答可以解决您的问题，但使用 float 并不总是最好的解决方案。如果您不想浮动您的元素，您可以添加`zoom:1`到您的`ul.hozlist li {}`规则集中。

```
ul.hozlist li {display: inline-block; *display: inline; zoom:1;} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:00:01.090

`float:left`在下面使用，而不是`display: inline-block; *display: inline`

```
ul.hozlist li {float: left} 
```

## [看演示](http://jsfiddle.net/akhurshid/hfqtW/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:05:11.320

> IE 支持内联块，但仅适用于本机内联的元素。所以，如果你真的想使用 inline-block，你只能使用 spans 和 strongs 和 ems

使用`float:left`代替`inline-block`：

```
ul.hozlist li {float: left;} 
```

# ios - 我可以通过 SDK 找到 iOS 应用的 Apple ID 吗？

> ID：11824375
> 
> 赞同：0
> 
> 时间：2012-08-06T07:50:54.897
> 
> 标签：ios

我可以通过 SDK 找到 iOS 应用的 Apple ID 吗？我必须编写一个应用程序，我需要在其中找到 Apple ID 和该 Apple ID 的用户名。有人知道如何得到吗？请帮忙..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:57:34.123

不可以。Apple ID 是用户的隐私信息，您无法从 SDK 中获取。

# javascript - 读取本地文件，编码为base64，我想给用户一个选项来将结果保存到文件

> ID：11824378
> 
> 赞同：0
> 
> 时间：2012-08-06T07:50:59.320
> 
> 标签：javascript, file, download, savefiledialog

我有一个将本地文件编码为 Base64 的网页，并希望为用户提供一个选项来保存结果 - 现在位于 html 元素中 - 而无需返回服务器。我可以将数据发布到后端网页，另存为文件，并提供 <a href= .. 但我非常感谢在客户端实现此功能的选项。该文件很容易对于帖子来说太大了。我可以编写 som javascript 代码来启动保存对话框，如果用户选择接受该文件，则将文件内容推送回给用户吗？

谢谢你的帮助 ！亲切的问候凯蒂尔杜纳

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:00:49.633

你可以这样做：

```
var file = //your Base64 encoded file
var url = 'data:application/octet-stream;base64,' + file;
window.open(url); 
```

您应该调整代码，使 mime 类型与您提供的内容相匹配（应用程序/pdf ...）

要传递文件名，您必须使用如下锚标记：

```
<a href="data:application/octet-stream;base64,/*YOUR FILE DATA*/" download="your filename"> 
```

但这不是跨浏览器。请参阅[http://updates.html5rocks.com/2011/08/Downloading-resources-in-HTML5-a-download](http://updates.html5rocks.com/2011/08/Downloading-resources-in-HTML5-a-download)

# python - 在 Python 中创建一个新线程

> ID：11824383
> 
> 赞同：-4
> 
> 时间：2012-08-06T07:51:03.710
> 
> 标签：python, multithreading

我编写了一个包含两部分的代码。第一个是守护线程，它始终监视数据线以进行数据交换。第二个线程是根据某些设置条件过滤捕获的数据的线程。我将此代码作为另一个模块。这个超集代码向我编写的模块发送参数列表（过滤器的条件）。我想知道是否有任何方法可以在程序运行时通过传递这些参数来创建新线程？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T07:56:18.067

你绝对应该看看：

[多处理](http://docs.python.org/py3k/library/multiprocessing.html)

这将使您有可能处理任何类型的线程需求。

# asp.net-mvc-3 - DevExpress 网格 MVC 3 剃刀

> ID：11824385
> 
> 赞同：1
> 
> 时间：2012-08-06T07:51:10.077
> 
> 标签：asp.net-mvc-3, grid, devexpress, selection

我想阻止用户从网格单元格中复制数据

我用过css

```
td.dxgv
{   
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
-user-select: none;
} 
```

这在 Google Chrome、Moz FireFox、Opera 中运行良好，但在 IE 中不行

* * *

![在此处输入图像描述](../Images/96b7bc34277e452a5d3db9b5f924be28.png)

我希望用户不能像图片上那样选择整个网格

我写的css不能只在IE中工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T11:53:36.747

我找到了解决方案

```
<div id="applicationList" class="applicationList" onselectstart="return false;">
        @Html.Partial("_List", Model)
</div> 
```

这也适用于 IE

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:43:22.127

如果你可以使用 jquery，你可以从 pkarl尝试[这个解决方案：](http://pkarl.com/articles/prevent-content-copying-nicely-friendly-no-copy-sc/)

```
<script src="http://www.google.com/jsapi"></script> 
<script type="text/javascript">
    google.load("jquery", "1");
</script>

<script type="text/javascript"> 

$(function() {

    // We check for a text selection when someone right-clicks
    $(document).bind('contextmenu', checkSelection);

    // We also check for a text selection if ctrl/command are pressed along w/certain keys
    $(document).keydown(function(ev) {

        // capture the event for a variety of browsers
        ev = ev || window.event;

        // catpure the keyCode for a variety of browsers
        kc = ev.keyCode || ev.which;

        // check to see that either ctrl or command are being pressed along w/any other keys
        if((ev.ctrlKey || ev.metaKey) && kc) {

            // these are the naughty keys in question. 'x', 'c', and 'c'
            // (some browsers return a key code, some return an ASCII value)
            if(kc == 99 || kc == 67 || kc == 88) {
                return checkSelection()
            }

        }

    });

})

// check to see if anything is currently highlighted by the visitor. If so, return false.
function checkSelection() {
    if (window.getSelection) { var userSelection = window.getSelection(); } 
    else if (document.selection) { var userSelection = document.selection.createRange(); }
    if(userSelection != '') return false;
} 
```

# geolocation - 如何在不嵌入 Google 地图的情况下使用 Geolocation 或类似 API 找到一个地方与另一个地方之间的距离？

> ID：11824387
> 
> 赞同：2
> 
> 时间：2012-08-06T07:51:15.323
> 
> 标签：geolocation, google-places-api

我有一个旅游地点列表，我愿意编写一个服务，可以告诉我哪个旅游地点离我最近，然后是第二近的，同样不使用地图。我该怎么做。这个想法是我有一个城市中所有旅游地点及其纬度/经度的数据库，我可能在城市的任何地方，想找到离我最近的旅游景点和第二近的旅游景点，这样我可能会根据我有多少时间计划去拜访他们。我尝试了这个并找到了谷歌地图 api，但我不想显示相同的地图。或者给用户地图来搜索东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:54:06.837

你不需要谷歌地图。

1.  [通过geolocation API](https://developer.mozilla.org/en-US/docs/Using_geolocation)获取用户的位置。
2.  [在点列表上进行映射，使用大圆距离](http://en.wikipedia.org/wiki/Great-circle_distance)算法计算出的用户与点之间的距离来扩充您的对象。
3.  通过距离对列表进行排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T13:33:44.947

如果您不打算显示地图，那么您就不能使用 Google Maps API（这违反了他们的 TOS）。

如果您想从没有 Google Maps 或类似地址的地址获取纬度/经度（因为类似的服务具有类似的 TOS），那么您将需要寻找[LiveAddress API 之](https://smartystreets.com/products/apis/us-street-api)类的东西（显然我应该透露我的工作在[SmartyStreets](https://smartystreets.com)）

此示例适用于美国地址。国际地址需要不同的 API。

像 US Street Address API 这样的 API 不需要您显示地图、返回地理坐标，并且会在返回有效负载时验证地址的有效性。

这是一个[Javascript 示例](https://smartystreets.com/archive/jquery-plugin/website)。

```
 <script type="text/javascript" src="liveaddress.min.js"></script>
    <script type="text/javascript">
    LiveAddress.init(123456789); // API key

    // Make sure you declare or obtain the starting or ending lat/lon somewhere.
    // This example only does one of the points.

    LiveAddress.geocode(addr, function(geo) {
        var lat2 = geo.lat, lon2 = geo.lon;

        // Distance calculation from: http://stackoverflow.com/questions/27928/how-do-i-calculate-distance-between-two-latitude-longitude-points
        var R = 6371; // Radius of the earth in km
        var dLat = (lat2-lat1).toRad();  // Javascript functions in radians
        var dLon = (lon2-lon1).toRad(); 
        var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(lat1.toRad()) * Math.cos(lat2.toRad()) * 
                Math.sin(dLon/2) * Math.sin(dLon/2); 
        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
        var d = R * c; // Distance in km
    });
    </script> 
```

# qt - Qt SDK 问题

> ID：11824393
> 
> 赞同：0
> 
> 时间：2012-08-06T07:51:52.547
> 
> 标签：qt, compiler-errors

我在 Windows 7 上使用 Qt 并赢得了几个月的 XP 并且仍然是新用户。

我经常在构建 Qt 项目时遇到问题，我在源代码中进行了一些更改，即 *.cpp,.. 并单击 build 或 build/rebuild all，但似乎没有任何更新。该项目仍然使用非常古老的源代码进行编译和构建。

我试图单击清理所有项目并再次重建所有项目。但有时有效，有时无效

我遇到什么样的问题？

编辑01：我本来想做版本控制。那就是我复制整个项目文件夹或复制不同版本的几个源文件（我通常在 MS Visual Studio 中执行此操作）。但是，在 Qt SDK 中，这似乎不起作用，即具有更新代码的新复制项目的行为仍与原始项目相同

编辑 02：我的编译输出。这一次，我尝试了“clean project”和“clean all”，然后“rebuild all”，但还是不行

![在此处输入图像描述](../Images/8fa2728d883b385d3f224abad4c4c0d0.png)

编辑03：这是这个问题的新线索，我刚刚从编译输出中发现了奇怪的东西：

![在此处输入图像描述](../Images/039a62b770e00819ea9166e9602737fc.png)

该目录是编译和运行项目的地方。但是，当前在 Qt SDK 中打开的项目不是来自此目录，而是：

**...** \Projects\Qt\GUI_from_code_v30**...**

这意味着当我复制整个项目以创建新版本时，编译器/项目文件/..（我不确定）中的配置没有更新，因此仍然指向旧文件夹和源代码。

那么，我现在能做些什么来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T08:37:35.310

首先，开始使用版本控制。您应该在安装编译器后立即进行该设置。花 30 分钟学习 Git 的基础知识将节省你复制文件和试图弄清楚你正在编辑哪些文件的时间。

其次，QtCreater 创建一个文件夹来完成它的一些工作，以查找您认为正在使用 -build-desktop 名称的文件夹下面的文件夹。您的所有副本都有可能，Qt 正在为每个副本复制到同一个文件夹中。

第三，三重检查您实际更新的文件，我们都对我们认为是其他内容的内容进行了快速编辑。版本控制解决了这个问题，因为它提供了审计跟踪。

我个人的偏好是使用命令行来编译和签入，它授予更多控制权并让您了解幕后发生的事情。希望你能从中学习。

# c - 使用 MPI_Scan 实现简单的前缀求和

> ID：11824408
> 
> 赞同：0
> 
> 时间：2012-08-06T07:52:56.487
> 
> 标签：c, parallel-processing, mpi

我打算在这个夏天掌握 MPI。我开始阅读 Peter Pacheco 的“An Introduction to Parallel Programming”，并解决了它的练习。在其中一个 MPI 练习中，他要求使用 MPI_Scan 实现简单的前缀求和，但我无法使用 MPI_Scan 实现它。我通过使用 MPI_Scatter 和 MPI_Gather 找到了解决方案。请帮我找到 MPI_Scan 的答案。

```
// declaring array and result
// generating random array
MPI_Bcast( &array, n, MPI_FLOAT, 0, MPI_COMM_WORLD);
MPI_Barrier(MPI_COMM_WORLD);
MPI_Scan(array, result, n, MPI_FLOAT, MPI_SUM, MPI_COMM_WORLD); 
```

我希望*结果*中有前缀总和，但由于某种原因它不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T09:23:03.067

您绝对没有使用操作获得前缀总和*-*`MPI_PROD`您应该使用`MPI_SUM`操作。另请注意，`MPI_Scan`并在*元素*上`MPI_Reduce`工作，例如*`array`*

 *```
result[i] = array_0[i] op array_1[i] op array_2[i] op ... (i = 0,...,n-1) 
```

其中`array_0`是进程 0`array_1`中的数组，是进程 1 中的数组，依此类推；`op`是句柄指定的操作`MPI_Op`，例如`MPI_SUM`for `+`、`MPI_PROD`for`*`等。

如果您有一个包含与进程数一样多的元素的数组，那么您首先需要执行每个进程`MPI_Scatter`的元素长度，然后是. 对于更大的数组，请参阅[这个问题](https://stackoverflow.com/questions/10801154/gathering-results-of-mpi-scan)。`1``MPI_Scan`*

# php - 第 3 行的 MYSQL 语法错误

> ID：11824411
> 
> 赞同：0
> 
> 时间：2012-08-06T07:53:18.477
> 
> 标签：php, mysql

我第一次尝试将大量数据写入 MYSQL 数据库。我正在使用以下插入查询：

```
if ($_POST['SubmitSave'] ) {
   $connection = mysql_connect($host, $user, $pass);
if (!$connection)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db($db, $connection);

if ($_POST['SBI_CA001'] == NULL || $_POST['SBI_CA002'] == NULL || $_POST['SBI_CA003'] == NULL || $_POST['SBI_CA004'] == NULL || $_POST['SBI_CA004'] == NULL || $_POST['SBI_CA005'] == NULL || $_POST['SBI_CA006'] == NULL|| $_POST['SBI_CA007'] == NULL|| $_POST['SBI_CA008'] == NULL|| $_POST['SBI_CA009'] == NULL|| $_POST['SBI_CA010'] == NULL || $_POST['SBI_CA011'] == NULL|| $_POST['SBI_CA012'] == NULL|| $_POST['SBI_CA012'] == NULL|| $_POST['SBI_CA013'] == NULL || $_POST['SBI_CA014'] == NULL|| $_POST['SBI_CA015'] == NULL|| $_POST['SBI_CA016'] == NULL|| $_POST['SBI_CA017'] == NULL|| $_POST['SBI_CA018'] == NULL|| $_POST['SBI_CA019'] == NULL|| $_POST['SBI_CA020'] == NULL|| $_POST['SBI_CA021'] == NULL|| $_POST['SBI_CA022'] == NULL|| $_POST['SBI_CA023'] == NULL|| $_POST['SBI_CA024'] == NULL|| $_POST['SBI_CA025'] == NULL|| $_POST['SBI_CA026'] == NULL|| $_POST['SBI_CA027'] == NULL|| $_POST['SBI_CA028'] == NULL)
{
echo '<script type="text/javascript">'
   ,   'alert ( "Please Ensure All Questions have been marked before saving." );'
   , '</script>';   

}

else {
$sql="INSERT INTO Data_table (Product, Region, Area, BranchManager, BranchNum, SalesExec, DateofCall,TimeofCall,CallRef,CustName,CustDob,CustPostCode,Dept,QualityAnalyst,Tier,Score,Autofails,CA001Result,CA001Notes,CA001CustDet,CA002Result,CA002Notes,CA002CustDet,CA003Result,CA003Notes,CA003CustDet,CA004Result,CA004Notes,CA004CustDet,CA005Result,CA005Notes,CA005CustDet,CA006Result,CA006Notes,CA006CustDet,CA007Result,CA007Notes,CA007CustDet,CA008Result,CA008Notes,CA008CustDet,CA009Result,CA009Notes,CA009CustDet,CA010Result,CA010Notes,CA010CustDet,CA011Result,CA011Notes,CA011CustDet,CA012Result,CA012Notes,CA012CustDet,CA013Result,CA013Notes,CA013CustDet,CA014Result,CA014Notes,CA014CustDet,CA015Result,CA015Notes,CA015CustDet,CA016Result,CA016Notes,CA016CustDet,CA017Result,CA017Notes,CA017CustDet,CA018Result,CA018Notes,CA018CustDet,CA019Result,CA019Notes,CA019CustDet,CA020Result,CA020Notes,CA020CustDet,CA021Result,CA021Notes,CA021CustDet,CA022Result,CA022Notes,CA022CustDet,CA023Result,CA023Notes,CA023CustDet,CA024Result,CA024Notes,CA024CustDet,CA025Result,CA025Notes,CA025CustDet,CA026Result,CA026Notes,CA026CustDet,CA027Result,CA027Notes,CA027CustDet,CA028Result,CA028Notes,CA028CustDet)
VALUES
('$_POST[Product]','$_POST[Region]','$_POST[Area]','$_POST[BranchManager]','$_POST[BranchNum]','$_POST[SalesExecs]','$_POST[DateOfCall]','$_POST[TimeOfCall],'$_POST[CallRef],'$_POST[CustName],'$_POST[CustDoB],'$_POST[CustPostcode],'$_POST[SwintHunts],'$_POST[QualityAnalyst]',$_POST[Tier],'$_POST[Result_Score],'$_POST[Result_AutoFail],'$_POST[SBI_CA001],'$_POST[SBI_CA001_Text],'$_POST[SBI_CA001_CustDet],'$_POST[SBI_CA002],'$_POST[SBI_CA002_Text],'$_POST[SBI_CA002_CustDet],'$_POST[SBI_CA003],'$_POST[SBI_CA003_Text],'$_POST[SBI_CA003_CustDet],'$_POST[SBI_CA004],'$_POST[SBI_CA004_Text],'$_POST[SBI_CA004_CustDet],'$_POST[SBI_CA005],'$_POST[SBI_CA005_Text],'$_POST[SBI_CA005_CustDet],'$_POST[SBI_CA006],'$_POST[SBI_CA006_Text],'$_POST[SBI_CA006_CustDet],'$_POST[SBI_CA007],'$_POST[SBI_CA007_Text],'$_POST[SBI_CA007_CustDet],'$_POST[SBI_CA008],'$_POST[SBI_CA008_Text],'$_POST[SBI_CA008_CustDet],'$_POST[SBI_CA009],'$_POST[SBI_CA009_Text],'$_POST[SBI_CA009_CustDet],'$_POST[SBI_CA010],'$_POST[SBI_CA010_Text],'$_POST[SBI_CA010_CustDet],'$_POST[SBI_CA011],'$_POST[SBI_CA011_Text],'$_POST[SBI_CA011_CustDet],'$_POST[SBI_CA012],'$_POST[SBI_CA012_Text],'$_POST[SBI_CA012_CustDet],'$_POST[SBI_CA013],'$_POST[SBI_CA013_Text],'$_POST[SBI_CA013_CustDet],'$_POST[SBI_CA014],'$_POST[SBI_CA014_Text],'$_POST[SBI_CA014_CustDet],'$_POST[SBI_CA015],'$_POST[SBI_CA015_Text],'$_POST[SBI_CA015_CustDet],'$_POST[SBI_CA016],'$_POST[SBI_CA016_Text],'$_POST[SBI_CA016_CustDet],'$_POST[SBI_CA017],'$_POST[SBI_CA017_Text],'$_POST[SBI_CA017_CustDet],'$_POST[SBI_CA018],'$_POST[SBI_CA018_Text],'$_POST[SBI_CA018_CustDet],'$_POST[SBI_CA019],'$_POST[SBI_CA019_Text],'$_POST[SBI_CA019_CustDet],'$_POST[SBI_CA020],'$_POST[SBI_CA020_Text],'$_POST[SBI_CA020_CustDet],'$_POST[SBI_CA021],'$_POST[SBI_CA021_Text],'$_POST[SBI_CA021_CustDet],'$_POST[SBI_CA022],'$_POST[SBI_CA022_Text],'$_POST[SBI_CA022_CustDet],'$_POST[SBI_CA023],'$_POST[SBI_CA023_Text],'$_POST[SBI_CA023_CustDet],'$_POST[SBI_CA024],'$_POST[SBI_CA024_Text],'$_POST[SBI_CA024_CustDet],'$_POST[SBI_CA025],'$_POST[SBI_CA025_Text],'$_POST[SBI_CA025_CustDet],'$_POST[SBI_CA026],'$_POST[SBI_CA026_Text],'$_POST[SBI_CA026_CustDet],'$_POST[SBI_CA027],'$_POST[SBI_CA027_Text],'$_POST[SBI_CA027_CustDet],'$_POST[SBI_CA028],'$_POST[SBI_CA028_Text],'$_POST[SBI_CA028_CustDet])";

if (!mysql_query($sql,$connection))
  {
  die('Error: ' . mysql_error());
  } 
```

但是，它发出了一条消息，即我在第 3 行有语法错误。经过一些研究，似乎查询可能太长了？如果是这样，我该如何缩短它，或者是否可以将它分解成块并运行多个查询？

正如我第一次尝试这样做时所说，如果我遗漏了一些基本的东西，我深表歉意。

干杯!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:56:00.790

```
'$_POST[TimeOfCall],'$_POST[CallRef] 
```

应该

```
'$_POST[TimeOfCall]','$_POST[CallRef]',... 
```

从那里开始，你错过了结束语'

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:56:06.987

在您的插入语句中，之后

```
'$_POST[DateOfCall]', 
```

你忘了关闭你的简单报价

```
'$_POST[TimeOfCall] 
```

只需关闭您打开的简单引号即可。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:55:50.590

这是因为你必须在 php 中使用`"`和`.`这样的连接字符串：

```
$sql="INSERT INTO ...
VALUES ('".$_POST[Product]."','".$_POST[Region]."'....)" 
```

# c# - waveInOpen、waveInClose 释放资源的问题

> ID：11824415
> 
> 赞同：3
> 
> 时间：2012-08-06T07:53:41.517
> 
> 标签：c#, .net, compact-framework, windows-ce

我正在 WinCE 中的 .NET Compact 上运行一些 C# 软件，该软件位于手持设备的 TITAN 板上。有报告说保存.wav文件时出现间歇性错误，多次录制后设备有时无法录制，直到设备重新启动后才会再次录制。

我已经在开发工具包上复制了该错误，并且通过调试发现，在录制 .wav 文件时，正在使用 waveInOpen 和 waveInClose 方法（来自 coredll.dll）。但是，当问题发生时，waveInOpen 返回 MMSYSERROR.ALLOCATED，表明正在使用资源（误报）。永远不会在没有调用 waveInClose 的情况下调用 waveInOpen 来清除资源。

有谁知道这个 dll、硬件或强制资源释放以便重新开始录制的方法有任何问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T14:18:01.113

请注意，在使用 Windows CE 时，您不应该仅仅假设操作系统将是 100% 可靠的。OEM 必须创建驱动程序和 OAL 代码以使操作系统适应其硬件，并且在该过程中肯定会引入错误。

如果您 100% 确定您对 Open 和 Close 的调用是配对的，那么听起来很像音频驱动程序本身存在问题。我建议您尽可能创建最简单的重现应用程序，然后将其传递给原始设备制造商的支持团队，并让他们进行调查。

# objective-c - 导航栏objective-C后面uiTableView中的特定行

> ID：11824419
> 
> 赞同：1
> 
> 时间：2012-08-06T07:54:07.570
> 
> 标签：objective-c, ios, uitableview, storyboard

我想在导航栏后面的 tabaleview 中有一个固定的特定行，或者在 uitableView 的第一部分之前有一个固定的特定行，并在那里添加 3 个图像或按钮，如下图所示：

固定：我的意思是我不想滚动它！

我使用情节提要，一切都是以编程方式进行的。

请你帮帮我！我不知道我应该如何创建这一行。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T12:07:00.730

顶部的视图需要是一个单独的视图，所以我建议构建一个 UIViewController，顶部有一个 UIView（静态位），然后在它下面有一个 UiTableView。这会给你你想要的效果。

# asp.net - 未找到文件 - 但未指定文件

> ID：11824422
> 
> 赞同：0
> 
> 时间：2012-08-06T07:54:27.827
> 
> 标签：asp.net, .net, vb.net, custom-error-pages

> **可能重复：**
> [如何解决“文件不存在”异常？](https://stackoverflow.com/questions/3705057/how-to-solve-exception-file-does-not-exist)

我的 Asp.NET Web 应用程序抛出错误。错误的日期和时间似乎与加载页面的日期和时间不对应。

我正在使用自定义错误页面，但据我所知，这没有被显示。

这是 web.config 的 customErrors 部分：

```
 <customErrors mode="On" defaultRedirect="~/WebForms/ErrorPage.aspx">
      <error statusCode="404" redirect="~/WebForms/ErrorPageNotFound.aspx" />
   </customErrors> 
```

完整的错误和堆栈跟踪如下：

```
06/08/2012 01:15:25 - Error File does not exist.
   at System.Web.StaticFileHandler.GetFileInfo(String virtualPathWithPathInfo, String physicalPath, HttpResponse response)
   at System.Web.StaticFileHandler.ProcessRequestInternal(HttpContext context, String overrideVirtualPath)
   at System.Web.DefaultHttpHandler.BeginProcessRequest(HttpContext context, AsyncCallback callback, Object state)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) 
```

如您所见，它说文件不存在，但没有告诉我哪个文件。如果有人能对此有所了解并指出开始寻找的方向，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:36:37.043

正如我在评论中指出的，这是一个重复的问题。

该错误是由`favicon.ico`对我网站根目录中不存在的请求引起的。

我怀疑我的网站正在被搜索引擎蜘蛛等搜索引擎搜索，这就是错误发生在奇怪时间的原因。

更新：昨晚发生了另一件事，要求`robots.txt`

# linq - 如何在列表中查找对象的行号

> ID：11824425
> 
> 赞同：0
> 
> 时间：2012-08-06T07:54:43.727
> 
> 标签：linq, list, indexing, row

您好
ListClass[0] = (0,2)
ListClass[1] = (0,3)
ListClass[2] = (0,8)
ListClass[3] = (1,0)
ListClass[ 4] = (1,1)
ListClass[5] = (2,1)
ListClass[6] = (3,0)
ListClass[7] = (3,1)
ListClass[8] = (3,3)
ListClass[ 9] = (3,8)

```
public class ListClass
{
    public int rowIndex { get; set; }
    public int columnIndex { get; set; }
    public ListClass()
    {
    }
    public ListClass(int row, int column)
    {
        this.rowIndex = row;
        this.columnIndex = column;
    }
} 
```

请帮助我进行 Linq 查询，该查询可以从以下条件的列表中获取最高结果的 RowNumber。

ListClass.rowIndex >= 0 和 ListClass.columnIndex > 4

，即 根据给定的示例，结果必须为**2 。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:58:04.793

听起来你想使用[`List<T>.FindIndex`](http://msdn.microsoft.com/en-us/library/x1xzf2ca.aspx)：

```
int index = list.FindIndex(x => x.rowIndex >= 0 && x.columnIndex > 4); 
```

如果没有这样的值，这将返回 -1。

请注意，传统上的属性是 PascalCased，所以这些应该是`RowIndex`and `ColumnIndex`。

# ios - 在 Xcode 中的两个坐标之间绘制一条折线

> ID：11824426
> 
> 赞同：2
> 
> 时间：2012-08-06T07:54:45.293
> 
> 标签：ios, mapkit

我想在地图上的两个或多个给定坐标之间绘制一条折线（折线而不是路线）。想象一下，我在地图上有 2 个掉落的图钉，我需要从第一个掉落的图钉到第二个掉落的图钉画一条直线。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T08:11:44.013

在接口文件中

```
MKPolyline* _routeLine;
MKPolylineView* _routeLineView; 
```

在实施文件中

将所有坐标存储在

```
NSMutablrArray *routeLatitudes 
```

然后

```
MKMapPoint* pointArr = malloc(sizeof(CLLocationCoordinate2D) * [routeLatitudes count]); 
for(int idx = 0; idx < [routeLatitudes count]; idx++)
{
    CLLocationCoordinate2D workingCoordinate;       
    workingCoordinate.latitude=[[routeLatitudes objectAtIndex:idx] doubleValue];
    workingCoordinate.longitude=[[routeLongitudes objectAtIndex:idx] doubleValue];  
    MKMapPoint point = MKMapPointForCoordinate(workingCoordinate);
    pointArr[idx] = point;      
}   
// create the polyline based on the array of points. 
routeLine = [MKPolyline polylineWithPoints:pointArr count:[routeLatitudes count]];
[mapViewHome addOverlay:self.routeLine];
free(pointArr); 
```

和覆盖委托

```
- (MKOverlayView *)mapView:(MKMapView *)mapView viewForOverlay:(id <MKOverlay>)overlay
 {
       MKOverlayView* overlayView = nil;

   if(overlay == routeLine)
   {
        routeLineView = [[[MKPolylineView alloc] initWithPolyline:self.routeLine] autorelease];
        routeLineView.fillColor = [UIColor colorWithRed:0.945 green:0.027 blue:0.957  alpha:1];
        routeLineView.strokeColor = [UIColor colorWithRed:0.945 green:0.027 blue:0.957 alpha:1];
        routeLineView.lineWidth = 4;

        overlayView = routeLineView;
    }
    return overlayView;
 } 
```

希望这可以帮助

**编辑代码**

这是获取坐标 NsMutableArray 的代码。

调用这个函数

```
NSString * saddr = [NSString stringWithFormat:@"%f,%f",StartCoordinate.latitude, StartCoordinate.longitude];
NSString* daddr = [NSString stringWithFormat:@"%f,%f",EndCoordinate.latitude, EndCoordinate.longitude];
routeLatitudes=[[[self getDirectionRoutesFrom:[saddr copy] to:[daddr mutableCopy]] mutableCopy] retain]; 
```

函数定义

```
 -(NSMutableArray *)getDirectionRoutesFrom:(NSString *)saddr1 to:(NSString *)daddr
{
NSString* apiUrlStr = [NSString stringWithFormat:@"http://maps.google.com/maps?output=dragdir&saddr=%@&daddr=%@", saddr1, daddr];
NSURL* apiUrl = [NSURL URLWithString:apiUrlStr];    
//NSString *apiResponse = [NSString stringWithContentsOfURL:apiUrl];
NSString *apiResponse = [NSString stringWithContentsOfURL:apiUrl encoding:NSUTF8StringEncoding   error:nil];
NSString* encodedPoints = [apiResponse stringByMatching:@"points:\\\"([^\\\"]*)\\\"" capture:1L];
//NSMutableArray *temparr=[[MapViewController decodePolyLine:[encodedPoints mutableCopy]] retain];
return [[self decodePolyLine:[encodedPoints mutableCopy]] retain];
//return temparr;
} 
```

和

```
 -(NSMutableArray *)decodePolyLine: (NSMutableString *)encoded {
[encoded replaceOccurrencesOfString:@"\\\\" withString:@"\\"
                            options:NSLiteralSearch
                              range:NSMakeRange(0,     [encoded length])];
NSInteger len = [encoded length];
NSInteger index = 0;
NSMutableArray *array = [[[NSMutableArray alloc] init] autorelease];
NSInteger lat=0;
NSInteger lng=0;
while (index < len) {
    NSInteger b;
    NSInteger shift = 0;
    NSInteger result = 0;
    do {
        b = [encoded characterAtIndex:index++] - 63;
        result |= (b & 0x1f) << shift;
        shift += 5;
    } while (b >= 0x20);
    NSInteger dlat = ((result & 1) ? ~(result >> 1) : (result >> 1));
    lat += dlat;
    shift = 0;
    result = 0;
    do {
        b = [encoded characterAtIndex:index++] - 63;
        result |= (b & 0x1f) << shift;
        shift += 5;
    } while (b >= 0x20);
    NSInteger dlng = ((result & 1) ? ~(result >> 1) : (result >> 1));
    lng += dlng;
    NSNumber *latitude = [[[NSNumber alloc] initWithFloat:lat * 1e-5] autorelease];
    NSNumber *longitude = [[[NSNumber alloc] initWithFloat:lng * 1e-5] autorelease];
    printf("[%f,", [latitude doubleValue]);
    printf("%f]", [longitude doubleValue]);
    CLLocation *loc = [[[CLLocation alloc] initWithLatitude:[latitude floatValue] longitude:[longitude floatValue]] autorelease];
    [array addObject:loc];
}

return array;
 } 
```

在您的文件中包含 RegexKitLite.h。

# git - 有没有办法确定现有 git repo 中的行尾？

> ID：11824428
> 
> 赞同：33
> 
> 时间：2012-08-06T07:54:49.247
> 
> 标签：git, core.autocrlf

有没有办法确定现有 git 存储库中的行尾？

如果我克隆现有存储库，如何确定创建者使用了什么 core.autocrlf？

我仍然不确定 core.autocrlf 的最佳设置是什么，例如在 windows 框中（因为有多种意见： [Distributing git configuration with the code](https://stackoverflow.com/questions/2333424/distributing-git-configuration-with-the-code/2354278#2354278)或[https://help.github.com/articles/dealing-with-line-结局](https://help.github.com/articles/dealing-with-line-endings)）

**奖励问题：**您能否在 Windows（使用标准工具）上确定回购是否在所有提交中具有混合行结尾（通过错误的 core.autocrlf 设置）？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-08-06T09:21:50.563

要检查存储库中实际提交的行尾（无论您的`core.autocrlf`设置如何），请尝试以下操作：

```
git grep -I --files-with-matches --perl-regexp '\r' HEAD 
```

（`-I`意味着不应查看二进制文件。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-06T08:28:59.013

> 有没有办法确定现有 git 存储库中的行尾？

我在“[`git status`即使内容相同也显示文件已更改](https://stackoverflow.com/a/35204436/6309)”中提到，这[`git ls-files --eol`](https://git-scm.com/docs/git-ls-files#Documentation/git-ls-files.txt---eol)是一个好方法。(Git 2.8+)

> 让 Git 在索引和工作树中显示行尾以及有效的 text/eol 属性成为可能。
> 
> 行尾（“eolinfo”）如下所示：
> 
> ```
> "-text"        binary (or with bare CR) file
> "none"         text file without any EOL
> "lf"           text file with LF
> "crlf"         text file with CRLF
> "mixed"        text file with mixed line endings. 
> ```

例子：

```
i/none   w/none   attr/text=auto      t/t5100/empty
i/-text  w/-text  attr/-text          t/test-binary-2.png
i/lf     w/lf     attr/text eol=lf    t/t5100/rfc2047-info-0007
i/lf     w/crlf   attr/text eol=crlf  doit.bat
i/mixed  w/mixed  attr/               locale/XX.po 
```

* * *

话虽如此：

正如我在您提到[的“使用代码分发 git 配置](https://stackoverflow.com/questions/2333424/distributing-git-configuration-with-the-code/2354278#2354278)”中解释的那样，我仍然会将该设置 ( `core.autocrlf`)保持为 ，并使用[gitattributes 指令](http://git-scm.com/docs/gitattributes#_checking-out_and_checking-in)进行更细粒度的控制。`false`[`eol`](http://git-scm.com/docs/gitattributes#_checking-out_and_checking-in)

话虽如此，要检测混合行结尾：

*   设置`core.autocrlf`为`true`
*   `git clone`你的回购
*   `git diff`: 如果在你的克隆之后差异是可见的......一些自动 eol 转换刚刚发生在工作树中。

2016 年更新（4 年后）：[一种更现代的检测 eol 变化的方法](https://stackoverflow.com/a/11509629/6309)：

```
 git -c color.diff.whitespace="red reverse" diff -R -- afile 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-12-22T10:11:34.650

最好的行尾做法在这里：[https ://stackoverflow.com/a/10855862](https://stackoverflow.com/a/10855862)

要确定现有 git 存储库中的行尾：

1.  设置`core.autocrlf`为`false`，因此在传输文件时不会更改文件结尾。
2.  `git clone`你的回购协议。在新目录中。
3.  使用显示行尾的文本编辑器打开文件（例如 PHPStorm）。您应该打开多个文件，因为文件之间的行尾可能不同。

您无法确定创建者使用了什么 core.autocrlf，因为它是本地配置，除非 repo 有 .gitattributes 文件。

在 Windows 上，如果您不使用 .gitattributes，只需使用默认设置的 core.autocrlf true 即可。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-05-27T16:39:45.860

> 有没有办法确定现有 git 存储库中的行尾？

```
git ls-files --eol

# for a given file:
git -c color.diff.whitespace="red reverse" diff -R -- afile 
```

* * *

在 Windows 中，只需从命令提示符运行以下命令：

```
git config --list 
```

这将列出所有 git 配置变量。

如果您想获取单独的配置设置（例如 core.autocrlf），请在 windows 命令提示符下运行以下命令：

```
git config --get core.autocrlf 
```

这会给你一个“ `true`”或“ `false`”值。

如果您想更改此设置，请编辑`C:\ProgramData\Git\config`文件并将值从更改`false`为`true`

注意：这仅适用于 Windows 操作系统。

# c# - 如何将值从富文本框传递到另一个富文本框

> ID：11824432
> 
> 赞同：2
> 
> 时间：2012-08-06T07:55:07.267
> 
> 标签：c#, wpf

我正在使用 WPF (C#) 我有两个富文本框，我想在第一个富文本框中键入并按 Enter，它将显示在第二个富文本框中。

请帮我写代码。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:03:15.453

设置事件richtextbox1 KeyDown

```
private void richTextBox1_KeyDown(object sender, KeyEventArgs e)
            {
                if (e.KeyCode == Keys.Enter)
                {
                    richTextBox2.Text = richTextBox1.Text;
                }
            } 
```

尝试这个 ：）

```
private void richTextBox1_KeyUp(object sender, KeyEventArgs e)
        {
            if (e.Key != System.Windows.Input.Key.Enter) return;

            var textRange = new TextRange(richTextBox1.Document.ContentStart, richTextBox1.Document.ContentEnd);
            string rtf;
            using (var memoryStream = new MemoryStream())
            {
                textRange.Save(memoryStream, DataFormats.Rtf);
                rtf = ASCIIEncoding.Default.GetString(memoryStream.ToArray());
            }

            MemoryStream stream = new MemoryStream(ASCIIEncoding.Default.GetBytes(rtf));
            richTextBox2.SelectAll();
            richTextBox2.Selection.Load(stream, DataFormats.Rtf);
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:03:57.280

在输入键上并设置其他文本框文本属性

```
private void richTextBox1_KeyDown(object sender, KeyEventArgs e)
{
    if (e.KeyCode == Keys.Enter)
    {
        richTextBox2.Text = richTextBox1.Text;
    }
} 
```

# iphone - 对具有键的 NsmutableArray 进行排序

> ID：11824433
> 
> 赞同：0
> 
> 时间：2012-08-06T07:55:12.173
> 
> 标签：iphone, objective-c, ios5

我有一个包含两个对象的数组，每个对象有 31 个键。我以表格视图的字母顺序显示@“FirstName”。现在我的问题是如何根据@“FirstName”排列其他键。我希望数组按名字排序。

下面是来自我正在加载到`NSMutableArray`.

```
(NSMutableArray *) $2 = 0x002afa40 <__NSArrayM 0x2afa40>
{
    AtQRid = "Hiiiiiiiii\n";
    City = HKJH;
    Company = BMBJ;
    Email = HJKHJKH;
    EmailStatus = KJHK;
    EventID = HJBJHGH;
    FBStatus = KJHK;
    FirstName = JHGHGJKBN;
    FollowUPDate = HJHKJ;
    FollowUPTypeID = KH;
    ImageURL = VGHV;
    LastName = MBN;
    LeadID = H;
    LinkedinStatus = HKH;
    Notes = JKHKH;
    PhoneNo = HJK;
    Rating = KJNK;
    ReminderStatus = KJHK;
    SalesForceStatus = KJHK;
    State = HJHKH;
    SurveyQAnswer1 = KJ;
    SurveyQAnswer2 = HKH;
    SurveyQAnswer3 = KJ;
    SurveyQAnswer4 = HK;
    SurveyQuestion1 = KHK;
    SurveyQuestion2 = JHK;
    SurveyQuestion3 = HH;
    SurveyQuestion4 = KJ;
    SyncStatus = HKJKH;
    TwitterStatus = KHJK;
    UserID = KJBNMN;
},
{
    AtQRid = "byeeeeeeeeeeeeeeeeeee\n";
    City = hyd;
    Company = GlobalNest;
    Email = "abhi_norules@yahoo.com";
    EmailStatus = hahahahah;
    EventID = 7689;
    FBStatus = "hey guys";
    FirstName = Abhishek;
    FollowUPDate = 3849934;
    FollowUPTypeID = kjsndjkvndsk;
    ImageURL = "www.image.com";
    LastName = Naidu;
    LeadID = 123456789;
    LinkedinStatus = "good looking ";
    Notes = "fksd jsdk skdj sdkjks dksjd dmndsn dksndskjkdj gkdjk jdkjdsk sdjksjsdn msd sdnsdnksdjksdjksd sdkn dsmsdnm sd";
    PhoneNo = 84377847549;
    Rating = 5star;
    ReminderStatus = kjsdjsdf;
    SalesForceStatus = "i donno";
    State = ap;
    SurveyQAnswer1 = jshdsdjfh;
    SurveyQAnswer2 = kjshfjkhf;
    SurveyQAnswer3 = kjsdjsdnn;
    SurveyQAnswer4 = kjnsjdvnds;
    SurveyQuestion1 = jsdkfds;
    SurveyQuestion2 = "kjnsdv,";
    SurveyQuestion3 = kjskdvk;
    SurveyQuestion4 = jskd;
    SyncStatus = jnsdnmsdm;
    TwitterStatus = "hey hi";
    UserID = 3456;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:02:46.793

```
NSSortDescriptor *descriptor = [NSSortDescriptor 
   sortDescriptorWithKey:@"FirstName" ascending:YES];
NSArray *sortedArray = [originalArray sortedArrayUsingDescriptors:
   [NSArray arrayWithObject:descriptor]]; 
```

# scala - Scala 应用程序日志中的“未捕获异常”

> ID：11824435
> 
> 赞同：1
> 
> 时间：2012-08-06T07:55:18.077
> 
> 标签：scala, exception-handling, actor

在我的`Scala`服务器日志中，我注意到一些错误：

```
出口。未捕获的异常。消息 = ...，发件人 = ...
java.lang.OutOfMemoryError：Java 堆空间
...
```

我猜`Scala`如果在某些参与者代码中发生异常，则打印出此错误，参与者不会捕获异常并退出。这是对的吗？

这里到底发生了什么？演员库是否`Scala`添加了自己的库异常处理程序来捕获未捕获的异常并打印此消息？

# c# - 如何清除 TreeView 中选定节点的选择？

> ID：11824443
> 
> 赞同：8
> 
> 时间：2012-08-06T07:55:44.473
> 
> 标签：c#, winforms

如何取消选择选定的节点（在选择事件之后）？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-06T08:03:19.287

当你遇到这样的问题时（处理*你需要使用什么api*）你应该咨询MSDN然后弄清楚。

现在，请参阅 msdn 上的[TreeView](http://msdn.microsoft.com/en-us/library/sc9ba94b)页面。它有一个[Selectednode](http://msdn.microsoft.com/en-us/library/system.windows.forms.treeview.selectednode)属性，它说：

> 如果当前未选择任何 TreeNode，则 SelectedNode 属性为空。

此外，它有一个*getter*和*setter*。所以我最好的选择是：

```
myTreeView.SelectedNode = null;//will deselect it 
```

# java - 没有明显原因的 Java 构建错误

> ID：11824444
> 
> 赞同：0
> 
> 时间：2012-08-06T07:55:48.757
> 
> 标签：java, ant

我正在做一个已经持续了几个月的项目。
编译时突然出现错误：

```
Note: Some input files use unchecked or unsafe operations
Note: Recompile with -Xlint:unchecked for details. 
```

添加 -Xlint 后，上述消息消失，但我们得到的唯一错误是：

```
[javac] 1 error 
```

然而，有大约 45 个警告。他们中的大多数不是新的。
是不是有一些我错过的新警告导致编译失败？

编辑：我忘了提到该项目在 Eclipse 上正确构建。
每周一次，我们使用 ant 为服务器构建一个版本。
我只是想知道是否有办法查明问题，否则我想我将不得不审查最后 30 次提交或通过警告修复警告。

编辑 2：问题已修复。我不确定它到底是什么，但我怀疑使用外部编辑器编辑我的 module.gwt.xml 可能会猜错文件编码，插入了一些编码错误的不可见字符，这反过来又导致编译器给出一个错误 w/oa 正确的描述。（也许我不知道）

那么我应该从中吸取什么教训呢？处理所有警告？（不确定这总是可能的。）
使用詹金斯？（正如@Jayan 建议的那样）项目经理永远不会批准在我公司的此类事情上投入时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:05:15.840

当您使用现在采用 Generic 参数的已弃用版本的类时，通常会出现此错误。例如，在 Java 6 和更早的版本中，`JList`将所有内容都视为对象，由程序员来正确转换所有内容。在 Java 7 中，`JList`is now `JList<E>`，参数是列表中包含的 Objects 的类型。`JList`（没有泛型）仍然可以工作，但您会遇到与您遇到的错误类似的错误。

编辑：顺便说一下，这些操作被认为是不安全的原因是，没有泛型，类型不能在编译时进行比较，必须在运行时进行检查。

# .htaccess - 高级 .htaccess URL 重定向/重写规则

> ID：11824448
> 
> 赞同：1
> 
> 时间：2012-08-06T07:55:58.887
> 
> 标签：.htaccess, url, redirect

我对 .htaccess 文件和编辑不是很有经验，你们能帮我吗？

我需要重定向所有以

```
mydomain.com/shop/category/EXAMPLE-CATEGORY-NAME 
```

对此：

```
mydomain.com/shop-products/EXAMPLE-CATEGORY-NAME 
```

例如，如果我将规则设置为`'www.blahblah.com'`，那么它应该重定向`http://www.blahblah.com/shop/category/thisisanexample/`

到

`http://www.blahblah.com/shop-products/thisisanexample/`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:59:27.197

尝试将其放入文档根目录的 htaccess 文件中：

```
RedirectMatch 301 ^/shop/category/(.*)$ /shop-products/$1 
```

或使用 mod_rewrite：

```
RewriteEngine On
RewriteRule ^/?shop/category/(.*)$ /shop-products/$1 [L,R=301] 
```

如果您不希望重定向浏览器（即更改浏览器地址栏中的 URL），请`R=301`从括号中删除标志，使其只是`[L]`，然后`http://www.blahblah.com/shop/category/thisisanexample/`将使其使浏览器的地址栏保持不变但获得内容在`/shop-products/thisisanexample/`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:01:23.097

```
RewriteRule ^/shop-products/(.*)$ /shop/category/$1 [L,QSA] 
```

# postgresql - 如何在 postgresql 中创建函数？

> ID：11824460
> 
> 赞同：0
> 
> 时间：2012-08-06T07:56:48.220
> 
> 标签：postgresql

我有两张桌子：

```
CREATE TABLE filedata_temp
(
 num serial NOT NULL,
 id integer,
 mydata character(25),
 the_geom geometry,
 CONSTRAINT filedata_pkey PRIMARY KEY (num)
)

CREATE TABLE filedata
(
 num serial NOT NULL,
 id integer,
 mydata character(25),
 the_geom geometry,
 CONSTRAINT filedata_temp_pkey PRIMARY KEY (num)
) 
```

如果第二个表中不存在此行，我想创建从第一个表中插入行到第二个表中的函数。比较表的字段是`num`字段。

阅读一些示例后：

```
 CREATE OR REPLACE FUNCTION  insert_into_wgs()
  RETURNS void AS
  $BODY$
  BEGIN
insert into filedata 
(
    id,
    mydata,
    the_geom,

)
values
(
    id,
    mydata,
    ST_TRANSFORM(the_geom,4326)
);
 end
 $BODY$
 LANGUAGE 'plpgsql' 
```

所以我需要一些帮助/

**更新**

我试试这个功能（数据库之神告诉我）

```
CREATE OR REPLACE FUNCTION  insert_into_wgs()
RETURNS void AS
$$
BEGIN
 INSERT INTO filedata (id,mydata,the_geom)  
 SELECT id,mydata,ST_TRANSFORM(the_geom,4326)
 FROM filedata_temp
 WHERE id NOT IN (SELECT id FROM filedata);
end;
$$
LANGUAGE 'plpgsql' 
```

但是没有插入表文件数据。

函数调用

```
 ce_proc = DriverManager.getConnection("jdbc:postgresql://localhost:5432/postgis","postgres","123456");
  CallableStatement proc = (CallableStatement) ce_proc.prepareCall("{call insert_into_wgs()}");
  proc.execute(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:55:58.313

您可以使用`INSERT ... SELECT`语法将数据从一个表推送到另一个表中：

```
INSERT INTO filedata (...) SELECT ... FROM filedata_temp WHERE NOT EXISTS 
(
    SELECT 1 FROM filedata WHERE filedata.num = filedata_temp.num
) 
```

当然，`WHERE NOT EXISTS`零件只是检查差异的一种方法。加入餐桌是另一回事。哪个是最好的取决于您的实际数据。

**其他说明**：两张表都有`num serial`。但是将数据从一个表推到另一个表中，这意味着两个`SERIAL`s 都在互相争斗。`int`您应该在第二张表中明确说明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:18:47.223

手册中最相关的部分是[39.9。触发程序](http://www.postgresql.org/docs/current/interactive/plpgsql-trigger.html)。那里的示例，尤其是 *示例 39-4。用于审计的 PL/pgSQL 触发器过程*可能是比当前代码更好的起点。

# xquery - xquery-如何在包含一些纯文本的 div 中选择整个文本以及 p 标签+链接/图像中的其他文本

> ID：11824466
> 
> 赞同：0
> 
> 时间：2012-08-06T07:57:20.770
> 
> 标签：xquery

下面给出了一些与网页中的 div 对应的 HTML 代码——

```
<div id="1">
    Text #1
    <p> Text #2 </p>
   <img src="test.jpg" />
    Text #3
    <a href="http://google.com"> Text #4 </a>
    <a href="http://www.bing.com"><img src="bing.jpg" /> </a>
    Text #5
</div> 
```

检索文本的 Xquery 表达式是什么

```
Text #1 Text #2 Text #3 Text #4 Text #5 
```

从上面的表达式？链接/图像在主 div 中出现的顺序可能不同，我只想提取该 div 中的文本...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:14:04.260

尝试

```
/data() 
```

并根据需要更改路径步骤（此处：仅根）。`data()`递归返回标签内的所有内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T12:54:25.140

或者，可以使用：

```
string(/) 
```

# hadoop - 如何从映射器或减速器中获取 Hadoop 任务跟踪器信息

> ID：11824467
> 
> 赞同：0
> 
> 时间：2012-08-06T07:57:29.443
> 
> 标签：hadoop, mapreduce, task-tracking

您的 Mapper 和 Reducer 类始终在特定的任务跟踪器上运行。但是我如何获得关于任务跟踪器的信息？唯一传入该`setup`方法的是TaskInputOutputContext。您可以获得任务尝试 ID，但如何将其映射到 TaskTracker 对象？（例如，获取主机名、相应的作业跟踪器等。是的，我知道您可以通过主机名获取主机名，`java.net.InetAddress.getLocalHost().getHostName()`但这完全在 Hadoop 之外。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T14:50:01.473

您可以随时访问 MapReduce web-ui 并查看所有这些信息..只需单击您要分析的作业，然后您就可以查看各个 map 和 reduce 任务的几乎所有内容。

# android - 基于 TitaniumSDK 的 Android 移动应用程序可以使用 android 4 的本机小部件吗

> ID：11824473
> 
> 赞同：0
> 
> 时间：2012-08-06T07:58:20.757
> 
> 标签：android, mobile, titanium

我正在使用 Titanium SDK 开发一个移动应用程序，并在我自己的基于 Android2.2 的手机上进行了所有 UI 测试。除了小 UI 的巨大 apk 大小外，该应用程序看起来很**原生**。然后我想看看它在基于 Android 4 的手机上会是什么样子（使用模拟器），并且惊讶地发现 UIhe 看起来并不像原生 Android4 应用程序。

我从**Phonegap 迁移**到**Titanium**，尤其是原生小部件，并期望框架使用小部件以及它们安装在部署应用程序的设备上的版本。

我错过了什么吗？Titanium SDK 似乎以***API 8 级***为目标（我想这是在设置 Android 开发环境时的要求）。或者这更像是一个 Android 问题，强制针对***API***级别 X 的应用程序看起来像***API 级别 X***应用程序？

任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T19:31:36.620

在正常的 android 开发中，目标 API 级别负责使 UI 在每个 API 级别上看起来都是原生的。

如果您可以更改钛中的 API 级别，我认为 UI 将更改为您想要的。

# ruby-on-rails - Rails - Heroku 到 AWS

> ID：11824479
> 
> 赞同：5
> 
> 时间：2012-08-06T07:58:51.943
> 
> 标签：ruby-on-rails, heroku, amazon-web-services

我目前正在将 Heroku 用于我的 rails 应用程序。但出于可扩展性的原因，我计划迁移到 AWS。谁能指导一下从 Heroku 迁移到 AWS 有多容易？

我看到几篇文章： [http](http://aws.amazon.com/articles/Ruby/8621639827664165) ://aws.amazon.com/articles/Ruby/8621639827664165 https://github.com/wr0ngway/rubber/wiki

但不确定哪种方法是最好的方法，特别是在我决定迁移到 aws 之前，我已经写了很多迁移。

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:38:37.880

你的问题没有答案。这一切都取决于您的应用程序的体系结构和您正在使用的插件。

在 aws 上，您必须自己处理所有组件，例如数据库、缓存等，而 heroku 会为您设置它们。

如果您只是在谈论数据库迁移，那么我可以将您指向我写的关于从 heroku 中迁移应用程序的博客文章：http: [//blog.nofail.de/2011/06/migrating-an-existing-app- to-heroku-青瓷-雪松堆栈/](http://blog.nofail.de/2011/06/migrating-an-existing-app-to-heroku-celadon-cedar-stack/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-09-16T20:05:47.333

要将您的应用程序从 Heroku 部署到 AWS，没有简单的路径 - 特别是如果您必须迁移数据库。但真正令人眼前一亮的解决方案是[Qovery](https://www.qovery.com)。它是在您的 AWS 账户上运行的类似 Heroku 的平台。

他们还有一个关于[如何在 AWS 上部署 RAILS 应用程序的教程](https://hub.qovery.com/guides/tutorial/deploy-rails-with-postgresql/)

# vim - vim map 切换键制作 JSLint

> ID：11824480
> 
> 赞同：0
> 
> 时间：2012-08-06T07:58:52.583
> 
> 标签：vim

我已经安装了 nodejs 和 jslint 并在 ftplugin 目录中创建了 javascript.vim 文件。javascript.vim 包含以下几行：

```
setlocal makeprg=jslint\ %
setlocal errorformat=%f:%l:%c:%m

nmap <F5> :w<CR>:make<CR>:cw<CR><CR>:copen<CR> 
```

这将为 jslint 报告的错误打开快速修复窗口。现在我想在第一次 F5 运行时使用 F5 作为切换键，并在第二次 F5 关闭错误窗口时显示错误窗口。

我为此创建了以下代码

```
setlocal makeprg=jslint\ %
setlocal errorformat=%f:%l:%c:%m

let s:showMakeWnd = "0"
function! ToggleMake()
    echo "Make Wnd mode: " . s:showMakeWnd

    if s:showMakeWnd == "0"
        execute ":w<CR>:make<CR>:cw<CR>:copen<CR>"
    elseif
        execute ":cclose<CR>"
    endif

    let s:showMakeWnd = (s:showMakeWnd == "0" ? "1" : "0")
endfunction

nmap <F5> :call ToggleMake()<CR> 
```

但按 F5 后，我收到以下错误：

```
"<CR>:make<CR>:cw<CR>:copen<CR>"
Error detected while processing function ToggleMake:
line 10:
"<CR>:make<CR>:cw<CR>:copen<CR>" E212: Can't open file for writing 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:25:12.600

`execute`执行*Ex*命令。你只需要它来扩展你没有做的变量，所以

```
execute ":w<CR>:make<CR>:cw<CR>:copen<CR>" 
```

你应该写

```
w
make
cw
copen 
```

你想要的语法是`normal`命令

```
norm :w<CR>:make<CR>:cw<CR>:copen<CR> 
```

但它不必要地更脆弱（而且我不太确定这里的特殊字符；常见用法是`exe "norm something"`某些*东西*得到一些变量替换。

# windows - 在 Windows XP 上设置 Hudson 从站

> ID：11824486
> 
> 赞同：2
> 
> 时间：2012-08-06T07:59:08.570
> 
> 标签：windows, continuous-integration, hudson, master-slave

我在 Windows XP 机器上设置了 Hudson，并在其上运行了一些构建和测试。接下来，我想将构建在master上的程序安装在其他机器上，并在那里进行进一步的测试。在第二台 XP 机器上，我将 Hudson 安装为 Windows 服务。我在主设备上为从设备创建了一个节点，如[Hudson -- Step by step guide to setup master and slave machines](https://stackoverflow.com/questions/3294386/hudson-step-by-step-guide-to-set-up-master-and-slave-machines)中所述。我可以通过“http://master:8080/computer/slavenode1/”从从属节点到达该节点。根据描述，我单击“从从属设备上的浏览器启动代理”。Firefox 显示“打开方式”对话框，我选择“Java(TM) Web Start Launcher (Standard)”。Java 启动后，出现一个标题为“Hudson slave agent”的小窗口，主区域显示消息“Handshaking”，

```
java.land.Exception: The server rejected the connection: Unauthorized access
at hudson.remoting.Engine.onConnectionRejected(Engine.java:272)
at hudson.remoting.Engine.run(Engine.java:233) 
```

在一些文档中，我读到了一些关于客户端信任的主证书的内容。但没有关于如何做到这一点的更多信息，因此我无法检查。master 和 slave 的 Windows 防火墙均已关闭。

当 Hudson 不在从机上运行时，我可以为“无头从机”创建连接，并且我还更改了命令行

```
java -jar slave.jar -jnlpUrl http://localhost:8080/computer/slavenode1/slave-agent.jnlp 
to
java -jar slave.jar -jnlpUrl http://master:8080/computer/slavenode1/slave-agent.jnlp 
```

你有一些关于如何让事情运行的提示吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T12:42:04.487

最终我让它运行了：“slave-agent.jnlp”文件包含对“localhost”而不是“master”的引用。我下载了文件，在记事本中用“master”替换了所有对“localhost”的引用，保存了文件并从 Windows 资源管理器的上下文菜单中选择了“Launch”。瞧：在“握手”之后，状态变为“已连接”。可悲的是，哈德逊用户论坛已损坏，目前无法在此处创建新用户帐户...

# c# - 导入现有项目

> ID：11824487
> 
> 赞同：0
> 
> 时间：2012-08-06T07:59:19.257
> 
> 标签：c#, .net, wpf

我正在尝试[将此 ListView 项目](http://www.codeproject.com/Articles/27600/Developing-an-Autofilter-ListView)添加到我自己的项目中。如果我添加它然后使用“设置为启动项目”，它工作正常。如果我使用我当前的项目并尝试通过我的使用打开它的主窗口：

```
 private void button4_Click(object sender, RoutedEventArgs e)
    {
        var newWindow = new ScottLogic.Window1();
        newWindow.Show();
    } 
```

我收到此错误：

```
PresentationFramework.dll 中出现“System.Windows.Markup.XamlParseException”类型的第一次机会异常

附加信息：“‘ScottLogic.Controls.FilterableListView’的初始化引发了异常。” 行号“159”和行位置“18”。

```

我已经在引用中添加了该项目，我在这里做错了什么？

谢谢参观！

# .net - 通过 Datasets 和 Datatable 将 Oracle 数据库表中的数据复制到 SQl 服务器数据库

> ID：11824492
> 
> 赞同：1
> 
> 时间：2012-08-06T07:59:42.337
> 
> 标签：.net

我在 oracle 数据库中有一个表 hm_item，它有 10 列，我在 sql server 数据库中有一个同名的表。现在，当用户单击按钮时，我必须从 oracle 数据库中导入数据。这样做的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:11:19.023

无需使用`DataSet`；您应该能够使用 ADO.NET 命令 API，即使用您的两个连接：

```
using(var sqlServer = GetOpenSqlServerConnection()) // TODO
using(var oracle = GetOpenOracleConnection()) // TODO
using(var cmd = oracle.CreateCommand())
using(var bcp = new SqlBulkCopy(sqlServer))
{
    bcp.DestinationTableName = "TableName";
    cmd.CommandText = "select * from TableName";
    using(var reader = cmd.ExecuteReader())
    {
        bcp.WriteToServer(reader);
    }
} 
```

优点（超过`DataSet`）：

*   无需一次将所有数据保存在内存中；非常适合大桌子
*   无需等待加载所有数据即可开始写入
*   双向的高性能原始数据（没有每行/每批命令 - 只是“这里的数据：等等等等”）

# html - “我可以使用”标签的“for”属性功能

> ID：11824494
> 
> 赞同：0
> 
> 时间：2012-08-06T08:00:01.263
> 
> 标签：html

谷歌搜索无济于事，我想知道是否有人知道一个列表（类似于那些表明浏览器支持标签属性的[caniuse](http://caniuse.com)？`for``label`

特别是允许用户单击标签并勾选相关输入（例如复选框）的功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:04:53.610

多年来一直提供出色的支持。太好了，这样的清单是不必要的。

即使支持不可用，控件本身仍然是可单击的，因此不会造成很大损失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:05:20.773

就这样放吧。

```
<label><input type="radio" name="..">Choice 1</label> 
```

当您单击标签时，它将选中单选/复选框

# javascript - 显示和隐藏 's with javascript on mouseenter/leave

> ID：11824495
> 
> 赞同：0
> 
> 时间：2012-08-06T08:00:09.573
> 
> 标签：javascript, html, css

我在使用非常简单的 javascript 时遇到了麻烦。当鼠标悬停或离开菜单时，它应该在我的网站上显示和隐藏下拉菜单。

问题是我的脚本是由我的菜单的 ul 标签触发的，我的下拉菜单中有几个 UL。当我将鼠标悬停在菜单上时，它会正确显示，但是当我将鼠标向下移动到嵌套的 UL 之一时，由于脚本，它会再次隐藏下拉菜单。

不知道如何解决这个问题：S

这是我的菜单：

```
<div class="menu" id="menu">
        <ul>
            <li><a href="#">Forside</a></li>
            <li><a href="#">Service</a>
                <ul>
                    <li class="menusektion1">
                        <h1>Vores arbejde</h1>
                        <ul>
                            <li><a href="">projekt</a></li>
                            <li><a href="">projekt2</a></li>
                            <li><a href="">projekt3</a></li>
                            <li><a href="">projekt4</a></li>
                        </ul>
                    </li>
                    <li class="menusektion2">
                        <h1>Menupunkt2</h1>
                        <ul>
                            <li><a href="">Title</a></li>
                            <li><a href="">Title2</a></li>
                            <li><a href="">Title3</a></li>
                            <li><a href="">Title4s</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><a href="#">Projekter</a></li>
            <li><a href="#">Referencer</a></li>
            <li><a href="#">Kontakt</a></li>
        </ul>    
    </div> 
```

这是我的 javascript：

```
 $(document).ready(function(){   
  $('#menu ul > li')
    .mouseenter(function(){
      $(this).find('ul').show();
    })
    .mouseleave(function(){
      $(this).find('ul').hide();
    }); 
}); 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:09:40.693

我了解您想将 ul 标签隐藏在悬停的 li 标签内。您的语法几乎是正确的。问题是，我认为，您正在将事件侦听器添加到菜单中的所有 li 标签。试试这个 ：

```
$('#menu > ul > li').mouseenter(function(){}); 
```

这样第一级 ul 中的 ul 和 li 标签会受到很大影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:02:20.527

'Find' 用于遍历目标的子元素，所以基本上你是在 li 内部寻找任何 ul（因此它不会找到它的父 ul）。`parent()`如果这适合您的树，请尝试使用`closest('ul')`

# nagios - 如何将 Nagios 集成到 .net 项目中？

> ID：11824498
> 
> 赞同：0
> 
> 时间：2012-08-06T08:00:16.977
> 
> 标签：nagios

如何将 Nagios 集成到 .net 项目中？我是 Nagios 的新手。有人可以指导我逐步将 Nagios 集成到 .net 项目中吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-20T10:43:00.227

一种方法是使用 Nagios 插件 NDOUTILS，它将 nagios 监控的数据插入 MYSQL 数据库，您可以从 mysql 生成报告。

# sql - 内连接三张表

> ID：11824501
> 
> 赞同：72
> 
> 时间：2012-08-06T08:00:29.837
> 
> 标签：sql, sql-server

我有三个表，我希望通过它们之间的公共列进行内部连接。

说我的桌子是；

```
TableA TableB TableC 
```

我希望加入`A-B`，但也`B-C`都由这个我称之为共同的共同领域。

我已经加入了两个这样的表；

```
dbo.tableA AS A INNER JOIN dbo.TableB AS B
ON A.common = B.common 
```

如何添加第三个？

* * *

## 回答 #1

> 赞同：134
> 
> 时间：2012-08-06T08:02:04.113

```
select *
from
    tableA a
        inner join
    tableB b
        on a.common = b.common
        inner join 
    TableC c
        on b.common = c.common 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-08-06T08:03:37.247

只是做同样的事情，然后是 TableC

```
SELECT *
FROM dbo.tableA A 
INNER JOIN dbo.TableB B ON A.common = B.common
INNER JOIN dbo.TableC C ON A.common = C.common 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-08-06T08:03:24.777

```
dbo.tableA AS A INNER JOIN dbo.TableB AS B
ON A.common = B.common INNER JOIN TableC C
ON B.common = C.common 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2012-08-06T08:05:54.143

试试下面的代码

```
select * from TableA A 
inner join TableB B on A.Column=B.Column 
inner join TableC C on A.Column=C.Column 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-04-21T06:01:26.680

试试这个：

```
SELECT * FROM TableA
JOIN TableB ON TableA.primary_key = TableB.foreign_key 
JOIN TableB ON TableB.foreign_key = TableC.foreign_key 
```

# unicode - Unicode：代码点 127 以上的英文字符

> ID：11824503
> 
> 赞同：4
> 
> 时间：2012-08-06T08:00:31.523
> 
> 标签：unicode, character-encoding

我在我的公司做一个关于 Unicode 和编码的技术演讲，我试图说明[字符串总是被编码](http://www.joelonsoftware.com/articles/Unicode.html)的，开发人员永远不应该粗心地假设一切都是 0-127 ASCII。

我有很多由错误编码文本引起的问题示例，但我没有找到任何简单英文文本的示例，其中的数字编码高于 Unicode[代码点](http://en.wikipedia.org/wiki/Code_point)127。

基本英文字母在 Unicode 中映射到与普通旧 ASCII 相同的数值：范围`A-Z`映射到`[65-90]`（或`[0x41-0x5a]`十六进制），并`[a-z]`映射到`[97-122]`(hex `[0x61-0x7a]`)。

**英文字母是否出现在代码表的其他地方？**我不是指[回旋字母或其他拉丁变体](http://en.wikipedia.org/wiki/C1_Controls_and_Latin-1_Supplement)，只是简单的英文字母。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T11:31:26.477

CJK 字符通常在所有字体中都是等宽的，因为这就是这些语言的编写方式。

但是，当混合 CJK 和英文字符时，您会遇到一个问题：ASCII 字符通常没有 CJK 字符的宽度。这意味着如果您使用 ASCII，您将失去等宽属性 - 这可能并不总是可取的。

为此，可以使用全宽字符（U+FF00-FFEE、[维基百科](http://en.wikipedia.org/wiki/Halfwidth_and_fullwidth_forms)、[Unicode 代码表](http://www.unicode.org/charts/PDF/UFF00.pdf)）来代替“常规”字符。它们具有与单个 CJK 字符具有相同宽度的特性。

但是请注意，全角字符实际上从未在 CJK 上下文之外使用，即使在那些上下文中，也经常使用纯 ASCII，当等宽被认为不重要时。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T08:25:42.867

许多标点和符号的代码点值高于 U+007F：

> *   “你好。”</li>
> *   他得到了一个完整的 64 支蜡笔 Crayola 盒子——包括金蜡笔和银蜡笔——并且不让我看。
> *   x≠y

上面的例子使用：

*   U+201C 和 U+201D — 智能报价
*   U+2014 — 破折号
*   U+2260 — 不等于

有关更多信息，请参阅[Unicode 图表](http://unicode.org/charts/)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T08:13:37.617

好吧，如果你的意思是`a-z`然后`A-Z`没有，那么没有超过 127 的英文字符。但是像 等这样的词`fiancé`有时`resumé`在英语中的拼写是这样的，并且使用高于 127 的代码点。

然后是127以上的各种标点符号、货币符号等。不确定这算不算简单的英文文本。

# xcode - iPhone 的 UIButton 动画

> ID：11824507
> 
> 赞同：-1
> 
> 时间：2012-08-06T08:00:40.853
> 
> 标签：xcode, uianimation

我是 xcode 的新手，但我一直在寻找解决方案，我尝试了许多不同的方法，但都没有奏效。 **我正在尝试通过`UIButton`向其添加动画来翻转到背面。这将在程序加载时发生，因此用户可以坐下来观看一大堆按钮一遍又一遍地翻转。**

我遇到的问题是动画似乎发生在屏幕甚至加载之前，因为我可以在程序加载后立即看到不同的视图（以显示按钮已翻转），但我看不到动画正在发生。

**我做了什么：**

我创建了一个主视图控制器，在控制器内部我有不同的子视图，在这些子视图中，我有`UIButtons`. 我试图为我的动画添加延迟，但它仍然无法修复它。我不知道是否会出现问题，因为我创建了子视图和按钮，然后在下面**`- (void)viewDidLoad.`** 进行动画处理在子视图之间翻转，但我仍然遇到同样的问题。动画仍然在屏幕加载之前发生，而不是在程序运行期间发生。

我将我所做的部分代码附加到这个代码上。

```
CGRect button20subviewFrame = CGRectMake(242, 370, 70, 83);
UIView *button20subview = [[UIView alloc] initWithFrame:button20subviewFrame];
UIButton *button20 = [UIButton buttonWithType:UIButtonTypeCustom];
[button20 addTarget:self action:@selector(switchToDetailView:) forControlEvents:UIControlEventTouchDown];
[button20 setTitle:@"Button20" forState:UIControlStateNormal];
button20.frame = CGRectMake(0 , 0 , 70 , 83);
UIImage *button20Image = [UIImage imageNamed:@"t1.png"];
[button20 setImage:button20Image forState:UIControlStateNormal];
[button20subview addSubview:button20];
[self.view addSubview:button20subview];

UIButton *button21 = [UIButton buttonWithType:UIButtonTypeRoundedRect];
[button21 addTarget:self action:@selector(switchToDetailView:) forControlEvents:UIControlEventTouchDown];
button21.frame = CGRectMake(0, 0, 70, 83);
UIImage *button21Image = [UIImage imageNamed:@"t2.png"];
[button21 setImage:button21Image forState:UIControlStateNormal];

//animation part
[UIView animateWithDuration:3 delay:2 options:UIViewAnimationTransitionFlipFromLeft animations:^{
    [button20 removeFromSuperview];
    [button20subview addSubview:button21];
}completion:^(BOOL finished){

}]; 
```

任何帮助表示赞赏。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:42:10.873

`viewDidLoad`是问题所在。它在视图完成加载时被调用，也就是在它被放到屏幕上之前。`viewDidAppear`应该做你正在寻找的东西。

除此之外，您可能需要调用`[button20 removeFromSuperview]`动画完成处理程序，以确保在动画仍在播放时不会移除按钮的前部。

前任：

```
[UIView animateWithDuration:3 delay:2 options:UIViewAnimationTransitionFlipFromLeft animations:^{
    [button20subview addSubview:button21];
}completion:^(BOOL finished){
     if(finished){
         [button20 removeFromSuperview];
     }
}]; 
```

# eclipse - Eclipse indigo 3.7 Pleiades 界面语言

> ID：11824508
> 
> 赞同：0
> 
> 时间：2012-08-06T08:00:41.590
> 
> 标签：eclipse, locale

我希望我的 Eclipse 有英文用户界面，我该怎么办？

我试过[这个](https://stackoverflow.com/questions/5220837/how-to-choose-the-eclipse-interface-language)和[这个](https://stackoverflow.com/questions/1770598/how-to-force-eclipse-to-use-a-specified-interface-language)，它没有用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-21T04:55:19.213

我试过了，它奏效了（只需翻译页面的说明）

[译者](http://makotojun.blog52.fc2.com/blog-entry-5.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:10:25.153

eclipse.ini 应包含以下行：

-Duser.language=en_US

从这里： [如何强制 eclipse 使用指定的界面语言？](https://stackoverflow.com/questions/1770598/how-to-force-eclipse-to-use-a-specified-interface-language)

在这里：[如何在eclipse中更改显示语言](https://stackoverflow.com/questions/9492839/how-to-change-the-display-language-in-eclipse)

# ruby-on-rails-3 - 具有复杂模型的嵌套表单无法创建子级

> ID：11824515
> 
> 赞同：0
> 
> 时间：2012-08-06T08:01:07.637
> 
> 标签：ruby-on-rails-3, nested-attributes

我有一个复杂的模型关联：

```
class Company < ActiveRecord::Base
  has_many :roles, :dependent => :destroy
  has_many :users, :through => :roles
end

class Role < ActiveRecord::Base

  belongs_to :user
  belongs_to :company
  attr_accessor :roles_attributes
  attr_accessible :roles_attributes, :active, :company_id, :role 
  validates_presence_of :company_id, :role
  validates_uniqueness_of :user_id, :scope => :company_id, :message => "Users may only have one role per company."
end

class User < ActiveRecord::Base
  has_many :roles, :dependent => :destroy
  accepts_nested_attributes_for :roles, :allow_destroy => true 
  has_many :companies, :through => :roles
end 
```

这里的意图是单个用户（电子邮件地址）可以在不同的公司下登录，每个公司具有不同的权限（角色）。

我有用户嵌套在公司下，我的更新控制器工作正常，但现在我似乎无法让新/创建控制器工作：

控制器：

```
 def new
    @user = User.new
    @role = @user.roles.build.company_id = session[:company_id]

    respond_to do |format|
      format.html # new.html.erb
      format.json { render json: @user }
    end
  end

  def create

    @user = User.new(params[:user])

    respond_to do |format|
      if @user.save
        format.html { redirect_to @user, notice: 'User was successfully created.' }
        format.json { render json: @user, status: :created, location: @user }
      else
        format.html { render action: "new" }
        format.json { render json: @user.errors, status: :unprocessable_entity }
      end
    end
  end 
```

和视图：

```
<%= simple_nested_form_for [:company, @user] do |f| %>
  <fieldset>
    <div class="form-horizontal">

    <%= f.input :email %>
    <%= f.input :name_first %>
    <%= f.input :name_last %>
    <%= f.input :title %>
    <%= f.input :phone %>
    <%= f.input :mobile %>

    <%= f.simple_fields_for :roles, @role do |role_form| %>
        <%= role_form.hidden_field :company_id %>
        <%= role_form.input :active %>
        <%= role_form.input :role, :collection => [ "Guest", "User", "Inspector", "Owner"] %></td>
    <% end %>
    <%= f.input :notes, :input_html => { :rows => 5, :cols => 70 } %>
    <div class="form-actions">
      <%= f.submit nil, :class => 'btn btn-primary' %>
      <%= link_to 'Cancel', company_users_path, :class => 'btn' %>
    </div>
  </fieldset>
<% end %> 
```

当我提交表单时，它会默默地失败，除了我在日志中注意到“roles_attributes”被传递为：

```
"roles_attributes"=>{"0"=>{"company_id"=>"2", "active"=>"1", "role"=>"Inspector"}} 
```

我认为应该是：

```
"roles_attributes"=>[{"company_id"=>"2", "active"=>"1", "role"=>"Inspector"}] 
```

我一定遗漏了一些明显的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T06:04:31.210

原来是`has_secure_password`。我删除了密码字段，验证失败。

# php - 显示来自文本区域的随机项目

> ID：11824518
> 
> 赞同：0
> 
> 时间：2012-08-06T08:01:12.473
> 
> 标签：php, wordpress

我有一个文本区域，我试图从中显示一个随机项目。随机项目是指它已被一条线分隔。

我已经尝试过了，但它显示了所有项目。

```
<?php

$test = array_map('trim', explode("\n",$setting_test_option['redirects']));
foreach($test as $result){

$rand_keys = array_rand($test);
echo $rand_keys;
}
?>
<textarea name="setting_test[redirects]" style="width: 100px; height: 200px;"><?php echo $settings_test_option['redirects'];?></textarea> 
```

# java - 按顺序从 Cassandra 检索结果

> ID：11824519
> 
> 赞同：1
> 
> 时间：2012-08-06T08:01:21.970
> 
> 标签：java, cassandra, hector, cassandra-0.7

我已将数据存储在 Cassandra 数据库的 ComparatorType.BYTESTYPE 中。现在我想按存储顺序检索数据。

我在 Hector 中使用了以下代码来获取数据，但是查询结果似乎没有排序。

```
Keyspace keyspace = HFactory.createKeyspace("ClusterName", cluster);

Map<String, String> resultMap = new HashMap<String, String>();

SliceQuery<String, String, String> query = HFactory.createSliceQuery(keyspace,   StringSerializer.get(), StringSerializer.get(), StringSerializer.get());
query.setColumnFamily("ColumnFamilyName").setKey("RowKey")
.setRange("", "", false, Integer.MAX_VALUE);
QueryResult<ColumnSlice<String, String>> result = query.execute();

for (HColumn<String, String> column : result.get().getColumns()) {
        resultMap.put(column.getName(), column.getValue());
} 
```

我错过了什么？我必须使用 RangeSliceQueries 和 OrderedRows 吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T16:09:04.967

It all depends on the comparator you have set for the column names. If it is BytesType (cassandra's default) as well, then it won't be the order you expect.

if you want alphabetical order you should define your table with something like that in the cassandra-cli:

create column family ColumnFamilyName with comparator = UTF8Type;

or you are still in time maybe to do

update column family ColumnFamilyName with comparator = UTF8Type;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-12T10:40:13.673

谢谢你的回答。

但是我通过将集合更改为 LinkedHashMap 而不是 HashMap 来解决它。正如我注意到的

```
 result.get().getColumns() 
```

按顺序给出结果，但由于 HasMap 不保留插入顺序，因此结果是无序的。因此，当您将 HashMap 更改为 LinkedHashMap 时，上述代码可以正常工作。

```
 Map<String, String> resultMap = new LinkedHashMap<String, String>(); 
```

# extjs - ExtJs 分组条件

> ID：11824523
> 
> 赞同：2
> 
> 时间：2012-08-06T08:01:31.397
> 
> 标签：extjs, grid, conditional-statements, expand, collapse

下面的代码采用一个数据存储，该数据存储旨在将 Windows 注册表项保存在平面视图中（我不想要树视图）。

键的列用于分组，一旦展开键，就可以查看该键下的所有值。这些值根据获取（外部）的评分进行着色，评分存储在“结果”字段中。

## 我的问题

我希望只有在其所有值的分数都大于 0.0 时才折叠键，否则必须展开键。

我如何/在哪里实现对组进行迭代并决定是否折叠/展开的逻辑？

谢谢！

```
Ext.onReady (function () {
var store = Ext.create('Ext.data.Store', {
    storeId:'registryStore',
    // model
    fields:['result', 'key', 'type','value','data'],
    // enable grouping for the data Store
    groupField: 'key',
    // the data itself in JSON format
    data: {'regkeys':[.....data...]},
    // define the JSON data type
    proxy: {
        type: 'memory',
        reader: {
            type: 'json',
            root: 'regkeys'
        }
    }
});

// grouping
var grouping = Ext.create('Ext.grid.feature.Grouping',{
    startCollapsed: true,
});

var regPanel = Ext.create('Ext.grid.Panel', {
    title: 'Registry',
    renderTo: Ext.getBody(),
    // link to grouping object
    features: [grouping],
    store: Ext.data.StoreManager.lookup('registryStore'),
    // model
    columns: [
        { header: 'Result', dataIndex: 'result'},
        { header: 'Type', dataIndex: 'type' },
        { header: 'Value', dataIndex: 'value', width:250,felx:1},
        { header: 'Data', dataIndex: 'data', flex:1}
    ],
    // color's each row according to score
    viewConfig: {
        getRowClass: function(record, rowIndex, rowParams, store) {
            if (record.get("result") == 0.0) { //  orange background
                return 'row-unknown';
            }
            else if (record.get("result") < 0.0) { // red background
                return 'row-bad';
            }
            return 'row-good'; // green background
        }
    }, 
    // collapse/expand all botton
    tbar: [{
                text: 'collapse all',
                handler: function (btn) {        
                    grouping.collapseAll();
                }
            },{
                text: 'expand all',
                handler: function (btn) {        
                    grouping.expandAll();
                }
            }],
    }); //Ext.create
}); //Ext.onReady 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T10:36:10.213

我找到了答案，这很 hackish，因为 ExtJS 不能在网格渲染它们之前编辑分组状态，因此我们需要在网格处理它之后进行渲染。我在 Ext.Grid.Panel 的代码中添加了以下代码：

```
 listeners: {
     'afterrender' : function(grid) {
       setTimeout(function(){
        var groups = store.getGroups();
        var gLen = groups.length;
        for (i = 0; i < gLen; i++) {
          // expand the group if at least one childs result <= 0.0
          for (j = 0; j < groups[i].children.length; j++ ){
            if (groups[i].children[j].data["result"] <= 0.0) {
              //console.log(groups[i].name);
              grouping.expand(groups[i].name, false);
              break; // no need to continue checking.
            }
          }
        }
       });
      }
    },//listeners 
```

希望有帮助..

# java - 我需要关闭连接吗

> ID：11824524
> 
> 赞同：1
> 
> 时间：2012-08-06T08:01:32.677
> 
> 标签：java, spring

无论是`JdbcDaoSupport#getConnection()`新的连接还是只是从池中获取连接？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:12:54.887

它返回一个新的[文档](http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/jdbc/core/support/JdbcDaoSupport.html#getConnection%28%29)状态，考虑使用连接池，看看[这里](http://commons.apache.org/dbcp/apidocs/org/apache/commons/dbcp/PoolableConnection.html)

另一个相关[线程](http://forum.springsource.org/showthread.php?16853-Close-connection-when-using-JDBCDAOSupport-MappingSqlQuery)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:12:15.213

您应该调用[releaseConnection()](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jdbc/core/support/JdbcDaoSupport.html#releaseConnection%28java.sql.Connection%29)，如果需要，它会在里面关闭连接。

# mysql - sql Group by 和 max() 没有得到正确的结果

> ID：11824525
> 
> 赞同：-1
> 
> 时间：2012-08-06T08:01:34.487
> 
> 标签：mysql, sql, group-by, max

我有下表

```
mes_id | user_a | user_b | message | room | time
------------------------------------------------------   
1      | 23     | 24     | hello   | 1    | 5676766767 
```

`user_a`发送`message`了`user_b`一个`room` `1`

我想获取每个房间特定用户（例如 user_b）收到的所有最后消息，我尝试了几个查询，但没有得到正确的查询。

这个解决方案对我不起作用：[sql_group_by_max](https://stackoverflow.com/questions/1299556/sql-group-by-max)

更新

我正在使用 5.5.18 MySQL 服务器

好的

这给了我结果谢谢

```
SELECT * 
FROM messeges C
JOIN (
       SELECT room, user_a, MAX( messeges.date ) AS max_time
       FROM messeges
       GROUP BY room, user_a
      )a 
ON a.room = c.room

AND a.user_a = c.user_a
AND a.max_time = c.date

WHERE c.user_b =  '396' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:12:49.550

尝试这个：

```
select * from chat C join 
(select  room,user_b,MAX([time]) as max_time
from chat
group by room,user_b)a
on a.room=c.room
and a.user_b=c.user_b
and a.max_time=c.[time] 
```

如果你想要多行，（在 sql server 中）

```
with cte as (select *,ROW_NUMBER () 
     over (partition by room,user_b order by [time] desc) as rownum from chat)
select * from cte order by rownum 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:18:39.143

尝试这个：

```
 Select *
FROM chat a
INNER JOIN ( Select  user_a, user_b , room ,MAX(time) as max_time
    FROM chat
    group by user_a, user_b , room) b on a.user_a=b.user_a and a.user_b=b.user_b and a.room=b.room 
```

# jruby - 在 Jruby 中使用 Monit 和 Puma

> ID：11824526
> 
> 赞同：2
> 
> 时间：2012-08-06T08:01:42.847
> 
> 标签：jruby, jrubyonrails, monit

我使用 Jruby 和 puma 作为 Web 服务器设置了 Rails 应用程序。Puma 不会自行守护进程，因此我将其包装在 bash 脚本中以处理生成 pid（如 Monit FAQ 中所述）。脚本如下：

```
#!/bin/bash
APP_ROOT="/home/user/public_html/app"
export RAILS_ENV=production
export JRUBY_OPTS="--1.9"
export PATH=/home/user/.rbenv/shims:/home/user/.rbenv/bin:$PATH
 case $1 in
    start)
       echo $$ > $APP_ROOT/puma.pid;
       cd $APP_ROOT;
       exec 2>&1 puma -b tcp://127.0.0.1:5000 1>/tmp/puma.out 
       ;;
     stop)  
       kill `cat $APP_ROOT/puma.pid` ;;
     *)  
       echo "usage: puma {start|stop}" ;;
 esac
 exit 0 
```

这可以从命令行工作，即使我在运行以下命令以模拟 monit shell 后执行它也可以工作：

```
env -i PATH=/bin:/usr/bin:/sbin:/usr/sbin /bin/sh 
```

相关的监控行如下：

```
check process puma with pidfile /home/user/public_html/app/puma.pid
start program = "/usr/bin/env PATH=/home/user/.rbenv/shims:/home/user/.rbenv/bin:$PATH /home/user/puma.sh start"
stop program = "/usr/bin/env PATH=/home/user/.rbenv/shims:/home/user/.rbenv/bin:$PATH /home/user/puma.sh stop" 
```

监控日志显示它不断尝试启动 puma，甚至可以重新生成新的 PID，但永远无法真正启动 puma。每次我尝试从其他所有上下文运行此脚本时，我都认为它有效 - 除了从 monit.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:21:21.747

阅读这篇文章后，我设法让它工作：[在 ubuntu 下运行延迟作业](https://stackoverflow.com/questions/7209943/running-delayed-job-under-monit-with-ubuntu)

出于某种原因，将我的 monitrc 更改为使用以下语法使其工作。我不知道为什么：

```
start program = "/bin/su - user -c '/usr/bin/env PATH=/home/user/.rbenv/shims:/home/user/.rbenv/bin:$PATH /home/user/puma.sh start'"
stop program = "/bin/su - user -c '/usr/bin/env PATH=/home/user/.rbenv/shims:/home/user/.rbenv/bin:$PATH /home/user/puma.sh stop'" 
```

# drupal - 安装平台后更改表的前缀

> ID：11824527
> 
> 赞同：2
> 
> 时间：2012-08-06T08:01:44.097
> 
> 标签：drupal, drupal-7

我正在开发一个新网站。我的一个朋友在我们的托管服务上配置了 Drupal 7，我们开始工作。不幸的是，他忘记在设置阶段为 Drupal 标准表添加前缀。

安装 Drupal 后是否可以更改此配置（为了不丢失安装后我们已经完成的工作）？

我可以通过SQL代码来做，但是我猜平台会这样崩溃，因为代码是根据初始设置生成的，对吧？

（PS：我对 Drupal 没有太多经验）。

谢谢！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-09-18T08:17:40.987

我有类似的问题，我发现在 phpmyadmin 中很容易做到这一点。我假设您的表前缀是“drupal_”，目标前缀是“new_”

```
step 1: login to phpmyadmin, chose your database;
step 2: under table list bottom , click "check all" checkbox;
step 3: select action "Replace table prefix";
step 4: Type "drupal_" into "From" and "new_" to "To", click "Go" 
```

您可以看到前缀已更改为 new_tablename enjoy :)

哦，别忘了更改你的 settings.php：

```
$databases['default']['default'] = array(
  'driver' => 'mysql',
  'database' => 'databasename',
  'username' => 'username',
  'password' => 'password',
  'host' => 'localhost',
  'prefix' => 'new_',  // <-- add your prefix here
); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T13:51:19.570

如果您通过 SQL 命令更改表名（添加前缀），您可以在站点`settings.php`文件中设置前缀。假设您只有一个站点，您的`settings.php`文件将在您的`sites/default/`目录中。

查找类似于以下内容的数据库配置并添加所需的前缀：

```
$databases['default']['default'] = array(
  'driver' => 'mysql',
  'database' => 'databasename',
  'username' => 'username',
  'password' => 'password',
  'host' => 'localhost',
  'prefix' => '',  // <-- add your prefix here
); 
```

# php - 很难使用 PHP 数组

> ID：11824530
> 
> 赞同：0
> 
> 时间：2012-08-06T08:02:01.927
> 
> 标签：php, arrays, file, upload, pdo

我正在尝试为我的网站制作一个文件上传脚本，但我不知道如何从我的数组中获取`name`和`size`值（我对数组不是很好）。

我可以让它与上传单个文件一起工作，但我怎样才能让它循环呢？

我需要将它上传到我的服务器，并且它还在数据库中创建了一个条目。

这是我的代码...

HTML：

```
<form method="post" action="" enctype="multipart/form-data">
  <textarea name="reply_message"></textarea>
  <input name="attachments[]" type="file" size="20">
  <input type="submit" name="ReplyForm" value="Send">
</form> 
```

PHP：

```
if(!empty($_POST['reply_message']))
{
    $reply_messages = $_POST['reply_message'];

    $database->query('INSERT INTO email_response (email_id, message) VALUES (?, ?)', array($email_id, $reply_message));

    if(isset($_FILES['attachments']))
    {
        require("upload.class.php");
        $upload = new upload();

        $last_email_response_id = $database->lastInsertId();
        $attachments = $_FILES['attachments'];

        foreach($attachments as $key => $value)
        {
            print_r($attachments);

            $database->query('INSERT INTO email_attachments (email_id, reply_id, file_name, created) VALUES (?, ?, ?, NOW())', array($email_id, $last_email_response_id, $attachments['name'][0]));

            $last_attachment_id = $database->lastInsertId();

            $upload->set('attachments', ATTACHMENTS.$reply_result->sender_email.'/'.$email_id.'/'.$last_attachment_id);

            $upload->upload();
        }
    }
} 
```

数组（上传两个文件）：

```
Array (
  [name] => Array (
    [0] => linkdownarrow.gif
    [1] => overlay-button.png
  )
  [type] => Array (
    [0] => image/gif
    [1] => image/png
  )
  [tmp_name] => Array (
    [0] => F:\xampp\tmp\phpFEC0.tmp
    [1] => F:\xampp\tmp\phpFEC1.tmp
  )
  [error] => Array (
    [0] => 0
    [1] => 0
  )
  [size] => Array (
    [0] => 63
    [1] => 135
  )
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:15:26.197

另一种方式：您可以重写 $_FILES 数组...

```
 $attachments = array();

    if(count($_FILES['attachments']) > 0)
    {
      for($i = 0; $i < count($_FILES['attachments']); $i++)
      {
        $attachments[] = array(
          'name' => $_FILES['attachments']['name'][$i],
          'size' => $_FILES['attachments']['size'][$i],
          'tmp_name' => $_FILES['attachments']['tmp_name'][$i],
          'type' => $_FILES['attachments']['type'][$i],
          'error' => $_FILES['attachments']['error'][$i],
        );
      }
    }

    print_r($attachments); 
```

输出将如下所示：

```
Array (
  [0] => Array (
    ['name'] => linkdownarrow.gif
    ['type'] => image/gif
    ['tmp_name'] => F:\xampp\tmp\phpFEC0.tmp
    ['error'] => 0
    ['size'] => 63
  )
  [1] => Array (
    ['name'] => overlay-button.png
    ['type'] => image/png
    ['tmp_name'] => F:\xampp\tmp\phpFEC1.tmp
    ['error'] => 0
    ['size'] => 135
  )
) 
```

现在你可以使用它了：

```
 foreach($attachments as $attachment)
    {
        $database->query('INSERT INTO email_attachments (email_id, reply_id, file_name, created) VALUES (?, ?, ?, NOW())', array($email_id, $last_email_response_id, $attachment['name']));
        $last_attachment_id = $database->lastInsertId();
        $upload->set('attachments', ATTACHMENTS.$reply_result->sender_email.'/'.$email_id.'/'.$last_attachment_id);
        $upload->upload();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:18:33.823

你可以试试这样的；

```
$img_types = array('image/jpeg', 'image/pjpeg');
$img_count = count($_FILES['attachments']['name']);
for($i = 0; $i < $img_count; $i++) {
    $tmp_name = $_FILES['attachments']['tmp_name'][$i];

    // forget empty file[] fields
    if($tmp_name == '') {
        continue;
    }

    // or more secure way to check allowed file types
    if(in_array($_FILES['attachments']['type'][$i], $img_types)) {
        // resize_images() etc...
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T09:31:09.670

我让它和这个一起工作....

```
$attachments = $_FILES['attachments'];
if(count($attachments['name']) > 0)
{
    for($i = 0; $i < count($attachments['name']); $i++)
    {
        $database->query('INSERT INTO email_attachments (email_id, reply_id, file_name, file_size, created) VALUES (?, ?, ?, ?, NOW())', array($email_id, $last_email_response_id, $attachments['name'][$i], $attachments['size'][$i]));

        $last_attachment_id = $database->lastInsertId();

        $upload->set('attachments', ATTACHMENTS.$reply_result->sender_email.DS.$email_id.DS.$last_attachment_id);
        $upload->upload();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T08:10:07.323

```
if(count($_FILES['attachments']) > 0) {
    for($i = 0; $i < count($_FILES['attachments']); $i++) {
        move_uploaded_file($_FILES['attachments']['tmp_name'][$i], 'new/path');
        echo 'The name of the file is' . $_FILES['attachments']['name'][$i];
    }
    // or
    foreach($_FILES['attachments'] as $attachment) {
        echo $attachment['name'];
    }
} 
```

# java - Runtime.getRuntime().exec(command); 虚拟硬盘不工作？

> ID：11824532
> 
> 赞同：0
> 
> 时间：2012-08-06T08:02:10.413
> 
> 标签：java, runtime.exec

我在下面做了：

```
subst A: "C\Desktop" 
```

现在从java代码：

```
String command= "java -jar A:\test.jar"
Process process = Runtime.getRuntime().exec(command); 
```

JVM似乎被挂在这里，从不执行这一行。当我通过`"java -jar C:\Desktop\test.jar".`它成功执行。

Runtime.getRuntime 不能解析虚拟硬盘吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:05:50.660

我假设您有`\\t`并且没有`\t`，并且您正在从错误流中读取，因此您可以看到任何错误。`\t`是制表符。

（MS-DOS`\`用作路径分隔符的乐趣；）

转储你得到的错误，你应该看到问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:18:13.103

java.lang.Process 的 Javadoc 说

> 父进程使用这些流向子进程提供输入并从子进程获取输出。由于部分原生平台只为标准输入输出流提供有限的缓冲区大小，未能及时写入子进程的输入流或读取输出流可能会导致子进程阻塞，甚至死锁。

这意味着您没有及时读取或写入导致相关进程中缓冲区溢出的数据。这可能是一个可能的问题。请阅读有关 javaworld的[文章，并考虑及时在单独的线程中实现读取和写入。](http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html)

# full-text-search - Lucene.net 和关系数据搜索

> ID：11824537
> 
> 赞同：0
> 
> 时间：2012-08-06T08:02:39.040
> 
> 标签：full-text-search, lucene.net

我有以下情况：

我有一个人的默认字段，例如：姓名，名字，电话，电子邮件，...

一个人有很多语言技能，语言技能实体有以下领域：语言、口语、写作、理解、母语

一个人有很多工作经验，字段包括：办公室、描述、期间、地点

我如何用 Lucene.net 索引这样的东西？

可以进行以下搜索：

```
 - FirstName:"Arno" AND LanguageSkill:(Language:"Dutch" AND Speaking:[3 TO 5])
 - FirstName:"Arno" AND WorkExperience:(Description:"Marketing")
 - FirstName:"Arno" AND WorkExperience:(Description:"Marketing" OR Description:"Sales")
 - FirstName:"Arno" AND WorkExperience:(Description:"Programmer") AND LanguageSkill:(Language:"English" AND Speaking:[3 TO 5] AND MotherTongue:"true") 
```

在 Lucene 中是否有可能发生这样的事情，我已经尝试在文档看起来像这样的地方扁平化我的关系：

```
Name:"Stallen"
FirstName:"Arno"
WorkExperience:"Office=Lidl Description=Sales Location=London"
WorkExperience:"Office=Abro Description=Programmer Location=London"
LanguageSkill:"Language=Dutch Speaking=3 Writing=1 Understanding=3"
LanguageSkill:"Language=Egnlish Speaking=5 Writing=4 Understanding=5 MotherTongue=true" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T13:59:13.937

我最终使用了包含父子文档的 Java 版本的 Lucene (3.6)。我使用 IKVM 从中生成 .net DLL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T20:25:24.337

**“如果你只有一把锤子，那么一切看起来都像钉子”**

您的要求更适合关系数据库。我会这样做，因为我没有看到任何与*自由文本搜索相关的内容*

但是，如果您必须使用 Lucene.Net，您应该将数据扁平化一点，例如

```
Name:"Stallen"
FirstName:"Arno"
WorkExperienceDescription:Sales
WorkExperienceLocation:London
LanguageSkillLanguage:Dutch
LanguageSkillLanguage:English 
```

当然，这会导致一些信息丢失，您将无法进行类似的搜索

> 名字：“Arno”和语言技能：（语言：“荷兰语”和口语：[3 到 5]）

`LanguageSkillLanguage`PS：您可以在单个文档中多次使用相同的字段名（例如， ）。

# c# - 根据选定的下拉值将值插入表中

> ID：11824541
> 
> 赞同：-4
> 
> 时间：2012-08-06T08:03:05.933
> 
> 标签：c#, asp.net

我有一个表单，其中有一个带有两个值的 ComboBox 控件。

一旦用户在列表中选择了一项，我需要显示一个与所选选项相对应的数据表。

```
if (DropDownList1.SelectedValue == 1) 
{ 
    // open a SqlCommand
    // read values 
    // fill table
}
else if (DropDownList1.SelectedValue == 2)     
{ 
     // etc 
```

问题是我只想在用户做出选择*后填写表格。*但是当表单被加载时，ComboBox 会自动选择第一个选项并且我的代码运行，填充表格。

我该如何防止这种情况发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:09:06.637

到目前为止你尝试了什么？

让表名来自 DropDown 没有问题，更多的是理解和设计应用程序的数据访问层。您的 WebForm 中是否有保存按钮，您是在后面的代码中动态编写 SQL 代码还是使用存储过程？

连接 SQL Server 并执行命令的起点一般类似于以下（如果你不使用 ORM 之类的实体框架）：

```
using (varconn = new SqlConnection(connectionString)) 
using (var cmd = conn.CreateCommand(...)))
{ 
    conn.Open();

    cmd.ExecuteNonQuery();
} 
```

如果您需要有关如何将 EF（或简单的 DAL 技术）与 ASP.NET（MVC 或 Web 窗体）一起使用的更多想法，请在此处查看我的答案：[https ://stackoverflow.com/a/7474357/559144](https://stackoverflow.com/a/7474357/559144)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:09:03.187

```
 DataSet ds = new DataSet();
        ds.Tables.Add(new DataTable("DataTableNo1"));
        ds.Tables.Add(new DataTable("DataTableNo2"));

        string dtname = comboBox1.Text;
        ds.Tables[dtname].Rows.Add(new DataRow()); 
```

# c++ - Python PIL Image.tostring('raw') 和 OpenCV 的 IplImage->imageData

> ID：11824542
> 
> 赞同：1
> 
> 时间：2012-08-06T08:03:11.990
> 
> 标签：c++, python, c, opencv, python-imaging-library

如文档中所述：

**IplImage.imageData（来自 OpenCV 库）：**

> 指向对齐图像数据的指针

**Image.tostring() （来自 Python PIL）：**

> 使用标准的“原始”编码器返回一个包含像素数据的字符串。

`Image.tostring()`和的结果有什么区别`IplImage.imageData`？`IplImage.imageData`如果我想获得与Python返回的数据完全相同的数据，我该怎么办？

**编辑：** 澄清一下，我需要使用 PIL 来加载图像，因为我有一个 python 服务来接收来自互联网的数据，并且在 OpenCV 中没有直接的方法来从内存而不是磁盘加载图像。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T10:57:28.390

在 opencv 中有一种直接从内存中读取图像的方法。

# 使用简历（版本 1）

```
import cv

# First get the compressed image data. This can be retrieved from
# a socket, a file, or whatever you want.
jpegdata = open('myimage.jpg','r').read()

# Create an opencv matrix to hold the compressed data
cvmat = cv.CreateMatHeader(1, len(jpegdata), cv.CV_8U)
cv.SetData(cvmat, jpegdata, len(jpegdata))

# Now let opencv decompress your image
cvimage = cv.DecodeImage(cvmat, cv.CV_LOAD_IMAGE_COLOR) 
```

# 使用 cv2（和 numpy）

```
import cv2
import numpy as np

# First get the compressed image data. This can be retrieved from
# a socket, a file, or whatever you want.    
jpegdata = open('myimage.jpg','r').read()

# Convert your compressed data to a numpy array
nparr = np.fromstring(jpegdata, np.uint8)

# Now use imdecode to decompress it
cvimage = cv2.imdecode(nparr, cv2.CV_LOAD_IMAGE_COLOR) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:12:21.813

在 Opencv 图像中，像素数据按 BGR 排序，而在 PIL 中则是 RGB。您可以将 PIL 图像数据转换为 opencv，如下所示。

```
import Image, cv
pi = Image.open('building.jpg')       # PIL image
cv_im = cv.CreateImageHeader(pi.size, cv.IPL_DEPTH_8U, 3)
cv.SetData(cv_im, pi.tostring()) 
```

在此处了解更多信息。

[http://opencv.willowgarage.com/documentation/python/cookbook.html](http://opencv.willowgarage.com/documentation/python/cookbook.html)

# domain-driven-design - DDD 适合各种应用吗？

> ID：11824548
> 
> 赞同：11
> 
> 时间：2012-08-06T08:03:48.710
> 
> 标签：domain-driven-design, ddd-repositories

对于这里和其他论坛提出的很多问题，我看到的一个常见反应是“你不需要为此做 DDD。它是一个简单的 CRUD 应用程序，DDD 是一种过度工程”。

好吧，我是 DDD 的新手，我觉得 DDD 中有很多元素具有普遍的吸引力，可以全面使用，无论您的应用程序是否复杂，都需要强制 DDD。例如，应用程序的分层、DDD 识别的不同工件等。可能从基础开始，公认的贫乏模型，然后朝着尽可能多的纯度工作/重构。

这种方法听起来不错吗？
或者您会说每个应用程序的设计都有一个基本选择，即是否采用 DDD 方式，一种“全有或全无”的选择？

**更新** *（提供更多上下文，以回应休在下面的评论）*
  我正在围绕现有的 RuleEngine 类型的应用程序构建一个 webapp，基本上是 CRUD 和一些验证、不变量，然后是部署过程。规则编写和语义检查是由我作为 CRUD 的一部分调用的独立代码完成的，并且在我的代码中没有任何特定于语义的逻辑。我正在尝试将 DDD 用于此应用程序，但我发现它可能不够复杂，无法适应 DDD 范例。没有为该领域定义普遍存在的语言，即除了命名所涉及的实体集之外，该语言还不够专业。我听到我的领域专家谈论创建、编辑、删除实体。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-07T13:48:20.060

DDD 不是全有或全无。此外，DDD 中描述的许多模式都不是新的，到处都可以找到。Eric Evans（DDD 书的作者）只是将它们组装起来，在需要的地方将它们形式化，并将它们相互关联。您可以自由使用适合您的问题空间的内容。

经常被忽视的：DDD 描述了实现模式和分析模式。分析模式在许多（如果不是大多数）应用程序中可能是多余的，但实现模式（即*实体*、*规范*、*服务*）在不太复杂的场景中也很有用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T13:41:11.640

In short,

**If it's just CRUD, I wouldn't bother.**

On the other hand,

**If it's got behavior, where the next state of something relies on the previous state, then DDD is something you probably want to consider.**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-24T12:24:15.877

DDD 方法基于两种类型的模式：战略模式和战术模式。恕我直言，在您确定会有所帮助的每种情况下都可以自由使用战术模式。但是对于某些类型的域来说，使用战略模式可能是多余的。如果 CRUD 风格的思维，在建模过程中没有负面影响，你肯定不需要它。

# c# - 强类型数据集未从存储过程中检索返回值

> ID：11824550
> 
> 赞同：2
> 
> 时间：2012-08-06T08:04:03.907
> 
> 标签：c#, stored-procedures, ado.net, strongly-typed-dataset

我有一个强类型数据集，它使用 DBDirectMethods 通过调用存储过程将数据插入数据库。存储过程返回新创建记录的主键。这是一个示例存储过程：

```
CREATE PROCEDURE dbo.CreateUser
(
    @UserName   VARCHAR(50)
    @Password   VARCHAR(50)
)
AS

SET NOCOUNT OFF

DECLARE @UserID INT

BEGIN TRANSACTION

INSERT INTO dbo.Users (UserName, Password) VALUES (@UserName, @Password)

SET @UserID = SCOPE_IDENTITY()

INSERT INTO dbo.Users_History (UserID, Status, TimeStamp) VALUES (@UserID, 'C', GETUTCDATE())

COMMIT TRANSACTION

RETURN @UserID

GO 
```

如果我从 SSMS 执行存储过程，则会创建用户帐户、更新历史记录表并返回主键。如果我使用强类型数据集运行我的应用程序并让 SQL Profiler 运行，我可以看到相同的代码正在执行；但是，数据集返回 -1 作为主键并破坏应用程序。

在 VS 生成的表适配器代码中，相关行是：

```
this._adapter.InsertCommand.CommandText = "dbo.CreateUser";
this._adapter.InsertCommand.CommandType = global::System.Data.CommandType.StoredProcedure;
this._adapter.InsertCommand.Parameters.Add(new global::System.Data.SqlClient.SqlParameter("@RETURN_VALUE", global::System.Data.SqlDbType.Int, 4, global::System.Data.ParameterDirection.ReturnValue, 10, 0, null, global::System.Data.DataRowVersion.Current, false, null, "", "", ""));
this._adapter.InsertCommand.Parameters.Add(new global::System.Data.SqlClient.SqlParameter("@UserName", global::System.Data.SqlDbType.VarChar, 50, global::System.Data.ParameterDirection.Input, 0, 0, "UserName", global::System.Data.DataRowVersion.Current, false, null, "", "", ""));
this._adapter.InsertCommand.Parameters.Add(new global::System.Data.SqlClient.SqlParameter("@Password", global::System.Data.SqlDbType.VarChar, 50, global::System.Data.ParameterDirection.Input, 0, 0, "Password", global::System.Data.DataRowVersion.Current, false, null, "", "", "")); 
```

和

```
try {
    int returnValue = this.Adapter.InsertCommand.ExecuteNonQuery();
    return returnValue;
}
finally {
    if ((previousConnectionState == global::System.Data.ConnectionState.Closed)) {
        this.Adapter.InsertCommand.Connection.Close();
    }
} 
```

这只是 VS 通常生成的标准样板代码 - 没有任何内容是手动编辑的。它只是没有获取返回值。

我正在运行带有 SQL 2008 R2 SP1 Express 的 Windows 7。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:11:11.643

从内存来看，这里的问题是[ExecuteNonQuery](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executenonquery.aspx) () 返回的值是受查询影响的行数。

相反，您的返回值应该可以通过以下方式访问：

```
InsertCommand.Parameters["@RETURN_VALUE"].Value; 
```

或者

```
InsertCommand.Parameters[0].Value; 
```

此外，您可以尝试将返回参数名称更改为`@UserID`而不是`@RETURN_VALUE`，但它应该仍然可以正常工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T00:18:09.457

看来，我需要返回整个新记录，而不是只返回 PK。通过将我的存储过程更改为以下内容：

```
CREATE PROCEDURE dbo.CreateUser
(
    @UserName   VARCHAR(50)
    @Password   VARCHAR(50)
)
AS

SET NOCOUNT OFF

DECLARE @UserID INT

BEGIN TRANSACTION

INSERT INTO dbo.Users (UserName, Password) VALUES (@UserName, @Password)

SET @UserID = SCOPE_IDENTITY()

INSERT INTO dbo.Users_History (UserID, Status, TimeStamp) VALUES (@UserID, 'C', GETUTCDATE())

COMMIT TRANSACTION

SELECT UserID, UserName, Password FROM dbo.Users WHERE UserID = @UserID

GO 
```

然后 ADO.NET 自动将返回的结果加载到数据集中，我可以从那里获取 UserID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-06T14:57:21.193

您需要将查询类型从 ExecuteNonQuery 更改为 ExecuteScalar 参见[http://blogs.msdn.com/b/smartclientdata/archive/2005/10/31/returnidentityvaluequery.aspx](http://blogs.msdn.com/b/smartclientdata/archive/2005/10/31/returnidentityvaluequery.aspx)

# java - GridBagLayout 如何确定容器的大小

> ID：11824552
> 
> 赞同：0
> 
> 时间：2012-08-06T08:04:06.997
> 
> 标签：java, swing, gridbaglayout

我正在使用带有 GridBagLayout 的 JDialog。由于这个布局会自动确定容器和组件的大小，所以我没有在任何东西上使用 setSize。但是，在绘制 GUI 时，它似乎不必要地拉伸了容器。

为什么 GridBagLayout 不将容器的大小调整为“尽可能多”？基本上我希望对话框大小与里面的表格一样大。这是代码片段：

```
public class GridBagLayoutTester  
{

public static void main(String[] args)

{

JDialog mDialog = new JDialog();

    JPanel panel1 = new JPanel();
    panel1.setLayout(new GridBagLayout());

    // Create a table to be added to the panel
    JTable table = new JTable(4,4);
    JScrollPane scrollpane = new JScrollPane(table);
    scrollpane.setBorder(BorderFactory.createLineBorder(Color.ORANGE, 5));

    GridBagConstraints gbc = new GridBagConstraints();
    gbc.gridx = gbc.gridy = 0;
    gbc.fill = GridBagConstraints.NONE;
    gbc.anchor = GridBagConstraints.FIRST_LINE_START;

    // Add table to the panel
    panel1.add(scrollpane, gbc);

    mDialog.add(panel1, BorderLayout.CENTER);

    // Display the window.
    mDialog.pack();
    mDialog.setVisible(true);
  }  
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T16:22:34.587

当默认大小不是您想要的时，您必须设置组件的首选大小。

更改您的程序以添加以下行：

```
 // Display the window.
    mDialog.pack();
    Dimension d = table.getPreferredSize();
    d.width += 16;
    d.height += 10;
    scrollpane.setPreferredSize(d);
    mDialog.pack();
    mDialog.setVisible(true); 
```

16 的额外宽度容纳了边框和垂直滚动条。

额外的高度 10 容纳边界。

# php - 如何在codeigniter中加载css

> ID：11824555
> 
> 赞同：16
> 
> 时间：2012-08-06T08:04:28.450
> 
> 标签：php, codeigniter

我是 codeigniter 的新手，我正在使用 v.2.12。当我尝试从外部文件加载 css 时出现错误。

我在应用程序文件夹中创建 css 文件夹。我以 all.css 的名称创建 css 文件。

在视图文件中，我使用以下代码链接 css 文件。

```
<link rel="stylesheet" type="text/css" href="<? echo base_url();?>css/all.css"> 
```

但是css文件没有加载。我收到 404 错误。这是我的配置设置：

```
$config['base_url'] = 'http://webscarlets.com/ci/index.php';
$config['index_page'] = 'index.php'; 
```

网站链接：[http](http://webscarlets.com/ci/index.php/welcome) ://webscarlets.com/ci/index.php/welcome 。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-06-07T09:16:16.217

这是在 CodeIgniter 中包含 CSS 文件的方式：

```
<?php echo link_tag('css/mystyles.css'); ?> 
```

该片段将输出此 HTML：

```
<link href="http://site.com/css/mystyles.css" rel="stylesheet" type="text/css" /> 
```

[该函数`link_tag`在 HTML 助手](http://ellislab.com/codeigniter/user-guide/helpers/html_helper.html#link_tag)中，必须首先加载。

（请注意，您可能不应该将 CSS 文件放入`/application/css`. 中。将它们放入`/css`或可能会更容易`/assets/css`。）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-08-06T08:09:44.760

函数**base_url()**应该返回基本路径（没有 index.php）

您可以通过添加反斜杠来修复它，例如：

```
<link rel="stylesheet" type="text/css" href="<? echo base_url();?>/css/all.css"> 
```

或从您的配置中删除 index.php：

```
$config['base_url'] = 'http://webscarlets.com/ci/'; 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-08-29T15:25:30.633

我只是找到了避免 index.php 文件并加载我们的 CSS 文件的解决方案。只需将以下代码复制到 .htaccess 文件中即可：

```
Options +FollowSymLinks
Options -Indexes
DirectoryIndex index.php
RewriteEngine on
RewriteCond $1 !^(index\.php|images|styles|scripts|robots\.txt|favicon\.ico)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?/$1 [L,QSA] 
```

问候！

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-01-13T10:46:36.130

要附加 CSS、JS、Images .etc，您只需转到您的**配置文件夹并在****constant.php**文件的末尾写入。

```
define('URL','ADD YOUR LOCAL/REMOTE PATH');

define('CSS',URL.'public/css/');
define('IMAGES',URL.'public/images/');
define('JS',URL.'public/images/'); 
```

之后转到您的视图并在链接中添加

```
<link rel="stylesheet" type="text/css" href="<?php echo CSS; ?>index.css"> 
```

这将解决您的问题。

希望能帮助到你。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-10-07T15:58:02.553

在您的控制器操作 /application/controllers/yourController.php 中添加以下行

```
$this->load->helper('url'); 
```

然后将以下行添加到您的视图文件的头标签。

```
<link rel="stylesheet" type="text/css" href="<? echo base_url('assets/css/yourcssfile.css');?>" /> 
```

假设您在 app 目录中创建了 assets/css/ 文件夹。

```
<path to your app folder>/assets/css 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-08-06T08:15:17.273

在使用之前，`base_url()`您应该必须加载 URL 帮助程序类。

像`$this->load->helper('url');`在你的控制器中的 东西

`base_url()`
`'http://webscarlets.com/'`
如果您直接在根目录中设置了路径或`'http://webscarlets.com/dir/'`

并确保您的 CSS 文件的位置。

点击链接了解更多关于[URL Helper](http://codeigniter.com/user_guide/helpers/url_helper.html)

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-08-06T08:32:35.510

另一种方式是

在 constants.php 中定义一个常量（在 config 目录中）

```
define("LAYOUT_URL","http://localhost/yoursite/css/"); 
```

我假设这里的“css”文件夹位于应用程序文件夹中。现在你可以在页面中附加css

```
<link rel="stylesheet" type="text/css" href="<?php echo LAYOUT_URL;?>all.css"> 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-08-06T18:10:37.190

作为**Jogesh_p**。

您使用**base_url**如下放入控制器（您的控制器）

```
$this->load->helper('url'); 
```

在**控制器**中。如果你想使用

如下放置在您想要使用 base_url 的位置。

```
echo base_url() 
```

注意：最好在根目录下创建新文件夹

（示例：主题）相同：应用程序、系统、用户指南、主题）

我希望你能做到

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-07-03T14:44:01.940

编辑 autoload.php 如下

```
$autoload['helper'] = array('url'); 
```

然后像这样加载css，js，图像

```
img src="<?php echo base_url(); ?>assets/images/master.jpg"</img> 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-08-06T08:38:50.507

```
//config.php
    $config['base_url'] = 'http://webscarlets.com/ci/';
    $config['index_page'] = 'index.php'; 
```

并尝试`css`通过添加应用程序文件夹来加载

`<link rel="stylesheet" type="text/css" href="<? echo base_url();?>application /css/all.css">`

**编辑**

这里 `base_url()`回显然`'http://webscarlets.com/ci/'`后添加带有路径的文件`application /css/all.css`

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2016-07-21T05:50:36.717

包含`$this->load->helper('html');`在控制器功能中。

并在视图文件中使用`linktag`关键字，如下所示：

```
<html>
<head>
    <title></title>
    <?php echo link_tag('resources/style.css');?>
</head>
<body>
    <?php
    ....
    ?>
</body> 
```

这里的资源是包含 style.css 文件的文件夹。

# php - 尝试使用 PHP 代码制作动态网页

> ID：11824558
> 
> 赞同：0
> 
> 时间：2012-08-06T08:04:37.293
> 
> 标签：php

大家好，我正在尝试使用 PHP 制作动态网页`$_SERVER['PATH_INFO']`，但我认为我遇到了问题。每次我按 home 或 about 时，都会将 index.php.home 或 index.php.about 附加到 url。这是我的代码：

```
<body>
<div style="width:800px; height:auto;">
<nav>
    <a href="index.php/home">home</a>
    <a href="index.php/about">about</a>
</nav>
<?php 
    $path = substr($_SERVER['PATH_INFO'],1);
    echo $path;
    if($path==""){
        $path = "home";
    }
    if($path == "home"){    
        ?>
        <h1> Home Page </h1>
        <?php 
    }
    elseif($path == "about"){
        ?>
        <h1> About Page</h1>
        <?php 
    }else{
        ?>
        <h1> Page Not Found </h1>
        <?php 
    }
?>
</div>
</body> 
```

我可以帮助解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:15:16.400

您应该为此使用 $_GET 变量。如果你有一个像

```
index.php?p=categories&sp=specific_category 
```

那么你将拥有：

```
$_GET['p'] will be categories
$_GET['sp'] will be specific_category 
```

所以

```
<body> 
<div style="width:800px; height:auto;"> 
<nav> 
<a href="index.php?p=home">home</a> 
<a href="index.php?p=about">about</a> 
</nav> 
<?php  
    if(!isset($_GET['p']) || $_GET['p'] == 'home'){ 
?>
<h1> Home Page </h1>
<?php
    } 
    elseif($_GET['p'] == "about"){ 
?> 
<h1> About Page</h1> 
<?php  
    } else { 
?> 
<h1> Page Not Found </h1> 
<?php  
    } 
?> 
</div> 
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T11:21:50.563

像这样放一个完整的路径

```
<?php
$protocall="http://www.";
$host= $_SERVER['SERVER_NAME'];
$ext=".com";
$site=$protocall.$host.$ext;

?>

<nav>
    <a href="<?php echo $site; ?>/index.php/home">home</a>
    <a href="<?php echo $site; ?>/index.php/about">about</a>
</nav> 
```

在全局文件中定义 $site

# c# - 如何重置组框中的所有项目，但不重置所述组框之外的任何项目？

> ID：11824563
> 
> 赞同：0
> 
> 时间：2012-08-06T08:05:07.840
> 
> 标签：c#, .net, wpf, reset, groupbox

我正在使用一个 WPF 应用程序，它有许多组框，每个组框包含 3-4 个控件。这些组框中的每一个都包含一个重置按钮。

不是为每个项目明确写一行，而是应该重置 groupbox 重置按钮，有没有办法让重置按钮只重置它包含的 groupbox 的所有项目？

在研究此问题时，我发现以下似乎相关的帖子，但我不确定如何扩展 Nathan 的答案来做到这一点：[清除表单 C# 上所有控件的最佳方法是什么？](https://stackoverflow.com/questions/297526/what-is-the-best-way-to-clear-all-controls-on-a-form-c)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:32:51.023

您可以[将此问题](https://stackoverflow.com/questions/636383/wpf-ways-to-find-controls)用作您需要的方法的来源。

首先，您需要找到包含按钮的组框。为此，请使用`sender`参数表单单击事件，它引用被单击的按钮并`FindVisualParent`从该问题的答案之一中调用方法。这将为您提供组框。

然后按方法查找所有ui元素`FindVisualChildren<DependencyObject>`。这将为您提供要清除的超级控件集。

然后它只是一个循环，正如您所引用的那样。请注意，该问题是针对 winforms 而不是 wpf 的，因此您必须修改`controldefaults`处理分组控件的字典 ~( `Panel` `GroupBox`)，这在此处不需要（并且在 wpf 中不起作用）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T09:43:25.873

您可以为每个控件添加一个 TAG，告诉您在控件中正在编辑哪个属性，然后在重置按下时，您向上移动按钮以查找包含 GroupBox，然后向下查找包含在此 GroupBox 中的所有控件，然后您会发现，使用标签，需要重置的属性的名称。然后使用 Reflexion 重置属性。
也许一个问题是默认值可能并不明显。但是您可以将所有绑定的默认值存储在静态对象中，并将此重置对象的属性值复制到当前状态对象中。Rq ：您也可以使用反射来获取当前 GroupBox 的所有控件的绑定，然后从绑定中获取有界属性，因此不需要 TAG。但是，如果一个控件有多个绑定，您将不知道要重置哪一个。在我的例子中，GroupBoxes 中的控件还具有颜色绑定，以指示它们是否具有默认值（绿色）或非默认值（红色），因此需要一个 TAG。（但是颜色指示器是只读的，因此反射实际上也可以与反射的更多使用一起使用......当我看到它时，我懒得改变工作逻辑:-)）
我不知道你的绑定，所以很明显我不知道什么是最好的，我希望这会有所帮助。

# c++ - 更改私有成员变量不会影响整个类

> ID：11824568
> 
> 赞同：0
> 
> 时间：2012-08-06T08:05:15.657
> 
> 标签：c++

我有一个类，`private`其中有一个名为的成员变量，它是一个`int`. 出于某种原因，如果我在方法中更改它的值（例如在构造函数上），它会改变得很好。但是，如果我在不同的方法上更改它并用于`printf`在另一种不同的方法上输出其内容，则该值不会被结转并变成一个非常大的数字。

标题：

```
class Fruit {
   private:
      int m_fruitState; // 0 = IDLE, 1 = GROWING, 2 = READY, 3 = FALLEN, 4 = ROTTEN
      int m_fruitTimer;

    public:
       Fruit ( );

       int getFruitState( ); // Returns m_fruitState
       void setFruitState( int fState );

       void growFruit( CCTime dt ); // Called every 1 second (CCTime is a cocos2d-x class)
    }; 
```

CPP

```
#include "Fruit.h"

Fruit::Fruit( ) {
   // Set other member variables
   this -> setFruitState( 0 );  // m_fruitState = 0
   this -> m_fruitTimer = 0;
   this -> m_fruitSprite -> schedule( schedule_selector( Fruit::growFruit ), 1.0 ); // m_fruitSprite is a CCSprite (a cocos2d-x class). This basically calls growFruit() every 1 second
}

int getFruitState( ) {
   return this -> m_fruitState;
}

void setFruitState( int state ) {
   this -> m_fruitState = state;
}

void growFruit( CCTime dt ) {
   this -> m_fruitTimer++;
   printf( "%d seconds have elapsed.", m_fruitTimer );
   printf( "STATE = %d", this -> m_fruitState ); // Says my m_fruitState is a very big number

   // This if condition never becomes true, because at this point, m_fruitState = a very big number
   if ( this -> getfruitState( ) == 0 ) { // I even changed this to m_fruitState == 0, still the same
      if ( this -> m_fruitTimer == 5 ) { // check if 5 seconds have elapsed
         this -> setFruitState( 1 );
         this -> m_fruitTimer = 0;
      }
   }
} 
```

然后主要是创建 MyClass 的一个实例。

我不知道为什么会这样。为什么 C++ 会这样做，我该如何解决？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:11:25.837

```
 changeInt( int newInt );       // Assume newInt = 5 
```

`int`从上面的行中删除。

```
 void doSomething( ); { 
```

`;`从上面的行中删除。

**更新：**现在您缺少`;`头文件末尾的 a 。修复所有明显的错误（这可能会阻止它甚至编译），它对我来说很好。您粘贴的代码与实际代码之间仍然存在差异，或者您发现了编译器错误。

```
Constructor: myInt = 0
changeInt( int ) : myInt = 5
After constructor and calling changeInt(), myInt = 5 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T09:50:55.440

的“选择器”参数`schedule`应该是 a `SEL_SCHEDULE`，其中

```
typedef void(CCObject::* SEL_SCHEDULE)(float) 
```

即它应该是 a 的成员函数`CCObject`。
它也应该是您调用的对象的成员`schedule` *，*否则调用时的目标将是错误的。

我怀疑这

```
this -> m_fruitSprite -> schedule( schedule_selector( Fruit::growFruit ), 1.0 ); 
```

导致指向*精灵*`Fruit::growFruit`而不是水果的调用，这会导致各种不愉快。 （请注意，这是一个 C 风格的转换，这意味着它本质上是不安全的。不要使用它。）`this` *`schedule_selector`*

# c++ - 是否有一个 Visual Studio 插件可以防止编写不匹配的 { 和 }

> ID：11824573
> 
> 赞同：0
> 
> 时间：2012-08-06T08:05:31.940
> 
> 标签：c++, visual-studio, plugins

通常在 VS 中编写或编辑 C++ 代码时，我最终会因为没有匹配的大括号`{`或`}`. 所以我想知道是否有一种工具可以防止`{`在某种意义上书写，当您按下 { 键时，它会自动生成
`{ }` 并将光标放在大括号之间。Ofc 可能希望 { 在字符串中，因此工具必须允许这样做，强制关闭字符串也是不错的功能（我认为 Eclipse 有它）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:14:51.673

一个非常非常简单的插件将是

键入 { 时直接键入 } 然后返回以填写范围。

( 和 ) 也一样

永远不匹配。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:07:44.097

[Visual Assist X](http://www.wholetomato.com/)可以做到这一点，但它不是免费的。

另一方面，您可以尝试自己为它编写一个宏。编写宏很容易，尽管很难达到接近 100% 的准确度。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T08:13:57.877

[Visual Assist X](http://www.wholetomato.com/)为 C++ 开发人员完成了这一点以及*更多*有用的事情，但不幸的是它不是免费的。

但是，Joel Spadin 编写了一个免费的 Brace Completer 扩展，它正是这样做的。[从 Visual Studio Gallery 下载](http://visualstudiogallery.msdn.microsoft.com/0e33cb22-d4ac-4f5a-902f-aff5177cc94d/)。这是一个优秀的产品。

他的描述确实提到 Microsoft 的[Productivity Power Tools](http://visualstudiogallery.msdn.microsoft.com/d0d33361-18e2-46c0-8ff2-4adea1e34fef)扩展现在包括大括号完成功能，但这是一个相当繁重的扩展。由于我不使用或不想要大多数其他功能，我更喜欢继续使用 Joel 的一招小马。

另外，从 PPT 的描述中我也不清楚它是否适用于 C++ 代码。大多数扩展都集中在 C# 和 VB.NET 上，这虽然很好，但对我们的 C++ 开发人员帮助不大。Joel 的扩展适用于 C 和 C++。

最后，永远不要担心如果您不小心误配了一对牙套。所有版本的 Visual Studio 都带有一个方便的工具，可以捕获此类错误。它被称为*编译器*。:-)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T08:37:32.310

ReSharper 也这样做，但它又不是免费的。

不确定 CodeRush Xpress 是否这样做，它可能会像 ReSharper 一样做类似的事情。有一个免费版本。

有关该外观的更多信息，请点击此处： [CodeRush Xpress](http://msdn.microsoft.com/en-us/vstudio/ee663901.aspx)

# ruby - 一个项目中的 RVM 和不同的 Ruby 版本

> ID：11824577
> 
> 赞同：0
> 
> 时间：2012-08-06T08:05:39.663
> 
> 标签：ruby

我想在一个项目中使用不同的 Ruby（ruby 1.9.3 和 jruby 1.7.0）。

我需要这样做，因为当我在整个项目中使用 Jruby 时，我的项目中出现错误。因此，我只想将 Jruby 用于实际需要它的类，而将普通 Ruby 用于其他类。

这可能吗？如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:10:10.520

您不能使用两种不同的红宝石运行一个应用程序实例。你认为它会如何运作？我看到这些选项：

*   使用 ruby​​ 1.9 运行所有内容（如果可能且可取）；
*   拆分应用程序并使用 jruby 运行一部分，然后使用 MRI 运行另一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:13:23.133

Ruby 和 JRuby 不能在同一个进程中运行，因此要在同一个项目中同时使用它们，您需要有单独的进程，以及某种进程间通信。这可以像让 JRuby 程序使用反引号执行 Ruby 脚本一样简单，从进程接收标准输出作为字符串，或者比它必须的复杂得多。例如，为了更高级，您可以使用 FIFO 或消息队列。

# python - 如何在 virtualenv 中使用 Python Tools for Visual Studio 运行 python 脚本？

> ID：11824589
> 
> 赞同：6
> 
> 时间：2012-08-06T08:06:17.357
> 
> 标签：python, visual-studio-2010, ptvs

我不知道如何在 Visual Studio 项目的 Python 工具中运行 activate.bat。我的项目中有一个带有 virtualenv 的目录环境。但是，我不知道如何`./env/Scripts/activate.bat`在项目运行我的主要 python 脚本之前运行。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:29:33.683

我通常将 Visual Studio 指向自定义`startup.py`脚本，然后我可以使用以下任何其他批处理文件运行：

```
# startup.py
import os
import main.py # Whatever your main script is
os.system('activate.bat') # Call your batch files.
main.run() # Call whatever you need to from your main script. 
```

在 Visual Studio 中

*   右键单击项目
*   特性
*   一般的
*   在*Startup File*下，放`startup.py` *（随便）*
*   确保您的工作目录正确

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-06T10:00:14.833

我发现如果：

*   main.py 设置为启动文件，
*   在项目的属性 -> 调试选项卡 -> 解释器路径字段中，我把路径 C:...\env\Scripts\python.exe （即 virtualenv 的 python 可执行文件）

有用 ！

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-03-06T01:12:20.627

Python Tools for Visual Studio(PTVS) 2.0 现已推出，您可以在其中添加 virtualenv。

1.  打开解决方案资源管理器：查看 > 解决方案资源管理器

2.  右键单击“Python 环境”并选择“添加虚拟环境”

[这是一个视频，展示了如何做到这一点。](https://youtu.be/JNNAOypc6Ek?t=12m57s)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-09T23:40:42.513

PTVS 2.0 Beta/RTM 将全面支持 Virtual Env。有关新闻/更新，请参阅[http://pytools.codeplex.com](http://pytools.codeplex.com)。PTVS 2.0 Alpha 提供早期支持，现已提供。

# java - 如何处理 java 库中的异步响应？

> ID：11824590
> 
> 赞同：0
> 
> 时间：2012-08-06T08:06:30.147
> 
> 标签：java, multithreading, asynchronous, response

我正在开发一个向服务器（在另一个线程中）发送异步请求的库。

我们的客户将使用这个库，我正在考虑如何让他们处理这个问题的最佳方式。响应可能会在几秒钟到一分钟内出现。我正在使用 jersey-client 执行此操作，并且已经存在一个侦听器，它将在另一个“异步”线程中调用。

所以我有一个共享资源，它将被侦听器的响应“填充”，但主线程必须调用它来检索响应。

有没有更好的方法让客户端可以访问或“通知”响应已经到达？类似于 EventNotifier 的东西？（如果我实现这样的东西，不应该存在像轮询通知器这样的东西，但这意味着可能存在另一个线程，它必须这样做）。

我对使用我的库的客户没有影响，我只能通过适当设计他们调用的库函数来让他们的生活更轻松。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:20:54.443

您尝试使用的 servlet 容器版本是什么？Servlet 3.0[内置](https://blogs.oracle.com/enterprisetechtips/entry/asynchronous_support_in_servlet_3)了对它的支持

# c++ - 错误 C2660：在派生类中隐藏方法

> ID：11824591
> 
> 赞同：3
> 
> 时间：2012-08-06T08:06:31.563
> 
> 标签：c++, compiler-errors, derived

**目标：**

共享具有相同功能的基类，但只有少数后代在实例化和释放受保护或私有指针时仅隐藏方法（getter 和 setter）。

* * *

**问题：**

仅在重新声明 setter 时，我在调用 getter 时收到此错误。

```
1>c:\projectengine\problem\main.cpp(8): error C2660: 'cDerived::SomeClass'
    : function does not take 0 arguments 
```

吸气剂并不是真正需要的，但如果它已经存在，为什么要公开功能。

* * *

**结论：**

`cBase::SomeClass()`不受影响`cDerived`。

注释掉下一行时，没有编译错误（当然）：

```
virtual void        SomeClass( cSomeClass* value ) override {}; // setter, C2660 
```

然而，这会起作用，因此不会改变任何东西，这会增加内存泄漏的风险。另一方面，这个偶然的派生应该继承其余的功能，`cBase`其本身就是一个后代。

我应该重写`cBase`还是可以只隐藏 setter `cDerived`？

* * *

有错误的代码：

主文件

```
class cSomeClass 
{ 
}; 

class cBase : public cAbsoluteBase
{ 
public: 
    cBase() : m_pSomeClass( 0 ){} 
    virtual cSomeClass* SomeClass(){ return m_pSomeClass; } 
    virtual void        SomeClass( cSomeClass* value ){ m_pSomeClass = value; }; 
protected: 
    cSomeClass* m_pSomeClass; 
}; 

class cDerived : public cBase 
{ 
private: 
    //          hide these 
    //virtual cSomeClass* SomeClass() override { return m_pSomeClass; }; 
    virtual void        SomeClass( cSomeClass* value ) override {};
}; 

cDerived derived; 

int main()
{

    cSomeClass* someClass = derived.SomeClass(); // C2660 

    return 0; 

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:15:08.360

你需要一个[using](http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/index.jsp?topic=%2Fcom.ibm.xlcpp8a.doc%2Flanguage%2Fref%2Fusing_declaration_class_members.htm)声明。否则，派生类中的重载会隐藏基类中的函数。（因为通常这是一个错误。如果你必须专门化一个重载，通常你必须专门化所有的重载。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T13:43:25.200

我不确定我是否能准确地遵循您的描述，但从代码片段来看，您似乎想从一个类公开继承，但删除基类接口的方法之一。

这是可能的，甚至有可能意外发生，但这是一个非常糟糕的主意™。公共继承是一种“is-a”关系。如果你有一个从 class`B`公开继承的类`A`，那么声明这种关系的意思是“类型的对象`B`可能比类型的对象大`A`，但除此之外，你可以在`B`任何`A`预期的地方使用 a。” 显然`B`s 可能有额外的行为，但公共继承承诺它们可以作为全功能`A`的 s 工作。（顺便说一下，这被称为“里氏替换原则”。）

请注意，这也是为什么早期教科书的继承示例之一被彻底破坏的原因：`Square`继承自`Rectangle`. 是的，正方形是长方形，但这并不意味着`Square`公开继承自`Rectangle`. 因为子类对其父类有额外的限制，因为不遵守已建立的接口契约，会破坏许多原本完全有效和有用的代码。（在正方形的情况下，它们违反了合同条款，即您应该能够相互独立地更改矩形的边。在您的情况下，您似乎完全删除了部分界面。）

# asp.net - 使用 UrlRewriter.NET 的外部配置文件

> ID：11824596
> 
> 赞同：2
> 
> 时间：2012-08-06T08:07:15.920
> 
> 标签：asp.net, .net, vb.net, url-rewriting, urlrewriter.net

我正在使用[UrlRewriter.NET](http://urlrewriter.net)库为我的 asp.net 网站实现 url 重写。当前正在`web.config`像这样从文件中读取重写规则

```
<rewriter>
  <rewrite url="/test-web-page" to="~/realwebpage.aspx"/>
</rewriter> 
```

如何让库从另一个文件而不是`web.config`?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T18:54:09.843

[是的，您可以 - 在此页面http://urlrewriter.net/](http://urlrewriter.net/)上提到这里很有趣，看看他们的示例，并没有准确指定硬件来做到这一点。但我在他们的支持论坛上做了一些挖掘，发现了这个例子：

```
<rewriter configSource="YOURREWRITEFILE"> 
    </rewriter> 
```

完整的对话可以在这里阅读：

[https://groups.google.com/forum/?fromgroups#!searchin/UrlRewriter/external$20config/urlrewriter/TgKVlJ9bO_s/CgtEEpcMIrkJ](https://groups.google.com/forum/?fromgroups#!searchin/UrlRewriter/external%2420config/urlrewriter/TgKVlJ9bO_s/CgtEEpcMIrkJ)

# django - 需要登录的中间件获取 HTTP/1.1" 302

> ID：11824598
> 
> 赞同：2
> 
> 时间：2012-08-06T08:07:30.757
> 
> 标签：django, login, middleware

我已经完成了一个简单的登录，当经过身份验证的用户被重定向到带有 url 的页面时，它可以正常工作：

```
url(r'^(?P<user_id>\d+)/$', 'auth.views.main', name='main'), 
```

现在我正在尝试使用 a`LoginRequired-Middleware`但是当我这样做并尝试登录时，我得到：

```
"POST  /login/ HTTP/1.1" 302 0
"GET   /1000/  HTTP/1.1" 302 0 
```

我留在初始登录页面。我使用一个常见的[片段](http://djangosnippets.org/snippets/1179/)来做到这一点

`LOGIN_URL = ( '/login/' )`

怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-25T08:42:26.413

不幸的是，您提供的代码不足以确定您的错误，所以我只能给您指点：

*   确保您实际上还没有缓存 HTTP 302 REDIRECT 站点，从早期的实验。有关有用的提示，请参见[此处](https://stackoverflow.com/questions/6980192/firefox-5-caching-301-redirects)。
    重置您的浏览器缓存。如果您使用的是 Chrome，您可以通过按 CTRL+SHIFT+J（启动开发者工具）并长按顶部导航 url 栏旁边的重新加载按钮来获得多个缓存清除选项。

    对于 Firefox，另请参阅这些有用的建议。

    1.  [http://support.mozilla.org/es/questions/848678](http://support.mozilla.org/es/questions/848678)

    2.  [https://superuser.com/questions/23134/how-to-turn-off-firefox-cache](https://superuser.com/questions/23134/how-to-turn-off-firefox-cache)

*   您刚刚从 <1.3.x 版本升级 Django 吗？我遇到了一种情况，密码被新的默认哈希器重写，因此无法再登录。直接在`auth_users`- 表中的数据库中检查密码哈希器的一致性。例如 SHA1 密码哈希以`sha1...`

*   确保`PASSWORD_HASHERS`在您的`settings.py`, 中设置列​​表的顺序是保留原始项目的*主要哈希*器 在顶部。即用于最初散列用户密码的散列算法。

*   是在你的项目`url(r'...'...)`的根目录中吗？`urls.py`

*   确保在您的部分中`'django.contrib.auth'`列出（尽管如果不是这种情况，您应该得到错误）并且必须预先加载的应用程序实际上放在最上面。`INSTALLED_APPS``settings.py`

*   根据您的代码片段的注释检查您的`TEMPLATE_CONTEXT_PROCESSORS`,`MIDDLEWARE_CLASSES`在 settings.py 中的设置，并确保它与`SessionMiddleware`您的 Django 版本兼容。

*   检查项目中所有进行重定向的代码行：

检查：

```
 from django.views.generic.base import RedirectView

    url(r'^.*$', RedirectView.as_view(url='<url_to_view>', permanent=False), name='index') 
```

或者

```
 from django.http import HttpResponsePermanentRedirect
    HttpResponsePermanentRedirect('url...') 
```

请注意，根据其通用视图范例 ，在 Django 1.5 中，已弃用的`redirect_to`函数已替换为。`RedirectView`

[重定向（...）](https://docs.djangoproject.com/en/dev/topics/http/shortcuts/#redirect)

```
 url('^pattern/$', lambda _: redirect('/redirecttourl/'))
    url(r'^pattern$', redirect('example.com')),
    url(r'^pattern$', redirect(projectname.views.home)),
    (r'^accounts/profile/$', 'redirect_to', {'url': 'generic_account_url'}),
    HttpResponseRedirect(....)
    HttpResponseRedirect(request.META.get('HTTP_REFERER','/')) 
```

*   Django 的内置身份验证登录页面包含一个`next`查询字符串。`next=`确定登录后返回的页面：

请参阅：[http ://docs.djangoproject.com/en/dev/topics/auth/#django.contrib.auth.decorators.login_required](http://docs.djangoproject.com/en/dev/topics/auth/#django.contrib.auth.decorators.login_required)

*   检查服务器的 HTTP 访问日志。重定向后登录站点的内容大小是否与重定向前登录相同？

它有助于在登录过程中提供整个 HTTP 访问历史记录。由于您不会在重定向循环中挂起，因此必须遵循比上述两个更多的 HTTP。

# c# - 在c#中将日期时间转换为时间（日期时间）

> ID：11824599
> 
> 赞同：1
> 
> 时间：2012-08-06T08:07:38.710
> 
> 标签：c#, sql-server

再会，

**我的SQL Server 数据库**表中有一个**时间（日期时间）**字段，我必须将VS 2010 程序上的**日期**时间类型的记录提交到我的数据库。当我这样做时，我收到以下错误：

 ****{“列插入或更新与先前的 CREATE RULE 语句施加的规则冲突。该语句已终止。冲突发生在数据库 'PTBODW'、表 ' **dbo。MatchGPStoTripSchedule** '、列 ' **tTripScheduledStartTime** '。\r\n语句已被终止。"} 谁能帮帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:18:45.650

看起来该列正在使用[旧`sp_bindrule`功能](http://msdn.microsoft.com/en-us/library/ms176063.aspx)。您可以使用以下命令列出数据库中的规则：

```
select  o.name as TableName
,       c.name as ColumnName
,       r.name as RuleName
from    sys.objects o
join    sys.columns c
on      c.object_id = o.object_id
join    sys.objects r
on      r.object_id = c.rule_object_id
where   o.is_ms_shipped <> 1
        and rule_object_id <> 0 
```

您可以使用以下命令查看规则的定义`sp_helptext`：

```
exec sp_helptext 'RuleName' 
```

规则可以从一列中解除绑定`sp_unbindrule`（每列只能有一个规则，因此`sp_unbindrule`不需要知道规则的名称）：

```
exec sp_unbindrule 'MatchGPStoTripSchedule.tTripScheduledStartTime' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:12:56.247

听起来它可能是一个超出范围的变量。我会在 SQL 管理工作室中启动 SQL 分析器并找到导致错误的确切 SQL。如果它是批量插入，我将连续获得插入的大小，直到您隔离导致问题的（第一个？）行。****

# wordpress - 如何使 bbPress 论坛页面使用自定义页面模板

> ID：11824600
> 
> 赞同：1
> 
> 时间：2012-08-06T08:07:40.993
> 
> 标签：wordpress, bbpress, custom-wordpress-pages

我创建了自定义页面模板 bbpress.php，以便我网站的论坛部分将显示一个侧边栏。

我只是不知道如何实现它。

任何帮助都会很棒。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T07:45:46.847

找到了一个插件，可以让我指定 bbPress 使用的模板：

[bbPress WP 调整](http://wordpress.org/extend/plugins/bbpress-wp-tweaks/)

# ios - 带有左+右大写和中间图案的 UIButton

> ID：11824603
> 
> 赞同：2
> 
> 时间：2012-08-06T08:07:49.243
> 
> 标签：ios, cocoa-touch, uibutton

如何`UIButton`使用由以下内容组成的背景图像创建一个：

1.  固定*左*帽
2.  一个固定的*右*帽
3.  许多*中间图像*一个接一个地放置以填充所有可用空间

像下面的例子一样？

![用户界面按钮](../Images/61044760c4ce60c9999d6d58721bdf54.png)

**编辑：**我没有意识到在中心没有*N*个重复的图像，而只有一个拉伸的图像。请参阅已接受的答案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T08:24:33.923

据我所知是做不到的。您可以做的是拉伸图像，但不能添加 n 个中间图像。

在两者之间添加可拉伸图像的代码是

```
//Create an image - Where UIEdgeInsets is in top left bottom right
UIImage* buttonImage = [[UIImage imageNamed:@"button.png"] resizableImageWithCapInsets:UIEdgeInsetsMake(0, 16, 0, 16)];

// Create a custom buttom
UIButton *myButton = [UIButton buttonWithType:UIButtonTypeCustom];
myButton.frame = CGRectMake(0, 0, 100, buttonImage.size.height);
[myButton setBackgroundImage:buttonImage forState:UIControlStateNormal];
[myButton setTitle:@"Button" forState:UIControlStateNormal];

//Add it to view - if it is a view controller self.view
[self addView:myButton]; 
```

来自 Apple 的[UIImage 类参考](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIImage_Class/Reference/Reference.html#//apple_ref/occ/instm/UIImage/resizableImageWithCapInsets:)：

> " **resizableImageWithCapInsets:**
> 
> 您可以使用此方法将大写插图添加到图像或更改图像的现有大写插图。[...] 在缩放或调整图像大小的过程中，被帽子覆盖的区域不会被缩放或调整大小。**相反，每个方向上**未被帽覆盖的像素区域被平铺，从左到右和从上到下，以调整图像大小。” *[强调添加]*

您可以在[http://mobiledevelopertips.com/user-interface/ios-5-uiimage-and-resizableimagewithcapinsets.html阅读更多相关信息](http://mobiledevelopertips.com/user-interface/ios-5-uiimage-and-resizableimagewithcapinsets.html)

# c# - 替换字符串中的变量？

> ID：11824605
> 
> 赞同：1
> 
> 时间：2012-08-06T08:08:01.237
> 
> 标签：c#, string

我正在搜索 Excel 电子表格模板的内容，以替换 @Something 表示的所有变量。

我已经将所有变量名称都包含在代码中，我只是在寻找一种将它们替换为字符串的方法。

**例子：**

我的名字是@Name

**我希望它变成：**

我的名字是约翰。

* * *

我的代码解释：

我有一个包含一个结构的数组，该结构包含：

TagPointer：这是我的变量@name，TagValue：这将是名字 John

在这里，我可以获得变量所在位置的索引，并且我有原始字符串它的比较。我只是不确定如何替换@Something。

```
int testnum;
if (Comp != "null")
{
    if (Comp.IndexOf(ArrayNode[i].TagPointer) != -1)
    {
        testnum = Comp.IndexOf(ArrayNode[i].TagPointer);                          
    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-06T08:12:51.047

使用`string.Format()`，`string.Replace()`不太方便

```
string value = "John";
string result = string.Format("My name is {0}", value); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-06T08:12:20.220

除非我遗漏了什么，否则你不能使用[string.replace](http://msdn.microsoft.com/en-us/library/fk49wtc1.aspx)函数吗？

您可以执行以下操作：

```
foreach (var tag in ArrayNode)
{
  Comp = Comp.Replace(tag.TagPointer, tag.TagValue);
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-06T08:30:00.727

你见过[`FormatWith`扩展](http://james.newtonking.com/archive/2008/03/29/formatwith-2-0-string-formatting-with-named-variables.aspx)吗？

有了它，您可以编写如下内容：

```
Status.Text = "{UserName} last logged in at {LastLoginDate}".FormatWith(user); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-06T08:12:39.940

为什么不使用ie

```
string name = "Giusepe";
string _tmp = "My name is @Name";
_tmp = _tmp.Replace("@Name", name); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-06T08:14:10.253

您可以遍历您的数组并使用[`.Contains()`](http://msdn.microsoft.com/en-us/library/dy85x1sa.aspx)来查看您存在的标签并使用 将[`.Replace()`](http://msdn.microsoft.com/en-us/library/fk49wtc1.aspx)标签替换为实际值。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-06T08:13:48.817

你想要这个吗：

```
string a = "@Something";
a = a.Replace("@somethig", Value); 
```

?

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-11-27T14:52:50.420

多年后，我们现在有了[字符串插值](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated)来帮助解决这个问题。

# android - 如何知道哪个 Activity 启动了 ItemizedOverlay 类

> ID：11824612
> 
> 赞同：1
> 
> 时间：2012-08-06T08:08:57.930
> 
> 标签：android, android-maps

我想知道如何从我的自定义 ItemizedOverlay 类中的 AlertDialog 中找出哪个活动（类名）启动了我的自定义 ItemizedOverlay 类。我有不同地方的 MapView 的不同活动。加载 MapView 时，所有活动都会自动启动 ItemizedOverlay 类。因此，我不能把额外的意图。

任何人都知道这是否可能？

这是我的 ItemizedOverlay 构造函数类（请忽略注释部分和 alertdialog 消息部分）：

```
public class CustomItemisedOverlay extends ItemizedOverlay<OverlayItem> {

private ArrayList<OverlayItem> mapOverlays = new ArrayList<OverlayItem>();

private Context context;

public CustomItemisedOverlay(Drawable defaultMarker) {
    super(boundCenterBottom(defaultMarker));
    // TODO Auto-generated constructor stub
}

public CustomItemisedOverlay(Drawable defaultMarker, Context context) {
    this(defaultMarker);
    this.context = context;
}

@Override
protected OverlayItem createItem(int i) {
    // TODO Auto-generated method stub
    return mapOverlays.get(i);
}

@Override
public int size() {
    // TODO Auto-generated method stub
    return mapOverlays.size();
}

//AlertDialog for driving directions here
@Override
protected boolean onTap(int index) {
    AlertDialog.Builder dialog = new AlertDialog.Builder(context);
    //Title of AlertDialog
    dialog.setTitle("Driving Directions");
    //Message of AlertDialog
    String className = getClass().getSimpleName().toString();
    dialog.setMessage(className);
    //Positive Button
    dialog.setPositiveButton("Yes", new DialogInterface.OnClickListener() {

        public void onClick(DialogInterface dialog, int which) {
            // Handle launch of driving directions here
            /*String tappedLong = null;
            String tappedLat = null;
            String className = this.getClass().getSimpleName().toString();
            if(className == "amkActivity") {
                tappedLong = "1.363414";
                tappedLat = "103.9370256";

            } else if (className == "bedokActivity") {
                tappedLong = "1.3248498";
                tappedLat = "103.9370256";
            }

            Intent intent = new Intent(android.content.Intent.ACTION_VIEW, 
                    Uri.parse("http://maps.google.com/maps?daddr=" + tappedLat + "," + tappedLong));
            context.startActivity(intent);*/

        }
    });

    //Negative Button
    dialog.setNegativeButton("No", new DialogInterface.OnClickListener() {

        public void onClick(DialogInterface dialog, int which) {
            // TODO Auto-generated method stub
            dialog.cancel();
        }
    });
    //Display AlertDialog when tapped
    dialog.show();
    return true;
}

public void addOverlay(OverlayItem overlay) {
    mapOverlays.add(overlay);
    this.populate();
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T02:07:57.043

I'm not too sure how this works, but to get the name of the activity that started the CustomItemisedOverlay class, use

```
context.getClass().getSimpleName(); 
```

For example, I want to put the activity name into a String called className, I do this:

```
String className = context.getClass().getSimpleName().toString(); 
```

The reason why `context` is used is because of this line of code(can be found above):

```
private Context context; 
```

Thus `context` here refers to the context of the activity that started the CustomItemisedOverlay class

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:18:35.743

利用

```
mapView.getContext(); 
```

在 itemizedoverlay 的构造函数中..

这将返回地图视图页面的上下文...

# android - 更改选项卡中的线条颜色 - ActionBarSherlock

> ID：11824627
> 
> 赞同：6
> 
> 时间：2012-08-06T08:10:25.877
> 
> 标签：android, android-actionbar, actionbarsherlock, android-tabs

我正在使用 ActionBarSherlock 使我的应用程序与旧设备兼容。实现很简单，但现在我需要将您在选项卡下看到的默认 Holo 蓝线设置为红线。

我一直在阅读SO 和 ABS 文档（[链接）上的一些主题（](http://actionbarsherlock.com/theming.html)[主题 1](https://stackoverflow.com/questions/10064411/change-actionbarsherlock-background-color)、[主题 2](https://stackoverflow.com/questions/10044303/actionbarsherlock-change-actionbar-line-colour) ） ，但我无法让它工作。

这就是我到目前为止所拥有的。

在我的 AndroidManifest.xml 中，我将此行添加到`application`标签中。

```
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/Theme.Sherlock" > <!-- SET THE DEFAULT THEME --> 
```

然后在`res/values/styles.xml`我有：

```
<resources>
    <style name="AppTheme" parent="android:Theme.Light" />

    <style name="Theme.MyTheme" parent="Theme.Sherlock">
        <item name="actionBarStyle">@style/Widget.MyTheme.ActionBar</item>
        <item name="android:actionBarStyle">@style/Widget.MyTheme.ActionBar</item>
    </style>

    <style name="Widget.MyTheme.ActionBar" parent="Widget.Sherlock.ActionBar">
        <item name="android:background">#ff000000</item>
        <item name="background">#ff000000</item>
    </style>
</resources> 
```

但是当我运行我的应用程序时，我仍然会看到默认的蓝线颜色。

我究竟做错了什么？

* * *

**编辑**

**如果您想完全设置 ActionBarSherlock 的样式，请阅读此内容！**

我在这里找到了一个答案，给出了以下链接：http: [//jgilfelt.github.com/android-actionbarstylegenerator](http://jgilfelt.github.com/android-actionbarstylegenerator)

这是一个简单的生成器，可以为完全定制的 ABS 生成所有需要的文件！您所要做的就是将生成的文件复制到相应的文件夹中，然后就可以了！

不要忘记在您的 AndroidManifest.xml 中启用样式（您必须在生成器中输入**样式名称）。**为此，请参阅下面的答案。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T09:11:45.943

一些东西：

`<style name="AppTheme" parent="android:Theme.Light" />`除非您想将其更改为继承`Theme.Sherlock`并将其用于您的应用程序主题，否则您不再需要它。如果您决定这样做，您将不得不`Theme.MyTheme`用于活动。

无论哪种方式，要解决您要更改的问题

```
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/Theme.Sherlock" > 
```

到

```
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/Theme.MyTheme" > 
```

或者您可以将主题直接应用于您的活动：

```
 <activity 
    android:name="com.awesome.package.activity.SomeActivity"
    android:theme="@style/Theme.MyTheme"/> 
```

旁注，我推荐这个[优秀的动作栏主题生成器](http://jgilfelt.github.com/android-actionbarstylegenerator/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T09:01:37.127

在您的清单文件主题中设置如下：

```
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/Theme.MyTheme" > 
```

它将保留所有 Sherlock 主题并添加您的自定义样式。

# php - 在子域上上传 Zend Framework 错误

> ID：11824628
> 
> 赞同：0
> 
> 时间：2012-08-06T08:10:31.643
> 
> 标签：php, apache, zend-framework

`zend.domain.com`在创建子域后，我上传了我的项目`domain.com`。所以最初我的代码是在`domain.com/zend`. 当我尝试运行该项目时，它给了我这些错误：

> 警告：include_once(Zend/View.php) [function.include-once]：无法打开流：第 146 行的 /home/domain/public_html/zend/library/Zend/Loader.php 中没有这样的文件或目录
> 
> 警告：include_once() [function.include]：未能打开“Zend/View.php”以包含（include_path='/home/domain/public_html/zend/application/../library:/home/domain/public_html/zend /library:.:/usr/lib/php:/usr/local/lib/php') 在 /home/brainbud/public_html/zend/library/Zend/Loader.php 第 146 行
> 
> 致命错误：在第 69 行的 /home/brainbud/public_html/zend/library/Zend/Application/Resource/View.php 中找不到类“Zend_View”

这是我的`.htaccess`：

```
Options +FollowSymLinks
RewriteEngine on
RewriteRule ^\.htaccess$ - [F]

RewriteRule ^(blog|forum)($|/) - [L]

RewriteCond %{REQUEST_URI} =""
RewriteRule ^.*$ /public/index.php [NC,L]

RewriteCond %{REQUEST_URI} !^/public/.*$
RewriteRule ^(.*)$ /public/$1

RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^.*$ - [NC,L]

RewriteRule ^public/.*$ /public/index.php [NC,L] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:23:49.733

这与您的 .htaccess 文件无关。您在上传时错过了一些库部分，或者库/Zend 在您的包含路径中不正确。

*   重新上传 Zend
*   检查 index.php 以获取正确的路径。（`ls /home/domain/public_html/zend/library`告诉你什么？）

通常：

```
// Define path to application directory
defined('APPLICATION_PATH')
    || define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application'));

// Ensure library/ is on include_path
set_include_path(implode(PATH_SEPARATOR, array(
    realpath(APPLICATION_PATH . '/../library'),
    get_include_path(),
))); 
```

# android - 在 Android 中创建自定义媒体播放器，例如 Youtube

> ID：11824629
> 
> 赞同：-1
> 
> 时间：2012-08-06T08:10:35.527
> 
> 标签：android, media-player

我必须创建像 youtube 播放器这样的媒体播放器。实际上，如果我使用 VideoView 播放视频，使用 MediaController 控制视频（MediaController onlyu 提供播放、暂停、下一个、pre 和 seek 选项）。但是在我的播放器中，我必须再添加一个选项即带宽（我将有三个带宽，点击带宽视频将播放）。所以请建议我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:27:20.743

您只需创建一个适当组合所需 GUI 元素的布局。VideoView 可以与按钮等其他 GUI 元素一起使用，并且可以嵌套在 RelativeLayout 和 LinearLayout 等布局中。

因此，如果您希望您的带宽按钮与 VideoView 相邻，您可以使用 LinearLayout，如果您希望您的带宽按钮在视频表面上，例如 MediaController，您可以使用 RelativeLayout，正确管理图层。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:55:28.877

据我所知，MediaController 并没有提供太多定制的机会。因此，您有两种选择，具体取决于您的 UI 要求和您愿意付出的努力。

1.  困难的方法：您可以摆脱 Android MediaController 并实现自己的媒体控制器，因为您不必使用它。MediaPlayer（通过 VideoView）为您提供构建它所需的函数：pause()、play()、resume() 方法和事件侦听器，如 onPrepared、onStopped 等。要显示进度条，您可以使用 SeekBar，但您将拥有对与 MediaPlayer 的交互进行编码（也就是说，进度条不会单独移动）。

2.  最简单的方法：您可以找到另一个放置带宽按钮的位置，例如，在屏幕顶部。您甚至可以将按钮放在 MediaController 上。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-01-23T08:48:19.097

看看 SurfaceView，它会给你一个关于不将你的逻辑与播放器绑定的想法。

# objective-c - NSTextField - 子类化和 drawRect 导致文本无法加载

> ID：11824630
> 
> 赞同：4
> 
> 时间：2012-08-06T08:10:36.133
> 
> 标签：objective-c, macos, cocoa

尝试圆整 NSTextField 的边框（左上角的小黑框）：[http ://cl.ly/image/2V2L1u3b3u0G](http://cl.ly/image/2V2L1u3b3u0G)

所以我将 NSTextField 子类化：

MYTextField.h

```
#import <Cocoa/Cocoa.h>
@interface HATrackCounterField : NSTextField
@end 
```

MYTextField.m

```
#import "HATrackCounterField.h"
@implementation HATrackCounterField
- (id)initWithFrame:(NSRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {}
    return self;
}

- (void)drawRect:(NSRect)dirtyRect
{
    [[NSColor blackColor] setFill];
    [[NSBezierPath bezierPathWithRoundedRect:dirtyRect xRadius:3.0 yRadius:3.0] fill];
}

@end 
```

现在它不显示文本字段文本：[http ://cl.ly/image/1J2W3K431C04](http://cl.ly/image/1J2W3K431C04)

我是objective-c的新手，看起来这应该很容易，所以我可能只是做错了什么......

谢谢！

注意：我正在通过集合视图设置文本，并且我`setStringValue:`在不同的点上尝试过也无济于事。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T08:28:25.273

您的文本字段的文本没有显示，因为您覆盖`-drawRect`并且没有调用`[super drawRect:dirtyRect]`它。

在您的情况下，我认为最简单的方法是使用剪辑蒙版：只需`NSTextField`执行绘图蚂蚁然后剪辑区域：

```
- (void)drawRect:(NSRect)dirtyRect
{
    [NSGraphicsContext saveGraphicsState];
    [[NSBezierPath bezierPathWithRoundedRect:dirtyRect xRadius:3.0 yRadius:3.0] setClip];
    [super drawRect:dirtyRect];
    [NSGraphicsContext restoreGraphicsState];
} 
```

一般来说，最好是子类`NSTextFieldCell`化而不是进行自定义绘图，因为单元格负责绘图。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T17:35:14.250

作为未来读者的参考，这可能是您应该通过子类化的方式`NSTextFieldCell`：

```
- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView {
    NSBezierPath *betterBounds = [NSBezierPath bezierPathWithRoundedRect:cellFrame xRadius:CORNER_RADIUS yRadius:CORNER_RADIUS];
    [betterBounds addClip];
    [super drawWithFrame:cellFrame inView:controlView];
    if (self.isBezeled) { // optional, but provides an example of drawing a prettier border
        [betterBounds setLineWidth:2];
        [[NSColor colorWithCalibratedRed:0.510 green:0.643 blue:0.804 alpha:1] setStroke];
        [betterBounds stroke];
    }
} 
```

我在这里画了一个额外的蓝色边框（尽管这对你的黑匣子来说似乎是不必要的）

# zend-framework - zendframework 2 - 保存自定义库文件夹的位置

> ID：11824631
> 
> 赞同：11
> 
> 时间：2012-08-06T08:10:42.103
> 
> 标签：zend-framework, zend-framework2

在 Zendframework-1 中，我们通常将自定义代码保存在 library 文件夹下（与 application 文件夹平行）几乎使用与 zend 框架（供应商）库相同的文件夹结构来创建插件或扩展核心库。

在 zend 框架 2 中，更改了文件夹结构。zend 供应商核心库移动到供应商文件夹下，应用程序文件夹移动到模块（根）文件夹。

我的问题是，在 ZF2 中保存自定义插件/基于代码的库文件夹的最佳位置是哪个？

其他人经历过这个阶段吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T16:44:21.100

取决于你的**图书馆的目的**

案例 1，**被许多模块使用**：
将它放在您的供应商文件夹中，确保符合 PSR-0，这使得自动加载变得容易。

情况 2，**仅由一个模块使用**：
将其放在下面`modules/your_module/src`并编辑`Module.php`s`getAutoloaderConfig()`方法以使其自动加载。

```
....

class Module {

....

public function getAutoloaderConfig()
{
    return array(
        'Zend\Loader\ClassMapAutoloader' => array(
            __DIR__ . '/autoload_classmap.php',      // classmap for production usage
        ),
        'Zend\Loader\StandardAutoloader' => array(
            'namespaces' => array(
                __NAMESPACE__ => __DIR__ . '/src/' . __NAMESPACE__, // your module's files autoloading (development usage and fallback)
                'library_namespace' => __DIR__ . '/src/librarys_namespace/potential_subfolder', // your library files autoloading (development usage and fallback). eg: 'acme' => '/src/acme/library' for acme namespace
            ),
        ),
    );
}

.... 
```

案例 3，**您的库是第 3 方模块**：
将其放在供应商文件夹中，参考[ZfcUser](https://github.com/ZF-Commons/ZfcUser)

我认为您的用例最喜欢案例 1，您的库修改了例如`Zend\Mvc\Controller\AbstractActionController`插件或附加插件的行为。 **但是**如果一个插件只被一个模块使用，你最好将它与你的模块代码并行放置，如案例 2 中所述。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-06T11:32:17.740

`./vendor`如果您的代码具有通用目的（即：StdClass、ArrayAccess、Iterator 等类...）。简而言之，如果模块需要这些类才能工作，它们应该在供应商内部。

`./module`如果您的插件/代码用于特定目的（和独立），您可以评估它是否是模块（即：ZF-Commons 3rd Party Modules/Plugins like ZfcUser）

# eclipse - Eclipse FeatureNotFoundException

> ID：11824632
> 
> 赞同：21
> 
> 时间：2012-08-06T08:10:45.840
> 
> 标签：eclipse, web.xml

我已经用 maven 构建了我的项目所有构建都成功并且 eclipse 属性生成也成功

但是当我在 Eclipse 4 中打开项目时，我收到了这个错误

```
An internal error occurred during: "Loading descriptor for SALYExplorer.".
org.eclipse.emf.ecore.xmi.FeatureNotFoundException: Feature 'taglib' not found. (platform:/resource/SALYExplorer/src/main/webapp/WEB-INF/web.xml, 313, 10) 
```

在那个位置我有一些属性

虽然项目运行顺利，一切都很好，只是在导航窗格中浏览项目时，Eclipse 总是抛出这个错误框（很烦人）。

该位置的代码

```
<taglib>
    <taglib-uri>xx.tld</taglib-uri>
    <taglib-location>/WEB-INF/tld/xx.tld</taglib-location>
</taglib> 
```

和 xx 定义 int 它的文件

```
<!DOCTYPE taglib PUBLIC "-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN"
     "http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd">
<taglib>

  <tlib-version>1.0</tlib-version>
  <jsp-version>1.2</jsp-version>
.........
</taglib> 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-14T09:21:02.543

问题根本不是标签库，它只是 Eclipse 的错误描述。

这是项目方面与 web.xml dtd .. 他们的版本必须匹配！

如果 web.xml 说：

```
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd"> 
```

但该项目有一个

```
 "Dynamic Web Module 2.5" 
```

然后会发生此错误.. 将 facet 更改为 2.3 或将 web.xml 更改为 2.5... 换句话说：它们必须匹配..

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-05-06T07:11:04.963

我在尝试更新 Eclipse (ALT+F5) 中的 Maven 项目时遇到了这个错误。

web.xml

```
<web-app xmlns="http://java.sun.com/xml/ns/javaee" version="3.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   
    schemaLocation="http://java.sun.com/xml/ns/javaee 
    http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"> 
```

和项目方面

```
Dynamic Web Modul 3.0 
```

这是我可以解决的方法：

`web-app`从元素中删除了所有 xmls-schema 定义

```
<web-app> 
```

然后更新 maven 项目 (ALT+F5)。

重新插入架构定义并重新更新项目 (ALT+F5)。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-05-16T17:01:57.783

根据 web-app_2_5.xsd 中包含的 jsp_2_1.xsd，taglib 标签应该在 jsp-config 标签中：

```
<xsd:complexType name="jsp-configType">
<xsd:annotation>
  <xsd:documentation>

The jsp-configType is used to provide global configuration
information for the JSP files in a web application. It has
two subelements, taglib and jsp-property-group.

  </xsd:documentation>
</xsd:annotation>

<xsd:sequence>
  <xsd:element name="taglib"
       type="javaee:taglibType"
       minOccurs="0"
       maxOccurs="unbounded"/>
  <xsd:element name="jsp-property-group"
       type="javaee:jsp-property-groupType"
       minOccurs="0"
       maxOccurs="unbounded"/>
</xsd:sequence>
<xsd:attribute name="id" type="xsd:ID"/> 
```

当我将 taglib 包装在 js-config 中时，错误消失了。

```
<jsp-config>
    <taglib>
        <taglib-uri>http://www.springframework.org/tags/form</taglib-uri>
        <taglib-location>/WEB-INF/taglibs/spring-form.tld</taglib-location>
    </taglib>
</jsp-config> 
```

以前的解析器可能更宽松。我的配置：Eclipse Luna，内置 maven 3.2.1，web.xml 2.5，Dynamic Web Project facet 2.5。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T09:55:38.310

目前，如果它只是您想要修复的烦人的错误消息，那么作为*短期*修复，请查看此处禁用验证：[Eclipse 'loading descriptor' 需要很长时间](https://stackoverflow.com/questions/11774278/eclipse-loading-descriptor-takes-ages)

如果上述方法不起作用，另一种方法是使用 AHK（Autohotkey），这将在您结束时花费更多的工作。（几年来我一直在使用 AHK 脚本来摆脱我不关心的 Eclipse 错误弹出窗口）

Eclipse[错误 198630](http://bit.ly/RMjGR6)是在 5 年前提出的，其中有**[一条评论](http://bit.ly/RMi7m1)**与 OP 的错误消息几乎相同。（错误本身最终因不可重现而被关闭）。

我有以下问题要问你：

1.  您可以向我们展示错误日志吗？（要查看错误日志，您可以查看错误日志视图或查看实际文件：`WORKSPACE_HOME/.metadata/.log`。请查看**[此](http://bit.ly/N8zbo4)**以获取更多详细信息。）
2.  您是否使用任何特定的服务器适配器，例如 WebLogic 或 Glassfish？

我有以下建议：

1.  在 eclipse 错误线程中，通过更新到特定的 JST 版本至少**[修复了一次问题。](http://bit.ly/RMnPEG)**因此，您是否可以运行 Eclipse 更新并查看问题是否已解决？（这可以通过转到帮助 -> 检查更新来完成）

2.  是否可以尝试在 Eclipse Indigo（而不是您目前拥有的 Juno）中导入项目并查看是否可以重现该问题？（Eclipse Indigo 可**[在此处](http://bit.ly/N8ztLC)**下载，我相信您需要**[Java EE 版本](http://bit.ly/RMpdH6)**）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-24T00:33:44.793

我刚刚得到了同样的症状，一个使用 maven 的 web-app 项目。就我而言，与 web.xml 中的 struts taglib 标记有关，并且该项目具有 struts v1.2.9 依赖项。我通过切换到 struts v1.3.10 解决了这个问题。不要问为什么这解决了问题。

如果您处于相同的情况并且将您的 struts 依赖项从 1.2.9 升级到 1.3.10，请确保在 web.xml 的 DOCTYPE 声明中至少使用 dtd v2.3：

!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web 应用程序 2.3//EN" "http://java.sun.com/j2ee/dtds/web-app_2_3.dtd"

否则你会遇到另一个问题（如果没有互联网连接，你的 webapp 将无法启动）

希望这可以帮助

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-28T16:25:12.720

我怀疑问题出在 Eclipse Web 工具平台和 Java EMF 模型上。这是一个插件列表的图像，包括来自 Eclipse Web 工具平台的 Java EMF 模型和 JEM 东西： ![插件列表，包括来自 Eclipse Web 工具平台的 Java EMF 模型和 JEM 内容](../Images/9b2d214b0ea7580ebaa426280b330ae9.png)

[https://stackoverflow.com/users/1503535/nitin-gurram](https://stackoverflow.com/users/1503535/nitin-gurram)，您的堆栈跟踪看起来像这样吗？

```
!ENTRY org.eclipse.core.jobs 4 2 2012-09-28 12:10:00.554
!MESSAGE An internal error occurred during: "Loading descriptor for grch97.".
!STACK 0
org.eclipse.emf.ecore.resource.impl.ResourceSetImpl$1DiagnosticWrappedException: org.eclipse.emf.ecore.xmi.FeatureNotFoundException: Feature 'taglib' not found. (platform:/resource/grch97/WEB-INF/web.xml, 891, 11)
    at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.handleDemandLoadException(ResourceSetImpl.java:319)
    at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(ResourceSetImpl.java:278)
    at org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.getResource(ProjectResourceSetImpl.java:1003)
    at org.eclipse.jst.jee.model.internal.JEE5ModelProvider.getModelResource(JEE5ModelProvider.java:169)
    at org.eclipse.jst.jee.model.internal.Web25ModelProvider.getModelObject(Web25ModelProvider.java:44)
    at org.eclipse.jst.jee.model.internal.JEE5ModelProvider.getModelObject(JEE5ModelProvider.java:215)
    at org.eclipse.jst.jee.model.internal.common.AbstractMergedModelProvider.loadProviders(AbstractMergedModelProvider.java:261)
    at org.eclipse.jst.jee.model.internal.common.AbstractMergedModelProvider.access$2(AbstractMergedModelProvider.java:255)
    at org.eclipse.jst.jee.model.internal.common.AbstractMergedModelProvider$LoadModelsWorkspaceRunnable.run(AbstractMergedModelProvider.java:278)
    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2344)
    at org.eclipse.jst.jee.model.internal.common.AbstractMergedModelProvider.loadModel(AbstractMergedModelProvider.java:249)
    at org.eclipse.jst.jee.model.internal.common.AbstractMergedModelProvider.getMergedModel(AbstractMergedModelProvider.java:219)
    at org.eclipse.jst.jee.model.internal.common.AbstractMergedModelProvider.getModelObject(AbstractMergedModelProvider.java:139)
    at org.eclipse.jst.jee.ui.internal.navigator.Web25ContentProvider.getNewContentProviderInstance(Web25ContentProvider.java:69)
    at org.eclipse.jst.jee.ui.internal.navigator.LoadingJeeDDJob.run(LoadingJeeDDJob.java:50)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Caused by: org.eclipse.emf.ecore.xmi.FeatureNotFoundException: Feature 'taglib' not found. (platform:/resource/grch97/WEB-INF/web.xml, 891, 11)
    at org.eclipse.emf.ecore.xmi.impl.XMLHandler.reportUnknownFeature(XMLHandler.java:1985)
    at org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleUnknownFeature(XMLHandler.java:1949)
    at org.eclipse.emf.ecore.xmi.impl.XMIHandler.handleUnknownFeature(XMIHandler.java:145)
    at org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleFeature(XMLHandler.java:1893)
    at org.eclipse.emf.ecore.xmi.impl.XMLHandler.processElement(XMLHandler.java:1017)
    at org.eclipse.emf.ecore.xmi.impl.XMIHandler.processElement(XMIHandler.java:81)
    at org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement(XMLHandler.java:995)
    at org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement(XMLHandler.java:706)
    at org.eclipse.emf.ecore.xmi.impl.XMIHandler.startElement(XMIHandler.java:163)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.startElement(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
    at javax.xml.parsers.SAXParser.parse(Unknown Source)
    at org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load(XMLLoadImpl.java:175)
    at org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad(XMLResourceImpl.java:240)
    at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:1505)
    at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:1284)
    at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad(ResourceSetImpl.java:259)
    at org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.demandLoad(ProjectResourceSetImpl.java:811)
    at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(ResourceSetImpl.java:274)
... 14 more 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-19T16:11:56.077

我设法通过从每个有问题的项目的 .project 文件中删除验证器来解决这个问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-09-18T10:22:21.303

我在使用 eclipse 4.3（Kepler）、maven 3.1.0、tomcat 6.0.37 和 jdk7（还安装了 jre6）时遇到了类似的错误，并找到了解决方案来修复它，或者至少通过配置 tomcat 来摆脱繁琐的错误在日食。

在 Preferences->Server-> Runtime Environments 中，定义一个新的运行时环境“Apache Tomcat 6.0”并从已安装的 JRE 中选择 jre6 安装。

然后查看项目属性中的目标运行时。Apache Tomcat v6.0 应该与 Java Runtime Environment v1.6 相关联（如果尚未定义，请按 new 并检查所选 JRE 是否为 java 1.6 运行时）。

希望能帮助到你

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-05-15T20:26:09.683

我能够将项目 Java 方面更新为 1.5，并且错误停止了。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-01-02T06:33:55.677

就我而言，这个问题通过使用版本得到了解决

`org.eclipse.emf.ecore.xmi_2.10.2.v20150123-0348`和`org.eclipse.emf.ecore.xmi.source_2.10.2.v20150123-0348`和 `org.eclipse.emf.ecore.xmi_2.10.2.v20150123-0348`和 `org.eclipse.emf.ecore.xmi.source_2.10.2.v20150123-0348`和 `org.eclipse.emf.common_2.10.1.v20150123-0348`

构建路径中的 jars。尽管存在新版本，但仍在使用旧版本的早期 jar。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-03-11T02:48:10.357

在 Eclipse 中右键单击项目 -> 构建路径 -> 配置构建路径 -> 项目构面 -> 取消选中动态 Web 模块

注意：只要您不打算通过嵌入式应用服务器从 Eclipse 中运行 Web 应用，这种方法就很好。

# maven - Maven 阴影插件警告：我们有重复 - 如何修复？

> ID：11824633
> 
> 赞同：26
> 
> 时间：2012-08-06T08:10:48.663
> 
> 标签：maven, maven-shade-plugin

这是我的项目[POM（链接到粘贴，所以你可以右键单击>另存为pom.xml）](http://hastebin.com/raw/hodujivive)

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.zybnet</groupId>
    <artifactId>excel-reporter</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <packaging>jar</packaging>

    <name>mvn1</name>
    <url>http://maven.apache.org</url>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.17</version>
        </dependency>
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi</artifactId>
            <version>3.8</version>
        </dependency>
        <dependency>
            <groupId>net.sf.jasperreports</groupId>
            <artifactId>jasperreports</artifactId>
            <version>4.6.0</version>
        </dependency>
        <dependency>
            <groupId>org.codehaus.groovy</groupId>
            <artifactId>groovy-all</artifactId>
            <version>2.0.0</version>
        </dependency>
    </dependencies>

    <build>
        <resources>
            <resource>
                <directory>${project.build.sourceDirectory}</directory>
            </resource>
        </resources>
        <plugins>
            <plugin>
                <artifactId>maven-jar-plugin</artifactId>
                <configuration>
                    <finalName>${artifactId}-${version}-tmp</finalName>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-shade-plugin</artifactId>
                <version>1.7.1</version>
                <executions>
                    <execution>
                        <phase>package</phase>
                        <goals>
                            <goal>shade</goal>
                        </goals>
                        <configuration>
                            <filters>
                                <filter>
                                    <artifact>*:*</artifact>
                                    <excludes>
                                        <exclude>META-INF/*.SF</exclude>
                                        <exclude>META-INF/*.DSA</exclude>
                                        <exclude>META-INF/*.RSA</exclude>
                                    </excludes>
                                </filter>
                            </filters>
                            <transformers>
                                <transformer
                                    implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
                                    <mainClass>com.zybnet.Main</mainClass>
                                </transformer>
                            </transformers>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>

</project> 
```

[我按照FAQ](http://docs.codehaus.org/display/MAVENUSER/Shade+Plugin)中的建议配置默认 jar 插件，但是当我运行`mvn package`大约 20K 时仍然会发出警告。跑步`mvn clean`也无济于事。

根据[这个答案](https://stackoverflow.com/a/9807806/315306)，我可以手动排除一些依赖项。但是，我不知道这是否正确，并且依赖关系树相当复杂，因此很难争论从哪里开始。

我知道这些问题无害，但我习惯于将警告视为必须解决的问题。此外，我是Maven的初学者，所以我想了解我的理解有什么问题，以及如何解决问题。

*（这里不能使用 maven 程序集插件）*

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-06T16:57:29.323

有时会在两个或多个 JAR 文件中找到相同的类定义（通常这些是依赖项 JAR）。在这种情况下，开发人员无能为力，只能尝试从依赖项或最终工件中手动排除哪些内容（可能在 的帮助下`mvn dependency:tree -Ddetail=true`）。我[打开了一个问题并提交了一个补丁](https://jira.codehaus.org/browse/MSHADE-128)，以帮助开发人员获得更漂亮的输出，例如

```
[WARNING] xml-apis-1.3.02.jar, xmlbeans-2.3.0.jar define 4 overlappping classes:
[WARNING]   - org.w3c.dom.TypeInfo
[WARNING]   - org.w3c.dom.DOMConfiguration
[WARNING]   - org.w3c.dom.DOMStringList
[WARNING]   - org.w3c.dom.UserDataHandler
[WARNING] maven-shade-plugin has detected that some .class files
[WARNING] are present in two or more JARs. When this happens, only
[WARNING] one single version of the class is copied in the uberjar.
[WARNING] Usually this is not harmful and you can skip these
[WARNING] warnings, otherwise try to manually exclude artifacts
[WARNING] based on mvn dependency:tree -Ddetail=true and the above
[WARNING] output
[WARNING] See http://docs.codehaus.org/display/MAVENUSER/Shade+Plugin 
```

使用这个输出和`mvn dependency:tree`我添加的部分，比如

```
<dependency>
    <groupId>net.sf.jasperreports</groupId>
    <artifactId>jasperreports</artifactId>
    <version>4.7.0</version>
    <exclusions>
        <exclusion>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-ooxml</artifactId>
        </exclusion>
        <exclusion>
            <groupId>bouncycastle</groupId>
            <artifactId>bcmail-jdk14</artifactId>
        </exclusion>
        <exclusion>
            <groupId>bouncycastle</groupId>
            <artifactId>bcprov-jdk14</artifactId>
        </exclusion>
        <exclusion>
            <groupId>org.bouncycastle</groupId>
            <artifactId>bctsp-jdk14</artifactId>
        </exclusion>
    </exclusions>
</dependency> 
```

并设法将警告数量从几千个减少到几十个。不过，这并不完美。尽管如此，他们仍然继续复制粘贴导致名称冲突的类（我不明白为什么）。尽管如此，这个解决方案是特定于这个特定项目的，不能轻易地移植到其他任何东西上。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-09-14T20:00:04.430

作为此问题的更新更新是更新到当前的 Maven 插件。问题是使用

```
<version>1.7.1</version> 
```

这只会告诉你：

```
We have a duplicate org/eclipse/persistence/internal/libraries/asm/AnnotationVisitor.class in /Users/.../repository/org/eclipse/persistence/eclipselink/2.7.0/eclipselink-2.7.0.jar 
```

让您猜测或反复试验，您有重叠类的第一个条目。不是很有用。幸运的是，

```
 <version>3.1.0</version> 
```

将为您提供更有用的输出，包括它们来自的罐子：例如

```
annotations-3.0.1.jar, jcip-annotations-1.0.jar define 4 overlapping classes: 
  - net.jcip.annotations.GuardedBy
  - net.jcip.annotations.NotThreadSafe
  ... 
```

然后，您可以决定排除一个或另一个，或使用 shade 重命名适合您项目的类。

# java - 是否存在用于 PC 的无线可编程遥控器？

> ID：11824634
> 
> 赞同：0
> 
> 时间：2012-08-06T08:10:51.597
> 
> 标签：java, .net, usb, remoteobject

我正在寻找适用于 Windows 或 Linux 主机的可编程遥控器。通过可编程，我的意思是我已经准备好使用（最好是 Java 或 .NET）API 来接收来自遥控器的按键事件并能够编写我自己的自定义行为逻辑。

有谁知道这样的东西是否存在以及在哪里获得？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:17:34.883

你可以在他们的网站或[这里](http://www.mythtv.org/wiki/Category:Remote_Controls)找到很多支持[LIRC](http://www.lirc.org/) / [WinLIRC](http://winlirc.sourceforge.net/)的遥控器。

至于对 LIRC 的 Java API 支持，请[在此处](http://jlirc.sourceforge.net/)尝试。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:14:04.413

是的，它们存在。只需将 ssh 放在您的智能手机上即可。您可以从智能手机 ssh 到主机。

# asp.net - 如何将字符串转换为 HttpFilePostedBase

> ID：11824642
> 
> 赞同：0
> 
> 时间：2012-08-06T08:11:31.920
> 
> 标签：asp.net, asp.net-mvc-3, ajax-upload

有没有办法将字符串转换为 HttpFilePostedBase？我目前正在使用[Ajax File upload](http://valums.com/ajax-upload/)。但它返回的值是字符串。但是我的方法是要求`HttpFilePostedBase`有没有办法将其转换或转换为`HttpFilePostedBase`？

这是我上传文件的示例方法。

```
public bool uploadfiles(HttpPostedFileBase filedata)
{
bool status = false;
//code for uploading goes here
return status;
} 
```

如果 ajax 文件上传正在传递字符串，我该如何调用此方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:27:40.750

你不能。`HttpContext.Request.Files`您可以通过该属性访问发布到 aspx 页面的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:47:07.260

您使用的是 IE 还是 Chrome/Firefox？因为，不同的浏览器以不同的方式上传文件。IE 通过 Requres.Files 上传文件，但其他人`qqfile`在查询字符串中使用。[在此处](https://stackoverflow.com/questions/4884920/mvc3-valums-ajax-file-upload)查看如何将值与 mvc 一起用于不同的浏览器

编辑：那好吧，这个怎么样。这是一个对我有用的例子：

```
 public void ControllerUploadHandler()
    {
        // Set the response return data type
        this.Response.ContentType = "text/html";

        try
        {
            // get just the original filename
            byte[] buffer = new byte[Request.ContentLength];
            if (Request.QueryString["qqfile"] != null)
            {
                using (BinaryReader br = new BinaryReader(this.Request.InputStream))
                    br.Read(buffer, 0, buffer.Length);
            }
            else if (Request.Files.Count > 0)
            {
                HttpPostedFileBase httpPostedFileBase = Request.Files[0] as HttpPostedFileBase;
                using (BinaryReader br = new BinaryReader(httpPostedFileBase.InputStream))
                    br.Read(buffer, 0, buffer.Length);
            }
            else
                this.Response.Write(" {'success': false }");

            // return the json object as successful
            this.Response.Write("{ 'success': true }");
            this.Response.End();
            return;
        }
        catch (Exception)
        {
            // return the json object as unsuccessful
            this.Response.Write("{ 'success': false }");
            this.Response.End();
        }
    } 
```

# iphone - 除了 LLVM 和 LLVM-GCC 之外，还有第三方构建器吗？

> ID：11824646
> 
> 赞同：0
> 
> 时间：2012-08-06T08:11:44.030
> 
> 标签：iphone, ios, xcode, ipad, compiler-construction

我希望使用第三方构建器（不是 LLVM 或 GCC）构建一个库（用 C 语言编写），并在我的 Xcode 项目中使用它。lib本身确实可以用LLVM或GCC编译，但是我的经理想知道它是否可以被其他编译器编译，因为他想获得最佳性能。

PS：我在我的机器上使用了 ARM 编译器（armcc 5.01 Build 94，在 ARM DS-5 IDE 中）和 Keil uVision 4.54。编译器在编译时运行良好，但它们的生成不能用作 Xcode 的库，因为它们编译对象的格式不正确，我不知道如何在 iOS 上编译和运行这个二进制文件。

# joomla - 在 joomla 2.5 上加载组件 com.cck 时出错

> ID：11824658
> 
> 赞同：0
> 
> 时间：2012-08-06T08:12:51.137
> 
> 标签：joomla, joomla2.5

每当我尝试从前端添加文章时，我都会收到主题中所写的错误。我以作者身份登录，Textfilters 设置为无过滤。我也尝试以管理员身份登录 - 同样的错误。我收到一条消息，并且文章在那里，但是在尝试添加文章时出现错误消息并不是那么漂亮。Joomla 版本 2.5.4 - 都应该更新。可能是什么问题呢？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:15:03.867

如果您不使用 Seblod CCK 组件，请移除 Seblod 功能。

查找文件：modules\mod_news_pro_gk4\gk_classes\gk_utils.php 查找并删除下面的第 17 到 27 行。

```
 // 
  $cck_path = JPATH_BASE . DS . 'components' . DS . 'com_cck';
  if (file_exists($cck_path)) {
     if(JComponentHelper::isEnabled('com_cck', true)){
        // Force parsing plugin if SEBLOD is used
        if($this->config['parse_plugins'] == FALSE) {
            $text = JHtml::_('content.prepare', $text);
        }
        $text = trim(substr(strip_tags( $text,"<br /><br><strong></strong><p></p><i></i><b></b><span></span><ul></ul><li></li><blockquote></blockquote>"),0));
     }
  } 
```

# qt - 以编程方式设计 Qt GUI

> ID：11824661
> 
> 赞同：7
> 
> 时间：2012-08-06T08:13:09.940
> 
> 标签：qt, user-interface

我正在尝试创建一个 GUI 应用程序。

主窗口 a`QMainWindow`包含 9 个固定大小的标签，也是主窗口的大小。

我试图在没有 Qt GUI Designer 的情况下以编程方式制作它。该项目的构建没有错误，但我看不到主窗口上显示的任何标签或布局。它只是空白。

这是我的源代码：

```
WCwindow::WCwindow()
{
   // initialize widgets with text
   CAM111 = new QLabel("CAM 01");
   CAM121 = new QLabel("CAM 02");
   CAM131 = new QLabel("CAM 03");

   CAM211 = new QLabel("CAM 04");
   CAM221 = new QLabel("CAM 05");
   CAM231 = new QLabel("CAM 06");

   CAM311 = new QLabel("CAM 07");
   CAM321 = new QLabel("CAM 08");
   CAM331 = new QLabel("CAM 09");

   CAM111->setFixedSize(wcW,wcH);
   CAM121->setFixedSize(wcW,wcH);
   CAM131->setFixedSize(wcW,wcH);
   CAM211->setFixedSize(wcW,wcH);
   CAM221->setFixedSize(wcW,wcH);
   CAM231->setFixedSize(wcW,wcH);
   CAM311->setFixedSize(wcW,wcH);
   CAM321->setFixedSize(wcW,wcH);
   CAM331->setFixedSize(wcW,wcH);

   QGridLayout *layout = new QGridLayout;
   layout->addWidget(CAM111,0,0);
   layout->addWidget(CAM121,0,1);
   layout->addWidget(CAM131,0,2);

   layout->addWidget(CAM211,1,0);
   layout->addWidget(CAM221,1,1);
   layout->addWidget(CAM231,1,2);

   layout->addWidget(CAM311,2,0);
   layout->addWidget(CAM321,2,1);
   layout->addWidget(CAM331,2,2);

   setLayout(layout);

   setWindowTitle("Camera Window");
   setFixedSize(1000, 800);

} 
```

当然，这个类是在 main.cpp 中初始化和调用的：

```
int main(int argc, char *argv[])
{
    QApplication app(argc, argv);

    WCwindow *WCwin = new WCwindow;

    WCwin->show();

    return app.exec();
} 
```

我有什么样的错误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T11:18:56.650

下面的代码工作正常。问题出在您未显示的代码中。当您使用 a`QMainWindow`时，正如您最终承认的那样，您需要`centralWidget`使用您构建的新小部件来设置它。

```
// main.cpp
#include <QVector>
#include <QMainWindow>
#include <QLabel>
#include <QGridLayout>
#include <QApplication>

class WCwindow : public QMainWindow
{
public:
    WCwindow();
private:
    QVector<QLabel*> cams;
    QLabel* cam(int r, int c) const {
        return cams[r*3 + c];
    }
};

WCwindow::WCwindow()
{
    QGridLayout *layout = new QGridLayout;

    for (int i = 1; i < 10; ++ i) {
        QLabel * const label = new QLabel(QString("CAM %1").arg(i, 2, 10, QLatin1Char('0')));
        label->setFixedSize(200, 50);
        layout->addWidget(label, (i-1) / 3, (i-1) % 3);
        cams << label;
    }

    QWidget * central = new QWidget();
    setCentralWidget(central);
    centralWidget()->setLayout(layout);

    setWindowTitle("Camera Window");
    setFixedSize(1000, 800);
}

int main(int argc, char *argv[])
{
    QApplication app(argc, argv);
    WCwindow win;
    win.show();
    return app.exec();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T11:22:19.377

是`WCwindow`的子类`QMainWindow`吗？在这种情况下，我建议通过单击顶部栏中的“中断布局”按钮从 GUI 编辑器中的窗口中删除布局，然后使用以下命令：

```
//setup all your labels and layout ...

//creating a QWidget, and setting the WCwindow as parent
QWidget * widget = new QWidget(this); 

//set the gridlayout for the widget
widget->setLayout(layout); 

//setting the WCwindow's central widget
setCentralWidget(widget); 
```

# css - 在网页中使用 alpha 渲染图片

> ID：11824664
> 
> 赞同：0
> 
> 时间：2012-08-06T08:13:15.473
> 
> 标签：css, textures

有没有办法在网页中使用 alpha 渲染背景纹理？我想在渐变顶部有纹理，这样我就可以看穿它。

我没有为此使用画布（尽管我确实将画布用于其他动画效果）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:15:53.170

你可以通过 CSS3 多重背景和 CSS3 渐变来实现。这是一篇关于这个主题的[好文章](http://snook.ca/archives/html_and_css/multiple-bg-css-gradients "CSS 背景和渐变")。

**编辑**：为了澄清，您基本上只需要在对象上定义两个背景。第一个是渐变，第二个是 alpha 纹理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T09:16:43.287

为此，您不需要 CSS3。在. `html`_`body`

```
html {background: #fff url(path/to/bg-tile.png) repeat 0 0;}
body {background: transparent url(path/to/gradient.png) repeat-x 0 0;} 
```

[IE<9 不支持多背景图片](http://caniuse.com/#feat=multibackgrounds)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:56:39.233

您可以只使用一个大 div 作为背景，并在 div 内添加渐变和 png，然后使用 css 调整大小和位置

# nginx - SignalR 重复响应

> ID：11824672
> 
> 赞同：0
> 
> 时间：2012-08-06T08:14:05.147
> 
> 标签：nginx, load, duplicates, signalr

我将 SignalR 与 Redis 一起用作位于 Nginx 代理后面的服务器上的消息总线，以实现负载平衡。我使用 SignalR 的 PersistentConnection 类编写了一个简单的聊天程序，该程序将消息广播给属于同一特定组的用户。用户在 OnConnectedAsync 中添加到组中，在 OnDisconnectAsync 中删除，并且用户到组的映射是确定性的。

目前，无论出于何种原因，客户端都会退回到长轮询（我不完全确定为什么），并且每当客户端在等待并收到响应后建立新连接时，似乎是随机的，服务器有时会响应尽管只有一个 POST，但新连接会立即与先前的响应建立连接。

消息 ID 往往相差一个，（较小的 ID 首先出现），其余的响应保持不变。我记录了一些调试信息，并且非常肯定我对 OnReceivedAsync 的覆盖正在为每个请求发送一个响应。我在没有 Redis 消息总线的情况下尝试了相同的实现，但遇到了同样的问题。然而，在本地运行（使用长轮询）产生了很好的结果，所以我怀疑问题可能出在消息总线可能缓冲消息以刷新可能没有赶上的客户端的方式上，以及切割/设置的一些奇怪的时间与 Nginx 负载均衡器的连接，但除此之外，我非常茫然。

任何帮助，将不胜感激。

编辑：进一步的调查表明，重复发生在大约 20-30 秒的定期间隔。我被引导相信消息总线中的消息过期可能与该错误有关。

编辑：可以在这里看到错误：http: [//tinyurl.com/9q5t3va](http://tinyurl.com/9q5t3va)
服务器只是广播客户端发送的计数器。您会注意到一些响应每 20 次左右就会重复一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:27:30.597

将 IIS (6.0) 服务器管理器中的工作进程数从 2 个减少到 1 个解决了该问题。

# .htaccess - 从子域指向子文件夹

> ID：11824677
> 
> 赞同：0
> 
> 时间：2012-08-06T08:14:20.517
> 
> 标签：.htaccess, subdomain

我的主站点`www.mysite.com`使用的是 drupal

我想在以下位置创建一个 WP 博客`blog.mysite.com` （我知道我可以使用 drupal 创建一个博客平台，但不想这样做，WP 最适合简单地写博客）

我对 .htaccess 很陌生，想知道是否有办法 `www.mysite.com/blog`指向`blog.mysite.com` （因为`mysite.com/blog`对 SEO 更好）（但不重定向到那里，它只需要从那里加载，所以访问者可以`mysite.com/blog`在他们的浏览器中看到）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:23:01.500

如果您启用了 mod_proxy，您可以使用该`[P]`标志在内部将**www.mysite.com/blog**请求代理到**blog.mysite.com**。在**www.mysite.com**的文档根目录的 htaccess 文件中（在任何与 drupal 相关的规则之上）：

```
RewriteEngine On
RewriteRule ^/?blog/(.*)$ http://blog.mysite.com/$1 [L,P] 
```

如果您没有 mod_proxy，您可能需要在与您的 drupal 站点相同的文档根目录中的某处设置 WP（例如在 中`/blog/`）并让 wordpress 在子目录中工作。在让它与另一个 CMS 一起工作方面，我的结果好坏参半，所以不确定我可以在那里给你多少帮助。

格万托：谢谢。我没有 mod_proxy，但我认为它可能会导致在子域下使用它并以这种方式访问​​（例如，所有内部链接将指向什么？）。将它放在子文件夹中的第二个选项可能是最好的： http: [//drupal.org/node/877828](http://drupal.org/node/877828)

# powershell - Sybase 光标在 powershell 脚本中不起作用

> ID：11824683
> 
> 赞同：2
> 
> 时间：2012-08-06T08:14:38.890
> 
> 标签：powershell, cursor, sybase

在我的工作中，我需要运行一个 sql 来获取系统的对象，我可以找到一个关于以下链接的解决方案：[why-is-this-query-not-working-in-sybase](https://stackoverflow.com/questions/5138853/why-is-this-query-not-working-in-sybase)，正确的 SQL 列表如下：

```
DECLARE my_cursor CURSOR FOR
SELECT name
FROM   sysobjects
WHERE  type = 'U'
go

DECLARE @tableName VARCHAR(500)

OPEN my_cursor
FETCH my_cursor INTO @tableName

WHILE @@sqlstatus = 0
 BEGIN
  --Do something here
    select @tableName
  FETCH my_cursor INTO @tableName

END

CLOSE my_cursor
DEALLOCATE CURSOR my_cursor 
```

上面的 SQL 在 Sysbase 中正确运行，但是当我编写一个 powershell 脚本并包含上面的 sql 时，发生了棘手的事情，我得到了以下错误：

```
******************* Exception type : System.Data.Odbc.OdbcException
 ****************** Exception message : ERROR [HY000] [MERANT][ODBC Sybase driver][SQL Server]DECLARE CURSOR must be the only statement in a query batch. 
```

我搜索了很多但没有结果，任何人都可以帮助我吗？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T08:51:57.653

可能您必须使用 SQL 准备一个脚本（例如 cur.sql）并使用 isql 运行它：

```
isql -Uuser -Ppass -Sserver -Ddatabase -icur.sql 
```

我希望它对你有用。

# c - waitpid() 的第二个参数是什么意思？

> ID：11824685
> 
> 赞同：5
> 
> 时间：2012-08-06T08:14:43.497
> 
> 标签：c, pid

[从这里](https://stackoverflow.com/questions/3664854)的一个现有问题，有人给出了这个示例代码：

```
int status;
child_pid = fork();
if (child_pid == 0) {
     // in child; do stuff including perhaps exec
} else if (child_pid == -1) {
     // failed to fork 
} else {
     if (waitpid(child_pid, &status, 0) == child_pid) {
          // child exited or interrupted; now you can do something with status
     } else {
          // error etc
     }
 } 
```

谁能向我解释第二个参数的`waitpid()`用途是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T09:54:10.387

来自手册页：

```
 If  status is not NULL, wait() and waitpid() store status infor-
   mation in the int to which  it  points.   This  integer  can  be
   inspected  with  the  following  macros  (which take the integer
   itself as an argument, not a pointer to it, as is done in wait()
   and waitpid()!):

   WIFEXITED(status)
          returns  true  if the child terminated normally, that is,
          by calling exit(3) or  _exit(2),  or  by  returning  from
          main().

   WEXITSTATUS(status)
          returns  the  exit status of the child.  This consists of
          the least significant 8 bits of the status argument  that
          the  child  specified in a call to exit(3) or _exit(2) or
          as the argument for a return statement in  main().   This
          macro should only be employed if WIFEXITED returned true.

   WIFSIGNALED(status)
          returns true if the child process  was  terminated  by  a
          signal.

   WTERMSIG(status)
          returns  the  number  of the signal that caused the child
          process to terminate.  This macro should only be employed
          if WIFSIGNALED returned true.

   WCOREDUMP(status)
          returns  true  if  the  child produced a core dump.  This
          macro should only be  employed  if  WIFSIGNALED  returned
          true.  This macro is not specified in POSIX.1-2001 and is
          not available on some Unix  implementations  (e.g.,  AIX,
          SunOS).   Only  use this enclosed in #ifdef WCOREDUMP ...
          #endif.

   WIFSTOPPED(status)
          returns true if the child process was stopped by delivery
          of  a  signal; this is only possible if the call was done
          using WUNTRACED or when the child is  being  traced  (see
          ptrace(2)).

   WSTOPSIG(status)
          returns  the  number of the signal which caused the child
          to stop.  This macro should  only  be  employed  if  WIF-
          STOPPED returned true.

   WIFCONTINUED(status)
          (since  Linux  2.6.10)  returns true if the child process
          was resumed by delivery of SIGCONT. 
```

因此它存储“孩子如何终止”的状态。

您可以使用宏来调查孩子究竟是如何终止的，并且您可以根据孩子的终止状态定义一些操作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T08:16:57.927

它是选项的位域，唯一可用的是 WNOWAIT，意思是让孩子处于等待状态；稍后的等待调用可用于再次检索子状态信息。

见： http: [//linux.die.net/man/2/waitpid](http://linux.die.net/man/2/waitpid)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-30T16:20:44.590

```
 pid = fork();
      if(pid < 0)
      {
        printf("fork failed\n");
        return -1;
      }
      else if(pid == 0)
      {
        sleep(5);
        printf("Child process\n");
        return 2;
      }
      else
      {
        printf("Parent process\n");
        kill(pid, SIGKILL);
        waitpid(pid, &ret, 0);
        if(WIFEXITED(ret))
          printf("Child process returned normally\n");
        if(WIFSIGNALED(ret))
          printf("Child process terminated by signal\n");
        return 1;
      } 
```

如您所见，返回值可用于检查特定进程如何终止并在此基础上采取措施。

如果您注释代码中的 kill 行，子进程将正确终止。

# drop-down-menu - 即使 dijit.form.Select 中的值未更改，用于选择选项的事件。

> ID：11824689
> 
> 赞同：1
> 
> 时间：2012-08-06T08:15:03.323
> 
> 标签：drop-down-menu, dojo, onchange, dijit.form

我需要帮助来确定当我从`dijit.form.Select`. 我已经知道该`onChange`事件，并且想知道即使值未更改也会触发的事件。

**用例**

我在我的项目中使用 dijit.form.Select。我在此选择下拉列表中有一些值，例如 {Multiple,a,b,c,d}。当我选择多个时，它会启动弹出对话框。当我选择其他值 a、b、c 或 d 时，该值将在该下拉列表中设置。

目前我捕获 onChange 事件以检查用户是否选择了“多个”值，以便我可以启动弹出对话框。

现在这里有一个问题。1\. 假设默认选择的值为 a。2\. 现在我选择 Multiple，onChange 被触发并弹出对话框被启动。3\. 现在，如果我再次选择 Multiple，则不会触发 onChange 事件，因此代码不会启动弹出对话框。

每次用户在下拉列表中选择“多个”值时，我都想启动此对话框。有什么建议吗？我尝试过使用 onClick、onBlur 和 onFocus 事件，但它们对我没有多大用处。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T12:17:04.187

您可以为此行为捕获小部件的 事件`'onExecute'`。但是，请记住，您不会将 newVal 作为此事件的函数的参数。要获取新值，请使用以下行作为函数的第一行：`dropDown``dijit.form.Select`

```
var newVal = this.focusedChild.option.value; 
```

这肯定会起作用:)

# objective-c - 为什么我会收到构建警告，说：“格式字符串未使用数据参数”？

> ID：11824696
> 
> 赞同：1
> 
> 时间：2012-08-06T08:15:28.520
> 
> 标签：objective-c, ios, xcode

我对这段代码有疑问：我尽力解决但失败了，它的构建成功但警告让我非常恼火。

```
// Parse content as structure (Atom feeds with element type="xhtml")
// - Use elementName not qualifiedName to ignore XML namespaces for XHTML entities
if (parseStructureAsContent) {

    // Open XHTML tag
    [currentText appendFormat:@"<%@", elementName];

    // Add attributes
    for (NSString *key in attributeDict) {
        [currentText appendFormat:@" %@=\"%@\"", key, 
            [[attributeDict objectForKey:key] stringByEncodingHTMLEntities]];
    }

    // End tag or close
    if (ELEMENT_IS_EMPTY(elementName)) {
        [currentText appendFormat:@" />", elementName];
    } else {
        [currentText appendFormat:@">", elementName];
    } 
```

问题出在最后几行

```
 if (ELEMENT_IS_EMPTY(elementName)) {
        [currentText appendFormat:@" />", elementName];
    } else {
    [currentText appendFormat:@">", elementName];
    } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T08:27:36.903

`elementName`正如警告所说，下面一行中的参数没有占位符。

```
[currentText appendFormat:@" />", elementName]; 
```

做就是了`[currentText appendFormat:@" />"];`

# python - 用于 OpenCV2.4 的 Python

> ID：11824697
> 
> 赞同：0
> 
> 时间：2012-08-06T08:15:48.927
> 
> 标签：python, opencv

我从 svn 下载了 opencv 2.4 源代码，然后我使用命令'cmake -D BUILD_TESTS=OFF' 生成 makefile 并制作和安装。发现python模块制作成功。但是当我在 python 中导入 cv2 时，没有模块 cv2 存在。还有什么我应该配置的吗？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:29:21.437

您应该将 cv2 库复制到 PYTHONPATH 中的某个位置，或者将当前目录添加到 PYTHONPATH。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T09:57:11.800

您是否运行过“make install”或“sudo make install”？虽然不是绝对必要的，但它会将生成的二进制文件复制到您的系统路径。

# c# - 水晶报表和登录问题

> ID：11824699
> 
> 赞同：3
> 
> 时间：2012-08-06T08:16:06.927
> 
> 标签：c#, sql-server, entity-framework, crystal-reports

我需要一些帮助。

实际上，我已经阅读过这个问题，并且我认为我已经解决了它，但它一直困扰着我。

这是关于开发和生产环境中的不同登录。

这应该是解决方案（EF 和 SQL Server）：

```
SqlConnectionStringBuilder builder = new SqlConnectionStringBuilder((model.Connection as EntityConnection).StoreConnection.ConnectionString);

ConnectionInfo ci = new ConnectionInfo();

ci.ServerName = builder.DataSource;
ci.DatabaseName = builder.InitialCatalog;
ci.UserID = builder.UserID;
ci.Password = builder.Password;

report.SetDatabaseLogon(ci.UserID, ci.Password, builder.DataSource, ci.DatabaseName);

foreach (CrystalDecisions.CrystalReports.Engine.Table tbl in report.Database.Tables)
{
    TableLogOnInfo logon = tbl.LogOnInfo;
    logon.ConnectionInfo = ci;
    tbl.ApplyLogOnInfo(logon);
} 
```

我从实体连接中提取登录信息并将其应用于报告中的所有表。这应该够了吧。我添加了 SetDatabaseLogon() 只是为了确定，但这不是必需的。

现在，当我在生产环境中运行报告时，报告会弹出一个数据库登录屏幕，显示正确的服务器名称（生产服务器），数据库旁边没有任何内容（这是我关心的），正确的用户名，没有密码，要求输入登录信息.

我输入它，但 CR 说“登录失败。请重试”。我的意思是WTF。我使用相同的凭据通过 Management Studio 连接到数据库。

我正在使用 WPF 查看器，顺便说一句。

我真的卡在这里了，我做了一些调试，连接信息得到了所有正确的数据，所以一定要报告谁是罪魁祸首，但我该怎么办？

任何帮助，将不胜感激。我希望有人在我之前遇到过同样的问题。

问候

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2017-10-16T21:13:37.900

我在使用“SetDatabaseLogon”时遇到问题

我改变了

```
report.DataSourceConnections[0].SetConnection("Servername","InitialCatalog", "UserID", "Password"); 
```

我希望这对某人有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:48:41.653

查看我的[博客文章](http://www.jonegerton.com/dotnet/crystal-reports-setting-login-credentials-through-code/)中执行相同工作的代码，我可以看到一些不同之处：

*   设置`tbl.Location`为自身（这可能是在内部重新初始化某些东西——没有它就无法工作）。
*   将您的代码放入可以重新调用以处理子报告的方法中：
*   我的版本永远不需要调用`report.SetDatabaseLogon`

除此之外，它们基本相同。

代码：

```
void SetConnection(ReportDocument rd, crConnectionInfo ci)
{

    foreach (CrystalDecisions.CrystalReports.Engine.Table tbl in rd.Database.Tables)
    {
        TableLogOnInfo logon = tbl.LogOnInfo;
        logon.ConnectionInfo = ci;
        tbl.ApplyLogOnInfo(logon);
        tbl.Location = tbl.Location;
    }
    if (!rd.IsSubReport) {
        foreach {ReportDocument sd in rd.SubReports) {
            SetConnection(sd,ci)
        }
    }
} 
```

（注意：只是手动编码，所以在使用之前检查它）。

这适用于 VS2008 版本的水晶报告（忘记它叫什么）。

编辑：另一件事，在我的连接初始化中，有几个额外的属性集：

```
ci.Type = ConnectionInfoType.SQL;
ci.IntegratedSecurity = false; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T19:05:44.527

这完全是愚蠢的问题，我偶然解决了它。在我的台式计算机上安装 Crystal Reports 时出现了问题，所以每当我使用数据库专家编辑某些内容（例如添加一些表格）时，它都会破坏我的报表。我所做的只是在我的笔记本电脑上使用“设置数据库位置”选项，现在我的报告运行完美。

# facebook - Twitter：平台迁移。它将在 2012 年 8 月 1 日永久禁用

> ID：11824700
> 
> 赞同：0
> 
> 时间：2012-08-06T08:16:18.440
> 
> 标签：facebook, twitter, endpoint

我一直在尝试将我的 Facebook 页面与我的常规 Facebook 页面连接到我的 Twitter 帐户。

它链接到我的常规页面很好......但每次我检查我的 Facebook 粉丝页面时，它都会给我这个错误：

错误：此端点已被弃用。要暂时重新启用它，您可以禁用“august_2012”平台迁移。它将在 2012 年 8 月 1 日永久禁用。

我不是程序员。我到处寻找尝试“禁用”它，但找不到在哪里执行此操作。Facebook/Twitter 什么时候能解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T13:41:57.773

恐怕这永远无法解决。Facebook 平台是一个活生生的环境——这意味着添加了新的东西，也删除了一些东西。似乎该功能已被删除。由于它已经过去了 8 月 1 日，它已经一去不复返了。

# visual-studio-2012 - 在 VS11 解决方案资源管理器中预览文件

> ID：11824701
> 
> 赞同：0
> 
> 时间：2012-08-06T08:16:40.330
> 
> 标签：visual-studio-2012, visual-studio-addins, vsx

我有一个 Visual Studio 扩展，它生成一个脚本文件并将其添加到当前项目中。

我想利用 Visual Studio 2012 解决方案资源管理器中的文件预览功能，以便在将文件添加到项目时预览文件（而不是实际打开文件）。

这是我到目前为止的代码：

```
UIHierarchy UIH = ((DTE2)dte).ToolWindows.SolutionExplorer;
UIHierarchyItem UIHItem = UIH.GetItem(@"MySolution\MyProject\MyClass.cs");
UIHItem.Select(vsUISelectionType.vsUISelectionTypeSelect); 
```

这会选择解决方案资源管理器中的项目，但不会显示预览。

有没有办法让VS显示预览？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:33:21.107

我想出了一个解决方案，但它并不完全漂亮。

由于似乎没有显示文件预览的特定命令，因此另一种方法是切换“预览选定项目”按钮两次。

```
// Select the new item in the Solution Explorer
UIHierarchy UIH = ((DTE2)dte).ToolWindows.SolutionExplorer;
UIHierarchyItem UIHItem = UIH.GetItem(@"MySolution\MyProject\MyClass.cs");
UIHItem.Select(vsUISelectionType.vsUISelectionTypeSelect);

var guidStandardCommandSet11 = new Guid("{D63DB1F0-404E-4B21-9648-CA8D99245EC3}");
int cmdidToggleSingleClickPreview = 35;

// Activate the Solution Explorer to ensure the following commands are available
dte.Windows.Item(EnvDTE.Constants.vsWindowKindSolutionExplorer).Activate(); 

// Toggle the Preview button in the Solution Explorer on/off or off/on
dte.Commands.Raise(guidStandardCommandSet11.ToString(), cmdidToggleSingleClickPreview, null, null);
dte.Commands.Raise(guidStandardCommandSet11.ToString(), cmdidToggleSingleClickPreview, null, null); 
```

通过切换两次，始终显示预览并始终保持先前的切换状态（由用户设置）。

# javascript - 表单操作 url 根据#tag 更改

> ID：11824702
> 
> 赞同：0
> 
> 时间：2012-08-06T08:16:52.687
> 
> 标签：javascript, jquery

是否可以根据浏览器#tag 使用 jQuery/js 更改表单操作 Url？

选项卡工作正常，我只需要更改操作即可。

这是我目前使用的标签 js，我也在使用 jQuery 地址插件：

```
var QTABS = {

init: function () {
    // attached onload and change event to address plugin
    $.address.init(function(event) {
        // first load, set panel
        QTABS.setPanel(event);
    }).change(function(event) {
        // if the url changes, set panel
        QTABS.setPanel(event);          
    });
},

// the core function to display correct panel
setPanel: function (event) {

    // grab the hash tag from address plugin event
    var hashtag = event.pathNames[0];
    // get the correct tab item, if no hashtag, get the first tab item
    var tab = (hashtag) ? $('.tabs li a[href=#' + hashtag + ']') : $('.tabs li:first a');

    // reset everything to default
    $('.tabs li').removeClass('activeTab');
    $('.tab_container .tab_content').hide();

    // if hashtag is found
    if (hashtag) {

        // set current tab item active and display correct panel
        tab.parent().addClass('activeTab');
        $('.tab_container .tab_content:eq(' + (tab.parent().index()) + ')').show();          

    } else {

        // set the first tab item and first panel               
        $('.tabs li:first').addClass('activeTab');
        $('.tab_container .tab_content:first').show();           

    }

    if ($('.tabs').length)
    {
        // change the page title to current selected tab
        document.title = tab.attr('title');
    }
}
}

// Execute this script!
QTABS.init(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:25:37.223

因为我不知道表单在哪里以及您希望如何访问它。如果您想更改操作 url 来执行此操作：

```
$("form").attr("action", "Put your new Url here"); 
```

**更新**：

```
$("#tag")..attr("action", "Put your new Url here"); 
```

如果您想使用标准 Javascript，您可以进行如下更改：

```
document.forms[0].action = "Put your new Url here"; 
```

注意：您可以用`forms[0]`您的表单名称替换。

**更新：**

如果你有一个带有 id 的表单，那么它类似于上面的方法调用：

```
document.getElementById("tag").action = "Put your new Url here"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:25:49.653

这就是我已经成功使用的

```
 $("#myDelete").click(function(){
       $('#myForm').attr("action", "accounttrandelete.php"); 
      $("#myForm").submit();
      return false;
    });
  $("#myEdit").click(function(){
      $('#myForm').attr("action", "accounttranedit.php"); 
      $("#myForm").submit();
      return false;
    });
  $("#myRec").click(function(){
      $('#myForm').attr("action", "accounttranrec.php"); 
      $("#myForm").submit();
      return false;
    });
  $("#myUnRec").click(function(){
      $('#myForm').attr("action", "accounttranunrec.php"); 
      $("#myForm").submit();
      return false;
    }); 
```

# javascript - JS对象作为对象访问私有变量

> ID：11824704
> 
> 赞同：1
> 
> 时间：2012-08-06T08:17:02.167
> 
> 标签：javascript, object

> **可能重复：**
> [对象字面量声明中的自引用](https://stackoverflow.com/questions/4616202/self-references-in-object-literal-declarations)

给定这个对象：

```
var OBJ = (function(){

    var dom = {
            prop1 : 'something',
            prop2 : 'something',
            prop3 : prop1
        }

    return dom.prop3;

})(); 
```

我将如何实现 prop3 参考（理想情况下不创建方法）？我试过了：

> 这个.prop1，dom.prop1，这个.dom.prop1

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T08:19:04.040

在完成创建对象之前，您无法访问对象的属性。创建对象，然后分配其他值。

```
var dom = {
        prop1 : 'something',
        prop2 : 'something'
};
dom.prop3 = dom.prop1; 
```

# php - 使用 php 连接到 mysql db 时出现问题

> ID：11824708
> 
> 赞同：0
> 
> 时间：2012-08-06T08:17:21.450
> 
> 标签：php, mysql

我在godaddy上有一个测试数据库，我之前也遇到过类似的问题，但是在stackoverflow的帮助下它得到了解决。所以我实际上使用了相同的解决方案但是现在我在尝试加载我的php时遇到了很多错误来自浏览器的文件。

```
Warning: mysql_query() [function.mysql-query]: Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2) in /home/content/97/8603797/html/countryQuery.php on line 14

Warning: mysql_query() [function.mysql-query]: A link to the server could not be established in /home/content/97/8603797/html/countryQuery.php on line 14

Warning: mysql_numrows(): supplied argument is not a valid MySQL result resource in /home/content/97/8603797/html/countryQuery.php on line 16

Warning: mysql_close(): no MySQL-Link resource supplied in /home/content/97/8603797/html/countryQuery.php on line 18
Database Output 
```

我已经阅读了问题所在，并且我阅读的一些内容表明我没有正确连接到数据库。但我只是在做我已经阅读/被告知的事情，并且真的不知道我还能做些什么来解决问题我遇到的问题...

这是我的 php 代码，如果有人有建议或解决方案，我将不胜感激。

```
<?

 $hostname = 'mydatabasename.db.6666666.hostedresource.com';
  $database = 'mydatabasename';
  $username = 'myusername';
  $password = 'secretsecret';

  // establish a connection
  $db = new PDO("mysql:host=$hostname;dbname=$database",$username,$password);

$query="SELECT * FROM `Countries`";

$result=mysql_query($query);

$num=mysql_numrows($result);

mysql_close();

echo "<b><center>Database Output</center></b><br><br>";

$i=0;
while ($i < $num) {

$country=mysql_result($result);

echo "<b>$country<br>";

$i++;
}

?> 
```

输出应该只是我在我的数据库的国家表中拥有的国家名称列表。其中包含值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:20:57.190

您正在混合 PDO 和`mysql_*`函数。

尝试这样的事情：

```
$db = new PDO("mysql:host=$hostname;dbname=$database",$username,$password);
$db->setAttribute(PDO::ATTR_AUTOCOMMIT, true);
$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

$sql="SELECT * FROM `Countries`";

$numRows=$dbh->exec($sql);
echo "There were $numRows selected with:<b> $sql </b><br><br>";
$db=null;
unset($db); 
```

从 PDO 连接获取数据时，我通常使用[FETCH_INTO](http://php.net/manual/en/pdostatement.fetch.php)选项执行以下操作：

```
$stmt = $db->query($sql);
$obj = $stmt->setFetchMode(PDO::FETCH_INTO, new userStructure);
// I do normally have a class matching the row I wan:

foreach($stmt as $userStructure)
{
    $someObject->year=$userStructure->year;
    $someObject->month=$userStructure->month;
    unset($stmt);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:32:24.283

确保在使用 PDO 连接时也包括端口。这看起来像是您在托管环境中执行此操作。检查有关所使用端口的安装指南。

# xtext - 访问 Xtext 的运行时 EMF 模型

> ID：11824710
> 
> 赞同：3
> 
> 时间：2012-08-06T08:17:42.403
> 
> 标签：xtext, emf

我通过 Xtext 创建了一个 DSL，现在我需要将编辑器中创建的模型转换为另一个模型。我想最直接的方法是使用某种 M2M 转换框架，但我需要访问文本文件背后的模型。问题：如何获得对模型的引用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T14:58:28.140

Xtext 创建的模型也有一个为它们创建的资源工厂。如果您尝试将文本文件加载为 EMF 模型，EMF 将寻找可用于扩展您的文本文件的资源工厂。从那里，Xtext 将在 EMF 模型中转换文本文件，并将创建的模型提供给 EMF。您可以通过右键单击文本文件并选择“打开方式”和“示例反射 ecore 模型编辑器”来查看此机制的运行情况。所以这样的事情应该有效：

```
ResourceSet rs = new ResourceSetImpl();
Resource r = rs.getResource(uriOfYourTextualFile, true);
List<EObject> contentOfYourFile = r.getContents(); 
```

# android - 如何在我的 Android SDK 环境中安装 Open NFC 插件

> ID：11824711
> 
> 赞同：3
> 
> 时间：2012-08-06T08:17:49.420
> 
> 标签：android, nfc

**我想在我的 Android SDK 环境中安装 Open NFC 插件。但我不知道该怎么办！**

实际上，使用此附加组件中提供的新目标，我可以创建一个嵌入 Open NFC 的新 Android 虚拟设备 (AVD)，并在此 AVD 上运行 Android 模拟器，我可以在模拟器中使用 NFC 功能。模拟器实际上连接到连接中心工具。在此环境中，我可以使用 NFC 模拟器或连接中心驱动的 MicroRead 开发套件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T14:11:43.100

1.  [您可以从http://sourceforge.net/projects/open-nfc/files/Open%20NFC%204.4.1%20%2813312%29/Open%20NFC%20SDK%20for%20Android%20v4.4.1](http://sourceforge.net/projects/open-nfc/files/Open%20NFC%204.4.1%20%2813312%29/Open%20NFC%20SDK%20for%20Android%20v4.4.1%20%2813751%29.zip/download)下载 zip 文件 [%20%2813751%29.zip/下载](http://sourceforge.net/projects/open-nfc/files/Open%20NFC%204.4.1%20%2813312%29/Open%20NFC%20SDK%20for%20Android%20v4.4.1%20%2813751%29.zip/download)

并提取“addon_open_nfc_4.4.1_android_4.0.3”命名文件夹并将其粘贴到您的android sdk安装位置的附加文件夹中

1.  打开 SDK 管理器-> 虚拟设备-> 新建-> 命名您的 AVD 并选择 Open-NFC 作为您的目标。

# c# - 嵌套组的正则表达式问题并在模式中使用“^”和“$”

> ID：11824712
> 
> 赞同：0
> 
> 时间：2012-08-06T08:17:49.940
> 
> 标签：c#, regex, string

我有这样的内容：

```
var testInput =
    "05(testcontent)\r\n" +
    "06(testcontent2)\r\n" +
    "07(testcontent3)(testcontent4)" +
    "08(testcontent5)"; 
```

我需要为每一行获取一个代码字符串和两个值字符串。对于第一行：

*   代码：`"05"`
*   价值1：`"testcontent"`
*   值 2：空字符串。

对于第三行：

*   代码：`"07"`
*   价值1：`"testcontent3"`
*   价值2：`"testcontent4"`

我使用的模式：

```
// (?<Code>[0-9]{2}) - 2 digit number
// \((?<Value1>.+)\) - First value, which is inside the parentheses.
// (\((?<Value2>.+)\))? - Second value, which also is inside the parentheses.
// The second value does not always exist. Which is why it has "?" at its end.
var testPattern = @"(?<Code>[0-9]{2})\((?<Value1>.+)\)(\((?<Value2>.+)\))?"; 
```

我使用的代码：

```
var testRegex = new Regex(testPattern,
    RegexOptions.Compiled |
    RegexOptions.CultureInvariant |
    RegexOptions.ExplicitCapture |
    RegexOptions.Multiline);
foreach (Match match in testRegex.Matches(testInput))
    Console.WriteLine("{0}: {1} | {2}",
        match.Groups["Code"].Value,
        match.Groups["Value1"].Value,
        match.Groups["Value2"].Value); 
```

我得到的结果：

```
05: testcontent |
06: testcontent2 |
07: testcontent3)(testcontent4)08(testcontent5 | 
```

如果我`^`在模式的开头和`$`结尾使用，我会变得更糟：

```
07: testcontent3)(testcontent4)08(testcontent5 | 
```

所以，

*   为什么当我指定“RegexOptions.Multiline”时`^`，`$`事情变得更加复杂？
*   我的模式有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:25:37.460

您的 Value1 或 Value2 中是否会有右括号？如果没有，我建议使用否定字符类，例如`[^)]+`而不是`.+`. 原因是`.+`“贪婪”（即尽可能多地重复）在这种情况下会导致问题。

# android - 当前位置的地图视图标记

> ID：11824716
> 
> 赞同：0
> 
> 时间：2012-08-06T08:18:19.407
> 
> 标签：android, android-mapview, google-maps-markers

我正在使用此代码查看用户的当前位置。但我还需要在上面做一个标记。我已经看过一些关于此的教程，但我仍然不明白。

这是我的活动

```
public class MapViewActivity extends MapActivity {
    @Override
    protected void onCreate(Bundle arg0) {
        // TODO Auto-generated method stub
        super.onCreate(arg0);
        setContentView(R.layout.mapview);

//------------Start Displaying Map View--------------//     
     LocationManager locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);

            LocationListener locationListener = new LocationListener() {
                public void onLocationChanged(Location location) {
                    int lat = (int) (location.getLatitude() * 1E6);
                    int lng = (int) (location.getLongitude() * 1E6);
                    GeoPoint test= new GeoPoint(
                            lat,lng);

                   MapView mapview = (MapView) findViewById(R.id.mvmap);
                   MapController mapcontrol = mapview.getController();
                   mapcontrol.animateTo(test);
                   mapcontrol.setZoom(10);
                   mapview.setStreetView(true);
                   mapview.setSatellite(true);
                   mapview.setBuiltInZoomControls(true);
                }

                public void onProviderDisabled(String provider) {
                    // TODO Auto-generated method stub

                }

                public void onProviderEnabled(String provider) {
                    // TODO Auto-generated method stub

                }

                public void onStatusChanged(String provider, int status, Bundle extras) {
                    // TODO Auto-generated method stub

                }
            };
            locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:31:10.790

将此类用于 ItemizedOverlay。

```
public class CustomItemizedOverlay extends ItemizedOverlay<OverlayItem> {

private ArrayList<OverlayItem> mapOverlays = new ArrayList<OverlayItem>();

private Context context;

public CustomItemizedOverlay(Drawable defaultMarker) {
    super(boundCenterBottom(defaultMarker));
}

public CustomItemizedOverlay(Drawable defaultMarker, Context context) {
    this(defaultMarker);
    this.context = context;
}

@Override
protected OverlayItem createItem(int i) {
    return mapOverlays.get(i);
}

@Override
public int size() {
    return mapOverlays.size();
}

@Override
protected boolean onTap(int index) {
    OverlayItem item = mapOverlays.get(index);
    Log.e(" on tap item value ", "" + mapOverlays.get(index) + " Index "
            + index);
    AlertDialog.Builder dialog = new AlertDialog.Builder(context);
    dialog.setTitle(item.getTitle());
    dialog.setMessage(item.getSnippet());
    dialog.show();

    return true;
}

public void addOverlay(OverlayItem overlay) {
    mapOverlays.add(overlay);
    this.populate();
}

public void removeOverlay() {
    mapOverlays.clear();
    // this.populate();
} 
```

}

在您的 MapViewActivity 中，声明，

```
 CustomItemizedOverlay itemizedOverlay;
List<Overlay> mapOverlays;

mapOverlays = mapView.getOverlays();
Drawable drawable = this.getResources().getDrawable(R.drawable.marker);
itemizedOverlay = new CustomItemizedOverlay(drawable, this);

OverlayItem overlayitem = new OverlayItem(test," "," ");
itemizedOverlay.addOverlay(overlayitem);
mapOverlays.add(itemizedOverlay); 
```

# python - Python：改变 raw_input？

> ID：11824719
> 
> 赞同：-3
> 
> 时间：2012-08-06T08:18:28.390
> 
> 标签：python

我正在尝试创建一个程序来创建问题，最终返回用户输入的信息。这是我的代码：

> > . 默认问卷：

```
>>.   Loop = 0
>>
>>    While loop != 1:

>>      Print "A: name"

>>      Print "B: age"

>>      Print "B: Favorite color".

>>      Zen = raw_input("choose a, b, or c") #my problem line

>>      If zen == "a" or "A":

>>        A = raw_input("Input your name: ")

>>.     Elif zen == "b" or "B":

>>.       B = raw_input:("Input your age: ")

>>.     Elif zen == "C" or "c":

>>        C = raw_input("Input your favorite color")

>>      Else:

>>        Print A, B, C

>>        Break 
```

结尾有点复杂，但基本上这就是我的功能。帮助？我也尝试在 if 和 elifs 之后插入 return，但这使程序卡住（无法输入）所以我把它们拿出来

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T08:21:57.783

您的代码中有许多语法错误。

*   您不能大写`def`, `while`, `print`, `if`, `elif`, `else`,`break`或任何其他[python 关键字](http://docs.python.org/reference/lexical_analysis.html#keywords)，它们*必须*全部小写。

*   您需要在变量名的大小写上保持一致。是两个不同的变量`Zen`！`zen`

*   您必须在函数名称后加上括号，如下所示：`def questionaiire():`

*   此行中的句点是语法错误。去掉它。

    ```
    print "B: Favorite color". 
    ```

*   此行中的冒号`raw_input`是语法错误。去掉它。

    ```
    B = raw_input:("Input your age: ") 
    ```

*   我不知道`>>`每行开头的 s 是什么，我认为它不是实际源代码的一部分。如果是，则删除`>`行首所有出现的 。

*   这条线没有做你认为它做的事情：

    ```
    if zen == "a" or "A": 
    ```

    它是这样解释的：

    ```
    if (zen == "a") or "A": 
    ```

    所以它总是正确的，因为`"A"`评估为`True`. 改为这样写：

    ```
    if zen.lower() == "a": 
    ```

这是一个工作示例。为了便于比较，我对代码进行了尽可能少的更改。

```
def questionaiire():
    a = b = c = ""
    while True:
        print "a: name"
        print "b: age"
        print "c: favorite color"
        zen = raw_input("choose a, b, or c: ")
        if zen.lower() == "a":
            a = raw_input("input your name: ")
        elif zen.lower() == "b":
            b = raw_input("input your age: ")
        elif zen.lower() == "c":
            c = raw_input("input your favorite color: ")
        else:
            print a, b, c
            break 
```

您从未使用过该`loop`变量，因此我已将其删除。由于您使用`break`，因此在此代码示例中没有真正需要它。

你在编写这个简短的代码时所犯的错误的数量和种类表明，在编写更多的 Python 或在本网站上询问更多与 Python 相关的问题之前，至少阅读[Python 教程的前几章会](http://docs.python.org/tutorial/)*真正受益。*

# java - Java，如何调整二维数组的第二维？

> ID：11824720
> 
> 赞同：0
> 
> 时间：2012-08-06T08:18:32.887
> 
> 标签：java

在我的应用程序中，我需要一个二维数组。如果我定义它修复它工作正常，像这样：

```
static final String arrGroupelements[] = {"India", "Australia", "England", "South Africa"};
    static final String arrChildelements[][] = { {"Sachin Tendulkar", "Raina", "Dhoni", "Yuvi" },
                                                 {"Ponting", "Adam Gilchrist", "Michael Clarke"},
                                                 {"Andrew Strauss", "kevin Peterson", "Nasser Hussain"},
                                                 {"Graeme Smith", "AB de villiers", "Jacques Kallis"} }; 
```

但是，在我的代码中，我有两个列表。第一个是我能得到的食谱名称列表。

```
LinkedList<String> recipeList = dbShoppingHandler.getAllRecipeNames();
        String arrGroupelements[] = new String[recipeList.size()];
        for(int i=0; i<recipeList.size(); i++) {
            arrGroupelements[i] = recipeList.get(i);
        } 
```

我的第二个清单是成分清单。为了获得成分列表，我需要设置配方名称，然后我可以获得列表。但是，我不知道如何将此列表作为第二维。我的代码是这样的：

```
String arrChildelements[][] = new String[recipeList.size()][20];
        for(int i=0; i<recipeList.size(); i++) {
            LinkedList<String> ingredient = dbShoppingHandler.getIngredientsOfRecipeName(recipeList.get(i));
            for(int j=0; j<ingredient.size(); j++) {
                arrChildelements[i][j] = ingredient.get(j);
            }
        } 
```

不好的是，我需要为第二维设置一个数字（在我的情况下为 20）。如果我喜欢这个有 5 个项目的列表，我将有 15 个“”元素，而那些有超过 20 个项目的代码将忽略它们。

第一个维度是固定的，但我需要根据成分的数量调整第二个维度。

任何建议表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:20:47.800

如何在所需的大小中分配一个数组：

```
String arrChildelements[][] = new String[recipeList.size()][];
//                     not mentioning second dimension size ^^
for(int i=0; i<recipeList.size(); i++) {
    LinkedList<String> ingredient = dbShoppingHandler.getIngredientsOfRecipeName(recipeList.get(i));
    arrChildelements[i] = String[ingredient.size()];
//   assigning new array here ^^
    for(int j=0; j<ingredient.size(); j++) {
        arrChildelements[i][j] = ingredient.get(j);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:22:46.113

我建议不要将二维数组用于动态结构。数组是不可变的，所以你必须复制它们，创建间隙并移动元素。标准 Java 库没有提供很多有用的方法来做到这一点。

相反，使用列表列表：

```
List<List<String>> data = new ArrayList<List<String>>(); 
```

列表有许多有用的方法来附加元素、插入和删除它们，它们会让你的生活更轻松。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:26:21.103

不假设您提前知道长度的最简单方法。

```
String[][] arrChildelements[] = new String[recipeList.size()][];
for(int i=0; i<recipeList.size(); i++) {
    List<String> ingredient = dbShoppingHandler.getIngredientsOfRecipeName(recipeList.get(i));
    arrChildelements[i] = ingredient.toArray(new String[0]);
} 
```

# ruby-on-rails - 渲染动作

> ID：11824723
> 
> 赞同：0
> 
> 时间：2012-08-06T08:18:38.207
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我正在尝试在我的`application.html.erb`布局文件中呈现一个动作，以使用一些 jquery 脚本将其显示为模式框。我听说我可以使用`render :template => 'spots/new'`，但看起来这个方法不是渲染一个动作，而只是一个视图文件。

**景点#新**

```
def new
  @spot = Spot.new
end 
```

**新的.html.erb**

```
<%= form_for(@spot) do |f| %>
...
<% end %> 
```

问题是，当我尝试使用 进行渲染`spots#new`时`render :template => 'spots/new'`，我遇到了`undefined method 'model_name' for NilClass:Class`错误。你知道我在做什么错吗？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:41:32.320

你是对的，`render :template => 'spots/new'`只是渲染你的视图模板，它不调用`spots#new`. 您应该在渲染模板之前创建 @spot 实例变量。

在您的情况下，以下代码可能会起作用：

```
<% @spot ||= Spot.new %>
<%= form_for(@spot) do |f| %>
...
<% end %> 
```

# c# - C# 中的应用程序范围的键过滤器

> ID：11824725
> 
> 赞同：0
> 
> 时间：2012-08-06T08:18:38.767
> 
> 标签：c#, user-input, restrict

我希望我的 Win-Forms 应用程序（有许多不同的表单）只接受用户输入的某些字符。此限制应适用于所有表单、所有输入字段等。是否有任何简单的解决方案来实现这一点，而无需向每个表单添加键盘事件，甚至更好，无需更改任何现有表单？

首先，我想到了一个低级键盘挂钩，但这将全局应用于系统上运行的每个应用程序中的每个用户输入，我猜这不是理想的解决方案。还有其他可能性或建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:29:50.797

如果为所需的每个控件创建自定义控件并将控件设置为继承核心控件，则可以这样做。例如，此代码将防止单击零：

```
public class MyTextBox : TextBox
{
    protected override void OnKeyUp(KeyEventArgs e)
    {
        if (e.KeyCode == Keys.D0)
            e.SuppressKeyPress = true;
    }
} 
```

您甚至可以从工具箱中拖动此控件（在构建之后）。

# accumulo - 如何删除累积的实例？

> ID：11824730
> 
> 赞同：5
> 
> 时间：2012-08-06T08:19:01.250
> 
> 标签：accumulo

我在通过调用**accumulo init**初始化 accumulo 时创建了一个实例 但是现在我想删除该实例，并且我还想创建一个新实例。任何人都可以帮助做到这一点吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-06T21:28:41.957

从 HDFS 中删除 $ACCUMULO_HOME/conf/accumulo-site.xml 中的 instance.dfs.dir 属性指定的目录。

如果您没有在 accumulo-site.xml 中指定 instance.dfs.dir，则默认为“/accumulo”。

然后，您应该能够`accumulo init`成功调用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-15T21:29:04.043

I don't have enough rep to answer your follow-up comment.

Make sure you restarted the monitor process since reiniting. Furthermore, make sure the node you're running your monitor on has the same configuration as the rest of the instance, as well as the same configuration for Hadoop on the classpath based on HADOOP_HOME.

# c# - 如何将字符串从 C# 传递给 delphi dll 函数？

> ID：11824738
> 
> 赞同：2
> 
> 时间：2012-08-06T08:20:10.160
> 
> 标签：c#, string, delphi, unity3d, delphi-2006

所以我想使用由delphi制作的.dll文件的功能。

这是delphi的代码，

```
procedure Login(login,password:PChar); stdcall;
   var
    LoginPacket:tLoginPacket;
    s:IP_bigstr;
    q,w:integer;
    pb:PByte;
   begin
    LogMessage('Login: '+login+' pwd: '+password);
    fillchar(loginpacket,sizeof(loginpacket),0);
    LoginPacket.code:=10;
    LoginPacket.lr.version:=100;
    LoginPacket.lr.protocol:=ProtocolVersion;
    LoginPacket.lr.login:=login;
    LoginPacket.lr.gameversion:=version;
    s:=password;
    EncryptPwd(s,@loginPacket.lr.pwd);
    Loginpacket.lr.pwdhash:=PasswordHash(password);
    LoginPacket.lr.gameID:=0;
    LoginPacket.lr.regname:='noname';
    LoginPacket.lr.cdkey:=0;
    LoginPacket.lr.cshash:=0;
    loginpacket.lr.sversion:='';
    pb:=@loginpacket; inc(pb);
    for q:=1 to sizeof(tloginpacket)-1 do begin
      pb^:=pb^ xor ((q+10)*(q+10) div 5);
      inc(pb);
    end;
    SendData(@loginpacket,sizeof(loginpacket));
    SimpleRequest(21,1,0);
    SimpleRequest(20,0,0);    
   end; 
```

这是我的 C#(unity3d) 尝试，

```
[DllImport ("ServerTool")]
private static extern void Login([MarshalAs(UnmanagedType.LPStr)]string id, [MarshalAs(UnmanagedType.LPStr)]string pass);

private static extern void Login(string id, string pass);

...
if(stage ==1){
Login("Test", "qwerty");
stage = 2;
} 
```

以上对 Login 方法的定义都失败了，

并且在运行这部分时（if(stage==1)...Login），unity 崩溃并关闭。

所以我认为 C# 中的这种登录用法在与 delphi dll 通信方面存在一些问题。

请帮忙。

预先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:25:08.153

不要忘记 C# 中的调用约定：

```
[DllImport ("ServerTool.dll"), CallingConvention=CallingConvention.StdCall)] 
```

您可能还需要根据您使用的 Delphi 版本指定一个 CharSet。

请参阅[http://msdn.microsoft.com/en-us/library/7b93s42f.aspx](http://msdn.microsoft.com/en-us/library/7b93s42f.aspx) 和[http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.callingconvention.aspx](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.callingconvention.aspx)

# c# - 设计薪资系统 C# SQl Server

> ID：11824746
> 
> 赞同：0
> 
> 时间：2012-08-06T08:21:00.513
> 
> 标签：c#, sql-server-2008, database-design

我在创建工资管理系统时遇到了一点麻烦。以下是我对系统的一些疑问，如果您能提供帮助：

员工的工资由各种工资组成部分组成。每个工资组件都有 3 个与之关联的规则，一个计算规则（将组件计算为另一个组件的百分比，或一个固定数字或固定数字的百分比），一个资格规则（员工/部门是否有资格获得一个组件）和限制组件的最大值和最小值的约束规则。每个公司都应该能够为每个组件定义自己的规则。如何做到这一点？

这些规则是可编辑的，并且可以由用户编辑。在这种情况下，我如何保留以前的值，以便更改不会影响我过去的值？

如何存储每个员工每个月的工资信息。我现在可以计算一个月的薪水，但是将其与 year_id、month_id、emp_id、sal_id 等一起存储在数据库中非常繁琐。还有其他方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T11:45:35.847

> 这些规则是可编辑的，并且可以由用户编辑。在这种情况下，我如何保留以前的值，以便更改不会影响我过去的值？

将您计算的值与定义和执行计算的子系统分开存储。

你实际所做的——你支付了谁，支付了多少，在什么日期——需要与系统的动态部分安全隔离。（这意味着您需要将其存储在单独的表中。）当它被隔离时，

*   很容易审核，
*   动态部分的更改不可能影响工资单历史记录，
*   可以完全替换或删除动态部分，而不会影响工资单历史记录。

> 如何存储每个员工每个月的工资信息。我现在可以计算一个月的薪水，但是将其与 year_id、month_id、emp_id、sal_id 等一起存储在数据库中非常繁琐。还有其他方法吗？

如果您在键入“year_id”和“month_id”时没有爆炸，那么这个工资单项目不适合您。接受@sqlvogel 的建议，购买现成的系统。

# sql-server - 从 In -> Exists 转换 Sql Server 查询？

> ID：11824749
> 
> 赞同：0
> 
> 时间：2012-08-06T08:21:21.810
> 
> 标签：sql-server, sql-server-2005

我想转换这个查询：

```
SELECT *
FROM   myTable
WHERE   dateCreated = (
                       SELECT MAX(dateCreated)
                       FROM   myTable
                      )
      AND duty IS NULL
      AND CompanyPayingId   IN 
                                  (43081 ,43082 ,43084 ,43085) 
```

从更改`in`为`Exists`查询（由于性能）：

但是我在转换代码时遇到了麻烦，因为我认为我必须复制*where*子句......

如何转换此代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:28:36.650

我可以这样做：

```
create table num(idn int)
insert into num values(43081) ,(43082),(43084) ,(43085)
select * from num
SELECT *
FROM   myTable m inner join num n
ON  m.dateCreated = (SELECT MAX(dateCreated) FROM   myTable)
      AND m.duty IS NULL
      AND m.CompanyPayingId=n.num 
```

# .net - 开始/结束与 1000 个客户端的 socketasynceventargs

> ID：11824751
> 
> 赞同：2
> 
> 时间：2012-08-06T08:22:09.737
> 
> 标签：.net, sockets, networking, socketasynceventargs

我想知道哪种异步类型在开发速度和稳定性方面都是最好的。我正在编写一个必须支持 1000 个并发客户端的概念验证网络应用程序。

每个客户端每秒发送大约 5 个 30 字节的数据包。服务器每秒发送大约 5 个 200 字节的数据包。

我从早期使用阻塞套接字的测试中获得了这些数字。我认为我应该使用高吞吐量的 SocketAsyncEventArgs 原因，但这也需要更长的时间来开发。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T08:30:18.023

IIRC 两者之间的主要区别在于`SocketAsyncEventArgs`无需分配大量对象（即回调等），考虑到您的吞吐量，这可能是一个有效的问题。特别是，这可能有助于防止由于 GC 导致的周期性性能下降。另一个好处是混合“这可能运行异步，或者它可能运行同步；我会告诉你哪个” - 需要一点时间来适应，但非常方便。

然而，与所有事物一样，任何高通量系统都需要**设计**为高通量。如果您从头开始，我将很难找到*不*使用的理由`SocketAsyncEventArgs`——无论哪种方式，异步网络 IO 总是需要一些头疼和计划。当我们为 SE 编写 web-socket 服务器（处理 50k+ 并发连接）时，一个特别有用的技巧是确保我们回收所有`byte[]`缓冲区，即从中央缓冲区池中获取（并将它们返回），仅当池为空时分配新的缓冲区（并且作为必然结果，只有在池已满时才将缓冲区丢弃在地板上）。当然，在那种情况下，我们可能不会每次都与所有客户交谈。如果你要*经常*与每个客户端交谈，另一种选择可能是将缓冲区粘贴到每个连接。也许更多的内存开销，但可能会使事情变得更简单。

至于“也需要更长的时间来开发”；这可能是真的，特别是如果您已经非常熟悉旧的异步模型。我想这归结为拥有始终如一的服务器的重要性。当然，这两种方法都需要严格的测试。

# c# - 如何等待有条件的任务？

> ID：11824755
> 
> 赞同：2
> 
> 时间：2012-08-06T08:22:26.477
> 
> 标签：c#, task-parallel-library, task

我有一些返回布尔值的任务。我只想等到任何任务首先返回 True 。是否可以 ？

我的第一个想法是使用 CancellationTokenSource 但这不是一个好主意，因为当我调用 Task.WaitAll 方法时它会引发异常。

第二种选择是使用我在引用中传递的布尔值，如果为真，则直接返回。它有效，但性能不佳：

```
bool isFound = false;
Task<bool> t0 = Task.Factory.StartNew<bool>(() => Find(paramA, paramB, ref isFound));
Task<bool> t1 = Task.Factory.StartNew<bool>(() => Find(paramC, paramD, ref isFound));
Task<bool> t2 = Task.Factory.StartNew<bool>(() => Find(paramE, paramF, ref isFound));
Task<bool> t3 = Task.Factory.StartNew<bool>(() => Find(paramG, paramH, ref isFound));

Task.WaitAll(new Task[] { t0, t1, t2, t3, t4 });
return t0.Result | t1.Result | t2.Result | t3.Result | t4.Result; 
```

并在方法中：

```
 private static bool Find(int[,] m1, int[,] m2, ref bool isFound)
 {
      if (isFound)
           return false;

      // Do work...
 } 
```

编辑 ：

正如预先确定的答案，我`TaskCompletionSource<bool>`现在使用：

```
TaskCompletionSource<bool> tcs = new TaskCompletionSource<bool>();
Task<bool> t0 = Task.Factory.StartNew<bool>(() => Find(paramA, paramB);
Task<bool> t1 = Task.Factory.StartNew<bool>(() => Find(paramC, paramD);
Task<bool> t2 = Task.Factory.StartNew<bool>(() => Find(paramE, paramF);
Task<bool> t3 = Task.Factory.StartNew<bool>(() => Find(paramG, paramH);

t0.ContinueWith(_ =>
{
    if (t0.Result)
        tcs.TrySetResult(t0.Result);
});

t1.ContinueWith(_ =>
{
    if (t1.Result)
        tcs.TrySetResult(t1.Result);
});

t2.ContinueWith(_ =>
{
    if (t2.Result)
        tcs.TrySetResult(t2.Result);
});

t3.ContinueWith(_ =>
{
    if (t3.Result)
        tcs.TrySetResult(t3.Result);
});

t4.ContinueWith(_ =>
{
    if (t4.Result)
        tcs.TrySetResult(t4.Result);
});

tcs.Task.Wait();
return tcs.Task.Result; 
```

在这种情况下，当所有任务都返回 false 时，什么都没有注意到，这是正常的。但是我不知道如何使用该`WhenAll`方法。我试图添加这个：

```
tcs.Task.Wait();
Task tr = Task.WhenAll(new Task[] { t0, t1, t2, t3, t4 });

if (tr.IsCompleted)
    return false;
else
    return tcs.Task.Result; 
```

但它不起作用:(

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-06T08:27:53.950

一种选择是创建`TaskCompletionSource`您想要的任何类型（如果需要，识别结果）。然后为每个任务添加一个延续，[`TaskCompletionSource.TrySetResult`](http://msdn.microsoft.com/en-us/library/dd449176.aspx)如果结果为真则调用。

然后就等着吧`TaskCompletionSource.Task`。它避免了你不得不[`Task.WaitAny`](http://msdn.microsoft.com/en-us/library/dd235627)反复打电话，检查结果等。

棘手的一点是，当*所有*任务都返回 false[`Task.WhenAll`](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task.whenall%28v=vs.110%29.aspx)时`{ success, all failed }`......

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T08:26:43.570

你需要[`WaitHandle.WaitAny`](http://msdn.microsoft.com/en-us/library/tdykks7z.aspx). 一开始你设置了一个`WaitHandle[]`，每个人等待一个`Task`，当任务成功执行（并得到`true`你期望的结果）时，你发出相应的信号`WaitHandle`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T08:48:42.723

您可以使用[ManualResetEvent](http://msdn.microsoft.com/en-us/library/system.threading.manualresetevent%28v=vs.110%29.aspx)这几乎会使您的`isFound`财产变得多余，例如

```
private static ManualResetEvent found = new ManualResetEvent(false);
...

Task.Factory.StartNew<bool>(() => Find(paramA, paramB));     
Task.Factory.StartNew<bool>(() => Find(paramC, paramD));     
Task.Factory.StartNew<bool>(() => Find(paramE, paramF));     
Task.Factory.StartNew<bool>(() => Find(paramG, paramH));  

var result = found.WaitOne(TimeSpan.FromSeconds(10)); // wait with timeout of 10 secs

// do something with result

...
private static bool Find(int[,] m1, int[,] m2)          
{          
    if (found.WaitOne(0)) // check whether MSE has already been set
        return false;        

    // Do work...
    found.Set();
} 
```

# c - 如何用C语言复制结构数据？

> ID：11824756
> 
> 赞同：-3
> 
> 时间：2012-08-06T08:22:34.993
> 
> 标签：c, pointers, struct, copy

我仍然无法理解如何复制包含 char* 字段\其他结构字段的结构：

```
typedef struct node{
   int id;
   struct node* parent
   char * nodeName;
   struct node* nodes[100];
 }NODE,*pNODE; 
```

我想使用这个功能：`pNODE copyNode(pNODE oldNode)` 1\. 我知道首先我应该为新的指针数据进行分配，然后执行以下操作：

```
pNODE newNode = (pNODE)calloc(1,sizeof(NODE));
newNode.id=oldNode.id
//for the string that I want to copy I should allocate and use strcpy - in order not to point at the same string 
```

但是现在我对父节点迷路了，我该如何复制它？如果我这样做：`newNode.parent=oldNode.parent` 我指向同一个父对象，如果我更改它的 ID，例如 - 它会同时更改 newNode 和 oldNode 的 ID。怎么复制？？没有指向同一个？以及如何复制指针数组？

谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:38:18.500

看一下 memcopy 函数：

```
memcpy(oldNode.parent, newNode.parent, sizeof(node)). 
```

当然，您首先需要使用 malloc 为 newNode 的父节点分配内存（在这种情况下 calloc 没有意义 - 它用于数组）

```
newNode.parent = (NODE*)malloc(sizeof(NODE)) 
```

如果你想做一个深拷贝（即不重用引用的对象），你应该遍历 newNode 结构并为结构中包含的每个指针分配内存，然后应用 memcopy。

# oracle - 从 oracle 转储文件导入特定表？

> ID：11824758
> 
> 赞同：6
> 
> 时间：2012-08-06T08:22:40.390
> 
> 标签：oracle, plsql, dump, imp

我有一个巨大的 oracle 数据库的转储，所以不可能全部导入。我想导入一个名为 X 的特定表。问题是 X 有外键。如果我只导入 X，我会收到以下错误：

```
imp user/pass@dbName tables=X  rows=y ignore=Y
ORA-02291: integrity constraint violated - parent key not found 
```

我已经在本地拥有了整个数据库（但没有数据），我想导入与 X 关联的所有表。我该如何实现呢？我已经安装了 plsql。我还需要知道这些表的顺序才能知道首先要导入哪个表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:27:36.023

您可以在导入之前禁用所有数据库约束，然后重新启用它们。看：

*   [在 oracle 中禁用所有表约束](https://stackoverflow.com/questions/128623/disable-all-table-constraints-in-oracle)或
*   [oracle_disable_constraints](http://www.dba-oracle.com/t_oracle_disable_constraints.htm)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-21T02:09:36.737

问题很少，所以我将尝试一一回答。

```
ORA-02291: integrity constraint violated - parent key not found 
```

毫无疑问，因为您知道您没有表 X 的父记录。顺便说一下，您可能还想使用标志`CONSTRAINTS=N`，因为您已经有 db，如您所说。

“我想导入与 X 关联的所有表。我该如何实现？”

好吧，只能手动查找所有依赖项（或使用数据字典表`user_cons_columns`等`user_constraints`查找）并导入这些表。如果您不这样做，请考虑一下。你会破坏你的数据完整性。如果您仍然希望表 X 中的数据没有依赖关系，则禁用约束然后导入。但是你不会再次启用你的约束，我不知道你想对损坏的数据做什么。

“我还需要知道这些表的顺序，才能知道首先要导入哪个表。”

在导入前禁用约束，然后在导入后启用它们。在这种情况下，您不必担心订单。

# ruby - 在 JRuby 中使用 Tap

> ID：11824760
> 
> 赞同：1
> 
> 时间：2012-08-06T08:22:45.523
> 
> 标签：ruby, jruby, taps

我正在尝试在 JRuby 中运行[Taps](https://github.com/ricardochimal/taps)，但它总是失败。SQLite3似乎有问题：

```
taps server sqlite:///my-db.sqlite3 user passwd

/usr/bin/java: symbol lookup error: ~/.rvm/gems/jruby-1.6.7.2/gems/sqlite3-1.3.6/lib/sqlite3/sqlite3_native.so: undefined symbol: rb_check_safe_obj 
```

有没有人像我一样被困在这里面？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T01:21:08.243

After hours of searching and looking through the code of Taps, I found the answer myself :D. The problem is native SQLite in JRuby is a madness, we must use JDBC instead.

```
export TAPS_DATABASE_URL="jdbc:sqlite:///tmp/taps.db.2012-08-07"
taps server jdbc:sqlite:///my-db.sqlite3 user passwd 
```

The first command is to prevent Taps from creating it internal DB with native sqlite connection. Taps will use ENV['TAPS_DATABASE_URL']. In the second command, we must add a prefix 'jdbc:' to instruct Taps (actually Taps use [Sequel](http://sequel.rubyforge.org/rdoc/files/doc/opening_databases_rdoc.html)) connect to DB with JDBC adapter.

# c - 将两个 32 位浮点数转换为一个 64 位数字，反之亦然

> ID：11824762
> 
> 赞同：1
> 
> 时间：2012-08-06T08:22:49.020
> 
> 标签：c, floating-point, 64-bit, 32bit-64bit, type-conversion

我需要在 C 中将两个 32 位浮点数转换为一个 64 位数字，反之亦然。实现这一目标的最佳方法是什么？

我对最好的方法有点困惑，如果我应该从 32 位的浮点数转换为 64 位的长整数，反之亦然。

帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:30:12.117

如果您正在谈论以某种方式在数学上组合它们（例如加法），您可以先将它们强制为 64 位：

```
float pi = 3.141592653589;
float e  = 2.718281828459;
double sum = (double)pi + (double)e; 
```

我猜这*不是*您想要的，因为正如评论中有人指出的那样，如果您所拥有的只是它们的总和，那么很难恢复到原始值。

* * *

如果您只是简单地按顺序组合位，则可以执行以下操作：

```
#include <stdio.h>

union {
    struct {
        float f1;
        float f2;
    };
    double d;
} xyzzy;

int main (void) {
    xyzzy.f1 = 3.141592653589;
    xyzzy.f2 = 2.718281828459;
    double d2 = xyzzy.d;

    printf ("%lf\n", xyzzy.d);

    xyzzy.f1 = 0;
    xyzzy.f2 = 0;
    xyzzy.d = d2;

    printf ("%f %f\n", xyzzy.f1, xyzzy.f2);
} 
```

输出：

```
14.985018
3.141593 2.718282 
```

尽管您应该记住，这种行为（类型双关语）是根据它是否会起作用而定义的实现。在任何情况下，如果`float`值是 32 位大小和对齐方式，则内部`struct`本身几乎肯定是 64 位，您可以使用它来代替 the `double`（换句话说，使用 the`struct`并去掉封闭的`union`）。

如果您想要一些可以为您完成繁重工作的功能，请参见下文：

```
#include <stdio.h>

double cvtToDbl (float n1, float n2) {
    struct { float n1; float n2; } s;
    s.n1 = n1;
    s.n2 = n2;
    return *((double*)&s);
}

void cvtToFlts (double d, float *pn1, float *pn2) {
    struct { float n1; float n2; } *ps = (void*)&d;
    *pn1 = ps->n1;
    *pn2 = ps->n2;
}

int main (void) {
    float f1 = 0, f2 = 0;
    double d = cvtToDbl (3.141592653589, 2.718281828459);
    printf ("%lf\n", d);

    cvtToFlts (d, &f1, &f2);
    printf ("%f %f\n", f1, f2);

    return 0;
} 
```

# objective-c - 如何为 NSMutableURLRequest 发送 PostData 请求

> ID：11824766
> 
> 赞同：0
> 
> 时间：2012-08-06T08:23:12.743
> 
> 标签：objective-c, ios, nsmutableurlrequest

我有一个带有参数的 URL。在火狐中。我有下载插件并找到请求的参数。我在 httpFox 插件工具上找到了 PostData 选项卡，我看到了参数和值。

我创建了一个字符串并添加了参数，并对该字符串值进行了编码

```
NSString *parameterId = [NSString StringWithFormat:@"ac$2_sdrex_es34_4333f=Caa111"];

NSString EncodeID = [parameterId
  stringByAddingPercentEscapesUsingEncoding:NSASCIIStringEncoding]; 
```

...并创建了 PostData，

```
PostData = [encodeID  dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES]; 
```

...并设置 postLength，

```
NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]]; 
```

...并设置 http 标头值，

```
[request setValue:postLength forHttpHeaderField:@"Content-Length"];
[request setHTTPBody:postData]; 
```

然后建立连接，

```
connection = [[NSURLConnection alloc]initWithRequest:request delegate:self]; 
```

但这会导致以下错误...

```
Error Domain = NSURLErrorDomain code= -1002 unsupported url 
```

我也对 URL 进行了编码。

谁能告诉我如何解决这个问题？

这就是创建 postData 后的内容！

```
NSURL *url = [NSURL URLWithString:urlString];    
    theRequest = [[NSMutableURLRequest alloc]initWithURL:url];

    [theRequest setValue:@"win-eqjf1b1ep06:20000" forHTTPHeaderField:@"Host"];
    [theRequest setValue:@"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10" forHTTPHeaderField:@"User-Agent"];
    [theRequest setValue:@"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8" forHTTPHeaderField:@"Accept"];
    [theRequest setValue:@"en-us,en;q=0.5" forHTTPHeaderField:@"Accept-Language"];
    [theRequest setValue:@"gzip,deflate" forHTTPHeaderField:@"Accept-Encoding"];
    [theRequest setValue:@"ISO-8859-1,utf-8;q=0.7,*;q=0.7" forHTTPHeaderField:@"Accept-Charset"];
    [theRequest setValue:@"115" forHTTPHeaderField:@"Keep-Alive"];
    [theRequest setValue:@"keep-alive" forHTTPHeaderField:@"Connection"];

    [theRequest setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [theRequest setHTTPBody:postData]; 
```

@all 在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T10:29:52.467

NSMutableURLRequest 仅支持 http://、https://、ftp:// 或 file://

[http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html#//apple_ref/doc/uid/10000165i](http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html#//apple_ref/doc/uid/10000165i)

你在使用其他协议吗？

# svn - 从存储库中删除时，SVN 从我的本地目录中删除文件

> ID：11824768
> 
> 赞同：1
> 
> 时间：2012-08-06T08:23:18.567
> 
> 标签：svn

我想从 SVN 中删除一个文件，但不是从我的本地目录中，但是当我`Delete`

来自 SVN 存储库的文件，它也从我的本地目录中删除。

知道如何避免这种情况吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:27:31.867

发生这种情况是因为您已告知存储库该文件不再存在。如果您希望此文件仍然存在，那么只需在更新之前将其备份（一旦您更新超过文件被删除的版本，那么您就可以并且不需要再次执行此操作），然后在更新之后将文件复制回来。

该文件现在将显示为一个新文件。如果您希望 SVN 从此时开始忽略它，请适当地设置忽略过滤器：

```
svn propset svn:ignore myfile . 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-17T22:47:58.003

您没有说明您的环境是什么，但是对于带有 TortoiseSVN 客户端的 Windows，TortoiseSVN 上下文菜单提供了两种不同的方法来执行此操作。更容易的选择通常也恰好是更好的选择，即`Unversion and add to ignore list`. 顾名思义，它执行两个经常一起完成的操作——（1）从存储库中删除但保留本地副本（即取消版本），*同时*，（2）将其添加到忽略列表中，以便您以后不会被它打扰。第二个选项是隐藏的——打开上下文菜单时`Delete (keep local)`必须按住才能显示它。`shift`但是，这仅执行第一个操作，这可能是也可能不是您想要的。

![带有和不带有隐藏选项的乌龟上下文菜单](../Images/19cb5e312719d041e79e90c63ab0bbc5.png)

*TortoiseSVN 的普通上下文菜单（左）和扩展的上下文菜单（右）突出显示了其他选项。箭头指向解决这个问题的两个选择。*

# android - Android 上的高效 AAC 版本是多少？

> ID：11824769
> 
> 赞同：1
> 
> 时间：2012-08-06T08:23:22.340
> 
> 标签：android, format, voice

HE_AAC 有版本 1 和版本 2 两个版本。android 文档中没有提到 HE_AAC 的版本。

有谁知道吗？？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:25:36.580

根据[this page](https://developer.android.com/guide/appendix/media-formats.html#core)，Android同时支持HE-AACv1（AAC+）和HE-AACv2（增强型AAC+）。

# php - PHP Pagination - 检测当前页面

> ID：11824771
> 
> 赞同：0
> 
> 时间：2012-08-06T08:23:36.207
> 
> 标签：php

检测/打印当前页码（分页）的最佳方法是什么？

我尝试了两种不同的方法，现在我想知道是否存在更好的方法。

**我：**

```
$number = 12; //current page number
$all = 40; // all pages
$range = 4; // number of pages shown (up and down)
$min = $number-$range;
$max= $number+$range+1;

for($i=$min; $i<$number;$i++) {
    echo "<a href='#'>$i</a><br/>";
}

echo "$number<br/>";

for($i=($number+1); $i<$max;$i++) {
    echo "<a href='#'>$i</a></br>";
} 
```

**二：**

```
$number = 12; //current page number
$all = 40; // all pages
$range = 4; // number of pages shown (up and down)
$min = $number-$range;
$max= $number+$range+1;

for($i=$min; $i<$max;$i++) {
    if($i!=$number) {
        echo "<a href='#'>$i</a><br/>";
    } else {
        echo "$i<br/>"; 
    }
} 
```

我还检查了两种解决方案的速度（使用不同的高`$all`数值），在大多数情况下，第一个更快。

感谢您的建议:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:40:03.970

这是一个功能性替代方案（对于 0 到 10 页；将其替换为`$min` `$number-1`.. ）

```
echo implode("<br/>",
       array_map(function($x){
           return "<a href='..'>$x</a>";
       }, range(0,10))
); 
```

请时间，让我知道。:)

# ubuntu - 用现有的pcre编译nginx？

> ID：11824772
> 
> 赞同：2
> 
> 时间：2012-08-06T08:23:37.537
> 
> 标签：ubuntu, nginx, pcre

我总是这样安装 nginx：

```
wget ...nginx...
tar zxvf ...
cd nginx...
./configure --with-pcre=../pcre_source_path
make && make install 
```

nginx 和 pcre 将安装到 /usr/local/

但现在我想将它们安装到 /usr/local/lnmp/，所以我尝试像这样配置 nginx：

```
./configure --with-pcre=../pcre_source_path --prefix=/usr/local/lnmp/nginx/ 
```

然后我很困惑：我的pcre安装在哪里？我找到了 /usr/local/share/doc/pcre 所以我认为它已安装到 /usr/local/

然后我尝试独立安装pcre，所以我这样做了：

```
wget ...pcre
tar zxvf pcre...
cd pcre...
./configure --prefix=/usr/local/lnmp/pcre
make && make install 
```

使用上面的命令，我成功安装了pcre `/usr/local/lnmp/pcre/`，但是我无法用那个pcre编译nginx ...（我试过`./configure --with-pcre=/usr/local/lnmp/pcre/`了，但它给了我一个错误，因为它必须是`--with-pcre=[pcre_source_path]`）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-30T13:03:31.807

在这种情况下，当针对自定义编译库（例如 pcre、zlib 和 OpenSSL）编译 nginx 时，您必须使用选项`--with-cc-opt`和`--with-ld-opt`.

在您描述的情况下，`configure`命令应该是：

```
./configure --prefix=/usr/local/lnmp/nginx/ --with-cc-opt="-I /usr/local/lnmp/pcre/include" --with-ld-opt="-L /usr/local/lnmp/pcre/lib" 
```

更多参考：[Nginx 论坛](http://forum.nginx.org/read.php?29,226907,226907#msg-226907)，[Nginx 文档（安装）](http://nginx.org/en/docs/install.html)。

# android - Android中的maxWidth EditText

> ID：11824773
> 
> 赞同：2
> 
> 时间：2012-08-06T08:23:42.000
> 
> 标签：android, xml, android-edittext

我试图在 Android 中的 EditText 上应用 maxWidth。但是属性似乎被忽略了。事实上，我只想让一个 EditText 在屏幕中心对齐，并为大屏幕设置最大尺寸。这是我的代码：

```
<LinearLayout  
       android:layout_width="fill_parent"
       android:layout_height="40dp"
       android:paddingLeft="30dip" 
       android:paddingRight="30dip"
       android:gravity:"center" >    
       <EditText
              android:id="@+id/name"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"
              android:hint="@string/input_name"
              android:nextFocusUp="@+id/password"
              android:maxWidth="120dip" />

</LinearLayout> 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:42:17.463

试试这个在屏幕中央编辑文本：你必须添加 layout_gravity 而不是像这里的重力：

```
 <LinearLayout
       android:layout_width="match_parent"
       android:layout_height="40dp"
       android:paddingLeft="30dip" 
       android:paddingRight="30dip"
       android:layout_gravity="center" > 

       <EditText
              android:id="@+id/name"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"
              android:gravity="center"
              android:nextFocusUp="@+id/password"
              android:maxWidth="120dip" />

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:44:04.983

试试这个 cdoe：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
android:orientation="vertical" android:layout_width="match_parent" 
android:layout_height="match_parent"
android:gravity="center"> 
<EditText android:id="@+id/editText1" android:layout_width="fill_parent"
    android:layout_height="fill_parent" android:hint="input_name"
     android:maxWidth="120dip" />  
</LinearLayout> 
```

你也可以试试这个

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical" android:layout_width="match_parent"
android:layout_height="match_parent" 
android:gravity="center">

<EditText android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:id="@+id/editText1" 
    ></EditText> 
```

希望这会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:50:20.187

试试这个，换行内容将根据设备分辨率自动调整大小。

```
 <EditText
         android:id="@+id/et"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_centerHorizontal="true"
         android:layout_centerVertical="true"
         android:hint="Required"
         android:singleLine="true"
         android:typeface="monospace"
         android:maxLength="100">
    </EditText> 
```

# iphone - iOS应用程序中使用的html选择标签，但多选不起作用

> ID：11824774
> 
> 赞同：0
> 
> 时间：2012-08-06T08:23:45.820
> 
> 标签：iphone, html, ios, xcode, select

在我的 ios 应用程序中，我使用 loadHTMLString 来显示视图。在此视图中，我创建了一个具有多项选择的选择标记。我使用html代码：

```
[HTML appendFormat:@"<select multiple=\"multiple\" onchange=\"updateSurveyObject();\" name=\"%@\" id=\"%@-0\"  >",elementID,elementID]; 
```

![在此处输入图像描述](../Images/9bc0ec1fb0c681384cf37d450622e828.png) 当我单击一个选项时，它将调用 Web 委托：

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType; 
```

但问题是：如果我再次单击该选项或单击第二个选项，它将不再调用该委托。即使单击完成按钮，也不会调用委托方法。

那么，我应该如何处理多项选择呢？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T09:19:43.803

我将“onchange”更改为“onblur”。它并不完美，但它有效。你有更好的主意吗？thx

# iphone - 选择方法正在调整，但插入方法无法正常工作

> ID：11824777
> 
> 赞同：1
> 
> 时间：2012-08-06T08:23:57.533
> 
> 标签：iphone, objective-c, ipad, ios5

我正在研究 sqlite 数据库，试图插入数据库，但它给出错误“插入时出错”数据库被锁定。我搜索了一些帖子，还写了 reset 和 finalize 语句，但它给出了同样的错误。

这是我的代码

```
 if(addStmt == nil) 
    {
        //const char *sql = "insert into Limittabel (limitAmt) Values(?)";
        //const char *sql="INSERT INTO Limittabel (limitAmt, Profileid) VALUES(?, ?)";
        const char *sql="insert into Limittabel (limitAmt,Profileid) Values (?,?)";
       // Insert into Limittabel (limitAmt,Profileid) Values ($500,1)

        if(sqlite3_prepare_v2(database, sql, -1, &addStmt, NULL) != SQLITE_OK)
            NSAssert1(0, @"Error while creating add statement. '%s'", sqlite3_errmsg(database));
    }
    sqlite3_bind_text(addStmt, 1, [limitAmt UTF8String], -1, SQLITE_TRANSIENT);
//    NSString *str_id_poi = [[NSString alloc] initWithFormat:@"%d", [Profileid integerValue]];
//    sqlite3_bind_text(addStmt, 2, [str_id_poi UTF8String], -1, SQLITE_TRANSIENT);
    //sqlite3_bind_text(addStmt, 2, [ UTF8String], -1, SQLITE_TRANSIENT);
     NSLog(@"***Storing END on Database ***");
    if(SQLITE_DONE != sqlite3_step(addStmt))
    {
        NSAssert1(0, @"Error while inserting data. '%s'", sqlite3_errmsg(database));
    }  // sqlite3_finalize(addStmt);

    else{

        //sqlite3_last_insert_rowid;
        limitid = sqlite3_last_insert_rowid(database);
         NSLog(@"YES THE DATA HAS BEEN WRITTEN SUCCESSFULLY");
    }

    sqlite3_finalize(addStmt);
    }
    sqlite3_reset(addStmt);
    //sqlite3_finalize(addStmt);
} 
```

如果我没有打开数据库，则会出现数据库锁定错误，如果打开数据库则会出现“没有此类表”错误，请帮助我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:01:11.627

我不明白“如果我不打开数据库，它会给出数据库锁定错误”的评论，因为你根本无法在不打开数据库的情况下使用它。不先打开数据库就调用 SQLite 函数是没有意义的。也许我不理解这个评论。

但是暂时忽略了这一点，你后来说，“如果打开数据库，它会给出'没有这样的表'错误”：你确定你找到了正确的数据库吗？问题是，如果您打开数据库但没有找到，*则会创建一个空白数据库。*你确定这没有发生在你身上吗？如果这可能发生在您身上，您可能想要

1.  重置模拟器（如果您正在使用模拟器）或删除并重新安装应用程序，以确保删除`sqlite3_open`可能为您创建的任何空白数据库；和

2.  在打开数据库之前检查以确保数据库存在，或者将出现的 替换`sqlite3_open`为`sqlite3_open_v2`的第三个参数`SQLITE_OPEN_READWRITE`和第四个参数`NULL`. 请参阅[SQLite 在 Xcode 中访问数据库时不会准备查询](https://stackoverflow.com/questions/11605072/sqlite-will-not-prepare-query-when-accessing-database-in-xcode/11605495#11605495)

3.  顺便说一句，您没有提及您是从`Documents`bundle[还是](https://stackoverflow.com/questions/11664043/unable-to-connect-sqlite-database-in-ios/11674730#11674730)`Documents`.

4.  如果您在模拟器上执行此操作，我有时会发现从我的 Mac 检查模拟器使用的数据库很有帮助。因此，我转到“~/Library/Application Support/iPhone Simulator/5.1/Applications/”（将 5.1 替换为您正在使用的任何版本的模拟器......如果`Library`隐藏，则`Terminal`使用取消隐藏`chflags nohidden ~/Library`），然后进入特定应用程序的目录，进入它的`Documents`文件夹，然后在 Mac 命令行`sqlite3`程序中打开数据库。您可以使用它来检查数据库并确保数据库符合您的预期。

只是对“没有这样的表”错误的一些想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T12:57:33.837

试试这个代码，

```
if(sqlite3_open([YourDatabasePath UTF8String],&db) == SQLITE_OK)
{
    NSString *querySQL = [NSString stringWithFormat: @"insert into Limittabel (limitAmt,Profileid) Values (?,?)"];

    char *errmsg=nil;

    if(sqlite3_exec(db, [querySQL UTF8String], NULL, NULL, &errmsg)==SQLITE_OK)
    {
       NSLog(@"YES THE DATA HAS BEEN WRITTEN SUCCESSFULLY");
    }

}
sqlite3_close(db); 
```

如果此代码不起作用，则说明您的查询有问题，请再次检查您的查询。这段代码在我身边有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T12:12:17.160

jonty 处理数据库必须首先打开数据库，然后我们在数据库中进行更改，如果它给出错误 No such table 那么我建议您检查数据库中是否存在表，即是否创建了这样的表。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T11:44:37.953

这是用于从 SQLite 数据库创建、打开、插入和检索数据的链接。它会帮助你。

[SQLite Datase 从数据库中创建、插入和检索点击这里](https://stackoverflow.com/questions/10540728/creating-an-sqlite3-database-file-through-objective-c/11795399#11795399)

# windows - hosts 文件是否有其他替代方法可以从多台 PC 访问虚拟主机？

> ID：11824779
> 
> 赞同：8
> 
> 时间：2012-08-06T08:23:58.847
> 
> 标签：windows, apache, hosts

我在运行 WAMP 的 PC 上设置了几个虚拟主机。办公室中的所有其他 PC 也需要能够访问这些。传统上，每次我向我的 PC 添加新的虚拟主机时，我都需要访问所有其他办公室 PC 并修改它们的主机文件。这很好用，但是编辑所有这些文件很痛苦。

有没有替代方案？有没有办法在网络上拥有一个集中的主机文件或其他解决方案？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-08T09:11:01.180

一些路由器能够将域记录映射到 IP 地址并像 DNS 一样工作。但是如果你的路由器不支持这个：

尝试[亚克力 DNS 代理](http://mayakron.altervista.org/wikibase/show.php?id=AcrylicHome)。Acrylic 是一个**免费**的**开源**本地 DNS 代理。按照网站上的安装说明进行设置。基本上你只需要在你的主 PC 上安装这个程序，它就像一个“DNS 代理”。然后，您需要将其他计算机的主 DNS 服务器设置为与您的主 PC 挂钩。

* * *

## 第 1 步：安装

启动 Acrylic.exe 文件并单击下一步按钮。通过单击“我同意”按钮阅读并（如果您喜欢）接受许可协议。选择安装文件夹（默认为 Program Files\Acrylic DNS Proxy 文件夹）并单击安装按钮。

## 第 2 步：配置

仅在您的主 PC 上执行以下步骤

*   单击开始菜单 -> 程序 -> Acrylic DNS 代理 -> 配置 -> 编辑配置文件
*   找到文本“；允许来自其他计算机的请求”并正确配置它。它的评论很好而且很容易。
*   单击开始菜单 -> 程序 -> Acrylic DNS 代理 -> 配置 -> 编辑自定义主机文件
*   根据需要编辑主机文件。您可以使用通配符，如“192.168.0.2 *.local”或正则表达式。因此，所有以“.local”结尾的域都将指向您的主服务器。

> 注意：更改配置文件后，您必须从开始菜单重新启动 Acrylic DNS 代理服务。

## 第 3 步：连接到 DNS 代理

为了使用 Acrylic，您必须告诉您的计算机要联系以进行名称解析的 DNS 服务器不再是您的 ISP，而是 Acrylic。根据您运行的操作系统版本，有多种方法可以做到这一点：

*   [视窗 2000](http://mayakron.altervista.org/wikibase/show.php?id=AcrylicWindows2000Configuration)
*   [Windows XP 或 Windows Server 2003](http://mayakron.altervista.org/wikibase/show.php?id=AcrylicWindowsXPConfiguration)
*   [Windows Vista 或 Windows 7 或 Windows Server 2008](http://mayakron.altervista.org/wikibase/show.php?id=AcrylicWindows7Configuration)

> 注意：在您的其他计算机上，您必须将“127.0.0.1”替换为您的主 PC 网络地址。例如 "192.168.0.2" 。并将辅助 DNS 保留为 8.8.8.8 (Google DNS)，这样即使您的主 PC 无法连接（或关闭），其他计算机也可以浏览互联网。[像这样](http://i.stack.imgur.com/JbHHy.png)

## 第 4 步：测试

确保一切都已正确配置，并且您的主 PC 可连接并正在运行。如果您有防病毒或防火墙程序**，它们会阻止**此 DNS 代理，因此请确保您正确配置它们或首先禁用它们，以测试一切是否正常。此外，您的主 PC 本地 IP 地址必须是静态的。

# jquery - 获取 jquery.simplemodal 和 jquery 之间的冲突

> ID：11824781
> 
> 赞同：0
> 
> 时间：2012-08-06T08:24:24.663
> 
> 标签：jquery, asp.net-mvc-3, jquery-mobile

在我的 asp.net mvc 3 应用程序中，我有一个使用 jquery.simplemodal 插件的弹出动画。这是负责动画的代码

```
$.modal(data, {
containerId: 'popupdiv',
opacity: 5,
autoResize: true,
overlayCss: { backgroundColor: "#000" },
onShow: function () {
    initSwitchToLatest()
},
onOpen: function (dialog) {
    dialog.overlay.fadeIn(0, function () {
        var h = $("#popupdiv").height();
        var w = $("#popupdiv").width();
        var l = $("#popupdiv").css("left");
        var t = $("#popupdiv").css("top");
        dialog.container.fadeIn('fast', function () {
            if ($.browser.msie) {
                $('.popup').css('behavior', 'none');
            }
            $('#popupdiv').css('opacity', 0);
            dialog.data.height(0);
            dialog.data.width(0);
            $(".popup").width(0);
            $("#popupdiv").css("left", popup_mouse_x + "px");
            $("#popupdiv").css("top", popup_mouse_y + "px");
            dialog.data.show();
            $(".popup").animate({ "width": w, "height": "auto" }, 500);
            dialog.data.animate({ "height": h, "width": w }, 500);
            $("#popupdiv").animate({ "left": l, "top": t, "opacity": 1 }, 500, function () {
            $("#loading-mask").show();
            if ($.browser.msie) {
            $('.popup').css('behavior', 'url(../../../Scripts/PIE.htc)');
            }
            ReplacePopupContents($("#popupContentUrl").val());
            });
        });
    });
  }
}); 
```

现在我正在尝试使用 jquery-mobile 滚动效果，但是如果我像这样将这两个插件一起调用：

```
<script src="@Url.Content("~/Scripts/jquery.simplemodal-1.4.2.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.js")" type="text/javascript"></script> 
```

我收到这个错误

```
TypeError: $.modal is not a function 
```

并且弹出动画不会出现。

PS：这个错误只有在我调用第二个插件时才会出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:29:09.853

您好，您必须在简单模式文件之前包含 jquery 文件。像这样

```
<script src="@Url.Content("~/Scripts/jquery.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.simplemodal-1.4.2.js")" type="text/javascript"></script> 
```

# java - 如何使用 Java 检索 Mysql 中表的两个字段？

> ID：11824783
> 
> 赞同：1
> 
> 时间：2012-08-06T08:24:46.800
> 
> 标签：java, mysql, database

我有一个`ClientsTable`这样的：

```
firstName lastName address idNumber userName password
         |        |       |        |        |
david      bowie    here    123     mick      jagger 
chuck      norris   there   456     steven    seagal 
```

我想同时获取每一行的 the`userName`和 the`password`并使用我的方法的给定参数对其进行验证：

```
public Person verifyClientExists(String username,String password) throws SQLException
{

    ResultSet results = this.m_statement.executeQuery("SELECT `userName` FROM `ClientsTable`");  
    while (results.next() == true)
    {
        // here I want to compare the retrieved data from 
                    // mysql with the "username" and "password" given in the prototype
    }

    return null;

} 
```

但是根据我当前的查询，我只能得到**一个**字段。

如何检索两个字段？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:26:51.880

为什么不使用

```
select username, password from clientstable 
```

? 然后你的`ResultSet`审讯是：

```
String username = results.getString("username");
String password = results.getString("password"); 
```

请参阅[上的 JDBC 教程](http://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html)页面`ResultSets`。请注意，我按列名询问结果。它比通过索引（数字）要求它们更强大。如果我更改 SQL 语句（重新排序查询参数），则仍会返回正确的列。

我希望你没有在这些表中存储明文密码，顺便说一句！有关哈希和盐的更多信息，请参见[此处](http://throwingfire.com/storing-passwords-securely/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:26:55.320

将您的查询更改为：

```
SELECT `userName`, `password` FROM `ClientsTable` 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T08:27:29.840

首先，我建议使用 API 来构建查询，而不是执行原始查询（看看[这里](https://www.securecoding.cert.org/confluence/display/java/IDS00-J.+Sanitize+untrusted+data+passed+across+a+trust+boundary)）。

但是要回答您的问题-如果您还想获得密码，请使用：

```
ResultSet results = this.m_statement.executeQuery("SELECT `userName`, `password` FROM `ClientsTable`"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T08:28:24.847

或者，您可以从结果中检查记录数：

```
SELECT COUNT(*) 
FROM   `ClientsTable`
WHERE  userName = 'userHere' AND
       password = 'passHere' 
```

这里的结果只有 0 和 1 :) 因为我假设`username`是唯一的。

但如果您想检索`username`和`password`，只需选择查询中的两列。

```
SELECT `userName`, `password` 
FROM `ClientsTable` 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-06T08:28:58.170

您可以要求更多这样的字段：`SELECT userName, password FROM ClientsTable`

然后使用`resultSet.getString(1)`for`userName`和`resultSet.getString(2)`for`password`

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-06T09:03:19.200

将您的 sql 更改为 "SELECT `userName`, `password`FROM`ClientsTable`

现在您可以使用结果集对象并获取值
results.getString(1)
results.getString(2)

或者您可以使用 fieldName results.getString("userName"); results.getString("密码");

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-08-06T09:17:45.083

你的查询是错误的。您的查询应该是这样的：-

```
SELECT EMP_NAME,EMP_PASSWORD FROM EMP_DETAILS TABLE; 
```

不仅检索 2 个字段而且检索任意数量的字段非常简单。

# opengl - Wavefront *.OBJ 文件中的第三个纹理坐标

> ID：11824786
> 
> 赞同：3
> 
> 时间：2012-08-06T08:24:57.533
> 
> 标签：opengl, format, coordinates, textures, wavefront

Wavefront *.OBJ文件中纹理坐标中的第3个分量是什么意思？

文件看起来像

```
vt 0.8490 0.1109 -0.2498
vt 0.8580 0.1235 -0.2498
vt 0.8695 0.1338 -0.2498
vt 0.8828 0.1416 -0.2498
vt 0.9135 0.1474 -0.2360
vt 0.8981 0.1457 -0.2360
vt 0.8835 0.1409 -0.2360 
```

* * *

更新模型是在 3DS Max 中创建的，源纹理是 PNG 文件。所以纹理是二维的

* * *

更新 2

当我翻转第二个坐标时，当我使用 OpenGL 渲染它时，纹理看起来正确。第三坐标

u1 = u v1 = 1 - v

w - 根本不使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:29:33.020

该模型显然使用了体积纹理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T14:13:53.377

第三个坐标应该被忽略。只有前 2 个用于映射纹理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:31:47.973

vt 指定坐标是纹理坐标的事实。

阅读有关 Wavefront .obj 格式的更多信息。 [http://www.fileformat.info/format/wavefrontobj/egff.htm](http://www.fileformat.info/format/wavefrontobj/egff.htm)

# html - 缩小表格中的一个单元格

> ID：11824788
> 
> 赞同：0
> 
> 时间：2012-08-06T08:25:03.303
> 
> 标签：html, css

我正在尝试缩小表格中的一个单元格，但它拒绝缩小……这是我的表格。

```
<table cellspacing="0" style="position: absolute;width: 990px;margin-left: 8px;"  align="center">
    <thead>
        <tr class='no-wrap'>
            <th width="20%"></th>
            <th width="10%">Our Rating</th>
                        <th width="10%">Users' Rating</th>
            <th width="30%">Review</th>
            <th width="30%">Price</th>
        </tr>
        </thead>
        <tbody>

<tr>
<td width="20%"></td>
                    <td width="10%">Our Rating</td>
                                    <td width="10%">Users' Rating</td>
                    <td width="30%">Review</th>
                    <td width="30%">Price</td>
</tr>
</tbody>
</table> 
```

问题是评论部分没有缩小..即使我给它一个较低的百分比..这是为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:28:57.967

您的 HTML 语法不正确。

您需要将表格行元素包装在`tr`：

```
<tbody>
   <tr>
       <td></td>...
   </tr>
</tbody> 
```

你也有一个`</th>`你应该`<td>`在你的第 2 行第 4 单元格（评论）：

```
<td width="30%">Review</th> 
```

# sencha-touch-2 - sencha touch2 登录示例

> ID：11824789
> 
> 赞同：2
> 
> 时间：2012-08-06T08:25:06.680
> 
> 标签：sencha-touch-2

我需要一个跨域用户登录请求实例，请帮帮我，谢谢！！我的代码

```
Ext.data.JsonP.request({
      url: 'http://25.30.2.3:8080/newvbo/applyaction!longin',
      params: {
            username:'13881901678',
            password:'111111',
      },
      success: function(response, opts) {    
             alert('1');      
     },
     failure: function(response, opts) {
            alert('2');     
     }
}); 
```

我的问题是，我没有收到服务器返回的值，我错了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T06:29:08.177

你可以试试这个

```
Ext.Ajax.request({
method:'GET',
contentType:'application/json; charset=utf-8',
dataType:'json',
url:'http://........Login',
disableCaching: false,
withCredentials: true,
useDefaultXhrHeader: false,
callbackKey: 'callback',

params: {
        EmailId:Ext.getCmp('usernametwoway').getValue(),
        Password:Ext.getCmp('loginpasswordtwoway').getValue(),
        },

success:function(response)
{
        console.log(response);
        var res = response.responseText;    

        var jsonarr = Ext.decode(response.responseText);
        console.log(jsonarr);
            var myres = jsonarr[0].Result;

            console.log(myres);
        switch(myres)
            {

            case '1':
            console.log("Registration response is successfully");

            Ext.Viewport.setActiveItem({xtype:'passengerdetailstwoway'});

            break;

            case '0':
                console.log("Failed");
                Ext.Msg.alert("Error","Login Failed",Ext.emptyFn);
                break; 
```

根据响应，您可以指定 Switch case..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-02T06:31:08.567

我想向您建议一种不同的方法，因为通过 http 将登录凭据作为 GET 参数发送到远程服务器不是一个好主意，相反您应该通过 HTTPS 使用 POST 方法。现在你会认为 JSONP 不支持 POST 那么我该怎么做，但是如果你要在手机或 iPad 上安装你的应用程序，它会在不使用 JsonP 的情况下从浏览器进行远程调用，这意味着你可以使用普通的 AJAX 代理来做你想做的。看一下这个：

[开发过程中如何使用json代理访问远程服务](https://stackoverflow.com/questions/14118053/how-to-use-json-proxy-to-access-remote-services-during-development)

这意味着这应该有效：

```
var obj = new Object();
obj.userId = username;
obj.password = password;
var data = Ext.JSON.encode(obj);

Ext.Ajax.request({
    url : 'https://login_url',
    method : "POST",
    headers: {
        'Content-Type': 'application/json'
    },
    params : data,
    useDefaultXhrHeader : false,
    withCredentials: true,
    success : function(response) {

    },
    failure : function(response) {

    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T16:23:58.910

嗨@jesse，您可以尝试这样的跨域，

```
Ext.Ajax.request({
       url: 'your_url_path',
       timeout: 90000,
       params: {
             withCredentials: true,
             useDefaultXhrHeader: false,
             username:'13881901678',
             password:'111111',
       },
       success: function(response, o) {
             if(response != '') {
                   alert('1')
             }
       },
       failure: function(response, o) {
             alert('2')
       }
 }) 
```

对于跨域，您需要 put`withCredentials: true`和`useDefaultXhrHeader: false`.

我希望能帮助你。

# c - 拆分参数来自

> ID：11824802
> 
> 赞同：0
> 
> 时间：2012-08-06T08:25:49.590
> 
> 标签：c, scanf

我想从此字符串中获取子字符串：

> "1,26,[1076168,'Stabaek','Branna','1.021',10,'08/07/2012 01:00','',0,0,1,6],,[[19, 23,[]],[14148266,[1,0,1,0,5000,-0.50,19001],[-0.95,0.87]],[14166487,[1,0,1,0,2000,-0.25 ,19001],[-0.72,0.64]],[14148270,[5,0,5,0,2000,0.00,19001],[3.90,3.50,1.86]],[14166491,[1,0,1, 0,3000,-0.75,19001],[0.80,-0.88]]],2"

所以我这样调用swscanf函数！

```
swscanf( szTemp , L"%d,%d,[%d,\'%s\',\'%s\',\'%s\',%d,\'%s\',\'\',%d,%d,%d,%d],,[%s],%d" , &n1 , &n2 , &n3 , szA , szB , szT1 , &n4 , szTime , &n5 , &n6 , &n7 , &n8 , szThird , &n9); 
```

结果是：

```
n1：1  
n2：26  
n3: 1076168

szA：Stabaek'，'Branna'，'1.021'，10，'08/07/2012（不正确）

szB：空

```

并且其他参数的值也不正确！

我不知道为什么会这样？

请告诉我原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:36:00.473

如果打算存储`Stabaek`，`szA`那么您需要排除 ，`'`因为它不被视为`%s`格式的分隔符。来自格式的 C 标准`s`：

> 匹配一系列非空白字符。

排除更改`%s`为`%[^']`：

```
swscanf( szTemp , L"%d,%d,[%d,\'%[^']', ... "); 
```

一些建议：

*   限制读入 a 的字符数`char[]`以避免缓冲区溢出（在下面的示例中为 32，请记住为终止 null 留出空间）：

    ```
    swscanf( szTemp , L"%d,%d,[%d,\'%32[^']', ... "); 
    ```

*   从 . 检查返回值`swscanf()`。它返回成功分配的数量。在发布的代码中，请求了 14 个分配，因此返回值应为 14（如果所有都需要存在）；

    ```
    if (14 == swscanf(...))
    {
        /* All good. */
    } 
    ```

*   使用`%n`格式说明符来确定处理输入缓冲区的位置。我发现这对于检查整个缓冲区是否已处理很有用（如果预计要处理整个缓冲区）：

    ```
    int pos;
    if (14 == swscanf(szTemp, "....%n", ...., &pos) &&
        pos == wcslen(szTemp))
    {
        /* All assignments made and processed entire buffer. */
    } 
    ```

# java - 等效标准构建器查询的复杂查询（EntityManager）

> ID：11824804
> 
> 赞同：0
> 
> 时间：2012-08-06T08:26:19.530
> 
> 标签：java, hibernate, jpa-2.0, entitymanager, hibernate-entitymanager

我的查询是这样的：

**query1 = select a.id from entity1 a where a.id in (:List1)
and not exists (select ex2 from entity2 ex2 where ex2.assignedId = a.id)
union
select ex.assignedId from entity2 ex ,entity3 pi
where ex. entity3Id = pi.id 和 ex.assignedId 在 (:List1)
和 ex.assignedTypeId = :assignedTypeId 和 pi.processStatus = :status
并且不存在
（从 entity2 ex1 中选择 ex1.assignedId ， entity3 pi1
其中 ex1.entity3Id = pi1.id和 ex1.assignedId = ex.assignedId
和 ex1.assignedTypeId = :assignedTypeId
和 pi1.processStatus <> :status);**

在尝试执行查询时，

查询现有Ids=em.createQuery(query1); //设置所有参数

在 org.hibernate.hql.ast.ParameterTranslationsImpl 的第 87 行抛出 NullPointerException

完全检查了所有的大括号和参数。等效转换在 mysql 中有效。有人可以帮助我使用 CriteriaBuilder 转换查询，发现很难进行转换。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:37:11.200

不确定[JPQL](http://docs.oracle.com/cd/E28613_01/apirefs.1211/e24396/ejb3_langref.html)是否完全支持联合操作。您是将其作为 NamedQuery 还是在动态创建 (entityManager.createQuery()) ？

# sql - 如何增加 SQL 脚本作业步骤的超时？

> ID：11824806
> 
> 赞同：0
> 
> 时间：2012-08-06T08:26:24.990
> 
> 标签：sql, sql-server-2008

我有一个 SQL 作业正在运行，其中包含 2 个步骤。其中之一是类型（T-SQL 脚本），我正面临超时问题。

如何为该特定作业配置超时？（如果超时被继承，则最终用于作业）。我使用 SQL Server 2008 R2

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:48:11.937

据我了解，在 SQL 作业中没有为 T-Sql 脚本设置 time-ot 的选项。主要是当底层 sql 脚本的记录大量增加时会发生这种情况。

检查这篇文章。

[http://www.simple-talk.com/blogs/2012/07/16/sql-server-query-time-out-when-referencing-data-on-a-linked-server-2/](http://www.simple-talk.com/blogs/2012/07/16/sql-server-query-time-out-when-referencing-data-on-a-linked-server-2/)

# c++ - 带有解析/匹配示例的 C++ BNF 语法

> ID：11824808
> 
> 赞同：7
> 
> 时间：2012-08-06T08:26:31.270
> 
> 标签：c++, parsing, grammar, bnf

我正在开发一个 C++ 解析器（用于 IDE），所以现在尝试详细了解 C++ 语法。虽然我在[http://www.nongnu.org/hcb/](http://www.nongnu.org/hcb/)找到了一个很好的语法来源，但我在理解它的某些部分时遇到了困难——尤其是哪些“真正的”语言结构对应于各种产生式。

所以我正在寻找一个 C/C++ BNF 语法指南，其中包含匹配各种产生/规则的代码示例。有吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T13:28:10.327

超链接（声称的）语法不一定是您可以轻松构建解析器的语法。这取决于您的解析引擎的性质，以及您关心的 C 和 C++ 的真正方言（ANSI？GNU？C99？C++11？MS？）。

构建一个有效的 C++ 解析器*真的*很难。[请参阅我对为什么不能使用 LR(1) 解析器解析 C++](https://stackoverflow.com/a/1004737/120163)的回答？由于某些原因。如果您想要一个“好”的解析器，我建议您使用现有的解析器之一。值得一看的可能是[Elsa](http://scottmcpeak.com/elkhound/sources/elsa/)，因为它是开源的。

# optimization - Clojure 中的快速复数运算

> ID：11824815
> 
> 赞同：19
> 
> 时间：2012-08-06T08:27:07.920
> 
> 标签：optimization, clojure, type-hinting, numerical-computing

我在 Clojure 中实现了一些基本的复数运算，并注意到它比大致等效的 Java 代码慢了大约 10 倍，即使有类型提示也是如此。

比较：

```
(defn plus [[^double x1 ^double y1] [^double x2 ^double y2]]
    [(+ x1 x2) (+ y1 y2)])

(defn times [[^double x1 ^double y1] [^double x2 ^double y2]]
    [(- (* x1 x2) (* y1 y2)) (+ (* x1 y2) (* y1 x2))])

(time (dorun (repeatedly 100000 #(plus [1 0] [0 1]))))
(time (dorun (repeatedly 100000 #(times [1 0] [0 1])))) 
```

输出：

```
"Elapsed time: 69.429796 msecs"
"Elapsed time: 72.232479 msecs" 
```

和：

```
public static void main( String[] args ) {
  double[] z1 = new double[] { 1, 0 };
  double[] z2 = new double[] { 0, 1 };
  double[] z3 = null;

  long l_StartTimeMillis = System.currentTimeMillis();
  for ( int i = 0; i < 100000; i++ ) {
    z3 = plus( z1, z2 ); // assign result to dummy var to stop compiler from optimising the loop away
  }
  long l_EndTimeMillis = System.currentTimeMillis();
  long l_TimeTakenMillis = l_EndTimeMillis - l_StartTimeMillis;
  System.out.format( "Time taken: %d millis\n", l_TimeTakenMillis );

  l_StartTimeMillis = System.currentTimeMillis();
  for ( int i = 0; i < 100000; i++ ) {
    z3 = times( z1, z2 );
  }
  l_EndTimeMillis = System.currentTimeMillis();
  l_TimeTakenMillis = l_EndTimeMillis - l_StartTimeMillis;
  System.out.format( "Time taken: %d millis\n", l_TimeTakenMillis );

  doNothing( z3 );
}

private static void doNothing( double[] z ) {

}

public static double[] plus (double[] z1, double[] z2) {
  return new double[] { z1[0] + z2[0], z1[1] + z2[1] };
}

public static double[] times (double[] z1, double[] z2) {
  return new double[] { z1[0]*z2[0] - z1[1]*z2[1], z1[0]*z2[1] + z1[1]*z2[0] };
} 
```

输出：

```
Time taken: 6 millis
Time taken: 6 millis 
```

事实上，类型提示似乎没有什么区别：如果我删除它们，我会得到大致相同的结果。真正奇怪的是，如果我在*没有*REPL 的情况下运行 Clojure 脚本，我会得到较慢的结果：

```
"Elapsed time: 137.337782 msecs"
"Elapsed time: 214.213993 msecs" 
```

所以我的问题是：如何才能接近 Java 代码的性能？为什么在没有 REPL 的情况下运行 clojure 时表达式需要更长的时间来评估？

更新 ===============

很好，在s 和 s 中使用`deftype`类型提示，使用而不是提供与 Java 版本一样好或更好的性能。感谢你们俩。`deftype``defn``dotimes``repeatedly`

```
(deftype complex [^double real ^double imag])

(defn plus [^complex z1 ^complex z2]
  (let [x1 (double (.real z1))
        y1 (double (.imag z1))
        x2 (double (.real z2))
        y2 (double (.imag z2))]
    (complex. (+ x1 x2) (+ y1 y2))))

(defn times [^complex z1 ^complex z2]
  (let [x1 (double (.real z1))
        y1 (double (.imag z1))
        x2 (double (.real z2))
        y2 (double (.imag z2))]
    (complex. (- (* x1 x2) (* y1 y2)) (+ (* x1 y2) (* y1 x2)))))

(println "Warm up")
(time (dorun (repeatedly 100000 #(plus (complex. 1 0) (complex. 0 1)))))
(time (dorun (repeatedly 100000 #(times (complex. 1 0) (complex. 0 1)))))
(time (dorun (repeatedly 100000 #(plus (complex. 1 0) (complex. 0 1)))))
(time (dorun (repeatedly 100000 #(times (complex. 1 0) (complex. 0 1)))))
(time (dorun (repeatedly 100000 #(plus (complex. 1 0) (complex. 0 1)))))
(time (dorun (repeatedly 100000 #(times (complex. 1 0) (complex. 0 1)))))

(println "Try with dorun")
(time (dorun (repeatedly 100000 #(plus (complex. 1 0) (complex. 0 1)))))
(time (dorun (repeatedly 100000 #(times (complex. 1 0) (complex. 0 1)))))

(println "Try with dotimes")
(time (dotimes [_ 100000]
        (plus (complex. 1 0) (complex. 0 1))))

(time (dotimes [_ 100000]
        (times (complex. 1 0) (complex. 0 1)))) 
```

输出：

```
Warm up
"Elapsed time: 92.805664 msecs"
"Elapsed time: 164.929421 msecs"
"Elapsed time: 23.799012 msecs"
"Elapsed time: 32.841624 msecs"
"Elapsed time: 20.886101 msecs"
"Elapsed time: 18.872783 msecs"
Try with dorun
"Elapsed time: 19.238403 msecs"
"Elapsed time: 17.856938 msecs"
Try with dotimes
"Elapsed time: 5.165658 msecs"
"Elapsed time: 5.209027 msecs" 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-06T08:49:40.113

性能缓慢的可能原因是：

*   Clojure 向量本质上是比 Java double[] 数组更重量级的数据结构。所以你在创建和读取向量时有相当多的额外开销。
*   您将双打作为函数的参数以及将它们放入向量中时。在这种低级数字代码中，装箱/拆箱相对昂贵。
*   类型提示 ( `^double`) 对您没有帮助：虽然您可以在普通 Clojure 函数上使用原始类型提示，但它们不适用于向量。

有关更多详细信息，请参阅[有关加速原始算术的博客文章。](http://clojurefun.wordpress.com/2012/08/06/clojure-performance-tip-exploiting-primitive-casts-20/)

如果您真的想要 Clojure 中的快速复数，您可能需要使用 来实现它们`deftype`，例如：

```
(deftype Complex [^double real ^double imag]) 
```

然后使用这种类型定义所有复杂的函数。这将使您能够自始至终使用原始算术，并且应该大致相当于编写良好的 Java 代码的性能。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-06T08:56:11.793

*   我对基准测试了解不多，但开始测试时似乎需要预热 jvm。因此，当您在 REPL 中执行此操作时，它已经预热了。当您作为脚本运行时，它还没有。

*   在 java 中，您在 1 个方法中运行所有循环。`plus`除了和之外没有其他方法`times`被调用。在 clojure 中，您创建匿名函数并重复调用以调用它。这需要一些时间。您可以将其替换为`dotimes`.

我的尝试：

```
(println "Warm up")
(time (dorun (repeatedly 100000 #(plus [1 0] [0 1]))))
(time (dorun (repeatedly 100000 #(times [1 0] [0 1]))))
(time (dorun (repeatedly 100000 #(plus [1 0] [0 1]))))
(time (dorun (repeatedly 100000 #(times [1 0] [0 1]))))
(time (dorun (repeatedly 100000 #(plus [1 0] [0 1]))))
(time (dorun (repeatedly 100000 #(times [1 0] [0 1]))))

(println "Try with dorun")
(time (dorun (repeatedly 100000 #(plus [1 0] [0 1]))))
(time (dorun (repeatedly 100000 #(times [1 0] [0 1]))))

(println "Try with dotimes")
(time (dotimes [_ 100000]
        (plus [1 0] [0 1])))

(time (dotimes [_ 100000]
        (times [1 0] [0 1]))) 
```

结果：

```
Warm up
"Elapsed time: 367.569195 msecs"
"Elapsed time: 493.547628 msecs"
"Elapsed time: 116.832979 msecs"
"Elapsed time: 46.862176 msecs"
"Elapsed time: 27.805174 msecs"
"Elapsed time: 28.584179 msecs"
Try with dorun
"Elapsed time: 26.540489 msecs"
"Elapsed time: 27.64626 msecs"
Try with dotimes
"Elapsed time: 7.3792 msecs"
"Elapsed time: 5.940705 msecs" 
```

# algorithm - 在google的dremel中，top-k查询使用的是什么算法？

> ID：11824819
> 
> 赞同：0
> 
> 时间：2012-08-06T08:27:24.813
> 
> 标签：algorithm, dremel

Google 的 Dremel 算法支持 top-k 查询。有人能告诉我 top-k 查询使用什么算法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T09:16:32.377

像堆？

堆可用于在 O(nlogk) 时间内回答询问排序列表中前 k 个元素的查询。

见[http://stevehanov.ca/blog/index.php?id=122](http://stevehanov.ca/blog/index.php?id=122)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-21T13:30:31.950

我想你知道 Dremel 纸吗？

这是一个链接：[https ://static.googleusercontent.com/media/research.google.com/en//pubs/archive/36632.pdf](https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/36632.pdf)

它说：

> 一些 Dremel 查询，例如 top-k 和 count-distinct，使用已知的一次性算法（例如，[4]）返回近似结果。

参考如下：

> [4] Z. Bar-Yossef、TS Jayram、R. Kumar、D. Sivakumar 和 L. Trevisan。计算数据流中的不同元素。在 RANDOM，第 1-10 页，2002 年。

这有帮助吗？

# maven - dbunit maven 插件命令设置为 true 看似忽略表

> ID：11824824
> 
> 赞同：0
> 
> 时间：2012-08-06T08:27:32.453
> 
> 标签：maven, dbunit

我正在尝试使用 db-unit-maven 插件导出我的部分数据库。我在我的配置中将有序标志设置为 true，以便我可以重新导入它以避免违反完整性约束。我还使用配置中的表元素指定要导出的表。我在下面粘贴了一个我正在尝试做的例子。但是，它将在约束方面与在配置中手动选择的那些无关的其他表导出。是否`<ordered>true</order>`会导致列表被忽略？我错过了什么？

```
<plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>dbunit-maven-plugin</artifactId>
    <version>1.0-beta-3</version>
    <dependencies>
        <dependency>
            <groupId>com.oracle</groupId>
            <artifactId>ojdbc6</artifactId>
            <version>11.2.0.1.0</version>
        </dependency>
    </dependencies>
    <configuration>
        <driver>oracle.jdbc.OracleDriver</driver>
        <url>${it.datasource.url}</url>
        <username>${dbunit.username}</username>
        <password>${dbunit.password}</password>
        <dataTypeFactoryName>org.dbunit.ext.oracle.OracleDataTypeFactory</dataTypeFactoryName>
        <skipOracleRecycleBinTables>true</skipOracleRecycleBinTables>
    </configuration>
    <executions>
        <execution>
            <id>execute</id>
            <phase>package</phase>
            <goals>
                <goal>export</goal>
            </goals>
            <configuration>
                <schema>${dbunit.username}</schema>
                <format>xml</format>
                <dest>target/dbunit/export.xml</dest>
                <tables>
                    <table name="TABLE_1" />
                    <table name="TABLE_2" />
                </tables>
                <ordered>true</ordered>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T19:30:57.317

事实证明语法是错误的。上面粘贴的原始返回`NullPointerException`正确的语法粘贴在下面，据我所知，它的行为符合预期。

```
<plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>dbunit-maven-plugin</artifactId>
    <version>1.0-beta-3</version>
    <dependencies>
        <dependency>
            <groupId>com.oracle</groupId>
            <artifactId>ojdbc6</artifactId>
            <version>11.2.0.1.0</version>
        </dependency>
    </dependencies>
    <configuration>
        <driver>oracle.jdbc.OracleDriver</driver>
        <url>${it.datasource.url}</url>
        <username>${dbunit.username}</username>
        <password>${dbunit.password}</password>
        <dataTypeFactoryName>org.dbunit.ext.oracle.OracleDataTypeFactory</dataTypeFactoryName>
        <skipOracleRecycleBinTables>true</skipOracleRecycleBinTables>
    </configuration>
    <executions>
        <execution>
            <id>execute</id>
            <phase>package</phase>
            <goals>
                <goal>export</goal>
            </goals>
            <configuration>
                <schema>${dbunit.username}</schema>
                <format>xml</format>
                <dest>target/dbunit/export.xml</dest>
                <tables>
                    <table>
                       <name>TABLE_1</name>
                    </table>
                    <table>
                       <name>TABLE_2</name>
                    </table>
                </tables>
                <ordered>true</ordered>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

# jquery - 将二级排序添加到数组输出

> ID：11824833
> 
> 赞同：2
> 
> 时间：2012-08-06T08:28:04.410
> 
> 标签：jquery

我有这个基于[这个问题的结果的](https://stackoverflow.com/questions/11813010/create-array-with-form-data-which-groups-and-sorts-data)[小提琴](http://jsfiddle.net/aaronk85/VNSam/8/)。我正在尝试进一步扩展它，以便我可以添加二级排序，这样如果总价相同，它就会查看佣金列，并且佣金最高的人将在总售价相等的地方排在首位。这可能吗？我也无法将佣金列设为小数点后 2 位。我试过做

```
var commish = '.text((val.price / 3) + (val.sales*5))'; 
```

并在结果部分。

```
$("<td></td>");commish.toFixed(2).appendTo($tr); 
```

但这并没有奏效。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-06T08:50:30.097

计算佣金并存储在对象中，以便您可以在排序和显示中使用它：

```
d.commission = d.price / 3 + d.sales * 5; 
```

要对佣金进行次要排序，请检查价格是否相等，如果是则返回佣金的比较：

```
data.sort(function(a,b) {
  return a.price == b.price ? b.commission - a.commission : b.price - a.price;
}); 
```

当您在对象中有佣金时，很容易将其格式化以进行显示：

```
$("<td></td>").text(val.commission.toFixed(2)).appendTo($tr); 
```

演示：http: [//jsfiddle.net/Guffa/VNSam/9/](http://jsfiddle.net/Guffa/VNSam/9/)

# php - 如何使用 php.ini 文件在 xampp 1.7.4 上启用 zend 加载程序

> ID：11824835
> 
> 赞同：2
> 
> 时间：2012-08-06T08:28:09.337
> 
> 标签：php, zend-loader

我正在尝试使用 XAMP-win32-1.7.4-VC9-installer（使用：php 5.3 和 apache 2.0）在 windows 7 操作系统上安装 zend 保护加载程序运行时。我们还下载了 ZendGuardLoader-php-5.3-Windows 并按照安装说明在我们的 php.ini 文件中添加以下行

```
zend_extension=<full_path_to_ZendLoader.dll>

zend_loader.enable = 1![enter image description here][1] 
```

真正的路径是

```
zend_extension="C:\xampp\php\ext\ZendLoader.dll"
 zend_loader.enable = 1 
```

但是，重新启动 xampp apache zend 保护加载程序后似乎没有正确加载（请参阅附加的屏幕截图供您参考）

我该如何解决？

谢谢大家

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T15:44:47.777

它可能会有所帮助：

[http://forums.zend.com/viewtopic.php?f=57&t=43013](http://forums.zend.com/viewtopic.php?f=57&t=43013)

启用 PHP 线程安全时，似乎 Zend 无法与 PHP 一起运行。

# r - 事后测试：pairwise.t.test 与 TukeyHSD 测试

> ID：11824840
> 
> 赞同：-1
> 
> 时间：2012-08-06T08:28:30.300
> 
> 标签：r

我创建了以下示例来比较这两个函数`pairwise.t.test()`和`TukeyHSD()`

```
x <- c(10,11,15,8,16,12,20)
y <- c(10,14,18,25,28,30,35)
z <- c(14,19,35,18,17,16,25)

d <- c(x,y,z)
f <- as.factor(c(rep("a",7), rep("b",7), rep("c",7)))

pairwise.t.test(d, f)
TukeyHSD(aov(d ~ f)) 
```

这两个测试的 p 值不同是否正常？有没有办法在两个或一个测试中调整参数以使 p 值更相等？

此外，似乎没有参数`var.equal`，因为这`t.test()`两个测试都是如此。这是真的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:37:16.527

从 TukeyHSD 的帮助页面：

> 在方差分析中比较因子水平的均值时，使用 t 检验的简单比较会夸大在实际上不存在显着差异时宣布显着差异的概率。这是因为区间是使用每个区间的给定覆盖概率计算的，但覆盖的解释通常是针对整个区间族的。

TukeyHSD 测试是一个不同的测试，根据上面的评论，我一般预计它会给出更高的 p 值。话虽如此，对于您提供的数据，出于推理目的，p 值在我看来并没有太大的不同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T02:50:55.043

pairwise.t.test 根据六种方法之一调整 p 值以调整多重比较（有关详细信息，请参阅 ?p.adjust）。要获得单独的标准差估计值而不是合并标准差，请使用 pool.SD=FALSE 参数。在方差分析中没有可比的选项，这是您传递给 TukeyHSD() 函数的内容。

# linux - 在变量中写入命令的 PID

> ID：11824841
> 
> 赞同：0
> 
> 时间：2012-08-06T08:28:30.487
> 
> 标签：linux, bash, pid

我在 bash 脚本中启动了这个命令：

`rsync -av $sourcedir/ $destdir/`

如何将特定命令的 PID 存储在同一脚本的变量中？

我试过：

`rsync -av --stats $sourcedir/ $destdir/ && pid=$(echo $$)`

但是在日志文件中为该操作报告的 pid 不同于打印出来的回显 $pid

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:31:05.917

```
rsync -av --stats $sourcedir/ $destdir/ & pid=$! 
```

注意`&`这里的用法。您并行运行命令。

如果你 make `rsync && pid=$!`，那就错了，因为命令 ( `rsync`) 在你进行赋值 ( ) 的时候已经完成了`pid=$!`，所以出于显而易见的原因，将它的 pid 保存在变量中是没有意义的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:31:26.787

PID 存储在`$!`其中，您可能希望在程序运行时获取 PID，而不是在程序完成后获取。

`rsync -av --stats $sourcedir/ $destdir/ & pid=$!`

# actionscript-3 - MovieClip 的宽度为负 1 亿 (-1.073741604E8)

> ID：11824850
> 
> 赞同：0
> 
> 时间：2012-08-06T08:28:56.593
> 
> 标签：actionscript-3, flash, apache-flex, actionscript, flex4.5

我的应用程序工作正常，但我有一个函数，它根据原始 MC 的宽度计算小地图，但当宽度为负时它不起作用。所以问题基本上是，宽度怎么可能是负数？这是什么意思？谢谢

--edit：抱歉，我不能发布任何代码，这是一个 30K LOC 项目。解决方案是将其包含在另一个movieClip 中，这样效果会更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T11:31:45.620

我希望您正在测量的宽度的 MC 现在不在舞台上。我的 Sprite 对象遇到了同样的问题，如果它不在舞台上，它的宽度是不可靠的，而我尝试不要求宽度，而是要求 getBounds()。尝试首先将其添加到舞台，然后请求宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T09:31:24.787

我不知道你的代码。但我担心会发生溢出。MovieClip 属性的宽度值为 Number。

范围数如下：

```
4.9406564584124654e-324 <= Number <=1.79769313486231e+308 
```

如果您已将正数初始化为宽度，则代码中的某处将发生溢出。

# mysql - 删除唯一约束

> ID：11824860
> 
> 赞同：1
> 
> 时间：2012-08-06T08:29:42.087
> 
> 标签：mysql

我有一个带有主键和唯一约束的表（DBC）。唯一约束由两个字段组成，另一个表（客户端）的外键和日期。

唯一约束是使用以下语句创建的。

```
alter table DBC
     add constraint UNQ_DBC_CLIENT_STARTDATUM unique (FK_CLIENT, START_DATUM); 
```

唯一约束只是为了确保数据库中没有重复项，它从未在外键中使用过。

现在，当我想删除唯一约束时，我总是会收到错误消息

```
Cannot drop index 'UNQ_DBC_CLIENT_STARTDATUM': 
needed in a foreign key constraint. 
```

我尝试了所有可以找到但没有成功的建议（删除键、删除索引、更改表等）。

有什么建议么 ？

# iphone - TabBarController setSelectedIndex 功能不起作用

> ID：11824861
> 
> 赞同：0
> 
> 时间：2012-08-06T08:29:45.073
> 
> 标签：iphone, ios5, uitabbarcontroller, storyboard, uitabbar

我有以下链接中出现的相同问题

[如何从 UIButton 到选项卡栏项？](https://stackoverflow.com/questions/11726620/how-to-segue-from-uibutton-to-a-tab-bar-item)

不幸的是，到目前为止我找不到任何解决方案

备注：

1) 我正在使用带有情节提要的 iOS 5 - 如果有所作为 -

2）我试过`[self.tabBarController.tabBar setSelectedItem:[self.tabBarController.tabBar.items objectAtIndex:3]];`了，但它也不起作用

3）我尝试为标签栏设置IBOutlet并直接访问它，但是当我调用时应用程序崩溃`[self.myTabbar setSelectedItem:[self.myTabbar.items objectAtIndex:3]];`并出现此错误：不允许直接修改由标签栏控制器管理的标签栏

![在此处输入图像描述](../Images/d59505c9568f6cb23832deb3389fa980.png)

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-08-07T13:01:16.047

OMG，这就像一个魔术，解决方案是：

```
[(UITabBarController*)self.navigationController.topViewController setSelectedIndex:3]; 
```

我从以下帖子中获得了解决方案： [https ://stackoverflow.com/a/10533414/1150618](https://stackoverflow.com/a/10533414/1150618)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-01-09T17:40:02.010

从一个`tabBarItem`地方开始`AppDelegate`

```
[(UITabBarController *) self.window.rootViewController setSelectedIndex: 2]; 
```

所以`RootViewController`自动启动viewController

# video - 可以在 PC 上使用 Quicktime 但不能在 Mac 上播放的 mp4

> ID：11824866
> 
> 赞同：0
> 
> 时间：2012-08-06T08:30:09.040
> 
> 标签：video, mp4, quicktime, movie, mpeg-4

我有几个 .mp4 文件，它们都可以使用 PC 上安装的 QuickTime Player 7.7 打开和播放。

但其中一些无法在 Lion 上使用 QuickTime Player 10.1 打开。

它说“无法打开文件 xxx.mp4。此媒体可能已损坏。” 而且这些无法播放的文件也不能在 iPod 上播放。

所有文件都以相同的方式以相同的格式转换。

怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:33:04.617

可能是编解码器问题。您可以使用 VLC 在 Mac 上打开它们吗？尝试安装 Perian，然后 Quicktime 应该可以播放视频了。

[http://perian.org/](http://perian.org/)

# windows-phone-7 - Windows Phone 中的手风琴列表

> ID：11824874
> 
> 赞同：1
> 
> 时间：2012-08-06T08:30:26.233
> 
> 标签：windows-phone-7, user-interface, accordion

Windows Phone 是否有“手风琴列表”控件？如果不是，还可以做些什么来实现与可扩展列表相同的外观和体验？

我一直在谷歌搜索，似乎没有直接的答案。

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T11:43:52.027

您可以尝试使用免费的 Microsoft Windows Phone 工具包中的 ExpanderView 控件。

可能您只需对其进行一些样式设置，使其看起来像手风琴列表。

您可以通过使用 Items 填充控件以简单的方式使用该控件：

```
<toolkit:ExpanderView Header="Expander Header" x:Name="expander">
    <toolkit:ExpanderView.Items>
        <TextBlock FontSize="40" Text="Expanded Content"/>
    </toolkit:ExpanderView.Items>
</toolkit:ExpanderView> 
```

或者您可以使用数据绑定。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:39:35.010

为 WP7 构建了许多第三方质量自定义控件。尝试从 Marketplace 下载 WinPhone DevHub 和 Telerik 示例，我很确定你会找到你想要的已经实现的东西。Telerik 控件不是免费的，但是 WinPhone DevHub 有很多免费的控件。您还将在应用程序中找到有关在何处下载它们的详细信息。

# c# - 以编程方式检查连接字符串用户名/密码？

> ID：11824875
> 
> 赞同：0
> 
> 时间：2012-08-06T08:30:29.173
> 
> 标签：c#, sql-server, linq-to-sql

我有一个客户提供的数据库，它配置了多个用户。每个用户都有自己的用户名/密码等，它们是 SQL Server 的数据库登录名。

在旧版软件中，会要求用户提供他们的数据库和密码，然后使用这些密码在代码中形成连接字符串。

我的任务是为此替换大量数据库代码，并且我需要一种快速检查数据库的用户名和密码的方法。目前，使用 Linq，如果密码不正确，我最终会得到一个`System.Data.SqlClient.SqlException`，但这需要很长时间才能真正抛出（我假设超时？）。

有人知道我可以快速针对数据库测试我的用户名/密码组合的好方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:36:00.227

您可以尝试通过 ADO 打开连接，减少超时

```
 SqlConnection conn = new SqlConnection (yourconnectionstring + ";Connection Timeout=1;");          
 try
 { 
     conn.Open();
     conn.Close();
 }
 catch (SqlException ex)
 {
     if (ex.Number == 18456)
     {
          // invalid login
     }
 } 
```

18456 是 SQL 无效登录

默认连接超时为 15 秒。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-06T14:48:02.520

我认为您不希望数据库（或任何东西，真的）能够告诉您您传入的凭据不正确。为什么？因为这允许蛮力检查。即使引入一个小的延迟也可以在很大程度上阻止这种尝试。

# jvm - Java - 项目依赖和当前\相对工作目录

> ID：11824877
> 
> 赞同：0
> 
> 时间：2012-08-06T08:30:55.650
> 
> 标签：jvm, java

我有两个项目，其中一个依赖于另一个，即项目 A 依赖于项目 B，并且这两个项目位于不同的目录中。

在独立项目（即项目B）中，有一个类包含一个试图访问与独立项目目录相关的目录和文件的代码。由于依赖项目，即项目A，从独立项目中实例化了一个对象，当对象执行`System.getProperty("user.dir")`时返回执行目录，即依赖项目的目录；同样适用于`new File(".").getAbsolutePath()`。

我想以通用方式解决这个问题，即我希望避免将路径作为参数传递，而是希望以编程方式使用相对目录。

任何指导\线索？PS 不确定它是否相关，但我使用 Eclipse 作为我的 IDE。

**更新** 这应该保持...

```
final String clsName = getClass().getName() + ".class"; 
System.out.println(getClass().getResource(clsName)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:35:06.757

我会使用类加载器而不是直接使用路径。在 Eclipse 和部署情况下，两个项目资源都应该在类路径中。

```
ProjectA
    example.png
ProjectB
    foo.txt 
```

像这样的东西应该能够从项目 A 或 B 加载资源。

```
URL url = getClass().getResource("/example.png"); // get URL
InputStream stream = getClass().getResource("/foo.txt").openStream(); // open a stream 
```

# javascript - 将函数绑定到其他范围的 onClick

> ID：11824878
> 
> 赞同：4
> 
> 时间：2012-08-06T08:31:00.760
> 
> 标签：javascript, jquery, javascript-events

我正在尝试将函数绑定到锚点“onclick”属性。我没有使用传统的 jQuery 的 bind/live/on/whatever，因为我有一些其他脚本停止了事件传播（我知道这很糟糕）。

要将函数绑定到“onclick”属性，我将 JSON 对象传递给这样的模块：

```
function foo() {
  alert('foo')
}

$('document').ready(function() {
    var options = {
        opt1: 'fooID',
        opt2: 'barID',
        json: mightyJSON,
        actions: [
            { url: 'contact/_id_/edit', text: "Edit", iconPath: 'edit.png' },
            { url: '#', onClick: foo, text: "Delete", iconPath: 'delete.png' }
        ]
    };

    var trolol = myModule.configure(options);
}); 
```

如您所见，名为“foo”的函数是通过 JSON 的“onClick”属性传递的。函数在对象之上定义。

在“myModule”中，我正在创建这样的锚标记：

```
var buildLinks = function(objectID)
{
  var linksNbr = actions.length;
  var link, cssClass;

  for (var i = 0; i < linksNbr; i++)
  {
    // Adding the object ID to the URL
    link     = actions[i].url.replace('_id_', objectID);
    cssClass = actions[i].cssClass || '';

    var $link = $(document.createElement('a')).attr('onClick', actions[i].onClick)
                                              .attr('href', link)
                                              .attr('title', actions[i].text)
                                              .addClass(cssClass)
                                              .text('foo');
  }

  return $link.html();
}; 
```

问题是，正如您所期望的那样，'foo' 在脚本被解析时被执行，并且只有在那里。“onclick”之后甚至不起作用。

我可以这样通过`onClick: 'foo()'`。onclick 有效，但它也在解析时执行，在我看来，它非常难看。

我希望仍然能够像这样传递它`onClick: foo`但工作正常（即在加载时不执行，但仅在单击时执行。

不幸的是，它必须与 jQuery 1.4.4 一起工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:38:09.710

1.  如果可能的话，返回元素，而不是它的`.html()`

2.  `.attr('onclick', ...)`完成之后，当你已经有一个函数引用时不要使用，使用`.prop`，甚至只是`element.onclick = ...`

例如

```
$link = $('<a>', {
    href: link,
    title: actions[i].text,
    'class': cssClass,
    text: 'foo'
}).prop('onclick', actions[i].onClick); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:44:04.753

我会这样做：

```
var $link = $('<a></a>',{
    href : link,
    title : actions[i].text,
    'class' : cssClass,
    text : 'foo',
    click : actions[i].onclick
})
return $link; 
```

然后使用这些 ( [1](http://api.jquery.com/category/manipulation/dom-insertion-outside/) , [2](http://api.jquery.com/category/manipulation/dom-insertion-inside/) ) 函数之一插入节点，即带有事件的 html。

* * *

对于传播问题，我会这样做：

html`<a href="#no" ....>text</a>`

js`$('a[href="#no"]').live('click',function(){ return false; });`

这样，每当href指向`#no`事件时，最终都会传播

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T09:02:21.743

这是一个[小提琴片段](http://jsfiddle.net/7f9mC/)。如果这种方法很好，您可以如下在 jquery 的原始元素上设置 onclick，如下所示：

```
$link[0].onclick = options.actions[i].onClick; 
```

# scala - 为什么我在运行时需要 Scala 编译器？（具有 Scalap 依赖性的 Play2/Salat）

> ID：11824881
> 
> 赞同：4
> 
> 时间：2012-08-06T08:31:06.923
> 
> 标签：scala, playframework, salat, scalap

我正在使用 Scala / Mongo / Casbah / Salat / Play2，当我尝试使用 Salat 时，它似乎依赖于 Scalap。

它在运行应用程序时工作正常，`play run`但`play start`我得到以下堆栈：

```
[info] application - Can't create user 
java.lang.NoClassDefFoundError: scala/tools/nsc/util/ClassPath$JavaContext
    at scala.tools.scalap.scalax.rules.scalasig.ScalaSigParser$.scalaSigFromAttribute(ScalaSig.scala:35) ~[scalap-2.9.1.jar:na]
    at scala.tools.scalap.scalax.rules.scalasig.ScalaSigParser$.parse(ScalaSig.scala:38) ~[scalap-2.9.1.jar:na]
    at com.novus.salat.util.ScalaSigUtil$$anonfun$parseScalaSig0$2.apply(ScalaSigUtil.scala:73) ~[salat-util_2.9.1-0.0.8-SNAPSHOT.jar:0.0.8-SNAPSHOT]
    at com.novus.salat.util.ScalaSigUtil$$anonfun$parseScalaSig0$2.apply(ScalaSigUtil.scala:73) ~[salat-util_2.9.1-0.0.8-SNAPSHOT.jar:0.0.8-SNAPSHOT]
    at scala.Option.map(Option.scala:133) ~[scala-library.jar:na]
    at com.novus.salat.util.ScalaSigUtil$.parseScalaSig0(ScalaSigUtil.scala:73) ~[salat-util_2.9.1-0.0.8-SNAPSHOT.jar:0.0.8-SNAPSHOT]
Caused by: java.lang.ClassNotFoundException: scala.tools.nsc.util.ClassPath$JavaContext
    at java.net.URLClassLoader$1.run(URLClassLoader.java:366) ~[na:1.7.0_01]
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355) ~[na:1.7.0_01]
    at java.security.AccessController.doPrivileged(Native Method) ~[na:1.7.0_01]
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354) ~[na:1.7.0_01]
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423) ~[na:1.7.0_01]
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308) ~[na:1.7.0_01] 
```

`scala/tools/nsc/util/ClassPath$JavaContext`在 Scala 编译器项目中，所以我添加了 SBT 依赖项：

```
"org.scala-lang" % "scala-compiler" % "2.9.1" 
```

现在它也可以正常工作`play start`。

**但是，运行我的项目时必须使用 scala 编译器的运行时依赖项是正常的吗？** 为什么它可以在`play run`没有 scala 编译器依赖的情况下工作？不在生产模式下运行时是否自动嵌入？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T20:56:58.060

实际上 Scalap 依赖于 Scala 编译器：

```
<dependencies>
    <dependency>
        <groupId>org.scala-lang</groupId>
        <artifactId>scala-compiler</artifactId>
        <version>2.9.0.RC4</version>
    </dependency>
</dependencies> 
```

[http://www.jarvana.com/jarvana/inspect-pom/org/scala-lang/scalap/2.9.0.RC4/scalap-2.9.0.RC4.pom](http://www.jarvana.com/jarvana/inspect-pom/org/scala-lang/scalap/2.9.0.RC4/scalap-2.9.0.RC4.pom)

我遇到了问题，因为临时我的依赖项是手动处理的，而不是由 SBT 处理的。

现在我通过 SBT 管理它们并且它工作正常......但是编译器仍然作为传递依赖项被检索，Salat 作为初始依赖项......

在运行时拥有编译器很奇怪，但它可以工作......

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T08:37:49.390

发生这种情况有两个原因：

*   如果您在开发模式下工作，您的类会不断重新编译。所以你需要一个编译器。

*   如果您使用舞台模式，则这些类将永远编译一次，但这是在内部完成的。如果不是，您必须提供对 scala 编译器的引用，它可以替换 scala 编译器依赖项。

# iphone - 使用 CF 变量优于 NS 变量的好处

> ID：11824885
> 
> 赞同：1
> 
> 时间：2012-08-06T08:31:21.373
> 
> 标签：iphone, objective-c, ios, cocoa-touch

我注意到许多库使用的变量和函数都以 开头`CF`和结尾`Ref`，例如：`CFStringRef`、`CFURLRef`、`CFHTTPMessageCreateRequest`等...

1)`CF`代表什么？我不知道为什么苹果对这种缩写词只字未提。

2）使用（例如）`CFStringRef`而不是使用有什么好处`NSString`？

3）如果使用这些`CF`变量更好，那么我应该用 替换所有常规变量`NSString`吗`CFStringRef`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:44:36.200

Objective-C 是建立在 c 语言之上的，CF（Core Foundation）类型是 C 结构体，通常被包裹在一个 Objective-C 对象中（CFStringRef 被 NSString 包裹，CGImageRef 被 UIImage 包裹等等）

除非您有充分的理由，否则请使用 Objective-C 级别的代码。内存管理要简单得多（ARC 是自动的），通常你的代码会更干净

编辑：正如@omz 所指出的，包裹对于 NSString 是不正确的，它是桥接的，其他一些答案解释了这个概念

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:46:33.013

从[苹果文档](https://developer.apple.com/library/mac/#documentation/CoreFoundation/Conceptual/CFDesignConcepts/CFDesignConcepts.html)：

> Core Foundation 是一个具有一组编程接口的库，概念上源自基于 Objective-C 的 Foundation 框架，但用 C 语言实现。为此，Core Foundation 在 C 中实现了一个受限对象模型。Core Foundation 定义了封装数据和函数的不透明类型，以下称为“对象”。</p>

这基本上是总结了差异。Core Foundation (CF) 以 Foundation 框架的形式提供语言附带的许多 Objective-C 实现的纯 C 实现。NS 代表“NeXTSTEP”是正确的，它是构成 Mac OS X 大部分内容的操作系统的名称，但它也表明一个类型是一个 Objective C 类。CF 类型是纯 C 实现，并带有 C 函数来操作它们。

有时，使用 CF 结构会比 NS 等效结构带来优势。例如，CFDictionary 对值和键的限制比 NSDictionary 少。但除非出现任何此类问题，否则您没有理由更改对它们的 CF 等效项的引用。ARC 也不能轻松地与 CF 类型一起使用。

也可以使用[免费桥接](http://developer.apple.com/library/Mac/#documentation/CoreFoundation/Conceptual/CFDesignConcepts/Articles/tollFreeBridgedTypes.html)在 CF 和 Foundation 之间进行映射。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T08:48:44.917

`CF`代表核心基金会。如果您有兴趣了解更多相关信息，可以从阅读[Core Foundation Design Concepts Guide](https://developer.apple.com/library/mac/#documentation/CoreFoundation/Conceptual/CFDesignConcepts/CFDesignConcepts.html#//apple_ref/doc/uid/10000122i)开始。还有 Core Foundation 的[String Programming Guide 和 Core Foundation](https://developer.apple.com/library/mac/#documentation/CoreFOundation/Conceptual/CFStrings/introCFStrings.html)的[Collections Programming Topics](https://developer.apple.com/library/mac/#documentation/CoreFoundation/Conceptual/CFCollections/CFCollections.html)，它将告诉您更多关于`CFStringRef`各种集合类型（数组、字典等）的信息。

基本上，Core Foundation 是一个相对低级的框架，它做一些与 Foundation 相同的事情，但它是用 C 编写的，而不是 Objective-C。一些核心基础“类”（它们不是真正的类）也与它们的 Objective-C 对应物“免费桥接”，例如，可以将 a`CFStringRef`转换为 an `NSString *`（尽管使用 ARC 稍微复杂一点）。

如果您不需要仅在 Core Foundation 中可用的特定 API，则绝对没有必要使用它来代替 Foundation。Core Foundation 代码的可读性往往比 Objective-C 低，并且也使内存管理更加复杂。

但是，熟悉 Core Foundation 的基本概念可能会非常有用，因为还有很多其他框架是类似构建的。Core Text 和 Core Graphics 就是示例——虽然它们不正式属于 Core Foundation，但它们使用相同的命名和内存管理约定。还有一些 API 仅在 Core Foundation 中可用并且没有 Foundation 对应物 - <code>CFBagRef 或`CFBitVector`（两种集合类型）就是示例。

# jakarta-ee - 以编程方式在 Glassfish3+ 上部署应用程序

> ID：11824886
> 
> 赞同：2
> 
> 时间：2012-08-06T08:31:23.427
> 
> 标签：jakarta-ee, glassfish-3

我有一个用例，需要我从应用程序中控制 Glassfish 服务器上的应用程序的部署（除其他外）。

是否可以在 glassfish 服务器上使用一个应用程序来部署和控制同一 glassfish 服务器上的其他应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T21:35:44.637

虽然 glassfish 可以独立启动，[但它也可以嵌入到您自己的应用程序中](http://embedded-glassfish.java.net/)（这里不要认为 Java EE，而是简单（或不那么简单）的 Java 应用程序）。

您可以定义一组管理 API，启动和配置 GlassFish，并通过这些 API[管理该 glassfish 实例。](http://embedded-glassfish.java.net/nonav/apidocs/)将您的 API 暴露给在 glassfish 下运行的应用程序也应该是可行的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T09:50:12.837

我认为在 glassfish 中自动部署应用程序的最简单方法是使用 glassfish 的 autodeploy 文件夹（位于 glassfish\domains\autodeploy 中）。您复制到该文件夹​​的每个 war 或 jar 都将自动部署在服务器中（如果它工作正常）。

因此，您需要做的就是使用 Quartz 之类的计划控件和几种方法来复制服务器中的文件（例如，复制到您的工作目录到 autodeploy 文件夹）。

另一种选择是在您的应用程序中运行 shell 脚本，如下所示

> $ ./asadmin deploy --name \ --contextroot /absolute/path/to/.war

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-13T14:32:03.933

我相信基本的 Glassfish 服务器管理可以使用 JSR88 API 来处理。尽管这些 API 在 Java EE 7 中被标记为可选，但它们可以工作。我认为您可以在 Java SE 和 EE 应用程序中使用这些 API。

[这里](http://cargo.codehaus.org/Home)有可用的包装 API ，您可以使用它们来操作所有主要的 Java EE 容器。这些 API 也使用 JSR88。

[这里](https://blogs.oracle.com/japod/entry/using_jsr_88_for_web)有一个示例代码可用于部署/取消部署 Java EE 应用程序。此示例适用于某些较旧版本的 Glassfish（可能是 Glassfish2x）。

我稍微修改了示例代码以使其与我在此处发布的 Glassfish4x 一起工作：

```
package simplewardeployer;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Properties;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.enterprise.deploy.shared.ModuleType;
import javax.enterprise.deploy.shared.factories.DeploymentFactoryManager;
import javax.enterprise.deploy.spi.DeploymentManager;
import javax.enterprise.deploy.spi.TargetModuleID;
import javax.enterprise.deploy.spi.exceptions.DeploymentManagerCreationException;
import javax.enterprise.deploy.spi.exceptions.TargetException;
import javax.enterprise.deploy.spi.factories.DeploymentFactory;
import javax.enterprise.deploy.spi.status.ProgressEvent;
import javax.enterprise.deploy.spi.status.ProgressListener;
import javax.enterprise.deploy.spi.status.ProgressObject;

public class Main {

class DeploymentListener implements ProgressListener {

    Main driver;

    String warContext;

    DeploymentListener(Main driver, String warContext) {

        this.driver = driver;

        this.warContext = warContext;

    }

    public void handleProgressEvent(ProgressEvent event) {

        System.out.println(event.getDeploymentStatus().getMessage());

        if (event.getDeploymentStatus().isCompleted()) {

            try {

                TargetModuleID[] ids = getDeploymentManager().getNonRunningModules(ModuleType.WAR, getDeploymentManager().getTargets());

                TargetModuleID[] myIDs = new TargetModuleID[1];

                for (TargetModuleID id : ids) {

                    if (warContext.equals(id.getModuleID())) {

                        myIDs[0] = id;

                        ProgressObject startProgress = driver.getDeploymentManager().start(myIDs);

                        startProgress.addProgressListener(new ProgressListener() {

                            public void handleProgressEvent(ProgressEvent event) {

                                System.out.println(event.getDeploymentStatus().getMessage());

                                if (event.getDeploymentStatus().isCompleted()) {
                                    driver.setAppStarted(true);

                                }

                            }

                        });

                    }

                }

            } catch (IllegalStateException ex) {

                ex.printStackTrace();

            } catch (TargetException ex) {

                ex.printStackTrace();

            }

        }

    }

}

DeploymentManager deploymentManager;

boolean appStarted;

boolean appUndeployed;

String warContext;

String warFilename;

String wsdlUrl;

synchronized void setAppStarted(boolean appStarted) {

    this.appStarted = appStarted;

    notifyAll();

}

synchronized void setAppUndeployed(boolean appUndeployed) {

    this.appUndeployed = appUndeployed;

    notifyAll();

}

private String getParam(String param) {

    return (null == deploymentProperties) ? null : deploymentProperties.getProperty(param);

}

public DeploymentManager getDeploymentManager() {

    if (null == deploymentManager) {

        DeploymentFactoryManager dfm = DeploymentFactoryManager.getInstance();

        try {

            Class dfClass = Class.forName(getParam("jsr88.df.classname"));

            DeploymentFactory dfInstance;

            dfInstance = (DeploymentFactory) dfClass.newInstance();

            dfm.registerDeploymentFactory(dfInstance);

        } catch (ClassNotFoundException ex) {

            ex.printStackTrace();

        } catch (IllegalAccessException ex) {

            ex.printStackTrace();

        } catch (InstantiationException ex) {

            ex.printStackTrace();

        }

        try {

            deploymentManager
                    = dfm.getDeploymentManager(
                            getParam("jsr88.dm.id"), getParam("jsr88.dm.user"), getParam("jsr88.dm.passwd"));

        } catch (DeploymentManagerCreationException ex) {

            ex.printStackTrace();

        }

    }

    return deploymentManager;

}

TargetModuleID getDeployedModuleId(String warContext) {       
    TargetModuleID foundId= null;
    TargetModuleID[] ids = null;
    try {
        ids = getDeploymentManager().getAvailableModules(ModuleType.WAR, getDeploymentManager().getTargets());
        for (TargetModuleID id : ids) {
            if (warContext.equals(id.getModuleID())) {
                foundId = id;
                break;
            }
        }
    } catch (TargetException | IllegalStateException ex) {
        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);
    }

    return foundId;
}

void runApp(String warFilename, String warContext) {

    setAppStarted(false);
    ProgressObject deplProgress;
    TargetModuleID foundId = getDeployedModuleId(warContext);
    if (foundId != null) {
        TargetModuleID[] myIDs = new TargetModuleID[1];
        myIDs[0] = foundId;
        deplProgress = getDeploymentManager().redeploy(myIDs, new File(warFilename), null);
    } else {
        deplProgress = getDeploymentManager().distribute(getDeploymentManager().getTargets(),
                new File(warFilename), null);
    }
    if (deplProgress != null) {
        deplProgress.addProgressListener(new DeploymentListener(this, warContext));
        waitForAppStart();
    }

}

void undeployApp(String warContext) {

    setAppUndeployed(false);

    try {

        TargetModuleID[] ids = getDeploymentManager().getRunningModules(ModuleType.WAR, getDeploymentManager().getTargets());

        TargetModuleID[] myIDs = new TargetModuleID[1];

        for (TargetModuleID id : ids) {

            if (warContext.equals(id.getModuleID())) {

                myIDs[0] = id;

                ProgressObject startProgress = getDeploymentManager().undeploy(myIDs);

                startProgress.addProgressListener(new ProgressListener() {

                    public void handleProgressEvent(ProgressEvent event) {

                        System.out.println(event.getDeploymentStatus().getMessage());

                        if (event.getDeploymentStatus().isCompleted()) {

                            setAppUndeployed(true);

                        }

                    }

                });

            }

        }

    } catch (IllegalStateException ex) {

        ex.printStackTrace();

    } catch (TargetException ex) {

        ex.printStackTrace();

    }

    waitForAppUndeployment();

}

void releaseDeploymentManager() {

    if (null != deploymentManager) {

        deploymentManager.release();

    }

}

synchronized void waitForAppStart() {

    while (!appStarted) {

        try {

            wait();

        } catch (InterruptedException e) {
        }

    }

}

synchronized void waitForAppUndeployment() {

    while (!appUndeployed) {

        try {

            wait();

        } catch (InterruptedException e) {
        }

    }

}

public Main() {

}

public Main(String filename) {

    setProperties(filename);

}

private final static String SyntaxHelp = "syntax:\\n\\tdeploy \\n\\tundeploy ";

private final static String PropertiesFilename = "wardeployment.properties";

private Properties deploymentProperties;

private void setProperties(String filename) {

    FileInputStream fis = null;

    try {

        fis = new FileInputStream(filename);

        deploymentProperties = new Properties();

        deploymentProperties.load(fis);

        fis.close();

    } catch (FileNotFoundException ex) {

        ex.printStackTrace();

    } catch (IOException ex) {

        ex.printStackTrace();

    }

}

private static void printHelpAndExit() {

    System.out.println(SyntaxHelp);

    System.exit(1);

}

public static void main(String[] args) {

    if (args.length < 1) {

        printHelpAndExit();

    }

    Main worker = new Main(PropertiesFilename);

    if ("deploy".equals(args[0])) {

        System.out.println("Deploying app...");
        String warContext = new File(args[1]).getName();
        warContext = warContext.substring(0, warContext.length() - 4);

        worker.runApp(args[1], warContext);

        worker.releaseDeploymentManager();

    } else if ("undeploy".equals(args[0])) {

        System.out.println("Undeploying app...");
        String warContext = new File(args[1]).getName();
        warContext = warContext.substring(0, warContext.lastIndexOf("."));

        worker.undeployApp(warContext);

        worker.releaseDeploymentManager();

        }

    }

} 
```

修改后的`wardeployment.properties`文件如下：

```
jsr88.dm.id=deployer:Sun:AppServer::10.9.80.117:4848
jsr88.dm.user=admin
jsr88.dm.passwd=adminadmin
jsr88.df.classname=org.glassfish.deployapi.SunDeploymentFactory 
```

您需要在类路径中添加`javaee-api-7.0.jar`和`development-client.jar`文件。您可以`development-client.jar`在“glassfish-4.0\glassfish\modules\”目录下的 glassfish 安装目录中找到。

**更新：**我从 Netbeans 7.4 测试了该应用程序，它在 IDE 中运行，但是在 IDE 之外它生成了一条错误消息，该错误消息不容易修复，因为不知道问题出在哪里。错误消息是

*javax.enterprise.deploy.spi.exceptions.DeploymentManagerCreationException：无法获取 DeploymentManager*

根本原因是缺少一些必需的库。在浏览了 glassfish 库的整个列表后，我发现如果我们想独立运行应用程序，则需要以下库。在下面找到完整列表：

1.  管理员-cli.jar
2.  admin-util.jar
3.  cglib.jar
4.  common-util.jar
5.  配置类型.jar
6.  核心.jar
7.  部署-client.jar
8.  部署-common.jar
9.  glassfish-api.jar
10.  hk2-api.jar
11.  hk2-config.jar
12.  hk2-locator.jar
13.  hk2-utils.jar
14.  内部api.jar
15.  javax.enterprise.deploy-api.jar
16.  javax.inject.jar
17.  osgi-资源-locator.jar

# php - 通过ajax将表单文件发送到php

> ID：11824896
> 
> 赞同：0
> 
> 时间：2012-08-06T08:32:24.743
> 
> 标签：php, html, ajax

我想通过 ajax 将文件发送到 php 我有下面的代码但是当我运行它时，它说 Undefined index: thefile 有什么问题？ **HTML**

```
function postData(url){

    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open("POST", url, true);
    xmlHttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xmlHttp.onreadystatechange =  function(){

            if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
                var res = xmlHttp.responseText;
                document.getElementById("upLoadName").textContent=res;

                }
                }

            var formData = new FormData();
            formData.append("thefile", document.getElementById('thefile').files[0]);

                xmlHttp.send(formData);

} 
```

和形式：

```
<form action="#" >
<input type="file" name="thefile" id="thefile"/>
<input type="button" name="Send"  value="send" onclick="postData('upLoad.php');"/>  </form> 
```

**PHP**

```
echo json_encode($_FILES["thefile"]["name"]) ; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:55:30.403

这适用于您有多个文件的情况，但也适用于一个文件：

```
var formData = new FormData();
    jQuery.each($('#thefile')[0].files, function(i, file) {
    formData.append('thefile-'+i, file);
}); 
```

现在可以在以下位置找到第一个文件：

```
$_FILES['thefile-0'] 
```

还要确保设置内容类型。

# java - 获取一个android项目的类结构

> ID：11824904
> 
> 赞同：6
> 
> 时间：2012-08-06T08:32:46.560
> 
> 标签：java, android, project

我有一个用 Java (Eclipse) 编写的 android 项目开源。大约有 300 个类。我希望能够更快地理解代码，并对所有类、接口进行一般表示，并了解它们是如何相互连接的。Eclips 或外部实用程序中是否有方法可以帮助检索项目的类结构？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:36:56.033

我没有尝试过，但这看起来不错：http: [//sourceforge.net/projects/jug/](http://sourceforge.net/projects/jug/)

编辑：这个看起来更好：[http ://www.objectaid.com/home](http://www.objectaid.com/home)

编辑2：也看到这个：[http ://www.nwiresoftware.com/](http://www.nwiresoftware.com/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:38:09.693

我还没有用 Java 做到这一点，但你可以尝试这里讨论的一些选项：

[如何从 Java 代码生成 UML 图（尤其是序列图）](https://stackoverflow.com/questions/51786/recommended-eclipse-plugins-to-generate-uml-from-java-code)

获取代码的 UML 图

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T08:40:03.220

有很多可供 Eclipse 使用的 UML 插件。这实际上是关于您想要多少信息以及您对哪些信息感到满意。我找到的最流行的是**[Object Aid](http://www.objectaid.com/home)**，但是在**[Google 上快速搜索](https://www.google.co.uk/search?q=eclipse%20uml%20plugins&sugexp=chrome,mod=0&sourceid=chrome&ie=UTF-8)**Eclipse 的 UML 插件会返回许多选项。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T18:23:08.673

如果您想要详细的 UML 图，那么我强烈建议您查看[Enterprise Architect](http://www.sparxsystems.com.au)。它提供与 Eclipse 的紧密集成。桌面版相当实惠。

# git - 是否可以在不丢失合并信息的情况下重写分支的历史记录？

> ID：11824907
> 
> 赞同：6
> 
> 时间：2012-08-06T08:33:08.480
> 
> 标签：git

我们有一个主分支，我们在其中合并了大约 10 个功能分支，一次一个。

所以最近的历史是这样的：

```
merged feat/10 (HEAD of master)
merged feat/9
merged feat/8
merged feat/7
merged feat/6
merged feat/5
... 
```

现在我们发现这`feat/7`很糟糕，我们想把它从主人那里拿走。恢复那个合并提交是不够的，因为我们根本不希望那个被破坏的提交存在于我们的历史中。我们不能真正使用交互式变基，因为这会使历史变平，使其看起来好像都是在一个分支上完成的，并且我们希望保留所有**良好的**合并历史。

有没有办法从分支的历史中删除特定的**合并提交？**

我会注意到真实的历史比您在上面的示例中看到的要复杂得多，因此手动重新执行自 feat/7 以来的所有合并不是一个好的选择。

**编辑**

为了澄清那些投票决定将其作为 dup 关闭的人：这不是关于如何使用 rebase 取出提交的常见问题解答，这当然已被多次回答。**这里的问题是关于在不**展平合并历史的情况下取出提交。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T10:00:50.127

您可以使用`git filter-branch --parent-filter`重写`feat/8`提交，使其父级指向`feat/6`提交。将所有其他提交 (9-10) 的父级保留原样，这应该将合并提交保留原样。

唯一的问题是导致删除代码更改的冲突会发生什么......没有真正的知道方法，它可能是罪魁祸首。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T12:28:30.197

这并不是您想要做的（可以说是“zap”合并提交），但实际上它比说服您的合作者`git reset --hard`在 a `rebase`or之后更容易`filter-branch`。只需还原合并。

```
git revert -m 1 <commit_for_feat7> 
```

我不是特别喜欢用还原来污染我的主分支，但它本质上并没有错。如果您暂时不打算打补丁`feat7`，或者只是希望它的更改集脱离历史，那么这个解决方案比历史修订麻烦得多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T08:48:03.627

如果您的历史记录当前看起来像这样并且您没有删除分支但您可以简单地`git reset --hard HEAD~4`将您的代码重置回您合并到 7 之前的状态，那么您可以简单地`git merge`将好的代码重新放入。这是我能想到的最简单的方法我的头。

**编辑：** 您可以在 rebase 上使用 -p 开关来保留合并，但将此开关与 -i 一起使用可能会产生后果。检查 man git-rebase 页面并查看错误部分以查看当前错误。

*EDIT2：*如果您在使用此命令之前没有采取适当的预防措施，我不承担任何责任。在阅读手册页之前也不要使用它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T09:36:39.293

你不能只从 git 中删除东西，因为当前的哈希取决于整个历史。

一种选择是创建一个从 feat/6 开始的新分支，然后从 feat/8 开始进行合并，以便分支头可以指向不同的哈希，而无需从 feat/7 进行更改。

如果我没记错的话，另一种选择是`git replace`（我认为它曾经被称为移植物）。它可以让您将专长/8 处的指针从专长/7“替换”为专长/6。我不完全确定它是如何实现这一点的，但它看起来不是一个真正的替代品，因为 feat/8 仍然有一个指向 feat/7 的指针，因为哈希没有改变，但`git replace`不知何故添加了一个替代品其中专长/8 指向专长/6 的历史。从[手册页](http://www.kernel.org/pub/software/scm/git/docs/git-replace.html)：

```
git replace [-f] <object> <replacement>   
git replace -d <object>…  
git replace -l [<pattern>] 
```

> 在 .git/refs/replace/ 中添加替换引用
> 
> 替换引用的名称是被替换对象的 SHA1。替换引用的内容是替换对象的 SHA1。
> 
> 除非给出 -f，否则 .git/refs/replace/ 目录中必须不存在替换引用。
> 
> 默认情况下，所有 git 命令都将使用替​​换引用，除了那些执行可达性遍历（修剪、包传输和 fsck）的命令。
> 
> 可以在 git 之后使用 --no-replace-objects 选项禁用任何命令的替换引用。

编辑：再三考虑`git replace`可能是个坏主意，因为从 feat/7 的变化将存在于 feat/8 的合并中。您可能应该只使用第一个选项：从合并的专长 / 6 开始一个新分支并从专长 / 8 开始重新合并

# trac - 允许插件定制的 TRAC 主机

> ID：11824908
> 
> 赞同：0
> 
> 时间：2012-08-06T08:33:10.797
> 
> 标签：trac, project-hosting

我的研究和开发环境需要一个高度定制的[TRAC](http://trac.edgewall.org)，带有相应的 subversion 存储库和二进制文件存储（例如 WebDAV）。

我关注至少 10 个我想使用的插件（从与时间跟踪软件的集成到专业的数学/代码渲染）。我也想写自己的插件。

我正在寻找可以让我自行管理我的 TRAC 插件的商业主机。我调查了（并联系了）[TRAC 商业服务](http://trac.edgewall.org/wiki/CommercialServices)列表中的一些商业提供商，包括：

*   [项目储物柜](http://www.projectlocker.com)
*   [存储库托管](http://repositoryhosting.com)
*   [SVN 存储库](http://svnrepository.com)

*Project Locker*描述了他们对插件请求进行代码审查并最终处理（未指定时间段）。*Repository Hosting*表示他们“可能不会在不久的将来增加对此的支持”。*SVN Repository*表示“您将无法安装任何新插件”，并建议使用他们的 VPS 帐户之一。

除了管理我自己的 VPS 或专用服务器，**有人知道允许付费客户安装自己的插件的商业 SVN/TRAC 主机**吗？*我`chroot`原以为环境会让这变得不费吹灰之力！*

（注意：这最初发布于`programmers`但被否决，建议我将其移至此处。引用他们的常见问题解答：*实施问题或编程工具（请在 Stack Overflow 上询问*）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T15:37:37.823

您可能会发现很难找到您正在寻找的东西，因为正如 Craig 在他的评论中提到的那样，商业托管服务的概念通常围绕限制客户的定制能力展开。保持相对统一意味着托管公司可以更轻松地管理系统和部署自动更新，并且不必担心他们的脚本会因为某个客户安装或重新配置的奇怪东西而中断。

如果您希望能够随意安装和配置插件，我强烈建议您走 VPS 路线并自己管理服务器。这比你想象的要容易（我被抛入这种情况并感到惊喜）。[您可以从Bitnami Trac 堆栈](http://bitnami.org/stack/trac)之类的东西开始，它是一个虚拟机映像，具有 Linux 操作系统和 Trac 以及所有支持工具（数据库、网络服务器等）的设置并准备就绪。如果您以此为起点，您所要做的就是自定义您的 Trac 设置并安装您的插件。

如果您真的不想与管理方面有*任何*关系，请记住您始终可以走 VPS 路线并将管理工作单独外包出去。如果托管服务提供商和系统管理员来自同一家公司，这可能会更容易，但这不是必需的。鉴于您需要的灵活性和自定义，这可能是一个更现实的选择。

# cxf - 如何使用 Apache CXF 运行 WS-Notification 示例？

> ID：11824910
> 
> 赞同：1
> 
> 时间：2012-08-06T08:33:18.360
> 
> 标签：cxf, ws-notification

我想试试 Apache CXF 中的 WS-Notification 示例。他们提供的唯一文件是 Client.java 文件。

是不是我只需要编译这个 Client.java 文件就可以让程序运行？我试过了，但它不起作用。

如果没有，将非常感谢任何可以给我一步一步的指南的人。

下面是来自 WS-Notification 示例的 Client.java 的代码。

```
package demo.client;

import javax.xml.bind.JAXBElement;
import javax.xml.namespace.QName;

import org.w3c.dom.Element;

import org.apache.cxf.wsn.client.Consumer;
import org.apache.cxf.wsn.client.NotificationBroker;
import org.apache.cxf.wsn.client.Subscription;
import org.oasis_open.docs.wsn.b_2.NotificationMessageHolderType;

/**
 * 
 */
public final class Client {
private Client() {
    //not constructed
}

/**
 * @param args
 */
public static void main(String[] args) throws Exception {
    String wsnPort = "9000";
    if (args.length > 0) {
        wsnPort = args[0];
    }

    // Start a consumer that will listen for notification messages
    // We'll just print the text content out for now.
    Consumer consumer = new Consumer(new Consumer.Callback() {
        public void notify(NotificationMessageHolderType message) {
            Object o = message.getMessage().getAny();
            System.out.println(message.getMessage().getAny());
            if (o instanceof Element) {
                System.out.println(((Element)o).getTextContent());
            }
        }
    }, "http://localhost:9001/MyConsumer");

    // Create a subscription for a Topic on the broker
    NotificationBroker notificationBroker 
        = new NotificationBroker("http://localhost:" + wsnPort + "/wsn/NotificationBroker");
    Subscription subscription = notificationBroker.subscribe(consumer, "MyTopic");

    // Send a notification on the Topic
    notificationBroker.notify("MyTopic", 
                              new JAXBElement<String>(new QName("urn:test:org", "foo"),
                                      String.class, "Hello World!"));

    // Just sleep for a bit to make sure the notification gets delivered
    Thread.sleep(5000);

    // Cleanup and exit
    subscription.unsubscribe();
    consumer.stop();
    System.exit(0);
}

} 
```

错误在这里：

```
Aug 10, 2012 4:52:50 PM org.apache.cxf.service.factory.ReflectionServiceFactoryBean buildServiceFromClass
INFO: Creating Service {http://client.wsn.cxf.apache.org/}ConsumerService from class org.oasis_open.docs.wsn.bw_2.NotificationConsumer
Aug 10, 2012 4:52:52 PM org.apache.cxf.endpoint.ServerImpl initDestination
INFO: Setting the server's publish address to be http://localhost:9001/MyConsumer
Aug 10, 2012 4:52:52 PM org.eclipse.jetty.server.Server doStart
INFO: jetty-7.5.4.v20111024
Aug 10, 2012 4:52:52 PM org.eclipse.jetty.server.AbstractConnector doStart
INFO: Started SelectChannelConnector@localhost:9001 STARTING
Aug 10, 2012 4:52:52 PM org.eclipse.jetty.server.handler.ContextHandler startContext
INFO: started o.e.j.s.h.ContextHandler{,null}
Aug 10, 2012 4:52:52 PM org.apache.cxf.service.factory.ReflectionServiceFactoryBean buildServiceFromWSDL
INFO: Creating Service {http://cxf.apache.org/wsn/jaxws}NotificationBrokerService from WSDL: jar:file:/home/wenbin/Desktop/keith/Apache/apache-cxf-2.6.1/lib/cxf-services-wsn-api-2.6.1.jar!/org/apache/cxf/wsn/wsdl/wsn.wsdl
Aug 10, 2012 4:52:53 PM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging
WARNING: Interceptor for {http://cxf.apache.org/wsn/jaxws}NotificationBrokerService#{http://docs.oasis-open.org/wsn/brw-2}Subscribe has thrown exception, unwinding now
org.apache.cxf.interceptor.Fault: Could not send Message.
    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:64)
    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:532)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:464)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:367)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:320)
    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:89)
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)
    at $Proxy66.subscribe(Unknown Source)
    at org.apache.cxf.wsn.client.NotificationBroker.subscribe(NotificationBroker.java:208)
    at org.apache.cxf.wsn.client.NotificationBroker.subscribe(NotificationBroker.java:162)
    at test.Client.main(Client.java:67)
Caused by: java.net.ConnectException: ConnectException invoking http://localhost:9000/wsn/NotificationBroker: Connection refused
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:532)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1457)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1442)
    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:658)
    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
    ... 11 more
Caused by: java.net.ConnectException: Connection refused
    at java.net.PlainSocketImpl.socketConnect(Native Method)
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:327)
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:193)
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:180)
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)
    at java.net.Socket.connect(Socket.java:546)
    at sun.net.NetworkClient.doConnect(NetworkClient.java:173)
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:409)
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:530)
    at sun.net.www.http.HttpClient.<init>(HttpClient.java:240)
    at sun.net.www.http.HttpClient.New(HttpClient.java:321)
    at sun.net.www.http.HttpClient.New(HttpClient.java:338)
    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:935)
    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:876)
    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:801)
    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:979)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1394)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1336)
    at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:42)
    at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1414)
    ... 14 more
Exception in thread "main" javax.xml.ws.WebServiceException: Could not send Message.
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)
    at $Proxy66.subscribe(Unknown Source)
    at org.apache.cxf.wsn.client.NotificationBroker.subscribe(NotificationBroker.java:208)
    at org.apache.cxf.wsn.client.NotificationBroker.subscribe(NotificationBroker.java:162)
    at test.Client.main(Client.java:67)
Caused by: java.net.ConnectException: ConnectException invoking http://localhost:9000/wsn/NotificationBroker: Connection refused
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:532)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1457)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1442)
    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:658)
    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:532)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:464)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:367)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:320)
    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:89)
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)
    ... 4 more
Caused by: java.net.ConnectException: Connection refused
    at java.net.PlainSocketImpl.socketConnect(Native Method)
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:327)
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:193)
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:180)
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)
    at java.net.Socket.connect(Socket.java:546)
    at sun.net.NetworkClient.doConnect(NetworkClient.java:173)
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:409)
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:530)
    at sun.net.www.http.HttpClient.<init>(HttpClient.java:240)
    at sun.net.www.http.HttpClient.New(HttpClient.java:321)
    at sun.net.www.http.HttpClient.New(HttpClient.java:338)
    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:935)
    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:876)
    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:801)
    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:979)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1394)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1336)
    at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:42)
    at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1414)
    ... 14 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T05:39:04.167

好的，

终于想通了。问题是 ws-notification 示例应该由 maven 使用命令行运行。我试图在 Eclipse 中运行它们。

在 Eclipse 中运行时，我们需要添加额外的行来启动 WS-Notification 服务的实例。

修改后的代码段如下：

```
NotificationBroker notificationBroker 
    = new NotificationBroker("http://localhost:" + wsnPort + "/wsn/NotificationBroker");

//these 3 lines are the codes added.
String agu[] = new String[2];       
Service service = new Service(agu);
service.start();

Subscription subscription = notificationBroker.subscribe(consumer, "MyTopic"); 
```

# oracle11g - Oracle 11g：无法从 EE 转储中恢复 XE 中的方案

> ID：11824913
> 
> 赞同：0
> 
> 时间：2012-08-06T08:33:47.183
> 
> 标签：oracle11g, oracle-xe

我使用`expdp/impdp`实用程序。

在 Oracle 11g XE 中，并非所有表都被还原。以下是日志的一些摘录：

```
...
ORA-31684: Object type USER:"GAZ" already exists
...
ORA-39083: Object type TYPE failed to create with error:
ORA-02304: invalid object identifier literal
...
ORA-39082: Object type TYPE:"GAZ"."T_DATASET_INFO" created with compilation warnings
ORA-39082: Object type TYPE:"GAZ"."T_DATASET_INFO" created with compilation warnings
ORA-39082: Object type TYPE:"GAZ"."T_FIELDVALUE_INFO" created with compilation warnings
ORA-39082: Object type TYPE:"GAZ"."T_FIELDVALUE_INFO" created with compilation warnings
ORA-39082: Object type TYPE:"GAZ"."STRING_AGG_TYPE" created with compilation warnings
ORA-39082: Object type TYPE:"GAZ"."STRING_AGG_TYPE" created with compilation warnings
...
ORA-39112: Dependent object type OBJECT_GRANT:"GAZ" skipped, base object type TYPE:"GAZ"."PARMS" creation failed
ORA-39112: Dependent object type OBJECT_GRANT:"GAZ" skipped, base object type TYPE:"GAZ"."T_FIELDVALUE_RECORD" creation failed
ORA-39112: Dependent object type OBJECT_GRANT:"GAZ" skipped, base object type TYPE:"GAZ"."T_DATASET_RECORD" creation failed
...
ORA-00439: feature not enabled: Deferred Segment Creation
...
ORA-39083: Object type TABLE:"GAZ"."ACTDOCS" failed to create with error:
ORA-00439: feature not enabled: Deferred Segment Creation
...
ORA-39083: Object type TABLE:"GAZ"."DOCUM_NOTICE" failed to create with error:
ORA-00439: feature not enabled: Deferred Segment Creation
...
ORA-00439: feature not enabled: Fine-grained access control
...
ORA-39083: Object type RLS_POLICY failed to create with error:
ORA-00439: feature not enabled: Fine-grained access control
...
ORA-39083: Object type RLS_POLICY failed to create with error:
ORA-00439: feature not enabled: Fine-grained access control
...
ORA-39083: Object type PROCACT_INSTANCE failed to create with error:
ORA-01403: no data found
ORA-01403: no data found
ORA-01403: no data found
...
ORA-39083: Object type PROCACT_INSTANCE failed to create with error:
ORA-01403: no data found
ORA-01403: no data found
ORA-01403: no data found
...
Job "SYS"."SYS_IMPORT_SCHEMA_01" completed with 3397 error(s) at 17:53:03 
```

XE版是否支持EE版序列化方案的格式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T09:17:43.357

涉及多种类型的错误。但是其中两个确实与企业版中可用但在快捷版中不可用的功能有关：

```
ORA-00439: feature not enabled: Deferred Segment Creation

ORA-00439: feature not enabled: Fine-grained access control 
```

确实不可能直接导入这些转储。作为一种解决方法，您可以在导入转储之前尝试自己创建有问题的表。使用源系统中的定义并删除或替换不受支持的功能。表存在后，导入将发出表已存在的警告，但如果架构兼容，它仍应导入数据。

关于细粒度访问控制的错误最初可以忽略。但对于生产性用途，您需要想出另一种方法来控制对数据的访问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-02T18:42:19.900

XE 不支持 11G EE 的许多功能。最安全的方法是将版本作为 10.2 添加到您的 impdp 命令。下面给出的例子

```
impdp Target_schema/<password>@<DB_TNSNAME>  directory='DATA_DUMP' dumpfile=data_dump_EE.dmp logfile=import.log REMAP_SCHEMA=<Source_Schema>:<Target_schema> version=10.2 
```

# gnuplot - Gnuplot：控制“设置调色板”的颜色和范围。

> ID：11824915
> 
> 赞同：1
> 
> 时间：2012-08-06T08:34:18.473
> 
> 标签：gnuplot

我正在使用 gnuplot 制作颜色图。我需要的是，当我设置调色板时，我需要定义范围和颜色，以使某些范围具有相同的颜色。

例如，假设数据的第三列范围从 100 到 150。我需要 100 到 120 是相同颜色，然后是 120 到 130 相同颜色。我试过这样做

```
set palette defined (100:120 "gray", 121:129 "blue", 130:150 "dark-gray") 
```

但它 gnuplot 说这是**无效的表达**，特别是指向“ **：** ”。

有没有办法解决？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T10:43:58.667

退房`set palette maxcolors`。从帮助页面：

> 此选项还可用于在离散步骤中分隔 z=constant 的级别，从而模拟填充轮廓。默认值 0 保留用于分配终端调色板中的所有剩余条目或使用精确映射到 RGB。

另请注意，您应该能够执行以下操作：

```
set palette defined ( 100 "gray", 120 "gray", 121 "blue", 129 "blue" ) 
```

`set cbrange [100:129]`但要小心——除非你（例如），否则数字 100、120、121、129 等与颜色条上的值不对应。

# c# - 创建假 DbDataAdapter 会引发 FakeItEasy.Core.FakeCreationException

> ID：11824920
> 
> 赞同：4
> 
> 时间：2012-08-06T08:35:34.373
> 
> 标签：c#, unit-testing, fakeiteasy

我在 Visual Studio 2010 中设置了一个简单的测试项目。对于单元测试，我使用 nunit 2.6.1 并模拟我通过 NuGet 安装的 FakeItEasy 1.7.4582.63。

我尝试使用以下代码伪造 DbDataAdapter：

```
using System.Data.Common;
using FakeItEasy;
using NUnit.Framework;

namespace huhu
{
    [TestFixture]
    public class Class1
    {
        [Test]
        public void test1()
        {
            A.Fake<DbDataAdapter>();
        }
    }
} 
```

当我使用 .NET framework 3.5 运行测试时，一切正常并且 test1 将通过。但是，当我将框架版本设置为 .NET 4.0 时，出现以下异常：

```
FakeItEasy.Core.FakeCreationException : 
  Failed to create fake of type "System.Data.Common.DbDataAdapter".

  Below is a list of reasons for failure per attempted constructor:
    No constructor arguments failed:
      No default constructor was found on the type System.Data.Common.DbDataAdapter.
    The following constructors were not tried:
      (*System.Data.Common.DbDataAdapter)

      Types marked with * could not be resolved, register them in the current
      IFakeObjectContainer to enable these constructors. 
```

任何如何使事情在 .NET 4.0 中工作的想法都值得赞赏！

再见，约尔格

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T11:31:46.160

通常这些问题不是来自 FakeItEasy 本身，而是来自[Castle.DynamicProxy](http://www.castleproject.org/)，FakeItEasy 用来创建假类型的库。进一步调查这一点会导致 Castle 抛出以下异常：

> 由于 CLR 中的限制，DynamicProxy 无法成功复制 System.Data.Common.DbDataAdapter.CloneInternals 上的不可继承属性 System.Security.Permissions.PermissionSetAttribute。为避免此错误，您可以通过调用“Castle.DynamicProxy.Generators.AttributesToAvoidReplicating.Add(typeof(System.Security.Permissions.PermissionSetAttribute))”**来选择不复制此属性类型。**

检查`DbDataAdapter`基类的源代码 ( [`DataAdapter`](http://msdn.microsoft.com/en-us/library/system.data.common.dataadapter.aspx)) 表明情况确实如此：

```
[PermissionSet(SecurityAction.Demand, Name = "FullTrust")]
protected virtual DataAdapter CloneInternals() 
```

Castle 已经暗示了如何解决这个问题。在创建假货之前，只需指示 Castle 不要复制`PermissionSetAttribute`：

```
Castle.DynamicProxy.Generators
   .AttributesToAvoidReplicating.Add(typeof(PermissionSetAttribute));
var fake = A.Fake<DbDataAdapter>(); 
```

有两点需要注意：

1.  您需要在项目中引用**Castle.Core.dll**（可[在此处](http://www.castleproject.org/download#core3)获得）
2.  Keep in mind FakeItEasy will only be able to mock virtual methods of this DbDataAdapter (again, this is Castle.DynamicProxy/CLR limitation - I briefly explained why this is the case in [my blog post](http://jimmykeen.net/articles/25-apr-2012/mocking-private-members-csharp))

# map - 为什么带有“地图”显示的 Open Graph Actions 不再显示网络上的路线？

> ID：11824921
> 
> 赞同：0
> 
> 时间：2012-08-06T08:35:47.613
> 
> 标签：map, facebook-opengraph, routes

几天来，我自己的应用程序和其他应用程序都是这种情况。IOS FB 应用程序仍能正确显示路线。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T17:16:13.350

显然，这只是 FB 过渡到新显示器（？）期间的侥幸。

# objective-c - 对着麦克风讲话时录制声音

> ID：11824922
> 
> 赞同：0
> 
> 时间：2012-08-06T08:35:52.240
> 
> 标签：objective-c, ios, ios5

我想编写处理录音的控制器。当麦克风中有声音时，它应该录制声音。

按下按钮时，我有录制声音的工作代码。

```
-(IBAction) startRecording
{
    NSLog(@"startRecording");
    audioRecorder = nil;

    // Init audio with record capability
    AVAudioSession *audioSession = [AVAudioSession sharedInstance];
    [audioSession setCategory:AVAudioSessionCategoryRecord error:nil];

    NSMutableDictionary *recordSettings = [[NSMutableDictionary alloc] initWithCapacity:10];
   // if(recordEncoding == ENC_PCM)
    //{

        [recordSettings setObject:[NSNumber numberWithInt: kAudioFormatLinearPCM] forKey: AVFormatIDKey];
        [recordSettings setObject:[NSNumber numberWithFloat:500.0] forKey: AVSampleRateKey];//44100.0
        [recordSettings setObject:[NSNumber numberWithInt:2] forKey:AVNumberOfChannelsKey];
        [recordSettings setObject:[NSNumber numberWithInt:16] forKey:AVLinearPCMBitDepthKey];
        [recordSettings setObject:[NSNumber numberWithBool:NO] forKey:AVLinearPCMIsBigEndianKey];
        [recordSettings setObject:[NSNumber numberWithBool:NO] forKey:AVLinearPCMIsFloatKey];

   // NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@/recordTest.caf", [[NSBundle mainBundle] resourcePath]]];

    NSURL *url = [NSURL URLWithString:[self copyFile:@"recordTest.caf"]];

    NSError *error = nil;
    audioRecorder = [[ AVAudioRecorder alloc] initWithURL:url settings:recordSettings error:&error];
    [audioRecorder setDelegate:self];

    if ([audioRecorder prepareToRecord] == YES){
        [audioRecorder record];
        NSLog(@"recording");
    }else {
        int errorCode = CFSwapInt32HostToBig ([error code]);
        NSLog(@"Error: %@ [%4.4s])" , [error localizedDescription], (char*)&errorCode);

    }

} 
```

那么是否可以录制或监控来自麦克风输入的声音并在声音高于例如 1000 Hz 时开始录制？

我也很欣赏这方面的文献。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:47:06.367

希望对你有帮助[下载链接](http://developer.apple.com/library/ios/#samplecode/SpeakHere/Introduction/Intro.html)l

# java - 来自 Flash 的套接字连接安全性

> ID：11824929
> 
> 赞同：0
> 
> 时间：2012-08-06T08:36:47.627
> 
> 标签：java, flash, security, sockets, actionscript

我有一个连接到 java 套接字服务器的 flash 应用程序。一些黑客试图模仿来自外部软件的消息，如 charles、winsock 袖珍编辑器。如何创建服务器只接受来自闪存的命令的安全连接？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T09:03:16.143

我推荐以下网站。这个站点是一个很棒的站点，有多种教程，你想要那个 java flash socket 连接。不过这个网站是日文的，不过如果你用谷歌翻译来查看，问题不大。当然有些尴尬，但是，不会有什么大问题。3年来我访问了很多种flash，as3.0教程网站。我认为，这个网站对我来说是最好的。

[flash(as3.0)-java socket连接教程](http://hakuhin.jp/as/xml_socket.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T17:21:22.717

这基本上是不可能的。你能做的最好的事情就是让攻击更有效，但即便如此，它也可能让你比对手做更多的工作。

即使你要加密通信，你也必须发送一个对手可以检查的密钥。攻击者通过混淆通道的最简单途径可能是更改正在运行的闪存程序。

（理论上，您可以拥有一个可在篡改时擦除的可信平台。但这不是 PC。）

# php - 这个选择 MUTUAL FRIEND 的查询是否正确？

> ID：11824931
> 
> 赞同：0
> 
> 时间：2012-08-06T08:37:01.267
> 
> 标签：php, mysql

```
<?php
    mysql_connect("localhost","root","");
    mysql_select_db('db2012');
    $uid = 8;
    $mid = 10;

    $q = mysql_query("select friend from users_friends where user = $uid") or die(mysql_error());
    if(mysql_num_rows($q) > 0)
    {

        while($r=mysql_fetch_array($q))
        {
            $qq = mysql_query("select friend from users_friends where user = $mid") or die(mysql_error());
            while($rr = mysql_fetch_array($qq))
            {
                if($r[friend]==$rr[friend])
                {
                    $friend_name_query = mysql_query("select name from users where uid = '$rr[friend]'") or die();
                    $friend_name = mysql_fetch_array($friend_name_query);
                    echo $friend_name[name];
                }
            }
        }   
    }

?> 
```

此查询正在工作，但还有其他方法可以使用更少的查询吗？我是初学者程序员，如果有需要请告诉我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:45:25.727

您应该只使用一个查询：

```
$query = 'SELECT u.name
    FROM users_friends f1 
      INNER JOIN users_friends f2 ON (f2.friend = f1.friend)
      INNER JOIN user u ON (u.uid = f2.friend)
    WHERE f1.user = "'. $uid. '"
      AND f2.user = "'. $mid .'"'; 
```

运行查询

```
$q = mysql_query($query) or die(mysql_error()); 
```

并执行while循环

```
while($r=mysql_fetch_array($q)){
  echo $r['name'];
} 
```

如果你做了一个，你只需要`if(mysql_num_rows($q) > 0)`声明`else`，否则你可以使用`while`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:45:32.613

您可以在下面尝试以获得用户 8 和 10 的共同朋友。

```
select * from
user_friends a inner join user_friends b on
a.friend=b.friend and (a.user='8' and b.user='10') 
```

然后，您可以加入用户表以获取名称。

# php - 如何在 phing build.xml 中使用现有的 phpunit.xml？

> ID：11824932
> 
> 赞同：4
> 
> 时间：2012-08-06T08:37:05.327
> 
> 标签：php, phpunit, phing

我有一个现有的**phpunit.xml**（phpunit 的配置文件），如下所示：

```
<phpunit backupGlobals="false"
    backupStaticAttributes="false"
    bootstrap="./tests/bootstrap.php"
    convertErrorsToExceptions="true"
    convertNoticesToExceptions="true"
    convertWarningsToExceptions="true"
    strict="true" 
    verbose="true"
    colors="true">

    <testsuites>
        <testsuite name="My Tests">
            <directory>./tests</directory>
        </testsuite>
</testsuites>
</phpunit> 
```

正如[DRY](http://en.wikipedia.org/wiki/Don%27t_repeat_yourself)所说，我不想简单地将**phpunit.xml**的内容复制并粘贴到我的**build.xml**以使用相同的配置运行 phpunit。

我在**build.xml**中的 Phing 目标如下所示：

```
<target name="unit-test">
    <phpunit printsummary="true" />
</target> 
```

即使那个 phpunit 应该自动找到 phpunit.xml （当我手动启动它时，就像在我的终端中输入“phpunit”并按回车一样，它可以工作）并使用它，在 phing 的情况下，输出如下所示：

```
[phpunit] Total tests run: 0, Failures: 0, Errors: 0, Incomplete: 0, Skipped: 0, Time elapsed: 0.00122 s 
```

那么有什么办法，如何达到所描述的行为？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-18T08:51:21.247

[从带有](http://www.phing.info/trac/ticket/751)[配置](http://www.phing.info/docs/guide/stable/chapters/appendixes/AppendixC-OptionalTasks.html#PHPUnitTask)属性的phing 2.4.13开始就有可能：

```
<phpunit configuration="path/to/phpunit.xml"/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T12:00:21.957

一种可能的解决方案是

```
<exec command="phpunit" logoutput="/dev/stdout" /> 
```

但它缺少连接 phpunit 和 phing 的全部内容。

恐怕没有其他优雅的解决方案，因为 TestRunner 在[phing](https://github.com/phingofficial/phing/blob/master/classes/phing/tasks/ext/phpunit/PHPUnitTestRunner.php)和[phpunit](https://github.com/sebastianbergmann/phpunit/blob/3.6/PHPUnit/TextUI/TestRunner.php)中完全不同。

# excel - 将多个工作表中的数据提取到一个工作表中

> ID：11824939
> 
> 赞同：0
> 
> 时间：2012-08-06T08:38:06.370
> 
> 标签：excel, vba

我有 50 个 excel 工作簿，每个里面包含 5 张工作表。它们都具有相同的结构、相同的工作表名称、相同的列标题。我需要从每个文件中提取第四张表，并将数据放在一个单张工作簿中。我找到了这个宏，但它在不同的工作表上提取。我不知道如何修改此代码以满足我的需要。有人可以建议吗？

```
Sub CombineWorkbooks() 
Dim FilesToOpen 
Dim x As Integer 
On Error GoTo ErrHandler 
Application.ScreenUpdating = False 
FilesToOpen = Application.GetOpenFilename _ 
              (FileFilter:="Microsoft Excel Files (*.xlsx), *.xlsx", _ 
               MultiSelect:=True, Title:="Files to Merge") 
If TypeName(FilesToOpen) = "Boolean" Then 
    MsgBox "No file is chosen" 
    GoTo ExitHandler 
End If 
x = 1 
While x <= UBound(FilesToOpen) 
    Workbooks.Open Filename:=FilesToOpen(x) 
    Sheets("Associates report").Move After:=ThisWorkbook.Sheets(ThisWorkbook.Sheets.Count)
    x = x + 1 
Wend 
ExitHandler: 
    Application.ScreenUpdating = True 
    Exit Sub 
ErrHandler: 
    MsgBox Err.Description 
    Resume ExitHandler 
End Sub code here 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T14:31:17.800

这是一个用于从特定文件夹中的所有文件中收集数据的宏。

[工作簿到 1 张](https://sites.google.com/a/madrocketscientist.com/jerrybeaucaires-excelassistant/merge-functions/consolidate-wbs-to-one-sheet)

需要编辑的代码部分用颜色来引起您的注意。在“这是要自定义的部分”中，代码​​：

```
LR = Range("A" & Rows.Count).End(xlUp).Row  'Find last row
Range("A1:A" & LR).EntireRow.Copy .Range("A" & NR) 
```

...从第 4 页复制需要是这样的：

```
LR = Sheets("Sheet4").Range("A" & Rows.Count).End(xlUp).Row  'Find last row
Sheets("Sheet4").Range("A1:A" & LR).EntireRow.Copy .Range("A" & NR) 
```

或者查看上面的示例代码，也许：

```
LR = Sheets("Associates Report").Range("A" & Rows.Count).End(xlUp).Row  'Find last row
Sheets("Associates Report").Range("A1:A" & LR).EntireRow.Copy .Range("A" & NR) 
```

它旨在作为一个通用的起点，您将不得不为您的环境进行编辑。检查评论。

# .net - 使用 TFS API 以编程方式签出和签入

> ID：11824940
> 
> 赞同：0
> 
> 时间：2012-08-06T08:38:07.827
> 
> 标签：.net, api, .net-3.5

我们想使用 TFS 2010 或可能的 2012 以编程方式签出和签入。关键是：必须在*没有本地工作空间的情况下*完成。为什么？

“签出”和“签入”按钮将出现在管理网站上。该网站本身处理一堆配置文件，所有这些文件都需要签入 TFS。我们希望通过上述按钮来做到这一点。

还有一些按钮可以在不使用签入/签出选项的情况下“保存”和“编辑”。换句话说，用户必须能够选择他是否只想编辑和保存他的更改而不使用 TFS，或者他是否想通过签出/签入他的更改来使用 TFS。

**我的问题：**

1.  是否可以在没有本地工作区的情况下以编程方式检出单个文件（这将是一个 .xml 文件）？
2.  还有其他我可能不知道的障碍吗？
3.  这会以某种方式可行吗？完成这项工作的最佳方法是什么？

**重要说明：该网站是一个 ASP.NET 闭源网站，可以通过插件进行扩展（例如添加自定义按钮，如上面的“签入”或“签出”按钮）。这就是为什么文件需要始终是可编辑/可写的（而签入的文件是只读的）。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T10:03:27.560

可以在没有文件的本地副本的情况下签出文件，但您必须有一个工作区。但是，如果没有文件的本地副本，您将无法重新签入 - 因为如果没有工作空间，则无法签入。（否则，你会检查什么？）

但是，可以通过编程方式为任何用户创建和删除工作区 - 所以您可能需要在服务器上创建一个工作区，可能是在服务用户下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T19:41:53.783

没有工作空间就没有签入或签出这样的事情。您可以做的是以编程方式为您的插件创建一个工作区，进行检查，然后决定是保留它以供重复使用，还是删除它。

如果通过“没有本地工作区”，您的意思是工作区应该实际存在（即使是暂时的）在 asp 服务器上，那很好。这就是 TFS 在获取需要构建的源时对工作区所做的事情。

# web-services - SoapUI 中的相互证书身份验证

> ID：11824944
> 
> 赞同：3
> 
> 时间：2012-08-06T08:38:17.617
> 
> 标签：web-services, soap, soapui, ws-security, x509

我有一个 Jax-ws 网络服务。我已经用soap ui成功地测试了它。但现在我添加了相互身份验证安全性。客户端和服务器只交换 x.509 证书。如何配置soap ui 以获得其证书和经过验证的服务器的证书。无需任何密码、签名和加密。只是证书。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:59:20.633

查看这些链接：

*   [Tryst with Technology 2（二）方式 SSL 使用soapUI作为客户端和服务器](http://ejvyas.blogspot.de/2010/12/2-two-way-ssl-using-soapui-as-client.html)
*   [soapUI SSL 设置](http://www.soapui.org/Working-with-soapUI/preferences.html#SSL%20Settings%20Tab)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-19T18:28:53.413

自 4.6.4 版以来，SoapUI 中的客户端证书身份验证似乎已被破坏。您可以像这样修改源代码：

*com.eviware.soapui.impl.wsdl.support.http.SoapUISSLSocketFactory 类的第 273 行需要从*

```
SSLSocket sslSocket = ( SSLSocket )getSocketFactory().createSocket( socket, host, port, autoClose ); 
```

*至*

```
SSLSocket sslSocket = ( SSLSocket )sslContext.getSocketFactory().createSocket( socket, host, port, autoClose ); 
```

发表在[http://forum.soapui.org/viewtopic.php?f=13&t=23441](http://forum.soapui.org/viewtopic.php?f=13&t=23441)

# algorithm - 在 BST 中，两个节点是随机交换的，我们需要找到这两个节点并将它们交换回来

> ID：11824946
> 
> 赞同：6
> 
> 时间：2012-08-06T08:38:21.550
> 
> 标签：algorithm, binary-search-tree

给定一棵二叉搜索树，其中任意两个节点被交换。所以我们需要找到这两个节点并将它们交换回来（我们需要交换节点，而不是数据）

我试图通过制作一个额外的数组来做到这一点，该数组具有树的中序遍历并保存指向每个节点的指针。然后我们只是遍历数组，找到没有排序顺序的两个节点，现在这两个节点在树中搜索然后交换

所以我的问题是如何在 O(1) 空间中解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T08:40:44.193

[在 BST 上的顺序遍历](http://en.wikipedia.org/wiki/Tree_traversal#Inorder_Traversal)为您提供了对元素的遍历，有序。
您可以使用中序遍历，找到两个不合适的元素（将它们存储在两个指针中）并将它们交换回来。

此方法实际上是在动态创建您描述的数组，而不是实际创建它。

但是请注意，由于堆栈跟踪，空间消耗不是`O(1)`，而是树`O(h)`的高度。`h`如果树是平衡的，它将是`O(logn)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T01:13:06.463

根据 BST，这可以在 O(1) 中完成。

例如，如果树的节点有一个指向其父节点的指针，您可以使用 Wikipedia 页面的 nonRecrusiveInOrderTraversal 部分中描述的实现[Tree_traversal](http://en.wikipedia.org/wiki/Tree_traversal#Implementations)。

作为另一种可能性，如果 BST 存储为一维数组，而不是节点之间的指针，您可以简单地遍历数组（并进行数学运算以确定每个节点的父节点和子节点）。

在进行遍历/行走时，检查当前元素是否在正确的位置。

如果不是，那么您只需查看它应该在树中的哪个位置，并与该位置的元素进行交换。（如果根在错误的位置，请注意）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-02T21:22:31.923

我们可以修改下面的 isBST() 方法来交换这两个随机交换的节点并纠正它。

```
/* Returns true if the given tree is a binary search tree
 (efficient version). */
int isBST(struct node* node)
{
  struct node *x = NULL;
  return(isBSTUtil(node, INT_MIN, INT_MAX,&x));
}

/* Returns true if the given tree is a BST and its
   values are >= min and <= max. */
int isBSTUtil(struct node* node, int min, int max, struct node **x)
{

  /* an empty tree is BST */
  if (node==NULL)
     return 1;

  /* false if this node violates the min/max constraint */
  if (node->data < min || node->data > max) {
     if (*x == NULL) {
        *x = node;//same the first incident where BST property is not followed.
     }
     else {
        //here we second node, so swap it with *x.
        int tmp = node->data;
        node->data = (*x)->data;
        (*x)->data = tmp;

     }
     //return 0;
     return 1;//have to return 1; as we are not checking here if tree is BST, as we know it is not BST, and we are correcting it.
  }
  /* otherwise check the subtrees recursively,
   tightening the min or max constraint */
  return
    isBSTUtil(node->left, min, node->data-1, x) &&  // Allow only distinct values
    isBSTUtil(node->right, node->data+1, max, x);  // Allow only distinct values
} 
```

# python - 动态包含查询

> ID：11824950
> 
> 赞同：0
> 
> 时间：2012-08-06T08:38:44.250
> 
> 标签：python, django, django-templates

我的基本模板中包含一个页脚，其中包含：

```
{% include "footer.html %} 
```

我需要在每个页面中显示它。但是页脚有几个静态值，每次页面加载时都需要用几个查询来计算。据我所知，这包括不能运行查询，因为调用了任何视图。而且我不想在我的所有观点中复制该查询，我认为这是一个肮脏的解决方案。在这种情况下，最佳做法是什么？我认为这是一个相当普遍的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:52:14.167

尽管上下文处理器非常适合在每个模板中包含标准内容，但我怀疑出于您的目的，呈现整个页脚的[自定义模板标签](https://docs.djangoproject.com/en/1.4/howto/custom-template-tags/)会是一个更好的选择 - 可能包含标签可以完成这项工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:46:20.813

如果统计信息是全局的（与特定页面/请求无关），您可以实现自定义上下文处理器，它可以计算统计信息并在上下文中添加相应的变量。可以使用该上下文变量/字典`footer.html`来放置统计信息。

请参阅[编写自定义上下文处理器](https://docs.djangoproject.com/en/dev/ref/templates/api/#writing-your-own-context-processors)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:52:04.133

到目前为止这里没有提到的另一个选项是[自定义模板标签](https://docs.djangoproject.com/en/1.4/howto/custom-template-tags/)。取决于您到底想要做什么，上下文处理器可能是矫枉过正。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T08:46:22.437

您可以使用[上下文处理器](http://www.djangobook.com/en/2.0/chapter09/#cn21)在所有视图中运行您的查询，并使用必要的数据更新您的上下文。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T08:46:30.987

如何创建一个上下文处理器，并从那里返回查询？结果将在每个视图中可用，如果这是您想要的？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-06T08:48:56.913

您应该编写上下文处理器来解决这个问题：

[编写上下文处理器](https://docs.djangoproject.com/en/dev/ref/templates/api/#writing-your-own-context-processors)

# php - 寻找规格。PHP 内部会话格式，以便在 PHP 和另一个框架之间共享会话信息

> ID：11824951
> 
> 赞同：0
> 
> 时间：2012-08-06T08:38:46.683
> 
> 标签：php, session, web-frameworks

我正在寻找一种解码和编码内部 PHP 会话格式的能力。

有办法在 PHP 中创建自定义会话处理程序

[http://www.php.net/manual/en/class.sessionhandlerinterface.php](http://www.php.net/manual/en/class.sessionhandlerinterface.php)

但是我正在寻找一种方法来理解其内容。例如，我希望在 PHP`$_SESSION("user_id")`和其他一些框架`session().get("user_id")`中返回相同的字符串。

我发现的唯一东西是：[http](http://www.php.net/manual/en/function.session-encode.php) ://www.php.net/manual/en/function.session-encode.php ，它只说它是内部格式。

是否有任何参考文档？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T08:43:32.677

[您可以在Serialized PHP Library](https://github.com/ktomk/Serialized)中找到很多文档（参见[`README`文件](https://github.com/ktomk/Serialized)和[`docs`文件夹](https://github.com/ktomk/Serialized/tree/master/docs)），它还允许您将格式更改为 XML 和其他格式。

> 序列化类型标识字符
> 
> 在序列化字符串中，每个数据块都以单个字符（区分大小写）为前缀，表示类型（按 az 排序）：
> 
> *   一个 - 数组
> *   b - 布尔值
> *   C - 实现可序列化接口的对象
> *   d - 浮点数
> *   i - 整数
> *   N - 空
> *   O - 对象
> *   r - 递归
> *   R - 引用递归
> *   s - 字符串
> *   S - 编码字符串（PHP 6 向上兼容）

该库还支持会话序列化，它非常接近标准值序列化并在文档中进行了概述。

# python - 协程的奇怪行为

> ID：11824954
> 
> 赞同：4
> 
> 时间：2012-08-06T08:38:51.007
> 
> 标签：python, coroutine

我正在学习协程，但它的工作方式很奇怪，我无法理解......这是源代码

```
@coroutine
def printer():
    tmp=(yield)
    print tmp

def sender(coru):
    coru.send("hello")
    print "I'm sender"

if __name__=="__main__":
    coru=printer()
    sender(coru)
    print "I'm master" 
```

节目

> 你好
> 
> StopItertationError @ coru.send("你好")

尽管，

```
@coroutine
def printer():
          while 1:
               tmp=(yield)
               print tmp

def sender(coru):
    coru.send("hello")
    print "I'm sender"

if __name__=="__main__":
    coru=printer()
    sender(coru)
    print "I'm master" 
```

节目

> 你好
> 
> 我是发件人
> 
> 我是大师

正确。

所以我想知道

1.  为什么协程总是使用循环以及为什么第一个示例会出现错误

2.  我在 3.3 版中听说过“yield from”语法。这有助于使第一个工作正常吗？

3.  我知道每个协程函数的工作方式与子程序不同。

    但是，我认为，在Printer函数结束后，程序应该终止而不返回Sender。

    但确实如此。不是说发件人优于打印机吗？那么子程序和协程有什么区别。

感谢您的阅读，如果您能启发我，我真的很感激:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T08:57:37.703

当生成器（如`printer`）结束时，它会引发 StopIteration 异常。

当 Python 执行时

```
coru.send("hello") 
```

它跳到

```
tmp = (yield) 
```

并将“你好”分配给`tmp`. 然后它执行下一行：

```
print tmp 
```

然后生成器结束，从而引发`StopIteration`异常。

另一方面，如果您不允许`printer`结束（通过使用`while 1`循环），`StopIteration`则永远不会引发异常。相反，执行 (in `printer`) 一直持续到到达下一个`yield`表达式：

```
tmp = (yield) 
```

该`send`方法返回该`yield`表达式的值（在本例中为`None`）。至此，Python再次返回`sender`函数并next执行

```
print "I'm sender" 
```

* * *

该`yield from`语法的目的是更容易将生成器（旨在与`send`and一起使用`throw`）重构为子生成器。[请参阅 PEP380](http://www.python.org/dev/peps/pep-0380/)和Python3[中的新增功能](http://docs.python.org/dev/whatsnew/3.3.html#pep-380-syntax-for-delegating-to-a-subgenerator)。

它不会改变 StopIteration 行为。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T09:00:25.813

这是对协程的一个很好的介绍：

[http://www.dabeaz.com/coroutines/](http://www.dabeaz.com/coroutines/)

特别是，您可以查看：

[http://www.dabeaz.com/coroutines/grep.py](http://www.dabeaz.com/coroutines/grep.py)

和（示例@coroutine 实现）：

[http://www.dabeaz.com/coroutines/coroutine.py](http://www.dabeaz.com/coroutines/coroutine.py)

# codeigniter - 在我的 codeIgniter 项目中集成 LATEX

> ID：11824958
> 
> 赞同：0
> 
> 时间：2012-08-06T08:39:15.497
> 
> 标签：codeigniter, latex

我已经筋疲力尽地寻找将 LATEX 集成到我的 codeigniter 项目中的方法。但我找不到任何方法。在我的网站中，我需要在 HTML 中插入和显示数学术语和数字。我怎么能轻松做到我不知道。如果 LATEX 是唯一的方法，那么简单的方法是什么。

你能建议我一个方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-09T12:22:15.830

我建议您将乳胶代码保存在服务器端，当您在网站上以 HTML 显示时，您可以使用[Pandoc](http://pandoc.org/)（通用标记语言转换器）执行转换。

但我不确定这是否适用于数学符号。也许您需要使用另一个程序（例如[ImageMagick](http://www.imagemagick.org/script/index.php)）。

# c# - 我在数据库中有不同的表 - 我想通过用户点击动态选择表

> ID：11824959
> 
> 赞同：-1
> 
> 时间：2012-08-06T08:39:16.510
> 
> 标签：c#, asp.net

我的数据库中有不同的表。我想编写一个查询来处理所有表，例如：

```
comm.CommandText = "Select * from table1 where UserId='" + 1 + "'";
comm.CommandText = "Select * from table2 where UserId='" + 1 + "'"; 
```

这是相同的查询，但表名不同。

有没有可能用一个查询编写两个查询的方法？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:45:36.873

尝试使用这个：

```
string query = string.Format("Select * from {0} where UserId={1}", tableName, userID); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:43:07.463

您可以尝试使用此代码 - string.Format

```
var input = "table 1";
var query = string.Format("Select * from {0} where UserId= 1 ",input);
comm.CommandText = query; 
```

# python - 如何应用折线边缘分级

> ID：11824960
> 
> 赞同：0
> 
> 时间：2012-08-06T08:39:19.367
> 
> 标签：python, cgns

我有一条带有坐标的折线和每条折线
的边缘分级。如何在曲线上应用边缘分级。假设在点 9 和 13 之间有 12 个坐标点
使折线的边缘分级为 10。我如何合并边缘分级并
制作一条新的折线。

# php - 向数据库中插入内容时出现 odbc_exec() 错误

> ID：11824961
> 
> 赞同：1
> 
> 时间：2012-08-06T08:39:24.467
> 
> 标签：php, sql-server, odbc

我有一个通常必须将条目插入数据库的函数的问题。我正在使用带有 odbc 的 SQL Server 2000（我的企业环境）。我的脚本语言是 PHP。顺便说一句，我已经完成了一个`echo $insertQuery`在执行时打印查询内容并且未显示登录名的操作。

**警告：odbc_execute() [function.odbc-execute]：SQL 错误：[Microsoft][ODBC SQL Server Driver][SQL Server]'Users'：nom d'objet 不正确。，SQL 状态 S0002 在 C:\Program 中的 SQLExecute Files\EasyPHP-5.3.8.1\www\SMGAB\includes\fonctions.php 在第 97 行**

和功能：

```
function addUser() {
   $bdd = connexionBD() ;

   // Variables declaration 
   $userLoginToAdd  = $_POST['userLoginAdd']; 
   $userNameToAdd   = $_POST['userNameAdd'];
   $userEmailToAdd  = $_POST['userEmailAdd'];
   $userProfilType  = $_POST['userProfileType'];

   // Replace the "Administrator" and "User" by 1 and 2\. 
   if ( $userProfilType == "Administrateur" ) {
    $profilByID = 1;
   }
   else if ( $userProfilType == "Utilisateur" ) {
       $profilByID = 2;
   }

   // Insère dans la base de donnée 

   $addUser = "INSERT INTO
                  Users('login','email','identity','type_profil')
               VALUES (                          
                    '".$userLoginToAdd."',
                    '".$userEmailToAdd."',
                    '".$userNameToAdd."',
                    ".$profilByID."
               )" ; 

   $query = odbc_exec( $bdd, $addUser ) ;
} 
```

# c++ - Visual Studio 正则表达式替换

> ID：11824964
> 
> 赞同：0
> 
> 时间：2012-08-06T08:39:37.363
> 
> 标签：c++

很抱歉，如果以前有人问过这个问题，但在这里找不到合适的答案。我需要一些关于 Visual Studio 正则表达式的帮助来修改源代码。我有从文件加载纹理的源代码。我有很多这样的线。

```
D3DXCreateTextureFromFileA(pDevice , chFileName , &pTexture) ;
D3DXCreateTextureFromFileA(pDevice , pAttrib->Value() , &pd3dTexture) ; 
```

我需要定义一个常量并基于它从自定义格式加载纹理。我要这个

```
 D3DXCreateTextureFromFileA(pDevice , chFileName , &pTexture) ; 
```

成为这个

```
 #ifdef LOAD_TEXTURES_FROM_CF

    CreateTextureFromResourceFile((pDevice , chFileName , &pTexture) ;

 #else

    D3DXCreateTextureFromFileA(pDevice , chFileName , &pTexture) ;

 #endif 
```

如何使用 Visual Studio 正则表达式实现这一点？先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:44:05.527

不需要正则表达式替换（我什至建议不要这样做）。无需复制新代码，只需创建另一个宏：

```
#ifdef LOAD_TEXTURES_FROM_CF
#define CreateTextureFromFile(a, b, c) CreateTextureFromResourceFile((a), (b), (c))
#else
#define CreateTextureFromFile(a, b, c) D3DXCreateTextureFromFileA((a), (b), (c))
#endif 
```

然后只需替换所有以前出现的`D3DXCreateTextureFromFileA`with`CreateTextureFromFile`就可以了。

# eclipse - 你应该如何在 Eclipse 中加载 Spring 相关的 jar？

> ID：11824965
> 
> 赞同：0
> 
> 时间：2012-08-06T08:39:38.017
> 
> 标签：eclipse, spring, spring-tool-suite

我是 spring 的新手，并且正在遵循“Spring in Action 3rd Edition”中的示例。

我想运行示例中的代码，所以我复制了代码。

我安装了 Spring STS 套件并有一个测试 spring 项目。它似乎没有隐式包含spring的jar，所以我需要配置构建路径并一一包含和jar。jar 也位于某个奇怪的位置（我认为它们是由 Spring STS 安装的，尽管我不知道它是否包含 Spring 本身）。 ![在此处输入图像描述](../Images/3fe01f34e4584911d5424ac056c83bb3.png)

spring 核心依赖于来自 apache 的常见日志记录： ![在此处输入图像描述](../Images/bd0f53916ab51d0631bebdd16c6b11c2.png)

而且我需要去apache common logging站点下载jar并放到项目的lib文件夹中，然后设置在构建路径中。

整个过程让人难以忍受。如果春天有20个罐子怎么办？还有其他方法可以做到这一点吗？

谢谢大家。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T10:16:19.737

为了减轻获取依赖项的痛苦，强烈建议您使用 Maven。

您需要开始的只是以下内容：

1.  查看 Apache Maven**[的](http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html)**5 分钟开始。

2.  我在 Git Hub 上设置了一个“Helloworld”Spring + Maven 项目（特别是与*Spring In Action*一起使用，我可能会添加），它应该让您轻松入门。

    *   如果你熟悉 GIT，那么 fork**[这个](https://github.com/ajorpheus/spring-cert)**存储库，否则，

    *   **[从这里](http://bit.ly/RMymzB)**下载整个项目作为 zip/tarball 。

        该项目也可以用作 Spring 应用程序的起点。**[在此处](http://blog.springsource.org/2009/12/02/obtaining-spring-3-artifacts-with-maven/)**阅读有关如何使用 Maven 获取 Spring 依赖项的更多信息。

一旦你这样做了，`mvn clean install`你只需要在项目目录中获取所有必需的依赖项，并且不需要手动获取 jars，将它们放在类路径中等等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T10:15:58.183

`pom.xml`项目的根文件夹中应该有一个文件。它包含所有依赖项。

`<dependencies>`在元素内添加此代码块：

```
<dependency>
    <groupId>commons-logging</groupId>
    <artifactId>commons-logging</artifactId>
    <version>1.1.1</version>
</dependency> 
```

这会将缺少的依赖项添加到您的项目中。或者，右键单击`pom.xml`并选择 Maven -> Add Dependency ...，然后`commons-logging`在搜索字段中输入。单击确定时，编辑器将在正确的位置添加依赖项。

# jquery - 显示隐藏元素（可见）在 IE9 中不起作用

> ID：11824966
> 
> 赞同：0
> 
> 时间：2012-08-06T08:39:40.327
> 
> 标签：jquery, internet-explorer-9, jquery-animate

我创建了一个旋转 iPhone 的动画，我只有在 IE9 中才有问题，当我点击视频时，iPhone 水平旋转，当我点击 iPhone 按钮时，它返回到垂直位置。然后当 iPhone 在垂直位置返回时，iPhone 中的元素会消失，而元素应该重新出现。

该字符串负责隐藏元素：

```
$([before.get(0),next.get(0),reflection.get(0),screen.get(0)]).fadeTo(100,0,function(){$([before.get(0),next.get(0),reflection.get(0),screen.get(0)]).hide(100)}); 
```

[http://matteowebdesigner.com/test/yesimove/](http://matteowebdesigner.com/test/yesimove/)

请问谁能给我一些建议？

```
function iphoneAction(){
    $('<div class="mask"></div>').prependTo(Iphone.iphone);
    var
        mask = Iphone.iphone.find('.mask'),
        screen = Iphone.iphone.find('.screen'),
        next = Iphone.iphone.find('.next'),
        before = Iphone.iphone.find('.before'),
        reflection = Iphone.iphone.find('.reflection');

    mask.on('click', iPhoneHorizontal);

    /*horizontal*/
    function iPhoneHorizontal(){
        if(Iphone.iphone.find('.videoActive').hasClass('video')){ /*control the class video*/
            mask.off('click', iPhoneHorizontal);
            $([before.get(0),next.get(0),reflection.get(0),screen.get(0)]).fadeTo(100,0,function(){$([before.get(0),next.get(0),reflection.get(0),screen.get(0)]).hide(100)});
            Iphone.iphone.find('.ice').remove();
            Iphone.iphone.css('zIndex','1');

            //animate
            if($.browser.msie){
                Iphone.iphone.stop(true,true).animate({
                    backgroundPositionY:'-5500',
                    backgroundPositionX:'0'
                },330,'movie',function(){
                    mask.addClass('maskVideo');
                    $('<div class="backTurn"></div>').prependTo(Iphone.iphone);
                    Iphone.iphone.find('.videoActive').children().clone().prependTo(mask);
                    Iphone.iphone.find('.backTurn').on('click',iPhoneVertical);
                });
            }
            else {
                Iphone.iphone.stop(true,true).animate({
                    backgroundPosition:'(0 -5500)'
                },330,'movie',function(){
                    mask.addClass('maskVideo');
                    $('<div class="backTurn"></div>').prependTo(Iphone.iphone);
                    Iphone.iphone.find('.videoActive').children('video').clone().prependTo(mask);
                    Iphone.iphone.find('.backTurn').on('click',iPhoneVertical);
                });
            }
        }
    }

    /*vertical*/
    function iPhoneVertical(){  
        Iphone.iphone.find('.backTurn').remove();
        Iphone.iphone.find('.maskVideo').children().remove();
        mask.removeClass('maskVideo');

        function iPhoneCreateElement(){
            //ice
            $('<div class="ice"></div><div class="ice"></div><div class="ice"></div>').insertAfter(Iphone.iphone.find('.next'));
            var
                ice = Iphone.iphone.find('.ice'),
                ice01 = ice.eq(0),
                ice02 = ice.eq(1),
                ice03 = ice.eq(2);

            ice02.css('background-position', '0 -486px');
            ice03.css('background-position', '0 -972px');
            ice.css('opacity','0');

            Iphone.iceEffect();

            $([before.get(0),next.get(0),reflection.get(0),screen.get(0)]).show(100,function(){$([before.get(0),next.get(0),reflection.get(0),screen.get(0)]).fadeTo(100,1)});
            Iphone.iphone.css('zIndex','');
            mask.on('click', iPhoneHorizontal);
        }

        //animate
        if($.browser.msie){
            Iphone.iphone.stop(true,true).animate({
                backgroundPositionY:'0',
                backgroundPositionX:'0'
            },330,'movie',iPhoneCreateElement);
        }
        else {
            Iphone.iphone.stop(true,true).animate({
                backgroundPosition:'(0 0)'
            },330,'movie',iPhoneCreateElement);
        }
    };
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T12:04:11.620

我用这个解决了重写代码的问题：

```
 //hide
        $(before).fadeTo(100,0,function(){$(this).hide(100);});
        $(next).fadeTo(100,0,function(){$(this).hide(100);});
        $(reflection).fadeTo(100,0,function(){$(this).hide(100);});
        $(screen).hide(100);

        //show
        $(before).fadeTo(100,1,function(){$(this).show(100);});
        $(next).fadeTo(100,1,function(){$(this).show(100);});
        $(reflection).fadeTo(100,1,function(){$(this).show(100);});
        $(screen).show(); 
```

# c# - 如何将 NpgsqlCopyIn 与 NpgsqlCopySerializer 一起使用？

> ID：11824967
> 
> 赞同：0
> 
> 时间：2012-08-06T08:39:39.617
> 
> 标签：c#, postgresql, npgsql

如果我正确理解 NpgsqlCopyIn 和 NpgsqlCopySerializer 应该像这样工作：

```
var conn = new NpgsqlConnection(ConfigurationManager.ConnectionStrings["PostgreSqlDb"].ConnectionString);
conn.Open();
var tran = conn.BeginTransaction();
var cmd = new NpgsqlCommand("COPY address (id, employee, value) FROM STDIN", conn);
var npgsqlCopySerializer = new NpgsqlCopySerializer(conn);
var npgsqlCopyIn = new NpgsqlCopyIn(cmd, conn, npgsqlCopySerializer.ToStream);

try
{
    npgsqlCopyIn.Start();
    npgsqlCopySerializer.AddInt32(300);
    npgsqlCopySerializer.AddInt32(1);
    npgsqlCopySerializer.AddString("address");
    npgsqlCopySerializer.EndRow();
    npgsqlCopySerializer.Flush();
    npgsqlCopySerializer.AddInt32(301);
    npgsqlCopySerializer.AddInt32(1);
    npgsqlCopySerializer.AddString("another\r\naddress");
    npgsqlCopySerializer.EndRow();
    npgsqlCopySerializer.Flush();
    npgsqlCopyIn.End();

    tran.Commit();
}
//catch (Exception e)
//{
//    tran.Rollback();
//    throw;
//}
finally
{
    conn.Close();
} 
```

问题是每次没有允许的字符时，`AddString()`它都会在该方法内部抛出一个`ArgumentOutOfRangeException`，否则它会起作用。

例如：

```
npgsqlCopySerializer.AddString("another\r\naddress"); 
```

[将抛出异常，因为它包含一个换行符，该换行符在文本格式](http://www.postgresql.org/docs/8.3/interactive/sql-copy.html)（行分隔符）的副本中具有特殊含义，应该被转义。

任何人都知道我可以做些什么来使它工作？我在互联网上搜索示例，但找不到任何东西。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T09:15:18.290

从[文档](http://www.postgresql.org/docs/8.3/interactive/sql-copy.html)中引用：

> 强烈建议生成 COPY 数据的应用程序将数据换行符和回车分别转换为 \n 和 \r 序列。目前可以用反斜杠和回车来表示数据回车，用反斜杠和换行来表示数据换行。

所以我想说以下将起作用：

```
npgsqlCopySerializer.AddString("another\\\r\\\naddress"); 
```

**编辑**：我为自己尝试过，似乎有一个错误`NpgsqlCopySerializer.AddString()`：

```
if (escapeAt > bufferedUpto)
{
    int encodedLength = ENCODING_UTF8.GetByteCount(fieldValue.ToCharArray(bufferedUpto, escapeAt));
    MakeRoomForBytes(encodedLength);
    _sendBufferAt += ENCODING_UTF8.GetBytes(fieldValue, bufferedUpto, escapeAt, _sendBuffer, _sendBufferAt);
    bufferedUpto = escapeAt;
} 
```

`ArgumentOutOfRangeException`在处理两个转义序列 ( `\r`and `\n`) 并将其添加到输出缓冲区之后`bufferedUpto == 9`，第二行抛出`escapeAt == "another\r\naddress".Length == 16`

现在我什至在 Npgsql 跟踪器上发现[了这个错误。](http://pgfoundry.org/tracker/index.php?func=detail&aid=1011215&group_id=1000140&atid=590)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T07:20:35.843

我是报告这个错误的人，巧合的是几天前。

您介意发布您尝试插入的 XML 吗？我已经用 OSM 结果进行了尝试： [http://nominatim.openstreetmap.org/search.php ?q=A7&viewbox=3.96%2C52.82%2C7.93%2C51.11&format=xml](http://nominatim.openstreetmap.org/search.php?q=A7&viewbox=3.96%2C52.82%2C7.93%2C51.11&format=xml)

还有一个相当大的 web.config 文件，两者都可以完美运行。因此，要么我在提交修复时出现复制/粘贴错误，要么您尝试插入的 XML 与我尝试的 XML 不同。

另外：您是否得到与以前完全相同的错误（即参数超出范围）？默认缓冲区大小仅为 8k，在我的情况下这还不够。

我不知道它是否有任何区别，但我根本没有使用冲洗：

```
NpgsqlConnection Conn = new NpgsqlConnection(getPostgresConnString());
Conn.Open();
NpgsqlCopyIn copyIn = new NpgsqlCopyIn("COPY table  (col1,col2,col2)   FROM STDIN;", Conn);
copyIn.Start();
NpgsqlCopySerializer cs1 = new NpgsqlCopySerializer(pConn2);
cs1.AddString(System.IO.File.ReadAllText("C:\\test\\Web.config"));
[...]
cs1.EndRow();
cs1.Close();
copyIn.End(); 
```

# in-app-purchase - 我无法访问我的应用内购买，我得到的只是：

> ID：11824968
> 
> 赞同：0
> 
> 时间：2012-08-06T08:39:44.920
> 
> 标签：in-app-purchase

我正在尝试在应用程序购买中学习我已经上传了一个测试应用程序的应用程序，拒绝了二进制文件，因此它的状态被开发人员拒绝。

我创建了一个应用内购买产品，但我在顶部有这个警告：

您的第一个应用内购买必须与新的应用版本一起提交。从版本详细信息页面的应用内购买部分选择它们，然后单击准备上传二进制文件。

我的应用内购买状态始终是：

准备提交。

我试图重新提交我的测试应用程序，这样状态就回到了等待审核，然后我的应用内购买也去了，它仍然在顶部有相同的行，仍然是准备提交的状态。

然后我拒绝了我的主要二进制文件，但我的应用内购买状态仍然相同。

我不明白我怎么能从那里去。

感谢所有的帮助！

哔叽

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T23:37:50.490

我找到了解决方案，但我没有正确阅读说明，但回到我的通用应用程序，在视图详细信息中出现了一个新部分，我可以将我的应用内购买链接到应用程序，但不知何故我错过了。

可能会帮助其他错过它的人！

# regex - 按模式拆分文件

> ID：11824970
> 
> 赞同：1
> 
> 时间：2012-08-06T08:39:53.833
> 
> 标签：regex, split

我在使用模式拆分文件时遇到问题。

我的大文件是一个看起来像这样的文本文件

```
PATTERN
data
data
data PATTERN 
```

当 PATTERN 位于行尾时，问题就开始了， csplit 将整行放入下一个文件中：

```
data_belonging_to_the_above_file PATTERN
data
data 
```

我需要将`data_belonging_to_the_above_file`其放在上一个文件中

这是我现在使用的命令：

```
csplit data.log /PATTERN/ {*} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T09:08:58.563

与之前的评论类似，我的解决方案是使用替换来预处理您的文件。我试过这个：

```
perl -pe 's/(?<!^)(PATTERN)/\n\1/mg;s/(PATTERN)(?!$)/\1\n/mg' 
```

如果它不在行首，则在模式之前添加一个换行符，如果它不在行尾，则在模式之后添加一个换行符。我使用 perl 因为不是每个版本的 sed 都支持这个表达式。

# c++ - 组合框焦点，杀死组合框焦点

> ID：11824974
> 
> 赞同：-1
> 
> 时间：2012-08-06T08:40:33.207
> 
> 标签：c++, visual-c++, mfc, combobox

如何检查组合框是否聚焦？以及如何杀死焦点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:55:57.253

您需要为方法 ON_CBN_SETFOCUS 实现覆盖：

当组合框获得焦点时调用。

杀死焦点我真的不知道一种方法，但您可以将焦点设置到其他控件或“SetFocus”方法中的对话框。

# emacs - 等待 comint-mode 缓冲区

> ID：11824976
> 
> 赞同：3
> 
> 时间：2012-08-06T08:40:55.387
> 
> 标签：emacs, erlang, elisp

我正在尝试使用 comint erlang-shell 打开一个后台缓冲区，一旦启动，在 emacs 中运行一个函数调用（使用 distel 将其二进制文件发送到 erlang 节点）。

IE：

```
...
(let ((args (append (list "-sname" node-name "-pa") path)))
    (get-buffer-create buffer-name)
    (apply #'make-comint-in-buffer node-name buffer-name "erl" nil args)
  (erl-check-backend (make-node-name node-name))
... 
```

问题是当我调用 distel 时，节点还没有启动（epmd 没有注册名称）所以它失败了。我猜这是因为劣质进程还没有机会运行。有没有办法等到 comint-buffer 完成设置？

我在作为参数发送到上述函数的缓冲区的缓冲区进程上尝试了接受进程输出，但这只是挂起。

任何帮助表示赞赏:)

托马斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T11:26:27.920

在 python-mode.el 中，以这种方式检查正在运行的进程

```
(or (get-buffer-process (py-buffer-name-prepare pyshellname))
      (get-buffer-process 
          (py-shell nil dedicated pyshellname 
               switch sepchar py-buffer-name t))))) 
```

即如果一个Python shell 不存在，它的开始将返回进程符号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-20T06:05:17.280

在 Dave Love 编写的 python.el 中，使用了以下内容：

```
(while (progn
     (accept-process-output proc 5)
     (null python-preoutput-result))) 
```

# groovy - Groovy 编写单个方法，每个函数都有两个

> ID：11824977
> 
> 赞同：0
> 
> 时间：2012-08-06T08:41:05.270
> 
> 标签：groovy

我是 Groovy 初学者

这是两个`each`调用，它们都执行类似的任务，但具有不同的属性`s2PublicLifecycleInstance`。

如何编写一个单独的函数来执行以下操作，以便我只能通过方法调用来完成任务？

```
def scheduledStatusArray =[]
def publishedStatusArray =[]

s2PublicLifecycleInstance.each {
  if(it.scheduledInMyLearnStatus == "No"){
    scheduledStatusArray.add(1)
  } else if(it.scheduledInMyLearnStatus == "Yes"){
    scheduledStatusArray.add(2)
  }else{
    scheduledStatusArray.add(3)
  }
}

s2PublicLifecycleInstance.each {
  if(it.publishedOnTrainingClassesStatus == "No"){
    publishedStatusArray.add(1)
  }else if(it.publishedOnTrainingClassesStatus == "Yes"){
    publishedStatusArray.add(2)
  }else{
    publishedStatusArray.add(3)
  }
} 
```

我想要这样的东西：

```
def publishedStatusArray = functionCall(s2PublicLifecycleInstance, propertyName) 
```

在 Groovy 中可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T13:25:02.313

你可以使用闭包和柯里化：

```
def checkStatus = { prop,instances ->
   def statuses = instances.collect {
      switch( it[prop] ) {
      case "Yes": 1
         break
      case "No": 2
         break
      default: 3
      }
   }
   return statuses
}

def checkScheduledStatus = checkStatus.curry("scheduledInMyLearnStatus")
def checkPublishedStatus = checkStatus.curry("publishedOnTrainingClassesStatus")

def scheduledStatusArray = checkScheduledStatus(s2PublicLifecycleInstance)
def publishedStatusArray = checkPublishedStatus(s2PublicLifecycleInstance) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:51:20.890

```
def myMethod(param, arrayToAdd) {
  if(param == "No"){
                arrayToAdd.add(1)
            }else if(param == "Yes"){
                arrayToAdd.add(2)
            }else{
                arrayToAdd.add(3)
            }
}

s2PublicLifecycleInstance.each {myMethod(it.scheduledInMyLearnStatus, scheduledStatusArray)}

s2PublicLifecycleInstance.each {myMethod(it.publishedOnTrainingClassesStatus, publishedStatusArray)} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T09:02:16.393

您可以使用以下方法执行此操作：

```
List check( List lifecycle, String param ) {
  lifecycle.collect { it ->
    switch( it."$param" ) {
      case "No":
        return 1
      case "Yes":
        return 2
      default:
        return 3
    }
  }
}

def scheduledStatusArray = check( s2PublicLifecycleInstance, 'scheduledInMyLearnStatus' )
def publishedStatusArray = check( s2PublicLifecycleInstance, 'publishedOnTrainingClassesStatus' ) 
```

或者，您可以这样做（代码更少）：

```
List check( List lifecycle, String param ) {
  def retvals = [ 'No':1, 'Yes':2 ].withDefault { 3 }
  lifecycle.collect { it ->
    retvals[ it."$param" ]
  }
} 
```

另一种选择是将注入与多个分配一起使用：

```
def (scheduledStatusArray, publishedStatusArray) = s2PublicLifecycleInstance.inject( [[],[]] ) { lists, it ->
  lists[ 0 ] << ( it.scheduledInMyLearnStatus == 'No' ? 1 :
                  it.scheduledInMyLearnStatus == 'Yes' ? 2 : 3 )
  lists[ 1 ] << ( it.publishedOnTrainingClassesStatus == 'No' ? 1 :
                  it.publishedOnTrainingClassesStatus == 'Yes' ? 2 : 3 )
  lists
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T09:06:43.063

我同意加山。我可以补充一下，这
`def publishedStatusArray = functionCall(s2PublicLifecycleInstance, propertyName)` 在 groovy 中是可能的。功能：

> `functionCall(def s2PublicLifecycleInstance, String propertyName){ s2PublicLifecycleInstance."$propertyName" }`

将返回您想要的属性。

# mysql - 查询缓存与 MEMORY 存储表

> ID：11824979
> 
> 赞同：0
> 
> 时间：2012-08-06T08:41:19.560
> 
> 标签：mysql, caching, query-cache

我计划通过数据缓存优化我的 Web 应用程序的性能。它使用 MySQL，所以到目前为止我发现的选项是这些 2：

*   使用 MySQL 查询缓存功能
*   使用内存存储引擎创建一个表，并将查询的完整结果作为序列化数组保存在其中；

我更喜欢第二个，因为我只需要缓存一个表，并且表修改的查询缓存会立即使从该表派生的所有查询无效。在我的内存表中，我只能删除已修改（更新）的行。当然这将需要更多的代码，但我想整体性能会更好。

你推荐什么，为什么？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2017-04-21T13:02:35.117

使用内存存储引擎创建一个表，并将查询的完整结果作为序列化数组保存在其中；

*   1）你的意思是会话＃使用Redis是一个开源（BSD许可），内存数据结构存储，用作数据库，缓存和消息代理
*   2）你的意思是查询缓存#

[看到这个](https://en.wikipedia.org/wiki/Database_caching)

希望它可以帮助您制作快速的 Web 应用程序

# objective-c - 如何找到用户点击了 NSBrowser 中的任何行？

> ID：11824980
> 
> 赞同：2
> 
> 时间：2012-08-06T08:41:23.727
> 
> 标签：objective-c, macos, cocoa, nsbrowser

在我`Browser`选择默认行的实现中，我使用了以下代码。

```
[browser setTarget:self];
[browser setAction:@selector(singleClickOnBrowser:)];
[browser sendActionOn:NSLeftMouseDown];
[browser selectRow:0 inColumn:0];
[browser sendAction]; 
```

有没有办法区分用户点击和第一次选择的行来选择默认行？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T02:13:22.777

在我的应用程序中，我需要跟踪在 NSBrowser 中选择的最后一项。以下设置 NSBrowser：

```
- (void)awakeFromNib
{
    [browser setDelegate:self];
    [browser setTarget:self];
    [browser setAction:@selector(browserCellSelected:)];
    [browser setSendsActionOnArrowKeys:YES];
} 
```

以下处理单元格，因为它们被选中。这适用于通过鼠标或键盘进行的选择。如果您的应用程序允许多项选择，则您的操作方法将需要处理它。

```
- (void)browserCellSelected:(id)sender
{
    NSIndexPath *indexPath = [browser selectionIndexPath];
    MyItem *myItem = [browser itemAtIndexPath:indexPath];
    if (myItem)
    {
        NSLog(@"Selected Item: %@", myItem.name);
    }
} 
```

顺便说一句，编程选择不会触发 browserCellSelected: 方法，并且用户单击不会调用委托的 browser:selectRow:inColumn: 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-17T12:02:37.293

我没有找到任何 API 来区分用户单击并从代码中选择行和列。为了实现这一点，我声明了一个 BOOL 变量来跟踪用户点击。

在代码之后，我更改了代码中的 BOOL 变量。

```
self.userClickedOnRow = NO;
        [self.browser selectRow:0 inColumn:0];
    [self.browser sendAction];
        self.userClickedOnRow = YES; 
```

实现了以下委托

```
 - (void)browser:(NSBrowser *)browser didChangeLastColumn:(NSInteger)oldLastColumn toColumn:(NSInteger)column
    {

        if(!self.userClickedOnRow)
        {
            NSLog(@"Programatic selection");
        }
        if (self.userClickedOnRow)  
        {
            self.userClickedOnRow = NO;
            // User Clicked on the browser,Do the required actions and set the variable again.
            self.userClickedOnRow = YES;

}
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-20T12:43:37.273

您可以继承 NSBrowser 并覆盖 doClick。文档说 doClick 是鼠标单击事件的处理程序，但目前当使用键盘箭头更改行时也会调用它。以下对我有用：

```
@implementation MyBrowser

...

- (void)doClick:(id)sender {
    [super doClick:sender];

    //
    // Here you can add any handler AFTER the selection has changed
    //
}

...

@end 
```

# c - 使用数组作为函数参数

> ID：11824983
> 
> 赞同：1
> 
> 时间：2012-08-06T08:41:48.757
> 
> 标签：c, arrays, function, parameters

我是c的初学者。我不太了解如何将数组用作函数参数、参数或如何从函数返回数组。据我所知，下面的代码应该可以正常工作。但我不知道问题出在哪里。该功能无法正常工作。

```
//reversing an array using function
#include<stdio.h>
void rev(int array[],int length)
{
    int k,j,temp;
    for(k=length-1,j=0;k>=0&&j<length;k--,j++){
        temp=array[k];
        array[k]=array[j];
        array[j]=temp;
    }
}
int main()
{
    int c,arr[]={1,2,3,4,5,6,7,8,9};
    rev(arr,9);
    for(c=0;c<9;c++){
        printf("%d ",arr[c]);
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:45:00.863

你只需要走到数组的中间，如果你走得更多，你重新反转数组：

所以这：

```
for(k=length-1,j=0;k>=0&&j<length;k--,j++){ 
```

应该：

```
for(k=length-1,j=0;k > j;k--,j++){ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T08:47:50.647

在我看来，您正在执行相反的操作*两次*。

也就是说，您立即交换开始和结束元素，并在迭代结束时再次交换它们。即你最终得到相同的数组。

您可以：

1.  仅在阵列中途执行交换，或
2.  populate a second array in reverse from the first (I don't know if you want to repopulate the original array, however - you may need to copy it back in)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T08:55:03.307

There no problem with array. Problem with your algo. //reversing an array using function

```
#include<stdio.h>
void rev(int array[],int length)
{
    int k,j,temp;
    for(k=length-1,j=0;k>=0 && j<length / 2; k--,j++){
        temp=array[k];
        array[k]=array[j];
        array[j]=temp;
    }
} 
```

This reverse array. Your algo reverse it twice. So just add /2 in for conditions.

# c# - “/”应用程序中的服务器错误

> ID：11824987
> 
> 赞同：0
> 
> 时间：2012-08-06T08:42:14.693
> 
> 标签：c#, asp.net, excel-interop, comexception, server-error

当我在本地运行我的代码时，没问题..但是当我在服务器上运行我的代码时，我遇到了这个错误：

```
Retrieving the COM class factory for component with CLSID {00024500-0000-0000-C000-000000000046} failed due to the following error: 80040154 Class not registered (Exception from HRESULT: 0x80040154 (REGDB_E_CLASSNOTREG)). 
```

它给出了这一行的错误：

> excelObj = new Microsoft.Office.Interop.Excel.Application();

这是描述：

```
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: System.Runtime.InteropServices.COMException: Retrieving the COM class factory for component with CLSID {00024500-0000-0000-C000-000000000046} failed due to the following error: 80040154 Class not registered (Exception from HRESULT: 0x80040154 (REGDB_E_CLASSNOTREG)).

Source Error: 

Line 169:            Microsoft.Office.Interop.Excel.Workbook workbook = null;
Line 170:
Line 171:            excelObj = new Microsoft.Office.Interop.Excel.Application();
Line 172:
Line 173:            System.Threading.Thread.CurrentThread.CurrentCulture = new System.Globalization.CultureInfo("en-US"); 
```

此错误与我的代码或我的服务器有关吗？

提前致谢..![在此处输入图像描述](../Images/9f3e9c7b80b21d40f691199739011652.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:47:17.957

这意味着 Excel 互操作程序集未在生产服务器上注册。这很好，因为您[真的不想](http://support.microsoft.com/default.aspx?scid=kb;EN-US;q257757#kb2)在自动化环境（如 ASP.NET）中使用 Office 互操作。检查文章的替代品。

# sitecore - 指向媒体文件的 Sitecore 内部链接？

> ID：11824993
> 
> 赞同：0
> 
> 时间：2012-08-06T08:43:03.373
> 
> 标签：sitecore, sitecore6

在 Sitecore 6.5 解决方案中，我有以下内容；

```
<sc:Text runat="server" Field="bodyText"/> 
```

和

```
Sitecore.Context.Item["bodyText"] 
```

我在解决方案中的很多地方都使用了后者——第一个没有那么多。我现在发现，当使用后者时，所有指向媒体库的链接都采用格式`~/media/31F0E8084F9443789F25836A2B285D3E.ashx`，即使在 web.config`Media.UseItemPaths`中设置为。`true`

但是，当我使用第一个提到的方法时`<sc:Text />`，媒体库项目的链接格式正确（没有 guid，但媒体库的文件夹结构）。

这是怎么回事？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T10:21:41.003

正如 halbherz 提到的后者

```
Sitecore.Context.Item["bodyText"] 
```

是字段的文字值。它不通过 sitecore`RenderField`管道，因此没有任何链接被扩展。

如果要从后面的代码中呈现字段，可以使用如下`FieldRenderer`类：

```
Sitecore.Web.UI.WebContols.FieldRenderer.Render("bodyText", Sitecore.Context.Item) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T11:31:09.053

只是为了进一步澄清（@halbherz 和@marto 说的是完全正确的），以便您可以更好地理解〜为什么〜他们是这样的。

在 RichText 字段中，媒体和其他站点核心项目的链接使用项目的“短 GUID”以这种格式 (~/media/31F0E8084F9443789F25836A2B285D3E.ashx) 存储，因此如果有人重命名或移动您的媒体/内容项目，则链接仍将有效（而不是在字段中嵌入项目的全名和路径）。

当您使用 FieldRenderer（或从 FieldRenderer 继承的控件，例如 sc:text / sc:image 等）时，`RenderField`将调用管道并由处理链接`LinkManager`（有关配置的更多信息，请参阅您的 web.config`<LinkManager>`部分）。LinkManager 的存在是为了以一致的方式处理所有链接。直接调用字段值绕过此管道，您将获得该字段的原始文本。

您可以使用以下方法创建自己的链接：`LinkManager.GetDynamicUrl(item);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T09:06:55.937

第一个是一个控件，它通过某些管道和 redners 将项目引用保存为友好的 url。

第二个是直接值调用，它返回未经编辑的值。要获得一个friednly url，您应该使用控件。

为什么需要直接调用值？