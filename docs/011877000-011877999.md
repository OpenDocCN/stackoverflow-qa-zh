# StackOverflow 问答 11877000-11877999

# c# - Aspnet 会员资格是否需要完全信任？

> ID：11877005
> 
> 赞同：0
> 
> 时间：2012-08-09T04:54:02.750
> 
> 标签：c#, asp.net, .net, asp.net-mvc, asp.net-membership

我正在主机上测试我的应用程序，当我尝试访问试图从 Aspnet Membership Profile 读取的页面时，它会返回以下消息：

> 请求“System.Security.Permissions.SecurityPermission, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089”类型的权限失败。

看起来 Aspnet Membership 要求在完全信任下运行，但托管服务提供商不允许应用程序在完全信任下运行。有没有办法让它在中等信任级别上工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:35:33.690

1）尝试使用参考（[http://forums.asp.net/t/1422162.aspx/1](http://forums.asp.net/t/1422162.aspx/1)）中的以下内容

```
using System;
  namespace ConsoleApplication
  {
     [System.Security.Permissions.PermissionSet(System.Security.Permissions.SecurityAction.Demand, Name = "FullTrust")]

or

<System.Security.Permissions.PermissionSet(System.Security.Permissions.SecurityAction.Assert, Unrestricted:=True)> _

   class Program
      {
          static void Main(string[] args)
          {
               ...
          }  
      }
  } 
```

2）如果这没有帮助，请尝试`<trust level="Full" />`在您的 web.config 文件中的`<system.web>`标签内使用 put

3）运行这个命令`caspol.exe -m -ag LocalIntranet_Zone -url \\<network host>\<share name>\ FullTrust -n FullTrustShare`
（当然你需要以管理员身份登录才能执行它）

4) 转到控制面板/管理工具/Microsoft .NET Framework 配置/配置安全设置。然后到左侧的我的电脑->运行时安全策略节点并单击右侧的“调整区域安全”链接，给予完全信任

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T02:52:00.707

经过一些研究，看起来 Asp.Net Membership 中的 Profiles 功能需要应用程序的完全信任安全级别。因此，如果有人试图托管使用 Asp.Net Membership 的 Profiles 功能的应用程序，最好检查托管服务提供商是否允许应用程序在完全信任级别下运行。他们中的大多数人没有（我的情况）。我将自己实现一个 Profile 结构。

# node.js - 使用 node.js 的 nodemailer 的邮件功能在 openshift 中失败

> ID：11877007
> 
> 赞同：0
> 
> 时间：2012-08-09T04:54:21.337
> 
> 标签：node.js, sendmail, openshift

我对 openshift 中的 nodemailer 支持有疑问。我创建了一个简单的 node.js 应用程序，它使用 nodemailer 发送邮件，遵循**[https://github.com/andris9/Nodemailer中给出的 hello world 示例](https://github.com/andris9/Nodemailer)**

邮件从一个 gmail id 发送到另外两个 gmail id。在呈现我的应用程序主页时调用此功能。当 node.js 应用程序在本地运行时，它运行良好。我在 openshift 中创建了一个 node js 应用程序并在本地测试了该应用程序。我工作得很好。但是在部署应用程序以打开班次时，邮件功能失败，尽管主页正确呈现。

openshift 是否支持此邮件功能？或者我是否遗漏了一些东西，例如 openshift 中启用此邮件支持所需的一些额外配置？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T07:12:32.890

嗯，这应该可以工作...您可以尝试更改您正在使用的端口# - 比如说在 wellknown.js 配置中尝试使用 TLS 的 587。看看这是否有效。

要检查的另一件事是您的电子邮件提供商是否允许来自 Amazon AWS EC2 主机的经过身份验证的连接。

高温高压

# python - python: 0x 处的类错误 __main__.foo 实例

> ID：11877011
> 
> 赞同：1
> 
> 时间：2012-08-09T04:54:49.730
> 
> 标签：python, class, function

我正在通过构建二十一点游戏来学习 python（具有 VBA 背景）*（是的，我以二十一点为例提出了很多问题）*。

这是我的代码：

```
import random

class DECK():
    def load_deck(self):
        suite = ('Spades', 'Hearts', 'Diamonds', 'Clubs')
        rank = ('2', '3', '4', '5', '6', '7', '8', '9', '10', "Jack", "Queen", "King", "Ace")
        full_deck = {}
        i = 0
        for s in suite:
            for r in rank:
                full_deck[i] = "%s of %s" % (r, s)
                i += 1
        return full_deck

    def pick_item(self, deck):   
        card_key = random.choice(deck.keys())  
        new_card = deck[card_key] 
        del deck[card_key]  
        return (deck, new_card)

    def missing_card(self, deck):
        temp_deck = DECK()
        print temp_deck

d1 = DECK()

deck1 = d1.load_deck()

deck1, card1 = d1.pick_item(deck1)

print card1

d1.missing_card(d1) 
```

这是我在终端中得到的*（文件名`hand_c.py`）*：

```
$ python hand_c.py
Ace of Clubs
<__main__.DECK instance at 0x10bb0d248>
$ 
```

为什么一个功能起作用`pick_item`，而另一个不起作用`missing_card`？

根据第一个答案，我将函数定义更改为：

```
 def missing_card(self, deck):
    deckC1 = DECK()
    temp_deck = deckC1.load_deck
    print temp_deck 
```

但现在我从终端得到以下信息：

```
$ python hand_c.py
Jack of Diamonds
<bound method DECK.load_deck of <__main__.DECK instance at 0x10500e248>>
$ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:20:35.787

我修改了你的程序来工作。我引入了一个构造函数，并将您的牌组的表示更改为列表而不是字典，并将其设置为属于您在行中创建的牌组的实例变量`d1 = DECK()`。现在，您类中的每个方法都可以访问您的套牌，而无需向世界透露您对套牌的内部表示，您只需使用一个 DECK 对象。

```
import random

class DECK():
    def __init__(self):
        suite = ('Spades', 'Hearts', 'Diamonds', 'Clubs')
        rank = ('2', '3', '4', '5', '6', '7', '8', '9', '10', "Jack", "Queen", "King", "Ace")
        self.full_deck = []
        for s in suite:
            for r in rank:
                self.full_deck.append("%s of %s" % (r, s))

    def pick_item(self):
        card_key = random.randint(0, len(self.full_deck)-1)  
        new_card = self.full_deck[card_key] 
        del self.full_deck[card_key]  
        return new_card

    def missing_card(self):
        print self.full_deck

d1 = DECK()
card1 = d1.pick_item()

print card1

d1.missing_card() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:07:42.277

您应该阅读[Python 教程](http://docs.python.org/tutorial/)。你的代码有很多问题。基本上，您只是将类用作保存函数的包，而实际上并未将卡片组数据保存为类实例的一部分。也就是说，您将卡片组作为字典返回，然后将其传递回另一个函数。最好将卡片组存储在一个属性中（例如`self.deck`），然后让其他功能使用它。

无论如何，它不打印字典的原因很简单。你来做这件事：

```
 temp_deck = DECK()
    print temp_deck 
```

因此，您创建一个变量`temp_deck`并将其设置为等于 DECK 类的一个新实例。然后你打印它。好吧，它当然不会打印字典。 `temp_deck`不是字典。这是一个甲板对象。如果您想要使用当前代码的字典，则需要`temp_deck.load_deck()`像使用原始牌组一样进行操作，然后打印结果。

# vb.net - 如何从绑定源中删除不影响列表中对象的对象

> ID：11877013
> 
> 赞同：0
> 
> 时间：2012-08-09T04:55:02.177
> 
> 标签：vb.net

我有 2 个数据成员的类供应商是 SupID 和 SupplierName 和 1 个构造函数，然后我在 Form1 load() 时将此对象添加到供应商列表中。

```
 Dim lst As New List(Of Supplier)

    Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
       AddList()
    End Sub

    Public Sub AddList()
       lst.Add(New Supplier("Sup1", "Supplier1"))
       lst.Add(New Supplier("Sup2", "Supplier2"))
       lst.Add(New Supplier("Sup3", "Supplier3"))
       lst.Add(New Supplier("Sup4", "Supplier4"))
       lst.Add(New Supplier("Sup5", "Supplier5"))
    End Sub 
```

然后我想在单击发送按钮时通过其新的即时构造函数将 lst 发送到 Form2：

```
 Private Sub cmdSend_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdSend.Click
       Dim frm As New Form2(lst)
       frm.Show(Me)
    End Sub 
```

接下来在form2中，代码如下：

```
 Dim lst As New List(Of Supplier)
    Dim bs As BindingSource

    Public Sub New(ByVal lst As New List(Of Supplier)
       Me.InitializeComponent()
       Me.lst = lst
       bs = new BindingSource(lst,nothing)
    End Sub 
```

然后我想从 bs 中删除对象：

```
 Public Sub cmdRemove_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdRemove.Click
       bs.RemoveCurrent()
    End Sub 
```

问题是，当我从 Form2 中的 bs 中删除对象时，Form1 中 lst 中的对象也会受到影响。那么，如果我不希望 Form1 中的列表受到影响，我该怎么办？

先感谢您....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:04:26.143

尝试将代码更改为`Form2`：

```
Dim lst As List(Of Supplier)
Dim bs As BindingSource

Public Sub New(ByVal lst As List(Of Supplier))
   Me.InitializeComponent()
   Me.lst = New List(Of Supplier)(lst)
   bs = new BindingSource(Me.lst, Nothing)
End Sub 
```

# iphone - SDWebImage：防止对许多服务器请求

> ID：11877019
> 
> 赞同：0
> 
> 时间：2012-08-09T04:56:21.323
> 
> 标签：iphone, objective-c, ios, xcode, sdwebimage

我正在使用 SDWebImage 框架在我的 iPhone 游戏中下载个人资料图像。

```
[cell.playerImage setImageWithURL:url placeholderImage: DefaultImage]; 
```

这很好用，但我担心服务器性能。每次重新加载 tableView 时，所有的单元格都会调用上面的代码来尝试获取图像。并且 tableView 经常重新加载。

由于大部分玩家没有头像，会设置DefaultImage，但我还是想不时检查一下对方玩家是否上传了头像，所以我可以得到它，但不是在每个tableView reload .

你会怎么做呢？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:32:25.420

当它从服务器请求图像时，第一次将播放器图像保存在文档目录中，名称为 playername.png 或 playerID.png（改变你想要的唯一性）。

在 SDWebImage setImageWithURL 的方法中添加这个逻辑：

```
if([[NSFileManager defaultManager] fileExistsAtPath:@"Your Player Image Path"])  
{
    // set image from local Path
}
else
{
   //request from server
   // save image in document Directory and then set that image
} 
```

# c++ - C++ 指针机制 - 错误 2440

> ID：11877023
> 
> 赞同：1
> 
> 时间：2012-08-09T04:56:36.750
> 
> 标签：c++, visual-c++, compiler-errors

> **可能重复：**
> [派生类和基类之间的指针到指针的转换？](https://stackoverflow.com/questions/2532422/conversion-of-pointer-to-pointer-between-derived-and-base-classes)
> [将 Derived** 转换为 Base** 并将 Derived* 转换为 Base*](https://stackoverflow.com/questions/11264587/converting-derived-to-base-and-derived-to-base)

我有一个 intf + 类

```
class IList
{
public:
    virtual IList** GetChildList()=0;
    virtual void SetChildList(IList**)=0;
    ~IList();
};

class CList:public IList
{
    CList** m_lst;
public:
    IList** GetChildList()=0;
    virtual void SetChildList(IList**);
//...
};

IList** CList::GetChildList()
{
    return m_lst;
} 
```

为什么我在 GetChildList 中的 MSVC 中收到错误 2440 说“'return'：无法从 'CList** **' 转换为 'IList **”

我在这里先向您的帮助表示感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:38:45.213

CList 派生自 IList，因此您可以将 CList* 转换为 IList*。但是，您不能将 CList** 转换为 IList**。你需要一个 reinterpret_cast。

# objective-c - ARC 禁止发送“保留”问题的显式消息

> ID：11877025
> 
> 赞同：13
> 
> 时间：2012-08-09T04:57:10.070
> 
> 标签：objective-c, xcode, cocoa, memory-management, automatic-ref-counting

我正在使用 Apple 指南中的这个非常简单的代码：

```
NSMutableData *receivedData;

// Create the request.
NSURLRequest *theRequest=[NSURLRequest requestWithURL:[NSURL URLWithString:@"http://www.apple.com/"]
                        cachePolicy:NSURLRequestUseProtocolCachePolicy
                    timeoutInterval:60.0];
// create the connection with the request
// and start loading the data
NSURLConnection *theConnection=[[NSURLConnection alloc] initWithRequest:theRequest delegate:self];
if (theConnection) {
    // Create the NSMutableData to hold the received data.
    // receivedData is an instance variable declared elsewhere.
    receivedData = [[NSMutableData data] retain];
} else {
    // Inform the user that the connection failed.
} 
```

但是对于这行`receivedData = [[NSMutableData data] retain];`Xcode 给了我一个错误：`PushController.m:72:25: ARC forbids explicit message send of 'retain'`

如何处理？我正在使用 Xcode 4.4.1

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-08-09T05:01:04.350

您当前正在使用 ARC 来为您引用计数。（ARC 是“自动引用计数”，iOS 5 的新功能）。因此您不需要手动保留或释放。您可以一起删除保留调用或通过执行以下操作关闭 ARC：

单击左侧导航视图上的项目名称，转到 Targets -> Build Phases 并添加`-fno-objc-arc`到任何相关文件的“编译器标志”。

[有关删除的信息，请参见此处。](https://stackoverflow.com/questions/8958761/how-to-remove-arc-from-xcode)

[有关 ARC 的基本信息，请参见此处。](https://stackoverflow.com/questions/6385212/how-does-the-new-automatic-reference-counting-mechanism-work)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-01T03:52:28.083

我解决了如下问题。该代码适用于Objective-C。

1.  无论您编写了将图像从 CIImage 获取到 CGImageRef 的方法的任何文件：

    ```
    CGImageRef cgImage = [_ciContext createCGImage:currentImage fromRect:[currentImage extent]]; 
    ```

    将该文件设为非 ARC。转到项目 -> BuildPhase -> ComplieSources -> 您的文件 -> 添加`"-fno-objc-arc"`到您的文件。

2.  如果您的项目中有 .pch 文件，请进行以下行注释：

    ```
    #if !__has_feature(objc_arc)
    #error This file must be compiled with ARC.
    #endif 
    ```

3.  使用以下函数转到用于创建图像的方法：

    ```
    CGImageRef cgImage = [_ciContext createCGImage:currentImage fromRect:[currentImage extent]]; 
    ```

    像这样声明 _ciContext：

    1.  在 .h 文件中，声明：

        ```
        @property (strong, nonatomic)   CIContext* ciContext; 
        ```

    2.  在您的方法中，创建上下文：

        ```
        EAGLContext *myEAGLContext = [[EAGLContext alloc]
                initWithAPI:kEAGLRenderingAPIOpenGLES2];
        _ciContext = [CIContext contextWithEAGLContext:myEAGLContext      options:nil]; 
        ```

    3.  使用 _ciContext 创建图像。

    4.  在同一文件中写入以下方法：

        ```
         -(void)dealloc
         {
            [super dealloc];
            [EAGLContext setCurrentContext:nil];
         } 
        ```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-09T05:14:03.290

打开或关闭 ARC 是项目级别的设置，如果您需要在两种模式下工作的代码，您需要使用

```
#if __has_feature(objc_arc)
//dont do a release or a retain or autorelease
#else
//do the release
#endif 
```

# php - php csv导入可能的方式？

> ID：11877027
> 
> 赞同：1
> 
> 时间：2012-08-09T04:57:45.847
> 
> 标签：php, yii

我需要创建一个 csv 以将数据导入数据库，但我有一个困惑

我的 csv 数据与 3 个表相关

那么如何分离以及创建类似 csv 的可能方法 1）如果表 1 中的数据已经存在，则检查所需的数据是否插入或更新了该数据 2）我还要求如果数据未插入结果也显示在同一时间插入未插入ETC...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-11T07:54:11.527

通过使用 phpexcel，您可以在 Yii 框架中轻松导入 excel/csv

[1.从http://phpexcel.codeplex.com](http://phpexcel.codeplex.com)下载最新的phpexcel解压到扩展文件夹

2.在你的控制器中创建一个动作，并给出正确的基本路径和 phpexcelpath

```
public function actionImport()
            {
                  $message = '';
                  if (!empty($_POST))
                     {
                    $file = CUploadedFile::getInstanceByName('import');
                    $spec = Yii::app()->basePath.'/data/imports/'.$file->name;
                    $file->saveAs($spec);

                    spl_autoload_unregister(array('YiiBase','autoload'));

                     $phpExcelPath = Yii::getPathOfAlias('ext.phpexcel.vender');

                       include($phpExcelPath . DIRECTORY_SEPARATOR . 'PHPExcel.php');

                    spl_autoload_register(array('YiiBase', 'autoload'));

                    try {

                         $inputFileType = PHPExcel_IOFactory::identify($spec); 
                         $objReader = PHPExcel_IOFactory::createReader($inputFileType);

                         if ($inputFileType != 'xls')
                            {
                            $objReader->setReadDataOnly(true);
                            }
                        $objPHPExcel = $objReader->load($spec); 
                        $objWorksheet = $objPHPExcel->setActiveSheetIndex(0);
                        $highestRow = $objWorksheet->getHighestRow();
                        for ($row = 1;$row < $highestRow+1; $row++)
                             {
                             $model= new ExamScores; // Yii AR model
                             $model->id = $objWorksheet->getCellByColumnAndRow(1, $row)->getValue();
                             $model->student_id = $objWorksheet->getCellByColumnAndRow(2, $row)->getValue();
                              $model->exam_id = $objWorksheet->getCellByColumnAndRow(3, $row)->getValue();
                              $model->marks = $objWorksheet->getCellByColumnAndRow(4, $row)->getValue();
                             $model->save(false);
                             $model->detachBehaviors(); // PHP < 5.3 memory management
                             unset($model);
                             Yii::app()->user->setFlash('sucess','Mark saved Successfully');
                             }

                        }
                    catch (Exception $e)
                       {
                       $message = 'There was a problem handling your file. Technical details: '.$e->getMessage();

                       }
                    if (! empty($message))
                       {
                       Yii::app()->user->setFlash('error',$message);

                       }
                    }       
                  $this->render('import');
          } 
```

3.在你的视图文件中

```
<!--<div class="formCon">
<div class="formConInner">-->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="247" valign="top">

    <?php $this->renderPartial('left_side');?>

    </td>
    <td valign="top">

<h1>IMPORT EXCEL SHEET</h1>

<?php if(Yii::app()->user->hasFlash('sucess')): ?>

<div class="flash-success">
    <?php echo Yii::app()->user->getFlash('sucess'); ?>
</div>

<?php endif; ?>

<div style="background-color: #E6E4E4;">
<table width="100%" cellspacing="2" cellpadding="2">

<tr>
<?php echo CHtml::beginForm('', 'post', array('enctype'=>'multipart/form-data')); ?>
<tr><td>&nbsp;</td></tr>
<td><?php echo CHtml::label('File to Import', 'fti'); ?> 
<?php echo CHtml::fileField('import', '', array('id'=>'fti')); ?></td>
</tr>

<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>

<tr>

<td><?php echo CHtml::submitButton('Submit'); ?> </td>

</tr>

<?php echo CHtml::endForm(); ?>
</tr>
</table>

</div>
    </td>

</table>

<!--</div>
</div>--> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:30:28.980

我已经实现了这段代码，它是经过测试的代码。我认为这是非常充分的

您必须遵循一些规则：-

1.你的csv文件根据数据库表名（例如：db表名是users然后csv应该是users.csv）

2.您的 csv 文件的第一行应该是 db 表字段名称（例如：ID、名称等），然后开始您的数据输入

3.您可以从以下位置下载数据源类：- [http://code.google.com/p/php-csv-parser/](http://code.google.com/p/php-csv-parser/)因为我在代码下面有要求：require_once 'CSV/DataSource.php';

```
<?php
ini_set('memory_limit','512M');
$dbhost = "localhost";
$dbname = "excel_import";
$dbuser = "root";
$dbpass = "";

$conn=mysql_connect ($dbhost, $dbuser, $dbpass) or die ("I cannot connect to the database because: " . mysql_error());
mysql_select_db($dbname) or die("Unable to select database because: " . mysql_error());

require_once 'CSV/DataSource.php';

$filename = "Book1.csv";
//$filename = $_POST['filename'];
$ext = explode(".",$filename);

$path = "uploads/".$filename;

$dbtable = $ext[0];

import_csv($dbtable, $path);

function import_csv($dbtable, $csv_file_name_with_path)
{
    $csv = new File_CSV_DataSource;
    $csv->load($csv_file_name_with_path);

    $csvData = $csv->connect();

    $res='';
    foreach($csvData  as $key)
    {
        $myKey ='';
        $myVal='';
        foreach($key as $k=>$v)
        {

            $myKey .=$k.',';
            $myVal .="'".$v."',";

        }
        $myKey = substr($myKey, 0, -1);
        $myVal = substr($myVal, 0, -1); 

        $query="insert into ".$dbtable." ($myKey)values($myVal)";
        $res=  mysql_query($query);

    }

    if($res ==1)
    {

    echo "record successfully Import.";
    }else{

    echo "record not successfully Import.";
    }
}

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:20:25.947

```
$row = 1;

if (($handle = fopen("path to your csv file/data.csv", "r")) !== FALSE) 
{
    while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) 
    {
        $row++;
        print_r($data);
    }

    fclose($handle);
} 
```

根据打印的数据，您可以执行进一步的步骤。

# c++ - 为什么随机数生成不正确？

> ID：11877032
> 
> 赞同：3
> 
> 时间：2012-08-09T04:58:16.160
> 
> 标签：c++, visual-c++, random

下面是我的代码：

```
uniform_int_distribution<>temp(-1,1);
default_random_engine e((unsigned int)time(0));
for(int a=0;a<50;a++){
cout<<temp(e)<<endl;
} 
```

你知道，我希望数字范围是 -1,0,1，这三个数字。实际上结果通常只包含 0 和 1。如果我多次运行这个程序，那么 -1 很少会是最后一次的数字。我不知道为什么，uniform_int_distribution 应该包含-1，对吧？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T05:11:45.703

这是一个显然已修复的错误：[http ://connect.microsoft.com/VisualStudio/feedback/details/712984](http://connect.microsoft.com/VisualStudio/feedback/details/712984)

如果您现在需要一个解决方法而不安装软件更新，为什么不直接生成 0 到 2，然后再减去 1？

# javascript - document.getElementByID 在 IE 8 中不起作用

> ID：11877034
> 
> 赞同：1
> 
> 时间：2012-08-09T04:58:46.370
> 
> 标签：javascript, forms, internet-explorer-8, getelementbyid

我以前从未这样做过，所以如果我没有很好地描述我的问题或没有使用所有正确的语法，我深表歉意。

我在我的网站上有一个电子邮件表格。用户可以输入消息，以及他们的姓名和一些其他数据。一旦他们完成填写表格，他们就可以提交它，它会发送到我的电子邮件，一切都很好。因为表单中包含 JavaScript，所以我自动使用 CSS 将其隐藏，然后通过 JavaScript 使其可见。这样，如果用户关闭了 JavaScript，表单就不会出现。

而且效果很好。而且我认为它也显示得很好。我在我所有的本地测试浏览器（Chrome 21、FF 14、IE 9、Opera 12 和 Safari 5）以及通过 Adob​​e Browser lab 对 IE 8、7 和 6 进行了检查。在所有这些浏览器中，它看起来都很棒。我什至在我的安卓手机和我女朋友的黑莓手机上检查过。看起来不错。

直到我在我妈妈的电脑上用 IE 8 测试它。虽然在 Adob​​e Browserlab 中它说表单显示，但在实际测试中表单没有显示。

你可以[在这里](http://www.dejongdesign.ca/contact/index.html)自己测试一下。

问题在于表单 ID“emailForm”。我的表单具有如下标记：

```
 <form id="emailForm" method="POST" action="../javascript/email_form.php" onSubmit="return validateForm();">
        <label id="emailSubjectLabel">Email Subject*:</label><input class="form" title="Email Subject" type="text" name="subject" id="emailSubject"><br>
        <label id="nameLabel">Your Name*:</label><input class="form" title="Your Name" type="text" name="name" id="yourName"><br>
        <label id="emailLabel">Your Email:</label><input class="form" title="Your Email Address" type="text" name="email" id="yourEmail"><br>
        <label id="messageLabel">Your Message*:</label>
        <textarea class="form" title="Write Something..." name="message" id="message" cols="40" rows="5"></textarea>
        <input class="button" type="submit" value="Submit">
        <p class="error">* required.</p>
    </form> 
```

我的 CSS 有一大堆代码，但它有关于使表单不可见的问题：

```
 #emailForm, #javaText {
        display: none;  
    } 
```

（注意：#javaText 是屏幕上的一些文本，除非用户安装了 JavaScript，否则它也会被隐藏。它在 IE 8 中也不起作用。为简单起见，我没有提及它。）

JavaScript 看起来像这样：

```
 document.getElementById("emailForm").style.display = "block";
    document.getElementById("javaText").style.display = "inline";

    function validateForm() {
    //function that validates the form
    } 
```

我已将 JavaScript 放在页面底部，希望对您有所帮助。我已经尝试在主 HTML 页面上更改内容的样式，我已经检查了我母亲的 JavaScript 并且它已启用。我只是不知道为什么它不起作用。

如果有人能告诉我我做错了什么，我将非常感激。这已经让我头痛了一个星期了。

（是的，我告诉她 IE 很糟糕，她应该使用 Chrome，但她不使用的原因是完全不同的故事......）

谢谢你的帮助。我迫不及待地想知道解决方案是什么！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:11:03.753

IE8 没有加载您的`form_validation.js`文件，这就是它没有在该文件中运行您的初始化代码的原因。

您需要将脚本标签上的类型更改为`type="text/javascript"`或完全删除该类型。你有`type="application/javascript"`哪个是不正确的。

经过进一步探索，请参阅[为什么 IE8 无法识别脚本标签中的 type="application/javascript"？](https://stackoverflow.com/questions/1288263/why-doesnt-ie8-recognize-type-application-javascript-in-a-script-tag)进行更多讨论。

# blackberry - 如何在向量中搜索特定值并在黑莓中更新它

> ID：11877042
> 
> 赞同：0
> 
> 时间：2012-08-09T04:59:42.217
> 
> 标签：blackberry

你好！提前致谢...

我正在编写代码以在 Vector 中添加一个字符串值，并在文本字段上显示该值，然后在编辑字段上显示该值。我想为该编辑字段创建一个事件，以更新我要编写代码的黑莓的矢量值。

我在单击此按钮字段时创建了一个 customeTextField 和一个按钮字段，将在 customeTextField 上输入的值添加到向量并创建一个包含输入字符串的新 customeTextfield。

我想为另一个 customeTextField 事件，它将更新黑莓中的字符串和向量元素。

（黑莓代码是必需的）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T09:31:51.303

尝试在文本字段的焦点侦听器上获取元素的索引，然后为 fieldchange 侦听器编写代码并获取元素的索引并为向量方法编写 setElement。

# android - RPC 中的 Android Parcelable

> ID：11877043
> 
> 赞同：1
> 
> 时间：2012-08-09T04:59:45.883
> 
> 标签：android, rpc, parcelable, aidl

这是我在 Stack Overflow 上的第一个问题，希望我能找到您解决我面临的问题的专业知识。

我试图实现一个 Parcelable 代码。让我告诉你 -

1.  我有一个 ConnectDevice 类，当被调用时，它会通过蓝牙与附近的任何设备建立连接。
2.  我在服务中调用 ConnectDevice - 我的意思是 - 当我调用此服务时 - 它会在 android 和其他设备之间建立连接。
3.  我需要此连接可用于我的其他应用程序以对其进行一些操作。
4.  ConnectDevice 对象有一个名为“bluetoothDeviceHandler”（类型为 BluetoothDeviceHandler 类）的静态变量，所有其他应用程序都需要该变量来驱动操作。

因此，要使其可用于其他应用程序 -

1.  我已将 ConnectDevice 类设为 Parcelable。

2.  我正在将名为“cd”的 ConnectDevice 对象（在服务中实例化之后）写入包裹，以便我可以以相同的状态将其读回并可以访问其变量`cd.bluetoothDeviceHandler`等

3.  除了将其转换为 json 对象之外，我无法将对象本身写入包裹中。

    ```
    gson = new Gson();
    System.out.println("Connect Device : " + deviceHandler);  
    String handler = gson.toJson(deviceHandler);  
    dest.writeString(handler); 
    ```

后来我使用相同的策略解组它

```
 handler = in.readString();
    System.out.println("Handler String " + handler);
    deviceHandler = gson.fromJson(handler, ConnectDevice.class);
    System.out.println("Handler " + deviceHandler); 
```

但无论我尝试什么 - 我最终将 cd 设置为 null...（在绑定到服务之后）因此我无法在其他应用程序中访问 ConnectDevice 的任何方法或变量。

以下是我的服务代码

```
public void onStart(Intent intent, int startId) {
    // TODO Auto-generated method stub
    super.onStart(intent, startId);
    cd = ConnectDevice.getConnection(ConnectService.this);
    cd.deviceHandler = cd;
    // cd.connectDevice("00:06:66:47:57:80");
    cd.connectDevice("00:06:66:47:E4:42");

}

@Override
public IBinder onBind(Intent intent) {
    // TODO Auto-generated method stub

    return new IHandler.Stub() {

        @Override
        public ConnectDevice getHandler() throws RemoteException {
            // TODO Auto-generated method stub
            System.out.println("I am here client connected");

            return cd;
        }
    };
} 
```

这是我的示例 ConnectDevice 类

```
public class ConnectDevice implements Parcelable                                        
{   
    public static BluetoothDeviceHandler bluetoothDeviceHandler = null;  
    public static ConnectDevice deviceHandler = null;   

    /* there are lot of codes which sets the bluetoothdeviceHandler when   
      the device is connected over bluetooth.(In service, after calling  
      cd.connect) deviceHandler will be set once the service initializes  
      this class as  */ 

    /*So, I am parcelling this deviceHandler object so that I can access all
      of its method and variable in other applications...( I did not want to
      connect in each application rather centralizing and accessing the same
      connection across the application)*/ 

        @Override
        public void writeToParcel(Parcel dest, int flags) {
            // TODO Auto-generated method stub

            gson = new Gson();
            System.out.println("Connect Device : " + deviceHandler);
            String handler = gson.toJson(deviceHandler);
            dest.writeString(handler);

        }

        void readFromParcel(Parcel in) {

                 handler = in.readString();
             System.out.println("Handler String " + handler);
             deviceHandler = gson.fromJson(handler, ConnectDevice.class);
             System.out.println("Handler " + deviceHandler);
        }

        public static final Parcelable.Creator<ConnectDevice> CREATOR =   
                                new Parcelable.Creator<ConnectDevice>() {
            public ConnectDevice createFromParcel(Parcel in) {

                return new ConnectDevice(in);
            }

            public ConnectDevice[] newArray(int size) {
                return new ConnectDevice[size];
            }
        }; 
```

我的另一个应用程序正确绑定。但我没有得到对象，它总是为空。我不确定为什么。

# c - 使用icc时输出不稳定

> ID：11877044
> 
> 赞同：2
> 
> 时间：2012-08-09T04:59:55.357
> 
> 标签：c, osx-snow-leopard, valgrind, icc

我想报告我遇到的一个有趣的错误。下面的代码应该打印出 20 次“1.0”。相反，在我的 mac（雪豹 10.6.8）上使用 icc (11.1) 编译时，我得到不稳定的值（16 倍“0.0”然后 4 倍“1.0”）。我在代码中使用了几个特性，但它们似乎都没有语法错误（编译期间没有错误，并且 valgrind 在运行期间没有报告错误）。但是，如果我更改任何内容（即使是未使用的功能 - 这就是我觉得很奇怪的原因），我会得到正确的输出。用 gcc 编译也能得到正确的输出。

但我认为最奇怪的是，如果我删除函数“function1”，错误就会消失，尽管代码中没有使用该函数。

这真的很奇怪，现在我担心我的代码（比这大得多）会不稳定。我需要你的帮助，我对此感到非常困惑。语法有什么问题吗？

主.c：

```
#include "main.h"

 int main(argc,argv)
 int argc;
 char **argv;
{

  Config para;
  para.option1 = ONE;

  para.a[0] = 0.0;
  para.a[1] = 0.0;
  para.a[2] = 0.0;
  para.a[3] = 1.0;

  int i;  
  double *x = (double *)malloc(20*sizeof(double));
  for(i=0;i<20;i++) x[i] = 1.0;
  for(i=0;i<20;i++) printf("%f \n", x[i]);
  free(x);

  function2(para);

  return EXIT_SUCCESS;
}

void function1(int option){

  switch(option){
  case ONE: case TWO: case THREE: case MONE:
    printf("MONE to THREE\n");
    break;
  case FOUR:
    printf("FOUR\n");
    break;
  }

  return;
}

void function2(const Config para){

  if(para.option1 == FOUR){
    printf("FOUR\n");
  }

  return;
} 
```

主.h：

```
#include <string.h>
#include <stdio.h>
#include <stddef.h>
#include <math.h>
#include <stdlib.h>
#include <unistd.h>
#include <time.h>
#include <stdarg.h>

#define MONE    -1
#define ONE      1
#define TWO      2
#define THREE    3
#define FOUR     4

typedef struct Config
{
  int option1, option2;
  double a[4];
} Config;

void function1(int option);
void function2(const Config para); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T11:25:10.920

在网上挖掘更多内容时，我发现了英特尔的这个错误报告：

[http://software.intel.com/en-us/articles/intel-compiler-and-xcode-322-linker-runtime-crash-with-switch-statement/](http://software.intel.com/en-us/articles/intel-compiler-and-xcode-322-linker-runtime-crash-with-switch-statement/)

这似乎与 icc 编译器如何优化 case 语句有关。他们解决问题的建议如下：

1) 使用 Xcode 3.2.1 和 11.1 编译器。

2) 使用带有选项 -use-asm 的 11.1 编译器和 Xcode 3.2.2、3.2.3、3.2.4。它应该可以解决大多数情况，但在某些情况下，即使通过外部汇编程序生成目标文件 L* 符号仍然可能出现在目标文件中。这些情况通常是放置在 cstring 部分的常量字符串文字

3) 使用英特尔 Composer XE。

我的 Xcode 是 3.2.6 版，但解决方案 2) 解决了我的问题。然而，我仍然对此感到非常困惑（以及网络上缺乏文档）。

谢谢。

# ruby-on-rails - 与同一模型的多个关系

> ID：11877053
> 
> 赞同：0
> 
> 时间：2012-08-09T05:00:56.577
> 
> 标签：ruby-on-rails

我很难找出最好的方法来做到这一点。我有一个 User 模型和一个 Tournament 模型，并在这两个模型之间建立了一个 has_many :through 关系，称为“followed_tournaments”，以便用户可以关注锦标赛。因此，我已经在 User 模型中有一个 has_many :tournaments ，在 Tournament 模型中有一个 has_many :users ，这样一个锦标赛就有很多追随者，一个用户可以关注很多锦标赛。

我想建立另一个 habtm 或 has_many :through 关系，以便用户可以被视为锦标赛的“贡献者”——与我已经建立的关系完全不同。我希望锦标赛有任意数量的贡献者，并且用户可以为许多锦标赛做出贡献。

执行此操作的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:15:53.753

使用`source`或`class_name`

```
class Tournament < ActiveRecord::Base
  has_many :users # ... whatever

  has_many :contributions

  # using class_name
  has_many :contributors, :through => :contributions

  # using source
  has_many :contributors, :through => :contributions, :source => :user
end

class Contribution < ActiveRecord::Base
  belongs_to :tournament

  # using class_name
  belongs_to :contributor, :class_name => 'User'

  # using source
  belongs_to :user
end 
```

# iphone - 如何在iphone中的单词拼写中转换货币？

> ID：11877055
> 
> 赞同：0
> 
> 时间：2012-08-09T05:01:01.427
> 
> 标签：iphone

**我创建了将货币转换为 Word 格式的函数，但我的问题是**，当输入 textfeild 值**100000**时，我需要印度格式十万，但它给了我**十万**，所以任何解决方案都可以。

 ****```
 NSString *str1 = txtAmount.text;
    NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
    [formatter setNumberStyle: NSNumberFormatterSpellOutStyle];

    NSString *localeStr = [appDel.countryCodeDict valueForKey:appDel.selectedCountry];

    if ([appDel.selectedCountry isEqualToString:@"France"]) {
        localeStr = @"fr";
    }
    if ([appDel.selectedCountry isEqualToString:@"Germany"]) {
        localeStr = @"de";
    }

    NSLocale *usLocale = [[NSLocale alloc] initWithLocaleIdentifier:localeStr];
    [formatter setLocale:usLocale];  

    [formatter setFormatterBehavior:NSNumberFormatterBehavior10_4];

    [formatter setNumberStyle:NSNumberFormatterCurrencyStyle];

    NSArray *valueArr=[str1 componentsSeparatedByString:@"."];

    [formatter setNumberStyle: NSNumberFormatterSpellOutStyle];

    NSString *firstStr = [valueArr objectAtIndex:0];
    NSString *seconfStr = [valueArr lastObject];           

    if (valueArr.count==2 && ![seconfStr isEqualToString:@""]) {
        double firstAmt = [firstStr doubleValue];
        NSString *convertStr = [formatter stringFromNumber:[NSNumber numberWithDouble:firstAmt]];

        double secondAmt = [seconfStr doubleValue];
        NSString *convertStr1 = [formatter stringFromNumber:[NSNumber numberWithDouble:secondAmt]];

        NSString *finalStr = [convertStr stringByAppendingFormat:@" %@ %@ %@",appDel.firstCurrencystr,convertStr1,appDel.secondCurrencystr];
        NSLog(@"%@",finalStr);
        NSString *firstCapChar = [[finalStr substringToIndex:1] capitalizedString];

        tempStr = [finalStr stringByReplacingCharactersInRange:NSMakeRange(0,1) withString:firstCapChar];

    }else{

        double firstAmt = [firstStr doubleValue];
        NSString *convertStr = [formatter stringFromNumber:[NSNumber numberWithDouble:firstAmt]];
        convertStr = [convertStr stringByAppendingFormat:@" %@",appDel.firstCurrencystr];
        NSString *firstCapChar = [[convertStr substringToIndex:1] capitalizedString];
        tempStr = [convertStr stringByReplacingCharactersInRange:NSMakeRange(0,1) withString:firstCapChar];

    }

    appDel.lblAmountView.lblAmount.text = tempStr; 
```

任何想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:49:55.690

不知道您编码了什么，但如果您希望货币采用印度风格，请查看以下代码：-

```
NSLocale *indiaLocale = [[[NSLocale alloc] initWithLocaleIdentifier:@"en_IN"] autorelease];
double currency = 1000000000.00; 
NSNumberFormatter *numberFormatter = [[[NSNumberFormatter alloc] init] autorelease];
[numberFormatter setNumberStyle: NSNumberFormatterCurrencyStyle];
[numberFormatter setLocale:indiaLocale];

NSString *numberAsString = [numberFormatter stringFromNumber:[NSNumber numberWithInt:currency]];
NSString *str2 = [NSString stringWithFormat:@"Converted:%@",numberAsString]; 

NSLog(@"String:%@",str2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T14:07:10.930

```
at last i convert the hole currency in lakh and crore format of india:

-(NSString *)stringfromNumberIndia:(NSString *)str_word
    {
        NSString *tempStr=@"";

        NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
        [formatter setNumberStyle: NSNumberFormatterSpellOutStyle];

        NSLocale *usLocale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_IN"];
        [formatter setLocale:usLocale];
        [formatter setNumberStyle: NSNumberFormatterSpellOutStyle];

        if ([str_word length]>5) {

            NSString* str_convert = [str_word substringFromIndex:[str_word length]-5];
            NSString* str_convert1 = [str_word substringToIndex:[str_word length]-5];
            NSLog(@"str :%@",str_convert);
            NSLog(@"str1 :%@",str_convert1);
            tempStr = [[self stringfromNumberIndia:str_convert] stringByAppendingString:tempStr];
            int l=[str_convert1 length];
             for (int i=0; i<l;) {

                NSRange range;
                if (l>2 && i == 0) {
                    range=NSMakeRange(l-i-2, 2);
                }
                else{
                    range=NSMakeRange(0, l-i);
                }
                NSString *str_first=[str_convert1 substringWithRange:range];
                 if ([str_first intValue] == 0) {
                     if (i == 0)
                         i+=2;
                     else
                         break;
                     continue;
                }
                NSLog(@"str_first:%@",str_first);
                if (i== 0) {
                    str_first=[formatter stringFromNumber:[NSNumber numberWithDouble:[str_first doubleValue]]];
                    str_first = [str_first stringByAppendingFormat:@" lakh "];
                    tempStr = [str_first stringByAppendingString:tempStr];
                }
                else {
                    str_first =[self stringfromNumberIndia:str_first];
                    str_first = [str_first stringByAppendingFormat:@" crore "];
                    tempStr = [str_first stringByAppendingString:tempStr];
                    break;
                }
                 i+=2;
            }
        }
        else if ([str_word intValue] !=0){
            double Amt = [str_word doubleValue];
            NSString *convertStr = [formatter stringFromNumber:[NSNumber numberWithDouble:Amt]];

            NSString *firstCapChar = [convertStr substringToIndex:1];
            tempStr = [convertStr stringByReplacingCharactersInRange:NSMakeRange(0,1) withString:firstCapChar];
        }
        return  tempStr;

    } 
```

谢谢。****

# magento - 在子域中设置 magento 站点

> ID：11877064
> 
> 赞同：1
> 
> 时间：2012-08-09T05:02:15.140
> 
> 标签：magento, dns, subdomain

我有一个magento 站点主域。

我做了以下步骤：

```
1.Downloaded the full magento site from main domain(mydomain.com)
2.Created a sub domain as new.mydomain.com(in plesk)
3.Uploaded the full magento site in to sub domain.
4.Created new database and imported the database.
5.Changed the secure url and unsecure url as 'http://www.new.mydomain.com/' in core_config_table.
6.Changed the local.xml file with new database details. 
```

我做了上面的步骤。

然后我在浏览器中将子域作为 new.mydomain.com，但它转到主域（mydomain.com）。

这是什么原因？

我联系了客户，客户给我的信息说，没有服务器问题。它在您的代码中。

那么这里的问题是什么？

是否有从子域到主域的重定向？

或者是否有任何文件取自主域而不是子域？

我该如何解决这个问题？

我需要做任何额外的步骤吗？

我已经检查了 index.php 页面：

在这里，我在此之前给出一个回声声明`Mage::run($mageRunCode, $mageRunType);` ：

`echo "test"; die(); Mage::run($mageRunCode, $mageRunType`

然后`test`将显示。

所以在运行时`mage`它会重定向到主域。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-06T14:57:40.333

fwiw：magento 将“域”信息存储在 core_config_data 表的至少两条记录中：

mysql> select * from core_config_data where value like '%mydomain.com/'; +-----------+---------+----------+---------------- --------+----------+ | 配置 ID | 范围 | scope_id | 路径 | 价值 | +-----------+---------+----------+---------------- --------+----------+ | 4 | 默认 | 0 | 网络/不安全/base_url | [http://mydomain.com/](http://mydomain.com/) | | 5 | 默认 | 0 | 网络/安全/base_url | [http://mydomain.com/](http://mydomain.com/) | | 1488 | 商店 | 2 | 网络/不安全/base_url | [http://mydomain.com/](http://mydomain.com/) | | 第1489章 商店 | 2 | 网络/安全/base_url | [http://mydomain.com/](http://mydomain.com/) | +-----------+---------+----------+---------------- ------+----------+

在备份数据库之前，甚至在备份之后，但在尝试使新站点上线之前，运行更新语句：

更新 core_config_data 设置值 = ' [http://mynewdomain.com](http://mynewdomain.com) ' 其中值 = ' [http://mydomain.com](http://mydomain.com) '

然后该站点应该可以正常运行。

另一种方法是在 System->Configuration->web 部分更改安全和不安全 url，然后保存数据库。

党卫军

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:55:58.937

你清理缓存了吗？（删除 /var/cache 目录）？

您可以尝试通过 phpmyadmin 在所有数据库中搜索 mydomain.com 并进行更改。

# visio - 如何使用 VS2005 打印在 VisioViewer activeX 控件中打开的文件

> ID：11877067
> 
> 赞同：0
> 
> 时间：2012-08-09T05:02:28.653
> 
> 标签：visio

我正在我的 View 类中创建 Microsoft Office Visio Viewer ActiveX 控件（我使用的是 SDI 模型），我使用类向导创建的 ActiveX 类包装器完成了这项工作。

我可以打开一个 vsd 文件，但是当我单击打印菜单项时，它会打印一个空白页。Visio Viewer ActiveX 没有根据文档公开任何打印功能，但它确实提到：-

> Microsoft Visio Viewer 是一个 ActiveX 控件，即使您没有 Microsoft Visio 2010，您也可以打开、查看或打印 Visio 绘图。

如何从“打印”命令打印 activeX 控件内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:39:20.897

能够通过参考[this](http://www.codeproject.com/Articles/6940/Printing-ActiveX-Controls)并使用

PrintControlUsingScreen()

# perl - 使用 Perl 绘制饼图和条形图

> ID：11877075
> 
> 赞同：3
> 
> 时间：2012-08-09T05:03:35.800
> 
> 标签：perl, graph

我需要使用 Perl 制作饼图和条形图。我需要使用 Perl 制作两个类似下面的图表![在此处输入图像描述](../Images/c3c24dcc65e7cacec7a51526cdf6b4ff.png)

我可以在这里使用哪些库？和以前一样，我试图与之合作`Chart Clicker`，但我无法做到这一点。某些模块中出现了一些错误。几周前我发布了同样的问题，但没有人回答但[编译失败，同时尝试运行 Chart Clicker](https://stackoverflow.com/questions/11788445/compilation-failed-while-trying-to-run-chart-clicker#comment15661146_11788445)。

所以这就是我在寻找一些简单的库的原因，我可以从中用 Perl 绘制上面的两个图

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:27:43.770

看看[GD::Graph](http://search.cpan.org/dist/GDGraph/Graph.pm) - Perl 5 的图形绘图模块，对你很有用。

# forms - POST 提交失败并重定向

> ID：11877076
> 
> 赞同：0
> 
> 时间：2012-08-09T05:03:42.667
> 
> 标签：forms, url, session, post, get

这是一件很奇怪的事情。我让用户使用 POST 表单提交 URL。此表单以及与之相关的所有内容都位于我的 main 的子文件夹中`public_html`。生成的 PHP 与表单位于同一页面上，它执行以下操作：

```
if (filter_var($_POST['input-addr'], FILTER_VALIDATE_URL)) {
    $_SESSION['scy-prox-url'] = $_POST['input-addr'];
} else {
    $_SESSION['scy-prox-url'] = 'false';
} 
```

在此之下，它获取请求的 URL 文件的内容并对 HTML 进行大量编辑。

如果我输入一些简单的东西，比如[http://smashingmagazine.com/](http://smashingmagazine.com/)，它似乎会失败并将我重定向到 404 not found 页面。

我创建了一个 GET 客户端，它执行与上述相同的操作，但使用`$_GET`哪个有效。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:41:56.953

因为它在这里对我有用：http: [//codepad.org/zyXTCJDZ](http://codepad.org/zyXTCJDZ)

我怀疑这可能是您粘贴的代码下方的内容。

# java - 在 Eclipse 中设置 Android 开发工具

> ID：11877077
> 
> 赞同：1
> 
> 时间：2012-08-09T05:03:47.447
> 
> 标签：java, android, eclipse

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:06:49.537

I am using Eclipse Helios. Download **Eclipse IDE for Java Developers** from [here](http://www.eclipse.org/downloads/packages/release/helios/sr2) & update it latest packages by goto to menu *Help -> Check for new updates*.

Download & install Android SDK.

**To install ADT Plugin:**

1.  Start Eclipse, then select Help > Install New Software.... Click Add, in the top-right corner.
2.  In the Add Repository dialog that appears, enter "ADT Plugin" for the Name and the following URL for the Location:

    [https://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)

3.  Click OK Note: If you have trouble acquiring the plugin, try using "http" in the Location URL, instead of "https" (https is preferred for security reasons).

4.  In the Available Software dialog, select the checkbox next to Developer Tools and click Next.
5.  In the next window, you'll see a list of the tools to be downloaded. Click Next.
6.  Read and accept the license agreements, then click Finish. Note: If you get a security warning saying that the authenticity or validity of the software can't be established, click OK.
7.  When the installation completes, restart Eclipse.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T10:14:45.020

Procedure to work with android in Eclipse juno is :

`Step 1:` Install jdk-7 version and then Install `installer_r16-windows.exe`

`Step 2:` now unzip the android-sdk and paste it into disk c android folder and replace all.

`Step 3:` now unzip the eclipse-juno.

`Step 4:` open eclipse ide and go to the help option and click on new software install option.

`Step 5:` click on archive and give the path to ur ADT-20.0.3 or any version and choose restart eclipse option.

`Step 6:` now two green button will be displayed on the left most upper side of eclipse.

`Step 7:` first click on small arrow type button and see all the packages are installed if not choose install package.

`Step 8:` now click on second big green button named AVD i.e android virtual device.

`Step 9:` click on new and configure ram and all u want in your AVD.

`Step 10:` your AVD is on screen now.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:13:29.727

(Using the comments to provide an answer)

Try using the latest version of Eclipse (Juno), or at least Eclipse Indigo. The newer version of the Android Framework might have dependencies that the latest versions of Eclipse provide.

If this is incorrect / doesn't work, let us know so we can update the solution.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T05:14:02.887

You didn't install ADT plugins yet or something goes wrong.

Download ADT-20 form [HERE](http://tools.android.com/download/adt-20-preview)

**In eclipse goto--> Help --> Install new Software --> Select ADT-20.zip**

For step-by-step instruction [HOW TO INSTALL ANDROID](http://developer-android.blogspot.in/2012/06/how-to-install-android-step-by-step.html) see this

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T05:48:26.403

As per your given error it is sure an version problem.. you might be trying to add ADT whose version is below ADT-20 and your ecllips is asking for ADT-20..so try to provide link which contains ADT version 20\. If still problem exists go to : [http://developer.android.com/sdk/installing/installing-adt.html](http://developer.android.com/sdk/installing/installing-adt.html) there they have also given download for ADT-20.zip file download it and install it manually.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-09T12:25:07.140

I had the same problem, I installed [Eclipse Indigo](http://www.eclipse.org/downloads/packages/release/indigo/sr2) and it worked perfect... because it's version 3.7.2 so it should be working fine with this.

# iphone - 如何获取选定的行IOS

> ID：11877080
> 
> 赞同：1
> 
> 时间：2012-08-09T05:03:49.747
> 
> 标签：iphone, objective-c, ios, xcode

我如何知道当前在表视图中选择了哪一行，而不使用任何全局变量来使用此方法存储最后单击的行。

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-09T05:17:17.770

如果您在 outlet 属性中有 UITableView，则可以像这样获取选定的行：

```
[tableView indexPathForSelectedRow] 
```

这将返回一个 indexPath，其中包含所选行的行号和节号。

请参阅[http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/instm/UITableView/indexPathForSelectedRow](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/instm/UITableView/indexPathForSelectedRow)。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-09T05:06:18.910

您不需要全局变量。 *如果*您需要跟踪当前选定的行，您可以在作为表视图回调委托的类中创建一个成员变量 (iVar)。

该方法将向您传递具有所选行的 indexPath。如果您想记住其他函数回调，请在该类中创建一个属性或 iVar。

在标题中：

```
@interface MyTableViewController : UITableViewController {
    NSInteger _selectedRow;
} 
```

在实施中

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath 
{
   _selectedRow = indexPath.row;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-09T05:07:05.893

编辑：存储在 NSUserDefault

在这个委托方法中，您可以在 .h 文件中获取当前选定的行添加 int curRowIndex

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath 
{
  curRowIndex = indexPath.row
  NSLog(@"Currently Selected Row: %d",curRowIndex);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-09T05:15:11.727

我已经这样做了....

```
NSIndexPath *selectedIndexPath = [table indexPathForSelectedRow]; 
```

使用 Indexpath 我得到了行。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-09T06:03:14.350

如果您的表包含多个部分，那么您还必须跟踪该部分。为此，您必须创建一个`NSIndexPath`.

```
@interface MyTableViewController : UITableViewController {
    NSIndexPath *obj_IndexPath;
} 
```

在实现文件中，

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath 
{
       obj_IndexPath = indexPath;

       NSLog(@"%d",obj_IndexPath.row);
       NSLog(@"%d",obj_IndexPath.section);

} 
```

并且不要`release` `obj_IndexPath`忘记`dealloc`方法

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-03T12:49:36.123

我用这个：

```
if(indexPath.row == 0){
   // do something...
  }else if(indexPath.row == 1){
   // do something else ...
 } 
```

# objective-c - Xcode json错误

> ID：11877081
> 
> 赞同：0
> 
> 时间：2012-08-09T05:03:55.683
> 
> 标签：objective-c, xcode

我现在正在学习 Xcode，我有一个项目使用 php 从 Mysql 数据库中提取数据并通过 json 将其传递给我的应用程序。在数据库中，所有 varchars 都设置为 utf8_bin。

这是php：

```
header('Cache-Control: no-cache, must-revalidate');
header('Content-type: application/json');
echo json_encode($this->Idea_model->get($id)); 
```

这是输出 JSON 的片段：

```
[{"id":"1","title":"JWT blood sucka","objective":"test ","mission":"test","design_time":"80","development_time":"80","votes":"0","user_id":"0","date_created":"2012-08-03","date_modified":"2012-08-03","active":"1"},{"id":"2","title":"ford - liveDealer","objective":"to increce ","mission":"thid id a es","design_time":"80","development_time":"80","votes":"1","user_id":"1","date_created":"0000-00-00","date_modified":"0000-00-00","active":"1"}] 
```

在 xcode 中，我使用这个函数来提取 JSON [参考教程：http://www.raywenderlich.com/5492/working-with-json-in-ios-5]

```
 (void)fetchedData:(NSData *)responseData {
//parse out the json data

NSError* error;
NSDictionary* json = [NSJSONSerialization 
                      JSONObjectWithData:responseData //1

                      options:kNilOptions 
                      error:&error];

NSArray* latestLoans = [json objectForKey:@"loans"]; //2

NSLog(@"loans: %@", latestLoans); //3
} 
```

当我使用教程中的这个 JSON 文件时，它可以工作 [http://api.kivaws.org/v1/loans/search.json?status=fundraising](http://api.kivaws.org/v1/loans/search.json?status=fundraising)

但是当我使用我的 JSON 文件时，我收到以下错误。

```
[8690:207] -[__NSCFArray objectForKey:]: unrecognized selector sent to instance 0x6a10400
Current language:  auto; currently objective-c 
```

显然，我的 JSON 输出存在问题，因为我在 PHP 文件中打印了教程文件中的内容，并且效果也很好。

我也尝试过在 iOS 模拟器中“重置内容和设置”。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:10:19.770

The returned object appears to be an array but your code is treating it like a dictionary (json object/hash)

The error tells you this: it say that the message `objectForKey:` (which is a method on `NSDictionary`) is being sent to an instance of `__NSCFArray`, which is an implementation class of `NSArray`, hence my supposition...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:11:00.203

Yes I have an Idea -

```
-[__NSCFArray objectForKey:]: unrecognized selector sent to instance 0x6a10400 
```

Arrays are not dictionaries. They do not respond to objectForKey They respond to objectForIndex;

You are thinking you have an array when you have a dictionary.

Common JSON mistake.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T07:14:15.743

这是您的数据：

它是一个列表

从这里开始 --> "[" 然后对象从这里开始 "{"

```
[{"id":"1","title":"JWT blood sucka","objective":"test ","mission":"test","design_time":"80","development_time":"80","votes":"0","user_id":"0","date_created":"2012-08-03","date_modified":"2012-08-03","active":"1"} 
```

然后是逗号 ","，然后是列表中以 { "{"id":"2","title":"ford - liveDea 开头的项目

JSON 说一个列表是一个数组，一个对象是一个字典，所以翻转你的代码

```
 (void)fetchedData:(NSData *)responseData {
  //parse out the json data

     NSError* error;
     NSArray* latestLoans = [NSJSONSerialization 
                  JSONObjectWithData:responseData //1

                  options:kNilOptions 
                  error:&error];

     NSLog(@"loans: %@", latestLoans); //3

     for (int i=0; i < latestLoans.count; i++) 
     {
        NSDictionary *myLoan = (NSDictionary*)[latestLoans objectAtIndex:i];
        NSLog(@"loan:%@", myLoan);
     } 
```

……

知道了？

# cakephp - 在 CakePHP 的控制器中抓取页码

> ID：11877096
> 
> 赞同：0
> 
> 时间：2012-08-09T05:05:44.930
> 
> 标签：cakephp, cakephp-2.0, cakephp-2.1

如何在我的 php 代码的控制器中获取页码并进行设置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:12:40.893

当前页码将在 Controller 中`params`。

尝试调试它以查看其内容，或使用[DebugKit](http://github.com/cakephp/debug_kit)：

```
// Within your controller action:
debug($this->request->params); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-31T14:11:00.843

以下为您提供页面编号`cakephp 2`

```
$this->request->params['named']['page'] 
```

# python - Sqlite3 Python 数据库锁定

> ID：11877098
> 
> 赞同：1
> 
> 时间：2012-08-09T05:06:17.423
> 
> 标签：python, sql, database, sqlite

我正在尝试运行 UPDATE 查询，但我不断收到数据库锁定错误。我没有另一个一直在写的线程，所以我认为这不是问题。当我在另一个函数中运行完查询后，我也会关闭与数据库的连接。除了这个之外，我在其他任何查询中都没有收到此错误。

```
 x = sqlite3.connect("database.db")
    c = x.cursor()
    c.execute("UPDATE character SET section=? WHERE username=?", ('town','%'+self.username+'%'))
    x.commit() 
```

我已经尝试过不同的方式，例如：

```
 x = sqlite3.connect("database.db")
    c = x.cursor()
    c.execute("UPDATE character SET section='town' WHERE username=?", [self.username]) 
```

谢谢你的帮助。x.commit()

# jquery - 在预选项目上停止 HTML5 轮盘赌

> ID：11877101
> 
> 赞同：1
> 
> 时间：2012-08-09T05:06:21.410
> 
> 标签：jquery, html, html5-canvas, spinning

我发现这篇非常有趣且有用的文章。

[http://www.switchonthecode.com/tutorials/creating-a-roulette-wheel-using-html5-canvas](http://www.switchonthecode.com/tutorials/creating-a-roulette-wheel-using-html5-canvas)

在上面的教程中，轮子停在一个随机项目上。有没有办法在已经随机选择的项目上平稳地停止这个轮子？它还必须随机旋转一些时间，然后它必须在我们希望它停止的项目处停止。

请任何人帮助我。

# sql-server-2008 - 我们可以将 SQL Server 2008 R2 Express 的数据库备份恢复到 SQL Server 2008 Express

> ID：11877102
> 
> 赞同：1
> 
> 时间：2012-08-09T05:06:25.280
> 
> 标签：sql-server-2008, sql-server-2008-r2, restore, database-backups

我在“SQL Server 2008 R2”中有一个数据库备份，我可以将这个数据库备份存储在“SQL 2008 Express”中吗？

任何了解 SQL-2008 的人都欢迎分享给我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T22:17:11.440

不和'是'。

无法进行备份 (.bak)，也无法复制 .mdf，但您可以降级。

如果你愿意，你可以回到 2005 年。

我发现这个信息可以让你轻松地完成它。

[如何降级 SQL Server 数据库](http://www.mytechmantra.com/LearnSQLServer/Downgrade_SQL_Server_Database_P1.html)

直接链接：[http ://www.mytechmantra.com/LearnSQLServer/Downgrade_SQL_Server_Database_P1.html](http://www.mytechmantra.com/LearnSQLServer/Downgrade_SQL_Server_Database_P1.html)

提示：使用 Microsoft OLEDB 连接器连接到目标而不是本地客户端，您应该避免传输中的任何错误

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-25T13:55:53.510

没有什么是不可能的，你只需要发挥创造力:)

*   在一台机器上安装 SQL 2008 R2 实例，在另一台机器上安装 SQL 2008
*   打开 SQL Server Management Studio R2
*   选择您的源数据库
*   选择任务>生成脚本。
*   选择“编写整个数据库和所有数据库对象的脚本”，按“下一步”
*   选择“保存到文件”并单击“高级”按钮
*   选择“服务器版本脚本”并选择您想要的版本：200/2005/2008
*   选择“脚本的数据类型”并选择架构/数据/两者
*   单击“确定”，下一步并执行此操作！
*   使用 SQL 2008 [或其他] 将生成的文件复制到目标机器
*   登录到您的 SQL Management Studio 并打开复制的 .sql 文件...注意文件大小可能存在限制。.SQL 文件将数据插入目标数据库的顺序也可能存在问题，如果存在 FK 约束，这可能是一个问题....只需重新排序插入列表。组织好 .sql 文件后，解析它 [只是为了确定]，然后执行。

让我澄清一下这些方向。

如果可能，请在 SQL 管理工具上同时登录旧服务器和新服务器。这使这些步骤更加容易。

因此，从源服务器开始，右键单击数据库并编写脚本。有一个名为“脚本数据”的选项默认关闭，我们将其设置为 true，因此脚本将包含所有数据的插入。我们选择为表、视图、索引和键（以及触发器……不确定您是否使用其中任何一个）编写脚本。我也没有惹恼用户，因为那是有问题的。在本地 SQL 服务器上手动创建用户并授予他们对 dbs 的权限会更容易。

然后将数据库脚本写入文件。

然后选择本地SQL服务器，手动添加数据库，然后打开脚本文件在新数据库下执行，所有的表、数据、索引等都过来就好了。设置用户权限，你就是黄金。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:13:47.090

不，你不能这样做。

没有办法，没有方法，没有破解，没有变通方法，没有技巧可以将 SQL Server 的更新版本备份回旧版本。

它只是不起作用 - 它不受支持。

您需要使用某种 SQL 差异工具来同步您的结构，并可能通过导出和导入来同步您的数据，例如通过“数据导出/导入”向导或一些自定义方式。

# java - Jibx Maven插件：如何在xsd中设置Java包->定义命名空间时的Java转换

> ID：11877103
> 
> 赞同：2
> 
> 时间：2012-08-09T05:06:37.563
> 
> 标签：java, maven, jibx

我使用带有 Jibx 的 Spring Object-Xml 映射将一些 xsd 文件转换为 Java 源文件。Jibx 在构建过程中由 jibx-maven-plugin 调用。我的模式文件 (.xsd) 有一个命名空间“abcom”，但我希望生成的 Java 源位于包“a.com”下，因为其余的 Java 代码都是这样组织的。

我注意到 Java 包是根据 xsd 的命名空间自动确定的。因此，问题是：当在模式文件中定义命名空间时，使用 Jibx Maven 插件时，是否可以在 xsd->Java 转换中设置输出 Java 源文件的 java 包？

到目前为止提出的解决方案：

1) 使用构建执行

建议如下。

问题：

*   xsd->Java 转换在每次构建时运行。我想手动运行它，或者只在我更改 xml 模式时运行。
*   custom.xml 中的 prefer-inline 属性与此设置的作用不同，内联对象引用的属性

2）使用自定义xml设置Java包

此处建议：[Jibx Codegen：自定义文件 - 每个模式的包](https://stackoverflow.com/questions/11918691/jibx-codegen-customization-file-package-per-schema)

问题：它没有工作。

3) 模块化架构

此处建议：[Jibx Maven 插件：模式之间的交叉引用，当它们在不同的构建执行中转换时](https://stackoverflow.com/questions/11909972/jibx-maven-plugin-cross-reference-among-schemas-when-they-are-converted-in-diff)

问题：为每个模式设置一个 pom、为每个模式生成一个 jar 并将该 jar 导入其他模式中太复杂了。

当在 xml 模式中定义命名空间时，是否有人成功地解决了这些问题并且能够在 xsd->Java 转换中设置自定义 Java 包？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T07:33:19.397

根据[文档，可以这样做：](http://jibx.sourceforge.net/maven-jibx-plugin/schema-codegen.html)

```
 <plugin>
    <groupId>org.jibx</groupId>
    <artifactId>jibx-maven-plugin</artifactId>
    <version>1.2.4.5</version>
    <configuration>
        <schemaLocation>src/main/conf</schemaLocation>
        <includeSchemas>
            <includeSchema>myschema.xsd</includeSchema>
        </includeSchemas>
        <options>
            <package>my.package</package>
        </options>
    </configuration>
    <executions>
        <execution>
            <goals>
                <goal>schema-codegen</goal>
            </goals>
        </execution>
    </executions>
</plugin> 
```

但是你应该小心使用包名而不是来自 xsd 命名空间的默认值，因为如果你有多个命名空间，你可能会在生成的源代码中发生冲突。

您可以定义多个执行以具有具有不同包名称的不同模式。

```
 <plugin>
    <groupId>org.jibx</groupId>
    <artifactId>jibx-maven-plugin</artifactId>
    <version>1.2.4.5</version>
    <executions>
        <execution>
            <id>schemata-a</id>
            <goals>
                <goal>schema-codegen</goal>
            </goals>
            <configuration>
              <schemaLocation>src/main/conf-a</schemaLocation>
              <includeSchemas>
                <includeSchema>myschema.xsd</includeSchema>
              </includeSchemas>
              <options>
                <package>my.package.a</package>
              </options>
            </configuration>
        </execution>
        <execution>
            <id>schemata-b</id>
            <goals>
                <goal>schema-codegen</goal>
            </goals>
            <configuration>
              <schemaLocation>src/main/conf-b</schemaLocation>
              <includeSchemas>
                <includeSchema>xyz.xsd</includeSchema>
              </includeSchemas>
              <options>
                <package>my.package.b</package>
              </options>
            </configuration>
        </execution>

    </executions>
</plugin> 
```

如果您可以更改 xsd 文件中的名称空间，那么生活会更轻松。

# openlayers - 用于 openlayers 中弹出窗口的 Boxify 功能

> ID：11877108
> 
> 赞同：0
> 
> 时间：2012-08-09T05:07:17.287
> 
> 标签：openlayers

是否可以在 openlayer 中为弹出窗口提供 boxify 和动画效果？我有 anchoredPopup 。

```
var Popup = new OpenLayers.Popup.Anchored("popupId"); 
```

我知道这个显示类是 olPopup 。但是如何给出这些效果呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:21:19.337

为此，您可以使用[gxp](https://github.com/opengeo/gxp)或 ExtJs。gxp 比 ExtJs 更简单，但 ExtJs 给了你更多的选择。

# java - 如何修改方法之间的列表？

> ID：11877109
> 
> 赞同：0
> 
> 时间：2012-08-09T05:07:28.413
> 
> 标签：java

如何在validCell中修改传递给validCell的“列表”，然后返回修改后的列表？validCell 获取参数并检查是否可以从 cellsForWord 中 for 循环的 r & c 给出的起点找到拼写“单词”的单元格路径。我不认为我所拥有的是正确的。

```
public class GoodWordOnBoardFinder implements IWordOnBoardFinder {

@Override
public List<BoardCell> cellsForWord(BoggleBoard board, String word) {
    // TODO Auto-generated method stub
    List<BoardCell> list = new ArrayList<BoardCell>();
    //Loop through each cell on board to find a starting point
       for(int r=0; r < board.size(); r++)
       {
           for(int c=0; c < board.size(); c++)
           {
              if(validCell(board, r, c, list, word, 0))
                  return list;
                   //***HOW to get populated list NOT Blank list???
           }
       }
    return null;
}
public boolean validCell(BoggleBoard theBoard, int row, int col, List<BoardCell> cList, String theWord, int letterIndex ){

    BoardCell cell = new BoardCell(row, col);

   String letter = theWord.substring(letterIndex, letterIndex+1);
    //Check the whole world has been found
   if(letterIndex >= theWord.length())
       return true;

   //Check if row or column is off the board
   if(row > theBoard.size() || col > theBoard.size())
       return false;
   //Check if cell has already been visited
   if(cList.contains(cell))
       return false;
   //Check if cell face isn't the letter we're looking for
   if(!theBoard.getFace(row, col).equals(letter))
   {
       //Make sure the letter isn't a Q bc Boggle is special
       if(!(theBoard.getFace(row, col).equals("Qu") && letter.equals("q")))
           return true;
   }
   cList.add(cell); 

  //Check all neighboring cells for letters of the word
  int[] rdelta = {-1,-1,-1, 0, 0, 1, 1, 1};
  int[] cdelta = {-1, 0, 1,-1, 1,-1, 0, 1};
  for(int k=0; k < rdelta.length; k++){
    if (validCell(theBoard, row+rdelta[k], col+cdelta[k], cList, theWord, letterIndex+1))
        return true;
   }
  cList.remove(cell);
return false;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:10:00.980

In Java, Objects are passed byval (see [this response](https://stackoverflow.com/questions/40480/is-java-pass-by-reference)). This essentially means that a reference to the object itself is passed in, and translated back into the original object, not a copy of the object. You can just modify list and not worry about returning it, as any modifications will be kept.

```
Example:
List<String> test = new ArrayList<String>();
test.add("Test 1");
OtherClass otherClass = new OtherClass(test);
...
otherClass.modifyList(test);
...
System.out.println(test.size()); 
```

In this example, `modifyList` will hypothetically add another string to the passed in list.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:10:53.910

Any changes you make `cList` inside the validCell will automatically be reflected to the original list.

Java is pass by value: In this case it is passing the value of the reference. So both will be pointing to the same object. Any changes made in validCell to `cList` will reflect on `list`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:25:30.467

考虑将列表转换为类成员。然后你不必将它传递给方法：

```
public class GoodWordOnBoardFinder implements IWordOnBoardFinder {

   // The board
   List<BoardCell> board;

   // methods
   public boolean validCell(BoggleBoard theBoard, int row, int col, String theWord, int letterIndex ){
     // access/modify the board (= what you called cList)
   }
} 
```

# javascript - 修改 DOM 后如何确保 DOM 再次准备就绪

> ID：11877112
> 
> 赞同：0
> 
> 时间：2012-08-09T05:07:59.887
> 
> 标签：javascript, jquery-ui, jquery, dom

**我们先来写代码：**

```
$(function(){

   //Step-2) Load and a template from server and APPEND to BODY  
   function loadTemplate(path, callback) {
        $.get(path, null, function (t) {
            $('body').append(t);
        }, 'text');

        if (callback != undefined && typeof (callback) == 'function') {
            callback.apply(window);
        }
    }

    //Step-3) a callback method
    function showProduct() {
        //setTimeout(function () {
        //    $('#prodBasicView').tmpl(prod).appendTo('#prodView');
        //}, 100);

        alert($('#prodBasicView').length); // it alerts 0, But I am expecting 1

    }

    //Step-1) initiating loading template
    loadTemplate('/template/remote-template2.htm', showProduct);
}); 
```

**远程模板2.htm：-**

```
 <div id="prodBasicView" style="display:none;">
       <div class="myProd">
        <h3> Product Name</h3>
           <span>Price: $ 700 </span>
       </div>
     </div> 
```

**问题：**

*   *loadTemplate*方法成功加载了一个模板 ( *remote-template2.htm* ) 并附加到正文。
*   成功加载模板后，将触发传递的回调函数*showProduct*方法。
*   在*showProduct*方法中，我尝试使用加载的模板（*$('#prodBasicView')*），但它返回空数组。
*   **但是，如果我将*showProduct*的执行延迟几毫秒，它可以工作**，但我认为这不是一个好习惯
*   以上点似乎是附加的DOM元素还没有准备好

*   **如何确保修改/操作的 DOM 在使用它们之前再次准备好？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:10:48.373

在我看来，您只需要将回调调用代码放在`$.get`回调中，如下所示：

```
function loadTemplate(path, callback) {
    $.get(path, null, function (t) {
        $('body').append(t);
        if (callback != undefined && typeof (callback) == 'function') {
            callback.apply(window);
        }
    }, 'text');
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:11:11.877

`callback`在 ajax 回调处理程序中执行你的。（因为 ajax 是**异步**工作的）

```
 function loadTemplate(path, callback) {
        $.get(path, null, function (t) {
            $('body').append(t);
            if (callback != undefined && typeof (callback) == 'function') {
               callback.apply(window);
            }
        }, 'text');
    } 
```

# android - 如何在没有php的情况下在android中上传文件？

> ID：11877113
> 
> 赞同：1
> 
> 时间：2012-08-09T05:08:13.467
> 
> 标签：android, file-upload

我想在android中上传一个文件，以后应该可以下载它。我看过一些例子，而且大多数人都使用PHP服务器上传文件。我的问题是是否可以在没有php的情况下上传文件？如果是这样，任何人都可以向我展示一些不使用 php 的示例，因为我对 php 没有任何想法，我无法创建用于上传的 php 服务器。我希望我的问题很清楚。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:13:01.637

您可以使用`Dropbox`API 在 Android 中上传文件

读[`Upload a file using Dropbox api`](https://www.dropbox.com/developers/start/files#android)

# ruby - 无法安装 hbase-stargate gem

> ID：11877117
> 
> 赞同：0
> 
> 时间：2012-08-09T05:08:17.843
> 
> 标签：ruby, rubygems, hbase, stargate

我正在尝试在具有 centos-5.8 操作系统的 hadoop 机器上安装 hbase-stargate gem。Hbase 已经安装好了。我得到以下错误。

gem install hbase-stargate 构建原生扩展。这可能需要一段时间... 错误：安装 hbase-stargate 时出错：错误：无法构建 gem 原生扩展。

/usr/bin/ruby extconf.rb 检查 curl-config ... 不检查 -lcurl 中的 main() ... 否 *** extconf.rb 失败 *** 由于某种原因无法创建 Makefile，可能缺少必要的库和/或标题。检查 mkmf.log 文件以获取更多详细信息。您可能需要配置选项。

提供的配置选项： --with-opt-dir --without-opt-dir --with-opt-include --without-opt-include=${opt-dir}/include --with-opt-lib -- without-opt-lib=${opt-dir}/lib --with-make-prog --without-make-prog --srcdir=. --curdir --ruby=/usr/bin/ruby --with-curl-dir --without-curl-dir --with-curl-include --without-curl-include=${curl-dir}/include --with-curl-lib --without-curl-lib=${curl-dir}/lib --with-curllib --without-curllib extconf.rb:34: 找不到 libcurl 或 curl/curl.h （运行时错误）

尝试将 --with-curl-dir 或 --with-curl-lib 和 --with-curl-include 选项传递给 extconf。

Gem 文件将继续安装在 /usr/lib64/ruby/gems/1.8/gems/patron-0.4.18 以供检查。结果记录到 /usr/lib64/ruby/gems/1.8/gems/patron-0.4.18/ext/patron/gem_make.out

它给出了关于 libcurl 的错误，但是 libcurl 和 libcurl-devel 包也在那里......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:13:43.720

在带有 Rails 3.2.12 的 Ubuntu 12.04 上安装“赞助人”gem 时，我也遇到了这个错误。

我使用以下方法解决了这个问题：

```
sudo apt-get install libcurl3-dev 
```

接着：

```
bundle 
```

我希望它会有所帮助

# c++ - fstream 文件读取失败

> ID：11877120
> 
> 赞同：0
> 
> 时间：2012-08-09T05:08:34.380
> 
> 标签：c++, tokenize, fstream

我想传递一个 fstream 对象并对单词进行标记。它总是会打印无法打开的文件`hasNextToken()`。愿有人帮助我。

//main.cpp

```
int main() {
    string filename = "input.txt";
    fstream inputStream(filename);
    Tokenizer t(inputStream);
    while (t.hasNextToken()) {
    cout << t.nextToken();
 }
} 
```

//Tokenizer.h

```
class Tokenizer {
    fstream fin;

public:
    Tokenizer(fstream& file)
    {
        fin << file;
    }

    bool hasNextToken() {
        if (!fin) {
            cout << "Could not open file: " << endl;
            exit(0);
        }
        return true;
    }

    string nextToken() {
        string line;
        getline(fin, line);
        if (fin) {
            istringstream sin(line);
            string word;
            sin >> word;
            return word;

        }
    }
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:16:55.800

尝试这个：

```
class Tokenizer {
    fstream& fin;

public:
    Tokenizer(fstream& file)
    : fin(file)
    {}

...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:57:11.263

我不确定这是否可行，我现在无法测试，但您可以快速完成：

```
int main() {
    string filename = "input.txt";
    fstream inputStream(filename, ios::in); // add second argument
    // other stuff here
} 
```

干杯

# oracle - Sql Insert 语句返回“零/未插入行”

> ID：11877121
> 
> 赞同：9
> 
> 时间：2012-08-09T05:08:38.193
> 
> 标签：oracle, plsql, insert

我正在编写一个`INSERT`语句以在 PL/SQL 块中的表中插入一行。如果此插入失败或未插入任何行，则我需要回滚先前执行的更新语句。

我想知道该`INSERT`语句在什么情况下可以插入 0 行。如果插入由于某些异常而失败，我可以在异常块中处理它。是否存在`INSERT`可能成功运行但不引发异常的情况，我需要检查是否`SQL%ROWCOUNT < 1`？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-08-09T05:22:53.740

如果您的`INSERT`语句结构为`INSERT ... VALUES`，那么它将成功插入一行或生成异常。没有必要检查`SQL%ROWCOUNT`.

如果你的`INSERT`语句结构为`INSERT ... SELECT`，那么`SELECT`语句可能会返回 0 行，`INSERT`语句将插入 0 行，并且不会抛出异常。如果您认为这是一个错误，则需要在语句运行`SQL%ROWCOUNT`后检查。`INSERT`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-09T05:21:18.697

是的，要找出受 DML 语句（INSERT、UPDATES 等）影响的行数，您可以检查`SQL%ROWCOUNT`

```
INSERT INTO TABLE
SELECT col1, col2,....
  FROM TAB;

if SQL%ROWCOUNT=0 then
   RAISE_APPLICATION_ERROR(-20101, 'No records inserted');
end if; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-26T08:54:38.223

要完成上述评论之一：

*   如果您在`INSERT INTO ... VALUES`没有任何提示的情况下请求 DML 语句，那么系统将返回成功时创建的 1 行或失败时的 ORA 错误

*   但是，如果您请求`INSERT INTO ... VALUES`带有提示的 DML 语句：IGNORE_ROW_ON_DUPE_KEY，那么您将创建 1 行或创建 0 行以防该行已经存在，并在其他失败的情况下出现 ORA 错误

*   如果您`INSERT ... SELECT`按照贾斯汀的上述要求，您还可以期望创建 0 行，因为对 SELECT 的内部调用确实可以返回

# virtual-machine - 我应该在我的虚拟机上放多少内存？

> ID：11877126
> 
> 赞同：0
> 
> 时间：2012-08-09T05:09:06.070
> 
> 标签：virtual-machine, virtualization, ram

我正在我的窗口上安装虚拟盒子

我将使用它进行匿名网页浏览，仅此而已。

我还将在 VM 上安装 ccleaner。

总量为 2GB。

我应该在我的虚拟机上放多少内存？

哪个版本的窗口最适合匿名 Web 浏览？

linux 是匿名网页浏览的更好选择吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:29:03.887

尽管我同意上述评论，但添加一些信息并没有什么坏处。我认为你的意思是你总共有 2GB 内存。

首先，所需的 ram 数量与您实际使用它（VM）的数量成正比，以及您是否将并行使用您的主机。

例如，我有一个带有 8 GB 内存的 64 位系统 windows 7。我经常将 1 个 linux VM 与我的主机并行使用。所以我每个虚拟机都有 2GB 的专用空间。虽然我有多个 VM，但几乎可以保证我不会同时使用两个 VM。但是，我广泛地一起使用 VM + 主机。

现在，如果您要进行大量浏览，那可能意味着很多标签，可能包括您的视频和内容。由于您的总量为 2GB，因此我不建议为您的 VM 分配超过 512MB 的空间，除非您愿意在运行 VM 时牺牲主机性能。

匿名浏览与操作系统关系不大，更重要的是浏览器或中间应用程序。唯一可能的区别是，例如，如果您使用 Linux 并使用开源应用程序，例如 在 Windows 上可能可用也可能不可用的[Tor 。](http://www.torproject.org/)[编辑：刚刚验证了 Windows 上也确实存在 tor]

如果您已经在使用 FF/Ch/IE 的“开始隐私浏览”的常用功能，CCleaner 将毫无用处。但是，这不会在您的历史记录和缓存中留下任何内容。

我也相信你是一些令人困惑的匿名浏览。使用 VM 或 CCcleaner 是指您的机器本地的匿名性，即如果其他人使用您的电脑，他/她将无法通过普通方式跟踪您所做的事情。

但是，您的真实 IP 和请求信息通常不会从您的网络中隐藏。使用 Tor 或某些代理等会导致网络匿名，您在访问过的站点或您所在地区可能被阻止的站点上不会留下任何痕迹。

另一件事是，如果你有一个 32 位机器/操作系统是 windows，它实际上不会使用超过 3GB 的内存。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:25:34.813

关于 ram：0.5 gb 应该足够了，但无论如何，当你告诉它你要在 vm 上安装什么时，virtual box 会推荐这些值。

Windows 7 是迄今为止我看到的从 MS House 推出的最好的操作系统，尤其是在安全方面。

IE9 隐私浏览完全可以在没有虚拟机的情况下完成您的要求。

# .net - 为什么 3DES 不加密一个块？

> ID：11877128
> 
> 赞同：1
> 
> 时间：2012-08-09T05:09:17.103
> 
> 标签：.net, encryption, cryptography, 3des

我正在尝试实现我过去提出的这个问题[Securely Encrypt 64bits w/o per element overhead？](https://stackoverflow.com/q/11463421/34537)

在我进入的即时窗口中`TripleDES.Create().LegalBlockSizes.First()`，我得到了

```
{System.Security.Cryptography.KeySizes}
    MaxSize: 64
    MinSize: 64
    SkipSize: 0 
```

64bits/8bits 每字节是 8bytes。long 的长度到底是多少。无论如何，我通过下面的代码运行它并抛出异常。块的长度为 16 字节。不是我想要的...我会问如何将其更改为 64 位，但结果表明最小值和最大值都是 64 位，那么为什么我要改为 128 位？

```
long enc(long v, byte[] iv)
{
    using (var m = new MemoryStream())
    {
        using (var c = des.CreateEncryptor(des.Key, iv))
        using (var s = new CryptoStream(m, c, CryptoStreamMode.Write))
        {
            var b = BitConverter.GetBytes(v);
            s.Write(b, 0, b.Length);
        }
        m.Flush();
        var arr = m.ToArray();
        if(arr.Length!=8)
            throw new Exception();
        return BitConverter.ToInt64(arr, 0);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:11:48.210

我相信这是由于填充。.NET Framework 中对称密码的默认[填充模式](http://msdn.microsoft.com/en-us/library/system.security.cryptography.paddingmode.aspx)是 PKCS7：

> PKCS #7 填充字符串由一个字节序列组成，每个字节等于添加的填充字节的总数。

如果添加一行：

```
des.Padding = PaddingMode.None; 
```

在其余的加密代码之前，您应该发现该数组现在长度为 8 个字节。当然，这意味着您必须确保任何要加密的明文都能被块长度整除。

而且，您仍然需要传输另外 8 个字节的 IV。IV 不应重复使用，因此与纯文本相比，您的存储/传输大小仍然增加了一倍。

* * *

[填充](http://en.wikipedia.org/wiki/Padding_%28cryptography%29)：

> 密码块链接 (CBC) 模式是一种流行的块密码操作模式。它需要长度是块大小的倍数（通常为 8 或 16 字节）的消息，因此必须填充消息以使它们达到此长度。一种方法是用 1 位后跟 0 位来填充最后一个块。*如果输入恰好填满了整个块，则会添加一个“虚拟块”来容纳填充；否则，输入明文的结尾可能会被误解为填充。*

（添加了重点。CBC 是.NET Framework 中密码的默认[模式）](http://msdn.microsoft.com/en-us/library/system.security.cryptography.ciphermode)

# ruby-on-rails - Amount in words should come automatically after total amount

> ID：11877130
> 
> 赞同：1
> 
> 时间：2012-08-09T05:09:24.833
> 
> 标签：ruby-on-rails, ruby

In my application I have fields like tax_1_amount, tax_2_amount, tax_3_amount, invoice_amount and total_invoice_amount. When the total invoice amount is calculated then the amount_in_words field should be automatically updated by the total amount in words. Total amount is calculated as follows:

```
@total_tax_amount = @invoice.tax_1_amount + @invoice.tax_2_amount + @invoice.tax_3_amount
@total_amount = @total_tax_amount + @invoice.invoice_amount 
```

Can anyone tell me if there is any generator or any gem for that. Or what code shall I write for that.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-15T03:52:40.393

你需要

```
include ActionView::Helpers::NumberHelper 
```

如果尝试使用视图以外的任何地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:26:38.810

我不确定我是否理解，但请查看此链接

[http://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_to_human](http://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_to_human)

或者

[https://github.com/bcarrere/currency-in-words](https://github.com/bcarrere/currency-in-words)

# php - Generate and send excel file through mail

> ID：11877132
> 
> 赞同：0
> 
> 时间：2012-08-09T05:09:35.090
> 
> 标签：php, excel

> **Possible Duplicate:**
> [Generate and email excel file as an attachment - Error message: unable to read file](https://stackoverflow.com/questions/11753828/generate-and-email-excel-file-as-an-attachment-error-message-unable-to-read-f)

i want to generate excel file and send it through mail.

This is my code. The file is generated successfully but email contains a file with size of 0k. When i open it, it will show a message unable to read file

```
//to generate EXCEL files:

require_once('documentation/Excel_Writer/Writer.php'); 

if($_POST['submit'] == "Email as EXCEL"){

 // get values

  $dated1=$res_hist[0]['dated'];
  $subject1=$res_hist[0]['businesscategory'];
  $hisstartdate=$dateto;
  $hisenddate=$datefrom;

//format of date//
  $date = $hisstartdate;
               $history= date(  "j F Y", strtotime( $date ) );
               $date1 = $hisenddate;
               $history1= date(  "j F Y", strtotime( $date1 ) );
    //print_r($date);die;          

    //$path="businesshistoryxls/";

        $workbook = new Spreadsheet_Excel_Writer();
        //print_r($workbook);die;
        $format_bold =& $workbook->addFormat();
        $format_normal =& $workbook->addFormat();
        $format_bold->setBold(1);
        $format_normal->setBold(0);
        $worksheet =& $workbook->addWorksheet();

        $worksheet->write(0, 0, "TransactionID", $format_bold);
        $worksheet->write(0, 1, "Date", $format_bold);
        $worksheet->write(0, 2, "Type", $format_bold);
        $worksheet->write(0, 3, "Transaction Details", $format_bold);
        $worksheet->write(0, 4, "Currency", $format_bold);
        $worksheet->write(0, 5, "Amount", $format_bold);
        $worksheet->write(0, 6, "Balance", $format_bold);

        $sqlza = "Select * from BUSINESSTRANSACTION where isACTIVE=1 and BusinessID=".$_SESSION['businessID']." order by dated DESC";       
       $resza = getXbyY($sqlza, "array");
       $rowsza = count($resza);
      // print_r($resza);die;
        if($rowsza>0)
        {
        for($i=0;$i<$rowsza;$i++)
            {
                $worksheet->write($i+1, 0, $resza[$i]['transactionID'], $format_bold);
                $worksheet->write($i+1, 1, $resza[$i]['dated'], $format_bold);
                $worksheet->write($i+1, 2, $resza[$i]['transactionTYPE'], $format_bold);
                $worksheet->write($i+1, 3, $resza[$i]['transactionDETAILS'], $format_bold);
                $worksheet->write($i+1, 4, $resza[$i]['currency'], $format_bold);
                $worksheet->write($i+1, 5, $resza[$i]['amount'], $format_bold);
                $worksheet->write($i+1, 6, $resza[$i]['balance'], $format_bold);

            }
        }    
     $type=".xls";
    $xlsname=$path.''.$hisstartdate.''.to.''.$hisenddate.''.$type;
 $workbook->send($xlsname);
    //$worksheet->Output($xlsname, 'F');
$email_to = $res_pers[0]['email'];
//print_r($xlsname);die;
$email_from="admin@fastcashier.com";
$email_subject = "Transactions's History";
$headers  = 'MIME-Version: 1.0' . "\r\n";
$headers.= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";
$headers.= 'From:'.$email_from."\r\n";
$email_message="Dear ".$username."<br><br>";
$email_message.="Please check the attachment.<br>";
$email_message .="<br/>";
$email_message .="";
$my_path =$_SERVER['DOCUMENT_ROOT']."/".$xlsname;
//print_r($my_path);die;
mail_attachment($email_from, $email_to, $email_subject, $email_message ,$my_path);
//print_r($mail_attachment);die;
unlink($xlsname);
$msgID=67;
        $workbook->close();
unset($_SESSION['Historyb']);
} 
```

mail_attachment function:

```
function mail_attachment($from , $to, $subject, $message, $attachment){

$fileatt = $attachment; // Path to the file                  
$fileatt_type = "application"; // File Type 
$start= strrpos($attachment, '/') == -1 ? strrpos($attachment, '//') : strrpos($attachment, '/')+1;
$fileatt_name = substr($attachment, $start, strlen($attachment)); // Filename that will be used for the file as the     attachment 

$email_from = $from; // Who the email is from 
$email_subject =  $subject; // The Subject of the email 
$email_txt = $message; // Message that the email has in it 

$email_to = $to; // Who the email is to

$headers = "From: ".$email_from;
//$headers .= "\nCc: payment@comtranslations.com";
//$headers .= "\nCc: ".$o3->email;
$file = fopen($fileatt,'rb'); 
$data = fread($file,filesize($fileatt)); 
fclose($file); 
$msg_txt="";

$semi_rand = md5(time()); 
$mime_boundary = "==Multipart_Boundary_x{$semi_rand}x"; 

$headers .= "\nMIME-Version: 1.0\n" . 
        "Content-Type: multipart/mixed;\n" . 
        " boundary=\"{$mime_boundary}\""; 

$email_txt .= $msg_txt;

$email_message .= "This is a multi-part message in MIME format.\n\n" . 
            "--{$mime_boundary}\n" . 
            "Content-Type:text/html; charset=\"iso-8859-1\"\n" . 
           "Content-Transfer-Encoding: 7bit\n\n" . 
$email_txt . "\n\n"; 

$data = chunk_split(base64_encode($data)); 

$email_message .= "--{$mime_boundary}\n" . 
              "Content-Type: {$fileatt_type};\n" . 
              " name=\"{$fileatt_name}\"\n" . 
              //"Content-Disposition: attachment;\n" . 
              //" filename=\"{$fileatt_name}\"\n" . 
              "Content-Transfer-Encoding: base64\n\n" . 
             $data . "\n\n" . 
              "--{$mime_boundary}--\n"; 

$ok = @mail($email_to, $email_subject, $email_message, $headers); 

if($ok) { 

} else { 
    die("Sorry but the email could not be sent. Please go back and try again!"); 
} 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:22:33.900

查看 的代码`Spreadsheet_Excel_Writer::close()`，看起来它做了一些最终写入。尝试调用`$workbook->close()`之前`mail_attachment`。

# mysql - DB Table Design Structure for Sepeartion based on Type

> ID：11877136
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:09:45.863
> 
> 标签：mysql, database, database-design

I have a Different Real Estate Projects Listed In My website.

The Projects are separated as below.

```
affordable
budget segment 
Luxurious  
affordable & budget segment 
budget segment & Luxurious  
affordable,budget segment &  Luxurious.

```

I will use the above classification to populate in the similar projects tab in the Project Description page.

For Eg

```
ProjectName          Class
ProjectA           Affordable
ProjectB           Budget Segment
ProjectC           Affordable & Budget Segment
ProjectD           Budget Segment               
ProjectE           Affordable
ProjectF           Affordable, Budget Segment &  Luxurious 

```

Now in the Project Description page for ProjectA people should see ProjectC, ProjectE, ProjectF in Similar Projects Tab Since ProjectA is Affordable and ProjectC, ProjectE, ProjectF contains houses under Affordable Segment.

Suggest me a Single Column table Structure to the above Requirement and a query to get Similar Projects.

Thank You

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T10:25:16.197

同意上面的评论，你应该使用一对多的关系。如果您*必须*将其仅作为一列，则：

为这些中的每一个分配一个 int 值，并使用**numeric`+`来存储**和**按位 AND ( `&`) 来检索**不同的组合。

```
Affordable = 1
Budget Segment = 2
Luxurious = 4         # Note: it's Four, not Three. 
```

请注意`4+2+1=7`. 将其存储`proj_val`在`proj_description`表中。

将这些值放入您的项目列表中：

```
ProjectName        Class                            int val
-----------        -----                            -------
ProjectA           Affordable                             1
ProjectB           Budget Segment                         2
ProjectC           Affordable & Budget Segment        1+2=3
ProjectD (=ProjB)  Budget Segment                         2
ProjectE (=ProjA)  Affordable                             1
ProjectF           Affordable, Budget & Luxurious   1+2+4=7
no Proj ?          Luxurious                              4
........           Affordable + Luxurious             1+4=5
........           Budget + Luxurious                 2+4=6 
```

要获得项目 A 的相似项，请执行以下操作：

```
SELECT * FROM `proj_description` WHERE `proj_val` & 1 != 0 
```

根据`1`上表计算。所以 Proj C ( `proj_val=3`) 将给出 Proj F 作为结果：`3 & 7 = 3`它不为零。

# mysql - 如何在下面提到的条件下获取数据？

> ID：11877138
> 
> 赞同：0
> 
> 时间：2012-08-09T05:09:49.143
> 
> 标签：mysql

我有一个名为 的表`Users`，其中有两个字段`username`和`password`。同样，我还有一张表，其中的字段和`username`字段很少。

我有一个登录页面，我必须检查表中是否存在`username`和，如果存在，我想从与该 对应的另一个表中获取数据。`password``Users``username`

单个用户可以有多个数据，因此我必须为各个用户获取所有数据。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:19:41.237

您可能想要使用子查询...有效地像这样的两个查询

```
mysql> select * from other
    -> where name = 
    -> (select name from users where name = '<USER_NAME>' and password = '<PASSWORD>'); 
```

这是一个例子：

```
mysql> select * from users;
+------+------+----------+
| id   | name | password |
+------+------+----------+
|    1 | one  | one      |
|    2 | two  | two      |
+------+------+----------+
2 rows in set (0.00 sec)

mysql> select * from other;
+------+-------+
| id   | name  |
+------+-------+
|   20 | two11 |
|   10 | two   |
|   30 | two   |
+------+-------+
3 rows in set (0.00 sec)

mysql> select * from other where name = (select name from users where name = 'two' and password = 'two');
+------+------+
| id   | name |
+------+------+
|   10 | two  |
|   30 | two  |
+------+------+
2 rows in set (0.00 sec) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:11:47.410

使用两个查询。如果用户名和密码匹配，则获取用户 ID。然后在他们登录后使用该 id 来获取额外的数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:17:59.013

我假设您正在与关系数据库交谈。如果您的意思是在将“用户名”连接到“数据”表之后，“数据”表中的多个条目可能由相同的用户名作为键，那么这种答案本身，使用相同的键，但放置不同的数据，DBMS 应该处理其余的。

如果您担心数据表中元组的唯一性，那么

CONSTRAINT tableName_a_b_pk PRIMARY KEY (a,b) 其中 be 是表“数据”的判别式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T05:18:24.993

```
select table2.* from table2, user where table2.username=user.username AND user.username='username' AND user.password='password' 
```

# android - Stop auto start of Activity in Android

> ID：11877146
> 
> 赞同：0
> 
> 时间：2012-08-09T05:10:53.887
> 
> 标签：android, android-layout, android-intent

I've a countdown timer. In the end of 60 secs I started a new activity. It works fine. But if I press home button or back button before the countdown timer ends, after that particular time the activity starts automatically even if I'm in home screen. I finished the activity using this.finish(); But still doesn't work. Please provide me a solution.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T07:21:48.897

当用户按下主页或返回按钮时，计时器线程在后台运行，因此您必须覆盖 onDestroy() 方法并停止其中的计时器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:18:03.127

您必须根据您的要求处理您的计时器`onPause()/onResume()`或您的活动。`onDestroy()`

例如。如果您只想停止计时器，请使用：

`timer.cancel()`在`onDestroy()`

像这样的东西：

```
@Override
protected void onDestroy() {
timer.cancel();
super.onDestroy(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:18:05.827

您需要在代码中禁用主页和返回按钮，因为后台线程会继续运行，因此即使您在主屏幕上，您的活动也会开始。我给你这个代码来禁用你的活动的主页按钮。

```
 @Override
 public void onAttachedToWindow() {
 this.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD);
 super.onAttachedToWindow();
 } 
```

这将在您进行该活动时禁用您的主页按钮。

希望这对您有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T05:18:17.400

您可以覆盖活动的 OnPause 事件。当活动被发送到后面时，完成它。

```
 @Override
    public void onPause(){
            super.onPause();
            timer.cancel();
            this.finish();
    } 
```

# c# - how to display future date in datetimepicker in windows application?

> ID：11877152
> 
> 赞同：0
> 
> 时间：2012-08-09T05:11:27.867
> 
> 标签：c#, .net-3.5

I am creating an windows application in that i used two forms.First form contain first datetimepicker and in second form contain second datetimepicker .If i am select any date in first datetimepicker then in second datetimepicker display future date which is 6 month differences.following is example

if i select date in first datetimepicker i.e. 8/9/2012 (mm:dd:yyy) then

in second datetimepicker display date i.e. 2/8/2013(mm:dd:yyy) there is must 6 month difference in second datetimepicker. .

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:13:31.990

在第二次阅读您的问题时，我现在看到您有两种不同的形式。您需要`DateTimePicker.ValueChanged`在第一种形式中公开事件，然后`DateTimePicker.Value`在第二种形式中公开属性。例如：

```
class DateEventArgs : EventArgs
{
    public DateTime Date {get; private set;}

    public DateEventArgs(DateTime d) 
        : base()
    {
        this.Date = d;
    }
}

class FirstForm : Form
{
    DateTimePicker dtp = new DateTimePicker();

    public event EventHandler<DateEventArgs> DateSelected;
    protected virtual void OnDateSelected(DateEventArgs e)
    {
        EventHandler<DateEventArgs> handler = DateSelected;
        if(handler != null) handler(this, e);
    }

    public FirstForm()
    {
        this.Controls.Add(dtp);
        dtp.ValueChanged += new EventHandler(dtp_ValueChanged);
    }

    void dtp_ValueChanged(object sender, EventArgs e)
    {
        DateEventArgs dea = new DateEventArgs(dtp.Value.Date);
        OnDateSelected(dea);
    }
}

class SecondForm : Form
{
    DateTimePicker dtp = new DateTimePicker();

    public DateTime SelectedDate
    {
        set { dtp.Value = value; }
    }

    public SecondForm()
    {
        this.Controls.Add(dtp);
    }
}

static class Controller
{
    FirstForm f1;
    SecondForm f2;

    static void Go()
    {
        f1 = new FirstForm();
        f2 = new SecondForm();
        f1.DateSelected += new EventHandler<DateEventArgs>(f1_DateSelected);

        f1.Show();
        f2.Show();
    }

    static void f1_DateSelected(object sender, DateEventArgs e)
    {
        f2.SelectedDate = e.Date.AddMonths(6);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:30:04.180

这应该有帮助

```
using System;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
    public Form1()
    {
        InitializeComponent();
    }

    private void Form1_Load(object sender, EventArgs e)
    {
        // Initialize picker 
        dateTimePicker2.Value = Convert.ToDateTime(ObjectForValue1).AddMonths(6);
    }

    private void dateTimePicker2_ValueChanged(object sender, EventArgs e)
    {
        // Set title bar to selected date.
        DateTime result = dateTimePicker2.Value;
        this.Text = result.ToString();
    }
    }
} 
```

# ruby-on-rails - Radio buttons using simple_form on a has_many through association specifically on the belongs_to side of the association

> ID：11877153
> 
> 赞同：2
> 
> 时间：2012-08-09T05:11:35.517
> 
> 标签：ruby-on-rails, simple-form

I'm trying to figure out how can I have list of physicians in my appointment form as radio_buttons. Now if I use "f.input :physician_id, :as => :radio_buttons" I'm getting a "Yes/No" radio buttons. And if I change to "f.association :physician_id, :as => :radio_buttons", then I'm getting RuntimeError "Association :user_id not found".

By the way, i'm using simple_form for this.

Thanks.

My Appointment form:

```
<%= simple_form_for(@appointment) do |f| %>
  <div class="form-inputs">
    <%= f.hidden_field :patient_id %>
    <%= f.input :physician_id, :as => :radio_buttons %>
    <%= f.hidden_field :appointment_date, :value => DateTime.now  %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Create Appointment" %>
  </div>
<% end %> 
```

My models:

/app/models/physician.rb

```
class Physician < ActiveRecord::Base
  has_many :appointments
  has_many :patients, :through => :appointments

  attr_accessible :physician_name
end 
```

/app/models/appointment.rb

```
class Appointment < ActiveRecord::Base
  belongs_to :physician
  belongs_to :patient

  attr_accessible :physician_id, :patient_id, :appointment_date, :state
end 
```

/app/models/patient.rb

```
class Patient < ActiveRecord::Base
  has_many :appointments
  has_many :physicians, :through => :appointments

  attr_accessible :patient_name
end 
```

My Controllers:

/app/controllers/appointment_controller.rb

```
class AppointmentsController < ApplicationController
  def new
    @appointment = Appointment.new
    @appointment.patient_id = params[:patient_id]
  end

  def create
    @appointment = Appointment.new(params[:appointment])

    if @appointment.save
      flash[:notice] = "New appointment record created"
      redirect_to dashboards_path
    else
      render 'new'
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T14:09:06.397

您应该将关联名称传递给`association`方法

```
f.association :physician, :as => :radio_buttons 
```

# wcf - Error with WCF activation

> ID：11877154
> 
> 赞同：0
> 
> 时间：2012-08-09T05:11:37.627
> 
> 标签：wcf

As you will notice the [namespace|app name] is not the same from the error to what I used in the config. The files were renamed in the project and I cannot see where it is getting the default service1 name from. I have rebuilt the project and re-published. Do you see anything I may be missing?

> Error: The type 'EncServWeb.Service1', provided as the Service attribute value in the ServiceHost directive, or provided in the configuration element system.serviceModel/serviceHostingEnvironment/serviceActivations could not be found.

```
web.config
serviceActivations  
        add service="EncServWeb.Serv" relativeAddress="~/Serv.svc"
serviceActivations 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T19:51:25.453

在此视频中，我发现必须将服务名称从默认值重新分配给 app.config 文件中新命名的名称。[创建您的第一个 WCF 服务](http://channel9.msdn.com/shows/Endpoint/Endpoint-Screencasts-Creating-Your-First-WCF-Service/)。希望这对其他人有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T07:04:08.160

我假设您已经编辑了 .svc 文件和网络配置？

不仅仅是网络配置，对吧？如果您没有更改 .svc 文件的内容，这就是错误所在...

如果这不是原因，并且您在 IIS 中托管... [http://blogs.msdn.com/b/chrsmith/archive/2006/08/10/wcf-service-nesting-in-iis.aspx](http://blogs.msdn.com/b/chrsmith/archive/2006/08/10/wcf-service-nesting-in-iis.aspx)

# javascript - jQuery create multi-level unordered list

> ID：11877155
> 
> 赞同：0
> 
> 时间：2012-08-09T05:11:39.667
> 
> 标签：javascript, jquery, jquery-autocomplete

I'm trying to create a multi-level unordered list with jQuery.

In reality i'm sticking this into the jQuery autocomplete plugin, but i've dumbed down a [jsFiddle](http://jsfiddle.net/378rc/4/) keep it simple with hardcoded data and without the plugin.

First the hardcoded output (what i want to see), then the dynamic output (with the code im trying).

You can see what i've tried, but i'm not having too much luck so far. :)

Can anyone help me out? Or has anyone done this before?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:19:49.487

尝试使用 categoryID： [jsFiddle](http://jsfiddle.net/378rc/9/)

希望这可以帮助...

# vim - 如何在多行 Vim 缩写中使用 Eatchar

> ID：11877160
> 
> 赞同：2
> 
> 时间：2012-08-09T05:11:54.477
> 
> 标签：vim

我想在 Vim 中触发多行缩写，而不输入“触发”字符，并且光标在特定位置以插入模式结束。

我快到了，只是没能成功。

到目前为止，我已将以下内容添加到我的 _vimrc 中：

```
" eat characters after abbreviation
function! Eatchar(pat)
    let c = nr2char(getchar(0))
    return (c =~ a:pat) ? '' : c
endfunction
iabbr <silent> if if ()<left><C-R>=Eatchar('\s')<CR>

:iabbr <silent> rfF <- function( )<CR>{<CR>  <CR>}<Esc>3k$h<Insert><c-r>=Eatchar('\m\s<bar>/')<cr> 
```

这是最成功的，因为当我键入`rfF Ctr-]`以触发缩写的扩展时，它会产生以下内容：

```
<- function(  )
{

} 
```

但是，结果取决于我如何触发缩写。

如果我触发`<space>`括号之间的空格扩展：

```
<- function(  )
{

} 
```

...如果我`<CR>`：

```
<- function( 
 )
{

} 
```

我最近询问并[回答](https://stackoverflow.com/questions/11858927/preventing-trailing-whitespace-when-using-vim-abbreviations)了一个关于防止在单行大小写中添加触发缩写的字符的问题。

这可能与多行缩写吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T13:52:49.783

这就是我想出的。

```
" eat characters after abbreviation
function! Eatchar(pat)
    let c = nr2char(getchar(0))
    return (c =~ a:pat) ? '' : c
endfunction

inoreabbr <silent> rfF <- function()<cr>{<cr>}<esc>2k$i<c-r>=Eatchar('\m\s\<bar>\r')<cr> 
```

此命令中的正则表达式`m\s\<bar>\r`将吃掉任何空格或返回字符。我还删除了 and 之间的多余空格`{`，`}`因为我想在您更新函数参数列表后，您将退出回到正常模式，然后跳下一行，`j`然后执行`o`以在函数块内打开一个新行。

# asp.net - 从 Gridview 检索绑定数据

> ID：11877162
> 
> 赞同：6
> 
> 时间：2012-08-09T05:11:57.373
> 
> 标签：asp.net, sql, gridview, eval

我有一个连接到显示数据的 SQL 数据源的 Gridview，我希望做的是通过按钮和 Eval 检索与选定行关联的数据。

有点像，

```
<asp:LinkButton runat=server OnClientClick="RetrieveInfo" Text="Send" /> 
```

但是我不能从代码中调用 Eval，我也不知道如何获取 DataKey。

我一直在网上搜索，但没有找到任何好的东西。谁能帮我？将不胜感激。

**编辑：**

```
<asp:GridView ID="GridView1" Width="100%" runat="server" AutoGenerateColumns="False"
DataKeyNames="ScheduleID" DataSourceID="SqlDataSource1">
    <Colums>
        <asp:TemplateField HeaderText="Date" SortExpression="Date">
           <ItemTemplate>
            <asp:Label ID="Label1" runat="server" Text='<%#Eval("Date")%>' />
          </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="Time" SortExpression="starttime">
           <ItemTemplate>
            <asp:Label ID="Label1" runat="server" Text='<%#Eval("starttime")%>' />
          </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField>
           <ItemTemplate>
            <asp:LinkButton runat=server OnClientClick="RetrieveInfo" Text="Send" />
          </ItemTemplate>
        </asp:TemplateField>
    </Colums>
</asp:GridView> 
```

它是略读的，但基本上就是这样。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:07:13.463

愿这有帮助

将您的gridview html编辑`<Colums>` 为`</Columns>`

```
<asp:LinkButton runat=server OnClientClick="RetrieveInfo"   CommandName="Update"  Text="Send" /> 
```

**网格视图 HTML**

```
<asp:GridView ID="GridView1" Width="50%" runat="server" AutoGenerateColumns="False" 
            onrowcommand="GridView1_RowCommand" >
   <Columns>
        <asp:TemplateField HeaderText="Date" SortExpression="Date">
           <ItemTemplate>
            <asp:Label ID="lbldate" runat="server" Text='<%#Eval("Date")%>' />
          </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="Time" SortExpression="starttime">
           <ItemTemplate>
            <asp:Label ID="lbltime" runat="server" Text='<%#Eval("starttime","{0:dd MMM yyyy}") %>' />
          </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField>
           <ItemTemplate>
            <asp:LinkButton runat="server" CommandName="sendvalue" CommandArgument="<%# ((GridViewRow) Container).RowIndex %>" OnClientClick="RetrieveInfo" Text="Send" />
          </ItemTemplate>
        </asp:TemplateField>
    </Columns>
</asp:GridView> 
```

**代码背后：**

```
 protected void Page_Load(object sender, EventArgs e)
       {
           bindGridview();
       }

   protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)
    {

        if (e.CommandName == "sendvalue")
            {
                int getrow = Convert.ToInt32(e.CommandArgument);
                Label lbldate = (Label)GridView1.Rows[getrow].FindControl("lbldate");
                Label lbltime = (Label)GridView1.Rows[getrow].FindControl("lbltime");
                string getDate = lbldate.Text;
                string getStartTime = lbltime.Text;
               //here you retrieve all the value of select row and do your logic for link butn
                GridView1.EditIndex = -1;
                bindGridview();
            }
    }

    public void bindGridview()
    {
        SqlDataAdapter dap = new SqlDataAdapter("select Date,startTime from yourtable", con);
        DataSet ds = new DataSet();
        dap.Fill(ds);
        DataTable dt = ds.Tables[0];
        GridView1.DataSource = dt;
        GridView1.DataBind();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:26:30.380

从您的代码中，我觉得您需要在 Button OnClientClick 事件的 Javascript 函数调用中检索这些值。您可以在 GridView 的 RowDataBound 事件中为按钮的 onclick 事件设置 Javascript 函数中的值，并且可以轻松编写 javascript获取这些值的函数...

**代码隐藏：-**

```
void GridView1_RowDataBound(Object sender, GridViewRowEventArgs e)
 {

   if(e.Row.RowType == DataControlRowType.DataRow)
   {
    Label Label1 = (Label)e.Row.FindControl("Label1Id");                    
    Label Label2= (Label)e.Row.FindControl("Label2Id");
    Label Label3= (Label)e.Row.FindControl("Label3Id");
    LinkButton lnkBtn= (LinkButton)e.Row.FindControl("lnkId");
    lnkBtn.Attributes.Add("onclick","RetrieveInfo('"+Label1.Text+"','"+Label2.Text+"','"+Label3.Text+"')");
   }

  } 
```

**Javascript：**

```
<script>
 function RetrieveInfo(Label1Value,Label2Value,Label3Value)
{
   Write your Logic..
}
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:34:56.130

如下更改您的网格视图。添加行数据绑定和行命令功能。当您单击链接按钮时，将调用行命令函数。

**默认.aspx**

```
<asp:GridView ID="GridView1" Width="100%" runat="server" AutoGenerateColumns="False"
    DataKeyNames="ScheduleID" DataSourceID="SqlDataSource1" 
    OnRowDataBound = "GridView1_OnRowDataBound" 
    onrowcommand="GridView1_RowCommand" >
        <Colums>
            <asp:TemplateField HeaderText="Date" SortExpression="Date">
               <ItemTemplate>
                <asp:Label ID="Label1" runat="server" Text='<%#Eval("Date")%>' />
              </ItemTemplate>
            </asp:TemplateField>
            <asp:TemplateField HeaderText="Time" SortExpression="starttime">
               <ItemTemplate>
                <asp:Label ID="Label1" runat="server" Text='<%#Eval("starttime")%>' />
              </ItemTemplate>
            </asp:TemplateField>
            <asp:TemplateField>
               <ItemTemplate>
                <asp:LinkButton ID="lbBind" runat=server OnClientClick="RetrieveInfo" Text="Send" />
              </ItemTemplate>
            </asp:TemplateField>
        </Colums>
    </asp:GridView> 
```

**.cs 后面的代码：**

```
protected void  GridView1_OnRowDataBound(object sender, GridViewRowEventArgs e )
  {
     try
       { if (e.Row.RowType == DataControlRowType.DataRow)
           {
             DataRowView drEachRow = (DataRowView)e.Row.DataItem;
            // Get all controls present in the row.
            LinkButton lbBind= (LinkButton )e.Row.FindControl("lbBind");
            // Add row index as command argument.
            lbBind.CommandArgument = e.Row.RowIndex.ToString();
            }
         }
           catch(Exception objExp)
              {
                 // handle exception
              }
            }

 protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)
   {
      try
       {   // Check if the command is generated by a button only.
         if (e.CommandSource.GetType().Equals(new LinkButton().GetType()))
         {
             int index;          // Store the index of the current row.
             // Get it from CommandArgument
             int.TryParse(Convert.ToString(e.CommandArgument), out index);
            // One exacmple of how to get one control in the same row.
           Label lblpid = (Label)gvFinalReview.Rows[index].FindControl("lblplanid");
          // You can get other controls similarly.
         }
       }
        catch(Exception objExp)
         {
            // handle exception
          }
    } 
```

# jquery - 如何使用 jquery 的 .each() 过滤项目列表？

> ID：11877164
> 
> 赞同：1
> 
> 时间：2012-08-09T05:12:14.190
> 
> 标签：jquery

使用 .each() 时，有没有办法过滤它检查的元素？

目前，这就是我所拥有的：给定一个元素列表，我只想检查输入。

> ```
> $.each (Items, function(i, item) {
>     if (item.is("input"))
>         (do something)
> }); 
> ```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T05:15:40.260

是的，有一个名为的方法[`.filter()`](http://api.jquery.com/filter/)- 只需将其应用于您`Items`的迭代之前过滤集合：

```
$.each (Items.filter('input'), function(i, item) {
    // do something
}); 
```

另一种写法是`.each`直接在集合上调用（结果是一样的）：

```
Items.filter('input').each(function(i, item) {
    // do something
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:16:28.520

使用`if`语句是可以的，或者你可以使用`.filter`方法。

```
Items.filter("input").each(function() {
 // do something
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:30:39.793

对于学习经验，关于您问题中的代码，您将如何处理它：

```
$.each(Items, function(i, item) {
    if($(this).is('input')) {
        // do something
    }
});​ 
```

演示：http: [//jsfiddle.net/g6Jsr/](http://jsfiddle.net/g6Jsr/)

# asp.net - 我想在 asp 文本框中设置值

> ID：11877167
> 
> 赞同：0
> 
> 时间：2012-08-09T05:12:26.580
> 
> 标签：asp.net

我已经搜索了很多，但仍然没有得到答案，这是我的 javascript。

```
function isNumeric(sender,keyCode) {
if (sender.value.length == 3 && res == true){
       console.log(sender.value.length);
            if(sender.value <1950 || sender.value > 2100){
          GY.style.visibility = "visible";
            document.getElementById('<%=GYValidatorLB.ClientID%>').value= "Please put Number in range A.D."
            }
       } 
    return res;
} 
```

这是我的html代码

```
<td style="height: 26px"><asp:TextBox ID="GraduateYear_RQ"  onkeydown="return isNumeric(this,event.keyCode);" onkeyup="keyUP(event)" runat ="server" MaxLength="4" </asp:TextBox>
      <asp:Label ID="GYValidatorLB" text="โปรดใส่เฉพาะตัวเลข" runat="server" BackColor="White" BorderColor="White" ForeColor="Red" style="visibility:hidden"></asp:Label></td> 
```

当用户键入 AD 范围之外的数字时，我想在 GyvalidatorLB 内设置值

预先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:52:11.397

就像`GYValidatorLB`里面一样`<Table><TD>`，你必须使用`innerHTML`而不是`.value`

你的功能应该是这样的：

```
function isNumeric(sender, keyCode) {
        var GY = document.getElementById('GYValidatorLB');
        if (sender.value.length >= 3) {
            console.log(sender.value.length);
            if (sender.value < 1950 || sender.value > 2100) {
                GY.style.visibility = "visible";
                GY.innerHTML = "Please put Number in range";
            }
            else {
                GY.style.visibility = "visible";
                GY.innerHTML = "";
            }
        }
        return res;
} 
```

你的HTML：

```
<td style="height: 26px">
    <asp:TextBox ID="GraduateYear_RQ" onkeydown="return isNumeric(this,event.keyCode);" onkeyup="keyUP(event)" runat="server" MaxLength="4"> </asp:TextBox>
    <asp:Label ID="GYValidatorLB" Text="โปรดใส่เฉพาะตัวเลข" runat="server" BackColor="White" BorderColor="White" ForeColor="Red" Style="visibility: hidden"></asp:Label>
</td> 
```

# mysql - 使用带有mysql的spring MVC实现分页的最佳方法是什么

> ID：11877182
> 
> 赞同：6
> 
> 时间：2012-08-09T05:14:12.463
> 
> 标签：mysql, spring-mvc, pagination

在我的数据库中，我有超过 100,000 条记录，将来可能会更多。所以我想为此实现分页。它就像帖子一样，偶尔用户可以转到最旧或太旧的帖子。我正在使用spring MVC，数据库是mysql。

另外我正在使用 PagedListHolder 来实现分页。我想每页显示 25 个帖子，但如果我最初获取所有 100,000 个帖子，那么加载所有记录需要一些时间。如果我首先加载 100 条记录，然后将列表与另外 100 条记录合并等等，这样会更好吗？如果用户想查看最旧的帖子，则获取最后 100 个帖子并在最后一页显示最后 25 个帖子。

所以只是想知道如果有人可以帮助我给出正确的方向，这个解决方案是否可行。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-09-12T09:23:26.387

如果您使用 ORM 、[Spring Data JPA](http://www.springsource.org/spring-data/jpa)，可以轻松提供开箱即用的分页功能。

需要分页的实体的 DAO 接口将扩展[PagingAndSortingRepository](http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html)接口，例如：-

```
public interface BookRepository extends PagingAndSortingRepository<Book,Long>{
      // methods other than plain CRUD can be declared here
} 
```

分页操作的关键接口是[Pageable](http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html)。它的现成实现[PageRequest](http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html)封装了分页输入，如最大结果大小、页码、大小、排序依据、排序方向、偏移量。

PageRequest 可以从处理程序方法中的请求属性中获取，并作为参数传递给存储库方法，例如：-

```
Page<Book> result = bookRepository.findAll(pageRequest); 
```

返回类型[Page](http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html)，可以很容易地在视图层中迭代以呈现结果大小、结果总数、排序顺序、排序方向等细节。

我发现本[教程](http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-seven-pagination/)很有帮助。

# android - 在同一屏幕上编程 3 个或更多按钮

> ID：11877190
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:16:21.537
> 
> 标签：android, android-activity

我正在尝试在某些布局中编写 3 个可点击按钮。

*   发送电子邮件的第一个按钮。
*   链接到某个网站的第二个按钮。
*   第三个按钮去一些 facebook 页面。

我真的被卡住了，因为我已经有一个按钮可以返回或返回上一个屏幕。我已经打电话给：

```
Intent intent = new Intent(PresentActivity.this, NextActivity.class);
startActivity(intent); 
```

在 java 文件的第一个按钮上，老实说，我不知道如何继续使接下来的三个按钮工作。我已经阅读了一些关于它的教程，但我还不明白。也许我的情况很简单，但我自己开始这样做。所以我会感谢任何人的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:30:01.403

下面的方式是 View 实现 Click listener 的**优化方式**。

您可以`android:onClick="myClickHandler"`在 XML 布局中的每个按钮内包含。

`myClickHandler()`现在，在 Activity 类中声明一个方法，如下所示：

```
public void myClickHandler(View v)
{
     switch(v.getId()) {
          case R.id.button1:
            // code to execute on button1 click
           break;

          case R.id.button2:
            // code to execute on button1 click
           break;

          case R.id.button3:
            // code to execute on button1 click
           break;

     }      
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:45:35.957

```
 btn1=(Button)findViewById(R.id.btn1);
    btn2=(Button)findViewById(R.id.btn2);
    btn3=(Button)findViewById(R.id.btn3);

    btn1.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {
            Intent email = new Intent(Intent.ACTION_SEND);
            email.putExtra(Intent.EXTRA_EMAIL, new String[]{"youremail@yahoo.com"});          
            email.putExtra(Intent.EXTRA_SUBJECT, "subject");
            email.putExtra(Intent.EXTRA_TEXT, "message");
            email.setType("message/rfc822");
            startActivity(Intent.createChooser(email, "Choose an Email client :"));
        }
    });
    btn2.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {
        Uri uri = Uri.parse( "http://www.google.com" );
        startActivity( new Intent( Intent.ACTION_VIEW, uri ) );
        }
    }); 
    btn3.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {
        Uri uri = Uri.parse( "http://www.facebook.com/abc" );
        startActivity( new Intent( Intent.ACTION_VIEW, uri ) );
        }
    }); 
```

# javascript - 如何确保在 Mocha 中的 done() 之前执行循环保存到数据库？

> ID：11877194
> 
> 赞同：0
> 
> 时间：2012-08-09T05:16:44.853
> 
> 标签：javascript, node.js, mongodb, callback, mocha.js

我正在运行以下代码作为 before() 的参数，以在我的 MongoDB 数据库中创建测试条目（使用 Mongoose）。但是，这会导致错误，因为 done() 被多次调用。但是，如果我不使用 done()，那么 testPhoto 将不会保存到数据库，因为它被移交给后台线程。

```
var createFeed = function(done) {
  for (var i = 1; i <= 10; i++) {
    var testPhoto = new Photo({ owner   : 'test' + (i % 2),
                            caption : 'test caption',
                            ratings : [{ _id   : 'test' + (i % 3),
                                        rating : 5 }] });
    testPhoto.save(done);
  }
} 
```

在所有 testPhoto 都保存到数据库之后，有什么方法可以保证 done() 函数只执行一次？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T05:51:28.993

[您可以使用async](https://github.com/caolan/async)做一些更正式的事情，或者您可以采取更简单的方法，您只需跟踪未完成的保存操作的数量并`done`在它们全部完成时调用：

```
var createFeed = function(done) {
  var saves = 10;
  for (var i = 1; i <= 10; i++) {
    var testPhoto = new Photo({ owner : 'test' + (i % 2),
                            caption : 'test caption',
                            ratings : [{ _id   : 'test' + (i % 3),
                                        rating : 5 }] });
    testPhoto.save(function(err){
      if (--saves === 0) {
        done();
      }
    });
  }
} 
```

# sharepoint - 什么是 sharepoint 中的内部列表

> ID：11877197
> 
> 赞同：1
> 
> 时间：2012-08-09T05:16:53.840
> 
> 标签：sharepoint, sharepoint-list

在一次采访中，面试官问Sharpeoint中的**内部列表**和**外部列表是什么。**外部列表意味着当我们通过任何模板（如公告、日历、自定义列表等）创建任何列表时。（如果我错了，请纠正我。）

那么sharepoint中的内部列表是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:24:47.303

外部列表是您使用任何数据源创建的列表。例如使用 BCS 创建的列表是外部列表。

内部列表是我们使用 UI 或 VS2010 在内部（在我们的站点中）创建的列表。

# facebook - Facebook PHP SDK 无法注销

> ID：11877202
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:17:53.143
> 
> 标签：facebook

我正在使用最新的 facebook php sdk，但我发现方法 Facebook::getLogoutUrl( $params=array() ) 不起作用！getUser() 总是返回我的用户 ID。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:27:37.553

您可以在注销功能中指定重定向 url，并在注销重定向后清除 Facebook cookie 和会话，例如

```
Facebook::getLogoutUrl( array( 'next' => 'your_logout_page.php' ) ); 
```

在“your_logout_page.php”中，

```
setcookie('fbs_'.fb_app_id, ', time()-100, '/'); //clear FB cookie
session_destroy(); 
```

希望能帮助到你

# python - 生成器的python切片分配到列表

> ID：11877212
> 
> 赞同：4
> 
> 时间：2012-08-09T05:18:57.263
> 
> 标签：python, list, slice

```
my_list = [1, 2]

def f():
    print my_list
    yield 11
    print my_list
    yield 22
    print my_list

my_list[:] = f()

print "finally ",
print my_list 
```

输出：

```
[1, 2]
[1, 2]
[1, 2]
finally  [11, 22] 
```

我的预期是：

```
[1, 2]
[11, 2]
[11, 22]
finally [11, 22] 
```

有人曾经告诉我切片分配已经到位。显然不是。有没有一种优雅的方式来实现它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-09T05:24:23.227

切片分配是就地分配的，但是直到整个生成器被消耗完才会发生分配。它不会一次将一个元素分配给列表。它会全部读取它们，然后一次将它们全部粘贴到列表中。

（请注意，它必须这样做，因为即使序列的长度与原始切片的长度不同，您也可以将序列分配给切片。您可以这样做，例如`x[2:3] = [1, 2, 3, 4, 5, 6]`。没有办法通过替换一个元素来做到这一点一次，因为旧切片和替换它的新序列之间没有一对一的映射。）

没有办法通过切片分配来实现您想要的，因为切片分配总是以这种一次性的方式工作。您必须并行迭代列表和生成器，并一次替换一个元素。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T20:44:31.140

可以这样做，但不能直接。

考虑：

```
my_list = [1,2,3,4]

def f():
    print 'first: ', my_list
    yield 11
    print 'second:', my_list
    yield 22
    print 'third: ', my_list        

def inplace(l, func):
    gen=func()
    for i,x in enumerate(l):
        try:
            l[i]=gen.next()
        except StopIteration:
            if i<len(l):
                del l[i:]
            break     

inplace(my_list,f)

print     "final: ", my_list 
```

印刷：

```
first:  [1, 2, 3, 4]
second: [11, 2, 3, 4]
third:  [11, 22, 3, 4]
final:  [11, 22] 
```

当然，按照它的编写方式，列表将是原始列表或生成器中的元素中较短的一个。

# mysql - 如果列值不存在，则不要加入表

> ID：11877218
> 
> 赞同：1
> 
> 时间：2012-08-09T05:19:36.403
> 
> 标签：mysql, sql

```
SELECT
`wp_emu_theme_contact_page`.`firstName`
, `wp_emu_theme_contact_page`.`city`
, `wp_emu_theme_contact_page`.`state`
, `wp_posts`.`post_content`
, `wp_posts`.`post_date`
, `wp_posts`.`post_type`
, `wp_posts`.`ID`
, `wp_emu_theme_testimonials`.`permission`
, `wp_emu_theme_testimonials`.`userID`
, `wp_users`.`user_login`
, `wp_usermeta`.`meta_value`
FROM
 `wp_emu_theme_testimonials`
INNER JOIN  `wp_emu_theme_contact_page` 
    ON (`wp_emu_theme_testimonials`.`contactID` = `wp_emu_theme_contact_page`.`dbID`)
INNER JOIN  `wp_posts` 
    ON (`wp_emu_theme_testimonials`.`postID` = `wp_posts`.`ID`)
LEFT JOIN  `wp_users` 
    ON (`wp_emu_theme_testimonials`.`userID` = `wp_users`.`ID`)
INNER JOIN  `wp_usermeta` 
    ON (`wp_usermeta`.`user_id` = `wp_users`.`ID`)
WHERE (`wp_posts`.`post_type` ='testimonial'
AND `wp_usermeta`.`meta_key` ='facebook_uid')
OR (`wp_usermeta`.`meta_key` = 'null'); 
```

问题是该表`wp_usermeta`可能没有 meta_key = 'facebook_uid'。在这种情况下，我没有收到这些条目。我想得到所有其他的东西，即使那`meta_key`不存在`user_id`。如果确实如此，那就太好了。如果我取出有关该表的部分，此查询将按预期工作。我试过没有 OR。我正在使用mysql。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:26:31.493

听起来您想使用`LEFT JOIN`并制作以下​​条件部分`ON`：

```
LEFT JOIN  `wp_usermeta` 
    ON (`wp_usermeta`.`user_id` = `wp_users`.`ID`
        AND `wp_usermeta`.`meta_key` ='facebook_uid') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:24:12.523

您需要使用`LEFT JOIN`而不是`INNER JOIN`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:38:40.303

```
SELECT
`wp_emu_theme_contact_page`.`firstName`
,`wp_emu_theme_contact_page`.`city`
, `wp_emu_theme_contact_page`.`state`
, `wp_posts`.`post_content`
, `wp_posts`.`post_date`
, `wp_posts`.`post_type`
, `wp_posts`.`ID`
, `wp_emu_theme_testimonials`.`permission`
, `wp_emu_theme_testimonials`.`userID`
, `wp_users`.`user_login`
, `wp_usermeta`.`meta_value`
FROM
`wp_emu_theme_testimonials`
INNER JOIN  `wp_emu_theme_contact_page` 
ON (`wp_emu_theme_testimonials`.`contactID` = `wp_emu_theme_contact_page`.`dbID`)
INNER JOIN  `wp_posts` 
ON (`wp_emu_theme_testimonials`.`postID` = `wp_posts`.`ID`)
LEFT JOIN  `wp_users` 
ON (`wp_emu_theme_testimonials`.`userID` = `wp_users`.`ID`)
LEFT JOIN  `wp_usermeta` 
ON (`wp_users`.`ID` = `wp_usermeta`.`user_id`)
WHERE (`wp_posts`.`post_type` ='testimonial'
AND `wp_usermeta`.`meta_key` ='facebook_uid')
OR (`wp_usermeta`.`meta_key` IS NULL); 
```

在这种情况下使用左连接而不是内连接。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T05:52:01.920

我使用的是 T-SQL（MS SQL Server），而不是 MySQL，所以我对我所说的话持保留态度。

我不确定您是否正确检查 null：

```
OR (`wp_usermeta`.`meta_key` = 'null'); 
```

你可以这样检查NULL吗？在 SQL Server 中需要使用 IS NULL 来检查，而这篇文章（http://www.tutorialspoint.com/mysql/mysql-null-values.htm）好像说在 MySQL 中也是一样的。如果你改变 or 说类似的东西

```
OR (`wp_usermeta`.`meta_key` IS NULL); 
```

你可能会得到你想要的。另外，我不确定括号在 MySQL 中是如何工作的，但我会这样做：

```
WHERE `wp_posts`.`post_type` ='testimonial'          
AND (`wp_usermeta`.`meta_key` ='facebook_uid' OR `wp_usermeta`.`meta_key` IS NULL); 
```

现在，说了这么多，您仍然应该考虑将其作为表的左连接，正如其他人所建议的那样。与使用 or 相比，它可能会为您提供更好的性能。

# javascript - 通过 javascript 捕获 URL 更改事件

> ID：11877220
> 
> 赞同：1
> 
> 时间：2012-08-09T05:19:45.640
> 
> 标签：javascript, html, javascript-events

我的 html 页面重定向到不同的 URL。我想以某种方式处理这个问题并捕获我的页面重定向到的新 URL。可以通过javascript吗？

提前致谢！

**编辑**：

重定向的 URL 不在我的域中。我想要做的是捕获 URL 并自己向 URL 发出请求。

**编辑2**：

执行重定向的不是我的代码。它是通过某种第三方小程序完成的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:30:27.420

您无法拦截其他域中其他页面的 URL 设置。当 URL 设置为新页面时，新页面已经在加载并且您的 javascript 不再存在。

如果是您自己页面中的代码进行重定向，那么您只需要重写该代码即可执行您想要的操作。创建一个用于重定向的函数，将所有重定向的位置更改为使用该函数，并在该函数中执行您想做的任何工作，然后再将 window.location 设置为新 URL。

# php - 不能 ORDER BY 或 DESC 顺序 MySQLi

> ID：11877222
> 
> 赞同：1
> 
> 时间：2012-08-09T05:20:19.967
> 
> 标签：php, mysql

我希望我不会太急于求成，我尝试使用 SQLYog 和其他一些应用程序进行查询构建，但让我们面对现实吧，没有什么能比得上你们所有人的专业知识。所以这是我的问题：是否可以按照浏览次数最多的 (vistas.cuenta) 和 DESC 的顺序来排序这个查询的结果？，你看 vistas(viewed) 是 php-mysql 存储的表查看文章的时间量（在名为 cuenta(count) 的列上），现在它正在工作，但它按联合的顺序显示它们。在 vistas 表上，我存储了文章的 ID 和一个包含每个表的表名的列。

在两个表的情况下，它会是。

```
SELECT ciencia.id,ciencia.titulo,vistas.cuenta
FROM vistas, ciencia
WHERE vistas.id_pag = ciencia.id
AND vistas.seccion = ciencia.tabla
ORDER BY vistas.cuenta 
```

那（那里的查询）完美无缺，但不适用于下面的查询。

```
include("connection.php");
$data = "
SELECT ciencia.id,ciencia.titulo,vistas.cuenta FROM vistas, ciencia WHERE vistas.id_pag = ciencia.id AND vistas.seccion = ciencia.tabla
UNION  SELECT cultura.id,cultura.titulo,vistas.cuenta FROM vistas, cultura WHERE vistas.id_pag = cultura.id AND vistas.seccion = cultura.tabla
UNION  SELECT deportes.id,deportes.titulo,vistas.cuenta FROM vistas, deportes WHERE vistas.id_pag = deportes.id AND vistas.seccion = deportes.tabla
UNION  SELECT economia.id,economia.titulo,vistas.cuenta FROM vistas, economia WHERE vistas.id_pag = economia.id AND vistas.seccion = economia.tabla
UNION  SELECT internacionales.id,internacionales.titulo,vistas.cuenta FROM vistas, internacionales WHERE vistas.id_pag = internacionales.id AND vistas.seccion = internacionales.tabla
UNION  SELECT migracion.id,migracion.titulo,vistas.cuenta FROM vistas, migracion WHERE vistas.id_pag = migracion.id AND vistas.seccion = migracion.tabla
UNION  SELECT nacionales.id,nacionales.titulo,vistas.cuenta FROM vistas, nacionales WHERE vistas.id_pag = nacionales.id AND vistas.seccion = nacionales.tabla
UNION  SELECT regionales.id,regionales.titulo,vistas.cuenta FROM vistas, regionales WHERE vistas.id_pag = regionales.id AND vistas.seccion = regionales.tabla
UNION  SELECT politica.id,politica.titulo,vistas.cuenta FROM vistas, politica WHERE vistas.id_pag = politica.id AND vistas.seccion = politica.tabla
";
$extractor = $mon -> query($data);
while($fila = mysqli_fetch_array( $extractor ))
{ print $fila['id'].' seccion '.$fila['titulo'].' - '.$fila['cuenta'].'<br>'; } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:41:25.980

只需将您的查询包装到另一个`SELECT`中并订购结果：

```
SELECT
*
FROM
(SELECT ciencia.id,ciencia.titulo,vistas.cuenta FROM vistas, ciencia WHERE vistas.id_pag = ciencia.id AND vistas.seccion = ciencia.tabla
UNION  SELECT cultura.id,cultura.titulo,vistas.cuenta FROM vistas, cultura WHERE vistas.id_pag = cultura.id AND vistas.seccion = cultura.tabla
UNION  SELECT deportes.id,deportes.titulo,vistas.cuenta FROM vistas, deportes WHERE vistas.id_pag = deportes.id AND vistas.seccion = deportes.tabla
UNION  SELECT economia.id,economia.titulo,vistas.cuenta FROM vistas, economia WHERE vistas.id_pag = economia.id AND vistas.seccion = economia.tabla
UNION  SELECT internacionales.id,internacionales.titulo,vistas.cuenta FROM vistas, internacionales WHERE vistas.id_pag = internacionales.id AND vistas.seccion = internacionales.tabla
UNION  SELECT migracion.id,migracion.titulo,vistas.cuenta FROM vistas, migracion WHERE vistas.id_pag = migracion.id AND vistas.seccion = migracion.tabla
UNION  SELECT nacionales.id,nacionales.titulo,vistas.cuenta FROM vistas, nacionales WHERE vistas.id_pag = nacionales.id AND vistas.seccion = nacionales.tabla
UNION  SELECT regionales.id,regionales.titulo,vistas.cuenta FROM vistas, regionales WHERE vistas.id_pag = regionales.id AND vistas.seccion = regionales.tabla
UNION  SELECT politica.id,politica.titulo,vistas.cuenta FROM vistas, politica WHERE vistas.id_pag = politica.id AND vistas.seccion = politica.tabla
) a
ORDER BY
cuenta DESC 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-08-09T05:27:52.713

`ORDER BY`使用时不能使用`UNION`

# java - 文件内容中的java正则表达式

> ID：11877232
> 
> 赞同：2
> 
> 时间：2012-08-09T05:22:06.660
> 
> 标签：java

如何在文件内容中使用正则表达式。我有一组文件，我想在所有文件中搜索一个字符串并替换所有文件。

有人可以帮我吗？费用如下：

```
package com.java.far;
import java.io.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
public class ReplaceAll {

    public static void main(String[] args)throws IOException {

        Runtime r=Runtime.getRuntime();
        System.out.println(r.freeMemory());

        String path="D:\\JOBRELATED\\FAR";
        String files;
        File folder=new File(path);
        File[] listofFiles=folder.listFiles();
        for (int i = 0; i < listofFiles.length; i++) {
            if (listofFiles[i].isFile()) {
                files=listofFiles[i].getName();
                if(files.endsWith("tex")){
                System.out.println(files);

                BufferedReader br=new BufferedReader(new FileReader("D:\\JOBRELATED\\FAR\\"+files));
                String line;
                while((line=br.readLine())!=null){
                Pattern p=Pattern.compile("Diamond in History and Research");
                Matcher m=p.matcher(line);
                int count=0;
                while (m.find()) {
                    count++;
                    //System.out.println(m.start() +"\t"+ count);
                    System.out.println(line);
                    m.replaceAll("abc");

                }
                }

            }
            }
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T05:27:09.997

看起来你在正确的轨道上；我不知道可以在文件中查找和替换的框架。我在下面提供了一些其他提示，您可以查看这些提示。

您缺少的最后一步是添加一个 OutputWriter 或类似的输出器。阅读文件内容后，检查它是否包含匹配项并替换它，您应该进行布尔检查是否进行了更改。如果是，则输出文件。

`listofFiles[i].isFile()`其他评论： 1.如果您正在使用，则不需要执行 a 2\. 在循环`.listFiles()` 之外编译您的模式以提高效率。`for`3.使用动态for循环，可能会更容易：`for(final File file : listofFiles)`

例子：

```
 final File[] files = new File(".").listFiles();
   final Pattern pattern = Pattern.compile(".*a.*");
   for(final File file : files) {
       System.out.println(file.getName());
       final BufferedReader reader = new BufferedReader(new FileReader(file));
       final StringBuilder contents = new StringBuilder();
       while(reader.ready()) {
           contents.append(reader.readLine());
       }
       reader.close();
       final String stringContents = contents.toString();
       if(stringContents.toString().matches(".*a.*")) {
           stringContents.replaceAll("a", "b");
           final BufferedWriter writer = new BufferedWriter(new FileWriter(file));
           writer.write(stringContents);
           writer.close();
       }
   } 
```

# iphone - 增加表格视图单元格默认附件类型的高度

> ID：11877235
> 
> 赞同：0
> 
> 时间：2012-08-09T05:22:38.550
> 
> 标签：iphone, objective-c, xcode, uitableview, ios5

我是 iphone 开发新手。我正在为我的表格视图单元格使用 UITableViewCellAccessoryCheckmark 。我想知道是否可以通过编程方式增加此默认附件类型的高度，或者使用自定义图像是唯一的选择。我想这样做是因为我想为我的单元格设置一个稍大的复选标记。任何帮助表示赞赏

谢谢，拉吉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:26:13.290

复选标记附件类型的大小不能改变......你可以做的是在其中添加一个`UIButton`或一个并点击它执行一个动作......向单元格添加图像相对容易......`UIImageview``UITableViewCell`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:27:57.423

为此，您必须通过以下教程实现自定义附件类型： [链接](http://www.edumobile.org/iphone/iphone-programming-tutorials/impliment-a-custom-accessory-view-for-your-uitableview-in-iphone/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T14:42:35.873

**此表视图方法中的cellForRowAtIndexPath**使用此代码

```
UIButton *record_Btn = [UIButton buttonWithType:UIButtonTypeRoundedRect];
[record_Btn setFrame:CGRectMake(8, 5, 70-20, 35)];
[record_Btn setBackgroundColor:[UIColor clearColor]];
[record_Btn setTitle:[NSString stringWithFormat:@"record"] forState:UIControlStateNormal];
record_Btn.tag = cell.tag;
[record_Btn addTarget:self action:@selector(pressRecordBtn:) forControlEvents:UIControlEventTouchUpInside];
[cell.contentView addSubview:record_Btn]; 
```

# javascript - HTML5 刮刮卡

> ID：11877236
> 
> 赞同：1
> 
> 时间：2012-08-09T05:22:42.887
> 
> 标签：javascript, jquery, html

我正在尝试设置一个小刮刮卡游戏，其中有几个面板，您可以拖动或触摸（ipad、智能手机等）来刮擦并显示下面的图像。

我不是 JS 大师，所以我进行了广泛的搜索，发现了我认为最好的脚本：

[http://www.websanova.com/tutorials/jquery/html5-jquery-scratch-pad-plugin](http://www.websanova.com/tutorials/jquery/html5-jquery-scratch-pad-plugin)
使用画布和 jQuery。它还可以让您查看划伤的百分比，但它不适用于移动设备。

我正在查看 JS，但不知道如何向脚本添加触摸事件： [https ://github.com/websanova/wScratchPad/blob/master/wScratchPad.js](https://github.com/websanova/wScratchPad/blob/master/wScratchPad.js)

?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:59:16.177

我很少使用 jQuery，所以不确定如何扩展 jQuery 扩展本身，但是查看[github 上的示例代码，](https://github.com/websanova/wScratchPad/blob/master/wScratchPad.js)您想对这些行 (110-140) 添加更改：

```
this.sp =
$('<div></div>')
.css({cursor: 'default', position: 'relative'})
.append(
    $(this.canvas)
    .attr('width', this.settings.width + 'px')
    .attr('height', this.settings.height + 'px')
    .css({cursor: 'default'})
    .mousedown(function(e)
    {
        e.preventDefault();
        e.stopPropagation();
        $this.scratch = true;
        $this.scratchFunc(e, $this, 'Down');
    })
)

$(document)
.mousemove(function(e)
{
    if($this.scratch) $this.scratchFunc(e, $this, 'Move');
})
.mouseup(function(e)
{
    //make sure we are in draw mode otherwise this will fire on any mouse up.
    if($this.scratch)
    {
        $this.scratch = false;
        $this.scratchFunc(e, $this, 'Up');
    }
}); 
```

如果您修改或复制此块，并添加复制 mousedown、mousemove 和 mouseup 处理程序功能的触摸事件，您应该大部分都在那里。

# vb.net - vb.net continue for inside a for each

> ID：11877237
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:22:45.893
> 
> 标签：vb.net, for-loop, continue

我在for循环中有一个for each循环，for each循环检查当前行中某列中的值是否存在于数组中，如果存在我想在for循环中做什么，如果它不存在我想要继续 for 循环

```
for i = 0 To DataGridView1.RowCount - 1
        For Each id In IDs
            If (DataGridView1.Item(1, i).Value <> id) Then
               'continue the for loop, by continue i mean using continue statement and not executing the outer for loop for this case
            End If
        Next
  'do for loop things
Next 
```

我要做的是对具有特定 id 的行进行计算，并跳过具有不在数组中的 id 的行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:27:36.907

您可以使用 Exit For 退出内部 For Each 循环。外部的 For 循环将在它停止的地方恢复。

**退出**

> 选修的。将控制转移出 For Each 循环。
> 
> 当在嵌套的 For Each 循环中使用时，Exit For 会导致执行退出最内层循环并将控制转移到下一个更高级别的嵌套。

[http://msdn.microsoft.com/en-us/library/5ebk1751.aspx](http://msdn.microsoft.com/en-us/library/5ebk1751.aspx)

```
for i = 0 To DataGridView1.RowCount - 1
        For Each id In IDs
            If (DataGridView1.Item(1, i).Value <> id) Then
               Exit For 'continue the for loop
            End If
        Next
  'do for loop things
Next 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:39:02.207

您是否只想在匹配时“执行循环操作”？为什么不只是这样？

```
For i = 0 To DataGridView1.RowCount - 1 
    doThings = False
   For Each id In IDs
      If (DataGridView1.Item(1, i).Value = id) Then 
        doThings = True
        Exit For
      End If 
  Next 
  If doThings Then 
    ** do for loop things 
  End If 
Next 
```

可以通过创建更多方法来改进

*   一个函数来确定一个 id 是否出现在“IDs”中。它是一个列表吗？你可以使用 IDs.Contains()
*   一种“为循环做事”的方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:27:52.407

与其检查不相等的条件，不如检查相等的条件。

```
for i = 0 To DataGridView1.RowCount - 1         
    For Each id In IDs             
        If (DataGridView1.Item(1, i).Value == id) Then
            'continue the for loop
        End If
    Next
    'do for loop things 
Next 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T05:28:27.670

[退出语句 (Visual Basic) - MSDN](http://msdn.microsoft.com/en-us/library/t2at9t47.aspx)

```
for i = 0 To DataGridView1.RowCount - 1
    For Each id In IDs
        If (DataGridView1.Item(1, i).Value <> id) Then
           Exit For ' Exit this For Each loop
        End If
    Next
'do for loop things
Next 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-06T08:27:29.860

`doThings`答案很好且可读，但要实际使用 a`Continue For`您需要将内部循环更改为`For`可用于 VB.NET 的其他循环之一。

```
for i = 0 To DataGridView1.RowCount - 1
    Using EnumId As IEnumerator(Of String) = IDs.GetEnumerator
        'For Each id In IDs
      While EnumId.MoveNext
        Dim id = EnumId.Current
            If (DataGridView1.Item(1, i).Value <> id) Then
               'continue the for loop, by continue i mean using continue statement and not executing the outer for loop for this case
               Continue For
            End If
        'Next
      End While
    End Using
  'do for loop things
Next 
```

[（在 IDE 中输入时未检查语法。）]

# facebook - 有没有办法确保为我的应用程序生成了 Facebook 访问令牌？

> ID：11877240
> 
> 赞同：2
> 
> 时间：2012-08-09T05:23:16.690
> 
> 标签：facebook, facebook-opengraph

我正在开发的 Web 服务通过将 Facebook 访问令牌传递到后端的 API 将用户帐户连接到他们的 Facebook 帐户。有没有办法确保收到的访问令牌属于我的应用程序？

显然，例如，如果我尝试使用来自不同应用程序的访问令牌来发布操作，稍后会出现错误，但我宁愿在将不正确的访问令牌与用户帐户相关联之前捕获此错误情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:41:01.193

最简单的方法是在获得访问令牌时向 Facebook 发出经过身份验证的请求。尝试获取他们的用户信息，也许只是他们的 Facebook id，并验证用户发送给您的访问令牌/Facebook id 实际上是正确的。您可以向 url 发出请求：

[https://graph.facebook.com/me?fields=id&access_token=](https://graph.facebook.com/me?fields=id&access_token=) ...

只获取他们的 ID。我会将此检查添加到注册过程中，因为正确配对非常重要。

编辑：要验证访问令牌所属的应用程序，请向

[https://graph.facebook.com/app?fields=id&access_token=](https://graph.facebook.com/app?fields=id&access_token=)

它会为您提供令牌的应用程序 ID。

# java - 重新绘制另一个 JPanel 内的 JPanel

> ID：11877242
> 
> 赞同：5
> 
> 时间：2012-08-09T05:23:20.487
> 
> 标签：java, swing, jpanel

事情是这样的：

```
public class ParentPanel extends JPanel{
    private ChildPanel childPanel;
    public ParentPanel() {
        super();
        initComponents();
    }
    public void pushData(int data){
        childPanel.pushData(data);
    }
    private void initComponents() {
        childPanel= new ChildPanel();
} 
```

我还有一堂课：

```
public class ChildPanel extends JPanel{
    public ChildPanel(){
        super();
    }
    public void paintComponent(Graphics g){
        //I draw some lines in this JPanel according to data
    }
    public void pushData(int data){
        repaint();
    }
} 
```

我想要的是在`pushData()`调用 ChildPanel 中的方法时画一些线。但是现在 ChildPanel 内部没有响应。我应该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T06:09:23.987

`childPanel`不是任何容器的一部分，它`paintComponent`不会被调用。尝试将它作为一个孩子添加到`ParentPanel`，即 inside `initComponents`call `add(childPanel)`。

编辑：基于发布代码的示例

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Random;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;

public class TestChild {
    public static void main(String[] args){
        JFrame frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        final ParentPanel parent = new ParentPanel();
        JButton button = new JButton("Push");
        button.addActionListener(new ActionListener(){
            @Override
            public void actionPerformed(ActionEvent e) {
                parent.pushData(7);
            }
        });

        JPanel panel = new JPanel();
        panel.setLayout(new BorderLayout());

        panel.add(parent, BorderLayout.CENTER);
        panel.add(button, BorderLayout.SOUTH);

        frame.add(panel);
        frame.pack();
        frame.setVisible(true);
        frame.setLocationRelativeTo(null);
    }

    public static class ParentPanel extends JPanel {
        private ChildPanel childPanel;

        public ParentPanel() {
            super();
            initComponents();
        }

        public void pushData(int data) {
            childPanel.pushData(data);
        }

        private void initComponents() {
            childPanel = new ChildPanel();
            add(childPanel);
        }
    }

    public static class ChildPanel extends JPanel {
        private Random random = new Random();

        public ChildPanel() {
            super();
            setPreferredSize(new Dimension(200, 200));
        }

        @Override
        public void paintComponent(Graphics g) {
            System.out.println(getWidth());
            g.setColor(getBackground());
            g.fillRect(0, 0, getWidth(), getHeight());
            g.setColor(Color.getHSBColor(random.nextFloat(), 0.9f, 1.0f));
            g.fillOval(0, 0, getWidth(), getHeight());
        }

        public void pushData(int data) {
            repaint();
        }
    }
} 
```

# android - ContentProvider 给出未知的 URI 错误

> ID：11877245
> 
> 赞同：0
> 
> 时间：2012-08-09T05:23:57.487
> 
> 标签：android, null, android-contentprovider

我已经创建了自己的 ContentProvider，但我不确定如何检索它。调用 getType 方法时，我不断得到一个空值。

这是我的代码：
CurrentPlacesMetaData 类：

```
public static final String AUTHORITY = "healthcare.management.elderly.providers.CurrentPlacesContentProvider";
public static final String CONTENT_TYPE_PLACES_LIST = "vnd.android.cursor.dir/vnd.healthcare.places";
public static final String CONTENT_TYPE_PLACES_ONE = "vnd.android.cursor.dir/vnd.healthcare.places#"; 
```

CurrentPlacesContentProvider 类：

```
public static final Uri CONTENT_URI = Uri.parse("content://" 
        + CurrentPlacesMetaData.AUTHORITY + "/currentplaces");
static {
     sUriMatcher = new UriMatcher(UriMatcher.NO_MATCH);
     sUriMatcher.addURI(CurrentPlacesMetaData.AUTHORITY, "places", PLACES_TYPE_LIST);
     sUriMatcher.addURI(CurrentPlacesMetaData.AUTHORITY, "places/#", PLACES_TYPE_ONE);
}
@Override
public String getType(Uri uri) {
    switch(sUriMatcher.match(uri)) {
        case PLACES_TYPE_LIST:
            return CurrentPlacesMetaData.CONTENT_TYPE_PLACES_LIST;
        case PLACES_TYPE_ONE:
            return CurrentPlacesMetaData.CONTENT_TYPE_PLACES_ONE;
        default:
            throw new IllegalArgumentException("Unknown URI: " + uri);
    }
} 
```

尝试调用 ContentProvider 的方法：

```
Uri uri = Uri.parse("content://healthcare.management.elderly.providers.CurrentPlacesContentProvider/currentplaces/places");
String str = context.getContentResolver().getType(uri) 
```

我为 str 得到一个空值，这可能表明 uri 未被识别。那么我哪里出错了？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:47:11.460

您的 URI 包含`currentplaces`在您正在匹配的 uri 匹配器中作为最后一部分 `places`

您可以使用以下格式进行内容提供者的 uri 匹配

```
private static final String AUTHORITY = "xxxxxxxxxxxxx";
private static final String COMMENT_BASE_PATH = "comment";

private static final int COMMENT = 100;
private static final int COMMENT_ID = 101;

public static final Uri URI_COMMENT = Uri.parse("content://" + AUTHORITY + "/" + COMMENT_BASE_PATH);

private static final UriMatcher sURIMatcher = new UriMatcher(UriMatcher.NO_MATCH);
static {
    sURIMatcher.addURI(AUTHORITY, COMMENT_BASE_PATH , COMMENT);
    sURIMatcher.addURI(AUTHORITY, COMMENT_BASE_PATH + "/*" , COMMENT_ID);
} 
```

然后你可以参考 `URI_COMMENT` 任何你喜欢的地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:30:42.163

您可以使用以下方法调用 ContentProvider，

```
Cursor c = managedQuery(uri, null, null, null, null); 
```

但是现在不推荐使用 managedQuery ，您必须使用[`CursorLoader`](http://developer.android.com/reference/android/app/Activity.html#managedQuery%28android.net.Uri,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String%29). 这是一个使用[`CursorLoader`](http://mobile.tutsplus.com/tutorials/android/android-sdk_loading-data_cursorloader/).

# php - 如何在 AppServ 中安装 PhpPgAdmin？

> ID：11877250
> 
> 赞同：0
> 
> 时间：2012-08-09T05:24:30.173
> 
> 标签：php, postgresql, appserver, phppgadmin

如何在 Windows 上的 appserver 中安装 phppgadmin。我安装了 postgresql exe 文件并配置了 php.ini 文件并在 www 文件夹中提取了 PhpPgAdmin，但它显示 php not congifured 错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T11:49:42.947

**phppgadmin的安装**

1) 下载***postgresql-9.1.4-1-windows.exe*** ' (windows), ***phpPgAdmin-5.0.4.zip*** .(选择最新的)

2) 安装 postgresql .exe 文件

3) 在 C:\Appserv\ (ex:- C:\Appserv\phpPgAdmin) 中提取 phppgadmin

4）在 php.ini 文件中取消注释以下行。

```
extension=php_pdo_pgsql.dll
extension=php_pgsql.dll 
```

5）重新启动系统并在程序中登录postgresql。

# ios - UIViewControllerHierarchyInconsistency

> ID：11877264
> 
> 赞同：17
> 
> 时间：2012-08-09T05:26:10.533
> 
> 标签：ios

我正在尝试构建我的应用程序，并且有一次我推送了一个 UIViewController，然后我收到了这个错误。我不确定为什么。

> 'UIViewControllerHierarchyInconsistency'，原因：'一个视图一次最多只能关联一个视图控制器！视图 > 与 关联。在将此视图与关联之前清除此关联。

```
PageViewController *viewController;

viewController = [[PageViewController alloc] initWithManagedObjectContext:managedObjectContext];
dataSource = [[PagesDataSource alloc] initWithManagedObjectContext:managedObjectContext];

PVPage *selectedPage = [[dataSource pages] objectAtIndex:itemIndex];
[viewController setRepresentedPage:selectedPage];

PageFlipperAppDelegate *appDelegate = (PageFlipperAppDelegate *)[[UIApplication sharedApplication] delegate];
[(UINavigationController *)[[appDelegate window] rootViewController] setToolbarHidden:YES animated:YES];
[(UINavigationController *)[[appDelegate window] rootViewController] pushViewController:viewController animated:YES]; 
```

在我的 pageViewController 中......

```
- (id)initWithManagedObjectContext:(NSManagedObjectContext *)initManagedObjectContext
{
    if ((self = [super initWithNibName:@"PageView" bundle:nil]))
    {
        [self setManagedObjectContext:initManagedObjectContext];
        dataSource = [[PagesDataSource alloc] initWithManagedObjectContext:[self managedObjectContext]];
    }
    return self;
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-21T01:18:52.197

问题场景：如果在同一个 .XIB 文件中有两个 UIViewControllers 且视图出口指向同一个视图，则在加载 nib 时会引发 UIViewControllerHierarchyInconsistency 异常，例如通过调用其中一个视图控制器的 .view 属性。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-03T14:29:50.133

只是为了添加到 Matt 和 owenfi 的答案中，一般来说（或者至少是我到目前为止所看到的），当您为 a 创建自定义 XIB`UIViewController`并在 Interface Builder 中添加**视图控制器和视图**时，会发生这种情况。是您的视图控制器的子视图。

这会导致视图的出口设置为`UIViewController`您在 IB 中拥有的以及设置为文件所有者的类，因此是`UIViewControllerHierarchyInconsistency`例外。

有关解释该问题的一些屏幕截图，请参阅[此答案](https://stackoverflow.com/a/12450770/1123448)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-18T14:27:43.643

迁移到 iOS 6 后，我遇到了同样的弹出框控件问题。但是，我的实现与这里的答案略有不同。所以，我想分享我的解决方案：

我在 xib 中有一个视图，但它显示在不同的位置，在弹出视图中的屏幕上有不同的数据。当我显示视图时，我创建了一个 UIViewController 并将我的视图分配为控制器的视图。它第一次工作，但是当我第二次尝试显示它时，它会因 UIViewControllerHierarchyInconsistency 而崩溃。因此，我定义了一个全局 UIViewController，如下面的代码所示。

崩溃：

```
-(void) showInTrainWindow:(int)trainLegId onView:(UIView *)view
{
    //update labels on vwTrain for trainLegId
    [self prepareInTrainProperties:trainLegId];
    UIViewController* popoverContent = [[UIViewController alloc] init];
    popoverContent.view = vwInTrain; //IT WAS CRASHING ON THIS LINE    
    popoverContent.contentSizeForViewInPopover = CGSizeMake(vwInTrain.frame.size.width, vwInTrain.frame.size.height);
    self.popoverController = [[UIPopoverController alloc] initWithContentViewController:popoverContent];
    self.popoverController.delegate = self;    
    [self.popoverController presentPopoverFromRect:CGRectMake(325, view.frame.origin.y - scrollViewTimeLine.contentOffset.y + 65, 1, 1)
                                            inView:vwTimeLine
                          permittedArrowDirections:UIPopoverArrowDirectionLeft
                                          animated:YES];
    [popoverContent release];
} 
```

固定的：

```
-(void) showInTrainWindow:(int)trainLegId onView:(UIView *)view
{
    //update labels on vwTrain for trainLegId
    [self prepareInTrainProperties:trainLegId];
    if ( self.popoverContentInTrain == nil )
    {
        self.popoverContentInTrain = [[UIViewController alloc] init];
        self.popoverContentInTrain.view = vwInTrain;
        self.popoverContentInTrain.contentSizeForViewInPopover = CGSizeMake(vwInTrain.frame.size.width, vwInTrain.frame.size.height);
    }
    self.popoverController = [[UIPopoverController alloc] initWithContentViewController:self.popoverContentInTrain];
    self.popoverController.delegate = self;    
    [self.popoverController presentPopoverFromRect:CGRectMake(325, view.frame.origin.y - scrollViewTimeLine.contentOffset.y + 65, 1, 1)
                                            inView:vwTimeLine
                          permittedArrowDirections:UIPopoverArrowDirectionLeft
                                          animated:YES];
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-14T23:30:41.473

如果您不遵循以下准则，也会发生此错误：[创建自定义内容视图控制器](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/BasicViewControllers/BasicViewControllers.html)

基本上，您需要调用：

> [yourVC removeFromParentViewController];

如果你有

> [parentVC addChildViewController:yourVC];

此错误通常与“活动视图控制器”有关

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-12T00:04:52.600

当我希望设置滚动视图出现在弹出窗口中时，我遇到了同样的错误。

这是我的原始代码，其中包含关于我为解决它所做的更改的注释：

```
SettingsViewController *settingsViewController;
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"Storyboard" bundle:nil];    
settingsViewController = [storyboard instantiateViewControllerWithIdentifier:@"Settings"];

CGRect contentRect = CGRectMake(10, 10, 320, 700);

// This entire object got deleted in the fixed version
UIViewController *popoverContent = [[UIViewController alloc] init];
popoverContent.view = settingsViewController.view;
popoverContent.contentSizeForViewInPopover = contentRect.size;

// Instead of popoverContent I just put the settingsViewController in directly.
UIPopoverController *popoverController = [[UIPopoverController alloc] initWithContentViewController:popoverContent];

[popoverController presentPopoverFromRect:[sender frame]
                                   inView:(UIButton*)sender
                 permittedArrowDirections:UIPopoverArrowDirectionLeft
                                 animated:YES]; 
```

该行`popoverContent.view = settingsViewController.view`是导致崩溃的原因（没有它，我的弹出框当然是空的）。从 UIViewControllerHierarchyInconsistency 错误的角度来看，我不应该重新分配它然后将其添加到另一个视图控制器是有道理的。

在您的情况下，我猜在 pushViewController 或您的代码中的其他地方发生了类似的事情。可能是这样吗？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-06-06T10:29:44.570

我坚持的原因之一是我将 a 复制`ViewController`到`storyboard`了一个`xib`文件，以便根据我的需要以编程方式加载。但是在 xib 中，我应该真正复制视图而不是整个视图控制器。并将其设置`file owner`为我的自定义视图控制器。这解决了我类似的错误问题。

# iphone - 如何确定 NSData 对象是否包含特定的 HTML 标记？

> ID：11877267
> 
> 赞同：-4
> 
> 时间：2012-08-09T05:26:28.320
> 
> 标签：iphone, objective-c, cocoa-touch, nsdata

> **可能重复：**
> [解析 NSData 对象以获取信息](https://stackoverflow.com/questions/9507053/parsing-nsdata-object-for-information)

我有一个 NSData 对象。我想看看它是否包含 HTML 标签。如何解析 NSData 对象以获取此信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:40:01.147

解析字节并查找代表 HTML 标记的字节。

# c++ - 需要的建议

> ID：11877269
> 
> 赞同：0
> 
> 时间：2012-08-09T05:26:36.373
> 
> 标签：c++, pointers

我花了一个月的时间来掌握 C++ 的基础知识。指针、向量等。无论我在哪里阅读理论，我都喜欢，我知道这一点。我真的很想解决指针问题，以便我知道我将能够应用这个概念。任何人都可以推荐一本书或指针问题（因为我觉得它们是最难实现的）我可以通过吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:35:59.687

实现一个（双重或循环）链表。确保它具有内存效率并自行清理。当你在做的时候，为它实现一些算法，比如龟兔赛跑。

# cpu-usage - 使用 SIGAR 收集服务器的 CPU 信息

> ID：11877272
> 
> 赞同：1
> 
> 时间：2012-08-09T05:26:44.757
> 
> 标签：cpu-usage, sigar

我们需要监控几个服务器的 CPU，我相信 SIGAR 是最好的选择。我们希望将 SIGAR 库安装为 rpm(redhat)，并且需要一个文档来向我们展示如何启动 SIGAR 以从服务器收集数据。收集数据后，我们可以将数据推送到网络服务器，该服务器将解析数据并绘制图表。

我对 SIGAR 很陌生，不知道它的功能，所以我在这里发布我的问题。

注意：我们不想在服务器上安装任何额外的软件，例如 JVM 等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-17T15:48:14.107

如果服务器的 CPU 信息是您唯一需要的，只需创建到目标服务器的 SSH 隧道并定期运行 SAR 命令并解析图表的结果。

# magento - Magento 顶部导航 - 在 Level1 项目的末尾添加 Level0 导航的“购买所有样式”链接

> ID：11877280
> 
> 赞同：0
> 
> 时间：2012-08-09T05:27:26.900
> 
> 标签：magento, navigation

有没有办法`'Shop all (parent category)'`在导航 level1 lis 的末尾包含一个链接，**而无需**添加另一个名为“shop all ...”的类别

例如：

```
Tops:
     T-Shirts
     Tanks
     Jackets
     Shop All Tops <- Dynamically add this which links to the Tops parent category. 
```

top.phtml 只包含

```
<?php $_menu = $this->renderCategoriesMenuHtml(0,'level-top') ?>
<?php if($_menu): ?>
<div class="nav-container">
    <ul id="nav">
        <?php echo $_menu ?>
    </ul>
</div>
<?php endif ?> 
```

`<li>`在 echo $_menu 之后添加一个将其添加到 level0 的末尾。renderCategoriesMenuHtml 函数位于 Navigation.php 文件中，该文件包含所有函数。

基本上我想找到父类别，将其存储在一个变量中并在 level1 列表项的末尾回显它（和链接），但不知道是否有 .phtml 文件允许我这样做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T20:01:28.717

不幸的是，您几乎无法使用默认模板来自定义导航菜单。您最好的选择是重写模板以满足您的需求，放弃：

```
 $this->renderCategoriesMenuHtml() 
```

相反，在每个类别级别上运行一些 foreach 循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:17:39.500

通过将 top.phtml 中的所有内容替换为以下内容，我得到了我想要的结果。它为 level0 和 level1 保持相同的类以及锚标记内的 span 结构，以便保留任何以前的样式。

```
 <?php $_helper = Mage::helper('catalog/category') ?>
<?php $_categories = $_helper->getStoreCategories() ?>
<?php $currentCategory = Mage::registry('current_category') ?>
<?php if (count($_categories) > 0): ?>
<div class="nav-container">   
 <ul id="nav">
        <?php foreach($_categories as $_category): ?>
            <li class="level0 level-top first parent">
                <a href="<?php echo $_helper->getCategoryUrl($_category) ?>">
                   </span> <?php echo $_category->getName() ?></span>
                </a>
                <?php $_category = Mage::getModel('catalog/category')->load($_category->getId()) ?>
                <?php $_subcategories = $_category->getChildrenCategories() ?>
                <?php if (count($_subcategories) > 0): ?>
                    <ul>
                        <?php foreach($_subcategories as $_subcategory): ?>
                            <li class="level1">
                                <a href="<?php echo $_helper->getCategoryUrl($_subcategory) ?>">
                                   <span><?php echo $_subcategory->getName() ?></span>
                                </a>
                            </li>
                        <?php endforeach; ?>
<li><a href="<?php echo $_helper->getCategoryUrl($_category) ?>"><span>Shop all <?php echo $_category->getName() ?></span></a></li>
                    </ul>
                <?php endif; ?>
            </li>
        <?php endforeach; ?>
    </ul>
</div>
<?php endif; ?> 
```

# email - Corona SDK 或 Appcelerator

> ID：11877288
> 
> 赞同：3
> 
> 时间：2012-08-09T05:27:57.903
> 
> 标签：email, frameworks, appcelerator, coronasdk

哪个是更好的移动跨平台开发框架 - Corona 或 Appcelerator Titanium？基本上我只想为我的应用程序创建一个“邮件框架”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T04:03:37.277

对于初学者，你应该检查这个关于这个主题[的非常非常深入的对话。](https://stackoverflow.com/questions/1482586/comparison-between-corona-phonegap-titanium)

我从未使用过 Corona，但从这次谈话中我了解到它主要用于游戏开发。

“Corona SDK (Ansca Mobile) 使用 Lua 作为其编码语言。有关 Lua 的更多信息，请参见 lua.org。

虽然我们计划添加进一步的 Web 集成和原生 UI 元素，但我们的重点将倾向于图形密集型应用程序，例如游戏开发，而不是基于 Web 的技术。换句话说，我们不希望人们完全用 Javascript/HTML/CSS 编写 Corona 应用程序。”

Titanium 对于 UI 开发更有用，因为它利用了本机 UI 元素，因此“邮件框架”似乎最适合 Titanium 开发。[继续查看 Titanium 的文档并查看所有可用的原生 UI 元素。](http://docs.appcelerator.com/titanium/2.1/index.html)

# c# - 使用 webmethod/pagemethod 返回具有键/值对的对象数组

> ID：11877292
> 
> 赞同：0
> 
> 时间：2012-08-09T05:28:32.017
> 
> 标签：c#, asp.net, .net, vb.net, asp.net-ajax

我想获取一个对象数组并根据键获取一个值。

像这样的javascript：

```
PageMethods.GetProducts(function(results) {
   var productName  = results[0].name;
}); 
```

我在后面的代码中试过这个，但我在结果中得到了一个数组数组：

VB

```
<WebMethod()>
    Public Shared Function GetProducts() As ArrayList

        Dim products As New ArrayList

        Dim prAdptr As New DataSet1TableAdapters.ProductsTableAdapter
        Dim prTbl As DataSet1.ProductsDataTable = prAdptr.GetData
        Dim prRow As DataSet1.ProductsRow

        For Each prRow In prTbl
            Dim product As New Collection
            product.Add(prRow.ProductID, "id")
            product.Add(prRow.ProductName, "name")

            products.Add(product)
        Next

        Return products
    End Function 
```

C＃

```
[WebMethod()]
public static ArrayList GetProducts()
{

    ArrayList products = new ArrayList();

    DataSet1TableAdapters.ProductsTableAdapter prAdptr = new DataSet1TableAdapters.ProductsTableAdapter();
    DataSet1.ProductsDataTable prTbl = prAdptr.GetData;
    DataSet1.ProductsRow prRow = default(DataSet1.ProductsRow);

    foreach ( prRow in prTbl) {
        Collection product = new Collection();
        product.Add(prRow.ProductID, "id");
        product.Add(prRow.ProductName, "name");

        products.Add(product);
    }

    return products;
} 
```

因此，我无法根据密钥获得价值。我知道我可以像这样引用值的位置：

```
results[0][0]; 
```

但这并不理想。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:42:10.997

您可以使用`Anonymous Types` [http://msdn.microsoft.com/en-us/library/bb397696.aspx](http://msdn.microsoft.com/en-us/library/bb397696.aspx)

```
foreach ( prRow in prTbl) {
    products.Add(new {
        id=prRow.ProductID,
        name=prRow.ProductName
    });
} 
```

# django - 我的项目文件夹中的 django-registration

> ID：11877297
> 
> 赞同：1
> 
> 时间：2012-08-09T05:29:15.430
> 
> 标签：django, django-registration

我还没有测试过。但是我听说当我安装 Django-registration 时，它安装在你的 python 路径上，而不是它自己的项目中。有什么办法，我可以在我的项目文件夹下安装为一个APP，这样我就可以更好地控制它了？

如果答案是否定的，我是否有理由不能在我的项目下使用单独的包？

谢谢，RM

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:46:11.010

你当然可以这样做。只需[将源包解](https://bitbucket.org/ubernostrum/django-registration/src/27bccd108cde/registration)压缩到您的 Django 项目文件夹中。最后，您的项目目录应如下所示：

```
my_project
    my_app
    registration 
```

`registration`是包含上述链接中所有文件的目录。不要忘记添加`registration`到您的`INSTALLED_APPS`.

注意：虽然这不是一个好习惯。即使您只是将 django-registration 安装到您的`PYTHONPAYH`系统中，仍然有一些方法可以正确扩展它。当然，这取决于您要进行的修改量。有时只需覆盖像 forms.py、urls.py 或 views.py 这样的文件就足够了。将它们放入您项目中的自定义注册应用程序中，将它们添加到主注册应用程序`INSTALLED_APPS` **之前**`urls.py`并修改您的项目，使其指向您自定义注册应用程序的视图/网址/表单。

所有这些都需要您详细了解 django-registration 的工作原理。

# javascript - 如何使用 youtube 上传日期作为与真实日期的时间比较？

> ID：11877298
> 
> 赞同：0
> 
> 时间：2012-08-09T05:29:16.720
> 
> 标签：javascript, jquery, html, css, youtube

我有这个 youtube rss 数据给我的字符串，我可以抓取它并存储它，但我不知道如何将字符串操作成我想要使用它的东西。

```
2012-08-08T16:49:52.000Z 
```

我想使用上面的字符串并创建一个 jquery 函数，该函数将解析它并吐出视频上传的时间。例如：1 天前、15 天前、20 天前。我不希望解析工作太多，但是如果弄清楚视频上传多少天之前的逻辑非常困难，那么我只会将上传日期显示为月日。例如：8 月 8 日

简而言之：

*   我需要在提供的字符串中获取 T 字符之前的日期
*   然后将其显示为 3 天前格式或月日格式

我不知道该怎么做。希望有人可以帮助我。:)

更新：因此，由于这篇文章中的评论，我已将日期与其他上传信息分开。

```
var uploadDate = x.substring(0, x.indexOf('T')); 
```

给我`2012-08-08`

更新2：我已经解析了月份和日期`split()`

```
var date = uploadDate.split('-');
var month = date[1];
var day = date[2]; 
```

给出答案后的我的代码

```
function differenceDate(dateStr) {
    var dateString = dateStr.split('T')[0];
    var date = dateString.split('-');
    var firstDate = new Date(parseInt(date[0],10), parseInt(date[1],10)-1, parseInt(date[2],10));
    var secondDate = new Date();
    var diffDate = secondDate.getTime() - firstDate.getTime();
    var converted = diffDate/1000/60/60/24;

    var uploaded;
    if(converted < 1){
        uploaded = 'few hours ago';
    } else if(converted>1 && converted<2){
        uploaded = '1 day ago';
    } else if(converted>2){
        var daysAgo = Math.floor(converted);
        uploaded = daysAgo+ ' days ago';
    }

    return uploaded;
}
var daysAgo = differenceDate( '2012-08-08T16:49:52.000Z' ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:01:21.160

由于您可以获取日期字符串，我假设您可以将其从 'T' char 拆分并将结果数组的索引 0 发送到您最喜欢的日期差异函数:) 即

```
function millisBetween(dateStr) {

    var dateArray = dateStr.split("-");

    // new Date(year, month, day)
    var firstDate = new Date(parseInt(dateArray[0],10), parseInt(dateArray[1],10) - 1, parseInt(dateArray[2],10));

     // today
    var secondDate = new Date();

    var millisBetween = secondDate.getTime() - firstDate.getTime();

    return millisBetween;
}

var strDatePart = "2012-08-08T16:49:52.000Z".split("T")[0];
var millis = millisBetween(strDatePart); // date difference in milliseconds 
```

在此之后，您所要做的就是检查millis 变量并确定视频是几分钟前、几小时前或几年前上传的。

# google-app-engine - 2012 年谷歌应用引擎开发使用哪个 java web 框架？

> ID：11877299
> 
> 赞同：2
> 
> 时间：2012-08-09T05:29:31.530
> 
> 标签：google-app-engine, tapestry, click-framework

我正在研究开发简单的 Java Web 应用程序以部署在 GAE 上，并在此过程中了解 Java Web 开发。我不倾向于使用 Wicket 和 Vaadin 等基于 RIA 组件的框架。

我看过 Play 2.0、Tapestry 5 和 Click，其中 Play 2.0 不能在 GAE 上使用（我不想努力学习已经成为过去的 Play 1.0）。我在使用 Javascript 进行客户端编程方面没有问题。所以，我不考虑 GWT。

我已经阅读了一些文档。Click 似乎很容易在 GAE 上部署。但是，Tapestry 5 似乎是一个学习和学习并成为更好的软件/Web 开发人员的好框架。但是，我在谷歌上搜索使用 Tapestry 和 GAE 的页面显示了一些关于如何让它在 GAE 上运行而不是对 GAE 本身提供一流支持的黑客攻击。

如果它能让我成为一个更好的程序员，我不介意努力学习一个复杂的框架。有没有人有在 GAE 上使用 Tapestry 的经验？还是我应该去点击？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T08:50:18.667

在 2012 年，如果您认真对待 Web 开发，您需要同时使用服务器端和客户端框架。

这是我推荐的：

1.  服务器端：使用在一个包中同时提供 HTML 生成和 REST/JSON 支持的东西。对于 Java，一个自然的选择是[JAX-RS 标准](http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services)。我将[RESTEasy](http://www.jboss.org/resteasy)与[HtmlEasy](http://code.google.com/p/htmleasy/)一起使用，您可以在其中选择您选择的模板库。我推荐[丝绸](https://github.com/codedance/silken)。

2.  客户端。既然你是 java 开发者，我推荐 GWT。这很棒。只是不要使用它的小部件或 UiBinder。使用纯 HTML（它是在服务器上生成的，对），然后通过[GwtQuery](http://code.google.com/p/gwtquery/)添加代码。还要[避免 GWT-RPC](http://www.zackgrossbart.com/hackito/antiptrn-gwt2/)或 RequestFactory，使用 REST（[GETResty](http://restygwt.fusesource.org/index.html)或[SpiffyUI](http://www.spiffyui.org/)）。

# c# - 列出 dll 中使用的命名空间

> ID：11877302
> 
> 赞同：1
> 
> 时间：2012-08-09T05:30:24.927
> 
> 标签：c#, .net, namespaces

> **可能重复：**
> [使用反射 (DotNET) 查找程序集中的所有命名空间](https://stackoverflow.com/questions/1549198/finding-all-namespaces-in-an-assembly-using-reflection-dotnet)

让我们考虑一下我有 10 到 30 个 dll 的列表，我需要列出这些 dll 导入的所有命名空间。

我尝试使用反射作为以下代码

```
string[] fileEntries = Directory.GetFiles(sDir, "*.dll");
                foreach (string fileName in fileEntries)
                {
                    Assembly assembly = Assembly.LoadFrom(fileName);
                    List<string> namespaces = new List<string>();
                    foreach (var type in assembly.GetTypes())
                    {
                        string ns = type.Namespace;
                        if (!namespaces.Contains(ns))
                        {
                            namespaces.Add(ns);
                            Console.WriteLine(ns);
                        }
                    }

                } 
```

但它只检索那些 dll 的唯一名称空间。

例如让我们考虑一个程序

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.IO;

namespace sample
{
    public partial class sample : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            string pth = filepth("D:/sample1/s.txt");
            createfile(pth);
            Response.Write("File created on path :" + pth);
        }
     }      
} 
```

基于上面的代码，它只**检索示例**，但我需要**检索所有**用作

**

```
using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Web;
    using System.Web.UI;
    using System.Web.UI.WebControls;
    using System.IO; 
```

**

你能指导我吗..

等待您的宝贵意见

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:38:44.647

运行时没有任何命名空间。此外，在您提供的示例中，并没有使用源代码中的每个命名空间（从上下文菜单中执行“组织使用 -> 删除未使用的使用”）。

您可以查找特定程序集的引用程序集，而不是命名空间。为了做你想做的事，你需要知道**每**一种类型，在特定的汇编代码中**使用**（未声明，这很容易获得！）。

我不知道，如果不分析 IL 代码，如何做到这一点。希望，[塞西尔](http://www.mono-project.com/Cecil)可以帮助你......但这并不容易，也不是只有反思的任务。

引用`MethodBody`MSDN 中的课堂备注：

> 您可以使用模块类的令牌解析方法，如ResolveType、ResolveMethod和ResolveType，将方法体中的令牌解析为提供类型、方法详细信息的Type对象、MethodInfo对象和FieldInfo对象，以及方法主体中 MSIL 访问的字段。解析方法体需要对元数据和 MSIL 指令格式有透彻的了解。可以在公共语言基础结构 (CLI) 文档中找到信息

您想自己学习 CLI 规范吗？:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:38:53.127

你想要的不是一件容易的事，反思当然不是要走的路。主要是因为它不会让您访问引用他们正在使用的类的方法的来源。

我能想到的唯一解决方案是作为[cci](http://ccimetadata.codeplex.com/)的工具，它为您提供遍历 dll 的所有组件的方法。特别是您可以访问每行代码引用的每种类型/方法，并生成您想要的列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:42:25.267

> 右键单击using块，您会在上下文菜单中找到“组织使用”，其中有一个名为“删除未使用的使用”的功能。

上面的句子与您的问题无关，但它告诉我们一个事实，即 .cs 文件顶部的 using 块中的 usings 有时不使用。除非您像 Visual Studio 那样分析整个代码，否则很难判断是否使用了命名空间。

并且使用反射，就像`assembly.GetTypes()`在你的代码中一样，给出了在程序集中**定义**的类型，而不是在程序集中**使用**的类型。

# python - PSSE/Python 导入 excel 值并从 PSSE 导出总线电压

> ID：11877310
> 
> 赞同：0
> 
> 时间：2012-08-09T05:31:38.797
> 
> 标签：python, excel, psse

有人可以帮助我使用Python。我正在尝试针对负载和发电的不同值运行 168 牛顿拉夫森潮流研究。我在 Excel 电子表格中列出了这些值，并希望将这些值自动上传到 PSSE，运行模拟，然后将总线电压结果导出到另一个电子表格中，用于单独列中的所有 168 个模拟。

我有以下代码，但第 47 行显示错误： def runstudy(hour, values) SyntaxError: invalid syntax

我不知道如何纠正这个问题。

任何帮助将不胜感激

```
from __future__ import with_statement
from collections import defaultdict
import csv

import psspy

CSV_PQ_FILENAME = 'c:/Users\14088757\Desktop\EP401_Simulation Values_1.1.csv'
OUTPUT_CSV_FILENAME = 'c:/Users\14088757\Desktop\EP401_Simulation Values_1.1.csv'
STUDY_BASECASE = 'c:/Users\14088757\Desktop\EP401_PSSE_URA_20120716_6626.01.sav'

with open(CSV_PQ_FILENAME) as csvfile:
    reader = csv.reader(csvfile)
    headers = reader.next()
    data = list(reader)

# now all the data from that sheet is in 'data'
# the columns are:

# load?, bus num, id, p or q, 6625, 6626, .... 

hourly_data = defaultdict(list)

hour_headings = headers[4:]

for row in data:
    isload, busnum, _id, porq = row[:4]
    hour_values = row[4:]

    # group all of the hourly data together in one list.
    for hour, value in zip(hour_headings, hour_values):
        hourly_data[hour].append(
            (int(isload), int(busnum), _id, porq, float(value))

# hourly_data now looks like this:
# { '6626': [
#             (1, 104, '1', 'P', 0.33243)
#             ...
#            ],
#   '6627': [ ... ]
#   '6628': [ ... ]
#}

# lets run some simulations.

def runstudy(hour, values)

    # reload the base case.
    psspy.case(STUDY_BASECASE)

    # assume CSV has columns as described in the doc string
    for isload, bus, _id, porq, value in values:

        if isload:
            if porq.lower() == 'p':
                psspy.load_data_3(bus, _id, realar1=value)
            elif porq.lower() == 'q':
                psspy.load_data_3(bus, _id, realar2=value)
        else:
            psspy.machine_data_2(bus, _id, realar1=value)

    # solve case after adding all loads / machines.
    psspy.fnsl()

    # return the bus voltages.
    # now to write the new bus voltages to a file.
    ierr, (voltages,) = psspy.abusreal(sid=-1, string=["PU"])
    ierr, (buses,) = psspy.abusint(sid=-1, string=["NUMBER"])

    return buses, voltages

# here we assume the buses will always be the same, no need
# keep storing them. I'll only store the voltages.
all_results = {}
for hour, values in hourly_data.items():
    buses, voltages = runstudy(hour, values)
    all_results[hour] = voltages

# now write all the results to a csv file
# CSV will have these columns:

# bus number, voltage (pu) 2265, 2267, ...
spreadsheet_results = [['buses'] + buses]
for hour, voltages in all_results.items():
    spreadsheet_results.append([hour + ' pu'] + voltages)

# spreadsheet_results now looks like the one we want to write to the CSV.
with open(OUTPUT_CSV_FILENAME, 'wb') as output:
    output.writerows(spreadsheet_results) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-19T02:53:40.127

吉姆，

有一个简单的语法错误。我相信你现在已经注意到了。做这个 -

```
def runstudy(hours, values): 
```

除非您共享您的 .sav 和 .csv 文件，否则我不能对其余代码多说。我想知道它是怎么回事，特别是因为我对 PSSE 很感兴趣。如果您需要进一步的帮助，请将文件邮寄给我。

# python - 从 python 子进程获取数据到 Node.js

> ID：11877311
> 
> 赞同：0
> 
> 时间：2012-08-09T05:31:46.867
> 
> 标签：python, node.js, child-process

我有一些**Python**代码，我正在从`Node.js`. 我能够执行代码，但是我坚持将数据从 Python 流式传输到**node.js**。

帮助我确定如何将数据流式传输到`node.js`.

PS 我对 Python 和 Node.js 都很陌生

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:27:47.220

你现在是怎么做的？听起来您应该使用[子进程](http://nodejs.org/api/child_process.html)库。

你是用`exec`还是`spawn`？它们的工作方式略有不同，但它们要么有回调 ( `exec`)，要么有在接收到数据时触发的事件 ( `spawn`)。

该页面上的示例非常明确。这些示例中是否有您不理解的具体内容？您是否可以提供一些示例代码来澄清您的问题？

# drupal - 网络表单中的全文搜索

> ID：11877322
> 
> 赞同：1
> 
> 时间：2012-08-09T05:34:16.770
> 
> 标签：drupal, drupal-7, drupal-webform, drupal-search

我使用 webform 创建了一个表单，并在视图中使用它来显示填充的条目。现在我想进行全文搜索，可以从网络表单中的可用数据中搜索数据。我试图索引 webforms 字段，但搜索 Api 中的索引类型中没有 webform 类型。请帮助我如何做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T04:09:31.957

跟着这些步骤..

1.  结构 -> 数据表 -> webform 表将 sid 设置为主键。
2.  配置搜索检查所有字段。
3.  清除缓存
4.  创建新的搜索索引
5.  选择网络表单字段并索引所有。
6.  从索引搜索创建新视图。
7.  从搜索字段中选择全文搜索

# javascript - jquery onkey左右滑动不能正常工作？

> ID：11877331
> 
> 赞同：0
> 
> 时间：2012-08-09T05:35:20.693
> 
> 标签：javascript, jquery

我正在尝试使用左右键水平浏览带有 php 的分页列表。按右键后，Jquery 似乎卡在一个数字上，即 2 号。我想知道我在下面做错了什么：非常感谢。

```
 $(document).ready(function(){
                function loading_show(){
                    $('#loading').html("<img src='images/loading.gif'/>").fadeIn('fast');
                }
                function loading_hide(){
                    $('#loading').fadeOut('fast');
                }                
                function loadData(page){
                    loading_show();
                    $.ajax
                    ({
                        type: "POST",
                        url: "load_data.php",
                        data: "page="+page, 
                        success: function(msg)
                        {
                            $("#container").ajaxComplete(function(event, request, settings)
                            {
                                loading_hide();
                                $("#container").html(msg);
                            });
                        }
                    });
                }
                loadData(1);  // For first time page load default results
                $('#container .pagination li.active').live('click',function(){
                    var page = $(this).attr('p');
                    loadData(page);

                });           
                $('#go_btn').live('click',function(){
                    var page = parseInt($('.goto').val());
                    var no_of_pages = parseInt($('.total').attr('a'));
                    if(page != 0 && page <= no_of_pages){
                        loadData(page);
                    }else{
                        alert('Enter a PAGE between 1 and '+no_of_pages);
                        $('.goto').val("").focus();
                        return false;
                    }

                });

$(document).keydown(function(e){
    if (e.keyCode == 39) {
        //do while( ){

        var page = $('#container .pagination li.active').attr('p');
        var add= 1
        var key = parseInt(page) + parseInt(add);
        //document.write(key);
                    loadData(key);
                    var page = key
        //}

       return false;
    }
});
            }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:49:42.340

首先，您在这里缺少分号：`var add= 1`和这里：`var page = key`。其次，如果没有您的完整 HTML 代码，这里没有人可以确定确切的问题。此问题涉及 AJAX 响应，我们在您的问题中没有要查看的示例响应。

无论如何，如果您卡在第二页上，那么`p`您的元素的属性`li.active`不会增加 - 它在每次页面加载时设置为 1。负责提供 HTML 的服务器端进程不会返回您期望的 HTML。尝试使用`console.log`或警报来验证 HTML 的内容：

在你的`.ajaxComplete`方法里面：

```
alert(msg); 
```

您应该会发现该`p`属性始终设置为 1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:48:04.877

```
$(function() {
    $(document).on('keyup', function() {
        var KEY_LEFT = 37;
        var KEY_RIGHT = 39;

        var currentPage = $('#container .pagination li.active');

        switch (e.keyCode) {
            case KEY_LEFT:
                var page = currentPage.removeClass('active')
                                        .prev()
                                        .addClass('active')
                                        .attr('data-page');

                loadData(page);
                break;

            case KEY_RIGHT:
                var page = currentPage.removeClass('active')
                                        .next()
                                        .addClass('active')
                                        .attr('data-page');

                loadData(page);
                break;
        }
    });
}); 
```

HTML：

```
<ul class="pagination">
    <li data-page="3">3</li>
    <li data-page="4">4</li>
    <li class="active" data-page="5">5</li>
    <li data-page="6">6</li>
    <li data-page="7">7</li>
</ul> 
```

# function - Mysql函数错误

> ID：11877332
> 
> 赞同：1
> 
> 时间：2012-08-09T05:35:25.663
> 
> 标签：function, cursor

我是 MySql 的新手......我试图编写一个函数来计算任何驱动程序的总打孔时间。我的表中有 driver_id、login_datetime、login_status(0/1)。如果 login_status 为 1 ，则 login_datetime 为登录时间，如果 status 为 0 则为注销时间。

我想传递驱动程序 ID 并希望获得他的总工作时间....但是通过此代码，它不会返回任何获取或检索的行..请在这件事上提供帮助...

我的一段代码如下

```
DROP FUNCTION IF EXISTS `time_calc`;

CREATE DEFINER = `root`@`localhost` FUNCTION `time_calc`(driver integer)
 RETURNS int(11)
BEGIN

DECLARE a BIGINT(255);
DECLARE b int(11);
DECLARE c INT(25);
DECLARE d TIMESTAMP;
DECLARE e TIMESTAMP;
DECLARE f TIMESTAMP;
DECLARE g VARCHAR(1);
DECLARE log_time TIMESTAMP;
DECLARE out_time TIMESTAMP;
DECLARE tot_time DOUBLE DEFAULT 0;
DECLARE pre_time DOUBLE DEFAULT 0;
DECLARE cnt INTEGER;
declare login_stat VARCHAR(1);

DECLARE cur1 CURSOR FOR SELECT * FROM clg where driver_id=driver;

OPEN cur1;
read_loop: LOOP
    FETCH cur1 INTO a,b,c,d,e,f,g;

    if g=1 THEN
            SET log_time=f;
ELSEIF g=0 THEN
            SET out_time=f;
        SET  pre_time= TIME_TO_SEC(TIMEDIFF(out_time,log_time))/3600;
        end if;
        SET tot_time=tot_time+pre_time;

  END LOOP;

  CLOSE cur1;

    RETURN tot_time;
END; 
```

# dynamics-crm-2011 - 将工作流中电子邮件活动的相关字段设置为主要实体

> ID：11877337
> 
> 赞同：1
> 
> 时间：2012-08-09T05:36:28.380
> 
> 标签：dynamics-crm-2011

有没有办法将工作流中发送电子邮件活动中电子邮件的“关于”字段设置为工作流的主要实体？

我尝试使用表单助手，但它不允许我将工作流的主要实体绑定到电子邮件的相关字段。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T06:23:21.950

听起来好像没有为实体启用活动。转到实体配置屏幕并检查。当我对启用了活动的实体使用“发送电子邮件”步骤时，它会将“相关”字段默认为主要实体。

# c# - 使用 C# 中的代码在按钮单击时创建 Javascript 警报

> ID：11877338
> 
> 赞同：0
> 
> 时间：2012-08-09T05:36:37.373
> 
> 标签：c#, javascript, asp.net, button

我正在使用下面的代码在后面的代码中创建一个按钮，并为该按钮创建确认消息框。但它不起作用请帮我创建这个..

```
Button btn2 = new Button();
btn2.Attributes.Add(
    "OnClientClick", 
    "if (confirm(''Are you sure you want to add this estimate data?')) return;");

if(true) 
{
    //Do something
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:43:09.887

```
btn2.Attributes.Add("onclick", "javascript:return confirm('Are you sure you want to add this    estimate data??')"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:49:06.600

您可以使用以下代码：

```
btn2.Attributes.Add("onclick", "return confirm('Are you sure you want to add this estimate data?');") 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-09T05:57:21.853

您可以将 ajaxcotoroll 工具包引用添加到您的网站，并为每个按钮动态创建确认

```
Button btn2 = new Button();
btn.ID="buttonID";
ConfirmButtonExtender confirm = new ConfirmButtonExtender();
confirm.TargetControlID = "buttonID";
confirm.ConfirmText="Are you sure you want to add this    estimate data??'"; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-09T06:03:41.250

您也可以使用以下代码：-

```
btn2.Attributes["onClick"] = "return confirm('Are you sure you want to add this   estimate data??');" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T06:10:37.860

试试这个鳕鱼：

```
 Button yourbtnid = new Button();
 yourbtnid.ID="Button1";
 ConfirmButtonExtender conf = new ConfirmButtonExtender();
 conf.TargetControlID = "Button1";
 conf.ConfirmText="Are you sure you want to add this    estimate data??'"; 
```

这是使用 Ajaxcontroll 调用..

或者

```
Button yourbtnid = new Button();
yourbtnid.Attributes.Add(
     "OnClientClick", 
     "return confirm('Are you sure you want to add this    estimate data??');"); 
```

# php - 如何使用 PHP 处理 403 错误

> ID：11877340
> 
> 赞同：1
> 
> 时间：2012-08-09T05:37:16.690
> 
> 标签：php, http-status-code-403

我已经构建了一个 php 脚本，由于通过 $_POST 方法发送的数据的长度和内容，有时可以让服务器返回 403 错误消息（禁止访问）。由于某些 mod_secure 规则过滤了服务器上发送的数据，因此返回了此 403 错误消息。

是否可以让 PHP 处理此 403 错误消息？例如，我会在运行脚本时捕获服务器状态，然后在服务器返回 403 状态代码时显示错误消息。这甚至可以在 PHP 中做到这一点吗？

换句话说，在不进行重定向的情况下，如果服务器在执行 PHP 脚本本身时返回 403 状态代码，我只想在当前页面中显示一条自定义消息。

感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:42:26.743

它将为 Apache 中的 403 错误设置一个自定义错误文档，并将其指向一个脚本来处理错误。请参阅有关如何执行此操作的[ErrorDocument文档，但大致如下：](http://httpd.apache.org/docs/2.0/mod/core.html#errordocument)

```
ErrorDocument 403 /custom_403_handler.php 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:43:35.300

因此，我为您提供了三种可能的解决方案。

1.  检查 URL 错误并确保指定了实际网页。当 URL 指向目录而不是网页时，网站返回 403 Forbidden 错误的常见原因。这可以使用 PHP 中的 HttpRequest 类来完成。您可以使用[http_get](http://us2.php.net/manual/en/function.http-get.php)来执行 GET 请求。您也可以[在此处测试 URL](http://web-sniffer.net/)。

    ```
    <?php
    $response = http_get("URL", array("timeout"=>1), $info);
    print_r($info);
    ?> 
    ```

    输出：

    ```
    array (
       'effective_url' => 'URL',
       'response_code' => 403,
       .
       and so on
       ) 
    ```

    对您来说重要的是 response_code ，您可以使用它进一步发挥作用。

2.  使用卷曲。

    ```
    function http_response($url)
    { 
        $ch = curl_init(); 
        curl_setopt($ch, CURLOPT_URL, $url); 
        curl_setopt($ch, CURLOPT_HEADER, TRUE); 
        curl_setopt($ch, CURLOPT_NOBODY, TRUE); 
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE); 
        $head = curl_exec($ch); 
        $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE); 
        curl_close($ch); 

        if(!$head) 
        {  
         return FALSE; 
        } 

        return $httpCode;
    }

    $errorcode = http_response("URL");    //if success 200 otherwise different 
    ```

3.  如果您确定要访问的页面是正确的，则 403 Forbidden 错误消息可能是错误的。然后，您只能做两件事，要么联系网站管理员，要么使用您自己的自定义重定向。为此，在 .htaccess 文件中添加以下行并在forbidden.php中处理该错误

    ```
    ErrorDocument 403 /forbidden.php 
    ```

# android - 检查屏幕是否窄

> ID：11877341
> 
> 赞同：2
> 
> 时间：2012-08-09T05:37:40.907
> 
> 标签：android, android-actionbar, android-orientation

我有一个配置了`splitActionBarWhenNarrow`使用的活动`requestWindowFeature(Window.FEATURE_ACTION_BAR_OVERLAY)`。

而且我需要检查屏幕是否被认为是窄的，以了解 splitbar 是否可见，因为我必须更改一个底部组件的位置，使其在可见时不与 splitActionbar 重叠。

PD：我知道如何检查方向，但我不确定*纵向*是否总是等于*窄*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-05T19:40:03.410

通过检查 ActionBarSherlock 源，我发现了一个似乎运行良好的解决方案：`values.xml`在您的`values`资源目录中创建一个并添加一个新的布尔属性，如下所示：

```
<resources>
    <bool name="screen_is_narrow">true</bool>
</resources> 
```

`values.xml`然后在`values-w480dp`目录中创建第二个：

```
<resources>
    <bool name="screen_is_narrow">false</bool>
</resources> 
```

如果屏幕宽于 480dp，第二个资源将自动加载。在纵向模式下，您的手机屏幕比那小，`screen_is_narrow`而`true`在横向模式和平板电脑上它更宽，因此`screen_is_narrow`变成`false`.

基于该逻辑，您现在可以简单地检查您的活动代码：

```
boolean screenIsNarrow = getResources().getBoolean(R.bool.screen_is_narrow); 
```

这应该够了吧。如果您已经在使用 ActionBarSherlock，那么还有一个更简单的解决方案，因为布尔值已经被预定义。只需检查`R.bool.abs__split_action_bar_is_narrow`您的代码。

# java - 如何创建需要输入至少一个字母字符的密码字段

> ID：11877342
> 
> 赞同：0
> 
> 时间：2012-08-09T05:37:45.817
> 
> 标签：java, blackberry

我正在处理一个应用程序，并且有一个带有密码字段的注册表单。

我的基本要求是强制用户在密码字段中插入至少一个字母字符以使密码可接受。

请给我一个建议，我该怎么做？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T02:10:32.937

我认为您需要检查密码字符串是否包含至少一个字母 Like`1234`是不可接受的，但`a123`可以接受。

你可以这样做

```
public boolean containsLetter(String s) {
    if ( s == null)
        return false;

    for (int i = 0;  i < s.length(); i++){
        if(CharacterUtilities.isLetter(s.charAt(i)))
            return true;
    }
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:43:08.967

当字段不包含密码字符时，强制使字段成为焦点不是可取的功能。如果想更正用户名字段，但由于密码字段为空白，无法切换到它怎么办。相反，禁用提交按钮，直到满足密码字段至少有一个字符的条件。

使用伪代码：

```
if(field.contents.string.length < 1)
{
confirmButton.enabled = false;
}
else
{
confirmationButton.enabled = true;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:36:30.930

对密码文本域使用 onChange 方法，而不是在此方法中检查密码文本域的长度，不要使用修剪，因为用户可能需要空格。

```
<field object>.getText().lenght != 0 -> Enable submit button. 
```

或者在提交时检查密码字段文本是否大于或等于您的最低限制。

```
protected boolean navigationClick(int status, int time) 
{
    Field f1 = getFieldWithFocus().getLeafFieldWithFocus();
    if(f1 == btn_login)
    {
        if(txtField_userName.getText().trim().equals("") || txtField_password.getText().trim().equals(""))
        {
            String str[] = new String[]{"OK"};
            ButtonPopup.ask("Email or password can not left blank !", str);
        }   
        else
        {
            <Do your work here>

        }
    }
    return super.navigationClick(status, time);
} 
```

# api - 打印 exe 文件的名称程序集

> ID：11877349
> 
> 赞同：1
> 
> 时间：2012-08-09T05:38:45.210
> 
> 标签：api, assembly, nasm, argv

你好我正在windows 7、nasm、alink环境中学习汇编语言

我想知道如何弹出 MessageBoxA 标题为文件名

我尝试的是这里

```
%include "win32n.inc"

extern MessageBoxA
import MessageBoxA user32.dll
extern ExitProcess
import ExitProcess kernel32.dll
segment .data USE32

message db "is opened",0

empty: 
times 128 db 0

segment .bss USE32

var1 resb 32

segment .code USE32

..start:

mov eax,empty
mov ebx, [ebp+4]
mov [eax],ebx

push dword MB_OK
push dword empty
push dword message
push dword 0
call [MessageBoxA]

push dword 0
call [ExitProcess] 
```

我试过 [ebp+4] 到 [ebp]、[ebp+8]、[ebp+12]

但没有运气。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:53:53.180

您可以使用[GetCommandLine](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683156%28v=vs.85%29.aspx)获取可执行文件的路径。Windows 加载程序不会将参数放入堆栈。

# java - 服务器中未发现类定义错误

> ID：11877352
> 
> 赞同：0
> 
> 时间：2012-08-09T05:38:55.543
> 
> 标签：java, ant, noclassdeffounderror

我正在编写一个 SCP 客户端应用程序，并且我正在使用 ant-jsch 将文件 scp 到远程服务器。scp 客户端在我的调试设置（eclipse 设置）中运行良好。该文件被复制到远程服务器。

但是当我将代码放入服务器并尝试运行 scp 客户端时，出现以下错误

```
Exception in thread "Thread-6:159-1" java.lang.NoClassDefFoundError: org/apache/tools/ant/Task
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:307) 
```

jar 文件位于适当的位置，当导出类路径时，我可以看到这些 jar 文件。I am not class not found 是针对 org.apache.tools.ant.Task 而不是针对 scp 类 (org.apache.tools.ant.taskdefs.optional.ssh.Scp) 本身。

这是因为 Eclipse 自行解决的任何依赖关系，我需要在我的应用程序服务器中手动解决它吗？

问候
Dheeraj Joshi

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:26:16.980

是的 ant.jar 必须在您执行 scp 命令的类路径中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:37:09.777

找到了解决方案。我们需要 ant-1.6.jar 来运行它。不仅仅是ant.jar

# iphone - 如何从字符串转换为十六进制？

> ID：11877356
> 
> 赞同：0
> 
> 时间：2012-08-09T05:39:32.270
> 
> 标签：iphone, objective-c, char, hex

如果我有一个字符串，如何在 Objective-C 中将值转换为十六进制？同样，如何将十六进制字符串转换为字符串？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:35:19.477

As an exercise and in case it helps, I wrote a program to demonstrate how I might do this in pure C, which is 100% legal in Objective-C. I used the string-formatting functions in stdio.h to do the actual conversions.

Note that this can (should?) be tweaked for your setting. It will create a string twice as long as the passed-in string when going char->hex (converting 'Z' to '5a' for instance), and a string half as long going the other way.

I wrote this code in such a way that you can simply copy/paste and then compile/run to play around with it. Here is my sample output:

![enter image description here](../Images/06073024459666e176f04e61716a605f.png)

My favorite way to include C in XCode is to make a .h file with the function declarations separate from the .c file with implementation. See the comments:

```
#include <string.h>
#include <stdlib.h>
#include <stdio.h>

// Place these prototypes in a .h to #import from wherever you need 'em
// Do not import the .c file anywhere.
// Note: You must free() these char *s 
//
// allocates space for strlen(arg) * 2 and fills
// that space with chars corresponding to the hex
// representations of the arg string
char *makeHexStringFromCharString(const char*);
//
// allocates space for about 1/2 strlen(arg)
// and fills it with the char representation
char *makeCharStringFromHexString(const char*);

// this is just sample code
int main() {
    char source[256];
    printf("Enter a Char string to convert to Hex:");
    scanf("%s", source);
    char *output = makeHexStringFromCharString(source);
    printf("converted '%s' TO: %s\n\n", source, output);
    free(output);
    printf("Enter a Hex string to convert to Char:");
    scanf("%s", source);
    output = makeCharStringFromHexString(source);
    printf("converted '%s' TO: %s\n\n", source, output);
    free(output);
}

// Place these in a .c file (named same as .h above)
// and include it in your target's build settings
// (should happen by default if you create the file in Xcode)
char *makeHexStringFromCharString(const char*input) {
    char *output = malloc(sizeof(char) * strlen(input) * 2 + 1);
    int i, limit;
    for(i=0, limit = strlen(input); i<limit; i++) {
        sprintf(output + (i*2), "%x", input[i]);
    }
    output[strlen(input)*2] = '\0';
    return output;
}

char *makeCharStringFromHexString(const char*input) {
    char *output = malloc(sizeof(char) * (strlen(input) / 2) + 1);
    char sourceSnippet[3] = {[2]='\0'};
    int i, limit;
    for(i=0, limit = strlen(input); i<limit; i+=2) {
        sourceSnippet[0] = input[i];
        sourceSnippet[1] = input[i+1];
        sscanf(sourceSnippet, "%x", (int *) (output + (i/2)));
    }
    output[strlen(input)/2+1] = '\0';
    return output;
} 
```

# linux - 如何打开 mjpg-streamer 到 Internet？

> ID：11877357
> 
> 赞同：1
> 
> 时间：2012-08-09T05:39:48.727
> 
> 标签：linux, ubuntu

我已经在我的电脑（ubuntu 11.01）中安装了 mjpg-streamer。现在我到 [http://192.168.xxx.xxx:8080/?action=stream](http://192.168.xxx.xxx:8080/?action=stream)就可以看到视频了 我想打开 mjpg-streamer 到互联网，这样我就可以看到来自每台电脑上的视频互联网。我该怎么办？任何答案将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T11:34:49.247

IP 编号表明某种 NAT 情况。您需要在与“互联网”和内部 LAN 接口的设备中设置端口转发。这样，您将获得一个可用于“互联网”的端口，该端口将被转发到您的机器，并且“互联网”上的人们可以查看流。

根据您的设备和您使用的流媒体软件，您可能还需要为从 LAN 到“互联网”的传出连接设置某种伪装/源地址重写。

# c# - 如何在 C# 中动态地将文本添加到跨度控件

> ID：11877363
> 
> 赞同：2
> 
> 时间：2012-08-09T05:40:35.060
> 
> 标签：c#, asp.net

净 c#。我正在使用占位符，并将跨度动态添加到占位符。如何在 c#asp.net 中添加文本以动态跨越？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T05:45:35.650

你可以使用 html 通用控件，它会是这样的

```
var yourspan = new HtmlGenericControl("span");
span.InnerHtml = "the text inside your span ";
yourspan.Attributes["id"] = "yourspan";
pannel.Controls.Add(span); 
```

[http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmlgenericcontrol.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmlgenericcontrol.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T05:56:59.443

**使表运行=“服务器”**

```
 <table id="myTable" runat="server" width="100%">    
    <tr>
    <td>
    <span></span>
    </td>
    </tr>

    </table>

    **In code behind u do like this** 
 myTable.Rows[1].Cells[0].InnerHtml = "<span id="1">" + YOURTEXT+ "</span>"; 
```

# html - div，不触发水平滚动

> ID：11877365
> 
> 赞同：0
> 
> 时间：2012-08-09T05:40:45.750
> 
> 标签：html, css, scroll, margin

我正在尝试为 WP 模板创建此设计：http: [//minus.com/lbi1iH25EcKsu7](http://minus.com/lbi1iH25EcKsu7)

现在我是这样的：[http ://www.uncensuredftw.es/plantilla-blueftw/boilerplate/index.html](http://www.uncensuredftw.es/plantilla-blueftw/boilerplate/index.html)

我认为您可以了解总体思路；）

我知道......*这是我的错*：浏览器从左到右计算窗口的大小，所以如果我设置一个边距，它会将 100% 大小的 div 向右移动。

但问题是：**我不知道如何使它工作**:(。

我想用 div 制作“黑条”（我画了那些不能用红色和橙色工作的），这个技巧奏效了……但只有左边的能像我想要的那样工作。

我没有想法了。我尝试了我能想到的一切，但没有任何效果。 **也许你能帮助我？**;)

这是html代码：

```
<div class="barraUL"></div><div class="barraDL"></div>
<div class="presentacionbg"></div>
<div class="presentacion">
<div class="barraUR"></div><div class="barraDR"></div> 
```

这是CSS：

```
.barraUL {
   position: absolute;
   width: 50%;
   height: 27px;
   background-color: black;
   right: 50%;
   margin-right: 500px;
   margin-top: -20px;
}
.barraDL {
   position: absolute;
   width: 50%;     
   height: 27px;
   background-color: black;
   right: 50%;
   margin-right: 500px;
   margin-top: 309px;
}
/* This next two are the ones than "doesn't work" */
.barraUR {
   position: absolute;
   width: 50%;
   height: 27px;
   background-color: red;
   left: 50%;
   margin-left: 500px;
   margin-top: -4px;
}
.barraDR {
   position: absolute;
   width: 50%;     
   height: 27px;
   background-color: orange;
   left: 50%;
   margin-left: 500px;
   margin-top: 325px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:49:25.947

右侧的 div 扩展为窗口宽度的 50%。对于条形延伸到窗口长度然后被切断的液体布局，您通常会制作一个底层 div（在本例中是条形和黑色图案背景），然后将其扩展到窗口的 100%。您不能仅使用 CSS（尤其是不使用绝对定位）使用百分比（左 div + 固定中间图像 + 右 div）之类的相对长度来制作附加布局。如果您坚持使用它，则在将内容居中后必须`overflow: hidden;`使用`html {}`or`body {}`标记，这是一种不好的做法。我建议在你的精灵图像下让两个长的 div 一直穿过屏幕。

# xcode - XCode 中的 GDB 命令文件

> ID：11877367
> 
> 赞同：0
> 
> 时间：2012-08-09T05:40:56.850
> 
> 标签：xcode, gdb

我想在我的项目中添加一个包含 gbd 命令列表的文件，并在任何断点将其加载到 xcode 内的 GDB 中。查看 GDB 文档，我看到了“源”命令，但在 xcode 的 gdb 中它是未知的。有没有人成功做到这一点？

源 -f 命令文件.gdb

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:56:12.550

如果您确实使用 gdb 作为调试器，则 source 命令似乎可以工作，但不支持任何选项。在调试控制台中，确保它显示“（gdb）”作为提示。现在默认的调试器是 LLDB 而不是 GDB。您可以在 Product -> Edit Scheme... 下更改它，然后选择顶部的“Info”选项卡。“调试器”弹出窗口将向您展示 GDB 或 LLDB。

# android - 没有通知点击事件的调用活动

> ID：11877370
> 
> 赞同：2
> 
> 时间：2012-08-09T05:41:04.590
> 
> 标签：android, android-notifications, android-notification-bar

我正在开发一个应用程序。当耳机与安卓手机分离时，这里的通知调用是我的活动代码

```
package com.gabriel.activity;

import java.util.HashMap;

import android.app.Activity;
import android.app.AlertDialog;
import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.app.AlertDialog.Builder;
import android.app.Dialog;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.IntentFilter;
import android.content.SharedPreferences;
import android.content.res.Resources;
import android.location.Criteria;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.net.Uri;
import android.os.Bundle;
import android.provider.MediaStore.Audio;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.RemoteViews;
import android.widget.TextView;
import android.widget.Toast;
import android.widget.ToggleButton;

import com.gabriel.database.AlarmCore;
import com.gabriel.database.ContactObject;
import com.gabriel.database.FBFriendObject;
import com.gabriel.utility.GBAlarmManager;
import com.gabriel.utility.GBConstants;

public class HomeActivity extends Activity implements OnClickListener {

    private TextView _SecurityLevel, _AlarmType, _Trigger;
    static TextView ActiveText;
    private HashMap<String, String> _SettingMap;
    private SharedPreferences _Preferences;
    private ToggleButton _AlarmButton;
    private ImageView _GabrielIconView;
    private Resources _Resources;
    private String _TriggerBy;
    private Context context;
    private GBAlarmManager alarmManager;
    private AlarmCore alarmCore;
    private boolean isTriggered = false;
    private boolean isHeadPhoneAttached = false;
    private Intent serviceIntent;
    private GabrielApplication application;
    private LocationManager locationManager;
    private GpsLocationListener gpsLocationListener;
    private NetworkLocationListener networkLocationListener;

    private ContactObject contactObject;
    private FBFriendObject fBFriendObject;
    private static final CharSequence Gabriel = "Gabriel";
    private static final CharSequence HeadphoneDeatched = "Headphone Deattached From Your Phone Please Click On Notification To Cancel Or Send Panic Message.";
    int messageCount=0;
    /*
     * registerObject = new RegisterObject(this); countryObject = new
     * CountryObject(context); registerCore =
     * registerObject.getRegistrationInfo();
     */

    private static final long MINIMUM_DISTANCE_CHANGE_FOR_UPDATES = 0; // in
                                                                        // Meters
    private static final long MINIMUM_TIME_BETWEEN_UPDATES = 0; // in
                                                                // Milliseconds
    private static final int SUCCESS_DIALOG = 200;

    private static final int Headphone_DIALOG = 250;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.home);
        context = this;
        application = (GabrielApplication) getApplication();

        contactObject = new ContactObject(this);
        contactObject.getActiveContacts();

        fBFriendObject = new FBFriendObject(this);
        fBFriendObject.getActiveFriends();

        ActiveText = (TextView) findViewById(R.id.ActiveText);
        _SecurityLevel = (TextView) findViewById(R.id.securityLevelText);
        _AlarmType = (TextView) findViewById(R.id.AlarmTypeText);
        _Trigger = (TextView) findViewById(R.id.TriggerText);
        _AlarmButton = (ToggleButton) findViewById(R.id.AlarmTrigger);
        _GabrielIconView = (ImageView) findViewById(R.id.gabrielIcon);

        _Resources = getResources();
        alarmManager = new GBAlarmManager(context);
        _AlarmButton.setOnClickListener(this);
        _GabrielIconView.setOnClickListener(this);

        // ContactList = (ListView) findViewById(R.id.contactList);

        if (!application.isServiceStarted()) {
            serviceIntent = new Intent(GBConstants.GABRIEL_SERVICE);
            startService(serviceIntent);
        }
        initHeadPhone();

        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
        gpsLocationListener = new GpsLocationListener();
        networkLocationListener = new NetworkLocationListener();

        locationManager.requestLocationUpdates(
                LocationManager.NETWORK_PROVIDER, MINIMUM_TIME_BETWEEN_UPDATES,
                MINIMUM_DISTANCE_CHANGE_FOR_UPDATES, networkLocationListener);
        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,
                MINIMUM_TIME_BETWEEN_UPDATES,
                MINIMUM_DISTANCE_CHANGE_FOR_UPDATES, gpsLocationListener);
        application.setCurrentLocation(getBestLocation());
    }

    @Override
    protected void onResume() {
            super.onResume();
            if (application.isMessageSent()) {
                    application.setMessageSent(false);
                    showDialog(SUCCESS_DIALOG);
            }
            initSettings();
    }

    private void initSettings() {
        _SettingMap = GBConstants.getSettingsMap();
        _Preferences = getSharedPreferences(GBConstants.GABRIEL_PREF,
                Context.MODE_PRIVATE);
        _SecurityLevel.setText(_Preferences.getString(
                GBConstants.SECURITY_LEVEL,
                _SettingMap.get(GBConstants.SECURITY_LEVEL)));
        _AlarmType.setText(_Preferences.getString(GBConstants.ALARM,
                _SettingMap.get(GBConstants.ALARM)));
        _Trigger.setText(_Preferences.getString(GBConstants.TRIGGER_OPTIONS,
                _SettingMap.get(GBConstants.TRIGGER_OPTIONS)));
        _TriggerBy = _Trigger.getText().toString().trim();
        if (!isTriggered) {
            setGabrielIconRed();
        }
    }

    @Override
    public void onBackPressed() {
        return;
    }

    private void setGabrielIconRed() {
        if (_TriggerBy.equals(GBConstants.PANIC_BUTTON)) {
            _GabrielIconView.setImageDrawable(_Resources
                    .getDrawable(R.drawable.panic_button_black));
        } else {
            _GabrielIconView.setImageDrawable(_Resources
                    .getDrawable(R.drawable.black));
        }
        isTriggered = false;
        _AlarmButton.setChecked(false);

            }

    private void setGabrielIconGreen() {
        if (_TriggerBy.equals(GBConstants.PANIC_BUTTON)) {
            _GabrielIconView.setImageDrawable(_Resources
                    .getDrawable(R.drawable.panic_button_green));
        } else {
            _GabrielIconView.setImageDrawable(_Resources
                    .getDrawable(R.drawable.green));
        }
        isTriggered = true;
    }

    @Override
    public void onClick(View v) {
        ToggleButton triggerBtn;
        switch (v.getId()) {

        case R.id.AlarmTrigger:
            triggerBtn = (ToggleButton) v;
            if (triggerBtn.isChecked()) {
                ActiveText.setText("Activate");
                if (_TriggerBy.equals(GBConstants.HEADPHONE_BUTTON)) {
                    if (contactObject.getActiveContacts().isEmpty() && (fBFriendObject.getActiveFriends().isEmpty())) {
                        ActiveText.setText("Deactivate");
                        _AlarmButton.setChecked(false);
                        Toast.makeText(this, "PLEASE ADD CONTACT/FRIEND",
                                Toast.LENGTH_LONG).show();
                        return;
                    }

                    if (!isHeadPhoneAttached) {
                        ActiveText.setText("Deactivate");
                        _AlarmButton.setChecked(false);
                        Toast.makeText(context, "Please Attached Your Headphones.",
                                Toast.LENGTH_SHORT).show();
                        return;
                    }
                }
                setGabrielIconGreen();
                /*startService(new Intent(this, MyService.class));*/

            } else {
                ActiveText.setText("Deactivate");
                setGabrielIconRed();
            }
            break;

        case R.id.gabrielIcon:
        if (isTriggered && _TriggerBy.equals(GBConstants.PANIC_BUTTON)) {
                if (contactObject.getActiveContacts().isEmpty() && (fBFriendObject.getActiveFriends().isEmpty())) {
                Toast.makeText(this, "PLEASE ADD CONTACT/FRIEND",
                            Toast.LENGTH_LONG).show();
                    return;
                /*}
                if(aactvity.toggleFacebook.isChecked()){
                        core.isFacebookOn();
                }
                else{
                Toast.makeText(this, "FACEBOOK IS NOT CONNECTED",Toast.LENGTH_LONG).show();
                return;
                }   
                        */
                }
                    callTriggerActivity();
                }
                default:
            break;
        }
    }

    @Override
    protected void onPause() {
        super.onPause();
    }

    @Override
    public void finish() {
        super.finish();
        locationManager.removeUpdates(gpsLocationListener);
        locationManager.removeUpdates(networkLocationListener);
    }

    private void callTriggerActivity() {
        Intent intent = new Intent(context, TriggerActivity.class);
        alarmCore = alarmManager.loadAlarmSettings(_AlarmType.getText()
                .toString().trim());
        intent.putExtra(getString(R.string.alarmObj), alarmCore);
        startActivity(intent);

        isTriggered = false;

    }

    public void initHeadPhone() {
        registerReceiver(new BroadcastReceiver() {

            @Override
            public void onReceive(Context context, Intent intent) {

                if (intent.hasExtra("state")) {
                    int state = intent.getIntExtra("state", 0);
                    if (isHeadPhoneAttached && state == 0) {
                        isHeadPhoneAttached = false;
                        if (isTriggered) {
                            if (contactObject.getActiveContacts().isEmpty()) {
                                Toast.makeText(context,
                                        "PLEASE ADD CONTACT/FRIEND",
                                        Toast.LENGTH_LONG).show();
                            } else {
                                 createNotification();
                                /*callTriggerActivity();
                                showDialog(Headphone_DIALOG);*/
                            }
                        }
                    } else if (!isHeadPhoneAttached && state == 1) {
                        isHeadPhoneAttached = true;
                    }
                }
            }
        }, new IntentFilter(Intent.ACTION_HEADSET_PLUG));
    }

    public void createNotification() {

        NotificationManager notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
            Notification notification = new Notification(R.drawable.app_icon,
                    HeadphoneDeatched, System.currentTimeMillis());
            Intent intent = new Intent(this,TriggerActivity.class);
            alarmCore = alarmManager.loadAlarmSettings(_AlarmType.getText()
                    .toString().trim());
            intent.putExtra(getString(R.string.alarmObj), alarmCore);
            isTriggered = false;
            PendingIntent pendingIntent=PendingIntent.getActivity(this, 0, intent, 0);
            notification.setLatestEventInfo(this, Gabriel, HeadphoneDeatched, pendingIntent);
            notification.defaults |= Notification.DEFAULT_SOUND;
            notification.flags |= Notification.FLAG_AUTO_CANCEL;
        /*  notification.flags |= Notification.FLAG_ONGOING_EVENT;*/
            messageCount++;
            notificationManager.notify(1, notification);
        }
    private class GpsLocationListener implements LocationListener {

        public void onLocationChanged(Location location) {
            application.setCurrentLocation(location);
        }

        public void onStatusChanged(String s, int i, Bundle b) {

        }

        public void onProviderDisabled(String s) {

        }

        public void onProviderEnabled(String s) {

        }

    }

    private class NetworkLocationListener implements LocationListener {

        public void onLocationChanged(Location location) {
            application.setCurrentLocation(location);
        }

        public void onStatusChanged(String s, int i, Bundle b) {

        }

        public void onProviderDisabled(String s) {

        }

        public void onProviderEnabled(String s) {

        }

    }

    private Location getBestLocation() {
        Criteria criteria = new Criteria();
        criteria.setAccuracy(Criteria.ACCURACY_FINE);
        criteria.setAltitudeRequired(false);
        criteria.setBearingRequired(false);
        criteria.setCostAllowed(true);
        String strLocationProvider = locationManager.getBestProvider(criteria,
                true);
        if (strLocationProvider == null) {
            strLocationProvider = LocationManager.GPS_PROVIDER;
        }
        return locationManager.getLastKnownLocation(strLocationProvider);
    }

    @Override
    protected Dialog onCreateDialog(int id) {
        Dialog dialog = null;
        AlertDialog.Builder builder = new Builder(context);

        switch (id) {
        case SUCCESS_DIALOG:
            builder.setTitle(getString(R.string.app_name));
            builder.setMessage("Panic messages have been sent with your position.");
            builder.setPositiveButton("Continue", null);
            builder.setCancelable(false);
            dialog = builder.create();
            break;

        /*case Headphone_DIALOG:
            dialog.setContentView(R.layout.home); 
            builder.setTitle(getString(R.string.app_name));
            builder.setMessage("Headphone Is Deattached The Press Ok To Sent Panic Message.");
            builder.setPositiveButton("Ok",new positiveButtonListener());
            builder.setCancelable(false);
            dialog = builder.create();
            break;*/
        default:
            break;
        }
        return dialog;
    }
    private class positiveButtonListener implements
    android.content.DialogInterface.OnClickListener {

@Override
public void onClick(DialogInterface dialog, int which) {
    callTriggerActivity();
}
}
} 
```

这是我的通知

```
public void createNotification() {

        NotificationManager notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
            Notification notification = new Notification(R.drawable.app_icon,
                    HeadphoneDeatched, System.currentTimeMillis());
            Intent intent = new Intent(this,TriggerActivity.class);
            alarmCore = alarmManager.loadAlarmSettings(_AlarmType.getText()
                    .toString().trim());
            intent.putExtra(getString(R.string.alarmObj), alarmCore);
            isTriggered = false;
            PendingIntent pendingIntent=PendingIntent.getActivity(this, 0, intent, 0);
            notification.setLatestEventInfo(this, Gabriel, HeadphoneDeatched, pendingIntent);
            notification.defaults |= Notification.DEFAULT_SOUND;
            notification.flags |= Notification.FLAG_AUTO_CANCEL;
        /*  notification.flags |= Notification.FLAG_ONGOING_EVENT;*/
            messageCount++;
            notificationManager.notify(1, notification);
        } 
```

一切正常。但是我想在不点击状态栏通知的情况下打开我的活动，这意味着当通知到来时它会自动笔活动而不点击通知。

# http - HTTP 和 HTTPS 导致重定向循环

> ID：11877373
> 
> 赞同：0
> 
> 时间：2012-08-09T05:41:47.693
> 
> 标签：http, https, cas

我正在制作一个中央身份验证服务器模块 (CAS)。为此，我正在配置 web.config 文件。由于我必须将它与其他应用程序集成，我不想在代码隐藏文件中编写任何代码。配置为 OS - Windows 7 IIS 7 Visual Studio 2005。

托管 cas 应用程序的服务器具有对用户进行身份验证的登录页面。我可以在第一时间重定向到 cas 登录页面。

我的问题是我无法重定向到我自己的应用程序页面，该页面是托管在我的 PC 上的 default.aspx。CAS 服务器运行 linux os，我使用的是 Windows 7。我得到重定向循环，从 cas 登录模块登录后，我看不到我的页面。Firefox 在状态栏中连续显示“等待服务器名”和“等待主机名”。任何机构可以帮助我解决这个问题？？？我被严重困在这里，非常渴望尽快摆脱困境。我在 web.config 中使用表单身份验证模式。还是 HTTP 和 HTTPS 的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:47:58.340

在我看来，Windows 机器并未将会话视为已通过身份验证，但 CAS 将会话视为已通过身份验证。因此windows重定向到linux，又重定向到windows，又重定向到linux....

我想你看到图片了。

# objective-c - UIGestureRecognizer 的发件人视图无法正常工作

> ID：11877374
> 
> 赞同：0
> 
> 时间：2012-08-09T05:41:51.393
> 
> 标签：objective-c, uiimageview, uigesturerecognizer

根据这个[问题](https://stackoverflow.com/questions/6835233/referencing-a-button-when-the-actions-sender-is-a-uigesturerecognizer)，`UIGestureRecognizer`有一个`view`属性，它指的是手势附加到的视图。我在我的代码中使用了这个：

```
//Code for the 1st UIScrollView
UIImageView *bookCover = [[UIImageView alloc]initWithFrame:CGRectMake(50, 100, 145, 420)];
UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc]initWithTarget:self
action:@selector(downloadBookTapped:)];
[bookCover addGestureRecognizer:singleTap];

[bookCover release];
[singleTap release];

//Code for the second UIScrollView
UIImageView *fileCover = [[UIImageView alloc]initWithFrame:CGRectMake(50, 100, 145, 420)];
UITapGestureRecognizer *singleFileTap = [[UITapGestureRecognizer alloc]initWithTarget:self
action:@selector(downloadFileTapped:)];
[fileCover addGestureRecognizer:singleFileTap];

[fileCover release];
[singleFileTap release]; 
```

这是我使用该`view`属性的地方：

```
- (void)downloadBookTapped:(UITapGestureRecognizer *)sender
{
  UIImageView *imgView = (UIImageView *)sender.view;

  CGRect rect = [imgView frame];

  UIImageView *images = [[UIImageView alloc]initWithFrame:rect];

  //rest of code here...
}

- (void)downloadFileTapped:(UITapGestureRecognizer *)sender
{
  UIImageView *imgView = (UIImageView *)sender.view;

  CGRect rect = [imgView frame];

  UIImageView *images = [[UIImageView alloc]initWithFrame:rect];

  //rest of code here...
} 
```

这里的问题是我有两个`scrollView`，每个滚动视图都包含多本书。当我在 1st 选择一本书时`scrollView`，`images`正确显示。但是当我在 2nd 中选择一本书时`scrollView`，`images`显示不正确。谁能解释为什么会这样？谢谢。

**- -附加信息 - -**

两者`scrollViews`具有相同的宽度和高度。当然，不同之处在于位置。第一个 scrollView 位于 (0, 0)，而第二个位于 (0, 350)。你可以把这两个想象成“架子”，第一个是最上面的架子，第二个是最下面的架子。

要指定问题，假设我在第二个滚动视图中选择了一本书。然后`images`将显示*好像*我在第一个滚动视图中选择了一本书。意思`images`是，显示在第一个滚动视图而不是第二个滚动视图中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:02:38.907

因为gestureRecognizer 绑定到第一个UIImageView 而不是第二个。

```
[bookCover addGestureRecognizer:singleTap]; 
```

为您的其他 UIImageView 执行此操作，您将获得所需的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:30:28.140

我现在知道我做错了什么！我没有添加`images`作为滚动视图的子视图，而是这样做：

```
[self.view addSubView:images]; 
```

这就是为什么它一直出现在顶部的原因。它应该是这样的：

```
[scrollBook addSubview:images];
[scrollFile addSubView:files]; 
```

# ruby-on-rails-3 - 我们将在哪里编写 ajax 代码以及如何在视图中使用它

> ID：11877376
> 
> 赞同：0
> 
> 时间：2012-08-09T05:41:54.407
> 
> 标签：ruby-on-rails-3

我是 Rails 3 的新手

我想在我看来使用一些倒计时。

所以我需要一些ajax查询。

**我们将在哪里编写 ajax 代码以及如何在视图中使用它？**

请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:47:01.920

任何 javascript 功能都将被视为前端。在 Rails 或典型的模型-视图-控制器 Web 框架中，视图将负责处理任何 ajax 或其他 javascript 代码。最好的方法是让视图（布局文件或操作文件）包含一个 javascript 文件。然后，您的 javascript 文件将具有包含 ajax 请求的函数。您的视图应该是触发该功能的地方。就像事件系统一样，javascript 会注册事件（函数），视图会触发该事件。如果它只是一个 ajax 请求，那么您也可以在视图中省略触发器，并在您的 javascript 文件中调用 $(document).ready({...}) 。

# r - 如何在R中绘制时钟？

> ID：11877379
> 
> 赞同：2
> 
> 时间：2012-08-09T05:42:24.097
> 
> 标签：r, pie-chart

我正在研究 R 并尝试使用饼图绘制时钟。

代码：

```
pie(c(25,20,15,10,10,30),
    labels = c(1,2,3,4,5,6,7,8,9,10,11,12),
    col = rainbow(length(lbls)), clockwise = TRUE, init.angle = 90) 
```

但我需要所有 12 个标签都存在，而与输入中的任何段无关。

![在此处输入图像描述](../Images/c01c3740c74a29fdfaa6a58bf7ab91e1.png)

我该如何实施？

问候

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-09T06:43:52.447

Paul Murrell 在他的上一本书（[R 图形第 2 版](https://rads.stackoverflow.com/amzn/click/com/1439831769)`grid`）中有一些代码用于使用和绘制交互式时钟`gwidget`。

这是一个用于绘制简单非交互式时钟的示例代码：

```
require(grid)

drawClock <- function(hour, minute) {
    t <- seq(0, 2*pi, length=13)[-13]
    x <- cos(t)
    y <- sin(t)

    grid.newpage()
    pushViewport(dataViewport(x, y, gp=gpar(lwd=4)))
    # Circle with ticks
    grid.circle(x=0, y=0, default="native", 
                r=unit(1, "native"))
    grid.segments(x, y, x*.9, y*.9, default="native")
    # Hour hand
    hourAngle <- pi/2 - (hour + minute/60)/12*2*pi
    grid.segments(0, 0, 
                  .6*cos(hourAngle), .6*sin(hourAngle), 
                  default="native", gp=gpar(lex=4))
    # Minute hand
    minuteAngle <- pi/2 - (minute)/60*2*pi
    grid.segments(0, 0, 
                  .8*cos(minuteAngle), .8*sin(minuteAngle), 
                  default="native", gp=gpar(lex=2))    
    grid.circle(0, 0, default="native", r=unit(1, "mm"),
                gp=gpar(fill="white"))
} 
```

现在你可以这样尝试

```
drawClock(hour = 2, minute = 30) 
```

![在此处输入图像描述](../Images/7c7f91d58f1d3de31e199ae6f9ea4008.png)

**完整代码** [在这里](http://www.stat.auckland.ac.nz/~paul/RG2e/interactive-clock.R)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-07-01T23:25:20.217

遇到相同问题后对此主题的更新。如果你想把你的馅饼和时钟放在上面，你应该使用'GridBase'包。

示例（使用 dickoa 的优秀解决方案作为代码的基础）：

```
require('grid')
require('gridBase')    

pie(c(1,2), 
clockwise=TRUE,
radius=1.0, 
init.angle=90, 
col=c('pink', 'lightblue'),
border=NA)

drawClock <- function(hour, minute) 
    {
    t <- seq(0, 2*pi, length=13)[-13]
    x <- cos(t)
    y <- sin(t)

    vps <- baseViewports()
    pushViewport(vps$inner, vps$figure, vps$plot)
    # ticks

    grid.segments(x, y, x*.9, y*.9, default="native")
    # Hour hand
    hourAngle <- pi/2 - (hour + minute/60)/12*2*pi
    grid.segments(0, 0, 
                  .6*cos(hourAngle), .6*sin(hourAngle), 
                  default="native", gp=gpar(lex=4))
    # Minute hand
    minuteAngle <- pi/2 - (minute)/60*2*pi
    grid.segments(0, 0, 
                  .8*cos(minuteAngle), .8*sin(minuteAngle), 
                  default="native", gp=gpar(lex=2))    
    popViewport(3)
}

drawClock(hour = 2, minute = 25) 
```

结果：

[![在此处输入图像描述](../Images/a32e7051d393d942b42a4680e076524d.png)](https://i.stack.imgur.com/f0D0G.png)

# ios - iOS的Phonegap背景图像不起作用

> ID：11877387
> 
> 赞同：0
> 
> 时间：2012-08-09T05:44:06.383
> 
> 标签：ios, html, cordova

我正在与 Phonegap 一起为 iPhone 开发一个应用程序。

我从我们的设计师那里得到了应用程序设计，并且正在尝试为 index.html 页面设置背景。无论我尝试什么代码，我都无法显示它，而且我总是以白色背景结束。

我试过这个但没有用

```
<body style="background: url(images/bg.jpg) no-repeat;background-size: 100%;" > 
```

我还尝试在 JQuery CSS 文件的末尾创建一个类，并将其应用于页面的主 div 或正文，但这也不起作用

我什至试图覆盖整个身体的 CSS，但也没有用

```
body         {
  background: url(images/bg.jpg) no-repeat center center fixed;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    } 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T22:32:32.563

首先确保路径正确，即图像文件夹与 HTML 页面的路径相同，或者如果在 CSS 中声明，则在 CSS 级别。如果不是这样，请尝试`images/bg.jpg`使用单引号，所以：

```
<body style="background: url('images/bg.jpg') no-repeat;background-size: 100%;" > 
```

# javascript - Jquery ui自动完成组合框错误

> ID：11877388
> 
> 赞同：0
> 
> 时间：2012-08-09T05:44:09.183
> 
> 标签：javascript, jquery, css, jquery-ui

我使用了 Jquery ui 自动完成组合框[http://jqueryui.com/demos/autocomplete/#combobox](http://jqueryui.com/demos/autocomplete/#combobox) 我使用了页面上给出的相同脚本。组合框工作正常。除非页面大小增加并出现滚动条，并且我们尝试移动滚动条，否则切换按钮会随着滚动而移动。所以，我尝试在 ui-combobox-toggle 类中将位置属性更改为相对和绝对。仍然无法正常工作

这是在将鼠标悬停在切换按钮上之前呈现 html 的方式（来自 firebug）。添加悬停后 ui-state-hover 类并且切换按钮落入其位置。它在 Firefox 中运行良好，但在 Internet Explorer 中，切换按钮最初是随着滚动而移动，然后在悬停时落入其位置

```
 <span class="ui-combobox">
<input id="ctl00_ContentPlaceHolder1_ctl00_ddlQuestionShortDescription_2_txtInput" class="ui-state-default ui-combobox-input ui-autocomplete-input ui-widget ui-widget-content ui-corner-left" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true">
<a class="ui-button ui-widget ui-state-default ui-button-icon-only ui-corner-right ui-combobox-toggle" style="position: relative;" tabindex="-1" title="Show All Items" role="button" aria-disabled="false">
<span class="ui-button-icon-primary ui-icon ui-icon-triangle-1-s"></span>
<span class="ui-button-text"></span>
</a>
</span> 
```

# java - 如何将任何与单词组合的标点符号分成单个单词？

> ID：11877389
> 
> 赞同：-2
> 
> 时间：2012-08-09T05:44:14.457
> 
> 标签：java, string

假设句子是`There are playing, they are brothers.`

无论如何将标点符号分隔为单个单词，输出如下： `There are playing , they are brothers .`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:00:35.450

这对我有用：

```
String str = "There are playing, they are brothers.";
System.out.println(str.replaceAll("\\s*([,.?!\"'])\\s*", " $1 ")); 
```

产量：

`There are playing , they are brothers .`

此正则表达式将用空格替换任何可能具有前导/尾随空格的标点符号，然后是相同的标点符号和另一个空格。此块：`[,.?!\"']`表示您可以更改的所有标点符号。您可以添加/删除您心中的内容。标志也可以做到这`\W`一点，但它会改变一组特定的字符（任何不是字母、数字或下划线的字符）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:47:11.460

你可以试试正则表达式吗？

就像是： `s/(\w)([,.])/\1 \2/g`

它本质上是一个非单词字符（这可能是 \W），然后是找到的标点符号，替换为第 1 组、空格、第 2 组。

我做了一个演示，[可以在这里找到](http://regexr.com?31pgs)。

# javascript - 使用 Shoutcast，显示正在播放的专辑封面

> ID：11877392
> 
> 赞同：2
> 
> 时间：2012-08-09T05:44:58.323
> 
> 标签：javascript, shoutcast, albumart

我在我构建的 HTML 播放器中有一个 70x70 的小盒子，我希望将其放置在专辑插图中，以与我现在正在播放的来自我的直播服务器的信息相吻合。有没有办法，使用广播服务器提供的艺术家歌曲信息，我可以搜索网络服务（amazon/last.fm）并将（最有可能的）专辑封面放在那里？

这是我现在使用的 JS 代码：

```
jQuery(document).ready(function() {
    pollstation();
    //refresh the data every 30 seconds
    setInterval(pollstation, 30000);
});

// Accepts a url and a callback function to run.  
function requestCrossDomain( callback ) {  
    // Take the provided url, and add it to a YQL query. Make sure you encode it!  
    var yql = 'http://s7.viastreaming.net/scr/yql.php?port='+port+'&username='+user+'&callback=?';
    // Request that YSQL string, and run a callback function.  
    // Pass a defined function to prevent cache-busting.  
    jQuery.getJSON( yql, cbFunc );

    function cbFunc(data) {  
    // If we have something to work with...  
    if ( data ) {  
        // Strip out all script tags, for security reasons. there shouldn't be any, however
        data = data[0].results.replace(/<script[^>]*>[\s\S]*?<\/script>/gi, '');
        data = data.replace(/<html[^>]*>/gi, '');
        data = data.replace(/<\/html>/gi, '');
        data = data.replace(/<body[^>]*>/gi, '');
        data = data.replace(/<\/body>/gi, '');

        // If the user passed a callback, and it  
        // is a function, call it, and send through the data var.  
        if ( typeof callback === 'function') {  
            callback(data);  
        }  
    }  
    // Else, Maybe we requested a site that doesn't exist, and nothing returned.  
    else throw new Error('Nothing returned from getJSON.');  
    }  
}  

function pollstation() {
    requestCrossDomain(function(stationdata) {

        var lines = stationdata.split('|+|');

        jQuery('#sname').html(lines[0]);

        jQuery('#sgenre').html(lines[1]);

        jQuery('#clisteners').html(lines[2]);

        jQuery('#bitrate').html(lines[3]);

        jQuery('#artist_block').html('' + jQuery.trim(lines[4]) + '');

        var prev = lines[5].split('+|+');
        jQuery('#np_table').html('');

        for (var i = 0; i < 8; i++) 
        {    
            if(typeof(prev[i]) != 'undefined')
            {           
                jQuery('#np_table').append('<tr>'+'<td>'+ prev[i] + '</td>'+'</tr>');
                jQuery("tr:odd").css("background-color", "#154270");
            }

        }   

        jQuery('#mplayers').html(lines[6]); 

        jQuery('#mobile').html(lines[7]);

        jQuery();
    } );
} 
```

这是HTML：

```
<div id="col_left">
        <div id="now_playing">
            <div id="np_ribbon"><span>Now Playing</span></div>
            <div id="np_img"><img name="nowplayingimage" src="" width="70" height="70" alt="album cover" style="background-color: #000000" /></div>
            <div id="artist_block">
                <span class="artist_name"><strong>Artist:</strong> Artist name</span><br />
                <span class="song_name"><strong>Song:</strong> &quot;song title&quot;</span><br />
                <span class="album_name"><strong>Album:</strong> Album Name</span> <br />

            </div> 
            <div id="player">
            <div id="container"><script type="text/javascript" src="http://shoutcast.mixstream.net/js/external/flash/s7.viastreaming.net:8790:0:::999999:::1"></script></div>
        </div>
        </div><!-- end now playing -->
    <div id="recent">
            <div class="table_title">Recently Played</div>
    <table id="np_table">

     </table>
        </div><!-- end recent -->

    </div><!-- end col_left --> 
```

所以很自然，我希望图像出现在 div "np_img" 所在的位置。任何想法使用什么代码以及如何实现它。您可能可以通过我的代码看出我是业余爱好者，所以请保持清晰和温和。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T09:07:04.367

You can use the [iTunes search API](http://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html). It supports [JSONP](http://remysharp.com/2007/10/08/what-is-jsonp/) so you can use it directly within your webpage, without worrying about cross-domain.

As @Brad mentioned, iTunes has [terms of use](http://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html#legal). In particular:

> (...) provided such Promo Content: (i) is placed only on pages that promote the content on which the Promo Content is based; (ii) is proximate to a "Download on iTunes" or "Available on the App Store" badge (as approved by Apple) that acts as a link directly to pages within iTunes or the App Store where consumers can purchase the promoted content. (...)

Here's how the code looks like:

```
​function refreshArtwork(artist, track) {    
    $.ajax({
      url: 'http://itunes.apple.com/search',
      data: {
        term: artist + ' ' + track,
        media: 'music'
      },
      dataType: 'jsonp',
      success: function(json) {
        if(json.results.length === 0) {
          $('img[name="nowplayingimage"]').attr('src', '');
          return;
        }

        // trust the first result blindly...
        var artworkURL = json.results[0].artworkUrl100;
        $('img[name="nowplayingimage"]').attr('src', artworkURL);
      }
   });
} 
```

# java - HTTPClient 给 404 不带 www 的 url

> ID：11877393
> 
> 赞同：0
> 
> 时间：2012-08-09T05:44:58.983
> 
> 标签：java, apache, httpclient

我正在使用 apache HTTPClient 4.2。我使用下面的代码来获取 HTTP 状态代码。它给了我`404`。

```
DefaultHttpClient client = new DefaultHttpClient();
        HttpContext context = new BasicHttpContext();
        HttpUriRequest method = new HttpGet("http://michaelkimsal.com/blog/hosted-solr-or-lucene-service/comment-page-1/#comment-604253");
        try {
            HttpResponse httpResponse = client.execute(method,context);
            int status = httpResponse.getStatusLine().getStatusCode();
            System.out.println("The status is:"+status);
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        } 
```

但是，如果将 url 更改为此（我已将 www 添加到 url），`http://www.michaelkimsal.com/blog/hosted-solr-or-lucene-service/comment-page-1/#comment-604253`它会给我`200`. 这种行为的原因可能是什么？请有人帮助解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:01:59.097

[http://michaelkimsal.com](http://michaelkimsal.com)在您的情况下不是有效的域，浏览器在某些情况下是智能的，可以自动处理这种情况，您应该使用带有 www 的正确域。

编辑请检查[这个](https://serverfault.com/questions/110936/whats-the-difference-between-domainname-com-and-www-domainname-com)serverault 和[wiki的链接](http://en.wikipedia.org/wiki/Domain_name)

它适用于谷歌，因为它已经为此完成了 dns 解析设置。您还可以设置别名

# windows - 我怎样才能释放一个 Tpanel，它有一个调用释放 Tpanel 的 TbitBtn

> ID：11877394
> 
> 赞同：1
> 
> 时间：2012-08-09T05:44:59.430
> 
> 标签：windows, delphi, components, delphi-7

我创建了一个自定义 Tpanel，并在其中放置了各种自定义组件...

```
procedure Panel_Comp(Location: TWinControl; NumOfComp:     Integer;Left,Top,Height,width:Integer);  
begin  
  MyPanel := TsPanel.Create(Conf);  
  MyPanel.Name := 'MyPanel' + IntToStr(NumOfComp);  
  MyPanel.Parent := Location;  
  MyPanel.Left := Left;  
  MyPanel.Top := Top;  
  MyPanel.Height := Height;  
  MyPanel.Width := width;  
  MyPanel.Caption := '';  
end; 
```

我这样称呼它

```
Panel_Comp(Conf.ScrollBox1,1,8,10,70,322); 
```

在相同的逻辑中，我将其他自定义组件（包括 tBitbtn）放入新面板中，并具有 onclick 事件。

```
procedure BitBtn_Comp(Location: TWinControl; NumOfComp: Integer; Left,Top,Height,Width,ImageNum: Integer);  
begin  
  MyBitBtn := TBitBtn.Create(Conf);  
  ......  
  MyBitBtn.tag := NumOfComp;  
  MyBitBtn.OnClick:= Conf.CloseCurrentPanel;
end; 
```

在主 Forn TConf.CloseCurrentPanel;

```
procedure TConf.CloseCurrentPanel(Sender: TObject);  
var  
  panelComp: TComponent;  
begin  
  panelComp := FindComponentEx('Conf.MyPanel'+ IntToStr(TBitBtn(Sender).tag);
  TPanel(panelComp).Free;
  Application.ProcessMessages;  
end; 
```

当我调用它时，我遇到访问冲突......我认为我必须在释放面板之前释放面板内的所有组件，但是我如何在面板之前释放 BitBtn 并继续单击事件的操作？

这是 FindComponetEx 函数，而不是您需要它...

```
function FindComponentEx(const Name: string): TComponent;  
var  
  FormName: string;  
  CompName: string;  
  P: Integer;  
  Found: Boolean;  
  Form: TForm;  
  I: Integer;  
begin  
// Split up in a valid form and a valid component name  
  P := Pos('.', Name);  
  if P = 0 then  
  begin  
    raise Exception.Create('No valid form name given');  
  end;  
  FormName := Copy(Name, 1, P - 1);  
  CompName := Copy(Name, P + 1, High(Integer));  
  Found    := False;    
  // find the form  
  for I := 0 to Screen.FormCount - 1 do  
    begin  
      Form := Screen.Forms[I];  
   // case insensitive comparing  
      if AnsiSameText(Form.Name, FormName) then  
        begin  
          Found := True;  
          Break;  
        end;  
    end;  
  if Found then  
    begin  
      for I := 0 to Form.ComponentCount - 1 do  
        begin  
          Result := Form.Components[I];  
         if AnsiSameText(Result.Name, CompName) then Exit;  
        end;  
     end;  
  Result := nil;  
end; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:08:10.647

发生 AV 是因为您在组件 (MyBitBtn) 仍在处理 Windows 消息时销毁它。解决方案是将销毁推迟到稍后通过`PostMessage`，类似于：

```
unit Unit1;

interface

uses
  Windows,
  Messages,
  SysUtils,
  Variants,
  Classes,
  Graphics,
  Controls,
  Forms,
  Dialogs,
  ExtCtrls,
  StdCtrls;

const
  UM_DESTROYPANEL = WM_APP + 623; // some "unique" number; UM = user message

type
  TConf = class(TForm)
    Panel1: TPanel;
    Button1: TButton;
    procedure Button1Click(Sender: TObject);
  strict private
    procedure UMDestroyPanel(var Message: TMessage); message UM_DESTROYPANEL;
  public
    { Public-Deklarationen }
  end;

var
  Conf: TConf;

implementation

{$R *.dfm}

procedure TConf.Button1Click(Sender: TObject);
begin
  PostMessage(Handle, UM_DESTROYPANEL, 0, 0);
end;

procedure TConf.UMDestroyPanel(var Message: TMessage);
begin
  Panel1.Free;
end;

end. 
```

如果需要，您可以使用 wParam 和 lParam 传递参数，如下所示：

```
procedure TConf.Button1Click(Sender: TObject);
begin
  PostMessage(Handle, UM_DESTROYPANEL, WPARAM(Panel1), 0);
end;

procedure TConf.UMDestroyPanel(var Message: TMessage);
begin
  TObject(Message.WParam).Free;
end; 
```

**编辑：** 在你的情况下，我可能会`TConf.CloseCurrentPanel`这样重写：

```
procedure TConf.CloseCurrentPanel(Sender: TObject);
var
  panelComp: TComponent;
begin
  panelComp := FindComponentEx('Conf.MyPanel'+ IntToStr(TBitBtn(Sender).Tag);
  PostMessage(Handle, UM_DESTROYPANEL, WPARAM(panelComp), 0); 
end; 
```

或者，您可以通过标签（可能是更好的解决方案，因为涉及的转换较少）：

```
procedure TConf.CloseCurrentPanel(Sender: TObject);
begin
  PostMessage(Handle, UM_DESTROYPANEL, TBitBtn(Sender).Tag, 0);
end;

procedure TConf.UMDestroyPanel(var Message: TMessage);
var
  panelComp: TComponent;
begin
  panelComp := FindComponentEx('Conf.MyPanel'+ IntToStr(Message.WParam));
  panelComp.Free;
end; 
```

AFAICT`Application.ProcessMessages`是不需要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T09:32:31.157

```
procedure TConf.CloseCurrentPanel(Sender: TObject);   
var     
   panelComp: TComponent;   
 begin     
   panelComp := FindComponentEx('Conf.MyPanel'+ IntToStr(TBitBtn(Sender).tag);  
   //Where you need to determine 'PanelComp' if there are.
   if Assigned(panelComp) and (PanelComp is TPanel) then
     TPanel(panelComp).Free;  
   Application.ProcessMessages;   
end; 
```

# excel - 如何随机播放多行 文本文件或 excel 中的项目？

> ID：11877395
> 
> 赞同：0
> 
> 时间：2012-08-09T05:45:09.140
> 
> 标签：excel, random, editor, notepad++, multiline

我一直在寻找几个小时，还没有找到解决方案。我有一个要随机化的选择，但它被分成多行。对于单行随机化器，我可以找到解决方案没有问题，但我被这个难住了。

感谢您的关注

这是我目前拥有的

```
1a
1b
1c
1天
2a
2b
2c
二维
3a
3b
3c
3d
```

我想根据保持字母顺序相同的数字进行随机化

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-16T09:54:45.340

参考`notepad++`标签：

在这里，您可以找到一个脚本来随机化所有或选定行的顺序。

[https://github.com/ethanpil/npp-randomizelines](https://github.com/ethanpil/npp-randomizelines)

它需要通过插件管理器轻松安装的 Python 脚本插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:56:20.663

首先查看有关使用生成随机数的[本教程，然后您可以对其进行排序。](http://chandoo.org/wp/2008/09/23/sort-in-random-order-excel-formulas/)[`RAND()`](http://office.microsoft.com/en-us/excel-help/rand-HP005209229.aspx)

如果您想保持“a、b、c、d”序列相同，但将数字分量打乱，我会将这些数据分成两列。添加第三列，这将是您的随机数。最后，使用 . 根据生成的随机值对数值列进行排序[`VLOOKUP()`](http://office.microsoft.com/en-us/excel-help/vlookup-HP005209335.aspx)。换句话说，让字母列保持原样，创建一个随机排列的数字列。

最后，将数字和字母列与第四列组合使用[`CONCATENATE()`](http://office.microsoft.com/en-us/excel-help/concatenate-HP005209020.aspx)并删除拆分列和随机数。

# iphone - 新的 Facebook SDK FBSession sessionOpenWithPermissions

> ID：11877398
> 
> 赞同：15
> 
> 时间：2012-08-09T05:45:31.907
> 
> 标签：iphone, facebook, login

我一直在尝试使用 Facebook 开发 iOS 应用程序，我是新手。所以我一直在努力

使用 Facebook 登录，遵循 Facebook 上的教程并尝试实现它。

但是我遇到过，`[FBSession sessionOpenWithPermissions]`没找到。当我运行

应用程序，它将强制关闭并说出该错误。构建项目时，它会显示警告

`sessionOpenWithPermission`找不到的黄色感叹号`FBSession`

教程过时了？如果是，那么新的 Facebook SDK 的新代码是什么？

会话OpenWithPermission ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-26T07:37:14.647

Maybe this code helps you, put it in your `AppDelegate.m` class

```
- (void)sessionStateChanged:(FBSession *)session
                      state:(FBSessionState) state
                      error:(NSError *)error
{
    switch (state) {
        case FBSessionStateOpen: {
            self.loggedinVCController = [[LoggedinVC alloc] initWithNibName:@"LoggedinVC" bundle:nil];
            self.navController = [[UINavigationController alloc]initWithRootViewController:self.loggedinVCController];
            self.window.rootViewControlle`enter code here`r = self.navController;

        }
            break;
        case FBSessionStateClosed:
        case FBSessionStateClosedLoginFailed:
            // Once the user has logged in, we want them to
            // be looking at the root view.
            [self.navController popToRootViewControllerAnimated:NO];

            [FBSession.activeSession closeAndClearTokenInformation];

            self.viewController = [[SampleViewController alloc] initWithNibName:@"SampleViewController" bundle:nil];
            self.window.rootViewController = self.viewController;

            break;
        default:
            break;
    }

    if (error) {
        UIAlertView *alertView = [[UIAlertView alloc]
                                  initWithTitle:@"Error"
                                  message:error.localizedDescription
                                  delegate:nil
                                  cancelButtonTitle:@"OK"
                                  otherButtonTitles:nil];
        [alertView show];
    }
}
- (BOOL)application:(UIApplication *)application
            openURL:(NSURL *)url
  sourceApplication:(NSString *)sourceApplication
         annotation:(id)annotation
{
    return [FBSession.activeSession handleOpenURL:url];
}
- (void)openSession
{
    [FBSession openActiveSessionWithReadPermissions:nil
                                       allowLoginUI:YES
                                  completionHandler:
     ^(FBSession *session,
       FBSessionState state, NSError *error) {
         [self sessionStateChanged:session state:state error:error];
     }];
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-19T12:03:51.723

**试试这个代码**

```
 account = [[ACAccountStore alloc] init];
    accountType = [account accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierTwitter];
    arrayOfAccounts = [account accountsWithAccountType:accountType]; 

    appDelegate= (AppDelegate *)[[UIApplication sharedApplication] delegate];
    chk=appDelegate.chk_login;

    if (!appDelegate.session.isOpen) {
        // create a fresh session object
        appDelegate.session = [[FBSession alloc] init];
        if (appDelegate.session.state == FBSessionStateCreatedTokenLoaded) {
            // even though we had a cached token, we need to login to make the session usable
            [appDelegate.session openWithCompletionHandler:^(FBSession *session,
                                                             FBSessionState status,
                                                             NSError *error) {
                // we recurse here, in order to update buttons and labels

            }];
        }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T08:36:47.577

[FBSession](https://stackoverflow.com/questions/11925987/facebook-ios-sdk-3-0-login-tutorial-issue-with-fbsession)的 Facebook iOS SDK 3.0 登录教程问题可能重复

```
//REPLACE
[FBSession sessionOpenWithPermissions:nil
                    completionHandler: ^(FBSession *session, FBSessionState state, NSError *error) {
                        [self sessionStateChanged:session state:state error:error];
                    }];

//WITH
[FBSession openActiveSessionWithPermissions:nil
                               allowLoginUI:YES
                          completionHandler:^(FBSession *session, FBSessionState state, NSError *error) {
                              [self sessionStateChanged:session state:state error:error];
                          }]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-30T09:44:48.270

它打开 facebook seesion 并可选择显示登录 ux

```
- (BOOL)openSessionWithAllowLoginUI:(BOOL)allowLoginUI {
    NSArray *permissions = [[NSArray alloc] initWithObjects:
                            @"email",
                            @"user_likes",
                            nil];
    return [FBSession openActiveSessionWithReadPermissions:permissions
                                              allowLoginUI:allowLoginUI
                                         completionHandler:^(FBSession *session,
                                                             FBSessionState state,
                                                             NSError *error) {
                                             [self sessionStateChanged:session
                                                                 state:state
                                                                 error:error];
                                         }];} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T01:51:51.430

只需将@Stas Zhukovskiy 的答案复制到答案框的评论中即可：

**文档教程和示例不匹配。你应该使用 - (BOOL)openSessionWithAllowLoginUI:(BOOL)allowLoginUI; 反而。——[斯塔斯茹科夫斯基](https://stackoverflow.com/users/573938/stas-zhukovskiy)**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-09-10T11:34:36.480

App Delegate 中缺少某些行代码。只需检查那个。之后，您将在调用 Facebook 方法时检查打开会话和关闭会话。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-07-08T09:49:29.857

你也可以使用 Sharekit 它非常容易实现并且还支持其他社交网络。 [共享工具包](http://www.getsharekit.com/)

[分享套件教程](http://getsharekit.com/tutorial/facebook)

# ruby-on-rails - 如何查看特定 github url 上可用的 gem？

> ID：11877401
> 
> 赞同：0
> 
> 时间：2012-08-09T05:45:53.253
> 
> 标签：ruby-on-rails, github, bundle

这是一个关于捆绑程序如何查找 gem 的非常基本的问题。

在尝试恢复到我在 Rails 应用程序中使用的以前版本的 gem 时，我收到以下`bundle install`错误：

```
Could not find gem 'client_side_validations (= 3.2.0.beta.3) ruby' in https://github.com/bcardarella/client_side_validations.git (at master).
Source contains 'client_side_validations' at: 3.2.0.beta.6 
```

这很奇怪，因为几天前我在 3.2.0.beta.3 上，而 bulder 很高兴。

我非常想知道通过捆绑器的 url ('https://github.com/bcardarella/client_side_validations.git') 可以使用哪些版本的 gem。我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T15:19:06.730

Bundler 从 master 分支中提取源代码并在[此处获取 gem 的版本](https://github.com/bcardarella/client_side_validations/blob/master/lib/client_side_validations/version.rb)

# c++ - 套接字编程。connect(...) api 的问题

> ID：11877402
> 
> 赞同：0
> 
> 时间：2012-08-09T05:45:59.710
> 
> 标签：c++, winapi, sockets, networking, network-programming

在我的网络编程项目中（在 Visual C++ 中），我面临一个 connect(...) api 的问题。connect() 的代码段如下。

```
if (connect(sockfd[0], &sock.addr, sizeof(sock.inaddr)) == SOCKET_ERROR){
    wprintf(L"connect function failed with error: %ld\n", WSAGetLastError());
    closesocket(sockfd[0]);
    WSACleanup();
} 
```

对于上面提到的代码，我遇到了以下编译错误，这没有意义，因为 connect 应该需要 3 个 args。

```
error C2660: 'SampleClass::connect' : function does not take 3 arguments 
```

谁能帮我弄清楚我在这里缺少什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:48:24.893

您正在尝试调用类成员连接。在连接前加上 :: 以便它找到正确的功能。

```
if (::connect(sockfd[0], &sock.addr, sizeof(sock.inaddr)) == SOCKET_ERROR){ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:49:33.550

看起来您的课程有*自己的* `connect`方法，请尝试调用`::connect`，这应该会给您“标准”方法。

# android - 用于非本地 (Web) 应用程序的 Web 套接字或推送通知

> ID：11877403
> 
> 赞同：2
> 
> 时间：2012-08-09T05:46:04.017
> 
> 标签：android, html, mobile

我认为为移动设备编写基于 HTML5 的应用程序的优势之一是我不必处理（许多）怪癖。

我想将更改从我的服务器推送到手机浏览器，例如，如果我的用户转到[http://mysite.com](http://mysite.com)，他们应该在发生更改时收到通知。是否可以为 android chrome 浏览器和苹果 safari 执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T09:47:47.967

是的，如果更改是即时的，您可以使用 websockets。最近我开始使用[http://pusher.com/](http://pusher.com/)，这是一项相当不错的服务。或者创建您自己的 websocket 来执行此操作。这是一篇关于 websockets 的文章：http: [//www.html5rocks.com/en/tutorials/websockets/basics/](http://www.html5rocks.com/en/tutorials/websockets/basics/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:55:15.213

是的，如果您构建一个可以处理推送的服务器（通常通过 WebSockets），这是可能的。看看[socket.io](http://socket.io/)。

# javascript - javascript：解析url字符串的正则表达式

> ID：11877404
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:46:08.497
> 
> 标签：javascript, regex, query-string

我正在尝试使用规则表达式来提取查询字符串参数的值

到目前为止，我带来了以下内容：

```
app.getValue = function() {
  var regExp = '[&?]'+$("#token").val()+'=(.*?)[&$]';
  var re = new RegExp(regExp);
  var res = re.exec($("#url").val());
  if (!res) return '';
  return res[1] || '';
} 
```

问题似乎是结果表达式末尾的“$”被解释为文字字符，而不是输入字符串的结尾

所以使用以下查询字符串：

```
http://wines?len=10&page=500&filter=bogota and salvador&sort=name asc 
```

如果我在字符串末尾添加“&”或“$”，则查找标记“排序”不会让我得到任何东西......

我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:59:36.003

我看起来不可能在字符类组中表达行尾字符。相反，我认为您可以只使用`(&|$|,)`来匹配逗号、与号或行尾。请注意，这会创建一个新的匹配组，但这不会影响您的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:00:38.540

尝试这个

```
var urlParams = {};
(function () {
    var match,
        pl     = /\+/g,  // Regex for replacing addition symbol with a space
        search = /([^&=]+)=?([^&]*)/g,
        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
        query  = window.location.search.substring(1);

    while (match = search.exec(query))
       urlParams[decode(match[1])] = decode(match[2]);
})(); 
```

例子：

```
?var1=test1&var2=test2 
```

结果：

```
alert(urlParams["var1"]); 
```

# android - OverlayItem 未显示在 Android 上的正确位置

> ID：11877406
> 
> 赞同：0
> 
> 时间：2012-08-09T05:46:14.127
> 
> 标签：android, google-maps

我使用以下代码在 Android 地图上显示 GeoPoint：

```
 drawable            = getResources().getDrawable(R.drawable.annot_start);
        point               = new GeoPoint((int)(startLatitude*1E6), (int)(startLongitude*1E6));
        overlayItem         = new OverlayItem(point, startAddress, "");
        itemizedOverlay[n]= new RouteItemizedOverlay(getDrawable(drawable), mapView);
        itemizedOverlay[n].addOverlay(overlayItem);
        mapOverlays.add(itemizedOverlay[n]); 
```

但是针点没有显示在当前位置，它显示在点的下方。![在此处输入图像描述](../Images/13b91fb205621bdcdbf292ae05fd16bb.png)

如何将点固定在正确的位置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T05:55:27.980

在`ItemizedOverlay<OverlayItem>`构造函数中使用`super(boundCenterBottom(marker));`. 可能会有所帮助。

# java - 如何从Android中的数组中删除重复的条目

> ID：11877411
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:46:39.823
> 
> 标签：java

> **可能重复：**
> [Java 从数组中删除重复项？](https://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array)

```
String={3333,4444,5555,5555,1111} 
```

使用分隔符我将字符串值放在`array[]..`

现在，我怎样才能删除数组中的相同条目？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:47:41.117

改为使用`Set`，或临时使用`Set`并将唯一结果返回数组

**看**

*   [我可以使用 Java 中的哪个接口来存储唯一对象？](https://stackoverflow.com/questions/11203917/what-interface-in-java-can-i-use-to-store-unique-objects)

# cakephp - 如何绕过 CakePHP 自定义身份验证器对象中的致命错误处理？

> ID：11877415
> 
> 赞同：0
> 
> 时间：2012-08-09T05:46:58.920
> 
> 标签：cakephp, cakephp-2.1, fatal-error, custom-authentication

我正在我的自定义 Authenticator 对象中进行基于肥皂的身份验证。有时肥皂端点可能不可用。这依次会抛出一个

```
SOAP-ERROR: Parsing WSDL: Couldn't load from 
```

然后将由

```
ErrorHandler::handleFatalError(1, 'SOAP-ERROR: Par...', '/home/bombadil/...', 100) 
```

在 lib/Cake/Error/ErrorHandler.php 然后页面将被重定向到 lib Cake/View/Errors/fatal_error.ctp

现在，我如何再次重定向到我的登录页面并显示一个缓和的错误消息，而不是抛出不友好的 fatal_error.ctp 页面？我不能再创建一个 fatal_error 页面，因为我想再次重定向到我的登录页面。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T06:55:50.610

NVM，我在 Soap 数据源中连接不成功时引发异常，并在我的模型中捕获它，该模型执行基于 Soap 的身份验证。

# java - JSF 错误 - IllegalStateException: PWC3999: 提交响应后无法创建会话

> ID：11877420
> 
> 赞同：1
> 
> 时间：2012-08-09T05:47:13.283
> 
> 标签：java, jsf, jakarta-ee, jsf-2, facelets

我是 JSF 的新手，我正在构建一个使用 facelets 创建的应用程序。
这是我的模板
master.xhtml

```
<body id="body">
 <form id="frmmaster">
        <div id="pg-nav-bg">
            <div class="wrapper clear">
                <div class="footer clear">
                    <div class="footerContent">Help Des</div>
                </div>
                <div id="pg-nav">
                    <ul class="nav sf-js-enabled">
                        <li class="page_item" id="liHomr">
                            <a href="#" title="Home">Home</a>
                        </li>
                        <li class="page_item" id="liFreeSearch">
                            <a href="#" title="Free Search" >Free Search</a>  
                        </li>
                        <li class="page_item" id="liMasterSearch">      
                            <a href="#"  title="Search">Search</a> 
                        </li>
                        <li class="page_item" id="liAdvanceSearch">
                            <a href="#" title="Advanced Search">Advanced Search</a> 
                        </li>
                        <li class="page_item" id="liCharts">
                            <a href="#" title="Charts" >Charts</a>  <!-- 
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="wrapper clear">
            <div class="Welcome ">
                <div class="welcome">
                     Welcome! &nbsp;<strong>Searcher</strong>
                    &nbsp; | &nbsp;
                    <strong >
                        [ <a title="Change Password" href="" style="color: #FFFFFF;">Change Password</a> ]
                        [ <h:commandLink id="lbSignOut" value="Sign Out" onclick="lbSignOut_Click"  styleClass="color: #FFFFFF;"></h:commandLink> ]
                    </strong>
                </div>
                <br class="clear" />
                <div>
                    <label id="lblMessage"></label>
                </div>
            </div>
        </div>
        <div class="wrapper big" >
            <div id="header" class="clear">
                <img src="../../images/logo.png" class="image" alt=""/>
                <div class="logo">
                    <div id="title" >M - 11</div>
                    <div id="version">V 0.8</div>
                    <div id="description">Helps in finding the right person</div>
                </div>
            </div>
            <!-- Here I included facelet -->
            <ui:include src="../SearchPages/MasterSearch.xhtml"/> 

        </div>
   </form>
</body>

</html> 
```

# 现在下面的文件是我在 master.xhtml 中包含的合成文件，即

MasterSearch.xhtml

```
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">
<div id="sidebar">
            <ul>
                <li class="widget">
                    <table>   
                    <h:form> 
                        <tr><td>Service Number</td>
                            <td>
                            <h:inputText id="txtMasterServiceNumber" styleClass="text-box" value="#{masterSearch.serviceNumber}" requiredMessage="enter value">
                            <f:validateRegex pattern="[A-Za-z0-9]{1,40}"/>
                            </h:inputText>
                            <h:message for="txtMasterServiceNumber" />

                            </td>
                        </tr>
                        <tr>
                            <td>Rank</td>
                            <td><h:selectOneMenu id="cboMasterRank" value="#{masterSearch.rank}" styleClass="select-field">
                                            <f:selectItem itemLabel="--Please Select--" itemValue="medium" />
                                            <f:selectItem itemLabel="A" itemValue="medium" />
                                            <f:selectItem itemLabel="B" itemValue="basic" />
                                            <f:selectItem itemLabel="C" itemValue="premium" />
                                            </h:selectOneMenu></td>
                        </tr>
                        <tr>
                            <td>Full Name</td>
                            <td>
                            <h:inputText id="txtMasterFullName" styleClass="text-box" value="#{masterSearch.fullName}" validatorMessage="Please enter a valid name.">
                            <f:validateRegex pattern="^([A-Za-z])*$" />
                            <h:message for="txtMasterFullName" styleClass="Error" /></h:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td>CNIC Number</td>
                            <td><h:inputText id="txtMasterCNIC" value="#{masterSearch.CNICNumber}"  styleClass="text-box">
                            <f:validateRegex pattern="^([A-Za-z])*$" />
                            <h:message for="txtMasterFullName" styleClass="Error" />
                            </h:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td>Phone No.</td>
                            <td><h:inputText id="txtMasterPhoneNo" value="#{masterSearch.phoneNumber}"  styleClass="text-box"></h:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td>Email Address</td>
                            <td><h:inputText id="txtMasterEmail" value="#{masterSearch.emailAddress}"  styleClass="text-box"></h:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" align="right">
                            <h:commandButton id="btnMasterSearch"  type="submit" value="Search" styleClass="submitButton"  action="#{masterSearch.findPerson}"></h:commandButton>
                            </td>
                        </tr>
                        </h:form>
                   </table>
                </li>
            </ul>
                <img src="../../images/loader.gif" alt="" style="vertical-align:middle;margin:2px;"/>Loading...
        </div>

    </div>
    <script src="../../Scripts/searchexternal.js" type="text/javascript"></script> 
```

MasterSearch.java 哪个是bean

```
public class MasterSearch {

    long serviceNumber;
    String rank;
    String fullName;
    String CNICNumber;
    String phoneNumber;
    String emailAddress;

    public long getServiceNumber() {
        return serviceNumber;
    }
    public void setServiceNumber(long serviceNumber) {
        this.serviceNumber = serviceNumber;
    }
    public String getRank() {
        return rank;
    }
    public void setRank(String rank) {
        this.rank = rank;
    }
    public String getFullName() {
        return fullName;
    }
    public void setFullName(String fullName) {
        this.fullName = fullName;
    }
    public String getCNICNumber() {
        return CNICNumber;
    }
    public void setCNICNumber(String cNICNumber) {
        CNICNumber = cNICNumber;
    }
    public String getPhoneNumber() {
        return phoneNumber;
    }
    public void setPhoneNumber(String phoneNumber) {
        this.phoneNumber = phoneNumber;
    }
    public String getEmailAddress() {
        return emailAddress;
    }
    public void setEmailAddress(String emailAddress) {
        this.emailAddress = emailAddress;
    }

    public String findPerson(){

        return "personfound";

    }

} 
```

面孔-config.xml

```
<?xml version="1.0" encoding="UTF-8"?>

<faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"

    version="2.0">

    <application>
        <el-resolver>
            org.springframework.web.jsf.el.SpringBeanFacesELResolver
        </el-resolver>
    </application>

<managed-bean>
    <managed-bean-name>masterSearch</managed-bean-name>
        <managed-bean-class>
            MasterSearch
        </managed-bean-class>
    <managed-bean-scope>request</managed-bean-scope>
</managed-bean>

<managed-bean>
    <managed-bean-name>masterResult</managed-bean-name>
        <managed-bean-class>
            com.delta.resultbeans.MasterSearchResult
        </managed-bean-class>
    <managed-bean-scope>request</managed-bean-scope>
</managed-bean>

<navigation-rule>
    <description>Navigation from the MasterSearch</description>
    <from-view-id>/WebPages/SearchPages/MasterSearch.xhtml</from-view-id>
    <navigation-case>
        <from-outcome>personfound</from-outcome>
        <to-view-id>/WebPages/SearchPages/found.jsp</to-view-id>
    </navigation-case>
    <navigation-case>
        <from-outcome>personnotfound</from-outcome>
        <to-view-id>/notfound.jsp</to-view-id>
    </navigation-case>
</navigation-rule>
</faces-config> 
```

现在，当我运行此代码（实际上是 masterp.xhtml）时，它会显示完美的输出并准确加载，但会在控制台中引发异常，即

```
SEVERE: Error Rendering View[/WebPages/MasterPage/master.xhtml]
java.lang.IllegalStateException: PWC3999: Cannot create a session after the response has been committed
    at org.apache.catalina.connector.Request.doGetSession(Request.java:2885)
    at org.apache.catalina.connector.Request.getSession(Request.java:2582)
    at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:920)
    at com.sun.faces.context.ExternalContextImpl.getSession(ExternalContextImpl.java:155)
    at com.sun.faces.renderkit.ServerSideStateHelper.writeState(ServerSideStateHelper.java:175)
    at com.sun.faces.renderkit.ResponseStateManagerImpl.writeState(ResponseStateManagerImpl.java:122)
    at com.sun.faces.application.StateManagerImpl.writeState(StateManagerImpl.java:166)
    at com.sun.faces.application.view.WriteBehindStateWriter.flushToWriter(WriteBehindStateWriter.java:225)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:419)
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1542)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
    at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:849)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:746)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1045)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:228)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)

INFO: Exception when handling error trying to reset the response.
java.lang.IllegalStateException: PWC3999: Cannot create a session after the response has been committed
    at org.apache.catalina.connector.Request.doGetSession(Request.java:2885)
    at org.apache.catalina.connector.Request.getSession(Request.java:2582)
    at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:920)
    at com.sun.faces.context.ExternalContextImpl.getSession(ExternalContextImpl.java:155)
    at com.sun.faces.renderkit.ServerSideStateHelper.writeState(ServerSideStateHelper.java:175)
    at com.sun.faces.renderkit.ResponseStateManagerImpl.writeState(ResponseStateManagerImpl.java:122)
    at com.sun.faces.application.StateManagerImpl.writeState(StateManagerImpl.java:166)
    at com.sun.faces.application.view.WriteBehindStateWriter.flushToWriter(WriteBehindStateWriter.java:225)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:419)
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1542)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
    at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:849)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:746)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1045)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:228)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)

WARNING: StandardWrapperValve[Faces Servlet]: PWC1406: Servlet.service() for servlet Faces Servlet threw exception
java.lang.IllegalStateException: PWC3999: Cannot create a session after the response has been committed
    at org.apache.catalina.connector.Request.doGetSession(Request.java:2885)
    at org.apache.catalina.connector.Request.getSession(Request.java:2582)
    at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:920)
    at com.sun.faces.context.ExternalContextImpl.getSession(ExternalContextImpl.java:155)
    at com.sun.faces.renderkit.ServerSideStateHelper.writeState(ServerSideStateHelper.java:175)
    at com.sun.faces.renderkit.ResponseStateManagerImpl.writeState(ResponseStateManagerImpl.java:122)
    at com.sun.faces.application.StateManagerImpl.writeState(StateManagerImpl.java:166)
    at com.sun.faces.application.view.WriteBehindStateWriter.flushToWriter(WriteBehindStateWriter.java:225)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:419)
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1542)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
    at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:849)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:746)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1045)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:228)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722) 
```

我认为因此它没有提交我的按钮的操作

`<h:commandButton id="btnMasterSearch" type="submit" value="Search" styleClass="submitButton" action="#{masterSearch.findPerson}">`出现在`MasterSearch.xhtml`。我在 SO 上发现人们有这个问题，但我无法找到并理解一个好的解决方案。
请帮忙谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-09T11:42:45.243

这是 Mojarra 中的一个已知错误。它已被报告为问题[2215](http://java.net/jira/browse/JAVASERVERFACES-2215)和[2277](http://java.net/jira/browse/JAVASERVERFACES-2277)，并且自 Mojarra 2.1.8 以来已得到修复。因此，如果您至少升级到 2.1.8，那么这个问题应该会消失。

这个问题的原因可以解释如下： Mojarra 试图尽可能地推迟会话创建。*会话应该只在真正*需要的时候创建。其中，当`<h:form>`需要写入 JSF 视图状态时，通常发生在关闭的渲染过程中`</h:form>`。但是，在相对较大的页面上，其中关闭`</h:form>`出现*在*2KB 的书面 HTML 之后，那么创建会话为时已晚。要创建会话，服务器即需要设置 cookie。但是，要设置 cookie，响应不应该已经提交（cookie 即需要进入响应标头中）。服务器默认配置为在每 2KB 的书面 HTML 上刷新响应。

如前所述，此问题自 Mojarra 2.1.8 起已修复。[您可以在此处](http://javaserverfaces.java.net)下载最新版本。

# android - Android小部件填充问题

> ID：11877421
> 
> 赞同：4
> 
> 时间：2012-08-09T05:47:25.390
> 
> 标签：android, widget, margin, padding, android-4.0-ice-cream-sandwich

我正在尝试从索尼爱立信手机克隆电源管理小部件，但我遇到了小部件的新 ICS 填充问题。

我已经阅读了这篇文章 [下面的链接]，但我仍然遇到问题。

**我在GB**上运行我的小部件，它就像我想要的一样工作（第二个是克隆）：http:
[//i.minus.com/iQmbhue0z0jJz.png](http://i.minus.com/iQmbhue0z0jJz.png)

但是在**ICS**中运行时，我的小部件变得比原来的小：http:
[//i.minus.com/iudmWwv6xBsxA.png](http://i.minus.com/iudmWwv6xBsxA.png)

我的文件是：

* * *

**widget_info.xml** (@xml/widget_info.xml)

```
<appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    android:minWidth="40.0dip"
    android:minHeight="40.0dip"
    android:updatePeriodMillis="0"
    android:initialLayout="@layout/widget" >
</appwidget-provider> 
```

**小部件.xml (@layout/widget.xml **)****

 **```
<ImageView android:id="@+id/widget1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:contentDescription="@string/app_name"
        android:src="@drawable/sms_disabled"
        android:clickable="true"
        xmlns:android="http://schemas.android.com/apk/res/android" /> 
```

* * *

我已经尝试放入`android:padding="0dp"`ImageView，我已经尝试放入布局`widget.xml`然后放入`android:padding="0dp"`它，但我仍然遇到这个问题。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-10T08:45:28.490

ICS 上的小部件更小，因为 Android 4.0 或更高版本会自动在小部件周围创建一个边距（另请参阅[Android 开发人员 API](http://developer.android.com/guide/topics/appwidgets/index.html#CreatingLayout)）。解决方案是创建两个 xml 文件；一种用于 ICS 或更高版本，没有额外边距，另一种用于较旧的 Android 版本，有额外边距。

**res/values/dimens.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <dimen name="widget_margin">8dp</dimen>
</resources> 
```

**res/values-v14/dimens.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <dimen name="widget_margin">0dp</dimen>  
</resources> 
```

然后添加`android:layout_margin="@dimen/widget_margin"`到您的小部件 xml 文件中的布局

但是，带有（某些版本？）Samsungs Touchwiz Launcher 的手机不会在 ICS 上应用自动边距，因此您可能还想对此进行补偿。关于这个问题的更多信息：[Widget margins not applicable on ICS phone with TouchWiz launcher?](https://stackoverflow.com/q/13121009/741249)**

# objective-c - Xcode 中的 MapKit 和表格视图

> ID：11877422
> 
> 赞同：1
> 
> 时间：2012-08-08T15:11:06.173
> 
> 标签：objective-c

我有 57 个注释，并试图将这些注释放入表视图中。我还希望能够单击单元格并放大相应的注释。我想知道如何连接注释和表格视图。

我的注释代码：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
    [self configureView];
    CLLocationCoordinate2D thecoordinate1;
    thecoordinate1.latitude = 51.2205806;
    thecoordinate1.longitude = 4.3997224;

    CLLocationCoordinate2D thecoordinate2;
    thecoordinate2.latitude = 33.7489;
    thecoordinate2.longitude = -84.3881;

    CLLocationCoordinate2D thecoordinate3;
    thecoordinate3.latitude = -36.8500;
    thecoordinate3.longitude = 174.78;

    CLLocationCoordinate2D thecoordinate4;
    thecoordinate4.latitude = 41.38333;
    thecoordinate4.longitude = 2.18333;

    CLLocationCoordinate2D thecoordinate5;
    thecoordinate5.latitude = 52.58;
    thecoordinate5.longitude = 13.416;

    CLLocationCoordinate2D thecoordinate6;
    thecoordinate6.latitude = 52.4667;
    thecoordinate6.longitude = -1.9;

    CLLocationCoordinate2D thecoordinate7;
    thecoordinate7.latitude = 42.3583;
    thecoordinate7.longitude = -71.9693;

    CLLocationCoordinate2D thecoordinate8;
    thecoordinate8.latitude = -27.467;
    thecoordinate8.longitude = 153.03;

    CLLocationCoordinate2D thecoordinate9;
    thecoordinate9.latitude = 50.83;
    thecoordinate9.longitude = 4.33;

    CLLocationCoordinate2D thecoordinate10;
    thecoordinate10.latitude = 51.0544;
    thecoordinate10.longitude = -114.0687;

    CLLocationCoordinate2D thecoordinte11;
    thecoordinte11.latitude = -33.906896;
    thecoordinte11.longitude = 18.3667;

    CLLocationCoordinate2D thecoordinate12;
    thecoordinate12.latitude = 41.8500;
    thecoordinate12.longitude = -87.6500;

    CLLocationCoordinate2D thecoordinate13;
    thecoordinate13.latitude = 55.75;
    thecoordinate13.longitude = 12.4167;

    CLLocationCoordinate2D thecoordinate14;
    thecoordinate14.latitude = 32.7828;
    thecoordinate14.longitude = -96.8039;

    CLLocationCoordinate2D thecoordinate15;
    thecoordinate15.latitude = 39.7392;
    thecoordinate15.longitude = -104.9842;

    CLLocationCoordinate2D thecoordinate16;
    thecoordinate16.latitude = 53.33;
    thecoordinate16.longitude = -6.25;

    CLLocationCoordinate2D thecoordinate17;
    thecoordinate17.latitude = 51.226;
    thecoordinate17.longitude = 6.7828;

    CLLocationCoordinate2D thecoordinate18;
    thecoordinate18.latitude = 55.950;
    thecoordinate18.longitude = -3.2200;

    CLLocationCoordinate2D thecoordinate19;
    thecoordinate19.latitude = 50.1167;
    thecoordinate19.longitude = 8.6833;

    CLLocationCoordinate2D thecoordinate20;
    thecoordinate20.latitude = 46.2000;
    thecoordinate20.longitude = 6.15000;

    CLLocationCoordinate2D thecoordinate21;
    thecoordinate21.latitude = 53.55;
    thecoordinate21.longitude = 9.983;

    CLLocationCoordinate2D thecoordinate22;
    thecoordinate22.latitude = 29.7631;
    thecoordinate22.longitude = -95.3663;

    CLLocationCoordinate2D thecoordinate23;
    thecoordinate23.latitude = -26.13;
    thecoordinate23.longitude = 28.445;

    CLLocationCoordinate2D thecoordinate24;
    thecoordinate24.latitude = 38.73;
    thecoordinate24.longitude = -9.133;

    CLLocationCoordinate2D thecoordinate25;
    thecoordinate25.latitude = 51.5081289;
    thecoordinate25.longitude = -0.128005;

    CLLocationCoordinate2D thecoordinate26;
    thecoordinate26.latitude = 34.05;
    thecoordinate26.longitude = -118.25;

    CLLocationCoordinate2D thecoordinate27;
    thecoordinate27.latitude = 40.4;
    thecoordinate27.longitude = -3.6833;

    CLLocationCoordinate2D thecoordinate28;
    thecoordinate28.latitude = 53.4800;
    thecoordinate28.longitude = -2.2400;

    CLLocationCoordinate2D thecoordinate29;
    thecoordinate29.latitude = -37.7833;
    thecoordinate29.longitude = 144.9667;

    CLLocationCoordinate2D thecoordinate30;
    thecoordinate30.latitude = 25.47;
    thecoordinate30.longitude = -80.13;

    CLLocationCoordinate2D thecoordinate31;
    thecoordinate31.latitude = 45.4640;
    thecoordinate31.longitude = 9.1916;

    CLLocationCoordinate2D thecoordinate32;
    thecoordinate32.latitude = 44.9800;
    thecoordinate32.longitude = -93.2636;

    CLLocationCoordinate2D thecoordinate33;
    thecoordinate33.latitude = 45.5681;
    thecoordinate33.longitude = -73.5500;

    CLLocationCoordinate2D thecoordinate34;
    thecoordinate34.latitude = 48.133;
    thecoordinate34.longitude = 11.5667;

    CLLocationCoordinate2D thecoordinate35;
    thecoordinate35.latitude = 40.7167;
    thecoordinate35.longitude = -74;

    CLLocationCoordinate2D thecoordinate36;
    thecoordinate36.latitude = 59.9494;
    thecoordinate36.longitude = 10.7564;

    CLLocationCoordinate2D thecoordinate37;
    thecoordinate37.latitude = 48.8742; 
    thecoordinate37.longitude = 2.3470;

    CLLocationCoordinate2D thecoordinate38;
    thecoordinate38.latitude = -31.933;
    thecoordinate38.longitude = 115.83;

    CLLocationCoordinate2D thecoordinate39;
    thecoordinate39.latitude = 39.9522;
    thecoordinate39.longitude = -75.1642;

    CLLocationCoordinate2D thecoordinate40;
    thecoordinate40.latitude = 45.5236;
    thecoordinate40.longitude = -112.6750;

    CLLocationCoordinate2D thecoordinate41;
    thecoordinate41.latitude = 41.1667;
    thecoordinate41.longitude = 8.5833;

    CLLocationCoordinate2D thecoordinate42;
    thecoordinate42.latitude = 50.0833;
    thecoordinate42.longitude = 14.41667;

    CLLocationCoordinate2D thecoordinate43;
    thecoordinate43.latitude = 41.8;
    thecoordinate43.longitude = 12.6;

    CLLocationCoordinate2D thecoordinate44;
    thecoordinate44.latitude = 51.9217;
    thecoordinate44.longitude = 4.4811;

    CLLocationCoordinate2D thecoordinate45;
    thecoordinate45.latitude = 32.7153;
    thecoordinate45.longitude = -117.1564;

    CLLocationCoordinate2D thecoordinate46;
    thecoordinate46.latitude = 37.7750;
    thecoordinate46.longitude = -122.4183;

    CLLocationCoordinate2D thecoordinate47;
    thecoordinate47.latitude = 47.6097;
    thecoordinate47.longitude = -122.3331;

    CLLocationCoordinate2D thecoordinate48;
    thecoordinate48.latitude = 37.566535;
    thecoordinate48.longitude =126.9779692;

    CLLocationCoordinate2D thecoordinate49;
    thecoordinate49.latitude = 59.33;
    thecoordinate49.longitude = 18.05;

    CLLocationCoordinate2D thecoordinate50;
    thecoordinate50.latitude = -33.873651;
    thecoordinate50.longitude = 151.2068896;

    CLLocationCoordinate2D thecoordinate51;
    thecoordinate51.latitude = 35.6894515;
    thecoordinate51.longitude = 139.6917064;

    CLLocationCoordinate2D thecoordinate52;
    thecoordinate52.latitude = 43.65;
    thecoordinate52.longitude = -79.38333;

    CLLocationCoordinate2D thecoordinate53;
    thecoordinate53.latitude = 49.267;
    thecoordinate53.longitude = -123.11667;

    CLLocationCoordinate2D thecoordinate54;
    thecoordinate54.latitude = 48.2092062;
    thecoordinate54.longitude = 16.3727778;

    CLLocationCoordinate2D thecoordinate55;
    thecoordinate55.latitude = 52.2296756;
    thecoordinate55.longitude = 21.0122287;

    CLLocationCoordinate2D thecoordinate56;
    thecoordinate56.latitude = 38.90813;
    thecoordinate56.longitude = -77.01416;

    CLLocationCoordinate2D thecoordinate57;
    thecoordinate57.latitude = -41.28648;
    thecoordinate57.longitude = 174.776217;

    CLLocationCoordinate2D thecoordinate58;
    thecoordinate58.latitude = 47.3686498;
    thecoordinate58.longitude = 8.5391825;

    CLLocationCoordinate2D thecoordinate59;
    thecoordinate59.latitude = 51.520504;
    thecoordinate59.longitude = -0.106725; 
    Location *ann1 = [[Location alloc] init];
    ann1.title =@"Antwerp";
    ann1.coordinate = thecoordinate1;

    Location *ann2 = [[Location alloc] init];
    ann2.title =@"Atlanta";
    ann2.coordinate = thecoordinate2;

    Location *ann3 = [[Location alloc] init];
    ann3.title = @"Auckland";
    ann3.coordinate = thecoordinate3;

    Location *ann4 = [[Location alloc] init];
    ann4.title = @"Barcelona";
    ann4.coordinate = thecoordinate4;

    Location *ann5 = [[Location alloc] init];
    ann5.title = @"Berlin";
    ann5.coordinate = thecoordinate5;

    Location *ann6 = [[Location alloc] init];
    ann6.title = @"Birmingham";
    ann6.coordinate = thecoordinate6;

    Location *ann7 = [[Location alloc] init];
    ann7.title = @"Boston";
    ann7.coordinate =thecoordinate7;

    Location *ann8 = [[Location alloc] init];
    ann8.title = @"Brisbane";
    ann8.coordinate = thecoordinate8;

    Location *ann9 = [[Location alloc] init];
    ann9.title = @"Brussels";
    ann9.coordinate = thecoordinate9;

    Location *ann10 = [[Location alloc] init];
    ann10.title = @"Calgary";
    ann10.coordinate = thecoordinate10;

    Location *ann11 = [[Location alloc] init];
    ann11.title = @"Cape Town";
    ann11.coordinate = thecoordinte11;

    Location *ann12 = [[Location alloc] init];
    ann12.title = @"Chicago";
    ann12.coordinate = thecoordinate12;

    Location *ann13 = [[Location alloc] init];
    ann13.title = @"Copenhagen";
    ann13.coordinate = thecoordinate13;

    Location *ann14 = [[Location alloc] init];
    ann14.title = @"Dallas";
    ann14.coordinate = thecoordinate14;

    Location *ann15 = [[Location alloc] init];
    ann15.title = @"Denver" ;
    ann15.coordinate = thecoordinate15;

    Location *ann16 = [[Location alloc] init];
    ann16.title = @"Dublin";
    ann16.coordinate = thecoordinate16;

    Location *ann17 = [[Location alloc] init];
    ann17.title = @"Dusseldorf";
    ann17.coordinate = thecoordinate17;

    Location *ann18 = [[Location alloc] init];
    ann18.title = @"Edinburgh";
    ann18.coordinate = thecoordinate18;

    Location *ann19 = [[Location alloc] init];
    ann19.title = @"Frankfurt";
    ann19.coordinate = thecoordinate19;

    Location *ann20 = [[Location alloc] init];
    ann20.title = @"Geneva";
    ann20.coordinate = thecoordinate20;

    Location *ann21 = [[Location alloc] init];
    ann21.title = @"Hamburg";
    ann21.coordinate = thecoordinate21;

    Location *ann22 = [[Location alloc] init];
    ann22.title = @"Houston";
    ann22.coordinate = thecoordinate22;

    Location *ann23 = [[Location alloc] init];
    ann23.title = @"JohannesBurg";
    ann23.coordinate = thecoordinate23;

    Location *ann24 = [[Location alloc] init];
    ann24.title = @"Lisbon";
    ann24.coordinate = thecoordinate24;

    Location *ann25 = [[Location alloc] init];
    ann25.title = @"London";
    ann25.coordinate = thecoordinate25;

    Location *ann26 = [[Location alloc] init];
    ann26.title = @"Los Angeles";
    ann26.coordinate = thecoordinate26;

    Location *ann27 = [[Location alloc] init];
    ann27.title = @"Madrid";
    ann27.coordinate = thecoordinate27;

    Location *ann28 = [[Location alloc] init];
    ann28.title =@"Manchester" ;
    ann28.coordinate = thecoordinate28;

    Location *ann29 = [[Location alloc] init];
    ann29.title = @"Melbourne";
    ann29.coordinate = thecoordinate29;

    Location *ann30 = [[Location alloc] init];
    ann30.title = @"Miami";
    ann30.coordinate = thecoordinate30;

    Location *ann31 = [[Location alloc] init];
    ann31.title = @"Milan";
    ann31.coordinate = thecoordinate31;

    Location *ann32 = [[Location alloc] init];
    ann32.title = @"Minneapolis";
    ann32.coordinate = thecoordinate32;

    Location *ann33 = [[Location alloc] init];
    ann33.title = @"Montreal";
    ann33.coordinate = thecoordinate33;

    Location *ann34 = [[Location alloc] init];
    ann34.title = @"Munich";
    ann34.coordinate = thecoordinate34;

    Location *ann35 = [[Location alloc] init];
    ann35.title = @"New York";
    ann35.coordinate = thecoordinate35;

    Location *ann36 = [[Location alloc] init];
    ann36.title = @"Oslo";
    ann36.coordinate = thecoordinate36;

    Location *ann37 = [[Location alloc] init];
    ann37.title = @"Paris";
    ann37.coordinate = thecoordinate37;

    Location *ann38 = [[Location alloc] init];
    ann38.title = @"Perth";
    ann38.coordinate = thecoordinate38;

    Location *ann39 = [[Location alloc] init];
    ann39.title = @"Philadeplphia";
    ann39.coordinate = thecoordinate39;

    Location *ann40 = [[Location alloc] init];
    ann40.title = @"Portland";
    ann40.coordinate = thecoordinate40;

    Location *ann41 = [[Location alloc] init];
    ann41.title = @"Porto";
    ann41.coordinate = thecoordinate41;

    Location *ann42 = [[Location alloc] init];
    ann42.title = @"Prague";
    ann42.coordinate = thecoordinate42;

    Location *ann43 = [[Location alloc] init];
    ann43.title = @"Rome";
    ann43.coordinate = thecoordinate43;

    Location *ann44 = [[Location alloc] init];
    ann44.title = @"Rotterdam";
    ann44.coordinate = thecoordinate44;

    Location *ann45 = [[Location alloc] init];
    ann45.title = @"San Diego";
    ann45.coordinate = thecoordinate45;

    Location *ann46 = [[Location alloc] init];
    ann46.title = @"San Fransisco";
    ann46.coordinate = thecoordinate46;

    Location *ann47 = [[Location alloc] init];
    ann47.title = @"Seattle";
    ann47.coordinate = thecoordinate47;

    Location *ann48 = [[Location alloc] init];
    ann48.title = @"Seoul";
    ann48.coordinate = thecoordinate48;

    Location *ann49 = [[Location alloc] init];
    ann49.title =   @"Stockholm";
    ann49.coordinate = thecoordinate49;

    Location *ann50 = [[Location alloc] init];
    ann50.title = @"Sydney";
    ann50.coordinate = thecoordinate50;

    Location *ann51 = [[Location alloc] init];
    ann51.title = @"Tokyo";
    ann51.coordinate = thecoordinate51;

    Location *ann52 = [[Location alloc] init];
    ann52.title = @"Toronto";
    ann52.coordinate = thecoordinate52;

    Location *ann53 = [[Location alloc] init];
    ann53.title = @"Vancouver";
    ann53.coordinate = thecoordinate53;

    Location *ann54 = [[Location alloc] init];
    ann54.title = @"Vienna";
    ann54.coordinate = thecoordinate54;

    Location *ann55 = [[Location alloc] init];
    ann55.title = @"Warsaw";
    ann55.coordinate = thecoordinate55;

    Location *ann56 = [[Location alloc] init];
    ann56.title = @"Washington D.C";
    ann56.coordinate = thecoordinate56;

    Location *ann57 = [[Location alloc] init];
    ann57.title = @"Wellington";
    ann57.coordinate = thecoordinate57;

    Location *ann58 = [[Location alloc] init];
    ann58.title = @"Zurich";        
    ann58.coordinate = thecoordinate58;

    Location *ann59 = [[Location alloc] init];
    ann59.title = @"IPD Headoffice";
    //ann59.subtitle = @"Investment Development Databank";
    ann59.coordinate = thecoordinate59;

    MKCoordinateRegion region = { {0.0, 0.0},{0.0, 0.0} };
    region.center.latitude = 52.35;
    region.center.longitude = 4.9;

    region.span.longitudeDelta = 179.01f;
    region.span.latitudeDelta =179.01f;

    [map setRegion:region animated:YES];

    Location *ann = [[Location alloc] init];
    ann.title = @"Amsterdam";
    // ann.subtitle = @"Investment Property Databank";
    ann.coordinate = region.center;

    [map addAnnotation:ann];
    [map addAnnotation:ann1];
    [map addAnnotation:ann2];
    [map addAnnotation:ann3];
    [map addAnnotation:ann4];
    [map addAnnotation:ann5];
    [map addAnnotation:ann6];
    [map addAnnotation:ann7];
    [map addAnnotation:ann8];
    [map addAnnotation:ann9];
    [map addAnnotation:ann10];
    [map addAnnotation:ann11];
    [map addAnnotation:ann12];
    [map addAnnotation:ann13];
    [map addAnnotation:ann14];
    [map addAnnotation:ann15];
    [map addAnnotation:ann16];
    [map addAnnotation:ann17];
    [map addAnnotation:ann18];
    [map addAnnotation:ann19];
    [map addAnnotation:ann20];
    [map addAnnotation:ann21];
    [map addAnnotation:ann22];
    [map addAnnotation:ann23];
    [map addAnnotation:ann24];
    [map addAnnotation:ann25];
    [map addAnnotation:ann26];
    [map addAnnotation:ann27];
    [map addAnnotation:ann28];
    [map addAnnotation:ann29];
    [map addAnnotation:ann30];
    [map addAnnotation:ann31];
    [map addAnnotation:ann32];
    [map addAnnotation:ann33];
    [map addAnnotation:ann34];
    [map addAnnotation:ann35];
    [map addAnnotation:ann36];
    [map addAnnotation:ann37];
    [map addAnnotation:ann38];
    [map addAnnotation:ann39];
    [map addAnnotation:ann40];
    [map addAnnotation:ann41];
    [map addAnnotation:ann42];
    [map addAnnotation:ann43];
    [map addAnnotation:ann44];
    [map addAnnotation:ann45];
    [map addAnnotation:ann46];
    [map addAnnotation:ann47];
    [map addAnnotation:ann48];
    [map addAnnotation:ann49];
    [map addAnnotation:ann50];
    [map addAnnotation:ann51];
    [map addAnnotation:ann52];
    [map addAnnotation:ann53];
    [map addAnnotation:ann54];
    [map addAnnotation:ann55];
    [map addAnnotation:ann56];
    [map addAnnotation:ann57];
    [map addAnnotation:ann58];
    [map addAnnotation:ann59];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:58:03.267

将坐标加载到 NSArray 而不是命名/编号变量中。

将注释填充到 UIMapView

使用 UITableView 显示 NSArray

UITableView的onDidSelect，做

mapView setCenterCoordinate：（CLLocationCoordinate2D）坐标动画：（BOOL）使用来自NSArray的数据进行动画处理。

# c# - 如何强制关闭按钮终止所有子窗体？

> ID：11877434
> 
> 赞同：0
> 
> 时间：2012-08-09T05:48:32.307
> 
> 标签：c#, .net, winforms

我有在其中打开子窗口的程序（mdi.parent）。我已经制作了位于其下一个窗口中的组件，但是，我希望该窗口在创建后永远不会真正释放，因为我只想保留它的一个实例。

这可以用代码实现：

```
 // This prevents this window disposing from window close button, we want always show one and only
    // one instance of this window.
    FormClosing += (o, e) =>
                            {
                                Hide();
                                e.Cancel = true;
                            }; 
```

但是，在此之后出现问题，关闭程序需要按两次关闭按钮。第一次按下关闭子窗口，第二次终止程序。这怎么能解决？

我正在使用 Winforms。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:20:46.077

正如 Habib 所说，你可以打电话`Application.Exit`，但是：

> 调用 Application.Exit 方法退出应用程序时，不会引发 Form.Closed 和 Form.Closing 事件

如果这对您很重要，您可以执行以下操作（MDI 父代码）：

```
 private Boolean terminating;

    protected override void OnClosing(CancelEventArgs e)
    {
        if (!terminating)
        {
            terminating = true;
            Close();
        }

        base.OnClosing(e);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:51:18.277

调用`Application.Exit()`表单关闭事件。

[应用程序退出 - MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.application.exit.aspx)

> 通知所有消息泵它们必须终止，然后在处理完消息后关闭所有应用程序窗口。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T07:09:50.133

事件处理程序方法内部的代码`FormClosing`有点过于简洁。它的作用是阻止用户关闭表单，但正如您也注意到的，它也阻止*您*以编程方式关闭表单。

这很容易通过测试每次引发事件时传递的[`CloseReason`属性](http://msdn.microsoft.com/en-us/library/system.windows.forms.formclosingeventargs.closereason.aspx)的值来解决。[`FormClosingEventArgs`](http://msdn.microsoft.com/en-us/library/system.windows.forms.formclosingeventargs.aspx)

这些将告诉您表单试图关闭的原因。如果值为`CloseReason.UserClosing`，那么您想要设置`e.Cancel`并`true`隐藏表单。如果该值是其他值，那么您希望允许表单继续关闭。

```
// This prevents this window disposing when its close button is clicked by the
// user; we want always show one and only one instance of this window.
// But we still want to be able to close the form programmatically.
FormClosing += (o, e) =>
    {
        if (e.CloseReason == CloseReason.UserClosing)
        {
            Hide();
            e.Cancel = true;
        }
    }; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-11T11:43:12.797

用这个

```
 Form[] ch = this.MdiChildren;
       foreach (Form chfrm in ch)
       chfrm.Close(); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-08-09T06:29:05.963

如果应用程序关闭时没有进行任何处理，您可以使用 Application.Exit。否则，您可以`Application.OpenForms`在 MDI 父级的关闭事件中检查集合并关闭所有其他打开的表单。

# sql-server - 连接到 SQL Server 2012 时出错：无法打开用户数据库。登录失败。（Microsoft SQL Server，错误：4064）

> ID：11877438
> 
> 赞同：2
> 
> 时间：2012-08-09T05:48:46.937
> 
> 标签：sql-server

我在不知不觉中从 SQL Server 2012 中删除了 SA 用户。现在我无法连接到服务器。它显示一个错误：

无法打开用户数据库。登录失败。用户“用户名”登录失败。（Microsoft SQL Server，错误：4064）

现在我不知道该怎么办？

请帮帮我

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T13:18:56.833

遇到此错误时，我们必须创建一个具有服务器身份验证的新用户来连接数据库

[我们可以在安全选项卡下为数据库创建登录名](http://forums.asp.net/p/1854215/5192577.aspx/1?Re%20Cannot%20open%20user%20database%20Login%20failed)->在其下创建新登录名

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:43:45.780

如果您具有 Windows 管理员权限，则可以在单用户模式下重新启动 SQL Server。然后任何管理员都可以在本地登录并修复问题。

试一试作为开始的地方： [当系统管理员被锁定时连接到 SQL Server (MSDN)](http://msdn.microsoft.com/en-us/library/dd207004.aspx)

# matlab - 向量化 for 循环

> ID：11877439
> 
> 赞同：0
> 
> 时间：2012-08-09T05:48:53.190
> 
> 标签：matlab

循环如下：

```
for j = 1:20   
  sigma = (y<0) - (y>=0);    
  x0 = x;  
  out_angle = out_angle - sigma*lut(j);  
  x = x-(y.*sigma)*poweroftwo;  
  y = y+(x0.*sigma)*poweroftwo;   
  poweroftwo = poweroftwo/2;  
end 
```

out_angle、x,y 和 sigma 是 dim m*n 的矩阵。lut 是一个大小为 20 的数组。 poweroftwo 是一个初始值为 1 的标量。是否可以将此代码向量化并避免 for 循环？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T10:12:30.257

这个循环的矢量化缺少很多信息。看看线

```
out_angle = out_angle - sigma*lut(j); 
```

矢量化后，您希望有一个类似于

```
out_angle(j) = out_angle(j-1) - sigma*lut(j); 
```

您会立即看到电流`out_angle`取决于先前计算的值。这也意味着`out_angle`只能按顺序计算，**除非**您可以提出`out_angle`.

```
out_angle(j) = out_angle(j-1) - sigma*lut(j)
             = out_angle(j-2) - sigma*lut(j-1) - sigma*lut(j)
             = out_angle(j-3) - sigma*lut(j-2) - sigma*lut(j-1) - sigma*lut(j)
             = ...
             = out_angle(0) - sum_{k = 0}^j (sigma*lut(k)) 
```

事情变得更复杂，`sigma`也取决于`j`，即实际上你有 `sigma(j)`，因此

```
out_angle(j) = out_angle(0) - sum_{k = 0}^j (sigma(k)*lut(k)) 
```

不幸的是，您也只有一个隐式表达式`sigma`，您必须以相同的方式解决它。您可能可以考虑一下背后的结构`sigma`。这是一个变量，1`y`表示负数，-1`y`表示正数或零，即类似于

```
sigma = -mySign(y) 
```

where`mySign`与`sign`函数类似，但对于零参数给出 1。

如果您可以找到 的显式表示`sigma`，则可以将其插入到上面的显式表示中`out_angle`。之后，您可以（很可能）对代码进行矢量化处理。

# objective-c - 无效的凭证：对于普通用户，而 ldap_simple_bind_s() 函数

> ID：11877449
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:49:44.907
> 
> 标签：objective-c, active-directory, ldap

我正在使用 LDAP 对用户进行身份验证。我正在做 ldap_simple_bind_s(ld,"CN=USERNAME,CN=Users,DC=domainname,DC=com"); 在此调用中，如果将 USERNAME 作为域用户名传递，则查询工作正常。但是，如果我传递了普通用户名或属于域管理员的用户，则会收到 INVALID CREDENTIALS 错误。请帮助我解决问题。谢谢，陶西夫。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T10:19:21.250

当 LDAP 客户端提供的密码与简单 BIND 请求中提供的可分辨名称的目录中存储的密码不匹配时，会出现所描述的错误代码。请注意，当可分辨名称不存在时，许多目录服务器也会返回无效凭据的代码，在其他情况下 - 这可以防止攻击者知道条目存在或不存在。

# php - 在选择标签中获取选定的值

> ID：11877452
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:50:19.953
> 
> 标签：php, javascript, html

```
<div>
<select name="mySelect" id="mySelect" class="select"  onchange="if(this.options[this.selectedIndex].value != ''){window.top.location.href=this.options[this.selectedIndex].value}">
<option value="english.php">English</option>
<option value="french.php">French</option>
<option value="spanish.php">Spanish</option>
</select>
</div> 
```

我想更改语言，当我更改语言时它可以正常工作，但在下拉列表中它总是显示英语

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T05:53:16.870

将`selected`属性添加到页面加载时要选择的选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:55:53.897

您需要添加另一个空白标签。

工作示例：http: [//jsfiddle.net/XYSXA/](http://jsfiddle.net/XYSXA/)

```
<select name="mySelect" id="mySelect" class="select"  onchange="if(this.options[this.selectedIndex].value != ''){window.top.location.href=this.options[this.selectedIndex].value}">
    <option value=""></option>
    <option value="english.php">English</option>
    <option value="french.php">French</option>
    <option value="spanish.php">Spanish</option>
</select>​ 
```

这样，默认情况下不会选择任何选项。

`selected`或者，您可以使用在其中一个开始标记内设置属性`<option>`来指定默认情况下应选择哪种语言。默认选择法语的示例：

```
<select name="mySelect" id="mySelect" class="select"  onchange="if(this.options[this.selectedIndex].value != ''){window.top.location.href=this.options[this.selectedIndex].value}">
    <option value=""></option>
    <option value="english.php">English</option>
    <option value="french.php" selected>French</option>
    <option value="spanish.php">Spanish</option>
</select>​ 
```

工作示例：http: [//jsfiddle.net/XYSXA/1/](http://jsfiddle.net/XYSXA/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T05:57:31.587

```
<?
$file=basename($_SERVER['PHP_SELF'],".php");
$file=ucwords($file);
?>
<option value="french.php" <?=($file=="French")?" selected='selected'":""?>>French</option> 
```

我假设您使用的是法语 for french.php、Spanish for spanish.php 等模式

# python - 如何使用理解 EHLO 的 ESMTP 实现 python 邮件服务器

> ID：11877454
> 
> 赞同：0
> 
> 时间：2012-08-09T05:50:50.973
> 
> 标签：python, smtp

我需要一个 python 库来在 python 中实现一个 ESMTP 服务器。就像 SMTP 服务器一样，我想用它来接收电子邮件，但它能够处理 EHLO 协议。

经过一番谷歌搜索后，我没有发现有用的东西，而且 ESMTP 似乎不是任何标准库的一部分。因此，欢迎任何直接帮助。

谢谢，亚历克斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:04:09.010

看看[lamson](http://lamsonproject.org/)，如果它不能 100% 满足您的需求，那么它可能是一个比从头开始更好的凝视点。

# c++ - 为什么改为调用基本函数？

> ID：11877455
> 
> 赞同：0
> 
> 时间：2012-08-09T05:50:54.390
> 
> 标签：c++, constructor, virtual-functions, vtable

在以下[代码](http://rextester.com/AIV38590)中：

```
#include <iostream>
using namespace std;

class A {
    public:
    A() {
        cout << " A constructor \n";
        sum(2,4);
    }
    virtual int sum(int a, int b){
        cout << "Base sum \n";
        return a + b;
    }
};

class B : public A {
    public:
    B() : A() {
        cout << " B constructor \n";
    }

    int sum(int a, int b){
        cout << "Overloaded sum \n";
        return (a + b) * 10;
    }
};

int main(){
    A* a = new B();
    // a->sum(4,5);
} 
```

为什么即使我已将 A 的 sum 标记为虚拟并在 B 中重载它，也会调用它？在运行时，不应该在 vtable 的帮助下调用 B::sum() 吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T05:53:32.973

因为当您调用该方法时，`a`它还不是类型的对象`B`。

避免`virtual`从构造函数调用方法：它会导致意想不到的结果（当然，除非你期望这种确切的行为，在这种情况下你会发现）。

> 在运行时，不应该在 vtable 的帮助下调用 B::sum() 吗？

不是真的，因为该对象当时没有`vtable`of `B`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T05:59:26.613

当您实例化派生类时，首先执行基构造函数。这意味着在执行基本构造函数时，派生对象的构造尚未完成。

通过将构造函数中的操作限制为预期的方式来避免这些情况：初始化对象。

# html - 如何对齐表单中的所有输入

> ID：11877457
> 
> 赞同：1
> 
> 时间：2012-08-09T05:51:22.970
> 
> 标签：html, css

我试图弄清楚如何将所有输入的左侧对齐在一起。现在整个 .element 行都向左对齐，所以所有的输入字段都是交错的。我不希望输入错开我希望标签文本向右对齐并且输入全部对齐。我尝试了一堆随机的 CSS，但我似乎无法弄清楚。有任何想法吗？

```
<form>

    <div class="element"><label>Name:</label><input name="Name" type="text" /></div>
    <div class="element"><label>Email:</label><input name="Email" type="text" /></div>
    <div class="element"><label>Phone:</label><input name="Phone" type="text" /></div>
    <div class="element"><label>Address Line 1:</label><input name="Address1" type="text" /></div>
    <div class="element"><label>Address Line 2:</label><input name="Address2" type="text" /></div>
    <div class="element"><label>City:</label><input name="City" type="text" /></div>
    <div class="element"><label>State:</label><input name="State" type="text" /></div>
    <div class="element"><label>Zip Code:</label><input name="ZipCode" type="text" /></div>
    <div class="element"><label>Birth Date:</label><input name="Bdate" type="text" /></div>
    <div class="element"><label>Class Selection:</label><input name="Class" type="text" /></div>
    <div class="element"><label>Preferred Meeting Time:</label><input name="Time" type="text" />   </div>

</form>

#registerwrapper .element {
margin-bottom: 15px;
vertical-align: middle;
}

#registrationwrapper label * {
float: left;
font-size: 16px;
}
#registrationwrapper input {
padding: 5px;
margin-left: 10px;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:27:15.153

嘿，现在习惯了这个样式表给你的**标签** `Display inline-block;`并`width`根据你的布局给

**[现场演示](http://tinkerbin.com/rqDUhDZ7)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:29:51.160

你的问题的直接答案是这样的：

```
label {
    display: block;
    margin-right: 5px; /* give some breathing room between your label and inputs */
    padding-top: ?px; /* add this if you're v-aligning to top to adjust the label alignment to the input */
    text-align: right;
    vertical-align: top; /* add this when you've got larger fields like textareas bumping things out of alignment */
    width: ?px;
} 
```

但是，我不得不问你为什么要用 div（层）包装所有标签/字段组合？我建议改用段落，如下所示：

```
<form>
    <p>
        <label for="">Field</label>
        <input id="" />
    </p>
</form> 
```

而且您也不需要为每一行添加一个类。只需这样做：

```
form p {
}

form p label {
}

form p input {
} 
```

现在您发送给客户端的字节数要少得多，而且 HTML 更容易阅读。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:39:02.700

有没有改变你的代码，

见链接：http: [//jsfiddle.net/anglimass/V4HAM/8/](http://jsfiddle.net/anglimass/V4HAM/8/)

# intellij-idea - 可以制作一个 IntelliJ IDEA 运行/调试配置，其中活动编辑器窗口|选项卡的内容作为脚本参数传递？

> ID：11877460
> 
> 赞同：1
> 
> 时间：2012-08-09T05:51:38.073
> 
> 标签：intellij-idea

有谁知道是否有办法将 IntelliJ IDEA CE 11.x 中活动编辑器窗口/选项卡的内容作为参数传递给作为运行/调试配置执行的 Groovy 脚本？我希望 IDEA 会有一些可能允许这样做的内部环境变量的概念（例如 $_ACTIVE_EDITOR），但我一直找不到任何可能有帮助的东西。

本质上，我的用例是获取当前窗口/选项卡的内容并针对它运行自定义工具 - 自定义工具是一个接受字符串作为参数的 groovy 脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T10:49:03.377

您可以做一些包装器，将文件读入字符串，然后调用您的脚本。IDEA 外部工具可以将当前文件名传递给这个包装器。所选文本还有一个宏。

[您可以安装和使用Batch Scripts Support](http://plugins.intellij.net/plugin/?idea&pluginId=6501)插件或[Bash Support](http://plugins.intellij.net/plugin/?idea&pluginId=4230)来代替外部工具。它们为命令行工具提供运行配置。

还要检查[Shell Process](http://plugins.intellij.net/plugin/?idea&pluginId=6001)插件，它声称可以使用编辑器选择运行外部应用程序。

# java - 如何在 Restlet Java Webservice 中使用 JDBC 连接池？

> ID：11877461
> 
> 赞同：0
> 
> 时间：2012-08-09T05:51:52.433
> 
> 标签：java, rest, connection-pooling, restlet

大家好，我正在使用 REST 框架通过**restlet API**在 Java 中开发 Web 服务。我使用 Tomcat 6.0.35 作为 Web 容器。

我想在我的项目中使用**数据库连接池**进行 JDBC 连接。我开始知道**BoneCP**很好，所以我想尝试一下。

我在一个项目中有 20 个 web 服务，即一个资源类用于一个 web 服务。并且有一个应用程序类可以根据客户请求路由每个 Web 服务。

现在我正在打开和关闭每个 web 服务中的 JDBC 连接。

所以我的问题是，**如何将一个 JDBC 连接用于所有 Web 服务？** 我必须在哪个类中打开和关闭 JDBC 连接？

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-09T06:22:17.587

我建议您将 Hibernate 与 C3P0 连接池一起使用，这是最好的，它直接为您提供会话，您不必担心关闭连接等。

# xml - 骡子将相同的有效载荷传递给不同的处理器

> ID：11877462
> 
> 赞同：0
> 
> 时间：2012-08-09T05:51:57.313
> 
> 标签：xml, xpath, mule

我在 MULE 中有一个 xml，我使用拆分器将其拆分为两部分，我面临的问题是如何将相同的 xml 传递给每个拆分器？任何人都可以帮忙吗？

```
<mulexml:object-to-xml-transformer doc:name="Object to XML"/>
 <splitter1/>
 <splitter2/> 
```

每个拆分器之后都有处理和出站端点。谢谢，拉胡尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T12:41:19.080

用来`<all>`做那个

```
<mulexml:object-to-xml-transformer doc:name="Object to XML"/>
<all> 
 <splitter1/>
 <splitter2/>
</all> 
```

`<all>`向您包含在其中的每个消息处理器发送相同的消息。

# perl - ppm 安装失败：PPD 未提供为此平台安装的代码

> ID：11877463
> 
> 赞同：1
> 
> 时间：2012-08-09T05:51:59.043
> 
> 标签：perl

我需要安装 Win32-GuiTest。[我从http://sourceforge.net/projects/winguitest/](http://sourceforge.net/projects/winguitest/)下载了包，但是当我尝试运行时

```
PPM> install C:\temp\win32-guitest.ppd 
```

它在说

> ppm 安装失败：PPD 未提供为此平台安装的代码

谁能告诉如何在 Windows 中的 Perl 中安装模块或包？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T11:05:18.447

截至目前，[ActiveState 无法](http://code.activestate.com/ppm/Win32-GuiTest/)为 Perl 的稳定版本构建 Win32-GuiTest。改为添加[Bribes 存储库](http://www.bribes.org/perl/ppmdir.html#Win32-GuiTest)，那里有说明。

# c++ - 将成员变量的指针作为参数时出错；为什么？

> ID：11877464
> 
> 赞同：0
> 
> 时间：2012-08-09T05:51:59.463
> 
> 标签：c++, visual-c++, pointer-to-member

为什么我在 Visual C++ 2010 中的此代码中不断收到以下错误，以及如何在保持成员变量的类型推断能力的同时修复它？

> 错误 C2825:`'Foo<T>::value_type':`必须是一个类或命名空间时跟`'::'`

```
template<class T>
struct Foo
{
    typedef typename T::value_type value_type;

    template<class M>
    void foo(M value_type::*member) const;   // error
};
struct S { typedef int value_type; };

int main() { Foo<S> s; } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:58:38.517

模板参数`T`原来是 type `S`，因此`value_type`原来是`int`（嵌套类型 in `S`）。那你怎么写`value_type::*member`？请注意，事实证明`int::*member`这是没有意义的。`int`不是类类型。

我想你的意思是`T::*member`而不是`value_type::*member`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:15:11.207

value_type 不是结构 S 的成员。它只是一个 typedef，所以你不能像你一样访问它。

# php - 如何在Mysql select Query中传递php变量

> ID：11877468
> 
> 赞同：-1
> 
> 时间：2012-08-09T05:52:16.193
> 
> 标签：php

`$valid`是一个数组，`$createdon`并且`$days`从数组中获取日期值。我的选择查询不适用于这些`PHP`变量的日期值，请解决它。

```
function checkexpiretime($valid)
    {
        $db = &JFactory::getDBO();
        foreach($valid as $validity)
        {
             echo $createdon=$validity->CreatedOn;
             echo $days=$validity->days;
        }
        echo $query="SELECT * FROM jos_generatekey WHERE CreatedOn BETWEEN DATE_ADD('".$createdon."',".INTERVAL $days DAY.")". "AND CURDATE()"; 
        $db->setQuery($query);
        $checkexpire = $db->loadObjectList();
        print_r($checkexpire);
        return $checkexpire;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T05:58:56.417

查询应该是这样的：

```
$query= "SELECT * FROM jos_generatekey WHERE CreatedOn BETWEEN DATE_ADD('".$createdon."',INTERVAL ". $days ." DAY) AND CURDATE()"; 
```

# jquery - 如何在 jQuery 中移动或交换元素？

> ID：11877469
> 
> 赞同：19
> 
> 时间：2012-08-09T05:52:25.477
> 
> 标签：jquery, html

目标是将元素移动到其左兄弟之前或其右兄弟之后。

```
<ul>
    <li>One</li>
    <li>Two</li>
    <li>Three</li>
    <li>One</li>
</ul> 
```

仅给定元素的索引，我需要将其向左或向右移动。假设索引为 1（LI 与“Two”作为 innerText），那么我想将它移到左边，输出应该是：

```
<ul>
    <li>Two</li>
    <li>One</li>
    <li>Three</li>
    <li>One</li>
</ul> 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-10T05:34:56.027

如果您需要向左或向右移动元素，可以使用 jQuery 方法，例如`next`和`prev`来帮助您获取可以应用的下一个和上一个元素`insertAfter`或`insertBefore`。

```
//Move right:
$(elementToBeMoved).insertAfter($(elementToBeMoved).next());

//Move left:
$(elementToBeMoved).insertBefore($(elementToBeMoved).prev()); 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-08-09T05:54:06.417

```
/**
 * @param siblings {jQuery} List of sibling elements to act upon
 * @param subjectIndex {int} Index of the item to be moved
 * @param objectIndex {int} Index of the item to move subject after
 */
var swapElements = function(siblings, subjectIndex, objectIndex) {
    // Get subject jQuery
    var subject = $(siblings.get(subjectIndex));
    // Get object element
    var object = siblings.get(objectIndex);
    // Insert subject after object
    subject.insertAfter(object);
}
$(function() {
    swapElements($('li'), 0, 1);
});
​ 
```

​</p>

工作示例：http: [//jsfiddle.net/faceleg/FJt9X/2/](http://jsfiddle.net/faceleg/FJt9X/2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-09-09T10:36:43.847

我制作了一个易于使用的 jquery 扩展

```
jQuery.fn.swap = function (newIndex) {
    if (!Number.isInteger(newIndex) && !['up', 'down'].includes(newIndex)) {
        throw new Error('Incorrect index format! Allowed formats are: "up", "down" or an index of the sibling to swap with');
    }
    if (Number.isInteger(newIndex)) {
        this.insertBefore(this.siblings()[newIndex]);
    } else {
        if (newIndex === 'up') {
            this.insertBefore($(this.siblings()[this.index() - 1]));
        } else {
            this.insertAfter($(this.siblings()[this.index()]));
        }
    }
} 
```

包含上述示例后，此脚本可用于 jquery 对象，例如：

```
$(this).swap('up');
$(this).swap('down');
$(this).swap(1); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-19T04:58:10.193

在这里你可以将一个列表换成另一个

```
$.fn.equals = function(compareTo) {
  if (!compareTo || this.length != compareTo.length) {
    return false;
  }
  for (var i = 0; i < this.length; ++i) {
    if (this[i] !== compareTo[i]) {
      return false;
    }
  }
  return true;
};

function swap(a, b) {
  a = $(a); b = $(b);

  if (a.length !== b.length) throw "Each list must be of equal length.";

  a.each( function(i,e){ _swap(e,b[i]) } );

  function _swap(a, b) {
    a = $(a); b = $(b);
    if (a.equals(b)) {return;}
    if (a.next().equals(b)) {a.before(b); return;}
    if (b.next().equals(a)) {b.before(a); return;}
    var tmp = $('<span>').hide();
    a.before(tmp);
    b.before(a);
    tmp.replaceWith(b);
  }
}; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-26T10:44:45.763

[https://jsfiddle.net/2c7Ltopf/1/](https://jsfiddle.net/2c7Ltopf/1/)

```
var swapElements = function(siblings, subjectIndex, objectIndex) {
    // Get subject jQuery
    var subject = $(siblings.get(subjectIndex));
    // Get object element
    var object = $(siblings.get(objectIndex));
    // Insert subject after object
    subject.insertAfter($(siblings.get(objectIndex)));

    if(objectIndex!==subjectIndex+1)
        $(siblings.get(objectIndex)).insertBefore($(siblings.get(subjectIndex+1)));
}

$(function() {
    swapElements($('li'), 1, 4);
}); 
```

# perl - Perl 代码给出奇怪的错误

> ID：11877470
> 
> 赞同：-2
> 
> 时间：2012-08-09T05:52:26.313
> 
> 标签：perl

```
use Person;

print(" object creation ");
my $object = new Person( "Mohammad", "Saleem", 23234345);

print (" here after");
allthis();

sub allthis()
{
  print(  $object->getFirstName() );
}

if(1)
{ 
  print(" object creation ");
  my $object = new Person( "Mohammad", "Saleem", 23234345);
  allthis();

  sub allthis()
  {
    print($object->getFirstName());
  }
} 
```

人在这里定义：

```
package Person;

sub new
{
  my $class = shift;
  my $self = {
    _firstName => shift,
    _lastName  => shift,
    _ssn       => shift,
  };
  print "First Name is $self->{_firstName}\n";
  print "Last Name is $self->{_lastName}\n";                                                  
  print "SSN is $self->{_ssn}\n";
  bless $self, $class;
  return $self;
}

sub setFirstName {
  my ( $self, $firstName ) = @_;
  $self->{_firstName} = $firstName if defined($firstName);
  return $self->{_firstName};
}

sub getFirstName {
  my( $self ) = @_;
  return $self->{_firstName};
}
1; 
```

这将导致

> 错误：无法在 check2.pl 第 22 行对未定义值调用方法“getFirstName”。

两种情况下不会出现该错误：

1.  将变量声明为`our`.
    例子：`our object;`

2.  重命名函数名称之一：
    `allthis`到`allthis1`

任何人都可以解释原因吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T13:41:07.657

在 Perl 中，所有命名的子例程都是全局范围的。您不能在这样的两个不同范围中存在两个具有相同名称的子例程。因此，第二个定义`allthis()`覆盖了第一个。你永远不会使用第一`allthis()`个子。

此外，由于子例程可以访问定义它们的地方的词法变量，因此您的第一次调用`allthis()`尝试访问第二个`$object`；但是，这还没有定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:14:56.117

首先，`use strict`和`use warnings`。总是。每一次。

因为如果你有，你会收到一个警告，说你正在重新定义`main::allthis()`. 所以，不要那样做。

此代码应该可以满足您的需求：

```
use strict;
use warnings;
use Person;

print(" object creation ");
my $object = new Person( "Mohammad", "Saleem", 23234345);

sub allthis() #have to define after $object is created
{
print($object->getFirstName());
}

print (" here after");
allthis();

print(" object creation ");
$object = new Person( "Mohammad", "Saleem", 23234345);
allthis(); 
```

但是，我会考虑是否有必要将其`$object`用作全局变量（相对于`allthis()`，而是让您的子例程接受一个参数：

```
sub allthis
{
  my $object = shift;
  print $object->getFirstName();
} 
```

然后，您可以通过`allthis($object);`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:29:24.737

这里：

```
use strict;
use warnings;

use Person;

print(" object creation\n");
my $object = new Person( "Mohammad", "Saleem", 23234345 );

sub allthis() {
    print( $object->getFirstName() . "\n");
}

print(" here after\n");
allthis();

print(" object creation\n");

$object = new Person( "Mohammad", "Saleem", 23234345 );

allthis(); 
```

**输出：**

```
 object creation First Name is Mohammad
Last Name is Saleem
SSN is 23234345
 here afterMohammad
 object creation First Name is Mohammad
Last Name is Saleem
SSN is 23234345
Mohammad 
```

# mysql - 在mysql过程中遇到问题

> ID：11877472
> 
> 赞同：0
> 
> 时间：2012-08-09T05:52:42.817
> 
> 标签：mysql

下面是我用来创建 MySQL 过程的代码：

```
DELIMITER //
CREATE PROCEDURE GetAllComments()
  BEGIN
    SELECT * FROM comment;
  END //
DELIMITER ; 
```

此过程已正确执行，但当我尝试调用过程 ( `CALL GetAllComments()`) 时，它给了我以下错误：

```
Error - #1312 - PROCEDURE test.getAllComments can't return a result set in the given context 
```

可能是什么问题？

# google-chrome-extension - 如何保护 chrome 扩展

> ID：11877473
> 
> 赞同：9
> 
> 时间：2012-08-09T05:52:49.153
> 
> 标签：google-chrome-extension, source-code-protection

Chrome 扩展被打包到 zip 存档中。设置后，它安装在文件夹中，用户可以访问它。他也可以重写扩展，甚至克隆到新的扩展。

我如何保护扩展免受用户修改和克隆？我发现 dll 文件的可能性（可以编译） - 但它不是很好。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-09T06:46:13.913

如果您有一些专有代码（例如，您想要保持安全的特殊算法等）并且您的目标是 Chrome - 我建议您使用[Native Client](http://code.google.com/p/nativeclient)。Nacl 让您在浏览器中运行 C/C++ 代码。它非常强大，您可以确定有人很难进入您的二进制文件。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-09T11:08:24.863

前提似乎很简单。默认情况下，浏览器解释 HTML/Javascript，与页面一起运行的 chrome 扩展也是如此。

一种方法是混淆您的 javascript 代码，或依赖 NPAPI 编译二进制插件，或使用 NaCL

在 Chrome 禁止混淆扩展后，混淆代码可能不再是解决方案：[https ://stackoverflow.com/a/49509913](https://stackoverflow.com/a/49509913)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T05:56:09.717

目前，您无法向用户或竞争对手隐藏您的 Chrome 扩展程序源代码。

[Chrome网上商店 faq](https://developers.google.com/chrome/web-store/faq#faq-extensions-01)中有一条声明：

> 我可以在商店中出售扩展程序吗？还没有，但此功能即将推出。

您可以等待此功能或尝试以下替代方案：

*   混淆您的 Javascript 源代码：查看更多详细信息[如何混淆（保护）JavaScript？](https://stackoverflow.com/questions/194397/how-can-i-obfuscate-javascript)

*   将您的关键逻辑保存在远程服务器上，并从后台脚本进行 Ajax 调用以与服务器通信

如果清单中定义了跨域权限，则 Chrome 扩展程序不受“同源策略”的约束：

> 常规网页可以使用 XMLHttpRequest 对象从远程服务器发送和接收数据，但它们受到同源策略的限制。扩展并没有那么有限。扩展程序可以与其源之外的远程服务器通信，只要它首先请求跨域权限。

在清单中定义以下内容：

```
{
    "name": "your extension",
    ...
    "permissions": [
        "http://www.yourserver.com/"
    ],
    ...
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-10-30T11:18:40.257

我正在使用[Gulp 插件进行 JavaScript 混淆](http://extensiondev.com/javascript-obfuscation-with-gulp/)。它不会破坏扩展程序的代码。

# java - 完成 Xml 验证

> ID：11877474
> 
> 赞同：0
> 
> 时间：2012-08-09T05:53:03.470
> 
> 标签：java, xml

是否可以针对应该显示 xml 中存在的所有故障的 xsd 验证 xml？我正在使用java进行验证。但验证器显示第一次失败。我需要获取 xml 中的所有故障。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:01:27.147

您可以实现自己的[ErrorHandler](http://docs.oracle.com/javase/7/docs/api/index.html?org/xml/sax/ErrorHandler.html)来捕获所有异常。有关详细信息，请参阅本文：http: [//www.ibm.com/developerworks/xml/library/x-javaxmlvalidapi/index.html#N101B3](http://www.ibm.com/developerworks/xml/library/x-javaxmlvalidapi/index.html#N101B3)

# cakephp - 在 Cakephp 中获取最后一页的数字

> ID：11877480
> 
> 赞同：3
> 
> 时间：2012-08-09T05:53:37.150
> 
> 标签：cakephp, cakephp-2.0, cakephp-2.1

如何获得最后一个页码，而不是 $this->Paginator->last() 附带的链接，而是实际数字本身？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T05:56:38.177

[此链接](http://book.cakephp.org/2.0/en/core-libraries/helpers/paginator.html#creating-a-page-counter)将帮助您实现相同的目标。

```
<?php echo $this->Paginator->counter('{:pages}');
     //counter() method with all options
     //echo $this->Paginator->counter('Page {:page} of {:pages}, showing {:current} records out of {:count} total, starting on record {:start}, ending on {:end}');?> 
```

您可以在视图中调用 counter() 方法以获取最后一个页码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-03-05T08:01:40.430

另一种解决方案：

```
echo $this->Paginator->param('pageCount'); 
```

# asp.net-mvc - 如何在 web gridview 中设置动态列名

> ID：11877482
> 
> 赞同：0
> 
> 时间：2012-08-09T05:53:47.790
> 
> 标签：asp.net-mvc, razor

```
<div id="grid" class="ajaxGrid">
    @{
        var grid = new WebGrid(list, rowsPerPage: 8, canPage: true, canSort: true, ajaxUpdateContainerId: "grid");
    }

    @grid.GetHtml(
        tableStyle: "grid",
        headerStyle: "head",
        alternatingRowStyle: "alt",
        mode: WebGridPagerModes.All,
        numericLinksCount: 10,
        firstText: "First",
        previousText: "Prev",
        nextText: "Next",
        lastText: "Last",
        columns: grid.Columns(
        grid.Column((string)(@<text>@item.Value</text>),format: (item) => Html.ActionLink(((string)item.Text), "Search", "Home", new { id = item.Value }, new { @class = "clickable" }))))
</div> 
```

当我执行程序时，不显示 webgrid 视图。代码中的错误是什么？任何人都可以为我发布答案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T08:25:04.707

出色地

```
System.Web.Helpers.WebGrid.Column 
```

具有以下构造函数

```
Column(string, string, System.Func<dynamic,object>, string, bool) 
```

所以我看不出你的代码是如何工作的，我的意思是你向构造函数传递了错误的参数。

作为您分配的第一个参数

`(string)(@<text>@item.Value</text>)`

但它应该是字符串，所以不可能有 lambda 表达式。

这就是代码，对我有用

```
@grid.GetHtml(
        tableStyle: "grid",
        headerStyle: "head",
        alternatingRowStyle: "alt",
        mode: WebGridPagerModes.All,
        numericLinksCount: 10,
        firstText: "First",
        previousText: "Prev",
        nextText: "Next",
        lastText: "Last",
                columns: grid.Columns(grid.Column(header: "some column header", format: (item) => Html.ActionLink(((string)item.Text), "Index", "Home", new { id = item.Id }, new { @class = "clickable" })))) 
```

因此，只需确保以正确的方式使用 Column 构造函数。

关于主题[http://tinyurl.com/9n39mgv的好帖子](http://tinyurl.com/9n39mgv)

# java - 在 Java 中查找方法重载计数

> ID：11877492
> 
> 赞同：4
> 
> 时间：2012-08-09T05:55:24.250
> 
> 标签：java, overloading

在我目前正在进行的一些项目中，方法重载在许多类中被滥用：同名的方法被重载多次，只是参数存在或不存在的差异。我想改变这一点。

是否有任何现有的工具可以计算 Java 类中方法被重载的次数？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T05:58:03.183

使用反射来获取`List<Method>` [`getDeclaredMethods()`](http://docs.oracle.com/javase/1.6/docs/api/java/lang/Class.html#getDeclaredMethods%28%29)一个类并检查同名（[`getName()`](http://docs.oracle.com/javase/1.6/docs/api/java/lang/reflect/Method.html#getName%28%29)）不同的签名方法（[`getParameterTypes()`](http://docs.oracle.com/javase/1.6/docs/api/java/lang/reflect/Method.html#getParameterTypes%28%29)）

# django - Django 应该反向异常产生 404 还是 500？

> ID：11877500
> 
> 赞同：0
> 
> 时间：2012-08-09T05:56:09.980
> 
> 标签：django, http

我正在考虑是否要捕获所有 Django 反向异常并引发 404 而不是 500。

这个问题类似于： [Django reverse and url default instead of NoReverseMatch](https://stackoverflow.com/questions/8433424/django-reverse-and-url-default-instead-of-noreversematch)

例如，如果我有一个模仿 Django 的本机登录装饰器的身份验证应用程序。如果一个视图被修饰并且用户没有被认证，他们首先被重定向到登录页面。

我在装饰器中有一个 reverse('login') 调用。假设我决定将 urlsconf 中提供的 url 名称更改为“my_login”，但无意中忘记更新我的装饰器。

这应该是 404 还是 500 错误？我倾向于 500，因为没有合理的后备来处理异常。重定向是内部的，资源确实存在，我只是做了一些“错字”。

尝试/排除每个反向调用似乎都在朝着捕获 NameErrors 和 SyntaxErrors 迈进。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T06:00:04.277

404 用于未找到*客户端请求的资源时。*由于反转是*服务器*操作，因此 5XX 响应将是合适的。

# objective-c - iOS中的c结构实现

> ID：11877503
> 
> 赞同：0
> 
> 时间：2012-08-09T05:56:20.943
> 
> 标签：objective-c, ios

# SSharedAppState.h

```
#import <Foundation/Foundation.h>

enum {
    SharedCompletedStepNone    = 0,
    SharedCompletedStepOne     = 1 << 0,
    SharedCompletedStepTwo      = 2 << 1,
    SharedCompletedStepThree   = 3 << 2
};
typedef NSUInteger SharedCompletedSteps;

@interface SSharedAppState : NSObject
{
    struct {
        unsigned int sharedCompletedStepMask:3;
    } _appFlags;
}
@property (assign, nonatomic) SharedCompletedSteps sharedCompletedStep;

+(id)sharedInstance;
@end 
```

# SSharedAppState.m

```
#import "SSharedAppState.h"

#pragma mark - C functions

#pragma mark - Interface Extension

typedef struct _appFlags AppFlags;
@interface SSharedAppState ()

@property (unsafe_unretained, nonatomic) AppFlags *appFlags;
-(void *)newAppFlags;
@end

#pragma mark - Implementation

@implementation SSharedAppState
@synthesize appFlags;

#pragma mark - Iniitalizer

-(id)init
{
    self = [super init];
    if (self) {

//        appFlags = (AppFlags *)malloc(sizeof(_appFlags));
        appFlags = (AppFlags *)newAppFlags();
        appFlags->sharedCompletedStepMask = 0;
        appFlags.sharedCompletedStepMask = 0;
    }
    return self;
}

+(SSharedAppState *)sharedInstance
{
    static dispatch_once_t onceToken;
    static id sharedInstance;
    dispatch_once(&onceToken, ^{
        sharedInstance = [[self alloc] init];
    });
    return sharedInstance;
}

#pragma makr - Struct _appFlags

-(void *)newAppFlags
{
    AppFlags *instance = (AppFlags *)malloc(sizeof(_appFlags));
    return instance;
}

@end 
```

## 问题

1.  `appFlags = (AppFlags *)newAppFlags();`

给出函数 newAppFlags 的隐式声明在 C99 中无效

1.  appFlags->sharedCompletedStepMask = 0; appFlags.sharedCompletedStepMask = 0;

'struct _appFlags' 类型的不完整定义成员引用类型'AppFlags *'（又名'struct _appFlags *'）是一个指针；也许你打算使用'->'？

给出以下警告和错误。这是我第一次在这里发布问题，所以请对 html 或编辑提出建议。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:14:19.187

当你这样写

```
struct {
    unsigned int sharedCompletedStepMask:3;
} _appFlags; 
```

您正在声明一个未命名结构的变量 _appFlags。

你可能是说

```
struct _appFlags {
    unsigned int sharedCompletedStepMask:3;
}; 
```

或者你可以写

```
typedef struct _appFlags {
    unsigned int sharedCompletedStepMask:3;
} AppFlags; 
```

# delphi - VirtualStringTree 对齐的文本和网格线

> ID：11877505
> 
> 赞同：2
> 
> 时间：2012-08-09T05:56:22.110
> 
> 标签：delphi, delphi-7, vcl, virtualtreeview, tvirtualstringtree

我有一个带有 X 标头和 x 根的 virtualstringtree（启用了网格线）。我想将子项（至少 1 个）添加到只有 1 个文本位于中间并通过所有标题（独立）的根。因此，无论我是否调整标题等的大小，文本始终与 VirtualStringTree 的实际客户端大小对齐。

这可能吗？如果是这样，怎么做？

![在此处输入图像描述](../Images/036352cb7fd959870c1381aa1b206c6d.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T12:33:53.020

这听起来像单元格合并。这在[此处](https://stackoverflow.com/questions/1516082/delphi-virtualtreeview-onafteritempaint-issue-when-scrolling)进行了讨论，例如，解决方案包含`toAutoSpanColumns`在`TreeOptions.AutoOptions`.

如果您想要居中对齐的文本，请`OnDrawText`相应地覆盖。就像是：

```
procedure TForm1.VirtualStringTree1DrawText(Sender: TBaseVirtualTree;
  TargetCanvas: TCanvas; Node: PVirtualNode; Column: TColumnIndex;
  const Text: WideString; const CellRect: TRect; var DefaultDraw: Boolean);
var
  r: TRect;
begin
  r := CellRect;
  Windows.DrawTextW(TargetCanvas.Handle, PWideChar(Text), Length(Text), r, DT_CENTER or DT_VCENTER);
  DefaultDraw := False;
end; 
```

# batch-file - 登录 Cygwin 并在 windows 中使用 bat 文件执行命令

> ID：11877507
> 
> 赞同：3
> 
> 时间：2012-08-09T05:56:26.113
> 
> 标签：batch-file, makefile, cygwin

我使用的是 windows XP 操作系统，并且 cygwin 安装在我的 C 盘中。

我需要直接登录到 cygwin 到我的目录路径，该路径包含一个 makefile 和一个在同一目录中名为 build.sh 的 bash 脚本。所以我修改了原始的 cygwin.bat 文件并添加了如下所示的行。

```
@echo off

C:
chdir C:\cygwin\bin

bash --login "/cygdrive/E/scheme_31july/build/build.sh" 
```

当我双击这个 bat 文件时，我可以看到我的脚本正在执行，但不是在 cygwin shell 上，而是在 windows cmd shell 上，因此我收到“make”命令的错误，例如“No rule to make target”，因为 make 与 cygwin 捆绑在一起。

当我使用默认的 cygwin.bat 文件显式登录到 cygwin 并通过在 cygwin shell 中给出以下命令来执行我的脚本时，脚本执行时不会出错。

基本上我想写一个 bat 文件，这样我就可以将它保存在我的 PC 中的任何位置，而不是手动打开 cygwin 提示符并键入如下命令：

```
$ cd /cygdrive/E/scheme_31july/build/
$ sh build.sh 
```

它应该自动发生。我坐可以这样做。

问候， 哈什特

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T15:33:14.203

`No rule to make target`听起来更像是在错误的目录中执行 make 。`make`本身似乎可用并按预期运行。

尝试这个：

```
bash --login -c "cd /cygdrive/E/scheme_31july/build/ && sh build.sh" 
```

这应该会启动一个`--login`会话（它应该让您可以访问您在 cygwin 提示环境中期望的所有设置和工具），然后执行给定的 shell 命令，即您要求的 cd 和 sh。您还可以将这两行写入单独的脚本文件，并将其名称传递给 bash 而不是`build.sh`.

您也可以尝试`cd`进入文件`C:\scheme_31july\build`，`bat`然后`bash`从那里执行。不确定是否`bash`会在进入登录会话时尝试更改路径。`--login`对于这种方法和上述方法，您可以尝试在没有 的情况下是否可以正常工作。

```
@echo off
C:
cd C:\scheme_31july\build
C:\cygwin\bin\bash.exe ./build.sh 
```

我不确定您是否希望会话在此之后变为交互式。在上述情况下，bash 将在脚本完成后终止，甚至可能关闭窗口。您可能必须添加一个`read`into`build.sh`以避免这种情况。如果你想`bash`在执行某些命令后变成交互式，可以尝试使用`--rcfile`bash 的选项执行某些命令，然后变成交互式。

# php - 如何检查是否使用 PHP 激活了 mod_security（没有 curl）

> ID：11877514
> 
> 赞同：3
> 
> 时间：2012-08-09T05:57:27.960
> 
> 标签：php, mod-security

有没有办法知道 mod_security 是否在使用 PHP 的 apache 服务器上被激活？（没有卷曲）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:14:02.673

您可以尝试的一件事是使用 apache_get_modules 来发现 Apache 当前启用的模块。当然，这种方法只适用于 Apache 服务器，不适用于其他流行的 HTTP 服务器。

```
var_dump (in_array ('mod_security', apache_get_modules ())); 
```

# c++ - 进行安装与就地链接

> ID：11877518
> 
> 赞同：3
> 
> 时间：2012-08-09T05:57:49.567
> 
> 标签：c++, linux, makefile, cmake, build-system

当以拓扑排序的顺序构建多重依赖 C++ CMake 项目（在 Linux 中）时，我们有两种可能性：

遍历每个项目，然后...

1.  ...在某些前缀中“进行安装”。在项目中构建库时，链接到**已安装的库**。

2.  ...通过“make”构建它，不要安装。在项目中构建库时，链接到**已构建的库就地**。

这些选择的优点/缺点是什么？由自制脚本执行的构建，它解决依赖关系，以正确的顺序构建等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:06:18.423

当然，你可以两者都做。但是“安装”的想法是将库、头文件、文档等放置在一个定义明确的目录中，这不依赖于源代码树的布局。

单独的源代码，通常只对那个包的程序员感兴趣，编译的程序库等，这对用户和其他包的程序员很感兴趣。

想象一下，您必须更改一个子包的目录结构。如果不安装，您将不得不调整所有其他 man 脚本。

所以：

**解决方案 1 的优点（== 解决方案 2 的缺点）**

*   整个包的可维护性更好
*   “预期”的方式

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:26:16.903

`make`并且`make install`预计会执行两个概念上不同的事情。他们没有更好或更坏。`make`我将通过使用（来自“Unix 编程艺术”）描述通常的程序安装顺序来解释：

*   **make (all)** - 您的*所有*产品都应该使您的项目的每个可执行文件。通常*all*产生式没有明确的规则；相反，它指的是您项目的所有顶级目标（并且，并非偶然地，记录了这些目标是什么）。按照惯例，这应该是您的 makefile 中的第一个产品，因此它将是当开发人员键入不带参数的 make 时执行的产品。

*   **make test** - 运行程序的自动化测试套件，通常由一组单元测试组成，以在开发过程中发现回归、错误或其他与预期行为的偏差。软件的最终用户也可以使用“测试”产品来确保他们的安装正常运行。

*   **make install** - 在系统目录中安装项目的可执行文件和文档，以便普通用户可以访问它们（这通常需要 root 权限）。初始化或更新可执行文件运行所需的任何数据库或库。

这个答案归功于 Eric Steven Raymond

# php - 在 PHP 中使用 Onclick 函数加入 2 个表

> ID：11877519
> 
> 赞同：0
> 
> 时间：2012-08-09T05:57:53.937
> 
> 标签：php, javascript, drop-down-menu, onclick, jointable

我有一个 2 下拉列表，其中包含 Postgres 数据库的表名。现在我有用户选择后的 JOIN 表。在这里，我为下拉列表实现了一个代码。

**测试.php**

```
$resultLevel = pg_query($conn, "SELECT f_table_name FROM geometry_columns"); 
if (!$resultLevel) {
echo "An error occured.\n";
exit;
}
echo "LEVEL: \t";
echo "<select name='cat'><option value=''>Select one</option>";
while($noticia = pg_fetch_array($resultLevel)) {
echo  "<option value='$noticia[f_table_name]'>$noticia[f_table_name]</option>";
}
echo "</select>\n";
$resultParameter = pg_query($conn, "SELECT table_name FROM information_schema.columns WHERE column_name != 'the_geom' AND column_name= 'districtcode'");
if (!$resultParameter) {
echo "An error occured.\n";
exit;
}
echo "\n PARAMETER:";                               
echo "<select name='subcat'><option value=''>Select one</option>";
while($noticia1 = pg_fetch_array($resultParameter)) {
echo  "<option value='$noticia1[table_name]'>$noticia1[table_name]</option>";
}
echo "</select>";` 
```

现在我有来自级别的 JOIN 表和来自参数的表。下拉列表中的表格是

```
级别：（下拉列表 1）

区：
distco(pkey)、区、shp_area、shp_length、popln。

塔卢克：
talukco(pkey),taluk, distco, 区, shp_area, shp_length, popln。

全科医生：
gpco(pkey),gp,talukco,taluk, distco, 区, shp_area, shp_length, popln。

参数：（下拉列表2）

学校：
id(pkey),gpco,gp,talukco,taluk, distco, 区, govt_school, pvt_school。

识字：
id(pkey),gpco,gp,talukco,taluk, distco, 区, m_lit, f_lit。

医院：
id(pkey),gpco,gp,talukco,taluk, distco, 区, govt_hosp, pvt_hosp
```

如何在运行时加入上述表格，我必须以表格形式显示它。我没有得到如何实时对 onclick 函数进行 JOIN 查询。任何人都可以帮助形成这一点。提前致谢。 ![在此处输入图像描述](../Images/b165cddcbeb50598c07978d3f9db764b.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T07:57:26.623

尝试这样的事情：

```
<?php
//NB added form tag here
echo "<form>";
echo "LEVEL: \t";
//NB added js onchange 
echo "<select name='cat' onchange="javascript: this.form.submit()"><option value=''>Select one</option>"; ///NB asd
while($noticia = pg_fetch_array($resultLevel)) {
echo  "<option value='$noticia[f_table_name]'>$noticia[f_table_name]</option>";
}
..................
//NB modified query here
$resultParameter = pg_query($conn, "SELECT table_name FROM information_schema.columns WHERE column_name != 'the_geom' AND column_name= ".$_POST['cat']); 
```

# javascript - 访问 WebSQL 函数中的变量

> ID：11877520
> 
> 赞同：0
> 
> 时间：2012-08-09T05:58:01.940
> 
> 标签：javascript, web-sql

我正在使用以下代码

```
var Year12=new Array();

GetYear(function(Year12) 
{
alert(Year12);
});

   function GetYear(callback) 
     {

       var selectAllStatement = "SELECT DISTINCT year FROM mytable";
       var db = openDatabase("Postit", "1.0", "Notebook", 200000);
       var dataset;
       alert("1");
       db.transaction(function(tx) {
       alert("2");

           tx.executeSql(selectAllStatement, [], function(tx, result) 
           {
           alert("3");
          dataset = result.rows;

          for (var i = 0, item = null; i < dataset.length; i++)
           {

                 item = dataset.item(i);
                 Year12[i]=item['year'];

           }
          callback(Year12);
       });
     });
    } 
```

这里 tx.executeSql 语句没有被执行意味着警报 3 没有显示。有什么办法可以做到这一点

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:20:50.093

`db.transaction`和`tx.executeSql`调用是异步的，因此是回调函数。这意味着它将在回调填充您的数组*之前*`GetYear`完成执行并返回。*`tx.executeSql``Year12`*

 *一旦有了异步行为和回调，唯一明智的解决方案当然是更多的回调。你需要一个更像这样的结构：

```
function GetYear(callback) {
    //...
    db.transaction(function(tx) {
        //...
        tx.executeSql(selectuniqueyearStatement, [], function(tx, result) {
            var Year12 = [ ];
            //... populate the locale Year12 using result.rows
            callback(Year12);
        });
    });
} 
```

然后像这样使用它：

```
GetYear(function(year12) {
    // Do whatever you need to do with the year12 array...
}); 
```

与用于 AJAX 调用的代码结构和策略基本相同。*

# flash - 我可以将 selenium IDE 用于 flash 按钮吗？

> ID：11877524
> 
> 赞同：0
> 
> 时间：2012-08-09T05:58:14.233
> 
> 标签：flash, selenium

嗨，我是 Selenium IDE 的新手。现在我正在用 selenium IDE 测试一个站点，我的 flash 页面有问题，当我测试 flash 页面时 selenium 没有记录任何内容，我阅读了很多教程，他们说 selenium IDE 不记录 flash 页面，任何方法都可以我用于获取 flash 按钮 id(submit_btn)？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:48:18.953

我想，我可以使用 Selenium RC 来测试 flash 页面，我找到了使用 Selenium RC 测试 flash 页面的[abode 教程](http://www.adobe.com/devnet/flash/articles/flash_selenium.html)，而且[Flash-Selenium](http://code.google.com/p/flash-selenium/)也是有用的工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-08T19:50:37.150

我发现[Selenium Chrome WebDriver](https://code.google.com/p/selenium/wiki/ChromeDriver)能够与 Flash 播放器交互。

# javascript - 如果新值与旧值相同，如何在 HTMLSelectElement 上触发更改事件？

> ID：11877527
> 
> 赞同：61
> 
> 时间：2012-08-09T05:58:31.187
> 
> 标签：javascript, dom-events, html-select, onchange

我有以下标记：

```
<select onchange="jsFunction()">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select> 
```

当用户拉下组合框并选择先前选择的相同选项（或根本不更改选择）时，JavaScript 不会将其视为`onchange`事件。所以，`jsFunction()`没有调用。`jsFunction()`但即使在这种情况下，我也想要被调用。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-08-09T06:04:09.443

我会这样做：

```
<select onchange="jsFunction()">
  <option value="" disabled selected style="display:none;">Label</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
</select> 
```

如果您愿意，您可以使用与第一个选项相同的标签，在本例中为 1。更好的是：在其中为框中的选项放置一个标签。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2012-08-09T06:36:56.883

你必须添加空选项来解决它，

我也可以给你一个更多的解决方案，但这取决于你是否适合你，因为用户在选择 jsFunction 以外的其他选项后选择默认选项将被调用两次。

```
<select onChange="jsFunction()" id="selectOpt">
    <option value="1" onclick="jsFunction()">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select>

function jsFunction(){
  var myselect = document.getElementById("selectOpt");
  alert(myselect.options[myselect.selectedIndex].value);
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-03-30T04:54:31.053

只需将`selectIndex`关联`<select>`标签的 设置`-1`为处理事件的最后一步。

```
mySelect = document.getElementById("idlist");
mySelect.selectedIndex = -1; 
```

它每次都有效，删除突出显示并允许您再次选择相同（或不同）的元素。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-09T06:03:01.610

试试这个。只需添加一个空选项。这将解决您的问题。

```
<select onchange="jsFunction()">
    <option></option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select>​ 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-08-28T06:10:04.390

对每个选项元素使用“onmouseup”属性。它很冗长，但应该可以。另外，根据你的函数实际在做什么，你可以安排一些不同的事情，假设这个数字在处理程序中很重要：

```
<select>
<option onmouseup="handler()" value="1">1</option>  //get selected element in handler
<option onmouseup="handler(2)" value="2">2</option>  //explicitly send the value as argument
<option onmouseup="handler(this.value)" value="3">3</option> //same as above, but using the element's value property and allowing for dynamic option value. you could also send "this.innerHTML" or "this.textContent" to the handler, making option value unnecessary
</select> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-03-04T07:52:55.843

JavaScript 代码：

*   在 mousedown 事件上：将 selectedIndex 属性值设置为 -1
*   更改事件：处理事件

唯一的缺点是当用户点击下拉列表时，当前选中的项并没有出现选中

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-04-23T21:42:13.870

对于这个问题，我终于放了一个新`<i>`标签来代替刷新选择。如果选择的选项与已选择的选项相同，请不要尝试触发事件。

[![在此处输入图像描述](../Images/11519d7ace9177d7299503803014724e.png)](https://i.stack.imgur.com/sblIx.png)

如果用户单击“刷新”按钮，我会触发我的选择的 onchange 事件：

```
const refreshEquipeEl = document.getElementById("refreshEquipe1");

function onClickRefreshEquipe(event){
    let event2 = new Event('change');
    equipesSelectEl.dispatchEvent(event2);
}
refreshEquipeEl.onclick = onClickRefreshEquipe; 
```

这样，我不需要尝试在我的选择中选择相同的选项。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-09T06:09:01.763

它没有被触发，因为值没有“改变”。这是相同的值。不幸的是，您无法使用该`change`事件实现所需的行为。

`blur`当用户离开选择框时，您可以处理该事件并执行您需要的任何处理。这样，即使用户选择了相同的值，您也可以运行所需的代码。

# asp.net - ASP.NET 中的 SqlServer 超时

> ID：11877532
> 
> 赞同：1
> 
> 时间：2012-08-09T05:59:10.177
> 
> 标签：asp.net, sql-server, timeout

我有一个在 SqlServer 环境中需要 20 秒的 SP，但有时在我的 ASP.NET 页面中，当我运行 SP 时，我得到 SqlServer 超时说明。我将 CommandTimeout 和 ConnectionTimeout 设置为 60，但仍然出现异常。我很乐意帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:02:40.963

其他一些操作可能会锁定表。将超时设置为更高的值并检查。

在为任何锁定运行 proc 执行`sp_lock`和系统过程时`sp_who2`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T07:14:52.923

你可以试试

```
 cmd.CommandTimeout = 0; 
```

如果您正在执行一个需要很长时间的查询。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T07:56:03.087

1）尝试过类似的东西？

```
SqlCommand cmd = new SqlCommand("MyReport", conn);
    cmd.CommandType = CommandType.StoredProcedure;
    cmd.CommandTimeout = 3660; //// or set it zero (0) 
```

2）这？？？

3) 假设您的数据库服务器和执行点不同，您的 Internet/Intranet 连接是否正常？
4）检查vpn连接（如果使用）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-31T10:40:08.010

从 SSMS 执行查询并保存执行计划。然后运行应用程序并让 SQL Profiler 捕获跟踪，然后保存来自 profiler 的执行计划，如此[链接](https://stackoverflow.com/questions/7359702/how-do-i-obtain-a-query-execution-plan)中所述。

比较两个执行计划，找出执行的实际差异。

检查[参数嗅探](https://www.mssqltips.com/sqlservertip/3257/different-approaches-to-correct-sql-server-parameter-sniffing/)。如果您仍然有问题，请确保更新数据库统计信息，有时这可能是删除并创建过程后的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-02-17T18:46:49.083

我认为问题在于**将参​​数**从您的应用程序发送**到存储过程**。再试一次，但这次使用**SQL Server Profiler**来跟踪您的查询执行。您可以在 SQL Server Profiler 中使用**TextData 列值**并再次运行实际执行的查询以找出真正的问题。

# java - 如何在 Ubuntu 上安装 Eclipse 和 Java SDK？

> ID：11877538
> 
> 赞同：4
> 
> 时间：2012-08-09T05:59:38.627
> 
> 标签：java, eclipse, ubuntu, lwjgl

我刚刚下载了 Ubuntu。它的运行速度比我的 Windows XP 快得多。但是，我不知道如何设置[Eclipse v4.2](https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases) (Juno) 或 Java SDK。我目前正在开发轻量级 Java 游戏库，因此我可能也需要一些帮助。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-09T06:03:13.007

在您的终端中执行此操作：

```
sudo apt-get install eclipse
sudo apt-get install openjdk-6-jdk openjdk-6-source openjdk-6-demo openjdk-6-doc openjdk-6-jre-headless openjdk-6-jre-lib 
```

第一个安装 Eclipse（您将被要求输入密码），第二个安装您可能需要的所有 Java 东西！

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-08-23T11:39:22.737

不要从 Linux 存储库安装 Eclipse。这些存储库可能与 Eclipse 发布的最新版本不是最新的。更好的方法是按照[Ask Ubuntu 的这个答案](https://askubuntu.com/questions/337281/installing-eclipse-kepler)中的说明进行操作。对于 Java 编程，请确保您已安装 JDK 和 JRE

```
apt-get install openjdk-7-jdk openjdk-7-jre 
```

您可以从 Eclipse 网站下载任何最适合您的 Eclipse Java IDE 版本（[指向 Eclipse v4.4 (Luna) 版本的链接](https://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/lunar)）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-05T13:46:19.007

您可能需要考虑安装 Sun Java 6 以满足您的 Java 编程需求；如果我错了，请纠正我，但我觉得 OpenJDK 可能仍然缺乏某些库和兼容性。

如果您想在您的机器上安装 Java 6，您可以按照以下指南进行操作：[https ://codingforme.wordpress.com/2012/05/14/installing-oracle-java-jdk-6-or- 7-on-ubuntu-12-04/](https://codingforme.wordpress.com/2012/05/14/installing-oracle-java-jdk-6-or-7-on-ubuntu-12-04/)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-01-28T17:36:55.870

**在 Ubuntu 上安装 Java：**

1.  sudo add-apt-repository ppa:webupd8team/java
2.  sudo apt-get 更新
3.  sudo apt-get install oracle-java8-installer

**在 Ubuntu 上安装 Eclipse IDE：**

由于它需要详细的步骤列表，我建议您访问博客文章在 Linux Ubuntu 中*[安装 Eclipse IDE Mars，](http://www.codingalpha.com/install-eclipse-ide-mars-in-linux-ubuntu/)*以查看在 Linux Ubuntu 上安装 Eclipse 的步骤。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-09T06:10:20.443

您并没有真正安装 Eclipse - 您只需下载文件夹并运行程序 - 就像在 Windows 中一样。只需确保下载 Linux 版本即可。

要安装 JDK，请键入：

```
sudo apt-get install openjdk-6-jdk 
```

在安装开始之前，系统会要求您输入密码。您也可以通过软件管理器安装 JDK。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-10-22T09:30:34.820

只需删除所有 Eclipse 包键入：

```
sudo apt-get autoremove eclipse 
```

并`tab`找到所有已安装的 Eclipse 包。

对 Java 做同样的事情。

我刚刚使用命令重新安装了 Eclipse

```
sudo apt-get install eclipse 
```

其中还包含 Java。

# android - 限制editText接受字母（在java中）？

> ID：11877540
> 
> 赞同：1
> 
> 时间：2012-08-09T05:59:48.640
> 
> 标签：android, android-edittext

我在 Java 中定义了一个 EditView 并将其设置为接受数字。然后它只接受数字，但我需要浮点值，所以将其更改为以下代码：

```
final EditText eQuantity = new EditText(getActivity());
                eQuantity.setHint("Enter Quantity here");
                eQuantity.setInputType(InputType.TYPE_NUMBER_FLAG_DECIMAL); 
```

但现在它也接受字母和浮点值。我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:03:36.217

尝试：

```
eQuantity.setInputType(InputType.TYPE_CLASS_NUMBER | 
                InputType.TYPE_NUMBER_FLAG_DECIMAL | 
                InputType.TYPE_NUMBER_FLAG_SIGNED); 
```

# android - Sherlock Actionbar 定制设计

> ID：11877544
> 
> 赞同：0
> 
> 时间：2012-08-09T06:00:11.807
> 
> 标签：android, android-actionbar, actionbarsherlock, styling

如果有人能帮我找出一些关于自定义 sherlock 操作栏的细节，我将非常感激。

更具体地说：我需要一个带有四个按钮的操作栏。栏两侧的两个小按钮（左侧和右侧的第二个），栏中间的一个“配对”单选按钮。当我说“配对”时，我的意思是在 iOS 中，当有两个按钮彼此靠近时，当我按下一个时 - 第二个未按下，反之亦然。总而言之，它应该看起来像这样。

![理论动作条夏洛克](../Images/2e34677cfa8449222dcd704c16dd58eb.png)

是否有可能做到这一点，或者我应该忘记使用美妙的夏洛克生物？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T06:16:21.503

我个人会放弃使用 ActionBarSherlock 的想法，而是使用您自己的布局资源来实现它。

作为 ActionBarSherlock 的用户，我可以说它是一个很棒的库，因为它本质上允许您在所有设备上使用 ActionBar API，包括 pre-Honeycomb，这意味着您不必编写单独的 UI 来适应 pre-Honeycomb 设备。但是ActionBarSherlock 的重点在于它只是提供了与原生ActionBar 等效的API。问题在于，ActionBar 限制了您可以创造性地使用它做什么，因为它旨在提供特定的功能和控件，这些功能和控件符合 Google 希望您实现 UI 的方式。简而言之，您可以指定自定义布局`View`出现在栏内的某处。您还可以控制哪些菜单项显示为放置在栏右侧的操作项（但最终仍取决于系统，基于屏幕空间，如果此类项目在栏上可见）。该栏还允许您实现一些非常特殊的功能（Action Views、Action Providers 等）

但是，如果您希望创建一个非常自定义的布局，就像您所描绘的那样，*并且*您不需要 ActionBar（或 ActionBarSherlock）提供的特殊功能，那么您最好从头开始做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T08:18:34.310

是的，您可以像上面显示的那样制作您的 Sherlock ActionBar。您必须为您的 SherLock ActionBAr 设置自定义视图。只需几行代码

```
 getSupportActionBar()
            .setDisplayShowCustomEnabled(true);
   getSupportActionBar().setCustomView(
            R.layout.your_custom_layout); 
```

你的自定义布局应该是这样的RelativeLayout

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="72dp" >

    <ImageButton
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:src="@drawable/icon" />

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true" >

        <ImageButton
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:src="@drawable/icon" />

        <ImageButton
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:layout_alignParentRight="true"
            android:src="@drawable/icon" />
    </LinearLayout>
    <ImageButton
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:src="@drawable/icon" />
</RelativeLayout> 
```

# javascript - 这个 JavaScript 闭包函数如何重用没有全局变量的对象？

> ID：11877547
> 
> 赞同：12
> 
> 时间：2012-08-09T06:00:33.840
> 
> 标签：javascript, closures

我决定在尝试理解**Javascript**并再次阅读[Javascript: The Good Parts](https://rads.stackoverflow.com/amzn/click/com/B0026OR2ZY)方面向前迈出一步。这是第一个疑问：

假设我想避免使用全局变量，因为它们是邪恶的，所以我有以下内容：

```
var digit_name = function(n) {
 var names = ['zero','one','two','three'];
 return names[n];
} 
```

D.Crockford 声称这很**慢**，因为每次调用该函数时，`names`都会完成一个新的实例化。因此，然后他通过执行以下操作转移到**闭包**解决方案：

```
var digit_name = function () {
  var names = ['zero', 'one', 'two', 'three'];
  return function (n) {
    return names[n];
  }
}(); 
```

这使得`names`变量存储在内存中，因此每次调用时它都不会被实例化`digit_name`。

我想知道为什么？当我们打电话时`digit_name`，为什么第一行被“忽略”？我错过了什么？这里到底发生了什么？

我不仅在书中，而且在这个[视频](http://www.youtube.com/watch?v=hQVTIJBZook&feature=related)（第 26 分钟）中建立了这个例子

（如果有人认为更好的标题，请酌情提出......）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-09T06:06:37.823

我确定您的意思是让您的第二个示例函数成为立即执行（即自调用）函数，如下所示：

```
var digit_name = (function () {
  var names = ['zero', 'one', 'two', 'three'];
  return function (n) {
    return names[n];
  }
})(); 
```

区别涉及带有闭包的范围链。JavaScript 中的函数具有范围，因为它们将在父函数中查找未在函数本身中声明的变量。

当您在 JavaScript 中的函数内部声明一个函数时，就会创建一个闭包。闭包描述了一个范围级别。

在第二个示例中，`digit_name`设置为等于自调用函数。该自调用函数声明`names`数组并返回一个匿名函数。

`digit_name`因此变成：

```
function (n) {
  //'names' is available inside this function because 'names' is 
  //declared outside of this function, one level up the scope chain
  return names[n];
} 
```

从您的原始示例中，您可以看到它`names`是从返回的匿名函数（现在是`digit_name`）在作用域链的上一级声明的。当该匿名函数需要`names`时，它会沿着作用域链向上移动，直到找到声明的变量——在这种情况下，`names`它位于作用域链的上一层。

**关于效率：**

第二个例子效率更高，因为`names`只声明一次——当自调用函数触发时（即 var digit_name = (function() { ... })(); ）。当`digit_names`被调用时，它会查找作用域链，直到找到`names`.

在您的第一个示例中，`names`每次`digit_names`都调用 get 声明，因此效率较低。

**图形示例：**

您从 Douglas Crockford 提供的示例是一个非常困难的示例，在学习闭包和作用域链如何工作时开始学习 - 大量内容打包到少量代码中。我建议看一下闭包的视觉解释，比如这个：[http ://www.bennadel.com/blog/1482-A-Graphical-Explanation-Of-Javascript-Closures-In-A-jQuery-上下文.htm](http://www.bennadel.com/blog/1482-A-Graphical-Explanation-Of-Javascript-Closures-In-A-jQuery-Context.htm)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-09T06:33:29.950

这不是一个答案，而是一个澄清，以防给定的示例仍然令人困惑。

首先，让我们澄清一下。`digit_name`不是您在代码中看到的第一个函数。该函数只是为了返回另一个函数而创建的（是的，您可以像返回数字或字符串或对象一样返回函数，实际上函数是对象）：

```
var digit_name = (
    function () { // <------------------- digit name is not this function

        var names = ['zero', 'one', 'two', 'three'];

        return function (n) { // <------- digit name is really this function
            return names[n];
        }
    }
)(); 
```

为了简化示例并说明闭包**的**概念，而不是将其与自调用函数（您可能还不熟悉）之类的东西混为一谈，您可以像这样重新编写代码：

```
function digit_name_maker () {
    var names = ['zero', 'one', 'two', 'three'];

    return function (n) {
        return names[n];
    }
}

var digit_name = digit_name_maker(); // digit_name is now a function 
```

您应该注意的是，即使在函数`names`中定义了数组，`digit_name_maker`它仍然在`digit_name`函数中可用。基本上这两个函数共享这个数组。这基本上就是闭包的含义：函数之间共享的变量。我喜欢将其视为一种*私有*全局变量——感觉就像全局变量，因为所有函数都可以共享访问它，但闭包之外的代码看不到它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:17:24.480

简而言之，第一个代码的问题在于*它在每次调用时创建一个数组*并从中返回一个值。这是一个开销，因为您*每次调用*时都在创建一个数组。

在第二个代码中，它创建了一个闭包，它只声明*一个数组*并返回一个从该数组返回值的函数。基本上，`digit_name`现在携带它自己的数组，而不是每次调用都进行一次。您的函数从闭包*的现有数组中获取。*

* * *

另一方面，如果使用不当，闭包会消耗内存。闭包通常用于保护内部代码免受外部范围的影响，并且通常在外部访问受限的情况下实现。

对象不会被 GC 销毁，除非对它们的所有引用都“无效”。在闭包的情况下，如果你不能进入它们来杀死那些内部引用，那么对象将不会被 GC 销毁并且永远会吃掉内存。

# shell - zsh 没有重新计算我的 shell 提示符

> ID：11877551
> 
> 赞同：17
> 
> 时间：2012-08-09T06:01:09.253
> 
> 标签：shell, command-prompt, zsh

这可能有点边缘，但我最近搬到了 zsh 并且在自定义我的 shell 提示时遇到了问题。

我的 .zshrc 的一部分如下所示：

```
# keeping this simple right now by just printing the date, but imagine this function would look for something specific when moving to a new directory each time
function parse_special {
    print $(date)
}

autoload -U colors && colors
PS1="%{$fg[green]%}%n@%m %{$fg[blue]%}%c %{$fg[yellow]%}%{$(parse_special)%} %{$reset_color%}%# " 
```

当我启动终端时，一切看起来都很好；我的提示是我所期望的：

```
me@someHost ~ Wed Aug 8 22:56:22 PDT 2012 % 
```

但是当我 cd 到另一个目录时，似乎没有再次调用我的 parse_special 函数来重新计算我的自定义提示（注意日期没有改变）：

```
me@someHost ~ Wed Aug 8 22:56:22 PDT 2012 % cd .ssh 
me@someHost .ssh Wed Aug 8 22:56:22 PDT 2012 % cd ../workspace 
me@someHost workspace Wed Aug 8 22:56:22 PDT 2012 % 
```

有什么方法可以告诉 zsh 在每次要显示提示时重新计算提示？

非常感谢您的任何建议。

* * *

回复 cjhveal

似乎 PS1 不喜欢由单引号值设置。我尝试了以下方法：

```
local tp1="%{$fg[green]%}%n@%m%{$reset_color%}"
PS1="${tp1}"
print "PS1 set by tp1: ${PS1}"
local tp2='%{$fg[green]%}%n@%m%{$reset_color%}'
PS1="${tp2}"
print "PS1 set by tp2: ${PS1}" 
```

并得到了这个输出

```
#inner stuff was green
PS1 set by tp1: %{%}%n@%m%{%}
#everything was uncolored
PS1 set by tp2: %{$fg[green]%}%n@%m%{$reset_color%} 
```

* * *

根据 cjhveal 的建议，我还应该补充一下，这是我真正尝试过的。再一次，单引号似乎把事情搞砸了

```
function parse_special {    
    print $(date)
}

autoload -U colors && colors
local prompt_user='%{$fg[green]%}%n@%m%{$reset_color%}'
local prompt_root='%{$fg[red]%}%n@%m%{$reset_color%}'
local prompt_dir='%{$fg[blue]%}%c%{$reset_color%}'
local prompt_special='%{$fg[yellow]%}%{$(parse_special)%}%{$reset_color%}'
PS1="${prompt_user} ${prompt_dir}${prompt_special}%# " 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-09T06:28:53.897

我在自定义提示时遇到了同样的问题`zsh`。

我相信发生这种情况是因为 shell 在提示符初始化时将值插入字符串一次。随后的重新加载在您的提示中具有常量字符串，而不是子外壳插值。

相反，将任何涉及子shell 的行放入用单引号定义的变量中。然后插入该变量。

```
autoload -U colors && colors

local parse_special='%{$fg[yellow]%}$(date)%{$reset_color%}'

PS1="%{$fg[green]%}%n@%m %{$fg[blue]%}%c ${parse_special} %# " 
```

更新：从 ZyX 的答案中添加此内容以为此提供完整的解决方案。您还需要添加以下内容：

```
setopt promptsubst 
```

事实上，我建议将提示的每一部分提取到这样的变量中，包括每个部分的 reset_color。这样做可以让您更改提示组件的顺序，而无需更改它们的实现。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-08-09T17:08:09.497

你是解决这个问题的一半：

```
PS1='$(date)' 
```

会提示你`$(date)`，但是

```
PS1='$(date)'
setopt promptsubst 
```

将向您显示提示`Thu Aug 9 21:01:53 MSK 2012`（当然取决于`$LANG`and `$LC_TIME`）。

顺便说一句，在您不再需要使用的最新 zsh 中`%{$fg[blue]%}`，没有`%F{blue}`用于前景、`%K{blue}`用于背景、`%f%k`用于重置它们和其他一些内容，请参阅第 1`man zshmisc`节`EXPANSION OF PROMPT SEQUENCES`。

# regex - 使用正则表达式验证十六进制字符串

> ID：11877554
> 
> 赞同：27
> 
> 时间：2012-08-09T06:01:24.747
> 
> 标签：regex

我正在使用正则表达式验证字符串是否为十六进制。

我使用的表达式是`^[A-Fa-f0-9]$`. 当我使用它时，该字符串`AABB10`被识别为有效的十六进制，但该字符串`10AABB`被识别为无效。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-08-09T06:12:33.387

你很可能需要一个`+`，所以`regex = '^[a-fA-F0-9]+$'`。但是，我会小心（也许）在字符串的开头考虑诸如可选之类的事情`0x`，这将使它成为`^(0x|0X)?[a-fA-F0-9]+$'`.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-08-09T06:07:19.297

`^[A-Fa-f0-9]+$`

应该工作，`+`匹配`1`或更多字符。

使用 Python：

```
In [1]: import re

In [2]: re.match?
Type:       function
Base Class: <type 'function'>
String Form:<function match at 0x01D9DCF0>
Namespace:  Interactive
File:       python27\lib\re.py
Definition: re.match(pattern, string, flags=0)
Docstring:
Try to apply the pattern at the start of the string, returning
a match object, or None if no match was found.

In [3]: re.match(r"^[A-Fa-f0-9]+$", "AABB10")
Out[3]: <_sre.SRE_Match at 0x3734c98>

In [4]: re.match(r"^[A-Fa-f0-9]+$", "10AABB")
Out[4]: <_sre.SRE_Match at 0x3734d08> 
```

理想情况下，您可能需要类似的东西，`^(0[xX])?[A-Fa-f0-9]+$`这样您就可以匹配具有常见`0x`格式的字符串，例如`0x1A2B3C4D`

```
In [5]: re.match(r"^(0[xX])?[A-Fa-f0-9]+$", "0x1A2B3C4D")
Out[5]: <_sre.SRE_Match at 0x373c2e0> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-09T06:11:48.713

你忘了'+'吗？尝试“^[A-Fa-f0-9]+$”

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-01-19T11:08:02.590

如果要处理十六进制转储，例如，

```
0x01 0x02 0x03 0xff 0xFF 
```

您可以使用拆分字符串`str.Text.Split(' ');`来获取列表，然后您可以使用以下模式迭代列表

```
^(0[x]){1}[a-fA-F0-9]{2}$ 
```

# android - 在android中使用菜单删除listview项目

> ID：11877558
> 
> 赞同：0
> 
> 时间：2012-08-09T06:01:29.100
> 
> 标签：android

您好我正在使用菜单来删除列表视图项目。
我有两个菜单，一个是`Delete`，另一个是`Select All`。我正在从数据库中检索数据并将其显示`listview`在`checkbox`.
如果我选择一些列表项并选择删除，则必须删除所选项目。如果我从菜单中选择全选，则必须选择所有列表项，如果我从菜单中选择删除，则必须删除所有数据。
问题是，如果我按菜单选择所有列表视图项目，`Select All`并且取消选中某些列表项目，则其余选定项目不会被删除。
我曾经`ResourceCursorAdapter`显示数据库中的列表项。

```
private void CreateMenu(Menu menu) {
        menu.setQwertyMode(true);
        MenuItem mnu1 = menu.add(0, 0, 0, "Delete");
        {
            mnu1.setAlphabeticShortcut('a');
        }
        MenuItem mnu2 = menu.add(1, 1, 1, "Select All");
        {
            mnu2.setAlphabeticShortcut('s');
        }
    }

    private boolean MenuChoice(MenuItem item) throws Exception {
        switch (item.getItemId()) {
        case 0:
            if (getStrinValue != null) {
                delhistory(getStrinValue);
            } else {
                Toast.makeText(getApplicationContext(),
                        "Please select an Item", Toast.LENGTH_SHORT).show();
            }
        case 1:
            if (item.getTitle().equals("Select All")) {
                for (int i = 0; i < lvhistory.getChildCount(); i++) {
                    RelativeLayout itemLayout = (RelativeLayout) lvhistory
                            .getChildAt(i);
                    final CheckBox cb = (CheckBox) itemLayout
                            .findViewById(R.id.check);
                    cb.setChecked(true);
                    if (cb.isChecked() == true) {
                        getStrinValue = getStrinValue + ","
                                + cb.getTag().toString();
                        System.out.println("CHECKEDIITTEEMSS-->>>"
                                + getStrinValue);
                    } else {                        
                    }                   
                }
            }
        }
        return false;
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        super.onCreateOptionsMenu(menu);
        CreateMenu(menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        try {
            return MenuChoice(item);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return false;
    }

    private class MyAdapter extends ResourceCursorAdapter {

        public MyAdapter(Context context, Cursor cur) {
            super(context, R.layout.custom_sent_view, cur);
        }

        @Override
        public View newView(Context context, Cursor cur, ViewGroup parent) {
            LayoutInflater li = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            return li.inflate(R.layout.custom_sent_view, parent, false);
        }

        @Override
        public void bindView(View view, Context context, Cursor cur) {
            TextView tvListText = (TextView) view.findViewById(R.id.Mobile);
            chkBox = (CheckBox) view.findViewById(R.id.check);
            tvListText.setText(cur.getString(cur
                    .getColumnIndex(MainscreenActivity.COL_Mobile)));
            chkBox.setTag(cur.getString(cur
                    .getColumnIndex(MainscreenActivity.COL_Sent_id)));

            chkBox.setOnClickListener(new OnClickListener() {
                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    CheckBox cb = (CheckBox) v;
                    if (cb.isChecked() == true) {
                        getStrinValue = getStrinValue + ","
                                + cb.getTag().toString();
                    } else {
                        getStrinValue = null;
                    }
                }
            });
        }

    }

    public void delhistory(String getStrinValue) {
        int pos1 = getStrinValue.indexOf(",");
        if (pos1 > 0) {
            String rowId = getStrinValue.substring(pos1 + 1);
            String delimiter = "\\,";
            String[] sentID = rowId.split(delimiter);
            for (int i = 0; i < sentID.length; i++) {
                String temp0 = sentID[i];
                int id = Integer.parseInt(temp0);
                MainscreenActivity.JEEMAAndroSMSDB
                        .delete(MainscreenActivity.Table_SentHistory, "_id="
                                + id, null);
            }
            Toast.makeText(getApplicationContext(),
                    "History deleted successfully", Toast.LENGTH_SHORT).show();
            finish();
            Intent intent = new Intent(getApplicationContext(),
                    SentHistoryActivity.class);
            startActivity(intent);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T12:41:50.813

好的，最后我自己找到了答案。我将 setonclicklistener 添加到复选框以删除未选中的值。答案如下：

```
private boolean MenuChoice(MenuItem item) throws Exception {
        switch (item.getItemId()) {
        case 0:
            if (getStrinValue != null) {
                delhistory(getStrinValue);
            } else {
                Toast.makeText(getApplicationContext(),
                        "Please select an Item", Toast.LENGTH_SHORT).show();
            }
        case 1:
            if (item.getTitle().equals("Select All")) {
                for (int i = 0; i < lvhistory.getChildCount(); i++) {
                    RelativeLayout itemLayout = (RelativeLayout) lvhistory
                            .getChildAt(i);
                    final CheckBox cb = (CheckBox) itemLayout
                            .findViewById(R.id.check);
                    cb.setChecked(true);
                    if (cb.isChecked() == true) {
                        getStrinValue = getStrinValue + ","
                                + cb.getTag().toString();
                        System.out.println("CHECKEDIITTEEMSS-->>>"
                                + getStrinValue);
                    }
                    cb.setOnClickListener(new OnClickListener() {
                        @Override
                        public void onClick(View arg0) {
                            // TODO Auto-generated method stub
                            if (cb.isChecked() == false) {                              
                                getUnselected = cb.getTag().toString();
                                getStrinValue = getStrinValue.replace(","
                                        + getUnselected, "");
                                System.out.println("UNCHECKED--->>>"
                                        + getStrinValue);
                            } else if (cb.isChecked() == true) {
                                getStrinValue = getStrinValue + ","
                                        + cb.getTag().toString();
                                System.out.println("CHECKEDIITTEEMSS-->>>"
                                        + getStrinValue);
                            }
                        }
                    });
                }
            }
        }
        return false;
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        super.onCreateOptionsMenu(menu);
        CreateMenu(menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        try {
            return MenuChoice(item);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return false;
    }

    private class MyAdapter extends ResourceCursorAdapter {

        public MyAdapter(Context context, Cursor cur) {
            super(context, R.layout.custom_sent_view, cur);
        }

        @Override
        public View newView(Context context, Cursor cur, ViewGroup parent) {
            LayoutInflater li = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            return li.inflate(R.layout.custom_sent_view, parent, false);
        }

        @Override
        public void bindView(View view, Context context, Cursor cur) {
            TextView tvListText = (TextView) view.findViewById(R.id.Mobile);
            chkBox = (CheckBox) view.findViewById(R.id.check);
            tvListText.setText(cur.getString(cur
                    .getColumnIndex(MainscreenActivity.COL_Mobile)));
            chkBox.setTag(cur.getString(cur
                    .getColumnIndex(MainscreenActivity.COL_Sent_id)));

            chkBox.setOnClickListener(new OnClickListener() {
                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    CheckBox cb = (CheckBox) v;
                    if (cb.isChecked() == true) {
                        getStrinValue = getStrinValue + ","
                                + cb.getTag().toString();
                    } else {
                        getStrinValue = null;
                    }
                }
            });
        }

    }

    public void delhistory(String getStrinValue) {
        int pos1 = getStrinValue.indexOf(",");
        if (pos1 > 0) {
            String rowId = getStrinValue.substring(pos1 + 1);
            String delimiter = "\\,";
            String[] sentID = rowId.split(delimiter);
            for (int i = 0; i < sentID.length; i++) {
                String temp0 = sentID[i];
                int id = Integer.parseInt(temp0);
                MainscreenActivity.JEEMAAndroSMSDB
                        .delete(MainscreenActivity.Table_SentHistory, "_id="
                                + id, null);
            }
            Toast.makeText(getApplicationContext(),
                    "History deleted successfully", Toast.LENGTH_SHORT).show();
            finish();
            Intent intent = new Intent(getApplicationContext(),
                    SentHistoryActivity.class);
            startActivity(intent);
        }
    } 
```

非常感谢你。

# c# - 有没有比这更好的方法来使用 Entity Framework+IDataErrorInfo 实现模型验证？

> ID：11877561
> 
> 赞同：3
> 
> 时间：2012-08-09T06:01:42.913
> 
> 标签：c#, entity-framework, mvvm, prism, idataerrorinfo

目前，我有这个：

*   实体框架生成的模型分部类
*   我自己的这个实体的部分类实现了 IDataErrorInfo 接口

但是，这可行：无论如何我可以将通用代码移至其他类吗？最好的方法是什么？我们（在迁移到实体框架之前）曾经有一个“实体”类和一个 Poco。这个实体类从一些基类扩展而来，其中接口的实现类似于 IDataErrorInfo 。因为分部类的其他部分已经从 EntityObject 扩展，我不能使用这种方法，但我觉得再次编写每个分部类 80% 相同的代码是愚蠢的。唯一“真正”的区别是 Validate 方法的逻辑。

```
public partial class Customer : IDataErrorInfo, ICustomer
{
    private readonly IDictionary<string, string> _errors = new Dictionary<string, string>();

    public Customer()
    {
        base.
        PropertyChanged += Model_PropertyChanged;
    }

    private void Model_PropertyChanged(object sender, PropertyChangedEventArgs e)
    {
        Validate();
    }

    private void Validate()
    {
        if (Name != null && Name.Equals("Banana"))
        {
            this[GetPropertyName(() => Name)] = "Some really nice error here";
        }
    }

    #region "IDataErrorInfo"

    public virtual string this[string columnName]
    {
        get
        {
            if (_errors.ContainsKey(columnName))
            {
                return _errors[columnName];
            }
            return null;
        }
        protected set
        {
            if (value == null && _errors.ContainsKey(columnName))
            {
                _errors.Remove(columnName);
            }
            else
            {
                if (_errors.ContainsKey(columnName))
                    _errors[columnName] = value;
                else
                    _errors.Add(columnName, value);
            }
        }
    }

    public virtual string Error
    {
        get
        {
            if (_errors.Values.Count > 0)
            {
                return _errors.Values.First();
            }
            return null;
        }
    }
    #endregion

    public static string GetPropertyName<T>(Expression<Func<T>> expression)
    {
        MemberExpression body = (MemberExpression)expression.Body;
        return body.Member.Name;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T14:52:46.413

您可以使用 IValidatableobject 参见[http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.ivalidatableobject.aspx](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.ivalidatableobject.aspx)

# ios - 将纬度和经度转换为 CGPoint

> ID：11877567
> 
> 赞同：3
> 
> 时间：2012-08-09T06:02:31.183
> 
> 标签：ios, objective-c, xcode, map, mapkit

我有要转换为 x,y 坐标的纬度和经度。我想将图像子视图到该点

# python - 如何模拟以便`from x import *`工作

> ID：11877571
> 
> 赞同：11
> 
> 时间：2012-08-09T06:02:51.457
> 
> 标签：python, mocking, matplotlib

我正在尝试制作 matplotlib 的模拟，以便我可以使用 ReadTheDocs 编译我的文档，但遇到了问题。

在我的代码中，我使用`from matplotlib.pyplot import *`.

我正在为我的 Mocks 使用以下代码（如[ReadTheDocs FAQ](http://read-the-docs.readthedocs.org/en/latest/faq.html)所建议的）：

```
class Mock(object):
    def __init__(self, *args, **kwargs):
        pass

    def __call__(self, *args, **kwargs):
        return Mock()

    @classmethod
    def __getattr__(cls, name):
        if name in ('__file__', '__path__'):
            return '/dev/null'
        elif name[0] == name[0].upper():
            return type(name, (), {})
        else:
            return Mock()

MOCK_MODULES = ['numpy', 'scipy', 'matplotlib', 'matplotlib.pyplot']
for mod_name in MOCK_MODULES:
    sys.modules[mod_name] = Mock() 
```

但是，在运行时`from matplotlib.pyplot import *`我收到一条错误消息`TypeError: 'type' object does not support indexing`。

有没有办法可以更改我的 Mock 以便它允许我使用该`from x import *`样式导入 matplotlib？我不需要提供任何特定功能，我只需要能够导入它，以便 ReadTheDocs 可以正确导入代码。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-09T07:35:07.643

如果通过导入，`*`您需要`__all__`在模块中定义列表。您的类也是如此：只需将`__all__`属性添加到类中，它应该可以正常工作：

```
class Mock(object):
    __all__ = [] 
```

# asp.net - ASP.NET Razor 如何更新 ViewBag 变量

> ID：11877574
> 
> 赞同：1
> 
> 时间：2012-08-09T06:03:10.613
> 
> 标签：asp.net, asp.net-mvc, razor

嘿伙计们，我有我的基本布局

```
<html lang="en" jsPageObject="@ViewBag.JSPageObject"> 
```

然后在视图上，我有：

```
@{
    ViewBag.Title = "Details";
    ViewBag.JSPageObject = "MyDetails";
} 
```

我注意到 ViewBag.Title 得到了更新，但没有 JSPageObject..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:14:49.147

当您更新变量时，很可能`<html>`标签已经呈现。尝试将其设置在您的控制器中。

# model-view-controller - MVC、MVP 和 MVVM 有什么区别？

> ID：11877575
> 
> 赞同：15
> 
> 时间：2012-08-09T06:03:11.230
> 
> 标签：model-view-controller, design-patterns, mvvm, mvp

据我所知，前两个似乎没有什么不同。无论是称为控制器还是演示者，它似乎仍然具有相同的中介功能。

MVVM 似乎有点不同，因为控制器似乎更像是框架的一部分，例如与 XAML 绑定。

“悬崖笔记”对差异的解释是什么？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-09T07:18:15.490

不同之处在于来自模型层的数据如何在视图实例中结束。

*   在**经典 MVC**（以及 Model2 MVC）中，视图是活动结构。它从模型层请求信息。*控制器*只改变模型层和视图的状态。
*   在**MVP**中，视图是被动的。相反*，演示者*从模型层请求信息并将其传递给视图。[您可以在此处](http://www.wildcrest.com/Potel/Portfolio/mvp.pdf)详细了解 MVP 模式。
*   在**MVVM**中类似于 MVP，但*视图模型*必须在将信息传递给视图之前对其进行操作。

MVP 和 MVVM 的区别在于开发过程。在为已知模型层创建表示层时，您将使用 MVP 模式。

但是，如果您有一个预先存在的（或出于某种原因 - 不可更改的）用户界面和预先存在的（或不可更改的）模型层，则您将不得不使用 MVVM。你必须让它们一起工作。这就是视图模型发挥作用的地方。

# php - PHP OOP：为什么 self::$$property[$key] 不起作用？

> ID：11877578
> 
> 赞同：2
> 
> 时间：2012-08-09T06:03:22.480
> 
> 标签：php, arrays, oop, properties, getter-setter

有没有办法在没有 foreach 循环的情况下实现以下 PHP 类（否则不变）？

```
<?php

class foo {

  private static $_thing = array(
    'kee' => 'valyu'
  );

  public static function fetch($property, $key = '') {
    if (property_exists('foo', $property)) {
      if ($key == '') return self::$$property;
      else {

        # i cannot seem to do self::$$property[$key].

        foreach (self::$$property as $_key => $_value) {
          if ($_key == $key) return $_value;
        }
      }
    }
    return false;
  }

}

var_dump(foo::fetch('bad'));            # null
var_dump(foo::fetch('_thing'));         # array(1) { ... }
var_dump(foo::fetch('_thing', 'bad'));  # null
var_dump(foo::fetch('_thing', 'kee'));  # string(5) "valyu"

?> 
```

`self::$$property[$key]`让我“访问未声明的静态属性：foo::$x”（*x是**$key*字符串值中的第一个字符）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:18:22.000

这只是 php 解析器的一个怪癖，似乎没有办法用语法告诉解析器你希望首先解析变量变量，然后在一行中使用`[]`它的结果而不是第一个。`$property[$key]`

但是，如果您将其分成两部分，它将正常工作：

```
class foo {

  private static $_thing = array(
    'kee' => 'valyu'
  );  

  public static function fetch($property, $key = '') {
   if (property_exists('foo', $property)) {
      if ($key == '') { 
        return self::$$property;
      } else {
        $prop = self::$$property; // move the result to temporary variable, first part of $$property[$key]
        if (array_key_exists($key, $prop)) { //isset will return false if the key is in fact set to null
            return $prop[$key]; // use it, second part of $$property[$key]
        }   
      }   
    }   
    return null;
  }   
}   

var_dump(foo::fetch('bad'));            // null
var_dump(foo::fetch('_thing'));         // array(1) { ... }
var_dump(foo::fetch('_thing', 'bad'));  // null
var_dump(foo::fetch('_thing', 'kee'));  // string(5) "valyu" 
```

## 更新：

正如[Dan](https://stackoverflow.com/users/796393/dan)亲切地指出的那样，`{}`语法可用于消除解析器的意图，如下所示：

```
public static function fetch($property, $key = '') {
  if (property_exists('foo', $property)) {
    if ($key == '') {
      return self::$$property;
    } else if (array_key_exists($key, self::${$property})) {
      return self::${$property}[$key];
    }   
  }   
  return null;
} 
```

我还将最后一个返回从更改为`false`，`null`以便它与您示例的注释相匹配。

# android - notifyDatasetChanged 不适用于 Gridview，除非设备已旋转

> ID：11877580
> 
> 赞同：1
> 
> 时间：2012-08-09T06:03:27.860
> 
> 标签：android, android-arrayadapter, android-gridview

这真是一个奇怪的问题。它的基本要点是标题所说的。我有一个适配器，我正在更新并调用`notifyDatasetChanged()`它但是问题是它不起作用，除非设备至少旋转一次。我一生都无法弄清楚为什么，在轮换发生后做了什么不同的事情？

有问题的代码在这里：

处理它的 ASyncTask ..

```
protected void onPostExecute(ArrayList<Records> result) {

        if (ca == null)
        {
            ca = new CoverAdapter<Records>(c, R.layout.grid_cover_with_text_item, result);
        }

        if (gv.getAdapter() == null)
        {
            gv.setAdapter(ca);
        }
        else
        {
            new AdapterHelper().update((CoverAdapter) ca, result);
            ca.notifyDataSetChanged;
        }

    } 
```

"ca" 是 my `adapter`， "gv" 是 my`GridView`并且`AdapterHelper().update`是我在这里找到的清除适配器并将所有结果添加`arraylist`到其中的方法，因此应该正确更新它。

请记住，此代码在设备旋转后有效。现在很困惑，任何见解将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T07:31:50.320

使用调试器并逐步执行代码以检查预期实际发生的情况。

很高兴你发现了问题......现在你可以放弃`AdapterHelper`这门浪费的课程了。

# java-me - 如何减少 LWUIT TextArea 中文本的字体

> ID：11877585
> 
> 赞同：4
> 
> 时间：2012-08-09T06:03:49.210
> 
> 标签：java-me, lwuit, nokia-s40

我已经创建了 LWUIT `TextArea`，并且我已经在我的 中添加了文本段落`TextArea`，现在我想减小我`TextArea`的字体大小，我使用了以下代码：

```
TextArea big = new TextArea(detailNews.getDescription());
Font createSystemFont = Font.createSystemFont(Font.FACE_SYSTEM, Font.STYLE_ITALIC, Font.SIZE_SMALL);
    big.getStyle().setFont(createSystemFont);
    big.setEditable(false);                    
    form2.addComponent(big);
    form2.show(); 
```

但是，为什么我不能减少文本的字体？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T07:57:24.260

**在资源编辑器中创建字体**。然后，从应用程序的资源文件中导入字体。通过使用此方法，您可以将任何字体应用到系统中安装的应用程序。您还可以为字体设置任何字体大小。

浏览链接以了解如何在资源编辑器中创建字体。

[http://docs.oracle.com/javame/dev-tools/lwuit-1.4/LWUIT_Developer_Guide_HTML/cjbcgcdd.html#z400088e1296018](http://docs.oracle.com/javame/dev-tools/lwuit-1.4/LWUIT_Developer_Guide_HTML/cjbcgcdd.html#z400088e1296018)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-17T07:21:23.993

利用：

```
TextArea big = new TextArea(detailNews.getDescription());

Font createSystemFont = Font.createSystemFont(Font.FACE_SYSTEM, Font.STYLE_ITALIC,Font.SIZE_SMALL);

big.getUnselectedStyle().setFont(createSystemFont); 
big.getSelectedStyle().setFont(createSystemFont); 

// Added TextArea object big to the Form object form.
form.addComponent(big);
form.show(); 
```

# php - 如何在PHP中合并两个对象数组

> ID：11877586
> 
> 赞同：22
> 
> 时间：2012-08-09T06:03:52.240
> 
> 标签：php, arrays, sorting

我有以下两个对象数组：

**第一个数组：** `$array1`

```
Array
(
    [0] => stdClass Object
        (
            [id] => 100
            [name] => Muhammad
        )

    [1] => stdClass Object
        (
            [id] => 102
            [name] => Ibrahim
        )

    [2] => stdClass Object
        (
            [id] => 101
            [name] => Sumayyah
        )
) 
```

**第二个数组：** `$array2`

```
Array
(
    [0] => stdClass Object
        (
            [id] => 100
            [name] => Muhammad
        )

    [1] => stdClass Object
        (
            [id] => 103
            [name] => Yusuf
        )
) 
```

我想合并这两个对象数组（删除所有重复项）并根据`id`.

**期望的输出：**

```
Array
(
    [0] => stdClass Object
        (
            [id] => 100
            [name] => Muhammad
        )

    [1] => stdClass Object
        (
            [id] => 101
            [name] => Sumayyah
        )

    [2] => stdClass Object
        (
            [id] => 102
            [name] => Ibrahim
        )

    [3] => stdClass Object
        (
            [id] => 103
            [name] => Yusuf
        )
) 
```

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-08-09T08:30:10.853

这 3 个简单的步骤完成了工作：

```
//both arrays will be merged including duplicates
$result = array_merge( $array1, $array2 );
//duplicate objects will be removed
$result = array_map("unserialize", array_unique(array_map("serialize", $result)));
//array is sorted on the bases of id
sort( $result ); 
```

**注意：** @Kamran 的回答帮助我找到了这个简单的解决方案

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-09T06:37:41.803

**更新**

我现在在这里发布整个代码列表，而不是之前发布的主代码，打印输入和输出。您可以简单地复制并粘贴此代码进行测试。

```
<?php

function array_to_object($arr) {
    $arrObject = array();
    foreach ($arr as $array) {
        $object = new stdClass();
        foreach ($array as $key => $value) {
            $object->$key = $value;
        }
        $arrObject[] = $object;
    }

    return $arrObject;
}

function super_unique($array)
{
    $result = array_map("unserialize", array_unique(array_map("serialize", $array)));
    foreach ($result as $key => $value)  {
        if ( is_array($value) ) {
          $result[$key] = super_unique($value);
        }
    }
    return $result;
}

function merge_arrays($arr1, $arr2) {
    $arr1 = (array)$arr1;
    $arr2 = (array)$arr2;
    $output = array_merge($arr1, $arr2);
    sort($output);
    return super_unique($output);
}

$array1 = array(
        array("id" => "100", "name" => "muhammad"), 
        array("id" => "102", "name" => "ibrahim"), 
        array("id" => "101", "name" => "summayyah"), 
    );
$array1 = array_to_object($array1);

print "<h3>Your array 1</h3>";
print "<pre>";
print_r($array1);
print "</pre>";

$array2 = array(
        array("id" => "100", "name" => "muhammad"), 
        array("id" => "103", "name" => "yusuf"), 
    );
$array2 = array_to_object($array2);

print "<h3>Your array 2</h3>";
print "<pre>";
print_r($array2);
print "</pre>";

$result = merge_arrays($array1, $array2);

print "<h3>Your desired output</h3>";
print "<pre>";
print_r($result);
print "</pre>"; 
```

它将输出以下内容：

```
Your array 1
Array
(
    [0] => stdClass Object
        (
            [id] => 100
            [name] => muhammad
        )

    [1] => stdClass Object
        (
            [id] => 102
            [name] => ibrahim
        )

    [2] => stdClass Object
        (
            [id] => 101
            [name] => summayyah
        )

)

Your array 2
Array
(
    [0] => stdClass Object
        (
            [id] => 100
            [name] => muhammad
        )

    [1] => stdClass Object
        (
            [id] => 103
            [name] => yusuf
        )

)

Your desired output
Array
(
    [0] => stdClass Object
        (
            [id] => 100
            [name] => muhammad
        )

    [2] => stdClass Object
        (
            [id] => 101
            [name] => summayyah
        )

    [3] => stdClass Object
        (
            [id] => 102
            [name] => ibrahim
        )

    [4] => stdClass Object
        (
            [id] => 103
            [name] => yusuf
        )

) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-07-10T05:35:11.900

Assignments:

1.  Merge
2.  Remove Duplicates
3.  Sort by `id`

The good news is: **Assigning temporary keys using `id` values does all of the hard work for you.** No serializing is needed.

*   `array_merge()` joins the arrays together.
*   `array_column()` with a `null` 2nd parameter leaves the objects unmodified and `id` as the 3rd parameter assigns the temporary keys. Because arrays cannot have duplicate keys, duplicate objects are weeded out in this step.
*   Now that we have keys, `ksort()` avoids calling the more convoluted `usort()` to sort by `id` ascending.
*   Finally, call `array_values()` to re-index the resultant array (remove the temporary keys).

Code: ([Demo](https://3v4l.org/fpHpi))

```
$array1 = [
    (object) ['id' => 100, 'name' => 'Muhammad'],
    (object) ['id' => 102, 'name' => 'Ibrahim'],
    (object) ['id' => 101, 'name' => 'Sumayyah']
];

$array2 = [
    (object) ['id' => 100, 'name' => 'Muhammad'],
    (object) ['id' => 103, 'name' => 'Yusuf']
];

$merged_keyed = array_column(array_merge($array1,$array2), NULL, 'id');
ksort($merged_keyed);
print_r(array_values($merged_keyed)); 
```

Output:

```
Array
(
    [0] => stdClass Object
        (
            [id] => 100
            [name] => Muhammad
        )    
    [1] => stdClass Object
        (
            [id] => 101
            [name] => Sumayyah
        )    
    [2] => stdClass Object
        (
            [id] => 102
            [name] => Ibrahim
        )    
    [3] => stdClass Object
        (
            [id] => 103
            [name] => Yusuf
        )    
) 
```

# xcode - 将 UITableView SelectedCell 附件类型设置为复选标记

> ID：11877587
> 
> 赞同：0
> 
> 时间：2012-08-09T06:03:53.457
> 
> 标签：xcode, uitableview

我将`UITableview`选定的单元格样式设置为检查标记，但问题是它在选择单元格时显示检查，但是当我们选择新单元格时，另一个单元格也被标记为第一个。我希望所选单元格只显示一个复选标记

```
 UITableViewCell *selectedCell = [tableView cellForRowAtIndexPath:indexPath];

if ([selectedCell accessoryType] == UITableViewCellAccessoryNone) {
    [selectedCell setAccessoryType:UITableViewCellAccessoryCheckmark];

} 
else {
    [selectedCell setAccessoryType:UITableViewCellAccessoryNone];
}
[tableView deselectRowAtIndexPath:indexPath animated:NO]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T05:46:54.030

将此代码添加到您的`cellForRowAtIndexPath`返回单元格之前；

```
 if (self.selectedIndexPath != nil && self.selectedIndexPath.row == indexPath.row
                && self.selectedIndexPath.section == indexPath.section) {
        cell.accessoryType = UITableViewCellAccessoryCheckmark;
    }
    else {
        cell.accessoryType = UITableViewCellAccessoryNone;
    } 
```

并将此代码添加到您的`didSelectRowAtIndexPath`.

```
 UITableViewCell *selectedCell = [tableView cellForRowAtIndexPath:indexPath];

    if (self.selectedIndexPath != nil) {
        // Uncheck previously selected cell
        UITableViewCell *prevSelectedCell = [tableView cellForRowAtIndexPath:self.selectedIndexPath];
        [prevSelectedCell setAccessoryType:UITableViewCellAccessoryNone];
    }
    [selectedCell setAccessoryType:UITableViewCellAccessoryCheckmark];
    self.selectedIndexPath = indexPath;

    [tableView deselectRowAtIndexPath:indexPath animated:NO]; 
```

# html - 将区域导出为 html 中的图像

> ID：11877597
> 
> 赞同：0
> 
> 时间：2012-08-09T06:04:33.073
> 
> 标签：html, css, export

我有一个使用 css 设计的区域的 html 页面。如果我们可以将 html 区域导出为图像，我正在寻找建议。

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:16:41.190

好吧，我认为您想截取网页中特定部分或元素的屏幕截图。如果是这种情况，仅使用 CSS 是不可能的，您需要 JavaScript。Google 正在 Google+ 中进行此操作，一位才华横溢的开发人员对其进行了逆向工程并制作了[http://html2canvas.hertzen.com/](http://html2canvas.hertzen.com/)。要在 IE 中工作，您需要一个画布支持库，例如[http://excanvas.sourceforge.net/](http://excanvas.sourceforge.net/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:14:10.597

使用您喜欢的软件截取屏幕截图。GIMP 是免费且功能强大的。

如果该软件为您提供了全屏屏幕截图（而不是一个区域），请使用图像编辑器对其进行裁剪。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:15:55.540

[http://cutycapt.sourceforge.net/](http://cutycapt.sourceforge.net/)

[http://iecapt.sourceforge.net/](http://iecapt.sourceforge.net/)

[http://www.websitescreenshots.com/](http://www.websitescreenshots.com/)

[http://www.princexml.com/](http://www.princexml.com/)

[http://khtml2png.sourceforge.net/](http://khtml2png.sourceforge.net/)

[http://linkpeek.com/](http://linkpeek.com/)

# objective-c - 从 TableView 开始

> ID：11877599
> 
> 赞同：0
> 
> 时间：2012-08-09T06:04:46.843
> 
> 标签：objective-c, ios5

我目前正在学习目标 c，并且正在尝试创建从表视图到另一个视图的 segue。并且代码在 prepareForSegue 函数处崩溃。

这是代码

```
- (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender{
if( [segue.identifier isEqualToString:@"rowSelected"]){
    UIViewController *nextViewController = segue.destinationViewController;
    nextViewController.title = @"newView";
    }
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
[self performSegueWithIdentifier:@"rowSelected" sender:self];
} 
```

我对准备 segue 的理解是我在那里初始化下一个视图（？）。但我看过的大多数教程只在 prepareForSegue 中设置了一些配置。

有什么明显的我做错了吗？或者也许有人可以链接一个 tableview + segue 指南，这样我就可以跟进并找出我自己做错了什么。

继承人的错误消息，至少是我发现实际包含信息的部分

```
*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '+[notesViewController length]: unrecognized selector sent to class 0x469c' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-15T18:03:17.077

你好皮塔试试这个代码

```
- (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender{
if( [segue.identifier isEqualToString:@"rowSelected"]){
    UIViewController *nextViewController = segue.destinationViewController;
    NSIndexPath *indexPath = [self.tableView indexPathForSelectedRow];
nextViewController.title = [YourSomethingArray objectAtIndex: indexPath.row];
    } 
```

yourSomethingArray从您的代码中找到的**位置**

```
cell.textLabel.text = yourSomethingArray[indexPath.row]; 
```

# xcode - 如何在 Xcode 中安装 Kobold2D 参考？

> ID：11877600
> 
> 赞同：1
> 
> 时间：2012-08-09T06:05:03.823
> 
> 标签：xcode, cocos2d-iphone, kobold2d

正如标题所说，如何在我的 Xcode 帮助中安装 Kobold2D 参考？

参考在这里：

[http://www.learn-cocos2d.com/api-ref/2.0/Kobold2D-mac/html/index.html](http://www.learn-cocos2d.com/api-ref/2.0/Kobold2D-mac/html/index.html)

添加了另一个用户的屏幕截图以进行澄清： ![在此处输入图像描述](../Images/7ccebb772625d79727d249bb08f11655.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T21:09:47.237

只需安装[Kobold2D 即可](http://www.kobold2d.com/display/KKSITE/Kobold2D+Download)。安装程序会将 .docset 文件复制到相应的目录中。这是：`~/Library/Developer/Shared/Documentation/DocSets`

您可能需要关闭并重新打开 Xcode Organizer 窗口，文档集才能显示在帮助部分。

**注意：**出于下载大小的原因，我的[Learn Cocos2D 书籍页面](http://www.learn-cocos2d.com/store/book-learn-cocos2d/)中的 Kobold2D 文件不包含 Xcode 文档集。但是您可以安全地下载并安装 Kobold2D，然后继续使用本书的项目，它们不会受到安装 Kobold2D 的影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T12:57:32.693

我用解决方法解决了它。我使用了从 Dash 下载的 DocSet。

全新安装 Xcode 4.6 和 Kobold2D 2.1.0 后，唯一没有出现在 Xcode 中的 DocSet 是 Kobold2D。Kobold2D 安装将所有 DocSet 复制到正确的文件夹，但 Xcode 无法检测到它。

甚至 Dash 也无法导入一些随 Kobold2D 2.1.0 安装的 DocSet 以下是我尝试添加未在 Xcode 中显示的 DocSet 时的屏幕截图：

![在此处输入图像描述](../Images/07273885ab917ea05677b736cb558a89.png)

从 Kobold2D 2.1.0 安装不工作的 DocSet 是：

*   花栗鼠太空管理员
*   Cocos2D iPhone 扩展
*   Cocos2D iPhone 扩展 Mac
*   Cocos3D
*   Cocos Denshion Mac
*   Cocos Denshion
*   Kobold2D Mac
*   狗头人2D
*   偷偷摸摸的输入

* * *

这里一步一步我做了什么来得到它：

Xcode 4.6 中的 Kobold2D 2.1.0 下载 Dash 中的 Kobold2D 文档 在 Dash 的首选项中，该应用程序在 AppStore 中免费提供。你不需要保留它。 ![在此处输入图像描述](../Images/e551774ae0f0142744f35ed0405de618.png)

然后找到下载的文件。

![在此处输入图像描述](../Images/55237c7e84a8ecd15a2e67efe8fedab2.png)

然后从 Dash 文件夹复制到 Xcode 的 DocSets 文件夹：~/Library/Developer/Shared/Documentation/DocSets/

![在此处输入图像描述](../Images/e325c3cf8e5800e6a5bcf371c1f46b57.png)

如果 Xcode 正在运行，则重新启动 Xcode，Tadaa Kobold2D 的 DocSet 会出现在 Xcode 中。

![在此处输入图像描述](../Images/a9dec1dbd69d21d637206b74c6a96099.png)

# java - Java中的SCTP一对多

> ID：11877608
> 
> 赞同：2
> 
> 时间：2012-08-09T06:05:38.110
> 
> 标签：java, sctp

我正在使用 Java 使用 Java 和 SCTP 协议创建一对多连接。

我已经启动并运行了 SctpMultiChannel 并且可以接收消息，但是是否需要做一些特别的事情才能向所有连接发送消息？

```
The error message:

java.net.SocketException: Invalid argument
    at sun.nio.ch.SctpChannelImpl.send0(Native Method)
    at sun.nio.ch.SctpMultiChannelImpl.send0(SctpMultiChannelImpl.java:976)
    at sun.nio.ch.SctpMultiChannelImpl.sendFromNativeBuffer(SctpMultiChannelImpl.java:888)
    at sun.nio.ch.SctpMultiChannelImpl.send(SctpMultiChannelImpl.java:847)
    at sun.nio.ch.SctpMultiChannelImpl.send(SctpMultiChannelImpl.java:824)
    at org.test.MultiServer.run(MultiServer.java:56) 
```

以及完整的代码：

```
SocketAddress serverSocketAddress = new InetSocketAddress(SOCKET_PORT);
    SctpMultiChannel smc;
    try {
      Logger.info("Start");
      smc = SctpMultiChannel.open().bind(serverSocketAddress);

      ByteBuffer buf = ByteBuffer.allocateDirect(160);
      Charset charset = Charset.forName("ISO-8859-1");
      CharsetDecoder decoder = charset.newDecoder();

      AssociationHandler assocHandler = new AssociationHandler();

      MessageInfo messageInfo;
      while ((messageInfo = smc.receive(buf, System.out, assocHandler)) != null) {
        Logger.debug(messageInfo.toString());
        buf.flip();
        Logger.debug(decoder.decode(buf).toString());
        Logger.info(smc.associations().size() + "");

        ByteBuffer buf1 = ByteBuffer.allocateDirect(60);
        CharBuffer cbuf1 = CharBuffer.allocate(60);
        charset = Charset.forName("ISO-8859-1");
        CharsetEncoder encoder = charset.newEncoder();
        cbuf1.put("foo").flip();
        encoder.encode(cbuf1, buf1, true);
        buf1.flip();

        for (Association ass : smc.associations()) {
          MessageInfo mi = MessageInfo.createOutgoing(ass, null, 1);
          smc.send(buf, mi);
        }
        cbuf1.clear();
        buf1.clear();
        buf1.flip();
      }
      smc.close();
    } catch (IOException e) {
      Logger.error("Server error");
      e.printStackTrace();
    } 
```

这是我到目前为止所做的，我的客户发送一条消息，然后等待接收一条新消息。我的目标是采用非阻塞方法，这样我就可以在同一通道上发送和接收消息，而不是使用接收查询进行阻塞。

有人有这方面的经验吗？

最好的，亨里克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-06-05T06:46:07.950

从错误中我可以说 MessageInfo 不正确。尝试只发送一条消息而不循环。静态设置地址。

在 SctpMultiChannel 的情况下，第一次发送也会建立连接 - 由于关联尚未建立，您如何能够循环访问它们？这是整个代码吗？

# c++ - SDL_image 超出范围

> ID：11877609
> 
> 赞同：1
> 
> 时间：2012-08-09T06:05:49.453
> 
> 标签：c++, sdl, sdl-image

我正在尝试与 SDL 一起起步。SDL 本身工作正常，我得到了基本的 Hello World 设置。但是，尝试使用 SDL_image 让我非常头疼。我当前的代码（如下）在第 17 行给出了错误“Img_Load”未在此范围内声明。

*   我在 Code::Blocks 中的链接器设置如下所示：“-lmingw32 -lSDLmain -lSDL -lSDL_image”
*   搜索目录已正确设置
*   所需的 DLL 位于带有 EXE 的文件夹中。

    ```
    include iostream
    include fstream
    include "SDL/SDL.h"
    include "SDL_image.h"

    using namespace std;
    const int SCREEN_WIDTH = 600;
    const int SCREEN_HEIGHT = 600;

    int main(int argc, char *argv[]){
        SDL_Init(SDL_INIT_EVERYTHING);

        SDL_Surface* hello = NULL;
        SDL_Surface* screen = NULL;

        screen = SDL_SetVideoMode(SCREEN_WIDTH, SCREEN_HEIGHT, 32, SDL_SWSURFACE);
        hello = Img_Load("img\\hello world.png");

        if(!hello) //check that the load worked
            cout<<"error";

        SDL_BlitSurface(hello, NULL, screen, NULL); //draw image
        SDL_Flip(screen);

        SDL_Delay(2000);

        SDL_FreeSurface(hello); //closing down
        SDL_Quit();

    return 0;
    } 
    ```

任何和所有的帮助将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:09:52.870

当您遇到此类错误时，“IMG_Load”在源文件中使用库参考确认大小写。

# php - 如何使用 mysql 查询显示最后 20 条评论

> ID：11877612
> 
> 赞同：0
> 
> 时间：2012-08-09T06:06:04.650
> 
> 标签：php, mysql

我有一个评论表，其中存储了所有评论，我想显示最后 20 条评论

```
$query="SELECT * FROM comment WHERE answerid=$answerid ORDER BY time DESC LIMIT 20"; 
```

它给了我最后 20 个，但从上到下，但我想让它们从下到上。意味着最后的评论（按时间）应该显示在我最后使用

```
$result = mysql_query($query);
$newresult = array_reverse($result);
while( $row = mysql_fetch_array($newresult) ) {
    //my code 
    echo $row['content'];
} 
```

但这不起作用？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-09T06:09:18.307

尝试：

```
SELECT * FROM (
    SELECT * FROM comment WHERE answerid=$answerid ORDER BY time DESC LIMIT 20
) d ORDER BY time 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:08:01.327

`$query="SELECT * FROM comment WHERE answerid=$answerid ORDER BY time ASC";`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:08:46.623

```
ORDER BY id DESC LIMIT 20 
```

如果列 id 是 auto_increment，这可以正常工作。您还可以在代码中将 DESC 更改为 ASC！

# ruby - 从哈希数组中的字符串数组中查找项目并继续使用适当的哈希

> ID：11877614
> 
> 赞同：0
> 
> 时间：2012-08-09T06:06:19.780
> 
> 标签：ruby, arrays, find, hash

我有一系列链接：

```
数组 = [链接 1，链接 2，链接 3，链接 4]
```

和 array_of_hashes 有两个项目： :names 和 :links

```
哈希 = { :names, :links } 例如
array_of_hashes = [{ :names => name5, :links => link5}, {:names = name1, :links => link1}, ... ]
```

我想对 array_of_hashes 中的每对哈希 (:names :links) 做一些事情，其中​​包括来自原始链接数组的链接。

因此，在最后阶段，我需要找到一对哈希（在我上面列出的例子中）：

```
{:names => name1, :links => link1}
```

导致链接 1 列在带有链接的数组中

**UPD：**修改后的数据...抱歉误解。感谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T07:21:30.777

如果我正确理解你的问题，这应该做你想要的：

```
# Cleaned up the setup a little
array_of_hashes = [
    {:names => 'name5', :links => 'link5'}, 
    {:names => 'name1', :links => 'link1'}, 
    {:names => 'name9', :links => 'link9'}]

array = ['link5', 'link1']

# This will filter the array
array_of_hashes.select{|x| array.include? x[:links]} 
```

这给出了输出`=> [{:names=>"name1", :links=>"link1"}]`

# ruby-on-rails - 乘客 + Capistrano + Apache = Rails 应用程序未运行

> ID：11877617
> 
> 赞同：3
> 
> 时间：2012-08-09T06:06:29.453
> 
> 标签：ruby-on-rails, linux, apache, capistrano, passenger

我正在尝试使用 capistrano 部署我的 rails 应用程序。

这正是我遇到的问题，只有修复对我不起作用。我在下面粘贴了我的信息。

/var/www/vhosts/example.us/conf/vhost.conf

```
ServerName example.us
ServerAlias example.us
DocumentRoot /var/www/vhosts/example.us/current/public
PassengerAppRoot /var/www/vhosts/example.us/current

<Directory "/var/www/vhosts/example.us/current/public">
        Options FollowSymLinks
        AllowOverride None
        Order allow,deny
        Allow from all
</Directory>

RailsEnv development
RailsBaseURI /httpdocs 
```

我也试过`RailsBaseURI /`

ls -l from`/var/www/vhosts/example.us`一些重要的目录（不显示权限）

```
current -> /var/www/vhosts/example.us/releases/20120809050127
httpdocs -> current/public/ 
```

有人可以指出导致乘客看不到我的 Rails 应用程序的方向吗？

**编辑**

似乎它与 capistrano 的“当前”符号链接有关。当我通过 ftp 将我的 rails 应用程序移动到服务器，然后将我的 vhost.conf 更改为指向我的项目公用文件夹而不是当前/公用文件夹时，它似乎可以工作。

如果这是根本问题，我该如何解决 capistrano 的符号链接的问题？我原以为`PassengerAppRoot`会解决这个问题。

**编辑**

此行出现在错误日志中

```
[Sun Aug 12 18:02:07 2012] [error] [client 11.1.1.111] Directory index forbidden by Options directive: /var/www/vhosts/example.com/httpdocs/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T02:35:28.127

好像没跑

```
/usr/local/psa/admin/sbin/httpdmng --reconfigure-domain xxx.xx.xx.xx 
```

所以 apache 实际上并没有查看我的 vhosts.conf 文件。

# servlets - 将文件作为参数传递给 ExcelRead java 函数

> ID：11877618
> 
> 赞同：0
> 
> 时间：2012-08-09T06:06:29.727
> 
> 标签：servlets

我是java家族的新手。请尽快提供帮助。我创建了一个 jsp 页面，我在其中给出了

```
<INPUT NAME="F1" TYPE="file" id="i1" > 
<p align="left"><INPUT TYPE="submit" VALUE="submit"> 
```

并浏览其上的excel文件并单击提交按钮。现在我创建了一个 java 类 ExcelRead 扩展了我使用 post 方法的 HttpServlet。

我想将我在jsp页面中浏览的文件（路径）提取为 ServletInputStream contentType = request.getInputStream();

并在 ExcelRead 函数中进行 paas..as.. excel.readExcelSheet(contentType);

然后是能够读取excel表的编码部分。但是，当我在单击提交按钮后在服务器中运行 jsp 页面时，它会引发异常：-

```
java.io.FileNotFoundException: C:\Program Files\Java\jre1.6.0_03\bin\keystore (The system cannot find the path specified)...
java.lang.StackOverflowError... 
```

有人可以建议我在这里做什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T07:29:45.873

你必须使用`org.apache.tomcat.util.http.fileupload.DiskFileUpload`

```
 DiskFileUpload fu = new DiskFileUpload();
              fu.setSizeThreshold(1024);
              fu.setRepositoryPath(System.getProperty("java.io.tmpdir"));
              List fileList = fu.parseRequest(request);
              InputStream uploadedFileStream = null;
              for (Iterator i = fileList.iterator(); i.hasNext(); )
              {
                FileItem fi = (FileItem)i.next();
                if (fi.getSize() < 1)
                  {
                    throw new Exception("No file was uplaoded");
                  }

                  uploadedFileStream = fi.getInputStream();
                  excel.readExcelSheet(uploadedFileStream );
              }
} 
```

在 ExcelRead 中，您必须将方法参数更改为`readExcelSheet(InputStream is)` Hope it help you。

# android - Android 问题中的相机活动

> ID：11877623
> 
> 赞同：0
> 
> 时间：2012-08-09T06:06:39.780
> 
> 标签：android

你好朋友我在我的项目中使用以下代码。

权限：

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.CAMERA" /> 
```

XML 文件：-

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical" android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <TextView android:layout_width="wrap_content"
        android:layout_height="wrap_content" android:text="Camera Test" />
    <ImageView android:id="@+id/camera_image"
        android:layout_width="wrap_content" android:layout_height="wrap_content" />
</LinearLayout> 
```

JAVA文件：-

```
package com.demo.camera;

import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.os.Bundle;
import android.os.Environment;
import android.widget.ImageView;

public class CameraTest extends Activity {

    private static final int CAMERA_PIC_REQUEST = 1111;
    private ImageView mImage;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.camera_test);

        mImage = (ImageView) findViewById(R.id.camera_image);
        //1
        Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        startActivityForResult(intent, CAMERA_PIC_REQUEST);
    }

    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (requestCode == CAMERA_PIC_REQUEST) {
            //2
            Bitmap thumbnail = (Bitmap) data.getExtras().get("data");
            mImage.setImageBitmap(thumbnail);
            //3
            ByteArrayOutputStream bytes = new ByteArrayOutputStream();
            thumbnail.compress(Bitmap.CompressFormat.JPEG, 100, bytes);
            //4
            File file = new File(Environment.getExternalStorageDirectory()+File.separator + "image.jpg");
            try {
                file.createNewFile();
                FileOutputStream fo = new FileOutputStream(file);
                //5
                fo.write(bytes.toByteArray());
                fo.close();
                Intent intent=new Intent(this,Second.class);
                startActivity(intent);
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
    }
} 
```

当我使用此代码时，它还可以为我提供图像的预览，但是当我尝试导航到第二个活动时，我的应用程序挂起......但是，有时它会快速导航到第二个活动。请帮我解决问题。

此外，每次还会将其他文件添加到相机（DCIM）文件夹中，所以我该如何删除它。

谢谢和问候， onkar

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:17:05.997

您也应该检查 resultCode，否则如果您取消，您的应用程序可能会崩溃（例如，如果您没有拍照并单击返回按钮）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T07:08:41.757

还要检查结果代码。其次是您正在使用的代码

```
try {
                file.createNewFile();
                FileOutputStream fo = new FileOutputStream(file);
                //5
                fo.write(bytes.toByteArray());
                fo.close();
                Intent intent=new Intent(this,Second.class);
                startActivity(intent);
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } 
```

这里的意图是在从捕获的位图创建文件后开始的，因此需要时间，有时如果出现异常，您的活动将不会被导航到下一个。您可以在此处使用进度对话框来显示任务的进度

# android - cocos2d：滚动 TMXLayer 口吃

> ID：11877625
> 
> 赞同：0
> 
> 时间：2012-08-09T06:06:44.923
> 
> 标签：android, c++, ios, cocos2d-x, tmx

我`TMXLayer`在背景中垂直向下滚动 a。我在更新中将移动的距离乘以增量时间，所以它应该是平滑的。但事实并非如此。代码片段：

```
void GLayer::update(float delta) {
    //...
    myTMXLayer->setPosition(ccp(0,lastPosition-ammount*delta));
    //...
} 
```

有人可以帮助我获得真正流畅的滚动吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T17:01:09.467

我找到了问题的根源。如果您移动图层的速度比 fps 慢，它会卡顿。我有 60.0 fps，我以 62.0 fps 移动图层。我还将新坐标转换为 int，因为我有页面撕裂。

# xcode - git不跟随移动的文件

> ID：11877630
> 
> 赞同：2
> 
> 时间：2012-08-09T06:07:10.763
> 
> 标签：xcode, git, version-control

我移动了我的项目中的几个文件，但我在我的 Mac 上进行了内部 finder 的移动。我看到 git 源代码控制将文件视为添加。

我还没有提交。git status 显示以下内容：

*   在要提交的更改下，更新/移动的文件列为新文件
*   在 Changes not staged for commit 下，更新/移动的文件列为已修改，原始文件列为已删除。

现在，当我在 Xcode 中与这些文件进行版本比较时，查看器没有历史记录。

[我在这里](https://stackoverflow.com/questions/2314652/is-it-possible-to-move-rename-files-in-git-and-maintain-their-history)查看了接受的答案并尝试了`git log --follow ./pathtomynewfile`。那没有结果。

在版本编辑器中查看更改已成为一种有价值的工具，在这种情况下我想继续。

我可以做些什么来将旧版本历史记录与新的、重新定位的版本联系起来？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:10:33.767

在您提交之前，Git 不一定会将某些内容显示为“移动”。此操作在提交完成时不会被识别，而是在事后通过工具（例如`git log --follow`）完成。基本上，当 Git 工具看到一个新文件出现在历史记录中时，它会四处寻找它可能来自的其他文件（如果相同或相似的文件在同一次提交中被删除，那么 Git 称之为移动）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T07:47:01.480

要么使用`git mv`，要么使用`git add`新文件和`git rm`旧文件。提交时 add 和 rm 都需要在索引中，否则 git 不会将其识别为重命名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:28:36.873

回滚更改，然后使用

> git mv

这样，您的文件将被移动，git 将跟踪移动，保留文件历史记录。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T07:56:26.553

git 很可能会将移动显示为 a`delete`和 an `add`。当您将文件移出 git 时，Git 会执行此操作。

结果是一样的。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-08-09T06:16:13.030

您可以通过 3 个步骤转到以前的稳定版本的代码：

*   使用 git 暂存视图，删除所有暂存文件。（不知道mac下怎么打开）
*   运行**git reset --hard HEAD** 它将重置您所有本地未提交的更改，但不会删除尚未添加到 git 的新添加的文件
*   现在，手动删除 git staging 视图中显示的所有新文件。

# apache - 当 URL 包含 %25 时出现 400 错误请求

> ID：11877642
> 
> 赞同：1
> 
> 时间：2012-08-09T06:08:35.967
> 
> 标签：apache, cakephp, mod-rewrite

我正在使用 CakePHP，并且只面临 %25 编码字符的问题。对于 %22 等其他转义符号，URL 重写似乎非常好。

[SO question](https://stackoverflow.com/questions/3549747/apache-25-in-url-400-bad-request "Apache：网址中的 %25（400 错误请求）")报告了与CodeIgniter类似的问题，但解决方案不能直接应用于我的用例，因为ModRewrite规则不一样。

有人可以帮助我对 CakePHP 更改进行等效更改吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:19:44.837

[您可以使用与此问题](https://stackoverflow.com/questions/3549747/apache-25-in-url-400-bad-request)相同的解决方案，但保留`QSA`部分：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,B,L]
</IfModule> 
```

# crystal-reports - 从 Crystal Report 在 EPSON 热敏打印机中发送自动剪切

> ID：11877647
> 
> 赞同：1
> 
> 时间：2012-08-09T06:09:02.673
> 
> 标签：crystal-reports, thermal-printer

我正在尝试使用 Crystal Report 使用 Windows 驱动程序（EPSON Advanced Printer Driver 4.52ce）打印到 EPSON 热敏打印机 TM-T88IV。由于某些原因，没有选择 OPOS。我使用的是 SAP Crystal Report 2011，尽管我也安装了 Visual Studio 2010。

PaperSource 的打印机设置（打印机 - 打印首选项 - 文档设置 - 纸张来源）设置为 DOCUMENT[Feed, Cut]。报告在报告结尾处很好。

但是，我的要求是有一个报告部分（例如报告页脚），该部分将从报告的上部剪切。一个典型的场景是在销售点收据结束时打印免费停车票。票据虽然是同一张收据的一部分，但为了方便客户，是从收据的上部自动剪切的。

我研究过 ControlA 字体，并在[http://gtts.ehu.es/TWiki/pub/Main/WebNotify/uni-mini-manual.pdf](http://gtts.ehu.es/TWiki/pub/Main/WebNotify/uni-mini-manual.pdf)看到了参考，这让我相信 ControlA 字体可以从 MS Word 中使用2007 用于在我想要的任何地方自动切入文档。但是，这是行不通的。

如果有人可以指导我使用 EPSON TM-T88IV 从 MS Word 2007 自动剪切，那将有很大帮助。如果它有效，我相信它也应该适用于 Crystal。

提前致谢。

*   拉贾希

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T12:27:47.420

尝试这个：

*   将报告的打印机设置为所需的 Epson 打印机（文件 | 页面设置
*   将文本对象添加到报告中的所需位置（可能是组页脚）。
*   向文本对象添加一个“F”（不带单引号）
*   将文本对象的字体更改为“控制”；将字体大小设置为 10

打印报告，看看它是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-06T14:54:47.640

我遇到了这个问题，页面剪切和直到抽屉打开通过旧的 ActiveX 控件工作正常，但无法通过 .NET 水晶查看器工作。

解决方案是创建一个写字板 (RTF) 文档，将控制字符 D 或 A 或 F 等以“控制”字体大小 10 放入该文档中，然后在水晶中将写字板文档作为 OLE 对象插入水晶印花。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-28T11:37:00.443

我在使用 EPSON TM20 收据打印机时遇到了同样的问题。将打印机的设置从打印机 - 打印首选项 - 文档设置 - 纸张来源) DOCUMENT[Feed, Cut] 更改为 Page [Feed, Cut]。并测试它。

目前我正在使用 PHP 和 HTML 将收据打印到热敏打印机。我添加了这些行

. 它工作顺利。

# android - Android将图像发送到服务器

> ID：11877648
> 
> 赞同：1
> 
> 时间：2012-08-09T06:09:06.683
> 
> 标签：android, servlets

```
HttpClient httpclient1 = new DefaultHttpClient();

HttpParams p=new BasicHttpParams();

p.setParameter("vname",name);
p.setParameter("address", addr);
p.setParameter("age", age);
p.setParameter("contact", cnct);
p.setParameter("gender", gen);
p.setParameter("whomto", wtm);
p.setParameter("myFile", f);

HttpPost res1=new HttpPost(result);
res1.setHeader("Content-Type", "text/plain");
res1.setHeader("Content-Type","image/jpeg");

HttpResponse response1 = httpclient1.execute(res1);
HttpEntity entity1 = response1.getEntity();
i1 = entity1.getContent();
BufferedReader reader1 = new BufferedReader(new InputStreamReader(i1,"iso-8859-1"),8);
StringBuilder sb1 = new StringBuilder();
String line1 = null;

if((line1 = reader1.readLine()) != null) {

    sb1.append(line1);
    back=sb1.toString();
}
else{
    Log.e("GET data","null");
}
i1.close();
Log.e("GET",""+back); 
```

//服务器代码 private BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();

```
public void doPost(HttpServletRequest req, HttpServletResponse res)throws ServletException, IOException {

    res.setContentType("text/html");

    Map<String, BlobKey> blobs = blobstoreService.getUploadedBlobs(req);
    BlobKey blobKey = blobs.get("myFile");
    final BlobInfo blobInfo = new BlobInfoFactory().loadBlobInfo(new BlobKey(blobKey.getKeyString()));
    System.out.println(blobInfo.getContentType());
    if(!blobInfo.getContentType().equalsIgnoreCase("image/jpeg")){
        blobstoreService.delete(blobInfo.getBlobKey());
        res.getWriter().println("Please Provide JPG image only");

    } 
```

我正在向服务器发送一个带有其他数据的图像文件。我没有收到任何错误或异常但是当我打印“返回”时，在日志中显示“此 URL 不接受请求的内容类型”。“f”是我的图像文件..有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T07:41:34.740

看看我对与您类似的问题的回答：[链接](https://stackoverflow.com/questions/11860426/upload-and-download-2-or-more-files-to-from-server/11860552#comment15776976_11860552) 它将为您省去编写服务器端代码并​​让您的 android 应用程序发送数据的麻烦，例如。图像给它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-20T20:20:08.193

您正在将 Content-Type 标头设置为两个不同的值，这两个值都不是“multipart/form-data”，我相信这是您在发送文件时需要的。

这是一个应该有帮助的答案： [https ://stackoverflow.com/a/3003402/412558](https://stackoverflow.com/a/3003402/412558)

# objective-c - 我们可以将导航控制器放在 iPad 应用程序的 MasterView 中吗？

> ID：11877650
> 
> 赞同：0
> 
> 时间：2012-08-09T06:09:21.153
> 
> 标签：objective-c, ios, ipad, uinavigationcontroller, master-detail

我主要在 iPhone 应用程序上工作。现在我需要构建一个 iPad 应用程序。我需要将 NavigationController 放在 iPad 的 Master Detail View 的 MasterView 中，就像我们在 iPhone 的 UITableView 中所做的那样。我的意思是当用户选择一个特定的行时，它应该导航到另一个带有新填充数据的 tableview。用户可以通过按后退按钮转到上一个。此外，在每个选择中，我都需要在详细视图中更改图像。

我没有任何想法来实现这一目标。

请提供任何建议或任何示例代码。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T08:57:01.273

在你的 appDelegate`didFinishLaunchingWithOptions`方法中试试这个

```
 MasterViewController *masterViewController = [[[MasterViewController alloc] initWithNibName:@"MasterViewController_iPad" bundle:nil] autorelease];
    UINavigationController *masterNavigationController = [[[UINavigationController alloc] initWithRootViewController:masterViewController] autorelease];

    DetailViewController *detailViewController = [[[DetailViewController alloc] initWithNibName:@"DetailViewController_iPad" bundle:nil] autorelease];
    UINavigationController *detailNavigationController = [[[UINavigationController alloc] initWithRootViewController:detailViewController] autorelease];

    self.splitViewController = [[[UISplitViewController alloc] init] autorelease];
    self.splitViewController.delegate = detailViewController;
    self.splitViewController.viewControllers = [NSArray arrayWithObjects:masterNavigationControlle, detailNavigationController, nil];

    self.window.rootViewController = self.splitViewController;
    [self.window makeKeyAndVisible]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T08:57:31.167

这当然是可能的。您可以在拆分视图控制器的主视图和详细视图中显示的内容没有限制。

将拆分视图视为仅显示两个视图控制器的视图。它们可以包含任何东西。

如果我理解您要正确实现的目标，那么您要做的是创建一个带有 UITableView 的视图控制器，它将在左列中显示数据。这个 View Controller 还应该有一个 UINavigationController，当你在表格中选择一些东西时，它会推送另一个 View Controller。

到现在为止还挺好。细节视图中没有任何变化，因为它实际上不知道或以任何方式连接到主视图。当用户在主视图中向下移动了足够多的步骤，并且您想要更改详细视图 - 然后您可以设置导航控制器的 viewControllers 属性以使用您要显示的任何视图控制器更新详细视图。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-09T10:31:41.310

是的你可以。Apple 提供了一个名为[MultipleDetailViews的示例代码](http://developer.apple.com/library/ios/#samplecode/MultipleDetailViews/Introduction/Intro.html#//apple_ref/doc/uid/DTS40009775)

它显示了如何使用委托在 master 和 detail 之间进行通信。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T10:29:48.330

请参阅这些教程：-

[http://www.icodeblog.com/2010/04/05/ipad-programming-tutorial-hello-world/](http://www.icodeblog.com/2010/04/05/ipad-programming-tutorial-hello-world/)

[http://www.raywenderlich.com/1040/ipad-for-iphone-developers-101-uisplitview-tutorial](http://www.raywenderlich.com/1040/ipad-for-iphone-developers-101-uisplitview-tutorial)

这些会帮助你。

# java - SQL Server 2000 - 远程删除文件

> ID：11877654
> 
> 赞同：0
> 
> 时间：2012-08-09T06:09:35.320
> 
> 标签：java, sql-server-2000, junit4

我正在使用 sp_trace_create 在 Junit 中测试此功能。这正在成功执行。为了能够多次运行，我需要删除创建的跟踪文件。

```
cursor.parseCall("DECLARE @traceid int;" +
                    "EXECUTE @traceid=sp_trace_create ?,?,?,?,? ;" +
                    "SELECT @traceid");
            cursor.registerOutParameter(1, DBType.SQLT_INT);
            cursor.setIntParam(2, 2);
            cursor.setStringParam(3, "C://trace23");
            cursor.setLongParam(4, 4);
            cursor.setDateParam(5, stopDate);

            cursor.executeCall(); 
```

我想知道如何删除在位置 C://trace23.trc 中创建的文件（远程）。

另一种选择是对带有日期的文件名进行时间戳排序

```
 cursor.setStringParam(3, "C://trace"+cal.getTimeInMillis()); 
```

但我不确定这有多正确。

# jquery - 如何扩展手风琴的点击方法

> ID：11877658
> 
> 赞同：0
> 
> 时间：2012-08-09T06:10:17.417
> 
> 标签：jquery, onclick, accordion, extend

我需要扩展手风琴的点击方法。

我有类似的东西：

```
<div id="accordion">
    <h3><a href="#">
    <div id="toChange1">Section </div>1</a></h3>
<div>
    <p>
    Mauris mauris ante, blandit et, ultrices a, suscipit eget, quam. Integer
    ut neque. Vivamus nisi metus, molestie vel, gravida in, condimentum sit
    amet, nunc. Nam a nibh. Donec suscipit eros. Nam mi. Proin viverra leo ut
    odio. Curabitur malesuada. Vestibulum a velit eu ante scelerisque vulputate.
    </p>
</div>
<h3><a href="#"><div id="toChange2">Section </div>2</a></h3>
<div>
    <p>
    Sed non urna. Donec et ante. Phasellus eu ligula. Vestibulum sit amet
    purus. Vivamus hendrerit, dolor at aliquet laoreet, mauris turpis porttitor
    velit, faucibus interdum tellus libero ac justo. Vivamus non quam. In
    suscipit faucibus urna.
    </p>
</div>
<h3><a href="#"><div id="toChange3">Section </div>3</a></h3>
<div>
    <p>
    Nam enim risus, molestie et, porta ac, aliquam ac, risus. Quisque lobortis.
    Phasellus pellentesque purus in massa. Aenean in pede. Phasellus ac libero
    ac tellus pellentesque semper. Sed ac felis. Sed commodo, magna quis
    lacinia ornare, quam ante aliquam nisi, eu iaculis leo purus venenatis dui.
    </p>
    <ul>
        <li>List item one</li>
        <li>List item two</li>
        <li>List item three</li>
    </ul>
</div> 
```

我需要在 h3 中更改 div 的背景颜色。所以我需要调用类似的东西：

```
$("#toChange1").css("backgroundColor","white"); 
```

单击该标题时。有什么建议么？谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:20:52.623

这可能会改变 h3 内内容的背景颜色：

```
$("div[id^=toChange]").on('click', function(e){  
    e.preventDefault();
    $(this).parent().parent().css("background-color","red");
}); 
```

# php - 计算多个文件中的词频

> ID：11877664
> 
> 赞同：0
> 
> 时间：2012-08-09T06:11:02.377
> 
> 标签：php, word, word-frequency

```
<?php

$filename = "largefile.txt";

/* get content of $filename in $content */

$content = strtolower(file_get_contents($filename));

/* split $content into array of substrings of $content i.e wordwise */

$wordArray = preg_split('/[^a-z]/', $content, -1, PREG_SPLIT_NO_EMPTY);

/* "stop words", filter them */

$filteredArray = array_filter($wordArray, function($x){

return !preg_match("/^(.|a|an|and|the|this|at|in|or|of|is|for|to)$/",$x);

});

/* get associative array of values from $filteredArray as keys and their frequency count as value */

$wordFrequencyArray = array_count_values($filteredArray);

/* Sort array from higher to lower, keeping keys */

arsort($wordFrequencyArray); 
```

这是我为找出文件中不同单词的频率而实现的代码。这是有效的。

现在我想做的是，假设有 10 个文本文件。我想计算所有 10 个文件中单词的词频，即如果我想在所有 10 个文件中找到单词“stack”的频率，即单词堆栈在所有文件中出现了多少次。然后会对所有不同的单词执行此操作。

我已经为单个文件完成了它，但不知道如何将它扩展到多个文件。谢谢你的帮助，对不起我的英语不好

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:18:06.937

将您所拥有的内容放入一个函数中并使用[`foreach`](http://www.php.net/manual/en/control-structures.foreach.php)循环为数组中的每个文件名调用它：

```
<?php

$wordFrequencyArray = array();

function countWords($file) use($wordFrequencyArray) {
    /* get content of $filename in $content */
    $content = strtolower(file_get_contents($filename));

    /* split $content into array of substrings of $content i.e wordwise */
    $wordArray = preg_split('/[^a-z]/', $content, -1, PREG_SPLIT_NO_EMPTY);

    /* "stop words", filter them */
    $filteredArray = array_filter($wordArray, function($x){
        return !preg_match("/^(.|a|an|and|the|this|at|in|or|of|is|for|to)$/",$x);
    });

    /* get associative array of values from $filteredArray as keys and their frequency count as value */
    foreach (array_count_values($filteredArray) as $word => $count) {
        if (!isset($wordFrequencyArray[$word])) $wordFrequencyArray[$word] = 0;
        $wordFrequencyArray[$word] += $count;
    }
}
$filenames = array('file1.txt', 'file2.txt', 'file3.txt', 'file4.txt' ...);
foreach ($filenames as $file) {
    countWords($file);
}

print_r($wordFrequencyArray); 
```

# python - 'int' 对象没有属性 'append'

> ID：11877665
> 
> 赞同：4
> 
> 时间：2012-08-09T06:11:06.440
> 
> 标签：python

当我运行此代码时遇到以下错误，我是编程新手，我知道我有一堆无用的数组。我不知道我的错误在哪里，因为我已经声明`j`为一个数组。我完全没有想法。

```
import pyodbc,nltk,array,re,itertools
cnxn = pyodbc.connect('Driver={MySQL ODBC 5.1 Driver};Server=127.0.0.1;Port=3306;Database=information_schema;User=root; Password=1234;Option=3;')
cursor = cnxn.cursor()
cursor.execute("use collegedatabase ;")
cursor.execute("select *  from sampledata ; ")
cnxn.commit()
s=[]
j=[]
x=[]
words = []
w = []
sfq = []
POS=[]
wnl = nltk.WordNetLemmatizer()
p = []
clean= []
l =[]
tupletolist= []
results = []
aux = []
regex = re.compile("\w+\.")
pp = []
array1=[]

f = open("C:\\Users\\vchauhan\\Desktop\\tupletolist.txt","w")
for entry in cursor:
    s.append(entry.injury_type),j.append(entry.injury_desc) 

def isAcceptableChar(character):
    return character not in "~!@#$%^&*()_+`1234567890-={}|:<>?[]\;',/."

from nltk.tokenize import word_tokenize
from nltk.corpus import stopwords
english_stops = set(stopwords.words('english'))
for i in range(0,200):
    j.append(filter(isAcceptableChar, j[i]))
    w.append([word for word in word_tokenize(j[i].lower()) if word not in english_stops])
    for j in range (0,len(w[i])):
        results = regex.search(w[i][j])
            if results:
                str.rstrip(w[i][j],'.')
for a in range(0 , 200):
    sfq.append(" ".join(w[a]))

from nltk.stem import LancasterStemmer
stemmer = LancasterStemmer()

for i in range (0,200):
    pp.append(len(w[i]))

for a in range (0,200):
    p.append(word_tokenize(sfq[a]))
    POS.append([wnl.lemmatize(t) for t in p[a]])
    x.append(nltk.pos_tag(POS[a]))
    clean.append((re.sub('()[\]{}'':/\-[(",)]','',str(x[a]))))
    cursor.execute("update sampledata SET POS = ? where SRNO = ?", (re.sub('()[\]{}'':/\-[(",)]','',str(x[a]))), a)

for i in range (0,len(array1)):
    results.append(regex.search(array1[i][0]))
    if results[i] is not None:
        aux.append(i)

f.write(str(w)) 
```

例外：

```
Traceback (most recent call last):
  File "C:\Users\vchauhan\Desktop\regexsolution_try.py", line 37, in <module>
  j.append(filter(isAcceptableChar, j[i]))
AttributeError: 'int' object has no attribute 'append' 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-09T06:20:58.830

`j`已经使用了一个列表以及一个整数。仅用于`j`整数名称，将列表命名为其他名称。

```
j.append(filter(isAcceptableChar, j[i]))    # j is not a list here,it is an int.
w.append([word for word in word_tokenize(j[i].lower()) if word not in english_stops])
for j in range (0,len(w[i])):               # here j is an int 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-09T06:22:06.323

仔细查看以下代码：

```
for i in range(0,200):
    j.append(filter(isAcceptableChar, j[i]))
    w.append([word for word in word_tokenize(j[i].lower()) if word not in english_stops])
    for j in range (0,len(w[i])): 
```

请注意您是如何第一次调用`.append`on `j`（您之前已使用列表初始化的），然后将其用作嵌套在同一循环中的循环变量。

在代码中使用更好、更有意义的变量名来避免此类错误。重命名循环变量或模块级列表变量。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-09T06:17:23.360

您似乎在循环中使用变量“j”作为整数计数器，即列表“j”被替换为整数“j”，您无法在其中附加某些内容。解决方案：用更复杂的名称重命名变量...

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-09T06:15:17.990

您的缩进被破坏了，但似乎是这条线是罪魁祸首：

```
for j in range (0,len(w[i])): 
```

第一次`j`是一个数组，但是你用 int 隐藏它`j`。很难发现导致错误的原因似乎发生*在*它之后，但是由于它处于循环中，因此这不是真的。尝试重命名这个整数。

# python - 为用户表单提交创建收据

> ID：11877666
> 
> 赞同：0
> 
> 时间：2012-08-09T06:11:14.240
> 
> 标签：python, form-submit

要求我们的用户每月填写并提交一次表格。因此，每个月我们都应该有一个包含三元组数据（用户名、月份、年份）的表单。我希望我们的用户能够通过为他们创建收据来证明他们确实确实提交了该特定月份的表单。因此，每个月都会有一份报告，其中包含用户提交的数据以及收据。我不希望用户能够自己创建该收据。

我的想法是创建一个包含`username`, `month`,的字符串`year`，`secret_word`并将该字符串的**md5 哈希**作为收据提供给用户。这样，因为用户没有密码，他们将无法生成 md5 哈希。然而，当我的用户看到 md5 哈希的复杂性时，他们可能会抱怨。此外，如果找出秘密词，他们将能够为每个人创建收据。

有没有按照我的要求做的标准方法？你能推荐我任何其他可能的解决方案吗？

我正在使用 Python，但可以使用一些伪代码或链接到适当的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T08:38:05.420

@Serafeim，您的方法非常适合这种情况。以下是一些扩展它的想法：

1.  确保 secret_word （在散列术语中称为**salt**）足够长。
2.  使最终功能更复杂一些，例如

    `hash = h(h(username) + month + year + h(salt))`

3.  使用更复杂的哈希函数，例如 SHA1
4.  不要给最终用户整个哈希值。例如，md5 十六进制摘要包含 32 位数字，但报告中包含哈希的前 5-10 位数字就足够了。

**更新：**

如果您有资源，请为每个用户生成**随机**盐。然后，即使用户以某种方式学习了盐和散列函数，对其他人来说仍然无用。

# mysql - 标量子查询

> ID：11877667
> 
> 赞同：3
> 
> 时间：2012-08-09T06:11:21.480
> 
> 标签：mysql, sql, subquery

```
CREATE TABLE t1 (s1 INT, s2 CHAR(5) NOT NULL);
INSERT INTO t1 VALUES(100, 'abcde');
SELECT (SELECT s2 FROM t1); 
```

当我在 MySql DB 中执行时，它给出了类似 1065 的语法错误，select 语句没有执行，这是根据 MySql 调用标量子查询，点击链接获取更多信息 [http://dev.mysql.com/doc/refman/5.1/ en/scalar-subqueries.html](http://dev.mysql.com/doc/refman/5.1/en/scalar-subqueries.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T11:47:51.730

要返回标量值，您的子查询必须返回 ONE 行和 ONE 字段。因此，您应该使用 WHERE 或使用 MySQL LIMIT 语句来限制子查询中的行。例如：

```
SELECT (select s2 FROM t1 limit 1); 
```

[SQLFiddle 示例](http://sqlfiddle.com/#!2/99ce4/3)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T06:15:45.883

您的 select 语句中没有`FROM`子句：

```
SELECT (SELECT s2 FROM t1)
FROM ...? 
```

请注意，这仅在`t1`. `t1`否则，您将需要某种方式从您需要的一行中获取：

```
SELECT (SELECT s2 FROM t1 WHERE ...)
FROM ... 
```

* * *

这种查询的有效示例如下：

```
SELECT (SELECT s2 FROM t1 WHERE s1 = 100), t2.id, t2.name
FROM t2; 
```

# java - Eclipse juno 在 Suse 64 位中出现错误

> ID：11877668
> 
> 赞同：0
> 
> 时间：2012-08-09T06:11:25.103
> 
> 标签：java, linux, eclipse, eclipse-cdt

我已经下载了新的 eclipse juno 和 jdk 7。但它在启动时出错。这是错误。

**Java 运行时环境检测到致命错误：
SIGSEGV (0xb) at pc=0x00002b6312df9c6a, pid=1648, tid=1074792768 JRE 版本：7.0_05-b06
Java VM：Java HotSpot(TM) 64-Bit Server VM (23.1 -b03 混合模式 linux-amd64 压缩 oops)有问题的
帧：
C [libc.so.6+0x75c6a] _wordcopy_fwd_aligned+0x3a
无法写入核心转储。en disabCore 转储已经失败。要启用核心转储，请在再次启动 Java 之前尝试“ulimit -c unlimited”。
包含更多信息的错误报告文件保存为：
/home/jeshwanth/tools/eclipse/hs_err_pid1648.log。**

请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-19T14:45:28.300

似乎与： [https ://bugs.eclipse.org/bugs/show_bug.cgi?id=335086](https://bugs.eclipse.org/bugs/show_bug.cgi?id=335086)

选择工作区时尽量不要使用“浏览”按钮，而是直接输入工作区的路径。

通过避免“浏览”按钮解决了同样的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T07:25:50.913

您还应该从 oracle.com 安装 Java SE 运行时环境 7（JRE 7（64 位））。并且还要检查你的 Eclipse Juno 是 64 位的 linux 版本。

# ios - NSFetchedResultsController 与 NSPredicate 在两个不同的 UIViewControllers - NSRangeException

> ID：11877670
> 
> 赞同：0
> 
> 时间：2012-08-09T06:11:40.613
> 
> 标签：ios, core-data, uiviewcontroller, nspredicate, nsfetchedresultscontroller

我有两个不同的视图，由两个不同的视图控制器控制。每个视图里面都有一个 UITableView。每个 UITableView 都连接到一个 NSFetchedResultsController。在视图 1 中，我不想缩小我的 FRC 结果，所以我不使用谓词。在视图 2 中，我使用谓词来获取基于 BOOL（又名 NSNumber！）值的某些对象。但是当我尝试使用这个谓词时，当我转到视图 2 时，我得到一个 NSRangeException（超出范围的索引 1）。当我切换谓词（视图 1 上的谓词，视图 2 上没有谓词）时，它也会抛出该异常。当我继续查看视图 2 时，再次出现异常。在某些情况下它是成功的（这两种情况都不是我想要的）：

1）我没有对任何一个获取请求使用任何谓词。

2) 我对视图 1 和视图 2 的获取请求使用相同的谓词。

一些代码供您欣赏：

在 View1.m 中：

```
-(NSFetchedResultsController *)fetchedResultsController {
if (_fetchedResultsController != nil) {
    return _fetchedResultsController;
}
NSManagedObjectContext *context = [CoreDataHelper getContext];
NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
NSEntityDescription *entity = [NSEntityDescription
                               entityForName:@"EditableSong" inManagedObjectContext:context];
[fetchRequest setEntity:entity];

NSSortDescriptor *sort = [[NSSortDescriptor alloc]
                          initWithKey:@"dateModified" ascending:NO];
[fetchRequest setSortDescriptors:[NSArray arrayWithObject:sort]];
[fetchRequest setFetchBatchSize:5];
NSFetchedResultsController *theFetchedResultsController =
[[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest
                                    managedObjectContext:context sectionNameKeyPath:nil
                                               cacheName:@"Root"];
self.fetchedResultsController = theFetchedResultsController;
_fetchedResultsController.delegate = self;

return _fetchedResultsController; 
```

}

在 View2.m

```
-(NSFetchedResultsController *)fetchedResultsController {
if (_fetchedResultsController != nil) {
    return _fetchedResultsController;
}
NSManagedObjectContext *context = [CoreDataHelper getContext];
NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
NSEntityDescription *entity = [NSEntityDescription
                               entityForName:@"EditableSong" inManagedObjectContext:context];
[fetchRequest setEntity:entity];
NSSortDescriptor *sort = [[NSSortDescriptor alloc]
                          initWithKey:@"dateModified" ascending:NO];
[fetchRequest setSortDescriptors:[NSArray arrayWithObject:sort]];
NSPredicate *myPredicate = [NSPredicate predicateWithFormat:@"collaborative == %@", [NSNumber numberWithInt:0]];
[fetchRequest setPredicate:myPredicate];
[fetchRequest setFetchBatchSize:5];

NSFetchedResultsController *theFetchedResultsController =
[[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest
                                    managedObjectContext:context sectionNameKeyPath:nil
                                               cacheName:@"Root"];
NSLog(@"here");
self.fetchedResultsController = theFetchedResultsController;
_fetchedResultsController.delegate = self;
return _fetchedResultsController; 
```

}

这就是绿色错误箭头 (SIGABRT) 所指的地方（顺便说一下，这段代码在 View1 和 View2 中是相同的）：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
NSString *MyIdentifier = [NSString stringWithFormat:@"MyIdentifier %i", indexPath.row];
SongTableViewCell *cell = (SongTableViewCell *)[tableView dequeueReusableCellWithIdentifier:MyIdentifier];
if (cell == nil) {
    EditableSong *song = [_fetchedResultsController objectAtIndexPath:indexPath];//<<<------HERE!!! SIGABRT
    song.audioPlayer = [[AudioPlayer alloc] initWithSong:song];
    cell = [[SongTableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:MyIdentifier editableSong:song andVC:self];
    UIButton *playButton = [UIButton buttonWithType:UIButtonTypeCustom];
    [playButton setBackgroundColor:[UIColor clearColor]];
    [playButton setImage:[UIImage imageNamed:@"mainmenuplay.png"] forState:UIControlStateNormal];
    playButton.frame = CGRectMake(300.0f, 15.0f, 65.0f, 65.0f);
    [playButton addTarget:self action:@selector(playSong:) forControlEvents:UIControlEventTouchUpInside];
    [cell.contentView addSubview:playButton];
}
return cell; 
```

}

谢谢！

**更新 1**

这是我的 numberOfRowsInSection 方法（同样，两个类都相同）：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
id  sectionInfo =
[[_fetchedResultsController sections] objectAtIndex:section];
NSLog(@"%i", [sectionInfo numberOfObjects]);
return [sectionInfo numberOfObjects]; 
```

}

作为参考，该日志应该在 View1 中打印 3，在 View2 中打印 1，但两者都打印 3。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T07:04:49.060

您似乎返回了错误数量的单元格。`cellForRowAtIndexPath:`想创建一个单元格，但没有`objectAtIndexPath`.

所以你需要检查你的`numberOfRowsInSection`方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-15T23:44:56.930

问题解决了：

不得不将缓存更改为零。

看到这个帖子：

[http://iphoneincubator.com/blog/data-management/delete-the-nsfetchedresultscontroller-cache-before-chang-the-nspredicate](http://iphoneincubator.com/blog/data-management/delete-the-nsfetchedresultscontroller-cache-before-changing-the-nspredicate)

# java - 用 setParameter 或 setParametrList 奇怪删除数据 HQL

> ID：11877675
> 
> 赞同：1
> 
> 时间：2012-08-09T06:11:52.463
> 
> 标签：java, hibernate, oracle10g, hql

我有一个简单的表，并尝试按 id 数组删除数据。

```
Integer[] arrayIDs = {1,2,3}; //External ids as parameteres
    Query deleteItemsQuery = session.createQuery("DELETE Items WHERE id IN (:idsDeletingItems)"); //(in this row exception)
deleteItemsQuery.setParameterList("idsDeletingItems", arrayIDs);
deleteItemsQuery.executeUpdate(); 
```

我的应用程序抛出异常

我也尝试删除 1 个参数。例如

```
Query deleteItemsQuery = session.createQuery("DELETE Items WHERE id = '1'");
deleteItemsQuery.executeUpdate(); 
```

使用该变体没问题。

但是当我下一步做的时候我也有例外

```
Integer myID = 1;
Query deleteItemsQuery = session.createQuery("DELETE Items WHERE id = (:myID)");
    deleteItemsQuery.setParameter("myID", myID);
    deleteItemsQuery.executeUpdate(); 
```

我使用这种方言 org.hibernate.dialect.Oracle10gDialect。有任何想法吗？

例外

```
exception 

javax.servlet.ServletException: java.lang.NoSuchMethodError: antlr.collections.AST.getLine()I
    org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:295)
    org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:170)
    org.springframework.web.struts.DelegatingActionProxy.execute(DelegatingActionProxy.java:113)
    org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)
    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)
    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
    org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    com.epam.testapp.presentation.filter.CharsetFilter.doFilter(CharsetFilter.java:44)
    com.epam.testapp.presentation.filter.CommandFilter.doFilter(CommandFilter.java:58)

root cause 

java.lang.NoSuchMethodError: antlr.collections.AST.getLine()I
    org.hibernate.hql.internal.ast.HqlSqlWalker.generateNamedParameter(HqlSqlWalker.java:956)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.parameter(HqlSqlBaseWalker.java:4821)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1347)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4297)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3772)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:1947)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:794)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.deleteStatement(HqlSqlBaseWalker.java:443)
    org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:263)
    org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:248)
    org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)
    org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
    org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:105)
    org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
    org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:168)
    org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:219)
    org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:197)
    org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1736)
    com.epam.testapp.database.NewsHibernateDAO.remove(NewsHibernateDAO.java:89)
    com.epam.testapp.presentation.action.NewsAction.delete(NewsAction.java:150)
    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    java.lang.reflect.Method.invoke(Unknown Source)
    org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:269)
    org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:170)
    org.springframework.web.struts.DelegatingActionProxy.execute(DelegatingActionProxy.java:113)
    org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)
    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)
    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
    org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:18:28.257

让它像这样

```
Integer myID = 1;
Query deleteItemsQuery = session.createQuery("DELETE Items WHERE id =:myID");
    deleteItemsQuery.setParameter("myID", myID);
    deleteItemsQuery.executeUpdate(); 
```

并确保“：”和“myID”之间没有空格，否则会出现另一个错误。

希望能帮助到你 ;-）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:18:29.910

我也遇到过一次这个问题，并通过将左大括号和右大括号添加到我的参数而不是直接将其放在 HQL 中来解决它。

# android - Phonegap SQL 抛出错误但仍然成功

> ID：11877678
> 
> 赞同：2
> 
> 时间：2012-08-09T06:11:54.170
> 
> 标签：android, cordova

我目前正在使用 Phonegap 2.0 并在我的应用程序上运行 sql 事务。当应用程序启动时，我有以下代码（编辑以保护某些程序员的后腿）

```
document.addEventListener("deviceready", onDeviceReady, false);
var db;
function onDeviceReady() {
   db = window.openDatabase('gophersspots','1.0','Gophers Spots',200000);
   db.transaction(function(tx){
      tx.executeSql('CREATE TABLE IF NOT EXISTS search_history (searchval_what VARCHAR (500), searchval_where VARCHAR (500), date TIMESTAMP DEFAULT CURRENT_TIMESTAMP)');
   };
}; 
```

在我的一个页面的 pagebeforechange 代码中，我有以下事务：

```
db.transaction(function(tx){

tx.executeSql('SELECT * FROM gophers_search_history ORDER BY date DESC', [], function(tx,results){
          //Do some code here....let's call is Success A.

},function(err){
        alert("Error processing get search SQL: "+err);
        console.log(err.code);
        console.log(err.message);
    },function(){
        //alert("Database SQL query successful!");
    }) 
```

现在这是奇怪的事情。当我运行此查询时，会弹出错误消息。我得到的代码是0，消息是语句回调引发异常或语句错误回调没有返回false

但是成功函数也运行了！成功函数 A 运行，它有结果，一切正常。我错过了什么吗？

不确定这是否相关，但我最近从 Phonegap/Cordova 1.7.0 升级到 2.0.0。我还没有检查文档以查看语法是否发生了变化，这将是我的下一步。只是想检查这里是否有人也有问题？

愿为我解决这个问题的人神秘地继承了一家啤酒厂和终身脱衣舞俱乐部会员资格。阿门。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:58:02.010

设法修复它！事实证明这毕竟不是 SQL 的问题。相反，listview 插件被调用得太早了（这是成功函数 A 的一部分，在上面的代码中）。

# xcode - 如何使用 didSelectRowAtIndexPath 将变量从 uitableview 传递到第二个 tableview？

> ID：11877687
> 
> 赞同：1
> 
> 时间：2012-08-09T06:12:33.780
> 
> 标签：xcode, uitableview, ios5

我想将变量从视图控制器传递到另一个视图控制器，这样当用户在第一个表视图中选择某一行时，应用程序会将他带到另一个视图控制器，其中将显示所选项目的详细信息。这是我的代码：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

    NSString *selectedAuthors = [theauthors objectAtIndex:indexPath.row];

    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
    Details *dvController = [storyboard instantiateViewControllerWithIdentifier:@"Details"]; //Or whatever identifier you have defined in your storyboard

    dvController.selectedAuthors = selectedAuthors;

    UIAlertView *messageAlert = [[UIAlertView alloc]
                                initWithTitle:@"Row Selected" message:authorNAme delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];

   // Display Alert Message
    authorNAme =  [[NSString stringWithFormat:[theauthors objectAtIndex:indexPath.row]] intValue];
 [messageAlert show];

    [self.navigationController pushViewController:dvController animated:YES];
} 
```

selectedAuthors 是一个字符串 authorName 是一个全局变量，我想在其中存储所选行的内容。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T11:29:27.687

我看到你正在使用故事板。

在这种情况下，要将信息发送到下一个视图控制器，您必须实现

```
-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender 
```

每次将要执行 segue 时都会调用此方法。例如，在 didSelectRowAtIndexPath 中，您可以将行的信息保存在字典中，并将其传递给 prepareForSegue 方法中的下一个视图控制器。

有关详细信息，您可以查看名为 SimpleDrillDown 的 Apple 示例项目。它与您需要做的事情相同：http: [//developer.apple.com/library/ios/#samplecode/SimpleDrillDown/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/SimpleDrillDown/Introduction/Intro.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-09T09:00:34.807

```
 NSString *titleString = [[[NSString alloc] initWithFormat:@"Element number :  %d",indexPath.row] autorelease]; 
```

This is the simplest function used to send variables and it just came out of nowhere! For anyone lost this is the best function!!

# c# - C# 中的 Int.Parse 引发格式异常

> ID：11877688
> 
> 赞同：1
> 
> 时间：2012-08-09T06:12:39.280
> 
> 标签：c#, c#-4.0

> **可能重复：**
> [带有前导零的 C# int.parse 问题](https://stackoverflow.com/questions/1677516/c-sharp-int-parse-issue-with-leading-zeros)

我如何将其纠正为带有前导 Zeroes 的 int。实际上需要忽略/删除 FormatException。

```
string value = "055";
int x = int.Parse(value); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T06:16:03.657

它在我的系统上运行良好。

![在此处输入图像描述](../Images/11b8eae0a429a3b353151822172cbc1a.png)

可能问题出在当前文化上，您可以尝试

```
string value = "055";
int x = int.Parse(value, CultureInfo.InvariantCulture); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T06:16:56.697

试试这个：

```
string value = "055";
int x;

if (int.TryParse(value, NumberStyles.Number, CultureInfo.InvariantCulture,out x ))
{
    //use x
}
//use x ; x will be zero if it fails parsing. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-09T06:14:17.787

采用`Int32.TryParse`

```
string value = "055";
int x = 0;

if(int.TryParse(value, out x))
{
    //use x
} 
```

我已经测试过，x 得到 55，它进入 if 语句。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T06:14:47.703

试试这个。。

```
int x = int.parse(value.TrimStart('0')); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T06:17:24.320

`TryParse`如果您不确定是否可以解析，您应该尝试使用

否则试试

```
int.Parse(value,CultureInfo.InvariantCulture); 
```

如果前导零实际上是一个问题（检查你是否可以这样做`int.Parse("0")`），那么它可能是一个不同的问题，[在这里解释：Windows 的本地化组件（不是 .NET）](https://stackoverflow.com/a/1677541/570150)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-09T06:20:11.440

前导零是 C 变体实​​际上意味着一个数字应该被解释为八进制，我很惊讶 .net 抛出异常>

在任何情况下

```
value.TrimStart('0'); 
```

# android - 单击按钮更改语言：Android

> ID：11877689
> 
> 赞同：2
> 
> 时间：2012-08-09T06:12:44.730
> 
> 标签：android, localization

我正在开发一个项目，我必须在单击按钮时更改语言环境。我已将默认语言环境设置为印地语。当应用程序首次启动时，内容以印地语显示。当我点击按钮时，它会变成英文。现在我希望当我再次按下按钮时内容会变回印地语。但这不起作用。我将印地语切换为英语，反之亦然。下面我发布我的代码：

```
public class MainActivity extends Activity 
{
Button btn1;
TextView textView1;
String LOCALE_HINDI = "hi";
String LOCALE_ENGLISH = "en";
Locale mLocale;

public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    mLocale = new Locale(LOCALE_HINDI);
    Locale.setDefault(mLocale); 
    Configuration config = new Configuration();
    config.locale = mLocale;
    getBaseContext().getResources().updateConfiguration(config, 
            getBaseContext().getResources().getDisplayMetrics());
    this.setContentView(R.layout.activity_main);

    btn1 = (Button)findViewById(R.id.btn1);
    textView1 = (TextView)findViewById(R.id.textView1);

    btn1.setOnClickListener(new View.OnClickListener()
    {
        public void onClick(View v)
        {
            if(LOCALE_HINDI.equals(mLocale.toString()))
            {
                mLocale = new Locale(LOCALE_ENGLISH);
                Locale.setDefault(mLocale); 
                Configuration config = new Configuration();
                config.locale = mLocale;
                getBaseContext().getResources().updateConfiguration(config, 
                        getBaseContext().getResources().getDisplayMetrics());
                MainActivity.this.setContentView(R.layout.activity_main);
                Log.d("LocaleTest", "if block");
            }//if
            else if (LOCALE_ENGLISH.equals(mLocale))
            {
                mLocale = new Locale(LOCALE_HINDI);
                Locale.setDefault(mLocale); 
                Configuration config = new Configuration();
                config.locale = mLocale;
                getBaseContext().getResources().updateConfiguration(config, 
                        getBaseContext().getResources().getDisplayMetrics());
                MainActivity.this.setContentView(R.layout.activity_main);
                Log.d("LocaleTest", "else if block");
            }//else if
        }
    });
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:17:43.390

更改`else if`块

```
public class MainActivity extends Activity 
{
   Button btn1;
   TextView textView1;
   String LOCALE_HINDI = "hi";
   String LOCALE_ENGLISH = "en";
   Locale mLocale;

   public void onCreate(Bundle savedInstanceState) 
   {
       super.onCreate(savedInstanceState);
       mLocale = new Locale(LOCALE_HINDI);
       Locale.setDefault(mLocale); 
       Configuration config = new Configuration();
       config.locale = mLocale;
       getBaseContext().getResources().updateConfiguration(config, 
       getBaseContext().getResources().getDisplayMetrics());
       this.setContentView(R.layout.activity_main);

       btn1 = (Button)findViewById(R.id.btn1);
       textView1 = (TextView)findViewById(R.id.textView1);

       btn1.setOnClickListener(new View.OnClickListener()
        {
           public void onClick(View v)
           {
             if(LOCALE_HINDI.equals(mLocale.toString()))
             {
                  mLocale = new Locale(LOCALE_ENGLISH);
                  Locale.setDefault(mLocale); 
                  Configuration config = new Configuration();
                  config.locale = mLocale;
                  getBaseContext().getResources().updateConfiguration(config, 
                  getBaseContext().getResources().getDisplayMetrics());
                  MainActivity.this.setContentView(R.layout.activity_main);
                  Log.d("LocaleTest", "if block");
               }//if
              else if (LOCALE_ENGLISH.equals(mLocale.toString()))
              {
                  mLocale = new Locale(LOCALE_HINDI);
                  Locale.setDefault(mLocale); 
                  Configuration config = new Configuration();
                  config.locale = mLocale;
                  getBaseContext().getResources().updateConfiguration(config, 
                  getBaseContext().getResources().getDisplayMetrics());
                  MainActivity.this.setContentView(R.layout.activity_main);
                  Log.d("LocaleTest", "else if block");
               }//else if
          }
     });
   }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T16:59:36.233

我所做的不是正确的方法。每次我调用 setContentView() 时，我之前的视图都会失效。因此，为了使按钮工作，再次需要按钮的 id 并且需要在按钮上设置 onClickListener。这会造成混乱，块内块等等。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-07-09T15:34:38.527

试试这个方法：

```
 public String languageCheck() {
    String lCode="en";
    if(PersistData.getStringData(getApplicationContext(), "LNG").equalsIgnoreCase("en")) {
        lCode="hi";
    }
    else if(PersistData.getStringData(getApplicationContext(), "LNG").equalsIgnoreCase("hi")) {
        lCode="en";
    }
    return lCode;
} 
```

# asp.net-mvc-3 - 如何在 asp.net mvc 3 中设置文本框的宽度？

> ID：11877690
> 
> 赞同：0
> 
> 时间：2012-08-09T06:13:06.663
> 
> 标签：asp.net-mvc-3, c#-4.0, razor

如何在 asp.net mvc 3 中设置文本框的宽度？这不起作用：

```
@Html.TextBox("Name", new { style = "width:500px" }) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:19:29.877

试试这个，这应该工作..

```
@Html.TextBox("Name", new { @class= "mySize" })

.mySize
{
     width: 500px;
} 
```

同样在您的代码中，尝试添加一个分号，看看是否有效，像这样

```
@Html.TextBox("Name", new { style = "width:500px;" }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T09:35:19.550

我很惊讶@Yasser 作品给出的答案。由于这些扩展方法重载了可以接受多个匿名对象的函数，因此很容易在不经意间使用错误的对象。

[从 MSDN](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.inputextensions.textbox.aspx)，看起来您正在调用此方法：

```
public static MvcHtmlString TextBox(
this HtmlHelper htmlHelper,
string name,
Object value) 
```

其中值是：

> 文本输入元素的值。如果此值为 null，则从 ViewDataDictionary 对象中检索元素的值。如果那里不存在值，则从 ModelStateDictionary 对象中检索该值。

因此 value 用于填充输入。相反，我认为你想要[这个扩展](http://msdn.microsoft.com/en-us/library/dd493049.aspx)：

```
public static MvcHtmlString TextBox(
this HtmlHelper htmlHelper,
string name,
Object value,
Object htmlAttributes) 
```

然后，像这样使用它（传递 null 作为值）将内联样式添加到标记中：

```
@Html.TextBox("Name", null, new { style = "width:500px;" }) 
```

或者：

```
@Html.TextBox("Name", null, new { @class = "myStyle" }) 
```

# android - 数据库连接 pgm 错误-应用程序已停止强制关闭

> ID：11877692
> 
> 赞同：1
> 
> 时间：2012-08-09T06:13:17.740
> 
> 标签：android, android-emulator

我的`xml`

```
android:layout_height="match_parent" 
android:layout_width="match_parent" 
android:orientation="vertical" xmlns:android="http://schemas.android.com/apk/res/android"> 
android:hint="input" android:id="@+id/editText1" android:layout_height="wrap_content" 
android:layout_width="wrap_content"> 
android:id="@+id/senddata" android:layout_height="wrap_content"android:layout_width="wrap_content" android:text="Button"> android:id="@+id/textView1"   android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="" android:textAppearance="?android:attr/textAppearanceMedium" /> 
```

错误

```
08-09 10:46:38.736: W/dalvikvm(337): threadid=1: thread exiting with uncaught exception (group=0x40015560) 
08-09 10:46:38.816: E/AndroidRuntime(337): FATAL EXCEPTION: main 
08-09 10:46:38.816: E/AndroidRuntime(337): java.lang.RuntimeException: Unable to instantiate activity  ComponentInfo{com.example.dbconnectivity/com.example.dbconnectivity.Database}:

java.lang.InstantiationException: com.example.dbconnectivity.Database 
08-09 10:46:38.816: E/AndroidRuntime(337): android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1569) 08-09   0:46:38.816: E/AndroidRuntime(337): 
```

# symfony - Symfony2 中的 LDAP 集成

> ID：11877695
> 
> 赞同：4
> 
> 时间：2012-08-09T06:13:40.877
> 
> 标签：symfony, ldap

我是 symfony 和 LDAP 的新手。是否有任何一步一步的教程或视频将 LDAP 集成到 symfony2 中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T09:18:17.787

我不知道任何关于 Symfony2 中 LDAP 的教程或视频，但这里有 2 个我在许多项目中使用的包：

*   [`OpenSkyLdapBundle`](https://github.com/opensky/LdapBundle/blob/master/README.md)（需要 ZF2 LDAP 组件）
*   [`FR3DLdapBundle`](https://github.com/Maks3w/FR3DLdapBundle/blob/master/Resources/doc/index.md)（与集成`FOSUserBundle`）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-31T22:04:59.513

较新版本的 Symfony2 应该已经支持 LDAP。如果您受限于旧版本，请考虑使用[DapsBundle](https://github.com/relwell/DapsBundle)，因为它的功能是按照 Symfony2 的升级路径设计的，这意味着当您升级 Symfony2 版本时应该更容易。您可以在我的博客[http 上了解更多信息： //robertelwell.info/blog/daps-ldap-symfony2/](http://robertelwell.info/blog/daps-ldap-symfony2/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-02T18:04:28.953

FOSUserBundle 是一个针对数据库对用户进行身份验证的捆绑包，如果您不想使用数据库管理您的用户，那么您必须进行一些自定义以打破 FR3DLdapBundle 中的依赖关系。

编写自己的 UserManager 并在配置中进行设置就足够了。

UserManager 用于第一次创建 User 实例。

# android - 安卓屏蔽

> ID：11877699
> 
> 赞同：3
> 
> 时间：2012-08-09T06:14:12.477
> 
> 标签：android, graphics, android-view

我需要制作一个视图（作为其他视图的掩码）![覆盖](../Images/7e21e9d0ef70891cc060c5e16fbd402e.png)。圆圈是透明的，外部区域是半透明的。我可以使用 canvas.clipRegion(..) 但[http://developer.android.com/guide/topics/graphics/hardware-accel.html](http://developer.android.com/guide/topics/graphics/hardware-accel.html)说它在硬件加速设备中不受支持。我试图通过 Xfermode 制作这个视图，但仍然没有成功。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-24T13:33:33.260

`canvas.drawArc()`方法可以帮助你。

将 Paint 样式设置为`STROKE`,set `Alpha`(150,maybe)

然后，设置`STROKE WIDTH`为填满屏幕。

# github - 将 drupal 沙箱项目克隆到带有提交历史记录的 github 帐户中

> ID：11877702
> 
> 赞同：1
> 
> 时间：2012-08-09T06:14:18.113
> 
> 标签：github

我有一个 drupal 沙盒项目正在运行，我经常更新它。但是当我在 github.com 上登录我的 Github 帐户时，同样没有出现。有没有办法整合两者，以便我推送到我的 drupal 沙箱和提交历史的任何更改也出现在 github.com 上？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:38:11.820

在“[从多个远程位置拉/推](https://stackoverflow.com/a/3195446/6309)”之后，您可以设置本地存储库，以便在一个命令中推送到*两个*上游存储库。

```
[remote "upstreams"]
    url = git@github.com:user/repo.git
    url = your/dropal/sandbox.git 
```

# bash - 如何使用bash脚本遍历文件名中包含特定单词的目录中的文件？

> ID：11877704
> 
> 赞同：4
> 
> 时间：2012-08-09T06:14:19.533
> 
> 标签：bash, loops

我正在尝试使用 bash 脚本遍历目录中包含文件名中某个单词的所有文件。

以下脚本循环遍历目录中的所有文件，

```
cd path/to/directory

for file in *
do
  echo $file
done 
```

`ls | grep 'my_word'`仅给出文件名中包含单词“my_word”的文件。但是我不确定如何用 ls | 替换 * grep 'my_word' 在脚本中。

如果我喜欢这样，

```
for file in ls | grep 'my_word'
do
  echo $file
done 
```

它给了我一个错误“意外标记'|'附近的语法错误”。这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-09T06:25:09.397

您应该尽可能[避免解析 ls](https://mywiki.wooledge.org/ParsingLs)。假设当前目录中没有子目录，则 glob 通常就足够了：

```
for file in *foo*; do echo "$file"; done 
```

* * *

如果您有一个或多个子目录，您可能需要使用`find`. 例如，对于`cat`文件：

```
find . -type f -name "*foo*" | xargs cat 
```

或者，如果您的文件名包含特殊字符，请尝试：

```
find . -type f -name "*foo*" -print0 | xargs -0 cat 
```

* * *

或者，您可以使用[进程替换](http://tldp.org/LDP/abs/html/process-sub.html)和[while 循环](http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_09_02.html)：

```
while IFS= read -r myfile; do echo "$myfile"; done < <(find . -type f -name '*foo*') 
```

或者，如果您的文件名包含特殊字符，请尝试：

```
while IFS= read -r -d '' myfile; do
  echo "$myfile"
done < <(find . -type f -name '*foo*' -print0) 
```

# ruby-on-rails - 基于可能为 nil 的列的条件验证

> ID：11877712
> 
> 赞同：3
> 
> 时间：2012-08-09T06:14:55.440
> 
> 标签：ruby-on-rails, activerecord, model, ruby-on-rails-3.2

我正在尝试在活动记录模型中进行条件验证。

基本上，我正在尝试如果 bill_due_amount 大于零，`bill_due_amount== zero`那么存在日期应该存在，否则如果不需要验证日期。现在我能想到这一点。

```
validates_presence_of :next_fup_date, :if => :check_due_amount_of_bill

def check_due_amount_of_bill
  self.bill_due_amount >= 1
end 
```

我收到错误消息

> nil:NilClass 的未定义方法 `>='

我该如何做这个条件验证？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:22:22.847

你可以这样尝试

```
validates_presence_of :next_fup_date, :if => "bill_due_amount >= 1"
attr_accessor :bill_due_amount 
```

（或者）

```
validates_presence_of :next_fup_date, :if => :check_due_amount_of_bill
attr_accessor :bill_due_amount

def check_due_amount_of_bill
  bill_due_amount >= 1
end 
```

您必须指定 attr_accessor。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T06:25:39.167

问题`bill_due_amount`是`nil`。因此，在您的方法中，您必须先检查`nil`，然后`>= 1`：

```
def check_due_amount_of_bill
  self.bill_due_amount.present? && self.bill_due_amount >= 1
end 
```

# iphone - 在 Xcode 中添加较大的 Power 值

> ID：11877714
> 
> 赞同：0
> 
> 时间：2012-08-09T06:14:58.083
> 
> 标签：iphone, xcode

我是 Objective C 和 iPhone 开发的新手。

我正在使用一个基本的计算器。我想在文本字段中添加一个大值。如何在 Xcode 中显示像这样的大值：6.67543 x 10^ -34？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:28:07.197

您可以使用 NSNumberFormatterScientificStyle 设置 NSNumberFormatter 并调用 stringFromNumber ... 但是，我认为您希望支持的精度问题需要专门的框架。那里可能有一个基于 GNU MP Bignum 库的库，但我不知道。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:24:02.490

使用 Double 数据类型。然后将其转换为字符串，然后将该字符串传递给您的文本字段。

例如：-

```
double result;
NSString *strResult = [[NSNumber numberWithDouble:result] stringValue]; 
```

它会给你指数字符串。

而不是`UILabel`使用`UITextField`.

# c# - 如何为指定的记录只计算一次？

> ID：11877717
> 
> 赞同：1
> 
> 时间：2012-08-09T06:15:12.767
> 
> 标签：c#, sql

即使该行存在多次，如何只计算指定行的一次？

例如我有一个 SQL 查询

```
SELECT COUNT(Date) 
FROM mytable 
WHERE name like '%John%' 
```

但它计算了约翰的所有数字。我需要的是，如果我找到一个 name `John`，我只想数一次，无论 John 的名字是否存在不止一次。

为了显示

```
Name       Date
John       06-09-2012 1am
Robert     06-09-2012 2am
John       06-09-2012 3am 
John       06-09-2012 4am
Robert     06-09-2012 5am 
```

约翰的结果应该是 1。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:26:56.077

您需要`COUNT` `Distinct Date`并且还需要使用`GROUP BY`这样的子句：

```
SELECT Name,COUNT(DISTINCT CONVERT(varchar,date,103)) AS NameCount
FROM mytable WHERE name LIKE '%John%'
GROUP BY name 
```

`name LIKE '%John%'`看到[这个小提琴](http://www.sqlfiddle.com/#!3/961ac/4)。

此外，对于每个用户，请尝试以下操作：

```
SELECT Name,COUNT(DISTINCT CONVERT(varchar,date,103)) AS NameCount
FROM mytable GROUP BY name 
```

[为每个用户查看此 FIDDLE](http://www.sqlfiddle.com/#!3/961ac/6)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-09T06:20:20.800

根据明确要求更新查询

对于甲骨文

> SELECT count(distinct (extract day from date)) FROM mytable WHERE name like '%John%' and Date 不为空；

# ios - 在符合 MKAnnotation 协议的同时动态创建 CLLocationCoordinate2D

> ID：11877722
> 
> 赞同：0
> 
> 时间：2012-08-09T06:15:35.487
> 
> 标签：ios, mkmapview, mkannotation, objective-c-protocol

我有`MyClass`符合`MKAnnotation`协议的。根据[文档](http://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKAnnotation_Protocol/Reference/Reference.html#//apple_ref/occ/intf/MKAnnotation)，需要类来实现`coordinate`应该返回`CLLocationCoordinate2D`实例的属性。我的第一个实现是这样的：

```
-(CLLocationCoordinate2D)coordinate{
   return MKCoordinateForMapPoint(MKMapPointMake(self.details.latitude, self.details.longitude));
} 
```

但这没有用：每当我调用`[self.mapView addAnnotation:instanceOfMyClass];`它时，它根本就没有添加到 ! 的`annotations`数组中`mapView`。

`_coordinate`因此，对我来说，解决方案是在其中定义一个实例变量`MyClass`并实现协议一致性，如下所示：

```
-(CLLocationCoordinate2D)coordinate
{
    _coordinate.latitude = self.details.latitude;
    _coordinate.longitude = self.details.longitude;
    return _coordinate;
} 
```

现在起作用了。所以，这里的问题是为什么需要一个实例变量并且动态创建`CLLocationCoordinate2D`不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:51:34.793

您的 self.details.latitude/longitude 值是否已经是真实/有效的地理坐标？
在这种情况下，您应该使用该`CLLocationCoordinate2DMake(lat,lon)`功能而不是`MKCoordinateForMapPoint(MKMapPointMake())`哪个是错误的。

# java - 具有自定义功能的 QRCode 应用程序

> ID：11877726
> 
> 赞同：0
> 
> 时间：2012-08-09T06:15:58.840
> 
> 标签：java, qr-code

我正在使用[此处找到的 QRCode api](http://viralpatel.net/blogs/create-qr-codes-java-servlet-qr-code-java/)

我通过 Api 成功实现了 QRCode 生成，但结果是这样的

![在此处输入图像描述](../Images/c726d2b6c847005083065c5be6747a1f.png)

*（为了问我的问题，我将颜色从白色更改为黄色）*

所以，现在如果你看到你发现外边界很厚，我希望它变薄..像这样

![在此处输入图像描述](../Images/1593e26b9941c38554176ea91cf750db.png)

我用来生成二维码和改变颜色的代码是这样的

```
public boolean writeImage(String qrMessageForGeneratingQRCode,String filename){

    boolean result = false;

    try{
        int length = 200;
        int breadth = 200;
        BufferedImage originalQRCodeBufferedImage = ImageIO.read(new ByteArrayInputStream(QRCode.from(qrMessageForGeneratingQRCode).withSize(length,breadth).stream().toByteArray()));
        BufferedImage changedQRCodeBufferedImage = new ColorChanger().changeColor(originalQRCodeBufferedImage, Color.WHITE, new Color(255,202,0));
        ImageIO.write(changedQRCodeBufferedImage,FilesUtil.getProperty("QR_CODE_IMAGE_FORMAT") , new File(filename));
        result = true;
    }catch(Exception ex){
        ex.printStackTrace();
        result = false;
    }

    return result;
} 
```

请阐明我如何使用代码来实现这一点....在此先感谢.... Ankur

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T07:55:09.360

二维码周围的静区需要为 4 个模块。你不想减少这个。您提议的图像将更难扫描。

事后您始终可以通过简单的裁剪来编辑 BufferedImage：

```
BufferedImage crop = original.getSubimage(50, 50, original.getWidth() - 2*50, original.getHeight() - 2*50); 
```

顺便说一句，您应该将解决方案中使用的底层 zxing 库更新到至少 2.0，可能是 2.1-SNAPSHOT。1.7 太旧了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T07:20:23.617

明显的答案是减少`length`和`breadth`值。你试过吗？

# windows-phone-7 - PerformanceProgressBar 只显示一个点

> ID：11877729
> 
> 赞同：1
> 
> 时间：2012-08-09T06:16:09.517
> 
> 标签：windows-phone-7, silverlight-toolkit

我在（伪）启动页上使用 Silverlight 工具包中的 PerformanceProgressBar。但是，它只显示一个移动点。怎么了？

```
<Grid x:Name="LayoutRoot" Background="White">
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <Grid x:Name="ActiveSplash" Height="Auto" Width="480" Background="Pink" Grid.Row="1" Visibility="Visible">            
        <Image Name="SplashScreenImage" Source="/SplashScreenImage.jpg"></Image>
        <toolkit:PerformanceProgressBar Width="480" Height="Auto"                                            
                    IsIndeterminate="True" 
                    Foreground="Blue" 
                    Background="Blue"
                    Margin="0,104,0,0" />
    </Grid>
    <Grid x:Name="ContentPanel" Visibility="Collapsed" Grid.Row="2">
        <!-- stuff -->
    </Grid>
</Grid> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T19:29:53.340

您的应用在使用性能进度条时是否进行了大量处理？我注意到你在 UI 线程中拥有的越多，你在栏中看到的点就越少。

尝试在后台线程中进行处理

# asp.net-mvc - 如何在 MVC 3 中重写 URL？

> ID：11877732
> 
> 赞同：0
> 
> 时间：2012-08-09T06:16:15.887
> 
> 标签：asp.net-mvc, url-rewriting, asp.net-mvc-routing

我正在使用 MVC 3。众所周知，MVC 根据控制器中的操作方法名称设置 URL，但我需要稍作修改。

出于安全目的，我不想在 URL 中显示我的操作方法的名称。因此，如果我在 Home 控制器中有 index 方法，则 URL 将是这样的：`www.server/home/index`但我想`www.server/home/test`在浏览器中显示。我可以通过使用`[ActionName]`属性来做到这一点，但是还有其他方法吗？

我可以为此使用自定义路由处理程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T07:45:46.173

作为使用[ActionName](http://msdn.microsoft.com/en-us/library/system.web.mvc.actionnameattribute.aspx "动作名称")的替代方法，您可以定义自定义路由并将其定向到您想要的任何 Controller 和 Action。例如：

```
routes.MapRoute("home/test", "home/test/{id}",
  new { controller = "Home", action = "Index", id = UrlParameter.Optional }); 
```

将采用类似`/home/test`and`/home/test/42`的路径并将它们路由到 Home 控制器的 Index 操作。

`{id}`如果不需要，您也可以省略该部分。例如：

```
routes.MapRoute("home/test", "home/test",
  new { controller = "Home", action = "Index" }); 
```

只会拿`/home/test`。

这也是我在保持大写控制器和操作名称的同时实现小写 URL 的方式。我只是硬编码我所有的路线。

# java - 如何在eclipse插件的路径中设置dll

> ID：11877735
> 
> 赞同：0
> 
> 时间：2012-08-09T06:16:21.643
> 
> 标签：java, eclipse-plugin, java-native-interface, eclipse-rcp

我正在构建一个 Eclipse rcp 插件。它需要加载本机 dll。我在路径 env var 中有 dll，我使用的是 Windows 7。我还检查了 System.getProperty("java.library.path")，我可以看到 dll 所在的文件夹。但是当我执行它时，我仍然收到以下错误。

```
java.lang.UnsatisfiedLinkError: com.cordys.debug.nom.node.Node.writeBytes(III)[B
    at com.cordys.debug.nom.node.Node.writeBytes(Native Method)
    at com.cordys.debug.nom.node.Node.write(Node.java:137)
    at com.cordys.debug.nom.node.Node.write(Node.java:103)
    at com.cordys.debug.nom.node.Node.writeToString(Node.java:65)
    at org.eclipse.jdt.internal.debug.ui.actions.PopupDisplayNodeAction.displayStringResult(PopupDisplayNodeAction.java:115)
    at org.eclipse.jdt.internal.debug.ui.actions.DisplayAction$2.detailComputed(DisplayAction.java:72)
    at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager$EvaluationListener.valueToString(JavaDetailFormattersManager.java:652)
    at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.resolveFormatter(JavaDetailFormattersManager.java:170)
    at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.access$1(JavaDetailFormattersManager.java:143)
    at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager$2.run(JavaDetailFormattersManager.java:138)
    at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2756)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) 
```

那里的任何人都知道如何在 Eclipse 插件的路径中设置 dll？

提前谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-19T11:32:44.190

在这里[使用 Eclipse RCP 的共享库，](http://eclipsesource.com/blogs/2012/08/18/using-shared-libraries-with-eclipse-rcp/)您可以找到一个很好的说明如何做到这一点 - 假设您可以构建包含您的插件的功能。

# c# - 更改主窗口名称后出错

> ID：11877736
> 
> 赞同：5
> 
> 时间：2012-08-09T06:16:26.640
> 
> 标签：c#, wpf

我第一次使用 WPF，我收到这样的错误：

```
Cannot locate resource 'mainwindow.xaml' 
```

那是因为我改了名字。我错过了更改这是其他代码吗？与我之前使用的 Windows Form 相比，我对这种类型的项目不是很熟悉。哪个文件启动应用程序？我一直在解决方案资源管理器中寻找一个。我想这可能是错误所在？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T06:17:33.140

也可以在标签的`StartupUri`属性中更改它。`Application``App.xaml`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T06:49:50.243

重命名窗口项目项后：

*   将 App.xaml 中的启动 URI 重命名为对应的`WindowName.xaml`;
*   检查`x:Class`窗口 XAML 文件中的属性值，它必须与后面代码中的类名匹配。

# c# - 如何确保使用 WMI 在远程机器上结束进程？

> ID：11877740
> 
> 赞同：2
> 
> 时间：2012-08-09T06:16:57.920
> 
> 标签：c#, .net, wmi

此方法使用 WMI 在远程计算机上创建进程

```
public void RunProcess(string processName, int timeoutInMinutes)
{
    ObjectGetOptions objectGetOptions = new ObjectGetOptions();
    ManagementPath managementPath = new ManagementPath("Win32_Process");
    ManagementClass processClass = new ManagementClass(m_managementScope, managementPath, objectGetOptions);

    ManagementBaseObject inParams = processClass.GetMethodParameters("Create");
    inParams["CommandLine"] = processName;
    ManagementBaseObject outParams = processClass.InvokeMethod("Create", inParams, null);

    if (outParams != null)
    {
        string processID = outParams["processId"].ToString();
        WaitForProcessToFinish(processID, timeoutInMinutes);
    }
    else
    {
        throw new Exception("process was not created while tried to run it");
    }
} 
```

虽然此方法获取 processID 并应查询 ID x 的进程是否已结束。由于我无法使用任何 WMI 浏览器执行 WQL（因为它是 EventWatcher 查询）。我需要帮助才能让它工作。

```
private void WaitForProcessToFinish(string processID, int timeoutInMinutes)
{
    const string wmiPollingInSeconds = "10";

    string queryString = string.Format("SELECT * FROM __InstanceOperationEvent WITHIN {0} WHERE TargetInstance ISA 'Win32_Process' AND TargetInstance.Handle={1}", wmiPollingInSeconds, processID);
    WqlEventQuery wql = new WqlEventQuery(queryString);
    ManagementEventWatcher watcher = new ManagementEventWatcher {Query = wql, Scope = m_managementScope};

    int currentTimeoutInminutes = 0;
    while (timeoutInMinutes > currentTimeoutInminutes)
    {
        ManagementBaseObject mbOobj = watcher.WaitForNextEvent();
        if ((((ManagementBaseObject)mbOobj["TargetInstance"])["ProcessID"].ToString() == processID))
        {
            break;
        }
        watcher.Stop();
        throw new Exception(string.Format("couldn't find process {0} to get it's events",processID));
    }
    watcher.Stop();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T16:43:07.953

尝试改用[`__InstanceDeletionEvent`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394650%28v=vs.85%29.aspx)WMI 事件

```
string queryString = string.Format("SELECT * FROM __InstanceDeletionEvent WITHIN {0} WHERE TargetInstance ISA 'Win32_Process' AND TargetInstance.Handle={1}", wmiPollingInSeconds, processID); 
```

# objective-c - UILongPressGestureRecognizer 不适用于 tableview

> ID：11877742
> 
> 赞同：3
> 
> 时间：2012-08-09T06:17:05.637
> 
> 标签：objective-c, ios, xcode, uitableview, ios5

我在 ViewDidLoad 方法中将 UILongPressGestureRecognizer 添加到表视图中。我添加了这个来检测代码中表格视图上的长按。但它永远不会奏效。在 ViewDidLoad 我添加了这段代码：

```
UILongPressGestureRecognizer *lpgr = [[UILongPressGestureRecognizer alloc] 
                                      initWithTarget:self action:@selector(handleLongPress:)];
lpgr.minimumPressDuration = 2.0; //seconds
lpgr.delegate = self;
[self.resultTableView addGestureRecognizer:lpgr];
[lpgr release]; 
```

我还添加了这个方法：

```
-(void)handleLongPress:(UILongPressGestureRecognizer *)gestureRecognizer
{
    CGPoint p = [gestureRecognizer locationInView:self.resultTableView];

    NSIndexPath *indexPath = [self.resultTableView indexPathForRowAtPoint:p];
    if (indexPath == nil) {

        NSLog(@"long press on table view but not on a row");
    }
    else {

        NSLog(@"long press on table view at row %d", indexPath.row);
    }

} 
```

请帮我解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T07:03:53.657

您的代码正在运行。我认为您必须`UIGestureRecognizerDelegate`在 .h 文件中添加委托或如何声明 resultTableView 我的意思是您以编程方式定义或使用 .xib 文件。检查一次。

我试过这样。

```
 resultTableView = [[UITableView alloc] init];
     resultTableView =[[UITableView alloc] initWithFrame:CGRectMake(0, 0, 320, 420) style:UITableViewStylePlain];
    resultTableView.rowHeight = 100.0;
    resultTableView.delegate=self;
     resultTableView.dataSource=self;
    [self.view addSubview:resultTableView];

    UILongPressGestureRecognizer *lpgr = [[UILongPressGestureRecognizer alloc] 
                                          initWithTarget:self action:@selector(handleLongPress:)];
    lpgr.minimumPressDuration = 2.0; //seconds
    lpgr.delegate = self;
    [resultTableView addGestureRecognizer:lpgr];
    [lpgr release]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-09T06:48:59.410

看起来您想将手势添加到各个单元格，但您正在将手势添加到表格中。尝试将手势添加到您的`UITableViewCell`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T16:28:11.763

如果手势识别器被`UITableView`panGestureRecognizer 阻止，请实现委托以确保两者都可以工作

```
 -(BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer
{
    return YES;
} 
```

# python - python 2.6-有效地删除和计算字典列表中的重复项

> ID：11877747
> 
> 赞同：4
> 
> 时间：2012-08-09T06:17:27.523
> 
> 标签：python

我正在尝试有效地改变：

```
[{'text': 'hallo world', 'num': 1}, 
 {'text': 'hallo world', 'num': 2}, 
 {'text': 'hallo world', 'num': 1}, 
 {'text': 'haltlo world', 'num': 1}, 
 {'text': 'hallo world', 'num': 1}, 
 {'text': 'hallo world', 'num': 1}, 
 {'text': 'hallo world', 'num': 1}] 
```

进入没有重复的字典列表和重复的计数：

```
[{'text': 'hallo world', 'num': 2, 'count':1}, 
 {'text': 'hallo world', 'num': 1, 'count':5}, 
 {'text': 'haltlo world', 'num': 1, 'count':1}] 
```

到目前为止，我有以下内容可以找到重复项：

```
result = [dict(tupleized) for tupleized in set(tuple(item.items()) for item in li)] 
```

它返回：

```
[{'text': 'hallo world', 'num': 2}, 
 {'text': 'hallo world', 'num': 1}, 
 {'text': 'haltlo world', 'num': 1}] 
```

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T06:28:56.213

注意：现在使用`frozenset`这意味着字典中的项目必须是可散列的。

```
>>> from collections import defaultdict
>>> from itertools import chain
>>> data = [{'text': 'hallo world', 'num': 1}, {'text': 'hallo world', 'num': 2},  {'text': 'hallo world', 'num': 1}, {'text': 'haltlo world', 'num': 1}, {'text': 'hallo world', 'num': 1}, {'text': 'hallo world', 'num': 1}, {'text': 'hallo world', 'num': 1}]
>>> c = defaultdict(int)
>>> for d in data:
        c[frozenset(d.iteritems())] += 1

>>> [dict(chain(k, (('count', count),))) for k, count in c.iteritems()]
[{'count': 1, 'text': 'haltlo world', 'num': 1}, {'count': 1, 'text': 'hallo world', 'num': 2}, {'count': 5, 'text': 'hallo world', 'num': 1}] 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-09T06:26:57.290

我将使用我的最爱之一`itertools`：

```
from itertools import groupby

def canonicalize_dict(x):
    "Return a (key, value) list sorted by the hash of the key"
    return sorted(x.items(), key=lambda x: hash(x[0]))

def unique_and_count(lst):
    "Return a list of unique dicts with a 'count' key added"
    grouper = groupby(sorted(map(canonicalize_dict, lst)))
    return [dict(k + [("count", len(list(g)))]) for k, g in grouper]

a = [{'text': 'hallo world', 'num': 1},  
     #....
     {'text': 'hallo world', 'num': 1}]

print unique_and_count(a) 
```

输出

```
[{'count': 5, 'text': 'hallo world', 'num': 1}, 
{'count': 1, 'text': 'hallo world', 'num': 2}, 
{'count': 1, 'text': 'haltlo world', 'num': 1}] 
```

正如 gnibbler 指出的那样，[即使键相同，也可能具有不同的](https://stackoverflow.com/a/9793956/566644)`d1.items()`键`d2.items()`顺序，因此我引入了该功能来解决此问题。`canonical_dict`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-11-22T12:51:35.470

想要简单的解决方案而不使用任何内置函数，

```
>>> d = [{'text': 'hallo world', 'num': 1}, 
...  {'text': 'hallo world', 'num': 2}, 
...  {'text': 'hallo world', 'num': 1}, 
...  {'text': 'haltlo world', 'num': 1}, 
...  {'text': 'hallo world', 'num': 1}, 
...  {'text': 'hallo world', 'num': 1}, 
...  {'text': 'hallo world', 'num': 1}]
>>> 
>>> def unique_counter(filesets):
...      for i in filesets:
...          i['count'] = sum([1 for j in filesets if j['num'] == i['num']])
...      return {k['num']:k for k in filesets}.values()
... 
>>> unique_counter(d)
[{'count': 6, 'text': 'hallo world', 'num': 1}, {'count': 1, 'text': 'hallo world', 'num': 2}] 
```

# joomla - 在 Joomla 2.5 中卸载 SEO Boss 扩展时出现问题

> ID：11877753
> 
> 赞同：2
> 
> 时间：2012-08-09T06:18:12.163
> 
> 标签：joomla, joomla-extensions, joomla2.5, joomla-component

我创建了一个名为`www.connectedipvoice.com`并安装了 SEO Boss 扩展的网站。不知何故，它无法正常工作，因此我尝试使用我的网站上的管理员模式将其删除，但它显示一条消息：

> JFolder: :delete: 路径不是文件夹。路径：/home/content/54/9492054/html/components/com_seoboss 组件卸载：无法卸载。请手动删除

然后我尝试直接从服务器卸载，但它也没有显示在那里。我的问题是当我尝试再次安装它时 - 它显示文件已经安装，当我检查*扩展区域*> *管理*类别时，我发现 SEO Boss 扩展仍然存在。但现在我无法获得删除它的选项 - 状态列变为空白！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T12:27:37.373

要正确卸载它（以便您可以再次安装），您还需要删除表中名为 #__extensions 的组件引用

在元素字段中搜索包含“com_seoboss”的任何内容并将其删除。

然后你应该能够再次安装它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T14:10:34.107

您还应该查找并删除它 - /home/content/54/9492054/html/administrator/components/com_seoboss

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T10:09:24.433

我不太确定“我试图直接从服务器卸载”是什么意思。无论如何，当我尝试从网站上卸载美德玛特时，我遇到了类似的问题。对我有用的是：

1.  手动删除所有组件文件夹（使用像[Filezilla](http://filezilla-project.org/)这样的 FTP 客户端）
2.  手动从数据库中删除所有组件表（使用 phpMyAdmin）

如果您尝试此解决方案，请确保首先备份您的数据库。希望这可以帮助。

# javascript - Javascript-Android 获取选定的文本脚本

> ID：11877754
> 
> 赞同：0
> 
> 时间：2012-08-09T06:18:15.237
> 
> 标签：javascript, android, html

我试图从 android 设备中每个 touchend 事件的 html 页面中获取选定的文本，但无法获取选定的文本。

Javascript代码是：

```
if(window.getSelection)
{
    t = window.getSelection();
}
else if(document.getSelection)
{
    t = document.getSelection();
}
else if(document.selection)
{
    t = document.selection.createRange().text;
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:30:46.357

您是在 webview 中执行此操作吗？

`window.getSelection()`返回选择对象。您可以通过调用获取文本`toString()`

```
if( window.getSelection){
   t = window.getSelection().toString();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-11-20T21:51:59.277

如果要在文本选择后立即调用函数，可以使用“selectionchange”事件：

```
document.addEventListener("selectionchange", handleSelection); 
```

它适用于 android chrome 和 iOS safari（但不适用于 android mozilla 和 opera）。

# postgresql - DbLinq "char" 特殊字符

> ID：11877761
> 
> 赞同：0
> 
> 时间：2012-08-09T06:18:58.613
> 
> 标签：postgresql, char, dblinq

我使用 DbMetal 工具为我的数据库生成一个类。它起作用了，但后来我在数据库中添加了一些“char”类型。现在，当我尝试生成类时，我得到了错误

```
DbMetal : Don't know how to convert the SQL type '"char"' into a managed type. Parameter name : dataType 
```

有没有人遇到过这个？有解决方法或替代方法吗？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T02:51:27.177

你真的是说`"char"`哪个是用于存储单字节信息的特殊 Postgres 类型？或者你的意思是`char(n)`或`varchar(n)`？

一般来说，除了一些罕见的情况外，`varchar()`都是`text`首选。除非您引用`"char"`它假定您的意思是标准 SQL`char`类型。这不是 PostgreSQL 中更自我记录的决定之一......

如果`"char"`支持不佳，我不会感到惊讶。如果您真的需要使用它（或者即使不需要），如果这种情况仍然存在，那么使用 nogsql 提交错误报告是值得的。作为一种解决方法，使用标准类型 mile `char(1)`。

# c++ - 可变参数

> ID：11877769
> 
> 赞同：-1
> 
> 时间：2012-08-09T06:19:44.837
> 
> 标签：c++, c

是否有一种非增强方法来创建具有可变参数的函数？我知道~~参数类型~~ *参数的数量，*它们是~~通常~~少于 5 个，*都是同一类型*。

我需要知道是否有办法不提供参数计数或以 null 结束参数列表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:21:43.873

> 我知道参数类型，它们通常少于 5 个。

如果它不会大于`5`，那么简单的重载*可能*会起作用。调用从所有其他接受少于 5 个参数的重载中接受最大参数数量的重载，或定义一个工作（内部）函数，从重载中调用它。

如果可能，您可以为某些参数使用默认值，如果这有助于减少重载函数的数量。

在 C++11 中，您可以使用[variadic-template](http://en.wikipedia.org/wiki/Variadic_template)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T07:20:15.630

对于最多 5 个相同类型的参数，简单的重载可以解决问题。

为了更通用，支持任意数量的相同类型的参数，只需传递一个集合，例如 a `std::vector`。

有关在每次调用中即时构建此类集合的 C++03 技术，请参阅[我的其他答案](https://stackoverflow.com/a/11877917/464581)；对于 C++11，如果您不需要支持 Visual C++，则可以使用花括号初始化器列表作为实际参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:22:42.827

cstdarg是你要找的吗[？](http://www.cplusplus.com/reference/clibrary/cstdarg/)这是生成具有可变数量参数的函数的标准 C++ 方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T06:23:40.850

您应该能够使用[va_list](http://linux.die.net/man/3/stdarg)实现传递变量参数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T06:31:21.660

作为一般的 C++03 解决方案，您可以提供一个 setter，它返回对调用它的对象的引用，以便可以再次调用它。然后再次。等等，称为**链接**。

它与 iostreams 用于`operator<<`.

例如

```
#include <iostream>
#include <sstream>
#include <string>
using namespace std;

void foo( char const s[] )
{
    cout << s << endl;
}

class StringBuilder
{
private:
    string      s_;

    template< class Type >
    string fastStringFrom( Type const& v )
    {
        stringstream stream;
        stream << v;
        return stream.str();
    }

    char const* fastStringFrom( char const* s )
    {
        return s;
    }

    string const& fastStringFrom( string const& s )
    {
        return s;
    }

public:
    template< class Type >
    StringBuilder& operator<<( Type const& v )
    {
        s_ += fastStringFrom( v );
        return *this;                   // Supports chaining.
    }

    operator string const& () const { return s_; }
    operator char const* () const { return s_.c_str(); }
};

int main()
{
    typedef StringBuilder S;

    foo( S() << "6*7 = " << 6*7 << "." );   // Any number of arguments.
} 
```

无需将参数值转换为文本，您只需执行所需的任何操作。例如，使用一组固定的可能类型，您可以将参数存储在集合中。

如果您不需要支持 Visual C++ 编译器，那么您也可以使用 C++11*可变参数模板*。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-09T06:40:23.290

你可以：

*   如果您使用的是 C++11，则可以使用可变参数模板，否则...
*   提供重载
*   使用默认为您可以识别的一些哨兵值的参数`f(const T& v1 = missing, const T& v2 = missing, ...) { if (v5 != missing) ...`
*   创建一个简单的帮助模板，可以选择从数据类型构造，并有一个 bool 来跟踪它是否是
    *   您可能需要通过使用 new/delete （简单且安全但缓慢）或放置对齐的缓冲区`new`，手动销毁等来支持没有默认构造函数的类型。（繁琐且更容易出错但更快）
*   一些编译器支持可变参数宏
*   如果您准备稍微更改调用语法，则可以使用任意数量的东西：
    *   接受向量（如果类型不同，则使用联合或变体）
    *   接受一个数组（可能使用`template <size_t N> void f(T (&data)[N]) { ... }`技巧让编译器自动为您提供数组大小）
    *   某种 lhs 对象，可以使用诸如`operator,`或之类的运算符为其提供额外的值`operator<<`

# image - 显示图像并将动态数据传递到 pyrocms 页面

> ID：11877771
> 
> 赞同：0
> 
> 时间：2012-08-09T06:19:47.877
> 
> 标签：image, codeigniter, dynamic-data, pyrocms

我需要在我从内容/页面开发的页面上显示图像。但我不知道如何显示图像并将动态数据传递到此页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T09:59:16.750

好！在等待人们回答后，我做了一些研究，发现这项工作是通过标签完成的，并且涉及到部分的使用。

# c# - 如何通过单击保存按钮将数据添加到列表框：

> ID：11877779
> 
> 赞同：0
> 
> 时间：2012-08-09T06:20:39.747
> 
> 标签：c#, asp.net

如何通过按“保存”按钮将数据添加到 listbox1。我已经完成了 listbox1 的代码，但没有完成按钮的代码。下面是代码

```
 namespace WindowsFormsApplication1 
  {
     public partial class Form1 : Form
     {
         public Form1()
         {
             InitializeComponent();
         }

         private void button1_Click(object sender, EventArgs e)
         {

         }

         private void listBox1_SelectedIndexChanged(object sender, EventArgs e)
         {
             listBox1.Items.Add(textBox1.Text);
             listBox1.Items.Add(textBox2.Text);
             listBox1.Items.Add(textBox3.Text);
             listBox1.Items.Add(textBox4.Text);
         }
     } 
  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T06:37:51.950

删除`listBox1_SelectedIndexChanged`事件并将内容放入`button1_Click`事件中。

它应该如下所示：

```
namespace WindowsFormsApplication1 
{
  public partial class Form1 : Form
  {
     public Form1()
     {
         InitializeComponent();
     }

     private void button1_Click(object sender, EventArgs e)
     {
         listBox1.Items.Add(textBox1.Text);
         listBox1.Items.Add(textBox2.Text);
         listBox1.Items.Add(textBox3.Text);
         listBox1.Items.Add(textBox4.Text);
      }

  } 
} 
```

并且不要忘记从**UI**编辑器`listBox1_SelectedIndexChanged`的 ListBox 中删除事件。

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:28:48.430

如果您希望在按钮上单击与 SelectedIndexChanged() 上相同的事情，您只需复制代码。

```
private void button1_Click(object sender, EventArgs e)
{
    listBox1.Items.Add(textBox1.Text);
    listBox1.Items.Add(textBox2.Text);
    listBox1.Items.Add(textBox3.Text);
    listBox1.Items.Add(textBox4.Text);
}

private void listBox1_SelectedIndexChanged(object sender, EventArgs e)
{
    /*listBox1.Items.Add(textBox1.Text);
    listBox1.Items.Add(textBox2.Text);
    listBox1.Items.Add(textBox3.Text);
    listBox1.Items.Add(textBox4.Text);*/
} 
```

如果不是这样，您必须提供更多关于应该发生什么的信息。**

# php - SQL - 连接两个表

> ID：11877786
> 
> 赞同：0
> 
> 时间：2012-08-09T06:21:07.727
> 
> 标签：php, mysql, sql

我试图掌握在 SQL 中加入表的主题。我知道有多个连接，但不确定在这里实现哪个：

这是我在 php 中的 SQL 行：

```
$sql=mysql_query("
SELECT * FROM comments 
WHERE item_id = '{$item_id}' 
   AND review > '' 
ORDER BY good DESC, rate_id ASC"); 
```

这就是我想要加入的：另一个名为“users”的表。*“users”和“comments”都有一个名为“user_id”的列要加入。*我想将这两者关联起来以在 users 表中找到完整的“用户名”。

**我知道 SELECT**不是最佳实践；但是为了这个演示，你能把它包括在这里吗？我也知道需要注意的 MySQL 注入可能性。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:23:48.080

我建议您使用`ANSI SQL-92`格式而不是`ANSI SQL-89`. 试试这个：

```
SELECT a.* , b.*
FROM comments a
        INNER JOIN users b
            ON a.user_id = b.user_id
WHERE item_id = '{$item_id}'  AND 
      review > '' 
ORDER BY good DESC, rate_id ASC 
```

**[JOIN 的良好定义 在](http://mysqljoin.com/)**
**[此处阅读：INNER JOIN (ANSI SQL-89 vs ANSI SQL-92)](https://stackoverflow.com/a/11768715/491243)**

附加信息：

由于您为此使用 PHP，我还建议使用[**PHP PDO 技术**](http://php.net/manual/en/book.pdo.php)

一个例子是：

```
<?php

$stmt = $dbh->prepare("SELECT a.* , b.*
    FROM comments a
            INNER JOIN users b
                ON a.user_id = b.user_id
    WHERE item_id = ?  AND 
          review > ? 
    ORDER BY good DESC, rate_id ASC");

$stmt->bindParam(1, $item_id);
$stmt->bindParam(2, '');
$stmt->execute();

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:22:29.033

试试这个，学习加入看[这里](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

```
SELECT c.* , u.*
FROM comments c
     INNER JOIN users u
         ON c.user_id = u.user_id
WHERE item_id = '{$item_id}' 
      AND review > '' 
ORDER BY good DESC, rate_id ASC; 
```

# php - 如何在 MySQL 中创建模式？

> ID：11877788
> 
> 赞同：4
> 
> 时间：2012-08-09T06:21:09.703
> 
> 标签：php, mysql

如何使用现有表创建架构。我有 100 个表，现在我想为这个表创建一个模式，你能告诉程序如何或任何工具。

我正在尝试 TOAD，但它以 HTML 格式显示结果。我想要 SQL 中的结果。

如何使用 PHP 创建模式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:33:08.403

`show create table <tablename>`如果您只需要模式而不需要数据，则 mysql 命令行工具中的单个语句就足够了。结果将是一个完整的创建表 ddl

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T10:00:35.660

您可以使用 mysql 工作台，与那里的现有数据库连接，您可以导入和导出 sql 格式的模式

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:25:31.480

[http://dev.mysql.com/doc/refman/5.5/en/mysqldump.html#option_mysqldump_no-data](http://dev.mysql.com/doc/refman/5.5/en/mysqldump.html#option_mysqldump_no-data)

那是：

`mysqldump --no-data -u <username> -p --database <dbname> <further options> > <dbname>.sql`

从命令行，在服务器上（可能通过 ssh）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T06:51:04.253

*...你能告诉程序如何或任何工具*

[您可以在dbForge Studio for MySQL](http://www.devart.com/dbforge/mysql/studio/)中使用“生成模式脚本”或“备份”GUI 工具。

有限备份提供免费快递版本，备份文件大小限制为 1MB，足以容纳 100 个表模式。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T06:26:47.203

获取所有表的转储，以便获得架构...请参阅此[转储](http://www.thegeekstuff.com/2008/09/backup-and-restore-mysql-database-using-mysqldump/)

# mysqldump -u root -p[root_password] [database_name] > dumpfilename.sql

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-09T06:27:10.257

```
mysqldump --user MYSQL_USER --password=MYSQL_PASSWORD --add-locks --flush-privileges \
--add-drop-table --complete-insert --extended-insert --single-transaction \
--database DB_TO_BACKUP > FILENAME_FOR_SQL_STATEMENTS 
```

这将提供一个完整的文件，其中包含可用于重新创建数据库的 SQL 创建和插入语句。反斜杠“\”继续到下一行......您可能想忽略它并将整个命令写在一行中

现在，我不确定您是想使用数据还是只使用表来使用整个 Db ...您可能想用它`--no-data`来摆脱插入 SQL 语句，而只是创建和删除（和锁定）语句，例如

```
mysqldump --user MYSQL_USER --password=MYSQL_PASSWORD --add-locks --flush-privileges \
--add-drop-table --no-data --single-transaction \
--database DB_TO_BACKUP > FILENAME_FOR_SQL_STATEMENTS 
```

# sql - 在 oracle 中修改视图

> ID：11877789
> 
> 赞同：1
> 
> 时间：2012-08-09T06:21:12.977
> 
> 标签：sql, oracle, sql-view

我正在甲骨文做我的功课。

我必须创建一个复杂的视图，在创建视图之后，我必须对其进行修改。

问题是视图的创建必须能够处理不`department_name`存在的情况。我不确定我是否必须使用这个`NVL(d.department_name, 'No department established yet')`

第二个问题是我必须修改视图以将列名更改为别名，例如将部门名称更改为“部门”，并在视图中包含视图中未包含的其他国家/地区。以下是我创建的视图，我需要帮助。

```
CREATE VIEW jack_vu AS
SELECT NVL(d.department_name, 'No department established yet') "department_name"
     , l.city
     , l.state_province
  FROM locations l 
  JOIN departments d
    ON (l.location_id = d.location_id)
 WHERE UPPER(l.country_id) LIKE 'CA'
    OR UPPER(l.country_id) LIKE 'IT'; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:36:41.970

看起来你在正确的轨道上。NVL 函数用于处理空值，所以这似乎没问题。您已经在使用别名“department_name”。您还可以对普通列使用别名，即：从表中选择 column_name 作为“别名”；

您还可以使用“创建或替换视图...”来更改已经存在的视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:55:14.340

NVL() 是正确的做法，但你永远不会得到 deparment_name 的空值（除非它存储在部门表中），因为你的查询使用的是“INNER JOIN”

您想要的是在位置和部门之间使用外部联接，其中将包括结果中尚未（尚未）分配给部门的位置。

顺便说一句，不需要 LIKE 运算符。当您进行平等检查时。为了使添加国家更容易，使用`IN`运算符将​​减少输入（尽管它`OR`会工作得很好）

```
SELECT ...
FROM locations l 
  LEFT JOIN departments d ON (l.location_id = d.location_id) -- the LEFT is the difference
WHERE UPPER(l.country_id) IN  ('CA','IT'); -- add more countries here. 
```

如果你不明白这里发生了什么，你可能想阅读外连接（例如这里：[http](http://www.devx.com/dbzone/Article/17403/1954?pf=true) ://www.devx.com/dbzone/Article/17403/1954?pf=true ）

您已经知道如何通过为 NVL 函数的结果提供别名“department_name”来为已经使用过的列赋予新名称。因此，如果应将其命名为“部门”，则只需更改名称即可。我个人更喜欢使用`AS`来引入列别名。我认为它使意图更加清晰。

```
SELECT NVL(d.department_name, 'No department established yet') as "Departments" 
```

# macos - NSStringDrawingUsesDeviceMetrics 标志是什么意思，我们如何使用它？

> ID：11877791
> 
> 赞同：2
> 
> 时间：2012-08-09T06:21:34.450
> 
> 标签：macos, cocoa, text, fonts

这个问题与我在[How do we measure visible bounds of text in Cocoa?](https://stackoverflow.com/questions/11766189/how-do-we-measure-visible-bounds-of-text-in-cocoa#comment15682813_11766354) .

这里有几个链接解释了标志的含义。
[Apple docs](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSStringDrawingUsesDeviceMetrics)
[Apple 列出了对类似问题的回答](http://lists.apple.com/archives/Cocoa-dev/2006/Feb/msg00560.html)

从上面，我猜想`NSStringDrawingUsesDeviceMetrics`获得文本的可见边界的选项，但它似乎没有这样做。在输入（字体和字符串）中，我尝试给予该方法`boundingRectWithSize:options:attributes:`，当给出标志时与未给出标志时相比，没有任何输出不同。我做错了什么还是可可中的错误？

谢谢

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2012-08-09T06:54:46.160

谷歌这个猴子补丁

NS（属性）字符串+几何

它相当可靠地解决了这个问题。

# moles - 使用 Moles 进行单元测试以实现紧密耦合的 3rd 方 DLL

> ID：11877798
> 
> 赞同：0
> 
> 时间：2012-08-09T06:22:19.563
> 
> 标签：moles, pex

我是 PEX 和 Moles 的新手，只是想知道如何用下面的痣进行单元测试。

我只需要一个 UniDynArray 来测试。但是创建 UniDynArray 依赖于 UniSession，而 UniSession 依赖于 UniObjects.OpenConnection。当我运行此代码时，我从第三方 dll 收到错误，说会话未打开

请帮忙

```
[TestMethod, HostType("Moles")]
    public void Constructor2WithMoles()
    {
        using (MolesContext.Create())
        {
            //Should I make the Third party session like this ???
            MUniSession msession = new MUniSession();

            //Here What Actually Happens in the code is uniObject opensession return session
            // UniSession session = UniObjects.OpenSession(a,b,c,d); How should i do this
           //???? MUniObjects.OpenSessionStringStringStringString = (a, b, c, d) => msession;

            MUniDynArray mdata = new MUniDynArray();

            mdata.InsertInt32Int32String = (column, index, strValue) =>
                                               {
                                                   column = 1;
                                                   index = 1;
                                                   strValue = "Personal Auto";
                                               };

            mdata.InsertInt32Int32String = (column, index, strValue) =>
                                               {
                                                   column = 2;
                                                   index = 1;
                                                   strValue = "1.1";
                                               };

            mdata.InsertInt32Int32String = (column, index, strValue) =>
            {
                column = 3;
                index = 1;
                strValue = "05/05/2005";
            };

            mdata.InsertInt32Int32String = (column, index, strValue) =>
            {
                column = 4;
                index = 1;
                strValue = "Some Description";
            };

            mdata.InsertInt32Int32String = (column, index, strValue) =>
            {
                column = 5;
                index = 1;
                strValue = "20";
            };

            mdata.InsertInt32Int32String = (column, index, strValue) =>
            {
                column = 6;
                index = 1;
                strValue = "1";
            };

            History target = new History(mdata, 1);

            Assert.AreEqual<string>("Some Description", target.Description);
        }
        // TODO: CREATE Mole asserts
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T18:45:54.607

首先，我强烈建议在 .NET 4.5 和 Visual Studio 2012（2012 年 9 月 12 日发布）中等待使用 Fakes *Stub*和*Shim类型。*Fakes 是 Moles 的产品化版本。要开始使用 Fakes，[请下载免费的 Ultimate 版本的 VS2012 Release Candidate](http://www.microsoft.com/visualstudio/11/en-us/downloads#ultimate)。

要回答您的问题，您应该使用[Dependency Injection 设计模式](http://martinfowler.com/articles/injection.html)隔离您的 3rd 方依赖项。许多 Shim/Mole 类型的用户忽略了实现依赖注入模式——仅在没有其他选项时才使用 Shim/Mole 类型。我假设第 3 方库公开了接口。Fakes/Moles 自动将接口转换为可用于测试的 Stub 类型。您需要从接口创建具体的存根，以供生产代码使用。这些存根只是目标 3rd 方库类型的包装器。查看任何关于依赖注入的文章，了解如何实现该模式的详细信息——这种模式实现起来既快速又容易，尤其是在使用重构工具时，例如[Resharper](http://www.jetbrains.com/resharper/)或[重构！临](http://devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/refactor_pro.xml)。

Stub 类型方法调用被绕道，使用与 Shim/Mole 类型相同的 lambda/delegate 语法。存根类型适用于生成单个或少量测试所特有的存根。否则，创建用于多个测试的具体测试存根是最佳选择。

# c# - 二维数组从中间插入并移位

> ID：11877801
> 
> 赞同：0
> 
> 时间：2012-08-09T06:22:31.363
> 
> 标签：c#, arrays, list, data-structures, multidimensional-array

我有一个二维数组：

```
object[,] cells; 
```

初始化后，我想在中间插入一个矩形范围。然后为了腾出空间，我需要向下或向右移动一个矩形块。（就像你在 Excel 中所做的那样）

使用上面的数据结构，这似乎不是很容易。会一个，

```
List < List < object > > 
```

更容易处理这些操作（可以有很多这样的操作，所以性能真的很重要）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:24:51.407

是的，`List < List < object > >`如果您需要删除/插入项目，请使用 a。数组无法重新调整大小，因此无法使用数组实现您想要的。

# ruby-on-rails - 将 json 从一个 Rails 应用程序发送到另一个应用程序

> ID：11877802
> 
> 赞同：1
> 
> 时间：2012-08-09T06:22:40.363
> 
> 标签：ruby-on-rails

我的问题在这里很简单。我想将 json 数据从一个 Rails 应用程序通过`POST`. 我该如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:50:04.417

[您可以在此处](http://www.youtube.com/watch?v=sF-m3P-Mrm8)找到如何使用 ActiveResource 执行此操作的完整架构示例。 如果您只需要一个简单的调用，我建议将[REST-client](https://github.com/archiloque/rest-client)用于调用方。

提供商方面非常标准。只需公开一个响应 JSON 帖子的操作。如果您需要更多详细信息，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:50:44.063

[让一个 Rails 应用程序通过控制器中的 POST 操作接受 JSON，并让另一个 Rails 应用程序通过诸如rest-client](https://github.com/archiloque/rest-client)之类的 HTTP 库提交 JSON 。

# android - 在android中等效的objective C块

> ID：11877806
> 
> 赞同：0
> 
> 时间：2012-08-09T06:23:06.963
> 
> 标签：android, ios

我正在寻找与 Android 上的 Objective-C 中存在的块等效的块。

因为我正在寻找异步数据和后台线程的最佳实践。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:25:23.120

Java 中没有直接的等价物。最接近的是匿名侦听器，它们是类的本地创建和实例化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:30:10.710

Java 不支持块之类的东西，但根据您要完成的任务，[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)可能就足够了。

# sql-server - 找不到添加的新文件组的 .ndf 文件

> ID：11877809
> 
> 赞同：0
> 
> 时间：2012-08-09T06:23:21.930
> 
> 标签：sql-server, sql-server-2008, sql-server-2005

当我在 SQL Server 中运行此语句时：

```
USE [master]
GO
ALTER DATABASE <DBName> ADD FILEGROUP <[FGName]> 
```

磁盘上创建的相应`.ndf`文件在哪里？

当我运行该查询时，它是成功的，我能够找到正在添加到`sys.filegroups`表中的新文件组。

但是当我跑步时

```
select * from sys.database_files 
```

我找不到为新文件组创建的文件。我也无法在磁盘中找到它。我究竟做错了什么？

有人可以帮忙吗..？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:45:29.773

试试这个：

在 SQL Server 中，您必须将 .ndf 文件显式添加到不同的文件组。如果您没有提及任何文件组，则默认情况下它将被添加到主文件组。

因此，无论何时添加文件组，它都只是一个逻辑名称，没有任何物理位置。

```
use yourDBname
select * from sys.database_files 

ALTER DATABASE yourDBname ADD FILE (NAME = name1, FILENAME = 'C:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\DB11.ndf', SIZE=100MB, MAXSIZE=500GB, FILEGROWTH=50);
ALTER DATABASE yourDBname ADD FILEGROUP BusyTables

select * from sys.database_files 
```

# php - 有适合初学者的 symfony2 项目教程吗？

> ID：11877810
> 
> 赞同：6
> 
> 时间：2012-08-09T06:23:33.373
> 
> 标签：php, symfony

我是 symfony2 的新手，现在我正在做一个 symfony2 项目，所以我需要一些示例教程来使用 Symfony2 和 xampp 和 mysql 创建网站。不需要任何你好世界类型的教程。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T06:31:45.187

我从优秀的[Symblog](http://tutorial.symblog.co.uk/)教程系列中学习了 Symfony2。我发现它非常深入且易于理解。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T10:27:09.673

我认为学习 Symfony2 的最佳方法是，首先阅读上面提到的 Symblog 或 Joobet 之类的教程，然后在 github 上创建一个使用该框架制作的应用程序的 repo 并使用它。symfony 文档也会对你有所帮助。

www.symfony.es 上有一本很棒的书，但只有西班牙语。

# actionscript-3 - 如何使用 as3.0 为文件设置新属性

> ID：11877811
> 
> 赞同：0
> 
> 时间：2012-08-09T06:23:35.953
> 
> 标签：actionscript-3, flash, flex4

例如，图像文件具有一些默认属性，如“文件类型”、“文件大小”、“文件名”、“上次修改时间”等，就像任何可能设置我们的新属性一样（即“文件添加") 在动作脚本 as3.0.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:29:34.077

不，那里没有。您可能想为此研究 PHP 和 MySQL；具体来说，[上传文件](http://www.w3schools.com/php/php_file_upload.asp)和数据库管理。您将希望各种用户能够登录，并且一旦登录，他们就可以上传文件。此时，您将通过 PHP 将文件位置和用户名（以及您想要的任何其他属性）输入 MySQL。然后，如果您愿意，您可以使用 Flash 来利用您的 php 添加文件并更新“添加的文件”。

# php - 用于 jQuery 远程自动完成的 PHP 数组

> ID：11877817
> 
> 赞同：0
> 
> 时间：2012-08-09T06:24:01.413
> 
> 标签：php, jquery-ui

我正在尝试获取远程自动完成数组

```
$items = array(
    "PR-1001"=>"Product 1",
    "PR-1002"=>"Product 2"
); 
```

输入自动完成建议将是 PR-1001 和 PR-1002，并且 div 将根据自动完成的选择附加产品 0 或产品 2。我尝试使用以下代码，但不能请帮助我获取上述数组。

```
$query = "SELECT * FROM products";
$results = mysql_query($query, $connection);
confirm_query($results);
$count = mysql_num_rows($results);
while($row = mysql_fetch_array($results)) {
    $codes =array("{$row['pr_code']}");
    $names =array("{$row['pr_name']}");
        $i = 0;
        $items[$i] = "\"" . $codes[$i] ."\"=>\"" . $names[$i] ."\", ";
        $items = implode(", ", $items);
        $i++;   
    } 
```

我需要一个显示 print_r 的 php 数组

```
Array ( [DJ-1001] => Product 1 [DJ-1002] => Product 2 ) 
```

先感谢您。

* * *

这是答案

```
$items = array();
while($row = mysql_fetch_array($results)) { 
  $items[$row['pr_code']] = $row['pr_name'];
} 
```

谢谢朋友们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:26:51.050

在不知道您的架构是什么样子的情况下：

```
$items = array();
while($row = mysql_fetch_array($results)) {
    $items[$row['pr_code']] = $row['pr_name'];
}
echo json_encode($items); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:30:46.633

在`PHP`你可以有关联数组，其中键可以是整数或字符串。该值可以是任何类型。假设您可以`key=>value`从查询中直接分配，然后在[json](http://www.json.org/)中返回数组（jquery-ui 自动完成它是围绕它建模的，所以只需从官方文档中获取一个片段，看看它是如何工作的）：

```
$items = array();
while($row = mysql_fetch_array($result))
    $items[$row['pr_code']] = $row['pr_name'];

echo json_encode($items); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-09T06:31:18.513

来自本地数据、url 或回调的数据可以有两种变体：

• 字符串数组：[ "Choice1", "Choice2" ]

• 具有标签和值属性的对象数组：[ { label: "Choice1", value: "value1" }, ... ]

```
$arr   = array();
while($row = mysql_fetch_array($results)) { 
    array_push($arr,'{ label: "' . $row['pr_code'] . '", value: "' . $row['pr_name'] . '" }'); 
}

echo "[" . implode(',',$arr) . "]"; 
```

# java - 强制在 Google GCM 中使用 JSON 形式的请求？

> ID：11877819
> 
> 赞同：1
> 
> 时间：2012-08-09T06:24:10.980
> 
> 标签：java, google-cloud-messaging

我正在使用 Java 从 google C2DM 迁移到 GCM。我在[不使用 JSON 的情况下阅读了这篇文章 GCM Push Notification](https://stackoverflow.com/questions/11577033/gcm-push-notification-without-using-json)。即使在谷歌文档上，我也发现允许使用纯文本或 UTF-8 内容类型。我正在为浏览器应用程序使用 API 密钥，并且还尝试了 curl 命令。每次我收到与授权相关的响应代码 401。以下是我正在形成的 URL：

```
Collapse_key=0&Auth_Token=

> my api key for browser apps

&data.payload=

> meesage to be send

&registration_id=

> id of registered device 
```

请问401响应码的原因和解决方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:33:46.853

HTTP status code 401 occurred when API key is not valid. For details check [here](http://developer.android.com/guide/google/gcm/gcm.html#auth_error).

You should send data as a json format. The format is shown below. It is explained in details [here](http://developer.android.com/guide/google/gcm/gcm.html#request).

```
{
  "registration_ids" : ["APA91bHun4MxP5egoKMwt2KZFBaFUH-1RYqx..."],
  "data" : {
    ...
  },
} 
```

# java - 在 Android 屏幕的上半部分显示 Google 地图

> ID：11877820
> 
> 赞同：1
> 
> 时间：2012-08-09T06:24:21.800
> 
> 标签：java, android, google-maps, android-mapview

目前，我在整个屏幕上使用 Java 在 Android 手机中显示谷歌地图，这对我来说效果很好。

```
public class MainActivity extends MapActivity {    
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    protected boolean isRouteDisplayed() {
        return false;
    }
} 
```

下面是我的 XML 文件-

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent">

    <com.google.android.maps.MapView 
        android:id="@+id/mapView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:enabled="true"
        android:clickable="true"
        android:apiKey="0vAX8Xe9xjo5gkFNEEIH7KdHkNZNJWNnsjUPKkQ"
        />

</RelativeLayout> 
```

**问题陈述：-**

我需要在 Android 屏幕的上半部分显示 Google 地图，而不是全屏显示。在屏幕的下半部分，我需要显示 TextBox。是否有可能做到这一点？

任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:29:56.077

是的，它是可能的，并且可以很容易地用`LinearLayout`. `MapView`通过为和分配权重`TextView`。

在这种情况下

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <com.google.android.maps.MapView
        android:id="@+id/mapView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:apiKey="0vAX8Xe9xjo5gkFNEEIH7KdHkNZNJWNnsjUPKkQ"
        android:clickable="true"
        android:enabled="true" />

    <TextView
        android:id="@+id/textView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:text="TextView" />

</LinearLayout> 
```

# iphone - 从服务器一一下载文件 - uitableviewcell

> ID：11877821
> 
> 赞同：0
> 
> 时间：2012-08-09T06:24:32.517
> 
> 标签：iphone, ios, ios4, uitableview

在我的应用程序中，我在应用程序购买中提供非消耗品来销售歌曲（Mp3）文件。目前我正在列出歌曲列表，当用户点击购买时，我正在显示另一个带有歌曲名称和下载按钮和进度视图的 uitableview（这是下载屏幕的视图）。

当用户继续购买歌曲时，这些歌曲将被添加到 Downloading uitableview 屏幕。用户可以在哪里下载文件。

目前我可以在点击下载按钮时下载文件，它会显示下载进度。所以它工作正常。

现在我想知道，如何在不点击按钮的情况下开始从服务器下载内容。我的意思是当 uitableviewcell 的第一行完成下载时，第二行必须开始下载。

请指导我，我真的找不到任何合适的链接/参考我的问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:30:08.087

使用递归和委托，让你用来下载东西的方法调用它的委托，它应该再次调用下载方法，以便下载下一个项目。然后继续这样做，直到下载所有项目并激活标志或其他东西以停止递归。

主意：

现在你有一个下载方法，当用户按下按钮时，它将下载一首歌曲。

因此，代替这让您的 DownloadMethod 接收歌曲或您想要下载的任何内容，例如，它可以是一个数组。

所以现在

```
DownloadMethod(arrayToDownload)
{
    If (arrayToDownload is not empty)
    { 
        [SongsArray addElement: download song in the last position with your original method]
        [arrayToDownload removeLastLemenet]
       downloadmethod(arrayToDownload)
    }
} 
```

这是做得不好的伪代码，但它的基本思想。请注意，您的操作必须同步执行才能在没有委托的情况下工作。例如，为了让您的界面不挂出，您可以使其在后台队列中执行（只要同步执行下载）

同步的意思是确保这段代码的每一部分都在前一部分之后执行。但是您确实想使用大型中央调度在另一个线程中执行所有代码，这样您的 ui 就不会被锁定。

参考： [https ://developer.apple.com/library/ios/#documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html](https://developer.apple.com/library/ios/#documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html)

指南： [https ://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW1](https://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:39:54.167

我不知道你是如何实现你的歌曲下载的。你用的是哪个线程？任何下载都是冗长而繁重的操作，应该在非 UI 线程上完成。

根据您的描述，我建议例如创建一个子类，`NSOperation`该子类将处理歌曲的下载并用于`NSOperationQueue`处理它们。

`NSOperationQueue`您可以指定允许多少并发下载（或默认无限制）。然后每个操作都可以通知（或通过委托）提供下载进度。

1.  用户通过点击按钮“购买”一首歌曲
2.  `NSOperation`为歌曲下载创建
3.  将操作添加到`NSOperationQueue`- 将当前控制器设置为委托或设置通知

# jquery - 如何为我的 Saas 产品开发自定义工具栏？

> ID：11877824
> 
> 赞同：0
> 
> 时间：2012-08-09T06:25:01.753
> 
> 标签：jquery, jquery-ui, jquery-plugins, browser

我有一个 SAAS 招聘产品，它有一个唯一的用户名和密码来为我们的客户登录。

我想让我们的自定义工具栏固定在客户端的浏览器中，他们需要在相同的情况下获取更新。

像 facebook 插件之类的东西。

以上是我想要实现的基本理念。我需要关于如何去做的建议。

PS：应该兼容所有浏览器。

也欢迎使用 java awt 的任何地方

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:51:24.673

如果您谈论的是浏览器工具栏，我认为这是一个坏主意，根据我的经验，没有人喜欢在他们的系统中安装工具栏。但是，如果您正在谈论页面内工具栏，那么一点点 CSS + Javascript（和 jQuery）+ HTML（显然）就可以了，这将很容易实现，但是，当然，让它具有良好的质量是有点难。

您可以搜索：

*   CSS 固定位置
*   jQuery AJAX
*   股票代码

此外，请务必先了解 CSS 基础知识（Box 模型、基本 hacks 等），这是必不可少的。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:43:12.807

“与所有浏览器兼容”意味着您不想要浏览器插件（为什么标记为“firefox-addon”？）。除非您打算为每个主要浏览器实现单独的工具栏插件。

为什么不简单地将工具栏添加到您的 Web 应用程序？就像 Facebook 上的聊天栏一样，它始终位于 Facebook 页面的底部。查看 CSS“位置：固定”方法，[http](http://www.w3schools.com/Css/css_positioning.asp) ://www.w3schools.com/Css/css_positioning.asp 。

# android - 裁剪后如何保存图像？

> ID：11877827
> 
> 赞同：0
> 
> 时间：2012-08-09T06:25:23.877
> 
> 标签：android, eclipse

我正在做一个调用手机摄像头的应用程序，然后它会自动裁剪，我希望它保存裁剪后的图像，但它无法保存任何图像。只有原始捕获的图像。但代码中没有错误。这些图像将用作两人游戏中的化身。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:48:27.477

这应该有效：

```
try {
       FileOutputStream out = new FileOutputStream(filename);
       cropped_bitmap.compress(Bitmap.CompressFormat.PNG, 100, out);
} catch (Exception e) {
       e.printStackTrace();
} 
```

您还必须在清单中添加此权限：

```
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

# asp.net - 部署到服务器后找不到文件异常

> ID：11877829
> 
> 赞同：0
> 
> 时间：2012-08-09T06:25:37.777
> 
> 标签：asp.net, image, sharepoint, file-upload, filenotfoundexception

我正在使用以下代码将图像文件上传到 SharePoint 文档库。该代码在本地运行良好，但一旦部署到服务器，我就会收到异常，因为找不到文件。

```
 String fileToUpload = FlUpldImage.PostedFile.FileName; //@"C:\Users\admin.RSS\Desktop\Photos\me_skype.jpg";
                String documentLibraryName = "SiteAssets";
                if (!System.IO.File.Exists(fileToUpload))
                    throw new FileNotFoundException("File not found.", fileToUpload);

                SPFolder myLibrary = web.Folders[documentLibraryName];

                // Prepare to upload
                Boolean replaceExistingFiles = true;
                String fileName = CheckStringNull(txtFirstName.Text) + CheckStringNull(txtLastName.Text) + CheckDateNull(txtDOB) + System.IO.Path.GetFileName(fileToUpload); ;
                if (fileName.Contains('/'))
                {
                    fileName = fileName.Replace("/", "");
                }
                if (fileName.Contains(':'))
                {
                    fileName = fileName.Replace(":", "");
                }
                FileStream fileStream = File.OpenRead(fileToUpload);
                //Upload document
                SPFile spfile = myLibrary.Files.Add(fileName, fileStream, replaceExistingFiles);
                string url = site.ToString() + "/" + spfile.ToString();
                if (url.Contains("="))
                {
                    url = url.Split('=')[1];
                }
                //Commit
                myLibrary.Update(); 
```

字符串 fileupload 包含 URL，因为**`C:\Users\admin.RSS\Desktop\Photos\me.jpg`**这个 URL 实际上是客户端系统，服务器端代码抛出异常，因为找不到文件。如何处理这个问题？

**更新：**

我删除了检查文件是否存在的代码行，现在我得到了`FileStream fileStream = File.OpenRead(fileToUpload);`例外`c:\windows\system32\inetsrv\20120605_133145.jpg cold not be found`

请帮忙。谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T12:06:09.400

```
 if (this.fuAvatarUpload.HasFile && this.fuAvatarUpload.PostedFile.FileName.Length > 0)
        {
            string extension = Path.GetExtension(file.FileName).ToLower();
            string mimetype;
            switch (extension)
            {
                case ".png":
                case ".jpg":
                case ".gif":
                    mimetype = file.ContentType;
                    break;

                default:
                    _model.ShowMessage("We only accept .png, .jpg, and .gif!");
                    return;
            }

            if (file.ContentLength / 1000 < 1000)
            {
                Image image = Image.FromStream(file.InputStream);
                Bitmap resized = new Bitmap(image, 150, 150);
                byte[] byteArr = new byte[file.InputStream.Length];
                using (MemoryStream stream = new MemoryStream())
                {
                    resized.Save(stream, System.Drawing.Imaging.ImageFormat.Png);
                    byteArr = stream.ToArray();
                }
                file.InputStream.Read(byteArr, 0, byteArr.Length);
                profile.ImageUrl = byteArr;
                profile.UseGravatar = false;
                profileService.UpdateProfile(profile);
                this._model.ShowApprovePanel();
            }
            else
            {
                _model.ShowMessage("The file you uploaded is larger than the 1mb limit.  Please reduce the size of your file and try again.");
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-17T12:50:48.503

将文件物理地保存到服务器上，而不是在服务器上工作，这帮助我解决了我的问题。

# matlab - 有什么想法可以找到当地的 minium 吗？

> ID：11877832
> 
> 赞同：0
> 
> 时间：2012-08-09T06:25:42.293
> 
> 标签：matlab, minimum

我有许多不同的数据集，它们是离散数据。局部最小值不一定是最小数据，但它是第一个峰值周围的谷值。我试图找到第一个峰值周围的第一个山谷的指数。我的想法是搜索两个相邻点之间的差异，当差异小于某个临界值并且前向点大于后向点时，这就是我们想要的点。例如

```
for k=PEAK_POS:END_POS
  if ( (abs(y(k)-y(k-1))<=0.01) && (y(k-1)>y(k)) )
    expected_pos = k;
    break;
  end
end 
```

这适用于某些数据集，但不适用于所有数据集，因为某些数据集可能具有不同的样本步骤，因此我们可能会更改临界条件，但我有太多数据集要分析，我认为我无法手动分析每个数据集。我正在寻找任何更好的方法来找到最小值。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:58:17.800

正如@JakobS.所提到的，优化理论是数学中的一个大领域，有自己的期刊和会议等等。

您的问题听起来不够复杂，不足以证明优化工具箱的合理性（如果我错了，请纠正我）。听起来`fminsearch`足以满足您的需求。这是一个简短的教程。键入`help fminsearch`或`doc fminsearch`了解更多信息。

```
% example cost function to minimize
z = @(x) sin(x(:,1)).*cos(x(:,2));

% Make a plot 
x = -pi:0.01:pi;
y = x;
[x,y] = meshgrid(x,y);
figure(1), surf(x,y, reshape(z([x(:) y(:)]), size(x)), 'edgecolor', 'none')

% find local minimum
[best, fval] = fminsearch(z, [pi,pi]) 
```

结果是

```
best =
     1.570819831365890e+00     3.141628097071647e+00
fval =
    -9.999999990956473e-01 
```

这显然是对预期局部最优值的非常合理的近似。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T10:27:50.847

我会使用以下条件：在最小值的左侧，其导数<0，右侧>0。

就像在这个例子中一样：

```
x = cumsum(rand(1,100));  % nonuniform distance
y = 5*sin(x/10)+randn(size(x)); % example data
dd = diff(y);
ig = [false (dd(1:end-1)<0 & dd(2:end)>0) false]; % patch to correct length
plot(x,y)
line(x(ig),y(ig),'Marker','+','LineStyle','none','Color','r') 
```

正如您所说，您希望在高峰之后的第一个：

```
x_peak = 15;
candidates = x(ig);
i_min=find(candidates>x_peak,1,'first');
candidates(i_min) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:31:00.023

优化问题是一个非常广泛的话题，并且已经做了很多，开始编写自己的算法不一定是一个好主意。对于 matlab，有优化工具箱，可能会有所帮助： http: [//www.mathworks.de/products/optimization/](http://www.mathworks.de/products/optimization/)

# javascript - 访问选定记录的网格值并使用 javascript 传递到新窗口

> ID：11877834
> 
> 赞同：0
> 
> 时间：2012-08-09T06:26:05.690
> 
> 标签：javascript, .net, gridview

在我的表单中，当我单击网格视图中的编辑按钮时，我需要打开一个新窗口。还必须将相应的 ID 值传递给新窗口。我编写了在新窗口中打开的代码，但它不是工作。我搜索并找不到如何将所选记录的 ID 值发送到新窗口。请帮助我如何执行此操作。

```
 <asp:GridView ID="gridUserDetails" runat="server" BackColor="White" 
                                BorderColor="#336666" BorderStyle="Double" BorderWidth="3px" CellPadding="4" 
                                GridLines="Horizontal" AutoGenerateColumns="False" AllowSorting="true"  
                                onselectedindexchanged="gridUserDetails_SelectedIndexChanged" onsorting="SortingGridData">
                                <Columns>                                     
                           <asp:BoundField DataField="ID"  HeaderText="ID" SortExpression="ID" />
                           <asp:BoundField DataField="Name"  HeaderText="Employee Name" SortExpression="Name" />
                           <asp:BoundField DataField="Address" HeaderText="Employee Address" SortExpression="Address" />
                           <asp:BoundField DataField="Email"  HeaderText="Employee Mail"  SortExpression="Email"/>
                           <asp:BoundField DataField="Department"  HeaderText="Department"  SortExpression="Department"/>
                    <asp:TemplateField>
                    <ItemTemplate>
                    <asp:Button ID="btnEdit" CausesValidation="false" runat="server" Text="Edit" 
                    onClientClick="windowopen()"/>

                    </ItemTemplate>
                    </asp:TemplateField>

                                </Columns>
                                <FooterStyle BackColor="White" ForeColor="#333333" />
                                <HeaderStyle BackColor="#336666" Font-Bold="True" ForeColor="White" />
                                <PagerStyle BackColor="#336666" ForeColor="White" HorizontalAlign="Center" />
                                <RowStyle BackColor="White" ForeColor="#333333" />
                                <SelectedRowStyle BackColor="#339966" Font-Bold="True" ForeColor="White" />
                                <SortedAscendingCellStyle BackColor="#F7F7F7" />
                                <SortedAscendingHeaderStyle BackColor="#487575" />
                                <SortedDescendingCellStyle BackColor="#E5E5E5" />
                                <SortedDescendingHeaderStyle BackColor="#275353" />

                            </asp:GridView> 
```

这是我的 Grid 的代码。下面是我的 javascript

```
 <script language="javascript" type="text/javascript">
 function windowopen() {
           mywindow = window.open('ISSRegistrationForm.aspx', 'Employee Details', 'height=500, width=1100, status=no, resizable=no, scrollbars=yes, toolbar=no,location=no, menubar=no'
            }
            </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:38:01.933

在新 TemplateField 的 ItemTemplate 中创建一个锚点（一个标签）：

```
<asp:TemplateField><ItemTemplate><a href="onclick="javascript:windowopen('<%#Eval("ID") %>')">Click Here</a></ItemTemplate></asp:TemplateField> 
```

你的 JavaScript 函数应该如下所示：

```
 function windowopen(id) {
mywindow = window.open('ISSRegistrationForm.aspx?id='+id, 'Employee Details', 'height=500, width=1100, status=no, resizable=no, scrollbars=yes, toolbar=no,location=no, menubar=no')
            } 
```

# jakarta-ee - Mybatis的结果包含大写和小写

> ID：11877839
> 
> 赞同：1
> 
> 时间：2012-08-09T06:26:35.343
> 
> 标签：jakarta-ee, mybatis, uppercase, lowercase

这是我的接口方法：

```
HashMap<String,Object> getUserById(int id); 
```

这是我的 XML 方法：

```
<select id="getUserById" parameterType="int" resultType="hashmap" >  
        select * from users where user_id = #{user_id}
    </select> 
```

然后我用 Junit 来测试它，这是我的 Junit 案例：

```
@Test
    public void testGetUsers() 
    {
            HashMap<String,Object> maps = new HashMap<String, Object>();
            int id = 5;
        maps = mapper.getUserById(id);
        System.out.println(maps);
        Assert.assertNotNull(maps);
    } 
```

然后我得到了这样的结果：

```
{DEPARTMENT_ID=1, phone=3423456, NAME=张飞, USER_ID=5, department_id=1, password=1111, PHONE=3423456, username=zhangfei, email=zhangfei@qq.com, MOBILE=12345678963, name=张飞, user_id=5, USERNAME=zhangfei, EMAIL=zhangfei@qq.com, PASSWORD=1111, mobile=12345678963} 
```

如您所见，结果包含大写和小写，但我不想大写，怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:25:58.990

尝试在查询中强制使用小写

```
select MY_COLUMN as from my_column ... 
```

如果这不起作用，请查看[此答案](https://stackoverflow.com/a/11732674/980472)。

# asp.net - 如何通过代码启用 GridView 排序

> ID：11877843
> 
> 赞同：0
> 
> 时间：2012-08-09T06:26:44.890
> 
> 标签：asp.net, vb.net, sorting, gridview

我有一个`GridView`从后面填写的代码`DataTable`，我想在单击标题单元格时启用排序。如果有任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T08:57:22.127

添加`AllowSorting="True"`GridView 属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T20:49:40.247

设置 AllowSorting="True"，给出一个 OnSorting 事件，并相应地处理该事件。
[这是一个样本](http://www.dotnetfunda.com/articles/article1598-how-to-sort-the-gridview-data-in-aspnet.aspx)

# android - Android ListView - 更新时滚动回顶部

> ID：11877848
> 
> 赞同：6
> 
> 时间：2012-08-09T06:26:59.443
> 
> 标签：android, android-listview, android-ui, android-adapter

我有一个列表视图，可以根据请求添加其他视图，由 BaseAdapter 维护。更新后如何保持滚动位置？

我知道这已经被问过几次了，但是每次都提出了相同的解决方案，我已经尝试过，即`adapter.notifyDataSetChanged();`在更新包含列表内容的 ArrayList 后调用。

如何确保保持滚动位置？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-13T10:29:39.057

在您的活动类中实现一个`OnScrollListener`，然后使用以下代码：

```
int currentFirstVisibleItem, currentVisibleItemCount, currentTotalItemCount;
public void onScroll(AbsListView view, int firstVisibleItem,
        int visibleItemCount, int totalItemCount) {
    this.currentFirstVisibleItem = firstVisibleItem;
    this.currentVisibleItemCount = visibleItemCount;
    this.currentTotalItemCount = totalItemCount;
}

public void onScrollStateChanged(AbsListView view, int scrollState) {
    this.currentScrollState = scrollState;
    this.isScrollCompleted();
}

private void isScrollCompleted() {

    if (currentFirstVisibleItem + currentVisibleItemCount >= currentTotalItemCount) {
        if (this.currentVisibleItemCount > 0
                && this.currentScrollState == SCROLL_STATE_IDLE) {

            //Do your work
        }
    }
} 
```

如果您`AsyncTask`用于更新数据，则可以在您的中包含以下内容`PostExecute()`以保持滚动位置：

```
list.setAdapter(adapter);
list.setSelectionFromTop(currentFirstVisibleItem, 0); 
```

我希望这有帮助。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-09T06:35:36.607

我采取的方法是在更新后调用`ListView.setSelection(position)`以滚动到所需的位置`position`。

根据您从哪里调用它，您可能需要在调用`requestFocusFromTouch`之前先调用它`setSelection`，以确保该项目得到适当的定位。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-01-13T05:29:37.210

这段代码可以帮助你......

```
// get position of listview
int index = listView.getFirstVisiblePosition();
View v = listView.getChildAt(0);
int top = (v == null) ? 0 : v.getTop();

// notify dataset changed or re-assign adapter here

//re-assign the position of listview after setting the adapter again
listView.setSelectionFromTop(index, top); 
```

干杯:)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-09T06:40:57.537

你可以试试这个：

```
//Get the top position from the first visible element
int fVisible = list.getFirstVisiblePosition();
View vFirst = list.getChildAt(0);
int pos = 0;
if (vFirst != null) pos = vFirst.getTop();

//Restore the position
list.setSelectionFromTop(fVisible, pos); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-04-26T06:50:26.627

您可以执行以下操作。如果你想通过滚动到底部加载更多数据，它会有一些变化。

```
int currentFirstVisibleItem, currentScrollState;
int countChange = 0;
public void onScroll(AbsListView view, int firstVisibleItem, int visibleItemCount, int totalItemCount) {
    Log.d("Scroll", "Scrolling");
    this.currentFirstVisibleItem = firstVisibleItem;
    countChange = 0;//during touching you can decide not to refresh by scroll
}

public void onScrollStateChanged(AbsListView view, int scrollState) {
    Log.d("Scroll", "Changed");
    this.currentScrollState = scrollState;
    if (scrollState == SCROLL_STATE_TOUCH_SCROLL) {
        countChange = 0;
    }
    if (++countChange > 1) {
        //scroll to top and release touch change=2\. Simple scroll and release touch change=1
        this.isScrollCompleted();
        countChange = 0;
    }
}

private void isScrollCompleted() {
    Log.d("Load", "Reload");
    if (currentFirstVisibleItem == 0) {
        //Your loading go here
    }
} 
```

# python - python的诅咒。将 ansi 颜色代码从 stdin 转换为 curses 输出

> ID：11877851
> 
> 赞同：3
> 
> 时间：2012-08-09T06:27:07.793
> 
> 标签：python, colors, terminal, encryption, curses

我两天前创建了[decrypt.py](https://github.com/jtwaleson/decrypt)。这是一个非常有趣的节目。它从标准输入读取并使用诅咒将乱码打印到屏幕上。但是，当输入中存在诸如 ansi 颜色代码或制表符之类的特殊字符时，它们将无法正确显示。

有没有一种好方法可以将这些字符映射到 curses 处理终端窗口上的选项卡和颜色的方式？

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-26T23:06:13.497

这是一个非常小众的功能，所以我对没有答案并不感到惊讶。鉴于 3 年的沉默，我认为您不会找到任何现成的代码来处理这个问题。

我认为你会得到的最接近的是 ansi to win32 mapping in [colorama](https://github.com/tartley/colorama/blob/master/colorama/ansitowin32.py)。您必须编写一个类似的正则表达式解析器，然后用它来转换为 curses 调用。

# java - 如何在java中获取用于发送电子邮件的html链接

> ID：11877855
> 
> 赞同：-1
> 
> 时间：2012-08-09T06:27:20.653
> 
> 标签：java, html, email

我需要通过 java 应用程序发送一封电子邮件，并且该电子邮件包含一个链接。
链接的价值是动态的。
我尝试了以下方法：

```
messageBodyPart.setText(messageBody,"UTF-8","html"); 

StringBuffermessageBody = "Go to <a href = '" +CommonConstant.APP_URL + "' > </a>"

public static final String APP_URL = "http:\Application\Check"; 
```

但这似乎不起作用！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:34:43.200

you have to compose html body. see [this](http://www.tutorialspoint.com/java/java_sending_email.htm) for detail

# android - 为什么它显示 OpenMobileApi 应用程序中缺少共享库？

> ID：11877858
> 
> 赞同：-1
> 
> 时间：2012-08-09T06:27:36.830
> 
> 标签：android

我正在尝试创建与智能卡相关的应用程序，但出现此错误：

```
Package com.gieseckedevrient.android.hellosmartcard requires unavailable shared library org.simalliance.openmobileapi; failing! 
```

安慰：

```
[2012-08-09 11:53:27 - HelloSmartcard] Installation error: INSTALL_FAILED_MISSING_SHARED_LIBRARY
[2012-08-09 11:53:27 - HelloSmartcard] Please check logcat output for more details.
[2012-08-09 11:53:27 - HelloSmartcard] Launch canceled! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-27T03:56:48.170

我正在为您提供如何在 Google 地图中解决此问题的示例。您可以根据您的图书馆修复它。

要通过 Android 版 Google 地图克服 INSTALL_FAILED_MISSING_SHARED_LIBRARY 错误：

安装 Google 地图 API。这可以在 Eclispe Windows/Android SDK 和 AVD Manager -> 可用包 -> 第三方附加组件 -> Google Inc. -> Google Inc. 的 Google APIs，Android API X 中完成

从命令行创建新的 AVD。这可以通过列出目标（android list targets）来完成，然后 android create avd -n new_avd_api_233 -t "Google Inc.:Google APIs:X"

然后在 Eclipse Windows/Android SDK 和 AVD Manager -> New... -> 中创建 AVD（Android 虚拟设备）（名称：new_avd_X，目标：Google APIs (Google Inc.) - API Level X）

重要提示：您必须使用 Target 作为 Google API (Google Inc.) 创建您的 AVD，否则它将再次失败。

在 Eclipse File/New/Android Project 中创建 Android Project 并选择 Google APIs Build Target。

在标签之间添加。

将项目作为 Android 应用程序运行。

如果错误仍然存​​在，那么你仍然有问题，如果它有效，那么这个错误永远在你身后。

# jquery - 使用 JQuery 验证登录表单

> ID：11877859
> 
> 赞同：1
> 
> 时间：2012-08-09T06:27:45.670
> 
> 标签：jquery

我已经使用 jquery 完成了登录表单验证，但是错误消息出现在文本框中。任何人都可以帮助我将验证消息放在输入字段附近。有关更多信息，请检查该站点。

```
http://192.168.109.1:8084/AsiaHospital/login.jsp

 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <%@include file="header.jsp"%>
    <head>
        <style type="text/css">
            body, input, textarea {
                font-size:12px;
                line-height:18px;
                font-family:Verdana, Geneva, sans-serif;
            }

            #error {
                color:#dd4466;
                font-size:10px;
                display:none;
            }
            .needsfilled {
                background:#958585;
                color:white;
            }
        </style>
        <script type="text/javascript" src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js"></script>
        <script type="text/javascript" src="javascript/loginvalidation.js"></script>

    </head>
    <div id="templatemo_content_right">
        <h1>Login Form</h1>
        <center>
            <form action="LoginServlet" method="POST" id="theform" name="theform">
                <table cellspacing="20" cellpading="10">
                    <tr>
                        <td>UserName:</td>
                        <td><input type="text" name="userName" id="userName"/></td>
                    </tr>
                    <tr>
                        <td>Password:</td>
                        <td><input type="password" name="password" id="password"/></td>
                    </tr>
                    <tr>
                        <td><input type="submit" value="Login"/></td>
                    </tr>

                </table>

            </form>
        </center>

        <div class="cleaner_with_height">&nbsp;</div>

    </div> <!-- end of content right -->
    <%@include file="footer.jsp" %>
</html> 
```

* * *

```
 /* 
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

$(document).ready(function(){
    // Place ID's of all required fields here.
    required = ["userName", "password"];

    // If using an ID other than #email or #error then replace it here
    email = $("#email");
    errornotice = $("#error");
    // The text to show up within a field when it is incorrect
    emptyerror = "Please fill out this field.";
    emailerror = "Please enter a valid e-mail.";

    $("#theform").submit(function(){    
        //Validate required fields
        for (i=0;i<required.length;i++) {
            var input = $('#'+required[i]);
            if ((input.val() == "") || (input.val() == emptyerror)) {
                input.addClass("needsfilled");
                input.val(emptyerror);
                errornotice.fadeIn(750);
            } else {
                input.removeClass("needsfilled");
            }
        }
        // Validate the e-mail.

        //if any inputs on the page have the class 'needsfilled' the form will not submit
        if ($(":input").hasClass("needsfilled")) {
            return false;
        } else {
            errornotice.hide();
            return true;
        }
    });

    // Clears any fields in the form when the user clicks on them
    $(":input").focus(function(){       
       if ($(this).hasClass("needsfilled") ) {
            $(this).val("");
            $(this).removeClass("needsfilled");
       }
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:38:15.367

尝试更改此行，

```
input.val(emptyerror); 
```

到

```
input.after('<span>'+emptyerror+'</span>'); 
```

# php - wikipedia API 以文本格式获取特定搜索文本

> ID：11877862
> 
> 赞同：0
> 
> 时间：2012-08-09T06:27:59.500
> 
> 标签：php, mediawiki, wiki, wikipedia, wikipedia-api

我想将“[美利坚合众国](http://en.wikipedia.org/wiki/United_States)”的所有内容 grep 到没有图像的文本文件中。我正在寻找文本格式的回复。

我怎样才能做到这一点？我得到了这个网址：`http://en.wikipedia.org/w/api.php?format=xml&action=query&titles=united_states&prop=revisions&rvprop=content`

但我没有得到我想要的。也许我错过了一些基本的东西。

1.  如何获取我在查询中给出的任何字符串的内容？请帮我提供网址。

2.  我正在尝试将其保存在文本文件中。我可以得到文本格式的响应吗？除了 XML 和 JSON？

3.  在美国的例子中，我想获得城市领先人口中心的第一列。是否可以获得该信息（或）我应该使用解析器吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T22:56:18.350

如果你只需要文章的文字，`action=raw`比使用 API 简单得多：

[http://en.wikipedia.org/wiki/United_States?action=raw&ctype=text/css](http://en.wikipedia.org/wiki/United_States?action=raw&ctype=text/css)

或者

[http://en.wikipedia.org/wiki/United_States?action=raw&ctype=text/css&templates=expand](http://en.wikipedia.org/wiki/United_States?action=raw&ctype=text/css&templates=expand)

（`ctype=text/css`仅当您想在浏览器中打开它时才重要。）

不清楚您在第 3 点中在说什么，但如果您想从表中提取数据，您最好的选择可能是获取渲染的（HTML）内容并使用某种 DOM 解析器（并密切关注[Wikidata](http://meta.wikimedia.org/wiki/Wikidata)这将使事情在几个月内变得更加简单）。

# android - 如何自定义 Android 内置日历？

> ID：11877864
> 
> 赞同：2
> 
> 时间：2012-08-09T06:28:09.797
> 
> 标签：android, calendar, android-calendar

我可以自定义 android 日历的日视图吗？

谢谢。

编辑：我尝试这些项目：

[android-calendar-view](http://code.google.com/p/android-calendar-view/)，但它不能在 XVGA 中工作。

[android-calendarview](https://github.com/SimonVT/android-calendarview)，它作为 android 内置的日历工作。但是，它不能自定义日视图。

# r - 如何正确索引数组？

> ID：11877867
> 
> 赞同：1
> 
> 时间：2012-08-09T06:28:43.190
> 
> 标签：r

请将文件下载到您的计算机中，然后运行： http:
[//freeuploadfiles.com/bb3cwypih2d2](http://freeuploadfiles.com/bb3cwypih2d2)

```
data=read.table("path/to/file", sep="|",quote='',
       head=T,blank.lines.skip=T,as.is=T)
ddata=array(data,dim=c(nrow(data),ncol(data)))
ddata[1,1] 
```

我想提取第一列的第一个元素。答案应该是`AAC`。

我怎么做？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-09T06:52:12.280

从长远来看，清理代码并使生活更轻松的一些建议：

1.  使用 a 中的数据`data.frame`，而不是`array`.
2.  永远不要`TRUE`称为`T`. `TRUE`是一个永远不能重新定义的保留字，而`T`可以取任何值，包括`FALSE`
3.  使用`<-`符号进行赋值
4.  不要使用缩写的参数名称。争论是`header`，不是`head`。这可能会咬你

数组只能包含一类对象。因此，将您的数据转换为`array`会将`numeric`列隐式转换为`character`，这肯定是一件坏事。

然后你像这样索引数据框：

```
dat <- read.table("nasdaqlisted.txt", sep="|", quote='',
                   header=TRUE, blank.lines.skip=TRUE, as.is=TRUE)

dat$Symbol[1]
[1] "AAC" 
```

以下索引的替代方法也返回相同的元素：

```
dat[1, "Symbol"]
dat[1, 1]
dat[, 1][1]
dat[["Symbol"]][1] 
```

* * *

如果您**真的**想做**愚蠢**的事情并将数据转换为数组，请使用`matrix`：

```
mdat <- as.matrix(dat)
mdat[1, 1]
Symbol 
 "AAC" 
```

免责声明：我只在你问的时候才发布这个。数组和矩阵功能强大且速度快，但不适用于此类数据。

# php - PHP 中的搜索条件

> ID：11877868
> 
> 赞同：0
> 
> 时间：2012-08-09T06:28:45.590
> 
> 标签：php, javascript, jquery

JAVASCRIPT

```
function ShowContent(id) {
if(id.length < 1) { return; }
document.getElementById(id).style.display = "block";
} 
```

PHP

```
$test = mysql_query('SELECT userid,testid,testname FROM test_table WHERE userid = 9 ORDER BY name');
TestName : <select>
             while($row=mysql_fetch_array($test))
             {
                $testname = $row['testname']; 
                $testid   = $row['testid'];
                echo '<option value='.$testid.'>'.$testname.'</option>
             }
           </select>
   echo '<div id="testid" style="display:none;">
      echo '<table>
             <tr><th>USERID</th</tr>
             <tr><th>TESTNAME</th></tr> 
             <tr><th>MARKS</th></tr>
      publishtest = mysql_query('SELECT id,userid,publishtest,marks FROM publish_table WHERE userid= 9 GROUP BY id');
      while($row=mysql_fetch_array($publishtest))
      {
        $userid = $row['userid'];
        $testid = $row['id']; /*This is test id*/
        $testname = $row['publishtest']; /* This is test name*/
        $marks = $row['marks'];
        echo '<tr><td>'.$userid.'</td>
                <td>'.testid.'</td>
                <td>'.testname.'</td>
                <td>'.$marks.'</td>
            </tr> 
      }
        echo '</table>';
        echo '</div>'; 
```

当我从选择标签中选择测试时，我需要显示该 testid 的 div。我想要javascript，jquery

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:37:35.530

你可以试试这个：

**JavaScript**

```
$('#showDivSelect').change(function (e) {
    var divId = $(this).children('option:selected').val();
    $('#' + divId).css('display', 'block');
});​ 
```

**HTML**

```
<select id="showDivSelect">
<option id="o1">Div1</option>
<option id="o2">Div2</option>
</select>
<div id="Div1"></div>
<div id="Div2"></div>​ 
```

**CSS**

```
#Div1 {
    width: 30px;
    height: 30px;
    background-color: red;        
    display: none;
}
#Div2 {
    width: 30px;
    height: 30px;
    background-color: blue;
    display: none;    
}​ 
```

这是工作示例：http: [//jsfiddle.net/ePSDu/](http://jsfiddle.net/ePSDu/)

# netbeans - 用于导航到编辑器中的下一个错误标记的 Netbeans 键盘快捷键

> ID：11877871
> 
> 赞同：13
> 
> 时间：2012-08-09T06:28:49.287
> 
> 标签：netbeans

是否有任何键盘快捷键用于导航到 Netbeans 编辑器中的下一个错误（在错误条纹中创建的红色标记）？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2015-04-09T12:42:53.297

截至`NetBeans 8`目前，似乎没有一种方法可以专门在编辑器中浏览错误。如果您查看**工具**->**选项**->**键盘映射**，则确实存在此操作（编辑器中的下一个错误），但快捷方式为空白。我在我的 IDE 上将它设置为`Alt`+ `E`，这将浏览所有注释 - 而不仅仅是错误。因此，如果您不介意循环浏览所有提示、警告错误等，这将起作用。

我能够通过错误特别导航获得的最接近的方法是使用操作项窗口。添加一个过滤器`errors`，然后您可以使用`Ctrl`+`.`和`Ctrl`+`,`在列表中导航（请参阅[如何将 Netbeans 中的所有编译错误显示为任务列表？](https://stackoverflow.com/questions/12143726/how-to-display-all-compile-errors-in-netbeans-as-a-task-list)）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-09T06:34:16.787

That would be `Ctrl`-`Period` ::: (`Period` means `.`)

Links to many shortcuts:

*   [Highlights of NetBeans IDE 8.0 Keyboard Shortcuts & Code Templates](https://netbeans.org/project_downloads/usersguide/shortcuts-80.pdf)

*   [134 Shortcuts for NetBeans 8 (Windows)](https://shortcutworld.com/NetBeans/win/NetBeans_8_Shortcuts)

***EDITED--URLs NOW VALID*** thru ver. 8

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-01-24T20:10:37.667

将 Action Items 窗口添加到您的 IDE。这列出了您的所有错误并且是动态的，因此会在您保存时更新。从菜单栏：Window->Action Items。（让我永远明白为什么当我保存时，我看不到任何编译错误，但它不会运行。）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-08-29T15:49:05.197

实际上问题是关于“**编辑器中的**下一个错误”。至少在我的配置（NetBeans 配置文件）中，此功能默认没有任何快捷方式，因此如果您转到 Tools->Options->Keymap 并在搜索字段中编写“编辑器中的下一个错误”，您可以添加任何适合的快捷方式给你最好的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-17T18:43:21.440

在 Mac 上，情况有所不同，据我所知，*没有用于导航到使用/编译错误的键盘快捷键。*

您可以转到帮助 -> 键盘快捷键卡以查看适用于您平台的快捷键的完整列表。

有关Mac 的信息，请参阅[https://netbeans.org/kb/articles/mac.html](https://netbeans.org/kb/articles/mac.html) ，有关 PC 的默认快捷方式，请参阅[https://usersguide.netbeans.org/shortcuts.pdf 。](https://usersguide.netbeans.org/shortcuts.pdf)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2021-08-03T21:48:31.540

不，在键盘上没有好的和简单的方法。只需单击那些红色标记（通过鼠标）是最快的方法。（这不是一个简单/好方法。但最好的方法。）

# c# - TimeUpDown 焦点分钟

> ID：11877875
> 
> 赞同：0
> 
> 时间：2012-08-09T06:29:01.993
> 
> 标签：c#, silverlight, time, timepicker

我为 TimeUpDown 编写了一个小的 MouseEnter-Event 来设置焦点。

xml:

```
<toolkit:TimeUpDown MouseEnter="TimeUpDown_MouseEnter" KeyDown="time_KeyDown" ValueChanged="time_Value_Changed" Value="{Binding Endtime, Mode=TwoWay,BindsDirectlyToSource=True}"/> 
```

xml.cs：

```
private void TimeUpDown_MouseEnter(object sender, MouseEventArgs e)
{
    TimeUpDown picker = sender as TimeUpDown;
    picker.Focus();
} 
```

使用此代码，我关注（突出显示）TimeUpDown 的完整时间（例如**10:15** ... 小时和分钟）。

我怎样才能只关注TimeUpDown的分钟数（例如 10: **15 ）？？？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-03T11:48:13.220

如果您有短格式 (hh:MM AM/PM)，解决方案将是这样的：

```
int startIndex = picker.Text.Text.IndexOf(':');
picker.Text.SelectionStart = startIndex + 1;
picker.Text.SelectionLength = 2; // minutes have two digits 
```

如果您有其他日期格式，则查找分钟之前的冒号索引。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T13:12:39.653

TimeUpDown 模板中的 TextBox 不可访问，因此我建议使用自定义 TextBox 创建样式。

在 Expression Blend 中编辑复杂的模板。我复制了下面 TimeUpDown 样式的基本模板。如您所见，它不仅非常复杂，而且 TextBox 实际上是在模板中的模板中：

## XAML（仅限样式部分）

```
 <UserControl.Resources>
        <Style x:Key="TimeUpDownStyle1" TargetType="toolkit:TimeUpDown">
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Height" Value="22"/>
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="MinWidth" Value="100"/>
            <Setter Property="BorderBrush">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#FFA3AEB9" Offset="0"/>
                        <GradientStop Color="#FF8399A9" Offset="0.375"/>
                        <GradientStop Color="#FF718597" Offset="0.375"/>
                        <GradientStop Color="#FF617584" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="toolkit:TimeUpDown">
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualStateGroup.Transitions>
                                        <VisualTransition GeneratedDuration="0"/>
                                    </VisualStateGroup.Transitions>
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="MouseOver"/>
                                    <VisualState x:Name="Pressed"/>
                                    <VisualState x:Name="Disabled"/>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused"/>
                                    <VisualState x:Name="Unfocused"/>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="TimeHintStates">
                                    <VisualState x:Name="TimeHintOpenedUp">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="TimeHintVisualElement">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="Visible"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="TimeHintVisualElement">
                                                <SplineDoubleKeyFrame KeySpline="0,0,0,1" KeyTime="00:00:00.200" Value="-23"/>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Height" Storyboard.TargetName="TimeHintVisualElement">
                                                <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                                                <SplineDoubleKeyFrame KeySpline="0,0,0,1" KeyTime="00:00:00.200" Value="22"/>
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="TimeHintOpenedDown">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="TimeHintVisualElement">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="Visible"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="TimeHintVisualElement">
                                                <SplineDoubleKeyFrame KeySpline="0,0,0,1" KeyTime="00:00:00.200" Value="0"/>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Height" Storyboard.TargetName="TimeHintVisualElement">
                                                <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                                                <SplineDoubleKeyFrame KeySpline="0,0,0,1" KeyTime="00:00:00.200" Value="22"/>
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="TimeHintClosed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="TimeHintVisualElement">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:20" Value="Collapsed"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="TimeHintVisualElement">
                                                <SplineDoubleKeyFrame KeySpline="0,0,0,1" KeyTime="00:00:00.200" Value="0"/>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Height" Storyboard.TargetName="TimeHintVisualElement">
                                                <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="22"/>
                                                <SplineDoubleKeyFrame KeySpline="0,0,0,1" KeyTime="00:00:00.200" Value="0"/>
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="ParsingStates">
                                    <VisualState x:Name="ValidTime">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="validicon">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="Visible"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="InvalidTime">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="invalidicon">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="Visible"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="EmptyTime">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="emptyicon">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="Visible"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Popup x:Name="TimeHintPopup" VerticalOffset="0">
                                <Border x:Name="TimeHintVisualElement" BorderBrush="Gray" BorderThickness="1" Background="White" HorizontalAlignment="Left" IsHitTestVisible="True" Visibility="Collapsed">
                                    <Border.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform/>
                                            <RotateTransform/>
                                            <TranslateTransform/>
                                        </TransformGroup>
                                    </Border.RenderTransform>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition MinWidth="15" Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <ContentControl Content="{TemplateBinding TimeHintContent}" Grid.Column="0" Foreground="#FF4A4A4A" FontSize="10" HorizontalAlignment="Right" IsHitTestVisible="False" IsTabStop="False" Margin="3" VerticalAlignment="Center"/>
                                        <ContentControl x:Name="emptyicon" Grid.Column="1" IsHitTestVisible="False" IsTabStop="False" Margin="3" Visibility="Collapsed"/>
                                        <ContentControl x:Name="validicon" Grid.Column="1" IsHitTestVisible="False" IsTabStop="False" Margin="3" Visibility="Collapsed"/>
                                        <ContentControl x:Name="invalidicon" Grid.Column="1" IsHitTestVisible="False" IsTabStop="False" Visibility="Collapsed" VerticalAlignment="Center">
                                            <Grid Height="13" VerticalAlignment="Bottom" Width="10">
                                                <Path Data="F1 M 28.1143,29.4857L 28.1143,27.4286L 20.7612,13.0286L 19.3898,13.0286L 12.3429,27.4286L 12.3429,29.4857L 28.1143,29.4857 Z " HorizontalAlignment="Stretch" Height="11.833" StrokeStartLineCap="Round" Stretch="Fill" StrokeEndLineCap="Round" StrokeLineJoin="Bevel" VerticalAlignment="Top">
                                                    <Path.Fill>
                                                        <LinearGradientBrush EndPoint="-0.140331,0.460318" StartPoint="1.13883,0.460318">
                                                            <GradientStop Color="#FFF7F79F" Offset="0.123636"/>
                                                            <GradientStop Color="#FBFBFB7D" Offset="0.177662"/>
                                                            <GradientStop Color="#F6FFFF5B" Offset="0.24"/>
                                                            <GradientStop Color="#E7CAA709" Offset="0.52"/>
                                                            <GradientStop Color="#9ADABE0C" Offset="0.941376"/>
                                                            <GradientStop Color="#4DEBD60F" Offset="0.941818"/>
                                                            <GradientStop Color="#FBF6EC20" Offset="0.956364"/>
                                                            <GradientStop Color="#FFFFFF2F" Offset="0.963636"/>
                                                        </LinearGradientBrush>
                                                    </Path.Fill>
                                                    <Path.Stroke>
                                                        <LinearGradientBrush EndPoint="-0.102151,0.462591" StartPoint="1.10074,0.462591">
                                                            <GradientStop Color="#F6CAA709" Offset="0.0436364"/>
                                                            <GradientStop Color="#F3F7F34F" Offset="0.149091"/>
                                                            <GradientStop Color="#E7CAA709" Offset="0.825455"/>
                                                            <GradientStop Color="#E7967C07" Offset="0.967124"/>
                                                            <GradientStop Color="#E7625106" Offset="0.967273"/>
                                                        </LinearGradientBrush>
                                                    </Path.Stroke>
                                                </Path>
                                                <Path Data="F1 M 18.6937,17.3004L 22.2563,17.3004L 21.1313,23.6937L 19.8563,23.6937L 18.6937,17.3004 Z " Height="4.683" Margin="4.25,2.25,3.75,0" StrokeStartLineCap="Round" Stretch="Fill" StrokeEndLineCap="Round" Stroke="#FF1B1B54" StrokeThickness="0.3" StrokeLineJoin="Bevel" VerticalAlignment="Top">
                                                    <Path.Fill>
                                                        <LinearGradientBrush EndPoint="1.4,0.50126" StartPoint="-0.400002,0.50126">
                                                            <GradientStop Color="#FFF7F79F" Offset="0.123636"/>
                                                            <GradientStop Color="#FB8F8873" Offset="0.175974"/>
                                                            <GradientStop Color="#F6271A47" Offset="0.236364"/>
                                                            <GradientStop Color="#E7271A47" Offset="0.534545"/>
                                                            <GradientStop Color="#9A89782B" Offset="0.941391"/>
                                                            <GradientStop Color="#4DEBD60F" Offset="0.941818"/>
                                                            <GradientStop Color="#FBF6EC20" Offset="0.956364"/>
                                                            <GradientStop Color="#FFFFFF2F" Offset="0.963636"/>
                                                        </LinearGradientBrush>
                                                    </Path.Fill>
                                                </Path>
                                                <Path Data="F1 M 20.225,25.122L 20.725,25.122C 21.2773,25.122 21.725,25.5697 21.725,26.122L 21.725,26.872C 21.725,27.4243 21.2773,27.872 20.725,27.872L 20.225,27.872C 19.6727,27.872 19.225,27.4243 19.225,26.872L 19.225,26.122C 19.225,25.5697 19.6727,25.122 20.225,25.122 Z " Height="3.11" Margin="3.833,0,4.167,0.833" StrokeStartLineCap="Round" Stretch="Fill" StrokeEndLineCap="Round" Stroke="#FF1C1C50" StrokeThickness="0.3" StrokeLineJoin="Round" VerticalAlignment="Bottom">
                                                    <Path.Fill>
                                                        <LinearGradientBrush EndPoint="1.06,0.5" StartPoint="-0.0599991,0.5">
                                                            <GradientStop Color="#F6271A47" Offset="0.236364"/>
                                                            <GradientStop Color="#E7271A47" Offset="0.534545"/>
                                                            <GradientStop Color="#9A89782B" Offset="0.98135"/>
                                                            <GradientStop Color="#4DEBD60F" Offset="0.981818"/>
                                                        </LinearGradientBrush>
                                                    </Path.Fill>
                                                </Path>
                                            </Grid>
                                        </ContentControl>
                                    </Grid>
                                </Border>
                            </Popup>
                            <toolkit:ButtonSpinner x:Name="Spinner" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" HorizontalContentAlignment="Stretch" IsTabStop="False" MinWidth="35" Padding="{TemplateBinding Padding}" Style="{TemplateBinding SpinnerStyle}" VerticalContentAlignment="Stretch">
                                <TextBox x:Name="Text" AcceptsReturn="False" BorderThickness="0" Foreground="{TemplateBinding Foreground}" FontWeight="{TemplateBinding FontWeight}" FontStyle="{TemplateBinding FontStyle}" FontStretch="{TemplateBinding FontStretch}" FontSize="{TemplateBinding FontSize}" FontFamily="{TemplateBinding FontFamily}" MinWidth="20" TextAlignment="Right" TextWrapping="NoWrap" Text="{TemplateBinding Value}">
                                    <TextBox.Style>
                                        <Style TargetType="TextBox">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="TextBox">
                                                        <ScrollViewer x:Name="ContentElement" BorderThickness="0" Padding="0"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                            </toolkit:ButtonSpinner>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TimePickerStyle1" TargetType="toolkit:TimePicker">
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="MinWidth" Value="125"/>
            <Setter Property="Height" Value="22"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#FFA3AEB9" Offset="0"/>
                        <GradientStop Color="#FF8399A9" Offset="0.375"/>
                        <GradientStop Color="#FF718597" Offset="0.375"/>
                        <GradientStop Color="#FF617584" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="PopupTemplate">
                <Setter.Value>
                    <toolkit:TimePickerPopupTemplate>
                        <toolkit:ListTimePickerPopup/>
                    </toolkit:TimePickerPopupTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="toolkit:TimePicker">
                        <Grid x:Name="RootElement">
                            <Grid.Resources>
                                <ControlTemplate x:Key="PopupButtonTemplate" TargetType="ToggleButton">
                                    <Grid FlowDirection="LeftToRight" Height="20" Width="20">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualStateGroup.Transitions>
                                                    <VisualTransition GeneratedDuration="00:00:00.1000000"/>
                                                </VisualStateGroup.Transitions>
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="MouseOver">
                                                    <Storyboard>
                                                        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="Highlight">
                                                            <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.6"/>
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="Highlight">
                                                            <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.8"/>
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Disabled">
                                                    <Storyboard>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="DisabledVisualElement">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value=".55"/>
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                            <VisualStateGroup x:Name="CheckStates">
                                                <VisualState x:Name="Checked">
                                                    <Storyboard>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)" Storyboard.TargetName="ellipse">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="1.016,0.377"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)" Storyboard.TargetName="ellipse">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="-0.01,0.687"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Fill).(LinearGradientBrush.EndPoint)" Storyboard.TargetName="ellipse">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="0.556,0.035"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Fill).(LinearGradientBrush.StartPoint)" Storyboard.TargetName="ellipse">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="0.441,0.979"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)" Storyboard.TargetName="ellipse1">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="0.984,0.328"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)" Storyboard.TargetName="ellipse1">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="0.031,0.719"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)" Storyboard.TargetName="ellipse2">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="-0.047,0.516"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)" Storyboard.TargetName="ellipse2">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="1.016,0.422"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)" Storyboard.TargetName="ellipse3">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="1.062,0.375"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)" Storyboard.TargetName="ellipse3">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="0.031,0.688"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)" Storyboard.TargetName="ellipse4">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="1.031,0.281"/>
                                                        </PointAnimationUsingKeyFrames>
                                                        <PointAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)" Storyboard.TargetName="ellipse4">
                                                            <SplinePointKeyFrame KeyTime="00:00:00" Value="-0.188,0.656"/>
                                                        </PointAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Unchecked"/>
                                            </VisualStateGroup>
                                            <VisualStateGroup x:Name="FocusStates">
                                                <VisualState x:Name="Focused"/>
                                                <VisualState x:Name="Unfocused"/>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <Grid>
                                            <Grid.Resources>
                                                <LinearGradientBrush x:Key="Dot" EndPoint="1.025,0.434" StartPoint="-0.025,0.566">
                                                    <GradientStop Color="#FFC8C8C8"/>
                                                    <GradientStop Color="#FF19191A" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Grid.Resources>
                                            <Ellipse x:Name="Highlight" Margin="0,0,0,0" Opacity="0" Stroke="#FF0052CA" StrokeThickness="1"/>
                                            <Ellipse x:Name="ellipse" Margin="1,1,1,1" Stroke="{StaticResource Dot}" StrokeThickness="0.75">
                                                <Ellipse.Fill>
                                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                        <GradientStop Color="#FFFFFFFF"/>
                                                        <GradientStop Color="#FFD7E3EC" Offset="0.80400002002716064"/>
                                                        <GradientStop Color="#FFFBFBFB" Offset="0.37099999189376831"/>
                                                    </LinearGradientBrush>
                                                </Ellipse.Fill>
                                            </Ellipse>
                                            <Ellipse x:Name="ellipse1" Height="2" Margin="8,2,8,0" Stroke="{StaticResource Dot}" VerticalAlignment="Top" Width="2">
                                                <Ellipse.Fill>
                                                    <RadialGradientBrush>
                                                        <RadialGradientBrush.RelativeTransform>
                                                            <TransformGroup>
                                                                <ScaleTransform CenterY="0.5" CenterX="0.5" ScaleY="1.817" ScaleX="2.381"/>
                                                                <SkewTransform CenterY="0.5" CenterX="0.5"/>
                                                                <RotateTransform Angle="0.966" CenterY="0.5" CenterX="0.5"/>
                                                                <TranslateTransform X="-0.2" Y="0.087"/>
                                                            </TransformGroup>
                                                        </RadialGradientBrush.RelativeTransform>
                                                        <GradientStop Color="#FF000000"/>
                                                        <GradientStop Color="#FFFB6A05" Offset="1"/>
                                                        <GradientStop Color="#FF4E4E4F" Offset="0.446"/>
                                                    </RadialGradientBrush>
                                                </Ellipse.Fill>
                                            </Ellipse>
                                            <Ellipse x:Name="ellipse2" Height="2" Margin="8,0,8,2" Stroke="{StaticResource Dot}" VerticalAlignment="Bottom" Width="2">
                                                <Ellipse.Fill>
                                                    <RadialGradientBrush>
                                                        <RadialGradientBrush.RelativeTransform>
                                                            <TransformGroup>
                                                                <ScaleTransform CenterY="0.5" CenterX="0.5" ScaleY="1.817" ScaleX="2.381"/>
                                                                <SkewTransform CenterY="0.5" CenterX="0.5"/>
                                                                <RotateTransform Angle="0.966" CenterY="0.5" CenterX="0.5"/>
                                                                <TranslateTransform X="-0.2" Y="0.087"/>
                                                            </TransformGroup>
                                                        </RadialGradientBrush.RelativeTransform>
                                                        <GradientStop Color="#FF000000"/>
                                                        <GradientStop Color="#FFFB6A05" Offset="1"/>
                                                        <GradientStop Color="#FF4E4E4F" Offset="0.446"/>
                                                    </RadialGradientBrush>
                                                </Ellipse.Fill>
                                            </Ellipse>
                                            <Ellipse x:Name="ellipse3" HorizontalAlignment="Left" Height="1" Margin="2,10,0,0" Stroke="{StaticResource Dot}" VerticalAlignment="Top" Width="1">
                                                <Ellipse.Fill>
                                                    <RadialGradientBrush>
                                                        <RadialGradientBrush.RelativeTransform>
                                                            <TransformGroup>
                                                                <ScaleTransform CenterY="0.5" CenterX="0.5" ScaleY="1.817" ScaleX="2.381"/>
                                                                <SkewTransform CenterY="0.5" CenterX="0.5"/>
                                                                <RotateTransform Angle="0.966" CenterY="0.5" CenterX="0.5"/>
                                                                <TranslateTransform X="-0.2" Y="0.087"/>
                                                            </TransformGroup>
                                                        </RadialGradientBrush.RelativeTransform>
                                                        <GradientStop Color="#FF000000"/>
                                                        <GradientStop Color="#FFFB6A05" Offset="1"/>
                                                        <GradientStop Color="#FF4E4E4F" Offset="0.446"/>
                                                    </RadialGradientBrush>
                                                </Ellipse.Fill>
                                            </Ellipse>
                                            <Ellipse x:Name="ellipse4" HorizontalAlignment="Right" Height="1.421" Margin="0,10,2,0" Stroke="{StaticResource Dot}" VerticalAlignment="Top" Width="1.05">
                                                <Ellipse.Fill>
                                                    <RadialGradientBrush>
                                                        <RadialGradientBrush.RelativeTransform>
                                                            <TransformGroup>
                                                                <ScaleTransform CenterY="0.5" CenterX="0.5" ScaleY="1.817" ScaleX="2.381"/>
                                                                <SkewTransform CenterY="0.5" CenterX="0.5"/>
                                                                <RotateTransform Angle="0.966" CenterY="0.5" CenterX="0.5"/>
                                                                <TranslateTransform X="-0.2" Y="0.087"/>
                                                            </TransformGroup>
                                                        </RadialGradientBrush.RelativeTransform>
                                                        <GradientStop Color="#FF000000"/>
                                                        <GradientStop Color="#FFFB6A05" Offset="1"/>
                                                        <GradientStop Color="#FF4E4E4F" Offset="0.446"/>
                                                    </RadialGradientBrush>
                                                </Ellipse.Fill>
                                            </Ellipse>
                                            <Path Data="M10.108397,6.5404582 L10.108397,10.415268 L13.538931,13.738435" Fill="{x:Null}" HorizontalAlignment="Left" Height="8.258" Margin="9,6,5,0" Stretch="Fill" VerticalAlignment="Top">
                                                <Path.Stroke>
                                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                        <GradientStop Color="#FF5B91D2"/>
                                                        <GradientStop Color="#FFC1570E" Offset="0.996"/>
                                                    </LinearGradientBrush>
                                                </Path.Stroke>
                                            </Path>
                                            <Rectangle x:Name="DisabledVisualElement" Fill="#FFFFFFFF" IsHitTestVisible="false" Opacity="0" RadiusY="3" RadiusX="3"/>
                                        </Grid>
                                    </Grid>
                                </ControlTemplate>
                            </Grid.Resources>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="MouseOver"/>
                                    <VisualState x:Name="Disabled"/>
                                    <VisualState x:Name="Pressed"/>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused"/>
                                    <VisualState x:Name="Unfocused"/>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="PopupStates">
                                    <VisualStateGroup.Transitions>
                                        <VisualTransition GeneratedDuration="0:0:0.1" To="PopupOpened"/>
                                        <VisualTransition GeneratedDuration="0:0:0.2" To="PopupClosed"/>
                                    </VisualStateGroup.Transitions>
                                    <VisualState x:Name="PopupOpened">
                                        <Storyboard>
                                            <DoubleAnimation To="1.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PopupRoot"/>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="PopupClosed">
                                        <Storyboard>
                                            <DoubleAnimation To="0.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PopupRoot"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <toolkit:TimeUpDown x:Name="TimeUpDown" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Culture="{TemplateBinding Culture}" Grid.Column="0" Format="{TemplateBinding Format}" Height="Auto" Maximum="{TemplateBinding Maximum}" Minimum="{TemplateBinding Minimum}" Padding="{TemplateBinding Padding}" Style="{StaticResource TimeUpDownStyle1}" SpinnerStyle="{TemplateBinding SpinnerStyle}" TimeParsers="{TemplateBinding TimeParsers}" TimeGlobalizationInfo="{TemplateBinding TimeGlobalizationInfo}"/>
                            <ToggleButton x:Name="DropDownToggle" Grid.Column="1" HorizontalAlignment="Center" Margin="3,0,0,0" Template="{StaticResource PopupButtonTemplate}" VerticalAlignment="Center"/>
                            <Popup x:Name="Popup">
                                <Border x:Name="PopupRoot" BorderBrush="#FF8d8b8b" BorderThickness="1">
                                    <ContentControl x:Name="PopupPlaceHolder" HorizontalContentAlignment="Stretch" IsTabStop="False" VerticalContentAlignment="Stretch"/>
                                </Border>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources> 
```

# c# - 如何使用不支持 unicode 字符的库

> ID：11877876
> 
> 赞同：1
> 
> 时间：2012-08-09T06:29:02.017
> 
> 标签：c#

就我而言，我最近选择了[irrKlang](http://www.ambiera.com/irrklang/)库，它允许我处理音频文件而无需做太多工作。然后我遇到了库不支持文件路径中的 unicode 字符的问题。它要么读取不正确（我会认为即使读取错误，它仍然可以找到文件），或者只是忽略它，给我留下无效的文件路径。

在他们的支持论坛中搜索解决方案，但我得到的只是“unicode？呃为什么不只使用 ascii？” 对 unicode 的态度，我想这并不少见。

我可以使用哪些技术可靠地将 unicode 字符串传递给不支持 unicode 的库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:53:10.953

简单地说你不这样做，你可以使用字节数组传递它们，然后在另一端将其解释为 unicode 数组，但如果它不做 unicode，它就不会做 unicode。

将 unicode 字符串传递给无法解释它的库是没有意义的。

如果您需要做一些特定的事情（例如在具有 unicode 路径的文件系统上使用加载命令，例如 HFS+），那么不要这样做。而是使用系统提供的文件 API 并将数据推送到不合作的库构造函数中。

如果你对这个 unicode 文件路径业务有严重的问题，因为你不能很好地传递地址和比特流，那么一个简单的解决方案是制作你自己的函数：

```
obj_ptr* loadObjFromUnicodePath(path)
{
//create tmp ASCII named symlink to file at arg(path).
//call load API of irrKlang on symlink.
//delete tmp symlink, return object.
} 
```

# actionscript-3 - TileList 上的多项选择（AS3）

> ID：11877877
> 
> 赞同：0
> 
> 时间：2012-08-09T06:29:03.537
> 
> 标签：actionscript-3, flash, apache-flex

嘿伙计们，我已经创建了绘图应用程序以及图层。

对于图层面板，我使用的是 tileList。我已经在画布上提供了多项选择选项。所以问题是我想在 TileList 上进行多项选择。

任何人都可以建议我或尽快得到一些解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T09:34:06.570

属性**`allowMultipleSelection`**设置为真。您可以使用 ctrl + mouseClick 或 shift + mouseClcik 多选。并且使用**`selectedIndices`**可以得到一个被选中的列表。

# mount - 挂载错误（6）：共享windows文件夹到ubuntu时没有这样的设备或地址

> ID：11877878
> 
> 赞同：13
> 
> 时间：2012-08-09T06:29:03.203
> 
> 标签：mount, smb

我有一个名为的 Windows 共享文件夹`\\mymachine\sf`，我想将其映射为 ubuntu 设备。我使用 smbmount 命令如下：

```
smbmount //mymachine/sf /mnt/sf -o <username> 
```

输出就像

```
retrying with upper case share name
mount error(6): No such device or address
Refer to the mount.cifs(8) manual page (e.g. man mount.cifs) 
```

我确定该设备存在并且`mymachine`正在通过 ping 通。

任何想法？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-12T08:28:06.600

仔细检查共享是否存在并且是您期望的名称：

```
smbclient -L //mymachine -U <username> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-03T04:13:46.213

还要仔细检查您的共享指向的目录（如 smb.conf 中所述）是否确实存在于服务器/主机上。`smbclient -L //hostname`尽管给出了合理的输出，但这是您将收到该错误的一种情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-23T09:44:15.820

确保 samba 共享指向的目录也存在于服务器端（可能已被删除或挂载可能在启动时失败）。`smbclient -L //mymachine -U <username>`将共享列为可用，即使它们不可用！

# c++ - 为什么在 c++ 结构中添加填充符？

> ID：11877879
> 
> 赞同：2
> 
> 时间：2012-08-09T06:29:05.313
> 
> 标签：c++, c

c++ 结构中填充符的作用是什么？我经常在一些 c++ api 中看到它们。例如：

```
struct example
{
    unsigned short a;
    unsigned short b;
    char c[3];
    char filler1;
    unsigned short e;
    char filler2;
    unsigned int g;
}; 
```

该结构旨在通过网络传输

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T06:34:23.793

```
struct example
{
    unsigned short a; //2 bytes
    unsigned short b;//2 bytes
            //4 bytes consumed
    char c[3];//3 bytes
    char filler1;//1 bytes
            //4 bytes consumed
    unsigned short e;//2 bytes
    char filler2;//1 bytes
            //3 bytes consumed ,should be filler[2]
    unsigned int g;//4 bytes
}; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-09T06:32:30.193

Because sometimes you don't actually control the format of the data you're using.

The format may be specified by something beyond your control. For example, it may be created in a system with different alignment requirements to yours.

Alternatively, the data may have real data in those filler areas that your code doesn't care about.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-09T06:40:08.410

通常插入这些填充符以明确确保结构的某些成员自然对齐，即它们在结构内的偏移量是其大小的倍数。

在下面的示例中，假设 char 为 1 个字节，short 为 2，int 为 4。

```
struct example
{
    unsigned short a;
    unsigned short b;
    char c[3];
    char filler1;
    unsigned short e; // starts at offset 8
    char filler2[2];
    unsigned int g; // starts at offset 12
}; 
```

如果您不指定任何填充符，编译器通常会添加必要的填充字节以确保结构成员的正确对齐。

顺便说一句，这些字段也可用于将来可能出现的保留字段。

**更新：**

由于已经提到结构是网络数据包，因此要求填充器获得与从另一主机传递的结构兼容的结构。

但是，在这种情况下插入填充字节可能还不够（尤其是在需要可移植性的情况下）。如果这些结构要按原样通过网络发送（即无需手动打包到单独的缓冲区中进行发送），则必须通知编译器该结构应该被打包。

在 microsoft 编译器中，这可以通过以下方式实现`#pragma pack`：

```
#pragma pack(1)
struct T {
   char t; 
   int i;
   short j;
   double k;
}; 
```

在 gcc 中，您可以使用`__attribute__((packed))`

```
struct foo {
        char c;
        int x;
} __attribute__((packed)); 
```

但是，许多人更喜欢手动将结构打包/解包到原始字节数组中，因为可能不 [正确] 支持访问某些系统上未对齐的数据。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-09T06:38:46.150

根据您正在使用的代码，他们可能会尝试在字边界上对齐结构（在您的情况下为 32 位），这是一种速度优化，但是，像这样的事情已经被体面的优化编译器过时了，但是如果编译器被指示不要优化这段代码，或者编译器非常低端，例如对于嵌入式系统，最好自己处理。它基本上归结为您对编译器的信任程度。

另一个原因是写入二进制文件，其中保留字节已留在文件格式规范中。

# android - 列表视图在加载搜索数据时无法正常工作

> ID：11877881
> 
> 赞同：1
> 
> 时间：2012-08-09T06:29:07.367
> 
> 标签：android, android-listview

我已经实现了一个自定义列表视图，它显示文本和图像。列表视图从 Internet 上的 XML 数据中获取数据。当用户向下滚动时，更多数据被加载到应用程序中。现在，我正在尝试包含一个搜索栏，以便当用户搜索某些数据时，应用程序会显示搜索返回的结果。主要问题是执行搜索时列表视图未显示正确的数据。

当我在浏览器中检查搜索栏正在执行的 URL 时，它显示了正确的结果，但在 Android 应用程序中它的行为不同。

下面是执行整个工作的我的 Activity 的代码：-

```
public class OrganizationActivity extends Activity implements OnScrollListener {

int itemsPerPage = 10;
boolean loadingMore = false;
int mPos=0;

// All static variables
static final String URL = "some URL";
static int page_no = 1;

// XML node keys
static final String KEY_ORGANIZATION = "organization"; // parent node
static final String KEY_ID = "id";
static final String KEY_NAME = "name";
static final String KEY_CITY = "city";
static final String KEY_STATE = "state";
static final String KEY_IMAGE_URL = "image";

ListView list;
LazyAdapter adapter;
ArrayList<HashMap<String, String>> orgsList = new ArrayList<HashMap<String, String>>();
private EditText filterText = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.main);

    filterText = (EditText) findViewById(R.id.search_box_et);
    filterText.addTextChangedListener(new TextWatcher() 
    {
        @Override
        public void afterTextChanged(Editable arg0) {
            // TODO Auto-generated method stub
        }

        @Override
        public void beforeTextChanged(CharSequence arg0, int arg1,
                int arg2, int arg3) {
            // TODO Auto-generated method stub
        }

        @Override
        public void onTextChanged(CharSequence arg0, int arg1, int arg2,
                int arg3) {
            // TODO Auto-generated method stub
            if(arg0.length()==0)
            {
                list.setAdapter(new LazyAdapter(OrganizationActivity.this, orgsList));
            }
            list.setAdapter(new LazyAdapter(OrganizationActivity.this, orgsList));
            String searchtext = null;
            try {
                searchtext=URLEncoder.encode(arg0.toString().trim(),"UTF-8");
            } catch (UnsupportedEncodingException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            String urlStr = "myURL?search="+searchtext;
            new LoadData().execute(urlStr);
            adapter = new LazyAdapter(OrganizationActivity.this, orgsList);
            list.setAdapter(adapter);
        }

    });

    XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML from URL
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(KEY_ORGANIZATION);
    // looping through all organization nodes <organization>
    for (int i = 0; i < nl.getLength(); i++) {
        // creating new HashMap
        HashMap<String, String> map = new HashMap<String, String>();
        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key => value
        map.put(KEY_ID, parser.getValue(e, KEY_ID));
        map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
        map.put(KEY_CITY, parser.getValue(e, KEY_CITY));
        map.put(KEY_STATE, parser.getValue(e, KEY_STATE));
        map.put(KEY_IMAGE_URL, parser.getValue(e, KEY_IMAGE_URL));

        // adding HashList to ArrayList
        orgsList.add(map);
    }

    list = (ListView) findViewById(R.id.list);

    View footerView = ((LayoutInflater) this
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(
            R.layout.listfooter, null, false);
    list.addFooterView(footerView);

    // Getting adapter by passing xml data ArrayList
    adapter = new LazyAdapter(this, orgsList);
    list.setAdapter(adapter);
    list.setOnScrollListener(this);

    // Click event for single list row
    list.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {

            String name = orgsList.get(position).get(KEY_NAME).toString();
            Toast.makeText(getApplicationContext(), name, Toast.LENGTH_LONG)
                    .show();
        }
    });

}

private class LoadData extends AsyncTask<String, Void, String> {

    @Override
    protected String doInBackground(String... urls) {

        for (String url : urls) {
            // TODO Auto-generated method stub
            XMLParser parser = new XMLParser();
            String xml = parser.getXmlFromUrl(url); // getting XML from URL
            Document doc = parser.getDomElement(xml); // getting DOM element

            NodeList nl = doc.getElementsByTagName(KEY_ORGANIZATION);
            // looping through all organization nodes <organization>
            for (int i = 0; i < nl.getLength(); i++) {
                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();
                Element e = (Element) nl.item(i);
                // adding each child node to HashMap key => value
                map.put(KEY_ID, parser.getValue(e, KEY_ID));
                map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
                map.put(KEY_CITY, parser.getValue(e, KEY_CITY));
                map.put(KEY_STATE, parser.getValue(e, KEY_STATE));
                map.put(KEY_IMAGE_URL, parser.getValue(e, KEY_IMAGE_URL));

                // adding HashList to ArrayList
                orgsList.add(map);
            }
        }
        return null;
    }

    @Override
    protected void onPostExecute(String result) {
        // TODO Auto-generated method stub
        adapter = new LazyAdapter(OrganizationActivity.this, orgsList);
        list.setAdapter(adapter);
        list.setSelectionFromTop(mPos, 0);
    }
}

@Override
public void onScroll(AbsListView view, int firstVisibleItem,
        int visibleItemCount, int totalItemCount) {

    //Get the visible item position
    mPos=list.getFirstVisiblePosition();

    int lastInScreen = firstVisibleItem + visibleItemCount;

    //Is the bottom item visible & not loading more already? Load more !
    if ((lastInScreen == totalItemCount) && !(loadingMore)) {
        page_no++;
        String pageURL = "myURL?page="
                + page_no;
        new LoadData().execute(pageURL);
    }

}

@Override
public void onScrollStateChanged(AbsListView view, int scrollState) {
    // TODO Auto-generated method stub

}

} 
```

请帮助我找到解决此问题的方法...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T12:06:17.853

看起来我在用新数据刷新我的 ListView 时犯了一点错误，而且我在其他地方调用了 notifyDataSetListener。现在它工作得非常好..

# php - file_get_contents 警告：无法打开流

> ID：11877894
> 
> 赞同：0
> 
> 时间：2012-08-09T06:30:00.087
> 
> 标签：php, arrays, json, file, file-get-contents

我在这里有一个问题，我一直在这里挖掘，看来我找不到真正的交易；

我正在尝试ff：

```
<?php
  $filename = $trantype . $delimiter . $dateToday . $fileExtension ;
  //echo $filename . '<br/>';

  $fileToOpen = $filepath . $filename;
  echo "File To Open: " . $fileToOpen . '<br/>';

  $string = file_get_contents($fileToOpen);
  //$string = file_get_contents("../transactions/o/O_20120809.xx");
  $json_array = json_decode($string, true);
  echo "Echo: " . $json_array[0]['itemheader_sysid'] . '<br/>';
  echo "The File Contents: " . $string;
?> 
```

另一方面 $string = file_get_contents('../transaction/o/O_20120809.xx') 工作顺利 $string = file_get_contents($fileToOpen); 似乎不起作用，并且给了我 ff: 错误；

```
 Warning: file_get_contents(../transactions/o/0_20120809.xx) [function.file-get-contents]: failed to open stream: No such file or directory in C:\xampp\htdocs\xx\helper\upo.php on line 19 
```

为什么这样？

请问有人吗？

# python - 如何确定动态 SQLAlchemy 关系的类型（例如多对一）？

> ID：11877899
> 
> 赞同：7
> 
> 时间：2012-08-09T06:30:13.970
> 
> 标签：python, sqlalchemy

假设我定义了以下 SQLAlchemy 类：

```
Base = declarative_base()

class Person(Base):
    __tablename__ = 'person'
    id = Column(Integer, primary_key=True)
    computers = relationship('Computer', backref=backref('owner', lazy='dynamic'))

class Computer(Base):
    __tablename__ = 'computer'
    id = Column(Integer, primary_key=True)
    ownerid = Column(Integer, ForeignKey('person.id')) 
```

进一步假设我以这种方式访问​​了惰性查询对象：

```
relation = getattr(Computer, 'owner') 
```

我如何确定是否`relation`引用单个实例`Person`（即在多对一关系中，如本例中），或者是否`relation`引用实例集合（如在一对多关系中）？换句话说，如何确定动态 SQLAlchemy 关系对象的关系类型？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-03T21:01:00.883

如果我们假设`model = Computer`和`relation = 'owner'`问题一样，那么以下属性是`True`当且仅当关系是实例列表而不是单个实例：

```
model._sa_class_manager[relation].property.uselist 
```

然后，您可以使用它来测试是否`one()`在结果上调用该方法`getattr(model, relation)`：

```
if model._sa_class_manager[relation].property.uselist:
    related_instances = getattr(model, relation)
else:
    related_instance = getattr(model, relation).one() 
```

但是，我不相信这是最好的解决方案。

# android-layout - 如何在片段中调用另一个扩展 View 类的类并将其设置为布局

> ID：11877900
> 
> 赞同：1
> 
> 时间：2012-08-09T06:30:17.137
> 
> 标签：android-layout

我制作了一个片段，还制作了一个类，它扩展了我制作的 View 类

一个画布，在那个类中，我在 onDraw() 方法中设置了一个图像。现在我想设置布局

我的片段作为画布意味着我想在我的图像中调用并设置画布

分段。因为 Activity 类有一个 setContentView() 方法，而 Fragment 有

onCreateView() 方法，所以我该怎么做。这是我的代码：

```
myFragment.java

@Override

public View onCreateView(LayoutInflater inflate , ViewGroup container, Bundle saved) { 

View v = inflater.inflate(new myView(this),container,false);

return v;

}

myView.java

onDraw(Canvas c){

c.drawBitmap(bitmap,10,10,mPaint);

} 
```

# android - 缓存或恢复到最近的 FlipView 项目

> ID：11877901
> 
> 赞同：0
> 
> 时间：2012-08-09T06:30:24.030
> 
> 标签：android, caching, viewflipper

无论如何，我可以在 FlipView 上缓存图像吗？我已经可以在 FlipView 上加载 (20) 图像，并且我使用 AsyncTask 进行加载，因为加载它需要大量时间。但我的主要问题是，有没有什么方法可以让我在 FlipView 中选择一个项目，比如项目 #15，然后显示 #15 的详细信息页面，当我按下返回时，FlipView 仍然会显示 #15 而不是重新加载整个 FlipView 并从项目 #1 重新开始。我正在像这样在我的 FlipView 上加载图像：

```
private int imageID[]={
         R.drawable.x1,
         R.drawable.x2,
         R.drawable.x3,
         R.drawable.x4,
         R.drawable.x5,
         R.drawable.x6,
         R.drawable.x7,
         R.drawable.x8,
         R.drawable.x9,
         R.drawable.x10,
         R.drawable.x11,
         R.drawable.x12,
         R.drawable.x13,
         R.drawable.x14,
         R.drawable.x15,
         R.drawable.x16,
         R.drawable.x17,
         R.drawable.x18,
         R.drawable.x19,
         R.drawable.x20
        };
ImageView[] image = new ImageView[20];
private ViewFlipper FlipV = null;

private class asyncImage extends AsyncTask<Void, Void, Void>{
    int i;
    @Override
    protected Void doInBackground(Void... params) {
        for (i=0;i<imageID.length;i++){
            image[i] = new ImageView(getBaseContext());
            image[i].setImageResource(imageID[i]);
            image[i].setBackgroundDrawable(getResources().getDrawable(R.drawable.border));
            image[i].setScaleType(ImageView.ScaleType.FIT_XY);
        }
        return null;
    }

    protected void onPostExecute(Void result){
        for (int x=0;x<imageID.length;x++){
        FlipV.addView(image[x]);
        }
        count = 1;
        progDialog.dismiss();
        txItem.setText(Integer.toString(count) + "/" + (imageID.length));
    }
}

private void nextImage(){
    if(count < imageID.length) {
        this.FlipV.setInAnimation(AnimationUtils.loadAnimation(this, R.anim.push_left_in));
        this.FlipV.setOutAnimation(AnimationUtils.loadAnimation(this, R.anim.push_left_out));
        this.FlipV.showNext();
        count++;
        txItem.setText(Integer.toString(count) + "/" + (imageID.length));
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:53:58.210

[您可以尝试Android Universal ImageLoader](https://github.com/nostra13/Android-Universal-Image-Loader)中给出的图像加载机制。这在某种程度上是[Fedor 的](https://stackoverflow.com/users/95313/fedor)优化解决方案-[带有图像的惰性列表](https://stackoverflow.com/a/3068012/379693)

因此，您可以尝试 ImageLoader 类并在您的应用程序中实现逻辑来解决问题。

# php - 如何使用 preg_match 从 url 获取字符串？

> ID：11877904
> 
> 赞同：0
> 
> 时间：2012-08-09T06:30:39.047
> 
> 标签：php, preg-match

我想使用 php preg_match 从 url 中提取 id。

例如：`$string = 'http://www.mysite.com/profile.php?id=1111';`我需要输出为`'1111'`

使用 preg_match。

我试过这个：

```
if(preg_match('/(?:https?):\/\/www\.mysite\.com\/profile\.php\?id\=[0-9]/', $string, $match) > 0){

    $id =  $match[1];
} 
```

但是我得到的输出是' `profile.php`'

有人能帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:34:49.707

为什么不[`parse_url`](http://www.php.net/manual/en/function.parse-url.php)使用[`parse_str`](http://php.net/manual/en/function.parse-str.php)

```
$url_component = parse_url($string);
parse_str($url_component['query'], $output);
echo $output['id']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:34:54.893

```
$pattern = '/(?:https?):\/\/www\.mysite\.com\/profile\.php\?id\=([0-9]+)/'; 
```

这应该可以正常工作！但是用[parse_url做到这一点](http://us2.php.net/parse_url)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T06:35:07.807

如果 url 中只有一个参数，您可以使用 explode 函数轻松完成此操作，例如

```
$string = 'http://www.mysite.com/profile.php?id=1111';
$ex=explode('=',$string);
$id=$ex[1]; 
```

您也可以使用 php 的 parse_url 函数。

希望这有帮助，

# delphi - 如何在 deplhi 中使用此过程获取两个不同的文件

> ID：11877906
> 
> 赞同：0
> 
> 时间：2012-08-09T06:30:42.393
> 
> 标签：delphi, parsing, matrix, csv

我想从两个文件 .txt 中获取值，一个文件包含与其他文件不同的维度矩阵

我试过这个代码：

```
 procedure TfrmJST.ParseDelimited(const S1: TStrings; const Value: String; const Delimiter: String);
    var
      dx,cx: integer;
      ns,ms: String;
      txt: string;
      delta,teta: integer;

   procedure TfrmJST.ParseDelimited(const S1: TStrings; const Value: String; const Delimiter: String);
var
  dx,cx: integer;
  ns,ms: String;
  txt: string;
  delta,teta: integer;

    begin
     Col := 1;
     Delta := Length(Delimiter);
     Txt := Value+Delimiter;;
     begin
      while Length(Txt) > 1 do
      begin
        Dx := Pos(Delimiter, Txt);
        Ns := Trim(Copy(Txt, 1, Dx-1));
    //    S1.Add('#'+Ns+'*');             //only needed for testing
        if Ns <> '' then
        begin
          Matrix[Row,Col] := StrToFloat(Ns);    //for first matrix
          Inc(Col);
        end;
        Txt := Copy(Txt, Dx+Delta, MaxInt);
      end;
     end;

     Col := 1;
     teta := Length(delimiter);
     txt := value+delimiter;
     begin
      while Length(txt) > 1 do
      begin
        cx := Pos(delimiter, txt);
        ms := Copy(txt, 1, cx-1);
        if ms <> '' then
          begin
          ref[Row,Col] := StrToFloat(ms);    ///for 2nd matrix

          Inc(Col);
          end;
          txt := Copy(txt, cx+teta, MaxInt);
      end;
     end;
    end; 
```

这是矩阵的初始化：

```
private
    { Private declarations }
    Row, Col: integer;
    Matrix: array[1..140,1..141] of double;
     Ref: array[1..2,1..140] of double ; 
```

这是实现：

```
begin
  Temp := TStringList.Create;
  MemoSL:= TStringList.Create ;
  Temp.LoadFromFile('trainer.txt');
  Row := 1;
  for I := 0 to Temp.Count-1 do
  begin
    ParseDelimited(MemoSL, Trim(Temp.Strings[I]), ' ');
    Inc(Row); //stackoverflow error in this line
  end;
  Temp.Free;

 //parsing second matrix
  TempList := TStringList.Create;
  Templist.LoadFromFile('refbaru.txt');
  row := 1;
  for J := 0 to Templist.Count-1 do
  begin
 T := Templist[J];
 ParseDelimited(Memo1.Lines, T, ' ');
  Inc(row);
  end;
  Templist.Free; 
```

我尝试了该代码但给了我错误，错误是处理第一个矩阵的“inc（row）”行中的stackoverflow错误。虽然我在处理第二个矩阵的第二个函数中给出了注释，但 Temp[i] 只返回 2 行矩阵 [140x141]。这是否意味着代码无法处理两个不同的文件？为什么它只返回两行矩阵？任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T16:46:36.503

It is pointless to look for a specific stack overflow error when many ordinary errors already exist.

If your code is clean programmed and it is still `stack overflow`, then of course, is time to look deeper into the code.
But first ! As long as you can see obvious errors, you should remove them.

*   1.) "Row" used in the same procedure on a 140 dimension array and on a only 2 dimension array. How can that work ?

Matrix: array[1..140,1..141] of double;
Ref: array[1..2,1..140] of double ;
File 'trainer.txt' 140 Lines
File 'refbaru.txt' 2 Lines.

```
for I := 0 to Temp.Count-1 do // 140 lines
// ParseDelimited() will only run properly if Row < 3 
// remember -> Ref: array[1..2,1..140])
// if Row > 2 , with Ref[Row,Col] := , 137 times data is overwritten.

   procedure ParseDelimited(MemoSL, Trim(Temp.Strings[I]), ' ');
      ....
      Matrix[Row,Col] := StrToFloat(Ns);
      ....
      Ref[Row,Col] := StrToFloat(ms); 
      ....
   end;
Inc(Row);
end; 
```

*   2.) If you run the second `loop` with `refbaru.txt` and the two arrays are present together in the procedure `ParseDelimited()`, then you overwrite 2 values of array `Matrix`

**recommendation**

*   make sure: Loop through `trainer.txt`, writes values only to the `Matrix array`.
*   make sure: Loop through `refbaru.txt`, writes values only to the `Ref array`.

Your code could look something like:

```
[...]
filetoload: String;
[...]
procedure TfrmJST.ParseDelimited(S1: TStrings; Value: String; const Delimiter: String);
var
 f:double;
[...]
     Col := 1;
     txt := Value+Delimiter;
[...]
if filetoload='trainer.txt' then begin
     Delta := Length(Delimiter);
      while Length(txt) > 1 do
      begin
        Dx := Pos(Delimiter, txt);
        Ns := Trim(Copy(txt, 1, Dx-1));
        if Ns <> '' then
        begin
          if TryStrToFloat(Ns,f) then Matrix[Row,Col]:=f;
          Inc(Col);
          if Col > MatrixColMax then break;
          txt := Copy(txt, Dx+Delta, MaxInt);        
        end else txt:='';
      end;
end;

if filetoload='refbaru.txt' then begin
     teta := Length(delimiter);
      while Length(txt) > 1 do
      begin
        cx := Pos(delimiter, txt);
        ms := Copy(txt, 1, cx-1);
        if ms <> '' then
          begin
          if TryStrToFloat(ms,f) then Ref[Row,Col]:=f;
          Inc(Col);
          if Col > RefColMax then break;
          txt := Copy(txt, cx+teta, MaxInt);
          end else txt:='';
      end;
end;

begin
[...]

filetoload:='trainer.txt';
Temp := TStringList.Create;
Temp.LoadFromFile(filetoload);
if Temp.Count > MatrixRowMax then LinesToLoad:=MatrixRowMax-1 else
                                  LinesToLoad:=Temp.Count-1;
for I := 0 to LinesToLoad do
   [...]
   ParseDelimited(MemoSL, Trim(Temp.Strings[I]), ' ');
   [...]
end;

filetoload:='refbaru.txt';
TempList := TStringList.Create;
TempList.LoadFromFile(filetoload);
if TempList.Count > RefRowMax then LinesToLoad:=RefRowMax-1 else 
                                   LinesToLoad:=TempList.Count-1;
for J := 0 to LinesToLoad do
   [...]
   ParseDelimited(Memo1.Lines, T, ' ');
   [...]
end;
end; 
```

**You should also compare the linesize of the file with the size of the arrays**

```
RefRowMax: integer;
RefColMax: integer;
MatrixRowMax: integer;
MatrixColMax: integer;
LinesToLoad: integer;

....

RefRowMax:=2;
RefColMax:=140;
MatrixRowMax:=140;
MatrixColMax:=141;
.... 
```

procedure ParseDelimited()

```
if filetoload='trainer.txt' then begin
 [...]
 Inc(Col)
 if Col > MatrixColMax then break;

end;

if filetoload='refbaru.txt' then begin
 [...]
 Inc(Col)
 if Col > RefColMax then break;

end; 
```

You should also look for a valid value of `Ns` , `StrToFloat(Ns)` before you write to the arrays in ParseDelimited()

*   function TryStrToFloat(const S: string; out Value: Double): Boolean;
    or
*   Val();

* * *

```
 var
  f:double;
  ....
  begin
  ....
  if TryStrToFloat(Ns,f) then Matrix[Row,Col]:=f;
  .... 
```

The `OP` overwritting many of used data.
And when he has enough data overwritten, he gets a stack overflow error.

![enter image description here](../Images/b25f444ef6960525660cc9ba627dd199.png)

![enter image description here](../Images/ead9bfc3b3e7add751f367fa67bbf3b0.png)

![enter image description here](../Images/5ffb57ca454d2dd2ff2589e55f5dd637.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T07:27:53.190

```
while Length(Txt) > 1 do
begin
  Dx := Pos(Delimiter, Txt);
  Ns := Trim(Copy(Txt, 1, Dx-1));
  //    S1.Add('#'+Ns+'*');             //only needed for testing
  if Ns <> '' then
  begin
    Matrix[Row,Col] := StrToFloat(Ns);    //for first matrix
    Inc(Col);
  end;
  Txt := Copy(Txt, Dx+Delta, MaxInt);
end; 
```

看着这段代码，我看到了无限循环的可能性：如果没有找到 Delimiter 会发生什么？它将继续运行并永远增加您的“col”值。如果没有找到分隔符，请确保有条件停止您的 while 循环。

# sql-server - 具有多对多关系的 SQL Server 表设计

> ID：11877911
> 
> 赞同：0
> 
> 时间：2012-08-09T06:31:07.867
> 
> 标签：sql-server, database-design, many-to-many

我有一个包含以下表格的数据库架构：

*   人们
*   组织
*   关系类型

我要设计的是关系类型的概念，然后是关系的结构。因此，一个人可以与另一个人或与一个组织建立某种关系。一个组织可以与另一个组织或个人建立关系。

我有以下架构，但我想通过社区运行它，看看是否有更好的想法。

```
CREATE TABLE OrganisationRelationshipTypes
(
    ID INT PRIMARY KEY IDENTITY,
    RelationshipTypeID INT NOT NULL REFERENCES RelationshipTypes(ID)
    FromOrganisationID INT NOT NULL REFERENCES Organisations(ID),
    ToOrganisationID INT NOT NULL REFERENCES Organisations(ID)
)

CREATE TABLE PersonRelationshipTypes
(
    ID INT PRIMARY KEY IDENTITY,
    RelationshipTypeID INT NOT NULL REFERENCES RelationshipTypes(ID),
    FromPersonID INT NOT NULL REFERENCES People(ID),
    ToPersonID INT NOT NULL REFERENCES People(ID)
)

CREATE TABLE OrganisationPersonRelationshipTypes
(
    ID INT PRIMARY KEY IDENTITY,
    RelationshipTypeID INT NOT NULL REFERENCES RelationshipTypes(ID)
    FromOrganisationID INT NOT NULL REFERENCES Organisations(ID),
    ToPersonID INT NOT NULL REFERENCES People(ID)
)

CREATE TABLE PersonOrganisationRelationshipTypes
(
    ID INT PRIMARY KEY IDENTITY,
    RelationshipTypeID INT NOT NULL REFERENCES RelationshipTypes(ID)
    FromPersonID INT NOT NULL REFERENCES People(ID),
    ToOrganisationID INT NOT NULL REFERENCES Organisations(ID)
) 
```

这样做的想法是它涵盖了这样的场景：

*   一个组织与另一个组织有业务往来
*   一个人是另一个人的父亲
*   一个组织最近雇用了这个人
*   一个人最近为该组织工作

这个模式似乎有点乱，但此刻我想不出替代方案。

你有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T12:02:38.410

`Party`通常用作个人或组织的通用术语，如“合同各方”......

![在此处输入图像描述](../Images/c2da4636fcfcf4b8d77888ec19c32671.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:39:10.173

看起来很好。

我建议将所有关系表压缩成一个

```
CREATE TABLE RelationShips (
    ID INT PRIMARY KEY IDENTITY,
    RelationshipTypeID INT NOT NULL REFERENCES RelationshipTypes(ID),
    FromPersonID INT REFERENCES People(ID),
    ToPersonID INT REFERENCES People(ID),
    FromOrganisationID INT REFERENCES Organisations(ID),
    ToOrganisationID INT REFERENCES Organisations(ID)
) 
```

这样，您只需一次数据库查找即可轻松过滤关系。即“查找与特定人的所有关系”。当然，您需要删除`NOT NULL`约束。

# c# - 如何检查登录用户在 Asp.Net 成员中的多个角色？

> ID：11877912
> 
> 赞同：1
> 
> 时间：2012-08-09T06:31:11.487
> 
> 标签：c#, asp.net, asp.net-membership, roles

我在我的代码隐藏文件中以编程方式绑定转发器。我还在我的页面中检查角色，如下所示，并据此绑定我的转发器控件，如下所示；

```
if (Page.User.IsInRole("Admin"))
{
    repeaterArticlesList.DataSource = ArticleAccess.GetArticlesWithNoPaginate();
    repeaterArticlesList.DataBind();
}
else if(Page.User.IsInRole("Editor"))
{
    repeaterArticlesList.DataSource = ArticleAccess.GetArticlesWithNoPaginate();
    repeaterArticlesList.DataBind();
}
else 
{
    string userName = Page.User.Identity.Name.ToString();
    repeaterArticlesList.DataSource = ArticleAccess.GetArticlesWithNoPaginateWithUsername(userName);
    repeaterArticlesList.DataBind();
} 
```

我总共有 4 个角色，即**Admin、Author、Editor、User**。但是，我有一个用户，即属于所有这些角色的**管理员。**我的逻辑问题是，当我以管理员用户（属于所有 4 个角色）身份登录时，第一个条件和第二个条件都失败，最后一个条件被执行。因此，**我想为该用户执行我的第一个条件，该用户必须在我的所有角色中 4 个角色。** 否则，我将检查各个角色。提前感谢任何有关此的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:48:08.443

```
if (Page.User.IsInRole("Admin") && Page.User.IsInRole("Editor") && Page.User.IsInRole("Author") && Page.User.IsInRole("User"))
{
  //
}
    //Only for users that are in all roles
    if (Roles.GetAllRoles().Length == Roles.GetRolesForUser().Length)
    {
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T08:00:44.370

您可以执行以下操作：

```
var userRoles = Roles.GetRolesForUser(userName);
var rolesNotAssigned = Roles.GetAllRoles().Except(userRoles);
if (rolesNotAssigned.Length == 0)
{
    // user is in all roles   
} 
```

# lua - Lua如何处理堆栈？

> ID：11877913
> 
> 赞同：2
> 
> 时间：2012-08-09T06:31:14.177
> 
> 标签：lua

我正在尝试 Lua 并想知道 lua_State 如何工作
代码和结果：

状态.c

```
#include <stdio.h>
#include "lua/src/lua.h"
#include "lua/src/lauxlib.h"
static void stackDump(lua_State *L){
    int i;
    int top = lua_gettop(L);
    for(i = 1; i<= top; i++) {
        int t = lua_type(L, i);
        switch(t){
        case LUA_TSTRING:
            printf("'%s'", lua_tostring(L, i));
            break;
        case LUA_TBOOLEAN:
            printf(lua_toboolean(L, i) ?"true":"false");
            break;
        case LUA_TNUMBER:
            printf("%g", lua_tonumber(L, i));
            break;
        default:
            printf("%s", lua_typename(L, t));
            break;
        }
        printf(" ");
    }
    printf("\n");
}

static int divide(struct lua_State *L){

    double a = lua_tonumber(L, 1);
    double b = lua_tonumber(L, 2);
    printf("%p\n", L);

    stackDump(L);

    int quot = (int)a / (int)b;
    int rem = (int)a % (int)b;

    lua_pushnumber(L, quot);
    lua_pushnumber(L, rem);

    stackDump(L);
    printf("---end div---\n");

    return 2;
}

int main(void){
    struct lua_State *L = lua_open();
    lua_pushboolean(L, 1);
    lua_pushnumber(L, 10);
    lua_pushnil(L);
    lua_pushstring(L, "hello");

    printf("%p\n", L);

    stackDump(L);

    lua_register(L, "div", divide);
    luaL_dofile(L, "div.lua");

    stackDump(L);
    lua_close(L);
    return 0;
} 
```

div.lua
`local c = div(20, 10)`

> 0x100c009e0
> true 10 nil 'hello'
> --- 开始 div ---
> 0x100c009e0
> 20 10
> 20 10 2 0
> --- 结束 div ---
> true 10 nil 'hello'

我看到`lua_State`的`divide`和那个是一样的`main`，但是它们在堆栈中有不同的数据，这是怎么做的？

我知道理解这一点的最好方法是阅读 Lua 的源代码，也许你可以告诉我在哪里可以找到正确的地方。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T02:01:44.467

将 lua_State 视为包含 Lua 堆栈，以及分隔堆栈当前可见部分的索引。当你调用一个 Lua 函数时，看起来你有一个新的堆栈，但实际上只有索引发生了变化。那是简化版。

`lua_State`中定义`lstate.h`。我已经为您提取了相关部分。`stack`是包含所有内容的大 Lua 堆栈的开始。`base`是当前函数的堆栈的开头。这就是您的函数在执行时所看到的“堆栈”。

```
struct lua_State {
  /* ... */
  StkId top;  /* first free slot in the stack */
  StkId base;  /* base of current function */
  /* ... */
  StkId stack_last;  /* last free slot in the stack */
  StkId stack;  /* stack base */
  /* ... */
}; 
```

*Programming in Lua, 2nd Edition*在第 30 章：线程和状态中讨论了 Lua 状态。你会在那里找到一些很好的信息。例如，`lua_State`不仅表示一个 Lua 状态，还表示该状态内的一个线程。此外，所有线程都有自己的堆栈。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T08:21:00.460

它获取不同数据的方式与*任何事物*获取不同数据的方式相同：代码更改对象内部的数据。

```
struct Object
{
  int val;
};

void more_stuff(Object *the_data)
{
  //the_data->val has 5 in it now.
}

void do_stuff(Object *the_data)
{
  int old_val = the_data->val;
  the_data->val = 5;
  more_stuff(the_data);
  the_data->val = old_val;
}

int main()
{
  Object my_data;
  my_data.val = 1;

  //my_data.val has 1.
  do_stuff(&my_data);
  //my_data.val still has 1.
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T11:38:46.067

当 Lua 调用一个注册的 C 函数时，它会给它一个新的栈帧。

# objective-c - 从 NSMutableData 保存和检索 Sint16

> ID：11877914
> 
> 赞同：0
> 
> 时间：2012-08-09T06:31:17.190
> 
> 标签：objective-c, ios, nsmutabledata

我需要在某个地方保存然后检索 Sint16（2 个字节）。

我得到：

```
SInt16* frames = (SInt16*)inBuffer->mAudioData; 
```

并想保存`&frames[i]`在以后可以轻松检索的某个地方（NSMutableData？）。我试图像这样保存（循环中）：

```
[recordedData appendBytes:&frames[i] length:1]; 
```

并检索：

```
 SInt16* framesRetrieve ;

    //sets up mybytes buffer and reads in data from myData
    framesRetrieve = (SInt16*)malloc([mutableData framesRetrieve]);

    [mutableData getBytes:framesRetrieve]; 
```

但是这个回报和我投入的不一样。

那么有什么解决办法呢？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:53:10.860

您需要知道数据的长度，然后您可以将整个缓冲区存储在一个`NSMutableData`对象中：

储藏：

```
SInt16 *frames = ...;
NSUInteger length = ...;    // Assuming number of elements in frames, not bytes!   
NSMutableData *data = [[NSMutableData alloc] initWithCapacity:0];
[data appendBytes:(const void *)frames length:length * sizeof(SInt16)]; 
```

要检索：

```
SInt16 *frames = (SInt16 *)[data bytes];
NSUInteger length = [data length] / sizeof(SInt16); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:41:28.407

您只是从 2 字节变量中复制一个字节。尝试一次将两个字节附加到 NSMutableData。

```
[recordedData appendBytes: frames length:sizeof(SInt16)]; 
```

# java - ScrollView 屏幕类似于 android 中的主菜单

> ID：11877918
> 
> 赞同：2
> 
> 时间：2012-08-09T06:31:22.897
> 
> 标签：java, android

我正在尝试在我的应用程序中添加滚动屏幕布局，就像`main screen scroll`任何 android 手机一样。我如何在我的活动中添加这样的屏幕。

检查下面的图像。 ![在此处输入图像描述](../Images/d3beed5dc7ceea47b0b67cdf9293b70e.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-09T06:56:08.457

您可以使用[ViewPager](http://developer.android.com/reference/android/support/v4/view/ViewPager.html)来做到这一点。ViewPager 也包含在 Support 库中，因此您可以在 HC< 上使用它。它完全像这样工作。

还有 ViewPager 的自定义实现，这增加了它的可能性，例如：[来自 Jake Wharton 的 ViewPager](https://github.com/JakeWharton/Android-ViewPagerIndicator/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:38:35.390

这可以通过使用“SwipeView”来完成

SwipeView 是一个类似于主屏幕的 Android UI 视图。您可以通过左右滑动访问多个类似的内容窗格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T07:01:45.007

您可以使用[Android ViewFlow](https://github.com/pakerfeldt/android-viewflow/)或[ViewPagerIndicator](http://viewpagerindicator.com/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T07:06:57.437

使用 Jack Wharton 的 ViewPagerIndicator，它应该适合您。

[https://github.com/JakeWharton/Android-ViewPagerIndicator/](https://github.com/JakeWharton/Android-ViewPagerIndicator/)

# java - 如何获取 swt.table 中的总行数

> ID：11877921
> 
> 赞同：1
> 
> 时间：2012-08-09T06:31:47.117
> 
> 标签：java, eclipse, swt, tabitem

我想要做的是从所选行中获取所有 tableItems。但我发现 tableItems 存储在索引中（如在 arrary 中），而不是像给出行和列并将其存储在表的特定单元格（行、列）中。

所以我必须遍历所有下一行直到表的末尾，然后遍历所有行直到选定的行才能找到我需要的 tableItem。

![在此处输入图像描述](../Images/1a2704803c799b9f279381e4e2a4fed9.png)

请参阅图片以了解我的问题。彩色行是选定的行。如果我想从 'a' 到 'b' 然后 'c' 等等完整的行，我已经完成了所有下一行。

所以现在的问题是如何获得 swt.table 中存在的总行数

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T08:10:15.830

SWT TableItem 是表中的一行。您可以使用它的 getText(int index) 方法获取所选 TableItem 的索引列的内容（第一列从 0 开始）。

因此，TableItems 的数量是总行数。

# javascript - 获取可滚动列表中第一个可见项目的位置

> ID：11877925
> 
> 赞同：1
> 
> 时间：2012-08-09T06:32:10.377
> 
> 标签：javascript, dom, user-interface

我有一个带有`li`s 的列表。每个项目在集合中都有一个对应的对象。当我开始滚动列表时，我现在想知道实际的第一个可见项目是什么，以及它在我的收藏中的位置。在我的第一个版本中，这很容易，因为每个项目都有相同的高度，我可以将列表的 scrollTop 除以项目的高度。但在我们的新版本中，每个项目都可以有不同的高度。

问题是它是一个可无限滚动的列表，而且它必须在移动设备上运行。所以也许有更好的解决方案然后迭代所有项目并总结它的高度直到它大于列表的滚动顶部。

有没有常见的方法来处理这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T07:10:54.680

好的，我找到了一个简单的方法`document.elementFromPoint`：

```
 <script>
    var span = $('span');
    var ul =  $('ul')
    var y = ul.offset().left +1;
    var x = ul.offset().top +1;
    $('ul').scroll(function(){
      var el = document.elementFromPoint(y,x);
      span.html($(el).html())
    })
  </script> 
```

[例子](http://jsbin.com/ucilig/3/)

# google-drive-api - 有没有办法判断某个应用是否已从 Chrome 网上应用店添加？

> ID：11877926
> 
> 赞同：2
> 
> 时间：2012-08-09T06:32:18.790
> 
> 标签：google-drive-api

如果用户尚未从 Chrome 网上应用店安装我的驱动器应用程序，我想向用户显示一条消息和安装按钮。

有没有办法判断应用程序是否已安装？

我已经可以访问应用程序列表，但我找不到区分用户是否可以从驱动器“创建”菜单创建文件并查看我的文件图标的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T16:13:26.503

您可以通过向端点发送授权`GET`请求来检索此信息。如果您的应用程序已被用户安装，则[`drive.about.get`](https://developers.google.com/drive/v2/reference/about/get)返回的元数据将包含一个[`isCurrentAppInstalled`](https://developers.google.com/drive/v2/reference/about#isCurrentAppInstalled)属性设置：`true`

```
GET https://www.googleapis.com/drive/v2/about
Authorization: Bearer ********* 
```

# delphi - 使用计时器将 Delphi 表单最小化到系统托盘

> ID：11877929
> 
> 赞同：2
> 
> 时间：2012-08-09T06:32:35.773
> 
> 标签：delphi, delphi-xe2

我是德尔福学习者。我正在寻找解决方案，以便使用 Timer 将 Delphi MainForm 最小化到系统托盘而不是任务栏。我已经实现了以下代码。在这里一切都很好，除了一个。最小化表单后，它转到“SystemTray”，但也可以在“TaskBar”中使用。对于我的应用程序，“Form001”的“AlphaBlend”属性为真，“AlphaBlendValue”为“0”。

```
unit KoushikHalder001;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.Buttons, Vcl.ExtCtrls, Vcl.Imaging.pngimage,
  Vcl.AppEvnts, Vcl.ImgList, Vcl.Menus;

type
  TForm001 = class(TForm)
    Edit001: TEdit;
    Background: TImage;
    BitBtn001: TBitBtn;
    BitBtn002: TBitBtn;
    FadeInTimer: TTimer;
    FadeOutTimer: TTimer;
    FormMinimizeTimer: TTimer;
    FormRestoreTimer: TTimer;
    TrayIcon: TTrayIcon;
    PopupMenu: TPopupMenu;
    ImageList: TImageList;
    ApplicationEvents: TApplicationEvents;
    Form001Close: TMenuItem;
    Form001Hide: TMenuItem;
    Form001Show: TMenuItem;
    Form002Close: TMenuItem;
    Form002Hide: TMenuItem;
    Form002Show: TMenuItem;
    N01: TMenuItem;
    N02: TMenuItem;
    N03: TMenuItem;
    N04: TMenuItem;
    N05: TMenuItem;
    N06: TMenuItem;
    N07: TMenuItem;
    N08: TMenuItem;
    N09: TMenuItem;
    N10: TMenuItem;
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure FormCloseQuery(Sender: TObject; var CanClose: Boolean);
    procedure FormHide(Sender: TObject);
    procedure FormShow(Sender: TObject);
    procedure BitBtn001Click(Sender: TObject);
    procedure BitBtn002Click(Sender: TObject);
    procedure FadeInTimerTimer(Sender: TObject);
    procedure FadeOutTimerTimer(Sender: TObject);
    procedure FormMinimizeTimerTimer(Sender: TObject);
    procedure FormRestoreTimerTimer(Sender: TObject);
    procedure ApplicationEventsMinimize(Sender: TObject);
    procedure TrayIconDblClick(Sender: TObject);
    procedure Form001CloseClick(Sender: TObject);
    procedure Form001HideClick(Sender: TObject);
    procedure Form001ShowClick(Sender: TObject);
    procedure Form002CloseClick(Sender: TObject);
    procedure Form002HideClick(Sender: TObject);
    procedure Form002ShowClick(Sender: TObject);
  private
    { Private declarations }
    CrossButtonClick: Boolean;
    procedure WMNCHitTest(var Msg: TWMNCHitTest) ; message WM_NCHitTest;
    procedure WMSysCommand(var Msg: TWMSysCommand) ; message WM_SysCommand;
  public
    { Public declarations }
  end;

var
  Form001: TForm001;

implementation

{$R *.dfm}

uses KoushikHalder002;

procedure TForm001.WMNCHitTest(var Msg: TWMNCHitTest);
begin
  inherited;
  if ControlAtPos(ScreenToClient(Msg.Pos), True, True, True)= nil
    then
      begin
        if Msg.Result=htClient then Msg.Result := htCaption;
      end;
end;

procedure TForm001.WMSysCommand(var Msg: TWMSysCommand);
begin
  case Msg.CmdType of
    SC_MINIMIZE:
      begin
        if Form001.AlphaBlendValue > 0 then
          begin
            Form001.FormMinimizeTimer.Enabled := true;
            Exit;
          end;
      end;
    SC_RESTORE:
      begin
        if Form001.AlphaBlendValue < 220 then
          begin
            Form001.FormRestoreTimer.Enabled := True;
          end;
      end;
  end;
  inherited;
end;

procedure TForm001.ApplicationEventsMinimize(Sender: TObject);
begin
  Form001.FormMinimizeTimer.Enabled := true;
  TrayIcon.Visible := True;
  TrayIcon.Animate := True;
  TrayIcon.ShowBalloonHint;
end;

procedure TForm001.BitBtn001Click(Sender: TObject);
begin
  if Form002.WindowState = wsMinimized then
    begin
      Form002.Perform(WM_SYSCOMMAND, SC_RESTORE, 0);
    end
    else
    Form002.show;
end;

procedure TForm001.BitBtn002Click(Sender: TObject);
begin
  Form002.FadeOutTimer.Enabled := true;
  Form001.FadeOutTimer.Enabled := true;
end;

procedure TForm001.Form001CloseClick(Sender: TObject);
begin
  Form002.FadeOutTimer.Enabled := true;
  Form001.FadeOutTimer.Enabled := true;
end;

procedure TForm001.Form001HideClick(Sender: TObject);
begin
Form001.FormMinimizeTimer.Enabled := true;
end;

procedure TForm001.Form001ShowClick(Sender: TObject);
begin
  if Form001.WindowState = wsMinimized then
    begin
      Form001.Perform(WM_SYSCOMMAND, SC_RESTORE, 0);
    end
    else
    Form001.show;
end;

procedure TForm001.Form002CloseClick(Sender: TObject);
begin
Form002.FadeOutTimer.Enabled := true;
end;

procedure TForm001.Form002HideClick(Sender: TObject);
begin
Form002.FormMinimizeTimer.Enabled := true;
end;

procedure TForm001.Form002ShowClick(Sender: TObject);
begin
  if Form002.WindowState = wsMinimized then
    begin
      Form002.Perform(WM_SYSCOMMAND, SC_RESTORE, 0);
    end
    else
    Form002.show;
end;

procedure TForm001.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  Form001.FadeOutTimer.Enabled := true;
end;

procedure TForm001.FormCloseQuery(Sender: TObject; var CanClose: Boolean);
begin
  if CrossButtonClick = true
    then
      begin
        CanClose := true;
        Exit;
      end;
  CanClose := false;
  Form001.FadeOutTimer.Enabled := true;
end;

procedure TForm001.FormHide(Sender: TObject);
begin
  Form001.FadeOutTimer.Enabled := true;
end;

procedure TForm001.FormShow(Sender: TObject);
begin
  Form001.FadeInTimer.Enabled := true;
end;
procedure TForm001.TrayIconDblClick(Sender: TObject);
begin
  Form001.FormRestoreTimer.Enabled := true;
  TrayIcon.Visible := False;
  WindowState := wsNormal;
  Application.BringToFront();
end;

procedure TForm001.FadeInTimerTimer(Sender: TObject);
begin
  if Form001.AlphaBlendValue >= 220
    then
      begin
        Form001.FadeInTimer.Enabled := false;
      end
    else
      begin
        Form001.AlphaBlendValue := Form001.AlphaBlendValue + 10;
        CrossButtonClick := false;
      end;
end;

procedure TForm001.FadeOutTimerTimer(Sender: TObject);
begin
  if Form001.AlphaBlendValue <= 0
    then
      begin
        Form001.FadeOutTimer.Enabled := false;
        CrossButtonClick := true;
        Self.Close;
      end
    else
      begin
        Form001.AlphaBlendValue := Form001.AlphaBlendValue - 10;
        CrossButtonClick := true;
      end;
end;

procedure TForm001.FormMinimizeTimerTimer(Sender: TObject);
begin
  if Form001.AlphaBlendValue > 0 then
    begin
      Form001.AlphaBlendValue := Form001.AlphaBlendValue - 10;
    end
  else
    begin
      Form001.FormMinimizeTimer.Enabled := false;
      Perform(WM_SYSCOMMAND, SC_MINIMIZE, 0);
    end;
end;

procedure TForm001.FormRestoreTimerTimer(Sender: TObject);
begin
  if Form001.AlphaBlendValue < 220 then
    begin
      Form001.AlphaBlendValue := Form001.AlphaBlendValue + 10;
    end
  else
    begin
      Form001.FormRestoreTimer.Enabled := false;
    end;
end;

end. 
```

如果我执行以下操作

```
Application.MainFormOnTaskbar := false; 
```

当应用程序运行时，表单是完全不可见的。我认为应该有一个错误。但我找不到它。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T20:56:57.847

如果要从任务栏中删除表单，则需要将其隐藏而不是最小化。`Hide`完成淡出表格后只需调用即可。

关于删除任务栏按钮，实际上如何配置`MainFormOnTaskbar`. 因此，您应该`MainFormOnTaskbar`根据自己的喜好为应用程序在其正常操作模式下进行设置。该属性与任务栏按钮是否显示无关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:30:15.733

您应该隐藏应用程序。这是从任务栏和桌面隐藏和恢复应用程序的过程。如果您的应用程序中有多个可见的表单，请取消注释 Application.Minimize 和 Application.Restore：

```
procedure TMainForm.ChangeApplicationVisibility;
begin
    if Visible then
      begin
       Hide;
//       Application.Minimize;
       ShowWindow(Application.Handle,SW_Hide);
      end
    else
    begin
     Show;
//     Application.Restore;
     Application.BringToFront;
    end;
end; 
```

# mongodb - mongodb can't start on windows?

> ID：11877930
> 
> 赞同：13
> 
> 时间：2012-08-09T06:32:51.227
> 
> 标签：mongodb

when i tried to start mongodb using the command "mongod.exe" on the command line, it throws the following error..

```
C:\mongodb-win32-x86_64-2.0.6\bin>mongod.exe
mongod.exe --help for help and startup options
Thu Aug 09 11:56:48 [initandlisten] MongoDB starting : pid=6892 port=27017 dbpat
h=/data/db 64-bit host=user4-PC
Thu Aug 09 11:56:48 [initandlisten] db version v2.0.6, pdfile version 4.5
Thu Aug 09 11:56:48 [initandlisten] git version: e1c0cbc25863f6356aa4e31375add7b
b49fb05bc
Thu Aug 09 11:56:48 [initandlisten] build info: windows sys.getwindowsversion(ma
jor=6, minor=1, build=7601, platform=2, service_pack='Service Pack 1') BOOST_LIB
_VERSION=1_42
Thu Aug 09 11:56:48 [initandlisten] options: {}
**************
old lock file: \data\db\mongod.lock.  probably means unclean shutdown,
but there are no journal files to recover.
this is likely human error or filesystem corruption.
found 3 dbs.
see: http://dochub.mongodb.org/core/repair for more information
*************
Thu Aug 09 11:56:48 [initandlisten] exception in initAndListen: 12596 old lock f
ile, terminating
Thu Aug 09 11:56:48 dbexit:
Thu Aug 09 11:56:48 [initandlisten] shutdown: going to close listening sockets..
.
Thu Aug 09 11:56:48 [initandlisten] shutdown: going to flush diaglog...
Thu Aug 09 11:56:48 [initandlisten] shutdown: going to close sockets...
Thu Aug 09 11:56:48 [initandlisten] shutdown: waiting for fs preallocator...
Thu Aug 09 11:56:48 [initandlisten] shutdown: lock for final commit...
Thu Aug 09 11:56:48 [initandlisten] shutdown: final commit...
Thu Aug 09 11:56:48 [initandlisten] shutdown: closing all files...
Thu Aug 09 11:56:48 [initandlisten] closeAllFiles() finished
Thu Aug 09 11:56:48 dbexit: really exiting now 
```

i really cant start mongodb.. Help me to start mongodb as windows service and rectify the error. I already read the installation guide and followed the same but still throwing the error.

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-08-09T06:37:41.320

删除锁定文件`\data\db\mongod.lock`，然后运行`mongod --repair`。

[资源](http://www.mkyong.com/mongodb/old-lock-file-datadbmongod-lock-probably-means-unclean-shutdown/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:59:53.447

如果您删除锁定文件，您肯定要运行修复。如果您确实使用日志运行 mongodb，则不必修复。有关两者的更多信息，[请访问 http://www.mongodb.org/display/DOCS/Durability+and+Repair](http://www.mongodb.org/display/DOCS/Durability+and+Repair)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-09T06:54:05.633

**Bugfix** 如果删除*mongodb.lock*文件没有帮助，请尝试使用命令*--repair修复 MongoDB*

**将 MongoDB 作为服务** 启动 如果您想将 MongoDB 作为服务启动，您可以添加命令*--service*。如果您有多个实例，您还可以使用*--serviceName{name}*和*--serviceDisplayName{name}*作为唯一名称。您可以在[此处](http://www.mongodb.org/display/DOCS/Windows+Service)找到有关作为服务启动的更多信息

# php - Why the string defined by Heredoc syntax inherits the properties from HTML tags above

> ID：11877931
> 
> 赞同：0
> 
> 时间：2012-08-09T06:33:00.753
> 
> 标签：php, html

I am new in learning PHP and even in coding overall. Please see the code below and parse it in your browser

```
<?php
echo "<h3> Below is an examples of Heredoc Syntax in PHP<h3>";
$foo = <<<XYZ
This is a string using heredoc syntax.
XYZ;
    echo $foo;
?> 
```

Whey the string stored in $foo inherits the properties of h3 tag above when parsed in a browser? Should it not return plain text? Help please.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:35:12.990

You didn't close the first `<h3>` tag properly. Instead you're starting a new one. So in actuality you have *two* `h3` elements, neither with a closing tag...

If you close it correctly, it should work as expected:

```
echo "<h3> Below is an examples of Heredoc Syntax in PHP</h3>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:36:19.917

你需要关闭`<h3> </h3>`标签..而不是你再次打开它

# jquery-mobile - jQuery Mobile Conference example

> ID：11877933
> 
> 赞同：0
> 
> 时间：2012-08-09T06:33:11.317
> 
> 标签：jquery-mobile

Awhile back when I first read about jQuery mobile I remember seeing an example site that was written for some tech conference. It had Google maps integration and a schedule. I think it was for an O'Reilly (the publisher) conference. Does anyone know where I might find a link to this?

Thanks!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T09:57:29.060

您可以尝试查看[jQuery Mobile Gallery](http://www.jqmgallery.com)，有 13 个页面的 jQM 站点，您可能能够找到您正在寻找的那个，或者其他类似的东西。

# python - How can I create CustomUser (which inherits django's User) if I have instance of User?

> ID：11877934
> 
> 赞同：0
> 
> 时间：2012-08-09T06:33:15.170
> 
> 标签：python, django

I have CustomUser class

```
class CustomUser(User):
    some_extra_field = models.CharField(max_length=30, blank=True) 
```

Now in some view I get User instance as argument and inside this view I want to create CustomUser instance based on that argument.

Should I do this like this?

```
def view(user):
    custom_user = user
    custom_user.__class__ = CustomUser 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:41:07.600

[这个关于扩展用户模型的问题有](https://stackoverflow.com/questions/44109/extending-the-user-model-with-custom-fields-in-django)帮助吗？

# php - upload file to server by just giving the name of the file

> ID：11877935
> 
> 赞同：2
> 
> 时间：2012-08-09T06:33:17.567
> 
> 标签：php, javascript, jquery, ftp

I am trying to upload a file from client pc to server by just giving the name of the file with file location in the temp folder. is there any solution in php or J Query etc.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T11:11:42.770

好吧，不是 J Query 而是 Java，这是可能的。使用客户端签名的小程序通过 ftp 按名称传输文件。我发现这个[链接](http://www.javabeat.net/2007/10/file-upload-and-download-using-java/)非常有用。由于小程序在客户端运行，可能会出现一些安全 ftp 密码和用户名等问题。但希望它能给你一些方向来解决你的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T06:36:39.293

有很多方法可以做到这一点，真正快速的谷歌搜索可能会产生足够的结果让你忙碌一段时间。这可以用纯 php 完成，但我一直在使用一个漂亮的插件，它也包含 jQuery。它被称为[BlueImp jQuery Uploader](http://blueimp.github.com/jQuery-File-Upload/ "BlueImp jQuery 上传器")。它经过跨浏览器测试，界面非常漂亮。

开发人员在他的页面上有一个演示。

您可以使用多种选项来自定义上传器的外观。您还可以指定它将保存的位置、您希望如何命名文件以及是否还希望创建缩略图。

## 编辑：

从您的评论看来，您正在尝试从客户端计算机检索文件，而用户没有选择该文件。这是不可能的，而且存在安全风险。用户必须选择文件。此外，每个人都有不同的计算机文件系统。每个操作系统都有不同的文件结构，所以你永远不能依赖那个临时文件夹在同一个地方。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-10T12:44:19.173

可以使用 java applet + php ，使用 HttpClient 库的 javaP applet 发布请求，而在服务器端 php 将接受此发布请求以获取更多信息：

工作代码： [http:](http://www.einfobuzz.com/2011/09/upload-file-using-java-swing-and-php.html) //www.einfobuzz.com/2011/09/upload-file-using-java-swing-and-php.html HttpClient 库： [http ://hc.apache.org/downloads.cgi](http://hc.apache.org/downloads.cgi)

# java - 如何在 Solr 索引中创建嵌套文档？

> ID：11877938
> 
> 赞同：0
> 
> 时间：2012-08-09T06:33:46.923
> 
> 标签：java, solr, indexing, document, solrj

我想在 solr 中创建嵌套文档，我正在使用 java/GWT/SolrJ。

目前我正在索引以下字段：

项目：
id 标题 desc。

1 xyz xyzxyzxyz

2 pqr pqrpqrpqr

3 abc abcabcabc。

但是现在我想再创建一个与上面的每个文档链接的文档，即对于 id 1，有一个包含以下字段的子文档：

Item_User_Details：

对于第 1 项：

用户详情

1 qweqweqwe

2 xyzxyzxyz

3 阿达斯达

这样，我想为上表中的每个项目 id 创建一个 item_user_details 的链接文档。

我怎样才能做到这一点...？提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T08:40:40.537

在我们的模式中，我们有很多相关的表。

我们决定将所有关系扁平化到一个文档中。为了实现这一点，我们创建了一个自定义导入器（使用 SolrJ），它从索引中加载每个文档，添加相关字段并将该文档写回。

[编辑]
我们通过以下方式执行此操作：

1.  将每个表的数据导出为 csv 文件（item，item_user_details）
2.  将每个 csv 文件导入 Solr，从顶部开始（在您的情况下为项目）
3.  启动 Embedded-Solr 服务器：
    `System.setProperty("solr.solr.home", config.getSolrIndexPath());` `CoreContainer.Initializer initializer = new CoreContainer.Initializer();` `this.coreContainer = initializer.initialize();` `this.solr = new EmbeddedSolrServer(this.coreContainer, "");`
    或者，您可以访问远程 solr 实例：
    `this.solr = new HttpSolrServer("http://[your-url]/solr");`
4.  为文件中的每一行创建一个 SolrDocument
5.  将其添加到索引中`this.solr.add(ClientUtils.toSolrInputDocument(doc));`
6.  犯罪`this.solr.commit();`
7.  从索引（项目）加载文档
8.  通过文档 id (item-id) 在 item_user_details 的 csv 文件中识别关系
9.  使用 item_user_details 中的字段扩展加载的文档
10.  再次提交文档

# flash - Flex Application as Singleton (Flash Builder 4.6, Eclipse)

> ID：11877942
> 
> 赞同：0
> 
> 时间：2012-08-09T06:34:15.393
> 
> 标签：flash, apache-flex, singleton, adobe

I have one Flex application which I launched via Eclipse. Now if I open a new tab (e.g in Firefox) with these commands:

```
 var url:String = 'DeepLinkingProject.html#view=1';
            var urlReq:URLRequest = new URLRequest(url);
            navigateToURL(urlReq,'_blank'); 
```

I have two instances of the same application. But I do not want that. I want that these two share the same application instance and if I update one component in one browser-tab I want the other browser-tab to be synchronized.

Is this possible?!

test example:

```
<?xml version="1.0" encoding="utf-8"?>
 <s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
           xmlns:s="library://ns.adobe.com/flex/spark" 
           xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600" xmlns:local="*" xmlns:test="test.*" creationComplete="init()" >
<fx:Declarations>
    <!-- Place non-visual elements (e.g., services, value objects) here -->
</fx:Declarations>
<fx:Script>
    <![CDATA[   
                             import flash.net.navigateToURL;

        import mx.events.BrowserChangeEvent;
        import mx.managers.BrowserManager;
        import mx.managers.IBrowserManager;
        import mx.utils.URLUtil;

        private var bm:IBrowserManager;
        private var isParsing:Boolean;
        private var title:String;

        private function init():void{
            bm = BrowserManager.getInstance();
            bm.init("","Start");
            bm.addEventListener(BrowserChangeEvent.BROWSER_URL_CHANGE, parseURL);
            callLater(parseURL);

        }

        private function parseURL():void{
            //isParsing = true;
            //var o:Object = URLUtil.stringToObject(bm.fragment);
            //if (o.view == undefined)
            //  o.view = "Home";
            //bm.setTitle(title);
            //isParsing = false;
        }

        private function updateU():void{
            var fragments:String = "";
            fragments = bm.fragment;

            btnA.label = fragments;

           /////////////////////////////////////////////////////////////////////////
           // e.g. After this call, a new Browser-Tab gets opened and the
                            // Button Component should have the same Label content

            navigateToURL(new URLRequest('DeepLinkingProject.html'));
        /////////////////////////////////////////////////////////////
                           }

        private function changeUrl():void{
            bm.setFragment('view=B');
            updateU();
        }
    ]]>
</fx:Script>

<mx:VBox>
    <s:Label id="header" text="Application started without Parameters"/>
    <mx:HBox borderStyle="solid">
        <s:Button id="btnA" click="changeUrl()"/>
    </mx:HBox>
</mx:VBox> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T07:29:19.650

加载的 Flash 应用程序可以通过[LocalConnection](http://learn.adobe.com/wiki/display/Flex/Local+Connections)进行通信。因此，您可以将消息从一个应用程序发送到另一个应用程序并复制行为。

# iphone - Show UIActivityIndicator while drawing in Quartz

> ID：11877945
> 
> 赞同：1
> 
> 时间：2012-08-09T06:34:20.483
> 
> 标签：iphone, objective-c, ipad, uiview, core-graphics

I have a complex Quartz routine in `drawRect` for a custom `UIView` subclass. It can take a few seconds to draw. What I'd like is to show a `UIActivityIndicator` while it is drawing. But then the indicator must stop spinning (and get hidden) after the drawing is complete.

I tried to start the animation of the indicator and then use `performSelector` for a custom method that simply calls `setNeedsDisplay` - my thinking is that `performSelector` will wait until the next run loop, right? In which case, my indicator has time to start on the main thread. This seems to be working, but as soon as I add the code to the end of `drawRect` to stop the animation, the indicator doesn't show up at all, as if this animation is ending before it's had a chance to begin.

Any suggestions?

I call the drawing like this:

```
[self.spinner startAnimating];
[self performSelectorOnMainThread:@selector(redraw) withObject:nil waitUntilDone:YES];//tried both YES and NO here

-(void)redraw{
[self.customView setNeedsDisplay]; 
```

}

The `drawRect:` simply has this at the end:

```
 - (void)drawRect:(CGRect)rect{
  //bunch of drawing
  [self.nav stopSpinner]; // reference to a controller class
   } 
```

In `self.nav` object is this:

```
 -(void)stopSpinner{
self.spinner.hidden=YES;
[self.spinner stopAnimating];
} 
```

And the `spinner` object is initially created like this:

```
 self.spinner=[[[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhiteLarge]autorelease];
    self.spinner.hidden=YES;
    [self.viewController.view addSubview:self.spinner]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T10:45:41.797

在后台线程上执行绘图。这不仅可以让您抛出一个活动指示器并让它根据需要进行动画处理，而且绘图本身的速度要快得多。在我的测试中，我发现在后台线程上复杂的 Quartz 绘图速度提高了 10 倍。

这并不难。事实上，它可能非常快，您不需要活动指示器。

这是代码，您可以简单地使用常规`UIImageView`，然后将其`image`属性分配给另一个线程的渲染输出：

```
 dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0ul);

  dispatch_async(queue, ^{

    UIGraphicsBeginImageContext(self.bounds.size);
    CGContextRef context = UIGraphicsGetCurrentContext();

    //perform some drawing into this context

    UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    dispatch_sync(dispatch_get_main_queue(), ^{
        self.imageView.image=viewImage;
    });
}); 
```

# java - Runtime.getRuntime().availableProcessors()

> ID：11877947
> 
> 赞同：18
> 
> 时间：2012-08-09T06:34:23.933
> 
> 标签：java, windows, performance, runtime

I am trying to check the performance of a program. I refer this post [get OS-level system information](https://stackoverflow.com/questions/25552/using-java-to-get-os-level-system-information). When `Runtime.availableProcessors()` executes, I get an answer of **4**. I read [availableProcessors()](http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#availableProcessors%28%29) but it tells that this method returns number of processors

1.  Can anyone explain what is mean by number of processors ?
2.  Why am getting 4 as result ?

I am using Windows 7 core i5 4gp.

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-09T06:38:34.243

正如您所读到的，**availableProcessors()**是一个返回`number of processors available to the JVM`. **4**表示当前可用于 JVM 的处理器数量。

***这些行在`number of logical cores`Windows 和其他操作系统中返回。***

在具有支持**超线程的****四核 Core i7**的计算机上，它将返回**8**。

 ****在具有**四核 Q6700**的计算机上，此方法将返回**4**。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-08-09T06:39:21.523

处理器的数量基本上是能够运行您的代码的执行引擎的数量。i5 变体之一是 4 核 CPU，即 i5-7 系列。这些可能是物理上不同的处理器（即使它们存在于同一个芯片中），或者当您使用超线程时它们可能是逻辑处理器。

有关详细信息，请参阅[http://en.wikipedia.org/wiki/Intel_Core#Core_i5](http://en.wikipedia.org/wiki/Intel_Core#Core_i5)和[http://en.wikipedia.org/wiki/Hyper-threading 。](http://en.wikipedia.org/wiki/Hyper-threading)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-09T06:38:56.177

它没有提供可用于 jvm 进程的内核。如果启用了超线程，它可能会大于实际值。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-09T06:37:41.687

您有一个[多核处理器](https://en.wikipedia.org/wiki/Multi-core_processor)（在您的情况下，它看起来像是[Lynnfield](https://en.wikipedia.org/wiki/Lynnfield_%28microprocessor%29)）。就信息而言，每个内核都算作一个单独的 CPU（一个单独的处理器），因为每个内核都可以与其他内核同时执行指令。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T06:43:58.250

在这种情况下，“处理器”是“能够独立执行的硬件”，即 cpu*核心*。

它不是“处理器包”——您购买的单个硬件单元（实际上是一个包中的 4 个独立 CPU）****

# php - PHP: Disable Enable text box on the basis of dropdown

> ID：11877948
> 
> 赞同：0
> 
> 时间：2012-08-09T06:34:34.543
> 
> 标签：php

I'm new to PHP. i am trying to create some html code within a php function as below.

* * *

```
$str .="</div>
                <div class='cls_setpadding'>
                    <form method='get' action='homepage.php'>
                    <div class='cls_caller_options'>
                        <select name='test'>
                            <option value='allcaller'>".getResourceStrings('msg_allcaller',$lng)."</option>
                            <option value='specialcaller'>".getResourceStrings('msg_splcaller',$lng)."</option>
                        </select><br />
                    </div>
                    <div class='cls_msg_splcaller'>";
        $str .=      getResourceStrings('msg_spcallaer',$lng);          
        $str .="    </div>
                    <div style='padding-top:2%'></div>
                    <div class='cls_search_box'>
                    <input type='hidden' name='function' value='Buysuccess' />
                    <input type='hidden' name='vcode' value='".$vcode."' />";
                    if($testmsisdnheader != ""){
                        $msisdn_header = getheader();
                        $str .="<input type='hidden' name='".$msisdn_header."' value='".$msisdn."' />";
                    }

        $str .="    <input type='text' onkeydown='return ( event.ctrlKey || event.altKey 
                    || (47<event.keyCode && event.keyCode<58 && event.shiftKey==false) 
                    || (95<event.keyCode && event.keyCode<106)
                    || (event.keyCode==8) || (event.keyCode==9) 
                    || (event.keyCode>34 && event.keyCode<40) 
                    || (event.keyCode==46) )' name='cbsmsisdn' maxlength='12' disabled='true'/><br />
                    <div style='padding-top:1%'></div>
                    <input type='submit' value='Submit' /><br />
                    </div>
                </form>
            </div>"; 
```

* * *

Now I want to enable/disable the text box on the basis of value selected in drop down.

Here i like to put a condition where if the option value equals 'allcaller' the text box should be disabled which is actually happening. But I want to enable the same text box in case option value equals to 'specialcaller'.

I wasn't able to enable the text box on the basis of value selected in drop down.

Any help would be highly appreciated.

Thanks! Bobby.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T10:22:39.323

我有两个可能的解决方案给你。

1.  正如您在评论中提到的那样，您不想使用 java 脚本，因为它是一个 WAP 门户，但如果不使用 javascript，他们没有其他方法可以做到这一点。我可以向您推荐一种方法，您可以要求用户提交他的下拉结果。根据该结果，您可以启用或禁用下一页上的文本框。

2.  否则去javascript。

# vb.net - 从 Source-Gear Vault 打开项目时，Visual Studio 显示“无法读取项目文件”

> ID：11877959
> 
> 赞同：0
> 
> 时间：2012-08-09T06:35:17.273
> 
> 标签：vb.net, visual-studio-2010, sourcegear-vault

我正在使用 Visual Studio Express (v4.0.30319) 来配合 Visual Basic 的曲调，并且我正在使用 Source-Gear 进行源代码控制 Visual Studio 集成。

当我打开一个项目时，我必须通过源代码控制菜单进行操作，当它打开时，我收到一条警告消息：“无法读取项目文件 'RemotingClasses.vbproj'。”

单击确定按钮后，挂锁和签出文件似乎一切正常，但我真的不喜欢我无法从启动屏幕打开项目，而且那个错误框在客户面前看起来真的很糟糕，他们一看到“E”字就会惊慌失措（即错误）

...致命与否^_^

我可以摆脱它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T12:32:45.260

Source Gear 与 Visual Studio Express 不兼容

# drupal-7 - Populating #options, #header for tableselect in ajax callback function

> ID：11877963
> 
> 赞同：0
> 
> 时间：2012-08-09T06:35:36.083
> 
> 标签：drupal-7, drupal-modules

![enter image description here](../Images/6ca2bd00a40aec003c5cff1a0be50716.png) What I am trying to do is display a table with checkboxes on the press of a button by ajax. The table should be initially hidden and get populated on the fly by a function call. If initially I load $options1 with some dummy values , then after ajax call it throws in an error saying-

> Notice: Undefined index: red in theme_tableselect() (line 3285 of D:\wamp\www\drupal7\includes\form.inc).

where 'red' is the index of a dummy row value and #options don't get populated with the new values. What is the way to get this working ?

Here is the code for the form-

```
$form['mltag_new']['tag'] = array(
        '#type' => 'button',
        '#value' => t("Suggest Tags"),
        '#ajax' => array(
            'callback' => 'mltag_suggest_tags_ajax',
            'wrapper' => 'mltag_suggest_tags_table_div',
            'effect' => 'slide',
            ),
    );

 $options1 = array();                      //initial dummy values
    $options1['red']['tag'] = "A red row";
    $options1['red']['chi'] = "A red row";

 $form['mltag_new']['myselector'] = array (
        '#type' => 'tableselect',
        '#title' => 'My Selector',
        '#header' => $header,
        '#options' => $options1,
        '#prefix' => '<div id="mltag_suggest_tags_table_div">',
        '#suffix' => '</div>',        
    );

    return $form; 
```

and the Ajax callback looks something like this-

```
function mltag_suggest_tags_ajax($form, $form_state) {
          //$content has some content
          //pass the content to a function 
          include_once 'includes/content_tag.inc';
          $tags = mltag_content_tag($content, variable_get('algo_type'), 20);

          if (empty($tags)) {
            $output .= t('Content is insufficient to generate Tags using this algorithm. <br>Please choose other algorithm from Settings Page.');
            $form['mltag_new']['sample_text']['#markup'] = $output;
            return $form['mltag_new']['sample_text'];
          }
          else {
            $algo = variable_get('algo_type');
            if ($algo == 1) {
              $header = array(
                  'tag' => t('Tag'),
                  'frequency' => t('Frequency'), 
                  );

              $options = array();      
              foreach ($tags as $key => $value) {
                $options[$key] = array(
                    'tag' => $key,
                    'frequency' => $value,
                    );
              }    
            }

            elseif ($algo == 2) {
              $header = array(
                  'tag' => t('Tag'),
                  'chi' => t('Chi Square Value'), 
                  );

              $options = array();

              foreach ($tags as $key => $value) {
                $options[$key] = array(
                    'tag' => $key,
                    'chi' => $value,
                ); 
              } 

            }

          $form['mltag_new']['myselector']['#header'] = $header; 
          $form['mltag_new']['myselector']['#options'] = $options;
          return $form['mltag_new']['myselector'];
          }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T20:20:41.853

我在 Drupal.org 上回复了您关于我如何处理类似问题的帖子。尝试添加

```
$form['mltag_new']['myselector'] =
    form_process_tableselect($form['mltag_new']['myselector']); 
```

就在你回来之前。希望这对您的帮助比对我的帮助更大。请注意，当块从 ajax 重新加载时，#options 才会被渲染，但原始的 $form 对象似乎并不知道。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-08T14:46:10.500

我知道这是几年后的事了，但我在寻找自己的解决方案时发现了这一点：

tableselect 模块以 $ 形式创建必须删除的复选框。在上面的示例中，它们`$form['mltag_new']['myselector']`的键与`$option1`原始代码中的原始键相同。如果您取消设置，**请致电**

```
 $form['mltag_new']['myselector'] = form_process_tableselect($form['mltag_new']['myselector']); 
```

在您返回之前，它将消除虚拟行。

# c# - 更改zedgraph选定的曲线颜色

> ID：11877965
> 
> 赞同：1
> 
> 时间：2012-08-09T06:35:53.933
> 
> 标签：c#, colors, zedgraph

在 ZedGraph 窗格中，可以将 a 设置`CurveItem`为“已选择”。

```
zedGraphControl.GraphPane.CurveList[0].IsSelected = true;
zedGraphControl.Refresh(); 
```

这将改变它的颜色，`Color.Gray`就我所见。

是否可以更改此选定状态颜色？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T07:30:47.033

我不知道这样的属性，但您可以通过手动覆盖 ZedGraphControl 的 MouseClick 事件并设置“选定”CurveItem 的颜色来完成此操作，例如：

```
private void zedGraphControl1_MouseClick(object sender, MouseEventArgs e)
    {
        foreach (var curve in zedGraphControl1.GraphPane.CurveList)
        {
            curve.Color = Color.Black;
        }

        CurveItem nearestItem;
        int nearestPoint;
        zedGraphControl1.GraphPane.FindNearestPoint(e.Location, out nearestItem, out nearestPoint);
        if (nearestItem != null)
        {
            nearestItem.Color = Color.Red;
        }
        zedGraphControl1.Refresh();
    } 
```

**更新：查看**[http://www.opensourcejavaphp.net/csharp/zedgraph/Line.cs.html](http://www.opensourcejavaphp.net/csharp/zedgraph/Line.cs.html)和[http://www.opensourcejavaphp.net/csharp/zedgraph/Selection.cs.html](http://www.opensourcejavaphp.net/csharp/zedgraph/Selection.cs.html)的源代码似乎Line.DrawCurve 使用静态属性 Selection.Line。如果不修改源，就很难改变这种行为。

Line.cs 的一部分：

```
public void DrawCurve( Graphics g, GraphPane pane, CurveItem curve, float scaleFactor )
{
    Line source = this;
    if ( curve.IsSelected )
        source = Selection.Line; 
```

选择.cs：

```
/// The <see cref="Line" /> type to be used for drawing "selected"
/// <see cref="LineItem" /> and <see cref="StickItem" /> types
 /// </summary>
public static Line Line = new Line( Color.Gray ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-21T14:38:19.547

选定的行是静态属性，但不是只读的。可以通过重置 Selection.Line 属性来更改格式：

```
public Form1()
{
   InitializeComponent();
   ZedGraph.Selection.Line.Width = 3;
   ZedGraph.Selection.Line.Color = Color.Red;
   ...
} 
```

重置选择线后，所有选定的线将按指定绘制。

# html - css/html 表格边框

> ID：11877968
> 
> 赞同：0
> 
> 时间：2012-08-09T06:36:03.967
> 
> 标签：html, css

我想在我的 css 中制作表格的选项。一个边框为 5px 纯黑色，一个边框为 0px。目前在 CSS 我有

```
#contentcolumn table {
border: 5px solid black;
width: 100%;/*around 700 max for images*/
border-collapse: collapse;
} 
```

这给了我黑色 5px 边框，但现在我还需要一个做 0px 边框的边框。我曾尝试在 html 中设置 0px 表，但 css 似乎超过了它。这是两个表的 html。

```
<table>
        <tr>
            <td align="center"><IMG SRC="images/newsimage/minecraft1.jpg" ALT="mindcraft">
            </td>
        </tr>
        <tr>
            <td>Is minecraft still considered an indie game? blah blah blha lbhalbhal
            </td>
        </tr>
        </table>

        <!-- Reviews start -->
        <!-- Review #1 -->
        <table Border='0'>
        <tr>
          <th rowspan="4" width="30%">Some Image</th>
          <td>Link</td>
        </tr>
        <tr>
          <td>By who</td>
        </tr>
        <tr>
          <td>Some info</td>
        </tr>
        <tr>
          <td>comments</td>
        </tr>
        </table> 
```

如果这很重要，这两个表都在 div 标签内`<div id="contentcolumn">`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:38:41.023

尝试赋予`border:none`样式属性。它将覆盖您在 css 文件中的 css 属性。`<table style="border:none;">`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:49:14.840

CSS：

```
.no-border {
   border:none;
} 
```

HTML：

```
<table class="no-border"></table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T09:53:00.520

您可以使用 css 本身完成此操作。通过使用下面的 css 样式

```
#contentcolumn #review_table{border:0px} 
```

并在您的表格中添加一个 ID，如下所示

```
<div id="contentcolumn">
<table>
    <tr>
        <td align="center"><IMG SRC="images/newsimage/minecraft1.jpg" ALT="mindcraft">
        </td>
    </tr>
    <tr>
        <td>Is minecraft still considered an indie game? blah blah blha lbhalbhal
        </td>
    </tr>
    </table>

    <!-- Reviews start -->
    <!-- Review #1 -->
    <table Border='0' id="review_table"> //CHANGE: ADD THE ID TO THIS TABLE
    <tr>
      <th rowspan="4" width="30%">Some Image</th>
      <td>Link</td>
    </tr>
    <tr>
      <td>By who</td>
    </tr>
    <tr>
      <td>Some info</td>
    </tr>
    <tr>
      <td>comments</td>
    </tr>
</table>
</div> 
```

​</p>

JSFILLDE：

[http://jsfiddle.net/54EyB/](http://jsfiddle.net/54EyB/)

# azure - 我想要适用于 Azure 网站的 ionCube PHP Loader？

> ID：11877970
> 
> 赞同：1
> 
> 时间：2012-08-09T06:36:11.423
> 
> 标签：azure, ioncube

我想要 ionCube PHP Loader 在 Azure 网站上运行 php 脚本？我能怎么做 ？， 请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T14:58:28.927

一般来说，如果您可以安装自己的二进制扩展，那么应该没有问题。最好查阅 Azure 的常见问题解答或联系支持人员进行澄清

# php - 当一个数组索引是字符串 m 时，如何使用 array_intersect 代表另一个数组排序？

> ID：11877973
> 
> 赞同：0
> 
> 时间：2012-08-09T06:36:20.937
> 
> 标签：php, arrays, sorting

因为我有数组

```
 $array[selfintro,1]=[selfintroduction]]
  $array[experience,2]=[Experience]
  $array[education,3] =[Education]
  $array[skills,4]= [Skills]

  $model[]=[Education,selfintroduction,accomplishment] 
```

我想使用“模型”数组对“数组”进行排序，就像这样，

```
$array[education,3] =[Education]
$array[selfintro,1]=[selfintroduction]] 
```

我尝试使用这种技术对其进行排序，

$sorted=array_intersect($model,$array);`

它不对它进行排序，但是当我使用普通数组 ahving 索引值进行排序时，它会给我它的结果，但是通过使用 $array 它在字符串和 int 格式中的索引值对我不起作用？

希望您的建议，

编辑::

我正在从 mysqldb 填充数组，这个数组包含我上面提到的数据

```
for loop
{
$array[$templateName.','.$inc]=$V_temptag;
} 
```

创建此数组后，我使用另一个数组 $model 对其进行排序

```
$sorted=array_intersect($model,$array);
print_r($sorted); 
```

# java - 关于包含无法序列化的成员的序列化

> ID：11877975
> 
> 赞同：0
> 
> 时间：2012-08-09T06:36:27.103
> 
> 标签：java, serialization

我正在经历序列化的过程，我分析的是不能序列化的成员是瞬态和静态的，请告知除了这两个之外还有其他不能序列化的功能..？请指教。

各位大侠请指教..!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T07:17:31.603

> 我分析的是不能序列化的成员是瞬态的和静态的，

默认情况下不序列化。这确实意味着它们不能通过自定义序列化进行序列化。注意：JDK 中有许多类具有以自定义方式序列化的瞬态字段。

> 请告知除了这两个之外还有其他无法序列化的功能吗？

您不能序列化不实现 Serializable 并且是 non-`transient`和 non-的对象`static`。

注意：您可以使用自定义序列化来序列化任何提供其`transient`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:43:29.467

我记得的一件事是，你只能序列化那些自己实现 Serializable 的成员。

更多的信息：

*   [http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html](http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html)
*   [http://docs.oracle.com/javase/7/docs/platform/serialization/spec/serialTOC.html](http://docs.oracle.com/javase/7/docs/platform/serialization/spec/serialTOC.html)

# c# - C#中的SSL握手？

> ID：11877979
> 
> 赞同：0
> 
> 时间：2012-08-09T06:36:38.317
> 
> 标签：c#, ssl, handshake

我在端口 80 上的 httpwebrequest 标头中发送了升级标头，以使用 TLS。服务器成功响应 101 切换协议响应，从而升级协议。现在我想知道如何在 C# 中的同一端口上启动 SSL 握手。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T08:30:35.503

您不想干预标题（通过添加“升级”）。让 HttpWebRequest 做这件事。

您是否尝试过使用它，它专门告诉它使用 SSL，但通过端口 80：

```
var req = (HttpWebRequest)WebRequest.Create("https://your.host.com:80/test.htm"); 
```

# android - 是否可以使用 Apache Thrift 进行 Android 应用程序开发？

> ID：11877982
> 
> 赞同：2
> 
> 时间：2012-08-09T06:36:46.690
> 
> 标签：android

我想开发一个可以与使用 Apache thrift 开发的服务器进行通信的 android 应用程序......

```
import org.apache.thrift.protocol.TBinaryProtocol;
import org.apache.thrift.protocol.TProtocol;
import org.apache.thrift.transport.TSocket;
import org.apache.thrift.transport.TTransport;

import android.app.Activity;

import android.os.Bundle;
import android.widget.Toast;

public class ThriftExampleActivity extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        try
        {<br>   //this code is used to cretae an client
            TTransport transport = new TSocket("107.20.177.28", 8888);
            transport.open();
            TProtocol protocol = new  TBinaryProtocol(transport);
            Mainservice.Client client = new Mainservice.Client(protocol);
            //upto this line is common code for client need not to touch

            //below call any API using client object created above
            //like I have call add API which take some input and return output
            System.out.println(client);
           Getsearch g=new Getsearch();
          g.rows="5";
           g.text="india";
           g.page=Integer.toString(2);
           Toast.makeText(getBaseContext(), client.get_search(g).toString(), <br>Toast.LENGTH_LONG).show();
           System.out.println(client.get_search(g));
            //System.out.println("The Sum is: "+sum);

            //close client socket
            transport.close();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    }
} 
```

# jquery - 我正在尝试制作一个完整的日历和日期选择器，但我得到的是没有日期选择器的完整日历

> ID：11877984
> 
> 赞同：0
> 
> 时间：2012-08-09T06:36:53.883
> 
> 标签：jquery, jquery-ui, jquery-ui-datepicker

我正在尝试制作一个完整的日历和日期选择器，但我得到的是屏幕左侧没有日期选择器的完整日历。

```
$(function() {
    $("#edit").click(function() {
        window.location = "${createLink(controller:'calendar',action:'edit', id:calendarInstance.id)}"; });
    });

    $(document).ready(function() {
        $("#calender").fullCalendar({
            // your options here
        });
    });

    $(document).ready(function() {
        $('#datepicker').datepicker({
            inline: true,
            onSelect: function(dateText, inst) {
                var d = new Date(dateText);
                $('#calender').fullCalendar('gotoDate', d);
            }
        }
    }); 
}

<br/ 

<div id="calender"></div>
<div id="datepicker"></div> 
```

是正确的做法吗？我是这个问题的新手。

# php - mysqli_* 是不是比 mysql_* 更好的选择？

> ID：11877988
> 
> 赞同：-1
> 
> 时间：2012-08-09T06:37:10.197
> 
> 标签：php, mysql, database

我使用 PHP 已经很多年了，而且我总是使用 mysql_* 函数。

我不太介意，但是 mysqli_* 功能值得我尝试一下吗？如果我要创建一个新项目，我应该选择哪一个？

欢迎任何建议。提前致谢。:-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-09T06:44:04.970

请不要使用`mysql_*`函数来编写新代码。它们不再被维护并且社区已经开始了[弃用过程](http://goo.gl/KJveJ)。看到[*红框*](http://goo.gl/GPmFd)了吗？相反，您应该了解[准备好的语句](http://goo.gl/vn8zQ)并使用[PDO](http://php.net/pdo)或[MySQLi](http://php.net/mysqli)。如果你不能决定哪个，[这篇文章](http://goo.gl/3gqF9)会帮助你。如果您选择 PDO，[这里有很好的教程](http://goo.gl/vFWnC)。[（来自PHP 聊天](https://chat.stackoverflow.com/rooms/11/php)的规范答案，请随时加入）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T06:40:05.507

[不鼓励](http://www.php.net/manual/en/intro.mysql.php)使用 mysql_* 。

# c# - 在 WPF 中的 Grid 行内显示表单的替代方法

> ID：11877989
> 
> 赞同：0
> 
> 时间：2012-08-09T06:37:15.047
> 
> 标签：c#, wpf, visual-studio-2010

我创建的 WPF 应用程序包含一个 3 行的 Grid。我在第三行有一组按钮。单击按钮时，表格将显示在网格的第二行。但是我所做的非常混乱，因为我在同一个窗口中创建了所有表单内容并将可见性设置为隐藏。

示例代码：

```
<Grid Name="panel1" Grid.Row="1" Visibility="Hidden">
 //contains a lot of textblocks,buttons and images
</Grid>
<Grid Name="panel2" Grid.Row="1" Visibility="Hidden">
 //contains a lot of textblocks,buttons and images
</Grid>
 <Grid Name="panel3" Grid.Row="1" Visibility="Hidden">
 //contains a lot of textblocks,buttons and images
</Grid> 
```

我的 xml 代码如下所示：

```
private void Image_MouseLeftButtonDown_1(object sender, System.Windows.Input.MouseButtonEventArgs e)
    {
        panel1.Visibility = System.Windows.Visibility.Hidden;
        panel2.Visibility = System.Windows.Visibility.Visible;
        panel3.Visibility = System.Windows.Visibility.Hidden;
    } 
```

这种方法看起来非常混乱，因为我已经在 Main Xaml 文件中包含了所有代码。需要一些替代方法来做到这一点。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T06:41:09.947

创建这样的方法

```
private void VisibilityManager(Grid grd)
{
    new List<Grid>(){ panel1, panel2, panel3}
       .ForEach(x => x.Visibility = Visibility.Hidden);
    grd.Visibility = Visibility.Visible;
} 
```

并这样称呼它

```
VisibilityManager(panel1); 
```

用于使 panel1 可见并隐藏所有其他。

将来，如果您必须增加网格，只需在此方法中进行更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T06:42:51.400

您可以设置选项卡控件的样式并切换选项卡，可以使用内容控件并创建与要显示的内容的绑定。您还可以使用数据绑定（取决于您要显示的内容）并使用模板选择器......有很多方法可以解决这个问题。多说一点你的内容是什么样的

# c# - 无法在 Windows7 64 位中打开 MSAceess 的 ODBC 连接

> ID：11877993
> 
> 赞同：0
> 
> 时间：2012-08-09T06:37:36.263
> 
> 标签：c#, ms-access, odbc, 64-bit, windows-7-x64

无法通过 ODBC 连接 MSAcess。OdbcConnection.Open 抛出了一个异常，如

“错误 [IM002] [Microsoft][ODBC 驱动程序管理器] 未找到数据源名称且未指定默认驱动程序”

代码部分如下：

```
 string connetionString = null;
            OdbcConnection cnn;
            connetionString = (@"Driver={Microsoft Access Driver (*.mdb,*.accdb)};Dbq=E:\aa.mdb;Exclusive=1;Uid=Admin;Pwd=;");
 cnn = new OdbcConnection(connetionString);
            try
            {
                cnn.Open();
                MessageBox.Show("Connection Open ! ");
                cnn.Close();
            }
            catch (Exception ex)
            {
                MessageBox.Show("Can not open connection ! ");
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T10:57:10.450

您的连接字符串错误，这对我有用：

```
connetionString = (@"Driver={Microsoft Access Driver (*.mdb, *.accdb)};Dbq=E:\aa.mdb;Uid=Admin;Pwd=;"); 
```

请参阅[http://connectionstrings.com](http://connectionstrings.com)

# php - 会话在浏览器上停留多长时间？

> ID：11877999
> 
> 赞同：0
> 
> 时间：2012-08-09T06:37:40.987
> 
> 标签：php, session, google-chrome, cookies, browser

我在本地主机上使用 Safary、chrome、firefox 和 opera 尝试了我的网站，并且似乎当我关闭浏览器时它也会删除会话。但是当我尝试使用 Chrome 时，它​​仍然存在。为什么呢 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T06:54:34.033

会话基本上是您的浏览器存储的 cookie。

曲奇是有年龄的。在它们过期后，浏览器通常会丢弃它们和/或服务器会忽略它们。

还有一些特殊类型的 cookie 需要浏览器在关闭后删除。

由于您的会话在关闭 Safari 和 Firefox 后消失了，看起来您有第二种类型的 cookie。那么，您确定您已关闭 Chrome 浏览器吗？可能是您在另一个虚拟桌面中留下了一些窗口或其他东西......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-09T07:01:08.267

会话默认存储在 cookie 中。

cookie 是存储在浏览器中的一个小值，它们总是有一个到期日期。如果过期日期已过，则 cookie 将立即销毁。如果 cookie 在未来有一个到期日期，它会一直保存并使用到该日期，届时它会被销毁。还有一个特殊的“日期”可以使用，它告诉浏览器只要浏览器打开就认为 cookie 有效。`X`通常，当您单击关闭应用程序时，浏览器会销毁这些 cookie 。

请记住，浏览器可以配置为从不删除 cookie（即使是过期的），在每次关闭应用程序时删除 cookie，即使 cookie 仍然有效，甚至根本不接受 cookie。