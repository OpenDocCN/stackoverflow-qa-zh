# StackOverflow 问答 10848000-10848999

# php - 为什么我必须在我的 Javascript 中转义和第二个 $ 符号？

> ID：10848000
> 
> 赞同：0
> 
> 时间：2012-06-01T09:46:03.630
> 
> 标签：php, javascript, jquery

我有一个带有 javascript 函数的文档内联脚本标记，但我需要转义第二个 $ 符号？为什么不逃避两者，即第一个和第二个？

```
 $js = "<script>$(function(){\$('#slider').anythingSlider({autoPlay: true, delay: 5000, animationTime: 400, easing: \"easeInOutExpo\"});});</script>"; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T09:49:24.970

转义是针对 PHP 的。由于您使用双引号`"..."`，因此其中的任何`$..`术语对于 PHP 解析器（变量替换）都有特殊含义。实际上，您还应该转义`$`字符串中第一次出现的 ，或切换到单引号字符串`'...'`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T09:48:55.213

因为你使用`"`引号字符串，而php的变量使用`$`，`$`需要在双引号字符串内转义，否则php解析会认为是变量。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T09:51:00.593

您的第二个`$`字符前面有一个花括号`{`，因此会触发变量扩展的[复杂（卷曲）语法](http://bg.php.net/manual/en/language.types.string.php#language.types.string.parsing.complex)。您的第一个`$`没有大括号，并且后面没有有效标识符，因此不需要反斜杠。

# jquery - Jquery Hashchange 不能正常工作？

> ID：10848004
> 
> 赞同：0
> 
> 时间：2012-06-01T09:46:22.860
> 
> 标签：jquery, dynamic, load, hashchange

也许我只是太晚了，但是如果你点击“关于我们”然后开始点击导航链接（如果你不关闭它）它工作得很好......但是，当页面加载时，只有关于我们的链接工作正常。

这是草稿并正在运行：[http ://www.pixeltweaks.com/ground_zero](http://www.pixeltweaks.com/ground_zero)

我相信这很简单，我只是无法接受，也许你们中的一位经验丰富的兽医可以提供帮助。

多谢你们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:54:46.063

Hashchanges 按预期工作。但是您在某处调用您的自定义函数 getDomain ，该函数仅在关于我们页面上定义：

```
function getDomain(url) {
   return url.match(/:\/\/(.[^/]+)/)[1];
} 
```

在其他页面上，它会引发错误：未捕获的 ReferenceError：未定义 getDomain。

# lift - 使用 vmc push/update 卡在“上传应用程序”

> ID：10848005
> 
> 赞同：0
> 
> 时间：2012-06-01T09:46:23.530
> 
> 标签：lift, cloud-foundry

我正在尝试将电梯 webapp 上传到 CF，但一直卡在“上传应用程序”。我在两个不同的网络、两个不同的操作系统上尝试过两台不同的机器。应用程序在 STOPPED 状态下创建，但 war 文件永远不会被上传。

我也试过删除应用程序并重新推送，但无济于事。这是一个示例跟踪输出。'Uploading Application:' 后没有打印任何其他内容

```
 "detection": [
        {
          "*.war": true
        }
      ]
    }
  }
}
<<<
>>>
REQUEST: get http://api.cloudfoundry.com/apps/cps-test-harness
RESPONSE_HEADERS:
    server : nginx
    date : Fri, 01 Jun 2012 09:44:34 GMT
    content_type : application/json; charset=utf-8
    transfer_encoding : chunked
    connection : keep-alive
    keep_alive : timeout=20
    etag : "01c08aca6ec2d2e0ca88b2bb0ed69d97"
    cache_control : max-age=0, private, must-revalidate
    x_ua_compatible : IE=Edge,chrome=1
    x_vcap_backend : 172.30.49.4:9022
    x_vcap_router : 172.30.49.23
RESPONSE: [200]
{
  "name": "cps-test-harness",
  "staging": {
    "model": "lift",
    "stack": "java"
  },
  "uris": [
    "cps-test-harness.cloudfoundry.com"
  ],
  "instances": 1,
  "runningInstances": 0,
  "resources": {
    "memory": 512,
    "disk": 2048,
    "fds": 256
  },
  "state": "STOPPED",
  "services": [
    "postgresql-64fb1"
  ],
  "version": "6b388f21b6b27a0a0d0f71defc77a6c6-0",
  "env": [

  ],
  "meta": {
    "debug": null,
    "console": null,
    "version": 2,
    "created": 1338543874
  }
}
<<<
Uploading Application: 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T17:57:52.430

为了解决这个问题，原始发布者在上面的评论中找到了解决方案：

> 实际上，您只是提示我再试一次。它不再卡住了，所以我想这只是暂时的故障。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T22:03:00.900

我在安装 CF 时遇到了同样的问题。重新启动 CF 服务 ( /bin/vcap restart ) 解决了部署问题，并且 vmc 应用程序指示应用程序正在运行。

# h.264 - 使用 ffmpeg 将 H.264 编码数据保存到文件中

> ID：10848006
> 
> 赞同：0
> 
> 时间：2012-06-01T09:46:28.973
> 
> 标签：h.264, libavcodec, libavformat

我有来自图像采集卡的 H264 数据。使用这些数据，我已经编写了一个 RTP/H264 流媒体服务器（使用 live555）和一个 RTP/H264 客户端（使用 ffmpeg 和 live555）。

我想向我的服务器添加一个新功能：以任何格式（avi、mp4、mkv 等）将编码的 H264 数据直接保存到文件（无需转码），以便以后使用 VLC 观看视频。

对于显示客户端，基本上，我执行了：

1) 使用 ffmpeg/av_new_packet() 从 H264 数据构建数据包

2）解码H264数据ffmpeg/avcodec_decode_video2()

3) 使用 ffmpeg/sws_scale() 格式化解码帧

4) 显示

有人可以在不解码/转码数据和使用 ffmpeg 的情况下快速建议我使用视频文件保存功能吗？足以

1）选择输出上下文（格式）

2) 使用 ffmpeg/av_new_packet() 从 H264 数据构建数据包

3) 使用 ffmpeg/av_(interleaved)_write_frame() (以及 av_write_trailer() 和 av_write_header()) 保存数据包？

?

谢谢大家

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-06-21T09:59:42.270

我做了类似的；使用 ffmpeg 进行编码。我发现 ffmpeg remuxing example [1](https://ffmpeg.org/doxygen/trunk/doc_2examples_2remuxing_8c-example.html)它对我有用。（现在回答为时已晚，但我希望它对其他人有所帮助。）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-11T13:37:59.760

请查看 ffplay.c：

```
static int video_thread(void *arg)
{
...
ret = get_video_frame(is, frame, &pts_int, &pkt);
...
} 
```

pkt 是原始 h264 数据包。将 pkt.data 保存到文件就可以了。

```
fwrite(pkt.data, 1, pkt.size, pf ); 
```

如果mplayer无法播放此文件，请先添加：

```
unsigned char const start_code[4] = {0x00, 0x00, 0x00, 0x01};
fwrite(start_code, 4,1, pf ); 
```

# ms-word - 在 C# 中使用 Word 自动化我想更改下一个保存按钮将引用的路径

> ID：10848010
> 
> 赞同：0
> 
> 时间：2012-06-01T09:46:48.993
> 
> 标签：ms-word, office-automation

我有一个在 Word 中创建和打开文档的应用程序。用户可以修改文档然后再次保存，但我不希望通过 Word 提示用户将其保存在加载它的位置 - 我想设置文档的保存路径（如果有的话）到另一条路径。

我没有使用自动化来显示“另存为”对话框 - 这是将按下的 Word“保存”按钮，因此我想设置某种全局默认“另存为”位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T09:55:03.517

最后，微软的命名非常简单但不是很好（但让我们原谅，他们在那里有一个巨大的对象）。无论如何，这是代码（其中*Application*是 Microsoft.Office.Interop.Word PIA 中定义的 Word 应用程序对象）：

```
Application.ChangeFileOpenDirectory("C:\\SampleFor\\StackOverflow"); 
```

# image - 如何从 BlackBerry 上的地理标记图像中检索 GPS 位置？

> ID：10848011
> 
> 赞同：2
> 
> 时间：2012-06-01T09:46:52.033
> 
> 标签：image, blackberry, geolocation

这是我到目前为止所尝试的：

1.  [使用getMetaData()](http://www.blackberry.com/developers/docs/7.0.0api/net/rim/device/api/system/EncodedImage.html#getMetaData%28%29)方法读取 EncodedImage 的元数据信息。但是[MetaDataControl](http://www.blackberry.com/developers/docs/7.0.0api/javax/microedition/media/control/MetaDataControl.html)不包含我需要的信息的键。

2.  使用[GeotaggedPhotoPicker](http://www.blackberry.com/developers/docs/7.0.0api/net/rim/device/api/lbs/picker/GeotaggedPhotoPicker.html)类。这里的问题是我不需要用户浏览和选择照片，我已经知道我需要的照片的路径。如果选择器也可以让我访问实际图像，而不仅仅是地理标签信息，我可以使用它。

是否有人对如何从地理标记图像访问 gps 信息有任何其他建议？

# java - 从 Java 程序向 bash 脚本提供输入

> ID：10848019
> 
> 赞同：0
> 
> 时间：2012-06-01T09:47:29.310
> 
> 标签：java, bash, process

我使用 ProcessBuilder 类从 java 程序中调用了一个脚本。脚本提示输入一些内容。如何从java程序传递值。

我试着像使用那个过程一样，我得到了一个 writer 对象，并试图写入该值，但它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-09T12:50:03.010

如果子进程（脚本）从标准输入流中读取其输入，您可以通过连接的输出流（`getOutputStream()`）将其提供给它。

# loadrunner - 为每个场景/功能执行具有不同用户数的 LoadRunner 脚本

> ID：10848021
> 
> 赞同：2
> 
> 时间：2012-06-01T09:47:51.970
> 
> 标签：loadrunner

我是 Loadrunner 工具的新手。

我有四种不同的场景，它们记录在不同的函数中。现在我要做的是用不同数量的用户运行这四个场景。

例如，我有 4 个场景，例如场景 1、场景 2、场景 3 和场景 4。我需要运行 10 个用户的场景 1、15 个用户的场景 2、25 个用户的场景 3 和 50 个用户的场景 4。

如何使用 LoadRunner 9.5 工具执行此操作。请帮帮我。

提前致谢，
UdhayS

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T07:48:25.163

只是在这里直接获得一些术语：

**VuGen将操作（不是****场景**或函数）记录到**脚本**中。一个脚本可以并且通常包含多个动作。

在**Controller**中，您创建一个**Scenario**。场景由一个或多个脚本组成。您可以在此处定义将分配给脚本的 Vuser 数量。

例子：

录制两个脚本（A 和 B），每个脚本有 2 个动作：

```
VuGen Script A:
   Action A1
   Action A2

VuGen Script B:
   Action B1
   Action B2 
```

然后在一个场景中使用这两个脚本：

```
Scenario X:
  Script A - 10 vusers
  Script B -  7 vusers 
```

我希望这可以澄清 LoadRunner 中使用的一些术语和结构。

我也非常推荐一门 LoadRunner 的基础课程。与 LoadRunner 相关的一切，除了了解和了解这些东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T13:56:58.160

*   您的业​​务流程是记录在独立的脚本中，还是记录在一个脚本中的函数中？
*   您注意到您是新人，您的雇主是否已派您完成（HP 认证讲师/认证材料）LoadRunner 培训，并且您是否已被指派一位导师与您一起完成前 5-6 个性能测试项目？

# api - 用于向产品添加版本的 Bugzilla Web API

> ID：10848035
> 
> 赞同：0
> 
> 时间：2012-06-01T09:48:39.150
> 
> 标签：api, continuous-integration, bugzilla

我希望我的构建服务器在每次发布构建时在我们的 Bugzilla 跟踪器中创建一个版本。这可能吗？到目前为止，我发现以下 API 很接近，但不提供此功能：

[Bugzilla::WebServer::Product](http://www.bugzilla.org/docs/tip/en/html/api/Bugzilla/WebService/Product.html) - 允许更新产品中的几个字段，但不允许更新版本。 [Bugzilla REST API](https://wiki.mozilla.org/index.php?title=Bugzilla%3aREST_API%3aMethods&oldid=281673) - 仅提供处理错误的方法，不提供产品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T20:17:34.417

我认为您将不得不创建自己的 API。我将创建一个使用 Version 包的简单 Perl CGI。 [http://www.bugzilla.org/docs/4.2/en/html/api/Bugzilla/Version.html](http://www.bugzilla.org/docs/4.2/en/html/api/Bugzilla/Version.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-28T20:41:21.613

有一个现有的功能请求，并为此提供了补丁：[https ://bugzilla.mozilla.org/show_bug.cgi?id=777047](https://bugzilla.mozilla.org/show_bug.cgi?id=777047)

请务必投票以帮助推动这一进程。

# javascript - JS Switch case 无法正常工作始终默认执行

> ID：10848036
> 
> 赞同：2
> 
> 时间：2012-06-01T09:48:41.033
> 
> 标签：javascript, html, css, switch-statement

这是我的下拉菜单---

```
<select name="category" id="category" onChange="showDiv(this.value);" >
    <option value="">Select This</option>
    <option value="1">Nokia</option>
    <option value="2">Samsung</option>
    <option value="3">BlackBerry</option>
    <option value="4">Spice</option>
    <option value="5">HTC</option>
    </select> 
```

这是我的跨度类，我想根据选择显示数据

```
<span class="catlink"> </span> 
```

我的 JS 函数（尽管当我通过`if`条件执行此函数时该函数工作正常）

```
function showDiv(discselect) {
    switch(discselect) {
    case 1:
        document.getElementsByClassName("catlink")[0].innerHTML = '<a href="nokia.txt">Click To Download</a>';
        break;
    case 2:
        document.getElementsByClassName("catlink")[0].innerHTML = '<a href="samsung.txt">Click To Download</a>';
        break;
    case 3:
        document.getElementsByClassName("catlink")[0].innerHTML = '<a href="blackberry.txt">Click To Download</a>';
        break;
    default:
        alert(discselect);
        document.getElementsByClassName("catlink")[0].innerHTML = 'aaaa';
    }
} 
```

现在在每次执行默认情况时运行代码，而 1,2,3 仍在警报，让我知道我做错了什么并且我的逻辑滞后？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T09:54:55.233

您的 discselect 以字符串形式出现..因此您需要将大小写更改为：

```
switch ( discselect ){
  case '1':
    break;
  case '2':
    break;
  case '3':
    break;
  default:
    alert(discselect);
  }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T09:54:01.653

Javascript 的`case`测试非常严格：如果`discselect`是字符串而不是数字，您的代码将始终采用默认分支。

您可以在语句中转换`discselect`为数字：`switch`

```
switch (+discselect) {
    // ...
} 
```

或者在`case`测试中使用字符串：

```
switch (discselect) {
    case "1":
        // ...
        break;

    // ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T09:53:06.123

```
onChange="showDiv(this.value);" 
```

应该

```
onchange="showDiv(this.options[this.selectedIndex].value)" 
```

编辑：和

```
switch (discselect) { 
```

应该

```
switch (+discselect) { 
```

# eclipse - 而不是运行快捷方式 Eclipse 在蓝色弹出窗口中显示快捷方式

> ID：10848039
> 
> 赞同：2
> 
> 时间：2012-06-01T09:48:58.793
> 
> 标签：eclipse

我在“显示空白字符”的“**常规”->“键**”对话框中定义了自定义快捷方式。键是**Ctrl-`**（Ctrl 和 Tab 上方的键）。在 Eclipse Helios 中，快捷方式工作正常。

升级到 Fedora 17 和 Eclipse Juno 而不是显示空白字符后，Eclipse 显示蓝色弹出窗口。我必须按回车键，然后激活操作。如果我按 Esc 但有两个选项，则会激活相同的弹出窗口：格式和切换评论，所以我想蓝色弹出窗口的目的是显示选择（如果有的话）。

这是描述问题的图像。

[http://img534.imageshack.us/img534/2472/screenshotfrom201206011.png](http://img534.imageshack.us/img534/2472/screenshotfrom201206011.png)

我已经用谷歌搜索了几个小时，但没有任何运气。也不知道如何命名这个弹出窗口 - 弹出窗口、对话框、模式、窗口......结合“eclipse快捷方式”，谷歌显示所有答案但需要。

有谁知道如何解决这个问题，在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T23:20:54.233

在您的情况下，如果问题只是一个快捷方式，我认为将*when*选项更改为*Editing text*就足够了。它对我有用，但是在我重新启动 Eclipse 后，某些东西会破坏密钥配置中的条目。

我认为这是一个错误，此升级后密钥绑定无法正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T21:08:05.857

我发现文件`workbench.xmi`由于某种原因而中断，导致了这个讨厌的问题。为了解决我的问题，我用新工作区中的文件替换了这个文件，问题就消失了。

该文件位于`.metadata\.plugins\org.eclipse.e4.workbench`

实际上有一个[错误](https://bugs.eclipse.org/bugs/show_bug.cgi?id=390298)

# c# - 超过文件上传限制时显示错误

> ID：10848042
> 
> 赞同：1
> 
> 时间：2012-06-01T09:49:10.423
> 
> 标签：c#, asp.net, web-config, file-upload

在我的页面中，当我上传大小超过 4 MB 的文件时，它显示连接已重置。原因是因为文件上传限制小于 4 MB。[链接](https://stackoverflow.com/questions/2759193/display-custom-error-page-when-file-upload-exceeds-allowed-size-in-asp-net-mvc/3787284#3787284)上有一个解决方案

但是，我想在同一页面上显示错误而不是重定向。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T12:21:23.970

您应该在上传（保存文件）之前阅读文件大小并显示错误（或不显示）

```
protected void UploadButton_Click(object sender, EventArgs e)
{

    if(FileUpload1.HasFile)
    {
        if(FileUpload1.PostedFile.ContentLength > 4096)
        {
            ErrorLabel.Text = "The file you are trying to upload exceeds the allowed limit.";
        }
        else
        {
            string SavePath = "TheLocationTheFilesSaves";
            FileUpload1.SaveAs(SavePath + FileUpload1.FileName);
            // Do stuff
        }
    }

} 
```

# amazon-ec2 - 在 AWS EC2 上：membase SERVER_ERROR 代理写入下游

> ID：10848048
> 
> 赞同：1
> 
> 时间：2012-06-01T09:49:27.273
> 
> 标签：amazon-ec2, amazon-web-services, couchbase, membase

我已经在 AWS EC2 实例上设置了 membase 服务器。I 安全组我已经为客户端的 IP 地址打开了所有端口。当我通过 telnet（使用端口 11211）访问它时，出现以下错误

```
membase SERVER_ERROR proxy write to downstream 
```

但是，当我更改安全组中的设置以允许访问所有人（0.0.0.0/0）而不是特定 IP 时，它工作正常。

在第一种情况下，客户端可以访问 membase 服务器，这就是它使用 telnet 连接的原因，但查询时会出错。

我不能让所有端口都对所有人开放。请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:54:58.903

我自己解决了这个问题。实际上，在我的 membase 集群设置中，由于我的安全设置，集群上的一个节点无法与其他节点通信。我已经为其他节点打开了端口然后它工作了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-27T18:56:07.823

我在单节点 Couchbase 上遇到过类似的问题。

我已经`kill -TERM`针对为受影响的存储桶提供服务的进程的 PID 运行。Couchbase 重新启动了被杀死的进程，并且事情开始正常工作。

我想完全重启也会解决它。

# php - 谷歌地图不会显示点 - XML 为空

> ID：10848052
> 
> 赞同：1
> 
> 时间：2012-06-01T09:49:51.787
> 
> 标签：php, javascript, mysql, xml, google-maps-api-3

我正在开发一个网站，该网站将从我创建的 MySQL 数据库中读取*lat*和*lng ，以便在 Google 地图上显示它们。*我使用[这个](https://developers.google.com/maps/articles/phpsqlajax_v3)Google 示例作为参考。我从中读取 lat 和 lng 的表 users 具有以下字段：

```
user_id
username
password
name
address
lat
lng
country
institute
email
phone
photo
role 
```

这是生成信息的 XML 输出的**genxml.php 。**

```
<?php

    include("database.php");

    function parseToXML($htmlStr) 
    { 
        $xmlStr=str_replace('<','&lt;',$htmlStr); 
        $xmlStr=str_replace('>','&gt;',$xmlStr); 
        $xmlStr=str_replace('"','&quot;',$xmlStr); 
        $xmlStr=str_replace("'",'&#39;',$xmlStr); 
        $xmlStr=str_replace("&",'&amp;',$xmlStr); 
        return $xmlStr; 
    } 

    // Select all the rows in the users table
    $query = "SELECT * FROM users";
    $result = mysql_query($query);
    if (!$result) {
        die('Invalid query: ' . mysql_error());
    }

    // Start XML file, echo parent node
    echo '<users>';

    // Iterate through the rows, printing XML nodes for each
    while ($row = mysql_fetch_assoc($result)){
        // ADD TO XML DOCUMENT NODE
        echo '<user ';
        echo 'name="' . parseToXML($row['name']) . '" ';
        echo 'address="' . parseToXML($row['address']) . '" ';
        echo 'lat="' . $row['lat'] . '" ';
        echo 'lng="' . $row['lng'] . '" ';
        echo '/>';
    }

    // End XML file
    echo '</users>';

?> 
```

这是负责显示谷歌地图和标记的**admin.php 。**

```
<?php
session_start();

if($_SESSION['user_role'] != "1"){
    header( 'Location: not_authorized.php' ) ;
}

?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="el" xml:lang="en"> 

    <?php
        include ("database.php");
    ?>

<head>
<title> ARISTOTLE 2012 </title>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-7" />
    <link rel="stylesheet" href="/styles/basic/input.css" type="text/css" media="screen"/>
    <link rel="shortcut icon" href="https://pithos.grnet.gr/pithos/rest/icsd08158@aegean.gr/files/favicon.ico" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    <script type="text/javascript">

    var customIcons = {
        2: {
            icon: 'http://labs.google.com/ridefinder/images/mm_20_blue.png',
            shadow: 'http://labs.google.com/ridefinder/images/mm_20_shadow.png'
        },
        bar: {
            icon: 'http://labs.google.com/ridefinder/images/mm_20_red.png',
            shadow: 'http://labs.google.com/ridefinder/images/mm_20_shadow.png'
        }
    };

    function load() {
        var map = new google.maps.Map(document.getElementById("map"), {
            center: new google.maps.LatLng(42.357437, -71.096962),
            zoom: 13,
            mapTypeId: 'roadmap'
        });

        var infoWindow = new google.maps.InfoWindow();

        // Change this depending on the name of your PHP file
        downloadUrl("genxml.php", function(data) {
            var xml = data.responseXML;
            var users = xml.documentElement.getElementsByTagName("user");
            for (var i = 0; i < users.length; i++) {
                var name = users[i].getAttribute("name");
                var address = users[i].getAttribute("address");
                var type = users[i].getAttribute("role");
                var point = new google.maps.LatLng(
                    parseFloat(users[i].getAttribute("lat")),
                    parseFloat(users[i].getAttribute("lng")));
                var html = "<b>" + name + "</b> <br/>" + address;
                var icon = customIcons[type] || {};
                var user = new google.maps.Marker({
                    map: map,
                    position: point,
                    icon: icon.icon,
                    shadow: icon.shadow
                });
                bindInfoWindow(user, map, infoWindow, html);
            }
        });
    }

    function bindInfoWindow(user, map, infoWindow, html) {
        google.maps.event.addListener(user, 'click', function() {
            infoWindow.setContent(html);
            infoWindow.open(map, user);
        });
    }

    function downloadUrl(url, callback) {
        var request = window.ActiveXObject ?
        new ActiveXObject('Microsoft.XMLHTTP') :
        new XMLHttpRequest;

        request.onreadystatechange = function() {
            if (request.readyState == 4) {
                request.onreadystatechange = doNothing;
                callback(request, request.status);
            }
        };
        request.open('GET', url, true);
        request.send(null);
    }

     function doNothing() {}

</script>
</head>

<body>
    <center>
        <table class="wrapper">
            <tbody>
                <tr>
                    <td valign="top">
                        <center>
                            <?php
                                require_once("includes/header.php");
                            ?>
                            <?php
                                require_once("includes/admin_menu.php");
                            ?>

                            <body onload="load()">
                                <div id="map" style="width: 980px; height: 400px"></div>
                            </body>

                            <?php
                                require_once("includes/footer.php");
                            ?>
                        </center>
                    </td>
                </tr>
            </tbody>
        </table>
        <br>
        <br>
    </center>
</body> 
```

这个概念是管理员可以在地图上看到注册用户。问题是标记不会显示。萤火虫给了我

```
xml is null
(?)(data=XMLHttpRequest { responseText="<users><user name="Yale..."-71.583336" /></users>", response="<users><user name="Yale..."-71.583336" /></users>", status=200, more...})admin.php (line 39)
onreadystatechange()admin.php (line 75)

var users = xml.documentElement.getElementsByTagName("user"); 
```

我仍然无法理解如何解决此错误。有任何想法吗？

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:43:45.530

```
var infoWindow = new google.maps.InfoWindow; 
```

应该

```
var infoWindow = new google.maps.InfoWindow(); 
```

同样在这里您通过“用户”（“用户”节点中的对象数组），但您肯定只想通过“用户”，即您刚刚创建的标记？

```
bindInfoWindow(users, map, infoWindow, html); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T18:06:37.840

所以我想通了。在邓肯的回答之后，地标不起作用的原因是我没有放置

```
header("Content-type: text/xml"); 
```

在**genxml.php**中。什么菜鸟，嗯？我认为邓肯的答案是正确的，因为没有它我就不会发现问题所在。下面是更新的**genxml.php**。谢谢！

```
<?php

    include("database.php");

    function parseToXML($htmlStr) 
    { 
        $xmlStr=str_replace('<','&lt;',$htmlStr); 
        $xmlStr=str_replace('>','&gt;',$xmlStr); 
        $xmlStr=str_replace('"','&quot;',$xmlStr); 
        $xmlStr=str_replace("'",'&#39;',$xmlStr); 
        $xmlStr=str_replace("&",'&amp;',$xmlStr); 
        return $xmlStr; 
    } 

    // Select all the rows in the users table
    $query = "SELECT * FROM users";
    $result = mysql_query($query);
    if (!$result) {
        die('Invalid query: ' . mysql_error());
    }

    header("Content-type: text/xml"); 

    // Start XML file, echo parent node
    echo '<users>';

    // Iterate through the rows, printing XML nodes for each
    while ($row = mysql_fetch_assoc($result)){
        // ADD TO XML DOCUMENT NODE
        echo '<user ';
        echo 'name="' . parseToXML($row['name']) . '" ';
        echo 'address="' . parseToXML($row['address']) . '" ';
        echo 'lat="' . $row['lat'] . '" ';
        echo 'lng="' . $row['lng'] . '" ';
        echo '/>';
    }

    // End XML file
    echo '</users>';

?> 
```

# apache-flex - Flex mobile：可以通过单击状态栏滚动到列表顶部吗？

> ID：10848053
> 
> 赞同：0
> 
> 时间：2012-06-01T09:49:52.077
> 
> 标签：apache-flex, scroll, flex-mobile

是否可以通过点击状态栏实现滚动到顶部？

我正在考虑标准的 iOS 行为。

# php - 如何在 Apache-XAMPP 中禁用 Apache 缓存？

> ID：10848055
> 
> 赞同：10
> 
> 时间：2012-06-01T09:49:54.200
> 
> 标签：php, apache, caching, xampp

我的 XAMPP-Apache 遇到了这个奇怪的问题。我正在制作一个登录系统，将表单发布到redirect.php 页面。我更新了redirect.php，但它仍然向我显示相同的旧结果。甚至没有一行可以将其重定向（标题 fn 调用）到另一个页面，但它仍然重定向到 home.php 页面，就像它在旧脚本中所做的那样。我尝试清除浏览器的缓存并更改浏览器进行测试，但没有奏效……我什至尝试重新启动服务器，但没有任何改变。请帮我解决....

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2017-06-07T06:40:13.830

试过这个？应该在 和 VirtualHost 中都可以工作`.htaccess`（`httpd.conf`如果你从 httpd.conf 中包含它，通常放在 httpd-vhosts.conf 中）

```
<filesMatch "\.(html|htm|js|css)$">
  FileETag None
  <ifModule mod_headers.c>
     Header unset ETag
     Header set Cache-Control "max-age=0, no-cache, no-store, must-revalidate"
     Header set Pragma "no-cache"
     Header set Expires "Wed, 11 Jan 1984 05:00:00 GMT"
  </ifModule>
</filesMatch> 
```

> 100% 防止文件被缓存
> 
> 这类似于谷歌广告如何使用标头 Cache-Control: private, x-gzip-ok="" > 来防止代理和客户端缓存广告。来自 [http://www.askapache.com/htaccess/using-http-headers-with-htaccess.html](http://www.askapache.com/htaccess/using-http-headers-with-htaccess.html)

如果您使用 .html 以外的扩展名，则可以选择为要检索的模板文件添加扩展名。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-04-19T12:55:44.933

如果请求相同，则您可能会收到来自缓存的响应。

## 解决方案1：

您可以尝试通过添加例如时间戳来获得每次唯一的请求。

## 解决方案 2（并非每个服务器都会接受 - 取决于服务器设置）：

您可以将标头参数设置为您的请求，例如：

```
'If-Modified-Since' = 'Mon, 26 Jul 1997 05:00:00 GMT'
'Cache-Control' = 'no-cache'
'Pragma' = 'no-cache' 
```

## 解决方案3：

玩服务器配置:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-19T10:42:56.123

在 httpd.conf 中评论这部分：

LoadModule cache_module modules/mod_cache.so

# linux - wkhtmltopdf 边距（顶部和底部）

> ID：10848058
> 
> 赞同：11
> 
> 时间：2012-06-01T09:49:55.813
> 
> 标签：linux, pdf, ubuntu, margin, wkhtmltopdf

我在以下设备上使用 wkhtmltopdf 0.10.0 rc2：Linux 3.2.0-24-generic #38-Ubuntu x86_64 GNU/Linux

我无法创建带有`margin-top`或的 PDF `margin-bottom`（没有错误）

我正在使用以下命令：

```
wkhtmotopdf -T 50 -B 50 http://google.com ./test.pdf
wkhtmotopdf --margin-top 50 --margin-bottom 50 page.html ./test.pdf 
```

当我尝试这个时：

```
wkhtmotopdf -L 50 -R 50 -T 50 -B 50 page.html ./test.pdf 
```

左边距和右边距完美（仍然没有边距顶部或边距底部）。我转换哪个 URL 或页面并不重要。

## 编辑：

看起来这是一个错误。对于仍然想要一些margin-top/margin-bottom的人。尝试使用 header-html/footer-html 功能：

> > 刚刚意识到剪裁问题是通过添加 header-spacing 和 footer-spacing 参数来解决的：

`wkhtmotopdf -L 50 -R 50 -T 50 -B 50 http://google.com --header-html blank.html --header-spacing 5 --footer-html blank.html --footer-spacing 5 ./test.pdf`

# processing - 不明白 Minim Library 的 isRange(int low, int high, int threshold)

> ID：10848063
> 
> 赞同：1
> 
> 时间：2012-06-01T09:50:13.987
> 
> 标签：processing, minim

我见过很多具有该功能的程序，`isRange(int low, int high, int threshold)`但我不明白它是如何工作的。

医生说：

> 在频率能量模式中，如果至少包含在范围 [low, high] 中的阈值带记录了节拍，则返回 true。在声能模式下，这总是返回 false。

为什么我不能设置大于 27 的高值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T23:41:27.730

在[benoit](https://stackoverflow.com/users/1246038/benoit) [链接](http://processing.org/discourse/beta/num_1173460535.html)中，有一个关于这个问题的很好的引用：

> 因此，当您说 isRange(5, 20, 10) 时，您是在说：“查看起始数组中 5 到 20 范围内的布尔值。如果其中至少有 10 个为真，则返回真。”

如果您的主要问题是为什么您不能将阈值设置为高于 27 的值，则可能是因为您的较低值和较高值之间的范围小于 27。

要理解 isRange() 函数，最好先了解一些节拍检测概念和问题。你可以在这里找到一些东西：

[http://code.compartmental.net/tools/minim/manual-beatdetect/](http://code.compartmental.net/tools/minim/manual-beatdetect/)

我希望它可以帮助你！

# jquery - 悬停菜单动画

> ID：10848064
> 
> 赞同：0
> 
> 时间：2012-06-01T09:50:17.530
> 
> 标签：jquery, jquery-plugins

我想制作一个类似于本网站的 jquery 菜单。我在网上到处搜索，但实际上，我找不到正确的搜索名称来谷歌它。

这是示例：

[http://www.templatemonster.com/demo/39116.html](http://www.templatemonster.com/demo/39116.html)

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T09:53:13.457

您发布的示例网站正在使用 Superfish Plugin for jQuery - 您可以[在此处获取插件](http://users.tpg.com.au/j_birch/plugins/superfish/#getting-started)

> Superfish 是一个增强的 Suckerfish 风格的菜单 jQuery 插件，它采用现有的纯 CSS 下拉菜单（因此它可以在没有 JavaScript 的情况下优雅地降级）并添加了以下备受追捧的增强功能：

# sql-server - 获取多对多关系中两个字段的唯一记录

> ID：10848065
> 
> 赞同：2
> 
> 时间：2012-06-01T09:50:30.813
> 
> 标签：sql-server, sql-server-2008

我试图在多对多表中获得所有一对一的关系。

在下面的示例中，我要返回的唯一记录是最后一个 (3,3)

```
PaymentID InvoiceID
1          1
1          2
2          2
3          3 
```

我得到的最接近的是

```
Select * from Table where PaymentID in (
select PaymentID from Table t
inner join (
    select InvoiceId from Table 
    group by InvoiceId
    having count(InvoiceId) = 1
) inv on t.InvoiceId = inv.InvoiceId
group by PaymentId
having count(PaymentId) = 1
) 
```

这将返回 1 和 3

任何想法都非常感谢

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T09:59:07.977

```
SELECT  *
FROM    (
        SELECT  *,
                COUNT(*) OVER (PARTITION BY paymentId) AS pcnt,
                COUNT(*) OVER (PARTITION BY invoiceId) AS icnt
        FROM    mytable
        ) q
WHERE   pcnt = 1
        AND icnt = 1 
```

# php - 试图从 PHP 中的对象和对象中获取信息

> ID：10848067
> 
> 赞同：0
> 
> 时间：2012-06-01T09:50:35.970
> 
> 标签：php

好的，我对 PHP 很陌生。我会尽力解释我的问题。

这是一个 json 对象的 var_dump。
我想做的是访问“register_sale_products”对象中的信息。
它包含每次销售中产品的 SKU、价格等产品信息。在下面的示例中，我试图列出 SKU。

```
object(stdClass)[1]
  public 'register_sales' => 
    array
      0 => 
        object(stdClass)[2]
          public 'id' => string '7c969b77-6825-bc65-3e04-64f922a570eb' (length=36)
          public 'register_id' => string '07709f8e-8d90-11e0-8e09-4040f540b50a' (length=36)
          public 'invoice_number' => string 'BH8464' (length=6)
          public 'register_sale_products' => 
            array
              ...
          public 'totals' => 
            object(stdClass)[6]
              ...
          public 'register_sale_payments' => 
            array
              ...
      1 => 
        object(stdClass)[9]....... 
```

我设法使用此代码从第一个“产品”对象数组“register_sale_products”中获取一个 SKU。

```
$array = array()    ;
foreach($data->register_sales as $sale){
    $array =    $sale->register_sale_products ;
    }
foreach($array as $saleprod){
        $details = explode(' / ', $saleprod->sku);
    $result = $details[0];
    }
echo $result; 
```

我真的需要得到数组中每个对象的结果。
非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T16:11:50.897

`$result`每次循环时您都在覆盖：

```
foreach($array as $saleprod){
    $details = explode(' / ', $saleprod->sku);
    $result = $details[0];
}
echo $result; 
```

您要做的是`echo`在循环内部，让我们`$result`成为一个新数组或让`$result`成为您附加到的字符串：

```
foreach($array as $saleprod){
    $details = explode(' / ', $saleprod->sku);
    echo $details[0], '<br>';
}

// or
$result = array();
foreach($array as $saleprod){
    $details = explode(' / ', $saleprod->sku);
    $result[] = $details[0];
}
foreach($result as $r) {
    echo $r;
}

//or
$result = '';
foreach($array as $saleprod){
    $details = explode(' / ', $saleprod->sku);
    $result .= $details[0] . ' ';
}
echo $result; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T16:20:39.377

如果我正确理解您的格式，这应该创建一个 SKU 数组（注意：不是一组，任何重复的 SKU 将多次出现在数组中）。

```
$skus = array();
// Outer loop over sales
foreach($data->register_sales as $sale) {
  // Inner loop over a sale's products
  foreach($sale->register_sale_products as $product) {
    // Add the SKU to the array
    list($skus[]) = explode(' / ', $product->sku);
  }
}

// $skus now contains all the SKUs
print_r($skus); 
```

仅就一些上下文而言，您的解决方案的主要问题（再次，基于我对您的结构的解释）是您`$array`为每次销售覆盖，而不是合并`$sale->register_sale_products`到数组中（例如`$array = array_merge($array, $sale->register_sale_products);`）。

但是，可以通过使用内部循环来进行进一步的改进，因为这可以有效地避免循环`$data->register_sales`两次。

第 7 行的使用`list`是可选的，但允许在没有额外变量的情况下进行赋值`$details`。

# java - 使用 AutoCompleteDecorator 自动完成和可编辑的 JTextField

> ID：10848072
> 
> 赞同：1
> 
> 时间：2012-06-01T09:50:40.890
> 
> 标签：java, swing, autocomplete, jtextfield, swingx

我正在使用`JTextField`自动建议，如以下代码中所述

```
String[] myStrings = new String[] {"Elem1","Elem2","Elem3","Elem4","Elem5"};

JList list = new JList(myStrings); //data has type Object[]
AutoCompleteDecorator.decorate(list, this.customerNameField, ObjectToStringConverter.DEFAULT_IMPLEMENTATION); 
```

现在我只能从中选择名称`myStrings`，但我的客户希望他可以从自动建议中选择值，他也可以添加其他值，但上面的代码不允许我这样做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:00:49.277

*   使用[自动完成 JComboBox/JTextField#setStrict(boolean flag)](https://stackoverflow.com/questions/7255636/is-it-possible-to-have-an-autocomplete-using-jtextfield-and-a-jlist/7255918#7255918)

*   [或在SwingX#enableAutoCompletion()](http://download.java.net/javadesktop/swinglabs/releases/0.8/docs/api/org/jdesktop/swingx/autocomplete/Configurator.html#enableAutoCompletion%28javax.swing.JList,%20javax.swing.text.JTextComponent%29)中搜索等效项，

# c# - 我想要一个用于 c# 的快速应用程序开发工具（框架）。应用 ERP

> ID：10848077
> 
> 赞同：-3
> 
> 时间：2012-06-01T09:51:11.227
> 
> 标签：c#, frameworks, rad

我想要一个用于c#的快速应用程序开发工具来做应用程序ERP。我们必须制作诸如订单、客户...等文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T12:29:37.117

你想要和微软交付！

您需要[Visual Studio Lightswitch](http://blogs.msdn.com/b/bethmassi/archive/2010/08/03/rapid-business-application-development-with-visual-studio-lightswitch.aspx)！它专门设计为 Visual Studio 中的 RAD 工具（本身就是 RAD 环境）。所以你得到两倍的速度！

带灯开关

> 你用它来构建——以数据为中心的业务应用程序。

和所有

> ...无需了解实体框架或 Silverlight 或 n 层设计的深度。

但是等等，还有更多！

> 它还提供了许多开箱即用的所有业务应用程序共有的功能，例如整个应用程序外壳、数据验证和搜索。还有许多屏幕和控件模板可供选择，以及一整套构建额外控件、主题、模板和插件的合作伙伴，我们将通过 Visual Studio Gallery 直接从 LightSwitch 开发环境中提供这些内容。

# c# - 选中的复选框不能被识别为这样

> ID：10848078
> 
> 赞同：2
> 
> 时间：2012-06-01T09:51:16.727
> 
> 标签：c#, asp.net, checkbox, checkboxlist

我有一个带有可变数量复选框的复选框列表，我正在做类似的事情：

```
protected void CheckBoxList1_SelectedIndexChanged(object sender, EventArgs e)
    {
        for (int j = 0; j < CheckBoxList1.Items.Count; j++)
        {
            //LabelTest.Text = "Something"; It works here
            if (CheckBoxList1.Items[j].Selected)
            {
                //LabelTest.Text = "Something 2"; It doesn't work here
                TextBoxTest.Text = CheckBoxList1.Items[j].Text;
                LabelTest.Text = CheckBoxList1.Items[j].Value;
            }
        }
    } 
```

当我选中一个框时，“某事”显示在我的页面上，但其余部分没有。我也试着写下我的“如果”：

```
if (!CheckBoxList1.Items[j].Selected) 
```

这样做，当我选中一个框时，我的 TextBoxTest 显示“106”，这是我拥有的复选框总数，但不是选中框的数量。

我的 CheckBoxList1 有一个真正的自动回发。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T09:56:03.897

对于复选框，您应该使用该属性`Checked`而不是`Selected`：

```
 if (CheckBoxList1.Items[j].Checked) 
```

但我现在无法测试这个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T10:24:36.287

问题在于您将项目添加到 CheckBoxList 的方式。您在另一个主题中提供了代码。您应该做的是将该代码包含在其中：

```
if (!IsPostBack)
{
    ... your code to add items to the CheckBoxList
} 
```

否则，您在每次回发时使用 Selected 属性的默认值 false 重新创建列表。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T09:57:02.727

```
protected void CheckBoxList1_SelectedIndexChanged(object sender, EventArgs e)
{
        foreach (ListItem item in CheckBoxList1.Items)
        {
            if (item.Selected == true)
            {
                //Response.Write(item.Value);
                LabelTest.Text = item.Value;
            }
        } 
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-01T09:57:47.300

如果您在页面加载中添加复选框列表项，则
在页面加载中：

```
private void Page_Load()
{
    if (!IsPostBack)
    {
        // load only fist time 
        LaodCheckBoxList();
    }
} 
```

由于您为 checkboxlist 启用 autopostback true ，它将回发并重新创建所有列表项，您将丢失选择状态。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-01T10:13:42.457

据我所知，您的代码应该可以工作。尝试使用 foreach 更改 for 循环

```
foreach (ListItem itm in CheckBoxList1.Items)
{             
    if (itm.Selected == true)             
    {                 
         TextBoxTest.Text = itm.Text;                 
         LabelTest.Text = itm.Value;             
    }         
} 
```

# c++ - 写入文件 mfc

> ID：10848079
> 
> 赞同：2
> 
> 时间：2012-06-01T09:51:19.610
> 
> 标签：c++, file, unicode, mfc

如何使用 MFC 将 unicode 写入文件。我尝试使用 Cfile 类写入文件，但不确定如何指定 TCHAR 的长度，也无法打印出新行。欢迎提供代码片段。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:02:17.357

如果您想将 \n 自动转换为 \r\n 字符，请使用 CStdioFile 和方法 ReadString/WriteString。以下示例使用 CFile：

```
CString strFileContent;
CString strFilePath; 

CFile theFile(strFilePath, CFile::modeReadWrite | CFile::modeCreate);

// write BOM if you like
// WCHAR bom = 0xFEFF;
// theFile.Write(&bom, 2);

theFile.Write( (LPCTSTR) strFileContent, 
    strFileContent.GetLength() * sizeof(TCHAR)); 
```

# windows-phone-7 - 我如何在 Wp7 中使用 shareLinkTask 发布 Facebook 和 twitter

> ID：10848080
> 
> 赞同：1
> 
> 时间：2012-06-01T09:51:29.643
> 
> 标签：windows-phone-7

我想在 twitter 和 facebook 上分享一些信息，使用下面链接中给出的 ShareLink Task

[http://www.kunal-chowdhury.com/2012/04/how-to-share-status-from-wp7-using.html](http://www.kunal-chowdhury.com/2012/04/how-to-share-status-from-wp7-using.html)

但是在设备中进行测试时，我可以选择在 WindowsLive 中发布，而不是 Fb 或 twiitr，即使设备中安装了 Facebook 应用程序，他们已经告诉 abt 选项

“该应用程序将能够分享到他们自己选择的社交网站，具体取决于他们与他们的设备同步的网站。”

我不明白，这是什么意思，有没有人知道它

问候 Rakesh shankar.P

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T09:55:45.927

在您的设备中，转到设置 -> 电子邮件+帐户，然后检查您与设备同步的帐户数量。

所有这些帐户都将显示在“ShareLinkTask”的“发布到”选项中。

注意：Facebook 应用程序也不同，将您的 facebook 帐户与设备同步也不同

# c - C编程宏 乘法

> ID：10848083
> 
> 赞同：3
> 
> 时间：2012-06-01T09:51:54.807
> 
> 标签：c

> **可能重复：**
> [C 宏和括号中参数的使用](https://stackoverflow.com/questions/7186504/c-macros-and-use-of-arguments-in-parentheses)

我发现这个宏观问题非常有趣。

如果以下代码被定义为宏

```
#define MULT(x, y) x * y 
```

函数调用为`int z = MULT(3 + 2, 4 + 2);`. 期望的输出是 3+2=5 和 4+2=6 并且 5*6 是 30。

但是返回的输出是 13。它把它当作 3+2*4+2。因此，根据运算符的优先级，它首先评估 2*4。

这里的解决方法是什么？在像这些较小的功能的情况下，哪一个是有效的？定义函数还是使用宏？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-01T09:53:15.400

尝试类似：

```
#define MULT(x, y) ((x)*(y)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T09:54:00.327

试试这个：

```
#define MULT(x, y) ((x) * (y)) 
```

就个人而言，我认为*不*使用宏更具可读性（并且击键次数更少）。有人会在急于学习新事物时开始添加到他们的代码中，然后会后悔。

# asp.net-mvc-3 - ASP.NET MVC 中的授权属性

> ID：10848086
> 
> 赞同：66
> 
> 时间：2012-06-01T09:52:13.283
> 
> 标签：asp.net-mvc-3

我很难理解`[Authorize]`ASP.NET MVC 中属性的实际使用。按照概念，如果我们用`[Authorize]`属性装饰控制器方法，则只有经过身份验证的用户才能访问控制器。

我开发了一个没有用`[Authorize]`属性装饰控制器的 ASP.NET MVC 应用程序。我观察到的是，如果我使用 web.config 或其他方式在我的应用程序中正确实现身份验证机制，则我现在可以访问`{controller}/{action}/{id}`特定操作方法的 URL。

系统总是要求登录。这意味着我的控制器是安全的。我的问题是，当我可以在不使用`[Authorize]`属性的情况下保护我的控制器时，它的真正需要是什么？

* * *

## 回答 #1

> 赞同：92
> 
> 时间：2012-06-01T09:56:14.360

真正的力量来自于理解和实施成员提供者以及角色提供者。您可以将用户分配到角色中，并且根据该限制，您可以将不同用户的不同访问角色应用于控制器操作或控制器本身。

```
 [Authorize(Users = "Betty, Johnny")]
 public ActionResult SpecificUserOnly()
 {
     return View();
 } 
```

或者你可以根据组限制

```
[Authorize(Roles = "Admin, Super User")]
public ActionResult AdministratorsOnly()
{
    return View();
} 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-05-15T17:22:21.533

使用`[Authorize]`属性可以帮助防止应用程序中的安全漏洞。MVC 处理 URL 的方式（即将它们路由到控制器而不是实际文件）使得通过 web.config 文件实际保护所有内容变得困难。

在此处阅读更多信息：http: [//blogs.msdn.com/b/rickandy/archive/2012/03/23/securing-your-asp-net-mvc-4-app-and-the-new-allowanonymous-attribute。 aspx（通过archive.org）](https://web.archive.org/web/20131106032949/http://blogs.msdn.com/b/rickandy/archive/2012/03/23/securing-your-asp-net-mvc-4-app-and-the-new-allowanonymous-attribute.aspx)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-06-01T10:04:13.647

它的存在是因为它使用起来更方便，也是一种完全不同的思想，使用属性来标记授权参数而不是xml配置。它并不是要击败通用配置或任何其他授权框架，只是 MVC 的做法。我这么说是因为您似乎正在寻找一种技术特性优势，这些优势可能不是……只是极好的便利性。

BobRock 已经列出了优势。只是为了补充他的答案，另一个场景是您可以将此属性应用于整个控制器，而不仅仅是动作，您还可以将不同的角色授权参数添加到同一控制器中的不同动作以进行混合和匹配。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2012-06-01T14:49:57.597

使用`Authorize`属性似乎更方便，感觉更'MVC方式'。至于技术优势是有的。

我想到的一种情况是当您在应用程序中使用输出缓存时。授权属性处理得很好。

另一个是可扩展性。该`Authorize`属性只是开箱即用的基本过滤器，但您可以覆盖其方法并执行一些预授权操作，例如日志记录等。我不确定您将如何通过配置来做到这一点。

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2018-07-26T09:43:04.450

web.config 中的标签基于路径，而 MVC 与控制器操作和路由一起使用。

如果您只是想阻止未登录的用户，但在您尝试基于角色应用授权以及您希望自定义处理未经授权的类型。

BobRock 的回答涵盖了第一种情况。

用户应至少具有以下角色之一才能访问控制器或操作

```
[Authorize(Roles = "Admin, Super User")] 
```

用户应该具有这两个角色才能访问控制器或操作

```
[Authorize(Roles = "Super User")]
[Authorize(Roles = "Admin")] 
```

可以访问 Controller 或 Action 的用户是 Betty 和 Johnny

```
[Authorize(Users = "Betty, Johnny")] 
```

在 ASP.NET Core 中，您可以使用[声明](https://docs.microsoft.com/en-us/aspnet/core/security/authorization/claims?view=aspnetcore-2.1)和[策略](https://docs.microsoft.com/en-us/aspnet/core/security/authorization/policies?view=aspnetcore-2.1)原则通过`[Authorize]`.

```
options.AddPolicy("ElevatedRights", policy =>
                  policy.RequireRole("Administrator", "PowerUser", "BackupAdministrator"));

[Authorize(Policy = "ElevatedRights")] 
```

第二个在更大的应用程序中非常方便，在这些应用程序中，可能需要根据情况使用不同的限制、流程和处理来实现授权。出于这个原因，我们可以[扩展](https://www.c-sharpcorner.com/UploadFile/3a1ce2/extending-Asp-Net-mvc-authorizeattribute/)AuthorizeAttribute 并为我们的项目实施不同的授权替代方案。

```
public class CustomAuthorizeAttribute: AuthorizeAttribute  
{  
    public override void OnAuthorization(AuthorizationContext filterContext)  
    {  }
} 
```

在 ASP.NET MVC 中进行授权的“**正确完成**”方式是使用该`[Authorize]`属性。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2012-06-01T20:36:10.573

One advantage is that you are compiling access into the application, so it cannot accidentally be changed by someone modifying the Web.config.

This may not be an advantage to you, and might be a disadvantage. But for some kinds of access, it may be preferrable.

Plus, I find that authorization information in the Web.config pollutes it, and makes it harder to find things. So in some ways its preference, in others there is no other way to do it.

# android - 通过 FTP 从 Android 发送整个文件夹

> ID：10848089
> 
> 赞同：0
> 
> 时间：2012-06-01T09:52:39.587
> 
> 标签：android, ftp, directory, send

使用我的 android 应用程序，我将能够拍摄很多照片。我不知道完整的图片数量。所以我想通过 FTP 发送带有图片的整个文件夹。

我该怎么做？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T09:58:18.187

先将文件压缩成一个文件，然后发送。这是一个压缩教程： [Zipping Files in Android](http://www.jondev.net/articles/Zipping_Files_with_Android_%28Programmatically%29)。

# apache - 要求组指令不适用于 Windows server 2008 AD 组

> ID：10848099
> 
> 赞同：0
> 
> 时间：2012-06-01T09:53:10.937
> 
> 标签：apache

我正在尝试使用 mod_sspi_auth 模块实现 Windows 身份验证。在配置 apache 2.2 的 httpd.conf 之后，我能够实现这个模块的基本实现。我应用的配置是位置标签，

```
AuthName "Windows Authentication Test" 
AuthType SSPI
SSPIAuth On
SSPIAuthoritative Off
SSPIDomain test.domain.com
SSPIOfferBasic On
SSPIOmitDomain Off
SSPIUsernameCase lower
Require valid-user 
```

并且它在一个问题上正常工作。当我尝试从我的域中不存在的机器访问我的网站时，该机器正在通过我的应用程序服务器机器进行身份验证。这不是预期的。：使困惑：

现在我想验证我在 windows server 2008 AD 中创建的用户组。我在这个组中添加了一些用户，并且使用 apache 的 Require 组指令我尝试使用具有多个组合的“Require Group”指令。但我仍然坚持不验证组用户的问题。组组合的 httpd.conf 位置标签中的配置是

```
AuthName "Windows Authentication Test" 
AuthType SSPI
SSPIAuth On
SSPIAuthoritative Off
SSPIDomain test.domain.com
SSPIOfferBasic On
SSPIOmitDomain Off
SSPIUsernameCase lower
Require group test.domain.com\mygroup 
```

我已经尝试使用 Require 指令的其他组合如下。1\. 需要组 "test.domain.com\mygroup" 2\. 需要组 mygroup 3\. 需要组 "mygroup" 4\. 需要组 "CN=abc,DC=test.domain.com" 5\. 需要组 CN=abc, DC=test.domain.com

谁可以帮我这个事..？？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T15:14:22.897

尝试使用 LocationMatch 进行组限制。我的实例使用 2 部分配置工作，看起来像这样。

```
<Location />
    AuthName "Windows Authentication Test" 
    AuthType SSPI
    SSPIAuth On
    SSPIAuthoritative Off
    SSPIDomain test.domain.com
    SSPIOfferBasic On
    SSPIOmitDomain Off
    SSPIUsernameCase lower
    Require valid-user  
</Location> 
```

对于组限制，我使用这个：

```
<LocationMatch "/">
  Require group test.domain.com\mygroup
</LocationMatch> 
```

关于您的困惑，使用 AD 凭据登录到加入域的计算机的用户将使用 IE 或其他支持 NTLM 的浏览器自动进行身份验证。但是对于没有加入域的机器，或者域机器上的非AD用户会被提示进行认证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-17T14:44:39.027

该模块也有使用以下指令的版本。

```
Require valid-sspi-user
Require sspi-user DOMAIN\user1 DOMAIN\user2
Require sspi-group DOMAIN\group 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-31T13:43:45.537

> 需要 sspi 组 DOMAIN\group_name

**仅当您使用 AD/LDAP 中的 sAMAccountName**而不是 cn 名称时，上述指令才有效。

很多时候，他们两个是相同的，但并非总是如此。

**cn 只是可见名称**，例如“ very_important_ad_group”，但 sAMAccountName 可能类似于 $ABCDEF-KOWI32OOK1LV 或其他任何名称，**您需要 apache config 中的 sAMAccountName**。

# blackberry - 在黑莓的屏幕上显示 PIM 列表中的联系人照片？

> ID：10848103
> 
> 赞同：2
> 
> 时间：2012-06-01T09:53:17.030
> 
> 标签：blackberry, contacts, pim

我正在使用黑莓中的 PIM 联系人列表应用程序，其中我需要在屏幕上一一显示所有联系人的完整详细信息。姓名： 姓氏： 手机： 工作： 家庭： **照片：**

我知道如何获取所有其他信息，但在显示联系人照片时感到困惑。如果您对此任务有任何建议或任何片段，请告诉我。:) 提前谢谢..!!!

# android - Spring for Android 1.0.0.RC1：找不到合适的 HttpMessageConverter

> ID：10848105
> 
> 赞同：1
> 
> 时间：2012-06-01T09:53:21.280
> 
> 标签：android, spring, gson, resttemplate

我在我的 android 应用程序中使用 Spring for Android 有一段时间了，我使用 Gson 进行编组/解组。

我决定用 1.0.0.RC1 版本而不是 1.0.0.M1 更新 Android 版 Spring，现在我在使用 RestTemplate 时找不到合适的 HttpMessageConverter。

我通过将 GsonHttpMessageConverter 添加到 RestTemplate 消息转换器找到了一种解决方法：

```
RestTemplate restTemplate = new RestTemplate();
restTemplate.getMessageConverters().add(new GsonHttpMessageConverter()); 
```

但是有没有办法在不手动添加 gson 消息转换器的情况下将 RestTemplate 与 json 请求一起使用？

谢谢。

# css - 在绝对定位的 div 内浮动

> ID：10848106
> 
> 赞同：2
> 
> 时间：2012-06-01T09:53:23.980
> 
> 标签：css

是否可以在不指定绝对容器宽度的情况下在绝对定位的 div 内有多个浮点数？

见图片： ![在此处输入图像描述](../Images/015e729d9b95fa192abd429ea7de725e.png)

**忍者编辑：** 您的绝对和浮动代码完美运行，但在我的情况下不是。我试图简化问题，但显然还有其他问题。一旦我弄清楚原因，我会尽快回复你。对不起。

**编辑2：** 是的，这就是我的问题的原因。

**HTML**

```
<div id="anotherContainer">
    Outercontainer
    <div class="main">
        <div class="left">Left</div>
        <div class="right">Right</div>
    </div>
</div> 
```

**CSS**

```
#anotherContainer {
    position: relative;
    outline: 4px solid red;
    width: auto;
    height: auto;
    display: inline-block;
}

.main{
    border: 1px solid #f00;
    position: absolute;
}

.left{
    float: left;
    border: 1px solid #0f0;
    padding: 20px;
}

.right{
    float: right;
    border: 1px solid #00f;
    padding: 20px;
}​ 
```

[JS小提琴](http://jsfiddle.net/rP76V/)

我的错误，我认为容器 #anotherContainer 对此没有任何影响。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:30:57.143

删除相对位置的`#anotherContainer`问题将得到解决。检查 jsfiddle 工作链接

[http://jsfiddle.net/rP76V/3/](http://jsfiddle.net/rP76V/3/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T09:59:10.543

浮动对父容器的宽度/高度没有贡献，但是您可以使用

```
display:inline-block 
```

或者对于更复杂的情况显示为：表格、表格单元格、表格行等。

更多信息请访问：[http ://www.w3schools.com/cssref/pr_class_display.asp](http://www.w3schools.com/cssref/pr_class_display.asp)

审查（示例）

```
<div style="position:absolute;border:solid 1px red;">
  <div style="display:inline-block">A</div>
  <div style="display:inline-block">B</div>
</div>​ 
```

您也可以不指定内部 div 的宽度并让浏览器选择使用

```
<div style="position:absolute;border:solid 1px red; display:table-row">
  <div style="display:table-cell">A</div>
  <div style="display:table-cell">B</div>
</div>​ 
```

这样，两个 div 将具有相同的高度。

如果您希望内部 div 具有相同的宽度，则：

```
<div style="position:absolute;border:solid 1px red; display:table-row">
  <div style="display:table-cell;width:50%">A</div>
  <div style="display:table-cell;width:50%">Blejf lkwejf lwekfjlkw ejfjwelf jlkwe jflkw elfk wlek flkwe flk wjelfkj lwke jflkw elkfjlwej lfkwjelkf lkweflk</div>
</div>​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T10:08:11.660

检查演示 - [http://jsfiddle.net/c9ShQ/](http://jsfiddle.net/c9ShQ/)

HTML

```
<div class="main">
    <div class="left">Left</div>
    <div class="right">Right</div>
</div> 
```

CSS

```
.main{
    border: 1px solid #f00;
    position: absolute;
}

.left{
    float: left;
    border: 1px solid #0f0;
    padding: 20px;
}

.right{
    float: right;
    border: 1px solid #00f;
    padding: 20px;
} 
```

# java - 深文本文件处理

> ID：10848107
> 
> 赞同：0
> 
> 时间：2012-06-01T09:53:26.427
> 
> 标签：java

在java中处理文本文件时，有什么方法可以实现这个结果：

假设我的文本文件包含以下数据（用户编号、名字、姓氏、用户名、用户类型）

```
Num010101   James   Jackson   JJ123   Normal_User 
```

现在我有另一个包含登录信息（用户、密码）的文件

```
JJ123   abc 
```

当用户登录系统时，我想使用 .contains(username) 检查第一个文件，现在如果在一行中找到用户名，那么我想打印由制表符分隔的名字和姓氏特点。

我不想在这里使用映射我想打印没有第一个、第三个和第四个值的行。

在 c++ 中，我通常使用地图库或迭代器（例如 < First_value, Second_Value > 和 i->first , i->second）来执行此操作，但由于我是 java 新手，所以我有点卡住了。

我想跳过打印中的第一个、第三个和第四个值，这就是我要寻找的不是映射。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T09:56:13.360

看看HashMap

[http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html](http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:43:25.063

通常，您会创建一个包含有关此人的信息的类：

```
public class Person{
    String number, first, last, username, type;
} 
```

然后，您将解析文件以为文件中`Person`的每一行创建实例。你可以使用`String.split()`这个或番石榴的`Splitter`.

接下来，我将映射集合，`Persons`其中`Map<String, Person>`键是用户名。

您可以实现该`toString`方法`Person`以返回您喜欢的格式的名字/姓氏。

# javascript - 断点未命中 JS 文件

> ID：10848108
> 
> 赞同：0
> 
> 时间：2012-06-01T09:53:32.027
> 
> 标签：javascript, jquery, .net

大家好，我在已添加到页面的外部 js 文件中有这段代码，我在 .NET 中使用 MVC 和 JSTree。

```
$(document).ready(function () {

$("#divJsTreeDemo").jstree({
    // List of active plugins
    // I usually configure the plugin that handles the data first
    // This example uses JSON as it is most common
    "json_data": {
        // This tree is ajax enabled - as this is most common, and maybe a bit more complex
        // All the options are almost the same as jQuery's AJAX (read the docs)
        "ajax": {
            // the URL to fetch the data
            "url": "/WebTree/GetTreeNodes",
            // the `data` function is executed in the instance's scope
            // the parameter is the node being loaded 
            // (may be -1, 0, or undefined when loading the root nodes)
            "data": function (n) {
                // the result is fed to the AJAX request `data` option
                return {
                    "operation": "get_children",
                    "id": n.attr ? n.attr("id").replace("node_", "") : 1
                };
            }
        }
    }
});

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T09:56:59.600

尝试放置关键字调试器；你想在哪里打破它

```
$(document).ready(function () {
    debugger;
    //rest of your code

}); 
```

# c# - 以编程方式将用户重定向到 Paypal 站点以及来自代码隐藏的数据

> ID：10848112
> 
> 赞同：1
> 
> 时间：2012-06-01T09:53:57.857
> 
> 标签：c#, asp.net, forms, paypal

我的情况类似于我必须将用户重定向到贝宝网站以及数据，结果当贝宝支付页面将显示时，用户信息将自动填充。我试过但失败了。在本地我尝试模拟这里的问题是代码。

## 测试.aspx

```
WebRequest request = WebRequest.Create("http://localhost:14803/PaypalCSharp/Test1.aspx");
request.Method = "POST";
request.ContentType = "application/x-www-form-urlencoded";
string postContent = string.Format("parameter1={0}&parameter2={1}", "Hello", "Wow");
byte[] postContentBytes = Encoding.ASCII.GetBytes(postContent);
request.ContentLength = postContentBytes.Length;
Stream writer = request.GetRequestStream();
writer.Write(postContentBytes, 0, postContentBytes.Length);
writer.Close();
Response.Redirect("test1.aspx"); 
```

上面的代码将用户重定向到 test1.aspx 页面以及数据

我尝试从 test1.aspx 页面中提取这些数据并在那里显示如下代码

## 测试1.aspx

```
 protected void Page_Load(object sender, EventArgs e)
{
    if (IsPostBack)
    {
        Response.Write( Request.Form["parameter1"]);
        Response.Write(Request.Form["parameter2"]);
    }
} 
```

所以请指导我如何以编程方式将用户重定向到贝宝网站以及数据，因为当贝宝网站将在浏览器中打开时，客户详细信息将在那里填写。再次提到我需要从后面的代码以编程方式完成整个事情。谢谢

## 我得到了这个解决方案，它更好

```
using System;
using System.Data;
using System.Configuration;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Xml.Linq;
using System.Net;
using System.Collections.Specialized;
using System.Text;

public static class HttpHelper
{
/// <summary>
/// This method prepares an Html form which holds all data in hidden field in the addetion to form submitting script.
/// </summary>
/// <param name="url">The destination Url to which the post and redirection will occur, the Url can be in the same App or ouside the App.</param>
/// <param name="data">A collection of data that will be posted to the destination Url.</param>
/// <returns>Returns a string representation of the Posting form.</returns>
/// <Author>Samer Abu Rabie</Author>

private static String PreparePOSTForm(string url, NameValueCollection data)
{
    //Set a name for the form
    string formID = "PostForm";

    //Build the form using the specified data to be posted.
    StringBuilder strForm = new StringBuilder();
    strForm.Append("<form id=\"" + formID + "\" name=\"" + formID + "\" action=\"" + url + "\" method=\"POST\">");
    foreach (string key in data)
    {
        strForm.Append("<input type=\"hidden\" name=\"" + key + "\" value=\"" + data[key] + "\">");
    }
    strForm.Append("</form>");

    //Build the JavaScript which will do the Posting operation.
    StringBuilder strScript = new StringBuilder();
    strScript.Append("<script language='javascript'>");
    strScript.Append("var v" + formID + " = document." + formID + ";");
    strScript.Append("v" + formID + ".submit();");
    strScript.Append("</script>");

    //Return the form and the script concatenated. (The order is important, Form then JavaScript)
    return strForm.ToString() + strScript.ToString();
 }

public static void RedirectAndPOST(Page page, string destinationUrl, NameValueCollection data)
{
    //Prepare the Posting form
    string strForm = PreparePOSTForm(destinationUrl, data);

    //Add a literal control the specified page holding the Post Form, this is to submit the Posting form with the request.
    page.Controls.Add(new LiteralControl(strForm));
}

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:16:09.413

这是我过去多次使用 c#.net 进行远程发帖的一些代码，

我不确定将代码授权给谁，因为它不是我的。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Collections.Specialized;
using System.Net;

/// <summary>
/// Summary description for RemotePost
/// </summary>
public partial class RemotePost
{
    private NameValueCollection inputValues;

    /// <summary>
    /// Gets or sets a remote URL
    /// </summary>
    public string Url { get; set; }

    /// <summary>
    /// Gets or sets a method
    /// </summary>
    public string Method { get; set; }

    /// <summary>
    /// Gets or sets a form name
    /// </summary>
    public string FormName { get; set; }

    public NameValueCollection Params
    {
        get
        {
            return inputValues;
        }
    }

    /// <summary>
    /// Creates a new instance of the RemotePost class
    /// </summary>
    public RemotePost()
    {
        inputValues = new NameValueCollection();
        Url = "http://www.someurl.com";
        Method = "post";
        FormName = "formName";
    }

    /// <summary>
    /// Adds the specified key and value to the dictionary (to be posted).
    /// </summary>
    /// <param name="name">The key of the element to add</param>
    /// <param name="value">The value of the element to add.</param>
    public void Add(string name, string value)
    {
        inputValues.Add(name, value);
    }

    /// <summary>
    /// Post
    /// </summary>
    public void Post()
    {
        var context = HttpContext.Current;
        context.Response.Clear();
        context.Response.Write("<html><head>");
        context.Response.Write(string.Format("</head><body onload=\"document.{0}.submit()\">", FormName));
        context.Response.Write(string.Format("<form name=\"{0}\" method=\"{1}\" action=\"{2}\" >", FormName, Method, Url));
        for (int i = 0; i < inputValues.Keys.Count; i++)
            context.Response.Write(string.Format("<input name=\"{0}\" type=\"hidden\" value=\"{1}\">", HttpUtility.HtmlEncode(inputValues.Keys[i]), HttpUtility.HtmlEncode(inputValues[inputValues.Keys[i]])));
        context.Response.Write("</form>");
        context.Response.Write("</body></html>");
        context.Response.End();
    }

} 
```

那么你可以简单地称呼它

`RemotePost myPost = new RemotePost('www.paypal.com')`ETC

# javascript - 如果页面上的某些内容扩展并且不再完全适合屏幕但需要滚动条，如何显示 div

> ID：10848123
> 
> 赞同：0
> 
> 时间：2012-06-01T09:54:51.420
> 
> 标签：javascript, jquery, html, extend

我有一个脚本，当网站填满屏幕时会隐藏一个 div，但不需要向下滚动页面，因此网站此时适合屏幕，div 隐藏在脚本中。

我有一些内容会在您单击按钮时扩展，有时这些内容将不再适合屏幕，并且需要向下滚动的滚动条，现在我想再次显示 div 有没有办法做到这一点可能还是会是一个非常复杂的情况？

隐藏 div 标签的脚本：

```
<script type="text/javascript">
if($(document).height() > $(window).height()){
$("#scrollTop").show();
}
else {
$("#scrollTop").hide();
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T21:29:52.407

不久前我遇到了类似的问题。我所做的是添加一个处理程序来`$(window).resize(...)`重新计算取决于是否有滚动条（在你的情况下，是否显示 div），然后`$(window).resize()`在每个可能改变页面内容高度的操作之后添加一个调用（幸运的是我只有其中之一）。

例子：

```
$(window).resize(function() {
    if($(window).height() < document.body.scrollHeight) {
        $("#scrollTop").show();
    } else {
        $("#scrollTop").hide();
    }
});
$("#extendButton").click(function() {
    $(window).resize();
});​ 
```

jsFiddle：http: [//jsfiddle.net/TKDGz/](http://jsfiddle.net/TKDGz/)

# php - 调用自身静态方法不起作用

> ID：10848126
> 
> 赞同：0
> 
> 时间：2012-06-01T09:55:09.633
> 
> 标签：php, static, operators

我有一个让我发疯的问题。
我有一个静态类，我在其中执行一些检查，这是代码：

```
class MyClass
{
  public static function globalChecks()
  {
    $result = true;

    $result = $result && self::checkAgency();
    $result = $result && self::checkAttribs();
    $result = $result && self::checkCategories();
    $result = $result && self::checkDistricts();
    $result = $result && self::checkTowns();
    $result = $result && self::checkTypes();
    $result = $result && self::checkUser();

    return $result;
  }
} 
```

所有这些方法都被声明为 public 和 static。
好吧，如果我尝试运行它，PHP 会执行第一个，然后它会跳过其他的。
我试图调试或粗暴地`die()`在方法内部放置一个，但它不起作用。

如果我用方法调用（即`self::method && $result`）切换变量一切正常......
似乎运算符优先级以某种方式涉及，但我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T09:58:23.727

为什么不只是

```
public static function globalChecks()
{
  return self::checkAgency()
   && self::checkAttribs() 
   && self::checkCategories()
   && self::checkDistricts()
   && self::checkTowns()
   && self::checkTypes()
   && self::checkUser();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:01:51.833

一旦您的方法调用之一返回 false，&& 操作将不会执行表达式的第二部分！因为 False && 任何东西都是 False。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T10:02:04.863

一旦设置了第一个 false，短路将导致方法调用被跳过——如果第一个条件为 false，则没有理由在“and”中运行它们。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:03:39.230

如果`self::checkAgency()`返回`false`,`$result`将是`false`并且由于逻辑运算符（例如 ）的从左到右求值，`&&`其他方法都不需要求值，因为求值是短路的。

您确定第一种方法`true`会在您的某些测试用例中返回吗？

# c# - 不超过每 100ms 从 observable 获取，但始终获取最终值

> ID：10848128
> 
> 赞同：1
> 
> 时间：2012-06-01T09:55:30.140
> 
> 标签：c#, system.reactive

我有一个工作人员，它公开了一个`Subject<string>`，它可以非常快速地发布日志消息。写入控制台很慢，所以我想最多每 100 毫秒写入一次控制台。任务完成后，我想写出最近发布的字符串，以避免出现`Doing work 2312/2400 ...done`. （或者即使`...done`任务花费 <100 毫秒。）

我是响应式扩展的新手，虽然我听说过它们有多棒，但这是我第一次注意到它们可以帮助我的情况。

所以，总而言之，1）不要每 100 毫秒给我一个事件超过一次 2）我需要知道最终事件，无论它何时到达。

我会将我的代码放在下面的答案中，但请提出更好的建议。也许我错过了实现这一目标的标准电话？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T12:39:51.887

*如果*作为事件源的可观察对象在完成时被调用，它实际上比你想象的要简单`OnCompleted()`。这将自行解决问题：

```
observable.Sample(TimeSpan.FromMilliseconds(100)).Subscribe(log); 
```

这是因为`Sample`当它的事件源完成时会最后一次触发。这是一个完整的测试：

```
var sub = new Subject<string>();
var gen = Observable.Interval(TimeSpan.FromMilliseconds(50)).Select((_,i) => i).Subscribe(i => sub.OnNext(i.ToString()));

sub.Sample(TimeSpan.FromSeconds(1))
   .Subscribe(Console.WriteLine);

Thread.Sleep(3500);
sub.OnCompleted(); 
```

即使我睡了 3.5 秒，也会触发 4 个事件，最后一个在我调用时触发`OnCompleted()`。

另一点需要注意的是，如果`Worker.GetObservable()`实际返回 a是不好的形式`Subject<string>`- 即使它是在 Worker 类中，它**真正**应该做的只是返回`IObservable<string>`接口。这不仅仅是风格，它是关注点的分离并返回所需的最小功能接口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T09:55:30.637

这是我想出的代码，似乎可以完成这项工作。我不确定它是多么正确或惯用。

```
var observable = Worker.GetObservable(); //Actually a Subject<string>
Action<string> log = x => Console.Write("\r" + x);
string latest = "";
using(observable.Subscribe(x => latest = x))
using(observable.Sample(TimeSpan.FromMilliseconds(100)).Subscribe(log))
{
    Worker.DoWorkWithLogs();
    log(latest);
}
Console.WriteLine(" ...done."); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:03:07.090

您可以使用[BufferWithTime](http://msdn.microsoft.com/en-us/library/ff707353%28v=vs.92%29.aspx)函数。

# jquery - jqGrid分组-只有一行时隐藏组页眉和页脚

> ID：10848129
> 
> 赞同：1
> 
> 时间：2012-06-01T09:55:30.257
> 
> 标签：jquery, jqgrid

我在 jqGrid 中使用分组功能。但我只想在组中有多个元素时才显示组标题（jqgroup）和组页脚（jqfoot）。

我试图在*loadComplete*回调中使用 JQuery 选择器来做到这一点。我已经通过检查组标题文本中的项目数成功隐藏了组标题。

```
groupingView : { 
  ..
  groupText: ['<b>{0}</b> ({1})'],
}

loadComplete: function(data) {     
  // group header text is "value (number of elements)"
  $("#grid tr.jqgroup:contains('(1)')").hide(); 
} 
```

但我找不到正确的选择器来隐藏组摘要行。例如，我尝试了以下方法：

```
$("#grid tr.jqgroup:contains('(1)') + .jqfoot") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:03:04.810

事实上，我发现它：“+”运算符给出了真正的下一个元素

```
$("#grid tr.jqgroup:contains('(1)') + .jqgrow + .jqfoot").hide(); 
```

# java - NFC 上的 Android 读取关闭活动（不是主要活动）

> ID：10848134
> 
> 赞同：2
> 
> 时间：2012-06-01T09:55:54.117
> 
> 标签：java, android, nfc

有谁知道如何做到这一点：

可以说，我们有一个包含 3 个活动的应用程序。Activity 2 有按钮，可以打开简单的 Activity 3（onClick），而 Activity 3 显示类似“Touch NFC”的内容。当我触摸 NFC 标签时，我还需要立即完成活动 3。

有谁知道我该怎么做

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T09:39:47.943

首先，您必须编辑 AndroidManifest.xml。你应该添加

```
<uses-permission android:name="android.permission.NFC" />
<uses-sdk android:minSdkVersion="10"/>
<uses-feature android:name="android.hardware.nfc" android:required="true" /> 
```

确保您的应用程序具有 NFC 权限，并且不会安装在缺少 NFC 硬件的设备上。

接下来，您应该添加意图过滤器，以便在检测到标签后调用您的应用程序：

```
<intent-filter>
    <action android:name="android.nfc.action.NDEF_DISCOVERED"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <data android:mimeType="text/plain" />
</intent-filter> 
```

这是一个简单的示例，它不一定适用于存储在其上的每种类型的标签和数据。最终，您将不得不进行自己的研究。

现在您只需要处理在您的活动中发现的标签。它看起来类似于

```
public void onResume() {
    super.onResume();
    if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(getIntent().getAction()))
         activity.finish() //you wanted to close an activity, right? 
```

你在这里放什么取决于你想做什么。稍微戳一下问题，玩弄它，然后做你需要做的事情。

附带说明 - 请阅读 SO FAQ 和[https://stackoverflow.com/questions/how-to-ask](https://stackoverflow.com/questions/how-to-ask)。第一段要求你做功课。不要指望社区会为您编写整个代码，而您甚至都懒得在谷歌中输入您的问题。此外，如果这是一项家庭作业 - 请将其标记为一项。

如需进一步阅读： http: [//developer.android.com/guide/topics/connectivity/nfc/nfc.html](http://developer.android.com/guide/topics/connectivity/nfc/nfc.html) - 在这里您可以找到完成任务所需的所有信息。

# c# - 从 c++ 返回 DWORD 到 c# (DllImport)

> ID：10848139
> 
> 赞同：2
> 
> 时间：2012-06-01T09:56:07.267
> 
> 标签：c#, .net, visual-c++, dllimport

我有一个 c++ 函数，例如，

```
extern "C" __declspec ( dllexport ) DWORD GetSizeAfterMergeISOTemplates(BYTE* StoredISOTemplate, BYTE* CapturedISOTemplate)
{
} 
```

我想在合并参数中的两个字节数组后返回数组的大小。c++ 部分正在工作并返回正确的值。

但我的问题是我需要在 c# 中获取 DWORD 中的值。功能是，

```
 [DllImport("XFPLibISO")]
        extern static UInt32 GetSizeAfterMergeISOTemplates(Byte[] StoredISOTemplate, Byte[] CapturedISOTemplate); 
```

但它返回错误的值。它的3477800东西。但实际值在 964 左右。

有人可以建议我该怎么做吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:00:31.447

您提供的 C++ 函数表示[CallingConvention.Cdecl](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.callingconvention.aspx)。您必须在申请时指定它`DllImportAttribute`：

```
[DllImport("XFPLibISO", CallingConvention = CallingConvention.Cdecl)] 
```

# javascript - .each 中设置的 JavaScript/jQuery clearInterval

> ID：10848140
> 
> 赞同：5
> 
> 时间：2012-06-01T09:56:08.103
> 
> 标签：javascript, jquery, ajax, setinterval, clearinterval

所以我为每个帖子创建了一个间隔，问题是我加载新帖子并删除旧帖子，所以显然我想停止以前帖子的间隔。但是我似乎无法弄清楚如何做到这一点。有人可以向我解释如何正确执行此操作吗？我完全迷路了。

```
$(".post").each(function(){
    myInterval = setInterval("postStats('"+$(this).attr('id')+"')", 500);
});

function postStats(pid) {
    //do some stuff
}

$(".button").click(function(){
    clearInterval(myInterval);
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:00:36.127

您可以将间隔 ID 存储在数据属性中：

```
$(".post").each(function () {
    var that = this;
    var myInterval = setInterval(function () {
        postStats(that.id);
    }, 500);
    $(this).data("i", myInterval);
}); 
```

并清除每个特定的间隔，`.post`如下所示：

```
$(".button").click(function () {

    // assuming the button is inside a post
    clearInterval($(this).closest(".post").data("i"));
}); 
```

就像 SiGanteng 说的，你应该传递一个函数对象`setInterval`而不是一个字符串，它只会得到`eval`'d。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:02:14.877

您需要为开始的每个间隔保留一个句柄：

```
var myIntervals = [];

$(".post").each(function(){
  var id = $(this).attr('id');
  var handle = window.setInterval(function(){
    postStats(id);
  }, 500);
  myIntervals.push(handle);
});

function postStats(pid) {
//do some stuff
}

$(".button").click(function(){
  $.each(myIntervals, function(i, val){
    window.clearInterval(val);
  });
  myIntervals = [];
}); 
```

# mysql - Mysql查询花费了很长时间

> ID：10848145
> 
> 赞同：1
> 
> 时间：2012-06-01T09:56:42.863
> 
> 标签：mysql, optimization

我的桌子`tbltemp`上有大约 90 万条记录。这些列是：（主键，`id`自动增量）`name`，，，，，，，，，。`qty``price``status``mod_date``created_date`

我的查询是：

```
SELECT * 
 FROM tbltemp 
 WHERE qty > 3 
 ORDER By Rand() 
 LIMIT 50 
```

执行大约需要 7 到 10 秒。如何优化我的表或查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-02T09:02:59.140

在您的查询中：

```
SELECT * FROM tbltemp WHERE qty > 3 ORDER By Rand() LIMIT 50 
```

对于查询优化，请看一下：

1.  ORDER BY 子句是耗时长的主要原因。
2.  将索引添加到`qty`列。
3.  另外你使用的存储引擎也会影响查询的性能优化。MYISAM是最快的存储引擎。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T09:59:11.977

`qty`您应该在列上创建广告索引。
总之`ORDER By Rand()`很费时间...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T12:48:28.170

这是`order by rand()`. 试试这个，看看它是否有效

```
select @lims := floor(1+rand()*(count(*) - 1)) from tbltemp;  

PREPARE mystatement FROM "SELECT * FROM tbltemp WHERE qty > 3 LIMIT ?, 50";

EXECUTE mystatement USING @lims; 
```

# php - MySQL - 从数据库中检索 HTML 表 - 引号前的反斜杠

> ID：10848146
> 
> 赞同：0
> 
> 时间：2012-06-01T09:56:47.027
> 
> 标签：php, mysql

我想将 html 表添加到 MySQL 数据库中的文本字段中。检索数据不是问题，而是返回数据的方式。无论哪里有引号“”在它之前添加一个反斜杠，我该如何停止/纠正它？

我的意思的例子：

```
<tr>
<td style="background:#bfd; color:black; vertical-align:middle; text-align:center;">Win</td>
<td align="center">15–1</td>
<td><a href="#" title="Frank Mir">Frank Mir</a></td>
<td>TKO (punches)</td>
<td>UFC 146</td>
<td align="center">2</td>
<td align="center">3:04</td>
</tr> 
```

然后返回：

```
<tr>
<td style=\"background:#bfd; color:black; vertical-align:middle; text-align:center;\">Win</td>
<td align=\"center\">15–1</td>
<td><a href=\"#\" title=\"Frank Mir\">Frank Mir</a></td>
<td>TKO (punches)</td>
<td>UFC 146</td>
<td align=\"center\">2</td>
<td align=\"center\">3:04</td>
</tr> 
```

非常感谢任何帮助：D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:14:24.350

请参阅 PHP 手册

*   [mysql-真正的转义字符串](http://php.net/manual/en/function.mysql-real-escape-string.php)
*   [函数.stripslashes](http://www.php.net/manual/en/function.stripslashes.php)

# objective-c - 请举例说明为什么不建议将图像存储在 CoreData 中？

> ID：10848147
> 
> 赞同：0
> 
> 时间：2012-06-01T09:56:47.177
> 
> 标签：objective-c, core-data

这个问题已经被问过很多次了，我读过很多用户告诉我不建议将图像存储在数据库中，尤其是在 CoreData 中。他们似乎都忽略了他们这样做的原因。甚至 Apple 文档也说明了这一点，并且每个人都指向了这个方向，并且每次讨论都以这样的方式结束，“你可以，但存储路径更好”。

除了意见之外，我想举一个具体的例子来说明为什么它不是一个好的解决方案。

我解释得更好，我在构建 Web 应用程序方面有很强的背景。从我的角度来看，我给出的一个具体示例可能是：不要将图像存储在数据库中，而是存储它们的路径，因为您可以让 Web 服务器为它们提供服务，这可以应用其所有缓存问题。

但是在桌面环境中，尤其是在 iOS 应用程序中，使用 sqllite 存储在 Core Data 中的缺点是什么，前提是：

> 有一个单独的实体保存图像，它不是主要实体的属性

图像的限制似乎也为 100kb。为什么 ？110,120...200kb ecc 会发生什么？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-02T08:10:02.713

Core Data 通常在这里所做的并没有什么特别之处。它只是使用[SQLite](http://www.sqlite.org/)数据库。您可以将大量数据放入其中，但它只是不能很好地扩展。您可以在此处阅读有关它的更多信息：[SQLite 中的内部与外部 BLOB](http://www.sqlite.org/intern-v-extern-blob.html)。

也就是说，Core Data 支持*外部 blob*，在 Core Data 术语中称为 **存储在外部记录中**（iOS 5.0 及更高版本）。同样，它没有什么神奇之处，它只是将大量数据与 SQLite db 本身分开存储在文件系统中。好处是 Core Data 会为您更新所有这些。

当您在 Xcode 中时，会有一个名为*Allows External Storage*的复选框，您可以检查*Binary Data*属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:23:32.720

文件系统和围绕它的 API：s（就像网络服务器一样）经过优化，可以提供任何大小的文件，并在适当的情况下应用缓存。

CoreData 针对处理带有小块数据（如整数和短字符串）的对象图进行了优化。

此外，还有许多其他问题可能会逐渐影响您，例如定期清理 CoreData 使用的 SQLite 数据库，或者它无法缩小，只会增长。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-02T17:06:55.997

莱昂纳多，

在 Lion/iOS 5 中，Core Data 开始为您处理大型 BLOB 的文件系统存储。

选择实际上取决于您要打开多少张图片。如果你有很多，那么你应该将它们保存在数据库中。为什么？因为您只有少量的文件描述符，其中一个用于存储在文件系统中的每个打开的图像。

也就是说，仍然有理由自己管理文件。如果你的 BLOB 真的很大，比如说 2 MB 以上，你会想要将它们映射到内存中，而不仅仅是读入它们。（当内存警告出现时，这会让操作系统自动从你的常驻内存中清除它们。这是一个非常好事。）即便如此，您仍然遇到文件描述符数量有限的问题。

安德鲁

# android - 如何为我的 android 应用程序实施升级计划？

> ID：10848149
> 
> 赞同：2
> 
> 时间：2012-06-01T09:56:52.643
> 
> 标签：android

正如我的问题所说，我想为我的 Android 应用实施升级计划。我是 Android 开发的新手，想要一些关于如何在应用程序中进行升级的链接、指针和代码示例。（IE android 应用程序如何处理升级过程）

目前我的应用程序是 1.0 版并且处于测试阶段。我知道当我发布我的应用程序时，我需要能够升级，因为添加了新功能并修复了报告的错误。该应用程序包含一个 Sqlite 数据库，在此过程中也需要升级。

该应用程序不会发布到市场，因为该应用程序是为 CRM 和 ERP 目的而创建的。

任何链接或提示都会受到极大的欢迎。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-02T16:01:36.467

对于升级的计划方面，如果您使用的是 Eclipse，您可能会考虑使用 Mylyn Tasks 来制作计划功能和错误修复的计划列表。您可以将每个任务链接到您的代码、注释和外部链接，并在项目的多个开发人员之间共享任务。

对于升级的实施，请确保您正在更新 Android Manifest 文件中的版本代码（由系统使用）和版本名称（用户可查看）。每个次要/主要版本都**必须**增加其版本代码，否则系统将不知道应用程序的哪个版本具有升级优先级。

此外，如果您使用的是 Sqlite 数据库，则该数据库有自己的与结构更改相关的版本控制方案（CREATE/DROP/ALTER TABLE）。数据库版本不必与应用程序版本相对应，但它也必须随着更改而增加。检查 SQLOpenHelper 和相关类的文档。

最后，如果您使用 ProGuard 或其他代码混淆器，请维护每个应用程序发布期间生成的映射文件的副本。您将需要该文件的每个版本来对早期版本中的任何堆栈跟踪进行去混淆处理。

# iphone - 存储应用程序参数，如密钥

> ID：10848153
> 
> 赞同：4
> 
> 时间：2012-06-01T09:57:03.337
> 
> 标签：iphone, objective-c, ios, ios4

我正在开发一个小 SDK，它有一个 configFile.plist 文件来存储诸如密钥之类的东西。在他的应用程序中实现此 SDK 的开发人员以及其他用户将下载该应用程序，他们将能够进入应用程序二进制文件并更改 .plist 文件中的任何内容。

有没有办法在不让用户轻松修改参数的情况下存储这些信息？我不希望用户能够更改 .plist 文件中的参数。

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:16:33.400

对于 plist 存储，无论哪种方式都可以轻松访问。您最好的选择是提供用于配置的类文件，而不是 plist。下面的例子..

```
//Config.h

#define SHARED_SECRET @"2390849028349829384"
#define SOME_OTHER_VALUE 1 
```

..依此类推，这样，类文件与应用程序一起编译，对用户不可见，但开发人员可以访问。一旦你`#import "Config.h"`，你可以在代码中使用`SHARED_SECRET`和`SOME_OTHER_VALUE`代替值本身。如果这足以解决您的问题，请将其标记为答案。希望能帮助到你..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:12:18.600

请记住，人们将能够使用正确的工具查看/更改几乎任何内容，您无法阻止人们对其进行黑客攻击。

如果 SDK 的每个用户的密钥都不同，那么您可能希望将其设为开发人员的责任，并让他们使用委托方法向您提供私钥。这将成为他们的问题，这将使他们更容易将密钥直接编译成代码，这对于最终用户来说将不太明显。

# java - Android：防止按钮上的多个 onClick 事件（已禁用）

> ID：10848157
> 
> 赞同：20
> 
> 时间：2012-06-01T09:57:27.307
> 
> 标签：java, android, user-interface

一个按钮触发一个只应该被调用一次的动作。在执行操作之前，该按钮被禁用并隐藏在 onClick 处理程序中：

```
someButton.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {
        someButton.setEnabled(false);
        someButton.setClickable(false);
        someButton.setVisibility(View.GONE);
        performTaskOnce();
        }
    });

private void performTaskOnce() {
    Log.i("myapp", "Performing task");
    //Do something nontrivial that takes a few ms (like changing the view hierarchy)
} 
```

即使按钮立即被禁用，仍然可以通过快速点击多次来触发多个“onClick”事件。（即被`performTaskOnce`多次调用）。似乎 onClick 事件在按钮实际被禁用之前排队。

我可以通过检查每个单独的 onClick 句柄是否已禁用相应的按钮来解决问题，但这似乎是一个 hack。有没有更好的方法来避免这个问题？

该问题出现在 Android 2.3.6 上，我无法在 Android 4.0.3 上重现它。但鉴于 4.x 设备的稀有性，排除旧设备不是一个选项。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T12:43:04.490

您可以在单击按钮时将布尔变量设置为 true，并在处理完单击后将其设置为 false。

通过这种方式，您可以忽略多次单击，而不必禁用按钮，从而避免烦人的按钮闪烁。

```
boolean processClick=true;
someButton.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {
        if(processClick)
         {
        someButton.setEnabled(false);
        someButton.setClickable(false);
        someButton.setVisibility(View.GONE);
        performTaskOnce();
         }
        processClick=false; 
        }
    });

private void performTaskOnce() {
    Log.i("myapp", "Performing task");
    //Do something nontrivial that takes a few ms (like changing the view hierarchy)
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-03-13T18:46:21.447

为了保持[DRY](http://en.wikipedia.org/wiki/Don%27t_repeat_yourself)：

```
// Implementation
public abstract class OneShotClickListener implements View.OnClickListener {
    private boolean hasClicked;

    @Override public final void onClick(View v) {
        if (!hasClicked) {
            onClicked(v);
            hasClicked = true;
        }
    }

    public abstract void onClicked(View v);
}

// Usage example
public class MyActivity extends Activity {
    private View myView;

    @Override protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        myView.setOnClickListener(new OneShotClickListener() {
            @Override public void onClicked(View v) {
                // do clicky stuff
            }
        });
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-24T07:19:22.083

有点晚了，但这可能对某人有用。就我而言，我这样称呼另一项活动；

声明一个布尔值；

```
boolean clickable; 
```

在点击监听器中；

```
if(clickable){
   // Launch other activity
   clickable = false;
} 
```

调用 onResume 时启用；

```
@Override
public void onResume() {
    Log.e(TAG, "onResume");
    super.onResume();
    clickable = true;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-03-21T12:06:07.807

您可以使用`RxView`( `com.jakewharton.rxbinding2.view.RxView`) 是由 Jake Wharton 创建的围绕 RxJava 的扩展。

要将其集成到项目中，您应该使用`implementation 'com.jakewharton.rxbinding3:rxbinding:3.1.0'`

简单的Java用法：

```
RxView.clicks(yourButton)
    .sample(500, TimeUnit.MILLISECONDS)
    .subscribe { action() } 
```

在`Kotlin`您可以创建扩展功能来处理您的点击：

```
View.singleClick(action: () -> Any) {
    RxView.clicks(this)
        .sample(500, TimeUnit.MILLISECONDS)
        .subscribe { action() }
} 
```

样本：

**科特林**

```
yourButton.singleClick({
    //do some stuff here
}) 
```

**爪哇**

```
SingleClickListenerKt.singleClick(yourButton, () -> {
    doSomeStuff();
    return null;
    }); 
```

*注意：*如果您愿意，您可以使用任何 RxJava 运算符`debounce, map, first`，例如 等。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-01T10:07:29.580

声明一个变量并将其用作

```
 boolean boo = false;
 someButton.setOnClickListener(new OnClickListener() {
 @Override
 public void onClick(View v) {
 if(boo==false){
    someButton.setEnabled(false);
    someButton.setClickable(false);
    someButton.setVisibility(View.GONE);
    boo = true;
 }

    }
}); 
```

这样你就可以防止多次点击你的按钮

希望有帮助

# php - 在 PHP 表中添加换行符

> ID：10848159
> 
> 赞同：1
> 
> 时间：2012-06-01T09:57:38.553
> 
> 标签：php, line-breaks

我想知道是否有人可以帮助我。

我正在使用下面的代码在我的网页上创建一个表格。

```
 <table id="report" width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
              <th width="150"></th>
          <th width="140"><div align="left">Location Name</div></th>
          <th width="398"><div align="left">Address</div></th>
              <th width="124"><div align="center">Finds Made</div></th>
              <th width="280"></th>
              <th width="101"></th>
              <th width="166"></th>
              <th width="90"></th>
        </tr>
        <?php

                        echo "<tr>
                                <td><div><a href='delete.php?locid=$lid'>Delete Location</a></div></td> 
                                <td><div align='left'>$lname</div></td>
                                <td><div align='left'>$laddress</div></td>
                                <td><div align='center'>$findscount</div></td>
                                <td><div><a href='viewlocation.php?locid=$lid'>View/Amend Location Details</a></div></td>  
                                <td><div><a href='addfinds.php?locid=$lid'>Add Finds</a></div></td> 
                                <td><div><a href='addfinds.php?locid=$lid'>Add Find Images</a></div></td>
                                <td><div><a href='finddetails.php?locid=$lid'>View Finds</a></div></td> 
                            </tr>";
                            echo "<th colspan=\"8\"><hr width=\"100%\"></th>"; 
```

我正在尝试做并且遇到问题的是在每行数据之间创建一个换行符，我想将它放在我的代码行之前：`echo "<th colspan=\"8\"><hr width=\"100%\"></th>";`

我尝试使用`"\n"`, `echo "\n"`,`"<br />"`仅举几例，但我似乎无法让它工作。

我只是想知道是否有人可以看看这个，让我知道我哪里出错了。

非常感谢和问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:18:29.240

```
 <tr><th colspan="8"><br/><hr width="100%"></th><tr> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:00:19.933

你`<th>`还需要一个包装`<tr>`。然后将此添加到您的CSS

```
th[colspan=8] { margin-top: 1em; } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:01:26.093

我通常这样做：

```
echo "<th colspan=\"8\"><hr width=\"100%\"></th>\r\n" .
     "<td></td>" . 
```

...等等。

# javascript - 根据数据属性生成链接

> ID：10848164
> 
> 赞同：3
> 
> 时间：2012-06-01T09:57:51.760
> 
> 标签：javascript, jquery

我正在尝试编写一个小 jQuery 脚本来检查一组 div 以查看它们是否具有 data-name 属性。对于具有数据名称的那些，它将创建一个链接。该链接的 href 应该是数据值的名称加上包含文件扩展名（例如 .txt）。

一切似乎都正常，除非我尝试将数据值添加到链接上。该脚本的最终结果是为每个 div 输出如下内容：

```
<p class="data-link"><a href="<<data_value>>.txt>>">Edit</a> 
```

下面是我的脚本。我已经确定了我遇到问题的那个领域。

```
var dataNameWrappers = $("div#desktopSidebar div[data-name]");
dataNameWrappers.each(function() {
    var dataNameWrappers_action = "" + $(this).attr("data-name");
    $(this).prepend("<p class='edit-link'><a>Edit</a></p>");
    var dataNameWrapperEditLink = $("div#desktopSidebar p.edit-link a");
    dataNameWrapperEditLink.each(function() {
        $(this).attr('href', <<stuck_here>>);
    });
}); 
```

任何帮助都会很棒。

谢谢

根据要求，这是我的侧边栏 HTML 结构

```
<div id="desktopSidebar">
    <div class="sidebar userbox">
        <h3 class="sidebarheader"> Welcome  {{username}}}</h3>
    </div>
    <div data-name="social_media_sitewide" class="sidebar socialmedia">
        <h3 class="sidebarheader">Follow Tennis-Chat</h3>
    </div>
    <div data-name="site_promotions" class="sidebar promotions">
        <h3 class="sidebarheader">Current Promotions</h3>
    </div>
    <div data-name="livescores" class="sidebar Livescores">
        <h3 class="sidebarheader">Live Scores</h3>
    </div>
    <div class="sidebar tournaments">
        <h3 class="sidebarheader">Tournaments</h3>
    </div>
    <div data-name="featured-profiles" class="sidebar profiles">
        <h3 class="sidebarheader">Today's Profile: {{featured_profile_name}}</h3>
    </div>
    <div data-name="side_advertisment" class="sidebar Advertisement">
        <h3 class="sidebarheader">Advertisement</h3>
    </div>
    <div class="sidebar Headlines">
        <h3 class="sidebarheader">Tennis-Chat Headlines</h3>
    </div>
    <div class="sidebar mostrecent" id="mostRecentTopics">
        <h3 class="sidebarheader">Most Recent Posts</h3>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:13:45.213

当您已经拥有所需的一切时，我不知道为什么要使用第二个循环来添加 HREF。

在这里工作小提琴：http: [//jsfiddle.net/Q4j8S/](http://jsfiddle.net/Q4j8S/)。

HTML：

```
<div id="desktopSidebar">
    <div class="sidebar userbox">
        <h3 class="sidebarheader"> Welcome  {{username}}}</h3>
    </div>
    <div data-name="social_media_sitewide" class="sidebar socialmedia">
        <h3 class="sidebarheader">Follow Tennis-Chat</h3>
    </div>
    <div data-name="site_promotions" class="sidebar promotions">
        <h3 class="sidebarheader">Current Promotions</h3>
    </div>
    <div data-name="livescores" class="sidebar Livescores">
        <h3 class="sidebarheader">Live Scores</h3>
    </div>
    <div class="sidebar tournaments">
        <h3 class="sidebarheader">Tournaments</h3>
    </div>
    <div data-name="featured-profiles" class="sidebar profiles">
        <h3 class="sidebarheader">Today's Profile: {{featured_profile_name}}</h3>
    </div>
    <div data-name="side_advertisment" class="sidebar Advertisement">
        <h3 class="sidebarheader">Advertisement</h3>
    </div>
    <div class="sidebar Headlines">
        <h3 class="sidebarheader">Tennis-Chat Headlines</h3>
    </div>
    <div class="sidebar mostrecent" id="mostRecentTopics">
        <h3 class="sidebarheader">Most Recent Posts</h3>
    </div>
</div> 
```

JavaScript：

```
var dataNameWrappers = $("div#desktopSidebar div[data-name]");
dataNameWrappers.each(function() {
    var dataNameWrappers_action = $(this).attr("data-name");
    console.log('data-name ' + dataNameWrappers_action);
    $(this).prepend('<p class="edit-link"><a href="' + dataNameWrappers_action + '">Edit</a></p>');
/* Don't need this
    var dataNameWrapperEditLink = $("div#desktopSidebar p.edit-link a");
    dataNameWrapperEditLink.each(function() {
        $(this).attr('href', dataNameWrappers_action);
    });
    */
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:18:53.627

与其在执行 prepend 之后遍历 a 标记，不如使用所需的 href 属性制作 HTML 片段。

以下是完成此操作的代码：

```
$('#desktopSidebar .sidebar[data-name]').each(function(index, el){
    var href = $(el).attr('data-name') + ".txt";
    $(el).prepend('<p class="edit-link"><a href="' + href + '">Edit</a>');
}); 
```

# ruby-on-rails - 如何使用 I18 根据 Rails 中的区域设置显示部分站点？

> ID：10848166
> 
> 赞同：1
> 
> 时间：2012-06-01T09:57:53.267
> 
> 标签：ruby-on-rails, internationalization

我在这里有一个问题，我希望你能指出我正确的方向......

我需要向使用某种语言（例如英语）访问它的人“隐藏”我网站的某个部分，并且我不希望它对默认语言环境可见。

可以这样做吗？

任何的想法？

我在 Rails 3，红宝石 1.9.2

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:03:51.570

`I18n.locale`返回当前语言环境。

```
if :en == I18n.locale
   # ...
end 
```

# javascript - 为什么警告框不显示更新的值？

> ID：10848169
> 
> 赞同：-3
> 
> 时间：2012-06-01T09:58:11.307
> 
> 标签：javascript

我为 java 脚本编写了非常小的代码。这个消息框的值已更改，但它显示旧值（14+32）而不是更新值（14+32+10）。

```
 <script type="text/javascript">
var no=(14+32);
alert(no);
no =(14+32+10);
 </script> 
```

有人能说出这背后的真正原因吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T09:59:58.343

这些语句的执行顺序是顺序和同步的，因此打印执行时`alert`的当前值`no`

或者换句话说：当你再次改变语句的值`no`已经`alert`被执行

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T09:59:32.710

`Alert`是同步函数（就像 JS 中的大多数一样）所以`alert()`在你改变之前弹出`var no`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:06:19.417

因为代码是向下执行的！

```
 <script type="text/javascript">
     var no=(14+32);
     alert(no);
     no =(14+32+10);
     alert(no);
  </script> 
```

现在你可以看到差异了！

# iphone - paymentWithProductIdentifier 的替代解决方案是什么？

> ID：10848181
> 
> 赞同：20
> 
> 时间：2012-06-01T09:58:50.583
> 
> 标签：iphone, objective-c, xcode, in-app-purchase

嗨，我在我的项目中使用 APP 购买。当我运行这个项目时，一切正常，除了我收到一条警告消息说“paymentWithProductIdentifier 已弃用”，我经历了堆栈溢出中提出的类似问题，但我不满意。我向您展示了我在下面的项目中使用的编码

```
SKPayment *payment=[SKPayment paymentWithProductIdentifier:@"com.mycompany.dmaker.maker1"];
[[SKPaymentQueue defaultQueue] addTransactionObserver:self];
[[SKPaymentQueue defaultQueue] addPayment:payment]; 
```

谁能告诉我 1）此警告的替代方法。2）如果我使用这个现有代码，或者告诉我这个项目是否在 appstore 中获得批准。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-01T10:09:05.410

尝试使用这个：

```
SKProduct *selectedProduct = <#from the products response list#>;
SKPayment *payment = [SKPayment paymentWithProduct:selectedProduct];
[[SKPaymentQueue defaultQueue] addPayment:payment]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-12T05:08:13.737

您可以替换`paymentWithProductIdentifier:`为以下代码：

```
// SKPayment *payment = [SKPayment paymentWithProductIdentifier:productId];
// [[SKPaymentQueue defaultQueue] addPayment:payment];
NSSet *productIdentifiers = [NSSet setWithObject:productId];
self.productsRequest = [[SKProductsRequest alloc] initWithProductIdentifiers:productIdentifiers];
self.productsRequest.delegate = self; // your wrapper for IAP or AppDelegate or anything
[self.productsRequest start]; 
```

while`productsRequest`是一个保留属性。

并实现一个 SKProductsRequestDelegate 方法：

```
- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response
{
    for (SKProduct *product in response.products) {
        SKPayment *payment = [SKPayment paymentWithProduct:product];
        [[SKPaymentQueue defaultQueue] addPayment:payment];
    }
    self.productsRequest = nil;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-21T21:50:59.117

您有 3 个选项：

*   使用预处理器定义抑制此警告：

    ```
    #pragma clang diagnostic push
    #pragma clang diagnostic ignored "-Wdeprecated-declarations"
    SKPayment *payment=[SKPayment paymentWithProductIdentifier:@"com.mycompany.dmaker.maker1"];
    #pragma clang diagnostic pop
    [[SKPaymentQueue defaultQueue] addPayment:payment]; 
    ```

*   创建`SKMutablePayment`而不是`SKPayment`：

    ```
    SKMutablePayment *payment = [[SKMutablePayment alloc] init];
    payment.productIdentifier = @"com.mycompany.dmaker.maker1";
    payment.quantity = 1;
    [[SKPaymentQueue defaultQueue] addPayment:payment]; 
    ```

*   使用`paymentWithProduct:`便利初始化器：

    ```
    SKPayment *payment = [SKPayment paymentWithProduct:<# product that you received in productsRequest:didReceiveResponse: #>];
    [[SKPaymentQueue defaultQueue] addPayment:payment]; 
    ```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-14T23:10:10.817

您可以改用以下代码，它确实有一些您可能已经拥有的额外代码，但只是为了确保

```
#define kInAppPurchaseId "(your product ID here)"

- (void)makePurchase{
//call this when you would like to begin the purchase
//like when the user taps the "purchase" button
NSLog(@"User requests to make purchase");

if([SKPaymentQueue canMakePayments]){
    NSLog(@"User can make payments");

    SKProductsRequest *productsRequest = [[SKProductsRequest alloc] initWithProductIdentifiers:[NSSet setWithObject:kInAppPurchaseId]];
    productsRequest.delegate = self;
    [productsRequest start];

}
else{
    //the user is not allowed to make payments
    NSLog(@"User cannot make payments due to parental controls");
}
}

- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response{
SKProduct *validProduct = nil;
int count = [response.products count];
if(count > 0){
    validProduct = [response.products objectAtIndex:0];
    NSLog(@"Products Available!");
    [self purchase:validProduct];
}
else if(!validProduct){
    NSLog(@"No products available");
}
}

- (IBAction)purchase:(SKProduct *)product{
SKPayment *payment = [SKPayment paymentWithProduct:product];
[[SKPaymentQueue defaultQueue] addTransactionObserver:self];
[[SKPaymentQueue defaultQueue] addPayment:payment];
} 
```

我在我的应用程序中使用了这个代码，所以它应该可以工作。

# javascript - javascript 事件处理发生在程序流内部还是外部？

> ID：10848184
> 
> 赞同：11
> 
> 时间：2012-06-01T09:59:07.030
> 
> 标签：javascript, event-handling, program-flow

这个问题与[Javascript 事件处理和流控制](https://stackoverflow.com/questions/1312524/javascript-event-handling-and-flow-control)有关，但它超越了一步。仍未回答的问题是：当触发事件并将控制权返回给浏览器时，浏览器是否可以决定首先处理其他事件（由其他脚本或用户操作触发）（A），还是它总是直接处理我的事件（乙）？

![javascript 事件处理是发生在程序流外部（A）还是内部（B）？](../Images/5707563dddcfdebef69141248f1bffc6.png) 这个问题很重要，因为在 (B) 的情况下，您可以相信在触发事件和事件处理程序之间没有任何变化，而 (A) 则不提供任何保证。

我的第一个猜测是 (B)，stopPropagation() 和 preventDefault() 还能如何工作？但是再想一想，这并不是确凿的证据。

这个问题的真实例子。我正在修改一个富文本编辑器（你好），我希望它具有以下规格：

*   单击可编辑文本 (#txt) 将激活编辑器，单击外部 #txt 将禁用它。你好在#txt 上使用模糊和焦点事件来实现这一点。
*   激活编辑器会打开一个工具栏，工具栏上的 mousedown（但不是按钮上的）将设置一个标志，以防止 #txt 上的模糊事件停用编辑器。工具栏将焦点返回到#text。
*   工具栏按钮上的 mousedown 也应该防止停用编辑器，但它应该首先等到单击事件，执行其操作，然后将焦点返回到 #txt。一些动作是即时的（粗体或斜体），而另一些则需要额外的用户输入（从下拉列表中选择）。
*   其中一些按钮会打开一个对话框。
*   ...而且我希望所有这些元素（编辑器、工具栏、对话框）都是模块化的并且易于扩展。

现在在大多数情况下，当您关闭对话框时，您希望焦点返回到#txt。但是如果打开了一个对话框并且您单击页面上的其他位置，编辑器将关闭并调用工具栏，包括要关闭的对话框。如果在这种情况下对话框将焦点返回给编辑器，它将再次激活编辑器。

据我现在了解，事件处理顺序至少是确定性的。某些事件不可能延迟，而其他事件处理得更早。这就是“同步”的含义。当然，加载文件之类的事件除外。

从程序组件的角度来看，比如对话框，情况可能非常不可预测。它可以将处理程序绑定到打开事件，然后调用 dialog("open")，但调用和处理程序之间可能发生任何事情，只要因为编辑器在同一事件上有一个事件处理程序。

所以我的结论是 1）是的，它是可以预测的，但是 2）它需要一个复杂的架构来实现它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:37:36.527

一般来说，事件模型是同步和可重入的，这意味着如果一个事件处理程序引发另一个事件 - 第二个事件将同步执行，只有在完成后第一个事件才会继续执行。

这似乎是您要描述的内容，在这种情况下（B）是有保证的。

相关来源：[http ://www.w3.org/TR/DOM-Level-3-Events/#event-flow](http://www.w3.org/TR/DOM-Level-3-Events/#event-flow)

# java - libgdx 粒子系统 Z 坐标

> ID：10848186
> 
> 赞同：6
> 
> 时间：2012-06-01T09:59:10.403
> 
> 标签：java, transformation, libgdx, particle-system

我想使用 Z 坐标在 3D 中渲染粒子效果。我尝试使用贴花而不是 Sprite 来实现自己的 ParticleEffect，但没有成功。

还有其他方法可以使用 Z 坐标渲染 ParticleEffect 吗？也许通过操纵 SpriteBatch 的转换矩阵？

**更新：**

工作代码

```
// update projection each frame since my camera is moving
spriteBatch.setProjectionMatrix(camera3d.projection);

for (ParticleEffect effect : effects){
    spriteBatch.setTransformMatrix(camera3d.view);
    spriteBatch.getTransformMatrix().translate(x,y,z); // different for each effect
    spriteBatch.getTransformMatrix().scale(0.1f,0.1f,0.1f); //optional
    spriteBatch.begin();

    effect.draw(spriteBatch, delta);

    spriteBatch.end();
    spriteBatch.getTransformMatrix().idt();
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-10T16:30:20.997

如果您的 3D 效果是视差效果，即您的粒子垂直面向相机，您确实可以设置 SpriteBatch 的变换矩阵

```
batch.getTransformMatrix().idt().translate(0, 0, z);
batch.begin();
... do your rendering here
batch.end();
// reset the matrix, so you can use the batch for other stuff
batch.idt(); 
```

对于透视效果，您还必须使用透视投影。处理此要求的最简单方法是使用 PerspectiveCamera 而不是 OrthographicCamera。

# perl - 如何在 Cygwin 上编译 PAR::Packer 期间修复“gcc：winrespp.rc：没有这样的文件或目录”？

> ID：10848189
> 
> 赞同：3
> 
> 时间：2012-06-01T09:59:20.433
> 
> 标签：perl, cygwin

我试图在 32 位机器上的 Cygwin for Windows 中安装[PAR::Packer](http://p3rl.org/PAR%3a%3aPacker)`cpan pp` ，所以我执行了. 我面临以下问题。

```
gcc-4 -c -DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -g -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include  -I/usr/lib/perl5/5.14/i686-cygwin-threads-64int/CORE  -DPARL_EXE=\parl.exe\ -O3 main.c windres -F pei-i386 -i winres\pp.rc -o winres\pp.res
gcc: winrespp.rc: No such file or directory
gcc: warning: '-x c' after last input file has no effect
gcc: no input files
windres: preprocessing failed.
Makefile:735: recipe for target ppresource.coff failed
make[1]: *** [ppresource.coff] Error 1
make[1]: Leaving directory /home/prabhakaran.srinivas/.cpan/build/PAR-Packer-1.013-eTAwxL/myldr
Makefile:594: recipe for target subdirs failed
make: *** [subdirs] Error 2
  RSCHUPP/PAR-Packer-1.013.tar.gz
  make -- NOT OK
CPAN: YAML loaded ok (v0.81)
Running make test
  Can't test without successful make
Running make install
  Make had returned bad status, install seems impossible 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T17:11:40.870

问题出在[myldr/Makefile.PL](https://metacpan.org/source/RSCHUPP/PAR-Packer-1.013/myldr/Makefile.PL)中：

> ```
> $pre_res = qq(winres\\pp.res);
> $rt_cmd = qq(windres -F pei-i386 -i winres\\pp.rc -o $pre_res);
> $res_cmd = qq(windres -o ppresource.coff $pre_res);
> $res_section = $res; 
> ```

然后，

```
$res_section:
    $rt_cmd
    $res_cmd 
```

在 Cygwin 的 bash 下，`winres\pp.rc`将被解释为`winrespp.rc`而不是`winres/pp.rc`. 正确的方法是

```
$pre_res = catfile(winres => 'pp.res');
$rt_cmd = join ' ' => qw(windres -F pei-i386 -i), catfile(winres => 'pp.rc'), '-o', $pre_res; 
```

等等

# c# - 将 Kinect ColorImageFrame 转换为位图

> ID：10848190
> 
> 赞同：9
> 
> 时间：2012-06-01T09:59:31.383
> 
> 标签：c#, .net, xna, kinect, aforge

我正在使用带有 XNA 的 Kinect（Microsoft SDK）。我想使用 GRATF 进行标记识别

如何将 Kinect 的数据转换为`ColorImageFrame`可以`System.Drawing.Bitmap`使用`AForge.Imaging.UnmanagedImage`GRATF 处理的数据？

```
void kinectSensor_ColorFrameReady(object sender, ColorImageFrameReadyEventArgs e)
{
    Bitmap bitmap = null;
    ColorImageFrame frame = e.OpenColorImageFrame();
    byte[] buffer = new byte[frame.PixelDataLength];
    frame.CopyPixelData(buffer);

    // how to convert the data in buffer to a bitmap?

    var glyphs = recognizer.FindGlyphs(bitmap);

    ...
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-01T10:08:25.973

[*你可以在这篇文章*](http://www.i-programmer.info/ebooks/practical-windows-kinect-in-c/3725-getting-started-with-windows-kinect-sdk-10.html?start=2)中找到答案。
总而言之，这种方法应该可以解决问题：

```
Bitmap ImageToBitmap(ColorImageFrame img)
{
     byte[] pixeldata = new byte[img.PixelDataLength];
     img.CopyPixelDataTo(pixeldata);
     Bitmap bmap = new Bitmap(img.Width, img.Height, PixelFormat.Format32bppRgb);
     BitmapData bmapdata = bmap.LockBits(
         new Rectangle(0, 0, img.Width, img.Height),
         ImageLockMode.WriteOnly, 
         bmap.PixelFormat);
     IntPtr ptr = bmapdata.Scan0;
     Marshal.Copy(pixeldata, 0, ptr, img.PixelDataLength);
     bmap.UnlockBits(bmapdata);
     return bmap;
 } 
```

# git - Git 子模块提交钩子

> ID：10848191
> 
> 赞同：35
> 
> 时间：2012-06-01T09:59:32.337
> 
> 标签：git, git-submodules, pre-commit-hook

我正在使用一个 git 子模块（我们称之为 SubmoduleRepo），以便我可以将我的模块包含在几个项目中。

我可以从任何使用它的项目提交给 SubmoduleRepo。

我可以轻松地更新、提交和推送到 SubmoduleRepo。

每当我在包含 SubmoduleRepo 的项目中的目录中工作时提交某些内容时，我都需要执行一个提交挂钩（当我在 SubmoduleRepo 中工作时，提交挂钩按预期执行）

子模块的目录中没有 .git 文件夹（只有指定当前目录路径的 .git 文件）。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-02-28T22:01:14.860

如果您有 Git 2.10+，您可以`hooks`通过运行以下命令获取目录：

```
`git rev-parse --git-path hooks` 
```

注意：默认情况下它是`.git/hooks`，但如果你在一个子模块中，它会有所不同。

Pre Git 2.10+ 你会想要这样的东西：

```
`git rev-parse --git-dir`/hooks 
```

更多信息： [在 shell 上查找 git hooks 目录的路径](https://stackoverflow.com/questions/14073053/find-path-to-git-hooks-directory-on-the-shell)

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-06-01T10:12:48.557

发布此消息后，我找到了解决方案。

您可以将钩子放在 .git/modules//hooks/ 中 - 例如。.git/modules/web/js/modules/rate 如果您的子模块位于 /web/js/modules/rate 目录中。

# iphone - 单个视图中的多个警报视图？

> ID：10848202
> 
> 赞同：3
> 
> 时间：2012-06-01T10:00:07.933
> 
> 标签：iphone

我有一个 Iphone 应用程序，当我按下一个按钮时，它会显示一个警报视图来选择背景。无论用户选择哪个背景，都将作为音频剪辑的背景播放。但现在我需要在显示之前添加另一个警报此警报用于发出一些警告。之后我只需要弹出第二个。但我已经完成了在该视图控制器的 didappear 中选择警报并将其设置为 Uialertview 委托。并且在按钮操作上我正在执行不同的操作。任何人都可以帮助我实现这一目标吗？

```
proAlertView *loginav1=[[proAlertView alloc] initWithTitle:@"title" message:@"Choose a Background to play with this program?" delegate:self cancelButtonTitle:@"Cancel" otherButtonTitles:@"Field",@"Beach", @"Stars",nil];
[loginav1 setBackgroundColor:[UIColor colorWithRed:0.129 green:0.129 blue:0.129 alpha:1.0] withStrokeColor:[UIColor colorWithHue:0.625 saturation:0.0 brightness:0.8 alpha:0.8]];

[loginav1 show];
- (void)alertView:(UIAlertView *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex {
// the user clicked one of the OK/Cancel buttons

if (buttonIndex == 0)
{
    //[self play];
    //moviePlayer.scalingMode=MPMovieScalingModeAspectFill;

    if(actionSheet.tag==123)
    {
        [self backButtonPressed];
    }

}
else if (buttonIndex == 1)
{

     videoFile = [[NSBundle mainBundle] pathForResource:@"video-track" ofType:@"mp4"];
    [self play];
    moviePlayer.scalingMode=MPMovieScalingModeAspectFill;

} 
```

在这是我的问题之前，我怎样才能包含另一个警报？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:25:50.050

初始化第一个 Alertview

```
UIAlertView *al1 = [[UIAlertView alloc] initWithTitle:@"Warning!" message:@"Warning Msg!!!" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles: nil];
al1.tag=1;
al1.delegate=self;
[al1 show]; 
```

实现委托方法

```
-(void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
    if(alertView.tag==1){
        // implement button events for first Alertview
        if(buttonIndex==1){
            //First button clicked of first Alertview
            UIAlertView *al2 = [[UIAlertView alloc] initWithTitle:@"Choose BG" message:@"Choose BG?" delegate:self cancelButtonTitle:@"Cancel" otherButtonTitles:@"1",@"2",@"3", nil];
            al2.tag=2;
            al2.delegate=self;
            [al2 show];
        }

    }

    if(alertView.tag==2){
        // implement button events for second Alertview
        if(buttonIndex==1){
            // First button clicked second Alertview.
        }
    }
} 
```

控制器类头

```
@interface ViewController : UIViewController<UIAlertViewDelegate>{

} 
```

希望这能满足您的需求！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:04:33.257

您可以这样做，首先在 alertview 中显示警告消息，当用户在 alertview 中单击 OK 时，然后在 alertview 委托方法中编写代码以显示第二个 alertview，用户可以在其中选择背景。

# excel - Excel - 将某些公式转换为值 - 性能问题

> ID：10848210
> 
> 赞同：2
> 
> 时间：2012-06-01T10:00:35.107
> 
> 标签：excel, vba

我正在处理一系列大型工作簿，并使用一种工具从财务数据库 (SAP Financial Consolidation) 导入值。它的工作方式是使用 UDF，例如`=GetCtData({parameters})`or `=GetCtLabel({parameters})`。其中一个参数是单元格的输出值，因此在任何时候，单元格的值都是一个数字。

要与没有 Financial Consolidation 加载项的其他人共享这些工作簿，我需要将每个单元格转换为值。我不想将所有单元格转换为值，只有带有`=GetCt...`公式的单元格。下面是我到目前为止写的代码，它有三种（类似的）方法（两种被注释掉了）。它在小型工作簿上完美运行，但文件现在已经增长，可能总共有 250,000 多个单元格需要更新。（大约 70 列 x 350 行 x 10+ 个工作表。）我试过运行它，但几个小时后它仍在运行。

任何人都可以提出更有效的方法吗？

```
Sub removeAllMagnitudeLinks()

    Application.ScreenUpdating = False
    Application.Calculation = xlCalculationManual
    Application.EnableEvents = False

    For Each sSheet In Worksheets
        If sSheet.Name <> "blankMagnitude" Then 'Don't remove links from the blankMagnitude sheet -- unnecessary
            If sSheet.FilterMode Then sSheet.ShowAllData

            Application.StatusBar = "Working on sheet #" & sSheet.Index & " of " & Worksheets.Count & ". Name: " & sSheet.Name

            On Error Resume Next
            While Err.Number = 0
                With sSheet.Cells.Find(What:="GetCt", After:=ActiveCell, LookIn:=xlFormulas, LookAt:=xlPart, SearchOrder:=xlByRows, SearchDirection:=xlNext, MatchCase:=False, SearchFormat:=False)
'                    .Copy 'Copying and pasting is one approach, but may not be fastest
'                    .PasteSpecial Paste:=xlPasteValues, Operation:=xlNone, SkipBlanks:=False, Transpose:=False
'                    .Formula = .Value 'This is another approach, which is certainly not very fast
                    .Value = .Value
                End With
            Wend
        End If
    Next sSheet
    Application.ScreenUpdating = True
    Application.Calculation = xlCalculationAutomatic
    Application.EnableEvents = True
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-28T21:50:05.720

这是一篇很老的帖子，所以我想你已经解决了这个问题，就像我必须做的一样。下面的代码实际上也适用于非常大的文件，而不是那么“好”，因为我不是程序员。

我拥有的另一个解决方案是用户的 [非 SAP BFC] excel 中带有 UDF 的插件，它允许无法访问 BFC/Magnitude 的用户使用 BFC 函数 [getctdata，getctlabel] 打开文件。如果您对这个帖子感兴趣，请回复帖子。

我希望有一天 SAP 醒来并将所有这些作为应用程序的一部分提供。

```
Sub killMagnitude()
Dim x As Double, y As Double, sorok As Double, Z As Double
Dim c, i As Long
Dim sor, oszlop As Long

'paste-special cells with links to magnitude data
Application.ScreenUpdating = False
Application.EnableEvents = False

c = Application.Worksheets.Count
Application.Calculation = xlCalculationManual

For i = 1 To c
Worksheets(i).Activate
Application.StatusBar = "removing magnitude links from sheet: " & Worksheets(i).Name
On Error Resume Next
Selection.SpecialCells(xlCellTypeLastCell).Select

x = ActiveCell.Row ' a tartomány -ig sora
y = ActiveCell.Column 'a tartomány -ig oszlopa

On Error GoTo 0

For sor = 1 To x
    For oszlop = 1 To y
    If Cells(sor, oszlop).HasFormula = True Then
    Z = InStr(1, Cells(sor, oszlop).Formula, "GetCtData", 0)

        If Z <> 0 Then
            Cells(sor, oszlop).Value = Cells(sor, oszlop).Value
        Else
        End If

    Z = InStr(1, Cells(sor, oszlop).Formula, "GetCtLabel", 0)

        If Z <> 0 Then
            Cells(sor, oszlop).Value = Cells(sor, oszlop).Value
        Else
        End If

    Else
    End If
    Next oszlop
Next sor

GoTo skip

skip:

Next i
Application.Calculation = xlCalculationAutomatic
Application.StatusBar = "magnitude calculations removed from workbook"

Application.EnableEvents = True

End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:02:42.253

保存为 XML 格式的 Excel 书籍看起来像

```
...
<Row>
 <Cell ss:Index="2" ss:Formula="=4+2"><Data ss:Type="Number">6</Data><NamedCell
   ss:Name="MyRange"/></Cell>
</Row>
<Row>
 <Cell ss:Index="2" ss:Formula="=5+2"><Data ss:Type="Number">7</Data><NamedCell
   ss:Name="MyRange"/></Cell>
</Row>
... 
```

这应该很容易用正则表达式等进行解析和批量替换（如果需要，我可以提供代码）**如果**不将 VB 项目与本书一起保存不会给您带来太多麻烦。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:48:28.850

我会尝试这样的变体数组方法

```
Sub removeAllMagnitudeLinks()
    Dim sSheet As Worksheet
    Dim vFormulas As Variant
    Dim vValues As Variant
    Dim j As Long
    Dim k As Long
    Dim strFormula As String
    Application.ScreenUpdating = False
    Application.Calculation = xlCalculationManual
    Application.EnableEvents = False

    For Each sSheet In Worksheets
        If sSheet.Name <> "blankMagnitude" Then    'Don't remove links from the blankMagnitude sheet -- unnecessary
            If sSheet.FilterMode Then sSheet.ShowAllData

            Application.StatusBar = "Working on sheet #" & sSheet.Index & " of " & Worksheets.Count & ". Name: " & sSheet.Name

            vFormulas = sSheet.UsedRange.Formula
            vValues = sSheet.UsedRange.Value2
            For j = LBound(vFormulas) To UBound(vFormulas)
                For k = LBound(vFormulas, 2) To UBound(vFormulas, 2)
                    strFormula = CStr(vFormulas(j, k))
                    If Len(strFormula) > 0 Then
                        If Left$(strFormula, 1) = "=" Then
                            If InStr(1, strFormula, "GetCt", vbTextCompare) Then
                                vFormulas(j, k) = vValues(j, k)
                            End If
                        End If
                    End If
                Next k
            Next j
            sSheet.UsedRange.Formula = vFormulas

        End If
    Next sSheet
    Application.ScreenUpdating = True
    Application.Calculation = xlCalculationAutomatic
    Application.EnableEvents = True
End Sub 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-17T08:38:40.147

这可能不是通用解决方案，但这是我要遵循的简单方法。1\. 打开一个新文件 Book1，然后跳回到你的工作簿 2\. Find/Replace-All in the workbook =GetCt to =[Book1]Sheet1!$A$1 3\. BreakLinks to Book1 BreakLinks 的解释：它断开所有指向该文件并将引用它的单元格转换为值。我尽可能避免使用 UDF，因为与 MS Excel 开发人员编写的内置方法相比，它们容易效率低下。

# extjs - 使用 restproxy 在 Sencha Architect 2 中创建 CRUD 模型？

> ID：10848213
> 
> 赞同：1
> 
> 时间：2012-06-01T10:00:38.903
> 
> 标签：extjs, sencha-touch-2, crud, sencha-architect

我已经在 Sencha Architect 2 上研究 CRUD 模型近 3 天了，但我被困在某个地方或其他地方。如果那里有人从事过类似的项目，或者有人可以就如何进行该项目给我一些建议，我们将不胜感激。

谢谢

# javascript - 单独 div 内的多个 Google 可视化图表实例

> ID：10848217
> 
> 赞同：2
> 
> 时间：2012-06-01T10:01:07.060
> 
> 标签：javascript, jquery, svg, google-visualization, google-gauges

我试图在同一屏幕上的不同 div 中显示几个[Google Gauge 图表。](https://developers.google.com/chart/interactive/docs/gallery/gauge#Events)我还需要处理这些 div 上的点击事件（因此是图表）。我试图动态地做到这一点，但我遇到了一些问题。但无论如何，即使我尝试静态地执行此操作（这有效），我仍然无法让图表区域可点击。发生的事情是除了图表区域之外，整个 div 都是可点击的。

无论如何，这是我的（凌乱的 - 测试）代码：

```
<div id="gaugePlaceHolder" class="gaugeWrapper"></div>
<div id="gaugePlaceHolder2" class="gaugeWrapper"></div>

document.getElementsByClassName = function (cl) {
    var retnode = [];
    var myclass = new RegExp('\\b' + cl + '\\b');
    var elem = this.getElementsByTagName('*');
    for (var i = 0; i < elem.length; i++) {
        var classes = elem[i].className;
        if (myclass.test(classes)) retnode.push(elem[i]);
    }
    return retnode;
};

  google.load('visualization', '1', {packages:['gauge']});
  google.setOnLoadCallback(function () {
      drawChart1();
      drawChart2();
  });
  function drawChart1() {
    var data = google.visualization.arrayToDataTable([
      ['Label', 'Value'],
      ['Memory', 80]
    ]);

    var options = {
      width: 400, height: 120,
      redFrom: 90, redTo: 100,
      yellowFrom:75, yellowTo: 90,
      minorTicks: 5
    };

  var chart = new google.visualization.Gauge(document.getElementById('gaugePlaceHolder'));
    chart.draw(data, options);
}

function drawChart2() {
    var data = google.visualization.arrayToDataTable([
      ['Label', 'Value'],
      ['Another', 30]
    ]);

    var options = {
        width: 400, height: 120,
        redFrom: 90, redTo: 100,
        yellowFrom: 75, yellowTo: 90,
        minorTicks: 5
    };

    var chart = new google.visualization.Gauge(document.getElementById('gaugePlaceHolder2'));
    chart.draw(data, options);
}

window.onload = function () {
    var elements = $('.gaugeWrapper');
    console.log(elements);
    elements.click(function () {
        alert("clicked");
    });
} 
```

有什么解释/建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T13:51:08.943

将监听器添加到 Gauge 的正确方法是使用`google.visualization.events.addListener`方法，如[本例](https://developers.google.com/chart/interactive/docs/examples#mouseovertooltip)所示。

您也可以在[Google Playground](http://code.google.com/apis/ajax/playground/#gauge)上试用您的代码。

# android - 我如何喜欢带有linkedin api的消息/通知？

> ID：10848219
> 
> 赞同：-1
> 
> 时间：2012-06-01T10:01:12.733
> 
> 标签：android, linkedin

我有一个通过 LinkedIn API 对用户进行身份验证的应用程序。我的问题：

*   应用程序是否可以向所有授权它的用户点赞消息？
*   是否可以将消息列表发送给应用程序用户的子集？

我已经找了一段时间了，找不到任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T14:50:08.883

通过[LinkedIn APIs的](https://developer.linkedin.com/apis)[Groups API](https://developer.linkedin.com/documents/groups-api)，您可以使用以下 JavaScript 代码为特定组中的帖子点赞（XXXX 是特定的帖子 ID）：

```
IN.API.Raw('/posts/XXXX/relation-to-viewer/is-liked')
  .method('PUT')
  .body("true")
  .result(function(result) {
    alert(JSON.stringify(result));
  })
  .error(function(result) {
    alert(JSON.stringify(result));
  }); 
```

但是，请记住，点赞不应该是自动的，而是用户发起的——只有已经验证了您的应用程序的用户才应该点赞帖子，并且只有在他们手动选择这样做时。编写一个脚本来自动点赞任何从您的应用发布消息的用户的所有帖子，这违反了 LinkedIn API 服务条款。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T13:23:58.613

无法确定，但也许这个关于[喜欢](https://developer.linkedin.com/documents/commenting-reading-comments-and-likes-network-updates)的链接可以帮助你并提供关于可能选项的线索。你可以在[这里](https://developer.linkedin.com/comment/14970#comment-14970)或[这里](https://developer.linkedin.com/comment/15126#comment-15126)找到报告的例子。但是我不能保证这行得通，因为我不是这些帖子的作者。也许你会在 LinkedIn API 论坛上找到更好、更准确的答案。

希望它有所帮助..干杯

# asp.net-mvc - 无法获取部分视图 cshtml 的 ViewModel

> ID：10848220
> 
> 赞同：3
> 
> 时间：2012-06-01T10:01:14.840
> 
> 标签：asp.net-mvc, asp.net-mvc-3, c#-4.0, razor, partial-views

我在索引页面上有一个 PartialView 如下：-

```
@{ Html.RenderPartial("ImageUpload"); } 
```

PartialView 看起来像这样：-

```
@model MvcCommons.ViewModels.ImageModel

<p>
   @Html.ActionLink("Create New", "Create")
</p>
<table>
    @foreach (var item in Model) {
      <tr>
        <td>
          @Html.DisplayFor(modelItem => item.FileName)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Description)
        </td>
      </tr>
    }
</table> 
```

现在根据 PartialView 顶部的声明，它应该进入 ViewModels.ImageModel 内部，并且在该类内部我有一个构造函数：-

```
public ImageModel()
{
   XDocument imageMetaData = XDocument.Load(uploadsDir + @"/ImagesMetaData.xml");
   var images = from image in imageMetaData.Descendants("image")
                select new Image(image.Element("filename").Value,
                image.Element("description").Value);
   this.AddRange(images.ToList<Image>());
} 
```

但是，由于某种原因，在 ImageUpload 部分视图中，当我调试时，我没有被重定向到此 ViewModel 构造函数，因此 PartialView 中的模型为空。

我在这里错过了什么吗？

我怎样才能让它真正通过我的构造函数？我是否还需要在主索引页面（托管 PartialView 的位置）中做一个@model。

感谢您的帮助和时间

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:22:41.400

该行`@model MvcCommons.ViewModels.ImageModel`用于声明强类型模型，但不实例化它。

你应该使用

```
@{ Html.RenderPartial("ImageUpload", <yourmodel>); } 
```

或更简单：

```
@Html.Partial("ImageUpload", <yourmodel>) 
```

顺便说一句，在你的情况下：

```
@Html.Partial("ImageUpload", new ImageModel()) 
```

但要小心：您的模型应该是更少的构造函数，而不是加载/解析 XML。这应该在控制器中完成（并在缓存系统中设置？）。

如果您希望减少主视图模型，您还可以使用属性 ChildActionOnly 创建一个动作以进行部分渲染，并使用以下命令调用它`@Html.Action(...)`：它会创建一个新的 ControllerContext。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T10:07:58.560

您没有设置局部视图的模型。请参阅[http://msdn.microsoft.com/en-us/library/dd492962.aspx](http://msdn.microsoft.com/en-us/library/dd492962.aspx)

```
@{ Html.RenderPartial("ImageUpload", myModel); } 
```

创建模型不是视图的责任，您需要在包含部分视图的视图的关联控制器中实例化它。

# php - 选择带有下拉列表问题的语句

> ID：10848223
> 
> 赞同：1
> 
> 时间：2012-06-01T10:01:30.760
> 
> 标签：php, mysql

嗨，我有一个快速的问题要问。但我先举个例子 Column1 是 MemberID Column2 是 Teamname

MemberID = 23, Teamname = ggdiablo

我已经制作了我的团队名称列的下拉列表..

```
<select id="teamlist" name="teamlist">
$stmt = $pdo->prepare('Select MemberID, teamname from members where ');
$stmt->execute();

   while($row = $stmt->fetch(PDO::FETCH_ASSOC)) {

echo "<option>".$row['teamname']."</option>";
 }
 ?>
</select> 
```

如果我从下拉列表中选择“ggdiablo”，是否可以在文本框表单中自动填写 MemberID？如果是这样，如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:09:39.477

使用 JavaScript。使用 MemberID 为每个标签添加一个值属性。为标签添加一个 onchange 属性，其值如下：`onChangeTeamListSelect();`. 修复您的代码，您缺少一个开始标签。

```
 function onChangeTeamListSelect()
 {
    var objSelectTeamlist=document.getElementById('teamlist');
    var objEditBox=document.getElementById('some_edit_box_id');

    objEditBox.value=objSelectTeamlist.value;
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:13:42.290

使用 jQuery 真的非常简单。请找到下面的代码。

```
$("#teamlist").live("change",function(){
   $("#txtBox").val($(this).val());
}); 
```

PS：如果您不使用 ajax（动态）创建下拉菜单，则可以忽略“实时”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:14:54.303

可以使用 jquery：

看到这个：http: [//jsfiddle.net/JellyBelly/HY3Bh/3/](http://jsfiddle.net/JellyBelly/HY3Bh/3/)

**html:**

```
<select name='foo' id="foo">
    <option value=''>Select</option>
    <option value='X'>Desc X</option>
    <option value='Y'>Desc Y</option>
</select>
<br/>
<input type="text" name="bar" id="bar" value=""/> 
```

**和jQuery**

```
$('#foo').change(function() {
    $("#bar").val($(this).val());
});​ 
```

很简单！;)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:07:15.083

很可能你只需要做一些javascripting。试试看[这个](http://api.jquery.com/change/)

# javascript - 如何在javascript中按名称调用函数，其中整个代码都包含在某个匿名函数中

> ID：10848224
> 
> 赞同：0
> 
> 时间：2012-06-01T10:01:32.053
> 
> 标签：javascript, anonymous-function

我想编写一个以函数名作为参数并调用它的函数。通常我可以使用 window[funcname] 来做到这一点。然而，我的所有代码都包含在一个匿名函数中，因此该函数的命名空间现在是 window。在这种情况下我怎么能写这个函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:04:10.097

您可以将函数分配给对象的属性：

```
var myFuncs = {
    func1: function() {
        //Do something
    },
    func2: function() {
        //Do something else
    }
}; 
```

然后你可以`func1`像你建议的那样打电话，但用 替换`window`，`myFuncs`像这样：

```
myFuncs["func1"](); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:04:22.930

将您的函数作为属性存储在对象中并按名称检索它们。

# performance - 我应该信任 Redis 的数据完整性吗？

> ID：10848231
> 
> 赞同：5
> 
> 时间：2012-06-01T10:01:57.633
> 
> 标签：performance, redis, data-integrity

在我目前的项目中，我有 PostgreSQL 作为我的主数据库，而 Redis 作为一种从属，例如，当一些用户添加另一个作为朋友时，首先将关系存储在 PostgreSQL 中，然后更新 Redis 中的朋友列表. 当请求某个用户的好友列表时，它将被拉出 Redis 而不是 PostgreSQL。

问题是：当我在 Redis 中更新好友列表时，我应该从 PostgreSQL 中获取一份新副本，并用新的替换 Redis 中的旧列表，还是应该保留旧列表并将用户 ID 简单地添加到列表中？后者当然最适合性能，但直观地说，前者在保持数据完整性方面做得更好吗？如果使用像 Celery 这样的东西，第二种方法值得冒险吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:37:32.083

这与 Redis 无关。当您写入两个数据库时，即使它们都单独保证数据完整性，很多事情也会出错。

为了便于讨论，请在您的问题中将 Redis 替换为 MySQL，然后问自己 - 数据完整性会受到损害吗？

您可能已经写入 Postgres，然后您的进程可能会在不写入 MySQL 的情况下死亡。或者可能是网络中断。或者也许 MySQL 已关闭。在所有这些情况下，Postgres 和 MySQL 将开始有所不同。

无论您是替换整条记录还是简单地添加一行都没有关系。两者都可能导致数据损坏。

如果您关心数据完整性，请将数据保存在单一权威系统中。否则，您将需要一个[两阶段提交协议](http://en.wikipedia.org/wiki/Two-phase_commit_protocol)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T13:27:59.873

您应该评估一致性对您的应用程序的重要性，并从那里着手。如果您放弃提交，这听起来不像任何人的哭泣。您可以有一个后台进程从 PostgreSQL 读取数据并将其推回 Redis，最终清除所有不一致之处。或者，您可以查看从写入主机复制的读取从属 PostgreSQL 实例。这将使您使用经过良好测试的同步技术获得更好的读取可扩展性。

# css - 两个div并排，右div固定宽度

> ID：10848238
> 
> 赞同：4
> 
> 时间：2012-06-01T10:02:32.383
> 
> 标签：css, html, css-float

我知道这已经被问过一百万次了，但我似乎仍然找不到答案（大多数问题似乎与我想要的不一样）。

我有两个 div，分别是 #left 和 #right。#right 的固定尺寸为 150 像素 x 50 像素。我希望#left 扩展并填充剩余空间，#right 位于屏幕的最右侧。我尝试过以不同的方式浮动它们并设置 display: inline-block; 但我似乎仍然无法确定它。我读过的所有文章都是关于左边的 div 被修复而右边的 div 正在增长。我尝试反转我阅读的内容，但它总是导致#left div 在#right 周围浮动。我的意思是，我的#left div 将缩小到它的最小（内联块），或者它将显示前 50px 到 #right 然后 #left 的其余部分将折叠在 #right 下而不是保持齐平。

我希望这是有道理的。这有点难以解释。 ![截屏](../Images/a7d00a627b660251bc11f339e5c805e2.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:10:42.207

像这样写：

```
.right{
 width:150px;
 height:150px;
 float:right;
 background:red;
}
.left{
 height:150px;
 background:green;
 overflow:hidden;
} 
```

**HTML**

```
<div class="right">fixed</div>
<div class="left">auto</div> 
```

检查这个[http://jsfiddle.net/TW4dn/](http://jsfiddle.net/TW4dn/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:14:26.393

你可以试试这个

```
<div class="right" style="clear:right"> 
```

# android - 三星 Galaxy S2（4.0.3）的共享首选项问题

> ID：10848242
> 
> 赞同：2
> 
> 时间：2012-06-01T10:02:48.810
> 
> 标签：android

我开发了基于 Sip 的应用程序，用于拨打和接听电话。此应用程序还包括聊天功能。

我的应用程序在三星 Galaxy y 和索尼爱立信的 ICS 版本上运行良好。但是在三星 Galaxy S2 上使用该应用程序时，用户未注册。它在[Asterisk](http://asterisk.org)上给了我错误的密码错误。

这意味着它无法从 sharedpreferences 中获取值，或者它不会将值存储在设备上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:08:31.453

是的，这是一个巨大的痛苦，但据我所知，你不能在三星 Galaxy S1/S2 手机上使用 SharedPreferences。没有解释 :( 巨大的痛苦 [创建 SharedPreferences 时出错 - 无法为 SharedPreferences 文件创建目录](https://stackoverflow.com/questions/9603614/error-creating-sharedpreferences-couldnt-create-directory-for-sharedpreferenc)

不知道看起来确实可以节省的应用程序如何绕过它-也许他们使用数据库。

我是如何做到的： 创作：

```
Editor editor = getSharedPreferences(Constants.SaveDataName, MODE_PRIVATE).edit();

editor.putString(Constants.SaveDataName, xmlString);
editor.commit(); 
```

加载：

```
getSharedPreferences(Constants.SaveDataName, MODE_PRIVATE).getString(Constants.SaveDataName, ""); 
```

如果相关：这是在服务中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T18:23:28.013

@juned，现在我查看了代码，我没有发现任何特别之处。无论如何，这里有一些与 sharedPref 相关的代码部分。

设置 SharedPref

```
 SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);
    final SharedPreferences.Editor editor = preferences.edit();
    editor.putFloat("longitude", (float)location.getLongitude());
    editor.putFloat("latitude", (float)location.getLatitude());
    editor.commit(); 
```

并获取

```
 sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);
    GeoPoint userLocationPoint = new GeoPoint((int) (sharedPreferences.getFloat("latitude", (float) 0.0) * 1E6),
            (int) (sharedPreferences.getFloat("longitude", (float) 0.0) * 1E6)); 
```

# java - 如何为主 LL 添加 weightSum 属性？

> ID：10848245
> 
> 赞同：0
> 
> 时间：2012-06-01T10:02:54.170
> 
> 标签：java, android, positioning

在我的 Android 应用程序中，我需要动态创建一些带有文本的 LinearLayout。

但我不能设置每个元素的权重。我希望 LL 在 XML 部分看起来像：

```
<LinearLayout
    android:orientation="horizontal"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_margin="10px"
    android:weightSum="1"
    android:id="@+id/qwe">
<TextView 
    android:layout_weight="0.1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="some"
/>
<TextView 
    android:layout_weight="0.8"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="word"
/>
<TextView 
    android:layout_weight="0.1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="here"
    android:gravity="right"
/>
</LinearLayout> 
```

它看起来不错，但我需要动态相同。在 Java 代码中，我写道：

```
LinearLayout ll = new LinearLayout(context);
LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);
layoutParams.setMargins(10, 10, 10, 10);
ll.setLayoutParams(layoutParams);
ll.setOrientation(LinearLayout.HORIZONTAL);
ll.setBackgroundColor(0xFF888888);
rootLL.addView(ll);

LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(0, LinearLayout.LayoutParams.WRAP_CONTENT);
params.setMargins(10, 10, 10, 10);

LinearLayout.LayoutParams params1 = params;
params1.weight = 0.15f;
TextView one = new TextView(context);
one.setLayoutParams(params1);
one.setText("some");
ll.addView(one);

LinearLayout.LayoutParams params2 = params;
params2.weight = 0.7f;
TextView two = new TextView(context);
two.setLayoutParams(params2);
two.setText("word");
ll.addView(two);

LinearLayout.LayoutParams params3 = params;
params3.weight = 0.15f;
TextView three = new TextView(context);
three.setLayoutParams(params3);
three.setText("here");
ll.addView(three); 
```

但在这种情况下，我获得了三个宽度相等的 textView。看起来我没有`weightSum`为主 LL 添加属性，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:43:13.300

1.  更喜欢 integer 而不是 float 。这样你就可以得到任何你想要的分数（甚至是 1/3）。

2.  如果设置每个视图的权重，则不需要设置 weightSum。

3.  如果你设置了 weightSum ，你可以留下一个没有任何 weight 的视图，给它剩下的可用空间。

4.  it seems you give all of the views the same layoutparams instead of cloning it for each of them . when you use "params2 = params;" , it means that you set a reference to it and not that you create a new one . in the end of the method , all will point to the same layoutParams , with the weight of 0.15f (since that's the last one) .

# java - 最佳实践：在 java.net.URL 中捕获故障点

> ID：10848248
> 
> 赞同：10
> 
> 时间：2012-06-01T10:03:12.490
> 
> 标签：java, scala, error-handling, io, playframework-2.0

JVM 新手，使用 Scala 和 Play 2.0

我正在将一个遗留应用程序转换为 Play，它需要通过 Authorize.net 进行支付处理。查看 java.net.URL 源代码，有许多潜在的故障点。鉴于我在下面编写的接口，您将在哪里实现 try/catch 块？我需要相应地调整方法签名，可能会返回一个 Either[Error, Success] 来调用客户端代码

```
import java.net.{URL, URLEncoder}
import java.io.{BufferedReader, DataOutputStream, InputStreamReader}
import javax.net.ssl._

trait Authnet {
  private val prodUrl = "https://secure.authorize.net/gateway/transact.dll"
  private val testUrl = "https://test.authorize.net/gateway/transact.dll"

  protected def authNetProcess(params: Map[String,String]) = {
    val(conn, urlParams) = connect(params)
    val request = new DataOutputStream( conn.getOutputStream )
    request.write(urlParams.getBytes)
    request.flush()
    request.close()
    val response = new BufferedReader(new InputStreamReader(conn.getInputStream))
    val results = response.readLine().split("\\|")
    response.close()
    results.toList
  }  

  private def connect(params: Map[String,String]) = {
    val urlParams = (config ++ params) map { case(k,v) =>
        URLEncoder.encode(k, "UTF-8") + "=" + URLEncoder.encode(v, "UTF-8")
    } mkString("&")

    lazy val url = if (isDev) new URL(testUrl) else new URL(prodUrl)
    val conn = url.openConnection
    conn.setDoOutput(true)
    conn.setUseCaches(false)
    (conn, urlParams)
  }

  private val config = Map(
    'x_login        -> "...",
    'x_tran_key     -> "...",
    ...
  )
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-10T10:03:24.047

坚持拇指规则：

> 仅在必须处理异常时才捕获异常。

“必须处理”没有明确的定义，但这意味着您应该抵制捕获异常的冲动，因为您可以抛出不同的异常。

“必须处理”主要由您的应用程序应该如何工作或其他依赖项定义。

> 如果应用程序需要向用户显示错误而不是异常中止，那么这是必须的。

在这种情况下，捕捉异常也会增加一些有意义的处理。

> 如果 API 需要抛出不同的异常，那么这是必须的，但 API 的定义可能不合理。

我总是质疑用另一个异常替换一个异常的附加价值。

将此应用于您的示例：

> 它会增加一些价值来从 authNetProcess() 中的 connect() 捕获异常吗？

不！在 connect() 中无法处理该异常。因此，可以将该异常留给 authNetProcess 的调用者。在那里，您可以根据异常的类型提供不同的处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T15:51:47.850

**编辑**
好吧，如果连接/流过程的任何部分失败，事务就会被冲洗掉，所以只在打开连接时捕获错误是很愚蠢的。我只是将整个交易包装在一个`catching (operation) option`块中，然后将其保留；我不太担心：错误的确切原因（无论是什么被记录）因为它是暂时的，所以抓住它，让用户再试一次；如果错误仍然存​​在，请联系我们...

**原创** 好的，好吧，鉴于迄今为止的投票和缺乏评论，我能得出的唯一结论是......这里没有人知道他们在做什么！嘿嘿，开玩笑的 ;-)

虽然我是 JVM 新手，但 try/catch/finally bloat 很快就会变老；通过 Scala 类型推断的奇迹，我将一般错误处理抽象为简洁的实现：
`catching ( operation ) option`
`catching ( operation ) either`

除非我收到其他反馈，否则现在我只是通过捕获连接创建来解决问题（我相信，在这种情况下，最有可能的错误情况）。这是新的实现：

```
protected def authNetProcess(params: Map[String,String]) = {
    connect() match {
      case Some(conn) =>
        val request = new DataOutputStream(conn.getOutputStream)
        request.write(getUrlParams(params).getBytes)
        request.flush()
        request.close()
        val response = new BufferedReader(new InputStreamReader(conn.getInputStream))
        val results = response.readLine().split("\\|")
        response.close()
        results.toList
      case None => List[String]()
    }
  }

  private def connect() = {
    lazy val url = if (isDev) new URL(testUrl) else new URL(prodUrl)
    catching ( url.openConnection ) option match {
      case Some(conn) =>
        conn.setDoOutput(true)
        conn.setUseCaches(false)
        //conn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded")
        Some(conn)
      case None => None // connection failed
    }
  } 
```

我想一种更严格的方法是将所有潜在的错误条件提取到可能工作的选项操作中，然后将它们全部包装在一个理解中。这可能是正确/负责任的方法......但一天只有这么多小时，稍后会重新审视

反馈赞赏！

# c++ - 直接访问PCI串口

> ID：10848253
> 
> 赞同：5
> 
> 时间：2012-06-01T10:03:49.170
> 
> 标签：c++, c, windows, serial-port

你好，我有一个以前用 C++ 构建的应用程序。

它用于通过串行端口控制设备。

我记得开发它的人说他的软件是直接访问串口（直接访问内存）。

由于现在带串口的PC越来越少，如果我使用PCI扩展串口，软件还会直接访问串口吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T22:26:02.443

我相信绝大多数[本地总线](http://en.wikipedia.org/wiki/Local_bus)串行端口卡都模拟[16x50 RS-232 UART](http://www.pccompci.com/uarts.html)。除非您打算使用一些特殊的卡，例如那些用于管理调制解调器组的昂贵的多端口卡，否则可能没问题。

[USB/RS-232 转换器](http://www.lammertbies.nl/comm/info/RS-232-usb.html)完全是另一回事——通常它们不能与直接访问串行端口的软件一起使用，因为它们的驱动程序只提供通过 OS 串行端口子系统的访问。即使他们的驱动程序以某种方式设法模拟适当的本地总线 UART，这些转换器通常具有不同的行为 wrt 信号时序，这可能会导致对串行端口执行异常操作的软件出现问题。例如，我在将[红外遥控接收器](http://www.lirc.org/receivers.html)连接到某些 USB/RS-232 转换器时遇到了问题。使用支持[USB 2.0](http://en.wikipedia.org/wiki/Universal_Serial_Bus#USB_2.0)的转换器会有所帮助，但与实际情况相去甚远。

您还应该记住，如果您的应用程序是为较旧的操作系统设计的，则该操作系统的较新版本可能不再允许直接访问串行端口。

如果一切都失败了，您仍然可以通过使用虚拟机来改善这种情况。例如，[VirtualBox](http://www.virtualbox.org/manual/ch03.html#serialports)允许客户操作系统访问主机串行端口，模拟 16550A UART。这可能允许您解决不支持或不允许直接访问串行端口的驱动程序或操作系统。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:07:59.610

这在一定程度上取决于您的 PCIe 串行端口有多少向后兼容的驱动程序支持。

如果它提供（可能是虚拟的）[16550 UART](http://en.wikipedia.org/wiki/16550_UART)[寄存器](http://www.lammertbies.nl/comm/info/serial-uart.html#regs)的直接 I/O 空间映射，您将需要更改软件中的“基地址”，但它可能会起作用。如果驱动程序不这样做，那么它将无法正常工作。

前四个标准串行端口具有以下基地址和与之相关的中断：

```
 | base   IRQ 
-----------------
COM1 | 0x3f8  IRQ4
COM2 | 0x2f8  IRQ3
COM3 | 0x3e8  n/a
COM4 | 0x2e8  n/a 
```

该软件可能应该被重写以使用对端口的更高级别的访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T12:16:04.380

我四处搜寻，发现一些将它们的串行端口映射到内存的 PCI 卡。我会尝试其中之一。

谢谢你们。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-06-01T10:09:53.033

我有另一个解决方案。个人电脑主要配备 USB 端口。因此您可以使用任何 USB 转串口转换器。它非常便宜并且工作正常。

# objective-c - 从'NSInteger'（又名'int'）分配给'NSString *'的不兼容整数到指针转换；

> ID：10848257
> 
> 赞同：2
> 
> 时间：2012-06-01T10:03:56.557
> 
> 标签：objective-c

在表格单元格视图中显示 xml 解析数据时出现此语义问题。应用程序运行成功，但是当我选择任何行时，应用程序会进入详细视图，当时应用程序崩溃。请帮忙！！！

此行 的**第三种情况**出现语义问题

```
cell.textLabel.text = aBook.bookID; 
```

应用代码：

```
- (UITableViewCell *)tableView:(UITableView *)tv 
         cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{

  static NSString *CellIdentifier = @"Cell";

  UITableViewCell *cell = 
    [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
  if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault 
                                   reuseIdentifier:CellIdentifier] autorelease];
  }

  switch (indexPath.section) {
    case 0:
      cell.textLabel.text = aBook.name;
      break;
    case 1:
      cell.textLabel.text = aBook.author;
      break;
    case 2:
      cell.textLabel.text = aBook.price;
      break;
    case 3:            
      cell.textLabel.text = aBook.bookID;
      break;
  }

  return cell;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:08:12.600

可能您的**aBook.bookID**变量是 NSInteger，要将其转换为 NSString，请使用以下命令：

```
case 3:            
    cell.textLabel.text = [NSString stringWithFormat:@"%i", aBook.bookID];
    break; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:10:30.607

您的案例 3 将取决于您的 bookID

对于整数

```
cell.textLabel.text = [NSString stringWithFormat:@"%d",aBook.bookID]; 
```

对于 NSInteger

```
 cell.textLabel.text = [NSString stringWithFormat:@"%i",aBook.bookID]; 
```

因为您正在为字符串提供 int 值

# python - 使用 numpy vectorize 向量化函数

> ID：10848261
> 
> 赞同：1
> 
> 时间：2012-06-01T10:04:14.187
> 
> 标签：python, numpy

我想对以下函数进行矢量化。参数是 numpy 数组。

```
def euclidean_distance(dl, dr):
    return math.sqrt(((dl - dr) ** 2).sum()) 
```

我执行以下操作

```
v_u = numpy.vectorize(euclidean_distance) 
```

我正在做以下电话

```
v_u(numpy.array([[10, 20, 30], [4, 5, 6]]), numpy.array([1, 2, 3])) 
```

我想要的是得到一个包含 with 的欧几里德距离的`[1, 2, 3]`数组`[10, 20, 30], [4, 5, 6]`。

我想我错过了一些明显的东西。

**编辑：**
以下是我得到的错误

```
AttributeError: 'int' object has no attribute 'sum' 
```

很明显，`dl`并且`dr`作为单个元素而不是作为数组传递......所以我想知道是否有人可以纠正它以便它在数组上运行。

非常感谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:23:50.130

你为什么需要`vectorize`那个？

您可以使用形状广播并执行以下操作：

```
dist = numpy.sqrt(numpy.sum((d1-dr)**2, axis = 1)) 
```

# android - Android - 在“图形布局”中修改布局后，滚动时代码会自动更改。如何避免这种情况？

> ID：10848264
> 
> 赞同：3
> 
> 时间：2012-06-01T10:04:29.060
> 
> 标签：android, xml, eclipse, android-layout

> **可能重复：**
> [带有 Android 布局的 main.xml 的 Eclipse？](https://stackoverflow.com/questions/10163911/eclipse-with-android-layouts-main-xml)

我正在尝试静态设计布局。我写了一个 xml 文件，现在我在***图形布局***模式下修改它。但是，当我切换回***XML 编辑器***并滚动浏览代码时，代码似乎会自动更改。***我什至尝试从包资源***管理器中刷新文件，但仍然是徒劳的。现在，我早就知道这个问题，但一直忽略它。如何避免这样的事情发生？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T14:37:45.013

我的建议是不要在**图形布局**下仅在**XML 编辑器**内进行任何修改，图形布局的 Android 支持有点蹩脚，我从**Xml 编辑器进行所有修改**

# android - Android-Get Position Pointer From Using Geocoder

> ID：10848267
> 
> 赞同：1
> 
> 时间：2012-06-01T10:04:51.617
> 
> 标签：android

下面是我的代码。对于某些地址，以下代码适用于 Android Device API level-8。但是对于某些地址，地址的值返回为 []。但是从 iphone 调用同一服务器时，我没有遇到这样的问题。

```
Geocoder geocoder = new Geocoder(getApplicationContext(), Locale.getDefault());
List<Address> address = geocoder.getFromLocationName(MAPADDRESS, 1); 
```

如何在 android 设备中解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:11:37.403

这里的问题是您在查询时只请求一个地址

```
List<Address> address = geocoder.getFromLocationName(MAPADDRESS, 1); 
```

在这种情况下，Android 将尝试只找到一个地址。您应该提出这个 2 或 3。

也许在第二或第三位置你会获得成功。

将其更改为

```
List<Address> address = geocoder.getFromLocationName(MAPADDRESS, 3); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T12:23:37.797

只需使用以下方法...调用时给出字符串输入

```
 public static JSONObject getLocationInfo(String address) {
            StringBuilder stringBuilder = new StringBuilder();
            try {

            address = address.replaceAll(" ","%20");    

            HttpPost httppost = new HttpPost("http://maps.google.com/maps/api/geocode/json?address=" + address + "&sensor=false");
            HttpClient client = new DefaultHttpClient();
            HttpResponse response;
            stringBuilder = new StringBuilder();

                response = client.execute(httppost);
                HttpEntity entity = response.getEntity();
                InputStream stream = entity.getContent();
                int b;
                while ((b = stream.read()) != -1) {
                    stringBuilder.append((char) b);
                }
            } catch (ClientProtocolException e) {
            } catch (IOException e) {
            }

            JSONObject jsonObject = new JSONObject();
            try {
                jsonObject = new JSONObject(stringBuilder.toString());

            } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            return jsonObject;
        } 
```

# java - 在java中检索当前的集群名称？

> ID：10848268
> 
> 赞同：1
> 
> 时间：2012-06-01T10:04:54.190
> 
> 标签：java, jakarta-ee, websphere-6.1

是否可以检索 Web 应用程序在 Websphere 服务器中运行的当前集群名称？

# php - 如何定义 SoapVar 命名空间？

> ID：10848269
> 
> 赞同：10
> 
> 时间：2012-06-01T10:05:05.533
> 
> 标签：php, soap, namespaces, soap-client

我需要在我的 SOAP 请求中有这个节点（使用 1.1）：

```
<CredentialsHeader xmlns="http://www.url.com/Services/P24ListingService11"
    <EMail>ricky@email.net</EMail>
    <Password>password</Password>
</CredentialsHeader> 
```

所以我有以下PHP：

```
$client = new SoapClient("https://exdev.www.example.com/Services/example.asmx?WSDL", 
    array(
        "trace"      => 1,
        "exceptions" => 0,
        "cache_wsdl" => 0,
        'soap_version' => SOAP_1_1
        )
);

$CredentialObject = new SoapVar(array('EMail' => 'ricky@email.net', 'Password' => 'password'), SOAP_ENC_OBJECT); 
```

生成：

```
<?xml version="1.0" encoding="UTF-8"?>
<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://www.example.com/Services/Example">
    <SOAP-ENV:Header>
        <ns1:CredentialsHeader>
            <EMail>ricky@email.net</EMail>
            <Password>password</Password>
        </ns1:CredentialsHeader>
    </SOAP-ENV:Header>
    <SOAP-ENV:Body>
        <ns1:EchoAuthenticated/>
    </SOAP-ENV:Body>
</SOAP-ENV:Envelope> 
```

我需要做的就是阻止它使用`ns1`并实际`xmlns`在节点中定义，如下所示：

```
<CredentialsHeader xmlns="http://www.example.com/Services/Example">
        <EMail>ricky@email.net</EMail>
        <Password>password</Password>
    </CredentialsHeader> 
```

我已经在 Firefox Poster 中对其进行了测试，并且知道更改可以解决问题。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-07T13:35:47.513

```
$CredentialObjectXML  = '<CredentialsHeader xmlns="http://www.example.com/Services/Example">
        <EMail>'.$UserName.'</EMail>
        <Password>'.$Password.'</Password>
    </CredentialsHeader>';

$CredentialObject  = new SoapVar($CredentialObjectXML,XSD_ANYXML); 
```

这样您就可以直接使用带有 XSD_ANYXML 类型的 XML。

希望这能解决您的问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T12:15:07.490

[http://www.php.net/manual/tr/soapvar.soapvar.php](http://www.php.net/manual/tr/soapvar.soapvar.php)

我猜参数“node_namespace”是你一直在寻找的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T22:27:48.470

我遇到了同样的问题，发现如果您将虚拟类映射到 WSDL 中的凭证复杂类型，PHP 将输出如下内容：

```
<?xml version="1.0" encoding="UTF-8"?>
<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://www.example.com/Services/Example">
    <SOAP-ENV:Header>
        <ns1:CredentialsHeader>
            <ns1:EMail>ricky@email.net</ns1:EMail>
            <ns1:Password>password</ns1:Password>
        </ns1:CredentialsHeader>
    </SOAP-ENV:Header>
    <SOAP-ENV:Body>
        <ns1:EchoAuthenticated/>
    </SOAP-ENV:Body>
</SOAP-ENV:Envelope> 
```

这不完全是所要求的，但虽然更冗长，但它是等效的。

代码如下：

```
$client = new SoapClient("https://exdev.www.example.com/Services/example.asmx?WSDL", 
    array(
        "trace"         => 1,
        "exceptions"    => 0,
        "cache_wsdl"    => 0,
        "soap_version"  => SOAP_1_1,
        "classmap"      => array(
            'credential_complex_type'   => 'CredentialObject',
        ),
    )
);

class CredentialObject {}

$credentialObject = new CredentialObject();
$credentialObject->Email = 'ricky@email.net';
$credentialObject->Password = 'password'; 
```

# javascript - 删除元素然后再次添加它们

> ID：10848273
> 
> 赞同：0
> 
> 时间：2012-06-01T10:05:32.897
> 
> 标签：javascript, jquery, dom-manipulation

我有这个文档树子树：

```
<div id="content">
    <div class="tile"></div>
    <div class="tile"></div>
    <div class="tile"></div>
</div> 
```

我想要实现的是清空`childNodes`of `#content`，然后用`<div>`s再次填充它`class="tile"`。这是我所做的。

```
$(".tile").fadeOut( showTileSpeed, function() {
    $(this).remove();
});

tiles[tileIndex]();// function adding .tiles to my #content

$(".tile").first().fadeIn(showTileSpeed, function showNext() {
    $(this).next(".tile").fadeIn(showTileSpeed, showNext);
}); 
```

似乎 .tiles 是在`remove()`调用之前添加的，因此屏幕上没有任何反应......

有人对这种行为有解释吗？添加计时器似乎不是一个好的解决方案。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:20:03.173

`$(this).remove();`被调用`showTileSpeed` 后的毫秒数`fadeOut`。但是在被`tiles[tileIndex]()`调用后立即`fadeOut`被调用。

删除所有图块后，您应该再次添加图块。您可以通过将所选元素传递给[`$.when` *^([docs])*](http://api.jquery.com/jQuery.when/)并在返回的承诺对象上注册一个回调（使用[`.done()` *^([docs] ）来实现这一点。)*](http://api.jquery.com/deferred.done/)一旦所有动画完成，回调就会被调用：

```
var $tiles = $(".tile").fadeOut(showTileSpeed, function() {
    $(this).remove();
});

$.when($tiles).done(function() {      // <-- after all animations do this
    tiles[tileIndex]();

    $(".tile").first().fadeIn(showTileSpeed, function showNext() {
        $(this).next(".tile").fadeIn(showTileSpeed, showNext);
    });
}); 
```

另请参阅[在 jQuery 动画中只执行一次完整功能？](https://stackoverflow.com/questions/9354036/execute-complete-function-only-once-in-jquery-animation)（尤其是[这个答案](https://stackoverflow.com/a/9354286/218196)）。

* * *

**更新：**由于调用似乎会`.remove()`干扰动画状态的测试，因此将调用移至`.remove()`可能是更好的解决方案：

```
var $tiles = $(".tile").fadeOut(showTileSpeed);

$.when($tiles).done(function() {
    $tiles.remove();
    tiles[tileIndex]();

    $(".tile").first().fadeIn(showTileSpeed, function showNext() {
        $(this).next(".tile").fadeIn(showTileSpeed, showNext);
    });
}); 
```

但如果您只想更新元素的内容，则不必将它们从 DOM 中移除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:17:14.023

我不确定你到底是什么意思？无论如何，看看这个，这是你需要的吗？

```
$(document).ready(function() {
    $(".tile").fadeOut( showTileSpeed, function() {
        $(this).remove();
        tiles[tileIndex]();// function adding .tiles to my #content
        $(".tile").first().fadeIn(showTileSpeed, function showNext() {
            $(this).next(".tile").fadeIn(showTileSpeed, showNext);
        });
    });
}); 
```

# javascript - 如何将方法附加/扩展到 dom 元素

> ID：10848274
> 
> 赞同：0
> 
> 时间：2012-06-01T10:05:41.080
> 
> 标签：javascript, jquery

有这个html：

```
<div id='hi1'> aaa </div> 
```

做的时候：

```
$('#hi1').sayHi(); 
```

我想收到一个说“嗨”的警报

有人知道这是怎么做到的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:07:53.270

阅读有关[jQuery 插件创作](http://docs.jquery.com/Plugins/Authoring)的更多信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T10:09:33.727

```
$.fn.sayHi = function() {
    alert($(this).text());
    return this;
};

$('#hi1').sayHi(); 
```

**[演示](http://jsfiddle.net/thecodeparadox/TyTYy/1/)**

阅读有关**[jQuery 插件的更多信息](http://docs.jquery.com/Plugins/Authoring)**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T10:08:07.287

jQuery 方法啊啊啊啊！

```
jQuery.fn.sayHi = function() {
  // this is the jQuery object
  // so this[0] is a DOM element (or undefined)
}; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-01T10:08:00.777

```
$.fn.extend({ sayHi:function(){ alert('hi'); }); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-01T10:11:58.547

您实际上想创建自己的方法（插件），称为：`.sayHi()`

## *[演示 jsFiddle](http://jsfiddle.net/roXon/nZEBN/)*

```
$.fn.sayHi = function(something){   
    alert(something);       
};

$('#hi1').sayHi('hi');    // 'hi' will be passed to the jQuery method 'sayHy' 
```

更多信息在这里：[http ://docs.jquery.com/Plugins/Authoring](http://docs.jquery.com/Plugins/Authoring)

另一个例子：

```
$.fn.sayHi = function(txt, clr){   
     this.css({color: clr}).text(txt); // 'this' is your element delegated to your plugin
};

$('#hi1').click(function(){   
    $(this).sayHi('Heading is clicked!', 'red');  // (txt, crl)                                
}); 
```

## *[演示 2](http://jsfiddle.net/roXon/nZEBN/3/)*

# oracle - 对象和记录类型之间的区别

> ID：10848277
> 
> 赞同：29
> 
> 时间：2012-06-01T10:06:06.983
> 
> 标签：oracle

我只是好奇oracle中的对象和记录类型之间有什么区别，更具体地说是在以下声明之间

```
create type emp2_oty is object 
(
 empno  number,
 ename  varchar2(20),
 deptno number
);

create type emp2_nt is table of emp2_oty; 
```

和

```
type emp2_oty is record
(
 empno  number,
 ename  varchar2(20),
 deptno number
);

create type emp2_nt is table of emp2_oty; 
```

请详细说明。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-11-06T17:57:08.617

*   record:

    ```
     Cannot be stored in the database.
       Cannot be recursively referenced.
       Cannot have logic defined as part of their definition. 
    ```

*   object:

    ```
     Can be stored as a database table column or as an entire row.
       Can be recursively referenced using the SELF parameter.
       Can have logic defined as part of their definition using member methods. 
    ```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-01T10:11:39.157

OBJECT 类型可以存储在数据库中，可以在 SQL 和 PL/SQL 中使用

# c# - 未从数据库中提取 MVC4 EF4.3 子对象

> ID：10848281
> 
> 赞同：1
> 
> 时间：2012-06-01T10:06:27.907
> 
> 标签：c#, asp.net-mvc, entity-framework, repository

我无法从数据库中获取所有数据，而且我不完全确定我做错了什么，几乎所有这些对我来说都是新的。

我搜索了 SO 并发现以下问题似乎与我的非常相似 - [Repository Pattern for Entity Framework and Children Objects](https://stackoverflow.com/questions/10807970/repository-pattern-for-entity-framework-and-children-objects)

[我已经查看了包含此链接的答案，](http://www.appetere.com/Blogs/SteveM/May-2012/Passing-Include-statements-into-a-Repository)但我正在努力让它发挥作用。

我有我的活动存储库，它返回一个活动。它按预期返回审核列表，但审核中没有评论或 CampaignAction。我需要做一些特别的事情来告诉数据库拉出所有级联对象吗？

谢谢你的帮助

尼尔

```
 public override Campaign Get(int id)
    {
        var query = Context.Campaigns.Include(x => x.Audits)
                                     .FirstOrDefault(c => c.CampaignId == id);
        if (query != null) 
            Logger.Trace(query.ToString());
        return query;
    } 
```

我有我的竞选班

```
public class Campaign
{
    public Campaign()
    {
        Audits = new Collection<Audit>();
    }

    public int CampaignId { get; set; }

    [StringLength(40, ErrorMessageResourceType = typeof(Resources.Resources), ErrorMessageResourceName = "CampaignModel_Name_StringLength")]
    [Required(ErrorMessageResourceType = typeof(Resources.Resources), ErrorMessageResourceName = "CampaignModel_Name_Required")]
    [Display(Name = "CampaignModel_Name", ResourceType = typeof(Resources.Resources))]
    public string Name { get; set; }

    public ICollection<Audit> Audits { get; set; }
} 
```

还有我的审计课

```
public class Audit
{
    public Audit()
    {
        Comments = new Collection<Comment>();
    }

    public int AuditId { get; set; }

    [Required(ErrorMessageResourceType = typeof(Resources.Resources), ErrorMessageResourceName = "Audit_CampaignAction_Required")]
    [Display(Name = "Audit_CampaignAction", ResourceType = typeof(Resources.Resources))]
    public CampaignAction Action { get; set; }

    [Required(ErrorMessageResourceType = typeof(Resources.Resources), ErrorMessageResourceName = "Audit_UserName_Required")]
    [Display(Name = "Audit_UserName_Content", ResourceType = typeof(Resources.Resources))]
    public string UserName { get; set; }

    [Required(ErrorMessageResourceType = typeof(Resources.Resources), ErrorMessageResourceName = "Audit_TimeStamp_Required")]
    [Display(Name = "Audit_TimeStamp", ResourceType = typeof(Resources.Resources))]
    public DateTime TimeStamp { get; set; }

    public ICollection<Comment> Comments { get; set; }

    [JsonIgnore]
    public virtual ICollection<Campaign> Campaigns { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:52:06.673

只要您使用预先加载，您就必须调用`Include()`您希望从数据库加载的所有实体。此规则适用于子实体（审核），也适用于孙实体（操作和评论）。

通常你会使用简单的点表示法来包含孙子实体，但如果子实体是一个集合，则使用该`Select()`方法有一个特殊的语法。

您的查询应如下所示

```
var query = Context.Campaigns.Include(x => x.Audits)
                             .Include(x => x.Audits.Select(a => a.Comments))
                             .Include(x => x.Audits.Select(a => a.Action))
                             .FirstOrDefault(c => c.CampaignId == id); 
```

# adsense - 谷歌 Adsense 输出

> ID：10848284
> 
> 赞同：0
> 
> 时间：2012-06-01T10:06:38.800
> 
> 标签：adsense

我要 Google Adsense 脚本输出代码（HTML 代码） 我不是指 javascript 代码（google 提供给用户的）。HTML 输出（您可以使用`Firebug`Google Developer Toolbar 或 Google Developer Toolbar 获取）

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T17:25:09.493

我的框架是：

```
<iframe width="120" scrolling="no" height="600" frameborder="0" vspace="0" style="left:0;position:absolute;top:0" src="http://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-7051474033111975&amp;output=html&amp;h=600&amp;slotname=1193041517&amp;w=120&amp;lmt=1339606481&amp;flash=11.2.202&amp;url=file%3A%2F%2F%2FC%3A%2FDocuments%2520and%2520Settings%2FLEFTERIS%2FDesktop%2Fgoogle.htm&amp;dt=1339608015911&amp;bpp=4&amp;shv=r20120606&amp;jsv=r20110914&amp;correlator=1339608016097&amp;frm=20&amp;adk=1708676694&amp;ga_vid=904765143.1337074819&amp;ga_sid=1339608016&amp;ga_hid=1901222006&amp;ga_fc=1&amp;u_tz=180&amp;u_his=1&amp;u_java=1&amp;u_h=1024&amp;u_w=1280&amp;u_ah=934&amp;u_aw=1280&amp;u_cd=24&amp;u_nplug=20&amp;u_nmime=76&amp;dff=serif&amp;dfs=16&amp;adx=8&amp;ady=8&amp;biw=1244&amp;bih=293&amp;oid=3&amp;fu=0&amp;ifi=1&amp;dtd=235&amp;xpc=dCXR5D0l2L&amp;p=file%3A//" name="google_ads_frame1" marginwidth="0" marginheight="0" id="google_ads_frame1" hspace="0" allowtransparency="true"></iframe>

<style>a{color:#0000ff}body,table,div,ul,li{margin:0;padding:0}</style>

<script>(function(){window.ss=function(d,e){window.status=d;var c=document.getElementById(e);if(c){var a;a=c.href;var b=a.match("^(.*)([?|&]nm=)([^&]*)(.*)$");b?(b[3]=""+((Number(b[3])||0)+1),b[0]="",a=b.join("")):a+="&nm=1";c.href=a}return!0};})();function su(id) {var a = document.getElementById(id);var b = (new Date()).getTime();if (a && a.myt && b) {var t = b - a.myt;var bi = a.href.indexOf("&clkt=");if (bi > 0) {var c = a.href.substring(0, bi+6); var d = a.href.substring(bi+6, a.href.length);var ei = d.indexOf("&");var r = '';if (ei >= 0)r = d.substring(ei, d.length);a.href = c + t + r; } else {a.href += "&clkt=" + t;}}return true;}(function(){var e=function(b,a,c){var d="&"+a+"=",a=b.indexOf(d);0>a?c=b+d+c:(a+=d.length,d=b.indexOf("&",a),c=0<=d?b.substring(0,a)+c+b.substring(d):b.substring(0,a)+c);return 2E3<c.length?b:c};var f=null,g=function(b){f=b};document.addEventListener&&document.addEventListener("mousedown",g,!0);window.xy=function(b,a,c){c=c||a;if((b=b||f)&&a&&c){var d=Math.round(b.clientY-c.offsetTop);a.href=e(a.href,"nx",Math.round(b.clientX-c.offsetLeft));a.href=e(a.href,"ny",d)}};})();function cs(){window.status='';} function jcc(a) {pha=document.getElementById(a); nc=pha.href.indexOf('&jca='); if(nc>=1) return; jca=(717)+(6720)-(441); if (a=='aw0') {jca+=(-4392);} else if (a=='aw1') {jca+=(1043);} else if (a=='aw2') {jca+=(2446);} else if (a=='aw3') {jca+=(-4751);} else {jca=0;} phb=pha.href+'&jca='+jca; pha.href=phb;} function st(id) {var a = document.getElementById(id);if (a) {a.myt = (new Date()).getTime();xy(window.event, a);}return true;}function ha(a){  var pha=document.getElementById(a);var nhi=pha.href.indexOf("&nh=");if(nhi < 1) {pha.href+="&nh=1";}su(a); jcc(a); }function ca(a) {  var pha=document.getElementById(a);var nci=pha.href.indexOf("&nc=");if(nci < 1) {pha.href+="&nc=1";}su(a); jcc(a); top.location.href=document.getElementById(a).href;}function ga(o,e) {if (document.getElementById) {a=o.id.substring(1);p="";r="";g=e.target;if (g) {t=g.id;f=g.parentNode;if (f) {p=f.id;h=f.parentNode;if (h)r=h.id;}} else {h=e.srcElement;f=h.parentNode;if (f)p=f.id;t=h.id;}if (t==a||p==a||r==a)return true;var pha=document.getElementById(a);var nbi=pha.href.indexOf("&nb=");if(nbi < 1) {pha.href+="&nb=1";}su(a); jcc(a); top.location.href=document.getElementById(a).href;}}</script>

<a title="www.gfi.com/fax" target="_top" onmouseover="return ss('','aw0')" onmousedown="st('aw0')" onfocus="ss('','aw0')" onclick="ha('aw0')" id="aw0" href="/aclk?sa=l&amp;ai=BnKD-aMvYT-vyI6qU0AW52p2hB7aAuLECxuLcvRjAjbcBsOMtEAEYASDg8JsKKAQ4AFD85ObkAmCtytiDvAygAYqXwv8DugEKMTIweDYwMF9hc8gBAdoBQWZpbGU6Ly8vQzovRG9jdW1lbnRzJTIwYW5kJTIwU2V0dGluZ3MvTEVGVEVSSVMvRGVza3RvcC9nb29nbGUuaHRtgAIByALW54UYqAMByAMf6AP2COgD5QP1AwAAAMT1AwAAQBA&amp;num=1&amp;sig=AOD64_3Jznh97UCO3fRznTsPK1OHiH354Q&amp;client=ca-pub-7051474033111975&amp;adurl=http://landfax.gfi.com/fax-server-exchange-sm/%3Fadv%3D69%26loc%3D618" class="adt"><span>Send fax from computers</span></a>

<a target="_blank" href="http://www.google.com/url?ct=abg&amp;q=https://www.google.com/adsense/support/bin/request.py%3Fcontact%3Dabg_afc%26url%3Dfile:///C:/Documents%252520and%252520Settings/LEFTERIS/Desktop/google.htm%26hl%3Den%26client%3Dca-pub-7051474033111975%26adU%3Dwww.gfi.com/fax%26adT%3DSend%2Bfax%2Bfrom%2Bcomputers%26adU%3Dwww.tradestead.com/ElectricGadgets%26adT%3DBuy%2BElectronic%2BGadgets%26adU%3Dwww.cloudsolutions.co.uk%26adT%3DGoogle%2BMigration%2BTool%26adU%3DAllwaySync.com%26adT%3DSkyDrive%2BPC%2Bsync%2Bsoftware%26gl%3DGR&amp;usg=AFQjCNGOinsMYeIWqJU_FmQly3Uc-yRscA"><img height="16" border="0" src="http://pagead2.googlesyndication.com/pagead/abglogo/adc-en-100c-000000.png" alt="AdChoices"></a> 
```

可能这就是你想要的...

# apache - 詹姆斯没有拿起 mysql 连接器 jar

> ID：10848285
> 
> 赞同：1
> 
> 时间：2012-06-01T10:06:39.440
> 
> 标签：apache, configuration, james

我尝试在我的亚马逊实例上安装 james [1]，并使用 MySQL 作为后端。我有 MySQL 连接器 mysql-connector-java-5.1.20.zip，解压缩并将其复制到 conf/lib 和 lib/ 但是当我启动 james 时： $ sudo bin/james start 它停止了。Wrapper 日志显示：java.lang.ClassNotFoundException: com.mysql.jdbc.Driver

我的 james-database.properties 看起来像这样：

```
database.driverClassName=com.mysql.jdbc.Driverdatabase.url=jdbc:mysql://localhost:3306/jamesdatabase.username= ** user name ** 
```

database.password= ** 秘密 **vendorAdapter.database=MYSQL openjpa.streaming=false

我没有改变任何其他东西。但詹姆斯是行不通的。

任何帮助，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-12T01:42:22.587

我设法让我的 apache-james-3.0-beta4 工作设置`database.url=jdbc:mysql://127.0.0.1/james?create=true`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-15T02:09:49.150

维基[说](http://wiki.apache.org/james/V3ConfigTutorial)：

```
Using MySQL instead of Derby

Download the MySQL driver JAR from http://dev.mysql.com/downloads/connector/j/3.1.html, and put the JAR file into your ./conf/lib folder. Change the database settings in ./conf/database.properties to the following values:

# MySQL JDBC database properties
database.driverClassName=com.mysql.jdbc.Driver
database.url=jdbc:mysql://localhost/james
database.username=jamesuser
database.password=password_for_jamesuser
vendorAdapter.database=MYSQL
openjpa.streaming=false

To add the JAR to the classpath, edit ./bin/setenv.sh as shown here:

# Add every needed extra jar to this
CLASSPATH_PREFIX=../conf/lib/mysql-connector-java-5.1.13-bin.jar 
```

但是，他们的版本控制似乎已关闭，而且不可否认，这些方向[对我不起作用](https://stackoverflow.com/questions/11999233/apache-james-gives-classnotfoundexception-com-mysql-jdbc-driver)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-28T22:52:13.873

我知道这个回复来得有点晚，但我刚刚遇到了这个问题。

根据 Eric Charles 的[回答](http://article.gmane.org/gmane.comp.jakarta.james.user/18802)：

beta4 中的 conf/lib/*.jar 加载是错误的。

您需要编辑 conf/wrapper.conf 并更改

```
'wrapper.java.classpath...=../conf/lib' to 
'wrapper.java.classpath...=../conf/lib/*' (add a /* after lib). 
```

您可以使用文本编辑器，或者如果您使用脚本或类似的东西（在我的情况下为 Dockerfile）来安装 James，您也​​可以通过转到 wrapper.conf 所在的目录并执行来编辑它：

```
sed -i "s/wrapper\.java\.classpath\.2=\.\.\/conf/wrapper\.java\.classpath\.2=\.\.\/conf\/lib\/\*/g" wrapper.conf 
```

之后，下次启动 James 时，conf/lib 中的所有 jar 文件都应该加载到类路径中。

# android - webapps的android WebView替代品

> ID：10848286
> 
> 赞同：6
> 
> 时间：2012-06-01T10:06:49.700
> 
> 标签：android, performance, web-applications, webview

WebView 确实具有许多 html5 功能，但缺乏显示动态内容所需的性能。*是否还有其他更适合作为 Android 上的 Web 应用程序平台的裸机 Web 浏览器？*

这是一个简单的例子，它在我的设备和模拟器上表现非常糟糕：*强调文本*

[http://themeforest.s3.amazonaws.com/116_parallax/tutorial-source-files/tut-index.html](http://themeforest.s3.amazonaws.com/116_parallax/tutorial-source-files/tut-index.html)

*   过渡动画几乎冻结
*   导航滞后的悬停效果（使用鼠标时）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-28T09:58:39.670

为什么不试试 chromium_webview。它具有多种功能以及更好的性能。[这是Github](https://github.com/mogoweb/chromium_webview)上这个项目的链接。

# php - 如何将简单的搜索查询传递到 URL？

> ID：10848287
> 
> 赞同：1
> 
> 时间：2012-06-01T10:07:13.623
> 
> 标签：php, jquery, forms, url, variables

我的网站上有一个搜索表单，我想将表单中的文本传递给 URL，例如：mysite.com/search.php?q=apples（如果搜索词是 apples）。
我认为人们可以通过这种方式为他们的搜索添加书签。

我认为的一种解决方案是在 search.php 中捕获搜索词，然后重新加载到新的 URL 中。但是像这样重新加载并不是很优雅。那么我该怎么做——我的意思是，它通常是怎么做的？我需要使用 jQuery 吗？

澄清：我知道如何从 php.ini 中的 URL 获取变量。我需要的是控制用户按下SUBMIT时将打开的URL，并且该URL需要包含用户的搜索词！就像 Google 或 DuckDuckGo 一样，我输入“apples”，然后 URL 变为 ...?q=apples。但是——怎么样？！（当然，我会在 search.php 中找到它，但我知道该怎么做。）这就是我现在所拥有的：

```
<div id="topnav">
<form action="search.php" method="post">
<input name="searchword" type="text">
<input type="submit">
</form> 
```

太感谢了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:13:02.557

看完说明。您需要的是一个提交到您的 search.php 的搜索表单，例如：

```
<form action="search.php" method="get">
<input type="text" value="search word" name="q" />
<input type="submit" value="submit" />
</form> 
```

这会将在名为 q 的输入中输入的任何值传递给 search.php 脚本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:21:26.843

如何使用 POST-Redirect-GET 模式？[http://en.wikipedia.org/wiki/Post/Redirect/Get] 还有[http://blog.andreloker.de/post/2008/06/Post-Redirect-Get.aspx](http://blog.andreloker.de/post/2008/06/Post-Redirect-Get.aspx)

这将允许您将 url 保留在浏览器中：

```
yoursite.com/search.php?q=apples 
```

或者，您可以使用 javascript在浏览器中设置 url的*location.hash以及回发后的查询信息；*我怀疑这实际上是谷歌所做的。

例如，

```
yoursite.com/search.php#apples 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T10:11:48.580

如果您发布的 HTML 表单包含名称为“q”和值为“apples”的文本字段，则浏览器会自动创建所需的 URL。你绝对不需要 JQuery。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:12:13.757

所以表单动作是search.php，字段是q，方法是Get？

如果我了解您要实现的目标，您应该能够从 html 表单中处理所有这些。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-01T10:14:12.457

如果您有表格，则必须已声明表格方法`POST/GET`

在你身上，`search.php`你可以简单地这样做`$_POST['name of the input field']`来获取单词字符串，

如果你想在 url 中传递变量，那么你需要`link`通过`<a href="you URL">Link </a>`

# html - 这是什么数据格式？

> ID：10848289
> 
> 赞同：2
> 
> 时间：2012-06-01T10:07:19.833
> 
> 标签：html, xml, ajax

我正在检查一个股票交易网站的 AJAX 响应，下面是它在 XHR 部分的 Firebug 响应选项卡中显示的内容。谁能解释一下这是什么格式以及它是如何解析的？

```
<ST=tat>
<SI=0>
<TB=txtSearch>
  <560v=Tata Motors Ltdv=TATMOT>
  <566v=Tata Steel Ltdv=TATSTE>
  <3199v=Ashram Online.com Ltdv=ASHONL>
  <4866v=Kreon Finnancial Services Ltdv=KREFIN>
  <552v=Tata Chemicals Ltdv=TATCHE>
  <554v=Tata Power Company Ltdv=TATPOW>
  <2986v=Tata Metaliks Ltdv=TATMET>
  <300v=Tata Sponge Iron Ltdv=TATSPO>
  <121v=Tata Coffee Ltdv=TATCOF>
  <2295v=Tata Communications Ltdv=TATCOM>
  <0v=Time In Milli-Secondsv=0> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:12:20.513

我认为我们在这里处理的是某种专有格式，可能是某种 Eldricht SGML Horror。

一般来说，银行业有各种各样的Eldricht恐怖事件。

在相关的说明中，这很不是 XML。

**编辑：**

快速分析*表明这是一种格式，由一系列用`<>`;括起来的语句组成。用`=`or分隔的语句部分`v=`。`=`似乎表示控制语句的参数，由两个字母的代码表示。( `<ST=tat>`)，而`v=`似乎表示某种赋值或耦合（“值”的缩写？），或者可能只是一个字段分隔符。

`<ST`似乎是“搜索词”的缩写；`<TB`似乎是“（源）表”的缩写。的含义让`<SI`我无法理解。终止元数据部分是可能`<TB`的，但元数据部分也有可能具有固定数量的术语。

由于没有指数据部分中每个语句中的字段数，并且它们的长度都相同（3个字段），因此字段数可能是固定的，但它可能来自 的值`<TB`，或甚至`<SI`，以某种方式。

然而，非常清楚的是，除了提供它的应用程序之外，这些数据不打算供其他应用程序使用。

*警告：如果没有更大的样本，就无法判断此分析是否有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:10:32.440

它不是一种常用的“网络格式”。

它可能是该站点使用的专有格式，将由其自定义 JavaScript 解析。

# eclipse - Eclipse、dropins、控制台模式、Axis2 和 dropins 未安装

> ID：10848290
> 
> 赞同：3
> 
> 时间：2012-06-01T10:07:25.437
> 
> 标签：eclipse, eclipse-plugin, axis2

我是 eclipse 开发平台的新手，在尝试安装以下插件时我有一个奇怪的行为：

```
org.apache.axis2.eclipse.codegen.plugin_1.6.2.jar
org.apache.axis2.eclipse.service.plugin_1.6.2.jar 
```

我已经从 Apache 下载了它们，提取到 dropins 中的一个文件夹 plugins 中，这样我就有了：

```
D:\eclipse\dropins\plugins
    org.apache.axis2.eclipse.codegen.plugin_1.6.2.jar
    org.apache.axis2.eclipse.service.plugin_1.6.2.jar 
```

我仍然无法从文件/新建/其他/选择向导中使用/查看它们

顺便说一句，在阅读了一些关于这种困难的帖子后，我发现使用“eclipse -console”从命令行启动 eclipse 可以让我在文件/新建/其他/选择向导 => Axis2 代码生成器和 Axis2 服务存档器中看到它们

那么请问，正确的做法是什么？为什么添加 -console 可以解决问题，而“正常”启动却不行？

**编辑**：忘记写关于 Eclipse 的信息：

```
Eclipse Java EE IDE for Web Developers.
Version: Indigo Service Release 2
Build id: 20120216-1857 
```

编辑：实际上我已经测试了将这些罐子放在`plugins`dropins 的子文件夹中或直接放在里面`dropins`，但没有一个起作用。拥有的唯一方法`Axis2 service Archiver`是开始`eclipse -console`并将它们放在`plugins`......我肯定错过了一些东西或依赖失败，但我不知道如何检查/纠正它。这就是我在这里问的原因。

编辑：如果这可以帮助：

在我的里面`bundles.info`

```
org.apache.axis2.eclipse.codegen.plugin,1.6.2,dropins/plugins/org.apache.axis2.eclipse.codegen.plugin_1.6.2.jar,4,false
org.apache.axis2.eclipse.service.plugin,1.6.2,dropins/plugins/org.apache.axis2.eclipse.service.plugin_1.6.2.jar,4,false 
```

内部控制台：

```
osgi> ss axis2

Framework is launched.

id      State       Bundle
24      <<LAZY>>    org.apache.axis2.eclipse.codegen.plugin_1.6.2
25      ACTIVE      org.apache.axis2.eclipse.service.plugin_1.6.2
461     <<LAZY>>    org.eclipse.jst.ws.axis2.consumption.core_1.0.105.v201004211
805
462     <<LAZY>>    org.eclipse.jst.ws.axis2.consumption.ui_1.0.103.v20100421180
5
463     <<LAZY>>    org.eclipse.jst.ws.axis2.core_1.0.204.v201004211805
464     <<LAZY>>    org.eclipse.jst.ws.axis2.creation.core_1.0.106.v201004211805

465     <<LAZY>>    org.eclipse.jst.ws.axis2.creation.ui_1.0.104.v201004211805
466     <<LAZY>>    org.eclipse.jst.ws.axis2.ui_1.0.303.v201003110431
467     RESOLVED    org.eclipse.jst.ws.axis2.ui.doc.user_1.0.100.v201005192217

osgi> diag 25
reference:file:dropins/plugins/org.apache.axis2.eclipse.service.plugin_1.6.2.jar
 [25]
  No unresolved constraints.

osgi> diag 24
reference:file:dropins/plugins/org.apache.axis2.eclipse.codegen.plugin_1.6.2.jar
 [24]
  No unresolved constraints. 
```

`.metadata\.plugins\org.eclipse.pde.core\org.eclipse.equinox.simpleconfigurator`而且我在我的 Eclipse 工作区中找不到文件

此致

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-02T07:17:18.957

正如[Axis2 文档](http://axis.apache.org/axis2/java/core/tools/eclipse/plugin-installation.html)中所解释的，您需要“将 ZIP 存档中的 plugins 文件夹的内容提取到 dropins 文件夹中（即不要在 dropins 下创建 plugins 文件夹）”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:24:52.740

老实说，我发现 dropins 目录并不那么可靠。有时它工作得很好，有时你做什么都不会让它工作。我已经写了一个关于它的问题，但还没有答案：[未找到 dropins-catalog 中的插件](https://stackoverflow.com/questions/7513747/plugins-in-dropins-catalog-are-not-found)

您可以做的是检查是否完全找到了插件，或者是否存在会阻止它启动的依赖项问题。我通常推荐[Dude，我的 bundle 在哪里](http://wiki.eclipse.org/Where_Is_My_Bundle)可以作为了解 bundle 如何在不同状态下工作的一个很好的起点。osgi 控制台是一个有用的工具，可以查看您的插件是否已加载。我写了一个更详细的答案来描述它是如何工作的：[https ://stackoverflow.com/a/9885646/207764](https://stackoverflow.com/a/9885646/207764)

# jsf-2 - 未调用primefaces commandbutton actionlistener

> ID：10848294
> 
> 赞同：5
> 
> 时间：2012-06-01T10:07:34.740
> 
> 标签：jsf-2, primefaces, actionlistener

我正在使用`primefaces 3.0`和`jsf 2.0`。
我准备了客户端主控，它使用向导添加客户端，同时反映在数据表中。然后我更新了数据表中的编辑实用程序。然后我在数据表中添加了删除按钮并尝试调用bean的删除方法。
但是，当我单击删除按钮时，执行添加客户端的向导验证。所以我创建了另一个文件`ClientEditdatatable.xhtml`并包含在其中，`clientmaster.xhtml`但结果相同。现在我想在数据表中添加删除实用程序。我已经尝试了很多技巧来做到这一点。
我只想通过动作侦听器传递客户端 ID，删除并刷新数据表，但命令按钮不执行方法。
好心劝告。我的代码如下：

```
ClientMaster.xhtml

<h:body> 
    <ui:composition template="/template/mainLayout.xhtml" >
        <ui:define name="pageContent">
            <h:form id="cm">
                <p:growl life="5000" showDetail="true" showSummary="true" id="mymessage" autoUpdate="true"/>
                <br/>
                user id :#{sessionScope.USER_ID};
                <br/>
                <p:wizard widgetVar="wiz" flowListener="#{clientUitility.onFlowProcess}" showNavBar="true"  >
                    <p:tab id="personal" title="Personal" >
                        <p:panel id="personal1" header="Personal Details">
                            <!-- <h:messages errorClass="error"/> -->
                            <h:panelGrid columns="6" styleClass="grid">
                                <h:outputText value="First Name:*" />
                                <p:inputText required="true" label="FirstName"
                                             value="#{clientUitility.client.firstName}" >
                                </p:inputText>

                                <h:outputText value="Middle Name:*" />
                                <p:inputText required="true" label="MidddleName"
                                             value="#{clientUitility.client.middleName}" />

                                <h:outputText value="Last Name:*" />
                                <p:inputText required="true" label="LastName"
                                             value="#{clientUitility.client.lastName}" />

                                <h:outputText value="Login ID:* " />
                                <p:inputText required="true" label="LoginID"
                                             value="#{clientUitility.client.loginID}"/>

                                <h:outputText value="Password:* " />
                                <p:inputText required="true" label="Password"
                                             value="#{clientUitility.client.password}"/>
                            </h:panelGrid>
                        </p:panel>
                    </p:tab>
                    <p:tab id="address" title="Address" >
                        <p:panel id="address1" header="Adress Details">
                            <!-- <h:messages errorClass="error"/> -->
                            <h:panelGrid columns="6" styleClass="grid">
                                <h:outputText value="Address:*" />
                                <p:inputText required="true" label="Address1"
                                             value="#{clientUitility.client.address1}" />
                                <h:outputText />
                                <p:inputText label="Address2"
                                             value="#{clientUitility.client.address2}" />
                                <h:outputText />
                                <p:inputText label="Address3"
                                             value="#{clientUitility.client.address3}" />
                                <h:outputText value="City:* " />
                                <p:inputText required="true" label="City"
                                             value="#{clientUitility.client.city}" />

                                <h:outputText value="Pincode:* " />
                                <p:inputText required="true" label="Pincode"
                                             value="#{clientUitility.client.pincode}" />
                                <h:outputText value="State:* " />
                                <p:inputText required="true" label="State"
                                             value="#{clientUitility.client.state}" />
                            </h:panelGrid>
                        </p:panel>
                    </p:tab>
                    <p:tab id="contact" title="Contact" >
                        <p:panel id="contact1" header="Contact Information">
                            <!-- <h:messages errorClass="error"/> -->
                            <p:panelGrid columns="4" styleClass="grid">
                                <h:outputText value="Mobile:* " />
                                <p:inputText required="true" label="MobileNo"
                                             value="#{clientUitility.client.mobileNo}" />
                                <h:outputText value="Email ID: "/>
                                <p:inputText label="EmailID"
                                             value="#{clientUitility.client.emailID}" />
                                <h:outputText value="STD Code: "/>
                                <p:inputText label="STDCode"
                                             value="#{clientUitility.client.stdCode}" />
                                <h:outputText value="Phone No: "/>
                                <p:inputText label="PhoneNo"
                                             value="#{clientUitility.client.phoneNo}" />                                </p:panelGrid>
                        </p:panel>
                    </p:tab>

                    <p:tab id="confirm" title="Confirmation" >
                        <p:panel id="confirm1" header="Confirm and Submit">

                            <h:panelGrid  columns="6" styleClass="grid" >

                                <h:outputText value="First Name: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.firstName}" />
                                <h:outputText value="Middle Name: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.middleName}" />
                                <h:outputText value="Last Name: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.lastName}" />
                                <h:outputText value="Login ID: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.loginID}"/>
                                <h:outputText value="Password: " />
                                <h:outputText styleClass="outputLabel"
                                             value="#{clientUitility.client.password}"/>
                                <h:outputText/>
                                <h:outputText/>
                                <h:outputText value="Address: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.address1}" />
                                <h:outputText />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.address2}" />
                                <h:outputText />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.address3}" />
                                <h:outputText value="City: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.city}" />
                                <h:outputText value="State: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.state}" />
                                <h:outputText value="Pincode: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.pincode}" />
                                <h:outputText value="Email ID: " />
                                <h:outputText styleClass="outputLabel"
                                              value="#{clientUitility.client.emailID}" />
                                <p:commandButton id="addClient" immediate="true" value="Add Client" actionListener="#{clientUitility.save}" oncomplete="wiz.loadStep (wiz.cfg.steps [0], true)" update="@parent,:cm:clientList"> <!-- update="@parent,:cm:clientList" -->
                                </p:commandButton>
                            </h:panelGrid>
                        </p:panel>
                    </p:tab>
                </p:wizard>
                <ui:include id="ce" src="ClientEditDatatable.xhtml"/>
            </h:form>              
        </ui:define>
    </ui:composition> 
</h:body> 
```

ClientEditDatatable.xhtml

```
<h:body>
     <h:form id="fce">
        <p:confirmDialog message="Delete client?" severity="alert" widgetVar="confirmDeleteClient" visible="false" appendToBody="true">
            <p:commandButton value="Yes" update=":cm:fce:clientList" oncomplete="confirmDeleteClient.hide()" actionListener="#{clientUitility.deleteRecord}" > 
            </p:commandButton>
            <p:commandButton value="No" onclick="confirmDeleteClient.hide()" type="button" />
        </p:confirmDialog>
        <p:dataTable var="client" value="#{clientUitility.clientAll}" id="clientList" editable="true"
                     rowKey="#{client.clientID}" paginator="true" rows="10" rowsPerPageTemplate="10,15,20">
            <p:column headerText="First Name" style="width:125px" filterBy="#{user.firstname}" sortBy="#{client.firstName}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.firstName}" />
                    </f:facet>
                    <f:facet name="input">
                        <h:outputText value="#{client.firstName}" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Middle Name" style="width:125px" filterBy="#{client.middleName}" sortBy="#{client.middleName}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.middleName}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.middleName}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Last Name" style="width:125px" filterBy="#{client.lastName}" sortBy="#{client.lastName}" >
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.lastName}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.lastName}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Login ID" style="width:125px" filterBy="#{client.loginID}" sortBy="#{client.loginID}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.loginID}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.loginID}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Password" style="width:125px" filterBy="#{client.password}" sortBy="#{client.password}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.password}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.password}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Address1" style="width:125px" filterBy="#{client.address1}" sortBy="#{client.address1}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.address1}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.address1}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Address2" style="width:125px" filterBy="#{client.address2}" sortBy="#{client.address2}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.address2}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.address2}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Address3" style="width:125px" filterBy="#{client.address3}" sortBy="#{client.address3}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.address3}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.address3}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="City" style="width:125px" filterBy="#{client.city}" sortBy="#{client.city}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.city}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.city}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="State" style="width:125px" filterBy="#{client.state}" sortBy="#{client.state}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.state}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.state}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Pincode" style="width:125px" filterBy="#{client.pincode}" sortBy="#{client.pincode}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.pincode}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.pincode}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Mobile No" style="width:125px" filterBy="#{client.mobileNo}" sortBy="#{client.mobileNo}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.mobileNo}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.mobileNo}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="STD Code" style="width:125px" filterBy="#{client.stdCode}" sortBy="#{client.stdCode}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.stdCode}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.stdCode}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Phone No" style="width:125px" filterBy="#{client.phoneNo}" sortBy="#{client.phoneNo}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.phoneNo}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.phoneNo}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Email ID" style="width:125px" filterBy="#{client.emailID}" sortBy="#{client.emailID}">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{client.emailID}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{client.emailID}" style="width:100%" >
                        </p:inputText>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Edit" style="width:50px">
                <p:rowEditor />
            </p:column>
            <p:ajax event="rowEdit" listener="#{clientUitility.editRowListner}" update=":cm:mymessage"/>

            <p:column headerText="Delete" style="width:50px">
                <p:commandButton id="deleteClient" value="Delete" onclick="confirmDeleteClient.show()" title="Delete this Client" styleClass="ui-icon-closethick">
                </p:commandButton>
            </p:column>
        </p:dataTable>
    </h:form> 
</h:body> 
```

clientUtility.java

```
@ManagedBean
@ViewScoped
public class ClientUitility {
private ClientBean client = new ClientBean();
private List<ClientBean> clientAll = new ArrayList<ClientBean>();
/** Creates a new instance of ClientUitility */
public ClientUitility() {
    clientAll = new ArrayList<ClientBean>();
    int userID = Integer.parseInt(FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("USER_ID").toString());
    clientAll = ClientService.GenerateClientList(userID);
}
public List<ClientBean> getClientAll() {
    return clientAll;
}
public void setClientAll(List<ClientBean> clientAll) {
    this.clientAll = clientAll;
}
public ClientBean getClient() {
    return client;
}
public void setClient(ClientBean client) {
    this.client = client;
}
public String onFlowProcess(FlowEvent event) {
    System.out.println("Current wizard step:" + event.getOldStep());
    System.out.println("Next step:" + event.getNewStep());
    System.out.println("First name : " + client.getfirstName());
    System.out.println("Last name : " + client.getlastName());
    System.out.println("Age name : " + client.getloginID());
    return event.getNewStep();
}
public void editRowListner(RowEditEvent rowEditEvent) {
    try {
        ClientBean updatedClient = (ClientBean) rowEditEvent.getObject();
        System.out.println("Client First Name: " + updatedClient.getfirstName());
        ClientService.EditClient(updatedClient);
        FacesContext context = FacesContext.getCurrentInstance();
        context.addMessage(null, new FacesMessage("Updated", updatedClient.getfirstName() + " " + updatedClient.getlastName()));
    } catch (Exception e) {
        e.getMessage();
    }
}
public void deleteRecord(ActionEvent actionEvent) {
    try {
        //System.out.println("Client ID: " + actionEvent.getComponent().getAttributes().get("cID").toString());
        System.out.println("delete client of User ID: " + FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("USER_ID").toString());
        FacesMessage msg = new FacesMessage("Client Deleted", "");
        FacesContext.getCurrentInstance().addMessage(null, msg);
    } catch (Exception e) {
        e.printStackTrace();
    }
}
public void save(ActionEvent actionEvent) {        client.setuserID(Integer.parseInt(FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("USER_ID").toString()));
    System.out.println("Client ID : " + client.getclientID());
    System.out.println("User ID : " + client.getuserID());
    ClientService.AddClient(client);
    client = new ClientBean();
    clientAll = ClientService.GenerateClientList(Integer.parseInt(FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("USER_ID").toString()));
    FacesMessage msg = new FacesMessage("Client Created", "");
    FacesContext.getCurrentInstance().addMessage(null, msg);
}
} 
```

请建议我在哪里弄错了？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-01T12:50:51.223

您不能也不应该嵌套表单。

在`ClientMaster.xhtml`, 替换

```
 <ui:include id="ce" src="ClientEditDatatable.xhtml"/>
        </h:form> 
```

经过

```
 </h:form>              
        <ui:include id="ce" src="ClientEditDatatable.xhtml"/> 
```

### 也可以看看：

*   [未调用 commandButton/commandLink/ajax 操作/侦听器方法或未更新输入值](https://stackoverflow.com/questions/2118656/hcommandlink-hcommandbutton-is-not-being-invoked)

# c++ - 简单的在线游戏服务器监控

> ID：10848295
> 
> 赞同：2
> 
> 时间：2012-06-01T10:07:37.647
> 
> 标签：c++

我想制作一个在win32上运行的工具来监控我们的在线游戏服务器。服务器实际上是 .exe 文件。我需要知道它们是否已经崩溃，以便我可以重新启动它们。因此，该工具将具有 2 个主要功能：

1.  经常检查服务器程序列表以查看它们是否正在运行
2.  重新打开任何已崩溃的服务器的可执行文件

有没有人有任何想法或知道一个 API 开始？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:15:28.430

如果你在 Win32 中，你可以从 C# 开始使用`System.Diagnostics`

```
using System.Diagnostics; 
```

然后得到一个进程列表：

```
Process[] processlist = Process.GetProcesses();

foreach(Process theprocess in processlist){
     Console.WriteLine(“Process: {0} ID: {1}”, theprocess.ProcessName, theprocess.Id);
} 
```

从那里开始，您要如何处理信息取决于您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:34:25.720

我意识到这并不是*您所要求的，但是使用诸如*[Nagios](http://www.nagios.org/)之类的成熟监控工具进行监控呢？您当然必须“教”监控工具了解应监控的流程，但您也将从其更高级的功能中受益。例如，在 Nagios 的情况下，这些将包括*自动电子邮件通知*、过程状态的在线*仪表板*、通过 SMS 的通知等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:28:16.787

游戏服务器应该产生日志。你应该做一个服务 / cron 作业来监控日志。根据日志的内容，你的服务应该采取相应的行动，例如重启服务、触发警报等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:44:29.393

您应该使用 Win32 api 中的 CreateProcess 或类似方法启动游戏服务器。您将在 lpProcessInformation 参数中取回一个进程句柄。

您可以使用 WaitForSingleObject 到 WaitForMultipleObjects 来等待通知该句柄，这将在进程因任何原因终止时发生。

# android - 从 android 应用程序运行 shell 脚本

> ID：10848311
> 
> 赞同：2
> 
> 时间：2012-06-01T10:08:37.233
> 
> 标签：android, shell, android-ndk

我有一个这样的shell脚本，

```
 #Script name : test.sh
    mkdir /boot
    mount -t vfat /dev/block/mmcblk0p1 /boot
    cp file1 /boot
    umount /boot

    mkdir -p /test1/test2/test3
    cp file2 /test1/test2
    cp file3 /test1/test2/test3
    STATUS=TRUE 
```

现在这个脚本位于 /test/ 目录中。我从 ac 函数调用这个脚本，该函数是通过 jni 从 android 应用程序调用的。我正在使用此函数在 C 中调用我的脚本

```
void Java_com_ndkdemo_NDKdemoActivity_systemcall(JNIEnv * env, jobject obj) {
    fp = popen(". /test/./test.sh; echo STATUS=$STATUS","r");
    while (fgets(buffer, sizeof (buffer), fp) != 0)
    {
        LOGD("%s",buffer);
    }
} 
```

现在，当我从我的活动中调用此系统调用函数时，它无法执行脚本 test.sh 中的命令如果我从普通 C 源代码编译二进制文件并在控制台上执行该二进制文件，则相同的脚本正在工作。我尝试使用“chmod 777 /test/test.sh”授予权限，但仍然无法正常工作。

任何帮助将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:20:42.040

如果您的 shell 解释器是`/system/bin/sh`：

*   [对于以shebang](http://en.wikipedia.org/wiki/Shebang_%28Unix%29)开头的 shell 脚本，制作它`#!/system/bin/sh`

*   尝试使用解释器路径本身而不是`.`字符来运行您的脚本

而且似乎[popen 可能不适用于旧版本的 Android](https://stackoverflow.com/questions/8910934/popen-on-android-ndk)。

# php - OAuth unsupported_grant_type

> ID：10848312
> 
> 赞同：1
> 
> 时间：2012-06-01T10:08:42.687
> 
> 标签：php, post, curl, oauth

我正在尝试通过 curl 将 OAuth 代码与授权令牌交换。服务器 API 文档说，我应该发送 POST 数据，并且我正在这样做：

```
$ch = curl_init();

curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);    // return result
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 0);    // disallow redirection
curl_setopt($ch, CURLOPT_TIMEOUT, 5);           // timeout 5s
curl_setopt($ch, CURLOPT_URL, $url);            // OAuth access token url
curl_setopt($ch, CURLOPT_POST, 1);              // send via POST

// I have prepared query arguments as an array $args
curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($args));

// Turning on some debug info
curl_setopt($ch, CURLINFO_HEADER_OUT, 1);

// Executing curl
$data = curl_exec($ch); 
```

问题出在服务器响应中。我总是收到 OAuth 错误：**unsupported_grant_type**。所有文档来源都说参数 grant_type 必须设置为“authorization_code”值（在此 OAuth 步骤的所有情况下），但无论如何它都不起作用。任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T14:42:41.253

这是针对 SalesForce OAuth 的吗？

如果是这样，他们需要设置 Content-Type 和 Content-Length，例如：

```
curl_setopt($ch, CURLOPT_HTTPHEADER, array("Content-type: application/x-www-form-urlencoded", "Content-length: ".strlen($params))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-23T22:45:12.403

由于（根据评论）`http_build_query($args)`返回一个数组，curl 正在发送带有内容类型的 POST `multipart/form-data`（请参阅[curl_setopt 的文档](http://us2.php.net/curl_setopt)）。OAuth 服务器可能需要`application/x-www-form-urlencoded`，在这种情况下`http_build_query`需要返回一个像`para1=val1&para2=val2&...`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-12T02:13:38.697

您的通用 CURL 请求应使用自定义

1.  表单数据参数/查询参数，
2.  内容类型

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-03T12:57:12.910

以下是使用来自谷歌服务器的 client_and client_secret 返回身份验证令牌的工作代码。

```
`tok_url:OAuth Token url, Auth_token: authentication token returned from google servers when cust_id and cust_secret are passed`

int get_refresh_token(char* tok_url,char* auth_token,char*cust_id,char*cust_secret)
{
    CURL *curl;
  CURLcode res;
    char data[1024]="\0";
    strcat(data,"code=");
    strcat(data,auth_token);
    strcat(data,"&client_id=");
    strcat(data,cust_id);
    strcat(data,"&client_secret=");
    strcat(data,cust_secret);
    strcat(data,"&redirect_uri=");
    strcat(data,"urn:ietf:wg:oauth:2.0:oob");
    strcat(data,"&grant_type=authorization_code");
    puts(data);

  /* In windows, this will init the winsock stuff */ 
  curl_global_init(CURL_GLOBAL_ALL);

  /* get a curl handle */ 
  curl = curl_easy_init();
  if(curl) {
    /* First set the URL that is about to receive our POST. This URL can
       just as well be a https:// URL if that is what should receive the
       data. */ 
    curl_easy_setopt(curl, CURLOPT_URL, tok_url);
    /* Now specify the POST data */ 
    curl_easy_setopt(curl, CURLOPT_POSTFIELDS, data);

    /* Perform the request, res will get the return code */ 
    res = curl_easy_perform(curl);
    /* Check for errors */ 
    if(res != CURLE_OK)
      fprintf(stderr, "curl_easy_perform() failed: %s\n",
              curl_easy_strerror(res));

    /* always cleanup */ 
    curl_easy_cleanup(curl);
  }
  curl_global_cleanup();
} 
```

# c# - 我可以使用 itextsharp 将图像转换为 PDF/A 文档吗？

> ID：10848313
> 
> 赞同：0
> 
> 时间：2012-06-01T10:08:42.873
> 
> 标签：c#, c#-2.0, itextsharp

我想使用 itextsharp 将图像转换为 pdf。但我想要 PDF/A 标准中的结果 pdf .. 请帮帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:19:42.533

请参阅[此示例](http://itextpdf.com/examples/iia.php?id=226)，了解如何使用 iText 生成符合 PDF/A 标准的文件。

尽管此示例使用 Java，但转换为 C# 应该很简单。

# facebook - 使用 As3 API 在 Facebook 中发布成就

> ID：10848314
> 
> 赞同：0
> 
> 时间：2012-06-01T10:08:45.977
> 
> 标签：facebook, facebook-as3-api

我在 Facebook 上为我的游戏注册了一项成就。但是你能帮我弄清楚如何使用 AS3 API 发布 Facebook 的成就吗？

是不是就像

```
var wallPostParams:Object ={
achievement :"achievemt url",
access_token :"xxxxxxxxxxxxx"
};

Facebook.postData('me/achievements/', postToWallCompleteHandler, wallPostParams); 
```

是这样发帖的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:09:33.270

遵循 Facebook 提供的[成就文档](http://developers.facebook.com/docs/achievements/)，让您的成就发挥作用。您首先必须在您的应用中注册成就，然后使用`/{user_id}/achievements`. 您需要向用户请求`publish_actions`许可。

如果成就未注册，您将收到错误消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T21:11:59.213

```
var method:String = facebookSession.uid+"/achievements"
var wallPostParams:Object ={
achievement :"achievemt url",
access_token :"xxxxxxxxxxxxx"
};

Facebook.postData(method, postToWallCompleteHandler, wallPostParams); 
```

简而言之，只需将“我”替换为用户 ID

# c++ - 找出最近 N 天的 DST 安全时间

> ID：10848319
> 
> 赞同：0
> 
> 时间：2012-06-01T10:09:08.650
> 
> 标签：c++, datetime, timezone, timezone-offset

假设今天是星期一。我想知道上周三是几号。

我认为的逻辑是1）从今天到上周六的天数差异（即6）2）从今天减去那么多秒

```
time_t now = time(0);
// determine the no of day differences i.e 6
time_t lastWeekTime = now - (86400 * 6); 
```

这不是 DST 安全的。有人能告诉我在这里我需要注意什么吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:03:47.750

[您可以使用localtime](http://www.cplusplus.com/reference/clibrary/ctime/localtime/)将 time_t 转换为 tm 结构。此结构包含作为值的天数 - 您可以添加/减去。您只需确保在必要时更改月份/年份。正确更改后，您可以使用[mktime](http://www.cplusplus.com/reference/clibrary/ctime/mktime/)将其转换回来。

尴尬但易于管理。这样你就不需要知道 DST，而只需要知道天/月和月/年的数量。

更好的方法可能是使用[Boost Date Time](http://www.boost.org/doc/libs/1_49_0/doc/html/date_time.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:24:43.567

日期没有 DST 的概念，它仅适用于日期时间，因为您需要一天中的一小部分来描述您是在切换之前还是之后。因此，2012 年 6 月 1 日星期五始终是 2012 年 6 月 1 日星期五，无论当天或之前或之后发生了多少 DST 切换。

您的方式已经是正确的方式，`time()`将为您提供自（unix）纪元以来的秒数，并且该比例不遵守夏令时开关，因此将与（实际上根据您的计算）`lastWeekTime % 86400`完全相同。`now % 86400`因此，如果您只需要日期，请确保不要打印时间组件，例如`now % 86400`从结果中减去并仅使用 UTC 函数 ( `gmtime()`/ `timegm()`)。

如果你想要这样的东西：今天是星期一，11:00 有约会。我想把它移到`N`几天前。然后使用您的算法从星期一`N`开始并手动设置时间部分：

```
time_t now = time(NULL);
time_t then = now - 86400 * N;
time_t then_eleven = (then - then % 86400) + 11 * 3600; 
```

# android - 首先选择什么资源文件夹，最后选择什么？

> ID：10848320
> 
> 赞同：0
> 
> 时间：2012-06-01T10:09:09.280
> 
> 标签：android, android-layout, android-resources

我有一些奇怪的错误，我必须深入检查我的布局和可绘制结构，一步一步，一个文件夹一个文件夹。我试图找到一个文档，它描述了 Android 如何打开一些可绘制对象或拉一些布局，即首先访问哪个文件夹，最后访问哪个文件夹 - 从 A 到 Z 的步骤。

有人可以指导我查看此类文档或（如果此类文档不存在）在此处向我描述这些步骤吗？

我的意思是说？就像我们有 Activity 生命周期文档，它说首先调用哪个方法，最后调用哪个方法，我需要一个文档，它会说这样的话`if the screen is Large Mdpi, then system will first look into X layout directory, then into Y and last into Z layout directory. If a screen is Large Mdpi, then the system will first pull a drawable from XX dir, then YY dir and lastly from ZZ dir`。像这样的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:13:28.693

首先它根据设备密度检查drawable文件夹，假设设备是hdpi，然后它会尝试从drawable-hdpi文件夹中提取图像（如果存在），否则它将查看drawable文件夹并相应地缩放它，因为drawable 通常被认为是 mdpi。这只是许多可用变体的一个示例。有关更多信息，请查看此链接。

[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:19:10.190

**第一个资源：**
1) android 根据正在运行的设备选择最合适的资源文件夹。

2）最佳文件夹取决于您为应用程序提供的文件夹，例如在平板电脑上运行的应用程序，如果未提供，它将选择 xlarge，然后它将搜索大 res 文件夹。等等。

**最后一个资源：**最后它将查找没有任何标识符的默认文件夹

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T11:31:53.397

这是解释一切的权利。它是由 Google Android 团队制作的。

[>> 链接<<](http://developer.android.com/guide/topics/resources/providing-resources.html#BestMatch)

( `http://developer.android.com/guide/topics/resources/providing-resources.html#BestMatch`)

# r - 使用 reshape 包合并列

> ID：10848322
> 
> 赞同：1
> 
> 时间：2012-06-01T10:09:26.343
> 
> 标签：r, casting, reshape, melt

我在数据框中有以下格式的数据：

```
id a b c d e f x y z
1  0 0 0 1 1 0 1 0 1 
2  1 0 0 1 0 0 1 0 0 
```

我想做的是找出 a 和 x 在同一个地方有多少次 1，a 和 y 在同一行中有多少次 1，依此类推。本质上，(a,b,c,d,e,f) 和 (x,y,z) 应该被分组为两个变量。

我一直在尝试使用 reshape 包（使用 melt 和 cast ）来做到这一点，我能想到的最好的东西看起来像下面这样：

```
id a b c d e f x y z
1  1 0 0 0 1 0 10 5 3 
2  0 1 0 1 0 0 25 0 48 
```

我想看到的是这样的：

```
 x    y    z
a 10   5    3
b 25   0    48 
```

我真的很感谢你在这方面的帮助。我是 reshape 包的新手。

问候，

阿伦

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T11:15:26.520

如果您的数据在 data frame`data`中，您可以执行以下操作：

```
mdata <- melt(data, measure.vars=c("a","b","c","d","e","f"))
mmdata <- melt(mdata, measure.vars=c("x","y","z"))
colnames(mmdata) <- c("var1","val1","var2","val2")
mmdata <- mmdata[mmdata$val1 & mmdata$val2,]
cast(mmdata, var1~var2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T11:07:29.683

这可能是一个解决方案，但可能会有更简单或更清洁的东西。它使用的是 double `sapply`，我认为我有一天不会使用它 :-) ：

这是您的数据：

```
d <- data.frame(a=c(1,0,1),
                b=c(1,0,0),
                c=c(0,1,1),
                x=c(1,1,1),
                y=c(1,0,0),
                z=c(1,0,1)) 
```

首先，我们在两组变量之间拆分数据：

```
d1 <- d[,c("a","b","c")]
d2 <- d[,c("x","y","z")] 
```

这是代码：

```
tmptab <- function(v1,v2) {
  tab <- as.data.frame(table(v1,v2))
  result <- tab$Freq[tab$v1==1 & tab$v2==1]
  if (is.na(result)) result <- 0
  return(result)
}

sapply(d2, function(v) {
  sapply(d1, tmptab, v)
}) 
```

这使 ：

```
 x y z
a 2 1 2
b 1 1 1
c 2 0 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-08T10:36:56.927

挖骷髅……

这是一种可能的方法。不知道它是否比其他人有任何改进......

```
## Save ourselves some typing...
Group1 <- c("a", "b", "c", "d", "e")
Group2 <- c("x", "y", "z")

## melt the data
A <- melt(mydf, id.vars="id")

## Split and merge
B <- Reduce(function(x, y) merge(x, y, by = "id"), 
            split(A, A$variable %in% Group1))

## Subset
B.sub <- B[B$value.x == 1 & B$value.y == 1, c("variable.y", "variable.x")]

## Factor (so table works nicely)
## Without `factor`, rows or columns which are all zeroes
##   will be dropped during the tabulation, which may be fine
B.sub$variable.y <- factor(B.sub$variable.y, Group1)
B.sub$variable.x <- factor(B.sub$variable.x, Group2)

## Tabulate
table(B.sub)
#           variable.x
# variable.y x y z
#          a 1 0 0
#          b 0 0 0
#          c 0 0 0
#          d 2 0 1
#          e 1 0 1 
```

# c# - serialPort_DataReceived 事件的问题

> ID：10848325
> 
> 赞同：2
> 
> 时间：2012-06-01T10:09:44.303
> 
> 标签：c#, events, serial-port

我在类通信下有一个功能

```
 public int SerialCommunciation()
    {
        /*Function for opening a serial port with default settings*/
        InitialiseSerialPort();

        /*This section of code will try to write to the COM port*/   
        WriteDataToCOM();

        /*An event handler */                   
       _serialPort.DataReceived += new SerialDataReceivedEventHandler(_serialPort_DataReceived);

       return readData;
    } 
```

这里

```
 int readData /*is a global variable*/ 
```

_serialPortDataRecieved() 根据从串口读取的数据更新变量 readData

```
 /* Method that will be called when there is data waiting in the buffer*/
    private void _serialPort_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)
    {

       string text = _serialPort.ReadExisting();
       int.TryParse(text, out readData);

    } 
```

现在当我从另一个类调用这个函数时

```
 valueReadFromCom=Communication.SerialCommunication() 
```

我需要从串口读取值，但我得到的是 0。当我尝试调试这段代码时，我发现控制首先进入语句

```
 return readData; 
```

在函数 SerialCommunication 中，然后控制转到函数 _serialPort_DataRecieved，由事件触发的函数。我怎样才能使整个过程同步，这意味着 readData 应该在函数 _serial_DataRecieved 执行后才从函数 serialCommunication 返回。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:17:55.927

请注意，以下不是正确的方式，因为串行端口异步工作。另一方面，它无论如何都可以完成工作。

只需添加一个布尔属性并在从 SerialCommunication 函数返回之前检查此属性；接收数据时将此属性设置为 true。

```
private bool dataReceived = false;   

public int SerialCommunciation()
{
    /*Function for opening a serial port with default settings*/
    InitialiseSerialPort();

    /*This section of code will try to write to the COM port*/
    WriteDataToCOM();

    /*An event handler */
    _serialPort.DataReceived += new SerialDataReceivedEventHandler(_serialPort_DataReceived);

    while (!dataReceived)
    {
        Thread.Sleep(1000);
    }
    return readData;
}

private void _serialPort_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)
{
   string text = _serialPort.ReadExisting();
   int.TryParse(text, out readData);
   _serialPort_DataReceived = true;
} 
```

# perl - 如何处理鼠标错误消息“'ArrayRef' 验证失败”？

> ID：10848326
> 
> 赞同：0
> 
> 时间：2012-06-01T10:09:45.133
> 
> 标签：perl, validation

我从文件`account_balance`中调用文件中的方法。我使用[GnuPG](http://p3rl.org/GnuPG)签署我发送给注册商的请求。当我运行时，我收到以下错误：`Test.pm``srstest.pl``srstest.pl`

```
Attribute (extra_args) does not pass the type constraint because: Validation failed for 'ArrayRef' with value --no-secmem-warning at /usr/local/lib64/perl5/Mouse/Util.pm line 361
Mouse::Util::throw_error('Mouse::Meta::Attribute=HASH(0x24d4970)', 'Attribute (extra_args) does not pass the type constraint beca...', 'data', '--no-secmem-warning', 'depth', -1) called at /usr/local/share/perl5/GnuPG/HashInit.pm line 6
GnuPG::HashInit::hash_init('GnuPG::Options=HASH(0x1dd69a0)', 'armor', 1, 'default_key', 'abc@test.com', 'homedir', '/root/.gnupg', 'extra_args', '--no-secmem-warning') called at /usr/share/perl5/vendor_perl/Test.pm line 1766
Test::_sign_client('Test=HASH(0x1db1d48)', 'REGISTRAR: 111111\x{a}REGISTRAR EMAIL: abc@test.com\x{a}P...') called at /usr/share/perl5/vendor_perl/Test.pm line 245
Test::account_balance('Test=HASH(0x1db1d48)', 'com') called at srstest.pl line 11 
```

文件中的第 1766 行`Test.pm`：

```
$gnupg->options->hash_init( armor   => 1,
    default_key => $registrar_email,
    homedir => $gpg_dir,
    extra_args => '--no-secmem-warning'
); 
```

我不明白出了什么问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:16:32.040

从错误中猜测：`extra_args`应该是数组引用，所以你应该将值作为匿名数组传递

```
extra_args => ['--no-secmem-warning'] 
```

# .net - 使用 FileUpload 控件上传视频文件时，会出现 HTTP 错误 400 - 错误请求等错误

> ID：10848327
> 
> 赞同：0
> 
> 时间：2012-06-01T10:09:45.693
> 
> 标签：.net

使用 FileUpload 控件上传视频文件时，会出现**HTTP 错误 400 - 错误请求等错误**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:11:40.030

在您的服务器上检查文件上传和 POST 请求的限制

# architecture - ASP.Net Web API 架构选择

> ID：10848332
> 
> 赞同：4
> 
> 时间：2012-06-01T10:09:55.607
> 
> 标签：architecture, knockout.js, asp.net-web-api, petapoco, single-page-application

以下是情况的示意图：

WEBSERVER <----> 中间件服务器 <----> 数据库

*   网络服务器：IIS / ASP.net 4.0 (WebForms & MVC)
*   中间件服务器：WCF Services
*   数据库服务器：甲骨文

Web 服务器与 Oracle 数据库在物理上是分开的。

我们想做的是在 Web 应用程序的前端使用 ASP.Net Web API 来将数据的快速绑定集成到使用 JQuery / KnockoutJS 的新单页应用程序中。因此，我们需要来自数据库中数据的 JSON API 才能使用 JQuery 进行访问。

我们想使用 PetaPoco 与数据库对话。

但是，WEB API 项目必须在中间件服务器上运行才能从数据库中获取数据。但是当然，我们永远无法在前端使用 JQuery 访问 WEB API。

我正在考虑在 Web 服务器上设置一个 WEB API，它使用不同的技术连接到中间件服务器，可能就像我们现在所做的那样，使用普通的旧 WCF。然而，这似乎太过分了。

有人对如何改进此架构有一些见解吗？我确定有人在类似的环境中使用 WEB API 设置了 SPA 应用程序。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T11:17:20.100

在过去的十年中，物理分层一直被认为是一件好事。N层很好。

这里的重点是每一层都应该提供一个**真正的价值**。仅仅为了分层而分层是不好的。

所以从历史上看，我们正在做：

1.  DB => 提供数据
2.  中间层 => 提供服务（应用于数据的业务逻辑）
3.  ASP.NET 网站（表示层）=> 提供渲染视图

现在有了 SPA 和新的支持 js 的富客户端，*视图在客户端上呈现*。因此，服务的表示层现在是多余的（尽管低端客户端可能仍然需要）。

我对典型的*非大数据*场景的建议是**2 个物理层**：

1.  DB => 提供数据
2.  服务层 => 提供服务

在服务层，我们将有**3 个逻辑层**：

1.  数据访问
2.  商业
3.  Web API 向支持 js 的客户端、其他客户端（Silverlight、Air 等）和其他服务和系统（联合、混搭、B2B 等）提供数据（和 MVC 向低端客户端提供渲染视图）

而且我相信支持 js 的富客户端。

# java - Java中的类C++友元类机制

> ID：10848333
> 
> 赞同：6
> 
> 时间：2012-06-01T10:09:59.463
> 
> 标签：java, friend

你知道我怎样才能让一个对象只能在一个特殊的类中改变吗？在此示例中，我希望对象 PrivateObject 只能在`Box`类内更改（可增加），其他任何地方都不能。有没有办法做到这一点？

```
public class Box { 

    private PrivateObject prv;

    public void setPrivateObject(PrivateObject p){
        prv = p;
    }

    public void changeValue(){
        prv.increment();

    }

}

public class PrivateObject {
    private value;
    public increment(){
        value++;
    }

}

PrivateObject priv = new PrivateObject ();
Box box = new Box();
box.setPPrivateObject(priv);
box.changevalue();
priv.increment(); // I don't want it to be changeable outside the Box class! 
```

在 C++ 中，我会将所有`PrivateObject`属性和方法设为私有，并将该类声明为`Box`该类的朋友`PrivateObject`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:16:11.823

如果与为什么不把它变成一个内部类里面`PrivateObject`有很强的关系呢？`Box``Box`

```
class Box { 

    public static class PrivateObject {
       private value;

       private increment(){
         value++;
       }
    }

    private PrivateObject prv;

    public void setPrivateObject(PrivateObject p){
        prv = p;
    }

    public void changeValue(){
        prv.increment();
    }       
} 
```

现在你不能`increment`从外面打电话`Box`：

```
public static void main(String args[]) {
    Box.PrivateObject obj = new Box.PrivateObject();
    Box b = new Box();
    b.setPrivateObject(obj);
    obj.increment(); // not visible     
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T10:16:18.577

最接近的方法是将 PrivateObject 设为 Box 的内部类并设为`increment`私有。这样，该方法将只能在`Box`类中访问。

```
public class Box {

    private PrivateObject prv;

    public void setPrivateObject(PrivateObject p) {
        prv = p;
    }

    public void changeValue() {
        prv.increment();

    }

    public static class PrivateObject {

        private int value;

        private void increment() {
            value++;
        }
    }
} 
```

如果您不想这样做，下一个选项是使`increment`包私有并在同一个包中找到 2 个类。这样，只有该包中的类才能访问该方法。但这可能包括 Box 以外的类。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-01T10:18:06.873

Java 没有任何与 C++ 的friend 关键字等效的语言特性。但是，有许多应用程序级别的替代方案：

1.  `increment()`将类的方法声明`PrivateObject`为 package-private 并在同一个包中定义 Box。

或者

2.让调用代码将令牌传递到`increment()`- 在此方法中检查此令牌是否确实来自`Box`类并允许或禁止。

这个想法是保持`PrivateObject`和`Box`类之间的耦合可管理。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-01T10:20:25.040

在 Java 中，您可以通过将多个类放在同一个包中来创建一组“朋友”。然后，在要限制访问的类、方法和字段上使用默认范围（无访问说明符）。

# android - 在 mapView 上正确显示图标

> ID：10848334
> 
> 赞同：0
> 
> 时间：2012-06-01T10:10:19.187
> 
> 标签：android, android-mapview

我正在构建一个 android mapView 应用程序，我使用图标来标记地图上的某些位置。出于某种原因，图标显示时周围带有黑色“阴影”。我怎样才能解决这个问题？

[http://img849.imageshack.us/img849/4695/capturexgy.jpg](http://img849.imageshack.us/img849/4695/capturexgy.jpg)

提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:16:10.837

在您的 ItemizedOverlay 中，尝试覆盖 onDraw 方法并为阴影传递 false 例如

```
@Override
    public boolean draw(Canvas canvas, MapView mapView, boolean shadow, long when) {
        return super.draw(canvas, mapView, false, when);
    } 
```

# java - 如何实现文档监听器

> ID：10848335
> 
> 赞同：3
> 
> 时间：2012-06-01T10:10:25.427
> 
> 标签：java, swing, user-interface, gridbaglayout, documentlistener

我创建了一些文本字段，我想从中使用用户输入。我已经读过我应该使用文档监听器，但是我在我认为正确的地方实施它时遇到了一些困难。

在代码中，我试图将它实现到文本字段 tf1。im 应该得到的输入被解析为双精度，这样我就可以对其进行一些数学计算。

这是我尝试实现它的代码。

```
import java.awt.ComponentOrientation;
import java.awt.Container;
import java.awt.Dimension;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.event.DocumentEvent;
import javax.swing.event.DocumentListener;

public class Display {
final static boolean shouldFill = true;
final static boolean shouldWeightX = true;
final static boolean RIGHT_TO_LEFT = false;

public static void addComponentsToPane(Container pane) {

    if (RIGHT_TO_LEFT) {
        pane.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
    }
    JButton button;
    JLabel label;

    pane.setLayout(new GridBagLayout());
    GridBagConstraints c = new GridBagConstraints();
    if (shouldFill) {
    //natural height, maximum width
    c.fill = GridBagConstraints.HORIZONTAL;
    }
    if (shouldWeightX) {
    c.weightx = 0.5;
    }

    ...

    button = new JButton("Value Bet");
    c.fill = GridBagConstraints.HORIZONTAL;
    c.ipady = 0;
    c.gridx = 0;
    c.gridy = 1;
    pane.add(button, c);
    button.addActionListener(new ActionListener() {

        public void actionPerformed(ActionEvent e)
        {
            //Execute when button is pressed
            JFrame frame = new JFrame("Value Bet");
            frame.setVisible(true);
            frame.setSize(500,300);
            GridBagLayout layout = new GridBagLayout();
            frame.setLayout(layout);
            GridBagConstraints c = new GridBagConstraints();

            JLabel label;
            JTextField tf;

            if (shouldFill) {
            //natural height, maximum width
            c.fill = GridBagConstraints.HORIZONTAL;
            }
            if (shouldWeightX) {
            c.weightx = 0.5;
            }

            ...

            final JTextField tf1 = new JTextField();
            c.fill = GridBagConstraints.HORIZONTAL;
            c.gridx = 1;
            c.gridy = 2;
            frame.add(tf1, c);

            tf1.getDocument().addDocumentListener(new DocHandler(){
                public class DocHandler implements DocumentListener{

                    @Override
                    public void changedUpdate(DocumentEvent arg0) {
                        tfHasChanged();

                    }

                    @Override
                    public void insertUpdate(DocumentEvent arg0) {
                        tfHasChanged();

                    }

                    @Override
                    public void removeUpdate(DocumentEvent arg0) {
                        tfHasChanged();

                    }

                }

                public void tfHasChanged(){
                    double chance1 = Double.parseDouble(tf1.getText());
                }
            });      

            ... div components

}

 private static void createAndShowGUI() {
        //Create and set up the window.
        JFrame frame = new JFrame("Betting Application");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        //Set up the content pane.
        addComponentsToPane(frame.getContentPane());

        //Display the window.
        frame.pack();
        frame.setVisible(true);
    }

 public static void main(String[] args) {
        //Schedule a job for the event-dispatching thread:
        //creating and showing this application's GUI.
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:22:35.523

对于数字，您必须实现 DocumentFilter 或直接将 JFormattedTextField 与数字格式化程序一起使用

然后可能的方式（块执行）代码行

```
formatter.setMinimum(0.0);
formatter.setMaximum(1000.00); 
```

并添加一些公式`textField1`，例如`textField1`等于来自`textField2`eg

```
import java.awt.*;
import java.awt.font.TextAttribute;
import java.math.*;
import java.text.*;
import java.util.Map;
import javax.swing.*;
import javax.swing.JFormattedTextField.*;
import javax.swing.event.*;
import javax.swing.text.InternationalFormatter;

public class DocumentListenerAdapter {

    public static void main(String args[]) {
        JFrame frame = new JFrame("AbstractTextField Test");
        final JFormattedTextField textField1 = new JFormattedTextField(new Float(10.01));
        textField1.setFormatterFactory(new AbstractFormatterFactory() {

            @Override
            public AbstractFormatter getFormatter(JFormattedTextField tf) {
                NumberFormat format = DecimalFormat.getInstance();
                format.setMinimumFractionDigits(2);
                format.setMaximumFractionDigits(2);
                format.setRoundingMode(RoundingMode.HALF_UP);
                InternationalFormatter formatter = new InternationalFormatter(format);
                formatter.setAllowsInvalid(false);
                formatter.setMinimum(0.0);
                formatter.setMaximum(1000.00);
                return formatter;
            }
        });
        final Map attributes = (new Font("Serif", Font.BOLD, 16)).getAttributes();
        attributes.put(TextAttribute.STRIKETHROUGH, TextAttribute.STRIKETHROUGH_ON);
        final JFormattedTextField textField2 = new JFormattedTextField(new Float(10.01));
        textField2.setFormatterFactory(new AbstractFormatterFactory() {

            @Override
            public AbstractFormatter getFormatter(JFormattedTextField tf) {
                NumberFormat format = DecimalFormat.getInstance();
                format.setMinimumFractionDigits(2);
                format.setMaximumFractionDigits(2);
                format.setRoundingMode(RoundingMode.HALF_UP);
                InternationalFormatter formatter = new InternationalFormatter(format);
                formatter.setAllowsInvalid(false);
                //formatter.setMinimum(0.0);
                //formatter.setMaximum(1000.00);
                return formatter;
            }
        });
        textField2.getDocument().addDocumentListener(new DocumentListener() {

            @Override
            public void changedUpdate(DocumentEvent documentEvent) {
                printIt(documentEvent);
            }

            @Override
            public void insertUpdate(DocumentEvent documentEvent) {
                printIt(documentEvent);
            }

            @Override
            public void removeUpdate(DocumentEvent documentEvent) {
                printIt(documentEvent);
            }

            private void printIt(DocumentEvent documentEvent) {
                DocumentEvent.EventType type = documentEvent.getType();
                double t1a1 = (((Number) textField2.getValue()).doubleValue());
                if (t1a1 > 1000) {
                    Runnable doRun = new Runnable() {

                        @Override
                        public void run() {
                            textField2.setFont(new Font(attributes));
                            textField2.setForeground(Color.red);
                        }
                    };
                    SwingUtilities.invokeLater(doRun);
                } else {
                    Runnable doRun = new Runnable() {

                        @Override
                        public void run() {
                            textField2.setFont(new Font("Serif", Font.BOLD, 16));
                            textField2.setForeground(Color.black);
                        }
                    };
                    SwingUtilities.invokeLater(doRun);
                }
            }
        });
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(textField1, BorderLayout.NORTH);
        frame.add(textField2, BorderLayout.SOUTH);
        frame.setVisible(true);
        frame.pack();
    }

    private DocumentListenerAdapter() {
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:30:29.170

**如果 tf1 是一个文本字段，那么文档侦听器实现了 3 个方法，如 changedUpdate、insertUpdate、removeUpdate**

```
tf1.getDocument().addDocumentListener(new DocumentListener() {

    @Override
        public void changedUpdate(DocumentEvent e){

                              //do some math
                               tf1.getText(); 
                                   }

        @Override
        public void insertUpdate(DocumentEvent e) {

                                  /do some math
                               tf1.getText(); 
        }

        @Override
        public void removeUpdate(DocumentEvent e) {
            // TODO Auto-generated method stub

        }
}); 
```

# php - 共享主机上的搜索引擎

> ID：10848340
> 
> 赞同：0
> 
> 时间：2012-06-01T10:10:51.607
> 
> 标签：php, search, solr, lucene, shared-hosting

我的网站在共享主机上，我想拥有一个强大的搜索引擎。

我无法安装 Solr 或 ElasticSearch，因为我的托管计划中未启用 Java。

我考虑过使用 zend_lucene，但我读到很多人在使用此解决方案时遇到性能问题，并且等待 8 秒搜索结果不是一种选择。

所以我想知道是否有其他一些符合我要求的好的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:16:17.313

并不是对您问题的技术方面的真正回答，而是对托管市场的反映。

共享主机并不意味着用于高性能或特殊需求。对于使用非常标准的软件（如 Wordpress、Drupal 或静态 HTML）的人们来说，这是一项极其简化的服务。这是残酷的事实。您也许可以找到一种解决方法，但不要期望它是可移植的，甚至性能良好。共享托管旨在为您不需要性能和功能的时候利用极其便宜的托管解决方案。

真正的解决方案是获得满足您需求的专用主机。您可以考虑使用通常更便宜的 VPS，或者只将搜索引擎放在另一个云服务中（例如，尝试 Google 自定义搜索）。

# jsf - java.lang.ClassNotFoundException : com.sun.faces.config.ConfigureListener

> ID：10848341
> 
> 赞同：18
> 
> 时间：2012-06-01T10:10:53.980
> 
> 标签：jsf, tomcat, classnotfoundexception

我们是三个开发 JSF 项目的人，我们之前没有接触过 JSF。奇怪的是，在从 SVN 签出相同数据的情况下，其中一名团队成员每次使用 Tomcat 7.0.27 时都会收到 404 错误。

在 Tomcat（在 Eclipse 内部使用）启动时，会写出以下日志：

```
01.06.2012 11:45:16 org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: ......
01.06.2012 11:45:16 org.apache.tomcat.util.digester.SetPropertiesRule begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:SnapManCloud' did not find a matching property.
01.06.2012 11:45:16 org.apache.coyote.AbstractProtocolHandler init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
01.06.2012 11:45:16 org.apache.coyote.AbstractProtocolHandler init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
01.06.2012 11:45:16 org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 677 ms
01.06.2012 11:45:16 org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
01.06.2012 11:45:16 org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.12
01.06.2012 11:45:17 org.apache.catalina.core.StandardContext listenerStart
FATAL: Error configuring application listener of class com.sun.faces.config.ConfigureListener
java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)
    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:415)
    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:397)
    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:118)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4638)
    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5204)
    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5199)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
01.06.2012 11:45:17 org.apache.catalina.core.StandardContext listenerStart
FATAL: Skipped installing application listeners due to previous error(s)
01.06.2012 11:45:17 org.apache.catalina.core.StandardContext startInternal
FATAL: Error listenerStart
01.06.2012 11:45:17 org.apache.catalina.core.StandardContext startInternal
FATAL: Context [/SnapManCloud] startup failed due to previous errors
01.06.2012 11:45:17 org.apache.coyote.AbstractProtocolHandler start
INFO: Starting ProtocolHandler ["http-bio-8080"]
01.06.2012 11:45:17 org.apache.coyote.AbstractProtocolHandler start
INFO: Starting ProtocolHandler ["ajp-bio-8009"]
01.06.2012 11:45:17 org.apache.catalina.startup.Catalina start
INFO: Server startup in 1279 ms 
```

我们使用 Mojarra 2.0.3 作为 JSF 实现，它已被 Eclipse 包含到项目中（并且可能包含在类路径中）。

确实有一个`com.sun.faces.config.ConfigureListener`条目`web.xml`

```
<listener>
     <listener-class>com.sun.faces.config.ConfigureListener</listener-class>
</listener> 
```

有没有人有任何起点在哪里寻找错误？另外，如果需要其他信息，请告诉我。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-06-01T11:52:12.407

JSF 通常捆绑在成熟的 Java EE 应用程序服务器中，例如 GlassFish、JBoss AS/EAP、WildFly、WebSphere、WebLogic 等。但是，Tomcat 是一个准系统 JSP/Servlet 容器，它仅捆绑 JSP 和 Servlet API，没有 JSF API .

如果要在 Tomcat 上使用 JSF，则需要将 JSF 库与 webapp 捆绑在其`/WEB-INF/lib`文件夹中，或者通过将 JSF 库放在其`/lib`文件夹中来在 Tomcat 中安装 JSF。显然，该应用程序是为真正的 Java EE 应用程序服务器设计的，因此不会将 JSF 库捆绑在`/WEB-INF/lib`.

有两个可用的 JSF 实现，[Mojarra](http://javaserverfaces.java.net/)和[MyFaces](http://myfaces.apache.org/)。该`com.sun.faces`包指示 Mojarra，所以下载那个并将其放在 webapp 的运行时类路径中（即在 webapp`/WEB-INF/lib`或 Tomcat 中`/lib`）。

* * *

另一个可能的原因是您将项目部署到使用 MyFaces 而不是 Mojarra 的 Java EE 应用程序服务器，而该项目显然最初是为 Mojarra 开发的。那个听众就是 Mojarra 特定的。在这种情况下，您最好`<listener>`从`web.xml`.

在任何情况下，Mojarra 的显式注册`ConfigureListener`实际上`web.xml`只需要解决旧的错误服务器，例如 GlassFish v3 和 Jetty，这些服务器未能在 Mojarra 的 TLD 文件中找到侦听器。当部署到一个像样的服务器时，整个`<listener>`条目是不必要的。

### 也可以看看：

*   [com.sun.faces.config.ConfigureListener 的配置](https://stackoverflow.com/questions/20264083/configuration-of-com-sun-faces-config-configurelistener)
*   [java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener 将 MyFaces 与 WASCE/Geronimo 一起使用时](https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us/)

# python - 使用 python 日志记录内存使用情况统计

> ID：10848342
> 
> 赞同：3
> 
> 时间：2012-06-01T10:11:07.567
> 
> 标签：python, logging

我在一个项目中工作，该项目使用 python 的日志记录模块来显示消息。我有自己的项目，该项目使用来自公共存储库的模块，因此我不想更改该部分代码中的任何日志记录语句。

但是，内存使用在我的程序中似乎是一个相当大的问题，所以我想在每个日志语句中记录内存使用情况，以及时间和消息，如下所示：

```
YYYY-MM-DD HH:MM:SS,mmm NAME LEVEL MemTotal:#M,Swap:#M MESSAGE 
```

有没有使用日志模块的简单方法来做到这一点？

我认为要走的路是使用过滤器添加上下文信息（参见[http://docs.python.org/howto/logging-cookbook.html#filters-contextual](http://docs.python.org/howto/logging-cookbook.html#filters-contextual))，但似乎没有办法一次将此过滤器添加到所有级别和记录器的所有实例。文档建议将过滤器添加到处理程序而不是记录器，否则它不会在外部模块中使用过滤器。以最明显的方式执行此操作（创建一个处理程序，添加过滤器，然后将处理程序附加到根记录器）但是给了我意想不到的行为。我要么根本没有输出，也没有错误消息，或者（首先使用 basicConfig 时）我得到了正确的行为，只是它也给出了错误消息。我怀疑在最后一种情况下，我实际上得到了两个处理程序，其中一个工作正常，另一个工作错误。

到目前为止，我已经提出了以下解决方案，我认为它不是很优雅（感谢[https://stackoverflow.com/a/938800/819110](https://stackoverflow.com/a/938800/819110)）。丑陋的部分是我必须手动从 Logger 中提取 Handler，并将 Filter 添加到其中。我似乎无法在配置文件中添加过滤器，这样会方便得多。尽管如此，这种方法似乎有效（在 Linux 上），尽管我怀疑应该有一种更直接的方法来做到这一点。

```
import logging
import external_module

class MemuseFilter(logging.Filter):
    def filter(self, record):
        """ This function overrides logging.Filter, adds memuse as a field
        """ 
        record.memuse = self.str_mem()
        return True

    # Following code from https://stackoverflow.com/a/938800/819110: 
    _proc_status = '/proc/%d/status' % os.getpid()
    _scale = {'kB': 1024.0, 'mB': 1024.0*1024.0,
              'KB': 1024.0, 'MB': 1024.0*1024.0}

    def _VmB(self,VmKey):
        """Private.
        """
        # get pseudo file  /proc/<pid>/status
        try:
            t = open(self._proc_status)
            v = t.read()
            t.close()
        except:
            return 0.0  # non-Linux?
        # get VmKey line e.g. 'VmRSS:  9999  kB\n ...'
        i = v.index(VmKey)
        v = v[i:].split(None, 3)  # whitespace
        if len(v) < 3:
            return 0.0  # invalid format?
        # convert Vm value to bytes
        return float(v[1]) * self._scale[v[2]]

    def memory(self,since=0.0):
        """Return memory usage in bytes.
        """
        return self._VmB('VmSize:') - since

    def swapsize(self,since=0.0):
        """Return swap size in bytes.
        """
        return self._VmB('VmSwap:') - since

    def byte_to_mb(self,byte):
        """return size in MB (being lazy)
        """
        return byte/(1024*1024)

    def str_mem(self):
        """Return a string with the total memuse and swap size in MB
        """
        return "MemTotal:%.0fM,Swap:%.0fM"%(\
            self.byte_to_mb(self.memory()),self.byte_to_mb(self.swapsize()) )

if __name__ == '_main__':
    logging.config.fileConfig('logging.conf') # Get basic config
    log = logging.getLogger('')               # Get root logger
    f = MemuseFilter()                        # Create filter
    log.handlers[0].addFilter(f)         # The ugly part:adding filter to handler
    log.warning("Foo")
    function_from_module_using_logging() 
```

读到这样的`external_module`东西：

```
log = logging.getLogger(__name__)
def function_from_module_using_logging():
    log.warning("Bar") 
```

是`logging.conf`这样的：

```
[loggers]
keys=root

[handlers]
keys=fileHandler

[formatters]
keys=memuseFormatter

[logger_root]
level=DEBUG
handlers=fileHandler

[handler_fileHandler]
class=FileHandler
level=DEBUG
formatter=memuseFormatter
args=('some.log','w')

[formatter_memuseFormatter]
format=%(asctime)-15s %(name)-5s %(levelname)-8s %(memuse)-22s %(message)s
datefmt= 
```

更好的解决方案将是最受欢迎的！

编辑：引用了错误的 SO 问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:17:04.903

首先，让我们澄清一个误解：记录器不是添加此信息的正确位置 - 记录器只不过是在字典中查找日志级别的键。没有必要为每个记录器添加内存使用量，因为格式化程序不会在那里查看。

正确的解决方案是编写自己的格式化程序（就像您所做的那样）并实现一个新变量。没有更好的方法来做到这一点。例如，您不想获取从未写入日志文件的记录器调用的内存信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T12:11:19.503

如果您使用的是 Python 2.7 或更高版本，则可以使用[`dictConfig()`](http://docs.python.org/library/logging.config.html#logging.config.dictConfig)，它确实支持配置中的过滤器。如果您使用的是较早版本的 Python，则可以使用该[`logutils`](http://pypi.python.org/pypi/logutils/)项目为您提供`dictConfig()`功能。`logutils`如果您不希望对`dictConfig()`.

# php - PDO - 获取当前插入的 ID

> ID：10848344
> 
> 赞同：8
> 
> 时间：2012-06-01T10:11:14.110
> 
> 标签：php, pdo

```
$query = "INSERT INTO news VALUES (NULL, :param1 , :param2  )";
$stmt = $pdo->prepare($query);

$params = array(
    "param1" => $p['title'],
    "param2" => $p['body'],
);

$data = $stmt->execute($params);

// here i would like get current inserted ID. Is possible?

$id = $data->id ???? ; 
```

我怎么能做这个？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-06-01T10:19:12.220

```
$query = "INSERT INTO news VALUES (NULL, :param1 , :param2  )";
$stmt = $pdo->prepare($query);

$params = array(
    "param1" => $p['title'],
    "param2" => $p['body'],
);

$data = $stmt->execute($params); 
```

所以你可以这样做以获得最后插入的 ID

```
$last_id = $pdo->lastInsertId(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T10:24:38.533

利用 ：

```
$last_insert_id = $pdo->lastInsertId(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T10:14:27.183

你可以使用[PDO::lastInsertId](http://php.net/manual/en/pdo.lastinsertid.php)

```
$last_insert_id = $pdo->lastInsertId(); 
```

# delphi - 如何禁用非模态形式的所有组件？

> ID：10848349
> 
> 赞同：0
> 
> 时间：2012-06-01T10:11:38.710
> 
> 标签：delphi, modal-dialog, vcl, tactionmanager

设想：

*   一个 TActionManager、一个 TAction 和一个 TButton（与此操作相关联）
*   ActionManager 在其 OnUpdate 事件处理程序中不断启用 Action
*   动作事件处理程序中的代码使用 ShellExecAndWait 方法启动外部程序（使用 Jedi 代码库 JCL）
*   要求：应用程序不应允许通过再次快速单击按钮来启动应用程序两次

问题：

*   ShellExecAndWait 不会阻塞应用程序消息循环，因此用户可以在外部应用程序仍处于打开状态时单击
*   如果 Action 处理程序方法在调用 ShellExecAndWait 之前禁用 Action，Update 方法将立即重新启用它

所以我可以这样写

```
procedure TMyForm.OnMyAction(Sender: TObject);
begin
  try  
    // notify Action Manager that the Action is temporarily disabled
    SomeGlobalFlag := True;

    // disable the action 
    (Sender as TAction).Enabled := False;

    // do the call
    ShellExecAndWait( ... );

  finally

    // enable the action 
    (Sender as TAction).Enabled := True;

    // allow ActionManager to control the action again
    SomeGlobalFlag := False; 

  end;
end; 
```

有没有更简单的方法？正如这个问题的标题所说 - 我可以阻止输入以执行外部应用程序吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T14:59:46.117

这取决于你希望你的程序对用户有多友好。

问题中显示的方法就足够了，但它可能会让用户想知道为什么按钮显示为禁用。如果您的程序使按钮保持启用状态，但在单击时改变了其行为，您的程序可能会更有帮助。它可以通知用户之前的程序仍在运行，而不是启动程序的另一个副本，甚至可能提供将焦点设置到该程序。

问题标题询问如何禁用表单上的*所有*控件。（表单是否是模态无关紧要；模态处理禁用*父*表单，而不是模态表单本身。）[Mjn 的答案](https://stackoverflow.com/a/10848586/33732)是通过暂停一个动作列表来做到这一点。这不会禁用与操作无关的控件，也不会禁用与不同操作列表关联的控件。它还可以禁用与同一操作列表关联的其他表单上的控件。

[Marck 的回答](https://stackoverflow.com/a/10851713/33732)隐含地禁用了所有控件，但可能会使用户感到困惑，因为没有任何控件*看起来*被禁用。这似乎类似于 Sertac[在评论中显然提到](https://stackoverflow.com/questions/10848349/how-can-i-disable-all-components-in-a-non-modal-form#comment14129480_10848586)的想法，以禁用整个表单。

要禁用表单上的所有控件并使其显示为禁用，您可以使用如下递归函数：

```
procedure EnableControls(Parent: TWinControl; Enabled: Boolean);
var
  i: Integer;
  Ctl: TControl;
begin
  for i := 0 to Pred(Parent.ControlCount) do begin
    Ctl := Parent.Controls[i];
    Ctl.Enabled := Enabled;
    if Ctl is TWinControl then
      EnableControls(TWinControl(Ctl), Enabled);
  end;
end; 
```

像这样使用它：

```
procedure TMyForm.OnMyAction(Sender: TObject);
begin
  EnableControls(Self, False);
  try
    ShellExecAndWait(...);
  finally
    EnableControls(Self, True);
  end;
end; 
```

由于我们直接修改`Enabled`控件的属性，这些属性将`Enabled`与任何关联操作的属性分离。这解决了当前的需求，但有一个不希望的副作用，即对操作`Enabled`属性的进一步修改不会影响此表单上的控件。

动作可以与多个控件相关联，并且控件可以驻留在多个表单上。由于更新的是*操作*，而不是直接更新控件，因此实际上没有一种方法可以使用操作仅在一个表单上禁用控件。

* * *

现在我们来讨论禁用*表单*上的所有*控件**是否*真的是引发这个问题的问题的正确解决方案。关于目标和建议的解决方案，这个问题有点分散。建议的解决方案是严厉的（禁用表单上的所有内容），因为实际上只需要阻止调用单个命令。并且不应该调用的命令与表单无关；无论有多少控件与任意数量的表单上的操作相关联，*都不*应调用该命令。因此，我们应该禁用该*操作*，并隐式禁用与之关联的任何控件，或者我们应该修改***`OnExecute`事件处理程序来检测重新进入。***

 ***问题中显示的解决方案是禁用操作的方法。设置一个标志以指示该操作正在执行，并在执行完成时清除它。检查`OnUpdate`事件处理程序中的标志。不过，无需手动禁用`OnExecute`处理程序中的操作；`Execute`动作已经在他们的方法中更新了自己。所以我们有这个代码：

```
var
  ActionIsExecuting: Boolean = False;

procedure TMyForm.OnMyAction(Sender: TObject);
begin
  // notify Action Manager that the Action is temporarily disabled
  ActionIsExecuting := True;
  try  
    // do the call
    ShellExecAndWait( ... );
  finally
    // allow ActionManager to control the action again
    ActionIsExecuting := False; 
  end;
end;

procedure TSomeModule.ActionUpdate(Sender: TObject);
begin
  (Sender as TAction).Enabled := not ActionIsExecuting and ...
end; 
```

这需要多个代码部分就如何处理此操作的执行进行合作。动作更新代码需要知道动作需要能够暂时禁用自己。

对于更独立的解决方案，我们可以不理会`OnUpdate`事件，只保持操作一直启用。相反，我们将在本地跟踪重新进入并通知用户：

```
procedure TMyForm.OnMyAction(Sender: TObject);
{$J+} // a.k.a. $WRITABLECONST ON
const
  ActionIsExecuting: Boolean = False;
{$J-}
begin
  if ActionIsExecuting then begin
    ShowMessage('The program is still running. Please wait.');
    exit;
  end;

  ActionIsExecuting := True;
  try
    ShellExecAndWait(...);
  finally
    ActionIsExecuting := False;
  end;
end; 
```

Mjn 的回答称用于设置状态和管理 try-finally 块的五行代码是“太多样板”。您可以使用接口对象和辅助函数将其简化为一行：

```
type
  TTemporaryFlag = class(TInterfacedObject)
  private
    FFlag: PBoolean;
  public
    constructor Create(Flag: PBoolean);
    destructor Destroy; override;
  end;

function TemporaryFlag(Flag: PBoolean): IUnknown;
begin
  Result := TTemporaryFlag.Create(FFlag);
end;

constructor TTemporaryFlag.Create;
begin
  inherited;
  FFlag := Flag;
  FFlag^ := True;
end;

destructor TTemporaryFlag.Destroy;
begin
  FFlag^ := False;
  inherited;
end; 
```

像这样使用它：

```
begin
  TemporaryFlag(@ActionIsExecuting);
  ShellExecAndWait(...);
end; 
```

该函数返回一个接口引用，编译器将其存储在隐式声明的临时变量中。在代码的最后，该变量被销毁，存储的接口对象被释放，将标志返回到其先前的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:25:22.933

此解决方案取决于实际的 Action 或 ActionManager 组件。仍然有太多的“样板”代码。也非常脆弱，因为它假设 Sender 是一个 TAction 实例。

```
procedure TMyForm.OnMyAction(Sender: TObject);
begin
  try  
    // disable all actions 
    (Sender as TAction).ActionList.State := asSuspended; 

    // do the call
    ShellExecAndWait( ... );

  finally

    // enable all actions 
    (Sender as TAction).ActionList.State := asNormal; 

  end;
end; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T14:00:48.573

您可以将所有 ui 元素放在面板上，然后禁用面板。您的应用程序仍将响应移动、调整大小、重绘等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-03T09:10:17.390

的实现`EnableControls`遭受了一些奇怪的事情：

*   并非表单上的所有组件都同时启用

所以禁用所有（不保存以前的状态）是一个很大的失误。

要正确执行此操作，您需要创建一个组件列表并存储指向该组件和之前启用状态的指针，因此在恢复时您可以恢复之前的状态。

最糟糕的是，这种方式也不完全正确，因为某些代码可能会更改某些组件的启用状态，并且在恢复该组件的启用状态时不能恢复......所以没有简单的方法可以禁用/重新启用。 .. 更不用说代码是否依赖于某些组件的启用状态。

我现在不记得我过去是怎么做的了...但是有一句话可以阻止鼠标和键盘的表单（忽略它们），而另一个可以取消阻止它...这就是我想要找到的当我从谷歌来到这里时......可能与（`TMouseActivate`）有关，但我记得它也阻止键盘，所以也许这还不够：

```
procedure TMyForm.FormMouseActivate(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y, HitTest: Integer; var MouseActivate: TMouseActivate);
begin
     if YourCondition
     then beign
               MouseActivate:=maNoActivateAndEat;
          end;
end; 
```

我记得我没有使用以下内容，但它也可以使用：

```
procedure BlockInput(ABlockInput:Boolean);stdcall;external 'USER32.DLL';
...
procedure TMyForm.MyEvent(Sender:TObject);
begin
     BlockInput(True);
     // Your code, long loop, etc
     BlockInput(False);
end; 
```***

# arrays - 覆盖数组中的变量 - Smarty

> ID：10848360
> 
> 赞同：1
> 
> 时间：2012-06-01T10:12:08.113
> 
> 标签：arrays, smarty, cs-cart

有点奇怪，但我正在使用一个名为 CS-Cart 的电子商务平台，它使用 smarty 作为模板语言。它有一个聪明的调试控制台，可以让我看到当前页面正在使用哪些变量。

例如，这里是一个正在使用的数组（我已经缩短了这个例子）：

```
 Appearance => Array (33)
  products_per_page => "10"
  admin_products_per_page => "10"
  admin_elements_per_page => "10"
  columns_in_products_list => "3"
  default_products_sorting => "price" 
```

我希望能够为`default_products_sorting => "price"` 我计划在文档的标题中执行此操作分配不同的值，因为它将包含在 IF 语句中，只有在某些条件为真时才会更改变量。

这在smarty中甚至可能吗？（不使用 PHP），如果是这样，关于如何实现这一点的任何想法？我已经搜索了谷歌，但到目前为止还是一片空白。

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:22:33.363

您可以像这样更改变量

```
{$Appearance.default_products_sorting = "NEW_VALUE"} 
```

在这一行之后，如果你使用`{$Appearance.default_products_sorting}`你应该得到新的值。

我刚刚检查过，它有效。

您应该在 smarty 模板的顶部更改它，以便使用此变量的任何代码都获得更新的值。

看起来上面的方法不适用于`arrays`. 您可以考虑使用此链接中的自定义函数[http://www.smarty.net/forums/viewtopic.php?t=7201&highlight=create+array](http://www.smarty.net/forums/viewtopic.php?t=7201&highlight=create+array)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-05T07:35:33.633

`{php}$this->_tpl_vars['Appearance']['default_products_sorting'] = "value";{/php}`

我没有在 WHMCS 之外对此进行过测试，但通过快速搜索，它看起来仍然适用。

在这里找到：http: [//forum.whmcs.com/showthread.php?28490-Modify-single-item-of-smarty-array](http://forum.whmcs.com/showthread.php?28490-Modify-single-item-of-smarty-array)

# android - 如何自定义微调器视图？

> ID：10848361
> 
> 赞同：2
> 
> 时间：2012-06-01T10:12:10.303
> 
> 标签：android, spinner

我想自定义 Spinner。微调器中的选择器在 Mobile 中看起来不合适。任何帮助将不胜感激。

# css - Css box-shadow 在Firefox中不起作用

> ID：10848366
> 
> 赞同：3
> 
> 时间：2012-06-01T10:12:20.740
> 
> 标签：css

为什么这个盒子阴影在 Firefox 中不起作用..但它在 chrome 中显示阴影..

```
 #slideshow { 
        margin: 80px auto; 
        position: relative; 
        width: 701px; 
        height: 321px; 
        padding: 10px; 
        box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }

    #slideshow > div { 
        position: absolute; 
        top: 10px; 
        left: 10px; 
        right: 10px; 
        bottom: 10px; 
    } 
```

我也给出了重要但没有工作..我正在使用jquery滑块..所以我认为html结构以某种方式搞砸了定位。

任何的想法..

谢谢 ！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:13:46.090

嗨，像这样适用于**浏览器套件**

```
firefox and chrome 
```

-

```
-moz-box-shadow: 0 0 20px rgba(0,0,0,0.4); 
-webkit-box-shadow: 0 0 20px rgba(0,0,0,0.4); 
box-shadow: 0 0 20px rgba(0,0,0,0.4); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T10:43:15.967

可用于所有浏览器：

```
box-shadow: 0 0 20px rgba(0,0,0,0.4);
-moz-box-shadow: 0 0 20px rgba(0,0,0,0.4);
-webkit-box-shadow: 0 0 20px rgba(0,0,0,0.4);
-ms-box-shadow: 0 0 20px rgba(0,0,0,0.4);
-o-box-shadow: 0 0 20px rgba(0,0,0,0.4); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-01T10:18:24.653

您应该为此使用浏览器供应商前缀。使用 CssPrefixer [http://cssprefixer.appspot.com/](http://cssprefixer.appspot.com/)

# google-places-api - 来自搜索、地点的 CID

> ID：10848374
> 
> 赞同：0
> 
> 时间：2012-06-01T10:13:15.020
> 
> 标签：google-places-api, google-play

在我的应用程序中，我必须对 api search 进行两次调用以获取参数 CID：

*   从位置搜索地点

*   获取地点的参考，并使用此参考再次调用。

*   获取网址（带 cid）

是否可以在第一次通话中获得 CID（从位置搜索）？每个结果只有我得到：-reference -id

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T02:14:25.350

只能使用上述过程检索 CID。如果您认为在初始地点搜索请求中返回 CID 将是一项有用的功能，您可以在[此处](http://code.google.com/p/gmaps-api-issues/issues/entry?template=Places%20API%20-%20Feature%20Request)提交“地点 API - 功能请求” 。

# binding - 模板绑定内的敲除模板绑定

> ID：10848376
> 
> 赞同：0
> 
> 时间：2012-06-01T10:13:22.087
> 
> 标签：binding, knockout.js

我一直在通过 ko.applyBindings(mww.vm) - ViewModel - 使用 ko.obsevableArray 和 ko 模板来迭代和显示：

```
mww.vm = (function () {
    var 
    loadWishlists = function () {
        mww.vm.wishlists.removeAll();
        $.each(mww.sampleData.data.wishlists, function (i, w) {
            mww.vm.wishlists.push(new mww.Wishlist()
                .WishlistId(w.WishlistId)
                .Name(w.Name)
                .Ocassion(w.Ocassion)
                .Date(w.Date)
            );
        });
    }

    addWishlist = function () {
        mww.vm.wishlists.push(new mww.Wishlist()
            .WishlistId(0)
            .Name($('#NameTxt').val())
            .Ocassion($('#OccassionTxt').val())
            .Date($('DateTxt').val())
        );
    };

    return {
        wishlists: ko.observableArray([]),
        friends: ko.observableArray([]),
        loadWishlists: loadWishlists,
        addWishlist: addWishlist
    };
})(); 
```

模板：

```
<div id="WishlistTempl" style="display:none;">
<div class="WishlistBox">
    <div class="wwBox">
        <div class="BoxHeading">
            <div class="ButtonPanel">
            <span data-bind="text:Name"></span>
        </div>
        <div class="FriendPicker" data-bind="template: {name:'FriendTmpl', foreach:$parent.friends}"></div>
    </div>
</div> 
```

它可以工作，但是当我使用 addWishlist，在愿望清单 ko.observableArray 中推送一个新项目时，愿望清单的属性会显示在模板中，但不会显示在 $parent.friends 中。有任何想法吗？

# php - 如何使用包含表单数据的 PHP 标头函数重新定向？

> ID：10848377
> 
> 赞同：0
> 
> 时间：2012-06-01T10:13:22.837
> 
> 标签：php, forms, header

我正在使用一个非常传统的 php 表单在表单站点上工作，该表单在输入数据后通过电子邮件将数据发送给我自己，然后使用 header 函数将用户重定向到 html 页面。

我想知道是否可以更改标头函数以重定向到一个 php 页面，该页面将显示在表单中输入的数据。这可能吗？你是怎么做的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:15:08.057

可以，但需要通过 http 发送数据`GET`。例如：

```
$foo = $_POST['foo'];
$bar = $_POST['bar'];
header('Location: http://example.com/index.php?var1=$foo&var2=$bar'); 
```

但是，更好的解决方案是在同一个页面中处理提交，这样就可以直接显示数据：

```
echo htmlentities($_POST['foo']); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:15:18.673

你不能这样做，但你可以将发布的数据放入 $_SESSION 变量中，然后重定向用户。

# java - request.getHeader("User-Agent") 抛出 npe

> ID：10848379
> 
> 赞同：2
> 
> 时间：2012-06-01T10:13:33.120
> 
> 标签：java, jakarta-ee

我想确认 request.getHeader("User-Agent") 是否可以抛出空指针异常，如果是，那么在什么情况下它会抛出 NPE。

```
<% if (request.getHeader("User-Agent").toLowerCase().indexOf("msie") != -1) { %> 
```

提前致谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-01T10:20:58.310

不，

```
request.getHeader("User-Agent") 
```

永远不应该抛出 a `NPE`，但它可能会返回`null`，在这种情况下，您的代码将通过 a `NPE`。

（我假设 request 是一个`HTTPServletRequest`或类似的实例）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-01T10:18:07.803

`request.getHeader("User-Agent")``null`如果客户端未发送标头，则可能会返回`User-Agent`（这不是强制性的）。将您的代码更改为：

```
String userAgent = request.getHeader("User-Agent");
if (userAgent != null && userAgent.toLowerCase().indexOf("msie") != -1) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:15:36.237

当然，有可能不发送任何类型的“User-Agent”标头。在这种情况下，您的代码 throw NPE - `request.getHeader("User-Agent")`== null => null 没有`toLowerCase()`方法。

将您的 if 更改为以下内容： `<% if (request.getHeader("User-Agent") != null && request.getHeader("User-Agent").toLowerCase().indexOf("msie") != -1) { %>`

浏览器决定如何向服务器介绍自己，有大量浏览器插件允许将用户代理更改为您想要的任何文本。另一个例子，您的互联网网关肯定可以`user-agent`从任何通过它的 http 数据包中更改/删除。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:50:44.533

大多数浏览器或客户端`User-Agent header`在这种情况下发送，`request.getHeader("User-Agent")`不应为空。

但是，某些客户端/浏览器可能不会发送`User-Agent header`，在这种情况下您的代码可能会引发 NPE。

您应该处理 null 情况。

# android - 三星 Galaxy Note 更新到 android 4 后未从 layout-large 获取 xml 文件

> ID：10848386
> 
> 赞同：4
> 
> 时间：2012-06-01T10:13:50.770
> 
> 标签：android

在我的应用程序中，我有小型、正常和大型布局。最初，当我购买三星 Galaxy Note 时，它​​带有 android 2.3.3，我在三星 Galaxy Note 中测试了我的应用程序，当时它采用布局形式 layout-large 并且一切正常。

但是一旦我将我的设备更新到 android 4。它开始采用布局形式 layout-normal，因此我的一些页面对齐方式发生了变化。所以我想知道为什么会发生这种情况，有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T05:15:40.097

我`getResources().getConfiguration();`在`onCreate`我的 .in 中玩了一下`MainActivity`，发现该设备正在使用 400dp 的最小宽度，所以我将 Galaxy Note 的**布局放在 layout-sw400dp**文件夹中，它工作正常。设备上安装了 Android 4.0.3。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T16:32:17.670

该设备仍在报告相同的显示指标。密度/屏幕宽度和高度没有改变。但是当您升级到 ICS (Android 4) 时，它开始将显示指标解释为普通尺寸的屏幕，而 Gingerbread (Android 2.3) 会说这些完全相同的显示指标是大尺寸屏幕。

解决这个问题的方法是针对三星 Galaxy Note 和其他属于这个奇怪类别的屏幕，创建一个名为：

```
layout-large-port-xhdpi-1280x800 
```

并将您的大型或普通布局放入该资源中。这将强制您的三星 Galaxy Note 使用您喜欢的布局，并使用任一操作系统版本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T11:45:55.310

从 Android 3.2（API 级别 13）开始，尺寸组（layout-small、layout-normal、layout-large 和 layout-xlarge）已被弃用，您应该改用 sw<N>dp 配置限定符来定义可用的最小尺寸组布局资源所需的宽度。例如，如果您的布局需要至少 600dp 的屏幕宽度，则应将其放置在 layout-sw600dp/ 中。

参考：http: [//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-13T01:19:28.693

您可以使用 layout-sw400dp-land 或 layout-sw400dp。

即使使用 Cianogenmod ROM，也适用于 Galaxy Note 1。

# sql-server-2008 - SQL Server 2008 到 SQL Azure sp_helpuser 和 sp_send_dbmail

> ID：10848397
> 
> 赞同：4
> 
> 时间：2012-06-01T10:14:45.897
> 
> 标签：sql-server-2008, migration, azure-sql-database

我收到以下消息：azure 不支持以下 sp_helpuser 和 sp_send_dbmail。

解决此问题的推荐方法是什么？

这里是使用这些 sp 的地方：

```
CREATE PROCEDURE [dbo].[aspnet_Setup_RemoveAllRoleMembers]
    @name   sysname
    AS
    BEGIN
    CREATE TABLE #aspnet_RoleMembers
(
    Group_name      sysname,
    Group_id        smallint,
    Users_in_group  sysname,
    User_id         smallint
)

INSERT INTO #aspnet_RoleMembers
EXEC sp_helpuser @name <--here it is

DECLARE @user_id smallint
DECLARE @cmd nvarchar(500)
DECLARE c1 cursor FORWARD_ONLY FOR
    SELECT User_id FROM #aspnet_RoleMembers

OPEN c1

FETCH c1 INTO @user_id
WHILE (@@fetch_status = 0)
BEGIN
    SET @cmd = 'EXEC sp_droprolemember ' + '''' + @name + ''', ''' + USER_NAME(@user_id) + ''''
    EXEC (@cmd)
    FETCH c1 INTO @user_id
END

CLOSE c1
DEALLOCATE c1
END
GO 
```

而另一个sp：

```
CREATE PROCEDURE [dbo].[spSendMail]
@To VARCHAR(200),
@Subject VARCHAR(200),
@Body VARCHAR(MAX) = '',
@From VARCHAR(50) = 'info.pt@consultaclick.com',
@format VARCHAR(20) = 'HTML' --HTML
 AS

DECLARE
@profile VARCHAR(50)

select @profile = P.DBMailProfile from tblPaises P INNER JOIN tblParametros PR On P.Codigo = PR.Pais

EXEC MSDB..sp_send_dbmail @profile_name = @profile,
        @recipients =  'someone@somewhere.pt;someon@somehwere.pt',
        --@recipients =  @To,
        --@from_address = @From,
        @subject = @Subject,
        @Body = @Body,
        @body_format = @format
GO 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T22:21:42.850

是的，SQL Azure 不支持“sp_helpuser”，所以如果你想模拟另一个用户，你可以使用“EXECUTE AS USER”。更多细节在[这里](http://msdn.microsoft.com/en-us/library/ms188354.aspx)。

SQL Azure 也不支持“msdb.dbo.sp_send_dbmail”，但是这里有一个为您[提供解决方案的博客](http://vpolizzi.wordpress.com/2010/09/11/database-mail-on-sql-azure/)。也可能有其他解决方案，但您肯定可以考虑使用最重要的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-05-19T11:35:16.750

我们刚刚遇到了同样的问题/感谢到目前为止回复的所有人为我们指明了正确的方向。我已经完成了一个快速修复，将`sp_helpuser`函数替换为脚本以获取给定角色的所有成员。注意：我没有重新创建`sp_hepuser`自己，因为可以从其他范围调用；但已修改`aspnet_Setup_RemoveAllRoleMembers`为直接查询基础表，而不是调用`sp_helpuser`.

```
ALTER PROCEDURE [dbo].[aspnet_Setup_RemoveAllRoleMembers]
    @name   sysname
    AS
BEGIN
    CREATE TABLE #aspnet_RoleMembers
    (
        Group_name      sysname,
        Group_id        smallint,
        Users_in_group  sysname,
        User_id         smallint
    )

    INSERT INTO #aspnet_RoleMembers (Group_name, Group_id, Users_in_group, User_id)
    --begin code to replace sp_helpuser
    select roles.name Role_name
    , roles.principal_id Role_id
    , members.name Users_in_role
    , members.principal_id Userid
    from sys.database_principals roles
    inner join sys.database_role_members link on link.role_principal_id = roles.principal_id
    inner join sys.database_principals members on members.principal_id = link.member_principal_id
    where roles.type = 'R'
    and roles.name = @name
    --end code to replace sp_helpuser

    DECLARE @user_id smallint
    DECLARE @cmd nvarchar(500)
    DECLARE c1 cursor FORWARD_ONLY FOR
        SELECT User_id FROM #aspnet_RoleMembers
    OPEN c1
        FETCH c1 INTO @user_id
        WHILE (@@fetch_status = 0)
        BEGIN
            SET @cmd = 'EXEC sp_droprolemember ' + '''' + @name + ''', ''' + USER_NAME(@user_id) + ''''
            EXEC (@cmd)
            FETCH c1 INTO @user_id
        END
    CLOSE c1
    DEALLOCATE c1
END
GO 
```

我们还没有测试过这个解决方案；所以使用风险自负......希望它有所帮助......

# shell - 使用 CygWin 构建 Bochs：“没有制定目标的规则”

> ID：10848405
> 
> 赞同：2
> 
> 时间：2012-06-01T10:15:19.803
> 
> 标签：shell, command-line, compilation, makefile, cygwin

我正在使用 CygWin 从源代码构建**Bochs 。**

# 我已经做了什么：

1.  更改我的`$PATH`变量的值以使用 CygWin`find`而不是 Windows `find`：`PATH='/cygdrive/c/Programme/cygwin/bin':${PATH}`
2.  **配置**：执行我的配置脚本（见下文）：`./.conf.my-win32-vcpp`
3.  **建设**通过`make win32_snap`
4.  **通过**安装**`make install` **（未成功）****

 **# 我的问题：

如何从源代码构建和安装 Bochs（没有这些问题）？任何的想法？

谢谢。

# 我的配置脚本：

```
#!/bin/sh

set echo

./configure --target=pentium-windows \
            --enable-sb16 \
            --enable-ne2000 \
            --enable-all-optimizations \
            --enable-cpu-level=6 \
            --enable-x86-64 \
            --enable-pci \
            --enable-clgd54xx \
            --enable-usb \
            --enable-usb-ohci \
            --enable-show-ips \
            --enable-disasm \
            --enable-iodebug \
            --enable-logging \
            --enable-debugger-gui \
            --disable-readline \
            --without-x \
            --with-win32 \
            --with-rfb \
            --with-nogui \
            --with-wx

unset echo

# Fix up all makefiles so that nmake can handle them.
for i in `find . -name Makefile`; do
  echo Removing curly brackets in $i for NMAKE.
  mv $i $i.tmp
  sed -e 's/{/(/g' -e 's/}/)/g' < $i.tmp > $i
  rm -f $i.tmp
done 
```

# 错误消息：

当我运行我的配置脚本 ( `./.conf.my-win32-vcpp`) 时，我收到了一些警告，但它成功执行了：

```
[...]
configure: WARNING: pthread.h: present but cannot be compiled
configure: WARNING: pthread.h:     check for missing prerequisite headers?
configure: WARNING: pthread.h: see the Autoconf documentation
configure: WARNING: pthread.h:     section "Present But Cannot Be Compiled"
configure: WARNING: pthread.h: proceeding with the compiler's result
[...] 
```

并且在评估时没有任何问题`make win32_snap`。但是当我尝试时`make install`，`Error 2`会发生：

```
cd iodev
C:/gnuwin/make  libiodev.a
make[1]: Entering directory `C:/Users/JK/Downloads/bochs-2.5.1'
make[1]: *** No rule to make target `libiodev.a'.  Stop.
make[1]: Leaving directory `C:/Users/JK/Downloads/bochs-2.5.1'
make: *** [iodev/libiodev.a] Error 2 
```

# 我的环境：

我在 Win64 上使用**CygWin**的外壳。`sh`我的`$PATH`：

> `/cygdrive/c/cygwin/:/cygdrive/c/Program Files/Common Files/Microsoft Shared/Windows Live:` *(...)* `:/cygdrive/c/prog-x86/MinGW/bin:` *(...)* `:/cygdrive/c/Program Files/Java/jdk1.6.0_24/bin:/cygdrive/c/Program Files/Java/jdk1.6.0_24/jre/bin:/cygdrive/c/Windows/system32` *(...)* `:/cygdrive/c/gnuwin:/usr/bin` *(...)*

我正在使用 GnuWin 的`make`：

```
sh-4.1$ type make
make is hashed (/cygdrive/c/gnuwin/make) 
```

# 我的目录树：

### 文件夹：

```
sh-4.1$ tree -d
.
|-- bios
|-- build
|   |-- linux
|   |-- macos
|   |-- macosx
|   |-- redhat
|   `-- win32
|       `-- nsis
|-- bx_debug
|-- cpu
|   `-- cpudb
|-- disasm
|-- doc
|   |-- docbook
|   |   |-- development
|   |   |-- documentation
|   |   |-- images
|   |   |-- include
|   |   `-- user
|   `-- man
|-- docs-html
|-- fpu
|-- gui
|   |-- bitmaps
|   |-- font
|   `-- keymaps
|-- host
|   `-- linux
|       `-- pcidev
|-- instrument
|   |-- example0
|   |-- example1
|   |-- example2
|   `-- stubs
|-- iodev
|-- memory
|-- misc
|   `-- sb16
|-- patches
`-- vs2008

40 directories 
```

### 文件：

```
sh-4.1$ tree
.
|-- CHANGES
|-- COPYING
|-- Makefile
|-- Makefile.in
|-- PARAM_TREE.txt
|-- README
|-- README-plugins
|-- README-wxWindows
|-- README.rfb
|-- TESTFORM.txt
|-- TODO
|-- aclocal.m4
|-- bios
|   |-- BIOS-bochs-latest
|   |-- BIOS-bochs-legacy
|   |-- Makefile
|   |-- Makefile.in
|   |-- VGABIOS-elpin-2.40
|   |-- VGABIOS-elpin-LICENSE
|   |-- VGABIOS-lgpl-README
|   |-- VGABIOS-lgpl-latest
|   |-- VGABIOS-lgpl-latest-cirrus
|   |-- VGABIOS-lgpl-latest-cirrus-debug
|   |-- VGABIOS-lgpl-latest-debug
|   |-- acpi-dsdt.dsl
|   |-- acpi-dsdt.hex
|   |-- apmbios.S
|   |-- bios_usage
|   |-- biossums.c
|   |-- makesym.perl
|   |-- notes
|   |-- rombios.c
|   |-- rombios.h
|   |-- rombios32.c
|   |-- rombios32.ld
|   |-- rombios32start.S
|   `-- usage.cc
|-- bochs.h
|-- build
|   |-- batch-build.perl
|   |-- linux
|   |   |-- README.linux-binary
|   |   |-- bochs-dlx
|   |   `-- bochs-dlx.in
|   |-- macos
|   |   |-- CWPro3_project.sit
|   |   |-- bochs.rsrc
|   |   |-- bochsico.bmp
|   |   `-- macos_defines.h
|   |-- macosx
|   |   |-- Info.plist
|   |   |-- Info.plist.in
|   |   |-- README.macosx-binary
|   |   |-- bochs-icn.icns
|   |   |-- bochs.applescript
|   |   |-- bochs.r
|   |   |-- diskimage.pl
|   |   |-- make-dmg.sh
|   |   |-- pbdevelopment.plist
|   |   |-- script.data
|   |   `-- script.r
|   |-- makeall.sh
|   |-- redhat
|   |   |-- NOTES
|   |   |-- bochs.rpmspec.template
|   |   `-- make-rpm
|   `-- win32
|       |-- README.win32-binary
|       |-- bochs.manifest
|       |-- cc2cpp
|       |-- cpp2cc
|       |-- diffcc2cpp
|       |-- nsis
|       |   |-- Makefile
|       |   |-- Makefile.in
|       |   |-- bochs.ico
|       |   |-- bochs.nsi
|       |   |-- bochs.nsi.in
|       |   |-- lgban.ico
|       |   |-- logo.ico
|       |   |-- penguin.ico
|       |   `-- unbochs.ico
|       |-- vs2008ex-plugins-workspace.zip
|       `-- vs2008ex-workspace.zip
|-- bx_debug
|   |-- Makefile
|   |-- Makefile.in
|   |-- dbg_main.cc
|   |-- debug.h
|   |-- lexer.c
|   |-- lexer.l
|   |-- linux.cc
|   |-- make-syscalls-linux.pl
|   |-- parser.c
|   |-- parser.h
|   |-- parser.y
|   |-- symbols.cc
|   `-- syscalls-linux.h
|-- bxversion.h
|-- bxversion.h.in
|-- bxversion.rc
|-- bxversion.rc.in
|-- config.cc
|-- config.guess
|-- config.h
|-- config.h.in
|-- config.log
|-- config.status
|-- config.sub
|-- configure
|-- configure.in
|-- cpu
|   |-- 3dnow.cc
|   |-- Makefile
|   |-- Makefile.in
|   |-- access.cc
|   |-- access32.cc
|   |-- access64.cc
|   |-- aes.cc
|   |-- apic.cc
|   |-- apic.h
|   |-- arith16.cc
|   |-- arith32.cc
|   |-- arith64.cc
|   |-- arith8.cc
|   |-- avx.cc
|   |-- avx2.cc
|   |-- avx_fma.cc
|   |-- avx_pfp.cc
|   |-- bcd.cc
|   |-- bit.cc
|   |-- bit16.cc
|   |-- bit32.cc
|   |-- bit64.cc
|   |-- bmi32.cc
|   |-- bmi64.cc
|   |-- call_far.cc
|   |-- cpu.cc
|   |-- cpu.h
|   |-- cpudb
|   |   |-- Makefile
|   |   |-- Makefile.in
|   |   |-- amd_k6_2_chomper.cc
|   |   |-- amd_k6_2_chomper.h
|   |   |-- amd_k6_2_chomper.txt
|   |   |-- athlon64_clawhammer.cc
|   |   |-- athlon64_clawhammer.h
|   |   |-- athlon64_clawhammer.txt
|   |   |-- athlon64_venice.cc
|   |   |-- athlon64_venice.h
|   |   |-- athlon64_venice.txt
|   |   |-- atom_n270.cc
|   |   |-- atom_n270.h
|   |   |-- atom_n270.txt
|   |   |-- core2_penryn_t9600.cc
|   |   |-- core2_penryn_t9600.h
|   |   |-- core2_penryn_t9600.txt
|   |   |-- core_duo_t2400_yonah.cc
|   |   |-- core_duo_t2400_yonah.h
|   |   |-- core_duo_t2400_yonah.txt
|   |   |-- corei5_arrandale_m520.cc
|   |   |-- corei5_arrandale_m520.h
|   |   |-- corei5_arrandale_m520.txt
|   |   |-- corei7_sandy_bridge_2600K.cc
|   |   |-- corei7_sandy_bridge_2600K.h
|   |   |-- corei7_sandy_bridge_2600K.txt
|   |   |-- p2_klamath.cc
|   |   |-- p2_klamath.h
|   |   |-- p2_klamath.txt
|   |   |-- p3_katmai.cc
|   |   |-- p3_katmai.h
|   |   |-- p3_katmai.txt
|   |   |-- p4_prescott_celeron_336.cc
|   |   |-- p4_prescott_celeron_336.h
|   |   |-- p4_prescott_celeron_336.txt
|   |   |-- p4_willamette.cc
|   |   |-- p4_willamette.h
|   |   |-- p4_willamette.txt
|   |   |-- pentium_mmx.cc
|   |   |-- pentium_mmx.h
|   |   `-- pentium_mmx.txt
|   |-- cpuid.h
|   |-- crc32.cc
|   |-- crregs.cc
|   |-- crregs.h
|   |-- ctrl_xfer16.cc
|   |-- ctrl_xfer32.cc
|   |-- ctrl_xfer64.cc
|   |-- ctrl_xfer_pro.cc
|   |-- data_xfer16.cc
|   |-- data_xfer32.cc
|   |-- data_xfer64.cc
|   |-- data_xfer8.cc
|   |-- debugstuff.cc
|   |-- descriptor.h
|   |-- exception.cc
|   |-- fetchdecode.cc
|   |-- fetchdecode.h
|   |-- fetchdecode64.cc
|   |-- fetchdecode_avx.h
|   |-- fetchdecode_sse.h
|   |-- fetchdecode_x87.h
|   |-- fetchdecode_xop.h
|   |-- flag_ctrl.cc
|   |-- flag_ctrl_pro.cc
|   |-- fpu_emu.cc
|   |-- gather.cc
|   |-- generic_cpuid.cc
|   |-- generic_cpuid.h
|   |-- i387.h
|   |-- ia_opcodes.h
|   |-- icache.cc
|   |-- icache.h
|   |-- init.cc
|   |-- instr.h
|   |-- io.cc
|   |-- iret.cc
|   |-- jmp_far.cc
|   |-- lazy_flags.h
|   |-- load.cc
|   |-- logical16.cc
|   |-- logical32.cc
|   |-- logical64.cc
|   |-- logical8.cc
|   |-- mmx.cc
|   |-- msr.cc
|   |-- mult16.cc
|   |-- mult32.cc
|   |-- mult64.cc
|   |-- mult8.cc
|   |-- paging.cc
|   |-- proc_ctrl.cc
|   |-- protect_ctrl.cc
|   |-- resolver.cc
|   |-- ret_far.cc
|   |-- segment_ctrl.cc
|   |-- segment_ctrl_pro.cc
|   |-- shift16.cc
|   |-- shift32.cc
|   |-- shift64.cc
|   |-- shift8.cc
|   |-- simd_compare.h
|   |-- simd_int.h
|   |-- simd_pfp.h
|   |-- smm.cc
|   |-- smm.h
|   |-- soft_int.cc
|   |-- sse.cc
|   |-- sse_move.cc
|   |-- sse_pfp.cc
|   |-- sse_rcp.cc
|   |-- sse_string.cc
|   |-- stack.h
|   |-- stack16.cc
|   |-- stack32.cc
|   |-- stack64.cc
|   |-- string.cc
|   |-- tasking.cc
|   |-- tbm32.cc
|   |-- tbm64.cc
|   |-- todo
|   |-- vm8086.cc
|   |-- vmcs.cc
|   |-- vmexit.cc
|   |-- vmfunc.cc
|   |-- vmx.cc
|   |-- vmx.h
|   |-- xmm.h
|   |-- xop.cc
|   `-- xsave.cc
|-- cpudb.h
|-- crc.cc
|-- disasm
|   |-- Makefile
|   |-- Makefile.in
|   |-- dis_decode.cc
|   |-- dis_groups.cc
|   |-- dis_tables.h
|   |-- dis_tables.inc
|   |-- dis_tables_avx.inc
|   |-- dis_tables_sse.inc
|   |-- dis_tables_x87.inc
|   |-- dis_tables_xop.inc
|   |-- disasm.h
|   |-- opcodes.inc
|   |-- resolve.cc
|   `-- syntax.cc
|-- doc
|   |-- docbook
|   |   |-- Makefile
|   |   |-- Makefile.in
|   |   |-- Makefile.jade
|   |   |-- README
|   |   |-- development
|   |   |   `-- development.dbk
|   |   |-- documentation
|   |   |   `-- documentation.dbk
|   |   |-- fixtitles.pl
|   |   |-- images
|   |   |   |-- dlxlinux-in-linux.png
|   |   |   |-- headerbar.png
|   |   |   `-- undercon.png
|   |   |-- include
|   |   |   `-- defs.sgm
|   |   |-- index.html
|   |   |-- misc.txt
|   |   |-- outline.txt
|   |   `-- user
|   |       `-- user.dbk
|   `-- man
|       |-- bochs-dlx.1
|       |-- bochs.1
|       |-- bochsrc.5
|       |-- bxcommit.1
|       `-- bximage.1
|-- docs-html
|   |-- 00README
|   |-- biossums.txt
|   |-- bxdebugger.html
|   |-- cpu_configurability.txt
|   |-- enh_dbg_user_man.txt
|   |-- memory.txt
|   `-- random.txt
|-- extplugin.h
|-- fpu
|   |-- Makefile
|   |-- Makefile.in
|   |-- control_w.h
|   |-- f2xm1.cc
|   |-- ferr.cc
|   |-- fpatan.cc
|   |-- fprem.cc
|   |-- fpu.cc
|   |-- fpu_arith.cc
|   |-- fpu_compare.cc
|   |-- fpu_const.cc
|   |-- fpu_constant.h
|   |-- fpu_load_store.cc
|   |-- fpu_misc.cc
|   |-- fpu_tags.cc
|   |-- fpu_trans.cc
|   |-- fsincos.cc
|   |-- fyl2x.cc
|   |-- poly.cc
|   |-- softfloat-compare.h
|   |-- softfloat-macros.h
|   |-- softfloat-muladd.cc
|   |-- softfloat-round-pack.cc
|   |-- softfloat-round-pack.h
|   |-- softfloat-specialize.cc
|   |-- softfloat-specialize.h
|   |-- softfloat.cc
|   |-- softfloat.h
|   |-- softfloat16.cc
|   |-- softfloatx80.cc
|   |-- softfloatx80.h
|   |-- status_w.h
|   |-- tag_w.h
|   `-- todo
|-- gdbstub.cc
|-- gui
|   |-- Makefile
|   |-- Makefile.in
|   |-- amigagui.h
|   |-- amigaos.cc
|   |-- bitmaps
|   |   |-- cdromd.h
|   |   |-- cdromd.xpm
|   |   |-- configbutton.h
|   |   |-- configbutton.xpm
|   |   |-- copy.h
|   |   |-- copy.xpm
|   |   |-- floppya.h
|   |   |-- floppya.xpm
|   |   |-- floppyb.h
|   |   |-- floppyb.xpm
|   |   |-- mouse.h
|   |   |-- mouse.xpm
|   |   |-- paste.h
|   |   |-- paste.xpm
|   |   |-- power.h
|   |   |-- power.xpm
|   |   |-- reset.h
|   |   |-- reset.xpm
|   |   |-- saverestore.h
|   |   |-- saverestore.xpm
|   |   |-- snapshot.h
|   |   |-- snapshot.xpm
|   |   |-- userbutton.h
|   |   `-- userbutton.xpm
|   |-- carbon.cc
|   |-- enh_dbg.cc
|   |-- enh_dbg.h
|   |-- font
|   |   `-- vga.bitmap.h
|   |-- gtk_enh_dbg_osdep.cc
|   |-- gui.cc
|   |-- gui.h
|   |-- icon_bochs.h
|   |-- icon_bochs.xpm
|   |-- keymap.cc
|   |-- keymap.h
|   |-- keymaps
|   |   |-- sdl-pc-de.map
|   |   |-- sdl-pc-us.map
|   |   |-- x11-pc-be.map
|   |   |-- x11-pc-da.map
|   |   |-- x11-pc-de.map
|   |   |-- x11-pc-es.map
|   |   |-- x11-pc-fr.map
|   |   |-- x11-pc-it.map
|   |   |-- x11-pc-ru.map
|   |   |-- x11-pc-se.map
|   |   |-- x11-pc-si.map
|   |   |-- x11-pc-uk.map
|   |   `-- x11-pc-us.map
|   |-- macintosh.cc
|   |-- nogui.cc
|   |-- paramtree.cc
|   |-- paramtree.h
|   |-- rfb.cc
|   |-- rfb.h
|   |-- rfbkeys.h
|   |-- sdl.cc
|   |-- sdl.h
|   |-- sdlkeys.h
|   |-- siminterface.cc
|   |-- siminterface.h
|   |-- svga.cc
|   |-- term.cc
|   |-- textconfig.cc
|   |-- textconfig.h
|   |-- wenhdbg_res.h
|   |-- win32.cc
|   |-- win32_enh_dbg_osdep.cc
|   |-- win32dialog.cc
|   |-- win32dialog.h
|   |-- win32paramdlg.cc
|   |-- win32paramdlg.h
|   |-- win32res.h
|   |-- wx.cc
|   |-- wxdialog.cc
|   |-- wxdialog.h
|   |-- wxmain.cc
|   |-- wxmain.h
|   `-- x.cc
|-- host
|   `-- linux
|       `-- pcidev
|           |-- Make.kbuild
|           |-- Makefile
|           |-- Makefile.in
|           |-- kernel_pcidev.h
|           `-- pcidev.c
|-- install-sh
|-- instrument
|   |-- example0
|   |   |-- Makefile.in
|   |   |-- instrument.cc
|   |   `-- instrument.h
|   |-- example1
|   |   |-- Makefile.in
|   |   |-- instrument.cc
|   |   `-- instrument.h
|   |-- example2
|   |   |-- Makefile.in
|   |   |-- instrument.cc
|   |   `-- instrument.h
|   |-- instrumentation.txt
|   `-- stubs
|       |-- Makefile
|       |-- Makefile.in
|       |-- instrument.cc
|       `-- instrument.h
|-- iodev
|   |-- Makefile
|   |-- Makefile.in
|   |-- acpi.cc
|   |-- acpi.h
|   |-- aspi-win32.h
|   |-- biosdev.cc
|   |-- biosdev.h
|   |-- busmouse.cc
|   |-- busmouse.h
|   |-- cdrom.cc
|   |-- cdrom.h
|   |-- cdrom_amigaos.cc
|   |-- cdrom_misc.cc
|   |-- cdrom_osx.cc
|   |-- cdrom_win32.cc
|   |-- cmos.cc
|   |-- cmos.h
|   |-- devices.cc
|   |-- devices.txt
|   |-- dma.cc
|   |-- dma.h
|   |-- es1370.cc
|   |-- es1370.h
|   |-- eth_fbsd.cc
|   |-- eth_linux.cc
|   |-- eth_null.cc
|   |-- eth_slirp.cc
|   |-- eth_tap.cc
|   |-- eth_tuntap.cc
|   |-- eth_vde.cc
|   |-- eth_vnet.cc
|   |-- eth_win32.cc
|   |-- extfpuirq.cc
|   |-- extfpuirq.h
|   |-- floppy.cc
|   |-- floppy.h
|   |-- gameport.cc
|   |-- gameport.h
|   |-- harddrv.cc
|   |-- harddrv.h
|   |-- hdimage.cc
|   |-- hdimage.h
|   |-- ioapic.cc
|   |-- ioapic.h
|   |-- iodebug.cc
|   |-- iodebug.h
|   |-- iodev.h
|   |-- keyboard.cc
|   |-- keyboard.h
|   |-- ne2k.cc
|   |-- ne2k.h
|   |-- netmod.cc
|   |-- netmod.h
|   |-- parallel.cc
|   |-- parallel.h
|   |-- pci.cc
|   |-- pci.h
|   |-- pci2isa.cc
|   |-- pci2isa.h
|   |-- pci_ide.cc
|   |-- pci_ide.h
|   |-- pcidev.cc
|   |-- pcidev.h
|   |-- pcipnic.cc
|   |-- pcipnic.h
|   |-- pcivga.cc
|   |-- pcivga.h
|   |-- pic.cc
|   |-- pic.h
|   |-- pit82c54.cc
|   |-- pit82c54.h
|   |-- pit_wrap.cc
|   |-- pit_wrap.h
|   |-- pnic_api.h
|   |-- sb16.cc
|   |-- sb16.h
|   |-- scancodes.cc
|   |-- scancodes.h
|   |-- scsi_commands.h
|   |-- scsi_device.cc
|   |-- scsi_device.h
|   |-- scsidefs.h
|   |-- scsipt.h
|   |-- serial.cc
|   |-- serial.h
|   |-- serial_raw.cc
|   |-- serial_raw.h
|   |-- slowdown_timer.cc
|   |-- slowdown_timer.h
|   |-- soundlnx.cc
|   |-- soundlnx.h
|   |-- soundmod.cc
|   |-- soundmod.h
|   |-- soundosx.cc
|   |-- soundosx.h
|   |-- soundwin.cc
|   |-- soundwin.h
|   |-- speaker.cc
|   |-- speaker.h
|   |-- svga_cirrus.cc
|   |-- svga_cirrus.h
|   |-- unmapped.cc
|   |-- unmapped.h
|   |-- usb_common.cc
|   |-- usb_common.h
|   |-- usb_hid.cc
|   |-- usb_hid.h
|   |-- usb_hub.cc
|   |-- usb_hub.h
|   |-- usb_msd.cc
|   |-- usb_msd.h
|   |-- usb_ohci.cc
|   |-- usb_ohci.h
|   |-- usb_printer.cc
|   |-- usb_printer.h
|   |-- usb_uhci.cc
|   |-- usb_uhci.h
|   |-- usb_xhci.cc
|   |-- usb_xhci.h
|   |-- vga.cc
|   |-- vga.h
|   |-- virt_timer.cc
|   |-- virt_timer.h
|   |-- vmware3.cc
|   |-- vmware3.h
|   |-- vmware4.cc
|   |-- vmware4.h
|   |-- vvfat.cc
|   `-- vvfat.h
|-- libtool
|-- load32bitOShack.cc
|-- logio.cc
|-- ltdl.c
|-- ltdl.h
|-- ltdlconf.h
|-- ltdlconf.h.in
|-- ltmain.sh
|-- main.cc
|-- memory
|   |-- Makefile
|   |-- Makefile.in
|   |-- memory.cc
|   |-- memory.h
|   `-- misc_mem.cc
|-- misc
|   |-- Makefile
|   |-- Makefile.in
|   |-- bswap.h
|   |-- bxcommit.c
|   |-- bximage.c
|   |-- make_cmos_image.cc
|   |-- niclist.c
|   |-- sb16
|   |   |-- sb16ctrl.c
|   |   |-- sb16ctrl.example
|   |   `-- sb16ctrl.exe
|   |-- spoolpipe.c
|   `-- test-access-check.cc
|-- msrs.def
|-- osdep.cc
|-- osdep.h
|-- param_names.h
|-- patches
|   |-- HEADER
|   |-- NOTES
|   |-- bochs-bios-win32.diff
|   |-- patch.decode-interrupts.gz
|   |-- patch.example-override-ask
|   |-- patch.example-user-plugin
|   |-- patch.fast-dma-cbothamy
|   |-- patch.floppy-athiel
|   |-- patch.hosttime-port
|   |-- patch.marklog
|   `-- patch.mingw-resources
|-- pc_system.cc
|-- pc_system.h
|-- plugin.cc
|-- plugin.h
|-- vs2008
|   |-- bochs.sln
|   |-- bochs.vcproj
|   |-- bx_debug.vcproj
|   |-- bxcommit.vcproj
|   |-- bximage.vcproj
|   |-- cpu.vcproj
|   |-- cpudb.vcproj
|   |-- disasm.vcproj
|   |-- fpu.vcproj
|   |-- gui.vcproj
|   |-- iodev.vcproj
|   |-- memory.vcproj
|   |-- niclist.vcproj
|   `-- stubs.vcproj
|-- win32_enh_dbg.rc
|-- win32res.rc
`-- wxbochs.rc

40 directories, 631 files 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-02T20:13:17.270

我只是使用 mSys 而不是 CygWin。**

# ant - Ant没有创建目录

> ID：10848408
> 
> 赞同：0
> 
> 时间：2012-06-01T10:16:01.720
> 
> 标签：ant

我是 Ant 构建脚本的新手。我正在尝试做以下事情

1.  删除构建目录
2.  创建构建目录
3.  编译代码
4.  为项目中的每个包创建jar文件

为此，我编写了以下代码

```
<?xml version="1.0"?>
<project name="test" basedir=".">
    <property name="build.lib" value="dist"/>
    <property name="prefix" value="XXX"/>
    <property name="src.dir" value="src"/>
    <property name="build.dir" value="build"/>
    <property name="build.classes" value="${build.dir}/classes"/>
    <property name="jar.dir" value="${build.dir}/jar"/>

    <path id="compile.classpath">
        <fileset dir="OpenJPA_lib_jar">
            <include name="*.jar"/>
        </fileset>
    </path>

<macrodef name="build_jar">
    <attribute name="name"/>
    <sequential>
        <jar destfile="${build.lib}/${prefix}-@{name}.jar">
            <fileset dir="${build.classes}">
                <include name="zumigo/geofence/@{name}/**"/>
            </fileset>
        </jar>
    </sequential>
</macrodef>

    <target name="clean">
        <delete dir="${build.dir}"/>
    </target>

<echo message="Build dir = ${build.dir}"/>

    <target name="prepare">
        <mkdir dir="${build.dir}"/>
    </target>

    <target name="compile" depends="prepare">
        <javac destdir="${build.classes}" debug="true" srcdir="${src.dir}">
            <classpath refid="compile.classpath"/>
        </javac>
    </target>

<target name="run" depends="compile">
        <build_jar name="common"/>
    <build_jar name="dal"/>
    <build_jar name="databeans"/>
    <build_jar name="dataobject"/>
    <build_jar name="dto"/>
    <build_jar name="exception"/>
    </target>

</project> 
```

当我使用详细选项在命令行上执行 ant 脚本时，它会给出以下输出

```
Apache Ant(TM) version 1.8.3 compiled on February 26 2012
Trying the default build file: build.xml
Buildfile: E:\XXX\XXXWorkspaces\GeoFence\v1.0\GeoFence_Java\build.xml
Detected Java version: 1.6 in: C:\Program Files\Java\jdk1.6.0_14\jre
Detected OS: Windows XP
parsing buildfile E:\XXX\XXXWorkspaces\GeoFence\v1.0\GeoFence_Java\build.xml with URI = file:/E:/XXX/XXXWorkspaces/GeoFence/v1.0/GeoFence_Java/build.xml
Project base dir set to: E:\XXX\XXXWorkspaces\GeoFence\v1.0\GeoFence_Java
parsing buildfile jar:file:/D:/Downloads/apache-ant-1.8.3/lib/ant.jar!/org/apache/tools/ant/antlib.xml with URI = jar:file:/D:/Downloads/apache-ant-1.8.3/lib/ant.jar!/org/apache/tools/ant/antlib.xml from a zip file
 [macrodef] creating macro  build_jar
 [echo] Build dir = build

BUILD SUCCESSFUL
Total time: 0 seconds 
```

我什至尝试在eclipse中调试脚本。调试点设置在“准备”目标上，当我们按下 F5 时，它会退出调试。它不显示任何错误消息。

谁能让我知道脚本中有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:21:45.883

您没有告诉 Ant 运行哪个目标。指定`-p`（或选择要在 Eclipse Ant 运行器中运行的目标）或定义要在`<project>`标记中运行的默认目标。

# jquery - 即使调用成功，Ajax 成功函数也不会触发

> ID：10848409
> 
> 赞同：1
> 
> 时间：2012-06-01T10:16:02.103
> 
> 标签：jquery, ajax, cakephp

我正在使用 ajax 将数据保存在 cakephp 应用程序中。ajax 的工作范围是保存数据——当我单击提交按钮时，评论会保存到数据库中，甚至会自动出现在我的评论列表中。但是，无论我尝试什么，“成功”功能都不会发生任何事情。我无法收到警报，但也无法收到错误警报。

这是怎么回事？这是否与 cake 返回数据的方式有关？在我的控制器的添加功能中，保存部分有效。检查请求是否为 ajax 的部分似乎没有做任何事情。我尝试在其中放置重定向，但页面没有重定向。明确一点：我不希望页面被重定向；我想留在页面上。但是，由于成功后我无能为力，因此无法显示“已保存”消息或清除表单字段或其他任何内容。想法？

```
// my jquery script
$(document).ready(function () {
  // Turn submit button into an ajax call
  $('#save-comment input').click(function(){
    saveComment();
});

// This function is called when the "save" button is clicked
function saveComment() 
{  
  var formdata = $('#comment-form').serialize();
  $.ajax({
    type: "POST",
    url: "/cakeblog/comments/add",
    data: formdata,
    success: function(result) {
      alert("success");
    },
    error:function (){
      alert('error');
    }
  });
 }
});

// my controller
class CommentsController extends AppController {
  public $name = 'Comments';

public function add() {
  if (!empty($this->data)) {
    if($this->Comment->save($this->data)){
  if($this->request->is('ajax')){
        // nothing I put here seems to do anything
        $this->redirect(array('action'=>'index'));
  } else {
        $this->Session->setFlash('Message sent');
    $this->redirect(array('action'=>'index'));
  }
    }
  }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:19:12.467

您尚未在控制器中返回 Http 响应。您需要返回`Http Response`。`function add()`为此，您需要`echo`在控制器中。

似乎检测 ajax 是错误的......在下面使用来检测 ajax。

```
$this->set('isAjax', $this->RequestHandler->isAjax()); 
```

还有一件事情。你在你的控制器中重定向。你不能在那个视图中重定向。您必须在成功调用 ajax 时执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:19:30.017

代码看起来正确。一些指示：

1.  检查 JavaScript 控制台是否有错误？
2.  检查浏览器的网络视图：服务器会发送什么作为此 AJAX 调用的回复？它有反应吗？

# wxpython - 为 wx.Radiobox 中的项目添加空间

> ID：10848426
> 
> 赞同：0
> 
> 时间：2012-06-01T10:16:54.520
> 
> 标签：wxpython

我创建了一个带有 8 个单选按钮的 wx.RadioBox 控件。我想在每个按钮之间添加一些空间，这样它们就不会显得杂乱。你能告诉我怎么做吗？

我的代码有点像这样：

```
freqList = ['12 MHz','12.288 MHz','13 MHz','15.36 MHz','19.2 MHz','24 MHz','26 MHz' ,'30 MHz']
radiobox = wx.RadioBox(panel, -1, "Clock Frequencies", (100, 100), wx.DefaultSize,freqList, 1, wx.RA_SPECIFY_COLS) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T13:35:30.237

我不知道有什么办法。您可能只需要使用常规的 wx.RadioButtons。不过，请随时在 wxPython 邮件列表上提问。

# joomla - Joomla：点击菜单查看相关类别

> ID：10848430
> 
> 赞同：0
> 
> 时间：2012-06-01T10:17:05.620
> 
> 标签：joomla, categories

Joomla 中有没有一种方法，当我单击菜单时，我会看到该菜单中可用的类别列表。当我单击一个类别时，我会看到其中的项目吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:22:23.140

我想你是在问下拉菜单......如果你需要下拉菜单，你可以使用[这个下拉菜单模块](http://extensions.joomla.org/extensions/structure-a-navigation/menu-systems/drop-a-tab-menus/6731) 它会起作用

# android - android中Flurry Analytic集成中的错误

> ID：10848432
> 
> 赞同：3
> 
> 时间：2012-06-01T10:17:09.443
> 
> 标签：android, flurry

我正在尝试将 Flurry 分析集成到 android 应用程序中。

我已经成功集成，但它`java.lang.NoClassDefFoundError: com.flurry.android.FlurryAgent"`在我的 onStart 方法中给出了“运行时错误”。

有什么建议吗？？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T10:32:36.597

在您的 Android 项目中，在项目的根目录下创建一个名为 libs 的目录（在 src/、res/ 等旁边）

找到要使用的库的 JAR 文件并将其复制到 libs/ 目录中。

[设置项目以使用库：](http://developer.android.com/sdk/compatibility-library.html#SettingUp)

[更多参考这里：](http://android-developers.blogspot.in/2011/10/changes-to-library-projects-in-android.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-20T10:20:17.157

我有同样的错误......</p>

对我有用的是：我已经有一个与我的 src & res 文件夹处于同一层次结构的 libs 文件夹。FlurryAgent.jar 文件保存在我的桌面上。我只是右键单击 FlurryAgent 文件，复制它。然后我将文件粘贴到 Eclipse 的 libs 文件夹中。Eclipse 也自动将 FlurryAgent.jar 文件复制到“Android Dependencies”文件夹中。

# c# - 如何在资源文件中写入字符串？

> ID：10848433
> 
> 赞同：3
> 
> 时间：2012-06-01T10:17:12.257
> 
> 标签：c#

如何在资源文件中写入字符串？我尝试了此代码，但出现错误：“ArgumentException。路径包含无效字符。”

```
StreamReader reader = new StreamReader(Auctions_Parser.Properties.Resources.Settings);
                string content = reader.ReadToEnd();
                reader.Close();
                string ebay = "";

                if (checkBox1.Checked){ ebay = "1"; } else { ebay = "0"; }
                content = Regex.Replace(content, @"Ebay&\d", "Ebay&"+ebay);
                StreamWriter writer = new StreamWriter(Auctions_Parser.Properties.Resources.Settings);
                writer.Write(content);
                writer.Close(); 
```

Settings.txt 内容：

```
SaveFolder&C:/Desktop/
Ebay&1
Delcampe&1
BidStart&1
eBid&1
Proxy&0
OpenFolder&0
TurnOff&0 
```

异常表示第一行代码（`StreamReader reader = new StreamReader(Auctions_Parser.Properties.Resources.Settings);`）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:28:42.603

您不能将任何内容写入嵌入式资源文件。您应该使用常规 WinApp 设置而不是编写新设置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:29:29.540

`ResXResourceWriter`以系统默认格式将资源写入输出文件或输出流。

```
using System.Resources;

  // Creates a resource writer.
  IResourceWriter writer = new ResourceWriter("myResources.resources");

  // Adds resources to the resource writer.
  writer.AddResource("String 1", "First String");

  writer.AddResource("String 2", "Second String");

  writer.AddResource("String 3", "Third String");

  // Writes the resources to the file or stream, and closes it.
  writer.Close(); 
```

# maven - 如何从maven获取实际的输出文件名

> ID：10848436
> 
> 赞同：4
> 
> 时间：2012-06-01T10:17:14.117
> 
> 标签：maven, ant

我尝试配置 maven ant 插件以将构建的工件复制到自定义位置：

```
<plugins>
  <plugin>
    <artifactId>maven-antrun-plugin</artifactId>
    <executions>
      <execution>
        <phase>install</phase>
        <goals>
          <goal>run</goal>
        </goals>
        <configuration>
          <tasks>

            <copy verbose="true" 
              file="target/${project.build.finalName}.${project.packaging}"
              tofile="${user.home}/tmp/test/${project.build.finalName}.${project.packaging}"/>

          </tasks>
        </configuration>
      </execution>
    </executions>
  </plugin>
</plugins> 
```

这很好用，只要包装是标准包装之一......但如果项目的包装是“捆绑”（生成 .jar），那么 ${project.packaging} 变量是“捆绑”实际文件以“.jar”结尾=复制失败。

如何获取放入输出目录的文件的“真实”名称？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-06-28T06:51:40.677

在 ant build.xml 中使用：

```
${project.build.directory}/${project.artifactId}-${project.version}.jar 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T10:31:53.710

没有办法可靠地做到这一点。例如，一个 POM 可以有多个工件作为结果（二进制 JAR、源 JAR、测试二进制 JAR、测试源 JAR）。其中哪一个是正确的复制？

可能的解决方案：

1.  替换`${project.packaging}`为`jar`。应该在大多数情况下工作。
2.  使用文件集而不是硬编码的文件名让 Ant 根据模式找出名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T10:55:47.280

一种方法是创建一个名为`packaging-suffix`或类似的属性。在您的所有项目中（或者在超级 pom 中，如果您有一个），您可以定义此属性以具有值`${project.packaging}`，但在捆绑项目中，您将值定义为`jar`. 然后，您在 antrun 插件配置中引用该属性。

根据您的项目的设置方式，这可能是也可能不是一个好的解决方案。

IE：

```
<properties>
  <packaging-suffix>${project.packaging}</packaging-suffix>
</properties> 
```

对比

```
<properties>
  <packaging-suffix>jar</packaging-suffix>
</properties> 
```

然后

```
<copy verbose="true"  
  file="target/${project.build.finalName}.${packaging-suffix}"
  tofile="${user.home}/tmp/test/${project.build.finalName}.${packaging-suffix}"/> 
```

# multithreading - 处理 UDP 段的高数据速率

> ID：10848438
> 
> 赞同：1
> 
> 时间：2012-06-01T10:17:19.777
> 
> 标签：multithreading, udp

我正在尝试构建系统的接收端，它通过千兆以太网链路发送 UDP 段。到目前为止，我已经尝试过 Matlab 和 Python，但两种解决方案似乎都没有效率。我总是遇到巨大的丢包率，这不能用 UDP 不可靠的事实来解释。我想我没有足够快地读取传入的缓冲区，因此新帧被丢弃。

我的问题是，C/C++ 实现会比 Matlab 和 Python 更快吗？

那么线程呢？这会改善情况吗？我正在考虑一个生产者/消费者计划。一个线程用于处理 UDP 套接字，另一个用于处理传入的段。不过，我对此仍有一些疑问。例如，如果我使用互斥锁，这意味着生产者无法写入队列，而消费者从那里读取。这意味着生产者仍然会因消费者的操作而停滞不前。我错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:22:58.957

如果您使用线程，则需要一个队列来放入消息。这绝对应该受到互斥锁的保护。但是消费者线程不需要在处理消息的整个过程中锁定队列，只是在从队列中删除消息时。但是，您应该小心检查队列是否变大，您可能需要多个消费者线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:42:55.777

正如@JoachimPileborg 所提到的，队列是要走的路。您可以让多个工作线程退出队列。此队列有几个可用选项：

*   一个简单的队列，具有用于读/写操作的简单互斥保护
*   无锁队列，通常使用原子操作来保持一致性
*   一个 2 队列系统，其中一个队列用于写入，另一个队列用于读取。当读取队列为空时，切换队列。

这些是标准的生产者/消费者解决方案。

比这更重要的是确定解决方案缓慢的***原因。***Python 应该足够快，c++ 也应该足够快（我个人认为它可能会更快，但这可能会引起争议），不过我对 matlab 一无所知。

你应该做的是使用一个好的分析器（python 和 c++ 都有很多选项）。这是一个相关的[答案](https://stackoverflow.com/a/10800412/1158895)。重复那个答案：找到瓶颈并专注于那些。

另外，有什么要求吗？请记住：“尽可能快”***不是***有效要求。如果您符合吞吐量要求，则可以接受一些丢包。我在一个电信系统上工作，我们通过提高吞吐量直到它开始丢弃数据包来测试吞吐量要求，并测量我们的位置。关键是，如果您在限制范围内，可以放弃:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T19:12:39.950

If you are simply dumping UDP packets onto the network, then the vast majority are going to be dropped because you are pushing them into the socket faster than the network can send them.

Remember that UDP does not have any flow-control or error recovery. Your application must determine a suitable transmit rate, adjust that rate as needed, detect missing datagrams, arrange for missing datagrams to be resent, and assemble all the received datagrams into a coherent file.

That is not easy: [See this answer to a similar question](https://softwareengineering.stackexchange.com/questions/132014/is-it-possible-to-integrate-udp-file-transfer-into-a-net-web-application/132724#132724).

# php - Solr 按字段值提升结果

> ID：10848441
> 
> 赞同：5
> 
> 时间：2012-06-01T10:17:27.037
> 
> 标签：php, apache, sorting, solr

我正在向 solr 服务器查询位置。这些位置文件还有一个字段“country_code”，其中包含 US、GB、DE 等值。

在某些情况下，我想用特定的国家代码来提升结果，以便我能够按国家/地区优先考虑我的结果。

例如：

```
?q=york 
```

假设用户来自英国并且正在搜索约克……此时他首先在美国找到了一些约克，然后在英国找到了约克。

我希望能够为这个查询指定英国的结果应该是最重要的。我发现这应该可以通过 dismax 和 bq 实现，如下所示：

```
?q=york&dismax=true&bq=country_code:GB^20.0 
```

但这并没有按预期工作，现在来自危地马拉的约克（国家代码 GT）位居榜首，而英国的则看不到。

请帮忙 ;-）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T13:34:23.397

好的，我在问题中对 dismax 所做的工作是有效的，只是提升值太低了。将其从 20 更改为 20000，它工作得很好。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-06T17:46:54.687

dismax 的 bq 参数是加法的，这意味着它会增加最终分数。新的 edismax 解析器中有一个 boost 参数，它将 boost 函数值乘以最终得分[edismax boost](http://wiki.apache.org/solr/ExtendedDisMax#bq_.28Boost_Query.29)。

# wordpress - wordpress 自定义元框更新按钮 (get_submit_button)

> ID：10848444
> 
> 赞同：0
> 
> 时间：2012-06-01T10:17:43.133
> 
> 标签：wordpress

我正在尝试使用 WordPress get)submit_button() 在我的插件页面上创建一些按钮来删除元键

我用了

```
get_submit_button( __( 'Delete' ), "delete:the-list:meta-{$entry['meta_id']}::_ajax_nonce=$delete_nonce deletemeta", "deletemeta[{$entry['meta_id']}]", false, array( 'tabindex' => '6' ) ); 
```

还为此创建了新的随机数代码。

但我得到了 - 你没有权限或类似的东西

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:03:54.540

阅读文档：[http ://codex.wordpress.org/Function_Reference/get_submit_button](http://codex.wordpress.org/Function_Reference/get_submit_button)

第二个论点是不正确的。并且因为其他人也是不正确的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:09:42.983

我不确定你的插件是如何设置的，但我所做的是创建我的表单，删除任何东西，包括随机数

```
<input type="hidden" name="mybox_meta_box_nonce" value="<?php wp_create_nonce(basename(__FILE__));?>" /> 
```

将此包含在我的表单中，然后只需手动创建提交按钮，正常提交表单，然后使用您的代码，检查正在提交的表单

IE：

```
<?php
// using another hidden field within the form
if(isset($_POST['action']) && ($_POST['action']=='remove')){
    $post_meta_key = $_POST['meta_key'];
    $post_meta_value = $_POST['metavalue'];
    $postid = $_POST['postid'];
    delete_post_meta($post_id, $meta_key, $meta_value);
    echo '<div id="message" class="updated fade">Post meta deleted.</div>';
}
?> 
```

希望这对您有所帮助

马蒂

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T12:21:29.157

解决了...

所需要的只是一个额外的 nonce 字段

```
wp_nonce_field( 'change-meta', '_ajax_nonce', false, false ); 
```

所以我的代码看起来像：

```
$delete_nonce = wp_create_nonce( 'delete-meta_' . $meta_id );
$output.=get_submit_button( __( 'Delete' ), "delete:the-list:meta-{$meta_id}::_ajax_nonce=$delete_nonce deletemeta", "deletemeta[{$meta_id}]", false, array( 'tabindex' => '6' ) );
$output.=wp_nonce_field( 'change-meta', '_ajax_nonce', false, false ); 
```

和....它的工作:-)

# css - 如何使用 css 将多个 (3) zend_form 元素及其标签排列到同一行

> ID：10848456
> 
> 赞同：0
> 
> 时间：2012-06-01T10:18:13.467
> 
> 标签：css, zend-framework

我四处搜索，我找到了两种类型的答案：1\. 使用装饰器（有几个例子，但我不想这样） 2\. 使用 css（我找不到一个例如，我所做的只是将标签和相应的元素放在同一行上，而不是将 3 个单独的标签元素组合组合到一条大线上）

我不是css的主人，所以我可以在这里使用一些指针。即使需要一些 javascript/jquery 来帮忙，这也是我想要走的路线。提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:45:36.007

使用装饰器，伙计。默认装饰器会将您的表单元素和标签放在 dt-dd 包装器中。使用不同的 HTML 会更有意义，IMO。尝试这个：

```
// form decorators
$this->setDecorators(array(
    'FormElements',
    array('HtmlTag',array('tag' => 'table')),
    'Form'
));

// element decorators
$element->setDecorators(array(
    'ViewHelper',
     array('Errors'),
    array(array('data' => 'HtmlTag'), array('tag' => 'td', 'class' => 'element')),
    array('Label', array('tag' => 'td')),
    array(array('row' => 'HtmlTag'), array('tag' => 'tr')),
)) 
```

如果你真的必须只使用 CSS，你可以通过使它们内联来对齐 DD 和 DT 项：

```
form dd, form dt { display: inline; } 
```

[编辑]

根据其他反馈，另一种可能性：您还可以使用以下方法删除某些元素周围的 dt-dd 包装器：

```
$element->removeDecorator('DtDdWrapper'); 
```

至于为某些元素添加一个类，你可以使用这个：

```
$element->setAttrib("class","foo"); 
```

但请注意，这会将类放在输入节点本身，而不是包装器上，您希望在这种特殊情况下定位它。

# c# - 如何通过代码访问 SharePoint 2010 中内容查询 Web 部件的分组属性？

> ID：10848461
> 
> 赞同：0
> 
> 时间：2012-06-01T10:18:20.150
> 
> 标签：c#, sharepoint-2010, cqwp

我正在使用 SPLimitedWebPartManager 访问内容查询 Web 部件的 Web 部件属性，以便以编程方式修改 CQWP 的“分组依据”属性......不幸的是，我不确定如何访问该特定属性，我似乎能够修改标题、描述等......但不能修改分组/排序属性......关于如何做到这一点的任何线索？

这是代码：

```
SPFile ofile = page.File;

SPLimitedWebPartManager wpColl = ofile.GetLimitedWebPartManager(System.Web.UI.WebControls.WebParts.PersonalizationScope.User);
int cont = wpColl.WebParts.Count;

Console.WriteLine("    - " + page.Name);

for (int i = 0; i < cont; i++)
{
    System.Web.UI.WebControls.WebParts.WebPart wp1 = wpColl.WebParts[i];

    Console.WriteLine("        Personal: " + wp1.ToString());
    Console.WriteLine("        - Title: " + wp1.Title);
    Console.WriteLine("        - ID: " + wp1.ID);

    if (wp1.Title.Equals("CQWP Title"))
    {
        wp1.Title = "WebPart_CQWP";
        Console.WriteLine("        - New Title " + wp1.Title);

        // ----- here I would like to add the same thing to update the Group By property (or any other property which would be useful in order to configure the CQWP (list, type of document we are filtering, etc...) ---- how can I do that?
    }

    ofile.Update();
    wpColl.SaveChanges(wp1);
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:19:09.437

好的，找到了方法。我实际上需要将此 webpart 转换为 CQWP，以便访问它的确切设置。在代码中添加了以下内容：

```
Microsoft.SharePoint.Publishing.WebControls.ContentByQueryWebPart cqwp = (Microsoft.SharePoint.Publishing.WebControls.ContentByQueryWebPart)wp1;

                                    Console.WriteLine("................." + cqwp.GroupBy); 
```

现在我可以访问我的 webpart 的 GroupBy 属性，否则该属性不可用。

# android - 仅动态更改 Drawable 的特定部分

> ID：10848465
> 
> 赞同：0
> 
> 时间：2012-06-01T10:18:54.590
> 
> 标签：android, android-view

我有一个以 ShapeDrawable 作为背景的视图，并且我希望能够仅更改 Drawable 的背景颜色（“实心”部分），而不更改其他部分（例如“笔划”）。有没有办法做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:48:23.350

setColorFilter() 怎么样。

您可以将它与 invalidate() 结合使用，以便重新绘制可绘制对象。看看这些链接以供参考

[ShapeDrawable 滤色器](http://developer.android.com/reference/android/graphics/drawable/ShapeDrawable.html#setColorFilter%28android.graphics.ColorFilter%29)

[可绘制的 InvalidateSelf](http://developer.android.com/reference/android/graphics/drawable/Drawable.html#invalidateSelf%28%29)

我还在堆栈上看到了一篇不错的帖子。看看这个。 [如何更改Android drawable的颜色](https://stackoverflow.com/questions/1309629/how-to-change-colors-of-a-drawable-in-android)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-02T16:14:01.377

我找到了一个解决方案：实际上，在我的情况下，我将 drawable 定义为 XML 文件，Android 将其转换为 GradientDrawable 对象，而不是 ShapeDrawable，因此我将其转换为 RTT（运行时类型），然后使用它的设置颜色功能：

```
GradientDrawable colorBackground=(GradientDrawable)currentColorView.getBackground();
colorBackground.setColor(color); 
```

正如我所说，它仅适用于 GradientDrawable，因此对于其他可绘制类型，必须搜索另一种方式。

# asp.net - Linq To SQL 在选择查询中隐藏空列

> ID：10848482
> 
> 赞同：0
> 
> 时间：2012-06-01T10:19:38.903
> 
> 标签：asp.net, linq, linq-to-sql, detailsview

我有以下 linq to sql 查询，我绑定到详细信息视图

```
 var ShippingChallan = (from sc in db.ShippingChallanViewSeconds
                               where sc.challan_id == Convert.ToDecimal(txtChallanNo.Text) && sc.SecondWeight != null && sc.Type == "LBO"
                               select new { 
                                   sc.challan_id,
                                   sc.bowzer_no,
                                   sc.FirstWeight,
                                   sc.SecondWeight,
                                   sc.netWeight,
                                   sc.Product_Name,
                                   sc.FLD,
                                   sc.Customer_Name,
                                   sc.dip1,
                                   sc.Cmpt_Capacity1,
                                   sc.dip2,
                                   sc.Cmpt_Capacity2,
                                   sc.dip3,
                                   sc.Cmpt_Capacity3,
                                   sc.dip4,
                                   sc.Cmpt_Capacity4,
                                   sc.dip5,
                                   sc.Cmpt_Capacity5
                               }).FirstOrDefault(); 
```

在 99% 的行中，sc.dip4 和 sc.dip5 为空。

如果它们为空，我不想向用户显示这些属性。

我该怎么做？？？任何的想法？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T04:26:40.223

好的，我自己明白了：这是我想出的

```
DV_ChallanDetails.AutoGenerateRows = false; 
BoundField bow = new BoundField();
bow.DataField = "bowzer_no"; 
bow.HeaderText = "Bowzer No"; 
DV_ChallanDetails.Fields.Add(bow); 
```

我对每个字段都这样做，如果任何字段为空，只需将其可见属性设置为 false

谢谢

# c# - 将 CancellationToken 传递给 Task Class 构造函数有什么用？

> ID：10848484
> 
> 赞同：25
> 
> 时间：2012-06-01T10:19:57.937
> 
> 标签：c#, .net, multithreading, cancellation-token

这是一个示例代码，它创建一个模拟长时间运行的进程的新任务。任务本身并没有太多内容，只关注取消功能。我正在使用取消令牌来取消任务，并且代码对我来说很好。

```
CancellationTokenSource CTS = new CancellationTokenSource();

Task<Boolean> PTask = new Task<Boolean>(() => 
{
   while (true)
   {
       if (!CTS.Token.IsCancellationRequested)
       {
          Thread.Sleep(5000);
       }
       else { Console.WriteLine("Thread Cancelled");break; }
   }
   return true;

}, CTS.Token, TaskCreationOptions.None);

PTask.Start();
Console.WriteLine("Hit Enter to cancel the Secondary thread you have started");
Console.ReadLine();
CTS.Cancel();
System.Console.WriteLine(PTask.Result); 
```

但我无法理解的一件事`CTS.Token`是传递给`Task`构造函数的令牌参数 ()。传递参数的实际用途是什么，即使没有将令牌传递给构造函数，我也可以实际取消任务。

下面是一个稍微修改过的版本，它在没有 token 参数的情况下工作。

```
CancellationTokenSource CTS = new CancellationTokenSource();
Task<Boolean> PTask = new Task<Boolean>(() => 
{
   while (true)
   {
       if (!CTS.Token.IsCancellationRequested)
       {
           Thread.Sleep(5000);
       }
       else
       {
           Console.WriteLine("Thread Cancelled");
           break;
       }
}; 
```

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-06-01T10:30:03.530

更新：以下[msdn](http://social.msdn.microsoft.com/Forums/en-US/parallelextensions/thread/c2f614f6-c96c-4821-84cc-050b21aaee45)问题描述了原因：

> 将令牌传递到 StartNew 会将令牌与任务相关联。这有两个主要好处：
> 
> 1.  如果令牌在任务开始执行之前请求取消，任务将不会执行。它不会转换为 Running，而是立即转换为 Canceled。这避免了运行任务的成本，如果它只是在运行时被取消的话。
>     
>     
> 2.  如果任务的主体也在监视取消令牌并抛出包含该令牌的 OperationCanceledException（这是什么 `ThrowIfCancellationRequested`），那么当任务看到该 OCE 时，它会检查 OCE 的令牌是否与任务的令牌匹配。如果是这样，则该异常被视为对合作取消的确认，并且任务转换到 Canceled 状态（而不是 Faulted 状态）。

# ios - TestFlight：团队令牌错误 - 您的团队令牌无法识别

> ID：10848486
> 
> 赞同：3
> 
> 时间：2012-06-01T10:20:06.593
> 
> 标签：ios, testflight

我在我的 iphone 应用程序上使用 TestFlight。但是当我运行它时，我收到以下错误：“TestFlight：团队令牌错误 - 您的团队令牌无法识别”。请告诉我如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-14T16:58:32.380

我们最近遇到了同样的问题 - 虽然错误消息表明 App Token 不正确，但实际上可能是您的 Bundle Identifier 与 testflight 中的不匹配。在 testflight 上检查您的 Target 的 Bundle Identifier 是否与您的应用程序设置中的 Bundle Identifier 匹配。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:23:24.697

在 testflight 中的 Team Info 页面上，有一个包含团队令牌的框。

您是否 100% 确定这与您的应用程序中的完全相同？

如果是这样，也许您需要等待试飞的缓存通过？您最近是如何创建团队的？

# python - 是否有 python 函数接受未指定数量的参数？

> ID：10848487
> 
> 赞同：1
> 
> 时间：2012-06-01T10:20:08.827
> 
> 标签：python, function, arguments, unspecified

是否有 python 函数接受未指定数量的参数，例如

```
myfunc(a, b, c)

myfunc(a, b, c, d, e) 
```

两者都将在哪里工作？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T10:21:07.180

myfunc(*args, **kw)

*args - 接受 N 个参数

**kw - 接受字典（未指定深度）

```
In [1]: def myfunc(*args):
   ...:     print args
   ...:

In [2]: myfunc(1)
(1,)

In [3]: myfunc(1,2,3,4,5)
(1, 2, 3, 4, 5) 
```

# android - 无法在android中解决ANDROID_LOG_DEBUG

> ID：10848488
> 
> 赞同：3
> 
> 时间：2012-06-01T10:20:12.837
> 
> 标签：android, linux, android-ndk, java-native-interface

我想以编程方式截取屏幕截图。[我已经从这个http://www.pocketmagic.net/?p=1473](http://www.pocketmagic.net/?p=1473)参加了以下课程 ，但它没有截图。当我尝试使用调试代码时调试代码

```
 __android_log_print(ANDROID_LOG_DEBUG,DEBUG_TAG,"messsage"); 
```

它无法识别 ANDROID_LOG_DEBUG 给我这个**符号“ANDROID_LOG_DEBUG”的错误无法解决**，而是我包含了 android/log.h

请帮助解决这个问题。

```
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <fcntl.h>
#include <sys/ioctl.h>
#include <sys/mman.h>
#include <sys/types.h>
#include <time.h>
#include <linux/fb.h>
#include <linux/kd.h>
#include <jni.h>
#include "pixelflinger.h"
#include<sys/syscall.h>
#include<sys/stat.h>
#include <string.h>
#include <android/log.h>

typedef struct {
     long filesize;
     char reserved[2];
     long headersize;
     long infoSize;
     long width;
     long depth;
     short biPlanes;
     short bits;
     long biCompression;
     long biSizeImage;
     long biXPelsPerMeter;
     long biYPelsPerMeter;
     long biClrUsed;
     long biClrImportant;
} BMPHEAD;

//copyright text
char cprght[255]="Copyright(C)2009 Motisan Radu , All rights reserved.\n radu.motisan@gmail.com";
//surface pointer
static GGLSurface gr_framebuffer[2];
//handler
static int gr_fb_fd = -1;
//v screen info
static struct fb_var_screeninfo vi;
//f screen info
struct fb_fix_screeninfo fi;

static void dumpinfo(struct fb_fix_screeninfo *fi,
                     struct fb_var_screeninfo *vi);

static int get_framebuffer(GGLSurface *fb)
{
    int fd;
    void *bits;

    fd = open("/dev/graphics/fb0", O_RDWR);
    if(fd < 0) {
        perror("cannot open fb0");
        return -1;
    }

    if(ioctl(fd, FBIOGET_FSCREENINFO, &fi) < 0) {
        perror("failed to get fb0 info");
        return -1;
    }

    if(ioctl(fd, FBIOGET_VSCREENINFO, &vi) < 0) {
        perror("failed to get fb0 info");
        return -1;
    }

    //dumpinfo(&fi, &vi);

    bits = mmap(0, fi.smem_len, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
    if(bits == MAP_FAILED) {
        perror("failed to mmap framebuffer");
        return -1;
    }

    fb->version = sizeof(*fb);
    fb->width = vi.xres;
    fb->height = vi.yres;
    fb->stride = fi.line_length / (vi.bits_per_pixel >> 3);
    fb->data = bits;
    fb->format = GGL_PIXEL_FORMAT_RGB_565;

    fb++;

    fb->version = sizeof(*fb);
    fb->width = vi.xres;
    fb->height = vi.yres;
    fb->stride = fi.line_length / (vi.bits_per_pixel >> 3);
    fb->data = (void*) (((unsigned) bits) + vi.yres * vi.xres * 2);
    fb->format = GGL_PIXEL_FORMAT_RGB_565;

    return fd;
}

static void dumpinfo(struct fb_fix_screeninfo *fi, struct fb_var_screeninfo *vi)
{
    /*fprintf(stderr,"vi.xres = %d\n", vi->xres);
    fprintf(stderr,"vi.yres = %d\n", vi->yres);
    fprintf(stderr,"vi.xresv = %d\n", vi->xres_virtual);
    fprintf(stderr,"vi.yresv = %d\n", vi->yres_virtual);
    fprintf(stderr,"vi.xoff = %d\n", vi->xoffset);
    fprintf(stderr,"vi.yoff = %d\n", vi->yoffset);
    fprintf(stderr, "vi.bits_per_pixel = %d\n", vi->bits_per_pixel);

    fprintf(stderr, "fi.line_length = %d\n", fi->line_length);*/

}

//int main(int argc, char **argv)
jint Java_com_example_JazzkActivity_stringFromJNI( JNIEnv* env, jobject thiz )
//int main(int argc, char **argv)
{

  __android_log_print(ANDROID_LOG_DEBUG,DEBUG_TAG,"messsage");
 //get screen capture
  gr_fb_fd = get_framebuffer(gr_framebuffer);
  if (gr_fb_fd <= 0) exit(1);
  //__android_log_print(ANDROID_API_LEVEL_H);
  int w = vi.xres, h = vi.yres, depth = vi.bits_per_pixel;

  //convert pixel data
  uint8_t *rgb24;
  if (depth == 16)
  {
    rgb24 = (uint8_t *)malloc(w * h * 3);
    int i = 0;
    for (;i<w*h;i++)
    {
        uint16_t pixel16 = ((uint16_t *)gr_framebuffer[0].data)[i];
        // RRRRRGGGGGGBBBBBB -> RRRRRRRRGGGGGGGGBBBBBBBB
        // in rgb24 color max is 2^8 per channel (*255/32 *255/64 *255/32)
        rgb24[3*i+2]   = (255*(pixel16 & 0x001F))/ 32;      //Blue
        rgb24[3*i+1]   = (255*((pixel16 & 0x07E0) >> 5))/64;    //Green
        rgb24[3*i]     = (255*((pixel16 & 0xF800) >> 11))/32;   //Red
    }
  }
  else
  if (depth == 24) //exactly what we need
  {
    rgb24 = (uint8_t *) gr_framebuffer[0].data;
  }
  else
  if (depth == 32) //skip transparency channel
  {
      rgb24 = (uint8_t *) malloc(w * h * 3);
      //rgb24 = new uint8_t[w * h * 3];
    int i=0;
    for (;i<w*h;i++)
    {
        uint32_t pixel32 = ((uint32_t *)gr_framebuffer[0].data)[i];
        // in rgb24 color max is 2^8 per channel
        rgb24[3*i+0]   =  pixel32 & 0x000000FF;         //Blue
        rgb24[3*i+1]   = (pixel32 & 0x0000FF00) >> 8;   //Green
        rgb24[3*i+2]   = (pixel32 & 0x00FF0000) >> 16;  //Red
    }
  }
  else
  {
    //free
        close(gr_fb_fd);
    exit(2);
  };
  //save RGB 24 Bitmap
  int bytes_per_pixel = 3;
  BMPHEAD bh;
  memset ((char *)&bh,0,sizeof(BMPHEAD)); // sets everything to 0
  //bh.filesize  =   calculated size of your file (see below)
  //bh.reserved  = two zero bytes
  bh.headersize  = 54L;         // for 24 bit images
  bh.infoSize  =  0x28L;        // for 24 bit images
  bh.width     = w;         // width of image in pixels
  bh.depth     = h;         // height of image in pixels
  bh.biPlanes  =  1;            // for 24 bit images
  bh.bits      = 8 * bytes_per_pixel;   // for 24 bit images
  bh.biCompression = 0L;        // no compression
  int bytesPerLine;
  bytesPerLine = w * bytes_per_pixel;   // for 24 bit images
  //round up to a dword boundary
  if (bytesPerLine & 0x0003)
  {
        bytesPerLine |= 0x0003;
        ++bytesPerLine;
  }
  bh.filesize = bh.headersize + (long)bytesPerLine * bh.depth;
  FILE * bmpfile;
  //printf("Bytes per line : %d\n", bytesPerLine);
  bmpfile = fopen("screen.bmp", "wb");
  if (bmpfile == NULL)
  {
    close(gr_fb_fd);
    //exit(3);
  }
  fwrite("BM",1,2,bmpfile);
  fwrite((char *)&bh, 1, sizeof (bh), bmpfile);
  //fwrite(rgb24,1,w*h*3,bmpfile);
  char *linebuf;
  linebuf = (char *) calloc(1, bytesPerLine);
  if (linebuf == NULL)
  {
        fclose(bmpfile);
    close(gr_fb_fd);
    exit(4);
  }
  int line,x;
  for (line = h-1; line >= 0; line --)
  {
        // fill line linebuf with the image data for that line
    for( x =0 ; x < w; x++ )
    {
        *(linebuf+x*bytes_per_pixel) = *(rgb24 + (x+line*w)*bytes_per_pixel+2);
        *(linebuf+x*bytes_per_pixel+1) = *(rgb24 + (x+line*w)*bytes_per_pixel+1);
        *(linebuf+x*bytes_per_pixel+2) = *(rgb24 + (x+line*w)*bytes_per_pixel+0);
    }
    // remember that the order is BGR and if width is not a multiple
        // of 4 then the last few bytes may be unused
    fwrite(linebuf, 1, bytesPerLine, bmpfile);
  }
  fclose(bmpfile);
  close(gr_fb_fd);
  return 0;
} 
```

安卓.mk

```
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

LOCAL_LDLIBS    := -llog
LOCAL_MODULE    := jazzk
### Add all source file names to be included in lib separated by a whitespace
LOCAL_SRC_FILES := capturescr.c

include $(BUILD_SHARED_LIBRARY) 
```

提前致谢

如果有人知道以编程方式实现屏幕截图的其他方式，请发布。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T06:34:59.240

我已经构建了您的代码，并且在调用 jni 时效果很好。我只是删除 `__android_log_print(ANDROID_LOG_DEBUG,DEBUG_TAG,"messsage")`标签，并在 Android 源代码项目中构建。

您只需要将 .so 文件放入您的 Java 项目。我不尝试构建 NDK。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-03T00:21:21.883

在最新的 ADT（22.6.2 捆绑包，包含 Eclipse 4.3.1）、NDK（r9d）中也有同样的问题。通过擦除整个问题，安装 ADT（ 2013 年 9 月 4 日，2013 年 9 月 31 日的[22.0.5](https://stackoverflow.com/a/7854344/1404208)包，其中包含 Eclipse 4.2.1），NDK（[r9b](http://dl.google.com/android/ndk/android-ndk-r9b-windows-x86_64.zip)）来解决。

# objective-c - 你如何对 XMPP JID 进行转义？

> ID：10848490
> 
> 赞同：0
> 
> 时间：2012-06-01T10:20:21.273
> 
> 标签：objective-c, xmpp, xmppframework

是否有用于逃避和逃避 jids 的图书馆。我们目前正在使用[https://github.com/robbiehanson/XMPPFramework](https://github.com/robbiehanson/XMPPFramework)此处提供的 XMPPFramework 。我们当然可以自己编写，但我认为这将是一个已解决的问题。

下面是 XEP。

[http://xmpp.org/extensions/xep-0106.html](http://xmpp.org/extensions/xep-0106.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-03T16:56:10.317

正如您在 XEP 中看到的那样，您链接的 Jid 转义只是替换了一些字符。您不需要完整的库，并且可以在某些代码行中做到这一点。自己将它添加到 XMPPFramework 并在它丢失时提交一个补丁。

# gwt - 请求生成器的 GWT 内存泄漏链接（由 GWTP 操作服务器调用生成）

> ID：10848493
> 
> 赞同：0
> 
> 时间：2012-06-01T10:20:29.963
> 
> 标签：gwt, memory-leaks, out-of-memory, gwt-platform, heap-dump

在 GWT 版本中找到：

GWT - 2.4.0

在操作系统/浏览器上遇到：

带有 IE9 的 Windows 7

详细说明（请尽可能具体）：

离开 GWT App 运行过夜后发生 Out Of Heap 异常，使用 MemoryAnalyzer 进行诊断，发现崩溃时有 160 万个 com.google.gwt.http.client.RequestBuilder 实例，每个大小正好为 1208 字节。

进一步检查向我显示这些请求是对服务器的 GWT Action 调用以轮询当前服务器的健康状态。com.google.gwt.user.client.Timer 每 1 秒轮询一次触发器

演示问题的最短代码段：

```
@Inject
public MainPresenter(final EventBus eventBus, final MyView view,
        final MyProxy proxy, PlaceManager placeManager,
        final DispatchAsync dispatcher) {
    super(eventBus, view, proxy);
    this.placeManager = placeManager;
    this.dispatcher = dispatcher;
    getView().setUiHandlers(this);

    setupSeverHealthQuerier(dispatcher);
}

private void setupSeverHealthQuerier(final DispatchAsync dispatcher) {
    int delayInSec = UserPreference.HealthCheckInterval;

    serverHealthChecker = new Timer() {

        @Override
        public void run() {
            dispatcher.execute(new GetServerHealth(ServerName.ReplayServerGTU),
                    new AsyncCallback<GetServerHealthResult>() {

                        @Override
                        public void onFailure(Throwable caught) {
                            caught.printStackTrace();
                        }

                        @Override
                        public void onSuccess(GetServerHealthResult result) {
                            getView().setServerHealthPic(result.getHealth());
                        }
                    });

        }
    };
    serverHealthChecker.scheduleRepeating(delayInSec * 1000);
} 
```

这是堆报告：

[http://i.stack.imgur.com/C2qJy.png](http://i.stack.imgur.com/C2qJy.png)

*   感谢 10 名誉到发布图像规则

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T12:44:32.197

它们不是`RequestBuilder`实例，而是匿名内部类的实例，它只能是底层`XMLHttpRequest`的`ReadyStateChangeHandler`.

鉴于您整晚都打开 DevMode 会话，您的计算机是否可以进入*待机*模式（抱歉，我不知道英文的确切术语）并关闭网络？
鉴于您似乎正在使用 IE，并且 IE 从未使请求超时，因此确实可能已发出请求但从未到达网络并且从未超时，因此这些类被保存在内存中。

只是一个想法。

我还敢打赌这只是 DevMode 和 IE 中的一个问题。
这是 DevMode 的一个非常不寻常的用法，所以我很难称它为错误。它也不值得修复，因为 GWT 团队正在开发一种新的*SuperDevMode*，它不再需要浏览器插件，而是始终将代码即时编译为 JS。

* * *

尝试从`onFailure`and`onSuccess`而不是使用 `scheduleRepeating 再次安排计时器。另请参阅[http://ejohn.org/blog/how-javascript-timers-work/](http://ejohn.org/blog/how-javascript-timers-work/)

# android - 我可以将布局调整为比屏幕宽度多 2 倍的宽度吗？

> ID：10848495
> 
> 赞同：0
> 
> 时间：2012-06-01T10:20:39.480
> 
> 标签：android, layout, view, scrollview, android-viewpager

我想实现 ViewPager 或 ScrollView 之类的东西，但由于某些原因我不想使用它。据我了解，我需要将父布局调整为 N*（屏幕宽度）的宽度，N 是页数。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:29:22.400

尝试使用水平滚动视图并像这样按像素设置布局宽度

```
android:layout_width="2500px" 
```

或者

```
android:layout_width="2500dp" 
```

然后将您的布局添加到滚动视图。

# c++ - 如何猜测 libpqxx C++ 库函数抛出的异常类型？

> ID：10848499
> 
> 赞同：0
> 
> 时间：2012-06-01T10:20:49.560
> 
> 标签：c++, exception, libpqxx

我正在使用 libpqxx，但我坚持以下。

根据文件，可以说 pqxx:connection_base 类抛出异常的某些功能`connection_base.hxx`：

```
void disconnect() throw (); 
```

我的问题是：我怎么能猜出抛出了什么样的异常？我应该期待`pqxx::exception`a`pqxx::sql_error`吗？包含文件对我来说似乎没用，而文档，一个 Doxygen 生成的文件显然没有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:22:46.170

```
void disconnect() throw ();
                  ^^^^^^^^^^ 
```

带有空抛出的异常规范告诉您该函数**不会抛出任何异常**。

你不应该猜测函数显示什么异常，或者函数不应该包含任何异常规范，这意味着它可以抛出任何异常（可以被全部捕获处理程序捕获`catch(...)`*注意：这是一个不好的做法*）或者它应该记录它的哪些异常可以扔。

在这种情况下，至少文档说它不应该抛出任何异常，如果它确实将它报告给函数的提供者。

# c# - 覆盖 Listview.Columns.Add(string)

> ID：10848509
> 
> 赞同：0
> 
> 时间：2012-06-01T10:21:25.127
> 
> 标签：c#, visual-studio-2010, listview

我有一个像这样的自定义列表视图类：

```
class ListTreeView : ListView
{
    //some stuff
} 
```

有没有办法`columns.add(string text);`像我可以用 Refresh() 一样覆盖

```
public override void Refresh()
{
    //some stuff
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:22:54.040

> 有没有办法覆盖 Columns.Add(string text); 就像我可以用 Refresh()

'不'

如果声明了一个方法`Virtual`，那么`Yes`. 但不幸的是，在你的情况下它是`No`因为`ColumnHeaderCollection`不能被覆盖。

# ruby-on-rails - Rails 3黄瓜显示webrick调试输出

> ID：10848510
> 
> 赞同：1
> 
> 时间：2012-06-01T10:21:26.500
> 
> 标签：ruby-on-rails, ruby-on-rails-3, cucumber, capybara

我正在使用 cucumber + capybara，当我运行时，`rake cucumber`我会在终端中得到花哨的黄瓜场景输出。

但是当我运行应用程序时，`rails server`我会得到有关控制器、视图、sql 等的各种有用的调试信息。

除了（或代替）黄瓜之外，还有什么方法可以运行黄瓜并获得 Rails 调试输出？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T11:22:24.513

当您运行时`rake cucumber`，控制器活动将被记录到`log/test.log`或`log/cucumber.log`（这取决于您的配置）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-04T14:20:56.130

您可以使用`rake cucumber --backtrace`来获取更详细的错误，但这仍然只会显示您的黄瓜代码失败的地方。它不会显示任何导致您的测试失败的 Rails 错误。`log/test.log`您可以从or获取一些信息`log/cucumber.log`，但是如果您可以看到 Rails 标准，那仍然不是相同的输出。

# django - Grappelli 管理员“change_list”列不可排序

> ID：10848515
> 
> 赞同：2
> 
> 时间：2012-06-01T10:21:31.413
> 
> 标签：django, django-admin, django-grappelli

已解决：一直是 grappelli-safe 中的一个错误，它是用于 Mezzanine 的 grappelli 前叉。现在应该可以解决了。

* * *

在切换到 Mezzanine 之前，我从未使用过 grappelli，所以我不知道这是否是标准行为，但我会感到非常惊讶。

这就是发生的事情：安装 Mezzanine 后一切正常，Grappelli 很好地为我的管理员设置了皮肤。几个小时后，我意识到我无法使用列标题行按该行的值对对象进行排序。行标题只是重新加载页面的链接。我很确定这些链接应该被一些 javascript 覆盖以允许排序，但是在检索静态文件时没有 404 或其他错误。

如果有人可以确认我真的在寻找一个很棒的错误。我讨厌用几个小时来跟踪只是正常行为的事情。如果其他人知道如何解决这个问题，或者什么脚本负责覆盖链接，那就更好了。

我不想更具体，但这就是我现在所拥有的一切...... :(

啊，还有一件事：

![我正在谈论的列标题](../Images/6b387b19c03ab587033c6ddf3addb716.png)

至少更具体一点：我想要做的是单击“状态”以按状态列排序。但是“状态”是指向当前页面的链接，因此只是重新加载页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T10:32:11.550

这只是发生在我身上：它也可能是由使用 django 1.4 和 grappelli 2.3.8 引起的（都在 pipi 中）

有关详细信息，请参阅此线程： [https ://groups.google.com/forum/?fromgroups#!topic/django-grappelli/](https://groups.google.com/forum/?fromgroups#!topic/django-grappelli/)

# java - 关闭当前窗口并弹出上一个窗口（windowListener）

> ID：10848516
> 
> 赞同：1
> 
> 时间：2012-06-01T10:21:33.573
> 
> 标签：java, swing, jframe, windowlistener

我有一个服务器/客户端应用程序。当系统启动时，会弹出一个登录窗口。单击连接时 - 会弹出另一个 JFrame（游戏框架）。我想要的是：当单击游戏框架上的“X”时-当前用户的游戏将停止，登录窗口再次弹出。

简而言之 - 单击“X”时 - 终止当前进程，关闭窗口并弹出前一个窗口。剩下的只是实现'windowClosing（）'方法，但我不知道如何。这是我所拥有的：

```
 import java.awt.BorderLayout;
    import java.awt.Dimension;
    import java.awt.Toolkit;
    import java.awt.event.WindowAdapter;
    import java.awt.event.WindowEvent;
    import javax.swing.JFrame;

    public class GameplayFrame extends JFrame {

    private GECanvas canvas;

    public GameplayFrame() {
        super("BattleCity");
        canvas = new GECanvas();
        getContentPane().setLayout(new BorderLayout());
        canvas.setPreferredSize(new Dimension(600, 600));
        getContentPane().add(canvas, BorderLayout.CENTER);
        setResizable(false);
        pack();
        Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();
        int x = (dim.width - getSize().width) / 2;
        int y = (dim.height - getSize().height) / 2;
        setLocation(x, y);
        setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
        addWindowListener(new NaBabaMiShortite());
    }

    private class NaBabaMiShortite extends WindowAdapter {

        @Override
        public void windowClosing(WindowEvent e) {

                // TO-DO
        }
    }

    public GECanvas getCanvas() {
        return canvas;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:24:56.833

不要终止进程。只需调用`setVisible()`两个窗口，使其可见或根据需要隐藏它们。

# arrays - 将一维数组复制到二维数组中

> ID：10848517
> 
> 赞同：-2
> 
> 时间：2012-06-01T10:21:36.040
> 
> 标签：arrays, multidimensional-array

我有一个二维数组和一个一维数组。二维数组的大小为 NxM。一维数组的大小为 N x M 意味着它有 NXM 个元素。

现在我想将一维数组的所有元素复制到二维数组中。

这是我尝试过的

```
for(i = 0; i < M; i += 1) {
        for(j = 0; j < N; j += 1) {
            arr2d[i][j] = arr2d[(i*j +j)];
        }
} 
```

但不工作有什么建议吗？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:23:01.610

你可以改变：

```
arr2d[i][j] = arr2d[(i*j +j)]; 
```

到：

```
arr2d[i][j] = arr1d[(i*N + j)]; 
```

这可能会更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:47:30.507

```
var arr1d = [1,2,3,4,5,6];
var M = 1, N = 2;
var arr2d = [];
var counter = 0;
for(i = 0; i <= M; i += 1) {
    for(j = 0; j <= N; j += 1) {
        if(j == 0)
            arr2d[i] = [];
        arr2d[i][j] = arr1d[counter++];
    }
} 
```

# cakephp - 为什么我的表单请求是黑洞 cakephp 2？

> ID：10848518
> 
> 赞同：3
> 
> 时间：2012-06-01T10:21:42.210
> 
> 标签：cakephp, cakephp-2.1

我有 2 个模型：*Ad*和*Record*，*Ad* **hasOne** *Record*和*Record* **belongsTo** *Ad。* 我的添加表单和编辑表单正在工作，但如果我使用安全组件，我的请求就是黑洞。也许我没有使用最佳实践。控制器 AdsController.php ：

```
public function admin_edit($id = null){
    $this->Ad->id = $id;
    if ($this->request->is('get')){
        $this->request->data = $this->Ad->read();
    } else {
        if ($this->Ad->save($this->request->data)) {
            $this->Ad->Record->save($this->request->data);
            $this->Session->setFlash('Vos données ont étées mises à jour');
            $this->redirect(array('action' => 'admin_index'));
        }else {
            $this->Session->setFlash('Impossible d\'éditer l\'annonce !');
        }

    }
} 
```

这是我的表格 admin_edit.ctp ：

```
<!-- Ads/admin_edit -->
<?php
  /* Breadcrumb */
  $this->Html->addCrumb('Annonces', '/admin/ads');
  $this->Html->addCrumb('Edition annonce', '/admin/ads/edit');
?>

<h1>Editer une annonce</h1>
<hr>
<div class="row">
<div class="span6 pull-left">
<h3>Annonce</h3>
<?php
    echo $this->Form->create('Ad', array('action'=>'edit'));
        echo $this->Form->input('name', array('label' => 'Nom de l\'annonce', 'error' => array('attributes' => array('wrap' => 'div', 'class' => 'alert alert-error'))));
        echo $this->Form->input('category',array('label'=>'Définir si location ou vente','options'=>array('location' =>'location', 'vente' => 'vente'), 'empty' => 'choisir', 'error' => array('attributes' => array('wrap' => 'div', 'class' => 'alert alert-error'))));
        echo $this->Form->input('type', array('label' => 'Choisir le type de bien',
                                              'options' => array('appartement' => 'appartement', 'maison/villa' =>'maison/villa', 'terrain' => 'terrain'),
                                              'empty' => 'choisir',
                                              'error' => array('attributes' => array('wrap' => 'div', 'class' => 'alert alert-error')
                                              )));
        echo $this->Form->input('room', array('label' => 'Nombre de pièces *indiquer un chiffre', 
                                                'error' => array('attributes' => array('wrap' => 'div', 'class' => 'alert alert-error'))));
        echo $this->Form->input('country', array('label' => 'Le Pays',
                                                 'options' => array('France' => 'France', 'Espagne' => 'Espagne'),
                                                 'empty' => 'choisir',
                                                 'error' => array('attributes' => array('wrap' => 'div', 'class' => 'alert alert-error')
                                                )));
        echo $this->Form->input('city', array('label' => 'Ville',
                                              'options' => array('Antibes' => 'Antibes', 'Beaulieu' => 'Beaulieu', 'Cagnes sur mer' => 'Cagnes sur mer', 'Cannes' => 'Cannes', 'Cap d\'Ail' => 'Cap d\'Ail', 'Eze' => 'Eze', 'Juan les Pins' => 'Juan les Pins', 'La Turbie' => 'La Turbie', 'Menton' => 'Menton', 'Nice' => 'Nice', 'Roquebrune Cap Martin' => 'Roquebrune Cap Martin', 'Saint Jean Cap Ferrat' => 'Saint Jean Cap Ferrat', 'Saint Laurent du Var' => 'Saint Laurent du Var', 'Saint Tropez et alentours' => 'Saint Tropez et alentours', 'Villefrance' => 'Villefrance', 'Villeneuve Loubet' => 'Villeneuve Loubet', 'Alicante' => 'Alicante', 'Altea' => 'Altea', 'Benidorm' => 'Benidorm', 'Calpe' => 'Calpe', 'Santa Pola' => 'Santa Pola', 'Villajoyosa' => 'Villajoyosa' ),
                                              'empty' => 'choisir'
                                            ));
        echo $this->Form->input('price', array('label' => 'Prix *indiquer un chiffre, exemple pour 300 000 euros, écrire 300000'));
        echo $this->Form->input('description', array('label' => 'Description'));
        echo $this->Form->input('picture', array('label' => 'Liens image', 'type' => 'file'));
?>
</div>
<div class="span6 pull-right">
    <h3>Dossier lié à l'annonce (contacts du propriétaire, addresse du bien immobilier)</h3>
    <?php echo $this->Form->input('Record.address', array('label' => 'Addresse de l\'appartement')); ?>
    <?php echo $this->Form->input('Record.id', array('type' => 'hidden')); ?>
</div>
</div>

<?php /*echo $this->Form->button('Envoyer', array('type' => 'submit',
                                                'class' => 'btn btn-primary'));*/ ?>
<?php echo $this->Form->end('Valider'); ?> 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T19:46:47.053

那是因为您的表单中有一个文件输入。您需要在创建表单时指定它：

```
echo $this->Form->create('Ad', array('action'=>'edit', 'type' => 'file')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-02T08:36:21.087

在您需要的表单上使用“文件输入字段” `enctype=multipart/form-data`，为此您需要添加`'type'=>'file'`，否则在使用 cakephp“安全”组件时，您的保存/更新请求将被视为黑洞。

```
echo $this->Form->create('Ad', array('action'=>'edit', 'type' => 'file')); 
```

# regex - 正则表达式：如何忽略文本块

> ID：10848521
> 
> 赞同：0
> 
> 时间：2012-06-01T10:22:02.677
> 
> 标签：regex

我在包含在 {..} 中的 HTML 中使用了一些宏。我在 HTML 输出之前解析它。正则表达式看起来像`/\{(.*?)\}/`（例如我简化了它）。但后来我发现了问题。如果 HTML 包含 JavaScript，那么当它包含花括号时它就会损坏。所以我需要将我的正则表达式应用于不在`<script...></script>`标签内的文本。怎么做？

# hibernate - matlab tic toc 功能和电脑待机

> ID：10848522
> 
> 赞同：1
> 
> 时间：2012-06-01T10:22:03.917
> 
> 标签：hibernate, matlab, timing, standby, elapsedtime

我正在运行一个 matlab 程序，它的运行时间很长（几天）。我使用 tic 和 toc 函数测量程序各个步骤的运行时间。有时我会待机或休眠我的笔记本电脑以安全运输它。我的问题是待机对 tic-toc 函数测量的经过时间有任何影响吗？

谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T20:25:59.817

加上测试评论！但这里有一些阅读：

[http://www.mathworks.com/company/newsletters/articles/improvements-to-tic-and-toc-functions-for-measuring-absolute-elapsed-time-performance-in-matlab.html](http://www.mathworks.com/company/newsletters/articles/improvements-to-tic-and-toc-functions-for-measuring-absolute-elapsed-time-performance-in-matlab.html)

简而言之，tic/toc 基于操作系统提供的高分辨率计时器。 `gettimeofday()`在 Linux 和`QueryPerformanceCounter()`Windows 的情况下。这两个 API 都处理挂钟时间（不是 CPU 时间，也不是直接循环计数），所以我希望您的测试显示 tic 和 toc 在您的计算机处于睡眠状态且不进行任何计算时继续计数。

解决这个问题的一种方法是测量 tic/toc 以保证在几秒到几分钟之间完成的代码的小增量。然后，在聚合或报告时间结果之前，将任何大于某个安全运行时阈值（5 分钟？10 分钟？）的结果视为已被挂起中断。

# wcf - 负载均衡器后面的 WCF 服务的 WSDL 生成

> ID：10848523
> 
> 赞同：6
> 
> 时间：2012-06-01T10:22:07.443
> 
> 标签：wcf, ssl, load-balancing, svcutil.exe

**的背景：**

我在负载均衡器后面的 IIS 7.0 上托管了一项服务，该服务在流量通过它时解密 SSL。

服务所需的安全模式是混合模式，即 TransportWithMessageSecurity

为了使服务能够接受 HTTP 流量，同时允许客户端通过 SSL 与负载均衡器通信，我创建了一个用户定义的绑定，它将一个自定义 HttpTransportBindingElement 添加到其通道堆栈。

自定义的 HttpTransportBindingElement 反过来向框架断言它能够加密和签署消息......因此，当流量通过 HTTP 进入时，框架不会抱怨，因为传输声称它正在对消息进行签名/加密。 ..即使不是。

（*对于所有相关人员来说，这已被确定为可以接受的安全性，因为消息原本应该通过 SSL 到达负载均衡器......*）

**问题：**

当我们使用 svcutil.exe 生成客户端代理时，生成的自动生成的 app.config 文件包含一个通过 HTTP 寻址的服务端点。***这应该通过 HTTPS***。

此外，当 <customBinding> 节点中的 <transport> 元素**需要是 <httpsTransport> 元素时，它被定义为 <httpTransport> 元素**。

我怀疑这是因为服务器上的框架生成的 WSDL 是使用 HTTP 地址而不是 HTTPS > 而构建的，这是使用自定义 HttpTransportBindingElement 的结果（如上所述）。

**为客户端自动生成的 app.config：**

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
<system.serviceModel>
    <bindings>
        <customBinding>
            <binding name="myBindingEndpoint">
                <!--    WsdlImporter encountered unrecognized policy assertions in ServiceDescription 'http://tempuri.org/':    -->
                <!--    <wsdl:binding name='myBindingEndpoint'>    -->
                <!--        <sp:HttpToken xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">..</sp:HttpToken>    -->
                <security defaultAlgorithmSuite="Default" authenticationMode="CertificateOverTransport"
                    requireDerivedKeys="true" securityHeaderLayout="Strict" includeTimestamp="true"
                    keyEntropyMode="CombinedEntropy" messageSecurityVersion="WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10">
                    <localClientSettings cacheCookies="true" detectReplays="false"
                        replayCacheSize="900000" maxClockSkew="00:05:00" maxCookieCachingTime="Infinite"
                        replayWindow="00:05:00" sessionKeyRenewalInterval="10:00:00"
                        sessionKeyRolloverInterval="00:05:00" reconnectTransportOnFailure="true"
                        timestampValidityDuration="00:05:00" cookieRenewalThresholdPercentage="60" />
                    <localServiceSettings detectReplays="false" issuedCookieLifetime="10:00:00"
                        maxStatefulNegotiations="128" replayCacheSize="900000" maxClockSkew="00:05:00"
                        negotiationTimeout="00:01:00" replayWindow="00:05:00" inactivityTimeout="00:02:00"
                        sessionKeyRenewalInterval="15:00:00" sessionKeyRolloverInterval="00:05:00"
                        reconnectTransportOnFailure="true" maxPendingSessions="128"
                        maxCachedCookies="1000" timestampValidityDuration="00:05:00" />
                    <secureConversationBootstrap />
                </security>
                <textMessageEncoding maxReadPoolSize="64" maxWritePoolSize="16"
                    messageVersion="Default" writeEncoding="utf-8">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                        maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                </textMessageEncoding>
                <httpTransport manualAddressing="false" maxBufferPoolSize="524288"
                    maxReceivedMessageSize="65536" allowCookies="false" authenticationScheme="Anonymous"
                    bypassProxyOnLocal="false" decompressionEnabled="true" hostNameComparisonMode="StrongWildcard"
                    keepAliveEnabled="true" maxBufferSize="65536" proxyAuthenticationScheme="Anonymous"
                    realm="" transferMode="Buffered" unsafeConnectionNtlmAuthentication="false"
                    useDefaultWebProxy="true" />
            </binding>
        </customBinding>
    </bindings>
    <client>
        <endpoint address="http://myserver/GAEASSLWcfService/ServiceOverSSL.svc"
            binding="customBinding" bindingConfiguration="myBindingEndpoint"
            contract="IServiceOverSSL" name="myBindingEndpoint" />
    </client>
</system.serviceModel>
</configuration> 
```

**解决方法：**

只需将 <httpTransport /> 更改为 <httpsTransport /> 并重新寻址端点以使用 HTTPS 即可解决问题。

但我们宁愿不必指示我们的服务消费者更改他们的 .config 文件......我们的服务的使用应该尽可能的无缝......

**问题：**

我如何确保客户端代理将使用正确的地址和传输元素自动生成？？？

*参考：对于那些想要了解“负载平衡器/ssl 解密器背后的服务”和自定义 HttpTransportBindingElement 的解决方案的人，请参阅 ZZZ 的这篇文章 XXX 关于构建用户定义的绑定以及 ZZZ 的这篇文章 XXX 关于一些在负载平衡/SSL 加速器后面公开服务的其他问题。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T19:17:52.667

我遇到了同样的问题，我的 WSDL 是在负载均衡器后面使用 http 方案而不是 https 生成的。

我已经反映了 WCF 代码，但我找到了一个对我有用的解决方案。

除了 useRequestHeadersForMetadataAddress 之外，还需要在 serviceMetadata 中关闭 httpGetEnabled 和 httpsGetEnabled。

此外，如果您像我认为的那样使用.net 4，而不是添加自定义 HttpTransportBindingElement，只需使用标准 HttpTransportBindingElement 并在您的 TransportSecurityBindingElement 上设置 AllowInsecureTransport。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T17:52:14.487

看看[这个问题](https://stackoverflow.com/questions/5007270/wcf-in-azure-how-to-change-wsdl-url-from-internal-machine-name-to-public)。尝试配置：

```
<serviceBehaviors>
   <behavior name="<name>">
     <!-- Other options would go here -->
     <useRequestHeadersForMetadataAddress>
       <defaultPorts> <!-- Use your own port numbers -->
          <add scheme="http" port="81" />
          <add scheme="https" port="444" />
        </defaultPorts>
      </useRequestHeadersForMetadataAddress>
   </behavior>
</serviceBehaviors> 
```

# nhibernate - 使用 Fluent NHibernate SQL Server CE 无法创建驱动程序

> ID：10848524
> 
> 赞同：1
> 
> 时间：2012-06-01T10:22:14.370
> 
> 标签：nhibernate, sql-server-ce, fluent

> 无法从`NHibernate.Driver.SqlServerCeDriver, NHibernate, Version=3.3.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4`.

内部异常：找不到程序集 System.Data.SqlServerCe 中的 IDbCommand 和 IDbConnection 实现。确保程序集 System.Data.SqlServerCe 位于应用程序目录或全局程序集缓存中。如果程序集在 GAC 中，请使用应用程序配置文件中的元素来指定程序集的全名。

这是我尝试使用 fluent nHibernate 时遇到的错误！

我尝试配置的简单示例不适用于使用此 dll 的本地数据库。

我的代码：

```
private static String ConnectionString = "Data Source = Database1.sdf";

public static ISessionFactory CreateSessionFactory()
{
        return Fluently.Configure()
            .Database(MsSqlCeConfiguration.Standard
            .ConnectionString(ConnectionString)
            .Driver<NHibernate.Driver.SqlServerCeDriver>()
            .Dialect<NHibernate.Dialect.MsSqlCeDialect>())
            .Mappings(m => m.FluentMappings.AddFromAssembly(System.Reflection.Assembly.GetExecutingAssembly()))
            .ExposeConfiguration(BuildSchema)
            .ExposeConfiguration(x => x.SetProperty("connection.release_mode", "on_close"))
            .BuildSessionFactory();
}

private static void BuildSchema(Configuration configuration)
{
        SchemaExport schemaExport = new SchemaExport(configuration);
        schemaExport.Execute(false, true, false);
} 
```

谢谢！这很重要！

我发现它在 buildsessionfactory 中中断了...helpppp ！！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2018-11-15T14:56:30.187

如果您是从 .net 核心来的，并且您会收到错误消息

> 找不到程序集 System.Data.SqlServerCe 中的 IDbCommand 和 IDbConnection 实现。确保程序集 System.Data.SqlServerCe 位于应用程序目录或全局程序集缓存中。如果程序集在 GAC 中，请使用应用程序配置文件中的元素来指定程序集的全名。

假设您已经通过 NuGet 安装了 NHibernate，那么您需要确保安装了适当的 Sql 包。那里有几个非官方`System.Data.SqlServerCe`的。就我而言，我需要`System.Data.SqlClient`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T12:02:19.213

你确定你的 bin 目录中有 NHibernate 的 Version=3.3.0.4000 吗？看起来您的 bin 目录中有不同的 NHibernate 版本。

如果您确定它在那里，请检查您的引用是否正确：

您的项目中是否有以下参考：

```
"System.Data.SqlServerCe" 
```

它位于以下目录中：

```
"C:\Program Files\Microsoft SQL Server Compact Edition\v3.5\Desktop\System.Data.SqlServerCe.dll" 
```

确保你有：

```
"Copy Local" to true. 
```

# java - Java是否能够进行进程监控？

> ID：10848529
> 
> 赞同：3
> 
> 时间：2012-06-01T10:22:33.963
> 
> 标签：java, monitor

是否可以用 Java 编写一个在托盘中运行的应用程序，并且当某个应用程序启动时，它可以检测到它？我想对某些程序执行此操作，以了解我每周使用它们的时间。我是 Java 新手，所以我不知道 Java 是否是最好的语言，或者它是否可以正确访问操作系统来执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:32:15.647

Java 本身并没有太多集成到系统特定的功能中（大多数其他通用语言也没有）。如果您在谈论 Windows，则选择的系统语言将是 C#（或 C/C++）。在 Mac 上，它是 ObjectiveC（或 C/C++）。在linux上，它会是C。

要访问给定系统上的进程监控设施，您需要首先了解您将要使用的 API。然后，您可以评估给定语言是否具有对这些 API 的内置或第三方库支持。

对于 Java，您需要编写一些[JNI](http://docs.oracle.com/javase/1.5.0/docs/guide/jni/spec/jniTOC.html)（C 代码）、使用[JNA](https://github.com/twall/jna/)（仅限 Java）或解析[Runtime.exec()](http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String%5B%5D%29)的输出（调用各种系统/shell 命令）来访问系统 API与管理和/或监控流程有关。

# objective-c - 如何设置 2 UISwipeGestureRecognizer

> ID：10848531
> 
> 赞同：0
> 
> 时间：2012-06-01T10:22:37.073
> 
> 标签：objective-c, ios

我正在寻找一种将 UISwipeGestureRecognizers 添加到 1 个视图的方法。一种检测向下滑动，另一种检测向右滑动。我在 SE 上遇到过类似的问题，但是它们并没有解决我的问题。

我目前有

```
 swipeGest = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(respondToSwipe:)];
[swipeGest setDirection:UISwipeGestureRecognizerDirectionDown];
[swipeGest setNumberOfTouchesRequired:1];
[swipeGest setDelegate:self];
[self.viewAnimation addGestureRecognizer:swipeGest]; 
```

和

```
 sideSwipe = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(sideSwipe:)];
[swipeGest setDirection:UISwipeGestureRecognizerDirectionRight];
[swipeGest setNumberOfTouchesRequired:1];
[sideSwipe setDelegate:self];
[self.viewAnimation addGestureRecognizer:sideSwipe]; 
```

发生的情况是第二个 sideSwipe 识别器覆盖了第一个。我尝试使用另一个线程中建议的委托方法，但没有成功。如果有人成功做到这一点吗？所以我会很感激一个指针。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:27:04.150

向右滑动的第 2 和第 3 行正在使用`swipeGest`，应该是`sideSwipe`

看起来像复制粘贴错误。

# uitableview - 在基于导航的应用程序中未调用 tableview 数据源方法

> ID：10848535
> 
> 赞同：1
> 
> 时间：2012-06-01T10:22:46.577
> 
> 标签：uitableview, ios5, xcode4

在我的应用程序中，控制转到 numberOfSectionsInTableView 和 numberOfRowsInSection 数据源方法，但不转到 cellForRowAtIndexPath。我找不到问题，请任何机构为此提供解决方案。提前致谢

# java - 将数据从 ORACLE Internet Directory (OID) 复制到 apacheDS LDAP

> ID：10848536
> 
> 赞同：1
> 
> 时间：2012-06-01T10:22:47.083
> 
> 标签：java, ldap, oid, apacheds

我在 Oracle Internet Directory Server 上有用户和组，我想将所有内容传输到 ApacheDS。

甚至有可能还是有任何简单的方法可以解决这个问题？

我曾尝试使用 Apache Directory Studio 复制/粘贴内容，但出现错误：

```
#!RESULT ERROR
#!CONNECTION ldap://xxx.xxx.xxx.xxx:10389
#!DATE 2012-06-01T10:08:05.769
#!ERROR [LDAP: error code 16 - NO_SUCH_ATTRIBUTE: failed for MessageType : 
ADD_REQUEST Message ID : 11     
Add Request : Entry     
dn[n]: dc=xxxx,dc=com     
objectclass: orclSubscriber     

objectclass: domain     
objectclass: top     
orclaci: access to entry by
group="cn=RealmAdministrators,cn=groups,cn=OracleContext,dc=xxx,dc=com"
(browse,add,delete)     
orclaci: access to attr=(*) by 
group="cn=RealmAdministrators,cn=groups,cn=OracleContext,dc=xxx,dc=com" (read, write, 
search, compare)     
dc: xxx     
orclsubscriberfullname: xxx     
orclversion: 90400     orclentrylevelaci: access to entry by * (browse,noadd,nodelete)     
orclentrylevelaci: access to attr=(jpegPhoto) by group="cn=OracleDASConfiguration, 
cn=Groups,cn=OracleContext,dc=xxx,dc=com" (read,write,search,compare)     
orclentrylevelaci: access to attr=(*) by * (read,search,nowrite,nocompare) : 
ERR_04269 ATTRIBUTE_TYPE for OID orclaci does not exist!] 
```

我猜 ApacheDS 无法识别 OID (orclaci) 使用的某些属性，但我不确定如何解决这个问题，以便我可以将目录条目从 Oracle IDS 复制到 ApacheDS

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T12:45:25.817

在高水平：

首先，确保您在目标服务器上安装了适当的架构元素。

### 导出/导入方法

*   检查目标服务器上是否存在必要的架构
*   将数据从源目录服务器导出到 LDIF 文件
*   将 LDIF 导入目标

### 蛮力

使用 搜索每个条目`ldapsearch`，将其保存在文件中或直接通过管道传输到`ldapmodify`. 除非模式已经匹配，否则这将不起作用，并且您具有以下必要的访问权限：

*   从源中获取每个条目
*   将条目添加到目标

### 也可以看看

*   [低密度脂蛋白](https://www.rfc-editor.org/rfc/rfc2849)
*   [LDAP：使用 ldapsearch](http://ff1959.wordpress.com/2011/07/27/mastering-ldapsearch/)

# centos5 - 为什么我的服务器的“平均负载”是 5，而 cpu 却不忙？

> ID：10848540
> 
> 赞同：0
> 
> 时间：2012-06-01T10:22:59.097
> 
> 标签：centos5

为什么我的服务器的“平均负载”是 5，而 cpu 却不忙？

有人知道如何解决这个问题吗？原因是什么？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:32:46.720

可能是iowait。来自关于“平均负载”的维基百科文章：

大多数 UNIX 系统只计算处于运行（在 CPU 上）或可运行（等待 CPU）状态的进程。但是，Linux 还包括处于不间断睡眠状态的进程（通常等待磁盘活动），如果许多进程由于 I/O 系统繁忙或停止而在 I/O 中保持阻塞，这可能会导致明显不同的结果。

# php - 字符串中的PHP CSV正则表达式

> ID：10848548
> 
> 赞同：0
> 
> 时间：2012-06-01T10:23:15.617
> 
> 标签：php, regex, csv

我有一个 csv 文件。在这方面，我有一个不好的性格：`arr‰t`。我会这个“arret”

我对此进行了测试： $bodytag = str_replace("‰", "e",$content); 不起作用。

所以我搜索了一个我说的查询：找到一个以“arr”开头并以“t”结尾的单词，并将所有字符串替换为“arret”。我找到了一个获取内容的函数，但我无法进行查询。

```
 function str_between($str,$start,$end) {
  if (preg_match_all('/' . preg_quote($start) . '(.*?)' . preg_quote($end) . '/',$str,$matches)) {
   return $matches[1];
  }
  // no matches
  return false;
} 
```

你能帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:29:49.203

你试过了`preg_replace('/‰/', 'e', $string);`吗？
它对我有用，带有字符串`"arr‰t"`，`preg_replace`返回我`"arret"`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T19:02:51.603

*我的 2 美分：*您的文件可能包含`doctype`指定不支持的编码字符。`Arret`在法语中，“e”上方有一个小“帽子”，如`"ê"`. 检查是否可以搜索和/或替换为/与`&ecirc;`或`&#234;`

# python - Python：从使用过滤器更尴尬的列表中删除多个值

> ID：10848549
> 
> 赞同：0
> 
> 时间：2012-06-01T10:23:17.530
> 
> 标签：python

试图创建一个包含多个扩展名的文件列表以进行迭代。大多数关于堆栈溢出的答案都涉及使用 lambda 进行过滤，但我不确定在这种情况下如何工作（只是因为迭代的设置方式）。到目前为止我有

```
import fnmatch

excluded = ['*.py', '*.py~']

fileNames = []

for fileName in os.listdir('.'):
    fileNames.append(fileName)
    print fileNames

for p in excluded:
    if fnmatch.fnmatch(fileName, p):
        fileNames.remove(fileName)
        print fileNames 
```

显然问题是 list.remove 只删除第一个实例而不是所有实例。你认为解决这个问题最有效的方法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:27:37.503

使用列表理解））：

```
filtered = [x for x in os.listdir('.') if not any(fnmatch.fnmatch(x, p) for p in excluded)] 
```

或者，使用正则表达式的更紧凑的代码：

```
filtered = [x for x in os.listdir('.') if not re.search(r'\.py~?$', x)] 
```

或简单地使用`endswith`

```
excluded = ('.py', '.py~')
filtered = [x for x in os.listdir('.') if not x.endswith(excluded)] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:25:36.557

使用[列表理解](https://www.youtube.com/watch?v=t85uBptTDYY)：

```
for p in excluded:
    fileNames = [filename for filename in fileNames if not fnmatch.fnmatch(filename, p)] 
```

您也可以使用以下方法更好地做到这一点[`any()`](http://docs.python.org/library/functions.html#any)：

```
fileNames = [filename for filename in fileNames if not any(fnmatch.fnmatch(filename, p) for p in excluded)] 
```

请注意，您正在制作的列表是没有意义的，因为`os.listdir()`无论如何都会返回一个列表，因此您可以这样做`fileNames = os.listdir()`以获得相同的结果 - 甚至将其放在列表理解中：

```
fileNames = [filename for filename in os.listdir() if not any(fnmatch.fnmatch(filename, p) for p in excluded)] 
```

如果您想在构建列表时编辑值，您也可以使用列表推导来执行此操作。

另一种选择是`fnmatch`具有[`fnmatch.filter()`](http://docs.python.org/library/fnmatch.html#fnmatch.filter).

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T10:27:46.693

```
def includefilename(fileName):
    for ex in excluded:
        if fnmatch.fnmatch(fileName, ex):
            return False
    return True

fileNames = [fileName for fileName in fileNames if includefilename(fileName)] 
```

# javascript - 在 JavaScript 中，为什么“反向 while”循环比“for”快一个数量级？

> ID：10848552
> 
> 赞同：4
> 
> 时间：2012-06-01T10:23:25.337
> 
> 标签：javascript, performance, for-loop, while-loop, v8

在这些基准测试中，[http](http://jsperf.com/the-loops) ://jsperf.com/the-loops，Barbara Cassani 表明“反向 while”循环要快得多，

```
while (iterations > 0) {
    a = a + 1;
    a = a - 1;
    iterations--;
} 
```

比通常的“for”循环：

```
for (i = 0; i < iterations; i++) {
    a = a + 1;
    a = a - 1;
} 
```

为什么？

**更新**

好吧，算了，测试有个bug，`iterations = 100`每页只执行一次。因此，减少它意味着我们并没有真正进入循环。对不起。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T11:29:38.647

Except for the big bug in the initial test, here are the results:

*   `for` vs `while` makes no difference
*   but `>` or `<` are better than `!==`

[http://jsperf.com/the-loops/15](http://jsperf.com/the-loops/15)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:30:58.177

这是因为每个 JavaScript 引擎的内部细节。不要将它用于优化，因为你不能在逻辑上指望它总是随着引擎的变化而变得更快。例如，查看[您链接的测试的最新版本，](http://jsperf.com/the-loops/8)并注意如果在最近的浏览器上存在差异，则差异要小得多。

# jquery - jquery 中的动态 div 渲染。光标移动以在重新加载 div 时开始

> ID：10848553
> 
> 赞同：0
> 
> 时间：2012-06-01T10:23:30.627
> 
> 标签：jquery, html, cross-browser

嗨，我有一个 jquery 脚本，它每 5 秒调用一次服务器，并将内容（通过同步 ajax 调用）重新加载到 div 中，如果 div 的内容溢出，它会启用滚动条。现在在重新加载 div 的内容时在其他浏览器上。滚动条保持其位置。但在 Firefox 上，滚动条移回 div 的开头。有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:29:10.747

试试`ajaxSuccess()`；

```
var st;

$('#div').ajaxStart(function(){
   st = $(this).scrollTop();
})

$('#div').ajaxSuccess(function(){
   $(this).scrollTop(st);
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:29:17.143

在我的脑海中，一种选择是`scrollTop`在重新加载内容之前存储 div 的 ，然后再次设置它。例如：

```
var scrollTop = $(".foo").scrollTop();

// load some content into .foo, then

$(".foo").scrollTop(scrollTop); 
```

# c# - 在 ASP.NET MVC3 模型绑定器中使用依赖注入

> ID：10848560
> 
> 赞同：10
> 
> 时间：2012-06-01T10:24:09.050
> 
> 标签：c#, .net, asp.net-mvc, dependency-injection, ninject

我正在 MVC3 网站上工作，尝试使用 Ninject 来解决我的依赖关系。我有以下情况：

```
public class UserModelBinder : IModelBinder
{
    //[Inject]
    public UserDataService userData { get; set; }

    public object BindModel(
        ControllerContext controllerContext,
        ModelBindingContext bindingContext)
    {
        Guid UserID =
            (Guid)Membership.GetUser().ProviderUserKey;

        //userDataService = DependencyResolver.Current
        //    .GetService<UserDataService>();

        User user = userDataService.GetUser(UserID);

        return user;
    }
} 
```

*注意到注释的代码行了吗？*

我确实将活页夹注册`Global.asax`为

```
ModelBinders.Binders[typeof(User)] = new UserModelBinder(); 
```

所以我不能真正通过施工进行注射。

`UserDataService`有一个依赖链：`UserDataService -> UserRepository -> Context`. 所以在这里使用 Ninject 会很好。

问题是，当我取消注释`[Inject]`上面的`userData`声明并尝试让 Ninject 将对象作为参数注入时，由于某种原因它不起作用：我得到空引用异常。

（*可能是`UserDataService`没有接口，我将对象绑定到自身：`kernel.Bind<UserDataService>().ToSelf();`??*）

我在代码中有另一行注释：

```
userDataService = DependencyResolver.Current
    .GetService<UserDataService>(); 
```

当取消注释时，设置有效，我插入了正确的对象，但现在我们依赖于 DependencyResolver，这并不比说好多少`userDataService = new UserDataService()`

我错过了什么吗？是否有另一种方法可以将对象作为参数注入而不引入对 Ninject 或 DependencyResolver 的依赖？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T13:02:21.667

模型绑定器应该只进行数据转换，不应该依赖任何服务，当然也不应该触发任何数据库通信。这应该在您的应用程序的另一部分完成。您的 Action 方法应该只接受 a`Guid userId`并且您应该`userDataService.GetUser(UserID);`从控制器内部（或在较低层，例如，在[业务命令](https://cuttingedge.it/blogs/steven/pivot/entry.php?id=91)内部）调用。通过这样做，您的问题将不存在。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-01T14:16:30.413

你可以这样做：

```
public class UserModelBinder : IModelBinder
{
    public Func<UserDataService> UserData { get; set; }

    public object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
    {
        Guid UserID = (Guid)Membership.GetUser().ProviderUserKey;

        User u = UserData().GetUser(UserID);

        return u;
    }
} 
```

然后当你连接它时：

```
ModelBinders.Binders[typeof(User)] = new UserModelBinder() 
{  
    userData = () => DependencyResolver.Current.GetService<UserDataService>();
} 
```

好处是您`UserModelBinder`不知道容器正在被使用，同时仍处于打开状态以供注射。

但我同意[Steven](https://stackoverflow.com/a/10850824/57132)的观点——为此使用模型活页夹似乎不太正确。相反，您可以将 an 注入`ICurrentUserContext`到您的控制器中，实现返回当前用户。然后，您甚至不需要向控制器操作添加参数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T12:11:33.093

使用`DependencyResolver.Current`获取您的服务。这实际上比 using 好得多*，*`new`因为这意味着您没有将该服务与服务类型耦合。您可以稍后决定`UserDataService`在不更改客户端代码的情况下进行抽象并插入不同的变体，这确实是重点。

此外，`DependencyResolver.Current`它是一个可设置的`IDependencyResolver`，因此您可以自己实现该接口，如果您喜欢该框架，则可以使用 Ninject 支持它的类。

在 MVC3 中进行依赖注入的另一种方法是设置你自己的`IControllerActivator`，如果你愿意，它允许你进行构造函数注入。

# android - 使用 Android 库项目

> ID：10848563
> 
> 赞同：0
> 
> 时间：2012-06-01T10:24:20.903
> 
> 标签：android, admob

我正在开发一个安卓项目。在我的项目中，我引用了一个 android 库项目。该库项目有一个引用的“google admobe 库”。当我从我的应用程序调用 admob 类时，它以“No classdef error”关闭。请帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:29:40.577

如果 admob 有任何 jar 文件依赖项，则需要将它们复制到主项目中，并确保在项目设置中正确添加它们。

[https://developers.google.com/mobile-ads-sdk/docs/android/fundamentals](https://developers.google.com/mobile-ads-sdk/docs/android/fundamentals)

# php - 秒后获得价值-在php中

> ID：10848564
> 
> 赞同：0
> 
> 时间：2012-06-01T10:24:29.743
> 
> 标签：php

我在一个字符串中有 E-20-99，我想得到最后一个值 99 并添加 1 表示 100，然后想要生成新的字符串 E-20-100。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:32:07.207

```
$old_str = 'E-20-99';
$new_str = preg_replace_callback('/(?<=-)\d+$/', function($matches) {
  return $matches[0] + 1;
}, $old_str); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:28:09.470

如果字符串总是 E-20-XX 你可以使用

```
$n = ((int)substr('E-20-99', strlen('E-20-')))+1;
echo 'E-20-' . $n; 
```

如果字符串可能变化更多，您可以使用正则表达式，例如：

```
$string = 'E-20-99';
preg_match('/(E-\d+-)(\d+)/', $string, $match);
echo $match[1] . ((int)$match[2] + 1); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T10:28:55.093

如果您的字符串 ALWAYS 看起来像这样，您可以轻松地在没有正则表达式的情况下打破它，只需使用`explode()`

```
$string = "E-20-99";
$parts = explode('-', $string);

$last_part = $parts[2] + 1;
$parts[2] = $last_part;

$string = implode('-', $parts);

echo $string; 
```

# jquery - jQuery-UI 可选输出数组到隐藏形式

> ID：10848566
> 
> 赞同：3
> 
> 时间：2012-06-01T10:24:34.843
> 
> 标签：jquery, jquery-ui

在使用谷歌时，这个网站总是会为我的问题提供答案，但我一直在努力寻找答案，所以我想我会注册，打个招呼，然后问:)

我有一个时间表（使用 html 表），每个单元格都标记为可选择 jquery-ui 可选择。

然后我有一个带有按钮的表单，它将使用 POST 来预订选定的单元格。

```
<form  method="get" action="../test" id="add">
                    <button type="submit" class="btn btn-primary">Book selected period(s)</button>
                </form> 
```

在可选择的序列化示例中，它显示它选择了很好的数字。但是当我按下按钮（使用 GET 进行测试）时，它似乎得到了错误的数字。例如，如果我选择单元格 1 并单击书，它会在 GET 中显示 cell_id=1，但如果我选择单元格 1 和单元格 2，它会循环计算它们，因此 GET 会显示 cell_id=1、cell_id=1、cell_id=2 （所以数 1，然后是 1+1 而不仅仅是 1+1）

这意味着如果我选择 5 个单元格，我会得到 15 个结果（1+2+3+4+5）而不是 5 个。有没有办法解决这个问题。这是我到目前为止在 javascript 中的内容：

```
 $( "#selectable" ).selectable({
         filter: ".selectable",
            stop: function() {
                $( ".ui-selected", this ).each(function() {
                    var data = $(this).data();
                    $(data).each(function(key, value){
                        var period_id = document.createElement("input");
                        period_id.setAttribute("type", "hidden");
                        period_id.setAttribute("name", "booking[1][period]");
                        period_id.setAttribute("value", data.period);
                        document.getElementById("add").appendChild(period_id);
                   });

                });
            }
        }); 
```

在上面的位中，我从单元格中获取 period_id，该单元格取自其他一些 php。如果选择单个单元格而不是多个单元格，它会按预期工作。如果需要任何其他代码来帮助回答这个问题，请告诉我

谢谢

**编辑** 作为补充，这是我希望实现的（为了更清楚地理解我的意思）。用户看到时间表网格。他们可以选择一个单元格并选择书籍，这将通过 POST 传递他们选择的时间和日期数组以转到 booking.php。他们还可以选择多个单元格，然后单击 book，然后将每个单元格作为数组传递以进行预订，因此 php 可以循环遍历所有单元格数组并使用 jquery 可选返回的房间/天 ID 预订多个单元格。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T06:31:17.140

这是我想出的使用隐藏输入元素的解决方案。

**jQuery**

```
 //Activities Selectable
            $(".selectable-activities").selectable(
                {filter: "li"},
            {
                stop: function() 
                    {//places selected in input box
                        var text = "";
                        $( "#activities-input" ).val(text);
                        $( ".ui-selected", this ).each(function() {
                            var index = $(this).attr("id");
                            text = text + " " + index;
                            $( "#activities-input" ).val(text);
                        });
                    }

            },
            //Clears input box on reload
            {   create: function() {$( "#activities-input" ).val("");}}
            ); 
```

**html**

```
 <fieldset>
                <legend>Environmental</legend>
                <ol class="selectable selectable-activities">
                    <li class="ui-state-default" id="LNTS" >"leave No Trace" Skills</li>
                    <li class="ui-state-default" id="Aqua" >Aquatic Ecology / Study</li>
                    <li class="ui-state-default" id="OutSkill" >Camping Skills / Outdoor Living</li>
                    <li class="ui-state-default" id="Cons" >Conservation</li>
                    <li class="ui-state-default" id="Ento" >Entomology</li>
                    <li class="ui-state-default" id="Farm" >Farming / Gardening</li>
                    <li class="ui-state-default" id="Fores" >Forest Ecology</li>
                    <li class="ui-state-default" id="Geol" >Geology (Earth)</li>
                    <li class="ui-state-default" id="Herp" >Herpetology (amphibians & Reptiles)</li>
                    <li class="ui-state-default" id="Mari" >Marine Science</li>
                    <li class="ui-state-default" id="Natur" >Nature Explosure</li>
                    <li class="ui-state-default" id="Oni" >Ornithology (Birds)</li>
                    <li class="ui-state-default" id="Vet" >Veterinary Science</li>
                    <li class="ui-state-default" id="WildLi" >Wildllife Ecology</li>
                    <li class="ui-state-default" id="Zoo" >Zoology (Animals)</li>
                </ol>
                </fieldset>

                <!--Here is the hidden input-->
                <input type="hidden" name="a" id="activities-input" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:26:52.153

```
<pre>
     $( "#selectable" ).selectable({
     filter: ".selectable",
        stop: function() {
            $( ".ui-selected", this ).each(function() {
                var data = $(this).data();
                $(data).each(function(key, value){
                    var period_id = document.createElement("input");
                    period_id.setAttribute("type", "hidden");
                    period_id.setAttribute("name", "booking["+key+"][period]");
                    period_id.setAttribute("value", data.period);
                    document.getElementById("add").appendChild(period_id);
               });

            });
        }
    }); 
```

预订[1] => 预订[键]。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-21T08:51:25.590

我最终解决这个问题的方法是添加

```
var count = 0 
```

就在之前

```
$( ".ui-selected", this ).each(function() { 
```

然后每个字段都有这个

```
date_id.setAttribute("name", "booking["+count+"][date]"); 
```

然后在循环结束时

```
count = count + 1 
```

为我工作，但感谢大家的建议

# google-maps-api-3 - 在 Google Maps V3 中在鼠标悬停时传播标记。（不是集群）

> ID：10848573
> 
> 赞同：1
> 
> 时间：2012-06-01T10:24:42.887
> 
> 标签：google-maps-api-3, google-maps-markers

我正在谷歌地图（API v3）上绘制一些标记。例如，如果在一个地方有 3-4 个标记，并且有人做了鼠标悬停，我想将它们分散开来。这样，任何人都可以轻松单击特定标记。

注意：我不想显示使用标记集群，然后在单击集群时缩放地图。

这是我想要实现的一个示例：尝试在此地图上将鼠标悬停：[http](http://www.austria.info/uk/interactive-austria-map) ://www.austria.info/uk/interactive-austria-map无论您在哪里看到一些标记。它是如何实施的？有任何图书馆/示例代码吗？

谢谢你的时间！喜满洲

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T13:01:56.057

我没有使用过它，但它说它可以满足您的需求：

[https://github.com/jawj/OverlappingMarkerSpiderfier](https://github.com/jawj/OverlappingMarkerSpiderfier)

# twitter-bootstrap - Twitter引导模式在淡入后隐藏

> ID：10848574
> 
> 赞同：1
> 
> 时间：2012-06-01T10:24:46.147
> 
> 标签：twitter-bootstrap, modal-dialog

嗨，我有模态问题

```
<div id="myModal" class="modal hide fade">
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Modal header</h3>
    </div>
    <div class="modal-body" style="text-align:center">
        <p>
            <ul class="thumbnails">
            <li class="span3" style="">
                <img src="http://placehold.it/260x180" alt="">
            </li>
            </ul>
        </p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn btn-danger">Delete</a>
    </div>
</div> 
```

这就是我所说的模态

```
<td><a data-toggle="modal" href="#myModal">Show poster</a></td> 
```

并在单击链接模式后淡入和淡出而不单击关闭按钮。我从他们的网站上复制了这段代码，有什么问题？

**编辑**### SOLUTION ### 在模态源代码文件中我评论了这个函数

```
 /* MODAL DATA-API
  * ============== */
 /*
  $(function () {
    $('body').on('click.modal.data-api', '[data-toggle="modal"]', function ( e ) {
      var $this = $(this), href
        , $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) //strip for ie7
        , option = $target.data('modal') ? 'toggle' : $.extend({}, $target.data(), $this.data())

      e.preventDefault()
      $target.modal(option)
    })
  })
*/ 
```

现在效果很好

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T15:23:05.570

注释掉插件源代码中的某些内容**不是**解决问题的正确方法。你没有正确使用它。如果你想禁用数据 API，你应该这样做：

从[文档](https://github.com/twitter/bootstrap/tree/master/js)中：

> 数据属性 API
> 
> 我们相信您应该能够完全通过标记 API 使用 Bootstrap 提供的所有插件，而无需编写一行 javascript。这是引导程序的一流 api。
> 
> 我们承认这并不总是性能最高的，有时可能需要完全关闭此功能。因此，从 2.0 开始，我们提供了禁用数据属性 API 的功能，方法是取消绑定以“data-api”命名的主体上的所有事件。这看起来像这样：

```
$('body').off('.data-api') 
```

> 要针对特定​​插件，只需将插件名称作为命名空间与 data-api 命名空间一起包含，如下所示：

```
$('body').off('.alert.data-api') 
```

如果您不想禁用该 API（我不知道您包含什么 JS 或自己编写）并且它仍然无法正常工作，请发布您呈现的页面代码，以便我们可以查看正在发生的其他事情并为您提供帮助以正确的方式修复它。

# objective-c - Xcode 4.3.2 调试区域中的表达式未评估

> ID：10848578
> 
> 赞同：0
> 
> 时间：2012-06-01T10:24:58.180
> 
> 标签：objective-c, xcode, debugging, xcode4, xcode4.3

我做错了什么。我添加了一个表达式，我可以在 Debug 区域中看到带有“E”符号的表达式，但是该表达式没有被评估，它的值没有显示在那里（它当时在范围内）。

当我直接使用调试器（lldb）时，它运行良好。

![表达式。 未在 GUI 中评估](../Images/96798618deeb577230baa33e3ecb717a.png)

Xcode 4.3.2。

我该怎么办？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T11:31:10.420

您正在尝试评估布尔值并将其作为对象打印。

您想使用`print [self isEditing]`or `print (BOOL)[self isEditing]`，这取决于调试器是否抱怨它不知道成员的类型。

该`po`命令打印对象描述，而不是任意值，并且仅应在右侧表达式的结果是对象时使用，例如`po self`.

表达式编辑器中也会出现同样的问题。如果您使用表达式`[self isEditing]`，调试器将无法理解它。但是，如果您使用`(BOOL)[self isEditing]`，它将正确显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T16:05:04.800

尝试将表达式添加为`self.isEditing`，不带方括号。在这里工作

# windows-phone-7 - 将数据从独立存储加载到列表集合失败

> ID：10848579
> 
> 赞同：0
> 
> 时间：2012-06-01T10:24:58.357
> 
> 标签：windows-phone-7, silverlight-4.0, windows-phone-7.1

我已将近 150 张高分辨率图像存储到独立存储中，分辨率为 789x 1299。我的问题是，当我将 60 - 70 个图像加载到列表集合中时，它工作正常，但是当 bi.SetSource(ms) 中发生超过 70 个内存不足异常时。我在项目模板中使用虚拟化 satck 面板。什么原因

```
 List<SampleData> data = new List<SampleData>();
        try
        {

            for (int i = 0; i < 150; i++)
            {

                byte[] data2;

                using (IsolatedStorageFile isf = IsolatedStorageFile.GetUserStoreForApplication())
                {

                    using (IsolatedStorageFileStream isfs = isf.OpenFile("IMAGES" + i + ".jpg", FileMode.Open, FileAccess.Read))
                    {
                        data2 = new byte[isfs.Length];
                        isfs.Read(data2, 0, data2.Length);
                        isfs.Close();
                    }

                }

                MemoryStream ms = new MemoryStream(data2);

                BitmapImage bi = new BitmapImage();

                bi.SetSource(ms);

                data.Add(new SampleData() { Name = bi });

            }
            this.list.ItemsSource = data;

        }
        catch(Exception ex)
        {
            MessageBox.Show(ex.ToString());

        }

        }

    public class SampleData
    {
        public ImageSource Name
        {
            get;
            set;
        }

    }
} 
```

}

```
 <ListBox x:Name="list" Width="480">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Margin="10">

                        <Image Height="500" Width="500" Source="{Binding Name}" />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel VirtualizingStackPanel.VirtualizationMode="Recycling" Orientation="Vertical"/>

                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>
        </ListBox> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T14:47:11.747

我相信通过创建第`BitmapImages`一个，WP7 会预先为每个图像分配内存，而不是当列表框中的项目滚动到视图中时。尝试将字节数组而不是`BitmapImage`, 存储在`SampleData`类中，然后`BitmapImage`在调用时通过属性创建 。

所以 SampleData 看起来像这样：

```
public class SampleData
{
    public byte[] ImgData {get;set;}
    public BitmapImage Image
    {
        get
        {
            BitmapImage bi = new BitmapImage();
            MemoryStream ms = new MemoryStream(ImgData);
            bi.SetSource(ms);
            return bi;
        }
    }
} 
```

由于您有许多高分辨率图像，您可能仍然会遇到性能问题 - 我可能建议为 存储这些图像的较低分辨率版本`ListBox`，然后在用户需要查看该特定图像时显示高分辨率图像？希望这可以帮助！

# android - 我可以在亚马逊以外的设备上使用亚马逊应用内计费吗？

> ID：10848581
> 
> 赞同：0
> 
> 时间：2012-06-01T10:25:00.787
> 
> 标签：android, google-play, amazon, in-app-billing, in-app

我可以在亚马逊以外的设备上使用亚马逊应用内计费吗？我有三星 Galaxy Tab 10.1 和 Play Book。亚马逊应用内计费是否适用于这些设备？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-29T15:41:45.507

如果您想跨多个市场发布，您可以使用[RoboBillingLibrary](https://github.com/christopherperry/RoboBillingLibrary)。它处理跨 Google Play 和 Amazon Appstore 的应用内购买。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:30:08.717

我相信，只要它是通过亚马逊市场交付的，它就应该适用于所有设备。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T17:49:01.370

是的，它会工作。如果您正在为亚马逊应用商店开发一些东西，那么您可以使用 Amazon Test SDK 来测试您的应用内购买。设备不必来自亚马逊才能使用亚马逊 IAP。

# c# - LINQ to SQL 查询中的动态表

> ID：10848582
> 
> 赞同：0
> 
> 时间：2012-06-01T10:25:04.633
> 
> 标签：c#, linq

我在数据库中有几个具有相同表结构的引用。我不想为每个数据库编写几个 LINQ 查询。是否可以使用动态表参数开发一个查询？我的查询示例：

```
var query =
            from myTranslations in myContext.translations
            where myTranslations.code == strLabelCode
            select myTranslations; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:26:15.663

不，对不起。像这样简单 - 仅通过例如反射，这使得它 - 啊 - 比拥有多个表对象更难。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:32:00.923

使用 datacontext GetTable() 方法更改此处列出的表类型[MSDN](http://msdn.microsoft.com/en-us/library/bb357220.aspx)

# css - 在开发移动设备时测试我的网站登陆的最佳方法

> ID：10848584
> 
> 赞同：0
> 
> 时间：2012-06-01T10:25:11.267
> 
> 标签：css, mobile

我尝试为移动登陆开发我的网站，但我不知道如何测试它在我的计算机上的地位。您知道任何可能有助于测试网站登陆移动设备的工具或网站吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:34:12.063

对于响应式设计，您可以使用以下之一：

[http://screenqueri.es/](http://screenqueri.es/)

[http://www.responsinator.com/](http://www.responsinator.com/)

或者，如果您使用老式方式（用户代理），那么您也可以使用[Firefox 插件](https://addons.mozilla.org/en-US/firefox/addon/modify-headers/)并在浏览器中测试您的网站。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:57:40.467

要测试响应式网站，请使用以下之一：

1) [http://responsive.is](http://responsive.is)

2) [http://screenqueri.es](http://screenqueri.es)

3) 或使用 Adob​​e Shadow：http: [//itunes.apple.com/us/app/adobe-shadow/id498621426 ?mt=8](http://itunes.apple.com/us/app/adobe-shadow/id498621426?mt=8)

# debugging - 如何使用 windbg 读取 google chrome 崩溃转储

> ID：10848585
> 
> 赞同：9
> 
> 时间：2012-06-01T10:25:15.320
> 
> 标签：debugging, google-chrome, windbg

这就是我要解决的问题。我有一个来自 Google Chrome 的故障转储。

1.  我打开 windbg 并说 File -> Symbol File Path: "SRV*c:\code\symbols*http://msdl.microsoft.com/download/symbols;SRV*c:\code\symbols*https://chromium -browser-symsrv.commondatastorage.googleapis.com”我想这会寻找从 let 到 right 的调试符号，然后应该最终从谷歌中获取它们。[我从http://www.chromium.org/developers/how-tos/debugging](http://www.chromium.org/developers/how-tos/debugging)复制了它。

2.  我将故障转储拖放到 windbg

进而...

```
Microsoft (R) Windows Debugger Version 6.2.8400.0 AMD64
Copyright (c) Microsoft Corporation. All rights reserved.

Loading Dump File [C:\Users\cburgdorf\Desktop\Chrome-last.dmp]
User Mini Dump File: Only registers, stack and portions of memory are available

Symbol search path is: SRV*c:\code\symbols*http://msdl.microsoft.com/download/symbols;SRV*c:\code\symbols*https://chromium-browser-symsrv.commondatastorage.googleapis.com
Executable search path is: 
Windows 7 Version 7601 (Service Pack 1) MP (8 procs) Free x86 compatible
Product: WinNt, suite: SingleUserTS
Machine Name:
Debug session time: Wed May 16 16:25:24.000 2012 (UTC + 2:00)
System Uptime: not available
Process Uptime: 0 days 0:01:39.000
.........................................
This dump file has a breakpoint exception stored in it.
The stored exception information can be accessed via .ecxr.
eax=00000000 ebx=0038e1f8 ecx=00000001 edx=0012df58 esi=00000002 edi=0038e218
eip=776e013d esp=0038e1a8 ebp=0038e244 iopl=0         nv up ei pl zr na pe nc
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00200246
ntdll!NtWaitForMultipleObjects+0x15:
776e013d 83c404          add     esp,4
0:000> .excr
           ^ Syntax error in '.excr' 
```

您会看到它说“可以通过 .ecxr 访问存储的异常信息”，但是一旦我插入它，它就会告诉我我有语法错误。

有谁知道我做错了什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-01T11:29:28.713

你有一个错字，它是`.ecxr`:) 与此同时，另一种无需太多 WinDbg-fu 从崩溃转储中获取信息的简单方法是：

```
.symfix; .reload
!analyze -v 
```

如果这是一个 .NET 应用程序（Chromium 不仅仅是为了提供额外信息），请添加这三行

```
.loadby sos clr
!pe
~*e !clrstack 
```

# php - Yii 框架：reCaptcha

> ID：10848589
> 
> 赞同：1
> 
> 时间：2012-06-01T10:25:42.887
> 
> 标签：php, yii, recaptcha

我在我的注册表单中实施了 reCaptcha。但是当我插入正确的验证码时出现错误：

CCaptchaValidator.action“验证码”无效。在当前控制器中找不到这样的动作。

```
public function actionCreate()
{
    $model=new TblUsers;

    // Uncomment the following line if AJAX validation is needed
        $this->performAjaxValidation($model);

    if(isset($_POST['TblUsers']))
    {
                Yii::import('ext.recaptchalib',true);
                $privatekey = '6LfgNLoSAAAAAGBVyqeKK9qH_wG5HIGIDd2KotLB';
                $resp = recaptcha_check_answer($privatekey, $_SERVER['REMOTE_ADDR'],
                        Yii::app()->request->getParam('recaptcha_challenge_field'), 
                        Yii::app()->request->getParam('recaptcha_response_field' ) );

        $model->attributes=$_POST['TblUsers'];
                if($resp->is_valid)
                {
        if($model->save())
                    if($this->_identity===null)
    {
        $this->_identity=new UserIdentity($model->username,$model->password);
        $this->_identity->authenticate();
    }
    if($this->_identity->errorCode===UserIdentity::ERROR_NONE)
    {
        $duration=$this->rememberMe ? 3600*24*30 : 0; // 30 days
        Yii::app()->user->login($this->_identity,$duration);
                $this->redirect(array('site/index'));

        return true;
    }
    else
        return false;
    }
        }
        else
        {
    $this->render('create',array(
        'model'=>$model,
    ));
        }

} 
```

上面的代码是我检查验证码的控制器。如果没问题，那么他应该将数据保存在数据库中并使用新创建的用户登录。如果代码错误，那么现在我只会得到一个空白的白页。请在这里需要一些帮助。

快速编辑：我用正确的代码解决了问题，我在模型规则中留下了一些垃圾，但现在很好。即使我认为当代码错误时我仍然需要一些帮助来处理这件事，因为我现在得到一个空白页。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:58:48.230

只需呈现一个有错误的不同页面或重定向到不同的页面而不采取任何用户登录操作。

目前，如果 $resp 不正确，您只是返回 false 。在这种情况下，您不会渲染任何内容。所以要么渲染一个错误页面

```
$this->render(......) 
```

或重定向到不同的页面并且不对登录或事件采取任何操作再次呈现相同的验证码表单字段上的错误。

作为建议，请查看 if 语句的嵌套，这是一个简单的操作，但您使它有点太复杂了。

# javascript - Ruby on Rails - 更大地图的 Gmap4Rails 弹出窗口

> ID：10848590
> 
> 赞同：1
> 
> 时间：2012-06-01T10:25:45.343
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3, google-maps, gmaps4rails

我是 Rails 初学者，正在使用 rails 3.2.3。

在我的应用程序中，我通过 apneadiving 使用了很棒的 Google-Maps-for-Rails（这真是太棒了）

一切都很好，但我遇到了一个问题，在这里和那里没有找到我想做的任何答案。

基本上我正在显示一张小地图，并希望在其下方有一个按钮，当用户单击它时，将显示该位置的更大地图。（基本上它是同一张地图，只是尺寸更大）

像这样的东西：

```
<input type="button" onclick="myFunction()" value="Show a bigger map" /> 
```

但是我的问题是在那个javascript函数里面放什么，我怎么说应该显示一个更大的带有@gmaps值的地图？

在gmaps css中创建一个更大的With和Height的新ID？如何向 JS 提供来自我的@gmaps 的数据？

有小费吗？

抱歉，如果这是一个幼稚的问题，我仍然习惯于 RoR 和 Gmaps4Rails gem。在此先感谢您的时间。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-02T21:52:51.217

我不太确定你想做什么，但我想说将一张地图的参数复制到另一张地图真的很容易。

实际上，创建地图所​​需的全部代码在您的 html 中可见，只需重现这些步骤即可。

gmaps_helper 将为您的小地图完成这项工作。基本上，它遵循以下步骤：

```
Gmaps.map = new Gmaps4RailsGoogle();
//mandatory
Gmaps.map.initialize();
// then some code depending on your options
Gmaps.map.markers = some_array;
Gmaps.map.create_markers(); 
```

每当您想复制地图时，您只需遵循相同的步骤：

```
Gmaps.bigmap = new Gmaps4RailsGoogle();
//mandatory to have the map created in the proper place
Gmaps.bigmap.map_options.id = the_id_of_your_html_div;
//still mandatory
Gmaps.bigmap.initialize();

//copy the specific parameters from the other map
Gmaps.bigmap.markers = Gmaps.map.markers;
Gmaps.bigmap.create_markers(); 
```

# javascript - 这个声明的结尾部分是做什么的？

> ID：10848592
> 
> 赞同：0
> 
> 时间：2012-06-01T10:25:48.940
> 
> 标签：javascript

我刚收到这个，不确定这个变量声明的最后一部分：

`var u = (document.getElementById('myaccount').className.match(/loggedin/)) ? 'true' : 'false';`

据我所知，这是对字符串“loggedin”执行模式匹配，但结尾`? 'true' : 'false';`部分有什么作用？

我以前从未见过这样的东西，所以不确定......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:28:37.693

它是三元运算符，它可以是这样的：

```
result = condition ? value_if_true : value_if_false; 
```

这只是以下的简写：

```
if(condition == true) {

    result = value_if_true;

} else {

    result = value_if_false;

} 
```

该`condition`部分可以是变量、函数或表达式，因此以下都是有效的：

```
result = myVariable ? value if true : value if false;

result = myFunction() ? value if true : value if false;

result = (myVariable > 10) ? value if true : value if false; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:27:53.803

内联如果

```
condition_check ? result if true : result if false 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:27:07.173

它是一个三元 if/else 语句。

如果 className.match(/logged/) 计算结果为 true，则返回 true，否则返回 false。

一种更优雅的写作方式

```
var u;
if(document.getElementById('myaccount').className.match(/loggedin/)) {
    u = true;
} else {
    u = false;
}
return u; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:28:04.387

它被称为三元 if 语句。

如果您的**myaccount**元素有一个类 ' **login** '，变量 u 将被设置为**TRUE**。否则它将被设置为 FALSE。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-01T10:29:54.757

这是另一种声明 if 语句的方式

```
<condition> ? <return if condition is true> : <return if condition is false> 
```

和这个一样

```
var u;
if (document.getElementById('myaccount').className.match(/loggedin/)){
   u = 'true'; 
} else {
   u = 'false';
} 
```

# php - 为 msyql 查询中的所有字段名称动态分配别名

> ID：10848595
> 
> 赞同：0
> 
> 时间：2012-06-01T10:25:53.513
> 
> 标签：php, mysql, dynamic, schema, alias

我在 mysll 数据库中有 2 个表。这两个表都有很少的固定列和很少的动态列（字段/模式）。我想用以下查询加入这两个表：

```
SELECT *
FROM `cd` cd
LEFT JOIN cd_n cn ON cd.id = cn.fk_cd 
```

我想结果为

```
CD_Column1   CD_Column1   CD_Column3   ...... CN_Column1   CN_Column2   CN_Column3  .....
value        value        value        ...... value        value        value       ...       
value        value        value        ...... value        value        value       ... 
```

其中.....是两个表的动态列名。所以情况是我不知道列名，因为它们是动态的，我想在查询级别重命名（别名）它。请让我知道我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T12:10:51.380

您需要查询`information_schema`以获取这两个表的列名。假设您将`cd`列名存储在数组中`$cd_columns`，列名存储在`cd_n`数组中`$cdn_columns`。

然后在 PHP 中通过列数组创建查询循环并执行以下操作：

```
$sql = 'SELECT ';

// add the cd columns
$i = 0;
foreach($cd_columns as $col) {
    $sql .= "{$col} AS CD_Column{$i},";
    $i++;
}

// add the cd_n columns
$i = 0;
foreach($cdn_columns as $col) {
    $sql .= "{$col} AS CN_Column{$i},";
    $i++;
}

// remove the trailing comma
$sql = trim($sql, ',');
// continue the SQL
$sql .= ' FROM ...'; 
```

这个有帮助吗？

# java - 保护 Spring 容器免受 grails 中的对象替换

> ID：10848598
> 
> 赞同：1
> 
> 时间：2012-06-01T10:26:03.713
> 
> 标签：java, spring, security, grails

Java Spring 是一个敏捷而强大的框架。但我试图找到一些信息如何保护弹簧容器内的对象实例。

情况是：我在 spring 容器（dsl 或 xml 配置）中有一些 grails 服务、java 类和简单的配置参数（Boolean、Integer、...）。我想在代码中知道我使用的对象与我配置的对象完全相同。

任何想法如何使弹簧容器中的对象替换复杂化？

# xslt - 如果只有 1 个子节点，需要删除 xmi 节点

> ID：10848599
> 
> 赞同：1
> 
> 时间：2012-06-01T10:26:08.863
> 
> 标签：xslt, xslt-1.0, xslt-2.0

如果只有 1 个孩子，我需要删除 xmi 节点。如果我删除 xmi 节点，我需要将属性复制到新的根节点。

```
<xmi:XMI attribute="2" xmlns:xmi="http://www.omg.org/spec/XMI/20110701" xmlns:a="A">
<namespace:node attribute2="att">
...
</namespace:node>
</xmi:XMI> 
```

我需要得到

```
<namespace:node attribute2="att" attribute="2" xmlns:xmi="http://www.omg.org/spec/XMI/20110701" xmlns:a="A">
...
</namespace:node> 
```

但如果有

```
<xmi:XMI attribute="2" xmlns:xmi="http://www.omg.org/spec/XMI/20110701" xmlns:a="A">
<namespace:node attribute2="att">
...
</namespace:node>
<otherNode/>
</xmi:XMI> 
```

无需进行任何更改。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T12:10:34.590

**这个 XSLT 1.0 转换**：

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:xmi="http://www.omg.org/spec/XMI/20110701">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="node()|@*">
     <xsl:copy>
       <xsl:apply-templates select="node()|@*"/>
     </xsl:copy>
 </xsl:template>

 <xsl:template match="xmi:XMI[not(*[2])]">
  <xsl:apply-templates/>
 </xsl:template>

 <xsl:template match="xmi:XMI[not(*[2])]/*">
     <xsl:copy>
       <xsl:apply-templates select="node()|@* | ../@*"/>
     </xsl:copy>
 </xsl:template>
</xsl:stylesheet> 
```

**当应用于以下 XML 文档时**：

```
<xmi:XMI attribute="2"
           xmlns:xmi="http://www.omg.org/spec/XMI/20110701"
           xmlns:a="A" >
        <namespace:node attribute2="att" xmlns:namespace="some:namespace">
          ...
        </namespace:node>
        <otherNode/>
</xmi:XMI> 
```

**产生想要的、正确的结果**（没有变化）：

```
<xmi:XMI xmlns:xmi="http://www.omg.org/spec/XMI/20110701" xmlns:a="A" attribute="2">
   <namespace:node xmlns:namespace="some:namespace" attribute2="att">
          ...
        </namespace:node>
   <otherNode/>
</xmi:XMI> 
```

**应用于此 XML 文档时**：

```
<xmi:XMI attribute="2"
           xmlns:xmi="http://www.omg.org/spec/XMI/20110701"
           xmlns:a="A" >
        <namespace:node attribute2="att" xmlns:namespace="some:namespace">
          ...
        </namespace:node>
</xmi:XMI> 
```

**再次产生了想要的正确结果**（`xmi:XMI`元素被“删除”并且其属性被复制到其唯一的孩子）：

```
<namespace:node xmlns:namespace="some:namespace"    
 xmlns:xmi="http://www.omg.org/spec/XMI/20110701" xmlns:a="A" 
 attribute="2" attribute2="att">
          ...
</namespace:node> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:52:15.423

尝试

```
<xsl:stylesheet
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  version="2.0"
  xmlns:xmi="http://www.omg.org/spec/XMI/20110701">

<xsl:template match="@* | node()">
  <xsl:copy>
    <xsl:apply-templates select="@* , node()"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="xmi:XMI[not(*[2])">
  <xsl:apply-templates/>
</xsl:template>

<xsl:template match="xmi:XMI[not(*[2])]/*">
  <xsl:copy>
    <xsl:apply-templates select="../@*, @*, node()"/>
  </xsl:copy>
</xsl:template>

</xsl:stylesheet> 
```

# sql-server - SSRS 报表管理器设置默认缩放级别

> ID：10848604
> 
> 赞同：1
> 
> 时间：2012-06-01T10:26:32.160
> 
> 标签：sql-server, sql-server-2008, reporting-services, ssrs-2008

我已将大约 40 个报表部件部署到我的报表服务器，它们都工作正常。

问题是我的缩放默认为 100，我希望它们中的一些默认为 75。

我尝试创建一个包含指向所有报告部分的链接的门户，并使用`&rc:Zoom=75` URL 末尾的链接作为链接，但它仍默认为 100。

谁能建议我如何实现我想要的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T13:43:36.870

而不是去：

```
http://mysqlservername/Reports/ 
```

并从这里获取完整的 URL（加号`&rc:Zoom=75`）

我去了这里：

```
http://mysqlservername/ReportServer 
```

这就像后端。

从这里我转到我想默认为 75 的报告部分并右键单击并选择“复制快捷方式”

然后我将其粘贴到“转到 URL”框中

```
&rc:Zoom=75 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:04:12.463

你的完整网址是什么？我意识到如果我也有`&rc:toolbar=false`. 如果我添加`&rc:Zoom=25`到标准报告中，它就可以了。

尝试删除 URL 上可能存在的任何其他标签，以查看阻止 Zoom 工作的标签。

# android - Java 和 json 响应 EOFException

> ID：10848606
> 
> 赞同：1
> 
> 时间：2012-06-01T10:26:35.280
> 
> 标签：android, json, web-services, request, response

我在连接时遇到了很大的问题`json webservice`。我想`gzipped`从服务器获取数据。下面是我的代码。问题是当我解析响应时，我正在接受`gzip`编码并且正在获取`gzipped`数据，我逐行读取此数据，一切看起来都很好，然后`application throw EOFException`，出了什么问题？如果我可以读取部分`gzipped`数据，我认为服务器响应很好。我会感谢任何帮助:)。

```
 HttpPost httppost = new HttpPost(requestUrl);
    httppost.addHeader("Accept-Encoding", "gzip");
    HttpResponse response = httpclient.execute(httppost);
    HttpEntity entity = response.getEntity();
    inputStream = entity.getContent();
    contentEncoding = response.getFirstHeader("Content-Encoding");
}

private String convertResponseToString() throws IOException {
    GZIPInputStream zis = null;

    if (contentEncoding != null
            && contentEncoding.getValue().equalsIgnoreCase("gzip")) {
        GZIPInputStream gzipStream = new GZIPInputStream(inputStream);

        if (true) {
            ByteArrayOutputStream bos = new ByteArrayOutputStream();
            byte[] buf = new byte[256];
            int len;
            while ((len = gzipStream.read(buf, 0, 256)) > 0) {
                bos.write(buf, 0, len);
            }
            bos.flush();
            buf = bos.toByteArray();
            inputStream.close();
            inputStream = new ByteArrayInputStream(buf);
        }

    } 
```

异常堆栈跟踪：

```
06-01 10:56:25.447: W/System.err(285): java.io.EOFException
06-01 10:56:25.476: W/System.err(285):  at java.util.zip.GZIPInputStream.readFully(GZIPInputStream.java:219)
06-01 10:56:25.476: W/System.err(285):  at java.util.zip.GZIPInputStream.verifyCrc(GZIPInputStream.java:202)
06-01 10:56:25.476: W/System.err(285):  at java.util.zip.GZIPInputStream.read(GZIPInputStream.java:186)
06-01 10:56:25.476: W/System.err(285):  at org.pw.inf.requests.RequestSender.convertResponseToString(RequestSender.java:79)
06-01 10:56:25.476: W/System.err(285):  at org.pw.inf.requests.RequestSender.parseToJSON(RequestSender.java:108)
06-01 10:56:25.476: W/System.err(285):  at org.pw.inf.requests.GetConferencesListRequestSender.getResults(GetConferencesListRequestSender.java:36)
06-01 10:56:25.476: W/System.err(285):  at org.pw.inf.requests.GetConferencesListRequestSender.getResults(GetConferencesListRequestSender.java:1)
06-01 10:56:25.476: W/System.err(285):  at org.pw.inf.requests.RequestExecutor.go(RequestExecutor.java:33)
06-01 10:56:25.476: W/System.err(285):  at org.pw.inf.EventListView.containerConferences(EventListView.java:138)
06-01 10:56:25.476: W/System.err(285):  at org.pw.inf.EventListView.onClick(EventListView.java:101)
06-01 10:56:25.476: W/System.err(285):  at android.view.View.performClick(View.java:2364)
06-01 10:56:25.476: W/System.err(285):  at android.view.View.onTouchEvent(View.java:4179)
06-01 10:56:25.476: W/System.err(285):  at android.view.View.dispatchTouchEvent(View.java:3709)
06-01 10:56:25.476: W/System.err(285):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
06-01 10:56:25.476: W/System.err(285):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
06-01 10:56:25.486: W/System.err(285):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
06-01 10:56:25.486: W/System.err(285):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
06-01 10:56:25.486: W/System.err(285):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
06-01 10:56:25.486: W/System.err(285):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
06-01 10:56:25.486: W/System.err(285):  at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)
06-01 10:56:25.486: W/System.err(285):  at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)
06-01 10:56:25.486: W/System.err(285):  at android.app.Activity.dispatchTouchEvent(Activity.java:2061)
06-01 10:56:25.486: W/System.err(285):  at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)
06-01 10:56:25.486: W/System.err(285):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)
06-01 10:56:25.486: W/System.err(285):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-01 10:56:25.486: W/System.err(285):  at android.os.Looper.loop(Looper.java:123)
06-01 10:56:25.486: W/System.err(285):  at android.app.ActivityThread.main(ActivityThread.java:4363)
06-01 10:56:25.486: W/System.err(285):  at java.lang.reflect.Method.invokeNative(Native Method)
06-01 10:56:25.486: W/System.err(285):  at java.lang.reflect.Method.invoke(Method.java:521)
06-01 10:56:25.486: W/System.err(285):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
06-01 10:56:25.486: W/System.err(285):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
06-01 10:56:25.486: W/System.err(285):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-12-20T06:26:15.703

[https://code.google.com/p/android/issues/detail?id=24672](https://code.google.com/p/android/issues/detail?id=24672)

```
Connection.setRequestProperty( "Accept-Encoding", "" ); add this line of code before use the connection 
```

# jquery - 按钮不发出 Ajax 请求，而是重新加载页面 Rails

> ID：10848611
> 
> 赞同：0
> 
> 时间：2012-06-01T10:27:02.870
> 
> 标签：jquery, ajax, ruby-on-rails-3

我对带有rails的ajax非常陌生，所以这就是问题所在。我在控制器中有方法：multi =>

```
respond_to do |format|
  format.js
end 
```

方法视图

```
<ul id="actions">
    <%= @game.user.actions %>
</ul>

<%= button_link_to "call", drid(:anchor => "opponents", :action => :call, :remote => true), :class => 'button' %>
<%= button_link_to "check", drid(:anchor => "opponents", :action => :check, :remote => true), :class => 'button' %> 
```

`@game.user.actions`都在数据库中。

这是ajax模板

```
$("#actions").append("<%= escape_javascript @game.user.actions %>");
$("#new_action")[0].reset(); 
```

下一个问题是：当我单击按钮时，它们会在操作列表中添加一个新事件（例如 ["call"、"call"、"call"、"call"、"check"、"call"、"call" , "check", "check", "check", "call", "call"])，但页面仍在重新加载，没有任何异步请求。

请尽可能提供帮助！任何答案都会有所帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:45:33.057

调用`e.preventDefault();`按钮的 JS 点击处理程序

# jquery - jQuery Datatable 过滤加载默认设置

> ID：10848613
> 
> 赞同：0
> 
> 时间：2012-06-01T10:27:05.857
> 
> 标签：jquery, filter, datatable

我有一个从 jquery 数据表创建的表，显示如下： ![在此处输入图像描述](../Images/69e95415742bff6fa10a352d37664966.png)

就像你在上面看到的，当前的显示条目状态是 25，但它只显示 10 行，这是默认值。这就是我所说的：

```
$(document).ready( function () {
    $('#example').dataTable({
        "bJQueryUI": true,
        "sPaginationType": "full_numbers",
        "aLengthMenu": [[25, 50, 100, -1], [25, 50, 100, "All"]]
    });
}); 
```

其 javascript 库文件中的默认值是：

```
"aLengthMenu": [10, 25, 50, 100] 
```

而且我不知道在哪里编辑它以在启动时加载 25 行。

因此，我们将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:54:29.697

`iDisplayLength`根据[文档](http://datatables.net/usage/options)使用

```
$('#example').dataTable({
    iDisplayLength: 25
});
​ 
```

**[演示](http://jsfiddle.net/dhirajbodicherla/sThGk/15/)**

希望这可以帮助

# windows - Delphi计算小时数

> ID：10848616
> 
> 赞同：0
> 
> 时间：2012-06-01T10:27:13.330
> 
> 标签：windows, delphi, lazarus

我有一个delphi问题，我创建了一个计算工作时间的程序，这是一段代码：

```
procedure TForm1.Button1Click(Sender: TObject);
var
a,b,c,d,e,f,g,h,i,l,m,n,o,p,q,r,s,t,u,v,z,a1,b1,c1,d1,e1,f1:TTime;
begin
  a := StrToTime(Edit1.Text);
  b := StrToTime(Edit2.Text);
  c := StrToTime(Edit3.Text);
  d := StrToTime(Edit4.Text);
  e := StrToTime(Edit5.Text);
  f := StrToTime(Edit6.Text);
  g := StrToTime(Edit7.Text);
  h := StrToTime(Edit8.Text);
  i := StrToTime(Edit9.Text);
  l := StrToTime(Edit10.Text);
  m := StrToTime(Edit11.Text);
  n := StrToTime(Edit12.Text);
  o := StrToTime(Edit13.Text);
  p := StrToTime(Edit14.Text);
  q := StrToTime(Edit15.Text);
  r := StrToTime(Edit17.Text);
  s := StrToTime(Edit18.Text);
  t := StrToTime(Edit19.Text);
  u := StrToTime(Edit20.Text);
  v := StrToTime(Edit21.Text);
  z := StrToTime(Edit22.Text);
  a1 := StrToTime(Edit23.Text);
  b1 := StrToTime(Edit24.Text);
  c1 := StrToTime(Edit25.Text);
  d1 := StrToTime(Edit26.Text);
  e1 := StrToTime(Edit27.Text);
  f1 := StrToTime(Edit28.Text);
  Memo1.Text:=TimeTostr(b-a+d-c+f-e+h-g+l-i+n-m+o-n+q-p+s-r+u-t+z-v+b1-a1+d1-c1+f1-e1);
end;

end. 
```

但是当我点击计算时，如果总数超过24小时，回到0，我该如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:35:37.857

必须猜测您的真正意图，但我认为`a`and`b`代表工作日的开始和结束（分别），and 也是如此 `c`，`d`依此类推。然后你想要，而不是`b - a + d - c + ...`，

```
HoursBetween(a, b) + HoursBetween(c, d) + ... 
```

( `uses DateUtils`)。

**更新**

在评论中，OP 要求也查看会议记录。做：

```
var
  minspan: integer;

...

minspan := MinutesBetween(a, b) + MinutesBetween(c, d) + ...;
Memo1.Text := IntToStr(minspan div 60) + ':' + IntToStr(minspan mod 60); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T14:55:04.543

这是解决您当前问题的方法：

1.  `TotalTime`以您声明 a、b、c 等的方式声明一个新变量。

2.  然后删除最后一行，并将其替换为：

.

```
 TotalTime := b-a+d-c+f-e+h-g+l-i+n-m+o-n+q-p+s-r+u-t+z-v+b1-a1+d1-c1+f1-e1;
 Memo1.Text:= IntToStr(Trunc(TotalTime))+' day(s), '+ TimeTostr(TotalTime); 
```

这应该显示如下： `3 day(s), 07:04:45`

除了这个变化，如果我是你，我会重新考虑整个方法。在这里学习其他人所说的话，不要让自己受到反对票或负面评论的影响。

# php - mysql没有在wmp中启动

> ID：10848622
> 
> 赞同：0
> 
> 时间：2012-06-01T10:27:42.670
> 
> 标签：php, mysql, apache, wamp, wampserver

在我的 pc wamp 工作正常现在它停止工作 Apache 正在启动并且工作我的 sql 不能正常工作我重新安装 wamp 超过两次 120601 15:54:11 [注意] 插件'FEDERATED'被禁用。

```
120601 15:54:11 InnoDB: The InnoDB memory heap is disabled
120601 15:54:11 InnoDB: Mutexes and rw_locks use Windows interlocked functions
120601 15:54:11 InnoDB: Compressed tables use zlib 1.2.3
120601 15:54:11 InnoDB: Initializing buffer pool, size = 128.0M
120601 15:54:11 InnoDB: Completed initialization of buffer pool
120601 15:54:12 InnoDB: highest supported file format is Barracuda.
120601 15:54:13  InnoDB: Waiting for the background threads to start
120601 15:54:14 InnoDB: 1.1.8 started; log sequence number 33268580
120601 15:54:14 [ERROR] Binlog has bad magic number;  It's not a binary log file that can be used by this version of MySQL
120601 15:54:14 [ERROR] Can't init tc log
120601 15:54:14 [ERROR] Aborting

120601 15:54:14  InnoDB: Starting shutdown...
120601 15:54:14  InnoDB: Shutdown completed; log sequence number 33268580
120601 15:54:14 [Note] wampmysqld: Shutdown complete 
```

那是mysql错误日志

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:31:00.457

你需要：

1.  停止mysql
2.  删除 ib_logfile0 等日志文件...
3.  启动mysql

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:30:53.103

如果您同时使用 windows 和 skype，那么首先要使用 skype，然后在 wamp 中启动您的服务，

skype 与 wamp 有冲突

# ios - UIViewController viewDidUnload 中的 IBOutletCollections 是否应该设置为 nil？

> ID：10848626
> 
> 赞同：2
> 
> 时间：2012-06-01T10:27:51.240
> 
> 标签：ios, uiviewcontroller, iboutletcollection

我的 UIViewController 类有一个 IBOutletCollection 包含几个 IBOutlet 对象。我知道需要在 viewDidUnload 中将保留的出口设置为零，但我是否还需要将 IBOutletCollection 设置为零？还是应该在dealloc中释放它？还是完全一个人呆着？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:45:11.247

您需要将 outlet 设置为`nil`in`viewDidUnload`以确保视图控制器在收到内存警告时可以释放尽可能多的内存。为了响应内存警告，视图控制器释放其视图以释放视图（及其所有子视图）正在使用的内存。如果您未能释放您保留/持有强引用的那些插座，则这些插座引用的子视图不会被破坏，它们的内存也不会被释放。

所以是的，您还应该将插座集合的属性设置为`nil`in `viewDidUnload`。

此要求独立于在`dealloc`.

# ruby-on-rails - 使用 json 或 js.erb 在 Rails 中进行 ajax 更好吗？哪个更快，为什么？

> ID：10848638
> 
> 赞同：2
> 
> 时间：2012-06-01T10:28:36.473
> 
> 标签：ruby-on-rails, ruby, ajax, ruby-on-rails-3, json

使用控制器返回 json 或返回 js.erb 在 Rails 中进行 ajax 更好？哪个更快，为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T11:19:21.590

我不认为速度是这里的问题（这两个选项的性能或多或少都是一样的）。

关键是*可维护性*和*可测试性*。你喜欢哪个？

1.  Javascript（最糟糕，rjs，一种奇怪的 JS/Ruby 混合体）分散在应用程序服务器端的所有视图中（非常非常难以测试）。

2.  从服务器获取数据并且可以作为一个单元进行开发和测试的集中式 JS 代码。

我绝对更喜欢第二个选项：在应用程序的 AJAX 部分，让服务器返回 JSON 并在客户端使用 Javascript 管理响应。现在 Rails 默认附带 CoffeeScript（提示：也使用[下划线](http://underscorejs.org/)），编写客户端代码也是一种乐趣。

# javascript - 浏览器的放大缩小功能调用

> ID：10848645
> 
> 赞同：-1
> 
> 时间：2012-06-01T10:29:06.053
> 
> 标签：javascript

是否可以通过浏览器的放大和缩小来触发 javascript 函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-28T11:23:40.130

是的朋友....找到解决方案....

```
window.onresize = resize;
function resize() {
   alert("Windows is resized...");
} 
```

我希望这对你有帮助。

或者

这将帮助您[在放大和缩小浏览器上获取高度宽度](http://jsfiddle.net/UqYCr/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-11-06T18:22:06.893

```
(window.devicePixelRatio*100).toFixed(0) + '%'; 
```

您不会触发浏览器的放大/缩小功能，而是捕获事件。此代码可帮助您捕获浏览器的当前选项卡放大/缩小百分比。

运行代码：chrome -> 控制台 -> 创建实时表达式 -> 粘贴并输入。

使用 chrome 放大/缩小标签

# javascript - .attr 选择器不会在每个循环中工作？

> ID：10848657
> 
> 赞同：0
> 
> 时间：2012-06-01T10:29:30.813
> 
> 标签：javascript, jquery

这是代码：

```
 $.ajax({
      url: 'AEWService.asmx/previewAsset',
      type: "GET",
      contentType: "application/json; charset=utf-8",
      data: json,
      success: function (json) {
          var prevObj = jQuery.parseJSON(json.d);
          setInterval(function () {
              var pId = $('#previewIframe').contents().find('[preview-id]');
              $.each(prevObj, function (i, item) {
                  pId.each(function () {
                      var pElem = this.attr("preview-id");
                      if (pElem == item.Id) {
                          $(this).html(item.Value);
                      }
                  });
              });
          }, 3000);
      }
  }); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:35:44.847

`this`是一个 DOM 节点，而不是一个 jQuery 对象。请阅读[`.each()`文档](http://api.jquery.com/each/)并查看示例。

实际上你似乎已经知道了，因为你打电话给`$(this).html()`......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T11:04:03.117

尝试更改`this.attr("preview-id")`为`$(this).attr("preview-id")`

就像你用这个`$(this).html(item.Value)`

希望这对您有所帮助。

# html - CSS 一个具有液体宽度的 div 旁边的浮动 div 可能存在也可能不存在

> ID：10848661
> 
> 赞同：0
> 
> 时间：2012-06-01T10:29:43.200
> 
> 标签：html, css, positioning, liquid-layout

我已经阅读了这个[问题](https://stackoverflow.com/questions/343313/css-set-width-to-fill-of-remaining-area)，但我无法找到适合我需求的解决方案，因为我的情况有点不同，而且我不太擅长 CSS。

我拥有的是一个包含其他三个 div 的 div：

*   div1 在左边
*   div2居中
*   div3在右边

**问题是 div2 可能存在也可能不存在。**

这是我目前拥有的：

![在此处输入图像描述](../Images/d717094e0f9589e1610ea2b3fed4b5a3.png)

但这就是我想要的：

![在此处输入图像描述](../Images/d6f4d637a29fcb2a459e433d6e230813.png)

这是我的[小提琴](http://jsfiddle.net/5xgwz/15/)

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:33:34.187

```
#div3{
display:block;
background: #CCC;
overflow: hidden;
} 
```

[http://jsfiddle.net/5xgwz/17/](http://jsfiddle.net/5xgwz/17/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:39:42.113

检查这个[http://jsfiddle.net/geQqG/16/](http://jsfiddle.net/geQqG/16/)然后复制这段代码并粘贴到你的dreamweaver中并使用firefox浏览器运行......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T10:41:57.137

只需添加 `overflow:auto;`您的 div3 的 CSS 即可

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:41:54.703

嗨，我想你想要这个

请移至宽度 `#container`

像这样

```
#container {

    padding: 5px;
} 
```

和过权属性，`#div3` 就像这样

```
#div3{
    display:block;
    background: #CCC;
    overflow: hidden;
} 
```

现在现场演示是[http://jsfiddle.net/5xgwz/20/](http://jsfiddle.net/5xgwz/20/)

# android - 从 Activity 获取 ListView 并以编程方式填充 XML 字符串数组

> ID：10848663
> 
> 赞同：3
> 
> 时间：2012-06-01T10:29:52.840
> 
> 标签：android, xml, listview, android-layout

我在弄清楚应该很容易和直接的事情时遇到了一些麻烦。我有一个包含几个视图的活动，**包括**当前未填充的 ListView。

您如何以编程方式获取对该 ListView 的引用，然后设置项目，每个项目都是 TextView，其内容然后是 XML String-Array 项目？

我想获得参考是这样的：

```
ListView incomeList = (ListView) findViewById(R.id.incomeList); 
```

我的 strings.xml 中还有一个这段代码（想用这个数组填充列表）：

```
<string-array name="testArray">
   <item>Item1</item>
   <item>Item2</item>
   <item>Item3</item>
   <item>Item4</item>
   <item>Item5</item>
</string-array> 
```

然后最后我有这个其他布局 xml 文件，根据那里的所有 tuts 我应该有。list_item.xml

```
<?xml version="1.0" ebcoding="utf-8">
<TextView xmlns:android="blablabla..."
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:padding="10dp"
   android:textSize="16sp"
</TextView> 
```

如果 ListView 是您活动中的唯一视图，那么我在网络上遵循的所有教程都会很有帮助。而在我的情况下，我有很多视图，包括按钮、文本视图等（如果这可能有助于了解）。我是否也可以使用 ListActivity 扩展我的课程，或者因为我在那里有其他视图，所以只需使用 Activity 正常扩展？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T08:09:17.707

您不需要扩展 ListActivity。只需延长常规活动即可。

脚步：

A) 获取您的 ListView。你在你的问题中做对了。

B) 创建一个 ArrayAdapter。您必须传递一个上下文（如果您在 Activity 上执行此操作，则传递该 Activity）、一个表示仅包含 TextView 的布局的 int （就像您问题中的那个）和一个包含您需要的所有项目的 String[]。

应该是这样的：

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, R.layout.list_item, getResources().getStringArray(R.array.testArray); 
```

C) lv.setAdapter(适配器);

很简单。

# jquery - jQuery Datepicker 禁用日期

> ID：10848666
> 
> 赞同：0
> 
> 时间：2012-06-01T10:29:56.317
> 
> 标签：jquery, datepicker

我正在使用 Keith Wood 的出色[jQuery Datepicker 插件](http://keith-wood.name/datepick.html)

我在管理系统中使用日期选择器向管理员显示已为场地预订的日期。

我有一个日期列表（从数据库中提取），用于在日期选择器上显示这些预订日期。但是如果管理员想要更改这些日期中的任何一个并使日期可用，日历不允许我“取消选择”已经选择的日期。

这是代码的缩小版本，但问题仍然存在，此代码显示 6 月 26 日和 6 月 27 日的日期已预订，但我无法选择它们来“取消预订”它们。

```
 <script type="text/javascript">

    var bookedDaysList = [[6, 26], [6, 27]];

                function bookedDays(date, inMonth) { 
                    if (inMonth) {
                        for (i = 0; i < bookedDaysList.length; i++) {
                            if (date.getMonth() + 1 == bookedDaysList[i][0] &&
                                    date.getDate() == bookedDaysList[i][1]) {
                                return {dateClass: 'datepick-selected',selectable: true}; 
                            } 
                        } 
                    } 
                    return {}; 
                }

                /* create datepicker */

                jQuery(document).ready(function () {

                    jQuery('#show-dates').datepick({
                        dateFormat: 'dd-mm-yy',
                        altFormat: '[m,d]',
                        onDate: bookedDays,
                        buttonImage: 'css/images/datepicker.gif',
                        buttonImageOnly: true,
                        monthsToShow: 3,
                        multiSelect: 999,
                        showOn: 'both'
                    });
                });

</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-23T20:38:36.293

这很简单 ）。

```
 <div class="date-picker" data-deselect="2013-12-23,2013-12-19,2013-12-31,2013-12-29,2014-01-18"></div>

  $(".date-picker").datepick({
    onDate: function(date) {
      date_str = $.datepick.formatDate('yyyy-mm-dd', date);
      dates_unselect = $(this).data("deselect").split(",");
      return {selectable: ($.inArray(date_str, dates_unselect) === -1)};
    }
  }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T14:11:08.333

经过一番研究，我发现这个日期选择器可以完成这项工作......

[http://multidatespickr.sourceforge.net/](http://multidatespickr.sourceforge.net/)

我很惊讶 Keith Wood 插件不能满足这个要求，或者我错过了这个？

# php - 在 PHP 中使用 substr() 选择文件名

> ID：10848667
> 
> 赞同：1
> 
> 时间：2012-06-01T10:29:57.830
> 
> 标签：php, file, path, substr

假设我有一个文件路径-

```
Doc/Monday/File.txt 
```

我想使用 substr() 来选择`File.txt`PHP。我怎么做？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-01T10:30:56.190

```
basename('/some/path/to/file.txt'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:31:36.510

用“/”分解字符串，取出结果数组的最后一个元素

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:38:50.663

**TRy this**

```
$data= pathinfo('/some/path/to/file.txt');    

echo $data['basename']; 
```

# django - select_related() 与 filter() + Q()

> ID：10848671
> 
> 赞同：1
> 
> 时间：2012-06-01T10:30:32.797
> 
> 标签：django, django-select-related, django-q

```
class A(models.Model):
    pass

class B(models.Model):
    a = models.ForeignKey(A)
    content_type = models.ForeignKey(ContentType)
    object_id = models.IntegerField()
    content_object = generic.GenericForeignKey('content_type', 'object_id') 
```

如何获取 A 实例，通过其参数与一些 B 实例链接。我尝试这样做：

```
instances = { '1':10, '2':20, '3':30 }
for ct, id in instances.items():
qset |= Q(content_type=int(ct), object_id=int(id))
a = A.objects.all().select_related().filter(qset) 
```

没有错误：«Cannot resolve keyword 'object_id' into field。» **我可以通过链接 B 获得 A 什么？**

谢谢！

[PS] 现在这个工作，但不完全是它应该：

```
a_all = A.objects.all()
for a in a_all:
    print a.a_set.filter(qset) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:56:42.070

改为过滤 B，然后从 B 获取 A 实例

```
instances = { '1':10, '2':20, '3':30 }

for ct, id in instances.items():
    qset = qset | Q(content_type=int(ct), id=int(id))

b_with_a = B.objects.select_related().filter(qset)

for each b in b_with_a:
    print b.A.what_ever_field 
```

请注意，我使用所有查询构建了一个 qset，而不是为循环中的每个步骤调用 retreive b_with_a。如果它不符合您的目的，请更改它。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-02T06:28:14.867

您可以使用[跨越关系的查找](https://docs.djangoproject.com/en/dev/topics/db/queries/#lookups-that-span-relationships)

```
import operator
instances = { '1':10, '2':20, '3':30 }
# note the 'b__'
qset = reduce(operator.or_, (Q(b__content_type=int(x), b__object_id=y)
                             for x,y in instances.iteritems()))
qs = A.objects.filter(qset) 
```

# ios - 从命令行运行 Apple Instruments 会抛出：模拟的应用程序退出

> ID：10848672
> 
> 赞同：0
> 
> 时间：2012-06-01T10:30:47.430
> 
> 标签：ios, command-line, instruments, ios-ui-automation

![在此处输入图像描述](../Images/760ea08fb83b4aefd70250af4946d52b.png)

此弹出窗口阻止其他脚本运行并打印以下内容：

> 仪器[2596]：kCGErrorInvalidConnection：CGSGetCurrentCursorLocation：无效连接仪器[2596]：kCGErrorFailure：设置断点@CGErrorBreakpoint（）以在记录错误时捕获错误。
> 
> 分段错误：11

我使用子进程（在 python 中）运行多个脚本来测试我的应用程序。

它是仪器中的错误吗？导致有时它只是打印以记录调试事件：“目标应用程序似乎已经死亡”，这不会停止脚本流。

有任何想法吗？

[编辑]

我昨天更新了命令行工具，现在似乎提供了更多详细信息：

```
[__NSCFType transport]: unrecognized selector sent to instance 0x7fa54ba61b50 

09:43:49.987 instruments[2544:1203]_stopScript: threw -[__NSCFType transport]: unrecognized selector sent to instance 0x7fa54ba61b50 

2012-06-15 09:43:49.988 instruments[2544:1203] * -[NSConditionLock dealloc]: lock (NSConditionLock: 0x7fa548dbd480> '(null)') deallocated while still in use 

2012-06-15 09:43:49.988 instruments[2544:1203] * Break on _NSLockError() to debug. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T17:18:50.240

您需要使用 iPhone 模拟器目录中的 .app 文件。

（或者）

使用标志执行 xcodebuild`DSTROOT`以存放应用程序并将其用于自动化。

```
xcodebuild -workspace ./ProjectWorkspace.xcworkspace -scheme "SchemeName" -sdk 
iphonesimulator5.1 -configuration "Debug" clean build install 
DSTROOT=~/Desktop/tmp/yourAppName.app 
```

# java - 如何在 JAVA 中为 Ext.data.JsonStore 创建 JSONObject？

> ID：10848674
> 
> 赞同：0
> 
> 时间：2012-06-01T10:30:48.860
> 
> 标签：java, json, extjs

这是我的 ExtJS 代码，用于在网格中显示我的记录。

```
 var remoteProxy = new Ext.data.ScriptTagProxy({
                url : 'hastanebilgilerinigetir'
            });

            var recordFields = [
                                { name : 'hid',          mapping : 'hid'},
                                { name : 'isim',   mapping : 'isim'},
                                { name : 'adres',    mapping : 'adres'},
                                { name : 'telefon',      mapping : 'telefon'},
                                { name : 'bashekimid',        mapping : 'bashekimid' }
            ];

            var remoteJsonStore = new Ext.data.JsonStore({
                proxy           : remoteProxy,
                storeId         : 'ourRemoteStore',
                root            : 'records',
                autoLoad        : false,
                //totalProperty   : 'totalCount',
                remoteSort      : true,
                fields          : recordFields,
                idProperty      : 'hid'
            });

            var textFieldEditor = new Ext.form.TextField();

            var numberFieldEditor = {
                    xtype     : 'numberfield',
                    minLength : 5,
                    maxLength : 5
            };

            var columnModel = [
                               {
                                   header    : 'Hastane Adı',
                                   dataIndex : 'isim',
                                   sortable  : true,
                                   editor    : textFieldEditor
                               },
                               {
                                   header    : 'Telefon',
                                   dataIndex : 'telefon',
                                   sortable  : true,
                                   editor    : textFieldEditor
                               },
                               {
                                   header    : 'Adres',
                                   dataIndex : 'adres',
                                   sortable  : true,
                                   editor    : textFieldEditor
                               },
                               {
                                   header    : 'Baş Hekim ID',
                                   dataIndex : 'bashekimid',
                                   sortable  : true,
                                   editor    : numberFieldEditor
                               },
                               {
                                   header    : 'Hastane ID',
                                   dataIndex : 'hid',
                                   sortable  : true,
                                   editor    : numberFieldEditor
                               }
                               ];
    var grid = {
            xtype      : 'editorgrid',
            columns    : columnModel,
            id         : 'myEditorGrid',
            store      : remoteJsonStore,
            loadMask   : true,
            bbar       : pagingToolbar,
            stripeRows : true,
            viewConfig : {
                forceFit : true
            },
            listeners        : {
                cellcontextmenu : doCellCtxMenu,
                destroy         : function(thisGrid) {
                    if (thisGrid.rowCtxMenu) {
                        thisGrid.rowCtxMenu.destroy();
                    }
                }
            }
    };

    var hastanegridi = new Ext.Panel({
        title: 'Hastaneler',
        height  : 700,
        width   : 950,
        border  : false,
        layout  : 'fit',
        items   : grid
    });

    remoteJsonStore.load({
        params : {
            start : 0,
            limit : 50
        }
    }); 
```

我有以下 java 代码来创建 JSONObject

```
 @Override
    public JSONObject listHastanesAsJson() {
        List<Hastane> lst = hastaneDao.listHastane();

        JSONArray arr = new JSONArray();

//      int i=lst.size();
//      JSONObject counter = new JSONObject();
//      counter.put("totalCount", i);
//      arr.add(counter);

        for(Hastane kan:lst){

            JSONObject obj = new JSONObject();

            obj.put("hid", kan.getHid());
            obj.put("isim", kan.getIsim());
            obj.put("adres", kan.getAdres());
            obj.put("telefon", kan.getTelefon());
            obj.put("bashekimid", kan.getBahekimid());
            arr.add(obj);
        }

        JSONObject o = new JSONObject();
        o.put("records", arr);
        return o;
    } 
```

我的 Json 数据如下所示：

```
{"records":[{"hid":1,"isim":"Zeynep Kamil","adres":"Istanbul","telefon":"056765434567","bashekimid":1},{"hid":2,"isim":"Ankara Hastanesi","adres":"Ankara","telefon":"345678987658","bashekimid":2},{"hid":3,"isim":"Baskent Hastanesi","adres":"Ankara","telefon":"567898765697","bashekimid":3}]} 
```

但是当我尝试在浏览器中显示我的数据时，出现“无效标签”下方的错误

![在此处输入图像描述](../Images/aa5a1da02733bc994838f4fb035cc869.png)

在服务器端创建 JSONObject 时是否有错误？

我的 json 数据必须类似于此链接，但我不知道如何构建我的数据，如下所示：[http ://extjsinaction.com/dataQuery.php](http://extjsinaction.com/dataQuery.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:10:15.707

您正在使用`Ext.data.ScriptTagProxy`Witch 用于 JSONP（跨域请求）

**您的请求网址应该是这样的：**

*http://extjsinaction.com/dataQuery.php? **回调=回调函数***

**你的回复应该是这样的：**

```
callbackFunction({
    "records": [
        {
            "hid": 1,
            "isim": "Zeynep Kamil",
            "adres": "Istanbul",
            "telefon": "056765434567",
            "bashekimid": 1
        },
        {
            "hid": 2,
            "isim": "Ankara Hastanesi",
            "adres": "Ankara",
            "telefon": "345678987658",
            "bashekimid": 2
        },
        {
            "hid": 3,
            "isim": "Baskent Hastanesi",
            "adres": "Ankara",
            "telefon": "567898765697",
            "bashekimid": 3
        }
    ]
}) 
```

如果你需要更多关于 JSONP 的信息，谷歌是你的朋友。

文档中的一些很好的[例子](http://all-docs.info/extjs4/docs/api/Ext.data.ScriptTagProxy.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:47:11.287

```
[{"hid":1,"isim":"Zeynep Kamil","adres":"Istanbul","telefon":"056765434567","bashekimid":1},{"hid":2,"isim":"Ankara Hastanesi","adres":"Ankara","telefon":"345678987658","bashekimid":2},{"hid":3,"isim":"Baskent Hastanesi","adres":"Ankara","telefon":"567898765697","bashekimid":3}] 
```

你能从你的服务器发送这样的东西还是返回 JSONArray。我从来没有工作过，`ExtJs`但这就是我填充网格的方式`DOJO`

# sql - SQL IN 比单独查找更有效吗？

> ID：10848675
> 
> 赞同：3
> 
> 时间：2012-06-01T10:30:51.017
> 
> 标签：sql

例如在以下查询中

```
SELECT * FROM Persons
WHERE LastName IN ('Hansen','Pettersen', 'Smith') 
```

假设 LastName 被索引，单个查询是否比对 LastName 执行三个单独的查询更有效？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:37:05.917

执行单个查询比运行多个查询来检索相同数量的数据要快，因为您节省了网络往返次数。以我的经验，往返次数通常是多查询场景中性能的最大杀手。

与具有三个*条件*的单个查询相比，像这样，

```
SELECT * FROM Persons
WHERE LastName='Hansen' OR LastName='Pettersen' OR LastName='Smith' 
```

不同：大多数优化器发现它与`IN`查询相同，因此您的性能保持不变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:39:41.243

在这种特定情况下，答案*可能*是肯定的：正如 Dems 所说：

> 1 次网络往返而不是 3 次，1 次解析开销而不是 3 次，1 次索引旅行而不是 3 次

但对于一般情况，情况并非如此。例子：

*   一些数据库不允许`IN`子句中有任意数量的元素。Oracle 将您限制为 1000。因此，即使一次查询会更快，您也不能总是如此。
*   如果 之后的表达式`IN`是子查询，则运行该子查询会更快，在您的应用程序中处理结果并使用值列表构建第二个查询（通常是因为索引和/或类型转换问题）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:38:29.010

If you will create index in column it will affect your performance.. You can use non-clustered indices on any foreign key columns.

This will help you..

try to implement several queries like this some of with index and some of without index.. You will know difference..

# java - 尝试从 Java 中的列表中获取对象

> ID：10848676
> 
> 赞同：-3
> 
> 时间：2012-06-01T10:30:52.323
> 
> 标签：java

我熟悉`ArrayList`通过他们的索引获取对象并将数据放入变量中，但我似乎对这个有困难。

好的，这是一个更具体的更新（并删除代码中的冗余）。

该查询返回一个数字列表。我应该在`index[0]`. at 的值`index[0]`是数字**20**。我成功进行的查询返回了一个包含预期值的列表。

现在我做的代码是这样的：

```
List noByDivision = dao.getNumber(division);
Number noOfRoutes = (Number)noByDivision.get(0); 
```

第二行没有将数据 from 放置`(Number)noByDivision.get(0);`到`noOfRoutes`。谁能建议如何获取这些数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:56:41.243

我建议您以这种方式更改代码：

```
try{
    List<List<Number>> getFromDatabase = dao.getBoxes();
    List<Number> listFromQuery = getFromDatabase.get(0);
    Number noOfBoxes = listFromQuery.get(0);
}catch(Exception e){
    System.out.println(e.getMessage())
} 
```

并检查您的代码中是否存在某种运行时异常。

如果没有抛出异常，可能`noOfBoxes`就是简单的`null`.

# c++ - Apple Mach-O 链接器（id）错误

> ID：10848683
> 
> 赞同：0
> 
> 时间：2012-06-01T10:31:18.243
> 
> 标签：c++, xcode, macos

我试图在 xcode 上编译一个 c++ 项目。

我收到这个错误，我真的不知道该怎么办。

搜索了类似的问题，但没有任何帮助。

这是错误：

```
Ld /Users/itzikhanoch/Library/Developer/Xcode/DerivedData/ex4-eepdugqcjenwebctvbtmtbkyguxu/Build/Products/Debug/ex4 normal x86_64
cd /Users/itzikhanoch/Documents/XcodeWorkspace/ex4
setenv MACOSX_DEPLOYMENT_TARGET 10.7
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk -L/Users/itzikhanoch/Library/Developer/Xcode/DerivedData/ex4-eepdugqcjenwebctvbtmtbkyguxu/Build/Products/Debug -F/Users/itzikhanoch/Library/Developer/Xcode/DerivedData/ex4-eepdugqcjenwebctvbtmtbkyguxu/Build/Products/Debug -filelist /Users/itzikhanoch/Library/Developer/Xcode/DerivedData/ex4-eepdugqcjenwebctvbtmtbkyguxu/Build/Intermediates/ex4.build/Debug/ex4.build/Objects-normal/x86_64/ex4.LinkFileList -mmacosx-version-min=10.7 -o /Users/itzikhanoch/Library/Developer/Xcode/DerivedData/ex4-eepdugqcjenwebctvbtmtbkyguxu/Build/Products/Debug/ex4

Undefined symbols for architecture x86_64:
"_main", referenced from:
  start in crt1.10.6.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:40:39.697

所有 C 和 C++ 代码都必须有一个全局`main`函数，从这里开始执行。根据规范，该`main`函数还必须返回一个整数并且没有或有两个特定参数：

```
int main()

int main(int, char **)

int main(int, char *[]) 
```

# android - Android请求窗口功能

> ID：10848688
> 
> 赞同：1
> 
> 时间：2012-06-01T10:31:44.453
> 
> 标签：android, window

在我的单个活动屏幕上的应用程序中，我想请求以下两个窗口功能：

```
requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS); 
        requestWindowFeature(Window.FEATURE_LEFT_ICON); 
```

一次添加一个时两者都在工作，但是当我将它们两个加在一起时它们都不起作用。

请建议我们如何在android中做到这一点？

**编辑** 我的活动代码

```
@Override
    public void onCreate(Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        Log.v("TAG", "After super.onCreate()");
        requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS); 
        Log.v("TAG", "after Window.FEATURE_INDETERMINATE_PROGRESS");
        requestWindowFeature(Window.FEATURE_LEFT_ICON);
        Log.v("TAG", "after Window.FEATURE_LEFT_ICON");
        setContentView(R.layout.categotylist);
        Log.v("TAG", "after setContentView");
        lists = new ArrayList<String>();
\\some more code
} 
```

**LOGCAT**

```
06-02 13:02:37.813: D/Prototype(421): ViewPagerActivityActivity : LOADING CATEGORY
06-02 13:02:38.092: D/dalvikvm(421): GC_FOR_MALLOC freed 7300 objects / 470264 bytes in 59ms
06-02 13:02:38.112: I/global(421): Default buffer size used in BufferedReader constructor. It would be better to be explicit if an 8k-char buffer is required.
06-02 13:02:38.982: V/TAG(421): After super.onCreate()
06-02 13:02:38.982: V/TAG(421): after Window.FEATURE_INDETERMINATE_PROGRESS
06-02 13:02:38.992: V/TAG(421): after Window.FEATURE_LEFT_ICON
06-02 13:02:39.172: V/TAG(421): after setContentView 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T16:29:52.133

你试着让你的`requestWindowFeature() call before you call setContentView()?`

请参阅此[Android 开发者网站](http://developer.android.com/reference/android/view/Window.html#requestFeature%28int%29)

# android - 实现我自己的应用程序类时，WebView 不起作用

> ID：10848692
> 
> 赞同：1
> 
> 时间：2012-06-01T10:32:01.657
> 
> 标签：android, webview, android-4.0-ice-cream-sandwich

嗨，当我实现自己的应用程序类时，我遇到了一个尴尬的错误

```
 public class ApplicationController extends Application{
   ..... 
```

并将条目放入android清单中

```
 <application
        android:name="com.mypackage.ApplicationController"
        ... 
```

一切正常，除了布局`WebView`不工作。它在以下位置引发异常`setContentView()`：

```
android.view.InflateException: Binary XML file line #104: Error inflating class android.webkit.WebView 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T13:56:52.767

您不能将内容视图设置为扩展类的`Application`类。您可以从`Activity`. 要么将此类更改为扩展`Activity`，要么创建另一个扩展`Activity`。

# c# - WebRequest 标头协助

> ID：10848694
> 
> 赞同：0
> 
> 时间：2012-06-01T10:32:05.550
> 
> 标签：c#, http-headers, webrequest

我正在尝试将一些 XML 发布到公开的服务中。我正在使用 System.Net.WebRequest 发布所需的信息，并使用 Fiddler 我可以看到我的帖子的结果如下：

```
 POST http://x.x.x.x:5010/FindReservationByRoom HTTP/1.1
 Content-Type: text/xml
 Transaction: 1
 Host: x.x.x.x:5010
 Content-Length: 29
 Expect: 100-continue

 <Body><Room>103</Room></Body> 
```

不幸的是，上述方法似乎不起作用。与此服务通信的说明表明，第一行实际上应该是：

```
POST FindReservationByRoom HTTP/1.1 
```

但是 WebRequest 似乎将整个 URI 附加到第一行。我不是 HTTP 专家，所以我不确定我在这里做错了什么。任何建议将不胜感激。

编辑：调用返回的错误消息是：

```
 Unknown command verb '<Body><Room>103</Room></Body>POST' 
```

编辑：我用来拨打电话的代码是：

```
 System.Net.WebRequest req = System.Net.WebRequest.Create("http://x.x.x.x:5010/FindReservationByRoom");
        req.Headers.Clear();

        req.ContentType = "text/xml";
        req.Method = "POST";

        StringBuilder xml = new StringBuilder();
        xml.Append("<Body><Room>103</Room></Body>");

        byte[] bytes = System.Text.Encoding.ASCII.GetBytes(xml.ToString());

        StringBuilder header = new StringBuilder();
        req.Headers.Add("Transaction: 1");

        req.ContentLength = bytes.Length;
        Stream os = req.GetRequestStream();
        os.Write(bytes, 0, bytes.Length);

        System.Net.WebResponse resp = req.GetResponse();
        if (resp != null)
        {
            System.IO.StreamReader sr = new System.IO.StreamReader(resp.GetResponseStream());
            string responsecontent = sr.ReadToEnd().Trim();
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:08:29.017

据我所知状态错误：未知命令动词不是已知的http响应。
您将此问题视为 http 请求格式错误，但我感觉没有 http 层问题。
您是否有您尝试访问的该服务的源代码，或者它是否是第三方组件？
我猜他们期望的不仅仅是普通的 xml，也许该服务正在扫描您的 xml 以查找命令动词。

# asp.net-mvc-3 - 是否可以在 MVC 中进行动态操作

> ID：10848700
> 
> 赞同：1
> 
> 时间：2012-06-01T10:32:21.893
> 
> 标签：asp.net-mvc-3, routes

我正在尝试使用 MVC 构建文件共享网站。短 URL 是一个不错的功能 - 通常采用以下格式：

```
http://site.com/Rtravf2
http://site.com/XddsvgF
http://site.com/AaraEwq 
```

URL 末尾的“动作”实际上是用于下载文件的 ID。这种格式的 URL 都可以映射到家庭控制器中的同一个操作方法，称为下载。

这是我的路线表中唯一的路线

```
routes.MapRoute(
    "Default", // Route name
    "{action}/{id}", // URL with parameters
    new { controller = "Home", action = "Index", id = UrlParameter.Optional }
); 
```

我应该构造什么样的路由，以便这些 Url 可以映射到 Home Controller 上的 Download 操作。

目前得到一堆404（自然！）

感谢您的任何指示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T19:13:56.697

```
routes.MapRoute(null, // Route name
    "{id}", // URL with parameters
    new { controller = "Home", action = "Download" }
);

routes.MapRoute(null, // Route name
    "Index/{id}", // URL with parameters
    new { controller = "Home", action = "Index", id = UrlParameter.Optional }
); 
```

# jquery - ExCanvas 在 IE7 和 IE8 IFrame 中不起作用

> ID：10848711
> 
> 赞同：3
> 
> 时间：2012-06-01T10:34:04.543
> 
> 标签：jquery, javascript

我写了一个代码片段，它适用于除零以外的所有值。它不将零视为数字并将其发送到 else 条件。所以验证对我来说失败了。我附上了下面的代码。所有非零数字都被接受，但是当我在文本框中写零时，根据我的验证它说“请输入一个数字”。

```
$('.scoreTextInput').change(function(){
            $(this).each(function(){
                var errorId=$(this).attr('bind');
                if(Number($(this).val()))
                {
                    if(($(this).val())>100)
                    {
                    $('#'+errorId).text('Score must not exceed 100%');
                    $(this).val(0);
                    }
                    else{
                        $('#'+errorId).text('');

                    }
                }
                    else
                    {
                    $('#'+errorId).text('Please enter a number');
                    $(this).val(0); 
                    }
                }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T22:32:58.853

也许试试这个？

```
if($.isNumeric($(this).val())) 
```

[jQuery .isNumeric](http://api.jquery.com/jQuery.isNumeric/)

# java - 不能通过引用传递android中的布尔变量

> ID：10848712
> 
> 赞同：4
> 
> 时间：2012-06-01T10:34:07.203
> 
> 标签：java, android, touch-event, pass-by-value

我正在使用它记录触摸的 touchevent 列表器，并且我使用 viewpager 进行 swping.. 因为我们知道 java 的缺点是按值传递，我仍在尝试在匿名内部类中传递布尔值。在 switch stmt 中更改的值不会保留在 switch stmt 之外。flag2 值。有人对此有解决方案吗？我的代码如下

```
 parent.setOnTouchListener(new OnTouchListener() {

            public boolean onTouch(View v, MotionEvent event) {
                //flag2=!flag2;
                switch(event.getAction())
                {
                 case MotionEvent.ACTION_MOVE: 
                        awesomePager.requestDisallowInterceptTouchEvent(true);
                        //flag2=false;
                        break;
                case MotionEvent.ACTION_UP:
                    awesomePager.requestDisallowInterceptTouchEvent(true);
                     if(flag)
                     {
                       upperdock.setClickable(false);
                        upperdock.bringToFront();
                        tocparent.bringToFront();
                        tocbottom.bringToFront();
                        upperdock.setVisibility(RelativeLayout.VISIBLE);
                        tocparent.setVisibility(LinearLayout.VISIBLE);
                        tocbottom.setVisibility(LinearLayout.VISIBLE);
                        flag=false;
                    // obj.one(event.getAction());
                     }
                     else
                 {

                        parent.bringToFront();
                        upperdock.setVisibility(RelativeLayout.INVISIBLE);
                        tocparent.setVisibility(LinearLayout.INVISIBLE);
                        tocbottom.setVisibility(LinearLayout.INVISIBLE);
                        flag=true;
                 //obj.one(event.getAction());
                     }

                    flag2=true;
                    break;

                case MotionEvent.ACTION_CANCEL:
                    awesomePager.requestDisallowInterceptTouchEvent(false);
                    flag2=false;
                    break;

                }

            return flag2;

            }

        }); 
```

> ```
> public class SimpleViewPagerforAndroidActivity extends Activity {
> /** Called when the activity is first created. */
>  boolean flag2=true;
> //rest of the code
> } 
> ```

请帮助...需要它..

```
package com.beanie.samples.viewpager;

       //set of imports

      public class SimpleViewPagerforAndroidActivity extends Activity {
    /** Called when the activity is first created. */

     volatile boolean flag2=true;

       AwesomePagerAdapter awe1;

         @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        this.requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.main);

        cxt = this;
        data = new ArrayList<WebView>();

       awesomePager = (ViewPager) findViewById(R.id.viewPager);

        awesomePager.setAdapter(new AwesomePagerAdapter(this,data));

        Bundle extras = getIntent().getExtras();

           Boolean dock2checked = extras.getBoolean("dock1");

           if(dock2checked)
           {
               Toast toast1 = Toast.makeText(getBaseContext(), Boolean.toString(dock2checked), 5000);
               toast1.show();
           }
           else
           {
               Toast toast1 = Toast.makeText(getBaseContext(), Boolean.toString(dock2checked), 5000);
               toast1.show();
           }

    awesomePager.setOffscreenPageLimit(11);

   //       
    web0 = new WebView(cxt);
    web0.loadUrl("file:///android_asset/1/01-Cover.html");
  WebSettings webSettings0 = web0.getSettings();
  webSettings0.setJavaScriptEnabled(true);

    web1 = new WebView(cxt);
    web1.loadUrl("file:///android_asset/1/01-Cover.html");
  WebSettings webSettings1 = web1.getSettings();
  webSettings1.setJavaScriptEnabled(true);
    web2 = new WebView(cxt);
    web2.loadUrl("file:///android_asset/5/05-01.html");
    WebSettings webSettings2 = web2.getSettings();
      webSettings2.setJavaScriptEnabled(true);

     web3 = new WebView(cxt);
    web3.loadUrl("file:///android_asset/1/01-Cover.html");
    WebSettings webSettings3 = web3.getSettings();
      webSettings3.setJavaScriptEnabled(true);
    web4 = new WebView(cxt);
    web4.loadUrl("file:///android_asset/5/05-01.html");
    WebSettings webSettings4 = web4.getSettings();
      webSettings4.setJavaScriptEnabled(true);
    web5 = new WebView(cxt);
    web5.loadUrl("file:///android_asset/1/01-Cover.html");
    WebSettings webSettings5 = web5.getSettings();
      webSettings5.setJavaScriptEnabled(true);
    web6 = new WebView(cxt);
    web6.loadUrl("file:///android_asset/5/05-01.html");
    WebSettings webSettings6 = web6.getSettings();
      webSettings6.setJavaScriptEnabled(true);

    web7 = new WebView(cxt);
    web7.loadUrl("file:///android_asset/1/01-Cover.html");
    WebSettings webSettings7 = web7.getSettings();
      webSettings7.setJavaScriptEnabled(true);

    web8 = new WebView(cxt);
    web8.loadUrl("file:///android_asset/5/05-01.html");
    WebSettings webSettings8 = web8.getSettings();
      webSettings8.setJavaScriptEnabled(true);
    web9 = new WebView(cxt);
    web9.loadUrl("file:///android_asset/1/01-Cover.html");
    WebSettings webSettings9 = web9.getSettings();
      webSettings9.setJavaScriptEnabled(true);

    web10 = new WebView(cxt);
    web10.loadUrl("file:///android_asset/5/05-01.html");
    WebSettings webSettings10 = web10.getSettings();
      webSettings10.setJavaScriptEnabled(true);

    data.add(web0);
    data.add(web1);
    data.add(web2);
    data.add(web3);
    data.add(web4);
    data.add(web5);
    data.add(web6);
    data.add(web7);
    data.add(web8);
    data.add(web9);
    data.add(web10);

      tocparent=(LinearLayout) findViewById(R.id.tocparent);
      dock2=(Button)findViewById(R.id.button1);
      //dock2.setVisibility(Button.INVISIBLE);
      tocparent.setVisibility(LinearLayout.INVISIBLE);

      topmost=(RelativeLayout) findViewById(R.id.topmost);
      parent=(RelativeLayout) findViewById(R.id.rl1);
        upperdock=(RelativeLayout) findViewById(R.id.upperdock);
        tocparent=(LinearLayout) findViewById(R.id.tocparent);
        tocbottom=(LinearLayout) findViewById(R.id.linearLayout3);
        upperdock.setVisibility(RelativeLayout.INVISIBLE);
        tocparent.setVisibility(LinearLayout.INVISIBLE);
        tocbottom.setVisibility(LinearLayout.INVISIBLE);

      web0.loadUrl("javascript:fhhf()");

parent.setOnTouchListener(new OnTouchListener() {

            public boolean onTouch(View v, MotionEvent event) {
                //flag2=!flag2;
                switch(event.getAction())
                {
                 case MotionEvent.ACTION_MOVE: 
                        awesomePager.requestDisallowInterceptTouchEvent(true);
                        //flag2=false;
                        break;
                case MotionEvent.ACTION_UP:
                    awesomePager.requestDisallowInterceptTouchEvent(true);
                     if(flag)
                     {
                       upperdock.setClickable(false);
                        upperdock.bringToFront();
                        tocparent.bringToFront();
                        tocbottom.bringToFront();
                        upperdock.setVisibility(RelativeLayout.VISIBLE);
                        tocparent.setVisibility(LinearLayout.VISIBLE);
                        tocbottom.setVisibility(LinearLayout.VISIBLE);
                        flag=false;
                    // obj.one(event.getAction());
                     }
                     else
                 {

                        parent.bringToFront();
                        upperdock.setVisibility(RelativeLayout.INVISIBLE);
                        tocparent.setVisibility(LinearLayout.INVISIBLE);
                        tocbottom.setVisibility(LinearLayout.INVISIBLE);
                        flag=true;
                 //obj.one(event.getAction());
                     }
                    flag2=true;

                    break;

                case MotionEvent.ACTION_CANCEL:
                    awesomePager.requestDisallowInterceptTouchEvent(false);

                    flag2=false;
                    //Toast.makeText(getApplicationContext(), s, 220).show();
                     //obj.one(event.getAction());
                    break;

                }
      /*  if(event.getAction()==MotionEvent.ACTION_UP)
        {
            flag2=true;
        }
        else if(event.getAction()==MotionEvent.ACTION_CANCEL)
        {
            flag2=false;
        }*/

            return flag2;

            }

        });

      awesomePager.setOnPageChangeListener(new OnPageChangeListener() {

           public void onPageSelected(int arg0) {
               //Toast toast1 = Toast.makeText(getBaseContext(), "PageSelected"+ arg0, 5000);
                //Toast1.show();
            if(arg0==0)
            {
            //web0.loadUrl("javascript:fhhf()");

    //              awesomePager.getChildAt(arg0 - 1);
                web0.loadUrl("javascript:fhhf1()");
                web0.loadUrl("javascript:fhhf()");

            }
            else if(arg0==1)
            {
                web1.loadUrl("javascript:fhhf1()");
                web1.loadUrl("javascript:fhhf()");

            }

            else if(arg0==3)
            {

                web3.loadUrl("javascript:fhhf1()");
            //Toast toast2 = Toast.makeText(getBaseContext(), "fun"+ arg0, 5000);
            //Toast2.show();
            }
            else if(arg0==5)
                web5.loadUrl("javascript:fhhf()");
            else if(arg0==7)
                web7.loadUrl("javascript:fhhf()");
            else if(arg0==9)
                web9.loadUrl("javascript:fhhf()");
           }

           public void onPageScrolled(int arg0, float arg1, int arg2) {

           }

           public void onPageScrollStateChanged(int arg0) {
            // TODO Auto-generated method stub

            int o = awesomePager.getCurrentItem();
            WebView temp = (WebView) awesomePager.getChildAt(o); 

               if(arg0 == 1)
               {

                temp.loadUrl("javascript:fhhf1()");
               }

               else if(arg0 == 0)
               {

                   temp.loadUrl("javascript:fhhf()");
               }

           }
          });

}
 public boolean fun1()
   {
       return true;
   }
 public boolean fun2()
   {
       return false;
   }

private class AwesomePagerAdapter extends PagerAdapter  implements           ViewPager.OnPageChangeListener {

    private List<WebView> data;
    private Context ctx1;

    public AwesomePagerAdapter(Context ctx, List<WebView> data) {
        this.ctx1 = ctx;
        this.data = data;
    }

    @Override
    public int getCount() {
            return NUM_AWESOME_VIEWS;
    }

    @Override
    public Object instantiateItem(View collection, int position) {

        data.get(position).setBackgroundColor(R.color.black);
        return data.get(position);

      }

    @Override
    public void destroyItem(View collection, int position, Object view) {

            ((ViewPager) collection).removeView((WebView) view);
    }

    @Override
    public boolean isViewFromObject(View view, Object object) {

            return view==((WebView)object);

    }

    @Override
    public void finishUpdate(View arg0) {
    }

    @Override
    public void restoreState(Parcelable arg0, ClassLoader arg1) {}

    @Override
    public Parcelable saveState() {
            return null;
    }

    @Override
    public void startUpdate(View arg0) {}

    public void onPageScrollStateChanged(int position) {

    }

    public void onPageScrolled(int arg0, float arg1, int arg2) {
        // TODO Auto-generated method stub

    }

    public void onPageSelected(int position) {

    }

    }

 } 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:25:21.033

first make a method in **SimpleViewPagerforAndroidActivity** as given below u can also either use **void** if u don't want to return anything

```
 boolean method(Boolean flag){
    flag2=flag;
    return flag2;
} 
```

Make an **object** in other class as shown below

**SimpleViewPagerforAndroidActivity** abc=new **SimpleViewPagerforAndroidActivity();**

and in ontouch event in **switch** statement call method by

```
abc.method(false or true); 
```

this will update ur **flag2** and u can check as by print in Log by

```
Log.d("flag2",""+abc.flag2); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T16:39:57.570

也许尝试强制它在 UI 线程上运行？

IE：

```
public void passBoolean(final boolean boolToPass){      
    runOnUiThread(new Runnable() {
        public void run() {

            //Do whatever here on the UI thread
        }
    });    
} 
```

# maven - 多模块 POM - 创建一个有效的站点

> ID：10848715
> 
> 赞同：19
> 
> 时间：2012-06-01T10:34:17.103
> 
> 标签：maven, maven-site-plugin

我有一个多模块应用程序，我正在尝试为此应用程序生成一个 Maven 站点。

我有一个包含所有子模块的聚合 POM，一个包含子模块所有通用功能的继承 POM，以及 20 个左右的子模块。

我已经浏览了无数的在线示例，以了解如何使其发挥作用。在这些中没有一个是这项工作的多模块部分。我可以在子级（和聚合模块）的目标/站点文件夹中构建好的单个站点输出。我还将它暂存到聚合 POM 中的目标/暂存文件夹中。创建的东西看起来不错。

但：

子模块链接都不起作用。

我试过在码头下运行它，因为关于这个问题的一些评论说这些链接只有在它被构建为一个网站时才有效——但不，同样的问题，它找不到孩子的 index.html。

有没有*人*有这个工作的例子？并且为了避免我撕掉更多的头发（上帝知道它已经用完了），我宁愿看到实际工作的 POM 代码和/或正确测试和部署所遵循的阶段。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-10-12T16:25:22.083

我找到了一个“更简单”的解决方案来配置`stage`目标。它将自动聚合文件`${project.baseURI}/target/staging`夹中每个模块的文档。诀窍是将其添加到所有子模块的父 pom 中：

```
 <distributionManagement>
     <site>
        <id>${project.artifactId}-site</id>
        <url>${project.baseUri}</url>
     </site>
  </distributionManagement> 
```

跑

```
mvn clean site site:stage 
```

来自 pom 聚合器。然后查看`target/staging`文件夹。您将正确链接子模块文档！

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-06T12:49:37.347

OK，终于搞定了。

将此（仅）添加到父 POM，根据需要更改暂存文件夹：

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-site-plugin</artifactId>
    <version>3.0</version>
    <configuration>
     <stagingDirectory>C:\temp\stage</stagingDirectory>
     <reportPlugins>
       <plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-project-info-reports-plugin</artifactId>
         <version>2.4</version>
       </plugin>
       <plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-javadoc-plugin</artifactId>
         <version>2.8</version>
         <configuration></configuration>
         <reportSets>
           <reportSet>
             <id>non-aggregate</id>
             <configuration>
               <!-- Specific configuration for the aggregate report -->
               <sourcepath>${project.build.sourceDirectory}/../generated</sourcepath>
             </configuration>
             <reports>
               <report>javadoc</report>
             </reports>
           </reportSet>
           <reportSet>
             <id>aggregate</id>
             <configuration>
               <!-- Specific configuration for the aggregate report -->
               <sourcepath>${project.build.sourceDirectory}/../generated</sourcepath>
             </configuration>
             <reports>
               <report>aggregate</report>
             </reports>
           </reportSet>
         </reportSets>
       </plugin>
        <plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-surefire-report-plugin</artifactId>
         <version>2.6</version>
       </plugin>
     </reportPlugins>
    </configuration>
</plugin> 
```

将此添加到父级的分发管理部分：

```
<site>
  <id>${project.artifactId}-site</id>
  <url>./</url>
</site> 
```

然后运行

```
mvn site site:stage 
```

这应该部署到带有工作链接的临时/站点中。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-09-26T12:48:51.283

距离上一个解决方案已经一年多了。

我不喜欢这种解决方法，必须有另一种解决方案“maven way”。

所以这里是：

在 Maven 站点插件常见问题解答中： [http ://maven.apache.org/plugins/maven-site-plugin/faq.html#Use_of_url](http://maven.apache.org/plugins/maven-site-plugin/faq.html#Use_of_url)

“另一方面，在多模块构建中用于构建相对链接 [...]。在多模块构建中，父模块和子模块具有不同的 URL 很重要。”

您必须在每个 pom.xml 中使用不同的 URL 声明 <distributionManagement> 标记：

父 POM：

```
<distributionManagement>
  <site>
    <id>mysite</id>
    <name>My Site</name>
    <url>ftp://server.example.com/htdocs/site/</url>
  </site>
</distributionManagement> 
```

孩子一 POM：

```
<distributionManagement>
  <site>
    <id>mysite</id>
    <name>My Site</name>
    <url>ftp://server.example.com/htdocs/site/one/</url>
  </site>
</distributionManagement> 
```

孩子两个 POM：

```
<distributionManagement>
  <site>
    <id>mysite</id>
    <name>My Site</name>
    <url>ftp://server.example.com/htdocs/site/two/</url>
  </site>
</distributionManagement> 
```

现在该站点的生成和分期工作按要求进行。暂存站点生成于`parent/target/staging`

您可以使用 -D 提交另一个暂存目录

```
mvn -DstagingDirectory=D:/Temp/Site package site site:stage 
```

**注意**：如果子 2 有子 1 作为依赖项，则需要目标*包。*使用*package*，执行目标*站点*时不会出现存储库中缺少依赖项的错误。

**编辑**：有必要为每个使用与 <distributionManagement> 中相同的路径的工件提供一个 <url>。这是因为report-info-plugin 生成的index.html 使用<url> 来计算相对路径，而site:stage 使用<distributionManagement>。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-01T10:43:02.020

子链接在您当前的项目中不起作用，您需要做一个[site:stage](http://maven.apache.org/plugins/maven-site-plugin/stage-mojo.html)否则它将不起作用。您需要定义*stagingDirectory*，它定义了必须是绝对路径的目标位置。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-09-11T19:19:28.357

这并不完全按照您的想法工作。这[*在我运行“mvn 站点”时为什么父模块和子模块之间的链接不起作用？*](https://maven.apache.org/plugins/maven-site-plugin/faq.html#Why_dont_the_links_between_parent_and_child_modules_work_when_I_run_mvn_site)常问问题。

我不是 Maven 专家，但这就是我在本地生成网站的方式：

1.  `<site>`在根 POM 中 配置 a

    ```
    <distributionManagement>
        <site>
            <id>internal.repo</id>
            <name>Temporary Staging Repository</name>
            <url>file://${project.build.directory}/mvn-repo</url>
        </site>
    </distributionManagement> 
    ```

2.  为您的项目构建站点

    ```
    mvn site 
    ```

3.  生成[本地暂存站点](https://maven.apache.org/plugins/maven-site-plugin/stage-mojo.html)。这“根据 POM 部分中指定的站点 URL 将生成的站点部署到本地暂存或模拟目录。”

    ```
    mvn site:stage 
    ```

4.  默认情况下，站点将在`${project.build.directory}/staging`目录下生成

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-04-06T08:41:04.817

给迷路的一些指点。运行后`mvn site site:stage`目录`site`将不包含组合站点，该站点将在`staging`目录中。根据[maven 站点插件使用页面](https://maven.apache.org/plugins/maven-site-plugin/usage.html)，在站点部署之前不会完成组合。暂存后，您可以调用`mvn site:deploy`将组合站点复制到您在 distributionManagement 中定义的 url 中指定的位置

```
<distributionManagement>
  <site>
    <id>website</id>
    <url>file://${project.build.directory}/completesite</url>
  </site>
</distributionManagement> 
```

在这种情况下，完成的站点最终将位于`completesite`项目构建目录（通常是`target`目录）中的目录中。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-01-30T00:46:01.460

我有一个与 OP 类似的案例，但有一点不同：其中一个子模块没有从多模块项目父级继承。我想生成一个所有链接都正常工作的分阶段站点。这是项目结构：

```
extraParent     // parent not part of this multi-module build
foo
  pom.xml       // aggregator
  fooParent     // parent for this project
  module1       // inherits from fooParent
  extraModule   // inherits from extraParent 
```

@Stefan 的回答是朝着正确方向迈出的一大步。特别是，我确认子模块*必须*重复`distributionManagement`and`url`元素。我在 fooParent 中试过这个：

```
<properties>
  <foo.site.url>file://somePath/foo/${project.artifactId}</foo.site.url>
</properties>

<url>${foo.site.url}</url>
<distributionManagement>
    <site>
        <id>site-docs</id>
        <url>${foo.site.url}</url>
    </site>
</distributionManagement> 
```

Maven 分别计算`foo.site.url`了 fooParent 和 module1:`file://somePath/foo/fooParent`和的正确值`file://somePath/foo/module1`。然而，顶级站点不包含到 module1 的正确链接，除非完全相同的 url/distributionManagement 块在子级中重复。似乎站点生成正在检查继承的配置而不考虑实际的 URL 值（即使它们在我查看有效 POM 时描述的情况下有所不同）。我发现这非常不直观。

我还需要一个配置元素来让顶级站点正确链接到 extraModule `topSiteURL`：. 我在 extraModule 的 POM 中添加了以下内容。注意我只是将 URL 的基本部分（包括顶级目录）提取到`topSiteURL`值中，然后在`foo.site.url`属性中使用它。

```
<properties>
  <topSiteURL>file://somePath/foo/</topSiteURL>
  <foo.site.url>${topSiteURL}/${project.artifactId}</foo.site.url>
</properties>

<url>${foo.site.url}</url>
<distributionManagement>
    <site>
        <id>site-docs</id>
        <url>${foo.site.url}</url>
    </site>
</distributionManagement> 
```

现在，当我使用 为多模块项目生成站点时`mvn site site:stage`，所有链接都有效。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-08-24T12:21:14.310

在[http://wiki.bitplan.com/index.php/Multi-Module_Maven_with_github_pages](http://wiki.bitplan.com/index.php/Multi-Module_Maven_with_github_pages)，您会在 github-pages 的上下文中找到详细的分析和示例。另请参阅[将 mvn site-deploy 与 github 页面一起使用的多模块示例](https://stackoverflow.com/questions/21520904/multi-module-example-of-using-mvn-site-deploy-with-github-pages)

**解决方法是什么？**

*   不要使用插件！
*   git clone 或将 gh-pages 拉到本地文件夹
*   mvn site:stage 到临时登台目录
*   rsync 将结果同步到 git 本地文件夹中
*   签入本地文件夹
*   喝杯咖啡或喝杯啤酒/开心

    **不要使用插件！**

*   它很慢（因为真的很慢......示例项目需要 18 分钟）

*   它不可靠（如 500 HTML 代码）

*   它维护得不好（如 [ [https://github.com/github/maven-plugins/issues](https://github.com/github/maven-plugins/issues) 57 open issues as of 2018-08]

*   它是多余的（见下文）即使是提交者也不再使用它（就像我今天收到的个人邮件一样..）

```
#
# createSite
#   ws: global variable pointing to workspace 
#   param 1: l_project - project name/directory
#   param 2: l_ghpages - directory where gh-pages branch has been git cloned/pulled
#   param 3: l_modules - non-empty for a multi-module project (e.g. containing the list of modules)
#
createSite() {
  local l_project="$1"
  local l_ghpages="$2"
  local l_modules="$3"

  color_msg $green "creating site for $l_project $l_modules"
  cd $ws/$l_project
    stage=/tmp/stage$$
    sitelog=/tmp/sitelog$$.txt
    rm -rf $stage
    # the stagingDirectory needs to be subdirectory 
    mkdir -p $stage/$l_project

    # run the staging of the site against this directory and log the results
    mvn -U clean install site site:stage -DstagingDirectory=$stage/$l_project | tee $sitelog

    # rsync the result into the github-pages folder
    rsync -avz --del $stage/* $l_ghpages/$l_project/

    # is this a multi module project?
    if [ "$l_modules" != "" ]
    then
        cd $l_ghpages/$l_project/
        if [ ! -f index.html ]
        then
cat << EOF > index.html
<!DOCTYPE html>
<html>
<head>
   <!-- HTML meta refresh URL redirection -->
   <meta http-equiv="refresh"
   content="0; url=./$l_project/$l_project/index.html">
</head>
<body>
   <p>This is a multimodule mvn site click below to get to the index.html of 
   <a href="./$l_project/$l_project/index.html">$l_project</a></p>
</body>
</html> 
EOF
        fi
        # add potentially new files
        git add *
        # commit results
        git commit -m "checked in by checksite script"
        # push results
        git push
    fi
    if [ "$debug" = "false" ]
    then
      rm -rf $stage
        rm $sitelog
    fi
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-04-20T05:16:37.120

我的案例将以下部分添加到顶部 pom 解决了问题：

```
<distributionManagement>
  <site>
    <id>struts-site</id>
    <url>https://struts.apache.org/maven/</url>
  </site>
</distributionManagement> 
```

现在使用下面的命令，它将在下面生成整个页面`target/staging`：

```
./mvnw clean site site:stage 
```

我正在使用这样的插件配置：

```
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-site-plugin</artifactId>
<version>3.9.0</version>
<configuration>
  <relativizeDecorationLinks>false</relativizeDecorationLinks>
</configuration> 
```

请注意，您还必须`site.xml`为每个子模块定义，因为菜单不是继承的。

# mysql - 如何使用 phpmyadmin 删除标记为“正在使用”的表

> ID：10848719
> 
> 赞同：5
> 
> 时间：2012-06-01T10:34:36.377
> 
> 标签：mysql, sql, phpmyadmin

如标题。当我尝试删除这些表时，我看到如下内容：

1051: 未知表 'urls_count'

表被标记为“正在使用”：

![问题截图](../Images/7423c6eed293d1b809fc3e71864b80a5.png)

我已经检查过没有应用程序正在使用这些表，因为这是我服务器上的新数据库并且没有连接到任何地方。这些表之间也没有依赖关系。我试图修复这些表，优化它们，检查它们，以及我可以运行的任何操作，即使看起来有点尴尬，但我仍然无法摆脱它们。

我怎样才能删除它们？

* * *

**网络服务器配置：**

cpsrvd 11.32.2.28，MySQL客户端版本：5.0.95，PHP扩展：mysql

**MySQL配置：**

服务器：通过 UNIX 套接字的本地主机，服务器版本：5.0.95-community，协议版本：10，MySQL 字符集：UTF-8 Unicode (utf8)

**PHPmyadmin 版本：** 3.4.10.1

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T10:38:59.913

如果你有 shell 访问权限，试试这个；

cd /var/lib/mysql/DATABASE （其中 DATABASE 是您要修复的那个）

myisamchk --safe-recover TABLE（其中 TABLE 是您要修复的表）

这将在安全模式下修复表，并且应该会成功。

# html - 谷歌浏览器图片有边框

> ID：10848722
> 
> 赞同：3
> 
> 时间：2012-06-01T10:35:06.283
> 
> 标签：html, google-chrome, css

某种疯狂的魔法正在这里发生 oO 在 Chrome 中图像有边框，出于某种原因，我对此无能为力。问题在于滑块 - 拇指，并且仅在 Chrome 中。我尝试将**border：none和border-style：none**应用于img元素，但仍然没有。

HTML 代码：

```
<div class="promo_tumbs col_12">
                    <div data-dir="prev" class="prev"></div>
                    <div data-dir="next" class="next"></div>
                    <div class="promo_tumbs_centar">
                        <a><img class="promo_tumb promo_tumb_current" /></a>
                        <a><img class="promo_tumb"/></a>
                        <a><img class="promo_tumb"/></a>
                        <a><img class="promo_tumb"/></a>
                        <a><img class="promo_tumb"/></a>
                        <a><img class="promo_tumb"/></a>
                        <a><img class="promo_tumb"/></a>
                    </div>
</div> 
```

CSS：

```
.promo_tumbs .prev:hover, .promo_tumbs .next:hover {cursor: pointer;}
.promo_tumbs .prev {position: absolute; left: 0;background: url('../img/resursi/slider_arrows.png') no-repeat 0 -208px;}
.promo_tumbs .prev:hover {background: url('../img/resursi/slider_arrows.png') no-repeat 0 -312px}
.promo_tumbs .next {position: absolute; right: 0;background: url('../img/resursi/slider_arrows.png') no-repeat 0 0px; }
.promo_tumbs .next:hover {background: url('../img/resursi/slider_arrows.png') no-repeat 0 -104px}
.promo_tumbs_centar {width: 90%;margin: 0 auto;}
a .promo_tumb {margin: 0; padding: 0; height: 105px; width: 145px; display: block; float: left; background: url('../img/resursi/thumbs.png') no-repeat 0px 0px;}
a:hover .promo_tumb {background: url('../img/resursi/thumbs.png') no-repeat 0 -105px}
.promo_tumb {height: 75px; width: 125px; float: left; margin: 15px 10px;}
.promo_tumb:hover {background: url('../img/resursi/proba.png') no-repeat}
.promo_tumb_current{background: url('../img/resursi/thumbs.png') no-repeat 0 -105px !important; } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-01T10:48:10.690

由于没有为图像设置源（src），因此它显示白色边框。

# java - 查找未从另一个实体引用的所有 JPA 实体

> ID：10848727
> 
> 赞同：1
> 
> 时间：2012-06-01T10:35:48.273
> 
> 标签：java, hibernate, jpa

假设我有两个 JPA 实体：

```
@Entity
public class EntityA {
  @Id
  private String id;

  @OneToMany
  private List<EntityB> b;

  ...
}

@Entity
public class EntityB {
  @Id
  private String id;

  ...
} 
```

我想要完成的是定义一个`@NamedQuery`检索所有`EntityB`未从任何`EntityA`.

天真地，我会尝试的

```
@NamedQuery(name = "EntityB.findAllUnassigned", query = "SELECT b FROM EntityB b WHERE NOT b IN (SELECT DISTINCT a.b FROM EntityA a)") 
```

但这最终会生成无效的 SQL：

```
select b0_.id as id1_, b0_.attr, ... from b b0_ where b0_.id not in  (select distinct . from a a1_, a_b ab2_, b b3_ where a1_.id=ab2_.a_id and ab2_.b_id=b3_.id) 
```

有什么选择吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T11:52:35.630

奇怪的是，这个查询没有给你一个例外。但是您的 ba 参考以这种方式是不合法的；您不能选择集合本身，您想要/需要选择集合元素。

```
SELECT b FROM EntityB b WHERE b NOT IN (SELECT DISTINCT elements(a.b) FROM EntityA a) 
```

但是请注意，元素是 Hibernate HQL 构造，而不是 JPA。

如果您关心 JPA 可移植性：

```
SELECT b FROM EntityB b WHERE b NOT IN (SELECT DISTINCT b2 FROM EntityA a join a.b b2) 
```

*** NOT IN 是更正常的形式，所以我在这里也使用了它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:44:37.933

无效的 SQL 是什么意思？你真的尝试过吗`...WHERE b NOT IN...`（注意未改变的位置）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T11:06:39.717

请试试这个，

```
 SELECT DISTINCT b FROM EntityB AS b JOIN b.a AS a WHERE a IS NULL 
```

如果你不能，试试那个

```
 SELECT DISTINCT b FROM EntityB AS b JOIN b.a AS a WHERE a.id IS NULL 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T11:24:14.583

EntityB 不知道它属于哪个 EntityA。在 JPQL 中可能有一些晦涩甚至直观的方式来做您想做的事情。但是从我的角度来看，如果你想问这样的问题，你就没有为你的对象模型建模。

“嘿 B，你的 A 是什么——或者它不存在” 将得到回答：“什么是“A””。

在 B 中添加有关其与 A 的明显关系的信息，将快速解决您当前的设计问题。

# jquery - 在滚动时将 css 类添加到 jspDrag

> ID：10848730
> 
> 赞同：1
> 
> 时间：2012-06-01T10:36:19.800
> 
> 标签：jquery, jscrollpane

今天我实现了水平 jScrollPane 脚本和我打算像魅力一样滚动的元素。通过 CSS，我将图像用于 jspDrag 元素。

现在问我的问题；我看到有一些 css 类添加到 jspDrag 中，例如 jspHover 和 jspActive。当我向左或向右滚动时，是否也可以添加 css 类？我想这样做，所以我可以根据滚动更改图像。

（希望我的问题很清楚，我们将不胜感激。亲切的问候）

# java - LibreOffice UNO Java API：如何打开文档、执行宏并关闭它？

> ID：10848734
> 
> 赞同：7
> 
> 时间：2012-06-01T10:36:33.193
> 
> 标签：java, macros, openoffice.org, libreoffice

我在 LibreOffice 服务器端工作：在我运行的服务器上

```
soffice --accept=... 
```

然后我使用 Java LibreOffice 客户端 API 对文档（计算或编写器）应用宏。java执行没有给出任何错误，但我没有完成工作（宏代码被执行，但它的效果不在输出文件中）。此外，在调用宏脚本后，会出现基本调试器窗口，显然停在我的宏的第一行；F5 不重启...

这是我正在使用的相关代码：

```
 try {
        XComponentContext xLocalContext = Bootstrap.createInitialComponentContext(null);
        System.out.println("xLocalContext");

        XMultiComponentFactory xLocalServiceManager = xLocalContext.getServiceManager();
        System.out.println("xLocalServiceManager");

        Object urlResolver = xLocalServiceManager.createInstanceWithContext(
                "com.sun.star.bridge.UnoUrlResolver", xLocalContext);
        System.out.println("urlResolver");

        XUnoUrlResolver xUrlResolver =
            (XUnoUrlResolver) UnoRuntime.queryInterface(XUnoUrlResolver.class, urlResolver);            
        System.out.println("xUrlResolve");

        try {
            String uno = "uno:" + unoMode + ",host=" + unoHost + ",port=" + unoPort + ";" + unoProtocol + ";" + unoObjectName;
            Object rInitialObject = xUrlResolver.resolve(uno);
            System.out.println("rInitialObject");

            if (null != rInitialObject) {
                XMultiComponentFactory xOfficeFactory = (XMultiComponentFactory) UnoRuntime.queryInterface(
                    XMultiComponentFactory.class, rInitialObject);
                System.out.println("xOfficeFactory");

                Object desktop = xOfficeFactory.createInstanceWithContext("com.sun.star.frame.Desktop", xLocalContext);
                System.out.println("desktop");

                XComponentLoader xComponentLoader = (XComponentLoader)UnoRuntime.queryInterface(
                    XComponentLoader.class, desktop);
                System.out.println("xComponentLoader");

                PropertyValue[] loadProps = new PropertyValue[3];

                loadProps[0] = new PropertyValue();
                loadProps[0].Name = "Hidden";
                loadProps[0].Value = Boolean.TRUE;

                loadProps[1] = new PropertyValue();
                loadProps[1].Name = "ReadOnly";
                loadProps[1].Value = Boolean.FALSE;

                loadProps[2] = new PropertyValue();
                loadProps[2].Name = "MacroExecutionMode";
                loadProps[2].Value = new Short(com.sun.star.document.MacroExecMode.ALWAYS_EXECUTE_NO_WARN);

                try {
                    XComponent xComponent = xComponentLoader.loadComponentFromURL("file:///" + inputFile, "_blank", 0, loadProps);              
                    System.out.println("xComponent from " + inputFile);

                    String macroName = "Standard.Module1.MYMACRONAME?language=Basic&location=application";
                    Object[] aParams = null;

                    XScriptProviderSupplier xScriptPS = (XScriptProviderSupplier) UnoRuntime.queryInterface(XScriptProviderSupplier.class, xComponent);
                    XScriptProvider xScriptProvider = xScriptPS.getScriptProvider(); 
                    XScript xScript = xScriptProvider.getScript("vnd.sun.star.script:"+macroName); 

                    short[][] aOutParamIndex = new short[1][1]; 
                    Object[][] aOutParam = new Object[1][1];

                    @SuppressWarnings("unused")
                    Object result = xScript.invoke(aParams, aOutParamIndex, aOutParam);
                    System.out.println("xScript invoke macro" + macroName);

                    XStorable xStore = (XStorable)UnoRuntime.queryInterface(XStorable.class, xComponent);
                    System.out.println("xStore");

                    if (outputFileType.equalsIgnoreCase("pdf")) {
                        System.out.println("writer_pdf_Export");
                        loadProps[0].Name = "FilterName";
                        loadProps[0].Value = "writer_pdf_Export";
                    }
                    xStore.storeToURL("file:///" + outputFile, loadProps);
                    System.out.println("storeToURL to file " + outputFile);

                    xComponent.dispose();

                    xComponentLoader = null;
                    rInitialObject = null;

                    System.out.println("done.");

                    System.exit(0);

                } catch(IllegalArgumentException e) {
                    System.err.println("Error: Can't load component from url " + inputFile);
                }
            } else {
                System.err.println("Error: Unknown initial object name at server side");
            }           
        } catch(NoConnectException e) {
            System.err.println("Error: Server Connection refused: check server is listening...");           }
    } catch(java.lang.Exception e) {
        System.err.println("Error: Java exception:");
        e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T15:03:52.100

经过长时间的反复试验，我确实找到了问题（对我来说，其原因一直很模糊......）。该组件不应在“**隐藏**”模式下执行，因此，只需：

```
loadProps[1].Name = "Hidden";
loadProps[1].Value = Boolean.FALSE; 
```

一切都好。我想这不是问题，因为 jar 文件是在服务器端执行的......

*希望它可以帮助... :-)*

# ios - iOS uiwebview 中的 MathJax 显示白框

> ID：10848741
> 
> 赞同：1
> 
> 时间：2012-06-01T10:37:11.907
> 
> 标签：ios, uiwebview, mathjax

![在此处输入图像描述](../Images/6bc84d4871345576d7284cb1c1e2adf7.png)

大家好，

在 iOS 上的 webview 中使用 mathjax 库时，我们得到了上面的框。有没有人遇到过类似的问题或知道解决方法？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T18:01:55.727

这似乎是 WebKit 的原生 MathML 渲染，它调用默认情况下不可用的字体，因此这些字符被渲染为空白框（缺少的字符符号）。有弹性的分隔符由几个这样的字符组成，这就是你得到一堆盒子的原因。

MathJax 没有实际运行（因此使用了本机 MathML 支持），或者您将 MathJax 配置为使用 NativeMML。你可以添加类似的东西

```
<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function () {alert("MathJax Complete")});
</script> 
```

在加载 MathJax 以查看 MathJax 是否实际运行的脚本之前的某个位置。如果您收到警报，则 MathJax 正在处理该页面。如果没有，则查找访问 MathJax 文件的问题。

# java - 使用 Java NIO 的非阻塞服务器

> ID：10848742
> 
> 赞同：4
> 
> 时间：2012-06-01T10:37:23.873
> 
> 标签：java, tcp, nio

我正在使用[本](http://rox-xmlrpc.sourceforge.net/niotut/)教程构建一个没有可写部分的 java nio 服务器。

一切正常，除了一件有趣的事情：

*   当客户端发送数据包太快时，服务器不会收到所有消息，服务器总是收到第一个和第二个数据包，但不会更多。
*   如果客户端缓慢发送数据包，则服务器会获取所有数据包。

任何想法？

我正在添加服务器类代码，如果您需要下面代码中提到的另一个类，我在这里:)。

NIOServer 类：

```
package server;
import java.io.IOException;
import java.net.InetAddress;
import java.net.InetSocketAddress;
import java.net.Socket;
import java.nio.ByteBuffer;
import java.nio.channels.SelectionKey;
import java.nio.channels.Selector;
import java.nio.channels.ServerSocketChannel;
import java.nio.channels.SocketChannel;
import java.nio.channels.spi.SelectorProvider;
import java.util.*;

import javax.xml.parsers.ParserConfigurationException;

import org.xml.sax.SAXException;

public class NioServer implements Runnable {

// The host:port combination to listen on
  private InetAddress hostAddress;
  private int port;

  // The channel on which we'll accept connections
  private ServerSocketChannel serverChannel;

  // The selector we'll be monitoring
  private Selector selector;

  //the cach will hundle the messages that came
  private Cache cache;

  // The buffer into which we'll read data when it's available
  private ByteBuffer readBuffer = ByteBuffer.allocate(8192);

  public NioServer(InetAddress hostAddress, int port , Cache cache) throws IOException {
    this.cache = cache;
    this.hostAddress = hostAddress;
    this.port = port;
    this.selector = this.initSelector();
  }

  private Selector initSelector() throws IOException {
        // Create a new selector
        Selector socketSelector = SelectorProvider.provider().openSelector();

        // Create a new non-blocking server socket channel
        this.serverChannel = ServerSocketChannel.open();
        serverChannel.configureBlocking(false);

        // Bind the server socket to the specified address and port
        InetSocketAddress isa = new InetSocketAddress(this.hostAddress, this.port);
        serverChannel.socket().bind(isa);

        // Register the server socket channel, indicating an interest in 
        // accepting new connections
        serverChannel.register(socketSelector, SelectionKey.OP_ACCEPT);

        return socketSelector;
      }

  private void accept(SelectionKey key) throws IOException {
        // For an accept to be pending the channel must be a server socket channel.
        ServerSocketChannel serverSocketChannel = (ServerSocketChannel) key.channel();

        // Accept the connection and make it non-blocking
        SocketChannel socketChannel = serverSocketChannel.accept();
        Socket socket = socketChannel.socket();
        socketChannel.configureBlocking(false);

        // Register the new SocketChannel with our Selector, indicating
        // we'd like to be notified when there's data waiting to be read
        socketChannel.register(this.selector, SelectionKey.OP_READ);
      }

  private void read(SelectionKey key) throws IOException {
        SocketChannel socketChannel = (SocketChannel) key.channel();

        // Clear out our read buffer so it's ready for new data
        this.readBuffer.clear();

        // Attempt to read off the channel
        int numRead;
        try {
          numRead = socketChannel.read(this.readBuffer);
          String test = new String(this.readBuffer.array());
          System.out.print(test);

        } catch (IOException e) {
          // The remote forcibly closed the connection, cancel
          // the selection key and close the channel.
        //  key.cancel();
        //  socketChannel.close();
          return;
        }

        if (numRead == -1) {
          // Remote entity shut the socket down cleanly. Do the
          // same from our end and cancel the channel.
          key.channel().close();
          key.cancel();
          return;
        }

        // Hand the data off to our worker thread
        this.cache.processData(this, socketChannel, this.readBuffer.array(), numRead); 
      }

  public void run() {
        while (true) {
          try {
            // Wait for an event one of the registered channels

            this.selector.select();

            // Iterate over the set of keys for which events are available
            Iterator selectedKeys = this.selector.selectedKeys().iterator();
            while (selectedKeys.hasNext()) {
              SelectionKey key = (SelectionKey) selectedKeys.next();
              selectedKeys.remove();

              if (!key.isValid()) {
                continue;
              }

              // Check what event is available and deal with it
              if (key.isAcceptable()) {
                this.accept(key);
              } else if (key.isReadable()) {
                this.read(key);
              }
            }
          } catch (Exception e) {
            e.printStackTrace();
          }
        }
      }

  public static void main(String[] args) throws ParserConfigurationException, SAXException {
    try {
        Cache cache = new Cache();
        new Thread(cache).start();
      new Thread(new NioServer(null, 9090,cache)).start();
    } catch (IOException e) {
      e.printStackTrace();
    }
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T01:36:55.503

如果您正在阅读 UDP，我希望如此。请注意您在该`read`方法上处理数据包的速度有多慢。您正在将它们打印到 system.out，这非常慢，而且不确定您能够以多快的速度将数据处理到该`processData`方法的另一个线程。[如果这是您滞后的根源，我编写的这个库](http://mentaqueue.soliveirajr.com)可以帮助您进行线程间非阻塞通信。您还应该检查底层读取套接字缓冲区的大小。它越大，在数据包开始被丢弃之前，您必须有更多的空间快速赶上。对于 TCP，如果底层套接字缓冲区已满，您可能会在通道上收到 IOException。对于 UDP，数据包被静默丢弃。

要访问底层读取套接字缓冲区大小，您可以执行以下操作：

```
final Socket socket = channel.socket();
System.out.println(socket.getReceiveBufferSize());
socket.setReceiveBufferSize(newSize); 
```

注意：AFAIK，Linux 可能需要一些操作系统配置才能更改底层缓冲区大小。如果`setReceiveBufferSize`没有效果（再次阅读以查看是否已更改），请在 Google 上搜索。:)

# c++ - C++ AMP，for 循环到 parallel_for_each 循环

> ID：10848744
> 
> 赞同：2
> 
> 时间：2012-06-01T10:37:32.513
> 
> 标签：c++, c++11, c++-amp

我正在转换一种算法以利用 C++ AMP 提供的大规模加速。我所处的阶段是将 for 循环放入已知的 parallel_for_each 循环中。

通常这应该是一项简单的任务，但它看起来比我最初想象的要复杂。这是一个嵌套循环，我每次迭代使用 4 步递增：

```
for(int j = 0; j < height; j += 4, data += width * 4 * 4)
{
    for(int i = 0; i < width; i += 4)
    { 
```

我遇到的麻烦是索引的使用。我似乎无法找到一种方法将其正确地放入 parallel_for_each 循环中。使用 2 级索引是可行的方法，但通过分支操作它会损害性能增益。

我发现了一个类似的帖子：[Controlling the index variables in C++ AMP](https://stackoverflow.com/questions/8853894/controlling-the-index-variables-in-c-amp)。它还涉及索引操作，但增量方面并未涵盖我的问题。

亲切的问候，

强制施法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-20T04:44:17.710

You should think of tiles as a mechanism for partitioning work across the GPU not as an indexing mechanism. As you found limiting yourself to a 4x4 tile is likely to lead you into a performance bottleneck.

Can't you just do the following:

```
auto compute_domain = concurrency::extent<2>(height / 4, width / 4);

parallel_for_each(accl_view, compute_domain, [=](index<2> idx) restrict(amp)
{
    int j = idx[0] * 4;
    int i = idx[1] * 4;

    // Your algorithm here...
} 
```

# .net - 在生产中使用实体框架（代码优先）迁移

> ID：10848746
> 
> 赞同：69
> 
> 时间：2012-06-01T10:37:41.113
> 
> 标签：.net, entity-framework, ef-code-first, entity-framework-migrations

我只是在考虑为我们的项目使用 EF 迁移，特别是在版本之间执行生产中的架构更改。

我已经看到提到有一个 API 可以使用`DbMigration`该类在运行时执行这些迁移，但我找不到任何具体示例。

理想情况下，我希望`DbMigration`每个数据库更改都有一个文件，并且这些更改会在应用程序从当前版本到最新版本启动时自动应用。

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2012-06-01T13:08:58.117

有一个数据库初始化程序可用于在启动时迁移到最新版本（或者更好的是，dbinitializer 将在第一次访问数据库时启动）`MigrateDatabaseToLatestVersion`，您可以像这样使用它：

```
Database.SetInitializer<ObjectContext>(
    new MigrateDatabaseToLatestVersion<ObjectContext, Configuration>()); 
```

关于每次迁移只有一个文件，如果您启用自动迁移，您将在`Migrations`项目根目录的文件夹（默认情况下）中找到它们。

相关信息和示例，在这里：[http ://weblogs.asp.net/fredriknormen/archive/2012/02/15/using-entity-framework-4-3-database-migration-for-any-project.aspx](http://weblogs.asp.net/fredriknormen/archive/2012/02/15/using-entity-framework-4-3-database-migration-for-any-project.aspx)

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2012-08-06T08:08:47.977

这也有效：

```
var configuration = new MyDbContextConfiguration();
configuration.TargetDatabase = new DbConnectionInfo(
    database.ConnectionString, database.ProviderName);

var migrator = new DbMigrator(configuration);
migrator.Update(); 
```

您也可以致电：

```
migrator.GetPendingMigrations(); 
```

获取它需要应用的迁移列表。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2016-06-03T00:11:26.770

由于您没有指定您使用的是哪个 Visual Studio 版本或数据库，我将在此处添加一个答案，说明在 VS2015 和 Microsoft 的 SQL Server 中，现在使用“发布”工具非常容易。

您无需为您所说的 API 烦恼。只需在本地完成您的工作，更改您的模型，应用迁移等，然后当您想要推送到发布/测试服务器时，请使用发布工具。

您可以选择在首次启动应用程序时将您在本地进行的任何迁移应用到远程服务器。

一旦您完成了所有迁移并在本地完成了所有操作（可能在您的开发环境中），然后您发布（右键单击项目，单击“发布...”勾选“执行代码优先迁移（在应用程序启动时运行）”复选框下“设置”选项卡，然后它将在第一次访问应用程序时应用迁移（因此第一次会有短暂的延迟）。

[![使用 Web-Deploy 发布 Web](../Images/4aee36f6d72047e8e0c3f8f3b1a8fa08.png)](https://i.stack.imgur.com/kysUI.png)

指南： [https ://msdn.microsoft.com/en-us/library/dd465337(v=vs.110).aspx](https://msdn.microsoft.com/en-us/library/dd465337(v=vs.110).aspx)

我学到了这一切，因为我必须对 Windows 2012 服务器执行此操作：http: [//www.sherweb.com/blog/how-to-install-webdeploy-on-windows-server-2012/](http://www.sherweb.com/blog/how-to-install-webdeploy-on-windows-server-2012/)

祝你好运！

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-01-13T13:02:05.370

我想控制哪些迁移在代码中显式运行，经过大量搜索后，我设法开发了以下技术，而无需 DbConfiguration 类或启用自动迁移：

```
public static void RunMigration(this DbContext context, DbMigration migration)
{            
    var prop = migration.GetType().GetProperty("Operations", BindingFlags.NonPublic | BindingFlags.Instance);
    if (prop != null)
    {
        IEnumerable<MigrationOperation> operations = prop.GetValue(migration) as IEnumerable<MigrationOperation>;
        var generator = new SqlServerMigrationSqlGenerator();
        var statements = generator.Generate(operations, "2008");
        foreach (MigrationStatement item in statements)
            context.Database.ExecuteSqlCommand(item.Sql);
    }
} 
```

如果我们有这样的迁移：

```
public class CreateIndexOnContactCodeMigration : DbMigration
{
    public override void Up()
    {
        this.CreateIndex("Contacts", "Code");
    }

    public override void Down()
    {
        base.Down();
        this.DropIndex("Contacts", "Code");
    }
} 
```

我们会这样使用它：

```
using (var dbCrm = new CrmDbContext(connectionString))
{
    var migration = new CreateIndexOnContactCodeMigration();
    migration.Up();                
    dbCrm.RunMigration(migration);
} 
```

问候。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-06-20T09:08:44.733

添加到所有已发布的答案。Entity Framework 使用表：dbo.__MigrationHistory 来跟踪已应用于数据库的所有迁移，以避免运行迁移，例如：插入数据或更改数据库架构。

如果您希望运行脚本，例如运行添加数据或更改数据库架构，您可以使用包管理器控制台创建一个空迁移并通过新添加的迁移运行脚本。确保使用初始化程序来防止 EF 在每次运行时删除和重新创建数据库。

```
 public override void Up()
    {
        string directoryToSearchScripts = Path.GetFullPath(Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "..\\..\\"));

        string scriptFilePath = Directory.GetFiles(directoryToSearchScripts, "dummy-script.sql", SearchOption.AllDirectories).FirstOrDefault();
        if (!string.IsNullOrEmpty(scriptFilePath))
        {
            string fundsSqlScript = File.ReadAllText(scriptFilePath);
            Sql(fundsSqlScript);
        }
    }

    public override void Down()
    {
    } 
```

当您发布应用程序并选中“执行代码优先迁移”选项时，EF 将运行尚未应用到数据库的迁移。

# javascript - 如何在 UL 中循环遍历 LI 项，获取特定属性，并通过 $.ajax 数据传递它们

> ID：10848747
> 
> 赞同：3
> 
> 时间：2012-06-01T10:37:53.553
> 
> 标签：javascript, jquery

这是我的 HTML 代码：

```
<ul id="gallery">
    <li id="attachment-32" class="featured"><a href="..." title=""><img src="..." alt="" /></a></li>
    <li id="attachment-34"><a href="..." title=""><img src="..." alt="" /></a></li>
    <li id="attachment-38"><a href="..." title=""><img src="..." alt="" /></a></li>
    <li id="attachment-64"><a href="..." title=""><img src="..." alt="" /></a></li>
    <li id="attachment-75"><a href="..." title=""><img src="..." alt="" /></a></li>
    <li></li>
</ul> 
```

这是我的示例 ajax 请求：

```
$.ajax({
    url: '/ajax/upload.php',
        type: 'POST',
    data: { ... },
        success: function(data){
        }
}); 
```

这是我想要实现的目标。

1.  仅当 ID attr 存在时，如何获取库 UL 中每个 LI 的 ID 属性中的附件号，并以这种方式通过 ajax 数据传递它们：`{ attached : '32,34,38,64,75' }`如果有更好的方法，请告诉我我想传递列出包含要处理的附件的项目。**我想避免 LI 项目是空的，不包括 id attr。**

2.  如何获取具有特征类的列表项 LI，例如 { features_img : .. } 并传递附件 ID 号，如果特征 LI 存在，并且如果没有列表项具有特征，则传递 features_img 为 0。所以我知道如何处理它通过请求中的php。

任何帮助表示赞赏。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:40:02.647

有一个[`.map`](http://api.jquery.com/map/)：

```
var ids = $("#gallery li").map(function () {
    return this.id.split("-")[1];
}).get().join(","); 
```

...

```
$.ajax({
    url: '/ajax/upload.php',
    type: 'POST',
    data: { ids: ids },
    success: function(data) {

    }
}); 
```

[**演示。**](http://jsfiddle.net/karim79/knav4/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:49:54.873

试试这个，可能对你有帮助。

```
var val = new Array();
$('#gallery li').each(function(){
    val.push($(this).attr('id'));
});
document.write(val); 
```

要实施的示例。

```
$.ajax({
    url: '/ajax/upload.php',
        type: 'POST',
    data: { attached : val },
        success: function(data){
        }
}); 
```

希望这对您有所帮助。

# ruby - 在 ruby 中验证电话号码

> ID：10848748
> 
> 赞同：6
> 
> 时间：2012-06-01T10:38:02.923
> 
> 标签：ruby, regex, phone-number

验证北美电话号码的规则是什么？另外，有`regex`我可以使用的吗？有宝石可以做到这一点吗？

这是我想到的几条规则

1.  一个 10 位数字
2.  没有特殊字符
3.  一个正数

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T10:49:10.710

有许多宝石可以为您做到这一点。

看看：[http ://rubygems.org/search?utf8=%E2%9C%93&query=phone+number](http://rubygems.org/search?utf8=%E2%9C%93&query=phone+number)

这个看起来会满足你的需要——它本质上实现了一个正则表达式来验证电话号码：[http ://rubygems.org/gems/validates_phone_number](http://rubygems.org/gems/validates_phone_number)

对于美国、加拿大（百慕大、巴哈马......等以及所有 +1 号码），正则表达式应遵循其他规则。第一个数字（+1 之后）必须是 2-9。

如需完整列表，请参阅：[http ://en.wikipedia.org/wiki/North_American_Numbering_Plan](http://en.wikipedia.org/wiki/North_American_Numbering_Plan)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T10:41:55.357

**试试这个**

```
(?:\+?|\b)[0-9]{10}\b 
```

**解释**

```
@"
(?:         # Match the regular expression below
               # Match either the regular expression below (attempting the next alternative only if this one fails)
      \+          # Match the character “+” literally
         ?           # Between zero and one times, as many times as possible, giving back as needed (greedy)
   |           # Or match regular expression number 2 below (the entire group fails if this one fails to match)
      \b          # Assert position at a word boundary
)
[0-9]       # Match a single character in the range between “0” and “9”
   {10}        # Exactly 10 times
\b          # Assert position at a word boundary
" 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-13T15:58:20.440

我在[perl 代码](http://search.cpan.org/~dcantrell/Number-Phone-2.0/lib/Number/Phone/NANP.pm)中用于验证 NANP 电话号码的规则来自 Doug Newell 发送到 telnum-l 邮件列表的电子邮件，我在下面复制了该邮件，稍微简化为仅考虑完整的 10 位数字：

```
The number 10 digits long.  We'll call this pattern:
    ABC DEF XXXX

A may not be 0 or 1.

B may not be 9.

A+B may not be 37 or 96.

B+C may not be 11.

D may not be 0 or 1. 
```

您也许可以从[libphonenumber 的](http://code.google.com/p/libphonenumber/)元数据中提取正则表达式，但请注意，它简直就是地狱。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-07-10T06:27:48.943

如果你想要比正则表达式更高级的东西，[Twilio 有一个 API 可以做到这一点](https://www.twilio.com/blog/2015/04/validate-phone-numbers-in-ruby-using-the-lookup-api.html)：

> Twilio Lookup 是一个 REST API，它可以：
> 
> *   验证电话号码是否存在*   将任何国际电话号码格式化为其本地标准*   确定电话号码是手机、VOIP 还是固定电话*   发现有关电话号码运营商的信息

这个我还没用过！但它应该可以工作，尽管您确实需要一个（免费的）Twilio 帐户。（此外，我不隶属于 Twilio，只是拥有一个我正在玩的免费帐户。）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-07T20:50:52.693

我在这里写了一个 gem：[https](https://github.com/travisjeffery/validates_phone_number) ://github.com/travisjeffery/validates_phone_number可以做你想做的事，如果你有任何问题或问题请告诉我。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2016-09-27T05:43:54.917

```
类Phne
默认广告
放“输入你的电话号码”
re=gets.chomp
如果重新= ~/\b^([0-9]{10})$\b/
放“有效的电话号码”
别的
提出“无效的电话号码”
结尾
结尾
结尾

obj=Phne.new
对象广告

```

# mstest - 如何在 CodedUI 中刷新 UIMap 对象

> ID：10848757
> 
> 赞同：1
> 
> 时间：2012-06-01T10:38:59.083
> 
> 标签：mstest, ui-automation, coded-ui-tests

我可以刷新 UIMap 对象吗？问题是我更改了 UI 元素的位置，然后我再次尝试获取 AutomationElement，当时我得到了 AutomationELment，但它的 BoundingRectanle 是无穷大的。所以我假设它没有刷新 UIMap 对象。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:51:28.043

在测试的 UIMaps 部分中，您可能有如下内容：

```
private MyTestUIMap uiMap;
public MyTestUImap UIMap
{
    get
    {
        if (this.uiMap == null)
        {
            this.uiMap = new MyTestUIMap();
        }
        return this.uiMap;
    }
} 
```

这会在 UIMap 对象第一次使用时创建一个单例。要刷新它，您可以将 uiMap 对象设置为 null，以便下次使用时再次重新初始化：

```
public void RefreshUIMap() 
{
    this.uiMap = null;
} 
```

每当您想刷新 UIMap（为其获取新实例）时，请调用此 RefreshUIMap 方法。

**编辑**：
再次阅读您的问题后，我认为您想刷新 UIMap 中的单个对象，而不是 UIMap 对象实例。在 MyTestUIMap.uitest 中选择对象（假设您安装了 FeaturePack 2），`Search Configuration`从对象属性中选择并添加配置`AlwaysSearch`。每当在您的脚本中使用该对象时，测试运行程序都会在屏幕上再次搜索它，而不是尝试从缓冲区中获取它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-25T10:50:11.430

在 any 上调用该`Find()`方法`UITestControl`应该执行或重复搜索。

通常该`Find()`方法不是显式调用的，而是使用控件隐式调用的。调用`Find()`控件应该重新评估搜索并且还具有清除任何子控件的效果。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-07-23T15:48:45.983

将 SearchConfiguration 设置为 Always Search 解决了我的问题，即未使用更新值刷新单个控件导致测试失败。

```
this.UIMap.UIItemWindow2.UIItemWindow11.SearchConfigurations.Add(SearchConfiguration.AlwaysSearch); 
```

# ruby - 我可以在 irb 中重复命令吗？

> ID：10848763
> 
> 赞同：6
> 
> 时间：2012-06-01T10:39:17.917
> 
> 标签：ruby, irb

有没有一种简单的方法可以在 Ruby irb 中重复上一个命令？我希望在 Unix 中使用感叹号（！）。

谢谢你。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-01T10:57:29.367

```
def repeat_last_irb
  eval(IRB.CurrentContext.io.line(-2))
end 
```

然后你可以`replat_last_irb`在你的 irb 控制台中使用来运行最后一个输入。

IRB.CurrentContext.io 如下所示：

```
ruby-1.9.3-p0 :001 > def hello
ruby-1.9.3-p0 :002?>   end
 => nil 
ruby-1.9.3-p0 :003 > IRB.CurrentContext.io
 => #<IRB::ReadlineInputMethod:0x00000001c7b860 @file_name="(line)", @line_no=3, @line=[nil, "def hello\n", "end\n", "IRB.CurrentContext.io\n"], @eof=false, @stdin=#<IO:fd 0>, @stdout=#<IO:fd 1>, @prompt="ruby-1.9.3-p0 :003 > "> 
```

此对象保存 irb 所有 io 信息，并使用 line 方法获取您输入的每一行。

因此，我们可以使用 eval 重复上次输入。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-01T10:48:24.787

向上箭头逐行获取历史记录。Pry 有更多好东西，但我还没有尝试过。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-01T11:36:41.443

除了按向上箭头并输入之外，[Pry](http://pry.github.com)`play -i` REPL 让您使用以下命令回复整个表达式（而不仅仅是行） ：

看这里：

```
[31] (pry) main: 0> (1..5).map do |v|
[31] (pry) main: 0*   v * 2
[31] (pry) main: 0* end  
=> [2, 4, 6, 8, 10]
[32] (pry) main: 0> play -i 31
=> [2, 4, 6, 8, 10]
[33] (pry) main: 0> 
```

您只需将要重放的代码传递给`play -i`表达式编号（与`[]`提示相邻的编号）。

有关该`play`命令的更多信息，请参见[wiki 页面](https://github.com/pry/pry/wiki/Special-Locals#wiki-In_and_out)，还可以查看[Entering input](https://github.com/pry/pry/wiki/User-Input)以了解与使用和操作输入历史相关的其他技巧

或者，如果您只想重播单个历史记录行，您可以先使用`hist`命令查看历史记录，然后使用以下命令重播它`hist --replay`：

```
[37] (pry) main: 0> puts "hello world"
hello world
=> nil
[38] (pry) main: 0> hist --tail
9699: _file_
9700: (1..10).map do |v|
9701: (1..5).map do |v|
9702:   v * 2
9703: end
9704: play -i 31
9705: _
9706: hist --tail
9707: hist -r
9708: puts "hello world"
[39] (pry) main: 0> hist --replay 9708
hello world
=> nil
[41] (pry) main: 0> 
```

或者，如果您只想重播最后一行输入，并且不想使用`up arrow`（无论出于何种原因），那么只需使用：`hist --replay -1`。与往常一样，wiki 包含[有关 hist 命令的更多信息](https://github.com/pry/pry/wiki/History#wiki-Hist_replay)。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-01T11:29:46.483

重复（或修改）一个较早的命令的最快方法是在历史记录中输入多于几步的命令，即通过键入`Ctrl`+`R`后跟相关命令的某些子字符串来搜索它。

有关[GNU Readline 库](http://www.gnu.org/s/readline/)提供的更多键盘快捷键，请查看[此处](http://www.bigsmoke.us/readline/shortcuts)。许多 shell 和其他应用程序也支持它们。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-06-01T12:36:31.647

有点相关。

在`IRB`中，最后执行命令的结果保存在 中`_`。你也可以使用那个。

例子

```
1.9.3p194 :001 > 2 + 2
 => 4 
1.9.3p194 :002 > _
 => 4 
1.9.3p194 :003 > _ * 3
 => 12 
1.9.3p194 :004 > _
 => 12 
```

事实证明这对我非常有用，尤其是在`rails console`.

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-01T10:49:01.153

我认为没有任何编号的历史支持（例如 like `gdb`），但您可以使用箭头键浏览历史，就像在 shell 中一样。

**更新**

事实证明我完全错了，而 Hooopo 是对的；您可以通过该`IRB.CurrentContext.io.line`方法访问历史记录，因此

```
eval IRB.CurrentContext.io.line <line number> 
```

将重复该命令。正如 Hooopo 所说，将其包装在一个方法中可以正常工作：

```
def r(number)
  eval IRB.CurrentContext.io.line number
end 
```

然后

```
ruby-1.9.3-p0 :004 > puts "hello"
hello
 => nil 
ruby-1.9.3-p0 :005 > r 004 # (or 'r 4')
hello
 => nil 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-01T11:05:10.980

irb REPL 本身并不支持[历史扩展](http://cnswww.cns.cwru.edu/php/chet/readline/history.html)，这正是您所寻找的。作为一个可靠的替代方案，pry REPL 提供了[replay](https://github.com/pry/pry/wiki/History#wiki-Hist_replay)命令。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-11-29T13:18:25.390

您还可以通过启动它来回溯 irb 中的命令

irb——示踪剂

现在向上箭头将通过 irb 命令返回。（使用 Ruby 2.3.3）

# android - iphone safari 的 android webapp 定制

> ID：10848764
> 
> 赞同：1
> 
> 时间：2012-06-01T10:39:29.010
> 
> 标签：android, iphone, web-applications

我创建了一个对我的网站有 webview 的 andoird 应用程序，这样我就有了一个 web 应用程序。我想允许 iphone 用户通过给他们一个链接 (QR) 来使用他们的 safari 访问该应用程序。

我的问题是我的网站在其 CSS 中有具有特定宽度和高度（以像素为单位）的按钮和 DIV，并且页面在 iphone safari 屏幕上看起来非常小（需要缩放）。

为 iphone 定制的最佳方法是什么？

我想到的可能：

a) 检测 iphone 并运行 DIV 并调整它们大小的 JS 代码 b) 寻找在 JS 中“放大”到某个因素的可能性，这将在整个屏幕上很好地显示页面（这可能吗？ ?)

任何其他选择也将受到欢迎......

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T13:03:09.970

您应该检查[视口元标记](http://developer.apple.com/library/ios/#DOCUMENTATION/AppleApplications/Reference/SafariWebContent/UsingtheViewport/UsingtheViewport.html)。

您可以使用缩放因子设置它：

```
<meta name = "viewport" content = "initial-scale = 1.0"> 
```

或一定宽度：

```
<meta name = "viewport" content = "width = 590"> 
```

或者到设备的宽度：

```
<meta name = "viewport" content = "width = device-width"> 
```

# javascript - 释放内存

> ID：10848766
> 
> 赞同：0
> 
> 时间：2012-06-01T10:39:51.953
> 
> 标签：javascript, jquery

此代码从 PHP 文件加载两个参数并每秒将它们打印在屏幕上，但这不会使用太多的 CPU/内存来运行它吗？怎么能避免呢？我想在更新时释放/释放或自动释放它正在使用的内存，但我不知道如何......请帮帮我。

```
function updateStats(stat) {
  var stat = ["NAME","ID"];
  var url = "USERS.php";
  $.each(stat, function(i, key){
    $.post(url, {stats: key}, function(data) { // stats to stat
      $("#" + key).html(data);
    });
  });
}

setInterval(function(){
  updateStats("updateStats");
}, 1000); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:51:00.243

JavaScript 会自动清除您未使用的任何内容。这段代码没有内存问题。

# c# - 发送约会后获取约会ID

> ID：10848767
> 
> 赞同：2
> 
> 时间：2012-06-01T10:39:56.937
> 
> 标签：c#, .net, outlook

我已经使用以下[链接创建并发送了约会](https://stackoverflow.com/questions/1952289/how-do-i-create-and-send-appointments-to-microsoft-outlook-calender)

我的代码：

```
Microsoft.Office.Interop.Outlook.Application app = null;
Microsoft.Office.Interop.Outlook.AppointmentItem appt = null;

app = new Microsoft.Office.Interop.Outlook.Application();

appt = (Microsoft.Office.Interop.Outlook.AppointmentItem)app
    .CreateItem(Microsoft.Office.Interop.Outlook.OlItemType.olAppointmentItem);
appt.Subject = "Meeting ";
appt.Body = "Test Appointment body";
appt.Location = "TBD";
appt.Start = Convert.ToDateTime("06/01/2012 05:00:00 PM");
appt.Recipients.Add("sanjay.surendra@mycompany.com");
appt.End = Convert.ToDateTime("06/01/2012 6:00:00 PM");
appt.ReminderSet = true;
appt.ReminderMinutesBeforeStart = 15;
appt.Importance = Microsoft.Office.Interop.Outlook.OlImportance.olImportanceHigh;
appt.BusyStatus = Microsoft.Office.Interop.Outlook.OlBusyStatus.olBusy;
appt.Save();
Microsoft.Office.Interop.Outlook.MailItem mailItem = appt.ForwardAsVcal();
mailItem.To = "sanjay.surendra@mycompany.com";
mailItem.Send(); 
```

现在我想要唯一的约会 ID，我可以在我的代码中处理它。请指教

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:48:01.463

您在寻找[Appointment.EntryID](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.outlook._appointmentitem.entryid.aspx)吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T13:30:59.337

这[`Appointment.EntryID`](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.outlook._appointmentitem.entryid.aspx)就是你要找的。在项目被保存或发送（*持久化*）后，该`EntryID`属性被分配。

```
// ...
appt.Save();
string entryID = appt.EntryID;
// ... 
```

### 来自 MSDN：

> *当在其商店中创建项目时，MAPI 商店提供程序会分配一个唯一的 ID 字符串。因此，在**保存或发送 Outlook 项目之前，不会为该项目设置 EntryID 属性**。当一个项目被移动到另一个商店时，条目 ID 会发生变化......*

# java - 如何重新启动已完成的线程？

> ID：10848772
> 
> 赞同：3
> 
> 时间：2012-06-01T10:40:17.980
> 
> 标签：java, android, multithreading

我在线程 (A) 中运行一些代码。在该线程结束时，它会创建另一个线程 (B)。现在我想做的是在线程 B 的末尾，我需要调用线程 A。当我这样做的时候

`_threadA.start()`来自线程 B 系统 说：`Thred alread started.`

如何解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T10:50:47.740

你必须了解[线程的生命周期](http://www.roseindia.net/java/thread/life-cycle-of-threads.shtml)；线程启动后无法重新启动 - 这同样适用于停止的线程，一旦停止，其生命周期就结束了。看看链接的文章，特别是状态图会让事情变得清晰。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:53:15.283

如果你想创建一个停止的线程意味着你应该再次调用停止的线程。这是唯一的方法。

# linux - 如何在文件中搜索多行并在 bash/dash 中注释这些行

> ID：10848775
> 
> 赞同：0
> 
> 时间：2012-06-01T10:40:38.020
> 
> 标签：linux, unix, sed, awk, grep

我有一个包含内容的文件

```
abc dbw ;\
xxx{ sample test } 
bewolf \
bewolf 
test 
```

我需要检查

```
 xxx{ sample test }
 bewolf 
```

并注释掉这些行

```
/*xxx{ sample test }
bewolf*/ 
```

我试过`grep`但`grep`搜索字符串。由于 Dash 脚本没有数组，因此它是一项更加艰巨的工作。

我试图获取开始和结束索引，以便我可以使用`head`and删除该部分`tail`。

欢迎任何其他想法，如使用`sed`和`awk`。

更笼统地说，我需要使用 Bash 脚本在 C 文件中注释一个宏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:19:51.297

更短：

```
awk '/sample test/,/bewolf/' infile >outfile 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T13:58:13.340

这可能对您有用：

```
 sed '/^xxx{ sample test }/!b;:a;$b;N;/.*\nbewolf *$/!ba;s//\/* & *\//' file 
```

解释：

*   专注于线条开头`xxx{ sample test }`。`/^xxx{ sample test }/!b`
*   创建循环标签`:a`
*   如果是文件结束保释。`$b`
*   获取下一行。`N`
*   检查以结尾的行`bewolf`，如果没有，则获取下一行，即循环到`a`.`/.*\nbewolf *$/!ba`
*   用注释包围图案空间并打印出来。`s//\/* & *\//`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:47:52.750

假设您要评论具有以下内容的行：

*xxx{ 样本测试 }
bewolf*

```
awk '{if($0~/bewolf/ || $0~/xxx{ sample test }/)print "//"$0;else print}' 
```

**测试：**

```
 > awk '{if($0~/bewolf/ || $0~/xxx{ sample test }/)print "//"$0;else print}' temp
    abc dbw ;\
//    xxx{ sample test } 
//    bewolf \
//    bewolf 
    test 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T11:04:44.427

如果多个结束评论不打扰你，你可以使用这样的简单`sed`：

`sed -e "s%^xxx{ sample test }$%\/\*&\*\/%" -e "s%^bewolf$%\/\*&\*\/%" file.txt`

输入：

```
abc dbw ;\
xxx{ sample test }
bewolf \
bewolf
test 
```

输出：

```
abc dbw ;\
/*xxx{ sample test }*/
bewolf \
/*bewolf*/
test 
```

`-i`如果您想直接覆盖，请添加标志`file.txt`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-01T12:13:55.813

下面将对以行匹配开始和以行匹配结束的部分进行修改，以在开头添加单个“/*”，在末尾添加单个“*/”。

```
awk -vstart=xxx -vend=bewolf '$0~start {$0="/*" $0;inmacro=1} inmacro==1 && $0~end {$0=$0 "*/";inmacro=0} {print}' infile > outfile 
```

这可能更接近您正在寻找的内容。当然，如果您不在指令中定义变量，则可以将其缩短，而是对它们进行硬编码。

# nginx - 页面暂时不可用 - NGINX

> ID：10848778
> 
> 赞同：3
> 
> 时间：2012-06-01T10:40:56.520
> 
> 标签：nginx

我有一个我怀疑是 NGINX 问题的问题。基本上，当我尝试登录我创建的网站时，我得到了以下错误......

**你正在寻找的页面暂时不可用。请稍后再试。**

有没有人遇到过这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-02T20:28:25.533

This problem may occur if you have incorrect `fastcgi_pass` directive in NGINX vhost file.

If you use fastcgi, it should be similar to this: `fastcgi_pass 127.0.0.1:9000;`

If you use fpm, it should be like this: `fastcgi_pass unix:/var/run/php5-fpm.sock;`

P.S. It is a one year old question, but Google directs me to this question for this problem. So I decided to write what I found.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-03T00:06:27.847

Does your site using FastCGI? This message could be returned because [the FastCGI server is not running](https://wiki.archlinux.org/index.php/Nginx#Error%3a_The_page_you_are_looking_for_is_temporarily_unavailable._Please_try_again_later.).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-20T14:17:03.710

对我来说，它有助于消除 symfony 上的错误和这个 vagrant image [https://github.com/rlerdorf/php7dev](https://github.com/rlerdorf/php7dev)这个 nginx 配置：

```
server {
 listen [::]:80;
 listen 80;

 server_name test;

 root /var/www/default/web;

 charset utf-8;

 index index.php index.html;
 fastcgi_index index.php;
 client_max_body_size 128M;
 location ~ /\. { deny all; access_log off; log_not_found off; }

 location ~ ^/(app_dev|config)\.php(/|$) {
   fastcgi_pass unix:/var/run/php-fpm.sock;
   fastcgi_split_path_info ^(.+\.php)(/.*)$;
   include fastcgi_params;

   fastcgi_param  SCRIPT_FILENAME  $realpath_root$fastcgi_script_name;
   fastcgi_param DOCUMENT_ROOT $realpath_root;
 }

 location / {
   try_files $uri /app_dev.php$is_args$args;
 }
} 
```

您需要调整 root、server_name 以匹配您的情况。

# elastic-map-reduce - Elastic MapReduce 失败：1：语法错误：“（”意外

> ID：10848779
> 
> 赞同：0
> 
> 时间：2012-06-01T10:41:07.507
> 
> 标签：elastic-map-reduce

我正在尝试运行在我的 x86 Debian Squeeze 盒上编译的本机二进制文件（以匹配 Amazon AMI），但我一直收到这个奇怪的错误

`/mnt/var/lib/hadoop/mapred/taskTracker/hadoop/jobcache/job_201206011019_0001/attempt_201206011019_0001_m_000000_0/work/./word-count: 1: Syntax error: "(" unexpected`

令人费解的是，字数统计是二进制可执行文件。有人知道系统的哪个部分在这里抱怨吗？操作系统是否试图在二进制文件的开头寻找一些魔法字节但没有找到它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T23:19:23.403

这是不久前的事，但如果我没记错的话，问题是我试图运行的二进制文件是在 OS X 上编译的，而不是匹配的 OS/arch（即 Debian）。

# mysql - 存储大于 64 的 SET 的最佳方法

> ID：10848780
> 
> 赞同：1
> 
> 时间：2012-06-01T10:41:07.993
> 
> 标签：mysql, database, database-design

我的网站有一个电影数据库，我正在重新设计它以提高效率。

该`movies`表有一个名为 的字段`countries`。此时，这些值`varchar`使用 csv 存储在 中。例如：

```
Spain,France,Germany 
```

这是非常无能的。例如，很难从中选择所有电影`France`。

我不能使用 a`set`因为有超过 64 个不同的国家。我可以制作一张国家表和另一个`id_country`与`id_movie`. 但随后我需要制作另一个`join`来获取电影数据（就像我对演员或导演所做的那样）。

有什么建议么？哪个可能是存储国家信息的最佳方式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-02T07:13:19.633

从我的角度来看，一个 SET（这是一个非标准化的解决方案）使事情变得更加复杂。

使用 JOIN 不是“复杂性”，它是数据库的目的和擅长的。

如果您需要维护元素的定义顺序，则必须在该查找表中添加一个额外的“排序”列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-02T11:19:36.603

存储国家/地区的最佳方式是在国家/地区表中。包括 ISO 3166 国家代码。将 ISO 代码存储为外键引用，大多数时候您不需要加入。

```
create table countries (
  iso_country_code char(3) primary key,
  country_name varchar(50) not null unique
);

insert into countries (country_name, iso_country_code) values
('AALAND ISLANDS', 'ALA'),
('AFGHANISTAN', 'AFG'),
('ALBANIA', 'ALB'),
...
('YEMEN', 'YEM'),
('ZAMBIA', 'ZMB'),
('ZIMBABWE', 'ZWE');

create table some_other_table_that_references_countries (
  some_key ... primary key,
  iso_country_code char(3) not null references countries (iso_country_code),
  ...
); 
```

大多数情况下，您可能不需要加入，因为人们可以记住国家代码。

# php - “mysqli::close”是否关闭持久连接？

> ID：10848782
> 
> 赞同：2
> 
> 时间：2012-06-01T10:41:27.450
> 
> 标签：php, mysqli, persistent-connection

PHP 文档说“mysql_close() 不会关闭持久链接”。

和**mysqli** (mysqli::close()) 一样吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:49:00.430

否。该`mysql_close()`功能仅关闭非持久链接。您无法关闭永久链接。

> mysql_close() 关闭与指定链接标识符关联的 MySQL 服务器的非持久连接。如果未指定 link_identifier，则使用最后打开的链接。

[来源：php.net](http://php.net/manual/en/function.mysql-close.php "来源：php.net")

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:52:12.320

Mysqli 包含一个内置的自动清理，它将关闭一个处理程序。

您可能想阅读[http://php.net/manual/en/mysqli.persistconns.php](http://php.net/manual/en/mysqli.persistconns.php)

# php - 我的个人资料的最近访问者？

> ID：10848784
> 
> 赞同：-1
> 
> 时间：2012-06-01T10:41:36.270
> 
> 标签：php, facebook, facebook-graph-api

是否有任何 api 可以找出最近访问过我的个人资料的朋友？我看到一个应用程序给出了访客的时间和姓名。那可能吗？

（图形 API + PHP）

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:44:50.570

不可以。您无法从 facebook 或其他来源获取此信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:47:42.837

隐藏访客属于 facebook 隐私政策，因此您无法获取这些详细信息，如果您获取这些详细信息，将是不合法的。查看`http://www.facebook.com/about/privacy/`

# android - 查找与标签匹配的所有微调器

> ID：10848787
> 
> 赞同：3
> 
> 时间：2012-06-01T10:41:53.610
> 
> 标签：android, spinner, android-spinner

是否可以获取列表或找到`Spinner`与特定标签匹配的所有内容？

我希望用户能够动态添加新`Spinner`的小部件，但我需要能够动态地从每个`Spinner`.

在`jQuery`中，我可以通过 选择与某个类匹配的所有元素`$('.myClassSelector').each()`。可以在 Android 中完成此操作或类似操作吗？

**更新** 所有微调器都`LinearLayout`在 XML 中指定的特定对象中。布局用作所有微调器的容器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T05:34:40.580

我认为您可以获得先前添加的布局的所有子项，`Spinner`并检查该子项是否`Spinner`存在。

```
 LinearLayout ll = //Your Layout this can be any Linear or Relative layout 
                     //in which you added your spinners at runtime ;

    int count = ll.getChildCount();
    for(int i =0;i<count;i++)
    {
        View v = ll.getChildAt(i);
        if(v instanceof Spinner)
        {
            // you got the spinner
            Spinner s = (Spinner) v;
            Log.i("Item selected",s.getSelectedItem().toString());
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:04:49.990

如果可能的话，最好将所有微调器添加到相同的线性布局中并使用 FasteKerinns 解决方案，但如果不可能，请尝试以下类似的事情.....

```
Vector spinners = new Vector ():

private void treverseGroup(ViewGroup vg)
{
    final int count = vg.getChildCount();
    for (int i = 0; i < count; ++i)
    {
        if (vg.getChildAt(i) instanceof Spinner) 
        {

          spinners.add(vg.getChildAt(i));
        }
        else if (vg.getChildAt(i) instanceof ViewGroup)
            recurseGroup((ViewGroup) gp.getChildAt(i));
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T14:58:32.307

下面的方法能够在**不使用递归**的情况下检索**整个视图层次结构**中的所有 Spinner 。它还匹配给定的标签。`root`

 **```
private ArrayList<Spinner> getSpinners(ViewGroup root, Object matchingTag) {
    ArrayList<?> list = root.getTouchables();

    Iterator<?> it = list.iterator();
    while (it.hasNext()) {
        View view = (View) it.next();
        if (!(view instanceof Spinner && view.getTag().equals(matchingTag))) {
            it.remove();
        }
    }

    return (ArrayList<Spinner>) list;
} 
```**

# tsql - 存储过程在 Sybase ASE 15.5 中花费大量时间

> ID：10848792
> 
> 赞同：1
> 
> 时间：2012-06-01T10:42:37.410
> 
> 标签：tsql, sap-ase

我们在 Sybase ASE 15.5 中运行存储过程。执行需要很长时间（大约 1 小时），但是此问题是随机重现的，即有时它会在几分钟内运行。

请找到在该 spid 上捕获的 sp_monitor 的输出。

```
1> sp_monitor "event","133"
2> go
 WaitTime Description                                        
 -------- -------------------------------------------------- 
   216900 waiting for incoming network data                  
    86000 waiting on run queue after yield                   
     1200 wait for i/o to finish after writing last log page 
      600 waiting for last i/o on MASS to complete 
```

# c# - 如何在 c# Web 编程的 asp 标签中使用“serverlocation + table value”来处理 ImageUrl？

> ID：10848795
> 
> 赞同：0
> 
> 时间：2012-06-01T10:42:57.730
> 
> 标签：c#, asp.net

```
<asp:Image ID ="ImageNameLabel" runat ="server" ImageUrl ='<%#Eval("ImageLocation")%>+ <%#Eval("ImageName")%>'/> 
```

请告诉我如何在 asp 标签中添加值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:24:45.947

你的意思是使用数据绑定的类似的东西吗？

```
<img src="http://localhost/<%# Eval("FileName") %>" /> 
```

# c# - DEX Graph Database with C#：是否有任何用于图形导出的代码示例？

> ID：10848796
> 
> 赞同：2
> 
> 时间：2012-06-01T10:42:59.547
> 
> 标签：c#, graph-databases

我开始在 C# 中使用 DEX Graph 数据库。到目前为止，我已经设法运行了简单的示例，但不知道如何导出图表。

我想将图形导出为 Graphviz 格式，以便与其他可视化工具一起显示。有谁知道任何可以找到图形导出示例的好资源，或者你们中的任何人已经设法导出图形并可以共享代码？

我会非常感谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T12:27:45.690

有一个简单的默认导出器可以这样使用：

```
DefaultExport exp = new DefaultExport();
graph.Export("exported.gv", ExportType.Graphviz, exp); 
```

但是为了获得更好的输出，您可能需要编写自己的导出器来扩展[ExportManager](http://www.sparsity-technologies.com/downloads/doc-net/html/classcom_1_1sparsity_1_1dex_1_1gdb_1_1ExportManager.html)类。

如果您有问题，您可以在公司[论坛中询问。](http://www.sparsity-technologies.com/dextechsupport/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T08:42:32.680

要创建自己的导出器，您应该执行以下操作：

```
public class MyExport : ExportManager
    {
        private Graph g = null;

        public MyExport() {
        }

        public override void Prepare(Graph graph) {
            // This method will be called once at the beginning of the export.
            // So we keep the graph being exported.
            g = graph;

        }

        public override void Release() {
            // Called once at the end of the export process.
        }

        public override bool GetGraph(GraphExport graphExport) {
            // Called once to get the Graph details (a label)
            graphExport.SetLabel("[MyExport] MyGraph");
            return true;
        }

        public override bool EnableType(int type) {
            // Will be called once for each type to allow or deny the export of
            // the nodes/edges of each type
            return true; // We enable the export of all types
        }

        public override bool GetNode(long node, NodeExport nodeExport) {
            // Called once for each node of an allowed type to get it's export definition.
            // The definition will be used if it returns true, or the default
            // node type definition from getNodeType will be used if this method
            // returns false.
            // It can set the label, shape, color, ...
            nodeExport.SetLabel("[MyExport] MyNode " + node);
            return true;
        }

        public override bool GetNodeType(int type, NodeExport nodeExport) {
            // Used to get a node type generic export definition.
            // Called once for each node only if the call to GetNode returned false.
            // It can set the label, shape, color, ...
            nodeExport.SetLabel("[MyExport] MyNodeType " + type);
            return true;
        }

        public override bool GetEdge(long edge, EdgeExport edgeExport) {
            // Called once for each edge of an allowed type to get it's export definition.
            // The definition will be used if it returns true, or the default
            // edge type definition from getEdgeType will be used if this method
            // returns false.
            // It can set the label, shape, color, ...
            edgeExport.SetLabel("[MyExport] MyEdge " + edge);
            return true;
        }

        public override bool GetEdgeType(int type, EdgeExport edgeExport) {
            // Used to get an edge type generic export definition.
            // Called once for each edge only if the call to GetEdge returned false.
            // It can set the label, shape, color, ...
            edgeExport.SetLabel("[MyExport] MyEdgeType " + type);
            return true;
        }
    } 
```

恐怕对于graphviz，出口商只接受更改标签。对于颜色和形状，...也许您可以考虑使用 ygraphml 导出？

# ios - iOS 5后台播放错误

> ID：10848802
> 
> 赞同：1
> 
> 时间：2012-06-01T10:43:19.600
> 
> 标签：ios, avfoundation, avqueueplayer

我正在使用**AVQueuePlayer**播放来自互联网的媒体。我设置了正确的**AVAudioSessionCategoryPlayback**，添加了**UIBackgroundModes** * *audio* * 并使用**UIBackgroundTask**使播放继续在后台工作（在曲目结束后启动后台任务并在下一首曲目准备好播放时结束）。一切正常，无论是主动模式还是后台模式。但有时后台播放会无缘无故停止。我所拥有的一切都是控制台中的一条消息：

**6 月 1 日 13:36:01 未知 mediaserverd[646]：13:36:01.921 <0x5063000> AudioQueue：来自 AudioSessionSetClientPlayState(1215) 的错误 -12985**

那么这是什么意思呢？

# java - Java 模式不理解

> ID：10848804
> 
> 赞同：4
> 
> 时间：2012-06-01T10:43:30.013
> 
> 标签：java, regex

Java模式概念中以下模式的含义是什么？

```
^[\p{Alnum}]{6,7}$ 
```

我知道它可以访问 6 到 7 个字母数字字符。但是在上述格式中 $ 的含义是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:45:57.563

`$`表示一行的结束，也表示一行`^`的开始。您提到的[模式](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html)称为正则表达式

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:46:29.110

`$`表示字符串结束。

如果您的模式中没有它，那么它也将匹配任何 6 到 7 个字符的字母数字字符串....后跟 antyhing

我希望你明白这`^`是字符串的开头:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T05:31:47.947

以下是您要求的格式（我需要这种格式“3AB 45D”。即前 3 个 Alnum 字符和空格以及 3 个 Alnum 字符。），

```
^[\\p{Alnum}]{3}\\p{Space}[\\p{Alnum}]{3}$ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T11:35:18.470

**你的图案**

```
^[\p{Alnum}]{6,7}$ 
```

**解释**

```
"^" +              // Assert position at the beginning of the string
"[\\p{Alnum}]" +    // Match a single character present in the list below
                      // A character in the POSIX character class “Alnum”
   "{6,7}" +          // Between 6 and 7 times, as many times as possible, giving back as needed (greedy)
"$"                // Assert position at the end of the string (or before the line break at the end of the string, if any) 
```

**更新：**

```
try {
    String resultString = subjectString.replaceAll("(?i)\\b(\\p{Alnum}{3})(\\p{Alnum}{3})\\b", "$1 $2");
} catch (PatternSyntaxException ex) {
    // Syntax error in the regular expression
} catch (IllegalArgumentException ex) {
    // Syntax error in the replacement text (unescaped $ signs?)
} catch (IndexOutOfBoundsException ex) {
    // Non-existent backreference used the replacement text
} 
```

# c# - 随着文本的增加，如何增加转发器的行？

> ID：10848806
> 
> 赞同：0
> 
> 时间：2012-06-01T10:43:46.367
> 
> 标签：c#, asp.net

随着文本的增加，如何增加转发器的行？我正在使用中继器来显示图像和图像描述。如果图像描述包含更多字符，则文本与其他行重叠。我怎么解决这个问题？

```
 <HeaderTemplate>

     <div class="HeaderStyle">
    <div class="HeaderStyle5">Edit</div>
      <div class="HeaderStyle5">Delete</div>

      <div class="HeaderStyle1">Image</div>
     <div class="HeaderStyle2">ImageDescription</div>
     </div>
     <ul id="defaultList">
    </HeaderTemplate>
    <ItemTemplate>
        <li id='item_<%# Container.ItemIndex + 1 %>' originalId='<%# DataBinder.Eval(Container.DataItem, "ImageId") %>' class="itemStyle">
        <div class="itemStyle">
         <div class="itemStyle4"> <asp:HyperLink ID="LinkButton2" runat="server" Text="Edit" NavigateUrl='<%#Request.Url.AbsoluteUri+"&ImageId="+ DataBinder.Eval(Container.DataItem, "ImageId") %>'></asp:HyperLink>  </div>
        <div class="itemStyle5"> 
        <asp:LinkButton ID="lnkDelete" runat="server"  
       CommandName='<%# DataBinder.Eval(Container.DataItem, "ImageId") %>' CommandArgument='<%# DataBinder.Eval(Container.DataItem, "SortId") %>' OnClientClick="return confirm('Are you sure , you want to delete..?');" OnCommand="Calling_Delete" >Delete</asp:LinkButton>  </div>
        <div class="itemStyle1"><asp:Image ID="Image1" runat="server" ImageUrl='<%# DataBinder.Eval(Container.DataItem, "ImageUrl") %> ' Height="50px" Width="50px" />  </div>

        <div><%# DataBinder.Eval(Container.DataItem, "ImageDesc") %> </div>

        </div>
        </li>
    </ItemTemplate>
    <FooterTemplate>
        </ul>
    </FooterTemplate> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:49:16.160

利用

```
myRepeater.Attributes["Style"] = "OVERFLOW-Y:auto;"; 
```

# java - 如何在网格中隐藏选择复选框？

> ID：10848808
> 
> 赞同：1
> 
> 时间：2012-06-01T10:43:58.587
> 
> 标签：java, smartgwt

我有一个`TreeGrid`选择外观设置为复选框。

```
TreeGrid resultGrid = new TreeGrid();
resultGrid.setSelectionAppearance(SelectionAppearance.CHECKBOX); 
```

我希望在没有这些复选框的情况下绘制一些记录（以防记录被禁用）。我找到了属性***showDisabledSelectionCheckbox***，它的描述说：

> ***当在 treegrid 上设置 selectionAppearance:"checkbox" 并且无法选择***节点时，树节点是否应该显示禁用的复选框而不是空格？

除了设置之外，我如何使节点“不可选择”：

> node.setEnabled(false);

这个属性（showDisabledSelectionCheckbox）是如何工作的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T16:31:43.360

我会从[这里](http://forums.smartclient.com/showpost.php?p=77987&postcount=13)开始。看起来您可以覆盖[ListGrid 本身的 canEditCell()](http://www.smartclient.com/smartgwt/javadoc/com/smartgwt/client/widgets/grid/ListGrid.html#canEditCell%28int,%20int%29)以防止某人与复选框进行交互。但是，我还没有找到完全隐藏复选框的方法。

也许将 showDisabledSelectionCheckbox 属性设置为 false 并结合覆盖 canEditCell() 将使您到达您想要去的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T09:06:02.580

`TreeGrid`具有可以通过设置的选择属性

```
resultGrid.setSelectionProperty(propertyName); 
```

因此，设置此属性`TreeNodes`将定义是否可以选择节点。默认情况下，可以只使用**“canSelect”**属性。

所以这行代码将禁用特定节点的选择。

```
treeNode.setAttribute("canSelect", false); 
```

如果选择外观设置为`SelectionAppearance.CHECKBOX`，**则不会在**无法选择的节点附近绘制复选框。这是我找到的唯一方法。

# database - Django Model - 获取不同的值列表

> ID：10848809
> 
> 赞同：71
> 
> 时间：2012-06-01T10:44:11.667
> 
> 标签：database, django, django-models

我尝试获取不同外键的列表，我写了这个：

```
my_ids = Entity.objects.values('foreign_key').distinct() 
```

但我只得到一个 UNDISTINCT 外键列表......我错过了什么？

谢谢！

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2012-06-01T11:15:29.390

将参数传递给 distinct 不适用于 MySQL 数据库（AFAIK）

这个有效并且只返回一个对象：

`Entity.objects.order_by('foreign_key').values('foreign_key').distinct()`

* * *

## 回答 #2

> 赞同：61
> 
> 时间：2012-06-01T10:58:04.337

也许您可能想这样做：

```
Entity.objects.order_by().values_list('foreign_key', flat=True).distinct() 
```

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2016-05-04T11:50:30.143

```
Entity.objects.values_list('foreign_key', flat=True).distinct().order_by() 
```

`distinct`[如 Django 文档中所解释的那样，](https://%20https://docs.djangoproject.com/en/stable/ref/models/querysets/#distinct)`order_by`没有就无法工作：

> 调用中使用的任何字段`order_by()`都包含在 SQL`SELECT` 列中。与 结合使用时，这有时会导致意外结果`distinct()`。如果您按相关模型中的字段排序，这些字段将添加到选定的列中，否则它们可能会使重复的行看起来不同。由于额外的列不会出现在返回的结果中（它们只是为了支持排序），因此有时看起来返回的结果不明显。
> 
> 同样，如果您使用`values()`查询来限制选定的列，任何`order_by()`（或默认模型排序）中使用的列仍将被涉及，并可能影响结果的唯一性。
> 
> 这里的寓意是，如果您正在使用，请`distinct()`注意按相关模型排序。同样，在使用`distinct()`and `values()`时，在按不在 `values()`调用中的字段排序时要小心。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2012-06-01T11:00:05.760

```
Entity.objects.order_by('foreign_key').distinct('foreign_key') 
```

如果您已经将它们作为列表，则将其转换为 a`set()`以获取不同的值。

# facebook - 我的 Facebook 应用程序未出现在 Facebook 搜索结果中

> ID：10848812
> 
> 赞同：0
> 
> 时间：2012-06-01T10:44:29.477
> 
> 标签：facebook, search, facebook-apps

我在 developer.facebook.com 上创建了一个新的 facebook 应用程序，其中包含以下详细信息：

画布页面：[http ://apps.facebook.com/158158040982233](http://apps.facebook.com/158158040982233)

我的申请有 200MAU。

但是，这个应用程序没有出现在搜索结果中，如果我试图在 facebook 的搜索文本框下搜索，可能是什么原因？

请指导我，

谢谢，巴里斯。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T11:00:15.490

等待一段时间，即使我也遇到了同样的问题。我认为这需要一些时间来反思。

并确保您的“沙盒模式”应该被禁用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T13:48:31.407

应用程序现在会在达到 10 MAU 时自动编入索引。不再需要按照 Facebook 上的博客手动“提交搜索”

[https://developers.facebook.com/blog/post/2011/07/12/getting-your-apps-into-facebook-search-faster/](https://developers.facebook.com/blog/post/2011/07/12/getting-your-apps-into-facebook-search-faster/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T11:04:24.880

它可能由于多种原因而丢失，例如，`Social Discovery`您的应用程序的选项是否启用？它有应用程序粉丝页面吗？沙盒模式是否启用？

拥有 App Fan Page 会增加您的 App 在 Search 中出现的变化。使用 FBML 还会导致您的应用不出现在搜索结果中。沙盒模式意味着用户也不会在搜索结果中看到您的应用。

# c# - 获取从 Outlook 表中获取的消息的 Outlook 邮件项

> ID：10848813
> 
> 赞同：4
> 
> 时间：2012-06-01T10:44:31.170
> 
> 标签：c#, outlook, outlook-2007, outlook-2010

如何从 Outlook 表中获取对 MailItem 的引用？如果我生成一个表，其中包含带有消息的行并告诉它添加带有消息的 EntryID 的列，那么当我简单地遍历文件夹的 Items 列表时，EntryID 与我可以看到的同一消息不同。

有没有其他方法可以得到消息？

我正在使用 Outlook 2007 和 2010。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T21:15:25.307

如果您的商店是 Exchange 邮箱，则该表将返回该属性的短期条目 ID `PR_ENTRYID`。这些条目 ID 对当前会话有效，但不应保留。要强制表返回长期 ID，请改为请求`PR_LONGTERM_ENTRYID_FROM_TABLE`( `0x66700102`) 属性；但是，请注意 PST 提供程序将不存在此属性。

参考：Dmitry Streblechenko 的[MAPI 表](http://www.dimastr.com/redemption/mapitable.htm#mapitables)

# oop - 让 image.default 使用类定义的 Axis 函数？

> ID：10848814
> 
> 赞同：0
> 
> 时间：2012-06-01T10:44:34.477
> 
> 标签：oop, r, graphics

比较以下内容：

```
par(mfrow = 2)
image(x=as.POSIXct(1:100, origin = "1970-1-1"), z= matrix(rnorm(100*100), 100))
plot(x=as.POSIXct(1:100, origin = "1970-1-1"), (rnorm(100))) 
```

似乎 image （以及 image.default ）在绘图时未能考虑到类定义的 Axis 函数，而 plot 确实如此。这是有问题的，因为我正在使用自定义`pretty`和`format`规范实现一些类，这些类将有自己的绘制轴的方式，所以我希望在使用图像时调用我自己的轴函数，而不是总是使用数字版本。

我知道有一种方法可以通过手动绘制轴来解决这个问题`xaxt = "n"`，例如首先调用 image 。但这似乎不方便和混乱。理想情况下，我想要一个解决方案，它可以直接覆盖现有功能，同时尽可能少地破坏。有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:11:39.200

最简单的方法*是*在调用`image()`with时抑制轴，`axes = FALSE`然后自己添加它们。例如：

```
set.seed(42)
X <- as.POSIXct(1:100, origin = "1970-1-1")
Z <- matrix(rnorm(100*100), 100)
image(x = X, z = Z, axes = FALSE)
axis(side = 2)
axis.POSIXct(side = 1, x = X)
box() 
```

这也可以使用`Axis()`S3 泛型来完成：

```
image(x = X, z = Z, axes = FALSE)
axis(side = 2)
Axis(x = X, side = 1)
box() 
```

因此，要真正尝试回答问题，我会将其包装到一个自动执行各个步骤的函数中：

```
Image <- function(x = seq(0, 1, length.out = nrow(z)),
                  y = seq(0, 1, length.out = ncol(z)),
                  z, ...) {
    image(x = X, z = Z, ..., axes = FALSE)
    Axis(x = y, side = 2, ...)
    Axis(x = X, side = 1, ...)
    box()
} 
```

将您的轴函数编写为`Axis()`泛型和类的 S3 方法，`x`并`y`适当地调用您的方法，并且上述方法应该可以正常工作。您需要记住的只是更改`image()`为`Image()`.

您也可以编写自己的`image()`方法，并添加您的类以`x`调用它而不是取决于拥有一个类`image.default()`是否有意义？`x`

我这样做的原因是，更改`image.default()`R 范围的唯一方法是编辑函数并将其分配给**图形**命名空间或获取您的版本并显式调用它。每次启动 R 时都需要执行此操作。自定义函数可以轻松获取或添加到您自己的本地 misc 函数包中，您可以在 R 启动时安排加载这些函数，以便它自动可用。请参阅`?Startup`有关如何安排的详细信息。

# c# - 扩展用户控件，如果在 ascx 页面上声明，内部控件未初始化

> ID：10848818
> 
> 赞同：2
> 
> 时间：2012-06-01T10:44:44.057
> 
> 标签：c#, asp.net, web-user-controls

我正在创建的用户控件由 3 个文件组成（ascx、ascx.cs 和 ascx.designer.cs）

我的问题 ：

在 aspx 页面 (asp:Button runat="server" id="mybutton" />) 中创建的控件未正确初始化，因此附加到“加载”事件并尝试使用按钮会导致空对象例外

我怀疑这是一个 Visual Studio 问题，可能是奇怪的错误或不寻常的设置，但如果我在做一些愚蠢的事情，我不会感到惊讶。

我尝试的解决方法

1.  我已将另一个工作用户控件从另一个项目复制到 Visual Studio 中的该项目中，但它也不起作用（在 ascx 页面中定义的控件在页面后面代码的加载事件中为空，尽管它们在我复制它们的地方工作正常）

2.  我正在使用“CreateChildControls()”方法，就像我在其他一些复合控件中所做的那样，但是在加载和初始化事件中一切仍然为空

3.  我创建了一个单独的解决方案和项目文件，并添加了所有文件和引用，但这仍然无济于事。

在我看来，“页面生命周期”（控件生命周期？）由于某种原因没有正确初始化控件，但不明白为什么，请有人帮忙。

将我的代码作为请求发布：

```
PersonalDetails.aspx
    <cwpEditControl:PersonalDetails runat="server" id="edtPersonalDetails" />

PersonalDetails.ascx
    <%@ Control Language="C#" CodeBehind="PersonalDetails.ascx.cs" Inherits="company.web.CustomerWebPortal.controls.edit.PersonalDetails" %>        
    <asp:Button runat="server" ID="myTestButton" />         

PersonalDetails.ascx.cs
    public PersonalDetails()
    {         
        this.Load += new EventHandler(PersonalDetails_Load);
    }

    void PersonalDetails_Load(object sender, EventArgs e)
    {
        this.myTestButton.Text = "Submit";  //this line creates an exception!
    }

PersonalDetails.ascx.designer.cs
    protected global::System.Web.UI.WebControls.Button myTestButton; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T11:57:47.473

我已经通过添加到 web.config 文件来解决我的问题，基本上是在我正在创建的整个 Web 应用程序中“注册”我的自定义控件：

```
<pages>
  <controls>
    <add tagPrefix="scottgu" src="~/Controls/Header.ascx" tagName="header"/>
    <add tagPrefix="scottgu" src="~/Controls/Footer.ascx" tagName="footer"/>
    <add tagPrefix="ControlVendor" assembly="ControlVendorAssembly"/>
  </controls>
</pages> 
```

解释添加到 web.config 文件的链接（请注意本文没有直接解决我的问题）

[http://weblogs.asp.net/scottgu/archive/2006/11/26/tip-trick-how-to-register-user-controls-and-custom-controls-in-web-config.aspx](http://weblogs.asp.net/scottgu/archive/2006/11/26/tip-trick-how-to-register-user-controls-and-custom-controls-in-web-config.aspx)

我个人认为不需要我的自定义控件的“站点范围”声明，但它解决了问题，所以我正在使用它，但仍然希望我了解为什么需要这样做的原因.

# linux - 如何安装 wkhtml2pdf？

> ID：10848821
> 
> 赞同：1
> 
> 时间：2012-06-01T10:44:54.203
> 
> 标签：linux, wkhtmltopdf

我一直在寻找解决此问题的方法大约一年，但仍然没有找到。

我正在尝试获取可以在我的服务器上托管并免费使用的网站快照脚本，该脚本在 99% 的网页上运行良好。

到目前为止，我一直在使用[html2canvas](http://html2canvas.hertzen.com/)，但它并没有真正显示图像。

我之前研究过 wkhtml2pdf，但我尝试安装每个二进制文件并从 PHP 执行。他们都没有工作！

我只知道我的服务器是 Linux（所以我只测试了 Linux 静态二进制文件）。即使是基本`--help`命令也不起作用。

请帮帮我。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:13:23.563

如果您使用托管服务，则可能无法执行存储在用户目录中的二进制程序。（`noexec`特定分区上的标志）。您应该首先联系系统管理员并询问是否可以将您自己的二进制可执行文件放在那里。或许，您可以请系统管理员`wkhtmltopdf`为您安装在全局目录`/usr/local/bin`中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-11T13:26:13.677

您需要的不仅仅是简单的共享主机，还需要“它是 Linux”。PHP 可能处于安全模式和许多其他限制中。我会选择一个最小的 VPS（如 digitalocean 或类似的）、root 访问权限、使用 dnf、yum 或你的 Linux 发行版安装 wkhtml2pdf，因为它会给你的机器带来很多依赖。一个最小的 LAMP 服务器不应该有它需要的东西。您需要能够允许 Apache（或其他用户）执行二进制文件。

# java - Crap4j libClassPath 作为路径参考

> ID：10848822
> 
> 赞同：0
> 
> 时间：2012-06-01T10:45:06.433
> 
> 标签：java, ant, utility

我正在尝试使用 CRAP4J 实用程序来分析我的代码，但在传递类路径时我被卡住了。我的蚂蚁任务如下所示；

```
<target name="run-crap-4j" unless="crap-4j-finishes" depends="init" description="This target will run crap-4j for analysis." >
    <crap4j projectdir="${basedir}" outputDir="${build.dir}${file.separator}reports${file.separator}crap4j"
            dontTest="false" debug="false">
        <srces>
            <pathElement location="${base.dir}${file.separator}src" />
        </srces>        
        <classes>
            <pathElement location="${build.dir}${file.separator}classes" />
        </classes>
        <testClasses>
            <pathElement location="${build.dir}${file.separator}testclasses" />
        </testClasses>

        <libClasspath>
            <path refid="${project.classpath}" />
            <path refid="${test.classpath}" />
        </libClasspath>
    </crap4j>
    <property name="crap-4j-finishes" value="true"/>
</target> 
```

当我运行我的目标时，它给了我以下错误；

```
run-crap-4j:
Unresolvable reference ${project.classpath} might be a misuse of property expansion syntax.

BUILD FAILED
C:\RTC\TechDev\SoaFramework\build.xml:931: Reference ${project.classpath} not found. 
```

根据我应该传递文件集的 CRAP4J 文档，但问题是我的依赖项没有在一个位置，它们分散在各处。你能帮我解决这个问题，或者给我关于现在如何进行的建议吗？

谢谢

--

斯茹内霍

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T12:54:14.973

显然它是 CRAP4J 中的一个错误。请参阅以下链接以获取解决方案；

[http://code.google.com/p/crap4j/issues/detail?id=12](http://code.google.com/p/crap4j/issues/detail?id=12)

谢谢，

--

SJunejo

# java - PrimeFaces 数据表初始 sortBy 不起作用

> ID：10848828
> 
> 赞同：4
> 
> 时间：2012-06-01T10:45:50.810
> 
> 标签：java, jsf, primefaces

我有一个 PrimeFaces 3.2 DataTable 使用 apache myfaces 2.0.2 。我想要一个初始排序。我的 JSF 看起来像：

```
<p:dataTable  id="serverdata" var="serverdata" sortBy="#{serverdata[0]}" sortOrder="descending" 
                value="#{ serverDataTable.list }" rows="10" editable="true" 
                paginator="true" rowsPerPageTemplate="10,20,50"
                paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
                <f:facet name="header">  
                   Datatable
                 </f:facet>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Datum"/>
                    </f:facet>
                    <h:outputText value="#{serverdata[0]}">
                    </h:outputText>
                </p:column> 
```

但是`UnsupportedOperationException: The result list is read-only.`当我删除其中的 sortBy 标记时，我得到了一个正常工作。

所以我的问题是：我怎样才能实现初始排序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:51:12.290

排序是在原始文件上执行的`List`。如果它是只读的，则会抛出异常。尝试相同的方法，但使用常规的、可变的`List`

编辑：在 bean 中创建一个常规列表：

```
public class MyBean {
...
List<MyObject> myList = new ArryList<MyObject>();
myList.add(new MyObject("a"));
myList.add(new MyObject("b"));
myList.add(new MyObject("c"));
... 
```

然后使用这样的排序：`value="#{myBean.myList}" var="myVar" sortBy="#{myVar.stringProp}"`

EDIT2：如果排序参数是字符串或数字，则不需要自定义任何内容。如果您要对其他任何内容进行排序，则必须定义一个自定义 sortFunction，

如果您使用延迟加载等高级选项（顺便说一句，它在 pf 3.2 中被破坏 - 您现在可以更新到 3.3 - 它已在 29.5 上发布并声称已解决此问题），您将必须定义一个自定义模型，照顾过滤和排序自己。

因此，如果您想按数组的内容对数据进行排序，则需要定义属性`sortFunction="#{myBean.sortData()}"`

# c# - 使用反射的“as”等价物

> ID：10848833
> 
> 赞同：0
> 
> 时间：2012-06-01T10:46:32.510
> 
> 标签：c#, reflection

所以我一开始对反射或动态类型一无所知，但我学到了很多。但是，我找不到一件事：动态类型的“as”等价物。

我正在尝试做的是相当于这个（如果它会编译）：

```
foreach (Change c in changes)
{
    (c.Undo as Action<c._Type, c._Type>).Invoke(
        c.OldValue as c._Type, c.NewValue as c._Type);
} 
```

据我了解，我需要做一些事情

```
Type constructedClass = typeof(Action<,>).MakeGenericType(c._Type); 
```

构造所需的 Action 类，但有没有办法同时实现`as`Action 类型和 c._Type？

为了进一步澄清，这里是伪代码（这是我第一次尝试做这种事情，所以请善待）：

```
foreach (Object o in objects)
{
    (o.SettableMethod as Action<o.TypeOfParameters, o.TypeOfParameters>).Invoke(
        o.Parameter1 as TypeOfParameters, o.Parameter2 as TypeOfParameters);
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:03:34.697

Action 上的泛型（或一般而言）的目的是允许您在编译时管理类型安全。如果您使用反射，那么您正在做额外的工作而*无法*获得这种好处。如果需要，您不妨让 Undo Action 的签名采用两个 type 对象`object`，并在操作内转换为适当的类型。

更一般地说，不同的设计会更好地为您服务。你为什么要调用一个`Change`发送`Change`回属性的方法？你能不能在没有任何参数的情况下调用 Undo，并`Change`负责知道新旧值是什么？

# android - 如何在 android 中创建“在 Facebook 上推荐”按钮？

> ID：10848834
> 
> 赞同：0
> 
> 时间：2012-06-01T10:46:37.977
> 
> 标签：android, facebook

我想在我的 android 应用程序中创建一个按钮，该按钮将在 facebook 上发布标准推荐帖子。这是他们的Facebook api吗？或者其他我可以做到的方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:57:17.723

一种解决方案是使用标准 websnippet 并将其显示在[WebView](http://developer.android.com/reference/android/webkit/WebView.html)中。然后将 WebView 集成到您想要显示按钮的任何位置。

这个解决方案的问题是，浏览器将启动并提示用户登录 facebook。

看看这个链接：

[Facebook Like 按钮的 Android WebView](https://stackoverflow.com/questions/5108088/android-webview-for-facebook-like-button)

**或者**

使用分享意图 [如何在android中添加分享按钮？](https://stackoverflow.com/questions/5561877/how-to-add-share-button-in-android)

# c# - 如何通过 javascript 添加 ASP DropDown 值？

> ID：10848839
> 
> 赞同：2
> 
> 时间：2012-06-01T10:46:53.883
> 
> 标签：c#, javascript, jquery, .net, drop-down-menu

我正在使用 asp 下拉列表。根据我的要求，我需要通过外部 java 脚本文件设置该下拉列表的值。这怎么可能？我不会使用`document`对象来获取下拉 ID。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:53:11.180

如果您可以将选项值列表设置为 js 数组，那么您可以使用 jQuery 的[$.each](http://api.jquery.com/jQuery.each/) 方法来构建这样的下拉列表

**HTML**

```
​&lt;select id="drop"></select>​ 
```

**jQuery**

```
var values = ['test1','test2','test3','test4','test5','test6'​];

​$.each(values,function(i,val){
   $('<option />').text(val).val(val).appendTo('#drop');
});​ 
```

[工作小提琴](http://jsfiddle.net/joycse06/sFVgf/)

# css - 将 CSS onhover 更改为 onclick

> ID：10848840
> 
> 赞同：0
> 
> 时间：2012-06-01T10:46:58.547
> 
> 标签：css, click, hover

我正在使用以下 CSS：

```
.main-navigation {
    clear: both;
    display: block;
    float: left;
    width: 100%;
}
.main-navigation ul {
    list-style: none;
    margin: 0;
    padding-left: 0;
}
.main-navigation li {
    float: left;
    position: relative;
}
.main-navigation a {
    display: block;
    text-decoration: none;
}
.main-navigation ul ul {
    -moz-box-shadow: 0 3px 3px rgba(0,0,0,0.2);
    -webkit-box-shadow: 0 3px 3px rgba(0,0,0,0.2);
    box-shadow: 0 3px 3px rgba(0,0,0,0.2);
    display: none;
    float: left;
    position: absolute;
    top: 1.5em;
    left: 0;
    z-index: 99999;
}
.main-navigation ul ul ul {
    left: 100%;
    top: 0;
}
.main-navigation ul ul a {
    width: 200px;
}
.main-navigation ul ul li {
}
.main-navigation li:hover > a {
}
.main-navigation ul ul :hover > a {
}
.main-navigation ul ul a:hover {
}
.main-navigation ul li:hover > ul {
    display: block;
}
.main-navigation li.current_page_item a,
.main-navigation li.current-menu-item a {
}

/* Small menu */
.menu-toggle {
    cursor: pointer;
}
.main-small-navigation .menu {
    display: none;
} 
```

控制基于列表的多级导航系统，其 HTML 如下所示：[https](https://gist.github.com/2851105) ://gist.github.com/2851105 。

我想知道的是，如何更改使菜单显示为单击事件的悬停事件？这甚至可以单独在 CSS 中完成，还是我需要引入一些 javascript？

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T10:51:15.900

就“点击”事件而言，您在 css 中所希望的最好的方法就是使用该`a:active`属性来设置样式。单击特定链接时将调用此方法，但它无法执行您要查找的操作。它只能将视觉样式应用于相关元素。

CSS 纯粹是一种样式语言。您将需要 JavaScript 来实现更多目标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T10:49:14.710

恐怕这不能单独使用 CSS 来完成。您将需要在此处使用 JavaScript。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T10:51:39.880

您需要使用 JavaScript 或 jQuery 来控制点击事件。它不能使用 CSS 来完成。

[jQuery .click()](http://api.jquery.com/click/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T10:52:58.717

您应该能够调整以下问题的答案以满足您的需求

[CSS：为表格中的选定行设置颜色](https://stackoverflow.com/questions/10765854/css-set-color-for-selected-row-in-a-table)

# c# - 如何在 Silverlight 中上传 bmp 位图图像？

> ID：10848845
> 
> 赞同：1
> 
> 时间：2012-06-01T10:47:18.837
> 
> 标签：c#, silverlight, image, upload

我正在silverlight中编写代码。我想在我的 silverlight 应用程序上上传图像。请帮助我如何上传位图图像并在界面上显示它们。如果我错了，请解决。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:51:39.760

Silverlight 仅原生支持 .jpg 和 .png 文件。您将需要第三方库来解码（或转换）供 Silverlight 使用的 bmp 文件。

您可以在 Silverlight 中的 Web 浏览器控件中显示它们，但 MS 选择 PNG 和 JPG 是有原因的，所以为什么要增加复杂性。我会说在上传后使用许多可用的第三方库之一在服务器上转换它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:59:10.250

你能提供更多细节吗？您要将其上传到您网站上的目录，将其存储在数据库中还是仅保留它以供会话然后处理图像？

有许多示例，例如[codeplex 上的 Silverlight File Upload](http://silverlightfileupld.codeplex.com/)。或[文件上传器](http://silverlightuploader.codeplex.com/)。如果您只想上传到您网站上的一个目录，您可能还想[查看这个示例](http://www.c-sharpcorner.com/uploadfile/nipuntomar/file-upload-in-silverlight/)。

除了这些起点之外，您还需要提供更多细节，说明您遇到问题的地方。

# cocoa-touch - 自定义单元格未显示在 tableView 中

> ID：10848848
> 
> 赞同：0
> 
> 时间：2012-06-01T10:47:33.943
> 
> 标签：cocoa-touch, uitableview, storyboard

我有一个带有标识符“tweetCell”的自定义单元格，我已将其导入到我的 tableviewcontroller.h 文件中。我已将该类链接到情节提要中的原型单元。所有的 UILabel 都连接到单元格，但我无法让 tableview 显示自定义单元格。它起作用了吗？然后一夜之间停了？！！我知道类文件需要以大写字母开头，我已经改变了这一点，但无济于事。谁能在这里发现我的错误？提前致谢......

```
- (void)fetchTweets
{
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        NSData* data = [NSData dataWithContentsOfURL:
                        [NSURL URLWithString: @"http://search.twitter.com/search.json?q=%23mysearchhashtag"]];

        NSError* error;

        tweets = [NSJSONSerialization JSONObjectWithData:data
                                                 options:kNilOptions
                                                   error:&error];

        dispatch_async(dispatch_get_main_queue(), ^{
            [self.tableView reloadData];
        });
    });
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return tweets.count;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"tweetCell";

    customCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[customCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    NSDictionary *tweet = [tweets objectAtIndex:indexPath.row];

    NSString *tweetText = [tweet valueForKey:@"text"];

    NSArray *tweetComponents = [tweetText componentsSeparatedByString:@":"]; 

    cell.firstDetail.text = [tweetComponents objectAtIndex:0];
    cell.secondDetail.text = [tweetComponents objectAtIndex:1];
    cell.thirdDetail.text = [tweetComponents objectAtIndex:2];

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:01:29.383

这个方法是你写的`- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView`吗？像这样试试。

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
    {
        return 1;

    } 
```

# android - Android，如何在地图上制作动画叠加层？

> ID：10848849
> 
> 赞同：-1
> 
> 时间：2012-06-01T10:47:39.193
> 
> 标签：android, android-mapview, android-maps

请指导我如何在地图上制作动画标记/图钉/叠加图标。我从过去 2 天开始尝试了很多，但我没有成功。

提前致谢..

**不工作**

res/drawable/map_marker.xml

```
 <?xml version="1.0" encoding="utf-8"?>
<animation-list xmlns:android="http://schemas.android.com/apk/res/android"
 android:oneshot="false">
<item android:drawable="@drawable/ecall_lowon" android:duration="200" />
<item android:drawable="@drawable/ecall_mediumoff" android:duration="200" /> 
```

**Java 代码**

```
 Drawable drawable = this.getResources().getDrawable(R.drawable.map_marker);
    MapItemizedOverlay mapItemizedOverlay = new MapItemizedOverlay(drawable, this);

    GeoPoint geoPoint1 = new GeoPoint((int)(9.982878 * 1E6), (int)(76.285774 * 1E6));
    GeoPoint geoPoint2 = new GeoPoint((int)(9.973928 * 1E6), (int)(76.276824 * 1E6));

    OverlayItem overlayItem1 = new OverlayItem(geoPoint1, "Title1", "");
    OverlayItem overlayItem2 = new OverlayItem(geoPoint2, "Title2", "");

    mapItemizedOverlay.addOverlayItems(overlayItem1);
    mapItemizedOverlay.addOverlayItems(overlayItem2);

    mapView.getOverlays().add(mapItemizedOverlay); 
```

但是没有成功...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T06:28:47.543

在 XML 中定义的按顺序显示图像序列 ( `<animation-list /`>) 的动画可能无法在地图上显示闪烁图钉

我已经解决了这个问题并找到了解决方案之一

**想法：**两个drawables..`Runnable`和`handler`，**SetPin_On()**和**SetPin_Off()**，在SetPin_On方法中使用一个图像，在SetPin_Off方法中使用另一个图像，在每个函数上调用清除叠加并再次添加

**资源：**拍摄两张图片，例如 pin_on、pin_off

**编码：**需要使用处理程序运行才能以间隔设置引脚

例子：

```
Handler handler=new Handler();
      int check=0;

          Runnable r=new Runnable()
          {

        @Override
        public void run() 
        {
             if(check==0)
             {
               SetPin_On();
               check=1;

             }
             else if(check==1)
             {
               SetPin_Off();
               check=0;
             }
            handler.postDelayed(this, 500);
        }

    }; 
```

并在**SetPin_On**方法中将 pin_on 图像设置在叠加层上，并在**SetPin_Off**方法中通过清除先前的叠加层再次设置 pin_off 图像

**SetPin_On：**

```
void SetPin_On()
    {
         mapOverlays = mapView.getOverlays();
         mapOverlays.clear(); 

         res =getResources(); 
         drawable = res.getDrawable(R.drawable.pin_on);
         itemizedOverlay = new CustomItemizedOverlay(drawable,this, mapView);

         point = new GeoPoint((int)(Double.parseDouble(lati)*1E6),(int)(Double.parseDouble(longi)*1E6));
         overlayitem = new OverlayItem(point, "Hello", "I'm in Athens, Greece!");

         itemizedOverlay.addOverlay(overlayitem);
         mapOverlays.add(itemizedOverlay);

         mapController = mapView.getController();

         mapController.animateTo(point);
         mapController.setZoom(6);
    } 
```

**SetPin_Off：**

```
void SetPin_Off()
    {

        mapOverlays = mapView.getOverlays();
         mapOverlays.clear(); 

         res =getResources(); 
         drawable = res.getDrawable(R.drawable.pin_off);
         itemizedOverlay = new CustomItemizedOverlay(drawable,this, mapView);

         point = new GeoPoint((int)(Double.parseDouble(lati)*1E6),(int)(Double.parseDouble(longi)*1E6));
         overlayitem = new OverlayItem(point, "Hello", "I'm in Athens, Greece!");

         itemizedOverlay.addOverlay(overlayitem);
         mapOverlays.add(itemizedOverlay);

         mapController = mapView.getController();

         mapController.animateTo(point);
         mapController.setZoom(6);

    } 
```

这是获得闪烁引脚的一种解决方案。可能效率不高，但结果非常准确

[请参阅此处](https://stackoverflow.com/questions/6052830/put-animated-gif-in-overlay-over-mapview/7667842#7667842)以获取另一种解决方案

# c - LWIP + RTOS - 如何避免 netconn 永远阻塞线程？

> ID：10848851
> 
> 赞同：7
> 
> 时间：2012-06-01T10:47:52.707
> 
> 标签：c, network-programming, embedded, rtos, lwip

当调用**LwIP** `netconn_accept()`或`netconn_recv()`函数时，如果我们使用的是 RTOS，它将阻塞线程并等待连接，直到超时或永远，取决于`LWIP_SO_RCVTIME0`. 超时持续时间等于`SYS_ARCH_TIMEOUT`.

在核心包含部分LwIP堆栈`SYS_ARCH_TIMEOUT`中定义为*0xffffffff*，所以我认为它不会被更改。

实际上，我希望它检查是否建立了连接，如果没有，则继续线程。但是，如果我打电话`netconn_accept()`，它只会阻塞线程并永远等待（或很长时间）......我不想改变定义值，`SYS_ARCH_TIMEOUT`因为我在不同情况下需要不同的超时......

这样做的好方法是什么？谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T10:52:45.250

轮询 TCP 连接（或接受）通常是一种不好的做法。考虑生成一个专门用于阻塞 netconn_accept() 调用的新线程。

我理解使用 RTOS 的局限性，但是只产生一个堆栈空间最小的辅助线程应该不是一个大问题。

我相信实施经典[生产者-消费者问题](http://en.wikipedia.org/wiki/Producer-consumer_problem)的解决方案并不难。

如果您谈论的是 FreeRTOS，它拥有所有需要的工具——信号量和线程。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-04T01:57:21.693

根本不要使用阻塞 API。lwIP 堆栈提供了一个本地的、非阻塞的、事件驱动的 API，它比阻塞更高效，并且不需要阻塞 RTOS。YouTube 视频展示（位于[http://youtu.be/MBk5wJ_8jEc](http://youtu.be/MBk5wJ_8jEc)）展示了如何在基于 QP 状态机框架的实时系统中使用此 API。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-01T11:25:13.403

创建一个新线程尝试建立该连接。只要它没有连接，就让线程休眠一段时间，以便 RTOS 可以进行上下文切换！（切换到另一个任务）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-09-04T13:55:23.833

您可以使用该`netconn_set_recvtimeout`函数将侦听套接字上的超时设置为较小的值，例如 1 毫秒。

例如。（为了简单起见，错误处理离开了新、绑定、监听）

```
struct netconn *conn = netconn_new(NETCONN_TCP);
if (conn)
{
    if (netconn_bind(conn, IP_ADDR_ANY, 1025/*PORT_NUMBER*/) != ERR_OK)
    {
        return;
    }
    if (netconn_listen(conn) != ERR_OK)
    {
        return;
    }
    netconn_set_recvtimeout(conn, 1);
} 
```

然后调用accept最多会延迟1ms：

```
struct netconn *newConn;
err_t result = netconn_accept(conn, &newConn);
if (result == ERR_OK)
{
    // Handle the connected netconn here
}
else if (result == ERR_TIMEOUT)
{
    // No pending connections
}
else
{
    // A problem with the listen socket accepting the connection
} 
```

# c - 如何在C中将字符串转换为枚举值

> ID：10848853
> 
> 赞同：-1
> 
> 时间：2012-06-01T10:47:54.863
> 
> 标签：c, c-preprocessor

我有一个文件，其中有一些定义，例如：

```
TRACE( tra_1, "AA")
TRACE( tra_1, "BB")
TRACE( tra_1, "CC")
TRACE( tra_1, "DD")
TRACE( tra_1, "EE")
.. 
```

等等。其中 AA、BB、CC、DD 和 EE 是字符串。

我想从文件中获取这些 TRACE 定义并将它们转换为枚举。预处理器的输出应如下所示：

```
typedef enum{
AA,
BB,
CC,
DD,
EE
} TRACE; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T11:11:40.557

也许你可以反过来：有枚举并用它们制作字符串？

```
 #define ENUM2STR( _e ) #_e
 TRACE( tra_1, ENUM2STR(AA) )
 ... 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T14:30:44.993

不需要代码生成。c 预处理器可以为您完成。

将所有枚举值放入包含文件中。跟踪_val.h：

```
ENUM_START(TRACE)
ENUM_VAL(tra_1, "AA")
ENUM_VAL(tra_1, "BB")
ENUM_VAL(tra_1, "CC")
ENUM_VAL(tra_1, "DD")
ENUM_VAL(tra_1, "EE")
ENUM_END(TRACE) 
```

在另一个文件 trace.h 中：

```
#define ENUM_START(NAME) typedef enum {
#define ENUM_VAL(ID, VAL) ID,
#define ENUM_END(NAME) } NAME;
#include trace_val.h 
```

以类似的方式，您可以重新定义 ENUM_START、ENUM_VAL 和 ENUM_END 以创建转换表：

```
#define ENUM_START(NAME) enum_val_t NAME##_E[] = {
#define ENUM_VAL(ID, VAL) {ID, VAL},
#define ENUM_END(NAME) {NULL, NULL}};
#include "trace_val.h" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T11:04:01.463

```
typedef enum {
        LOL, WUT, foobar, helloworld
} TRACE;

#define NNAMES 4

// MUST MATCH ENUM DEFINITION
char *TRACE_NAMES[] = {
        "LOL",
        "WUT",
        "foobar",
        "helloworld"
};

TRACE convert_str_to_TRACE( char *n ){
        int i;
        for( i=0; i<NNAMES; i++){
                if( !strcmp( TRACE_NAMES[i], n )){
                        return i;
                }
        }
        return -1; //not found
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T14:58:23.443

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

//Linked List
typedef struct _node {
    char *name;
    struct _node *next;
} Node;
typedef struct _list {
    Node *data;
    struct _list *next;
} List;

Node *new_Node(char *name){
    Node *p;
    p=(Node*)malloc(sizeof(Node));
    p->name = strdup(name);
    p->next = NULL;
    return p;
}

void free_Node(Node *p){
    if(p == NULL) return;
    free(p->name);
    free_Node(p->next);
    free(p);
}

List *new_List(){
    List *p;
    p=(List*)malloc(sizeof(List));
    p->data = NULL;
    p->next = NULL;
    return p;
}

void free_List(List *p){
    if(p == NULL) return;
    free_Node(p->data);
    free_List(p->next);
    free(p);
}

Node *findNode(List *root, char *name){
    if(root->data == NULL){
        root->data = new_Node(name);
        return root->data;
    }
    if(0==strcmp(root->data->name, name)){
        return root->data;
    }
    if(root->next == NULL){
        root->next = new_List();
        root->next->data = new_Node(name);
        return root->next->data;
    }
    return findNode(root->next, name);
}

void addChildNode(Node *node, char *name){
    if(node->next == NULL){
        node->next = new_Node(name);
    } else {
        addChildNode(node->next, name);
    }
}

void addNode(List *root, char *typeName, char *idName){
    Node *np;
    np = findNode(root, typeName);
    addChildNode(np, idName);
}

void toEnumSrcOut(FILE *fo, const char *srcFile){
    FILE *fp;
    int count;
    char enumName[64]={0};
    char enumId[64]={0};
    List *root,*lp;
    Node *np;

    root = new_List();
    fp=fopen(srcFile, "r");
    while(EOF!=(count=fscanf(fp, "%[^(]%*c %*[^,]%*c %*c%[^\"]%*[^\n]%*c", enumName, enumId))){
        if(count == 2){
            addNode(root, enumName, enumId);
        }
    }
    fclose(fp);
    for(lp = root; lp != NULL ; lp=lp->next){
        fprintf(fo, "typedef enum {\n");
        for(np = lp->data->next; np != NULL ; np=np->next){
            fprintf(fo, "\t%s",np->name);
            fprintf(fo, (np->next == NULL)? "\n" : ",\n");
        }
        fprintf(fo, "} %s;\n",lp->data->name);
    }
    free_List(root);
}

int main(){
    toEnumSrcOut(stdout, "enumsrc.txt");
    return 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-01T15:26:07.453

您可以像这样定义预处理器函数：

```
#define STRINGIFY(x) #x 
```

然后，如果您有以下枚举：

`enum test {FIRST, SECOND, THIRD }`;

您可以使用预处理器函数将枚举转换为字符串，例如：

```
printf("enum string is %s\n", STRINGIFY(FIRST)); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-01T10:56:04.283

抱歉我之前发错了。

看看这篇文章......它可以帮助 [http://www.dreamincode.net/forums/topic/157186-conversion-of-string-to-enum/](http://www.dreamincode.net/forums/topic/157186-conversion-of-string-to-enum/)

# objective-c - Objective-C 代码可以调用 C 代码，反之亦然吗？（混合搭配）

> ID：10848862
> 
> 赞同：0
> 
> 时间：2012-06-01T10:48:34.180
> 
> 标签：objective-c, c

例如，Objective-C 可以调用一个调用 Objective-C 的 C 函数吗？

```
(UIColor *) getUIColorWithRGB(int r, int g, int b) {
    return [UIColor colorWithRed: r / 255.0 green: g / 255.0 blue: b / 255.0 alpha: 1];
}

@implementation UIColorCollection

+(UIColor *) lightCyanColor {
    return getUIColorWithRGB(224, 255, 255);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:52:05.417

如果谈论可能性，它是可能的。只需去掉 C 函数返回值中的括号即可：

```
UIColor * getUIColorWithRGB(int r, int g, int b) {
    return [UIColor colorWithRed: r / 255.0 green: g / 255.0 blue: b / 255.0 alpha: 1];
} 
```

不过，不确定这是否可以作为编程实践。

# c# - 将节点添加到隔离存储中的现有 XML

> ID：10848865
> 
> 赞同：0
> 
> 时间：2012-06-01T10:48:55.663
> 
> 标签：c#, xml, silverlight, windows-phone-7, isolatedstorage

我在隔离存储中的现有 XML 中添加了一些节点。

```
 using (Stream stream = myIsolatedStorage.OpenFile("History.xml", FileMode.Open, FileAccess.ReadWrite))
                        {
                           XDocument loadedData = XDocument.Load(stream);

                            var RootNode = new XElement("History");
                            var RecipentN = new XElement("RecipentName", "ABC");
                            var RecipentNo = new XElement("RecipentNumber", "ABABAB");
                            var Time = new XElement("TimeStamp", "Monday");
                            var MessageBody = new XElement("Message", "23");
                            RootNode.Add(RecipentN, RecipentNo, Time, MessageBody);
                            loadedData.Root.Add(RootNode);
                            loadedData.Save(stream);
                        }
                    } 
```

我希望我的 XML 是这样的

```
<?xml version="1.0" encoding="utf-8"?>
<History>
  <RecipentName>Arslan</RecipentName>
  <RecipentNumber>03336329631</RecipentNumber>
  <TimeStamp>123456</TimeStamp>
  <Message>ABC</Message>
</History

<History>
  <RecipentName>Arslanaa</RecipentName>
  <RecipentNumber>03336329631</RecipentNumber>
  <TimeStamp>123456</TimeStamp>
  <Message>ABC</Message>
</History 
```

但是我的代码错误地合并到现有的 XML

```
<?xml version="1.0" encoding="utf-8"?>
<History>
  <RecipentName>Arslan</RecipentName>
  <RecipentNumber>03336329631</RecipentNumber>
  <TimeStamp>123456</TimeStamp>
  <Message>ABC</Message>
  <History>
    <RecipentName>Java</RecipentName>
    <RecipentNumber>John</RecipentNumber>
    <TimeStamp>23</TimeStamp>
    <Message>23</Message>
  </History>
</History> 
```

任何人都可以请帮助我如何连接到隔离存储中的现有 XML。

我没有像历史一样添加主根节点的问题，但是我如何使用 XMLTextWritter 编写意味着我将如何使用 Writer 添加历史根节点

```
 writer.WriteStartElement("History", "");

                    writer.WriteStartElement("RecipentName", "");
                    writer.WriteString("Arslan");
                    writer.WriteEndElement();

                    writer.WriteStartElement("RecipentNumber", "");
                    writer.WriteString("03336329631");
                    writer.WriteEndElement();

                    writer.WriteStartElement("TimeStamp", "");
                    writer.WriteString("123456");
                    writer.WriteEndElement();

                    writer.WriteStartElement("Message", "");
                    writer.WriteString("ABC");
                    writer.WriteEndElement();

                    // Ends the document
                    writer.WriteEndDocument();
                    writer.flush(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T12:03:14.370

您的目标 XML 无效，因为没有根节点。`History`您在同一级别有两个节点。

如果你很高兴拥有一个新的根（比如`Histories`），你可以这样做：

```
// load original XML from the stream
XDocument loadedData = XDocument.Load(stream);

// create a new parent XML structure (new root) and load the original nodes
var newXml = new XDocument(new XElement("Histories"));
newXml.Root.Add(loadedData.Root);

// create the new node
var NewNode = new XElement("History");
var RecipentN = new XElement("RecipentName", "ABC");
var RecipentNo = new XElement("RecipentNumber", "ABABAB");
var Time = new XElement("TimeStamp", "Monday");
var MessageBody = new XElement("Message", "23");
NewNode.Add(RecipentN, RecipentNo, Time, MessageBody);  

// add the new node
newXml.Root.Add(NewNode);

// save the stream
newXml.Save(stream); 
```

这给了你：

```
<Histories>
  <History>
    <RecipentName>Arslan</RecipentName>
    <RecipentNumber>03336329631</RecipentNumber>
    <TimeStamp>123456</TimeStamp>
    <Message>ABC</Message>
  </History>
  <History>
    <RecipentName>ABC</RecipentName>
    <RecipentNumber>ABABAB</RecipentNumber>
    <TimeStamp>Monday</TimeStamp>
    <Message>23</Message>
  </History>
</Histories> 
```

这可能是你想要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-02T16:33:07.027

嗨，最后我在也门和我的一些研发的帮助下完成了这件事。

这是我的代码片段，它适用于我......

```
if (!myIsolatedStorage.FileExists("History.xml"))
                {
                    using (IsolatedStorageFileStream isoStream = new IsolatedStorageFileStream("History.xml", FileMode.Create, myIsolatedStorage))
                    {
                        XmlWriterSettings settings = new XmlWriterSettings();
                        settings.Indent = true;
                        using (XmlWriter writer = XmlWriter.Create(isoStream, settings))
                        {
                            writer.WriteStartElement("History", "");
                            writer.WriteStartElement("SmSHistory", "");

                            writer.WriteStartElement("RecipentName", "");
                            writer.WriteString(RecipentName);
                            writer.WriteEndElement();

                            writer.WriteStartElement("RecipentNumber", "");
                            writer.WriteString(RecipentNumber);
                            writer.WriteEndElement();

                            writer.WriteStartElement("TimeStamp", "");
                            writer.WriteString(TimeStamp);
                            writer.WriteEndElement();

                            writer.WriteStartElement("Message", "");
                            writer.WriteString(Message);
                            writer.WriteEndElement();

                            // Ends the document
                            writer.WriteEndDocument();

                            // Write the XML to the file.
                            writer.Flush();
                        }
                    }
                }

                else
                {
                    XDocument loadedData;
                    using (Stream stream = myIsolatedStorage.OpenFile("History.xml", FileMode.Open, FileAccess.ReadWrite))
                    {
                        // Load History.xml From Isolated Storage
                        loadedData = XDocument.Load(stream);

                        // Add SMS History Tags to XMLDocument
                        var RootNode = new XElement("SmSHistory");
                        var RecipentN = new XElement("RecipentName", RecipentName);
                        var RecipentNo = new XElement("RecipentNumber", RecipentNumber);
                        var Time = new XElement("TimeStamp", TimeStamp);
                        var MessageBody = new XElement("Message", Message);
                        RootNode.Add(RecipentN, RecipentNo, Time, MessageBody);

                        // Find Root Element And Descedents and Append New Node After That
                        var root = loadedData.Element("History");
                        var rows = root.Descendants("SmSHistory");
                        var lastRow = rows.Last();
                        lastRow.AddAfterSelf(RootNode);
                    }

                    // Save To History.xml File 
                    using (IsolatedStorageFileStream myStream = new IsolatedStorageFileStream("History.xml", FileMode.Create, myIsolatedStorage))
                    {
                        loadedData.Save(myStream);
                    }
                }
            } 
```

# c# - GetOriginal() 返回空值

> ID：10848872
> 
> 赞同：1
> 
> 时间：2012-06-01T10:49:17.343
> 
> 标签：c#, silverlight, entity-framework, wcf-ria-services

我在 Silverlight 应用程序中使用 EF + RIA 服务。我面临的问题是我试图在调用`SubmitChanges`操作之前将修改后的实体与其原始值进行比较。但由于某种原因[Entity.GetOriginal()](http://msdn.microsoft.com/en-us/library/system.servicemodel.domainservices.client.entity.getoriginal%28v=vs.91%29.aspx)即使对于具有 .GetOriginal() 的实体也会返回 null `EntityState == Modified`。

这是我正在使用的扩展方法：

```
 public static T GetOriginalEntity<T>(this T entity) where T : Entity
    {                        
        return (T)entity.GetOriginal();
    } 
```

***如何获得原始实体值？***

# eclipse - PHP 和客户端脚本的 Esclipse？

> ID：10848873
> 
> 赞同：0
> 
> 时间：2012-06-01T10:49:17.897
> 
> 标签：eclipse

我如何设置我的 Eclipse 来开发`php`和客户端脚本，就像多`javascripts` `html` `css`合一？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:25:58.343

You can try ZendStudio (which actually is Eclipse): [http://www.zend.com/en/products/studio/downloads](http://www.zend.com/en/products/studio/downloads)

Here is comparison with eclipse PDT:

[http://www.zend.com/en/products/studio/comparison](http://www.zend.com/en/products/studio/comparison)

# sql - 你如何在宇宙历史规模的数据库中存储日期时间？

> ID：10848878
> 
> 赞同：1
> 
> 时间：2012-06-01T10:49:32.463
> 
> 标签：sql, database, datetime, nosql

是否有一种标准方法可以将日期时间存储在数据库（PostgreSQL/MongoDB/Neo4j）中，可以处理直到宇宙年龄的毫秒级时间尺度？

时间的一些例子是：

*   137亿年前：宇宙的起源
*   光子时代：大爆炸后 10 秒到 380,000 年之间（即 137 亿年 - 10 秒前）
*   公元前8000年：最后一个冰河时代结束
*   公元前356年：亚历山大大帝诞生

是否有可能建立一个这种规模的实际时间表。上面的例子不一定准确。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T13:45:49.530

## 如果您需要准确存储过去和未来的时间

嗯，137 亿年大约是 432043200000000000000 毫秒。这个数字需要 69 位的存储空间，所以我想如果你想准确地存储时间，你正在寻找一个至少有 70 位（符号为 1）的整数类型。PostgreSQL 没有：你需要使用它`NUMERIC`。

## 如果您可以接受远古和远古时代的精度损失

由于无论如何都不知道宇宙的确切年龄，因此您可以只使用浮点数。双浮点，如果0代表现在，那么137亿年前的时间只能精确到20秒左右。

# jquery - 使用 jquery 调用外部 web 服务？

> ID：10848881
> 
> 赞同：1
> 
> 时间：2012-06-01T10:49:50.697
> 
> 标签：jquery, asp.net, wcf, wcf-binding, wcf-client

我开发了 asp.net WCF 服务。我已经将它托管在另一个系统中。现在我需要使用 JQUERY 函数将 WCF web 服务获取到我的系统。我的问题是我不知道如何调用托管在另一个系统中的 web 服务。如何调用来自jquery的外部网络服务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:54:59.543

您可以只使用`AJAX`jQuery 方法：

```
$.ajax({
  url: 'http://localhost:4305/Service/YourService',
  type: "GET",
  success: function(data) {
     alert('WCF service called');
  }
}); 
```

还有一篇关于 Code Project 的文章可以使用 WCF 实现这一点。

[http://www.codeproject.com/Articles/128478/Consuming-WCF-REST-Services-Using-jQuery-AJAX-Call](http://www.codeproject.com/Articles/128478/Consuming-WCF-REST-Services-Using-jQuery-AJAX-Call)

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:58:25.017

您的问题是关于跨域脚本吗？试试 JSONP。这将允许您调用托管在具有不同域的系统上的 Web 服务。

[jQuery AJAX 跨域](https://stackoverflow.com/questions/3506208/jquery-ajax-cross-domain)

# gnupg - 如何处理 Gnupg 错误：gpg: no default secret key: No secret key gpg: [stdin]: clearsign failed: No secret key？

> ID：10848883
> 
> 赞同：20
> 
> 时间：2012-06-01T10:49:57.000
> 
> 标签：gnupg

我收到一个错误：

```
gpg: no default secret key: No secret key
gpg: [stdin]: clearsign failed: No secret key 
```

GPG 可以使用我的密钥。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2021-09-06T20:49:53.420

如果`gpg --list-keys`什么都不返回，`gpg --generate-key`则问题解决。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2021-07-29T09:07:57.800

这个令人困惑的错误消息浪费了我几天的时间。我将我的 maven 项目部署到 maven Central，它一直在工作，但突然它在没有提示密码的情况下给出了这个消息。搜索了所有答案并没有解决我的问题。最终，我发现我的密钥已**过期**。

`gpg --list-keys`

所以我需要通过使用更改过期时间 `gpg --edit key`

并确保更新两个密钥。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-08-29T07:07:01.160

这可能是 gpg1 和 gpg2 之间的区别。密钥以不同的方式存储。你可能两者都有。

尝试

```
which gpg gpg2 
```

如果两者都有，请运行：

```
gpg2 --list-secret
gpg --list-secret 
```

您也许可以说一个有效，另一个无效。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-22T04:41:03.517

这是答案：我使用的是最新的 gnupg 版本，但我必须使用 0.44 gnupg 接口版本。我已经重新安装了gnupg。

然后没有发现编译错误。我可以在我的消息上签名。但无法发送请求。问题是我没有安装“Useragent”用来发送请求的 LWP::Protocol::Https 模块。（我知道我没有通过保留简单的打印语句来安装模块，这表明了问题LWP::Protocol::Https 未找到）。所以我通过 cpan 安装了 LWP::Protocol::Https 模块。我很高兴去。最后一切都准备好了:-)

# firefox - [Selenium]Firefox 二进制的任意错误

> ID：10848884
> 
> 赞同：1
> 
> 时间：2012-06-01T10:50:05.613
> 
> 标签：firefox, selenium, debian, xvfb

我每小时在我的 Debian 服务器上运行一些自动化的 Selenium 测试。

但是，随机，我有这个错误：

> 无法连接到端口 7071 上的二进制 FirefoxBinary(/usr/lib/iceweasel/firefox-bin)；

我使用 jar 文件运行 Selenium，并且我正在使用 Xvfb，因为我的服务器是无头的。

```
DISPLAY=:7 java -jar /selenium/SeleniumTest.jar 
```

我无法说出它为什么会发生（每 5 次运行大约 2 次）。

有人知道发生了什么吗？

编辑 ：

*   硒：硒Java 2.21.0
*   火狐：Mozilla Iceweasel 3.5.16
*   Debian：6.0.4

# ios - UIPopoverController 设置 popoverContentSize 大于 600 点

> ID：10848888
> 
> 赞同：0
> 
> 时间：2012-06-01T10:50:31.893
> 
> 标签：ios, ipad, user-interface, uiview, uipopovercontroller

我注意到在 Apple 的 UIPopOverControllers [文档][1] 中，他们声明弹出框的宽度（通过 popoverContentSize 设置）不得超过 600 磅宽。

当设置宽度大于 600 时它确实有效（我有一个案例，我希望弹出框是 iPad 的整个宽度）。

但是，我是否会冒着将我的应用设置为大于 600 分的风险被拒绝？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:57:23.163

最有可能的。任何时候你违反 UI 指南，你都有被拒绝的风险。例外情况是，如果您可以将其拉下来并表明更广泛的弹出框增强了用户体验，那么您也许可以提出上诉并解决问题。不过，机会并不好。

# ios - 获得 b2body Box2d 的 b2Fixture？

> ID：10848889
> 
> 赞同：1
> 
> 时间：2012-06-01T10:50:38.667
> 
> 标签：ios, cocos2d-iphone, box2d

我在以下方法的帮助下创建的 Box2D 示例应用程序中有大约 10 个主体。但是在我的 Update 方法中，我想获取身体的 b2FixtureDef，因为我需要 filter.groupIndex ，这对于每个身体都是不同的。我有如下更新方法，它遍历所有 b2Body 但无法真正找到如何从 b2Body 获取 b2FixtureDef？

```
-(void) addNewSprite:(NSString *)spriteName AtPosition:(CGPoint)p isDynamic:(BOOL)dynamic
{
    //CCNode *parent = [self getChildByTag:kTagParentNode];

PhysicsSprite *sprite = [PhysicsSprite spriteWithFile:spriteName];

[self addChild:sprite];

sprite.position = ccp( p.x, p.y);

sprite.tag = check;

// Define the dynamic body.
//Set up a 1m squared box in the physics world
b2BodyDef bodyDef;
bodyDef.type = b2_dynamicBody;  
bodyDef.position.Set(sprite.position.x/PTM_RATIO, sprite.position.y/PTM_RATIO);
bodyDef.userData = sprite;
b2Body *body = world->CreateBody(&bodyDef);

// Define another box shape for our dynamic body.
b2PolygonShape dynamicBox;
dynamicBox.SetAsBox((sprite.contentSize.width/PTM_RATIO/2)*(sprite.scaleX),
                    (sprite.contentSize.height/PTM_RATIO/2)*(sprite.scaleY));//These are mid points for our 1m box

// Define the dynamic body fixture.
b2FixtureDef fixtureDef;
fixtureDef.shape = &dynamicBox; 
fixtureDef.density = 1.0f;
fixtureDef.friction = 1.0f;
fixtureDef.userData = sprite;

switch (check)
{
    case 1:
        fixtureDef.filter.categoryBits = 0x0002;

        fixtureDef.filter.maskBits = 0x0004;
        break;
    case 2:
        fixtureDef.filter.categoryBits = 0x0004;

        fixtureDef.filter.maskBits = 0x0002;
        break;
}

body->CreateFixture(&fixtureDef);

[sprite setPhysicsBody:body];

check++;
}

-(void) update: (ccTime) dt
{
    //It is recommended that a fixed time step is used with Box2D for stability
    //of the simulation, however, we are using a variable time step here.
    //You need to make an informed choice, the following URL is useful
    //http://gafferongames.com/game-physics/fix-your-timestep/

int32 velocityIterations = 8;
int32 positionIterations = 1;

// Instruct the world to perform a single step of simulation. It is
// generally best to keep the time step and iterations fixed.
world->Step(dt, velocityIterations, positionIterations);    

for(b2Body *b = world->GetBodyList(); b; b=b->GetNext()) {    

    if (b->GetUserData() != NULL) 
    {

        //b2Fixture fixtureDef = *b->GetFixtureList();
        //b2Filter filter = fixtureDef.GetFilterData();

        // how to get b2FixtureDef from b

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T14:28:32.630

实际上，我无法想象您为什么需要在更新方法中获取此信息。您无法获取fixtureDef，因为它仅用于创建fixture。但是您可以使用 GetFilterData() 方法获取每个车身夹具的过滤器数据。它将包含类别位、掩码位和组索引。

# iphone - 滚动表格视图然后突然单击搜索栏会导致应用程序崩溃？

> ID：10848891
> 
> 赞同：0
> 
> 时间：2012-06-01T10:50:41.990
> 
> 标签：iphone, objective-c, ios

我已经在表格视图中实现了搜索栏和搜索文本。我遇到的问题是，当我滚动表格视图然后突然单击搜索栏会导致应用程序退出。

有任何想法，当点击搜索栏时，我们如何做任何事情来停止滚动。

我的代码如下：

```
 - (BOOL)searchBarShouldBeginEditing:(UISearchBar *)searchBar
{
 NSLog(@"becomes first responder");
 [table setScrollEnabled:NO];
 return YES;
}// return NO to not become first responder

- (void)searchBarTextDidBeginEditing:(UISearchBar *)searchBar
{
 isSearchOn=YES;
}

- (void)searchBarCancelButtonClicked:(UISearchBar *)searchBar
{
 searchBar.text=@"";
 isSearchOn=NO;
 [searchBar resignFirstResponder];
 [table setScrollEnabled:YES];
}

- (void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText
{
 if ([searchText length]>0) 
  isSearchOn=YES;
 else
  isSearchOn=NO;

 NSLog(@"search text %@",searchText);
 [self searchText:searchText];
 [table reloadData];
}

- (void)searchBarTextDidEndEditing:(UISearchBar *)searchBar
{
 NSLog(@"end editing called.....");
 searchBar.text=@"";
 [table setScrollEnabled:YES];
}

- (void)searchBarSearchButtonClicked:(UISearchBar *)searchBar
{
 [searchBar resignFirstResponder];
}

    -(void)searchText:(NSString*)str
{
 NSLog(@"search text");
 [resultArray removeAllObjects];

 if (segmentControl.selectedSegmentIndex==0) {
  for (NSDictionary *CellDix in FriendSuggestion) 
  {
   NSRange titleResultRange =  [[CellDix valueForKey:@"itemid.item"] rangeOfString:str options: (NSCaseInsensitiveSearch | NSLiteralSearch)];

   NSRange titleRangePopular=[[CellDix valueForKey:@"usagecategoryid.usagecategory"] rangeOfString:str options:(NSCaseInsensitiveSearch | NSLiteralSearch)];

   if (titleResultRange.length > 0 || titleRangePopular.length>0)
    [resultArray addObject:CellDix];
  }
 }else
 {
  for (NSDictionary *CellDix in popularSuggestion) 
  {
   NSRange titleResultRange =  [[CellDix valueForKey:@"itemid.item"] rangeOfString:str options: (NSCaseInsensitiveSearch | NSLiteralSearch)];

   NSRange titleRangePopular=[[CellDix valueForKey:@"usagecategoryid.usagecategory"] rangeOfString:str options:(NSCaseInsensitiveSearch | NSLiteralSearch)];

   if (titleResultRange.length > 0 || titleRangePopular.length>0)
    [resultArray addObject:CellDix];
  }
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:05:06.300

单击搜索栏将在 isSearch bool 变量上，因为 U 将在 cellforRowAtIndexpath 中应用条件将调用并检查 isSearch 然后它相应地工作并且结果数组将在那里为空，因为 U 没有在搜索栏上写任何东西检查并使用 values 加载和 resultArray。这就是它退出应用程序的原因，因为它在 cellforRowAtIndexpath 中创建了空数组来填充单元格值。所以更好的是你必须在搜索栏中的 textDidChange 上而不是在 searchBarTextDidBeginEditing 委托方法中使用 isSearch。所以评论这个方法。

```
 - (void)searchBarTextDidBeginEditing:(UISearchBar *)searchBar
    {
     isSearchOn=YES;
    } 
```

# c - cvAddWeighted 用于不同大小的图像

> ID：10848894
> 
> 赞同：0
> 
> 时间：2012-06-01T10:50:47.810
> 
> 标签：c, image-processing, opencv, computer-vision

我正在尝试将 CvAddWeighted 用于不同大小的图像。我知道我可以裁剪较大图像的大小以匹配较小的图像，但我不想。有没有其他技术，我可以使用不同大小的 cvAddWeighted图片 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:06:55.767

这完全取决于您的不同图像之间的关系。假设较小的图像是最大图像的子集，您可以将较小的图像复制到最大尺寸的空图像中，然后在所有生成的大图像上使用 cvAddWhatever。当然，这意味着您事先知道图像的最大尺寸（或者您可以以某种方式存储它们）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:51:54.130

您应该在图像上设置 ROI。

# iphone - 本机 iOS 应用程序中的 HTML 5

> ID：10848895
> 
> 赞同：-2
> 
> 时间：2012-06-01T10:50:52.660
> 
> 标签：iphone, ios, html, native, linkedin

LinkedIn 将 HTML 5 用于他们的 iOS 通用应用程序。我已经构建了一些 iPhone 应用程序，但使用的是 Objective-C。我还想构建一个使用 HTML 5 的本机应用程序。有什么好的资源可以从头开始学习吗？

他们是否在需要在应用程序中嵌入 HTML 5 时使用 UIWebView？请帮忙

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-01T11:25:21.033

Try out [Phonegap](http://phonegap.com/):

> honeGap is an HTML5 app platform that allows you to author native applications with web technologies and get access to APIs and app stores. PhoneGap leverages web technologies developers already know best... HTML and JavaScript.

and the easy [Tutorials](http://wiki.phonegap.com/w/page/35501397/Tutorials)

# iphone - MagicalRecord 在 importFromObject 上崩溃：

> ID：10848897
> 
> 赞同：3
> 
> 时间：2012-06-01T10:50:54.833
> 
> 标签：iphone, core-data, magicalrecord

如果运气好的话，我有点出局了。也许有人可以指出我正确的方向。我正在尝试使 MagicalRecord importFromObject 方法起作用。我所拥有的是：

*   iOS SDK 5.1
*   基本 XCode iPhone 项目设置（空应用程序，无核心数据，ARQ）
*   CoreData 框架手动添加到项目中
*   添加了带有一个实体的 coredata 数据模型
*   实体具有属性“标题”

Prefix.pch 包含以下内容：

```
#define MR_SHORTHAND
#import "CoreData+MagicalRecord.h" 
```

此代码崩溃：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

    [MagicalRecord setupCoreDataStack]; 
    [Product importFromObject:[NSDictionary dictionaryWithObject:@"test" forKey:@"title"]]; // Crashes here with EXC_BAD_ACCESS

    ....
} 
```

它在此方法中在 NSManagedObject+MagicalRecord.m 中崩溃：

```
+ (NSArray *) MR_executeFetchRequest:(NSFetchRequest *)request inContext:(NSManagedObjectContext *)context
{
    __block NSArray *results = nil;
    [context performBlockAndWait:^{    

        NSError *error = nil;    

        results = [context executeFetchRequest:request error:&error]; // Crashes here with EXC_BAD_ACCESS

        if (results == nil) 
        {
            [MagicalRecord handleErrors:error];
        }    

    }];
    return results; 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-13T16:14:21.970

您可能会遇到此类崩溃，因为您没有将属性“productID”（实体名称 + ID）（类型字符串）添加到模型中。

如果您不想添加 productID 属性，您也可以通过将键 relatedByAttribute（值：您的实体的主要属性）添加到您的实体用户信息来引用它。

# paypal - 在哪里可以找到 Paypal Express Checkout 的最新版本 + 最新文档？

> ID：10848898
> 
> 赞同：2
> 
> 时间：2012-06-01T10:50:55.603
> 
> 标签：paypal, express-checkout

我正在一个网站上实现 Paypal Express Checkout，但对于我是否使用最新的 API 版本和最新的文档有点怀疑。

[Paypal 网站上](https://cms.paypal.com/uk/cgi-bin/?cmd=_render-content&content_ID=developer/library_documentation#ec)的文档指向这些文件：

*   Express Checkout 集成指南：[PP_ExpressCheckout_IntegrationGuide.pdf](https://cms.paypal.com/cms_content/GB/en_GB/files/developer/PP_ExpressCheckout_IntegrationGuide.pdf)
*   名称-值对 API 开发人员指南：[PP_NVPAPI_DeveloperGuide.pdf](https://cms.paypal.com/cms_content/GB/en_GB/files/developer/PP_NVPAPI_DeveloperGuide.pdf)

我可以说他们并没有引用最新的 API 版本，因为他们使用的是[本页面](https://cms.paypal.com/uk/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_api_nvp_r_DoExpressCheckoutPayment)认为已弃用的字段 ( `AMT`, `PAYMENTACTION`, ...)

所以我的问题是：

1.  在哪里可以确保*始终*浏览**最新**的Express Checkout 文档？
2.  在哪里可以找到可用的**最新**版本号 ( `XX.0`)？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T20:51:32.247

1) X.com 包含最新的文档。请参阅[此页面](https://www.x.com/developers/paypal/documentation-tools)以获取列表。

2) [WSDL](http://www.paypalobjects.com/wsdl/PayPalSvc.wsdl)将是您获取最新版本的最佳来源。例如： ns:version="89.0" 就在顶部。

# selenium - 如何使用 Selenium WebDriver 截取部分截图（帧）？

> ID：10848900
> 
> 赞同：21
> 
> 时间：2012-06-01T10:51:00.463
> 
> 标签：selenium, webdriver

是否可以在框架集中仅使用一帧（不是完整窗口）的 WebDriver 截取屏幕截图？

或者，是否可以为屏幕截图定义窗口坐标或随后裁剪图像？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-06-01T12:03:23.370

这应该有效：

```
import java.awt.image.BufferedImage;
import java.io.File;

import javax.imageio.ImageIO;

import org.openqa.selenium.By;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.Point;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebDriver;

public class Shooter{

    private WebDriver driver;

    public void shootWebElement(WebElement element) throws IOException  {

        File screen = ((TakesScreenshot) this.driver).getScreenshotAs(OutputType.FILE);

        Point p = element.getLocation();

        int width = element.getSize().getWidth();
        int height = element.getSize().getHeight();

        BufferedImage img = ImageIO.read(screen);

        BufferedImage dest = img.getSubimage(p.getX(), p.getY(), width,   
                                 height);

        ImageIO.write(dest, "png", screen);

        File f = new File("S:\\ome\\where\\over\\the\\rainbow");

        FileUtils.copyFile(screen, f);

    }
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-10-06T21:27:49.770

Python 解决方案（依赖：PIL 或 Pillow）：

```
from PIL import Image
from selenium import webdriver

def element_screenshot(driver, element, filename):
    bounding_box = (
        element.location['x'], # left
        element.location['y'], # upper
        (element.location['x'] + element.size['width']), # right
        (element.location['y'] + element.size['height']) # bottom
    )
    return bounding_box_screenshot(driver, bounding_box, filename)

def bounding_box_screenshot(driver, bounding_box, filename):
    driver.save_screenshot(filename)
    base_image = Image.open(filename)
    cropped_image = base_image.crop(bounding_box)
    base_image = base_image.resize(cropped_image.size)
    base_image.paste(cropped_image, (0, 0))
    base_image.save(filename)
    return base_image

if __name__ == '__main__':
    driver = webdriver.Firefox()
    driver.get('https://www.google.com/?gws_rd=ssl')
    element = driver.find_element_by_id('body')

    screenshot = element_screenshot(driver, element, 'element.png') # Screenshot the '#body' element

    bounding_box = (100, 100, 600, 600)
    screenshot = bounding_box_screenshot(driver, bounding_box, 'box.png') # Screenshot the bounding box (100, 100, 600, 600) 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-09-19T11:40:46.933

## 红宝石解决方案

**设置**

安装 xvfb

```
apt-get install xvfb -y 
```

安装无头浏览器和图像处理 gem

```
gem install chunky_png
gem install headless
gem install selenium-webdriver 
```

安装chrome驱动

```
wget http://chromedriver.googlecode.com/files/chromedriver_linux64_<latest>.zip
apt-get install unzip
unzip chromedriver_linux64_<latest>.zip
cp chromedriver /usr/local/bin 
```

更多信息 [可以在这里找到](http://jumpstart.ge/en/blog/2013/01/programmatically-taking-screenshots-of-web-pages-with-long-javascript-render-times)

**代码**

```
#!/usr/bin/env ruby

require "headless"
require "selenium-webdriver"
require 'chunky_png'

headless = Headless.new
headless.start

site = "?_some_site_?"

driver = Selenium::WebDriver.for :chrome
driver.navigate.to site
sleep 1
driver.save_screenshot('screenshot.png')

el= driver.find_element(:xpath, '?_some_xpath_?')

image = ChunkyPNG::Image.from_file('screenshot.png')

image.crop!(el.location.x + 1, el.location.y + 1, el.size.width, el.size.height)
image.save('croped.png')

driver.quit
headless.destroy 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-09-06T14:12:51.417

只需发布一个**基于 C# 的解决方案，**在 selenium 中获取特定 Html 元素的屏幕截图：

首先，我们需要使用 Selenium Web 驱动程序的 GetScreenShot 方法截取整个网页的屏幕截图，如下所示。

```
Screenshot screenshot = ((ITakesScreenshot)this.driver).GetScreenshot(); 
screenshot.SaveAsFile(filename, System.Drawing.Imaging.ImageFormat.Jpeg); 
```

然后从指定 html 元素的位置、高度和宽度创建一个矩形。（这必须使用`FindElement()`selenium 的方法通过提供 id 或类名来获得）。

```
Image img = Bitmap.FromFile(uniqueName);
Rectangle rect = new Rectangle();

if (element != null)
{
    // Get the Width and Height of the WebElement using
    int width = element.Size.Width;
    int height = element.Size.Height;

    // Get the Location of WebElement in a Point.
    // This will provide X & Y co-ordinates of the WebElement
    Point p = element.Location;

    // Create a rectangle using Width, Height and element location
    rect = new Rectangle(p.X, p.Y, width, height);
} 
```

使用这个我们将裁剪截图如下，结果将是截图特定的网络元素。

```
Bitmap bmpImage = new Bitmap(img);
var cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat); 
```

完整代码作为以下方法：

```
/// <summary>
/// Captures the element screen shot.
/// </summary>
/// <param name="element">The element.</param>
/// <param name="uniqueName">Name of the unique.</param>
/// <returns>returns the screenshot  image </returns>
public Image CaptureElementScreenShot(HTMLElement element, string uniqueName)
{
    Screenshot screenshot = ((ITakesScreenshot)this.driver).GetScreenshot();
    screenshot.SaveAsFile(filename, System.Drawing.Imaging.ImageFormat.Jpeg);

    Image img = Bitmap.FromFile(uniqueName);
    Rectangle rect = new Rectangle();

    if (element != null)
    {
        // Get the Width and Height of the WebElement using
        int width = element.Size.Width;
        int height = element.Size.Height;

        // Get the Location of WebElement in a Point.
        // This will provide X & Y co-ordinates of the WebElement
        Point p = element.Location;

        // Create a rectangle using Width, Height and element location
        rect = new Rectangle(p.X, p.Y, width, height);
    }

    // croping the image based on rect.
    Bitmap bmpImage = new Bitmap(img);
    var cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat);

    return cropedImag;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-12-01T21:15:35.720

斯卡拉解决方案：

```
import javax.imageio.ImageIO
import java.awt.image.BufferedImage

// phone is a case class with witdth and height Int fields

def producer {       
 [..]
 processScreenshot(driver.getScreenshotAs(OutputType.FILE), ph)
}

def processScreenshot(file: File, phone: Phone) = {
 val img: BufferedImage = ImageIO.read(file)
 val w = math.min(img.getWidth, phone.width)
 val h = math.min(img.getHeight, phone.height)
 val dest = img.getSubimage(0, 0, w, h)
 ImageIO.write(dest, "png", new File(s"/tmp/${un}_${phone.file}.png"))
} 
```

# java - 它们真的是虚拟代码吗？

> ID：10848901
> 
> 赞同：5
> 
> 时间：2012-06-01T10:51:03.757
> 
> 标签：java, c++, c, keycode

*与 C++/C 相比，某些键（如shift、[、]、Del 等）*的虚拟键代码在 java 中显示为不同的值。例如 ：

```
Key     Java       C / C++
Shift   16         160
[       91         219
]       93         221
\       92         220
Del     127        46
Window  524        91 
```

**这是什么原因？**这些代码是虚拟代码还是它们是不同的类型？对于包括字母、数字、功能键（F1-F12）、退格、`等的键是相同的。

*我可能误解了一个概念，在这种情况下请澄清。*

*在 C/C++ 中检查*

```
KBDLLHOOKSTRUCT * kbhook = (KBDLLHOOKSTRUCT *) lParam;
printf("%u\n",kbhook->vkCode); 
```

*在 Java 中检查*

```
private void jTextField1KeyPressed(java.awt.event.KeyEvent evt) {                                       
    int code = evt.getKeyCode();
    // code isEqualTo KeyEvent.VK_DELETE : NOTE

} 
```

参考：[KeyEvent 类](http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/event/KeyEvent.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T11:27:46.027

Virtual Key Codes are extremely virtual, I should say.

You won't get away without some code like JavaKeyToWin32Key, Win32KeyToJava and so on for each platform you're trying to interoperate with.

I believe all of these keycodes are mostly historical. Some come from hardware design decisions (take a look at Apple's "modern" key codes where the 0 code is 'A', 1 is 'S', 2 is 'D' and so on - should I continue or you get the "pattern" which follows from the keyboard layout ?).

"Why there are no standard ?"

It's business and nothing personal. Thirty-forty years ago everyone where developing their own hardware from scratch, twenty five years ago everybody were trying to make the best CPU, 15 years ago it has all began with the "platforms", where everything was once again redefined, but also should maintain compatibility with existing solutions (by the same company, of course).

Java is a standard, but not for everyone. It is already an abstraction above all the OSes with its own set of keycodes. So "VK_" is a legacy of Microsoft, Java key codes might be influenced by the Sun Solaris OS, but I'm not sure.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T10:59:43.867

[虚拟键码](http://msdn.microsoft.com/en-us/library/windows/desktop/dd375731%28v=vs.85%29.aspx)是典型键盘上某些键的特定于 MS 的表示。因此*虚拟*修饰符。请注意，您为 Java 指定的值表示使用[ASCII](http://en.wikipedia.org/wiki/ASCII)编码时这些键的值。它们构成[较低 ASCII](http://www.tntbasic.com/learn/help/guides/asciicodesexplained.htm)编码的一部分。如果 OTOH，您使用了标准 C 函数，例如，`getchar`如果您使用 ASCII 编码，您将获得与 Java 中相同的值。但是，您可以有一个特殊的（想想非 ASCII/非 Unicode）编码，其中这些字符将被分配不同的整数。

特别是 ASCII 集经过精心设计，考虑到某些经常使用的操作（例如小写到大写）等可以优化。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T11:03:09.083

MSDN 库关于[使用虚拟键代码的](http://msdn.microsoft.com/en-us/library/ms927175.aspx)说明：*“键盘上的每个键在按下和释放键时都会生成一个扫描码。扫描码是一个与硬件相关的数字，用于识别该键。键盘驱动程序会翻译或映射每次扫描代码转换为虚拟键代码。虚拟键代码是一个独立于硬件的数字，用于标识键。由于键盘布局因语言而异，Windows CE 仅提供所有虚拟键代码的核心集键盘。这个核心集包括英文字符、数字和一些关键键，例如功能键和箭头键”*。

这是一组[虚拟键代码](http://msdn.microsoft.com/en-us/library/ms927178.aspx)- 这些是您从[KBDLLHOOKSTRUCT](http://msdn.microsoft.com/en-us/library/ms644967%28v=vs.85%29.aspx)`vkCode`成员检索的值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T11:27:03.210

yes,in both the cases they are the virtual codes.

# java - 将具有相同元素和属性名称的 XML 映射到 Java 对象

> ID：10848904
> 
> 赞同：1
> 
> 时间：2012-06-01T10:51:10.730
> 
> 标签：java, xml, parsing, jaxb, mapping

我已经搜索过这个特定的问题，我找到的最接近的线程是这个：[Java/JAXB: Unmarshall XML elements with same name but different attribute values to different class members](https://stackoverflow.com/questions/5078479/java-jaxb-unmarshall-xml-elements-with-same-name-but-different-attribute-values)但它仍然不是我所需要的，所以我希望有人能提供帮助我用这个。

我正在 Zimbra Collaboration Suite 7 服务器上执行 SOAP 请求以获取联系人。响应是这样的：

```
<cn fileAsStr="Arthur, Spooner" f="" id="280" rev="1973" d="1338524233000" t="" md="1338524233" ms="1973" l="7"><meta/><a n="homePostalCode">93849</a><a n="lastName">Spooner</a><a n="birthday">1980-05-24</a><a n="homeStreet">Berkleystreet 99</a><a n="firstName">Arthur</a></cn> 
```

我想将其映射到 Java 对象，如下所示：

```
public class Contact {
Integer id;
Integer rev;
String namePrefix;
String firstName;
String middleName;
String lastName;
String jobTitle;
ArrayList<Adress> adresses;
Date birthday;
String department;
Integer mobilePhone;
String email;
String company;
String notes;
    ... 
```

我通常使用 JAXB 执行此操作，但由于所有元素都称为 a 和所有属性 n，我不知道如何映射它。我真的很感激代码片段或任何帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:11:56.407

你可以尝试做这样的事情：

```
@XmlAccessorType(XmlAccessType.FIELD)
public class ContactAttribute {

    @XmlAttribute(name="n")
    private String attribute;

    @XmlValue
    private String value;

}

@XmlRootElement(name = "cn")
@XmlAccessorType(XmlAccessType.FIELD)
public class Contact {

    @XmlAttribute
    Integer id;

    @XmlAttribute
    Integer rev;

    //...

    @XmlElements(@XmlElement(name = "a"))
    List<ContactAttribute> attributes;
    //...

} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-01T11:20:04.467

使用[Castor Mapping](http://www.castor.org/how-to-map-a-hashtable.html) 它将帮助您 Marshall 和 Unmarshall 数据。

# asp.net - Global.asax Application_Start 在 bin 文件夹更新时运行？

> ID：10848906
> 
> 赞同：0
> 
> 时间：2012-06-01T10:51:14.080
> 
> 标签：asp.net, global-asax, bin, application-start

我的问题很简单.. 如果我有一个应用程序.. 我启动它怎么办要重建并再次点击 Application_Start 的应用程序？（该程序集不会引用其他程序集，反之亦然）

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T10:55:07.140

嗯......对不起，认为它更难测试然后......无论如何......答案是肯定的，它确实会再次触发 AppLication_Start

# objective-c - uisearchbar 背景颜色

> ID：10848908
> 
> 赞同：1
> 
> 时间：2012-06-01T10:51:20.703
> 
> 标签：objective-c, xcode4

我试图为搜索栏的背景着色，但是当我推送搜索时它不起作用..

```
- (void)searchBarSearchButtonClicked:(UISearchBar *)searchBar
{
searchBar.backgroundColor = [UIColor redColor];

} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-01T11:00:40.750

你想改变搜索栏的背景还是搜索栏的色调？像这样-> ![在此处输入图像描述](../Images/988097799d8aa959c227a16167fd5e8b.png)

如果是，则使用这行代码

```
 searchBar.tintColor = [UIColor blackColor]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T11:00:56.643

```
change tintColor of searchBar

searchBar.tintColor = [UIColor redColor]; 
```

# c# - Gridview 中的 IndexOutOfRange/ System.FormatException

> ID：10848910
> 
> 赞同：0
> 
> 时间：2012-06-01T10:51:26.680
> 
> 标签：c#, asp.net

我的代码隐藏页面中有一个带有复选框的网格视图。功能是我需要使用复选框选择要删除的记录，然后单击删除按钮。我使用下面的代码来做到这一点。但是当我选择最后一行时，它不会被删除。相反，它会抛出 IndexOutOfRange/ System.FormatException ..

在这一行抛出错误

```
 CheckBox chkb = (CheckBox)gvAll.Rows[i].Cells[0].FindControl("chk");

       for (int i = 0; i < count; i++)
         {
             CheckBox chkb = (CheckBox)gvAll.Rows[i].Cells[0].FindControl("chk");
             if (chkb.Checked == true)
             {
                 string name = gvAll.Rows[i].Cells[3].Text;
                 if (!(name.Equals(System.DBNull.Value)))
                 {
                     a.delete(name);
                 }
             }
         } 
```

这是一个紧迫的问题。请帮忙..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:01:49.670

一个foreach怎么样？

```
 foreach(GridViewRow row in gvAll.Rows)
     { 
         CheckBox chkb = (CheckBox)row.Cells[0].FindControl("chk"); 
         if (chkb.Checked == true) 
         { 
             string name = row.Cells[3].Text; 
             if (!(name.Equals(System.DBNull.Value))) 
             { 
                 a.delete(name); 
             } 
         } 
     } 
```

# actionscript-3 - Actionscript 3.0，使用 FlashDevelop：局部变量。它们会被无限地错误地创建吗？

> ID：10848911
> 
> 赞同：0
> 
> 时间：2012-06-01T10:51:28.310
> 
> 标签：actionscript-3, flashdevelop, local-variables

给我一个谜语：我有我的`MouseEvent.MOUSE_DOWN`哪个电话`mouseHandler`。后者看起来像这样：

```
public function mouseHandler(evt:MouseEvent):void
{

    var p:Point = new Point(mouseX, mouseY);

    var objs:Array = new Array(getObjectsUnderPoint(p));

} 
```

现在我想知道的是：是否每次都会覆盖 objs 数组和 p 点，只是导致先前的 objs 数组和 p 点被擦除并生成一个新的，或者......它是否只是创建一个新数组并一遍又一遍地指出？当然，如果我 trace(objs) 它给了我预期的结果，但是我是否在没有意识到的情况下在后台阻塞了系统？您的专业知识将不胜感激。

编辑：在从回答者那里学到了很多东西之后-谢谢顺便说一句-这让我想到了别的东西，然后快速搜索，找到了一种理论上可靠地删除参考的方法：

```
var a = null; 
```

现在我明白这可能不是必需的，因为它们将在函数结束时被 GC，但考虑到编写需要两个滴答声，比抱歉更安全，不是吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:10:46.430

由于 p 是一个对象，而不是原语，它的内存分配将来自堆（因此需要被垃圾收集）而不是像本地原语那样的堆栈（并且在函数结束后被擦除。

所以每次调用这个函数时都会分配新的内存，这将暂时增加内存使用量，直到它们被 GC'd，但数量可能微不足道（假设数组不是很大！）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:57:11.760

据我了解，它的工作原理是这样的 - 这些变量的引用将在函数结束后丢失。这些值最终将被 GC'ed。

如果第二次调用该函数，会创建新的引用，并填充新的数据，但之前引用的值可能仍然存在于内存中，等待垃圾收集器，但这不一定会发生！如果它们附加了侦听器，Flash Player 将认为它们仍然有用，因此它们将存在于内存中，直到应用程序运行和侦听结束，甚至对事件做出反应——即使理论上您无法再访问它们。

编辑：在您的情况下，您正在创建两个将在函数结束时消失的引用。它们与事件侦听器无关，侦听器创建它们，但不附加到它们，因此它不会阻止 GC 在函数结束后收集它们。您创建了一个引用数组，但这只是对在其他地方引用值的其他对象的引用（如显示列表），如果在此函数之外的任何地方都没有单独引用该数组，则它应该被 GCted。

# boost - xcode 4.3.2 和 boost.framework 导致 CPU 使用率 > 100%

> ID：10848916
> 
> 赞同：1
> 
> 时间：2012-06-01T10:51:40.417
> 
> 标签：boost, xcode4, frameworks, cpu-usage, code-completion

我面临一个问题。由于我为我的项目添加了提升，因此 CPU 使用率始终处于最大值。它是核心 i7 和 8GB RAM。代码完成和其他索引内容不起作用。唯一有帮助的想法是重新启动 Xcode。但是在拍摄时间之后，CPU 再次达到最大值，风扇统计数据就像龙卷风一样。

我按照以下说明制作了 boost 框架“boost.framework”： [http ://www.danielsefton.com/2012/03/building-boost-1-49-with-clang-ios-5-1-and-xcode -4-3/](http://www.danielsefton.com/2012/03/building-boost-1-49-with-clang-ios-5-1-and-xcode-4-3/)

我感谢每一个建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T12:53:35.853

我的 MacBookPro（最大 CPU 使用率，类似龙卷风的风扇）遇到了类似（如果不是非常相同）的问题。就我而言，事实证明温度传感器无法正常工作。

# python - 使用 python re 模块从页面获取视图状态的正则表达式

> ID：10848921
> 
> 赞同：0
> 
> 时间：2012-06-01T10:52:09.073
> 
> 标签：python, regex

我有一个这样的字符串：

> |0|hiddenField|_ *EVENTTARGET||0|hidden|* _EVENTARGUMENT||0|hiddenField|_ *LASTFOCUS||3848|hiddenField|*_VIEWSTATE|s+waYnNoWvsZV2X3xG1WKKtdIXQAqyoTV2oVgE/oyaJDgtLOoHSohEYPdTK7NsrM64VCXtyQQ23FOfUzWFNso8FQlu2JSomP7JGAoxpg2RzFfOWjOMaDDo/iKpjDiAjVMUYHdPvKSzTXpsPmqg49y4yEMfViFOowPSoTrojZAIWfAH0DvqvBHOFDozoDfk283k+O5JEXiyJKHXQ6p0IjFZOjr+tIckyRPPH8vJkCo7xntoQ+ZV8KlzrBfJnRthm1XOkkxX73DTW0mByIbATIAdVUwNWQ4lrapOaaxh5y7AjoxlcpyyG2rkezkKquaZyf0kZg5+Yd9HnUmXUY5VsEj2NYIyuppVoYuFQPeoRXbC/SQV6m9Gf++VYhm+sVo8sx8Dvoitelm3R617/zEi71VIrJlk51BH6DnWwaWoHH6gygSHslVwP+iFTao+LR5fekfjAf+BeTgBshc8BVGwslQxJ+YBmyttQxSddb8WyqEGHX2Wc6XqXCKSA8XEgad/42lPRknrLtCLM1b3sn7xWQxUUnb2pEDRc96C+tNUPAy3CZPS2Uq/aCsJqQTp9EssnMhKvfUJTplEbxd9xX2KfeTRa51cDZGzQbBk3L8steG83ehGm1hsU42hdx/3GICA1eKsDmFKpA0D2/NWpnG4rYWJK+MhzbnveqbX0Cak6VyEOLcmaD0dhYz9kOhOhc7h3ntWcbE40qbKhhKTE8Yq9voAqRGFT2AuGTThtbGfQ2GYoua8Oz8pPSgkGYsOcU6dI0vtoEdeH9rUC3a2vLLigVXeQ2bCbAFIkzrpHSfHsp9TLE1AoX3E57//23ZcwzDTJiPYottJGwxn3cnenh8xOdcoQM+7qkDiaD7CVUrvN9p8dmtQjtYHNbt7D8m/SZjvA/SmmAfIKMA==|0|hiddenField|

我需要从这个字符串中获取 __VIEWSTATE 的值：

> s+waYnNoWvsZV2X3xG1WKKtdIXQAqyoTV2oVgE/oyaJDgtLOoHSohEYPdTK7NsrM64VCXtyQQ23FOfUzWFNso8FQlu2JSomP7JGAoxpg2RzFfOWjOMaDDo/iKpjDiAjVMUYHdPvKSzTXpsPmqg49y4yEMfViFOowPSoTrojZAIWfAH0DvqvBHOFDozoDfk283k+O5JEXiyJKHXQ6p0IjFZOjr+tIckyRPPH8vJkCo7xntoQ+ZV8KlzrBfJnRthm1XOkkxX73DTW0mByIbATIAdVUwNWQ4lrapOaaxh5y7AjoxlcpyyG2rkezkKquaZyf0kZg5+Yd9HnUmXUY5VsEj2NYIyuppVoYuFQPeoRXbC/SQV6m9Gf++VYhm+sVo8sx8Dvoitelm3R617/zEi71VIrJlk51BH6DnWwaWoHH6gygSHslVwP+iFTao+LR5fekfjAf+BeTgBshc8BVGwslQxJ+YBmyttQxSddb8WyqEGHX2Wc6XqXCKSA8XEgad/42lPRknrLtCLM1b3sn7xWQxUUnb2pEDRc96C+tNUPAy3CZPS2Uq/aCsJqQTp9EssnMhKvfUJTplEbxd9xX2KfeTRa51cDZGzQbBk3L8steG83ehGm1hsU42hdx/3GICA1eKsDmFKpA0D2/NWpnG4rYWJK+MhzbnveqbX0Cak6VyEOLcmaD0dhYz9kOhOhc7h3ntWcbE40qbKhhKTE8Yq9voAqRGFT2AuGTThtbGfQ2GYoua8Oz8pPSgkGYsOcU6dI0vtoEdeH9rUC3a2vLLigVXeQ2bCbAFIkzrpHSfHsp9TLE1AoX3E57//23ZcwzDTJiPYottJGwxn3cnenh8xOdcoQM+7qkDiaD7CVUrvN9p8dmtQjtYHNbt7D8m/SZjvA/SmmAfIKMA==

我已经尝试了几种使用 re 模块的模式，但它们都不起作用。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:56:29.587

这有效：

```
_VIEWSTATE\|([^|]*) 
```

演示：[http ://rubular.com/r/JoFyUu5NsC](http://rubular.com/r/JoFyUu5NsC)

并加上**@dbaupp**：

```
(?:^|\|)_VIEWSTATE\|([^|]*) 
```

[http://rubular.com/r/HmnapACGEw](http://rubular.com/r/HmnapACGEw)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T11:03:18.410

这个正则表达式这样做

```
_VIEWSTATE\|([^|"]*) 
```

它将视图状态存储在第 1 组中。要使用的 Python 代码是

```
reobj = re.compile(r"_VIEWSTATE\|([^|"]*)")
match = reobj.search(subject)
if match:
    result = match.group(1)
else:
    result = "" 
```

阅读您的评论，我认为 " 的结束分隔符也是可能的，对吧？您可能正在处理 ASP.NET 视图状态。

# java - 肥皂 SSL 握手

> ID：10848924
> 
> 赞同：4
> 
> 时间：2012-06-01T10:52:34.690
> 
> 标签：java, security, soap, ssl

我的客户端通过 HTTP 成功地从服务器获得响应。

```
SOAPConnectionFactory sfc = SOAPConnectionFactory.newInstance();
SOAPConnection connection = sfc.createConnection();

SOAPMessage soapMessageResponse = connection.call(soapRequest, new URL(serviceLocation)); 
```

我想要客户端/服务器之间的 SSL 通信。

在另一个项目中，我成功地从`SSLSocketFactory`一个`KeyStore`和**SSL**握手创建。`TrustManagerFactory`

 **如何`SSLSocketFactory`在 webservice 客户端中使用代码使客户端**SSL**通信成功调用服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:06:43.290

我很确定它将使用默认的 SSLContext。您可以使用 SSLContext.setDefault() 更改它。

```
SSLContext c = SSLContext.getInstance("SSL");
TrustManagerFactory tmf = TrustManagerFactory.getInstance("PKIX");
tmf.init(yourKeystore);
TrustManager tm = tmf.getTrustManagers()[0];
tm.
c.init(null, tm, null); 
```

以下是上述字符串参数的一些[其他值。](http://docs.oracle.com/javase/6/docs/technotes/guides/security/StandardNames.html#TrustManagerFactory)

如果您需要更完整的控制，您可以实现自己的 SSLContext 子类，它返回您自己的 SSLSocketFactory 实现并将 SSLContext 设置为默认值：

```
public class MySSLContext extends SSLContext {

    private SSLContext wrapped;
    private SSLSocketFactory mySocketFactory;

    public MySSLContext(SSLContext toWrap, SSLSocketFactory mySocketFactory) {
        wrapped = toWrap;
        this.mySocketFactory = mySocketFactory;
    }

    public SSLSocketFactory getSocketFactory() {
        return mySocketFactory;
    }

    public SSLSessionContext getClientSessionContext() {
        return wrapped;
    }

    // other delegates

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-15T08:04:18.817

嗨，如果您将此代码添加到您的网络服务类中，我认为您的问题将得到解决。

```
 `

   //just put it your somewhere 
 public static class miTM implements javax.net.ssl.TrustManager,
    javax.net.ssl.X509TrustManager {
public java.security.cert.X509Certificate[] getAcceptedIssuers() {
    return null;
}

public boolean isServerTrusted(
        java.security.cert.X509Certificate[] certs) {
    return true;
}

public boolean isClientTrusted(
        java.security.cert.X509Certificate[] certs) {
    return true;
}

public void checkServerTrusted(
        java.security.cert.X509Certificate[] certs, String authType)
        throws java.security.cert.CertificateException {
    return;
}

public void checkClientTrusted(
        java.security.cert.X509Certificate[] certs, String authType)
        throws java.security.cert.CertificateException {
    return;
}
    }

 // CAll This function in your webservice class .
private static void trustAllHttpsCertificates() throws Exception {

// Create a trust manager that does not validate certificate chains:

javax.net.ssl.TrustManager[] trustAllCerts =

new javax.net.ssl.TrustManager[1];

javax.net.ssl.TrustManager tm = new miTM();

trustAllCerts[0] = tm;

javax.net.ssl.SSLContext sc =

javax.net.ssl.SSLContext.getInstance("SSL");

sc.init(null, trustAllCerts, null);

javax.net.ssl.HttpsURLConnection.setDefaultSSLSocketFactory(

sc.getSocketFactory());

    } 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-20T05:51:19.880

这行代码在 SSL 的情况下不起作用。

```
SOAPMessage soapMessageResponse = connection.call(soapRequest, new URL(serviceLocation)); 
```

[从这里](http://www.imrantariq.com/blog/?p=855)创建 trustmanager 和 keymanagers 。

为了从axis2 webservice通过SSL获得响应，您需要打开[此处给出的流](http://www.imrantariq.com/blog/?p=853)**

# php - Drupal如何在表单提交后重定向节点表单

> ID：10848942
> 
> 赞同：4
> 
> 时间：2012-06-01T10:53:42.157
> 
> 标签：php, drupal, drupal-7

在 Drupal 7 上，当我发布一个节点时，我重定向到创建的特定节点。

当我正确发布节点时，我正在搜索重定向到主管理页面。

我试图把它放在 template.php 上：

```
function node_submit($form, &$form_state) {
  $form_state['redirect'] = 'admin';
} 
```

但是提交时出错：

> 致命错误：无法在 /var/www/XXX/sites/all/themes/XXX/template.php 中重新声明 node_submit()（之前在 /var/www/XXX/modules/node/node.module:1004 中声明）在线xx

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T20:13:33.717

如果您要做的只是更改用户在提交添加节点表单后从特定链接重定向到的位置，那么有一种更简单的方法。

只需让您的链接看起来像这样：

```
/node/add/[CONTENT-TYPE]?destination=[URL-REDIRECT] 
```

这是我开始工作的一个例子：

```
/node/add/ic-competencies-toolkit-codes?destination=admin/survey-codes 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-11-26T09:45:30.937

这对我有用：

```
function mymodule_form_FORM_ID_alter(&$form, $form_state){
    $form['actions']['submit']['#submit'][] = 'mymodule_redirect_callback';
}

function mymodule_redirect_callback($form, &$form_state){
    $form_state['redirect'] = '_path_';
} 
```

需要注意的重要一点是：

```
$form['actions']['submit']['#submit'][] = 'some_function'; 
```

会工作，但是

```
$form['#submit'][] = 'some_function'; 
```

将不会

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-04T22:25:42.890

或者，如果您不想编写代码，请尝试使用规则模块：[http ://drupal.org/project/rules](http://drupal.org/project/rules)

添加新规则并将“对事件做出反应”设置为“保存新内容后”。

将操作设置为：“系统：页面重定向”并正确填写字段。

如果您希望将此规则放入代码中，可以将它们导出到模块中！

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-01T12:15:32.820

您可以使用[hook_form_alter](http://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_form_alter/7) () 来做到这一点。

```
function YOUR_MODULE_form_alter(&$form, &$form_state, $form_id)
{
  if ($form_id == "CONTENT_TYPE_node_form") {
    $form['#redirect'] = "node";
  }
} 
```

希望这有效。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-04-26T15:29:01.733

重定向评论表单或节点表单的最简单方法

```
case 'my_node_form':
        $form['#action'] .= '?destination=well-done';
      break; 
```

请注意“。” 在 $form['#action'] 之后

你需要追加而不是替换！

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-03-07T07:52:08.027

在 Drupal 7 中，这是正确的方法：

```
function mymodule_form_alter(&$form, &$form_state, $form_id) {
  if($form_id === 'myform_id'){
    $form['#submit'][] = '_mymodule_redirect_callback';
  }

function _mymodule_redirect_callback($form, &$form_state) {
  $form_state['redirect'] = 'http://www.google.ch';
} 
```

# jquery - jQuery：循环遍历 ASP.NET Web 服务的 JSON 结果

> ID：10848943
> 
> 赞同：0
> 
> 时间：2012-06-01T10:53:42.833
> 
> 标签：jquery, asp.net, json, web-services

我有一个返回 JSON 的 ASP.NET 网络服务。现在，我想使用 jQuery 调用这个 web 服务，然后循环查看结果。但是怎么做？

我现在有这个：

```
jQuery.support.cors = true;
$().ready(function () {
    $.ajax({
        type: "GET",
        url: "http://www.wunderwedding.com/weddingservice.svc/api/?t=1&cid=1&pid=6&lat=52&lng=5&d=10000&city=nijmegen&field1=0&field2=0&field3=0&field4=0&hasphoto=0&hasvideo=0&minrating=0&lang=nl",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            // Hide the fake progress indicator graphic.
            $('#mytest').removeClass('loading');
            alert(msg.d);
            // Insert the returned HTML into the <div>.
            $('#mytest').html(msg.d);
        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T11:05:05.403

假设您的 web 方法正在返回一组人员，因此在成功方法中您可以像这样循环遍历它：

```
$.each(msg.d.Persons, function(index, Value)
{
      firstName = msg.d.Persons[index].FirstName;
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-01T11:34:14.523

如果您的 Web 服务返回 JSON，那么最好解析它。

假设你的 json 是这样的：

```
{
    "Status": "ok",
    "Persons": [
        {
            "Name": "John"

        },
        {
            "Name": "Louis"
        }
    ]
}

 success: function (msg) {
        var obj = JSON.parse(msg);

        //get the status value:
        var status = obj.Status;

        //Loop through Persons array:
        var names = {};
        $.each(obj.Persons, function (index, Person) {
            names[index] = Person.Name;
        });

    } 
```

要使用 JSON.parse() 你可能需要这个：

[https://github.com/douglascrockford/JSON-js/blob/master/json2.js](https://github.com/douglascrockford/JSON-js/blob/master/json2.js)

# jquery - 垂直内容内的可拖动图像

> ID：10848955
> 
> 赞同：0
> 
> 时间：2012-06-01T10:55:16.250
> 
> 标签：jquery, draggable, jquery-ui-draggable

我正在尝试使用边界创建可拖动的图像效果。好吧，我有一个固定宽度但高度可变的图像。我有下一个代码：

```
<div class="image_holder">
   <div class="image_content"></div>
</div> 
```

好吧，“image_holder”将图像的可见区域设置为蒙版，其宽度=180px，高度=90px，溢出=隐藏属性设置。

当我将图像加载到“image_content”中时，通常高度较高但被遮盖并且仅可见“image_holder”区域。

问题是当我使用 jquery 可拖动函数时，它工作正常，但我需要设置边界。我使用下一个代码：

```
$("#draggable").draggable({axis: 'y', containment: [0, $('.image_holder').offset().top-excess, 180, $('.image_holder').offset().top+90+excess], cursor: "crosshair"}); 
```

“多余”是从以下计算得出的：

```
var excess = $('#draggable').height() - 90; 
```

我的问题是，如果图像离开可见区域，我无法正确划定用于拖动图像的包含区域。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T12:20:44.977

如果我理解正确；您可以通过监控拖动事件来实现这一点，如下所示：

```
$('img').draggable({
    axis: 'y',
    drag: function(event, ui) {
        var pos = ui.position;
        var $this = $(this);

        if((pos.top * -1) >= ($this.height() - $this.parent().height()))
        {
            return false;
        }

        if(pos.top > 0)
        {
            return false;
        }
    }
}); 
```

基本上，如果图像即将超出容器范围，则返回`false`

[拖动演示](http://jsfiddle.net/QLZzg/1/)

# android - 定期运行线程

> ID：10848960
> 
> 赞同：1
> 
> 时间：2012-06-01T10:55:41.583
> 
> 标签：android, multithreading, web-services

我有一个这样的可运行类：

```
public class GetUpdatesThread implements Runnable{

@Override
public void run() {
     //call a webservice and parse response

}

} 
```

例如，我希望每 10 秒触发一次...

我想知道如何在我的活动中管理处理程序或可运行对象或计时器以完成此操作？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T10:58:45.990

您可以使用[TimerTask](http://developer.android.com/reference/java/util/TimerTask.html)并可以像这样实现。

```
int delay = 5000; // delay for 5 sec.
int period = 10000; // repeat every 10 secs.

Timer timer = new Timer();

timer.scheduleAtFixedRate(new TimerTask() {

public void run() {

System.out.println("repeating");

}

}, delay, period); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T11:03:31.567

您可以使用此[链接](http://developer.android.com/reference/java/util/Timer.html#scheduleAtFixedRate%28java.util.TimerTask,%20long,%20long%29)中称为 scheduleAtFixedRate 的计时器方法。我已经在我的项目中使用它，它就像魅力一样。你只需要给它一个启动延迟时间和一个周期就可以了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T10:59:11.663

您可以使用 Handler 并调用[sendEmptyMessageDelayed](http://developer.android.com/reference/android/os/Handler.html#sendEmptyMessageDelayed%28int,%20long%29)方法。这是关于使用 Handler的一[两个](http://indyvision.net/2010/02/android-threads-tutorial-part-3/)[教程。](http://www.vogella.com/articles/AndroidPerformance/article.html#handler)还可以从官方文档中查看[从 Timer 更新 UI](http://developer.android.com/resources/articles/timed-ui-updates.html) - 它涵盖了 TimerTask 和 Handler 两种方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T11:05:47.820

做这件事的最好方法是使用 AlarmManager 类。

1) 使用 serRepeat 方法安排一个 AlarmManager。[警报管理器的链接](http://developer.android.com/reference/android/app/AlarmManager.html)

2）在Alarmmanager中设置广播接收器，它会在每个特定的时间段调用接收器，现在你可以从接收器开始你的线程。

如果您使用 Timer 任务和其他调度程序，Android 会在一段时间后杀死它们。

# f# - 获取列表，其中每个列表将包含来自另一个列表集合的 ax 位置的元素

> ID：10848963
> 
> 赞同：1
> 
> 时间：2012-06-01T10:55:58.200
> 
> 标签：f#

基本上有这个：

```
[
[1;2;3];
[4;5;7];
[8;9;0];
] 
```

我想得到这个（垂直阅读/旋转 90 度）：

```
[
[1;4;8];
[2;5;9];
[3;7;0];
] 
```

有人知道在 f# 中这样做的简单方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T11:23:04.583

我会通过转换为数组来做到这一点 -

```
let arr = input |> List.map (List.toArray) |> List.toArray //a array of arrays
let out = Array2D.create size1 size2 (fun x y -> arr.[y].[x]) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T11:55:22.483

您需要的称为**矩阵转置**。

### 动力单元

最简单的方法是使用[FSharp.PowerPack](http://fsharppowerpack.codeplex.com/)；`Microsoft.FSharp.Math.Matrix`模块有`Transpose`方法。

### 简单算法

如果您更喜欢自己的解决方案，这里有一个很好地结合了短代码和执行效率的解决方案：

```
let rec transpose = function
    | (_::_)::_ as M -> List.map List.head M :: transpose (List.map List.tail M)
    | _ -> []

// use
[[1; 2; 3]; [4; 5; 6]; [7; 8; 9]]
|> transpose
|> printfn "%A" 
```

### 就地矩阵转置

还有一种方法是[就地矩阵转置](http://en.wikipedia.org/wiki/In-place_matrix_transposition)。它的复杂度为 O(n)，但需要可变数据。

# google-checkout - Google Checkout 付款后更新数据库

> ID：10848966
> 
> 赞同：0
> 
> 时间：2012-06-01T10:56:23.317
> 
> 标签：google-checkout

我正在尝试在我的网站中实施 Google Checkout。[我有来自http://code.google.com/p/google-checkout-php-sample-code/](http://code.google.com/p/google-checkout-php-sample-code/)的名为“checkout-php-1.3.2”的 PHP 代码示例。

我已按照说明进行操作，并且能够成功将内容发送到 Google 购物车。问题是付款后我不知道如何更新我网站的数据库。我看了一下演示代码，有一个页面 responsehandlerdemo.php ，我可以看到很多通知案例，即

商户计算回调新订单通知订单状态更改通知收费金额通知

如果有人可以提供有关使用哪个回调以及如何解析 xml 的任何帮助。这将非常有帮助。

问候， 苏拉夫·穆克吉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T13:45:29.233

除了`merchant-calculation-callback`( [ref](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Merchant_Calculations_API) ) 之外，所有其他通知都对您的订单处理有意义（成功结账**后**必须做的所有事情*） 。*

 **例如

*   `new-order-notification`- 就是它所说的，代表新订单的数据
*   `order-state-change`- 订单进入[不同的状态（状态）](https://developers.google.com/checkout/developer/Google_Checkout_Basic_HTML_Order_States)，因此此通知会通知您它们

您应该阅读[开发人员文档](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Processing)，尤其是[**通知 API**](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Notification_API)以了解详细信息。

我不是 PHP 开发人员 (.Net)，但我已经看过示例代码，它已经包含了您收到的[XML 解析。](http://code.google.com/p/google-checkout-php-sample-code/source/browse/#svn%2Ftrunk%2Flibrary%2Fxml-processing)`notifications`一旦您了解了 API，您就会知道在流程中何时/何地需要*添加您的业务代码*（即数据库存储等）。**

# android - 手势检测器不工作

> ID：10848967
> 
> 赞同：2
> 
> 时间：2012-06-01T10:56:23.957
> 
> 标签：android, gesture

我正在开发我想要实现手势检测器的应用程序。当用户双击时，它应该显示下一个图像，当他单击时，它会显示描述......我的代码如下。 ……

```
public class FirstImage extends ImageView implements  OnTouchListener  {

    double pixel=0;
    MotionEvent event;
    TextView k;
    int rid;
     GestureDetector gd; 
    Bitmap image,bitmap;
    String huma ="Human";
    String info="human";
    String infoR = "Ribosome";
    String infom = "Mitochondria";
    String infoc="Cytoplasm";
     float x = 0; //init value 
     float y = 0; //init value
     Animation animationFadeIn;
    int t=0;
    int i=1;
    private GestureDetector gestureDetector= new GestureDetector((OnGestureListener) this);

    public FirstImage(Context context) { 
        super(context); 

        } 
    public FirstImage(Context context, AttributeSet attrs) { 
        super(context, attrs);

        } 

    public void changeImage(int id,int Image_slide){
                    if(Image_slide==1){
                        this.setImageResource(id);
                        final Animation animationslidein=AnimationUtils.loadAnimation(getContext(), R.anim.slidein);
                        this.startAnimation(animationslidein);
                        rid=id;

                        this.setOnTouchListener((OnTouchListener) gestureDetector);
                        Log.w("debug","which is null"+gestureDetector );

                    }else if(Image_slide==2){
                        this.setImageResource(id);

                    final Animation animationslideout=AnimationUtils.loadAnimation(getContext(), R.anim.slideout);
                    this.startAnimation(animationslideout);
                    rid=id;
                    this.setOnTouchListener((OnTouchListener) gestureDetector);
                    }else
                    {
                        this.setImageResource(id);
                        rid=id;
                        final Animation animationzoomin=AnimationUtils.loadAnimation(getContext(), R.anim.zoomin);
                        this.startAnimation(animationzoomin);
                        this.setOnTouchListener((OnTouchListener) gestureDetector); 
                    }

    }

private void doubletap(float x, float y) {
        // TODO Auto-generated method stub
        if((x==(this.getWidth()))&&(y==(this.getHeight()))){
            int Image_slide=0;
            if(rid==R.drawable.human)
                this.changeImage(R.drawable.hand, Image_slide);
        }
public boolean onTouch(View v, MotionEvent me) {
    return gestureDetector.onTouchEvent(me);

}
public class MyGestureDetector extends SimpleOnGestureListener {
    public boolean onDown(MotionEvent e) {
        // TODO Auto-generated method stub
        x=e.getX();
        y= e.getY();

        pageinfo(x,y);
        return true;
    }
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
            float velocityY) {
        // TODO Auto-generated method stub
        return false;
    }
    public void onLongPress(MotionEvent e) {
        // TODO Auto-generated method stub
        x=e.getX();
        y= e.getY();
        pageinfo(x,y);
    }
    public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX,
            float distanceY) {
        // TODO Auto-generated method stub
        return false;
    }
    public void onShowPress(MotionEvent e) {
        // TODO Auto-generated method stub
        x=e.getX();
        y= e.getY();
        pageinfo(x,y);
    }
    public boolean onSingleTapUp(MotionEvent e) {
        // TODO Auto-generated method stub
        x=e.getX();
        y= e.getY();
        pageinfo(x,y);
        return true;
    }
    public boolean onDoubleTap(MotionEvent e) {

        x=e.getX();
        y= e.getY();
        doubletap(x,y);
        return true;
    }
}
} 
```

任何人都可以帮助我我的代码中有什么问题......以及为什么它不起作用......}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:17:27.760

首先创建一个 GestureDetector 和一个监听器。然后将其绑定到扩展 GestureDetector.SimpleOnGestureListener 的类。

```
private GestureDetector detector;  
@Override  
public void onCreate(Bundle savedInstanceState) {  
  super.onCreate(savedInstanceState);  
  detector= new GestureDetector(this, new MyGesturesListener());  
} 
```

然后可以实现不同手势的方法：

```
class MyGesturesListener extends GestureDetector.SimpleOnGestureListener{  
  @Override  
  public boolean onSingleTapUp(MotionEvent ev) {  
    return true;  
  }  
  @Override  
  public void onShowPress(MotionEvent ev) {  
  }  
  @Override  
  public void onLongPress(MotionEvent ev) {  
  }  
  @Override  
  public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {  
    return true;  
  }  
  @Override  
  public boolean onDown(MotionEvent ev) {  
    return true;  
  }  
  @Override  
  public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {  
    return true;  
  }  
} 
```

# iphone - 批量发送消息到 APNS，如果其中一些有错误会发生什么？

> ID：10848970
> 
> 赞同：6
> 
> 时间：2012-06-01T10:56:32.737
> 
> 标签：iphone, ios, push-notification, apple-push-notifications

假设我有 3 个通知要发送 -`a`和`b`-`c`但是通知有问题`b`。让我们假设它是一个无效的令牌。如果我执行以下操作：

1.  创建缓冲区
2.  将 a、b 和 c 添加到缓冲区
3.  将缓冲区发送到 APNS 服务器

会发消息`c`吗？

苹果文档说：

> 如果您发送通知并且 APNs 发现通知格式错误或无法理解，它会在断开连接之前返回错误响应数据包。

这是否意味着我会收到一个错误`b`并且连接将被丢弃，因此`c`永远不会被发送？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T20:59:33.403

`c`永远不会发送消息。如果您设法收到 message 的错误响应`b`，则必须在发送之后`b`和收到响应之前重新发送您发送的所有消息。

你可以在这里阅读一篇关于它的好文章：[APNS 的问题](http://redth.info/the-problem-with-apples-push-notification-ser/)

# windows-phone-7 - Visual Studio 2012 RC 中的 Windows Phone 开发

> ID：10848971
> 
> 赞同：19
> 
> 时间：2012-06-01T10:56:34.300
> 
> 标签：windows-phone-7, windows-8, visual-studio-2012

今天微软发布了Windows 8 Release Preview 和visual studio 2012 rc。我是一名 Windows 手机开发人员。我必须使用什么开发工具在 Windows 8 rp 中创建我的应用程序？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-14T16:36:22.517

在 Microsoft Visual Studio 2012 express 下载页面中，它被提及为

“**适用于 Windows Phone 的 Visual Studio 2012 Express 产品将与下一个 Windows Phone 版本一起提供。在此之前，您可以继续使用适用于 Windows Phone 的 Visual Studio 2010 Express 来创建 Windows Phone 应用程序。”**

[http://www.microsoft.com/visualstudio/11/en-us/products/express](http://www.microsoft.com/visualstudio/11/en-us/products/express)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-09T00:31:04.603

Windows Phone 8 SDK 现已推出，适合仍在阅读本文的用户。它还包括 7.1 和 7.1.1，并且都在 Visual Studio 2012 中运行。您可以在此处获取：

[https://dev.windowsphone.com/en-us/downloadsdk](https://dev.windowsphone.com/en-us/downloadsdk)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-18T07:02:34.190

对于 Windows 8，请安装 VS2010、Windows Phone SDK，并且不要忘记修复 Windows 8 问题的 7.1.1 SDK 更新。

# sql - 性能差异：条件置于 INNER JOIN 与 WHERE 子句

> ID：10848975
> 
> 赞同：38
> 
> 时间：2012-06-01T10:56:42.410
> 
> 标签：sql, performance, postgresql, query-optimization

说我有一张`order`桌子

```
id | clientid | type | amount | itemid | date
---|----------|------|--------|--------|-----------
23 | 258      | B    | 150    | 14     | 2012-04-03
24 | 258      | S    | 69     | 14     | 2012-04-03
25 | 301      | S    | 10     | 20     | 2012-04-03
26 | 327      | B    | 54     | 156    | 2012-04-04 
```

*   `clientid`是返回`client`表的外键
*   `itemid`是返回`item`表的外键
*   `type`只是`B`或`S`
*   `amount`是一个整数

`processed`和一张桌子

```
id | orderid | processed | date
---|---------|-----------|---------
41 | 23      | true      | 2012-04-03
42 | 24      | true      | 2012-04-03
43 | 25      | false     | <NULL>
44 | 26      | true      | 2012-04-05 
```

我需要从中获取所有相同的行，它们`order`具有相反的值。请记住，只能有两个值之一 -或。在上面的示例中，这将是 rows和。`clientid``date``type``type``B``S``23``24`

另一个约束是 in 中的对应行`processed`必须`true`是`orderid`.

到目前为止我的查询

```
SELECT c1.clientid,
       c1.date,
       c1.type,
       c1.itemid,
       c1.amount,
       c2.date,
       c2.type,
       c2.itemid,
       c2.amount

FROM   order c1
INNER JOIN order c2 ON c1.itemid    =  c2.itemid AND
                       c1.date      =  c2.date   AND
                       c1.clientid  =  c2.clientid AND
                       c1.type     <>  c2.type AND
                       c1.id        <  c2.id

INNER JOIN processed p1 ON p1.orderid   =  c1.id AND
                         p1.processed =  true
INNER JOIN processed p2 ON p2.orderid   =  c2.id AND
                         p2.processed =  true 
```

**问题：**将`processed = true`as 作为连接子句的一部分会减慢查询速度。如果我将其移至 WHERE 子句，则性能会好得多。这激起了我的兴趣，***我想知道为什么***。

主键和相应的外键列被索引，而值列（`value`等`processed`）没有。

*免责声明：我继承了这个数据库结构，性能差异大约是 6 秒。*

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-01T12:25:24.643

您看到差异的原因是由于计划者正在组合的执行计划，这显然取决于查询（可以说，它应该将 2 个查询优化为相同，这可能是一个错误）。这意味着计划者认为它必须以特定方式工作才能获得每个语句中的结果。

当您在 JOIN 中执行此操作时，规划器可能必须从表中进行选择，按“True”部分过滤，然后加入结果集。我想这是一个大表，因此需要查看大量数据，并且它不能有效地使用索引。

我怀疑如果您在 WHERE 子句中执行此操作，则规划器正在选择更有效的路线（即基于索引或预过滤数据集）。

您可以通过在两列上添加索引（不确定 Postgres 是否支持包含列和多列索引）来使连接工作尽可能快（如果不是更快）。

简而言之，规划器的问题在于它选择 2 条不同的路线来获得结果集，其中一条路线的效率不如另一条路线。如果没有完整的表信息和 EXPLAIN ANALYZE 信息，我们是不可能知道原因的。

如果您想详细了解您的特定查询为何这样做，则需要提供更多信息。然而，原因是规划者选择了不同的路线。

**附加阅读材料：**

[http://www.postgresql.org/docs/current/static/explicit-joins.html](http://www.postgresql.org/docs/current/static/explicit-joins.html)

刚刚略读，似乎 postgres 计划程序不会重新排序连接以优化它。尝试更改语句中连接的顺序，看看您是否获得相同的性能......只是一个想法。

# php - 数据库和按用户偏好排序值

> ID：10848977
> 
> 赞同：1
> 
> 时间：2012-06-01T10:56:49.767
> 
> 标签：php, mysql, sql-order-by

假设我有一个这样的简单表：

```
unique ID | url | order 
```

`unique ID`像往常一样自动给出，`url`是必须提交的东西。但是我怎样才能安排有序？

我希望用户能够`url`按照他想要的顺序排列这些 s。

我怎样才能做到这一点？最后插入的项目始终具有最后一个订单号，如果我将订单号为 5 的项目移动到 1，则所有项目的订单号都会更改。我想在 JavaScript 中通过某种拖放来实现它，但现在这并不重要。

我遇到的问题是 PHP 方面。更改有序数字。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:12:16.187

你可以有一个下拉菜单或其他东西来决定显示数据的顺序是升序还是降序。然后在您的 SQL 查询中以`ORDER BY url DESC`or结束`ORDER BY url ASC`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T11:13:12.823

你可以很容易地在 jquery UI 中使用 sortable 来实现它，它会按顺序为你提供一个 id 数组，从那里它只是一个 $.post 到你的 php 页面的例子，它只是迭代数组（因此你知道顺序value) 更新行并设置新的订单值。

您在 jquery 中的停止函数看起来像：

```
stop: function(event, ui) {
        var ids = [];
        ui.item.parent().children().each(function(n, element) {
            ids[ids.length] = element.id;
        });

        $.post("/somelocation", {
            orderedids: ids.toString()
        } );
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T11:19:32.093

我正是这样做的，而且效果很好。我对这样的界面使用 jQuery UI Sortable：

js：

```
$(document).ready(function(){ 

    function renumberSortables(){
        // Re-number the ordering i the list.

        $("ul.sortable").each(function(){
            $(this)
                .find("li")
                    .each(function(index){
                        $(this).find("input.ordering").val(index);
                    });
        });
    }

    $("ul.sortable").sortable({       
        opacity: 0.8,
        stop: renumberSortables
    }); 
} 
```

html/php:

```
<ul class="sortable">
    <?php foreach($sortables as $index => $sortable){ ?>
        <li>
            <input class="ordering" type="hidden" name="sortable[<?= $index ?>][ordering]" value="<?= $sortable.ordering ?>">

            (Your stuff here…)

        </li>
    <?php } ?>
</ul> 
```

# android - 卸载应用程序时删除接近警报

> ID：10848979
> 
> 赞同：2
> 
> 时间：2012-06-01T10:57:06.163
> 
> 标签：android, gps, alert, proximity

我对 Android 上的接近警报有疑问。

这是我在我的应用程序中所做的

1.  从服务器获取位置列表。
2.  添加这些位置的接近警报（现在 GPS 图标显示在状态栏中）。
3.  当用户进入该区域时，启动我的应用活动。

问题是，当我卸载添加了接近警报的应用程序时，它仍然在状态栏中显示 GPS 图标。用户可以关闭应用程序中的所有接近警报，但这并不能解决我的问题。我现在也知道在卸载过程中不可能做任何事情。有任何想法吗？

//编辑：

应用程序卸载后摆脱 GPS 图标的唯一方法是重新启动设备。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T13:01:49.303

向 Android 开发人员[报告错误。](http://code.google.com/p/android/issues/entry?template=User%20bug%20report)LocationManager 应该处理这样的用例（这种情况很容易忘记，显然 Android 开发人员忘记了这一点）。

作为一种解决方法，您可以尝试创建一个只要您需要接近警报就会存在的服务。我希望该服务在移除时优雅地关闭，而不仅仅是被杀死。在这种情况下，您将删除接近警报。您必须尝试以确保这是一个好的解决方案。

# sharepoint - 如何使“SharePoint:FormField”成为必需？

> ID：10848983
> 
> 赞同：0
> 
> 时间：2012-06-01T10:57:37.160
> 
> 标签：sharepoint, sharepoint-2010, required, formfield

我正在制作一个 SharePoint 2010 新/编辑项自定义表单。我有一个标题字段：

```
<SharePoint:FormField runat="server" ID="fieldFileLeafRef" ControlMode="Edit" FieldName="FileLeafRef" /> 
```

如何使该字段成为必填项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T11:01:48.033

FormField 是一个控件，它将为您分配给它的任何字段呈现 UI，它不代表任何静态字段。在您的代码中，您引用或指向 FormField 以指向**FieldName="FileLeafRef"**，因此在这种情况下，您需要在内容类型或列表中将字段设置为必需，以便 FormField 将呈现验证器或进行验证。

# mysql - scrapy中的Mysql语法错误

> ID：10848989
> 
> 赞同：0
> 
> 时间：2012-06-01T10:57:55.373
> 
> 标签：mysql, insert, scrapy

嗨，我正在研究scrapy并编写管道，因为我有一个查询应该将数据写入mysql数据库

```
tx.execute("""INSERT INTO example_table (book_name,price)
                            VALUES (%s,%s)""",   
                                    (item['book_name'],
                                     item['price'],)

                            ) 
```

我收到以下错误以下两个错误

```
(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '))' at line 2")

(1241, 'Operand should contain 1 column(s)') 
```

我不知道这个查询出了什么问题，但我无法将数据保存到数据库中。

任何人都可以对此有所了解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T12:26:01.793

`%`执行时忘记添加

```
x.execute("""INSERT INTO example_table (book_name,price)
                            VALUES (%s,%s)""",%   
                                    (item['book_name'],
                                     item['price'])

                            ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T10:59:28.593

您添加了一个额外的逗号，最后将其删除。以下是正确的说法。请尝试。

```
x.execute("""INSERT INTO example_table (book_name,price)
                            VALUES (%s,%s,%s,%s,%s,%s)""",   
                                    (item['book_name'],
                                     item['price'])

                            ) 
```

# math - rgb 值到 0 到 1 比例

> ID：10848990
> 
> 赞同：46
> 
> 时间：2012-06-01T10:58:01.863
> 
> 标签：math, rgb

我正在尝试计算一些`RGB colors` `(0 - 255)`以`0`进行`1`缩放。有谁知道在线转换器或它存在数学公式？

假设我想将 125 RGB（0 到 255 比例）转换为 0 到 1 比例。

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2012-06-01T11:02:09.810

这只是将您的 RGB 值除以`x`255 的情况：

如果`x = 95`那么你的价值是`95/255 = 0.373`（到 3 dp）

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-06-01T11:00:35.390

```
a = x / 255 
```

或者

```
x = a * 255 
```

`x`RGB 值在哪里，`a`是您想要的结果。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-08T11:39:41.343

如果您想继续使用 0-255 可以为此创建一个函数，如下例所示。

```
function setFillColor2(...)
   local object,r,b,g=...
   object:setFillColor( r/255, b/255,g/255)
end

circle1 = display.newCircle(150,250, 50 ) 
setFillColor2(circle1,23,255,12) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-24T15:37:17.990

最简单的方法是除以 0-1 的 255 或 0 的 256 - 略小于 1。后者有时具有优势。当然，您需要以定点或浮点数进行除法，而不是整数运算。

然而事实上，人类对 0-255 的 rgb 通道值的响应不是线性的，设备的响应也不是。通常您需要进行伽马校正。这一切都非常迅速地涉及，并且对于低端图形通常并不重要。然而，对于高端图形，您通常希望完全脱离 rgb 色彩空间，然后您需要非线性转换函数来最终将 rgb 像素刷新到最终图像。

# android - 片段 - ViewPager 通用布局

> ID：10848992
> 
> 赞同：1
> 
> 时间：2012-06-01T10:58:04.827
> 
> 标签：android, android-layout, android-xml

假设我在 ViewPager 中的 (4) 个片段顶部有一个通用工具栏或搜索按钮。（ViewPager 中的每个片段都有相同的按钮）和 EditText 视图。如果搜索按钮是用 id: `@+id/searchButton`（或其他任何东西）定义的，那么当我调用： `(Button) findViewById(R.id.searchButton)`在 Fragment 2 中，返回 4 的哪个搜索按钮是相对随机的（不一定是 Fragment 2 中的那个）。如何确保 Fragment 2 中的那个是被引用的那个？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T07:02:18.240

问题是，我使用的是`getActivity().findViewById(R.id.searchButton);`. 实际上，我应该一直使用`getView().findViewById(R.id.searchButton);`.

# akka - 在 Akka 中，如果我 watch() 一个死的 ActorRef 会发生什么？

> ID：10848993
> 
> 赞同：5
> 
> 时间：2012-06-01T10:58:14.820
> 
> 标签：akka, watch

如果我在已经死掉的 ActorRef 上调用 context.watch() ，我是否保证仍会收到终止消息？

另外，在收到关于特定参与者的终止消息后，我还需要调用 unwatch() 吗？

另外，watch() 调用引用计数了吗？如果我调用 watch() 两次，然后调用 unwatch() 一次，我是否保证仍会收到终止消息？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T12:00:13.897

我认为文档很清楚：

> “一个重要的特性是，无论监控请求和目标终止发生的顺序如何，消息都会被传递，即即使在注册时目标已经死亡，您仍然会收到消息。”

*   [http://doc.akka.io/docs/akka/2.0.1/general/supervision.html](http://doc.akka.io/docs/akka/2.0.1/general/supervision.html)

而且，你不需要取消观看，因为演员不能死两次，而且它不被引用计数。它是二进制的。

干杯，√</p>

# linux - For i in loop with printf 错误

> ID：10848999
> 
> 赞同：2
> 
> 时间：2012-06-01T10:58:32.173
> 
> 标签：linux, shell, for-loop

我的脚本：

```
#!/bin/sh

for i in {1..3}
do
cp dummy.dat dummy/dummy.`printf "%04d%s_shp" ${i}`

done 
```

和

```
error: printf: 9: {1..3}: expected numeric value 
```

如果我输入：

```
for i in  0 2 3 
```

脚本正在运行。

我的脚本在顶部有什么问题？或者任何人的解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T11:30:24.423

您`/bin/sh`不支持`{1..3}`哪个是 bash 扩展。您可以：

1.  用于`#!/bin/bash`确保脚本始终使用 bash 运行。
2.  使用`$(seq 1 3)`它是符合 POSIX 标准的替代品，据说可以与所有外壳一起使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T11:00:07.167

```
printf "%04d%s_shp" ${i}
        ^   ^
        1   2 
```

`printf`期望*两个*值。

它需要一个数字的`%04d`方式（将给出 4 个空格并用前导零填充），`%s`它期望获得一个字符串值的方式。您只提供一个值`i`, 到`printf`

只是一个猜测，但你的意思可能只是：

```
printf "%04d_shp" ${i} 
```

即，没有`s%`？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T11:01:43.000

文字`{1..3}`不是数字。它里面有数字，但外壳不会（必然）将其解释为 a 中的范围`for`；您必须将其完整地写出来（或使用`while`循环和一些表达式计算）。