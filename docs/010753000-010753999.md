# StackOverflow 问答 10753000-10753999

# mysql - MySQL，按多个表中的多个列排序

> ID：10753001
> 
> 赞同：7
> 
> 时间：2012-05-25T10:43:38.917
> 
> 标签：mysql, join, sql-order-by

我有两张桌子：

```
Table of Artists (tbl_artist):

artist_id - primary key
artist_name - has index   

Table of Albums (tbl_album):

album_id - primary key
album_artist_id - foreign key, has index
album_name - has index too 
```

表格在生产服务器上有很多记录（艺术家 - 60k，专辑 - 250k）。

在索引页面上有一个专辑列表，分页步数 = 50。专辑按艺术家名称 ASC、专辑名称 ASC 排序。所以简化查询如下：

```
SELECT *
FROM tbl_artist, tbl_album
WHERE album_artist_id = artist_id
ORDER BY artist_name, album_name
LIMIT 0, 50 
```

查询执行时间很长。可能是因为按不同表中的列排序。当我只留下 1 个订单时 - 查询立即执行。

在这种情况下可以做什么？非常感谢。

**编辑**：解释：

```
+----+-------------+---------------+--------+------------------+---------+---------+-----------------------------------+--------+---------------------------------+
| id | select_type | table         | type   | possible_keys    | key     | key_len | ref                               | rows   | Extra                           |
+----+-------------+---------------+--------+------------------+---------+---------+-----------------------------------+--------+---------------------------------+
|  1 | SIMPLE      | tbl_album     | ALL    | album_artist_id  | NULL    | NULL    | NULL                              | 254613 | Using temporary; Using filesort |
|  1 | SIMPLE      | tbl_artist    | eq_ref | PRIMARY          | PRIMARY | 4       | db.tbl_album.album_artist_id      |      1 |                                 |
+----+-------------+---------------+--------+------------------+---------+---------+-----------------------------------+--------+---------------------------------+ 
```

用 STRAIGHT_JOIN 解释

```
+----+-------------+---------------+------+-----------------+-----------------+---------+------------------------------------+-------+---------------------------------+
| id | select_type | table         | type | possible_keys   | key             | key_len | ref                                | rows  | Extra                           |
+----+-------------+---------------+------+-----------------+-----------------+---------+------------------------------------+-------+---------------------------------+
|  1 | SIMPLE      | tbl_artist    | ALL  | PRIMARY         | NULL            | NULL    | NULL                               | 57553 | Using temporary; Using filesort |
|  1 | SIMPLE      | tbl_album     | ref  | album_artist_id | album_artist_id | 4       | db.tbl_artist.artist_id            |     5 |                                 |
+----+-------------+---------------+------+-----------------+-----------------+---------+------------------------------------+-------+---------------------------------+ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-28T13:07:57.337

您需要一个 ( , ) 的索引，然后是`artist_name`( `artist_id`, `album_artist_id`) `album_name`。原因是因为您的连接在`artist_id`and之间`album_artist_id`，所以它必须与索引执行相同的连接才能生成排序的最终需要索引 ( `artist_name`, `album_name`)。

然后，您需要将您的订单更改为：`ORDER BY artist_name, artist_id, album_name`。这是因为可能有两个`artist_name`相同的，这将导致它的顺序与您期望的不同。它还会阻止它使用索引。

仅使用 上的索引`artist_name`，并且`album_name`没有提供足够的信息来产生这种排序，您所拥有的只是一个有序的名称列表，没有任何内容表明它们如何连接到另一个表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T10:48:21.093

尝试将索引更改为`(album_artist_id)`索引`(album_artist_id, album_name)`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T10:52:38.173

如果您没有完整的 where 子句由 order by 列上的**索引**解析，则需要注意的主要事情是您需要扫描多少行来解​​析 order by。如果只检查 50 行以提供 10 行结果集，那么您的状态还不错，但如果是 5000 行，您可能需要重新考虑索引。

您可以做的第二件事是将**sort_buffer_size增大**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T10:46:14.220

在您的列上添加索引`order by`。

如果您想知道为什么您的查询需要这么长时间，请查看 `EXPLAIN`. 例子：

```
explain select * from your_table order by col1, col2 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-25T10:46:44.703

在您排序的列上添加索引将是一个公平的喊叫。是的，它会在服务器中占用更多空间，但执行将是最好的。阅读有关索引的更多信息：http: [//dev.mysql.com/doc/refman/5.0/en/mysql-indexes.html](http://dev.mysql.com/doc/refman/5.0/en/mysql-indexes.html)或[http://www.tizag.com/mysqlTutorial/mysql-index.php](http://www.tizag.com/mysqlTutorial/mysql-index.php)

# expressionengine - 表达式引擎钩子

> ID：10753004
> 
> 赞同：2
> 
> 时间：2012-05-25T10:43:39.100
> 
> 标签：expressionengine

我有一个具有以下要求的表达式引擎站点。

我需要能够通过一对匹配字段过滤通道条目结果集，例如我的条目将有一个 field_a 和 field_b。如果这些字段匹配，我希望它成为返回结果集的一部分。我不能只在前端进行此检查，因为结果计数将不正确。我在想我可以使用钩子将字段传递到 exp:channel:entries 标记并更改返回的数据。

这看起来合理吗？如果是的话，有人知道操纵这些数据的细节吗？查看文档，我想我想使用“channel_entries_query_result”钩子，但我不确定如何实际操作数据。我已经创建了触发良好的钩子，并且可以看到模板 tag_data 等，但我不确定下一步该去哪里。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-28T22:19:23.730

您可以编写自己的模块，扩展频道条目循环。

你会像这样使用它：

```
{exp:custom_module:entries} 
```

此方法将支持任何默认参数。

模块中的方法如下所示：

```
public function entries()
{
    if( ! class_exists('Channel'))
    {
        require_once PATH_MOD.'channel/mod.channel.php';
    }

    // queries grabbing entry ids you want
    ....

    $this->EE->TMPL->tagparams['entry_id'] = implode('|', $entry_ids);

    $channel = new Channel();
    $tagdata = $channel->entries();

    return $tagdata;
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:14:56.667

这听起来需要一个自定义查询，您不会使用任何 EE 挂钩来完成此操作。

您可以编写自己的插件/模块或使用 EE 的本机查询模块。

您只需将这两列与您的查询进行比较。例如：

```
SELECT
    *
FROM
    some_table
WHERE
    col1 = col2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T18:51:18.613

对于其他对如何完成感兴趣的人，这里是代码。我沿着钩子路线走，并使用以下代码绑定到“channel_entries_query_result”钩子。

```
public function query_result_filtered($c, $res){
    # maybe this can be done better? Grabs the tag data for this template call
    $tags = $c->EE->TMPL->tag_data;

    foreach($tags as $tag):
        # We're only interested in exp:channel:entries
        if($tag['class'] == 'channel' && $tag['method'] == 'entries'):
            # We're only interested if the tag has a param of matching, e.g. {exp:channel:entries matching="field_1|field_2"}
            if(isset($tag['params']['matching'])):
                $res = $this->_parse_results($res, $tag['params']['matching']);
            endif;
        endif;
    endforeach;

    return $res;
}

private function _parse_results($res, $fields){

    $ret = array();
    $fields = explode('|', $fields);

    //If we dont have multiple tags to match against, return the result set as is
    if(!is_array($fields)):
        return $res;
    endif;

    # Get the field id's and count how many fields we're checking against
    $fields = $this->_get_field_ids($fields);
    $field_count = count($fields);

    foreach($res as $row):
        # Value to match against (just use the first value)
        $tomatch = $row[$fields[0]];
        # Keep a count on how many matches, so we can check that they all match
        $match = 0;

        foreach($fields as $field):
            # If the current field matches that of the first field then we have a match, increment the count
            if($row[$field] == $tomatch):
                $match++;
            endif;
        endforeach;

        # If we have matched all fields then add this row to the returned array
        if($match == $field_count):
            $ret[] = $row;
        endif;

    endforeach;

    return $ret;
}

private function _get_field_ids($fields){

    $ret = array();

    # Loop through the fields given and find their ID's (this could be better and check site id for multisite compatibility)
    foreach($fields as $field):
        $q = $this->EE->db->select('field_id')->where('field_name', $field)->get('exp_channel_fields');
        # Create a nice name that we can use as an array key when we check each rows value
        $ret[] = 'field_id_' . $q->row('field_id');
    endforeach;

    return $ret;
} 
```

不是特别优雅，但它确实有效。如果其他人有更好的解决方案，我很想听听。谢谢

# c# - jquery ajax中的“未定义错误”

> ID：10753005
> 
> 赞同：0
> 
> 时间：2012-05-25T10:43:41.303
> 
> 标签：c#, jquery, ajax

请有人帮助清除此错误

我想在不刷新页面的情况下每次单击动态框时显示一个模态弹出窗口（包含来自数据库的内部详细信息）。我使用了 jquery ajax，但我无法从数据库中获取值。它在弹出的字段中显示未定义的错误。请看代码。

```
<script type="text/javascript">
      $.fx.speeds._default = 1000;
      $(document).ready(function () {
          $("div[id*='window']").live('click', function (e) {
              $.ajax({
                  url: 'Default2.aspx/get_details',
                  type: 'Get',
                  // dataType: 'json',
                  data: { id: $(this).attr('id').replace(/window/g, '') },
                  success: function (data) {
                    alert(data);
                      $('<div></div>').appendTo('body').html('<div>' + data.comp_name + '</div><div>' + data.comp_status + '</div>').dialog({
                          modal: true, title: 'owner details', zIndex: 10000, autoOpen: true,
                          width: 400, height: 200, modal: false, resizable: false, closeOnEscape: false,
                          show: "slide", hide: "explode",

                          close: function (event, ui) {
                              $(this).remove();
                          }
                      });
                  }
              });
          });
      });

  </script> 
```

c#代码：

```
public class Company
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string Status { get; set; }
    }

  public Company get_details(int id)
  {

      DataSet dset = new DataSet();
      SqlConnection cn = new SqlConnection(@"Data Source=KUR;Initial Catalog=Drea;User ID=sa;Password=Sage");
      string qry = "Select comp_companyId,comp_name,comp_status from Company where comp_companyId=" +id+" ";
      SqlDataAdapter sda = new SqlDataAdapter(qry, cn);
      sda.Fill(dset);

      Company entity = new Company();

      SqlCommand cmd = new SqlCommand(qry, cn);

      SqlDataReader reader = cmd.ExecuteReader();

      if (reader.Read())
      {
          entity.Id = int.Parse(reader["comp_companyId"].ToString());
          entity.Name = reader["comp_name"].ToString();
          entity.Status = reader["comp_status"].ToString();
      }

      return entity;
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T10:51:35.713

我看到要检查的两件事：

1.  [`[WebMethod]`使用属性](http://msdn.microsoft.com/en-us/library/byxd99hx%28v=vs.90%29.aspx)标记您的服务器端方法。
2.  实际数据是返回的`data.d`，而不是返回的`data`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T10:51:02.870

```
public string Name { get; set; } -> data.Name ...
if u use data.name it will show as undefined. because it is case sensitive 
```

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <link href="Scripts/css/ui-lightness/jquery-ui-1.8.20.custom.css" rel="stylesheet"
        type="text/css" />
    <script src="Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery-ui-1.8.20.custom.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $.fx.speeds._default = 1000;
        $(document).ready(function () {
            $("div[id*='window']").live('click', function (e) {
                $.ajax({
                    url: "WebService.asmx/GetCompanyDetails", type: "Post", dataType: "json",
                    data: JSON.stringify({ id: $(this).attr('id').replace(/window/g, '') }),
                    contentType: "application/json; charset=utf-8",
                    success: function (msg) {
                        var data = $.parseJSON(JSON.stringify(eval("(" + msg.d + ")")));

                        $('<div></div>').appendTo('body').html('<div>' + data.Name + '</div><div>' + data.City + '</div>').dialog({
                            modal: true, title: 'Test message', zIndex: 10000, autoOpen: true,
                            width: 460, height: 300, modal: true, resizable: false, closeOnEscape: false,
                            show: "slide", hide: "explode",
                            buttons: {
                                Ok: function () {
                                    $(this).dialog("close");
                                }
                            },
                            close: function (event, ui) {
                                $(this).remove();
                            }
                        });
                    },
                    error: function (msg) {

                    }
                });
            });
        });
    </script>
</head>
<body>
    <div id="window1">
        Test1
    </div>
    <br />
    <br />
    <br />
    <br />
    <div id="window2">
        Test2
    </div>
</body>
</html>

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using Entity;

namespace CompanyDisplay
{
    public partial class CompayJqueryUI : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }

        public Company GetCompanyDetails(int id)
        {
            if (true)   //authorize 
            {
                //SqlConnection cn = new SqlConnection(@"Data Source=KURIOS_WS4;Initial Catalog=Dreams;User ID=sa;Password=SageCRMv71");
                //string qry = "Select comp_companyId,comp_name,comp_status from Company where comp_companyId=@comp_companyId ";
                //SqlCommand cmd = new SqlCommand(qry, cn);
                //SqlDataReader reader = cmd.ExecuteReader();

                Company entity = new Company();
                entity.Id = 2;
                entity.Name = "Test";
                entity.City = "Bangalore";

                //Or

                //if (reader.Read())
                //{
                //    entity.Id = int.Parse(reader["comp_companyId"].ToString());
                //    entity.Name = reader["comp_name"].ToString();
                //    entity.City = reader["comp_status"].ToString();
                //}

                return entity;
            }
            else
            {
                return new Company();
            }
        }
    }
}

using System;
using System.Collections.Generic;
using System.Web;
using System.Web.Services;
using System.Web.Script.Services;
using System.Web.Script.Serialization;
using CompanyDisplay;

namespace CompanyDisplay
{
    [WebService(Namespace = "http://tempuri.org/")]
    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
    [System.ComponentModel.ToolboxItem(false)]
    [ScriptService]
    public class WebService : System.Web.Services.WebService
    {
        [WebMethod]
        [ScriptMethod(ResponseFormat = ResponseFormat.Json)]
        public string GetCompanyDetails(int id)
        {
            return new JavaScriptSerializer().Serialize(new CompayJqueryUI().GetCompanyDetails(id));
        }
    }
} 
```

# python - 需要 python 子进程来保持 http req 打开但不阻止其他 http reqs

> ID：10753007
> 
> 赞同：0
> 
> 时间：2012-05-25T10:43:47.370
> 
> 标签：python, request, subprocess, blocking

我需要调用一个运行 dd 命令（http req 1）的 python 服务（我使用的是 bottle 和 gunicorn），并且我需要能够随时通过另一个调用（http req 2）终止该过程。

A）如果我这样做：

```
p = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
out = p.stdout.read().strip() 
```

http req 2 一直等到 http req 1 结束（因此读取输出会阻塞并发调用）

B）如果我将输出写入文件，http req 1 不会阻止其他请求，但该请求在后台执行命令的同时结束。

所以，我需要保持 http req 1 直到命令完成，但同时我需要能够用另一个请求终止进程。（如果我使用简单的 time.sleep(x) 而不是读取我想要的输出，req 1 保持活动状态，我可以同时调用 req 2）

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:17:06.340

您可以尝试使用[http://docs.python.org/library/subprocess.html#subprocess.Popen.stdout](http://docs.python.org/library/subprocess.html#subprocess.Popen.stdout) + `select.select([p.stdout.fileno()], [], [], timeout)`，但最简单的方法是使用 [http://docs.python.org/library/subprocess.html #subprocess.Popen.poll](http://docs.python.org/library/subprocess.html#subprocess.Popen.poll)检查进程是否终止并仅在子进程终止时读取输出。

```
while p.pool() is None: # supprocess alive
    time.sleep(timeout)
out = p.stdout.read() 
```

# android - ListView 上的 setOnLongClickListener 不会触发

> ID：10753013
> 
> 赞同：0
> 
> 时间：2012-05-25T10:44:03.630
> 
> 标签：android, android-layout

这段代码有什么问题？
我尝试向列表视图添加一个长点击监听器，但由于某种原因无法正确处理：

```
package ch.futurecom.adaptertest;
import android.app.ListActivity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnLongClickListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

public class AdapterTestActivity extends ListActivity
{
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);

        ListView lv = getListView();

        lv.setLongClickable(true);
        lv.setOnLongClickListener(new OnLongClickListener()
        {
            @Override
            public boolean onLongClick(View v)
            {
                Toast.makeText(AdapterTestActivity.this, "long clicked", Toast.LENGTH_SHORT).show();
                return true;    
            }
        });

        lv.setAdapter(new ArrayAdapter<String>(this,R.layout.row,getResources().getStringArray(R.array.items)));
    }
} 
```

pastebin 链接：
AdapterTestActivity.java -> [http://pastebin.com/Pw30EkEz](http://pastebin.com/Pw30EkEz)
row.xml -> [http://pastebin.com/6FajncHT](http://pastebin.com/6FajncHT)

谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-25T10:47:32.170

尝试 AdapterView.OnItemLongClickListener 作为

```
ListView lv = getListView();
            lv.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener(){ 
                   @Override 
                   public boolean onItemLongClick(AdapterView<?> av, View v, int pos, long id) 
                  { 
                       Toast.makeText(AdapterTestActivity .this, "LongClicked", Toast.LENGTH_LONG).show();
                  } 
             }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-25T10:50:29.703

使用`setOnItemLongClickListener`insted of`setOnLongClickListener`

```
lv.setOnItemLongClickListener (new OnItemLongClickListener() {
  public boolean onItemLongClick(AdapterView parent, View view, int position, long id) {
    //do your stuff here
  }
}); 
```

# php - 如何在 symfony2 中导入路由集合

> ID：10753021
> 
> 赞同：1
> 
> 时间：2012-05-25T10:44:29.317
> 
> 标签：php, symfony

我想在 symfony2 中加载带有路由的 yaml 文件。如何做到这一点以及将其添加到现有路线的位置？

这是我的 extra_routes.yml 文件：

```
_hello:
    pattern: /hello/{name}
    defaults: { _controller: AcmeDemoBundle:Demo:hello }
    requirements:
        name: ".+"

_hello2:
    pattern: /hello2/{name}
    defaults: { _controller: AcmeDemoBundle:Demo:hello2 }
    requirements:
        name: ".+" 
```

1.  首先，我需要加载该文件。那么我是否使用 yaml 组件来做到这一点？像这样（我必须在 php 中执行此操作而不使用导入）？：

    $loader = new Yaml\Yaml::parse( **DIR** .'/../Resources/config/routing_extra.yml');

2.  如何将其导入 RouteCollection 以及在哪里将其添加到现有路线？

请提供任何帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:35:57.220

您可以尝试通过以下方式包含它`resource`：

```
extra:
    resource: '@YourModuleBundle/Resources/config/routing/extra_routes.xml'
    prefix: /custom_prefix 
```

# java - 如何按文件记录顺序跟踪Java多线程输出

> ID：10753022
> 
> 赞同：0
> 
> 时间：2012-05-25T10:44:32.140
> 
> 标签：java, multithreading, executorservice

我需要使用 java 多线程读取批量数据文件并处理数据（如数据验证、跟踪验证失败和插入数据库等）。

我想使用主线程从文件中读取数据并使用多标题和 ExecutorService 处理数据。

一旦对数据库进行验证和插入，我需要跟踪每条记录输出。

我的问题是：

*   如何跟踪每条记录的输出？
*   我可以放置一个公共变量并增加故障记录数据的数量吗？
*   我需要跟踪有多少记录按顺序失败。可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:04:01.537

> *   如何跟踪每条记录的输出？
> *   我可以放置一个公共变量并增加故障记录数据的数量吗？

正如@JBNizet 提到的，您可以将 an`AtomicInteger`用于成功和失败计数。类似于以下内容：

```
 private final AtomicInteger successCounter = new AtomicInteger(0);
  private final AtomicInteger failureCounter = new AtomicInteger(0);
  ...
  threadPool.submit(new MyRunnable(successCounter, failureCounter));
  ...
  public class MyRunnable {
     private AtomicInteger successCounter;
     private AtomicInteger failureCounter;
     public MyRunnable(AtomicInteger successCounter, AtomicInteger failureCounter) {
        this.successCounter = successCounter;
        this.failureCounter = failureCounter;
     }
     public run() {
        ...
        if (worked) {
           successCounter.incrementAndGet();
        } else {
           failureCounter.incrementAndGet();
        }
     }
  } 
```

> 我需要跟踪有多少记录按顺序失败。可能吗？

您可以做到这一点的一种方法是在每一行上都有一个事务编号并保存最后一个失败的事务编号。然后，如果当前失败的事务编号不是 ，则您可以将失败计为顺序失败或重置顺序计数器`(last+1)`。

```
 if (worked) {
     lastFailedTransactionNumber = 0;
     sequentialFailureCount = 0;
  } else {
     if (transactionNumber == lastFailedTransactionNumber + 1) {
        sequentialFailureCount++;
        ... maybe log it or something?
     }
     lastFailedTransactionNumber = transactionNumber;
  } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T10:49:08.713

您可以将唯一的实例传递`AtomicInteger`给每个验证任务，并在`AtomicInteger`每次发生故障时让任务递增。AtomicInteger 是线程安全的，因此这样做不会有任何并发​​问题。

关于每条记录的输出，您只需要将输出添加到线程安全集合（例如，a`Collections.synchronizedList()`或 ConcurrentLinkedQueue）。

# php - 如何在 Windows 上访问 xampp 的命令行

> ID：10753024
> 
> 赞同：46
> 
> 时间：2012-05-25T10:44:43.737
> 
> 标签：php, mysql, apache, xampp

我在我的 Windows 7 机器上运行 Xampp，想知道是否以及如何通过命令行为 xampp 运行命令。像 php phpfile.php 这样的命令

任何意见，将不胜感激。

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2012-05-25T10:51:14.820

XAMPP 没有要运行的预构建控制台`php`或`mysql`命令，因此，您必须添加到 windows`PATH` **环境变量**，这 2 个：`;C:\xampp\mysql\bin;C:\xampp\php;`

然后您应该能够从 CMD 执行命令`php`。`mysql`

## 更新

我测试了它，它可以工作。

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2012-05-27T13:06:41.683

*   您可以按照其他答案中的说明设置***环境变量***[（如此处](https://stackoverflow.com/a/46408671/842768)）

    或者

*   您可以以管理员身份打开“***开始”>“CMD*** ”并写入

    `C:\xampp\php phpfile.php`

* * *

## 回答 #3

> 赞同：29
> 
> 时间：2014-02-22T18:38:55.197

谢谢你们的回答。但我认为接受的答案需要更清晰，因为我发现难以获得解决方案。

1.  我们可以按照 w0rldart 的答案设置**环境变量。**

    在这种情况下（在**设置 envmnt var**之后），我们可以通过打开**start >> CMD**并键入以下命令来运行 phpFile，

    `php.exe <path to file location>`

    或者

    `php <path to file location>`

    **例子：**

    ```
    php.exe C:\xampp\htdocs\test.php 
    ```

2.  您可以以管理员身份打开**Start >> CMD**并编写如下

    `<path to php.exe in xampp's php folder> <path to file location>`

    **例子：**

    ```
    C:\xampp\php\php.exe C:\xampp\htdocs\test.php 
    ```

    或者

    ```
    C:\xampp\php\php C:\xampp\htdocs\test.php 
    ```

希望这会对某人有所帮助。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2017-03-27T16:35:58.100

从命令提示符运行 PHP 文件。

请按照下面提到的步骤设置**环境变量。**

1.  右键单击**我的电脑**图标并单击属性或转到**“控制面板\系统和安全\系统”。**
2.  选择**“高级系统设置”**并选择**“高级”**选项卡
3.  现在选择**“环境变量”**选项并从**“系统变量”中选择****“路径”**，然后单击“编辑”按钮
***   现在设置**php.exe**文件可用的路径 - 例如，如果**XAMPP**安装到 C: 驱动器，则路径为**“C:\xampp\php”***   设置路径后单击确定并应用。**

 **现在打开您的源文件可用的命令提示符并运行命令“php test.php”

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2016-03-25T04:40:27.897

如果有人想知道如何设置**环境变量**

1.  点击左下角的windows按钮，进入系统
2.  单击左栏中的高级系统设置链接
3.  在“系统属性”窗口中，单击“高级”选项卡，然后单击该选项卡底部附近的“环境变量”按钮。
4.  在 Environment Variables 窗口中，突出显示“System variables”部分中的 Path 变量，然后单击 Edit 按钮。使用您希望计算机访问的路径添加路径行。

完成后，您可以使用 start-> 命令行中的命令运行，如下所示

```
php <path to file location> 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2017-09-25T15:15:23.340

就像上面所有其他人所说的那样，您需要添加路径。但不确定是什么原因，如果我在*系统变量*`C:\xampp\php`的路径中添加**将不起作用**，但如果我在*用户变量*的路径中添加它可以正常工作。

 *****虽然我通过添加系统变量添加和使用其他命令行工具工作正常*

所以以防万一有人和我有同样的问题。视窗 10

[![在此处输入图像描述](../Images/9729d1988677fe4bdabc66688b674ab9.png)](https://i.stack.imgur.com/Dbcm2.png)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2018-04-04T08:38:20.080

请记住：当您更改路径变量时，您需要重新启动控制台，否则路径变量不会更新并且似乎不起作用。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2020-06-21T14:45:12.683

XAMPP控制面板3.2.4版本中，有一个可以打开命令行提示符的按钮（下图中红色矩形）

[![在此处输入图像描述](../Images/785e5038d25cd7d3d0b52120e4cd708c.png)](https://i.stack.imgur.com/vO17z.png)

按下按钮后，您将看到命令提示符窗口。

[![在此处输入图像描述](../Images/d861c09ded26d0dcd945212b1c7d381a.png)](https://i.stack.imgur.com/4YMV2.png)

在此窗口中，您可以浏览不同的文件夹并启动不同的可用服务。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2017-06-21T09:17:46.400

Xampp 的 php 应用程序位于：C:\xampp\php 文件目录...如果你在 CMD 中输入 C:\xampp\php\php 它应该进入 php 应用程序。******

# android - Android相机拍摄的照片未保存到SD卡

> ID：10753026
> 
> 赞同：0
> 
> 时间：2012-05-25T10:44:52.267
> 
> 标签：android, eclipse, android-camera, save-image

我已经在 Eclipse 中开发了一个简单的 android 应用程序，用于打开相机并拍照并将其保存到 SD 卡，但是当我启动相机并拍照时，当我尝试保存我的应用程序时出现错误，应用程序已不幸停止。请帮助我有没有我的代码文件中的问题是我用于保存和从相机拍照的代码。

```
package cam.cam.pkg;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;

public class CAMActivity extends Activity {
    private static final int REQUEST_CODE = 1;
    private Button button_1;
    public int TAKE_PICTURE = 1;
    private ImageView image_view;
    private Bitmap bitmap;
    /** Called when the activity is first created. */
    @Override
       public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

         image_view = (ImageView) findViewById(R.id.result);
         button_1 = (Button) findViewById(R.id.button1);

        button_1.setOnClickListener(new View.OnClickListener() {
            public void onClick(View arg0) {
                Intent intent = new Intent("android.media.action.IMAGE_CAPTURE");
                startActivityForResult(intent, TAKE_PICTURE);
            }
        });
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK)
            try {
                // We need to recyle unused bitmaps
                if (bitmap != null) {
                    bitmap.recycle();
                }
                InputStream stream = getContentResolver().openInputStream(
                        data.getData());
                bitmap = BitmapFactory.decodeStream(stream);
                stream.close();
                image_view.setImageBitmap(bitmap);
            } catch (FileNotFoundException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            }
        super.onActivityResult(requestCode, resultCode, data);
    }
} 
```

请指导我在我的代码中究竟缺少什么或任何其他方式来解决这个问题

**更新**

这是我的清单文件代码

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="cam.cam.pkg"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="15" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".CAMActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

但是 cam 仍然没有将图像保存到画廊和应用程序中 不幸的是，Sooped

先生，这是我的错误日志

```
org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.IllegalArgumentException: Argument not valid)
    at org.eclipse.swt.SWT.error(SWT.java:4282)
    at org.eclipse.swt.SWT.error(SWT.java:4197)
    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:138)
    at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4140)
    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3757)
    at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
    at org.eclipse.jface.window.Window.open(Window.java:801)
    at org.eclipse.jface.dialogs.MessageDialog.open(MessageDialog.java:334)
    at org.eclipse.ui.internal.ide.dialogs.InternalErrorDialog.open(InternalErrorDialog.java:80)
    at org.eclipse.ui.internal.ide.IDEWorkbenchErrorHandler.openQuestionDialog(IDEWorkbenchErrorHandler.java:199)
    at org.eclipse.ui.internal.ide.IDEWorkbenchErrorHandler.handleException(IDEWorkbenchErrorHandler.java:154)
    at org.eclipse.ui.internal.ide.IDEWorkbenchErrorHandler.access$0(IDEWorkbenchErrorHandler.java:146)
    at org.eclipse.ui.internal.ide.IDEWorkbenchErrorHandler$1.runInUIThread(IDEWorkbenchErrorHandler.java:121)
    at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:95)
    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
    at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4140)
    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3757)
    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)
    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)
    at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
    at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123)
    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1410)
Caused by: java.lang.IllegalArgumentException: Argument not valid
    at org.eclipse.swt.SWT.error(SWT.java:4263)
    at org.eclipse.swt.SWT.error(SWT.java:4197)
    at org.eclipse.swt.SWT.error(SWT.java:4168)
    at org.eclipse.swt.graphics.GC.drawImage(GC.java:958)
    at org.eclipse.swt.graphics.GC.drawImage(GC.java:943)
    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.ImageOverlay.paint(ImageOverlay.java:214)
    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.LayoutCanvas.onPaint(LayoutCanvas.java:729)
    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.LayoutCanvas.access$0(LayoutCanvas.java:723)
    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.LayoutCanvas$1.paintControl(LayoutCanvas.java:277)
    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:229)
    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062)
    at org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:1564)
    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4585)
    at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341)
    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4985)
    at org.eclipse.swt.internal.win32.OS.RedrawWindow(Native Method)
    at org.eclipse.swt.widgets.Control.update(Control.java:4380)
    at org.eclipse.swt.widgets.Display.update(Display.java:4846)
    at org.eclipse.ui.internal.LegacyAnimationFeedback.renderStep(LegacyAnimationFeedback.java:60)
    at org.eclipse.ui.internal.AnimationEngine.updateDisplay(AnimationEngine.java:131)
    at org.eclipse.ui.internal.AnimationEngine$1.run(AnimationEngine.java:120)
    at org.eclipse.ui.internal.UILockListener.doPendingWork(UILockListener.java:164)
    at org.eclipse.ui.internal.UISynchronizer$3.run(UISynchronizer.java:158)
    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
    ... 35 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:45:27.363

```
if (requestCode == CAMERA) {
                    Log.d("log", " request code camera " + requestCode);
                    final File file = getTempFile(this);
                    try {
                        selImagePath = file.getAbsolutePath();
                        m_bmOCRBitmap = Media.getBitmap(getContentResolver(),
                                Uri.fromFile(file));
                        img_pht.setImageBitmap(m_bmOCRBitmap);
                        hideMenu();
                    } catch (FileNotFoundException e) {
                        e.printStackTrace();
                    } catch (IOException e) {
                        e.printStackTrace();

                    }
                } 

try this code... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:15:35.060

尝试以下代码集。这个对我有用...

在`onActivityResult`方法调用下面的代码集中。

```
 Bitmap bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);

    Matrix matrix = new Matrix();
    matrix.postRotate(90);

    int width = bitmap.getWidth();
    int height = bitmap.getHeight();

    Bitmap resizedBitmap = Bitmap.createBitmap(bitmap, 0, 0, width, height, matrix, true);

    // Display the captured image oon your screen
    capturedImageView.setImageBitmap(resizedBitmap);

    getOutputMediaFileUri(MEDIA_TYPE_IMAGE);

    File pictureFile = getOutputMediaFile(MEDIA_TYPE_IMAGE);
    if (pictureFile == null){
        Log.d(TAG, "Error creating media file, check storage permissions: ");
        return;
    }

    try {
        FileOutputStream fos = new FileOutputStream(pictureFile);
        fos.write(data);
        fos.close();
    } catch (FileNotFoundException e) {
        Log.d(TAG, "File not found: " + e.getMessage());
    } catch (IOException e) {
        Log.d(TAG, "Error accessing file: " + e.getMessage());
    } 
```

矩阵部分与您的问题没有直接关系。然后，您还需要以下两种方法。

```
private static Uri getOutputMediaFileUri(int type){
      return Uri.fromFile(getOutputMediaFile(type));
}

private static File getOutputMediaFile(int type){

    File mediaStorageDir = new File(imagesSavingSubfolderPath);

    if (! mediaStorageDir.exists()){
        if (! mediaStorageDir.mkdirs()){
            return null;
        }
    }

    String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss").format(new Date());

    if (type == MEDIA_TYPE_IMAGE){
        mediaFile = new File(mediaStorageDir.getPath() + File.separator + "IMG_"+ timeStamp + ".jpg");
    } else {
        return null;
    }

    return mediaFile;
} 
```

小心我给出的变量名。:-)

在清单中也不要忘记给予以下许可

```
uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T10:50:37.210

试试这个代码::::

```
 @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK)
            try {
            image_view.setImageUri(Uri.parse(data.getDataString()));
            } catch (FileNotFoundException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            }
    } 
```

**更新::::** 添加以下权限 n 清单文件

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-feature android:name="android.hardware.camera" />
<uses-feature android:name="android.hardware.camera.autofocus" /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T10:54:31.683

尝试这个，

```
public class Camera extends Activity 
  {
 private static final int CAMERA_REQUEST = 1888;
 private String selectedImagePath;

@Override
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    Intent cameraIntent = new Intent(ACTION_IMAGE_CAPTURE);
    startActivityForResult(cameraIntent, CAMERA_REQUEST);
}

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data)
{
    if (resultCode == RESULT_OK) {
        if (requestCode == CAMERA_REQUEST) 
        { 
            Bitmap photo = (Bitmap) data.getExtras().get("data"); 
            ByteArrayOutputStream bytes = new ByteArrayOutputStream();
            photo.compress(Bitmap.CompressFormat.JPEG, 40, bytes);
            Random randomGenerator = new Random();randomGenerator.nextInt();
            String newimagename=randomGenerator.toString()+".jpg";
            File f = new File(Environment.getExternalStorageDirectory()
                                    + File.separator + newimagename);
            try {
                f.createNewFile();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            //write the bytes in file

            try {
                fo = new FileOutputStream(f.getAbsoluteFile());
            } catch (FileNotFoundException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            try {
                fo.write(bytes.toByteArray());
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
                uri=f.getAbsolutePath(); 
    //this is the url that where you are saved the image
      }

  } 
```

# github - UI 上的绿色文件夹。无法深入到文件夹

> ID：10753027
> 
> 赞同：5
> 
> 时间：2012-05-25T10:44:53.360
> 
> 标签：github

Github 正在工作。然后，当我发表评论并转到 github UI 并查看存储库时，对于其中一个文件夹，我看到了一个绿色文件夹，我无法单击它进行深入研究。我该如何解决？

更进一步，当我查看 repo 并切换到分支时，那里什么都没有。数据去哪儿了？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-25T11:38:57.663

这是一个**子模块**。基本上，这是指向另一个存储库的特定提交的指针。

人们通常会在以下（非详尽的）情况列表中依赖子模块

*   避免重复代码
*   在非常特定的时间点声明与另一个项目的依赖关系

您可以通过阅读以下资源找到有关子模块的更多信息

*   [专业 Git 书](http://git-scm.com/book/en/Git-Tools-Submodules)
*   [Git 手册页](http://git-scm.com/docs/git-submodule)

下面是 GitHub 当前如何显示子模块的示例。在名称的右侧，您会注意到`7a361e9`该子模块引用的提交 sha ( ) 的缩写形式。

![子模块](../Images/b29b6953d2b62bf7dc22d210c9a3d62f.png)

# iphone - 减小图像文件大小

> ID：10753029
> 
> 赞同：0
> 
> 时间：2012-05-25T10:45:11.877
> 
> 标签：iphone, objective-c, cocoa, ios4, uiimage

是否可以在不改变图像尺寸的情况下减小图像尺寸。类似于 Photoshop。

例如，如果实际图像大小为 400Kb，尺寸为 400 X 300，并且我编辑和保存图像的分辨率较低。然后图像大小为 250kb，尺寸为 400 X 300。

注意：如果图像包含，我需要实现透明度。我需要在网站中显示时推送此图像服务器和相同的图像。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T12:13:24.687

是的，有可能....看到这段代码

```
UIImage *image = [UIImage imageNamed:@"anyImage.png"];

NSData *data = UIImageJPEGRepresentation(image, 0.5);
// 0.5 is float value it is 1.0 for same resolution

UIImage *newImage = [UIImage imageWithData:data]; 
```

谢谢你！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:19:52.623

无法压缩 gif 或 png 图像。他们实现了内置压缩算法，仅此而已。

在您的情况下，最好的解决方案是将 png 图像保存为 jpeg，用纯色替换透明色，然后压缩 jpeg 图像并保存。

当您需要图像时，您将使用 CGImageCreateWithMaskingColors 核心图形函数将 jpeg 图像转换为透明图像。

[请参阅此线程，了解如何使用核心图形使颜色透明](https://stackoverflow.com/questions/633722/how-to-make-one-color-transparent-on-a-uiimage)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T12:02:19.827

这可能值得一看。这是用于 jpeg 的，它确实有效，并且图片看起来几乎相同。 [http://www.jpegmini.com/main/home](http://www.jpegmini.com/main/home)

# python - 由于 API 版本不匹配，cython np.import_array() 失败

> ID：10753032
> 
> 赞同：1
> 
> 时间：2012-05-25T10:45:23.607
> 
> 标签：python, numpy, cython

任何人都知道为什么我会收到此错误：

```
Error in sys.excepthook:
Traceback (most recent call last):
  method tm_excepthook in test.py at line 44
   io = fdopen(error_fd, 'wb', 0)
OSError: [Errno 9] Bad file descriptor

Original exception was:
Traceback (most recent call last):
  method <module> in test.py at line 9
    import SLIC
ImportError: numpy.core.multiarray failed to import

RuntimeError: 'module compiled against API version 6 but this version of numpy is 4' 
```

我尝试重新安装 numpy 没有运气（从 OSX Lion 上的源代码构建的 1.6.2），但奇怪的是，当我键入时`numpy.__version__`我得到 1.5.1，并且在 /Library/Python/2.7/site-packages/numpy/version 中。 py 告诉我我使用的是 1.6.2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T16:15:31.913

听起来您可能有多个版本的 numpy，通过运行检查实际加载的是哪个版本

```
import numpy
print(numpy.__file__) 
```

现在，通过执行检查您的 Python 包含路径

```
import os
print(os.environ['PYTHONPATH']) 
```

您不正确的 numpy 的位置应该在列表中较高的位置。尝试通过更改您的`PYTHONPATH`.

# facebook - /me/feed/ 不提供墙贴

> ID：10753037
> 
> 赞同：1
> 
> 时间：2012-05-25T10:45:37.607
> 
> 标签：facebook

```
$user_profile = $facebook->api("/me/feed/", 'GET');
echo $user_profile; 
```

结果是另一回事

示例：“A 和 B 现在是朋友”和“A 喜欢 ..”等。虽然这些不是我的墙贴。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:40:58.367

你是在请求`read_stream`许可吗？如果您请求正确的许可，您将能够看到您的提要中的所有帖子（受隐私设置的限制）。

# android - 使用 achartengine 的动态图表

> ID：10753040
> 
> 赞同：2
> 
> 时间：2012-05-25T10:45:46.390
> 
> 标签：android, dynamic, charts, achartengine

我的应用程序通过蓝牙连续接收来自设备的数据，具体取决于我绘制图表所需的数据。我发现 achartengine 在绘制图表时非常有用，现在我的问题是如何使用 achartengine 创建动态图表，这可能吗？如果不是我该怎么办

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-04T06:38:51.127

我使用了输入/数据的随机数，而不是蓝牙的实际输入。可以在[这里](https://www.box.com/s/65d1c23a01430e206342)找到完整的工作项目，认为它可能会对某人有所帮助。:)

干杯。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-28T04:56:11.383

但是您必须在生成或 repaint() 之前删除上一个图，所以这样做肯定会对您有所帮助。

```
private GraphicalView mChartView;// that's your graph view declared before

if (mChartView != null) {
layoutr.removeView(mChartView);

mChartView.repaint();
layout.addView(mChartView);// to refresh the graph 

} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-25T13:05:41.393

因此，AchartEngine 不管理动态或我们所谓的实时绘图，但是当您向 Serie 添加新数据时，您可以通过不断刷新图表来做到这一点，如下所示：

```
private GraphicalView mChartView;// that's your graph view declared before

if (mChartView != null) {

mChartView.repaint();// to refresh the graph 

 } 
```

在您的序列化循环或您需要刷新图表的地方编写代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T05:16:55.113

如果您在模拟器中测试动态图，请尝试在真实设备中进行测试，因为有时模拟器无法正确响应，因此会浪费很多宝贵的时间。

```
private GraphicalView mChartView;// that's your graph view declared before

if (mChartView != null) {
layout.removeView(mChartView);//Delete the old graph 

mChartView.repaint();// to refresh the graph 

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-10T10:20:17.873

只要当前*GraphicalView*没有从布局中移除并重新添加，图形就不会被刷新。否则，只有通过触摸包含“GraphicalView”的布局才能刷新您的图形（通过*onTouch*回调）。

# iphone - 可以调整在 iPhone 上查看的任何 HTML 大小的 CSS 或 Javascript

> ID：10753041
> 
> 赞同：14
> 
> 时间：2012-05-25T10:45:46.980
> 
> 标签：iphone, html, css

我正在尝试提出一些 CSS 或 Javascript，它们可以自动调整在 iPhone 浏览器（UIWebview 组件）中查看的**任何HTML 的大小，以使内容适合视口并且图像/文本都调整大小。**（与实现缩小不同）。

我从[另一个问题](https://stackoverflow.com/questions/10666484/html-content-fit-in-uiwebview-without-zooming-out)中得到的主要想法是调整元素的宽度，例如：

```
@media screen and (max-width: 480px){
    *{
    max-width: 320px;
    }
} 
```

我也有通常的视口元标记：

```
<meta name="viewport" content ="width=device-width"> 
```

这并不能完美地调整它的大小，因为它[目前看起来像这样](http://dl.dropbox.com/u/50941418/screen_shot_iphone.jpg)。这是[原始](http://gallery.campaignmonitor.com/ViewEmail/r/204A1EB681D250A3/)的HTML。

我想知道我还能做些什么来实现这个目标？我不想只为这个 HTML 而正确地处理其他 HTML 页面。

也许为此已经存在一个 jQuery 插件？

我不想只为这个页面做正确的事情，我想要对任何 HTML 页面更通用的东西。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-25T11:51:14.970

您可以将不同的样式表链接到不同的媒体，如下所示：

```
<link rel="stylesheet" media="all and (max-device-width: 480px)" href="iphone.css"> 
<link rel="stylesheet" media="all and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)" href="ipad-portrait.css"> 
<link rel="stylesheet" media="all and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)" href="ipad-landscape.css"> 
<link rel="stylesheet" media="all and (min-device-width: 1025px)" href="ipad-landscape.css"> 
```

通过这种方式，您可以为各种屏幕尺寸等创建不同的 CSS 规则。这为您提供了极大的灵活性。

[资源](http://broadcast.oreilly.com/2010/04/using-css-media-queries-ipad.html)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-27T17:22:42.130

网格系统将提供很多灵活性。大多数缩放图像和文本（如果需要），并转换为流畅的移动布局。

我更喜欢 1140 CSS Grid [http://cssgrid.net/](http://cssgrid.net/)

还有：

*   [http://semantic.gs/](http://semantic.gs/)
*   [http://fluidable.com/](http://fluidable.com/)
*   [http://960.gs/](http://960.gs/)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-25T11:12:16.897

我想你不能在 html- 或 body-element 上使用 max-width 。它适用于：

```
@media screen and (max-width: 480px){
    #wrap {
    max-width: 320px;
    }
} 
```

（需要进一步更改#logo）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-02T11:16:25.077

请注意：

```
<meta name="viewport" ... 
```

[iOS 设备上](https://github.com/h5bp/html5-boilerplate/issues/1099)似乎存在错误。

另外，看看[Twitter Responsive Bootstrap](http://twitter.github.com/bootstrap/scaffolding.html#responsive)用于开发响应式网站，以及 responsive.is 用于测试。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-02T09:56:15.017

在 html 页面的 head 标签顶部使用以下元标签：

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width; initial-scale=0.83; maximum-scale=0.83; minimum-scale=0.83; user-scalable=0;" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /> 
```

您可以根据需要更改`initial-scale`and`maximum-scale`以适应内容。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-31T08:54:48.507

```
@media only screen and (max-width: 999px) {
  /* rules that only apply for canvases narrower than 1000px */
}

@media only screen and (device-width: 768px) and (orientation: landscape) {
  /* rules for iPad in landscape orientation */
}

@media only screen and (min-device-width: 320px) and (max-device-width: 480px) {
  /* iPhone, Android rules here */
} 
```

这些可能看起来是专有的，但实际上这些是在 Firefox、Safari（包括 Mobile）和 Google Chrome 中实现的 CSS3 媒体查询。

之后，创建三个不同的布局。1.widths up to 480px (iPhone, Android)：紧凑的间距，单列；2.高达980px（iPad纵向）：流体列仅在顶部，其他地方为单列；3.wider than 980px：固定的，两列居中布局。

您可能还想为每种不同的样式调整字体大小，以使其完美地适合目标设备。

此外，如果您的目标是 iOS 平台，请确保您的布局自动填充 iDevice 的显示。在移动 webkits 中，你可能想使用这个：

```
<meta name="viewport" content="initial-scale=1.0"> 
```

这是因为即使布局本身更窄，移动 Safari 也会显示缩小的 980 像素宽的页面版本。您可以在此处阅读更多这些规范：[https ://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html](https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html)

您应该知道，方向媒体查询虽然在 iPad 上受支持，但在 iPhone 上不起作用。幸运的是，像 width 和 device-width 这样的尺寸查询可以工作，所以布局切换可以在没有 JavaScript 的情况下通过它们的某种组合来实现。

此外，随着 Retina 显示设备的出现，您可能希望专门针对它们提供高分辨率图形。您可以查看详细信息：[https ://webkit.org/blog/55/high-dpi-web-sites/](https://webkit.org/blog/55/high-dpi-web-sites/)

最后，对于 Retina 设备，您可以使用这个：

```
<link rel="stylesheet" media="only screen and -webkit-min-device-pixel-ratio: 2" href="highres.css"> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-01T19:40:26.217

对于初学者来说，这是一个很好的参考“**标准设备的媒体查询**” [http://css-tricks.com/snippets/css/media-queries-for-standard-devices/](http://css-tricks.com/snippets/css/media-queries-for-standard-devices/)

**以下样式对您有用吗？**

```
/* Smartphones (portrait) ---------------- */
@media only screen and (max-width : 320px) {
     /* Styles */
     * {
        max-width: 320px;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
     }
} 
```

当应用 320px 的最大宽度时，框大小将考虑填充。所以它不会在 320px 上添加任何填充（默认情况下会这样做）。

试试看，祝你好运。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-05-29T12:32:26.607

将您的包装器或主体元素设置为`width: 100%; overflow:hidden;`. 所有子元素都有一个`max-width: 100%`. 现在使用此工具将所有像素转换为参考其父母的百分比：[http](http://rwdcalc.com/) ://rwdcalc.com/它对我帮助很大！

# c++ - 此构造函数初始化程序是否会导致悬空引用？

> ID：10753042
> 
> 赞同：15
> 
> 时间：2012-05-25T10:45:47.397
> 
> 标签：c++, reference, dangling-pointer

我正在学习 Stanley B. Lippman 的 C++ Primer 第 4 版。在 12.4.1 节中，当作者谈到构造函数初始化器时，他给出了这个例子：

```
class ConstRef {
  public:
    ConstRef(int ii);
  private:
    int i;
    const int ci;
    int &ri;
};
// OK: explicitly initialize reference and const members.
ConstRef::ConstRef(int ii): i(ii), ci(i), ri(ii) { } 
```

我怀疑这可能会导致`ri`指向的悬空引用`ii`，这是一个临时的。我对吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-25T10:48:08.340

我也这么认为。尝试这个

```
ConstRef::ConstRef(int ii): i(ii), ci(i), ri(i) { } 
```

# c# - 如何对任务并行性进行单元测试

> ID：10753044
> 
> 赞同：4
> 
> 时间：2012-05-25T10:45:52.717
> 
> 标签：c#, .net, unit-testing, task-parallel-library, vs-unit-testing-framework

我在 .NET 中有一个类，它创建并启动一个新类`System.Threading.Tasks.Task`，如下所示：

```
public class ScheduledTask
{
    private IFoo _foo;

    public ScheduledTask(IFoo foo)
    {
        _foo = foo;
    }

    public void Start()
    {           
        _task = new Task(() => Run());
        _task.Start();
    }

    public void Stop(TimeSpan timeout)
    {
        var taskCompletedNormally = _task.Wait(timeout);
        if (taskCompletedNormally)
        {                
            _task.Dispose();
            _task = null;                
        }
    }

    private void Run(){ // Do some work}
} 
```

如何对C#.Net 中的`ScheduledTask.Start`和方法进行单元测试？`ScheduledTask.Stop`哪些框架可用于此类单元测试，哪些是单元测试线程（或任务并行性）的最佳实践？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-25T11:53:09.373

你的班级做得很多。启动/停止是一个通用函数，应该在它自己的类中。

```
public class StartStopTask
{
    private readonly Action _action;

    public StartStopTask(Action action)
    {
        _action = action;
    }

    public void Start()
    {           
        _task = new Task(_action);
        _task.Start();
    }
    ...
} 
```

这个类很容易进行单元测试。

```
bool worked = false;
var startstop = new StartStopTask(() => { worked = true });
startstop.Start();
startstop.Stop(new TimeSpan(0,0,0,10));
Assert.That(worked, Is.True); 
```

然后，您的其他类使用 StartStopTask 来完成它的工作。

要么派生

```
public class ScheduledTask : StartStopTask
{
    private IFoo _foo;

    public ScheduledTask(IFoo foo)
        : base(() => Run())
    {
        _foo = foo;
    }

    private void Run(){ // Do some work }
} 
```

或者只是委派工作

```
public class ScheduledTask
{
    private IFoo _foo;
    private readonly StartStopTask _startstop;

    public ScheduledTask(IFoo foo)
    {
        _foo = foo;
        _startstop = new StartStopTask(() => Run());
    }

    public void Start()
    {           
        _startstop.Start();
    }

    public void Stop(TimeSpan timeout)
    {
        _startstop.Stop(timeout);
    }

    private void Run(){ // Do some work }
} 
```

更好的是让 Run 成为一个公共方法，让调用者决定它应该如何运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:00:08.483

您可以尝试使用 Mock 任务。

最好的 ！

# jquery - 无法使用 jquery 在选取框上显示工具提示

> ID：10753046
> 
> 赞同：0
> 
> 时间：2012-05-25T10:45:57.730
> 
> 标签：jquery, html, tooltip, marquee

我已经对此进行了编码，但是当我转到选取框文本时它没有加载工具提示。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript" src="http://www.webringideas.com/wp-content/uploads/demo/tooltip/js/ntip.js"></script>

<div id="fixedfooter">
    <marquee class="smooth_m" behavior="scroll" direction="left" onMouseOut="this.start()" onMouseOver="this.stop()" scrollamount="3">
        <div id="demo">

  <span style="color: #ff0000;" class="formInfo">
  <a href="#">
  <span style="color: #000000;display: none;" class="mycontent">test Successful for HTML Tooltip on marquee</span></a>Testing HTML Tooltip on marquee using jQuery and css
  </span>

  </div>
    </marquee>
</div>

        <script type="text/javascript">
            $(document).ready(function(){
        $(".formInfo").tooltip({tooltipcontentclass:"mycontent"})
});;
        </script> 
```

但是，当我不使用选取框并且文本是静态的时，同样的事情也可以正常工作。

这很好用，

```
<span class="formInfo">Tooltip<span style="display: none;" class="mycontent">Testing <font color="red">HTML</font> content</span></span> 
```

有什么工具提示可以推荐，我可以在我的选框中使用吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:17:05.870

我稍微修改了您的代码，看起来就像在[jsFiddle](http://jsfiddle.net/egh5E/)上工作。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript" src="http://www.webringideas.com/wp-content/uploads/demo/tooltip/js/ntip.js"></script>
<div id="fixedfooter">
<marquee class="smooth_m" behavior="scroll" direction="left" onmouseout="this.start()" onmouseover="this.stop()" scrollamount="3">
<div id="demo">
    <span style="color: #ff0000;" class="formInfo">
    <div class="mycontent" style="color: #000000;display:none;">
        test Successful for HTML Tooltip on marquee
    </div>
    <a href="#"></a>Testing HTML Tooltip on marquee using jQuery and css</span>
</div>
</marquee>
</div> 
```

javascript部分：

```
$(document).ready(function() {
    $(".formInfo").tooltip({
        tooltipcontentclass: "mycontent"
    })
});; 
```

# java - 您真的可以从使用您的应用程序中过滤进/出平板电脑吗？

> ID：10753047
> 
> 赞同：0
> 
> 时间：2012-05-25T10:45:59.227
> 
> 标签：java, google-play, android, android-market-filtering

许多平板电脑（如 Galaxy Tab）报告为`large`屏幕，而不是`xlarge`. 因此，如果我通过使用我的应用程序过滤掉平板电脑

```
<supports-screens
            android:smallScreens="true"
            android:normalScreens="true"
            android:largeScreens="true"
            android:xlargeScreens="false"
            /> 
```

这是否意味着没有平板电脑能够在 Play 商店中看到我的应用程序？甚至 Galaxy Tab 和类似设备（被识别为`large-hdpi`?

一样的东西。如果我制作了一个平板电脑应用程序并希望它仅供平板电脑使用并通过以下方式设置它

```
<supports-screens
            android:smallScreens="false"
            android:normalScreens="false"
            android:largeScreens="false"
            android:xlargeScreens="true"
            /> 
```

任何 Galaxy Tab 或类似设备都能看到这个应用程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T10:58:27.033

您无法完全过滤掉片剂。Android 生态系统不区分平板电脑和手机。您应该专注于使您的应用程序在各种屏幕尺寸上看起来不错，如果您不想支持 xlarge 屏幕尺寸，那就这样吧。但用户仍然可以在支持模式下的平板电脑上查看它（有关更多信息，请参见[此处](http://developer.android.com/guide/topics/manifest/supports-screens-element.html)）。

有一个类似的帖子与讨论here。基本上你可以稍微改变一下清单，但你最终会过滤掉一些平板设备，而大显示屏的手机可能仍然可以下载：[Designing an android tablet-only app](https://stackoverflow.com/questions/10540646/designing-an-android-tablet-only-app)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:01:35.923

您可以通过不支持小屏幕尺寸来阻止智能手机使用平板电脑应用程序，但是当您在平板电脑上使用智能手机应用程序时，它只会拉伸

# android - 如何制作带有气泡的即时通讯工具 GUI

> ID：10753048
> 
> 赞同：6
> 
> 时间：2012-05-25T10:45:59.100
> 
> 标签：android

我是一个非常初学者，我需要有人告诉我，带有气泡的即时通讯工具 GUI 是如何完成的。它只是一个带有 9 个补丁背景的 TextViews 的 ScrollView 吗？以及在最底层以何种方式创建新的？或者是否有任何库来实现这一切？如何在Android上制作它？只需指出我的技术。

![这是我想要的快速图片](../Images/d09474c6abb894722a6ba1f6c8959d85.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-25T10:49:57.863

关于显示您将使用的所有聊天消息`ListView`。

每个项目将显示来自用户的单个消息。

您必须提供[两种类型的行](https://stackoverflow.com/a/4777306/593709)，一种用于发送者，另一种用于接收者。

并且关于语音气泡，您需要[使用 9 个补丁图像](https://stackoverflow.com/q/5096537/593709)。

编辑：我写了一篇关于[Android Speech Bubble](http://adilsoomro.blogspot.com/2012/12/android-listview-with-speech-bubble.html)的博文。可能对你有一些帮助。:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-25T11:04:49.077

尝试使用本[教程](http://androiddevelopement.blogspot.com/2012/01/custom-adapter-for-listview-to-create.html)，它非常有帮助：

首先，您必须为气泡视图创建 9-patch 可绘制对象

第二为您的 ui 构建两个自定义行，其中一个带有指向右侧的气泡，另一个指向左侧

最后使用自定义适配器将数据绑定到您的视图

干杯希望这将成为解决方案的起点

# objective-c - 当我改变 UIView 我的 NavigationBar 没有

> ID：10753051
> 
> 赞同：0
> 
> 时间：2012-05-25T10:46:12.267
> 
> 标签：objective-c, ios, uinavigationcontroller, uinavigationbar, background-image

我在 NavigationController 中嵌入了一个 ViewController，我自定义了 NavigationBar（更改代码中的背景图像），当我单击一个按钮时，它会将用户正确引导到另一个视图。但是，当我到达这个视图时，我无法更改 NavBar 的图像......我试着写这个：

```
[self.navigationController.navigationBar setBackgroundImage:[UIImage imageNamed:@"otherBackground.png"] forBarMetrics:UIBarMetricsDefault]; 
```

在 IBAction 方法中，在我的主 ViewController 的 ViewDidUnload 和我的另一个 ViewController 的 ViewDidLoad 和 initWithNibName 中，但没有任何改变以前的图像。我能做些什么 ？

我的 IBAction 如下：

```
- (IBAction) versModeEmploi : (id) sender
{
    if(!modeEmploi) modeEmploi = [[ModeEmploiController alloc] initWithNibName:@"ModeEmploiController" bundle:nil];
    UIBarButtonItem *backBarButtonItem = [[UIBarButtonItem alloc] initWithTitle:@"Retour" style:UIBarButtonItemStylePlain target:nil action:nil];
    self.navigationItem.backBarButtonItem = backBarButtonItem;
    [self.navigationController pushViewController:modeEmploi animated:NO];
} 
```

非常感谢任何建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:08:51.433

非常愚蠢的问题（又名，“您是否尝试将其关闭再打开？”）：

您是如何从“嵌入式视图”过渡到第二个视图的？它应该看起来像这样：

```
[self.navigationController pushViewController:detailViewController animated:YES]; 
```

如果不是，那么`self.navigationController`在您的第二种观点中不会指出任何有用的东西。

问候，克里斯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:15:38.723

在你的第一个视图控制器中试试这个：

```
[[UINavigationBar appearance] setBackgroundImage:image forBarMetrics:UIBarMetricsDefault]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T19:24:04.483

好吧，如果有人对解决方案感兴趣，我只需要使用它来解决问题：

```
[self.navigationController.navigationBar setNeedsDisplay];
[self.navigationController.navigationBar setBackgroundImage:[UIImage imageNamed:@"nav.png"] forBarMetrics:UIBarMetricsDefault]; 
```

这是根据我们想要的添加 viewDidAppear/Disappear 方法。

# android - Android后退按钮根本不起作用

> ID：10753057
> 
> 赞同：0
> 
> 时间：2012-05-25T10:46:40.800
> 
> 标签：android

我有一个`Fragment Activity`托管`Map`和`ListActivity`. 我想在按下后退按钮时放置一个方法`Activity`，但它似乎根本不起作用。我`Log`的甚至没有印在`Stacktrace`. 我不知道到底出了什么问题。

这是方法：

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK ) {
           Log.e("Test","Back Button Clicked");

            this.finish();
            return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T10:48:05.907

```
@Override 
public void onBackPressed(){ 
  Toast.makeText(getBaseContext(), "back button pressed", Toast.LENGTH_SHORT).show(); 
  Log.e("Test","Back Button Clicked");
  this.finish();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:38:08.793

如果你想要那种功能，你需要在你的活动中覆盖它，然后为你的所有片段添加一个 YourBackPressed 接口，只要按下后退按钮，你就会在相关片段上调用它。

复制自[如何在 Android Fragments 中实现 onBackPressed()？](https://stackoverflow.com/questions/5448653/how-to-implement-onbackpressed-in-android-fragments)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T10:51:12.653

也许尝试删除“if”语句，看看会发生什么？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T10:59:38.363

试试看，它可能会根据您的需要工作，

```
public boolean onKeyDown(int keyCode, KeyEvent event) {
            if (keyCode == KeyEvent.KEYCODE_BACK) {
                Log.e("Test","Back Button Clicked");
    Intent backpage = new Intent(CurrentActivity.this,BackPageActivity.cls);
                    startActivity(backpage);
               CurrentActivity.this.finish();

                return true;
            }
            return super.onKeyDown(keyCode, event);    
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-25T11:06:44.613

问题解决了：

[如何在 Fragments 中实现 onBackPressed()？](https://stackoverflow.com/questions/5448653/how-to-implement-onbackpressed-in-android-fragments)

为了在 Fragment 上使用后退按钮，您还需要在您的子活动上声明`onKeyDown`/`onBackPressed()`方法。

# java - 在Android中绘制wav音频的波形

> ID：10753058
> 
> 赞同：0
> 
> 时间：2012-05-25T10:46:41.080
> 
> 标签：java, android, audio, pcm, waveform

[我的 android 应用程序需要为使用AudioRecord](http://developer.android.com/reference/android/media/AudioRecord.html)类记录为原始 pcm 的音频绘制波形 。我浏览了开源项目[RingDroid](http://code.google.com/p/ringdroid/)的源代码，它在 android 中显示波形和处理音频，但我什么都不懂，因为它很复杂。

请给我看一些从 pcm 数据中绘制波形的代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:14:35.833

有一个名为 Visualizer 的 Android 类可让您访问音频。

Visualizer 不仅可以访问“实时”音频输出混合，还可以访问来自特定 MediaPlayer 或 AudioTrack 的音频

[http://developer.android.com/reference/android/media/audiofx/Visualizer.html](http://developer.android.com/reference/android/media/audiofx/Visualizer.html)

有一个使用 Visualizer 显示音频输出混合的动态壁纸，但这可以适应使用来自 MediaPlayer 或 AudioTrack 的音频
[https://android.googlesource.com/platform/packages/wallpapers/MusicVisualization/+/master/src /com/android/musicvis](https://android.googlesource.com/platform/packages/wallpapers/MusicVisualization/+/master/src/com/android/musicvis)

# mysql - MySQL PDO 最后插入的 ID

> ID：10753066
> 
> 赞同：2
> 
> 时间：2012-05-25T10:47:16.197
> 
> 标签：mysql, database, pdo

我在 MySQL 上有一个带有主键的表，我插入到该表中，我想恢复插入的最后一行的 id，我知道我必须使用`LAST_INSERT_ID` 但我的问题是在使用该语句将值插入另一个表之后没有主键，我可以再次使用它来获取第一个插入的确切 ID 吗？

$php pdo #

```
include_once 'type_model.php';
        $t = new Type_Model();
        $typeID = $t->getTypeID($type);
        include_once 'informationObject_model.php';
        $i = new InformationObject_Model();
        $answerIoID = $i->getIOID($ioAnswer);
        $query = "INSERT INTO question (info, text, answer, answerIoID, firstChoice, secondChoice, thirdChoice, 
            firstHint, secondHint, typeID) VALUES (:info, :text, :answer, :answerIoID,
            :firstChoice, :secondChoice, :thirdChoice, :firstHint, :secondHint, :typeID)";
        $sth = $this->db->prepare($query);
        $sth->execute(array(
            ':info' => $info,
            ':text' => $text,
            ':answer' => $answer,
            ':answerIoID' => $answerIoID,
            ':firstChoice' => $choices[0],
            ':secondChoice' => $choices[1],
            ':thirdChoice' => $choices[2],
            ':firstHint' => $hints[0],
            ':secondHint' => $hints[1],
            ':typeID' => $typeID
        ));
        if ($about == "Place") {
            include_once 'place_model.php';
            $p = new Place_Model();
            $placeID = $p->getPlaceID($place);
            $query = "INSERT INTO `question-place` (questionID, placeID) VALUES
                (LAST_INSERT_ID() ,:placeID )";
            $sth = $this->db->prepare($query);
            $sth->execute(array(
                ':placeID' => $placeID
            ));
        } 
```

现在如果`about==place`我可以写这个吗？

```
$query = "INSERT INTO `question-io` (questionID, io) VALUES
                (LAST_INSERT_ID() ,:io )";
$sth = $this->db->prepare($query);
$sth->execute(array(
                ':io' => $io
            )); 
```

我没有尝试过，因为在填满所有表格之前我无法尝试，而且我无法在不知道 ID 的情况下填满所有表格 :)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-25T10:51:04.747

如果您的对象`$this->db`引用了 PDO 对象，那么您可以使用它

```
$ID=$this->db->lastInsertId(); 
```

要保存您的 ID，最好将其保存在变量中

所以在每次插入后，您可以保存插入行的 ID

记住你必须在之后使用它`$sth->execute()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T10:53:08.440

每次您将记录插入到具有主键作为自动增量“LAST_INSERT_ID()”的表中时，都会使用最新值进行更新。它不会是持久的，但是如果您的表没有，它应该仍然保存用于具有自动增量主键的表的最后一个值。

# java - 如何在不使用spring security的情况下限制登录用户在spring中访问登录页面？

> ID：10753069
> 
> 赞同：1
> 
> 时间：2012-05-25T10:47:32.997
> 
> 标签：java, spring, session, login

我是 Spring 新手，在**Spring**和**Tomcat**中开发动态 Web 应用程序，出于某种原因
，我没有使用*Spring Security*。我想阻止用户访问 已经在会话中 的**登录**页面。这是我的代码：

```
@Controller  
@RequestMapping("/login")  
@SessionAttributes("userAuthenticator")  
public class LoginController {  

    @RequestMapping(method = RequestMethod.GET)  
    public String showLogin(ModelMap model, HttpServletRequest request) {  
    System.out.println("Current Session: " + request.getSession(false));  

    if (request.getSession(false) == null) {  
    System.out.println("This means a new user wants to access the login page");  
    return "login";  
    }  

    else{  
    //means the user is already in session.So move him to another page say display.jsp  
    //actually I have done here with some other checking like getUserName() from   
    the model "UserAuthenticator" and if its again null redirect to login page.  
    } 
```

现在忘记**其他**部分。当我
第一次在浏览器中输入 URL 时： ..../AccountCreation/login.htm
**控制台输出：**

```
Current Session: null  
This means a new user wants to access the login page 
```

看起来很正常，因为新用户正在访问该页面（登录页面也会出现）。

**但是**当我**重新输入**URL 甚至***刷新***页面时，控制台输出就会出现：

```
Current Session: org.apache.catalina.session.StandardSessionFacade@511e0a 
```

**那个会话是从哪里来的**？**
（出于这个原因，在我的其他部分我得到：“网页有一个重定向循环”在我的浏览器中）**

 **谁能建议我在不使用*Spring Security*的情况下实现我的目标的方法？
这对我来说现在非常需要......

***谢谢...***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T10:53:00.593

您可以使用会话变量。

```
HttpSession ses=request.getSession(false);
if(ses.getAttribute("sessionVar") == null)
     //show login page
else
     // don't show login page 
```

设置会话变量：

```
 HttpSession ses=request.getSession();
 ses.setAttribute("sessionVar","someValueToShowSession"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T10:50:59.097

一旦用户向页面发出第一个请求，会话就会开始。所以第二次访问总是会给出一个有效的会话。

如果您想检查他是否是经过身份验证的用户，那么您需要在会话中放置一些标志/值。类似于 userId 的东西。你可以检查一下

如果在会话中设置了 userId -> 有效用户 -> 重定向。

如果用户 ID 未在会话中设置 -> 未登录用户 -> 允许登录页面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:26:08.563

这只是预期的行为。当您第一次登录时，会创建一个会话并将 jsessionid cookie 存储在浏览器中。除非您使用 session.invalidate() 使会话无效或会话由于会话超时而过期，否则 HttpSession 将可用于该浏览器窗口。

如果您想通过输入登录页面 url 来限制已经登录的用户查看登录页面，然后创建一个拦截器并检查用户是否已经登录。如果用户已经登录然后将他重定向到主页...否则让他去登录页面。**

# haskell - 存在类型的理论基础是什么？

> ID：10753073
> 
> 赞同：68
> 
> 时间：2012-05-25T10:47:46.857
> 
> 标签：haskell, types, type-systems, existential-type, quantifiers

[Haskell Wiki](http://en.wikibooks.org/wiki/Haskell/Existentially_quantified_types#Explaining_the_term_existential)很好地解释了如何使用存在类型，但我不太了解它们背​​后的理论。

考虑这个存在类型的例子：

```
data S = forall a. Show a => S a      -- (1) 
```

为我们可以转换为`String`. wiki 提到我们*真正*想要定义的类型是

```
data S = S (exists a. Show a => a)    -- (2) 
```

即一个真正的“存在”类型——我松散地认为这是在说“数据构造函数`S`采用任何**存在**`Show`实例的类型并包装它”。实际上，您可能可以编写如下 GADT：

 **```
data S where                          -- (3)
    S :: Show a => a -> S 
```

我没有尝试编译它，但它似乎应该可以工作。对我来说，GADT 显然等同于我们想要编写的代码 (2)。

但是，我完全不明白为什么（1）等于（2）。为什么将数据构造函数移到外面会`forall`变成一个`exists`？

我能想到的最接近的是逻辑中的[德摩根定律](http://en.wikipedia.org/wiki/De_Morgan's_laws#Extensions)，其中交换否定和量词的顺序将存在量词变成全称量词，反之亦然：

```
¬(∀x. px) ⇔ ∃x. ¬(px) 
```

但数据构造函数似乎与否定运算符完全不同。

`forall`使用而不是不存在来定义存在类型的能力背后的理论是什么`exists`？

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2012-05-25T11:53:21.437

首先，看一下“Curry Howard 对应”，它指出计算机程序中的类型对应于直觉逻辑中的公式。直觉逻辑就像你在学校学到的“常规”逻辑，但没有排中律或双重否定消除法：

*   不是公理：P ⇔ ¬¬P（但 P ⇒ ¬¬P 很好）

*   不是公理：P ∨ ¬P

## 逻辑法则

你在德摩根定律的正确轨道上，但首先我们将使用它们来推导出一些新的定律。德摩根定律的相关版本是：

*   ∀x。P(x) = ¬∃x。¬P(x)
*   ∃x。P(x) = ¬∀x。¬P(x)

我们可以推导出 (∀x.P ⇒ Q(x)) = P ⇒ (∀x.Q(x))：

1.  (∀x.P ⇒ Q(x))
2.  (∀x.¬P ∨ Q(x))
3.  ¬P ∨ (∀x.Q(x))
4.  P ⇒ (∀x.Q)

并且 (∀x.Q(x) ⇒ P) = (∃x.Q(x)) ⇒ P （下面使用这个）：

1.  (∀x.Q(x) ⇒ P)
2.  (∀x. ¬Q(x) ∨ P)
3.  (¬¬∀x.¬Q(x)) ∨ P
4.  (¬∃x.Q(x)) ∨ P
5.  (∃x.Q(x)) ⇒ P

请注意，这些定律也适用于直觉逻辑。我们得出的两个定律在下面的论文中被引用。

## 简单类型

最简单的类型很容易使用。例如：

```
data T = Con Int | Nil 
```

构造函数和访问器具有以下类型签名：

```
Con :: Int -> T
Nil :: T

unCon :: T -> Int
unCon (Con x) = x 
```

## 类型构造函数

现在让我们处理类型构造函数。采用以下数据定义：

```
data T a = Con a | Nil 
```

这会创建两个构造函数，

```
Con :: a -> T a
Nil :: T a 
```

当然，在 Haskell 中，类型变量是隐式地普遍量化的，所以这些实际上是：

```
Con :: ∀a. a -> T a
Nil :: ∀a. T a 
```

访问器同样简单：

```
unCon :: ∀a. T a -> a
unCon (Con x) = x 
```

## 量化类型

让我们将存在量词 ∃ 添加到我们的原始类型（第一个，没有类型构造函数）。与其在看起来不像逻辑的类型定义中引入它，不如在看起来像逻辑的构造函数/访问器定义中引入它。我们稍后将修复数据定义以匹配。

`Int`我们现在将使用代替`∃x. t`。这里，`t`是某种类型的表达。

```
Con :: (∃x. t) -> T
unCon :: T -> (∃x. t) 
```

根据逻辑规则（上面的第二条规则），我们可以将类型重写`Con`为：

```
Con :: ∀x. t -> T 
```

当我们把存在量词移到外面（前缀形式）时，它变成了一个全称量词。

所以以下理论上是等价的：

```
data T = Con (exists x. t) | Nil
data T = forall x. Con t | Nil 
```

`exists`除了Haskell中没有 for 的语法。

在非直觉逻辑中，允许从 的类型推导出以下内容`unCon`：

```
unCon :: ∃ T -> t -- invalid! 
```

这是无效的原因是直觉逻辑中不允许这样的转换。所以`unCon`没有`exists`关键字就不可能写出for的类型，也不可能把类型签名放在prenex形式中。很难让类型检查器保证在这种情况下终止，这就是 Haskell 不支持任意存在量词的原因。

## 来源

“First-class Polymorphism with Type Inference”，Mark P. Jones，第 24 届 ACM SIGPLAN-SIGACT 编程语言原理研讨会论文集（[网络](http://web.cecs.pdx.edu/~mpj/pubs/fcp.html)）

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-05-25T12:07:58.130

Plotkin 和 Mitchell 在他们的著名论文中建立了存在类型的语义，将编程语言中的抽象类型与逻辑中的存在类型联系起来，

> 米切尔，约翰 C.；普洛特金，戈登 D。[抽象类型具有存在类型](http://dl.acm.org/citation.cfm?id=45065)，ACM Transactions on Programming Languages and Systems，Vol。10，第 3 期，1988 年 7 月，第 470-502 页

在高水平上，

> 抽象数据类型声明出现在 Ada、Alphard、CLU 和 ML 等类型化编程语言中。这种形式的声明将标识符列表绑定到具有相关操作的类型，我们称为数据代数的复合“值”。我们使用二阶类型化 lambda 演算 SOL 来展示数据代数如何被赋予类型、作为参数传递以及作为函数调用的结果返回。在这个过程中，我们讨论了抽象数据类型声明的语义，并回顾了类型化编程语言和构造逻辑之间的联系。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-05-25T11:34:08.837

您链接的haskell wiki文章中对此进行了说明。我将从中借用几行代码和注释并尝试解释一下。

```
data T = forall a. MkT a 
```

在这里，您有一个`T`带有类型构造函数的类型`MkT :: forall a. a -> T`，对吧？`MkT`是（大致）一个函数，因此对于每个可能的 type `a`，该函数`MkT`都有 type `a -> T`。因此，我们同意通过使用该构造函数，我们可以构建类似 的值`[MkT 1, MkT 'c', MkT "hello"]`，它们都是 type `T`。

```
foo (MkT x) = ... -- what is the type of x? 
```

但是当您尝试提取（例如通过模式匹配）包装在 a 中的值时会发生什么`T`？它的类型注解只说`T`，而没有提及其中实际包含的值的类型。我们只能同意这样一个事实，无论它是什么，它都会有一种（而且只有一种）类型；我们如何在 Haskell 中说明这一点？

```
x :: exists a. a 
```

这只是说存在一个`a`属于的类型`x`。此时应该清楚的是，通过删除`forall a`from`MkT`的定义并明确指定包装值的类型（即`exists a. a`），我们能够获得相同的结果。

```
data T = MkT (exists a. a) 
```

如果您在示例中为已实现的类型类添加条件，则底线也是相同的。**

# php - 比特币钱包交易回调

> ID：10753081
> 
> 赞同：4
> 
> 时间：2012-05-25T10:48:27.163
> 
> 标签：php, http, transactions, bitcoin

比特币客户端（以服务器模式运行）是否可以在收到交易并确认后发送 HTTP 请求？即发送到 PHP 脚本以进行回调/确认。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-04-20T13:36:23.770

这可以使用 bitcoin.conf 文件中的 walletnotify 参数来实现。

```
walletnotify=/home/bitcoin/transaction.sh %s 
```

这将以 txid 作为参数调用 transaction.sh 脚本。从那里你基本上可以做任何事情。

例如：

```
#!/bin/sh
curl -d "txid=$1" http://127.0.0.1/callback 
```

**注意：您要监控的地址必须是您钱包的一部分**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-03T10:15:17.447

您可以解析[https://blockchain.info/rawaddr/](https://blockchain.info/rawaddr/) $bitcoin_address api 以获取新交易

# jquery - 如何在 jquery mobile 中向弹出窗口添加动态数据？

> ID：10753084
> 
> 赞同：0
> 
> 时间：2012-05-25T10:48:47.260
> 
> 标签：jquery, jquery-mobile

我`popup()`在jquery mobile中使用过

```
$("#id").popup(); 
```

我想在弹出窗口打开时向该“id”元素添加一些数据。如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T21:51:22.540

将此添加到您的 JavaScript：

```
$("#id").on('popupafteropen', function(){
    // do whatever here
    $(this).append("Add some HTML!");
    $(this).html("Or replace the HTML contents.");
}); 
```

查看弹出插件的事件：http: [//jquerymobile.com/test/docs/pages/popup/events.html](http://jquerymobile.com/test/docs/pages/popup/events.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-01T07:00:08.843

因此，对于 jQuery mobile，如果您通过 ajax 调用生成链接，总是会出现问题。这是因为在初始化时，jQuery mobile 往往会改变很多关于元素的事情。

此外，您不能一直生成多个弹出窗口，因为如果您正在从事像我这样的项目，您可能有很多地方需要弹出窗口，从而使应用程序变慢。因此，每次有人点击链接时，我们只制作一个弹出窗口并更改内容。

我创建了一个小提琴看你的问题。试一试，加油

[http://jsfiddle.net/tanwaniniranjan/0hzco633/3/](http://jsfiddle.net/tanwaniniranjan/0hzco633/3/)

html:

```
<a href="#popupBasic" data-rel="popup" data-transition="flip" class="popupcontentchanger">Open Popup</a>

<div data-role="popup" id="popupBasic" data-overlay-theme="a">
    <a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
    <div id="changehere"> <!-- We will be changing content in this div -->

    </div>
</div> 
```

jQuery：

```
//script to change content
$(document).on("click",".popupcontentchanger",function(event){
    var newhtml = $(this).html();
    $(document).on("popupafteropen", "#popupBasic", function (e) {
        $("#popupBasic #changehere").html(newhtml);
    });
});

//script to clear current html in the popup, on closing of popup so that every time it opens, it loads new content, without initially showing the old content. would have been better if jquery mobile added another method: popupbeforeopen :P
$(document).on("popupafterclose", "#popupBasic", function (e) {
    $("#popupBasic #changehere").html('');
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T10:50:16.693

```
$('#id').attr('data-some', 'some').popup(); 
```

或者

```
$('#id').data('some', 'some').popup(); 
```

关于**[数据（）](http://api.jquery.com/data/)**

# java - 如何提高 Java 中的 Hibernate 性能？

> ID：10753085
> 
> 赞同：6
> 
> 时间：2012-05-25T10:48:49.660
> 
> 标签：java, hibernate

我有数以千计的记录需要通过一次用户点击来检索。目前它给我的结果非常缓慢，我必须等待很长时间。有没有办法改进使用hibernate检索这些结果？

我有一个案例，其中具有选择查询的方法将每分钟运行一次。这就是 Hibernate 给我带来缓慢结果的地方。我正在使用带有 MySQL 的 Hibernate。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-25T10:53:27.490

常见的做法是启用二级缓存和查询缓存。比您的数据将从内存中读取，而不是从数据库中读取。

关于它的好文章在[这里](http://www.javalobby.org/java/forums/t48846.html)

其他事情可能会有所帮助：

1 索引 - 如果有位置和排序 - 您必须为正在搜索/排序的字段建立索引 - 这可以将搜索速度提高 10 倍

2 非规范化 - 如果您有很多连接，一些非规范化（将所有内容放在单个表中）会有所帮助。但这应该是其他一切都失败时的最终解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T10:51:53.637

`Pagination`如果您必须在网页上显示记录并一次检索部分记录，我建议您选择100。

# facebook - 我们可以在 windows phone 7 中访问 facebook 好友生日列表吗？

> ID：10753086
> 
> 赞同：0
> 
> 时间：2012-05-25T10:48:51.157
> 
> 标签：facebook, windows-phone-7, facebook-graph-api

请帮我解决以下情况。

```
1.can we access the friends birthday's list using Graphic API in windows phone 7.
2.Can we access the friends updates message in windows phone 7. 
```

请澄清这些是否实现。Windows Phone 7中没有Facebook API。如何访问上述内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:38:22.820

您可以通过对 API 端点进行适当的 Graph API 调用来访问两者。您只需要编写一个库来处理您的应用程序的 OAuth 和 API 调用。

调用[https://graph.facebook.com/](https://graph.facebook.com/) {friend_id} 将返回用户的 DOB，前提是您已请求`friends_birthday`权限并且他们的隐私设置已设置为显示他们的 DOB。您可以执行类似的操作来获取他们的状态消息。

# android - JSON 转换

> ID：10753093
> 
> 赞同：0
> 
> 时间：2012-05-25T10:49:16.827
> 
> 标签：android, json

我想知道如何将来自服务器的 http 响应转换为适当的可解析 JSON 数组

```
 try {
            HttpClient httpClient = new DefaultHttpClient();
            HttpPost postRequest = new HttpPost(
                    "http://riffre.com/chatapp/search.php?format=json");
            postRequest.setEntity(new UrlEncodedFormEntity(nameValuePair));
            ResponseHandler<String> responseHandler = new BasicResponseHandler();
            responsesrch = httpClient.execute(postRequest, responseHandler);

            Log.v("search response", responsesrch); 
```

这是我的代码，我将一些参数以名称值对的形式发布到服务器`responseserch`，我得到的值是

```
{"users":[{"user":{"city":"gurgaon","username":"zxc","userid":"6","gender":"Male","images":"0"}},{"user":{"city":"gurgaon","username":"tarun","userid":"5","gender":"Male","images":"0"}},{"user":{"city":"gurgaon","username":"vips","userid":"4","gender":"Male","images":"0"}},{"user":{"city":"gurgaon","username":"rah","userid":"3","gender":"Male","images":"0"}},{"user":{"city":"gurgaon","username":"aak","userid":"2","gender":"Male","images":"0"}}]} 
```

这是字符串格式，所以我想知道如何将这个字符串转换为 json 数组，我还不知道我必须如何使用输入流和所有这些实体，因此任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T10:51:12.013

请看这个，很简单

[http://www.androidhive.info/2012/01/android-json-parsing-tutorial/](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)

将 IS 转换为字符串

```
 try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "n");
            }
            is.close();
            json = sb.toString();
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        } 
```

将字符串转换为 Json 对象

```
try {
            jObj = new JSONObject(json);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        } 
```

从对象获取数组

```
 // Getting Array of Contacts
    JSONArray  contacts = json.getJSONArray("users"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T10:53:35.383

您可以使用

1.  [GSON](https://sites.google.com/site/gson/gson-user-guide)
2.  [杰克逊](http://wiki.fasterxml.com/JacksonInFiveMinutes)

如果你想使用来自 json.org 的默认 json，那么 import `org.json.JSONArray;`你可以这样做：

```
JSONArray jsonArray = new JSONArray(yourJsonString); 
```

见：[http ://www.vogella.com/articles/AndroidJSON/article.html](http://www.vogella.com/articles/AndroidJSON/article.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T10:54:34.240

这是我的工作代码中的一个示例：

```
 jArray = new JSONArray(result);
   JSONObject json_data = null;
   double[] tempLong = null;
   double[] tempLat = null;
   for (int i = 0; i < jArray.length(); i++) {
       json_data = jArray.getJSONObject(i);
       tempLong = new double[jArray.length()];
       tempLat = new double[jArray.length()];
       tempLong[i] = json_data.getDouble("longtitude");
       tempLat[i] = json_data.getDouble("latitude");
   } 
```

我相信你可以根据你的需要调整它

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-25T11:01:09.997

如果您想将 Java 对象从 JSON 转换为 JSON，您可以查看：[google-gson Java library](http://code.google.com/p/google-gson/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-25T11:04:53.907

用两行代码

```
JSONObject jObj = new JSONObject(responsesrch.toString());
JSONArray jArr=jObj.getJSONArray("users"); 
```

# ruby-on-rails - 在多个操作系统（windows 和 osx）上编写 Rails

> ID：10753096
> 
> 赞同：0
> 
> 时间：2012-05-25T10:49:33.800
> 
> 标签：ruby-on-rails, windows, macos, git, heroku

我必须在工作中使用 Windows 机器，但家里有 Mac。我所有的 rails 代码都写在使用 RVM 并使用 GIT 部署到 heroku 的 mac 上。

但是我想开始在 Windows 机器上处理代码（代码保存在保管箱中并自动同步）

我记得当我以前编写 python 代码时，行尾在 git 中造成了地狱......能够使用两种不同的操作系统正确 RoR 的要求是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:31:51.280

为什么不在你的工作机器上配置heroku呢？您已经拥有版本控制 (git) 来负责同步和共享您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:00:05.303

您可以配置 git 在提交时将行尾转换为一个或另一个：http: [//help.github.com/line-endings/](http://help.github.com/line-endings/)

当您描述路径时，请务必使用内置方法来独立构建它们 OS，例如`File.join`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:01:01.353

您需要使用 core.autocrlf 功能。从手册

> core.autocrlf 将此变量设置为“true”与将所有文件的文本属性设置为“auto”几乎相同，但不保证文本文件被规范化：存储库中包含 CRLF 的文件将不会被触及。如果您希望在工作目录中使用 CRLF 行结尾，即使存储库没有规范化的行结尾，也可以使用此设置。该变量可以设置为输入，在这种情况下不执行输出转换。

```
git config --global core.autocrlf true 
```

因此，在您的 Windows 机器中，将此功能设置为 true，这意味着，

在提交期间，您的行尾将自动更改为 LF，并且当您签出本地文件时，您的本地文件将具有 Windows 的行尾（即 CRLF）

```
git config --global core.autocrlf input 
```

在您的非 Windows 机器上，将此设置为输入，这意味着

不要进行任何转换，我不容易发生任何行尾更改

# ios - 如何使用 POST 从 iOS 应用程序发送 NSData？

> ID：10753099
> 
> 赞同：6
> 
> 时间：2012-05-25T10:49:37.757
> 
> 标签：ios, post, nsdata

```
NSData *imageData = UIImagePNGRepresentation(image); 
```

如何使用 POST 发送 imageData？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-25T11:03:37.017

以下代码应该有所帮助

```
NSData *imageData = UIImagePNGRepresentation(image);

NSURL *yourURL = ...
NSMutableURLRequest *yourRequest = [NSMutableURLRequest requestWithURL:yourURL 
                                                           cachePolicy:NSURLRequestUseProtocolCachePolicy 
                                                       timeoutInterval:60.0];
//Set request to post
[yourRequest setHTTPMethod:@"POST"];

//Set content type 
[yourRequest setValue:@"image/png" forHTTPHeaderField:@"Content-Type"];

// Set authorization header if required
...

// set data
[yourRequest setHTTPBody:imageData];

// create connection and set delegate if needed
NSURLConnection *yourConnection = [[NSURLConnection alloc] initWithRequest:yourRequest 
                                                                  delegate:self
                                                          startImmediately:YES]; 
```

请注意，假设您使用的是 ARC。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:01:15.470

你可以检查这个答案，如果你可以使用 NSURLConnection [https://stackoverflow.com/a/10750428/591951](https://stackoverflow.com/a/10750428/591951)

这篇文章解释了如何发布音频文件，但您可以使用相同的方法上传任何文件

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T10:58:21.340

您可以使用 ASIHTTPRequest 库：[http ://allseeing-i.com/ASIHTTPRequest/](http://allseeing-i.com/ASIHTTPRequest/)

然后就很简单了：

```
ASIFormDataRequest *request = [ASIFormDataRequest requestWithURL:url];

// Upload an NSData instance
[request setData:imageData withFileName:@"myphoto.jpg" andContentType:@"image/jpeg" forKey:@"photo"]; 
```

有关如何使用的信息：http: [//allseeing-i.com/ASIHTTPRequest/How-to-use](http://allseeing-i.com/ASIHTTPRequest/How-to-use)

# ios - 如何在不加载的情况下在monotouch中获取图像文件的图像大小？

> ID：10753108
> 
> 赞同：3
> 
> 时间：2012-05-25T10:50:07.413
> 
> 标签：ios, xamarin.ios, uiimage, nsdictionary, cgimagesource

如何在不将其加载到内存的情况下获取单触式图像文件的图像大小？

我尝试使用 MonoTouch.ImageIO 命名空间中的 CGImageSource，如 Apple 文档和此博客文章中所述：

[oleb.net](http://oleb.net/blog/2011/09/accessing-image-properties-without-loading-the-image-into-memory/)

但是这段代码不起作用：

```
public Size GetImageSizeFromImageFile (string image_file_path)
    {

        CGImageSource imageSource = CGImageSource.FromUrl (NSUrl.FromFilename (image_file_path));

        if (imageSource == null) {
            // Error loading image
            Console.WriteLine ("Error loading image info for file: " + image_file_path);
            return Size.Empty;
        }

        NSDictionary imageProperties = new NSDictionary ();
        imageSource.CopyProperties (imageProperties, 0);

        int width = (int)imageProperties.ValueForKey (new NSString ("kCGImagePropertyPixelWidth"));
        int height = (int)imageProperties.ValueForKey (new NSString ("kCGImagePropertyPixelHeight"));

        Console.WriteLine (@"Image " + image_file_path + " dimensions: " + width + " x " + height+" px");

        imageProperties.Dispose ();

        return new Size(width, height);
    } 
```

转换为字符串没有任何区别，该字段返回空。

任何帮助表示赞赏，谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T12:59:44.947

`GetProperties`最新的 MonoTouch 版本使使用新方法获取图像属性变得更加容易。例如

```
using (var src = CGImageSource.FromUrl (NSUrl.FromFilename (filename))) {
    CGImageOptions options = new CGImageOptions () { ShouldCache = false };
    // do not forget the '0' image index or you won't get what you're looking for!
    using (var p = src.GetProperties (options, 0)) {
        Console.WriteLine ("{0}x{1}", p.PixelWidth, p.PixelHeight);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:32:59.720

看起来这是 Mono Touch 中的一个错误。我用 Mono Touch 中的相同图像测试了 XCode 中的代码，它在 XCode 中工作。

`imageSource.CopyProperties(imageProperties,0)` `imageProperties.Keys`在调用Count后在 Mono Touch 中为 0

因此，您应该在 bugzilla.xamarin.com/ 创建一个错误报告

# javascript - 每隔一段时间刷新img

> ID：10753112
> 
> 赞同：0
> 
> 时间：2012-05-25T10:50:17.543
> 
> 标签：javascript, jquery, ajax

我的 jsp 文件中有以下 div

```
<div id="myDiv">
    <img alt="" src="http://localhost:8080/chartDemo/servlet/ChartDemoServlet">
</div> 
```

我想每隔一段时间自动刷新图像。

我已经尝试过`<meta http-equiv="Refresh">`它完美无缺，但刷新了整个页面。

如何仅刷新图像？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T10:53:51.123

> 我想每隔一段时间自动刷新那个 div。

有什么内容？还是`img`每次都变？

如果是这样的话：

```
setInterval(function() {
    $("#myDiv").html('<img alt="" src="http://localhost:8080/chartDemo/servlet/ChartDemoServlet">');
}, 1000); 
```

...应该每秒执行一次（1000ms = 1 秒），前提是`img`'s `src`URL 返回的数据的缓存标头正确（否则，浏览器可能会缓存早期版本）。`div`这样做是完全拆除`img`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-25T10:52:50.717

```
setInterval(function() {
  // use to prevent browser cache
  var d = new Date();
  $("#myDiv img").attr("src", "http://localhost:8080/chartDemo/servlet/ChartDemoServlet?"+d.getTime());
}, 3000); // every 3 seconds. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T10:55:00.513

您需要使用 window.setInterval 计时器。在该函数中，您可以更改 img src。像这样的东西

```
//timer function
window.setInterval(refreshImage,1000);

function refreshImage()
{
     $('#urdiveid img').attr('src')='new location';
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T10:56:06.547

```
<div id="myDiv" onload="JavaScript:timedRefresh(5000);">
        <img alt=""
            src="http://localhost:8080/chartDemo/servlet/ChartDemoServlet">
    </div> 
```

把它放在javascript中

```
function timedRefresh(timeoutPeriod) {
    setTimeout("location.reload(true);",timeoutPeriod);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-25T10:59:03.540

可以通过 JavaScript 超时功能来完成

```
var t=setTimeout("functiontoCall()", 3000) 
```

您可以编写自己的 in`FunctiontoCall()`以在`myDiv`. 它可以是 ajax 调用或简单的 Dom 操作

# google-maps-api-3 - 鼠标悬停/单击多边形时未显示 Google Map API v3 信息窗口

> ID：10753113
> 
> 赞同：1
> 
> 时间：2012-05-25T10:50:22.873
> 
> 标签：google-maps-api-3, infowindow, polygons

每当用户将鼠标悬停在地图上的多边形上时，我都会尝试在 infowindows 中显示动态数据。调试显示数据和其他信息窗口/多边形设置都很好。我能够在鼠标悬停时获得颜色变化，只是 infowindows 没有出现。背后的原因可能是什么？我在这里想念什么？

```
statePolygon = new google.maps.Polygon({
    paths: stateBorderCoords,
    strokeColor: '#f33f00', 
    strokeOpacity: 1, 
    strokeWeight: 1,
    fillColor: '#ff0000', 
    fillOpacity: 0.2
});

statePolygon.pId = infoText; // Fetching from a JSON response
statePolygon.wPet = wPet;    // Fetching from a JSON response
statePolygon.infoWindow = new google.maps.InfoWindow();

google.maps.event.addListener(statePolygon,"mouseover",function(event){
    this.setOptions({fillColor: "#00FF00"});
    this.infoWindow.setPosition(event.latLng);
    this.infoWindow.setContent(this.wPet);
    this.infoWindow.open(map, this);
});

google.maps.event.addListener(statePolygon,"mouseout",function(){
    this.setOptions({fillColor: "#FF0000"});
    this.infoWindow.close();
});

google.maps.event.addListener(statePolygon, 'click', function(){
    //createInfoWindow(this.pId);
});

statePolygon.setMap(map); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T14:31:33.280

如果您在该行中省略“this”会发生什么：

```
this.infoWindow.open(map, this); 
```

?

在过去的几天里，我一直在与类似的事情作斗争，刚刚发现我的代码适用于 google.maps.Markers（如在 Google pin 中），但不适用于 google.maps.Circles（我猜是 google.maps.Polygons。）

我的猜测：“infoWindow.open(map, object)”试图将 InfoWindow 锚定到*对象*似乎只适用于 google.maps.Markers，而不适用于 Circles、Polygons 等。似乎有效的是“open(map )"，它不会将它锚定到任何东西上。但是，必须明确设置 infoWindow 的位置（您已经在这样做）。

**编辑：**

在我的情况下，这不起作用（假设全局变量映射）

```
var circle = { clickable: true,
               strokeColor: "darkred",
               strokeOpacity: 1,
               strokeWeight: 1,
               fillColor: "green",
               fillOpacity: 1,
               map: map,
               center: new google.maps.LatLng(55.95,-3.19),
               radius: 45
            };
var marker1 = new google.maps.Circle(circle);

infoWindow = new google.maps.InfoWindow();
infoWindow.setContent("Hello");
inoWindow.setPosition(new google.maps.LatLng(55.95,-3.19));
infoWindow.open(map,marker1); 
```

但这确实：

```
var circle = { clickable: true,
               strokeColor: "darkred",
               strokeOpacity: 1,
               strokeWeight: 1,
               fillColor: "green",
               fillOpacity: 1,
               map: map,
               center: new google.maps.LatLng(55.95,-3.19),
               radius: 45
            };
var marker1 = new google.maps.Circle(circle);

infoWindow = new google.maps.InfoWindow();
infoWindow.setContent("Hello");
infoWindow.setPosition(new google.maps.LatLng(55.95,-3.19));
infoWindow.open(map); 
```

**唯一的区别在于最后一行。**

想想上面的帖子，打开后设置位置大概会覆盖锚位置，从而使其出现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T14:20:48.700

首先打开 InfoWindow，然后设置它的位置：

[http://jsfiddle.net/fuDfa/](http://jsfiddle.net/fuDfa/)

```
google.maps.event.addListener(statePolygon,"mouseover",function(event){
    this.setOptions({fillColor: "#00FF00"});
    this.infoWindow.setContent(this.wPet);
    this.infoWindow.open(map);
    this.infoWindow.setPosition(event.latLng);
}); 
```

但是，我意识到如果鼠标在 InfoWindow 顶部移动（即使它在多边形顶部），它也会被视为鼠标移动到多边形之外。因此，多边形将变为红色，Infowindow 将关闭。但由于鼠标仍在多边形内，信息窗口将再次打开，导致闪烁。

我不知道解决这个问题的方法（尝试超时，但也不可靠）。我只考虑将 Infowindow 放在预设位置而不是 event.latLng。

# android - 从surfaceview访问Android sharedPreferences

> ID：10753121
> 
> 赞同：1
> 
> 时间：2012-05-25T10:50:41.143
> 
> 标签：android, android-activity, sharedpreferences

访问 sharedpreferences 的代码是

```
SharedPreferences settings = getSharedPreferences("MySettings", 0);
    float X = settings.getFloat("myFloat", 0); 
```

但这**仅适用于活动内部。**

我如何从其他地方访问它？

单身人士会是个好主意吗？我将如何设置和访问这个单例。

我只想存储 4 个花车，这会很棒！但没有什么是直截了当的:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T10:55:05.633

SurfaceView 没有 getContext() 方法吗？

```
getContext().getSharedPreference(); 
```

如果这不起作用，您可以在启动时将这些变量加载到单例中，因为其中只有 4 个。

```
public class ClassicSingleton {

   public float float1;
   public float float2;
   public float float3;
   public float float4;

   private static ClassicSingleton instance = null;
   protected ClassicSingleton() {
      // Exists only to defeat instantiation.
   }
   public static ClassicSingleton getInstance() {
      if(instance == null) {
         instance = new ClassicSingleton();
      }
      return instance;
   }
} 
```

# facebook - Facebook oauth 重定向在 iframe 中不起作用

> ID：10753123
> 
> 赞同：1
> 
> 时间：2012-05-25T10:50:51.103
> 
> 标签：facebook, iframe, oauth

最近我注意到我在 Facebook 上的应用程序停止正常工作。

当有人打开尚未授权的应用程序时，我会显示带有链接的简单内容，单击链接时，在应用程序中我发出重定向（在 Spring 中我返回“redirect:...url..”）到 URL：

[https://www.facebook.com/dialog/oauth?scope=email&client_id=317651918315301&redirect_uri=https%3A%2F%2Fapps.facebook.com%2Facnestop&scope=email&response_type=token](https://www.facebook.com/dialog/oauth?scope=email&client_id=317651918315301&redirect_uri=https%3A%2F%2Fapps.facebook.com%2Facnestop&scope=email&response_type=token)

它将给定位置的 302 发送到 iFrame。

然后显示空白 iFrame，并返回来自 FB 的以下标头：

```
Cache-Control   private, no-cache, no-store, must-revalidate
Connection  keep-alive
Content-Encoding    gzip
Content-Type    text/html; charset=utf-8
Date    Fri, 25 May 2012 10:37:11 GMT
Expires Sat, 01 Jan 2000 00:00:00 GMT
P3P CP="Facebook does not have a P3P policy. Learn why here: http://fb.me/p3p"
Pragma  no-cache
Set-Cookie  _e_1vFX_0=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=.facebook.com; httponly locale=pl_PL; expires=Fri, 01-Jun-2012 10:37:11 GMT; path=/; domain=.facebook.com wd=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=.facebook.com; httponly
Transfer-Encoding   chunked
X-Content-Type-Options  nosniff
X-FB-Debug  VYI+cCm/Vfpx3US82n06uFuw5gF6UQDg+8GUSpGUL9A=
X-Frame-Options DENY
X-XSS-Protection    0
x-content-security-policy...    allow *;script-src https://*.facebook.com http://*.facebook.com https://*.fbcdn.net http://*.fbcdn.net *.facebook.net *.google-analytics.com *.virtualearth.net *.google.com 127.0.0.1:* *.spotilocal.com:*;options inline-script eval-script;report-uri https://www.facebook.com/csp.php 
```

并且只显示空白 iFrame。

当我重定向到的 URL 直接粘贴到浏览器时 - 它会显示 Facebook 提示以授权应用程序。

任何想法为什么当 iFrame 从在浏览器中粘贴和打开相同的链接重定向时行为会有所不同？

我今天注意到了这一点，以前的应用程序运行良好。

这是我的示例应用程序： [https ://apps.facebook.com/acnestop/](https://apps.facebook.com/acnestop/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:16:24.107

如果用户没有授权你的应用程序，你不需要处理，facebook 会处理。

但是处理用户没有登录的情况，你可以使用 getLoginURL

```
$loginUrl = $facebook->getLoginUrl(
    array(
        'scope'         => 'email,user_checkins,etc',
        'redirect_uri'  => 'https://apps.facebook.com/my-application/' 
    )
); 
```

> 不要忘记redirect_uri 中的斜杠

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-03T21:38:06.860

取自脸书：

> 因为您的游戏是在 iframe 中加载的，所以返回 302 以将用户重定向到 Login >Dialog 将不成功。相反，您必须针对重定向的顶部（或_top）框架，>这会导致父窗口重定向到登录对话框 URL。

因此，您必须手动将用户重定向到类似

```
https://www.facebook.com/dialog/oauth?client_id=YOURID&redirect_uri=YOUR-REDIRECT-URI
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-04-19T17:46:32.807

这是因为 Facebook 0auth 不再支持 iframe。你可以在响应头中看到 x-iframe-options:deny

# c - 将一维数组转换为二维数组时遇到问题

> ID：10753134
> 
> 赞同：1
> 
> 时间：2012-05-25T10:51:15.820
> 
> 标签：c, arrays, multidimensional-array

编辑：删除 C++ 位以避免混淆

我有一个像这样的数据数组

```
int numSamples = 16;
float *lData  = (float*)calloc(numSamples, sizeof(float)); 
```

...并且我想将这些数据传递到具有这样定义的函数中。. .

```
void processSampleBlock (const float ** inputChannelData,
                         int    numInputChannels,
                         ...) 
```

如您所见，此函数接受一个可以有多个通道的二维数组。我的数据只是一个单通道 (1D)，但我可以通过像这样进行强制转换来使代码编译得很好。.

```
processSampleBlock ((const float**)(lData),
                            1,
                            ...) 
```

但是，我在运行时遇到错误的访问错误，然后函数块中的代码尝试取消引用函数中的数据。.

```
for (int nn=0; nn< numSamples; ++nn)
{
    float x = inputChannelData[0][nn]; //--> Computer says no
} 
```

我对 C 风格的多维数组毫无用处，并且可能在这里犯了一个基本错误。任何帮助都会很棒！谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-25T10:58:29.297

你需要给它一个指向行数组的指针，所以你有一行给它一个指向该行的指针：

```
float *data = ...;
processSampleBlock(&data, 1); 
```

# java - RabbitMQ HelloWorld 消息在本地主机上被阻止？

> ID：10753144
> 
> 赞同：1
> 
> 时间：2012-05-25T10:52:15.960
> 
> 标签：java, message, rabbitmq, mq

我一直在运行 hello world RabbitMQ 示例，代码如下：

```
import com.rabbitmq.client.ConnectionFactory;
import com.rabbitmq.client.Connection;
import com.rabbitmq.client.Channel;

public class Send {
    private final static String QUEUE_NAME = "hello";

    public static void main(String[] argv) throws java.io.IOException {
        ConnectionFactory factory = new ConnectionFactory();
        factory.setHost("localhost");
        Connection connection = factory.newConnection();
        Channel channel = connection.createChannel();

        channel.queueDeclare(QUEUE_NAME, false, false, false, null);
        String message = "Hello World!";
        channel.basicPublish("", QUEUE_NAME, null, message.getBytes());

        System.out.println(" [x] Sent '" + message + "'");
        channel.close();
        connection.close(); 
      }
    } 
```

和：

```
import com.rabbitmq.client.ConnectionFactory;
import com.rabbitmq.client.Connection;
import com.rabbitmq.client.Channel;
import com.rabbitmq.client.QueueingConsumer;

public class Recv {
      private final static String QUEUE_NAME = "hello";

      public static void main(String[] argv)
          throws java.io.IOException,
                 java.lang.InterruptedException {

          ConnectionFactory factory = new ConnectionFactory();
          factory.setHost("localhost");
          Connection connection = factory.newConnection();
          Channel channel = connection.createChannel();

          channel.queueDeclare(QUEUE_NAME, false, false, false, null);
          System.out.println(" [*] Waiting for messages. To exit press CTRL+C");

          QueueingConsumer consumer = new QueueingConsumer(channel);
          channel.basicConsume(QUEUE_NAME, true, consumer);

          while (true) {
              QueueingConsumer.Delivery delivery = consumer.nextDelivery();
              String message = new String(delivery.getBody());
              System.out.println(" [x] Received '" + message + "'");
         }
    }
} 
```

当我运行接收器时，它会监听队列，发送者说它正在发送消息，但似乎没有关闭。然后我运行：

```
rabbitmqctl list_queues 
```

队列肯定正在创建中。

但是，当我运行时：

```
rabbitmqctl list_connections 
```

我得到以下输出

```
benuni@DeShawn:~$ sudo rabbitmqctl list_connections
ls: cannot access /etc/rabbitmq/rabbitmq.conf.d: No such file or directory
Listing connections ...
guest   127.0.0.1   64700   blocked
guest   127.0.0.1   64709   blocked
guest   127.0.0.1   64614   blocked
guest   127.0.0.1   64716   blocked
guest   127.0.0.1   64717   blocked
guest   127.0.0.1   64701   blocked
guest   127.0.0.1   64699   blocking
guest   127.0.0.1   64613   blocking
guest   127.0.0.1   64708   blocking
guest   127.0.0.1   64718   blocked
guest   127.0.0.1   64706   blocked
...done. 
```

所以由于某种原因rabbitmq服务器阻止了我的连接？有谁知道我需要做什么？谢谢，本

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T13:42:57.643

检查日志中的消息，例如：

```
=INFO REPORT==== 2-Jul-2012::13:38:02 ===
Disk free space limit now exceeded. Free bytes:13114646528 Limit:15740784640 
```

有关更多信息，请参阅[http://comments.gmane.org/gmane.comp.networking.rabbitmq.general/16493](http://comments.gmane.org/gmane.comp.networking.rabbitmq.general/16493)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T19:27:38.050

当您看到这样的连接被阻止时，这意味着您可能超出了磁盘和/或内存的水印级别。

有关更多信息，请参见：[http ://www.rabbitmq.com/memory.html。](http://www.rabbitmq.com/memory.html)

# windows-phone-7 - 如何让 Metro in Motion Tilt Effect 在按钮上工作？

> ID：10753148
> 
> 赞同：3
> 
> 时间：2012-05-25T10:52:23.357
> 
> 标签：windows-phone-7

我曾尝试在我的 WP7 应用程序中的按钮和 hubtile 上使用 Metro in Motion Tilt Effect，但无法使其正常工作。它适用于矩形和列表框项目，但不适用于按钮和 hubtile。我认为这与将效果应用于框架元素有关，但我不确定。有谁知道我需要在 Metro in Motion 源代码中进行哪些更改才能使其在 Buttons 和 Hubtiles 上工作？

Metro in Motion 源代码在这里[http://www.scottlogic.co.uk/blog/colin/wp-content/uploads/2011/05/MetroInMotion4.zip](http://www.scottlogic.co.uk/blog/colin/wp-content/uploads/2011/05/MetroInMotion4.zip)

我尝试在上面的示例中直接添加一个按钮，但它也不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:14:06.463

将工具包引用添加到您的项目。`PhoneApplicationPage`然后在标签中添加以下行

```
xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit" 
toolkit:TiltEffect.IsTiltEnabled="True" 
```

现在所有可点击的元素都将具有倾斜效果。

# layout - 在android中设置布局xml

> ID：10753158
> 
> 赞同：1
> 
> 时间：2012-05-25T10:52:58.567
> 
> 标签：layout

`

```
 <ImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/round" />

    <ImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:background="@drawable/round" />

    <ImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:background="@drawable/round" />
</RelativeLayout> 
```

`当我通过 layout_alignParentRight 将图像设置在透明图像（在相对布局中定义）的右侧时，图像将放置在移动屏幕的右侧，但如果我给出图像的实际大小，则第二个图像位于末尾图像，但我不想硬编码图像的宽度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T13:47:17.917

您应该链接布局的图像，以便更好地了解您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T13:25:42.213

在第一个图像视图中

```
SET android:layout_aliginparentleft="true" 
```

我希望问题会得到解决。

# c# - 究竟如何使用array.where？

> ID：10753160
> 
> 赞同：5
> 
> 时间：2012-05-25T10:53:00.843
> 
> 标签：c#, .net, arrays

我不确定我是否对**array.where()**的工作原理有正确的认识。我有一个充满 Spectrum.cs 对象的数组。每个光谱都包含一个文件名属性。

mySpectrum.文件名；//细绳

现在我有一个字符串值，我想将它与数组中的每个对象进行比较，以确定它是否具有相同的文件名。当我得到它时，它应该像这样工作：

```
Spectrum bgSpec = new Spectrum(); //Has a filename
Spectrum[] currentSpectra;  //Array filled with Spectra

//Somehow this doesn't seem to work. Propably due to the returnvalue for where() which seems //to be IEnumerable.
Spectrum tempSpectrum = currentSpectra.Where<Spectrum>(c => c.filename == bgSpec); 
```

我可能把一切都弄错了，如果有人能指出它是什么或如何正确地做，我将不胜感激。

提前致谢，BC++

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-25T10:54:15.273

看起来您正在寻找满足该标准的*单一*值。所以也许使用[`Single`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.single.aspx)：

```
var tempSpectrum = currentSpectra.Single(c => c.filename == bgSpec.filename); 
```

其他选项：

*   [`First`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.first.aspx)
*   [`FirstOrDefault`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.firstordefault.aspx)
*   [`SingleOrDefault`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.singleordefault.aspx)
*   [`Last`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.last.aspx)
*   [`LastOrDefault`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.lastordefault.aspx)

如果没有匹配的元素，`OrDefault`版本将返回。,和`null`之间的区别在于多个匹配的结果：将引发异常，而or将分别采用第一个或最后一个匹配。`First``Single``Last``Single``First``Last`

其中哪一个最合适将取决于您想要做什么。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-25T10:54:27.270

`Where`将输入序列缩小到一个子集。这不是你想要的，这可能更像

```
var tempSpectrum = currentSpectra
                   .SingleOrDefault(c => c.filename == bgSpec.Filename); 
```

`SingleOrDefault`如果不存在这样的频谱，将返回`Spectrum`您正在寻找的实例或（假设`Spectrum`是参考类型） 。`null`如果有多个光谱与搜索参数匹配，它也会抛出异常。

如果这不是您想要的，请查看`Single`and `First`/ `FirstOrDefault`。

其中大多数还有非 LINQ 替代方法：[`Array.Find`](http://msdn.microsoft.com/en-us/library/d9hy2xwa)以及更多静态`Array.FindX`方法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-25T10:54:11.023

正如约翰所说，`Single`在这里是合适的。如果您有多个可以匹配条件的频谱对象，那么您应该使用频谱对象列表来代替。你也应该比较`filename`属性

```
IEnumerable<Spectrum> tempSpectrums = currentSpectra.Where(c => c.filename == bgSpec.filename);
Spectrum tempSpectrum = currentSpectra.SingleOrDefault(c => c.filename == bgSpec.filename); 
```

另请记住，您不需要为诸如`Where`, `Single`,之类的方法指定泛型类型`SingleOrDefault`- 类型将由编译器从集合类型中推断出来。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-25T11:10:18.940

使用`Single`or代替`SingleOrDefault`_`LINQ``Where`

```
var tempSpectrum = currentSpectra.SingleOrDefault(c => c.filename == bgSpec.filename); 
```

# java - Java：将数组从文件导入数组

> ID：10753161
> 
> 赞同：-4
> 
> 时间：2012-05-25T10:53:08.080
> 
> 标签：java, arrays, multidimensional-array

我的文件包含这样的数组：这是我的 .txt 文件中的一个片段

```
itemlist= new int[][] {
    { 0, 0, 0, 0, 0}, 
    { 1, 1, 1, 1, 1}, 
    { 2, 2, 2, 2, 2}, 
    { 3, 3, 3, 3, 3}, 
    { 4, 4, 4, 4, 4}
}; 
```

如您所见，.txt 文件包含一个多维数组列表。有什么办法可以将它转移到java中的数组？

干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:38:14.470

我觉得这是某种家庭作业，所以我不能给你代码，但如果我是你，我会：

1）将文件中的文本放入一个字符串（没有换行符）

2）（我假设`one file`== `one table data`）尝试隔离第一个`{`和最后一个之间的文本`}`（再次正则表达式可以提供帮助）

3) 从第 2 点拆分内容以将每个内容的数据`{` `}`放在不同的位置（使用拆分并再次使用正则表达式）

4）通过计算数组对`{` `}`并`,`在其中计数（通过正则表达式或通过迭代字符）来估计数组的大小

5）现在我可以创建表格（我知道尺寸）

6）在第 3 点中，我隔离了所有行（或列，取决于您将如何将它们放入表中），所以现在是读取它们并将其放入表中的时候了，因此我们需要遍历第 3 点中的所有数据，并且：

6.1)`{` `}`括号

6.2) 拆分使用`,`

6.3) 修剪空格

6.4) 解析为 Integer 并放入数组

希望这足以创建代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-20T15:28:20.583

```
public static void main(String[] args) { 

    int itemlist[][]= new int[][] {
      { 0, 0, 0, 0, 0}, 
      { 1, 1, 1, 1, 1}, 
      { 2, 2, 2, 2, 2}, 
      { 3, 3, 3, 3, 3}, 
      { 4, 4, 4, 4, 4}
    };

    int length=itemlist.clone().length*itemlist.length;
    int tab[]=new int[length];
    int i=1;
    for(int j=0;j<itemlist.length;j++) 
    {
      for(int k=0;k<itemlist.clone().length;k++)
      {
         tab[i]=itemlist[j][k];
         i++;

         if (i== length) break ;
      }
    }

    for(int h=0;h<length;h++){
      System.out.println(" "+tab[h]);
    }
} 
```

# jquery - 查找最接近的对象类 - Jquery

> ID：10753162
> 
> 赞同：0
> 
> 时间：2012-05-25T10:53:08.613
> 
> 标签：jquery, html, select, closest

**jQuery**

```
 var courseSelect =  $(".courseSelected");
    $(".courseSelected").click(function()
    {
        if($(this).attr('checked'))
        {
            var selects = $(this).parent().next(".select").attr('title');
            alert(selects);
        }
    }); 
```

**HTML**

```
 <div>
            <div style="float:left;">
                <input name="course[]" type="checkbox" value="AUTOCAD" class="courseSelected" />
            </div>

            <div style="width:100px; float:left;">AUTOCAD</div>
            <select name="fromto[]" class="select small" disabled="disabled" title="Batch">
                <option value="">--Select--</option>
                <option value="May 2012,June 2012">Autocad 1(11:30 AM)</option>
                <option>Batch Name</option>
            </select>
        </div> 
```

通过选中我需要找到选择元素的复选框，我也尝试过使用最接近的和 parent().next()，但它似乎在这种情况下不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T10:56:56.693

```
...
if($(this).attr('checked'))  {
    var selects = $(this).parent().parent().find(".select").attr('title');
    alert(selects);
}
... 
```

* * *

```
$(this)          /* checkbox */
.parent()        /* div parent */
.parent()        /* div granfather */
.find(".select") /* look for .select */
.attr('title');  /* get title */ 
```

无论如何，为了简单起见，如果您可以控制标记，我会像这样更改您的标记

```
<input name="course[]" type="checkbox" ... data-related-select="yourselect" />
...
<select id="yourselect">
... 
```

所以js代码只有

```
var selects = document.getElementById($(this).data('related-select')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T10:58:39.717

```
 $(".courseSelected").click(function(){
        if(this.checked){
            var selects = $(this)
                                 .parent() // go to checkbox parent
                                 .next() // jump to div have AUTOCAD
                                 .next(".select") // to select box
                                 .attr('title'); // retrieve the title
            alert(selects);
        }
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-28T16:54:35.147

查找最接近的第一类对象 - Jquery

```
$(this).parent().parent().find('.show-all-result').first().show(); 
```

# android - Android：将现有联系人添加为收藏联系人？

> ID：10753164
> 
> 赞同：1
> 
> 时间：2012-05-25T10:53:13.807
> 
> 标签：android, android-contacts

我有一个 ListView，我在其中获取所有电话联系人。在 ListView 中，我放置了一个按钮，然后单击该按钮，该联系人应添加到收藏夹中，然后再次单击应从收藏夹中删除。
在这里，我找到了使用最喜欢的标签添加新联系人的代码。但是如何在单击按钮时执行此操作。我尝试过使用此代码：

**代码：**

```
ArrayList<ContentProviderOperation> ops = new ArrayList<ContentProviderOperation>();
        int rawContactInsertIndex = ops.size();

        ops.add(ContentProviderOperation.newUpdate(RawContacts.CONTENT_URI)
                .withValue(RawContacts.ACCOUNT_TYPE, null)
                .withValue(RawContacts.ACCOUNT_NAME, null)
                .withValue(RawContacts.STARRED, true).build());
        ops.add(ContentProviderOperation
                .newUpdate(ContactsContract.Data.CONTENT_URI)
                .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID,
                        rawContactInsertIndex)
                .withValue(Data.MIMETYPE, Phone.CONTENT_ITEM_TYPE)
                .withValue(Phone.NUMBER, "91-0000000002").build());
        ops.add(ContentProviderOperation
                .newUpdate(Data.CONTENT_URI)
                .withValueBackReference(Data.RAW_CONTACT_ID,
                        rawContactInsertIndex)
                .withValue(Data.MIMETYPE, StructuredName.CONTENT_ITEM_TYPE)
                .withValue(StructuredName.DISPLAY_NAME, "Maulik patel").build()); 
```

使用此代码将所有联系人添加到收藏夹
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T12:28:02.880

这是我最喜欢的特定联系人的工作。

```
ContentValues values = new ContentValues();
        String[] fv = new String[] { "juned" };
        values.put(Contacts.STARRED, 1);
        getContentResolver().update(Contacts.CONTENT_URI, values,
                Contacts.DISPLAY_NAME + "= ?", fv); 
```

只需将 1 更改为 0 即可。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-27T13:29:08.873

我需要使用特定联系人 ID 而不是联系人姓名向收藏夹联系人添加/删除，所以我修改了 juned 的代码，这里是：

```
int contactId = 10;    // some contact's ID

ContentValues values = new ContentValues();
values.put(ContactsContract.Contacts.STARRED, 1);
getActivity().getContentResolver().update(ContactsContract.Contacts.CONTENT_URI, values,
    ContactsContract.Contacts._ID + "= ?", new String[] { String.valueOf(contactId) }); 
```

不同之处在于您只需将 更改`DISPLAY_NAME`为`_ID`。

# regex - sed 将数字四舍五入到小数点后两位

> ID：10753167
> 
> 赞同：2
> 
> 时间：2012-05-25T10:53:37.483
> 
> 标签：regex, sed, decimal, rounding

我有一个数字，即 123.456789，我的问题是如何将其四舍五入到点后两位小数，所以使用 sed 看起来像 123.46？有任何想法吗？或者，如何在小数点后 2 位之后减少其余部分，所以最后它看起来像这样：123.45？提前致谢！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-25T12:03:10.733

实际上 sed 不是正确的工具，您最好使用 awk。像这样创建一个 awk 脚本：

```
echo 123.45567 | awk '{printf("%.2f\n", $1)}' 
```

或使用 BASH printf：

```
printf "%.2f\n" 123.45567 
```

### 输出：

123.46

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-25T11:02:52.617

可以通过以下方式截断它：

```
pax> echo hello 123.4567 goodbye | sed 's/\(\.[0-9][0-9]\)[0-9]*/\1/g'

hello 123.45 goodbye 
```

这基本上是通过查找形式的字符串`.dd[ddd...]`（其中`d`是数字）并仅用`.dd`（括号用于捕获`.dd`位）替换整个事物来工作。

*舍入*它有点困难，因为它不是简单的文本替换（如果下一个数字是 5 或更多，则必须*更改*最后一个数字以添加一个）。为此，您可能需要使用适应性更强的工具。

*一种*方法（尽管我很确定这不是*最好*的方法）是`Perl`：

```
pax> echo hello 123.4567 9876.54321 goodbye | perl -ne '
    @x = split;
    for ($i = 0; $i <= $#x; $i++) {
        if ($x[$i] =~ /^[0-9]*\.[0-9]+$/) {
            $x[$i] = int ($x[$i] * 100 + .5) / 100;
        };
        print "$x[$i] ";
    };
    print "\n";'

hello 123.46 9876.54 goodbye 
```

这会对与所需模式匹配的每个字段进行舍入操作，但如上所述，它非常难看 - 我相信有更好的方法（brian d foy，你在哪里？）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T12:12:07.090

由于无论如何都没有人设法进行四舍五入`sed`，这里有一个 Python 示例供您使用：

```
$ echo "echo hello 123.4567 goodbye" | python -c "import sys, re
for l in sys.stdin:
    print re.sub(r'\d*\.\d{3,}', lambda x: str(round(float(x.group()), 2)), l)"
echo hello 123.46 goodbye 
```

您可以将 2 更改为其他值以更改舍入精度。

# php - 如何在php中清除URL变量

> ID：10753170
> 
> 赞同：0
> 
> 时间：2012-05-25T10:53:49.250
> 
> 标签：php, getmethod

```
if (isset($_GET['add']) && isset($_GET['price']) && isset($_GET['qty'])){

    $ITEM = array(
      //Item name       
      'name' => $_GET['add'], 
      //Item Price
      'price' => $_GET['price'], 
      //Qty wanted of item
      'qty' => $_GET['qty']     
         );
     $_SESSION['SHOPPING_CART'][] =  $ITEM; 
```

刷新页面时将商品添加到购物车中。任何人帮助如何删除 url 变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T10:54:50.440

`POST`请求旨在更新服务器的状态。

`GET`请求不是。

您为这项工作使用了错误的工具。将商品添加到您的购物车应该是一个`POST`请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:48:34.330

正如 Alex 从 http 协议的角度提到的，您应该使用 POST 请求来更新您的购物车。

请记住，使用 GET 或 POST 请求时问题仍然存在。POST 更令人讨厌，因为它会向客户显示警报。

为了避免在浏览器中刷新页面，购物车会获得另一个重复的项目，您可以选择例如：

*   将项目添加到浏览器后发送重定向 (301,302) 以清除 url/request 中的变量
*   使用 AJAX 将商品添加到购物车

# fractals - 理解分形，尤其是曼德布罗集

> ID：10753173
> 
> 赞同：1
> 
> 时间：2012-05-25T10:53:51.873
> 
> 标签：fractals, mandelbrot

我真的在努力理解我在某处读到的一句话：“我们在分形内放大的越多，我们最有可能需要执行的迭代越多”。

到目前为止，我还没有找到任何证明这句话的数学/学术论文。我还设法找到了一个计算 mandelbrot 集的小代码，取自这里： [http](http://warp.povusers.org/Mandelbrot/) ://warp.povusers.org/Mandelbrot/ 但是，无法理解缩放如何影响迭代。

```
double MinRe = -2.0;
double MaxRe = 1.0;
double MinIm = -1.2;
double MaxIm = MinIm+(MaxRe-MinRe)*ImageHeight/ImageWidth;
double Re_factor = (MaxRe-MinRe)/(ImageWidth-1);
double Im_factor = (MaxIm-MinIm)/(ImageHeight-1);
unsigned MaxIterations = 30;

for(unsigned y=0; y<ImageHeight; ++y)
{
    double c_im = MaxIm - y*Im_factor;
    for(unsigned x=0; x<ImageWidth; ++x)
    {
        double c_re = MinRe + x*Re_factor;

        double Z_re = c_re, Z_im = c_im;
        bool isInside = true;
        for(unsigned n=0; n<MaxIterations; ++n)
        {
            double Z_re2 = Z_re*Z_re, Z_im2 = Z_im*Z_im;
            if(Z_re2 + Z_im2 > 4)
            {
                isInside = false;
                break;
            }
            Z_im = 2*Z_re*Z_im + c_im;
            Z_re = Z_re2 - Z_im2 + c_re;
        }
        if(isInside) { putpixel(x, y); }
    }
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-06T03:21:23.017

您问缩放如何影响迭代，我的典型缩放与迭代比率是，如果您放大到 9 倍大小，我会将迭代增加 1.7。大小的 9 分之一当然意味着宽度和高度都除以 3。

使这个更通用我实际上在我的代码中使用它

```
Complex middle = << calculate from click in image >>
int zoomfactor = 3;
width = width / zoomfactor;
maxiter = (int)(maxiter * Math.Sqrt(zoomfactor));
minimum = new Complex(middle.Real - width, middle.Imaginary - width);
maximum = new Complex(middle.Real + width, middle.Imaginary + width); 
```

我发现缩放和迭代之间的这种关系非常有效，分形中的细节在深度缩放中仍然很好，而不会因为迭代太快而变得太疯狂。

如果您自己喜欢，您想缩放多快，我喜欢 3 的缩放因子，但任何事情都会发生。重要的是你需要保持缩放因子和交互增加之间的关系。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T14:41:59.987

这不是一个科学的答案，而是一个有常识的答案。理论上，要确定一个点是否属于 Mandelbrot 集，您应该*无限*迭代，并检查该值是否达到*Infinity*。这实际上是无用的，所以我们做出假设：

1.  我们只迭代 50 次
2.  我们检查迭代值是否大于 2

当您放大 Mandelbrot 集时，第二个假设仍然有效。然而，**缩放**意味着**增加点坐标的有效小数位数**。

假设您开始`(0.4,-0.2i).` 反复迭代此值会增加使用的数字，但不会丢失有效数字。现在，当您的点坐标看起来像这样时：`(0.00000000045233452235, -0.00000000000943452634626i)`要检查该点是否在集合中，您需要更多的迭代来查看该迭代是否会达到 2 更不用说如果您使用某种浮点类型，您将丢失有效数字一些缩放级别，您必须切换到任意精度库。

尝试是您最好的朋友 :-) 计算具有低迭代和高迭代的集合，并从第一个图像中减去第二个图像。您将始终在边缘看到变化（黑色像素与彩色像素相遇），但如果您的缩放级别很高（意味着：点坐标有很多小数位），您将获得不同的图像。

# css - CSS3将选择器与OR组合而不是AND

> ID：10753174
> 
> 赞同：2
> 
> 时间：2012-05-25T10:54:02.450
> 
> 标签：css, css-selectors, logical-operators

鉴于此选择器：

```
body[class*="page-node-add-"][class~="page-node-edit"] {background:red;} 
```

它将匹配具有包含*page-node-add-*子字符串的类的主体和恰好是*page-node-edit的类*

我想说匹配第一个或第二个（但不是两者）。可能吗？

**使用逗号的问题：**

如果我有一个长选择器，例如：

```
body[class*="page-node-add-"] form.node-form > .field-type-field-collection > table > thead tr th,
body[class~="page-node-edit"] form.node-form > .field-type-field-collection > table > thead tr th
{...} 
```

这是一种痛苦，我原以为 CSS3 会解决这个问题，我想象的是这样的：

```
body([class*="page-node-add-"]):or([class~="page-node-edit"]) {background:red;} 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T10:57:35.710

您需要使用逗号将它们分开：

```
body[class*="page-node-add-"], body[class~="page-node-edit"] {background:red;} 
```

**使用逗号的问题：**

......是你不能用逗号以外的任何其他方式做到这一点。也许它可以用 Selectors 3 来补救，但不幸的是规范另有说明。[这只能由Selectors 4](http://www.w3.org/TR/selectors4/#matches)来弥补，要么是因为它直到最近才被提议，要么是因为它*被*提议但没有进入第 3 级。

在选择器的第 4 级中，您将能够执行以下操作：

```
body:matches([class*="page-node-add-"], [class~="page-node-edit"]) form.node-form > .field-type-field-collection > table > thead tr th
{...} 
```

目前，这是在其最初提议的名称下实施的`:any()`，带有前缀`:-moz-any()`和`:-webkit-any()`。但是`:any()`在面向公众的 CSS 中使用是没有意义的，因为

1.  只有 Gecko 和 WebKit 支持它；和

2.  [由于前缀选择器的处理方式，您必须复制您的规则集](https://stackoverflow.com/a/8318202/106224)，这不仅违背了`:matches()`选择器的预期目的，而且使事情变得更糟：

    ```
    body:-moz-any([class*="page-node-add-"], [class~="page-node-edit"]) form.node-form > .field-type-field-collection > table > thead tr th
    {...}
    body:-webkit-any([class*="page-node-add-"], [class~="page-node-edit"]) form.node-form > .field-type-field-collection > table > thead tr th
    {...} 
    ```

换句话说，在实现将自己更新为标准化之前`:matches()`，没有其他可行的解决方案（除了使用预处理器为您生成重复的选择器）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:14:09.303

我在这里找到了答案：

[用于识别多个类的 CSS 速记](https://stackoverflow.com/questions/6893318/css-shorthand-to-identify-multiple-classes#answer-6893337)

Mozilla 和 webkit 有一个 -moz-any 或 -webkit-any，尽管在 CSS4 规范中有一个 :matches。很惊讶这在 CSS3 中没有想到，因为它可以大大减少重复代码的数量，而不必使用 SASS 或 LESS 或其他任何东西。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T11:27:58.110

`XOR`所以当我读到你的问题时，你真的很想。您可以通过使用`:not`选择器并说“一类而不是另一类”来实现这一点，反之亦然。

```
div.one:not(.two), div.two:not(.one) {
    background:red;
} 
```

这是一个小提琴：http: [//jsfiddle.net/XfgxK/3/](http://jsfiddle.net/XfgxK/3/)

# java - 如何分析 PermGen 空间？

> ID：10753176
> 
> 赞同：6
> 
> 时间：2012-05-25T10:54:09.957
> 
> 标签：java, jvm, permgen

> **可能重复：**
> [如何分析 PermGen 内容？](https://stackoverflow.com/questions/2842982/how-to-analyze-permgen-contents)

我想知道是什么占用了 PermGen 空间 - 字符串实习生（）或类？是否有任何工具可以帮助进行此分析？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:59:27.270

用于内存分析

1.  `jvisualvm.exe` 在 JDK 的 bin 目录中使用 present

2.  `process id`根据您需要分析的应用程序，使用 jvisualvm 进行线程/堆转储。

3.  [Memory Analyzer (MAT)](http://www.eclipse.org/mat/)一个 Eclipse 插件。您可以在其中从 jvisualvm 导入堆转储并分析可能的泄漏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:21:29.307

您可以使用 jdk 的 bin 文件夹中的监控工具，如“jvisualvm”或“jconsole”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:51:15.690

我使用[Yourkit](http://www.yourkit.com/)来分析堆空间中的内容。它不是免费的，但在分析内存问题和/或性能问题时它是一个非常大的帮助。（他们有评估版）

# google-app-engine - 获取实体密钥

> ID：10753181
> 
> 赞同：0
> 
> 时间：2012-05-25T10:54:21.603
> 
> 标签：google-app-engine, objectify

基于此处的问答： [Get an Objectify Entity's Key](https://stackoverflow.com/questions/7162141/get-an-objectify-entitys-key)

对于持久化对象，获取实体键：

```
@Transient
Key<Categoria> getKey() {
   return new Key<Categoria>(Categoria.class, id);
} 
```

不返回相同的密钥：

```
Objectify ofy = ObjectifyService.begin();
Key<Categoria> key = ofy.getFactory().getKey(someobject); 
```

还是应该？

我的模型如下所示：

```
@Entity
class Categoria{
  @Parent
  private Key<Someclass> parentKey;

  @Transient
  Key<Categoria> getKey() {
   return new Key<Categoria>(Categoria.class, id);
 }
 // Code omitted
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T19:37:59.060

`Categoria`如果有一个`@Parent`字段，它只会产生一个不同的键。在这种情况下，您需要将父键与类和 id 一起传递给 Key 构造函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:33:06.353

它应该。我总是通过从长 id 创建的键来获取 Objectify Entities。如果需要，您还可以使用返回的密钥从密钥中获取长 ID。

编辑：您无法以您尝试的方式获得密钥。

你所要做的。

```
Key<Car> rootKey = new Key<Car>(Car.class, 959);
Key<Car> keyWithParent = new Key<Car>(parent, Car.class, 959); 
```

[来自objectify wiki](http://code.google.com/p/objectify-appengine/wiki/Concepts#Keys)

所以对于这一行： Key key = ofy.getFactory().getKey(someobject);

键将由父键加上类别键组成

这意味着您在函数中进行查找时必须包含父键

```
Key<Categoria> getKey() {
 return new Key<Categoria>(parentKey, Categoria.class, id);
} 
```

# metadata - 使用 reflexil 更改程序集版本

> ID：10753182
> 
> 赞同：0
> 
> 时间：2012-05-25T10:54:23.010
> 
> 标签：metadata, .net-assembly, reflector, reflexil

我正在试用[Reflector v7.4 的](http://www.reflector.net/)[Reflexil](http://reflexil.net/)插件。它承诺的关于代码更改的一切都运行良好。然后我想更改一些程序集属性，主要是版本，并且在反射器中再次加载程序集并验证时成功。但是当我在 Windows 资源管理器中看到程序集时，它仍然显示旧的程序集版本。请浏览图片以验证事实。以雷神之名发生的事情。有人请帮忙。

![反射器](../Images/598bf09c376a1812c97f3895851d6730.png) ![Windows资源管理器](../Images/6df8c82a95825d4fd26891fcdbfe365e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T01:31:10.117

有趣的一个......它与托管与非托管世界的冲突有关。如果您检查此[Stackoverflow 答案，](https://stackoverflow.com/questions/7886964/assemblyfileversion-attribute-is-being-ignored)它可能会对您有所帮助。

如果您在 Visual Studio 中打开您的 exe（打开-> 文件，然后选择您的 .exe），您将看到非托管版本信息。Reflexil 并没有改变它……它只是改变了应用程序托管部分的属性值。

如果您去[scooter 软件](http://www.scootersoftware.com)并超越比较，您可以看到详细信息，将已修补的 exe 与未修补的 exe 进行比较 - 默认情况下，它也会显示非托管版本信息。但是，您可以进行十六进制比较以获取更多信息 -> 转到会话 -> 使用比较文件 -> 十六进制比较。在比较的中间，您会看到托管的 .net 版本差异 - 但在文件末尾越过托管代码和资源所在的区域时，您会看到非托管版本信息……它是使用 Reflexil 修补属性值后不变。

如果您有 Visual Studio，您可以通过打开 exe、转到 VERSION 信息并将值更改为您想要的值并单击保存来更改版本。

# matlab - 视频中运动物体的速度测量算法

> ID：10753191
> 
> 赞同：1
> 
> 时间：2012-05-25T10:55:05.337
> 
> 标签：matlab, opencv, video-processing, opencvdotnet

您使用智能手机中配备的相机拍摄了移动汽车的视频。该视频的分辨率非常高，并假设已完成一些无损编码。（显然尺寸会很大）。它以 60fps 的速度播放。从视频中测量汽车的真实速度有哪些可能的方法？（可能并非所有情况都存在完美的解决方案，因此我愿意在特定条件下进行一些合理的假设，如果有的话。）。

如果这是不可能的，我的下一个目标是对视频中的静止物体进行汽车速度测量。

**编辑：**

在我的情况下，相机总是静止的，汽车从左到右移动，并以恒定速度移动。

**我已经看过什么方法了**

随着汽车的移动，我以已知的速度在摄像机前移动一个物体（参考物体）。然后视频包含两个移动对象，一个是已知的，另一个是未知的。通过适当的校准，我可以找到汽车的速度。但我正在寻找一种无需移动参考对象的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T13:20:09.243

如果您的相机是静止的，并且您的汽车以固定距离从左到右移动，那么您应该能够在整个序列中跟踪汽车，并计算出它的移动速度（以每帧像素为单位）。然后，您将需要一个一次性校准步骤，计算出转换因子到 mph，例如，您可能会计算出每帧 100 像素 = 30 mph，因此您可以将速度以每帧像素为单位并乘以30/100。

如果您不知道与汽车的距离（或者更确切地说，如果距离不是恒定的），那么此方法将不起作用，因为较近的物体会比更远的物体更快地在图像上移动，即使它们正在移动实际速度相同。

# iphone - MapKit 注释点标题

> ID：10753193
> 
> 赞同：0
> 
> 时间：2012-05-25T10:55:17.170
> 
> 标签：iphone, google-maps, mapkit

![在此处输入图像描述](../Images/0238cbac0cac8084d7ed206b75fb9469.png)

在点击注释点时，这个弹出框是显示的，是内置的还是开发人员创建的视图？

```
 MKPointAnnotation *annotationPoint = [[MKPointAnnotation alloc] init];
    annotationPoint.coordinate = annotationCoord;
    annotationPoint.subtitle = user.purchasedLocation;
    [mapView addAnnotation:annotationPoint]; 
```

我想在我的地图视图中创建一个类似于上面显示的图像的弹出框。当我将上述代码添加到我的应用程序时，它只显示街道地址。在 MapKit 框架中是否有内置方法来显示这种弹出框，如上图所示的用户图像和箭头图像？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T10:57:42.857

查看此 stackoverflow 帖子[Annotation with Image](https://stackoverflow.com/questions/4953113/showing-an-image-inside-map-annotation)这将帮助您在注释中添加按钮和图像。

而这个链接[添加图像到地图注释](http://rahul7star.blogspot.com/2010/07/adding-images-to-map-annotation.html)

# android - 使用线性布局问题的自定义菜单

> ID：10753194
> 
> 赞同：-1
> 
> 时间：2012-05-25T10:55:17.567
> 
> 标签：android, android-layout

我已经为 Android 应用程序使用线性布局创建了一个自定义菜单。这里的场景是我创建了五个菜单选项卡。我必须根据我将要执行的导航设置一两个菜单的可见性。问题是当我将菜单选项卡的可见性设置为消失时，会明确显示布局的拉伸。请指导以摆脱问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T10:59:40.983

您可以改用可见性“不可见”。GONE：视图完全从您的布局中删除。INVISIBLE：视图未显示，但仍使用所需的空间。

# gridview - 在 Gridview 中更新时出现 Db4objects.Db4o.Ext.DatabaseClosedException

> ID：10753195
> 
> 赞同：0
> 
> 时间：2012-05-25T10:55:21.267
> 
> 标签：gridview, db4o

我正在尝试制作一个项目，我可以使用 Gridview 控件编辑、更新和删除我的对象，每次存储新对象时都会出现 dbclose 异常错误。事实上，我找不到出错的地方。我是 .NET 的 DB4o 编程新手，我找不到任何可以学习基础知识的好资源，所以任何参考资料都将不胜感激。提前致谢。

//页面加载

```
 Db4oService.OpenDB();
     using (var patientdbcontainer = Db4oService.PatientDBContainer)
                    {
                       var list = patientdbcontainer.Query<Patient>(typeof(Patient)).ToList<Patient>();

                       GridView1.DataSource = list;
                       GridView1.DataBind();
                    } 
```

//更新

```
public void GridView1_RowUpdating(object sender, GridViewUpdateEventArgs e)
        {
            //var ID = new Guid((string)e.NewValues["ID"]);

            //    var Name = (string)e.NewValues["Name"];
            //    var IMEI = long.Parse(e.NewValues["IMEI"].ToString());

            Patient updatedPatient = new Patient()
            {
                ID = new Guid((string)e.NewValues["ID"]),
                IMEI =long.Parse(e.NewValues["IMEI"].ToString()),
                Name = (string)e.NewValues["Name"]
            };
            Patient deprecatedPatient;
            using (var patientdbcontainer = Db4oService.PatientDBContainer)
            {

                deprecatedPatient = patientdbcontainer.Query<Patient>(typeof(Patient)).Where<Patient>(n => n.ID == (new Guid((string)e.NewValues["ID"]))).FirstOrDefault<Patient>();
               // deprecatedPatient.Name = ((TextBox)GridView1.Rows[e.RowIndex].Cells[1].Controls[0]).Text;
                deprecatedPatient.ID = updatedPatient.ID;
                deprecatedPatient.Name = updatedPatient.Name;
                patientdbcontainer.Delete(deprecatedPatient);

                patientdbcontainer.Store(updatedPatient);
                patientdbcontainer.Commit();

                GridView1.EditIndex = -1;
                GridView1.DataBind();

            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:17:44.687

1）如果我理解您的代码，也许最好让患者使用 id，并更新属性并存储更改（无需创建和删除）。

2) 你可以试试[http://usefuldb4o.codeplex.com/](http://usefuldb4o.codeplex.com/)。

该项目的重点是使用 ASP.NET。源代码有一个带有 CRUD 操作的 ASP.NET 示例（源代码文件夹**Examples/AspNetWebSolutions**）

这个项目也有一个 Nuget 包，带有一个小示例实现：[http ://nuget.org/packages/UsefulDB4OToWeb](http://nuget.org/packages/UsefulDB4OToWeb)

# android - Android - Webview 仅将标头应用于初始请求

> ID：10753197
> 
> 赞同：7
> 
> 时间：2012-05-25T10:55:39.823
> 
> 标签：android, webview

我正在编写一个使用 webview 从 web 服务器请求内容的 android 应用程序，但使用 mWebView.loadUrl(url1, headers); 只会将标头应用于初始请求，而不是请求中的资源。

关于如何将标头也应用于资源请求的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-08T12:52:43.450

不是绝对确定，但您可以尝试覆盖方法并通过启动 不要忘记在该覆盖方法中返回 true 来`shouldOverrideUrlLoading(WebView view, String url)`处理所有重定向。`mWebView.loadUrl(url, yourHeaders);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-15T12:58:12.003

首先，让我说我不敢相信 webview 这么烂。

这就是我为传递自定义标题所做的事情

```
public class CustomWebview extends WebView {

    public void loadWithHeaders(String url) {

        setWebViewClient(new WebViewClient() {

        @Override
        public WebResourceResponse shouldInterceptRequest(WebView view, String url) {
            //makes a custom http request, which allows you to add your own headers
            return customRequest(url);
        }
      });

        loadUrl(url);
    }

    /**
    * Custom http request with headers
    * @param url
    * @return
    */
    private WebResourceResponse customRequest(String url) {

    try {

        OkHttpClient httpClient = new OkHttpClient();

        Request request = new Request.Builder()
                .url(url.trim())
                .addHeader("Header-Name",  "Android Sucks")
                .build();

        Response response = httpClient.newCall(request).execute();

        return new WebResourceResponse(
                "text/html", // You can set something other as default content-type
                "utf-8",  // Again, you can set another encoding as default
                response.body().byteStream()
        );
    } catch (IOException e) {
        //return null to tell WebView we failed to fetch it WebView should try again.
        return null;
    }
} 
```

}

# android - 在 Android 上可以选择位于另一个后面的元素

> ID：10753204
> 
> 赞同：0
> 
> 时间：2012-05-25T10:56:32.553
> 
> 标签：android, html, android-webview

我使用了绝对定位和 CSS3 动画，因此单击触发器 div 会生成另一个动画来覆盖它。这工作正常，除了在我相当旧的 Android 手机上，当你点击前面的 div 时，你有时可以选择一个选项输入，它位于它后面的 div 中。我尝试添加 z-index，但问题仍然存在。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:48:33.437

我希望有一个 CSS 解决方案，但我用 jQuery 完成了它。以下是我调用来禁用/取消禁用输入的功能，因此无法选择它。

```
function disableInputs () {
$('select').prop("disabled", true);
//alert('disabled');
}

function unDisableInputs () {
$('select').prop("disabled", false);
//alert('un disabled');
} 
```

# tsql - 如何在 T-SQL 中匹配 US-ASCII 字符？

> ID：10753205
> 
> 赞同：2
> 
> 时间：2012-05-25T10:56:35.100
> 
> 标签：tsql, ascii, sql-like

我想将 URL 存储在列中。根据[RFC 3986](https://www.rfc-editor.org/rfc/rfc3986#section-2)，US-ASCII 是组成 URL 的字符集。

SQL Server 有 VARCHAR 类型，它可以编码来自 US-ASCII 字符集的所有字符，以及 128 个依赖于代码页的字符。

我想使用 CHECK 约束来确保列中的值仅包含 US-ASCII 字符集中的可打印字符；换句话说，`ASCII(@char) >= 32 AND ASCII(@char) < 127`对于字符串中的每个字符。

我想我可以在检查约束中使用 LIKE 表达式来执行此操作，但我找不到正确的模式。我正在尝试调整 Itzik Ben-Gan 匹配允许范围之外的任何字符的技巧，他在他的文章[Can I convert this string to an integer?中提出了这一点。](http://www.sqlmag.com/article/tsql3/can-i-convert-this-string-to-an-integer-).

在我的测试工具中，我创建了一个`@TestData`候选表以插入到我的列中，一个`@Patterns`要与 LIKE 运算符一起使用的模式表，然后我选择将每个模式与每个候选匹配的结果：

```
DECLARE @TestData TABLE (
  String VARCHAR(60) COLLATE Latin1_General_CI_AS NOT NULL
);

INSERT INTO @TestData(String)
VALUES
  ('€ÿ'),
  ('ab3'),
  ('http://www.google.com/'),
  ('http://www.example.com/düsseldorf?neighbourhood=Lörick'),
  ('1234');

DECLARE @Patterns TABLE (
  Pattern VARCHAR(12) COLLATE Latin1_General_CI_AS NOT NULL
);

INSERT INTO @Patterns (Pattern)
VALUES
  ('%[^0-9]%'),
  ('%[^' + CHAR(32) + '-' + CHAR(126) + ']%');

SELECT
  ROW_NUMBER() OVER (ORDER BY (SELECT NULL)) AS ID,
  String,
  Pattern,
  CASE WHEN String NOT LIKE Pattern THEN 1 ELSE 0 END AS [Match]
FROM @TestData CROSS JOIN @Patterns; 
```

插入的第一行`@Patterns`就像 Itzik 用来匹配非数字字符的模式。第二行是我尝试将其用于可打印的 US-ASCII 字符范围之外的字符。

当我执行上述批处理时，我收到以下结果集：

```
ID   String                                                   Pattern      Match
---  -------------------------------------------------------- ------------ ------
 1    €ÿ                                                       %[^0-9]%     0
 2    ab3                                                      %[^0-9]%     0
 3    http://www.google.com/                                   %[^0-9]%     0
 4    http://www.example.com/düsseldorf?neighbourhood=Lörick   %[^0-9]%     0
 5    1234                                                     %[^0-9]%     1
 6    €ÿ                                                       %[^ -~]%     0
 7    ab3                                                      %[^ -~]%     0
 8    http://www.google.com/                                   %[^ -~]%     0
 9    http://www.example.com/düsseldorf?neighbourhood=Lörick   %[^ -~]%     0
 10   1234                                                     %[^ -~]%     0 
```

正如预期的那样，第 5 行是匹配的，因为候选只包含数字。第 1 行到第 4 行中的候选不只包含数字，因此不匹配模式。

正如预期的那样，第 6 行中的候选与模式不匹配，因为它包含“高 ASCII”字符。

我希望第 7、8 和 10 行中的候选匹配，因为它们只包含可打印的 US-ASCII 字符。但这些不匹配。

LIKE 表达式中的模式有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:18:10.317

正如问题评论和[类似问题](https://stackoverflow.com/questions/5184429/querying-a-sql-server-2008-table-to-find-values-in-a-column-containing-unicode-c)的答案中所建议的，我需要使用二进制排序规则子句。

如果我将选择语句更改为：

```
SELECT
  ROW_NUMBER() OVER (ORDER BY (SELECT NULL)) AS ID,
  String,
  Pattern,
  CASE WHEN String NOT LIKE Pattern COLLATE Latin1_General_BIN THEN 1 ELSE 0 END AS [Match]
FROM @TestData CROSS JOIN @Patterns; 
```

我得到以下结果集：

```
ID   String                                                   Pattern      Match
---  -------------------------------------------------------- ------------ ------
 1    €ÿ                                                       %[^0-9]%     0
 2    ab3                                                      %[^0-9]%     0
 3    http://www.google.com/                                   %[^0-9]%     0
 4    http://www.example.com/düsseldorf?neighbourhood=Lörick   %[^0-9]%     0
 5    1234                                                     %[^0-9]%     1
 6    €ÿ                                                       %[^ -~]%     0
 7    ab3                                                      %[^ -~]%     1
 8    http://www.google.com/                                   %[^ -~]%     1
 9    http://www.example.com/düsseldorf?neighbourhood=Lörick   %[^ -~]%     0
 10   1234                                                     %[^ -~]%     1 
```

现在，匹配列包含预期值。

# sql-server-2008-express - 如何将数据库备份文件 (.bak) 从 SQL Server 2012 恢复到 SQL Server 2008 Express？

> ID：10753207
> 
> 赞同：23
> 
> 时间：2012-05-25T10:56:40.310
> 
> 标签：sql-server-2008-express, sql-server-2012

最初来自 SQL Server 2008 的数据库已还原到 SQL Server 2012。从 SQL Server 2012 进行了备份，我正在尝试在本地 SQL Server 2008 Express 上还原它。但是我收到一个错误“指定的演员表无效”（SQLManagerUI）。

我从 2012 年生成了一个 SQL 脚本，并将其设置为与 SQL Server 2008 兼容。但是它是一个大 sql 文件，大约 700mb。

我记得之前我曾尝试在本地 SQLExpress 上运行该大小的脚本，但也遇到了错误。

有没有办法可以将 SQL Server 2012 中的“大型”数据库导入 SQL Server 2008 Express？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-05-28T09:20:49.530

感谢 Marc 和 Aaron 提供答案。

快速回答是否定的，不可能将备份文件从较高版本的 SQL Server 还原到较低版本的 SQL Server。

一种解决方法是生成脚本来创建数据库。

您可以将脚本生成定位到较低版本。

请参阅上面的评论以获取更多信息。

链接：

[为什么高版本的 SQL Server 数据库无法恢复到低版本的 SQL Server 上？](http://www.mytechmantra.com/LearnSQLServer/Unable_to_Restore_Database_From_Backup.html)

[在 SQL Server 2012 中创建数据库，在 2008 年编写和使用？](https://stackoverflow.com/questions/10303791/create-database-in-sql-server-2012-script-and-use-in-2008)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-09-10T15:18:01.020

添加一些可能对人们有帮助的东西

在 SSMS 中使用脚本向导为大型数据库编写脚本时，检查执行顺序并愿意手动重新安排它非常重要。旧版本的 SSMS 有这个问题，因为它们（可能）依赖于有[bug的](http://blog.sqlauthority.com/2010/02/04/sql-server-get-the-list-of-object-dependencies-sp_depends-and-information_schema-routines-and-sys-dm_sql_referencing_entities/)[sp_depends](http://technet.microsoft.com/en-us/library/ms189487.aspx)。

我发现在这种情况下真正有用的是[ApexSQL Diff](http://www.apexsql.com/sql_tools_diff.aspx)之类的工具，您可以使用它来读取数据库备份并生成按正确执行顺序执行的脚本。

[较低版本上的 SQL Server 数据库备份还原](https://stackoverflow.com/questions/6183139/sql-server-database-backup-restore-on-lower-version)

任何方法都无法捕捉到的一件事是 Aaron 提到的关于使用特定于更高版本的函数的事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-26T18:51:33.810

比使用 SSMS 脚本向导更好的选择是使用 Codeplex 上可用的类似工具，称为 SQL 数据库迁移向导 - [http://sqlazuremw.codeplex.com/releases/view/32334](http://sqlazuremw.codeplex.com/releases/view/32334)。您希望最新版本 v4.x 与 SQL Server 2012 一起使用。

该工具最初旨在用于在 SQL Server 和 Azure 之间迁移数据库。但是，该工具在 SQL Server 和 SQL Server 之间同样有效。诀窍是在高级选项中将 SQL Server 而不是 Azure 设置为目标。

这是一个比 SSMS 脚本向导更好的选项的原因是它使用 BCP 而不是 TSQL 进行数据传输，因此效率更高。

# css - 在 IE 中单击一个孩子不会触发父母的 :active 状态

> ID：10753215
> 
> 赞同：15
> 
> 时间：2012-05-25T10:57:31.247
> 
> 标签：css, internet-explorer, pseudo-class

我在 IE 8-10 中发现了一个恼人的错误，它阻止了父级的活动状态被触发。看来，如果父元素的子元素是单击事件的目标，则不会触发父元素的活动状态。

[这是一个工作示例](http://jsfiddle.net/WilsonPage/6FYFj/1/)。如果单击`<li>`元素内的文本，则不会改变颜色。如果您单击子元素`<li>`以外的任何位置，`<p>`该元素将变为蓝色。

这是一个问题，因为如果元素有任何子元素，它几乎会使 IE 中的 css :active 伪状态无用。

以前有没有人遇到过这个问题，甚至更好地找到了解决方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-17T07:36:38.700

这是一个简单的解决方法：在段落中添加 css 规则。

**[工作示例](http://jsfiddle.net/6FYFj/23/)**

**CSS**

```
ul { list-style: none; }
li { height: 50px; margin-bottom: 4px; background: red; }
li:active { background: blue; }
p:active { background: blue; height: 100%;} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-06-04T08:57:08.670

我通过防止子元素上的指针事件解决了这个问题。这样`:active`状态直接在父节点上触发，不需要传播。此解决方案的唯一缺点是您不能再将事件侦听器（甚至不是 css `:hover 选择器）附加到孩子。因此，您必须将所有事件侦听器移至父级。

```
.child { pointer-events: none; } 
```

这里是 jsFiddle [https://jsbin.com/govelabuca/1/edit?css,output](https://jsbin.com/govelabuca/1/edit?css,output)
只需取消 css 中最后一行的注释并比较 IE 和其他现代浏览器中的结果

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-30T05:24:21.107

我建议您在单击子元素时使用 javascript 或 jquery，执行父元素的活动状态。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-08T09:31:15.250

`<p>`您可以为标签添加另一个 CSS 选择器，以便您的

```
li:active { background: blue; } 
```

会变成

```
li:active, li p:active { background: blue; } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-04-09T11:58:46.347

我在 IE11 上偶然发现了这个。[我正在使用Martin](https://stackoverflow.com/a/35213733/6509119)建议的这种方法编写拖放样式逻辑。

在我的情况下，我有一行包含`td`单元格元素，并且`:active`为父级使用`tr`为其他浏览器完成了这项工作。对于 IE，我添加了一个 CSS 规则来定位单元格 ( ) 并修改了在单元格事件处理程序`tr.myRowClass > td:active`期间执行的自定义 JS 逻辑中的 if 条件：`mousemove`

```
 if (style.getPropertyValue('cursor') == 'auto' || document.querySelectorAll(":active").length > 0) { 
```

剩下的任务是找到目标元素： [在Javascript中确定鼠标指针在哪个元素之上](https://stackoverflow.com/questions/8813051/determine-which-element-the-mouse-pointer-is-on-top-of-in-javascript)

# c# - SQLException 未处理。在 GridView 中查看 Excel 文件

> ID：10753219
> 
> 赞同：2
> 
> 时间：2012-05-25T10:57:40.077
> 
> 标签：c#, .net, sql-server, gridview, datagridview

我一直在做一个 C# 项目，我在其中浏览 Excel 文件并将其查看到 gridview 中。但是，有一条我不明白的错误消息。有人可以帮我解决这个问题。

这是我使用的代码：

```
private void buttonUpload_Click(object sender, EventArgs e)
{
    string connectionString = String.Format(@"Data Source={0};Extended Properties=""Excel 8.0;HDR=YES;IMEX=1;""", textBoxFileName.Text);

    string query = String.Format("select * from [{0}$]", "Sheet1");

    SqlDataAdapter dataAdapter = new SqlDataAdapter(query, connectionString);

    DataSet dataSet = new DataSet();

    dataAdapter.Fill(dataSet);

    dataGridView1.DataSource = dataSet.Tables[0];
} 
```

这是错误消息：

```
"A network-related or instance-specific error occurred while establishing 
a connection to SQL Server. The server was not found or was not accessible. 
Verify that the instance name is correct and that SQL Server is configured 
to allow remote connections. 
(provider: SQL Network Interfaces, 
error: 26 - Error Locating Server/Instance Specified)." 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:03:17.143

您正在尝试通过`SqlConnection`.

要连接到 Excel，请使用`OleDBConnection`：

```
private void buttonUpload_Click(object sender, EventArgs e)
{
   string connectionString = String.Format(@"Data Source={0};Extended Properties=""Excel 8.0;HDR=YES;IMEX=1;""", textBoxFileName.Text)
   var objConn = new OleDbConnection(connectionString);

   objConn.Open(); 

   OleDbCommand objCmdSelect = new OleDbCommand("SELECT * FROM [Sheet1$]", objConn);

   OleDbDataAdapter objAdapter1 = new OleDbDataAdapter(); 

   objAdapter1.SelectCommand = objCmdSelect; 

   DataSet objDataset1 = new DataSet(); 

   objAdapter1.Fill(objDataset1); 

   objConn.Close(); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:04:28.607

您不能使用`SqlConnection`or`SqlDataAdapter`进行 ODBC 或 JET 连接。使用`OleDbConnection`或`OleDbDataAdapter`。

还请确保及时处理连接和资源。此处推荐使用该`using`语句。

```
private void buttonUpload_Click(object sender, EventArgs e)
{
   string connectionString = String.Format(@"Data Source={0};Extended Properties=""Excel 8.0;HDR=YES;IMEX=1;""", textBoxFileName.Text);
   DataSet objDataset1 = new DataSet();

   using (OleDbConnection objConn = new OleDbConnection(connectionString))
   {
       objConn.Open(); 

       using (OleDbCommand objCmdSelect = new OleDbCommand("SELECT * FROM [Sheet1$]", objConn))
       using (OleDbDataAdapter objAdapter1 = new OleDbDataAdapter())
       {
           objAdapter1.SelectCommand = objCmdSelect;    
           objAdapter1.Fill(objDataset1); 
       }
   } 
} 
```

# android - 用相机拍照后应用程序重启（Titanium android）

> ID：10753222
> 
> 赞同：2
> 
> 时间：2012-05-25T10:57:50.840
> 
> 标签：android, android-camera, titanium-mobile, android-imageview

我正在开发 android 应用程序，在我的应用程序中，我想从相机拍照并在图像视图中设置为图像。我的代码看起来像

```
var img_view = Titanium.UI.createImageView({ 
    image: '/images/default.png',
    height: '100%',
    width: '100%',
}); win.add(img_view);
photo_camera_view = Ti.UI.createView(
{
    height: '20dp',
    backgroundColor:'#fff'
}); win.add(photo_camera_view); 
photo_camera_view.addEventListener('click', function(e)
{
    Titanium.Media.showCamera(
    {
        success:function(event)
        {
            img_view.image =  event.media; 
        },
        cancel:function()
        {
        },
        error:function(error)
        {
            // create alert
        },

    });
}); 
```

我的需要是从相机拍摄照片并在 img_view 中设置图像：'来自相机的照片'。在 Android 中，当我执行 Ti.Media.showCamera 时，在成功拍照并在应用程序中点击“确定”后，应用程序将重新启动。我正在使用钛 sdk 2.0.1 并在具有 android 版本 2.2 的 android 设备上对其进行测试。需要帮助......谢谢......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-16T23:53:09.477

您需要在成功事件中设置图像，如下所示。

```
img_view.setImage(event.media); 
```

您只是不能将图像分配给属性。图像视图必须用新图像重绘。并在 Android 4.0 模拟器中尝试，因为以下版本存在相机问题。

# c# - 数组中的奇怪值 - 在我更改它们后它们保持不变

> ID：10753224
> 
> 赞同：0
> 
> 时间：2012-05-25T10:58:02.540
> 
> 标签：c#, database

这是我的代码：

```
var items = tableInDatabase.All("WHERE [Order] > " + order);
foreach (var i in items.ToArray())
{
    i.Order = 7;
}
tableInDatabase.Save(items.ToArray()); 
```

但是，当断点到达最后一行时（在 foreach 循环之后），项目的每个元素的顺序都与之前相同（不是 7）。为什么会这样？虽然仍在循环中，但我的订单数为 7。

我正在使用 Massive，这是其官方页面中的示例：

```
var table = new Products();
var drinks = table.All("WHERE CategoryID = 8");
foreach(var item in drinks.ToArray()){
    item.CategoryID = 12;
}
table.Save(drinks.ToArray()); 
```

我也试过：

```
foreach (var i in items.ToArray())
{
    tableInDatabase.Update(i, i.Id);
} 
```

没别的了。

返回类型 od tableInDatabase 是类 TableInDatabase。这是定义：

```
public TableInDatabase() : base(connectionString, "System.Data.SqlClient", "TableInDatabase", "Id") { } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:06:56.763

使用此代码：

```
var items = tableInDatabase.All("WHERE [Order] > " + order);
var array = items.ToArray();
foreach (var i in array)
{
    i.Order = 7;
}
tableInDatabase.Save(array); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:13:12.050

`ToArray()`如Romil所说，创建一个新副本，在您的情况下，由于您使用的是[Massive](https://github.com/robconery/massive)，您可能可以按照亚当所说的做，但是该选项会创建两个变量。您可以尝试以下方法。

```
var items = tableInDatabase.All("WHERE [Order] > " + order).ToArray();
foreach (var i in items)
{
    i.Order = 7;
}
tableInDatabase.Save(items); 
```

这是 Massive 示例的一个已知问题，已在[此处报告](https://github.com/robconery/massive/issues/84)

# objective-c - 使 UIBarButtonItem 不可见

> ID：10753233
> 
> 赞同：0
> 
> 时间：2012-05-25T10:58:36.740
> 
> 标签：objective-c, xcode4

我可以在 UIToolbar 上制作一个不可见的 UIBarButtonItem，插入 XCode / Storyboard？我找到了一个禁用它的属性：启用 = NO，但没有使其不可见

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:10:17.870

```
 NSMutableArray *items = [YourToolBar.items mutableCopy];
    [items removeObject:BarButton];
    YourToolBar.items = items;
    [items release]; 
```

# clr - 获取 !dumpheap -stat 中未列出的 ValueType 的名称/MT 的有效方法

> ID：10753234
> 
> 赞同：3
> 
> 时间：2012-05-25T10:58:37.157
> 
> 标签：clr, windbg, value-type, sos, dbghelp

我正在研究 SOS 命令及其输出，但我注意到似乎没有办法以某种方式获取当前正在使用的所有类型。到目前为止最好的方法是`!dumpheap -stat`，但它只列出有实例的类型。但是，当 ValueType 从未被装箱时，该类型将不会显示在`!dumpheap -stat`. （这并不奇怪，因为它们不是在堆上分配的。）

所以我的问题是：是否有任何有效的方法来确定当前存在哪些附加值类型？我的意思是，我可以在检查单个堆对象时按需加载它们（例如`!dumpvc <mt> <address>`基于`!do <address>`输出），但是对于显示的统计信息，通过一些比查看（实例/类定义）更简单的方法来查找类型会更好已知的类来确定它们是否使用任何额外的 ValueType。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T05:23:18.947

似乎没有任何有效的方法可以做到这一点。换句话说，我最终检查了`!DumpHeap -stat`返回的每种类型是结构数组还是包含结构字段。在这两种情况下，我都需要递归检查新找到的结构类型是否也包含任何结构字段。在这种情况下需要递归，除非我已经看到了结构类型。

`!DumpModule -mt`不是选项，顺便说一句。例如，我看到`System.Collections.Generic.List`1`了，但没有任何东西可以代表例如 List 类。

# java - Camel - 与现有应用程序集成

> ID：10753240
> 
> 赞同：3
> 
> 时间：2012-05-25T10:58:53.397
> 
> 标签：java, apache-camel

我目前正在开发一个不使用骆驼的交易应用程序。它基本上接受交易，进行一些处理并将详细信息发送到外部系统。

我们现在需要与 3 个新系统集成，其中 2 个系统使用 FTP，1 个系统使用 JMS。

我想在我的应用程序中使用 Camel 进行这些集成。我已经阅读了大量的骆驼在行动，但我不清楚我们如何才能开始我们的骆驼路线

本质上，我们不想对现有应用程序的任何部分进行过大的修改，因为它在生产中运行良好。

在现有的应用程序中，我们生成一个贸易价值对象，并从该对象中生成一个我想要启动骆驼集成的对象。我没有可以从中启动路由的数据库表或 jms 队列。

我快速浏览了 Camel in Action 书中关于 Bean 路由和远程处理的章节，但我想在继续任何步骤之前先获得人们的建议。这种集成的最佳方法是什么？

谢谢达米安

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:16:19.867

您可以使用 Camel 的[POJO 生产](http://camel.apache.org/pojo-producing.html)功能，该功能允许您从 Java bean 向 Camel 端点发送消息。如果您不需要 JMS 或 DB，您可以使用[“direct:”](http://camel.apache.org/direct.html)或[“seda:”](http://camel.apache.org/seda.html)或[“vm:”](http://camel.apache.org/vm.html)端点作为`<from>`路由的一部分。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-26T15:11:14.660

Pojo 生产正如 Konstantin V. Salikhov 所说。但是，您需要确保您有一个 spring 应用程序并且正在使用 spring 扫描您的 bean 或连接它们。

“如果一个 bean 是在 Spring XML 中定义的或使用 Spring 组件扫描机制扫描的，并且使用了 a 或 CamelBeanPostProcessor，那么我们会处理许多 Camel 注释来执行各种操作，例如注入资源或生成、使用或路由消息。”

如果这种方法会在您的应用程序中添加太多更改，您可以使用[ProducerTemplate](http://camel.apache.org/producertemplate.html)并调用直接端点。（或就此而言的 SEDA）。

这里的协议选择可能很重要。直接协议是一个安全的选择，因为开销只是一个方法调用。此外，异常将通过直接端点很好地传播，事务也是如此。由于 SEDA 端点是异步的（如 JMS）但不具有持久性，因此在发生崩溃时丢失飞行数据的可能性很小。这可能是也可能不是问题。但是，在高负载下，SEDA 协议会更好地进行分级，并为您的应用程序提供更好的负载峰值抵抗能力。

# xml - Perl XML解析获取数据

> ID：10753245
> 
> 赞同：-1
> 
> 时间：2012-05-25T10:59:08.143
> 
> 标签：xml, perl

是否可以使用 perl 脚本从这样的 XML 文件中仅获取数据（战争、欧洲、第一等）并将它们存储在 .txt 文件中？

```
<Node id="93" /> 
  war 
  <Node id="102" /> 
  Europe 
  <Node id="112" /> 
  first 
  <Node id="117" /> 
  <Node id="118" /> 
  world
  <Node id="120" /> 
  <Node id="121" /> 
  country 
  <Node id="126" /> 
  fire
  <Node id="132" /> 
  <Node id="135" /> 
  The 
  <Node id="139" /> 
  Government
  <Node id="144" /> 
  has greeted 
  <Node id="157" /> 
  King
  <Node id="159" /> 
  <Node id="160" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:15:18.993

您可以使用[XML::LibXML](http://p3rl.org/XML%3a%3aLibXML)。

```
use XML::LibXML qw();
my $dom = XML::LibXML->load_xml(string => <<'XML');
<root>
  <Node id="93" />
  war
  <Node id="102" />
  Europe
  <Node id="112" />
  first
  <Node id="117" />
  <Node id="118" />
  world
  <Node id="120" />
  <Node id="121" />
  country
  <Node id="126" />
  fire
  <Node id="132" />
  <Node id="135" />
  The
  <Node id="139" />
  Government
  <Node id="144" />
  has greeted
  <Node id="157" />
  King
  <Node id="159" />
  <Node id="160" />
</root>
XML

print $dom->textContent; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:37:37.997

使用[XML::XSH2](http://p3rl.org/XML%3a%3aXSH2)：

```
open 1.xml ;
echo (/) ; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:14:16.357

您可以使用[XML::Simple](http://search.cpan.org/~grantm/XML-Simple-2.18/lib/XML/Simple.pm)。看起来你想要的只是内容部分。

```
use strict;
use warnings;
use XML::Simple;
my $xml = qq~<root>
<Node id="93" /> 
  war 
  <Node id="102" /> 
  Europe 
  <Node id="112" /> 
  first 
  <Node id="117" /> 
  <Node id="118" /> 
  world
  <Node id="120" /> 
  <Node id="121" /> 
  country 
  <Node id="126" /> 
  fire
  <Node id="132" /> 
  <Node id="135" /> 
  The 
  <Node id="139" /> 
  Government
  <Node id="144" /> 
  has greeted 
  <Node id="157" /> 
  King
  <Node id="159" /> 
  <Node id="160" />
</root>
~;

my $ref = XMLin($xml);
open $out, '>', 'output.txt' or die "Could not open output file";
print $out join "\n", map {s/\s{2,}//g;$_} @{$ref->{'content'}};
close $out; 
```

您也可以使用其他 XML 模块。

# asp.net - asp.net 正则表达式 Max char 不处于状态

> ID：10753246
> 
> 赞同：0
> 
> 时间：2012-05-25T10:59:19.590
> 
> 标签：asp.net

我的正则表达式为 ValidationExpression="^[^<>] *$" 我想添加它将接受的字符数。比如说我想将我的文本框（多行）长度限制为 200。如何实现。我试过 ValidationExpression="^[^<>]* {0, 200}$" 但它不起作用。解决办法是什么>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:14:44.547

如果要将字符串长度限制为最多 200 个字符（接受任何字符），请执行以下操作：

```
ValidationExpression="^.{0,200}$" 
```

编辑：对不起，我想我明白你之前的意思了，为什么它不起作用。试试这个：

```
ValidationExpression="^[^&lt;&gt;]{0,200}$" 
```

# doctrine-orm - Doctrine2 查询生成器左连接与选择

> ID：10753255
> 
> 赞同：0
> 
> 时间：2012-05-25T10:59:57.470
> 
> 标签：doctrine-orm

我想使用doctrine2查询生成器来实现这个SQL：

```
SELECT c.*, COUNT(s.id) AS studentCount
FROM classes c
LEFT JOIN (
    SELECT * 
    FROM student_classes
    WHERE YEAR =  '2012'
) sc ON c.id = sc.class_id
LEFT JOIN students s ON sc.student_id = s.id
GROUP BY c.id 
```

我试过这个但没有用

```
$qb = $this->getEntityManager()
    ->getRepository('Classes')
    ->createQueryBuilder('c');
$qb->select('c.id AS id, c.name AS name, COUNT(s) AS studentCount');
$qb->leftJoin(
    $qb->select('sc1')
        ->from('StudentClasses', 'sc1')
        ->where('sc1.year = :year')
        ->setParameter('year', $inputYear), 
    'sc2'
);
$qb->leftJoin('sc2.students', 's');
$qb->groupBy('c.id');
return $qb->getQuery()->getScalarResult(); 
```

还是我应该使用 nativeSQL 代替？

任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T15:25:35.850

你想做什么真的很有趣，因为 SELECT 上的 JOIN 似乎不被 Doctrine2 与 DQL 或 QueryBuilder 支持。当然，您可以尝试使用[原生查询](http://www.doctrine-project.org/blog/doctrine2-native-queries.html)。

但是，要回答您的问题，我相信您不需要在 SELECT 上进行 JOIN。简单地说，加入`StudentClasses`，然后在 WHERE 中添加一个条件`$year`！WHERE 子句就是为此而设计的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-05T12:18:37.990

您可以使用`WITH`子句通过附加检查来连接实体，对于您的子查询，您可以使用带有年份过滤器的左连接来编写相同的内容，在连接部分中我使用`c.studentClasses`的假设是在`Classes`实体中您有一些`StudentClasses`实体的映射属性

```
$qb = $this->getEntityManager()
    ->getRepository('Classes')
    ->createQueryBuilder('c');
$qb->select('c.id AS id, c.name AS name, COUNT(s) AS studentCount');
$qb->leftJoin('c.studentClasses','sc2', 'WITH', 'sc2.year = :year');
$qb->leftJoin('sc2.students', 's');
$qb->setParameter('year', $inputYear);
$qb->groupBy('c.id'); 
```

# jquery - jQuery 事件 click 和 touchstart

> ID：10753256
> 
> 赞同：1
> 
> 时间：2012-05-25T10:59:57.593
> 
> 标签：jquery, events, click, touchstart

我想知道事件点击和触摸启动之间的区别？我目前所知道的是 touchstart 更适合触摸屏，但点击既适用于触摸动作，也适用于鼠标点击。我对验证这两个有点困惑，其中任何一个都会导致任何情况下的延迟？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:03:43.723

是的，如果记忆正确的话，点击会导致大约 200-300 毫秒的延迟。Click 本质上是等待 touchstart 然后 touchend。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:11:05.100

单击被视为手势。它有大约 300 毫秒的延迟，因为设备正在等待查看轻按是否是双击缩放等手势的一部分。Touchstart/end 没有延迟，因为它比手势低。

# ios - 如何在 iPhone 上使用 MonkeyTalk 测试工具

> ID：10753260
> 
> 赞同：0
> 
> 时间：2012-05-25T11:00:18.140
> 
> 标签：ios, testing, automated-tests, monkeytalk

我正在尝试使用测试工具测试我的 iPhone 和 iPad 应用程序。我搜索了可用的不同工具并找到了 MonkeyTalk。但是，我没有得到有关如何使用 MonkeyTalk 的适当指南。

如果有人对此有解决方案，请告诉我。

# javascript - 如何将退出命令发送到当前的 ffmpeg.exe

> ID：10753262
> 
> 赞同：0
> 
> 时间：2012-05-25T11:00:20.997
> 
> 标签：javascript, windows, batch-file, cmd, xul

```
 var fpath="C:\\TVT_"+cur_date+"_"+cur_time+".avi";

 Components.utils.import("resource://gre/modules/FileUtils.jsm");

 var env = Components.classes["@mozilla.org/process/environment;1"]
                .getService(Components.interfaces.nsIEnvironment);
 var shell = new FileUtils.File(env.get("COMSPEC"));

 var args = ["/c", "cd.. & cd.. & C: & cd C:/ffmpeg/bin & record.bat "+fpath];

 var process = Components.classes["@mozilla.org/process/util;1"]
                 .createInstance(Components.interfaces.nsIProcess);
 process.init(shell);
 process.runAsync(args, args.length); 
```

1.  我不想使用 taskkill.exe、/MIN、/C、/B，而是想退出这个 ffmpeg 进程
2.  我阅读了有关 CMDOW 的信息，但没有在 system32 目录中找到 cmdow.exe。
3.  那么如何在运行 ffmpeg 进程的同一窗口中发送退出命令？

***将 Windows XP Service Pack 2 与 Firefox 12 一起使用***

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:23:43.590

这不是微不足道的 - Firefox 没有任何内置功能，这意味着您需要为此使用[js-ctypes](https://developer.mozilla.org/en/js-ctypes/)并直接调用 Win32 API 函数。[Win32 - Get Main Wnd Handle of application](https://stackoverflow.com/questions/6202547/win32-get-main-wnd-handle-of-application)描述了如何获取应用程序的顶级窗口，然后您可以向`WM_QUIT`它发送消息。这种方法实际上有效：

```
Components.utils.import("resource://gre/modules/ctypes.jsm");

var userlib = ctypes.open("user32");

var HWND = ctypes.voidptr_t;
var UINT = ctypes.uint32_t;
var WPARAM = ctypes.uint16_t;
var LPARAM = ctypes.uint32_t;
var LRESULT = ctypes.uint32_t;
var DWORD = ctypes.uint32_t;
var WNDENUMPROC = ctypes.FunctionType(ctypes.stdcall_abi,
                                      ctypes.bool,
                                      [HWND, LPARAM]).ptr;
var WM_CLOSE = 0x0010;

var EnumWindows = userlib.declare(
  "EnumWindows", ctypes.winapi_abi,
  ctypes.bool,
  WNDENUMPROC, LPARAM
);

var GetWindowThreadProcessId = userlib.declare(
  "GetWindowThreadProcessId", ctypes.winapi_abi,
  DWORD,
  HWND, DWORD.ptr
);

var IsWindowVisible = userlib.declare(
  "IsWindowVisible", ctypes.winapi_abi,
  ctypes.bool,
  HWND
);

var SendMessage = userlib.declare(
  "SendMessageW", ctypes.winapi_abi,
  LRESULT,
  HWND, UINT, WPARAM, LPARAM
);

var callback = WNDENUMPROC(function(hWnd, lParam)
{
  var procId = DWORD();
  GetWindowThreadProcessId(hWnd, procId.address());
  if (procId.value == pid && IsWindowVisible(hWnd))
    SendMessage(hWnd, WM_CLOSE, 0, 0);
  return true;
});
EnumWindows(callback, 0);

userlib.close(); 
```

我对此进行了测试，并且可以使用它成功关闭记事本窗口（如果尚未保存文本，则会出现通常的警告，因此它是干净的关闭）。但是，在您的情况下，问题可能是您没有直接运行 ffmpeg，而是通过命令行 shell - 因此您将关闭可能不会终止 ffmpeg 的命令行窗口。我想你只需要尝试一下，如果它不起作用，你可能不得不查看窗口的标题而不是它的进程 ID（这显然是一种不太可靠的方法）。

# excel - 如何只读取 Excel 文件中已使用的行

> ID：10753263
> 
> 赞同：0
> 
> 时间：2012-05-25T11:00:21.290
> 
> 标签：excel, vb6

我想以只取出使用的行的方式读取 Excel 文件，即如果 excel 文件最初包含 47 行但只填充了 10 行，那么必须读取 10 行数据（不想提及它在阅读时像A2C7，需要默认这样做）是否可以在VB 6.0中实现。请帮助我解决这个问题。

```
 Used Range Property has worked for me,but now i found another problem While using this method ,if i add a value in a row after the last used row and remove the value at once and saves the file , it is showing the wrong usedRange value (i.e) it is showing the address of the row where i added and removed the value at once.how to handle this? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:36:14.333

尝试在循环中读取，直到该行非空（已使用）。您可以通过以下语法获取使用的行数：

```
<workbookname>.Sheets("<SheetName>").UsedRange.Rows.Count 
```

例如

```
Workbook1.Sheets("Sheet1").UsedRange.Rows.Count 
```

# asp.net - 有没有办法在 Http 处理程序中转发请求

> ID：10753264
> 
> 赞同：0
> 
> 时间：2012-05-25T11:00:23.397
> 
> 标签：asp.net, asp.net-mvc

我正在编写 http 处理程序。我只想添加一些 http 标头，之后，我希望行为与以前相同。

我正在处理如下

```
 public void ProcessRequest(HttpContext context) 
 {
    HttpResponse Response = context.Response;     

    Response.Headers.Add("item", "data");
 } 
```

但它的功能与以前不同。我在这里错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:22:23.950

如果您使用的是 ASP.NET MVC，则可以使用操作过滤器将自定义标头添加到响应中。像这样：

```
public class HttpHeaderAttribute : ActionFilterAttribute
{
    public HttpHeaderAttribute(string name, string value)
    {
        Name = name;
        Value = value;
    }

    public override void OnResultExecuted(ResultExecutedContext filterContext)
    {
        filterContext.HttpContext.Response.AppendHeader(Name, Value);
        base.OnResultExecuted(filterContext);
    }

    public string Name { get; set; }

    public string Value { get; set; }
} 
```

# java - 如何导入罐子罐

> ID：10753265
> 
> 赞同：0
> 
> 时间：2012-05-25T11:00:38.750
> 
> 标签：java, eclipse, jar, libraries

> **可能重复：**
> [在 JAR 中包含 JAR 的类路径](https://stackoverflow.com/questions/183292/classpath-including-jar-within-a-jar)

我想知道是否可以导入一罐罐子。我正在尝试加载[`openehr_ref_impl_java-1.0.1.jar`](http://www.openehr.org/wiki/display/projects/Java+Project+Download)哪个是 jar 的 jar，但是没有引用类的实例。首先我将jar复制到lib文件夹（位于我的项目文件夹中）->右键单击->构建路径->添加到构建路径。

我尝试解压缩有效的 .jar 文件 - 引用了这些类，但我认为由于 javadoc （openehr_ref_impl_java-1.0.1_javadocs.jar）还有一罐罐子，可能有一个更简单的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:47:00.610

您链接的页面还提供了组件罐子。这意味着“所有组件的一个 Jar”只是为了方便分发/下载。

所以答案是：- 首先提取罐子，将每个罐子添加到编译/运行时类路径，就像对任何常规罐子一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:11:45.857

我下载了它。项目名称（右键单击）-> 构建路径-> 配置构建路径-> 库-> 添加外部罐子-> 你的罐子罐。

这个对我有用。

# github - GitHub - 错误: 无法将一些引用推送到 'git@github.com:myrepo.git'

> ID：10753268
> 
> 赞同：52
> 
> 时间：2012-05-25T11:00:59.047
> 
> 标签：github, git-push

我收到以下错误。我该如何解决？： git add 。git commit -m 't' git push origin 开发

```
To git@github.com:myrepo.git
 ! [rejected]        development -> development (non-fast-forward)
error: failed to push some refs to 'git@github.com:myrepo.git'
To prevent you from losing history, non-fast-forward updates were rejected
Merge the remote changes (e.g. 'git pull') before pushing again.  See the
'Note about fast-forwards' section of 'git push --help' for details. 
```

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2012-05-25T11:08:49.743

您的原始存储库位于本地存储库之前。在推送之前，您需要从源存储库中提取更改，如下所示。这可以在您的提交和推送之间执行。

```
git pull origin development 
```

`development`指您要从中提取的分支。如果你想从`master`分支中拉出来，那么输入这个。

```
git pull origin master 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2019-07-22T15:54:50.497

就我而言，Github 已关闭。

也许还要检查[https://www.githubstatus.com/](https://www.githubstatus.com/)

您可以订阅每封电子邮件和文本的通知，以了解何时可以再次推送您的更改。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-08-04T12:29:51.117

我使用了这个命令，它对我很好：

```
>git push -f origin master 
```

但请注意，这可能会删除您在远程仓库中已有的一些文件。这对我来说很方便，因为情况不同；我正在将本地项目推送到空的远程仓库，但 READ.ME

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2019-04-02T09:44:56.540

我遇到了同样的问题并解决如下（如果您在本地文件夹中有一个项目，请按照以下步骤操作）：

1.  在guthub中创建一个新的repo
2.  转到本地文件夹并执行“git init”
3.  git remote add origin (with your repo url) // 简单地从你的 repo 复制
4.  git添加-A
5.  git commit -m "你的提交"
6.  git push -u 起源大师

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2019-11-25T17:32:41.113

就我而言。我遇到了错误，因为在将 github 上的存储库创建到现有项目中后，我忘记了提交。所以我解决了：

```
git add .
git commit -m"commentary" 
```

然后我可以输入：

```
git push -u origin master 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-09-03T18:02:41.507

您可以在控制台中编写：

```
git pull origin 
```

然后按 TAB 并编写您的“主”存储库

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2021-08-10T15:38:11.457

我也得到了错误 `! [remote rejected] main -> main (failure) error: failed to push some refs to '<repository>'`。

来了才知道是这个原因：

[![在此处输入图像描述](../Images/0192592060796e7b8bf1a60f909f58ed.png)](https://i.stack.imgur.com/cDuCl.png)

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2020-08-20T19:17:48.273

尝试这个：

1.  git push -u 起源大师
2.  git push -f 起源大师

有时#1 对我有用，有时#2 对我有用。我不知道为什么它会以这种方式反应

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-04-11T06:32:02.787

在 Windows 中，您需要使用双引号“”。所以命令是

git commit -m "t"

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2015-01-29T15:22:51.850

在我的情况下，我`git push`试图推送更多的内容，而不是当前的分支，因此，我收到了这个错误，因为其他分支不同步。

要解决这个问题，您可以使用：`git config --global push.default simple` 这将使 git 仅推送当前分支。

这仅适用于较新版本的 git。即：不适用于 1.7.9.5

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-12-15T23:20:32.240

我遇到了以下错误 $ git push origin main 错误：src refspec main 不匹配任何错误：未能将一些参考推送到 'https://github.com/--------/git-init-sample .git'

解决方案：我没有连接到 git local repo [https://github.com/login/oauth/authorize?response_type=](https://github.com/login/oauth/authorize?response_type=)

一旦我连接错误就消失了

$ git push origin main 枚举对象：3，完成。计数对象：100% (3/3)，完成。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2022-01-30T19:16:39.987

此相同但具有不同详细信息的错误可能与存储库中隐私设置的更改有关。细节其实很清楚。

例如：我更改了我的个人资料设置以隐藏我的电子邮件地址，这对我的所有存储库都有影响。但是，您可以保持该设置处于选中状态并取消选中“电子邮件设置”部分中的“阻止暴露我的电子邮件的命令行推送”选项

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-06-20T17:57:55.550

这个命令对我有用：

```
git push --set-upstream origin master 
```

如果它不起作用，请确保您正在推动您所在的当前分支。

```
App University>git branch
* master
  test 
```

之后，您必须将代码推送到主分支

```
 App University>git push origin master 
```

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2016-03-14T15:06:22.787

```
$ git fetch --unshallow origin
$ git push you remote name 
```

# c - 为什么我会收到运行时错误

> ID：10753271
> 
> 赞同：2
> 
> 时间：2012-05-25T11:01:05.957
> 
> 标签：c, operating-system, pthreads, codeblocks

您好，我在 Windows XP 中使用 Code::Blocks。当我运行这个程序时，我得到一个运行时错误，因为`"drawing operation was attempted when there was no current window".` 我想知道为什么会这样。

```
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <windows.h>
#include <conio.h>
void *print_message_function( void *ptr );

main()
{
   pthread_t thread1, thread2;
   char *message1 = "Thread 1";
   char *message2 = "Thread 2";
   int  iret1, iret2;

   iret1 = pthread_create( &thread1, NULL, print_message_function, (void*) message1);
   iret2 = pthread_create( &thread2, NULL, print_message_function, (void*) message2);

   pthread_join( thread1, NULL);
   pthread_join( thread2, NULL);

   printf("Thread 1 returns: %d\n",iret1);
   printf("Thread 2 returns: %d\n",iret2);

   exit(0);
}

void *print_message_function( void *ptr )
{
   char *message;
   char hello;
   for(;;)
   {
        message = (char *) ptr;
        printf("%s \n", message);
        Sleep(1000);
      //  break;

         fflush(stdin);   
/*drawing operation was attempted when there was no current window*/
//The happens from next line onwords
           if(kbhit())
           {
               hello = getchar();
               printf("The interrupt %d", hello);
           }
       }

    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:13:20.957

你的程序有一个**未定义的行为**。
不允许调用并且`fflush()`是`stdin`未定义的行为。它只允许在标准输出流上调用`stdout`。
这可能是也可能不是您观察到的行为的直接原因，但由于它是您永远不知道的未定义行为......

**C99 标准 7.19.5.2/2：**

> 如果 stream 指向一个输出流或更新流，其中没有输入最近的操作，则 fflush 函数会导致该流的任何未写入数据被传递到主机环境以写入文件；否则，行为未定义

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-25T11:12:52.480

`kbhit()`已[弃用](http://msdn.microsoft.com/en-us/library/ms235390%28v=vs.80%29.aspx)，请`_kbhit()`改用。也许这就是原因。

# python - python 正则表达式匹配任何有效的英文句子

> ID：10753276
> 
> 赞同：1
> 
> 时间：2012-05-25T11:01:26.100
> 
> 标签：python, regex, text-manipulation

我想知道是否可以编写一个 python 正则表达式来匹配任何可以包含字母数字字符和特殊字符的有效英文句子。
基本上，我想从 XML 文件中提取一些特定元素。这些特定元素将具有以下形式：

```
<p o=<Any Number>> <Any English sentence> </p> 
```

例如：

```
<p o ="1"> The quick brown fox jumps over the lazy dog </p> 
```

或者

```
<p o ="2">  And This is a number 12.90! </p> 
```

我们可以很容易地为

```
<p o=<Any Number>> 
```

和`</p>`标签。但我有兴趣通过编写正则表达式组来提取这些标签之间的句子。

任何人都可以建议使用正则表达式来解决上述问题吗？

另外，如果您可以提出一种解决方法，那么它对我也很有帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-25T11:06:02.663

使用像[lxml](http://lxml.de/)这样的 XML 解析器，正则表达式不适合这个任务。例子：

```
import lxml.etree
// First we parse the xml
doc = lxml.etree.fromstring('<p o ="2">  And This is a number 12.90! </p>')
// Then we use xpath to extract the element we need
doc.xpath('/p/text()') 
```

您可以在以下位置阅读有关 XPATH 的更多信息：[Xpath 教程](http://www.w3schools.com/xpath/default.asp)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:08:59.790

您真的应该使用 xml 解析器。此处的示例[http://www.travisglines.com/web-coding/python-xml-parser-tutorial](http://www.travisglines.com/web-coding/python-xml-parser-tutorial)。

# xaml - 为 Metro 应用程序的 Bing 地图上的标记图钉设置动画

> ID：10753278
> 
> 赞同：4
> 
> 时间：2012-05-25T11:01:34.680
> 
> 标签：xaml, windows-8, windows-runtime, bing-maps

我有一个 Bing 地图控件，我想为地图上绘制的图钉的位置设置动画。

理想情况下，我想编写这样的代码：

```
// Image myPin = some Image on the map layer;

var sb = new Storyboard();
var duration = DurationHelper.FromTimeSpan(System.TimeSpan.FromMilliseconds(1000));
sb.Duration = duration;

LocationAnimation ani = new LocationAnimation();
ani.To = new Location(33.3, 11.1); // destination lat, lng
ani.Duration = duration;

sb.Children.Add(ani);
Storyboard.SetTarget(ani, myPin);
Storyboard.SetTargetProperty(ani, "MapLayer.Position");

Resources.Add("moveMyPin", sb);
sb.Begin(); 
```

当然`LocationAnimation`，框架中没有类。有几个类似的：`PointAnimation`适用于`Point`类型，而`DoubleAnimation`适用于单个`double`值。

我假设我必须实现我的 -`Timeline`派生类，但到目前为止我发现的文档在这方面没有帮助，我不知道从哪里开始。

如何为没有 *Animation 类准备好的属性设置动画？我错过了什么吗？

**更新**：我*想*我可以做类似的事情

```
// let aniX and aniY be two DoubleAnimation objects
StoryBoard.SetTargetProperty(aniX, "(MapLayer.Position).Latitude")
StoryBoard.SetTargetProperty(aniY, "(MapLayer.Position).Longitude") 
```

但是现在我遇到了另一个问题，因为我看不到如何为附加属性设置动画，并且总是得到一个异常，例如“无法解析 TargetProperty (MapLayer.Position).Latitude on specified object”。

所以我想现在的问题变成了：*如何为附加属性指定属性路径？*

**进一步更新**：我可能在“SetTargetProperty”这件事上走错了路，因为这会产生*依赖动画*（请参阅评论中的链接）。是否有更好的方法将标记针设置为坐标目标？

**更新 3**：正如 Jared 指出的那样，我可以尝试动画`RenderTransform`，或使用过渡来实现我的结果。我已经走了这条路，这似乎不是我的解决方案。这是我发现的：

*   使用`RepositionThemeAnimation`，看来我必须给出图钉的新像素位置。这有几个原因：首先，我知道引脚的 lat/lng 目的地，但必须计算出投影（据我所知，没有公共接口可以使用投影）。其次，投影本身可以随着地图的缩放/平移而改变。动画结束时的像素目标不能与初始像素目标相同。在我的场景中，这是一个主要问题，因为在动画发生时地图很可能正在移动。
*   使用`RepositionThemeTransition`所有奇怪的像素/投影问题都消失了。到目前为止，这是我能够看到我期望的动画的唯一方法。我只是设置了转换并设置了标签的新纬度/经度位置（通过 MapLayer.SetPosition）。但它有两个主要问题。我无法设置动画的持续时间（也无法设置缓动功能）。最重要的是，当引脚到达最终位置时，我看不到任何执行代码的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T16:12:39.193

好的，伙计，您的问题与 Bing 地图无关。它与无法动画的依赖属性有关，除非您指定它们可以。方法如下：[http ://blog.jerrynixon.com/2012/06/windows-8-animated-pie-slice.html](http://blog.jerrynixon.com/2012/06/windows-8-animated-pie-slice.html)

查尔斯网站的另一个答案中的链接不是最新的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T22:31:06.003

附加属性可以设置动画，但您必须将它们的名称括在括号中。在此处查看示例：

[http://www.charlespetzold.com/blog/2007/09/080231.html](http://www.charlespetzold.com/blog/2007/09/080231.html)

但是，我相信这仅适用于设置整个值（位置），可能不适用于子属性（纬度和经度）。

我想知道您是否可以提供有关您正在尝试做的事情的更多信息。这是临时动画吗？即，您是否希望图钉在入口或离开时进行动画处理？如果是这样，您可以只在 RenderTransform X 和 Y 上做一个动画。您实际上不会更改图钉的位置，但您可以使用 RenderTransform 临时更改它的绘制位置。

更好的是，您也许可以摆脱现在内置于框架中的免费动画。您甚至不需要故事板来使用它们，只需将它们设置在元素上，如下所示：

```
<Button Content="Transitioning Button">
     <Button.Transitions>
         <TransitionCollection> 
             <EntranceThemeTransition/>
         </TransitionCollection>
     </Button.Transitions>
</Button> 
```

有关动画库的更多示例，甚至许多动画的视频预览，请参阅：

[http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh452703.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh452703.aspx)

# android - ActionBar 向上按钮和导航模式

> ID：10753281
> 
> 赞同：12
> 
> 时间：2012-05-25T11:01:40.467
> 
> 标签：android, android-actionbar, actionbarsherlock

我想在我的应用程序中使用 ActionBar 中的向上按钮实现[导航模式。](http://developer.android.com/design/patterns/navigation.html)

我有详细信息活动，在这里我可以来自家、收藏夹和搜索屏幕。我也可以从浏览器打开这个屏幕（处理特定的 url）。当用户按下向上按钮时，我使用 flush() 方法来模拟返回导航。但是对于情况，当用户来自浏览器时，我想打开主屏幕而不是以前的浏览器活动。我如何识别以前的活动来自另一个应用程序并导航到主屏幕？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-08-03T02:39:26.863

Up 应该始终导航到 Activity 的层次父级，Back 应该始终暂时导航。

换句话说，您应该保持原样返回。

至于Up，不管它来自哪里，它应该总是去同一个地方。因此，如果您通常从 YourListActivity 来到 DetailsActivity，那么无论您来自哪里，Up 都应该始终去那里。最可能的位置取决于您的判断，但它应该始终相同。

如果您从非正常位置（例如浏览器、另一个活动、小部件或通知）来到 Details Activity，您应该重新创建您的任务堆栈，以便使用向上导航导致相同的路径。这是来自 Android 开发人员培训的示例：

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    case android.R.id.home:
        Intent upIntent = new Intent(this, YourListActivity.class);
        if (NavUtils.shouldUpRecreateTask(this, upIntent)) {
            // This activity is not part of the application's task, so
            // create a new task
            // with a synthesized back stack.
            TaskStackBuilder
                    .from(this)
                    .addNextIntent(new Intent(this, HomeActivity.class))
                    .addNextIntent(upIntent).startActivities();
            finish();
        } else {
            // This activity is part of the application's task, so simply
            // navigate up to the hierarchical parent activity.
            NavUtils.navigateUpTo(this, upIntent);
        }
        return true;
    }
} 
```

这是关于实现导航的 Android 培训

（[http://developer.android.com/training/implementing-navigation/index.html](http://developer.android.com/training/implementing-navigation/index.html)）。

您将需要 NavUtils 和 TaskStackBuilder 的支持库。

# php - 从输出缓冲区重写 PHP URL

> ID：10753283
> 
> 赞同：0
> 
> 时间：2012-05-25T11:01:51.743
> 
> 标签：php, .htaccess, url-rewriting, output-buffering

我正在尝试使用输出缓冲区在 PHP 中重写我的 URL。理想情况下，在我的源代码中，我可以保留我的链接，`example.com/index.php?action=123;sa=456;sa2=789`但是当输出到浏览器时，它会重写，因为`example.com/123/456/789`它似乎正在工作，但是当它到达“sa2”时，重写输出缓冲区往往会偶尔中断，浏览器看到的是一个空白的白页。当页面加载时，它会使用 gzip 启动一个输出缓冲区，然后是一个带有重写回调的输出缓冲区。这是我的 php/.htaccess

```
<?php

if (!ob_start("ob_gzhandler"))
    ob_start();

// Handle Rewriting of URLs
RewriteURLs();

function RewriteURLs()
{
// rewrite URLS from output buffer
function rewrite($buffer)
{
    // pages
    $buffer = preg_replace('/index.php\?page=(.*?)/is', "page/$1", $buffer);
    // sub-sub-actions
    $buffer = preg_replace('/index.php\?action=(.*?);sa=(.*?);sa2=(.*?)/is', "$1/$2/$3", $buffer);
    // sub-actions
    $buffer = preg_replace('/index.php\?action=(.*?);sa=(.*?)/is', "$1/$2", $buffer);
    // actions
    $buffer = preg_replace('/index.php\?action=(.*?)/is', "$1", $buffer);
    // index.php removal
    $buffer = preg_replace('/index.php/is', "", $buffer);
    return $buffer;
}
// start for rewriting
ob_start('rewrite');
}

// rest of content/page loading.......
?> 
```

.htaccess 处理重写

```
Options +FollowSymLinks  
RewriteEngine on  
RewriteBase   /
# Rules for: pages
RewriteRule ^page/([-_!~*'()$\w]+)/?$  index.php?page=$1    [L,QSA]

# Rules for sub-sub-actions
# /{action}/{subaction}/{subsubaction}/
RewriteRule ^([-_!~*'()$\w]+)/([-_!~*'()$\w]+)/([-_!~*'()$\w]+)/?$ index.php?action=$1;sa=$2;sa2=$3

# Rules for sub-actions
# /{action}/{subaction}/
RewriteRule ^([-_!~*'()$\w]+)/([-_!~*'()$\w]+)/?$ index.php?action=$1;sa=$2

# Rules for: actions
# /{action}/
RewriteRule ^([-_!~*'()$\w]+)/?$  index.php?action=$1    [L,QSA] 
```

这看起来越来越像 PHP 输出缓冲区问题，我似乎无法找到我做错了什么。任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:37:31.187

请注意这段代码，因为根据 php 版本，您使用发送到 rewrite 函数的缓冲区字符串只能包含整个缓冲区的一部分（破坏正则表达式逻辑）。您必须强制chuck_size 可选参数为零（在php 5.4 及更低版本中，默认chuck 大小为4096 字节）

查看有关 ob_start 的文档：

[http://es.php.net/manual/en/function.ob-start.php](http://es.php.net/manual/en/function.ob-start.php)

这可能是这段代码“偶尔中断”的原因

# c#-3.0 - 在 UI 中显示 json - 以正确的日期时间缩进

> ID：10753285
> 
> 赞同：0
> 
> 时间：2012-05-25T11:02:04.943
> 
> 标签：c#-3.0, json.net

如何以正确缩进的方式显示一些 json 格式的文本？

我正在使用 Json.NET，并且我已经序列化并使用缩进保存了我的数据，现在我想在我的 UI 中显示这些数据。

我的文字如下：

{ “CompetencyId”：39，“名称”：“农业 - 托儿所”，“添加日期”：“/Date(1337866574143+0100)/”，“删除日期”：“/Date(1337942762894+0100)/”，“状态” ： “积极的” }

*注意*我只是从数据库中读取并将其丢弃

问题：以正确的格式显示带有日期缩进的 json，例如 18/06/2011

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:38:06.487

RTFM：http: [//james.newtonking.com/projects/json/help/](http://james.newtonking.com/projects/json/help/)

看：

*   序列化和反序列化 JSON / 序列化设置 / DateFormatHandling
*   读写 JSON / JsonTextWriter

# c# - 在 DependencyObject 上使用 DependencyProperty.AddOwner 方法而不是简单的 POCO 属性 getter/setter 的原因是什么？

> ID：10753286
> 
> 赞同：3
> 
> 时间：2012-05-25T11:02:05.630
> 
> 标签：c#, wpf, dependency-properties

有人可以解释一下，在 WPF 中使用 AddOwner 方法有什么好处（完全依赖属性）？我有一些误解。

例如，请看下面的代码。

```
public class TestVisual: Shape
{
    private LineGeometry line = new LineGeometry();

    public static readonly DependencyProperty XY1Property =
        LineGeometry.StartPointProperty.AddOwner(
            typeof(TestVisual),
            new FrameworkPropertyMetadata(new Point(0,0),
                FrameworkPropertyMetadataOptions.AffectsMeasure));

    public static readonly DependencyProperty XY2Property =
        LineGeometry.EndPointProperty.AddOwner(
            typeof(TestVisual),
            new FrameworkPropertyMetadata(new Point(0, 0),
                FrameworkPropertyMetadataOptions.AffectsMeasure));

    public Point XY1
    {
        get { return (Point)GetValue(XY1Property);}
        set { SetValue(XY1Property,value); }
    }

    public Point XY2
    {
        get { return (Point)GetValue(XY2Property); }
        set { SetValue(XY2Property, value); }
    }

    protected override Geometry DefiningGeometry
    {
        get
        {
            line.StartPoint = XY1 ;
            line.EndPoint = XY2;                         
            return line;
        }
    }
} 
```

从上面的代码中你可以看到 TestVisual 类使用 AddOwner 方法作为依赖属性。好的，但是同样的结果我们可以变得更容易（我的意思是我们可以得到一个类，它允许通过设置 XY1 和 XY2 点来调整线条视觉元素）：

```
 public class TestVisual: Shape
{
    private LineGeometry line = new LineGeometry();

    public Point XY1
    {
        get;
        set;
    }

    public Point XY2
    {
        get;
        set;
    }

    protected override Geometry DefiningGeometry
    {
        get
        {
            line.StartPoint = XY1 ;
            line.EndPoint = XY2;                         
            return line;
        }
    }
} 
```

那么重点是什么？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:04:48.963

关键是`XY1`和`XY2`是第一个版本中的依赖属性和第二个版本中的简单 .NET 属性。请参阅[为什么依赖属性？](https://stackoverflow.com/questions/1723756/why-dependency-properties)

通常，`AddOwner`用于使依赖属性在最终不是从拥有依赖属性的类型派生的类型上可用。

# unit-testing - 如何为 mocha 指定测试目录？

> ID：10753288
> 
> 赞同：253
> 
> 时间：2012-05-25T11:02:10.043
> 
> 标签：unit-testing, node.js, mocha.js

[Mocha](http://visionmedia.github.com/mocha/)默认尝试在下查找测试文件`test`，我如何指定另一个目录，例如`server-test`？

* * *

## 回答 #1

> 赞同：315
> 
> 时间：2013-11-11T09:04:29.220

用这个：

```
mocha server-test 
```

或者，如果您有子目录，请使用：

```
mocha "server-test/**/*.js" 
```

注意使用双引号。如果您忽略它们，您可能无法在子目录中运行测试。

* * *

## 回答 #2

> 赞同：153
> 
> 时间：2014-08-06T01:36:01.523

编辑：此选项已弃用：[https ://mochajs.org/#mochaopts](https://mochajs.org/#mochaopts)

* * *

如果您想通过仍然`mocha`在命令行上运行来执行此操作，但想在文件夹中`./server-tests`而不是在文件夹中运行测试，请在文件中`./test`创建一个`./test/mocha.opts`文件：

```
server-tests 
```

如果您想运行该文件夹和子目录中的所有内容，请将其放入`test/mocha.opts`

```
server-tests
--recursive 
```

`mocha.opts`是通过命令行传入的参数，因此将第一行设为您要更改测试的目录也将从`./test/`

* * *

## 回答 #3

> 赞同：84
> 
> 时间：2012-05-25T12:17:37.760

这是一种方法，如果您的测试文件夹中有子文件夹，例如

```
/test
/test/server-test
/test/other-test 
```

然后在 linux 中你可以使用 find 命令递归地列出所有 *.js 文件并将其传递给 mocha：

```
mocha $(find test -name '*.js') 
```

* * *

## 回答 #4

> 赞同：46
> 
> 时间：2018-06-18T05:22:26.067

这样做的好方法是在 package.json 中添加一个“测试”npm 脚本，该脚本使用正确的参数调用 mocha。这样你的 package.json 也描述了你的测试结构。它还避免了其他答案中的所有这些跨平台问题（双引号与单引号，“查找”等）

让 mocha 运行“test”目录中的所有 js 文件：

```
"scripts": {
    "start": "node ./bin/www", -- not required for tests, just here for context
    "test": "mocha test/**/*.js"
  }, 
```

然后只运行冒烟测试调用：

```
npm test 
```

您可以通过这种方式标准化所有项目中所有测试的运行，因此当新开发人员开始您的项目或其他项目时，他们知道“npm test”将运行测试。这有很好的历史先例（例如，Maven，大多数老派“制作”项目也是如此）。当所有项目都具有相同的测试命令时，它肯定会帮助 CI。

同样，您可能希望 mocha 运行更快的“烟雾”测试子集：

```
"scripts": {
    "test": "mocha test/**/*.js"
    "smoketest": "mocha smoketest/**/*.js"
  }, 
```

然后只运行冒烟测试调用：

```
npm smoketest 
```

另一种常见的模式是将测试放在与它们测试的源相同的目录中，但调用测试文件 *.spec.js。例如：src/foo/foo.js 由 src/foo/foo.spec.js 测试。

按照惯例运行所有名为 *.spec.js 的测试：

```
 "scripts": {
    "test": "mocha **/*.spec.js"
  }, 
```

然后运行所有测试调用：

```
npm test 
```

看到这里的模式了吗？好的。:) 一致性击败[了村](https://en.wikipedia.org/wiki/Mura_(Japanese_term))。

* * *

## 回答 #5

> 赞同：29
> 
> 时间：2012-10-24T23:08:39.140

不要使用 -g 或 --grep 选项，该模式在 it() 内部的测试名称上运行，而不是文件系统。当前的文档在这方面具有误导性和/或完全错误。要将整个命令限制为文件系统的一部分，您可以传递一个模式作为最后一个参数（它不是标志）。

例如，此命令会将您的报告器设置为规范，但只会立即测试 server-test 目录内的 js 文件：

```
mocha --reporter spec server-test/*.js 
```

此命令将执行与上述相同的操作，而且它只会运行测试的 it() 字符串/定义以“Fnord:”开头的测试用例：

```
mocha --reporter spec --grep "Fnord:" server-test/*.js 
```

* * *

## 回答 #6

> 赞同：29
> 
> 时间：2019-04-14T22:25:33.057

如果在**node.js中，** **Mocha v6**的一些新配置：

选项1：**`.mocharc.json`**在项目的根目录中创建：

```
{
  "spec": "path/to/test/files"
} 
```

选项 2：**`mocha`**在项目中添加属性**`package.json`**：

```
{
  ...

  "mocha": {
    "spec": "path/to/test/files"
  }
} 
```

更多选项在[这里](https://mochajs.org/#configuring-mocha-nodejs)。

* * *

## 回答 #7

> 赞同：20
> 
> 时间：2020-01-16T14:06:52.160

**现在一天（2020 年）**，您可以使用**mocha 配置文件**来处理这个问题：

第 1 步：在应用程序的**根位置****创建 .mocharc.js**文件

 **第 2 步：在 mocha 配置文件中**添加**以下**代码：**

```
'use strict';

module.exports = {
  spec: 'src/app/**/*.test.js'
}; 
```

有关配置文件中的更多选项，请参阅此链接：[https ://github.com/mochajs/mocha/blob/master/example/config/.mocharc.js](https://github.com/mochajs/mocha/blob/master/example/config/.mocharc.js)

* * *

## 回答 #8

> 赞同：20
> 
> 时间：2017-06-15T17:15:23.027

运行`test_directory`包括匹配的子目录中的所有文件`test.js`

```
find ./parent_test_directory -name '*test.js' | xargs mocha -R spec 
```

或使用`--recursive`开关

```
mocha --recursive test_directory/ 
```

* * *

## 回答 #9

> 赞同：11
> 
> 时间：2015-08-03T18:29:14.897

我刚才遇到了这个问题，并通过删除`--recursive`选项（我已设置）并使用上面建议的相同结构来解决它：

`mochify "test/unit/**/*.js"`

这为我运行了所有目录中的所有测试，`/test/unit/`同时忽略了其中的其他目录`/test/`

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2017-05-25T11:53:14.850

正如@superjos 在评论使用中提到的那样

`mocha --recursive "some_dir"`

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2013-03-18T13:31:58.247

我在 Windows 7 上使用 node.js v0.10.0 和 mocha v1.8.2 和 npm v1.2.14。我只是想让 mocha 使用路径测试/单元来查找我的测试，在花了很长时间并尝试了几件事后，我登陆了，

使用“test/unit/*.js”选项在 Windows 上不起作用。出于充分的理由，Windows shell 不会像 unixen 那样扩展通配符。

但是使用“测试/单元”确实有效，没有文件模式。例如。"mocha test/unit" 运行在 test/unit 文件夹中找到的所有文件。

这仍然只运行一个文件夹文件作为测试，但您可以将多个目录名称作为参数传递。

此外，要运行单个测试文件，您可以指定完整路径和文件名。例如。“摩卡测试/单元/mytest1.js”

我实际上在 package.json 中为 npm "scripts": { "test": "mocha test/unit" } 设置，

所以“npm test”运行我的单元测试。

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2017-04-30T23:42:00.427

如果您使用`nodejs`, 在您的`package.json`下`scripts`

1.  对于`global (-g)`安装：`"test": "mocha server-test"`或`"test": "mocha server-test/**/*.js"`子文档
2.  对于`project`安装：`"test": "node_modules/mocha/bin/mocha server-test"`或`"test": "node_modules/mocha/bin/mocha server-test/**/*.js"`子文档

然后正常运行你的测试`npm test`

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2012-05-25T12:08:35.937

这似乎不是对更改测试目录的任何“简单”支持。但是，相对于您的问题
，也许您应该看一下[这个问题。](https://github.com/visionmedia/mocha/issues/341)

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2018-05-29T15:22:17.250

正如@jeff-dickey 建议的那样，在项目的根目录中创建一个名为`test`. 在该文件夹中，创建一个名为`mocha.opts`. 现在我尝试改进 Jeff 的答案，对我有用的不是只指定一个测试文件夹的名称，而是指定一种模式，通过添加以下行来查找要在我的项目中运行的所有测试：

`*/tests/*.js --recursive`在`mocha.opts`

如果您想指定要在其中查找测试的确切文件夹，我做了这样的事情：

```
shared/tests/*.js --recursive
server/tests/graph/*.js --recursive 
```

我希望这可以帮助任何需要比其他答案提供的更多的人

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2022-01-28T22:03:25.350

Windows 中的另一个选项可能是使用`cross-env`包并遵循 npm 脚本`package.json`

```
"scripts": {
    "test": "cross-env mocha '*.test.js'"
  },
"devDependencies": {
    "cross-env": "latest",
} 
```

在这种情况下，根文件夹中模式为 *.test.js 的所有测试文件都将由 mocha 运行。**

# iphone - 如何在 Iphone sdk 中的触摸事件上操作矩形正方形绘制的边缘？

> ID：10753292
> 
> 赞同：0
> 
> 时间：2012-05-25T11:02:28.093
> 
> 标签：iphone, ios, touch, uigesturerecognizer

我正在使用 touchBegine 和 touchEnded 点在触摸上绘制一个正方形。现在我的要求是如何在触摸时修改这个正方形的特定边缘？这是否可以通过触摸修改矩形的边缘？

# jquery - 如何在 Jquery 的表格行中添加一个按钮

> ID：10753294
> 
> 赞同：0
> 
> 时间：2012-05-25T11:02:36.080
> 
> 标签：jquery, dynamically-generated

我正在整理一份快速而肮脏的酒吧申请。

当用户单击饮料类型的按钮时，表格中会添加一行，带有 + 和 - 以允许用户更改数量。

```
$(".drinkButton").click(function() {

    var destTable = $("#trTable");
    var drinkID = $(this).attr("id");

    switch (drinkID) {
    case 'becks':
        var dName = "Becks";
        var dPrice = "3.00";
        break;
    case 'corona':
        var dName = "Corona";
        var dPrice = "3.00";
        break;
    }

    var newRow = $("<tr><td>" + dName + 
                           "</td><td>" + dPrice + "</td><td>1</td> \
                           <td><input id='Button' type='button' value='-' class='minusButton' /></td> \
                           <td><input id='Button' type='button' value='+' class='plusButton' /></td> \
                           <td>" + dPrice + "</td> \
                  </tr>");

$("#trTable").append(newRow);
    $(this).attr('disabled', 'disabled');
});

$(".plusButton").click(function() {
    alert('Plus Button Clicked');
});​ 
```

这可行，但添加的加号和减号按钮不会触发事件。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:04:46.860

您的代码不起作用，因为使用添加的事件`click`or`bind`仅执行一次并且仅针对当前`DOM`而不是稍后添加的元素，您可以在`.plusButton`添加新事件时重新绑定事件，或者使用`on`，这将为您处理自动地。

[文档](http://api.jquery.com/on/)

```
$(document).on('click', '.plusButton', function() {
   // alert etc
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:04:25.423

```
$(".plusButton").live('click', function() {
    alert('Plus Button Clicked');
});​

//Or

$(".plusButton").on('click', function() {
    alert('Plus Button Clicked');
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:08:30.903

在你创建了你的 newRow 元素之后，你可以像这样绑定 click 事件：

```
$('.plusButton', newRow).click(function() {
    alert('Plus Button Clicked');
}); 
```

**编辑：** 您还可以使用`on`NiftyDude 的帖子中所示的委托事件处理程序。 `live`已弃用，`on`应改为使用（感谢 VisioN 指出这一点）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T11:11:35.297

问题是您在页面加载后添加一个 dom 对象（表）并在该 dom 对象上添加点击事件。它不起作用，因为当 $(document).ready() 触发该 dom 对象时不存在。因此，您可以使用下面给出的两种解决方案中的任何一种。

```
$(".plusButton").on('click', function() {
    alert();
}); 

$(".plusButton").live('click', function() {
    alert();
});​ 
```

​</p>

# asp.net-mvc-3 - “无法加载文件或程序集‘XXX.dll’或其依赖项之一。找不到指定的模块

> ID：10753296
> 
> 赞同：-1
> 
> 时间：2012-05-25T11:02:48.657
> 
> 标签：asp.net-mvc-3, c#-4.0, iis-7.5

dll 的路径位于 Path 系统环境变量中。它适用于 C# Windows 控制台应用程序，而不适用于 IIS 7.5

如果我使用依赖walker，它会抱怨一些DLLS，但它是如何在控制台应用程序中工作而不是在IIS 7.5 中工作的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T14:25:50.053

就像@Arran 说的那样，您需要让我们知道哪些程序集或哪些程序集引发了异常。

由于这是一个 MVC3 项目，您是否确保在发布之前添加 MVC 3 所需的可部署依赖项？

如果你还没有[Bin Deploy ASP.NET MVC3 ，请看这篇文章](http://haacked.com/archive/2011/05/25/bin-deploying-asp-net-mvc-3.aspx)

# python - 将 unicode 字符串转换为其原始格式

> ID：10753297
> 
> 赞同：2
> 
> 时间：2012-05-25T11:02:49.277
> 
> 标签：python, list, unicode-string

> **可能重复：**
> [在python中将拉丁字符串转换为unicode](https://stackoverflow.com/questions/10750420/converting-a-latin-string-to-unicode-in-python)

存储在文件中后，我有一个具有以下格式的列表

```
list_example = [
         u"\u00cdndia, Tail\u00e2ndia &amp; Cingapura",
         u"Lines through the days 1 (Arabic) \u0633\u0637\u0648\u0631 \u0639\u0628\u0631 \u0627\u0644\u0623\u064a\u0627\u0645 1",
] 
```

但列表中字符串的实际格式是

```
actual_format = [
         "Índia, Tailândia & Cingapura ",
         "Lines through the days 1 (Arabic) سطور عبر الأيام 1 | شمس الدين خ "
] 
```

如何将字符串转换为列表中`list_example`存在的字符串`actual_format`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:26:25.453

你的问题对我来说有点不清楚。无论如何，以下指南应该可以帮助您解决问题。

如果您在 Python 源代码中定义这些字符串，那么您应该

*   知道您的编辑器以哪种字符编码保存源代码文件（例如 utf-8）
*   在源文件的第一行中声明该编码，例如`# -*- coding: utf-8 -*-`
*   将这些字符串定义为 unicode 对象：

`strings = [u"Índia, Tailândia & Cingapura ", u"Lines through the days 1 (Arabic) سطور عبر الأيام 1 | شمس الدين خ "]`

（注意：在 Python 3 中，文字字符串默认是 unicode 对象，即不需要`u`. 在 Python 2 中，unicode 字符串是 type `unicode`，在 Python 3 中，unicode strings 是 type `string`。）

然后，当您想要将这些字符串保存到文件时，您应该明确定义字符编码：

```
with open('filename', 'w') as f:
    s = '\n'.join(strings)
    f.write(s.encode('utf-8')) 
```

然后，当您想再次从该文件中读取这些字符串时，您必须再次明确定义字符编码才能正确解码文件内容：

```
with open('filename') as f:
    strings = [l.decode('utf-8') for line in f] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:10:18.353

```
actual_format = [x.decode('unicode-escape') for x in list_example] 
```

# javascript - 为什么不推荐“$().ready(handler)”？

> ID：10753306
> 
> 赞同：88
> 
> 时间：2012-05-25T11:03:30.057
> 
> 标签：javascript, jquery, callback, document-ready

来自[jQuery API 文档](http://api.jquery.com/ready/)站点`ready`

> 以下所有三种语法都是等效的：
> 
> *   $(文档).ready(处理程序)
> *   **$().ready(handler) （不推荐）**
> *   $（处理程序）

做完功课阅读和玩[源代码](http://code.jquery.com/jquery-1.7.2.js)后，我不知道为什么

```
$().ready(handler) 
```

不推荐。第一种和第三种方式完全相同，第三种方式在缓存的 jQuery 对象上调用 ready 函数`document`：

```
rootjQuery = jQuery(document);
...
...

// HANDLE: $(function)
// Shortcut for document ready
} else if ( jQuery.isFunction( selector ) ) {
    return rootjQuery.ready( selector );
} 
```

但是ready函数与被选中节点元素的选择器没有交互，`ready`源码：

```
ready: function( fn ) {
    // Attach the listeners
    jQuery.bindReady();
        // Add the callback
    readyList.add( fn );
        return this;
}, 
```

如您所见，它只是将回调添加到内部队列（`readyList`）中，而不会更改或使用集合中的元素。这使您可以`ready`在每个 jQuery 对象上调用该函数。

像：

*   **常规**选择器：`$('a').ready(handler)` [DEMO](http://jsfiddle.net/w5k5t/1/)
*   **废话**选择器：`$('fdhjhjkdafdsjkjriohfjdnfj').ready(handler)` [DEMO](http://jsfiddle.net/w5k5t/2/)
*   **未定义的**选择器：`$().ready(handler)` [DEMO](http://jsfiddle.net/w5k5t/3/)

最后......我的问题：**为什么`$().ready(handler)`不推荐？**

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2012-05-27T20:55:54.523

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-05-25T11:19:39.503

由于不同选项的作用与您指出的几乎相同，因此是时候戴上图书馆作家的帽子并进行一些猜测了。

1.  也许 jQuery 的人希望`$()`将来可以使用（令人怀疑，因为`$().ready`有文档证明可以工作，即使不推荐；它也会污染`$`if 特殊情况下的语义）。

2.  一个更实际的原因：第二个版本是唯一*没有*结束 wrapping的版本`document`，因此在维护代码时更容易中断。例子：

    ```
    // BEFORE
    $(document).ready(foo);

    // AFTER: works
    $(document).ready(foo).on("click", "a", function() {}); 
    ```

    将此与

    ```
    // BEFORE
    $().ready(foo);

    // AFTER: breaks
    $().ready(foo).on("click", "a", function() {}); 
    ```

3.  与上述相关：`ready`从某种意义上说，这是一个怪胎，它是（唯一的？）方法，无论 jQuery 对象包装什么（即使它没有像这里的情况那样包装任何东西），它都会起作用。这是与其他 jQuery 方法的语义的主要区别，因此不鼓励专门依赖它。

    **更新：**正如 Esailija 的评论所指出的，从工程的角度来看`ready`，它确实应该是一种静态方法，因为它的工作原理是这样的。

**更新#2：**挖掘源代码，似乎在 1.4 分支中的某个时间点`$()`更改为 match `$([])`，而在 1.3 中它的行为类似于`$(document)`. 这一变化将加强上述理由。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-05-25T11:23:15.557

我会说它只是`$()`返回一个*空*对象的事实，而`$(document)`您并不适用`ready()`于不同的事物；它仍然有效，但我会说它不直观。

```
$(document).ready(function(){}).prop("title") // the title
$().ready(function(){}).prop("title")  //null - no backing document 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-05-25T14:33:30.940

这很可能只是一个文档错误，应该修复，使用的唯一缺点`$().ready(handler)`是它的可读性。当然，争辩说这`$(handler)`同样难以理解。我同意，*这就是我不使用它的原因*。

你也可以争辩说一种方法比另一种更快。但是，您多久在单个页面上连续多次调用此方法以注意到差异？

最终归结为个人喜好。`$().ready(handler)`除了可读性参数之外，使用没有任何缺点。我认为在这种情况下，文档是误导性的。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-05-25T13:06:10.263

只是为了清楚地表明这三者之间存在一些不一致，另外我添加了第四种常用形式：`(function($) {}(jQuery));`

使用此标记：

```
<div >one</div>
<div>two</div>
<div id='t'/> 
```

这个代码：

```
var howmanyEmpty = $().ready().find('*').length;
var howmanyHandler = $(function() {}).find('*').length;
var howmanyDoc = $(document).ready().find('*').length;
var howmanyPassed = (function($) { return $('*').length; }(jQuery));
var howmanyYuck = (function($) {}(jQuery));
var howmanyYuckType = (typeof howmanyYuck);

$(document).ready(function() {
    $('#t').text(howmanyEmpty + ":" + howmanyHandler + ":" 
        + howmanyDoc + ":" + howmanyPassed + ":" + howmanyYuckType);
}); 
```

最后一条语句的 div 显示结果为：0:9:9:9:undefined

所以，只有 Handler 和 Doc 版本与 jQuery 约定一致，即在获得文档选择器时返回有用的东西，并且使用 Passed 表单你必须返回一些东西（我认为我不会这样做，但把它放在显示“内部”它有一些东西）。

这是好奇的小提琴版本：http: [//jsfiddle.net/az85G/](http://jsfiddle.net/az85G/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-25T12:11:57.540

我认为这真的比其他任何事情都更具有可读性。

这个没有表现力

```
$().ready(handler); 
```

作为

```
$(document).ready(handler) 
```

也许他们正在尝试推广某种形式的惯用 jQuery。

# c# - C#只有一个线程执行

> ID：10753315
> 
> 赞同：7
> 
> 时间：2012-05-25T11:04:23.240
> 
> 标签：c#, multithreading

我有一个多线程应用程序。我只希望一个线程执行我的函数，而其他线程在我的函数执行时传递它。我怎样才能做到这一点？

我的方法是这样的：

```
 public void setOutput(int value)
    {
        try
        {
            GPOs gpos = reader.Config.GPO;
            gpos[1].PortState = GPOs.GPO_PORT_STATE.TRUE;
            gpos[2].PortState = GPOs.GPO_PORT_STATE.TRUE;
            Thread.Sleep(WAIT);
            gpos[1].PortState = GPOs.GPO_PORT_STATE.FALSE;
            gpos[2].PortState = GPOs.GPO_PORT_STATE.FALSE;
        }
        catch (Exception ex)
        {
            logger.Error("An Exception occure while setting GPO to " + value + " " + ex.Message);
        }
    } 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-25T11:07:10.373

您可以将锁定对象与[`Monitor.TryEnter`](http://msdn.microsoft.com/en-us/library/system.threading.monitor.tryenter.aspx).

```
private Object outputLock = new Object();

public void setOutput(int value)
{
    if Monitor.TryEnter(outputLock)
    {
        try
        {
            .... your code in here
        }
        finally
        {
            Monitor.Exit(outputLock);
        }
    }
} 
```

一次只允许一个线程进入`Monitor.TryEnter`块。如果一个线程到达这里而另一个线程在里面，则`Monitor.TryEnter`返回`false`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:08:54.983

您可以使用[互斥锁](http://msdn.microsoft.com/query/dev10.query?appId=Dev10IDEF1&l=EN-US&k=k%28SYSTEM.THREADING.MUTEX%29;k%28MUTEX%29;k%28TargetFrameworkMoniker-%22.NETFRAMEWORK,VERSION=V4.0%22%29;k%28DevLang-CSHARP%29&rd=true)

```
using System;
using System.Threading;

class Test
{
    // Create a new Mutex. The creating thread does not own the
    // Mutex.
    private static Mutex mut = new Mutex();
    private const int numIterations = 1;
    private const int numThreads = 3;

    static void Main()
    {
        // Create the threads that will use the protected resource.
        for(int i = 0; i < numThreads; i++)
        {
            Thread myThread = new Thread(new ThreadStart(MyThreadProc));
            myThread.Name = String.Format("Thread{0}", i + 1);
            myThread.Start();
        }

        // The main thread exits, but the application continues to
        // run until all foreground threads have exited.
    }

    private static void MyThreadProc()
    {
        for(int i = 0; i < numIterations; i++)
        {
            UseResource();
        }
    }

    // This method represents a resource that must be synchronized
    // so that only one thread at a time can enter.
    private static void UseResource()
    {
        // Wait until it is safe to enter.
        mut.WaitOne();

        Console.WriteLine("{0} has entered the protected area", 
            Thread.CurrentThread.Name);

        // Place code to access non-reentrant resources here.

        // Simulate some work.
        Thread.Sleep(500);

        Console.WriteLine("{0} is leaving the protected area\r\n", 
            Thread.CurrentThread.Name);

        // Release the Mutex.
        mut.ReleaseMutex();
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-09-03T15:43:14.960

接受的答案（写作时[https://stackoverflow.com/a/10753349/1606741 ）是正确的，但我认为使用](https://stackoverflow.com/a/10753349/1606741)[https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/关键字/锁定语句](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/lock-statement)更清晰，并且基本相同。

一次一个线程可以执行该块

```
private object once = new object();

public void setOutput(int value)
    {
        lock (once)
        {
            try
            {
                GPOs gpos = reader.Config.GPO;
                gpos[1].PortState = GPOs.GPO_PORT_STATE.TRUE;
                gpos[2].PortState = GPOs.GPO_PORT_STATE.TRUE;
                Thread.Sleep(WAIT);
                gpos[1].PortState = GPOs.GPO_PORT_STATE.FALSE;
                gpos[2].PortState = GPOs.GPO_PORT_STATE.FALSE;
            }
            catch (Exception ex)
            {
                logger.Error("An Exception occure while setting GPO to " + value + " " + ex.Message);
            }
        }
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T11:14:57.317

您可以为线程命名并检查方法中的名称

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-10-31T12:36:56.210

这个解决方案怎么样：

```
private AutoResetEvent are = new AutoResetEvent();

public void setOutput(int value)
{
    // Do not wait (block) == wait 0ms
    if(are.WaitOne(0))
    {
        try
        {
            // Put your code here
        }
        finally
        {
            are.Set()
        }
    }
} 
```

它似乎比`Monitor`锁定对象更容易（更便宜），但可能不太清楚。

# git - 将主头移动到分支

> ID：10753330
> 
> 赞同：14
> 
> 时间：2012-05-25T11:05:53.440
> 
> 标签：git, version-control, branch, dvcs, branching-and-merging

我有几个功能分支和一个主分支。Feature2 完成。通常我会变基（使用远程 SVN 存储库并希望保留历史记录，因此没有定期合并）和 ff-merge。但是自从我分支以来master没有改变，我想将master head（at `E`）移动到`G`. 使用`git branch -f master G`不会导致任何可见的变化，我认为这是因为`G`在不同的分支上。

在这里使用是否安全`git update-ref -f master G`？我应该坚持使用 rebase/ff-merge 吗？更好的东西？

```
feature1      C-D  
             /
master    A-B-E            
               \                      
feature2        F-G 
```

谢谢你。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-25T13:07:27.270

您不必合并分支，重置就足够了。假设 master 已签出：

```
git reset --hard feature2 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-05-25T14:37:17.410

无需合并 - 只需重命名分支。由于您不关心功能 2（“完成”）或现有主控（在“E”处），您只需要以下内容。

```
git branch -d master
git branch -m feature2 master 
```

简单更好？

请记住，其中涉及两个关键概念：

1.  Git 提交图，以及
2.  Git 参考资料

当您进行合并（各种风格，包括变基）时，您正在更改提交图。更改涉及添加节点、添加链接或可能移动链接。引用（包括分支和标签）仅指向提交，因此更改引用只会更改指向的提交 - 而不是图的结构。

因此，在您的情况下，不需要更改结构，只需更改引用即可。

单行版本是：

```
git branch -f master feature2 
```

它保持 feature2 分支（与之前的两个轴 feature2 不同）。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-05-25T22:29:16.030

将 G 定期合并到 master 中就可以了，无需变基：

```
 feature1      C-D  
                 /
    master    A-B-E            
                   \                      
    feature2        F-G

git checkout master
git merge feature2

    feature1              C-D  
                         /
    master, feature2  A-B-E-F-G 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-25T13:07:37.690

update-ref 是安全的。一个支头无非就是一点点“读我！” 标签挂在提交上。按照惯例，git 有时会捡起它并将其挂在不同的提交上。

> 使用 git branch -f master G 不会导致任何可见的更改

说什么`git log --decorate --oneline --all`？ `git show master`?

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-25T11:23:18.987

`git merge --no-ff feature2`如果您已签出到 master 分支，最好通过使用将功能 2 非快进合并到master 中。您应该得到以下结果

```
feature1      C-D  
             /
master    A-B-E-----H          
               \   /                   
feature2        F-G 
```

# database - 图数据库设计方法

> ID：10753331
> 
> 赞同：12
> 
> 时间：2012-05-25T11:05:54.707
> 
> 标签：database, design-patterns, graph, neo4j, graph-databases

我想将图形数据库用于 Web 应用程序（涉及用户、帖子、评论、投票、答案、文档和文档合并的网络以及用户和文档的其他一些传递关系）。所以我开始问自己是否有类似图形数据库的设计方法，即类似于为关系数据库推荐的设计原则（如那些正常形式）？

示例问题（出现的许多问题）：

*   创建一个顶级节点用户，在数据库中的任何用户节点上都有关系（“存在”）是一个好主意吗？
*   建立版本管理（即创建关系（类似于“跟随”））指向文档/帖子的更新版本是否是一个好主意，以一种返回这种关系意味着观察文档经历的更改的方式。
*   ETC...

那么，我们需要一本图数据库设计指南吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-29T01:00:01.637

Gremlin 用户组 ( [http://tinkerpop.com/](http://tinkerpop.com/) ) 和 Neo4j 用户组 ( [https://groups.google.com/forum/?fromgroups#!forum/neo4j](https://groups.google.com/forum/?fromgroups#!forum/neo4j) ) 是讨论图数据库建模的好地方。

您可以创建诸如“用户”之类的超级节点，但使用索引并使用 key=element_type、value="user"、id=user_node_id 为每个用户创建索引条目可能会更好、性能更高。

“关注”关系通常用于 Facebook 和 Twitter 上的人/朋友，因此我不会将其用于版本控制。您可以在 Neo4j 中构建一个版本控制系统，为每个条目添加时间戳并使用最后写入获胜算法，并且还有其他数据库系统（如 Datomic）内置了此功能。

[有关 Bulbs/Python ( http://bulbflow.com](http://bulbflow.com) )中的示例博客模型，请参阅灯泡模型 ( [https://github.com/espeed/lightbulb/blob/master/lightbulb/model.py](https://github.com/espeed/lightbulb/blob/master/lightbulb/model.py) )。

# android - AutoCompleteTextView 不显示任何下拉项目

> ID：10753336
> 
> 赞同：13
> 
> 时间：2012-05-25T11:06:20.997
> 
> 标签：android, autocompletetextview

我的 XML：

```
<AutoCompleteTextView
        android:id="@+id/searchAutoCompleteTextView_feed"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:clickable="true"
        android:completionThreshold="2"
        android:hint="@string/search" /> 
```

我的java代码：

```
AutoCompleteTextView eT = (AutoCompleteTextView)findViewById(R.id.searchAutoCompleteTextView_feed);
eT.addTextChangedListener(this);
String[] sa = new String[]{"apple", "mango", "banana", "apple mango", "mango banana"};
ArrayAdapter<String> aAdapter = new ArrayAdapter<String>(this,android.R.layout.simple_dropdown_item_1line, sa);
eT.setAdapter(aAdapter); 
```

这根本不起作用......我的意思是它就像一个 EditTextView 一样工作。我哪里错了？？

完整代码：

```
public class FeedListViewActivity extends ListActivity implements TextWatcher{

    private AutoCompleteTextView eT;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.feed);

        eT = (AutoCompleteTextView) findViewById(R.id.searchAutoCompleteTextView_feed);
        eT.addTextChangedListener(this);

                    Thread thread = new Thread(null, loadMoreListItems);
                    thread.start();
    }

    private Runnable returnRes = new Runnable() {
        public void run() {

            //code for other purposes
        }
    };

    private Runnable loadMoreListItems = new Runnable() {
        public void run() {
            getProductNames();

            // Done! now continue on the UI thread
            runOnUiThread(returnRes);
        }
    };

    protected void getProductNames() {

            String[] sa = new String[]{"apple", "mango", "banana", "apple mango", "mango banana"};

            ArrayAdapter<String> aAdapter = new ArrayAdapter<String>(getApplicationContext(),
                    android.R.layout.simple_dropdown_item_1line, sa);
            eT.setAdapter(aAdapter);

    }

    public void afterTextChanged(Editable s) {
        // TODO Auto-generated method stub

    }

    public void beforeTextChanged(CharSequence s, int start, int count,
            int after) {
        // TODO Auto-generated method stub

    }

    public void onTextChanged(CharSequence s, int start, int before, int count) {
        // TODO Auto-generated method stub

    }
} 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-05-30T11:06:56.167

在看到这个之前，我刚刚看到了你的另一个问题。我在自动完成方面苦苦挣扎了一段时间，我几乎恢复到你下载所有关键字的新实现，直到我终于让它工作。我所做的是；

```
//In the onCreate
//The suggestArray is just a static array with a few keywords
this.suggestAdapter = new ArrayAdapter<String>(this, this.suggestionsView, suggestArray);
//The setNotifyOnChange informs all views attached to the adapter to update themselves 
//if the adapter is changed
this.suggestAdapter.setNotifyOnChange(true); 
```

在我的 textwatcher 的 onTextChanged 方法中，我得到了使用 asynctask 的建议

```
//suggestsThread is an AsyncTask object
suggestsThread.cancel(true);
suggestsThread = new WertAgentThread();
suggestsThread.execute(s.toString()); 
```

然后在 AsyncTask 的 onPostExecute 中更新 autocompletetextview

```
//suggestions is the result of the http request with the suggestions
this.suggestAdapter = new ArrayAdapter<String>(this, R.layout.suggestions, suggestions);
this.suggestions.setAdapter(this.suggestAdapter);
//notifydatasetchanged forces the dropdown to be shown.
this.suggestAdapter.notifyDataSetChanged(); 
```

有关详细信息，请参阅[setNotifyOnChange](http://developer.android.com/reference/android/widget/ArrayAdapter.html#setNotifyOnChange%28boolean%29)和[notifyDataSetChanged](http://developer.android.com/reference/android/widget/ArrayAdapter.html#notifyDataSetChanged%28%29)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-01-23T12:43:56.223

这是我项目的一个片段。我认为在您从服务中获取数据后，您所要做的就是：

1.  清除您以前的数据。
2.  清除以前的适配器值。
3.  然后使用 add() 或 addAll() 方法将值添加到您的数据列表中。
4.  通过在适配器上调用 notifyDataSetChanged() 来通知更改的数据。

    ```
    @Override
    public void onGetPatient(List<PatientSearchModel> patientSearchModelList) {

    //here we got the raw data traverse it to get the filtered names data for the suggestions

    stringArrayListPatients.clear();
    stringArrayAdapterPatient.clear();
    for (PatientSearchModel patientSearchModel:patientSearchModelList){

        if (patientSearchModel.getFullName()!=null){

            stringArrayListPatients.add(patientSearchModel.getFullName());

        }

    }

    //update the array adapter for patient search
    stringArrayAdapterPatient.addAll(stringArrayListPatients);
    stringArrayAdapterPatient.notifyDataSetChanged(); 
    ```

    }

> 但在这一切之前，请确保您已将适配器附加到自动完成文本视图，如果不这样做的话：

```
ArrayAdapter<String> stringArrayAdapterPatient= new ArrayAdapter<String>(getActivity(),android.support.v7.appcompat.R.layout.select_dialog_item_material,stringArrayListPatients);

completeTextViewPatient.setAdapter(stringArrayAdapterPatient); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-03-15T14:14:19.503

使用`adapter.notifyDataSetChanged()`方法通知列表中的更改，如果这不起作用，那么您可以手动显示 DropDown`autoCompleteTextView.showDropDown()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T11:29:28.773

```
 AutoCompleteTextView eT = (AutoCompleteTextView)findViewById(R.id.searchAutoCompleteTextView_feed);
 //   eT.addTextChangedListener(this);
    String[] sa = new String[]{"apple", "mango", "banana", "apple mango", "mango banana"};
    ArrayAdapter<String> aAdapter = new ArrayAdapter<String>(this,android.R.layout.simple_dropdown_item_1line, sa);
    eT.setAdapter(aAdapter); 
```

它的工作只是评论 et.addtext 行......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-01-16T14:32:24.887

更新适配器并立即通知更改后唯一可行的解​​决方案`dropDown`是`AutoCompleteTextView`再次重置文本，Kotlin 示例：

```
 with(autoCompleteTextView) {
       text = text
  // Place cursor to end   
} 
```

Java类似于：

```
autoCompleteTextView.setText(autoCompleteTextView.getText());
// Place cursor to end 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-06T08:10:11.450

AutoCompleteTextView.Invalidate() 会做到这一点。

# postgresql - 在 Mac 上切换到 postgres 用户

> ID：10753340
> 
> 赞同：6
> 
> 时间：2012-05-25T11:06:43.287
> 
> 标签：postgresql, osx-lion, sudo, su

我想给`su`Mac 上的 postgres 用户，这样我就可以运行 postgres。

我在这里做错了什么？

```
delirium:~ anna$ sudo su postgres
delirium:~ anna$ 
```

没发生什么事。如果我尝试运行 postgres，我会得到如下信息：

```
delirium:~ anna$ sudo pg_ctl -D /usr/local/var/postgres -l      
/usr/local/var/postgres/server.log startpg_ctl: cannot be run as root
Please log in (using, e.g., "su") as the (unprivileged) user that will
own the server process. 
```

如果我尝试这样做`su`，我也会收到错误消息：

```
delirium:~ anna$ sudo su - postgres
su: no directory
delirium:~ anna$ 
```

我能做些什么呢？我相当确定 postgres 用户存在。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-05-25T11:14:24.743

这看起来与没有登录 shell 的 postgres 用户一致。尝试`sudo -u postgres bash`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-17T22:37:55.647

PostgreSQL 集成在 Server.app 中，可通过 Mountain Lion 的 App Store 获得。

你会有这个文件： */Library/Server/PostgreSQL/Config/org.postgresql.postgres.plist*

**你可以 sudo：**

```
sudo -u _postgres psql template1 
```

**或连接：**

```
psql -h localhost -U _postgres postgres 
```

# c# - WCF Rest 不接受 POST

> ID：10753352
> 
> 赞同：2
> 
> 时间：2012-05-25T11:07:37.707
> 
> 标签：c#, silverlight, rest

我已经从 Visual Studio 的在线模板下载了 WCFRestServiceWithKey 模板。虽然 WebGet 方法工作正常，但 WebInvoke 方法根本不起作用。

例如：

```
[WebInvoke(UriTemplate = "/AddCustomer", Method = "POST", RequestFormat = WebMessageFormat.Xml, ResponseFormat = WebMessageFormat.Xml)]
    public Boolean AddCustomer(string firstname)
    {
        return true;
    } 
```

不允许对该方法的简单调用返回方法。我认为这可能与 clientaccesspolicy.xml 有关，但无论我对它做什么，我都无法弄清楚。

这是我的clientaccesspolicy.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<access-policy>
 <cross-domain-access>
  <policy>
   <allow-from http-request-headers="*">
    <domain uri="*"/>
   </allow-from>
    <grant-to>
    <resource path="/" include-subpaths="true"/>
   </grant-to>
   </policy>
  </cross-domain-access>
  </access-policy> 
```

我没有接触 web.config，因为它是用模板文件配置的。

有人有什么想法吗？

我从 Silverlight 调用这样的服务：

```
 http://localhost:6423/PredraWebservice/AddCustomer?apikey=bda11d91-7ade-4da1-855d-24adfe39d174 
```

我这样称呼它：

```
 String send = "<string     xmlns=\"http://schemas.microsoft.com/2003/10/Serialization/\">String content</string>";

 Uri url = new Uri("http://localhost:6423/PredraWebservice/AddCustomer?apikey=bda11d91-7ade-4da1-855d-24adfe39d174", UriKind.Absolute);

            WebClient client = new WebClient();
            client.UploadStringCompleted += new     UploadStringCompletedEventHandler(client_UploadStringCompleted);
            client.UploadStringAsync(url, send); 
```

# powershell - 传递给 Powershell 的参数中的 Escape %

> ID：10753353
> 
> 赞同：5
> 
> 时间：2012-05-25T11:07:44.740
> 
> 标签：powershell, msbuild

我有一个 MSBuild 脚本，它启动 PowerShell 以在远程计算机上执行一些工作，因此您必须传递密码才能创建远程会话，但存在问题 - 如果密码包含 % 字符，则解析错误 - % 丢失（例如：pass%word -> 密码，'%' -> ''（无））。

如果我在 PowerShell 脚本 $password = "pass%word" 中创建变量，它工作正常。我知道 % 是 PowerShell 中的 foreach 所以我尝试使用 ` 来逃避它 - 但它没有帮助。我也可以更改密码，但这不是一个选项（目前）。

那么我该如何解决这个问题呢？

MSBuild 部分

```
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="Test">
<Target Name="Test">
        <!-- %25 - it's code for %-->
        <Exec Command="powershell &quot;&amp; {. 'C:\test.ps1';Test -password '`%25'}&quot;" />
    </Target>
</Project> 
```

测试.ps1

```
Function Test {
    param (
        [string]$password = $(throw "Please specify password")
    )

    Write-Host $password
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:25:21.670

在批处理文件中，百分号可以通过使用双百分号 (%%) 来“转义”。所以这可以解决问题：

```
<Exec Command="powershell &quot;&amp; {. 'C:\test.ps1';Test -password '%25%25'}&quot;" /> 
```

# android - 如何在android中单击按钮时调用媒体扫描仪

> ID：10753354
> 
> 赞同：1
> 
> 时间：2012-05-25T11:07:46.170
> 
> 标签：android

实际上的问题是，当我将服务器图像插入 Sdcard 时，它消失了，并且也显示在 sdcard 中，但是当我打开手机图库时它没有显示。我还使用此代码在按钮单击时调用媒体扫描仪......

```
sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse("file://"+Environment.getExternalStoragePublicDirectory(Environment.MEDIA_MOUNTED)))); 
```

但它不工作。

如果我在设备中安装和卸载 sdcard，那么在显示所有图像之后。但我想在应用程序运行时将图像存储到 sdcard 并显示在设备库中。

请帮助它非常感谢..

谢谢 ...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-08-09T12:14:50.923

正确的做法是使用`MediaScannerConnection.scanFile()`. 有关更多详细信息，请参阅[此答案](https://stackoverflow.com/questions/4646913/android-how-to-use-mediascannerconnection-scanfile)。

简而言之：

1.  使用回调实例化 MediaScannerConnection。
2.  使用 连接到它`connect()`。
3.  在`onMediaScannerConnected()`回调中，调用`scanFile(path, mimeType)`以让媒体扫描器对其进行扫描。请注意，路径是绝对的，mime 类型是可选的（可能为 null）。
4.  完成后，断开 MediaScannerConnection，例如在`onScanCompleted()`执行回调时。

# c# - HostException 使用 C# 执行 Powershell 脚本

> ID：10753356
> 
> 赞同：0
> 
> 时间：2012-05-25T11:08:28.297
> 
> 标签：c#, powershell, scripting, host

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T14:00:07.260

您正在使用的 powershell 主机不支持写入主机。

一个简单的解决方法是更换：

```
Write-Host $currentScriptName
Write-Host `r`nRuta: $scriptDir 
```

经过：

```
$currentScriptName
"`r`nRuta: $scriptDir" 
```

# android - Android自动完成功能不起作用

> ID：10753357
> 
> 赞同：0
> 
> 时间：2012-05-25T11:08:29.993
> 
> 标签：android, autocomplete

我遵循了 Android 开发者网站上[的本教程。](http://developer.android.com/resources/tutorials/views/hello-autocomplete.html)但是，自动完成不起作用。有什么遗漏吗？有没有更好的教程我可以使用（一个真正有效的）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:13:58.450

这里有一个源代码示例：http: [//saigeethamn.blogspot.com/2010/05/auto-complete-text-view-android.html](http://saigeethamn.blogspot.com/2010/05/auto-complete-text-view-android.html)

检查一下，看看你是否仍然遇到问题。如果您不这样做，那么您可能错过了您最初遵循的教程中的某些内容。

亲切的问候，
博

# php - 脚本花费超过 30 秒在 php 中获取标题 url

> ID：10753359
> 
> 赞同：1
> 
> 时间：2012-05-25T11:08:40.883
> 
> 标签：php, file, url, title

```
<?php
function getTitle($Url){
    $str = file_get_contents($Url);
    if(strlen($str)>0){
        preg_match("/\<title\>(.*)\<\/title\>/",$str,$title);
        return $title[1];
    }
}
echo getTitle("http://www.stackoverflow.com/");
?> 
```

当我运行此脚本时，它返回错误

```
max_execution_time exceeds 30 second. 
```

我不想增加 max_execution_time 但我想减少脚本运行时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:16:07.750

您正在收集整个页面。为什么不只指定`$maxlen`参数并或多或少地获取标题标签所在页面的标题？这会给你一点加速。

`string file_get_contents ( string $filename [, bool $use_include_path = false [, resource $context [, int $offset = -1 [, int $maxlen ]]]] )`

# eclipse - 在 Eclipse 中创建一个指向其他项目目录的项目

> ID：10753361
> 
> 赞同：0
> 
> 时间：2012-05-25T11:08:50.773
> 
> 标签：eclipse, import, project, hyperlink, directory

我在 Eclipse 中有一个项目（比如 Project1），其中包含一个“/sample”文件夹。/sample 文件夹中包含示例项目。

我想要做的是，我想在 Eclipse 中导入任何示例项目（比如 Sample1），这样 Eclipse 将链接到 Project1 的 /sample 目录。因此，我在 Sample1 中所做的任何更改都会更新 Project1 的 /sample 文件夹。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T14:44:42.240

Eclipse 有链接文件/文件夹的概念。看到[这个](http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/tasks-45.htm)。这是你想要的？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:18:46.540

Eclipse 可以识别何时从外部对项目源文件进行了更改——它会提示您重新加载它——因此即使您同时将文件夹作为两个单独项目的一部分打开也不应该成为问题。我不喜欢eclipse中的编辑器，但有时出于其他原因使用它，所以我一直这样做（外部编辑我在eclipse中打开的文件）。如果您认为按 F5 并不太麻烦，那么它相对没有麻烦。

WRT 连接两者，在 linux eclipse 方面（软）链接，所以你可以使用，例如：

```
ln -s project1/sample1 sample 
```

在您的项目目录中。

这在 OSX 上是一样的。我相信较新的 Windows 操作系统有一些等价物，但不要问我它是什么（概念是“软链接”或“符号（线形）链接”。如果您使用的是 cygwin 的 msys shell，`ln` *可能会*在那里工作。

[http://en.wikipedia.org/wiki/Symbolic_link](http://en.wikipedia.org/wiki/Symbolic_link)

看起来那里有 WRT 到 Windows（和 cygwin）的详细信息。

# android - 两个带有 NFC 前台调度问题的活动

> ID：10753362
> 
> 赞同：0
> 
> 时间：2012-05-25T11:08:50.787
> 
> 标签：android, nfc, foreground, dispatch

我有两个活动 A 和 B。A 总是在 B 和 B 使用对话主题之前开始（这是必需且重要的）。两者都使用 NFC 前台调度机制，效果很好。但是，当方向改变时，就会出现问题。我应该在 onResume 和 onPause 方法中启用和禁用前台调度。

怎么了：

*   A 启动，A onResume 被调用
*   A onPause，B 启动，B onResume 被调用（一切都按预期工作）
*   方向改变
*   B onPause 被调用，B 再次启动，B onResume 被调用，A 再次在后台启动，A onResume 被调用，A onPause 被调用

--> 现在 B 的前台调度不再起作用了。

B 的对话主题导致了这个问题，因为一切都适用于正常主题。有解决方法吗？

**解决方案：**

感谢您的评论，但我找到了一个解决方法，这会有所帮助。在活动 BI 的 onCreate 方法中执行以下操作：

```
 /*
     * This workaround is needed as this activity uses the dialog theme. When the background activity uses the foreground
     * dispatch as well, then it breaks this activity's foreground dispatch on an orientation change. 
     */
    mCancelButton.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {
        @Override
        public void onGlobalLayout() {
            NfcForegroundDispatch.setupForegroundDispatch(NfcDetectorActivity.this);
        }
    }); 
```

正如我所说，这是一种解决方法而不是解决方案。

# blackberry - 在黑莓中为联系人列表键入 Ahead 属性？

> ID：10753364
> 
> 赞同：0
> 
> 时间：2012-05-25T11:08:52.403
> 
> 标签：blackberry, java-me, type-ahead

我想在黑莓中开发一个应用程序。在该应用程序中，我想创建类似联系人列表中的功能，即如果联系人列表中有很多联系人并且如果我输入“Da”，那么它应该返回给我类似“Dany”的结果，”丹尼尔”等（即提前输入属性）所以我应该如何去寻找它。我用来搜索的输入（即联系人列表）是向量

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-26T03:07:35.367

你看过[AutoCompleteField](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/ui/component/AutoCompleteField.html)吗？它应该做你想做的事。

* * *

您可以通过保留对 BasicFilteredList 的引用或调用 AutoCompleteField 上的 getFilteredList() 来访问过滤集。然后使用[ReadableList](http://www.blackberry.com/developers/docs/7.1.0api/)接口方法来访问过滤后的输出。

# php - Magento 新卢比符号。为什么它在 chrome 上可见而不是在 firefox 上？

> ID：10753371
> 
> 赞同：-1
> 
> 时间：2012-05-25T11:09:30.093
> 
> 标签：php

有没有人知道任何显示新印度卢比 sumbol 的方法。按照正常的方法，sIt 在 chrome 上不是在所有页面上都可见，但在 Firefox 中肯定不是。任何人都可以提出解决方案或任何其他方式吗？

谢谢你的时间，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:14:14.377

₹`&#8377;`是新印度卢比符号的代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:36:39.123

目前，并非所有平台上的所有字体都支持该代码点。对于那个字符，您可能会切换到一种字体；或者你可以制作一个角色的小图像并显示它。以下是如何支持卢比符号的简短摘要：[http ://en.wikipedia.org/wiki/Indian_rupee_sign#Unicode](http://en.wikipedia.org/wiki/Indian_rupee_sign#Unicode)

**更新**

您还可以使用 FileFormat.info[上](http://www.fileformat.info/info/unicode/char/20b9/fontsupport.htm)的本地字体列表工具来确定您自己的计算机上安装的哪些字体支持该字符。但是，这并不能保证您网站的访问者将使用相同的字体，并升级为支持卢比符号。例如，我的 Windows 7 机器上的 Arial 支持它，但我的旧 Mac OS 10.5 上的 Arial 不支持。

# javascript - 主干js：视图模块中初始化的集合只有一个模型

> ID：10753387
> 
> 赞同：2
> 
> 时间：2012-05-25T11:11:16.170
> 
> 标签：javascript, collections, backbone.js

我有一个`model`：

```
window.LayerModel = Backbone.Model.extend({

        defaults:{
            'id':'unknow',
            'type':'unkonw',
            'preId':'unknow',

            'data': {}
        }
} 
```

然后我定义了一个集合：

```
window.LayerManageCollection = Backbone.Collection.extend({
            model: LayerModel
    }) 
```

然后我在视图中初始化它：

```
 window.LayerMasterManageView = Backbone.View.extend({

              initialize: function () {
                  //here I have a gobal javascript variable named "localdata"
                  //which have 17 items in an array,each of them is object type

                  this.collection = new LayerManageCollection(localdata);
                  console.log('this collection', this.collection);
              }
} 
```

但是集合的长度是1！，只有一个模型！，

奇怪的是，如果更改`"defaults"`为`"default"`，收集结果是我想要的，长度为 17

为什么会这样？我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:26:14.290

模型的默认`idAttribute`值为`id`. 因为您在定义`id`您`defaults`将始终创建相同的模型，因为在创建重复模型时 Backbone 会悄悄地出错，这就是为什么您只看到 1 个模型的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:26:27.260

我认为您的问题在于您的`localdata`.
您有多少个对象`localdata`有不同`id`的字段
或者您应该为数组中的每个对象提供不同的 id，或者 只要您将名称更改为then 就从模型中`localdata`删除该`id`字段，因为没有默认的 id 主干将其作为新模型并因此将其添加到集合中。**因此您可以更改****为任何其他名称****，并且它将具有相同的行为**`defaults``LayerModel`

`defaults``default`

**`defaults``abc`**

# php - 可以在 DIV 标记的 Title 属性中放置 PHP 代码而不是文本

> ID：10753388
> 
> 赞同：-3
> 
> 时间：2012-05-25T11:11:17.250
> 
> 标签：php, wordpress, html, title

这可能吗？`<div id="example" title="is possible put PHP code here?"> some text </div>` 我想放入`<?php the_excerpt(); ?>`Title 属性

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:13:57.867

是的。

```
<div id="example" title="<?php echo the_excerpt(); ?>"> some text </div> 
```

或者：

```
<div id="example" title="<?= the_excerpt() ?>"> some text </div> 
```

后者是自动回显 PHP 块中所有内容的简写，而前者可以包含任何代码，包括回显某些内容的代码（将其打印到块所在的位置）。

请参阅[**基本语法**](http://www.php.net/manual/en/language.basic-syntax.phpmode.php)。

但是请注意，要转义您输出到 HTML 的任何内容，以确保它是有效的属性值（除非`the_excerpt()`已经返回转义字符串）：

```
<div id="example" title="<?= htmlspecialchars(the_excerpt()) ?>"> some text </div> 
```

# spring - spring batch - 在 assertUpdates 上使用标志以允许重用 JdbcBatchItemWriter

> ID：10753389
> 
> 赞同：0
> 
> 时间：2012-05-25T11:11:18.010
> 
> 标签：spring, spring-batch

可能与春季批次一样多的春季问题。

我想重用一个JdbcBatchItemWriter，在默认情况下它将有assertUpdates = true，在我的情况下是assertUpdates = false。

创建此标志并在每个作业中设置不同的方法是什么？我无法解决或找到一个例子。

谢谢

更多信息 - 作业可以由石英安排或以编程方式踢出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T13:21:45.980

```
void setAssertUpdates(boolean assertUpdates) 
```

标志的公共设置器，用于确定是否做出所有项目导致至少一行被更新的断言。

有关更多信息，请参阅：[http ://static.springsource.org/spring-batch/apidocs/org/springframework/batch/item/database/JdbcBatchItemWriter.html](http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/item/database/JdbcBatchItemWriter.html)

# qtp - QTP：将浏览器对象检测为win对象

> ID：10753393
> 
> 赞同：0
> 
> 时间：2012-05-25T11:11:42.160
> 
> 标签：qtp, hp-quality-center

![QTP](../Images/3618bc9a14744df3e6adfceecb05a830.png)

我正在 QTP 中测试网页。我已经创建了对象存储库，它在 XP 中运行良好。现在我们已经升级到 Windows 7。我经常遇到一个问题，它没有检测到任何浏览器对象。代替

```
Browser("Browser").Page("page")....... 
```

它切换到 Win 对象，如上图所示。我真的很难回到浏览器模式。如何轻松设置？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:47:13.553

陈述显而易见，但只是为了确保：您是否选择了 Web 插件？在打开浏览器之前，您会先打开 QTP 吗？

过去，让 QTP 在新工作站上运行时我有些头疼，只是因为该软件对它的安装方式有点挑剔。大多数情况下，由 IT 部门重新安装它是可行的。不仅通过运行重新安装选项，而且通过完整的卸载/安装周期并尊重“重新启动 Windows”消息。

QTP 在浏览器中使用一些挂钩来“监听”事件，因此它可以记录它们。当这些钩子（部署为浏览器插件）未正确安装时，您可以获得这种类型的行为。这也是您必须先打开 QTP（使用 Web 插件），然后才能打开浏览器的原因。否则插件没有正确加载。

我希望这对你有所帮助。我不能保证这是正确的解决方案，因为这类问题可能有多个（已知和未知）来源。

# java - android将选项卡添加到tabhost

> ID：10753394
> 
> 赞同：1
> 
> 时间：2012-05-25T11:11:43.237
> 
> 标签：java, android, eclipse

我正在使用以下代码在 tabHost 上添加选项卡，但在第一行到最后一行 spec.setContent(intent) 上崩溃。调试器说的不多。谢谢你。

从注册处，

```
Intent intentIOS = new Intent(Registrat.this, TabBar_Activity.class);
Bundle bundle = new Bundle();
bundle.putString("idusuari", idusuari);
String appid = null; 
```

从 TabBar_Activity，

```
private void setTabs(String numTabs){

        addTab(tab1name, "tab1", myTab1.class);
        addTab(tab2name, "tab2", myTab2.class);
}

private void addTab(String labelId, String imageName, Class<?> c)
    {
      TabHost tabHost = getTabHost();
          Intent intent = new Intent(this, c);
          TabHost.TabSpec spec = tabHost.newTabSpec("tab" + labelId); 

          View tabIndicator = LayoutInflater.from(this).inflate(R.layout.tab_indicator, getTabWidget(), false);
          TextView title = (TextView) tabIndicator.findViewById(R.id.title);
          title.setText(labelId);    

          spec.setIndicator(tabIndicator);
          spec.setContent(intent);
          tabHost.addTab(spec);
    }

05-25 11:18:49.725: E/AndroidRuntime(428): FATAL EXCEPTION: main
05-25 11:18:49.725: E/AndroidRuntime(428): java.lang.IllegalStateException: Could not execute method of the activity
05-25 11:18:49.725: E/AndroidRuntime(428):  at android.view.View$1.onClick(View.java:2072)
05-25 11:18:49.725: E/AndroidRuntime(428):  at android.view.View.performClick(View.java:2408)
05-25 11:18:49.725: E/AndroidRuntime(428):  at android.view.View$PerformClick.run(View.java:8816)
05-25 11:18:49.725: E/AndroidRuntime(428):  at android.os.Handler.handleCallback(Handler.java:587)
05-25 11:18:49.725: E/AndroidRuntime(428):  at android.os.Handler.dispatchMessage(Handler.java:92)
05-25 11:18:49.725: E/AndroidRuntime(428):  at android.os.Looper.loop(Looper.java:123)
05-25 11:18:49.725: E/AndroidRuntime(428):  at android.app.ActivityThread.main(ActivityThread.java:4627)
05-25 11:18:49.725: E/AndroidRuntime(428):  at java.lang.reflect.Method.invokeNative(Native Method)
05-25 11:18:49.725: E/AndroidRuntime(428):  at java.lang.reflect.Method.invoke(Method.java:521)
05-25 11:18:49.725: E/AndroidRuntime(428):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868) 
```

并跟随...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:00:43.433

要设置选项卡，我正在使用以下代码，它工作正常。

```
TabHost tabHost = getTabHost();

// Tab for Photos
TabSpec photospec = tabHost.newTabSpec("Photos");
// setting Title and Icon for the Tab
photospec.setIndicator("Photos", getResources().getDrawable(R.drawable.icon_photos_tab));
Intent photosIntent = new Intent(this, PhotosActivity.class);
photospec.setContent(photosIntent);

// Tab for Songs
TabSpec songspec = tabHost.newTabSpec("Songs");
songspec.setIndicator("Songs", getResources().getDrawable(R.drawable.icon_songs_tab));
Intent songsIntent = new Intent(this, SongsActivity.class);
songspec.setContent(songsIntent);
 // Adding all TabSpec to TabHost
tabHost.addTab(photospec); // Adding photos tab
tabHost.addTab(songspec); // Adding songs tab 
```

# ios - 无所不在的质感

> ID：10753402
> 
> 赞同：0
> 
> 时间：2012-05-25T11:12:47.340
> 
> 标签：ios, opengl-es, textures

我正在绘制绑定到 FrameBuffer 的纹理。然后我在一个矩形上使用它，可以移动它以查看纹理的特定区域。

当我在绘制的纹理之外时，我只想拥有一种颜色

我试穿了`GL_TEXTURE_WRAP_S/GL_TEXTURE_WRAP_L`

```
GL_MIRRORED_REPEAT 
```

`GL_REPEAT`=> 我的纹理周围有颜色，但重复的纹理太近了

```
GL_CLAMP_TO_EGDE 
```

但这不是我想要的结果。

有什么想法可以帮助我吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:23:33.777

我不是 IOS 开发人员，但您列出的边缘模式（重复、镜像和钳位）是我所知道的所有图形硬件支持，所以我猜 iPhone/iPad GPU 会类似。

如果可以的话，使纹理在每个边界处大 1 个像素（例如，使用 126x126 位图并将其粘贴到透明 128x128 纹理的中间）并使用钳位作为边缘模式。然而，这不会产生锐利的边缘，因为双线性插值仍然会发生。

否则，您必须自己进行数学运算，这意味着如果您的查看矩形到达纹理的边界，您将不得不调整渲染四边形的坐标，而不仅仅是它的纹理坐标，例如。

```
upperLeftQuad.U = viewRectangle.X / textureWidth;
if(upperLeftQuad.U < 0) {
  upperLeftQuad.X += -(upperLeftQuad.U * textureWidth);
  upperLeftQuad.U = 0;
}

upperRightQuad.U = (viewRectangle.X + viewRectangle.Width) / textureWidth
if(upperLeftQuad.U > 1) {
  upperLeftQuad.X -= (upperLeftQuad.U * textureWidth);
  upperLeftQuad.U = 1;
} 
```

# android - 如何在Android中扩展View的类中添加一个按钮？

> ID：10753404
> 
> 赞同：0
> 
> 时间：2012-05-25T11:12:52.527
> 
> 标签：android, android-layout, android-view

我有一个扩展 View 的 B 类，我从通过 setContentView 扩展 Activity 的 A 类调用它。在 B 类中，我可以使用鼠标运动侦听器和绘制函数绘制任何东西。现在我想在我的 B 类上添加按钮，以便我可以去 A 类并进行一些修改。我尝试了一些代码，但没有奏效。

```
 public class MotionDraw extends View {
    private Paint paint = new Paint();
    private Path path = new Path();
    //LinearLayout ll=new LinearLayout(getContext());

    public MotionDraw(Context context, AttributeSet attrs,int x) {
        super(context, attrs);

        //this.setOrientation(LinearLayout.VERTICAL);
        //Button b=new Button(getContext());
        //b.setText("Back"); // better: getContext().getString(R.string.someString);
        //this.addView(b);

                paint.setAntiAlias(true);
                paint.setAntiAlias(true);
        paint.setStrokeWidth(6f);
        //paint.setColor(Color.RED);
        paint.setStyle(Paint.Style.STROKE);
        paint.setStrokeJoin(Paint.Join.MITER);
        if(x == 1)
            paint.setColor(Color.RED);
        }

    @Override
    protected void onDraw(Canvas canvas) {

        canvas.drawPath(path, paint);
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {

            some code ...
        }

        // Schedules a repaint.
        invalidate();
        return true;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:18:19.520

对于 MotionDraw，尝试扩展 RelativeLayout 而不是 View。

# django - 如何更改 PostgreSQL 中的列类型和所有外键？

> ID：10753409
> 
> 赞同：6
> 
> 时间：2012-05-25T11:13:25.543
> 
> 标签：django, postgresql

我目前的 Django 应用程序陷入了第 22 条问题。当我从 UUID 移动到普通的旧 ID 时，我必须将列的类型从 Varying char 更改为 Integer（数据不会因为它的物理常数而改变）。现在 django 最初抛出了一个关于无法从 VarChar 转换为 Int 的 Fit，所以我“帮助”了它：

```
 ALTER TABLE glass_fill ALTER COLUMN id TYPE INTEGER USING CAST(id AS INT); 
```

现在，它说：

```
django.db.utils.DatabaseError: foreign key constraint "glass_fill_manufacturer_glass_fill_id_fkey" cannot be implemented
DETAIL:  Key columns "glass_fill_id" and "id" are of incompatible types: integer and character varying. 
```

有任何想法吗？

注意：glass_fill_manufacturer 表尚未创建，django 尝试在 syncdb 上但失败。还有，

```
ALTER TABLE glass_fill ALTER COLUMN id TYPE INTEGER USING CAST(id AS INT); 
```

行并没有像我想的那样改变列。

glass_fill 表架构：

```
-- Table: glass_fill

-- DROP TABLE glass_fill;

CREATE TABLE glass_fill
(
  id character varying(36) NOT NULL,
  name character varying(255),
  temperature real,
  density real,
  viscosity real,
  conductivity real,
  heat_capacity real,
  colour text,
  CONSTRAINT glass_fill_pkey PRIMARY KEY (id )
)
WITH (
  OIDS=FALSE
); 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-25T11:30:52.650

```
ALTER TABLE glass_fill_manufacturer 
ALTER COLUMN glass_fill_id TYPE INTEGER USING CAST(glass_fill_id AS INT)
; 
```

我猜从你的文字来看，Django 会以某种方式做到这一点，但如果它没有：

```
ALTER TABLE glass_fill_manufacturer 
drop constraint glass_fill_manufacturer_glass_fill_id_fkey
;

alter table glass_fill_manufacturer 
ADD constraint glass_fill_manufacturer_glass_fill_id_fkey 
foreign key (glass_fill_id) references glass_fill (id)
; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:25:00.173

您应该执行以下操作：

1.  放弃约束
2.  创建一个临时表来保存新旧 id 之间的映射
3.  更新`glass_fill`，将值返回到临时表中
4.  从临时表更新引用表
5.  更改所有表上的列类型
6.  重新创建约束

# java - 当 JAR 放在 lib 文件夹中时，Web 应用程序不启动

> ID：10753411
> 
> 赞同：0
> 
> 时间：2012-05-25T11:13:46.567
> 
> 标签：java, jakarta-ee, jar

我遇到了一个奇怪的问题 - 当我将应用程序 JAR 放在 WEB-INF/lib 目录中时，它不起作用。但是当创建一个 WEB-INF/classes 目录并在那里解压缩我的 JAR 时，它工作得很好。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:22:22.453

您所描述的行为是想要的并且是完全自然的。

*   `/WEB-INF/classes`必须包含 Java EE 应用程序的类。如果您使用 IDE 打包 WAR（Web 应用程序存档）文件，您会注意到您的应用程序被准确地放置在那里。WAR 文件是部署的常用方式。

*   顾名思义，是*library*`/WEB-INF/lib`的默认搜索路径。库通常作为 JAR 文件分发，因此它们放置在目录中。*`lib`*

 *总之，现在很明显，如果您将应用程序 JAR 放在`lib`目录中，因为两个错误 - 您的文件不应该打包在任何存档中并且该`lib`目录用于（打包）库，为什么它不会工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-27T16:23:17.190

您是否尝试将 JAR 文件拖放到 WEB-INF/lib 目录中？确保只是复制它，而不是将整个 JAR 提取到文件夹中。*

# php - 为什么 PHP 脚本无法更新 oracle 数据库中的数据？

> ID：10753413
> 
> 赞同：0
> 
> 时间：2012-05-25T11:13:53.940
> 
> 标签：php, oracle10g

以下代码不会将记录更新到 Oracle 数据库中。任何人都可以帮助这背后的确切原因。如果有任何其他原因可能造成问题，请提出建议。提前致谢

```
<?php
if(isset($_GET['submit'])) {
echo $sl_no = $_GET['sl_no'];
echo $subject = $_GET['subject'];

// update Subject
$str2 = "update application_form af set af.subject_code=:subject where   af.application_form_sl_no=:sl_no";
$stid_update2 = oci_parse($conn, $str2);
oci_bind_by_name($stid_update2, ":subject", $subject);
oci_bind_by_name($stid_update2, ":sl_no", $sl_no);
oci_execute($stid_update2);
$success2 = oci_commit($conn);

// send successful message

    if($success2)
    {
    echo "Form saved Successfully!!!";
    }
}   
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:16:20.927

您没有声明 $conn 变量并连接到数据库

```
$conn = oci_connect('hr', 'welcome', 'localhost/XE'); 
```

资源： http: [//php.net/manual/en/function.oci-connect.php](http://php.net/manual/en/function.oci-connect.php)

# hyperlink - ActiveScaffold：如何从列表页面顶部删除“新建”链接

> ID：10753416
> 
> 赞同：1
> 
> 时间：2012-05-25T11:13:58.273
> 
> 标签：hyperlink, customization, config, activescaffold

我想从 ActiveScaffold 中的列表顶部删除“新建”链接（带有绿色“+”图标的链接）。我尝试了 config.create.link=false 和 config.list.create.link=false 但它们不起作用。这一定非常简单，但我找不到！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-28T10:42:36.943

弄清楚了。只需添加

```
config.actions.exclude :create 
```

到配置部分。我已经尝试过了，但由于后来提到“创建”而出错，例如

```
config.create.link=false 
```

由于 create 已被排除在操作之外，AS 不想稍后再看到 config.create！

# c# - 文件编码未知时如何使用 ReadAllText

> ID：10753417
> 
> 赞同：10
> 
> 时间：2012-05-25T11:13:59.780
> 
> 标签：c#, .net, encoding

**我正在使用ReadAllText**读取文件

 **```
 String[] values = File.ReadAllText(@"c:\\c\\file.txt").Split(';');

    int i = 0;

    foreach (String s in values)
    {
        System.Console.WriteLine("output: {0} {1} ", i, s);
        i++;
    } 
```

如果我尝试读取某些文件，有时会返回错误的字符（对于 ÖÜÄÀ...）。输出就像'？'，这是因为编码存在一些问题：

```
output: 0 TEST
output: 1 A??O? 
```

一种解决方案是在 ReadAllText 中设置编码，让我们说这样`ReadAllText(@"c:\\c\\file.txt", Encoding.UTF8)`可以解决问题。但如果我仍然会得到'？作为输出？如果我不知道文件的编码怎么办？如果每个文件都有不同的编码怎么办？用 c# 做这件事的最好方法是什么？谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-25T11:18:49.130

可靠地做到这一点的唯一方法是在文本文件的开头查找[字节顺序标记。](http://en.wikipedia.org/wiki/Byte-order_mark)（这个 blob 更普遍地表示使用的字符编码的字节顺序，但也表示编码 - 例如 UTF8、UTF16、UTF32）。不幸的是，这种方法仅适用于基于 Unicode 的编码，在此之前没有任何效果（必须使用可靠性要低得多的方法）。

该[`StreamReader`](http://msdn.microsoft.com/en-us/library/system.io.streamreader.aspx)类型支持检测这些标记以确定编码 - 您只需将标志传递给参数，如下所示：

```
new System.IO.StreamReader("path", true) 
```

然后，您可以检查 的值`stremReader.CurrentEncoding`以确定文件使用的编码。但是请注意，如果不存在字节编码标记，则`CurrentEncoding`默认为`Encoding.Default`.

[参考codeproject解决方案检测编码](http://www.codeproject.com/Articles/17201/Detect-Encoding-for-In-and-Outgoing-Text)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-25T11:20:09.980

您必须先检查文件编码。尝试这个

```
System.Text.Encoding enc = null; 
System.IO.FileStream file = new System.IO.FileStream(filePath, 
    FileMode.Open, FileAccess.Read, FileShare.Read); 
if (file.CanSeek) 
{ 
    byte[] bom = new byte[4]; // Get the byte-order mark, if there is one 
    file.Read(bom, 0, 4); 
    if ((bom[0] == 0xef && bom[1] == 0xbb && bom[2] == 0xbf) || // utf-8 
        (bom[0] == 0xff && bom[1] == 0xfe) || // ucs-2le, ucs-4le, and ucs-16le 
        (bom[0] == 0xfe && bom[1] == 0xff) || // utf-16 and ucs-2 
        (bom[0] == 0 && bom[1] == 0 && bom[2] == 0xfe && bom[3] == 0xff)) // ucs-4 
    { 
        enc = System.Text.Encoding.Unicode; 
    } 
    else 
    { 
        enc = System.Text.Encoding.ASCII; 
    } 

    // Now reposition the file cursor back to the start of the file 
    file.Seek(0, System.IO.SeekOrigin.Begin); 
} 
else 
{ 
    // The file cannot be randomly accessed, so you need to decide what to set the default to 
    // based on the data provided. If you're expecting data from a lot of older applications, 
    // default your encoding to Encoding.ASCII. If you're expecting data from a lot of newer 
    // applications, default your encoding to Encoding.Unicode. Also, since binary files are 
    // single byte-based, so you will want to use Encoding.ASCII, even though you'll probably 
    // never need to use the encoding then since the Encoding classes are really meant to get 
    // strings from the byte array that is the file. 

    enc = System.Text.Encoding.ASCII; 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-22T01:09:41.853

就我而言，我正在创建一些简单的 json 文件并且遇到了同样的错误。问题是使用 Visual Studio（目前为 2019）创建文件。

我相信你可以在 VS 选项中找到一些配置来处理这个问题。但是，我发现最快的方法是使用 Notepad++ 创建相同的文件和内容。您可以通过访问编码顶部菜单在 Notepad++ 中设置编码。而且我相信你也可以在其他文本编辑器中找到类似的配置。**

# c# - 验证（XHTML 1.0 过渡）：不支持元素“fieldtypes”

> ID：10753424
> 
> 赞同：2
> 
> 时间：2012-05-25T11:14:15.293
> 
> 标签：c#, xml, visual-studio-2010, sharepoint

嗨，我正在尝试使用 VS 2010 创建一个 AssetPicker，它是框架 3.5，我得到不支持。当我部署时，我只能将字段视为文本。任何解决方案？

```
<?xml version="1.0" encoding="utf-8"?>
<FieldTypes>
  <FieldType>
    <Field Name="TypeName">RelationshipField</Field>
    <Field Name="ParentType">Text</Field>
    <Field Name="TypeDisplayName">Relationship Field</Field>
    <Field Name="TypeShortDescription">Relationship Field</Field>
    <Field Name="FieldTypeClass">AssetPicker.RelationshipField, AssetPicker, Version=1.0.0.0, Culture=neutral, PublicKeyToken=7498984c8afdbdb9</Field>
  </FieldType>
</FieldTypes> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-30T18:33:05.110

根据您的评论，听起来您将文件放在错误的位置，名称错误。自定义字段文件必须以 fldtypes_*.xml 格式命名（例如： fldtypes_AssetPicker.xml），并且必须以 14hive/TEMPLATE/XML 结尾。

有关使用 Visual Studio 2010 创建自定义字段类型的详细说明，请参阅：

*   [演练：创建自定义字段类型](http://msdn.microsoft.com/en-us/library/bb861799.aspx)
*   [演练：用于在 SharePoint 2010 列表中上传和显示图像的自定义字段类型](http://bernado-nguyen-hoan.com/2011/11/07/walkthrough-custom-field-type-for-uploading-and-displaying-images-in-sharepoint-2010-lists/)（请参阅步骤 7）

# ios - 无法在 iOS SDK 上创建 Facebook 测试用户帐户

> ID：10753426
> 
> 赞同：0
> 
> 时间：2012-05-25T11:14:18.470
> 
> 标签：ios, facebook, facebook-graph-api, testing

我只想使用 Facebook iOS SDK 创建我的第一个 Facebook 测试用户 不幸的是，我收到“错误代码 10000”。请求没有失败。

我简单地创建了一个包含以下内容的按钮。我还查看了 Facebook 文档，但这对我没有帮助。我的令牌是有效的，并显示在 NSLog 行中。这有什么问题？有什么帮助吗？感谢您的时间..

```
-(void) createTestAccount:(UIButton*) button{    
    NSLog(@"self.facebook.accessToken : %@", self.facebook.accessToken);

    NSMutableDictionary *params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                   self.facebook.accessToken, @"access_token",
                                   nil];

    NSString* urlString = [NSString stringWithFormat:@"%@/accounts/test-users" , kAppId];
    [facebook requestWithGraphPath:urlString andParams:params andHttpMethod:@"POST" andDelegate:(id)self];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:26:37.477

[我不确定您为什么要使用移动应用程序创建测试帐户，但是通过访问http://developers.facebook.com](http://developers.facebook.com)并转到`Roles`应用程序设置中的部分来创建测试帐户会容易得多.

但是，从您的代码来看，您可能正在使用您的个人`access_token`来创建测试用户。您需要使用[App Access Token](https://developers.facebook.com/docs/opengraph/using-app-tokens/)来创建测试用户。

# mysql - MYSQL HAVING WHERE 不工作

> ID：10753433
> 
> 赞同：1
> 
> 时间：2012-05-25T11:14:47.520
> 
> 标签：mysql, count, chat, aggregate, having

我有以下功能

```
function availableChatRoom($topic_id){
$max_rooms = 2;
$max_users = 2;

$sqli = "SELECT COUNT(DISTINCT room_num) AS numRooms FROM forum_chat WHERE topic_id = '$topic_id'";
$num_rooms = queryColumnVal($sqli, "numRooms");

$sqlii = "SELECT room_num, COUNT(user_id) AS numUsers FROM forum_chat 
          WHERE topic_id = '$topic_id' AND (status = 'online' AND status = 'offline') AND chat_msg = ''
          GROUP BY room_num
          HAVING numUsers < $max_users ORDER BY msg_date";

$num_rooms_with_spaces = mysqlNumRows($sqlii, "room_num");
queryColumnVal($sqlii, "room_num");

if($num_rooms == 0){
    return 1;
}
elseif($num_rooms <= $max_rooms){

    if($num_rooms_with_spaces == 0){
        return $num_rooms + 1;
    }
    else{
        return queryColumnVal($sqlii, "room_num");
    }
}
else{
    return "none";
} 
```

}

这个想法是让函数返回一个带空格的聊天室号码。- 每次用户加入房间时，都会插入一条没有消息的行，状态为在线 - 每次用户离开房间时，都会插入一条没有消息的行，状态为离线 我现在正在尝试编写一个函数来检查是否有每个主题的任何备用房间 想法是选择已登录但未注销的用户数小于每个房间的最大聊天数的 room_num。有人可以帮我处理我的 $sqlii。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:32:47.607

在SELECT`HAVING clause`之前**评估**- 所以服务器还不知道该别名。

```
SELECT room_num, COUNT(user_id) AS numUsers 
FROM forum_chat 
WHERE topic_id = '$topic_id' AND 
      (status = 'online' OR status = 'offline') AND 
      chat_msg = ''
GROUP BY room_num
HAVING COUNT(user_id) < $max_users ORDER BY msg_date 
```

1.  首先形成中所有表的乘积`from clause`。
2.  然后`where clause`评估 以消除不满足 search_condition 的行。
3.  Next, the rows are grouped using the columns in the `group by clause`.
4.  Then, Groups that do not satisfy the search_condition in the `having clause` are eliminated.
5.  Next, the expressions in the `select clause` target list are evaluated.
6.  If the distinct keyword in present in the select clause, duplicate rows are now eliminated.
7.  The union is taken after each sub-select is evaluated. 8.Finally, the resulting rows are sorted according to the columns specified in the order by clause.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:31:42.733

您的查询中有几个错误：

*   `(status = 'online' AND status = 'offline')`

这断言您的查询现在根本不会返回。使用：`(status = 'online' OR status = 'offline')`或等效的`(status IN ('online', 'offline'))`

*   `COUNT(user_id)`

这不计算在线减去离线用户的差异。纠正逻辑。

*   `ORDER BY msg_date`

在查询中，在, or子句`GROUP BY`中使用非聚合列是不好的，尽管 MySQL 允许这样做。除非该列依赖于分组表达式。由于显然不依赖于，因此您应该将其替换为聚合函数：`HAVING``SELECT``ORDER BY``msg_date``room_num`

`ORDER BY MAX(msg_date)` 或者 `ORDER BY MIN(msg_date)`

* * *

```
$sqlii = "
   SELECT room_num, 
          COUNT(CASE WHEN status = 'online' THEN 1 END) 
            - COUNT(CASE WHEN status = 'offline' THEN 1 END) 
          AS numUsers 
   FROM forum_chat 
   WHERE topic_id = '$topic_id' 
     AND status IN ('online', 'offline')
     AND chat_msg = ''
   GROUP BY room_num
   HAVING COUNT(CASE WHEN status = 'online' THEN 1 END) 
          - COUNT(CASE WHEN status = 'offline' THEN 1 END) 
          < $max_users 
   ORDER BY MAX(msg_date)
     "; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:19:16.493

您不能`HAVING`在同一`SELECT`级别中使用列的别名。那是因为在你的 MySQL`ONLY_FULL_GROUP_BY`会被激活。

试试这个 -

```
HAVING COUNT(user_id) < $max_users ORDER BY msg_date 
```

# c# - 公开在另一个自定义控件的控件模板中定义的自定义控件事件

> ID：10753441
> 
> 赞同：2
> 
> 时间：2012-05-25T11:15:25.660
> 
> 标签：c#, .net, wpf, xaml

我要做的是公开自定义控件中包含的按钮的单击事件。此自定义控件的实例在另一个自定义控件的控件模板中声明。

例如，假设我有以下内容：

```
public class CustomTabPanel : Panel
{
    public Button newButton;
    //lots of other stuff
} 
```

然后我有另一个像这样的控制

```
public class CustomControl : Selector
{
    //stuff here
} 
```

这个 CustomControl 类有一个在 generic.xaml 中定义的模板，它定义了一个 CustomTabPanel 的实例，就像这样（东西已被剥离）

```
<Style TargetType="{x:Type local:CustomControl}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type local:CustomControl}">
                    <local:CustomTabPanel IsItemsHost="True"/>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

然后可以在 MainWindow.xaml 或任何位置创建此控件的实例。

我的问题是，假设控件在那里定义，我如何访问 MainWindow.xaml 中 CustomTabPanel 中按钮的 Click 事件？

我试图让这个解释尽可能简单，如果您需要更多实施细节，请询问。

非常感谢您的帮助！

克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-27T07:20:59.060

将其公开为 CustomControl 上的依赖属性。将其连接到您的 CustomControl 代码文件中。它有点利用它。

# php - 如何知道mysql中删除的行数？

> ID：10753444
> 
> 赞同：3
> 
> 时间：2012-05-25T11:15:36.263
> 
> 标签：php, mysql, codeigniter, activerecord

`$this->db->affected_rows()`如果每次都返回，即如何知道codeigniter中已删除行的数量。成功或失败也

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:19:35.540

```
$this->db->where($conditions)->delete('mytable');
return $this->db->affected_rows(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-25T11:19:36.353

> 如果 $this->db->affected_rows() 每次都返回，如何知道 codeigniter 中删除的行数。成功或失败也

我不使用 CodeIgniter，但通常`affected_rows( )`应该返回受影响的行数。这意味着，如果查询成功，它应该*始终*是一个整数。如果返回 0，则不删除任何行，如果 > 0，则删除该数字。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T11:18:23.520

你有没有测试过，根据codeigniters网站有一个返回正确数量的行的黑客，默认情况下是打开的。

[http://codeigniter.com/user_guide/database/helpers.html](http://codeigniter.com/user_guide/database/helpers.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-25T11:22:30.867

根据[Codeigniter](http://codeigniter.com/user_guide/database/helpers.html)用户指南，它返回正确的行数：

> “注意：在 MySQL 中，“DELETE FROM TABLE”返回 0 个受影响的行。数据库类有一个小技巧，允许它返回正确数量的受影响的行。默认情况下，此 hack 已启用，但可以在数据库驱动程序中关闭文件。”

因此，这应该有效：

```
 $this->db->delete('1', 'your_table');
 echo ($this->db->affected_rows()." rows were deleted"); 
```

如果它不起作用，那么只是将其作为非理想的解决方法

```
$count = $this->db->count_all('your_table');
$this->db->delete('1', 'your_table');
$new_count = $this->db->count_all('your_table');
if ($new_count > $count)
{
    echo (($new_count-$count)." rows was deleted");
}
else
{
    echo "nothing deleted";
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-25T11:20:42.593

如果您更具体，例如...但是您可以在删除之前和之后执行 SELECT COUNT(*) 并比较两个结果。

# java - 绘制图形看起来像这样

> ID：10753447
> 
> 赞同：1
> 
> 时间：2012-05-25T11:15:43.700
> 
> 标签：java, opengl, graphics, java-3d

我想知道如何渲染线条、文本框和标签等，看起来像这样：

![示例截图](../Images/01a300dc81475df48dfa97d39450f05f.png)

因为我正在做类似的事情，我需要代表不同设备之间的通信。

我只需要渲染文本框、水平线等的图像。换句话说，它不需要是实际的文本框或标签，只是它们的表示，用文本、矩形、水平线等绘制.

我需要一个特殊的库、框架等吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:15:49.247

我推荐[Piccolo 2D](http://www.piccolo2d.org/)框架。多年来，我已经将它用于一些地图和图形项目，并取得了良好的效果。它很灵活，可以轻松容纳您发布的图片。

# flickr - Flickr 链接到带有 WOE-id 和标签的查询

> ID：10753450
> 
> 赞同：0
> 
> 时间：2012-05-25T11:16:03.873
> 
> 标签：flickr, phpflickr

我使用 Flickr api 进行了查询，以在具有 WOE id 和一些标签的区域中显示图片。

我正在使用以下选项查询[flickr.photos.search方法：](http://www.flickr.com/services/api/flickr.photos.search.html)

```
$options = array('privacy_filter'=>1,
                    'woe_id' => $woe,
                    'tag_mode'=> 'any',
                    'per_page'=> 6,
                    'sort' =>'interestingness-desc',
                    'tags' =>'some, tags'
                  ); 
```

它显示 6 张图片。我想将我页面的访问者重定向到 Flickr 页面，该页面在他们的环境中显示我的查询结果。

有谁知道我怎么能建立这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T10:00:07.170

通过 flickr.photos.search API，您可以获得每张照片的 id 和 secret。要获取 Flickr 中每张照片的 URL，您必须使用照片 id 和密码再次查询 flickr.photos.getinfo。然后您将找到 url 元数据并在 Flickr 环境中显示结果。

# optimization - 使用 __builtin_expect 的指南

> ID：10753456
> 
> 赞同：4
> 
> 时间：2012-05-25T11:16:31.317
> 
> 标签：optimization, gcc, built-in

我应该在多重和嵌套测试中用 gcc 的`__builtin_expected`宏包装什么？`if`我有这个代码：

```
if((x<RADIUS && (forward?v<0:v>0)) || (x+RADIUS>dimensions[d] && (forward?v>0:v<0))) 
```

我已经（荒谬地）包装了我能做的一切：

```
#define likely(x)       __builtin_expect((x),1)
#define unlikely(x)     __builtin_expect((x),0)
if(unlikely(unlikely(unlikely(x<RADIUS) && likely(likely(forward)?likely(v<0):likely(v>0))) || unlikely(unlikely(x+RADIUS>dimensions[d]) && likely(likely(forward)?likely(v>0):likely(v<0))))) 
```

我希望这只是一种矫枉过正，因为它几乎不可读。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T13:57:13.060

我不认为这里有错误的答案。编译器将使用您的提示来决定每次比较的“其他”情况；这不仅是其他 C 代码，而且在逻辑的*ands*和*ors*中也是如此，而且信息越多越好。

为了代码的可读性，我建议将其保留为大的东西：每个 if 语句一次，但这并不是基于任何确凿的证据。

您是否考虑过使用`-fprofile-generate`，使用典型数据运行代码，然后使用 重建`-fprofile-use`？这样编译器就可以为所有这些情况构建自己的图片。这更可移植（没有特定于编译器的注释），更具可读性和更多的未来证明。

# javascript - Zepto.js 中有类似 nextAll() 的东西吗？

> ID：10753464
> 
> 赞同：0
> 
> 时间：2012-05-25T11:17:11.547
> 
> 标签：javascript, zepto

我有一个节点列表：

```
<div id="node-1"></div>
<div id="node-2" class="current"></div>
<div id="node-3"></div>
<div id="node-4"></div>
<div id="node-5"></div> 
```

`$(".current")`作为选择器（node-2）使用时，如何使用 Zepto 获取所有节点 3-5 ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-19T23:30:05.610

这应该有效。几乎像[http://api.jquery.com/nextAll/](http://api.jquery.com/nextAll/)和[http://api.jquery.com/prevAll/](http://api.jquery.com/prevAll/)

```
;(function($){
var e = {
    nextAll: function(s) {
        var $els = $(), $el = this.next()
        while( $el.length ) {
            if(typeof s === 'undefined' || $el.is(s)) $els = $els.add($el)
            $el = $el.next()
        }
        return $els
    },
    prevAll: function(s) {
        var $els = $(), $el = this.prev()
        while( $el.length ) {
            if(typeof s === 'undefined' || $el.is(s)) $els = $els.add($el)
            $el = $el.prev()
        }
        return $els
    }
}

$.extend( $.fn, e )
})(Zepto); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:23:18.143

> Zepto.js 中有类似 nextAll() 的东西吗？

不是根据[文档](http://zeptojs.com/#next)`next`，前后有明显差距`not`。

这表明您需要一个循环，例如：

```
var $current = $(".current"),
    $walk,
    $following = $(),
    $next;

for ($walk = $current.next(); $walk[0]; $walk = $walk.next()) {
    $following.add($walk);
} 
```

的使用`add`将适用于 jQuery。Zepto 的文档声称*“**提供的 API 与它们的 jQuery 对应物**相匹配”*（它们的粗体字），但[`add`文档](http://zeptojs.com/#add)只讨论了使用选择器，因此您可能需要稍微尝试一下。

# c# - 如何从包含 HTML 数据的 nvarchar db 字段中仅提取某些标签之间的文本

> ID：10753466
> 
> 赞同：0
> 
> 时间：2012-05-25T11:17:18.960
> 
> 标签：c#, sql-server, asp.net-mvc, linq, entity-framework

我没有使用 XML 作为存储 HTML 的数据类型，而只是将其作为字符串存储在 nvarchar 数据库字段中。

在这个 html 数据字符串中，我有标签`<description></description>`，我想只在所述标签之间获取文本。

另外我认为我不能将普通的 html 存储在 XML 数据类型字段中，因为它不是有效的 XML？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:29:37.483

尝试这样的事情

```
 XElement xmlTree = XElement.Parse("here put your html as string");
           var elements = xmlTree.Elements("description")
           foreach (XElement el in elements)
               Console.WriteLine(el); 
```

# html - 水平显示超过 1 个 div 并使用水平滚动条查看它们

> ID：10753467
> 
> 赞同：0
> 
> 时间：2012-05-25T11:17:28.363
> 
> 标签：html, css, css-float

我正在尝试在固定宽度的 div 内水平显示多个 div（框）。我想使用水平滚动条来显示所有不适合父 div 的 div。

但是，div 是垂直显示的，而不是水平显示的。有没有办法强制它们并排显示？并使用水平滚动条查看它们。我已经发布了下面的编码。

```
<html>
<head>
<title> Slide </title>
<style type="text/css">
.total
{
height:350px;
width:75%;
border:1px solid black;
margin-left:auto;
margin-right:auto;
margin-top:15%;
}
.slidepanel
{
border:1px solid purple;
width:100%;
height:100%;
overflow-x: scroll;
overflow-y: hidden;
}
.slideleft
{
border:1px solid green;
width:5%;
height:10%; 
margin-left:5%;
float:left;
text-align:center;
//padding-top:1%;
}
.slideright
{
//padding-top:1%;
border:1px solid green;
width:5%;
height:10%; 
margin-left:80%;
float:left;
text-align:center;
}
.box
{
border:1px solid red;
width:100%;
height:100%;
float:left;
margin-left:auto;
margin-right:auto;
}

</style>
</head>
<body>
<div class="total">
<div class="slidepanel">
<button class="slideleft">
 <<
</button>
<button class="slideright">
 >>
 </button>
<div class="box">
</div>
<div class="box">
</div>
<div class="box">
</div>
<div class="box">
</div>
</div>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:21:11.720

是的，通过在它们周围放置一个包装。像这样[http://dabblet.com/gist/2787474](http://dabblet.com/gist/2787474)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:23:04.853

您已经给定了`.box`100% 的宽度，因此它将始终占据整个页面的宽度，因此将没有空间将其他框放在它旁边。让它不那么宽，它会起作用。

[http://jsfiddle.net/JDeaZ/](http://jsfiddle.net/JDeaZ/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:41:01.430

就像@RobinJ 建议的那样，给盒子一个特定的宽度。

我也将摆脱保证金：汽车；因为这将使您的 div 居中。您可以使用例如 margin-left: 10px; 右边距：10px；在 div 的左侧和右侧给它一些间距。

这将是我的代码的外观：

```
.box{
    border:1px solid red;
    width: 300px; /*fill in your desired width*/
    height: 300px; /*fill in your desired height*/
    float:left;
    margin-left: 10px;
    margin-right: 10px;
} 
```

希望有帮助；）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T11:53:50.857

很酷，只是一些技巧和一种简单的方法，尽可能使用相同的数据值，% 有时会在 IE 中抛出元素，px 很好，1200px 的宽度在各种屏幕尺寸上都很好。这就是我将如何做到的。

HTML

```
<div id="box_wrapper">
  <div class="box">
  </div>
  <div class="box">
  </div>
  <div class="box">
  </div>
</div> 
```

的CSS

```
#box_wrapper {
  height: 400px;
  width: 1200px;
  margin: /*top and bottom*/5px auto/*left and right*/; /*this will keep it centred*/
  overflow-x: scroll;
}
.box {
  float: left;
  width: 1200px;
  height: 398px;
} 
```

指定特定的像素很好，但在边框技术方面做得很好，它有助于定位和获得你想要的正确尺寸，所以只需尝试宽度。

您可以做一些花哨的事情并隐藏溢出-x，然后

```
#box_wrapper:hover {
 overflow-x: scroll;
} 
```

希望有帮助：D

# c# - 如果在combox1中选择了一个值，那么它应该在所有其他组合框中被禁用

> ID：10753469
> 
> 赞同：1
> 
> 时间：2012-05-25T11:18:02.063
> 
> 标签：c#, combobox

如果在combox1 中选择了一个值，那么它应该在所有其他组合框中被禁用。例如，我有 4 个组合框。组合框 1、组合框 2、组合框 3、组合框 4。都具有相同的值，例如（1,2,3,4,5）如果在 ComboBox1 中选择了值 1，那么它应该在所有其他框中禁用，并且所有框都相同？？？谢谢，我需要快速回复。等待。美斯曼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T13:28:32.540

如果您不仅使用 1stcomboBox 来选择项目 + 从其他人中删除，并且使用通用列表作为组合框数据源；我想你可以使用扩展方法

```
 /// <summary>
    /// returns a new List<T> without the List<T> which won't have the given parameter 
    ///
    /// Example Usage of the extension method :
    ///
    /// List<int> nums = new List<int>() { 1, 2, 3, 4, 5 };
    /// 
    /// List<int> i = nums.Without(3);
    /// 
    /// </summary>
    /// <typeparam name="TList"> Type of the Caller Generic List </typeparam>
    /// <typeparam name="T"> Type of the Parameter </typeparam>
    /// <param name="list"> Name of the caller list </param>
    /// <param name="item"> Generic item name which exclude from list </param>
    /// <returns>List<T> Returns a generic list </returns>

    public static TList Without<TList, T>(this TList list, T item) where TList : IList<T>, new()
        {
            TList l = new TList();

            foreach (T i in list.Where(n => !n.Equals(item)))
            {
                l.Add(i);
            }

            return l;
        } 
```

然后您可以根据需要设置哪个组合框的数据源（列表非常快）

顺便说一句..如果您想确定鼠标选择的组合框项目（用户活动 - 不是以编程方式），您需要使用 SelectionChangeCommitted 事件；不是 SelectedIndexChanged。使用 SelectedIndexChange 事件，您还将在组合框第一次加载时捕获。但是使用 SelectionChange Committed 事件等待输入键盘或将鼠标按到组合框的箭头以触发自身

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:21:06.680

您必须从其他组合框中删除该元素，例如：

```
comboBox2.Items.Remove(comboBox1.SelectedItem); 
```

您可以`ComboBox1 OnChange`通过以下方式处理事件：

```
private void ComboBox1_SelectedIndexChanged(object sender, System.EventArgs e)
{
     // remove the item in the other lists based upon ComboBox1 selection
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:22:57.740

在选择时，您需要将其从其他组合框中删除。例如。

```
//On item selected in ComboBox1
private void showSelectedButton_Click(object sender, System.EventArgs e) 
{

    comboBox2.Items.Remove(comboBox1.SelectedIndex.ToString());
    comboBox3.Items.Remove(comboBox1.SelectedIndex.ToString());
    comboBox4.Items.Remove(comboBox1.SelectedIndex.ToString());
} 
```

# django - 将 Django 1.3 移至新服务器

> ID：10753480
> 
> 赞同：0
> 
> 时间：2012-05-25T11:18:52.483
> 
> 标签：django

我正在尝试移动用 Django 1.3 制作的网站。

服务器设置为私人服务器（我认为是这样）。

安装 Django 后，我将所有文件移动到新服务器，我交换了设置文件，所以现在设置中的文件来自 privies 服务器。我在设置中更改了文件位置，所以现在所有文件都指向缝纫服务器位置。我安装的一些模块也丢失了，我没有收到缺少 django 模块的错误。

当我尝试在互联网上设置可见时，出现以下错误：

```
[root@575283 somod]# python manage.py runserver 0.0.0.0:8000
Traceback (most recent call last):
File "manage.py", line 13, in <module>
  execute_manager(settings)
File "/usr/lib/python2.6/site-packages/django/core/management/__init__.py", line 438, in execute_manager
  utility.execute()
File "/usr/lib/python2.6/site-packages/django/core/management/__init__.py", line 379, in execute
  self.fetch_command(subcommand).run_from_argv(self.argv)
File "/usr/lib/python2.6/site-packages/django/core/management/base.py", line 191, in run_from_argv
  self.execute(*args, **options.__dict__)
File "/usr/lib/python2.6/site-packages/django/core/management/base.py", line 209, in execute
  translation.activate('en-us')
File "/usr/lib/python2.6/site-packages/django/utils/translation/__init__.py", line 100, in activate
  return _trans.activate(language)
File "/usr/lib/python2.6/site-packages/django/utils/translation/trans_real.py", line 202, in activate
  _active.value = translation(language)
File "/usr/lib/python2.6/site-packages/django/utils/translation/trans_real.py", line 185, in translation
  default_translation = _fetch(settings.LANGUAGE_CODE)
File "/usr/lib/python2.6/site-packages/django/utils/translation/trans_real.py", line 162, in _fetch
  app = import_module(appname)
File "/usr/lib/python2.6/site-packages/django/utils/importlib.py", line 35, in import_module
  __import__(name)
File "/usr/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/__init__.py", line 1, in <module>
  from sorl.thumbnail.fields import ImageField
File "/usr/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/fields.py", line 2, in <module>
  from django.db import models
File "/usr/lib/python2.6/site-packages/django/db/__init__.py", line 78, in <module>
  connection = connections[DEFAULT_DB_ALIAS]
File "/usr/lib/python2.6/site-packages/django/db/utils.py", line 93, in __getitem__
  backend = load_backend(db['ENGINE'])
File "/usr/lib/python2.6/site-packages/django/db/utils.py", line 33, in load_backend
  return import_module('.base', backend_name)
File "/usr/lib/python2.6/site-packages/django/utils/importlib.py", line 35, in import_module
  __import__(name)
File "/usr/lib/python2.6/site-packages/django/db/backends/mysql/base.py", line 14, in <module>
  raise ImproperlyConfigured("Error loading MySQLdb module: %s" % e)
django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module: No module named MySQLdb 
```

我猜我错过了 MySQLdb 模块，有什么提示吗？

还有其他输出线呢？

旧服务器有 Django 1.3
我正在使用 CentOS 6、Apache 2、Django 1.3.1、mod_wsgi、Python 2.6.6

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-25T12:12:31.940

您需要安装[MySQL-python](http://pypi.python.org/pypi/MySQL-python)。您可以使用[pip](http://www.pip-installer.org/en/latest/index.html)安装它：

`sudo pip install MySQL-python`

如果您需要有关如何使用 Apache 运行 Django 的帮助，请参阅[官方文档](https://docs.djangoproject.com/en/dev/howto/deployment/wsgi/modwsgi/)。如果他们感到困惑，[请继续谷歌搜索](https://www.google.se/webhp?sourceid=chrome-instant&ie=UTF-8&ion=1#hl=sv&sclient=psy-ab&q=how%20to%20server%20django%20with%20apache%20wsgi&oq=how%20to%20server%20django%20with%20apache%20wsgi&aq=f&aqi=&aql=&gs_l=serp.3...2231.2809.0.2872.5.5.0.0.0.0.84.258.5.5.0...0.0.G58deIDVKsk&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.,cf.osb&fp=393b2ac78977d9cd&biw=2504&bih=1346&ion=1)。

祝你好运 ：）

# jsp - 从 Sitemesh 装饰器传递一个变量

> ID：10753481
> 
> 赞同：4
> 
> 时间：2012-05-25T11:19:10.990
> 
> 标签：jsp, jstl, decorator, responsive-design, sitemesh

我们有一个系统，它为不同大小的页面使用多个装饰器，同时使用相同的内容页面。我正在尝试设置一个可以传递给内容页面（用 JSP 编写）的变量。例如

```
<c:set var="pagetype" value="mobile/" /> 
```

此方法不起作用，因为内容页面是发送给装饰器的，因此需要先生成。有没有办法在编译页面之前将变量传递到页面中，例如，我可以在具有不同装饰器的不同文件夹中使用响应式图像（例如

```
<img src="uploads/${pagetype}/img.jpg /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-19T14:39:02.927

解决方案是将其添加到请求范围：

```
<c:set var="pagetype" value="mobile/" scope="request" /> 
```

# c++ - ROOT (cern) : gClient, gApplication

> ID：10753483
> 
> 赞同：0
> 
> 时间：2012-05-25T11:19:16.697
> 
> 标签：c++, root-framework

我在使用我的程序之`gClient->GetRoot()`类 的东西时遇到了一些问题。`gApplication->*`如果我使用根控制台（CINT），没关系。但是如果我想编译它，我会得到：

```
'gClient' was not declared in this scope 
```

请问有人知道问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-14T03:03:56.383

`gApplication`在 TApplication.h 中定义，该文件位于 $ROOTSYS/include/TApplication.h 中。如果您将此头文件包含在您的源代码中，它应该“正常工作”。类似地，对于其他变量，例如`gROOT`,`gClient`等 - 它们位于头文件 TROOT.h、TClient.h 等中。

在我的本地版本（12/2011 的 ROOT v5.32）中，`TApplication.h`头文件中的代码片段是

```
// definition of TApplication above
   ClassDef(TApplication,0)  //GUI application singleton
};

R__EXTERN TApplication *gApplication; 
```

和其他的看起来相似。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T15:43:00.047

您必须#include 正确的包含文件，并根据您的设置链接一些库。

如果您在根帮助页面中搜索根对象，右上角的小框会告诉您您需要什么。

# .net - 读取 base256 编码的二维条码

> ID：10753485
> 
> 赞同：0
> 
> 时间：2012-05-25T11:19:28.040
> 
> 标签：.net, vb.net, encoding, character-encoding, barcode-scanner

我必须读取用 base256 编码的二维条码。当我扫描条形码时，它会从键盘发送不同的字符，它会改变焦点，将 Visual Studio 全屏打开，发出命令从 Notepad++ 发送到打印机。

我猜它读取 ALT + TAB、CTRL + P、ALT + SHIFT 等，我无法从条形码中捕获所有字节。

我尝试使用 e.handled = True 和 e.keyChar 添加到 bytes() 来捕获文本框 KeyPress 方法上的事件

在 form.load 我设置：

```
Me.KeyPreview = True 
```

并在 form.KeyDown 上尝试过，但没有运气。

谁能帮我解决这个问题？感谢您的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-28T08:10:15.270

为了完成这项工作，我不得不将条码阅读器的接口更改为 R232 并模拟一个 COM 端口。

# objective-c - 释放 CGMutablePathRef 是有问题的

> ID：10753491
> 
> 赞同：0
> 
> 时间：2012-05-25T11:19:40.707
> 
> 标签：objective-c, ipad, release, memory-leaks, cgpath

我得到`hexTouchAreas`了我的方法的返回值`-drawHexagonTouchArea`，但是当我分析我的项目时，它所说的行`CGMutablePathRef hexTouchArea = CGPathCreateMutable();`会产生一个警告：“在初始化期间存储到 'hexTouchArea' 的值永远不会被读取”。并且在`CGPathRelease(hexTouchArea);`它抱怨我不拥有那个对象的那一行，并且释放它是多余的。

另一个警告是在`return path;`分析器说的行：“在第 629 行分配并存储到路径（即`CGMutablePathRef path = CGPathCreateMutable();`）中的对象的潜在泄漏”

```
-(void)createTouchAreas{

    int realPositionsCount =[[GameStateSingleton sharedMySingleton]getSharedRealCountOfPositions]; 
    hexTouchAreas = [[GameStateSingleton sharedMySingleton]getSharedHexTouchAreas];
    NSMutableDictionary *existingHexagons = [[GameStateSingleton sharedMySingleton]getExistingHexagons];
    for (int i = 0; i <= realPositionsCount;i++){
        //create touchareas
        NSString *hexKey = [NSString stringWithFormat:@"hexagon%d", i];
        CCSprite *theSprite = [[existingHexagons objectForKey:hexKey]objectForKey:@"realSprite"];
        CGPoint touchAreaOrigin = ccp(theSprite.position.x -22, theSprite.position.y-40);
        NSString *touchAreaKey = [NSString stringWithFormat:@"hexTouchArea%d",i];
        CGMutablePathRef hexTouchArea = CGPathCreateMutable();
        hexTouchArea = (CGMutablePathRef) [self drawHexagonTouchArea:touchAreaOrigin];
        [hexTouchAreas setObject:(id)hexTouchArea forKey:touchAreaKey];
        [[GameStateSingleton sharedMySingleton]setSharedHexTouchAreas:hexTouchAreas];
        CGPathRelease(hexTouchArea);

    }

} 
```

创建和返回路径的方法：

```
-(CGMutablePathRef)drawHexagonTouchArea:(CGPoint)origin
{   

    CGMutablePathRef path = CGPathCreateMutable();
    CGPoint newloc = CGPointMake(origin.x, origin.y);

    CGPathMoveToPoint(path, NULL, newloc.x, newloc.y);
    CGPathAddLineToPoint(path, NULL, newloc.x -22,newloc.y + 38);
    CGPathAddLineToPoint(path, NULL, newloc.x + 0, newloc.y + 76);
    CGPathAddLineToPoint(path, NULL, newloc.x + 46,  newloc.y + 76);
    CGPathAddLineToPoint(path, NULL, newloc.x +66,newloc.y + 40);
    CGPathAddLineToPoint(path, NULL, newloc.x +44, newloc.y + 0);
    CGPathCloseSubpath(path);
    return path;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T20:26:49.637

使用以下代码，您可以创建一个可变路径，将其分配给 hexTouchArea，然后用另一个创建的对象覆盖 hexTouchArea。

```
CGMutablePathRef hexTouchArea = CGPathCreateMutable();
hexTouchArea = (CGMutablePathRef) [self drawHexagonTouchArea:touchAreaOrigin]; 
```

您可能想要使用的是以下内容。

```
CGMutablePathRef hexTouchArea = [self drawHexagonTouchArea:touchAreaOrigin]; 
```

# math - Coons B 样条和贝塞尔样条有什么区别？

> ID：10753492
> 
> 赞同：1
> 
> 时间：2012-05-25T11:19:50.863
> 
> 标签：math, graphics, bezier, spline, bspline

1.  Coons B样条和贝塞尔样条有什么区别？
2.  我应该说“Bezier Spline”还是“Bezier B-spline”？什么是正确的术语？

我读过一些关于它的文章，但他们通常一起讨论这两种类型的样条，所以我有点搞砸了，不知道什么信息属于什么类型的曲线。

# eclipse - Eclipse插件文件使用

> ID：10753496
> 
> 赞同：0
> 
> 时间：2012-05-25T11:20:03.233
> 
> 标签：eclipse, file, plugins, filepath

在我的 Eclipse 插件中，我需要使用包资源管理器中的文件。我用鼠标右键单击一个文件并选择“查看”（我的插件名称）。那么，如何在我的插件项目中访问此文件路径？

[http://i49.tinypic.com/2j29ifs.png](http://i49.tinypic.com/2j29ifs.png)

我有这个：

```
public class ViewHandler extends AbstractHandler {
...
 public Object execute(ExecutionEvent event) throws ExecutionException { 
 ...
 ...
        URI uri = null;
        try {
            test();
            uri = URI.createURI("../models/task.cm");
            Resource resource = resourceSet
                    .getResource(uri, true);
            Model model = (Model) resource.getContents().get(0);
            ModelExtractor showModel = new ModelExtractor(model);
            showModel.run();
        } catch (Exception e) {
            System.out.print(e);
        }

        return null;
    }
} 
```

我需要替换这一行： `uri = URI.createURI("../models/task.cm");`

带有文件的相对路径。

或者，如果你有一些好的教程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:28:58.490

在您的命令处理程序（我希望您使用的是命令框架，而不是 JFace 操作）中，您可以检查当前选择的元素，然后使用生成的 IFile 进行解析。

# objective-c - 应用委托的 KVO 通知意外停止

> ID：10753501
> 
> 赞同：0
> 
> 时间：2012-05-25T11:20:37.710
> 
> 标签：objective-c, cocoa, key-value-observing

我的应用程序委托中有一个密钥，我使用以下代码监听更改：

```
[self addObserver:self forKeyPath:@"myKey" options:0 context:nil]; 
```

但过了一段时间，应用程序委托停止响应对`myKey`. 为什么会这样？

# android - Android 片段调整大小

> ID：10753503
> 
> 赞同：0
> 
> 时间：2012-05-25T11:21:01.720
> 
> 标签：android, list, fragment

我正在开发一个应用程序 Android 可以选择减小片段的大小？

示例：
最小宽度 = 200
最大宽度 = 500

查看：

片段 1 - 客户列表 |<->| 片段 - 客户详情

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:26:42.640

由于片段（通常）创建一个视图，您可以简单地更改视图的大小。但是，它可能会有点慢，具体取决于周围视图的复杂性以及您所针对的 API（因为新的 API 也将 gpu 用于布局阶段）。

# mysql - mysql ID自动递增不是从0开始

> ID：10753505
> 
> 赞同：13
> 
> 时间：2012-05-25T11:21:08.273
> 
> 标签：mysql, database, auto-increment

我有一个带有 ID 的表，这个 ID 是自动增量和主键，我第一次插入该表时，ID 从 0 开始，但是在我从该表中删除所有值并再次插入后，ID 不'不是从0开始，而是从ID的最后一个值开始，请问出了什么问题？我可以将值重置为 0 吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-05-25T11:27:17.133

您可以使用截断表

```
TRUNCATE `table` 
```

截断将**删除**表中的所有数据。请注意， using`TRUNCATE`也不会触发任何 DELETE 触发器，例如`DELETE`.

或者您可以使用重置计数

```
ALTER TABLE `table` AUTO_INCREMENT = 1 
```

然而，这是预期的行为。除非桌子真的是空的，否则不要做后者。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-01-07T16:51:46.190

要插入值为 0 的主键，请首先执行以下请求：

```
SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO"; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-25T11:28:48.677

删除表中的所有元素不会影响主键。主键仍会从其最后一个值自动递增。

如果要重置主键，可以尝试截断表：

```
TRUNCATE TABLE yourtable; 
```

这会清除 yourtable 中的所有元素。是否重置主键取决于您的数据库。使用 Mysql 它应该可以工作，因为 Mysql 在 TRUNCATE 上删除并重新创建表。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-25T11:25:01.703

您必须使用 TRUNCATE 语句从 1 重新启动 auto_increment。这是避免制动的正常行为。

# java - 在 IzPack 安装程序中，如何根据操作系统指定所需的 Java 版本？

> ID：10753507
> 
> 赞同：0
> 
> 时间：2012-05-25T11:21:23.013
> 
> 标签：java, deployment, installation, izpack

用户需要具有以下版本的 JRE：

*   1.7，如果他/她使用任何 64 位 Windows 操作系统
*   1.6，如果他/她正在使用任何其他操作系统

如何通过我的 install.xml 指定这个？

# silverlight - 如何减小 windows phone 7 中复选框的大小？

> ID：10753508
> 
> 赞同：2
> 
> 时间：2012-05-25T11:21:25.977
> 
> 标签：silverlight, windows-phone-7

嗨，我是 Windows Phone 7 的新手。

我在我的应用程序中使用复选框控件。

但是复选框控件的大小并没有减少。

我全部更改了高度、宽度、背景属性，但没有结果。

在我的屏幕中，我将使用 30 个不带滚动面板的复选框。

这就是为什么我要减小它们的尺寸。请帮帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-27T09:03:08.740

虽然我同意上面的评论，但有时 UI 设计可能会受到影响——

您可以通过添加 ScaleX 和 ScaleY 来实现它：

```
<CheckBox Content="CheckBox" FontSize="{StaticResource PhoneFontSizeSmall}" 
                      BorderThickness="1">
    <CheckBox.RenderTransform>
        <ScaleTransform ScaleX="0.5" ScaleY="0.5" />
    </CheckBox.RenderTransform>
</CheckBox> 
```

这在 WP8 中对我有用-尚未在 WP7 中测试

# maven - Liferay 的父 Pom 构建问题

> ID：10753509
> 
> 赞同：4
> 
> 时间：2012-05-25T11:21:27.147
> 
> 标签：maven, liferay

我正在尝试设置一个基于 maven 的小型项目结构，如下所示

# Maven结构

```
Project
\pom.xml
\Hello world portlet
  \pom.xml
\Second Portlet
  \pom.xml 
```

如您所见，Project 下有几个 portlet（在未来的主题中，hook 等在相同的结构下）。

现在，在单个 portlet 中，我可以运行与 liferay 相关的 maven 任务，通过点击**mvn clean compile package liferay:deploy**来单独部署它们 现在我正在寻找使用相同的命令构建和部署所有 Liferay portlet 相关的工件。在这种情况下，我收到父项目本身的错误（子 Liferay 模块正在构建良好）。我不确定为什么它也尝试构建父项目，尽管我的意图只是运行 liferay:deploy 相关任务。

# 子 POM

这是child的pom.xml（这是创建portlet时默认生成的）

```
<?xml version="1.0"?>

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.test</groupId>
    <artifactId>helloworld</artifactId>
    <packaging>war</packaging>
    <name>hello-world-portlet Portlet</name>
    <version>1.0</version>
    <build>
        <plugins>
            <plugin>
                <groupId>com.liferay.maven.plugins</groupId>
                <artifactId>liferay-maven-plugin</artifactId>
                <version>${liferay.version}</version>
                <configuration>
                    <autoDeployDir>${liferay.auto.deploy.dir}</autoDeployDir>
                    <liferayVersion>${liferay.version}</liferayVersion>
                    <apiDir>${service.api.dir}</apiDir>
                    <warFileName>${war.file.name}</warFileName>
                    <pluginType>portlet</pluginType>
                </configuration>
            </plugin>
            <plugin>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <encoding>UTF-8</encoding>
                    <source>1.6</source>
                    <target>1.6</target>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>build-helper-maven-plugin</artifactId>
                <version>1.3</version>
                <executions>
                    <execution>
                        <id>add-source</id>
                        <phase>generate-sources</phase>
                        <goals>
                            <goal>add-source</goal>
                        </goals>
                        <configuration>
                            <sources>
                                <source>${service.api.dir}</source>
                            </sources>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <artifactId>maven-resources-plugin</artifactId>
                <configuration>
                    <encoding>UTF-8</encoding>
                </configuration>
            </plugin>
        </plugins>
    </build>
    <dependencies>
        <dependency>
            <groupId>com.liferay.portal</groupId>
            <artifactId>portal-service</artifactId>
            <version>${liferay.version}</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.liferay.portal</groupId>
            <artifactId>util-bridges</artifactId>
            <version>${liferay.version}</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.liferay.portal</groupId>
            <artifactId>util-taglib</artifactId>
            <version>${liferay.version}</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.liferay.portal</groupId>
            <artifactId>util-java</artifactId>
            <version>${liferay.version}</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.portlet</groupId>
            <artifactId>portlet-api</artifactId>
            <version>2.0</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.4</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet.jsp</groupId>
            <artifactId>jsp-api</artifactId>
            <version>2.0</version>
            <scope>provided</scope>
        </dependency>
    </dependencies>
    <properties>
        <liferay.auto.deploy.dir>D:/Projects/Bosch/Liferay Developer Studio/liferay-portal-6.1.10-ee-ga1/deploy</liferay.auto.deploy.dir>
        <liferay.version>6.1.10</liferay.version>
        <liferay.maven.version>6.1.0</liferay.maven.version>
        <war.file.name>hellow-world-portlet.war</war.file.name>
        <service.api.dir>src/main/java-service-api</service.api.dir>
    </properties>
</project> 
```

# 父 POM

这是父级的 pom.xml。（我为此手动创建了谷歌搜索并将模块添加到其中）

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>com.test</groupId>
  <artifactId>MvnProject</artifactId>
  <version>1.0</version>
  <packaging>pom</packaging>

     <!-- 3\. List all children projects names (name is directory name as well). -->
  <modules>
    <module>ipc-portlet</module>
    <module>helloworld</module>
  </modules>

  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>

  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>3.8.1</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
</project> 
```

# 错误

这是我得到的错误

```
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] ipc-portlet Portlet ............................... SUCCESS [5.361s]
[INFO] hello-world-portlet Portlet ....................... SUCCESS [1.047s]
[INFO] MvnProject ........................................ FAILURE [2.500s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 9.236s
[INFO] Finished at: Fri May 25 16:49:12 IST 2012
[INFO] Final Memory: 7M/14M
[INFO] ------------------------------------------------------------------------
[ERROR] No plugin found for prefix 'liferay' in the current project and in the p
lugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the re
positories [local (C:\Documents and Settings\sandeep.nair\.m2\repository), centr
al (http://repo.maven.apache.org/maven2)] -> [Help 1] 
```

如您所见，对于我想要的子模块，构建是成功的。但它也试图为父母执行它。我怎样才能避免发生第三次构建，这是父项目。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-25T12:10:17.430

`pluginGroup`您必须像这样添加自定义`settings.xml`：

```
<pluginGroups>
  <pluginGroup>com.liferay.maven.plugins</pluginGroup>
</pluginGroups> 
```

然后，您可以使用 3rd 方插件进行如此短的调用，例如`liferay:deploy`. 看看[这个](http://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html)了解更多细节。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T12:23:48.227

当对带有子模块的项目执行 Maven 时，Maven 首先加载父 POM 并定位所有子模块 POM。然后，Maven 将所有这些项目 POM 放入称为 Maven Reactor 的东西中，该反应器分析模块之间的依赖关系。Reactor 负责对组件进行排序，以确保以正确的顺序编译和安装相互依赖的模块。最后它使用相同的命令执行父项目。

当您在子 pom 中声明 liferay 插件时，子项目可以成功构建，当它尝试对父项目执行相同的命令时它会失败。

**解决方案：**

***选项 1：***将那些 liferay 插件声明移动到父 pom

***选项 2：***遵循@Michal Kalinowski 方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-05T18:44:38.527

为了解决这个问题，我遵循了以下方法，并且它有效。我的项目结构：

```
--liferay-core
|
-- portlet-one
|
-- portlet-two
|
-- theme-one
|
-- hook-one 
```

在这里，liferay-core 模块被定义为所有其他插件的父级，所有其他插件`<module>`在 liferay-core/pom.xml 中定义。此外，liferay-core/pom.xml 具有 liferay-maven-plugin 的插件定义。同样，每个插件也有 liferay-maven-plugin 的插件定义。见下面 liferay-core/pom.xml 的 pom.xml

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>

<artifactId>liferay-core</artifactId>
    <groupId>xxxx</groupId>
<packaging>pom</packaging>
    <version>0.0.1-SNAPSHOT</version>
<name>liferay-plugins</name>

<modules>       
    <module>./../portlet-clientsearch</module>
    <module>./../portlet-permission</module>
    <module>./../qpt-theme</module>
    <module>./../hook-post-login</module>
    <module>./../hook-quote-portal-autologin</module>
    <module>./../hook-post-logout</module>
</modules>

<properties>
    <liferay.auto.deploy.dir>C:/liferay-portal-6.1.20-ee-ga2/deploy</liferay.auto.deploy.dir>
    <liferay.version>6.1.20</liferay.version>
</properties>

<build>
    <plugins>
        <plugin>
            <groupId>com.liferay.maven.plugins</groupId>
            <artifactId>liferay-maven-plugin</artifactId>
            <version>${liferay.version}</version>
            <configuration>
                <autoDeployDir>${liferay.auto.deploy.dir}</autoDeployDir>
                <appServerDeployDir>${liferay.app.server.deploy.dir}</appServerDeployDir>
                <appServerLibGlobalDir>${liferay.app.server.lib.global.dir}</appServerLibGlobalDir>
                <appServerPortalDir>${liferay.app.server.portal.dir}</appServerPortalDir>
                <liferayVersion>${liferay.version}</liferayVersion>
                <pluginType>portlet</pluginType>
            </configuration>
        </plugin>
    </plugins>
</build> 
```

# mysql - 如何在 MySQL 中重置表的自增列

> ID：10753511
> 
> 赞同：2
> 
> 时间：2012-05-25T11:21:32.390
> 
> 标签：mysql, sql, phpmyadmin, auto-increment

我有一个表，它的第一列`sl`是自动递增的。填充表格后，我删除了前两行，第一个条目有`sl`1。是否可以将其重置为 1 维护 AI？我正在使用 PHP MyAdmin。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:27:25.817

```
ALTER TABLE tablename AUTO_INCREMENT = 1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:33:47.710

我不确定我是否有你的问题，但如果你希望你的专栏`sl`重新编号`ALTER TABLE your_table DROP sl`，然后`ALTER TABLE your_table ADD sl your_definitions`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T10:35:57.440

如果您只想将自动编号重置回`1`您可以使用：

```
DBCC CHECKIDENT (tablename, RESEED, 0) 
```

或者

```
TRUNCATE TABLE tablename 
```

第一个选项将简单地重置您`auto-number counter`，而第二个选项将清除您的所有数据表并重置计数器。

这是你问的吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-13T10:34:03.867

尝试使用`ALTER TABLE tableName AUTO_INCREMENT=0;`. 下一条记录将以索引 1 输入。

# ios5 - CorePlot：XAxis 文本标签与 labelingPolicy 冲突

> ID：10753523
> 
> 赞同：1
> 
> 时间：2012-05-25T11:22:52.517
> 
> 标签：ios5, text, core-plot, policy, labeling

为什么在字符串标签中找不到与 CPTAxisLabelingPolicyNone 不同的 labelingPolicy ？？？

```
x.labelingPolicy = CPTAxisLabelingPolicyNone; 
```

![在此处输入图像描述](../Images/ad17d394e410c51f00e226a92e9a4869.png)

我想要这个 GRIDLineStyle，但带有我的文本标签：

```
x.labelingPolicy = CPTAxisLabelingPolicyFixedInterval 
```

![在此处输入图像描述](../Images/8abf63a750e5b05302c81e176c864f29.png)

我使用以下代码完成 xAxisLabels：

```
NSMutableArray *labels = [[NSMutableArray alloc] initWithCapacity:[labelsAxisX count]];
    int idx = 0;
    for (NSString *product in labelsAxisX)
    {
        CPTAxisLabel *label = [[CPTAxisLabel alloc] initWithText:product textStyle:x.labelTextStyle];
        label.tickLocation = CPTDecimalFromInt(idx);
        label.offset = 5.0f;
        [labels addObject:label];
        [label release];
        idx++;
    }

    x.axisLabels = [NSSet setWithArray:labels];
    [labels release]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T16:56:22.010

使用`CPTAxisLabelingPolicyNone`标签策略，除了制作标签外，您还需要提供刻度位置（主要和/或次要）。如果您更愿意使用固定间隔标签策略，您可以为返回文本标签而不是数字的轴制作自定义数字格式化程序。

这是一个改编自 Plot Gallery 示例应用中的 Labeling Policy Demo 的示例：

```
NSMutableSet *tickLocations = [NSMutableSet set];
for ( NSUInteger loc = 0; loc < labelsAxisX.count; loc++ ) {
    [tickLocations addObject:[NSDecimalNumber numberWithUnsignedInteger:loc]];
}
axis.majorTickLocations = tickLocations; 
```

次要刻度位置的工作方式相同。

# android - 如何在 Android 的 Sqlite 中使用复杂的 where 语句执行此查询？

> ID：10753524
> 
> 赞同：0
> 
> 时间：2012-05-25T11:22:57.083
> 
> 标签：android, sqlite, select, where

我有一个包含 100 列或更多列的表，其值可能为“是”或“否”。

我想根据用户的请求（复选框值表单）进行选择，以提取所有值为“yes”的行。所以一个例子可能是：

- 用户选择 checkbox1 checkbox4 和 checkbox7 并且所有其他都没有被选中。

查询可能是：

select name from table where (col1 = yes or col4 = yes or col7 = yes) A​​ND (col2= no and col3 = no and all other columns are set to no)

如何在 android 查询中实现这一点？顺便说一下，我发现这个实现不是很优雅，有人可以建议我实现这个目标的其他实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:32:22.923

这是固定代码。它包含一些测试代码。

```
 int numColumns = 10;
        boolean[] answers = new boolean[numColumns];
        String[] colNames = new String[numColumns];
        for(int i = 0; i < colNames.length; i++) {
            answers[i] = Math.random() > 0.5;
            colNames[i] = String.format("Col%d", i);
        }
        //-----------LOGIC STARTS HERE----------------
        // use a loop
        StringBuilder yesColumns = new StringBuilder();
        StringBuilder noColumns = new StringBuilder();
        for(int i = 0; i < answers.length; i++) {
            if(answers[i]) {
                if(yesColumns.length() > 0)
                    yesColumns.append(" OR ");

                yesColumns.append(colNames[i]).append("='yes'");
            }
            else {
                if(noColumns.length() > 0)
                    noColumns.append(" AND ");
                noColumns.append(colNames[i]).append("='no'");
            }
        }

        String yesCondition = yesColumns.toString();
        String noCondition = noColumns.toString();
        String query = String.format("select name from table where (%s) AND (%s)",
                                     yesCondition,
                                     noCondition);
        System.out.println(query);
        // SQLiteDatabase db;
        // Cursor cursor = db.rawQuery(query, null); 
```

# python - 使用序列创建的 numpy 数组

> ID：10753528
> 
> 赞同：17
> 
> 时间：2012-05-25T11:23:05.697
> 
> 标签：python, arrays, numpy, scipy, sequence

我正在从 MATLAB 过渡到 scipy(+numpy)+matplotlib。在实施某些事情时，我一直遇到问题。我想在三个不同的部分创建一个简单的向量数组。在 MATLAB 中，我会执行以下操作：

```
vector=[0.2,1:60,60.8]; 
```

这会产生一个 62 个位置的一维数组。我正在尝试使用 scipy 来实现这一点。我现在最接近的是：

```
a=[[0.2],linspace(1,60,60),[60.8]] 
```

但是，这会创建一个列表，而不是数组，因此我无法将其重塑为向量数组。但是，当我这样做时，我得到一个错误

```
a=array([[0.2],linspace(1,60,60),[60.8]])
ValueError: setting an array element with a sequence. 
```

我相信我的主要障碍是我不知道如何在 MATLAB 中翻译这个简单的操作：

```
a=[1:2:20]; 
```

麻木。我知道如何访问数组中的位置，尽管在创建序列时不知道。任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-05-26T11:11:37.520

NumPy使用*两个函数而不是一个函数来实现 MATLAB 的数组创建函数**vector* ——每个函数都隐含地指定了一个特定的轴，应该沿着该轴进行*连接*。这些功能是：

 ***   **r_**（逐行连接）和

*   **c_**（按列）

因此，对于您的示例，NumPy 等价物是：

```
>>> import numpy as NP

>>> v = NP.r_[.2, 1:10, 60.8]

>>> print(v)
     [  0.2   1\.    2\.    3\.    4\.    5\.    6\.    7\.    8\.    9\.   60.8] 
```

逐列对应的是：

```
>>> NP.c_[.2, 1:10, 60.8] 
```

*切片*符号按预期工作 [ *start:stop:step* ]：

```
>>> v = NP.r_[.2, 1:25:7, 60.8]

>>> v
  array([  0.2,   1\. ,   8\. ,  15\. ,  22\. ,  60.8]) 
```

尽管如果将*虚数*用作第三个参数，切片符号的行为类似于***linspace***：

```
>>> v = NP.r_[.2, 1:25:7j, 60.8]

>>> v
  array([  0.2,   1\. ,   5\. ,   9\. ,  13\. ,  17\. ,  21\. ,  25\. ,  60.8]) 
```

否则，它的行为类似于***arange***：

```
>>> v = NP.r_[.2, 1:25:7, 60.8]

>>> v
  array([  0.2,   1\. ,   8\. ,  15\. ,  22\. ,  60.8]) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-25T11:31:35.803

您可以尝试以下方法：

```
a = np.hstack(([0.2],np.linspace(1,60,60),[60.8])) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-25T11:57:13.850

Does `arange(0.2,60.8,0.2)` do what you want?

[http://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html](http://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-05-25T11:32:36.720

```
np.concatenate([[.2], linspace(1,60,60), [60.8]]) 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-05-25T12:20:51.070

我以某种方式喜欢构建您提到的这些分段范围的想法。如果你经常使用它们，也许是一个小功能，比如

```
import numpy as np

def segrange(*args):
    result = []
    for arg in args:
        if hasattr(arg,'__iter__'):
            result.append(range(*arg))
        else:
            result.append([arg])
    return np.concatenate(result) 
```

这给了你

```
>>> segrange(1., (2,5), (5,10,2))
[ 1\.  2\.  3\.  4\.  5\.  7\.  9.] 
```

会很高兴。虽然，我可能会使用 concatenate/hstack 来寻找答案。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-05-25T11:31:54.430

如果我正确理解 matlab，您可以使用以下方法完成类似的操作：

```
a=np.array([0.2]+list(range(1,61))+[60.8]) 
```

但可能有更好的方法......如果您使用的是 python 2.X ，则`list(range(1,61))`可能是这样。`range(1,61)`

这通过创建 3 个列表然后使用`+`运算符连接它们来工作。

你最初的尝试没有成功的原因是因为

`a=[ [0.2], np.linspace(1,60,60), [60.8] ]`创建一个列表列表——换句话说：

```
a[0] == [0.2] #another list (length 1)
a[1] == np.linspace(1,60,60) #an array (length 60)
a[2] == [60.8] #another list (length 1) 
```

该`array`函数需要一个可迭代的序列，或具有相同长度的序列序列。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-05-25T20:11:26.243

看看[`np.r_`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.r_.html)。它基本上等同于其他人的建议，但如果你来自 matlab，它会更直观（如果你来自任何其他语言，它有点违反直觉）。

例如，`vector=[0.2,1:60,60.8];`转换为：

```
vector = np.r_[0.2, 1:61, 60.8] 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-01-13T06:07:25.767

只是想指出从 MATLAB 到 Numpy 的任何其他人，您可以构造一个带有冒号的 np.r_ 数组，然后用它来索引

例如，如果你在 matlab

```
arr_ones = ones(10,10) 
```

或者在 Numpy 中

```
arr_ones = np.ones([10,10]) 
```

您可以在 Matlab 中只使用第 1 到第 5 列以及第 7 列，如下所示：

```
arr_ones(:,[1:5 7]) 
```

在 Numpy 中做同样的事情并不（至少对我而言）直观。这会给你一个“无效的语法”错误：

```
arr_ones[:,[1:5,7]] 
```

但是，这有效：

```
inds = np.r[1:5,]
arr_ones[:,inds] 
```

我知道这在技术上并不是一个新的答案，但是在 Matlab 中索引矩阵时使用冒号构造数组似乎很自然，我打赌很多来到这个页面的人都会想知道这一点。（我来这里而不是问一个新问题。）

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-05-04T02:26:48.883

**使用 numpy.repeat() 的最简单方法 ||| numpy.tile()**

```
a = np.array([1,2,3,4,5])

np.r_[np.repeat(a,3),np.tile(a,3)] 
```**

# php - php检查当前密码错误

> ID：10753532
> 
> 赞同：0
> 
> 时间：2012-05-25T11:23:18.757
> 
> 标签：php, mysql, html, css, database

由于某种原因，此代码未使用数据库检查当前密码，但它确实正确更改了密码。它还能够连接到我的数据库。它还可以检查新密码是否与确认新密码相同。这是正在运行的 php，这可能有什么问题：

```
<?php if(!defined('INCLUDE_CHECK')) header("Location: index.php"); ?>

<?php

/* irrelevant parts omitted */

if($_POST['submit']=='Change Password')
{
    // Checking whether the Change Password form has been submitted

    $err = array();
    // Will hold our errors

    if(!$_POST['password'] || !$_POST['newpassword'] || !$_POST['confirmpassword'])
        $err[] = 'All the fields must be filled in!';

    if(!count($err))
    {

        if($_POST['password'] != /* something should be here but i don't know what */)
            $err[] = 'Current password is incorrect!';

        if($_POST['newpassword'] != $_POST['confirmpassword'])
            $err[] = 'New passwords do not match!';

        if(!count($err))
        {           

            $pass = $_POST['confirmpassword'];

            mysql_query(
                            "UPDATE members 
                            SET pass='".md5($pass)."' 
                            WHERE id='{$_SESSION['id']}'"
                        );

            $_SESSION['msg']['change-password-success']='Success your password has been changed!';

        }       
    }

    if($err)
    $_SESSION['msg']['change-password-err'] = implode('<br />',$err);
    // Save the error messages in the session

    header("Location: change-password.php");
    exit;
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:28:36.430

> 由于某种原因，此代码未使用数据库检查当前密码，但它确实正确更改了密码。

...这实际上是您的代码吗？或者你的问题措辞不好？

```
if($_POST['password'] != /* something should be here but i don't know what */) 
```

因为没有检查密码是有原因的...

还：

> 它还能够连接到我的数据库并检查新密码是否与确认新密码相同。

不，不是——它只是根据用户键入的其他字段检查密码——它没有对数据库进行任何检查：

```
if($_POST['newpassword'] != $_POST['confirmpassword'])
        $err[] = 'New passwords do not match!'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:31:22.313

好吧，据我所知，您的脚本中没有任何地方可以调用数据库来检查现有记录...

```
$query = mysql_query("SELECT * FROM members WHERE id='{$_SESSION['id']}'");
$data = mysql_fetch_assoc($query);
if($data['pass'] == md5($_POST['confirmpassword'])){
echo "Old and new password matches";
} 
```

# apache - Codeigniter AMFPHP 无法实时运行

> ID：10753534
> 
> 赞同：0
> 
> 时间：2012-05-25T11:23:33.510
> 
> 标签：apache, codeigniter, permissions, webserver, amfphp

我正在开发一个基于 php flash 的应用程序并遵循[本教程](https://code.google.com/p/codeigniter203amfphp20/)。

在我的 PC 上一切正常，`localhost`但在实时服务器 CentOS 上却不行。

本教程指导将 amfphp 库保存在 application 下的目录中，并在 ' ' 中`librarires`创建控制器并将控制器作为服务。`gateway``controllers/amf``controllers/amf/services`

我已经正确地遵循了这一点，因此我能够在 localhost 上顺利运行它。此外，删除子目录`amf`也可以正常工作

在现场它给

```
Error #2044: Unhandled NetStatusEvent:. level=error, code=NetConnection.Call.BadVersion
    at amfphpconnection_fla::MainTimeline/frame1() 
```

来自 AS 的连接需要

```
http://domain.com/index.php/amf/gateway 
```

我尝试了不同的技巧来使其工作，我发现如果我将 /controller/services/serices 文件夹中的服务保存到 amf 本身所在的应用程序/库中并更改网关中服务的路径，那么 flash 就能够访问该文件当我将 Flash 中的路径更改为

```
http://domain.com/application/libraries/Amfphp/ 
```

但是，在我从服务文件中删除`extends CI_Controller`and`constructor function`或之前，它仍然无法正常运行。`get_instance()`放置任何一个都会引发相同的错误。这只是运行文件，但对我来说没用，因为它不能使用 CI 框架。

在 AS 中使用控制器路径是必需的，**我认为这与文件访问权限有关，**因为它在 pc 上而不是在 linux 上工作正常。

我也尝试查看**Apache 错误日志**，但没有任何可能出现错误的迹象。

看了很多网站寻求帮助，但还没有成功..

还在[项目站点](https://code.google.com/p/codeigniter203amfphp20/issues/detail?id=4)本身发布了错误，但目前还没有更新

任何帮助，将不胜感激

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T00:26:38.703

我遇到了同样的问题，阅读我在 Windows 上看到的 AMFPHP 网站，没有敏感的案例文件。

因此，在 CI 中，他们说，“将您的类命名为 'myclass.php' 并在内部声明 My_class 扩展 CI_Controller”。我在 Flash 中做了什么？我调用了“My_c​​lass”服务。由于我使用 Windows 到 localhost，AMFPHP 可以找到该文件并正常工作。

但不在Linux上。因此，在 Flash 中，我调用了“this.connection.call("my_class", "mymethod", etc)" 并且一切正常。

希望这对某人有用。因此，如果您在 Linux 环境中部署，请仔细检查 AMF 调用的大小写拼写，并确保您**从 flash 中调用 gateway.php****服务文件**的完美名称，而**不是**文件中的类名称.

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:16:59.493

我也遇到了这个问题，我正在 OSX 上开发，我看到了错误

faultString => 未找到 Testservice 服务

和这个...

*faultDetail => #0 /home/myserver.com/public_html/project/ci/application/libraries/Amfphp/Core/Common/ServiceRouter.php(100): Amfphp_Core_Common_ServiceRouter->getServiceObject('Testservice') 1 /home/myserver .com/public_html/project/ci/application/libraries/Amfphp/Core/Amf/Handler.php(107): Amfphp_Core_Common_ServiceRouter->executeServiceCall('Testservice', 'getAll', Array) 2 /home/myserver.com/public_html /project/ci/application/libraries/Amfphp/Core/Amf/Handler.php(138): Amfphp_Core_Amf_Handler->handleRequestMessage(Object(Amfphp_Core_Amf_Message), Object(Amfphp_Core_Common_ServiceRouter)) 3 /home/myserver.com/public_html/project/ci /application/libraries/Amfphp/Core/Gateway.php(199): Amfphp_Core_Amf_Handler->handleDeserializedRequest(Object(Amfphp_Core_Amf_Packet),对象（Amfphp_Core_Common_ServiceRouter））4 /home/myserver.com/public_html/project/ci/application/controllers/amf/gateway.php（39）：Amfphp_Core_Gateway->service（）5 /home/myserver.com/public_html/project/ ci/system/core/CodeIgniter.php(339): Gateway->index() 6 /home/myserver.com/public_html/project/ci/index.php(202): require_once('/home/ncubator/.. .') 7 {主}*

我使用的文件来自谷歌代码页，我没有更改网关文件。我刚刚更改了 testservice.php 内容以适合我的项目。我的基本网址是

[http://myserver.com/project/ci/index.php/amf/gateway](http://myserver.com/project/ci/index.php/amf/gateway)。

您能否介绍一下您提出的解决方案？

谢谢！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T11:19:42.543

好吧，据我所知，通过`AMFPHP`Flash 进行的 Flash 通信只接受它所期望的，如果它们是除此之外的**任何东西/在此之前**导致`Bad Connect`Flash 结束时出错......正如我已经在评论中提到的那样，`ppalmeid's`我的问题是由于将第三方纳入`library that was loading automatically`其中**`printing some HTML characters in the output that was causing the Flash to blow`**。

只需检查屏幕上出现的任何字面上的任何**字符/警告/通知**等。

希望这可以帮助其他面临同样问题的人。

问候朱奈德

# c# - gridview 删除行

> ID：10753536
> 
> 赞同：0
> 
> 时间：2012-05-25T11:23:35.167
> 
> 标签：c#, asp.net, gridview

我正在尝试从 gridview 中删除行 - 但是当我这样做时，它会从其他行中的其他控件中删除当前值。

删除随机行后，我也收到以下错误。

`Index was out of range. Must be non-negative and less than the size of the collection. Parameter name: index`

```
protected void gvShoppingCart_RowCommand(object sender, GridViewCommandEventArgs e)
{
    //This is the method that responds to the Remove button's click event
    #region remove item

    if (e.CommandName == "Remove")
    {
        int rowid = Convert.ToInt32(e.CommandArgument);
        //Response.Write(rowid);
        // Response.End();
        //Gridview1.DeleteRow(rowid);
        //Response.Write(Convert.ToInt32(e.CommandArgument));
        // Response.End();
        int rowIndex = rowid;
        if (ViewState["CurrentTable"] != null)
        { 
            DataTable dtCurrentTable = (DataTable)ViewState["CurrentTable"];

            DataRow drCurrentRow = null;

            if (dtCurrentTable.Rows.Count > 0)
            {
                for (int i = 0; i < dtCurrentTable.Rows.Count; i++)
                {
                    TextBox box1 = (TextBox)Gridview1.Rows[rowIndex - 1].Cells[1].FindControl("TextBox1");

                    TextBox box2 = (TextBox)Gridview1.Rows[rowIndex - 1].Cells[2].FindControl("TextBox2");

                    TextBox box3 = (TextBox)Gridview1.Rows[rowIndex - 1].Cells[3].FindControl("TextBox3");

                    TextBox box4 = (TextBox)Gridview1.Rows[rowIndex - 1].Cells[4].FindControl("TextBox4");
                    TextBox box5 = (TextBox)Gridview1.Rows[rowIndex - 1].Cells[5].FindControl("TextBox5");
                    box1.Text = dtCurrentTable.Rows[i]["Column1"].ToString();

                    box2.Text = dtCurrentTable.Rows[i]["Column2"].ToString();

                    box3.Text = dtCurrentTable.Rows[i]["Column3"].ToString();

                    box4.Text = dtCurrentTable.Rows[i]["Column4"].ToString();
                    box5.Text = dtCurrentTable.Rows[i]["Column5"].ToString();
                }

                dtCurrentTable.Rows.RemoveAt(rowid - 1);

                /*dtCurrentTable.Rows[i - 1]["Column1"] = box1.Text;

                dtCurrentTable.Rows[i - 1]["Column2"] = box2.Text;

                dtCurrentTable.Rows[i - 1]["Column3"] = box3.Text;
                dtCurrentTable.Rows[i - 1]["Column4"] = box4.Text;
                dtCurrentTable.Rows[i - 1]["Column5"] = box5.Text;*/
            }

            ViewState["CurrentTable"] = dtCurrentTable;

            Gridview1.DataSource = dtCurrentTable;

            Gridview1.DataBind();   
        }
        else
        {
            Response.Write("ViewState is null");
        }
    }
} 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:59:02.883

change your condition to...

```
if (dtCurrentTable.Rows.Count > 0 && dtCurrentTable.Rows.Count > rowIndex) 
```

NOTE: are you sure e.CommandArgument is giving index of that particular row ?

# scala - 发现：所需单位：Int - 如何更正此问题？

> ID：10753542
> 
> 赞同：1
> 
> 时间：2012-05-25T11:23:58.133
> 
> 标签：scala

```
scala> class Rectangle (Length: Int, Width: Int) {; def getLlength (): Int = println (Length); def getWidth ():Int = println (Width); }
<console>:11: error: type mismatch;
 found   : Unit
 required: Int
       class Rectangle (Length: Int, Width: Int) {; def getLlength (): Int = println (Length:Int); def getWidth ():Int = println (Width:Int); }
                                                                                     ^
<console>:11: error: type mismatch;
 found   : Unit
 required: Int
       class Rectangle (Length: Int, Width: Int) {; def getLlength (): Int = println (Length:Int); def getWidth ():Int = println (Width:Int); }
                                                                                                                                 ^ 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-25T11:29:47.153

我可以告诉你哪里出错了，但你想在这里做什么并不完全清楚。

您已将`getLlength`(sic) 方法声明为返回类型为`Int`. 但是，这个方法的主体只是一个`println`调用，所以它会返回这个调用的结果。 `println`有一个返回类型`Unit`（因为它什么都不返回，并且只为它的副作用而执行）。

因此，您的方法被*声明*为 return `Int`，但您已经以它的返回类型为`Unit`. 这就是您收到编译时错误的原因。

你想让你的方法返回长度吗？如果是这样，您应该只返回`Length`而不是打印它。然而，更好的方法是 Scala 将构造函数参数标记为 a `val`，这将自动为其生成访问器：

```
class Rectangle(val Length: Int, ... 
```

现在，任何引用例如`Rectangle rect`对象的人都可以调用`rect.Length`来获取长度。这实际上是在 Scala 中访问字段和类字段属性的首选方式，而不是 Java 使用的**get** Foo 约定。

* * *

如果您真的只想要一个允许某人访问命名参数的“容器”类，请考虑[case classes](http://www.scala-lang.org/node/107)。您可以将功能等效的类定义为

```
case class Rectangle(length: Int, width: Int) 
```

`toString()`这会自动为 sensible和implementations这两个字段生成访问器方法`equals()`-`hashCode()`您还可以获得模式匹配作为额外的奖励。

任何时候你想要一个主要/完全只是一组字段的类，案例类应该是你的起点。

* * *

另请注意，Scala 中的变量按照惯例是 lowerCamelCase。`Length`使用大类名称（即，而不是）声明字段/构造函数参数`length`对于阅读您的代码的人来说是令人惊讶的混乱，因此您将通过遵守约定为您自己和其他所有人提供帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:28:14.527

错误消息告诉您 println 的返回类型为 Unit，因此由于您的 getLlength 方法返回 println 的结果，因此它将返回 Unit。这是一个错误，因为您说 getLlength 的返回类型应该是 Int。

如果您希望您的 getLlength 方法打印长度，您可能应该将其返回类型更改为 Unit（并将名称更改为明确的名称）。

如果您希望 getLlength 方法返回长度，则不应调用 println，而应仅返回长度。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-09-14T12:57:40.003

如果您想打印出 Length 和 width 的值并将方法的返回类型保持为 Int，则可以使用类似这样的结构。

```
class Rectangle (Length: Int, Width: Int) {
 def getLlength (): Int ={ println (Length); Length}
 def getWidth ():Int = {println (Width); Width}
 } 
```

在 scala 中发生的事情是编译器始终将方法的最后一行视为 return 语句，因此当您只是在方法体中编写 println() 时，Scala 编译器假设它也是您的 return 语句并且在println() 的 Scala 返回类型是 Unit，这就是您收到此错误的原因。因此，如果您希望 Int 作为您的返回类型，您只需要再添加一行作为方法的最后一行，即您的 Int 参数长度或宽度。

# javascript - 如何在 Ace Editor 中格式化 XML 代码？

> ID：10753543
> 
> 赞同：3
> 
> 时间：2012-05-25T11:24:01.407
> 
> 标签：javascript, ace-editor

我正在使用 ACE Editor 在我的网页上显示 xml 内容。我想在编辑器中格式化 xml 代码。

谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-19T13:16:07.283

XML Code formatting is not specified in Ace itself, as it's just an editor. Use any of the answers in [this question](https://stackoverflow.com/questions/376373/pretty-printing-xml-with-javascript) to prettify the code.

```
var code = ace.getSession().getValue();
// prettify
ace.getSession().setValue(code); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-25T12:01:49.907

包中包含多种模式[，github 上的 Wiki](https://github.com/ajaxorg/ace/wiki)将告诉您如何实现它。像这样的东西：

```
var Mode = require('ace/mode/xml').Mode;
editor.getSession().setMode(new Mode()); 
```

# javascript - 提高排序的性能

> ID：10753545
> 
> 赞同：1
> 
> 时间：2012-05-25T11:24:10.330
> 
> 标签：javascript, sorting, underscore.js

```
var sorted = results.sort(function (a, b) {
    var nameA = "";
    var nameB = "";
    var str1 = a.date.toLowerCase() + " " + a.time;
    var str2 = b.date.toLowerCase() + " " + b.time;

    if (a.date.toLowerCase() != "" && a.time!= "") 
     nameA = Date.parse(new Date(str1))

    if (b.date.toLowerCase() != "" && b.time!= "") 
     nameB = Date.parse(new Date(str2))

    return nameA === nameB ? 0 : nameA < nameB ? -1 : 1;

}); 
```

1.  如果我的排序方式有任何错误，任何人都可以改进代码。有没有更好的方法？
2.  我该如何实现`http://underscorejs.org/#sortBy`上述排序。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:28:43.907

代码中的一个主要瓶颈是您在每次排序操作中都重新计算 nameA/nameB。考虑到数组中的每个元素都可能参与多次比较，这是很多不必要的工作。您应该首先使用相同的算法构建排序索引，然后使用它进行排序。您还可以将排序键存储在您排序的同一对象中，这样您就可以检查它是否在这里，如果是，则不要重新计算它。

代码中的另外两件事是绝对不必要的：`.toLowerCase`与空字符串比较和生成无用`Data`对象时，`Data.parse`已经明确指定使用字符串。

我已经做了两个改进排序的版本——一个带有辅助函数（更漂亮，在意识形态上更正确）和内联——可能会在某些 JS 引擎上提供一些额外的加速。它们的运行速度都比原来的快大约 3000 倍：http: [//jsperf.com/custom-date-sort](http://jsperf.com/custom-date-sort)。

（哦，辅助函数恰好适合您的下划线 sortBy 问题）。

有帮手：

```
function fill_datetime_ms(obj){
    if (obj.date == "" || obj.time == ""){
        return obj.dateTimeMs = ""
    } else {
        return obj.dateTimeMs = Date.parse(obj.date.toLowerCase() + " " + obj.time)
    }
}

var sorted = results.sort(function (a, b) {
    var nameA = a.dateTimeMs
    var nameB = b.dateTimeMs
    if (!nameA && nameA !== "" && !nameA !== 0){
    nameA = fill_datetime_ms(a)
    }
    if (!nameB && nameB !== "" && !nameB !== 0){
        nameB = fill_datetime_ms(b)
    }

    return nameA === nameB ? 0 : nameA < nameB ? -1 : 1;
}); 
```

排队：

```
var sorted = results.sort(function (a, b) {
    var nameA = a.dateTimeMs
    var nameB = b.dateTimeMs
    if (!nameA && nameA !== "" && !nameA !== 0){
        if (a.date == "" || a.time == ""){
            nameA = a.dateTimeMs = ""
        } else {
            nameA = a.dateTimeMs = Date.parse(a.date.toLowerCase() + " " + a.time)
        }
    }
    if (!nameB && nameB !== "" && !nameB !== 0){
        if (b.date == "" || b.time == ""){
            nameB = b.dateTimeMs = ""
        } else {
            nameB = b.dateTimeMs = Date.parse(b.date.toLowerCase() + " " + b.time)
        }
    }

    return nameA === nameB ? 0 : nameA < nameB ? -1 : 1;
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:02:11.520

最好的办法是让你的 a 和 b 对象从一开始就已经计算好了。比您只需循环而无需处理它。或者按照奥列格所说的存储它。

# .htaccess - Magento .htaccess

> ID：10753546
> 
> 赞同：0
> 
> 时间：2012-05-25T11:24:12.123
> 
> 标签：.htaccess, url, magento, url-rewriting, seo

正确的，

什么是强制尾部斜杠/不淘汰整个网站、css部分或管理员的最终方法。我目前在magento admin 中为类别后缀使用'/'。但这并不强迫它。

我尝试了在互联网上找到的多种解决方案，每个解决方案在访问选定页面时都有效。但不允许 JS 或 CSS 通过。一个按预期在前端工作，然后淘汰管理员。

```
RewriteRule ^(.*)([^/])$ http://%{HTTP_HOST}/$1$2/ [L,R=301] 
```

是我把它放在上面最接近工作的地方：

```
## rewrite everything else to index.php
RewriteRule .* index.php [L] 
```

但这在前端有效，但通过删除 CSS 和 JS 等关键内容破坏了管理面板。

为什么不只是一种有限的方式来强制尾随/而不破坏magento。Magento 的默认 htaccess 文件似乎相当复杂，但关于如何获得各种结果的综合文档却很少。

任何帮助都得到了很大的帮助。安迪。

*编辑

```
############################################
## uncomment these lines for CGI mode
## make sure to specify the correct cgi php binary file name
## it might be /cgi-bin/php-cgi

#    Action php5-cgi /cgi-bin/php5-cgi
#    AddHandler php5-cgi .php

############################################
## GoDaddy specific options

#   Options -MultiViews

## you might also need to add this line to php.ini
##     cgi.fix_pathinfo = 1
## if it still doesn't work, rename php.ini to php5.ini

############################################
## this line is specific for 1and1 hosting

    #AddType x-mapp-php5 .php
    #AddHandler x-mapp-php5 .php

############################################
## default index file

    DirectoryIndex index.php

<IfModule mod_php5.c>

############################################
## adjust memory limit

#    php_value memory_limit 64M
    php_value memory_limit 256M
    php_value max_execution_time 18000

############################################
## disable magic quotes for php request vars

    php_flag magic_quotes_gpc off

############################################
## disable automatic session start
## before autoload was initialized

    php_flag session.auto_start off

############################################
## enable resulting html compression

    #php_flag zlib.output_compression on

###########################################
# disable user agent verification to not break multiple image upload

    php_flag suhosin.session.cryptua off

###########################################
# turn off compatibility with PHP4 when dealing with objects

    php_flag zend.ze1_compatibility_mode Off

</IfModule>

<IfModule mod_security.c>
###########################################
# disable POST processing to not break multiple image upload

    SecFilterEngine Off
    SecFilterScanPOST Off
</IfModule>

<IfModule mod_deflate.c>

############################################
## enable apache served files compression
## http://developer.yahoo.com/performance/rules.html#gzip

    # Insert filter on all content
    ###SetOutputFilter DEFLATE
    # Insert filter on selected content types only
    #AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript

    # Netscape 4.x has some problems...
    #BrowserMatch ^Mozilla/4 gzip-only-text/html

    # Netscape 4.06-4.08 have some more problems
    #BrowserMatch ^Mozilla/4\.0[678] no-gzip

    # MSIE masquerades as Netscape, but it is fine
    #BrowserMatch \bMSIE !no-gzip !gzip-only-text/html

    # Don't compress images
    #SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary

    # Make sure proxies don't deliver the wrong content
    #Header append Vary User-Agent env=!dont-vary

</IfModule>

<IfModule mod_ssl.c>

############################################
## make HTTPS env vars available for CGI mode

    SSLOptions StdEnvVars

</IfModule>

<IfModule mod_rewrite.c>

############################################
## enable rewrites

    Options +FollowSymLinks
    RewriteEngine on

############################################
## you can put here your magento root folder
## path relative to web root

    #RewriteBase /magento/

############################################
## uncomment next line to enable light API calls processing

#    RewriteRule ^api/([a-z][0-9a-z_]+)/?$ api.php?type=$1 [QSA,L]

############################################
## rewrite API2 calls to api.php (by now it is REST only)

    RewriteRule ^api/rest api.php?type=rest [QSA,L]

############################################
## workaround for HTTP authorization
## in CGI environment

    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

############################################
## TRACE and TRACK HTTP methods disabled to prevent XSS attacks

    RewriteCond %{REQUEST_METHOD} ^TRAC[EK]
    RewriteRule .* - [L,R=405]

############################################
## redirect for mobile user agents

    #RewriteCond %{REQUEST_URI} !^/mobiledirectoryhere/.*$
    #RewriteCond %{HTTP_USER_AGENT} "android|blackberry|ipad|iphone|ipod|iemobile|opera mobile|palmos|webos|googlebot-mobile" [NC]
    #RewriteRule ^(.*)$ /mobiledirectoryhere/ [L,R=302]

############################################
## always send 404 on missing files in these folders

    RewriteCond %{REQUEST_URI} !^/(media|skin|js)/

############################################
## never rewrite for existing files, directories and links

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-l

############################################
## rewrite everything else to index.php

    RewriteRule .* index.php [L]

</IfModule>

############################################
## Prevent character encoding issues from server overrides
## If you still have problems, use the second line instead

    AddDefaultCharset Off
    #AddDefaultCharset UTF-8

<IfModule mod_expires.c>

############################################
## Add default Expires header
## http://developer.yahoo.com/performance/rules.html#expires

    ExpiresDefault "access plus 1 year"

</IfModule>

############################################
## By default allow all access

    Order allow,deny
    Allow from all

###########################################
## Deny access to release notes to prevent disclosure of the installed Magento version

    <Files RELEASE_NOTES.txt>
        order allow,deny
        deny from all
    </Files>

############################################
## If running in cluster environment, uncomment this
## http://developer.yahoo.com/performance/rules.html#etags

#FileETag none 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-09-26T20:11:42.470

在 .htaccess 文件中的 RewriteRule 之前添加以下这些行。这将解决您的问题。

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !.*\.(ico|gif|jpg|jpeg|png|js|css) 
```

对不以列出的扩展名结尾的不存在文件的所有请求（不区分大小写匹配）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-14T11:51:03.197

试试这个，就在下面`RewriteEngine on`，所以它在其他任何东西之前运行，而不是在任何其他重写条件之间。

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*[^/])$ /$1/ [L,QSA,R=301] 
```

这里的关键是在执行规则之前检查 URL 是否是一个有效的文件，所以它不会影响 css/js/images。此外，QSA 部分将确保保留 URL 中的任何查询参数。

如果出于任何原因您需要特定 URL 的例外，请在 RewriteRule 之前添加此行： `RewriteCond %{REQUEST_URI} ^/myExceptionURL.*$ [NC]`

# image - 从 URL 读取字节码经典 asp

> ID：10753549
> 
> 赞同：1
> 
> 时间：2012-05-25T11:24:39.457
> 
> 标签：image, asp-classic, bytecode

[http://www.jiemai.com/imagesupload/1582/middle/0858-1-001.jpg](http://www.jiemai.com/imagesupload/1582/middle/0858-1-001.jpg)

我想在经典 ASP 中将上述图像 URL 保存为名称为“0858-1-001.jpg”的文件。如果有人帮助我，我真的很感激。我试图使用许多 asp 脚本来读取该字节码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-29T22:26:52.560

这里没有服务器，但这里是经过测试的 vbscript 版本，要在 asp 中使用它，您只需将 creatObject 替换为 Server.CreateObject

```
function download(url, destination)
  download = false
  on error resume next
  set xml = CreateObject("Microsoft.XMLHTTP")
  xml.Open "GET", url, False
  xml.Send
  if err.number = 0 then
    if xml.readystate = 4 then
      if xml.status = 200 then 
        wscript.echo xml.readystate
        wscript.echo xml.status
        set oStream = createobject("Adodb.Stream")
        const adTypeBinary = 1,  adSaveCreateOverWrite = 2, adSaveCreateNotExist = 1 
        oStream.type = adTypeBinary
        oStream.open
        oStream.write xml.responseBody
        oStream.saveToFile destination, adSaveCreateOverWrite
        oStream.close
        set oStream = nothing
        download = true
      end if
    end if
  end if
  set xml = Nothing
end function 
```

# comments - 如何在 plone4 的 plone.app.discussion 评论中添加新字段

> ID：10753555
> 
> 赞同：0
> 
> 时间：2012-05-25T11:25:10.440
> 
> 标签：comments, plone

我想为匿名用户添加一个新的字段电子邮件到 plone.app.discussion 评论。我在谷歌搜索并找到了两种方法。

**方法 1：**使用 quintagroup 产品“quintagroup.plonecommments”。使用这种方法，我的克隆机正在崩溃。

**方法 2：**按照 URL 中给出的过程：[http](http://packages.python.org/plone.app.discussion/howtos/howto_extend_the_comment_form.html) ://packages.python.org/plone.app.discussion/howtos/howto_extend_the_comment_form.html 。这种方法行不通。

任何人都可以为我的要求提供任何解决方案。

## 方法1的追溯：

Traceback (innermost last):
Module ZPublisher.Publish, line 126, in publish
Module ZPublisher.mapply, line 77, in mapply
Module ZPublisher.Publish, line 46, in call_object
Module plone.z3cform.layout, line 71, in **call**
Module plone .z3cform.layout，第 91 行，在渲染
模块 Products.Five.browser.pagetemplatefile，第 125 行，在**调用**
模块 Products.Five.browser.pagetemplatefile，第 59 行，在**调用**
模块 zope.pagetemplate.pagetemplate，第 113 行，在 pt_render
模块 zope.tal.talinterpreter，第 271 行，**调用**
中 模块 zope.tal.talinterpreter，第 343 行，解释中
模块 zope.tal.talinterpreter，第 888 行，do_useMacro
模块 zope.tal.talinterpreter，第 343 行，在解释
模块 zope.tal.talinterpreter，第 533 行，在 do_optTag_tal
模块 zope.tal.talinterpreter，第 518 行，在 do_optTag
模块 zope.tal.talinterpreter，第 513 行，在 no_tag
模块 zope .tal.talinterpreter，第 343 行，在解释
模块 zope.tal.talinterpreter，第 888 行，在 do_useMacro
模块中 zope.tal.talinterpreter，第 343 行，在解释
模块 zope.tal.talinterpreter，第 533 行，在 do_optTag_tal
模块中 zope.tal .talinterpreter，第 518 行，do_optTag
模块 zope.tal.talinterpreter，第 513 行，no_tag
模块 zope.tal.talinterpreter，第 343 行，解释
模块 zope.tal.talinterpreter，第 946 行，do_defineSlot
模块 zope.tal.talinterpreter，第 343 行，在解释
模块 zope.tal.talinterpreter，第 533 行，在 do_optTag_tal
模块 zope.tal.talinterpreter，第 518 行，在 do_optTag
模块 zope.tal.talinterpreter，第 513 行，在 no_tag
模块 zope .tal.talinterpreter，第 343 行，在解释
模块 zope.tal.talinterpreter，第 954 行，在 do_defineSlot
模块中 zope.tal.talinterpreter，第 343 行，在解释
模块 zope.tal.talinterpreter，第 533 行，在 do_optTag_tal
模块中 zope.tal .talinterpreter，第 518 行，do_optTag
模块 zope.tal.talinterpreter，第 513 行，no_tag
模块 zope.tal.talinterpreter，第 343 行，解释
模块 zope.tal.talinterpreter，第 946 行，do_defineSlot
模块 zope.tal.talinterpreter，第 343 行，在解释
模块 zope.tal.talinterpreter，第 405 行，在 do_startTag
模块 zope.tal.talinterpreter，第 482 行，在 attrAction_tal
模块 Products.PageTemplates.Expressions，第 225 行，在评估文本
模块 zope .tales.tales，第 696 行，在评估中
- URL：c:\plone41\eggs\plone.app.discussion-2.0.10-py2.6.egg\plone\app\discussion\browser\controlpanel.pt
- 第 17 行，第 0 列
- 表达式：<PathExpr 标准：u'view/settings'>
- 名称：
{'args': ()，
'container'：<PloneSite at /test>，
'context'：<PloneSite at /test>，
'default': <object object at 0x00991830>,
'here': <PloneSite at /test>,
'环形'： {}，
“无”：无，
“选项”：{}，
“重复”：<Products.PageTemplates.Expressions.SafeMapping 对象位于 0x06995CF0>，
“请求”：<HTTPRequest，URL=http://localhost:8080/test/@ @discussion-settings>,
'root': <Application at >,
'template': <Products.Five.browser.pagetemplatefile.ViewPageTemplateFile object at 0x051C5490>,
'traverse_subpath': [],
'user': <PropertiedUser 'admin' >,
'view': <Products.Five.metaclass.DiscussionSettingsControlPanel object at 0x06AF07B0>,
'views': <Products.Five.browser.pagetemplatefile.ViewMapper object at 0x06A28450>}
模块 zope.tales.expressions，第 217 行，在 _eval 中**调用**
Module Products.PageTemplates.Expressions，第 155 行
模块 Products.PageTemplates.Expressions，第 117 行，在渲染
模块 plone.app.discussion.browser.controlpanel，第 128 行，设置
IndexError：元组索引超出范围

**对于 Approach2，我没有收到任何错误，但网站中没有任何反映。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-29T05:07:34.253

您提供的错误跟踪看起来像一个已知的 plone.app.discussion 错误。请升级到 plone.app.discussion 2.1.5 进行修复。

正如 Martijn 已经指出的那样，您必须提供更多信息和完整的回溯，否则人们无法真正帮助您。只是提供“这种方法不起作用”。使人们无法提供帮助。

# jquery - 4个方向的jQuery全屏幻灯片

> ID：10753557
> 
> 赞同：1
> 
> 时间：2012-05-25T11:25:12.170
> 
> 标签：jquery, css, slideshow

简单的问题，但答案可能更难。我无法计算出对这个[http://www.socketstudios.com/](http://www.socketstudios.com/)网站的影响。它基本上是响应式和全屏演示。有 scrollTo 插件，它不再可用，所以我正在寻找替代品，因为我不确定它是否是导致效果的原因，即使是，如果你需要更多插件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T13:24:53.077

为了调整图像的大小，他们使用了一个监听`resize`事件的脚本。

```
$(window).resize(function() {             
var top_target = '#work'+current_section;
var $main = $('#main');
$main.scrollTo(top_target);

var i=0;
    for (i=0;i<=15;i++)
    {
  var $container = $('#work'+i);
  var left_target = '#workcontent1';
  $container.scrollTo(left_target);
    }

var left_target = '#workcontent'+current_image;
var $work_container = $('#work'+current_section);
$work_container.scrollTo(left_target);

// Get Window Size

var myWidth = 0, myHeight = 0;

myWidth = $(window).width();
myHeight = $(window).height();

if(myHeight >= 900){
    image_height = 900;
    image_width = 1350;
}
else{
    image_height = myHeight;
    image_width = image_height * 1.5;
}

 // Set Image Offset

var $imgcont = $('.imgcontainer');

$imgcont.css('width', +image_width);
    $imgcont.css('margin-top', +image_height / -2 + "px");
$imgcont.css('margin-left', +image_width / -2 + "px");
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T13:07:22.883

你可以是一个忍者，使用循环插件，然后使用向上、向下、向左滚动，将 div 设置为页面大小，并将按钮置于固定位置。这需要一个 jQuery 库。

[http://jquery.malsup.com/cycle/int2.html](http://jquery.malsup.com/cycle/int2.html)

很酷的主意！:D 所以一个正常的上下滚动，每个上下都有一个上一个和下一个，但正如我所说，你必须肯定是一个忍者。

# android - 如何在 Android 模拟器中将文件添加到 SD 卡？

> ID：10753558
> 
> 赞同：4
> 
> 时间：2012-05-25T11:25:16.493
> 
> 标签：android, file, emulation

所以我创建了一个新的 Android 模拟器，现在想将文件添加到 SD 卡。我怎么做？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-25T11:31:29.037

如果您使用的是 Eclipse，

1) 打开模拟器 2) 在 Eclipse 中，选择 Menu => Window => Show View => Other => Android => File Explorer

它将在屏幕底部打开文件资源管理器窗口。

在文件资源管理器窗口的右上角，有推送文件和拉取文件选项。推送文件将文件推送到模拟器，拉文件将从模拟器中获取文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:48:20.387

在日食中，

1) 打开模拟器 2) 在 Eclipse 中，选择 Menu -> Window -> Show View -> Other -> Android -> File Explorer

它将在屏幕底部打开文件资源管理器窗口。

在文件资源管理器窗口的右上角，有推送文件和拉取文件选项。推送文件将文件推送到模拟器，拉文件将从模拟器中获取文件。

文件资源管理器 -> mnt -> sdcard

然后选择标题上的按钮并将您的文件推送到android模拟器中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:34:55.827

[这](https://stackoverflow.com/questions/2808632/manually-put-files-to-android-emulator-sd-card)将对您有所帮助，对我有所帮助，也可以使用[另一个链接。](http://www.streamhead.com/android-tutorial-sd-card/)所以检查两者。告诉我它对你有没有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T11:34:24.317

如果你想使用命令行

```
adb shell 
```

在手机上打开一个外壳，然后

```
adb push <localfile> <remotefile> 
```

# jquery - (Jquery Pikachoose Jcarousel) png 图形故障，过渡期间阴影“脉动”？

> ID：10753561
> 
> 赞同：-1
> 
> 时间：2012-05-25T11:25:39.100
> 
> 标签：jquery, png, fade

你可以在这里看到它发生：

[http://www.smooth-media.co.uk/clients/BCD](http://www.smooth-media.co.uk/clients/BCD)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:35:00.243

您在“pika-ani”类的 div 中有大量的 div，它们与您的图片具有相同的背景。如果用阴影覆盖多个 PNG，则会导致阴影变暗。我的猜测是当这些 div 淡出时会发生脉冲。那些 div 是由 JCarousel 生成的，我会取出你自己的循环图像，因为我觉得这些 div 与你的图像加倍。

# java - 超出允许范围 (0..65535) 的无效行号 (65536)

> ID：10753562
> 
> 赞同：28
> 
> 时间：2012-05-25T11:25:48.317
> 
> 标签：java, file-io, xls

我正在从文本文件中读取整数，将它们作为查询的输入并获取查询输出并写入 xls 文件。

```
ResultSet rs;
Connection con = null;
PreparedStatement ps = null;
int person_org_id, external_person_org_id;
File f = null;
Scanner scan = null;

try {
    System.out.println("----------checkpoint-----------");
    Class.forName("oracle.jdbc.driver.OracleDriver");
    System.out.println("----------checkpoint 1-----------");
    con = DriverManager.getConnection("jdbc:oracle:thin:@ksdjf.kjdlk.jkd.com:2222:edb", "aaaaa", "aaaa");
    System.out.println("----------checkpoint 2 ----------");
    if (con == null) {
        System.out.println("unable to connect to database");
    }
    System.out.println("----------checkpoint 3::connected to database---------");
    StringBuffer sql = new StringBuffer();
    sql.append("select abd from edb.abd where customer_id=510 and person_org_id =? ");
    ps = con.prepareStatement(sql.toString());

    HSSFWorkbook wb = new HSSFWorkbook();
    HSSFSheet sheet = wb.createSheet("Excel Sheet");
    HSSFRow rowhead = sheet.createRow(0);
    rowhead.createCell(0).setCellValue("ABC");
    rowhead.createCell(1).setCellValue("DEF");

    f = new File("/tmp/contacts.txt");
    scan = new Scanner(f);
    int index=1;

    while (scan.hasNextInt()) {

        person_org_id = scan.nextInt();

        ps.setInt(1,person_org_id);
        rs= ps.executeQuery();

        while (rs.next()) {                 

            external_person_org_id = rs.getInt(1);

            HSSFRow row = sheet.createRow(index);
            row.createCell(0).setCellValue(person_org_id);
            row.createCell(1).setCellValue(external_person_org_id);
            index++;
        }           

    }   
    FileOutputStream fileOut = new FileOutputStream(new File("/tmp/External_contact_id.xls"));
    wb.write(fileOut);
    fileOut.close();
    System.out.println("--------checkpoint 4:: writing data to xls completed------------");
}
catch (Exception e) {
    System.out.println(e.getMessage());
} 
```

我收到错误`Invalid row number (65536) outside allowable range (0..65535)`

我的`contacts.txt`文件有大约 36000 个号码。

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-05-25T11:31:21.507

HSSF 以 Excel 版本 (Excel 2003) 为目标，该版本最多仅支持 65536 行。

您可以尝试改用较新的[XSSF](http://poi.apache.org/spreadsheet/index.html) API，它支持更高版本的 Excel，这些版本具有更宽松的行限制。

有一个[转换指南](http://poi.apache.org/spreadsheet/converting.html)可以帮助您在两个 API 之间进行转换。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:34:17.670

如果您在文本文件中只有 36000 项，则肯定有其他问题。

创建一个小样本，比如说 100 个条目，然后用它进行测试。

如果可以，请仔细查看生成的 Excel 文件。看起来好像以下代码是您的问题：

```
while(rs.next()){                   

        external_person_org_id = rs.getInt(1);

        HSSFRow row = sheet.createRow(index);
            row.createCell(0).setCellValue(person_org_id);
            row.createCell(1).setCellValue(external_person_org_id);
            index++;
        } 
```

我只是在猜测，但是 index++ 在 WHILE 中的事实不会导致它每次为记录集中的每个条目创建一个新行吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:27:23.667

Excel（也许只有旧版本）只允许 65535 行。

这是 Excel 2003 限制的[链接](http://office.microsoft.com/en-us/excel-help/excel-specifications-and-limits-HP005199291.aspx)，实际上是 65535 行。它在 2010 年增加到[1,048,576](http://office.microsoft.com/en-us/excel-help/excel-specifications-and-limits-HP010342495.aspx?CTT=5&origin=HP005199291)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-08T09:41:29.453

```
int person_org_id, external_person_org_id; 
```

`-32767`您需要将 int 变量更改为 Integer，原始变量有限制，不能超过`32767`

# algorithm - 使用 Levenshtien 距离的词社交网络

> ID：10753564
> 
> 赞同：0
> 
> 时间：2012-05-25T11:25:56.447
> 
> 标签：algorithm

这是一个取自[这里的问题](http://www.careercup.com/question?id=13406684)

如果两个词的 Levenshtein 距离为 1，则它们是朋友（有关详细信息，请参阅[http://en.wikipedia.org/wiki/Levenshtein_distance](http://en.wikipedia.org/wiki/Levenshtein_distance)）。也就是说，您可以添加、删除或替换单词 X 中的一个字母来创建单词 Y。一个单词的社交网络包括它的所有朋友，加上他们的所有朋友，以及他们所有朋友的朋友，等等. 编写一个程序，告诉我们“hello”这个词的社交网络有多大，使用这个词列表[https://raw.github.com/codeeval/Levenshtein-Distance-Challenge/master/input_levenshtein_distance.txt](https://raw.github.com/codeeval/Levenshtein-Distance-Challenge/master/input_levenshtein_distance.txt) 输入

你的程序应该接受一个文件名的路径作为它的第一个参数。输入文件包含单词列表。此列表也可在[https://raw.github.com/codeeval/Levenshtein-Distance-Challenge/master/input_levenshtein_distance.txt](https://raw.github.com/codeeval/Levenshtein-Distance-Challenge/master/input_levenshtein_distance.txt) 获得

打印出“你好”这个词的社交网络有多大。例如，单词“abcde”的社交网络是 4846。

任何人都可以帮助提出一些相同的逻辑。这不是家庭作业问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-25T11:31:03.753

一个简单的`O(n^2)`解决方案是将问题建模为[图形](http://en.wikipedia.org/wiki/Graph_%28mathematics%29)：
`G = (V,E)`、位置`V = { all words }`和`E = { (u,v) | u is friend of v }`。

由此，下一个算法如下（高级伪代码）：

```
1\. Create the graph from the data
2\. Run a BFS from the source, and continue while there are more 
   vertices that can be discovered. 
3\. When you are done, the size of the `visited` set is the size of 
   the social network (this set is the actual social network) 
```

**复杂：**

*   创建此图是`O(n^2)`（检查所有对）。
*   [**BFS**](http://en.wikipedia.org/wiki/Breadth-first_search)也是`O(n^2)`因为`|E| < n^2`，所以你得到了`O(n^2)`算法的总数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T13:22:39.477

您可以使用 BFS 或 DFS 或任何返回图树覆盖的算法，这非常符合您的口味。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-25T14:13:21.027

如果您知道如何找到 Levenshtein 距离，那么您只需要知道这对单词之间的 Levenstein 距离。

在这里您不需要绘制完整的图表。更好的方法是维护一个你知道在单词的社交网络中的单词的哈希表。这样，您将避免冗余对。这正是我的意思。

假设单词是：Right Bright Wright

所有对的编辑距离均为 1。但是，如果您只想要 Right 的社交网络，则无需考虑 Bright 和 Wright 这对搭档。

以这种方式继续检查所有检查的单词，直到检查列表中没有添加。

# c# - 按下按键时停止“叮”声

> ID：10753565
> 
> 赞同：0
> 
> 时间：2012-05-25T11:26:05.240
> 
> 标签：c#, keypress, noise

我知道其他人已经问过这个问题，但答案并没有解决我的问题，因为之前的问题与我的略有不同。

```
private void Form1_KeyDown(object sender, KeyEventArgs e)
{    
    if (e.KeyValue == 221)
    {
        if(pixelSize < 200)
            PixelSizeSelect.Value += 5;
        e.Handled = true;
    }
    if (e.KeyValue == 219)
    {
        if(pixelSize > 5)
            PixelSizeSelect.Value -= 5;
        e.Handled = true;
    }

    e.Handled = false;
} 
```

每当我按下这些 Ding 噪音播放的 Keys 时，很烦人，尤其是按住这些键快速更改值时，噪音会反复播放。

我听说添加`e.Handled = true;`可以防止噪音，但是正如您所看到的，我已经添加了它，但它什么也没做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:34:13.240

好的，我已经解决了，它正在发生，因为当我按下按键时，一个 numericUpDown 框被选中。加载表单时它会自动选择自己，所以我不知道。

# jquery - jQuery Cycle 插件 - 防止在寻呼机单击时更改幻灯片

> ID：10753568
> 
> 赞同：0
> 
> 时间：2012-05-25T11:26:11.580
> 
> 标签：jquery, jquery-cycle

我正在创建一个简单的幻灯片，其中“寻呼机”作为有关更改幻灯片的视觉信息（它们是项目符号，而活动的项目符号是不同的颜色）。问题是 - 我不希望寻呼机元素是可点击的。我应该如何防止这种行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:39:29.047

我不确定它是否有效，但您可以尝试重置`pagerEvent`值：

```
$('.slideshow').cycle({
    pagerEvent: null
}); 
```

默认`pagerEvent`值为`click.cycle`，因此您需要重置它。

# objective-c - 无法弄清楚如何将图像加载到 UIScrollView

> ID：10753569
> 
> 赞同：0
> 
> 时间：2012-05-25T11:26:12.047
> 
> 标签：objective-c, xcode, cocoa-touch, uiimage

我在尝试将图像加载到`UIScrollView`. 我已经尝试了所有可能的选项：

1.  删除并重新添加。
2.  使用 Clean 选项删除缓存
3.  恢复iphone模拟器缓存

但我不确定问题是否出在我的代码中：

```
fotosJugadores = [[NSArray alloc] initWithObjects:@"cara5.png", @"cara7.png",
     @"cara8.png", @"cara9.png", @"cara11.png", @"cara13.png", @"cara14.png", 
     @"cara15.png", @"cara18.png",@"cara19.png", @"cara20.png", 
     @"cara32.png",@"cara44.png",@"cara51.png", @"cara100.png", @"cara101.png", 
     @"cara102.png",@"cara103.png", @"cara104.png", 
     @"cara105.png",@"cara106.png",@"cara107.png", nil];

numberOfViews = [fotosJugadores count];

for (int i = 0; i <    [fotosJugadores count]; i++) {

    UIImage *myImage = [UIImage imageNamed:[fotosJugadores objectAtIndex:i]];
    CGFloat yOrigin = i * myImage.size.width + 120;
    NSLog(@"my image %@", myImage);

    UIImageView *awesomeView = [[UIImageView alloc] initWithFrame:CGRectMake(yOrigin, 0, myImage.size.width, myImage.size.height)];
    awesomeView.tag = i;
    awesomeView.image = myImage;
    awesomeView.alpha = 0.5f;
    awesomeView.backgroundColor = [UIColor blackColor];
    [self.jugadorSlide addSubview:awesomeView];
    awesomeView=nil;

} 
```

已编辑：这是项目文件系统的屏幕截图，图像存储在 exular/GBC/Caras 中：

![在此处输入图像描述](../Images/48ef8a000f5517dab0a7cd6dee075ab1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:53:22.400

从您的屏幕截图中，您似乎添加了“Caras”文件夹作为参考。如果您添加文件夹作为参考，则应用程序包中其文件的路径将是“文件夹名/文件名”，而不是“文件名”。

尝试使用

```
NSString *imagePath = [NSString stringWithFormat:@"Caras/%@", [fotosJugadores objectAtIndex:i]];
UIImage *myImage = [UIImage imageNamed:imagePath]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:40:27.417

检查文件名和扩展名的大小写。还要确保你的 png 格式。不支持某些 32 位 png。

您的 awesomeView 显示和大小是否正确？

# c# - 如何在DataGrid C#中获取单元格值buttonclick

> ID：10753577
> 
> 赞同：0
> 
> 时间：2012-05-25T11:26:27.753
> 
> 标签：c#, winforms, visual-studio-2010

`ShowRichMessageBox`当我单击时，我想在一行中显示一个特定的单元格值，`button`但是如果单击该行上的任意位置，此事件将显示单元格值....！

这里有什么问题.....我该如何解决上述问题？？？

我有一些很大的对数值，但它已经加载到单元格中，所以， `Is it possible to expand the row when i select a particular row in the datagridview???`

```
 public LogView()
    {
        InitializeComponent();
        this.dataGridView2.CellClick += new System.Windows.Forms.DataGridViewCellEventHandler(this.dataGridView2_buttonCol);

        bindingList = new SortedBindingList<ILogItemView>();
        dataGridView2.DataSource = bindingList;
        this.dataGridView2.SelectionMode = DataGridViewSelectionMode.FullRowSelect;
        this.dataGridView2.MultiSelect = false;
        var buttonCol = new DataGridViewButtonColumn(); // The button to display a particular cell value when clicks//
        buttonCol.Name = "ButtonColumnName";
        buttonCol.HeaderText = "Show";
        buttonCol.Text = "View";
        buttonCol.UseColumnTextForButtonValue = true;    
        dataGridView2.Columns.Add(buttonCol);

    }

    private void dataGridView2_buttonCol(object sender, DataGridViewCellEventArgs e)
    {

            string name = Convert.ToString(dataGridView2.SelectedRows[0].Cells[2].Value);
            ShowRichMessageBox("Code", name);

    } 
```

编辑：

```
if (e.ColumnIndex != 0) // Change to the index of your button column
            {
                return;
            }

            if (e.RowIndex > -1)
            {
                string name = Convert.ToString(dataGridView2.Rows[e.RowIndex].Cells[2].Value);
                ShowRichMessageBox("Code", name);
            } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:48:19.850

传递给 CellClick 事件处理程序的[DataGridViewCellEventArgs实例有一个](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewcelleventargs.aspx)[ColumnIndex](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewcelleventargs.columnindex.aspx)属性，您可以检查该单击是否来自按钮列。

像这样：

```
private void dgv_buttonCol(object sender, DataGridViewCellEventArgs e)
{
        if (e.ColumnIndex != 4) // Change to the index of your button column
        {
             return;
        }

        if (e.RowIndex > -1)
        {
            string name = Convert.ToString(dgv.Rows[e.RowIndex].Cells[2].Value);
            ShowRichMessageBox("Code", name);
        }
} 
```

对于您问题的第二部分，我不确定您的意思，但您当然可以更改行高，也许在 SelectionChanged 事件中使用，或者如果您想更深入地做一些事情，请参阅[“如何：自定义外观Windows 窗体 DataGridView 控件中的行数"](http://msdn.microsoft.com/en-us/library/85kxk29c.aspx)

# iphone - FBConnect 版本

> ID：10753578
> 
> 赞同：0
> 
> 时间：2012-05-25T11:26:28.347
> 
> 标签：iphone, ios, facebook

这可能是一个愚蠢的问题，但我找不到。我在哪里可以查看我的应用当前使用的是哪个版本的 FBConnect for iOS？我在代码中的任何地方都找不到它。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:30:43.603

你可以在[这里找到](https://github.com/facebook/facebook-ios-sdk/blob/master/src/Facebook.m)

所以在你的代码`facebook.m`文件中

```
static NSString* kSDKVersion = @"2"; 
```

这是一个 SDK 版本

**或者**

如果您已下载文件夹（看起来像 facebook-facebook-ios-sdk-v1.1-15-.zip `g397c0b6`）

然后你可以将[提交](https://github.com/facebook/facebook-ios-sdk/commits/master)与上面标记的数字进行比较

# html - SSI - 只包含文件的一部分？

> ID：10753582
> 
> 赞同：1
> 
> 时间：2012-05-25T11:26:41.590
> 
> 标签：html, ssi

我有一个文件，其中包含我使用 SSI 在我的网站上显示的大量新闻和更新。我想做的是让这些新闻和更新的一个子集出现在网站其他地方的列中。

我曾尝试在网上四处寻找，但我不确定这是否可能。我得到的印象是我需要创建一个包含子集的新文件。我只是觉得这个解决方案不是特别优雅，因为我正在复制数据。

有没有人有任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T07:44:14.837

您还可以将参数传递给文件并在包含的文件中评估此参数（假设这也被视为 SSI 页面）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:30:03.873

由于您不能包含文件的一部分，因此您有几个选择：

1.  将文件分成两部分，当你需要两个部分时包含两个部分，当你只需要一个部分时只包含一个部分
2.  将文件分成两部分并创建包含两者的第三个 SSI。然后在您需要两者的页面上，您可以只包含一个包含两者的文件。

# jquery - 如何防止 jQuery BlockUI 触发

> ID：10753584
> 
> 赞同：1
> 
> 时间：2012-05-25T11:26:43.790
> 
> 标签：jquery, forms, onsubmit, jquery-blockui

我让[jQuery BlockUI 插件](http://jsfiddle.net/BXVDU/)在每个表单提交操作上被触发：

```
$("form").submit(function() {
    jQuery.blockUI();
}); 
```

我想在提交之前验证一些表格：

```
<form method="POST" onSubmit="return(confirm('Really submit?'));"> 
```

当我在确认弹出框上点击“取消”时，BlockUI 被触发并阻止界面。它永远不会被解锁。
这是一个例子：http: [//jsfiddle.net/8B8yA/](http://jsfiddle.net/8B8yA/)。

问题是如何防止 BlockUI 在按下“取消”时被触发。

我尝试添加`$.unblockUI()`到“取消”操作：

```
if(!confirm("Really submit?")) {
    $.unblockUI();
    return(false);
} 
```

但它显然不起作用，因为在阻止操作之前调用了解除阻止操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:03:44.940

怎么样：

```
$("form").submit(function() {
    if(!$(this).hasClass('skip'))
    jQuery.blockUI();
});​ 
```

和

```
<html>
  <head>
    <script src="http://malsup.github.com/jquery.blockUI.js">
    </script>
  </head>
  <body>
    <form method="POST" onSubmit="return (function(form) { var c = confirm('Are you sure?'); if(!c) { $(form).addClass('skip'); } return c; })(this);">
      <input type="submit">
    </form>
  </body>
<html>​ 
```

见：http: [//jsfiddle.net/8B8yA/5/](http://jsfiddle.net/8B8yA/5/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:53:45.923

您可以尝试从表单中删除**onsubmit并执行以下操作：**

```
$("form").submit(function() {
    if(confirm('Really submit?')) {
        jQuery.blockUI();
    }
    else {
        return;
    }
}); 
```

你的意思是这样的吗:: [jsFiddle](http://jsfiddle.net/8B8yA/2/)

您可以在需要阻止 ui 的表单中添加 id，例如：

```
$("#yourFormId").submit(function() {
        if(confirm('Really submit?')) {
            jQuery.blockUI();
        }
        else {
            return;
        }
    }); 
```

# c - C 字符串文字处理

> ID：10753585
> 
> 赞同：3
> 
> 时间：2012-05-25T11:26:44.497
> 
> 标签：c, string, segmentation-fault

程序崩溃的以下代码有什么问题 - 给出分段错误。我正在使用 gcc。

```
uint8_t result = 1      

InsertRow("Name","Details of work",result);     

void InsertRow(char *Name, char *Description,uint8_t Result)   
{  
   char Buffer[500];  

   if(Result==1)   
      sprintf(Buffer,"<tr><td>%s </td> <td> %s </td> <td>  %s </td></tr>",Name,Description,Result);   
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-25T11:28:35.413

您正在`%s`为 type 的参数使用格式说明符`uint8_t`，这应该是`%u`，并且您应该将值强制转换`unsigned int`为匹配。这使您不必关心确切的类型和调整格式化程序（正如评论者所建议的那样）。

此外，当然，我们很难知道缓冲区是否足够大。如果你有它，你可以用它`snprinf()`来避免这种情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:29:08.780

这里

```
sprintf(Buffer,"<tr><td>%s </td> <td> %s </td> <td>  %s </td></tr>",Name,Description,Result); 
```

您将`Result`（类型`uint8_t`为 ）作为指向 char 数组的指针传递

这意味着整数值将被解释为一个指针，该指针很可能指向您无法访问的内存——因此是 seg. 过错。您需要`%s`用适当的格式标志替换第三个以将值打印为整数

*注意*`%d`：在这种情况下不要直接使用，因为不能保证您的类型与（很可能不是）`uint8_t`大小相同。如果将值转换为第一个 ( ) ，则`int`可以使用`%d``Result``int``(int)Result`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:30:04.490

结果不是 char*，您可能需要 %d

# visual-studio-2010 - 缺少visual studio 2010工具箱标准控件

> ID：10753589
> 
> 赞同：5
> 
> 时间：2012-05-25T11:27:11.563
> 
> 标签：visual-studio-2010, visual-studio, toolbox

我`asp.net`在 Visual Studio 2010 Ultimate Edition 中创建了一个项目。

我看不到标准、数据等工具箱选项卡，我只能看到 Telerik 和 HTML 控件。

我试图重置工具箱，试图删除`C:\Users\mypcuser\AppData\Local\Microsoft\VisualStudio\10.0\*.tbd`.

我也尝试过`devenv /ResetSkipPkgs`，但对我没有任何帮助。

请提出解决方案谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-25T11:30:44.297

这可能会对您有所帮助。

在工具箱中，选择要在其中添加控件的选项卡。

右键单击工具箱并从快捷菜单中选择选择项目。

选择工具箱项目对话框打开。下图显示了“选择工具箱项”对话框。 ![在此处输入图像描述](../Images/7783b7459dd41e4ebbc0744974e33f73.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-02-16T20:05:25.923

尝试右键单击工具箱并选择“重置工具箱”

常见控件应与所有 MFC 控件一起出现在对话框编辑器列表中，当问题发生时我似乎仅限于这些控件。

我经常出现这种情况。我不知道是什么原因造成的，但这个修复总是有效的，对我来说很好，因为我没有自定义任何东西。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-27T16:44:10.220

这将对您有所帮助...在Visual Studio中，转到查看工具栏检查标准和布局..然后重新启动Visual Studio并确保在设计页面上并检查工具箱..现在将出现标准工具箱项..谢谢.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-12-21T06:58:28.213

仅供此页面的未来查看者使用

无法查看 VS 2010 标准工具箱。

大多数情况下，这是在第一次运行时发生的。

它解决了`Ctrl + Alt + X`您的键盘问题。

# actionscript - ActionScript 意外的大括号/分号？

> ID：10753594
> 
> 赞同：1
> 
> 时间：2012-05-25T11:27:38.693
> 
> 标签：actionscript

我正在编辑一个 ActionScript 文件，但遇到了问题。

当我输入以下内容时，一切都很好。

```
if (x=x) {
//blah
} 
```

如果我把这个说出来，它会说出乎意料；一行和 } 另一行：

```
for (x=x) {
//blah
} 
```

和我放这个的时候一样：

```
while (x=x) {
//blah
} 
```

当然我只是把这些作为例子来测试它，因为我认为我的代码有问题。在我的文件的这一部分中，ActionScript 是否只允许 IF 语句或什么？我需要对两个不同的字符串执行相同的长系列步骤，但我不想将代码放在那里两次。我必须做一个功能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:30:33.410

[在此处](http://www.republicofcode.com/tutorials/flash/as3loops/)阅读循环语法。

`For`循环不需要布尔值（真/假），它需要一个计数器、一个布尔值检查限制和一个增量。

IE

```
for (counter; condition; action){
    statements;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:37:58.657

我从未使用过动作脚本，但我建议尝试一下

```
x==x 
```

由于一次`=`是分配，而不是比较。

如果 for 循环仍然不起作用，请尝试

```
for(;x==x;){
} 
```

分号告诉它您只想使用 for 循环声明中的第二个语句，即条件；因为 for 循环使用三个语句，

```
for (variable; condition; iterative action) 
```

通过在您仅指定条件之前和之后放置分号`x==x`，这似乎是您想要做的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-26T09:56:24.543

事实证明，无论里面是什么，使用任何 IF 或 WHILE 语句都会导致错误。

我能够通过创建另一个函数并通过这些函数发送每个字符串来完成我想要的。

感谢您的帮助，对你们俩都投了赞成票。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-01T08:07:01.223

你必须这样写：

```
if(a==x){
// do that
}

for (x=0; x<maxloops; x++){
// do that
}

while(a==x){
} 
```

= 符号用于定义变量的值，而 == 必须在您比较/检查时使用（即这是否等于那个）。这都适用于 IF 和 WHILE

FOR 循环。假设您要执行 10 次“执行该操作”。然后你写

```
for (x=0; x<10; x++){
    // do that
} 
```

第一部分 x=0 是计数变量的定义及其初始值 第二部分是条件（只要 x 小于 10 就运行循环） 第三部分是步进器。（计数器如何在每个循环中提高其值）。x++ 是写 x = x +1 的简写方式；

# iphone - iPhone SDK：如何使标签视图成为 cgpoint？

> ID：10753599
> 
> 赞同：0
> 
> 时间：2012-05-25T11:28:04.227
> 
> 标签：iphone, ios, xcode, uilabel, cgpoint

我有一个 CGPoint：

```
ballVelocity = CGPointMake(kBallSpeedX,kBallSpeedX); 
```

我想要一个标签（xVelocityLabel）来查看 CGPoint 的“ballVelocity.x”值。我试过了：

```
[xVelocityLabel setText:[NSString stringWithFormat:@"%@", ballVelocity.x]]; 
```

感谢您的帮助，因为我是新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:35:18.163

只需更改 '%f' 而不是 '%@'。

```
[xVelocityLabel setText:[NSString stringWithFormat:@"%f", ballVelocity.x]]; 
```

我想这会对你有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:33:41.263

`[xVelocityLabel setText:NSStringFromCGPoint(ballVelocity)];`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:59:57.517

```
ballVelocity.x // this is a float value. 
```

所以你必须先在 NSString 中转换它，然后再在 UILabel 上设置它。

要在 xVelocityLabel 上设置值，该值应为字符串格式。看到这个转换-

```
NSString *strNumber = [[NSNumber numberWithFloat:ballVelocity.x] stringValue];

[xVelocityLabel setText:strNumber]; 
```

谢谢！

# android - 旋转三星手机时应用程序崩溃

> ID：10753600
> 
> 赞同：1
> 
> 时间：2012-05-25T11:28:12.743
> 
> 标签：android, cordova

如果手机旋转，是否有其他人体验过应用程序崩溃？我在三星 Galaxy 2 上运行 Android 4.0.3。

运行 Android 2.3.3 的 HTC 或三星不会出现此问题。

Eclipse 调试屏幕未显示任何错误。

我的应用程序是使用 PhoneGap 开发的。

旋转手机时记录：

```
05-25 13:38:09.155: I/GATE(20061): <GATE-M>DEV_ACTION_COMPLETED</GATE-M>
05-25 13:38:09.175: D/DroidGap(20061): Origin to allow: http://127.0.0.1*
05-25 13:38:09.175: I/CordovaLog(20061): Found log level DEBUG
05-25 13:38:09.175: I/CordovaLog(20061): Changing log level to DEBUG(3)
05-25 13:38:09.175: I/CordovaLog(20061): Found preference for classicRender
05-25 13:38:09.175: D/DroidGap(20061): DroidGap.onCreate()
05-25 13:38:09.180: D/DroidGap(20061): DroidGap.loadUrl(file:///android_asset/www/index.html)
05-25 13:38:09.180: D/DroidGap(20061): DroidGap: url=file:///android_asset/www/index.html baseUrl=file:///android_asset/www/
05-25 13:38:09.205: I/webclipboard(20061): clipservice: android.sec.clipboard.ClipboardExManager@4169fae8
05-25 13:38:09.210: D/DroidGap(20061): DroidGap.init()
05-25 13:38:09.260: D/PluginManager(20061): init()
05-25 13:38:09.280: D/WML_SISO(20061): InitPasteboardJni
05-25 13:38:09.280: D/SoftKeyboardDetect(20061): Ignore this event
05-25 13:38:09.730: W/IInputConnectionWrapper(20061): showStatusIcon on inactive InputConnection
05-25 13:38:09.790: I/GATE(20061): <GATE-M>DEV_ACTION_COMPLETED</GATE-M>
05-25 13:38:09.810: I/GATE(20061): <GATE-M>DEV_ACTION_COMPLETED</GATE-M> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T13:14:55.860

您需要添加`screenSize`到`android:configChanges`您的活动属性并至少针对 android-13 目标进行构建，因为该值是在 API 级别 13 中引入的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:03:59.283

您是否尝试添加： `android:configChanges="orientation"` 在

```
<activity android:name=".activityName"/> 
```

# objective-c - 为 CoreData 属性/属性提供您自己的设置器

> ID：10753602
> 
> 赞同：1
> 
> 时间：2012-05-25T11:28:19.770
> 
> 标签：objective-c, cocoa-touch, core-data, properties

我有一个具有多个属性的实体，其中一个称为 lastModificationDate。每当设置任何对象的属性时，我都想更新 lastModificationDate。

如果我没有使用 Core Data，我只需提供我自己的属性设置器并更新 lastModificationDate。但是，我不确定是否应该弄乱 CoreData 的属性。

最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:11:30.413

覆盖设置器很容易完成，您必须确保触发正确的通知以使其他一切正常工作（包括 KVO）。

```
- (void) setThing:(NSObject *)myThing {
  self.lastUpdateDate = [NSDate date];
  [self willChangeValueForKey:@"thing"];
  [self setPrimitiveThing:myThing];
  [self didChangeValueForKey:@"thing"];
} 
```

话虽如此，如果您需要做的只是我展示的代码（本质上是设置值并更新上次更新日期），那么使用 Key-Value Observing 并对通知做出反应会更好。它更容易，更清洁。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:39:57.057

如果您正在使用 NSManagedObject 子类，则不应覆盖属性修改器（设置器），因为这些实现是在运行时提供的（因此`@dynamic`而不是`@synthesize`）。如果你真的想，你可以，但它更混乱，没有理由这样做。请改用键值观察 (KVO)。它会在值更改时通知您。

Apple 的 KVO 文档很棒：[https ://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html#//apple_ref/doc/uid/10000177i](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html#//apple_ref/doc/uid/10000177i)

# c# - 使用 linq 从 lastname+"、"+firstname 的组合中搜索名字

> ID：10753604
> 
> 赞同：0
> 
> 时间：2012-05-25T11:28:35.013
> 
> 标签：c#, linq, sql-server-2008

我编写了一个存储过程，它以以下格式返回我的客户名称

```
LastName+", "+FirstName 
```

我已将其分配给如下所示的属性类。

```
Customer = DbContext.ExecuteStoreQuery<SearchEmployeeCDTO>("exec GetCustomerDetails").AsQueryable().ToList(); 
```

现在我想像下面一样搜索我为客户公司名称所做的姓氏

```
if(CompanyName!=null && LastName==null)
Customer = Customer.Where(c => c.CompName.Contains(CompanyName)).ToList(); 
```

请建议我如何从姓氏和名字格式的组合中搜索姓氏

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:34:03.970

也许这个？

```
if(LastName!=null)
  Customer = Customer.Where(c => c.CustName.StartsWith(LastName)).ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:38:59.507

如果您尝试检查另一个列表是否包含相同的值，那么您可以使用它：（如果您将这些作为通用列表元素的不同属性检索）

```
bool b = your1stList.Exists(c=> c.firstName == your2ndList.firstName ,
                               c.middleName == your2ndList.middleName ,
                               c.lastName  == your2ndList.lastName)

if ( b == true) 
{ 
  MessageBox.Show("You already have this Customer"); 
} 
```

这是在没有任何连接活动的情况下检索所有属性的好方法..使您免于未来查询中的一些麻烦；）

另一方面，如果我们继续您的查询，那么您需要将 lastname + firstName 的值放入一个字符串并使用 String.Split(",") 函数放入一个字符串数组，然后如果单词 lastName+firstname 检查lastname 的 array[0] 索引和 firstname 的 array[1] 索引。

选择你想要的方式..

# jquery - jQuery Mobile 记录所有事件，修复空白页

> ID：10753609
> 
> 赞同：2
> 
> 时间：2012-05-25T11:28:40.733
> 
> 标签：jquery, jquery-mobile

我有一个多页 jquery 文档。一切都很顺利，除了偶尔在页面之间导航时，页面将简单地显示为白屏。将显示页脚和页眉，但两者之间没有任何内容。

我的猜测是某个特定事件导致了错误，或者至少会为我指明正确的方向。如何让 jQuery 写出浏览器 console.log 中发生的每个事件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-16T21:30:28.207

在找到这个之前，我正在四处寻找类似的东西并且几乎推出了我自己的东西：

[http://view.jquerymobile.com/master/tools/](http://view.jquerymobile.com/master/tools/)

基本上，可以使用页面事件记录器小书签[将此脚本](http://view.jquerymobile.com/master/tools/log-page-events.js)动态地注入到 DOM 中，并将事件记录到标准的 console.log 中。如果您想查看所有事件（例如“mobileinit”），只需将脚本包含在您的页面中即可。我通常会这样做：

```
{% if debug %}
    <script src="http://view.jquerymobile.com/master/tools/log-page-events.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.js"></script>
{% else %}
    <script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
{% endif %} 
```

值得注意的是，并非所有事件都被记录（例如[orientationchange](http://api.jquerymobile.com/orientationchange/)），但大多数事件都被记录。它为我节省了很多调试和理解框架的时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T12:38:48.170

jQuery Mobile 没有内置开关来启用对所有 JQM 事件的调试。该站点推荐使用未压缩的脚本进行调试，但这并不能完全方便地在控制台中记录所有内容。

绑定到页面上的每个事件或至少绑定到`$.mobile.base`对象可能会有所帮助。查看这篇文章以了解如何做到这一点： [如何在 DOM 元素上绑定所有事件？](https://stackoverflow.com/questions/5848598/how-all-events-of-dom-element-can-be-bind)

# mysql - 我如何根据 MYSQL 中分隔字符串中的值进行 JOIN

> ID：10753611
> 
> 赞同：0
> 
> 时间：2012-05-25T11:28:43.417
> 
> 标签：mysql

继上一个问题之后。[如何匹配MYSQL中1列中的两个值](https://stackoverflow.com/questions/10752601/how-do-i-match-two-values-from-1-column-in-mysql)

**[variant_options]**表有一个**[combination]**列。
**[combination]**将**[option_id]**和**[variant_id]**存储为
**[option_id]**下划线**[variant_id]**即 1_2、1_3...
为了匹配正确的选项及其与每个产品的变体，我需要能够引用这些值。即LEFT JOIN variant_name ON variant_name.variantid =（组合列下划线后面的值。）

此外，如果将多个 [options] 分配给一个产品，则字符串增加为。
optionid#_variationid#_optionid#_variationid# 等 (1_1_3_2)

任何进一步的想法表示赞赏。

# java - 不能在 DDL 语句中使用绑定变量。备择方案？

> ID：10753621
> 
> 赞同：2
> 
> 时间：2012-05-25T11:29:24.980
> 
> 标签：java, sql, jdbc, ddl, bind-variables

首先，一个前言：我正在编写一个 java 类，它使用 jdbc 在数据库上创建临时表。我使用 JSE6 和 Oracle 11XE 作为测试数据库，但该类也需要与 DB2 兼容。

我试图创建的临时表来自一个更大的表，并且我对数据进行了一些过滤和聚合。我过滤的参数是由用户在运行时决定的。我正在尝试做的一个简化示例是：

```
CREATE TABLE temp_table AS (
    SELECT
           table1.department_id,
           SUM(CASE WHEN table1.number_1 < &1 THEN table1.number_1 ELSE 0 END)) AS column1              
    FROM
           table1
    GROUP BY table1.department_id
) 
```

我的问题是我需要指定参数来过滤数据，并且我需要确保它们被正确地转义/本地化/键入。使用准备好的语句会很容易，但我不能将绑定变量与 DDL 一起使用。我采取的临时解决方案是自己更改查询字符串，将参数写入正确的位置，但这意味着我现在必须实现所有检查，而不是依赖 PreparedStatement 对象为我做这件事，除了丢失所有其他好处。

我调查了其他解决方案，但到目前为止，没有一个能说服我：

1.  我可以先创建一个空的 temp_table，然后用 INSERT INTO temp_table(id, column1) (SELECT ...) 填充它，但似乎我可能会导致性能损失，所以我想坚持 CREATE temp_table AS

2.  我考虑过创建一个临时语句来保存内部 SELECT 查询，并让它生成格式正确/本地化/等。[查询字符串，但我还没有找到任何方法从中获取最终查询（我读到这里](https://stackoverflow.com/questions/4693926/actual-sql-statement-after-bind-variables-specified)绝对不可能）。我在这种情况下找到的唯一选择是使用[DebuggableStatement](http://www.javaworld.com/javaworld/jw-01-2002/jw-0125-overpower.html?page=1)，但我不确定我是否可以将它包含在项目中（而且，这似乎是解决我的问题的一种非常不雅的方式）

3.  我正在考虑的另一个解决方案是简单地将创建临时表的查询（对于它们中的每一个我将整个 CREATE AS (SELECT...) 放在数据库中的一个过程中，我将然后可以使用 CallableStatement 调用。这样我可以避免处理类型化并且仍然具有良好的性能，但代价是与数据库的耦合更紧密（我必须确保程序在那里，或者在 java 中管理它们的添加/从数据库中删除）

所以，我的问题是：有没有比我能想到的更好的选择？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-01T00:05:33.737

这应该与数据库无关，还是您只针对 Oracle？您不必将 PL/SQL 存储在存储过程中即可使用它；只需构建一个匿名 PL/SQL 块来执行您需要的操作，然后执行它。匿名 PL/SQL 块可以动态构建，以便在 PL/SQL 中声明强类型变量以保存您的参数，然后您的 Java 代码将值粘贴进去。Java 不会处理类型安全，因为您'重新构建一个字符串；当您执行匿名 PL/SQL 块时，它将由 Oracle 处理。

# java - Tomcat 中的演示和生产应用程序

> ID：10753623
> 
> 赞同：2
> 
> 时间：2012-05-25T11:29:27.020
> 
> 标签：java, tomcat

我有一个在 Tomcat 7 上运行的 Web 应用程序，我需要使用相同的代码库基于 URL 访问不同的数据库。例如：

[https://host.com/foo:8080](https://host.com/foo:8080) --> 应该访问数据库 foo_demo
[https://host.com/foo:8089](https://host.com/foo:8089) --> 应该访问数据库 foo_production

我试图在 webapps 目录中部署 2 个单独的项目（一个演示和另一个生产），但我认为这会导致服务器上的会话处理出现问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:43:35.843

如果您通过 META-INF/context.xml 指定您的数据库

生产型tomcat 将创建自己的配置。您可以在这里永久更改数据库！

您不会有会话问题，因为默认情况下没有会话复制。

注意：确保 /conf/server.xml 的主机节点包含值为“true”的 copyXML-Attribute。默认值设置为 False

# jquery - 使用 yepnope.js 加载字符集

> ID：10753629
> 
> 赞同：0
> 
> 时间：2012-05-25T11:29:57.197
> 
> 标签：jquery, yepnope

有没有办法在不使用方法`charset: "utf-8"`的情况下使用加载方法注入 yepnope`yepnope.injectJs`

```
yepnope({
         load: newResourcesToBeLoaded,
         complete: function() {
                   addNewlyLoadedResources(newResourcesToBeLoaded);
                   completeCallback();
         }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T20:11:06.733

不容易，但您可以使用过滤器来做到这一点：

```
yepnope.addFilter(function (resourceObj) {
  if (resourceObj.url.slice(-3) == ".js") {
    resourceObj.attrs = resourceObj.attrs || {};
    resourceObj.attrs["charset"] = "UTF-8";
  }
  return resourceObj;
}); 
```

如果您遇到我遇到的任何问题，尽管这无济于事，那么没有 charset 属性的脚本无论如何都应该获取文档的字符集（来自`Content-Type`标题或`<meta charset>`标签）。在加载定义了 BOM（字节顺序标记）的 UTF-8 编码文件时，某些浏览器会出现问题，Firefox 对我来说尤其如此。

此外，yepnope.js 显然试图在非 IE/Opera 浏览器中加载脚本作为标签，这是我所有问题的根源，最终让我改用 LABjs。

# javascript - Javascript焦点在Firefox中不起作用

> ID：10753635
> 
> 赞同：0
> 
> 时间：2012-05-25T11:30:27.027
> 
> 标签：javascript, html

这段代码在 <= IE7 中运行良好，但在 firefox 中不起作用.. 我使用的是 firefox 浏览器 12.0 .. 我不确定是什么原因.. 非常感谢您的帮助.. 谢谢..

```
<head>
 <script type="text/javascript">
   function getfocus(obj){
      if(obj.value.length==0){
        alert("Please enter something");
        obj.focus();
      }
   }
 </script>
</head>

<body>
   <input type="text" onblur="getfocus(this)" value="Get focus">
</body>

</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:34:54.257

尝试：

```
....
alert("Please enter something");
setTimeout(function() {
    obj.focus()
}, 10); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:35:12.640

一些浏览器，尤其是 Firefox，具有用户特定的设置，用于控制是否可以从用户那里“窃取”焦点。我认为这可能是您的问题。

但是，您可能需要在此处重新考虑您的策略，以确保用户输入一些文本。每次取消关注空白文本字段时都会弹出警报，这对大多数用户来说*非常烦人。*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:39:12.223

该代码在 FF 12 和 Chrome 上对我来说都很好。您需要清除输入字段，然后退出该项目才能看到警报...

# c# - 阻止默认发送按钮功能并在 Outlook 中仅执行自定义操作

> ID：10753637
> 
> 赞同：2
> 
> 时间：2012-05-25T11:30:35.783
> 
> 标签：c#, .net, vsto, outlook-addin

目标：在插件中，我需要阻止将日历通知发送给与会者，但同时我想在单击发送按钮时执行一些自定义操作。简而言之，我只需要执行与发送按钮相关的自定义操作而不是发送按钮的默认功能。

我正在使用 VSTO2010、MS Office 2007、.net 4。

我需要在 Ms office 2003,2007,2010 上执行此操作（支持 2007 和 2010 就足够了）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T23:55:40.607

您需要`OnClick`拦截`CommandBar`. 是的，即使 Outlook 2010 使用功能区并且不显示任何命令栏，仍然有一个`CommandBar`包含按钮的程序。为了兼容性，功能区按钮仍然会导致相应的`CommandBarButton`对象引发事件。

为了增加复杂性，您想要的按钮在“约会”变成“会议”之前不存在。

您将需要一些字段：

```
private CommandBars mCommandBars;
private CommandBarButton mCommandButtonSendMeeting; 
```

在您的`NewInspector`活动中，添加这些行

```
mCommandBars = this.Inspector.CommandBars;
mCommandBars.OnUpdate += CommandBars_OnUpdate; 
```

别处

```
private void CommandBars_OnUpdate()
{
    if (mCommandButtonSendMeeting == null)
    {
        mCommandButtonSendMeeting = (CommandBarButton)CommandBars.FindControl(Missing.Value, 2617, Missing.Value, Missing.Value);
        mCommandButtonSendMeeting.Click += CommandButtonSendMeeting_Click;
    }
}

private void CommandButtonSendMeeting_Click(CommandBarButton Ctrl, ref bool CancelDefault)
{
    CancelDefault = true;
    // Do whatever here.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-27T16:41:53.233

在这里，您有不同的解决方案。您真的不必触摸按钮，与按钮无关。您必须使用 Outlook 为这些目的提供的事件。只需将此行包含在您的 Add-in_StartUp 中：

```
Application.ItemSend += new Outlook.ApplicationEvents_11_ItemSendEventHandler(Application_ItemSend); 
```

当然，事件处理程序的实现：

```
void Application_ItemSend(object Item, ref bool Cancel)
{
    MessageBox.Show("Yihha!!");
    Cancel = true;
} 
```

这将拦截您发送的任何消息。适用于 Outlook 2010。

# c# - 使用具有 WSDL 和 XSD 文件的 Web 服务

> ID：10753640
> 
> 赞同：8
> 
> 时间：2012-05-25T11:30:44.853
> 
> 标签：c#, web-services

我们要求一家公司编写一个 Web 服务，我们可以使用它来获取一些信息。他们向我们发送了 WSDL 和 XSD 文件。你能告诉我如何使用这些文件来查询数据吗？如果我有一个网络服务的链接，我可以很容易地做到这一点。我只提供链接，Visual Studio 会为我生成 Web 参考。之后，我可以像使用普通类一样使用该引用。在这种情况下，我没有链接。就在上面提到的文件。谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-25T11:42:20.423

您可以从 wsdl 文件创建代理（在 Visual Studio 中添加服务引用）。[您可以在http://msdn.microsoft.com/en-us/library/aa347733.aspx](http://msdn.microsoft.com/en-us/library/aa347733.aspx)阅读有关 svcutil 的信息，但是 VS2010 允许您在添加服务引用时将 wsdl 文件放在地址上。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T12:05:33.827

> [VS2010 无法](https://stackoverflow.com/questions/5421953/cannot-consume-wsdl-in-vs2010)从某些 WSDL 创建 Web 服务引用。必须为那些[编写自定义包装器](https://stackoverflow.com/questions/2380253/net-web-service-cant-add-service-reference-only-web-reference)。或以某种方式编辑您的 WSDL，以便 VS 可以使用它。例如，如果这些引用给您带来麻烦，您可以删除您不打算使用的方法的 Web 服务方法引用。

除非您坚持使用 .NET 2.0，否则不应使用 ASMX Web 服务技术。

您应该使用“添加服务引用”并将其指向磁盘上的 WSDL。它将创建一组“代理”类，其中包含您可以调用的方法，就好像它是“普通”类一样。

有关示例的演练，请参阅“[如何使用 Web 服务](http://johnwsaunders3.wordpress.com/2009/05/17/how-to-consume-a-web-service/)”。

> 使用[WSDL.EXE 实用程序](http://msdn.microsoft.com/en-us/library/7h3ystb6.aspx)从 WSDL 生成 Web 服务代理。

例如

```
wsdl /language:CS /n:"Microsoft.SqlServer.ReportingServices2010" http://<Server 
Name>/reportserver/reportservice2010.asmx?wsdl 
```

检查此以[在 5 个简单步骤中创建和使用 .NET Web 服务一](http://www.sitepoint.com/net-web-services-5-steps/)文 ，然后[创建 Web 服务代理](http://msdn.microsoft.com/en-us/library/ms155134.aspx)

参考：
[WSDL 和使用 Web 服务](http://forums.asp.net/t/1080013.aspx/1)
[通过 WSDL 文件使用非 .NET Web 服务](http://social.msdn.microsoft.com/Forums/en-US/asmxandxml/thread/6c69a1db-ae37-4565-8e3b-a6e7de95f2b8)
[如何使用 WSDL](https://stackoverflow.com/questions/1302525/how-to-use-a-wsdl)

# asp.net-mvc-3 - MVC 应用程序中的即时消息

> ID：10753641
> 
> 赞同：2
> 
> 时间：2012-05-25T11:30:48.227
> 
> 标签：asp.net-mvc-3, instant-messaging

我需要您的帮助来解决下一个问题：我正在开发 MVC 应用程序并希望在用户之间发送即时消息。此消息将成为标准 - 就像通知一样。我正在考虑两个选择：

*   使用 XMPP protocot，但我不需要它可以提供的大量选项，我只需要我描述的基本功能；

*   在 MVC 应用程序中有一些静态数组，用户邀请被发送到和 ajax 函数，它将调用控制器操作，检查用户是否在静态列表中。如果是 - 使消息在页面上可见。加上做页面自动更新。但我不确定这个因为数组会经常被调用。

你们觉得怎么样？你有什么想法？我将非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:33:00.450

你可以看看[SignalR](http://www.hanselman.com/blog/AsynchronousScalableWebApplicationsWithRealtimePersistentLongrunningConnectionsWithSignalR.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:34:19.497

还可以查看基于 SignalR 构建的 Jabbr：

[https://github.com/davidfowl/JabbR](https://github.com/davidfowl/JabbR)

这是 SignalR David Fowler 的作者编写的聊天应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:35:08.123

您可以设置 jquery 计时器以使用 ajax 更新消息。并且当用户写入消息时，如果您想永久保存，可以将其保存在缓存中或数据库中。

# groovy - Groovy：由于未设置代理而超时（java.net.ConnectException）

> ID：10753647
> 
> 赞同：4
> 
> 时间：2012-05-25T11:30:59.837
> 
> 标签：groovy, proxy

我想使用 Groovy 脚本来访问网页。但是我在代理后面。

这是一个失败的测试脚本......

```
println "Google page is..."
println 'http://www.google.com'.toURL().text 
```

这是输出...

```
>groovy proxytester.groovy 
Google page is... 
Caught: java.net.ConnectException: Connection timed out: connect
   at checker.run(proxytester.groovy:2) 
```

**如何在 Groovy 中设置代理服务器信息？**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-25T13:27:08.857

或者，从 Groovy 内部：

```
System.properties << [ 'http.proxyHost':'proxyHost', 'http.proxyPort':'port' ] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-25T11:31:00.180

可以通过在 groovy 命令行上传递参数来为 JVM 设置代理信息，例如...

> groovy - **Dhttp.proxyHost** = *proxyHost* - **Dhttp.proxyPort** =*端口号*proxytester.groovy

这个脚本然后工作......

```
println "Google page is..."
println 'http://www.google.com'.toURL().text 
```

这是结果...

```
Google page is
<!doctype html><html itemscope itemtype="http://schema.org/WebPage"><head><meta
http-equiv="content-type..... 
```

有关详细信息，请参阅[Oracle 文档](http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html)

# java - 迭代器java嵌套循环

> ID：10753653
> 
> 赞同：1
> 
> 时间：2012-05-25T11:31:07.133
> 
> 标签：java

我有一个问题：有一种方法可以将迭代器直接递增到嵌套循环中吗？例子

```
while(budgets.iterator().hasNext()){
    if(budgets.iterator().next().getTipoBudget()!="I"){
        if(budgets.size()<maxInviate){
            for(i=0; i<maxInviate ;i++){
                if(budgetArray[i]==0 && budgets.iterator().hasNext()){
                    budgetArray[i] = budgets.iterator().next().getBudgetField();

                }
            }
            i=0;
            Set budgetSet = new HashSet<Integer>(Arrays.asList(budgetArray));
            Integer min = Collections.min(budgetSet);
            valueAdw = valueAdw + min;
            for(i=0; i<maxInviate; i++){
                budgetArray[i] = budgetArray[i] - valueAdw;
            }
        }else{
            valueAdw = null;
            valueAdwEnd = null;
            campaigns.addLast(new Campaign(valueAdw, valueAdwEnd, (long) adwordsBudget.getZona().getAdwordsCode()));
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:48:13.393

问题是每次都`budgets.iterator()`返回一个新的，因此将指针移动到您不再使用的位置。定义`Iterator``budgets.iterator().hasNext()``Iterator`

```
Iterator iterator = budgets.iterator(); 
```

并在其余代码中使用它。

@Sachin J 也是对的，你也必须在 else 块中编写 iterator.next() 。另外@Marko Topolnik 抱歉，我刚刚看到您的评论，我并没有试图窃取您的想法。

# automation - Ranorex 的持续时间和延迟有什么区别？

> ID：10753658
> 
> 赞同：2
> 
> 时间：2012-05-25T11:31:24.423
> 
> 标签：automation, ranorex

我想了解Ranorex 工具上的**Duration**和**Delay术语之间的区别。**这是我练习的图像：

![在此处输入图像描述](../Images/f89358c9e173f3d001eefb8b8f3559bf.png)

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-30T15:21:30.090

在 Ranorex 中，术语“延迟”是指系统将采取的行动，即它将延迟执行测试一段时间（确切地说是持续时间）。

测试步骤上的“持续时间”是在执行下一步之前等待的时间。这很重要，因为它与许多人可能理解的背道而驰。持续时间不会延迟它所在的步骤，而是延迟下一步。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:37:08.063

我不知道这个应用程序，但持续时间是衡量某事的“**结束时间减去开始时间**”，延迟是“**开始时间**”之前的时间。我希望它有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-10T09:58:10.717

**延迟**

延迟只是 Ranorex 中的*正常*操作。其他操作是鼠标、按键序列、验证、...

它做名字所说的。一旦执行此操作，它只会将下一个操作的执行延迟一段确切的时间。

**期间**

持续时间是所有动作都具有的特定属性。Actions 的其他属性有 Continue on fail、Enabled、...

Ranorex Studio 10.1.2 中 Duration 属性的工具提示说：“整个动作执行所需的时间，包括下一个动作开始前的等待时间。不影响动作本身在 AUT 中执行的速度。示例：对于持续时间为 10 秒的鼠标单击动作，单击会在几毫秒内执行，但 Ranorex Studio 会在执行下一个动作之前等待整整 10 秒，实际上增加了延迟。0 毫秒执行动作，然后立即开始下一个动作 (如果 AUT 响应速度不快，可能会导致问题）。持续时间不包括链接到操作的存储库项目的有效超时值。

# c# - 如何检查 var 的空值？

> ID：10753661
> 
> 赞同：19
> 
> 时间：2012-05-25T11:31:32.420
> 
> 标签：c#, .net, c#-4.0, .net-4.0, petapoco

我正在使用带有 C# 4.0 的 PetaPoco Micro-ORM。

下面的代码从数据库中检索一行：

```
var result = db.SingleOrDefault<TdUsers>(getUserQuery); 
```

我想检查结果是否包含任何行，以及是否为空。做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-05-25T11:34:25.720

```
if (result == null || result.Count() == 0) {
    // Checks whether the entire result is null OR
    // contains no resulting records.
} 
```

我认为问题不在您的检查中`null`，因为 linq 是延迟加载。您的错误在于使用表达式`db.SingleOrDefault<TdUsers>(getUserQuery);`。

`.Single<T>(expression)`不返回 null - 如果结果没有返回值，则会出错。 `.SingleOrDefault<T>(expression)`但是，如果表达式没有值，则返回空值 - 因此最好与`if (result == null)`类型检查结合使用，就像您在此处使用的那样。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-25T11:48:04.710

```
var result = db.SingleOrDefault<TdUsers>(getUserQuery); 
```

> 在上面的代码中 SingleOrDefault 将返回空值或指定的泛型类型（它在运行时已知）。

为了检查返回的值是否为空，您可以简单地使用

```
if(result!=null)
{
//do your code stuff 
}
else
{
//stuff do be done in case where result==null
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-05-25T11:40:34.483

你可以这样做：

```
result.ToList() // Convert result to a list

if (result.Any()) {
   // result is not null
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-25T11:37:21.613

```
 var v = result.ToList(); 
```

现在检查

```
if (v is not null)
{

}
else if (v.Count()>0)
{

} 
```

# .htaccess - htaccess 401 重定向无法正常工作

> ID：10753663
> 
> 赞同：0
> 
> 时间：2012-05-25T11:31:38.473
> 
> 标签：.htaccess, redirect

我正在尝试编写一个 htaccess 代码以重定向到特定页面。但它现在不起作用。请查看完整的 htaccess 代码

```
RewriteEngine On
RewriteRule ^([a-zA-Z0-9]+)/([\w.,]+)/([\w.,]+)/([\w.,]+)/([\w.,]+)/([\w.,]+)/([\w.,]+)$ job.php?j=$1
RewriteRule ^([a-zA-Z0-9]+)/([\w.,]+)/([0-9]+)$ sameIndustryJobs.php?i=$1&c=$2&p=$3
RewriteRule ^([a-zA-Z0-9]+)/([a-zA-Z0-9]+)/([\w',]+)/([0-9]+)$ sameCatagoryJobs.php?c=$1&s=$3&p=$4
RewriteRule ^([a-zA-Z0-9]+)/([a-zA-Z0-9]+)/([a-zA-Z0-9]+)/([\w.,]+)/([0-9]+)$ sameCityJobs.php?c=$1&cn=$4&p=$5
RewriteRule ^([a-zA-Z0-9]+)/([a-zA-Z0-9]+)/([a-zA-Z0-9]+)/([a-zA-Z0-9]+)/([\w.,]+)/([0-9]+)$ sameQualificationJobs.php?q=$1&cn=$5&p=$6
ErrorDocument 401 sorry.php

AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:38:42.267

你应该把`[L]`你拥有的每一行 RewriteRule 放在最后。Flag`L`表示 Last，它向 Apache 指示规则的结束。

# command-line - 仅使用 7z 压缩文件而不保留路径

> ID：10753667
> 
> 赞同：43
> 
> 时间：2012-05-25T11:31:55.983
> 
> 标签：command-line, 7zip

我正在使用 7z 命令行可执行文件来压缩文件，但我看到在添加到存档时，文件的路径保留在存档中。

所以如果我这样做

```
7z a -tzip  myzip.zip dir1\dir2\* 
```

存档 myzip.zip 将包含路径 dir1\dir2。我不希望这样，而是只希望将文件添加到 zip 文件中而不保留路径。我搜索了很多，但似乎没有找到任何方法，也许我遗漏了一些明显的东西？

谢谢

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2012-10-24T14:20:42.070

只需在路径前加一个点，即 `7z a -tzip -r myzip.zip .\Relative\Dir\*`

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2012-05-25T12:45:33.207

给出完整路径。那应该行得通。不是当前位置的相对路径。例如，我给出以下内容，我希望将 man5 文件夹中的文件存档。

```
$ 7z a -tzip myzip.zip /home/pradeeban/Desktop/man4/man5/* 
```

zip 仅包含文件，不包含目录。

然后我只给出了相对路径。它有目录，在 zip 里面。

```
$ 7z a -tzip myzip.zip Desktop/man4/man5/* 
```

尝试使用 Linux（Ubuntu 12.04）。不确定这是否与 Windows 不同。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-09-17T20:58:50.237

我发现了一种使用相对路径的方法：

```
7z a -tzip  myzip.zip %CD%\dir1\dir2\* 
```

%CD% 是您在 Windows 批处理文件中获取当前路径的方式，但它也可以从命令行工作。[有关从批处理文件中捕获当前目录的](http://blogs.msdn.com/b/oldnewthing/archive/2005/01/28/362565.aspx)更多信息。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-05-25T11:44:08.403

如[7-zip 用户常见问题解答](http://www.7-zip.org/faq.html#user_faq)中的相关问题所述，7z 存储相对于工作目录的路径，因此您需要首先`cd`到所需的顶级目录进行存档并从此处运行 7-zip。

```
cd dir1\dir2\
7z a -tzip  myzip.zip * 
```

如果您从脚本运行它并且不想用更改的目录影响它，请使用您选择的 shell 中可用的目录推送/弹出工具或在生成的进程中运行 cd+7-zip 以避免影响您的整个脚本更改目录。例如，使用 Windows 的启动将是：

```
start /D dir1\dir2\ /wait 7z a -tzip  myzip.zip * 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-06-07T18:13:25.197

这对我有用

考虑像 C:\Parent\SubFolders 之类的文件夹结构.....并且您要创建 parent.zip 它将包含所有文件和文件夹 C:\Parent 没有父文件夹 [即它将从 SubFolders 开始.....]

```
cd /D "C:\Parent"

"7z.exe" a Parent.zip "*.*" -r 
```

这将在 C:\Parent 中创建 Parent.zip

# javascript - Disable single checkbox after ButtonSet is applied

> ID：10753669
> 
> 赞同：2
> 
> 时间：2012-05-25T11:32:11.020
> 
> 标签：javascript, jquery-ui

If I apply buttonset to a list of checkboxes using JQuery UI, how do i then disable a single checkbox from the list?

HTML

```
<div id="options">
    <input id="one" type="checkbox" value="1"/><label for="one">One</label>
    <input id="two" type="checkbox" value="2"/><label for="two">Two</label>
</div>

```

Javascript

```
    $('#options').buttonset();

```

In the above example after buttonset is applied, I want to disable only checkbox with label `Two`.

## Edit

Here is the [JSFiddle](http://jsfiddle.net/paragnair/bvjfe/) for the above example. Just by adding attribute disabled does not help.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T13:17:57.933

You have to refresh the button widget after disabling the check box:

```
$("#two").prop("disabled", true).button("refresh"); 
```

Updated fiddle [here](http://jsfiddle.net/bvjfe/1/).

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-25T12:21:56.433

```
$("#two").attr("disabled", "disabled");
//OR
$("#two").attr("disabled", true); 
```

# pdfsharp - MigraDoc 中未处理的异常参数

> ID：10753670
> 
> 赞同：1
> 
> 时间：2012-05-25T11:32:21.020
> 
> 标签：pdfsharp, migradoc

```
static void Main(string[] args)
    {
        string saveFileAs = "D:\\Hello.pdf";
        Program p = new Program();
        Document doc = p.CreateDocument();
        PdfDocumentRenderer renderer = new PdfDocumentRenderer(true, PdfSharp.Pdf.PdfFontEmbedding.Always);
        renderer.Document = doc;
        renderer.RenderDocument();
        renderer.PdfDocument.Save("D:\\Hello.pdf");
        Process.Start(saveFileAs);
    }

public Document CreateDocument()
    {
        // Create a new MigraDoc document
        this.document = new Document();
        this.document.Info.Title = "A sample invoice";
        this.document.Info.Subject = "Demonstrates how to create an invoice.";
        this.document.Info.Author = "Chandana Amarnath";

        DefineStyles();

        CreatePage();

        FillContent();

        return this.document;
   }

void CreatePage()
    {
        // Each MigraDoc document needs at least one section.
        Section section = this.document.AddSection();

        // Put a logo in the header
        Image image = section.Headers.Primary.AddImage("D:\\Cubes.jpg");
        image.Height = "2.5cm";
        image.LockAspectRatio = true;
        image.RelativeVertical = RelativeVertical.Line;
        image.RelativeHorizontal = RelativeHorizontal.Margin;
        image.Top = ShapePosition.Top;
        image.Left = ShapePosition.Right;
        image.WrapFormat.Style = WrapStyle.Through;

        // Create footer
        Paragraph paragraph = section.Footers.Primary.AddParagraph();
        // The following one prints at the footer;
        paragraph.AddText("Aldata Inc.");
        paragraph.Format.Font.Size = 9;
        paragraph.Format.Alignment = ParagraphAlignment.Center;

        // Create the text frame for the address
        this.addressFrame = section.AddTextFrame();
        this.addressFrame.Height = "3.0cm";
        this.addressFrame.Width = "7.0cm";
        this.addressFrame.Left = ShapePosition.Left;
        this.addressFrame.RelativeHorizontal = RelativeHorizontal.Margin;
        this.addressFrame.Top = "5.0cm";
        this.addressFrame.RelativeVertical = RelativeVertical.Page;

        // Put sender in address frame
        paragraph = this.addressFrame.AddParagraph("Aldata-Apollo Inc.");
        paragraph.Format.Font.Name = "Times New Roman";
        paragraph.Format.Font.Size = 7;
        paragraph.Format.SpaceAfter = 3;

        // Add the print date field
        paragraph = section.AddParagraph();
        paragraph.Format.SpaceBefore = "8cm";
        paragraph.Style = "Reference";
        paragraph.AddFormattedText("Section Comparator", TextFormat.Bold);
        paragraph.AddTab();
        paragraph.AddText("Date: ");
        paragraph.AddDateField("dd.MM.yyyy");

        // Create the item table
        this.table = section.AddTable();
        this.table.Style = "Table";
        this.table.Borders.Color = Color.Parse("Black");
        this.table.Borders.Width = 0.25;
        this.table.Borders.Left.Width = 0.5;
        this.table.Borders.Right.Width = 0.5;
        this.table.Rows.LeftIndent = 0;

        //************ Before you can add a row, you must define the columns **********
        Column column = this.table.AddColumn("4cm");
        column.Format.Alignment = ParagraphAlignment.Center;

        column = this.table.AddColumn("3cm");
        column.Format.Alignment = ParagraphAlignment.Right;

        // Create the header of the table
        Row row = table.AddRow();
        row.HeadingFormat = true;
        row.Format.Alignment = ParagraphAlignment.Center;
        row.Format.Font.Bold = true;
        row.Shading.Color = Color.Parse("White");

        row.Cells[0].AddParagraph("Added");
        row.Cells[0].Format.Font.Bold = true;
        row.Cells[0].Format.Alignment = ParagraphAlignment.Center;
        row.Cells[0].MergeRight = 3;

        row = table.AddRow();
        row.HeadingFormat = true;
        row.Format.Alignment = ParagraphAlignment.Center;
        row.Format.Font.Bold = true;
        row.Cells[0].AddParagraph("Deleted Items");
        row.Cells[0].Format.Font.Bold = true;
        row.Cells[0].Format.Alignment = ParagraphAlignment.Left;
        row.Cells[0].MergeRight = 3;

        this.table.SetEdge(0, 0, 2, 3, Edge.Box, BorderStyle.Single, 0.75, Color.Empty);
    }

   void FillContent()
    {
        string xmlFileName = "C:\\Section.xml";
        XPathDocument xPathDocument = new XPathDocument(xmlFileName);
        XPathNavigator item = xPathDocument.CreateNavigator();

        XPathNodeIterator iter = item.Select("/Hello/*");
        while (iter.MoveNext())
        {
            string name = iter.Current.Name;
            item = iter.Current;
            Row row1 = this.table.AddRow();
            Row row2 = this.table.AddRow();

            row1.TopPadding = 1.5;
            row1.Cells[0].Shading.Color = Color.Parse("Gray");
            row1.Cells[0].VerticalAlignment = VerticalAlignment.Center;
            row1.Cells[0].MergeDown = 1;
            row1.Cells[1].Format.Alignment = ParagraphAlignment.Left;
            row1.Cells[1].MergeRight = 3;
            row1.Cells[0].AddParagraph(item.ToString());

            Console.WriteLine(name + "\t:" +item);
        }
        Console.ReadKey();
    } 
```

我正在编写使用 MigraDoc 以 PDF 格式生成报告的代码。我已经从 PDFSharp 网站下载了代码。下面有3个函数DefineStyles()、CreatePage()、FillContent()。我对函数 CreatePage()、FillContent() 进行了更改；但是当我运行程序时，我收到错误消息

**异常参数：指定参数超出有效值范围。**

在 CreatePage() 中，我向表中添加了 2 行和 2 列。在 FillContent() 函数中，我读取了我的 XML 文件。但我无法找到我越过我的索引范围的位置。

**解决了**

问题是当我设置 table.SetEdge(...) 时。我正在访问我尚未创建的列。谢谢大家.. :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:25:29.330

在这一步，我正在设置尚未创建的行。

```
this.table.SetEdge(0, 0, 2, 3, Edge.Box, BorderStyle.Single, 0.75, Color.Empty); 
```

我应该使用 2 而不是 3 的行数。

# php - 从php中的字符串中提取子字符串

> ID：10753677
> 
> 赞同：-1
> 
> 时间：2012-05-25T11:32:49.833
> 
> 标签：php

我有一个字符串

```
$url = "http://www.example.com/index.php?1234567" 
```

我只想要子字符串“http://www.example.com”，即提取子字符串直到第三次出现正斜杠字符。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:35:13.340

你需要看看[`parse_url()`](http://us2.php.net/manual/en/function.parse-url.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T11:36:13.170

尝试这个

```
<?php
$url = 'http://www.example.com/index.php?1234567';

print_r(parse_url($url));

?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T11:35:36.170

```
$link = "http://www.something.cmo/sdfsdf";
$str  = explode("/", $link);

echo $str[2]; // is string without sub 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-25T11:38:35.083

你应该结帐： http: [//php.net/manual/en/function.parse-url.php](http://php.net/manual/en/function.parse-url.php)

`parse_url()`将返回一个关联数组，您应该查找键的值`host`并`scheme`获得所需的值。

亲切的问候，
博

# wpf - 级联两个组合框 - 子组合框未选择当前值

> ID：10753682
> 
> 赞同：0
> 
> 时间：2012-05-25T11:33:02.440
> 
> 标签：wpf, wpf-4.0

**问题摘要**

当使用 2 个级联组合框时，子组合框不会选择当前项目，而是选择一个空项目（我不知道它来自哪里！）。

**问题详情**

我在 xaml 中声明了两个组合框，如下所示。发挥作用的两个实体是**StandardRack**和**RelayConfig**

**XAML：**

```
<ComboBox ItemsSource="{Binding StandardRacks}" DisplayMemberPath="Name"
          SelectedItem="{Binding StandardRack, Mode=TwoWay}"  SelectedValuePath="Id"

<ComboBox ItemsSource="{Binding RelayConfigs}" DisplayMemberPath="DisplayName" 
          SelectedValue="{Binding DefaultRelayConfig, Mode=TwoWay}" SelectedValuePath="Id" 
```

这是支持属性，以及在 ViewModel 中加载组合框的代码

**视图模型**

```
private ObservableCollection<StandardRack> _standardRacks;
public ObservableCollection<StandardRack> StandardRacks {
    get { return _standardRacks; }
    set { _standardRacks = value; RaisePropertyChanged(() => StandardRacks); }
}

private StandardRack _standardRack;
public StandardRack StandardRack {
    get { return _standardRack; }
    set {
        if (_standardRack != value) {
            _standardRack = value;
            LoadRelayConfigs();
            RaisePropertyChanged(() => StandardRack);
        }
    }
}

private ObservableCollection<RelayConfig> _relayConfigs;
public ObservableCollection<RelayConfig> RelayConfigs {
    get { return _relayConfigs; }
    set { _relayConfigs = value; RaisePropertyChanged(() => RelayConfigs); }
}

private RelayConfig _defaultRelayConfig;
public RelayConfig DefaultRelayConfig {
    get { return _defaultRelayConfig; }
    set { _defaultRelayConfig = value; RaisePropertyChanged(() => DefaultRelayConfig); }
}

private void LoadRack() {
    StandardRacks = new ObservableCollection<StandardRack>(
                    unitOfWork.StandardRackRepository.GetQueryable().Include(sr => sr.StandardRelay).ToList());
    if (StandardRacks.Count > 0) {
        StandardRack = Rack.StandardRack; //Set the current value of StandardRacks combobox
    }
}

//Loads RelayConfigs Combobox based on Current Value of StandardRacks Combobox

private void LoadRelayConfigs() {
    RelayConfigs = new ObservableCollection<RelayConfig>(
        unitOfWork.RelayConfigRepository.GetQueryable()
        .Where(rc => rc.StandardRelays.Any(srl => srl.Id == StandardRack.StandardRelay.Id)).ToList());
    DefaultRelayConfig = Rack.DefaultRelayConfig; //Set Current Value of RelayConfigs Combobox. Does not work.
} 
```

上面的代码正确加载了两个组合框（StandardRacks 和 RelayConfigs）项。但是，RelayConfigs 选择的值未设置为它从 XAML 指向的值。相反，我在 RelayConfigs 组合框中得到一个空项目作为当前项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:33:35.270

'RelayConfigs' 选择中的'DefaultRelayConfig' 部分吗？

# java - 使用 xlts 进行 xml 转换，按字母顺序排列

> ID：10753685
> 
> 赞同：0
> 
> 时间：2012-05-25T11:33:12.043
> 
> 标签：java, xml, xslt

我有这个~~XSD~~XML（恰好是 WSDL）文件：

```
<definitions targetNamespace="http://soft.com/" name="LoggingWebService" xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:tns="http://ws.config.softid.softcomputer.com/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
  <types>
    <xsd:schema>
      <xsd:import namespace="http://soft.com/" schemaLocation="my.xsd"/>
    </xsd:schema>
  </types>
  <message name="log">
    <part name="parameters" element="tns:log"/>
  </message>
  <message name="getLogs">
    <part name="parameters" element="tns:getLogs"/>
  </message>
  <message name="getLogsResponse">
    <part name="parameters" element="tns:getLogsResponse"/>
  </message>
</definitions> 
```

我想将此文件转换`javax.transformation`为另一个文件，该文件`messages`将按字母排序（使用“名称”中的字符串）。

```
<definitions targetNamespace="http://soft.com/" name="LoggingWebService" xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:tns="http://ws.config.softid.softcomputer.com/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
  <types>
    <xsd:schema>
      <xsd:import namespace="http://soft.com/" schemaLocation="my.xsd"/>
    </xsd:schema>
  </types>
  <message name="getLogs">
    <part name="parameters" element="tns:getLogs"/>
  </message>
  <message name="getLogsResponse">
    <part name="parameters" element="tns:getLogsResponse"/>
  </message>
  <message name="log">
    <part name="parameters" element="tns:log"/>
  </message>
</definitions> 
```

为此我需要什么 XSLT 文件？请帮帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:00:05.270

此 XSLT 转换将满足您的需求。

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet
        xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
        xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
        version="1.0" >

    <xsl:output method="xml" indent="yes" />
    <xsl:strip-space elements="*"/> 

    <xsl:template match="/wsdl:definitions" >
        <xsl:copy>
            <xsl:copy-of select="wsdl:types" />
            <xsl:for-each select="wsdl:message" >
                <xsl:sort select="@name" />
                <xsl:copy-of select="current()"/>
            </xsl:for-each>
        </xsl:copy>
    </xsl:template>

</xsl:stylesheet> 
```

**输出**

```
<?xml version="1.0" encoding="utf-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:tns="http://ws.config.softid.softcomputer.com/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
   <types>
      <xsd:schema>
         <xsd:import namespace="http://soft.com/" schemaLocation="my.xsd"/>
      </xsd:schema>
   </types>
   <message name="getLogs">
      <part name="parameters" element="tns:getLogs"/>
   </message>
   <message name="getLogsResponse">
      <part name="parameters" element="tns:getLogsResponse"/>
   </message>
   <message name="log">
      <part name="parameters" element="tns:log"/>
   </message>
</definitions> 
```

# c - 在列表视图中插入时禁用自动滚动（win32 API，C）

> ID：10753690
> 
> 赞同：1
> 
> 时间：2012-05-25T11:33:20.920
> 
> 标签：c, winapi, listview, win32gui

我在我的公共控件列表视图中插入一个项目，如下所示：

```
void InsertRow (HWND hWnd, char *col1, char *col2)
{
    LV_ITEM     lvItem;

    lvItem.mask = 0;
    lvItem.iItem = 0;
    lvItem.iSubItem = 0;
    lvItem.iItem = ListView_InsertItem (hWnd, &lvItem);

    lvItem.mask = LVIF_TEXT;
    lvItem.pszText = col1;
    lvItem.cchTextMax = strlen (lvItem.pszText);
    ListView_SetItem (hWnd, &lvItem);

    lvItem.iSubItem = 1;
    lvItem.pszText = col2;
    lvItem.cchTextMax = strlen (lvItem.pszText);
    ListView_SetItem (hWnd, &lvItem);
} 
```

并且工作正常，但这很痛苦，因为垂直滚动会回到列表的顶部，所以如果我正在观看一个项目并调用这个插入函数，我会失去我的视野，并且必须手动向后滚动，使我的程序无法合作。

如何防止这种自动滚动？

我正在用 C 语言编程，直接使用 win32 API（不是 MFC）。

PD：列表视图样式： `LVS_SINGLESEL | WS_BORDER | WS_TABSTOP | WS_CHILD|WS_VISIBLE|WS_BORDER|WS_VSCROLL|WS_HSCROLL|LVS_REPORT`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:37:03.940

一种方法是获取当前顶部位置，插入新项目，然后（以编程方式）滚动回保存的顶部位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T15:08:33.250

1.  调用 ListView_GetItem 获取要观看的项目的索引
2.  每次插入新行时调用 ListView_EnsureVisible(hWnd, index_you_want_to_watch, TRUE)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-28T20:05:01.577

如果您可以将 ListView 切换到虚拟模式（应用`LVS_OWNERDATA`样式，然后`LVN_GETDISPINFO`在请求时使用通知将您的数据提供给 ListView），那么您可以使用`ListView_SetItemCountEx()`添加/插入/删除项目。它有一个`LVSICF_NOSCROLL`标志来防止滚动。

# php - 使用 PHP 清除电子邮件

> ID：10753691
> 
> 赞同：4
> 
> 时间：2012-05-25T11:33:37.513
> 
> 标签：php, email, imap

我有一个每天清空邮箱的 PHP 脚本。问题是，所有已删除的电子邮件都被移至垃圾箱，而垃圾箱永远不会被清除。

我使用 PHP IMAP 命令来处理邮​​箱。

```
$this->_mbox = imap_open(
    $this->_data['server'],
    $this->_data['user'],
    $this->_data['pass'],
    OP_SILENT
)

...
imap_delete($this->_mbox, $index);

...
imap_expunge($this->_mbox); 
```

如何清除垃圾？

**编辑：**

imap_delete() 完全删除电子邮件（也从垃圾箱中删除）。现在我只是想找到一种方法来读取垃圾文件夹。我尝试以与打开收件箱相同的方式打开目录，但没有成功。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T12:13:36.077

难道是问题出在`$index`？

如果您想清除所有垃圾邮箱，请尝试以下操作：

```
<?php
$conn = @imap_open("\{$server/$serverType}Trash", $user, $pass) 
   or die("Connection to folder failed");

// delete email(s)
@imap_delete($conn,'1:*');   // to clear out an entire mailbox.
@imap_expunge($conn);
echo "Trash is empty.";
?> 
```

希望这可以帮助！学分去[杰基](http://en.php.net/manual/fr/function.imap-delete.php#37300)

# php - 带有函数 PHP mysql 的 Foreach 和 DISTINCT

> ID：10753692
> 
> 赞同：0
> 
> 时间：2012-05-25T11:33:39.897
> 
> 标签：php, mysql, foreach, distinct

我正在尝试将函数与 foreach 一起使用，但出现错误。这是我的代码：

```
function student_image_list(){
    global $host, $dbname, $user, $pass;
    $DBH = new PDO("mysql:host=$host;dbname=$dbname", $user, $pass);
    $STH = $DBH->query("SELECT DISTINCT folder_name from school_students_images");
    $STH->setFetchMode(PDO::FETCH_ASSOC);
    $row = $STH->fetch();
    return $row;
} 
```

我想从 table 打印所有唯一的文件夹名称`school_students_images`，我正在尝试这个：

```
$folder_name1 = student_image_list();
foreach($folder_name1['folder_name'] as $folder_name)  
    { 
        echo ' <div class="mws-panel grid_2">
               <div class="mws-panel-header">
               <span>'.$folder_name.'</span>
               </div>                            
               </div>';
    } 
```

错误警告：在第 41 行的 student_image_list_raw.php 中为 foreach() 提供的参数无效

```
foreach($folder_name1['folder_name'] as $folder_name) 
```

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:43:25.070

你只取一行，似乎没有'folder_name'键，你必须

```
function student_image_list(){
    global $host, $dbname, $user, $pass;
    $DBH = new PDO("mysql:host=$host;dbname=$dbname", $user, $pass);
    $STH = $DBH->query("SELECT DISTINCT folder_name from school_students_images");
    $STH->setFetchMode(PDO::FETCH_ASSOC);
    return $STH;
}

$STH = student_image_list();
while (($row = $STH->fetch()) !== false) {
    echo ' <div class="mws-panel grid_2">
           <div class="mws-panel-header">
           <span>'.$row['folder_name'].'</span>
           </div>                            
           </div>';

} 
```

# php - 葡萄牙语的本地化（双）变音位 (pt_PT)

> ID：10753704
> 
> 赞同：3
> 
> 时间：2012-05-25T11:34:17.997
> 
> 标签：php, localization, soundex, non-english, metaphone

我想看看两个非英语字符串在语音上有多相似，AFAIK [soundex](http://php.net/manual/en/function.soundex.php)和[metaphone](http://php.net/manual/en/function.metaphone.php)实现仅适用于基于英语的字符串，例如[`coração`，`corassão`](http://translate.google.com/#en%7Cpt%7Ccora%C3%A7%C3%A3o%20corass%C3%A3o)在葡萄牙语中听起来完全一样，但`metaphone()`返回[`KR`and`KRS`](http://codepad.org/I2cSVOcf)。其他音素也会发生同样的事情，[`chita`并`xita`](http://translate.google.com/#en|pt|chita%20xita)返回[`XT`and`ST`](http://codepad.org/yFiBoSuk)，但它们听起来是一样的。

我也尝试过这个[Double Metaphone 实现](http://swoodbridge.com/DoubleMetaPhone/)（[演示](http://swoodbridge.com/DoubleMetaPhone/mptest.php3)），但结果完全相同。

那么，**是否有任何替代算法适用于葡萄牙语单词**？我[在另一个问题中读过关于 Lucene 的内容](https://stackoverflow.com/a/1420064/89771)，但我以前从未使用过它，我不确定它是如何工作的或如何使用它。

如果没有，有谁知道我需要收集什么样的数据来开发类似变音位的算法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-29T17:54:40.910

[万一有人感兴趣，我在这里](http://code.google.com/p/metaphone-standards/)找到了一个有前途的正在进行的工作和[其他](http://mecanicamente.blogspot.pt/2009/10/metaphone-em-portugues-para-java.html)[一些](http://sourceforge.net/projects/metaphoneptbr/) [很酷的](http://pgfoundry.org/projects/metaphoneptbr/)[项目](https://github.com/ruliana/MTFN)。

# java - 这个 java .execute() 方法调用是什么意思？

> ID：10753706
> 
> 赞同：6
> 
> 时间：2012-05-25T11:34:20.303
> 
> 标签：java, multithreading, applet

我正在阅读 sun java 教程，我在这里遇到了这个页面：

[如何制作小程序](http://docs.oracle.com/javase/tutorial/uiswing/components/applet.html)

**在“小程序中的线程”**标题下，我找到了这段代码：

```
 //Background task for loading images.
    SwingWorker worker = (new SwingWorker<ImageIcon[], Object>() {
            public ImageIcon[] doInBackground() {
                final ImageIcon[] innerImgs = new ImageIcon[nimgs];
            ...//Load all the images...
            return imgs;
        }
        public void done() {
            //Remove the "Loading images" label.
            animator.removeAll();
            loopslot = -1;
            try {
                imgs = get();
            } ...//Handle possible exceptions
        }

    }).execute();
} 
```

首先我是新手，所以如果这是一个愚蠢的问题，我很抱歉。但是我从未听说过“.excecute()”。我不明白它，我无法从谷歌找到任何关于它的信息。我看到这里是……一个匿名的内部类？（请纠正我）它正在启动一个线程来加载图像。我认为 run() 方法是通过调用 start() 来调用的？请帮助我消除这种困惑。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-25T11:36:13.247

[`execute`](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html#execute%28%29)是一种方法`SwingWorker`。您所看到的是一个[匿名类](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.9.5)被实例化并`execute`立即调用它的方法。

我不得不承认我对代码编译感到有点惊讶，因为它似乎将结果分配给`execute`变量`worker`，并且文档告诉我们这`execute`是一个`void`函数。

如果我们稍微解构该代码，它会更清晰。首先，我们同时创建一个匿名类扩展`SwingWorker`并创建它的一个实例（这是括号中的重要部分）：

```
SwingWorker tmp = new SwingWorker<ImageIcon[], Object>() {
    public ImageIcon[] doInBackground() {
            final ImageIcon[] innerImgs = new ImageIcon[nimgs];
        ...//Load all the images...
        return imgs;
    }
    public void done() {
        //Remove the "Loading images" label.
        animator.removeAll();
        loopslot = -1;
        try {
            imgs = get();
        } ...//Handle possible exceptions
    }

}; 
```

然后我们调用`execute`并将结果分配给`worker`（在我看来，这是不应该编译的位）：

```
SwingWorker worker = tmp.execute(); 
```

**更新**：确实，我试过了，它[**没有**编译](http://pastie.org/3965850)。所以不是很好的示例代码。这将编译：

```
SwingWorker worker = new SwingWorker<ImageIcon[], Object>() {
    public ImageIcon[] doInBackground() {
            final ImageIcon[] innerImgs = new ImageIcon[nimgs];
        ...//Load all the images...
        return imgs;
    }
    public void done() {
        //Remove the "Loading images" label.
        animator.removeAll();
        loopslot = -1;
        try {
            imgs = get();
        } ...//Handle possible exceptions
    }

};
worker.execute(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:36:50.253

`.execute()`在匿名类的实例上调用执行方法；即由 . 创建的对象`new SwingWorker<ImageIcon[], Object>(){...}`。（这是一个扩展类的`SwingWorker`类。）

根据 javadoc，该`execute`方法安排由实例表示的任务在现有工作线程上执行。工作线程的生命周期（例如创建、启动等）由 Swing 基础设施负责。

# mobile - 用户代理替代方案

> ID：10753717
> 
> 赞同：1
> 
> 时间：2012-05-25T11:35:12.180
> 
> 标签：mobile, browser, user-agent

如何在不使用*用户代理*的情况下检测移动浏览器？

试图在网上找到，但所有找到的链接都是关于*用户代理的*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:37:21.917

简单的答案：你不能，至少在服务器端。
但是，更重要的是，您为什么不想*使用*用户代理字符串？

如果您只想检测浏览器是否是移动的，我会使用 JavaScript 来执行此操作，只需根据设备的屏幕尺寸/分辨率进行猜测即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:46:01.937

这取决于您是在服务器端还是客户端。在服务器端，除非你真的做自定义的东西，否则你几乎仅限于 UserAgent。

在客户端，您可以查看诸如 modernizer.js 或 yepnope.js 之类的库。他们可能在幕后使用用户代理数据，不确定。

当然，如果浏览器禁用了 JavaScript，那么你也不走运。

# php - jQuery 支持 Transfer-Encoding:chunked

> ID：10753725
> 
> 赞同：7
> 
> 时间：2012-05-25T11:35:39.223
> 
> 标签：php, jquery, chunked

我是一名网络开发人员。在我的脚本中使用 header() 来设置“Transfer-Encoding:chunked”。和 flush() 到网页。它将在网页上分时打印。它工作正常。但是，当我使用 jQuery.ajax() 请求 this.it 时，它总是一起输出（分块无用）。

如何解决这个问题？在 jQuery ajax 中使用分块编码？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-05T03:40:22.777

您不能使用 jquery.ajax 连续读取分块的 http 响应。jquery ajax 只有在连接终止时才会调用成功回调函数。你应该使用 [这个](http://code.google.com/p/jquery-stream/) jquery 插件。

如果您使用的是 php，那么您可以使用以下代码：

```
 <html>
        <head>
            <script src="jquery-1.4.4.js"></script>
            <script src="jquery.stream-1.2.js"></script>
            <script>

                var println = function(string){
                    $("#console").append(string+"<br />");
                }

                $(document).ready(function(){

                    $.stream("stream.php",{
                        open:function(){
                            println("opened");
                        },
                        message:function(event){
                            println(event.data);
                        },
                        error:function(){
                            println("error");
                        },
                        close:function(){
                            println("closed");
                        }
                    });

                });
            </script>
        </head>
        <body>

            <div id="console"></div>

        </body>
    </html> 
```

在服务器端：

流.php

```
<?php

   header('Content-Encoding', 'chunked');
   header('Transfer-Encoding', 'chunked');
   header('Content-Type', 'text/html');
   header('Connection', 'keep-alive');

   ob_flush();
   flush();

   echo("23123454645645646;");

   $p = "";
   for ($i=0; $i < 1024; $i++) { 
       $p .= " ";
   };
   echo($p.";");

   for ($i = 0; $i < 10000; $i++) {
      echo('6;string;');
      ob_flush();
      flush();
      sleep(2);
   }

?> 
```

# mobile - LocationManager requestLocationUpdates minTime 参数不起作用

> ID：10753726
> 
> 赞同：0
> 
> 时间：2012-05-25T11:35:43.577
> 
> 标签：mobile, time, gps, locationmanager, min

我在我的应用程序中使用 GPS。它在我的一部手机中正常工作，但是当我在其他手机中安装该软件时，LocationManager.requestLocationUpdates 的“minTime”参数不起作用。

```
locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, minTime, misDistance,locationListener); 
```

我有诸如“minTime=120000”（2分钟）和“minDistance=30”（30米）之类的。

这个失败可能是由于第二个移动的准确性（更糟）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-26T14:56:28.797

minTime 参数只是一个提示，请参阅此处了解更多信息：[https ://stackoverflow.com/a/4245527/1127492](https://stackoverflow.com/a/4245527/1127492)

# web-services - 如何发送数据（列表 customer ) 作为 RS 查询 (URI) 的输入

> ID：10753731
> 
> 赞同：0
> 
> 时间：2012-05-25T11:36:19.840
> 
> 标签：web-services, rest, post, jersey, jax-rs

我有一个 JAX-RS Jersey WebService，我试图接受 XML 数据（或 JSON）并返回`String`显示传递的记录总数的响应。

这是我的服务代码：

```
@Path("customers")
@Singleton
public class CustomersResource {
...
    @POST
    @Path("addall")
    @Produces("text/html")
    @Consumes(javax.ws.rs.core.MediaType.APPLICATION_XML)
    public String addCustomers(List<Customer> customerList) {
        return "success : received " + customerList.size() ;
    }
    ...
} 
```

这是我的客户代码：

```
public static void main(String[] args) {
    Client client = Client.create();

    WebResource webresource = client.resource( "http://localhost:8080/restdemo/services/customers/addall");

    String input  = "<customerList><customer><name>name1</name></customer><customer><name>name2</name></customer></customerList>";
    String response = webresource.type("application/xml").post( String.class, input );
    System.out.println(response);
} 
```

错误：

```
Exception in thread "main" com.sun.jersey.api.client.ClientHandlerException: com.sun.jersey.api.client.ClientHandlerException: A message body writer for Java type, class java.util.ArrayList, and MIME media type, application/json, was not found
    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:149)
    at com.sun.jersey.api.client.Client.handle(Client.java:648)
    at com.sun.jersey.api.client.WebResource.handle(WebResource.java:680)
    at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)
    at com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:568)
    at restdemoclient.Main.main(Main.java:35)
Caused by: com.sun.jersey.api.client.ClientHandlerException: A message body writer for Java type, class java.util.ArrayList, and MIME media type, application/json, was not found
    at com.sun.jersey.api.client.RequestWriter.writeRequestEntity(RequestWriter.java:288)
    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:204)
    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:147)
    ... 5 more 
```

我将不胜感激任何帮助或指向任何可能有用的示例代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:57:22.480

this is a sample which demostrates required functionality: [http://search.maven.org/remotecontent?filepath=com/sun/jersey/samples/jaxb/1.12/jaxb-1.12-project.zip](http://search.maven.org/remotecontent?filepath=com/sun/jersey/samples/jaxb/1.12/jaxb-1.12-project.zip)

[Jersey User Guide](http://jersey.java.net/nonav/documentation/latest/user-guide.html) should be useful for you as well.

# soapui - 如何在模拟异步服务中处理 ws-addressing

> ID：10753735
> 
> 赞同：1
> 
> 时间：2012-05-25T11:36:49.100
> 
> 标签：soapui

我正在尝试在soapui 中模拟一个异步服务。我也提到过[SoapUI 模拟异步服务](https://stackoverflow.com/questions/7901685/soapui-mocking-asynchronous-services)。但是，服务客户端没有收到回调请求，因为它没有被发送到 WS-Addressing 属性中指定的所需地址。

在模拟服务和模拟请求上启用 WS-Addressing 会导致以下错误。

```
ERROR:com.eviware.soapui.impl.wsdl.mock.DispatchException: java.lang.NullPointerException
com.eviware.soapui.impl.wsdl.mock.DispatchException: java.lang.NullPointerException
at com.eviware.soapui.impl.wsdl.mock.WsdlMockResponse.execute(WsdlMockResponse.java:323)
at com.eviware.soapui.impl.wsdl.mock.WsdlMockOperation.dispatchRequest(WsdlMockOperation.java:259)
at com.eviware.soapui.impl.wsdl.mock.WsdlMockRunner.dispatchPostRequest(WsdlMockRunner.java:290)
at com.eviware.soapui.impl.wsdl.mock.WsdlMockRunner.dispatchRequest(WsdlMockRunner.java:375)
at com.eviware.soapui.monitor.JettyMockEngine$ServerHandler.handle(JettyMockEngine.java:715)
at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
at org.mortbay.jetty.Server.handle(Server.java:326)
at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:945)
at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:756)
at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NullPointerException
at com.eviware.soapui.impl.wsdl.support.soap.SoapUtils.getHeaderElement(SoapUtils.java:146)
at com.eviware.soapui.impl.wsdl.support.wsa.WsaUtils.getHeader(WsaUtils.java:138)
at com.eviware.soapui.impl.wsdl.support.wsa.WsaUtils.createWSAddressingMockResponse(WsaUtils.java:488)
at com.eviware.soapui.impl.wsdl.support.wsa.WsaUtils.addWSAddressingMockResponse(WsaUtils.java:480)
at com.eviware.soapui.impl.wsdl.mock.WsdlMockResponse.execute(WsdlMockResponse.java:287)
... 16 more 
```

请建议我如何解决这些问题：

*   如何从soap请求中获取寻址信息并在虚拟回调请求中使用它？
*   如何在测试用例中设置回调请求的端点地址？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:49:45.730

soapUI 在模拟异步服务中不支持隐式 ws-addressing。您需要从soap 请求中获取详细信息并将其作为回调请求的一部分传回。下面的代码解决了这个问题。

```
def holder = groovyUtils.getXmlHolder(mockRequest.requestContent)
def map = new com.eviware.soapui.support.types.StringToObjectMap()
holder.declareNamespace("wsa","http://www.w3.org/2005/08/addressing")

map.put("messageID", holder.getNodeValue("//wsa:MessageID/text()"))
def address = holder.getNodeValue("//wsa:ReplyTo/wsa:Address/text()")
map.put("address", java.net.URLDecoder.decode(address, "UTF-8"))

def testsuite = context.mockService.project.getTestSuiteByName("callbackBinding TestSuite")
def testcase = testsuite.getTestCaseByName("successResponse TestCase")

//get mock request teststep by type
def testrequest = (WsdlTestRequestStep)testcase.getTestStepsOfType(WsdlTestRequestStep.class).get(0)
//Set endpoint for the testcase request. Endpoint is the replyTo address sent by by the caller 
testrequest.testRequest.setEndpoint(address)
testcase.run(map, false) 
```

# android - 姜饼和 ICS 中的高清视频流

> ID：10753737
> 
> 赞同：0
> 
> 时间：2012-05-25T11:37:00.770
> 
> 标签：android, video-streaming, android-4.0-ice-cream-sandwich, android-2.3-gingerbread

我真的没有在网上得到任何与这个主题相关的东西。我想在姜饼和 ICS 上制作高清视频流。我尝试在移植了姜饼的 blaze 上本地播放各种高清视频（mp4），但无法播放。首先，我不明白为什么它不能在本地播放视频。

第二件事我把视频保存在服务器上，但在熊猫板上，我只能听到声音，没有画面。

我想知道没有人尝试过播放高清视频。我们是否总是需要压缩这些视频来进行流式传输。

我真的很无助，我搜索了很多，但没有解决方案。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T10:11:44.797

通过此链接[http://developer.android.com/guide/appendix/media-formats.html](http://developer.android.com/guide/appendix/media-formats.html)

检查视频编码建议的部分

表 2\. 支持的视频编码参数示例。SD（低质量） SD（高质量） **HD（并非在所有设备上都可用）**

我猜你使用的设备不支持高清

# javascript - 有没有一种简单的方法可以将自定义类添加到 jQuery-ui Datepicker 的所有元素中？

> ID：10753739
> 
> 赞同：1
> 
> 时间：2012-05-25T11:37:03.163
> 
> 标签：javascript, jquery, jquery-ui-datepicker

长话短说，有没有办法为日期选择器的每个元素添加某个类？（我说的是所有跨度，tds，一切）。我想添加类以防止在使用日期选择器时隐藏我的上下文菜单。（每当我单击没有特定类的元素时，CM 就会隐藏）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:41:36.830

就像是：

```
$('#ui-datepicker-div *').addClass('myclass'); 
```

虽然效率不高，但我建议您检查其他路线以达到预期的效果。

# .net - 为什么类库的 .*proj 文件中没有 projecttypeguids 标签？

> ID：10753747
> 
> 赞同：2
> 
> 时间：2012-05-25T11:37:22.487
> 
> 标签：.net, visual-studio-2010, c#-4.0

最近，我在 .net 解决方案的 .*proj 文件中发现了这些元素。每个 guid 代表一种项目，但我看不到任何“projecttypeguid”标签。为什么会这样？

# windows - Windows Server 2003 - 保持程序永久运行

> ID：10753749
> 
> 赞同：1
> 
> 时间：2012-05-25T11:37:39.973
> 
> 标签：windows, service, windows-server-2003

我被要求查看 Windows Server 2003（我知道...0

我没有任何管理此类机器的经验。

基本上，我有一些史前数据监控软件在运行。我想知道的是：

如何让这个软件永久运行？也就是说，即使在我关闭远程桌面连接之后。我还有一个要在服务器上永久运行的 perl 脚本。

这可能吗？

提前谢谢了，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:40:16.490

您可以创建一个服务来保持软件运行。只需让服务启动软件并配置服务，`Automatic`以便在任何服务器重新启动后，软件将自动再次启动。

如果您不需要监视软件，您可以运行它并离开它，关闭 rdp 会话。关闭 rdp 会话不会影响它。

您可以使用任一选项来运行您的 perl 脚本和软件。

创建服务：

下载[Visual Studio 2010 Express](http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-csharp-express)（免费）-（除非您想为专业版花很多钱）

现在创建一个新的控制台应用程序并按照[此处的说明进行操作](http://www.switchonthecode.com/tutorials/creating-a-simple-windows-service-in-csharp)

您将需要的实际代码是：

```
System.Diagnostics.Process.Start("pathtoyoursoftware"); 
```

这将启动您的软件。

在链接中的代码中，将上面的行放在本节中：

```
protected override void OnStart(string[] args)
{
    base.OnStart(args);
    //TODO: place your start code here
    System.Diagnostics.Process.Start("pathtoyoursoftware"); // put here!
} 
```

或者另一种解决方案是将您的程序添加到注册表以在启动时启动，作为创建服务的替代方法：

`regedit.exe`从运行线打开。

浏览到该键`HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\Run`并创建一个新的字符串值。给它一个名称，然后将值指向您软件的 exe，这将在服务器重新启动时运行您的软件。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:42:29.433

除了服务之外，您可以在 Windows 调度程序中添加一个条目，以在指定的时间间隔执行您的 perl 脚本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T11:47:51.487

如果您不注销，监控软件将继续运行，只需使用“x”按钮关闭远程桌面。这使用户会话保持运行。

# php - 用于 Web 服务的快速顺序日志记录

> ID：10753751
> 
> 赞同：0
> 
> 时间：2012-05-25T11:37:55.250
> 
> 标签：php, javascript, mysql, logging

我的网络服务结构如下：

1.  接收请求
2.  解析和验证输入
3.  做实际的网络服务
4.  验证输出

我主要将日志记录用于调试目的，如果出现问题，我想知道请求是什么，以便我希望重现它（即发送完全相同的请求）。

目前我正在登录到 MySQL 数据库表。在 1\. 之后创建一条记录，在 2\. 和 3\. 之后使用更多信息更新该记录，并在 4\. 之后清理（修剪成功请求的日志）。

我希望日志记录尽可能快速和轻松。这里的任何加速都将大大提高整体性能（每个请求的往返）。

我正在考虑使用`INSERT DELAYED`，但我不能这样做，因为我需要`LAST_INSERT_ID`更新并稍后删除日志记录，或者至少记录请求的状态（即成功或错误），以便我知道何时修剪。

我可以自己生成一个唯一的 id（或者至少是一个“足够独特”的 id），但即使那样我也不知道`DELAYED`语句的顺序，我最终可能会尝试更新或删除一条尚不存在的记录。而且由于`DELAYED`也消除了使用的能力，`NUM_AFFECTED_ROWS`我无法检查查询是否受到影响。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:35:06.250

当您说修剪我假设您删除记录是否成功时？如果是这样，我认为如果您有一个 Java 对象来存储信息而不是数据库，那么当过程展开时，如果发生异常，您将对象中的信息一次全部记录到数据库中，这对您来说会更好。

如果你想更进一步，我做了一些与此类似的事情，我有一个服务，它将审计数据的日志记录排队并以稳定的速度插入信息，所以如果服务受到打击，不会用日志记录语句阻塞数据库，但是，如果您唯一的日志记录错误可能会矫枉过正。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-26T12:02:10.953

我想我可以只做一个`REPLACE DELAYED`并在其他时间进行修剪。（带`DELETE DELAYED`）。

# c# - 以编程方式使用免费代理服务器连接到网站

> ID：10753759
> 
> 赞同：6
> 
> 时间：2012-05-25T11:38:18.617
> 
> 标签：c#, asp.net, .net, proxy

我需要使用代理服务器连接到网站。我可以手动执行此操作，例如我可以使用在线代理`http://zend2.com`，然后浏览`www.google.com`. 但这必须以编程方式完成。我知道我可以使用`WebProxy`类，但是如何编写代码以便可以使用代理服务器？

任何人都可以给我一个代码片段作为示例或其他东西吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:55:17.253

了解 zend2 的工作原理，您可以像这样填充 url：

> [http://zend2.com/bro.php?u=http%3A%2F%2Fwww.google.com&b=12&f=norefer](http://zend2.com/bro.php?u=http%3A%2F%2Fwww.google.com&b=12&f=norefer)

用于浏览谷歌。

IC#，像这样构建 url：

```
string targetUrl = "http://www.google.com";
string proxyUrlFormat = "http://zend2.com/bro.php?u={0}&b=12&f=norefer";
string actualUrl = string.Format(proxyUrlFormat, HttpUtility.UrlEncode(targetUrl));

// Do something with the proxy-ed url
HttpWebRequest req = (HttpWebRequest)WebRequest.Create(new Uri(actualUrl));
HttpWebResponse resp = req.GetResponse();

string content = null;
using(StreamReader sr = new StreamReader(resp.GetResponseStream()))
{
    content = sr.ReadToEnd();
}

Console.WriteLine(content); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:42:31.577

您可以使用[WebProxy 类](http://msdn.microsoft.com/en-us/library/system.net.webproxy.aspx)

MSDN 代码

```
WebProxy proxyObject = new WebProxy("http://proxyserver:80/",true);
WebRequest req = WebRequest.Create("http://www.contoso.com");
req.Proxy = proxyObject; 
```

在你的情况下

```
WebProxy proxyObject = new WebProxy("http://zend2.com",true);
WebRequest req = WebRequest.Create("www.google.com");
req.Proxy = proxyObject; 
```

# linq - “system.string”类型不支持序列运算符

> ID：10753760
> 
> 赞同：-1
> 
> 时间：2012-05-25T11:38:18.750
> 
> 标签：linq, linq-to-sql

这个查询有什么问题

```
 var ptypes = (from mf in _pagecontext.PagesRefs
                let a = mf.nvcr_Slug.Substring(mf.nvcr_Slug.LastIndexOf("/") + 1)  // gets everything after /
                let b = Regex.Replace(a, @"[\d-]+$", m => m.Value.Replace('-', '='))   // replace last char with =
                let cc = (b.Contains('=') ? b.Substring(0, b.IndexOf("=")) : b) // strip off everything before = to get original string
                let cm = stroriginal  // string to search
                where cm.Equals(cc)
                select mf); 
```

nvcr_slug 可能是

```
mazhar-kaunain-baig-3-4
mazhar-kaunain-baig-3-4/mazhar-kaunain-baig-3-4
mazhar-kaunain-baig-3-4/mazhar-kaunain-baig-3-4/mazhar-kaunain-baig
abc
abc/abc
abc/abc/abc 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-03T20:02:24.900

利用

```
let cc = (b.Contains("=") ? b.Substring(0, b.IndexOf("=")) : b) 
```

并尝试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T12:28:03.090

更新：

根据您的评论 - 我认为这应该可行：

`let b = Regex.Replace(a, @".$", '=')`

在使用 LINQ 对集合进行的每次迭代中，您只处理一个值 - 上面应该捕获给定字符串中的最后一个字符并将其替换为`=`

* * *

我能想到的第一件事是 LINQ 和 System.String 方法的实现之间的冲突`Contains`：

`b.Contains('=')`

尝试显式使用 System.String.Contains。

# apache-camel - Apache Camel 中的嵌入式持久性解决方案以保存死信消息

> ID：10753762
> 
> 赞同：2
> 
> 时间：2012-05-25T11:38:23.007
> 
> 标签：apache-camel

Camel API 是否附带任何嵌入式持久性解决方案？我想保存我的死信消息。它可以通过 DB 或 JMS 队列完成，但我想在运送给客户时避免它。
我在“行动中的骆驼”中读到了 HawtDB。但它似乎与聚合器 EIP 紧密耦合。
稍后我想创建一个关于所有死信消息的报告并将其显示给客户。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:48:24.710

您可以使用任何持久性组件来保存死信消息（[Hibernate](http://camel.apache.org/hibernate.html)、[JPA](http://camel.apache.org/jpa.html)、[JDBC](http://camel.apache.org/jdbc.html)、[DB4O](http://camel.apache.org/db4o.html)等）。在大多数持久性组件的情况下，您不会保存消息本身，而是从中选择（元）数据（值得注意的例外是使用 DB4O 组件的情况）。

例如，如果您在消息中发送 Hibernates 实体，则可以使用[Hibernate 组件](http://camel.apache.org/hibernate.html)：

```
from("seda:deadMessageStore").
  setBody().groovy("new DeadMessageLog(request.headers, request.body) ").
  to("hibernate:com.foo.DeadMessageLog");
errorHandler(deadLetterChannel("seda:deadMessageStore")); 
```

如果您无法预测将向死信队列发送什么样的类，请考虑使用[DB4O 组件](http://camel.apache.org/db4o.html)。DB4O 在这方面非常灵活，因为它允许您将任何 Java 对象存储在队列中（无需显式映射，如在 Hibernate 或 JPA 的情况下）。

```
// store any Java object without transformations
errorHandler(deadLetterChannel("db4o:java.lang.Object")) 
```

创建嵌入式 DB40 容器也非常简单：

```
ObjectContainer db = Db4oEmbedded.openFile(Db4oEmbedded.newConfiguration(), DB4OFILENAME); 
```

# android - 如何将 tabActivity 转换为片段

> ID：10753775
> 
> 赞同：0
> 
> 时间：2012-05-25T11:39:22.230
> 
> 标签：android, android-fragments, android-tabactivity

我在我的应用程序中使用了选项卡活动，但是这个类现在已经被贬值了，我怎么能用片段替换它。我也为每个选项卡实现了子选项卡。有人可以通过提供示例代码来帮助我实现这些更改吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:50:03.657

查看这些链接

*   [http://developer.android.com/resources/samples/Support4Demos/src/com/example/android/supportv4/app/FragmentTabs.html](http://developer.android.com/resources/samples/Support4Demos/src/com/example/android/supportv4/app/FragmentTabs.html)
*   [https://stackoverflow.com/questions/9714650/converting-tabactivity-into-fragmentactivity](https://stackoverflow.com/questions/9714650/converting-tabactivity-into-fragmentactivity)

第一个有关于如何使用片段构建选项卡的示例代码（您几乎可以按原样使用它），后者是关于相同的讨论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:44:56.407

使用只有选项卡的操作栏。[ActionBarSherlock](http://actionbarsherlock.com/index.html)库可以很容易地做到这一点。浏览 ActionBarSherlock 示例中的 TabNavigationCollapsed 类。

```
public class TabNavigationCollapsed extends SherlockActivity implements ActionBar.TabListener {
private TextView mSelected;

@Override
public void onCreate(Bundle savedInstanceState) {
    setTheme(SampleList.THEME); //Used for theme switching in samples
    super.onCreate(savedInstanceState);

    setContentView(R.layout.tab_navigation);
    mSelected = (TextView)findViewById(R.id.text);

    getSupportActionBar().setDisplayShowHomeEnabled(false);
    getSupportActionBar().setDisplayShowTitleEnabled(false);
    getSupportActionBar().setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

    for (int i = 1; i <= 3; i++) {
        ActionBar.Tab tab = getSupportActionBar().newTab();
        tab.setText("Tab " + i);
        tab.setTabListener(this);
        getSupportActionBar().addTab(tab);
    }
}

@Override
public void onTabReselected(Tab tab, FragmentTransaction transaction) {
}

@Override
public void onTabSelected(Tab tab, FragmentTransaction transaction) {
    mSelected.setText("Selected: " + tab.getText());
}

@Override
public void onTabUnselected(Tab tab, FragmentTransaction transaction) {
} 
```

}

# asp.net-mvc-3 - MVC 按钮点击操作

> ID：10753779
> 
> 赞同：5
> 
> 时间：2012-05-25T11:39:54.620
> 
> 标签：asp.net-mvc-3, button, actionmethod

> **可能重复：**
> [Mvc Html.ActionButton](https://stackoverflow.com/questions/901372/mvc-html-actionbutton)

我`ASP.NET MVC 3`知道如何很容易地创建到操作方法的链接，但我想知道的是如何让按钮（单击时）调用特定的操作方法？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-05-25T11:46:27.813

萨钦，

如果您使用的是 jquery（您没有提及，但我会展示它，因为它与 mvc 相当标准），您将执行以下操作：

```
$('#buttonId').click(function(){
   document.location = '@Url.Action("MyAction","MyController")';
}); 
```

当然，您可能想要使用 ajax，但这是一个基本示例。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-05-25T11:51:04.397

您可以使用 html `<form>`：

```
@using (Html.BeginForm("SomeAction", "SomeController", FormMethod.Get))
{
    <input type="submit" value="Click me" />
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-05-25T11:42:02.380

除了 Darin 关于使用表单 GET 方法的回答外，您还可以调用 javascript 函数，然后依次调用一个动作。

您可以在单击时拦截按钮单击事件并运行自己的代码。该代码可以使用 Ajax 异步调用操作，或者只是简单地导航到操作方法

这是拦截按钮单击事件的示例 javascript

```
$(document).ready(function () {

    myButton.onclick = function (event) {
        // in here you can call an ajax method or just navigate to an action 
        return false;
    }

    // or using jQuery
    $('#myButton').click(function (e) {
        // do whatever here
        e.preventDefault;
    });
}); 
```

或者您可以拦截具有 href 属性的按钮

```
$(function () {
     $("#myButton").click(function () {
         var href = $(this).attr("href");
         var route = href + "?paramName=" + $('#SomeValue').val();
         $(this).attr("href", route);
     });
}); 
```

这会添加您可能存储在页面上另一个输入中的参数信息，并将其附加到 Url，然后导航到操作

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-05-25T11:44:43.803

你怎么做呢？与不使用 MVC 的方式相同。

```
<INPUT TYPE="BUTTON" VALUE="Home Page" ONCLICK="window.location.href='/Controller/Action'"> 
```

# iphone - Apache Cordova：删除长按链接菜单

> ID：10753782
> 
> 赞同：1
> 
> 时间：2012-05-25T11:39:57.147
> 
> 标签：iphone, apache, cordova

我目前正在使用 Apache Cordova (phonegap) 和 xcode 开发一个 iPhone 应用程序来构建它。它运行良好，但我遇到了一个问题。由于 Apache Cordova 解决方案使用 Webview，当您点击链接时，它会从底部打开一个对话框，询问您是要打开链接还是复制 url。有没有办法删除这个？或者，有没有办法通过另一种方法创建链接？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-25T11:48:16.363

修复了一些 CSS 的问题。

```
-webkit-touch-callout: none; 
```

# php - url 中的空白使用 .htaccess 使 php 中没有页面

> ID：10753787
> 
> 赞同：0
> 
> 时间：2012-05-25T11:40:24.723
> 
> 标签：php, .htaccess

我在使用`.htacess`文件和 url 别名以及`GET`检索值的方法时遇到问题

## .htaccess 文件

```
<IfModule mod_rewrite.c>
    # Enable Rewriting 
    RewriteEngine on 
    RewriteRule ^search-location/(\w+)/?$ findjob4.php?loc=$1
</IfModule> 
```

## findjob.php 文件

```
if (isset($_GET['loc']) or !empty($_GET['loc'])) {
    $d_location = $_GET['loc'];
    echo "Location : " . $d_location;
} 
```

以下是我所做的操作，

```
URL 1   :   www.example.com/search-location/london
ouput   :   Location : london
status  :   Good

URL 2   :   www.example.com/search-location/north-london
output  :   Error 404 , Object not found!
Status  :   The requested URL was not found on this server. If you entered the URL manually please check your spelling and try again.

URL 3   :   www.example.com/search-location/north%20london
output  :   Error 404 , Object not found!
Status  :   The requested URL was not found on this server. If you entered the URL manually please check your spelling and try again. 
```

但是，如果我在 url 值之间给出（空格）或（hypen），我无法获得这些`GET`方法`loc`变量的值。我如何从网址中获取值..`. .``-`

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:50:04.337

尝试用 which 替换`(\w+)`匹配`(.*)`任何内容而不仅仅是一个单词。或者，如果您只需要字符和破折号 (-)，您可以使用以下命令：`([A-Za-z-]+)` 此外，还有一个[工具](http://htaccess.madewithlove.be/)可以帮助调试 .htaccess 内容。

# android - Android 示例代码“FragmentTabs”导致设备方向异常

> ID：10753795
> 
> 赞同：0
> 
> 时间：2012-05-25T11:41:02.103
> 
> 标签：android, android-fragments, android-tabhost

我需要在我的应用程序中使用选项卡，因此我的代码基于[此处的 Android FragmentTabs 示例。](http://developer.android.com/resources/samples/Support4Demos/src/com/example/android/supportv4/app/FragmentTabs.html). 但是，我已经更改了代码中的几行以适合我自己的目的，如下所示。

在给定的 android 代码中，每次用户更改选项卡时，Fragment 都会被销毁，而 Fragment 会被创建。出于我的目的，这是不可取的。尽管我的 Fragments 可以彼此独立，但它们会对来自网络连接的实时数据做出反应并对其采取行动。仅仅因为 Fragment 不在视野范围内并不意味着我希望它停止在后台工作（遗憾的是，这似乎是 Android 示例中的思路）。因此，我将代码更改为“隐藏”和“显示”选项卡，而不是创建和销毁它们。

为了实现这一点，在示例代码中，我`onTabChanged()`在两个地方进行了更改，如下所示：

```
public void onTabChanged(String tabId) {
        TabInfo newTab = mTabs.get(tabId);
        if (mLastTab != newTab) {
            FragmentTransaction ft = mActivity.getSupportFragmentManager().beginTransaction();
            if (mLastTab != null) {
                if (mLastTab.fragment != null) {
                    ft.hide(mLastTab.fragment);  //***** 1st Alteration
                    //ft.detach(mLastTab.fragment);
                }
            }
            if (newTab != null) {
                if (newTab.fragment == null) {
                    newTab.fragment = Fragment.instantiate(mActivity,
                            newTab.clss.getName(), newTab.args);
                    ft.add(mContainerId, newTab.fragment, newTab.tag);
                } else {
                    ft.show(newTab.fragment);   //************ 2nd Alteration
                    //ft.attach(newTab.fragment);
                }
            }

            mLastTab = newTab;
            ft.commit();
            mActivity.getSupportFragmentManager().executePendingTransactions();
        }
    } 
```

这现在可以按我的意愿工作。当设备重新定向时，问题就出现了。在第一次方向改变时，先前选择的选项卡内容即片段不显示。这与我“隐藏”和“显示”标签的事实有关。然而更严重的是，在设备第二次重新定向时会引发异常：

> E/AndroidRuntime（371）：引起：java.lang.NullPointerException E/AndroidRuntime（371）：在 android.support.v4.app.FragmentManagerImpl.findFragmentByTag（FragmentManager.java:1211） E/AndroidRuntime（371）：在 $ TabManager.addTab(ClassName.java:121)

addTab 方法在这里：

```
public void addTab(TabHost.TabSpec tabSpec, Class<?> clss, Bundle args) {
        tabSpec.setContent(new DummyTabFactory(mActivity));
        String tag = tabSpec.getTag();

        TabInfo info = new TabInfo(tag, clss, args);

        // Check to see if we already have a fragment for this tab, probably
        // from a previously saved state.  If so, deactivate it, because our
        // initial state is that a tab isn't shown.
        FragmentManager fm = mActivity.getSupportFragmentManager();
        Log.i("Class Name","addTab() FragmentManager = " + fm.toString());
        Log.i("Class_Name","addTab() tag = " + tag);
        info.fragment = fm.findFragmentByTag(tag); // **** This causes the exception

        /*
         * Commented the following as Fragments are not removed but hidden/shown on tab change.
         */
        if (info.fragment != null && !info.fragment.isDetached()) {
            FragmentTransaction ft = mActivity.getSupportFragmentManager().beginTransaction();
            ft.detach(info.fragment);
            ft.commit();
        }

        mTabs.put(tag, info);
        mTabHost.addTab(tabSpec);
    } 
```

更具体地说，在代码中可以看到异常抛出，`info.fragment = fm.findFragmentByTag(tag);`我试图准确地隔离什么对象是空的，即它是 FragmentManager 还是标签，但这些没有记录为空。

我不完全理解 Android 示例，如果我附加和分离片段而不是隐藏和显示它们，它可以正常工作。谁能解释问题是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T13:24:04.300

根据[运行时更改的 android 文档](http://developer.android.com/guide/topics/resources/runtime-changes.html)，当方向更改时，您的活动将重新启动。这意味着 FragmentManager 将其状态保存到一个包中，然后重新加载它。

所有已查看的选项卡都被添加，即使它们不可见，所以它们被隐藏在 FragmentManager 的添加片段列表中。但是，TabManager 不存储任何内容，它只是重新创建，我怀疑新的 TabManager 和恢复的 FragmentManager 之间的这种不匹配会影响您。

我建议仔细阅读[该文档](http://developer.android.com/guide/topics/resources/runtime-changes.html)以及一些关于保存/恢复选项卡的非常慎重的选择。

其余的纯属猜测。看起来 Fragment.instantiate 和 ft.add 都没有检查新片段是否与旧片段重复。这可能会导致 TabManager 持有对一个片段的引用而 FragmentManager 持有该片段的两个实例的情况。

从 onCreate 中当前不可见的选项卡中清除 FragmentManager 可能就足够了，或者在创建新实例之前检查片段是否存在就足够了。

# android - 更改片段活动android中的本地化

> ID：10753796
> 
> 赞同：1
> 
> 时间：2012-05-25T11:41:02.440
> 
> 标签：android, localization

我尝试在应用程序中更改应用程序本地化。我尝试从操作栏子菜单更改：

```
 @Override
    public boolean onCreateOptionsMenu(Menu menu) {
SubMenu langSelection = menu.addSubMenu(getString(R.string.message_lang));

            langSelection.add(getString(R.string.message_eng)).setOnMenuItemClickListener(new
                    OnMenuItemClickListener()
            {

                    @Override
                    public boolean onMenuItemClick(MenuItem item) {
                        // TODO Auto-generated method stub
                        System.out.println("ENG");
                        try{

                            String languageToLoad  = "en";  
                            Locale locale = new Locale(languageToLoad);   
                            Locale.setDefault(locale);  
                            Configuration config = new Configuration();  
                            config.locale = locale;  
                            //getBaseContext().getResources().updateConfiguration(config,   
                           // getBaseContext().getResources().getDisplayMetrics());  

                            mContext.getApplicationContext().getResources()
                            .updateConfiguration(config, null);

                        }catch (Exception e) {
                            // TODO: handle exception
                            e.printStackTrace();
                        }

                        return true;
                    }

            });
            MenuItem subMenu1Item = langSelection.getItem();
            //setting pic for Actions
           // subMenu1Item.setIcon(R.drawable.icon57);
            subMenu1Item.setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS | MenuItem.SHOW_AS_ACTION_WITH_TEXT);

        }

        return super.onCreateOptionsMenu(menu);
    } 
```

这段代码在 FragmentActivity 中。在 minifest 中，我添加了：

```
android:configChanges="locale" 
```

但是当我改变 lang 时，这不会被调用：

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    // TODO Auto-generated method stub
    System.out.println("onConfigurationChanged() Called");
    super.onConfigurationChanged(newConfig);
} 
```

我忘记了什么？

谢谢

# xpages - 富文本字段导致 DominoDocument.setValue() 错误

> ID：10753798
> 
> 赞同：1
> 
> 时间：2012-05-25T11:41:24.543
> 
> 标签：xpages, lotus-domino, xpages-ssjs

最近在使用富文本字段和 ckeditor 时，我在尝试运行任何提交富文本值的操作时开始收到以下错误：

```
com.ibm.xsp.FacesExceptionEx: Notes exception thrown while calling DominoDocument.setValue() on field rt
at com.ibm.xsp.model.domino.wrapped.DominoDocument.setValue(DominoDocument.java:1465)
at com.ibm.xsp.el.PropertyResolverImpl.setValue(PropertyResolverImpl.java:206)
at com.sun.faces.el.impl.ArraySuffix.setValue(ArraySuffix.java:201)
at com.sun.faces.el.impl.ComplexValue.setValue(ComplexValue.java:180)
at com.sun.faces.el.ValueBindingImpl.setValue(ValueBindingImpl.java:206)
at com.ibm.xsp.component.UIInputEx.updateModel(UIInputEx.java:573)
at javax.faces.component.UIInput.processUpdates(UIInput.java:484)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at com.ibm.xsp.component.UIDataPanelBase.processUpdates(UIDataPanelBase.java:351)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at com.ibm.xsp.component.UIDataPanelBase.processUpdates(UIDataPanelBase.java:351)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at com.ibm.xsp.component.UIDataPanelBase.processUpdates(UIDataPanelBase.java:351)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at com.ibm.xsp.component.UIDataPanelBase.processUpdates(UIDataPanelBase.java:351)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at com.ibm.xsp.component.UIDataPanelBase.processUpdates(UIDataPanelBase.java:351)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at com.ibm.xsp.component.UIDataPanelBase.processUpdates(UIDataPanelBase.java:351)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at com.ibm.xsp.component.UIDataPanelBase.processUpdates(UIDataPanelBase.java:351)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIForm.processUpdates(UIForm.java:222)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1244)
at javax.faces.component.UIViewRoot.processUpdates(UIViewRoot.java:406)
at com.ibm.xsp.component.UIViewRootEx._processUpdates(UIViewRootEx.java:1513)
at com.ibm.xsp.component.UIViewRootEx.processUpdates(UIViewRootEx.java:1492)
at com.sun.faces.lifecycle.UpdateModelValuesPhase.execute(UpdateModelValuesPhase.java:98)
at com.sun.faces.lifecycle.LifecycleImpl.phase(LifecycleImpl.java:210)
at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:96)
at com.ibm.xsp.controller.FacesControllerImpl.execute(FacesControllerImpl.java:250)
at com.ibm.xsp.webapp.FacesServlet.serviceView(FacesServlet.java:223)
at com.ibm.xsp.webapp.FacesServletEx.serviceView(FacesServletEx.java:200)
at com.ibm.xsp.webapp.FacesServlet.service(FacesServlet.java:160)
at com.ibm.xsp.webapp.FacesServletEx.service(FacesServletEx.java:137)
at com.ibm.xsp.webapp.DesignerFacesServlet.service(DesignerFacesServlet.java:103)
at com.ibm.designer.runtime.domino.adapter.ComponentModule.invokeServlet(ComponentModule.java:576)
at com.ibm.domino.xsp.module.nsf.NSFComponentModule.invokeServlet(NSFComponentModule.java:1267)
at com.ibm.designer.runtime.domino.adapter.ComponentModule$AdapterInvoker.invokeServlet(ComponentModule.java:847)
at com.ibm.designer.runtime.domino.adapter.ComponentModule$ServletInvoker.doService(ComponentModule.java:796)
at com.ibm.designer.runtime.domino.adapter.ComponentModule.doService(ComponentModule.java:565)
at com.ibm.domino.xsp.module.nsf.NSFComponentModule.doService(NSFComponentModule.java:1251)
at com.ibm.domino.xsp.module.nsf.NSFService.doServiceInternal(NSFService.java:598)
at com.ibm.domino.xsp.module.nsf.NSFService.doService(NSFService.java:421)
at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.doService(LCDEnvironment.java:341)
at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.service(LCDEnvironment.java:297)
at com.ibm.domino.xsp.bridge.http.engine.XspCmdManager.service(XspCmdManager.java:272)

Caused by: NotesException: Note item not found
at lotus.domino.local.Document.closeMIMEEntities(Unknown Source)
at com.ibm.xsp.model.domino.wrapped.DominoRichTextItem.closeMIMEEntities(DominoRichTextItem.java:2531)
at com.ibm.xsp.model.domino.wrapped.DominoDocument.getRichTextField(DominoDocument.java:1979)
at com.ibm.xsp.model.domino.wrapped.DominoDocument.createRTFieldWithValue(DominoDocument.java:1998)
at com.ibm.xsp.model.domino.wrapped.DominoDocument.setValue(DominoDocument.java:1382)
... 60 more 
```

有谁知道什么可能导致这种行为？我的设计非常复杂，过度使用扩展库，这个错误在某个时候突然出现。我无法指出是什么原因造成的，因为它被我不必要地称为 DominoDocument.getDocument(true) 的日志代码部分遮盖了。

删除此调用后，此错误开始出现。将仲裁调用 DominoDocument.getDocument(true) 添加到随机“渲染”属性 ssjs 代码似乎部分解决了这个问题（这是日志代码首先出现的地方）。

但这仍然是hack，我想知道一开始出了什么问题。

这似乎与 DominoRichTextItem 的 FieldValueHolder 的状态有关（其操作字段设置为 REPLACE 而不是 ADD ！？）

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-12T14:41:27.903

我找到了问题的根源。我似乎认为，如果您从文档数据源中删除 formName 属性，则副作用是此异常和附件消失。

这个回归被引入到我的应用程序中，同时添加了一些文档响应功能（表单是在事件中计算的，所以有人扔掉了 formName 属性）。更糟糕的是，附件的问题被调试代码中的一些 getDocument(true) 调用所掩盖。

如果 xsp 编译器提到 formName 是强制性属性，那就太好了...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:35:48.747

如果您在不存在的文档上调用 REPLACE，您将收到一个错误，并且在您删除代码以检查是否呈现它之后发生错误，听起来好像问题是文档不存在。

你检查过这个吗？使用富文本项的最简单方法就是将其绑定到字段

```
e.g.  value="#{dominoDoc.body}" 
```

这可能并不总是可能的，但它克服了自定义代码导致错误的此类问题。

# php - PHP 丢失会话数据 -> 会话文件被删除太快

> ID：10753800
> 
> 赞同：4
> 
> 时间：2012-05-25T11:41:29.793
> 
> 标签：php, session, timeout

我陷入了一个`$_SESSION`问题，而`$_SESSION`随机丢失了它的数据。

我有一个包含不同页面的表单，用户有特定的时间来浏览所有页面。

所以我在第一页上设置了一个会话变量并在其他页面上检查它。

**开始.php**

```
 <?php
    session_start();  

    //Set Variable for Starting application
    if (!isset($_SESSION['STARTED'])){
        $_SESSION['STARTED'] = time();
    } 
```

**app_init.php**

```
<?php
session_start();

if ((!isset($_SESSION['STARTED'])) || (time() - $_SESSION['STARTED'] > MAX_TIMELIMIT)) {
    echo '<!-- st: '.$_SESSION['STARTED'].'-->';
    // Started Variable is not set or timelimit is over.
    session_destroy();   // destroy session data in storage
    session_unset();     // unset $_SESSION variable for the runtime
    showTimeout('0');   //  show timeout
} 
```

**之后的页面开始：**

```
<?php

// get basic settings for applications 
require_once (MODEL_PATH.'/app_init.php'); 
```

整个系统在本地安装、开发服务器和测试服务器上运行良好。在生产服务器上，我在不同的时间超时。它从 30 秒到 10 分钟不等。`MAX_TIMELIMIT`是 20 分钟。`$_SESSION['STARTED']`在这种情况下总是空的。在其他环境中，它已正确设置，即使 20 分钟后出现超时也是如此。

附加信息：

*   如果我尝试到达下一页或者我只是重新加载实际页面，我总是会超时。
*   我已经检查`php.ini`过任何环境 ->`session.save_path`设置正确，`session.cookie_lifetime`为 0 且`session.gc_maxlifetime`为 1440
*   磁盘空间很好（> 22 GB 可用）
*   每个文件都在同一台服务器上并且具有相同的 url（除了最后一部分指定表单的步骤。看起来像这样：
    host/some/path/calc -> host/some/path/form -> host/some /path/summary -> host/some/path/send
*   会话在计算页面上设置，超时可能发生在每个页面（计算、表单、摘要）
*   我从生产服务器获取了 php.ini 并将其放入我的本地工作区。在更改了一些路径（extensions-path、session.save_path、tmp-path）之后，它在我的本地安装中运行良好。
*   协议是所有页面都相同
*   重新创建会话（通过`$tmp`和`session_destroy()`，`session_create()`）没有帮助
*   单前端，无负载均衡器（只需一个 apache）
*   会话文件以某种方式被删除

添加一些输出并重新测试后，我得到以下信息：

*   我加载页面（第一步）
*   我通过表格到任何步骤（计算/表格/摘要）
*   页面加载时`$_SESSION`是

    `array ( 'STARTED' => 1338298801, 'S_SID_' => '41554681145546', 'S_LC_' => 'de', 'version_testing' => 1, )`

*   我每三十秒重新加载一次该页面

*   至少在 3 分钟后（也可能是 30 秒）我得到超时并且`$_SESSION`是：

    `array ( )`

*   如果我在第一页上尝试这个，我会在 中得到一个新值`$_SESSION`，因为 sessiondata 是空的并且自动设置为新值。

*   要记住：在测试/开发环境中，会话数据仍然存在，即使超时发生在 20 分钟后。

*   首先更改 session.save_path 似乎有效（会话持续至少 24 分钟）。但是一小时后，还是同样的问题。没有会话持续超过 4 分钟。

**发现问题（但还没有解决方案）**
今天我获得了对生产服务器的访问权限，我发现，带有 Session-Data 的文件夹在 3-5 分钟后被清理了。没有文件的时间戳超过 3 分钟。如前所述，PHP 已正确设置（GC 生命周期），我没有找到任何 Windows 作业，或者类似的东西正在删除这些文件。由于 PHP.ini 设置正确，我将尝试通过数据库处理会话。

感谢帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-31T09:38:23.410

在这种特定情况下起作用的是：

另一个网站在同一台服务器上托管，但在不同的虚拟主机中。这个网站使用了一个“init.php”，每次请求都会被调用。它包含将 gc_maxlifetime 设置为 0 并随后开始会话的行。因此，在某些请求下，所有会话数据都被第二个网站随机清除。

在测试和开发上这不是问题，因为这两个环境并没有太多使用......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-29T14:09:47.053

It's a common behavior I've seen multiple times when a PHP website is hosted on **multiple frontend with a load balancer**. As PHP store sessions on the filesystem by default, depending on which front you are, you have one or another session started.

The easy solution is to store your sessions to database, and even if I'm wrong about the load balancer, you should try to read the session data directly on the filesystem, checking what happends exactly (is PHP removing data? Is the data still here but another session token is generated? etc...).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T15:06:14.233

乍一看（没有更多信息），您的会话似乎是在实际开始时间之前开始的。这无疑会导致这个问题。如果这可能是问题，试试这个。

```
$tmp = $_SESSION;
session_destroy();
session_start();
$_SESSION = $tmp;
$_SESSION['started'] = time(); 
```

此外，如果您正在访问子域等，您的会话将不存在。它仅存在于它设置时所在的确切域。

提供更多信息也可能会有所帮助。存在问题的页面的 URL。在页面上添加一些`var_dump($_SESSION)`，并在您逐步完成时查看它的输出。当你注意到一个变化时，弄清楚它在哪里以及为什么会发生变化。

# mysql - 多过滤mysql

> ID：10753801
> 
> 赞同：1
> 
> 时间：2012-05-25T11:41:34.783
> 
> 标签：mysql, sql

我尝试创建一个基于属性的过滤器。设想这是一个多过滤器。

我的表如下所示：

```
product_id  attribute_id  attribute_option_id
----------  ------------  -------------------
4           16            51
4           13            28
5           16            51
6           16            51 
```

如果您选择attribute_option_id 51，那么我将获得product_id 4、5 和6。当我选择attribute_option_id(s) 51 和28 时，我将获得product_id(s) 4、5 和6。这是不想要的结果。在这种情况下，我只想要 product_id 4。现在我认为我可以通过这条线解决这个问题

```
WHERE product_attribute.Attribute_option_id IN ('51 ', '28') 
```

但预计这不是解决方案。

有人可以帮我弄这个吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:44:52.340

```
select a.product_id from (
  select product_id, count(*) as cnt 
  from mytable
  where attribute_option_id in (51, 28)
  group by product_id having count(*) =2) a 
```

应该做的伎俩。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:46:53.427

```
SELECT * 
FROM   mytable 
WHERE  product_id IN (SELECT a.product_id 
                      FROM   mytable a 
                             INNER JOIN mytable b 
                               ON a.product_id = b.product_id 
                      WHERE  a.attribute_option_id = '51' 
                             AND b.attribute_option_id = '28') 
```

# eclipse - RCP 应用程序中的键绑定

> ID：10753805
> 
> 赞同：0
> 
> 时间：2012-05-25T11:41:37.273
> 
> 标签：eclipse, rcp

我们有一个 Rcp 应用程序在桌面上运行。我们正在开发上网本版本。这里我想使用“空格键”作为“输入键”和“Tab”来遍历字段。“空格键”也应该用于从一个页面移动到另一个页面。我搜索了“Swt 中的键绑定”但找不到解决方案。请指导我。提前致谢

# ssh - 在自定义 AMI sshd 中没有开始

> ID：10753811
> 
> 赞同：1
> 
> 时间：2012-05-25T11:42:26.110
> 
> 标签：ssh, amazon-ec2, amazon-web-services, connectivity, amazon-ami

我创建了自己的 AMI，当我启动我的实例时，sshd 没有启动。可能是什么问题？

请在系统日志片段下方找到

```
init: rcS main process (199) terminated with status 1

Entering non-interactive startup
NET: Registered protocol family 10
lo: Disabled Privacy Extensions
Bringing up loopback interface: OK 

Bringing up interface eth0: 
Determining IP information for eth0...type=1400 audit(1337940238.646:4): avc: denied { getattr } for pid=637 comm="dhclient-script" path="/etc/sysconfig/network" dev=xvde1 ino=136359 scontext=system_u:system_r:dhcpc_t:s0 tcontext=system_u:object_r:file_t:s0 tclass=file
martian source 255.255.255.255 from 169.254.1.0, on dev eth0
ll header: ff:ff:ff:ff:ff:ff:fe:ff:ff:ff:ff:ff:08:00
type=1400 audit(1337940239.023:5): avc: denied { getattr } for pid=647 comm="dhclient-script" path="/etc/sysconfig/network" dev=xvde1 ino=136359 scontext=system_u:system_r:dhcpc_t:s0 tcontext=system_u:object_r:file_t:s0 tclass=file
type=1400 audit(1337940239.515:6): avc: denied { getattr } for pid=674 comm="dhclient-script" path="/etc/sysconfig/network" dev=xvde1 ino=136359 scontext=system_u:system_r:dhcpc_t:s0 tcontext=system_u:object_r:file_t:s0 tclass=file
type=1400 audit(1337940239.560:7): avc: denied { getattr } for pid=690 comm="dhclient-script" path="/etc/sysconfig/network" dev=xvde1 ino=136359 scontext=system_u:system_r:dhcpc_t:s0 tcontext=system_u:object_r:file_t:s0 tclass=file
done.
OK 

Starting auditd: OK 

Starting system logger: OK 

Starting system message bus: OK 

Retrigger failed udev events OK 

Starting sshd: FAILED 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-26T13:51:19.593

The problem was due to selinux. Once I disabled selinux during boot up by providing selinux=0 as argument in GRUB for kernel field, the machine booted with sshd service started and I'm able to connect to it.

# javascript - JStestDriver 可以用来测试 JSP 文件中的 js 代码吗？

> ID：10753813
> 
> 赞同：2
> 
> 时间：2012-05-25T11:42:29.623
> 
> 标签：javascript, jsp, unit-testing, js-test-driver, data-integration

快速提问：

是否可以对编写在 JSP 文件中的 Javascript 代码进行单元测试，尤其是使用 JStestDriver？

还是我必须将其提取到外部 js 文件中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-10T20:18:12.963

必须将具有已编译 JSP 替换的 JavaScript 源提取到单独的文件中。下面是一个使用 CoffeeScript 的例子：

*   [CoffeeScript TDD](http://css.dzone.com/articles/coffeescript-tdd-example)

特别是对于 JSP，需要找到编译输出[的路径并](https://stackoverflow.com/questions/16431077/)[调试](https://www.ibm.com/support/knowledgecenter/SSRTLW_9.0.1/com.ibm.etools.pagedesigner.doc/topics/tdbgjsp.html)结果。使用`jspc`JSP 编译器，通过 JsTestDriver 测试输出。

> jspc 命令行工具使您能够在命令行预编译 JSP。
> 
> 在部署具有预编译 JSP 而没有相应 jsp 源文件的 Web 应用程序归档时，您必须禁用 JSP 的动态重新加载。

**参考**

*   [使用命令行编译器编译 JSP](http://docs.oracle.com/cd/E19146-01/821-0790/abxcc/)
*   [调试 JSP 文件](https://www.ibm.com/support/knowledgecenter/en/was_beta/com.ibm.websphere.wdt.doc/topics/tdbgjsp.htm)
*   [贾斯珀操作方法](http://tomcat.apache.org/tomcat-7.0-doc/jasper-howto.html)
*   [jspc 蚂蚁任务](http://ant.apache.org/manual/Tasks/jspc.html)
*   [没有 HTTP 的 Tomcat JSP/JSTL](https://stackoverflow.com/questions/8528697/1113772)

# javascript - WEBGL - 如何显示图像？

> ID：10753819
> 
> 赞同：3
> 
> 时间：2012-05-25T11:42:53.623
> 
> 标签：javascript, webgl

我希望只是使用 WEBGL 在画布上以 x 和 y 坐标显示图像，但不知道该怎么做。我需要包括着色器和所有这些东西吗？我见过显示图像的代码，但它们非常笨重。我不想使用框架。如果可能的话，您能否评论并解释重要部分的作用？我将使用 WEBGL 进行基于 2d 瓷砖的游戏。

感谢您的时间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T14:22:16.300

是的，您需要一个顶点和片段着色器，但它们可以相对简单。我建议从 Mozilla 示例开始，正如 Ido 所建议的那样，在你运行它之后，删除 3D 方面。特别是，您不需要 uMVPMatrix 和 uPmatrix，并且您的坐标数组可以是二维的。对于顶点着色器，这意味着：

```
attribute vec3 aVertexPosition;  
attribute vec2 aTextureCoord;  

varying highp vec2 vTextureCoord;  

void main(void) {  
  gl_Position = vec4(aVertexPosition, 0.0, 1.0);  
  vTextureCoord = aTextureCoord;  
} 
```

# java - IzPack 是否提供“简单”安装模式？

> ID：10753822
> 
> 赞同：1
> 
> 时间：2012-05-25T11:43:19.337
> 
> 标签：java, deployment, installation, izpack

我需要在我的安装程序中提供两种安装模式：“简单”和“常规”。在“简单”模式下，用户不必通过单击“下一步”按钮的步骤进行导航。他只需单击“安装”一次，安装就会继续并以所有默认设置完成。IzPack 是否为这种模式提供面板，还是我必须编写自定义面板？如果是后者，我该怎么做 - 任何指针/资源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T23:16:54.670

我从未尝试过制作这样的安装程序，但我知道可以执行一次安装并根据输入创建自动安装程序。

理论上，您可以使用常规安装程序在机器上安装应用程序，并在最后一个面板 ( `FinishPanel`) 中生成自动安装程序。将生成一个 XML 文件。然后，您只需将此文件放在与安装程序相同的目录中，即可在类似机器上执行全自动安装（相同的操作系统和目录结构等）。

另一种选择是在控制台模式下运行安装程序（使用`-console`参数运行安装 jar 并传递所需的值）。创建一个批处理/shell脚本来一键完成这一切是相当容易的。我前段时间尝试过这种方法，效果很好。不幸的是，对于我当前的安装程序，添加自定义面板似乎以某种方式禁用了此选项。

这些功能的[文档](http://izpack.org/documentation/advanced-features.html#automated-installers)并不太详细。

# jsf - 从 POJO 注释控制 UI 组件

> ID：10753827
> 
> 赞同：1
> 
> 时间：2012-05-25T11:43:34.250
> 
> 标签：jsf, user-interface, annotations, components, pojo

我正在使用**Hibernate、Spring、JSF 和 Primefaces 在 Java EE Web 应用程序中工作。**

我的问题是如何使用 POJO 注释控制**UI 组件**（jsf 和 primefaces 组件）。
**有没有我可以添加到我的项目中的框架来做到这一点？**

例子 ：

```
class user {
   @NotNull @Max=100
   public String name;
} 
```

与名称属性关联的 UI 组件必须验证输入的字符串（不为空且不超过 100 个字符。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:59:40.063

这称为[bean 验证](http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html)，也称为[JSR-303](http://jcp.org/en/jsr/detail?id=303)。参考实现是[Hibernate Validator](http://docs.jboss.org/hibernate/validator/4.2/reference/en-US/html_single/)。这*已经*捆绑在每个符合 Web 配置文件的 Java EE 6 应用程序服务器中，例如 Glassfish 3、JBoss AS 6/7 等。这**未**捆绑在准系统 JSP/Servlet 容器中，例如 Tomcat、Jetty 等。如果您的目标是这些容器，您需要下载 bean 验证库并`/WEB-INF/lib`自己放入 webapp。

### 也可以看看：

*   [Bean Validation @NotNull、@NotBlank 和 @NotEmpty 在 JSF+Tomcat 中不起作用](https://stackoverflow.com/questions/7545231/notnull-notblank-and-notempty-bean-validation-does-not-work-in-jsf)

# mysql - 两个几乎相同的表之间的性能差异

> ID：10753832
> 
> 赞同：0
> 
> 时间：2012-05-25T11:43:53.770
> 
> 标签：mysql

我有两个相同的表，除了一个有一个时间戳值列，另一个有一个日期时间值列。索引是一样的。价值观是一样的。

但是当我运行`SELECT station, MAX(timestamp) AS max_timestamp FROM stations GROUP BY station;`如果站是带有时间戳的站时，它执行得非常快，如果我尝试使用日期时间站，那么我还没有看到一个查询执行。在这两种情况下，`timestamp`列都被索引，只有类型发生变化。

我应该从哪里开始寻找？还是 datetime 不适合搜索和索引？

这是`EXPLAIN`给出的：

```
+----+-------------+-------+-------+---------------+-------+---------+------+------+--------------------------+
| id | select_type | table    | type  | possible_keys | key     | key_len | ref  | rows | Extra                    |
+----+-------------+-------+-------+---------------+-------+---------+------+------+--------------------------+
|  1 | SIMPLE      | stations | range | NULL          | stamp   | 33      | NULL | 1511 | Using index for group-by |
+----+-------------+-------+-------+---------------+-------+---------+------+------+--------------------------+

+----+-------------+--------+-------+---------------+---------+---------+------+---------+-------+
| id | select_type | table    | type  | possible_keys | key     | key_len | ref  | rows    | Extra |
+----+-------------+--------+-------+---------------+---------+---------+------+---------+-------+
|  1 | SIMPLE      |stations2 | index | NULL          | station | 2       | NULL | 3025467 |       |
+----+-------------+--------+-------+---------------+---------+---------+------+---------+-------+ 
```

和`SHOW`：

```
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stations | CREATE TABLE `stations` (
  `station` varchar(10) COLLATE utf8_bin DEFAULT NULL,
  `available` smallint(6) DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  UNIQUE KEY `stamp` (`station`,`timestamp`),
  KEY `time` (`timestamp`),
  KEY `timestamp` (`timestamp`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin |
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stations2 | CREATE TABLE `stations2` (
  `station` smallint(5) unsigned NOT NULL,
  `available` smallint(5) unsigned DEFAULT NULL,
  `timestamp` datetime DEFAULT NULL,
  KEY `station` (`station`),
  KEY `timestamp` (`timestamp`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin |
+--------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T16:58:07.547

您可以从 EXPLAIN 中看到没有用于选择的键（可能的键为 NULL）。你没有 WHERE 子句，所以这是有道理的。

MySQL 可以利用索引来确定 MAX，它可以利用索引来优化 GROUP BY。但是，为了能够优化两者的组合，您需要 MAX() 函数中的列和 GROUP BY 子句中的列都位于复合索引中。在第一个表中，您将此复合索引作为称为“stamp”的唯一键。EXPLAIN 结果显示 MySQL 正在使用该索引。

在第二个表上，您没有此复合索引，因此 MySQL 必须执行更多工作。它必须手动对结果进行分组，并通过手动扫描每一行来保持每个站点的 MAX 值。如果您在第二个表上添加相同的复合索引，您将看到两者之间的性能相似。

但是，TIMESTAMP 仍将略胜于 DATETIME，因为 TIMESTAMP 被视为单个 4 字节整数值，其处理速度比 8 字节特殊 DATETIME 值快。数据集越大，您将看到的差异越大。

# html - 自动生成的 facebook 评论框

> ID：10753836
> 
> 赞同：2
> 
> 时间：2012-05-25T11:44:34.983
> 
> 标签：html, facebook-comments

我正在我的新闻页面上实现 facebook 评论框。它有效。问题是，如果我在一个页面上发表评论，它将显示在包含 fb 评论框的所有页面上。

目前我的代码如下所示：

```
<b><div class="fb-comments" data-href="http://selandia-ceu.dk/selandia/nyheder.aspx" data-num-posts="3" data-width="500"></div>

<script>
  var fb-comments = document.getElementById('fb-comments');  
  mydiv.innerHTML =
    '<div class="fb-comments" data-href="' + document.location.href + '" data-num-posts="3" data-width="500"></fb:comments>';  
  FB.XFBML.parse(fb-comments);
</script></b> 
```

该网站正在使用 Microsoft 服务器。代码中的 url 应该是指正在查看的当前页面。有谁知道我该怎么做？:)

评论在页面上被暂时禁用。

我从这个线程中得到了额外的代码（FB.XFBML.parse）： [每次 ajax 调用后不同的 Facebook 评论框](https://stackoverflow.com/questions/8911425/different-facebook-comment-box-after-each-ajax-call)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T16:02:57.433

您可能需要清理 Open Graph 标记，因为每个评论插件指向的 URL 将被 Open Graph linter 抓取并用于确定规范 URL。问题很可能是您的评论插件最终都指向相同的规范 URL：

[https://developers.facebook.com/tools/debug/og/object?q=http%3A%2F%2Fselandia-ceu.dk%2Fselandia%2Fnyheder.aspx](https://developers.facebook.com/tools/debug/og/object?q=http%3A%2F%2Fselandia-ceu.dk%2Fselandia%2Fnyheder.aspx)

使用此调试工具检查您的 Open Graph 标记并确保每个页面都有自己的规范 URL。您还需要按照调试器的建议更正 HTML 中的 fb:admins 标记。

# javascript - 如何在 html 画布上绘制平滑的文本？

> ID：10753838
> 
> 赞同：1
> 
> 时间：2012-05-25T11:44:42.707
> 
> 标签：javascript, html, text, canvas, draw

> **可能重复：**
> [画布上绘制的文本抗锯齿效果不佳](https://stackoverflow.com/questions/5262174/poor-anti-aliasing-of-text-drawn-on-canvas)

我已经在 html 画布上绘制了文本。但文字的一面并不光滑。我想让它们像 Photoshop 一样平滑。请为我提供示例 javascript 代码以平滑字体文本。

这是我的示例文本：[单击此处查看我想要的内容](https://lh6.googleusercontent.com/-ITo_sdeeUME/T79vFQiJh4I/AAAAAAAAADo/V8tiBbCkTNk/s293/to-make-smooth-side-of-text.jpg)

# python - 无法分配“[u'192.168.99.1', u'192.168.99.1']”：“MultiWAN.nameserver”必须是“NameServer”实例

> ID：10753841
> 
> 赞同：0
> 
> 时间：2012-05-25T11:44:46.047
> 
> 标签：python, django, django-models, foreign-keys

考虑以下 django 模型

```
class MultiWAN(models.Model):

    isp_name = models.CharField(max_length=10)
    description  = models.TextField(null=True)
    ip_address   = models.IPAddressField(null=True)
    subnet       = models.IPAddressField(null=True)
    gateway      = models.IPAddressField(null=True)
    nameserver   = models.ForeignKey('NameServer')
    weight       = models.IntegerField(null=False)
    interface    = models.CharField(max_length=5) 

class NameServer(models.Model):
    """  A Isp can have more than one nameserver so far we are declearing a seperate table 
    """         
    name = models.IPAddressField(null=False) 
```

我已经编写了一个相应的视图来获取用户输入并保存到数据库中

```
def multiwan_info_save(request):

  #  try:
        isp_nm = request.POST['ispname_mw']
        desc_mw  = request.POST['desc_mw']
        ip_address_mw  = request.POST['ip_address_mw']
        subnet_mw = request.POST['subnet_mw']
        nameserver_mw = request.POST.getlist('nameserver_mw')
       # nameserver2_mw = request.POST['nameserver2_mw']
        gateway_mw = request.POST['gateway_mw']
        weight_mw = request.POST['weight_mw']
        interface_mw = request.POST['interface_mw']
        print "+++++++++++++++================="
        print nameserver_mw
        nmservr = NameServer()
        mv = MultiWAN(isp_name=isp_nm,description=desc_mw,ip_address=ip_address_mw,subnet = subnet_mw,gateway=gateway_mw,weight=weight_mw,interface = interface_mw,nameserver = nameserver_mw)

        mv.save()
    #except: 
```

当我试图保存时，我收到了上述错误。请帮助我哪里出错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:25:15.730

您将 MultiWAN.nameserver 定义为 NameServer 模型上的外键，因此您需要将单个 NameServer 实例传递给 MultiWAN，即：

```
nameserver = NameServer.objects.create(name="XXX.XXX.XXX.XXX")
mv = MultiWan.objects.create(nameserver=nameserver, ....) 
```

现在鉴于您正在传递 IP 地址列表，我猜您的 MultiWAN / NameServer 关系错误 - 看起来您希望 NameServer 在 MultiWAN 上有一个外键。

附带说明：您应该真正使用 Form（或 ModelForm），因为它会清理大部分输入并负责验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T18:14:48.587

正如 bruno 所说，您必须传递一个 NameServer 对象，因为您将字段声明为 ForeignKeys，但还要考虑在 NameServer 是否存在之前检查。一个好的做法是使用[objects.get_or_create](https://docs.djangoproject.com/en/dev/ref/models/querysets/#get-or-create)而不是 create。

```
nameserver, is_new = NameServer.objects.get_or_create(name='...') 
```

这样，您将收到名称服务器实例，并且 is_new 将是 True 或 False ，具体取决于是否创建了对象。

# mysql - 查询结果不正确

> ID：10753844
> 
> 赞同：0
> 
> 时间：2012-05-25T11:44:55.973
> 
> 标签：mysql, sql, database

我的查询结果有问题。它没有使用“QuestionContent”字段显示正确的行。

例如在数据库表中，如果它声明（不包括所有字段）：

```
QuestionContent     Option Type    QuestionMarks     Answer   ....// other fields

What is 2+2         A-D            1                  D
What is 3+3         A-D            1                  B
What is 4+4         A-E            2                  C 
```

那么为什么当我创建我的查询时结果显示是这样的：

```
QuestionContent     Option Type    QuestionMarks     Answer   ....// other fields

What is 2+2         A-D            1                  D
What is 3+3         A-D            1                  D
What is 4+4         A-D            1                  D 
```

以下是我正在使用的查询，如何解决才能显示正确的结果？

```
SELECT q.QuestionContent, o.OptionType, q.NoofAnswers, a.Answer, r.ReplyType,
       q.QuestionMarks
FROM Answer a                
INNER JOIN Question q ON a.QuestionId = q.QuestionId
      JOIN Reply r ON q.ReplyId = r.ReplyId
      JOIN Question qu ON r.ReplyId = qu.ReplyId
      JOIN Option_Table o ON qu.OptionId = o.OptionId
GROUP BY q.QuestionContent 
```

更新：下面是 4 个表的架构：

问题表：

```
SessionId (PK)  Varchar(3)
QuestionId(PK)  INT
QuestionContent Varchar(250)
NoofAnswers     INT
QuestionMarks   INT
ReplyId(FK)     Varchar(2)
OptionId(FK)    Varchar(2) 
```

答案表

```
 SessionId (PK)  Varchar(3)
    QuestionId(PK)  INT
    Answer          Varchar(10) 
```

Option_Table 表

```
 OptionId(PK)    Varchar(2)
  OptionType        Varchar(10) 
```

回复表

```
 ReplyId(PK)    Varchar(2)
  ReplyType        Varchar(10) 
```

在查询中，我想显示这些字段：

```
QuestionContent 
OptionType
NoofAnswers
Answer
ReplyType 
QuestionMarks 
```

希望这是足够的信息，如果没有，请给我评论:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:14:02.377

问题：答案总是1:1的比例，多选。您没有理由不能将答案列放在问题表中。正如您刚才提到的，您可以使用“选项类型”作为外键并将其链接到您的各种潜在问题类型集。

编辑：我现在重新设计了每个问题的多个答案。

所以这样的设计：

```
QuestionContent     QuestionID(PK)    QuestionMarks     AnswerID(PK)   ....// other fields

What is 2+2         1                    1                  1
What is 3+3         1                    1                  2
What is 4+4         2                    2                  3 
```

和“选项表”

```
QuestionID(FK)     Option Type

1         A-D           
2         A-E            
3         A-C 
```

现在是一个答案表

```
AnswerID(Fk) Answer

1         A           
1         B
2         A            
3         C
3         A 
```

现在，这为您提供了任意数量的答案类型，并允许每个问题有多个答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T13:21:13.750

假设 Question 表的主键是 SessionID + QuestionID，Answer 表的主键也是 SessionID + QuestionID，您必须在这两个表的两列上指定连接：

```
FROM Answer   AS a
JOIN Question AS q ON q.SessionID = a.SessionID AND q.QuestionID = a.QuestionID 
```

如果没有这两者，当一个问题 ID 出现在多个会话中时，您最终会产生笛卡尔积效应。

此外，由于您没有选择 SessionID，因此您需要处理两个不同会话具有相同问答信息的重复结果。我认为 SELECT DISTINCT 可能比 GROUP BY 更好。当您有聚合（例如 COUNT(*) 或 SUM(expression)）并且不将其用于一般的“重复消除”时，请保留 GROUP BY。

* * *

### 原始评论

我相信你的问题有两个部分——一个可能不重要，另一个可能很重要。

您的查询或多或少是：

```
SELECT q.QuestionContent, o.OptionType, q.NoofAnswers, a.Answer, r.ReplyType,
       q.QuestionMarks
FROM Answer a                
INNER JOIN Question q ON a.QuestionId = q.QuestionId
      JOIN Reply r ON q.ReplyId = r.ReplyId
      JOIN Question qu ON r.ReplyId = qu.ReplyId
      JOIN Option_Table o ON qu.OptionId = o.OptionId
GROUP BY q.QuestionContent 
```

出于某种原因，您已经在其中两次列出了 Question，但没有证据表明您需要第二个别名。仅在此基础上，您就可以将查询简化为：

```
SELECT q.QuestionContent, o.OptionType, q.NoofAnswers, a.Answer, r.ReplyType,
       q.QuestionMarks
  FROM Answer       AS a                
  JOIN Question     AS q ON a.QuestionId = q.QuestionId
  JOIN Reply        AS r ON q.ReplyId = r.ReplyId
  JOIN Option_Table AS o ON q.OptionId = o.OptionId
 GROUP BY q.QuestionContent 
```

那可能不是关键的变化；你似乎有一个 1:1 的加入。优化器可能会忽略对 Question 表的多余的第二次引用，但不提及未使用的更好。

可能关键的问题是 GROUP BY 子句。在大多数 SQL 方言中，您需要在 GROUP BY 子句中列出所有非聚合选定值。在这个查询中，没有显示非聚合，这意味着列出所有 6 个结果列。当你不这样做时，MySQL 会随机处理一些事情。我的怀疑是您需要揭示完整查询中是否有任何聚合，并解释 GROUP BY 应该为您做什么。我不确定简单地省略它是否会给您所需的答案，或者您是否需要做其他事情。缺乏确定性的一个原因是问题中缺乏模式；关于表的模式以及它们之间的主键、外键关系，我们无法透露太多。

所以，我建议使用（尝试）：

```
SELECT q.QuestionContent, o.OptionType, q.NoofAnswers, a.Answer, r.ReplyType,
       q.QuestionMarks
  FROM Answer       AS a                
  JOIN Question     AS q ON a.QuestionId = q.QuestionId
  JOIN Reply        AS r ON q.ReplyId = r.ReplyId
  JOIN Option_Table AS o ON q.OptionId = o.OptionId 
```

If that gives 'the wrong number of rows', then you need to explain the schema and the relationships between the rows.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T11:52:14.757

您正在从不同的表中选择答案。(a.amswers) 你应该做 q.Answer。

# c# - Xml 简化/提取不同值 - 可能的 LINQ

> ID：10753848
> 
> 赞同：0
> 
> 时间：2012-05-25T11:45:09.623
> 
> 标签：c#, asp.net, xml, linq

很抱歉这篇长篇文章......但我对这项任务感到头疼。

我有一个一英里长的 xml 文档，我需要在其中提取一个列表，使用不同的值，并传递给 web.xml 以进行转换。

我已经使用 xslt 和密钥完成了任务，但努力迫使服务器屈服。

描述：xml 中的数百个产品，都具有多个命名和标识的类别，所有类别都具有至少一个具有名称和标识的子类别。

类别在 ID 上是唯一的，所有子类别在该类别中都是唯一的：

大文件的简化示例（我们的大量信息与任务无关）：

```
<?xml version="1.0" encoding="utf-8"?>
<root>
<productlist>
<product id="1">
<name>Some Product</name>
<categorylist>
<category id="1">
<name>cat1</name>
<subcategories>
<subcat id="1">
<name>subcat1</name>
</subcat>
<subcat id="2">
<name>subcat1</name>
</subcat>
</subcategories>
</category>
<category id="2">
<name>cat1</name>
<subcategories>
<subcat id="1">
<name>subcat1</name>
</subcat>
</subcategories>
</category>
<category id="3">
<name>cat1</name>
<subcategories>
<subcat id="1">
<name>subcat1</name>
</subcat>
</subcategories>
</category>
</categorylist>
</product>
<product id="2">
<name>Some Product</name>
<categorylist>
<category id="1">
<name>cat1</name>
<subcategories>
<subcat id="2">
<name>subcat2</name>
</subcat>
<subcat id="4">
<name>subcat4</name>
</subcat>
</subcategories>
</category>
<category id="2">
<name>cat2</name>
<subcategories>
<subcat id="1">
<name>subcat1</name>
</subcat>
</subcategories>
</category>
<category id="3">
<name>cat3</name>
<subcategories>
<subcat id="1">
<name>subcat1</name>
</subcat>
</subcategories>
</category>
</categorylist>
</product>
</productlist>
</root> 
```

**期望的结果：**

```
<?xml version="1.0" encoding="utf-8"?>
<root>
<maincat id="1">
<name>cat1</name>
<subcat id="1"><name>subcat1</name></subcat>
<subcat id="2"><name>subcat2</name></subcat>
<subcat id="3"><name>subcat3</name></subcat>
</maincat>
<maincat id="2">
<name>cat2</name>
<subcat id="1"><name>differentsubcat1</name></subcat>
<subcat id="2"><name>differentsubcat2</name></subcat>
<subcat id="3"><name>differentsubcat3</name></subcat>
</maincat>
<maincat id="2">
<name>cat2</name>
<subcat id="1"><name>differentsubcat1</name></subcat>
<subcat id="2"><name>differentsubcat2</name></subcat>
<subcat id="3"><name>differentsubcat3</name></subcat>
</maincat>
</root> 
```

（原来将从 2000 个产品中产生 10 个类别，其中包含 5 到 15 个子类别）

尝试的事情：

1.  Xslt with keys - 工作正常，但性能不佳
2.  玩过linq：

    ```
     IEnumerable<XElement> mainCats =
                    from Category1 in doc.Descendants("product").Descendants("category") select Category1;

                var cDoc = new XDocument(new XDeclaration("1.0", "utf-8", null), new XElement("root"));
                cDoc.Root.Add(mainCats);
                cachedCategoryDoc = cDoc.ToString(); 
    ```

    结果是“仅限类别”（不是类别或子类别的不同值）

对其应用相同的 xlst，并获得了相当好的性能......但仍远不能使用......

我可以对 linq 语句应用某种魔法来获得所需的输出吗？

一卡车的好业力会传给那些可以为我指明正确方向的人。

//斯蒂恩

笔记：

*   如果有人有更好的选择，我不会坚持使用 linq/XDocument
*   目前在 .net 3.5 上，如果需要可以切换到 4

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:40:41.617

试试这个，我已经为它做了一些事情。缺少属性，您可以使用 XElement ctor 添加它们

```
 var doc = XDocument.Load(reader);
                    IEnumerable<XElement> mainCats =
                        doc.Descendants("product").Descendants("category").Select(r =>
                            new XElement("maincat", new XElement("name", r.Element("name").Value),
                                r.Descendants("subcat").Select(s => new XElement("subcat", new XElement("name", s.Element("name").Value)))));

                    var cDoc = new XDocument(new XDeclaration("1.0", "utf-8", null), new XElement("root"));
                    cDoc.Root.Add(mainCats);
                    var cachedCategoryDoc = cDoc.ToString(); 
```

问候。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T12:42:58.183

如果我正确理解了你的问题，这里有一个 LINQ 尝试。

下面的查询解析您的 XML 数据并创建一个自定义类型，该类型表示一个类别并包含该元素的子类别。

解析后，数据按类别 ID 分组，以获得每个类别的不同子类别。

```
var doc = XElement.Load("path to the file");
var results = doc.Descendants("category")
    .Select(cat => new
    {
        Id = cat.Attribute("id").Value,
        Name = cat.Descendants("name").First().Value,
        Subcategories = cat.Descendants("subcat")
            .Select(subcat => new
            {
                Id = subcat.Attribute("id").Value,
                Name = subcat.Descendants("name").First().Value
            })
     })
     .GroupBy(x=>x.Id)
     .Select(g=>new
     {
         Id = g.Key,
         Name = g.First().Name,
         Subcategories = g.SelectMany(x=>x.Subcategories).Distinct()
     }); 
```

根据上面的结果，您可以使用以下代码创建文档：

```
var cdoc = new XDocument(new XDeclaration("1.0", "utf-8", null), new XElement("root")); 
cdoc.Root.Add(
    results.Select(x=>
    {
        var element = new XElement("maincat", new XAttribute("id", x.Id));
        element.Add(new XElement("name", x.Name));
        element.Add(x.Subcategories.Select(c=>
        {
            var subcat = new XElement("subcat", new XAttribute("id", c.Id));
            subcat.Add(new XElement("name", c.Name));
            return subcat;
        }).ToArray());
        return element;
    })); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T11:26:54.367

这会将您的 xml 解析为具有所有不同子类别名称的类别字典。它使用来自这个库的 XPath：[https ://github.com/ChuckSavage/XmlLib/](https://github.com/ChuckSavage/XmlLib/)

```
XElement root = XElement.Load(file);
string[] cats = root.XGet("//category/name", string.Empty).Distinct().ToArray();
Dictionary<string, string[]> dict = new Dictionary<string, string[]>();
foreach (string cat in cats)
{
    // Get all the categories by name and their subcat names
    string[] subs = root
        .XGet("//category[name={0}]/subcategories/subcat/name", string.Empty, cat)
        .Distinct().ToArray();
    dict.Add(cat, subs);
} 
```

或解析为一个语句：

```
Dictionary<string, string[]> dict = root
    .XGet("//category/name", string.Empty)
    .Distinct()
    .ToDictionary(cat => cat, cat => root
        .XGet("//category[name={0}]/subcategories/subcat/name", string.Empty, cat)
        .Distinct().ToArray()); 
```

我给你从字典中组装生成的 xml 的任务。

# jquery - 在 asp.net 中下载文件后完成的事件触发

> ID：10753849
> 
> 赞同：2
> 
> 时间：2012-05-25T11:45:10.530
> 
> 标签：jquery, asp.net-mvc, asp.net-ajax

当客户端浏览器请求下载文件并且文件完成下载时，我想在服务器上通知服务器，我可以在文件下载完成或用户取消文件下载时执行完成事件。

当用户浏览器请求保存文件（或只是下载）时，当下载完成时，我希望网络服务器删除文件。

我一直在关注`IHTTPModule`和`EndRequest`事件，但这似乎没有任何帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T18:57:11.023

可能您正在寻找 OnResultExecuted 方法。

```
protected override void OnResultExecuted(ResultExecutedContext filterContext)
        {
           // implement your code here
            base.OnResultExecuted(filterContext);
        } 
```

# ios - iOS 中的 MUC 使用 robbiehanson XMPPframework

> ID：10753851
> 
> 赞同：3
> 
> 时间：2012-05-25T11:45:30.483
> 
> 标签：ios, xmpp, ejabberd, xmppframework, multiuserchat

使用 robbiehanson XMPPframework 在 iOS 中实现 MUC 的分步过程是什么？

我尝试分配房间，然后激活流并加入房间。

但我得到了如下回复：

```
 <iq xmlns="jabber:client" from="room@XXXXX.com" to="user@XXXXX.com/34633017701337944885586135" type="error" id="4DD4A6E2-E24F-4D38-AD87-15070B6AD90E"><query xmlns="http://jabber.org/protocol/muc#owner"><x xmlns="jabber:x:data" type="submit"/></query><error code="503" type="cancel"><service-unavailable xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/></error></iq> 
```

还收到了一个智商：`xmppStream:didReceiveIQ: - 4DD4A6E2-E24F-4D38-AD87-15070B6AD90E`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T04:20:12.603

最后我想通了。它可能会帮助某人。创建或加入房间时，格式应为`yourRoomName@conference.YourDomainName.com`. 是这里`conference`的关键字。

# c# - 如何使用网站参数的用户名和密码打开网络资源管理器？

> ID：10753854
> 
> 赞同：0
> 
> 时间：2012-05-25T11:45:48.533
> 
> 标签：c#, .net, process, explorer

伙计们，我正在制作 c# windows 应用程序，我想用一个显示登录页面的网站打开任何资源管理器（IE、FireFox、Chrome 等），要求我输入我的用户名和密码。

我在做。

```
Process p =new Process();
ProcessStartInfo Sinfo=new ProcessStartInfo();
Sinfo.FileName="chrome.exe" //  or Sinfo.Filename="IExplorer.exe";
Sinfo.agruments="www.mail.yahoo.com";
p.startinfo=Sinfo;
p.start(); 
```

我不知道如何将我的电子邮件/用户名和密码发送到特定网站以自动登录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:09:30.367

即使您要发帖，如今大多数网站都有所谓的跨站请求伪造 (CSRF) 保护功能，可以防止某人从其他地方发布表单，除非他们在允许这样做的网站上。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-25T11:59:46.347

仅当目标网站被编程为接受查询字符串中的这些值时，才能在查询字符串中传递用户名和密码。

这是一个例子：[链接](http://drupal.org/node/952894)

# ios - UINavigationBar：重绘？

> ID：10753858
> 
> 赞同：0
> 
> 时间：2012-05-25T11:46:15.400
> 
> 标签：ios, uinavigationcontroller, uinavigationbar, background-image, repaint

我面临一个我不明白的问题。

在我的主视图中，我有一个指向另一个视图的按钮。一切都嵌入在 NavigationController 中。

我在主视图中成功更改了 NavigationBar 的背景图像。但是，当我单击按钮以显示我的其他视图时，我的 NavigationBar 没有重新绘制，尽管我正在使用此代码：

```
- (IBAction) toOtherView : (id) sender
{
    if(!otherView) otherView = [[OtherViewController alloc] initWithNibName:@"OtherViewController" bundle:nil];
    [self.navigationController pushViewController:otherView animated:NO];
} 
```

但是，我的主视图上还有一个 Dark Info 按钮（我一开始选择了默认的 Utility Application）。它翻转到另一个视图，当我回到主视图时，导航栏图像已更改。所以我猜这是重绘的问题。但我能在这里做什么？

非常感谢您的建议。

# jsp - 返回按钮功能

> ID：10753869
> 
> 赞同：0
> 
> 时间：2012-05-25T11:46:50.780
> 
> 标签：jsp, struts2

我有一个页面显示特定客户已下的订单列表。当在该页面中单击任何一个订单链接时，客户将被重定向到另一个页面，该页面显示该特定订单的详细信息。我想要那个详细信息页面中的后退按钮，以便用户可以返回到订单列表页面（即到他被重定向的页面）..我希望它像浏览器的后退按钮一样工作..我在谷歌上搜索了很多，但没有成功..请帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:53:09.920

您可以使用 JavaScript：[http ://www.w3schools.com/jsref/met_his_back.asp](http://www.w3schools.com/jsref/met_his_back.asp)

但是，请确保使用 HTTP 重定向：[http ://www.w3.org/QA/Tips/reback](http://www.w3.org/QA/Tips/reback)

# apache - 如何在 Apache ACE 中获取 Repositorytool.jar？

> ID：10753871
> 
> 赞同：2
> 
> 时间：2012-05-25T11:46:58.803
> 
> 标签：apache, jar, download, repository, osgi

Apache Ace 文档提到了可用于管理存储库的 RepositoryTool.jar [。](https://cwiki.apache.org/ACE/software-development-tools.html)但是我在 Apache ACE 发行版中找不到这个工具。我在哪里可以下载这个工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T17:06:52.300

您所指的页面是旧站点的一部分（新站点位于[http://ace.apache.org](http://ace.apache.org)），并且指的是您可能不再应该使用的工具：它在此之前已经使用过是与存储库交互的其他方式，主要用于开发目的。

根据您的需要，您可以通过多种方式使用存储库，

*   如果您需要以编程方式读取和写入存储库（记住它们只是 XML），请使用可用的[HTTP API](https://cwiki.apache.org/confluence/display/ACE/Object+Repository+Protocol)。
*   您可以从代码中执行相同的操作，请参阅[存储库](https://svn.apache.org/repos/asf/ace/trunk/ace-repository-api/src/main/java/org/apache/ace/repository/Repository.java)及其实现。
*   如果您想编辑“有意义的”ACE 数据（例如链接分布和目标），请使用[客户端 REST API](https://cwiki.apache.org/confluence/display/ACE/Client+REST+API)。这可能是您想要的选项。

# java - 如何从具有通用模板的类生成 XML 响应（ ) 在 RESTEasy 中？

> ID：10753876
> 
> 赞同：9
> 
> 时间：2012-05-25T11:47:17.660
> 
> 标签：java, web-services, rest, jaxb, resteasy

我有一个通用的 ServiceResponse 类，如下所示：

```
@XMLRootElement
public class ServiceResponse<T>
{
    private T data;
    private String error;
    //setters n getters

} 
```

从我的 RESTEasy 服务，我想生成 xml 响应：

```
List<Customer> customers = someDAO.getCustomers();
ServiceResponse<List<Customer>> resp = new ServiceResponse<List<Customer>>();
resp.setData(customers);
resp.setError("No Error");
return resp;
or return Response.ok().entity(resp).build(); 
```

但这会引发错误，因为 java.util.List 没有 JaxbMarshallWriter。

我可以编组列表使用 GenericEntity 类。

```
GenericEntity<List<Customer>> entity = new GenericEntity<List<Customer>>(customers){};
Response.ok(entity).build(); 
```

但是`GenericEntity<ServiceResponse<List<Customer>>>`没有为 java.util.List 说没有 JaxbMarshallWriter。

是否可以使用通用模板（，）来编组/解组类？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T17:34:34.133

我不确定您的类使用通用模板是否会有所不同，但这就是我使用 RESTEasy 生成 XML 响应的方式

这是将保存您的服务响应的类

```
public class ServiceResponse<T>
{
    private T data;
    private String error;
    //setters n getters
} 
```

这个类实际上会将您的响应转换为 XML。除了接收和生成 XML/JSON 或您正在使用的任何内容之外，这个类实际上并没有做太多事情。然后它将请求传递给执行实际工作的类。然而，这门课可以回答你的具体问题（我相信）。

```
@Path("/myrestservice")
public class SomeRestService
{
    private SomeCoreService coreService;
    //getters and setters here

    @POST
    @Path("/examples/")
    @Consumes({MediaType.APPLICATION_XML}) //this consumes XML
    @Produces({MediaType.APPLICATION_XML}) //this produces XML
    public ServiceResponse<T> exampleFunction(Request request)
    {
        try
        {
            //Unwrap the request and take only what you need out
            //of the request object here
            return this.coreService.examples(request.getStringFromRequest());
        }
        catch(Exception ex)
        {
            return new ServiceResponse<T>(Put response error message here);
        }
    }
} 
```

这是完成所有实际工作的类。

```
public class SomeCoreService
{
    public ServiceResponse<T> examples(String stringFromRequest)
    {
        //do whatever work you need to do here.
        return new ServiceResponse<T>(put whatever you need in the service response here)
    }
} 
```

另外，我还没有测试过这些。希望这足以让您获得模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-02T11:03:23.140

问题不是*通用*的问题是您应该将列表包装在一个对象中。

```
ServiceResponse<ResponseData<Customer>> resp = new ServiceResponse<ResponseData<Customer>>(); 
```

然后，您可以注释 ResponseData 类以表示一组对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T15:28:19.737

我为同样的问题所做的一个解决方案是创建一个新类型来模拟泛型类型 List，正如我所做的那样，我创建了一个名为 Container 的新类型（例如：PersonContainer），其中有一个我的实体（人）的列表，我使用它而不是 List 类型，它工作得很好......

这里有我的例子，如果它对你有用的话：

```
package com.dosideals.server.beans;

import java.io.Serializable;
import javax.persistence.Entity;
import javax.persistence.Id;
import javax.xml.bind.annotation.XmlRootElement;

/**
 *
 * @author LOTFI
 */
@Entity
@XmlRootElement
public class Admin implements Serializable {

    @Id
    private String login;
    private String password;
    private String firstName;
    private String lastName;

    public Admin() {
    }

    public Admin(String login, String password, String firstName, String lastName) {
        this.login = login;
        this.password = password;
        this.firstName = firstName;
        this.lastName = lastName;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public String getLogin() {
        return login;
    }

    public void setLogin(String login) {
        this.login = login;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    @Override
    public boolean equals(Object obj) {
        if (obj == null) {
            return false;
        }
        if (getClass() != obj.getClass()) {
            return false;
        }
        final Admin other = (Admin) obj;
        if ((this.login == null) ? (other.login != null) : !this.login.equals(other.login)) {
            return false;
        }
        return true;
    }

    @Override
    public int hashCode() {
        int hash = 7;
        hash = 83 * hash + (this.login != null ? this.login.hashCode() : 0);
        return hash;
    }

    @Override
    public String toString() {
        return "Admin{" + "login=" + login + ", password=" + password + ", firstName=" + firstName + ", lastName=" + lastName + '}';
    }
} 
```

这是容器 AdminContainer ：

```
package com.dosideals.server.beans.containers;

import com.dosideals.server.beans.Admin;
import java.util.List;
import javax.xml.bind.annotation.XmlRootElement;

/**
 *
 * @author LOTFI
 */
@XmlRootElement
public class AdminContainer {

    private List<Admin> admin;

    public AdminContainer() {
    }

    public AdminContainer(List<Admin> admin) {
        this.admin = admin;
    }

    public List<Admin> getAdmin() {
        return admin;
    }

    public void setAdmin(List<Admin> admin) {
        this.admin = admin;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-20T13:19:44.407

我知道回复晚了，但由于没有投票的答案，我会尽力给出我的答案，希望它有所帮助。

问题是当你有一个泛型类说 MyClass jaxB excepts T 用@XMLRootElement 或@XMLType 进行注释时。

在您的代码场景中，您的类型 T 属于 List List 没有任何 @XMLRootElement 或 @XMLType 因此它会引发错误。我认为上述情况的解决方案是为 Collection 创建一个包装类，例如

```
@XMLRootElement
Class JaxBCollection<T>{
    java.util.Collection<T> collection;
    /* Have getters and setters*/
} 
```

现在在你的代码中有这样的东西。

```
List<Customer> customers = someDAO.getCustomers();
JaxBCollection<Customer> jaxBCustomers= new JaxBCollection<Customer>();
jaxBCustomers.setCollection(customers);
ServiceResponse<JaxBCollection<Customer>> resp = new ServiceResponse<JaxBCollection<Customer>>();
resp.setData(jaxBCustomers);
resp.setError("No Error");
return resp; 
```

# wireshark - Wireshark 不区分 ACSE 和 MMS PDU

> ID：10753878
> 
> 赞同：6
> 
> 时间：2012-05-25T11:47:25.970
> 
> 标签：wireshark, wireshark-dissector

我正在使用wireshark 中的消息制造规范（MMS）。该工具无法剖析 ACSE 层。它不显示任何错误，但将 ACSE 数据显示为 MMS 的一部分，即在表示层之后，显示 MMS。如果wireshark有办法区分这两个层，请提供帮助。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-10-02T18:14:09.367

这个问题来自 2012 年，但在 2016 年，Wireshark 2.2.0 能够剖析 MMS PDU 中的 ACSE（关联控制服务元素）。要对其进行测试，您可以[从 Wireshark 网站下载 MMS 示例捕获数据](https://wiki.wireshark.org/SampleCaptures?action=AttachFile&do=view&target=mms.pcap.gz)并在 Wireshark 中打开它。您将看到剖析的 ACSE，例如：

```
ISO 8650-1 OSI Association Control Service
    aarq
        Padding: 7
        protocol-version: 80 (version1)
        aSO-context-name: 1.0.9506.1.1 (iso.0.9506.1.1)
        called-AP-title: ap-title-form2 (1)
        called-AE-qualifier: aso-qualifier-form2 (1)
        calling-AP-title: ap-title-form2 (1)
        calling-AE-qualifier: aso-qualifier-form2 (1)
        user-information: 1 item 
```

# python - Django，会话属性

> ID：10753880
> 
> 赞同：0
> 
> 时间：2012-05-25T11:47:46.490
> 
> 标签：python, django, dajaxice

我正在尝试使用会话将一些数据从一页传递到另一页。这是我在 ajax.py 中编写的代码。

```
def save_cookie(request, query):
    request.session['query'] = query 
```

但是当我调用这个 dajaxice 函数时，会发生错误。众所周知，当我们尝试在 html 页面中使用 dajaxice 时，错误消息总是“sth go wrong”。我尝试调试 save_cookie，但我创建的模拟请求对象没有会话属性。但是，如果我做 request.session="blah"，它就起作用了。如果我直接使用 save_cookie(request,query)。它会弹出请求对象没有attr seesion的错误消息...

代码是正确的。我没有看到任何错误。有人知道原因吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:14:58.213

从来没有使用过 dajaxice / dajax 所以我真的帮不上忙。只是几点：

*   您是否启用（并正确配置）会话支持？[https://docs.djangoproject.com/en/1.3/topics/http/sessions/](https://docs.djangoproject.com/en/1.3/topics/http/sessions/)

*   您可以使用日志记录模块（或简单的“打印”语句，但您不会拥有整个回溯）来跟踪异常，即：

    def save_cookie(request, query): try: request.session['query'] = query except Exception, e: print e raise

print 语句的输出现在应该出现在您启动开发服务器的 shell 中（假设您正在使用开发服务器......您正在使用开发服务器，不是吗？）

*   仍在使用开发服务器，您可以使用 pdb 切换到交互式调试：

    def save_cookie(request, query): 导入 pdb；pdb.set_trace() request.session['query'] = 查询

然后尝试在浏览器中访问 url，切换回你的 shell，你就在一个 pdb 会话中，你可以在其中检查请求和（如果有的话）request.session 对象等。

注意：如果在 Apache 或任何其他 Web 服务器后面运行，请不要这样做 - 仅使用内置开发服务器。

*   “request.session='blah'” 将在“请求”对象上创建“会话”属性，如果它不存在（如果它已经存在，可能会替换真正的“会话”对象），所以它既不是一个有效的测试也没有什么明智的做法

我的2美分...

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-25T12:08:12.927

免责声明：我对 dajaxice 一无所知。

以下将适用于模拟请求对象：

```
def save_cookie(request, query):
    if not hasattr(request, 'session'):
        request.session = dict()
    request.session['query'] = query 
```

# forms - 更改 html5 联系表单中必填字段中错误消息的语言

> ID：10753881
> 
> 赞同：70
> 
> 时间：2012-05-25T11:47:51.183
> 
> 标签：forms, html

我正在尝试更改 html5 表单字段中错误消息的语言。

我有这个代码：

```
<input type="text" name="company_name"  oninvalid="setCustomValidity('Lütfen işaretli yerleri doldurunuz')" required /> 
```

但是在提交时，即使该字段不是空白的，我仍然会收到错误消息。

我试过了`<input type="text" name="company_name" setCustomValidity('Lütfen işaretli yerleri doldurunuz') required />`

但随后显示英文消息。任何人都知道如何以其他语言显示错误消息？

问候，佐兰

* * *

## 回答 #1

> 赞同：95
> 
> 时间：2012-05-25T12:56:37.807

`setCustomValidity`的目的不仅仅是设置验证消息，它本身将字段*标记*为无效。它允许您编写本机不支持的自定义验证检查。

您有两种可能的方法来设置自定义消息，一种简单的不涉及 Javascript，另一种则涉及。

最简单的方法是简单地使用`title`input 元素上的属性 - 它的内容与标准浏览器消息一起显示。

```
<input type="text" required title="Lütfen işaretli yerleri doldurunuz" /> 
```

![在此处输入图像描述](../Images/d5231eb3df4c04e230b4ab3ead71d508.png)

如果您只想显示您的自定义消息，则需要一些 Javascript。[我在这个小提琴](http://jsfiddle.net/zpkKv/2/)中为你提供了两个例子。

* * *

## 回答 #2

> 赞同：56
> 
> 时间：2014-10-07T13:03:15.473

你忘记`this`了`oninvalid`，用这个改变你的代码：

```
 oninvalid="this.setCustomValidity('Lütfen işaretli yerleri doldurunuz')" 
```

[![在此处输入图像描述](../Images/3f4836795b1f1509159a5610df2db897.png)](https://i.stack.imgur.com/xebwh.jpg)

```
<form><input type="text" name="company_name"  oninvalid="this.setCustomValidity('Lütfen işaretli yerleri doldurunuz')" required /><input type="submit">
</form>
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2014-03-14T02:15:00.873

**HTML：**

```
<form id="myform">
    <input id="email" oninvalid="InvalidMsg(this);" name="email" oninput="InvalidMsg(this);"  type="email" required="required" />
    <input type="submit" />
</form> 
```

**JAVASCRIPT：**

```
function InvalidMsg(textbox) {
    if (textbox.value == '') {
        textbox.setCustomValidity('Lütfen işaretli yerleri doldurunuz');
    }
    else if (textbox.validity.typeMismatch){
        textbox.setCustomValidity('Lütfen işaretli yere geçerli bir email adresi yazınız.');
    }
    else {
       textbox.setCustomValidity('');
    }
    return true;
} 
```

**演示：**

[http://jsfiddle.net/patelriki13/Sqq8e/4](http://jsfiddle.net/patelriki13/Sqq8e/4)

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2019-09-27T07:42:28.553

这对我有用。

```
<input oninvalid="this.setCustomValidity('custom text on invalid')" onchange="this.setCustomValidity('')" required> 
```

onchange 是必须的！

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2017-02-22T12:27:59.517

我知道这是一个旧帖子，但我想分享我的经验。

HTML：

```
<input type="text" placeholder="Username or E-Mail" required data-required-message="E-Mail or Username is Required!"> 
```

Javascript（jQuery）：

```
$('input[required]').on('invalid', function() {
    this.setCustomValidity($(this).data("required-message"));
}); 
```

这是一个非常简单的示例。我希望这对任何人都有帮助。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2018-06-04T20:47:47.850

```
//Dynamic custome validation on all fields
//add validate-msg attr to all inputs
//add this js code

$("form :input").each(function(){
                    var input = $(this);
                    var msg   = input.attr('validate-msg');
                    input.on('change invalid input', function(){
                        input[0].setCustomValidity('');
                        if(!(input[0].validity.tooLong || input[0].validity.tooShort)){
                            if (! input[0].validity.valid) {
                                input[0].setCustomValidity(msg);
                            }
                        }

                    });
                }); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-07-03T02:06:44.150

```
<input type="text" id="inputName"  placeholder="Enter name"  required  oninvalid="this.setCustomValidity('Your Message')" oninput="this.setCustomValidity('') /> 
```

这可以帮助您更好、更快、更方便、更轻松。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-12-14T17:24:36.997

**TLDR：**通常，您不需要更改验证消息，但如果您确实使用此：

```
<input
    oninvalid="this.setCustomValidity('Your custom message / 您的自定义信息')"
    oninput="this.setCustomValidity('')"
    required="required"
    type="text"
    name="text"
> 
```

验证消息来自您的浏览器，如果您的浏览器是英文的，则消息将是英文的，如果浏览器是法语的，则消息将是法语的，依此类推。

如果您的输入默认验证消息不适合您，最简单的解决方案是将您的自定义消息`setCustomValidity`作为参数提供。

```
...
oninvalid="this.setCustomValidity('Your custom message / 您的自定义信息')"
... 
```

这是覆盖默认消息的本机输入方法。但是现在我们有一个问题，一旦触发验证，消息会在用户输入时一直显示。因此，要停止显示消息，您可以使用`oninput`属性将有效性消息设置为空字符串。

```
...
oninput="this.setCustomValidity('')"
... 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-05-07T12:21:52.943

使用 JS 来完成。获取错误消息的类别，并更改它出现的任何地方的内容。

```
var myClasses = document.getElementsByClassName("wpcf7-not-valid-tip");

for (var i = 0; i < myClasses.length; i++) {
    myClasses[i].innerHTML = "Bitte füllen Sie das Pflichtfeld aus.";
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-12-23T08:37:59.473

```
<form>
  <input
    type="text"
    name="company_name"
    oninvalid="this.setCustomValidity('Lütfen işaretli yerleri doldurunuz')"
    required
  /><input type="submit" />
</form>
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-09-09T00:37:23.517

对于正在寻找一种方法来完全本地化他们的错误信息的迷失灵魂，请参阅下面的片段。简而言之，您必须使用 切换属性`event.target.validity`并覆盖相应的错误消息`event.target.setCustomValidity(message)`。如果您只关心作为 OP 的空字段案例，只需考虑`valueMissing`.

请注意，处理程序是以*React*方式传递的，但其他答案已经涵盖了如何在 vanilla JS 中执行此操作。

有关每个有效性状态的含义以及如何实现自定义错误消息，请参阅[MDN：使用 JavaScript 验证表单](https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation#validating_forms_using_javascript)。

```
const handleInvalidForm = (event) => {
    const { patternMismatch,
        tooLong,
        tooShort,
        rangeOverflow,
        rangeUnderflow,
        typeMismatch,
        valid,
        valueMissing } = event.target.validity;

    if (patternMismatch) 
        event.target.setCustomValidity('...');
    else if (tooLong)
        event.target.setCustomValidity('...');
    else if (tooShort)
        event.target.setCustomValidity('...');
    else if (rangeOverflow)
        event.target.setCustomValidity('...');
    else if (rangeUnderflow)
        event.target.setCustomValidity('...');
    else if (typeMismatch)
        event.target.setCustomValidity('...');
    else if (valid)
        event.target.setCustomValidity('...');
    else if (valueMissing)
        event.target.setCustomValidity('...');
}

// ...

<form onSubmit={handleFormSubmit}
      onInvalid={handleInvalidForm}
>
    {emailTextField}
    {passwordTextField}
    {signInButton}
</form> 
```

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2017-08-30T04:08:45.893

```
<input type="text" id="inputName"  placeholder="Enter name"  required  oninvalid="this.setCustomValidity('Please Enter your first name')" > 
```

这可以帮助您更好、更快、更方便、更轻松。

# c# - 在实体框架中将对象添加到数据库的问题

> ID：10753885
> 
> 赞同：5
> 
> 时间：2012-05-25T11:48:11.257
> 
> 标签：c#, .net, asp.net-mvc, entity-framework, db2

我有以下代码试图将对象添加到数据库：

```
public static void saveAudit(List<AUDIT> audit)
{
 Entities dao = new Entities();

 foreach (CMUAUDIT a in audit)
 {
    dao.CMUAUDITs.AddObject(a);
 }

 dao.SaveChanges();
} 
```

但是我收到错误消息：

> “...不包含'AddObject'的定义，并且找不到接受'System.Data.Entity.DbSet'类型的第一个参数的扩展方法'AddObject'（您是否缺少使用指令或程序集引用？ )"

我做了一些搜索，并且提到了与它有关的主键。有什么建议么？

如果这有什么不同，我正在使用 DB2 数据库吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-25T12:13:44.187

`...System.Data.Entity.DbSet...`: 显然你的类是从而不是`Entities`派生的。在这种情况下将是（而不是）。将实体添加到 a 的正确方法是：`DbContext``ObjectContext``CMUAUDITs``DbSet<T>``ObjectSet<T>``DbSet<T>`

```
dao.CMUAUDITs.Add(a); 
```

`AddObject`仅适用于`ObjectSet<T>`.

# android - Android SDK for Eclipse 中的慢速按钮触发

> ID：10753886
> 
> 赞同：0
> 
> 时间：2012-05-25T11:48:11.680
> 
> 标签：android, performance, audio, button, timing

当按下android屏幕上的按钮并且所有音频质量听起来都很棒时，我在eclipse中获取一些音频文件没有问题：java可以正常播放。然而，我正在尝试制作的程序是一个节拍制作工作室，你只能这么快地按下按钮。之前按下相同的按钮（大约 0.5 秒）后，您可以按下按钮来触发音频样本的时间会稍有延迟。显然，当能够在所需时间按下按钮非常重要时，这会给音乐应用程序带来问题。关于如何让我的应用程序允许更快地按下按钮的任何建议？

```
package studio.music;

import android.app.Activity;
import android.graphics.Color;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;

public class StudioActivity extends Activity implements OnClickListener{

MediaPlayer mp1,mp2;
Button button_one,button_two;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) { //The activity is being Created   Create any threads/streams here
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    mp1 = MediaPlayer.create(this, R.raw.bassfifteen);
    mp2 = MediaPlayer.create(this, R.raw.snarenine);
        button_one = (Button) findViewById(R.id.buttonOne);
            button_one.setOnClickListener(this);            
        button_two = (Button) findViewById(R.id.buttonTwo);
            button_two.setOnClickListener(this);        
}

@Override
protected void onStart(){ //The activity is about to become visible
    super.onStart();    
    //TODO set state for program start
}

@Override
protected void onResume(){ //The activity has become visible(it is now "resumed")
    super.onResume();
    //TODO set state for program resume
}

@Override
protected void onPause(){ // Another activity is taking focus (this activity will be "paused")
    super.onPause();
    //TODO set state for program hang
}

@Override
protected void onStop(){ // This activity is no longer visibled (it is "stopped")
    super.onStop();
    //TODO set state for program drop back
}

@Override
protected void onDestroy(){ // The Activity is about too be destoryed (exiting)  Destroy all threads and streams here
    super.onDestroy();
    //TODO set state for program exit
}

@Override
public void onClick(View v) {

//Where the audio is fired  
if(v == button_one){    mp1.start();}
if(v == button_two){    mp2.start();}
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T11:53:20.670

使用[`SoundPool`](http://developer.android.com/reference/android/media/SoundPool.html)它提供低延迟播放。

[Android Snippets](http://www.androidsnippets.com/playing-sound-fx-for-a-game)提供了一个现成的示例。您可以轻松地根据自己的要求调整它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:54:53.947

也许你应该去[SoundPool](http://developer.android.com/reference/android/media/SoundPool.html)。因为当与 MediaPlayer 比较时，soundpool 是一个相当轻量级的对象。这是两者之间的比较。

[http://www.stealthcopter.com/blog/2010/08/android-soundpool-vs-mediaplayer-focus-on-soundboards-and-memory-problems/](http://www.stealthcopter.com/blog/2010/08/android-soundpool-vs-mediaplayer-focus-on-soundboards-and-memory-problems/)

正如您所见，SoundPool 是为小文件设计的。这是另一个链接，其中指出 SoundPool 的工作简单而好..

[https://stackoverflow.com/a/5339437/603744](https://stackoverflow.com/a/5339437/603744)

# regex - Perl 使用困难的正则表达式将字符串从 XML 写入文件

> ID：10753888
> 
> 赞同：2
> 
> 时间：2012-05-25T11:48:13.663
> 
> 标签：regex, perl

我有一个 XML 文件，我需要使用 Perl（不使用 XSLT）将其传输到列表中。

这是我的（简化，删除了 10 多个属性以使其更易于阅读！）XML：

```
...
<XMLTAG ID="1" name="NAME1" status="0" date1="24.05.2012 13:37:00" date2="25.05.2012 13:37:00" />
<XMLTAG ID="2" name="NAME2" status="1" date1="24.05.2012 13:37:00" date2="25.05.2012 13:37:00" />
<XMLTAG ID="3" name="NAME3" status="0" date1="24.05.2012 13:37:00" date2="25.05.2012 13:37:00" />
... 
```

到目前为止我得到了什么：

```
my $input = in.xml;
my $output = out.txt;

# open input
open( INPUT, $input )
  || die "Can't find $input: $_";

# open output
open( OUTPUT, ">$output" )
  || die "Can't find $output: $_";

    # run until perl returns undef (at the end of the file)
    while (<INPUT>) {
        if ($_ == /date1=\"[0-3]?[0-9].[0-3]?[0-9].(?:[0-9]{2})?[0-9]{2} [0-5][0-9]:[0-5][0-9]:[0-5][0-9]\"/) {
        print OUTPUT $_;};
    }
    close(INPUT);
    close(OUTPUT); 
```

输出文件应如下所示：

```
date1="24.05.2012 13:37:00"
date1="24.05.2012 13:37:01"
date1="24.05.2012 13:37:02"
... 
```

在此先感谢，马利

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-25T12:16:00.550

```
use XML::LibXML qw();
my $dom = XML::LibXML->load_xml(location => 'in.xml');
printf qq(date1="%s"\n), $_->getAttribute('date1')
    for $dom->findnodes('//XMLTAG'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T12:18:46.057

您应该使用适当的 XML 解析模块。有很多可用的，但这里有一个使用[`XML::Smart`](https://metacpan.org/module/XML%3a%3aSmart).

这不是我会选择的解决方案，但我很想知道您为什么取消 XSLT？

```
use strict;
use warnings;

use XML::Smart;

my $input = 'in.xml';
my $output = 'out.txt';

open my $out, '>', $output or die qq(Can't open output file "$output": $!);

my $xml = XML::Smart->new($input);
my $text = $xml->{root}{XMLTAG};

my $xmltags = $xml->{root}{XMLTAG};

for my $tag (@$xmltags) {
  print $out qq(date1="$tag->{date1}"\n);
} 
```

**输出**

```
date1="24.05.2012 13:37:00"
date1="24.05.2012 13:37:00"
date1="24.05.2012 13:37:00" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T12:35:08.450

使用[XML::XSH2](http://p3rl.org/XML%3a%3aXSH2)：

```
open in.xml ;
ls //@date1 ; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-25T12:06:34.860

尝试：

```
date1=\"(.*?)\" 
```

对于您的正则表达式，它将进行非贪婪搜索。

更新：

他们警告我没有必要转义双引号，所以

```
date1="(.*?)" 
```

会做。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-25T13:15:54.873

您可能会使用非贪婪匹配，如下所示：

```
if ($_ =~ /(date1=".*?")/ ) {
       print OUTPUT "$1\n";
    } 
```

# c# - 接口和索引器

> ID：10753889
> 
> 赞同：1
> 
> 时间：2012-05-25T11:48:15.707
> 
> 标签：c#, .net, interface, indexer

我有一个这样使用的界面：

```
var descr = new IMyInterface[3]; 
```

乍一看，我认为这没有任何意义，因为它看起来像是正在实例化一个接口（这是不可能的）。所以我认为这可能是对接口中定义的 Indexer 的调用，但我仍然不太明白它是如何工作的。所以我的问题是：

1.  这个电话在做什么？它是否调用接口中定义的索引器？
2.  正在使用接口索引器的什么实现？

谢谢您的帮助 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:50:17.917

`IMyInterface`它正在创建一个包含三个元素的数组。即一个`IMyInterface[]`。这只是`new T[n]`创建数组的常用语法，与`new int[3]`.

从概念上讲，它类似于`new Array<IMyInterface>(3)`，除了由于历史原因数组不是泛型类型。

数组是一个具体的类，因此即使成员类型是接口，您也可以创建它的实例。成员将被初始化`default(T)`为`null`接口。

这与索引器无关。

* * *

可以像在类上那样在接口上定义索引器。但使用它们的语法不涉及`new`.

也可以在某些与 COM 相关的场景中实例化接口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:50:17.717

您正在创建一个由 3 组成的数组`IMyInterface`......但数组中的每个项目都是空的。

# objective-c - SQLite3（iOS）查询未执行

> ID：10753891
> 
> 赞同：3
> 
> 时间：2012-05-25T11:48:16.400
> 
> 标签：objective-c, ios, cocoa-touch, sqlite

我在让它工作时遇到了一些麻烦。

这是我要执行的代码：

```
[self openDB];
sqlite3_stmt *statement;
NSString *sql2 = [NSString stringWithFormat:@"INSERT INTO CheckList (CLName, DateAdd, Active, Costum, Percentage, UserId) VALUES ('ola232332332324', '2012-02-03', 1, 1, NULL, 1)"];
if(sqlite3_prepare_v2(db, [sql2 UTF8String], -1, &statement, NULL) == SQLITE_OK)
{
    alert1 = [[UIAlertView alloc]
              initWithTitle:@"Grats" message:@"The query was executed!" delegate:self cancelButtonTitle:@"Continue" otherButtonTitles: nil];
    [alert1 show];
    [alert1 release];
} 
else {
    NSAssert(0, @"Failed to execute");
}
sqlite3_finalize(statement); 
```

这是我用来调用数据库的代码：

```
-(NSString *) filePath {
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDir = [paths objectAtIndex:0];

    return [documentsDir stringByAppendingPathComponent:@"prosegur.sqlite"];
}

-(void) openDB {
    sqlite3_open([[self filePath] UTF8String], &db);
    if (sqlite3_open([[self filePath] UTF8String], &db) != SQLITE_OK){
        NSAssert(0, @"Failed to open db");
    }
} 
```

**编辑：**尝试使用 FMDB，代码如下：

```
FMDatabase *database = [FMDatabase databaseWithPath:@"prosegur.sqlite"];
if([database open]){
    NSLog(@"yes");
    [database executeUpdate:@"INSERT INTO CheckList (CLName, DateAdd, Active, Costum, UserId) VALUES ('cenas', '2012-02-0',  1, 1, 1)"];}
else
{
    NSLog(@"not");
} 
```

通过 [database open] 验证，但不执行查询。

**编辑 2：**已经按照建议做了，我开始认为它创建了一个数据库并在其中执行查询，但由于它不存在任何表，它忽略了这一事实。

这是更新的代码：

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *docsPath = [[paths objectAtIndex:0] retain];
NSString *path = [[docsPath stringByAppendingPathComponent:@"prosegur.sqlite"] retain];

FMDatabase *database = [FMDatabase databaseWithPath:path];
[database open];
if([database open])
{
    NSLog(@"yes");
    [database executeUpdate:@"INSERT INTO CheckList (CLName) VALUES (?)", @"cenas"];
}
else 
{
    NSLog(@"no");
}
[database close]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:35:55.990

在 iOS 开发中使用标准 sqlite3 api 时，我很头疼。查看[FMDB](https://github.com/ccgus/fmdb)框架。它使用起来非常简单，您可以在网上找到很多教程。

如果您不想要该框架，请尝试使用`NSError`for 捕获查询执行时的错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T12:20:27.260

也许是一个愚蠢的问题，但您知道`sqlite3_prepare_v2`仅*准备*语句而不实际*执行*它吗？您还需要打电话`sqlite3_step`来实际进行插入，

您可以改用`sqlite3_exec`它，它只执行一条语句而不执行准备/执行两步。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T13:02:14.107

示例示例。

```
+(BOOL)InsertDataInPin:(NSString *)pin
    {
        NSString *databasePath =Your DatabasePath;

        NSString *SQL=@"INSERT INTO pincode Values(?)";
        sqlite3_stmt *dataset;

        if (sqlite3_open([databasePath UTF8String], &database) == SQLITE_OK ) {

            if (sqlite3_prepare_v2(database, [SQL UTF8String], -1, &dataset, NULL) == SQLITE_OK) 
            {

                sqlite3_bind_text(dataset, 1, [pin UTF8String], -1, SQLITE_TRANSIENT);
                sqlite3_step(dataset);

            }       

            sqlite3_close(database);
        }

    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-29T08:35:25.653

我找到了答案，如果有人遇到这样的问题，请查看以下链接： [IPhone Development - Failed to use SQLite](https://stackoverflow.com/questions/3527094/iphone-development-failed-to-use-sqlite)

感谢大家的支持！

# wordpress - WordPress 运行缓慢

> ID：10753894
> 
> 赞同：0
> 
> 时间：2012-05-25T11:48:27.250
> 
> 标签：wordpress

我的 wordpress 网站突然开始运行缓慢，唯一改变的是网站的标题。我放置了一个新的照片滑块，然后移动了 twitter 提要。所以我认为这与此有关，但是当我禁用它们时，网站的速度仍然很慢。

这让我认为这是 wordpress 的问题，或者我从标题中取出了一些我不打算这样做的东西。

网站链接：www.finderskeepersuk.com

任何帮助都会很棒

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T14:21:02.210

根据 Chrome 检查器和[Pingdom](http://tools.pingdom.com/fpt/#!/J0jarkAFx/www.finderskeepersuk.com)上的网络选项卡，您的大部分加载时间都在等待您的服务器响应。可能只是从美国访问英国主机的额外延迟，或者您的服务器可能因大量其他站点而过载。

尝试修改[W3 Total Cache 插件](http://wordpress.org/extend/plugins/w3-total-cache/)，但如果这没有帮助，您可能需要致电您的主机、升级到更好的服务器或更改主机。

另外：您正在加载 jquery 两次。

# java - Android：如何在表格布局中设置背景图片

> ID：10753897
> 
> 赞同：4
> 
> 时间：2012-05-25T11:48:32.447
> 
> 标签：java, android, background, tablelayout

我使用 tablelayout 显示来自 sqlite db 的项目。我为表格布局设置了背景图像，但图像出现在我需要将图像显示回文本的文本下方，而不是在下方，即我需要图像框架为 0,0 我必须做什么。现在我用

```
.setbackgroundresources(r.drawable.imagename) 
```

请指导我我必须以编程方式为表格布局添加背景图像

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-30T17:35:40.483

如果您正在为布局设置背景资源并且图像出现在布局本身下方（即在所有组件下方），则您可能没有将背景资源添加到正确的布局中。

但是，由于您并没有真正提供太多信息，因此甚至可能并非如此。

会不会是您的图像实际上比表格本身小得多，而不是扩大到表格的大小，它是否会保持其固定大小（可能会在布局中居中）？

尝试将表格的背景设置为固定颜色（即 view.setBackgroundColor(Color.BLACK);）来测试它。如果整个表格如您预期的那样填满，那么它可能与您正在使用的图像有关。

如果颜色仅填充图像资源之前所做的相同区域，那么我可能首先想到的是您没有将资源添加到正确的布局中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:05:25.783

然后尝试将表格布局的一个外部布局线性布局放在您的 .xml 文件中，然后设置该线性布局的背景，例如

```
<LinearLayout
            android:id="@+id/linearLayout1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/bkg1">

 <TableLayout
                android:id="@+id/linearLayout1_tblLayout1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content" >

                <TableRow
                    android:id="@+id/linearLayout1_tblLayout1_tableRow1"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:gravity="center" >

                    ......

                   </TableRow>

</TableLayout>
</LinearLayout> 
```

# mysql - mysql_fetch_array 需要参数

> ID：10753900
> 
> 赞同：-1
> 
> 时间：2012-05-25T11:48:43.383
> 
> 标签：mysql

这是我的简单 sql 查询：

```
<?php
// making the database connection
    $db2=mysql_connect("localhost","root","");
    mysql_select_db("my_requests",$db2);
    $x=time();
    $query=mysql_query("SELECT * FROM 'details' INNER JOIN 'product' ON details.user_id = product.user_id"); // find the city
    $row=mysql_fetch_array($query);// save record

    // extract city id
     echo "$row"; 
```

每当我运行这个脚本时，它都会说，

> 警告：mysql_fetch_array() 期望参数 1 是资源，布尔值在第 7 行的 C:\xampp\htdocs\my_cityway\timeout.php 中给出

哪里出了问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:51:09.640

表名不应包含在引号 'details' s|b 内

```
 `details` or details 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T11:53:04.007

请删除表格名称周围的引号并使用

```
print_r($row) 
```

用于显示行

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T12:18:37.137

你使用了错误的引号

```
` is different that ' 
```

看这个截图![在此处输入图像描述](../Images/b35c34d84efb4e87e9c403e1404d146c.png)

出于这个原因，内部连接没有返回任何值并且您收到该错误消息，您也可以在不带引号的情况下进行查询

![在此处输入图像描述](../Images/97adc2f76717ecbe560d6ba953d306aa.png)

# php - 从数据库填充复选框列表

> ID：10753901
> 
> 赞同：0
> 
> 时间：2012-05-25T11:48:46.300
> 
> 标签：php

是否可以从数据库值中填充复选框列表？如果是这样，请建议如何执行此操作。

```
$query2 = "select * from Products where CategoryID = '$CategoryName' ";
 mysql_query($query2) or die(mysql_error());
 $array = array();

while($row = mysql_fetch_assoc($query2)){
$array[] = $row;}

foreach($array as $val)
 {
 if($val =='the checkbox value') 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:58:03.713

1.  使用适当的 SQL 查询从数据库中获取值
2.  循环显示一个复选框元素的结果

注意事项

*   确保每个都有一个唯一的名称，除非您希望它们成为一个数组。然后对其名称使用数组语法（例如 name[]）
*   确保给每个人一个独特的价值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T12:02:35.660

```
<form>
<input type="checkbox" name="vehicle" value="Bike" /> I have a bike<br />
<input type="checkbox" name="vehicle" value="Car" /> I have a car
</form> 
```

这些是您必须做的几个步骤。1.从数据库中获取值。2\. 隐藏数组中的值，因为它们以（，）分隔的字符串存储。3\. 然后

```
foreach($values as $val)
     {
          if($val =='Bike')
             {
                   $bikeflag = '1';
             }
            if($val =='Car')
             {
                   $carflag = '1';
             }

    }
<form>
<input type="checkbox" name="vehicle" value="Bike"  <?php if(isset($bikeflag ) =='1'){ ?>checked = checked <?php } ?>/> I have a bike<br />
<input type="checkbox" name="vehicle" value="Car"   <?php if(isset($carflag) =='1'){ ?>checked = checked <?php } ?>/> I have a car
</form> 
```

希望这会对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T12:03:48.400

> 是的，很有可能：

获取要使用结构填充的记录：

```
Id and value 
```

如上所述，提供复选框列表的数据源作为提取的结构化列表。

```
Now define the value field of the checkboxlist as "Id" and text as "value" 
```

# java - JDialog 需要时间来关闭大约 45 秒

> ID：10753907
> 
> 赞同：-1
> 
> 时间：2012-05-25T11:49:32.653
> 
> 标签：java, swing, jframe, jdialog

我有一个`MyDialog`which extends `JDialog`，当我关闭`MyDialog`它时，它需要大约 30-45 秒的时间。`MyDialog`是我的主窗体的子窗体，`JFrame`直到`MyDialog`关闭焦点无法进入主窗口。`MyDialog`关闭对话框需要时间的原因是什么？

对于关闭操作，我正在设置：

```
setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T13:09:51.370

几乎总是这样的问题是因为您在 EDT 线程中做的事情需要很长时间。对话框关闭后你会做什么？您是否根据用户单击的按钮执行操作？确保这些操作快速执行或在新线程中执行。

# actionscript-3 - AS NetStream 在确定的第二个开始缓冲

> ID：10753909
> 
> 赞同：2
> 
> 时间：2012-05-25T11:49:40.510
> 
> 标签：actionscript-3, flash, flv, mp4, netstream

我在确定的时间开始播放外部视频文件时遇到了一些问题。我想加载一个外部 mp4 或 flv 文件，并且播放器必须在确定的时间（例如 100 秒）开始播放它。在搜索栏上选择视频部分的方法相同。但是，使用 NetStream.seek，它将缓冲从 0 到选定秒的所有视频，然后视频开始。但它必须开始缓冲到给定的第二次。我该怎么做 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:42:30.990

它应该由服务器端支持，因此语法取决于服务器，例如，`stream.play("file.flv?start=100000");`
顺便说一句，有一个一般建议，您应该只寻求无缓冲位置到关键帧，以避免在单色背景而不是关键帧上显示更改。有关关键帧的时间和文件位置的信息可以在视频文件[元数据对象中找到](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/NetStream.html#event%3aonMetaData)

# linq - 将数据插入 Windows Phone 的 SQL Server CE

> ID：10753910
> 
> 赞同：1
> 
> 时间：2012-05-25T11:49:55.040
> 
> 标签：linq, windows-phone-7, insert, sql-server-ce

我想向空数据库添加一些数据，这是我的一段代码

```
private void readSQLCE()
{
    db = new MyDataContext("isostore:/qq.sdf");

    cust newcust = new cust
    {
        C_Id = 1,
        C_Name = "Amop",
        C_Place = "Poik"
    };

    db.CS.InsertOnSubmit(newcust);
} 
```

还需要添加什么来将我的数据插入 SQL Server CE 数据库？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T11:54:27.533

你需要一个

```
db.SubmitChanges(); 
```

# arrays - 生成三个完全不同的数字的最有效方法

> ID：10753923
> 
> 赞同：0
> 
> 时间：2012-05-25T11:50:38.967
> 
> 标签：arrays, random, comparison

我需要从 1-9 中生成三个随机数，每个数字不能与其他数字匹配。我目前正在使用下面的脚本执行此操作，该脚本运行良好，但想知道是否还有其他更有效的方法可以做到这一点？

```
$rndn1 = 0;
$rndn2 = 0;
$rndn3 = 0;
while ($rndn1 == $rndn2 || $rndn2 == $rndn3 || $rndn1 == $rndn3) {
  $rndn1 = rand(1,9);
  $rndn2 = rand(1,9);
  $rndn3 = rand(1,9);
} 
```

此外，如果例如 4 个或更多数字需要通过相同的过程，则使用上述简单表达式可能会变得复杂。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T11:55:30.310

创建从 1-9 的数字的随机排列，然后选择前 3 个数字，或者如果需要 4... 等等...

[http://en.wikipedia.org/wiki/Random_permutation#Knuth_shuffles](http://en.wikipedia.org/wiki/Random_permutation#Knuth_shuffles)

尝试使用这个算法。创建排列。

该解决方案在数字范围和您需要选择的元素数量上都是可扩展的。只要数字范围（例如 1-9）是唯一的，此解决方案就不会重复您选择的 3 个数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T11:54:25.053

您不需要每次都生成这三个数字。

这是第一步：

```
$rndn2 = 0;
$rndn3 = 0;
$rndn1 = rand(1,9);
while ($rndn1 == $rndn2 || $rndn2 == $rndn3 || $rndn1 == $rndn3) {
  $rndn2 = rand(1,9);
  $rndn3 = rand(1,9);
} 
```

显然你可以做进一步：

```
$rndn1 = rand(1,9);
$rndn2 = rand(1,9);
while ($rndn1 == $rndn2) {
 $rndn2 = rand(1,9);
}
$rndn3 = rand(1,9);
while ($rndn2 == $rndn3 || $rndn1 == $rndn3) {
  $rndn3 = rand(1,9);
} 
```

不要试图在没有分析的情况下进行过多的优化，通过。这通常是不需要的。唯一可能代价高昂的操作是 rand one ：这是您必须最小化的操作（因此，如果您只是在寻找 3 个数字，则在测试之前不要生成更多数字（更多的问题会有所不同）） .

# excel - 自动填充动态范围最后一行和最后一列

> ID：10753925
> 
> 赞同：1
> 
> 时间：2012-05-25T11:50:51.730
> 
> 标签：excel, excel-formula, autofill, vba

我有一个包含多张不同尺寸的工作簿。我想在最后一行之后添加一个总列并将公式复制到所有列中。我已经定义了最后一行和最后一列，公式按预期显示在正确的位置，但在尝试填写时收到错误消息。如何正确引用两个动态单元格进行填充？我现在只使用一张纸进行测试，但最终会循环浏览书中的所有纸。

```
Sub Addtotals()

    Dim Bord As Worksheet
    Dim LRow As Long
    Dim LCol As Long
    Dim frmcell As Range

    Set Bord = Sheets("Borders")
    With Bord
    '--> Define last rows and columns
        LRow = .Range("A" & Rows.Count).End(xlUp).Row
        LCol = .Range("A" & Columns.Count).End(xlToLeft).Column

    '--> Add Total text to first column
        .Range("A" & LRow).Offset(1, 0).Select
        ActiveCell = "Total"

    '--> Add formula to next column
        Set frmcell = Range("B" & LRow + 1)
        frmcell.Formula = "=sum(B2:B" & LRow & ")"

    '--> Fill formula across range
        frmcell.Select
        Selection.AutoFill Destination:=Range(frmcell & LCol), Type:=xlFillDefault
    End With
End Sub 
```

谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:41:43.880

像这样？

```
Option Explicit

Sub Addtotals()
    Dim Bord As Worksheet
    Dim LRow As Long, LCol As Long

    Set Bord = Sheets("Borders")
    With Bord
    '--> Define last rows and columns
        LRow = .Range("A" & Rows.Count).End(xlUp).Row + 1
        LCol = .Cells(1, Columns.Count).End(xlToLeft).Column

    '--> Add Total text to first column
        .Range("A" & LRow).Value = "Total"

    '--> Fill formula across range
        .Range("B" & LRow & ":" & _
        Split(Cells(, LCol).Address, "$")(1) & LRow).Formula = _
        "=Sum(B2:B" & LRow - 1 & ")"
    End With
End Sub 
```

# javascript - 带有javascript的python

> ID：10753926
> 
> 赞同：0
> 
> 时间：2012-05-25T11:50:57.410
> 
> 标签：javascript, python, html, mechanize

我正在解析一个html页面。

我尝试了 spynner、selenium、mechanize，但在这种情况下无法解决 javascript 的问题。谁能让我知道如何处理此类问题以将数据提取到下一页？

当我在 selenium 上工作时，首先在这个 url 中，我们必须在其他选择框中获取数据然后继续，但是使用 selenium 在单击下一页后我只能获得相同的 url，同样的 spynner 也是如此。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T16:05:04.780

据我所知，mechanize 不支持 javascript。因此，如果您正在使用 javascript 繁重的网站进行任何自动化，那么机械化可能不是要走的路。相反，您可能需要 python 来编写功能齐全的 Web 浏览器。您可以通过[PyXPCOM](https://developer.mozilla.org/en/PyXPCOM)、[Ruby 和 WATIR](http://watir.com/)或[spynner](http://code.google.com/p/spynner/)使用 Mozilla 来执行此操作。在这些选项中，我可能首先尝试使用 spynner，因为 spynner 与 python 集成得很好。

祝你的项目好运，编码愉快！

# php - PHP 使用 xPath 查询 XML

> ID：10753932
> 
> 赞同：2
> 
> 时间：2012-05-25T11:51:17.700
> 
> 标签：php, xml, xpath

我有一个如下的 XML 结构：

```
<Tickets>
<EventsPoints>
      <Event ID="23">
           <PerformanceName>U2</PerformanceName>
           <EventDate>25/05/2012</EventDate>
           <EventPrice>75.00</EventPrice>
      </Event>
      <Event ID="27">
           <PerformanceName>Jedward</PerformanceName>
           <EventDate>28/05/2012</EventDate>
           <EventPrice>20.00</EventPrice>
      </Event>
            <Event ID="27">
           <PerformanceName>Rolling Stones</PerformanceName>
           <EventDate>03/12/2012</EventDate>
           <EventPrice>80.00</EventPrice>
      </Event>
</EventsPoints>
</Tickets> 
```

基本上我想在这个 XML 中搜索某个表演名称，比如“U2”，然后返回整个 XML 块（即表演名称、事件日期和价格 - 全部采用格式化的 XML 并保存在单独的 xml 文件中）

这是我的 php 代码，但它似乎没有正确提取数据：

```
$srcDom = new DOMDocument;
$srcDom->load('/var/www/html/xml/searchfile.xml');
$xPath = new DOMXPath($srcDom);

foreach ($srcDom->getElementsByTagName('Event') as $event) {

    $dstDom = new DOMDocument('1.0', 'utf-8');
    $dstDom->appendChild($dstDom->createElement('EventsPricePoints'));
    $dstDom->documentElement->appendChild($dstDom->importNode($event, true));

    $allEventsForVenue = $xPath->query(
        sprintf(
            '/Tickets/EventsPoints/Event/PerformanceName[.="U2"]'
        )
    );

    foreach ($allEventsForVenue as $event) {
        $dstDom->documentElement->appendChild($dstDom->importNode($event, true));
    }

    $dstDom->formatOutput = true;
    $dstDom->save(sprintf('/var/www/html/xml/searchresults1.xml'));
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:55:43.727

当您需要父元素时，您的 XPath 会获取该`PerformanceName`元素。将其更改为

```
/Tickets/EventsPoints/Event/PerformanceName[.="U2"]/.. 
```

或者

```
/Tickets/EventsPoints/Event[PerformanceName[.="U2"]] 
```

或进口

```
$event->parentNode 
```

此外，您不需要第一个`foreach`. 删除它并将编写 的代码移动`$dstDom`到迭代 XPath 结果的代码中。见[http://codepad.org/zfOZXycZ](http://codepad.org/zfOZXycZ)

另见：

*   [php 中的 DOMDocument](https://stackoverflow.com/questions/4979836/noob-question-about-domdocument-in-php/4983721#4983721)和
*   [http://schlitt.info/opensource/blog/0704_xpath.html](http://schlitt.info/opensource/blog/0704_xpath.html)

# exception - Foursquare 回调错误 未捕获的异常

> ID：10753935
> 
> 赞同：1
> 
> 时间：2012-05-25T11:51:29.543
> 
> 标签：exception, callback, foursquare

我在应用程序中使用foursquare API。当我在本地计算机上运行应用程序时没有问题，但在服务器上，用户允许应用程序并重定向到回调 url 后出现此错误。

```
Fatal error: Uncaught exception 'EpiFoursquareException'
in /home/content/40/9029540/html/earlybirds/test/lib/EpiFoursquare.php:252
Stack trace:
#0 /home/content/40/9029540/html/earlybirds/test/lib/EpiFoursquare.php(208): EpiFoursquareException::raise(Object(EpiCurlManager), false) 
#1 /home/content/40/9029540/html/earlybirds/test/lib/EpiFoursquare.php(196): EpiFoursquareJson->__get('response')
#2 /home/content/40/9029540/html/earlybirds/test/callback.php(45): EpiFoursquareJson->offsetGet('access_token')
#3 {main} thrown in /home/content/40/9029540/html/earlybirds/test/lib/EpiFoursquare.php on line 252 
```

有人知道原因吗？我使用 PHP 和 mysql

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T17:34:30.380

确保在构建身份验证 url 时发送 redirect_uri 参数，并且它与 APP 详细信息页面上的匹配。我必须制作两个应用程序，一个用于本地测试，一个用于在我的开发服务器上进行测试，当然，它有一个不同的 URL。

# android - 启动后Android调用活动？活动的生命周期，BroadcastReceivers。

> ID：10753936
> 
> 赞同：0
> 
> 时间：2012-05-25T11:51:33.757
> 
> 标签：android, broadcastreceiver, lifecycle, boot

所以我有一个应用程序，它有一个什么都不做的 Activity 和两个扩展 BroadcastReceiver 的类，但它们从未在任何地方注册。

该应用程序具有权限

```
 <action android:name="android.intent.action.BOOT_COMPLETED" /> 
```

但除此之外，什么都没有“开始”。然而，应用程序在启动后显示在 Eclipse 的 LogCat 中的线程/进程中，并且广播接收器接收它们过滤的意图。

*   Android 是否会在后台启动每个已安装的应用程序？为什么我的应用程序在启动后启动？- BroadcastReceivers 是否处于活动状态，尽管它们没有注册？

我找不到任何官方的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T11:56:36.270

您的应用在启动后启动是因为权限

除了添加了此权限的应用程序之外，并非每个应用程序都具有此字符

# iphone - WhirlyGlobe：尝试使用框架时出现编译错误

> ID：10753939
> 
> 赞同：0
> 
> 时间：2012-05-25T11:51:35.253
> 
> 标签：iphone, ios, ios5

我正在尝试使用来自链接的开源应用 WhirlyGlobe：[http ://code.google.com/p/whirlyglobe/](http://code.google.com/p/whirlyglobe/)

我正在使用以下步骤在我的应用程序中使用它：

1.  将框架添加到应用程序框架。
2.  将支持文件复制到我的项目（来自 whirlyglobe 代码的 Utilities 文件夹）并将标题搜索路径设置为实用程序/boost_1_45_0 和实用程序/eigen-eigen-3.0.1
3.  将我的文件重命名为 .mm，然后尝试绘制地图。

**这里的问题是我收到编译错误：“'set' file not found”。**

此文件位于“实用程序”文件夹下。我没有明白我在做什么错。我什至尝试更改标题路径但没有帮助。

如果有人使用过这个库，请帮我说出正确的步骤。

谢谢，
阿米特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T18:15:58.613

将文件的扩展名从 .m 更改为 .mm

# postgresql - 在 Ubuntu 11.10 中使用 Dijkstra 算法和 postgreSQL

> ID：10753941
> 
> 赞同：1
> 
> 时间：2012-05-25T11:51:51.417
> 
> 标签：postgresql, ubuntu-11.10, dijkstra

我正在学习 PostgreSQL。在将 pgrouting 安装到 Ubuntu 11.10 后，我正在尝试使用 Dijkstra 算法。

```
CREATE OR REPLACE FUNCTION shortest_path(sql text, source_id integer,
       target_id integer, directed boolean, has_reverse_cost boolean)
RETURNS SETOF path_result AS
  '$libdir/libdijkstra.dll'
LANGUAGE 'C' IMMUTABLE STRICT 
```

> 错误：无法访问文件“$libdir/libdijkstra.dll”：没有这样的文件或目录'

如果可能的话，请指导我从安装到使用逐步使用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T10:09:04.113

根据评论，这是由于尝试在 Linux 上使用 Windows 库引起的。[在http://pgrouting.org/download.html](http://pgrouting.org/download.html)下载新版本并使用那里的库，或从源代码构建（可在同一站点获得）。

# android - 如何知道文本字段何时何地集中在 android webview 中？

> ID：10753943
> 
> 赞同：1
> 
> 时间：2012-05-25T11:51:56.690
> 
> 标签：android, android-layout

通常，当 android 视图中的本机文本字段获得焦点时，视图会自动滚动以在虚拟键盘出现时保持字段可见。当我在 webview 中选择一个文本字段时，这通常是相同的行为（所以我的意思是在 webview 中加载的页面中的 html 文本输入）。但由于某种原因，它在我的情况下不起作用。I have a webview that displays a form and when a select a textfield, the view scrolls down to the bottom of the page and the field I selected is no longer visible. 我应该在我的应用程序中检查什么以防止这种情况发生？如果您需要更多详细信息，请询问。通过这种方式，我可以直接向您展示您的需求。提前致谢。

编辑：在 android 4 上，这没有发生。我在 android 2.2 和 2.3 上遇到了这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:32:10.633

android:windowSoftInputMode="adjustResize"

在清单文件的活动标签中添加上述标签。该活动将是显示网络视图的活动

# java - 无法构建 JavaFX 2.1.0 示例应用程序 - DataApp - 无法创建任务或键入 javafx:com.sun.javafx.tools.ant:application

> ID：10753949
> 
> 赞同：4
> 
> 时间：2012-05-25T11:52:42.277
> 
> 标签：java, netbeans, ant, javafx, javafx-2

我正在尝试从可从官方 JafaFX 下载页面下载的 JavaFX 2.1.0 示例应用程序包构建 DataApp 示例应用程序：
[http ://www.oracle.com/technetwork/java/javafx/downloads/index.html](http://www.oracle.com/technetwork/java/javafx/downloads/index.html)

我正在为 JDK6 使用 Netbeans 7.1.2、JDK6 和 JavaFX 2.1.0。

在 NetBeans 中，当我右键单击 DataApp 服务器并从上下文菜单中选择运行时，我得到以下输出：

```
check-mysql-drivers-installed:
init:
deps-module-jar:
DataAppClient.init:
Deleting: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\built-jar.properties
DataAppClient.deps-jar:
Updating property file: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\built-jar.properties
DataAppLibrary.init:
DataAppLibrary.deps-jar:
Updating property file: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\built-jar.properties
DataAppLibrary.compile:
Copy libraries to D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppLibrary\dist\lib.
To run this application from the command line without Ant, try:
java -jar "D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppLibrary\dist\DataAppLibrary.jar"
DataAppLibrary.jar:
Duplicated project name in import. Project jfx-impl defined first in D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\nbproject\jfx-impl.xml and again in D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppPreloader\nbproject\jfx-impl.xml
DataAppPreloader.init:
DataAppPreloader.deps-jar:
Updating property file: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\built-jar.properties
DataAppPreloader.compile:
Copying 1 file to D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppPreloader\build
Copy libraries to D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppPreloader\dist\lib.
To run this application from the command line without Ant, try:
C:\jdk1.6.0_30/bin/java -jar "D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppPreloader\dist\DataAppPreloader.jar"
Deleting directory D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppPreloader\dist\lib
Detected JavaFX Ant API version 1.1
DataAppPreloader.jfx-deployment:
DataAppPreloader.jar:
DataAppClient.compile:
Copying 27 files to D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib
Moving 1 file to D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\DataAppLibrary.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\jackson-core-asl-1.7.1.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\jackson-jaxrs-1.7.1.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\jackson-mapper-asl-1.7.1.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\jackson-xc-1.7.1.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\jersey-client-1.8.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\jersey-core-1.8.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Expanding: D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib\jersey-json-1.8.jar into D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build\classes
Deleting directory D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\dist\lib
D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppServer\nbproject\build-impl.xml:559: The following error occurred while executing this line:
D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build.xml:48: Problem: failed to create task or type javafx:com.sun.javafx.tools.ant:application
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place.
No types or tasks have been defined in this namespace yet
BUILD FAILED (total time: 6 seconds) 
```

有人知道这个错误吗？

它可能与 Ant 有某种关系吗？

以下几行是什么意思？

```
The following error occurred while executing this line:
D:\Soft\javafx-samples-2.1.0\src\DataApp\DataAppClient\build.xml:48: Problem: failed to create task or type javafx:com.sun.javafx.tools.ant:application
Cause: The name is undefined. 
```

谢谢！

更新：显然问题是通过手动修改位于 DataAppClient 项目根目录中的 Ant build.xml 文件来解决的。
我在 -post-jar 目标定义的开头添加了一个 taskdef 标签，错误消失了：

```
...

<target name="-post-jar" depends="-init-javafx, -jfx-copylibs">

    <taskdef resource="com/sun/javafx/tools/ant/antlib.xml"
             uri="javafx:com.sun.javafx.tools.ant"
             classpath="d:\Soft\javafx_sdk_2.1\lib\ant-javafx.jar" />

    <!-- Move preloader out of libs -->
    <move file="${dist.dir}/lib/DataAppPreloader.jar" todir="${dist.dir}"/>

... 
```

这可能是此示例应用程序的正式版本中的错误，还是我的设置有问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-31T14:17:12.380

显然，通过手动修改位于 DataAppClient 项目根目录中的 Ant build.xml 文件解决了这个问题。
我在 -post-jar 目标定义的开头添加了一个 taskdef 标签，错误消失了：

```
...

<target name="-post-jar" depends="-init-javafx, -jfx-copylibs">

    <taskdef resource="com/sun/javafx/tools/ant/antlib.xml"
             uri="javafx:com.sun.javafx.tools.ant"
             classpath="d:\Soft\javafx_sdk_2.1\lib\ant-javafx.jar" />

    <!-- Move preloader out of libs -->
    <move file="${dist.dir}/lib/DataAppPreloader.jar" todir="${dist.dir}"/>

... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-09T02:17:27.660

任何有类似错误的人。尝试以下解决方案（它对我有用），我在这里找到它[https://groups.google.com/forum/#!msg/efxclipse/H-ZOVXtaK6g/5yufMqQsZBQJ](https://groups.google.com/forum/#!msg/efxclipse/H-ZOVXtaK6g/5yufMqQsZBQJ)

解决方案

我设法通过转到运行->外部工具_>外部工具配置并选择 JRE 选项卡来使其工作。我不得不将执行环境从 1.7 更改为 CDC-1.0/Foundation-1.0 (jdk1.7.0_25)（CDC-1.1 也可以工作）。

错误-

```
BUILD FAILED
C:\Users\Ross\workspace\MyJavaFXApp\build\build.xml:87: Problem: failed to create task or type javafx:com.sun.javafx.tools.ant:resources

Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place.
No types or tasks have been defined in this namespace yet 
```

# php - bwshare 模块和 PHP 抓取

> ID：10753950
> 
> 赞同：2
> 
> 时间：2012-05-25T11:52:45.067
> 
> 标签：php, screen-scraping, file-get-contents

我编写了一个脚本，从网站下载页面列表。我不时收到以下错误（秒数是可变的）：

> bwshare 模块将在接下来的 7 秒内拒绝您的请求。您下载数据的速度太快了。

我发现在循环中使用 sleep(2) 时效果更好，但是时间延迟太贵了。如何处理这个模块的最佳方法是什么？我是否应该毫不拖延地刮掉它，如果响应类似于上述消息，只需在请求的秒数内使用睡眠？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:22:39.647

这完全取决于您在错误消息之前可以获得多少页。

尝试测量平均可以获得多少页。

**bwshare 消息之前的 4 页是最少的。**

如果您在下载 4 页*之前*收到错误消息，那么每次下载后 il 会 *更快*地进入 sleep(2)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:33:48.587

试试这种方式......它可能会帮助你。

```
 $requestTime = 0.1; // s/connection

    foreach(/* blah */) {
        $start = microtime(true);
        // Do your stuff to here.. get_file_content($url) and other processing .........

        if($timeTaken = microtime(true)-$start < $requestTime) {
            usleep(($requestTime-$timeTaken)*1000000);
        }
    } 
```

如果您的问题得到解决，请尝试发布您的答案，以便其他人也可以从中受益

# jfreechart - JFreechart：以特定单位后的值显示 X 轴

> ID：10753961
> 
> 赞同：3
> 
> 时间：2012-05-25T11:53:43.757
> 
> 标签：jfreechart

我正在使用 jfreechart 来显示折线图。现在，在 X 轴上，它显示图表上每个 (x,y) 对的值。因此，X 轴有大量的值重叠。我想显示几个值，例如之后每 5 个单位或类似的东西。这怎么可能使用 Jfreechart。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T14:13:34.067

在`NumberAxis`绘制图表的绘图之前，它的刻度线会刷新。结果是一个`List`包含`NumberTick`轴的每个刻度线的对象。

通过覆盖该函数`NumberAxis.refreshTicks`，您可以控制标记的显示方式和显示方式。

例如，在以下代码中，我获取所有刻度线并遍历它们以查找`TickType.MAJOR`. 如果主刻度线的值不能被 5 整除，则它会被次刻度线替换。

因此，只有可被 5 整除的值才会与其文本标签一起显示。

```
XYPlot plot = (XYPlot) chart.getPlot();

NumberAxis myAxis = new NumberAxis(plot.getDomainAxis().getLabel()) {
  @Override
  public List refreshTicks(Graphics2D g2, AxisState state,
                           Rectangle2D dataArea, RectangleEdge edge) {

    List allTicks = super.refreshTicks(g2, state, dataArea, edge);
    List myTicks = new ArrayList();

    for (Object tick : allTicks) {
      NumberTick numberTick = (NumberTick) tick;

      if (TickType.MAJOR.equals(numberTick.getTickType()) &&
                    (numberTick.getValue() % 5 != 0)) {
        myTicks.add(new NumberTick(TickType.MINOR, numberTick.getValue(), "",
                    numberTick.getTextAnchor(), numberTick.getRotationAnchor(),
                    numberTick.getAngle()));
        continue;
      }
      myTicks.add(tick);
    }
    return myTicks;
  }
};

plot.setDomainAxis(myAxis); 
```

# silverlight - VS 重建后 Blend 5 Preview 设计器崩溃

> ID：10753966
> 
> 赞同：1
> 
> 时间：2012-05-25T11:54:03.027
> 
> 标签：silverlight, parsing, exception, blend, xamlparseexception

我正在做一个大型的 silverlight 项目，在 Blend 中编辑它时遇到问题；最初，Blend 正常启动，设计器显示控件等。

然而，出乎意料的是，在 VisualStudio 中并行工作并至少进行一次重建后，我得到了这个异常

```
XamlParseException: [Line: 0 Position 0]

StackTrace
at MS.Internal.XcpImports.CheckHResult(UInt32 hr)
at MS.Internal.XcpImports.FrameworkElement_MeasureOverride(FrameworkElement element, Size     availableSize)
at System.Windows.FrameworkElement.MeasureOverride(Size availableSize)
at System.Windows.FrameworkElement.MeasureOverride(IntPtr nativeTarget, Single inWidth, Single   inHeight, Single& outWidth, Single& outHeight) 
```

任何想法？谢谢

编辑：可能是因为 TFS 吗？

# android - 如何截取当前 MapView 的屏幕截图？

> ID：10753969
> 
> 赞同：4
> 
> 时间：2012-05-25T11:54:26.583
> 
> 标签：android, android-mapview

我有两个按钮和一个 mapView。当我按下其中一个按钮时，我想保存 MapView 的视图。

有人知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T08:32:15.037

您必须向按钮添加一个侦听器（您应该知道这是如何完成的）并在该侦听器中执行以下操作：

```
boolean enabled = mMapView.isDrawingCacheEnabled();
mMapView.setDrawingCacheEnabled(true);
Bitmap bm = mMapView.getDrawingCache();

/* now you've got the bitmap - go save it */

File path = Environment.getExternalStorageDirectory();
path = new File(path, "Pictures");
path.mkdirs();  // make sure the Pictures folder exists.
File file = new File(path, "filename.png");
BufferedOutputStream outStream = new BufferedOutputStream(new FileOutputStream(file));
boolean success = bm.compress(CompressFormat.PNG, 100, outStream);
outStream.flush();
outStream.close();

mMapView.setDrawingCacheEnabled(enabled);   // reset to original value 
```

为了让图像立即显示在图库中，您必须通知 MediaScanner 新图像，如下所示：

```
if (success) {
    MediaScannerClientProxy client = new MediaScannerClientProxy(file.getAbsolutePath(), "image/png");
    MediaScannerConnection msc = new MediaScannerConnection(this, client);
    client.mConnection = msc;
    msc.connect();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-04-16T18:29:21.187

谷歌地图有一个拍摄快照的功能，所以在这里使用这个是示例，它返回一个位图，您可以在图像视图上设置它的简单..

```
Bitmap bitmapMapsattelite ;

map.setOnMapLoadedCallback(new GoogleMap.OnMapLoadedCallback() {
                        @Override
                        public void onMapLoaded() {
                            // Make a snapshot when map's done loading
                            map.snapshot(new GoogleMap.SnapshotReadyCallback() {
                                @Override
                                public void onSnapshotReady(Bitmap bitmap) {
                                    bitmapMapsattelite = null;
                                    /// make the bitmap null so everytime it //will fetch the new bitmap 
                                    bitmapMapsattelite = bitmap;

                                }

                            });
                        }
                    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-01-31T21:27:39.920

我以这种方式使用 OSMDroid 仅拍摄片段屏幕。

```
private void captureScreen() {

    // put captureScreen() inside your OSMDroid fragment
    // it's better put a button inside your layout OSMDroid fragment.xml

    view = view.findViewById(R.id.mapview); //using OSMDroid fragment to call <org.osmdroid.views.MapView/>

    view.setDrawingCacheEnabled(true);
    Bitmap bmp = Bitmap.createBitmap(view.getDrawingCache());

    //build your folder
    File sd = new File(Environment.getExternalStorageDirectory() + "/ArqueoMaquina");
    if (!sd.exists()) {
        sd.mkdir();
    }

    File imagePath = new File(sd , "mapa" + System.currentTimeMillis() + ".png");
    FileOutputStream fos;

    try {
        fos = new FileOutputStream(imagePath);
        bmp.compress(Bitmap.CompressFormat.JPEG, 100, fos);

        Uri uri = Uri.fromFile(imagePath); //to take the file path to your .png map saved in your phone

        fos.flush();
        fos.close();
    } catch (FileNotFoundException e) {
        Log.e("GREC", e.getMessage(), e);
    } catch (IOException e) {
        Log.e("GREC", e.getMessage(), e);
} 
```

这些就是结果。我的屏幕应用程序带有 OSMDroid 片段和按钮“保存地图”： [![在此处输入图像描述](../Images/de30a33b6c15a85411de0292e659d290.png)](https://i.stack.imgur.com/ZyMaV.png)

我的 map.png 保存在文件夹 phone 中，仅显示 OSMDroid 片段： [![在此处输入图像描述](../Images/5ca6060841bf895304d0d2431695a2df.png)](https://i.stack.imgur.com/7AyqG.jpg)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-09-07T11:10:26.323

Osmdroid 6.1.0 中引入了所需的功能。对应的类是[MapSnapshot](https://github.com/osmdroid/osmdroid/blob/master/osmdroid-android/src/main/java/org/osmdroid/views/drawing/MapSnapshot.java)。

对于问题中的用例，在按钮的单击回调中添加以下代码将起作用。

```
final MapSnapshot mapSnapshot = new MapSnapshot(new MapSnapshot.MapSnapshotable() {
            @Override
            public void callback(final MapSnapshot pMapSnapshot) {
                if (pMapSnapshot.getStatus() != MapSnapshot.Status.CANVAS_OK) {
                    return;
                }
                final Bitmap bitmap = Bitmap.createBitmap(pMapSnapshot.getBitmap());
                // Do something with the bitmap like save to file
            }
        }, MapSnapshot.INCLUDE_FLAG_UPTODATE, pMapView);
new Thread(mapSnapshot).start(); 
```

参考：[https ://github.com/osmdroid/osmdroid/issues/1737](https://github.com/osmdroid/osmdroid/issues/1737)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-01-17T08:06:15.907

谷歌地图有一个名为 snapshot -> map.snapshot 的回调，它返回一个位图进行处理。在osmdroid(open street map android api)中，对应的方法是getDrawingCache方法->map.getDrawingCache

# asp.net-mvc-3 - 如何范围验证整数 ASP.NET MVC 3

> ID：10753977
> 
> 赞同：2
> 
> 时间：2012-05-25T11:55:20.453
> 
> 标签：asp.net-mvc-3, validation, data-annotations

我正在使用如下验证。

```
[Required(ErrorMessage = "Please provide 10 digit mobile number without spaces and without country code (+91)")]
[Integer(ErrorMessage = "Please provide 10 digit mobile number without spaces and without country code (+91)")]
[Range(1000000000, 9999999999, ErrorMessage = "10 digit mobile number only without spaces and without country code (+91)")]
[Display(Name = "Mobile Number")]
public int MobileNo { get; set; } 
```

它总是未能通过验证说`The value '9999999998' is invalid.`。难道我做错了什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-25T12:02:19.997

试试这个：

```
[RegularExpression("^[0-9]{10}$", ErrorMessage = "Invalid Mobile No")] 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-25T11:59:09.657

[Int32](http://msdn.microsoft.com/en-us/library/system.int32.aspx)类型可以存储的最大值是 2,147,483,648。你溢出来了。为什么要使用整数类型来表示电话号码？字符串似乎更适应。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-25T11:59:24.303

`Integer`(Int32) 可以容纳的最大值是**2,147,483,647**。所以你最好用 Long 或 String 替换 Int。

# salesforce - SalesForce：查询用户具有读取权限的对象

> ID：10753978
> 
> 赞同：2
> 
> 时间：2012-05-25T11:55:24.493
> 
> 标签：salesforce, apex-code, soql

如何查询给定用户具有读取权限的所有帐户？我尝试了以下，但返回错误“半连接子选择只能查询 id 字段，不能使用：'RecordId'”

```
User u = new User();    
Account[] account = [SELECT Name FROM Account a
                            WHERE Id IN
                            (
                                SELECT RecordId
                                FROM UserRecordAccess
                                WHERE RecordId = :a.Id
                                AND UserId = :u
                                AND HasReadAccess = true
                            )
                    ]; 
```

该代码正在作为作为系统运行的计划批处理作业的一部分执行，因此“共享”的使用不适用。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-26T16:41:59.770

销售人员[文档](http://www.salesforce.com/us/developer/docs/api/Content/sforce_api_objects_userrecordaccess.htm)说 RecordID 是一个看起来很奇怪的选项列表字段。如果它是一个选项列表字段，可以解释为什么它在子查询中不起作用。

您可以尝试先构建一组 RecordID，然后使用它来过滤 Account 查询。

```
Set<ID> sRecordIDs = [SELECT RecordID FROM UserRecordAccess WHERE UserId = :u AND HasReadAccess = True];

Account[] accs =[SELECT ID,Name FROM Account WHERE Id in :sRecordIDs]; 
```

如果 UserRecordAccess 中的记录数很高，这可能会超出调控器限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T14:07:33.500

如果您只想为 Account 执行此操作，您可以尝试以下操作：

```
User u = new User();
list<Account> accs = [select Id, Name from Account where Id in (select AccountId from AccountShare where UserOrGroupId = :u.Id) or OwnerId = :u.Id]; 
```

这应该为您提供用户有权访问或拥有的所有帐户记录。在一般情况下，每个 sObject 都有自己的“共享”sObject，它表示对它的可见性，除非它以某种方式退化（即它是主细节中的细节）。

# android - 我如何每秒杀死一个进程？

> ID：10753981
> 
> 赞同：2
> 
> 时间：2012-05-25T11:55:35.927
> 
> 标签：android, process, kill-process

我怎样才能在每秒之后杀死一个进程。我想设置一个计时器，它将每秒检查该进程是否已启动，并通过其包名称继续杀死该特定进程

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T12:03:03.460

在java中你不应该杀死线程。

你能做的是

```
 Thread thread = new Thread();
    //this you should do when you declare your thread after creating thread object.
    thread.setDaemon(true); 
```

// 要杀死你的线程使用这个

```
thread.interrupt();
thread = null; 
```

要杀死其他应用程序进程，请使用

```
 android.os.Process.killProcess(thread_id); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:03:28.900

```
void appKiller() {
String nameOfProcess = "location";
ActivityManager  manager = (ActivityManager)this.getSystemService(Context.ACTIVITY_SERVICE);
List<ActivityManager.RunningAppProcessInfo> listOfProcesses =  manager.getRunningAppProcesses();
for (ActivityManager.RunningAppProcessInfo process : listOfProcesses)
{
    if (process.processName.contains(nameOfProcess))
{
    // Ends the app
    manager.killBackgroundProcesses(process.processName);
    break;
}} 
```

//使用定时器调用appKiller如下。

```
timer = new Timer("killTimer");
timer.schedule(oTimer, 1000 * 1l,   1000 * 1l );
private TimerTask oTimer = new TimerTask() {
    private void doWork() {
        try {
            appKiller();

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
            @Override
    public void run() {

        doWork();
    }
}; 
```

# jquery - jquery back button to display div element

> ID：10753984
> 
> 赞同：1
> 
> 时间：2012-05-25T11:55:37.703
> 
> 标签：jquery, jquery-ui, html

Here is my page format, it is in same page

```
<!-- login page-->
<div id="login">
    <!-- login page content -->
</div>

<!-- registration page content -->
<div id="registrationMenu" data-position="inline">
    <div id="registrationInner" style="display:none;">      
        <div data-position="inline" data-role="header" 
             data-add-back-btn="true" class="ui-header ui-bar-a" 
             role="banner">
          <a href="#login" data-icon="delete" >Back</a>                         
          <h1 class="ui-title" role="heading" aria-level="1">Registration</h1>          
        </div>
    </div> 
```

How to show login page content when click on back button of registration and hide the registration page content, the above code does not work and

```
data-rel="back" 
```

It's not working because it will take back to previous page? Please help.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-25T11:58:07.970

```
$('a#login').on('click', function(e) {
    e.preventDefault(); // prevent the page navigation that you are facing 
    $('#registrationMenu').hide(300, function() { // hide the registration page
        $('#login').show(300); // show the login page after hide
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T12:12:47.667

我会使用 JQuery UI。它有一个标签小部件。可以在这里找到演示[http://jqueryui.com/demos/tabs/](http://jqueryui.com/demos/tabs/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T12:07:47.653

在 jsfiddle 上实时测试：http: [//jsfiddle.net/ajaypatel_aj/BsqVA/2/](http://jsfiddle.net/ajaypatel_aj/BsqVA/2/) 你的 HTML 代码，我刚刚在后面的文本链接中添加了后面的类

```
<!-- login page-->
<div id="login" style="display:none;">
    login page content
</div>

<!-- registration page content -->
<div id="registrationMenu" data-position="inline">
    <div id="registrationInner" >      
        <div data-position="inline" data-role="header" data-add-back-btn="true" class="ui-header ui-bar-a" role="banner">
            <a href="#login" data-icon="delete" class="back">Back</a>                           
            <h1 class="ui-title" role="heading" aria-level="1">Registration</h1>            
        </div>
    </div>
</div> 
```

​ jQuery 代码

```
 $(".back").click(function(){
        $("#registrationMenu").css("display","none");
        $("#login").css("display","block");    
        });​ 
```

希望这对你有用。

# jdbc - 德比embedded_ClassNot

> ID：10753985
> 
> 赞同：0
> 
> 时间：2012-05-25T11:55:40.263
> 
> 标签：jdbc, derby

我的主要问题是我有一个类 Database.java，它可以访问和更新 JDBC Derby 数据库。使用单元测试类，Database.java 通过但使用 servlet 会引发异常。可能是什么原因？下面的代码可用。我有一个程序 Database.java 这是

```
package com;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.List;

public class Database {

    Connection connection = null;

    String URL;
    String DRIVER;
    PreparedStatement updateVotes, totalVotes, results; 

    private static Database unique;

    private Database()
    {
        URL = "jdbc:derby:C:\\Documents and Settings\\tr1b4361\\Voting";
        DRIVER =  "org.apache.derby.jdbc.EmbeddedDriver";

        try {   

            Class.forName("DRIVER").newInstance();
            connection = DriverManager.getConnection(URL);          

        } catch (SQLException e) {

            e.printStackTrace();
        }
        catch (InstantiationException e) {

            e.printStackTrace();
        } catch (IllegalAccessException e) {

            e.printStackTrace();
        }
        catch (ClassNotFoundException e) {

            e.printStackTrace();
        }
    }

    public static Database getInstance()
    {
        if(unique == null)
        {
            unique = new Database();
        }

        return unique;
    }

    ....
} 
```

我为类 DatabaseTest 编写了一个单元测试，它成功测试并验证了 Database 类

```
package test;

import static org.junit.Assert.*;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

import org.junit.Before;
import org.junit.Test;
import org.junit.runners.Parameterized.Parameters;

import com.Database;
import com.Vote;
import com.voting.Voter;

public class DatabaseTest {

//  @Test
//  public void testUpdateVotes() {
//      
//      Database database = new Database();
//      
//      assertEquals("equal", 1, database.updateVotes("BIRD"));
//      assertEquals("eqaul", 1, database.updateVotes("BIRD"));
//  }

    @Test
    public void testSumVotes() {
        Database database = Database.getInstance();

        assertEquals("equal", 9, database.sumVotes());

    }

    @Test
    public void testGetTable() {
        Database database = Database.getInstance();
        List<Vote> l = database.getTable(); 

        Iterator<Vote> i = l.iterator();

        while(i.hasNext())
        {
            Vote v = i.next();
            System.out.println(v.animal + ": " + v.vote);
        }

        List<Vote> l2 = new ArrayList<Vote>();
        l2.add(new Vote("BIRD", 4));
        l2.add(new Vote("CAT", 5));
        l2.add(new Vote("DOG", 0));
        l2.add(new Vote("NONE", 0));
        l2.add(new Vote("SNAKE", 0));

        assertEquals("equal", l.get(0).animal, l2.get(0).animal);
        assertEquals("equal", l.get(1).animal, l2.get(1).animal);
        assertEquals("equal", l.get(2).animal, l2.get(2).animal);
        assertEquals("equal", l.get(3).animal, l2.get(3).animal);
        assertEquals("equal", l.get(4).animal, l2.get(4).animal);

    }

} 
```

但是当从 servlet Voter 调用数据库实例时，它会给出 ClassNotFoundException

```
java.lang.ClassNotFoundException: org.apache.derby.jdbc.EmbeddedDriver
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1546)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Unknown Source)
    at com.Database.<init>(Database.java:31)
    at com.Database.getInstance(Database.java:55)
    at com.voting.Voter.doPost(Voter.java:77)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
May 25, 2012 11:08:17 PM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [com.voting.Voter] in context with path [/Ch9_Fig9_27] threw exception
java.lang.NullPointerException 
```

servlet Voter.java 的代码

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        database = Database.getInstance();
//      Database2 database= new Database2();
        String animalName = (String) request.getAttribute("animal");
        database.updateVotes(animalName);

//      RequestDispatcher rd = request.getRequestDispatcher("display.jsp");
//      rd.forward(request, response); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T23:48:42.013

您需要使您的 servlet 可以访问 derby.jar。根据您的应用服务器，有多种方法可以做到这一点。如果您正在构建 .war 文件，最简单的做法是将 derby.jar 包含在您的 war 文件的 WEB-INF/lib 子目录中。

# r - 在 R 中迭代地自动比较一个对象项与其余对象项

> ID：10753986
> 
> 赞同：0
> 
> 时间：2012-05-25T11:55:40.980
> 
> 标签：r, loops

所以我创建了一个包含 12 个二进制文件的对象。作为我想做的分析的一部分，我将 12 个中的一个与其他 11 个进行比较，使用函数进行一些分析。

IE

在循环一中，object$1 与 object$1 比较 2:12，

循环二，object$2 对 object$ 1,3:12

...

循环 12，object$12 对 object$1[1:11]

我可以通过指定文件名手动进行小规模的操作。但是因为它涉及到将所有 12 个文件相互比较，并且我有很多组 12 个文件（总共 250 个文件）可以正常工作，我如何自动化呢？

最终输出是一个数据框，所以我希望在每个循环中也创建它（使用相关的文件名，如 object$1.csv 或其他东西）。

```
firstbatch <-bams[1:12] #bams is character vector of the files
bedfile <- "filename.bed"
my.counts <- getBamCounts(bed.file = bedfile, bam.files = firstbatch) #creates object
my.test <- firstbatch$1
my.ref.samples <- firstbatch$2...firstbatch$12
series of functions comparing $1 against 2:12 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T12:34:51.103

也许你冷使用这个程序：

```
a <- combn(12,2)   # will give you all possible combinations 

for (i in 1:dim(a)[2]) {      #loops over all possible combinations

firstbatch[ a [1,i]]    # first sample name to compare
firstbatch[ a [2,i]]    # second sample name to compare against
...
} 
```

# mercurial - Mercurial：提交路径长度超过 255 个字符的文件（Windows）？

> ID：10753991
> 
> 赞同：13
> 
> 时间：2012-05-25T11:55:54.973
> 
> 标签：mercurial, tortoisehg, mercurialeclipse

我尝试将文件夹层次结构提交到 Mercurial 存储库中，其中包含绝对路径长度超过 255 个字符（Windows 最大路径长度）的文件。

对于这些文件，我收到一条错误消息说

> 该系统找不到指定的路径

我们使用 TortoiseHG 和 Mercurial 的 Eclipse 插件，两者都不起作用。

有没有人找到解决方案？（我不想更改存储库在我的 HD 上的位置）

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-05-29T04:01:06.630

存在一个旨在解决这个确切问题的扩展。它是： [https ://www.mercurial-scm.org/wiki/Win32LongFileNamesExtension](https://www.mercurial-scm.org/wiki/Win32LongFileNamesExtension)

它使用 \\?\ 样式名称来透明地处理长文件。

我是作者，如果它适合你，请告诉我。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-12T04:14:08.280

[正如他所建议](https://stackoverflow.com/a/10792899/1032586)的，我刚刚安装了[Aaron Cohen](https://stackoverflow.com/users/1422673/aaron-cohen)的扩展程序。它与我的 TortoiseHG 2.6.1 完美搭配！谢谢，亚伦！

不过，我想在此处添加详细指南，因为我找不到...

（至少这是我在 Win7 x64 上所做的 - 我不确定这是最短的方法）

## 1.[下载Mercurial-py](https://www.mercurial-scm.org/wiki/Download)

*   注意所需的 Python 版本
*   我已经下载了“Mercurial-2.4.2 (64-bit py2.7)”

## 2.[下载Python](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20218/)

*   确保您下载的是兼容版本。
*   我使用了“Windows X86-64 MSI Installer (2.7.3)”链接

## 3.安装Python

*   我已将其安装到“D:\Python27”

## 4.[下载pywin32](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20218/)

*   Win32LongFileNamesExtension 需要它。
*   注意 pywin32 文件名中的 Python 版本号。
*   我用“pywin32-218.win32-py2.7.exe”

## 5.安装pywin32

*   确保安装程序检测到正确的 Python 安装
*   就我而言，它安装在“d:\Python27\Lib\site-packages\pywin32_system32\”

## 6\. 安装 Mercurial

*   确保安装程序检测到正确的 Python 安装
*   就我而言，它安装在“d:\Python27\Lib\site-packages\mercurial\”中

## 7.设置PYTHONPATH环境变量

```
setx PYTHONPATH d:\Python27\Lib\site-packages\win32lfn\src;d:\Python27\Lib\site-packages\mercurial\ 
```

*   使用此 cli 命令，或使用其他方法执行相同操作
*   当然，您应该根据需要调整路径
*   在此之后重新启动您的 cli，以确保 env. 变量现在已正确设置

## 8.下载win32lfn

*   [在项目的存储库页面](https://bitbucket.org/remleduff/win32lfn)上检查可用的下载
*   如果仍然没有，只需将存储库从[https://bitbucket.org/remleduff/win32lfn](https://bitbucket.org/remleduff/win32lfn)克隆到“d:\Python27\Lib\site-packages\win32lfn\”
*   现在“win32lfn.pyc”应该在“d:\Python27\Lib\site-packages\win32lfn\src\”

## 9\. 进行内部 win32lfn 测试

```
cd /D D:\Python27
python d:\Python27\Lib\site-packages\win32lfn\tests\testwin32lfn.py 
```

## 10\. 创建存储库的备份。

*   对我来说，一切都很顺利，但你永远不知道......

## 11.将win32lfn添加到hgrc

```
[extensions]
win32lfn = d:\Python27\Lib\site-packages\win32lfn\src\win32lfn.py 
```

*   您可以在存储库中的“.hg”文件夹中找到“hgrc”

## 12\. 测试它！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-25T13:19:25.513

请参阅[https://www.mercurial-scm.org/wiki/Win32LongFileNamesExtension（Aaron](https://www.mercurial-scm.org/wiki/Win32LongFileNamesExtension)通过 mercurial-devel 邮件列表指出它）。

**另一种不更改存储库路径的解决方法**可能是通过目录连接点创建第二个路径。它可能会起作用，因为文件系统驱动程序（或者更确切地说是某些已安装的过滤器）在非常低的级别完成了重新解析，因此到那时就知道完整（Unicode）路径并且扩展到超过 260 个字符应该可以正常工作。试试看。`mklink`您可以在 Windows Vista 或 7 上使用该工具，`junction.exe`在 Windows 2000 或更高版本上使用 Sysinternals。`mklink`确保创建一个连接点。我不确定重新解析机制对于目录符号链接的工作方式是否相同（尽管我隐约记得它*应该*）。

* * *

如果您没有可用的 Unicode 版本的程序，则限制为 260 个字符（包括驱动器号部分）。没有什么可以解决的。

但是，所有 ANSI 函数都是通过对应的 Unicode 实现的，因此您可能会幸运地提供以`\\?\`. 这*可能*有效，但可能不会，因为程序本身没有考虑超出`MAX_PATH`(= 260) 的任何内容。请作者编译一个 Unicode 版本并使用我提到的前缀。这将解决问题。

这是 Win32 子系统的限制。绝对路径长度限制约为 32,767 个字符。大约是因为 Windows 的对象管理器可能会扩展它（对象命名空间中的符号链接等）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-14T11:14:51.540

快速而肮脏的解决方案是映射网络驱动器。

对于路径 c:\some long path\project 文件夹

将 \\localhost\c$\some long path\ 映射到驱动器 Z:\

```
cd z:\project folder
hg push 
```

在迁移到更短的路径之前，我们成功地将其用作临时解决方案。

上面的 mercurial 插件看起来不错，但不幸的是，存在许多与大于 255 个字符的路径相关的 non-mercurial 错误。例如，恰好 259 个字符的 VS2010 失败是一个真正的软木塞！

[http://support.microsoft.com/kb/2516078](http://support.microsoft.com/kb/2516078)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-01-04T19:23:56.300

运行 mercurial 4.4.1 客户端的 Windows 10 系统

亚伦科恩扩展将起作用我确实需要做一个小小的调整

基于 mhaecki 在此线程上的评论：[https ://bitbucket.org/remleduff/win32lfn/issues/13/not-compatible-with-version-431](https://bitbucket.org/remleduff/win32lfn/issues/13/not-compatible-with-version-431)

在 win32lfn.py 文件中我改变了：

```
from mercurial import util, osutil,cmdutil
from mercurial.i18n import _ 
```

到：

```
from mercurial import util, cmdutil
from mercurial.cext import osutil
from mercurial.i18n import _ 
```

# html - Iframe inside PhoneGap App will not load a PHP page

> ID：10753993
> 
> 赞同：1
> 
> 时间：2012-05-25T11:56:17.190
> 
> 标签：html, iframe, cordova

I am creating an iPad app, using HTML5 and PhoneGap. I am wanting to put an iframe into a page and pull through some content in a php page found remotely on our server.

I have set the correct ExternalHost in the PhoneGap.plist file so that it will accept the external domain.

If I tell the iframe to access a .html page (on the server), it works perfectly - However if I change the extension to .php I get a blank iframe.

**This is all while testing the app directly on the iPad and the IOS Simulator.**

Could anyone suggest anything I have missed out?

# objective-c - CSV 文件查找 - 目标 C

> ID：10753996
> 
> 赞同：1
> 
> 时间：2012-05-25T11:56:34.227
> 
> 标签：objective-c, database, cocoa, csv, indexing

我有一个包含超过 180,000 行的 file.csv 文件。我只需要从中挑选出大约 8 行。这些行中的每一行都具有相同的 id，因此文件如下所示：

```
"id", "name", "subid"
"1", "Entry no 1", "4234"
"1", "Entry no 2", "5233"
"1", "Entry no 3", "2523"
. . . 
"1", "Entry no 8", "2322"
"2", "Entry no 1", "2344" 
```

有没有办法让我只挑选 id 1 或其他数字的所有数据而不将整个文件索引到数据库（SQLITE 或核心数据）中，因为这会导致应用程序必须索引 180 的主要性能问题,0000 条记录。这一切都适用于 iPhone，并且在 ios 5 上。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T12:01:22.993

只需解析 CSV 并将值存储在局部变量中。对于通过 Objective-C 结帐解析 CSV 以下教程：http:
[//www.macresearch.org/cocoa-scientists-part-xxvi-parsing-csv-data](http://www.macresearch.org/cocoa-scientists-part-xxvi-parsing-csv-data)
[http://cocoawithlove.com/2009/11/writing -parser-using-nsscanner-csv.html](http://cocoawithlove.com/2009/11/writing-parser-using-nsscanner-csv.html)

亲切的问候，
博

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-25T12:07:00.743

我强烈建议将它放在 Core Data 中，确保它会被索引，但这实际上是一件好事，因为您的查找速度会更快，每次解析该文档都比在 Core Data 中查找它要求更高，开销是一个很小的代价。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T12:15:03.263

[对于 Dave DeLong 的CHCSVParser 来说](https://github.com/davedelong/CHCSVParser)，这听起来不错。

它有点像`NSXMLParser`，所以你可以跳过所有你不想要的行，保留你想要的 8*行*。

# javascript - IE JS-error when closing a Fancybox-iframe containing a YouTube movie

> ID：10753998
> 
> 赞同：1
> 
> 时间：2012-05-25T11:56:37.410
> 
> 标签：javascript, debugging, iframe, youtube, fancybox

The following error can even be found the FancyApps page itself. Go to [http://fancyapps.com/fancybox/](http://fancyapps.com/fancybox/) in Internet Explorer 9 for example. Go to Internet Options > Advanced > Disable script debugging (Internet Explorer). Click on the YouTube (iframe)-link and close the movie. You'll see the following error appear onscreen:

Line: 1 Error: '_*flash*_removeCallback' is undefined

Any idea on how this error can be avoided? Thanks in advance!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T09:58:07.420

您可以尝试不同的功能实现。通过删除 iframe html 停止 YouTube 视频时出现此错误。相反，只需将 iframe 包装到 div 中，然后刷新 src。如果要删除视频，只需将其隐藏即可。

代替

```
$('#youTube').html(""); 
```

我用

```
$('#youTube iframe').attr('src', $('#youTube iframe').attr('src'));
$('#youTube').hide(); 
```

上

```
<div id='youTube'>
<iframe width='640' height='390' src='http://www.youtube.com/embed/VIDEO_ID' frameborder='0' allowfullscreen></iframe>
</div> 
```

希望能帮助到你。