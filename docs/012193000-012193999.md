# StackOverflow 问答 12193000-12193999

# .htaccess - .htaccess & .htpasswd 等于 500 错误

> ID：12193000
> 
> 赞同：0
> 
> 时间：2012-08-30T08:39:51.507
> 
> 标签：.htaccess, .htpasswd

我正在尝试在我的服务器上创建一个受 .htaccess 和 .htpasswd 保护的文件夹。当我尝试输入有问题的文件夹时，系统会要求我输入我想要的密码。但是当页面加载时，我得到一个 500 错误，现在我网站上的所有页面也发生了这种错误。使用 ErrorDocument 500 它说：

此网页有重定向循环

[http://example.com/test/folder/](http://example.com/test/folder/)上的网页导致了过多的重定向。...

这是我的 .htaccess 文件的样子：

```
ErrorDocument 500 http://81.18.24.170/test/appload/
AuthName "Restricted Area" 
AuthType Basic 
AuthUserFile /test/folder/admin/.htpasswd 
require valid-user 
```

任何人都可以看到一个问题或我错过的让它工作的东西吗？

编辑：我有重写规则来防止我得到许多重定向的 301 错误。（在另一个解决方案中找到，但没有帮助。）所以我只想摆脱 500 错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-17T15:14:20.757

当您放置 AuthUserFile 的文件路径时，请确保使用根目录中的完整文件路径，例如：

```
AuthUserFile /var/www/html/test/folder/admin/.htpasswd 
```

在这个线程中讨论了一个类似的问题： [htaccess / htpasswd in subdir](https://stackoverflow.com/questions/23142603/htaccess-htpasswd-in-subdir?rq=1)

# birt - 在 Birt 中动态改变字体大小

> ID：12193001
> 
> 赞同：1
> 
> 时间：2012-08-30T08:39:55.003
> 
> 标签：birt

我在 Birt 中使用动态文本。我想在一行上显示一个句子，但如果它太宽，它会显示在两个或更多上。当句子太宽以使其保持在一行时，有没有办法动态减小字体大小？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T09:58:21.823

首先选择您的单元格，然后单击脚本选项卡，从下拉列表中选择 onRender 并输入此代码
**this.getStyle().fontSize** 这使您可以在渲染页面时动态更改字体大小...
干杯..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-07T08:25:22.007

这是我的解决方案——建立在@Sundar 所说的基础上。

就我而言，我在一个单元格中有两个字段。它并不完美，但我必须知道文本何时“太大”的唯一方法是测量组合字符串的长度，然后相应地调整字体大小。

单击单元格，然后单击脚本选项卡，然后在 onRender 脚本中输入这样的代码

```
// Decide if we need to change font size.
totalLength = 0;
if (row["Field Name 1"]) {
   totalLength += row["Field Name 1"].length;
}
if (row["Field Name 2"]) {
   totalLength += row["Field Name 2"].length;
}

// Make the font smaller with larger amounts of text.
switch (true) {
    case (totalLength > 200):
      this.getStyle().fontSize = "6pt";
        break;
    case (totalLength > 100 && totalLength < 200):
      this.getStyle().fontSize = "8pt";
        break;
    default:
      this.getStyle().fontSize = "10pt";
        break;
} 
```

# c# - 媒体播放器快进

> ID：12193012
> 
> 赞同：1
> 
> 时间：2012-08-30T08:40:34.800
> 
> 标签：c#, wpf, media-player, media, playback

我花了很多时间搜索所有不同的关键词。我正在开发一个媒体播放器，并且有一个菜单条，可以选择快进和快退。这是我目前拥有的：

```
private void increaseRateToolStripMenuItem_Click(object sender, System.EventArgs e)
{
    if (axWindowsMediaPlayer1.playState == WMPLib.WMPPlayState.wmppsPlaying)
    {
        WMPLib.IWMPControls3 controls = (WMPLib.IWMPControls3)axWindowsMediaPlayer1.Ctlcontrols;
        if (controls.get_isAvailable("fastForward"))
        {
            controls.fastForward();
        }
    }
} 
```

这基本上是我一直在绕的圈子。我从这里开始，修修补补，然后又回到了这里。这让我快疯了。从理论上讲，这听起来很简单，但我什么也没得到。

我上面使用的示例来自 MSDN 示例：http: [//msdn.microsoft.com/en-us/library/windows/desktop/dd564741 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/dd564741(v=vs.85).aspx)

所以我在这里问，如何在 C# 中单击菜单项时快进（和倒退）视频？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:06:46.497

这是我对[这个相关问题](https://stackoverflow.com/q/10932932/1220971)[的回答](https://stackoverflow.com/a/10933151/1220971)的扩展。

根据那里的 OP（请参阅我的答案的评论），如果您正在播放 MP4 文件，这将起作用，但如果您尝试播放 AVI，它将无法正常工作，因为它们没有被索引。相反，他建议您增加`currentPosition`属性（[MSDN 文档](http://msdn.microsoft.com/en-us/library/windows/desktop/dd564740%28v=vs.85%29.aspx)）以实现此效果。

所以总结一下，而不是`controls.fastForward()`，尝试`controls.currentPosition += someIncrement`某种循环（也许这个问题可能会帮助您实现这一点：[C# how to loop while mouse button is按住](https://stackoverflow.com/questions/4127270/c-sharp-how-to-loop-while-mouse-button-is-held-down)）

# python - Flask Python，试图将列表或字典返回给 Ajax 调用

> ID：12193013
> 
> 赞同：27
> 
> 时间：2012-08-30T08:40:37.220
> 
> 标签：python, ajax, flask

在 Flask 应用程序中，我有以下 ajax 调用：

```
 $.ajax({
            url: "{{ url_for( 'bookings.get_customer' ) }}",
            type: "POST",
            data: nameArray,
            success: function( resp ){
                console.log( resp )
            }
        }) 
```

如您所见，我正在传递一个数组，我将根据该数组搜索我的 mongo 数据库，该数据库将返回或不返回客户。

所以，负责处理这个 ajax 调用的 python def 是：

```
@bookings.route( '/get_customer', methods=[ 'POST' ] )
def get_customer():
    name = {}
    for key, value in request.form.items():
     name[ key ] = value

    customer_obj = customer_class.Customer()
    results = customer_obj.search_customer( name )

    return results 
```

为了论证的缘故，假设 customer_obj 调用返回以下列表：

```
[{'customer': {
               u'first_name': u'Dave', 
               u'tel': u'0121212121458', 
               u'country': u'UK',     
               u'address2': u'Townington', 
               u'address3': u'Cityville', 
               u'email': u'dave@smith.com', 
               u'postcode': u'A10 5BC', 
               u'address1': u'10 High Street', 
               u'second_name': u'Smith'
             }, 
 'customer_id': u'DaveSmithA10 5BCCat_Vegas1346244086'
}] 
```

当我尝试将此返回给ajax调用时

```
return results 
```

我收到以下错误：

```
 TypeError: 'list' object is not callable 
```

这是回溯：

```
Traceback (most recent call last):
File "/usr/local/lib/python2.7/dist-packages/flask/app.py", line 1701, in __call__
return self.wsgi_app(environ, start_response)
File "/usr/local/lib/python2.7/dist-packages/flask/app.py", line 1689, in wsgi_app
response = self.make_response(self.handle_exception(e))
File "/usr/local/lib/python2.7/dist-packages/flask/app.py", line 1687, in wsgi_app
response = self.full_dispatch_request()
File "/usr/local/lib/python2.7/dist-packages/flask/app.py", line 1361, in
full_dispatch_request
response = self.make_response(rv)
File "/usr/local/lib/python2.7/dist-packages/flask/app.py", line 1450, in make_response
rv = self.response_class.force_type(rv, request.environ)
File "/usr/local/lib/python2.7/dist-packages/werkzeug/wrappers.py", line 711, in
force_type
response = BaseResponse(*_run_wsgi_app(response, environ))
File "/usr/local/lib/python2.7/dist-packages/werkzeug/test.py", line 818, in
run_wsgi_app
app_iter = app(environ, start_response)
TypeError: 'list' object is not callable 
```

有没有人有什么建议？

谢谢

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-08-30T08:53:09.970

Flask 不希望您`list`从视图函数返回对象。之前试试`jsonify`：

```
from flask import jsonify

@bookings.route( '/get_customer', methods=[ 'POST' ] )
def get_customer():
    name = {}
    for key, value in request.form.items():
        name[ key ] = value

    customer_obj = customer_class.Customer()
    results = customer_obj.search_customer( name )

    return jsonify(customers=results) 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-01-07T14:44:01.653

josonify 工作..但如果你打算只传递一个没有“结果”键的数组，你可以使用 python 中的 json 库。以下转换对我有用..

```
 import json

 @app.route('/test/json')
 def test_json():
 list = [
        {'a': 1, 'b': 2},
        {'a': 5, 'b': 10}
       ]
 return json.dumps(list) 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-30T08:55:41.827

你需要做

```
return jsonify(result=your_result) 
```

还要检查可能真的很有帮助的[文档。](http://flask.pocoo.org/docs/patterns/jquery/)

# git - 使用 msysgit 的文件模式

> ID：12193020
> 
> 赞同：7
> 
> 时间：2012-08-30T08:41:10.027
> 
> 标签：git, msysgit

我在网络驱动器上使用 msysgit (v1.7.7) 从 Windows 克隆了一个 Git 存储库。一些文件在存储库上被标记为具有模式 100755。

使用 Windows 中的 git bash 工具，该`ls -l`命令有效地显示了这些文件的良好权限。现在，当我从 Linux 访问存储库目录时，这些文件具有 644 权限而不是 755。

如果我在 Linux 端将它们 chmod 为 755 并返回到 Windows 上的 git bash 工具：

*   该`ls -l`命令仍然显示文件具有 755 权限
*   但该`git diff`命令告诉文件从 100755 更改为 100644 模式

知道如何在 Windows 上使用 msysgit 正确处理文件模式吗？

我在 msysgit 上发现了这个问题，它对应于我的问题[http://code.google.com/p/msysgit/issues/detail?id=164](http://code.google.com/p/msysgit/issues/detail?id=164) 我在我的文件上尝试了建议的提示`git update-index --chmod=+x`，但它没有改变任何东西。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-30T09:04:43.423

mingw 不像 linux 那样支持文件模式。据我了解，它遵循 Windows 扩展支持，`.exe`即将具有 +x 位。但是 chmod 什么也没做。

因此，对于 git，您应该指定`git config core.filemode false`在 mingw 中禁用文件模式支持。如果你需要改变它，你应该在Linux下进行。

但是，也许我错了，但公平的 cygwin 确实支持文件模式。你可以试试它而不是mingw。

# css - CSS3 Mega 菜单和打印控制？

> ID：12193021
> 
> 赞同：0
> 
> 时间：2012-08-30T08:41:13.507
> 
> 标签：css

我是 css 新手，但我有一个 css3 巨型菜单，并注意到当我去打印页面时，它想在页面上打印出巨型菜单中的所有材料。如果您想自己测试它，请访问这里[http://gdisinc.com/barker/default.php](http://gdisinc.com/barker/default.php)并打印预览页面，您应该注意到所有大型菜单内容都显示在页面上。

我的问题：有没有办法告诉浏览器不要在打印中显示大型菜单？或者是否有其他解决方法？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:33:54.770

添加一个[print.css](http://www.onextrapixel.com/2009/05/05/how-to-create-a-simple-print-css-for-your-site/)并可能执行以下操作：

```
#menu li div{
   display:none;
} 
```

# jquery - 需要将 CSS 添加到 jQuery 滑块

> ID：12193022
> 
> 赞同：0
> 
> 时间：2012-08-30T08:41:26.267
> 
> 标签：jquery, asp.net, jquery-ui

我正在使用这个滑块： [http ://docs.jquery.com/UI/Slider](http://docs.jquery.com/UI/Slider)

我需要更改滑块手柄和滑块的颜色。由于我是 jQuery 新手，所以我不知道该怎么做。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T08:53:12.420

实际上，我遇到了同样的问题，这就是我解决它的方法：

我的 html 标记是这样的：

```
<div id="slider" class="hidden">
    <input type="text" id="sliderAmount" value="30% to 90%" readonly="readonly"/>               
</div> 
```

我使用 jQuery 手动将类添加到手柄栏，如下所示：

```
$(document).ready(function(){
    $("#slider a").addClass("myClassForSliderHandle");
}); 
```

其中，当您查看代码时（检查 chrome 中的元素）看起来像这样（因为 jQueryUI 将句柄栏变成了`a`标签）：

```
<a class="ui-slider-handle ui-state-default ui-corner-all myClassForSliderHandle" href="#"></a> 
```

我在我的css文件中添加了这个：

```
.myClassForSliderHandle {
    background-color: yellow !important;
    background-image: none !important;
} 
```

这是我得到的结果： ![在此处输入图像描述](../Images/2d8891857ee737cf7e4ce07e606ca67e.png)

最初，我使用的是主题[blitzer](http://jqueryui.com/themeroller/#ffDefault=Arial,sans-serif&fwDefault=bold&fsDefault=1.1em&cornerRadius=6px&bgColorHeader=cc0000&bgTextureHeader=03_highlight_soft.png&bgImgOpacityHeader=15&borderColorHeader=e3a1a1&fcHeader=ffffff&iconColorHeader=ffffff&bgColorContent=ffffff&bgTextureContent=01_flat.png&bgImgOpacityContent=75&borderColorContent=eeeeee&fcContent=333333&iconColorContent=cc0000&bgColorDefault=eeeeee&bgTextureDefault=04_highlight_hard.png&bgImgOpacityDefault=100&borderColorDefault=d8dcdf&fcDefault=004276&iconColorDefault=cc0000&bgColorHover=f6f6f6&bgTextureHover=04_highlight_hard.png&bgImgOpacityHover=100&borderColorHover=cdd5da&fcHover=111111&iconColorHover=cc0000&bgColorActive=ffffff&bgTextureActive=01_flat.png&bgImgOpacityActive=65&borderColorActive=eeeeee&fcActive=cc0000&iconColorActive=cc0000&bgColorHighlight=fbf8ee&bgTextureHighlight=02_glass.png&bgImgOpacityHighlight=55&borderColorHighlight=fcd3a1&fcHighlight=444444&iconColorHighlight=004276&bgColorError=f3d8d8&bgTextureError=08_diagonals_thick.png&bgImgOpacityError=75&borderColorError=cc0000&fcError=2e2e2e&iconColorError=cc0000&bgColorOverlay=a6a6a6&bgTextureOverlay=09_dots_small.png&bgImgOpacityOverlay=65&opacityOverlay=40&bgColorShadow=333333&bgTextureShadow=01_flat.png&bgImgOpacityShadow=0&opacityShadow=10&thicknessShadow=8px&offsetTopShadow=-8px&offsetLeftShadow=-8px&cornerRadiusShadow=8px)，正如您在此链接上看到的那样，它没有黄色把手。

**编辑：**如何更改滑块颜色：如果您查看应用于滑块的类（我在 Chrome 浏览器中使用检查元素），您会看到：

```
.ui-widget-header {
    border: 1px solid #E3A1A1;
    background: #C00 url(images/ui-bg_highlight-soft_15_cc0000_1x100.png) 50% 50%         repeat-x;
    color: white;
    font-weight: bold;
} 
```

现在，为了更改滑块的颜色，您必须删除背景图像，只需像这样尝试（我尝试过并且有效）：

```
.ui-widget-header {
    border: 1px solid #E3A1A1;
    background: green;
    color: white;
    font-weight: bold;
} 
```

这个类位于 jQuery UI css 文件中（在我的例子中是 jquery-ui-1.8.16.custom.css）。

希望这现在可以解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:46:21.863

您必须覆盖 css 类来自定义您想要的颜色，或者您必须应用 jquery 中提供的主题。[尝试更改页面链接](http://jqueryui.com/demos/slider/)右上角的主题 。它可能对你有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T08:57:47.507

最简单的解决方案是使用[jQueryUI themeroller](http://jqueryui.com/themeroller/)。只需在那里创建自己的样式，完成后单击“下载主题”。它将让您下载自定义样式的 jQueryUI 库。

或者，您将不得不为特定的 jQueryUI 类覆盖 CSS，但这会变得非常复杂。

# javascript - 基于响应的jQuery延迟过程

> ID：12193030
> 
> 赞同：0
> 
> 时间：2012-08-30T08:41:42.927
> 
> 标签：javascript, jquery, html, dom, animation

下面的代码有效，但不能正常工作的是延迟进程，因为我不知道**process.php**需要多长时间才能响应。它总是不同的。没有确定的时间。

下面的代码可以像这样工作（除了错误的延迟）：

1.  当我点击**运行**图标时，运行图标应该会消失，**加载器**图标应该会慢慢出现。
2.  来自**process.php**的响应后，**加载器**图标应该会慢慢消失，**成功/失败**图标会慢慢出现。*如果成功*的话，紧接着**next** ( *div* ) 应该会慢慢出现。

 *谢谢

```
$(document).ready(function()
{
   $("#run").click(function(event)
   {
      $('#run').hide();
      $('#loader').fadeIn(1000).delay(1000);

      $.ajax(
      {
         type       : 'POST',
         url        : 'process.php',
         data       : 'user=jolly',
         dataType   : 'json',
         success    : function(response)
         {
            if(response.status == 'success')
            {
               $('#loader').delay(1000).fadeOut();
               $('#success').delay(4000).fadeIn(1000);
               $('#next').delay(4500).fadeIn(1000);
            }
            else
            {
               $('#loader').delay(1000).fadeOut();
               $('#fail').delay(4000).fadeIn(1000);
               $('#next').delay(4500).fadeIn(1000);
            }
         }
      });
   });
});

<div id="first">
   <img id="run" src="run.png" />
   <img id="loader" src="loader.png" style="display:none;" />
   <img id="success" src="success.png" style="display:none;" />
   <img id="fail" src="fail.png" style="display:none;" />
</div>
<div id="next" style="display:none;">
   ....
   ....
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T08:53:50.900

符合你的问题吗？

```
$('#run').hide();
$('#loader').fadeIn(1000);

$.ajax({
  type: 'POST',
  url: 'process.php',
  data: 'user=jolly',
  dataType: 'json',
  success: function (response) {
    $('#loader').stop(true).fadeOut(function () {
      if (response.status == 'success') {
        $('#success').fadeIn(1000, function () {
          $('#next').fadeIn(1000);
        });
      } else {
        $('#fail').fadeIn(1000);
      }
    });
  }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T08:54:41.220

你这样做是错的？这不是`delay()`预期的目的，您有回调来处理此行为：

```
$(function() {
    $("#run").on('click', function() {
        $(this).hide();
        $('#loader').fadeIn(1000);

        $.ajax({
            type: 'POST',
            url: 'process.php',
            data: {user: 'jolly'},
            dataType: 'json'
        }).done(function(data) {
            $('#loader').fadeOut(1000, function() {
                $('#success').fadeIn(1000, function() {
                    $('#next').fadeIn(1000);
                });
            });
        }).fail(function() {
            $('#loader').fadeOut(1000, function() {
                $('#success').fadeIn(1000, function() {
                    $('#fail').fadeIn(1000);
                });
            });
        });
    });
});​ 
```

此外，无需检查`response.status`，jQuery 对两者都有可用的回调。

您也可以将 Ajax 函数放置在加载程序的初始淡入的回调中，但您真正要做的只是延迟向用户显示数据，这**总是**一件坏事。*

# java - 如何在 Java 代码中将 .class 文件更新为 Jar？

> ID：12193031
> 
> 赞同：-1
> 
> 时间：2012-08-30T08:41:44.583
> 
> 标签：java, jar

我编译了一个类文件并想将它注入到一个现有的 jar 文件中。我试过但“jar”命令不是一个好的解决方案，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T08:49:08.327

你想自动还是手动？如果手动，则 JAR 文件类似于 ZIP 文件，因此您应该能够使用任何 ZIP 阅读器打开它。但你必须将扩展名第一个jar更改为zip。然后你可以更改你的`.class`文件。

或者
本[教程](http://docs.oracle.com/javase/tutorial/deployment/jar/update.html)详细介绍了如何更新 jar 文件

```
jar uf jar-file input-file(s) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:47:55.123

所以我认为你可以解压缩jar，并将你的类文件复制到你压缩的目录中。并将这些文件重新压缩成一个新的jar文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T08:52:20.593

如果你想在脚本中自动化它`jar`是你最好的选择。它与 JDK 一起安装并完成工作。

如果是一次性操作，您可能需要使用例如[7-Zip](http://www.7-zip.org/)或其他可以处理[jar 文件格式](http://en.wikipedia.org/wiki/JAR_%28file_format%29)（基本上是 ZIP）的归档软件。

# xml - 使用 xslt 进行 xml 分组

> ID：12193035
> 
> 赞同：0
> 
> 时间：2012-08-30T08:41:57.437
> 
> 标签：xml, xslt, xpath

我在对 XML 文件中的一些标签进行分组时遇到问题。我想在标签 nr 之后对元素进行分组，并将它们放入一个新的标签 masini 中。我在输入这个 XML：

> ```
>  <nota>
> <auto>
> <nr> 1 </nr>
> <bmw>masina tare</bmw>
> <mercedes> masina tiganeasca</mercedes>
> <dacia> masina romaneasca</dacia>
> </auto>
> <auto>
> <nr> 12 </nr>
> <bmw>2041</bmw>
> <mercedes> masina tdadsa</mercedes>
> <dacia> masina veche</dacia>
> </auto>
> 
> <auto>
> <nr> 1 </nr>
> <bmw>masina tare</bmw>
> <mercedes> masina tiganeasca</mercedes>
> <dacia> masina romaneasca</dacia>
> </auto>
> </nota> 
> ```

我想要：

```
 <nota>
<masini>
<auto>
<nr> 1 </nr>
<bmw>masina tare</bmw>
<mercedes> masina tiganeasca</mercedes>
<dacia> masina romaneasca</dacia>
</auto>
<auto>
<nr> 1 </nr>
<bmw>masina tare</bmw>
<mercedes> masina tiganeasca</mercedes>
<dacia> masina romaneasca</dacia>
</auto>
</masini>
<masini>
<auto>
<nr> 12 </nr>
<bmw>2041</bmw>
<mercedes> masina tdadsa</mercedes>
<dacia> masina veche</dacia>
</auto>
</masini>
</nota> 
```

如果有两个 nr 相等，则应该有两个 auto 标记，它们的元素位于同一个 masini 标记中。对不起我的英语，提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:15:53.710

在 XSLT1.0 中，最有效的技术称为[Muenchian Grouping](http://www.jenitennison.com/xslt/grouping/muenchian.html)。

首先，您定义一个**xsl:key**用于查找组中的项目。在这种情况下，您正在寻找名称为**nr**元素值的**auto元素：**

 **```
<xsl:key name="auto" match="auto" use="nr" /> 
```

接下来，您需要查找作为组中第一个元素的**auto**元素（即它们包含每个不同的**nr**元素的第一次出现*

```
<xsl:apply-templates 
   select="auto[generate-id() = generate-id(key('auto', nr)[1])]" mode="group" /> 
```

然后，对于每个这样的“不同”元素，您可以进行模板匹配以将组中的所有元素放入一个新元素中

```
<xsl:template match="auto" mode="group">
   <masini>
      <xsl:apply-templates select="key('auto', nr)" />
   </masini>
</xsl:template> 
```

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>
   <xsl:key name="auto" match="auto" use="nr" />

   <xsl:template match="/*">
      <xsl:copy>
         <xsl:apply-templates select="auto[generate-id() = generate-id(key('auto', nr)[1])]" mode="group" />
      </xsl:copy>
   </xsl:template>

   <xsl:template match="auto" mode="group">
      <masini>
         <xsl:apply-templates select="key('auto', nr)" />
      </masini>
   </xsl:template>

   <xsl:template match="@*|node()">
      <xsl:copy>
         <xsl:apply-templates select="@*|node()"/>
      </xsl:copy>
   </xsl:template>
</xsl:stylesheet> 
```

应用于您的示例 XML 时，将输出以下内容

```
<nota>
   <masini>
      <auto>
         <nr> 1 </nr>
         <bmw>masina tare</bmw>
         <mercedes> masina tiganeasca</mercedes>
         <dacia> masina romaneasca</dacia>
      </auto>
      <auto>
         <nr> 1 </nr>
         <bmw>masina tare</bmw>
         <mercedes> masina tiganeasca</mercedes>
         <dacia> masina romaneasca</dacia>
      </auto>
   </masini>
   <masini>
      <auto>
         <nr> 12 </nr>
         <bmw>2041</bmw>
         <mercedes> masina tdadsa</mercedes>
         <dacia> masina veche</dacia>
      </auto>
   </masini>
</nota> 
```

此外，请注意使用身份转换复制 XML 中的所有现有元素。**

# java - Android - 循环通过 strings.xml 文件

> ID：12193036
> 
> 赞同：3
> 
> 时间：2012-08-30T08:42:02.803
> 
> 标签：java, android, xml, loops

我想知道是否有任何方法可以遍历`strings.xml`文件。

假设我有以下格式：

```
<!-- FIRST SECTION -->
<string name="change_password">Change Password</string>
<string name="change_server">Change URL</string>
<string name="default_password">password</string>
<string name="default_server">http://xxx:8080</string>
<string name="default_username">testPhoneAccount</string>

<!-- SECOND SECTION -->
<string name="debug_settings_category">Debug Settings</string>
<string name="reload_data_every_startup_pref">reload_data_every_startup</string>
<string name="reload_data_on_first_startup_pref">reload_data_on_first_startup</string> 
```

现在假设我有这个：

```
private HashMap<String,Integer> hashmapStringValues = new HashMap<String, Integer>(); 
```

有没有办法只在我的 xml 文件的第二部分进行迭代？也许用标签包装该部分，`<section2>`然后遍历它？

```
public void initHashMap(){
    for (int i=0;i< ???? ;i++) //Here I need to loop only in the second section of my xml file
    {          
        String nameOfTag = ? // Here I get the name of the tag
        int value = R.string.nameOfTag // Here I get the associated value of the tag

        this.hashmapStringValues.put(nameOfTag,value);
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T09:36:24.237

不，但您可以在资源/值中创建另一个 xml 文件，其中包含以下内容：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <string-array name="array">
        <item>ID_1|Asdf</item>
        <item>ID_2|I do not like to think</item>
        <item>ID_3|Whatever</item>
    </string-array>

</resources> 
```

您可以随意格式化字符串，然后使用自定义解析器对其进行解析。

要获取字符串数组，您只需执行以下操作：

```
getResources().getStringArray(R.array.array); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-09-25T16:35:44.547

如果您查看生成的 android.R java 文件，它会为您提供如何通过反射完成此操作的好主意：

```
 Field fields[] = R.string.class.getFields();
    for (Field field : fields) {
        Log.d("appname", field.getName() + ":" + getResources().getIdentifier(field.getName(), "string", this.getPackageName()));
    } 
```

请注意，我不会经常这样做，但应用程序加载一次应该没问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:03:00.863

这是不可能的，因为基本的 java 本身并没有检测到注释

您只能选择这样的字符串。

```
getResources().getString(R.string.app_name) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-12-13T14:00:18.557

```
public class MainActivity extends AppCompatActivity{
// one way to iterate over the arrays in the strings.xml file
// is to name them all here......
String[] categories = {"millis","size_uk","size_us","size_jp"};
ArrayList<Spinner> spinners = new ArrayList<>();
ArrayAdapter adapter;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    // iterate over the views in the layout and find the spinners
    // need to iterate over spinners separately
    // because need to identify them individually
    // in order to set their selection in the event handlers
    // of the other spinners
    GridLayout gridLayout = findViewById(R.id.GridLayout1);
    for (int i = 0; i < gridLayout.getChildCount(); i++) {
        View view = gridLayout.getChildAt(i);
        // if the view is a spinner.....
        if (view instanceof Spinner){
            spinners.add((Spinner)view);
        }
    }
    // it is an array of arrays
    // iterate over the arrays and fill each spinner
    // they used to be called strange objects
    // plus attach an event to each spinner
    for (int i = 0; i < categories.length; i++){
        Spinner spinner = spinners.get(i);
        // identify the array from it's name in the resource file
        int id = this.getResources().getIdentifier(categories[i], "array",
                this.getPackageName());
        // create an adapter from said array
        adapter = ArrayAdapter.createFromResource(this, id,
                android.R.layout.simple_spinner_item);
        //put the contents of the array in the spinner
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner.setAdapter(adapter);
        //set listener event for each spinner
        spinner.setOnItemSelectedListener(new OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parentView, View selectedItemView, int position, long id) {
                // set all spinners to the same index
                for(int k = 0; k < 4; k++)
                    spinners.get(k).setSelection(position);
            }
            @Override
            public void onNothingSelected(AdapterView<?> parentView) {
                // do nothing
            }
        });
    }
} 
```

}

# abap - SAP 中的二进制搜索如何处理重复项？

> ID：12193041
> 
> 赞同：-3
> 
> 时间：2012-08-30T08:42:23.667
> 
> 标签：abap, binary-search, internal-tables

我正在寻找对 SAP 中二进制搜索概念的解释。如果我的表有重复，搜索是如何完成的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:13:29.517

假设您已经阅读了[有关二分搜索的大量文章](http://en.wikipedia.org/wiki/Binary_search)以及[ABAP 文档](http://help.sap.com/abapdocu_702/en/abapread_table_free.htm)，您可能会忽略以下段落：

> 如果有多个命中（由于不完整的搜索键或表中的重复条目），二进制搜索（在标准表中使用 BINARY SEARCH 加法；在排序表中自动）也会按照行的顺序返回第一个命中在主索引中。这是行号最小的行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-30T08:57:11.607

我相信abap中的二分查找和普通的二分查找算法一样，但是在找到与key匹配的记录后，它会按索引向上表，直到key不同。之后 if 返回表中与您的键匹配的第一个匹配项。

# php - 使用 PHP 将 Jquery 可排序值保存到 mysql 数据库

> ID：12193044
> 
> 赞同：1
> 
> 时间：2012-08-30T08:42:39.933
> 
> 标签：php, jquery, jquery-ui-sortable

我看到了针对某人问题的此解决方案，但我不明白应该在 saveSortable.php 文件中写什么。

有人阐明了吗？

```
<ul id="sortable">
    <li id="1">elem 1</li>
    <li id="2">elem 2</li>
    <li id="3">elem 3</li>
    <li id="4">elem 4</li>
</ul>

$(document).ready(function(){
    $('#sortable').sortable({
        update: function(event, ui) {
            var newOrder = $(this).sortable('toArray').toString();
            $.get('saveSortable.php', {order:newOrder});
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:01:53.753

你可以有这样的东西：

```
//do database connection here

$orders =  explode(',',$_GET['order']);
foreach ($orders as $key=>$value) {
$query = "UPDATE `tabel_name`
SET sort_order = {$value}
WHERE id = {$key}";
mysql_query($query) or die('Error, insert query failed');
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:45:54.173

您需要从 GET 中检索值，因此您需要如下代码：

```
$values = $_GET('order'); 
```

然后通过遍历 $values 数组将您的值保存到数据库中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T08:52:55.563

只需通过以下方式爆炸它们`,`：

```
$values = $_GET['order'];
$list = explode(',', $values);

foreach($list as $item){
    // do something with $item - 1    
} 
```

# asp.net-mvc-3 - 接收尝试删除 x 和 x 之间的关系，但是关系的外键之一

> ID：12193045
> 
> 赞同：0
> 
> 时间：2012-08-30T08:42:47.543
> 
> 标签：asp.net-mvc-3, linq-to-sql, one-to-many

我有一个 MVC 项目，我有一个需要同时更新父实体和多个子实体的情况。在发布操作中，我收到“尝试删除 x 和 x 之间的关系，但是关系的外键之一”，这很奇怪，我所做的只是更新，我没有删除任何实体。我正在使用 Linq to SQL 和 MVC3。伪代码如下：

```
@model Project.Models.ParentModel

...

@using (Html.BeginForm()) {
@Html.Label("Parent property")
@Html.EditorFor(model => model.ParentProperty)

@foreach (var child in Model.Childs)
{
Html.RenderPartial("_EditChild", child)
// Which is nothing more than a label and an editor for a property like:
// @model Project.Models.ChildModel
// @Html.Label("Child property")
// @Hteml.EditorFor(model => model.ChildProperty)
}

...

} 
```

动作看起来像：

```
public ActionResult Edit(int id, FormCollection collection)
{

var parent = new Parent();
TryUpdateModel(Parent()); // which updates the parent and the child properties correctly
dataContext.SubmitChanges();

} 
```

任何人都可以解释这种行为。再一次，我不会删除或删除任何子实体！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:22:54.123

对列表的绑定可能非常讨厌，我自己也遇到了一些问题。我修改了我的列表编辑代码以与孩子一起使用并对其进行了测试，它可以正常工作并且数据已正确绑定并在发布操作中可见：

```
@model MvcApplication2.Models.Parent

@using (Html.BeginForm())
{
    <table>
        @{
                <tr>
                    <td>
                        @Html.TextBoxFor(m => m.Text)
                        @Html.HiddenFor(m => m.ID)
                    </td>
                </tr>
                for (int i = 0; i < Model.Children.Count; i++)
                {
                            <tr>
                                <td>
                                    @Html.TextBoxFor(x => x.Children[i].Title)
                                    @Html.HiddenFor(x => x.Children[i].ID)
                                </td>
                            </tr>
                }
        }
    </table>
    <div class="button">
        <input class="submit" type="submit" name="btnSave" id="btnSave" value="Save" />
    </div>
} 
```

我的测试控制器如下所示：

```
[HttpGet]
public ActionResult EditingChildren()
{
    Parent parent = new Parent() { Text = "" };
    parent.Children = new List<Child>();
    parent.Children.Add(new Child() { Title = "" });
    parent.Children.Add(new Child() { Title = "" });
    parent.Children.Add(new Child() { Title = "" });
    return View(parent);
}

[HttpPost]
public ActionResult EditingChildren(Parent parent)
{
    // save parent with children
} 
```

编辑我关于使用 linq to sql 保存数据的帖子：

如果您没有在视图上绑定 ID，它将在 post 方法中的对象中留空。这会给您保存数据带来麻烦。因此，我通常将 ID 绑定到一个隐藏字段，这样它就不会再为空了（查看上面编辑的代码并在 TextBoxFor 下添加了 HiddenFor）。

还可以在此网站上查看有关使用 linq to sql 更新数据的信息：

[http://davedewinter.com/2009/04/07/linq-to-sql-updating-entities/](http://davedewinter.com/2009/04/07/linq-to-sql-updating-entities/)（在附加实体、更改属性、更新下）

和这篇文章： [在此处输入链接描述](https://stackoverflow.com/questions/1758214/linq-to-sql-exception-with-attach-cannot-add-an-entity-with-a-key-that-is-alr)

# python - 通用换行模式是否应该是 Python 2.7 中 open() 的默认行为？

> ID：12193047
> 
> 赞同：4
> 
> 时间：2012-08-30T08:43:03.160
> 
> 标签：python, python-2.7

我在 Windows 7 上运行 Python 2.7.2（64 位）。我对此处记录的“通用换行模式”有点困惑：http: [//docs.python.org/library/functions.html#open](http://docs.python.org/library/functions.html#open)

从文档看来，除非在 open() 的模式参数中指定了“U”，否则“通用换行模式”应该不会生效。但是我认为这是默认行为！那么文档确实具有误导性还是我遗漏了什么？

```
f = open("c:/Temp/test.txt", "wb")
f.write("One\r\nTwo\r\nThree\r\nFour"); f.close()

f = open("c:/Temp/test.txt", "rb")
f.read(); f.close()
'One\r\nTwo\r\nThree\r\nFour'

f = open("c:/Temp/test.txt", "r")
f.read(); f.close()
'One\nTwo\nThree\nFour'

f = open("c:/Temp/test.txt", "rt")
f.read(); f.close()
'One\nTwo\nThree\nFour'

f = open("c:/Temp/test.txt", "rU")
f.read(); f.close()
'One\nTwo\nThree\nFour' 
```

似乎“r”、“rt”、“rU”都有相同的行为？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T08:54:00.400

您正在观察这一点，因为`\r\n`它是 Windows 上的行终止符，因此`t`模式将其转换为`\n`. 在 Unix（此处为 MacOS）上，`t`不影响`\r\n`也没有转换。`t`and之间的区别在于，在每个平台上都可以转换和 to，而`U`依赖`U`于`\r\n`平台`\r`并且只转换给定平台的 LT。`\n``t`

替换您的测试字符串以`"One\r\nTwo\nThree\rFour"`查看`U`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:49:21.440

[本](http://docs.python.org/tutorial/inputoutput.html#reading-and-writing-files)文档对此进行了解释。

基本上，当您作为文本文件（不带`'b'`）打开时，*在读取或写入数据时，文本文件中的行尾字符会自动略微更改*。如果您不想这样做，请使用二进制模式。

# iphone - iTunes Error invalid IPA Through iTunes Sync 奇怪的错误？

> ID：12193049
> 
> 赞同：0
> 
> 时间：2012-08-30T08:43:14.143
> 
> 标签：iphone, ios5, ios4, itunes, itunes-app

我创建了一个具有正确配置文件的 IPA 文件，之后我从 iTunes 同步该 IPA 文件，但它会出现错误，如 ipa 无效

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T08:50:32.543

生成 IPA 时，请确保使用正确的代码签名身份对应用程序进行签名。那是在出现保存提示之前 ipa 生成的最后一步，（如果您在 Xcode > Product > Archive 中制作 ipa）

# java - 使用 java aws sdk 检查 ec2 实例是否正在运行或终止

> ID：12193061
> 
> 赞同：2
> 
> 时间：2012-08-30T08:44:10.443
> 
> 标签：java, amazon-ec2, amazon-web-services

我们如何检查实例是否正在运行或终止？由于终止的实例 ID 在系统中保留了一段时间，但我想在实例终止后立即从我的正在运行的实例列表中排除那些终止的实例。有人可以指导我如何实现它吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T10:48:10.293

为了摆脱终止或停止的实例，我只是进行了这样的检查

```
 if(reservation.getInstances().getPublicIpAddress()!= null) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T10:42:09.063

您可以调用以下说明来执行此操作。

```
List<Reservation> reservList = ec2.describeInstances().getReservations(); 

//iterate on reservList and call 

List<Instance> instanceList =  reservList[i].getInstances();

//Now on each instance you can call 

 instanceList[i].getState().getName(); 
```

这将返回每个实例的状态

# php - PHP/MySQL：准备好的语句是解决这个问题的方法吗？

> ID：12193063
> 
> 赞同：0
> 
> 时间：2012-08-30T08:44:23.453
> 
> 标签：php, mysql, pdo

如果我在所有 MySQL 查询上使用准备好的语句，我还需要使用`mysql_real_escape_string()`etc 来防止它被 SQL 注入吗？

问题：我让我的代码通过`foreach`所有`$_POST`元素和`mysql_real_escape_string()`每个元素运行。

但是当我开始使用 CKEditor 时它就成了一个问题，`textareas`因为它会生成插入数据库的 HTML 代码，但是在插入之前，它会通过`foreach`我之前提到的那个循环，转义 CKEditor 生成的所有引号，使其非在 HTML 页面中显示时有效。

所以也许准备好的陈述是要走的路？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T08:48:51.320

如果正确使用准备好的语句，则不需要转义插入的内容，因为您将内容与 SQL 代码分开。

但这不是一种神奇的方法，只是“使用准备好的方法”。您需要确保您的代码实际进入参数。您可以（我不是说您正在这样做，但可以肯定的是）只需准备一个您本来会运行的查询，并且遇到与以前相同的问题。

如果你记得准备好的语句不是一个神奇的“现在它是安全的”按钮，你可以跳过转义码。

# iphone - 本地化可可和 iPhone 项目

> ID：12193068
> 
> 赞同：1
> 
> 时间：2012-08-30T08:44:37.797
> 
> 标签：iphone, macos, cocoa-touch, cocoa, localization

我正在本地化一个 mac 应用程序，并且想知道我应该采用什么方法来本地化 nib 文件。我曾经通过为 xib 中的每个属性（例如标签）创建 IBOutlets 来本地化 xib 文件。但是我觉得这不是正确的方法，应该使用 ibtool 代替。

我已将此[http://developer.casgrain.com/?p=94](http://developer.casgrain.com/?p=94)作为起点。但是感觉创建 IBoutlets 要容易得多，我可以在一个地方以编程方式添加字符串和与 nib 相关的字符串。

有人可以告诉我使用 IBOutlets 本地化 xib 的缺点吗？

# ios - iOS 应用审核流程：应用需要外部硬件（通过 WiFi 连接）

> ID：12193073
> 
> 赞同：11
> 
> 时间：2012-08-30T08:44:50.040
> 
> 标签：ios, external, hardware, appstore-approval

我们为我们的客户编写了一个通过 Wifi 连接到外部硬件的应用程序（由我们的客户设计的硬件）。我的问题是，我们如何提交此文件以供审核？没有硬件，软件就不会做很多事情。需要明确的是，硬件不会通过电缆直接连接到 iPad，它仅通过 WiFi 连接。

我只是想弄清楚我们需要做什么才能让这个应用程序通过审核流程并进入 App Store。

任何见解将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-30T09:10:21.880

我是[M7CL、LS9 和 CL 的 StageMix](http://itunes.apple.com/gb/app/ls9-stagemix/id406087165?mt=8)的作者之一，它确实存在这个问题——它使用的硬件是一个有点贵的加密狗；）

我们添加了断开连接的演示模式，其中所有应用程序的 UI 都可以工作 - 唯一的区别是没有任何东西是远程控制的。这还有一个额外的好处，就是允许客户在硬件不方便时试用该应用程序。

Apple 一直很高兴审查演示模式，并且可能从未测试过它的连接。

我确实建议应用程序的 iTunes Store 元数据——如果可能的话，用户界面——非常清楚外部硬件要求

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-12-18T20:05:07.300

我最近对 ​​DAQ 应用程序的一项更新未能获得批准，并附注说我需要展示它与硬件一起工作的视频。我的演示模式让他们测试了一些功能，视频显示了连接性。我只是将视频作为私人视频托管在 YouTube 上，提交视频后很快就被接受了。下一次更新通过相同的视频被接受，并说明只有微小的变化，连接没有变化。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-01-21T22:18:20.147

本周我通过电子邮件向 Apple 询问他们目前对此的政策是什么，他们说我们必须将硬件运送给他们。他们还表示，如果需要，他们可以将其退回，但我们也必须再次将硬件运送给他们，以便将来每次更新应用程序。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-04-11T21:51:54.340

苹果要求我寄送硬件

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-30T08:53:34.887

我有同样的经历。我们的应用程序是 [http://itunes.apple.com/us/app/jia-jia-yi/id497092682?mt=8](http://itunes.apple.com/us/app/jia-jia-yi/id497092682?mt=8)。这个应用程序也适用于设备。但我们很幸运，苹果并没有要求我们为他们提供硬件支持。希望你也很幸运。:)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-07-16T18:47:11.187

我们最近提交了一个应用程序，该应用程序也需要提交我们的硬件。它被要求运送到的地址是：

Apple, Inc. 1 Infinite Loop, M/S: 124-2APP Cupertino, CA 95014 USA

最好先提交应用程序，然后让它卡在那个过程中，这样当你发送它时，你可以将它定向给适当的负责人。至于 FCC，如果从美国境外发货，您需要填写此表格：

[http://transition.fcc.gov/Forms/Form740/740.pdf](http://transition.fcc.gov/Forms/Form740/740.pdf)

Apple 提供的其他说明：

*   运输中每个不同的射频设备或组件必须使用单独的 FCC 表格 740；但是，射频设备的子组件、零件或组件不需要表格。

*   该表格可由寄件人或收件人填写，但如果寄件人未将表格连同原始运输文件一起寄出，则货物可能会在海关延误。

*   确保提供所有序列号和 ID 号以及原始制造商的名称和地址。

我希望这会有所帮助！

# c# - 将中继器绑定到堆栈列表

> ID：12193076
> 
> 赞同：1
> 
> 时间：2012-08-30T08:44:57.003
> 
> 标签：c#, asp.net

这是代码。它没有显示任何编译或运行时错误。然后我也进行了调试，直到数据绑定工作正常。但是网页中也没有显示控件！

示例.aspx：

```
 <body>
    <form id="form1" runat="server">
    <asp:PlaceHolder ID="_placeHolder1" runat="server">
    </asp:PlaceHolder>
    </form>
    </body> 
```

示例.aspx.cs：

```
 protected void Page_Load(object sender, EventArgs e)
     {
      _placeHolder1.Controls.Add(CreateReapeater());
     }

     private Control CreateReapeater()
     {
        Repeater _repeater1 = new Repeater();
        Stack _stack1 = new Stack();
        for (int i = 0; i < 7; i++)
        {
            _stack1.Push(i);
        }
        _repeater1.DataSource = _stack1;
        _repeater1.DataBind();
        return _repeater1;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:39:23.947

实际上中继器没有像gridview那样的内置列结构。因此，当我们动态绑定转发器时，我们还需要为此创建项目模板。

您需要修改 createrepeater 函数，如下所示。

```
private Control CreateReapeater()
{
    Repeater _repeater1 = new Repeater();
    Stack _stack1 = new Stack();
    for (int i = 0; i < 7; i++)
    {
        _stack1.Push(i);
    }

    _repeater1.DataSource = _stack1;          
    _repeater1.DataBind();

    foreach (RepeaterItem repeatItem in _repeater1.Items)
    {
        int index = repeatItem.ItemIndex;

        RepeaterItem repeaterItem = new RepeaterItem(repeatItem.ItemIndex, ListItemType.Item);
        Label lbl = new Label();

        lbl.Text = "Item No :" + index.ToString() + "<br/>";
        repeatItem.Controls.Add(lbl);

    }

    return _repeater1;
} 
```

这将解决您的问题。

快乐的编码......

# c# - 将数据网格导出到 Excel 文档中

> ID：12193077
> 
> 赞同：2
> 
> 时间：2012-08-30T08:44:59.773
> 
> 标签：c#, wpf, datagrid, interop, export-to-excel

我需要将 datgrid 导出到 excel 文档，但这样做时遇到错误。下面是我用来导出的代码，它打开了 Excel 文档，并且标题就位，但是每个单元格中的值应该是我在 Excel 单元格中看到 System.Data.DataRowView 的位置。我需要做的是从帽子行中获取值并将它们插入到 Excel 工作簿中。

任何帮助表示赞赏，或教程链接。

彼得

```
Microsoft.Office.Interop.Excel.Application excel = null;
Microsoft.Office.Interop.Excel.Workbook wb = null;

object missing = Type.Missing;
Microsoft.Office.Interop.Excel.Worksheet ws = null;
Microsoft.Office.Interop.Excel.Range rng = null;

try
{
    excel = new Microsoft.Office.Interop.Excel.Application();
    wb = excel.Workbooks.Add();
    ws = (Microsoft.Office.Interop.Excel.Worksheet)wb.ActiveSheet;

    for (int Idx = 0; Idx < dataGrid1.Columns.Count; Idx++)
    {
        // Puts Column Header into excel work sheet
        ws.Range["A1"].Offset[0, Idx].Value = dataGrid1.Columns[Idx].Header;
    }

    for (int Idx = 0; Idx < dataGrid1.Items.Count; Idx++)
    {  
        ws.Range["A2"].Offset[Idx].Resize[1, dataGrid1.Columns.Count].Value =
        dataGrid1.Items[Idx].ToString();
    }

    excel.Visible = true;
    wb.
}
catch (COMException ex)
{
    MessageBox.Show("Error accessing Excel: " + ex.ToString());
}
catch (Exception ex)
{
    MessageBox.Show("Error: " + ex.ToString());
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:49:17.707

如果有人遇到同样的问题，我找到了解决方案。

要访问行内的值，您需要执行以下操作：

```
for (int columnIndex = 0; columnIndex < dataGrid1.Columns.Count; columnIndex++) 
{
    ws.Range["A2"].Offset[rowIndex, columnIndex].Value =
        (dataGrid1.Items[rowIndex] as DataRowView).Row.ItemArray[columnIndex].ToString()
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:25:18.240

通过循环`for (int Idx = 0; Idx < dataGrid1.Items.Count; Idx++)`，您可以遍历项目，即 DataGrid 的行。每个这样的项目或行显然是一个[DataRowView](http://msdn.microsoft.com/en-us/library/system.data.datarowview.aspx)，因此 ToString 为您提供“System.Data.DataRowView”。

您还必须遍历一行中的每个项目，即单元格：

```
for (int rowIndex = 0; rowIndex < dataGrid1.Items.Count; rowIndex++) 
{
    for (int columnIndex = 0; columnIndex < dataGrid1.Columns.Count; columnIndex++) 
    {
        ws.Range["A2"].Offset[rowIndex, columnIndex].Value =
            dataGrid1.Items[rowIndex][columnIndex].ToString();
    }
} 
```

请注意，我没有对此进行测试，并且对 Excel API 一无所知，所以我不确定`ws.Range["A2"].Offset[rowIndex, columnIndex]`事情是否正确。

# javascript - javascript中的表达式引擎频道条目标签

> ID：12193078
> 
> 赞同：1
> 
> 时间：2012-08-30T08:45:00.680
> 
> 标签：javascript, tags, expressionengine, channel

首先对不起我的英语！我是法国人眨眼

我为一个使用 EE 的客户工作，我有一个小问题，因为我对表达式引擎很陌生

先有代码：

```
 <script type="text/javascript" src="http://www.superphysique.org/images/fancybox/jquery.cookie.js"></script>
    <script type="text/javascript">

    $(document).ready(function(){

    var check_cookie = $.cookie('the_cookie');

        if(check_cookie == null){
        $.cookie('the_cookie', 'the_value');
        $.fancybox(
                    '<p style="font-family:Tahoma; font-size:11px; color:#3B5998; font-weight:bold;">Cliquez maintenant sur J&#8217;aime pour recevoir mes conseils en temps réels !</p>
                                {exp:mailinglist:form list="mailebook"}
                                        <p>Join our Mailing List</p>
                                        <p><input type="text" name="email" value="{email}"></p>
                                        <p><input type="submit" value="submit"></p>
                                {/exp:mailinglist:form}',

                    {
                            'autoDimensions'    : false,
                            'scrolling'         : 'no',
                        'width'                 : 450,
                        'height'                : 570,
                        'transitionIn'      : 'none',
                        'transitionOut'     : 'none'
                    }
                    );
    }

     });

    </script> 
```

好吧，我的客户希望在页面加载时在邮件列表订阅中打开一次fancybox。所以cookie没有问题，我也创建了邮件数据库。

但是当我把这个频道条目标签放在我的代码上时：

```
 {exp:mailinglist:form list="mailebook"}
                                        <p>Join our Mailing List</p>
                                        <p><input type="text" name="email" value="{email}"></p>
                                        <p><input type="submit" value="submit"></p>
                                {/exp:mailinglist:form} 
```

花式框未正确显示。

有人可以帮我解决这个问题吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T08:26:30.667

我几乎可以肯定你永远无法在 JavaScript 中使用它（如果它是一个 JS 文件/模板）。变量和基本条件以及核心 EE 标记被处理，但不是这样的标记对。我通过使用嵌入解决了完全相同的问题......

```
{if logged_out}
    //###   Prompt for login when visitor tries to access member only features   ###
    var modalContent = '{embed=members/login-prompt language="en"}';
    ...
    etc 
```

这表明基本的 EE 条件有效`{if logged_out}`并且`{embed=...}`有效。

更多关于嵌入的信息可以在这里阅读：http: [//expressionengine.com/user_guide/templates/embedding.html](http://expressionengine.com/user_guide/templates/embedding.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-03T22:00:37.017

您是否可能需要protect_javascript =“no”配置变量？

# android - “fastboot boot”命令不起作用？

> ID：12193080
> 
> 赞同：1
> 
> 时间：2012-08-30T08:45:11.713
> 
> 标签：android, debugging, kernel, fastboot

我已经编译了我的内核，我想测试它。

我用了

```
fastboot boot zImage 
```

但是这个命令启动了我的旧内核。为什么？

我已经使用旧内核的 ramdisk 创建并刷新了 boot.img，但它无法启动。有没有办法在没有 UART 的情况下调试启动过程？

问候，米哈尔。

编辑：

我找到了解决方案。在执行引导命令之前，首先我必须执行擦除引导。

但是我得到了启动循环:(当我无法启动时，有什么方法可以读取日志吗？

我真的很想让这个内核可启动。我会很高兴有任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-02T19:40:42.913

有时 adb 守护程序会启动，以便您能够获取日志。

所以你可以尝试通过 adb 获取日志

```
adb shell
logcat > log.txt 
```

你也可以试试这个：

```
adb shell
cat /proc/kmsg > /sdcard/log.txt 
```

在第一种情况下，我想你只会得到内核输出，因为 android 还没有启动。但是如果 adb 守护进程没有被初始化，那么你就不能记录日志。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-30T09:04:28.293

您是否正确键入了您的快速启动命令？

它应该是：

```
fastboot flash boot fileyouwishtoflash 
```

# c# - 加密该用户的 URL 无法读取

> ID：12193081
> 
> 赞同：-2
> 
> 时间：2012-08-30T08:45:12.270
> 
> 标签：c#, javascript, jquery, asp.net, encryption

我必须加密 URL 以使用户无法阅读它。例如，我在服务器端有一个 url，

```
http://testserver/admin/read/myvideo.mp3 
```

我在 html 页面中呈现此 url，以便我的 javascript 可以将其拾取并传递给我的播放器。

现在的问题是，任何人都可以从我页面的查看源代码中看到该网址。

我想要的是保护它，就像我在渲染到html之前在服务器端加密它，在我的java脚本中使用相同的逻辑再次解密并发送给我的播放器

任何人都可以告诉我任何可以在两边都工作的引擎而且我不需要做太多的工作吗？

编辑：我知道它会从 Fiddler、JS 和 Fire Bug 中看到，但与现在相比并不容易阅读

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:07:22.210

也许您应该考虑生成类似一次性 url 的东西，这些东西在第一次获取后就会失效。这将禁止共享该网址。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T08:51:23.823

如果您有可以解密 URL 的 javascript，那么有能力的不法之徒也可以使用该 javascript 来解密 URL。您可能应该检查对文件的请求的来源。

但是，如果您真的想这样做，那么您可以使用[Vigenere cipher](http://www.google.co.uk/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CCAQFjAA&url=http://en.wikipedia.org/wiki/Vigen%25C3%25A8re_cipher&ei=cik_ULGhFYizhAeK1YDwDA&usg=AFQjCNH25BDT8a9TiGhmcJ37NVcFlVs1TA)。我在过去（很多年前）使用过这个，当我需要让一个人无法阅读/破译某些东西时。就我而言，它适合我的需求，因为用户群受到非常仔细的控制和监督。你不能真的让计算机无法破解。

我找到了一个在线 javascript 实现。

看看这里： http: [//www.nayuki.io/page/vigenere-cipher-javascript](http://www.nayuki.io/page/vigenere-cipher-javascript)

输入您的 URL 和密钥。你会发现它不是一个简单的替换密码。

例如，使用 的键`user788592`，`http://testserver/admin/read/myvideo.mp3`转到`blxg://nwwkmwvmyj/eugar/iysh/dsnmuyg.qg3`

# ios - 旋转后隐藏的标签栏

> ID：12193082
> 
> 赞同：1
> 
> 时间：2012-08-30T08:45:15.027
> 
> 标签：ios, uitabbarcontroller, screen-rotation

到目前为止我还没有找到任何与我的情况相对应的东西......

仅供参考，我正在使用情节提要为 iOS 5 开发。

我有一个带有**2 个视图的****选项卡栏控制器**（我们称它们为选项卡 1 和选项卡 2）。我还有一个**单独的横向**视图，**没有标签栏**，在应用程序使用期间设备旋转的任何时候都会使用它。我使用手动启动的 segue来切换到这个视图。我还在横向视图中使用 NSString 来了解我来自哪个选项卡，以便在我返回纵向时返回更正一个选项卡。到目前为止，这工作正常。我可以完全按照我想要的方式来回切换横向模式。******`shouldAutorotateToInterfaceOrientation`******

 ********我的问题是：**

当我以纵向方式启动应用程序时，我会看到标签栏。如果我去风景，它就会消失。这很好，这就是我在故事板中所做的。但是当我回到肖像时，标签栏**没有回来**！那就是问题所在。

**编辑：调用旋转的代码**

我停止使用`shouldAutorotateToInterfaceOrientation`旋转，因为它与自定义 segues 冲突。标签栏的问题以前就在这里，所以这不是问题。我`didRotate`改用。

这是来自`FirstViewController.m`（相同的代码`SecondViewController.m`，更改我的 segue 标识符）的代码：

```
-(void)didRotate:(NSNotification *)notification
{ 
    UIInterfaceOrientation newOrientation =  [[UIDevice currentDevice] orientation];
    if ((newOrientation == UIInterfaceOrientationLandscapeLeft || newOrientation == UIInterfaceOrientationLandscapeRight)) 
    {
        [self performSegueWithIdentifier: @"Page1ToLandscapeSegue" sender: self];
    }
} 
```

从`LandscapeViewController.m`（`previousView`是一个 NSString，在进入横向之前设置，所以我知道我来自哪个视图）：

```
-(void)didRotate:(NSNotification *)notification
{ 
    UIInterfaceOrientation newOrientation =  [[UIDevice currentDevice] orientation];
    if (newOrientation == UIInterfaceOrientationPortrait)
    {
        if ([previousView isEqualToString: @"View1"]) {
            [self performSegueWithIdentifier: @"LandscapeToPage1Segue" 
                                      sender: self];
        }

        else if ([previousView isEqualToString: @"View2"]) {
            [self performSegueWithIdentifier: @"LandscapeToPage2Segue" 
                                      sender: self];
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T15:52:51.960

查看您的评论，我认为您的标签栏正在消失，因为您正在从未嵌入标签栏控制器的视图控制器（这是您的横向视图视图控制器）中分离，我建议以下内容：

1) 设置 segues 以返回到前一个视图似乎很复杂，更不用说您正在创建更多视图/控制器并将它们添加到堆栈中，所以丢弃返回到原始视图的 segues。

2）使横向视图的segues成为模态的，这样当你segue到它们时你不会显示标签栏，如果你使用push它将嵌入标签栏控制器中。

3）由于景观视图将是一个模态视图，只需在景观视图控制器的旋转代码中调用此方法：

`[[self presentingViewController] dismissModalViewControllerAnimated:YES];`

这会将视图推离堆栈并返回到它来自的视图。******

# ios - 带有 UITextField 的 UITableView，滚动错误

> ID：12193089
> 
> 赞同：0
> 
> 时间：2012-08-30T08:45:30.757
> 
> 标签：ios, cocoa-touch, uitableview

我有一个在 Storyboard 中创建的动态 UITableView。这个 tableview 有许多包含 UITextField 的单元格。当我单击编辑按钮时，我想启用文本字段并使文本字段位于 tableview 第一响应者的第一行。同时在编辑模式下必须出现更多字段。

我可以显示更多字段，并且可以显示键盘以开始编辑第一行。无论如何，当我添加的行很多时，就会出现一个问题：键盘出现但表格视图向下滚动一点，我看不到第一个表格视图单元格......这很烦人。

我尝试了很多解决方案，但没有人在工作。例如，我尝试在这里使用 scrollToRowAtIndexPath ：

```
- (void)textFieldDidBeginEditing:(UITextField *)textField {
    NSIndexPath *indexPath =[NSIndexPath indexPathForRow:0 inSection:0];
    [self.tableView scrollToRowAtIndexPath:indexPath atScrollPosition:UITableViewScrollPositionTop animated:YES];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:39:13.697

`UITableView`是一种`UIScrollView`。所以[这个解决方案](https://stackoverflow.com/questions/484855/how-programatically-move-a-uiscrollview-to-focus-in-a-control-above-keyboard)可能对你有用。请注意，如果您`UITableView`是按标准管理的`UITableViewController`，则内容将自动调整。

# rally - 强命名为 Rally.RestApi

> ID：12193095
> 
> 赞同：2
> 
> 时间：2012-08-30T08:45:58.587
> 
> 标签：rally

在我的 C# 项目中，所有程序集都使用强名称进行签名。但是，其中之一引用了 Rally.RestApi.dll，它本身没有使用强名称签名。这会导致编译错误“错误 41 程序集生成失败 - 引用的程序集 'Rally.RestApi' 没有强名称”。

问题是：如何签署 Rally Rest API 以使其具有强名称？我花了很多时间才找到签署 Rally.RestApi.dll 的方法，但没有运气。

任何帮助将不胜感激。

谢谢。

编辑：在这里找到了解决方案：[https ://stackoverflow.com/a/12202623/17815](https://stackoverflow.com/a/12202623/17815)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T14:24:00.427

根据 .NET Framework 的设计，这是不允许的。我将提交跟踪此问题的缺陷，因为无论如何这样做都是一种好习惯。

# extjs - Extjs 4 禁用 PagingToolbar 的工具提示

> ID：12193098
> 
> 赞同：2
> 
> 时间：2012-08-30T08:46:10.750
> 
> 标签：extjs, extjs4, extjs-mvc

我有 PagingToolbar 作为我的网格的 bbar。当工具提示出现时，它呈现在我的可见屏幕下方，这就是垂直滚动出现的原因，但是当它出现时，垂直滚动会占据视口的某个位置，因此自动水平滚动也会显示溢出工具提示。所以基本上我有2个问题。

1.  垂直滚动显示整个视口，但带有 bbar 的网格仅在南部区域，并且网格本身已经垂直滚动。是否有某种配置来控制这种行为？

2.  如何禁用 PagingToolbar 的工具提示我有以下代码不起作用（网格定义，删除无关）。

```
初始化组件：函数（）{

        变我=这个；

        this.store = '开发计划';

var paging = Ext.create('Ext.PagingToolbar', {
            商店：this.store，
            显示信息：真，
            displayMsg: 'Wyświetlono wnioski {0} - {1} z {2}',
            emptyMsg: "Brak wniosków do wyświetlenia"
        });

        Ext.each(paging.items.items, function(btn) {
            if (btn.getXType() == 'button' && btn.tooltip != undefined) {
                Ext.QuickTips.unregister(btn.getId());
            }
        });

        this.bbar = 分页；

this.callParent(参数);

```

我认为上面的代码可能不起作用，因为尚未注册工具提示，或者因为尚未呈现分页工具栏，所以我尝试了：

```
渲染后：函数（）{

        this.callParent();

        var items = this.bbar.items.items;
        ext.each（项目，功能（btn）{
            if (btn.getXType() == 'button' && btn.tooltip != undefined) {
                控制台.log(btn.getId());
                Ext.QuickTips.unregister(btn.getId());
            }
        });
    }

```

但在这段代码中，我得到 this.bbar 是未定义的。为什么？那么bbar什么时候渲染呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-02T05:23:56.593

由于 ExtJS4，bbar 只是一种将工具栏/项目应用为底部停靠并在初始化后取消设置的简短方法，请参阅

```
if (me.bbar) {
    docked.push(initToolbar(me.bbar, 'bottom'));
    me.bbar = null;
} 
```

我想你可以这样做（我希望这是一个事件，所以评论是）：

```
afterrender: function(grid) { 
    // 'this' should not be accessible within a eventcallback! If it is you are within the class definition and should use this.on('beforerender', ...) after the callParent() instead!!
    // callParent() should be called within the init of the class, not somewhere else!
    // this.callParent(); 

    var pagebar = grid.down('pagingtoolbar'),
        items = pagebar ? pagebar.items.items : [],
        len = items.length,
        i = 0;
    // don't use each if it is not really necessary!
    for(;i < len; i++) {
        var item = items[i];
        if (item.getXType() === 'button' && item.tooltip != undefined) {
            console.log(item.getId());
            Ext.QuickTips.unregister(item.getId());
        }
    });
} 
```

**编辑：**

根据您的最后一条评论：您不应该覆盖 Grid 的 afterRender 方法，而是将自己注册到 aftererender 事件，并在调用父级之后的 initComponent() 中执行此操作，如代码示例的评论中所写

**编辑2：**

每个按钮上都有一个私有方法可以清除工具提示。正如您可能知道的那样，私有方法仍然可以像其他任何方法一样被调用，但可以在即将发布的框架版本中完全更改/删除。它们中的大多数也无法在 API 中找到。您正在寻找的方法是`clearTip()`

在要从中删除工具提示的每个按钮实例上调用它。那应该行得通。

我完全监督了您的第一个问题：您应该考虑通过使用从视口中删除滚动行为，`autoScroll: false`或者通过使用从网格中禁用它`viewConfig: { autoScroll: false, scroll: false }`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-14T08:38:36.467

你可以这样做

```
{
dock : 'bottom',
xtype : 'pagingtoolbar',
store : store,
pageSize : 25,
displayInfo : true,
firstText:null,
prevText:null,
nextText:null,
lastText:null,
refreshText:null,
.... 
```

# html - 除了第一个元素之外，如何使用第 n 个子元素来定位所有元素？

> ID：12193104
> 
> 赞同：6
> 
> 时间：2012-08-30T08:46:21.550
> 
> 标签：html, css, css-selectors

如何使用`:nth-child`运算符定位给定 DIV 中除第一个段落之外的所有段落？

```
:nth-child(/* select all but the first one */) {
     color: green;
}
```

```
<div>
    <p>Example 1</p>
    <p>Example 2</p>
    <p>Example 3</p>
    <p>Example 4</p>
    <p>Example 5</p>
    <p>Example 6</p>
    <p>Example 7</p>
</div>
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-30T08:48:02.183

您可以使用以下公式：

```
:nth-child(n+1) 
```

或对于某些浏览器：

```
:nth-child(n+2) 
```

W3Schools 说：

> 使用公式 (an + b)。说明：a代表一个周期大小，n是一个计数器（从0开始），b是一个偏移值。
> 
> [关联](http://www.w3schools.com/cssref/sel_nth-child.asp)

或者您可以为第一个元素使用单独`:first-child`的 CSS 声明。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-30T08:49:24.597

采用

```
p:nth-child(n+2) {
    color: green;   
} 
```

[**工作演示**](http://jsfiddle.net/R9rxu/1)

[`Reference`](http://css-tricks.com/how-nth-child-works/)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-30T08:50:12.127

尝试

```
div > p:nth-child(n+2) 
```

演示在[http://jsfiddle.net/Q6FDq/](http://jsfiddle.net/Q6FDq/)

# php - Symfony、Doctrine 和“代理类总是在重新生成”

> ID：12193107
> 
> 赞同：18
> 
> 时间：2012-08-30T08:46:41.650
> 
> 标签：php, performance, symfony, doctrine

我刚刚了解到

```
php app/console doctrine:ensure-production-settings 
```

命令，当我执行它时，控制台会回复：**"Proxy Classes are always regenerating"**。

我无法在网上找到有关此警告的太多信息，而且我一生都无法弄清楚此消息的含义。

有谁知道这个警告的解决方案？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-08-30T10:06:01.700

它是由选项引起的`app/config/config.yml`

看起来像：

```
doctrine:    
    orm:
        auto_generate_proxy_classes: %kernel.debug% 
```

默认情况下，所有命令都启用了调试模式，因此`auto_generate_proxy_classes`设置为`true`. 要在命令中禁用 kernel.debug，您应该使用`--no-debug`选项。

所以最后命令应该是这样的：

```
php app/console doctrine:ensure-production-settings --no-debug --env=prod 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T10:06:59.917

您确定您正确使用 Google 吗？:)

看看[这里](http://forum.symfony-project.org/viewtopic.php?f=23&t=38243)。似乎是由于调试模式。尝试：

```
app/console doctrine:ensure-production-settings --no-debug 
```

# android - 想要使用 UDP 一对多发送数据

> ID：12193108
> 
> 赞同：0
> 
> 时间：2012-08-30T08:46:50.520
> 
> 标签：android, udp, file-transfer

我想使用 UDP 将数据从一台设备发送到多台设备，而不使用目标设备的 IP 地址。[http://www.helloandroid.com/tutorials/simple-udp-communication-example](http://www.helloandroid.com/tutorials/simple-udp-communication-example) 我引用了这个链接，但他们使用了 IP 地址，我不想使用任何 IP 地址。任何想法怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T08:51:35.830

如果您不能使用任何 IP 地址，最好使用[GCM](http://developer.android.com/guide/google/gcm/index.html)推送通知。

当您需要广播某些内容时，只需向 GCM Server 发送一条消息，GCM Server 将通知已订阅此类消息的客户端。

# colors - GIF：两个不同的显示器看起来 gif 很不一样

> ID：12193113
> 
> 赞同：-1
> 
> 时间：2012-08-30T08:47:14.140
> 
> 标签：colors, profile, gif, srgb

我有 2 台装有 windows 7 的电脑我有两台显示器，相同品牌，相同型号 2 台电脑使用相同的浏览器：ie8

使用第一台电脑，我看到一个网页，我们制作的所有颜色都可以

在第二台电脑中，一些 gif 看起来不同

这个 gif 有内置的 sRGB 和 GIMP 说我有索引，所以我认为这是不可能的，他们在不同的电脑上看起来不同......

我打开 Photoshop，分配 sRGB，保存，图像是相同的（SVN 告诉我没有区别）

可能是什么问题？

我不是图形专家，我是 php 程序员，但客户端有这个问题......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:02:32.863

看来你有屏幕校准问题。参见例如[http://www.lagom.nl/lcd-test/](http://www.lagom.nl/lcd-test/)

# ios4 - 如何将 .asp Web 应用程序应用到 phonegap

> ID：12193114
> 
> 赞同：1
> 
> 时间：2012-08-30T08:47:15.557
> 
> 标签：ios4, cordova, phonegap-plugins

我有使用 .aspx 的 Web 应用程序，现在我想为 iPad 开发相同的应用程序，所以我可以使用 PhoneGap API 进行开发。如果可能的话，任何朋友都可以为我提供文档或分步过程如何做到这一点。如果有人有相同的示例演示，请帮助我。

我的网络应用程序就像新闻门户（例如 ipad 版本的印度时报），所以我想为 ipad 制作它。

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:03:38.003

asp 是服务器端脚本语言，它与 phonegap 或 ipad 应用程序没有太大关系。

要使用 phonegap 开发 ipad 应用程序，您需要使用 html、css 和 javascript 等客户端技术编写应用程序。以同样的方式编写网站。然后您可以使用 phonegap 来包装您的网络应用程序。这将使您能够在各种应用商店中分发它。

您可以使用 asp 为您的应用程序提供数据。

去[这里](http://www.adobe.com/devnet/dreamweaver/articles/phonegap-mobile-app-pt1.html)了解更多关于phonegap的信息

# java - Java：内部类的大小

> ID：12193116
> 
> 赞同：14
> 
> 时间：2012-08-30T08:47:24.807
> 
> 标签：java, inner-classes

我有这门课：

```
public class Stack {

   private class Node {
       String item;
       Node next;
   }
   // some other methods here

} 
```

在我的书中，作者说每个堆栈节点的大小是 40 字节，包括：

```
16 bytes (object overhead)
8 bytes (inner class extra overhead)
8 bytes (references to string)
8 bytes (references to node)
----------------------------------------------
40 bytes per stack node 
```

我知道最后两件事是指对字符串和节点的引用的大小。但我不知道`object overhead`and`inner class extra overhead`对应什么。你能解释一下吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T08:54:29.613

> 对象开销

每个对象都有一个通常为 8-12 字节长的标头。每个对象也是 8 字节对齐的，一个简单的估计是你说它大约 16 字节长。

> 内部类额外开销

由于您的内部类不是静态的，因此它具有对外部类的引用。

如果这是一个匿名内部类，您可能拥有任意数量的最终变量的副本（在匿名类代码中使用的任何变量）

> 8 个字节（内部类额外开销） 8 个字节（对字符串的引用） 8 个字节（对节点的引用）

大多数 JVM 使用 32 位引用，因此大小为 4 个字节。即使是堆高达 32 GB 的 64 位 JVM 也可以使用 32 位引用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T08:54:36.410

首先：您引用的所有具体数字都*非常*依赖于实现，并且根据您使用的 JVM 可能会有很大差异。

然而，大多数 JVM 将具有相似的值（例如，大多数 JVM 使用对象标头）。

对象标头包含 JVM 跟踪对象所需的“簿记”信息。例如，它通常会包含指示对象确切类型的内容。

您所说的“内部类额外开销”可能是指非静态内部类的每个实例都“绑定”到外部类的实例这一事实。您可以将其视为如下所示的隐式字段：`private final Stack Stack_this`. 实际上，您可以通过引用`Stack.this`内部代码来实际使用该值`Node`。该隐式字段将占用与普通引用变量相同的内存量（通常为 4 或 8 个字节，具体取决于您的体系结构/JVM）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T08:52:26.367

在这里你可以找到答案： [Java中一个对象的内存开销是多少？](https://stackoverflow.com/questions/726404/what-is-the-memory-overhead-of-an-object-in-java)

这里有一个更详细的答案：

Java 中的对象内存使用： [http ://www.javamex.com/tutorials/memory/object_memory_usage.shtml](http://www.javamex.com/tutorials/memory/object_memory_usage.shtml)

> Java 堆上的对象实例不只是为它们的实际字段占用内存。不可避免地，它们还需要一些“管理”信息，例如记录对象的类、ID 和状态标志，例如对象当前是否可访问、当前是否已同步锁定等。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-30T08:53:53.150

内部类对外部类有一个隐式引用，就好像它有一个`Stack outer`在构造函数中初始化的对象。该引用消耗了额外的 8 个字节，它允许您`Stack.this`在内部类中使用它。这是一个示例片段：

```
public class Stack {
    String item;   // intentionally named the same as the one in the inner class

    private class Node {
        String item; // hides the field in the outer class!
        Node next;

        void doSomething() {
            this.item = null;
            Stack.this.item = null; // << note the reference to the outer instance
        }
    }
} 
```

请注意，`static`内部类不会产生这种开销，因为它没有指向外部对象的指针。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-12-08T16:42:41.337

内部类的实例将按照正常规则进行垃圾收集（即当它们不再被引用时）。但是，内部类的每个实例都包含对其外部类的父实例的隐藏引用。这意味着如果有任何对内部类实例的实时引用，它们将阻止外部类的关联实例被垃圾收集。但它只在那个方向起作用，而不是相反。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-30T08:53:55.790

> 任何特定对象的确切大小都没有在任何 Java 平台规范中具体定义
> 
> 与对象相关的开销量未定义，但通常为 8 个字节。

[请参阅此处了解更多信息](http://webcache.googleusercontent.com/search?q=cache%3aw4YVSc9t1cYJ:192.9.162.55/docs/books/performance/1st_edition/html/JPRAMFootprint.fm.html#11055)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-08-30T08:53:59.910

首先，您的对象引用值假定 64 位 JVM，在 32 位 JVM 上，引用使用 4 个字节。

对象开销是对象的标头，其中包含有关对象的信息，由 JVM 使用，通常为 16 个字节。

内部类的开销是由于内部类持有对包含对象（Stack 实例）的引用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-19T03:18:31.800

我仍然不明白“每个堆栈节点 40 个字节”是什么意思。你知道当我创建一个新的 Node 实例时，我并没有创建一个新的 Stack 实例。创建新节点实例时如何考虑 16 字节（对象开销）？我也在关注算法，我在这里很困惑。

# ios - 如何在iphone中使用不同的数组重新加载scrollView

> ID：12193117
> 
> 赞同：0
> 
> 时间：2012-08-30T08:47:26.017
> 
> 标签：ios, uiscrollview, nsmutablearray, uipagecontrol

我已经拍摄了 2 个图像阵列，例如

> A=["l.jpg","m.jpg","n.jpg","p.jpg","q.jpg","r.jpg"]

和

> B=["a.jpg","b.jpg","c.jpg"]。

然后显示图像已添加带有 pagecontrol 的滚动视图（page-control 中的页面数将为）

> [数组计数]

而且滚动视图的内容大小也取决于`[array count]`ie

> scroll.width * array.count

在这里，如果有 4 个页面，那么 3 个页面将被加载到内存中，并且在滚动之前的图像将被卸载。

1) 最初显示 A 阵列图像。2）然后单击按钮，我将 scrollview.contentSize ， pagecontrol.numberof 页面替换为 B 数组长度，并卸载先前由 A 数组加载的图像。
3）要显示B数组，滚动视图内容大小需要很小并且页面数为4。所以，我再次重置我的滚动视图

> scrollView.contentSize = CGSizeMake(scrollView.frame.size.width * [数组计数], scrollView.frame.size.height);

然后我滚动到 B 数组中的最后一个图像，在最后一个图像之后，当我尝试滚动到下一个图像时，它显示为 A 数组图像的“q.jpg”图像，该图像未正确卸载。

那么，当从不同的图像数组重新加载时，如何从滚动视图中卸载所有图像。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:16:26.007

这本质上就是 UITableViewController 的用途。您可以动态控制单元格的数量和顺序（在您的情况下，自定义单元格中的图像），并且当基础数据发生更改时，只需在表格视图上调用 reloadData 即可。

它还为您嵌入了 UIScrollView，因此您不必费力。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:09:45.173

没测试过，也许你可以使用for循环将所有子视图的图像属性设置为nil？

```
for(int i = 0; i < previousImageArray.count; i++)
{
   UIImageView *imageView = [[myScrollView subviews] objectAtIndex:i];

   imageView.image = nil;
} 
```

如果这不起作用，您总是可以硬删除子视图：

```
// get all subviews inside your scrollview into an array
NSArray *subviews = [myScrollView subviews];

// loop through array, for each image view subview in your scrollview
// remove it from the superview (superview is your scroll view in this case)
for(int i = 0; i < subviews.count; i++)
{
    UIImageView *imageView = (UIImageView *)[subviews objectAtIndex:i];

    [imageView removeFromSuperview];
} 
```

这将从您的滚动视图中删除所有子视图。当您读取新的图像数组时，您将需要再次重新添加所有图像视图。

# php - Google MotionChart 中的空值

> ID：12193118
> 
> 赞同：1
> 
> 时间：2012-08-30T08:47:30.130
> 
> 标签：php, google-visualization

我需要分析来自供应商和数据库的交付预测，我得到以下数据数组：

```
Array
(
    [0] => Array
        (
            [delivery_date] => 2012-05-10
            [imported] => 2012-05-10 11:20:37
            [qty] => 114
        )

    [1] => Array
        (
            [delivery_date] => 2012-05-10
            [imported] => 2012-05-11 11:20:37
            [qty] => 228
        )

    [2] => Array
        (
            [delivery_date] => 2012-05-10
            [imported] => 2012-05-15 11:20:37
            [qty] => 380
        )

    [3] => Array
        (
            [delivery_date] => 2012-05-10
            [imported] => 2012-05-16 11:20:37
            [qty] => 380
        )

    [4] => Array
        (
            [delivery_date] => 2012-05-10
            [imported] => 2012-05-17 11:20:37
            [qty] => 380
        )
) 
```

我的问题是客户每天都没有给出完全相同的预测——这很正常，但是当客户在 2012 年 5 月 10 日没有预测他们需要 x 件产品时，我需要绘制出“缺失”的日期。

我对可能解决方案的想法是：

1.  以某种方式与数据数组混合以填充缺少“导入”日期的空值
2.  以某种方式将 Google 动态图配置为显示缺失值，而不是从点到点绘制线。

但是到目前为止，我本人还没有成功地使用这些选项中的任何一个:(

代码摘录：google.load('visualization', '1', {packages: ['motionchart']});

```
function drawVisualization() {
    var data = new google.visualization.DataTable();

    data.addRows(<?PHP echo count($data); ?>);
    data.addColumn('string', 'Artikkel@kuupäev');
    data.addColumn('date', 'Imporditud');
    data.addColumn('number', 'Qty, pcs');

    <?PHP
    $jrk=0;

    foreach ($data as $row) {
        $date_import = date("Y, m, d",strtotime(substr($row[imported],0,10)." -1 month"));
    echo "data.setValue($jrk, 0, '".$row[delivery_date]."');\n";
        echo "data.setValue($jrk, 1, new Date (".$date_import."));\n";
        echo "data.setValue($jrk, 2, ".$row[qty].");\n";
    $jrk++;         
    } 
    ?> 

    var options = {};
    options['state'] =
'{"yAxisOption":"2","time":"2012-03-12","sizeOption":"_UNISIZE","xAxisOption":"_TIME","yZoomedIn":false,"xZoomedDataMax":1331510400000,"yLambda":1,"xZoomedIn":false,"yZoomedDataMin":0,"nonSelectedAlpha":0,"uniColorForNonSelected":false,"orderedByY":false,"dimensions":{"iconDimensions":["dim0"]},"duration":{"timeUnit":"D","multiplier":1},"orderedByX":false,"xLambda":1,"colorOption":"_UNICOLOR","yZoomedDataMax":300000,"showTrails":false,"iconType":"LINE","xZoomedDataMin":1304985600000,"iconKeySettings":[],"playDuration":15000};';

    options['width'] = 1200;
    options['height'] = 600;  

    var motionchart = new google.visualization.MotionChart(
       document.getElementById('visualization'));
       motionchart.draw(data, options);
    }
google.setOnLoadCallback(drawVisualization); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-15T09:52:31.563

这个“问题”现在已经被谷歌工程师解决了，所以没有必要再破解它了。如果缺少值，现在将制动线路。

[https://code.google.com/p/google-visualization-api-issues/issues/detail?id=25](https://code.google.com/p/google-visualization-api-issues/issues/detail?id=25)

# sql - PostgreSQL：如何用另一个表随机条目的字段值更新表的一个字段

> ID：12193121
> 
> 赞同：0
> 
> 时间：2012-08-30T08:47:37.247
> 
> 标签：sql, postgresql

我有一个地址簿表和一个包含很多随机名称（random_names）的表。我想用我的 random_names 表的 last_name 字段更新我的地址簿表名字段 - 随机。

我试过。

```
UPDATE addressbook
SET "name"=sub.last_name
FROM (SELECT last_name, random() as rand
    FROM random_names 
    ORDER BY rand) sub
WHERE name <> sub.last_name; 
```

这基本上有效，但我并没有真正得到随机名称。当然，我得到了一个随机名称，但每个条目都使用相同的单个随机条目进行更新。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T08:52:40.113

您可以在分配后尝试子查询：

```
UPDATE  addressbook as ab
SET     "name" = 
        (
        SELECT  rn.last_name
        FROM    random_names rn
        WHERE   rn.last_name <> ab.last_name
        ORDER BY 
                random()
        LIMIT   1
        ) 
```

不确定 Postgres 是否会评估每一行的子查询，但可以尝试一下。

# java - 从捆绑包中删除服务

> ID：12193123
> 
> 赞同：0
> 
> 时间：2012-08-30T08:47:46.143
> 
> 标签：java, osgi, equinox

在 osgi 中，我有这样的设置：Bundle A 已注册 Service S。Bundle B 处理 Bundle A 并且应该从中移除 Service S。可以吗？还是在概念上是胡说八道？我没有找到任何删除服务的方法，因为我没有注册它（因此没有 serviceRegistration 对象）。

更复杂的是：服务 S 实际上源于 Bundle B。目标是在从 B 重新启动后删除 S 并添加一个新的 S 实例。所以我也可以实现一个 S.removeYourself() 方法......是这个可能的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:29:55.243

您必须使用 ServiceRegistration 对象来取消注册服务。因此，您需要一些方法让 Bundle B 在不再需要时通知 Bundle A 取消注册该服务。

# ruby-on-rails - 在 Ruby on Rails 中从范围生成格式化字符串数组

> ID：12193125
> 
> 赞同：0
> 
> 时间：2012-08-30T08:47:50.317
> 
> 标签：ruby-on-rails, ruby, arrays, date, time

我正在处理 Ruby on Rails 应用程序。

只是为了接受教育，我想知道是否可以生成格式化字符串数组；在这种特殊情况下 - 小时和分钟。

我想从 (9..12).to_a 之类的东西中获取以下数组： ["09:00", "10:00", "11:00", "12:00"] 和其他东西？最简单和最干净的方法是什么？

对不起，如果这个问题很愚蠢。

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:02:48.450

像这样使用[rjust](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-rjust)进行左填充。

```
(9..12).map{ |t| "#{t.to_s.rjust(2, '0')}:00" }
#=> ["09:00", "10:00", "11:00", "12:00"] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T09:08:10.113

```
(9..12).map{ |n| Time.new(0,1,1,n).strftime("%R") } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-30T09:15:29.963

```
(9..12).map{ |t| "%02d:00" % t } 
```

# html - 响应式图像替换

> ID：12193127
> 
> 赞同：2
> 
> 时间：2012-08-30T08:47:56.230
> 
> 标签：html, image, web, responsive-design

我正在通过 wordpress 构建一个响应式网站，并希望在 4 个屏幕尺寸上显示 3 个单独的图像，这些图像是横幅广告。

使用我正在使用的主题，我将代码添加到小部件以指定每个单独的 div 和图像。由于我对响应式设计方式不熟悉，我有一个问题，我不确定理想的解决方法。

css 指定了每个大小 @media 都可以正常工作，但是我将 display none 指定给我想要显示和不显示的 div 的方法不起作用，因为它被基本样式覆盖。

是否可以通过在图像 src 元素中放置代码来指定每个媒体尺寸显示的图像？IE

抱歉，如果这有点难以理解，但如果有人知道我在做什么，并且知道显示响应图像和替换图像的最佳方式，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T04:23:21.630

您可以为每个图像分配一个唯一的 id 或使用一个类名，并在您的媒体查询中使用`display:none;`

例子：

```
@media (max-width: 768px){
  img.myImage{
  display: none;
 }
} 
```

# html - CSS div 块继承了他父级的属性

> ID：12193131
> 
> 赞同：0
> 
> 时间：2012-08-30T08:48:06.133
> 
> 标签：html, css

我`div`在另一个里面有一个 HTML `div`：

```
<div class="content">
     <div class="block">
     blabla
     </div>
     <br/>
     <div class="block">
     blabla
     </div>
     <br/>
     <div class="block">
     blabla
     </div>
     <br/>
     <div class="block">
     blabla
     </div>
</div> 
```

我期待看到 4 个包含“blabla”的小块，但这些块占据了整个区域（与“内容”的宽度相同）

![期望与现实](../Images/07d9996757e82098708d36b08429cbd7.png)

如何禁用父子继承？

CSS：

```
.block {
  border-radius: 4px;
  border: 1px solid;
  background-color: #d9edf7;
  border-color: #bce8f1;
  color: #3a87ad;
}

.content {
    margin: 0 auto;
    text-align: left;
    width: 940px;
    background-color: White;
    padding: 20px;
    font-size: 12px;
    border-radius: 7px 7px 7px 7px;
    min-height: 180px;
    height: 80%;
} 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T11:18:49.560

Every block element like `<div>, <p>` having default 100% width. here is list of some block element [http://htmlhelp.com/reference/html40/block.html](http://htmlhelp.com/reference/html40/block.html)

如果您想要小于 100% 的宽度，那么您应该为该元素分配一些固定宽度

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T08:51:04.047

```
block{width: 50px;} 
```

给它固定宽度，因为默认情况下所有块元素都具有 100% 宽度，检查一下 Fabizio 的 ans 也是“Fabrizio Calderan's”的 ans 也是 R8 的灵活宽度，你可以使用他的 ans

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T08:51:12.500

尝试覆盖`width`您的 . `block`CSS规则

```
.block{

  border-radius: 4px;
  border: 1px solid;
  background-color: #d9edf7;
  border-color: #bce8f1;
  color: #3a87ad;
  width: 10%; /* or some precise value like 40px */
} 
```

覆盖意味着覆盖父级继承的属性。如果您在浏览器中使用 Firebug 之类的工具，您可以清楚地看到被覆盖的属性以及与它们关联的新值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T08:52:28.067

try to add these rules

```
.block {
  float: left; 
  clear: left;
  min-width: 100px; /* just to have some visual order */
}

.content {
  /* float clearing */
  height: auto; 
  overflow: hidden;
} 
```

setting a fixed width could be in fact not always easy (if your labels may vary in length size you can't previously define a width of 50 or 100px ) and using `inline-block` will put those label side-by-side aligned (assuming no `<br>` is used).

Be also aware you have a typo: you wrote `.bloc` instead of `.block`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-30T08:53:24.773

Check the spelling of .bloc it is .block JSFIDDLE [http://jsfiddle.net/Bsa3C/1/](http://jsfiddle.net/Bsa3C/1/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-30T09:05:06.027

Assuming the css you provided is for the code above, then you should give the inside div elements of content a fixed or flexible width like

```
.block{width: 50px;} 
```

or

```
.block{width:20%;} 
```

width is not inherited from the outside element, it is default to 100%

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-12-03T02:38:27.423

如果你不想设置宽度，你也可以试试这个：

```
.block { display:inline-block } 
```

# jquery - 使用 javascript/jquery 在黑莓上放大/缩小和滚动平移图像

> ID：12193132
> 
> 赞同：0
> 
> 时间：2012-08-30T08:48:10.550
> 
> 标签：jquery, image, plugins, blackberry, zooming

我正在网上编程以在黑莓中构建应用程序。现在我想让我在网络上的图像可以放大或缩小，并且用户可以像谷歌地图一样使用滚动条或平移​​条向上/向下/向左/向右滚动。

jquery/javascript中有插件可以做到这一点吗？我没有找到任何插件/库来做这样的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T03:50:41.323

据我所知，您可以使用 jQuery pan zoom 插件来缩放网络上的图像。试试这个网站[http://andrew.hedges.name/experiments/pan-zoom/](http://andrew.hedges.name/experiments/pan-zoom/)。

**更新**：您可以使用具有完整功能的 Smooth Zoom Pan 插件来缩放图像，但您必须购买此插件。请参阅演示：[http](http://codecanyon.net/item/smooth-zoom-pan-jquery-image-viewer/511142) ://codecanyon.net/item/smooth-zoom-pan-jquery-image-viewer/511142 。

# android - 调整 LinearLayout 子项的宽度

> ID：12193135
> 
> 赞同：0
> 
> 时间：2012-08-30T08:48:29.087
> 
> 标签：android

我有一个布局，我动态地向其中添加行。每行由一个 TextView 和一个 EditText 组成。现在 EditText 的文本是在运行时设置的，所以我希望它们都像 inout 表单一样整齐排列，其中文本字段在左侧，edittext 在右侧。

这是我的代码

```
for (int i = 0; i < itemsContainer.getChildCount(); i++) 
    {
        View v=itemsContainer.getChildAt(i);
        if(v instanceof ClickableButtonView)
        {
            TextView textView=((ClickableButtonView)v).getItem();
            if(textView.getWidth() > width)
            {
                width=textView.getWidth();
            }
        }

    }

    for (int i = 0; i < itemsContainer.getChildCount(); i++) 
    {
        View v=itemsContainer.getChildAt(i);
        if(v instanceof ClickableButtonView)
        {
            TextView textView=((ClickableButtonView)v).getItem();
            textView.setLayoutParams(new LayoutParams(width, LayoutParams.WRAP_CONTENT));
        }

    } 
```

现在发生的事情是我的布局，带有 textview 折叠，只有右侧的元素占用了整个空间。我想遍历LineraLyout，找到占用最多空间的edittext并将所有edittext设置为占用完全相同的空间。这可以做到吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:23:06.133

Call this method in a loop to set the style for your textviews with any weights required. Giving weight 1 to all will make it equal.

```
private void setStyle(TextView textView, float weight) {
    textView.setSingleLine(false);
    textView.setWidth(0);
    textView.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,
            LayoutParams.WRAP_CONTENT, weight));
    textView.setPadding(8, 0, 8, 0);
    textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);
} 
```

# c++ - std:move 的魔力是什么

> ID：12193143
> 
> 赞同：7
> 
> 时间：2012-08-30T08:49:04.530
> 
> 标签：c++, c++11, rvalue-reference

以下代码使 VC2010 失败：

```
//code1
std::string& test1(std::string&& x){
  return x;
}
std::string str("xxx");
test1(str);  //#1 You cannot bind an lvalue to an rvalue reference

//code2 
std::string&& test1(std::string&& x){
  return x;  //#2 You cannot bind an lvalue to an rvalue reference
} 
```

有一些文章可以解释#1，但我不明白为什么#2 也失败了。

让我们看看 std::move 是如何实现的

```
template<class _Ty> inline
    typename tr1::_Remove_reference<_Ty>::_Type&&
        move(_Ty&& _Arg)
    {   // forward _Arg as movable
    return ((typename tr1::_Remove_reference<_Ty>::_Type&&)_Arg);
    } 
```

1.  move 的参数仍然是一个右值引用，但是 move(str) 是可以的！
2.  move 也返回右值。

std:move 的魔力是什么？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-30T09:25:47.040

`std::move`的参数看起来像是一个右值引用，这看起来确实令人困惑 - 为什么你可以调用`move(str)`，什么时候`str`不是右值？

这里的技巧是右值引用在模板参数上的工作令人困惑：

如果模板参数`T`是`int`，那么`T&&`将是一个右值引用`int&&`。
但是如果`T`是左值引用`int&`，那么`T&&`也将是左值引用`int&`。

这是因为方式`&`和`&&`结合：

```
Type & &&   ==  Type &
Type && &   ==  Type &
Type & &    ==  Type &
Type && &&  ==  Type && 
```

所以当你调用`move(str)`, `T`is时`std::string&`，参数类型`move<std::string&>`也是`std::string&`- 一个左值引用，它允许函数调用编译。然后所`move`要做的就是将值转换为右值引用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T09:07:06.713

你可以认为`std::move`只是一个强制转换（但一个*表达式*强制转换，而不是一个类型强制转换）。该表达式`std::move(x)`是一个与 具有相同值的右值`x`，但即使它`x`本身是一个左值，它也可以工作。

在您的示例“code2”中，`x`确实是一个左值（类型为“对字符串的右值引用”）。此左值无法绑定到函数的返回类型（“对字符串的右值引用”），因此您需要将其显式转换为右值表达式。

我们也可以做相反的`move`，我通常称之为`stay`，它将右值变成左值（小心使用！）：

```
template <typename T> T & stay(T && t) { return t; } 
```

这主要适用于[反常的单行者](https://stackoverflow.com/a/8116843/596781)，或在酒吧给女孩留下深刻印象。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-30T10:03:40.003

这里的人已经回答了这个问题，但我觉得需要更明确地说。人们经常与右值引用混淆的原因在于规则：

**命名的*右值引用*是一个*左值*。**

起初令人困惑，这条规则是有道理的。右值引用的目标是绑定到您将不再需要的对象：无论是临时对象还是您知道永远不需要的对象，但编译器无法弄清楚。

命名的右值引用是您可以多次引用的东西：

```
std::unique_ptr<int> && rref = std::unique_ptr<int>{ new int{1} };
std::unique_ptr<int> p2{rref};  // if it worked...
rref->use();                    // this would crash 
```

在这里，我在第一行创建了一个临时对象，但由于绑定到右值引用，我使它几乎像一个自动对象一样工作：我可以多次访问它。为了让最后一行工作，第二行不能编译。

什么`std::move`是将命名的右值引用（左值）更改为未命名的右值引用（右值）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:50:41.347

> There are some articles to explain #1, but I don't understand why #2 also fails.

Remember, if it has a name, it's an **lvalue**. In your second case, x is still an **lvalue** even if it's an **rvalue reference**. `std::move` has the ability to turn **lvalues** into **rvalues** by doing nothing more than a `static_cast<Type&&>(yourVar)` on them. The resulting expression is an rvalue that can be accepted by any code requesting an **rvalue reference**. (a `Type &&`)

I'll illustrate with a few examples. In your original example, replace:

```
std::string str("xxx");
test1(str); 
```

with

```
test1(string("xxx")); 
```

There, the string object no longer has a name, it is now an **rvalue** and is accepted by test1.

How does move work? Again, quite simple. Again, replace your call with:

```
test1(std::move(str)); 
```

or with

```
test1(static_cast<std::string&&>(str)); 
```

Same thing basically, just that std::move better explains the intention.

**Takeaways**

*   if it has a name it's an **lvalue**

*   if it doesn't have a name, it's an rvalue and can be accepted wherever a `Type &&` (an **rvalue reference**) is asked for.

*   You can `static_cast` an **lvalue** to an **rvalue** (but use `std::move` instead, that's what it's for), but you need to know what you're doing when you're doing that. (that is, use it on types that have **move semantics** implemented, I won't go into any detail here, I'll just link to a great article on the [move semantics topic](http://www.cprogramming.com/c++11/rvalue-references-and-move-semantics-in-c++11.html))

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-30T14:08:40.337

移动语义的魔力在于利用可破坏性。

想象一个管理像std::string这样的动态分配缓冲区的生命周期的类：复制构造函数`string const&`无法知道参数之后是否真的需要，因此总是必须克隆这个缓冲区，这可能是一项昂贵的操作。

如果我们可以（通过重载 for 的复制构造函数`string&&`）知道参数是一次性的，我们就可以“窃取”缓冲区而不必复制（对于复杂的表达式一遍又一遍）。

如前所述，右值引用是左值（在上面的示例中，它允许我们完全访问以窃取缓冲区）。现在假设我们想在另一个类似的重载调用表达式中使用参数：没有`std::move`参数对我们来说似乎很宝贵，`string const&`重载被解决，同时`std::move`允许我们重复“移动技巧”（因为我们知道参数来自呼叫站点）。

# xcode - Mono 和 iOS 6 构建错误 MT0000

> ID：12193146
> 
> 赞同：2
> 
> 时间：2012-08-30T08:49:08.820
> 
> 标签：xcode, mono, xamarin.ios, monodevelop, ios6

我在 MonoTouch 和 iOS 6 上构建我的应用程序时遇到问题。

我的系统配置是：

*   Mac OSX 10.7.4（狮子）
*   单触 5.2.13
*   MonoDevelop 3.0.3.5
*   XCode 4.5 与 iOS 6 SDK beta 4。

要链接我在 MonoDevelop 首选项 SDK 位置上选择的新 iOS SDK（对我来说它在桌面上），我已经重新启动它。

现在，当我尝试构建我的应用程序时，MonoDevelop 给了我以下错误：

> 意外错误 - 请在 [http://bugzilla.xamarin.com](http://bugzilla.xamarin.com) (MT0000)填写错误报告

谁能帮助我了解问题所在？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:14:47.787

这些版本的 Xcode 和 iOS 都在 NDA 之下。您需要 MonoTouch 的最新**alpha** ( [5.99.x](http://docs.xamarin.com/ios/releases/MonoTouch_5/Monotouch_5.99) ) 版本才能试用它们。

**如果您使用alpha**通道**并**满足特定要求，MonoDevelop 将提供给您（安装 beta SDK 将解决该问题）。

如[发行说明](http://docs.xamarin.com/ios/releases/MonoTouch_5/Monotouch_5.99)中所述，您还需要更新版本的 MonoDevelop (3.0.4.x) 才能使一切正常运行。

# javascript - Javascript/jQuery 放置问题，以及一些快速问题

> ID：12193150
> 
> 赞同：0
> 
> 时间：2012-08-30T08:49:13.900
> 
> 标签：javascript, jquery

不知道为什么，但有些功能不能正常工作。我刚开始使用 JavaScript，所以我的调试技能欠缺。我只是从它的先前版本中添加了几行（以实现新功能），从那时起，它就没有像以前那样工作了。:/ 我使用了 jsBin 或其他任何名称，它告诉了我一些事情，但我不知道这是否是合法的建议。

它告诉我的一件事是我在范围之外使用 setID，我猜是因为我在 for 语句之外使用它？但它仍然具有相同的功能。如果这是一个问题，我该如何声明它以便我可以使用它？（尽管那部分工作正常。）

另一个是我应该使用 === 而不是 == 来比较 MetroID 和 0。说实话，不太确定有什么区别。

无论如何，我遇到的问题是在页面加载时不再调用函数 setSubDesc() 。那是在我添加该代码之前。我遇到的另一个问题是更改单选按钮“pay_type”并没有调用 Javascript 中的更改。如果我移动一些东西，某些部分会正常工作。但我真的不明白为什么事物的位置会有所不同。

非常感谢任何/所有帮助。：/

我添加的内容：

```
setFundSelect();

function setFundSelect() {
    var orgID = $("#org_fund_id").val();
    $("#f_span").hide();
    $("#f_div").hide();
    $('#fundraiser_id').removeClass('required');

    for (var i=0; i < orgs.length; i++) {
        if (orgs[i][1] == orgID) {
            var setID = i;
        }
    }

    if (orgs[setID][4] == '1') {
        $('#fundraiser_id').addClass('required');
        $("#f_span").show();
        $("#f_div").show();
        $("#fundraiser_id").children().remove(); 
        for (var i=0; i < fundraisers.length; i++) {
            if (fundraisers[i][0] == orgID) {
                if (fundraisers[i][4]) {
                    selectedHTML = 'selected=selected';
                } else {
                    selectedHTML = '';
                }
                $('#fundraiser_id').append('<option value="'+fundraisers[i][2]+'" '+selectedHTML+'>'+fundraisers[i][3]+'</ option>');
            }
        }
    }
} 
```

页面中 Javascript 的完整范围：

```
<script type="text/javascript">
var orgs = [];
var fundraisers = [];

function pageInit() {

    <?php do {  
        if ($row_rsOrg['ID'] == $_GET['fund_ID']) { 
            $selected = "true"; 
            $selectedMetroID = $row_rsOrg['metro_ID'];
        } else { 
            $selected = "false"; 
            } ?>
        orgs.push(['<?php echo $row_rsOrg['metro_ID'] ?>','<?php echo $row_rsOrg['ID'] ?>', '<?php echo addslashes($row_rsOrg['org_name']) ?>', <? echo $selected; ?>, '<?php echo $row_rsOrg['if_fund'] ?>']);
    <?php } while ($row_rsOrg = mysql_fetch_assoc($rsOrg)); ?>

    <?php do {  
        if ($row_rsFund['ID'] == $_GET['ref_ID']) { 
            $selected2 = "true"; 
            $selectedOrgID = $row_rsFund['org_fund_ID'];
        } else { 
            $selected2 = "false"; 
        } ?>
        fundraisers.push(['<?php echo $row_rsFund['org_fund_ID'] ?>', '<?php echo $row_rsFund['ref_ID'] ?>', '<?php echo $row_rsFund['ID'] ?>', '<?php echo addslashes($row_rsFund['firstname']) ?> <?php echo addslashes($row_rsFund['lastname']) ?>', <? echo $selected2; ?>]);
    <?php } while ($row_rsFund = mysql_fetch_assoc($rsFund)); ?>

    $('#metro_id').change(function() {
        setOrgSelect();
    });

    $('#org_fund_id').change(function() {
        setFundSelect();
    });

    $('#subscription_value').change(function() {
        setSubDesc();
    });

    $('#metro_id').append('<option value="0">Please Choose...</ option>');
    $('#metro_id').append('<option value="1" <? if ($selectedMetroID == 1) { echo "selected=selected"; }?>>St. Louis</ option>');
    $('#metro_id').append('<option value="2" <? if ($selectedMetroID == 2) { echo "selected=selected"; }?>>Charlotte</ option>');

    setOrgSelect();
    setFundSelect();
    setSubDesc();

    $("input[name='pay_type']").change(function(){
        $('#ppac').removeClass('required');
        $('#cc').removeClass('required');
        $('#cc_cvv2').removeClass('required');
        $('#name').removeClass('required');
        $('#street').removeClass('required');
        $('#zip').removeClass('required');

        if ($("input[name='pay_type']:checked").val() == 'cc') {
            $('#pay_type_cc_div').show();
            $('#pay_type_code_div').hide();

            $('#cc').addClass('required');
            $('#cc_cvv2').addClass('required');
            $('#name').addClass('required');
            $('#street').addClass('required');
            $('#zip').addClass('required');
        } else {
            $('#pay_type_code_div').show();
            $('#pay_type_cc_div').hide();

            $('#ppac').addClass('required');
        }
        $('.submit_divs').show();
    });
}

function setOrgSelect() {
    var metroID = $("#metro_id").val();

    $("#o_span").show();
    $("#org_fund_id").children().remove(); 
    for (var i=0; i < orgs.length; i++) {
        if (orgs[i][0] == metroID) {
            if (orgs[i][3]) {
                selectedHTML = 'selected=selected';
            } else {
                selectedHTML = '';
            }
            $('#org_fund_id').append('<option value="'+orgs[i][1]+'" '+selectedHTML+'>'+orgs[i][2]+'</ option>');
        }
    }
}

function setFundSelect() {
    var orgID = $("#org_fund_id").val();
    $("#f_span").hide();
    $("#f_div").hide();
    $('#fundraiser_id').removeClass('required');

    for (var i=0; i < orgs.length; i++) {
        if (orgs[i][1] == orgID) {
            var setID = i;
        }
    }

    if (orgs[setID][4] == '1') {
        $('#fundraiser_id').addClass('required');
        $("#f_span").show();
        $("#f_div").show();
        $("#fundraiser_id").children().remove(); 
        for (var i=0; i < fundraisers.length; i++) {
            if (fundraisers[i][0] == orgID) {
                if (fundraisers[i][4]) {
                    selectedHTML = 'selected=selected';
                } else {
                    selectedHTML = '';
                }
                $('#fundraiser_id').append('<option value="'+fundraisers[i][2]+'" '+selectedHTML+'>'+fundraisers[i][3]+'</ option>');
            }
        }
    }
}

function setSubDesc() {
    var subVal = $("#subscription_value").val();
    if (subVal == "10") {
        $("#monthly_sub").show();
        $("#yearly_sub").hide();
    } else {
        $("#monthly_sub").hide();
        $("#yearly_sub").show();
    }
}
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:05:04.560

关于 === 或 == 问题，我强烈建议阅读这篇文章[JavaScript 比较中应该使用哪个等号运算符 (== vs ===)？](https://stackoverflow.com/questions/359494/javascript-vs-does-it-matter-which-equal-operator-i-use)

# android - NPE 抛出，如果我尝试通过 Intent 访问 Fragment

> ID：12193155
> 
> 赞同：0
> 
> 时间：2012-08-30T08:49:26.290
> 
> 标签：android, android-intent

我遇到了 android 片段的问题。

如果我通过 Intent 调用了 Actitiy A 并且之前启动了 Actitiy，它就可以工作。在另一种情况下，如果我通过 Intent 调用了 Actitiy A 并且之前**没有**启动过 Actitiy，如果我尝试获取 Fragment 对象，将会抛出 NullPointerException。

我必须访问 Fragment，但如果 Activity 没有运行，我会得到 NPE。

活动中截取的代码：

```
public class HomeActivity extends BaseFragmentActivity {

@Override
protected void onNewIntent(Intent intent) {
        if (intent.hasExtra("tab")) {
            int tab = intent.getIntExtra("tab", 0);
            mTabsHelper.setTab(tab);
            if (intent.hasExtra("id")) {
                String tickerName = intent.getStringExtra("id");
                switchToExistTicker(tickerName);
            }
        }
    }

    private TickerListFragment getTickerListFragment() {
        TickerListFragment tickerListFragment = (TickerListFragment) getSupportFragmentManager()
                    .findFragmentByTag("android:switcher:2131099811:1");
        return tickerListFragment;
    }

    private void switchToNewTicker(String name) {
        getTickerListFragment().setNewTicketName(name);
    }

    private void switchToExistTicker(String name) {
        getTickerListFragment().switchToTicker(getTickerListFragment().getTickerIdForTickerName(name), true);
    }
} 
```

在另一个活动中，即通过通知发送 Intent 的响应，以下代码被剪断：

```
protected void sendnotification (String title, String message) {
    Intent i = new Intent("android.intent.action.MAIN");
    i.setComponent(new ComponentName("de.domain.android", "de.domain.android.HomeActivity"));
    i.putExtra("tab", 1);
    i.putExtra("id", "subject");
    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP
                | Intent.FLAG_ACTIVITY_NEW_TASK);

    PendingIntent contentIntent = PendingIntent.getActivity(this, 0, i, 0);

    Notification n = new Notification(R.drawable.ic_launcher, message, System.currentTimeMillis());
    n.flags = Notification.FLAG_AUTO_CANCEL;
    n.setLatestEventInfo(getApplicationContext(), title, message, contentIntent);

    NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
    manager.notify(0, n);
} 
```

发送通知后，用户触摸通知打开 Activity A。Activity A 收到带有某些附加功能的 Intent（有关更多详细信息，请参阅随附的代码片段）。如前所述，如果 Activity A 之前未启动，则 Activity 崩溃，因此它们必须重新启动。在这种情况下，找不到所需的 Fragment 并且“null”是返回值 - NullPointerException 是结果。同样如上所述，如果 Activity 之前启动，则 Activity 不会崩溃 - 然后它可以工作。

在异常库存之后：

```
 8805         AndroidRuntime  E  FATAL EXCEPTION: main
  8805         AndroidRuntime  E  java.lang.RuntimeException: Unable to start activity ComponentInfo{de.domain.android/de.domain.android.HomeActivity}: java.lang.NullPointerException
  8805         AndroidRuntime  E    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2202)
  8805         AndroidRuntime  E    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2237)
  8805         AndroidRuntime  E    at android.app.ActivityThread.access$600(ActivityThread.java:139)
  8805         AndroidRuntime  E    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1262)
  8805         AndroidRuntime  E    at android.os.Handler.dispatchMessage(Handler.java:99)
  8805         AndroidRuntime  E    at android.os.Looper.loop(Looper.java:154)
  8805         AndroidRuntime  E    at android.app.ActivityThread.main(ActivityThread.java:4974)
  8805         AndroidRuntime  E    at java.lang.reflect.Method.invokeNative(Native Method)
  8805         AndroidRuntime  E    at java.lang.reflect.Method.invoke(Method.java:511)
  8805         AndroidRuntime  E    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
  8805         AndroidRuntime  E    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
  8805         AndroidRuntime  E    at dalvik.system.NativeStart.main(Native Method)
  8805         AndroidRuntime  E  Caused by: java.lang.NullPointerException
  8805         AndroidRuntime  E    at de.domain.android.HomeActivity.switchToExistTicker(HomeActivity.java:144)
  8805         AndroidRuntime  E    at de.domain.android.HomeActivity.onNewIntent(HomeActivity.java:127)
  8805         AndroidRuntime  E    at de.domain.android.HomeActivity.onCreate(HomeActivity.java:94)
  8805         AndroidRuntime  E    at android.app.Activity.performCreate(Activity.java:4538)
  8805         AndroidRuntime  E    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1071)
  8805         AndroidRuntime  E    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2158)
  8805         AndroidRuntime  E    ... 11 more 
```

任何帮助和建议将不胜感激！

问候！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T08:53:52.927

正如堆栈跟踪所示，您的 NPE 使用 class na 行记录：

```
... at de.domain.android.HomeActivity.switchToExistTicker(HomeActivity.java:144) 
```

由于您没有提供该代码，因此您必须检查 HomeActivity.java 第 144 行以查看您是否不尝试访问在某些情况下可能为空的对象。无论如何，在那里放置一个断点并进行调试。没有相关来源我不能给出更详细的指示。

# hadoop - Pig 何时使用 Hadoop MapReduce 环境？

> ID：12193156
> 
> 赞同：2
> 
> 时间：2012-08-30T08:49:30.037
> 
> 标签：hadoop, mapreduce, apache-pig

我对 Hadoop Mapreduce 和 Pig 环境有疑问。在[这个线程](https://stackoverflow.com/questions/11133029/where-to-see-the-mapreduce-code-generated-from-hadoop-pig-statements/12192456#12192456)中，我发现 Pig 拉丁代码被 Pig 系统所干扰。

首先，我认为 Pig 使用 map 和 reduce 方法创建 .jar 文件，然后将该文件“发送”到 Hadoop Mapreduce 环境以运行 mapreduce 作业（这是 Pig 开发人员未来的工作）。

那么，Pig System 究竟何时使用 Hadoop Mapreduce？是在解释 Pig Latin 代码期间的某个地方吗？或者，如果我换一种说法问我的问题：作为 Hadoop Mapreduce 的输入发送的 Pig 的输出是什么？

非常感谢您的回答。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T10:55:42.183

MapReduce 的作用可以称为“执行引擎”。Pig 作为一个系统，正在将 Pig Latin 命令翻译成一个或多个 MR 作业。Pig 本身没有能力运行它们——它将这项工作委托给 Hadoop。
我会在编译器和操作系统之间建立类比。编译器在操作系统执行时创建程序。在这个类比中，Pig 是编译器，Hadoop 是操作系统。
Pig 做得更多——它运行作业、监控它们等等。所以除了作为编译器之外，它还可以被视为一个“shell”。
据我所知，从以下角度来看，Pig 并不是 100% 的编译器——它不会根据命令编译 MR 作业。它将有关应该做什么的信息传递给预先存在的工作（我是 99% 但不是 100% 确定）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T13:53:25.923

Pigs 的算子实现是使用 Hadoops 的 API。因此，根据配置，作业以本地模式或在 hadoop 集群上执行。Pig 没有将任何输出传递给 Hadoop……它为 map-reduce 作业设置输入类型和数据位置。

Pig Latin 提供了一组标准的数据处理操作，例如 join、filter、group by、order by、union 等，然后将其映射到 map-reduce 作业。Pig Latin 脚本描述了一个有向无环图 (DAG)，其中边是数据流，节点是处理数据的算子。

# actionscript-3 - 可以以更好的方式对 null 进行默认检查吗？

> ID：12193160
> 
> 赞同：1
> 
> 时间：2012-08-30T08:49:36.370
> 
> 标签：actionscript-3, actionscript, null-check

很多时候我发现自己需要写类似的东西：

```
_parsedBetData["prizeLevel"] = params["prizeLevel"] == null ? "default" : params["prizeLevel"]; 
```

我很好奇是否有更好的方法来做到这一点？我主要担心的是我必须编写*params["prizeLevel"]*两次。

当然，这可以提取为类似于以下的函数：

```
_parsedBetData["prizeLevel"] = defaultIfNull(params["prizeLevel"], "foo");

function defaultIfNull(o:*, default:*):* {
    return o == null ? default : o;
} 
```

但是，我必须从我想要进行此检查的任何地方访问此功能。因此，我想知道是否有一些聪明的方法可以解决这个问题。也许在某种位魔法的帮助下？或者原型/动态的东西在这里适用吗？

到目前为止，我想出的最佳解决方案是在代码 IDE 中创建一个宏，以使某些特定的键盘组合编写此代码。但我敢打赌，有人会有更好的主意。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:21:42.800

也许[逻辑或分配](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/operators.html#logical_OR_assignment)是您正在寻找的:)

你可以做

> 参数["prizeLevel"] ||= "默认";

如果您希望它位于其他变量中，请使用简单的[OR 运算符](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/operators.html#logical_OR)

> _parsedBetData["prizeLevel"] = 参数["prizeLevel"] || “默认”;

**- 编辑 -**

32bitkid 和 cleong 都是对的。您应该使用逻辑运算符，而不是按位运算符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:42:04.047

这可能是您正在寻找的语法：

```
_parsedBetData["prizeLevel"] = params["prizeLevel"] || "default"; 
```

要将 _parsedBetData["prizeLevel"] 设置为默认值（如果它为空），您可以执行

```
_parsedBetData["prizeLevel"] ||= "default"; 
```

这可能不完全符合您的要求，因为空字符串的计算结果也为 false。

# c# - 向泛型堆栈添加方法有问题吗？

> ID：12193162
> 
> 赞同：2
> 
> 时间：2012-08-30T08:49:44.530
> 
> 标签：c#, generics, stack, extension-methods

假设我们有一个这样的通用列表：

```
List<string> list = new List<string>() { "abc", "demo", "stackoverflow" }; 
```

当尝试像这样创建堆栈的新实例时，它不会工作。

```
Stack<string> stack = new Stack<string>() { "abc", "demo", "stackoverflow" }; 
```

编译器说 Stack<> 没有 add 方法。所以我使用扩展方法实现了一个添加方法：

```
public static void Add<T>(this Stack<T> stack, T item)
{
    stack.Push(item);
} 
```

但是，编译器仍然给出相同的错误。但为什么？编译器现在不应该找到方法吗？此外，通用堆栈不是实现 IEnumerable<> 和 ICollection<> 吗？为什么堆栈默认不包含 Add 方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T08:54:30.180

集合初始化器不使用扩展方法；因此，您不能将集合初始化程序与没有`Add`方法组的东西一起使用，例如`Stack<T>`. 您也许可以将其子类化，但***请不要***：

```
class MyStack<T> : Stack<T> // yeuch
{
    public void Add(T item)
    {
        Push(item);
    }
}
...
// please don't do this... think of the kittens...
Stack<string> stack = new MyStack<string>() { "abc", "demo", "stackoverflow" }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T08:53:54.573

> 但是，编译器仍然给出相同的错误。但为什么？

因为`Stack`还没有实现`Add`。解析速记符号时不考虑扩展方法。

> 此外，通用堆栈不是实现 IEnumerable<> 吗？

确实如此。

> 为什么堆栈默认不包含 Add 方法？

为什么要呢？`IEnumerable`不包含`Add`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T08:57:40.283

是 Stack 实现了 IEnumerable<T>、ICollection 和 IEnumerable，但这些接口都没有 Add 方法。从语义上讲，添加与推送不同；前者将项目添加到集合的末尾，而 push 将它们添加到“开始”，更合适地位于堆栈顶部。为堆栈创建 Add 方法会太混乱，我不推荐它。

# android - 导出的 APK 名称

> ID：12193165
> 
> 赞同：0
> 
> 时间：2012-08-30T08:49:50.537
> 
> 标签：android, apk

有谁知道如何解决这个问题？假设我有应用程序 MyApp 并将其导出到三个 APK 文件中

1.MyApp_1.apk,

2.MyApp_2.apk,

3.MyApp_3.apk。

可以说所有这些 apk 都略有不同（没关系）。有没有办法让设备**上安装了哪个 apk** *（这在运行时需要）*：MyApp_1.apk 或 MyApp_2.apk，或 MyApp_3.apk？

谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T08:55:09.247

AFAIK您无法获得差异，但您可以做的是更改Manifest中每个apk的版本号并使用获取版本号

```
 PackageInfo info =getPackageManager().getPackageInfo(getPackageName(), 0);
    info.versionName; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:59:47.117

您只能检查当前安装的版本。如果您通过 3 个不同的 apk 安装同一个应用程序，则无法检测 APK 文件名。

请参考nandeesh给出的答案

# c# - 查找 filename.extension 的正则表达式

> ID：12193166
> 
> 赞同：0
> 
> 时间：2012-08-30T08:49:53.997
> 
> 标签：c#, regex

我正在尝试创建一个正则表达式来在其中找到一个`filename.extension`：

```
Content-Disposition: form-data; name=\"image\"; filename=\"VID_20120826_181852.3gp\"\r\nContent-Type: video/mp4\r\nContent-Transfer 
```

我需要找到`VID_20120826_181852.3gp`，现在我有

用我的代码编辑：

```
// Look for filename                    
string cadenaBusca = @"(?<=filename=\\"")\[^\\]+";
re = new Regex(cadenaBusca);
Match filenameMatch = re.Match(content); 
```

但这不起作用，我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T08:59:11.500

你需要转义反斜杠，试试这个正则表达式：

```
(?<=filename\=\\")[^\\]+ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T16:03:04.087

使用此代码

```
string cadenaBusca = @"filename\=\"(?<fex>\w\W+)\"";
re = new Regex(cadenaBusca);
Match filenameMatch = re.Match(content);
string nameAndEx=filenameMatch.Groups["fex"]; 
```

# android - 如何在 Android 应用程序中添加语言选项（单选按钮）？

> ID：12193168
> 
> 赞同：0
> 
> 时间：2012-08-30T08:50:04.980
> 
> 标签：android, android-layout

> **可能重复：**
> [在 Android 中以编程方式更改语言](https://stackoverflow.com/questions/2900023/change-language-programatically-in-android)

我正在创建应用程序，它是一个表单类型的应用程序。在这里，用户需要输入提交时插入数据库的详细信息。

我们需要在应用程序中提供语言选项。这将是单选按钮选项，用户在选择选项布局时会使用新语言进行刷新。

我已将 res/value 用于不同的语言选项。

在 setOnCheckedChangeListener 上，我使用配置来使用不同的语言更新语言环境，但是

```
 setContentView(R.layout.leave); 
```

在更改单选按钮值 setContentView(R.layout.leave); 后仅调用一次 没有被调用。

请建议如何解决上述问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:04:19.543

检查[这篇](https://stackoverflow.com/questions/2900023/change-language-programatically-in-android)文章。你的答案就在那里。这篇文章将帮助您如何以编程方式处理语言更改。

代码 ：

```
android.content.res.Configuration conf = res.getConfiguration();
conf.locale = new Locale(language_code.toLowerCase());
res.updateConfiguration(conf, dm); 
```

当您调用此更新配置并且您没有覆盖配置更改时，它将再次调用 onCreate 和 setContentView。

# javascript - 如何在同一浏览器屏幕中创建多个窗口？

> ID：12193169
> 
> 赞同：0
> 
> 时间：2012-08-30T08:50:08.473
> 
> 标签：javascript, asp.net

我想知道，如何在 Facebook 中创建多个 Windows Like Chat 窗口，该窗口在浏览器中打开并且可以最小化、最大化或关闭并看起来像 Window Explorer？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T08:57:19.457

您所说的“多个窗口”实际上不是窗口，而只是大多数包含在 div 中的 html 页面元素，最小化、最大化和关闭按钮实际上是简单的图像或 css 样式，它们具有设置为在单击它们时运行的 javascript 函数，网络上有一些实现，比如[Gmail/Facebook 风格的 jquery 聊天](http://anantgarg.com/2009/05/13/gmail-facebook-style-jquery-chat/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:57:22.010

这个问题很模糊，但是如果您想在页面上实现迷你窗口类型的控件，这取决于您在其中显示的数据以及显示方式。

您可以使用 Div 标签在小屏幕中模仿/看起来相似的窗口，如果您的页面以可以处理 ajax 请求和显示内容的方式编写，您可以直接在 Div 中显示内容，或者如果您有单独的页面要显示内容，您可以将内容加载到位于 Div 内的 iframe 中。将您的控件放在这里

您可以通过 javascript 使用 Css 和内容定位 div

# c++ - 对单行 if 或循环使用大括号（即 {}）的目的是什么？

> ID：12193170
> 
> 赞同：336
> 
> 时间：2012-08-30T08:50:09.513
> 
> 标签：c++, c, coding-style, curly-braces, defensive-programming

我正在阅读我的 C++ 讲师的一些讲义，他写了以下内容：

> 1.  使用缩进 // OK
> 2.  永远不要依赖运算符优先级 - 始终使用括号 // OK
> 3.  始终使用 { } 块 - 即使是单行 //**也不行**，为什么 ???
> 4.  比较左侧的 const 对象 // OK
> 5.  对 >= 0 的变量使用无符号 // 好技巧
> 6.  删除后将指针设置为 NULL - 双重删除保护 // 不错

第三种技术对我来说不是很清楚：在 a 中放置一条线会得到`{ ... }`什么？

例如，拿这个奇怪的代码：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
{
    if (i % 2 == 0)
    {
        j++;
    }
} 
```

并将其替换为：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
    if (i % 2 == 0)
        j++; 
```

使用第一版有什么好处？

* * *

## 回答 #1

> 赞同：520
> 
> 时间：2012-08-30T08:51:43.637

让我们尝试`i`在增加时也进行修改`j`：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
    if (i % 2 == 0)
        j++;
        i++; 
```

不好了！来自 Python，这看起来不错，但实际上并非如此，因为它相当于：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
    if (i % 2 == 0)
        j++;
i++; 
```

当然，这是一个愚蠢的错误，但即使是有经验的程序员也会犯。

**[ta.speot.is 的回答](https://stackoverflow.com/a/12193223/673730)中指出了**另一个很好的理由**。**

 ****我能想到的第三**个是嵌套`if`的：

```
if (cond1)
   if (cond2) 
      doSomething(); 
```

现在，假设您现在想要`doSomethingElse()`什么时候`cond1`不满足（新功能）。所以：

```
if (cond1)
   if (cond2) 
      doSomething();
else
   doSomethingElse(); 
```

这显然是错误的，因为`else`关联与内部`if`.

* * *

编辑：由于这引起了一些关注，我将澄清我的观点。我正在回答的问题是：

> 使用第一版有什么好处？

我已经描述了。有一些好处。但是，IMO，“总是”规则并不总是适用。所以我不完全支持

> 始终使用 { } 块 - 即使是单行 // 不行，为什么 ???

我并不是说*总是*使用`{}`块。如果这是一个足够简单的条件和行为，请不要。如果您怀疑有人稍后可能会进来并更改您的代码以添加功能，请执行此操作。

* * *

## 回答 #2

> 赞同：332
> 
> 时间：2012-08-30T08:52:58.373

如果您不使用`{`和 ，很容易意外更改带有注释的控制流`}`。例如：

```
if (condition)
  do_something();
else
  do_something_else();

must_always_do_this(); 
```

如果你`do_something_else()`用单行注释注释掉，你最终会得到这个：

```
if (condition)
  do_something();
else
  //do_something_else();

must_always_do_this(); 
```

它可以编译，但`must_always_do_this()`并不总是被调用。

我们的代码库中有这个问题，有人在发布之前很快就禁用了某些功能。幸运的是，我们在代码审查中发现了它。

* * *

## 回答 #3

> 赞同：60
> 
> 时间：2012-08-30T09:50:36.043

I have my doubts as to the competence of the lecturer. Considering his points:

1.  OK
2.  Would anyone really write (or want to read) `(b*b) - ((4*a)*c)`? Some precedences are obvious (or should be), and the extra parentheses just add to confusion. (On the other hand, you _should_ use the parentheses in less obvious cases, even if you know that they're not needed.)
3.  Sort of. There are two wide spread conventions for formatting conditionals and loops:

    ```
    if ( cond ) {
        code;
    }

    ```

    and:

    ```
    if ( cond )
    {
        code;
    }

    ```

    In the first, I'd agree with him. The opening `{` is not that visible, so it's best to assume it's always there. In the second, however, I (and most of the people I've worked with) have no problem with omitting the braces for a single statement. (Provided, of course, that the indentation is systematic and that you use this style consistently. (And a lot of very good programmers, writing very readable code, omit the braces even when formatting the first way.)
4.  **NO**. Things like `if ( NULL == ptr )` are ugly enough to hinder readability. Write the comparisons intuitively. (Which in many cases results in the constant on the right.) His 4 is bad advice; anything which makes the code unnatural makes it less readable.
5.  **NO**. Anything but `int` is reserved for special cases. To experienced C and C++ programmers, the use of `unsigned` signals bit operators. C++ doesn't have a real cardinal type (or any other effective subrange type); `unsigned` doesn't work for numeric values, because of the promotion rules. Numerical values on which no arithmetic operations would make sense, like serial numbers, could presumably be `unsigned`. I'd argue against it, however, because it sends the wrong message: bitwise operations don't make sense either. The basic rule is that integral types are `int`, _unless_ there is a significant reason for using another type.
6.  **NO**. Doing this systematically is misleading, and doesn't actually protect against anything. In strict OO code, `delete this;` is often the most frequent case (and you can't set `this` to `NULL`), and otherwise, most `delete` are in destructors, so you can't access the pointer later anyway. And setting it to `NULL` doesn't do anything about any other pointers floating around. Setting the pointer systematically to `NULL` gives a false sense of security, and doesn't really buy you anything.

Look at the code in any of the typical references. Stroustrup violates every rule you've given except for the first, for example.

I'd suggest that you find another lecturer. One who actually knows what he's talking about.

* * *

## 回答 #4

> 赞同：48
> 
> 时间：2012-08-30T12:17:12.387

所有其他答案都捍卫了讲师的规则 3。

让我说我同意你的观点：**这条规则是多余的**，我不会建议它。确实，如果您总是添加大括号，它*理论上可以防止错误。*另一方面，**我在现实生活中从未遇到过这个问题**：与其他答案所暗示的相反，一旦有必要，我就没有忘记添加大括号。如果您使用适当的缩进，很明显您需要在多个语句缩进时添加大括号。

“组件 10”的答案实际上突出了唯一可能真正导致错误的情况。但另一方面，无论如何，通过正则表达式替换代码总是需要非常小心。

现在让我们看看奖牌的另一面：总是使用大括号有什么*缺点吗？*其他答案只是忽略了这一点。但是有*一个*缺点：它占用了大量的垂直屏幕空间，这反过来又会使您的代码不可读，因为这意味着您必须滚动超出必要的范围。

考虑一个开头有很多保护子句的函数（是的，以下是糟糕的 C++ 代码，但在其他语言中这将是很常见的情况）：

```
void some_method(obj* a, obj* b)
{
    if (a == nullptr)
    {
        throw null_ptr_error("a");
    }
    if (b == nullptr)
    {
        throw null_ptr_error("b");
    }
    if (a == b)
    {
        throw logic_error("Cannot do method on identical objects");
    }
    if (not a->precondition_met())
    {
        throw logic_error("Precondition for a not met");
    }

    a->do_something_with(b);
} 
```

这是可怕的代码，我强烈认为以下代码更具可读性：

```
void some_method(obj* a, obj* b)
{
    if (a == nullptr)
        throw null_ptr_error("a");
    if (b == nullptr)
        throw null_ptr_error("b");
    if (a == b)
        throw logic_error("Cannot do method on identical objects");
    if (not a->precondition_met())
        throw logic_error("Precondition for a not met");

    a->do_something_with(b);
} 
```

同样，短嵌套循环也受益于省略大括号：

```
matrix operator +(matrix const& a, matrix const& b) {
    matrix c(a.w(), a.h());

    for (auto i = 0; i < a.w(); ++i)
        for (auto j = 0; j < a.h(); ++j)
            c(i, j) = a(i, j) + b(i, j);

    return c;
} 
```

与之比较：

```
matrix operator +(matrix const& a, matrix const& b) {
    matrix c(a.w(), a.h());

    for (auto i = 0; i < a.w(); ++i)
    {
        for (auto j = 0; j < a.h(); ++j)
        {
            c(i, j) = a(i, j) + b(i, j);
        }
    }

    return c;
} 
```

第一个代码简洁；第二个代码臃肿。

是的，可以通过将左大括号放在前一行*来在一定程度上缓解这种情况。*所以：如果你坚持使用花括号，至少把左大括号放在前一行。

简而言之：不要编写占用屏幕空间的不必要的代码。

* * *

自从最初编写答案以来，我大多接受流行的代码样式并使用大括号，除非我可以将整个单个语句放在前一行。我仍然认为不使用冗余大括号通常更具可读性，而且我*仍然从未*遇到过由此引起的错误。

* * *

## 回答 #5

> 赞同：41
> 
> 时间：2012-08-30T10:27:51.403

我正在处理的代码库中散布着对大括号有病态厌恶的人的代码，对于后来出现的人来说，它确实可以对可维护性产生影响。

我遇到的最常见的问题示例是：

```
if ( really incredibly stupidly massively long statement that exceeds the width of the editor) do_foo;
    this_looks_like_a_then-statement_but_isn't; 
```

因此，当我出现并希望添加一个 then 语句时，如果我不小心，我很容易得到这个：

```
if ( really incredibly stupidly massively long statement that exceeds the width of the editor) do_foo;
{
    this_looks_like_a_then-statement_but_isn't;
    i_want_this_to_be_a_then-statement_but_it's_not;
} 
```

鉴于添加大括号大约需要 1 秒，并且至少可以为您节省几分钟的混乱调试时间，您为什么*不*使用减少歧义选项呢？对我来说似乎是虚假经济。

* * *

## 回答 #6

> 赞同：20
> 
> 时间：2012-08-30T12:19:46.467

我的2c：

> 使用缩进

明显地

> 永远不要依赖运算符优先级 - 始终使用括号

我不会使用“从不”和“总是”这样的词，但总的来说，我认为这条规则很有用。在某些语言（Lisp、Smalltalk）中，这不是问题。

> 始终使用 { } 块 - 即使是单行

我从来没有这样做过，也从来没有遇到过一个问题，但我可以看到它对学生有什么好处，尤其是。如果他们以前学过 Python。

> 比较左侧的 const 对象

尤达条件？不谢谢。它损害了可读性。编译代码时只需使用最大警告级别。

> 对 >= 0 的变量使用无符号

好的。有趣的是，我听说 Stroustrup 不同意。

> 删除后将指针设置为 NULL - 双重删除保护

不好的建议！永远不要有指向已删除或不存在的对象的指针。

* * *

## 回答 #7

> 赞同：19
> 
> 时间：2012-08-30T08:52:24.557

它更直观，更容易理解。它使意图明确。

`{`并且它确保当新用户可能在不知不觉中错过,`}`同时添加新的代码语句时代码不会中断。

* * *

## 回答 #8

> 赞同：14
> 
> 时间：2012-08-30T10:30:41.183

为了补充上面非常明智的建议，我在重构一些代码时遇到的一个例子如下：我正在更改一个非常大的代码库以从一个 API 切换到另一个 API。第一个 API 调用设置公司 ID，如下所示：

```
setCompIds( const std::string& compId, const std::string& compSubId ); 
```

而替换需要两次调用：

```
setCompId( const std::string& compId );
setCompSubId( const std::string& compSubId ); 
```

我开始使用非常成功的正则表达式来改变它。我们还通过[astyle](http://astyle.sourceforge.net/)传递代码，这确实使其更具可读性。然后，在审查过程的中途，我发现在某些有条件的情况下，它正在改变这一点：

```
if ( condition )
   setCompIds( compId, compSubId ); 
```

对此：

```
if ( condition )
   setCompId( compId );
setCompSubId( compSubId ); 
```

这显然不是所需要的。我不得不从头开始再次执行此操作，将替换完全视为一个块内，然后手动更改任何最终看起来很傻的东西（至少它不会不正确。）

**我注意到[astyle](http://astyle.sourceforge.net/astyle.html#_add-brackets)现在有一个选项`--add-brackets`，允许您在没有括号的地方添加括号，如果您发现自己处于与我相同的位置，我强烈建议您这样做。**

* * *

## 回答 #9

> 赞同：8
> 
> 时间：2012-08-30T13:44:46.483

`{}`除了一些明显的情况外，我在任何地方都在使用。单行是其中一种情况：

```
if(condition) return; // OK

if(condition) // 
   return;    // and this is not a one-liner 
```

在返回之前添加一些方法可能会伤害你。缩进表示满足条件时返回正在执行，但它会一直返回。

C# 中使用语句的其他示例

```
using (D d = new D())  // OK
using (C c = new C(d))
{
    c.UseLimitedResource();
} 
```

这相当于

```
using (D d = new D())
{
    using (C c = new C(d))
    {
        c.UseLimitedResource();
    }
} 
```

* * *

## 回答 #10

> 赞同：8
> 
> 时间：2012-08-30T14:31:50.630

我能想到的最相关的例子：

```
if(someCondition)
   if(someOtherCondition)
      DoSomething();
else
   DoSomethingElse(); 
```

`if`将与哪个`else`配对？缩进意味着外部`if`获得了`else`，但这实际上并不是编译器会看到它的方式；内部会得到，而外部*不会* 。您必须知道这一点（或在调试模式下看到它的行为方式）才能通过检查找出为什么此代码可能没有达到您的期望。如果您了解 Python，它会变得更加混乱；在这种情况下，您知道缩进定义了代码块，因此您希望它根据缩进进行评估。然而，C# 并没有给出关于空白的快速翻转。`if``else``if`

现在，也就是说，我并不特别同意这个“总是使用括号”的规则。它使代码在垂直方向上非常嘈杂，从而降低了快速阅读代码的能力。如果声明是：

```
if(someCondition)
   DoSomething(); 
```

...那么它应该是这样写的。“总是使用括号”这句话听起来像“总是用括号括起来数学运算”。这会将非常简单的语句`a * b + c / d`变成`((a * b) + (c / d))`，引入丢失近括号的可能性（许多编码人员的祸根），为什么？操作顺序是众所周知的并且执行良好，因此括号是多余的。您只会使用括号来强制执行与通常应用不同的操作顺序：`a * (b+c) / d`例如。大括号类似；使用它们来定义在与默认值不同且不是“显而易见”（主观，但通常是常识）的情况下您想要做什么。

* * *

## 回答 #11

> 赞同：5
> 
> 时间：2014-05-25T18:58:37.563

因为当你有两个没有 的语句时`{}`，很容易错过一个问题。让我们假设代码看起来像这样。

```
int error = 0;
enum hash_type hash = SHA256;
struct hash_value *hash_result = hash_allocate();

if ((err = prepare_hash(hash, &hash_result))) != 0)
    goto fail;
if ((err = hash_update(&hash_result, &client_random)) != 0)
    goto fail;
if ((err = hash_update(&hash_result, &server_random)) != 0)
    goto fail;
if ((err = hash_update(&hash_result, &exchange_params)) != 0)
    goto fail;
    goto fail;
if ((err = hash_finish(hash)) != 0)
    goto fail;

error = do_important_stuff_with(hash);

fail:
hash_free(hash);
return error; 
```

看起来不错。它的问题很容易被忽略，尤其是当包含代码的函数更大时。问题是`goto fail`无条件运行。你可以很容易地想象这是多么令人沮丧（让你问为什么 last`hash_update`总是失败，毕竟一切看起来都很好`hash_update`）。

但是，这并不意味着我要`{}`到处添加（在我看来，`{}`到处都看到很烦人）。虽然它可能会导致问题，但它从来没有在我自己的项目中出现过，因为我的个人编码风格禁止条件`{}`不在同一行（是的，我同意我的编码风格是非常规的，但我喜欢它，而且我为其他项目做贡献时使用项目的代码风格）。这使得下面的代码很好。

```
if (something) goto fail; 
```

但不是下一个。

```
if (something)
    goto fail; 
```

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2012-08-30T09:30:56.810

wrt 6：它更安全，因为删除空指针是无操作的。因此，如果您碰巧两次意外地经过该路径，则不会导致内存损坏释放空闲或已分配给其他东西的内存。

这主要是静态文件范围对象和单例的问题，它们的生命周期不是很清楚，并且已知在它们被销毁后会重新创建。

在大多数情况下，您可以通过使用 auto_ptrs 来避免这种情况

* * *

## 回答 #13

> 赞同：4
> 
> 时间：2012-09-02T13:29:34.027

浏览答案，没有人明确说明我习惯的那种做法，讲述你的代码故事：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
{
    if (i % 2 == 0)
    {
        j++;
    }
} 
```

变成：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
{
    if (i % 2 == 0) j++;
} 
```

将 if放在`j++`同一*行*应该向其他任何人发出信号，*“我只希望这个块永远增加`j`”*。当然，这只有在行尽可能简单的情况下才值得，因为在此处设置断点，正如[peri](https://stackoverflow.com/questions/12193170/defensive-programming-whats-the-purpose-of-using-for-a-single-line#comment16454313_12236332)所提到的，不会很有用。

事实上，我刚刚运行了部分 Twitter Storm API，它在 java 中有这种“排序”代码，这是执行代码的相关片段，在[这个幻灯片的第 43 页](http://www.slideshare.net/nathanmarz/storm-distributed-and-faulttolerant-realtime-computation)：

```
...
Integer Count = counts.get(word);
if (Count=null) count=0;
count++
... 
```

for 循环块中有两件事，所以我不会内联该代码。即**从不**：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i) if (i % 2 == 0) j++; 
```

这太糟糕了，我什至不知道它是否有效（按预期）；**不要这样做**。新行和大括号有助于区分单独但相关的代码片段，就像散文中的逗号或分号一样。上面的块是一个非常长的句子，有几个从句和一些从不中断或暂停以区分不同部分的语句。

如果你真的想给别人发电报，那只能使用三元运算符或[`?:`](http://en.wikipedia.org/wiki/?:#C.2B.2B)表格：

```
for (int i = 0 ; i < 100 ; ++i) (i%2 ? 0 : >0) j++; 
```

但这接近代码高尔夫，我认为这不是很好的做法（我不清楚是否应该将 j++ 放在一侧`:`）。**注意**我之前没有在 C++ 中运行过三元运算符，我不知道这是否有效，*但它确实存在*。

### 简而言之：

想象一下您的读者（即维护代码的人）如何解释您的故事（代码）。尽可能让他们清楚。如果您知道新手编码员/学生正在维护这一点，甚至`{}`可能尽可能多地留下，以免他们感到困惑。

* * *

## 回答 #14

> 赞同：4
> 
> 时间：2012-08-30T08:54:23.747

它通过明确定义循环和条件块的范围使您的代码更具可读性。它还可以使您免于意外错误。

* * *

## 回答 #15

> 赞同：4
> 
> 时间：2012-08-30T13:05:05.123

我喜欢 Luchian 被接受的答案，事实上，我很难学到他是对的，所以我总是使用大括号，即使是单行块也是如此。但是，我个人在编写过滤器时会例外，就像您在示例中一样。这个：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
{
    if (i % 2 == 0)
    {
        j++;
    }
} 
```

在我看来杂乱无章。它将 for 循环和 if 语句分成单独的动作，而实际上您的意图是一个动作：计算所有可被 2 整除的整数。在更具表现力的语言中，可以这样写：

```
j = [1..100].filter(_%2 == 0).Count 
```

在缺少闭包的语言中，过滤器不能在单个语句中表示，而必须是一个 for 循环，后跟一个 if 语句。但是，这仍然是程序员头脑中的一个动作，我认为应该在代码中体现出来，像这样：

```
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
  if (i % 2 == 0)
{
    j++;
} 
```

* * *

## 回答 #16

> 赞同：4
> 
> 时间：2012-08-30T15:08:17.440

帮助防止上述错误的一种选择是在不使用大括号时内联您想要发生的事情。当您尝试修改代码时，很难不注意到错误。

```
if (condition) doSomething();
else doSomethingElse();

if (condition) doSomething();
    doSomething2(); // Looks pretty obviously wrong
else // doSomethingElse(); also looks pretty obviously wrong 
```

* * *

## 回答 #17

> 赞同：3
> 
> 时间：2012-09-05T07:24:55.320

添加花括号的另一个示例。一旦我在搜索错误并找到这样的代码：

```
void SomeSimpleEventHandler()
{
    SomeStatementAtTheBeginningNumber1;
    if (conditionX) SomeRegularStatement;
    SomeStatementAtTheBeginningNumber2;
    SomeStatementAtTheBeginningNumber3;
    if (!SomeConditionIsMet()) return;
    OtherwiseSomeAdditionalStatement1;
    OtherwiseSomeAdditionalStatement2;
    OtherwiseSomeAdditionalStatement3;
} 
```

如果您逐行阅读该方法，您会注意到该方法中有一个条件，如果它不为真则返回。但实际上它看起来像 100 个其他简单的事件处理程序，它们根据某些条件设置一些变量。有一天，Fast Coder 进来并在方法末尾添加了额外的变量设置语句：

```
{
    ...
    OtherwiseSomeAdditionalStatement3;
    SetAnotherVariableUnconditionnaly;
} 
```

结果 SetAnotherVariableUnconditionnaly 在 SomeConditionIsMet() 时执行，但快人没有注意到它，因为所有行的大小几乎相似，即使返回条件是垂直缩进的，它也不那么明显。

如果条件返回的格式如下：

```
if (!SomeConditionIsMet())
{
    return;
} 
```

它非常引人注目，Fast Coder 一眼就能找到它。

* * *

## 回答 #18

> 赞同：3
> 
> 时间：2012-08-30T08:55:13.347

如果您是编译器，则没有任何区别。两者都是一样的。

但是对于程序员来说，第一个更清晰，易于阅读且不易出错。

* * *

## 回答 #19

> 赞同：2
> 
> 时间：2012-09-28T21:06:41.100

我认为第一个清楚然后第二个。它给人一种关闭指令的感觉，当代码变得复杂时，用很少的代码就`{...}`可以了，即使它是`endif`或`begin...end`

```
//first
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
{
    if (i % 2 == 0)
    {
        j++;
    }
}

//second
int j = 0;
for (int i = 0 ; i < 100 ; ++i)
    if (i % 2 == 0)
        j++;
i++; 
```

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2012-08-30T21:05:36.850

It is best to set the pointer to NULL when you have finished with it.

Here is an example why:

Class A does the following:

1.  Allocates a block of memory
2.  Then some time later, it delete this block of memory but does not set the pointer to NULL

Class B does the following

1.  Allocates memory (and in this instance it happens to be given the same memory block that was deleted by class A.)

At this point both Class A and Class B have pointers pointing to the same memory block, as far as Class A is concerned this block of memory does not exists because it is finished with it.

Consider the following problem:

What if there was a logic error in Class A which resulted in it writing to memory that now belongs to Class B?

In this particular instance, you will not get an bad access exception error because the memory address is legal, all the while class A is now effectively corrupting class B data.

Class B may eventually crash if it encounters unexpected values and when it does crash, chances are, you will spend quite a long time hunting this bug in class B when the problem is in class A.

If you had set the deleted memory pointer to NULL, you would have gotten an exception error as soon as any logic errors in Class A tried to write to NULL pointer.

If you are worried about the logic error with double delete when pointers are NULL for the second time, then add assert for this.

Also: If you are going to down vote, please explain.

* * *

## 回答 #21

> 赞同：1
> 
> 时间：2013-07-30T12:04:04.260

总是有花括号是非常简单和强大的规则。但是，当有很多大括号时，代码可能看起来不优雅。如果规则允许省略花括号，那么应该有更详细的样式规则和更复杂的工具。否则很容易导致代码混乱和混乱（不优雅）。因此，将单一样式规则与其他样式指南和使用的工具分开可能是徒劳的。我将带来一些关于该规则#3 的重要细节，这些细节甚至在其他答案中都没有提到。

第一个有趣的细节是，该规则的大多数支持者都同意在`else`. 换句话说，他们不要求审查此类代码：

```
// pedantic rule #3
if ( command == Eat )
{
    eat();
}
else
{
    if ( command == Sleep )
    {
        sleep();
    }
    else
    {
        if ( command == Drink )
        {
            drink();
        }
        else
        {
            complain_about_unknown_command();
        }
    }
} 
```

相反，如果他们看到它，他们甚至可能会建议这样写：

```
// not fully conforming to rule #3
if ( command == Eat )
{
    eat();
}
else if ( command == Sleep )
{
    sleep();
}
else if ( command == Drink )
{
    drink();
}
else
{
   complain_about_unknown_command();
} 
```

`else`这在技术上违反了该规则，因为和之间没有大括号`if`。当尝试使用无意识的工具将其自动应用于代码库时，规则的这种二元性就会显现出来。的确，何必争论，只是让一个工具自动应用样式。

第二个细节（也经常被该规则的支持者忘记）是可能发生的错误绝不只是因为违反了该规则#3。实际上，这些几乎总是涉及违反规则＃1（没有人反对）。再次从自动化工具的角度来看，制作一个在违反规则 #1 时立即抱怨的工具并不难，因此可以及时发现大部分错误。

第三个细节（该规则的反对者经常忘记）是由单个分号表示的空语句的混乱性质。大多数有一定经验的开发人员迟早会被唯一放错位置的分号或使用唯一分号编写的空语句弄糊涂。两个花括号而不是单个分号在视觉上更容易发现。

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2013-07-30T08:09:22.267

我不得不承认，这并不总是`{}`用于单行，但这是一个很好的做法。

*   假设您编写了一个不带括号的代码，如下所示：

    for (int i = 0; i < 100; ++i) for (int j = 0; j < 100; ++j) DoSingleStuff();

过了一段时间，你想在`j`循环中添加一些其他的东西，你只是通过对齐来做到这一点而忘记添加括号。

*   内存释放速度更快。假设您有很大的范围并在内部创建大数组（没有`new`它们在堆栈中）。在您离开范围后，这些数组将从内存中删除。但是有可能你在一个地方使用了那个数组，它会在堆栈中一段时间​​，成为某种垃圾。由于堆栈的大小有限且非常小，因此可能超过堆栈大小。因此，在某些情况下，最好编写`{}`以防止这种情况发生。**注意**这不是针对单行，而是针对这种情况：

    if (...) { //SomeStuff... {//我们没有 if、while 等。 //SomeOtherStuff } //SomeMoreStuff }

*   第三种使用方法与第二种类似。它只是不是为了让堆栈更干净，而是为了*打开*一些功能。如果您`mutex`在长函数中使用，通常最好在访问数据之前和完成读/写之后锁定和解锁。**注意**，如果您有一些自己的`class`或`struct`使用`constructor`和`destructor`锁定内存，则使用这种方式。

*   更：

    if (...) if (...) SomeStuff(); 其他一些其他东西（）；//转到第二个 if，但 alligment 显示它在第一个...

总而言之，我不能说始终`{}`用于单行的最佳方式是什么，但这样做并没有什么坏处。

**重要编辑** 如果你为一行编写编译代码括号什么都不做，但如果你的代码将被解释，它会稍微减慢代码。非常轻微。

* * *

## 回答 #23

> 赞同：1
> 
> 时间：2015-07-16T21:16:22.607

编写控制语句有多种可能的方法；它们的某些组合可以共存而不影响易读性，但其他组合会造成麻烦。样式

```
if (condition)
  statement; 
```

将与其他一些编写控制语句的方式舒适地共存，但与其他方式不太好。如果多行控制语句写成：

```
if (condition)
{
  statement;
  statement;
} 
```

那么，哪些`if`语句控制单行，哪些语句控制多行，在视觉上就会很明显。但是，如果多行`if`语句写成：

```
if (condition) {
  statement;
  statement;
} 
```

那么有人试图在不添加必要的大括号的情况下扩展单语句`if`结构的可能性可能要高得多。

`if`如果代码库大量使用表单，则下一行的单语句语句也可能有问题

```
if (condition) statement; 
```

我自己的偏好是，将语句放在自己的行上通常会提高可读性，除非有许多`if`具有相似控制块的语句，例如

```
if (x1 > xmax) x1 = xmax;
if (x1 < xmin) x1 = xmin;
if (x2 > xmax) x2 = xmax;
if (x2 < xmin) x2 = xmin;
etc. 
```

在这种情况下，我通常会在这些语句组之前和之后`if`用空行将它们与其他代码分开。拥有一系列以`if`相同缩进开头的语句将提供一个清晰的视觉指示，表明存在一些不寻常的东西。

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2021-08-12T12:10:11.350

在营地“总是使用牙套”10 年后，我最近转而不再使用它们。主要是受到鲍勃叔叔关于如何编写干净代码的一些论点的启发，我现在相信不使用大括号编写它们更具可读性。

```
if(guardClause)
      throw new SomeException(..) 
```

Bob 大叔认为，在 if/for 语句中编写多行代码是一种潜在的可读性气味。

例如

```
if(someCondition)
{
   doTechnicalThingX();
   doTechnicalThingY();
   doTechnicalThingZ();
} 
```

可能应该重构为

```
if(someCondition)
    doFunctionalThingA(); 
```

不知何故，不把大括号放在那里是有帮助的，因为我得到提醒，我在 if 块中编写了太多代码。

我确实相信代码风格是其他人提到的团队决定。**

# windows - Windows 资源管理器对移动设备使用什么协议？

> ID：12193171
> 
> 赞同：1
> 
> 时间：2012-08-30T08:50:10.763
> 
> 标签：windows, device, explorer

当通过 USB 将我的导航或我的手机（非苹果）手机 iPhone 等移动设备连接到我的 Windows-PC 时，我几乎可以看到设备文件的资源管理器视图。“几乎”是因为它缺少驱动器号，并且资源管理器功能似乎也受到限制。所以它不是普通的文件系统。

这是什么协议或 API？

（我在问，因为我想让我的软件也能访问这些数据。）

# database - 在 C:\ 驱动器中的客户端计算机上创建数据库时操作系统错误 5（访问被拒绝）

> ID：12193176
> 
> 赞同：2
> 
> 时间：2012-08-30T08:50:17.820
> 
> 标签：database, sql-server-express, sql-scripts

我正在安装 SQL Server Express 2005 作为我的 c# windows 窗体应用程序的先决条件，并且在我的安装程序类的自定义操作下，我正在尝试执行下面的脚本，以在用户计算机上创建我的数据库。

但是，当我选择在 C:\ 驱动器（Windows 根文件夹）上创建数据库时，我收到此错误/异常：

```
Operating system error 5(access is denied) 
```

如果我尝试在任何其他驱动器中这样做，我不会收到任何错误。

请帮我。如何获得此 SQL 查询的相关权限？

```
USE [master]
GO
/****** Object:  Database [Society_security_database]    Script Date: 08/11/2012 14:26:23 ******/
CREATE DATABASE [Society_security_database] ON  PRIMARY 
( NAME = N'Society_security_database', FILENAME = N'C:\Society_security_database.mdf' , SIZE = 2048KB , MAXSIZE = UNLIMITED, FILEGROWTH = 1024KB )
 LOG ON 
( NAME = N'Society_security_database_log', FILENAME = N'C:\Society_security_database.ldf' , SIZE = 1024KB , MAXSIZE = 2048GB , FILEGROWTH = 10%)
 COLLATE SQL_Latin1_General_CP1_CI_AS
GO
EXEC dbo.sp_dbcmptlevel @dbname=N'Society_security_database', @new_cmptlevel=90
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [Society_security_database].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [Society_security_database] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [Society_security_database] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [Society_security_database] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [Society_security_database] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [Society_security_database] SET ARITHABORT OFF 
GO
ALTER DATABASE [Society_security_database] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [Society_security_database] SET AUTO_CREATE_STATISTICS ON 
GO
ALTER DATABASE [Society_security_database] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [Society_security_database] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [Society_security_database] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [Society_security_database] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [Society_security_database] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [Society_security_database] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [Society_security_database] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [Society_security_database] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [Society_security_database] SET  ENABLE_BROKER 
GO
ALTER DATABASE [Society_security_database] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [Society_security_database] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [Society_security_database] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [Society_security_database] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [Society_security_database] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [Society_security_database] SET  READ_WRITE 
GO
ALTER DATABASE [Society_security_database] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [Society_security_database] SET  MULTI_USER 
GO
ALTER DATABASE [Society_security_database] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [Society_security_database] SET DB_CHAINING OFF 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T09:14:41.053

终于找到了解决方案因为我试图从网络服务帐户访问数据库。当我将其更改为本地系统时，它起作用了！这是代码

```
Microsoft.SqlServer.Management.Smo.Wmi.ManagedComputer mc = new Microsoft.SqlServer.Management.Smo.Wmi.ManagedComputer();
                Microsoft.SqlServer.Management.Smo.Wmi.Service svc = mc.Services["MSSQL$SQLEXPRESS"];
                svc.SetServiceAccount("LocalSystem",null);
                svc.Alter();
                SqlConnection.ClearAllPools(); 
```

它将服务帐户更改为 localSystem

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-18T19:06:48.580

我遇到了类似的问题。经过大量分析后，我想出了一个简单的解决方法。关闭你的 Visual Studio。以管理员身份再次打开它，这应该可以工作。

希望能帮助到你。

# javascript - 移除 ExtJs 4 默认类

> ID：12193177
> 
> 赞同：0
> 
> 时间：2012-08-30T08:50:21.313
> 
> 标签：javascript, css, extjs, extjs4

我正在尝试从元素中删除默认类，但是该类没有单个选择器。类是这样分配的：

```
.x3-scope .x-form-grow-sizer {
    font:normal 12px tahoma, arial, helvetica, sans-serif;
} 
```

我试过这个：

```
Ext.get("test1234567").removeClass(".x3-scope .x-form-grow-sizer"); 
```

但它不起作用。应该是？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T14:58:34.773

该方法接受一个字符串或一个数组作为参数，所以这会起作用

```
el.removeClass(["x3-scope","x-form-grow-sizer"]); 
```

查看 Ext 源代码后，如果您指定的类名不带`.`

```
el.removeClass("x3-scope x-form-grow-sizer"); 
```

（该方法将在内部将字符串参数标记/拆分为数组）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:53:37.643

回答我自己的问题，因为我在发布后立即意识到明显的答案！

简单地删除第二个选择器意味着 css 规则不再适用。

```
Ext.get("test1234567").removeClass("x-form-grow-sizer"); 
```

# android - Facebook 登录和重定向无法正常进行

> ID：12193179
> 
> 赞同：2
> 
> 时间：2012-08-30T08:50:24.620
> 
> 标签：android, android-intent

当我登录到与 facebook 登录（启用 SSO）挂钩的我的 android 应用程序时，它会自动登录到我的应用程序，而无需我输入登录凭据。这是我的代码请帮助我，我不知道原因。为什么这会发生在应用程序中

```
package ten.mob.socialapp;

import java.io.IOException;
import java.net.MalformedURLException;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.os.StrictMode;
import com.facebook.android.AsyncFacebookRunner;
import com.facebook.android.DialogError;
import com.facebook.android.Facebook;
import com.facebook.android.Facebook.DialogListener;
import com.facebook.android.FacebookError;

public class FoodStarLoginActivity extends Activity{
    private static final String faceBookAppId = "430255993683523";
    static Facebook facebook = new Facebook(faceBookAppId);
    private SharedPreferences mPrefs;
    AsyncFacebookRunner asyncRunner;
    Context context;
    String logout = null;

    @Override
    public void onCreate(Bundle savedInstanceState){
        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
        StrictMode.setThreadPolicy(policy);
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        mPrefs = getPreferences(MODE_PRIVATE);
        String access_token = mPrefs.getString("access_token", null);
        long expires = mPrefs.getLong("access_expires", 0);
        if(access_token != null){
            facebook.setAccessToken(access_token);
        }
        if(expires != 0){
            facebook.setAccessExpires(expires);
        }
        if(!facebook.isSessionValid()){
            logInAuthorization();
        }
        Intent getintent = getIntent();
        logout=getintent.getStringExtra("logout");
        if(logout == null && facebook.isSessionValid()){
            startSearchMyActivity();
        }else{
            facebookLogout();
            if(!facebook.isSessionValid()){
                logInAuthorization();
                if(facebook.isSessionValid())
                    startSearchMyActivity();
            }
        }
    }

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data){
        super.onActivityResult(requestCode, resultCode, data);
        facebook.authorizeCallback(requestCode, resultCode, data);
    }

    private void facebookLogout() {
        try{
            facebook.logout(getApplicationContext());
        }catch(MalformedURLException e){
            e.printStackTrace();
        }catch(IOException e){
            e.printStackTrace();
        }
    }

    private void startSearchMyActivity() {
        Intent intent = new Intent(this,SearchMyActivity.class);
        startActivity(intent);
    }

    private void logInAuthorization(){
        facebook.authorize(this, new DialogListener(){
            @Override
            public void onComplete(Bundle values){
                SharedPreferences.Editor editor = mPrefs.edit();
                editor.putString("access_token", facebook.getAccessToken());
                editor.putLong("access_expires", facebook.getAccessExpires());
                editor.commit();
            }
            @Override
            public void onFacebookError(FacebookError error){}
            @Override
            public void onError(DialogError e){}
            @Override
            public void onCancel(){}
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T10:03:17.677

在facebook授权方法中必须有任何异常..尝试解决这个问题

# android - android简单的服务器-客户端实现

> ID：12193181
> 
> 赞同：1
> 
> 时间：2012-08-30T08:50:36.853
> 
> 标签：android, client

我是 android 开发的新手，想做一个从服务器提取数据的应用程序，有没有我可以使用的直截了当的教程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:04:08.657

您可以使用此方法从服务器中选择数据，然后将输入修剪转换为字符串，然后您可以解析以供进一步使用。`

```
public static InputStream getUrlData(final String url)
        throws URISyntaxException, ClientProtocolException, IOException {
    final DefaultHttpClient client = new DefaultHttpClient();
    final HttpGet method = new HttpGet(new URI(url));
    final HttpResponse res = client.execute(method);
    return res.getEntity().getContent();
} 
```

`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T08:53:30.173

使用 Andorid 很容易做到这一点，只需使用休息服务，您就可以上路了

[http://www.vogella.com/articles/AndroidJSON/article.html](http://www.vogella.com/articles/AndroidJSON/article.html)

[http://timewasted.net/?p=127](http://timewasted.net/?p=127)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T08:56:12.467

对于这种方法，您可以使用 DefaultHttpClient。

看看这个

[看看这个链接](http://www.androidhive.info/2012/07/android-loading-image-from-url-http/)

# associations - mybatis中的关联

> ID：12193183
> 
> 赞同：0
> 
> 时间：2012-08-30T08:50:43.077
> 
> 标签：associations, mybatis

我在mybatis中遇到了一些问题。这是我的配置：

PostMapper.xml

```
<mapper namespace="com.king.model.PostMapper">
    <select id="selectById" parameterType="int" resultMap="postMap">
        select * from posts where id = #{id}
    </select>
    <select id="selectAll" resultType="hashmap">
        select * from posts order by created_at desc
    </select>

    <resultMap id="postMap" type="Post">
        <result property="createDate" column="created_at" />
        <result property="updateDate" column="updated_at" />
    </resultMap>
</mapper> 
```

评论映射器.xml

```
<mapper namespace="com.king.model.CommentMapper">
    <select id="selectById" parameterType="int" resultMap="commentMap">
        select * from comments where id = #{id} order by id desc
    </select>
    <select id="selectAll" resultMap="commentMap">
        select * from comments
    </select>
    <select id="selectByPost" resultMap="commentMap" parameterType="int">
        select * from comments where post_id=#{id}
    </select>
    <resultMap id="commentMap" type="Comment">
        <result property="createDate" column="created_at" />
        <result property="updateDate" column="updated_at" />
        <association property="post" column="post_id" javaType="Post" select="com.king.model.PostMapper.selectById" />
    </resultMap>
</mapper>

public class Post {
    private int id;
    private String title;
    private String body;
    private Date createDate;
    private Date updateDate;
    private List<Comment> comments;
}

public class Comment {
    private int id;
    private String commenter;
    private String body;
    private Post post;
    private Date createDate;
    private Date updateDate;
} 
```

在 CommentDao 中：

```
public List<Comment> listForPost(Post post) {
    return getSqlSession().selectList("com.king.model.CommentMapper.selectByPost", post.getId());
} 
```

然后在我的控制器中，我尝试列出给定帖子的所有评论：

```
List<Comment> coms = commentDao.listForPost(post);
post.setComments(coms) 
```

而且我发现上面的代码会触发两条sql select语句：

```
select * from comments where post_id=? 
select * from posts where id = ? 
```

但是通过mybatis 3指南，它指定在这个套装中，它会导致“N + 1”问题。

对于每个选定的评论，它会触发选择语句以获取详细信息（帖子）。

但这里只有两个选择。

这是怎么回事？

而在mybatis中，对于一对多或多对多关联，关系应该设置为双向还是单向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T19:46:47.633

我看不出有什么问题。

我相信您的关系是一对多的，因为评论与单个帖子相关，而单个帖子可以有多个评论。

你的代码是正确的

```
List<Comment> coms = commentDao.listForPost(post); 
```

只触发两个查询。它将执行名为“CommentMapper.selectByPost”的查询，然后执行您的第一个查询，并且由于关联，“PostMapper.selectById”是您的第二个查询。所以你正在向后遍历你的关系，这不会触发 N+1 问题。

N+1 问题发生在您想要获取对象列表时，每个对象都有一个相关对象列表。例如，您想获取 Post 列表，并拥有他们的 Comment。

这意味着您执行查询以获取 Post (1) 的列表，然后，对于每个 Post，执行查询以获取 Comment (N) => N + 1

如果合理的话，这可以解决，执行一个查询，一次返回所有评论，每个评论都有关于其帖子的（冗余）信息。MyBatis 具有关联，能够在该结果集上执行类似于“GROUP BY”语句的操作，即与 Post 的每个实例相关联，即相关的 Comment。

为此，您应该调用“PostMapper.selectAll”并将关联与评论放在发布结果图中！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-29T23:29:39.050

MyBatis 在 Session 期间默认缓存 Statements。

由于 postId 不会改变，`select * from posts where id = ?`只会评估一次。

# java - 如何使用 Hibernate 将枚举映射到单独的表？

> ID：12193184
> 
> 赞同：3
> 
> 时间：2012-08-30T08:50:41.890
> 
> 标签：java, hibernate, enums, mapping

我目前有一个 Hibernate 映射，其工作方式如下：

```
Table 'TASK':
  id int, name varchar, status varchar 
```

枚举

```
public enum TaskStatus {
  INVALID, INITIAL, IN_PROGRESS, PAUSED, DONE;
} 
```

类型

```
@Entity
public class Task {

  @Column(name = "STATUS")
  @Enumerated(EnumType.STRING)
  private TaskStatus status;

  public TaskStatus getStatus() {
      return status;
  }

  public void setStatus(TaskStatus status) {
      this.status = status;
  }
} 
```

我想更改它以将所有可能的状态保存在一个表中，例如：

```
Table 'TASK_STATUS':
  id int, status varchar

Table 'TASK':
  id int, name varchar, status_id int foreign key 
```

是否可以使用 Hibernate Annotations 定义枚举类型的映射以及将其映射到任务类型的方法。我仍然希望 Java 实现看起来像上面的那个（具有 TaskStatus 属性而不是 int 属性），所以我可以舒适地使用：

```
myTask.setStatus(TaskStatus.DONE); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:19:19.553

是的，如果 status_id 的值集与枚举的序数匹配，只需使用以下内容：

```
@Column(name = "STATUS_ID")
@Enumerated(EnumType.ORDINAL ) 
```

Hibernate 不会自动生成正确的表结构（FK、TASK_STATUS 表）。

如果数值与序数不匹配，则必须创建自定义类型。[这里](https://community.jboss.org/wiki/UserTypeForPersistingAnEnumWithAVARCHARColumn)给出了一个示例，但您当然会使用整数类型而不是 varchar。

# google-maps - setRouteIndex 在谷歌地图方向 JS api v3 中不起作用

> ID：12193188
> 
> 赞同：2
> 
> 时间：2012-08-30T08:51:01.047
> 
> 标签：google-maps, google-maps-api-3, map-directions, google-directions-api

据此[，](https://developers.google.com/maps/documentation/javascript/reference#DirectionsRenderer) directionRenderer 对象的方法**setRouteIndex()**应该在 DirectionsResult 对象中设置要渲染的路线的（从零开始的）索引。

这是我所做的：

```
directionsService.route(request, function(response, status) {
                    if (status == google.maps.DirectionsStatus.OK) {
                        directionsDisplay.setRouteIndex(1);
                        console.log(directionsDisplay.getRouteIndex());
                        directionsDisplay.setDirections(response);
                        console.log(directionsDisplay.getRouteIndex());

} }); 
```

我知道我正在处理的查询有**3**条替代路线。在这里，首先`console.log(directionsDisplay.getRouteIndex());`给出路线号。**1**，没关系，但是在执行之后`setDirections`，secong log给出的值是0！。这意味着第一条路线。我已经启用了替代路线，**provideRouteAlternatives:true**，我也启动了这样的对象：

```
var rendererOptions = {
     routeIndex:1 
    }
directionsDisplay = new google.maps.DirectionsRenderer(rendererOptions); 
```

但它仍然显示路线编号。0，不是数字 1。这是我的[网页](http://ataur.net/MAP/direction.php)，请检查来源。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:43:30.320

我认为你误解了一些东西。你说：

> `console.log(directionsDisplay.getRouteIndex());`给出路线号。1，没关系，但是在执行setDirections之后，secong日志给出的值是0！。

...这也没关系，因为您正在重置它：`directionsDisplay.setDirections(response);`

但您不需要此行，因为响应已加载到 DirectionsRenderer 对象中。

# specflow - 在测试之间共享字典数据

> ID：12193190
> 
> 赞同：0
> 
> 时间：2012-08-30T08:51:03.437
> 
> 标签：specflow, automated-tests

我在 Specflow 中有以下场景：

```
Scenario Outline: K_KRED_FIELD - validation
    Given that K_KRED_FIELD has value <value>
    And that K_STATUS_FIELD has value <value_status>
    When I run rule K_KRED_RULE
    Then value of this field is <validation_result>

Examples: 
    | value         | value_status| validation_result |
    | 0.00          | Cancelled   | valid             |
    | 0.00          |             | invalid           | 
```

大致思路如下：我检查字段的值`K_KRED_FIELD`是否有效，取决于其他字段的值 - `K_STATUS_FIELD`using rule `K_KRED_RULE`。我有很多领域和很多这样的规则。

字段`K_STATUS_FIELD`有许多有效值（大约 50）。当然，可以为这些值中的每一个创建示例，但这很耗时，并且其他一些字段依赖于`K_STATUS_FIELD`，因此对于每个字段，我需要大约 50 个示例。

是否可以创建具有有效值的字典之类的东西`K_STATUS_FIELD`并对它们中的每一个运行测试？我在想类似的东西

```
Scenario Outline: K_KRED_FIELD - validation
    Given that K_KRED_FIELD has value <value>
    And that K_STATUS_FIELD value is valid
    When I run rule K_KRED_RULE
    Then value of this field is <validation_result>

Examples: 
    | value         |  validation_result |
    | 0.00          |  valid             |
    | 0.00          |  invalid           | 
```

where使用从表中获取的每个值`And that K_STATUS_FIELD value is valid`迭代字段`K_STATUS_FIELD`的每个有效值。`K_KRED_FIELD``Examples`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:55:29.797

您可以在步骤定义中使用字典。当您说：“并且 K_STATUS_Fields 是有效的”并且您在步骤定义中使用循环来遍历所有值时。

这对你来说是一个可能的解决方案，还是我完全理解这个问题？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T21:46:57.547

您可以将示例表/字典设置为背景：

```
Background:
    Given the following table
    | value             | result      |
    | 0                 | xxx         |
    | 1                 | yyy         |

Scenario: Scenario 1
    When something is done <value>
    And ...
    Then...
Scenario: Scenario 2
    When ...
    And ...
    Then... 
```

然后：

```
 [Given(@"the following table")]
    public void GivenTheFollowingTable(Table table)
    {
        foreach (var row in table.Rows)
        {
            //fill up the dictionary
        }

        //add dictionary to Context
        ScenarioContext.Current.Add("ScenarioName", scenarioName);
    }

    [When(@"something is done")]
    public void WhenSomethingIsDone(string value)
    {
        //Get dictionary from Context
        var myDictionary = ScenarioContext.Current.Get<Dictionary<string,string>>("MyDictionary");

        //do something
    } 
```

# iphone - 我想用 UIPanGestureRecognizer 画画

> ID：12193193
> 
> 赞同：0
> 
> 时间：2012-08-30T08:51:14.083
> 
> 标签：iphone, ios, uipangesturerecognizer

我想绘制用户在屏幕上绘制的路径`UIPanGestureRecognizer`。

我正在使用以下功能，但没有任何结果。

请让我知道我在哪里做错了。

```
- (void)pan:(UIPanGestureRecognizer *)sender{

     [[UIColor greenColor]set];
     CGContextRef context=UIGraphicsGetCurrentContext();
     CGContextSetLineWidth(context, 1.0f);

     if (sender.state==UIGestureRecognizerStateBegan) {
         CGContextMoveToPoint(context, [sender locationInView:self.view].x, [sender locationInView:self.view].y);
         NSLog(@"touch phase began");
     }

     CGContextAddLineToPoint(context, [sender locationInView:self.view].x, [sender locationInView:self.view].y);

     if (sender.state==UIGestureRecognizerStateEnded)
         CGContextStrokePath(context);
} 
```

先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T08:58:20.977

请参阅使用 UIPanGestureRecognizer 完成绘图的[draw-line-with-gesture链接。](https://stackoverflow.com/questions/6436990/draw-line-with-gesture)

希望有帮助。

# spring - Spring transaction config - XML + annotations 一起 - 哪个高级？

> ID：12193197
> 
> 赞同：4
> 
> 时间：2012-08-30T08:51:28.707
> 
> 标签：spring, transactions

假设我有一个`@Transactional`在类或方法级别标记有的 Spring bean，并且在一些`<aop:config>`用于添加事务建议的 Spring XML 中也有。

我认为这两种配置可以很好地协同工作，但是当 Spring 创建其上下文和代理时，如果配置不兼容（例如 PROPAGATION_MANDATORY 与 PROPAGATION_NEVER），那么哪个配置具有资历？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T09:24:13.363

要明确重复问题的答案，请使用：

```
 <tx:annotation-driven transaction-manager="txManager" order="X"/>

    <tx:advice id="txAdvice" transaction-manager="txManager">

    <aop:config>
            <aop:pointcut id="pointcut" expression="..."/>
            <aop:advisor advice-ref="txAdvice" pointcut-ref="pointcut" order="Y"/>
    </aop:config> 
```

...其中“X”和“Y”中的**较低者具有优先权。**

[关于该主题的 Spring Docs](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/aop.html#aop-ataspectj-advice-ordering "关于该主题的 Spring Docs")

# asp.net - 当我将这些锚点放在母版页中的 contentplace 持有者之外时，我可以将 css 类添加到内容页中的锚点标记吗

> ID：12193201
> 
> 赞同：-2
> 
> 时间：2012-08-30T08:51:42.153
> 
> 标签：asp.net, css, master-pages, content-pages

当我将这些锚点放在母版页中的 contentplace 持有者之外时，如何将 css 类添加到内容页中的锚点标记...实际上我想在菜单栏中以不同的文本显示当前页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:31:34.287

在内容页面中找到您的母版页控件，然后实现样式

```
HtmlAnchor Anchor= ( HtmlAnchor)Master.FindControl("HtmlAnchor");
Anchor.Style.Add("background-color", "red"); 
```

# xcode - XCode怪异吧

> ID：12193205
> 
> 赞同：1
> 
> 时间：2012-08-30T08:51:57.117
> 
> 标签：xcode

![在此处输入图像描述](../Images/e224cac6aa434e3dd866a3bd197fc2b3.png)

这个怎么去掉？？？我不记得，我是如何添加这个栏的，可能我已经推送了一些快捷方式并且它已经出现了。我尝试删除 xcode 并重新安装它，但它没有帮助。它阻止我编写代码。我可以删除 XCode 中的所有设置吗？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:13:34.133

要将 Xcode 重置为登录用户的出厂设置，请在终端中运行以下命令：

> 默认删除 com.apple.Xcode rm -rf ~/Library/Application\ Support/Xcode

取自[这里](http://www.thejoeman.com/2010/05/how-to-reset-xcode.html)

# oracle - 引用复合主键

> ID：12193206
> 
> 赞同：0
> 
> 时间：2012-08-30T08:51:58.940
> 
> 标签：oracle, oracle10g, oracle11g

朋友的我创建了一个具有三列复合主键的表，然后我创建了仅引用两列的子表。这将导致错误..请帮助我仅引用基表中的两列。

```
CREATE TABLE STUDENT
( SID NUMBER
, NAME VARCHAR2(20)
, DEPT VARCHAR2(20)
, CARD_F NUMBER
, CARD_S NUMBER
, PRIMARY KEY (SID, CARD_F, CARD_S)
); 

CREATE TABLE MASTER
( BOOKNO NUMBER
, CARD_S NUMBER
, FOREIGN KEY (BOOKNO) 
    REFERENCES STUDENT(CARD_F)
); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:34:45.037

bookno 从名为 card_f 的列中获取值似乎很奇怪。

这个不正确的参考有几种不同的方式

```
, FOREIGN KEY (BOOKNO) 
    REFERENCES STUDENT(CARD_F) 
```

可以修复。

1.  在 student.card_f 上创建一个主键约束。
2.  在 student.card_f 上创建一个唯一约束。
3.  引用一个不同的表，该表在 bookno 列上具有主键约束或唯一约束，可能类似于 books.bookno。
4.  在学生表中的一对列 {card_s, card_f} 上创建一个主键或唯一约束，并使用`foreign key (card_s, card_f) references student (card_s, card_f)`.
5.  将 SID 列添加到 master，并使用`foreign key (sid, card_s, bookno) references student (sid, card_s, card_f)`.

其中，3、4 和 5 最有可能适用于您的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T08:56:17.493

外键定义为另一个表中的键。您不能引用不是键的元组。

请参阅下面 W3schools 的外键页面：

> 一个表中的 FOREIGN KEY 指向另一个表中的 PRIMARY KEY。

（[链接](http://www.w3schools.com/sql/sql_foreignkey.asp)）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:40:07.673

选项 ：

```
1> Please check if you can create a unique Key on the two columns on the base table the you want to refer to.

2> a)If you cant create unique key then intoduce a 3rd table which would maintain 
    distinct combination of column values for columns, to be included in F.K.
    through a trigger on base table.

   b)Make columns in your child table refer(F.K) to this newly introduced table 
```

# c# - 如何在 Silverlight 5 应用程序中维护状态？

> ID：12193207
> 
> 赞同：0
> 
> 时间：2012-08-30T08:52:12.687
> 
> 标签：c#, .net, silverlight, silverlight-5.0

我是 Silverlight 的新手。我有一个登录页面，在用户登录后，我想在应用程序中维护用户名和详细信息。

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T20:05:50.870

您可以将键/值对与[**IsolatedStorageSettings 类一起使用**](http://www.silverlight.net/learn/graphics/file-and-local-data/isolated-storage-%28silverlight-quickstart)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T13:36:00.073

使用可以从任何 Silverlight 视图模型访问的全局上下文对象，例如

```
public class ApplicationContext
{
        // Static instance of the application class.
        private static ApplicationContext _instance;

        public static ApplicationContext Instance()
        {
            return _instance ?? (_instance = new ApplicationContext()
        }

        public UserDetailsCustomClass SecurityContext { get; set; }
} 
```

然后它可以在 Silverlight 应用程序中的任何地方使用，例如

```
 var submUserLogin = ApplicationContext.Instance().SecurityContext.CurrentUser.Login; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:07:27.190

使用 cookie。

1.  [Silverlight 每日提示 #18：如何设置浏览器 Cookie。](http://blogs.silverlight.net/blogs/msnow/archive/2008/07/15/tip-of-the-day-18-how-to-set-browser-cookies.aspx)
2.  [如何：获取和设置 Cookie。](http://msdn.microsoft.com/en-us/library/dd920298%28v=vs.95%29.aspx)

# wpf - 所有窗口的全局上下文菜单资源

> ID：12193214
> 
> 赞同：0
> 
> 时间：2012-08-30T08:52:32.700
> 
> 标签：wpf, contextmenu

我正在寻找一种为我的 WPF 项目中的所有窗口创建全局资源的方法。我有各种不同控件的窗口，但它们都应该有相同的上下文菜单，例如这个按钮的上下文菜单：

```
 <Button.ContextMenu>
            <ContextMenu>
                <MenuItem Header="1"/>
                <MenuItem Header="More">
                    <MenuItem Header="2"/>
                    <MenuItem Header="2" IsCheckable="True"/>
                    <MenuItem Header="2" IsCheckable="True"/>
                    <MenuItem Header="2" IsEnabled="False"/>
                    <MenuItem Header="More">
                        <MenuItem Header="3"/>
                        <MenuItem Header="More">
                            <MenuItem Header="4"/>
                        </MenuItem>
                    </MenuItem>
                </MenuItem>
            </ContextMenu>
        </Button.ContextMenu> 
```

也应该可以在自己不同的窗口中的标签上使用。

像这样的东西：

```
resource file: contextMenu
wpf form 1: use contextMenur resource for button
wpf form 2: use contextMenur resource for label
wpf form 3: use contextMenur resource for combobox 
```

我阅读的所有资源教程都在同一窗口中提供了资源

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T08:54:46.387

将其添加到 App.xaml 文件的 部分`<Application.Resources>`。

```
<Application ...>
   <Application.Resources>
      <SolidColorBrush x:Key="somebrush" ... />
   </Application.Resources>
</Application> 
```

别的地方：

```
 <Grid Background="{StaticResource somebrush}">
      ...
   </Grid> 
```

（来自 MA Stoecker 的 MCTS 培训工具包 Windows 应用程序开发）

因此，您可以将 ContextMenu 放入资源中，给它一个 x:Key，然后编写

```
 <Button ...>
       <Button.ContextMenu>
           <StaticResource ResourceKey="keyThatWasGiven" />
       </Button.ContextMenu>   
   </Button> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T08:55:00.687

您可以将它放在一个独立的环境`ResourceDictionary`中，并在任何`Window`使用[`MergedDictionaries`](http://msdn.microsoft.com/en-us/library/system.windows.resourcedictionary.mergeddictionaries.aspx)（参见示例部分）中引用它。

# php - 加入查询 Symfony 1.4.11/Propel 1.4.2

> ID：12193216
> 
> 赞同：0
> 
> 时间：2012-08-30T08:52:42.907
> 
> 标签：php, symfony-1.4, propel

我有以下查询来执行

```
SELECT m.*, s.momento_idmember, sd.id_send, d.momento_id
FROM `momento_send` s,
    `send_distribution` sd,
    `momento_distribution` d,
    `momento` m
WHERE
    s.momento_idmember=6 AND
    sd.id_send=s.id AND
    sd.id_distribution=d.id AND
    d.momento_id=m.id; 
```

MySQL 5.5.24 有正确的表之间的关系。

有人可以建议如何通过推进中的标准（或任何最好的）来实现这个查询。我尝试了 2 个多小时，但没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:40:57.813

我将继续这样的事情：

```
$c = new Criteria();
$c->clearSelectColumns();
$c->addSelectColumn(MomentoSendPeer::MOMENTO_IDMEMBER);
$c->addSelectColumn(SendDistributionPeer::ID_SEND);
$c->addSelectColumn(MomentoDistributionPeer::MOMENTO_ID);

$c->addJoin(SendDistributionPeer::ID_SEND, MomentoSendPeer::ID, Criteria::INNER_JOIN);
$c->addJoin(SendDistributionPeer::ID_DISTRIBUTION, MomentoDistributionPeer::ID, Criteria::INNER_JOIN);
$c->addJoin(MomentoDistributionPeer::MOMENTO_ID, MomentoPeer::ID, Criteria::INNER_JOIN);

$c->add(MomentoSendPeer::MOMENTO_IDMEMBER, 6); 
```

我不认为你可以选择`m.*`使用推进 1.4。因此，您必须手动添加所有字段。

# lotus-notes - 同时运行两个或多个设计师

> ID：12193218
> 
> 赞同：0
> 
> 时间：2012-08-30T08:52:45.970
> 
> 标签：lotus-notes

从 R8 开始，没有选项可以运行多个 Domino Designer 实例。另一方面，Eclipse 足够大，可以运行多个实例，这非常有用。

有没有办法在同一台计算机上运行设计器的另一个副本（具有不同的 notes.ini/data 目录/id）？虚拟机或远程连接到另一台计算机是不可接受的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T00:32:45.130

简单地说，不。

但是，您可以在 R7 中执行此操作。最好数据库不使用任何新功能并且[ODS 结构](http://www-01.ibm.com/support/docview.wss?uid=swg21102152)仍然是 8 版之前的版本，然后您可以运行 R7 设计器。如果数据库已在 R8 中更新，您可能会收到警告，但如果您没有在设计中添加任何新的 R8 功能，则此消息是良性的。否则，您最好的选择是运行 VMWare 工作站，并运行多个 VM（或仅使用另一台 PC）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T23:45:44.293

我的意思是：当然，在 Linux 上，但您必须等待 Designer 客户端在 Linux 上可用...... ;-) 所以我投票不，我认为这是不可能的（目前）。

# sql - 为什么系统要在数据库中记录谁登录以及何时登录？合规性、安全性、可审计性？

> ID：12193225
> 
> 赞同：2
> 
> 时间：2012-08-30T08:53:01.420
> 
> 标签：sql, database-design

很抱歉错误地标记了这个 SQL，但你在这里看起来很活跃。我是一名数据仓库开发人员，目前为一家公司工作，该公司开发了一个内部定制的操作系统，我将数据从该系统中提取到数据仓库中。一些用户问我是否可以在仓库中包含用户登录信息——谁登录以及何时登录。但系统不存储此信息。我觉得应该。是否有合规/监管规则说它应该？是否有良好的安全/系统原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T14:27:39.133

系统应该在某处存储审计日志。最好将其存储在与非安全数据分开的数据库中或以其他方式分开。

审计日志用于观察用户行为，作为不可否认性的一部分。这是监管管理员和其他用户行为的唯一方法，几乎​​没有限制。许多组织将需要审核日志以符合 SOX (Sarbanes-Oxley)、HIPAA、PCI-DSS 或供应链合同。

审计日志应该有某种形式的简单篡改检测，例如 HMAC。清除或备份旧审计日志条目的操作也应该在审计日志中添加一个条目。

[编辑：应要求添加了更多详细信息]

不可否认性是一种非常奇特的说法，即“你不能声称你没有这样做”（http://en.wikipedia.org/wiki/Non-repudiation）。例如，如果用户上传了麻烦的数据然后声称不是他或她，那么显示用户在没有其他人登录的情况下登录的审计日志将非常有用。

HMAC 是散列消息验证码（参见[http://en.wikipedia.org/wiki/Hash-based_message_authentication_code](http://en.wikipedia.org/wiki/Hash-based_message_authentication_code)或[http://www.ietf.org/rfc/rfc2104.txt](http://www.ietf.org/rfc/rfc2104.txt)）。这是一种加密算法，其中您有一个秘密号码，将其附加到数据中并进行哈希处理。如果没有库，这可能很难计算，并且可能比您想要的位置提前一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T14:38:27.933

一些行业和国家确实有关于审计的规定；SOX 大大扩大了这一范围。但是，据我所知，没有关于此的一般立法或法规——这可能是一件好事。

但是，用户要求提供有关此数据的报告这一事实表明有必要收集这些数据。

存储此类数据的其他原因是了解使用情况（并可能为该使用情况计费部门）、检测错误、支持容量管理和监控服务质量。大多数重要的企业应用程序至少需要其中一些功能，即使它们不需要正式审计。

如果您关心数据安全——保护您的价格和客户名单——仅靠审计是远远不够的，而且很可能会适得其反。跟踪个人登录的数据泄漏几乎肯定是（几乎）不可能的，并且很容易最终指责错误的人。

# delphi - Delphi中的“免费”基础

> ID：12193230
> 
> 赞同：6
> 
> 时间：2012-08-30T08:53:13.260
> 
> 标签：delphi, delphi-7, delphi-xe2, delphi-2010

我对 Delphi 有一个基本的疑问。当我在设计时保留任何组件时，例如 TADOConnectuion 并单击按钮，即使我编写以下代码，我也不会收到任何错误：

```
begin
  ADOConnection.Free;  //No error
  ADOConnection.Free;  //No error
  ADOConnection.Free;  //No error
end; 
```

但是，如果我在运行时创建与以下相同的对象，则会收到“访问冲突...”错误

```
begin
  ADOConnection := TADOConnection.create(self);
  ADOConnection.Free;  //No error
  ADOConnection.Free;  //Getting an "Access Violation..." error
end; 
```

即使我创建如下对象，我也会收到相同的错误：

```
ADOConnection := TADOConnection.create(nil); 
```

只是想知道这种行为背后的原因，即为什么我在设计时保留组件时没有错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:03:36.823

如果释放组件，则其在所有者中的相应字段将被清除。如果添加 design-time `ADOConnection`，那么

```
ADOConnection.Free; // Frees ADOConnection and sets ADOConnection to nil
ADOConnection.Free; // Does nothing since ADOConnection is nil 
```

您可以通过在变量中捕获它来查看它：

```
var c: TADOConnection;
c := ADOConnection;
c.Free; // Frees ADOConnection and sets ADOConnection to nil
c.Free; // Error: c is not set to nil 
```

`ADOConnection`即使在设计时创建，那也行不通。

这是一个`TButton`组件示例，它演示了您在设计时组件中看到的行为并非特定于设计时组件：

```
unit Unit1;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls;

type
  TForm1 = class(TForm)
    procedure FormCreate(Sender: TObject);
  published
    Button: TButton;
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

procedure TForm1.FormCreate(Sender: TObject);
begin
  Assert(not Assigned(Button));
  TButton.Create(Self).Name := 'Button'; // Button field gets set
  Assert(Assigned(Button));
  Button.Free;                           // Button field gets cleared
  Assert(not Assigned(Button));
  Button.Free;                           // Okay, Free may be called on nil values
end;

end. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T08:58:14.043

ADOConnection 最初是 nil，所以如果你释放它，free 函数不会做任何事情，因为传递给它的指针是 nil。在随后的调用中，指针保持为 nil，因此 free 继续什么都不做。当你用 create 初始化 ADOConnection 时，ADOConnection 中持有的指针不再是 nil，所以第一次调用 free 会主动释放指针，但后续调用会看到内存已经被释放并引发异常。调用 free 不会更改指针。为此，您需要 freeandnil 代替。

# java - SWT 是否有等效于“java.awt.headless=true”的方法？

> ID：12193231
> 
> 赞同：3
> 
> 时间：2012-08-30T08:53:15.033
> 
> 标签：java, swt, headless

我正在尝试在无头环境中运行 Java SWT GUI 应用程序并问自己是否有[与 AWT 选项等效的](http://java.sun.com/developer/technicalArticles/J2SE/Desktop/headless/)选项`-Djava.awt.headless=true`？

如果不是，我会选择`Xvfb`or `Xvnc`，反正我很好奇。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:54:59.200

根据这个非常古老的[错误报告](https://bugs.eclipse.org/bugs/show_bug.cgi?id=73650)，SWT 无头模式存在一些问题。但是它又很老了，而且是为 Mac OS 解决的。

### 问答

> 问自己是否有与 AWT 选项“-Djava.awt.headless=true”等效的选项？

不，没有这样的财产。尽管在 Win7 和 eclipse 4.2 上，您可以在无头模式下操作（只是不要这样做`shell.open()`）。

### 代码

下面的代码打开一个浏览器实例，等待它的加载事件，一旦页面被加载，它就会转储其页面内容并关闭 shell。此外，它在这种无头模式下创建颜色和图像。

```
import org.eclipse.swt.SWT;
import org.eclipse.swt.browser.Browser;
import org.eclipse.swt.browser.LocationEvent;
import org.eclipse.swt.browser.LocationListener;
import org.eclipse.swt.browser.ProgressEvent;
import org.eclipse.swt.browser.ProgressListener;
import org.eclipse.swt.graphics.Color;
import org.eclipse.swt.graphics.GC;
import org.eclipse.swt.graphics.Image;
import org.eclipse.swt.graphics.ImageData;
import org.eclipse.swt.graphics.ImageLoader;
import org.eclipse.swt.graphics.RGB;
import org.eclipse.swt.layout.GridData;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;

public class HeadLess 
{
    public static void main(String[] args) {
        new HeadLess().start();
    }

    public void start()
    {
        Display display = new Display();
        final Shell shell = new Shell(display);
        shell.setLayout(new GridLayout(1, true));
        GridData gridData = new GridData(SWT.FILL, SWT.FILL, true, true);
        shell.setLayoutData(gridData);

        // Create browser and listen for events in headless mode
        final Browser browser = new Browser(shell, SWT.NONE);
        gridData = new GridData(SWT.FILL, SWT.FILL, true, true);
        browser.setLayoutData(gridData);

        browser.setUrl("https://stackoverflow.com/questions/12193231/is-there-an-equivalent-to-java-awt-headless-true-for-swt");
        browser.addProgressListener(new ProgressListener() {
            public void completed(ProgressEvent event) {
                System.out.println(browser.getText());
                shell.close();
            }
            public void changed(ProgressEvent event) {
            }
        });

        browser.addLocationListener(new LocationListener() {
            public void changing(LocationEvent event) {
                System.out.println(event.location);
            }
            public void changed(LocationEvent event) {
            }
        });

        // Creating image in headless mode !!
        Color red = new Color(display, new RGB(255, 0, 0));
        Image image = new Image(display, 100, 100);
        GC gc = new GC(image);
        gc.setBackground(red);
        gc.fillRectangle(image.getBounds());
        gc.dispose();

        ImageLoader loader = new ImageLoader();
        loader.data = new ImageData[] {image.getImageData()};
        loader.save("swt.png", SWT.IMAGE_PNG);

        red.dispose();
        image.dispose();

        while (!shell.isDisposed()) {
            if (!display.readAndDispatch())
                display.sleep();
        }

        display.dispose();
    }
} 
```

### 额外的

1.  [无头模式下的 swt 浏览器](https://groups.google.com/forum/?fromgroups=#!topic/mozilla.dev.embedding/PmYloUj8Dhw)
2.  [在无头环境中对 SWT 和 Swing 应用程序进行单元测试的最简单方法是什么？](https://stackoverflow.com/questions/1578002/easiest-way-to-unit-test-swt-and-swing-apps-in-a-headless-environment)

# dynamic - 如何在向导 openerp 中删除不可见字段的值

> ID：12193233
> 
> 赞同：1
> 
> 时间：2012-08-30T08:53:19.347
> 
> 标签：dynamic, hide, wizard, openerp, invisible

我有一个很少领域的向导。最初它只显示一个选择字段，并根据选择的内容（我使用过 on_change），它会显示其他字段。

现在我在这种情况下遇到问题。用户最初选择“选择 1”并显示（比如说）姓名、地址、年龄并为该字段赋值，但用户决定将初始字段更改为“选择 2”，这将隐藏其他字段并显示字段主题，时间，导师。但是当我再次尝试选择“选择 1”时，这些值不会被删除。

我想删除隐藏字段的现有值。

你对如何做到这一点有任何想法吗？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T12:28:09.543

您可以为选择类型字段创建 on_change 方法。

在该方法中，您可以根据选择字段值返回字段的 '' 值。

```
i.e if select=1 then return {'value':{'subject':'', 'time':'' , 'instructure': False}}
& if select=2 then return {'value':{'name':'', address:'' , 'age': 0}} 
```

希望这会帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T10:32:44.150

```
def get_status_reason(self, cr, uid, field_val, question_id, status_reason_id=False):
    pool = self.pool.get
    question_obj = pool('jfs.question.template.answer').read(cr, uid, question_id, ['name', 'status_reason_id','question_template_ids'])
    if str(question_obj['name']) != field_val:
        for child_question in question_obj['question_template_ids']:
            status_reason_id = self.get_status_reason(cr, uid, field_val, child_question, status_reason_id)
    else:
        if question_obj['status_reason_id']:
            status_reason_id = question_obj['status_reason_id'][0]
        else:
            status_reason_id = False
    return status_reason_id

def onchange_field_val(self, cr, uid, ids, field_val, task_id, status_reason_id):
    pool = self.pool.get
    task_obj = pool('aybabtu.task').read(cr, uid, task_id, ['question_set_id'])
    status_reason_id = self.get_status_reason(cr, uid, field_val, task_obj['question_set_id'][0], status_reason_id)
    res = {'status_reason_id':status_reason_id}
    #self.get_child_questions(cr, uid, field_val, task_id)
    return {'value':res}

def generate_xml(self, cr, uid, view_type, data, sorted_field_list, result, context):
    xml = '''<?xml version="1.0"?>
        <%s>''' % (view_type)
    context_val = {}
    context_val['task_id'] = context['active_id']

    task_obj = self.pool.get('aybabtu.task').read(cr, uid, context_val['task_id'], ['state'])
    for field_name in sorted_field_list: 
        attribute = {}
        context_val[field_name] = str(field_name)
        #print "result['fields'][field_name]", result['fields'][field_name]
        if result['fields'][field_name]['context'] != 'none' and result['fields'][field_name]['context'] != 'task' and eval(result['fields'][field_name]['context'])[4] == 'required':
            require = 'required="1"'

        else:
            require = ''

        if result['fields'][field_name]['context'] != 'none' and result['fields'][field_name]['context'] != 'task' and eval(result['fields'][field_name]['context'])[7] and task_obj['state'] in ['done']:
            readonly = 'readonly="1"'
        else: readonly = ''

        if result['fields'][field_name]['context'] != 'none' and result['fields'][field_name]['context'] != 'task' and eval(result['fields'][field_name]['context'])[5] == 'widget':
            widget = 'widget="selection"'
            filter = "context=\"{'custom_domain_timeslot':[ticket_id,type_id,state]}\""

        else:
            widget = ''
            filter = ''

        if field_name == str(data['name']):
            xml += '''<field name="%s" select="1" required="1" nolabel="1" on_change="onchange_field_val(%s,task_id, status_reason_id)" colspan="4" sequence="1" %s/>''' % (field_name, field_name, readonly)

        elif result['fields'][field_name]['context'] == 'none':
            xml += '''<field name="%s"/>''' % (field_name)

        elif result['fields'][field_name]['context'] == 'task':
            xml += '''<field name="%s" invisible="1"/>''' % (field_name)

        else:
            attribute['invisible'] = [(eval(result['fields'][field_name]['context'])[2],'!=',eval(result['fields'][field_name]['context'])[1])]
            if require == 'required="1"':

                attribute['required'] = [(eval(result['fields'][field_name]['context'])[2],'=',eval(result['fields'][field_name]['context'])[1])]

            if result['fields'][field_name]['context'] != 'none' and result['fields'][field_name]['context'] != 'task' and eval(result['fields'][field_name]['context'])[5] == 'widget':
                filter_option = self.get_domain(cr, uid, context_val['task_id'], result['fields'][field_name]['context'])

            xml += '''<field name="%s" attrs="%s" colspan="4" on_change="onchange_field_val(%s,task_id, status_reason_id)" %s %s %s/>''' % (field_name, attribute, field_name, widget, filter, readonly)

    xml += '''<button name="question_save_task" string="Save and Close Task" colspan="4" type="object" icon="gtk-convert" context="%s"/>''' % (context_val)
    xml += '''</%s>''' % (view_type,)
    return xml 
```

@anoma我还重载了调用 generate_xml() 的 field_view_get() ，其中不可见的字段属性也是动态的

# python - python中的实际对象及其引用

> ID：12193237
> 
> 赞同：2
> 
> 时间：2012-08-30T08:53:34.417
> 
> 标签：python

我对实际对象及其在 python.Google 中的引用有点困惑，但没有得到我需要的东西。

对象创建是否也返回对该对象的引用？为什么我问这个是因为我能够使用带有`.`分隔符的实际对象来调用它的方法。我们通常使用对象的引用来调用方法。一个例子可能会清楚地说明我在问什么。

`l = [2,4,1,3]`# 'l' 是对实际对象的引用。对吗？

RHS 部分是否创建对象并返回对该对象的引用，该对象将分配给 LHS ？

因为我可以同时使用这两者`list.sort()`并对`[2,4,1,3].sort()`列表进行排序。是`[2,4,1,3]`实际对象还是在创建对象的同时产生引用？

类的情况类似。

`obj=SomeClass()`#obj 是对 SomeClass() 创建的对象的引用。

是否`SomeClass()`在创建对象的同时返回引用？

因为我们可以同时使用`obj.method1()`和`SomeClass().method1`来调用方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:21:45.703

我建议您阅读[Python 语言参考“数据模型”](http://docs.python.org/reference/datamodel.html)。

在 python 中，当你创建一个对象时，它是在堆中分配的。如果将对象分配给某个变量，则实际上是在*标记*它。一个对象可能有许多标签。当对象*丢失*所有标签时，它*可能*会被 python 垃圾收集器销毁。因此，您的问题的答案 - [1,2,3]*不*返回任何引用，而只是创建新对象。

编辑：

其实，期间

```
[1, 2, 3].sort() 
```

有一个对 [1, 2, 3] 列表的引用，它保留在 VM 的堆栈中。但是，如前所述，它没有被退回。但期间：

```
l = [1, 2, 3] 
```

此引用从 VM 的堆栈复制到 l。

# sql - 对带有动态 SQL 的 PL/SQL 片段感到困惑

> ID：12193238
> 
> 赞同：0
> 
> 时间：2012-08-30T08:53:34.477
> 
> 标签：sql, oracle, plsql

这个片段运行没有错误，除非我取消注释`for`循环，在这种情况下我得到

```
Error report:
ORA-06550: line 12, column 41:
PL/SQL: ORA-00942: table or view does not exist 
```

我的问题是为什么在未注释 for 循环时会发生错误？

```
set serveroutput on
declare
  v_sql varchar2(2000);
  v_tmp number;
begin
  dbms_output.enable(null);
  v_sql := 'CREATE TABLE tmp_bank_codes (name varchar2(256), code varchar2(256))';
  dbms_output.put_line('Will do ' || v_sql);
  execute immediate v_sql;
  v_sql := 'INSERT INTO tmp_bank_codes (name, code) VALUES (''Bank of America'', ''BOANY (NY)'')';
  dbms_output.put_line('Will do ' || v_sql);
  execute immediate v_sql;
--for bank_code in (select name, code from tmp_bank_codes) loop
--  select 1 into v_tmp from dual;
--end loop;
execute immediate 'drop table tmp_bank_codes';
rollback;

end;
/ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:00:50.167

该错误是因为您使用动态 sql 创建表并且在 for 循环中您正在使用该表。在编译过程时，编译器不知道您已经使用动态 sql 创建了表

以下是您的选择：

1.  也使用动态 SQL 进行 for 循环
2.  将动态sql创建表更改为普通sql语句

**我更喜欢第二个选项，因为动态 sql 不会采用缓存的执行计划，从而减慢查询速度**

对于选项 1，您可以这样做，将您的注释代码部分替换为以下内容

```
v_sql :='for bank_code in (select name, code from tmp_bank_codes) loop
        select 1 into v_tmp from dual;
        end loop';
execute immediate v_sql; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T09:00:40.353

这是一个解析器错误。`tmp_bank_codes`在编译时不存在。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:02:52.227

首先，引擎会尝试编译您的匿名脚本。在这第一步`tmp_bank_codes`表中不存在。

解决方案类似于

```
execute immediate `select 1 from tmp_bank_codes where rownum = 1` into v_tmp; 
```

# perl - 如何使用带有 '.' 的变量 在文本::模板中

> ID：12193243
> 
> 赞同：3
> 
> 时间：2012-08-30T08:53:46.760
> 
> 标签：perl

如何使用带有“。”的模板变量 使用时[`Text::Template`](https://metacpan.org/module/Text%3a%3aTemplate)，

文件.xml.模板 ..

```
<m:properties>
  <d:Name>firstname</d:Name>
  <d:Value>{$user.firstname}</d:Value>
 </m:properties> 
```

模板代码 -

```
my $text = $payload_template->fill_in(HASH => \%properties); 
```

`%properties`hash 的属性“user.firstname”为“john”

这给出了输出 -

```
<m:properties>
  <d:Name>firstname</d:Name>
  <d:Value>$userfirstname</d:Value>
 </m:properties> 
```

预期输出 -

```
<m:properties>
  <d:Name>firstname</d:Name>
  <d:Value>john</d:Value>
 </m:properties> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:48:14.663

看起来代码片段将`.`视为连接操作。

尝试以下操作：

```
<d:Value>{${'user.firstname'}}</d:Value> 
```

# c++ - 调用虚拟基函数时，什么可能导致无效的函数引用？

> ID：12193250
> 
> 赞同：2
> 
> 时间：2012-08-30T08:53:56.460
> 
> 标签：c++, segmentation-fault

我试图在我的应用程序中调试一个段错误，但无法弄清楚问题是什么。发布完整代码太复杂了，所以我试图将问题分解为一个更简单的版本 - 只是为了弄清楚我的基本示例完美无缺。

但是，我仍然坚持尝试运行我的应用程序，并希望对以下错误的任何输入 - 非常有帮助 - 错误：

```
Program received signal SIGSEGV, Segmentation fault.
0x00007fffdd921f38 in main_arena () from /lib/libc.so.6 
```

当我尝试`getType()`按照以下方式调用时，会发生这种情况：

```
std::map<long, QVAbstractElement *> mElements;

<...>//skipping some stuff

LineElement * insert_el = new LineElement();
mElements[0] = insert_el;

<...>//skipping a lot more stuff

AbstractElement * el = mElements.at(0);

if (!el)
{
    printf("ERROR");
    return (1);
}

int t = el->getType(); 
```

在这种情况下，我知道指针`el`是有效的，但实际对象是 a `LineElement`，它派生自`AbstractElement`并且`getType()`是`virtual`仅在基类 ( `AbstractElement`) 中实现的函数。使用 gdb 进行调试时，我得到以下指针地址：

```
(gdb) x el
0x11cf600:  0xdd921f48
(gdb) p el
$1 = (class AbstractElement *) 0x11cf600 
```

现在，当尝试`getType`从 gdb 调用该函数 () 时，我得到以下信息：

```
(gdb) x el->getType()
warning: can't find linker symbol for virtual table for `AbstractElement' value
warning: can't find linker symbol for virtual table for `AbstractElement' value 
```

本质上，我认为即使我的指针检查有效并且与创建此对象的时间相比地址仍然相同，但我无法调用该对象的任何函数。

**第一个问题**：这与从不同线程调用有什么关系吗？我将 Qt 用于我的 UI，而不是 100% 确定 Qt 是否会创建它自己的线程？

**第二个问题**：这实际上是否意味着问题可能出现在我的代码中的任何地方，结果这只是一个混乱的函数表？

# python - 熊猫合并时间序列，concat/append/...？

> ID：12193253
> 
> 赞同：3
> 
> 时间：2012-08-30T08:54:00.417
> 
> 标签：python, pandas, time-series

我从时间序列开始，并使用循环来生成新的时间序列。我想随后在每个循环中将现有系列与新系列合并，同时保留它们的（不同）索引。我尝试了 concat，但不知何故我无法在第一个系列之后添加另一个系列......

```
orig = pd.Series(data, index=index)
for i in list:
    new = pd.Series(...)
    orig = pd.concat([orig, new], axis=1) 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T09:09:01.647

`pd.concat`获取系列列表：

```
orig = pd.concat([pd.Series(...) for i in li], axis=1) 
```

（将您重命名`list`为`li`）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:09:41.710

我一直在做这样的事情，但我`append`是这样使用的：

```
orig = pd.Series(data, index=index)
for i in list:
    new = pd.Series(...)
    orig = orig.append(new) 
```

你能验证索引是唯一的吗？

[http://pandas.sourceforge.net/merging.html#concatenating-using-append](http://pandas.sourceforge.net/merging.html#concatenating-using-append)

你可以粘贴回溯吗？我很乐意为您调试它。

# php - PHP 目录循环 - 样式

> ID：12193257
> 
> 赞同：2
> 
> 时间：2012-08-30T08:54:24.013
> 
> 标签：php, html, html-table, directory, glob

在为学校制作 Web 应用程序的过程中，该应用程序循环访问学生的主目录，并在网站上以 PHP 显示他们的文件。

（它使用 LDAP Bind 来验证用户是否存在等）

目前它遍历文件并在表格中输出每个文件（这里是代码）

```
<table width="100%"  border="0" cellpadding="0" cellspacing="0"><tr>
  <td width="4%" height="38"><div align="center"><span class="style1"><span class="style2"><img src="_css/folder.png"></span></span></div></td>
            <td width="20%"><span class="style2"><a href="browse.php?path='.$enc.'">'.$name.'</a></span></td>
            <td width="16%"><span class="style2"></span></td>
             <td width="60%"><span class="style2"></span></td>
        </tr></table> 
```

理想情况下，我们希望它能够像 Windows 一样更改视图等（这很容易，它创建了问题视图）

理想情况下，我喜欢创建一个缩略图视图，但我尝试对 a 中的每个文件夹使用它，所以它是一个列，但它会将它们全部捆绑在一起。

表有什么东西吗，比如在 C#（FlowTableOverflow 或 w/e）中，这样当表变满时，它会开始一个新行

任何帮助，将不胜感激

（它现在看起来像什么的屏幕截图，以及我希望它看起来像什么）

![现在的样子](../Images/f701cf22e0f076b20c8d74bfee229971.png) ![我希望它看起来像的粗略图像](../Images/ea170db4e94b51d47710f04ff807cff5.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T19:17:26.120

这可以通过 CSS 和对表格的一些 HTML 修改来完成。

如果我理解正确，每个文件夹都在它自己的表中。所以你可以做的是`float:left`每个包含一个文件夹的表。

这将水平显示文件夹，同时保持在其包含元素内。像这样（使用你的代码）：http: [//jsfiddle.net/fy9Dh/](http://jsfiddle.net/fy9Dh/)

如果您希望文本出现在文件夹下，则需要添加另一个`<td>`. 因此，您的表格将有两个`<td>`包含图像，另一个包含链接。例如：

```
<table width="100%"  border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td width="4%" height="38">
            <div align="center">
                <span class="style1"><span class="style2"><img src="_css/folder.png"></span></span>
            </div>
        </td>
    </tr>
    <tr>
        <td width="20%"><span class="style2"><a href="browse.php?path='.$enc.'">'.$name.'</a></span></td>
        <td width="16%"><span class="style2"></span></td>
        <td width="60%"><span class="style2"></span></td>
    </tr>
</table> 
```

这是最终产品：http: [//jsfiddle.net/ZcAmP/](http://jsfiddle.net/ZcAmP/)

**最后一点：**这确实不是 HTML 表格的正确用法。应该使用表格来显示数据。

# objective-c - IOS5编程和Objective C中的依赖注入

> ID：12193262
> 
> 赞同：3
> 
> 时间：2012-08-30T08:54:35.990
> 
> 标签：objective-c, ios5, dependency-injection

假设我有一个由应用程序创建的库或服务，并且我的 UIViewControllers 是从情节提要中提供的。我想在创建它们时使用[依赖注入](http://jamesshore.com/Blog/Dependency-Injection-Demystified.html)将这些对象传递给 ViewController。

1.  定义包含常用实用功能的服务或类的最佳位置在哪里？我可以使用单例，但我正在探索其他选项，例如在将显示的第一个 UIViewController 中创建它。对象很可能是一些在不同 UIViewController 之间使用的逻辑，比如访问数据库，或者访问不同控制器之间共享的模型，或者业务/游戏逻辑。

2.  如何将该对象注入到将使用情节提要显示的第一个 UIViewController 中？

3.  执行 segue 时，是否有某种方法可以调用下一个 UIViewController 的初始化程序以传递依赖项？据我所知，当代码到达 prepareForSeqgue 时，已经创建了下一个要显示的 UIViewController。

基本上，我想做这样的事情：

```
-(void) hypotheticalApplicationStart
{
   self.gameLogic = [[GameLogic alloc] init];
} 
```

然后在创建第一个 UIViewController 并推送以查看时：

```
-(void) hypotheticalDisplayFirstViewController
{
   UIViewController* controller = [[ MyView alloc] int];
   [controller setGameLogic:self.gameLogic)];

   // display controller
} 
```

*抱歉有任何代码拼写错误或语法错误，我刚刚开始学习 Objective C 和 IOS5 编程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:54:05.060

您可以在 GitHub 上选择任何[Cocoa 依赖注入框架。](https://github.com/search?q=Dependency+Injection+objective-c&p=1&ref=searchbar&type=Repositories&l=)

# c# - Form.Owner - 拥有的表单不会递归关闭/隐藏

> ID：12193265
> 
> 赞同：2
> 
> 时间：2012-08-30T08:54:40.717
> 
> 标签：c#, .net, winforms

[MSDN 文档](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.owner.aspx)指出：

> 当一个表单被另一个表单拥有时，它会与所有者表单一起关闭或隐藏。例如，考虑由名为`Form2`的表单拥有的名为 的表单`Form1`。如果`Form1`被关闭或最小化，`Form2`也被关闭或隐藏。

显然隐藏不是递归工作？当我有一堆 4 个相互作为父母的表格时（`GrandChildForm.Owner = Child; ChildForm.Owner = ParentForm;`等等），最小化其中的任何一个只会最小化它的直接子级。

关闭其中一个表单时的类似效果，仅引发直接子级的 FormClosing/Closed 事件，但不会引发其他访问者。[同样，文档](http://msdn.microsoft.com/en-us/library/system.windows.forms.formclosingeventargs.aspx)没有说明这不能递归地工作：

> 如果表单有任何子表单或拥有的表单，`FormClosing`则还会为每个表单引发一个事件。如果任一表单取消事件，则不会关闭任何表单。

我想要达到的目标：

*   最小化/恢复一个表单也应该最小化/恢复它的所有祖先。
*   关闭一个表单应该沿着表单的层次结构一直到“最小”的孩子，如果他们中的任何一个决定不关闭（`FormClosingEventArgs.Cancel = true;`），那么交易就结束了。

这应该使用额外的事件处理（订阅所有者的//事件）来实现`FormClosing`还是`FormClosed`我`SizeChanged`在这里遗漏了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:31:03.263

您可以从此类继承您的表单：

```
public class AdvancedForm : Form
{
    protected override void OnFormClosing(FormClosingEventArgs e)
    {
        foreach (Form f in this.OwnedForms)
        {
            f.Close();
        }

        base.OnFormClosing(e);
    }

    protected override void OnSizeChanged(EventArgs e)
    {
        base.OnSizeChanged(e);

        foreach (AdvancedForm f in this.OwnedForms)
        {
            switch (this.WindowState)
            {
                case FormWindowState.Minimized:
                case FormWindowState.Normal:
                    f.WindowState = this.WindowState;
                    break;

                case FormWindowState.Maximized:
                    // just restore owned forms to their original sizes when parent form is maximized
                    f.WindowState = FormWindowState.Normal;
                    break;
            }

            // OnSizeChanged must be called, as changing WindowState property
            // does not raise SizeChanged event
            f.OnSizeChanged(EventArgs.Empty);
        }

    }
} 
```

或者只是在“Closing”和“SizeChanged”事件处理程序中使用此类的代码。

# spring-security - Spring LDAP 身份验证后引用用户名

> ID：12193267
> 
> 赞同：1
> 
> 时间：2012-08-30T08:54:43.147
> 
> 标签：spring-security, spring-ldap

> **可能重复：**
> [使用 Spring Security 时，在 bean 中获取当前用户名（即 SecurityContext）信息的正确方法是什么？](https://stackoverflow.com/questions/248562/when-using-spring-security-what-is-the-proper-way-to-obtain-current-username-i)
> [spring security如何检索用户名](https://stackoverflow.com/questions/9317376/spring-security-how-to-retrieve-username)

我使用 spring ldap 来验证我的网络应用程序，

```
<ldap-server id="sss" port="389"
             url="ldap://ldap.example.com:389/ou=active,ou=employees,ou=people,o=example.com?uid?sub"/>

<authentication-manager alias="authenticationManager">
    <ldap-authentication-provider
            server-ref="sss"
            role-prefix="ROLE_">
    </ldap-authentication-provider>
</authentication-manager> 
```

它可以工作，但我不知道如何在登录页面中填写用户名，因为我想将它显示在我的页面顶部。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T03:00:16.567

我找到了这个：

```
SecurityContextHolder.getContext().getAuthentication().getPrincipal() 
```

返回搜索到的条目。

# javascript - 单击时如何突出显示表 TD？

> ID：12193269
> 
> 赞同：2
> 
> 时间：2012-08-30T08:54:51.997
> 
> 标签：javascript, highlight, html-table

基本上我有一个像下面这样的表格网格，只是大了很多。

```
<table>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</table> 
```

并且iv使用CSS制作了所有60px x 60px的正方形，它们不会包含任何数据，但我希望能够单击各个正方形以便背景颜色发生变化，如果我再次单击它会返回原始背景颜色。但我希望能够突出显示尽可能多的正方形。我知道它会在 JavaScript 中，但我该怎么做呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T08:59:16.023

试试这个：

```
<table>
    <tr>
        <td>test 1</td>
        <td>test 2</td>
    </tr>
    <tr>
        <td>test 3</td>
        <td>test 4</td>
    </tr>
</table>​ 
```

和脚本

```
window.onload = function(){

    var all = document.getElementsByTagName("td");
    for (var i=0;i<all.length;i++) {
        all[i].onclick = inputClickHandler;       
    }
};

function inputClickHandler(e){
    e = e||window.event;
    var tdElm = e.target||e.srcElement;
    if(tdElm.style.backgroundColor == 'rgb(255, 0, 0)'){
        tdElm.style.backgroundColor = '#fff';
    } else {
        tdElm.style.backgroundColor = '#f00';
    }
}
​ 
```

[演示](http://jsfiddle.net/FBUmq/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T08:58:58.950

好吧，我将在 jQuery 中发布代码，因为我从不喜欢标准 JS 选择元素的方式.. ;)

```
$("td").click(function() {
    if($(this).css('background-color') == 'red') { $(this).css('background-color', 'green'); }
    else { $(this).css('background-color', 'red'); }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T08:57:08.317

在 jQuery 中：

```
$('td').click(function() {
    $(this).toggleClass('active');
}); 
```

见：http: [//jsfiddle.net/CpGVK/](http://jsfiddle.net/CpGVK/)

我喜欢 Mihai Lorga 的回答，因为它使用纯 JavaScript。然而 jQuery 更容易开发。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T08:57:16.690

```
$("td").click(function(){
    $(this).toggleClass("active");
}); 
```

像这样的东西

# sencha-touch-2 - NTLM 认证煎茶触摸

> ID：12193271
> 
> 赞同：1
> 
> 时间：2012-08-30T08:54:57.530
> 
> 标签：sencha-touch-2, odata, ntlm, sap-dotnet-connector

我想从共享点服务器检索数据。我使用 sap odata 连接器，但问题是它是 NTLM 身份验证。

现在我只收到一条错误消息：`401 Unauthorized`.

我可以配置代理来解决问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T19:31:12.060

不，你不能。但是，如果您将初始 HTML 文件放在 SharePoint 服务器上，这将负责身份验证

# vb.net - VB：打印所有字段的对象方法

> ID：12193274
> 
> 赞同：1
> 
> 时间：2012-08-30T08:55:08.253
> 
> 标签：vb.net, methods

我的目标是为一个对象编写一个*打印到控制台的方法*。该方法不需要参数，但仍然使用该对象。调用它看起来像：

```
Dim oBHKW As cBHKW
oBHKW.print() 
```

但是在 cBHKW 类中，如何使用 oBHKW 对象呢？我尝试了以下但没有成功。

```
Public Sub print(ByVal sender As Object)
Console.WriteLine(sender.ToString)
End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:03:14.270

使用扩展方法

```
Imports System.Runtime.CompilerServices

Module ObjectExtensions
  <Extension()>
  Public Sub Print(sender As Object)
    Console.WriteLine(sender.ToString())
  End Sub
End Module
Module Module1

  Sub Main()
    Dim obj As New TestObject()
    obj.Print()
  End Sub

End Module
Public Class TestObject

End Class 
```

您现在拥有的任何对象都可以调用“Print()”，它会将对象本身发送到方法。

[http://msdn.microsoft.com/en-us/library/bb384936.aspx](http://msdn.microsoft.com/en-us/library/bb384936.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:00:40.267

看看[我的关键字](http://msdn.microsoft.com/en-us/library/7e58sbke%28v=vs.71%29.aspx)

> Me 关键字提供了一种方法来引用当前执行代码的类或结构的特定实例。

所以像

```
Public Sub print() 
Console.WriteLine(Me.ToString) 
End Sub 
```

# sql - 使用非超级用户帐户获取大对象的实际数据

> ID：12193277
> 
> 赞同：1
> 
> 时间：2012-08-30T08:55:24.247
> 
> 标签：sql, database, hibernate, postgresql, plpgsql

环境：PostgreSQL 9.1

`TEXT`在 pg 9.0 之前，可以通过从 `pg_largeobject`表中选择相应的记录来获取大对象字段的实际数据。但是从 pg 9.0 开始，非超级用户不再允许访问该表。

但是，通过使用hibernate，相同的非超级用户帐户可以访问该`TEXT`字段的实际数据。所以我相信使用非超级用户帐户也可以“选择”该TEXT字段的实际内容。我该怎么做？

正如克雷格所建议的，我通过设置打开日志收集，`log_statement = 'all'`相关的日志是：

```
SELECT p.proname,p.oid  
FROM pg_catalog.pg_proc p, pg_catalog.pg_namespace n  
WHERE p.pronamespace=n.oid AND n.nspname='pg_catalog' 
AND ( proname = 'lo_open' or proname = 'lo_close' or proname = 'lo_creat' or proname = 'lo_unlink' 
or proname = 'lo_lseek' or proname = 'lo_tell' or proname = 'loread' or proname = 'lowrite'
 or proname = 'lo_truncate')

2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_open" (OID 952)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_open" (OID 952)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_lseek" (OID 956)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_tell" (OID 958)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_lseek" (OID 956)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_tell" (OID 958)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_lseek" (OID 956)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "loread" (OID 954)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "loread" (OID 954)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "loread" (OID 954)
2012-08-31 09:27:05 HKT LOG:  fastpath function call: "lo_close" (OID 953) 
```

它调用了几个 lo_XXX() 函数，但我不知道如何将其作为 PL/pgSQL 函数，以便我可以在 select 语句中简单地调用它。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:40:00.907

为什么不看看 Hibernate 在做什么呢？

在`postgresql.conf`设置`log_statement = 'all'`并重新加载或重新启动 PostgreSQL。在 Hibernate 中重新运行测试，看看发生了什么。

我猜我会说 Hibernate 正在使用[大对象](http://www.postgresql.org/docs/9.1/static/largeobjects.html)客户端接口，特别是 PgJDBC 的[大对象支持](http://jdbc.postgresql.org/documentation/91/largeobjects.html)。或者，它可能使用[JDBC 标准的 clob/blob 接口](http://docs.oracle.com/javase/tutorial/jdbc/basics/blob.html)来访问数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T13:23:27.327

阅读有关大型对象的文档时，我遇到了您问题的答案：lo_compat_privileges，它是 postgresql.conf 中的一个变量。此变量的值可以是 on 或 off。默认为关闭，打开是您所期望的。使用默认值执行 Postgresql 安全检查，这在 9.0 版之前不存在。如果此变量的值为“on”，则大多数新的安全检查未执行： [http ://www.postgresql.org/docs/9.2/static/runtime-config-compatible.html#GUC-LO-COMPAT-特权](http://www.postgresql.org/docs/9.2/static/runtime-config-compatible.html#GUC-LO-COMPAT-PRIVILEGES)。

安全检查保留在 postgresql 中，因此将是启用新安全检查并使用 GRANT 选项的最佳解决方案。

亲切的问候，

洛克

# php - 在 drupal 中使用 hook_form_alter 设置 webform 组件值

> ID：12193279
> 
> 赞同：4
> 
> 时间：2012-08-30T08:55:32.640
> 
> 标签：php, drupal, drupal-7, hook-form-alter

我已经使用 form_alter 函数来更改组件的值，但它不会更改并且默认值存储在数据库中。当我打印 $form 时，更新的值正在显示但未保存在数据库中。

```
 <?php 
function pahcom_form_edit_module_form_alter(&$form, &$form_state, $form_id) {   
        if($form_id =='webform_client_form_54')
        {           
            $new_value = rand(100000,10000000);
            $form['#node']->{'webform'}['components']['12']['value']=$new_value;            

        }
}

?> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T09:54:01.427

工作代码

```
<?php 
function pahcom_form_edit_module_form_alter(&$form, &$form_state, $form_id) {   
        if($form_id =='webform_client_form_54')
        {           
            $new_value = rand(100000,10000000);
            $form['submitted']['vendor_id']['#default_value']=$new_value;               
        }
}

?> 
```

# c - 内核如何知道当前线程是什么？

> ID：12193281
> 
> 赞同：16
> 
> 时间：2012-08-30T08:55:38.867
> 
> 标签：c, linux-kernel, kernel, arm

有人可以解释一下这段取自linux内核的代码片段[吗？](http://lxr.free-electrons.com/source/arch/arm/include/asm/)

```
/*
  * how to get the thread information struct from C
 */
 static inline struct thread_info *current_thread_info(void) __attribute_const__;

 static inline struct thread_info *current_thread_info(void)
 {
        register unsigned long sp asm ("sp");
        return (struct thread_info *)(sp & ~(THREAD_SIZE - 1));
} 
```

***问题：***

1.  什么是 `__attribute_const__`？
2.  这是做什么的 `register unsigned long sp asm ("sp");`
3.  为什么要`(struct thread_info *)(sp & ~(THREAD_SIZE - 1));`返回指向结构的指针？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-30T09:09:40.430

1.  属性`const`意味着返回的指针在程序执行期间将保持不变。实际上，这仅在一个线程的范围内是正确的，但我想不出编译器甚至会尝试优化线程之间的访问的任何情况。

2.  使用`register`并将`asm("sp")`一个变量绑定到名为 的硬件寄存器`sp`，即当前堆栈指针。这样，就不必用汇编程序编写代码来直接访问该寄存器。

3.  THREAD_SIZE 是一个常数，它给出了分配给线程堆栈的内存量。我假设它总是必须是 2 的幂，例如 8 KB 可能是一个典型值。

    然后，该表达式`~(THREAD_SIZE - 1)`给出了一个位掩码，用于消除实际的堆栈地址。对于 8 kB 堆栈，它将是`0xffffe000`.

    通过按位和堆栈指针值，我们得到分配给堆栈的最低地址。在这种架构上，线程信息存储在那里。这只是一个设计决定，他们本可以使用其他地方来存储信息。

    堆栈指针对于获取线程信息很有用，因为每个线程总是有自己的堆栈。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-30T09:14:56.407

Linux 中的内核堆栈具有固定大小（`THREAD_SIZE`- 2 页，或 x86 上的 8KB）。`struct thread_info`for a thread 保存在堆栈内存块的底部。请记住堆栈向下工作，因此堆栈指针最初指向内存块的末尾，并且随着数据被压入堆栈，堆栈指针向内存块的底部移动。当然，其他 CPU 架构可能会使用其他技术。

因此，如果您获取当前堆栈指针值，并屏蔽低位，您将获得指向`struct thread_info`使用当前堆栈的线程的指针。

该行：

```
register unsigned long sp asm ("sp"); 
```

告诉 GCC 将变量映射`sp`到 CPU 寄存器`sp`（对我来说，这里使用 16 位寄存器名称似乎很奇怪——这是来自实际的 Linux 源代码树吗？）。

`__attribute_const__`通常定义为`__attribute__((__const__))`当 GCC 是编译器时（对于 linux 内核还有什么别的吗？）。这告诉 GCC 该函数没有副作用 - 实际上它比这更强大：该函数仅使用参数并仅基于这些参数返回一个值。这可以为编译器提供一些优化机会——它可以假设没有全局变量被更改，甚至没有被读取（因此编译器可以自由地推迟更新它可能需要为“正常”函数调用更新的内存）。

# mercurial - 一些 Mercurial 基础知识

> ID：12193283
> 
> 赞同：0
> 
> 时间：2012-08-30T08:55:44.047
> 
> 标签：mercurial, branch

我很难进入 Mercurial，即使查看了几个指南/教程。（我一看到命令行参数就惊慌失措并没有帮助）。如果有人可以帮助我解决这些非常基本的问题，我将不胜感激：/

我想做什么： - 获取现有项目的副本。（我现在将此副本称为“我的”项目，将现有项目称为“主”项目）。- 然后，对我现在的项目进行更改。我不会上传到主项目，但是，如果主项目有变化，我希望将它们集成到我的项目中。- 我希望能够在多台计算机上处​​理我的项目，所以它不能只是在本地。- 我猜是这张照片：我想在不同的计算机上用“我的”代码（绿色版本）做各种各样的事情，同时仍然可以访问红色版本。最好是没有其他人可以访问我的绿色版本。

![分支示例](../Images/47bd0827d84c50f800c9fa725746569b.png)

我认为我应该做什么： - 从现有项目中克隆。我应该能够将以后的更新集成到我的分支中，对吧？- 以某种方式将克隆保存在某个地方，它仍然知道它与主项目相关......

TL;DR：我想我的问题是：如何创建一个仍然可以接收更新的在线分支？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:05:01.537

在不同的克隆中工作

首先创建功能克隆并进行一些更改

```
$ hg clone project feature1
$ cd feature1
$ hg update 3
$ echo 'print("Hello feature1")' > hello.py
$ hg commit -m "Greet feature1" 
```

现在检查当你从 feature1 拉取时会出现什么，就像你可以在提交之前使用 diff 一样。拉动的相应命令传入

```
$ cd ../project
$ hg incoming ../feature1 
```

注意：如果您想查看差异，您可以使用 hg incoming --patch 就像使用 hg log --patch 一样查看存储库中的更改。

如果您喜欢这些更改，请将它们拉入项目中

```
$ hg pull ../feature1 
```

编辑：

在 Mercurial 中，每个存储库都是独立的。当您克隆存储库时，新存储库将成为克隆时现有存储库的精确副本，但是除非您通过拉取或推送显式传输它们，否则其中任何一个的后续更改都不会显示在另一个中。

来自 mercurial [guide](https://www.mercurial-scm.org/guide)。

# java - java 从 InputStream 创建 InputStreamReader 对象

> ID：12193286
> 
> 赞同：0
> 
> 时间：2012-08-30T08:55:49.067
> 
> 标签：java, character-encoding, ascii, inputstream, inputstreamreader

我有一个接收上传文本文件的网络服务。所以在服务器端，我得到了一个**InputStream**对象，我尝试将它包装为一个**InputStreamReader**，并以“UTF8”作为字符集。但我注意到，当我上传以 US-ASCII 编码的文件时也可以工作。似乎 Java 可以自动将文件从所有其他字符集转换为 UTF8。我对吗？charset 属性是如何工作的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T08:57:53.073

UTF-8 是 US-ASCII 的超集

ASCII 是 7 位字符（0 到 127），这些在 US-ASCII 和 UTF-8 以及许多其他字符集中没有变化。大多数字符集不同的地方是高位字节（128 到 255） 在 US-ASCII 的情况下，它是未定义的，对于 ISO-8859-1，这些字符不变，允许最多 255 个字符，在 UTF-8 中，字符是编码为使用 2 到 4 个字节，因此它最多可以表示 0x10FFFF 或 128K 个字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:04:30.890

为什么？如果您要上传文件，只需使用 InputStream。您不想将文件数据转换为 UTF-16，然后再转换回可能的不同编码。

只需复制字节。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T08:57:47.580

不，Java 通常不会自动将一个字符集转换为另一个字符集，*尤其是*当您明确告诉它要使用哪个字符集时。

但问题是 UTF-8 与 ASCII 兼容。这意味着每个有效的 ASCII 流也自动成为有效的 UTF-8 流，并且仅包含以 UTF-8 编码的 ASCII 字符的文本也是有效的 ASCII。

因此，如果您打算只接受 ASCII 和 UTF-8 输入，那么将其全部视为 UTF-8 是完全有效的。如果您还计划支持其他编码，那么您将需要某种方式来传输有关正在使用的实际编码的信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T08:57:48.270

这仅适用于 US-ASCII 是 UTF-8 的子集（每个 ASCII 文件也是相同数据的有效 UTF-8 文件）。

试试别的，它会坏的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-30T08:58:36.127

UTF-8 与 ASCII 兼容，即每个 ASCII 文档也是有效的 UTF-8。引用[维基百科](http://en.wikipedia.org/wiki/Utf8)：

> [UTF-8] 旨在向后兼容 ASCII 并避免 UTF-16 和 UTF-32 中字节顺序和字节顺序标记的复杂性。
> 
> [...] Unicode 的前 128 个字符与 ASCII 一对一对应，使用与 ASCII 具有相同二进制值的单个八位字节进行编码，从而使有效的 ASCII 文本也成为有效的 UTF-8 编码的 Unicode。

所以 Java 仍然将您的流视为 UTF-8。如果您尝试使用 UTF-8 阅读器使用 UTF-16 或 UTF-32，您将得到垃圾。

# iphone - UIPopoverController presentPopoverFromRect 崩溃

> ID：12193291
> 
> 赞同：1
> 
> 时间：2012-08-30T08:56:20.767
> 
> 标签：iphone, ios, uipopover

我正在尝试在屏幕上的某处创建一个简单的弹出框，但由于某种原因它一直在崩溃。它没有给我任何错误（僵尸对象已启用）

```
UIViewController *viewController = [[UIViewController alloc] init];
UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];
view.backgroundColor = [UIColor redColor];
viewController.view = view;

UIPopoverController *popover = [[UIPopoverController alloc] initWithContentViewController:viewController];
[popover presentPopoverFromRect:CGRectMake(0, 0, 100, 100) inView:self.view.superview permittedArrowDirections:UIPopoverArrowDirectionDown animated:YES]; 
```

我只是想在随机位置创建一个弹出框，这不可能吗？

编辑：也试过这样

```
@property (nonatomic, retain) UIPopoverController *popover;

@synthesize popover = _popover;

UIViewController *viewController = [[UIViewController alloc] init];
viewController.view.backgroundColor = [UIColor redColor];

_popover = [[UIPopoverController alloc] initWithContentViewController:viewController];
_popover.delegate = self;
[_popover presentPopoverFromRect:CGRectMake(0, 0, 200, 200) inView:self.view permittedArrowDirections:UIPopoverArrowDirectionDown animated:YES]; 
```

EDIT2：它可能是相关的，我忘了提到，但是这个代码正在另一个视图中被调用。

这很好用！

```
UIViewController *viewController = [[UIViewController alloc] init];
viewController.contentSizeForViewInPopover = CGSizeMake(200, 200);
viewController.view.backgroundColor = [UIColor redColor];

UIPopoverController *popver1 = [[UIPopoverController alloc] initWithContentViewController:viewController];
[popver1 presentPopoverFromRect:CGRectMake(250, 200, 200, 200) inView:self.view permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];

DocumentViewController *document = [[DocumentViewController alloc] initWithIssue:_readerModel.currentIssue];
[self.navigationController pushViewController:document animated:YES]; 
```

当我在 DocumentViewController 中调用相同的 EXACT 代码时，它不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:40:05.457

嗯。在这里看不到崩溃的原因（当我测试它时代码工作正常）。

**但是**：如果`self.view.superview`您的代码是这样的`nil`，它将崩溃并显示如下消息

```
 [...] Popovers cannot be presented from a view which does not have a window [...] 
```

**并且**：如果您想`popover`正确呈现，还需要进行更多修复：

*   在你的设置`contentSizeForViewInPopover`属性`viewController` 来管理你的真实大小`popover`。

*   更改`UIPopoverArrowDirectionDown`为`UIPopoverArrowDirectionAny` （尤其是当您使用 rect with `origin=(0,0)`to present from 时）。否则你将看不到`popover`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T10:06:07.253

您可以在显示弹出窗口之前检查窗口是否为零

`if (self.view.window != nil)`

你也在`viewDidLoad`OR中调用上面的代码`viewWillAppear`吗？

`viewDidAppear`您可以从方法或`didMoveToWindow`方法中尝试相同的代码吗

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:07:22.117

我想您应该将 popover 定义为属性，而不是局部变量

# java - 用于输出到 OpenGL（交互式）和 SVG（用于打印）的 Java 库

> ID：12193294
> 
> 赞同：4
> 
> 时间：2012-08-30T08:56:28.537
> 
> 标签：java, svg, shared-libraries, jogl, vector-graphics

我正在寻找一个具有多个输出后端的 Java 库：

*   它应该支持 OpenGL 进行交互使用（以获得硬件加速）
*   它应该具有 SVG 导出功能 - 最好使用 CSS，以允许在例如 inkscape 中进行编辑 - 以获得良好的打印质量
*   它必须是跨平台的（Linux/Win/OSX）

现在，我主要使用**Apache Batik**。非常好：我可以拥有监听器、使用样式表并导出为各种格式，包括可编辑的 SVG。*而且我需要能够微调打印的图形*。但是，对于我的一些用例，它变得*太慢了*。SVG XML DOM 有很多开销；它花费大量时间检查 CSS 类、检查侦听器等 - 我需要更快的东西。

我一直对**Cairo**感兴趣，但似乎 GTK3-Cario + java-gnome 工具链还不适用于 Win32。

**Clutter**也很有希望，但不幸的是，它似乎没有 Java 绑定。它对 3D 使用 OpenGL，对 2D 使用 Cairo。

你知道一个 OpenGL 的交互式图形库，它可以导出为可编辑的 SVG 文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T00:58:55.593

也许你应该考虑 QT-Jambi；（[https://github.com/qtjambi/qtjambi](https://github.com/qtjambi/qtjambi)）。它在包括移动设备在内的大多数平台上都得到了加速和支持。

# google-maps - jQuery Mobile 事件触发和时间混乱中的 Google 地图与地图上奇怪的灰色填充

> ID：12193310
> 
> 赞同：0
> 
> 时间：2012-08-30T08:57:27.827
> 
> 标签：google-maps, cordova, jquery-mobile

我正在为移动设备制作商店定位器应用程序。数据库查询运行并获取距离和 lan、lat 值等，并在页面上显示最近的商店。

然后用户可以点击“在地图上查看”以在谷歌地图上查看商店和当前位置。这是来自 ajax() 成功回调的代码的主要部分：

```
 success: function(result){

                var rowCount = result.name.length;
                if(rowCount <= 0){
                    $('span.locatorResults').html("There were no stores found within your specified radius.");
                }else{

                    $( '#storeLocatorMapDisplay' ).live( 'pageshow',function(event){
                        initializeMapAll(); //This initialise SHOULD be called while the map_canvas div is in the DOM. This is why we have to do hacky workaround of resizing etc.. 
                    });

                    $('span.locatorResults').html("There are " + rowCount + " results within a " + result.radius + " mile radius of your current location:<br /><br />");

                    for (var i = 0; i < rowCount; i++) {

                        var storelatlng = new google.maps.LatLng(
                            parseFloat(result.storeLat[i]),
                            parseFloat(result.storeLon[i])
                        );
                        $( '#storeLocatorMapDisplay' ).live( 'pageshow',function(event){
                            createMarkerAll(storelatlng, result.name[i], result.address[i]);
                        });
                    }
                    $( '#storeLocatorMapDisplay' ).live( 'pageshow',function(event){
                        createMarkerCurrentLocation(currentlatlng);
                    });
                }                   
            } 
```

我的问题是，我在地图区域周围有很多灰色填充，我阅读了它，因为地图在 map_canvas div 加载到 DOM 之前被初始化。

所以我决定在加载地图页面时初始化地图和标记，但这需要很多 .live('pageshow') 事件。

我的问题是......在创建标记之前和将地图画布加载到 DOM 之前，是否有更简单的方法来初始化地图？？？请记住，标记（据我所知）必须在 ajax 请求的成功回调中生成。

谢谢你的时间 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:22:39.957

以下示例完全按照您的意愿工作。标记是在 AJAX 成功函数内创建的。出于测试原因，我创建了一个包含纬度、经度的 cityList 数组。应该删除这个 cityList 数组，并且应该从 AJAX 响应数据中检索数据。

```
<!doctype html>
<html lang="en">
   <head>
        <title>jQuery mobile with Google maps - Google maps jQuery plugin</title>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3&sensor=false&language=en"> </script>
        <script type="text/javascript">

            var demoCenter = new google.maps.LatLng(41,-87),
                map;

            function initialize()
            {
                map = new google.maps.Map(document.getElementById('map_canvas'), {
                   zoom: 7,
                   center: demoCenter,
                   mapTypeId: google.maps.MapTypeId.ROADMAP
                 });
            }

            function addMarkers()
            {
                // perform your AJAX here. In this example the markers are loaded through the cityList array
                $.ajax({
                    type:'post',
                    url:'test.html',
                    data:'',
                    success:function(data)
                    {

                        // imagine that the data in this list
                        // will be retrieved from the AJAX response
                        // i used the cityList array just for testing
                        var cityList = [
                                ['Chicago', 41.850033, -87.6500523, 1],
                                ['Illinois', 40.797177,-89.406738, 2]
                            ],
                            marker,
                            i,
                            infowindow = new google.maps.InfoWindow();

                        for (i = 0; i < cityList.length; i++) 
                        {  
                            marker = new google.maps.Marker({
                                position: new google.maps.LatLng(cityList[i][1], cityList[i][2]),
                                map: map,
                                title: cityList[i][0]
                            });

                            google.maps.event.addListener(marker, 'click', (function(marker, i) {
                                return function() {
                                    infowindow.setContent(cityList[i][0]);
                                    infowindow.open(map, marker);
                                }
                            })(marker, i));
                        }
                    }
                });
            }

            $(document).on("pageinit", "#basic-map", function() {
                initialize();
                addMarkers();
            });

        </script>
    </head>
    <body>
        <div id="basic-map" data-role="page">
            <div data-role="header">
                <h1><a data-ajax="false" href="/">jQuery mobile with Google maps v3</a> examples</h1>
                <a data-rel="back">Back</a>
            </div>
            <div data-role="content">   
                <div class="ui-bar-c ui-corner-all ui-shadow" style="padding:1em;">
                    <div id="map_canvas" style="height:350px;"></div>
                </div>
            </div>
        </div>      
    </body>
</html> 
```

# sql - 构建查询以返回用户和用户的朋友

> ID：12193320
> 
> 赞同：2
> 
> 时间：2012-08-30T08:58:04.760
> 
> 标签：sql

我有一个朋友列表表，我在其中保持两个用户之间的友谊关系，然后加入他们的帖子等：

```
(user_a, user_b, relation type) 
```

以下是一些示例数据：

```
u_f_id | user_a | user_b | relation_type 
----------------------------------------
  12   | 20     |  23    |    1           //friend
  13   | 30     |  20    |    2           //family 
```

我还有一个用户表，我在其中保存用户的姓名和详细信息。

我正在寻找一个返回用户*和*他们的朋友的查询。例如，如果它出现在`user_a`or中，我需要用户 20 的朋友`user_b`。

我尝试了以下方法：

```
SELECT CASE
         WHEN user_friends.user_a = 20 THEN user_friends.user_b
         ELSE user_friends.user_a
       END AS friend,
       user_friends.*
FROM   user_friends
WHERE  user_friends.user_a = 20
        OR user_friends.user_b = 20 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:09:39.950

这是您的用户。

```
select 
    case user_a when 20 then user_b else user_a end as user_id
from user_friends
where 20 in (user_a, user_b)
and relation_type=1
union 
select 20 
```

# php - 在 PHP 中使用 CURL 通过 REST API 在 JIRA 中添加问题

> ID：12193325
> 
> 赞同：3
> 
> 时间：2012-08-30T08:58:22.913
> 
> 标签：php, rest, jira

我正在尝试构建一个应用程序，该应用程序将使用 REST API 向 JIRA 写入问题，我尝试使用 CURL 在 PHP 中实现它，但我收到一条错误消息，告诉我“请求的资源不允许指定的 HTTP 方法（方法不是允许）。” 你能看看并告诉我我做错了什么吗？：

```
 <?php

$handle=curl_init();
$headers = array(
    'Accept: application/json',
    'Content-Type: application/json',
    'Authorization: Basic YWRtaW46eWFoYWxh'
);

$data = <<<JSON
{
    "fields": {
       "project":
       { 
          "key": "SYNC"
       },
       "summary": "No REST for the Wicked.",
       "description": "Creating of an issue using ids for projects and issue types using the REST API",
       "issuetype": {
          "name": "Bug"
       }
   }
}
JSON;

curl_setopt_array(
$handle,
array(
CURLOPT_URL=>'http://localhost:8084/rest/api/2/issue/',
CURL_POST=>true,
//CURLOPT_HTTPGET =>true,

CURLOPT_VERBOSE=>1,
CURLOPT_POSTFIELDS=>$data,
CURLOPT_SSL_VERIFYHOST=> 0,
CURLOPT_SSL_VERIFYPEER=> 0,
CURLOPT_RETURNTRANSFER=>true,
CURL_HEADER=>false,
CURLOPT_HTTPHEADER=> $headers,
//CURLOPT_USERPWD=>"admin:yahala"
//CURLOPT_CUSTOMREQUEST=>"POST"
)

);
$result=curl_exec($handle);
$ch_error = curl_error($handle);

if ($ch_error) {
    echo "cURL Error: $ch_error";
} else {
    echo $result;
}

curl_close($handle);

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:20:06.110

我认为它是 CURLOPT_POST，而不是 CURL_POST。由于 CURLOPT_POST 没有正确设置，它可能会默认为 GET ，这对于该方法是不允许的。

# c# - 多列和一个字典之间的映射是否可能？

> ID：12193326
> 
> 赞同：0
> 
> 时间：2012-08-30T08:58:26.767
> 
> 标签：c#, entity-framework, ef-code-first

我有以下 DB Schema 和 POCO 类。

```
Table ClassA
[ID] int NOT NULL

Table DPV
[ClassName] nvarchar(max) NOT NULL
[ObjectID] int NOT NULL
[Name] nvarchar(max) NOT NULL
[Value] nvarchar(max) NULL 
```

```
public class ClassA
{
   public int ID { get; set; }
   public Dictionary<string, string> AssociatedDPVs { get; set; }
} 
```

是否可以将上述模式映射到 POCO，以便当我`ClassA`从数据库上下文加载 a 时，`ClassA.AssociatedDPVs`将填充类似于以下内容：

```
DPVs.Where(d => d.ClassName == "ClassA" && d.ObjectID == this.ID)
    .ToDictionary(d => d.Name, d => d.Value) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:12:39.743

无法对其进行映射。EF 只能映射数据库关系，但您可能可以通过解决方法来实现它（未经测试 - 只是一个想法）。

伪代码：

```
var objectContext = ((IObjectContextAdapter)dbContext).ObjectContext;
objectContext.ObjectMaterialized += (sender, e) => {
    var context = sender as ObjectContext; 
    var entity = e.Entity as ClassA;
    if (entity != null) {
       entity.AssociatedDPVs = context.CreateObjectSet<DPV>()
                                      .Where(d => d.ClassName == "ClassA" && d.ObjectID == entity.ID)
                                      .ToDictionary(d => d.Name, d => d.Value);
    }
}; 
```

这应该有望解决检索 DPV 的问题。如果您还需要持久化 DPV，则必须覆盖`SaveChanges`并`DbContext`告诉 EF 应该添加、修改或删除哪些 DPV（因此您必须拥有此信息，`Name`并且`Value`不会告诉您）。

# windows - 回收站刷新

> ID：12193332
> 
> 赞同：0
> 
> 时间：2012-08-30T08:58:39.917
> 
> 标签：windows, visual-c++, windows-shell

如果我手动删除 Recycler 文件夹的内容（c++），我如何通知 shell 文件删除？以便出现清空回收站图标？ **编辑**我使用 DeleteFile() 删除文件。

```
 typedef int (CALLBACK*  UpdateRecycleBinIcon)(void);
 int  x = 0;
HINSTANCE dllHandle = NULL;
dllHandle = LoadLibrary(_T("shell32.dll"));
 UpdateRecycleBinIcon update = NULL;
 if(dllHandle != NULL) {
     update = (UpdateRecycleBinIcon)GetProcAddress(dllHandle, "SHUpdateRecycleBinIcon");
     if(update != NULL)

           x = update();
        printf("%d\n",x);
 } 
```

它打印 1。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:06:26.500

我认为你必须调用[SHChangeNotify](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762118%28v=vs.85%29.aspx)函数。

编辑示例：

```
// Get an IDList for the recycle bin.
LPITEMIDLIST a_pstIDList = NULL;
SHGetSpecialFolderLocation( NULL, CSIDL_BITBUCKET, &a_pstIDList );
// Get icon index in the system image list.
SHFILEINFO sfi = {0};
SHGetFileInfo((LPCSTR)a_pstIDList, 0, &sfi, sizeof(SHFILEINFO), SHGFI_PIDL | SHGFI_SYSICONINDEX);

SHChangeNotify(SHCNE_UPDATEIMAGE, SHCNF_DWORD, 0, sfi.iIcon); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T10:46:22.567

一旦您自己删除了文件，您可以尝试调用 SHEmptyRecycleBin()，这可能会导致 shell 更新。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T17:41:49.853

也可以使用未记录的 shell32.dll 函数刷新回收站图标`SHUpdateRecycleBinIcon`。请参阅此 VB6 示例： [如何清空我的回收站？](http://social.msdn.microsoft.com/Forums/en-US/vblanguage/thread/b3157375-2487-4555-b259-7fe4a24e4855/)

# c# - visual studio add in 获取项目信息并将其传递给现有的c#程序并在视图中显示结果

> ID：12193334
> 
> 赞同：1
> 
> 时间：2012-08-30T08:58:50.587
> 
> 标签：c#, visual-studio-2010, add-in

我来自 Java 背景，对`.net`. 我们编写了一个应用程序，`c#`它扫描源代码文件并计算代码度量缺陷密度和代码中不同类型的缺陷等各种事物，并返回包含所有值的 xml 文件。我想做的是创建一个插件（我相信插件类似于eclipse的插件），它将获取源代码的路径并将其传递给工具当前c#代码中的方法并获得结果值并将它们显示为视图中具有树结构的表。如何使用 c# 在 Visual Studio 中完成这项工作？帮帮我。该插件是针对 VS 2010 终极版的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:20:34.907

首先，您可以将其作为 AddIn 或 Extension。你应该让自己获得[VS SDK](http://www.google.de/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CCYQFjAA&url=http://www.microsoft.com/en-us/download/details.aspx?id=2680&ei=3y8_UJSfMOaO4gTjuICICg&usg=AFQjCNFomfqr0oRI089zvgO871w_eRM9zQ&sig2=y0FJfDao3JTOWE1abtamTA)并从创建简单的东西开始。有很多命名空间和类处理你提到的事情，所以开始学习曲线非常困难。在这些插件或扩展中，您可以完全自由地显示数据、触发您的工具何时运行等。

# extjs - 向 MessageBox 提示添加参数

> ID：12193336
> 
> 赞同：1
> 
> 时间：2012-08-30T08:58:52.090
> 
> 标签：extjs, callback, parameter-passing, extjs4.1

我使用这个提示语句并想将另一个变量传递给回调函数：

**正常行为：**

```
Ext.MessageBox.prompt('Name', 'New folder name:', this.callbackCreateFolder);

callbackCreateFolder: function(btn, text) {
         console.log( btn ); // value as expected
         console.log( text ); // value as expected
} 
```

**我想要的是：**

```
Ext.MessageBox.prompt('Name', 'New folder name:', this.callbackCreateFolder(oRecord));
callbackCreateFolder: function(btn, text, oRecord) {
         console.log( btn ); // undefined
         console.log( text ); // undefined
         console.log( oRecord ); // value as expected
} 
```

将附加参数传递给函数的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:06:34.017

```
Ext.require('*');

function foo(btn, text, s1, s2) {
    console.log(s1, s2);
}

Ext.onReady(function(){
    Ext.MessageBox.prompt('Name', 'New folder name:', Ext.Function.bind(foo, null, ['bar', 'baz'], 2));
}); 
```

# php - 我的php函数有什么错误？

> ID：12193340
> 
> 赞同：-3
> 
> 时间：2012-08-30T08:59:05.700
> 
> 标签：php

我有一个功能。多次重复使用，没有任何问题。但现在我无法调用该函数。**这是我的功能**

```
function a($a,&$b){
        // functions code here
        } 
```

我像这样调用函数。

```
a(3,null); 
```

我的代码有什么错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:01:26.750

您正在尝试`null`通过引用传递。

```
function a($a,&$b){
        // functions code here
        }

a(3,$otherVar);
// A copy of 3 is sent to the function.
// $otherVar is actually passed to the function 
```

你可以在紧要关头也使用这样的东西：

```
$null = 0; // Throwaway variable
a($a, $null); 
```

但是如果你是通过引用传递的，你*为什么*要给它一个空值呢？当然，修改第二个变量内容的代码是出于某种目的吗？

顺便说一句，您所做的几乎是想要使用函数重载的完美示例，可惜 PHP 不支持这一点。

您可能要考虑的另一个想法 - 将数组作为参数传递给它，如下所示：

```
$myVars=array( 'first' => $a, 'second' => $otherVar);
a($myVars); 
```

您可以根据需要传递任意数量的项目，可以将其保留为通过引用传递，但最终会更改数组，而不是直接更改变量。在您的函数中，您可以简单地选择从不修改`first`并根据需要对`second`（如果存在）进行操作。

可以使用可选参数，但不像您想象的那么直观，并且不适用于您提供的示例：

```
function makecoffee($var, &$type = "cappuccino")
{
    return "Making a cup of $type.\n";
}
echo makecoffee(1);
echo makecoffee(1,null); 
```

输出：

```
Fatal error: Only variables can be passed by reference in 
/var/www/test.php on line 7 
```

这是因为`null`仍然不能通过引用传递。但是，您可以使用第一个回声而不会出错。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:04:27.347

你会看到你收到一条错误消息

```
PHP Fatal error:  Only variables can be passed by reference in SOMETHING.php on line xxx 
```

这是因为你的函数说它的第二个参数是一个引用（即`&$b`），这需要你传递一个变量。您实际上传递`null`的是不是变量，因此是问题所在。

如果您需要第二个参数作为参考（解决此问题的一种方法可能是删除该要求）传递一个设置为 null 的变量。例如

```
$c = null;
a(3, $c); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-30T09:01:14.343

它应该是 ：

```
 function a($a,$b=false){
        // functions code here
    } 
```

# javascript - 以 HH:mm 格式计算时间差

> ID：12193342
> 
> 赞同：9
> 
> 时间：2012-08-30T08:59:08.687
> 
> 标签：javascript, timestamp

我有两个`HH:mm`格式的时间戳，我需要计算它们之间的差异，表示相同`HH:mm`格式的时间间隔。

JavaScript中是否有任何实用程序可以实现这一点？我尝试使用`Date`对象，但我找不到有用的东西......你能帮帮我吗？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-30T09:01:28.897

您可以将两个日期相减，结果将以毫秒为单位。

来自[Mozilla 开发者网络：](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date#Example:_Calculating_elapsed_time)

```
// using static methods
var start = Date.now();
// the event you'd like to time goes here:
doSomethingForALongTime();
var end = Date.now();
var elapsed = end - start; // time in milliseconds 
```

由于 Date 有一个接受毫秒作为参数的构造函数，因此您只需执行以下操作即可将其重新转换为 Date

```
var difference = new Date(elapsed);
//If you really want the hours/minutes, 
//Date has functions for that too:
var diff_hours = difference.getHours();
var diff_mins = difference.getMinutes(); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-30T09:23:15.683

像这样的东西：

```
​var t1 = '12:04'.split(':'), t2 = '3:45'​​​​​​​.split(':');
var d1 = new​ Date(0, 0, 0, t1[0], t1[1]),
    d2 = new Date(0, 0, 0, t2[0], t2[1]);
var diff = new Date(d1 - d2); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:05:32.677

你可以试试这个

[https://github.com/layam/js_humanized_time_span](https://github.com/layam/js_humanized_time_span)

并格式化输出？

或者如果使用 jquery 你可以试试

[http://timeago.yarp.com/](http://timeago.yarp.com/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T09:07:06.487

假设 tim1 是像“09:15”这样的字符串，而 tim2 是像“19:05”这样的字符串，那么 tim2 和 tim1 之间的差异可以通过以下 javascript 代码得出：-

```
var tim1='09:15',tim2='19:05';
var ary1=tim1.split(':'),ary2=tim2.split(':');
var minsdiff=parseInt(ary2[0],10)*60+parseInt(ary2[1],10)-parseInt(ary1[0],10)*60-parseInt(ary1[1],10);
alert(String(100+Math.floor(minsdiff/60)).substr(1)+':'+String(100+minsdiff%60).substr(1)); 
```

# c# - 在 SQL Server 2005 中删除默认用户后出错

> ID：12193345
> 
> 赞同：0
> 
> 时间：2012-08-30T08:59:11.243
> 
> 标签：c#, sql-server-2005

我用 SQL Server 2005 在客户端电脑上安装了我的软件，它运行正常，直到我删除了管理员、用户和 nt 内置帐户。

现在软件连接但不能保持连接状态。

我收到这个错误。^

> *错误：ExecuteReader 需要打开且可用的连接。*

在用户删除之前没有错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:05:32.237

您可能已经删除了应用程序用来连接数据库的用户帐户 - 您是否使用集成安全性？检查连接字符串。

# android - 无法通过 ?attr 设置标题首选项图标

> ID：12193355
> 
> 赞同：4
> 
> 时间：2012-08-30T09:00:10.483
> 
> 标签：android, android-preferences

我创建了preference-headers.xml。我想通过 设置标题图标`?attr`，但它不显示图标。

```
<?xml version="1.0" encoding="utf-8"?>
<preference-headers xmlns:android="http://schemas.android.com/apk/res/android" >

<header
    android:fragment="com.armsoft.mtrade.activities.PreferencesActivity$PrefsAboutFragment"
    android:icon="?attr/menuIconAbout"
    android:title="@string/about" />

</preference-headers> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-27T11:08:00.107

我通过混合 headers.xml 和更改图标解决了这个问题。

```
public void onBuildHeaders(List<Header> target) {
    this.loadHeadersFromResource(R.xml.pref_headers, target);
    // search for the current header by comparing the titelRes Ids
    for (Header header : target) {
        if (header.titleRes == R.string.pref_style_title) {
            int themeDependIcon = ... //load the needed icon
            header.iconRes = themeDependIcon ;
            break;
    }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T16:28:13.527

我对多个主题的标题图标有同样的问题。

唯一的方法是在代码中生成标题......

```
@Override
public void onBuildHeaders(List<Header> target) {
    final TypedArray a = getTheme().obtainStyledAttributes(R.style.<YourTheme>, new int[] = { R.attr.icon1, R.attr.icon2});
    final Header h1 = new Header();
    h1.title = "title 1";
    h1.iconRes = a.getResourceId(0, 0);
    h1.fragment = "<your_fragment_path>";
    h1.fragmentArguments = new Bundle();
    h1.fragmentArguments.putString("id", "fragment1");
    final Header h2 = new Header();
    h2.title = "title 2";
    h2.iconRes = a.getResourceId(1, 0);
    h2.fragment = "<your_fragment_path>";
    h2.fragmentArguments = new Bundle();
    h2.fragmentArguments.putString("id", "fragment2");
    target.add(h1);
    target.add(h2);
    a.recycle();
} 
```

# c# - 仅由 XAML 设计器引发的 PhoneApplicationPage 子类化错误

> ID：12193358
> 
> 赞同：1
> 
> 时间：2012-08-30T09:00:22.313
> 
> 标签：c#, visual-studio-2010, xaml, inheritance, windows-phone-7.1

在我的 Windows Phone 7.1 应用程序中，我有一些以这种方式制作的页面：

```
<views:EntityListPage x:Class="Ribo.Smart.X.CustomersPage"
                      x:Name="MainWindow"
                      xmlns:views="clr-namespace:Ribo.Smart.X.Views"
                      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                      xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
                      xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
                      xmlns:controls="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls"
                      xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
                      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                      xmlns:interactivity="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                      mc:Ignorable="d"
                      d:DesignWidth="480"
                      d:DesignHeight="768" 
                      FontFamily="{StaticResource PhoneFontFamilyNormal}"
                      FontSize="{StaticResource PhoneFontSizeNormal}"
                      Foreground="{StaticResource PhoneForegroundBrush}"
                      Loaded="MainWindow_Loaded"
                      SupportedOrientations="Portrait"
                      Orientation="Portrait"
                      shell:SystemTray.IsVisible="True">
    <views:EntityListPage.Resources>
         ....
    </views:EntityListPage.Resources>

    ...
</views:EntityListPage> 
```

这或多或少是我观点背后的代码：

```
public partial class CustomersPage : EntityListPage
{
    public CustomersPage()
    {
        InitializeComponent();
    }

    ... other stuff here ...
    ... of course I'm overriding all the methods of the base abstract class ...
    ... (see the ancestor definition) ...
} 
```

我的`EntityListPage`班级以以下方式定义：

```
public abstract class EntityListPage : PhoneApplicationPage
{
    ... a lot of stuff here! ...
} 
```

如果我运行此代码，一切正常，也没有任何类型的编译/构建错误！

但是如果我打开我的 CustomersPage 视图的 XAML 设计器，它就无法加载我的页面布局，并且会显示下一个错误（但它不会干扰项目！）：

```
Cannot create an instance of "EntityListPage". 
```

我无法弄清楚为什么设计师不能向我展示布局并给出错误，而在运行时一切正常，我完全没有问题/异常！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:00:56.307

很简单：问题就在你的`EntityListPage`，那是抽象的。

如果您将`abstract`子句删除到您的祖先类，并将所有方法转换为`virtual`方法（而不是`abstract`方法，否则您需要将整个类设置为`abstract`），那么设计器应该没有问题。

这是一个奇怪的错误，但可以管理...

希望这可以帮助！

# vbscript - 通过vbscript打开outlook

> ID：12193364
> 
> 赞同：0
> 
> 时间：2012-08-30T09:01:04.377
> 
> 标签：vbscript, qtp, outlook.application

我想使用 Outlook 2010、Windows 7 和 IE8 发送电子邮件，获取“Outlook.Application”对象需要什么代码？

我试过：

```
Set objOutlook = CreateObject("Outlook.Application")
Set objOutlookMsg = objOutlook.CreateItem(0) 
```

但出现“需要对象”错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T22:32:35.427

您可能应该使用 CDO 之类的东西。

[在 WSH 中使用 CDO 发送电子邮件](http://www.aspfree.com/c/a/Windows-Scripting/Sending-Emails-Using-CDO-in-WSH/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:49:09.937

“需要对象”是 vbscript 告诉您您尝试调用不是对象的方法的方式，很可能它是 NULL（或`Nothing`）。您正在使用的唯一对象很`objOutlook`可能是`CreateObject`失败的。检查以确保 Outlook 已正确注册（应存在以下注册表项`HKEY_CLASSES_ROOT\Outlook.Application\CLSID`）。

另一个问题可能是如果您安装了 64 位版本的 office，因为 QTP 是一个 32 位应用程序，它无法创建 32 位对象（如此[处所述](https://stackoverflow.com/questions/2429477/cannot-use-createobject-from-vb-scripts-on-windows-7)），尽管它指的是**InprocServer**，但我不确定它是否适用于**LocalServer** s

# javascript - 无法从 iframe 捕获父窗口中发生的错误

> ID：12193365
> 
> 赞同：1
> 
> 时间：2012-08-30T09:01:07.700
> 
> 标签：javascript, internet-explorer, iframe, internet-explorer-7, try-catch

我有多框架应用程序，每个表单都在单独的框架中打开，并且可以使用父窗口中的一些 JS API。API 可以抛出异常（错误），但我无法在 iframe 中捕获它。它仅在 IE8 中复制。我已经在 IE8/IE9 和 Chrome 中检查过它。例如：
test.html

```
<html>
  <head>
    <script language="JavaScript" type="text/javascript">
      var g_fn = {};
      function onLoad() {
        g_fn.thrown_error = function() {
          throw new Error("Main window: error");
          return 1;
        }
        window.g_fn = g_fn;
      }

      function window_do() {
        try {
          g_fn.thrown_error();
        } catch (err) {
          alert("Error catched!");
        }
      }
    </script>
  </head>
  <body onload="onLoad();">
    <input type="button" value="do smth in window" onclick="window_do();"/>
    <iframe src="/iframe.html" />
  </body>
</html> 
```

iframe.html

```
<html>
  <head>
    <script language="JavaScript" type="text/javascript">
      var g_fn;
      function onLoad() {
        g_fn = window.parent.g_fn;
      }

      function iframe_do() {
        try {
          g_fn.thrown_error();
        } catch (err) {
          alert("Error catched!");
        }
      }

    </script>
  </head>
  <body onload="onLoad();">
    <input type="button" value="do smth in iframe" onclick="iframe_do();"/>
  </body>
</html> 
```

这是一个IE错误吗？任何解决方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:40:12.363

尝试这个：

```
g_fn = window.frameElement.g_fn; 
```

或者这样，如果`iframe`s 里面有`iframe`s：

```
g_fn = top.window.g_fn; 
```

# ios - 使用 Cocos2D for iPhone 绘制曲线

> ID：12193370
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:01:27.227
> 
> 标签：ios, cocoa-touch, cocos2d-iphone, bezier, curve

我正在使用 Cocos2D 制作一个简单的游戏。用户可以触摸和追踪小移动物体的路径。然后对象跟随路径。这类似于飞行控制游戏机制。

我怎样才能像那样移动对象。请帮助我摆脱这个问题。任何示例代码或教程都会对我有所帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:09:47.940

在您的 touchesEnded/touchesMoved 方法中尝试执行以下操作：

```
UITouch *touch = [touches anyObject];

if (touch) {
    CGPoint location = [touch locationInView:[touch view]];
    CGPoint convertedPoint = [[CCDirector sharedDirector] convertToGL:location];
    id animation = [CCMoveTo actionWithDuration:0.1 position:convertedPoint];
    [playerShip runAction:animation];
   } 
```

# android - 是否可以将安卓应用程序转换为黑莓应用程序？

> ID：12193372
> 
> 赞同：3
> 
> 时间：2012-08-30T09:01:30.883
> 
> 标签：android, blackberry

是否可以将安卓应用程序转换为黑莓应用程序？我读到它在 Blackberry PlayBook 上是可能的，但有限制，但它是可能的。我想知道我是否可以将安卓智能手机应用程序转换为在黑莓智能手机中运行。

提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T10:19:14.450

没有直接的方法可以将 android 应用程序转换为运行 RIM OS 操作系统的 BlackBerry 智能手机应用程序。RIM OS 的最新版本是 7.1。

但对于 BB 10 设备，宣布这些设备和[BB 10 操作系统将支持 Android 应用程序](http://www.brighthand.com/default.asp?newsID=18543&news=blackberry+10+android+player+RIM)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T11:02:20.763

Blackberry 10 和 Playbook 在 QNX 操作系统上运行。它们为加载 Android 应用程序提供了 Android 运行时环境。

使用操作系统版本 7 或更早版本的黑莓智能手机改为在黑莓的 java JVM 上运行，并且根本不支持 Android。

在 BB10 或 Playbook 上移植代码时会有很多限制。像版本应该至少为 2.3，不支持小部件。

您可以获取有关此网址的详细信息： [https ://developer.blackberry.com/android/apisupport/unsupportedapi_blackberry10_software_features.html](https://developer.blackberry.com/android/apisupport/unsupportedapi_blackberry10_software_features.html)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-07T17:57:15.043

有关新 BlackBerry 10 设备的 Android 应用程序运行时的信息，请访问[https://developer.blackberry.com/android/](https://developer.blackberry.com/android/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-30T09:05:53.477

在这里你可以做到！ [https://bdsc.webapps.blackberry.com/android/bpaa/](https://bdsc.webapps.blackberry.com/android/bpaa/)

# jquery - Jquery document.on 事件

> ID：12193373
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:01:32.803
> 
> 标签：jquery

这些事件处理有什么区别

```
 $(document).on("click","selector",function(event){

        }); 
```

和

```
 $("selector").live("click",function(event){

       }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:12:35.530

在第一种情况下，事件附加在“文档”DOM 上，对吗？

在第二种情况下，事件附加在“选择器”DOM 上，对吧？

第一个是由 jQuery 选择的：解决方案 1/ 中只有少数元素捕获事件（文档可以附加到每个事件），但在解决方案 2/ 中，页面的许多元素都在内存中，附加到事件。

例如 ：

```
$(".test").live("click",function(event){"do something"}
$(".test1").live("click",function(event){"do something1"}
$(".test2").live("click",function(event){"do something2"} 
```

3 个元素正在监听*点击*事件，对吧？

现在这些元素在一个 div “myDiv”

```
$("#myDiv").on("click",".test",function(event){"do something"}
$("#myDiv").on("click",".test",function(event){"do something"}
$("#myDiv").on("click",".test",function(event){"do something"} 
```

只有 myDiv 通过冒泡附加事件*点击*！

但是不要在*文档标签上使用**on*，在几个全局 div 上使用这个功能！

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:04:01.130

首先，该`.on()`方法是您应该使用的实际事件侦听器。

Second `.live()`曾经是 #1，但在最后一个版本中已被弃用，因此您不应再使用它。

工作方式相同，您可以将其称为相同方式。*

# ruby-on-rails - 无法访问不直接来自 ActiveRecord::Base 的模型

> ID：12193375
> 
> 赞同：1
> 
> 时间：2012-08-30T09:01:47.047
> 
> 标签：ruby-on-rails, activerecord, inheritance

我已经将一个`Rails 2.3.14`项目转换为`Rails 3.2.2` 我在使用不直接从以下的表时遇到问题`ActiveRecord::Base`

我有一个定义如下的模型：

```
class PauaServiceTable < ActiveRecord::Base
    def self.abstract_class?
       true
    end
    ..
    ..
 end 
```

我有很多课程都来自这个课程。例如：

```
 class Lookup < PauaServiceTable
    ...
 end 
```

在 Rails`console (3.3.2)`中，我可以实例化任何直接`Activerecord::Base`继承自的表，但任何继承自的表都会`PauaServiceTable`失败，并带有以下堆栈跟踪：

```
Loading development environment (Rails 3.2.2)
ruby-1.8.7-p334 :001 > l=Lookup.new
ActiveRecord::StatementInvalid: Mysql2::Error: Incorrect table name '': SHOW FULL FIELDS FROM ``
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:243:in `query'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:243:in `execute'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/abstract_adapter.rb:280:in `log'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activesupport-3.2.2/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/abstract_adapter.rb:275:in `log'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:243:in `execute'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/mysql2_adapter.rb:211:in `execute'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:257:in `execute_and_free'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:424:in `columns'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/connection_adapters/schema_cache.rb:12:in `initialize'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/model_schema.rb:228:in `call'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/model_schema.rb:228:in `default'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/model_schema.rb:228:in `[]'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/model_schema.rb:228:in `columns'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/model_schema.rb:243:in `column_defaults'
    from /Users/george/.rvm/gems/ruby-1.8.7-p334@rails322/gems/activerecord-3.2.2/lib/active_record/base.rb:479:in `initialize'
    from (irb):1:in `new'
    from (irb):1ruby-1.8.7-p334 :002 > 
```

此代码工作正常，`Rails 2.3.14`但现在转换为`3.2.2`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:18:31.053

尝试`@abstract_class = true`设置`class PauaServiceTable`

--- 已编辑

由于某种原因，table_name 为空，请尝试以下操作：

```
class Lookup < PauaServiceTable
  set_table_name 'lookups'
end 
```

我可以使用此代码重现您的错误：

```
class PauaServiceTable < ActiveRecord::Base
  def self.abstract_class?
    true
  end
end

class Lookup < PauaServiceTable
end 
```

但是，以下工作：

```
class PauaServiceTable < ActiveRecord::Base
  @abstract_class = true
end

class Lookup < PauaServiceTable
end

l= Lookup.new
+----+------------+------------+
| id | created_at | updated_at |
+----+------------+------------+
|    |            |            |
+----+------------+------------+ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:17:49.733

`PauaServiceTable`和模型是否`Lookup`适用于单个表？

如果是这样，那么您的`PauaServiceTable`模型应该有表名，并且`Lookup`表应该自动获取它。你也可以看看`Single Table Inheritance`。

如果不是，则意味着两个模型用于两个表，为什么`Lookup`要继承`PauaServiceTable`？可能您需要在这两个s之间建立关系（`has_many`等）。`has_one``model`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-29T20:21:52.740

对于 Rails 3.2.1+，我相信你想要

```
class PauaServiceTable < ActiveRecord::Base
  self.abstract_class = true
end 
```

见[ActiveRecord::Inheritance::ClassMethods](http://api.rubyonrails.org/classes/ActiveRecord/Inheritance/ClassMethods.html)

# haskell - WAI/Warp ResponseSource 清理

> ID：12193377
> 
> 赞同：2
> 
> 时间：2012-08-30T09:01:58.937
> 
> 标签：haskell, conduit

*当 HTTP 客户端断开连接（或其他现实世界*发生）时，无法弄清楚如何进行清理。我试图将我的包装`Source`成一个`addCleanup`，但它没有被调用。

这是我的无限源流字节串的最小示例：

```
{-# LANGUAGE OverloadedStrings #-}

module Main where

import Network.Wai
import Network.HTTP.Types
import Network.Wai.Handler.Warp (run)
import Data.ByteString.Lazy.Char8 ()

import Control.Monad
import Control.Monad.Trans
import Control.Concurrent (threadDelay)

import Data.Conduit
import Blaze.ByteString.Builder (Builder)
import qualified Blaze.ByteString.Builder.ByteString as BBBB
import qualified Data.ByteString.Char8 as BS

stream :: Source (ResourceT IO) (Flush Builder)
stream = addCleanup (\_ -> liftIO $ putStrLn "cleanup.") $ do
    liftIO $ putStrLn "source started."
    yield Flush

    forever $ do
        yield $ bchunk "whatever"
        yield Flush
        liftIO $ threadDelay 10000

app :: Application
app req = do
    liftIO $ putStrLn "in the handler."
    return $ ResponseSource status200 [("Content-Type", "text/plain")] stream

main :: IO ()
main = run 3000 app

bchunk = Chunk . BBBB.fromByteString . BS.pack 
```

当我用 http 请求点击它时，会出现“启动”通知并`stream`开始清除数据。但是，在我关闭连接后，没有“清理”。出现消息并且没有执行任何操作，从而在实际代码中泄漏资源。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:15:06.143

我认为清理的首选方法是使用`allocate`定义`register`在`Control.Monad.Trans.Resource.MonadResource`. 这将在您`ResponseSource`终止时调用您的处理程序，无论是否异常。

通过查看`addCleanup`代码，它仅用于常规（非异常）完成。

```
{-# LANGUAGE OverloadedStrings #-}

module Main where

import Network.Wai
import Network.HTTP.Types
import Network.Wai.Handler.Warp (run)
import Data.ByteString.Lazy.Char8 ()

import Control.Monad
import Control.Monad.Trans
import Control.Monad.Trans.Resource
import Control.Concurrent (threadDelay)

import Data.Conduit
import Blaze.ByteString.Builder (Builder)
import qualified Blaze.ByteString.Builder.ByteString as BBBB
import qualified Data.ByteString.Char8 as BS

stream :: MonadResource m => Source m (Flush Builder)
stream = do
  -- the release key can be used for early cleanup
  _releaseKey <- lift . register $ putStrLn "cleanup."

  liftIO $ putStrLn "source started."
  yield Flush

  forever $ do
    yield $ bchunk "whatever"
    yield Flush
    liftIO $ threadDelay 10000

app :: Application
app _ = do
  liftIO $ putStrLn "in the handler."
  return $ ResponseSource status200 [("Content-Type", "text/plain")] stream

main :: IO ()
main = run 3000 app

bchunk :: String -> Flush Builder
bchunk = Chunk . BBBB.fromByteString . BS.pack 
```

# php - Javascript 检查单选按钮

> ID：12193378
> 
> 赞同：-2
> 
> 时间：2012-08-30T09:02:00.603
> 
> 标签：php, javascript

我得到了这个代码

```
 <?php foreach($this->question as $question): ?>
<div class="question">
    <?php echo $question['question'] ?>          </div>

<?php if($this->activeEdition["id"]!=20) { ?>

<div class="answers">
    <?php
    $i = 1;
    foreach($question['answers'] as $answer):
    ?>
    <input type="radio" name="question[<?php echo $question['id'] ?>]" value="<?php echo $answer['id'] ?>" id="<?php echo
           $answer['id']
    ?>" class="radio_answer radio_answer_<?php echo $i; ?>" >
    <label for="<?php echo $answer['id'] ?>"><?php echo $answer['answer'] ?></label>
    <?php
    if(count($question['answers']) > 3){
    echo '<br/>';
    }
    ?>
<?php
$i++;
endforeach;
?>
</div> 
```

如果在每个问题中都选中一个单选按钮，如何在 javascript 中以简单和最简单的方式检查？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:43:41.673

好的，我使用 jQuery 做了更好的解决方案

```
<script type="text/javascript">
function checkform()
{
    var ilosc = document.getElementsByClassName('question');
    var n = $("input:checked").length;
    if (n != ilosc.length)
    {
    alert('Proszę zaznaczyć wszyskie odpowiedzi');

    return false;
    }else return true;

}
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:44:27.203

如果需要所有答案，那么您应该在生成它时将第一个单选设置为在每个答案中选择。这是最简单的方法。

当然你可以用JS检查一下，但是会很丑。这是一个演示代码：

```
<script>
    function check(){
        var inputs = document.getElementsByTagName('input');
        var names = [];
        var checked = 0;

        for(var i=0;i<inputs.length;i++){
            if(inputs[i].type=='radio'){
                inArray = false;
                for(var j=0;j<names.length;j++){
                    if(names[j]==inputs[i].name){
                        inArray = true;
                        break;
                    }
                }
                if(!inArray){
                    names.push(inputs[i].name);
                }
                if(inputs[i].checked){
                    checked++;
                }
            }
        }

        return names.length==checked;
    }
</script>
<input type="radio" name="a">
<input type="radio" name="a"><br/>
<input type="radio" name="b">
<input type="radio" name="b"><br/>
<input type="radio" name="b">
<input type="radio" name="c">
<input type="radio" name="c"><br/>
<input type="radio" name="d">
<input type="radio" name="d">
<input type="radio" name="d">
<input type="button" onClick="alert(check());"> 
```

如果你知道问题的数量，你可以简化它，也许有更好的解决方案来检查 in_array。

使用 jQuery 更好。

# gwt - GWT celltable 自定义列 setfieldupdater 不适用于 ListBox

> ID：12193379
> 
> 赞同：0
> 
> 时间：2012-08-30T09:02:05.890
> 
> 标签：gwt, celltable

我创建了一个自定义单元格，用于确定是否显示 a`SelectionCell`或`TextCell`. 在`SelectionCell`渲染的情况下，我无法`setFieldUpdater`触发该方法。

下面的代码...

```
private class CustomTypeCell extends AbstractCell<String>
{
    SelectionCell selectCell = new SelectionCell(cardMnemonics);
    TextCell textCell = new TextCell();

    @Override
    public void render(
            Context context,
            String value, SafeHtmlBuilder sb)
    {
        if (value != null)
        {
            textCell.render(context, value, sb);
        }
        else
        {
            selectCell.render(context, "", sb);
        }

    }
}

    private class CustomTypeColumn extends Column<Object, String>
{

    public CustomTypeColumn(CustomTypeCell cell)
    {
        super(cell);
    }

    @Override
    public String getValue(Object object)
    {
        return object.getStringValue();
    }
} 
```

使用...实现

```
CustomTypeCell cell = new CustomTypeCell();
CustomTypeColumn customCol = new CustomTypeColumn(cell);

customCol.setFieldUpdater(new FieldUpdater<Object, String>()
    {
        public void update(int index, Object object, String value)
        {
            object.setStringValue(value);
            // perform action           }
    });
cellTable.addColumn(customCol, "Custom Column"); 
```

如果我使用带有`SelectionCell`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T12:42:48.087

渲染还不够，您还希望将事件处理委托给适当的单元实现：将 if/else 构造添加到`onBrowserEvent`中，并确保在`getConsumedEvents`.
您可能还应该实施`resetFocus`.

您可能会在[`CompositeCell`](http://code.google.com/p/google-web-toolkit/source/browse/trunk/user/src/com/google/gwt/cell/client/CompositeCell.java)代码中找到灵感。

# javascript - 获取元素类名的一部分

> ID：12193384
> 
> 赞同：1
> 
> 时间：2012-08-30T09:02:23.040
> 
> 标签：javascript, jquery

我可以有任何这样的例子：

```
<input type="text" class="some_class extra_1" />
<input type="text" class="some_class extra_4 some_class2" />
<textarea class="extra_17"></textarea> 
```

我需要在“extra_”之后获取数字：

1、4、17

或完整的课程：

额外1、额外_4、额外_17

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:13:47.153

另外的选择：

```
var arr = $("input, textarea").map(function() {
    try {
        return /\s*extra_(\d+)\s*/.exec(this.className)[1];
    } catch (e) {
        return null;
    }
}).get(); 
```

**演示：http:** [//jsfiddle.net/nh7sv/](http://jsfiddle.net/nh7sv/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:06:27.860

喜欢

```
var numbers = [ ];

$('input, textarea').each(function() {
    numbers = numbers.concat( this.className.split( /\s+/ ).filter(function( cl ) {
        return cl.indexOf( 'extra' ) === 0;
    }).map(function( cl ) {
        return +cl.split( '_' )[ 1 ];
    }) );
})

console.log( numbers ); // [1, 4, 17] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:08:09.820

获取以 extra_ 开头的类的元素

获取元素

```
$('[class^="extra_"]'); 
```

获得完整的课程

```
$('[class^="extra_"]').map(function(_, x) { return x.getAttribute('class'); }); 
```

得到刚刚的数字

```
$('[class^="extra_"]').map(function(_, x) { 
  return parseInt(x.getAttribute('class').split('_')[1], 10); 
}); 
```

要获取类中包含 extra_ 的所有元素并返回数字：-

```
var t = $('[class*=extra_]').map(function() {
  return this.className.match(/extra_\d+/)[0].split('_')[1];
});

returns ["1", "42", "17"] 
```

​</p>

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T09:09:07.913

[http://jsfiddle.net/LLeQF/](http://jsfiddle.net/LLeQF/)

```
$('input, textarea').filter('[class*="extra_"]').each( function() {
    var num = $(this).attr('class').split('extra_')[1].split(' ')[0];
    alert( num );
}); 
```

# c# - 我可以将引用 dll 放在 C# 的特定目录中吗？

> ID：12193387
> 
> 赞同：2
> 
> 时间：2012-08-30T09:02:27.840
> 
> 标签：c#, dll, reference, 32bit-64bit

我正在使用 32 位计算机，但部署到 64 位服务器。

我在一个解决方案中有 5 个项目，如下所示：

*   IHCommon（类库）
    *   参考
        *   IHLib64（作为项目）
        *   IHLib32（作为项目）
*   IHLib64（类库）
    *   参考
        *   aLibrary.dll（为 64 位计算机编译的第三方 dll）
*   IHLib32（类库）
    *   参考
        *   aLibrary.dll（为 32 位计算机编译的第三方 dll）
*   IHWebUtility（类库）
    *   参考
        *   IHCommon（作为一个项目）
*   网站（网络项目）
    *   参考
        *   IHWebUtility（作为一个项目）

这是我的观点。我的网站应用程序必须运行一些用“aLibrary.dll”编写的函数，所以我设法在 CPU 类型的情况下从“IHCommon”项目中调用“IHLib64”或“IHLib32”。

它工作正常。

问题出在网站的 bin 文件夹中，32 位版本的“aLibrary.dll”正在尝试定位，而 64 位版本的“aLibrary.dll”想要定位。

它们具有相同的名称，因此它们不能留在同一个文件夹中。

如何将它们分成单独的文件夹，如 bin\x86 和 bin\x64？

我真正的重点是将它们包含在我的解决方案中，但在 CPU 类型的条件下运行它们。

我试图修复 .csproj 文件，但没有成功。

[编辑] 我也尝试过使用 .NET Reflection，但我真的不能将它应用到我以前的代码中。

代码转换太大。

[编辑]致丹尼尔

你的意思是，我必须按如下方式修复这些项目：

*   IHCommon（类库）
    *   动态链接库
        *   x86
            *   aLibrary.dll（为 32 位计算机编译的第三方 dll）
        *   x64
            *   aLibrary.dll（为 64 位计算机编译的第三方 dll）
*   IHWebUtility（类库）
    *   参考
        *   IHCommon（作为一个项目）
*   网站（网络项目）
    *   参考
        *   IHWebUtility（作为一个项目）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:09:04.160

在我的一个项目中，我遇到了类似的问题：

我想要*一个*可以在 x86 和 x64 机器上运行而无需任何更改的部署包。它还利用了为一种 CPU 类型编译的第三方 DLL。我有托管和非托管的第三方 DLL。
x86 的 DLL 位于名为 x86 的子文件夹中，而 x64 的 DLL 位于名为 x64 的子文件夹中。

非托管 DLL 的方法是在代码真正需要它们之前预加载它们。通过这种方法，我可以决定要加载哪个版本：

```
[DllImport("Kernel32.dll")]
private static extern IntPtr LoadLibrary(string path);

void LoadLibraryIfExists(string path)
{
    if (File.Exists(path))
        LoadLibrary(path);
}

var assembly = Assembly.GetEntryAssembly() ?? Assembly.GetCallingAssembly();
var path = Path.GetDirectoryName(assembly.Location);
path = Path.Combine(path, Environment.Is64BitProcess ? "x64" : "x86", "unmanaged.dll");

LoadLibraryIfExists(path); 
```

稍后执行并需要相同非托管 DLL 的任何代码都使用上面代码加载的版本。

对于托管程序集，您必须挂钩`AssemblyResolve`事件并自己解决程序集。就像以前一样，您现在可以决定加载哪一个。
已使用以下代码：

```
AppDomain.CurrentDomain.AssemblyResolve += 
    (s, e) => OnAssemblyResolve(Environment.Is64BitProcess, e.Name);

private Assembly LoadAssemblyIfExists(string path)
{
    if (!File.Exists(path))
        return null;
    return Assembly.LoadFrom(path);
}

private Assembly OnAssemblyResolve(bool is64BitProcess, string assemblyDisplayName)
{
    try
    {
        var assemblyName = new AssemblyName(assemblyDisplayName);

        if (assemblyName.Name == "Managed")
        {
            var assembly = Assembly.GetEntryAssembly() ?? 
                           Assembly.GetCallingAssembly();
            var path = Path.GetDirectoryName(assembly.Location);
            path = Path.Combine(path, is64BitProcess ? "x64" : "x86", "Managed.dll"); 

            return LoadAssemblyIfExists(path);
        }
    }
    catch (Exception e)
    {
        var message = string.Format(
            "Error resolving assembly {0}. Falling back to default resolve behavior", 
            assemblyDisplayName);
        Logger.WarnException(message, e);
    }

    return null;
} 
```

在应用程序的最开始执行此代码很重要。

# javascript - PJAX：记住额外的对象状态

> ID：12193402
> 
> 赞同：0
> 
> 时间：2012-08-30T09:03:22.440
> 
> 标签：javascript, jquery, pjax

我目前正在我的网站上实现 PJAX，它对加载的内容非常有用。

但是也有可能记住其他对象的状态吗？

在我的示例中，如果有一个 SELECT 框会在更改时触发 PJAX 请求。内容加载良好，当我使用向后导航时，内容将替换为之前的内容。不幸的是，SELECT 框并没有变回原来的值。

有没有办法实现它？

问候，克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:45:01.523

您需要一个`popstate`事件处理程序。`jquery-pjax`你可以绑定到事件`pjax:popstate`。填写以下代码以匹配您的页面：

```
$(document).bind("pjax:popstate", function(e) { 
  /* select the option of the SELECT-box that matches current document.URL */
}); 
```

# java - 使用动态生成的内容时通过浏览器保存登录密码

> ID：12193404
> 
> 赞同：0
> 
> 时间：2012-08-30T09:03:32.147
> 
> 标签：java, html, gwt, login, smartgwt

我有一个 Web 应用程序，这个应用程序的 UI 是用 SmartGWT 编写的。如果会话中没有记录，则通过 SmartGWT 生成的表单（DynamicForm）请求用户登录。

如何实现常用浏览器保存用户密码的功能，以免一遍又一遍地填写密码？

我想它应该适用于静态 html 表单，但是动态生成的内容呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:48:32.810

GWT 对 Cookies 有很好的支持，不需要很大的努力：

```
 public void onModuleLoad() {

    // Retrieve the cookie value
    // Returns : the cookie's value, or null if the cookie doesn't exist
    String value = Cookies.getCookie("CookieName");

    // Set cookie value
    Cookies.setCookie("CookieName","ANYVALUE");
} 
```

然后，您可以使用 Cookie 来存储您想要的有关用户的任何信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:13:29.977

我想这可能是一个解决方案[http://code.google.com/p/google-web-toolkit-incubator/wiki/LoginSecurityFAQ#auto-complete_and_GWT](http://code.google.com/p/google-web-toolkit-incubator/wiki/LoginSecurityFAQ#auto-complete_and_GWT)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:14:53.570

如果您不太关心安全性，则可以使用本地存储：

[http://www.w3schools.com/html5/html5_webstorage.asp](http://www.w3schools.com/html5/html5_webstorage.asp)

# c# - RadTreeView OnClientNodeClicking 确认

> ID：12193409
> 
> 赞同：0
> 
> 时间：2012-08-30T09:03:52.087
> 
> 标签：c#, javascript, jquery

我在使用 jConfirm 确认是否应该更改节点时遇到问题。

这是我的 js 代码：

```
function OnClientNodeClicking(sender, args) {                                        

   var calcelTrue = confirm('Can you confirm this?')
   if (calcelTrue == false) 
   {
      args.set_cancel(true);
      return true;
   }                           

} 
```

它工作正常。但现在我想使用 jConfirm。并且程序不想等待我单击确定或取消（它只是触发事件）。所以我试图停止该事件，如果我单击“确定”，那么单击节点的事件应该从 js 再次触发。

```
function OnClientNodeClicking(sender, args) {                                        

   var node = args.get_node();

   jConfirm('Can you confirm this?', 'Confirmation Dialog', function (r) {

          if (r){

                * Fire the event of clicking  
          }
   });

   args.set_cancel(true);                              

        }                  
   } 
```

如何从 js 触发事件，或者如何防止 jConfirm 等待我选择然后触发事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:30:39.570

我通过在单击 Ok 时使​​用链接按钮回发来解决这个问题，然后在触发事件 changeNode() 后面的代码中解决这个问题。

Javascript：

```
 var node = args.get_node();

     jConfirm('Can you confirm this?', 'Confirmation Dialog', function (r) {
     if (r) { // Ok clicked
          node.set_selected(true);
          __doPostBack('<%= this.LinkButton5.UniqueID %>', '');
          return true;
     }
    });

args.set_cancel(true);  // Cancell the event 
```

后面的代码：

```
protected void bChangeNode(object sender, EventArgs e)
 {
     rtvNode_Click(rtvMeni.SelectedNode.Text, rtvMeni.SelectedNode.Value);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:19:31.223

试过这个？

```
function OnClientNodeClicking(sender, args) {    
  jConfirm('Can you confirm this?', 'Confirmation Dialog', function (ans) 
  {                 
       if (!ans)                     
       args.set_cancel(true);             
  }); 
} 
```

# objective-c - 在越狱应用中使用 arc4random 的随机生成器

> ID：12193412
> 
> 赞同：0
> 
> 时间：2012-08-30T09:04:11.503
> 
> 标签：objective-c, ios, nsarray, arc4random

我正在用 Theos 开发一个应用程序，我想添加一个随机图像生成器。我有一个 nsarray 图像，但我不知道如何使用 arc4random ()。你能帮我展示一些示例代码吗？（：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:09:32.567

```
int k = arc4random_uniform(myArray.count);

UIImageView *picToShow = [myArray objectAtIndex:k]; // show image 
```

# android - 从外部 dex/jar 加载活动

> ID：12193414
> 
> 赞同：1
> 
> 时间：2012-08-30T09:04:19.990
> 
> 标签：android

[http://android-developers.blogspot.in/2011/07/custom-class-loading-in-dalvik.html](http://android-developers.blogspot.in/2011/07/custom-class-loading-in-dalvik.html)

此链接指的是从 Second Dex 加载类，这工作正常

我没有调用 Second Dex 中可用的简单方法，而是尝试在 Second dex 中添加一个活动，并尝试从我的 MainActivity 访问，当我尝试使用我的 startActivity() 访问/启动活动时出现 Classnotfound 错误主要活动

我也尝试使用 PathClassLoader - 它也显示相同的错误

我们可以从 MainActivity 访问/加载 Second Dex 中存在的 Activity 吗？

将活动保存在多个 Dex 文件中的正确方法是什么？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:08:08.730

是的，您可以，您唯一需要的是在**应用程序的清单**文件中提及活动详细信息。

还要确保活动的布局文件在那里。

示例：我打算从我的应用程序中将 TestActivity 加载到库 jar 文件中。

TestActivity.class（位于 jar 文件中）：

```
public class TestActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(getIntent().getIntExtra("LAYOUT", -1));
}

} 
```

MainActivity.class（驻留在应用程序项目中）

```
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity);

    Intent intTest = new Intent(this, TestActivity.class);
    intTest.putExtra("LAYOUT", R.layout.activity_test);
    startActivity(intTest);
}

} 
```

layouts ：activity.xml 和 activity_test.xml 都应该驻留在应用程序的布局文件夹中。

需要在Manifestfile中提到TestActivity。

```
<activity android:name="yourPackage.TestActivity"></activity> 
```

# selenium - 如何使用 webdriver python 获取与单选按钮对应的文本

> ID：12193418
> 
> 赞同：1
> 
> 时间：2012-08-30T09:04:29.323
> 
> 标签：selenium, webdriver, selenium-webdriver

我正在使用 webdriver 进行自动化，每个问题都有一些单选按钮，单选按钮旁边有一些文本，例如是/否。以下是我通过检查元素得到的代码

```
<label class="fs-508-label" for="editTemplate-editForm-content-flowTemplateFull-genericPage-_id162-page_0-profilerQuestionnaireBlock-_id167-page__1-questionnaire-_id169-0-questionRadio_com.taleo.functionalcomponent.prescreening.entity.question.PossibleAnswer__78620">   

<input name="editTemplate-editForm-content-flowTemplateFull-genericPage-_id162-page_0-profilerQuestionnaireBlock-_id167-page__1-questionnaire-_id169-0-questionRadio" id="editTemplate-editForm-content-flowTemplateFull-genericPage-_id162-page_0-profilerQuestionnaireBlock-_id167-page__1-questionnaire-_id169-0-questionRadio_com.taleo.functionalcomponent.prescreening.entity.question.PossibleAnswer__78620" value="com.taleo.functionalcomponent.prescreening.entity.question.PossibleAnswer__78620" type="radio" class="possibleanswers" onclick="onChoicePicked(this)"> 

No

</label> 
```

你能帮我弄清楚吗？我目前能够使用单选按钮

```
element = browser.find_element_by_name(name got form above) 
```

但是 element.text 并没有给我“不”而是空的，这让我感到困惑。我可能在这里遗漏了一些东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:15:56.493

您的元素是空的，这是正确的行为。问题是，通过执行 browser.find("idblahblah") 您只需获得单选按钮元素本身，而不是文本，因为这是其他元素。文本本身是可以通过执行 driver.findElement(By.className("fs-508-label")) 找到的元素，但这不是最佳解决方案，因为类值往往会发生变化。我建议将 html 改成这样：

```
<input id="true_radio_button" type="radio" name="bar"
value="bar_radio_true" checked="checked"/> 
<label id="whatever" for="true_radio_button">True</label> 
```

这样您现在可以使用 ID 轻松找到单选按钮，然后找到相应的标签。可以通过检查“for”属性是否等于单选按钮 ID 来检查它是否正确 - label.getAttribute("for") 等于 radio_button_ID

编辑：使用这个： driver.findElement(By.className("fs-508-label")) 应该可以正常工作

# c# - 我的 MVC 控制器需要延迟

> ID：12193421
> 
> 赞同：0
> 
> 时间：2012-08-30T09:04:44.300
> 
> 标签：c#, asp.net-mvc, multithreading

我希望客户端连接等待一些可能在 3 或 4 秒后出现的数据。

这个想法是做一个 Thread.sleep 并重新检查一些时间，但我不想让其他客户陷入困境，因为有些客户不必等待，但有些客户会这样做。

我是 MVC 的新手，希望你能给我一些建议。

/edit 如果我使用此代码：

```
 public string weatherAsync(string city)
    {
        AsyncManager.OutstandingOperations.Increment();

        Task.Factory.StartNew(() =>
    {
        Thread.Sleep(TimeSpan.FromSeconds(10));
        AsyncManager.Parameters["output"] = DateTime.Now.TimeOfDay.ToString();
        AsyncManager.OutstandingOperations.Decrement();
    });

        return null;
    }

    public string weatherCompleted(string output)
    {
        return output;
    } 
```

并同时请求我的页面两次，第一个页面在大约 10 秒后返回时间，第二个页面需要 10 秒以上才能返回输出：-/

这是我的控制器或 Thread.sleep 的问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:09:09.260

Thread.Sleep 不会阻塞其他用户，但会阻塞当前线程，因此它不能被其他客户端重用。
如果您正在调用控制器中的某些外部 Web 服务，请查看 ASP.NET MVC [Asyncronous Methods In ASP.NET MVC 4](http://www.asp.net/mvc/tutorials/mvc-4/using-asynchronous-methods-in-aspnet-mvc-4)中的异步 APi 。

# php - 创建多语言网站的逻辑

> ID：12193426
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:05:08.200
> 
> 标签：php, translation, fuelphp

我有一个站点并且完成了，但是没有实现未来的多语言支持，

我正在使用fuelphp 框架来生成我的网站。我已经查看了该文档[http://docs.fuelphp.com/classes/lang.html](http://docs.fuelphp.com/classes/lang.html)以了解fuelphp 中的语言配置，但我仍然对如何实现该功能感到困惑。

我的问题是：

1.  有谁知道如何在fuelphp中创建多语言？
2.  您能否向我建议在站点中创建多语言的逻辑？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:15:17.123

我对fuelphp 没有那么丰富的经验，但是文档告诉你你需要知道的一切。

您需要创建 PHP 文件，其中包含作为数组的所有不同翻译，按语言代码排序，如下所示：

en.php

```
return array(
    "Text_Hello" => "Hello",
    "Text_Bye" => "Good bye"
); 
```

de.php

```
return array(
    "Text_Hello" => "Hallo",
    "Text_Bye" => "Auf Wiedersehen"
); 
```

接下来，您需要实现一个会话管理，它存储您当前正在处理的用户的当前语言信息，如下所示：

```
session_start();
Lang::load($_SESSION['lang']); 
```

每次，你需要输出一些东西，你需要调用'get'函数。

```
echo Lang::get("Text_Hello"); 
```

举个例子。

不过，如果我可以建议一个替代方案，那么 PHP 通常会内置一个 gettext 库。函数调用很简单 _("Text_Hello"); 根据会话数据设置语言环境后。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T09:10:44.457

我对fuelphp一无所知，但是您在PHP中处理多种语言的方式是：http: [//php.net/manual/en/book.gettext.php](http://php.net/manual/en/book.gettext.php)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T09:18:28.200

您提供的文档链接清楚地描述了它，您将不得不在包含fuelphp要求的位置创建单独的语言文件

```
return array(
    'hello' => 'Hello :name',
    'something'=> 'something :name!',
    'test'=> array('hello' => 'Hello', 'something' => 'Plop') // Group
); 
```

应任何要求

```
Config::set('language', 'THE_LANGUAGE_IDENTIFIERR_YOU_RECIEVE_OR STORE_IN_SESSION'); 
```

比你必须使用 lang 类的函数调用更进一步

lang::get('hello', array('name' => 'world')); // 将返回你好世界

如果您想免费使用谷歌翻译器，请查看[http://rupeshpatel.wordpress.com/2012/06/23/usage-of-google-translator-api-for-free/](http://rupeshpatel.wordpress.com/2012/06/23/usage-of-google-translator-api-for-free/)

# javascript - 检查对象是否基于 jquery 对象

> ID：12193429
> 
> 赞同：0
> 
> 时间：2012-08-30T09:05:28.700
> 
> 标签：javascript, jquery, coffeescript

我正在基于页面上的一些按钮创建一个对象数组。当我单击其中一个按钮时，我想遍历数组并查看它是否与刚刚单击的按钮匹配。显然，目前没有匹配项，因为它正在尝试将对象与 jquery 对象进行比较 - 所以类型不同。如何将其转换为可以进行比较的格式？

```
dropdowns = []

$('.dropdown').each (index, el) =>
    dropdown = new Dropdown(el: $(el))
    dropdowns.push(dropdown)

$('.dropdown').on 'click', ->
    dropdown = @
    $.each dropdowns, (index, el) =>
        if dropdown == el
            alert 'match' 
```

`new Dropdown`使用诸如`.show()` `.hide()`etc之类的一些方法创建一个新的咖啡脚本类

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:09:49.583

通常你只需要使用$()，例如：

```
$(obj) //gives the jquery object for obj 
```

# c# - Devexpress SearchLookUpEdit 从数据库中设置值

> ID：12193435
> 
> 赞同：1
> 
> 时间：2012-08-30T09:05:48.797
> 
> 标签：c#, devexpress

我在表单加载中有此代码，用于在我的数据表中填充我的数据，然后填充到我的 SearchLookupEdit 中：

```
FillGrids(oData, "POLIST",
    "SELECT [PORecord].[POID],[ItemCode],[PONumber],"
  + "[SiteNo]+' '+[Place]+' '+[Name]+' '+[ScopeOfWork]"
  + "+' '+CAST([DeliveryDate] AS VARCHAR(30))"
  + "+' '+CAST([PRNumber]AS VARCHAR(10))+' '+[Requisitioner] AS Name,"
  + "[UnitPrice],[Quantity],[Unit],Completed,Status"
  + " FROM [Globaltek-Final].[Project].[PORecord]"
  + " INNER JOIN Project.POStatus ON Project.PORecord.POID = Project.POStatus.POID",
  CommandType.Text);

cmbPOID.Properties.DataSource = oData.Tables["POLIST"];
cmbPOID.Properties.DisplayMember = "PONumber";
cmbPOID.Properties.ValueMember = "POID"; 
```

然后通过这个事件：

```
private void cmbPOID_EditValueChanged(object sender, EventArgs e)
{
    //cmbPOID.ShowPopup();

    System.Data.DataRow row = gvPOID.GetDataRow(gvPOID.FocusedRowHandle);
    try
    {
        oPOID = row[0].ToString();
        txtAmount.Text = row["UnitPrice"].ToString();
    }
    catch (NullReferenceException ex)
    {
        MessageBox.Show(ex.Message);
    }
} 
```

我可以更改控件的值，然后将其添加到我的数据库中。

编辑：要加载我存储在数据库中的数据，我使用以下代码：

```
 using (SqlCommand xComm = new SqlCommand())
 {
     xComm.Connection = xConn;
     xComm.CommandText =
        "SELECT [ProjectID] ,[Year] ,[NTPID] ,Project.MainProjectRecord.[POID],"
      + "[SiteID]  ,[SiteName]  ,[SiteDetailsID] ,[EquipmentID]  ,[RepGlobaltekID],"
      + "[CompletedID] ,[OnGoingID]  ,Project.PORecord.POID"
      + " FROM [Globaltek-Final].[Project].[MainProjectRecord]"
      + " INNER JOIN Project.PORecord ON Project.MainProjectRecord.POID = Project.PORecord.POID"
      + " WHERE ProjectID = @recordID";
     xComm.CommandType = CommandType.Text;
     xComm.Parameters.AddWithValue("@recordID", RecordID);

     SqlDataReader xReader = null;
     try
     {
         xConn.Open();
         xReader = xComm.ExecuteReader();
         while (xReader.Read())
         {
             txtSiteID.Text = xReader["SiteID"].ToString();
             txtSiteName.Text = xReader["SiteName"].ToString();
             cmbPOID.EditValue = xReader["POID"].ToString();
             cmbPOID.Properties.GetDisplayTextByKeyValue(xReader["POID"].ToString());
             //cmbPOID.EditValue = xReader["POID"].ToString();
         }
         xReader.Close();
     }
     ..... 
```

我的问题是如何设置或加载从数据库中返回到 SearchLookupEdit 控件的值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T13:48:42.187

获取记录的 POID 值后，只需`EditValue`在表单之前设置属性`ShowDialog`，以防您编辑项目，如下所示：

```
using(var dlg = new ProjectForm())
{
    dlg.searchLookUp.EditValue = poid;

    dlg.ShowDialog(); //The rest of your code
} 
```

在加载表单时，您应该设置 searchLookup 的 DataSource 属性。属性 ValueMember 和 DisplayValue 可以通过设计器设置，尽管我将在代码中设置它们

```
searchLookup.DataSource = myFunctionToGetData();
searchLookup.Properties.DisplayMember = "PONumber";
searchLookup.Properties.ValueMember= "POID"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T04:01:35.737

要在使用数据表将 searchlookupedit 绑定到数据集时在 searchlookupedit 上显示值或设置值，它应该将 searchlookupedit.properties.valuemember 与您传递给 editvalue 的值相匹配，如下所示..

```
int value= 12;
       searchLookUpEdit1.Properties.ValueMember = "POID";
       searchLookUpEdit1.Properties.DisplayMember = "PONumber";
       searchLookUpEdit1.EditValue = ValueDisplay(); //it should match the value member

 private object ValueDisplay()
    {
        return value;
    } 
```

对于我的问题，我首先填写数据表并将其填充到 searchlookupedit 中。设置 searchlookupedit.editvalue 时它是空白的，这是因为在我的数据表列上它的名称是“PoID”，而在我的值成员上它是“POID”。这应该修复并且必须使用相同的名称，以便 editvalue 生效。我更改“POID”->“PoID”。:D

# java - 如何从 Finance.yahoo.com 检索 BSE/NSE 上市股票的价格

> ID：12193437
> 
> 赞同：4
> 
> 时间：2012-08-30T09:05:55.187
> 
> 标签：java, jsp, spring-mvc, stock, yahoo-finance

我正在开发一个使用 Spring 框架在 Java 中通过[Finance.yahoo.com显示股票的应用程序。](http://in.finance.yahoo.com/d/quotes.csv?s=BBDB.TO%20NT.TO%20GE%20MSFT%20INFY%20TTM&f=snl1d1t1ohgdrx)

但它只提供来自 NYSE、Nasdaq-NM 等的股票价值。如何通过指定 NSE 或 BSE 检索股票价值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:36:56.500

您可以通过以下两个链接检索 BSE 和 NSE 的组件：http: [//in.finance.yahoo.com/gainers](http://in.finance.yahoo.com/gainers?e=bo) ?e=bo和[http://in.finance.yahoo.com/losers?e=bo](http://in.finance.yahoo.com/losers?e=bo) (**赢家和输家**）。
获得完整的股票列表后，只需使用链接检索数据，例如：

```
http://download.finance.yahoo.com/d/quotes.csv?s=BOBSL.BO,JAIPAN.BO,SANGHIIN.BO&f=snl1d1t1ohgdrx 
```

您可能希望单独检查每个代码，并确保它确实检索到正确的信息，例如`SOUTHINDBSL.BO`，似乎无法正常工作。

# sql - 以正确的顺序获取具有从其他表中检索到的 ID 的行

> ID：12193445
> 
> 赞同：0
> 
> 时间：2012-08-30T09:06:32.477
> 
> 标签：sql, sql-server, tsql, sql-server-2005

我有两张桌子，`Posts`和`Cache`。

`Cache`表格保存了我应该显示的帖子。帖子 ID 保存在列中（`PostIDs`在`Cache`表格中，以逗号 ( ) 分隔`,`。

这是我的代码：

```
SELECT * FROM Posts a
WHERE ID IN 
(
  SELECT item FROM Cache AS b
  CROSS APPLY dbo.fnSplit(b.postIDs, ',') 
  WHERE ((b.ownerID = 1) AND (b.magID = 8))
) 
```

也`fnSplit`可以正常工作。

但问题是，帖子的顺序不正确。

例如，如果我们在`Cache`:中有这个字符串`5,1,9,4,10,3`，我想从`Posts`该顺序获取帖子。（第一行应该是 ID 为 5 的帖子，然后是 1，然后是 9，然后是 4，...）

但是我的代码以另一种顺序返回帖子：（表`1,3,4,5,9,10`中的行顺序`Posts`）

我应该怎么做（纯 SQL）才能按`Cache`表中指定的顺序获取项目？（在该示例中，我想按此顺序获取帖子`5,1,9,4,10,3`：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:08:43.967

根据您的示例，这应该有效（其中 cacheorder 是您要订购的字段）

```
SELECT * FROM Posts a 
     inner join 
     ( 
        SELECT item, cacheorder FROM Cache AS b 
        CROSS APPLY dbo.fnSplit(b.postIDs, ',')  
        WHERE ((b.ownerID = 1) AND (b.magID = 8)) 
     ) v
     ON a.ID = v.item
ORDER BY CacheOrder 
```

然而

*   没有固有的保证记录顺序 - 如果您想要特定顺序，则必须指定它
*   如果您将 postID 存储在逗号分隔的字段中，则您的数据库设计存在缺陷。

# asp.net-mvc - 我可以根据条件显示/隐藏带有数据注释的视图模型元素吗？

> ID：12193449
> 
> 赞同：2
> 
> 时间：2012-08-30T09:06:51.197
> 
> 标签：asp.net-mvc, asp.net-mvc-3, model-view-controller, data-annotations

我使用数据注释和一些自定义模板生成了很多视图。

```
public class Container
{
    [HiddenInput(DisplayValue = false)]
    public string Key { get; set; }

    [Display(Name = "Full Name")]
    [RequiredForRole("Editor"), StringLength(30)]
    public string Name { get; set; }

    [Display(Name = "Short Name")]
    [RequiredForRole("Editor"), StringLength(10)]      
    public string ShortName { get; set; }

    [Display(Name="Maximum Elements Allowed")]
    [RequiredForRole("Admin")]
    public int MaxSize { get; set; }

    [Display(Name = "Components")]
    public IList<Component> Components{ get; set; }
} 
```

在视图中，我只使用`@Html.DisplayForModel()`,`@Html.EditorForModel`等。

某些属性需要由某些角色的用户编辑，但对其他人隐藏。如您所见，我实现了一个自定义验证属性`RequiredForRole`，它检查值是否存在，但前提是当前用户具有特定角色。

我真的需要一个自定义的 Display 属性，但由于`DisplayAttribute`是密封的，这似乎是不可能的。

我想避免为不同类型的用户提供大量不同的模板，或者开始将这种谁看到什么的逻辑推到视图上。解决这个问题的最简洁的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T10:26:54.843

可能是这样的。（大）问题是：如何检查当前用户的角色......

```
public class VisibleForRoleAttribute : Attribute, IMetadataAware
    {
        public string[]  Roles { get; set; }
        public VisibleForUserAttribute(string[] roles)
        {
            Roles = roles;
        }
        public void OnMetadataCreated(ModelMetadata metadata)
        {
            var toShow =  Roles.Any(IsUserInRole);
            metadata.ShowForDisplay = metadata.ShowForEdit =  toShow; // or just ShowForEdit

        }
        private bool IsUserInRole(string roleName)
        {
            return HttpContext.Current != null &&
                   HttpContext.Current.User != null &&
                   HttpContext.Current.User.IsInRole(roleName); //if you use MembershipProvider
        }
    } 
```

用法

```
[VisibleForRole(new[]{"Administrator", "Editor"})] 
```

# macos - Cocoa：如何制作一个类似finder的小工具栏？

> ID：12193450
> 
> 赞同：2
> 
> 时间：2012-08-30T09:06:51.330
> 
> 标签：macos, cocoa

而不是使用标准工具栏，我想实现一个类似工具栏的Finder，它使用如下按钮：

![在此处输入图像描述](../Images/9f7b6758a4df8e88ee456b0ddb1fe2a3.png)

但我的实现看起来很奇怪。

![在此处输入图像描述](../Images/36680d325634bea82be9327e2ea5be21.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T10:08:39.390

只需使用 Interface Builder 中的“圆形纹理”按钮样式。

# android - 我们可以在不创建活动的情况下运行服务吗？如果是，为什么？或者如果不是那么为什么不呢？

> ID：12193456
> 
> 赞同：1
> 
> 时间：2012-08-30T09:07:06.940
> 
> 标签：android

1.我只是想知道我是否可以在不在 android 中创建活动的情况下启动服务。如果是，为什么？或者如果不是那么为什么不呢？

1.  我可以将我的服务创建代码直接放在 oncreate 方法中吗？
2.  java中多态和接口的区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:09:45.377

当然，您可以在没有活动的情况下启动服务（例如接收器类中的某些东西）

例如

```
 public class MyStartServiceReceiver extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent intent) {
    Log.d("", "in start service");
    Intent service = new Intent(context, rs.class);
    context.startService(service);
}
  } 
```

并且接口是一个未完全定义的类，即：其中不会有任何具体方法，例如抽象类，但是抽象类可以包含具体方法，而接口则不能

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:29:04.873

1.  你可以像在“droidhot”的答案中那样做。您可以在任何地方调用它（pe onReceive、onCreate、onResume）。如果您想多次使用相同的代码，我会创建一个自己的方法并在 onResume 或 onCreate 方法中调用它，如下所示：

    ```
    @Override
    public void onResume(){
        callService();
    }

    public void callService(){
        Intent service = new Intent(getBaseContext(), myServiceClass.class);
        getBaseContext().startService(service);
    } 
    ```

    或者你的意思是在没有课程的情况下提供服务？

2.关于java中多态和接口的区别我可以推荐“ [http://java.sys-con.com/node/376​​95](http://java.sys-con.com/node/37695) ”。

# iphone - 在不同视图上显示和隐藏导航栏

> ID：12193458
> 
> 赞同：1
> 
> 时间：2012-08-30T09:07:14.013
> 
> 标签：iphone, uinavigationcontroller, uinavigationbar

我有带有 NavigationController 的 rootViewController。在 rootView 上，navigationBar 是隐藏的。当我按下下一个视图时，会显示导航栏。因此，当我从第二个视图返回到 rootView 时，导航栏会隐藏。没关系。然后我想从第二个视图转到第三个视图并显示导航栏。但它是隐藏的，因为在第二个视图中，当从第二个视图转到它时，我有这段代码可以在 rootView 中隐藏 navBar：

```
-(void)viewWillDisappear:(BOOL)animated{
    [super viewWilDisappear:animated];
    [self.navigationcontroller setNavigationBarHidden:YES animated:YES];
} 
```

如何仅在 rootView 上显示导航栏并在所有其他视图上隐藏它？

第二个视图是 UIViewController 的子类，第三个视图也是 UIViewController 的子类，其中 UITableView 由 IB 创建。

* * *

**UPD**

在第一个 viewController 我添加了这个：

```
-(void)viewDidLoad{
[self.navigationController setNavigationBarHidden:YES];
[super viewDidLoad];

}

-(void)viewWillAppear:(BOOL)animated{

    [super viewWillAppear:animated];
    [self.navigationController setNavigationBarHidden:YES animated:YES];
}

-(void)viewWillDisappear:(BOOL)animated{

    [super viewWillDisappear:animated];
    [self.navigationController setNavigationBarHidden:NO animated:YES];
} 
```

在第三个中：

```
-(void)viewWillAppear:(BOOL)animated{
    [super viewWillAppear:animated];
    [self.navigationController setNavigationBarHidden:NO animated:YES];
} 
```

谢谢你们的帮助，伙计们！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:24:06.947

尝试这个：-

在第三视图中写： -

```
 -(void)viewDidAppear:(BOOL)animated
    {
      [self.navigationcontroller setNavigationBarHidden:NO animated:YES];

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:27:22.527

如果您希望在第二个和第三个 ViewController 中显示导航栏，只需将以下内容添加到您的 viewWillAppear 或 viewDidLoad 方法中：

```
self.navigationController.navigationBarHidden = NO; 
```

当你的 UINavigationController 有一个（强）属性时就是这种情况，我建议你应该拥有它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:20:02.177

在第三个视图的 viewWillAppear 中添加：

```
-(void)viewWillAppear:(BOOL)animated
{
  [super viewWillAppear:animated];
  [self.navigationcontroller setNavigationBarHidden:NO animated:YES];
} 
```

# asp.net-mvc - 实体框架 4.3。列名“CreatedOn”无效

> ID：12193465
> 
> 赞同：17
> 
> 时间：2012-08-30T09:07:29.337
> 
> 标签：asp.net-mvc, entity-framework, entity-framework-4

我正在使用 VS 2010 和 EF 4.3 开发一个 ASP.NET MVC 4 应用程序。它从外部数据库中检索一些数据，并按预期工作，直到有一天我尝试重新编译它。编译后我收到以下 EF 错误：

> 列名“CreatedOn”无效。

没有对数据库或代码进行任何更改——我只是添加了一些缩进以提高可读性。TFS 以前的应用程序版本也抛出相同的异常。

我的实体中没有`CreatedOn`属性，数据库中也没有这样的字段，我不需要它，在任何情况下都不想要它。

应该怎么做才能避免这种异常？

这是我用来访问数据的自定义数据库上下文：

```
public class MyContext<T> : DbContext where T : class, IDataEntity
{
   public MyContext(string connectionKey)
        : base("name=" + connectionKey)
    {
        Configuration.AutoDetectChangesEnabled = false;            
    }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Label>().Property(item => item.Id).HasColumnName("LabelId");
        modelBuilder.Entity<Label>().Ignore(item => item.ChangedBy);
    }
} 
```

这是标签类

```
public class BaseEntity : IDataEntity 
{ 
    public int Id { get; set; } 
    public string Name { get; set; } 
    public string ChangedBy { get; set; } 
} 

public class Label : BaseEntity 
{ 
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-24T12:45:07.683

就我而言，它是 MiniProfiler。我使用 EF 5.0，它使用 EF 4.x。禁用分析器后，不再抛出异常

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-08-30T09:35:20.573

EF 4.3.1 向表中添加了一`CreatedOn`列`__MigrationHistory`，随后 EF 5.0 将其删除。我怀疑自上次更新数据库以来您已将 EF 升级到 4.3.1。

您可以运行迁移以添加`CreatedOn`列、手动添加列，或者升级到不再需要的 EF 5.0。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-30T12:45:19.253

找到了我的问题的答案。谢谢大家的回复。

```
Database.SetInitializer<MyContext<Label>>(null); 
```

这可以解决问题并禁用 EF 中的数据库更改跟踪。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T09:43:37.510

实际上 __MigrationHistory 表中有 CreatedOn 列，因此问题可能与 EF 迁移有关。如果没有代码更改，未决迁移或任何错误，则确实是一个非常奇怪的情况。

PS。我发现了这一点，它可能会有所帮助：[http ://bstechnical.blogspot.fi/2012/08/invalid-column-name-createdon-code-first.html](http://bstechnical.blogspot.fi/2012/08/invalid-column-name-createdon-code-first.html)

# php - PHP MYSQL LIKE 用于匹配描述中的多个单词

> ID：12193466
> 
> 赞同：0
> 
> 时间：2012-08-30T09:07:29.083
> 
> 标签：php, mysql

我正在使用 PHP 编写一个 ajax 搜索功能。它工作正常，但过滤结果几乎没有问题，

我有如下产品描述

```
POWER CORD C13-C14 SVT 250V 10AMP GREEN JACKET 8 FEET 
```

但是当用户搜索 **电源线绿色**时，没有显示结果。我认为这是因为上述单词的顺序不同。

**这是我的 SQL 代码 - $qr 是用户搜索词**

```
SELECT 
      product_name,product_desc
      FROM j25_virtuemart_products,j25_virtuemart_products_en_gb
      WHERE         
       j25_virtuemart_products.virtuemart_product_id =j25_virtuemart_products_en_gb.virtuemart_product_id 
       AND j25_virtuemart_products.published=1 
       AND (product_name LIKE '%$qr' OR product_desc LIKE '%$qr 
```

当用户搜索**绿色电源线**时，我需要获得**POWER CORD C13-C14 SVT 250V 10AMP GREEN JACKET 8 FEET**作为建议。谁能告诉我如何编写查询以获得那种结果。谢谢你

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:09:02.483

LIKE 运算符不会在这里为您提供帮助。您需要查看[FULLTEXT 搜索](http://devzone.zend.com/26/using-mysql-full-text-searching/)。如果您不愿意使用 MyISAM（它确实有[缺点](http://dev.mysql.com/doc/refman/5.1/en/internal-locking.html)），您可以考虑使用[Sphinx](http://sphinxsearch.com/)等替代方案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T09:17:09.807

您必须使用全文搜索。在使用它之前，请确保检查您的数据库引擎是否支持全文。此外，您必须索引标题、描述等字段，以支持全文。

你可以参考

*   [http://tips4php.net/2010/03/create-your-own-fulltext-searchengine-with-php-and-mysql/](http://tips4php.net/2010/03/create-your-own-fulltext-searchengine-with-php-and-mysql/)
*   [http://devzone.zend.com/26/using-mysql-full-text-searching/](http://devzone.zend.com/26/using-mysql-full-text-searching/)

另请注意：

*   不推荐使用 Mysql 避免使用它，继续使用`mysqli`或`PDO`
*   使用参数化查询

# sql-server - MSSQL：如何远程运行扩展存储过程 xp_fileexist？

> ID：12193469
> 
> 赞同：1
> 
> 时间：2012-08-30T09:07:58.977
> 
> 标签：sql-server, procedure

有什么办法可以做到这一点？我可以完全控制本地和远程服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T10:40:36.817

您可以像任何其他 SP 一样运行它。但请注意，您将仅获得有关远程文件的数据。如果您需要有关本地文件的数据，则无法在 SQL Server 端进行。您需要在客户端检查它并（如果您需要在服务器端使用这些数据）将其作为参数发送到 SQL Server。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:44:55.883

如果我做对了，您尝试使用网络路径执行 xp_fileexist 以访问远程服务器，例如：

`exec master.dbo.xp_fileexist "\\another_server\path\file"`

如果您不能这样做，主要原因是 - 您的 SQLSERVER 服务在 LOCALSYSTEM 帐户下运行。该帐户是本地计算机帐户，[无法访问网络](http://www.windowsitpro.com/article/services/understanding-the-local-service-and-network-service-accounts)（尽管据我所知[，有一种方法可以](https://serverfault.com/questions/135867/howt-to-grant-network-access-to-localsystem-account)将 server2 上的共享文件夹的访问权限从 server1 帐户授予本地系统）。因此，如果您将 SQL 服务器服务配置为在 DOMIAN\USER 下运行，您可以运行上述命令并获得正确的结果。还要注意，如果您在域帐户下运行 SQL 服务器，一旦用户有权访问您的 SQL 服务器，它就会在您的域安全系统中出现漏洞，它可以远程执行 XP_CMDSHELL ....

我只是在本地系统下运行的 SQL Server 2000 下对其进行了测试，然后重新配置为在域帐户下运行。

# python - 简单的python嵌套循环-索引超出范围

> ID：12193471
> 
> 赞同：1
> 
> 时间：2012-08-30T09:08:01.020
> 
> 标签：python, list, for-loop, set

当我运行以下代码时，出现错误：

```
def genSet(nums):
    for i in range(0, len(nums)-1):
        for x in range(0, len(nums)-1):
            if nums[x] == nums[i]:
                del nums[x] 
    return nums

a = [5, 4, 3, 5, 6, 7, 8, 5, 4, 3]  
print genSet(a) 
```

输出：

```
Traceback (most recent call last):
  File "49.py", line 9, in <module>
    print genSet(a)
  File "49.py", line 4, in genSet
    if nums[x] == nums[i]:
IndexError: list index out of range 
```

据我所知（我用“print x, i”替换了 if 语句）两个 for 循环都很好，那么为什么索引超出范围？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:10:52.310

不要这样做`del nums[x]`，因为这样你会`nums`缩短并因此得到一个例外。

您可以简单地通过以下方式从列表中创建一个集合`set_nums = set(nums)`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T09:10:20.337

您正在从中删除元素`nums`，因此它变得更短并且发生 IndexError。

无论如何，您的代码将删除所有内容，因为每个元素在列表中至少有一个相同的元素（本身！）。如果要创建“唯一”元素列表，请创建一个集合：

```
unique_set = set(nums) 
```

并再次将其转换为列表：

```
unique_list = list(set(nums)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T10:09:58.560

您提供的示例可以简单地替换为一行代码：

```
print set([5, 4, 3, 5, 6, 7, 8, 5, 4, 3]) 
```

如果我真的想自己过滤掉列表中的重复项，我会：

```
nums = sorted([5, 4, 3, 5, 6, 7, 8, 5, 4, 3])
print reduce(lambda x,y:(y not in x and x+[y]) or x, nums, []) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:16:27.377

您可以找到数字相同的索引，将您的列表设为一个 numpy 数组`nums = np.array(nums)`并使用该[`np.delete`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.delete.html)命令。

# sql - 如何打开“#Num！” 值归零

> ID：12193479
> 
> 赞同：0
> 
> 时间：2012-08-30T09:08:34.037
> 
> 标签：sql, null, ms-access-2010

我有一个可以编译并运行的查询，但某些字段值是“#Num！”，如果单元格包含给我零的错误，我将如何让 Access 知道？我试过

`IIF(Column Is Null,0,Column)`但它没有用..或者我没有正确使用它？

这是我的查询

```
SELECT qb1.CompanyName, qb1.AssetName, qb1.Year, 
       Round(((CDbl(qb1.DatapointValue)/CDbl(qb2.MPPGas))*100),0) AS AnnualSDGAS
FROM PEBaseQuery AS qb1 
INNER JOIN PE_Field_MPPGasRevisedMarketRemoved AS qb2 
    ON (qb1.Year=qb2.Year) 
    AND (qb1.AssetName = qb2.AssetName) 
    AND (qb1.CompanyName = qb2.CompanyName)
WHERE qb1.DatapointID=2035; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:27:43.600

您可以使用**[IsNumeric()](http://www.techonthenet.com/access/functions/advanced/isnumeric.php)**检查该值是否为数字。

```
SELECT IIF(ISNUMERIC(columnName), columnName, 0)
FROM .... 
```

IsNumeric() 的示例：

```
IsNumeric (786)                 would return TRUE
IsNumeric ("Tech on the Net")   would return FALSE
IsNumeric ("234")               would return TRUE 
```

从您的查询中，我找到了这一行

```
CDbl(qb1.DatapointValue) / CDbl(qb2.MPPGas) 
```

小心使用此列`qb2.MPPGas` [以避免除以零错误](http://www.techonthenet.com/access/queries/divide_by_zero.php)。

* * *

*   我有一个问题要问您，您是否将数字作为文本（*或字符串*）存储在数据库中？

# java - Android 允许在 edittext 上滚动

> ID：12193482
> 
> 赞同：3
> 
> 时间：2012-08-30T09:09:00.393
> 
> 标签：java, android

这里只是一个简单的问题。我在滚动视图中有一个edittext。这是我关于edittext的代码

```
 <ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
 >

<RelativeLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="899dp" >

<LinearLayout
    android:id="@+id/LL1"
    android:layout_width="match_parent"
    android:layout_height="320dp"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="50dp"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/ivMainPic"
        android:layout_width="match_parent"
        android:layout_height="320dp"
         />

</LinearLayout>

<TextView
    android:id="@+id/tvDescription"
    android:layout_width="match_parent"
    android:layout_height="50dip"
    android:layout_below="@+id/LL1"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="25dp"
    android:text="@string/strDescription"
    android:textSize="14dp" 
    android:layout_marginLeft="30dip"
    android:layout_marginRight="30dip"/>

<TextView
    android:id="@+id/tvCondition"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/tvDescription"
    android:layout_marginTop="20dp"
    android:layout_marginLeft="20dip"
    android:text="@string/strCondition"
    android:textStyle="bold"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<Button
    android:id="@+id/btnGetOffer"
    style="?android:attr/buttonStyleSmall"
    android:layout_width="match_parent"
    android:layout_height="40dip"
    android:layout_below="@+id/etConditionBody"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="18dp"
    android:text="@string/strGetOffer"
    android:layout_marginLeft="20dip"
    android:layout_marginRight="20dip" 
    android:background="@drawable/roundedcorner"
    android:textStyle="bold" />

<TextView
    android:id="@+id/etConditionBody"
    android:layout_width="match_parent"
    android:layout_height="300dp"
    android:layout_below="@+id/tvCondition"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="26dp" 
    android:layout_marginLeft="20dip"
    android:layout_marginRight="20dip"
    android:gravity="top"
    android:paddingBottom="20dip"
    android:paddingLeft="20dip"
    android:paddingRight="20dip"
    android:paddingTop="20dip"
    android:scrollbars="vertical" 
    android:background="@drawable/edittextborder"/>

</RelativeLayout>
</ScrollView> 
```

现在我正在做的是让它可滚动和不可编辑的编辑文本，因为我正在我的数据库中获取它的文本。我尝试使用此代码

```
etConditionBody= (EditText) findViewById(R.id.etConditionBody);
etConditionBody.setScroller(new Scroller(getBaseContext())); 
etConditionBody.setMaxLines(8); 
etConditionBody.setVerticalScrollBarEnabled(true); 
etConditionBody.setMovementMethod(new ScrollingMovementMethod());
etConditionBody.setText("wew \n wew2 \n wew3 \n wew4 \n wew \n wew2 \n wew3 \n wew4 \n wew \n wew2 \n wew3 \n wew4 \n wew3 \n wew4 \n wew \n wew2 \n wew3 \n taena"); 
```

但它没有滚动，它只是将我的行限制为 8

我使用基于此链接的代码 [如何以编程方式启用edittext的垂直滚动条](https://stackoverflow.com/questions/8417454/how-to-enable-vertical-scrollbar-of-an-edittext-programmatically) [如何使Android中的edittext可滚动？](https://stackoverflow.com/questions/5831392/how-to-make-edittext-in-android-scrollable) 但它不工作

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:14:12.900

为此，请使用 TextView 而不是 edittext。您可以使用滚动视图进行滚动，例如

```
<ScrollView
    android:layout_width="match_parent"
    android:layout_height="300dp">

<TextView
    android:id="@+id/tvConditionBody"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
/>

</ScrollView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:18:45.983

而不是指定最大线，减少你的 EditTextHeight。

例如：

布局 ：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<EditText
    android:id="@+id/etConditionBody"
    android:layout_width="fill_parent"
    android:layout_height="300dp" >
</EditText>

</LinearLayout> 
```

代码 ：

```
etConditionBody = (EditText) findViewById(R.id.etConditionBody);
    etConditionBody.setScroller(new Scroller(getBaseContext()));
    etConditionBody.setVerticalScrollBarEnabled(true);
    etConditionBody.setMovementMethod(new ScrollingMovementMethod());
    etConditionBody
            .setText("wew \n wew2 \n wew3 \n wew4 \n wew \n wew2 \n wew3 \n wew4 \n wew \n wew2 \n wew3 \n wew4 \n wew3 \n wew4 \n wew \n wew2 \n wew3 \n taena"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:24:06.607

正如您所说 `etConditionBody.setMaxLines(8);` ，它将始终只显示 8 行，因为它会覆盖 layout_height 参数。删除 setMaxLines 并最小化 layout_height。然后它会滚动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-09T07:47:21.660

使用以下代码更新相应的 java 文件

```
 EditText etText = (EditText) findViewById(R.id.etText);       
 dwEdit.setOnTouchListener(new OnTouchListener() {
       public boolean onTouch(View view, MotionEvent event) {

            if (view.getId() ==R.id.DwEdit) {
                view.getParent().requestDisallowInterceptTouchEvent(true);
                switch (event.getAction()&MotionEvent.ACTION_MASK){
                case MotionEvent.ACTION_UP:
                    view.getParent().requestDisallowInterceptTouchEvent(false);
                    break;
                }
            }
            return false;
        }
    }); 
```

# design-patterns - 道模式和业务对象关系

> ID：12193486
> 
> 赞同：0
> 
> 时间：2012-08-30T09:09:03.703
> 
> 标签：design-patterns, dao

我目前正在开发一个 android 应用程序，因为我需要访问数据库，所以我决定使用 dao 模式。目前，我了解这种模式的概念。

在我的应用程序中，我有我的业务对象。例如，让我们考虑 order 和 payment 对象。让我们假设一个订单作为支付类型的变量。在数据库中，订单表的每条记录都将有一个用于支付表的外键，用于保持订单与其支付之间的关联。问题是，由于 dao 应该彼此完全独立，OrderDao 不会“知道”PaymentDao，那么我如何实例化一个带有相应支付实例的订单对象呢？这让我很困惑...... OrderDao 将无法返回一个订单实例，因为这个实例需要一个支付实例......我可以做一些“技巧”，比如 OrderDao 返回一个实例，其支付初始化为只有它的 id，然后在业务逻辑中，

这应该怎么做？

只是为了让我对类结构的解释更容易：

```
public class Order {
     private int id;
     private Payment payment;
     ......
}
public class Payment {
    private int id;
     ....
} 
```

我没有使用任何框架的原因是因为在我的数据库中，我需要一些表来保存一些已翻译的字符串。例如，如果我们有一个类别表，我将有一个 categories_i18n 表，对于类别表，在某些语言中会有相应的翻译..

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:20:18.133

您的 DAO 返回的对象图没有任何问题。我将 Hibernate 用于 ORM 并以您为例，我将有一个 PaymentDao，它具有处理 Payment 对象（findById、persist 等）的方法和一个用于处理 Order 对象的 OrderDao。

但是，如果我从 OrderDao 检索一个 Order 对象，那么它仍将包含对相关 PaymentObject 的引用（您可以使用 Hibernate 延迟加载这些子对象，因此无需担心返回巨大对象图的性能开销 -您将需要调查您选择的持久性框架以帮助您）。

高温高压

PS 在休眠中具有公司引用的订单实体示例：

```
 @Entity
    @Table(name = "ORDERS")
    @SequenceGenerator(allocationSize = 1, name = "orderId", sequenceName = "ORDERID")
    public class Order extends OptimisticLockingNumericIdDto<Order> implements Serializable {

        private Long id;
        private Company managingCompany;

...

       @ManyToOne(targetEntity = Company.class)
        @JoinColumn(name = "COMPANYID")
        public Company getManagingCompany() {
            return managingCompany;
        }

        public void setManagingCompany(Company managingCompany) {
            this.managingCompany = managingCompany;
        }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T11:32:41.970

我认为，您在数据库中错误地建模了类关系。根据您的要求，您的订单类具有支付类的实例，因此当您映射到数据库时，它应该是以订单 ID 作为外键的支付。

一旦你以这种方式映射它。您可以先从 OrderDAO 获取订单，然后您可以使用 getPaymentByOrderID 方法从 PaymentDAO 获取付款。这样，您的 DAO 将是独立的，您将实现所需的功能。

# network-programming - 在 sk_buff 中接收以太网数据包

> ID：12193488
> 
> 赞同：0
> 
> 时间：2012-08-30T09:09:07.680
> 
> 标签：network-programming, linux-kernel, ethernet

我正在编写一个内核模块，用于接收 Linux 2.6.31 的以太网数据包，我想从`struct sk_buff`传递给`func`函数的指针中提取以太网数据包的内容，`struct packet_type`该函数由`dev_add_pack`. 我应该参考结构的哪个成员？当我发送一个 46 字节正文的以太网数据包时，`skb->data - skb->head`分别为 48 和`skb->len`46，其中`skb`是指向`struct sk_buff`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-17T14:39:04.563

您可以使用 netfilter 挂钩功能。这是我的示例代码。

```
static unsigned int hook_func(unsigned int hooknum,
                  struct sk_buff *pskb,
                  const struct net_device *in,
                  const struct net_device *out,
                  int (*okfn)(struct sk_buff*)) {

    int ret = 110;
    int x = 0;
    struct net_device * dev;
    struct ethhdr *neth_hdr = NULL;

    if(strcmp(in->name,"lo0") == 0){
        return NF_ACCEPT;
    }

    if(!pskb){
        return NF_ACCEPT;
    }

    struct iphdr* iph = ip_hdr(pskb);

    if(!(iph)){
        return NF_ACCEPT;
    }

    if(iph->ttl == 0xFF){
        return NF_ACCEPT;
    }

    if(iph->protocol == 6){
        struct tcphdr *tcp = tcp_hdr(pskb);
        if(tcp == NULL){
            return NF_ACCEPT;
        }

        if(ntohs(tcp->dest) == 80){
            if(tcp->syn == 1){
                printk(KERN_DEBUG "Packet TCP SYN\n");

                return NF_ACCEPT;
            }
        }
    }                 

    return NF_ACCEPT;
}

int init_module(void) {
        nfho.hook              =       hook_func;
        nfho.pf                =       PF_INET;        
        nfho.hooknum           =       NF_INET_PRE_ROUTING;
        nfho.priority          =       NF_IP_PRI_FIRST;

        thrqueue = create_workqueue(WQ_NAME1);
        INIT_WORK(&thread, thread_function);

        return  nf_register_hook(&nfho);
}

void cleanup_module() {
    nf_unregister_hook(&nfho);
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-06T10:09:37.480

您可以从 sk_buff 结构中提取数据...

```
char buff[1024];    
int i=0;
//printk("******start of the data*******\n");
while(i<((skb->tail)-(skb->data)))
buff[i]=(char *)((skb->data)[i]); 
```

缓冲区的大小可能不同，或者您可以根据需要定义它。

& 在这个缓冲区中，实际上您已经复制了带有标题或没有标题加上实际数据包有效负载的数据。这取决于您在哪里捕获 sk_buff（我的意思是在哪一层）。因为随着数据包从套接字到 NIC 或从 NIC 到套接字 sk_buff 的相关字段被更新。

# c# - 在 C# 中将 Flickr 树加载为 html 递归

> ID：12193495
> 
> 赞同：1
> 
> 时间：2012-08-30T09:09:11.563
> 
> 标签：c#, recursion, flickr

我目前正在尝试从 C# 将 Flickr 集合和集合树呈现为 HTML。我正在使用 Flickr.NET 库来列出我所有的收藏及其子收藏和集合。

我需要做的是使用嵌套无序列表将此树呈现为 HTML 树，我正在考虑递归解决方案，因为 Collection 可以保存一个或多个集合，还可以保存子集合，这些集合又可以保存集合和集合。

我现在拥有的是所有根集合、它们的子集合和它们的集合的列表。所以我的 Flickr 树看起来像这样：

*   集合（这个集合在我的列表中作为一个对象本身）

    *   收藏

        *   放
            *   照片1
            *   照片2
        *   放
            *   照片1
            *   照片2
    *   收藏

        *   放
            *   照片1
            *   照片2
        *   放
            *   照片1
            *   照片2
*   集合（这个集合在我的列表中作为一个对象本身）

    *   收藏

        *   放
            *   照片1
            *   照片2
        *   放
            *   照片1
            *   照片2
    *   收藏

        *   放
            *   照片1
            *   照片2
        *   放
            *   照片1
            *   照片2

基本上它可能看起来有一百多种方式，因为编辑器最终会在集合中创建更多集合，在集合中创建更多集合。

因此，对于每个集合和集合，我需要一个新的嵌套无序列表。

我知道这很复杂，但是，如果有一种算法可以将树呈现为 HTML，那就太好了。当谈到递归算法时，我变得有点生疏了：-/

我想我的基本情况是如果当前集合没有任何子集合并且没有任何子集合，那么我可以停止递归方法吗？

非常感谢您对此的任何帮助/提示！

提前非常感谢。

祝一切顺利，

博

**解决方案**

我将算法分解为四个步骤：

```
private void LoadFlickrTreeRecursive()
    {
        foreach (var collection in allCollections)
        {
            flickrTreeMarkup.Append("<ul class='collection'>");
            flickrTreeMarkup.Append("<li>" + collection.Title + "</li>");
            if (collection.Sets.Count > 0)
                RenderFlickPhotoSet(collection.Sets);

            if (collection.Collections.Count > 0)                
                RenderFlickrCollectionRecursive(collection.Collections);                    

            flickrTreeMarkup.Append("</ul>");
        }
    }

    private void RenderFlickPhotoSet(System.Collections.ObjectModel.Collection<CollectionSet> sets)
    {
        foreach (var set in sets)
        {
            flickrTreeMarkup.Append("<ul class='set'>");
            flickrTreeMarkup.Append("<li>" + set.Title + "</li>");
            var photos = flickr.PhotosetsGetPhotos(set.SetId);
            if (photos.Count > 0)
            {
                flickrTreeMarkup.Append("<ul class='photos'>");
                foreach (var photo in photos)
                {
                    flickrTreeMarkup.Append("<li>" + photo.Title + "</li>");
                }
                flickrTreeMarkup.Append("</ul>");
            }
            flickrTreeMarkup.Append("</ul>");                 
        }
    }

    private void RenderFlickrCollectionRecursive(System.Collections.ObjectModel.Collection<Collection> collections)
    {
        foreach (var collection in collections)
        {
            flickrTreeMarkup.Append("<ul class='collection'>");
            flickrTreeMarkup.Append("<li>" + collection.Title + "</li>");
            RenderFlickPhotoSet(collection.Sets);
            if (collection.Collections.Count > 0)
            {                    
                RenderFlickrCollectionRecursive(collection.Collections);                    
            }
            flickrTreeMarkup.Append("</ul>");                
        }            
    } 
```

奇迹般有效 ：-）

但是，如果有人知道比这更好的方法，请告诉我。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T10:23:18.140

此算法应与 TreeView 控件一起使用：

```
function rec(Collection c, TreeNode n)
{
   TreeNode me = new TreeNode();
   n.ChildNodes.Add(me);
   for each collection v in c:
       rec(v, me)
   for each set s in c:
       AddSet(s, me)
} 
```

# android - PhoneGap ICS 在文本元素点击时出现黑屏

> ID：12193496
> 
> 赞同：1
> 
> 时间：2012-08-30T09:09:17.227
> 
> 标签：android, cordova, android-4.0-ice-cream-sandwich

在我的 PhoneGap 应用程序中，每当我点击输入文本或文本区域时，我的应用程序都会变成黑色，标题栏除外。

此问题仅发生在 ICS 电话中。Android <= 2.3 中的相同代码按预期工作，未测试 Android (3.0) 平板电脑。

在本地构建 PhoneGap 1.8.1 有什么想法吗？

PS：即使在最简单的 HTML 代码中也会发生这种情况，只需输入文本。

# android - 以数字或符号模式打开或启动软件键盘

> ID：12193502
> 
> 赞同：6
> 
> 时间：2012-08-30T09:09:42.887
> 
> 标签：android, numbers, android-softkeyboard, textinput

我搜索了很长时间才得到答案，现在是时候在stackoverflow上提出我的问题了。

我无法想象 Android 操作系统无法让软键盘以数字/符号代码开头并让用户能够切换回字母？

我已经尝试过了，但没有成功：

在代码中：

```
editTextHouseNumber.setRawInputType(InputType.TYPE_CLASS_NUMBER);
editTextHouseNumber.setInputType(InputType.TYPE_CLASS_NUMBER); 
```

xml布局文件：

```
android:inputType="textPostalAddress"
android:inputType="number|textCapCharacters"
android:inputType="number" 
```

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T10:07:14.697

据我了解，您的问题是您希望在屏幕启动后立即以数字类型打开键盘。试试这个，这是否是你想要的。

```
<EditText
                    android:layout_width="wrap_content" 
                    android:layout_height="wrap_content"
                    android:inputType="number">
    <requestFocus/>
    </EditText> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:07:26.753

试着看看这个。

[http://android-developers.blogspot.com/2009/04/creating-input-method.html](http://android-developers.blogspot.com/2009/04/creating-input-method.html)

> (EditorInfo.inputType & EditorInfo.TYPE_CLASS_MASK) 可以是许多不同的值之一，包括：
> 
> TYPE_CLASS_NUMBER TYPE_CLASS_DATETIME TYPE_CLASS_PHONE TYPE_CLASS_TEXT
> 
> *   TYPE_CLASS_NUMBER
> *   TYPE_CLASS_DATETIME
> *   TYPE_CLASS_PHONE
> *   TYPE_CLASS_TEXT

# jquery - 如何在 mousedown 和 mousemove 时放大图像并在 mouseup 时释放

> ID：12193505
> 
> 赞同：1
> 
> 时间：2012-08-30T09:09:48.107
> 
> 标签：jquery, image, mousemove, mousedown, magnify

基本上，我想在移动鼠标并按住鼠标左键时在图像上创建放大镜效果。但它就像我拖动图片一样。

我用了这个[放大的例子](http://thecodeplayer.com/walkthrough/magnifying-glass-for-images-using-jquery-and-css3)

当我单独使用 mousemove 或 mousedown 动作时，它可以完美运行，但我想将这两个动作都添加到它。

**html:**

```
<div class="magnify">
    <div class="large"></div> 
    <img class="small" title="Halten Sie die linke Maustaste-Taste für einen genaueren Blick!" src="../../Content/pictures/mypicture.png" alt="mypicture.png" />
</div> 
```

**CSS：**

```
/* Some CSS */
.magnify { position:relative; }
/* Lets create the magnifying glass */
.large { width:200px; height:200px; position:absolute; border-radius:100%;
/* Multiple box shadows to achieve the glass effect */
/* rgba(160, 195, 219, 0.85) = #a0c3db,  rgba(73, 151, 205, 0.85) = #4997cd */
/* rgba(234, 243, 250, 0.85) = #eaf3fa,  rgba(57, 136, 191, 0.85) = #3988bf */
box-shadow:0 0 0 9px rgba(73, 151, 205, 0.75), 
           0 0 7px 9px rgba(0, 0, 0, 0.25), 
     inset 0 0 40px 2px rgba(0, 0, 0, 0.25);
/* Lets load up the large image first */
background:url(/Content/pictures/mypicture.png) no-repeat;
/* hide the glass by default */
display:none; cursor:pointer;
}
/* To solve overlap bug at the edges during magnification */
.small { display:block; width:800px; border-radius:20px 20px 20px 20px; } 
```

**jQuery：**

```
var leftButtonDown = false;
$(document).ready(function ()
{   //define zero
    var native_width = 0;
    var native_height = 0;
    //Now the mousemove function
    $(".magnify").mousemove(function (e)
    {
        $(".magnify").bind('mousedown', function (en)
        {
            if (en.which === 1) { leftButtonDown = false; }
        }).bind('mouseup', function (en)
        {
            if (en.which === 1) { leftButtonDown = true; }
        })

        if (leftButtonDown == true) {
            //When the user hovers on the image, the script will first calculate
            //the native dimensions if they don't exist. Only after the native dimensions
            //are available, the script will show the zoomed version.
            if (!native_width && !native_height) {
                //This will create a new image object with the same image as that in .small
                //We cannot directly get the dimensions from .small because of the 
                //width specified to 200px in the html. To get the actual dimensions we have
                //created this image object.
                var image_object = new Image();
                image_object.src = $(".small").attr("src");
                //This code is wrapped in the .load function which is important.
                //width and height of the object would return 0 if accessed before 
                //the image gets loaded.
                native_width = image_object.width;
                native_height = image_object.height;
            } else {
                //x/y coordinates of the mouse
                //This is the position of .magnify with respect to the document.
                var magnify_offset = $(this).offset();
                //We will deduct the positions of .magnify from the mouse positions with
                //respect to the document to get the mouse positions with respect to the 
                //container(.magnify)
                var mx = e.pageX - magnify_offset.left;
                var my = e.pageY - magnify_offset.top;
                //Finally the code to fade out the glass if the mouse is outside the container
                if (mx < $(this).width() && my < $(this).height() && mx > 0 && my > 0) {
                    $(".large").fadeIn(100);
                } else {
                    $(".large").fadeOut(100);
                }
                if ($(".large").is(":visible")) {
                    //The background position of .large will be changed according to the position
                    //of the mouse over the .small image. So we will get the ratio of the pixel
                    //under the mouse pointer with respect to the image and use that to position the 
                    //large image inside the magnifying glass
                    var rx = Math.round(mx / $(".small").width() * native_width - $(".large").width() / 2) * -1;
                    var ry = Math.round(my / $(".small").height() * native_height - $(".large").height() / 2) * -1;
                    var bgp = rx + "px " + ry + "px";
                    //Time to move the magnifying glass with the mouse
                    var px = mx - $(".large").width() / 2;
                    var py = my - $(".large").height() / 2;
                    //Now the glass moves with the mouse
                    //The logic is to deduct half of the glass's width and height from the 
                    //mouse coordinates to place it with its center at the mouse coordinates
                    //If you hover on the image now, you should see the magnifying glass in action
                    $(".large").css({ left: px, top: py, backgroundPosition: bgp });
                }
            }
        } //endif leftButtonDown == true
    })
}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:11:22.717

问题如下：

**1\. 你在和事件`leftButtonDown = true/false`中走错路了。`mousedown``mouseup`**

**`mouseup`2\. 将事件转换为绑定到也是值得的`document`（如果我们有`mousedown`图像内部和图像`mouseup`外部）。**

**3.添加`en.preventDefault`以`mousedown`阻止它导致Firefox或某些浏览器尝试拖动图像。**

**4。添加`fadeOut`到`mouseup`调整行为（即使鼠标在 mouseup 后没有立即移动，它也会消失）。

```
$(".magnify").bind('mousedown', function (en)
{
    if (en.which === 1) {
        leftButtonDown = true;
        en.preventDefault();
    }
})
$(document).bind('mouseup', function (en)
{
    if (en.which === 1) {
      leftButtonDown = false;
      $(".large").fadeOut(100);
    }
}) 
```

**5\. 将上面的代码块移到`mousemove`事件处理程序之外。您只需要运行该代码一次。所以把它留`$(document).ready`在它所属的地方。**

**6\. 你的`if ( leftButtonDown ) { ... }`警卫需要移动。删除它并将条件检查移动到您的`fadeIn`和`fadeOut`条件中。**

注意`&& leftButtonDown`条件末尾的 。

```
if (mx < $(this).width() && my < $(this).height() && mx > 0 && my > 0
    && leftButtonDown )
{
  $(".large").fadeIn(100);
} else {
  $(".large").fadeOut(100);
} 
```

有关更多详细信息，请参阅此[小提琴](http://jsfiddle.net/9pAav/4/)。

* * *

我假设您还没有尝试添加代码来放大放大镜内的图像。我会把它留给你完成。

# java - 在关闭执行程序之前等待所有线程完成

> ID：12193513
> 
> 赞同：3
> 
> 时间：2012-08-30T09:10:30.640
> 
> 标签：java, wait, executorservice

这是我的代码片段。

```
ExecutorService executor = Executors.newFixedThreadPool(ThreadPoolSize);
while(conditionTrue)
{
ClassImplementingRunnable c = new ClassImplementingRunnable();
executor.submit(c);
} 
```

现在完成后

```
executor.shutdown(); 
```

我想在这里实现的是我想等待线程池中的所有线程都完成执行，然后我想关闭执行器。

但我想这不是这里发生的事情。主线程似乎正在执行关闭，它只是关闭了一切。

在我的线程池大小为 2 之前，我做了以下操作，它似乎工作。

```
ClassImplementingRunnable c1 = new ClassImplementingRunnable();
executor.submit(c1);
ClassImplementingRunnable c2 = new ClassImplementingRunnable();
executor.submit(c2);
Future f1 = executor.submit(c1);
Future f2 = executor.submit(c2);
while(!f1.done || !f2.done)
{}
executor.submit(); 
```

我如何为线程池中的更多线程执行此操作？谢谢。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-30T09:12:31.130

您通常使用以下成语：

```
executor.shutdown();
executor.awaitTermination(Integer.MAX_VALUE, TimeUnit.SECONDS); 
```

*   [`shutdown`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#shutdown%28%29)只是说执行者不会接受新工作。
*   [`awaitTermination`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29)等到所有已经提交的任务完成他们正在做的事情（或者直到超时 - 这不会发生在 Integer.MAX_VALUE - 你可能想要使用较低的值）。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-30T09:12:20.640

`shutdown`是一个“软”命令，不会突然关闭执行程序。它会做你想做的事：拒绝任何新任务，等待所有提交的任务完成，然后关闭。

添加`awaitTermination`到您的代码中以阻止执行程序服务关闭。

在[文档](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html)中，还有涵盖所有角度的代码：

```
void shutdownAndAwaitTermination(ExecutorService pool) {
   pool.shutdown(); // Disable new tasks from being submitted
   try {
     // Wait a while for existing tasks to terminate
     if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {
       pool.shutdownNow(); // Cancel currently executing tasks
       // Wait a while for tasks to respond to being cancelled
       if (!pool.awaitTermination(60, TimeUnit.SECONDS))
           System.err.println("Pool did not terminate");
     }
   } catch (InterruptedException ie) {
     // (Re-)Cancel if current thread also interrupted
     pool.shutdownNow();
     // Preserve interrupt status
     Thread.currentThread().interrupt();
   }
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:12:46.530

> 我想在这里实现的是我想等待线程池中的所有线程都完成执行，然后我想关闭执行器。

就是`executor.shutdown();`这样。如果要立即关闭，则需要使用`shutdownNow()`

# c# - 如何在 C# 中从 Sql Server 2005 读取存储过程查询？

> ID：12193514
> 
> 赞同：2
> 
> 时间：2012-08-30T09:10:29.963
> 
> 标签：c#, sql, sql-server-2005

我有一个简单的存储过程

```
CREATE PROCEDURE [dbo].[simple]

AS
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    DECLARE @sql NVARCHAR(MAX)

    SELECT @sql = '
            SELECT TOP(5) * FROM aTable'
        PRINT @sql

    EXEC sp_executesql 
        @sql
END 
```

现在，在 C# 中，如果可能的话，我想`@sql`从存储过程中获取值（在执行之后）。

我使用 Sql Server 2005。

如何在**C#**中做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:14:34.580

您需要从 SPROC 中明确返回它。

你至少有~~3~~这里有2个选项

1.  一个`OUT`参数 ( `CREATE PROCEDURE [dbo].[simple] @sql NVARCHAR(MAX) OUT`)
2.  ~~一个`RETURN`值 ( `RETURN @sql`)~~
3.  就像`SELECT @sql`你的 SPROC 的最后一行

然后，您需要在 C# 代码中将其绑定到适当的技术中

**编辑**返回不起作用 -[仅限整数表达式](http://msdn.microsoft.com/en-us/library/ms174998.aspx)

Re: 我如何在 C# 中做到这一点？

假设您使用的是 ADO.NET SqlClient：

如果你使用 OUTPUT

```
var myParam = new SqlParameter("@sql", SqlDbType.VarChar);
myParam.Direction = ParameterDirection.Output;
myCmd.Parameters.Add(myParam); 
```

如果您使用 SELECT，它将作为 SPROC 的附加结果集。由于您的 proc 已经发出一个结果集（通过'sp_executesql @sql'），这将是第二个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T09:23:28.863

从注释中，您希望在调用该方法*后*`@sql`从 C# 代码中访问。所以：

 *```
CREATE PROCEDURE [dbo].[simple]
    @sql nvarchar(4000) = null OUTPUT
AS
BEGIN
    SET NOCOUNT ON;

    SELECT @sql = N'SELECT TOP(5) * FROM aTable'

    EXEC sp_executesql @sql
END 
```

然后只需在您的 ADO.NET 代码中：

```
using(var cmd = connection.CreateCommand()) {
    cmd.CommandText = "dbo.simple";
    cmd.CommandType = CommandType.StoredProcedure;
    var sqlParam = cmd.Parameters.Add("sql", SqlDbType.NVarChar, 4000);
    sqlParam.Direction = ParameterDirection.Output;
    // TODO here: ExecuteNonQuery, ExecuteReader, etc, i.e. your existing code
    string sql = (string)sqlParam.Value;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:22:06.150

你为什么不使用这个，@sql 变量的需要是什么：

```
CREATE PROCEDURE [dbo].[simple]
AS
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    SELECT TOP(5) * FROM aTable
END 
```

C#代码：

```
 SqlConnection sqlConnection = new SqlConnection("ConnectionString"); 
    SqlCommand cmd = new SqlCommand("simple", sqlConnection);
    cmd.CommandType = CommandType.StoredProcedure;
    SqlDataAdapter adp = new SqlDataAdapter(cmd);
    DataSet ds = new DataSet();
    adp.Fill(ds); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:17:49.337

[SqlCommand](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.aspx)类具有可用于读取过程的 CommandText 属性，“获取或设置要在数据源执行的 Transact-SQL 语句、表名或存储过程” 。[您可以在此处](http://www.csharp-station.com/Tutorial/AdoDotNet/lesson07)找到一些示例。*

# linux - linux 服务器 ca-bundle.crt

> ID：12193520
> 
> 赞同：0
> 
> 时间：2012-08-30T09:10:58.027
> 
> 标签：linux, ssl, certificate, ssl-certificate, x509certificate

我有舞台服务器，我将它与 Putty 一起使用。我通过舞台服务器进入另外 4 台 linux 服务器。四台服务器分别为192.168.0.11、192.168.0.12、192.168.0.13、192.168.0.14

在这个路径 /usr/share/ssl/certs 的 192.168.0.12 linux 服务器上，有一个名为“ca-bundle.crt”的文件（文件大小 249373 字节）。不知何故，我错误地做了“vi ca-bundle.crt”，它被清理了，现在大小是 0 字节。

所有四台服务器都有这个文件并且大小相同（249373 字节）。

所以，我从另一台服务器（比如 192.168.0.11）带来了 ca-bundle.crt 并粘贴到 192.168.0.12/usr/share/ssl/certs 的同一位置

那么，它会产生任何问题吗？ca-bundle.crt 服务器是特定的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T16:02:00.870

ca-bundle.crt 是服务器信任的证书包。通常这是发行版默认安装的。我将假设所有服务器都用于相同的分布。

当然，可以将证书添加到此文件中；例如，如果您在组织中大量使用自签名证书。

听起来该文件仍然是所有机器上的默认文件（或者至少它们是相同的。我会在其他 3 台服务器上使用 md5sum 确认它只是为了比较）。

你不太可能有任何问题。管理这些服务器是有意义的，这样当有人覆盖部署中的文件时，可以从备份、配置管理系统（如 Puppet）或默认包中恢复该文件。

# python - 交叉相关的中点

> ID：12193530
> 
> 赞同：0
> 
> 时间：2012-08-30T09:12:19.283
> 
> 标签：python, scipy, cross-correlation

我有两个数据集`(x1,y1)`和`(x2,y2)`，其中第一个数据集比第二个长，这意味着`x1[0]<x2[0]`和`x1[-1]>x2[0]`。但是第一个数据集到每一边的长度一般是不一样的。

我使用 scipy 交叉关联

```
ycorr = scipy.correlate(y1,y2,mode='valid')
xcorr = np.linspace( 0,len(ycorr)-1,len(ycorr) ) 
```

我的问题是我如何找到互相关的中点 =`ycorr`如果两个数据集具有相同的长度和`mode='valid'`. 所以中点不是 xcorr[len(xcorr)/2]。

可能很难理解我的问题，所以请询问是否有不清楚的地方。

**编辑**

要找到中点，我们必须查看端点的长度。`x1`所以比最后要长多少`x2`。

中点由下式给出

```
for i in xrange( len(x1)-1 ):
    if x1[i]<x2[-1] and x1[i+1]>x2[-1]:
        I = i
        break

mid_point = (len(y1[I:-1])+len(y1[I+1:-1]))/2 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T11:53:25.867

根据[文档](http://www.tramy.us/numpybook.pdf)，当您在模式中关联`y1`(length `N+1`) 和`y2`(length `M+1`, with `M<=N`) 时`'valid'`，将返回中间`N-M+1=(N+1)-(M+1)+1`输出值，从`M` [在`'full'`模式中，值从`0`to返回`N+M`，在`'same'`模式中，`N`中间值从`(M-1)/2`]返回

所以，你应该有`len(ycorr) = len(y1)-len(y2)+1`（`=1`如果两个向量具有相同的大小）

你也`ycorr[i] = np.correlate(y1[i:len(y2)+i], y2, "valid")`有`i``range(len(ycorr))`

# wpf - 每当 ListView 子控件获得焦点时，如何更新 ListViewItem.SelectedItem？

> ID：12193534
> 
> 赞同：0
> 
> 时间：2012-08-30T09:12:26.907
> 
> 标签：wpf, listview, mvvm, selecteditem, childcontrol

如何更新焦点`ListView.SelectedItem`内的子控件何时`ListView`获得焦点？

```
<ListView ItemsSource="{Binding Path=Records, Mode=TwoWay}" IsSynchronizedWithCurrentItem="True">
     <ListView.SelectedItem>
          <Binding Path="SelectedRecord" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged"/>
     </ListView.SelectedItem>
     <ListView.ItemContainerStyle>
          <Style TargetType="{x:Type ListViewItem}">
               <Style.Triggers>
                   <Trigger Property="IsKeyboardFocusWithin" Value="True">
                         <Setter Property="IsSelected" Value="True"/>
                   </Trigger>
               </Style.Triggers>
          </Style>
     </ListView.ItemContainerStyle>
     <ListView.Resources>
          <DataTemplate DataType="x:Type ListViewItem">
               <ListViewItem IsSelected="{Binding IsKeyboardFocusWithin"/>
          </DataTemplate>
     </ListView.Resources>
     <ListView.View>
          <GridView>
              <GridViewColumn>
              <TextBox ... Tag="{Binding}".../>
              </GridViewColumn>
              <GridViewColumn>
              <TextBox ... Tag="{Binding}".../>
              </GridViewColumn>
          </GridView>
     </ListView.View>
</ListView> 
```

列`ListView`中有子控件的`GridView`行。`ListView.SelectedItem`当任何行中的任何子控件具有键盘焦点时，我想更新绑定属性。如果这可以完全在`.xaml`文件中完成，而不必求助于代码隐藏，那就太好了。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T12:58:45.407

将您的[SelectionMode](http://msdn.microsoft.com/en-us/library/system.windows.controls.listbox.selectionmode)更改`ListBox`为`Single`

如果您没有设置默认值，您当前的代码可以工作`SelectedItem`，但是如果您设置默认值，`SelectedItem`那么当您单击第二个项目时它不会自动取消选择它，因此`SelectedItem`保持绑定到默认选定项目，直到您给予该行焦点和再次删除它。

您还可以稍微简化您的 XAML。你不需要`DataTemplate`你的`ListBoxItem.Resources`，你可以直接`SelectedItem`在你的`<ListBox>`标签中设置

```
<ListView ItemsSource="{Binding Path=Records}" IsSynchronizedWithCurrentItem="True"
          SelectedItem="{Binding SelectedRecord}" SelectionMode="Single">

     <ListView.ItemContainerStyle>
          <Style TargetType="{x:Type ListViewItem}">
               <Style.Triggers>
                   <Trigger Property="IsKeyboardFocusWithin" Value="True">
                         <Setter Property="IsSelected" Value="True"/>
                   </Trigger>
               </Style.Triggers>
          </Style>
     </ListView.ItemContainerStyle>

     <ListView.View>
          <GridView>
              <GridViewColumn>
              <TextBox ... Tag="{Binding}".../>
              </GridViewColumn>
              <GridViewColumn>
              <TextBox ... Tag="{Binding}".../>
              </GridViewColumn>
          </GridView>
     </ListView.View>
</ListView> 
```

# ios - 无法从 Zend 服务器加载图像

> ID：12193544
> 
> 赞同：1
> 
> 时间：2012-08-30T09:13:15.110
> 
> 标签：ios, zend-framework, https, xamarin.ios, nsdata

我无法使用以下代码从 Zend 服务器加载图像：

```
Console.WriteLine(">" + url);
Console.WriteLine(">" + NSUrl.FromString(url));
Console.WriteLine(">" + NSData.FromUrl(NSUrl.FromString(url))); // Null on this line 
```

它仅在我尝试从服务器加载图像时出现，任何其他来源都可以正常工作。这是我的 Zend 控制器代码：

```
public function getAction()
{
    $file_id = (int)$this->_getParam('id');
    $file = $this->fileModel->getById($file_id);

    $this->getResponse()
        ->setHttpResponseCode(200)
        ->setHeader('Pragma', 'public', true)
        ->setHeader('Expires', '', true)
        ->setHeader('Cache-Control', 'public', true)
        ->setHeader('Cache-Control', 'max-age=3800')
        ->setHeader('Content-type', $file->CONTENT_TYPE, true)
        ->setHeader('Content-Length', $file->FILE_SIZE)
        ->clearBody();
    $this->getResponse()->sendHeaders();

    echo base64_decode($file->FILEBODY);
    exit;
} 
```

图片在浏览器中显示正常。我的代码有什么问题？

PS：我的服务器通过 HTTPS 工作，没有任何签名证书

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T13:55:26.303

`NSData.FromUrl`（[`dataWithContentsOfURL:`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSData_Class/Reference/Reference.html#//apple_ref/occ/clm/NSData/dataWithContentsOfURL%3a)在 Objective-C 中）将返回`null`任何错误。

来自 Apple 文档：

> 如果无法创建数据对象，则返回 nil。

所以出了点问题...

> PS：我的服务器通过 HTTPS 工作，没有任何签名证书

疑。您可能有一个自签名证书（或者您的服务器不应该高兴）。反正...

如果在尝试您的 URL 时，Safari（来自您的 iPhone/iPad）警告您有关您的网站，那么它属于*出现问题*的类别，并且`null`您获得的值是正常的。

您可能想尝试 HTTP: 以确保它与其他事物无关（例如网络问题）。

现在，如果您*真的*想使用不受信任的 SSL 服务器，您可以使用一些 .NET API，例如[`WebClient`](http://msdn.microsoft.com/en-us/library/xz398a3f.aspx).

```
 var wc = new WebClient ();
 byte[] data = wc.DownloadData (url); 
```

仅此一项就会让您获得例外（不受信任的 SSL 服务器），但 IMO 已经比简单的`null`.

接下来，您需要保证不受信任的证书。有几种不同的方法可以做到这一点（有些比其他方法好得多）。我比较完整的列表（附源代码）可以在这篇[文章](http://www.mono-project.com/UsingTrustedRootsRespectfully)中找到。

# sql - MS Access 中的聚合函数如何影响“奇数”字段类型？

> ID：12193547
> 
> 赞同：0
> 
> 时间：2012-08-30T09:13:31.090
> 
> 标签：sql, ms-access, aggregate

我在使用 MS Access 时遇到问题。我有 boolean 和 Memo 类型字段，并且我正在使用聚合函数（Group by 等）。布尔值提供有关调查结果的信息，备忘录字段解释了该结果背后的原因。

我遇到了两个小问题，

1.  **我的布尔值显示为 0（未选中）和 -1（选中）**
    我设法将它们恢复为复选框（稍微更明显它们是什么）但现在它们又回到了数字表达式，我不知道我做了什么.
2.  **我的备忘录/布尔字段在比较`FIRST`/`LAST`**
    之前表现得很奇怪，当我按备忘录字段分组时，我有重复项，带有选中布尔复选框的那些首先出现，并与备忘录字段对齐。当我应用`FIRST`逻辑时，它显示重复项的“最后一个”，例如，两个“重复项”仅因布尔值和备忘录而异，`FIRST`显示重复项 2。如果我应用`LAST`逻辑，它显示重复项 1。

为了澄清，使用`GROUP BY`它时显示如下：

```
Name|Risk? |Memo
Bob |Tick  |Description one
Bob |Untick|Description two 
```

And when selecting the risk and memo field to only display FIRST I got:

```
Name|Risk? |Memo
Bob |0     |Description two 
```

这不是重复中的第一个！

所以我不得不问，聚合布尔值是如何显示的，为什么它们会被转换为 0/-1？以及如何使用`FIRST`/`LAST`逻辑对布尔值/备忘录字段进行排序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:35:38.310

我不确定您在说什么，但零 (0) 在减一 (-1) 之前，所以否 (0) 将是第一个。至于改成0，-1，就不是，那是字段包含的，其他都是格式。如果您正在运行查询，则可以添加适合的格式：

```
 SELECT Format([ayesno],"Yes/No") FROM table 
```

更多：[格式属性 - 是/否数据类型](http://office.microsoft.com/en-us/access-help/format-property-yes-no-data-type-HA001232749.aspx)

底角显示 Top 1，这是我怀疑你想要的。

```
sSQL = "SELECT t.Comment, t.TickThis " _
& "FROM Table2 t " _
& "WHERE t.ID IN ( " _
& "SELECT Top 1 ID FROM Table2 t2 " _
& "WHERE t2.Comment=t1.Comment " _
& "ORDER BY t2.TickThis Desc, t2.Comment) " 
```

![最后，最小值，最大值](../Images/71d788b71cb6e0a094f75422c3c18828.png)

# visual-studio-2010 - Visual Studio 2010：合并库和调试符号

> ID：12193550
> 
> 赞同：4
> 
> 时间：2012-08-30T09:13:39.180
> 
> 标签：visual-studio-2010, linker, pdb

我正在使用 Visual Studio 2010 创建大约十几个小型库，我将它们合并到一个巨大的库中。

即使我不使用 pdb 文件，我也无法解决为合并库设置调试信息的问题。

我尝试使用“/Z7”选项（obj 文件中的调试信息）编译所有内容，但链接器仍在抱怨缺少 pdb 文件！

我使用以下命令编译单个 C++ 文件：

```
C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\CL.exe /c /I..\Logging
    /Z7 /nologo /W4 /WX /MP /Od /Oy- 
    /D WIN32 /D _DEBUG /D _LIB /D USING_RV /D _CRT_SECURE_NO_WARNINGS /D _UNICODE /D UNICODE 
    /Gm- /EHsc /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /GR 
    /Fo"D:\Work\branches\DSC_LONS00107672\C++\Libs\Runtime\bin\Win32\Debug\\" 
    /Gd /TP /analyze- /errorReport:queue Alert.cpp ..other...sources... /MP 
```

我使用以下方法创建小型库：

```
 C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\Lib.exe 
      /OUT:"D:\Work\branches\DSC_LONS00107672\C++\Bin\Win32\Debug\Runtime.lib" 
      /NOLOGO /MACHINE:X86 
      D:\Work\branches\DSC_LONS00107672\C++\Libs\Runtime\bin\Win32\Debug\Alert.obj
      ...other..objects... 
```

还有巨大的图书馆：

```
C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\Lib.exe     
    /OUT:"D:\Work\branches\DSC_LONS00107672\output\C++\lib\Debug\DSC.lib" 
    bridging.lib ...other...small...libraries
    /LIBPATH:D:\Work\branches\DSC_LONS00107672\C++\ThirdParty\zlib\lib\Win32\Debug\
    /NOLOGO /MACHINE:X86
    D:\Work\branches\DSC_LONS00107672\C++\DSC\bin\Win32\Debug\DSC.obj 
```

然后我将生成的库复制到一个库文件夹中，可以访问该文件夹以链接其他程序。

但是，当我将任何程序与该库链接时，我会收到很多警告，例如：

```
DSC.lib(ActionType.obj) : warning LNK4099: PDB 'vc100.pdb' was not found with 
    'DSC.lib(ActionType.obj)' or at
    'D:\src\VS2010\DSC\TestApps\LQ2Tester\bin\x64\Debug\vc100.pdb'; 
    linking object as if no debug info 
```

而且我无法调试应用程序

我错过了什么？

# matlab - matlab：删除值之间的连接

> ID：12193552
> 
> 赞同：0
> 
> 时间：2012-08-30T09:13:46.920
> 
> 标签：matlab

我有一个返回 4 个值的函数：

```
[a1 , a2 , a3 , a4] = myFonction(x,y) 
```

调用此函数时，值 a1,a2,a3,a4 连接如下：

```
truefalsevalue1value2 
```

我怎么能得到

```
true false value1 value2 
```

* * *

功能 ：

```
 function [a1, a2, a3, a4] = myFonction(v1,v2)
    a1 = getvalueFromfile(v1,v2,'text');
    a2 = getvalueFromfile(v1,v2,'value');
    a3 = getvalueFromfile(v1,v2,'attribute');
    a4 = getvalueFromfile(v1,v2,'color');
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:33:35.647

我怀疑，但不能确定，因为你还没有发布你的代码，在`.m`定义你的函数的文件末尾有这样一行：

```
[a1,a2,a3,a4] 
```

这将导致这些变量的值被打印出来——注意缺少尾随';' 抑制函数定义内的中间评估的输出。这些值将被打印出来，它们之间没有空格，而不是在您报告时。

但是，这仍然不意味着如果您正确调用该函数，则 4 个输出变量的值不会正确返回，可能是这样的：

```
[one,two,three,four] = fit(v1,v2) 
```

但实际上，当您不发布（足够）您的代码时，您怎么能期望我们回答您的问题？

# c# - UIElement.TranslatePoint 不时返回 (0,0)

> ID：12193554
> 
> 赞同：3
> 
> 时间：2012-08-30T09:13:49.353
> 
> 标签：c#, wpf

即使在测量/排列之后，它也可能返回 (0,0)。我试图在 CompositionTarget.Rendering 事件中执行它......我不时得到 (0,0) 。

是否有条件提供正确的结果？

实际上，我有自定义控件，例如带有列的 TreeView，并且需要知道从树的边界到项目容器的内容呈现器边界的偏移量（在布局期间）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-29T14:09:35.090

在我的情况下，当我调用 TranslatePoint 时UIElement的**父级为****空**，所以我得到 (0,0) 值。也许这对某人有帮助。

# c++ - 如何在 MSVS 中查看设置标志？

> ID：12193562
> 
> 赞同：0
> 
> 时间：2012-08-30T09:14:22.193
> 
> 标签：c++, visual-studio-2010, visual-studio, debugging, visual-c++

假设我有一个类型的变量，`enum`它是`|`多个设置标志的类型：

```
EnumType var = ENUM_OPTION1 | ENUM_OPTION2; 
```

如果只设置了一个标志，则监视窗口会正确显示它。如果我设置更多，我将在监视窗口中获得一个整数值。我知道为什么会这样，但是**有没有办法显示调试期间设置的所有标志？**

所以而不是拥有

```
var     |         3 
```

在监视窗口中，我会

```
var     |         ENUM_OPTION1, ENUM_OPTION2 
```

或类似的。

我也在使用 Visual Assist X，所以我会采取涉及它的解决方案，如果有的话。

# java - 如何在 PDF 中定义注释

> ID：12193572
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:14:47.190
> 
> 标签：java, annotations, itext

我开始研究 iText 5.3.2。我想为现有的 PDF 文档添加注释。我使用此处找到的代码实现了它

![在此处输入图像描述](../Images/021fb050e8fe3ee26e746f76a1fa1bcb.png)

现在我关心的是如何：

1.  设置单击注释时打开的弹出窗口的位置
2.  设置弹出数据的字体
3.  设置注释的主题
4.  设置弹出窗口的默认状态（打开或关闭）（我使用了 this 构造函数，但它没有帮助，请注意真正的倒数第二个争论）-->`PdfAnnotation.createText(writer, new Rectangle(400,480,420,500), "Title", "Text", true, "Help");`

我从[这里获取了参考](http://what-when-how.com/itext-5/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:35:30.090

我已经写了您从中获取示例的书，您的问题有点令人困惑。我以为您在谈论第 7.4.3 节（p229-230）中描述的弹出窗口，但您使用的是 p220 中的代码。

改编清单 7.28 中的代码而不是使用清单 7.21 中的代码已经可以帮助您朝着正确的方向前进。

1.  设置正在打开的弹出窗口的位置：这正是您使用 Popup 注释所做的。
2.  设置弹出数据的字体，这不是弹出注释的属性，而是正在“弹出”的父注释的属性。对于文本注释，您可以使用富文本（不要与 RTF 混淆）来执行此操作。它与 HTML 非常相似。我不知道您是否可以定义不同的字体系列。我在 Acrobat 中尝试过，我只能更改字体样式，不能更改字体系列。如果你真的想显示不同的字体，你需要创建你自己的外观（例如图 7.13）。
3.  设置主题：这将取决于注释的类型。我认为您正在寻找标题键：/ T
4.  这是 Popup 注释的一个属性。

有许多不同的方法可以解决您的问题。请阅读您从中获取代码的书。请不要只是复制/粘贴该代码。我花了很多时间写那本书，如果您提及您在网上发布的材料的来源，我将不胜感激。

# ember.js - 直接在车把文件中定义的 collectionView 的 itemViewClass 的单击事件

> ID：12193573
> 
> 赞同：2
> 
> 时间：2012-08-30T09:14:47.623
> 
> 标签：ember.js, handlebars.js

这是我的代码：

```
{{#collection contentBinding="someArray"}}
  {{#view valueBinding="view.content"}}
    <a>{{view.value}}</a>
  {{/view}}
{{/collection}} 
```

我想为上面的视图标签添加一个点击事件，我应该如何做到这一点？我尝试了以下方法但没有用：

```
{{#collection contentBinding="someArray"}}
  {{#view valueBinding="view.content" clickBinding="someFunction"}}
    <a>{{view.value}}</a>
  {{/view}}
{{/collection}} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T14:46:14.497

尝试`<a {{action eventHandler target="view"}}>`，`eventHandler`作为视图中的一个函数，它需要一个`event`. 如有必要，您可以传递一个上下文：`<a {{action eventHandler this target="view"}}>`，（在 的情况下为当前车把上下文`this`），它可以`event.context`在处理程序中访问。

# c - 检测父进程的死亡

> ID：12193581
> 
> 赞同：12
> 
> 时间：2012-08-30T09:15:10.620
> 
> 标签：c, linux

如何检测 Linux 操作系统中的父进程死亡？

如果在父进程中调用`fork()`，则创建子进程。在父进程中，我可以使用系统调用`wait()`来等待终止的子进程并获取其状态。

但是，我找不到有关子进程如何检测父进程死亡的信息？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-30T09:18:08.263

`getppid()`您可以通过调用然后通过发送信号 0 来获取父进程 ID `kill()`。返回码 0 表示该进程仍处于活动状态。

正如@Ariel 所提到的，`getppid()`将返回原始父级的pid 或init 的pid，这将是pid 1。因此，您要么必须通过`getppid()`在启动时调用来存储父pid，要么稍后检查您的父级是否具有pid 1。

根据 Linux 上的[这个答案](https://stackoverflow.com/a/284443/1340631)，您还可以通过`prctl()`'s`PR_SET_PDEATHSIG`选项和自选信号检测父母的死亡。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2019-06-26T20:44:14.137

如果父进程和子进程在其生命周期内都在您的控制之下，那么最可移植的方法是与父进程共享管道或套接字的一半。

1.  在 fork 之前，打开一个 pipe() 或 socketpair()。
2.  分叉后，
    1.  在父级中，关闭管道的读取端或第一个套接字。
    2.  在孩子中，关闭管道的写入端或第二个套接字。
3.  在父级中，将剩余的文件描述符隐藏起来并忘记它。
4.  在 child 中，使用任何多路复用的 IO 方法（select、poll 等）来测试描述符的可读性
5.  如果描述符变得可读，则几乎可以肯定父级已死，或者某些罕见的错误导致了杂散写入，您可以通过调用 read() 来检查。如果父级真的死了， read() 将返回 0 个字节。

这种方法的优点是它完全避免了信号，这是 UNIX 中最难掌握的机制之一，并提供了一个等待描述符，可以很容易地与网络多路复用器或 GUI 事件循环集成。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-12-06T13:33:45.257

在我的 Ubuntu 16.04.1 LTS 中，getppid() 不返回“1”，但在父级杀死后进程的 id 为“/sbin/upstart --user”，因此检查 getppid() == 1 将不起作用并且应该保存 getppid()在孩子开始和后来比较。

# java - 执行后将子线程的状态传递给其父线程

> ID：12193582
> 
> 赞同：0
> 
> 时间：2012-08-30T09:15:12.977
> 
> 标签：java, multithreading

我想从可运行线程抛出异常，但不可能从线程抛出异常，所以我们可以将 chlild 线程的状态（任何异常）传递给父线程吗？

我阅读了有关 thread.join() 的信息，但在这种情况下，父线程等待子线程完成其执行。

在我的情况下，我的父线程在一段时间后一个接一个地启动线程，但是当任何线程抛出异常时，它应该将失败通知给客户，这样父线程就不会启动其他线程。

有什么方法可以实现吗？谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:32:36.177

要详细说明@zeller 的答案，您可以执行类似以下构造的操作：

```
//Use a Callable instead of Runnable to be able to throw your exception
Callable<Void> c = new Callable<Void> () {
    public Void call() throws YourException {
        //run your task here which can throw YourException
        return null;
    }
}

//Use an ExecutorService to manage your threads and monitor the futures
ExecutorService executor = Executors.newCachedThreadPool();
List<Future> futures = new ArrayList<Future> ();

//Submit your tasks (equivalent to new Thread(c).start();)
for (int i = 0; i < 5; i++) {
    futures.add(executor.submit(c));
}

//Monitor the future to check if your tasks threw exceptions
for (Future f : futures) {
    try {
        f.get();
    } catch (ExecutionException e) {
        //encountered an exception in your task => stop submitting tasks
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:20:29.807

您可以使用[Callable](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Callable.html)`<Void>`代替自定义线程池`Runnable`，也可以使用 an`ExecutorService`代替自定义线程池。Callable-s`call`抛出异常。
使用 an`ExecutorService`还可以管理跟踪[submit](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ExecutorService.html#submit%28java.util.concurrent.Callable%29)`Future`返回的 -s的正在运行的任务。通过这种方式，您将了解异常、任务完成等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:17:41.133

而不是实现`Runnable`接口实现[Callable](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html)接口，返回值给父线程。

> 我想从可运行线程抛出异常，但不可能从线程抛出异常，所以我们可以将 chlild 线程的状态（任何异常）传递给父线程吗？

--> @assylias 说：不要通过返回值传递异常，只需抛出它。然后，您可以从父线程中捕获它，通常使用 future.get(); 调用将引发 ExecutionException。

而且，`Callable.call() throws Exception`这样你就可以直接扔了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:19:50.133

使用并发集合在父线程和子线程之间进行通信。在您的`run`方法中，执行一个`try/catch`块来接收所有异常，如果发生异常，请将其附加到用于与父级通信的集合中。父级应检查集合以查看是否发生任何错误。

# javascript - 使用 JavaScript 构建 HTML 表格，行顺序

> ID：12193584
> 
> 赞同：2
> 
> 时间：2012-08-30T09:15:16.640
> 
> 标签：javascript, html, html-table, row

我正在使用 Javascript 动态构建一个 html 表；这是我的 html 表：

```
<table class="ui-list" cellpadding="2" id = "tbl">
                <thead>
                    <tr>
                        <th>Artikel ID</th>
                        <th>Artikelnr</th>
                        <th>Bezeichnung</th>
                        <th>Stk.</th>
                        <th><?php echo FW_HTML_Button::build('entfernen', array('onclick' => '' ,'id'=>'get_button')); ?></th>

                    </tr>
                </thead>
                <tbody>
                    <tr>
                    <td></td>
                    <td></td>
                    <td>Gesamt:</td>
                    <td></td>
                    <td>Action:</td>
                    </tr>
                <!-- Fill with JS -->
                </tbody>
            </table> 
```

这就是我用行填充它的方式：

```
 function addRow(tableID) {

                var table = document.getElementById(tableID);

                var rowCount = table.rows.length;
                var row = table.insertRow(rowCount);

                var cell1 = row.insertCell(0);
                var element1 = obj[16][count]["id"]["article_id"];
                cell1.innerHTML = element1;

                var cell2 = row.insertCell(1);
                var element2 = obj[16][count]["id"]["article_no_internal"];
                cell2.innerHTML = element2;

                var cell3 = row.insertCell(2);
                var element3 = obj[16][count]["id"]["article_name_internal"];
                cell3.innerHTML = element3;

                var cell4 = row.insertCell(3);
                cell4.innerHTML = obj[16][count]["stk"];;

                var cell5 = row.insertCell(4);
                var element4 = document.createElement("input");
                element4.type = "checkbox";
                cell5.appendChild(element4);

            } 
```

它工作得很好，我唯一的问题是你可以看到我的 html 部分中已经有一行，我想将新行放在我在 html 中创建的行之前。现在它总是将新行放在写有“gesamt”和“action”的行之后。是否有可能使这有所不同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:21:38.047

采用

```
var row = table.insertRow(rowCount - 1); 
```

代替

```
var row = table.insertRow(rowCount); 
```

（当然，假设保证您的表格中始终有该页脚行）。

见：http: [//jsfiddle.net/hwSfG/](http://jsfiddle.net/hwSfG/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:18:06.937

您可以使用 JQuery .prepend() 函数。它在父元素的开头插入元素： http: [//api.jquery.com/prepend/](http://api.jquery.com/prepend/)

# iphone - 如何使用 MGTwitterEngine 发送直接消息

> ID：12193585
> 
> 赞同：0
> 
> 时间：2012-08-30T09:15:18.557
> 
> 标签：iphone, twitter, mgtwitterengine

**[我想使用https://api.twitter.com/1/direct_messages/new.format](https://api.twitter.com/1/direct_messages/new.format)**向我的 Twitter 关注者发送直接消息，但不知道如何执行此操作。有人可以为此提供任何示例代码吗？

我对此进行了很多搜索，但没有得到如何获得这些值：

oauth_nonce、oauth_signature、oauth_signature_method、oauth_timestamp、oauth_token。

预先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-04T13:20:22.103

这是使用 Twitter 引擎发送直接消息的方法

```
 appDelegate._engine = [[SA_OAuthTwitterEngine alloc] initOAuthWithDelegate: self];
        appDelegate._engine.consumerKey = kOAuthConsumerKey;
        appDelegate._engine.consumerSecret = kOAuthConsumerSecret; 
```

一旦你得到认证，这个方法就会被调用

```
 #pragma mark SA_OAuthTwitterControllerDelegate

    - (void) OAuthTwitterController: (SA_OAuthTwitterController *) controller authenticatedWithUsername: (NSString *)username {
     NSLog(@"Authenicated for %@", username);
     [appDelegate._engine sendDirectMessage:@"Test for Twitter direct message" to:username];
} 
```

# mongoid - 使用 mongoid 查看 MongoDB 中的现有索引

> ID：12193591
> 
> 赞同：19
> 
> 时间：2012-08-30T09:15:39.950
> 
> 标签：mongoid, indexing

我想看看 MongoDB 使用的现有索引。我可以做相当于

```
$ mongod
> use my_db
> db.system.indexes.find() 
```

使用Mongoid？

```
$ rails console
> ? 
```

从我使用 MongoHQ 的 heroku 应用程序会很方便。谢谢！

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-08-30T12:44:25.793

您可以通过其获取 Mongoid 模型的基础索引`collection`。

```
> YourModel.collection.indexes 
```

这延伸到轻便摩托车司机（在 Mongoid 3 中）。见[http://mongoid.org/en/moped/docs/driver.html](http://mongoid.org/en/moped/docs/driver.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-04-01T02:14:58.387

为了使用史蒂夫的答案，我将它添加到一个模块中来做“常见的事情”：

```
module CommonModelMethods
  extend ActiveSupport::Concern
  class_methods do
    def show_indexes
      self.collection.indexes.to_a.collect{|i| i[:key]}
    end
  end
end 
```

然后可以将该模块包含在您的类中（在开发过程中很有用）：

```
class WaterSupply
  include Mongoid::Document
  include CommonModelMethods
  ...
end 
```

这可能会在控制台中产生类似的结果：

```
2.4.5 :031 > WaterSupply.show_indexes
 => [{"_id"=>1}, {"location"=>"2dsphere"}, {"address"=>1}, {"organization_id"=>1, "address"=>1}] 
```

# android - 在android中使用sqlite的strftime函数

> ID：12193593
> 
> 赞同：4
> 
> 时间：2012-08-30T09:15:53.863
> 
> 标签：android, sqlite, strftime

您好，我在我的数据库中插入了一些日期。

当我在另一个表中使用 sqlite3 格式`YYY-MM-DD`时，当我进行查询时

```
SELECT * 
FROM SDay 
WHERE  strftime('%Y-%m-%d', date)>=strftime('%Y-%m-%d','2013-02-21')
    AND  strftime('%Y-%m-%d', date)<strftime('%Y-%m-%d','2013-09-15') 
```

它工作得很好。

另一方面，当我`YYY-MM`在另一个表中使用格式时，

```
SELECT * 
FROM SMonth 
WHERE  strftime('%Y-%m', date)>=strftime('%Y-%m','2013-02') 
    AND  strftime('%Y-%m', date)<strftime('%Y-%m','2013-09') 
```

不会工作。为什么会发生，我该如何解决？

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:22:39.647

在您的第二个语句中，`strftime`提供了一个无效的`timestring`. 这会导致函数返回`NULL`：

```
sqlite> .nullvalue <NULL>
sqlite> select strftime('%Y-%m','2013-02');
<NULL> 
```

只需将日期添加到您提供的日期，它就会正常工作：

```
sqlite> select strftime('%Y-%m','2013-02-01');
2013-02 
```

[您可以在此处](http://www.sqlite.org/lang_datefunc.html)找到有效`timestring`格式的列表。

# c# - 我们如何使用 url rewrite 来生成和获取 url，如 google 提供 cutome 网站 url

> ID：12193595
> 
> 赞同：0
> 
> 时间：2012-08-30T09:16:11.273
> 
> 标签：c#, asp.net

我需要像谷歌这样的动态网站提供在线网站的开发和设计服务，我已经完成了数据库和设计的所有工作，但是如果找不到页面那么我怎么能在加载 Web 应用程序时获取 url 然后 404 错误英亩

在谷歌

网站 url 将是 www.website.google.com/ourlwebsitename 这里 ourlwebsitename 是作为用户创建名称的示例。我想做同样的事情。

www.mywebsite.com/userchiceaname

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T10:47:47.967

您可以在 Global.asax 文件中拦截 Application_Error 事件中的错误。

然后您可以通过 HttpContext.Current.Request.Url 属性访问 Url 并决定如何处理此错误。

# jquery - 居中图片

> ID：12193597
> 
> 赞同：3
> 
> 时间：2012-08-30T09:16:15.707
> 
> 标签：jquery, html, css

我想在一个隐藏溢出的 div 中居中图像

就像一个框架，然后无论大小的图片都居中。

```
<div class="holder">
   <div id="frame">
      <img src="http://www.travelblog.org/Wallpaper/pix/tb_fiji_sunset_wallpaper.jpg" class="centerme"/>
   </div>
</div>​ 
```

查看图片了解更多信息： ![在此处输入图像描述](../Images/d19b13461eb40bcb7b8ad438f52ec498.png)

标准状态总是溢出：隐藏；

但需要它始终居中，即使是比框架大 3 倍的图片

*这里是 JSfiddle [http://jsfiddle.net/UL3qp/4/](http://jsfiddle.net/UL3qp/4/)

*EDIT
最后需要的是循环这个事件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:30:58.923

[http://jsfiddle.net/HCabZ/2/](http://jsfiddle.net/HCabZ/2/)试试这个垂直对齐中心以及左右中心

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T10:09:44.117

[使用 jQuery](http://jsfiddle.net/UL3qp/21/)使图像居中很简单- 通过设置正或负`margin-left`属性：

```
$(document).ready(function(){
    var fwidth = $('#frame').width();
    var iwidth = $('#frame img').width();
    $('#frame img').css('margin-left', Math.floor((fwidth-iwidth)/2));
}); 
```

只有纯 CSS 可以通过[背景图像 css 属性](https://stackoverflow.com/questions/388180/how-to-make-an-image-center-vertically-horizontally-inside-a-bigger-div/402643#402643)而不是使用`img`标签来完成。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:21:02.783

添加样式：

```
#frame{padding:15px; text-align:center}
#frame img{max-width:100%} 
```

检查这个小提琴[http://jsfiddle.net/HCabZ/](http://jsfiddle.net/HCabZ/)

# jquery - jQuery 多选无法通过单击事件删除选项

> ID：12193598
> 
> 赞同：2
> 
> 时间：2012-08-30T09:16:16.140
> 
> 标签：jquery, html, select, multi-select

我正在使用多选（[多选网站](http://quasipartikel.at/multiselect/)）jQuery 插件。它工作得很好，但出于我的目的，我需要在我的页面上添加一个重置按钮，当你点击它时，它将删除已经选择的所有选项并将多选重置为默认状态。

我已经设法通过从它自身附加的选择框中删除 selected 属性来删除选项，但它不会更新多选中的 html，因此实际上选择框没有选择任何内容，只是 html 保持不变。

不幸的是，该插件没有很好的文档记录，我被迫使用这个（根据客户的要求）所以其他人知道怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:22:17.543

这个多选小部件使用 jQuery UI 小部件框架，但似乎没有提供`refresh()`在增强元素的状态更改时更新小部件的方法。

但是，您可以通过完整的销毁/创建周期来模拟它：

```
$("#yourElement").multiselect("destroy").multiselect({
    // Your options...
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-23T13:47:33.377

这很简单，您需要将属性删除到原始选择并刷新内容。

```
$("#my-select option[value=\""+this.valeur+"\"]").remove();
$('#my-select').multiselect('refresh'); 
```

# c# - 对于具有相同属性的对象，哈希码会给我相同的结果吗

> ID：12193599
> 
> 赞同：-4
> 
> 时间：2012-08-30T09:16:18.093
> 
> 标签：c#, hashcode

如果我有引用类型对象，并且我创建了两个具有相同属性的对象，它们会有相同的哈希码吗？

样本类：

```
class Person
{
   int id;
   string name;

   public Person(int pid, string pname)
   {
      this.id = pid;
      this.name = pname;
   }
} 
```

然后定义两个对象：

```
Person p1 = new Person(1,"xxx");
Perdon p2 = new Person(1,"xxx"); 
```

> //p1.GetHashCode() = p2.GetHashCode() ??

编辑：我尝试了这段代码并得到了不同的结果，但是在字符串上测试东西给了我相同的结果
，我为什么要问

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:17:48.603

如果 Person 是一个结构，那么哈希码将从成员值生成，并且您将得到相同的结果。但是，对于一个类，默认的哈希码实现将为每个对象提供一个唯一的哈希码，基于它们的内存引用。

因此，在这种情况下，如果您希望 p1 和 p2 具有相同的哈希码，则必须提供自己的实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:18:08.140

您有责任`GetHashCode`自己实施。如果您不这样做，尽管它们应该具有相同的哈希码，但它们将不会具有相同的哈希码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T10:26:34.043

默认实现见这里：http: [//msdn.microsoft.com/en-us/library/system.object.gethashcode.aspx](http://msdn.microsoft.com/en-us/library/system.object.gethashcode.aspx)

*GetHashCode 方法的默认实现不保证不同对象的唯一返回值。此外，.NET Framework 不保证 GetHashCode 方法的默认实现，它返回的值在不同版本的 .NET Framework 之间是相同的。因此，此方法的默认实现不得用作散列目的的唯一对象标识符。*

但我认为你真正想知道的是哈希码是如何工作的。

假设您有以下课程：

```
public Person
{
    private string name;
    public Person(Name name)
    {
        this.name = name;
    }
} 
```

现在，假设你想比较两个 Person 并检查他们是否有相同的名字，你是怎么做的？您覆盖在 Object 中实现的等号。（C# 中的所有类都隐式扩展 Object）像这样：

```
public Person
{
    private string name;
    public Person(Name name)
    {
        this.name = name;
    }

    public override bool Equals(Object obj)
    {
        if(obj == null)
            return false // not equal if obj is null

        Equals temp = obj as Equals; // temp set to null if obj can not be cast to equals
        if(p == null)
            return false

        // if code gets here, the code object passed is an instance of Equals.
        // Now we have to check if the strings match.
        bool isEqual = p.name == this.name; // set if the two names match
        return isEqual; // return if these two match
    }
} 
```

所以现在，你可以检查两个人是否相等。例子：

```
Person p1 = new Person("Jack");
Person p2 = new Person("Jack");
Person p3 = new Person("Jill");
Object p4 = new Person("Jill");

p1.Equals(p2) // returns true
p1.Equals(p3) // returns false
p4.Equals(p1) // returns false
p4.Equals(p3) // returns true 
```

现在，假设您有一个庞大的人员列表，例如一百万，并且您想知道`"amy"`此列表中是否存在被命名的人。你会怎么找到这个人？您是否会一一遍历所有名称并检查该 Person 是否等于 amy？但这会很慢，如果艾米是这个名单中的第 100 万人怎么办？我们如何提高性能？

输入哈希码。

假设您编写了一个简单的哈希码算法：哈希码是人名中每个字母的每个数字的总和。

```
public Person
{
    private string name;
    public Person(Name name)
    {
        this.name = name;
    }

    public  override bool Equals(Object obj)
    {
        if(obj == null)
            return false // not equal if obj is null

        Equals temp = obj as Equals; // temp set to null if obj can not be cast to equals
        if(p == null)
            return false

        // if code gets here, the code object passed is an instance of Equals.
        // Now we have to check if the strings match.
        bool isEqual = p.name == this.name; // set if the two names match
        return isEqual; // return if these two match
    }

    public override int GetHashCode()
    {
        int sum = 0;
        foreach(char c in this.name)
        {
            sum += c;
        }
        return sum;
    }
} 
```

所以如果我们有`amy`她的哈希码`1 + 13 + 25`，那么`38`。

现在，您有一个带有所谓“桶”的列表，而不是普通列表。你的哈希码决定了你去哪个桶。如果她进入 bucket ，`amy`则有一个 hascode 。`38``38`

现在假设我们有另一个人，names `may`，她的名字中有相同的字母，所以她的哈希码也是`38`，她也进入桶`38`

现在，每当您想检查 amy 是否存在于此列表中时。我们首先检查她的哈希码，`38`现在我们在桶 38 中查找，并遍历桶中的所有对象，`38`我们检查桶中的任何对象是否`38`与 amy 匹配，如果为 true，则返回 true，如果为 false，则返回 false。因此，如果您有一百万人，那么您必须执行的检查列表以了解`amy`此列表中是否存在将大大减少。

所以基本上，如果你要使用哈希码，你必须遵守以下规则：

*   如果你要使用哈希码，你必须重写和实现 equals。
*   对于 Equals 返回 true 的两个对象，它们必须始终具有相同的哈希码
*   不同的两个对象*可能*具有相同的哈希码，但不一定必须相同。

这基本上就是它的要点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:18:31.150

默认情况下它们不会（对于引用类型）。你可以试试这个看看。

如果您希望它们具有相同的哈希码，则必须相应地编写自己的 GetHashCode()。

# ember.js - Ember.js 中的 Hello World：这里有什么问题？

> ID：12193600
> 
> 赞同：1
> 
> 时间：2012-08-30T09:16:19.867
> 
> 标签：ember.js

我准备了一个小提琴来更好地暴露问题。

[http://jsfiddle.net/Xbxwr/](http://jsfiddle.net/Xbxwr/)

代码：

```
App = Ember.Application.create();

App.MyView = Ember.View.extend({ templateName: "MyView" });

App.myCollectionView = Ember.CollectionView.create({
    itemViewClass: App.MyView,
    content: [
        Ember.Object.create({ name: "World" }),
        Ember.Object.create({ name: "Foo" }),
        Ember.Object.create({ name: "Bar" })
    ]
});

$(function() { App.initialize(); }); 
```

看法 ：

```
<script type="text/x-handlebars">
   {{collection App.myCollectionView}}
</script>

<script type="text/x-handlebars" data-template-name="MyView">
  <h1>Hello, {{name}}!</h1>
</script>​ 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:40:31.613

首先，`{{collection}}`助手需要一个`Ember.View`类而不是`Ember.View`实例。您必须替换`Ember.CollectionView.create()`为`Ember.CollectionView.extend`.

接下来，在您的模板中，您必须根据[View context changes](https://gist.github.com/2494968)`{{name}}`替换为。`{{view.content.name}}`

这是您更新的 JSFiddle：http: [//jsfiddle.net/AzV4f/](http://jsfiddle.net/AzV4f/)

**编辑**

写作`{{name}}`手段`context.name`，其中上下文通常是控制器（[见源代码](https://github.com/emberjs/ember.js/blob/master/packages/ember-views/lib/views/view.js#L618)）。由于`Ember.ObjectController`,`Ember.ArrayController`只是代理，这些属性被委托给它们的内容（[参见 ObjectProxy 源代码](https://github.com/emberjs/ember.js/blob/master/packages/ember-runtime/lib/system/object_proxy.js#L104)）。

所以你要写`{{view.content.name}}`，因为你要的`name`属性`view.content`。

正如@tomdale[在此要点评论中](https://gist.github.com/2494968#gistcomment-345434)所说：

> 在项目视图的模板中，`view`应该引用项目视图，并且`view.content`应该引用内容数组中的项目。

您可以看到带有控制器的 JSFiddle，而无需指定`view`：[JSFiddle](http://jsfiddle.net/Xp2ss/)

# php - PHP 中全局的替代方案

> ID：12193601
> 
> 赞同：1
> 
> 时间：2012-08-30T09:16:20.117
> 
> 标签：php, oop

除非绝对必要，否则全局变量通常被认为是不好的做法，因此我正在寻找实现某些功能的替代方法。

我们目前正在用 PHP 开发一个 CMS 系统，并希望允许其他开发人员轻松地为 CMS 编写模块。我们定义了一个 CMS 类，如下所示：

```
class CMS
{
    public $version;
    public $sitename;
    public $siteurl;
    public $tbl_prefix;

    function __construct()
    { 

    }

    function RegisterModule()
    {

    }
} 
```

现在，我们想生成一个 的实例`CMS`，并通过一个变量让开发人员（以及所有模块和核心文件）可以访问它`$_cms`：由于我们不能在 PHP 中为对象使用常量变量，并且使用单例模式提供了笨拙的语法来访问实例（即`CMS::GetInstance()->RegisterModule()`），有没有办法在不定义包含实例的全局变量的情况下实现我们想要的`CMS`？

理想情况下，我们正在寻找类似以下语法的东西：

`_cms->RegisterModule();`或`$_cms->RegisterModule();`，首选前者。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:20:49.320

要求将插件编码为类，`extend`该类`CMS`或者接受它作为其构造函数的参数。这也称为依赖注入，几乎是您可以获得的最干净的界面。

```
class MyPlugin {

    public function __construct(CMS $cms) {
        ...
    }

} 
```

要求插件是类也使得从你的应用程序中包含它们变得非常干净和容易，因为它们是独立的并且可以轻松地遵循特定的命名和接口约定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:19:55.923

您可以使用静态类将方法调用重定向到 GetInstance()-Methods。

是否需要有一个实例，或者是否可以将 CMS 类声明为静态？

[http://www.php.net/manual/en/language.oop5.static.php](http://www.php.net/manual/en/language.oop5.static.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:29:19.143

我不知道我是否在进行降神会，尽管让我提出我的看法代码文件

```
function __call($name,$params)
{
   if($name == 'RegisterModule')
   {
      $cms = myRegisty::get('cms');
      $cms->RegisterModule($params); 
   }

} 
```

在模块注册时，它看起来像

```
RegisterModule($params); 
```

希望它有所帮助:)我认为你的关注是关于语法并且想要更敏锐的代码所以这就是我的观点

# javascript - Javascript数组表分页

> ID：12193602
> 
> 赞同：1
> 
> 时间：2012-08-30T09:16:25.717
> 
> 标签：javascript, arrays, pagination

我想为这个具有分页控件的简单 JavaScript 数组表实现分页（每页 5 条记录）。

到目前为止，我创建了一个包含数据的表：

```
 jsfiddle.net/QwBsa/13/ 
```

任何人都可以将我路由到任何演示或参考吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:22:07.963

尝试使用 jQuery.dataTables ......它提供了分页和排序选项，包括这个

```
 <link href="css/demo_page.css" rel="stylesheet" id="stylesheet"/>
      <link href="css/demo_table.css" rel="stylesheet" />
     <script  src="js/jquery.dataTables.js"></script> 
```

并在javascript中创建像你一样的表并将类名声明为“abc”

```
 var table = document.createElement('table');
               table.setAttribute("class","abc");
              var tbody = document.createElement('tbody'); 
```

并且调用 jquery 显示长度将是要显示的数据数，

jQuery 调用：

```
 $('#abc').dataTable({

        "iDisplayLength": 5,

           }); 
```

参考使用见网站

www.datatables.net

# java - EJB 3 JMS 配置加载异常 || 是 7

> ID：12193604
> 
> 赞同：1
> 
> 时间：2012-08-30T09:16:33.830
> 
> 标签：java, jakarta-ee, jms, websphere, ejb-3.0

我已经成功地为 IBM Webshere 配置了 JMS 主题和队列。

我以这样一种方式使用 JMS 主题，即侦听器类是所有子类的基础。像以下方式：

```
public class Base implements MessageListener {
  public void onMessage(javax.jms.Message message) { } }

@MessageDriven(activationConfig={
@ActivationConfigProperty(propertyName="messagingType",propertyValue="javax.jms.MessageListener"),
@ActivationConfigProperty(propertyName="destinationType",propertyValue="javax.jms.Topic"),
@ActivationConfigProperty(propertyName="destination",propertyValue="topic/Test"),
@ActivationConfigProperty(propertyName="messageSelector",propertyValue="RECIPIENT='TestR'")},messageListenerInterface=MessageListener.class)

public class TopicSubScriber extends Base {    

} 
```

我收到以下错误：

```
the class contains the @MessageDriven annotation but is not a valid
  message-driven bean: no message listener interface can be determined 
```

**注意：**这两个类位于不同的模块中。

似乎它没有加载 Base 类。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T10:54:34.237

我也申请了以下 IBM Web sphere fix pack 7 但没有白费.. [http://www-01.ibm.com/support/docview.wss?uid=swg1PM70521](http://www-01.ibm.com/support/docview.wss?uid=swg1PM70521)

问题也可以通过在 TopicSubScriper 上实现 MessageListener 来解决（即使超类得到了它）..因为这个解决方案没有虚构的影响，所以我很高兴:)

非常感谢 SiB 和 Aviram Segal 的帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T17:26:01.073

在 IBM Websphere 的一个类似[线程](http://www-01.ibm.com/support/docview.wss?uid=swg21595667)中，答案说

> 回答
> 
> *忽略此错误消息，因为没有功能影响。*

[Java EE 教程](http://docs.oracle.com/javaee/5/tutorial/doc/bnbpo.html)说

> *建议**但不是必需**的，消息驱动 bean 类为它支持的消息类型实现消息侦听器接口。支持 JMS API 的 bean 实现**javax.jms.MessageListener**接口*

不过如果你想避免错误信息，我觉得你可以`implements MessageListener`试试`TopicSubScriper`

# php - 无法在 PHPUnit 中使用数据提供者运行单个测试

> ID：12193606
> 
> 赞同：16
> 
> 时间：2012-08-30T09:16:50.133
> 
> 标签：php, phpunit

使用命令行运行测试时遇到问题：如果我像这样运行 phpunit：

```
phpunit -–no-configuration -–filter testAdd DataTest DataProviderTest.php 
```

它工作正常。但是我们使用正则表达式来准确指定我们想要测试的方法的名称：

```
phpunit -–no-configuration -–filter /::testAdd$/ DataTest DataProviderTest.php 
```

不幸的是，第二种方法不起作用。源代码是：

```
<?php
class DataTest extends PHPUnit_Framework_TestCase
{
    /**
     * @dataProvider provider
     */
    public function testAdd($a, $b, $c)
    {
        $this->assertEquals($c, $a + $b);
    }

    public function provider()
    {
        return array(
          array(0, 0, 0),
          array(0, 1, 1),
          array(1, 0, 1),
          array(1, 1, 3)
        );
    }
}

?> 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-30T17:37:11.533

处理有或没有数据集的测试的正则表达式是

```
phpunit --filter "/::<method>( with data set .*)?$/" <class> <file> 
```

例如

```
phpunit --filter "/::testAdd( with data set .*)?$/" DataTest DataProviderTest.php 
```

由于除非有数据集，否则测试方法的名称中不会有空格，因此您可以将其缩小为

```
phpunit --filter "/::testAdd( .*)?$/" DataTest DataProviderTest.php 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-30T13:52:12.097

就像@sjoerd 指出的那样，匹配的名称包含数据集的编号。

这意味着这有效：

```
phpunit --filter "testAdd with data set #0" DataTest DataProviderTest.php 
```

针对您的文件产生：

```
PHPUnit 3.7.0RC1 by Sebastian Bergmann.

.

Time: 0 seconds, Memory: 5.25Mb

OK (1 test, 1 assertion) 
```

在 PHPUnit 3.5 及更高版本中测试。

* * *

它不是很漂亮，在 PHPUnit 中为此使用另一种语法肯定是更可取的，但现在它可能会解决你的问题，一旦有人发送 PR，它会更好用;)

跟踪问题以获得更好的语法[**`phpunit github issue tracker`**](https://github.com/sebastianbergmann/phpunit/issues/622)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-03-20T10:43:20.880

通过使用带有命名数据集的数据提供者，现在变得更简单了：

```
public function provideData()
{
    yield "dataset name 1" => [
        $expected = 0,
        $val1 = 1,
        $val2 = 2
    ];

    yield "dataset name 2" => [...];
} 
```

`$ phpunit --filter "dataset name 2"`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-10-22T18:23:02.293

答案中的正则表达式似乎不再起作用（至少在 4.0.12 中不起作用）。

看起来 --filter 不喜欢这个空间，并给出以下错误：

致命错误：“preg_match(): Compilation failed: missing ) at offset

这是通过用 \s 替换空格来解决的。引号也需要被删除（否则 \ 需要是 \）

```
phpunit --filter /::testAdd(\s.*)?$/ DataTest DataProviderTest.php 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-30T10:42:41.530

在这种情况下，正则表达式与以下字符串匹配：

```
DataTest::testAdd with data set #0
DataTest::testAdd with data set #1
... 
```

所以自然你的正则表达式`testAdd$`不会工作。

# android - 如何将捕获的图像保存在 sdcard 中？

> ID：12193607
> 
> 赞同：0
> 
> 时间：2012-08-30T09:17:04.970
> 
> 标签：android, android-file

我想使用默认相机并捕获图像。我想将图像保存在 sdcard/photofolder/ 中，并将文件名保存为 sdcard/photofolder/ 中的当前时间格式，还在 imageview 页面中显示捕获图像

```
Uri outputFileUri = Uri.fromFile("/sdcard/Photofolder/");    
Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
startActivityForResult(intent, CAMERA_REQUEST);

    protected void onActivityResult(int requestCode, int resultCode, Intent data) {  
            if (requestCode == CAMERA_REQUEST) {  
                Bitmap photo = (Bitmap) data.getExtras().get("data"); 
               // imageView.setImageBitmap(photo);

                BitmapFactory.Options options = new BitmapFactory.Options();
                options.inSampleSize = 4;
                Bitmap bitmap = BitmapFactory.decodeFile(picFileName, options);
                imageView.setImageBitmap(bitmap);
                imageView.setVisibility(View.VISIBLE);

            }  
        } 
```

有什么想法吗？提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:52:24.187

您可以获得 SDCard 路径，例如..

```
String root = Environment.getExternalStorageDirectory().toString();

new File(root + "/photofolder").mkdirs(); 
```

然后您可以将文件保存到`root + "/photofolder/20120830025700.jpg"`.

* * *

您是否请求了写入 SD 卡的权限？将以下字符串添加到您的应用清单：

```
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:22:35.050

尝试这个

```
private void cameraOn() {
            tempUri = "sdcard/......";
        i = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        i.putExtra(MediaStore.EXTRA_OUTPUT, tempUri);
        startActivityForResult(i, cameraData);
    } 
```

获取位图

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        switch (requestCode) {
        case cameraData:
            if (resultCode == RESULT_OK) {
                Bitmap bmp = BitmapFactory.decodeFile(tempUri.getPath(), null);
                imageShow.setImageBitmap(bmp);
            } 
            break;
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:23:08.603

尝试在 onActivityResult() 中使用它

```
setupImage(photo); 
```

和

```
public Bitmap setupImage(Intent data) { 
      BitmapFactory.Options options = new BitmapFactory.Options(); 
      options.inSampleSize = SAMPLE_SIZE;     // SAMPLE_SIZE = 2 

      Bitmap tempBitmap = null; 
      Bitmap bm = null; 
      try { 
       tempBitmap = (Bitmap) data.getExtras().get("data");
        bm = tempBitmap; 

        Log.v("ManageImage-hero", "the data.getData seems to be valid"); 

        FileOutputStream out = new FileOutputStream(outputFileUri.getPath()); 
        tempBitmap.compress(Bitmap.CompressFormat.JPEG, 100, out); 
      } catch (NullPointerException ex) { 
        Log.v("ManageImage-other", "another phone type"); 
        bm = otherImageProcessing(options); 
      } catch(Exception e) { 
        Log.v("ManageImage-setupImage", "problem setting up the image"+e); 
      } 

      return bm; 
    } 
private Bitmap otherImageProcessing(BitmapFactory.Options options) { 
      Bitmap bm = null; 

      try { 
        FileInputStream fis = new FileInputStream(outputFileUri.getPath()); 
        BufferedInputStream bis = new BufferedInputStream(fis); 
        bm = BitmapFactory.decodeStream(bis, null, options); 

        // cleaning up 
        fis.close(); 
        bis.close(); 
      } catch(Exception e) { 
        Log.e("ManageImage-otherImageProcessing", "Cannot load image", e); 
      } 

      return bm; 
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:19:45.797

下面的代码可以帮助你

```
 private void takePicture() 
        {   cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
            startActivityForResult(cameraIntent, IMAGE_CAPTURE);
        }

 protected void onActivityResult(int requestCode, int resultCode, Intent data) { 
     if (requestCode == CAMERA_REQUEST) {   
     File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM);
     File output = new File(dir, "camerascript.png");
     }  
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-30T09:20:29.023

[作为此处](http://developer.android.com/guide/topics/media/camera.html)给出的示例，请尝试此代码...

```
Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM);
File output = new File(dir,"camera.png");

cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT,Uri.fromFile(output));
String path =output.getAbsolutePath();
startActivityForResult(cameraIntent, TAKE_PHOTO); 
```

路径将返回您的图像在 sdcard 中的位置

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-30T09:21:12.833

使用此代码将图像保存到 SD 卡并创建目录来存储捕获的图像

```
 File photo = new File(Environment.getExternalStorageDirectory()+"/photofolder"); 
  System.out.println(photo.toString());
  boolean success = false;
  if(!photo.exists())
  { 
    success = photo.mkdirs(); 
  } 
    if(!success)
      {   

       Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
       photo = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+"/Android/data/"+getApplicationContext().getPackageName()+"/files/Receipt", imagename+".png");
       Toast.makeText(this, photo.toString(), Toast.LENGTH_LONG);
       intent.putExtra(MediaStore.EXTRA_OUTPUT,Uri.fromFile(photo));
       Uri imageurl = Uri.fromFile(photo);  
       startActivityForResult(intent, CAMERA_RECEIPTREQUEST);   
       } 
```

要显示捕获的图像，请使用以下代码

```
 @Override
 protected void onActivityResult(int requestCode, int resultCode, Intent data) {   
     super.onActivityResult(requestCode, resultCode, data);  

     switch(requestCode)
     {
     case CAMERA_RECEIPTREQUEST:  
         if(resultCode== Activity.RESULT_OK)
         {
             if(data!=null)   
                 { 
                         BitmapFactory.Options options = new BitmapFactory.Options();
                 options.inSampleSize = 8;
                 ImageView jpgView = (ImageView)findViewById(R.id.imageView1);
                 Bitmap receipt = BitmapFactory.decodeFile(photo.toString(),options);  
                  jpgView.setImage(receipt);
 }
 }
 } 
```

# php - 使用 javascript 动态选择幻灯片放映的图像

> ID：12193611
> 
> 赞同：0
> 
> 时间：2012-08-30T09:17:13.953
> 
> 标签：php, javascript, html

我正在使用以下代码从文件夹中动态选择图像，然后在幻灯片中显示它们。但是此代码仅选择第一张图像...请指导我错误在哪里...

PHP文件是：命名：test.php

```
<?php
 header("content-type: application/x-javascript");
    function returnimages($dirname=".") {
        $files = array();
        $curimage = 0;
         //valid image extensions
        $pattern="(\.jpg$)|(\.png$)|(\.jpeg$)|(\.gif$)";
        if($handle = opendir($dirname)) {
            while(false !== ($file = readdir($handle))) {
                if(eregi($pattern, $file)){
                    echo 'galleryarray[' . $curimage . '] = "' . $file . '";';
                    $curimage++;
                }
            }
           closedir($handle);
        }
        return($files);
    }
    //Define array in JavaScript returnimages()
    //Output the array elements containing the image file names
    echo 'var galleryarray = new Array();';
?> 
```

html代码是：

```
<html>
    <head>
        <title></title>
        <script src="test.php"></script>
        <script type="text/javascript">
            var galleryarray = returnimages();
            var curimg = 0;
            function rotateimages(){
                //  var imagesDirectory = "pics/" + galleryarray[curimg];
                var imagesDirectory =galleryarray[curimg];
                document.getElementById("slideshow").setAttribute("src", imagesDirectory)
                curimg = (curimg < galleryarray.length - 1) ? curimg + 1 : 0
            }
            window.onload = function(){
                setInterval("rotateimages()", 2500)
            }
        </script>
    </head>
    <body>
        <img width="468" height="312" id="slideshow" src="Slide1.jpg">
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:26:11.083

您实际上是在尝试通过 javaScript调用`php`函数。`returnimages()`无论如何这是不可能的。

# php - 解析字符串以查找特定标签的更好方法

> ID：12193613
> 
> 赞同：0
> 
> 时间：2012-08-30T09:17:28.480
> 
> 标签：php, str-replace, explode

我正在查看页面源代码，基本上想获取“og：image”图像网址

我正在使用以下内容，它有效，并且我认为（除了相对 URL 问题）涵盖了所有可能性 - 但这可能不是最有效的方法 - 我已经评论了代码以显示每一行正在做什么（$ html是源代码）：

```
$og_img = explode( '<meta property="og:image" content=', $html); // strip out beginning
$og_img = explode('>', $og_img[1]); // strip out end
if(substr($og_img[0], -1)=='/'){ $og_img[0] = substr($og_img[0], 0, -1); } // strip / if used /> to close the tag
$og_img[0] = str_replace("'", "", $og_img[0]); // strip ' ... ' apostrophes if used
$og_img[0] = str_replace('"', '', $og_img[0]); // strip " ... " doubke quotes if used 
```

有没有更有效的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:41:10.740

不要自己滚。

去使用 DOM。例如

```
$doc = new DOMDocument();
@$doc->loadHTML($html);
$metas = $doc->getElementsByTagName('meta');
for ($i = 0; $i < $metas->length; $i++)
{
    $meta = $metas->item($i);
    if($meta->getAttribute('property') == 'og:image')
        $og_image_content = $meta->getAttribute('content');
} 
```

或（虽然没有尝试过）使用：

```
get_meta_tags() 
```

# backbone.js - 使用 Backbone 删除视图

> ID：12193615
> 
> 赞同：0
> 
> 时间：2012-08-30T09:17:37.467
> 
> 标签：backbone.js

我有这样的视图：

```
(function(views) {
    views.FilterView = Backbone.View.extend({
        tagName: 'div',
        events: {
            'click a.remove': 'remove'
        },
        template: _.template($("#filterViewTemplate").html()),

        render: function() {
            this.$el.html(this.template());
            return this;
        },
        remove: function (e) {
            this.remove();
            this.unbind();
        }
    });
})(app.views); 
```

它的模板是：

```
<script type="text/html" id="filterViewTemplate">
    <select class="filterByOption">
        <option value="Account">Account</option>
        <option value="Owner">Owner</option>
    </select>

    <span class="cell sort">
        <input class="filterString cell" type="text" />
    </span>
    <a href="#" class="btn small remove">Remove</a>
</script> 
```

但是当我点击`Remove`我得到以下错误：

`Uncaught RangeError: Maximum call stack size exceeded`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:21:51.300

那是因为在您的`remove`方法中，您调用`this.remove()`哪个调用`remove()`哪个调用`remove()`哪个调用`remove()`...

# linux - 用 sed 替换版本范围

> ID：12193622
> 
> 赞同：1
> 
> 时间：2012-08-30T09:17:52.893
> 
> 标签：linux, sed

我正在尝试用 1.7,1.8 替换版本范围 1.6,1.7，如下所示。

```
sed -i 's/version\>[1.6,1.7)/version\>[1.7,1.8)/g' 
```

我试过转义 [,),。等等，但它仍然不匹配 [1.6,1.7)

我错过了什么？

这是我运行以替换版本的完整命令：

```
find . -iname 'pom.xml' -print -exec sed -i 's/version\>\[1.6,1.7)/version\>[1.7,1.8)/g' {} \; 
```

GNU sed 版本 4.1.5

Linux *** * 2.6.18-238 #1 SMP Fri Oct 28 08:42:39 PDT 2011 x86_64

**更新：**

```
sed -i 's/version\>.*1.6,1.7)/version\>[1.7,1.8)/g' 
```

为我工作。但这仍然太笼统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:21:35.903

我不完全明白。你想匹配什么字符串？如果是`version>[1.6,1.7)`，则此替换应该有效：

```
s/version>\[1\.6,1\.7)/version>[1.7,1.8)/g 
```

不需要转义`>`，但你应该转义`[`和点，因为它们具有特殊含义。

# javascript - 周/年选择器 jQuery 插件

> ID：12193626
> 
> 赞同：1
> 
> 时间：2012-08-30T09:18:16.747
> 
> 标签：javascript, jquery, datepicker

是否有任何 jQuery 插件可用于选择周/年，例如`1 / 2012`日期`53 / 2010`选择器？

我偶然发现，但找不到匹配的插件。我正在考虑简单的选择框，但似乎选择器会提供良好的用户体验。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:34:13.603

我已经为我的 1 个重新设计 jquery UI datepicker 的项目做到了这一点。从日期获取周数并不像看起来那么简单：http: [//brainhog.blogspot.ie/2011/07/get-me-week.html](http://brainhog.blogspot.ie/2011/07/get-me-week.html)

无论如何，这是完整的解决方案：

CSS：

```
.ui-datepicker .ui-datepicker-calendar { border-collapse: separate; border-spacing: 0 2px; }
.ui-datepicker .ui-datepicker-calendar td { padding: 0; border: 1px solid #D3D3D3; border-width: 1px 0; }
.ui-datepicker .ui-datepicker-calendar td:last-child { border-right-width: 1px; }
.ui-datepicker .ui-datepicker-calendar td a { border: none; }
.ui-datepicker .ui-datepicker-calendar tbody tr:hover td { border-color: #FCEFA1; }
.ui-datepicker-calendar tbody tr:hover td a { background: #FCFAF1; }
.ui-datepicker-calendar tbody tr:hover .ui-datepicker-week-col,
.ui-datepicker-calendar tbody tr .ui-datepicker-week-col { background: #757575; padding: 0.2em; color: #fff; text-align: right; border: 1px solid #3F3F3F; }
#weekPicker { font-size: .7em; } 
```

js：

```
$('#weekPicker').datepicker({ 
    firstDay: 1, 
    showWeek: true, 
    weekHeader: '', 
    dateFormat: 'yy-mm-dd',
    beforeShow: function(input, inst){ 
        var yw = input.value.split('-'), dat = getDateFromWeek(yw[0], yw[1]); 
        $('#weekPicker').datepicker("setDate", dat); 
    },
    onClose: function(input, inst){ 
        var yw = new Date(input).getFullWeek(); 
        inst.input.val(yw.y+'-'+yw.w); 
        $('#weekPicker2').html('<b>Week ' + yw.w+'</b>: '+input); 
    }
}); 
```

你还需要这些功能：

```
//Returns ISO 8601 week number and year
Date.prototype.getFullWeek = function(){
    var jan1, w, d = new Date(this);
    d.setDate(d.getDate()+4-(d.getDay()||7));   // Set to nearest Thursday: current date + 4 - current day number, make Sunday's day number 7
    jan1 = new Date(d.getFullYear(),0,1);       // Get first day of year
    w = Math.ceil((((d-jan1)/86400000)+1)/7);   // Calculate full weeks to nearest Thursday
    return {y: d.getFullYear(), w: w };
};
//Returns ISO 8601 week number
Date.prototype.getWeek = function(){ return this.getFullWeek().w; };
var getWeeksInYear = function(y){ return new Date(y,11,28).getFullWeek().w; }; 
```

如果您有任何问题/疑问以及这是否适合您，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:25:43.403

看看[这里](http://jqueryui.com/demos/datepicker/dropdown-month-year.html)，在这个选择器中你可以独立选择月份/年份。您也可以修改它以设置/获取周末号码。

# lync - Lync 的永久会议室

> ID：12193630
> 
> 赞同：2
> 
> 时间：2012-08-30T09:18:31.053
> 
> 标签：lync, lync-2010, lync-server-2010

我们是 Lync 的唯一管理员，我们的所有用户都使用参加者客户端。我们已经成功测试了“https://meet.lync.com/XXXCOMPANY/administrator/A1B2D3D4”等按需会议室，但这些会议链接不是永久性的，通常会在一两天内过期。我们想要的是有一个会议链接，最好是可定制的，不会像 LM2007 中那样过期（永久）。

理想情况下，我们希望控制何时以及何时激活会议链接。这样用户就可以使用相同的凭据进入会议室。一旦会议链接被“激活”，任何知道该 URL 的人都可以通过参加者客户端进入。会议结束后，会议室将被禁用，直到我们再次将其重新激活。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T17:16:48.563

据我所知，这就是 Lync 会议的工作方式。只要您有 URL，它们就不会过期。唯一的问题是，以访客身份连接到会议的其他人将需要会议的创建者允许他们加入会议。

然而，这可能是因为我们正在运行 Lync 2010。我们的 URL 有点不同，它们的格式为：“https://meet.XXXCOMPANY.com/administrator/A1B2D3D4”

# timezone - 获取奥尔森时区当前偏移量

> ID：12193632
> 
> 赞同：2
> 
> 时间：2012-08-30T09:18:43.143
> 
> 标签：timezone, timezone-offset

在我们的系统中，我们有 olson 时区列表，这些时区来自[http://download.geonames.org/export/dump/timeZones.txt](http://download.geonames.org/export/dump/timeZones.txt)，在这个数据中，我们只有一年中 1 月 1 日和 7 月 1 日的正确偏移量时区。这意味着，如果某些时区偏移量因夏令时而发生变化，例如 1 月 2 日，我将在 7 月 1 日之前获得该时区的正确偏移量，当我获得新数据时。我如何或在哪里可以获得每个时区的实际偏移量奥尔森时区 id 的日期（美国/洛杉矶、澳大利亚/墨尔本和此列表中的其他人）..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-03T22:39:40.830

他们现在已经实现`rawOffset`了，你应该使用它。

# magento - 如何在产品视图页面上添加评论选项卡

> ID：12193634
> 
> 赞同：2
> 
> 时间：2012-08-30T09:18:46.730
> 
> 标签：magento

我是 Magento 的初学者。我想在产品视图页面中添加评论选项卡。谁能帮助我如何做到这一点？

我尝试了以下方法：

```
<block type="catalog/product_view_tabs" name="product.info.tabs" as="info_tabs" template="catalog/product/view/tabs.phtml">
                    <!--action method="addTab" translate="title" module="catalog"><alias>additional</alias><title>General Info</title><block>catalog/product_view_attributes</block><template>catalog/product/view/attributes.phtml</template></action-->
                    <action method="addTab" translate="title" module="catalog"><alias>description</alias><title>Description</title><block>catalog/product_view_description</block><template>catalog/product/view/description.phtml</template></action>
                    <action method="addTab" translate="title" module="catalog"><alias>upsell</alias><title>Upsell</title><block>catalog/product_list_upsell</block><template>catalog/product/list/upsell.phtml</template></action>
                    <action method="addTab" translate="title" module="catalog"><alias>review</alias><title>Review</title><block>review/product_view_list</block><template>review/product/view/list.phtml</template></action>
                    <action method="addTab" translate="title" module="catalog"><alias>additional</alias><title>Additional Information</title><block>catalog/product_view_attributes</block><template>catalog/product/view/attributes.phtml</template></action>

    </block> 
```

然后`echo $this->getChildHtml('info_tabs');` 在 view.phtml 中使用。

只有描述、评论和附加信息是可见的。可能是什么问题？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T19:09:48.843

这是我对[这个重复问题的回答](https://stackoverflow.com/questions/12199276/how-to-display-review-form-as-well-as-reviews-in-a-tab-in-product-page)

这就是我在我的一个项目中处理这种情况的方式：

添加带有评论的标签，

```
<block type="catalog/product_view_tabs" name="product.info.tabs" as="info_tabs" template="catalog/product/view/tabs.phtml" >
    <action method="addTab" translate="title" module="catalog"><alias>tab_review_list</alias><title>Product Reviews</title><block>review/product_view_list</block><template>catalog/product/view/tabs/reviews.phtml</template></action>
</block> 
```

现在，评论表单由不同类型的块处理，通常是评论页面的子块。没有办法用`addTab`动作制作嵌套块，但您可以`<reference>`在标签中创建审查块后使用处理程序，如下所示：

```
<reference name="tab_review_list">
  <block type="review/form" name="tab_review_form" as="review_form" template="catalog/product/view/tabs/review_form.phtml" />
</reference> 
```

`name`in `<reference>`handler 必须等于 in`<alias>`在`addTab`action 中的内容。

而在`catalog/product/view/tabs/reviews.phtml`你只使用，

```
echo $this->getChildHtml('review_form'); 
```

您可以使用`<reference>`处理程序将更多块添加到审阅列表和审阅表单。

当然，您必须在`template`参数中输入的路径中创建评论列表和评论表单的文件，因此在这种情况下您需要创建`catalog/product/view/tabs/reviews.phtml`和`catalog/product/view/tabs/review_form.phtml`. 您可以将审核表单模板更改为默认`review/form.phtml`模板并根据需要使用部分默认代码。

# java - 对字符串数组进行排序

> ID：12193639
> 
> 赞同：0
> 
> 时间：2012-08-30T09:19:17.090
> 
> 标签：java, sorting

我正在用android开发一个项目。我有五个字符串类型的数组，数组中的每个项目都与其余数组的相应索引相关。在这里，我需要对单个数组进行排序，如果我进行排序，则所有相应的索引都应该以正确的顺序复制，因为它存在于排序的数组中。

源代码：

```
array1 = new String[qrcodelist.size()];
array2 = new String[name.size()];
array3 = new String[company.size()];
array4 = new String[date.size()];
array5 = new String[imageurl.size()];

for (int i = 0; i < name.size(); i++) {
    array1[i] = qrcodelist.get(i);
    array2[i] = name.get(i);
    array3[i] = company.get(i);
    array4[i] = date.get(i);
    array5[i] = imageurl.get(i);

} 
```

我想用同样的方法实现，`HashMap`但不知道怎么做。

我请求你给我一个逻辑来实现这个任务或任何示例代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:27:44.330

我建议您检查您的数据结构。我的意思是，将数据拆分为单独的数组似乎不是一个好主意。所有相关数据都应包含在一个对象中。

请检查这个问题：[如何在java中对多个数组进行排序](https://stackoverflow.com/questions/12164795/how-to-sort-multiple-arrays-in-java)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:27:46.847

在我看来，您正在遭受“拒绝对象”的困扰。您的描述不是很清楚，但似乎您需要一个包含“QR 码”、“名称”等字段的类。一旦有了它，您就会拥有一个包含该类实例的单个数组，而不是 5 个单独的数组。

现在您可以使用 a 对数组进行排序，`Comparator`以便对其进行任何排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:22:35.250

据我了解，我猜您只想对数组进行排序，下次搜索它。这里有一个很好的例子：[Android 排序数组](https://stackoverflow.com/q/4980720/969325)

搜索类似 java 排序数组之类的词，以获得更多关于该主题的信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:38:14.407

您应该使用一个对象来存储与每个实体对应的所有数据，将每个对象放入 Collection 或 Array 中，然后对它们进行排序，实现 Comparable 接口：

```
public class MyData implements Comparable<MyData> {

private String qrcodelist;
private String  name;
private String  company;
private String  date;
private String  imageurl;

//more code...
} 
```

# git - 如何在 Git 存储库之间共享包含配置和密码的文件

> ID：12193640
> 
> 赞同：0
> 
> 时间：2012-08-30T09:19:17.167
> 
> 标签：git, pull, git-filter-branch

我有一个包含一些文件的项目，这些文件由带有密码和用户特定数据的配置文件组成。我们通过 git pull 将该项目部署到我们的服务器，并通过计算机上的 git push 提交更改。

我注意到 git 有 git filter-branch commit-filer ，您可以在其中通过 sed 命令忽略密码变量。

我拉的时候有类似的过滤器吗？

我想拥有这样的远程主原始文件：

```
array(
'pass'=>'your_pass'
) 
```

当我拉动时，我想忽略这条线。

共享这种类型的文件有更好的做法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:22:12.593

`git filter-branch`更改现有提交，它不会自动与新提交一起使用。

你想要的是一个[钩子](http://git-scm.com/book/en/Customizing-Git-Git-Hooks)。

但是，您不能完全忽略该文件中的值，因为您无法在不创建并行时间线的情况下更改已提交的对象。您最多可以在工作树中屏蔽它们，设置挂钩，在结帐和提交时始终忽略屏蔽线。但这是非常复杂的，它会使开发人员的工作变得更加困难。

更好的选择是将此类配置放在git[忽略](http://www.kernel.org/pub/software/scm/git/docs/gitignore.html)的单独文件中，并且每个开发人员都应使用自己的设置和密码维护该文件的本地副本。将密码放在公共（或至少共享）存储库中绝不是一个好主意。密码应始终保密。

# c# - emgu 用矩阵计算直方图

> ID：12193642
> 
> 赞同：2
> 
> 时间：2012-08-30T09:19:22.223
> 
> 标签：c#, .net, emgucv

我发现了一个类似的问题：[使用 emgu cv c# 创建直方图](https://stackoverflow.com/questions/4905893/creating-histogram-using-emgu-cv-c-sharp)
，当我传递灰度图像时效果很好，但是当我使用矩阵时，程序会抛出异常。我的代码：

```
Matrix<double> mat = new Matrix<double>(10, 10);
mat.SetRandUniform(new MCvScalar(0.0), new MCvScalar(20.0));
DenseHistogram histo = new DenseHistogram(5, new RangeF(0.0f, 20.0f));
histo.Calculate(new Matrix<double>[] { mat }, false, null);//<--throws exception here
CvInvoke.cvShowImage("Mat Histogram", histo.GetHistogramImage().Ptr);
CvInvoke.cvWaitKey(0); 
```

emgu doc中的声明是：

```
public void Calculate<TDepth>(
    Matrix<TDepth>[] matrices,
    bool accumulate,
    Matrix<byte> mask
)
where TDepth : new() 
```

我不知道出了什么问题:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:44:42.600

您面临的问题在于 ***DenseHistogram***类中的一个限制，即在调用***cvCalcArrHist***时 会抛出“不支持的格式或格式组合”。

这个类只计算浮点数而不是双精度数。

```
Matrix<float> mat = new Matrix<float>(10, 10);
mat.SetRandUniform(new MCvScalar(0.0), new MCvScalar(20.0));
DenseHistogram histo = new DenseHistogram(5, new RangeF (0.0f, 20.0f));
histo.Calculate(new Matrix<float>[] { mat }, false, null); //runs fine :) 
```

`Range<double>`更好的设计还应该让用户使用泛型而不是静态`RangeF`类来指定范围。

# ruby-on-rails - 如何使存储在 s3 中的图像特定于我的使用？

> ID：12193645
> 
> 赞同：0
> 
> 时间：2012-08-30T09:19:24.313
> 
> 标签：ruby-on-rails, ruby-on-rails-3, amazon-s3, paperclip

我使用了回形针 gem，并将图像存储在 amazon s3 中。然后我单击图像并复制图像的地址并尝试在另一个窗口中打开它并显示图像。因此，最终任何人都可以访问图像，从而增加 s3 中的点击次数。如何制作专门供我使用的图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:23:24.950

一切都[在这里](https://github.com/thoughtbot/paperclip/wiki/Restricting-Access-to-Objects-Stored-on-Amazon-S3)解释。

# asp.net - 为大流量 ASP.NET Web 应用程序编写连接字符串的最佳实践

> ID：12193655
> 
> 赞同：0
> 
> 时间：2012-08-30T09:19:53.330
> 
> 标签：asp.net, ado.net, traffic

就连接池而言，为 Internet 上至少有 500 个实时用户的 Web 应用程序定义连接字符串的最佳方法是什么。以及要考虑的负载因素？

假设我有如下连接字符串：

```
initial catalog=Northwind; Min Pool Size=20;Max Pool Size=500; data source=localhost; Connection Timeout=30; Integrated security=sspi" 
```

由于最大池大小为 500，并且当实时用户超过 500 时说 520，剩余的 20 名用户会体验到较慢的页面加载吗？

或者，如果我有如下连接字符串，其中没有谈到池或连接超时怎么办？那么应用程序的行为如何？

```
initial catalog=Northwind; data source=localhost; Integrated security=sspi" 
```

但是，我正在使用“使用语句”来访问 MYSQL 数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:37:07.643

用户不会持续使用连接 - 它只会用于数据库查询然后返回到连接池（也就是说， 500 个用户*不太*可能同时使用 500 个连接）。

如果连接池耗尽，*是*的，额外的数据库用户将不得不等待新的连接，并且可能会获得较慢的体验（如果不是完全错误的话）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:29:45.177

您不必为每个用户声明连接。幸运的是，这一切都由您的 SQL Server 管理。连接池将用于处理所有传入的查询。

请查看 MSDN [http://msdn.microsoft.com/en-us/library/8xx3tyca(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/8xx3tyca(v=vs.100).aspx)

**很重要的一点**

> 注意 我们强烈建议您在使用完毕后始终关闭连接，以便将连接返回到池中。您可以使用 Connection 对象的 Close 或 Dispose 方法，或者通过在 C# 中的 using 语句或 Visual Basic 中的 Using 语句中打开所有连接来执行此操作。未明确关闭的连接可能不会添加或返回到池中。有关详细信息，请参阅 using 语句（C# 参考）或如何：处理 Visual Basic 的系统资源 (Visual Basic)。

# php - 平衡的文件分布结构

> ID：12193660
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:20:13.190
> 
> 标签：php, file, file-upload, directory

我有一个服务器，存档文件将被上传和存储。为了提高列出和检查文件存在性的性能，我需要将文件组织在面向性能的目录结构中。

我有一个数据库表，它将保存文件的真实名称及其临时名称。

```
###################################
FILES
###################################
id int auto_increment primary key,
name varchar (255),
temp_name varchar (255) 
```

根目录最多可以包含 1000 个子目录，范围从 0-999。每个目录将包含 1000 个文件。

所以结果将是

```
root/0 ==> will hold file having the id range from 1-999
root/1 ==> will hold file having the id range from 1000-1999
root/2 ==> will hold file having the id range from 2000-1999
.
.
.
root/999 ==> will hold file having the id range from 999,000-999,999 
```

可以使用以下等式找到存储文件的目录

```
$directory = floor($file_id_from_db/1000); 
```

WHERE $file_id_from_db 从文件数据库表中检索`files`。`id`.

当第 1,000,000 个文件被上传时会出现问题，然后我必须开始将文件存储在第二级。

我必须在第 0 个目录 root/0/0 - root/0/999 中创建第二级目录，范围从 0 - 999

然后当我到达 root/0/999 并且我已经在其中放置了 1000 个文件时，我需要移动到 root/1/999 等等，直到我到达 root/999/999。

我当前的功能看起来像这样

```
function getPath($id){    
     $result = floor($file_id/1000);
     //Second level checks (Tried and crashed and burned)
     return "/$result"; 
} 
```

**我不知道如何实现创建子目录的逻辑？**

感谢您的任何建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:40:47.647

如果可以使用其他方法，您可以尝试以下方法：

*   将 db-id 填充到例如 20 个位置（从长远来看就足够了），例如：`00000000000001665765`
*   将该字符串拆分为适合长度的块（例如 2），然后使用您的 DIRECTORY_SEPARATOR 重新加入这些块

这将是您的存储路径，例如：

```
$id = 1665765;
$paddedId = str_pad($id, 20, '0', STR_PAD_LEFT);

echo $path = '/' . implode(DIRECTORY_SEPARATOR, str_split($paddedId, 2));

// ==> /00/00/00/00/00/00/01/66/57/65 
```

这样，每个目录最多有 100 个目录/文件。*（如果您选择另一个split-length*，这当然会有所不同）

要轻松创建目录，您可以使用[mkdir](http://php.net/manual/function.mkdir.php)的第三个参数。

```
mkdir(dirname($path), 0755, true); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:46:32.520

我正在使用它并且像魅力一样工作。

```
$dir = str_pad(substr( ($file_id + 1000), 0, (strlen(($file_id + 1000)) - 3)), 5, "0", STR_PAD_LEFT); 
```

所有文件夹都有 5 个数字，如下所示：00001

这样，它将确保 2 在 1 而不是 10 之后，依此类推。

简单有效。

**补充：**如果你想从 0 开始，不要像这样使用它。（注意 -1）

```
$dir = str_pad(substr( ($file_id + 1000), 0, (strlen(($file_id + 1000)) - 3)) - 1, 5, "0", STR_PAD_LEFT); 
```

**另一个补充：**我想我得到了你想要的东西。

试试这个：一旦达到 100 万，它将在现有文件夹中添加子文件夹。

```
$dir = str_pad(substr( ($file_id + 1000), 0, (strlen(($file_id + 1000)) - 3)) - 1, 4, "0", STR_PAD_LEFT);
if($dir > 1000) { $dir = str_pad(substr($dir, 0, strlen($dir) - 3), 4, "0", STR_PAD_RIGHT) . DIRECTORY_SEPARATOR . str_pad(substr($dir, -3) - 1, 4, "0", STR_PAD_LEFT); } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T10:00:02.767

这个功能可能更适合你吗？

```
function getPath($id)
{
    if ($id < 100) return "0".DIRECTORY_SEPARATOR;
    $id = str_pad($id,strlen($id)+(3-strlen($id)%3),"0",STR_PAD_LEFT);
    $in = array_map(create_function('$x','return ($x >= 1) ? ltrim($x,\'0\') : "0";'),str_split($id,3));
    array_pop($in);
    $in = array_reverse($in);
    return rtrim(implode(DIRECTORY_SEPARATOR,$in),DIRECTORY_SEPARATOR).DIRECTORY_SEPARATOR;
} 
```

测试板：[http ://codepad.org/alRDCWlU](http://codepad.org/alRDCWlU)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:43:16.337

换句话说，您需要散列（或以其他方式详细说明）一个整数 ( `id`)，以便它可以均匀地分布在目标地址空间上。

一种方法是您正在采用的方法。假设您最多要保存一千亿条记录，因此您管理的最大数量是 999,999,999,999 或四个级别。

```
function storeFile($id, $source_path)
{
    GLOBAL $BASE_PATH;
    $seq = sprintf("%012d", $id); // Transforms 42 in 000000000042

    $dir = str_split($seq, 3);  // Transforms in { 000 000 000 042 }

    $file = array_pop($dir);    // Get 042 which is the file name 
```

创建后，如果需要，**我们需要创建中间目录**（**编辑**：实际上@Yoshi 的解决方案要好得多）

```
 // Now build directory

    $path = $BASE_PATH;
    foreach($dir as $component)
    {
        $path .= "/$component";
        if (!is_dir($path))
            mkdir($path);
    }
    // The above can be replaced with mkdir(getPath($id), 0755, true); [@Yoshi]

    // Now $path exists and is /my/base/path/000/000/000

    // $path/$file is my file name, 042 in $path
    rename($source_path, $dest_path = "$path/$file");

    // Just to check. TRUE if everything was hunky dory; FALSE if something went bad.
    return file_exists($dest_path); 
```

}

每次**存储**文件时，都运行上述程序并在需要时创建目录。

在恢复时，您可以运行

```
 function getPath($id)
  {
      GLOBAL $BASE_PATH;
      return $BASE_PATH . implode('/', str_split(sprintf("%012d", $id), 3));
  } 
```

并直接获取文件名。

**更新**：'/' 是 Unix 路径分隔符（也应该在 Windows 下工作），但您可能希望将其替换为您平台的目录分隔符。

如果您想保留文件名（并不总是建议，因为它在用户的控制之下，国际字符可能与文件系统编码发生冲突，等等），您可以这样做。我们现在只需要三个级别，所以一个 3*3 的路径：

```
function storeFile($id, $source_path)
{
    GLOBAL $BASE_PATH;
    $seq = sprintf("%09d", $id); // Transforms 42 in 00000042

    $dir = str_split($seq, 3);  // Transforms in { 000 000 042 }

    // Now build directory. 042 is last directory

    $path = $BASE_PATH;
    foreach($dir as $component)
    {
        $path .= "/$component";
        if (!is_dir($path))
            mkdir($path);
    }

    // Use name component of source file
    $file = basename($source_path);

    // $path/$file is my file name, 042 in $path
    rename($source_path, $dest_path = "$path/$file");

    // Just to check. TRUE if everything was hunky dory; FALSE if something went bad.
    return file_exists($dest_path);
} 
```

`getPath`保持不变，只是它现在需要`09d`而不是`012d`. 如果您想限制为大小 3 的两个级别，请进一步减小到`06d`.

# iphone - 在我的应用中捕获外出呼叫

> ID：12193667
> 
> 赞同：0
> 
> 时间：2012-08-30T09:20:37.573
> 
> 标签：iphone

有没有人能帮帮我。

我已经开发了一个应用程序并且应用程序处于烘焙阶段，现在我正在打电话。

一旦我打电话给任何人，我的应用程序应该会自动激活。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:41:52.377

抱歉，未越狱的 iPhone 根本无法做到这一点。

# sql - 如何在 SQL Server 2005 中使用表数据备份特定表

> ID：12193668
> 
> 赞同：2
> 
> 时间：2012-08-30T09:20:45.000
> 
> 标签：sql, sql-server-2005

我想用 SQL Server 2005 中的数据库中的表数据备份特定表。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:30:04.703

通过 SSMS 的最简单方法 1\. 右键单击​​数据库（注意不是表）

1.  选择任务 > 生成脚本

2.  在选择对象窗格中，选择要编写脚本的表

3.  在设置脚本选项窗格中，单击高级。

4.  在脚本的数据类型选项中，选择架构和数据。（如果您还想要索引等，请确保它们也被选中）

阅读更多来自[http://sqlblog.com/blogs/greg_low/archive/2012/06/28/25981.aspx](http://sqlblog.com/blogs/greg_low/archive/2012/06/28/25981.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:10:32.797

```
SELECT * 
INTO  backup_tab_name 
FROM actual_table_name 
```

这将满足您的要求

# maven - 如何在 Maven 原型中生成动态文件？

> ID：12193694
> 
> 赞同：2
> 
> 时间：2012-08-30T09:22:09.200
> 
> 标签：maven, archetypes, maven-archetype

我想将参数传递给 archetype-resources>src>main 文件夹中的文件。所以我在 archetype-metadata.xml 中声明了 required 属性为

```
<requiredProperties>
    <requiredProperty key="myParam">
      <defaultValue>default-value</defaultValue>
    </requiredProperty>
  </requiredProperties> 
```

并在原型文件中使用了 ${myParam}，但它的值没有被替换。为什么？

如果我在原型项目的 pom.xml 中使用自定义值，则生成的项目将 ${myParam} 的值替换为 myValue。它工作正常，但同样不适用于原型文件夹中的文件。为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:50:01.797

您需要告诉 Velocity 引擎您的文件应该用作 Velocity 模板（这样它实际上会替换它在文件中找到的任何属性）。您可以通过扩展`archetype-metadata.xml`文件并定义[`fileSet`](http://maven.apache.org/archetype/maven-archetype-plugin/specification/archetype-metadata.html#Defining_specific_filesets).

我不确定您的确切文件夹结构以及相关文件的名称是什么，但这些方面的内容应该可以工作：

```
<?xml version="1.0" encoding="UTF-8"?>
<archetype-descriptor name="basic">
    <requiredProperties>
        <requiredProperty key="myParam">
            <defaultValue>default-value</defaultValue>
        </requiredProperty>
    </requiredProperties>
    <fileSets>
        <fileSet filtered="true" packaged="false">
            <directory>src/main</directory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
    </fileSets>
</archetype-descriptor> 
```

基本上上面是告诉它包含下的所有文件`src/main`，重要的部分是`filtered=true`这将导致所有属性被替换。

# android - 是否可以仅在一个片段中设置操作栏？

> ID：12193695
> 
> 赞同：0
> 
> 时间：2012-08-30T09:22:10.180
> 
> 标签：android, android-actionbar

我有一个带有单个活动的应用程序，顶部有一个操作栏。我正在使用普通 Honeycomb+ 操作栏和 Jellybean 代码示例中的 ActionBarCompat 示例的扩展版本。

当用户在平板电脑上运行应用程序时，我在主片段的右侧创建了第二个片段。我从设计师那里得到的设计模型显示操作栏只延伸到第一个窗格/片段。

在这种情况下，有没有办法让操作栏只延伸到屏幕的前三分之二，并让我在右侧有不同的细节？我已经在第二个片段上将HasOptionsMenu 设置为false，但这似乎没有任何影响。

![两个窗格操作栏](../Images/86e166a2269a30da2e5c0ed11e226b17.png)

上面的例子展示了设计者想要的两个片段顶部的内容：

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:35:36.220

如果您想这样做，请不要使用操作栏。定制的空间很小。

大多数知名应用根本不实现操作栏，而是使用自定义布局。这并不难，特别是因为所有设备上操作栏的尺寸都相同（固定高度为 48dp）。

# javascript - 如何使用 javascript 换行？

> ID：12193698
> 
> 赞同：0
> 
> 时间：2012-08-30T09:22:20.350
> 
> 标签：javascript

你能帮我吗，
这里有两个for循环，一旦第一次迭代结束，需要开始新行

```
for (var i = 0; i < 2; i++) {
    for (var j = 0; j < 6; j++) {
        document.write(j);
    }
}​ 
```

需要这样的输出，

```
012345
012345 
```

请给我解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:25:38.837

```
for (var i = 0; i < 2; i++) {
    for (var j = 0; j < 6; j++) {
        document.write(j);
    }
    document.write('<br />');
}​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:25:35.277

这是您的代码：

```
for (var i = 0; i < 2; i++) {
    for (var j = 0; j < 6; j++) {
        document.write(j);
    }
    document.write('<br/>');
}​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:27:28.860

​</p>

```
<div id="append"></div>​​​​​​​​​​​​​​​​​​​​​​​​
<script type="text/javascript">
    for (var i = 0; i < 2; i++) {
        for (var j = 0; j < 6; j++) {
            $('#append').append(j);
        }
        $('#append').append('<br />');
    }​
</script> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T09:27:36.430

试过这个？

```
for (var i = 0; i < 2; i++) {
    for (var j = 0; j < 6; j++) {
        document.write(j);
    }
    document.write('<br/>');
} 
```

# android - 使用 jni 获取异常

> ID：12193699
> 
> 赞同：0
> 
> 时间：2012-08-30T09:22:25.857
> 
> 标签：android, android-ndk, java-native-interface

我正在使用 jni 从我的 android 代码中调用 c++ 函数，因为我正在使用 NDK，当时我收到异常为 java.lang.exceptionininitializererror。

```
public class HelloJni extends Activity
{
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);

        TextView  tv = new TextView(this);
        tv.setText( stringFromJNI() );
        setContentView(tv);
    }

    public native String  stringFromJNI();

    public native String  unimplementedStringFromJNI();

    static {
        System.loadLibrary("hello-jni");
    }
} 
```

LogCat 是：

```
08-30 14:59:48.210: E/AndroidRuntime(10494): FATAL EXCEPTION: main
08-30 14:59:48.210: E/AndroidRuntime(10494): java.lang.ExceptionInInitializerError
08-30 14:59:48.210: E/AndroidRuntime(10494):    at java.lang.Class.newInstanceImpl(Native Method)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at java.lang.Class.newInstance(Class.java:1409)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1565)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.os.Handler.dispatchMessage(Handler.java:99)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.os.Looper.loop(Looper.java:130)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at android.app.ActivityThread.main(ActivityThread.java:3687)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at java.lang.reflect.Method.invokeNative(Native Method)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at java.lang.reflect.Method.invoke(Method.java:507)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at dalvik.system.NativeStart.main(Native Method)
08-30 14:59:48.210: E/AndroidRuntime(10494): Caused by: java.lang.UnsatisfiedLinkError: Couldn't load hello-jni: findLibrary returned null
08-30 14:59:48.210: E/AndroidRuntime(10494):    at java.lang.Runtime.loadLibrary(Runtime.java:429)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at java.lang.System.loadLibrary(System.java:554)
08-30 14:59:48.210: E/AndroidRuntime(10494):    at com.example.hellojni.HelloJni.<clinit>(HelloJni.java:64)
08-30 14:59:48.210: E/AndroidRuntime(10494):    ... 15 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:46:35.523

真正的（嵌套的）异常是`Caused by: java.lang.UnsatisfiedLinkError: Couldn't load hello-jni: findLibrary returned null`

这意味着 Android 无法找到您的库“hello-jni”。确保名称是正确的，并且你已经编译它没有错误。

检查您的`lib`文件夹以查看您的库是否在此处 ( `libhello-jni.so`)。

# c# - 使用未分配的局部变量（对象）

> ID：12193700
> 
> 赞同：0
> 
> 时间：2012-08-30T09:22:30.117
> 
> 标签：c#, list, class, object

```
Person tempPerson;

Console.WriteLine("Enter the name of this new person.");
tempPerson.Name = Convert.ToString(Console.ReadLine());

Console.WriteLine("Now their age.");
tempPerson.Age = Convert.ToInt32(Console.ReadLine());

peopleList.Add(tempPerson);

RunProgram(); 
```

在`tempPerson.Name`处，错误列表显示“未分配使用局部变量 'tempPerson'。下面是创建每个 Person 对象的类。

```
class Person : PersonCreator
{
    public Person(int initialAge, string initialName)
    {
        initialAge = Age;
        initialName = Name;
    }
    public int Age
    {
        set
        {
            Age = value;
        }
        get
        {
            return Age;
        }
    }
    public string Name
    {
        set
        {
            Name = value;
        }
        get
        {
            return Name;
        }
    }
} 
```

我不明白为什么这是一个问题。在 tempPerson.Age 处，完全没有问题。仅使用 tempPerson.Age 运行程序不会出现错误。我的 Person 类有问题吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-30T09:24:17.227

`tempPerson`永远不会初始化为`Person`对象，所以它是`null`- 对变量的任何成员的任何调用都将导致`NullReferenceException`.

您*必须*在使用前初始化变量：

```
var tempPerson = new Person(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:24:10.453

您不会通过定义类或声明类类型的变量来创建对象。您必须通过在类上调用 new 来创建对象，否则该变量将被初始化为 null。请执行下列操作：

```
Person tempPerson = new Person ();

Console.WriteLine("Enter the name of this new person.");
tempPerson.Name = Convert.ToString(Console.ReadLine()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:29:34.897

你的 Person 类是错误的，它应该是：

```
class Person : PersonCreator
{
    public Person(int initialAge, string initialName)
    {
        Age = initialAge;
        Name = initialName;
    }
    public int Age
    {
        set;
        get;
    }
    public string Name
    {
        set;
        get;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:29:45.233

您的变量 tempPerson 刚刚声明，但未初始化。您必须调用 Person 的构造函数，但这需要一个空的构造函数：

```
Person tempPerson = new Person(); 
```

解决此问题的另一种方法，我将实现如下：

```
Console.WriteLine("Enter the name of this new person.");
string name = Convert.ToString(Console.ReadLine());

Console.WriteLine("Now their age.");
string age = Convert.ToInt32(Console.ReadLine());

peopleList.Add(new Person(name, age)); 
```

# web - HTTP 错误 403：robots.txt 不允许的请求生成？

> ID：12193701
> 
> 赞同：1
> 
> 时间：2012-08-30T09:22:30.477
> 
> 标签：web, html-parsing, web-crawler, robots.txt, mechanize-python

> **可能重复：**
> [Robots.txt 的伦理](https://stackoverflow.com/questions/999056/ethics-of-robots-txt)

我正在尝试使用 Mechanize 来自动化网站上的一些工作。我已经设法通过使用 br.set_handle_robots(False) 绕过上述错误。使用它有多合乎道德？

如果不是，那么我想遵守“robots.txt”，但我试图机械化的网站阻止我查看 robots.txt，这是否意味着不允许机器人访问它？我的下一步应该是什么？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T01:48:03.657

For your first question, see [Ethics of robots.txt](https://stackoverflow.com/questions/999056/ethics-of-robots-txt)

You need to keep in mind the purpose of [robots.txt](http://www.robotstxt.org/). Robots that are crawling a site can potentially wreck havoc on the site and essentially cause a DoS attack. So if your "automation" is crawling at all or is downloading more than just a few pages every day or so, AND the site has a robots.txt file that excludes you, then you should honor it.

Personally, I find a little grey area. If my script is working **at the same pace as a human** using a browser and is only grabbing a few pages then I, in the spirit of the robots exclusion standard, have no problem scrapping the pages so long as it doesn't access the site more than once a day. Please read that last sentence carefully before judging me. I feel it is perfectly logical. Many people may disagree with me there though.

For your second question, web servers have the ability to return a 403 based on the User-Agent attribute of the HTTP header sent with your request. In order to have your script mimic a browser, you have to miss-represent yourself. Meaning, you need to change the HTTP header User-Agent attribute to be the same as the one used by a mainstream web browser (e.g., Firefox, IE, Chrome). Right now it probably says something like 'Mechanize'.

Some sites are more sophisticated than that and have other methods for detecting non-human visitors. In that case, give up because they really don't want you accessing the site in that manner.

# linux - Linux：将 cat /dev/video0 放入一个不增长的缓冲区

> ID：12193707
> 
> 赞同：0
> 
> 时间：2012-08-30T09:22:45.450
> 
> 标签：linux, cat

我想将 /dev/video0 设备输出（传输流是一种输出）放入临时环形缓冲区。事实上，我不希望文件/缓冲区随着时间的推移而增长。

因此，目的是让多个消费者（例如：tail -f、mencoder、VLC ......）访问一个文件（缓冲区、Fifo 等）。

某种场景：

```
Producer:
# cat /dev/video0 > mybuffer.ts

And then multiple access by consumer
2# tail -f mybuffer.ts > extract1.ts
2# tail -f mybuffer.ts > extract2.ts
3# ffmpeg -i mybuffer.ts ... 
```

有人知道如何做这样的事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T16:43:42.577

也许您只想拆分流：

```
cat /dev/video0 | tee extract1.ts extract2.ts | ffmpeg -i mybuffer.ts ... 
```

tee 将流复制到文件和标准输出

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T16:50:19.530

看起来你需要一个[`/dev/fanout`](http://www.linuxtoys.org/fanout/fanout.html).

# python - matplotlib 中是否有类似深度缓冲区的东西？

> ID：12193709
> 
> 赞同：11
> 
> 时间：2012-08-30T09:22:48.853
> 
> 标签：python, numpy, plot, matplotlib

我正在尝试用 matplotlib 绘制一些曲线。
但是，由于这些曲线从视口相互重叠。
所以这里只有 z-order 无能为力。

我想知道是否有一个函数像 matplotlib 中的深度缓冲区一样工作。
我正在策划这样的事情。
而且红线不应该总是在 3D 空间的顶部。

![](../Images/c923d596154d954eee02c8fb51f548e2.png)

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-03T05:11:47.860

我认为在 matplotlib 中做这样的事情很困难，因为它是一个具有一些 3D 绘图能力的 2D 绘图库。我推荐一些真正的 3D 绘图库，例如 visvis、mayavi、vpython。例如，在 visvis 中，您可以创建如下 3D 曲线：

![在此处输入图像描述](../Images/d2cb3faa222400693b12123d4f889a84.png)

```
import numpy as np
import visvis as vv
app = vv.use()

f = vv.clf()
a = vv.cla()

angle = np.linspace(0, 6*np.pi, 1000)
x = np.sin(angle)
y = np.cos(angle)
z = angle / 6.0
vv.plot(x, y, z, lw=10)

angle += np.pi*2/3.0
x = np.sin(angle)
y = np.cos(angle)
z = angle / 6.0 - 0.5
vv.plot(x, y, z, lc ="r", lw=10)

app.Run() 
```

玛维：

![在此处输入图像描述](../Images/d63e42050b44dee0cc21b009afc6be8d.png)

```
import numpy as np
from mayavi import mlab

angle = np.linspace(0, 6*np.pi, 1000)
x = np.sin(angle)
y = np.cos(angle)
z = angle / 6.0

mlab.plot3d(x, y, z, color=(1,0,0), tube_radius=0.1)

angle += np.pi*2/3.0
x = np.sin(angle)
y = np.cos(angle)
z = angle / 6.0 - 0.5
mlab.plot3d(x, y, z, color=(0,0,1), tube_radius=0.1)

mlab.axes()
mlab.show() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T13:39:16.447

您可以尝试使用该`fill_between`功能手动为区域着色。请参阅随机步行者示例：

[http://matplotlib.sourceforge.net/users/recipes.html](http://matplotlib.sourceforge.net/users/recipes.html)

[http://matplotlib.sourceforge.net/users/recipes-6.py](http://matplotlib.sourceforge.net/users/recipes-6.py)

# c# - Form1.Hide() 和 Form1.Visible = false 有什么区别？

> ID：12193710
> 
> 赞同：0
> 
> 时间：2012-08-30T09:22:51.473
> 
> 标签：c#, winforms, hide, visible

我将使用上述两个命令之一编写一个函数，但我不知道应该使用哪个。

它们之间有什么区别？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-30T09:25:22.220

没有真正的区别。

来自[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.hide.aspx)

> 隐藏控件**相当于将 Visible 属性设置为 false**。调用 Hide 方法后，Visible 属性返回 false 值，直到调用 Show 方法。

# c# - 从.cs执行代码的Javascript？

> ID：12193711
> 
> 赞同：0
> 
> 时间：2012-08-30T09:22:51.583
> 
> 标签：c#, javascript, asp.net, button, event-handling

我有一个 search.aspx 页面，我想用它执行以下操作：

如果用户关闭此页面（浏览器），我想从 .cs 中触发一些代码。我有一个在页面关闭时调用的脚本：`HandleClose().`如果我关闭页面，我可以提示警报，所以我知道该函数`HandleClose()`被调用。现在我想从 .cs 执行一个方法（注销用户）。我尝试使用`.click()`on a 按钮，然后它将执行 .cs 中的代码。

我尝试使用“ `document.getElementById("buttonname").click()`”，`HandleClose(),`但这不起作用，看起来`OnClick`事件没有被触发。`HandleClose()`知道如何从函数中执行我的代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:28:45.400

您可以将[ajax 与 asp.net Web 方法](http://geekswithblogs.net/frankw/archive/2008/03/13/asp.net-ajax-callbacks-to-web-methods-in-aspx-pages.aspx)一起使用来实现您想要做的事情，但是您尝试的页面关闭事件是非常不可靠的，因为浏览器甚至可能没有足够的时间来触发 javascript 在电源的情况下故障或系统错误或类似的东西

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:30:49.197

您需要对后面的代码进行异步调用，可能使用 JQuery 之类的东西。

假设您可以在页面关闭时打开一个新窗口，请在 Page_Load 上执行一些代码，然后在完成您需要做的事情后关闭此页面。

[您可以使用window.open](http://www.w3schools.com/jsref/met_win_open.asp)打开一个新页面

# android - Android ICS (Holo.light) 中微调器中的彩色文本

> ID：12193714
> 
> 赞同：2
> 
> 时间：2012-08-30T09:22:54.863
> 
> 标签：android, android-spinner

我对 Android ICS 中微调器的文本颜色有疑问（使用 Holo.Light 主题）。问题是背景颜色为浅灰色，文字颜色为白色，看不到文字。

查看stackoverflow，我发现如何在下拉微调器时更改文本颜色，而不是当微调器不是下拉时的颜色有人可以帮我修复它吗？

我试图标记 android: textColor 并且不起作用。我使用的代码是[http://developer.android.com/guide/topics/ui/controls/spinner.html](http://developer.android.com/guide/topics/ui/controls/spinner.html)

谢谢！

![在此处输入图像描述](../Images/54828456fc3499a0a4907360d9781f22.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:26:34.390

当你为 Spinner 设置适配器时，我猜你是在传递一个 TextView 的 ResourceID。因此，在布局 xml 中更改该 TextView 的字体颜色将解决此问题。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-12-30T04:54:05.977

要获得黑色文本（在 Theme.Holo.Light 中）而不是白色，如果您使用的是 ArrayAdapter，请使用 Context，`getActivity().getBaseContext()`因为`getActivity().getApplicationContext()`根据我的经验会给您白色文本。

所以像这样：

```
final Spinner num = (Spinner) getActivity().findViewById(R.id.num_spinner);
String[] spinnerArray = {"1", "2", "3"};
ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity().getBaseContext(), android.R.layout.simple_spinner_item, spinnerArray);
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
num.setAdapter(adapter); 
```

花了我很长时间才弄清楚这一点，因为我使用的是应用程序上下文。**!@$!#$**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T09:58:16.870

试试这个。这将改变您的视图的颜色。有问题再问。

```
 Spinner spinner = (Spinner)findViewById(R.id.my_spinner);
        TextView tv = (TextView) spinner.getSelectedView();
        tv.setTextColor(Color.BLACK); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-05T00:20:05.103

将微调器放入 DialogFragment 时遇到了同样的问题。由于我不能使用“this”作为上下文，所以我使用了应用程序上下文。这导致微调器在灰色背景上显示白色文本：

```
ArrayAdapter<String> adapter = new ArrayAdapter(mApplication, android.R.layout.simple_spinner_item, spinnerOptions);
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item); 
```

白色文本是因为我的活动使用了 Theme_Holo_Light_Dialog 样式，但微调器没有意识到这一点。通过将上下文从**mApplication**更改为**getActvity()**，微调器现在知道在膨胀视图时使用 Theme_Holo_Light_Dialog：

```
ArrayAdapter<String> adapter = new ArrayAdapter(getActivity(), android.R.layout.simple_spinner_item, spinnerOptions);
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item); 
```

现在我在灰色背景上有黑色文本。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-11-20T08:33:58.210

将 getActivity() 更改为“this”，不知道原因，但它工作正常..

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,android.R.layout.simple_spinner_item, spinnerOptions);
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item); 
```

# javascript - JavaScript 使用主题标签更改显示

> ID：12193715
> 
> 赞同：3
> 
> 时间：2012-08-30T09:22:57.340
> 
> 标签：javascript, html, css, displayobject

我对 JS 很陌生，对一些看起来很简单的东西有疑问。我正在尝试编写代码，以便如果页面在 url 的末尾带有 # 加载，例如。www.example.com#hashtag，然后会显示一个 div，如果它没有 # 则不会显示该 div。

我的代码：

JS：

```
<script type="text/javascript">
if(window.location.hash) {
document.getElementById("displaydiv").style.display = "block"; 
}
</script> 
```

HTML：

```
<div id="displaydiv" style="display: none; height: 100px; width: 100px; 
background-color: red;"></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T10:11:57.267

代码是正确的，但是在渲染*之前*`<script>`执行得太早了，所以我怀疑您在浏览器中遇到了 JavaScript 错误。你检查浏览器控制台了吗？*`<div>`*

 *移动`<script>` *after*将`<div>`修复它，但将代码放入函数并在页面加载后调用它可能是明智的，例如：

```
<script type="text/javascript">
    function init() {
        if (window.location.hash) {
            document.getElementById("displaydiv").style.display = "block"; 
        }
    }

    window.onload = init;
</script> 
```

请参阅[<body onload="init ();"> 的替代方案](https://stackoverflow.com/questions/7561315/alternative-to-body-onload-init)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:30:26.980

这将获得哈希 (#displayDiv) 并显示特定的 div ...

```
<script type="text/javascript">
  var hasher = window.location.hash;

  if(hasher.indexOf('displaydiv') > -1) {
    document.getElementById("displaydiv").style.display = "block"; 
  } else if (hasher.indexOf('anotherDiv') > -1) {
    document.getElementById("anotherDiv").style.display = "block";
  }
</script>

<div id="displaydiv" style="display: none; height: 100px; width: 100px; background-color: red;"></div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:34:29.320

[使用:target](http://www.w3.org/TR/selectors/#target-pseudo)选择器的简单 CSS 解决方案怎么样：

```
*:target {
  display: block;
} 
```*

# android - Theme.Holo 不显示 Tabhost 小部件图标

> ID：12193716
> 
> 赞同：3
> 
> 时间：2012-08-30T09:22:59.460
> 
> 标签：android, android-tabhost, uitabbar, tabwidget, android-theme

我使用 Theme.Holo 作为应用程序的父主题。但是，选项卡主机中的选项卡不显示图标。为了显示图标，我可以将主题更改为 Theme.Light 或只是 Theme，但是我将没有 Theme.Holo 附带的操作栏。

有人可以告诉我在使用 Theme.Holo 时如何在标签主机上显示图标吗？我指的是类似 iOS 的标签栏图标。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-17T12:02:31.907

不知道这是否解决了您的问题，但是如果您删除文本，则会显示图标。

这是我使用的代码：

```
TabHost tabHost = getTabHost();
Intent intent = new Intent().setClass(this, Overview.class);

spec = tabHost.newTabSpec("overview")
           .setIndicator(Build.VERSION.SDK_INT < 11 ? this.getString(R.string.descr) : "", res.getDrawable(R.drawable.tab_overview))
           .setContent(intent); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T14:39:20.963

似乎不再使用图标标签。

您可以使用我用于标签的出色库（[ViewPagerExtentions](https://github.com/astuetz/ViewPagerExtensions)），它可以让您在标签之间滑动，并为每个标签设置图标，如下所示： ![在此处输入图像描述](../Images/93965cf8b51f58312a401a79525e917d.png)

您需要下载该库。在示例项目中，您想要的布局是：`activity_fixed_icon_tabs.xml`. 这很简单，但是如果您需要任何帮助，可以问我。

如果您不想弄脏自己的手，这里提供了解决您的问题的[方法](https://stackoverflow.com/questions/10747507/why-are-the-images-in-widgettab-not-shown-if-minsdkversion10)。基本上你可以进入选项卡内的 ImageView 并调用`img.setVisibillity(View.VISIBLE)`.

然后他说在 android<3.0 中它弄乱了选项卡，但他也为此提供了解决方案。您可以检查设备运行的 android 版本，然后进行相应的操作。但据我了解，这对你来说不是问题，因为你想使用`ActionBar`always。

我建议您使用[ViewPagerExtentions](https://github.com/astuetz/ViewPagerExtensions)库，因为它还添加了非常精美的滑动功能。但即使你不想使用它，你也有一个解决方案。

# iphone - 贝塞尔曲线示例代码触摸移动

> ID：12193719
> 
> 赞同：2
> 
> 时间：2012-08-30T09:23:08.763
> 
> 标签：iphone, ios, cocoa-touch, cocos2d-iphone, bezier

我正在寻找使用触摸绘制贝塞尔曲线的示例代码，如果有人有链接或示例代码，请帮助我。我正在开发飞行控制游戏，我必须沿着用户用手指绘制的路径移动我的 ccsprite

编辑：感谢您的建议，现在我正在使用 CAShapeLayer 和 CAKeyframeAnimation 制作曲线。现在我需要删除曲线一个用户通过我们的它。就像在飞行控制应用程序中，如果 ccsprite 沿着路径移动，背面路径就这样被删除，谢谢非常

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:32:30.430

使用两个端点和两个锚点绘制贝塞尔曲线。使用此信息绘制贝塞尔曲线非常容易。从手绘曲线中获取这些点称为矢量化（图像跟踪）。我是一个相当复杂的任务。

我认为使用这样的简单算法可以获得更好的结果：

1.  将所有坐标存储在 FIFO 列表中
2.  将您的精灵移向列表的下一个点
3.  一旦精灵足够子句丢弃该点并继续下一个点
4.  通过使用简单的平滑算法（xSpeed、ySpeed、阻尼）来简化运动，请问我是否需要帮助

编辑 ：

我刚刚检查了飞行控制视频，我会这样做。一旦用户按下一个，它就会选择它。然后用户开始绘图，尽可能靠近用户手指绘制点（移动受平面转弯半径限制）。这将记录一系列步骤。每一步都由它的角度定义（我认为速度是恒定的），这个角度必须等于前一个 +/- 转动能力。

使用简单的三角函数来计算 x,y 坐标。

看看这个： [如何在鼠标上创建一个精灵点。XNA C#](https://stackoverflow.com/questions/3369236/how-to-make-a-sprite-point-at-the-mouse-xna-c-sharp)

[你会在https://gamedev.stackexchange.com/](https://gamedev.stackexchange.com/)上找到更好的帮助，确保有人准备好粘贴类似于你需要的代码。几年前我在 Amiga 上的 Amos 做过，但我无法将代码粘贴到这里，抱歉 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:31:19.093

```
#include <math.h>

    CGFloat radius = 100;
    //CGFloat pi = 3.1415927; //comes for free in math.h

    UIBezierPath *basecircle = [UIBezierPath bezierPathWithOvalInRect:CGRectMake(0,0,radius*2,radius*2)];
    [[UIColor blackColor] set];
    [basecircle fill]; 
```

这是绘制bezierPath的代码。你需要在drawRect方法中实现这个。希望能帮助到你。

# c# - 我如何在 ldap 过滤器中使用“NOT”运算符

> ID：12193720
> 
> 赞同：2
> 
> 时间：2012-08-30T09:23:09.727
> 
> 标签：c#, asp.net, filter, active-directory, ldap-query

我使用过滤器搜索 Active Directory 中的用户列表...

这是我的过滤器示例：

AD.filterung = "(&(objectClass=user)(objectCategory=user)(userAccountControl:1.2.840.113556.1.4.803:=2)(sn= *)(|(telephoneNumber=* )(mail= *))(l=" + Werk + ")(cn=* ))";

它向我显示所有具有 UF_ACCOUNT_DISABLE 的用户，但我想向所有其他用户显示 not Unlock ...我如何在我的过滤器中构建一个 not 运算符。:(

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:48:34.653

你试过简单地用“！” ?

```
AD.filterung = "(&(objectClass=user)(objectCategory=user)(!userAccountControl:1.2.840.113556.1.4.803:=2)(sn=)(|(telephoneNumber=)(mail=))(l=" + Werk + ")(cn=))"; 
```

# html - JQM：标题中的后退按钮不会消失

> ID：12193723
> 
> 赞同：1
> 
> 时间：2012-08-30T09:23:24.063
> 
> 标签：html, jquery-mobile

奇怪的是，下面的代码在标题中产生了一个不需要的后退按钮。据我所知，最新 JQM 的默认行为是禁用的后退按钮。即使试图强行关闭它，它仍然出现在左侧对照组中。我已将按钮放置在控件组中，因为我希望标题中有多个按钮。

**更新：**尝试在对照组之外使用右键 - 没有区别。

**更新二：**用控制组交换字段集没有区别。

![返回键](../Images/2a1ebc49b699e3f6cb6fc38b54296171.png)

```
<div data-role="header" data-position="inline" data-add-back-btn="false">

<div data-role="controlgroup" class="ui-btn-left">  

<a href="all-devices-list.html" data-ajax="true" data-role="button" data-icon="home_button_header" data-iconpos="notext">Home</a>
<a href="phone-device.html" data-ajax="true" data-role="button" data-icon="phone_button_header" data-iconpos="notext">Phone</a>

</div>                                  

<h2><a href="#"><img src="themes/images/header.png" alt="Header" title="Header"></a></h2>

<div data-type="horizontal" data-role="controlgroup" class="ui-btn-right">

<a href="add-device.html" data-role="button" data-icon="plus_icon_header" data-iconpos="notext">Plus</a>

</div>                                  

</div> 
```

# android - 如何替换 APK 中的 XML 文件？

> ID：12193729
> 
> 赞同：6
> 
> 时间：2012-08-30T09:23:33.423
> 
> 标签：android, apk

我想在每个下载的 APK 文件中包含其他（每个用户）数据。换句话说，我在服务器上有一个现有的 APK 文件，并希望：

*   `/res/user_info.xml`用动态生成的 XML 文件替换现有 APK 中的文件
*   在用户下载之前更新并重新签名整个包

**更多信息：**我知道可以使用 aapt、apktool、jarsigner、... 问题是文档很差，我无法找到（或开发）一种重新打包 APK 文件的工作技术。例如，无论我做什么`aapt`，总是将 XML 文件放在根路径 ( ) 中。`/`我也不确定需要更新哪些资源才能使 APK 文件再次有效。此外，现有的 XML 文件`/res/`已编译 - 我是否也需要对我的 XML 文件执行此操作？如果是，我该怎么做？如果不是，我应该将我的 XML 文件放入`/res/raw/`吗？

**问题：**如何替换 APK 中的 XML 文件并重新打包？需要哪些步骤以及我使用哪些工具？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T22:54:19.637

在本文中，您可以找到解压和打包[apk](http://www.demirozali.com/?p=64)文件的基本步骤。

基本上;

=`apktool.bat d -s sample.apk .\sample\`仅用于解码 apk 的资源。（在您的情况下，无需解码源部分）

= 添加/编辑/替换您所需的资源。

=`apktool.bat b .\sample\ .\sample_edited.apk`用于构建更改的 apk。

= 如果您还没有，请生成一个 RSA 2048 密钥来签署 apk：`keytool -genkey -v -keystore my.keystore -alias myandroidalias -keyalg RSA -keysize 2048 -validity 20000`

= 使用生成的密钥签署 apk`jarsigner -verbose -sigalg MD5withRSA -digestalg SHA1 -keystore my.keystore .\sample_edited.apk -signedjar .\sample_signed.apk myandroidalias`

= 并将签名的 apk 与 4 字节边界对齐`zipalign.exe -v 4 .\sample_signed.apk .\sample_aligned.apk`（*zipalign 与 android-sdk 一起提供*）

# html - 如何定位一些文本？

> ID：12193731
> 
> 赞同：0
> 
> 时间：2012-08-30T09:23:44.957
> 
> 标签：html, css, twig

很抱歉这个菜鸟和愚蠢的问题，但我对 css 知之甚少，我不知道如何设计我的网站。这是我的代码：

**HTML**（树枝）：

```
<div class="wrap">
    <div>
        <img class="birthday" src="http://www.clker.com/cliparts/1/d/a/6/11970917161615154558carlitos_Balloons.svg.med.png">
            <div class="try"> 
               This friends have brithday today: 
               {% for bd in birthdays %}

               <p>
                   <a href="{{ path('friend_id', {'id': bd.id}) }}">{{ bd.name }}</a>
                      <span class="years">
                         ({{ bd.years }} years)
                       </span>
               </p>

               {% endfor %}

            </div>

    </div>
</div> 
```

**CSS：**

```
body {
    background-color: #FFFFF1;
    text-align: center;
    font-size: 17px;
    font-family: Tahoma, Geneva, sans-serif;  
}

p {
    margin: 10px;
}

a {
    text-decoration: none;
    color: #6a9211;
}

a:hover {
    text-decoration: underline;
}

.wrap {
    width: 700px;
    margin: auto;
}

.birthday {
    width: 49px;
    height: 80px;
    float: left;
    margin-left: 150px;
    display: block;  
}

.try {
    display: block;
    margin-right: 150px;
    margin-bottom: 50px;
}

.years {
    font-size: 12px;
} 
```

这[就是](http://s14.postimage.org/5cc2t2gbl/birthday.jpg)我得到的。我要解决的问题是`Maria`并`Peter`显示在`Anna`and下`John`，所有这些都 4 在标签下居中`This friends have birthday today:`。我知道这是因为图像，但我不知道如何使它看起来很好。:(

请帮忙！提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:31:01.013

仅 CSS[**小提琴**](http://jsfiddle.net/Bu5PY/)-

添加`float: right;`到`.try`课堂 -

```
.try {
    /*display: block;*/ float: right;
    margin-right: 150px;
    margin-bottom: 50px;
} 
```

编辑：

您还可以删除`margins`和管理 div `width`-

```
.try {
    /*display: block;*/ float: right; width: 500px;
    /*margin-right: 150px;
    margin-bottom: 50px;*/
} 
```

[**更新小提琴**](http://jsfiddle.net/Bu5PY/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:34:31.310

试试这个：

```
.try {
width: 500px;
float: right;
margin-right: 150px;
margin-bottom: 50px;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:30:33.647

你只需要在try-class中添加一些margin-left：http: [//jsfiddle.net/VWY8N/](http://jsfiddle.net/VWY8N/)

```
.try {
    display: block;
    margin-right: 150px;
    margin-bottom: 50px;
    margin-left: 201px;
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-30T09:30:36.180

将您的 css 添加到 head 部分的样式标记中，如下所示

```
<html>
<head>
<style>
{
    background-color: #FFFFF1;
    text-align: center;
    font-size: 17px;
    font-family: Tahoma, Geneva, sans-serif;  
}

p {
    margin: 10px;
}

a {
    text-decoration: none;
    color: #6a9211;
}

a:hover {
    text-decoration: underline;
}

.wrap {
    width: 700px;
    margin: auto;
}

.birthday {
    width: 49px;
    height: 80px;
    float: left;
    margin-left: 150px;
    display: block;  
}

.try {
    display: block;
    margin-right: 150px;
    margin-bottom: 50px;
}

.years {
    font-size: 12px;
}

</style>
</head>
<body>
<div class="wrap">
    <div>
        <img class="birthday" src="http://www.clker.com/cliparts/1/d/a/6/11970917161615154558carlitos_Balloons.svg.med.png">
            <div class="try"> 
               This friends have brithday today: 
               {% for bd in birthdays %}

               <p>
                   <a href="{{ path('friend_id', {'id': bd.id}) }}">{{ bd.name }}</a>
                      <span class="years">
                         ({{ bd.years }} years)
                       </span>
               </p>

               {% endfor %}

            </div>

    </div>
</div>

</body>
</html> 
```

# c# - 如何创建动态 web.sitemap？

> ID：12193736
> 
> 赞同：3
> 
> 时间：2012-08-30T09:24:13.157
> 
> 标签：c#, asp.net

我想创建一个动态 Web.Sitemap，动态是指该文件应该是可编辑的，并且我希望能够从我的代码中编辑它的节点。我已经在按钮的点击事件上尝试过这个。

```
SiteMapNode smRoot = SiteMap.RootNode;
SiteMapNode smNode = new 
           SiteMapNode(smRoot.Provider, "Key", "~/Default.aspx", "Default");
smRoot.ChildNodes.Add(smNode); 
```

但在最后一行出现错误`Collection is read-only.`。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-27T11:49:47.240

尝试这个...

```
public void GetSiteMap(List<string> MyList)
{
    /// Add namespace:
    ///using System.Xml;
    ///using System.Data;
    ///using System.Xml.Serialization;

    String MyHome = "http://www.mysite.com" ;//Create Absolute url start.

    // create DataSet and DataTable if needed, or use List Array only
   /*
        DataTable DT = new DataTable();
        foreach (var array in MyList)
        {
            DT.Rows.Add(array);
        }

    */
    XmlDocument doc = new XmlDocument();// create XML Documents
    XmlDeclaration dec = doc.CreateXmlDeclaration("1.0", null, null);// Create the head element
    doc.AppendChild(dec);

    XmlElement root = doc.CreateElement("urlset");// Create the root element with attributes

    root.SetAttribute("xmlns:xsi", "http://www.w3.org/2001/XMLSchema-instance");
    root.SetAttribute("xmlns:xsd", "http://www.w3.org/2001/XMLSchema");
    root.SetAttribute("xmlns", "http://www.sitemaps.org/schemas/sitemap/0.9");
    doc.AppendChild(root);

    //foreach (DataRow DR in DT.Rows)// if use DataTable or
    foreach (var array in MyList)// if use List only
    {
        XmlElement MyUrl = doc.CreateElement("url");//create child node for root node

        XmlElement Loc = doc.CreateElement("loc");//create child node for MyUrl node
        XmlElement Freq = doc.CreateElement("changefreq");//create child node for MyUrl node
        XmlElement Pri = doc.CreateElement("priority");//create child node for MyUrl node

        Loc.InnerText = MyHome + "/" + array;//set value for 1\. child node  Loc node
        Freq.InnerText = "daily";//set value for 1\. child node-Freq node
        Pri.InnerText = "0.85";//set value for 1\. child node-Pri node

        MyUrl.AppendChild(Loc); //add child Loc node to MyUrl node
        MyUrl.AppendChild(Freq);//add child Freq node to MyUrl node
        MyUrl.AppendChild(Pri);//add child Pri node to MyUrl node

        root.AppendChild(MyUrl);//add child MyUrl node to root node
    }

    Response.Clear();
    XmlSerializer xs = new XmlSerializer(typeof(XmlDocument));
    Response.ContentType = "text/xml";
    xs.Serialize(Response.Output, doc);
    Response.End();
} 
```

在 PageLoad() 上调用这个 void

:)

# ajax - 在 Asp.net 更新面板中动态加载 GoogleMap Javascript 库

> ID：12193739
> 
> 赞同：0
> 
> 时间：2012-08-30T09:24:27.680
> 
> 标签：ajax, google-maps, load, updatepanel

我有一个谷歌地图 javascript 链接，例如： string GoogleURL = "http://maps.google.com/maps?file=api&v=2&key=abcdefg"

我构建了一个用户控件，它将像这样注册这个脚本： ScriptManager.RegisterClientScriptBlock(Page, Page.GetType(), key, String.Format("", GoogleURL), false);

然后这个控件有其他脚本，它会从谷歌 API 调用一些东西，比如：google.maps.MapTypeId.ROADMAP

这个用户控件将被放置在：并且它将被设置为 Visible="false" 默认

当我单击一个按钮来触发 AJAX 时，它设置了可见的等于 true 服务器端。但我得到一个像这样的异常：Microsoft JScript 运行时错误：无法获取属性“ROADMAP”的值：对象为空或未定义

如果我将用户控制权置于更新面板之外，一切都会顺利进行。

我尝试编写一个脚本而不是 Google 的，ajax 加载它并运行它，它仍然有效。

我不知道为什么会这样，是不是因为 AJAX 加载同时调用每个 JS 文件，谷歌的 JS 文件需要更多时间，所以当下一个 JS 文件调用它时仍在加载中？

感谢您提供有关如何解决此问题的任何想法。如果我的描述不够详细，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T03:24:20.450

尝试使用这个或使用类似的技术来加载功能。

[http://api.jquery.com/ready/](http://api.jquery.com/ready/)

# jquery - jQuery：队列创建的元素

> ID：12193740
> 
> 赞同：0
> 
> 时间：2012-08-30T09:24:46.120
> 
> 标签：jquery

我想要：

1.  加载页面空滑块
2.  加载带有图像的页面（`$(window).load()`？）后，我想将幻灯片注入滑块。

但事情是这样的 - 我不希望在前一张幻灯片完全加载之前注入幻灯片（文本 + 大背景图像）。任何想法我该如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:32:40.133

而不是`$(window).load()`你可以使用这个：`$(function () {});`

要检查图像是否真的加载，您可以使用这个不错的插件：http: [//github.com/desandro/imagesloaded](http://github.com/desandro/imagesloaded)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:30:19.650

你可以试试这个插件：

[http://www.appelsiini.net/projects/lazyload](http://www.appelsiini.net/projects/lazyload)

# android - 通话结束后如何恢复我的android游戏的nativeactivity（GLES层）？

> ID：12193743
> 
> 赞同：4
> 
> 时间：2012-08-30T09:25:02.367
> 
> 标签：android, android-ndk, powervr-sgx

我在我的 android 应用程序中使用本机活动运行 GLES2。通话结束时，我返回我的应用程序，但屏幕保持空白。我检查了任务管理器，发现应用程序仍在运行。有人可以指出我是否 1）我必须编写代码来保存和恢复我的游戏，并且我必须在 java 中覆盖哪些调用才能做到这一点 2）有一种更自动化的方式来恢复我的应用程序而无需保存/恢复

谢谢，马丹

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:21:49.663

这可能是由于 Android 在将应用程序发送到后台后破坏了 OpenGL 上下文，并且默认情况下不会自动恢复它。

有两个选项可以解决这个问题 - 如果您的目标是 Honeycomb 设备或更高版本，最简单的方法是`setPreserveEGLContextOnPause`在您的`GLSurfaceView`（请参阅[此处](http://developer.android.com/reference/android/opengl/GLSurfaceView.html)）上使用。如果您的目标是较低的操作系统版本，另一种选择是手动恢复所有内容。当上下文被销毁时，所有附加到它的东西 - 着色器、纹理、顶点和索引缓冲区。您需要在正确的时间重新创建这些 - 在`onSurfaceCreated`. 有关详细信息，请参阅 Android[文档](http://developer.android.com/reference/android/opengl/GLSurfaceView.Renderer.html)。

更新 - 我的引擎中用于 pre-HoneyComb 设备的示例实现在[这里](https://github.com/pixelballoon/pixelboost-engine/tree/develop/src/common/pixelboost/graphics/device)。查看包含在`PIXELBOOST_GRAPHICS_HANDLE_CONTEXT_LOST`. 调用上下文重新创建的绑定位于[示例项目](https://github.com/pixelballoon/pixelboost-template)中。

# visual-studio - 在 Visual Studio 2012/2013/2015 中克隆 TFS 构建定义？

> ID：12193745
> 
> 赞同：46
> 
> 时间：2012-08-30T09:25:06.163
> 
> 标签：visual-studio, tfs, visual-studio-2012

Visual Studio 2010 中的步骤

*   打开团队资源管理器
*   转到构建
*   右键单击构建定义，然后单击克隆。

如何在 Visual Studio 2012 中复制/克隆构建？克隆操作似乎消失了？

注意：我使用的是 TFS 2010

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2012-08-30T10:21:23.967

Cloning build definition is a feature that comes with TFS Power Tools.

I haven't tried it but it seems to be part of the beta version for 2012 available here: [http://visualstudiogallery.msdn.microsoft.com/b1ef7eb2-e084-4cb8-9bc7-06c3bad9148f](http://visualstudiogallery.msdn.microsoft.com/b1ef7eb2-e084-4cb8-9bc7-06c3bad9148f)

(updated url to published version. Thanks Bernard Vander Beken)

* * *

Visual Studio 2013 version:

[http://visualstudiogallery.msdn.microsoft.com/f017b10c-02b4-4d6d-9845-58a06545627f](http://visualstudiogallery.msdn.microsoft.com/f017b10c-02b4-4d6d-9845-58a06545627f) (Credit to Bernard Vander Beken)

* * *

Visual Studio 2015 version:

[https://visualstudiogallery.msdn.microsoft.com/898a828a-af00-42c6-bbb2-530dc7b8f2e1](https://visualstudiogallery.msdn.microsoft.com/898a828a-af00-42c6-bbb2-530dc7b8f2e1) (Credit to Bernard Vander Beken)

# .net - .ICO 文件可以用作按钮中的图像吗？

> ID：12193755
> 
> 赞同：1
> 
> 时间：2012-08-30T09:25:46.633
> 
> 标签：.net, winforms, image, button, ico

文件可以`.ICO`用作`Winforms`按钮的图像吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:36:07.437

是的，它可以。

浏览 Image 属性。检查本地资源。单击导入。更改过滤器以显示所有文件。选择您的 .ico 文件。

不确定它会从您的 .ico 中选择哪个图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-02T17:23:45.900

您可以使用 Icon 的 ToBitmap 方法以编程方式将 Icon 转换为 Image。

# android - Android:HttpClient 不在 Android 4.0 API 中运行

> ID：12193758
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:25:55.137
> 
> 标签：android

我已经编写了适用于 Android 2.2 API 的代码，但它不适用于 Android 4.0

```
 String url = textUrl.getText().toString();
     HttpClient client = new DefaultHttpClient();
     HttpGet  request = new HttpGet(url);
     try
     {
        HttpResponse response = client.execute(request);
        textResult.setText(HttpHelper.request(response));
     }
     catch (Exception e) {
        // TODO: handle exception
         textResult.setText("Failed");
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:31:05.233

Internet 通信必须在单独的线程中运行。

使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)来简化它。

[您可以在此处](http://developer.android.com/guide/components/processes-and-threads.html)阅读有关 Android 线程的更多信息

编辑：如果您真的想在主线程上访问互联网，您可以`onCreate()`使用以下代码在方法中允许它：

```
StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();
StrictMode.setThreadPolicy(policy); 
```

但是，我真的不推荐这种方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:53:51.613

如果您从 android 2.x 中的主线程调用 URL，那么它将完美运行。

但是 HonyCumb 及其更高版本需要从工作线程发送调用 URL。

您可以为此使用**AsyncTask**。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:36:27.167

我遇到了同样的问题。解决方案非常简单：您必须使用 AsyncTaks。要实现它们，您可以简单地创建一个新类。体育：

```
public class AsynkTaskRequest extends AsyncTask<String, Void, String> {

    @Override
    protected String doInBackground(String... params) {
        String answer = null;

        for (String request : params) {
            //your code comes here
        }
    }
} 
```

更多详情，随便搜一搜就找到了（“[这次我找你了](https://stackoverflow.com/questions/3505930/make-an-http-request-with-android)”）

**编辑：** 不要使用：

```
catch (Exception e) {
    // TODO: handle exception
     textResult.setText("Failed");
} 
```

做它喜欢

```
catch (Exception e) {
    //if you use logcat in eclipse    
    Log.e("Request Error", e.getMessage());
    //else
    System.out.println(e.getMessage());     
} 
```

# yii - Yii 是如何知道 CWebApplication 存在的？

> ID：12193762
> 
> 赞同：3
> 
> 时间：2012-08-30T09:26:10.463
> 
> 标签：yii, bootstrapping

我试图解释一下 Yii 是如何为我自己的教育目的而初始化的。但我一开始就被卡住了。所以这里是：

**我了解如何在 index.php 中将两个文件分配给一个变量：**

```
$yii=dirname(__FILE__).'/../framework/yii.php';
$config=dirname(__FILE__).'/../protected/config/main.php'; 
```

**我了解如何通过包含变量来包含第一个文件`$yii`：**

```
require_once($yii); 
```

**我知道对空的静态方法** `class Yii{}` **（在 yii.php 中找到）进行了调用，这是（在 Yiibase.php 中找到）的扩展，** `class Yiibase{}` **并且变量** `$config` **被传递给该方法：**

```
Yii::createWebApplication($config)->run(); 
```

**我不明白的是：**

*   它是什么`->run()`以及它来自哪里？
*   如何在 createWebApplication 方法`CWebApplication`中创建一个对象 ()，直到那时我才看到文件中包含该对象 ()。它怎么知道`class CWebApplication{}`存在？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T10:12:18.623

`createWebApplication()` [#](https://github.com/yiisoft/yii/blob/1.1.12/framework/YiiBase.php#L98)只返回具有 # 方法的`new CWebApplication($config)` [#](https://github.com/yiisoft/yii/blob/1.1.12/framework/YiiBase.php#L125) `run()` [，](https://github.com/yiisoft/yii/blob/1.1.12/framework/base/CApplication.php#L158)并且此类可以很容易地通过较早注册的自动装线机自动导入[#](https://github.com/yiisoft/yii/blob/1.1.12/framework/YiiBase.php#L854)。

# javascript - 是否可以从 Html 本地存储输出到 .csv 或类似文件？

> ID：12193763
> 
> 赞同：3
> 
> 时间：2012-08-30T09:26:14.127
> 
> 标签：javascript, css, html, cordova, csv

这可能吗？

它必须使用 HTML5、CSS 和 Javascript 来完成。我正在使用Phonegap。

我浏览了无数的论坛和网站，了解到 phonegap 中有一个文件 api，但即使我能够使用这个 api 将信息放入一个文件中，我是否能够将该文件提取到一台电脑上？

目前，我能够将所需的数据存储在 localStorage 中。

感谢您提前提供任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T13:59:52.907

似乎可以将 .csv 内容从本地存储输出到文件，但由于这是在浏览器内的沙盒环境中，因此无法访问存储此信息的文件的位置，也无法访问该文件就好像它是一个 .csv 文件一样。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-30T09:37:48.133

您需要遍历所有`localStorage`项目并设置每个项目......如下所示：

```
var compositeCSV = "";
for (var i = 0; i < localStorage.length; i++) {
  compositeCSV += localStorage[i] + "|";
} 
```

但是，这行不通——你不能这样迭代`localStorage`。您需要分别获取每一个。

在 CSV 中，逗号`,`是新的“单元格”，而管道`|`是新的行。

# c# - 在语义模型中查找标识符

> ID：12193764
> 
> 赞同：8
> 
> 时间：2012-08-30T09:26:15.683
> 
> 标签：c#, roslyn

假设我有一个如下所示的源文件：

```
public class FieldReference
{
    int field;

    public FieldReference()
    {
        field = 1;
    }
} 
```

我正在使用 SyntaxRewriter 访问此文件中的所有标识符。在 VisitIdentifierName 方法中，我想在语义模型中查找标识符，以发现标识符是否引用当前类的成员。

这是我到目前为止所拥有的：

```
public override SyntaxNode VisitIdentifierName(IdentifierNameSyntax node)
{
    SemanticModel model = this.compilation.GetSemanticModel(this.src);
    // ?? look up identifier in compilation here ??
    return base.VisitIdentifierName(node);
} 
```

但是我找不到在语义模型中查找标识符 - 没有接受 IdentifierNameSyntax 的 SemanticModel.GetDeclaredSymbol 方法的重载。

知道我应该怎么做吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-30T15:27:50.630

您应该`SemanticModel.GetSymbolInfo`在表达式上使用（在这种特殊情况下为`IdentifierNameSyntax`）。

`GetDeclaredSymbol` is for going from the declaration point (`int field;` above) to a symbol. To perform the compiler's binding logic and see what symbol a particular expression binds to, use `GetSymbolInfo`.

# linux - 在 Unix/Linux 中更改新复制文件的权限

> ID：12193765
> 
> 赞同：0
> 
> 时间：2012-08-30T09:26:19.793
> 
> 标签：linux, unix

我们使用两个用户来放置文件并在 Unix 服务器中读取文件。尽管我已将目录的权限更改为 drwxrwxrwx 。当用户 1 将文件放置/复制到目录中时，权限更改为 -rw-rw-- --.

所以 User2 无法读取文件。User2 实际上是我的 java 应用程序，它使用文件进行处理。

谁能给我一个建议，当 user1 复制文件时，它也会维护目录的属性，以便 User2（我的应用程序）可以毫无困难地读取它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:30:24.057

1.  目录的权限应该是`drwxrwx---`；你不希望全世界都弄乱那里的文件。

2.  您需要为两个用户提供一个公共*组*（请参阅管理手册如何创建组并将用户分配给他们）。两个用户都需要再次登录才能使更改可见。

3.  将此组分配给目录

4.  `chmod g+s`在目录上告诉 Linux 将组分配给其中的所有新文件。

# perl - PERL 5.8.4 安装 DBI 模块

> ID：12193766
> 
> 赞同：4
> 
> 时间：2012-08-30T09:26:21.407
> 
> 标签：perl, dbi

我正在研究 Perl“这是 perl，为 Win32 构建的 v5.8.4”版本。如何在其中安装 DBI 模块？与 Perl 5.12.3 不同，我找不到任何 ppm.bat 。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-30T11:27:39.967

使用[`CPAN`](http://p3rl.org/CPAN)模块/命令行实用程序连接到模块的 CPAN 存储库。但是，构建和安装`DBI`将需要在您的系统上安装编译器。如果您将它与 Perl 一起使用，这可能不是问题，这似乎不是 ActiveState 发行版，但如果您没有它并且不熟悉在其上安装开发工具，这可能会更加困难赢32。

`cpan -i DBI`首先，只需在命令行中尝试。

如果您无法访问 shell/command 启动文件，您也可以`CPAN`在交互模式下运行模块并`DBI`从那里安装：

```
perl -MCPAN -e shell
install DBI 
```

# java - Android - 图像未正确加载延迟列表

> ID：12193767
> 
> 赞同：0
> 
> 时间：2012-08-30T09:26:27.367
> 
> 标签：java, android, lazylist

我们正在使用 Lazylist 来显示来自网络（XML Feed）的图像。小尺寸图片可以正常加载，但是当我们尝试加载大尺寸图片（超过 500kb）时，它会抛出 Out Of Memory 异常。这应该是什么解决方案？

非常感谢任何帮助。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:32:06.077

在这种情况下，捕获异常并尝试以降低的质量加载图像。您可以为此使用 Bitmap.Config 类。默认使用 Bitmap.Config.ARGB_8888 进行解码，所以尝试使用 Bitmap.Config.ARGB_4444。如果再次失败，使用低质量解码 Bitmap.Config.ALPHA_8

检查示例代码以使用 Bitmap.Config.ARGB_4444 进行解码：

```
BitmapFactory.Options options = new BitmapFactory.Options();

    options.inDither = false;
    options.inPurgeable = true; 
    options.inInputShareable = true;
    options.inTempStorage = new byte[32 * 1024]; 
    options.inPreferredConfig = Bitmap.Config.ARGB_4444;

    options.inSampleSize = 1;

    Bitmap imageBitmap = BitmapFactory.decodeFile(bitmapPath, options); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T13:26:52.243

请参阅下面的 Stack Overflow 答案链接以了解延迟加载列表视图，它可能会对您有所帮助，如果您对此有任何疑问，请告诉我。

[延迟加载列表视图](https://stackoverflow.com/questions/11258675/android-query-downloading-images-for-a-listview/11258956#11258956)

# php - mod_rewrite 不改变 URL

> ID：12193768
> 
> 赞同：1
> 
> 时间：2012-08-30T09:26:28.837
> 
> 标签：php, apache, .htaccess, mod-rewrite

所以我刚开始使用 Apache 的 mod_rewrite 模块，我遇到了一个我似乎无法弄清楚的问题。我想要的是让地址栏在用户手动输入 URL 或链接到页面时显示干净的 URL。现在，当我输入它们时，我得到了干净的 URL，但是当页面链接到时，查询字符串仍然显示在地址栏中。例如：

输入 myDomain.com/first 会将我带到 myDomain.com/index.php?url=first 的页面，并在地址栏中显示 myDomain.com/first。

但是，当单击 href="index.php?url=first" 之类的链接时。当我希望它显示 myDomain.com/first 时，地址栏会显示 myDomain.com/index.php?url=first。

这是我的 .htaccess 文件，它与我的索引文件位于同一文件夹中：

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z0-9_\-]+)/?$ index.php?url=$1 [NC,L]
</IfModule> 
```

这是我的索引文件：

```
<?php
define('ROOT_DIR', dirname(__FILE__) . '/'); // Define the root directory for use in includes 
require_once (ROOT_DIR . 'library/bootstrap.php');

$url = strtolower($_GET['url']);

include(ROOT_DIR . 'views/headerView.php');

switch($url)
{
    case "first": include(ROOT_DIR . 'views/firstPageView.php');
        break;
    case "second": include(ROOT_DIR . 'views/secondPageView.php');
        break;
    default: include(ROOT_DIR . 'views/homeView.php');
} 

include 'views/footerView.php';
?> 
```

这是 homeView.php：

```
<p>This is the home page.</p>
<p>To the first page. <a href="index.php?url=first">First Page</a></p>
<p>To the second page. <a href="index.php?url=second">Second Page</a></p> 
```

对于我的链接问题的任何建议或帮助将不胜感激，在此先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:29:45.897

> 但是，当单击 href="index.php?url=first" 之类的链接时。当我希望它显示 myDomain.com/first 时，地址栏会显示 myDomain.com/index.php?url=first。

您必须链接到“干净”的 URL。请记住，您不是在此处重定向。你在重写！这意味着你必须改变这个：

```
<p>This is the home page.</p>
<p>To the first page. <a href="index.php?url=first">First Page</a></p>
<p>To the second page. <a href="index.php?url=second">Second Page</a></p> 
```

对于这样的事情：

```
<p>This is the home page.</p>
<p>To the first page. <a href="/url/first">First Page</a></p>
<p>To the second page. <a href="/url/second">Second Page</a></p> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:30:55.803

看这两行：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d 
```

这意味着：*如果 url 指向真实的文件或文件夹，请不要尝试遵循规则。*

使用时`myDomain.com/index.php?url=first`，它指向一个真实的文件：`index.php`. 然后，您的规则将不会被尝试。

您**必须**`myDomain.com/first`始终像在代码中一样使用干净的 url 。

# c# - 如何刷新 PropertyGrid 中的本地化属性

> ID：12193770
> 
> 赞同：3
> 
> 时间：2012-08-30T09:26:32.907
> 
> 标签：c#, attributes, globalization, propertygrid

我的本地化属性有问题，例如：

```
public class LocalizedDisplayNameAttribute : DisplayNameAttribute
{
    public LocalizedDisplayNameAttribute(string resourceId)
        : base(GetMessageFromResource(resourceId))
    { }

    private static string GetMessageFromResource(string resourceId)
    {
        var propertyInfo = typeof(Lockit).GetProperty(resourceId, BindingFlags.Static | BindingFlags.Public);
        return (string)propertyInfo.GetValue(null, null);
    }
} 
```

当我使用具有此属性的属性时，它在 PropertyGrid 中本地化，但是当我更改当前 CultureInfo 时，即使我再次创建此 PropertyGrid，它也不会刷新。我尝试通过以下方式手动调用此属性：

```
foreach (PropertyInfo propertyInfo in myPropertiesInfoTab)
{
    object[] custom_attributes = propertyInfo.GetCustomAttributes(false);
} 
```

调用了属性构造函数，但新创建的 PropertyGrid 仍然具有旧区域性显示名称的属性（始终与第一次创建的值相同）。

当我重新启动应用程序时它可以工作，但我不想这样做。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:40:02.917

我们可以在一个简单但完整的示例中重现这一点（只需在名称上添加一个计数器，以表示每个翻译发生时）：

```
[STAThread]
static void Main()
{
    Application.EnableVisualStyles();
    Show();
    Show();
}
static void Show()
{
    using(var grid = new PropertyGrid
        {Dock = DockStyle.Fill, SelectedObject = new Foo { Bar = "def"} })
    using(var form = new Form { Controls = { grid }})
    {
        form.ShowDialog();
    }
}

class Foo
{
    [CheekyDisplayName("abc")]
    public string Bar { get; set; }
}
public class CheekyDisplayNameAttribute : DisplayNameAttribute
{
    public CheekyDisplayNameAttribute(string resourceId)
    : base(GetMessageFromResource(resourceId))
    { }
    private static string GetMessageFromResource(string resourceId)
    {
        return resourceId + Interlocked.Increment(ref counter);
    }

    private static int counter;
} 
```

这表明该*属性*在调用之间被缓存。也许解决此问题的最简单方法是将翻译延迟到`DisplayName`查询的时间：

```
public class CheekyDisplayNameAttribute : DisplayNameAttribute
{
    public CheekyDisplayNameAttribute(string resourceId)
        : base(resourceId)
    { }
    private static string GetMessageFromResource(string resourceId)
    {
        return resourceId + Interlocked.Increment(ref counter);
    }
    public override string DisplayName
    {
        get { return GetMessageFromResource(base.DisplayName); }
    }
    private static int counter;
} 
```

但是，请注意，这可以调用*很多*次（每次显示 36 次）；您*可能*希望将值与其缓存的文化一起缓存：

```
 private CultureInfo cachedCulture;
    private string cachedDisplayName;
    public override string DisplayName
    {
        get
        {
            var culture = CultureInfo.CurrentCulture;
            if (culture != cachedCulture)
            {
                cachedDisplayName = GetMessageFromResource(base.DisplayName);
                cachedCulture = culture;
            }
            return cachedDisplayName;
        }
    } 
```

# visual-studio-2010 - Qt MinGW WIN32 到 Visual Studio 2010

> ID：12193771
> 
> 赞同：2
> 
> 时间：2012-08-30T09:26:33.840
> 
> 标签：visual-studio-2010, qt, mingw, console-application, windows-applications

我有一个通过 cmake 为 MinGW + Qt 创建的项目。在 CMakeLists.txt 我有

```
add_executable (project-name WIN32 ${MOC_SRCS} ${HEADERS} ${SOURCES} ${RESOURCES} ${QtApp_RCC_SRCS}) 
```

如果我尝试将其编译到 VisualStudio 2010 中，则会收到以下链接器错误：

```
MSVCRTD.lib(crtexew.obj) : error LNK2019: undefined reference _WinMain@16 in func ___tmainCRTStartup 
```

然后我擦除WIN32

```
add_executable (project-name ${MOC_SRCS} ${HEADERS} ${SOURCES} ${RESOURCES} ${QtApp_RCC_SRCS}) 
```

该项目可以编译并且工作正常，但是我有一个带有 Qt 窗口的控制台窗口。如何禁用控制台？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:14:56.080

在 add_executable 中使用`WIN32`意味着您的应用程序将属于[SUBSYSTEM:WINDOWS](http://msdn.microsoft.com/en-us/library/fcc1zstk%28v=vs.100%29.aspx)类型。也就是说，不需要控制台的应用程序。如果指定了这个，那么，而不是 a `main(...)`， a [`WinMain(...)`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633559%28v=vs.85%29.aspx)（与 main 有不同的参数）是预期的。由于您的代码很可能没有此功能，因此您会收到报告的链接器错误。

删除`WIN32`意味着您的可执行文件将是默认类型[SUBSYSTEM:CONSOLE](http://msdn.microsoft.com/en-us/library/fcc1zstk%28v=vs.100%29.aspx)，这解释了为什么您的应用程序可以工作，但会显示一个控制台。

因此，要修复它，请指定`WIN32`但将您的更改`main()`为`WinMain()`.

# ios - iOS - 反转视频文件 (.mov)

> ID：12193773
> 
> 赞同：7
> 
> 时间：2012-08-30T09:26:40.940
> 
> 标签：ios, video, avassetexportsession, avmutablecomposition

**要求**：

这听起来有点不同，但这是我想要实现的。我想反向制作电影（.mov）文件。就像我们如何倒带电影文件一样。我还希望保持与我的视频所包含的帧速率相同。

注意：我不只是想以相反的顺序播放视频文件。我想生成以相反顺序播放的新电影文件。

**我的探索**：

我想到了以下步骤来执行相同的操作。

1.  使用特定帧速率制作大块视频文件`AVAssetExportSession`
2.  `AVMutableComposition`使用和将所有这些视频块合并到单个电影文件中`AVAssetExportSession`。
3.  在合并过程中还将每个文件的音频合并到新的视频文件中。

使用上述步骤，我可以反向实现生成的视频文件，但我有以下**问题。**

1.  如果视频持续时间长，则需要大量时间。
2.  它还消耗大量 CPU 周期和内存来完成此过程。

有没有人有任何其他优化的方式来实现这一目标？任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-12-21T20:01:57.767

这是我的解决方案，也许它可以帮助你。 [https://github.com/KayWong/VideoReverse](https://github.com/KayWong/VideoReverse)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-08-27T19:54:41.893

Swift 5，归功于 Andy Hin，因为我基于[http://www.andyhin.com/post/5/reverse-video-avfoundation](http://www.andyhin.com/post/5/reverse-video-avfoundation)

```
 class func reverseVideo(inURL: URL, outURL: URL, queue: DispatchQueue, _ completionBlock: ((Bool)->Void)?) {
        let asset = AVAsset.init(url: inURL)
        guard
            let reader = try? AVAssetReader.init(asset: asset),
            let videoTrack = asset.tracks(withMediaType: .video).first
        else {
            assert(false)
            completionBlock?(false)
            return
        }

        let width = videoTrack.naturalSize.width
        let height = videoTrack.naturalSize.height

        let readerSettings: [String : Any] = [
            String(kCVPixelBufferPixelFormatTypeKey) : kCVPixelFormatType_420YpCbCr8BiPlanarVideoRange,
        ]
        let readerOutput = AVAssetReaderTrackOutput.init(track: videoTrack, outputSettings: readerSettings)
        reader.add(readerOutput)
        reader.startReading()

        var buffers = [CMSampleBuffer]()
        while let nextBuffer = readerOutput.copyNextSampleBuffer() {
            buffers.append(nextBuffer)
        }
        let status = reader.status
        reader.cancelReading()
        guard status == .completed, let firstBuffer = buffers.first else {
            assert(false)
            completionBlock?(false)
            return
        }
        let sessionStartTime = CMSampleBufferGetPresentationTimeStamp(firstBuffer)

        let writerSettings: [String:Any] = [
            AVVideoCodecKey : AVVideoCodecType.h264,
            AVVideoWidthKey : width,
            AVVideoHeightKey: height,
        ]
        let writerInput: AVAssetWriterInput
        if let formatDescription = videoTrack.formatDescriptions.last {
            writerInput = AVAssetWriterInput.init(mediaType: .video, outputSettings: writerSettings, sourceFormatHint: (formatDescription as! CMFormatDescription))
        } else {
            writerInput = AVAssetWriterInput.init(mediaType: .video, outputSettings: writerSettings)
        }
        writerInput.transform = videoTrack.preferredTransform
        writerInput.expectsMediaDataInRealTime = false

        guard
            let writer = try? AVAssetWriter.init(url: outURL, fileType: .mp4),
            writer.canAdd(writerInput)
        else {
            assert(false)
            completionBlock?(false)
            return
        }

        let pixelBufferAdaptor = AVAssetWriterInputPixelBufferAdaptor.init(assetWriterInput: writerInput, sourcePixelBufferAttributes: nil)
        let group = DispatchGroup.init()

        group.enter()
        writer.add(writerInput)
        writer.startWriting()
        writer.startSession(atSourceTime: sessionStartTime)

        var currentSample = 0
        writerInput.requestMediaDataWhenReady(on: queue) {
            for i in currentSample..<buffers.count {
                currentSample = i
                if !writerInput.isReadyForMoreMediaData {
                    return
                }
                let presentationTime = CMSampleBufferGetPresentationTimeStamp(buffers[i])
                guard let imageBuffer = CMSampleBufferGetImageBuffer(buffers[buffers.count - i - 1]) else {
                    WLog("VideoWriter reverseVideo: warning, could not get imageBuffer from SampleBuffer...")
                    continue
                }
                if !pixelBufferAdaptor.append(imageBuffer, withPresentationTime: presentationTime) {
                    WLog("VideoWriter reverseVideo: warning, could not append imageBuffer...")
                }
            }

            // finish
            writerInput.markAsFinished()
            group.leave()
        }

        group.notify(queue: queue) {
            writer.finishWriting {
                if writer.status != .completed {
                    WLog("VideoWriter reverseVideo: error - \(String(describing: writer.error))")
                    completionBlock?(false)
                } else {
                    completionBlock?(true)
                }
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-12T06:00:57.410

你需要参考 AVFoundation 库来完成你的任务..

我只用`AVAssetExportSession`&完成了 30 秒的视频编辑`AVMutableComposition`。

这是您需要参考的链接，它非常有帮助。

[http://www.subfurther.com/blog/category/avfoundation/](http://www.subfurther.com/blog/category/avfoundation/)

而且，如果您想参考 WWDC 会议 PDF 来编辑媒体，那会更好。

此链接总来源：[https](https://developer.apple.com/videos/wwdc/2010/) ://developer.apple.com/videos/wwdc/2010/ 此链接涵盖**使用 AVFoundation 编辑媒体**

关于内存周期..它在导出时也会消耗更多内存。

# jquery - 实时更新面板

> ID：12193774
> 
> 赞同：0
> 
> 时间：2012-08-30T09:26:45.083
> 
> 标签：jquery, asp.net-mvc

我正在使用 asp.net mvc 3.0 并正在编写一个功能，以便在用户执行操作后立即在主面板上更新信息。

因此，所有其他在线用户将看到其他用户的实时更新。

我猜想使用 ajax + jquery 和 web api 但不知道如何使“活”

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:28:52.970

只有使用 websockets 之类的东西才能实现真正的直播。但是您可以通过使用具有小的重复间隔的 ajax 调用来模拟“实时”来检查新数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:29:12.213

谷歌搜索“长轮询”和“网络套接字”等技术。本质上，浏览器与服务器建立长期连接，并且服务器在可用时将数据推送到该连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:49:53.370

Take a look at Socket.io Library if you want to use websockets.

[http://socket.io/](http://socket.io/)

> Socket.IO aims to make realtime apps possible in every browser and mobile device, blurring the differences between the different transport mechanisms. It's care-free realtime 100% in JavaScript.

Socket.io degrades gracefully:

> In order to provide realtime connectivity on every browser, Socket.IO selects the most capable transport at runtime, without it affecting the API.

```
WebSocket
Adobe® Flash® Socket
AJAX long polling
AJAX multipart streaming
Forever Iframe
JSONP Polling 
```

# domain-driven-design - DDD 全局值对象

> ID：12193777
> 
> 赞同：1
> 
> 时间：2012-08-30T09:26:59.657
> 
> 标签：domain-driven-design, ddd-repositories, value-objects

我需要在许多对象中引用 TimePeriod（AM、PM、NIGHT 等）。例如。预定会议，实际会议。

尽管 TimePeriod 在数据库中带有 ID，但它绝对不是实体，因为它不会更改，并且“AM”期间在所有对象中都是相同的。

我的困难在于知道如何从数据库中检索这个值对象。由于不同的对象可以引用它，它不应该是它们的任何存储库方法的一部分，但同时它不应该*真正*拥有自己的存储库，因为它不是根。

那么你会如何建议从数据库中获取它呢？

谢谢。

**更新**

我已经接受了 eulerfx 的回答，因为他解释说句点仍然可以通过存储库从数据库返回，尽管我不太喜欢为多个全局值对象设置多个小型存储库的想法。这个区域对我来说仍然有点灰色。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T01:37:17.233

由于`TimePeriod`是一个值对象，当其他对象引用它时，它们引用的是值本身而不是 ID。使时间段对象不可变，这样一旦对象引用了时间段，它就知道它不会改变。时间段值可以存储在数据库表中，然后表记录具有 ID，但是这些不需要在代码中表示。您可以有一个简单的存储库来检索时间段，例如，如果您希望提供一个显示可用时间段列表的 UI。存储库并不*总是*必须只返回聚合。如果时间段本质上是高度静态的，那么您可以考虑在内存中缓存，甚至拥有一个包含所有可用时间段的静态类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:08:52.417

> 虽然 TimePeriod 在数据库中有 ID，但它绝对不是实体，因为它不会改变。

只要对象具有明确定义的生命周期，即使其内容不变，它也可以是实体。要问的问题是“将动态创建和删除 TimePeriods 吗？”

*   是的？那么 TimePeriod 应该是一个拥有自己存储库的实体。这是Eric Evans 在他的 DDD 书中描述的[知识水平](http://colinjack.blogspot.com/2008/10/domain-driven-design-knowledge-level.html)的一个例子。

*   不？然后你不需要数据库，只需静态定义 TimePeriods 即可。

# r - 如何在 R 中编写 trycatch

> ID：12193779
> 
> 赞同：452
> 
> 时间：2012-08-30T09:27:17.027
> 
> 标签：r, exception, exception-handling, try-catch, r-faq

我想编写`trycatch`代码来处理从网络下载时出现的错误。

```
url <- c(
    "http://stat.ethz.ch/R-manual/R-devel/library/base/html/connections.html",
    "http://en.wikipedia.org/wiki/Xz")
y <- mapply(readLines, con=url) 
```

这两条语句运行成功。下面，我创建了一个不存在的网址：

```
url <- c("xxxxx", "http://en.wikipedia.org/wiki/Xz") 
```

`url[1]`不存在。如何编写一个`trycatch`循环（函数），以便：

1.  当 URL 错误时，输出将是：“web URL is wrong, can't get”。
2.  URL出错时，代码并没有停止，而是继续下载直到URL列表的末尾？

* * *

## 回答 #1

> 赞同：819
> 
> 时间：2012-08-30T11:12:08.157

那么：欢迎来到 R 世界 ;-)

干得好

## 设置代码

```
urls <- c(
    "http://stat.ethz.ch/R-manual/R-devel/library/base/html/connections.html",
    "http://en.wikipedia.org/wiki/Xz",
    "xxxxx"
)
readUrl <- function(url) {
    out <- tryCatch(
        {
            # Just to highlight: if you want to use more than one 
            # R expression in the "try" part then you'll have to 
            # use curly brackets.
            # 'tryCatch()' will return the last evaluated expression 
            # in case the "try" part was completed successfully

            message("This is the 'try' part")

            readLines(con=url, warn=FALSE) 
            # The return value of `readLines()` is the actual value 
            # that will be returned in case there is no condition 
            # (e.g. warning or error). 
            # You don't need to state the return value via `return()` as code 
            # in the "try" part is not wrapped inside a function (unlike that
            # for the condition handlers for warnings and error below)
        },
        error=function(cond) {
            message(paste("URL does not seem to exist:", url))
            message("Here's the original error message:")
            message(cond)
            # Choose a return value in case of error
            return(NA)
        },
        warning=function(cond) {
            message(paste("URL caused a warning:", url))
            message("Here's the original warning message:")
            message(cond)
            # Choose a return value in case of warning
            return(NULL)
        },
        finally={
        # NOTE:
        # Here goes everything that should be executed at the end,
        # regardless of success or error.
        # If you want more than one expression to be executed, then you 
        # need to wrap them in curly brackets ({...}); otherwise you could
        # just have written 'finally=<expression>' 
            message(paste("Processed URL:", url))
            message("Some other message at the end")
        }
    )    
    return(out)
} 
```

## 应用代码

```
> y <- lapply(urls, readUrl)
Processed URL: http://stat.ethz.ch/R-manual/R-devel/library/base/html/connections.html
Some other message at the end
Processed URL: http://en.wikipedia.org/wiki/Xz
Some other message at the end
URL does not seem to exist: xxxxx
Here's the original error message:
cannot open the connection
Processed URL: xxxxx
Some other message at the end
Warning message:
In file(con, "r") : cannot open file 'xxxxx': No such file or directory 
```

## 调查输出

```
> head(y[[1]])
[1] "<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">"      
[2] "<html><head><title>R: Functions to Manipulate Connections</title>"      
[3] "<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">"
[4] "<link rel=\"stylesheet\" type=\"text/css\" href=\"R.css\">"             
[5] "</head><body>"                                                          
[6] ""    

> length(y)
[1] 3

> y[[3]]
[1] NA 
```

## 附加说明

**试着抓**

`tryCatch`返回与执行相关的值，`expr`除非出现错误或警告。`return(NA)`在这种情况下，可以通过提供相应的处理函数来指定特定的返回值（见上文）（见 arguments`error`和`warning`in `?tryCatch`）。这些可以是已经存在的函数，但您也可以在其中定义它们`tryCatch()`（就像我在上面所做的那样）。

**选择处理函数的特定返回值的含义**

正如我们已经指定`NA`在发生错误时应该返回的那样，第三个元素`y`是`NA`. 如果我们选择作为`NULL`返回值，那么 的长度`y`将会是`2`而不是简单地“忽略”返回值是. 另请注意，如果您未通过 指定**显式**返回值，则处理程序函数将返回（即在出现错误或警告条件的情况下）。`3``lapply()``NULL`**`return()``NULL`**

 ****“不需要的”警告消息**

由于`warn=FALSE`似乎没有任何效果，抑制警告的另一种方法（在这种情况下并不真正感兴趣）是使用

```
suppressWarnings(readLines(con=url)) 
```

代替

```
readLines(con=url, warn=FALSE) 
```

**多个表达式**

请注意，如果将多个表达式括在大括号中（就像我在该部分中说明的那样）`expr`，您还可以将多个表达式放在“实际表达式部分”（的参数）中。`tryCatch()``finally`

* * *

## 回答 #2

> 赞同：118
> 
> 时间：2018-12-20T21:56:08.090

`tryCatch`有一个稍微复杂的语法结构。但是，一旦我们理解了构成完整 tryCatch 调用的 4 个部分，如下所示，就很容易记住了：

**expr** : [*必需*] 要评估的 R 代码

**error** : [*可选*] 如果在评估 expr 中的代码时发生错误，应该运行什么

**警告**：[*可选*]如果在评估 expr 中的代码时出现警告，应该运行什么

**finally** : [*可选*] 在退出 tryCatch 调用之前应该运行什么，无论 expr 是否成功运行、出现错误或出现警告

```
tryCatch(
    expr = {
        # Your code...
        # goes here...
        # ...
    },
    error = function(e){ 
        # (Optional)
        # Do this if an error is caught...
    },
    warning = function(w){
        # (Optional)
        # Do this if an warning is caught...
    },
    finally = {
        # (Optional)
        # Do this at the end before quitting the tryCatch structure...
    }
) 
```

因此，一个玩具示例，计算一个值的对数可能如下所示：

```
log_calculator <- function(x){
    tryCatch(
        expr = {
            message(log(x))
            message("Successfully executed the log(x) call.")
        },
        error = function(e){
            message('Caught an error!')
            print(e)
        },
        warning = function(w){
            message('Caught an warning!')
            print(w)
        },
        finally = {
            message('All done, quitting.')
        }
    )    
} 
```

现在，运行三种情况：

**一个有效的案例**

```
log_calculator(10)
# 2.30258509299405
# Successfully executed the log(x) call.
# All done, quitting. 
```

**一个“警告”案例**

```
log_calculator(-10)
# Caught an warning!
# <simpleWarning in log(x): NaNs produced>
# All done, quitting. 
```

**一个“错误”案例**

```
log_calculator("log_me")
# Caught an error!
# <simpleError in log(x): non-numeric argument to mathematical function>
# All done, quitting. 
```

我写过一些我经常使用的有用用例。在此处查找更多详细信息：[https ://rsangole.netlify.com/post/try-catch/](https://rsangole.netlify.com/post/try-catch/)

希望这会有所帮助。

* * *

## 回答 #3

> 赞同：81
> 
> 时间：2012-08-30T09:34:14.163

R 使用函数来实现 try-catch 块：

语法有点像这样：

```
result = tryCatch({
    expr
}, warning = function(warning_condition) {
    warning-handler-code
}, error = function(error_condition) {
    error-handler-code
}, finally={
    cleanup-code
}) 
```

在 tryCatch() 中有两个可以处理的“条件”：“警告”和“错误”。编写每个代码块时要了解的重要一点是执行状态和范围。 [@来源](http://mazamascience.com/WorkingWithData/?p=912)

* * *

## 回答 #4

> 赞同：52
> 
> 时间：2017-04-13T00:25:10.817

这是**一个简单的例子**：

```
# Do something, or tell me why it failed
my_update_function <- function(x){
    tryCatch(
        # This is what I want to do...
        {
        y = x * 2
        return(y)
        },
        # ... but if an error occurs, tell me what happened: 
        error=function(error_message) {
            message("This is my custom message.")
            message("And below is the error message from R:")
            message(error_message)
            return(NA)
        }
    )
} 
```

如果您还想捕获“警告”，只需添加`warning=`类似的`error=`部分。

* * *

## 回答 #5

> 赞同：31
> 
> 时间：2016-09-25T18:55:30.203

由于我刚刚失去了两天的生命试图解决 tryCatch 的 irr 函数，我想我应该分享我的智慧（以及缺少的东西）。仅供参考 - irr 是 FinCal 的一个实际函数，在这种情况下，在大型数据集的少数情况下会出错。

1.  将 tryCatch 设置为函数的一部分。例如：

    ```
    irr2 <- function (x) {
      out <- tryCatch(irr(x), error = function(e) NULL)
      return(out)
    } 
    ```

2.  为了使错误（或警告）起作用，您实际上需要创建一个函数。我最初只是写了错误部分`error = return(NULL)`，所有值都返回为空。

3.  记得创建一个子输出（比如我的“out”）和`return(out)`.**

# c# - 在客户端机器上找不到数据库服务器

> ID：12193782
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:27:27.793
> 
> 标签：c#, visual-studio-2010, sql-server-2008

在过去的一周里，我一直在尝试创建我的 Windows 应用程序的设置。

我已经创建了一个 Windows 应用程序，我想将它安装在客户端计算机上。为此，我在创建安装项目时在先决条件中添加了 Microsoft SQL Server 2008 Express。

现在，为了安装在客户端计算机上创建数据库和表的数据库模式，我在项目中创建了一个安装程序类，并添加了一个从[安装程序类步骤引用的自定义操作](http://techbrij.com/145/install-sql-server-database-with-visual-studio-setup)

这是我的连接字符串

```
Data Source=localhost;Initial Catalog=master;Integrated Security=True;User Instance=True 
```

但我只收到此错误：

> *System.Data.SqlClient.SqlException (0x80131904)：建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：命名管道提供者，错误：40 - 无法打开与 SQL Server 的连接）*
> 
> 在 System.Data.SqlClient.SqlInternalConnection.OnError（SqlException 异常，布尔 breakConnection）
> 在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
> 在 System.Data.SqlClient.TdsParser.Connect（ServerInfo serverInfo，SqlInternalConnectionTds connHandler，布尔 ignoreSniOpenTimeout，Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean IntegratedSecurity)
> at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
> 在 System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover（ServerInfo serverInfo，字符串 newPassword，布尔重定向用户实例，SqlConnection owningObject，SqlConnectionString connectionOptions，TimeoutTimer 超时）
> 在 System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist（SqlConnection owningObject，TimeoutTimer 超时，SqlConnectionString connectionOptions，字符串newPassword，布尔重定向用户实例）
> 
> 在 System.Data.SqlClient.SqlInternalConnectionTds..ctor（DbConnectionPoolIdentity 标识，SqlConnectionString connectionOptions，对象 providerInfo，字符串 newPassword，SqlConnection owningObject，布尔重定向用户实例）
> 在 System.Data.SqlClient.SqlConnectionFactory.CreateConnection（DbConnectionOptions 选项，对象 poolGroupProviderInfo，DbConnectionPool 池， DbConnection owningConnection) 在 System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool 池, DbConnectionOptions 选项)
> 
> 在 System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
> 在 System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
> 在 System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
> 在 System.Data.ProviderBase.DbConnectionFactory .GetConnection(DbConnection owningConnection)
> 在 System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
> 在 System.Data.SqlClient.SqlConnection.Open()
> 在 WindowsFormsApplication5.Installer1.ExecuteSql(String serverName, String dbName, String Sql )

将数据源更改为`.\SQLEXPRESS`会导致此错误：

> *System.InvalidOperationException：实例失败。*
> 在 System.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean IntegratedSecurity)
> 在 System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer 超时, SqlConnection owningObject)

**注意：执行安装数据库架构的脚本时出现此错误。**

我只想将我的 Windows 数据库应用程序安装到客户端机器上。由于我已经缺乏时间，任何其他建议也欢迎......

问候， 马赫什

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:33:47.970

```
Data Source=.\SQLEXPRESS;Initial Catalog=master;Integrated Security=True;User Instance=True 
```

# android - 按钮中的不同文本大小

> ID：12193785
> 
> 赞同：9
> 
> 时间：2012-08-30T09:27:37.787
> 
> 标签：android, button, text-formatting

我想创建一个按钮。此按钮包含一个大小为 22 像素的字母和一些位于其右侧的大小为 16 像素的字母。

像这样：
![在此处输入图像描述](../Images/2e9c5fb1741046a6c2f8ef1668f5399f.png)

我怎样才能做到这一点？

目前我有这个：

```
private void setText(Button btn, String text, String underText) {
    Spannable span = new SpannableString(text + "\n" +  underText);

    btn.setText(span);
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-30T09:35:14.413

您可以`AbsoluteSizeSpan`在 Spannable 中应用以在相同内容中制作不同大小的文本。

```
 private void setText(Button btn, String text, String underText) {

    Spannable span = new SpannableString(text + "\n" +  underText);
    span.setSpan(new AbsoluteSizeSpan(fontSize), startIndex, endIndex, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
    btn.setText(span);
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-30T09:39:25.210

*您可以简单地通过在字符串资源中使用***html**内容来实现它，而不是通过代码来实现。例如：

 *定义一个字符串资源：

```
<string name="tmp"><font size="30">2</font>abc</string> 
```

并将其应用于按钮的文本：

```
android:text="@string/tmp" 
```*

# php - CodeIgniter 中为 foreach 提供的参数无效

> ID：12193793
> 
> 赞同：2
> 
> 时间：2012-08-30T09:27:56.420
> 
> 标签：php, codeigniter, foreach

下面是我的模型，它工作正常。现在它返回 false，因为没有新学生的记录。但是在我的控制器中，我有一个 If 语句检查查询是否返回 true，然后遍历查询中的每一行：

我的模型：

```
function get_schedule($Student_ID)
{
    $query = $this -> db -> query("
        getstuff");

    if($query -> num_rows() > 0 )
    {
        $sections= $query->result();        
        return $sections;
    }
    else     
    {           
        return false;
    }
} 
```

我的控制器：

```
$Student_ID = $session_data['Student_ID'];
$query['section']=  $this->grades_model->get_schedule($Student_ID);
$sections= array();

if ($query == TRUE)
{
    foreach($query['section'] as $row)
    {
        do stuff:
    }
} 
```

问题是它给了我一个无效的 foreach 循环警告，因为没有数据可以循环。如果查询返回错误，我怎样才能使它甚至不尝试该循环。我尝试添加`elseif($query == FALSE){}`，但仍然无效的 foreach 循环。

什么给出了，我可以压制那个警告吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:35:39.803

尝试

**模型**

```
function get_schedule($Student_ID)
{
    $query = $this -> db -> query("
        getstuff");

    if($query -> num_rows() > 0 )
        {
         $sections= $query->result();       
         return $sections;
         }

    else     
         {          
        return false;
         }
} 
```

**控制器 ：**

```
$this->load->model("Model_name");
$var=$this->Model_name->get_schedule($Student_ID);
if ($var)
 {
  foreach($var as $row)
 {
  do stuff:
 }
} 
```

编辑：

确保更改`Model_name`为您的并在您的模型中查询

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:39:47.557

它不是“部分”。你应该保持相同的名字`$query['sections']`

试试这个

```
 $Student_ID = $session_data['Student_ID'];
 $query['sections']=  $this->grades_model->get_schedule($Student_ID);

 if ($query['sections'] == false)
 {
  echo "error";
 }
 else
 {
  foreach($query['sections'] as $row)
  {
   do stuff:
  }
 } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-30T09:39:58.710

这条线`if ($query == TRUE)`没有多大意义，尝试检查以下内容：

```
if (isset($query['section']) && count($query['section']) > 0) {
    foreach ($query['section'] as $row) {
        // do stuff:
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T09:40:53.580

像这样试试

```
foreach($query as $row)
 {
     do stuff:
 } 
```

如果您的 $query 是一个数组。我认为模型函数在您的情况下返回一个数组。

你也犯了一个错误

```
foreach($query['sections'] as $row)     //you did it 'section' try change it
{
    do stuff:
} 
```

如果有用，请接受答案

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-30T09:31:08.440

你做错了`$this->db->query()`用于sql查询。您可以使用`$this->db->query('select * from getstuff');`或`$this->db->get('getstuff');`

# android - Android：需要在TextView之前设置Image

> ID：12193795
> 
> 赞同：0
> 
> 时间：2012-08-30T09:27:57.570
> 
> 标签：android

我需要在下面提到的代码的文本视图之前动态设置图像，那么如何做到这一点。我的代码如下。

```
if (attchStringArray.length > 0) {                      
    LinearLayout attachemntLayout = new   LinearLayout(mainContext);
    LinearLayout.LayoutParams layoutParam  = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
    TextView attNameView = new TextView(mainContext);
    ImageView Ivbackground= new ImageView(mainContext);
    attNameView.setText(attchStringArray[2]);
    attachemntLayout.addView(attNameView,  layoutParam);            
    attachemntLayout.setBackgroundResource(R.drawable.bg_for_answers);
    attachmentsection.addView(attachemntLayout);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:45:58.460

我在您的原始代码中添加了 2 行。检查前面有注释的行。

编辑：您应该使用例如加载带有一些图像的图像视图。`ImageView.setImageResource()`或`ImageView.setImageDrawable()`或`ImageView.setImageBitmap()`。

```
if (attchStringArray.length > 0) {

    LinearLayout attachemntLayout = new   LinearLayout(mainContext);

    // Changed width to WRAP_CONTENT
    LinearLayout.LayoutParams layoutParam  = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);

    TextView attNameView = new TextView(mainContext);
    ImageView Ivbackground= new ImageView(mainContext);

    // You should put some content in the ImageView
    // ...

    attNameView.setText(attchStringArray[2]);

    // I am adding the image view before the text view
    attachemntLayout.addView(Ivbackground, layoutParam);

    attachemntLayout.addView(attNameView,  layoutParam);
    attachemntLayout.setBackgroundResource(R.drawable.bg_for_answers);

    attachmentsection.addView(attachemntLayout);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:52:37.720

试试`setBackgroundDrawable()`这个`TextView`

```
 yourTextView.setBackgroundDrawable(R.drwable.your_image_name); 
```

# python - 从没有缓存选项的命令行调用 Python SimpleHTTPServer

> ID：12193803
> 
> 赞同：45
> 
> 时间：2012-08-30T09:28:39.080
> 
> 标签：python

在 Windows 7 上，我使用的是命令行

```
python -m SimpleHTTPServer 8888 
```

调用一个简单的 Web 服务器来提供目录中的文件，用于开发。

问题是服务器似乎将文件保存在缓存中。尽管有较新的文件可用，但仍提供旧版本的文件。

有没有办法直接从命令行指定“无缓存”选项？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2014-09-07T09:46:44.443

也许这可能会奏效。将以下内容保存到文件中：

**服务包**

```
#!/usr/bin/env python
import SimpleHTTPServer

class MyHTTPRequestHandler(SimpleHTTPServer.SimpleHTTPRequestHandler):
    def end_headers(self):
        self.send_my_headers()
        SimpleHTTPServer.SimpleHTTPRequestHandler.end_headers(self)

    def send_my_headers(self):
        self.send_header("Cache-Control", "no-cache, no-store, must-revalidate")
        self.send_header("Pragma", "no-cache")
        self.send_header("Expires", "0")

if __name__ == '__main__':
    SimpleHTTPServer.test(HandlerClass=MyHTTPRequestHandler) 
```

然后使用

```
python serveit.py 8000 
```

为端口 8000 上的当前目录提供服务。这完全是[从这个 gist](https://gist.github.com/dustingetz/5348582)中提取的，并且似乎工作得很好！

注意：如果您只是想运行一个本地网络服务器来提供静态内容，您可能会对[执行此操作的预设节点解决方案感兴趣 => http-server](https://github.com/indexzero/http-server)，我一直在使用它并且看起来效果很好。

此外，如果您在 Mac 上，如果您以 root 身份运行它，您可以在端口 80 或 443 上运行它！例如

`sudo python serveit.py 80`

应该允许您在浏览器中运行并访问它`http://localhost`

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2015-02-25T00:18:52.893

当然，上面的脚本不适用于 Python 3.x，但它只是由更改为组成，`SimpleHTTPServer`如下`http.server`所示：

```
#!/usr/bin/env python3

import http.server

class MyHTTPRequestHandler(http.server.SimpleHTTPRequestHandler):
    def end_headers(self):
        self.send_my_headers()
        http.server.SimpleHTTPRequestHandler.end_headers(self)

    def send_my_headers(self):
        self.send_header("Cache-Control", "no-cache, no-store, must-revalidate")
        self.send_header("Pragma", "no-cache")
        self.send_header("Expires", "0")

if __name__ == '__main__':
    http.server.test(HandlerClass=MyHTTPRequestHandler) 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-08-30T10:31:55.517

建议你刷新浏览器的时候按Ctrl+F5。

刚碰到[这个](https://gist.github.com/3300372)，它可能就是你要找的东西（顺便说一下，它是用红宝石制作的）

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-08-30T09:35:07.547

也许是浏览器缓存您的文件而不是 SimpleHTTPServer。尝试先停用浏览器缓存。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-11-27T00:37:07.930

我更改为另一个端口号，更新的文件反映在我的浏览器上。

前任。

```
python -m http.server -p 8000

python -m http.server -p 8001 
```

# java - 在java中操作文本文件

> ID：12193807
> 
> 赞同：1
> 
> 时间：2012-08-30T09:28:51.813
> 
> 标签：java

我想显示存储在文本文件中的所有客户，但是一个客户存储在许多文本文件中，并且他显示不止一次。如何消除这些客户的重复？我什至尝试过使用 HashSet 但没有奏效。这是我的代码。

```
public class ReadFile {

private int countCustomer = 0;  
private File path;
private List<Customer> customers = new ArrayList<Customer>();

public ReadFile(File file_path) {

    path = file_path;

}

public String[] openFile() throws IOException {

    FileReader fr = new FileReader(path);
    BufferedReader br = new BufferedReader(fr); 
    int numberOfLines = readLines();
    String[] textData = new String[numberOfLines];
    for (int i = 0; i < numberOfLines; i++)
    {
        textData[i] = br.readLine();

    }

    br.close(); 
    return textData;
}

public void arrayCustomer(){

    try{
        String[] array = openFile();    
        for (int j=0; j< array.length;j++)   
        {
            String str = array[j];  
            String[] temp;
          String delimiter = " ";   

          temp = str.split(delimiter);

          String category = temp[0];  
          double balance = Double.parseDouble(temp[1]);   
          int moveNumber = Integer.parseInt(temp[2]);    
          int accountNumber = Integer.parseInt(temp[3]); 

          if (!isIn(new Customer(category, balance, moveNumber, accountNumber)))
          {
        customers.add(new Customer(category, balance, moveNumber, accountNumber)); 
        countCustomer++;
          }
        }
    }
    catch(IOException e){
        e.printStackTrace();
    }

}

public boolean isIn(Customer customer){

    for (int i = 0; i < customers.size(); i++){
        if (customers.get(i).getAccountNumber() == customer.getAccountNumber())
        {
            return true;
        }
    }
    return false;
}

public void listCustomers() {
    for (Customer customer : customers) {
        System.out.print("Category: " + customer.getCategory());
        System.out.print(" Balance: " + customer.getBalance());
        System.out.print(" Moves: " + customer.getMoveNumber());
        System.out.println(" Account number: " + customer.getAccountNumber());
    }
}

public int readLines() throws IOException {

    FileReader fr = new FileReader(path);
    BufferedReader br = new BufferedReader(fr);

    int numberOfLines = 0;
    String aLine;

    while((aLine = br.readLine()) != null) 
    {
        numberOfLines++;
    }
        br.close();
        return numberOfLines;
}

// The class with the main method

public class FileList {

public static Scanner scan;
public static ReadFile f;
public static final File folder = new File("C:/My_dir");

public static void main(String[] args) {

    Logger logger = Logger.getLogger("textfiles");
    scan = new Scanner(System.in);
    File[] listOfFiles = folder.listFiles();

    for (int i = 0; i < listOfFiles.length; i++)
    {   
        File fileEntry = listOfFiles[i];

        if (!fileEntry.isDirectory()) 
        {
            try{
                f = new ReadFile(fileEntry);
                f.openFile();
                f.arrayCustomer();
                f.listCustomers();
                }
                catch(IOException e)
                {
                    e.printStackTrace();
                }
        }
        else
            {
            logger.log(Level.INFO, "The directory is empty!");
            }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:31:35.753

`Set`如果您`Customer`的定义正确， A应该可以解决问题。您需要确保您`Customer`的 an`equals()`和`hashCode()`object 都在同一组字段上运行，并且可以正确识别两个客户是否“相同”，如您的业务标准所定义。

# php - 支持 SWF 导出的 PHP 图表库

> ID：12193813
> 
> 赞同：0
> 
> 时间：2012-08-30T09:29:11.420
> 
> 标签：php, charts, export

是否有任何支持导出交互式图形的开源 PHP 图表库，允许离线/在 Powerpoint 中进行缩放和平移？我浏览了各种图书馆，但似乎没有找到任何此类。AnyChart 的交互式 pdf 看起来很有前途，但并不完全符合我的要求。

我目前正在开发一个自动处理数据的 Intranet 网站。到目前为止，我一直在生成类似时间线的图表，该图表显示了公司为应对客户投诉而采取的行动。到目前为止，员工花费数百个工时为每辆车（它是一家汽车公司）手动创建这些图表，然后将这些图表放入 Powerpoint 演示文稿中供高级管理人员使用。

我有一个包含所需数据的 SQL 数据库，并使用 PHP 进行服务器端脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:37:40.577

我建议使用 JPGraph

JPGraph 使用 GD 库将图形呈现为图像，其想法是您可以在页面上显示图形，然后您可以使用 api 将页面导出为 HTML 或 PDF 或 xls 以将其包含在您的演示文件中

在此处查看 JPGraph 链接

[http://jpgraph.net/](http://jpgraph.net/)

# java - 如何使用java在浏览器上显示谷歌地图？

> ID：12193815
> 
> 赞同：0
> 
> 时间：2012-08-30T09:29:13.333
> 
> 标签：java, google-maps

我们如何在java中的浏览器上显示谷歌地图，我想为我的mysql数据库获取latlng，并使用这些latlng我想使用java（jsp / servlet）代码显示每个点的气泡图像。我正在使用它的html代码.

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false">
</script>

<script type="text/javascript">

var stations = [[1, 'cbkStn2001', 'Kukatpally', '5000', 17.494207, 78.384724],[1, 'cbkStn1001', 'Kuntapalanahalli', '50', 14.3543, 75.9266],[1, 'cbkStn1', 'Turchugutta2', '340', 17.494207, 78.3844657]];

var stations[]=

alert(stations);

  function initializeMap() {
      if(stations.length >= 1){
        var pointLatlng = new google.maps.LatLng(stations[0][4] , stations[0][5]);
      }else{
          var pointLatlng = new google.maps.LatLng(-25.363882,131.044922);
      }

    var myOptions = {
      zoom: 5,
      center: pointLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }

    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

    for(var i=0; i <stations.length; i++){
        if(stations[i][0] == 1){

            pointLatlng = new google.maps.LatLng(stations[i][4] , stations[i][5]);

            setMarker(map, pointLatlng, "<h1>"+stations[i][2]+"</h1>"+"Voters = "+stations[i][3] );
        }
    }

  }

  function setMarker(map, latlng, content){

      var infowindow = new google.maps.InfoWindow({
            content: content
        });

        var marker = new google.maps.Marker({
            position: latlng,
            map: map,
            //title: 'Uluru (Ayers Rock)'
        });
        google.maps.event.addListener(marker, 'click', function() {
          infowindow.open(map,marker);
        });
  }

  function checkBoxChange(elementId){

    for(var i=0; i < stations.length; i++){
        if(stations[i][1] == elementId){

            if(document.getElementById(elementId).checked == true){
                stations[i][0] = 1;
                initializeMap();
            }else{
                stations[i][0] = 0;
                initializeMap();
            }                       
            break;
        }
    }

  }
</script>

</head>
<body onload="initializeMap()">
    <table width="700" cellpadding="0" cellspacing="0" border="0">
        <tr>
            <td colspan="2"><h1>Prototype Map</h1></td>
        </tr>
        <tr>
            <td width="200" align="left" valign="top">
            <h3>Poling Stations</h3>

                    <input type="checkbox" id="cbkStn2001" onchange="checkBoxChange('cbkStn2001')" checked="checked" /> Kukatpally <br />

                    <input type="checkbox" id="cbkStn1001" onchange="checkBoxChange('cbkStn1001')" checked="checked" /> Kuntapalanahalli <br />

                    <input type="checkbox" id="cbkStn1" onchange="checkBoxChange('cbkStn1')" checked="checked" /> Turchugutta2 <br />

            </td>
            <td width="500" align="left" valign="top"><div id="map_canvas" style="width: 500px; height: 500px;"></div></td>
        </tr>
    </table>
</body>
</html> 
```

如果有人有请帮忙的意思

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:39:51.067

看看 OpenLayers。它将允许您在 Web 应用程序中嵌入地图。

# c# - SQLCommand 不返回任何内容

> ID：12193818
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:29:30.590
> 
> 标签：c#, tsql, sql-server-2008-r2

我正在尝试执行参数化的 SQLCommand，它应该返回 1 个值。相反，它返回一个空集，不抛出异常，程序继续运行。

这是查询：

```
SELECT SUM(s.cost) AS cost
FROM Spending s JOIN Date d ON s.dateID = d.dateID 
    JOIN [Service category] sc ON s.[service categoryID] = sc.[service categoryID]
WHERE sc.category1 = 'Phone' AND s.personID = @person
    AND d.month = @month AND d.year = @year 
```

C#代码如下：

```
 SqlCommand commandSelect = new SqlCommand(query, conn);
        foreach (string[] p in pars)
        {
            commandSelect.Parameters.AddWithValue("@" + p[0], p[2]);
        }
        SqlDataReader res = commandSelect.ExecuteReader(); 
```

其中有 3 个参数传递，当我在调试器中检查 SQLcommand 时，它们被正确传递。@person 是一个字符串，另外两个是整数。

任何帮助，将不胜感激。

编辑：我可能还应该添加 pars 数组的结构：

```
pars[0][0] = "person"
pars[0][2] = "'IDString here'"
pars[1][0] = "month"
pars[1][2] = "2"
pars[2][0] = "year"
pars[2][2] = "2012" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:32:09.437

你真的`Read()`在调用 DataReader

```
while (res.Read())
{
    // something with res[x] field values here
} 
```

请参阅 MSDN - [http://msdn.microsoft.com/en-us/library/haa3afyz(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/haa3afyz(v=vs.100).aspx)

要么，要么您的查询没有任何结果。

根据您的编辑，您的参数值“应该”（基于您当前的设计，而不是最佳实践）

```
pars[0][2] = "IDString here" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T08:03:01.200

好吧，看起来问题是 addWithValue() 将字符串转换为 NVARCHAR，我认为这在 WHERE 子句中造成了麻烦，因为我的字段是 VARCHAR 类型。显式类型转换解决了这个问题。

# webdav - 通过 WebDAV 访问 WSO2 Carbon Registry

> ID：12193819
> 
> 赞同：0
> 
> 时间：2012-08-30T09:29:31.640
> 
> 标签：webdav, wso2, wso2carbon

是否可以将基于 Carbon 的服务器的注册表（例如股票 wso2-carbon-3.2.3 平台或通过功能管理器添加附加功能的 wso2esb-4.0.3）作为 WebDAV 资源发布？

如果我理解正确的话，治理注册表可以做到这一点。如果无法发布“正常”碳注册表，我将不得不安装治理注册表：

*   是否可以运行 G. Reg。在同一个碳实例内？
*   即使我安装了其他产品，例如政府注册表、应用程序服务器、数据服务服务器等，我是否可以使用 postgresql 作为该碳实例的后端？
*   如果我使用功能管理器安装必要的功能，我是否还必须通过导入 SQL 脚本来设置它们的数据库模式？如果是，我在哪里可以找到该脚本？
*   将 GREG 作为功能安装后是否需要对其执行特定配置？

我知道有很多文档，但我目前对这些特定方面一无所知。我知道如何添加功能，但我没有找到像“安装 IS，选择功能 x + y + z”这样的简洁描述。某处有这样的文档吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-19T15:29:58.307

回答我自己的问题：可以在现有的 Carbon 安装之上安装 WebDAV 功能；没有必要使用治理注册表。为此，必须安装以下功能

*   注册表 Webdav
*   注册表 WS API

请按照以下说明安装它们：

[http://docs.wso2.org/wiki/display/Carbon401/Installing+Features](http://docs.wso2.org/wiki/display/Carbon401/Installing+Features)

使用与您产品的 Carbon 版本匹配的 carbon 存储库的 URL。就我而言，它是 Carbon 4.0.1：

```
http://dist.wso2.org/p2/carbon/releases/4.0.1 
```

安装这些功能后（我不记得是否需要重新启动服务器），您应该能够使用以下 URL 安装注册表：

```
mount -t davfs https://<carbon-server-ip>:<carbon-server-https-port>/registry/resourcewebdav /mnt/carbon-registry 
```

高温高压

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T12:44:26.130

这里有一些关于将注册表安装为 WebDAV 的更多有用链接。

*   [http://docs.wso2.org/wiki/display/Governance450/WebDAV+Sample](http://docs.wso2.org/wiki/display/Governance450/WebDAV+Sample)
*   [http://docs.wso2.org/wiki/display/Governance450/Using+WebDAV+on+Windows](http://docs.wso2.org/wiki/display/Governance450/Using+WebDAV+on+Windows)
*   [http://docs.wso2.org/wiki/display/Governance450/Using+WebDAV+on+Linux](http://docs.wso2.org/wiki/display/Governance450/Using+WebDAV+on+Linux)

关于您关于功能安装的问题，基于 WSO2 Carbon 4.0 的产品支持按类别分组的功能安装。![按类别分组的功能](../Images/8a54fe4a37ebdbceaef60d791e3bcd20.png) 高温高压

# textmate - 如何在 Textmate 2 中调整行距？

> ID：12193826
> 
> 赞同：8
> 
> 时间：2012-08-30T09:29:55.180
> 
> 标签：textmate, textmate2

如何在 Textmate 2 中调整行距的高度？

![在此处输入图像描述](../Images/1d732b197aa18b97f6db72d8581063a4.png)

即最好像Textmate 1（在右侧）。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-03T03:38:16.057

```
 defaults write com.macromates.TextMate.preview fontLeadingDelta -float 0
 defaults write com.macromates.TextMate.preview fontAscentDelta -float 0 
```

来源：[github上的textmate](https://github.com/textmate/textmate/issues/373)

# xpath - 在 OSGi 容器中运行时，Class 对象的类加载器为空是什么意思？

> ID：12193838
> 
> 赞同：1
> 
> 时间：2012-08-30T09:30:42.130
> 
> 标签：xpath, osgi, classloader, apache-felix

我无法让 XPath 在 OSGi 上下文中可靠地工作。调用 XPathFactory.newInstance 时，将运行以下代码（在 javax.xml.xpath.XPathFactory 中）：

```
classLoader = XPathFactory.class.getClassLoader() 
```

classLoader 解析为 null，这在随后查找正确的 XPath 实现时会导致问题。

我正在导出 sun 和 com.sun 包，以帮助解决以前无法找到内部 Sun 类的 XPath 类加载问题：

```
org.osgi.framework.bootdelegation=sun.*,com.sun.* 
```

我正在使用费利克斯。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T12:21:51.770

空类加载器是引导类加载器。这样的类是从引导类路径加载的。即使不使用 OSGi 也是如此。

# php - 通过 php 添加、删除和列出 Cpanel 插件域

> ID：12193839
> 
> 赞同：0
> 
> 时间：2012-08-30T09:30:45.820
> 
> 标签：php, api, cpanel

我在网上冲浪，发现 Cpanel 有一些 php API 可以做到这一点。

但我找不到我应该在哪里下载这个 API，只有我找到了文档。

我在哪里可以下载它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-09T12:38:41.743

Cpanel XML api 可通过 githut 在此链接[https://github.com/CpanelInc/xmlapi-php](https://github.com/CpanelInc/xmlapi-php)

# windows - 如何更改windows系统中默认最大化的窗口大小？

> ID：12193849
> 
> 赞同：2
> 
> 时间：2012-08-30T09:31:08.113
> 
> 标签：windows, registry

在我的电脑中，当应用程序最大化时，窗口总是与任务栏重叠。这真的很无聊，我不想使用系统挂钩来覆盖最大化的消息。有没有什么简单的方法可以改变系统中默认的最大化尺寸？例如，注册表？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T08:12:48.413

[SystemParametersInfo](http://msdn.microsoft.com/en-us/library/ms724947%28v=vs.85%29.aspx)可以为您完成。这是 C++ 解决方案。在任务栏上方获得一些喘息空间。

```
#include<iostream>
#include<windows.h>
#include <stdio.h>
#pragma comment(lib, "user32.lib")

using namespace std;
int main(){
RECT rect;
//rleft=r->top=0;
//r->bottom=500;
//r->right=1000;
SystemParametersInfo(SPI_GETWORKAREA,
         0,
         &rect,
                 SPIF_UPDATEINIFILE);

cout<<"Old Positions:";
cout<<rect.left<<","
<<rect.top<<","
<<rect.bottom<<","
<<rect.right;

rect.bottom-=32;
SystemParametersInfo(SPI_SETWORKAREA,
         0,
         &rect,
                 SPIF_SENDCHANGE);

cout<<"New Positions:";
cout<<rect.left<<","
<<rect.top<<","
<<rect.bottom<<","
<<rect.right;

return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-20T16:35:07.277

试试 MaxMax（免费软件）

评论：www.addictivetips.com/windows-tips/maxmax-limits-fullscreen-maximized-window-to-user-defined-area/

主页：www.kmtools.win-os.pl/omaxmax.php?lang=ang

# objective-c - 原始数据类型的 Objective-C 属性

> ID：12193850
> 
> 赞同：1
> 
> 时间：2012-08-30T09:31:10.023
> 
> 标签：objective-c, properties

有这样的东西

```
@interface MyClass : UIImageView {
   BOOL autoResize;
}
@property BOOL autoResize;
@end 
```

我创建了一个这样的对象数组：

```
MyClass* o1 = [[MyClass alloc] init];
o1.autoResize = true;
[myArray addObject:o1];

MyClass* o2 = [[MyClass alloc] init];
o2.autoResize = false
[myArray addObject:o2]; 
```

问题如下：如果我现在使用迭代器遍历所有对象，myObject.autoResize allways(!) 返回 false。例如：

```
for (MyClass elem in myArray) {
    elem.autoResize ? NSLog(@"true") : NSLog(@"false");
} 
```

会回显“假”、“假”。我想我不清楚为什么会发生这种情况（因为 BOOL 是原始数据类型而不是对象）。但是处理这个问题的最佳实践是什么？

谢谢

基督教

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:49:50.850

Try to add (nonatomic, assign) property modifiers

```
@property (nonatomic, assign) BOOL autoResize; 
```

How it work you can read here: [Declared Properties](http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/ObjectiveC/Chapters/ocProperties.html#//apple_ref/doc/uid/TP30001163-CH17-SW1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:35:00.413

对不起各位！这是一个完美的例子，说明为什么您应该在将代码发布到此处之前重新访问它......实际上，我所做的是：

```
MyClass* o1 = [[MyClass alloc] init];
o1.autoResize = true;
[myArray addObject:o1];

myArray = [[NSMutableArray alloc] init];  // OMG! What is this doing here :-(

MyClass* o2 = [[MyClass alloc] init];
o2.autoResize = false
[myArray addObject:o2]; 
```

由于我有几十个对象，我只是忽略了这条线......感谢@Carl Veazey 的提示。

再见基督徒

# iphone - 在 Xcode Simulator 中运行新创建的 Cordova2 项目时出现异常

> ID：12193854
> 
> 赞同：2
> 
> 时间：2012-08-30T09:31:23.807
> 
> 标签：iphone, xcode, cordova-2.0.0

我为 Xcode 创建了一个新的 Cordova2 项目，就像他们的“入门”指南中描述的那样。一切都没有任何问题，但在启动 iPhone 模拟器后，应用程序弹出，然后 Xcode 将我带到“其他来源”中的 main.m 并突出显示这一行：

```
int retVal = UIApplicationMain(argc, argv, nil, @"AppDelegate"); 
```

它说：线程1：信号SIGABRT

当我跨过它时（实际上由于某种原因我必须跨过它两次），我在日志中收到以下异常，并且模拟器中的应用程序关闭（之后无法启动）：

```
2012-08-30 11:27:33.807 test2[8198:13403] *** Terminating app due to uncaught exception 

'NSUnknownKeyException', reason: '[<UIApplication 0x9039420> setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key view.'

*** First throw call stack:
(0x1a1022 0x207ccd6 0x1a0ee1 0xf04022 0xe75f6b 0xe75edb 0xe90d50 0x55a71a 0x1a2dea 0x10c7f1 0x55926e 0x55aeb7 0x337ce1 0x337ff8 0x33717f 0x346183 0x346c38 0x33a634 0x271eef5 0x175195 0xd9ff2 0xd88da 0xd7d84 0xd7c9b 0x336c65 0x338626 0x2716 0x2685)
terminate called throwing an exception 
```

谁能帮我解决这个问题？如果您需要更多信息，请询问我。

# iphone - 从 C 到 Objective-C 的回调方法

> ID：12193857
> 
> 赞同：3
> 
> 时间：2012-08-30T09:31:37.543
> 
> 标签：iphone, objective-c, ios, c

我有一个 Objective-C 类。我正在做的是我在我的 Objective-C 类中调用 C 函数 [这个 C 函数我在一个文件中实现，这是这个示例 ios 项目的一部分]。所有 C 函数都工作正常，到目前为止没有问题。

当我尝试在 C 文件中调用异步函数时，该函数将在一段时间后响应 Objective-c 类。我在 C 中调用了函数指针，它在 Objective-C 类中被正确触发。请检查以下代码片段。我想对回调方法做一些与 UI 相关的操作。那可能吗 ？如果否，还有其他方法吗？请您尽快给我答复。谢谢。

C 文件：

```
void my_int_func(int x);

void test_asyn_fun ()
{
    /* This code is for Sleep logic */
    for (int i=0; i<50000; i++) {
        // sleep
    }
    /* Sleep End */
    void (*foo)(int);
    foo = &my_int_func;
    foo(25);
} 
```

目标-C 文件：

```
void my_int_func(int x) // this is call back method 
{
    printf( "%d\n", x ); // working properly 
    [self anyMethodInMyClass]; // I am unable to use self in this function.
} 
```

* * *

其实我的要求是

我有可以执行 Voip 呼叫功能的 C 代码。我正在从我的 Objective-C [iOS] 代码中调用 C 函数。如果接收方已断开呼叫，则我的 C 函数之一被调用并停止该过程。但我的 UI 仍然显示调用相关的 UI。我想驳回这一点。

在这里，我如何从 C 函数向我的 Objective-C 类发送通知以关闭 UIView。任何人都可以帮助我。

实际上我使用了函数指针，但它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T13:51:01.390

我也遇到了这个问题。我假设您正在为您的 VoIP 应用程序使用 PJSIP。

您要做的是创建一个指向您想要向其发送消息的 Objective-C 类的指针。你已经知道你不能从你的 C 回调中调用 Objective-C 函数。

`static YourObjCClass *objCClassPtr`

`@property (nonatomic, retain) YourObjCClass *class`

初始化所述类时，让静态指针指向 Objective C 对象的指针。（指向对象的指针）

`objCClassPtr = class;`

您现在可以使用 `[objCClassPtr message]`您的 C 函数向 Objective-C 对象发送消息，就像您会编写一样`[class message]`

您可以指向`self`相同的方式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T15:20:21.000

首先感谢 Ricardo Kloth，现在它对我有用。

这是我的代码...

Objective-C 代码：

```
static id staticObject = nil;

@Implementation MyObjCclass

init
{
    ....

    staticObject = self;
}

// C fun
void functionPointer() 
{ 
    [staticObject message]; // it's working 
}

-(void) message
{

}

@end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:40:17.033

您可以使用块。[块](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/bxOverview.html#//apple_ref/doc/uid/TP40007502-CH3-SW2)可用于纯 C 和 C++，块也始终是 Objective-C 对象。

[C++ 块对象](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/bxVariables.html#//apple_ref/doc/uid/TP40007502-CH6-SW5)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T10:35:36.570

即使在 Blocks 中，您也无法正确访问实例变量。请检查以下代码片段。

// 这是简单的代码块

NSString* (^trimTheStr)(NSString*) = ^(NSString *str) {

```
[self myInstanceMethods]; // This will show error right 

NSString *result = nil;

result = [str stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];

return result; 
```

};

# maven - 如何在 Maven 中完全防止战争覆盖

> ID：12193867
> 
> 赞同：2
> 
> 时间：2012-08-30T09:32:28.453
> 
> 标签：maven, dependencies, war, pom.xml

嗨，我有一个 Maven 项目，需要在集成测试开始之前将 2 场战争部署到码头环境。这些战争在正常意义上不是项目的依赖项，但它们需要单独部署以使集成测试发挥作用。

我通过为 2 场战争添加测试依赖项来做到这一点。然后我使用 maven-dependency-plugin 的 copy-dependencies 目标将战争复制到一个新目录并剥离它们的版本号，以便码头可以使用 org.mortbay.jerry.jetty-maven-plugin 找到并部署它们作为预集成测试阶段。

我的问题是，尽管事实上新的依赖项是测试范围，maven 仍然将它们覆盖到这个项目战争中。

有谁知道如何添加对仅下载依赖项但不对其进行任何操作的战争的依赖项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T14:44:09.363

我会通过为集成测试创建一个单独的 Maven 模块来做到这一点。完成此操作后，您可以将`<packaging>`类型设置为`pom`，从而消除 WAR 覆盖的问题。只需将两个集成测试 WAR 作为依赖项以及您需要测试/验证的 WAR 包括在内。

这样做还可以将构建过程与集成测试过程完全分离，这可以在其他方面有所帮助。

如果您不喜欢这个想法，那么使用 WAR 插件的`<dependentWarExcludes>`配置将您的测试 WAR 排除在您的 WAR 包装之外。有关详细信息，请参见此处：

[http://maven.apache.org/plugins/maven-war-plugin/examples/war-overlay.html](http://maven.apache.org/plugins/maven-war-plugin/examples/war-overlay.html)

# java - 为方法加时间戳的自定义注释

> ID：12193874
> 
> 赞同：0
> 
> 时间：2012-08-30T09:32:41.257
> 
> 标签：java, annotations, timestamp, interceptor

爪哇大师，

我很新，`annotations`所以请多多包涵...

我想实现一个`Custom Annotation`方法`intercept`调用并打印该方法所花费的时间。可能吗？

```
@EnableElapsedTime
public MyAppObject findMyAppObjectById(Long id) throws MyCustomException {
    //....
} 
```

应该在日志中打印这样的内容：

```
findMyAppObjectById() took 2.345 sec. 
```

我能得到一些提示吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:35:48.657

单独的注释无法做到这一点。您需要研究一种称为“面向方面编程”（或 AOP）的技术。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:51:05.550

[Perf4J](http://perf4j.codehaus.org/) does the same thing with @Profiled annotation and provides many other unobtrusive profiling options.

# html - 正确对齐长段段落的问题

> ID：12193877
> 
> 赞同：0
> 
> 时间：2012-08-30T09:33:00.803
> 
> 标签：html, css

我的标记

```
<div class = "about-us">
            <p class = "about-us-text">
            Lorem ipsum dolor sit amet, magna dolor ultricies arcu, sit vivamus, in dolor quis sit, ut sed urna hendrerit. Donec augue irure pharetra ultrices condimentum iaculis. Sollicitudin eu scelerisque eget nunc. Et erat lectus nunc, pellentesque non dis massa vivamus sed rerum, hendrerit sit enim conubia, bibendum quidem odio ultrices suspendisse nam lorem, dui pellentesque neque ligula. Pellentesque ultrices id eiusmod gravida turpis morbi, ac pulvinar, justo mauris ipsum cras justo. Vulputate montes, dui adipiscing, dolor tortor habitasse tortor amet quam fermentum, in aut proin quam donec vitae. Aliquam dolores, vivamus fermentum dolor eros. Sit orci amet, mattis sollicitudin cursus sed sit cum fusce, at faucibus nullam sit morbi enim. Mauris hendrerit placerat cras tellus tempor.
Purus praesent tempus nunc, malesuada litora, mollis amet est natoque gravida. Nullam erat, maecenas enim sed vitae wisi purus placerat. Cursus cras vestibulum sem rhoncus, urna quis sem, nulla sagittis sed est non, parturient tristique porta nostra, viverra curabitur laoreet. Non iaculis elit nibh, neque ac, mollis facilisi molestie mattis, ipsum maecenas placerat tortor tincidunt proin, mauris laoreet. Sodales mi nec sodales quis, mauris porta, turpis in morbi integer velit, urna justo integer justo, nec ultricies.
Suscipit donec nullam egestas bibendum potenti, ac iaculis dapibus voluptate in. Ligula aliquam faucibus magna fringilla, vivamus quisquam varius. Tellus enim fusce leo integer, maecenas cras, tempor nulla amet vel, pede vitae nunc tortor nibh quis. Malesuada a at lorem dolor nec sociosqu, enim maecenas quis metus placerat, ultricies nunc, tristique ut numquam porttitor habitasse eget. Nibh aliquet qui consectetuer eu scelerisque cursus, sed scelerisque morbi pulvinar, nulla ligula mollis cursus non orci nunc. Lacus quisque, duis eu, interdum metus, lorem eget, fusce ultrices scelerisque dui adipiscing duis. Pellentesque morbi ornare, porttitor tincidunt tellus egestas tincidunt laoreet. Odio diam est ac in tellus commodo, gravida nunc nibh eget leo sed. Enim neque diam non. Convallis maecenas augue lorem adipiscing mattis, non harum ultricies nostra suspendisse, dolor sagittis pellentesque iaculis, pede suscipit magna sem metus justo, arcu turpis adipiscing eget scelerisque vel nulla. Vivamus porta curabitur dictumst, vel imperdiet netus posuere.
Odio pellentesque ligula amet, in varius vestibulum laoreet urna molestie, urna eros etiam senectus suscipit ultrices. Ut vitae felis quam officiis consectetuer, condimentum donec quam pede, a cursus eget et vestibulum varius. Gravida ac, malesuada tincidunt sit a aptent ac, cras eget a amet non, cubilia vel interdum elementum. Eros pede, cras sit ad est, in ut tincidunt diam ante, consectetuer eros justo sed orci, suscipit nisl porttitor. Phasellus praesent, non accumsan massa adipiscing aliquet, aenean diam vel, quam ullamcorper tempus quam sem sapien. Arcu mauris, sed gravida. Enim sodales dui urna conubia vestibulum senectus. Curabitur voluptatem donec mauris duis, mauris ante, magna vehicula eros tortor eleifend in, semper ut morbi ipsum magnis aliquam nibh, mi erat commodo ante non. Consectetuer scelerisque malesuada a, aliquet amet interdum, ut nec mauris magna, ullamcorper lectus. Dui in integer sed in.
            </p>

</div> 
```

我对它应用了 CSS 规则。

```
 .about-us
    {
        background-color:#EEE;
         margin: 0 auto; 
         margin-top:-10px;
         width:920px; 
         height:auto; 
         border: 1px solid #EEE; 
         border-radius:6px;
    }

    .about-us-text
    {
        text-indent:40%; 
        margin-top:10%;
        line-height:42px;
        font-size: 15px;
        padding-left: 12px;
        padding-right: 32px;
        margin-left: 22px;
    } 
```

目前看起来像这样 ![在此处输入图像描述](../Images/84a77d501cad180c8bc7f092726e27d4.png)

如您所见，与左侧相比，段落的右侧不均匀。左边正确对齐，而右边没有。我尝试对其应用填充和边距，但似乎没有用。

如果您有更好的设计决策或设计建议，请随时加入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:34:39.777

添加`text-align:justify`

```
 .about-us-text
    {
        text-indent:40%; 
        margin-top:10%;
        line-height:42px;
        font-size: 15px;
        padding-left: 12px;
        padding-right: 32px;
        margin-left: 22px; text-align:justify
    }​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:35:09.507

假设我理解您的问题，请使用`text-align: justify;`.

但请注意，这在网站上并不常见。

# java - TreeMap 中的空指针异常

> ID：12193878
> 
> 赞同：2
> 
> 时间：2012-08-30T09:33:05.343
> 
> 标签：java, nullpointerexception, treemap

我试图实现一个简单的树形图来计算整数的出现次数，但它给了我一个`NullPointerException`并且我不知道如何修复它。

```
Exception in thread "main" java.lang.NullPointerException
    at exercises.CountOccurances_20_07.main(CountOccurances_20_07.java:21) 
```

这是代码：

```
import java.util.Map;
import java.util.Set;
import java.util.TreeMap;

public class CountOccurances_20_07 
{
    public static void main(String[] args) 
    {
        int[] list = {2, 3, 40, 3, 5, 4, 3, 3, 3, 2, 0};
        Map<Integer, Integer> map = new TreeMap<Integer, Integer>();
        for(int i: list)
        {
            int key = list[i];
            if(list.length > 1)
            {
                if(map.get(key) == 0)
                {
                    map.put(key, 1);
                }
                else
                {
                    int value = map.get(key).intValue(); // line 21
                    value ++;
                    map.put(key, value);
                }
            }
        }
        //get all entries into set
        Set<Map.Entry<Integer, Integer>> entrySet = map.entrySet();
        //get key and value from entry set
        for(Map.Entry<Integer, Integer> entry: entrySet)
            System.out.println(entry.getValue() + "\t" + entry.getKey());
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-30T09:34:14.837

在您的情况下， map.get(key) 正在返回`null`并且永远不会为 0。此外，您正在使用密钥来查找听起来不正确的自身。

```
for(int key: list) {
    Integer count = map.get(key);
    if (count == null) count = 0;
    map.put(key, count+1);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T09:35:17.840

在第`NullPointerException`21 行

```
int value = map.get(key).intValue(); // line 21 
```

是因为如果地图中不存在`map.get(key)`则返回 null 。`key`

你应该使用

```
if(!map.containsKey(key)){
} 
```

代替

```
if(map.get(key) == 0) {
} 
```

因为它评估为

```
if(null == 0){
} 
```

并且您的条件为假，然后控制转到第 21 行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T09:35:52.610

改变

```
map.get(key) == 0 
```

到

```
map.get(key) == null 
```

或者

```
!map.contains(key) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-30T09:39:57.940

您的代码有许多明显的缺陷。

`Map`被构建为空地图，但会立即被查询并且`get`结果被取消装箱：

```
Map<Integer, Integer> map = new TreeMap<Integer, Integer>();
...
if(map.get(key) == 0) 
```

`get`返回`null`不存在的地图条目，而不是零，并且对于 null 参数，拆箱将失败。

* * *

此处`list`已就地初始化，但随后会检查长度：

```
int[] list = {2, 3, 40, 3, 5, 4, 3, 3, 3, 2, 0};
if(list.length > 1) 
```

这是一个多余的检查，删除它。

* * *

```
for(int i: list)
{
  int key = list[i]; 
```

您使用的方式`int i`很可能是错误的。*增强的 for*循环将每个数组元素依次分配给`i`，因此您很可能应该拥有的是`for (int key : list)`.

* * *

```
int value = map.get(key).intValue(); // line 21 
```

调用`intValue`是多余的——自动拆箱会解决这个问题。在尝试拆箱之前，您确实需要确保该值不为空。

# java - Java 中的 SNMP 代理：如何在 MOTable 中添加新行

> ID：12193882
> 
> 赞同：1
> 
> 时间：2012-08-30T09:33:18.103
> 
> 标签：java, snmp, mib, snmp4j

我正在尝试用 Java 实现 SNMP 代理。我使用 snmp4j 库（[http://www.snmp4j.org/](http://www.snmp4j.org/)）。目前，我的代理在 localhost/4700 上工作。由于以下请求，我尝试发送 snmpget 请求：

```
snmpget -v2c -c public localhost:4700 1.3.6.1.4.1.1.99.5.4.1.3.1.1 
```

但我只得到类似“此 OID 中当前不存在此类实例”的信息 这是我的问题：我不知道如何创建一个。我试图向我的 MOTable 添加行，但它似乎不起作用。

这是我的班级实现 MOGRoup 的总结

```
public class MyMIB 
//--AgentGen BEGIN=_EXTENDS
//--AgentGen END
implements MOGroup 
//--AgentGen BEGIN=_IMPLEMENTS
//--AgentGen END
{
    .
    .
    .

public static final OID oidTableEntry = 
    new OID(new int[] { 1,3,6,1,4,1,1,99,5,4,1,3,1 });
    .
    .
    .

private void createTableEntry(MOFactory moFactory) {
// Index definition
    .
    .
    .

// Table model
tableEntryModel = 
  moFactory.createTableModel(oidTableEntry,
                         tableEntryIndex,
                         tableEntryColumns);
((MOMutableTableModel)tableEntryModel).setRowFactory(
  new TableEntryRowFactory());
tableEntry = 
  moFactory.createTable(oidTableEntry,
                    tableEntryIndex,
                    tableEntryColumns,
                    tableEntryModel);

//Adding rows
ArrayList<Integer> oidMon1List= new ArrayList<Integer>();
oidRow1List = this.getListFromArray(oidTableEntry.getValue());
oidRow1List.add(1);

ArrayList<Integer> oidMon2List= new ArrayList<Integer>();
oidRow2List = this.getListFromArray(oidTableEntry.getValue());
oidRow2List.add(2);

DefaultMOMutableTableModel model =
               (DefaultMOMutableTableModel)tableEntry.getModel();

synchronized(model){
model.addRow(
        model.createRow(
                new OID(getArrayFromList(oidRow1List)), 
                new Variable[]{
                    new Integer32(123)
                    }));

model.addRow(
        model.createRow(
                new OID(getArrayFromList(oidRow2List)), 
                new Variable[]{
                    new Integer32(456)
                    }));   
    }
} 
```

但是下面的请求仍然不起作用。

```
snmpget -v2c -c public localhost:4700 1.3.6.1.4.1.1.99.5.4.1.3.1.1

snmpget -v2c -c public localhost:4700 1.3.6.1.4.1.1.99.5.4.1.3.1.1.0

snmpget -v2c -c public localhost:4700 1.3.6.1.4.1.1.99.5.4.1.3.1.1.1 
```

我一定不明白如何正确地创建行。你能解释一下我应该怎么做吗？

非常感谢你 ！

稍微精确一点：我将这些行添加到我的程序中：

```
System.out.println("Get row count: " +tableEntryModel.getRowCount());

//first row
System.out.println("TEST1: " +model.getRow(new OID(new int[] {1,3,6,1,4,1,1,99,5,4,1,3,1,1})).getValue(0));
System.out.println("TEST2: " +tableEntry.getValue(new OID(new int[] {1,3,6,1,4,1,1,99,5,4,1,3,1,1,0}))); 
```

第一个返回：2（如预期的那样）

第二个返回：123（如预期）

第三个返回：null...在这里，我不明白为什么！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-14T11:12:41.507

我会说，代码和请求不匹配。我猜代码是问题所在，因为在 SNMP4J-Agent 中，表单元格的实例 OID 是由

```
<tableEntryOID>.<columnSubID>.<rowIndexOID> 
```

因此，如果您的表对象的 OID 为 1.3.6.1.4.1.1.99.5.4.1.3.1 并且您希望第一列中的第一个实例的 ID 为 1，那么您必须创建/添加行：

```
model.addRow(       
    model.createRow(       
            new OID(1), new Variable[]{ new Integer32(123) })); 
```

然后可以使用以下方法检索此单元格

```
snmpget -v2c -c public localhost:4700 1.3.6.1.4.1.1.99.5.4.1.3.1.1.1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T08:01:41.353

好的，我发现了问题所在。实际上，我的代码有效，只是我的请求不正确。

```
 | oidColumn 1.3.6.1.4.1.1.99.5.4.1.3.1.1
 oidRow1 1.3.6.1.4.1.1.99.5.4.1.3.1.1   |       oidColumn.oidRow1
 oidRow2 1.3.6.1.4.1.1.99.5.4.1.3.1.2   |       oidColumn.oidRow2 
```

所以如果我想获得 Row1 的第一个值，我必须提出这个请求：

```
snmpget -v2c -c public localhost:4700 1.3.6.1.4.1.1.99.5.4.1.3.1.1.1.3.6.1.4.1.1.99.5.4.1.3.1.1 
```

# html - 使用 jwplayer 嵌入 youtube 视频

> ID：12193884
> 
> 赞同：2
> 
> 时间：2012-08-30T09:33:25.683
> 
> 标签：html, jwplayer

我想知道如何将 Youtube 视频放到 html 页面。我已经搜索了几个小时，这是我尝试过的：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<script type='text/javascript' src='Scripts/swfobject.js'></script>
<script type='text/javascript'>
  swfobject.registerObject("playerID", "9.0.0");
</script>
<script type='text/javascript' src='Scripts/mediaplayer/jwplayer.js'></script>
</head>
<body>
<script type='text/javascript' src='Scripts/mediaplayer/jwplayer.js'></script>

<div id='mediaplayer'></div>

<script type="text/javascript">

   var flashvars = {
      'file':   'http://www.youtube.com/watch?v=YE7VzlLtp-4',
      'controlbar':     'bottom'
   };

   var params = {
      'allowfullscreen':        'true',
      'allowscriptaccess':      'always'
   };

   var attributes = {
      'id':                     'playerID',
      'name':                   'playerID'
   };

   swfobject.embedSWF('Scripts/mediaplayer/player.swf', 'mediaplayer', '480', '360', '9', 'false', flashvars, params, attributes);

</script>
</body>
</html> 
```

和

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

            <html xmlns="http://www.w3.org/1999/xhtml">

            <head>
            <script type='text/javascript' src='./Scripts/swfobject.js'></script>
            </head>
            <body>
            <script type='text/javascript' src='./Scripts/mediaplayer/jwplayer.js'></script>

            <div id='mediaspace'>This text will be replaced</div>

            <script type='text/javascript'>
              jwplayer('mediaspace').setup({
                'flashplayer': './Scripts/mediaplayer/player.swf',
                'file': 'http://www.youtube.com/v/K_sev04KfeU?version',
                'controlbar': 'bottom',
                'width': '470',
                'height': '320'
              });
            </script>
            </body>
            </html> 
```

和

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

            <html xmlns="http://www.w3.org/1999/xhtml">

            <head>
            <script type='text/javascript' src='./Scripts/mediaplayer/jwplayer.js'></script>

            </head>
            <body>

            <div id='mediaplayer'></div>

            <script type="text/javascript">
              jwplayer('mediaplayer').setup({
                'flashplayer': './Scripts/mediaplayer/player.swf',
                'id': 'playerID',
                'width': '480',
                'height': '270',
                'file': 'XSGBVzeBUbk',
                'provider': 'youtube',
                'plugins': {
                   'hd-2': {}
                }
              });
            </script>

            </body>
            </html> 
```

和数十种变化（包括 registerObject）......我想知道是否有人可以给我一个示例 .zip 链接。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T23:43:56.107

您可以使用他们的示例脚本并修改上传播放器的路径

```
<div id="movieframe">
<script type="text/javascript" src="http://www.mysite.com/jwplayer/jwplayer.js"></script>
<div id="mediaspace" style='width:640px;height:480px;'></div>
    <script type='text/javascript'>
        jwplayer('mediaspace').setup({
            'flashplayer': 'http://www.mysite.com/jwplayer/player.swf',
            'file': 'http://www.youtube.com/watch?v=YE7VzlLtp-4',
            'image': 'http://www.mysite.com/graphics/splash.jpg',
            'controlbar': 'bottom',
            'width': '640',
            'height': '480'
        });
    </script>
</div>
</div> 
```

您只需调用此脚本一次

```
<script type="text/javascript" src="http://www.mysite.com/jwplayer/jwplayer.js"> 
```

它可以在`<head>`标签中，也可以在你展示它之前，但你不需要两者。通常 jwplayer.js 和 player.swf 在同一个目录中。如果您没有包含正确的路径，它将无法正常工作 - 您的示例使用了几种不同的路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-07T06:39:37.550

我通过将脚本标签移动到顶部解决了这个问题。感谢您的帮助。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr">
<head>
<title>My Title</title>
<script type="text/javascript" src="../Scripts/jwplayer/jwplayer.js"></script>
<meta name="keywords" content="foreign trade, hazelnut, livestocks, sunflower, rice, wheat, lentil, sunflower oil" />
<meta name="description" content="Comparative Nutrition Values: Brown & White Grain Rice table" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-store, no-cache, must-revalidate, post-check=0, pre-check=0" />
<meta http-equiv="expires" content="01 jan 1970 00:00:00 gmt" />
<meta http-equiv="last-modified" content="01 jan 1970 00:00:00 gmt" />
<meta http-equiv="if-modified-since" content="01 jan 1970 00:00:00 gmt" />
<link href="../css/main.css" rel="stylesheet" type="text/css" media="screen" />
<link rel="icon" type="image/x-ico" href="../favicon.ico" />
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
</head> 
```

# java - 如何计算地图上给定坐标集的边界框

> ID：12193885
> 
> 赞同：0
> 
> 时间：2012-08-30T09:33:32.493
> 
> 标签：java, gis, bounding-box

我有一组（2 个或更多）具有给定纬度和经度的坐标。如何在Java中计算地图上边界框的左上角和下角

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T10:03:04.900

您可以作弊并使用[Rectangle2D.Double](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.html)。你可以[Point2D](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Point2D.html)对象给它。这给了你上限 (x+width/y+height) 和下限 (x/y)

当你只有一把锤子时，你所有的问题看起来都像钉子——对不起，如果这正是你要找的，那正是你想到的

# c# - 如何在中继器中找到标题控件？

> ID：12193887
> 
> 赞同：-1
> 
> 时间：2012-08-30T09:33:39.313
> 
> 标签：c#, javascript, asp.net

我在 C# 的 Repeater 中找到 Header 控件

```
HtmlGenericControl nameposition = null;
                          nameposition = (HtmlGenericControl)Repeater1.Controls[0].Controls[0].FindControl("tweet-container"); 
```

我收到错误如何使用它？.aspx 代码

```
<div  id="tweet-container" runat="server"> </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T07:34:59.093

因此，如果它是一个服务器控件，您可以简单地使用：
**在 Repeater_ItemDataBound 事件中**

```
 HtmlGenericControl divControl = e.Item.FindControl("tweet-container") as HtmlGenericControl; 
```

# php - php发送的电子邮件附件不正确

> ID：12193889
> 
> 赞同：0
> 
> 时间：2012-08-30T09:33:43.587
> 
> 标签：php, forms, email, email-attachments

我在我的 php 页面上使用以下代码发送带有附件的电子邮件：

```
 //define the receiver of the email 
$to = 'myemail@domain.com'; 
//define the subject of the email 
$subject = 'Test email with attachment'; 
//create a boundary string. It must be unique 
//so we use the MD5 algorithm to generate a random hash 
$random_hash = md5(date('r', time())); 
//define the headers we want passed. Note that they are separated with \r\n 
$headers = "From: webmaster@example.com\r\nReply-To: webmaster@example.com"; 
//add boundary string and mime type specification 
$headers .= "\r\nContent-Type: multipart/mixed; boundary=\"PHP-mixed-".$random_hash."\""; 
//read the atachment file contents into a string,
//encode it with MIME base64,
//and split it into smaller chunks
$attachment = chunk_split(base64_encode(file_get_contents($_FILES['curriculum_vitae']['tmp_name'])));
//define the body of the message. 
ob_start(); //Turn on output buffering 
?> 
--PHP-mixed-<?php echo $random_hash; ?>  
Content-Type: multipart/alternative; boundary="PHP-alt-<?php echo $random_hash; ?>" 

--PHP-alt-<?php echo $random_hash; ?>  
Content-Type: text/plain; charset="iso-8859-1" 
Content-Transfer-Encoding: 7bit

Hello World!!! 
This is simple text email message. 

--PHP-alt-<?php echo $random_hash; ?>  
Content-Type: text/html; charset="iso-8859-1" 
Content-Transfer-Encoding: 7bit

<h2>Hello World!</h2> 
<p>This is something with <b>HTML</b> formatting.</p> 

--PHP-alt-<?php echo $random_hash; ?>-- 

--PHP-mixed-<?php echo $random_hash; ?>  
Content-Type: application/zip; name="attachment.zip"  
Content-Transfer-Encoding: base64  
Content-Disposition: attachment  

<?php echo $attachment; ?> 
--PHP-mixed-<?php echo $random_hash; ?>-- 

<?php 
//copy current buffer contents into $message variable and delete current output buffer 
$message = ob_get_clean(); 
//send the email 
$mail_sent = @mail( $to, $subject, $message, $headers ); 
//if the message is sent successfully print "Mail sent". Otherwise print "Mail failed" 
echo $mail_sent ? "Mail sent" : "Mail failed"; 
```

但是，我遇到了一些问题和疑问，如果你们能帮助我，我将不胜感激。

首先，如果我将附件的输入留空，我会收到一个错误“警告：file_get_contents() [function.file-get-contents]：文件名不能为空...”

我希望附件是可选的，所以如果我留空我想忽略这个错误，这可能吗？

其次，当我发送带有附件的电子邮件并从电子邮件中下载时，我无法打开发送的文件。我得到一个 .zip 文件，当尝试打开时收到以下消息：“存档格式未知或已损坏”。

你知道问题可能是什么吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:46:04.750

由于脚本完美无缺，您需要更改`attachment.zip`上传文件的名称，否则无论您上传什么文件`curriculum_vitae`，您都只会得到：`attachment.zip`

所以改变：

```
Content-Type: application/zip; name="attachment.zip" 
```

和

```
Content-Type: application/zip; name="<?php echo $_FILES['curriculum_vitae']['name']; ?>" 
```

如果未发布，请使用此发送附件

```
$to = 'myemail@domain.com'; 
$subject = 'Test email with attachment'; 
$random_hash = md5(date('r', time())); 
$headers = "From: webmaster@example.com\r\nReply-To: webmaster@example.com"; 
$headers .= "\r\nContent-Type: multipart/mixed; boundary=\"PHP-mixed-".$random_hash."\""; 
if(isset($_FILES['curriculum_vitae']['name']) && $_FILES['curriculum_vitae']['name'] != ''){ $attachment = chunk_split(base64_encode(file_get_contents($_FILES['curriculum_vitae']['tmp_name']))); }
ob_start();
?> 
--PHP-mixed-<?php echo $random_hash; ?>  
Content-Type: multipart/alternative; boundary="PHP-alt-<?php echo $random_hash; ?>" 

--PHP-alt-<?php echo $random_hash; ?>  
Content-Type: text/plain; charset="iso-8859-1" 
Content-Transfer-Encoding: 7bit

Hello World!!! 
This is simple text email message. 

--PHP-alt-<?php echo $random_hash; ?>  
Content-Type: text/html; charset="iso-8859-1" 
Content-Transfer-Encoding: 7bit

<h2>Hello World!</h2> 
<p>This is something with <b>HTML</b> formatting.</p> 

--PHP-alt-<?php echo $random_hash; ?>-- 

<?php if(isset($_FILES['curriculum_vitae']['name']) && $_FILES['curriculum_vitae']['name'] != ''){ ?>--PHP-mixed-<?php echo $random_hash; ?>  
Content-Type: application/zip; name="<?php echo $_FILES['curriculum_vitae']['name']; ?>"  
Content-Transfer-Encoding: base64  
Content-Disposition: attachment  

<?php echo $attachment; ?> 
--PHP-mixed-<?php echo $random_hash; ?>--
<?php } ?>
<?php 
$message = ob_get_clean(); 
$mail_sent = @mail( $to, $subject, $message, $headers ); 
echo $mail_sent ? "Mail sent" : "Mail failed"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:52:52.363

这个简单的 PHP 脚本或电子邮件功能能够发送包含单个附件的纯文本邮件消息。该文件必须先上传，否则您的网络服务器上应该有一个现有文件。你可以用这个

**功能 ：**

```
<?php
function mail_attachment($filename, $path, $mailto, $from_mail, $from_name, $replyto, $subject, $message) {
    $file = $path.$filename;
    $file_size = filesize($file);
    $handle = fopen($file, "r");
    $content = fread($handle, $file_size);
    fclose($handle);
    $content = chunk_split(base64_encode($content));
    $uid = md5(uniqid(time()));
    $name = basename($file);
    $header = "From: ".$from_name." <".$from_mail.">\r\n";
    $header .= "Reply-To: ".$replyto."\r\n";
    $header .= "MIME-Version: 1.0\r\n";
    $header .= "Content-Type: multipart/mixed; boundary=\"".$uid."\"\r\n\r\n";
    $header .= "This is a multi-part message in MIME format.\r\n";
    $header .= "--".$uid."\r\n";
    $header .= "Content-type:text/plain; charset=iso-8859-1\r\n";
    $header .= "Content-Transfer-Encoding: 7bit\r\n\r\n";
    $header .= $message."\r\n\r\n";
    $header .= "--".$uid."\r\n";
    $header .= "Content-Type: application/octet-stream; name=\"".$filename."\"\r\n"; // use different content types here
    $header .= "Content-Transfer-Encoding: base64\r\n";
    $header .= "Content-Disposition: attachment; filename=\"".$filename."\"\r\n\r\n";
    $header .= $content."\r\n\r\n";
    $header .= "--".$uid."--";
    if (mail($mailto, $subject, "", $header)) {
        echo "mail send ... OK"; // or use booleans here
    } else {
        echo "mail send ... ERROR!";
    }
}
?> 
```

**代码：**

```
<?php 
$my_file = "somefile.zip";
$my_path = $_SERVER['DOCUMENT_ROOT']."/your_path_here/";
$my_name = "Olaf Lederer";
$my_mail = "my@mail.com";
$my_replyto = "my_reply_to@mail.net";
$my_subject = "This is a mail with attachment.";
$my_message = "Hallo,\r\ndo you like this script? I hope it will help.\r\n\r\ngr. Olaf";
mail_attachment($my_file, $my_path, "recipient@mail.org", $my_mail, $my_name, $my_replyto, $my_subject, $my_message);
?> 
```

# ios - 如何在ios应用程序中合并两个半图像？

> ID：12193893
> 
> 赞同：0
> 
> 时间：2012-08-30T09:33:54.827
> 
> 标签：ios, xcode

我制作了一个相机应用程序，在其中单击图像并将其切成两半，然后单击另一张图像并从中切出另一半。
然后将这两个图像合并，我已经成功完成了这个任务，但问题是合并不顺利。

两半之间有明显的分隔....我想知道如何平滑它？

```
//------merging the two images------
- (UIImage*)mergeImage:(UIImage*)first withImage:(UIImage*)second
{
    // get size of the first image
    CGImageRef firstImageRef = first.CGImage;
    CGFloat firstWidth = CGImageGetWidth(firstImageRef);
    CGFloat firstHeight = CGImageGetHeight(firstImageRef);

    // get size of the second image
    CGImageRef secondImageRef = second.CGImage;
    CGFloat secondWidth = CGImageGetWidth(secondImageRef);
    CGFloat secondHeight = CGImageGetHeight(secondImageRef);

    // build merged size
    CGSize mergedSize = CGSizeMake((firstWidth+secondWidth), MAX(firstHeight, secondHeight));

    // capture image context ref
    UIGraphicsBeginImageContext(mergedSize);

    //Draw images onto the context
    [first drawInRect:CGRectMake(0, 0, firstWidth, firstHeight)];
    //[second drawInRect:CGRectMake(firstWidth, 0, secondWidth, secondHeight)];
    [second drawInRect:CGRectMake(firstWidth, 0, secondWidth, secondHeight) blendMode:kCGBlendModeNormal alpha:1.0];

    // assign context to new UIImage
    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();

    // end context
    UIGraphicsEndImageContext();

    return newImage;

} 
```

谢谢

（我接受downvote作为健康的批评，但请gv rsn以便我可以改进）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:53:16.260

如果我没有错，那么你想要这个。

```
UIImageView *imgView1, *imgView2, *imgView3;
imgView1 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"image1"]];
imgView2 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"image2"]];
imgView3 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"image3"]];
imgView1.frame = CGRectMake(0, 0, 50, 50);
imgView2.frame = CGRectMake(50, 50, 100, 100);
imgView3.frame = CGRectMake(100, 100, 200, 200);
[referenceView addSubview:imgView1];
[referenceView addSubview:imgView2];
[referenceView addSubview:imgView3];
UIGraphicsBeginImageContext(referenceView.bounds.size);
[referenceView.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage *finalImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
resultView = [[UIImageView alloc] initWithImage:finalImage];
resultView.frame = CGRectMake(0, 0, 320, 480);
[self.view addSubview:resultView];
referenceView.hidden = YES; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-08T06:04:02.240

```
UIImageView *referenceView = [[UIImageView alloc]init];
referenceView.frame = CGRectMake(0, 0, 1024, 768);
referenceView.hidden = NO;

[self.view insertSubview:referenceView belowSubview:selfView];

UIImageView *imgView1, *imgView2,*imgView3;
imgView1 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"image1"]];
imgView2 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"image2"]];
imgView3 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"image3"]];

imgView1.frame = CGRectMake(0, 0, 50, 50);
imgView2.frame = CGRectMake(50, 50, 100, 100);
imgView3.frame = CGRectMake(100, 100, 200, 200);

[referenceView addSubview:imgView1];
[referenceView addSubview:imgView2];
[referenceView addSubview:imgView3];
UIImage *finalImage = nil;
UIGraphicsBeginImageContext(referenceView.bounds.size);
[referenceView.layer renderInContext:UIGraphicsGetCurrentContext()];
finalImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();

return finalImage; 
```

# c++ - 缓存未命中的代价是什么

> ID：12193894
> 
> 赞同：4
> 
> 时间：2012-08-30T09:33:57.580
> 
> 标签：c++, c, memory-profiling, cachegrind

我正在分析一些代码并使用 cachegrind 来获取执行中的缓存未命中数（L2 和 L3）。

我的问题是如何根据缓存未命中来确定等待缓存准备就绪所花费的时间？

我想说“我的代码得到 90% 的 cpu 利用率”之类的话

是否可以根据缓存研磨输出来执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:46:58.660

Cachegrind 只是模拟 CPU 上的执行，模拟缓存和分支预测器的行为方式。要知道您将在缓存上花费多长时间阻塞将需要更多信息。具体来说，您需要知道何时可以推测执行以及可以并行调度多少条指令（以及如何同时协调内存访问）。Cachegrind 无法做到这一点，任何可能严重依赖处理器的工具（而缓存未命中对处理器的依赖性要小得多）。

如果您可以使用现代 Intel CPU，我建议您获取一份免费的 VTune（用于非商业目的）并查看它的内容。它可以告诉处理器收集有关缓存未命中的数据并将其报告给您，因此您可以查看实际发生的情况，而不仅仅是模拟。它将为每行代码的每条指令提供一个时钟，使用它您可以查看哪些行在缓存中阻塞（以及多长时间），它还可以为您提供 cachegrind 可以提供的所有其他信息。

你可以在这里得到它：

[http://software.intel.com/en-us/articles/non-commercial-software-download/](http://software.intel.com/en-us/articles/non-commercial-software-download/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:55:02.360

唯一可以确定的方法是使用 CPU 的性能监控计数器来测量您的特定 CPU - 即使这样，结果也是非常具体的，您基于此所做的任何优化都可能在具有不同缓存大小、总线架构的 CPU 上执行得非常糟糕或内存配置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-12T07:10:27.550

一个变量可以在几个时钟周期内从缓存中取出。

如果它不在缓存中，它可能需要超过一百个时钟周期才能从 RAM 中获取。

# javascript - 如果图像较大，则将 Lightbox 容器放入窗口中

> ID：12193895
> 
> 赞同：0
> 
> 时间：2012-08-30T09:33:58.093
> 
> 标签：javascript, size, lightbox, css

**如果图像大于当前窗口大小，**我只是在寻找一种简单的方法来根据窗口大小设置 Lightbox 容器和图像的最大宽度和高度。

 **所以说图像是2000x1200，窗口是1280x1024，那么`max-height`and`max-width`的`div.lb-outerContainer`and`img.lb-image`应该设置为

```
$(window).height() - 286, $(window).width() - 60 
```

和

```
$(window).height() - 306, $(window).width() - 80 
```

分别。

我只是在确定在哪里实施这些规则时遇到了一些麻烦。我在`lightbox.js`文件中做吗？如果有，在哪里？在使用它的页面上添加一些脚本是否可以接受？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:43:26.463

这个答案不适用于灯箱，这只是`.image`vs的一般缩放`window`

```
var $window = $(window),
    $image = $(".image");

$image.load(function() {
    var windowHeight = $window.height(),
        windowWidth = $window.width(),
        imageHeight = $image.height(),
        imageWidth = $image.width(),

        radioHeight = windowHeight/imageHeight,
        radioWidth;

        if ( radioHeight < 1 ) {
            imageHeight *= radioHeight;
            imageWidth *= radioHeight;
        }
        radioWidth = windowWidth/imageWidth;
        if ( radioWidth < 1 ) {
            imageHeight *= radioWidth;
            imageWidth *= radioWidth;
        }

    $image.height( imageHeight );
    $image.width( imageWidth );
}); 
```

和演示：http: [//jsbin.com/upisen/1/edit](http://jsbin.com/upisen/1/edit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:44:51.393

这不会保持图像比例。你必须使用这样的东西：

```
$(function(){
$('SELECTOR FOR YOUR IMAGE').load(function() {
    this.removeAttribute( "height" );
    this.removeAttribute( "width" );
    this.style.height = this.style.width = "";
    $(this).data('w',this.width);
    $(this).data('h',this.height);
    ResizeGallery();
});
// on resize window 
$(window).resize(function() {
   ResizeGallery();
});
});

function ResizeGallery() {
    var img=$('SELECTOR FOR YOUR IMAGE');
    // remove attribute to get true size
    img.removeAttr( "height" );
    img.removeAttr( "width" );
    var w = img.data('w');
    var h = img.data('h'); 
    // compute maximum dimention
    var maxW = $(window).width()-300; //300= margin
    var maxH = $(window).height()-200;
    // compute zoom ratio and keep only the smallest
    // also ratio must not exceed 1
    var ratio=Math.max(1,Math.min(maxW/w, maxH/h));
    // compute new dimentions
    var newW = Math.floor(ratio*w);
    var newH = Math.floor(ratio*h);

    // apply to image
    img.css('height',newW ).css('width',newH );
} 
```

假设您正在使用 jquery**

# model-view-controller - EXTJS MVC 将数据从一个视图发送到另一个视图

> ID：12193896
> 
> 赞同：0
> 
> 时间：2012-08-30T09:33:58.650
> 
> 标签：model-view-controller, extjs, extjs4, extjs4.1, extjs-mvc

我正在使用 EXTJS MVC 架构开发应用程序。我创建了一个数据视图，其中包含系统中的用户列表，数据视图中的每个项目都包含三个按钮。其中一个是编辑按钮，单击它会打开另一个视图。此视图包含一个可以编辑用户详细信息的表单。现在，让我印象深刻的是，当我打开表单时，我希望将用户详细信息加载到表单的字段中。

那么，我如何将数据从数据视图发送到表单，以便加载与用户相关的适当数据？

这是代码：

控制器

```
init : function() {
    this.control({
        'button[action=addUsers ]' : {
            click : this.addUsers
        },
        '#userlist' : {
            itemclick : this.userListSelectionChange
        }
    })
},
userListSelectionChange : function(view, record, h, ind, evt) {

    console.log('user List clicked')

    var edit = evt.getTarget('a.icon-edit-32');
    var deletebt = evt.getTarget('a.icon-delete-32');

    if (edit != null) {

        var name = record.get('Name');
        console.log(name);

        this.showHWindow(record);
    }

    if (deletebt != null) {

        var name = record.get('Name');
        console.log(name);

        this.showOffWindow();
    }
}, 
```

当调用 showHWindow() 方法时，表单打开，我希望表单加载该特定用户的数据。而且，即使它打印了正确的名称

```
var name = record.get('Name'); 
```

我不确定如何将此数据发送到表单。

另外，我尝试使用 loadRecord 方法，但字段为空。

```
this.euWin = Ext.create('Campus.view.EditUsers');   

var f = this.getEdituserform().getForm();

    f.loadRecord(record);

    this.euWin.showWin(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:48:30.357

然后，您的 userListSelectionChange 方法在“记录”参数中接收网格行数据，您要做的就是使用表单的 loadRecord 方法加载表单，仅此而已。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T12:09:29.447

解决了：）我表格中的名称与记录中的名称不同。我有

```
record.data.Name 
```

而以我的形式

```
name : FName 
```

我已更改为

```
name : Name 
```

非常感谢 lontivero 的帮助

# java - Java .split() 方法拆分 XML 参数

> ID：12193899
> 
> 赞同：0
> 
> 时间：2012-08-30T09:34:06.113
> 
> 标签：java, xml, eclipse, parsing, split

我有来自 XML 文档的这一行：

```
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" contentScriptType="text/ecmascript" width="1024" zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 1024 768" height="768" preserveAspectRatio="xMidYMid meet" version="1.0"> 
```

我希望能够使用 split 方法将其拆分。例如，我想将每个参数保存到一个字符串数组中。

所以我想：

```
contentScriptType="text/ecmascript" 
width="1024" 
zoomAndPan="magnify" 
contentStyleType="text/css" 
viewBox="0 0 1024 768" 
height="768" 
```

等等等等要保存到一个字符串数组中，有没有使用 split 方法来做到这一点，或者任何人都可以建议一种更简单、更有效的方法来做到这一点？

这是看起来很吓人的正则表达式：

```
\s(.*?)\s?=(?:(?:\\[,"']|[^,"'])+|"(?:\\"|[^"])*(?<!\\)"|'[^']*'|) 
```

Eclipse 不会接受这个，因为它有无效的字符常量，有人知道如何克服这个错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:36:59.623

使用 DOM 或 SAX 读取它，处理属性并将其添加到地图中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T10:48:27.750

有多种方法可以表示同一个 XML 文档（见下文），空格和引号的差异可能会使编写（和维护）正则表达式变得困难。

**input.xml（表示 1）**

```
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" contentScriptType="text/ecmascript" width="1024" zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 1024 768" height="768" preserveAspectRatio="xMidYMid meet" version="1.0"> 
```

**input.xml（表示 2）**

```
<?xml version="1.0" encoding="UTF-8"?>
<svg 
     xmlns:xlink = 'http://www.w3.org/1999/xlink'
     xmlns = 'http://www.w3.org/2000/svg' 
     contentScriptType = 'text/ecmascript' 
     width = '1024'
     zoomAndPan = 'magnify'
     contentStyleType = 'text/css'
     viewBox = '0 0 1024 768'
     height = '768'
     preserveAspectRatio = 'xMidYMid meet'
     version = '1.0'> 
```

我建议使用 XML 解析器。下面是如何使用[**StAX (JSR-173)**](http://www.jcp.org/en/jsr/detail?id=173)完成它。StAX 解析器的实现包含在 Java SE 6 中。

**演示**

```
package forum12193899;

import java.io.StringReader;

import javax.xml.stream.*;
import javax.xml.transform.stream.StreamSource;

public class Demo {

    public static void main(String[] args) throws Exception {
        XMLInputFactory xif = XMLInputFactory.newFactory();
        StreamSource xml = new StreamSource("src/forum12193899/input.xml");

        String xmlString = "<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" contentScriptType=\"text/ecmascript\" width=\"1024\" zoomAndPan=\"magnify\" contentStyleType=\"text/css\" viewBox=\"0 0 1024 768\" height=\"768\" preserveAspectRatio=\"xMidYMid meet\" version=\"1.0\">";
        XMLStreamReader xsr = xif.createXMLStreamReader(new StringReader(xmlString));

        xsr.nextTag(); // Advance to "svg" element.
        int attributeCount = xsr.getAttributeCount();
        String[] array = new String[attributeCount];
        for(int x=0; x<attributeCount; x++) {
            StringBuilder stringBuilder = new StringBuilder();
            array[x]= xsr.getAttributeLocalName(x) + "=\"" + xsr.getAttributeValue(x) + "\"";
        }

        // Output the Array
        for(String string : array) {
            System.out.println(string);
        }
    }

} 
```

**输出**

```
contentScriptType="text/ecmascript"
width="1024"
zoomAndPan="magnify"
contentStyleType="text/css"
viewBox="0 0 1024 768"
height="768"
preserveAspectRatio="xMidYMid meet"
version="1.0" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T10:30:02.530

如果您出于某种原因不想使用 Sax（我也会建议），Eclipse 拒绝您的正则表达式的原因是您必须在模式中转义 \ 并在字符串文字中转义 "。所以你模式字符串定义应如下所示：

```
String regex = "\\s(.*?)\\s?=(?:(?:\\\\[,\"']|[^,\"'])+|\"(?:\\\"|[^\"])*(?<!\\)\"|'[^']*'|)"; 
```

# c++ - 检查节点是否在有向图的节点路径中

> ID：12193900
> 
> 赞同：0
> 
> 时间：2012-08-30T09:34:09.693
> 
> 标签：c++, c, data-structures, graph, llvm

我有一个有向图。我想知道节点 N 是否总是在上节点 T 的路径中。我检查它的方法是从入口节点开始并执行深度优先搜索。如果在任何路径中看到节点 N 在节点 T 之前遇到，则假定它并不总是在其路径中。

例如，在附图中，入口节点是`entry_0_CC_FC`，上层节点是`if_end_0_CC_FC`，节点 N 是`land.lhs.true26_0_CC_FC`。

但是我看到我的算法陷入了无限循环。要么它花费了太多时间，要么卡住了，我不确定。顺便说一下，这个图中有 119 个块。这是代码。您能看到任何可能使其陷入无限循环的问题吗？

```
void CheckIfNotAlwaysInPath(bool& violation, BasicBlock* BS, 
  BasicBlock* BT, BasicBlock* BN, set<BasicBlock*> visited)
{
    int i;

    // If already visited
    if ( visited.find( BS ) != visited.end() ) // If already had visited
        return;

    visited.insert(BS);

    if ( BS == BN )
    {
        if ( visited.find( BT ) == visited.end() )
            violation = true;
        return;
    }

    if ( isa<ReturnInst>(BS->getTerminator()) )
        return;
    if ( BS->getTerminator()->getNumSuccessors() == 0 )
        return;

    for( i = 0; i < BS->getTerminator()->getNumSuccessors(); i++ )
    {
        if ( visited.find( BS->getTerminator()->getSuccessor(i) ) == visited.end() )
            CheckIfNotAlwaysInPath(violation, BS->getTerminator()->getSuccessor(i), BT, BN, visited);
    }
} 
```

![在此处输入图像描述](../Images/fe59d394f35c7a3df64c0b9e8edff849.png).

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:47:35.560

检查图表中的反馈。然后检查代码中引用的功能块/状态机。上图直到 if.end531_0_CC_FC 应该没问题。之后 for.body 块或 for.cond675.loopexit_0_cc_FC 可能容易出错......或其他一些环回。

我的第一个猜测是从 for.cond675.loopexit_0_cc_FC 到 for.body.688.lr.ph_0_CC_FC 的环回。

# asp.net-mvc - 在 MVC 中将表单提交到不同的主机

> ID：12193907
> 
> 赞同：0
> 
> 时间：2012-08-30T09:34:37.270
> 
> 标签：asp.net-mvc, form-submit, hidden-field

我在 Razor 视图中实现了一个操作链接，如下所示

```
<input type="hidden" id="format"/>

@Html.ActionLink("Save", "SaveFile", "ExportService", "http", "hrmsapp.mysystem.com", "", new { fileformat = <hidden field value here> }, new { @id = "save" }) 
```

我需要将隐藏字段的值传递给参数“fileformat”中的此操作链接。

我找不到任何方法来做到这一点。有很多线程在谈论 @using Html.Form 和“post”方法。但是，当我拥有不同的域 hrms.mysystem.com 时，我不确定如何使用表单进行发布。为此目的，Html.Form 中没有重载。

有什么方法可以读取操作链接代码本身中的隐藏字段值（不使用表单）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T09:40:09.390

```
<form action="http://hrmsapp.mysystem.com" method="post">
    <input type="hidden" id="format" name="fileformat" />
    <input type="submit" value="POST to HRMS app" />
</form> 
```

@Html.Form 所做的只是打印 HTML。你不必使用它。您可以使用指向不同服务器的操作对 HTML 表单进行硬编码，然后发布它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T11:07:37.700

您可以使用 jQuery 替换占位符字符串：

```
<input type="hidden" id="format"/>

@Html.ActionLink("Save", "SaveFile", "ExportService", "http", "hrmsapp.mysystem.com", "", new { fileformat = "xxfileformat" }, new { @id = "save" })

<script>
    $(function() {
        $('#save').attr('href', $('#save').attr('href').replace('xxfileformat', $('#format').val()))
    });
</script> 
```

# c - 如何在堆内存中存储矩阵

> ID：12193909
> 
> 赞同：1
> 
> 时间：2012-08-30T09:34:39.747
> 
> 标签：c

我下面的代码工作得很好。但是，我想知道如何将矩阵存储在堆内存中。该代码接受来自用户的 3 个正整数 a、b 和 c。然后用户输入两个矩阵。第一个矩阵是 n(rows) x m(columns)，第二个矩阵是 m(rows) x p(columns)。

矩阵乘积/输出是 n 行乘 p 列，例如； **样本输入**

4

3

2

14 9 3

2 11 15

0 12 17

5 2 3

12 25 9 10

8 5

**样本输出**

273 455

243 235

244 205

102 160

```
int main(void) {
    int row1, row2, col1, col2, i, j, e;
    int temp, **matrix1, **matrix2, **mtxProduct;

    scanf("%d", &row1);
    scanf("%d", &col1);

    temp = col1;
    row2=temp;    
    scanf("%d", &col2);

    if (col1 != row2) {
        printf("\nIncorrect combination!\n");
        return 1;
    }

    matrix1 = (int**) malloc(row1 * sizeof(int*));

    //read elements of 1st matrix
    for (i = 0; i < row1; i++) {
        matrix1[i] = (int*) malloc(col1 * sizeof (int));
        for (j = 0; j < col1; j++) {
            scanf("%d %d %d\n", &matrix1[i][j], &matrix1[i][j], &matrix1[i][j]);
        }
    }

    matrix2 = (int**) malloc(row2 * sizeof (int*));

    //read elements of 2nd matrix
    for (i = 0; i < row2; i++) {
        matrix2[i] = (int*) malloc(col2 * sizeof (int));
        for (j = 0; j < col2; j++) {
            scanf("%d %d %d", &matrix2[i][j], &matrix2[i][j], &matrix2[i][j]);
        }
    }

    mtxProduct = (int**) malloc(row1 * sizeof (int*));

    for (i = 0; i < col2; i++) {
        mtxProduct[i] = (int*) malloc(col2 * sizeof (int));
    }

    for (i = 0; i < row1; i++) {
        for (j = 0; j < col2; j++) {
            mtxProduct[i][j] = 0;
            for (e = 0; e < row2; e++) {
                mtxProduct[i][j] +=(matrix1[i][e] * matrix2[e][j]);
            }
        }
    }

    for (i = 0; i < row1; i++) {
        for (j = 0; j < col2; j++) {
            printf("%d ", mtxProduct[i][j]);
        }
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:56:09.537

如果你有一个现代的 C 编译器，从 C99 开始，它应该允许以下 ideom

```
double (*A)[m] = malloc(sizeof(double[n][m])); 
```

这样的事情被称为“可变修改类型”并带有必要的大小，以便编译器可以`A[i][j]`自行解决类似的事情。

如果你是一个纯粹主义者，你甚至可以这样做：

```
double (*A)[n][m] = malloc(sizeof *A); 
```

并随身携带`*`，例如`(*A)[i][j]`.

`free`当你不再需要它时，不要忘记最后的空间，`free(A)`这两种情况都应该这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:11:29.900

正如其他回答者所说，您需要使用`malloc`. 我假设您的矩阵中的条目只能是`int`

```
int * allocate_matrix(int m, int n) {
  /* Returns an allocated m x n matrix */
  return malloc(sizeof(int) * m * n);
} 
```

要访问矩阵，您需要决定是使用列优先还是行优先形式。在以列为主的形式（由 FORTRAN 推广，在科学编程中最常见）中，您连续存储每一列，并且一个接一个地存储。要访问 (2,3) 处的条目，您将获取指向矩阵的指针，比如`A`，然后取消引用它 wrt `2*(number of columns) + 1`。因此，对于一个 mxn 矩阵，它将是`A[1+2*n]`- 你从行号和列号中取出一个来解释 0 索引。

如果你想涉足这种东西 - 这真的很酷，很诚实 - Google BLAS。

# c# - 枚举转换为字符串

> ID：12193912
> 
> 赞同：1
> 
> 时间：2012-08-30T09:34:51.493
> 
> 标签：c#, asp.net, data-binding, dataset

我已经创建了休假原因的枚举，现在我想将其转换为字符串，但出现错误。

实际上，我想使用数据集在网格视图中绑定数据，为此我正在分层工作。

我知道我的问题的答案将是单行的，但我没有从不同的站点找到确切的解决方案，这就是为什么决定在这里提问

请帮助因为我是 C# 的新手

这是自定义类型层中的枚举类：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Sherserve.CustomTypeLayer
{
    public enum LeaveReason
    {
        Sick,
        Planned,
        Other
    }
} 
```

最后是业务逻辑层：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Sherserve.DataAccessLayer;
using Sherserve.CustomTypeLayer;
using System.Data;

namespace Sherserve.BusinessLogicLayer
{
    public class LMSManager
    {

        LMSRepository objLMSRepository = new LMSRepository();

        public void EmployeeLeave(EmployeeLeave LeaveInsert)
        {
            objLMSRepository.InsertLeave(LeaveInsert);
        }

        public List<CustomTypeLayer.EmployeeLeave> GetLeaveRecord(int emplid)
        {

            DataSet ds = objLMSRepository.GetLeaveRecord(emplid);
            List<EmployeeLeave> leavelist = new List<EmployeeLeave>();
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
            {
                for (int a; a < ds.Tables[0].Rows.Count; a++)
                {

                    DataRow dr = ds.Tables[0].Rows[a];
                    EmployeeLeave leave = new EmployeeLeave();
                    leave.DateFrom = Convert.ToDateTime(dr["dt_from"]);
                    leave.DateTo = Convert.ToDateTime(dr["dt_to"]);
                    leave.EmployeeId = Convert.ToInt32(dr["EmployeeID"]);
                    leave.Reason = Convert.ToString(dr["txt_reason"]);
                    //leave.LeaveType = Convert.ToString(dr["id_leave_type"]);
                    leavelist.Add(leave);
                }
            }
            return leavelist;
        }
    }
} 
```

您可以在我评论过的业务逻辑层中看到

```
leave.LeaveType = Convert.ToString(dr["id_leave_type"]); 
```

实际上 LeaveType 是枚举，现在我想将其转换为字符串，因此不应该出现任何错误....

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T09:39:54.820

使用[Enum.Parse(Type,String,Boolean ignoreCase) 或 Enum.Parse(Type,String)](http://msdn.microsoft.com/en-us/library/system.enum.aspx)方法。

```
leave.LeaveType=(LeaveReason)Enum.Parse(typeof(LeaveReason),
                                         dr["id_leave_type"].ToString(),true); 
```

# sublimetext2 - 通过命令行打开目录时，Sublime 文本打开两个窗口而不是一个

> ID：12193913
> 
> 赞同：44
> 
> 时间：2012-08-30T09:34:55.863
> 
> 标签：sublimetext2

如果我使用命令行 ( `subl path/to/my/folder/`) 在 Sublime 中打开一个目录，Sublime 将打开两个实例：一个是我要求的目录，另一个是我上次使用 Sublime 打开的目录。知道为什么吗？

我不知道这是否有关联，但问题出现在 Ubuntu 12.04 上。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-12-29T23:03:17.390

*Thanks for the link, this worked for me.*

Do the following: Preferences > Settings - User

Once you enter the file 'Preferences.sublime.settings' add between the brackets following lines.

```
{
  "hot_exit": false,
  "remember_open_files": false
} 
```

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2015-03-24T15:07:32.263

我设法解决了这个问题，而不必禁用 Sublime 的最后一个会话功能（我喜欢并且不想禁用）。向命令添加`-a`标志`subl`会导致文件“在当前窗口中打开”，从而阻止后续窗口打开。

如果此解决方案适合您，您可以通过创建别名（在 .bashrc 或等效文件中）来避免每次都这样做：

```
alias subl='subl -a' 
```

...这样您就可以使用`subl`没有标志的命令，并且它应该按照需要运行。如果您*确实*想在新窗口中打开文件夹/文件，只需添加`-n`标志：例如。`subl -n .`（在新窗口中打开此文件夹）。

（归功于Unix Stack Exchange 上的[这个答案）](https://unix.stackexchange.com/a/52497/16617)

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2012-08-31T07:56:38.697

你很可能使用了 Sublime 的保存上次会话功能。

您可以禁用它：

[http://opensourcehacker.com/2012/05/11/sublime-text-2-tips-for-python-and-web-developers/#Disable_automatic_loading_of_the_last_session](http://opensourcehacker.com/2012/05/11/sublime-text-2-tips-for-python-and-web-developers/#Disable_automatic_loading_of_the_last_session)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-07-20T08:08:27.660

Sublime Text V4 更新：

```
{
    // Mac only: This controls if an empty window is created at startup or not.
    "create_window_at_startup": true
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-01-06T05:30:17.533

进入您希望在终端中打开的相应文件夹后，请仅键入不带句点 (.) 的 subl。这将打开一个崇高文本的实例。

[从这里](https://askubuntu.com/questions/657250/terminal-opening-two-instances-of-sublime-instead-of-one)得到它

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-04-20T10:00:57.143

您还可以使用它来将新文件夹添加到现有文件夹：

```
subl . -a 
```

# css - 表溢出忽略父 div

> ID：12193914
> 
> 赞同：0
> 
> 时间：2012-08-30T09:34:59.833
> 
> 标签：css, html-table, overflow

我正在处理的一些 CSS 有问题。我有一个盒子，四面都有 10px 的填充，里面有一张桌子。我想在表格上溢出：自动，但是当我滚动时，表格会忽略其父级的顶部和底部填充，具体取决于它的滚动方式。

**CSS**

```
#infoHolder .bottom 
{
    width: 749px;
    height: 300px;
    overflow: auto;
    padding: 0 20px;
}

#infoHolder .bottom table
{
    margin: 15px 0;
    width: 735px;
} 
```

**HTML**

```
 <div id="infoHolder">
                <table>
                    <thead>
                        <tr>
                            <th colspan="7">
                                Info
                            </th>
                        </tr>
                    </thead>
                    <tr>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                    </tr>
                    <tr>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                        <td>Info</td>
                    </tr>
                </table>
            </div> 
```

我怎样才能使溢出考虑到父 div 填充而不与它重叠？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:36:17.353

这是正常的，所以使用边距而不是填充。

或者将表格双重包裹在内部 DIV 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:46:55.263

那是正常的行为，你的表格将在 div 内呈现 20px 填充，然后整个单元将滚动，在提供 20px 填充后它不会腾出空间，然后在其中滚动表格，

您可以尝试类似：http: [//jsfiddle.net/mrVce/1/](http://jsfiddle.net/mrVce/1/)

```
 <div id="infoHolder">
        <div class="inner">
        <table>
            <thead>
                <tr>
                    <th colspan="7">
                        Info
                    </th>
                </tr>
            </thead>
            <tr>
                <td>Info</td>
                <td>Info</td>
                <td>Info</td>
                <td>Info</td>
                <td>Info</td>
                <td>Info</td>
                <td>Info</td>
            </tr>
        </table>
        <div> 
```

```
#infoHolder
{
    width: 749px;
    height: 300px;
    padding: 20px;
    border:1px solid red;
    background:yellow;
}
#infoHolder .inner{
height:300px;
    overflow:auto;
    border:1px solid green;
}        
#infoHolder table
{
    margin: 0;
    width: 200px;
    background:orange;
} 
```

# iphone - 使用新的 sdk 在我的 facebook 墙上发布

> ID：12193915
> 
> 赞同：11
> 
> 时间：2012-08-30T09:35:01.213
> 
> 标签：iphone, ios, facebook

我正在按照[他们的说明使用新的 Facebook SDK 在我的墙上发布](http://developers.facebook.com/docs/howtos/publish-to-feed-ios-sdk/)

我从应用程序获得了授权，但是当我尝试发布时，我在 `Error: HTTP status code: 400`下面收到错误，我正在发布我的代码

```
 - (void)viewDidLoad
{
self.postParams =
 [[NSMutableDictionary alloc] initWithObjectsAndKeys:
 @"https://developers.facebook.com/ios", @"link",
 @"https://developers.facebook.com/attachment/iossdk_logo.png", @"picture",
 @"Facebook SDK for iOS", @"name",
 @"build apps.", @"caption",
 @"testing for my app.", @"description",
 nil]; 

[self.postParams setObject:@"hgshsghhgsls" forKey:@"message"];

[super viewDidLoad];
// Do any additional setup after loading the view, typically from a nib.
}

-(IBAction)Post{
AppDelegate *appDelegate = [UIApplication sharedApplication].delegate;
[appDelegate openSessionWithAllowLoginUI:YES];

[FBRequestConnection   startWithGraphPath:@"me/Mac" parameters:self.postParams HTTPMethod:@"POST"
                        completionHandler:^(FBRequestConnection *connection,id result,NSError *error) {
                            NSString *alertText;
                             if (error) {
                             alertText = [NSString stringWithFormat:@"error: domain = %@, code = %d, des = %d",error.domain, error.code,error.description];
                             } 
                             else 
                             {
                             alertText = [NSString stringWithFormat:@"Posted action, id: %@",[result objectForKey:@"id"]];
                             }
                             // Show the result in an alert
                             [[[UIAlertView alloc] initWithTitle:@"Result" message:alertText delegate:self cancelButtonTitle:@"OK!"
                             otherButtonTitles:nil]show];
                        }]; 

} 
```

我在这里做错了什么，任何建议都会很好，这个新的 SDK 是 beta 版本？还是完整的？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-19T09:44:11.043

如果您遇到任何问题，请尝试通过在您有兴趣调试的请求调用之前添加此代码来打开日志记录：

`[FBSettings setLoggingBehavior:[NSSet setWithObjects:FBLoggingBehaviorFBRequests, FBLoggingBehaviorFBURLConnections, nil]];`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T11:59:43.770

最后我解决了这个问题，因为我必须在我的应用权限页面中将 Auth Token Parameter 更改为 URLFragment 然后它正在工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T23:24:42.420

检查会话发布权限。

它对我很好。

```
[FBSession openActiveSessionWithPublishPermissions:[[NSArray alloc] initWithObjects:@"publish_stream",@"email", nil]
                                   defaultAudience:FBSessionDefaultAudienceFriends
                                      allowLoginUI:YES
                                 completionHandler:^(FBSession *session,
                                                     FBSessionState state, NSError *error) {
                                     [self sessionStateChanged:session state:state error:error];
                                 }]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-29T10:42:40.710

我在我的项目中使用了这个框架。它工作正常。这是我的相关代码

```
 -(IBAction)logIn:(id)sender;
{
AppDelegate *appdelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
if (!FBSession.activeSession.isOpen) {
    [appdelegate sessionOpener];
}
else {
    [self loginHelp];
} 
```

我的 sessionOpener 函数是；

```
 -(void) sessionOpener 
```

{

```
[FBSession sessionOpenWithPermissions:nil
                    completionHandler:^(FBSession *session,
                                        FBSessionState status,
                                        NSError *error) {
                        // session might now be open.
                        if (!error) {
                            [self.viewController loginHelp];
                        }
                    }];

 NSLog(@"%d", FBSession.activeSession.isOpen);
NSLog(@"%@", FBSession.activeSession.description ); 
```

}

这个对我有用。可能对你有帮助。

# c# - CultureInfo.CreateSpecificCulture() 和类的构造函数之间的区别？

> ID：12193916
> 
> 赞同：36
> 
> 时间：2012-08-30T09:35:02.613
> 
> 标签：c#, .net-3.5, globalization, cultureinfo

该类`CultureInfo`提供了两种创建方式：

*   通过[工厂方法 CreateSpecificCulture(string)](http://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.createspecificculture%28v=vs.90%29.aspx)。
*   通过[带有字符串参数的构造函数](http://msdn.microsoft.com/en-us/library/ky2chs3h%28v=vs.90%29.aspx)

两者的 MSDN 文档确实略有不同，其中提到了构造函数的一些“Windows 文化”。但这真的重要吗？

**我应该更喜欢两者中的一个吗？**

注意：如果重要的话，我使用的是 .NET 3.5 版，我想像这样使用它：

```
Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(culture);
Thread.CurrentThread.CurrentUICulture = new CultureInfo(culture); 
```

如[本答案所述。](https://stackoverflow.com/a/1138995/79485)

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-08-30T09:43:29.277

当无法创建文化信息时，工厂方法有一个备用方法。

因此，如果您使用像“en-XX”这样的特定文化，则无法创建文化信息实例，将抛出异常，并且使用中性文化“en”重试将成功。

下面是工厂方法的[源码](http://referencesource.microsoft.com/#mscorlib/system/globalization/cultureinfo.cs,44db57d9e190258e,references)

```
public static CultureInfo CreateSpecificCulture(string name)
{
    CultureInfo info;
    try
    {
        info = new CultureInfo(name);
    }
    catch (ArgumentException)
    {
        info = null;
        for (int i = 0; i < name.Length; i++)
        {
            if ('-' == name[i])
            {
                try
                {
                    info = new CultureInfo(name.Substring(0, i));
                    break;
                }
                catch (ArgumentException)
                {
                    throw;
                }
            }
        }
        if (info == null)
        {
            throw;
        }
    }
    if (!info.IsNeutralCulture)
    {
        return info;
    }
    return new CultureInfo(info.m_cultureData.SSPECIFICCULTURE);
} 
```

所以我更喜欢工厂方法。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-10-21T07:28:26.423

这个线程已经得到了回答，但我发现了 CreateSpecificCulture API 的一个独特发现，它有时可能不那么明显。所以我认为这个线程是我发现的一个合适的地方。我为此花了几天时间，所以只想分享我的经验，如果它也可以为其他人节省几个小时或几天。

在使用 API 时，仅传递文化名称（如`pt`（葡萄牙语）或`de`（德语））时，此 API 返回与区域设置相对应的特定文化，该区域被称为该文化的默认区域设置。现在这个语言环境可能不像听起来我卡住的地方那么明显了。对于德语，`de-DE`看起来很明显这是在德国说的德语。对于意大利语，`it-IT`看起来很明显这是在意大利说的意大利语。

`pt-PT`对于在葡萄牙说的葡萄牙语来说，同样的情况也很明显。不幸的是，事实*并非*如此。基于不确定的确切原因（可能是人口、原籍国、国家语言等），存在全球标准化，当您尝试从文化 id 创建特定文化时，根据该标准确定给定文化的默认区域设置（`pt`在这种情况下）。Microsoft 在以下链接中记录了整个列表：

[http://msdn.microsoft.com/en-us/goglobal/bb896001.aspx](http://msdn.microsoft.com/en-us/goglobal/bb896001.aspx)

如果您想知道给定文化或语言的默认国家/地区区域设置，只需匹配上述链接中的最后一列（语言名称缩写）代码。

**对于葡萄牙语，不变文化的语言名称缩写“葡萄牙语”与“葡萄牙语（巴西）”相匹配，即 PTB。葡萄牙语（葡萄牙）有不同的代码`PTG`。所以在这种情况下，葡萄牙语（巴西）是葡萄牙语的默认语言环境。**

如果您的应用程序逻辑或要求以任何方式依赖此 API 的这种行为，您必须谨慎。这种行为在基于 Web 的应用程序中变得更加重要，因为市场上的所有浏览器也遵循这些准则，并在您查看多语言网站的本地化版本时在 http 请求标头中发送适当的信息。

我仍在寻找原因，尽管这是将特定国家/地区设置为任何文化的默认语言环境的因素，这在葡萄牙语的情况下听起来并不那么明显*。*欢迎任何信息或评论。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-03-28T11:41:47.637

工厂方法和构造函数之间还有一个明显的区别：构造函数提供了一个额外的可选布尔值，它的默认设置为 true。

如果您确实需要 >"plain"<cultureinfo，您将需要将此布尔值设置为 false，因为：如果您请求特定文化（例如`de-DE`）而没有“布尔设置为 false”，您将始终获得文化 -设置，可能有意外的设置，具体取决于用户如何通过控制面板更改此区域性。

工厂方法不支持这个布尔值！！！

关于何时希望此布尔值成为最后两个想法：

*   true：您正在为您的 UI 生成输出 - 此输出应根据用户通过控制面板选择的特定文化设置
*   false：您想要解析数据（例如来自 XML）并且您知道特定的 XML 文化设置（例如作为逗号的十进制分隔符）。在这种情况下，您将需要一种`plain de-DE`文化，以确保特殊的控制面板设置不会干扰。

# java - 变得严重：在获取 sessionfactory 时无法在 JNDI 中找到 SessionFactory

> ID：12193917
> 
> 赞同：3
> 
> 时间：2012-08-30T09:35:06.210
> 
> 标签：java, hibernate, maven, eclipse-plugin, hbm2java

我使用休眠作为持久层与数据库进行通信。我使用maven插件hbm2java生成dao、java、*hbm.xml和hibernate.cfg.xml。直到那个时候插件工作正常。

但是当我尝试与 db 通信时，它会出现以下异常。

```
Aug 30, 2012 1:45:46 PM org.hbm2dao.AssemblyHome getSessionFactory
SEVERE: Could not locate SessionFactory in JNDI
javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:     java.naming.factory.initial
at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)
at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)
at javax.naming.InitialContext.getURLOrDefaultInitCtx(Unknown Source)
at javax.naming.InitialContext.lookup(Unknown Source)
at org.hbm2dao.AssemblyHome.getSessionFactory(AssemblyHome.java:29)
at org.hbm2dao.AssemblyHome.<init>(AssemblyHome.java:24)
at com.myhadoop.app.App.main(App.java:22)
java.lang.IllegalStateException: Could not locate SessionFactory in JNDI
at org.hbm2dao.AssemblyHome.getSessionFactory(AssemblyHome.java:33)
at org.hbm2dao.AssemblyHome.<init>(AssemblyHome.java:24)
at com.myhadoop.app.App.main(App.java:22)
Exception in thread "main" java.lang.NullPointerException
at com.myhadoop.app.App.main(App.java:32) 
```

默认情况下 hibernate3:hbm2cfgxml 生成 hibernate.cfg.xml 文件，其会话工厂名称为 SessionFactory。就像下面一样。

```
<session-factory name="SessionFactory"> 
```

插件生成以下代码以获取会话工厂。

```
private final SessionFactory sessionFactory = getSessionFactory();

protected SessionFactory getSessionFactory() {
    try {

        return (SessionFactory) new InitialContext().lookup("SessionFactory");
    }
    catch (Exception e) {
        log.error("Could not locate SessionFactory in JNDI", e);
        throw new IllegalStateException("Could not locate SessionFactory in JNDI");
    }
} 
```

我使用 eclipse Hibernate 插件发现了类似的查询[问题 - 无法在 JNDI 中找到 sessionfactory](https://stackoverflow.com/questions/1620612/problems-using-eclipse-hibernate-plugin-could-not-locate-sessionfactory-in-jnd)。

但是，更改插件生成的 400 多个类以从 *Home.java 获取会话工厂是不可行的。

如何在不更改 400 多个类的情况下使用 hibernate 插件解决这个问题？

我不想使用任何网络/应用服务器，这是我的独立应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T19:44:35.717

`getSessionFactory()`仅当您设置了`InitialContext`可以找到文件的环境时，使用该生成的方法才有效`hibernate.cfg.xml`，而且听起来好像不能。

`InitialContext`您可以通过按照[`InitialContext`javadocs](http://docs.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html)正确设置您的环境来解决该问题。作为替代方案，您可以通过将`getSessionFactory`方法更改为简单地创建 a[`Configuration`](http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/cfg/Configuration.html)并告诉它映射文件在哪里来完全删除 JNDI。

# javascript - 日期字符串到 new Date() javascript

> ID：12193922
> 
> 赞同：1
> 
> 时间：2012-08-30T09:35:15.520
> 
> 标签：javascript, string, date, format

是否有可能做这样的事情：

```
var parsedDate = new Date("20120830", "yyyyMMdd"); 
```

我需要将格式为 yyyyMMdd 的日期字符串 20120830 转换为“30/08/2012”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T08:00:26.867

此代码段可以帮助您：

```
var expired = new Date();
'2012-12-12 08:08'.replace(/(\d{4})-(\d{2})-(\d{2}).*/im, function(str, $1, $2, $3){
    expired.setFullYear($1, $2-1, $3);
});
console.log(expired); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-28T15:29:50.360

Bellow 是一个基于 Java 日期格式的简单、可移植、纯 JS 实现：

```
function date_format( d, p ) {
    var pad = function (n, l) {
        for (n = String(n), l -= n.length; --l >= 0; n = '0'+n);
        return n;
    };
    var tz = function (n, s) {
        return ((n<0)?'+':'-')+pad(Math.abs(n/60),2)+s+pad(Math.abs(n%60),2);
    };
    return p.replace(/([DdFHhKkMmSsyZ])\1*|'[^']*'|"[^"]*"/g, function (m) {
        l = m.length;
        switch (m.charAt(0)) {
                case 'D': return pad(d.getDayOfYear(), l);
                case 'd': return pad(d.getDate(), l);
                case 'F': return pad(d.getDayOfWeek(i18n), l);
                case 'H': return pad(d.getHours(), l);
                case 'h': return pad(d.getHours() % 12 || 12, l);
                case 'K': return pad(d.getHours() % 12, l);
                case 'k': return pad(d.getHours() || 24, l);
                case 'M': return pad(d.getMonth() + 1, l );
                case 'm': return pad(d.getMinutes(), l);
                case 'S': return pad(d.getMilliseconds(), l);
                case 's': return pad(d.getSeconds(), l);
                case 'y': return (l == 2) ? String(d.getFullYear()).substr(2) : pad(d.getFullYear(), l);
                case 'Z': return tz(d.getTimezoneOffset(), ' ');
                case "'":
                case '"': return m.substr(1, l - 2);
                default: throw new Error('Illegal pattern');
        }
    });
};
console.log( date_format( new Date(), 'yyyy.mm.dd kk:MM:ss Z' ) );
console.log( date_format( new Date(), 'MM/dd/yyyy HH:mm:ss' ) ); 
```

以上代码基于[http://llamalab.com/js/date/Date.js](http://llamalab.com/js/date/Date.js) (LGPL)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:53:17.743

Date(dateString) 构造函数不接受自定义日期格式（某些浏览器实现了一些替代格式，但出于兼容性原因应避免使用这些格式）。但也有替代构造函数 Date(year, month, day) 并且您的日期格式很容易用切片分割。不过要小心：月份是从零开始的，而不是从一开始的。所以二月是 00，十二月是 11。

相关问题：[Javascript Date() 构造函数不起作用](https://stackoverflow.com/questions/163563/javascript-date-constructor-doesnt-work)

# jquery - 如何启用输入onclick？

> ID：12193925
> 
> 赞同：0
> 
> 时间：2012-08-30T09:35:28.423
> 
> 标签：jquery, html

我的输入在默认情况下被禁用，我想在单击某些参考时启用它。

这是我的 HTML：

```
 <div class="field2">
  <p><b>PayPal account email</b></p>
 <input autocomplete="on" disabled="disabled" id="user_paypal_email"
name="user[paypal_email]" size="30" type="email" value="111">
<a href="/users/edit.6" id="#edit_email">Edit</a>
  </div> 
```

并尝试了这个js：

```
$("#edit_email").click(function() {
$("#user_paypal_email").removeAttr("disabled");
 }); 
```

但它不起作用。有人可以提出解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T09:37:16.030

将您的锚标记 id 从更改`id="#edit_email"`为`id="edit_email"`您不需要将哈希添加到 id

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T09:37:31.270

您可能需要在单击处理程序中返回 false，否则它会重新加载页面（在 href 之后）并且您可能没有注意到。

```
$("#edit_email").click(function() {
  $("#user_paypal_email").removeAttr("disabled");
  return false;
}); 
```

或者：

```
$("#edit_email").click(function(e) {
  $("#user_paypal_email").removeAttr("disabled");
  e.preventDefault();
}); 
```

# android - 如何从代码中获取可绘制标识符

> ID：12193928
> 
> 赞同：0
> 
> 时间：2012-08-30T09:35:35.860
> 
> 标签：android

有一个drawable我想找到标识符

布局

```
<TextView
    ...
    android:drawablePadding="5dp"
    android:drawableLeft="@drawable/account_lock"
/> 
```

活动

```
...
TextView tv = ...;
Drawable d = tv.getCompoundDrawables()[0];
int id = d.??????? 
```

我看过，`getResources().getIdentifier(name, defType, defPackage)`但我认为这对我没有帮助；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:43:34.927

id 应该可以作为 R.drawable.account_lock 访问

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T09:43:11.213

我就是这样做的。不过，我不知道您是否需要像我一样将它放在 res 的子文件夹中。

```
//In this example, I'm getting an id from the res/raw folder.
    int id = *activity.this*.getApplicationContext().getResources().getIdentifier(*filename*, "raw", *packagename*); 
```

# android - 在 Samsung Galaxy Tab HDMI 输出上显示单独的活动

> ID：12193936
> 
> 赞同：2
> 
> 时间：2012-08-30T09:36:19.887
> 
> 标签：android

我正在修改一个项目，我在一个微型模型上控制 LED，同时在上面的液晶显示器上显示演示文稿。

我以前不得不使用笨重的触摸屏笔记本电脑/平板电脑混合体，它连接到一个外接显示器，当它点亮 LED 时，它会显示演示幻灯片。

我现在为 Galaxy Tab 10.1 开发了一个安卓应用程序，它通过蓝牙控制微型模型上的 LED，并通过三星 HDMI 适配器连接到显示器。

我的问题是，无论如何要输出两个单独的活动，一个用于平板电脑，一个用于屏幕？当前设置只是镜像屏幕，但是当我打开幻灯片时，它会自动在屏幕上以全分辨率显示视频，因此可以完成，但我不确定它是否是开放的 API（找不到！） .

干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T09:18:27.320

三星的回应

> 不幸的是，Android 本身不支持多显示器，如下所述： [https](https://groups.google.com/forum/#!topic/android-developers/Jxp_9ZtzL60) ://groups.google.com/forum/#!topic/android-developers/Jxp_9ZtzL60 并且三星也没有扩展此功能。

在那个线程中，它确实指出了一个有用的摩托罗拉 API 来控制 HDMI 输出，可惜我有很多三星平板电脑！

[http://developer.motorola.com/docs/motorola-hdmi-status-api/](http://developer.motorola.com/docs/motorola-hdmi-status-api/)

# excel - 如何在 Xcelsius 工具中检索 Flex 中 Excel 单元格中映射的格式化输入

> ID：12193937
> 
> 赞同：0
> 
> 时间：2012-08-30T09:36:19.673
> 
> 标签：excel, xcelsius, flex2

我有一个格式化的输入 excel 值，例如 $650。如何在 Flex 的属性表 Flex 代码中检索此值？Xcelsius SDK 函数名称的接口中是否有任何函数名称？如果有，请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:48:26.470

这是不可能的，因为现有 Xcelsius SDK 中没有相关功能。

# javascript - 指定单击链接时要加载的 xml 文件

> ID：12193940
> 
> 赞同：0
> 
> 时间：2012-08-30T09:36:25.143
> 
> 标签：javascript, asp.net, xml, vb.net

我想要它，所以当在主页上单击链接时，它会将特定的 xml 文件加载到下一页（该页面称为 category-list.apsx）。

此类别列表页面使用Repeater Control 方法在页面上显示xml 详细信息。我使用了此处显示的示例：

[http://www.w3schools.com/aspnet/aspnet_repeater.asp](http://www.w3schools.com/aspnet/aspnet_repeater.asp)

所以目前转发器脚本看起来像：

```
<script runat="server">
    sub Page_Load
    if Not Page.IsPostBack then
       dim mycategories=New DataSet
       mycategories.ReadXml(MapPath("categories.xml"))
       categories.DataSource=mycategories
       categories.DataBind()
    end if
    end sub
</script> 
```

在做了一些研究之后，我确实找到了遇到同样问题的人，解决方案是在主页上插入#tags 作为链接的一部分（即 category-list.apsx#company1results），然后在列表页面上插入一些脚本来获取正确的xml文件：

```
<script type="text/javascript">
    var old_onload = window.onload; // Play it safe by respecting onload handlers set by other scripts.
    window.onload=function()
    {
     var categories = document.location.href.substring(document.location.href.indexOf("#")+1);
     loadXMLDoc('XML/'+categories+'.xml');
     old_onload();
    }
</script> 
```

这是来自以下链接：

[http://www.hotscripts.com/forums/javascript/45641-solved-specify-xml-file-load-when-click-link.html](http://www.hotscripts.com/forums/javascript/45641-solved-specify-xml-file-load-when-click-link.html)

我怎样才能让这两个脚本相互连接？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T10:19:47.530

使用查询字符串而不是哈希“#”更容易，因为查询字符串将在服务器端发送，因此不需要客户端 JavaScript。

所以在调用category-list.apsx?cat=company1results时，可以使用如下代码在xml文件之间切换：

```
Public Sub Page_Load()
    If Not Page.IsPostBack Then
        Dim cat As String = Request.QueryString("cat")

        Dim mycategories As DataSet = New DataSet()
        mycategories.ReadXml(MapPath(cat + ".xml"))
        categories.DataSource = mycategories
        categories.DataBind()
    End If
End Sub 
```

# mysql - mysql中的主从复制

> ID：12193944
> 
> 赞同：1
> 
> 时间：2012-08-30T09:36:37.053
> 
> 标签：mysql

我需要在 mysql 中进行主从复制。

所以我正在创建这个程序来通过程序动态更改主程序

```
delimiter //

CREATE PROCEDURE change_master( in host_ip varchar(50))

begin

stop slave;

CHANGE MASTER TO MASTER_HOST = host_ip, MASTER_PORT=3306, MASTER_USER='replication', MASTER_PASSWORD='slave';

start slave;

end;
// 
```

但我得到一个错误。

> ERROR 1064 (42000)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取在 'host_ip, MASTER_PORT=3306, MASTER_USER='replication', MASTER_PASSWORD='slave' 附近使用的正确语法；s' 在第 4 行

如果我把它留空就好了

例如。

```
CHANGE MASTER TO MASTER_HOST = '', MASTER_PORT=3306, MASTER_USER='replication', MASTER_PASSWORD='slave'; 
```

我尝试了很多次，但在这个查询中我无法使用任何变量，为什么？

如果你知道帮助我。

谢谢 。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T13:28:04.437

主机值必须用引号引起来。我认为这是不可能的，除非你使用准备好的陈述。

```
delimiter //

CREATE PROCEDURE change_master( in host_ip varchar(50))

begin

set @ssql:=concat("CHANGE MASTER TO MASTER_HOST = '",host_ip,"', MASTER_PORT=3306, MASTER_USER='replication', MASTER_PASSWORD='slave'");

stop slave;

prepare sql_stm from @ssql;
execute sql_stm;
deallocate prepare sql_stm;

start slave;

end//
delimiter ; 
```

问候！蒂内倒钩

# xmlsec - 多个XADES签名/获取原始文件

> ID：12193945
> 
> 赞同：1
> 
> 时间：2012-08-30T09:36:39.620
> 
> 标签：xmlsec, xades4j

我想问一下 xades4j 中是否存在进行多重签名的方法。

对于多个签名，我的意思不是会签，而是对同一文档的双重独立签名，生成的签名将有 2 个或更多签名对象。在实践中，签名者可以将 xml 签名文档作为输入并对其进行签名。

以其他方式，我需要一种方法将 xml 签名文件作为输入并将原始 xml 文档作为输出。

谢谢，

米歇尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-01T16:42:03.923

您描述的“多重签名”似乎特定于您的用例。作为一个库，XAdES4j 没有开箱即用的功能，但不会阻止您这样做。您只需要以适当的方式编写每个签名的引用并使用签名者两次（可能您不想将第二个签名应用于第一个签名）。

同样，没有办法获取“原始xml文档”，因为签名的资源甚至可能不是xml。这可能属于您的应用程序逻辑。

# javascript - 自定义 jquery 选择器属性未在模拟器中触发

> ID：12193947
> 
> 赞同：1
> 
> 时间：2012-08-30T09:36:49.033
> 
> 标签：javascript, jquery, backbone.js, knockout.js

实时事件未在模拟器（移动设备，选项卡）中触发，它正在浏览器中工作

```
 $("[data-bind]").live("touchstart", function(e) {    

       alert("hi");

      }); 
```

这是我的代码...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:42:21.557

您只能将选择器应用于 DOM 元素。您使用了 [数据绑定]。

像这样试试

```
$("#id").on("touchstart", function (e) {
    var data = $(this).attr('data-bind').val();
    var view = this;
    var url = $(e.currentTarget).attr('title');
    app_router.navigate(url, {
        trigger: true
    });
}); 
```

# ant - sourceforge pmd-bin-5.0.0 下载中没有规则集或 basic.xml

> ID：12193950
> 
> 赞同：0
> 
> 时间：2012-08-30T09:36:56.897
> 
> 标签：ant, pmd, sourceforge

我一直在阅读整个[PMD 网站](https://web.archive.org/web/20121030003705/http://pmd.sourceforge.net:80/howtomakearuleset.html)，它包含所有这些[引用](https://maven.apache.org/archives/maven-1.x/plugins/pmd/faq.html)， `<rule ref="rulesets/basic.xml/UnnecessaryConversionTemporary"/>`但我无法在从[sourceforge](https://sourceforge.net/projects/pmd/files/pmd/5.0.0/)`basic.xml`下载的`pmd-bin-5.0.0`or `pmd-bin-5.0-alpha`目录中找到该文件。

正如您在下面提供的屏幕转储中看到的那样，我已经对此进行了搜索，但`basic.xml`空手而归。

[![基本 XML](../Images/231e6612d617901aaf9dff497b3c5fd9.png)](https://i.stack.imgur.com/QBW1r.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/m2nxe032.pto.png)）]

在下一个屏幕截图中`pmd-bin-5.0.0`，没有名为**ruleset的文件夹**

[![pmd 目录](../Images/ac8b10417d407e72c221f73c6355d94e.png)](https://i.stack.imgur.com/EiZg2.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/tsvpb3lo.uap.png)）]

Pastebin[链接](http://pastebin.com/DGuHzxg3)到 ruleset.xml *（24 小时后过期）*

```
<property name="pmd.dir" value="${basedir}/pmd" /><!-- directory that contains pmd.jar -->
<property name="pmd.test.results" location="${build.dir}/pmd"/>
<path id="pmd.lib" >
    <fileset dir="${pmd.dir}">
        <include name="*.jar"/>
    </fileset>
</path>
<target name="pmd" depends="compile" >
     <taskdef name="pmd" classname="net.sourceforge.pmd.ant.PMDTask" classpathref="pmd.lib"/>
     <pmd shortFilenames="true">
           <ruleset>basic,imports</ruleset>
           <formatter type="text" toFile="pmd-ant-results.txt"/>
           <fileset dir="src">
                 <include name="**/*.java"/>
           </fileset>
     </pmd>
</target> 
```

执行我的 ant 脚本时，它会返回此错误

```
 [pmd] net.sourceforge.pmd.RuleSetNotFoundException: Can't find resource rulesets/basic.xml.  Make sure the resource is a valid file or URL or is on the CLASSPATH.
  BUILD FAILED
  C:\Users\Michael\Desktop\log4jassignment.s06005586\build.xml:131:      java.lang.RuntimeException: Couldn't find the class Can't find resource rulesets/basic.xml.  Make sure the resource is a valid file or URL or is on the CLASSPATH. 
```

项目浏览器

[![项目](../Images/34c420979668afbff466410af7814f40.png)](https://i.stack.imgur.com/2qaZL.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/4sx5juq0.nm0.png)）]

所以这告诉我该`basic.xml`文件不是来自该`pmd-5.0.0.jar`文件，而是实际上来自其他地方，因此我的问题是 pmd's`basic.xml`和其他必需的 xml 文件的内容是什么（我打算如何处理它们） ? 还是这些文件不存在，我是否打算自己重新创建它们（如果是，我将如何去做？）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:23:34.297

我`pmd-bin-5.0-alpha.zip`从[PMD 网站](http://pmd.sourceforge.net/howtomakearuleset.html)下载。

解压缩`pmd-bin-5.0-alpha.zip`文件后；进入`lib`目录并尝试提取`pmd-5.0-alpha.jar`.

我能够找到[以下内容](https://i.stack.imgur.com/PhkCu.png)：

![基本的.xml](../Images/d70a6835c8ab4a246c0645b66205809e.png)

# html - 无法使用 Google Chrome 显示桌面通知

> ID：12193953
> 
> 赞同：0
> 
> 时间：2012-08-30T09:37:06.240
> 
> 标签：html, google-chrome, webkit, notifications, html5-notifications

我按照[Using The Notifications API](http://www.html5rocks.com/en/tutorials/notifications/quick/)中的说明进行操作。我也遇到了很多像下面这样的问题，因为我添加了`document.querySelector()`里面的`<head>`部分：

```
Uncaught TypeError: Cannot call method 'addEventListener' of null 
```

现在我有以下来源，我可以在其中*检查 Notification Support*和*Check Notification Permissions*链接。

指导我如何以更简单的方式引入通知。另外，我试过这个：

```
$("#html").click(function() {
    if (window.webkitNotifications.checkPermission() == 0) {
        createNotificationInstance({ notificationType: 'html' });
    } else {
        window.webkitNotifications.requestPermission();
    }
}); 
```

现在我被这个来源困住了。我需要生成 HTML 和简单通知。我错过了什么吗？请指导我。

### 来源：

```
<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <title>Desktop Notifications</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript">
            function checkNotifications() {
                if (window.webkitNotifications)
                    alert("Notifications are supported!");
                else
                    alert("Notifications are not supported for this Browser/OS version yet.");
            }
            function createNotificationInstance(options) {
                if (window.webkitNotifications.checkPermission() == 0) { // 0 is PERMISSION_ALLOWED
                    if (options.notificationType == 'simple') {
                        return window.webkitNotifications.createNotification('icon.png', 'Notification Title', 'Notification content...');
                    } else if (options.notificationType == 'html') {
                        return window.webkitNotifications.createHTMLNotification('http://localhost/');
                    }
                } else {
                    window.webkitNotifications.requestPermission();
                }
            }
        </script>
        <style type="text/css">
            * {font-family: Verdana, sans-serif;}
            body {font-size: 10pt; margin: 0; padding: 0;}
            p {margin: 5px;}
            a {color: #09f; text-decoration: none;}
            a:hover {color: #f00;}
        </style>
    </head>
    <body>
        <p><strong>Desktop Notifications</strong></p>
        <p>Lets see how the notifications work in this browser.</p>
        <p>
            <a href="#" onclick="checkNotifications(); return false;">Check Notification Support</a>.
            Next <a href="#" onclick="alert('Notifications are ' + ((window.webkitNotifications.checkPermission() == 0) ? '' : 'not ') + 'allowed!'); return false;">Check Notification Permissions</a>
            and if permissions are not there,
            <a href="#" onclick="window.webkitNotifications.requestPermission(); return false;">Request Permissions</a>.
            Create a
            <a href="#" id="text">Simple Notification</a>
            or
            <a href="#" id="html">HTML Notification</a>.
        </p>
    </body>
    <script type="text/javascript">
        document.querySelector("#html").addEventListener('click', function() {
            if (window.webkitNotifications.checkPermission() == 0) {
                createNotificationInstance({ notificationType: 'html' });
            } else {
                window.webkitNotifications.requestPermission();
            }
        }, false);
        document.querySelector("#text").addEventListener('click', function() {
            if (window.webkitNotifications.checkPermission() == 0) {
                createNotificationInstance({ notificationType: 'simple' });
            } else {
                window.webkitNotifications.requestPermission();
            }
        }, false);
    </script>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T20:36:01.353

创建通知后，您需要调用`show()`它，所以不仅仅是：

```
createNotificationInstance({ notificationType: 'simple' }); 
```

你需要做：

```
var n = createNotificationInstance({ notificationType: 'simple' });
n.show(); 
```

另一件事是：在做jQuery代码的时候，把它包裹在里面

```
$(document).ready(function() {
  // ...
  // your jQuery code
  // ...
}); 
```

在头部使用 jQuery 对 DOM 执行操作时，DOM 尚未构建。 `$(document).ready`等到 DOM 构建完成，您可以轻松访问和操作它。

这是一个工作示例：http: [//jsfiddle.net/fkMA4/](http://jsfiddle.net/fkMA4/)

顺便说一句：我认为 HTML 通知已被弃用，请参见此处：[http ://www.html5rocks.com/en/tutorials/notifications/quick/?redirect_from_locale=de](http://www.html5rocks.com/en/tutorials/notifications/quick/?redirect_from_locale=de)

> 带有 HTML 内容的通知已被弃用。示例和文本已相应修改。

# css - 为什么这个vertical-align：middle在Jquery mobile中失败

> ID：12193955
> 
> 赞同：1
> 
> 时间：2012-08-30T09:37:11.053
> 
> 标签：css, jquery-mobile, vertical-alignment

我试图将一组图标放在屏幕中间，下面是代码：

```
 <div data-role="content" class="ui-content ui-body-a" style="vertical-align: middle" data-theme="a">

        <fieldset class="ui-grid-a icon-set" style="vertical-align: middle"  data-theme="b">

           <div class="ui-block-a center" style="vertical-align: middle">
               <a href="test">
                <div>
                <img src="css/images/test5.png" style="width: 80px;height: 80px"/>
                </div>
                <div>
                    Login
                </div>
                </a>

           </div>

           <div class="ui-block-b center">
                  <a href="#settings" data-transition='slide'>
                    <div>   <img src="css/images/test4.png" style="width: 80px;height: 80px"/></div>
                    <div>Settings</div>
                  </a>

           </div>

             <div class="ui-block-a center">

                  <a href="test">
                    <div>   <img src="css/images/test2.png" style="width: 80px;height: 80px"/></div>
                    <div>Aboutus</div>
                    </a>

              </div>

               <div class="ui-block-b center">

                  <a href="test">
                    <div>   <img src="css/images/test1.png" style="width: 80px;height: 80px"/></div>
                    <div>Contact Us</div>
                    </a>

           </div>

       </fieldset>
        </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:51:17.063

vertical-align does not work as most people would expect - this property is only available for tables or elements that have style of table-cell or similar ([http://www.w3schools.com/cssref/pr_class_display.asp](http://www.w3schools.com/cssref/pr_class_display.asp))

you will need to give the DIV element a default size for this to work as well... check [this JSBin example](http://jsbin.com/obapur/1/edit) and this [StackOverflow answer](https://stackoverflow.com/questions/8221973/vertical-align-text-middle-in-jquery-mobile-button) for more insight

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:00:29.413

做这个：

```
<div data-role="content" class="ui-content ui-body-a" style="text-align: center;" data-theme="a"> 
```

然后对于您想要居中的任何 div ：

```
style="margin:0 auto;" 
```

# javascript - 点按时屏幕上闪烁的黑框

> ID：12193958
> 
> 赞同：0
> 
> 时间：2012-08-30T09:37:21.950
> 
> 标签：javascript, html, touch

我正在尝试制作一个 html 游戏，其中玩家在点击屏幕或游戏中的“持有游戏的人”时投掷球或其他东西。

我一接触播放器，就会出现一个黑屏（就像播放器周围的边框一样），它会闪烁一秒钟然后消失。

我在 iPhone 和安卓手机上都注意到了这个问题。

这可能是什么问题？

编辑：添加了一些代码`chucker`。有一个图像，每当我点击它时，一个黑框会在图像周围闪烁一秒钟

```
<div id="chucker"  onclick="getId(event);"></div>

function getId(e)
{
    if(e.target.id == "game_container" || e.target.id == "chucker" )
    {
        rotateTheAngleMarker(); 
    }
} 
```

# html - 并排放置两个表 TR

> ID：12193969
> 
> 赞同：0
> 
> 时间：2012-08-30T09:38:05.297
> 
> 标签：html, css, html-table

每当我尝试将 TD 绝对定位在 TR 内时，TD 的 top: 和 left: CSS 属性会将其与页面或表格对齐作为参考，而不是其直接父级（TR 与 position:relative 集）。

[这是我的代码](http://jsfiddle.net/cbEDJ/)。（请注意，由于此问题，第一个 TR 位于结果窗口的底部）我正在尝试将 TD 与“标题”文本对齐以占用 50% 的行，而“文本”以占用剩余的 50% .

我意识到这可以通过将两个元素移动到单个 TR 中并将它们放置在两个 TD 中来完成，但是在这种情况下 HTML 代码是在服务器端生成的，所以我坚持尝试通过 CSS 来实现这一点。基本上，修改 HTML 代码不是一种选择。

 `* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:48:53.170

使用`display:inline`.

我刚刚添加`table tr {display:inline}`到您的代码中并完成了；）[演示小提琴](http://jsfiddle.net/gajjuthechamp/cbEDJ/1/)

**但真的对于布局表是邪恶的不要使用它们** [http://phrogz.net/css/WhyTablesAreBadForLayout.html](http://phrogz.net/css/WhyTablesAreBadForLayout.html)`

# mercurial - Mercurial：查找应用于文件修订的所有标签

> ID：12193972
> 
> 赞同：1
> 
> 时间：2012-08-30T09:38:11.823
> 
> 标签：mercurial

我想找出哪些标签已应用于我的 mercurial 存储库中某个版本的文件。

这在查找错误时可能很有用。然后您可能想知道哪些其他标记的发布版本也可能受到同一问题的影响。

有没有一种简单的方法可以做到这一点，还是我的想法仍然太“CVS-ish”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:58:16.043

您可以使用

```
hg log -r 'tag()' myfile.txt 
```

查看 myfile.txt 的所有标签和

```
hg log -r 'tag() and ::23' myfile.txt 
```

显示自版本 23 以来带有 myfile.txt 标记的所有提交。我想这不完全是您想要做的，但也许它朝着正确的方向发展。

# jquery - 水平平滑滚动

> ID：12193977
> 
> 赞同：1
> 
> 时间：2012-08-30T09:38:26.177
> 
> 标签：jquery, scroll, horizontal-scrolling

我正在尝试基于锚定创建平滑滚动的水平效果。即固定导航链接在点击时滚动到一个锚点（例如id="#two"）。

我已经能够使用 CSS Tricks 示例进行垂直滚动。（[http://css-tricks.com/examples/SmoothPageScroll/#](http://css-tricks.com/examples/SmoothPageScroll/#)）但不能在我的一生中将相同的平滑滚动应用于水平情况。

背景：我正在尝试创建胶片效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T09:40:58.727

您可以通过以下方式滚动：

$(....).animate({scrollLeft: ####});

您可以通过设置速度（持续时间）和缓动（动作的“风格”）来调整动画。

`offset()`您可以通过检查要滚动到的元素的 来获得要进入 scrollLeft 的数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-12-09T13:46:09.817

**面向未来读者的 2020 年更新**

我最近发布了一个跨浏览器**平滑滚动 API，它解决了这个问题**以及许多其他与平滑滚动相关的问题。

使用 API，您可以滚动到某个 X 或 Y，按一定量或 scrollIntoView 任何您想要的元素。

该 API 适用于任何元素（窗口、文档、正文、您的自定义 div、ecc...），并且**可以随时取消每个滚动！**

`uss.hrefSetup`在这种情况下，只需调用为您设置平滑滚动锚点的 API 函数即可解决问题。

如果你只想水平平滑滚动一个元素，你可以使用`uss.scrollXTo(finalXPosition, yourContainer)`or `uss.scrollXBy(deltaX, yourContainer)`。
在哪里：

*   `youContainer`是你要滚动的 DOM 元素（文档是默认的）
*   `finalXPosition`是您希望容器的左边框位于滚动动画末尾的“滚动宽度”
*   `deltaX`是您希望您的硬币容器滚动的像素数。

在这里您可以找到所有文档：[GITHUB REPO](https://github.com/CristianDavideConte/universalSmoothScroll)

# java - 在 Java 源代码中隐藏密码

> ID：12193981
> 
> 赞同：2
> 
> 时间：2012-08-30T09:38:33.867
> 
> 标签：java, security, proguard

我需要在源代码中隐藏密码，有哪些可能的方法来混淆密码以降低反编译的风险？

例如

```
final String password = "secret"; 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-30T09:42:58.693

不要打扰。

无论如何，您的普通用户将无法或愿意反编译类文件，并且当目标是单个数据时，有动力且熟练的攻击者不会因混淆而受到阻碍。所需要的只是一个这样积极且熟练的攻击者，全世界都知道密码。

如果您的安全取决于混淆密码，那么您已经输了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T09:40:42.340

**首先，我不会命名我的变量`password`。**

其次，我不会将其保留为原始格式，而是对其进行编码。

第三，我会使用 a`char[]`而不是`String`（因为字符串驻留在字符串池中）。

当然，最好的选择是根本不将其保留在代码中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T09:49:43.120

使用外部方法加密密码，该方法可用于在您的代码中解密并将密码（加密）存储在您的代码中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T09:56:09.167

使用数据库或文件来保存您的密码。这是带有示例的非常好的[帖子。](https://stackoverflow.com/questions/1132567/encrypt-password-in-configuration-files-java)但是您仍然需要在某处存储一个主密码来加密您的密码。很难保护它不被发现和滥用来解密您的密码:(。

# java-me - 显示带有不确定进度指示器的警报诺基亚 Full Touch j2me

> ID：12193984
> 
> 赞同：2
> 
> 时间：2012-08-30T09:38:49.263
> 
> 标签：java-me, spinner, nokia, midp, lcdui

有谁知道如何在 j2me 警报中显示进度条的微调器？

到目前为止，这是我的一段代码：

```
loadingDialog = new Alert("Please Wait","Please Wait.",null,AlertType.INFO);
Gauge gau = new Gauge( null, false,
            Gauge.INDEFINITE,
            Gauge.CONTINUOUS_RUNNING );

loadingDialog.setIndicator(gau);
loadingDialog.setTimeout(500000);
displays.setCurrent(loadingDialog); 
```

我得到一条水平线（如滑块）。我想要的是一个微调器来代替它。
[http://www.developer.nokia.com/Resources/Library/Full_Touch/ui-components/progress-indication.html](http://www.developer.nokia.com/Resources/Library/Full_Touch/ui-components/progress-indication.html)

链接的第二张图片（标记为非交互式仪表）是我正在寻找的：

![在此处输入图像描述](../Images/5f7ef6a531e3f7657e3cc5e642058e94.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T11:39:21.270

根据您参考的诺基亚页面以及 Gauge API javadocs（[在线提供](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Gauge.html)）给出的说明，您创建 Gauge 的方式看起来是正确的：

> `CONTINUOUS_RUNNING`
>    表示范围不定的非交互式 Gauge 的连续运行状态的值。
> ...
> `INDEFINITE`
>    用于最大值的特殊值，以指示仪表具有不确定的范围。

诺基亚页面的解释（有点模糊）表明您描述的问题的最可能原因是诺基亚仅在表单中显示微调器，而不是在警报中：

> - Java 表单中的不确定量规使用微调器。
> - 警报使用“理发店卷”（固定长度的动画条）。

测试上述假设的方法是将像你一样的 Gauge 放入`Form`而不是，`Alert`看看设备/模拟器如何显示它。

如果 Form 显示微调器，那么最直接的解决方法是使用 Form 而不是 Alert。在这种情况下，由于表单缺少 Alert 提供的“解雇”功能，您必须自己实现它 - 例如，通过使用`TimerTask`来安排表单替换之前的屏幕。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-30T10:58:38.563

呵呵，线索在你给的链接里——

> 由于布局限制，Java 警报不使用微调器。

所以这是不可能的！

# ember.js - 不想在 Ember.Collection 视图中使用任何标签（包括默认的 div 标签）

> ID：12193985
> 
> 赞同：4
> 
> 时间：2012-08-30T09:38:50.630
> 
> 标签：ember.js, handlebars.js

标题可能听起来很愚蠢，请考虑以下代码

**我的车把文件**

```
<table id="main-table">
  <tr>
    <td>
      <h1>Some Text</h1>
    </td>
    {{#collection myCollectionView}}
    <td>
      <table>
        <tr><td>{{view.someProperty}}</td></tr>
      </table>
    </td>    
    {{/collection}}
  </tr>
</table> 
```

**我的查看文件**

```
myCollectionView = Ember.CollectionView.extend({
  contentBinding: "myController.someArray",
  //someArray has say 4 elements
  itemViewClass: Ember.View.extend()
}) 
```

我希望它在#main-table 内呈现4 个表，而是将它们呈现在#main-table 之外，因为它将我包含`itemViewClass`在默认`div`标记内。我只能更改`tagName`属性但不能将其设置为 nil 我猜，这个问题有什么技巧吗？

[JSFiddle](http://jsfiddle.net/59JqD/)

**回应第一个答案** {{each}} 的问题是，我使用 EditableField 如下：（ *听起来很清楚，可编辑字段是在双击时将 div 更改为文本字段并返回 div 标签的字段专注于使用 ember 构建的简单小部件）*

**更新的车把文件**

```
<table id="main-table">
  <tr>
    <td>
      <h1>Some Text</h1>
    </td>
    {{#collection myCollectionView}}
    <td>
      <table>
        <tr><td>{{view.myEditableField valueBinding="view.content"}}</td></tr>
      </table>
    </td>    
    {{/collection}}
  </tr>
</table> 
```

**更新的视图文件**

```
myCollectionView = Ember.CollectionView.extend({
  contentBinding: "myController.someArray",
  //someArray has say 4 elements
  itemViewClass: Ember.View.extend({
    alertFunc: function(){
      alert("content did change");
    }.observes('content')
  })
}) 
```

我希望观察者在可编辑字段之一中的值发生更改时触发，以便我可以更新数据库中的记录。我们可以使用 {{each}} 助手完成这件事吗？此外，arrayContentDidChange 只会在数组长度发生变化时触发

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-11-06T15:50:41.083

可以在 Ember 视图中执行此操作

```
App.MyView = Ember.View.extend({
  tagName: ''
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-30T12:03:36.983

AFAIK，在 DOM 中没有“真实存在”的情况下不可能有 Ember.View，但是`{{each}}`如果您不想添加充当容器的视图（此处为 a `Ember.CollectionView`），则可以使用帮助程序。

设置`tagName`为`null`不起作用，[请参阅 Ember.View 源代码](https://github.com/emberjs/ember.js/blob/master/packages/ember-views/lib/views/view.js#L1287)。

模板：

```
<script type="text/x-handlebars">
    <table id="main-table">
  <tr>
    <td>
      <h1>Some Text</h1>
    </td>
    {{#each App.content}}
      <td>
        <table><tr><td>{{name}}</td></tr></table>
      </td>
    {{/each}}
  </tr>
</table>
</script>​ 
```

代码：

```
App = Ember.Application.create();
App.content = [{name: "foo"}, {name: "bar"}, {name: "baz"}]; 
```

见[这个 JSFiddle](http://jsfiddle.net/NY3s7/)。

# ios - 如何设置 UITableView 的边框样式？我希望它们是圆形的，有点斜角

> ID：12193988
> 
> 赞同：0
> 
> 时间：2012-08-30T09:39:07.107
> 
> 标签：ios

如何设置 UITableView 的边框样式？我希望它们是圆形的，有点斜面。

在屏幕截图中，您可以看到表格视图标签和 UITextField 格式（具有正确的样式）。

![在此处输入图像描述](../Images/978668fe92a27bf139bafad9aaf83e42.png)

UITableView 背景：

![在此处输入图像描述](../Images/3d6f7a08d7791544bc96e9c638a45b1f.png)

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    [tagsTableView setBackgroundColor:[UIColor clearColor]];

} 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T10:31:13.980

@Patrick 如果您想要`UITableView`圆角 as`UITextField`那么您可以`group table`通过更改 to 的样式`UITableView` `Plain`来使用视图`Group`。 ![在此处输入图像描述](../Images/77a0171f1e168b89f8afd2b71fc8bd87.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T10:45:43.257

要么使用，`UITableViewStyleGrouped`要么，如果您需要自定义更多，您可以使用每个单元格的`CALayer`（或它们的 contentView 的`CALayer`？）来添加圆角：

```
view.layer.borderWidth = 1.f;
view.layer.borderColor = [UIColor grayColor].CGColor;
view.layer.cornerRadius = 10.f;
... 
```

当然，如果您选择此解决方案，请不要忘记将 QuartzCore.framework 添加到您的项目中。

*请注意，您可以应用完全相同的原则为其`UITextField`添加圆角（而不是您已经使用的解决方案`UITextField`，无论它是什么）*

# python - 在 Python 的 IDLE 中一次向多行添加缩进

> ID：12193991
> 
> 赞同：0
> 
> 时间：2012-08-30T09:39:18.267
> 
> 标签：python, indentation, python-idle

我已经写了很多行代码，现在改变了我对缩进的想法。（我想将所有这些行放入一个“while”循环中。）

对于每一行，我可以按空格键或制表符，但这需要很长时间。

我可以一次为所有这些行添加适当的缩进/边距吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T10:14:42.270

在[Sublime Text](http://www.sublimetext.com/)中，突出显示文本并按`TAB`（或`SHIFT`+`TAB`执行相反的操作，即删除一级缩进）。*这与在每一行的开头添加一个选项卡的作用相同。*

这些快捷方式在其他几个文本编辑器中是相同的，例如 Notepad++、Eclipse 甚至 Word。

其他编辑器可能会在 IDLE（和 Sublime Text）中使用不同/附加的快捷方式，例如`CTL`+`]`或`CTL`+ `[`）。

# iphone - 如何在相机屏幕上的指定点获取像素的 RGB 值？

> ID：12193992
> 
> 赞同：2
> 
> 时间：2012-08-30T09:39:18.577
> 
> 标签：iphone, ios

我想在 RGB 方面获取相机屏幕上指定点的颜色值（不捕获）。

我有以下代码片段，但它给出了视图背景颜色的值，而不是相机屏幕上的图片。

```
CGPoint point=CGPointMake(100,200);
unsigned char pixel[4] = {0};
CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
CGContextRef context = CGBitmapContextCreate(pixel, 1, 1, 8, 4, colorSpace, kCGImageAlphaPremultipliedLast);

CGContextTranslateCTM(context, -point.x, -point.y);
[self.view.layer renderInContext:context];

CGContextRelease(context);
CGColorSpaceRelease(colorSpace);

NSLog(@"pixel: R=%d G=%d B=%d Alpha=%d", pixel[0], pixel[1], pixel[2], pixel[3]); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-02T17:12:54.163

假设您想实时执行此操作（而不是使用您明确表示*不*想要的屏幕截图）：

您首先需要捕获**[Apple 在此处概述](http://developer.apple.com/library/ios/#qa/qa1702/_index.html)**的视频缓冲区。

然后你可以用`CMSampleBufferRef`. Apple 的示例应用程序会生成 a `UIImage`，但您可以简单地将其复制到`unsigned char`指针中（通过 a`CVImageBufferRef`或`CVPixelBufferRef`），然后提取相关像素的 BGRA 值，如下所示（未经测试的代码：示例适用于 100x,200y 的像素） ：

```
int x = 100;
int y = 200;
CVPixelBufferRef imageBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);
CVPixelBufferLockBaseAddress(imageBuffer,0);
tempAddress = (uint8_t *)CVPixelBufferGetBaseAddress(imageBuffer);
size_t bytesPerRow = CVPixelBufferGetBytesPerRow(imageBuffer);
size_t width = CVPixelBufferGetWidth(imageBuffer);
size_t height = CVPixelBufferGetHeight(imageBuffer);
CVPixelBufferUnlockBaseAddress(imageBuffer,0);
int bufferSize = bytesPerRow * height;
uint8_t *myPixelBuf = malloc(bufferSize);
memmove(myPixelBuf, tempAddress, bufferSize);
tempAddress = nil;
// remember it's BGRA data
int b = myPixelBuf[(x*4)+(y*bytesPerRow)];
int g = myPixelBuf[((x*4)+(y*bytesPerRow))+1];
int r = myPixelBuf[((x*4)+(y*bytesPerRow))+2];
free(myPixelBuf);
NSLog(@"r:%i g:%i b:%i",r,g,b); 
```

这会获取相对于视频源本身的像素的位置，这可能不是您想要的：如果您希望像素的位置显示在 iPhone 的显示屏上，您可能需要对其进行缩放。

# c# - FlowLayoutPanel 的问题

> ID：12193993
> 
> 赞同：2
> 
> 时间：2012-08-30T09:39:22.277
> 
> 标签：c#, winforms

我想在 . 这些带有图像的图片框内列出列表，`PictureBox`这些`FlowLayoutPanel`图片框是在运行时动态添加的。现在我遇到的问题是，我必须在面板中添加更多的图片框，当我这样做时，最后的图片框似乎丢失了，尽管看起来这些图像的空间已经分配。那么我该如何克服这个问题问题。

```
panel1.Controls.Clear();
        Point NewLocation = new System.Drawing.Point(0, 0);
        int CurrentImgIndex = 0;
        foreach (ScannedImages image in Global.ScannedReportList[0].ImageCollection)
        {
            panel1.SuspendLayout();
            PictureBox pbTemp = new PictureBox();
            pbTemp.BackColor = System.Drawing.Color.Transparent;
            pbTemp.Location = NewLocation;
            pbTemp.Name = "picImage";
            pbTemp.Size = new System.Drawing.Size(757*2, 980*2);
            pbTemp.SizeMode = System.Windows.Forms.PictureBoxSizeMode.StretchImage;
            pbTemp.TabIndex = 7;
            pbTemp.TabStop = false;
            pbTemp.Tag = CurrentImgIndex + 1;
            pbTemp.DragDrop += new System.Windows.Forms.DragEventHandler(this.PbTemp_DragDrop);
            pbTemp.DragOver += new System.Windows.Forms.DragEventHandler(this.PbTemp_DragOver);

            pbTemp.Click += new EventHandler(this.pbTemp_Click);

            try
            {
                //pm
                Image img = Global.ScannedReportList[0].ImageCollection[CurrentImgIndex].GetImageObject();

                txtCurrentPage.Text = (CurrentImageIndex + 1).ToString();

                //pm image
                RotateAngle = Global.ScannedReportList[0].ImageCollection[CurrentImgIndex].RotationAngle;
                //drpGroupTool.SelectedIndex = Global.ScannedReportList[0].ImageCollection[CurrentImgIndex].DocumentGroup;
                switch (RotateAngle)
                {
                    case 90:
                        img.RotateFlip(RotateFlipType.Rotate90FlipNone);
                        break;
                    case 180:
                        img.RotateFlip(RotateFlipType.Rotate180FlipNone);
                        break;
                    case 270:
                        img.RotateFlip(RotateFlipType.Rotate270FlipNone);
                        break;
                }
                //pm

                m_szOriginal = img.Size;
                pbTemp.Image = img;
                if (Brightness != 0)
                    pbTemp.Image = AdjustBrightness(new Bitmap(pbTemp.Image), Brightness);

                if (Contrast != 0)
                    pbTemp.Image = AdjustContrast1(new Bitmap(pbTemp.Image), Contrast);
                panel1.Controls.Add(pbTemp);
                panel1.ResumeLayout();

                this.panel1.PerformLayout();
                this.panel1.Refresh();
                //pm
                if (RotateAngle == 90 || RotateAngle == 270)
                {
                    NewLocation.Y += img.Width;
                }
                else if (RotateAngle == 0 || RotateAngle == 180)
                {
                    NewLocation.Y += img.Height;
                }
                //
                CurrentImgIndex++;
                this.Refresh();
                index[CurrentImgIndex] = CurrentImgIndex + 1;
            }
            catch
            {
                pbTemp.Image = null;
            } 
```

# java - 使用正则表达式查找一组+JAVA

> ID：12193997
> 
> 赞同：0
> 
> 时间：2012-08-30T09:39:29.007
> 
> 标签：java, regex, string

我有一个程序，我想在开头过滤一组“+”的字符串。例如：

```
+++Adam is working very well. 
++Adam is working well. 
+Adam is doing OK. 
```

我如何只选择每个特定案例（即只有一个加号，只有两个加号，只有三个加号）？我通常会返回以 + 开头的任何内容。

我编译了以下正则表达式模式，但我要么只得到一个回报（通常是两个 ++），要么得到所有回报：

```
public static String regexpluschar = "^\\Q+\\E{1}[\\w <]";
public static String regexpluspluschar = "^\\Q+\\E{2}[\\w <]";
public static String regexpluspluspluschar = "^\\Q+\\E{3}[\\w <]";
Pattern plusplusplus = Pattern.compile(regexpluspluspluschar);
Pattern plusplus = Pattern.compile(regexpluspluschar);
Pattern plus = Pattern.compile(regexpluschar); 
```

然后我尝试使用 Matcher 类进行查找 - 我使用了 .find() 和 .matches() 但没有得到我想要的结果（此处为 java+regex newbie alert）。

```
Matcher matcherplusplusplus = plusplusplus.matcher(check);
Matcher matcherplusplus = plusplus.matcher(check);
Matcher matcherplus = plus.matcher(check);

//OK we have 3+'s
if ((matcherplusplusplus.find())==true){
System.out.println("Filtering 3 +s.");
System.out.println("filter is " + filter + " in the 3 + filter.");
String toChange = getItem(i);
setItemFiltered(i, toChange);
}

//OK - we have 2 +'s
if ((matcherplusplus.find())==true){
System.out.println("Filtering 2 +s.");
System.out.println("filter is " + filter + " in the 2 + filter.");
String toChange = getItem(i);
setItemFiltered(i, toChange);   
}

//OK - we have 1 +'s
if ((matcherplus.find())==true){
System.out.println("Filtering 1 +.");
System.out.println("filter is " + filter + " in the 1 + filter.");
String toChange = getItem(i);
setItemFiltered(i, toChange);   
} 
```

对于非常好奇的人，上面的 if 嵌入在一个循环中，该循环围绕一些 JTextFields 循环。完整代码在： http: [//pastebin.ca/2199327](http://pastebin.ca/2199327)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:46:30.440

为什么不更简单：

```
public static String regexpluschar = "^\\+[\\w <]";
public static String regexpluspluschar = "^\\+{2}[\\w <]";
public static String regexpluspluspluschar = "^\\+{3}[\\w <]"; 
```

甚至

```
public static String regexpluschar = "^\\+[^\\+]";
public static String regexpluspluschar = "^\\+{2}[^\\+]";
public static String regexpluspluspluschar = "^\\+{3}[^\\+]"; 
```

* * *

**编辑**：它正在我的测试程序上工作，但我不得不删除你的特定代码：

```
String toChange = getItem(i);
setItemFiltered(i, toChange); 
```

证明：我的输出是：

```
Filtering 3 +s.
+++Adam is working very well.  is in the 3 + filter.
Filtering 2 +s.
++Adam is working well.  is in the 2 + filter.
Filtering 1 +.
+Adam is doing OK.  is in the 1 + filter. 
```

您的过滤器正在工作，但您的特定代码可能无法...（也许看看`setItemFiltered`？）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T10:00:33.267

我在想这样的事情会更容易：

```
public static void main(String[] args) {
    Pattern pattern = Pattern.compile("^(\\+{1,3}).*");

    Matcher matcher = pattern.matcher(<your text>);
    if (matcher.matches()) {
        String pluses = matcher.group(1);
        switch (pluses.length()) {

        }
    }

} 
```

* * *

如果您想确定`++++This is insane`不匹配，则将模式更改为

```
Pattern pattern = Pattern.compile("^(\\+{1,3})[^+].*"); 
```