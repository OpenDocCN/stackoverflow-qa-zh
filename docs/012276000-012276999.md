# StackOverflow 问答 12276000-12276999

# php - 如何在没有用户交互的情况下使用 Google Analytics API 作为 Web 应用程序登录屏幕并允许访问提示？

> ID：12276000
> 
> 赞同：3
> 
> 时间：2012-09-05T06:53:42.830
> 
> 标签：php, google-analytics, google-analytics-api

我正在开发一个服务器端应用程序来使用 PHP 从我的 Google Analytics 帐户中提取数据。我已在 Google API 控制台中将我的应用程序注册为 Web 应用程序。我想使用终端/命令提示符运行这个应用程序。要在终端/命令提示符上运行此应用程序，我想摆脱登录屏幕并允许访问提示。

不幸的是，我不知道如何摆脱登录屏幕和允许访问提示。我已更改`approval_prompt`为，`auto`但我仍然收到新会话的允许访问提示。

在没有用户交互的情况下运行此应用程序需要进行哪些更改以登录屏幕和允许访问提示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T19:02:55.290

您是否尝试过用于 Google Analytics 的 YQL 表？

[https://github.com/yql/yql-tables/blob/master/google/google.analytics.xml](https://github.com/yql/yql-tables/blob/master/google/google.analytics.xml)

# git - 查找未合并的 Git 分支？

> ID：12276001
> 
> 赞同：311
> 
> 时间：2012-09-05T06:53:44.993
> 
> 标签：git, git-merge, branching-and-merging

我有一个包含许多分支的 Git 存储库，其中一些已经合并，有些没有。由于分支的数量很大，如何确定哪些分支尚未合并？我想避免必须进行“章鱼”合并和重新合并已经合并的分支。

* * *

## 回答 #1

> 赞同：519
> 
> 时间：2012-09-05T06:57:15.193

尝试这个：

```
git branch --merged master 
```

它按照它在罐子上所说的做（列出已合并到的分支`master`）。您还可以使用以下方法提取逆：

```
git branch --no-merged master 
```

如果您不指定`master`，例如..

```
git branch --merged 
```

然后它将向您显示已合并到当前的分支`HEAD`（因此，如果您在`master`，则相当于第一个命令；如果您在`foo`，则相当于`git branch --merged foo`）。

您还可以通过指定`-r`标志和要检查的 ref 来比较上游分支，可以是本地的或远程的：

```
git branch -r --no-merged origin/master 
```

* * *

## 回答 #2

> 赞同：63
> 
> 时间：2014-04-22T16:32:29.687

您还可以使用该`-r`参数显示未合并到 master 的远程分支：

```
git branch -r --merged master

git branch -r --no-merged 
```

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2012-09-05T06:57:36.903

**如果一个分支已经合并，再次合并它不会做任何事情。**所以你不必担心“重新合并”已经合并的分支。

要回答您的问题，您可以简单地发出

```
 git branch --merged 
```

查看合并的分支或

```
 git branch --no-merged 
```

查看未合并的分支。您当前的分支是隐含的，但您可以根据需要指定其他分支。

```
 git branch --no-merged integration 
```

将向您显示尚未合并到分支中的`integration`分支。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-13T12:26:36.283

下面的脚本将找到`origin/*`当前分支之前的所有分支

```
#!/bin/bash

CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD)

echo -e "Current branch: \e[94m$CURRENT_BRANCH\e[0m"
echo ''

git branch -a | grep remotes/origin/ | while read LINE
do
    CMD="git diff --shortstat remotes/origin/${CURRENT_BRANCH}...${LINE}"

    if $CMD | grep ' file' > /dev/null; then
        echo -e "\e[93m$LINE\e[0m" | sed 's/remotes\/origin\///'
        $CMD
        echo ''
    fi
done 
```

[脚本的最新版本](https://gist.github.com/moldcraft/ea2acd4c87ad6248496f3ab9c47f9f20)

# java - 如何更改 AlertDialog 中的蓝线（Holo 主题）

> ID：12276004
> 
> 赞同：7
> 
> 时间：2012-09-05T06:53:58.413
> 
> 标签：java, android

我想更改 AlertDialog （ Holo Theme ）中的蓝色标题和蓝线的颜色，我可以通过查看 android styles.xml 和 theme.xml 来更改标题的颜色，但我找不到任何属性或样式我可以使用/更改来更改我的 XML 的颜色。

以下是我用来更改标题颜色的样式

```
<style name="myAlertDialog" parent="android:Theme.Holo.Dialog">
    <item name="android:windowBackground">@android:color/transparent</item>
    <item name="android:windowTitleStyle">@style/myAlertDialogTitleStyle</item>
</style>

<style name="myAlertDialogTitleStyle">
    <item name="android:maxLines">1</item>
    <item name="android:scrollHorizontally">true</item>
    <item name="android:textAppearance">@style/myAlertDialogTitleStyleTextAppearance</item>
</style>

<style name="myAlertDialogTitleStyleTextAppearance">
    <item name="android:textSize">22sp</item>
    <item name="android:textColor">#ffff8800</item>
</style> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-26T11:14:05.763

经过一番修修补补，我想出了一种在显示对话框时重新命名对话框的方法：

```
private AlertDialog showWithThemeColors() {
    Log.d(TAG, "showWithThemeColors()");
    AlertDialog dialog = this.builder.show();
    try {
        ViewGroup decorView = (ViewGroup) dialog.getWindow().getDecorView();
        FrameLayout windowContentView = (FrameLayout) decorView.getChildAt(0);
        FrameLayout contentView = (FrameLayout) windowContentView.getChildAt(0);
        LinearLayout parentPanel = (LinearLayout) contentView.getChildAt(0);
        LinearLayout topPanel = (LinearLayout) parentPanel.getChildAt(0);
        View titleDivider = topPanel.getChildAt(2);
        LinearLayout titleTemplate = (LinearLayout) topPanel.getChildAt(1);
        TextView alertTitle = (TextView) titleTemplate.getChildAt(1);

        int textColor = this.context.getResources().getColor(R.color.customer_text_on_primary);
        alertTitle.setTextColor(textColor);

        int primaryColor = this.context.getResources().getColor(R.color.customer_primary);
        titleDivider.setBackgroundColor(primaryColor);
    } catch (Exception e) {
        Log.e(TAG, "showWithThemeColors() - Could not re-brand dialog with theme colors.", e);
    }

    return dialog;
} 
```

请注意，此解决方案可能会在对话框的基础系统布局发生更改时中断。然而，它是具有这种解决方案所有优点的原始系统对话框。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-05T07:27:18.330

**编辑：**我原来的答案弄错了。

不幸**的是，用于对话框的样式是内部的，不能**以与其他一些易于操作的全息元素相同的方式使用。[我已经创建了一个开源项目，用于在非常简单的情况下处理此问题](https://github.com/danoz73/QustomDialog)（我希望将其扩展并使其更加合法）。这是一个新答案的链接，该答案更深入地解决了这个问题：[如何更改 AlertDialog 标题的颜色及其下方线条的颜色](https://stackoverflow.com/questions/14439538/how-can-i-change-the-color-of-alertdialog-title-and-the-color-of-the-line-under/15285514#15285514)

* * *

对于后代，这是我天真的旧答案：

看看[这里发布的答案](https://stackoverflow.com/questions/12171209/change-the-line-color-used-in-listseparatortextviewstyle/12172490#12172490)。对于您的特定目标，您将希望覆盖`dialogTitleDecorLayout`样式（**我认为！**）而不是`listSeparatorTextViewStyle`样式。

如果你好奇这个最初是在哪里设置的，你可以在你电脑上的 android sdk 文件夹中的themes.xml 文件中翻找并搜索`dialogTitleDecorLayout`属性。这应该会引导您进入一个`dialog_title_holo`布局文件，该文件也应该在您的计算机上。您应该在布局中找到以下代码：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical"
android:fitsSystemWindows="true">
  <TextView android:id="@android:id/title" style="?android:attr/windowTitleStyle"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:minHeight="60dip"
    android:paddingLeft="32dip"
    android:paddingRight="32dip"
    android:gravity="center_vertical|left" />
  <ImageView android:id="@+id/titleDivider"
        android:layout_width="match_parent"
        android:layout_height="4dip"
        android:scaleType="fitXY"
        android:gravity="fill_horizontal"
        android:paddingLeft="16dip"
        android:paddingRight="16dip"
        android:src="@android:drawable/divider_strong_holo" />
  <FrameLayout
    android:layout_width="match_parent" android:layout_height="wrap_content"
    android:layout_weight="1"
    android:orientation="vertical"
    android:foreground="?android:attr/windowContentOverlay">
    <FrameLayout android:id="@android:id/content"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />
  </FrameLayout>
</LinearLayout> 
```

注意的代码是`@android:drawable/divider_strong_holo`参考。此文件也存在于您的计算机上，它应该是蓝色的 9patch。您将需要创建一个类似的不同颜色的 9patch。祝你好运！即使这不是完全正确的属性，我认为您也看到了您可能需要在这里做的事情......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-12T19:45:26.347

有一个库可以为您的所有对话框执行此操作：

[https://github.com/inmite/android-styled-dialogs](https://github.com/inmite/android-styled-dialogs)

# android - 启动平板电脑时 Webview URL 重定向/更改

> ID：12276005
> 
> 赞同：1
> 
> 时间：2012-09-05T06:54:02.560
> 
> 标签：android, android-webview, android-websettings, yahoo-search

我在我的应用程序中使用 webview 并使用代码提供硬编码的 URL。一切都运行良好，但是当我在 10.1" 平板电脑上测试它时遇到了一件事情。我提供的 URL 在手机上运行良好，但在平板电脑上它会将自身重定向到 URL 的桌面版本。

知道如何防止这种情况发生。我正在使用这个网址：[http ://search.yahoo.com/mobile/s?submit=oneSearch&.intl=us&.lang=en&.tsrc=yahoo&.sep=fp&x=0&y=0&p=bike](http://search.yahoo.com/mobile/s?submit=oneSearch&.intl=us&.lang=en&.tsrc=yahoo&.sep=fp&x=0&y=0&p=bike)

我在 URL 中特别提到了移动设备，但它仍在重定向。任何的想法..？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:01:56.397

为了处理重定向，您需要使用[WebViewClient](http://developer.android.com/reference/android/webkit/WebViewClient.html)

然后重写 **shouldOverrideUrlLoading**方法。

**“当即将在当前 WebView 中加载新的 url 时，让主机应用程序有机会接管控制权。如果未提供 WebViewClient，默认情况下 WebView 将要求 Activity Manager 为 url 选择正确的处理程序。如果 WebViewClient提供，return true 表示宿主应用程序处理 url，而 return false 表示当前 WebView 处理 url。"**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:04:59.053

需要使用webview客户端

```
 WebView   web = (WebView) findViewById(R.id.webView1);  
        web.loadUrl(myurl.trim());
    web.setWebViewClient(new HelloWebViewClient());

private class HelloWebViewClient extends WebViewClient  
{

    @Override
    public void onPageStarted(WebView view, String url, Bitmap favicon) {
        // TODO Auto-generated method stub
        super.onPageStarted(view, url, favicon);        
        Log.i(General.TAG,Tag+"Page Loading is Started...");
        web.setVisibility(View.GONE);
        pbr.setVisibility(View.VISIBLE);

    }       

    @Override
    public boolean shouldOverrideUrlLoading(WebView  view, String url)
    {           
    view.loadUrl(url);  
    return true;            
    }

    @Override
    public void onPageFinished(WebView view, String url) {
        // TODO Auto-generated method stub
        super.onPageFinished(view, url);            
        Log.i(General.TAG,Tag+"Page Loading is Finished");

        web.setVisibility(View.VISIBLE);
        pbr.setVisibility(View.GONE);
        web.requestFocus();
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:08:36.040

@Eldhose M Babu 和@ankitmakwana：我用过它，但我不确定其中缺少什么。我已附上代码，请查看并指导我：

`mWebview.setWebViewClient(new WebViewClient() {`

```
 @Override
        public void onPageStarted(WebView view, String url, Bitmap favicon) {
            // TODO Auto-generated method stub
            super.onPageStarted(view, url, favicon);

            mWebview.setVisibility(View.GONE);

        }

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            view.loadUrl(url);
            return true;
        }

        @Override
        public void onPageFinished(WebView view, String url) {
            // TODO Auto-generated method stub
            super.onPageFinished(view, url);

            mWebview.setVisibility(View.VISIBLE);

            mWebview.requestFocus();
        }

        public void onLoadResource(WebView view, String url) {
            mWebview.loadUrl("javascript:(function() { "
                    + "document.getElementsByTagName('header')[0].style.display = 'none'; "
                    + "})()");

            mWebview.loadUrl("javascript:(function() { "
                    + "document.getElementsByTagName('footer')[0].style.display = 'none'; "
                    + "})()");

            mWebview.loadUrl("javascript:(function() { "
                    + "document.getElementsByTagName('section').search_again.style.display = 'none'; "
                    + "})()");
        }
    });

    mWebview.loadUrl("http://search.yahoo.com/mobile/s?submit=oneSearch&.intl=us&.lang=en&.tsrc=yahoo&.sep=fp&x=0&y=0&p=bike");
    setContentView(mWebview); 
```

# asp.net-mvc-3 - 自定义错误消息不适用于 asp net mvc 3 中的 DateTime 验证

> ID：12276013
> 
> 赞同：3
> 
> 时间：2012-09-05T06:54:31.383
> 
> 标签：asp.net-mvc-3, validation

我有一个带有 String 属性和以下 Data Annotation 的 ViewModel ：

**编辑以使用字符串**

```
[DataType(DataType.Date, ErrorMessage="Not Working !!!")]
public String StringBirthDate1 { get; set; } 
```

这就是我的看法

```
@Html.EditorFor(model => model.StringBirthDate1 )
@Html.ValidationMessageFor(model => model.StringBirthDate1) 
```

如果我运行我的应用程序并输入一个无效的日期，例如 '---' 或 29.02.1900，我不会收到任何验证错误！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T08:58:50.517

好的，我已经放弃尝试使用内置的 MVC 工具进行数据验证！

我做了一个自定义验证属性：

```
public class ValidDateStringAttribute : ValidationAttribute
{
    public override bool IsValid(object value)
    {
        DateTime dtout;
        if (DateTime.TryParse(value.ToString(), out dtout ))
        {
            return true;
        }
        return false;
    }
} 
```

这是我用自定义属性装饰的视图模型：

```
[ValidDateString(ErrorMessage="Invalid date format")]
public String BirthDate1 { get; set; } 
```

奇迹般有效 ：-）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:31:27.480

在我看来， [DataType(DataType.Date, ErrorMessage="Not Working !!!")] 当它附加到字符串属性时工作。尝试使用：

```
[DataType(DataType.Date, ErrorMessage="Not Working !!!")]
puplic string StringBirthDate1{get;set;}

public DateTime BirthDate1 
{ 
    get{return DateTime.Parse(StringBirthDate1);} 
    set{StringBirthDate1 = value.ToString();} 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-13T20:20:27.267

我不喜欢我找到的任何解决方案，所以我一直在探索各种可能性，直到找到我喜欢的解决方案。我使用本文中的正则表达式添加了一个正则表达式验证器：http: [//answers.oreilly.com/topic/226-how-to-validate-traditional-date-formats-with-regular-expressions/](http://answers.oreilly.com/topic/226-how-to-validate-traditional-date-formats-with-regular-expressions/)

```
 [Required(ErrorMessage = "Birthdate is required. [MM/DD/YYYY]")]
    [RegularExpression(@"^([1-9]|0[1-9]|1[0-2])[- / .]([1-9]|0[1-9]|1[0-9]|2[0-9]|3[0-1])[- / .](1[9][0-9][0-9]|2[0][0-9][0-9])$", ErrorMessage = "Birthdate must be in MM/DD/YYYY format.")]
    public Nullable<DateTime> Birthdate { get; set; } 
```

结果是，如果该字段为空白，我会收到所需的错误消息，如果该字段中有任何内容，但它不是有效日期，我会收到正则表达式消息。

我可能会补充一点，[DataType] 不接受错误消息似乎很愚蠢。我尝试与该线程的原始作者完全一样。那将是合乎逻辑和直观的。

# java - 在返回语句中使用泛型

> ID：12276019
> 
> 赞同：4
> 
> 时间：2012-09-05T06:55:20.033
> 
> 标签：java

考虑代码：

```
public List<Products> listProducts(){

    ...

    return (List<Products>) query.list(); // returning a list containing Products objects
    } 
```

**在方法返回类型**中使用泛型始终是首选，因为：

```
public List<Products> listProducts(){
...
} 
```

1）但是在**返回语句**中使用泛型**更好**吗？

 **作为：

```
return (List<Products>) query.list(); 
```

2）在 return 语句中使用简单的**List**有什么危害：

```
return (List) query.list(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T07:08:28.867

不会有任何问题，禁止一些关于原始类型的编译器警告。如果您的基础类型不一致，可能会发生一些有趣的事情。假设这种情况：

```
public static ArrayList<String> foo() {
    ArrayList<String> arrlist = new ArrayList<String>();        
    arrlist.add("asdf");
    return arrlist;
}

public static List<Integer> bar() {
    return (List)foo();
}

public static void main(String[] args) {

    List<Integer> list = bar();     
    System.out.println(list.get(0).doubleValue());
} 
```

导致运行时异常：

> 线程“主”java.lang.ClassCastException 中的异常：java.lang.String 无法在 test.Test.main(Test.java:13) 处转换​​为 java.lang.Integer

现在，如果您使用的是：

```
public static List<Integer> bar() {
    return (List<Integer>)foo();
} 
```

编译器会抱怨：

```
Type mismatch: cannot convert from ArrayList<String> to List<Integer> 
```

**结论**：使用泛型总是一个好主意，因为它可以为您节省一些运行时的麻烦。**

# dependency-injection - 什么是控制反转机制中的 Unity 容器？

> ID：12276020
> 
> 赞同：0
> 
> 时间：2012-09-05T06:55:25.290
> 
> 标签：dependency-injection, inversion-of-control, unity-container, containers

控制反转和依赖容器，这些都很清楚。我们通过 Unity 容器创建依赖，下面是代码：

```
 public ModuleB(IUnityContainer container, IRegionManager regionManager)
    {
        Container = container;
        RegionManager = regionManager;
    }
    public IUnityContainer Container { get; private set; } 
```

在我们的应用程序中使用它时，我们实际上还做了什么？它是否也控制某些身份验证机制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:56:11.803

不要直接使用容器。您应该使用它来创建您的服务/存储库等。

> 它是否也控制某些身份验证机制？

不，它只是用来控制你的对象和它们的生命周期。

我写了 IoC 简介：http: [//www.codeproject.com/Articles/386164/Get-injected-into-the-world-of-inverted-dependenci](http://www.codeproject.com/Articles/386164/Get-injected-into-the-world-of-inverted-dependenci)

还有一篇包含大量使用示例的文章：http: [//www.codeproject.com/Articles/440665/Having-fun-with-Griffin-Container](http://www.codeproject.com/Articles/440665/Having-fun-with-Griffin-Container)（为我的容器编写，但所有容器的基础知识都相同）

# phantomjs - PhantomJS 和 jquery 屏幕抓取 - 无输出

> ID：12276022
> 
> 赞同：2
> 
> 时间：2012-09-05T06:55:30.997
> 
> 标签：phantomjs

我正在尝试使用 phantom js 进行屏幕抓取。

我已经从这个站点复制了一些 phantomjs 代码：http: [//snippets.aktagon.com/snippets/534-How-to-scrape-web-pages-with-PhantomJS-and-jQuery](http://snippets.aktagon.com/snippets/534-How-to-scrape-web-pages-with-PhantomJS-and-jQuery)

从该脚本开始，我已修改为：http: [//jsfiddle.net/dqfTa/](http://jsfiddle.net/dqfTa/)（参见 javascript）

我的目标是将网站的价格（“.price”标签的内部 html ）收集到一个 javascript 数组中。现在我正在尝试将它们 console.log() 到我的屏幕上。

我正在通过 ubuntu 12.04 控制台运行 phantomjs v1.6 和 jquery v1.8。我将用户代理设置为“iPhone”。

这是我的输出：

```
nwo@aws-chaos-us-w-1:~/sandbox$ phantomjs  usingjqueryandphantom.js
hello
success
============================================
Step "0"
============================================ 
```

它永远不会超过第 0 步。看看我的代码，我做了一个 `console.log("h1");`但它不会输出它。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-26T00:40:42.800

Phantomjs 要求您挂钩来自其页面上下文的控制台输出。从[API 参考](https://github.com/ariya/phantomjs/wiki/API-Reference)：

> 当网页上有 JavaScript 控制台消息时调用此回调。回调最多可以接受三个参数：消息的字符串、行号和源标识符。
> 
> 默认情况下，不会显示来自网页的控制台消息。使用此回调是重定向它的典型方法。

```
page.onConsoleMessage = function(msg) {
    console.log("This message came from the webpage: "+ msg);
}; 
```

# mysql - MySQL SELECT 不为空时

> ID：12276023
> 
> 赞同：0
> 
> 时间：2012-09-05T06:55:40.180
> 
> 标签：mysql, multiple-tables

我正在尝试查询正在使用 3 个表的位置。第一个，table1，用于存储 table2 和 table3 的 id 值以及其他一些数据。在某些情况下，table2 或 table3 中的任何一个中都没有存储值，有些情况涉及其中一个，有些涉及两者。

问题是当 table2 或 table3 中没有值时，SQL 会尝试查找 NULL 值，如下所示：

```
SELECT table1.id, table2value, table3value
FROM table1, table2, table3
WHERE table1value1 = table2.id AND table1value2 = table3.id; 
```

因此，在此查询中，如果 table1value1 或 table1value2 为 NULL，则查询将不起作用，因为它显然不是有效链接。所以我想知道如何只找到存在的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T06:57:47.467

改为使用`INNER JOIN`。它将表与所有表中现有数据的条件连接在一起。否则将不会返回该行。

```
SELECT table1.id, table2.value, table3.value
FROM table1
INNER JOIN table2
ON table1.value1 = table2.id
INNER JOIN table3
ON table1.value2 = table3.id; 
```

* * *

但是，如果您只需要这 2 行之一具有现有数据，您可以这样做：

```
SELECT table1.id, table2.value, table3.value
FROM table1
LEFT JOIN table2
ON table1.value1 = table2.id
LEFT JOIN table3
ON table1.value2 = table3.id;
WHERE table2.id IS NOT NULL OR table3.id IS NOT NULL 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T06:57:47.380

下面的查询将仅返回所有 3 个表中存在值的匹配行。

```
SELECT table1.id, table2value, table3value
FROM table1 inner join table2 on  table1value1 = table2.id
inner join table3 on table1value2 = table3.id; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T06:58:29.687

我认为您需要使用`INNER JOIN`, 并且根据定义，`INNER JOIN`当两个表中至少有一个匹配项时，关键字返回行。

```
SELECT table1.id, table2.value, table3.value
FROM   table1 
          INNER JOIN table2
             ON table1.value1 = table2.id
          INNER JOIN table3
             ON table1.value2 = table3.id; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T06:58:37.907

尝试这个：

```
SELECT table1.id, 
       table2value,
       table3value
FROM   table1
JOIN   table2
ON     table1value1 = table2.id
JOIN   table3
ON     table1value2 = table3.id; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-05T06:58:44.600

[INNER JOIN](http://dev.mysql.com/doc/refman/5.0/en/join.html)怎么样

```
SELECT table1.id, table2value, table3value
FROM table1 INNER JOIN table2 ON table1.value1 = table2.id, 
INNER JOIN table3 ON table1.value2 = table3.id; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-05T06:59:53.567

你应该使用`INNER JOIN`.

```
SELECT table1.id, table2value, table3value
FROM table1 
    INNER JOIN table2 ON table1value1 = table2.id
    INNER JOIN table3 ON table1value2 = table3.id; 
```

# kinect - 使用 kinect 增强现实

> ID：12276026
> 
> 赞同：0
> 
> 时间：2012-09-05T06:55:48.387
> 
> 标签：kinect

我正在使用 windows SDK 在 kinect 上做一个项目。我正在尝试使用以下代码在骨架肩上显示图像。**

## **Xaml 代码**

```
<Canvas Margin="250,0,0,0" Visibility="{Binding Path=Showcamera, Converter={StaticResource BVC}}" Background="Green" HorizontalAlignment="Stretch" VerticalAlignment="Top" Grid.Column="1" Grid.Row="1">

        <Image MaxHeight="600" MaxWidth="950" x:Name="PART_KinectVideo"  Visibility="{Binding Path=Showcamera, Converter={StaticResource BVC}}"  />
        <Canvas>
        <Image  RenderOptions.BitmapScalingMode="HighQuality" Visibility="{Binding Path=Showcamera, Converter={StaticResource BVC}}"
            RenderOptions.EdgeMode="Aliased"  Canvas.Top="60" Canvas.Left="350"  Stretch="Uniform" x:Name="Jewel"/>
        </Canvas> 
```

## **代码背后**

```
var j1p = nui.MapSkeletonPointToDepth(closestSkeleton.Joints[JointType.ShoulderLeft].Position,DepthImageFormat.Resolution640x480Fps30);

 Canvas.SetLeft(Jewel, j1p.X+90);
 Canvas.SetTop(Jewel, j1p.Y-280); 
```

通过获取 j1p 值，我试图为 Jewel 图像对象设置画布的左侧和顶部位置。

**代码的问题是：**

这没有正确放置图像。当用户在屏幕中移动时，图像也会随着用户的移动而以左右方向移出身体。

即使用户向右或向左移动，我也需要将图像设置为该位置。
我应该如何更改代码或者是否有任何示例可用于将图像设置在 kinect 关节的特定位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:28:12.187

也许试试这个：

```
var left = (double)image.GetValue(Canvas.LeftProperty)
left += 90;
image.SetValue(Canvas.LeftProperty, left); 
```

我使用该代码编写了一个应用程序，一切对我来说都很好:)

# android - 如何正确返回父活动？

> ID：12276027
> 
> 赞同：184
> 
> 时间：2012-09-05T06:55:47.557
> 
> 标签：android, android-intent, android-activity, parent

我的 android 应用程序中有 2 个活动（A 和 B），我使用意图从活动 A 到活动 B。启用了 parent_activity 的使用：

```
 <activity
        android:name=".B"
        android:label="B" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="com.example.app_name.A" />
  </activity> 
```

我还使用了一个提供向上按钮的主题。

因此，在我调用活动 BI 后，可以使用向上按钮返回活动 A。问题是应用程序似乎再次调用活动 A 的*onCreate()*函数，这不是我需要的行为。我需要活动 A 看起来与调用活动 B 之前的外观相同。

有没有办法做到这一点？

### 编辑

我没有编写任何代码来从活动 A 启动活动 B。我认为它是由 Eclipse 自动生成的。

B类看起来像：

```
 @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_b);
    getActionBar().setDisplayHomeAsUpEnabled(true);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_b, menu);
    return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case android.R.id.home:
            NavUtils.navigateUpFromSameTask(this);
            return true;
    }
    return super.onOptionsItemSelected(item);
} 
```

* * *

## 回答 #1

> 赞同：345
> 
> 时间：2013-04-10T18:43:43.667

`launchMode`您在 Android 清单中使用标准声明了活动 A。根据[文档](https://developer.android.com/guide/topics/manifest/activity-element.html#lmode)，这意味着以下内容：

> 系统总是在目标任务中创建一个新的活动实例并将意图路由到它。

`onCreate`因此，即使任务堆栈被正确处理，系统也被迫重新创建活动A（即调用）。

要解决此问题，您需要更改清单，将以下属性添加到 A 活动声明：

```
android:launchMode="singleTop" 
```

*注意：***只有**当您*完全确定*要终止的活动 B 实例位于活动 A 的实例之上时，调用`finish()`（如之前的解决方案所建议的那样）才有效。在更复杂的工作流中（例如，从通知启动活动 B）情况可能并非如此，您必须从 B 正确启动活动 A。

 **** * *

## 回答 #2

> 赞同：83
> 
> 时间：2012-09-05T07:00:39.633

**更新答案：向上导航设计**

您必须声明哪个活动是每个活动的适当父项。这样做允许系统促进导航模式，例如向上，因为系统可以从清单文件中确定逻辑父活动。

因此，您必须在标签 Activity 中使用属性声明您的父 Activity

`android:parentActivityName`

像，

```
<!-- The main/home activity (it has no parent activity) -->
    <activity
        android:name="com.example.app_name.A" ...>
        ...
    </activity>
    <!-- A child of the main activity -->
    <activity
        android:name=".B"
        android:label="B"
        android:parentActivityName="com.example.app_name.A" >
        <!-- Parent activity meta-data to support 4.0 and lower -->
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="com.example.app_name.A" />
    </activity> 
```

以这种方式声明的父活动，您可以向上导航到适当的父活动，如下所示，

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    // Respond to the action bar's Up/Home button
    case android.R.id.home:
        NavUtils.navigateUpFromSameTask(this);
        return true;
    }
    return super.onOptionsItemSelected(item);
} 
```

因此，当您调用`NavUtils.navigateUpFromSameTask(this);`此方法时，它会完成当前活动并启动（或恢复）适当的父活动。如果目标父活动在任务的后台堆栈中，则按照`FLAG_ACTIVITY_CLEAR_TOP`.

要显示向上按钮，您必须声明`setDisplayHomeAsUpEnabled():`

```
@Override
public void onCreate(Bundle savedInstanceState) {
    ...
    getActionBar().setDisplayHomeAsUpEnabled(true);
} 
```

**旧答案：（没有向上导航，默认返回导航）**

仅当您从 Activity B 再次启动 Activity A 时才会发生这种情况。

使用`startActivity()`.

而不是从 Activity A 开始 Activity B 使用并在 Activity A 中`startActivityForResult()`覆盖。`onActivtyResult()`

现在在活动 B 中只需调用`finish()`按钮向上。因此，现在您在`onActivityResult()`没有再次创建活动 A 的情况下定向到活动 A..

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2013-03-17T10:29:09.540

我的设置几乎相同，导致相同的不良行为。对我来说，这很有效：将以下属性添加到`Manifest.xml`我的应用程序中的活动 A 中：

```
android:launchMode="singleTask" 
```

有关更多说明，请参阅[本文](http://www.peachpit.com/articles/article.aspx?p=1874864)。

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2016-02-13T16:13:12.153

虽然是一个老问题，但这是另一个（恕我直言，最干净和最好的）解决方案，因为我从**Widget深层链接了****Activity B** ，所以以前的所有答案都对我不起作用。

 **```
public void navigateUp() {
final Intent upIntent = NavUtils.getParentActivityIntent(this);
if (NavUtils.shouldUpRecreateTask(this, upIntent) || isTaskRoot()) {
    Log.v(logTag, "Recreate back stack");
        TaskStackBuilder.create(this).addNextIntentWithParentStack(upIntent).startActivities();
  } else {
    NavUtils.navigateUpTo(this, upIntent);
  }
} 
```

[ [https://stackoverflow.com/a/31350642/570168](https://stackoverflow.com/a/31350642/570168) ]

但也请参阅：[https ://speakerdeck.com/jgilfelt/this-way-up-implementing-effective-navigation-on-android](https://speakerdeck.com/jgilfelt/this-way-up-implementing-effective-navigation-on-android)

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2013-09-22T14:50:45.800

实现此目的的更好方法是使用两件事：调用：

```
NavUtils.navigateUpFromSameTask(this); 
```

现在，为了让它工作，你需要让你的清单文件声明活动 A 有一个父活动 B。父活动不需要任何东西。在版本 4 及更高版本中，您无需额外努力即可获得一个漂亮的后退箭头（这可以在较低版本上完成，只需少量代码，我将放在下面）您可以在 manifest->application 选项卡中设置此数据在 GUI 中（向下滚动到父活动名称，然后手动输入）

支持节点：

如果您希望支持低于版本 4 的版本，则还需要包含元数据。右键单击活动，添加->元数据，名称 =android.support.PARENT_ACTIVITY 和值 = your.full.activity.name

在较低版本中获得漂亮的箭头：

```
getSupportActionBar().setDisplayHomeAsUpEnabled(true); 
```

请注意，您需要支持库版本 7 才能使这一切正常工作，但这是非常值得的！

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2017-07-28T10:22:21.300

对我有用的是添加：

```
 @Override
    public boolean onOptionsItemSelected(MenuItem item) {

        switch (item.getItemId()) {
            case android.R.id.home:
                onBackPressed();
                return true;
            default:
                return super.onOptionsItemSelected(item);
        }
    }

    @Override
    public void onBackPressed() {
        finish();
    } 
```

到`TheRelevantActivity.java`现在它按预期工作

是的，别忘了添加：

`getSupportActionbar.setDisplayHomeAsUpEnabled(true);`在`onCreate()`方法中

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2015-03-04T08:20:04.490

我试过`android:launchMode="singleTask"`了，但没有帮助。为我工作`android:launchMode="singleInstance"`

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2016-03-22T19:13:57.123

添加到@LorenCK的答案，改变

```
NavUtils.navigateUpFromSameTask(this); 
```

如果您的活动可以从另一个活动启动，并且这可以成为其他应用程序启动的任务的一部分，请转到下面的代码

```
Intent upIntent = NavUtils.getParentActivityIntent(this);
if (NavUtils.shouldUpRecreateTask(this, upIntent)) {
    TaskStackBuilder.create(this)
            .addNextIntentWithParentStack(upIntent)
            .startActivities();
} else {
    NavUtils.navigateUpTo(this, upIntent);
} 
```

这将启动一个新任务并启动您的 Activity 的父 Activity，您可以在 Manifest 中定义如下 Min SDK version <= 15

```
<meta-data
        android:name="android.support.PARENT_ACTIVITY"
        android:value="com.example.app_name.A" /> 
```

或使用`parentActivityName`> 15

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2014-10-29T16:27:51.287

我在使用带有错误父活动名称的 android 5.0 时遇到了类似的问题

```
<activity
        android:name=".DisplayMessageActivity"
        android:label="@string/title_activity_display_message"
        android:parentActivityName=".MainActivity" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="com.example.myfirstapp.MainActivity" />
    </activity> 
```

我从父活动名称中删除了 com.example.myfirstapp 并且它工作正常

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2016-05-28T07:39:41.103

在 Java 类中：-

```
 toolbar = (Toolbar) findViewById(R.id.apptool_bar);
    setSupportActionBar(toolbar);

    getSupportActionBar().setTitle("Snapdeal");

    getSupportActionBar().setHomeButtonEnabled(true);
    getSupportActionBar().setDisplayHomeAsUpEnabled(true); 
```

在清单中：-

```
<activity
            android:name=".SubActivity"
            android:label="@string/title_activity_sub"
            android:theme="@style/AppTheme" >
            <meta-data android:name="android.support.PARENT_ACTIVITY" android:value=".MainActivity"></meta-data>
    </activity> 
```

它会帮助你

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2014-03-08T06:11:18.943

使用属性添加到您的活动清单信息

```
android:launchMode="singleTask" 
```

对我来说效果很好

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2013-09-29T05:43:05.283

试试这个：

```
Intent intent;
@Override
public void onCreate(Bundle savedInstanceState) {
    intent = getIntent();   
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_b);
    getActionBar().setDisplayHomeAsUpEnabled(true);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_b, menu);
    return true;
}  

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case android.R.id.home:
            NavUtils.navigateUpTo(this,intent);
            return true;
    }
    return super.onOptionsItemSelected(item);
} 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2017-08-05T10:54:15.847

```
 @Override
public boolean onOptionsItemSelected(MenuItem item) {
   switch (item.getItemId()) {
// Respond to the action bar's Up/Home button
    case android.R.id.home:
        finish();
        return true;
}
return super.onOptionsItemSelected(item); 
```

像背压机

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2016-02-18T23:47:16.877

进入我的清单并添加`android:launchMode="singleTop"`到活动中为我做了诀窍。

这特别解决了我的问题，因为我不希望 Android 在点击`Up`工具栏中的按钮后创建上一个活动的新实例——我想在向上导航层次结构时使用上一个活动的现有实例。

参考：[android:launchMode](https://developer.android.com/guide/topics/manifest/activity-element.html#lmode)

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-04-23T12:29:37.707

试试这个解决方案，使用 NavUtils.navigateUpFromSameTask(this); 在子活动中： [https ://stackoverflow.com/a/49980835/7308789](https://stackoverflow.com/a/49980835/7308789)*****

# asp.net-mvc - 如何从 asp.net MVC 4 应用程序中的 FileResult 方法返回错误消息？

> ID：12276044
> 
> 赞同：10
> 
> 时间：2012-09-05T06:57:18.650
> 
> 标签：asp.net-mvc, fileresult

我在 asp.net mvc4 中有一个 fileresult 方法，它在 excel 文件中返回报告。现在，如果不满足我的条件，我如何从该方法返回错误消息！因为我们只能从这个方法返回一个文件？！谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-05T07:01:49.163

您可以将动作方法的签名更改为`public ActionResult MyMethod()`并返回`FileResult`何时`ModelState.IsValid==true`和`ViewResult`何时`ModelState.IsValid==false`

# node.js - NodeJS + Express：如何保护 URL

> ID：12276046
> 
> 赞同：29
> 
> 时间：2012-09-05T06:57:24.130
> 
> 标签：node.js, authentication, login, express, middleware

我正在使用最新版本的 NodeJS 和 ExpressJS（用于 MVC）。

我通常像这样配置我的休息路径，例如：

```
app.get('/archive', routes.archive); 
```

现在我希望我`/admin/*`的一组 URL 得到保护，我的意思是我只需要简单的身份验证，这只是一个草稿。

例如，当用户尝试访问时`/admin/posts`，在向他发送相应的视图和数据之前，我会检查 req.session.authenticated。如果没有定义，我会重定向到登录页面。

登录页面有一个简单的验证表单和一个登录控制器方法：如果用户确实发送了“正确的用户”和“正确的密码”，我设置了会话变量并且他通过了身份验证。

我发现困难或不明白的是如何在每个 /admin/* 路径调用之前实际制作**“过滤器”**代码，我的意思是，身份验证检查。

这与“中间件”表达功能有关吗？

谢谢

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2012-09-05T07:05:05.963

是的，中间件正是你想要的。中间件函数只是一个与任何其他 Express 路由处理程序一样工作的函数，除了它在您的实际路由处理程序之前运行。例如，您可以执行以下操作：

```
function requireLogin(req, res, next) {
  if (req.session.loggedIn) {
    next(); // allow the next route to run
  } else {
    // require the user to log in
    res.redirect("/login"); // or render a form, etc.
  }
}

// Automatically apply the `requireLogin` middleware to all
// routes starting with `/admin`
app.all("/admin/*", requireLogin, function(req, res, next) {
  next(); // if the middleware allowed us to get here,
          // just move on to the next route handler
});

app.get("/admin/posts", function(req, res) {
  // if we got here, the `app.all` call above has already
  // ensured that the user is logged in
}); 
```

您可以将要保护的*每个*路由指定`requireLogin`为中间件，而不是使用调用 with ，但按照我在此处显示的方式进行操作可确保您不会意外忘记将其添加到以 开头的任何页面。*`app.all``/admin/*``/admin`*

 ** * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-09-08T10:14:52.047

更简单的方法是在 App.js 文件中添加以下代码。

```
var auth = function(req, res, next) {

    if(isAdmin) {

        return next();

    } else {

        return res.status(400)

    }
};

app.use('/admin', auth, apiDecrement); 
```

如您所见，中间件已附加到路由。在 ExpressJS 继续之前，它会执行您作为第二个参数传递的函数。

使用此解决方案，您可以在将站点显示给最终用户之前进行不同的检查。

最好的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T08:58:09.557

喜欢布兰登，但你也可以走这`connect`条路

```
app.use('/admin', requireLogin)
app.use(app.router)

app.get('/admin/posts', /* middleware */) 
```*

# zedgraph - 如何使用鼠标事件在 Zedgraph 图形之外滚动轴刻度

> ID：12276051
> 
> 赞同：0
> 
> 时间：2012-09-05T06:57:36.467
> 
> 标签：zedgraph

是否可以使用鼠标事件“mouse_down 并按住”来缩放图形外的轴比例，并在 y 轴上向上或向下移动与 x 轴向左或向右移动相同？前任。当我触发 MouseDownEvent 并保持 x 轴刻度 0.6 或与该刻度一起保持空间并将其向右移动时，刻度应该滚动取决于图表分数吗？你能发布一个例子吗？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-15T19:34:10.657

可以使用 ZedGraph 的鼠标事件分别平移和缩放 Y 轴：、、和`MouseDownEvent`事件`MouseMoveEvent`（感谢我的同事）。`MouseUpEvent``MouseWheel`

它适用于多个 GraphPanes 和多个 Y 轴。

`MouseMoveEvent`用于在按下按钮时移动鼠标时移动 Y 轴的最小值和最大值。如果不是，则用于获取鼠标悬停在 Y 轴对象上的参考。

`MouseDownEvent`用于启动轴平移操作。

`MouseWheel`用于在 Y 轴上执行缩放。

并且`MouseUpEvent`用于在缩放和平移操作完成时清理东西。

这是代码：

```
// The axis that is currently hovered by the mouse
YAxis hoveredYAxis;

// The graphpane that contains the axis
GraphPane foundPane;

// The scale of the axis before it is panned
double movedYAxisMin;
double movedYAxisMax;

// The Y on the axis when the panning operation is starting
float movedYAxisStartY;

void z_MouseWheel(object sender, MouseEventArgs e)
{
    if (hoveredYAxis != null)
    {
        var direction = e.Delta < 1 ? -.05f : .05f;
        var increment = direction * (hoveredYAxis.Scale.Max - hoveredYAxis.Scale.Min);
        var newMin = hoveredYAxis.Scale.Min + increment;
        var newMax = hoveredYAxis.Scale.Max - increment;

        hoveredYAxis.Scale.Min = newMin;
        hoveredYAxis.Scale.Max = newMax;

        foundPane.AxisChange();

        z.Invalidate();
    }
}

bool z_MouseUpEvent(ZedGraphControl sender, MouseEventArgs e)
{
    hoveredYAxis = null;
    return false;
}

bool z_MouseMoveEvent(ZedGraphControl sender, MouseEventArgs e)
{
    var pt = e.Location;

    if (e.Button == System.Windows.Forms.MouseButtons.Left)
    {
        if (hoveredYAxis != null)
        {
            var yOffset = hoveredYAxis.Scale.ReverseTransform(pt.Y) - hoveredYAxis.Scale.ReverseTransform(movedYAxisStartY);
            hoveredYAxis.Scale.Min = movedYAxisMin - yOffset;
            hoveredYAxis.Scale.Max = movedYAxisMax - yOffset;

            sender.Invalidate();
            return true;
        }
    }
    else
    {
        var foundObject = findZedGraphObject(null);
        hoveredYAxis = foundObject as YAxis;

        if (hoveredYAxis != null)
        {
            z.Cursor = Cursors.SizeNS;
            return true;
        }
        else
        {
            if (z.IsShowPointValues)
            {
                z.Cursor = Cursors.Cross;
                return false;
            }
            else
            {
                z.Cursor = Cursors.Default;
                return true;
            }
        }
    }

    return false;
}

bool z_MouseDownEvent(ZedGraphControl sender, MouseEventArgs e)
{
    if (e.Button == System.Windows.Forms.MouseButtons.Left)
    {
        if (hoveredYAxis != null)
        {
            movedYAxisStartY = e.Location.Y;
            movedYAxisMin = hoveredYAxis.Scale.Min;
            movedYAxisMax = hoveredYAxis.Scale.Max;
            return true;
        }
    }

    return false;
} 
```

这是一个帮助器，它对 ZedGraph 的对象查找操作进行了一些分解。

```
object findZedGraphObject(GraphPane pane = null)
{
    var pt = zgc.PointToClient(Control.MousePosition);

    if (pane == null)
    {
        foundPane = zgc.MasterPane.FindPane(pt);
        if (foundPane != null)
        {
            object foundObject;
            int forget;

            using (var g = zgc.CreateGraphics())
                if (foundPane.FindNearestObject(pt, g, out foundObject, out forget))
                    return foundObject;
        }
    }

    return null;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T12:46:53.160

你想创建一个滚动条吗？

```
 zedGraphControl1.IsShowHScrollbar = true;
//Set borders for the scale
zedGraphControl1.GraphPane.XAxis.Scale.Max = Xmax;
zedGraphControl1.GraphPane.XAxis.Scale.Min = Xmin; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T16:49:35.250

如果我正确理解了您的问题，这是我的回答：

zedgraph 有一个名为“Pan”的内置函数，您可以更改 x 和 y 轴的比例。

> 将光标放在“图表区域”内按住“ctrl”按钮并将鼠标移向 x 和 y 方向以更改比例。

您可以通过“Un-Pan”（上下文菜单）恢复原始状态

干杯..：）

# oracle - 带有 to_timestamp 的 jpa NamedQuery 不起作用

> ID：12276054
> 
> 赞同：1
> 
> 时间：2012-09-05T06:57:47.747
> 
> 标签：oracle, jpa, eclipselink, toplink, named-query

首先感谢您帮助我，并为我的英语感到抱歉。

当我尝试执行此查询时遇到问题，表中的所有列都是 varchars2，我需要将它们与时间戳进行比较。

这是我的查询：

```
SELECT 
    c 
FROM 
    CustodiaTable c 
WHERE 
    c.ctrPro = :ctrPro 
    and TO_TIMESTAMP (c.fecInicio,'DD/MM/YYYY/HH24:MI:SS.FF') >= TO_TIMESTAMP (:fecInicio,'DD/MM/YYYY/HH24:MI:SS.FF') 
```

fecInicio 是一个`varchar2`.

我发现的一种解决方案是使用本机查询，但我也需要他所有的儿子。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T13:36:43.633

EclipseLink 是 TopLink 的 JPA 提供者，并且支持此处描述的 FUNC 和 FUNCTION： [http ://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Support_for_Native_Database_Functions#FUNC](http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Support_for_Native_Database_Functions#FUNC)

这可以让您在 JPQL 中指定本地函数，例如 to_timestamp。您还应该能够使用本机 SQL 返回对象及其引用，使用 em.createNativeQuery(sqlString, CstodiaTable.class).getResultList();

# ios - 如何在动态创建的 texfield 中为滚动视图设置内容偏移量？

> ID：12276055
> 
> 赞同：0
> 
> 时间：2012-09-05T06:57:47.123
> 
> 标签：ios, uiscrollview

我已经在滚动视图中放置了动态创建的文本字段。我需要为滚动视图设置 contentOffset。在 textfield shouldbegin Editing 中，我给出了滚动视图。如果我遍历完成按钮，它工作正常。但是在中间，如果我点击任何文本字段，该文本字段就会上升，并且我看不到该文本字段。它显示下一个字段偏移量，但光标位于正确的文本字段中。我的代码是

```
 -(BOOL)textFieldShouldBeginEditing:(UITextField *)textField 
```

{

```
if(enteredHealthyHeart)
{
    for(int i=0;i<[healthyHeart_TxtFldAry count];i++)
    {
        if(textField == [healthyHeart_TxtFldAry objectAtIndex:i])
        {
            getHHTag=textField.tag;
            NSLog(@"getHHTag %i",getHHTag);
            UITextField *tempTxtFld=[healthyHeart_TxtFldAry objectAtIndex:getHHTag];

            if(i<([healthyHeart_TxtFldAry count]-1))
            {
                int j =tempTxtFld.frame.origin.y;

                healthyHeartScrollView.contentOffset=CGPointMake(0 , j);

                NSLog(@"j>>>>>%i",j);
            }
            if(i==([healthyHeart_TxtFldAry count]-1))
            {
                healthyHeartScrollView.contentOffset=CGPointMake(0 ,tempTxtFld.frame.origin.y);

            }

            [tempTxtFld resignFirstResponder];

            return YES;

        }
    }

} 
```

}

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:17:20.687

首先为每个 UITextField 添加标签；

```
-(BOOL)textFieldShouldBeginEditing:(UITextField *)textField
{
    //Take reference of all UITextField u added let say u have 3;
    UITextField *txt = (UItextField *)[self.view viewWithTag:99];
    UITextField *txt1 = (UItextField *)[self.view viewWithTag:199];
    UITextField *txt2 = (UItextField *)[self.view viewWithTag:299];

    if(textField == txt)
    {
       [txt1 resignFirstResponder];
       [txt2 resignFirstResponder];
       //required scroll view offset here
    }
    if(textField == txt1)
    {
       [txt resignFirstResponder];
       [txt2 resignFirstResponder];
       //required scroll view offset here
    }
    if(textField == txt2)
    {
       [txt resignFirstResponder];
       [txt1 resignFirstResponder];
       //required scroll view offset here
    }
    return YES;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:27:20.533

`scrollview.contentOffset`是内容视图从原始滚动视图偏移的点。在你的代码中

```
healthyHeartScrollView.contentOffset=CGPointMake(0 ,tempTxtFld.frame.origin.y); 
```

已`tempTxtFld`超出 的内容视图`healthyHeartScrollView`。这使得`tempTxtFld.frame.orgin.y`相对于 contentview 为负数`healthyHeartScrollView`。所以你看不到。

附言。我真的不知道你想做什么。-_-

# ruby - 更好的分配和检查结果的方法

> ID：12276056
> 
> 赞同：0
> 
> 时间：2012-09-05T06:57:48.423
> 
> 标签：ruby

我必须使用 String.scan 函数，如果没有匹配则返回空数组。

我想用扫描函数分配一个变量并检查它是否匹配，但不幸的是我不能这样做，因为它不会在不匹配时返回 nil 或 false 。

我想这样做（1行）：

```
if ip = str.scan(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/)
  ...
  #use ip
end 
```

但因为它不会在没有匹配的情况下返回 nil 我必须这样做：

```
ip_match = str.scan(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/)
unless ip_match.empty?
  #use ip
end 
```

有没有更优雅的方式来写这个——能够同时进行赋值和空检查，或者其他方式来美化代码？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:03:07.880

由于 scan 返回一个数组，即使您确定只有一个结果，您也可以这样做。

```
str.scan(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/).each do |ip|
  #use ip
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:09:18.380

优雅和神秘或“简洁”之间是有区别的。

在 Perl 中，您经常会看到人们编写的内容相当于：

```
if (!(ip = str.scan(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/)).empty?) 
```

它更简洁、简洁、紧凑，随便你怎么称呼它。`=`由于（相等）与通常应该是相等测试的内容，它还会导致维护问题。如果将代码传递给不了解逻辑的人，他们可能会错误地“纠正”该代码，然后破坏代码。

在 Ruby 中，由于维护问题，在条件测试中不使用 equate 是惯用的，而是在测试之后使用赋值。这是更清晰的代码。

就个人而言，我不喜欢`unless`在那种情况下使用。是否`unless`有助于生成更易理解的代码，这是一个持续的讨论；我更喜欢`if (!ip_match.empty?)`它，因为它读起来更像我们通常谈话的内容——我很少`unless`在谈话中开始陈述。您的里程可能会有所不同。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T07:34:23.277

`String`我最好使用助手做这样的事情[`match`](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-match)

```
ip_validator = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/

# match return nil if no match

if str.match ip_validator 
  # blah blah blah.....
end 
```

帮助我保持代码干燥和清洁。可能这不是最优雅的，如果有的话寻找其他人:)

您的 ip_validator 正则表达式似乎是一周检查一下[Rails 3: Validate IP String](https://stackoverflow.com/questions/3756184/rails-3-validate-ip-string)

# java - 替换之前的Java字符串IndexOf？

> ID：12276057
> 
> 赞同：2
> 
> 时间：2012-09-05T06:57:53.950
> 
> 标签：java, string, replace, indexof

只是想知道，就性能而言，如果我们想替换输出字符串中可能存在或不存在于输入字符串中的某些字符，我们应该使用 > 0 的索引检查字符串中是否存在字符序列，或者我们可以直接调用String替换函数。

谢谢， 瓦巴夫

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T07:00:10.600

检查的成本是内置在替换的成本中的，所以直接使用替换就可以了。

此外，它是一种优化，所以你甚至不应该考虑这样的编码，除非你能*证明*那行代码存在严重的性能问题。编译器、JDK 和 JVM 非常智能——足够智能，您不必担心这类事情。

# c# - 幻灯片不工作

> ID：12276074
> 
> 赞同：-3
> 
> 时间：2012-09-05T06:58:52.170
> 
> 标签：c#, jquery, asp.net, slide

我今天花了 > 8 个小时来制作我的幻灯片，但不幸的是它没有工作。它只显示 4 个静态图像。为什么它不起作用？谁能告诉我？这是我的代码。

```
asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">

  <style type="text/css" media="screen">
        .slides_container {
            width:570px;
            height:270px;
        }
        .slides_container div {
            width:570px;
            height:270px;
            display:block;
        }
    </style>

    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="slides.js"></script>

    <script>
        $(function() {
            $("#slides").slides({
                preload: true
            });
        });
    </script>
   .........................
 <div id="slides">
        <div class="slides_container">

<div> <img src= "folder/6.jpg" /></div>
<div><img src="folder/7.jpg" /></div>
<div><img src="folder/extreme.jpg" /></div>
<div><img src="folder/alza.jpg" /></div>
</div>     
</div> 
```

知道我问题的人，请帮助我。感谢。祝你周二愉快：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:22:27.967

我假设您使用[**SlideJS**](http://slidesjs.com/)？如果我是正确的 - 看看这个演示代码 - 这对我有用

```
<style type="text/css" media="screen">
    .slides_container
    {
        width: 570px;
        height: 270px;
    }
    .slides_container div
    {
        width: 570px;
        height: 270px;
        display: block;
    }
</style>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<!-- downloaded from SlideJS and put it in a js folder -->
<script src="js/slides.min.jquery.js"></script> 
<script>
    $(function () {
        $("#slides").slides({
            preload: true
        });
    });
</script>
<div id="slides">
    <div class="slides_container">
        <div>
            <img src="pic/1.jpg" /></div>
        <div>
            <img src="pic/2.jpg" /></div>
        <div>
            <img src="pic/3.jpg" /></div>
        <div>
            <img src="pic/4.jpg" /></div>
    </div>
</div> 
```

# java - Java 正则表达式行为

> ID：12276079
> 
> 赞同：1
> 
> 时间：2012-09-05T06:59:20.933
> 
> 标签：java, regex

我正在尝试应用以下模式：

```
Pattern p = Pattern.compile(".*?");
Matcher m = p.matcher("RAJ");
StringBuffer sb = new StringBufffer();
while(m.find()) {
 m.appendReplacement(sb, "L");
}
m.appendTail(sb); 
```

预期输出：LLL 实际输出：LRLALJL

上述正则表达式中的 Dot(.) 是否匹配字符之间的位置？如果不是，为什么会收到上述输出

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T07:07:09.010

匹配任意数量的`.*?`字符，但尽可能少地匹配整个正则表达式（`?`使得`*` [不情愿](http://docs.oracle.com/javase/tutorial/essential/regex/quant.html#difs)（也称为惰性））。由于在正则表达式之后没有任何内容，因此它将始终匹配空字符串（也就是字符*之间*的位置）。

如果您希望至少匹配一个字符，请尝试`.+?`. 请注意，这与正`.` **则**表达式中没有其他内容相同。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-05T07:10:50.207

你可以这样做：

```
String s = "RAJ";
s = s.replaceAll(".","L");                                                                                                                                                                                  
System.out.println(s); 
```

您可以使用 Matcher 和 find 方法来完成，但 replaceAll 接受正则表达式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T07:09:37.477

不是`.`字符之间的匹配，而是`*`意味着0或更多，并且`?`意味着尽可能少。
因此，“零个或多个事物，并且尽可能少”将**始终**匹配零个事物，因为这是可能的最少的事物，如果它后面没有表达式正在寻找的其他事物。

`.{1}`将导致输出，`LLL`因为它匹配任何一次。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:10:45.087

正`*`则表达式中的`.*?`表示没有或更多重复。如果您想匹配至少一个字符，请使用 regex `.+?`。

# android - Android：我们可以在不使用 BaseAdapter 的情况下使用对象的 ArrayList 加载列表视图吗

> ID：12276081
> 
> 赞同：2
> 
> 时间：2012-09-05T06:59:25.037
> 
> 标签：android, listview

我有一个 ListView，它应该填充对象的 ArrayList。

```
ArrayList<BrowserClass> playListArr = new ArrayList<BrowserClass>(); 
```

这是浏览器类：

```
public class BrowserClass{
    String musicName = null;
    int musicId = 0;

    BrowserClass(String Name, int Id)
    {
        musicName = Name;
        musicId = Id;
    }

    public String getName()
    {
        return musicName;
    }

    public int getId()
    {
        return musicId;
    }

} 
```

为了填充 ListView 我正在使用以下代码：

```
ArrayAdapter<BrowserClass> plAdapter = new ArrayAdapter<BrowserClass>(this, android.R.layout.simple_list_item_1, playListArr);
myListView.setAdapter(plAdapter); 
```

但是 listView 显示了一些垃圾值。我只需要显示名称（浏览器类中的getname（））。我可以使用自定义列表视图、BaseAdapter 来实现这一点。但我想在不使用 BaseAdapter 的情况下实现它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:08:11.567

像这样 ：

**产品.java**

```
public class Product {
private int id;
private String name;
private double price;

public Product(){
    super();
}

public Product(int id, String name, double price) {
    super();
    this.id = id;
    this.name = name;
    this.price = price;
}

@Override
public String toString() {
    return this.id + ". " + this.name + " [$" + this.price + "]";
}
} 
```

**主要活动**

```
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    ListView listView1 = (ListView) findViewById(R.id.listView1);

    Product[] items = { 
        new Product(1, "Milk", 21.50), 
        new Product(2, "Butter", 15.99), 
        new Product(3, "Yogurt", 14.90), 
        new Product(4, "Toothpaste", 7.99), 
        new Product(5, "Ice Cream", 10.00), 
    };

    ArrayAdapter<Product> adapter = new ArrayAdapter<Product>(this,
                android.R.layout.simple_list_item_1, items);

    listView1.setAdapter(adapter);
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:09:10.067

如果您希望适配器按原样工作，您应该覆盖 BrowserClass 类中的 toString() 方法。适配器将使用它来填充列表视图，并且默认的 toString() 方法使用对象的内存位置。

[toString()](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html#toString%28%29)方法是存在于所有 Java 对象中的通用方法。ArrayAdapter 的默认行为是在一行文本中显示对象。将对象转换为文本的通用方法是 toString 方法。默认情况下，这会返回类似“MyClass@0x1D2EF5512”（内存中对象的类名和位置）的内容。

当重写 toString() 方法时，你告诉 java 你的对象如何显示为字符串。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:54:02.173

您不能`ArrayList`用于适配器构造函数。首先，您需要将 ArrayList 项复制到数组，然后将这个新创建的数组传递给 Adapter 构造函数。

如何将 ArrayList 项复制到 Array

```
ArrayList.toArray(Array); 
```

然后使用 Array 作为适配器构造函数。

希望你明白我想解释什么。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-20T21:30:11.557

这是一个使用简单列表的示例：

```
Class File:

    public class Name{
        public Integer id;
        public String text;

        public Name() {
        }

        public Name(int id, String text) {
            this.id = id;
            this.text = text;
        }

        public String toString() 
        {
            return this.text;
        }
    }

Activity File:

    @Override
    protected void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        listView1 = (ListView)findViewById(R.id.listview1);
        editsearch = (SearchView) findViewById(R.id.search1);

        editsearch.setOnQueryTextListener(this);

        List<Name> list = new List<Name>();
        list.add(new Name(1, "a1"));
        list.add(new Name(2, "a2"));
        list.add(new Name(3, "a3"));

        ArrayAdapter<Name> adapter = new ArrayAdapter<Name>(this,
                android.R.layout.simple_list_item_1, list );

        listView1.setAdapter(adapter);
    } 
```

# mysql - 如何使用 MySQL 对连续范围进行分组

> ID：12276087
> 
> 赞同：7
> 
> 时间：2012-09-05T06:59:52.527
> 
> 标签：mysql, gaps-and-islands, date-range

我有一个包含类别、日期和费率的表格。每个类别在不同日期可以有不同的费率，一个类别在给定日期只能有一个费率。

```
Id        CatId    Date        Rate 
------  ------   ------------   ---------
000001      12   2009-07-07     1
000002      12   2009-07-08     1
000003      12   2009-07-09     1
000004      12   2009-07-10     2
000005      12   2009-07-15     1
000006      12   2009-07-16     1
000007      13   2009-07-08     1
000008      13   2009-07-09     1
000009      14   2009-07-07     2
000010      14   2009-07-08     1
000010      14   2009-07-10     1 
```

唯一索引（catid、日期、速率）我希望每个类别对所有连续日期范围进行分组，并仅保留范围的开始和结束。对于前面的示例，我们将有：

```
CatId    Begin          End            Rate 
------   ------------   ------------   ---------
12        2009-07-07    2009-07-09     1
12        2009-07-10    2009-07-10     2
12        2009-07-15    2009-07-16     1  
13        2009-07-08    2009-07-09     1  
14        2009-07-07    2009-07-07     2
14        2009-07-08    2009-07-08     1
14        2009-07-10    2009-07-10     1 
```

[我在论坛](https://stackoverflow.com/questions/5662545/how-do-i-group-on-continuous-ranges)中找到了一个类似的解决方案，但并没有给出确切的结果

```
WITH    q AS
        (
        SELECT  *,
                ROW_NUMBER() OVER (PARTITION BY CatId, Rate ORDER BY [Date]) AS rnd,
                ROW_NUMBER() OVER (PARTITION BY CatId ORDER BY [Date]) AS rn
        FROM    my_table
        )
SELECT  CatId AS catidd, MIN([Date]) as beginn, MAX([Date])as endd, Rate
FROM    q
GROUP BY  CatId, rnd - rn, Rate 
```

查看[SQL FIDDLE](http://sqlfiddle.com/#!3/c5288/9) 我如何在 mysql 中做同样的事情？请帮忙！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T07:46:39.333

MySQL 不支持分析函数，但您可以使用[用户定义的变量](http://dev.mysql.com/doc/en/user-variables.html)来模拟这种行为：

```
SELECT   CatID, Begin, MAX(Date) AS End, Rate
FROM (
  SELECT   my_table.*,
           @f:=CONVERT(
             IF(@c<=>CatId AND @r<=>Rate AND DATEDIFF(Date, @d)=1, @f, Date), DATE
           ) AS Begin,
           @c:=CatId, @d:=Date, @r:=Rate
  FROM     my_table JOIN (SELECT @c:=NULL) AS init
  ORDER BY CatId, Rate, Date
) AS t
GROUP BY CatID, Begin, Rate 
```

在[sqlfiddle](http://sqlfiddle.com/#!2/fddbd/1/0)上查看。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-05T07:18:41.297

```
SELECT catid,min(ddate),max(ddate),rate
FROM (
    SELECT
        Catid,
        Ddate,  
        rate,
        @rn := CASE WHEN (@prev <> rate 
           or DATEDIFF(ddate, @prev_date)>1) THEN @rn+1 ELSE @rn END AS rn,
        @prev := rate,
        @prev_id := catid ,
        @prev_date :=ddate
    FROM (
        SELECT CatID,Ddate,rate 
        FROM rankdate
        ORDER BY CatID, Ddate ) AS a , 
        (SELECT @prev := -1, @rn := 0, @prev_id:=0 ,@prev_date:=-1) AS vars      

) T1 group by catid,rn 
```

注意：**(SELECT @prev := -1, @rn := 0, @prev_id:=0 ,@prev_date:=-1) AS vars**这行在Mysql Workspace 中不是必需的，但它在 PHP mysql_query 函数中。

[SQL 小提琴在这里](http://sqlfiddle.com/#!2/513b2/21)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-26T12:47:29.260

我知道我迟到了，仍然发布对我有用的解决方案。有同样的问题，这是我得到它的方法

使用变量找到了一个好的解决方案

```
SELECT  MIN(id) AS id, MIN(date) AS date, MIN(state) AS state, COUNT(*) cnt
FROM    (
    SELECT  @r := @r + (@state != state OR @state IS NULL) AS gn,
            @state := state AS sn,
            s.id, s.date, s.state
    FROM    (
            SELECT  @r := 0,
                    @state := NULL
            ) vars,
            t_range s
    ORDER BY
            date, state
    ) q
GROUP BY gn 
```

更多详情请访问：[https ://explainextended.com/2009/07/24/mysql-grouping-continuous-ranges/](https://explainextended.com/2009/07/24/mysql-grouping-continuous-ranges/)

# android - 实现 BitmapRegionDecoder.decodeRegion(...) android 2.2 及以下版本的任何替代方法？

> ID：12276089
> 
> 赞同：1
> 
> 时间：2012-09-05T06:59:58.570
> 
> 标签：android, bitmap, crop, region, decoder

我正在使用 BitmapRegionDecoder.decodeRegion(...) 裁剪图像。但它不适用于 android 2.3.1 (api level 10 ) 及更低版本。请让我知道是否有任何替代方法可以实现这一目标。甚至 android-support-v4.jar 库也不包含此类。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:49:44.587

您可以使用[`Bitmap.createBitmap(Bitmap source, int x, int y, int width, int height)`](http://developer.android.com/reference/android/graphics/Bitmap.html#createBitmap%28android.graphics.Bitmap,%20int,%20int,%20int,%20int%29)裁剪图像。它一直存在，因此为旧 API 提供了替代方案。

该文档非常不言自明：

> 从源位图的指定子集中返回不可变位图。新位图可能是与源相同的对象，或者可能已经制作了副本。它以与原始位图相同的密度进行初始化。
> 
> 参数
> 
> ```
> source    The bitmap we are subsetting
> x         The x coordinate of the first pixel in source
> y         The y coordinate of the first pixel in source
> width     The number of pixels in each row
> height    The number of rows 
> ```
> 
> 返回 源位图的子集或源位图本身的副本。

# imagemagick - 了解透视投影失真 ImageMagick

> ID：12276098
> 
> 赞同：15
> 
> 时间：2012-09-05T07:00:37.090
> 
> 标签：imagemagick, command-line-interface, perspective

对于一个项目，我正在尝试创建图像的透视失真以匹配 DVD 盒正面模板。所以我想使用 ImageMagick (CLI) 自动执行此操作，但我很难理解这种转换的数学方面。

```
convert \
  -verbose mw2.png \
  -alpha set \
  -virtual-pixel transparent \
  -distort Perspective-Projection '0,0 0,0   0,0 0,0' \
   box.png 
```

这段代码是一组空坐标，我已经彻底阅读了文档，但我似乎无法理解什么参数代表什么点。文档给了我变量和名称，我不知道它们的实际含义（也许对数学策划者更有用）。因此，如果有人可以就这个主题向我解释（视觉上更喜欢，或给我一个有用信息的链接），因为我不知道我在做什么。只是玩弄这些参数并不能胜任这项工作，我需要计算这些点。

在这里，您将找到我想要实现的目标的简单图像（使用 CLI 工具）：

[![输入示例图像](../Images/a7175f572facf212a208f32ef3ff69cd.png)](https://i.stack.imgur.com/zvqPb.jpg)

**更新：**

```
 convert \
        -virtual-pixel transparent \
        -size 159x92 \
        -verbose \
        cd_empty.png \
        \(mw2.png -distort Perspective '7,40 4,30   4,124 4,123   85,122 100,123   85,2 100,30'\) \
         -geometry +3+20 \
        -composite cover-after.png 
```

给我作为输出：

```
cd_empty.png PNG 92x159 92x159+0+0 8-bit sRGB 16.1KB 0.000u 0:00.000
convert: unable to open image `(mw2.png': No such file or directory @ error/blob.c/OpenBlob/2641.
convert: unable to open file `(mw2.png' @ error/png.c/ReadPNGImage/3741.
convert: invalid argument for option Perspective : 'require at least 4 CPs' @ error/distort.c/GenerateCoefficients/807.
convert: no images defined `cover-after.png' @ error/convert.c/ConvertImageCommand/3044. 
```

* * *

**Kurt Pfeifle 的更正：**

该命令有语法错误，因为它没有按照 ImageMagick 的要求在每一侧用（至少一个）空白包围`\(`和分隔符！`\)`

由于没有提供指向源图像的链接，因此我无法测试此更正命令的结果：

```
 convert                         \
        -virtual-pixel transparent \
        -size 159x92               \
        -verbose                   \
         cd_empty.png              \
           \(                      \
           mw2.png -distort Perspective '7,40 4,30  4,124 4,123  85,122 100,123  85,2  100,30' \
           \)                      \
        -geometry +3+20            \
        -composite                 \
         cover-after.png 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-05T09:47:16.710

你看到这个对 ImageMagick 的失真算法的[**非常详细的解释了吗？**](http://www.imagemagick.org/Usage/distorts/)它还附带了很多插图。

通过查看您的示例图像，我猜您将使用[**四点失真方法**](http://www.imagemagick.org/Usage/distorts/#perspective)到达那里。

当然，您提供的带有`0,0 0,0 0,0 0,0`参数的示例并没有达到您想要的效果。

ImageMagick 中可用的许多失真方法都是这样工作的：

*   该方法使用一组*控制点对*。
*   这些值是数字（可能是浮点数，而不仅仅是整数）。
*   每对控制点代表一个像素坐标。
*   每组四个值代表一个源图像坐标，紧随其后的是目标图像坐标。
*   将每个源图像控制点的坐标完全按照相应参数给定的方式传输到相应的目标图像控制点。
*   根据给定的失真方法转移所有其他像素的坐标。

**例子：**

> S [x1] ,S [y1] D [x1] ,D [y1]   S [x2] ,S [y2] D [x2] ,D [y2]   S [x3] ,S [y3] D [x3] ,D [y3]   ... S [xn] ,S [yn] D [xn] ,D [yn]

[`x`]用于表示 X 坐标。
[`y`]用于表示 Y 坐标。
[`1`, `2`, `3`, ...`n`]用于表示第 1、2、3、... n 个像素。
`S`此处用于源像素。
`D`此处用于目标像素。

## 第一：方法`-distort perspective`

失真方法`perspective`将确保源图像中的直线将在目标图像中保持直线。其他方法，喜欢`barrel`或`bilinearforward`不喜欢：它们会将直线扭曲为曲线。

这`-distort perspective`需要一组*至少*4 个预先计算的像素坐标对（其中最后一个可能为零）。超过 4 对像素坐标提供更准确的失真。因此，如果您使用例如：

```
-distort perspective '1,2  3,4     5,6  7,8     9,10  11,12     13,14  15,16' 
```

（出于可读性原因，在映射对之间使用比要求更多的 {optional} 空格）将意味着：

1.  从源图像中获取坐标 (1,2) 处的像素，并将其绘制在目标图像中的坐标 (3,4) 处。
2.  从源图像中获取坐标 (5,6) 处的像素，并将其绘制在目标图像中的坐标 (7,8) 处。
3.  从源图像中获取坐标 (9,10) 处的像素，并将其绘制在目标图像中的坐标 (11,12) 处。
4.  从源图像中获取坐标 (13,14) 处的像素，并将其绘制在目标图像中的坐标 (15,16) 处。

您可能已经看到照片图像，其中垂直线（如建筑物墙壁的角落）看起来根本不垂直（由于拍摄快照时相机的一些倾斜）。该方法`-distort perspective`可以纠正这一点。

它甚至可以实现这样的效果，“拉直”或“矫正”以原始照片“正确”视角出现的建筑物的一面：

![原始图像](../Images/415c09ed13e64dbff5626bfdfd1ec1a7.png) `==>` ![扭曲的图像](../Images/3fcfce343054d0198133bf27c33274e9.png)

用于这种失真的控制点由绘制在原始图像上的红色（*源*控件）和蓝色矩形（*目标控件）的角表示：*

![源代码控制点：“红色”的角落](../Images/f17fadafb8f157af4fc9676a0827f09f.png) `==>` ![目的地控制点：“蓝色”的角落](../Images/58a0c66e3bbab1842ad7103d8975b1ab.png)

这种特殊的失真使用

```
-distort perspective '7,40 4,30   4,124 4,123   85,122 100,123   85,2 100,30' 
```

为您的复制和粘贴带来乐趣的完整命令：

```
convert                                                                      \
  -verbose                                                                   \
   http://i.stack.imgur.com/SN7sm.jpg                                        \
  -matte                                                                     \
  -virtual-pixel transparent                                                 \
  -distort perspective '7,40 4,30  4,124 4,123  85,122 100,123  85,2 100,30' \
   output.png 
```

## 二：方法`-distort perspective-projection`

该方法`-distort perspective-projection`源自更容易理解的`perspective`方法。它实现了完全相同的失真结果`-distort perspective`，但不使用（至少）4 对坐标值（至少 16 个整数）作为参数，而是使用 8 个浮点系数。

它用...

1.  一组*恰好 8*个预先计算的系数；
2.  这些系数中的每一个都是一个*浮点*值（与 不同`-distort perspective`，其中值只允许使用*整数*）；
3.  这 8 个值表示形式的矩阵

    ` s[x]   r[y]   t[x]
     r[x]   s[y]   t[y]
     p[x]   p[y]`

    用于根据以下公式从源像素计算目标像素：

    ```
    X-of-destination = (sx*xs + ry+ys +tx) / (px*xs + py*ys +1)
    Y-of-destination = (rx*xs + sy+ys +ty) / (px*xs + py*ys +1)

    (TO BE DONE -- 
        I've no time right now to find out how to
        properly format + put formulas into the SO editor) 
    ```

**为了避免（更困难的）计算可重用** `-distort perspective-projection` **方法所需的 8 个系数，您可以...**

*   **首先，（更容易）计算 a 的坐标** `-distort perspective` **，**
*   **第二，添加** `-distort perspective` **一个** `-verbose` **参数运行它，**
*   ***最后，从打印到stderr* **的输出中读取 8 个系数****。****

 **（上面引用的）完整命令示例会输出以下信息：

```
Perspective Projection:
  -distort PerspectiveProjection \
    '1.945622, 0.071451, -12.187838, 0.799032, 
     1.276214, -24.470275, 0.006258, 0.000715' 
```**

# php - htaccess 无限重定向循环

> ID：12276102
> 
> 赞同：0
> 
> 时间：2012-09-05T07:00:42.520
> 
> 标签：php, apache, .htaccess, https

在过去的 2 个月里，我一直面临这个问题。
我有一个 htaccess 文件，我已将其放在顶部托管目录中。
但是一旦我把它，它会导致重定向无限循环。
托管公司要求我检查是否启用了任何其他 htaccess 文件。
但是我的整个托管目录中只有 1 个 htaccess 文件。

这是我的 .htaccess 的代码

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI}
</IfModule> 
```

谁能猜出无限循环的原因？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:03:37.493

尝试：

```
RewriteEngine on
#RewriteCond %{HTTPS} !=on
#RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R,L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:06:06.803

你可以试试这个：

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{REQUEST_URI} !^/index\.
RewriteCond %{REQUEST_URI} !^/$
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI}
</IfModule> 
```

与匹配的 URI 始终为非空的第二条规则不同，/ 不会再次匹配并继续循环。

# django - django social-registration 重定向 url 有时 /social/setup 有时 /accounts/profile 。为什么？

> ID：12276104
> 
> 赞同：3
> 
> 时间：2012-09-05T07:00:47.350
> 
> 标签：django

在 django 社交注册中，通常会重定向到

```
 /social/setup . 
```

所以我写了一个指向那个 url 的视图。但是，为什么有时它会重定向到

```
 /accounts/profile 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-05T08:43:01.533

当 Django 不知道要重定向到时，它会重定向到 /accounts/profile。您可以通过在 settings.py 中设置来更改此行为`LOGIN_REDIRECT_URL`：

```
LOGIN_REDIRECT_URL = '/' 
```

# python - QObjects之间的PyQt信号

> ID：12276110
> 
> 赞同：2
> 
> 时间：2012-09-05T07:01:09.707
> 
> 标签：python, pyqt, signals, slot

我正在尝试在 PyQt 中创建一个视图和控制器，其中当单击按钮时视图会发出自定义信号，并且控制器的其中一种方法连接到发出的信号。但是，它不起作用。单击按钮时不会调用响应方法。知道我做错了什么吗？

```
import sys
from PyQt4.QtCore import *
from PyQt4.QtGui import QPushButton, QVBoxLayout, QDialog, QApplication 

class TestView(QDialog):
    def __init__(self, parent=None):
        super(TestView, self).__init__(parent)
        self.button = QPushButton('Click')
        layout = QVBoxLayout()
        layout.addWidget(self.button)
        self.setLayout(layout)
        self.connect(self.button, SIGNAL('clicked()'), self.buttonClicked)

    def buttonClicked(self):
        self.emit(SIGNAL('request'))

class TestController(QObject):
    def __init__(self, view):
        self.view = view
        self.connect(self.view, SIGNAL('request'), self.respond)

    def respond(self):
        print 'respond'

app = QApplication(sys.argv)
dialog = TestView()
controller = TestController(dialog)
dialog.show()
app.exec_() 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:42:28.850

对我有用 - 可能是您正在使用的 Qt/PyQt 版本，但您可以尝试以下几件事：

1.  使用正确的方法语法 - 所以 SIGNAL('request()') 与 SIGNAL('request')
2.  使用新型信号语法

您使用的样式是旧式 PyQt 语法，建议使用新式信号/插槽定义：

```
import sys
from PyQt4.QtCore import QObject, pyqtSignal  # really shouldn't import * here...QtCore library is quite large
from PyQt4.QtGui import QPushButton, QVBoxLayout, QDialog, QApplication 

class TestView(QDialog):
    request = pyqtSignal()

    def __init__(self, parent=None):
        super(TestView, self).__init__(parent)
        self.button = QPushButton('Click')
        layout = QVBoxLayout()
        layout.addWidget(self.button)
        self.setLayout(layout)
        self.button.clicked.connect(self.buttonClicked)

    def buttonClicked(self):
        self.request.emit()

class TestController(QObject):
    def __init__(self, view):
        super(QObject, self).__init__()
        self.view = view
        self.view.request.connect(self.respond)

    def respond(self):

        print 'respond'

app = QApplication(sys.argv)
dialog = TestView()
controller = TestController(dialog)
dialog.show()
app.exec_() 
```

同样，我真的非常不鼓励以这种方式构建代码……当您不需要时，您正在创建许多不必要的工作和对象重复。

# c++ - 在函数范围内声明的 C++ 返回引用

> ID：12276114
> 
> 赞同：1
> 
> 时间：2012-09-05T07:01:34.810
> 
> 标签：c++, function

> **可能重复：**
> [可以在其范围之外访问局部变量的内存吗？](https://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope)

我在进行代码审查时看到了一个函数。

```
wchar_t* GetString(HINSTANCE hInstance, UINT SID)
{
    wchar_t buf[2048] = {0}; 
    LoadStringW(hInstance, SID, buf, sizeof(buf)/sizeof(wchar_t));
    return &buf[0];
}

void SomeWork()
{
    std::wstring str( GetString(hInst, 123) );
} 
```

我认为**buf**应该在函数返回后立即销毁，因此指针 &buf[0] 可能无效。但它似乎工作正常，它是如何工作的？这是一个很好的设计吗？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T07:04:46.857

> 我认为**buf**应该在函数返回后立即销毁，因此指针`&buf[0]`可能无效。

你的想法是 100% 正确的。

> 但它似乎工作正常，它是如何工作的？

它“有效”是因为保存`buf`数组的调用堆栈部分恰好在您实际使用它时没有写入其内容。

但这是*未定义的行为*，未定义的行为意味着*任何事情都可能发生*，这可能包括“召唤世界末日”和/或“工作正常”。这次你运气不错。

> 这是一个很好的设计吗？

不，这是一个糟糕的设计。幸运的是，它有一个简单的解决方法：只需返回`std::wstring`自身。

```
std::wstring GetString(HINSTANCE hInstance, UINT SID) 
{ 
    wchar_t buf[2048] = {0};  
    LoadStringW(hInstance, SID, buf, sizeof(buf)/sizeof(wchar_t)); 
    return std::wstring(buf);
} 

void SomeWork()   
{   
    std::wstring str = GetString(hInst, 123);   
} 
```

在这种情况下，所有非愚蠢的 C++ 编译器都会优化掉临时变量，因此该代码在实践中没有性能损失。事实上，即使您关闭所有优化，Visual C++ 编译器也会优化这种情况。

这种特定的优化称为[返回值优化 (RVO)](http://en.wikipedia.org/wiki/Return_value_optimization)。如果您的 C++ 编译器即使设置为最高优化级别也不执行 RVO，请获取另一个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-05T07:04:53.863

不，这是严重的缺陷。返回本地对象的指针或引用是**未定义的行为**。这意味着一切都可能发生，包括开始第三次世界大战。在您的情况下，未定义的行为就像“工作正常”一样。侥幸。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T07:05:45.353

从理论上讲，这是未定义的行为，这意味着*任何事情都*可能发生，包括有时（显然）正常工作。但是，未定义意味着无法保证它始终有效。

它现在似乎可以工作的原因是因为在`GetString`您阅读它时，所修改的内存尚未被正在执行的任何其他代码修改。换句话说，你很幸运。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:13:22.420

> 我认为 buf 应该在函数返回后立即销毁，因此指针 &buf[0] 可能无效。

这是正确的。的寿命`buf`已经结束；它的内存可能会或可能不会变得不可访问或被其他对象重用；并且对它的任何访问都会给出未定义的行为。

> 但它似乎工作正常，它是如何工作的？

因为，在许多平台上，自动变量存储在堆栈中，并且函数的堆栈内存不会在函数返回时变得不可访问。这意味着（无效的悬空引用）变量通常仍会显示其旧值，直到您调用另一个函数并重用内存。

> 这是一个很好的设计吗？

当然不是。您依赖于未定义的行为，并且您的代码可能由于多种原因停止工作 - 更改平台或编译器，向您的代码添加另一个函数调用，或月亮的移动阶段。

我会返回一个`std::wstring`.

# javascript - JavaScript Vector2d 数学

> ID：12276124
> 
> 赞同：3
> 
> 时间：2012-09-05T07:02:08.773
> 
> 标签：javascript, math

我最近开始用 JavaScript 编写小型画布游戏，并试图围绕 Vector 2d 数学。我了解向量的基本知识（就像它们代表二维空间中的一个点，你可以添加、乘、减和旋转它们）但我不明白如何在计算方向和速度时应用向量游戏中的对象。

看看这个游戏： [http ://rem.im/asteroid.html](http://rem.im/asteroid.html)

2d 矢量数学驱动的迷你游戏的一个很好的例子。

伟大的 Seb Lee Delisle 正在使用这个 JavaScript 伪类进行矢量计算： [https ://github.com/sebleedelisle/JSTouchController/blob/master/js/Vector2.js](https://github.com/sebleedelisle/JSTouchController/blob/master/js/Vector2.js)

我已经阅读了一些关于矢量数学的教程，但它们具有 100% 纯数学重点，并且没有描述如何使用矢量构建游戏，例如控制太空船和子弹。

你能给我一些关于如何在 JavaScript 游戏中应用矢量数学的教程吗？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:25:27.867

您可以将元素的位置视为向量 (x,y)，它还定义了从坐标原点 (0,0) 到该点的方向。

速度是每单位时间的位置变化率。因此，例如（1,5）意味着每个时间单位（比如说每帧）x坐标将改变+1，y坐标将改变+5。所以新位置将是 (x,y)+(1,5) = (x+1, y+5)

加速度是每单位时间的速度变化率。假设您的加速度为 (1,1)，那么速度将在 x 方向上变化 +1，在 y 方向上变化 +1。

示例：对象的当前位置为 (100, 200)，其当前速度为 (5,0)，加速度为 (1,1)。

```
Position in frame 0: (100,200), velocity (5,0)
Position in frame 1: (100,200) + (5,0) = (105,200), new velocity (5,0) + (1,1) = (6,1)
Position in frame 2: (105,200) + (6,1) = (111,201), new velocity (6,1) + (1,1) = (7,2)

etc. 
```

# c - linux中的fork()和kill

> ID：12276125
> 
> 赞同：2
> 
> 时间：2012-09-05T07:02:10.250
> 
> 标签：c, linux, parallel-processing, fork, kill-process

在我的项目中，我需要一个子任务与父任务并行播放。我使用 fork() 创建一个并行进程，即`aplay xyz.wav`. 现在，当我想从父进程中杀死子进程时，例如`system("kill -9 aplay ")`aplay 被杀死了，但是我看到了父任务的两个实例。我认为其中一个是通过调用 fork() 制作的副本，另一个是原件。并且随着每次 fork() 调用，副本的数量都会增加。我意识到内存溢出。我只想保留原来的过程。我试图杀死该父副本但失败了！父进程的副本显示为“已失效”。

当我调用并行进程时，'defucnt' 进程继续增加，无论我是否终止 aplay。我还试图通过它的 PID 杀死 defunt，它也没有用。

```
static int
 test(Core *pc, char *args)
{

pid1=fork();
if (pid1 ==0)
{  
        system ("ps " );
       system("aplay /opt/Line_Tone_14s.wav");

      _exit(0);
}
else if(pid1<0)
{
 out("fork() ERROR (-1) returned\n");
}
else if(pid1>0)
{
 out("I AM IN PARENT PROCESS() NOW\n");
 }
return 1;

 }

static int
test1(Core *pc, char *args)
{ 
 system ("ps " );
system ("killall -9 aplay "); 
return 1; 
```

}

```
 Initially 

> PID TTY          TIME CMD
1580 pts/0    00:00:00 sudo
1581 pts/0    00:00:00 su
1589 pts/0    00:00:00 bash
5732 pts/0    00:00:00 parent
5738 pts/0    00:00:00 sh
5739 pts/0    00:00:00 ps

>test
> PID TTY          TIME CMD
1580 pts/0    00:00:00 sudo
1581 pts/0    00:00:00 su
1589 pts/0    00:00:00 bash
5732 pts/0    00:00:00 parent
5737 pts/0    00:00:00 parent
5740 pts/0    00:00:00 sh
5741 pts/0    00:00:00 aplay
5743 pts/0    00:00:00 sh
5744 pts/0    00:00:00 ps

>test1                  
>killed

after kill
>PID TTY          TIME CMD
1580 pts/0    00:00:00 sudo
1581 pts/0    00:00:00 su
1589 pts/0    00:00:00 bash
5732 pts/0    00:00:00 parent
5737 pts/0    00:00:00 parent <defunct>
5753 pts/0    00:00:00 sh
5754 pts/0    00:00:00 ps

>test
> PID TTY          TIME CMD
1580 pts/0    00:00:00 sudo
1581 pts/0    00:00:00 su
1589 pts/0    00:00:00 bash
5732 pts/0    00:00:00 parent
5737 pts/0    00:00:00 parent <defunct>
5759 pts/0    00:00:00 parent
5762 pts/0    00:00:00 sh
5763 pts/0    00:00:00 aplay
5765 pts/0    00:00:00 sh
5766 pts/0    00:00:00 ps

>test1
>killed

after kill

>PID TTY          TIME CMD
 1580 pts/0    00:00:00 sudo
1581 pts/0    00:00:00 su
1589 pts/0    00:00:00 bash
 5732 pts/0    00:00:00 parent
5737 pts/0    00:00:00 parent <defunct>
5759 pts/0    00:00:00 parent <defunct>
5773 pts/0    00:00:00 sh
5774 pts/0    00:00:00 ps 
```

我也在 test() 命令中尝试过这个

```
else if(pid1>0)
 {
  out("I AM IN PARENT PROCESS() NOW\n");
 wait(&status);
 } 
```

通过这样做，在 aplay 完成播放声音后，无论我调用多少次“测试”命令，都只剩下一个父进程。但问题是，在声音播放过程中我无法输入任何其他命令，直到它完成。所以无法在播放声音之间杀死它。

我想并行播放声音，并且想随时杀死。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T07:07:34.590

不要那样杀死它！您有子 PID `pid1`，只需使用该`kill()`功能将其杀死。

产生一个单独的进程来运行`killall`是不必要的，昂贵的并且（正如您所发现的），不是那么可靠。如果该可执行文件有*五个*副本在运行怎么办？

你可以使用类似的东西：

```
#include <sys/types.h>
#include <signal.h>
:
int rc = kill (pid1, 9);  // or SIGKILL for portability, rather than 9.
// Check rc and errno. 
```

在你的父母。

我也会认真考虑删除`system`子进程中的调用，因为它们会启动单独的进程。`exec`您可以通过使用调用系列来*替换*子进程空间中的程序来做得更好。

# javascript - 如何自定义对 window.location.href 的所有分配？

> ID：12276128
> 
> 赞同：1
> 
> 时间：2012-09-05T07:02:21.313
> 
> 标签：javascript, html

在我的 JavaScript 应用程序中，我们有多个地方使用过`window.location.href="any string";`. 现在我只想在一个地方（可能使用`window.location.prototype`）编写 JS 代码来覆盖对 href 的赋值，这样我就可以将参数附加到所有实例。

我想将一个参数（例如`"?abc=1234"`）附加到所有分配给`window.location.href`.

我想编写代码，这意味着例如

```
window.location.href = "abc.html"; 
```

被写入，它实际上应该导致`href`被设置为`abc.html?abc=1234`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:07:09.333

```
window.location.href = window.location.href + "?abc=1234" 
```

我只是在 WebKit DevTools/

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:07:15.650

你实际上不能这样做。

它更多的是运行页面的 JavaScript 引擎。大多数浏览器中存储的您浏览的所有记录都是历史记录。几乎没有别的。`meta`所以基本上对于浏览器来说，重定向、`header`重定向和重定向之间没有区别`javascript`。

除非我错了。

# python - web2py - 创建新应用程序 - “无效的应用程序名称”

> ID：12276129
> 
> 赞同：0
> 
> 时间：2012-09-05T07:02:27.930
> 
> 标签：python, web2py

当我尝试在 web2py 中创建新应用程序时，我收到错误消息“无效的应用程序名称：xxx”

即使它创建了应用程序？

```
./web2py.py -S foo web2py.app
web2py Web Framework
Created by Massimo Di Pierro, Copyright 2007-2012
Version 2.0.6 (2012-09-02 04:44:23) stable
Database drivers available: SQLite(sqlite3), MySQL(pymysql), PostgreSQL(pg8000), IMAP(imaplib)
application foo does not exist, create (y/n)?Y
invalid application name: foo 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T11:06:50.377

你应该使用引号：

```
./web2py.py -S 'foo' web2py.app 
```

# php - 如何删除在 PHP 中打印网页时显示的 URL？

> ID：12276132
> 
> 赞同：-1
> 
> 时间：2012-09-05T07:02:33.940
> 
> 标签：php, javascript, printing-web-page

我想`URL`在打印时从页面中删除，`PHP`有什么方法可以做到这一点？实际上，我不想让我的客户在打印时更改他们的浏览器设置。

任何帮助真的很感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T08:03:02.320

那是一个浏览器设置，不幸的是你不能改变它，它很糟糕。

我能想到的唯一解决方法是您提供 PDF 文件，如果用户安装了 PDF 插件，该文件可以内联显示。在这种情况下，您可以完全控制内容并且用户可以打印它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:16:44.600

不，据我所知。

打印网页时显示的网页网址是浏览器添加的功能，因此无法完成，`php`因为它完全是服务器端脚本。

另外，我想这不能使用 javascript 来完成，正如之前所说的“这是浏览器的一项功能”，并且 javascript 只能用于操纵`dom`页面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:23:39.503

我想你不能做这样的事情。

您无法通过 CSS 或 JavaScript 临时或永久更改浏览器默认设置，例如打印机设置、边距或任何其他浏览器设置。

css 中有一个 @page 指令，可以启用一些仅适用于分页媒体（如纸张）的格式。参考[链接](http://www.w3.org/TR/1998/REC-CSS2-19980512/page.html)。但问题是这在 Firefox、Google Chrome 中不起作用，但在 IE 8 和 Opera 10 中起作用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T07:47:51.343

以编程方式，您无法控制它，它确实很糟糕。有一些选项可以控制这是特定浏览器的一部分。因此，每个用户都必须更改其浏览器设置才能从打印中删除 URL。不幸的是，我知道，但是浏览器不允许你对它们有太多的控制。解决此问题的一种方法是生成用于打印的 PDF 文档。从客户端机器而不是从浏览器中下载和打印的任何文档都不会出现此问题。

此外，您可以查看**[防止 Firefox 或 Internet Explorer 在每一页上打印 URL](http://www.howtogeek.com/howto/the-geek-blog/prevent-firefox-or-internet-explorer-from-printing-the-url-on-every-page/)**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-03T17:43:50.857

更改 Firefox 设置 转到文件-> 页面设置 -> 边距页眉和页脚并设置 --blank-- 你需要的东西。

[在这里](http://lifehacker.com/5603815/how-can-i-get-rid-of-the-url-and-other-text-when-i-print-from-web-pages)查看更多

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-01T13:30:53.670

也许您可以尝试使用 CSS 属性，例如“@page”、“@top-left”、...

例如：

```
@page {
  @top-left {
    content: "";
  }
} 
```

我在 W3C 网站上找到了这个例子：http: [//www.w3.org/TR/css3-page/](http://www.w3.org/TR/css3-page/)

# json - 将 @JsonTypeInfo 用于 List 等类字段时，覆盖 @JsonTypeInfo 不起作用 Animal 用它注释的地方

> ID：12276136
> 
> 赞同：0
> 
> 时间：2012-09-05T07:02:50.677
> 
> 标签：json, jackson

朋友们，

我在特定场景中覆盖**@JsonTypeInfo注释时遇到问题。**

请在下面找到我的班级结构。

```
@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY,    
property = "@type")
class Animal {
    public String name = "animalName";

    /**
     * @return the name
     */ 
    public String getName() {
   return name;
    }

    /**
     * @param name
     *            the name to set
     */

    public void setName(String name) {
    this.name = name;
    }

}

class Cat extends Animal {
boolean likesCream = true;
public int lives = 10;

/*
 * (non-Javadoc)
 * 
 * @see java.lang.Object#toString()
 */
@Override
public String toString() {
return "Cat [likesCream=" + likesCream + ", lives=" + lives + ", name="
    + name + "]";
}

/**
 * @return the likesCream
 */
public boolean isLikesCream() {
return likesCream;
}

/**
 * @param likesCream
 *            the likesCream to set
 */
public void setLikesCream(boolean likesCream) {
this.likesCream = likesCream;
}

/**
 * @return the lives
 */
public int getLives() {
return lives;
}

/**
 * @param lives
 *            the lives to set
 */
public void setLives(int lives) {
this.lives = lives;
}

}

class Dog extends Animal {
public double barkVolume; // in decibels

/*
 * (non-Javadoc)
 * 
 * @see java.lang.Object#toString()
 */
@Override
public String toString() {
return "Dog [barkVolume=" + barkVolume + ", name=" + name + "]";
}

/**
 * @return the barkVolume
 */
public double getBarkVolume() {
return barkVolume;
}

/**
 * @param barkVolume
 *            the barkVolume to set
 */
public void setBarkVolume(double barkVolume) {
this.barkVolume = barkVolume;
} 
```

}

现在我在需要序列化/反序列化的**Zoo类中使用上述类。**

```
class Zoo2i {

    List<Animal> animals;

    Dog dog;

    /**
     * @return the animals
     */
    public List<Animal> getAnimals() {
    return animals;
    }

    /**
     * @param animals
     *            the animals to set
     */
    @JsonTypeInfo(use = JsonTypeInfo.Id.NONE, include = JsonTypeInfo.As.PROPERTY,    
                 property = "@type")
   public void setAnimals(List<Animal> animals) {
   this.animals = animals;
   }

    /**
     * @return the dog
     */
    public Dog getDog() {
    return dog;
    }

    /**
     * @param dog
     *            the dog to set
     */
    @JsonTypeInfo(use = JsonTypeInfo.Id.NONE, include = JsonTypeInfo.As.PROPERTY,    
                  property = "@type")
     public void setDog(Dog dog) {
    this.dog = dog;
    }
} 
```

因为我已经注释了 Animal class ，所以默认情况下它会将类型信息添加到它的所有子类中以支持多态性。

列表可以有所有类型，例如动物、狗、猫。我的要求是我不希望 List 中 Animal 实例本身的类型信息以及 zoo2i 类中 Dog 类型的其他属性的类型信息。

我成功地覆盖了 setDog(....) 的注释，但 setAnimals(...) 失败了（请参阅 Zoo2i 类）。

是否有任何不同的方法来排除带注释的类本身的类型信息或在反序列化期间使类型信息可选（非强制性）。

还有一件事，默认情况下，使用 Animal 及其所有实例，类型信息包含在 Animal 被注释的情况下，我希望只有当我直接使用 Cat 时， Dog 然后类型信息不应该包含在内，并且在反序列化期间不应该出现；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T20:58:58.067

我不认为这是一个受支持的用例：您应该在要使用`@JsonTypeInfo`的基本类型上使用，或者在属性上使用（对于未注释的类型）。不要尝试混合方法。一个类型是否应该包含类型信息——在某些情况下尝试以一种方式来做，而在其他情况下，另一种方式听起来像是一种危险的微优化。

# android - Android列表视图不滚动

> ID：12276138
> 
> 赞同：2
> 
> 时间：2012-09-05T07:02:55.690
> 
> 标签：android, android-layout, android-listview, android-scrollview, android-scroll

我有一个布局，其起始标签（父标签是）是

```
<scroll view  
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"> 
```

后来我有很多图像、文本视图、编辑文本和其他东西，最后是列表视图。我已按照我的规定将 listview 的高度定义为 230dp。问题是整个布局滚动得很好，但列表视图中的内容没有单独滚动。这就是xml的外观......

```
 <ScrollView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
     > 
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 
    android:orientation="vertical" >
    <TextView android:layout_width="fill_parent"
         android:layout_height="50dp"
         android:text="BISCOOT"
         android:textSize="25dp"
         android:background="@drawable/item_bg_light"
         android:textColor="@android:color/white"
         android:gravity="center"/>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" 
     android:orientation="vertical" android:layout_width="fill_parent" 
     android:layout_height="200dp" android:background="#ff000000">

      <ImageSwitcher android:id="@+id/switcher1" android:layout_width="fill_parent" 
      android:layout_height="200dp"  
      android:layout_alignParentLeft="true" android:layout_alignParentRight="true" >
      </ImageSwitcher> 
        <ProgressBar
              android:id="@+id/progressBar2"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"  android:layout_centerHorizontal="true"
               />
        <ImageButton android:id="@+id/imageButton1" android:layout_width="wrap_content"
       android:layout_height="wrap_content" android:layout_alignParentRight="true" 
       android:layout_centerVertical="true" android:src="@android:drawable/ic_media_ff" /> 

        <ImageButton android:id="@+id/imageButton2" android:layout_width="wrap_content" 
      android:layout_height="wrap_content" android:layout_alignParentLeft="true" 
      android:layout_alignTop="@+id/imageButton1" android:src="@android:drawable/ic_media_rew" /> 
  </RelativeLayout>
    <TextView android:layout_width="fill_parent"
         android:layout_height="30dp"
         android:text="Latest headLines"
         android:background="@drawable/item_bg_light"
         android:textColor="@android:color/white"
         android:gravity="center"/>
    <ProgressBar
        android:id="@+id/progressBar1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center" />
         <LinearLayout android:orientation="vertical"
             android:layout_width="fill_parent"            
             android:layout_height="fill_parent">
      <ListView 
        android:id="@android:id/list" 
        android:layout_width="fill_parent" 
        android:scrollbarFadeDuration="0" 
        android:scrollbarStyle="outsideOverlay" 
        android:smoothScrollbar="true" 
          android:layout_height="260dp">
     </ListView>
    </LinearLayout>

    <!-- 
    <TextView android:layout_width="fill_parent"
         android:layout_height="30dp"
         android:text="Heroin On the Rocks"
         android:background="@drawable/item_bg_light"
         android:textColor="@android:color/white"
         android:gravity="center"/>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" 
     android:orientation="vertical" android:layout_width="fill_parent" 
     android:layout_height="200dp" android:background="#ff000000">

      <ImageSwitcher android:id="@+id/switcher2" android:layout_width="fill_parent" 
      android:layout_height="200dp"  
      android:layout_alignParentLeft="true" android:layout_alignParentRight="true" /> 

        <ImageButton android:id="@+id/imageButton3" android:layout_width="wrap_content"
       android:layout_height="wrap_content" android:layout_alignParentRight="true" 
       android:layout_centerVertical="true" android:src="@android:drawable/ic_media_ff" /> 

        <ImageButton android:id="@+id/imageButton4" android:layout_width="wrap_content" 
      android:layout_height="wrap_content" android:layout_alignParentLeft="true" 
      android:layout_alignTop="@+id/imageButton1" android:src="@android:drawable/ic_media_rew" /> 
  </RelativeLayout>
  -->

<TextView android:layout_width="fill_parent"
         android:layout_height="30dp"
         android:text="Watch Movies"
         android:background="@drawable/item_bg_light"
         android:textColor="@android:color/white"
         android:gravity="center"/>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="100dp" android:orientation="horizontal"
    android:weightSum="6"
    >
        <ImageView 

            android:layout_height="100dp"
            android:layout_width="wrap_content" android:layout_weight="1"
           android:layout_marginLeft="2dp" android:layout_marginRight="2dp"
            android:id="@+id/watchmoviesimg1"
            />
         <ImageView android:layout_height="100dp"
            android:layout_width="wrap_content" android:layout_weight="1"
           android:layout_marginLeft="2dp" android:layout_marginRight="2dp"
            android:id="@+id/watchmoviesimg2"/>
          <ImageView android:layout_height="100dp" android:layout_weight="1"
            android:layout_width="wrap_content"
           android:layout_marginLeft="2dp" android:layout_marginRight="2dp"
            android:id="@+id/watchmoviesimg3"/>

          <ProgressBar
              android:id="@+id/progressBar3"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:layout_gravity="center" />

           <ImageView android:layout_height="100dp" android:layout_weight="1"
            android:layout_width="wrap_content"
           android:layout_marginLeft="2dp" android:layout_marginRight="2dp"
            android:id="@+id/watchmoviesimg4"/>
            <ImageView android:layout_height="100dp" android:layout_weight="1"
            android:layout_width="wrap_content"
           android:layout_marginLeft="2dp" android:layout_marginRight="2dp"
            android:id="@+id/watchmoviesimg5"/>
             <ImageView android:layout_height="100dp" android:layout_weight="1"
            android:layout_width="wrap_content"
           android:layout_marginLeft="2dp" android:layout_marginRight="2dp"
            android:id="@+id/watchmoviesimg6"/>

    </LinearLayout>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="200dp" 
    android:orientation="vertical"
    >
              <TextView android:layout_width="fill_parent"
         android:layout_height="30dp"
         android:text="Photo Stories"
         android:background="@drawable/item_bg_light"
         android:textColor="@android:color/white"
         android:gravity="center"/>

              <ProgressBar
                  android:id="@+id/progressBar4"
                  android:layout_width="wrap_content"
                  android:layout_height="wrap_content"
                  android:layout_gravity="center" />

               <ImageView 
                   android:id="@+id/photostoryimageview1"
                   android:layout_height="200dp" android:layout_weight="1"
            android:layout_width="fill_parent"
            />
               </LinearLayout>

    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="200dp" 
    android:orientation="vertical"
    >
                 <TextView android:layout_width="fill_parent"
         android:layout_height="30dp"
         android:text="Star Special"
         android:background="@drawable/item_bg_light"
         android:textColor="@android:color/white"
         android:gravity="center"/>

                 <ProgressBar
                     android:id="@+id/progressBar5"
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content" 
                     android:layout_gravity="center"/>

               <ImageView 
                   android:id="@+id/starSpecialimageView1"
                   android:layout_height="200dp" android:layout_weight="1"
            android:layout_width="fill_parent"
            />
               </LinearLayout>

</LinearLayout>
</ScrollView> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T07:06:43.747

只需`ScrollView`从布局中删除 。并且，将其`LinearLayout`设为父级。并且，尝试运行您的应用程序。它将滚动列表。

因为`ListView`该类实现了自己的滚动并且它只是不接收手势，因为它们都由父级处理，所以`ScrollView`我强烈建议您以某种方式简化您的布局。例如，您可以添加要滚动到`ListView`页眉或页脚的视图。

看看[这个](https://stackoverflow.com/a/6211286/940096)

**更新**

采用一个父布局和两个孩子。而且，在一种布局中，它应该包含`ScrollView`您的内容。并且，在另一个布局上包含您的`ListView`尝试，他已经这样做了[。](https://stackoverflow.com/a/6303078/940096)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-11-18T10:01:00.843

只需添加这个，然后它就会工作。

```
listView.setOnTouchListener(new View.OnTouchListener() {
        // Setting on Touch Listener for handling the touch inside ScrollView
        @Override
        public boolean onTouch(View v, MotionEvent event) {
            // Disallow the touch request for parent scroll on touch of child view
            v.getParent().requestDisallowInterceptTouchEvent(true);
            return false;
        }
    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T07:06:59.440

您不应该将 ListView 放在 ScrollView 中，因为 ListView 类实现了自己的滚动，并且它只是不接收手势，因为它们都由父 ScrollView 处理。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T11:01:27.610

您不能在一个布局中执行 ScrollViw 和 ListView。如果你放了 ScrollView 那么 ListView 将不起作用，如果你不放 ScrollView 那么 ListView 将工作滚动。

**更新**

即使滚动视图内的列表视图或列表视图内的滚动视图，两者都将起作用。你需要相应地处理它的触摸。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-11-17T04:59:40.130

试试下面的课程，它可以帮助你在 ScrollView 中使用 ListView

## 实用程序.java

```
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewGroup.LayoutParams;
import android.widget.ListAdapter;
import android.widget.ListView;

public class Utility {
        public static void setListViewHeightBasedOnChildren(ListView listView) {
              ListAdapter listAdapter = listView.getAdapter();
            if (listAdapter == null) {
            // pre-condition
                  return;
            }

            int totalHeight = listView.getPaddingTop() + listView.getPaddingBottom();
            for (int i = 0; i < listAdapter.getCount(); i++) {
                 View listItem = listAdapter.getView(i, null, listView);
                 if (listItem instanceof ViewGroup) {
                    listItem.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
                 }
                 listItem.measure(0, 0);
                 totalHeight += listItem.getMeasuredHeight();
            }

            LayoutParams params = listView.getLayoutParams();
            params.height = totalHeight + (listView.getDividerHeight() * (listAdapter.getCount() - 1));
                      listView.setLayoutParams(params);
        }
     } 
```

最后在将适配器设置为您的列表视图之后使用此行 - **Utility.setListViewHeightBasedOnChildren(your_listview);**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-12-18T05:55:50.173

您不能在滚动视图中添加 ListView，因为列表视图也会滚动，并且列表视图滚动和滚动视图滚动之间会存在同步问题。您可以制作一个 CustomList 视图并将此方法添加到其中。

```
@Override public boolean onInterceptTouchEvent(MotionEvent ev)
{
    /*
     * Prevent parent controls from stealing our events once we've gotten a touch down
     */
    if (ev.getActionMasked() == MotionEvent.ACTION_DOWN) {
        ViewParent p = getParent();
        if (p != null) {
            p.requestDisallowInterceptTouchEvent(true);
        }
    }
    return false;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-01-28T12:38:16.350

我找到了另一种解决此滚动问题的解决方案。实际上在滚动视图中使用列表视图有时可能会产生问题。

我们可以删除这个滚动视图，只取一个列表视图。现在创建三个布局，第一个主布局使用列表视图（我们要在列表上方显示），第二个用于页眉，第三个用于页脚（我们将在列表下方显示），最后在列表中添加页眉和页脚。这会将页眉和页脚添加为列表项。

注意：此解决方案适用于列表中的 2 或 3 项小列表。

# iphone - 需要从表中获取坐标到地图

> ID：12276144
> 
> 赞同：0
> 
> 时间：2012-09-05T07:03:36.640
> 
> 标签：iphone, xcode, uitableview, sdk, mapkit

我有一个项目，其中
1.Table
2.Map
3.Button
在表格栏中。

用户在表格中添加经度和纬度，无论他打印什么，我都需要查看 pin。

如果您用@property 解释如何做到这一点，那就太好了。

对不起我的第一个问题。

我已经完成了我拥有 Mutabletable 的一切，在地图上有别针，但它是由我在 Xcode 中的坐标完成的

```
 MKCoordinateRegion region1 = { {0.0, 0.0} , {0.0, 0.0}};
  region1.center.latitude = 50.481705;
  region1.center.longitude = 30.532894;
  region1.span.longitudeDelta = 0.01f;
  region1.span.latitudeDelta = 0.01f;
  [map setRegion:region1 animated:YES]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:24:57.667

您可以搜索有关 MKMapView 的文档：

```
(void)addAnnotation:(id <MKAnnotation>)annotation;
(void)addAnnotations:(NSArray *)annotations;

@protocol MKMapViewDelegate
(MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T09:02:13.910

初始化 mapViewController 后，您可以使用点符号访问它的属性。您需要在 mapViewController 中有一个 CLLocation 属性，然后您可以在第一个视图控制器中访问它，例如：

```
myMapViewController = [[MyMapViewController alloc] init];
myMapViewController.myCoordinate.latitude = ...
myMapViewController.myCoordinate.longitude = ... 
```

然后你的财产它你的 mapViewController 将有你之前给它的值。

# api - How does Mongolab REST API authenticate

> ID：12276146
> 
> 赞同：12
> 
> 时间：2012-09-05T07:03:39.697
> 
> 标签：api, rest, mongodb, authentication, mlab

The REST API for Mongolab is cool. I can use that for analytics in my website directly using the following javascript, provided on Mongolab's support page. Only if I can understand how the authentication actually works. The API key mentioned in the URL could be easily copied by anyone who'd view the html source. The Mongolab control panel does not offer any registration for my website that'd assure me that the api key will be validated only if coming from my domain. How does this authentication work?

```
$.ajax( { url: "https://api.mongolab.com/api/1/databases/my-db/collections/my-coll?apiKey=myAPIKey",
          data: JSON.stringify( { "x" : 1 } ),
          type: "POST",
          contentType: "application/json" } ); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-05T07:46:28.163

Excellent observation, and great question.

Currently, all API keys have read and write access to the databases associated with the user's account, and any agent possessing an API key can successfully issue any such request.

As you observe, this very basic pass key is not designed with any kind of fine-grained security in mind.

However, we're working on a batch of new REST API security features aimed at precisely that.

Contact us at support@mongolab.com if you'd be interested in discussing the details.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-15T21:31:14.267

I'd like to use MongoLab service for my first AngularJs app with MongoDB, but MongoLab is not ready for production with a web app that wants access from the front end to the MongoDB.

It's very easy to get the API key in the browsers network traffic (see screenshot below, the apiKey is in plain text there) and then any one can have full access to the DB. So messing around with the MongoDB would be no problem.

I haven't found a workaround for MongoLab yet. At the moment, I think I will use another service like [https://www.dreamfactory.com/](https://www.dreamfactory.com/)

I haven't tried it in detail yet but it looks great for an AngularApp with MongoDB and I need to check how they implemented the security of the api. On the first look, it looks like it is working with session tokens to secure the requests to the database.

![Screenshot network traffic MongoLab credentials](../Images/22f87cec333c8ed3c2e1d8bf713f3d28.png)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-08-31T23:02:09.250

You have an API key for doing http request to your DB using their REST API. For example, if a user wants to log in I make a request with a GET method like this:

[https://api.mongolab.com/api/1/databases/name_db/collections/users/put_your_params_like_username_and_pw?apiKey=xxxxxxxxx](https://api.mongolab.com/api/1/databases/name_db/collections/users/put_your_params_like_username_and_pw?apiKey=xxxxxxxxx)

And then you analyze the response to that request. It is not the most secure DB in the world but it is getting better.

If you want more info I talk about that in my blog: [http://lolapriego.com/blog/?p=16](http://lolapriego.com/blog/?p=16)

# url - java中的URL编码和javascript中的解码

> ID：12276149
> 
> 赞同：1
> 
> 时间：2012-09-05T07:03:51.457
> 
> 标签：url, uri, decode, encode

我有一个 URL 可以在我的 java 服务器上编码，然后用 javascript 解码。我尝试检索我用 java 发送的参数中的字符串。这是来自表单验证功能的错误消息。

我这样做（服务器端。Worker.doValidateForm() 返回一个字符串）：

```
response.sendRedirect(URLEncoder.encode("form.html?" + Worker.doValidateForm(), "ISO-8859-1")); 
```

然后，在我的 javascript 中，我这样做：

```
function retrieveParam() {
    var error = window.location.search;

    decodeURIComponent(error);
    if(error)
        alert(error);
} 
```

当然是行不通的。我猜的编码不一样。

所以我的问题是：我可以在 Java 中使用哪种方法来使用 javascript 解码我的 URL？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T13:15:37.787

没关系 ！我找到了解决方案。

使用 Java 的服务器端：

```
URI uri = null;
try {
    uri = new URI("http", "localhost:8080", "/PrizeWheel/form.html", Worker.doValidateForm(), null);
} catch (URISyntaxException e) {
    this.log.error("class Worker / method doPost:", e); // Just writing the error in my log file
}
String url = uri.toASCIIString();
response.sendRedirect(url); 
```

在 Javascript 中（在重定向页面的 onload 中调用的函数）：

```
function retrieveParam() {
    var error = decodeURI(window.location.search).substring(1);

    if(error)
        alert(error);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:10:30.923

您不使用 URLEncoder 对 URL 进行编码，它用于将表单数据编码为 application/x-www-form-urlencoded MIME 格式。您改用 URIEncoder，请参阅[http://contextroot.blogspot.fi/2012/04/encoding-urls-in-java-is-quite-trivial.html](http://contextroot.blogspot.fi/2012/04/encoding-urls-in-java-is-quite-trivial.html)

# c# - 如何将数据命令绑定到驻留在数据网格中的按钮

> ID：12276152
> 
> 赞同：0
> 
> 时间：2012-09-05T07:04:12.217
> 
> 标签：c#, wpf, button, datagrid

> **可能重复：**
> [将来自业务对象的命令绑定到 MVVM 中的视图](https://stackoverflow.com/questions/10596094/bind-command-from-business-object-to-view-in-mvvm)

```
 <DataGridTemplateColumn Header="Edit" IsReadOnly="True" MinWidth="40" Width="*" >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Name="btnedit" Width="25" Height="25" Command="{Binding BanquetSearchCommand, ElementName=LayoutRoot}" CommandParameter="{Binding Id}">
                                    <!--<Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource ResourceKey=BanquetValuConverter}">
                                            <Binding StringFormat="hi"></Binding>
                                        </MultiBinding>
                                    </Button.CommandParameter>-->
                                    <Image  Width="25" Height="15" Source="/TBC;component/images/Edit_N1.png" ></Image>
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="Delete" IsReadOnly="True" MinWidth="40" Width="*" >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Name="btnDelete" Width="25" Height="25">
                                    <Image  Width="25" Height="15" Source="/TBC;component/images/Delete_N1.png"></Image>
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
    </Border>

    <Border CornerRadius="3" BorderBrush="Black" BorderThickness="1" Grid.Row="3" >
        <StackPanel Grid.Row="5" Orientation="Horizontal" Margin="300 0 0 0" Height="100">
            <Button Content="Add" Foreground="White" Height="23" Margin="38 38 0 38" HorizontalAlignment="Left" Name="btnAdd" VerticalAlignment="Top" Width="75" Command="{Binding BanquetSearchCommand}" >
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource ResourceKey=BanquetValuConverter}">
                        <Binding ElementName="btnAdd" Path="Content"/>
                        <Binding ElementName="btnRefresh" Path="Content"/>  

                    </MultiBinding>    
                </Button.CommandParameter>
                <Button.Background>
                    <ImageBrush ImageSource="/TBC;component/images/Add.png"  Stretch="UniformToFill" TileMode="None" />
                </Button.Background>
            </Button>
            <Button Content="    Refresh" Foreground="White" Height="23" Margin="20 38 0 38" HorizontalAlignment="Left"  Name="btnRefresh" VerticalAlignment="Top" Width="75">
                <Button.Background>
                    <ImageBrush ImageSource="/TBC;component/images/Refresh.png"  Stretch="UniformToFill" TileMode="None" />
                </Button.Background>
            </Button>
            <Button Content="Exit" Foreground="White" Height="23" Margin="20 38 0 38" HorizontalAlignment="Right"  Name="btnExit" VerticalAlignment="Top" Width="75">
                <Button.Background>
                    <ImageBrush ImageSource="/TBC;component/images/Exit.png" Stretch="UniformToFill" TileMode="None" />
                </Button.Background>
            </Button>
        </StackPanel>
    </Border> 
```

以上是我想要的数据网格文本列数据单击编辑和删除按钮命令的xaml。下面是视图模型

```
public ICommand BanquetSearchCommand { get; set; }
 public bool CanExecute(object parameter)
        {
            return true;
        }

        public event EventHandler CanExecuteChanged;

        public void Execute(object parameter)
        {
            //var param = (Tuple<string, string>)parameter;

            List<string> lststring = parameter as List<string>;
            string operation = string.Empty;
            string datarowindex = string.Empty;
            operation = Convert.ToString(lststring[0]).Trim();
            datarowindex = Convert.ToString(lststring[1]).Trim();

            switch (operation)
            {
                case "Add":
                    BlanquetMaster _bnkmaster = new BlanquetMaster();
                    _bnkmaster.ShowDialog();
                    break;
                case "Refresh":
                    break;
                case "Close":
                    break;
            }

        } 
```

请指导我编辑按钮不执行 Execute()。我是新的新WPF。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:13:58.910

在绑定中使用 RelatieSource 来指定按钮的 Command Binding。

```
<Button Command ="{Binding DataContext.BanquetSearchCommand, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}}" /> 
```

# web - opa : 使用 node.js 部署

> ID：12276156
> 
> 赞同：1
> 
> 时间：2012-09-05T07:04:31.173
> 
> 标签：web, opa

你有什么建议在 linux 下使用 node.js 后端部署 opa 应用程序？

当使用“本机”后端时，我曾经将 *.exe 部署在 /usr/local/bin/ 中。

现在，有了 node.js 后端，.js 文件似乎需要额外的目录 _depends。

我应该把我的整个 opa 项目放在网络用户的家中，然后从这里运行应用程序吗？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-03T10:10:05.083

**更新**：

您可以尝试新的捆绑包选项（在最后的夜间可用）：

```
$ opa --bundle myapp.tar.gz myapp.opa 
$ tar -xvf myapp.tar.gz 
$ du -h -d 1
   7,8M ./node_modules 
```

使用 a`package.json`来配置额外的节点模块依赖项，一些云提供商会使用它。或者将它们添加到 node_modules 目录中`npm install mongodb formidable nodemailer simplesmtp imap`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T10:03:59.490

假设你的 nodejs 文件名为`toto.js`，并且你有`toto_depends`，你可以`opa bundle toto`在你的项目目录中使用。

这会将所有必需的文件和依赖项捆绑在一个`toto.opa-bundle`文件夹中，然后将其 tar-gz 到`toto.opa-bundle.tar.gz`.

目前这是一个 alpha 工具。它有一种非常幼稚的方式来复制 opa-bundle 文件夹中的文件。

# database - sqlite3 表大小会影响性能吗？

> ID：12276164
> 
> 赞同：0
> 
> 时间：2012-09-05T07:05:19.340
> 
> 标签：database, utf-8, sqlite, case

我正在使用 sqlite3 作为数据库。数据库有一个表，它使用“名称”字段作为索引，它是一个 UTF-8 字符串。为了进行不区分大小写的比较，我添加了一个名为“name_upper”的新列，它只是“name”字段的 UTF-8 大写版本，并将其用作索引。

事实证明，“name”字段是迄今为止表中最大的字段，因此通过定义“name_upper”字段，我基本上将表的大小增加了一倍。与数据库文件所在的磁盘大小相比，数据库的大小仍然很小，但与内存大小相比，它可能会变大。

我的问题是，表的大小加倍会影响性能吗？我担心需要使用更多内存来缓存表。

另一种解决方案是定义一个新的排序函数来执行不区分大小写的 UTF-8 比较（我知道 ICU 提供了一个实现）。我不确定在这种情况下会对性能产生什么影响，因为每次比较都需要进行从小写到大写的转换。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T13:51:58.737

*如果*您的查询实际上读取了所有表，则将表的大小加倍会影响性能；如果仅通过检查索引即可回答搜索，则性能保持不变。

通常，I/O 支配运行时。即使您的数据适合缓存，您的排序函数的运行时间也不太可能引起注意，因为大多数使用索引的查找都使用二进制搜索，即只比较少数记录。

# java - 如何在 Eclipse IDE 中使用 Tomcat 服务器 7 浏览 https？

> ID：12276171
> 
> 赞同：1
> 
> 时间：2012-09-05T07:05:47.250
> 
> 标签：java, tomcat, https, connector

当我在 Eclipse IDE 中运行 Tomcat 服务器时，我无法浏览 https，但是当我使用 .exe 文件运行时，它可以使用 https 浏览。在 server.xml 中，我们编写了如下的连接器程序。

```
<Connector 
    clientAuth="true" protocol="HTTP/1.1" port="8443" minSpareThreads="5"   maxSpareThreads="75"
    enableLookups="true" disableUploadTimeout="true"
    keystore="C:/Program Files/Apache Software Foundation/Tomcat 7.0/conf/keystore.jks"
    keystorePass="123456"
    acceptCount="100" maxThreads="200"
    scheme="https" secure="true" SSLEnabled="true"
    KeyStorePass="123456"
    SSLCertificateFile="C:\Program Files\Apache Software Foundation\Tomcat 7.0\test.cer"
    SSLCertificateKeyFile="C:\Program Files\Apache Software Foundation\Tomcat 7.0\test.key" 
    SSLCACertificateFile="C:\Program Files\Apache Software Foundation\Tomcat 7.0\CertPath.txt"
    SSLVerifyClient="require" SSLEngine="on" SSLVerifyDepth="2" sslProtocol="TLS"
     /> 
```

# linux - 使用 wget 下载 html 页面中的嵌入链接

> ID：12276174
> 
> 赞同：2
> 
> 时间：2012-09-05T07:06:04.557
> 
> 标签：linux, unix, wget

我正在尝试使用 wget 从[https://github.com/justintime/nagios-plugins/downloads](https://github.com/justintime/nagios-plugins/downloads)下载包，但我得到的是我提到的链接的 html 文件，而不是包。我试过这个命令：

```
wget -r -l 1 https://github.com/justintime/nagios-plugins/downloads 
```

有没有办法从上面的链接下载包？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:11:58.967

`wget`正在给你你所要求的。您*需要*指定*包*链接。您正在指定*页面*链接。右键单击`Download`页面上所需包的按钮并选择`Copy Link Address`并指定*该*地址以`wget`

这有效

```
wget -r -l 1 https://github.com/justintime/nagios-plugins/zipball/master 
```

# android - 如何在将多个图像文件发送到电子邮件时显示进度条

> ID：12276177
> 
> 赞同：1
> 
> 时间：2012-09-05T07:06:05.260
> 
> 标签：android, progress-bar

我有一`Intent`门课可以将多个图像作为附件发送到电子邮件。所以一切正常。唯一的问题是，当图像数量不超过 20 时，Intent 类需要时间来打开特定的邮件客户端。所以在那段时间我想向用户显示进度条。所以有人帮我解决这个问题。我发送多张图片的代码如下所示。

```
ArrayList<Uri> uris = new ArrayList<Uri>();

for(int i = 0; i< NoteManager.getSingletonObject().getNoteItemCount(); i++)
{
    File imageFile = new File(m_ShareDir, NoteManager.getSingletonObject().getNote(i));
    ContentValues values = new ContentValues(2);
    values.put(MediaStore.Images.Media.MIME_TYPE, "image/png");
    values.put(MediaStore.Images.Media.DATA, imageFile.getAbsolutePath());

    Uri  imageUri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);  

    uris.add(imageUri);
}

Intent intent = new Intent(android.content.Intent.ACTION_SEND_MULTIPLE);
intent.setType("image/png");
intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);
startActivity(Intent.createChooser(intent, getResources().getString(R.string.share_send_text))); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:10:12.217

愿它帮助你

```
ProgressDialog pd = ProgressDialog.show(SetFrames.this,"Loading", "Please 

Wait...",true);
           new Thread() {
               public void run() {
               try {
                //do your process
               }catch(Exception e)
               {
               }
               handler.sendEmptyMessage(0);
               pd.dismiss();
               }

               }.start();

private Handler handler = new Handler() {
        public void handleMessage(Message msg) {

        }
        }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:10:15.253

试试这个。 [教程](http://mfarhan133.wordpress.com/2010/10/13/progress-bar-tutorial-for-android/)。我认为这是一个很好的例子，它会[一一显示进度项。](http://www.mkyong.com/android/android-progress-bar-example/)
享受...

# python - python如何评估这个？

> ID：12276180
> 
> 赞同：0
> 
> 时间：2012-09-05T07:06:13.260
> 
> 标签：python, evaluation

有人可以解释这些结果是如何可能的（python 2.6）：

```
>>> 1<3>2
True
>>> (1<3)>2
False
>>> 1<(3>2)
False 
```

我认为最后两个中的一个将与第一个匹配，但显然第一个语句中的运算符以某种方式链接？！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-05T07:09:36.773

您的第一个示例显示了[比较链接](http://docs.python.org/reference/expressions.html#not-in)。 `1<3>2`表示`1<3 and 3>2`（除了每个表达式只计算一次）。这适用于 Python 中的所有比较运算符。

您的后两个示例强制首先评估一个比较，从而产生一个布尔值，然后将其与剩余的整数进行比较。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-05T07:08:31.317

在您的第一种情况下`1<3>2` `1`，实际上小于`3`和`3`大于`2`，所以`True`。

在您的第二种情况下，`(1<3)>2` `(1<3)`评估为`True`表示为`1`，因此`1`不大于`2`。

在您的第三种情况下`1<(3>2)`，`1`不小于`True`表示为 的值`1`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T07:09:25.003

最后两个语句将布尔值与整数进行比较：

```
>>> True > 2
False
>>> 1 < True
False 
```

第一个语句是[比较链接](http://docs.python.org/reference/expressions.html#not-in)，它适用于 Python 中的所有布尔比较。文档中的注释：

> 比较产生布尔值：True 或 False。

通过将表达式的一部分放在括号中，这些部分首先得到评估，最后你会比较整数和布尔值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:13:19.097

根据[文档](http://docs.python.org/reference/expressions.html#not-in)，

> 与 C 不同，Python 中的所有比较操作都具有相同的优先级，低于任何算术、移位或按位操作。同样与 C 不同的是，像 a < b < c 这样的表达式具有数学中的常规解释：
> 
> 比较 ::= or_expr (comp_operator or_expr)*
> 
> comp_operator ::= "<" | ">" | "==" | ">=" | "<=" | "<>" | "!=" | “是” [“不是”] | [“不”]“在”
> 
> 比较产生布尔值：`True`或`False`。
> 
> 比较可以任意链接，例如，x < y <= z 等价于 x < y 和 y <= z，除了 y 只计算一次（但在这两种情况下，当找到 x < y 时根本不计算 z是假的）。

# javascript - 单击按钮时如何使用文本字段创建表单

> ID：12276181
> 
> 赞同：0
> 
> 时间：2012-09-05T07:06:16.817
> 
> 标签：javascript, html

我有一个包含 3 个文本字段的表单：

```
 <form id="form1" name="form1"action="">
  <td><input name="name" type="text" id="name" /></td>
  <td><input name="address" type="text" id="address"  /></td>
  <td><input name="age" type="text" id="age" /></td>

   ///Add Button here
  </form> 
```

单击添加表单按钮时如何生成相同的表单？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:13:20.483

您可以通过使添加按钮触发服务器端代码来执行该服务器端，该代码将输出另一个表单，但这意味着重新加载整个页面。

要做到这一点而无需重新加载，您可以使用纯客户端代码，使用 JavaScript`.cloneNode()`方法：

```
<button type="button" id="btnAddForm" onclick="CloneForm('formNameHere');">Add</button> 
```

和 JavaScript：

```
function CloneForm(formName) {
    var formCount = document.forms.length;
    var oForm = document.forms[formName];
    var clone = oForm.cloneNode(true);
    clone.name += "_" + formCount;
    document.body.appendChild(clone);
}​ 
```

（必须更改表格名称，否则我们将无法访问原始表格）

[现场测试用例](http://jsfiddle.net/xNhgy/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:12:44.473

javascript：

```
function a()
{
document.write("<form id='form1' name='form1'action=''>");
document.write(" <td><input name='name' type='text' id='name'/></td>");
 document.write("<td><input name='address' type='text' id='address'/></td>"); 
```

document.write("");

```
} 
```

html:

```
<input type="button" value="form" onclick="a();"> 
```

我想这就是你要找的。如果不是请解释清楚。我会尽力帮助你。

# web - bmp 文件是否应该用于网站

> ID：12276188
> 
> 赞同：4
> 
> 时间：2012-09-05T07:06:43.413
> 
> 标签：web, bmp

为网站使用 bmp 文件时是否存在问题（文件大小除外）？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-05T07:11:28.893

使用 2002 年后的浏览器或使用 Internet Explorer，没有问题，它们会显示它。IE 支持它，其他的（你可以找到[Mozilla/Firefox](http://dxr.mozilla.org/mozilla-central/browser/components/nsBrowserContentHandler.js.html)和[Chrome](http://src.chromium.org/svn/trunk/src/chrome/browser/resources/file_manager/js/image_parsers.js?p=115967) /WebKit 的代码）也效仿以保持兼容。唯一的问题确实是大小，这意味着：

*   来自您的网络主机的大量不必要的流量，
*   用户的下载时间更长。

如果您需要无损压缩，请使用 PNG：它得到广泛支持，少数不完全支持它的浏览器（如 IE 6）也支持 BMP 的所有功能——它们只是不支持 PNG 透明度，但 BMP 不支持也没有透明度。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-05T07:08:02.830

缺乏支持？我不相信许多浏览器能正确处理它们。

# php - 如何为表格 tr 赋予颜色？

> ID：12276196
> 
> 赞同：0
> 
> 时间：2012-09-05T07:07:06.367
> 
> 标签：php, css

您好，我有一个包含一些字段的表格，例如
![在此处输入图像描述](../Images/8355dae3b2fc680ef01406eb78009eb8.png)

在这里我想为表格整行设置颜色..意味着如果 ASR 值为 75 到 100 应该得到一种颜色，50 到 75 应该得到另一种颜色，低于 50 应该得到另一种颜色。

这是我的php代码

```
<table width="75%" border="1">
<tr>
<td align="center">channel no</td>
<td align="center">IP</td>
<td align="center">Total calls</td>
<td align="center">Connected calls</td>
<td align="center">Disconnected calls</td>
<td align="center">Duration</td>
<td align="center">ASR</td>
<td align="center">ACD</td>

</tr> 
<?php

while ($row = mysql_fetch_assoc($result)) {

//$minutes = gmdate("H:i:s", $row['tduration']);
echo "<tr>

<td>".$row['channel']."&nbsp;</td>
<td>".$row['ip']."&nbsp;</td>
<td>".$row['totalcalls']."&nbsp;</td>";

if ($row['totalcalls']>1){
$sql1    = "SELECT count(duration) as count  FROM gateways where duration=0 and ip='".$_POST['ip']."' and channel='".$row['channel']. "' and (connect_datetime BETWEEN ' ".$_POST['toval']." ' and '".$_POST['fromval']."'  or disconnect_datetime BETWEEN ' ".$_POST['toval']." ' and '".$_POST['fromval']."' ) Group by channel";

$result1 = mysql_query($sql1, $link);
$norow=mysql_fetch_assoc($result1);
$attenedcalls=($row['totalcalls']-$norow['count']);
echo "<td>".$attenedcalls."&nbsp;</td>";
$disconnectedcalls=($row['totalcalls']-$attenedcalls);
echo "<td>".$disconnectedcalls."&nbsp;</td>";
echo "   <td>".$row['tduration']."&nbsp;</td>";
echo "<td>".(($attenedcalls/$row['totalcalls'])*100)."</td>";
}else{

    echo "<td>".$row['totalcalls']."</td>";

    echo "<td>100</td>";

}

$minutes = gmdate("H:i:s", ($row['tduration']/$attenedcalls));
echo "   <td>".$minutes."&nbsp;</td>
</tr>";
}
?>
</table> 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:17:55.410

你可以这样尝试

```
<table width="75%" border="1">
<tr>
<td align="center">channel no</td>
<td align="center">IP</td>
<td align="center">Total calls</td>
<td align="center">Connected calls</td>
<td align="center">Disconnected calls</td>
<td align="center">Duration</td>
<td align="center">ASR</td>
<td align="center">ACD</td>

</tr> 
<?php

while ($row = mysql_fetch_assoc($result)) {
$color = '';
if ($row['totalcalls']>1){
    $sql1    = "SELECT count(duration) as count  FROM gateways where duration=0 and ip='".$_POST['ip']."' and channel='".$row['channel']. "' and (connect_datetime BETWEEN ' ".$_POST['toval']." ' and '".$_POST['fromval']."'  or disconnect_datetime BETWEEN ' ".$_POST['toval']." ' and '".$_POST['fromval']."' ) Group by channel";

    $result1 = mysql_query($sql1, $link);
    $norow=mysql_fetch_assoc($result1);
    $attenedcalls=($row['totalcalls']-$norow['count']);
    $asr = (($attenedcalls/$row['totalcalls'])*100);
    if($asr >= 75 && $asr <=100 ){
        $color = 'red';
    }else if($asr >= 50 && $asr < 75){
        $color = 'cyan';
    }else if($asr < 50){
        $color = 'blue';
    }
}
//$minutes = gmdate("H:i:s", $row['tduration']);
echo "<tr style='background-color : ".$color."'>

<td>".$row['channel']."&nbsp;</td>
<td>".$row['ip']."&nbsp;</td>
<td>".$row['totalcalls']."&nbsp;</td>";

if ($row['totalcalls']>1){

echo "<td>".$attenedcalls."&nbsp;</td>";
$disconnectedcalls=($row['totalcalls']-$attenedcalls);
echo "<td>".$disconnectedcalls."&nbsp;</td>";
echo "   <td>".$row['tduration']."&nbsp;</td>";
echo "<td>".$asr."</td>";
}else{

    echo "<td>".$row['totalcalls']."</td>";

    echo "<td>100</td>";

}

$minutes = gmdate("H:i:s", ($row['tduration']/$attenedcalls));
echo "   <td>".$minutes."&nbsp;</td>
</tr>";
}
?>
</table> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:17:52.930

修改您的`while`循环，以便在发出`<tr>`标签之前计算 ASR 值。使用该值根据您设置的分类选择一个类，并发出一个表单标签，`<tr class=foo>`其中`foo`是您选择的类名。然后只需为类编写 CSS 规则，使用类选择器如`tr.foo`.

（前提是您没有在`td`单元格上设置颜色。如果有，则需要使用选择器`tr.foo td`来覆盖此类设置。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:20:38.153

```
 [...]  
 while ($row = mysql_fetch_assoc($result)) { 
 $asrVal=(($attenedcalls/$row['totalcalls'])*100);
 if($asrVal>=50 && $asrVal <=75) $class="from50to75";
 if($asrVal>=75 && $asrVal <=100) $class="from75to100";
 if($asrVal<50) $class="below50";
 //$minutes = gmdate("H:i:s", $row['tduration']); 
 echo "<tr class='$class'> 
 [...] 
```

然后加：

```
<style>
tr.from50to75 td{background-color:red;}
tr.from75to100 td{background-color:green;}
tr.below50 td{background-color:blue;}
</style> 
```

# php - 当我们集成多个酒店 API 时如何提高应用程序（酒店预订系统）的速度

> ID：12276202
> 
> 赞同：0
> 
> 时间：2012-09-05T07:07:18.630
> 
> 标签：php

我正在研究酒店预订系统。我必须集成 5 个酒店 API 才能获得酒店。我见过很少有具有多个 API 的应用程序。这些应用程序的过程为

1 运行酒店可用性请求（一一）

1.  解析 xml 响应并将详细信息插入数据库

2.  每页显示二十到三十家酒店（我们可以借助分页查看其他酒店）

但是这些项目非常非常缓慢。这些应用程序需要 1.30-3 分钟来显示酒店

我有两个粗略的想法。

1）我将运行一个API（在我的API中速度非常快）并首先显示结果，然后我将运行其他API。在这种情况下，我应该更新分页（但我不知道如何正确实现这一点）。

2）我可以通过多踩来提高速度（cURL支持多踩）。

请提出想法以提高我的应用程序的速度。

我正在使用的技术：PHP、Mysql、cURL/SOAP、简单 XML 解析（代替 DOM 解析）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:28:00.857

您的网络服务器是否从酒店 API 请求 xml 数据并解析*每个*浏览器请求的响应？如果是这样，那么这听起来效率非常低 - 我会设置一个后台进程设置为每 5 分钟左右重复一次以获取、解析和存储数据库中的数据，然后您的网络服务器可以简单地从数据库而不是从外部服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:15:38.903

在您的测试环境中安装[XDebug](http://xdebug.org/)，并使用分析器查看瓶颈所在。有一个很好的插件叫做[KCachegrind](http://www.phpbuilder.com/columns/profiling-Xdebug-KCacheGrind/Jason_Gilmore12302010.php3)，它可以准确地显示你的 CPU 周期被浪费在哪里。

# java - Java 将 ArrayList 转换为字符串并返回 ArrayList？

> ID：12276205
> 
> 赞同：12
> 
> 时间：2012-09-05T07:07:21.947
> 
> 标签：java, android, string, list, arraylist

我想将 ArrayList 保存到 SharedPreferences 所以我需要把它变成一个字符串并返回，这就是我正在做的：

```
// Save to shared preferences
SharedPreferences sharedPref = this.getPreferences(Activity.MODE_PRIVATE);
SharedPreferences.Editor editor = this.getPreferences(Activity.MODE_PRIVATE).edit();
editor.putString("myAppsArr", myAppsArr.toString());
editor.commit(); 
```

我可以用它来检索它，`String arrayString = sharedPref.getString("yourKey", null);`但我不知道如何将 arrayString 转换回 ArrayList。如何做呢？

* * *

我的数组看起来像：

```
[item1,item2,item3] 
```

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-01-13T23:48:56.433

您有 2 个选择：

1.  手动解析字符串并重新创建数组列表。这将是相当乏味的。
2.  使用像 Google 的[Gson](http://code.google.com/p/google-gson/)库这样的 JSON 库将对象存储和检索为 JSON 字符串。这是一个轻量级的库，备受推崇和流行。在您的情况下，这将是一个理想的解决方案，只需最少的工作。例如，

    ```
    // How to store JSON string
    Gson gson = new Gson();
    // This can be any object. Does not have to be an arraylist.
    String json = gson.toJson(myAppsArr);

    // How to retrieve your Java object back from the string
    Gson gson = new Gson();
    DataObject obj = gson.fromJson(arrayString, ArrayList.class); 
    ```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-14T00:19:21.513

试试这个

```
ArrayList<String> array = Arrays.asList(arrayString.split(",")) 
```

如果逗号用作分隔符并且没有任何项目具有它，这将起作用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-01-06T13:29:50.377

页面[http://mjiayou.com/2015/07/22/exception-gson-internal-cannot-be-cast-to/](http://mjiayou.com/2015/07/22/exception-gson-internal-cannot-be-cast-to/)包含以下内容：

```
Type     type  = new TypeToken<List<T>>(){}.getType();
List<T>  list  = gson.fromJson(jsonString, type) 
```

也许会有所帮助。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-06-11T10:21:26.403

```
 //arraylist convert into String using Gson 
      Gson gson = new Gson();
      String data = gson.toJson(myArrayList);
      Log.e(TAG, "json:" + gson);

      //String to ArrayList

      Gson gson = new Gson();
      arrayList=gson.fromJson(data, new TypeToken<List<Friends>>()
      {}.getType()); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-15T21:55:20.057

我最终使用：

```
ArrayList<String> appList = new ArrayList<String>(Arrays.asList(appsString.split("\\s*,\\s*"))); 
```

不过，这不适用于所有数组类型。此选项不同于：

```
ArrayList<String> array = Arrays.asList(arrayString.split(",")); 
```

第二个选项创建一个不可变数组。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-10-09T08:00:39.863

> 更新 Dhruv Gairola 对**Kotlin的回答**

```
val gson = Gson();
val jsonString = gson.toJson(arrayList) 
```

# android - Android：为什么每次将活动带到前面时我们都必须重新创建 UI？

> ID：12276206
> 
> 赞同：0
> 
> 时间：2012-09-05T07:07:22.760
> 
> 标签：android, android-layout, android-activity

我刚开始学习 android，我正在开发一个应用程序，它使用与 PC 上运行的服务器的套接字连接。我成功建立连接并能够在客户端和服务器之间进行通信，直到按下“主页”按钮或如果有任何 OnConfigChange 事件。

我在应用程序中有一个活动，它有一个按钮（比如“连接”）。当它被按下时，手机与服务器建立连接（所有套接字编码都在非 ui 线程中完成），并且我在成功连接时将 TextView（比如“状态”）更改为“已连接”。因此，当手机旋转或按下主页按钮时，应用程序将隐藏。当我回到我的应用程序时，活动从初始阶段开始。在最后一个会话期间创建的所有对象都被破坏并失去套接字连接。

我只是不明白，

1.为什么Activity的UI每次放到前面都要重新创建？

2.为什么android不能只保存活动的状态，直到用户真正想要退出（按后退按钮）？

3.为什么android不能像windows那样最小化应用程序并回到用户离开的最后一个状态（这样我就拥有了所有的对象和）？

4.我已经在非ui线程中完成了所有套接字操作，一旦用户按下主页按钮（不按下返回）离开，这个套接字连接就会关闭。如果是这样，那么我应该如何保存我在线程中使用的套接字对象在最后一审？

5.为什么要在“OnPause”期间维护所有的UI变化？为什么android本身不能做同样的事情？（因为当用户离开时它确实具有应用程序的状态，并且当用户回来时我需要返回确切的应用程序状态）并在用户返回应用程序时恢复相同的状态？

我已经做了两年的开发人员，并且是 android 的新手。请对上述问题有所了解。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:58:47.747

至于 Android[活动生命周期](http://developer.android.com/reference/android/app/Activity.html)，你没有选择改变它的机制。

但是对于您的情况，我给出了一种解决方案：为您的项目实现 Android 应用程序。

创建一个包含您的主要活动的新整体应用程序：

```
public class ApplicationGlobalAgent extends Application
{
    @Override
    public void onCreate()
    {
        super.onCreate();
        MyNetwork.StartAndConnect();
    }

    @Override
    public void onTerminate()
    {
        MyNetwork.Finsish();
        super.onTerminate();
    }

    @Override
    public void onLowMemory()
    {
        //clear unused memory here
        System.gc();        
        super.onLowMemory();
    }

    @Override
    public void onConfigurationChanged(Configuration newConfig)
    {
        //handle any change when app is hidden, shown, restarted...
        super.onConfigurationChanged(newConfig);
    }   
} 
```

在你的`Manifiest.xml`：

```
<application 
    android:name=".ApplicationGlobalAgent"
    android:icon="@drawable/ic_launcher" 
    android:label="@string/app_name" >

    <activity
        android:name=".MainActivity"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
<application> 
```

因此，您可以在活动更改和操纵时维护您的网络。从您的应用程序中的活动中，您可以获得应用程序的成员，如下所示：

```
public class MainActivity extends Activity
{
    @Override
    protected void onCreate(Bundle pSavedInstanceState)
    {
        super.onCreate(pSavedInstanceState);

        //Access app members
        ApplicationGlobalAgent app = (ApplicationGlobalAgent)getApplication();
        app.GetMyNetwork().doDataTransport();
    }
} 
```

# android - 是否可以使用 phonegap 实现“Evernote”应用程序快捷方式创建？

> ID：12276207
> 
> 赞同：2
> 
> 时间：2012-09-05T07:07:24.383
> 
> 标签：android, cordova, android-intent, phonegap-plugins

是否可以使用 phonegap 插件实现“Evernote”应用程序中使用的快捷方式创建技术。我正在尝试使用 phonegap 和 android 做同样的事情，但不幸的是我无法这样做。我可以使用带有 android 的本机应用程序轻松做到这一点但是跨平台也可以吗？如果有人可以帮助我解决这个问题，那将非常有帮助。谢谢！

# php - magento中的一些行是什么意思。？

> ID：12276212
> 
> 赞同：0
> 
> 时间：2012-09-05T07:07:41.627
> 
> 标签：php, magento

假设在\AW\Blog\Model\post.php 中有一个函数。它里面有一个函数。

```
public function PreNext($type){
    $id = $this->_data['post_id'];
    $blog = Mage::getResourceModel('blog/post_collection');

        $blog->getSelect()->where('post_id>?',$id);

    return $blog->getFirstItem();
} 
```

为什么它写`$this->_data['post_id'];`我可以用另一个写它。magento中的函数中的四行是什么意思？非常感谢。

post.php

```
class AW_Blog_Model_Post extends Mage_Core_Model_Abstract{

    const NOROUTE_PAGE_ID = 'no-route';

    protected function _construct(){
        $this->_init('blog/post');
    }

    public function load($id, $field=null){
        return $post = parent::load($id, $field);
    }

    public function noRoutePage(){
        $this->setData($this->load(self::NOROUTE_PAGE_ID, $this->getIdFieldName()));
        return $this;
    }

    public function getShortContent(){
        $content = $this->getData('short_content');
        if(Mage::getStoreConfig(AW_Blog_Helper_Config::XML_BLOG_PARSE_CMS)){
            $processor = Mage::getModel('core/email_template_filter');
            $content = $processor->filter($content);
        }
        return $content;
    }

    public function getPostContent(){
        $content = $this->getData('post_content');
        if(Mage::getStoreConfig(AW_Blog_Helper_Config::XML_BLOG_PARSE_CMS)){
            $processor = Mage::getModel('core/email_template_filter');
            $content = $processor->filter($content);
        }
        return $content;
    }

    public function loadByIdentifier($v) {
        return $this->load($v, 'identifier');
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:18:33.350

这是自定义扩展的代码，所以只有拥有这个扩展的人才能知道，这个`post.php`文件包含什么，以及是否可以使用`$this->_data['post_id']`.

如果扩展使用标准的 Magento Getters/Setters，也许`$this->getPostId()`也可以工作。

其余的加载一个`post_id`大于的记录集合`$this->_data['post_id']`，但只返回找到的第一条记录。

### 更新

您发布的课程扩展了

```
Mage_Core_Model_Abstract 
```

这反过来又延伸

```
Varien_Object 
```

在标准 Magento OOB 中。

该类`Varien_Object`定义了我所说的标准 getter/setter，所以是的，您也可以使用它`$this->getPostId()`来获取值。

要了解这些 getter/setter 是如何工作的，我建议您查看`Varien_Object`并阅读有关 PHP[魔术方法](http://php.net/manual/en/language.oop5.magic.php)`__call()`的信息，例如`__get()`和`__set()`。

# ruby-on-rails - 使用 simple_form 为日期输入的不同选择元素设置不同的 css 类

> ID：12276214
> 
> 赞同：1
> 
> 时间：2012-09-05T07:07:58.800
> 
> 标签：ruby-on-rails, ruby-on-rails-3, simple-form

如何为通过以下方式生成的不同选择（日、月）设置不同的 CSS 类：

```
 <%= f.input :birthday, :as => :date, :discard_year => true,
                          :order => [:day, :month] %> 
```

我刚刚找到了一种为整体输入设置 css 类的方法。

它不必是 simple_form。它也可以是常规的 Rails 代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T12:18:22.520

不幸的是，没有简单的方法来解决它`select_date`，即使是`simple-form`. *`simple-form`映射`:as => 'date'`到`date_select`.*

尽管您可以拆分`date_select`为 a[`select_day`](http://api.rubyonrails.org/classes/ActionView/Helpers/DateHelper.html#method-i-select_day)和输入，并为每个输入[`select_month`](http://api.rubyonrails.org/classes/ActionView/Helpers/DateHelper.html#method-i-select_month)传递相应的 css 类。`html_options`

# android - android录音机启动失败？但是创建了 0 个大小的文件

> ID：12276218
> 
> 赞同：1
> 
> 时间：2012-09-05T07:08:05.030
> 
> 标签：android

```
recorder = new MediaRecorder();

    recorder.setAudioSource(MediaRecorder.AudioSource.MIC );
    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);

recorder.setMaxDuration(10000 * 10); 
recorder.setOnInfoListener(null); 
recorder.setOutputFile(s+"/sh1.3gp");
recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);

    try {  
        recorder.setAudioSamplingRate(TRIM_MEMORY_BACKGROUND);
        recorder.setAudioChannels(1);
        recorder.prepare(); 
        recorder.start();
        }  
    catch (Exception e2) {
            tv.setText("OHH"+e2.toString());

            } 
```

以上是播放录音机的代码。当我启动录音机时，它启动失败：

但是文件 sh1.3gp（一个 3gp 文件）文件是在 android sd 卡中创建的...... 请回复我的解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:14:18.733

您是否在模拟器上运行此代码？如果是这样，您必须尝试在真实设备上运行，因为您无法在不更改其设置的情况下使用模拟器保存音频。更简单的方法是在真实（硬件）设备上进行测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:34:53.467

试试这个代码来录制音频。创建记录器的对象。和
文件 audioFile=null;

```
File sampleDir = Environment.getExternalStorageDirectory();
try {
audiofile = File.createTempFile("Recording", ".3gp", sampleDir);
recorder = new MediaRecorder();
recorder.setAudioSource(MediaRecorder.AudioSource.MIC);
recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
    recorder.setOutputFile(audiofile.getAbsolutePath());
    recorder.prepare();
recorder.start();  
    }
    catch (IOException e)
   {
   Log.e(TAG, "sdcard access error");
   return;
} 
```

您可以使用以下代码将此音频保存在 SD 卡中。

```
audioFileName=input.getText().toString();
current = System.currentTimeMillis();
String artist = "" + getResources().getText(R.string.artistName);
ContentValues values = new ContentValues();
values.put(MediaStore.MediaColumns.DATA, audiofile.getAbsolutePath());
values.put(MediaStore.MediaColumns.TITLE, audioFileName);
values.put(MediaStore.Audio.Media.DATE_ADDED,  current );
values.put(MediaStore.MediaColumns.MIME_TYPE, "audio/3gpp");
values.put(MediaStore.Audio.Media.ARTIST, artist);              
values.put(MediaStore.Audio.Media.DATA, audiofile.getAbsolutePath());
ConntentResolver contentResolver = getContentResolver();
Uri base = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;
Uri newUri1 = contentResolver.insert(base, values); 
```

# wcf - MEF 和 Wcf 客户端代理

> ID：12276224
> 
> 赞同：0
> 
> 时间：2012-09-05T07:08:35.993
> 
> 标签：wcf, mef

我想知道是否可以导出 WCF 客户端代理以将 IOC 与 MEF 一起使用。以及如何做到这一点？为了制作 wcf 客户端代理，我使用了“添加服务引用”。有什么建议么 ？

感谢帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:27:21.187

由于生成了类，因此您有两种解决方案：

1）您可以编辑类并添加MEF导出属性，但修改生成的类不是一个好习惯

2）您可以复制生成的类并使用它创建一个新的类，您可以在该类上完全控制并且可以添加 MEF 导出属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-26T18:56:24.317

添加服务引用时生成的客户端类被标记为部分。只需在非生成文件中创建第二个定义并将 ExportAttribute 添加到该文件中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-07T09:47:53.990

[这](http://blogs.southworks.net/gmaliandi/2011/10/using-wcf-services-in-prism-silverlight-applications/)是另一种解决方案。...将服务功能公开为共享服务。

# android - 使用 Python/(GAE) 为 Android 应用推送通知的服务器端实现

> ID：12276226
> 
> 赞同：0
> 
> 时间：2012-09-05T07:08:48.187
> 
> 标签：android, python, google-app-engine

应该从哪里（有用的链接）开始（我需要基础知识） **使用PYTHON（GAE）编写服务器端实现******“android”**应用程序的推送通知？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:10:58.287

谷歌对使用他们的新系统设置推送通知有很好的介绍：谷歌云消息传递。有关更多信息，请参阅此处的入门指南：

[http://developer.android.com/guide/google/gcm/gs.html](http://developer.android.com/guide/google/gcm/gs.html)

由于您使用的是谷歌应用引擎，请查看使用应用引擎的演示应用。以下是应用引擎用户的服务器端代码段：

[http://developer.android.com/guide/google/gcm/demo.html#appengine-setup](http://developer.android.com/guide/google/gcm/demo.html#appengine-setup)

# java - 无法使用 JDBC 连接器连接到 MySQL

> ID：12276242
> 
> 赞同：0
> 
> 时间：2012-09-05T07:09:38.893
> 
> 标签：java, mysql, jdbc

我有以下问题：

我无法使用 java 连接到 MySQL。

这是代码：

```
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Date;

public class MySQLAccess {
  private Connection connect = null;
  private Statement statement = null;
  private PreparedStatement preparedStatement = null;
  private ResultSet resultSet = null;

  public void readDataBase() throws Exception {
    try {
      // This will load the MySQL driver, each DB has its own driver
      Class.forName("com.mysql.jdbc.Driver");
      // Setup the connection with the DB
      connect = DriverManager
          .getConnection("jdbc:mysql://localhost/feedback?"
              + "user=root&password="); 
```

它向我展示了这个问题：

```
Exception in thread "main" java.lang.ClassNotFoundException: com.mysql.jdbc.Driver 
```

我有 Windows .. 我在 PATH 环境变量中导入了 jdbc，如下所示：

```
C:\Program Files (x86)\Java\jre6\lib\ext\mysql-connector-java-5.1.21-bin.jar 
```

这样对吗？

除此之外，我不知道该怎么写密码=.... 因为我想要它没有密码。是这样吗？`password=");`

最后，我也应该安装另一个驱动程序吗？

谢谢您，很抱歉给您带来麻烦，但我是使用 Java 连接 MySQL 的新手，而 de.mysql 对我没有太大帮助....

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:14:53.683

设置路径环境变量不会解决您的问题。您还需要设置“类路径”环境变量。通过命令外壳执行此操作的一种方法可能是：

```
set CLASSPATH=C:\Program Files (x86)\Java\jre6\lib\ext\mysql-connector-java-5.1.21-bin.jar:$CLASSPATH 
```

其中“路径”是驱动程序的实际位置。您也可以使用系统控制面板设置类路径环境变量。

由于您使用的是 Windows 7，因此您还可以

*   右键单击“我的电脑”
*   点击属性
*   转到高级系统设置（在您的左侧面板上）
*   单击高级选项卡，然后单击“环境变量”
*   在系统变量中，单击新建并添加“CLASSPATH”作为名称和“C:\Program Files (x86)\Java\jre6\lib\ext\mysql-connector-java-5.1.21-bin.jar”作为价值

* * *

**编辑：**由于您使用 NetBeans IDE 开发应用程序，因此您需要将*mysql-connector-java-5.1.21-bin.jar* 添加到您的库中。这样做的方法是：

*   右键单击您的项目，然后单击“属性”
*   转到“库”，单击“添加 JAR/文件夹”并添加“mysql-connector-java-5.1.21-bin.jar”

然后你可以继续编译你的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:26:03.717

试试这个，

```
 System.out.println("MySQL Connect Example.");
 Connection conn = null;
 String url = "jdbc:mysql://localhost:3306/";
 String dbName = "feedback";
 String driver = "com.mysql.jdbc.Driver";
 String userName = "root";
 String password = "";
 try {
     Class.forName(driver).newInstance();
     conn = DriverManager.getConnection(url + dbName, userName, password);

     System.out.println("Connected to the database");
     conn.close();
     System.out.println("Disconnected from database");
 } catch (Exception e) {
     e.printStackTrace();
 } 
```

如果此代码无法正常工作。您的路径有问题，或者您没有添加 jar 文件。

# android-fragments - 在活动中提交来自 onLoadFinished 的片段

> ID：12276243
> 
> 赞同：11
> 
> 时间：2012-09-05T07:09:44.743
> 
> 标签：android-fragments, actionbarsherlock, android-listfragment

我有一个使用加载器回调从服务器加载数据列表的活动。我必须将数据列出到一个扩展的片段中

```
SherlockListFragment 
```

我尝试使用提交片段

```
Fragment newFragment   = CategoryFragment.newInstance(mStackLevel,categoryList);
FragmentTransaction ft = getSupportFragmentManager().beginTransaction();
ft.add(R.id.simple_fragment, newFragment).commit(); 
```

在 onLoadFinished 中，它给出了一个 IllegalStateException 说

```
java.lang.IllegalStateException: Can not perform this action inside of onLoadFinished 
```

我已经在 actionbar sherlock 中引用了该示例，但这些示例在片段中包含加载程序，而不是在活动中。

谁能帮我解决这个问题，我可以在不从片段中调用加载程序的情况下修复它！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-14T09:17:41.813

Atlast，我已经找到了解决这个问题的方法。创建一个设置空消息的句柄并调用该处理程序 onLoadFinished()。代码与此类似。

```
@Override
public void onLoadFinished(Loader<List<Station>> arg0, List<Station> arg1) {
    // do other actions
    handler.sendEmptyMessage(2);
} 
```

在处理程序中，

```
private Handler handler = new Handler()  { // handler for commiting fragment after data is loaded
    @Override
    public void handleMessage(Message msg) {
        if(msg.what == 2) {
            Log.d(TAG, "onload finished : handler called. setting the fragment.");
            // commit the fragment
        }
    }
}; 
```

片段的数量取决于需求。

```
This method can be mainly used in case of stackFragments, where all fragments have different related functions. 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-07T16:36:40.790

根据 onLoadFinished() 方法的 Android 文档：

> 请注意，通常不允许应用程序在此调用中提交片段事务，因为它可能在保存活动状态后发生。有关这方面的进一步讨论，请参阅 FragmentManager.openTransaction()。

[https://developer.android.com/reference/android/app/LoaderManager.LoaderCallbacks.html#onLoadFinished(android.content.Loader, D)](https://developer.android.com/reference/android/app/LoaderManager.LoaderCallbacks.html#onLoadFinished%28android.content.Loader%3CD%3E,%20D%29)

*（注意：将该链接复制/粘贴到您的浏览器中...... StackOverflow 处理得不好......）*

因此，您根本不应该加载处于该状态的片段。如果你真的不想把Loader放到Fragment里面，那么你需要在你的Activity的onCreate()方法中初始化Fragment，然后当onLoadFinished发生时，简单的在你的Fragment上调用一个方法。

一些**粗略的**伪代码如下：

```
public class DummyFragment {

     public void setData(Object someObject) {
           //do stuff
     }

public class DummyActivity extends LoaderCallbacks<Object> {

     public void onCreate(Bundle savedInstanceState) {
           super.onCreate(savedInstanceState);

           Fragment newFragment = DummyFragment.newInstance();
           FragmentTransaction ft = getSupportFragmentManager().beginTransaction();
           ft.add(R.id.simple_fragment, newFragment).commit();

           getSupportLoaderManager.initLoader(0, null, this)
     }

     // put your other LoaderCallbacks here... onCreateLoader() and onLoaderReset()

     public void onLoadFinished(Loader<Object> loader, Object result) {
           Fragment f = getSupportLoaderManager.findFragmentById(R.id.simple_fragment);
           f.setData(result);
     } 
```

显然，您需要使用正确的对象.. 和正确的加载器，并且可能定义一个有用的 setData() 方法来更新您的片段。但希望这将为您指明正确的方向。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-20T11:25:40.623

正如@kwazi 回答的那样，这是一个糟糕的用户体验`FragmentTransition.commit()`。`onLoadFinished()`我通过使用 ProgressDialog 找到了此事件的解决方案。

最初是`ProgressDialog.setOnDismissListener(new listener)`为了观看`onLoadFinished().` 我`progressDialog.show()`之前所做的进一步而创建的`getLoaderManager().restartLoader()`。并最终`progressDialog.dismiss()`放入`onLoadFinished()`. 这种方法允许不绑定主 UI 线程和 Loader 的线程。

```
public class FrPersonsListAnswer extends Fragment 
						   implements 
						   LoaderCallbacks<Cursor>{
private ProgressDialog progressDialog;
                             	@Override
	public View onCreateView(LayoutInflater inflater,
			 ViewGroup container, Bundle savedInstanceState) {
		View view = inflater.inflate(R.layout.fragment_persons_list, container, false);

		//prepare progress Dialog
		progressDialog = new ProgressDialog(curActivity);
		progressDialog.setMessage("Wait...");
		progressDialog.setIndeterminate(true);
		progressDialog.setOnDismissListener(new OnDismissListener() {

			@Override
			public void onDismiss(DialogInterface dialog) {
				//make FragmentTransaction.commit() here;

				//but it's recommended to pass control to your Activity 
				//via an Interface and manage fragments there.
			}
		});

		lv = (ListView) view.findViewById(R.id.lv_out1);
		lv.setOnItemClickListener(new OnItemClickListener() {

			@Override
			public void onItemClick(AdapterView<?> parent, final View view,
					final int position, long id) {

				//START PROGRESS DIALOG HERE
				progressDialog.show();

				Cursor c = (Cursor) parent.getAdapter().getItem(position);

				// create Loader 
				getLoaderManager().restartLoader(1,	null, curFragment);
			}
		});

		return view;
	}

	@Override
	public void onLoadFinished(Loader<Cursor> loader, Cursor data) {
		switch (loader.getId()) {
		case 1:
			//dismiss dialog and call progressDialog.onDismiss() listener
			progressDialog.dismiss();
			break;

		default:
			break;
		}
	}
```

# c++ - C++ 这里有一些错误

> ID：12276247
> 
> 赞同：1
> 
> 时间：2012-09-05T07:09:58.773
> 
> 标签：c++, string, compiler-errors

谁能帮我这个？我是新来的。任何帮助都是最受欢迎的！

> 9.3.cpp：在构造函数中'Address::Address(int,std::string.int.std::string,std::String,std::String)': 9.3.cpp:29:51:error:'this ' 不能用作函数
> 
> 9.3.cpp：在成员函数'int Address::compareTo(const Address&)'中：9.3.cpp:39:26:error:'std::string'没有名为'compareTo'的成员</p>

```
#include<iostream>
using namespace std;

class Address {
  int    houseNumber;
  string street;
  int    apartmentNumber;
  string city;
  string state;
  string zipCode; // e.g., "47405-1234"
  Address(int houseNumber, 
          string street, 
          // no apartmentNumber  
          string city, 
          string state, 
          string zipCode) { 
    this->houseNumber = houseNumber; 
    this->street = street; 
    this->city = city; 
    this->state = state; 
    this->zipCode = zipCode; 
  } 
  Address(int houseNumber, 
          string street, 
          int apartmentNumber, 
          string city, 
          string state, 
          string zipCode) { 
    this(houseNumber, street, city, state, zipCode);
    this->apartmentNumber = apartmentNumber; 
  } 
  void print(void) {
         std::cout << "Street: " << street << "\nCity: " 
             << city << "\nState: " << state << "\nPostal Code: " << zipCode;
}

  int compareTo(const Address &a) { 
    // same conventions as for Strings
    return this->zipCode.compareTo(angel); 
  }
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:17:12.480

这一行：

```
this(houseNumber, street, city, state, zipCode); 
```

你不能调用自己的构造函数，至少不能这样。C++11 标准中的新功能是一种使用初始化列表的方法：

```
Address(int houseNumber, 
        string street, 
        int apartmentNumber, 
        string city, 
        string state, 
        string zipCode)
    : Address(houseNumber, street, city, state, zipCode)
{ 
    this->apartmentNumber = apartmentNumber;
} 
```

如果您的编译器还不支持它，那么您必须从第一个构造函数中复制代码，或者将通用初始化放在一个单独的函数中，以便从两个构造函数中调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:18:37.300

您不能`this`以这种方式使用指针

```
 this(houseNumber, street, city, state, zipCode); 
```

因为它不是一个函数。您似乎正在尝试在另一个构造函数中调用您的类的另一个构造函数。这不会按您的意愿工作-您不能像成员函数一样调用构造函数-在对象的实例上调用成员函数，而构造函数用于创建对象。您应该以与在其他构造函数中相同的方式设置变量，或者更好地使用初始化列表。

`#include<string>`如果您位于标题的顶部，则应解决另一个错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:20:34.900

您的代码似乎不是 C++，而是 Java 或 C#：C++ 使用成员初始化程序列表将构造函数委托给 [sub-] 对象（并且委托给同一类的另一个构造函数在 C++ 中是新的。使用成员初始化程序列表看起来像这样：

```
class foo
{
    std::string d_val;
public:
    foo(std::string const& val)
        : d_val(val)
    {
    }
    foo()
        : foo("default") // C++ 2011 only
    {
    }
}; 
```

# c++ - C++中char和unsigned char的按位比较

> ID：12276248
> 
> 赞同：0
> 
> 时间：2012-09-05T07:10:00.247
> 
> 标签：c++, comparison, bit-manipulation

为什么在 C++ 中没有像“====”这样的位比较器？我每次都必须转换变量吗？

（注意：我已经知道逻辑算术运算符，看起来不同。顺便说一下，也没有算术异或 a^^b :) 我知道我可以检查 a&b 与 a（或 b），a^b 与零,...)

```
#include "stdafx.h"
#include<iostream>
#include<stdlib.h>

int main()
{
    char a=-1;
    unsigned char b=0;

    for(b=0;b<255;b++)
    {
        if(a==b)std::cout<<(int)b;  //cannot find 11111111)2==11111111)2
                                    //ok, it looks -1==255 surely 
                  //if(a====b)std::cout<<" bitwise equal "; could be good
    }

    bool compare=true;
    bool bit1=false,bit2=false;
    unsigned char one=1;

    b=255; //bit-swise equal to a
    for(int i=1;i<7;i++)
    {
        bit1=(a>>i)&one;
        bit2=(b>>i)&one;
        if(bit1!=bit2){compare=false;return;}//checks if any bit is different 
    }

    if(compare)std::cout<<(int)b; //this writes 255 on screen

    getchar();
    return 0;
} 
```

谢谢。

我本可以这样做：

```
__asm
     {
          push push....
          mov al,[a]
          mov dl,[b]
          cmp al,dl    //this is single instr but needs others
          je yes       
          mov [compare],false
          jmp finish
          yes:
          mov [compare],true
          jmp finish

          finish:
          pop pop... 
```

臃肿的代码...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:16:49.720

这样的运营商不会工作，因为它会依赖于平台。

我假设当 x 和 y 具有不同的长度时，'x === y' 应该返回 false，并且由于 int 在不同平台上具有不同的长度，因此该操作的结果也是如此。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:17:11.560

你真的需要比较有符号和无符号吗？

您应该重新设计您的算法以使 的两个操作数`==`具有相同的符号。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T08:15:45.987

您不能对`char`或进行任何比较`unsigned char`。积分提升意味着您可以比较的最小积分类型是 `int`; the`char`和 the`unsigned char`都将`int` 在比较之前提升。（之后，在大多数现代机器上，按位比较和值比较之间没有区别。）

我很想说你不应该想要逐位比较。在许多方面，隐式转换（包括提升）比其他任何事情都会导致更多问题，从逻辑上讲，您*应该*明确并指定要比较的内容。（如果类型是 ，则保证相等性的测试是“大的” `unsigned char`。这就是为什么`memcmp`根据比较来定义的原因`unsigned char` 。）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:12:09.940

您可以执行以下操作：

```
a ^ b == 0 
```

# google-maps - 在 GMAP3 中自定义谷歌地图可视化

> ID：12276259
> 
> 赞同：0
> 
> 时间：2012-09-05T07:11:03.780
> 
> 标签：google-maps, jquery-gmap3

想要将谷歌地图可视化更改为：![在此处输入图像描述](../Images/d824528d076e58095076dc95f65e482c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:15:47.737

您可以为此使用[Google 自定义样式地图](https://developers.google.com/maps/documentation/javascript/styling?hl=de)。有一个可用的[向导](http://gmaps-samples-v3.googlecode.com/svn/trunk/styledmaps/wizard/index.html)可以更轻松地创建样式地图。

# jquery - 通过在线或通过内部 url 连接 jquery 的优点

> ID：12276260
> 
> 赞同：1
> 
> 时间：2012-09-05T07:11:13.117
> 
> 标签：jquery, api, connection

> **可能重复：**
> [为什么我应该为 jQuery 使用 Google 的 CDN？](https://stackoverflow.com/questions/2180391/why-should-i-use-googles-cdn-for-jquery)

我在考虑......哪个选项更好，特别是为什么。例如，我想知道在速度或性能方面有哪些优势以及它们的劣势。也可能是它们没有缺点或优点。那么这两个选项之间有什么区别：

通过内部 url 连接 jquery：

```
<script type="text/javascript" src="_js/jquery-1.7.2.min.js"></script> 
```

通过在线连接jquery：

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:13:50.093

后者有其优势。考虑到许多网站使用 Google CDN 在其网站上托管 JQuery。当用户进入您的站点时，该文件很可能已经在浏览器缓存中，从而节省了时间和带宽，并且加载您的站点的速度也更快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:13:59.023

使用远程（所谓的 CDN）jQuery 的优点是大多数用户已经拥有脚本的缓存版本，因此无需再次加载。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:34:23.680

是的，我同意让 Google 为您存储 jQuery 库是一些真正的优势，但在现实生活中，有多少公司会让 Google 等其他公司存储他们正在使用的文件？

是的，这毕竟是谷歌，但归根结底，安全就是安全，我相信这两家大公司都不会使用谷歌的方式。

你在谈论速度和带宽？嗯，jQuery min 版本太小了，我们甚至不是在谈论 1.8.0 新期货，它允许你只用你正在使用的功能生成一个 js。

因此，忘记从其他来源加载 js 的错误信息，并尝试自己优化您的项目。我对您的互联网速度或客户端速度一无所知，但当您的应用程序正在下载巨大的背景图像和其他内容时，不加载 90 KB 并不能为您节省任何费用。

这是我的观点，我相信很多人都会同意我的看法。

# php - 如何使输入字段携带文本进入单独页面上的谷歌自定义搜索

> ID：12276271
> 
> 赞同：0
> 
> 时间：2012-09-05T07:11:34.647
> 
> 标签：php, javascript, html, ajax, search

所以我在我的网站上添加了谷歌自定义搜索，我非常喜欢它的运作方式。不过，有一件事是我想这样做，这样您就可以单击页面顶部的输入字段，进行搜索，然后让它将您重定向到我的页面：[http](http://www.example.com/search) ://www.example.com/search但放他们在页面顶部的普通输入字段中搜索的内容，进入谷歌自定义搜索框并进行搜索。

或多或少，这个网站正在做我正在尝试做的事情，我不确定它是否涉及 AJAX 或什么，但我完全被难住了，无法在任何地方找到一个很好的指南。

[http://www.ag.com/](http://www.a-g.com/)（尝试在右上角搜索，看看我在说什么）

是否有捷径可寻？至少有人能指出我正确的方向吗？

非常感谢，一直在强调解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:17:06.413

您可以使用如下参数访问搜索 URL `q`：[http ://www.northtownsremodeling.com/search.php?q=gallery](http://www.northtownsremodeling.com/search.php?q=gallery)

所以它基本上应该通过简单地通过 GET 提交一个带有包含搜索字符串的“q”参数的表单来工作。

就像是：

```
<form method="get" action="/search.php">
    <input name="q">
</form> 
```

演示：http: [//jsfiddle.net/csegM/](http://jsfiddle.net/csegM/)

# perl - x86pc-solaris 上的 perl sybase 连接错误

> ID：12276281
> 
> 赞同：0
> 
> 时间：2012-09-05T07:12:23.590
> 
> 标签：perl, sybase

我有一个带有 x86 CPU 的 Solaris 系统，当我尝试使用 perl 连接到 sybase db 时，出现以下错误（当我在调试模式下运行脚本并进入函数 DBD::Sybase::db 时产生了错误： :_login 在 Sybase.pm 第 94 行）

**ct_con_props(CS_PASSWORD) 在 /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBD/Sybase.pm 第 94 行失败。在 /usr/local/lib/perl5/site_perl/5.8.8/i86pc -solaris/DBD/Sybase.pm 第 94 行 DBD::Sybase::dr::connect('DBI::dr=HASH(0x8613a5c)', 'server=server1', 'user1, 'password1', 'HASH(0x86b4e5c) )') 在 /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBI.pm 第 617 行 DBI::_ *ANON* _/usr/local/lib/perl5/site_perl/5.8.8/ 处调用i86pc-solaris/DBI.pm:679 在 /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBI.pm 第 681 行调用 DBI::connect('DBI', 'DBI:Sybase:server =server1', 'user1, 'password1') 在 ./test.pl 第 28 行调用 DBI::CODE(0x83fcdd4)(/usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBI.pm :618): 618: $user = '' 如果 !defined $user;**

从消息中，似乎密码有问题？但我确信密码是正确的，并且相同的代码在 Spark-solaris 系统上运行良好，谁能告诉我出了什么问题，或者告诉我如何进入函数 DBD::Sybase::db::_login( $this, $server, $user, $auth, $attr)? 看起来这个函数在一个 .xs 文件中，但我找不到它在哪里，也无法调试它。

如果我在没有调试的情况下运行脚本，我收到以下错误

**ct_con_props(CS_PASSWORD) 在 /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBD/Sybase.pm 第 94 行失败。DBI connect('server=server1','user1',...)失败：OpenClient 消息：LAYER = (1) ORIGIN = (4) SEVERITY = (6) NUMBER = (221) 服务器 server1，数据库消息字符串：ct__string_extended_encryption：用户 api 层：内部公共库错误：错误字符串在 ./ 不可用test.pl 第 28 行 在 ./test.pl 第 28 行连接失败。**

这是 Sybase.pm 中子连接的代码

```
 sub connect {
    my($drh, $dbase, $user, $auth, $attr) = @_;
    my $ifile = '';
    my $server = $dbase || $ENV{DSQUERY} || 'SYBASE';

    my($this) = DBI::_new_dbh($drh, {
        'Name'         => $server,
        'Username'     => $user,
        'CURRENT_USER' => $user,
    });

    DBD::Sybase::db::_login($this, $server, $user, $auth, $attr)
        or return undef;

    return $this;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T02:31:13.123

在向 Michael Peppler（模块编写者）发送电子邮件后，我得到了以下答案并且问题得到了解决。

问题在于 lib3p 目录，其中包含在运行时由 OpenClient 直接加载的库，特别是对于密码加密等内容。

这个目录显然需要在 LD_LIBRARY_PATH 中，或者在默认的库搜索路径中被引用。

所以基本上，我需要将 OCS-15 文件夹的路径添加到 LD_LIBRARY_PATH

# php - 使用关联类时如何删除实体？

> ID：12276285
> 
> 赞同：3
> 
> 时间：2012-09-05T07:12:52.200
> 
> 标签：php, orm, symfony, doctrine-orm

我有一个具有一对多关系的类用户，`ArticleVote`它本身就是一个`Association Class`（见下文）。

这是我的实体的样子：

```
class User
{
    protected $articlesVotes;
} 
```

用户持有一个`ArticleVote`集合。

虽然 ArticleVote 由基于`UserId`和 的复合主键引用`ArticleId`：

```
class ArticleVote
{
    protected $article;
    protected $user;
} 
```

现在，假设我想删除`ArticleVote`from `User`，我自然会这样做，这会导致**集合**`$user->getArticlesVotes()->removeElement($articleVote);`中的实体被实际删除，但由于它既是关系又是实体，数据库中的行根本不会被删除。**`ArticleVote`**

 **我知道，我可以做到，`$em->remove($articleVote);`但我希望我可以从用户集合中删除它以绕过 EntityManager，如果我想删除几个`$articleVote`呢？

`User`目前，我通过传递实体在我的模型中创建/删除投票，`Article`它是我的`User`实体创建`ArticleVote`对象并自行附加它，我希望我可以对删除功能具有相同的行为。

有任何想法吗？（哦，顺便说一句，我已经尝试过使用 cascade="remove"）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T10:25:55.943

我昨天遇到了这个确切的问题。设置 cascade="remove" 时，这会删除 UnitOfWork 中标记的关联。但是，要从数据库中删除项目，您需要在 ArticlesVote 实体中标记 $user 属性以在删除时级联。像这样。。

```
class ArticleVote
{
    protected $article;

    /**
     * @ManyToOne(targetEntity=....
     * @ORM\JoinColumn(name="user_id", referencedColumnName="id", onDelete="CASCADE")
     */
    protected $user;
} 
```

这将为您的数据库中的外键添加一个“删除时”级联，并且与已删除用户关联的文章投票将随之删除。**

# ruby-on-rails - 太阳黑子 (sunspot_mongo) 'like' 查询

> ID：12276286
> 
> 赞同：0
> 
> 时间：2012-09-05T07:12:54.307
> 
> 标签：ruby-on-rails, solr, mongoid, sunspot

> **可能重复：**
> [太阳黑子`LIKE`查询](https://stackoverflow.com/questions/5943254/sunspot-like-query)

我在这里使用此代码对多个模型进行全文搜索：

```
search = Sunspot.search User, Quote, Category do
  fulltext(query, {:minimum_match => 1})
end.results 
```

因此，当查询为“matthias”时，它将返回所有匹配的记录。但是，如果我只输入“matt”，则没有任何匹配项...如何配置查询以同时搜索部分单词？

谢谢

# ruby-on-rails - 范围和选择

> ID：12276287
> 
> 赞同：0
> 
> 时间：2012-09-05T07:12:55.057
> 
> 标签：ruby-on-rails, scope

并且无法理解为什么我的代码不起作用

我有下一个： `people/index.html.erb`=>

```
 <% @people.each do |i| %>
    <tr>
      <td><%= i.id %></td>
      <td><%= i.name %></td>
      <td><%= link_to i.country_id, root_path(:country_id => i.country_id) %></td>
      <td><%= i.state_id %></td>
    </tr>
  <% end %> 
```

people_controller：

```
 def index
    @people = Person.all
    @people = @people.by_country_id(params[:country_id]) if params[:country_id].present?
  end 
```

在人.rb

```
scope :by_country_id, lambda { |x| where(:country_id => x) } 
```

根 :to => 'people#index'

我想，当我点击 link_to 时，我收到了所有带有 country_id 的人

在输出中我有 ...localhost:3000/?country_id=1001

```
NoMethodError in PeopleController#index 
undefined method `by_country_id' 
```

我错在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:16:04.100

改变

```
@people = @people.by_country_id(params[:country_id]) if params[:country_id].present? 
```

到

```
@people = Person.by_country_id(params[:country_id]) if params[:country_id].present? 
```

# android - 在横向和纵向上显示重复背景的错误

> ID：12276290
> 
> 赞同：0
> 
> 时间：2012-09-05T07:13:05.670
> 
> 标签：android, android-layout

bg_repeat.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<bitmap xmlns:android="http://schemas.android.com/apk/res/android"
android:src="@drawable/bg_pattern"
android:tileMode="repeat" /> 
```

bg_pattern.jpg： ![bg_pattern.jpg](../Images/8280ef7c4ca43feecd5fa663427e1bb4.png) 如果我以纵向模式启动应用程序： ![肖像](../Images/2d95ca2458166e87c5c5566dbe68efcc.png) 并且输出正常。

如果在横向模式下启动应用程序，有时输出（在 splashScreen BG 和 Main BG 中）就像： ![景观](../Images/2880645264632a612ed6cda9cf2fd18f.png) 这种模式下的第二个问题（LandS）：我将方向更改为纵向，然后按返回按钮关闭应用程序，它刷新当前活动（通过每次按下 Back btn 1,2 甚至 4 次）（刷新意味着从当前返回到当前活动！）

怎么了？这是一个错误吗？（每两个问题）。顺便说一句，它是我的 splashScreen.java 代码：

```
public class SplashScreen extends Activity {
private int _splashTime = 2000;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    this.requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
             WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);

    super.onCreate(savedInstanceState);
    setContentView(R.layout.splashscreen);

    new Handler().postDelayed(new Thread(){
       @Override
       public void run(){
         Intent mainMenu = new Intent(SplashScreen.this, NextAct.class);
         SplashScreen.this.startActivity(mainMenu);
         SplashScreen.this.finish();
         overridePendingTransition(R.anim.fadein, R.anim.fadeout);
       }
    }, _splashTime);
 }
} 
```

毕竟我说过，我使用customTheme。这是清单 xml 代码：

```
<activity android:theme="@style/CustomTheme"
        android:label="@string/app_name"
        android:name=".SplashScreen"> 
```

这是styles.xml 代码的一部分：

```
<style name="CustomTheme" parent="@android:style/Theme.Light">
    <item name="android:windowNoTitle">true</item>
    <item name="android:windowBackground">@drawable/bg_repeat</item>
</style> 
```

但不要测试这个新应用程序，不管它有没有问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:17:55.460

不重复背景是一个已知错误，它在 ICS 中部分修复，在 JB 中完全修复。有一种解决方法，您必须将位图包装在布局中，然后在 onCreate 中的代码中设置重复，如下所示：

```
 parent = (RelativeLayout) findViewById(R.id.parent);
    Bitmap bg = BitmapFactory.decodeResource(this.getResources(), R.drawable.bg_pattern);
    BitmapDrawable patternRepeat = new BitmapDrawable(bg);
    patternRepeat.setTileModeX(Shader.TileMode.REPEAT);
    patternRepeat.setTileModeY(Shader.TileMode.REPEAT);
    parent.setBackgroundDrawable(patternRepeat); 
```

# visual-studio - Visual Studio 2012 中未着色的类名

> ID：12276292
> 
> 赞同：14
> 
> 时间：2012-09-05T07:13:13.900
> 
> 标签：visual-studio, visual-studio-2012

我正在评估 Visual Studio 2012 并且在颜色模式方面遇到了一些问题。
果然，我能够通过为文本编辑器设置颜色来克服最初的不适。
我无法设置正确的一件事是类名的颜色。假设您有如下一行。

```
Class name = new Class(); 
```

整行是相同的颜色，期待新的关键字。
我希望“类”一词与早期版本的 Visual Studio 中的颜色不同。
我无法从选项中为此设置颜色。
我已经尝试在 Tool -> Option -> Environment -> Font & Colors 下为所有字段（如纯文本、文字、标识符等）
更改颜色，但我仍然无法解决此问题。我也应用了客户主题，这些也无济于事。
我不想为这种基本偏好安装生产力工具，对吧？？

编辑：
我在 Windows 7 x64 和 Visual Studio Professional 2012，版本 11.0.50727.1 RTMREL

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2014-01-15T18:57:07.850

我找到的解决方案是在相关线程的混搭中找到的建议的组合：

1.  关闭 Visual Studio 并以管理员身份打开 VS 命令提示符。导航到通常位于 C://Program Files (x86)/Microsoft Visual Studio 11.0/Common7/IDE 中的 devenv.exe 文件（在 Express 版本中，它的标题类似于 *express.exe）。

2.  类型`devenv.exe /setup`

3.  重新打开 Visual Studio。如果现在一切都是彩色的，那就太好了！如果没有，请关闭选项卡并重新打开它们。

执行所有步骤 3 是让我的颜色恢复正常的原因。

这是我得到建议的地方：

[Visual Studio 2012 - Intellisense 有时会消失/损坏](https://stackoverflow.com/questions/13375961/visual-studio-2012-intellisense-sometimes-disappearing-broken)

[如何让用户类型 C# 语法突出显示在 VS 2012 RC 中再次工作？](https://stackoverflow.com/questions/10970305/how-can-i-get-user-type-c-sharp-syntax-highlighting-working-again-in-vs-2012-rc/11003979#11003979)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-01T13:12:31.970

如果您使用的是高效电动工具，请转到 =>**工具 -> 选项 -> 高效电动工具**。在主菜单中，**关闭**选项：**彩色参数帮助**。我解决了我的问题，我使用的是 Windows 8 Pro、Visual Studio 2012 Ultimate。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-05T12:52:23.453

你在正确的轨道上。在工具 -> 选项 -> 环境 -> 字体和颜色下，您要更改“用户类型”，首先确保在对话框顶部您正在查看“文本编辑器”的设置

尽管在我安装 Visual Studio 2012 的默认情况下，这些已设置，因此您可能想尝试“使用默认值”按钮，除非您进行了其他要保留的更改。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-03-10T10:14:27.463

![在此处输入图像描述](../Images/ff2a5cda4abcbd4bba875328ca7f672a.png)

转到工具>选项单击环境导航并单击导入和导出设置并复制url并从url打开目录并删除所有字体和颜色文件。您获得设置文件夹

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-06-12T21:51:55.913

[Donatas 在 Microsoft Connect 上提供的解决方法](http://connect.microsoft.com/VisualStudio/feedback/details/770603/text-editor-the-type-color-for-structs-is-black)无需关闭 Productivity Power Tools 的任何选项即可工作：

> There is a workaround without turning off "Colorized Parameter Help". Go to Tools > Options > Environment > Fonts and Colors in Display items select "User Types (Value types)" click Custom next to Item foreground color and in the color picker change Red, Green or Blue by 1, i.e. to make a custom color which basically looks the same. OK on all the dialogs and problem solved.

# uinavigationcontroller - 如何使用 CGRect 为 UIImageView 设置正确的坐标到 UINavigationController？

> ID：12276298
> 
> 赞同：1
> 
> 时间：2012-09-05T07:13:32.387
> 
> 标签：uinavigationcontroller, uiimageview, uinavigationbar, frame, cgrectmake

```
imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 360, 44)];
[imgView1 setImage:[UIImage imageNamed:@"bg.png"]];
self.navigationItem.titleView = imgView1; 
```

我的问题是 NavigationBar 上的 Image 在左侧角落有一些空白空间，看起来很糟糕。所以我想让图像显示在整个导航栏上，如果导航栏上有任何按钮，那么图像应该是背景。

# bash - 如何将grep的输出传递给sed？

> ID：12276300
> 
> 赞同：10
> 
> 时间：2012-09-05T07:13:52.777
> 
> 标签：bash, shell, ubuntu

我有这样的命令：

```
cat error | grep -o [0-9] 
```

仅打印数字，如`2`,`30`等等。现在我想把*这个*号码传给`sed`.

就像是 ：

```
cat error | grep -o [0-9] | sed -n '$OutPutFromGrep,$OutPutFromGrepp' 
```

有可能这样做吗？

我是 shell 脚本的新手。提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T07:54:04.913

如果打算打印`grep`返回的行，则生成`sed`脚本可能是要走的路：

```
grep -E -o '[0-9]+' error | sed 's/$/p/' | sed -f - error 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:28:57.677

您可能正在寻找[`xargs`](http://en.wikipedia.org/wiki/Xargs)，尤其是`-I`选项：

```
themel@eristoteles:~$ xargs -I FOO echo once FOO, twice FOO
hi
once hi, twice hi
there
once there, twice there 
```

你的例子：

```
themel@eristoteles:~$ cat error
error in line 123
error in line 234
errors in line 345 and 346
themel@eristoteles:~$ grep -o '[0-9]*' < error | xargs -I OutPutFromGrep echo sed -n 'OutPutFromGrep,OutPutFromGrepp'
sed -n 123,123p
sed -n 234,234p
sed -n 345,345p
sed -n 346,346p 
```

对于实际使用，您可能需要传递`sed`一个输入文件并删除`echo`.

（顺便说一下，修复了你的[UUOC](http://en.wikipedia.org/wiki/Cat_%28Unix%29#Useless_use_of_cat)。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:22:19.743

是的，您可以将 grep 的输出传递给 sed。

请注意，为了匹配整数，您需要使用 [0-9]* 而不仅仅是 [0-9]，它只匹配单个数字。

另请注意，您应该使用双引号来扩展变量（在 sed 参数中），并且您似乎在第二个变量名称中有错字。

希望这可以帮助。

# html - 垂直对齐文本和图像

> ID：12276301
> 
> 赞同：1
> 
> 时间：2012-09-05T07:13:55.647
> 
> 标签：html, css, vertical-alignment

我知道这是重复的，但很抱歉，因为其他帖子上给出的解决方案似乎对我不起作用，或者我没有正确理解它们。

我需要将文本和图像垂直对齐到中间。尝试过 CSS 属性 vertical-align:middle 但似乎不起作用。我的代码在[JSFiddle](http://jsfiddle.net/zcaT3/)给出，如下

```
<div class="picacollinvitecoll">
    <span>Other Collaborators:</span>
    <img width="20px" height="20px" src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/187580_670310756_917182522_q.jpg" title="Kapil Sharma" />
    <img width="20px" height="20px" src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/187580_670310756_917182522_q.jpg" title="Kapil Sharma" />
    <img width="20px" height="20px" src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/187580_670310756_917182522_q.jpg" title="Kapil Sharma" />
</div>​ 
```

CSS 属性是

```
.picacollinvitecoll span{
    margin:0;
}
.picacollinvitecoll img{
    margin-top: 3px;
}​ 
```

我得到了[JSFiddle](http://jsfiddle.net/zcaT3/)上所示的输出，它在底部对齐。有人可以更新 JSFiddle 以使其在“中间”对齐。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:16:12.217

你正在寻找 CSS`vertical-align:middle`

[看这里](http://jsfiddle.net/zcaT3/5/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-05T07:18:44.320

您需要添加`vertical-align: middle;`到两个选择器（如果我理解正确的话）

[http://jsfiddle.net/Kyle_Sevenoaks/mbhLN/](http://jsfiddle.net/Kyle_Sevenoaks/mbhLN/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T07:20:18.230

用于`display:table`父 div

在此处查看演示[http://jsfiddle.net/zcaT3/10/](http://jsfiddle.net/zcaT3/10/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:17:50.303

在你的css中试试这个代码：

```
.picacollinvitecoll img{
    margin-top:-3px;
    vertical-align:middle; 
    padding-top:2px;
}​ 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-05T07:18:32.387

这是另一种方法。使用图像的对齐属性，这里是更新的小提琴

[http://jsfiddle.net/zcaT3/7/](http://jsfiddle.net/zcaT3/7/)

# objective-c - 从代码更改 UIToolbar 按钮图像

> ID：12276305
> 
> 赞同：0
> 
> 时间：2012-09-05T07:14:08.940
> 
> 标签：objective-c, xcode

有什么方法可以更改 UIToolbar 中的按钮图像？

我实际上正在使用这种方式，但它不起作用。

```
[myButton setImage:[UIImage imageNamed:@"blue.png"]]; 
```

供您参考，“myButton”是一个 IBOUlet UIBarButtonItem。

```
@property (nonatomic, strong) IBOutlet UIBarButtonItem *myButton; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:32:16.707

使用以下油菜。我希望它对你有用。

```
UIImage *image = [UIImage imageNamed:@"buttonImage.png"];
UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
button.bounds = CGRectMake( 0, 0, image.size.width, image.size.height );    
[button setImage:image forState:UIControlStateNormal];
[button addTarget:myTarget action:@selector(myAction) forControlEvents:UIControlEventTouchUpInside];    
UIBarButtonItem *barButtonItem = [[UIBarButtonItem alloc] initWithCustomView:button]; 
```

谢谢，。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:29:52.900

// 将图像添加到 iphone 工具栏的栏按钮项

将按钮类型设置为 custum：

```
button=[UIButton buttonWithType: UIButtonTypeCustom];
[button setImage:[UIImage imageNamed:@"myImage.png"] forState:UIControlStateNormal];
[button addTarget:self action:@selector(btnClicked:) forControlEvents:UIControlEventTouchUpInside];
[button setFrame:CGRectMake(0, 0, 40, 40)];
self.navigationItem.rightBarButtonItem = [[UIBarButtonItem alloc] initWithCustomView:button]; 
```

// 在工具栏上添加图像：

```
 [toolbar insertSubview:[[[UIImageView alloc]
                         initWithImage:[UIImage imageNamed:@"image.png"]] autorelease] atIndex:1]; 
```

# asp.net-mvc - MVC 4\. IIS 7.5 PUT 返回 405

> ID：12276316
> 
> 赞同：10
> 
> 时间：2012-09-05T07:15:10.827
> 
> 标签：asp.net-mvc, iis-7.5, http-status-code-405, http-put, iis-8

我正在尝试在 MVC 4 应用程序中使用 PUT，但出现 405 错误。

在我的路由中，我对路由有一个限制，以允许 PUT 和 POST，POST 到端点有效，PUT 失败并显示 405。

我已按照此处的建议[ASP.NET Web API 仅在某些服务器上为 PUT 返回 404，](https://stackoverflow.com/questions/10099270/asp-net-web-api-returns-404-for-put-only-on-some-servers)而此处[ASP.NET MVC 在 HTTP DELETE 请求上出现 405 错误？](https://stackoverflow.com/questions/1760607/asp-net-mvc-got-405-error-on-http-delete-request)

我还从 IIS 中删除了 WeDAV，但我仍然收到 405。还有其他建议吗？

我在 IIS 8（使用 Visual Studio 2012）上也遇到了完全相同的问题，因为我遵循了这个建议[ASP.NET Web API - PUT & DELETE Verbs Not Allowed - IIS 8](https://stackoverflow.com/questions/10906411/asp-net-web-api-put-delete-verbs-not-allowed-vs2012rc-iis-8)并且仍然没有运气

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-11-27T05:47:25.347

我的托管服务提供商无法卸载 WebDAV，因为这会影响所有人。

这 runAllManagedModulesForAllRequests="true" 有效，但不推荐。

许多修复包括删除 WebDAVModule 的模块，但这仍然不起作用。我也删除了处理程序，最后我可以使用所有动词 POST GET PUT DELETE。

删除模块和处理程序中的 WebDAVModule 和 WebDAV。

```
<modules>
    <remove name="WebDAVModule" />
</modules>
<handlers>
    <remove name="WebDAV" />
</handlers> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T15:03:22.250

正如我上面所说，我正在使用 WebAPI，看起来 WebAPI 对于哪些动词映射到哪些方法是“挑剔的”。我最终不得不将 [HttpXXX] 属性（HttpPut、Get、Delete 和 Post）添加到适当的方法中，以使路由按预期工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-11T18:41:24.620

投入我的 2 美分...在 iis 下单击我的网站将显示“WebDAV 创作规则”作为“IIS”下的最后一个条目。双击显示“WebDAV 功能已被禁用”。右侧有警报，并且有一个“启用 WebDAV”的链接，但它仍然不起作用。我按照上面 Stanomatic 的建议，处理程序部分无关紧要，我的模块看起来像这样：

```
<modules runAllManagedModulesForAllRequests="true" /> 
```

我刚刚在其中添加了删除并解决了我的问题：

```
<modules runAllManagedModulesForAllRequests="true">
    <remove name="WebDAVModule" />
</modules> 
```

# linux - vi：行太长

> ID：12276317
> 
> 赞同：7
> 
> 时间：2012-09-05T07:15:15.850
> 
> 标签：linux, unix, vi, hp-ux

当我使用 vi 分析日志文件时，有时会出现错误：“行太长”。我可以使用 观看文件`more`，但这不是我想要的。

命令视图导致相同的结果并且`less`未安装。

系统是 HP-UX v B.11.31 U ia64

1.  这个错误是什么意思？vi 真的对每行允许多少个字符有限制吗？
2.  是否有解决方法如何让文件打开并在 vi 中显示？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-05T07:19:49.470

找出支持的限制，然后使用`fold`

```
fold -80 your_file | more 
```

或者

```
fold -80 your_file > /tmp/your_file.0
vim /tmp/your_file.0 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:18:03.830

(1) 显然是这样:-)

`vim` ^(我以前从未在(a))中遇到过限制，但可能是`vi`HPUX 的发货不是`vim`.

(2) 您对日志文件进行了什么样的分析`vi`？

这是一种非常适合文本处理工具的任务`sed`，例如`awk`和`Perl`，以增加令人敬畏的程度。

* * *

^((a)：)`vim`如果您还没有，您可能需要考虑抓取。从文档的一部分（和`vi_diff`之间的差异）：`vi``vim`

> Vim 对可编辑的文件只有几个限制{Vi: 不能处理字符和超过 128 的字符，行长度有限，还有很多其他限制}。
> 
> 最大行长度：在具有 16 位整数的机器上（Amiga 和 MS-DOS 实模式）：32767，否则为 2147483647 个字符。较长的行被分割。
> 
> 最大行数：2147483647 行。
> 
> 最大文件大小：当长整数为 32 位时，为 2147483647 字节（2 GB）。64 位长的更多。还受到交换文件可用磁盘空间的限制。

# c# - 使用 AJAX 创建用户控件

> ID：12276319
> 
> 赞同：1
> 
> 时间：2012-09-05T07:15:26.473
> 
> 标签：c#, asp.net

我需要创建一个包含 3 个图像的用户控件：喜欢、不喜欢和评论按钮。我想喜欢和不喜欢按钮来将一些信息保存到数据库（喜欢的用户和喜欢的对象）。但我想在不重新加载页面的情况下使用它们。

示例场景：

*   如果帖子有任何喜欢按钮显示喜欢计数
*   用户喜欢博客文章。
*   将类似过程保存到数据库
*   禁用喜欢按钮。

我想通过 AJAX 调用在控件内部使用控件的页面来实现此操作。我不想单独实现它们。当另一个开发人员想要使用它时，他/她必须通过实例化来使用该控件。此外，它必须在一个页面中多次使用。

问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:17:57.350

将您的按钮放在用户控件的更新面板中。

本[UpdatePanel 简介](http://msdn.microsoft.com/en-us/library/bb399001.aspx)将帮助您入门。

然后其他开发人员可以在任何其他页面上使用您的控件而不会遇到任何麻烦。

更新面板是内部进行 ajax 调用并更新其内容的服务器控件。
应该可以完美地满足您的需求。

# graphics - Sprite 和 Overlay 的区别

> ID：12276321
> 
> 赞同：1
> 
> 时间：2012-09-05T07:15:45.310
> 
> 标签：graphics, overlay, sprite, video-processing, direct3d

我正在调试显示平面配置的任务。在代码中，我遇到了显示平面、精灵平面和叠加层。据我所知，覆盖构成了视频数据（例如），而精灵将是在运行时显示该数据（视频）的平面（在硬件中）。但有时，不是使用 sprite/sprite-planes，而是使用简单的 overlay/overlay-planes。所以，这里会出现混淆，什么时候使用哪个。我需要澄清。

# javascript - 如何在 Apple Instruments 中启用 Javascript 语法检查

> ID：12276323
> 
> 赞同：2
> 
> 时间：2012-09-05T07:15:50.063
> 
> 标签：javascript, ios, parsing, instruments, ios-ui-automation

我们正在使用 Apple Instruments 来自动化 iPhone 设备上的一些测试流程。对于一台 MAC OS X Lion 机器，Instruments 不会显示任何 JavaScript 语法错误，但它在 MAC OS X Leopard 上会显示。

关于为什么这可能会影响 Lion 机器的任何线索？

Lion - iOS SDK 5.1：没有 JavaScript 语法错误

Leopard - iOS SDK 5.0：显示 JavaScript 语法错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T07:19:43.417

这是带有 XCode 4.4.1 的 Instruments 中未记录的 BUG。

我可以看到 Instruments 在升级到 Xcode 4.5 (iOS SDK 6.0) 后现在显示堆栈跟踪和 Javascript 解析错误

# java - javax.xml.ws.WebServiceException：类在Web服务中返回HashMap时没有名称返回的属性

> ID：12276324
> 
> 赞同：2
> 
> 时间：2012-09-05T07:15:52.620
> 
> 标签：java, glassfish, jax-ws

我在 glassfish 3.2.2 中有简单的 Web 服务，它只基于随机创建一个文件`UUID`并将其保存在`docroot`文件夹中，然后在里面返回结果`HashMap`：

```
@WebService
public class Storage {
    @WebMethod
    public HashMap<String, String> store() {
        HashMap<String, String> m = new HashMap<String, String>();
        String uuid = UUID.randomUUID().toString();
        FileOutputStream fout = null;
        File f = new File("../docroot/" + uuid + ".jpeg");
        if (f.exists()) {
            m.put("message", "file exists");
            m.put("file-name", uuid + ".jpeg");
            m.put("result", Integer.toString(-1));

            return m;
        }
        try {
            fout = new FileOutputStream(f);

            /* save some data in the file */

            fout.close();

            m.put("message", "file saved successfully");
            m.put("file-name", uuid + ".jpeg");
            m.put("result", Integer.toString(0));

            return m;
        } catch (Exception ex) {
            m.put("message", "exception when creating file");
            m.put("file-name", uuid + ".jpeg");
            m.put("result", Integer.toString(-2));

            return m;
        } finally {
            try {
                if (fout != null)
                    fout.close();
            } catch (IOException ex) {
                System.err.println("error closing file with name: " + uuid);
            }               
        }
    }
} 
```

但我收到以下长异常：

```
javax.xml.ws.WebServiceException: class com.argengco.aggregate.jaxws.StoreResponse do not have a property of the name return
    at com.sun.xml.ws.server.sei.EndpointResponseMessageBuilder$DocLit.<init>(EndpointResponseMessageBuilder.java:217)
    at com.sun.xml.ws.server.sei.TieHandler.createResponseMessageBuilder(TieHandler.java:210)
    at com.sun.xml.ws.server.sei.TieHandler.<init>(TieHandler.java:116)
    at com.sun.xml.ws.db.DatabindingImpl.<init>(DatabindingImpl.java:108)
    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:74)
    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:58)
    at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:130)
    at com.sun.xml.ws.server.EndpointFactory.createSEIModel(EndpointFactory.java:433)
    at com.sun.xml.ws.server.EndpointFactory.create(EndpointFactory.java:268)
    at com.sun.xml.ws.server.EndpointFactory.createEndpoint(EndpointFactory.java:145)
    at com.sun.xml.ws.api.server.WSEndpoint.create(WSEndpoint.java:569)
    at com.sun.xml.ws.api.server.WSEndpoint.create(WSEndpoint.java:552)
    at com.sun.xml.ws.api.server.WSEndpoint.create(WSEndpoint.java:623)
    at org.glassfish.webservices.WSServletContextListener.registerEndpoint(WSServletContextListener.java:282)
    at org.glassfish.webservices.WSServletContextListener.contextInitialized(WSServletContextListener.java:102)
    at org.apache.catalina.core.StandardContext.contextListenerStart(StandardContext.java:4750)
    at com.sun.enterprise.web.WebModule.contextListenerStart(WebModule.java:550)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:5366)
    at com.sun.enterprise.web.WebModule.start(WebModule.java:498)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:917)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:901)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:733)
    at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:2019)
    at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1669)
    at com.sun.enterprise.web.WebApplication.start(WebApplication.java:109)
    at org.glassfish.internal.data.EngineRef.start(EngineRef.java:130)
    at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:269)
    at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:301)
    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:461)
    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:240)
    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:389)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:348)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:363)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1085)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1200(CommandRunnerImpl.java:95)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1291)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1259)
    at org.glassfish.admin.rest.ResourceUtil.runCommand(ResourceUtil.java:214)
    at org.glassfish.admin.rest.ResourceUtil.runCommand(ResourceUtil.java:207)
    at org.glassfish.admin.rest.resources.TemplateListOfResource.createResource(TemplateListOfResource.java:148)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205)
    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)
    at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:134)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:134)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
    at com.sun.jersey.server.impl.container.grizzly.GrizzlyContainer._service(GrizzlyContainer.java:182)
    at com.sun.jersey.server.impl.container.grizzly.GrizzlyContainer.service(GrizzlyContainer.java:147)
    at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:148)
    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:179)
    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:117)
    at com.sun.enterprise.v3.services.impl.ContainerMapper$Hk2DispatcherCallable.call(ContainerMapper.java:354)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)
Caused by: javax.xml.bind.JAXBException: return is not a valid property on class com.argengco.aggregate.jaxws.StoreResponse
    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getElementPropertyAccessor(JAXBContextImpl.java:981)
    at com.sun.xml.ws.db.glassfish.JAXBRIContextWrapper.getElementPropertyAccessor(JAXBRIContextWrapper.java:121)
    at com.sun.xml.ws.server.sei.EndpointResponseMessageBuilder$DocLit.<init>(EndpointResponseMessageBuilder.java:214) 
```

我不得不提到，当我返回`int`而不是`HashMap<String, String>`它工作正常时，我可以运行 Web 服务而不会出现任何错误。

我在 CentOS 6.3 中使用 java 7。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-02T18:51:05.527

请参阅此帖子以获取答案：[JAX-WS Exception - "return is not a valid property"](https://stackoverflow.com/questions/13782797/jax-ws-exception-return-is-not-a-valid-property)。你不能返回 HashMap，你需要为它创建一个包装器。

# validation - 验证 fosuserbundle 注册表单

> ID：12276327
> 
> 赞同：1
> 
> 时间：2012-09-05T07:16:17.657
> 
> 标签：validation, symfony, fosuserbundle

我正在使用 FOSUserBundle。在我的项目中，我创建了自己的 UserBundle 并覆盖了控制器、表单和处理程序。现在，当用户尝试使用现有电子邮件进行注册时，站点会崩溃（电子邮件对于学说来说是唯一的）。似乎没有进行验证。我认为会有一些验证，就像我在 validation.yml 中所做的那样：

```
YOP\UserBundle\Entity\User:
  constraints:
    - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity: email
  properties:
    email:
      - Email: ~ 
```

为什么没有在电子邮件字段上进行验证？如何确保我的验证约束被考虑在内？

PS：validation.yml 文件不在我的 UserBundle 中，有问题吗？

编辑：

我的 UserBundle 的代码在[这里](https://github.com/marronsuisse/yourownpoet/tree/master/src/YOP/UserBundle)可用 我不明白为什么不再进行验证...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-24T03:32:20.857

通过以下方式解决了该问题：

*   将validation.yml文件与包含我的用户实体的文件放在同一个包中，并指向我的用户实体
*   将“注册”验证组添加到我的字段

验证.yml：

```
YOP\YourOwnPoetBundle\Entity\User:
  constraints:
    - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity: email
  properties:
    email:
      - Email: { groups: [Registration] }
    plainPassword:
      - MinLength: { limit: 5, message: "Your password must have at least {{ limit }} characters" }
    name:
      - NotBlank: { groups: [Registration] }
    familyName:
      - NotBlank: { groups: [Registration] }
    sex:
      - Choice: { choices: [1, 2], groups: [Registration] }
    birthdate:
      - NotNull: { groups: [Registration] }
    city:
      - NotBlank: { groups: [Registration] }
    howDidYouHear:
      - Choice: { choices: [1, 2, 3, 4, 5, 6, 7, 8], groups: [Registration] } 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-05T08:06:19.940

`validation.yml`应该在您的用户包中。
`/app/config/config.yml`应更新如下：

```
validation:      { enabled: true,  enable_annotations: false } 
```

# c++ - Uncrustify Collapse 多行函数调用

> ID：12276328
> 
> 赞同：3
> 
> 时间：2012-09-05T07:16:18.267
> 
> 标签：c++, c, formatting, uncrustify

我有看起来像这样的函数调用（没有明显的原因）：

```
func
(
    a,
    b,
    c
) 
```

有没有办法让 unrustify 将函数折叠成一行？试了两天没断断续续。。。

我让它适用于函数声明，但我不让它适用于函数调用。

虽然我们在这里，但我也有看起来像这样的功能：

```
func
(
    a, // (IN) the A
    b, // (IN) something b
    c  // (OUT) the resulting value
) 
```

有没有办法在不破坏代码的情况下处理这种情况？由于 uncrustify 保留评论，我认为这是不可能的。使用函数声明，它会将其折叠到第一个注释。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:53:18.543

阅读文档，我想出了这个：

```
# Add or remove newline between a function name and the opening '('
nl_func_paren                            = remove   # ignore/add/remove/force

# Add or remove newline between a function name and the opening '(' in the definition
nl_func_def_paren                        = remove   # ignore/add/remove/force

# Add or remove newline after '(' in a function declaration
nl_func_decl_start                       = remove   # ignore/add/remove/force

# Add or remove newline after '(' in a function definition
nl_func_def_start                        = remove   # ignore/add/remove/force

# Add or remove newline after each ',' in a function declaration
nl_func_decl_args                        = remove   # ignore/add/remove/force

# Add or remove newline after each ',' in a function definition
nl_func_def_args                         = remove   # ignore/add/remove/force

# Add or remove newline before the ')' in a function declaration
nl_func_decl_end                         = remove   # ignore/add/remove/force

# Add or remove newline before the ')' in a function definition
nl_func_def_end                          = remove   # ignore/add/remove/force 
```

正如你所料，评论有点毁了它，不过。有***一个***选项可以将*单行注释*（`//`）更改为*块注释*（`/* ... */`），这应该使您更容易手动加入行（例如在 vim 中`v%J`）

```
# Whether to change cpp-comments into c-comments
cmt_cpp_to_c                             = true    # false/true 
```

我用原型、声明*和*调用对其进行了测试：

*   输入[http://ideone.com/VPOTF](http://ideone.com/VPOTF)
*   输出[http://ideone.com/z6jYY](http://ideone.com/z6jYY)

通话不受影响。另请注意以下相关选项：

```
# Whether to fully split long function protos/calls at commas
ls_func_split_full                       = false    # false/true 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T09:17:09.757

经过一些 LOOONG 研究后，我得出结论，uncrustify 无法做到这一点。对于我的 porposses，我一起编写了一个小的 perl 脚本：

```
$filename = $ARGV[0];

{
    open(FILE, "<", $filename) or die "Cant open $filename for reading\n";
    local $/ = undef;
    $lines = <FILE>;
    close(FILE);
}

# squash comments in function calls and declarations
$lines =~ s/,[ \t]*\/\/[^\n\r]*/,/gm;
# squash last comment in function calls and declarations
$lines =~ s/[ \t]*\/\/[^\n\r]*\r\n[ \t]*\)/\)/gm;
# squash newlines at the start of a function call or declaration
$lines =~ s/\([ \t]*\r\n[ \t]*/\(/gm;
# squash newlines in function calls and declarations
$lines =~ s/,[ \t]*\r\n[ \t]*/, /gm;
# squash the last newline in a function call or declaration
$lines =~ s/[ \t]*\r\n[ \t]*\)/\)/gm;

{
    open(FILE, ">", $filename) or die "Cant open $filename for writing\n";
    print FILE $lines;
    close(FILE);
} 
```

我会研究是否可以构建一个将该功能集成到 uncustify 中的补丁。

# javascript - Onclick JS 函数识别元素 Onclick

> ID：12276329
> 
> 赞同：0
> 
> 时间：2012-09-05T07:16:18.987
> 
> 标签：javascript, jquery, html

我有一个附加了 onclick 属性函数的输入按钮。我想在调用的 javascript 函数中更改按下的按钮的类。问题是页面上有多个按钮，所以我不确定我需要在 javascript 函数中写什么来选择被按下的按钮。这是下面的代码。

```
<script type="text/javascript" >

function load(thefile, div) {    
    $.get(thefile, function(data){
    $('#' + div).html(data);   
});
};

</script>

<input type="button" class="highlighted" value="upvote" 
onclick="load('ajax_file','div')" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:20:43.473

作为参数传递`this`，您将按下按钮：

```
<input type="button" class="highlighted" value="upvote" 
onclick="load('ajax_file','div', this)" /> 
```

```
function load(thefile, div, theButton) {    
    // change class of theButton
    var button = $(theButton);
    button.attr("class", "yourClass");

    $.get(thefile, function(data){
        $('#' + div).html(data);   
    });
} 
```

[这里](http://jsfiddle.net/RKCRp/2/)有一个简单的 jsfiddle 测试。

# shell - 我在使用 SCP 将文件上传到 Sourceforge 时遇到问题

> ID：12276333
> 
> 赞同：2
> 
> 时间：2012-09-05T07:16:38.257
> 
> 标签：shell, scp, sourceforge, winscp

因此，我完成了我的第一个程序的编写并尝试将其上传到我的 sourceforge 帐户，但文件大小太大，无法使用 sourceforge 提供的普通 html5 上传管理器。Soursceforge 说“对于较大的文件，请使用 FTP、SCP 或 rsync”。他们还提供了[此页面，以参考通过命令行发送的命令](https://sourceforge.net/apps/trac/sourceforge/wiki/Release%20files%20for%20download#AccessingReleasesviaShell)，例如这个，我不知道如何使用

```
scp file.zip jsmith@frs.sourceforge.net:/home/frs/project/fooproject/Rel_1 
```

我应该能够像这样通过 WinSCP.com 提示符运行它吗？

```
WinSCP> scp file.zip jsmith@frs.sourceforge.net:/home/frs/project/fooproject/Rel_1 
```

看到命令行如何踢我但是（如果您有任何教程的链接，我完全愿意学习如何使用命令行将文件传输到 sourceforge，[这个对于所有破烂的英语来说太难理解了](http://www.scriptol.com/how-to/upload-web-pages-to-sourceforge.php)：/） ，我尝试使用 WinSCP GUI 和以下信息创建连接

**主持人：** myusername@frs.sourceforge.net

**用户名：**我的用户名

**密码：**我的密码

但在 SCP 连接完成之前出现以下错误

> 连接已意外关闭。服务器发送的命令存在状态 1。
> 
> 跳过启动消息时出错。您的 shell 可能与应用程序不兼容（推荐使用 bash）。

任何帮助或朝着正确方向轻推将不胜感激。从我收集的内容中，我应该了解更多关于贝壳的知识，但我不知道从哪里开始。在此先感谢和欢呼！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T14:42:09.633

您正在将 SCP 协议与 WinSCP 一起使用。确保您使用 SFTP。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T15:45:55.393

看来您正试图用 WinSCP 做一些奇怪的事情。您正在尝试“打开终端”选项，我认为它只是尝试在主机上打开一个 ssh 会话。但是，我们不支持到 frs.sourceforge.net 的 ssh 会话

通常，如果您尝试 ssh 到该主机，您会收到以下消息：

欢迎！

这是一个受限制的 Shell 帐户。您只能将文件复制到/从此处复制。

与 frs.sourceforge.net 的连接已关闭。

但我认为 WinSCP 会吃掉那个，或者别的什么。无论如何，我认为您需要做的只是将 WinSCP 用作图形两窗格 sftp 客户端。导航到左侧要上传的文件，右侧导航到目标目录等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T13:43:57.570

一般来说，提出此类问题的最佳地点是以下三个之一：

irc.freenode.net 上的 sourceforge 频道

电子邮件支持 sfnet_ops@geek.net

[在https://sourceforge.net/p/forge/site-support/new/](https://sourceforge.net/p/forge/site-support/new/)打开一张票

虽然我们会监控 Stackoverflow，但它并不是我们最快的支持渠道。我已经请我们的一位支持工程师来看看。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-06-05T00:30:20.243

以下是连接方法：

1.  选择协议 SCP
2.  单击高级
3.  Environment --> SCP/Shell --> Shell（见红色的3）：更改目标服务器上可用的shell

它可以通过 git bash 连接到 Windows 10 的 ssh 服务器

[![在此处输入图像描述](../Images/678cb26530d3a0aa978882d7bac02a39.png)](https://i.stack.imgur.com/EiEre.png)

# android - 在Linux中使用“execve”运行android模拟器的进程，但是“avd”路径不对？

> ID：12276335
> 
> 赞同：0
> 
> 时间：2012-09-05T07:16:40.413
> 
> 标签：android, linux, emulation, execve

我遇到了一个关于运行 android 模拟器的问题，下面是详细信息。非常感谢！

我需要自动运行android模拟器，所以倾向于`execve`在Linux中使用，源代码如下所示：

```
/*initailize passed command line\*/

char *binary = (char*)malloc(8*sizeof(char));  
char **newargv = (char **)malloc(16*sizeof(char *));

newargv[0] = "/media/career/android/source/out/host/linux-x86/sdk/android-sdk_eng.corey_linux-x86/tools/emulator";  
newargv[1] = "-avd";

newargv[2] = "new1";

newargv[3] = "-system";

newargv[4] = "/media/career/android/source/out/target/product/generic/system.img";

newargv[5] = "-ramdisk";

newargv[6] = "/media/career/android/source/out/target/product/generic/ramdisk.img";

newargv[7] = "-data";

newargv[8] = "/media/career/android/source/out/target/product/generic/userdata.img";

newargv[9] = NULL;        

/*initialize the env value of new process(emulator) */

const char *temp = getenv("ANDROID_AVD_HOME");

envp[0] = temp;

envp[1] = getenv("PATH");

envp[2] = NULL;

/*main function*/
if (execve (binary, (char **)newargv, (char **)envp) < 0 )  

environment variable:
declare -x ANDROID_AVD_HOME="/home/corey/.android/avd"
declare -x PATH="/media/career/android/source/out/host/linux-x86/sdk/android-sdk_eng.corey_linux-x86/platform-tools:/media/career/android/source/out/host/linux-x86/sdk/android-sdk_eng.corey_linux-x86/tools: 
```

控制台显示：`PANIC: Could not open: /tmp/.android/avd/new1.ini`

默认情况下，我的 avd 存储路径是`~/.android/avd`。但是新进程只能找到根文件系统的路径来读取可移植性不好的avd文件。实际上模拟器的过程已经运行。我专注于设置环境变量，但失败了。

请问我应该如何设置我的环境变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T10:48:57.657

You have passed wrong envp

```
const char *temp = getenv("ANDROID_AVD_HOME");
envp[0] = "ANDROID_AVD_HOME=" + temp;
envp[1] = "PATH=" + getenv("PATH");
envp[2] = NULL; 
```

replace `+` with safety strcat

# php - 如何在 MySQL select 语句的其他区域引用派生值？

> ID：12276339
> 
> 赞同：0
> 
> 时间：2012-09-05T07:16:46.880
> 
> 标签：php, mysql, sql, phpmyadmin, mysqli

我正在尝试计算一个特殊分数。'total' 和 'correct' (or `order`) 需要不同的查询才能获得，并且总需要在两个地方使用。这导致了使用别名的问题。在这种情况下，重复子查询的性能和可读性太高。我尝试了两种不同的方法来让它工作：

```
SELECT rankings.id as link, (
  SELECT COUNT(*) as total FROM rankings
  INNER JOIN ranking_data ON ranking_id = rankings.id AND `type` = 'pre_reference'
  WHERE case_id = 15 AND rankings.id = link
) as total,
ROUND(((total - `order`) / total) * 100, 2) AS score FROM rankings
INNER JOIN ranking_data ON ranking_id = rankings.id AND opinion_id = 124 AND `type` = 'pre_reference'
WHERE case_id = 15 AND user_id != 3; 
```

在这里，我尝试为子查询返回的“总”值创建一个别名，并将其用于评分计算。链接引用在子查询中有效，但总引用在第 6 行失败。

```
SELECT ROUND(((total - `order`) / total) * 100, 2) AS score FROM rankings
INNER JOIN ranking_data ON ranking_id = rankings.id AND opinion_id = 124 AND `type` = 'pre_reference'
INNER JOIN (
  SELECT COUNT(*) as total FROM rankings
  INNER JOIN ranking_data ON ranking_id = rankings.id AND `type` = 'pre_reference'
  WHERE case_id = 15
) AS total_table ON total_table.id = rankings.id
WHERE case_id = 15 AND user_id != 3; 
```

在这里，我尝试通过左连接派生表来使总和可用于列列表区域进行评分。MySQL 在第 7 行告诉我找不到 total_table.id。如果我尝试左连接，它会抛出一般语法错误。

你能给我一个解决方案，并阐明为什么其他尝试没有奏效吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:26:17.230

在第二个查询中，`id`未明确包含在内`total_table`联视图中选择的列集中；您可能还需要分组`id`。尝试将查询更改为：

```
SELECT ROUND(((total - `order`) / total) * 100, 2) AS score 
FROM rankings
INNER JOIN ranking_data 
ON ranking_id = rankings.id AND opinion_id = 124 AND `type` = 'pre_reference'
INNER JOIN 
( SELECT rankings.id, COUNT(*) as total FROM rankings
  INNER JOIN ranking_data 
  ON ranking_id = rankings.id AND `type` = 'pre_reference'
  WHERE case_id = 15
  GROUP BY rankings.id
) AS total_table 
ON total_table.id = rankings.id
WHERE case_id = 15 AND user_id != 3; 
```

# android - 在日历视图中按到当前日期

> ID：12276341
> 
> 赞同：2
> 
> 时间：2012-09-05T07:16:50.827
> 
> 标签：android

我正在使用日历视图。我添加了*setOnDateChangeListener*

```
 calendar.setOnDateChangeListener(new OnDateChangeListener() {
        @Override
        public void onSelectedDayChange(CalendarView view, int year, int month, int dayOfMonth) {
            System.err.println(dayOfMonth + ":" + month + ":" + year); 
```

当我按视图中的任何一天进行其他活动时，它对我有用，但是如果我想按当前日期返回，则听众不起作用。

![在此处输入图像描述](../Images/47927ab29e8b74409752a57f096fc445.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:20:32.570

它不会触发您的听众，因为它仅在您**更改**日期时才有效。您必须在 UI 上绑定点击事件，因此有必要扩展日历视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-06T11:38:26.410

我知道它不能完全回答你的问题，但我遇到了同样的问题，而且日历总是选择当前日期。为了避免第二个问题（在我的情况下，帮助解决第一个问题），我所做的是在离开 CalendarView 之前将最后选择的日期存储在共享首选项中，在启动 CalendarView 时检索它，然后使用 setDate 设置它.

```
long dateInMilliseconds = theDate.getTimeInMillis(); // theDate is a GregorianCalendar
calendar.setDate(dateInMilliseconds); // calendar is a CalendarView 
```

# iphone - 使用 CGAffineTransformMakeTranslation (x,y) 仅传递一个参数

> ID：12276343
> 
> 赞同：0
> 
> 时间：2012-09-05T07:16:54.820
> 
> 标签：iphone, ios, xcode, ipad, animation

我在一个按钮上有多个动画，我正在使用 CGAffineTransformMakeTranslation 来执行此操作。

是否可以仅使用一个参数，仅使用“x”或仅使用“y”？

我已经尝试了一切，但无法使其工作：

```
 button.transform = CGAffineTransformMakeTranslation(nil, 10);

 button.transform = CGAffineTransformMakeTranslation(NULL, 10);

 etc, etc... 
```

或将其设为当前位置的“x”。如果我使用 0 它会将按钮带到原始位置。

是否有可能做到这一点？

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:23:08.573

传递 0。沿轴平移 0 不会产生任何变化，因为 0 是加法的标识（这就是平移）。

```
button.transform = CGAffineTransformMakeTranslation(0, someYValue); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:24:35.000

仅在 x 方向平移：

```
CGAffineTransformMakeTranslation(x, 0.0); 
```

仅在 y 方向平移：

```
CGAffineTransformMakeTranslation(0.0, y); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:28:20.787

`CGAffineTransformTranslate`保留之前的变换。因此，您可以调用`CGAffineTransformTranslate(myview.transform,0,y)`或任何适合您的方法。

```
CGAffineTransform CGAffineTransformTranslate (
   CGAffineTransform t,
   CGFloat tx,
   CGFloat ty
); 
```

# jquery - 有什么方法可以使用支持 IE 9 的 Ajax/Jquery 从计算机上传图像？

> ID：12276348
> 
> 赞同：-3
> 
> 时间：2012-09-05T07:17:19.237
> 
> 标签：jquery, image

我试图弄清楚上传图片的事情。

适用于谷歌浏览器但不适用于 IE 9。

是否有任何教程可以找到从适用于 IE9 的计算机上传图像？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:43:41.957

您可以尝试**[AX Ajax Multi Uploader](http://code.google.com/p/ax-jquery-multiuploader/)**，这里也是他们的主页[http://www.albanx.com/](http://www.albanx.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:23:34.380

[上传](http://www.uploadify.com/)，[上传](http://plupload.com/)。这些是你要找的 jquery 插件。

Plupload 比 Uploadify 有很多功能和用途

# javascript - 如何在 IE 中设置“添加到收藏夹”之前在 javascript 中编辑 URL？

> ID：12276350
> 
> 赞同：0
> 
> 时间：2012-09-05T07:17:23.723
> 
> 标签：javascript

我正在使用 asp.net 和 javascript 开发一个网站。

在我的网站中，如果用户试图从主页以外的任何页面将 URL 设置为书签（从收藏夹菜单中），我需要将主页设置为书签。

因此，应该传递给 IE 内置函数的 url 应该是主页 url。

如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:23:34.503

这是不可能的，你怎么知道你的主页是什么？如果我正在访问，`mail.google.com`那么我的主页应该是`gmail.com`什么`google.com`？我认为这个想法是不可能的。

# java - 我如何将 JPanel 分成 70% 30%

> ID：12276351
> 
> 赞同：10
> 
> 时间：2012-09-05T07:17:25.270
> 
> 标签：java, swing, jpanel, layout-manager, japplet

> **可能重复：**
> [Swing：如何将组件高度设置为容器的高度？](https://stackoverflow.com/questions/686882/swing-how-do-i-set-a-component-height-to-the-containers-height)

我如何划分JPanel，如下图所示有2个面板panel1和panel2 panel1应该占70％，panel2 30％或panel1应该大于panel2...我尝试过Gridlayout，Border Layout但它不起作用。任何帮助将不胜感激。

```
public class TestApplication extends JApplet {

private static final long serialVersionUID = 1L;

    JPanel p1,p2;

    public void init(){         
        setLayout(new GridLayout(3,1));
        p1=new JPanel();
        p2=new JPanel();

        p1.setBackground(Color.RED);
        p2.setBackground(Color.GREEN);

        add(p1);
        add(p2);
    }   
} 
```

![在此处输入图像描述](../Images/681c3344a7d78abf56e9ef11e2fb2cf5.png)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-05T07:30:14.867

您是否考虑过使用[`JSplitPane`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JSplitPane.html)（[如何使用拆分窗格](http://docs.oracle.com/javase/tutorial/uiswing/components/splitpane.html)）？

```
import java.awt.BorderLayout;
import java.awt.Color;

import javax.swing.JApplet;
import javax.swing.JPanel;
import javax.swing.JSplitPane;

public class TestApplication extends JApplet {

private static final long serialVersionUID = 1L;

    JPanel p1,p2;

    @Override
    public void init(){         
        setLayout(new BorderLayout());

        p1=new JPanel();
        p2=new JPanel();

        p1.setBackground(Color.RED);
        p2.setBackground(Color.GREEN);
        JSplitPane sp = new JSplitPane(JSplitPane.VERTICAL_SPLIT);
        sp.setResizeWeight(0.7);
        sp.setEnabled(false);
        sp.setDividerSize(0);

        sp.add(p1);
        sp.add(p2);
        add(sp, BorderLayout.CENTER);
    }   
} 
```

![在此处输入图像描述](../Images/26aa0af48eb469506315e9e6a9dc0993.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:32:10.547

如果您有一个外部 JFrame（或另一个 JPanel）f，您可以应用 BorderLayout 并将 p1 放在 NORTH 中，将 p2 放在 SOUTH 中。然后，使用

```
Dimension df = f.getSize(); 
```

您将获得外部容器 (f) 的尺寸。接下来，调用：

```
void setSize(Dimension d) 
```

这边走：

```
p1.setSize(new Dimension(df.getWidth(), df.getHeight()*0.7));
p2.setSize(new Dimension(df.getWidth(), df.getHeight()*0.3)); 
```

最后，将这些 JPanel 添加到其容器中。

# objective-c - 无法为我的 Xcode 4.3.3 为 Iphone 编译 Ultralite 库

> ID：12276353
> 
> 赞同：0
> 
> 时间：2012-09-05T07:17:29.360
> 
> 标签：objective-c, ios, database, xcode4.3, sybase

我是 iphone 开发新手。在我的应用程序中，我试图提供 Ultralite Sync

机制。我指的是以下链接：

[http://dcx.sybase.com/index.html#1201/en/ulc/compile-iphone-library.html](http://dcx.sybase.com/index.html#1201/en/ulc/compile-iphone-library.html)。

但是当我尝试为 iPhone 模拟器编译库时，我得到了错误。那是，

当我执行 ./build.sh 命令时。我收到以下错误

制作：/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/gcc-4.2：没有这样的文件或目录

我假设，我收到错误，因为我使用 XCode 时缺少开发者文件夹

4.3.3 版。我真的很想得到解决方案。谁能帮我吗，

请 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T15:08:33.677

我刚刚也遇到了这个错误，并通过执行以下操作克服了它：

1) 启动 XCode 2) 单击 XCode...Preferences 菜单 3) 单击 Locations 4) 选择“命令行工具”下拉菜单并选择版本号。

我的没有被选中。进行此选择并重新运行命令行工具后，我能够克服此错误。（虽然现在我在脚本中有其他错误）

# javascript - 如何使DIV中的内容垂直对齐

> ID：12276361
> 
> 赞同：1
> 
> 时间：2012-09-05T07:18:00.077
> 
> 标签：javascript, html, css

```
<div id="content">ABC<div>UUU</div></div> 
```

我只是想找到一些方法在中间垂直对齐`div#content`。其实我有一些解决办法。第一个正在使用，`line-height`但是如果. 我认为只适用于餐桌？还有其他可用的解决方案吗？`div``div#content``vertical-align:middle`

我尝试了vertical-align：middle和display：table-cell，另一个问题来了，宽度不起作用，我给那个div一个很大的宽度，可以填满屏幕（1438px），但现在宽度也是那个数字，但只需填写屏幕的 1/3 宽度。表格单元格似乎使屏幕中的每个单元格，但我只想为表格单元格指定长度。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:22:54.353

将此用于您的要求

```
#content {display:table-cell; vertical-align:middle} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:22:38.877

在`display:table-cell`您的元素上声明后，垂直对齐将起作用。

```
#content {
    display:table-cell;
    vertical-align:middle
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:24:09.307

[请参阅http://phrogz.net/css/vertical-align/index.html](http://phrogz.net/css/vertical-align/index.html)上有关普通和内联 DIV 的垂直对齐的详细说明

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T08:08:30.683

使用...阐述其他答案`display:table-cell;vertical-align:middle`表格单元格不能有 100% 的宽度，但它们的容器可以！

### 使用 CSS 表

带有表格显示的项目接受动态宽度：

```
#existingContainer {
    display: table;
    width: 100%;
}
#content {
    display: table-cell;
    vertical-align: middle;
    height: 100px; /* example */
} 
```

比如说，使用示例 HTML：

```
<div id="existingContainer">
    ...
    <div id="content">ABC<div>UUU</div></div>
    ...
</div> 
```

### 使用清算区

或者，将表格单元格直接放入块元素将确保其旁边没有内联元素：

```
<div id="newContainer">    
    <div id="content">ABC<div>UUU</div></div>
</div> 
```

使用示例 CSS：

```
#newContainer {
    display: block;
}
#content {
    display: table-cell;
    vertical-align: middle;
    height: 100px; /* example */
} 
```

# actionscript-3 - 限制游戏在本地玩

> ID：12276363
> 
> 赞同：1
> 
> 时间：2012-09-05T07:18:04.360
> 
> 标签：actionscript-3, flash, locking

如何在本地限制游戏？我知道浏览器站点锁定。但我不知道它有多少有效。

[我在http://www.gameark.com/](http://www.gameark.com/)玩过游戏。如果您从本网站下载游戏，您将无法在本地玩游戏。这个怎么做？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T08:13:58.507

我正在使用[http://www.swfshield.com](http://www.swfshield.com)来做到这一点而没有痛苦。

他们所做的实际上是将您的 swf 转换为二进制或某种形式，并将其包装在加载程序中（我不确定..这只是我的猜测...）。我使用这个 swfshield 来保护我的 swf 不被反编译和被盗。

如果您执行单域锁定，它将不会在本地加载。因此，基本上，它不会真正加载到指定域以外的任何域中。

另外：我已经尝试了至少五种不同的反编译器来反编译来自 swfshield.com 的受保护 swf，但没有一个能够得到关于 swf 的单一提示。:)

# xml - aperte 工作流程导入 bpm 文件

> ID：12276365
> 
> 赞同：0
> 
> 时间：2012-09-05T07:18:08.687
> 
> 标签：xml, jar, business-process-management

我想构建一个 bpm 流程并在 aperte 工作流程中部署。我已经制作了我在文档末尾提到的文件，我需要知道从这些文件制作 jar 文件的任何方法，以便将 jar 部署到 aperte 工作流程中。

[这是](https://github.com/bluesoft-rnd/aperte-workflow-core/wiki/Process-bundle-overview)我找到制作文件说明的链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-04T19:16:57.060

为 Aperte 开发 bpm 的最佳方法是使用 AperteModeler。它具有在 Aperte Workflow 中捆绑和部署 jar 的内置功能。jar 被部署为 osgi 插件。按照步骤在 AperteModeler 中构建工作流程， [https://github.com/bluesoft-rnd/aperte-workflow-core/wiki/Sample-process-with-Aperte-Modeler](https://github.com/bluesoft-rnd/aperte-workflow-core/wiki/Sample-process-with-Aperte-Modeler)

# android - 在 Android 中将数据共享到 Facebook

> ID：12276367
> 
> 赞同：0
> 
> 时间：2012-09-05T07:18:15.397
> 
> 标签：android, facebook, android-intent, facebook-sharer

我必须共享数据`new_link`以及`news_title`我能够共享数据`news_link`但我`News_title`也想与`news_link`.

请告诉我我将如何做到这一点这是我的代码：

```
Intent i = new Intent(Intent.ACTION_VIEW); 
i.setData(Uri.parse("https://m.facebook.com/sharer.php?u="+news_link+"&_rdr"))
startActivity(i); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:31:53.993

我认为这个链接可以帮助你： [Facebook 和 twitter 共享移动网络](https://stackoverflow.com/questions/7187016/facebook-and-twitter-share-for-mobile-web) 你只需要为标题提供“t”参数（当 facebook API 没有错误时）

# magento - Magento 安装网页不可用错误

> ID：12276369
> 
> 赞同：0
> 
> 时间：2012-09-05T07:18:19.687
> 
> 标签：magento, installation

我是 Magento 的新手并正在安装它。

安装时我已放入 /www 文件夹。因此，当我在**localhost/magento**之类的浏览器中访问 url 时，它显示网页不可用，尽管我按照指南执行了每一步

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:43:44.873

该`/www`文件夹是您网络服务器的根目录吗？在我看来，当您键入时`localhost/magento`，安装需要位于服务器上的 magento 文件夹中。

# xcode - iOS 中 UIViewController 之间的导航模式是什么？

> ID：12276385
> 
> 赞同：1
> 
> 时间：2012-09-05T07:18:58.737
> 
> 标签：xcode, uiviewcontroller, xamarin.ios, navigation

我有一堆`UIViewController`s 子类（我们称它们为`MainForm`, `DetailForm`, `MoreMinorDetails`）。基本上这个想法是`AppDelegate`类实例化`MainForm`，用户按下某种类型的按钮`MainForm`并`DetailForm`出现。然后按一个按钮就`DetailForm`启动了`MoreMinorDetails`。当然，我应该能够回到`MainForm`.

请注意，视野中没有任何`UINavigationController`物体。以上述方式在 s
之间移动的公认模式是什么？`UIViewController`

还是我以错误的方式处理它？我会对基于 XCode 或 MonoTouch 的解释感到满意。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T11:01:48.003

您可以使用`UINavigationController`并隐藏导航栏：

```
self.navigationController.navigationBar.hidden = YES; 
```

然后在您的按钮操作中，只需按下下一个视图控制器：

```
-(void)buttonAction:(id)sender
{
    NextViewController *nextViewController = [[NextViewController alloc] init];
    [self.navigationController pushViewController:nextViewController animated:YES];
} 
```

要返回，请使用

```
-(void)goBack
{
    [self.navigationController popViewControllerAnimated:YES];
} 
```

要转到某个视图控制器（您必须确切知道它何时被推送到导航控制器的堆栈中）：

```
-(void)goToViewController
{
    [self.navigationController popToViewController:[self.navigationController.viewControllers objectAtIndex:1] animated:YES];
} 
```

或者弹出到你的根视图控制器

```
[self.navigationController popToRootViewControllerAnimated:YES]; 
```

这样，您将获得`UINavigationController`的功能并保留视图中的所有空间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T10:47:03.490

愤怒的黑客，

我的简单建议是跟随**zoul** one。我认为实现您想要的最简单的方法是创建一个`UINavigationController`并将其用作其他控制器的包含控制器。

因此，可以在 中创建一个`UINavigationController`并将`AppDelegate`其设置`rootViewController`为您的`window`. 当您创建 a 时，`UINavigationController`您可以将根控制器传递给它（在本例中`MainForm`）。

在 MT 中看起来如下（不要相信代码，因为我是手工编写的）

```
private UINavigationController navController;
public override bool FinishedLaunching (UIApplication app, NSDictionary options)
{
    navController = new UINavigationController(new MainForm());
    window.RootViewController = navController;
    window.MakeKeyAndVisible ();

    return true;
} 
```

现在，当您启动应用程序时，您将看到`MainForm`的视图，并且能够允许在不同控制器之间导航。

例如，`MainForm`你可以去`DetailForm`喜欢：

```
this.NavigationController.PushViewController(new DetailForm(), true); 
```

这同样适用`DetailForm`于`MoreMinorDetails`。

退一步，例如`MoreMinorDetails`从`DetailForm`使用

```
this.NavigationController.PopViewControllerAnimated(false); 
```

转到根控制器 ( `MainForm`) 内`DetailForm`或`MoreMinorDetails`使用

```
this.NavigationController.PopToRootViewControllerAnimated(false); 
```

关于空间，这不是问题。我猜你有两种方法。第一个是移动您在导航控制器栏中创建的栏项目。在每个控制器中，您可以决定哪些按钮可见或不可见。第二个是完全隐藏导航栏并使用您已经创建的按钮。

在这两种方式中，您都可以将操作附加到这些按钮并允许在控制器之间导航。此外，如果您选择第一个，您还可以隐藏导航栏的后退按钮。

*需要记住的一个简单说明如下：*

由于导航栏对于 a 是唯一的`UINavigationController`，因此该栏将为您在导航控制器中推送的所有控制器保持其状态。为了解释这个概念，假设你有两个控制器，比如 A 和 B。你首先按下 A，然后在它的`ViewWillAppear`方法中隐藏一个按钮。当您按 B 时，该按钮仍然不可见。如果你想取消隐藏B中的按钮，你可以玩它的`ViewWillAppear`方法（像以前一样）等等......

如果你不想玩，`UINavigationController`你应该看看`UIViewController`类提供的新视图控制器包含功能。这仅适用于 iOS >= 5。您可以获得相同的`UINavigationController`机制效果，但可能更难实现。

希望有帮助。

# android - 如何获取从 onReceive() 触发的 Intent 的名称或类型

> ID：12276390
> 
> 赞同：1
> 
> 时间：2012-09-05T07:19:45.243
> 
> 标签：android, android-intent, broadcastreceiver

我需要创建一个`BroadcastReceiver`监听电话何时接听或拨打电话的功能，这样我就可以记下它何时开始和何时结束。我意识到这两个接收器看起来几乎相同，因此`BroadcastReceiver`我可以为传入和传出呼叫创建两个单独的 s，而不是为两者创建一个，并使我的操作取决于触发的事件。

我在清单中注册`intent-filter`了 s `android.intent.action.PHONE_STATE`，`android.intent.action.NEW_OUTGOING_CALL`但是我如何从被解雇`onReceive()`的类型中找出？`Intent`

```
@Override
public void onReceive(Context context, Intent intent) {
    Bundle extras = intent.getExtras();

    // get the intent fired--incoming or outgoing call?
    // then, save it in a variable and perform corresponding actions
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-05T07:24:52.700

只需使用 intent.getAction();

```
String action=intent.getAction();

if(action.equalsIgnoreCase(Intent.ACTION_NEW_OUTGOING_CALL)){

//dosomething here
}
else if(action.equalsIgnoreCase(second action)){

//do something here
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:23:31.803

将您的操作与`intent.getAction()`using进行比较`equals()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:28:02.450

You can also do one thing is to put one string parameter to bundle at the time of setting pending intent, that makes possible to know from which intent OnReceive calls.Also can use " intent.getAction() " Hope it helps :)

# hibernate - 字符串索引超出范围：-1 在 JPA 的查找方法上

> ID：12276392
> 
> 赞同：0
> 
> 时间：2012-09-05T07:19:52.213
> 
> 标签：hibernate, spring-mvc, jpa-2.0, glassfish-3, hsqldb

我正在使用 HSQLDB + Glassfish + JPA + SpringMVC。我已经完成了 JNDI 映射，创建了连接池并将我的 HSQLDB.jar(2.2.4) 放在 Glassfish lib 文件夹中。

我能够成功部署应用程序。当我使用“localhost:8080/site”访问应用程序时，它会在 find 方法（Hibernate）上引发以下错误，如下所示。

请帮助解决这个问题。

```
INFO: [ERROR] 12:23:21 Ejb3Configuration - Container is providing a null PersistenceUnitRootUrl: discovery impossible

INFO: [ WARN] 12:23:21 Ejb3Configuration - hibernate.connection.autocommit = false break the EJB3 specification

INFO: PWC1412: WebModule[null] ServletContext.log():Initializing Spring FrameworkServlet 'mycompany'
INFO: [ WARN] 12:23:24 RuntimeEnvironmentPropertiesConfigurer - Unable to determine runtime environment, using default environment 'development'

INFO: WEB0671: Loading application [com.mycompany_site_war_1.0] at [/site]
INFO: com.mycompany_site_war_1.0 was successfully deployed in 206,384 milliseconds.
WARNING: StandardWrapperValve[mycompany]: PWC1406: Servlet.service() for servlet mycompany threw exception
java.lang.StringIndexOutOfBoundsException: String index out of range: -1
    at java.lang.String.substring(String.java:1952)
    at java.lang.String.substring(String.java:1925)
    at org.*******.core.catalog.dao.ProductDaoImpl.findProductByURI(ProductDaoImpl.java:392)
    at org.*******.core.catalog.service.CatalogServiceImpl.findProductByURI(CatalogServiceImpl.java:268)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) 
```

这是一个持久性问题还是其他......？

如果是持久性问题，需要检查什么......？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T12:01:27.270

它看起来像`ProductDaoImpl.findProductByURI()`直接调用`String.substring()`索引为`-1`. 因此，您应该详细查看您的代码以检查其根本原因。

# java - 在使用 MonoDroid 时是否可以使用用 Java 编写的自定义 android 小部件？

> ID：12276394
> 
> 赞同：1
> 
> 时间：2012-09-05T07:20:06.927
> 
> 标签：java, android, widget, xamarin.android, port

Errmm 是的，我希望在我的 MonoDroid 应用程序中使用[RangeSeekBar](http://code.google.com/p/range-seek-bar/) - 但老实说，我什至不确定这是否可能/最好的选择是什么/从哪里开始？

我需要移植整个代码吗？写某种包装？

任何帮助表示感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T08:01:34.303

如果 RangeSeekBar 作为绑定 JAR 库的一部分可用，您可以使用[JAR-binding](http://docs.xamarin.com/android/tutorials/Binding_a_Java_Library_%28.jar%29)将其绑定到您的项目。这可能是最简单的方法。

如果绑定的 JAR 库不可用，您可以使用[Java Native Interface](http://docs.xamarin.com/android/advanced_topics/Working_With_JNI)。但是这个解决方案要复杂得多。

# mysql - 我必须通过仅在 mysql 中获取非空值来使用字段对列表进行排序

> ID：12276396
> 
> 赞同：-5
> 
> 时间：2012-09-05T07:20:15.930
> 
> 标签：mysql, sorting

如何使用具有空值和非空值且非空值的字段对列表进行排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:27:25.870

尝试

```
ORDER BY
     CASE WHEN <COL> IS null THEN 1 else 0 END 
```

这将首先排序具有 NOT NULL COL 值的行，然后是具有 NULL COL 值的行

# php - 如何使用 Google Analytics API 开发服务器应用程序？

> ID：12276399
> 
> 赞同：1
> 
> 时间：2012-09-05T07:20:24.790
> 
> 标签：php, google-analytics, google-api-client

我正在开发一个服务器端应用程序来使用 php 从我的 Google Analytics 帐户中提取数据。我已在 Google API 控制台中将我的应用程序注册为服务应用程序，它为我提供了 Client_Id 和私钥。我想使用终端/命令提示符运行这个应用程序。但我在某处读到大多数 Google API 不支持服务帐户。

我不知道如何在 Google 的 PHP 客户端 API 中验证我的服务应用程序。是否还有其他方法可以为我可以在终端/命令提示符上运行的 Google Analytics 创建服务器应用程序？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-05T09:04:15.897

您可以编写一个简单的 PHP 脚本来完成所有工作。

要在终端中运行它，只需键入：`php myFile.php`

# exception-handling - 处理异常的最佳场所

> ID：12276409
> 
> 赞同：4
> 
> 时间：2012-09-05T07:20:47.297
> 
> 标签：exception-handling, software-design

处理来自较低层的抛出异常的正确位置在哪里......在类内部或可能的最高级别？还是取决于用例？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T12:02:30.803

你可以看看[这个帖子](http://richnewman.wordpress.com/2007/04/08/top-level-exception-handling-in-windows-forms-applications-part-1/)：

`In particular it is now possible (and considered good practice) to set up a top-level exception handler that will handle any unexpected exception on the main thread in a Windows application. This means that it is no longer necessary to have exception handlers in every routine.`

您还可以查看[如何实现顶级异常处理？](https://stackoverflow.com/questions/616759/how-to-implement-top-level-exception-handling)

还有一个用于 Java 异常处理的链接[http://onjava.com/pub/a/onjava/2003/11/19/exceptions.html](http://onjava.com/pub/a/onjava/2003/11/19/exceptions.html)

因此，作为对您问题的一般回答：我会说是的，这取决于用例（它只是您的简单短脚本还是成熟的应用程序），但是您应该尝试尽可能地进行异常处理级别，并且在这样做的同时请记住您向用户呈现的消息的“技术性”（相信我，消息“主线程中的错误 31231241”不会提高应用程序的用户友好性）。

**编辑：** 正如史蒂夫·麦康奈尔（Steve McConnell）在他著名的[Code Complete 2 书中](http://www.cc2e.com/Default.aspx)所说的那样，应该`Throw exceptions on the right level of abstraction - for example if you have a getUser() method and you return IOException then that would be very bad.`但是是的，我认为这是常识。此外，他说应该以这样的方式编写一个函数，即如果某个其他函数向它发送“垃圾”，它不应该导致整个程序崩溃。

此外，他赞成使用[断言](http://en.wikipedia.org/wiki/Assertion_(computing))，他说：`Use error handling code for the conditions you expect to occur; use assertions for conditions that should never occur`.

最后，声明在解决错误时应牢记以下两种方法：`robustness`和`correctness`. 他在书中为这个例子讲述的故事非常生动，在我阅读后很久就留在了我的脑海中。考虑使用“文本编辑应用程序”并考虑所*呈现数据的正确性*。想象几个像素“疯狂”（你计算错误，或者类似的东西） - 如果发生类似的事情，你肯定不会考虑强制关闭应用程序，这被称为**鲁棒性**（继续操作）。但是，现在想象一下，您正在制作一个 X 射线操作应用程序——在这种情况下，任何“奇怪的数据”都应该（正如 McConnell 建议的那样）导致严重的错误消息，据说您'**在您的应用程序中。**

 **PS 请原谅 CC2 部分，但我只是喜欢这本书，并且认为每个开发人员都应该阅读它（至少一次）。**

# objective-c - UITableView 表单库

> ID：12276411
> 
> 赞同：2
> 
> 时间：2012-09-05T07:21:19.833
> 
> 标签：objective-c, ios, uitableview

我正处于创建 UITableView 表单（人们在其中输入一些信息）的痛苦过程中。问题是我有几个文本字段（很好），还有日期、国家选择等。

为此，我需要编写一个自定义动画来显示日期选择器、国家/地区选择器等。所有这些都使代码的故障排除变得复杂，并使用了许多小的硬编码技巧（字段大小等） .

是否有自动执行此操作的库？我只需将特定字段设置为日期，它只会显示日期选择器而不是键盘。或者我可以定义我想在选择器视图中显示的项目（键值）的 NSDictionary。

我已经知道 Apple 提供的有关日期选择器的示例，但它并没有解决这个问题。

感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:11:10.633

[https://github.com/brunow/FormKit.m](https://github.com/brunow/FormKit.m) 这可能会有所帮助

# html - 如何使用打印命令打开链接新标签？

> ID：12276416
> 
> 赞同：32
> 
> 时间：2012-09-05T07:21:37.170
> 
> 标签：html, printing, hyperlink

我有一个包含第三方网站链接的超链接。我想**用 print 命令**在新标签页中打开这个链接。我怎样才能做到这一点？ **认为：**

```
<a href="www.google.com" target="_blank">Print</a> 
```

注意：我知道如何在新选项卡/窗口中打开链接。我想知道如何用 PRINT DIALOG 打开。

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-09-05T08:43:49.103

你可以尝试这样的事情：

```
<a href="javascript: w=window.open('http://yoursite.com/LinkToThePDF.pdf'); w.print(); w.close(); ">​​​​​​​​​​​​​​​​​print pdf</a> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-08-28T16:55:49.493

这种方法对我很有效。

```
<a href="/url/" onclick="window.open(this.href).print(); return false"> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-05T08:23:40.880

网站无法让浏览器加载第三方网站*并*自动为其显示打印对话框。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-02-07T16:24:00.323

```
<img src="print.png" style="cursor:hand" onclick="window.frames['pact'].print();"><iframe name="pact" src="pact.pdf" width="0" height="0" frameborder="0"></iframe> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-02-20T14:03:21.580

这绝对对我有用。我正在用 Angular 6 编写一个网站。

```
<a href="doc.pdf" onClick="window.print(); return false">Print</a> 
```

这是我的来源（[在此处输入链接描述](https://it.toolbox.com/question/adding-a-print-hyperlink-on-a-page-to-print-pdf-file-012208)），但请注意 originak 来源中的双引号。

:)

* * *

## 回答 #6

> 赞同：-4
> 
> 时间：2012-09-05T07:45:26.940

这取决于您的浏览器，您可以为新链接启用选项卡，如果您使用的是 Firefox，则可以使用**Firefox -> 选项 -> 选项 -> 在新选项卡中打开新窗口选项**启用该选项卡

# roboguice - 在非活动类上注入 roboguice

> ID：12276425
> 
> 赞同：1
> 
> 时间：2012-09-05T07:22:20.953
> 
> 标签：roboguice

有没有办法在一个不是活动的类中注入自定义绑定（一个不扩展 RoboActivitiy 的类？因为每次我尝试注入它时，我都会在访问它时得到一个 NullPointerException。

我已经解决了它得到注射器并自己做......但这是我觉得不舒服的事情。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-25T22:23:06.163

如果类本身不是通过注入创建的，那么获取注入器是正确的（也是唯一的）方法。这就是[`RoboActivity`（参见 参考资料`onCreate()`）](http://code.google.com/p/roboguice/source/browse/roboguice/src/main/java/roboguice/activity/RoboActivity.java)首先是如何做到的。通过注入创建的对象使其成员被注入器注入。

# windows - Windows 等效于 linux cksum 命令

> ID：12276426
> 
> 赞同：69
> 
> 时间：2012-09-05T07:22:21.483
> 
> 标签：windows, linux, solaris, checksum

我正在寻找一种跨平台计算 crc 校验和的方法。

`cksum`适用于 Linux、AIX、HP-UX Itanium、Solaris，`cksum`在 windows 中是否也有与 linux 等效的命令？

```
%cksum run.sh
1491301976 652 run.sh 
```

**注意**：没有第三方工具

* * *

## 回答 #1

> 赞同：142
> 
> 时间：2015-07-01T09:17:38.037

在 Windows（命令提示符）中，您可以使用 CertUtil，语法如下：

```
CertUtil [Options] -hashfile InFile [HashAlgorithm] 
```

cmd中的语法解释类型：

```
CertUtil -hashfile -? 
```

例子：

```
CertUtil -hashfile C:\myFile.txt MD5 
```

默认为 SHA1 它支持：MD2、MD4、MD5、SHA1、SHA256、SHA384、SHA512。不幸的是，没有像 Unix shell 那样的 CRC32。

如果您想了解更多信息，请点击此处的链接[https://technet.microsoft.com/en-us/library/cc732443.aspx#BKMK_menu](https://technet.microsoft.com/en-us/library/cc732443.aspx#BKMK_menu)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-12-10T18:31:18.243

看起来好像有一个不受支持的 MS 校验和工具。它的功能很简单，但似乎可以满足您的要求。它于 2012 年 8 月发布。它被称为“Microsoft File Checksum Integrity Verifier”。

[http://www.microsoft.com/en-us/download/details.aspx?id=11533](http://www.microsoft.com/en-us/download/details.aspx?id=11533)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2018-02-19T01:08:53.847

为了避免烦人的非校验和行： CertUtil -v -hashfile "your_file" SHA1 | FIND /V "CertUtil" 这将只显示*不*包含 CertUtil的行

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-12-10T13:08:05.080

打开 Windows PowerShell，并使用以下命令：

```
Get-FileHash C:\Users\Deepak\Downloads\ubuntu-20.10-desktop-amd64.iso 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-02-12T22:16:00.793

[这是用于 Windows https://cksum.codeplex.com/](https://cksum.codeplex.com/)的 *nix cksum 命令行实用程序的 C# 实现

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-08-04T12:58:18.630

在 2019 年，Microsoft 为 Windows 10 提供了以下解决方案。此解决方案适用于 SHA256 校验和。

[https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash?view=powershell-6](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash?view=powershell-6)

按 Windows 键。键入 PowerShell。选择 Windows Powershell。按回车键。粘贴命令

Get-FileHash C:\Users\Donald\Downloads\File-to-be-checked-by-sha256.exe | 格式列表

将 File-to-be-checked-by-sha256.exe 替换为要检查的文件的名称。

将路径替换为文件所在的路径。按回车键。Powershell然后显示以下

算法：SHA256 哈希：123456789ABCDEFGH1234567890... 路径：C:\Users\Donald\Downloads\File-to-be-checked-by-sha256.exe

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2021-12-10T08:49:11.187

算法 linux 中的 cksum 命令 [https://www.opennet.ru/man.shtml?topic=cksum&category=1&russian=5](https://www.opennet.ru/man.shtml?topic=cksum&category=1&russian=5)

Powershell 实现：

```
function UNSIGNED($u) {
    return $u -band 0xffffffff
}

function memcrc32($b){

     $crctab = [uint32]"0x00000000", [uint32]"0x04c11db7", [uint32]"0x09823b6e", [uint32]"0x0d4326d9", [uint32]"0x130476dc",
        [uint32]"0x17c56b6b", [uint32]"0x1a864db2", [uint32]"0x1e475005", [uint32]"0x2608edb8", [uint32]"0x22c9f00f",
        [uint32]"0x2f8ad6d6", [uint32]"0x2b4bcb61", [uint32]"0x350c9b64", [uint32]"0x31cd86d3", [uint32]"0x3c8ea00a",
        [uint32]"0x384fbdbd", [uint32]"0x4c11db70", [uint32]"0x48d0c6c7", [uint32]"0x4593e01e", [uint32]"0x4152fda9",
        [uint32]"0x5f15adac", [uint32]"0x5bd4b01b", [uint32]"0x569796c2", [uint32]"0x52568b75", [uint32]"0x6a1936c8",
        [uint32]"0x6ed82b7f", [uint32]"0x639b0da6", [uint32]"0x675a1011", [uint32]"0x791d4014", [uint32]"0x7ddc5da3",
        [uint32]"0x709f7b7a", [uint32]"0x745e66cd", [uint32]"0x9823b6e0", [uint32]"0x9ce2ab57", [uint32]"0x91a18d8e",
        [uint32]"0x95609039", [uint32]"0x8b27c03c", [uint32]"0x8fe6dd8b", [uint32]"0x82a5fb52", [uint32]"0x8664e6e5",
        [uint32]"0xbe2b5b58", [uint32]"0xbaea46ef", [uint32]"0xb7a96036", [uint32]"0xb3687d81", [uint32]"0xad2f2d84",
        [uint32]"0xa9ee3033", [uint32]"0xa4ad16ea", [uint32]"0xa06c0b5d", [uint32]"0xd4326d90", [uint32]"0xd0f37027",
        [uint32]"0xddb056fe", [uint32]"0xd9714b49", [uint32]"0xc7361b4c", [uint32]"0xc3f706fb", [uint32]"0xceb42022",
        [uint32]"0xca753d95", [uint32]"0xf23a8028", [uint32]"0xf6fb9d9f", [uint32]"0xfbb8bb46", [uint32]"0xff79a6f1",
        [uint32]"0xe13ef6f4", [uint32]"0xe5ffeb43", [uint32]"0xe8bccd9a", [uint32]"0xec7dd02d", [uint32]"0x34867077",
        [uint32]"0x30476dc0", [uint32]"0x3d044b19", [uint32]"0x39c556ae", [uint32]"0x278206ab", [uint32]"0x23431b1c",
        [uint32]"0x2e003dc5", [uint32]"0x2ac12072", [uint32]"0x128e9dcf", [uint32]"0x164f8078", [uint32]"0x1b0ca6a1",
        [uint32]"0x1fcdbb16", [uint32]"0x018aeb13", [uint32]"0x054bf6a4", [uint32]"0x0808d07d", [uint32]"0x0cc9cdca",
        [uint32]"0x7897ab07", [uint32]"0x7c56b6b0", [uint32]"0x71159069", [uint32]"0x75d48dde", [uint32]"0x6b93dddb",
        [uint32]"0x6f52c06c", [uint32]"0x6211e6b5", [uint32]"0x66d0fb02", [uint32]"0x5e9f46bf", [uint32]"0x5a5e5b08",
        [uint32]"0x571d7dd1", [uint32]"0x53dc6066", [uint32]"0x4d9b3063", [uint32]"0x495a2dd4", [uint32]"0x44190b0d",
        [uint32]"0x40d816ba", [uint32]"0xaca5c697", [uint32]"0xa864db20", [uint32]"0xa527fdf9", [uint32]"0xa1e6e04e",
        [uint32]"0xbfa1b04b", [uint32]"0xbb60adfc", [uint32]"0xb6238b25", [uint32]"0xb2e29692", [uint32]"0x8aad2b2f",
        [uint32]"0x8e6c3698", [uint32]"0x832f1041", [uint32]"0x87ee0df6", [uint32]"0x99a95df3", [uint32]"0x9d684044",
        [uint32]"0x902b669d", [uint32]"0x94ea7b2a", [uint32]"0xe0b41de7", [uint32]"0xe4750050", [uint32]"0xe9362689",
        [uint32]"0xedf73b3e", [uint32]"0xf3b06b3b", [uint32]"0xf771768c", [uint32]"0xfa325055", [uint32]"0xfef34de2",
        [uint32]"0xc6bcf05f", [uint32]"0xc27dede8", [uint32]"0xcf3ecb31", [uint32]"0xcbffd686", [uint32]"0xd5b88683",
        [uint32]"0xd1799b34", [uint32]"0xdc3abded", [uint32]"0xd8fba05a", [uint32]"0x690ce0ee", [uint32]"0x6dcdfd59",
        [uint32]"0x608edb80", [uint32]"0x644fc637", [uint32]"0x7a089632", [uint32]"0x7ec98b85", [uint32]"0x738aad5c",
        [uint32]"0x774bb0eb", [uint32]"0x4f040d56", [uint32]"0x4bc510e1", [uint32]"0x46863638", [uint32]"0x42472b8f",
        [uint32]"0x5c007b8a", [uint32]"0x58c1663d", [uint32]"0x558240e4", [uint32]"0x51435d53", [uint32]"0x251d3b9e",
        [uint32]"0x21dc2629", [uint32]"0x2c9f00f0", [uint32]"0x285e1d47", [uint32]"0x36194d42", [uint32]"0x32d850f5",
        [uint32]"0x3f9b762c", [uint32]"0x3b5a6b9b", [uint32]"0x0315d626", [uint32]"0x07d4cb91", [uint32]"0x0a97ed48",
        [uint32]"0x0e56f0ff", [uint32]"0x1011a0fa", [uint32]"0x14d0bd4d", [uint32]"0x19939b94", [uint32]"0x1d528623",
        [uint32]"0xf12f560e", [uint32]"0xf5ee4bb9", [uint32]"0xf8ad6d60", [uint32]"0xfc6c70d7", [uint32]"0xe22b20d2",
        [uint32]"0xe6ea3d65", [uint32]"0xeba91bbc", [uint32]"0xef68060b", [uint32]"0xd727bbb6", [uint32]"0xd3e6a601",
        [uint32]"0xdea580d8", [uint32]"0xda649d6f", [uint32]"0xc423cd6a", [uint32]"0xc0e2d0dd", [uint32]"0xcda1f604",
        [uint32]"0xc960ebb3", [uint32]"0xbd3e8d7e", [uint32]"0xb9ff90c9", [uint32]"0xb4bcb610", [uint32]"0xb07daba7",
        [uint32]"0xae3afba2", [uint32]"0xaafbe615", [uint32]"0xa7b8c0cc", [uint32]"0xa379dd7b", [uint32]"0x9b3660c6",
        [uint32]"0x9ff77d71", [uint32]"0x92b45ba8", [uint32]"0x9675461f", [uint32]"0x8832161a", [uint32]"0x8cf30bad",
        [uint32]"0x81b02d74", [uint32]"0x857130c3", [uint32]"0x5d8a9099", [uint32]"0x594b8d2e", [uint32]"0x5408abf7",
        [uint32]"0x50c9b640", [uint32]"0x4e8ee645", [uint32]"0x4a4ffbf2", [uint32]"0x470cdd2b", [uint32]"0x43cdc09c",
        [uint32]"0x7b827d21", [uint32]"0x7f436096", [uint32]"0x7200464f", [uint32]"0x76c15bf8", [uint32]"0x68860bfd",
        [uint32]"0x6c47164a", [uint32]"0x61043093", [uint32]"0x65c52d24", [uint32]"0x119b4be9", [uint32]"0x155a565e",
        [uint32]"0x18197087", [uint32]"0x1cd86d30", [uint32]"0x029f3d35", [uint32]"0x065e2082", [uint32]"0x0b1d065b",
        [uint32]"0x0fdc1bec", [uint32]"0x3793a651", [uint32]"0x3352bbe6", [uint32]"0x3e119d3f", [uint32]"0x3ad08088",
        [uint32]"0x2497d08d", [uint32]"0x2056cd3a", [uint32]"0x2d15ebe3", [uint32]"0x29d4f654", [uint32]"0xc5a92679",
        [uint32]"0xc1683bce", [uint32]"0xcc2b1d17", [uint32]"0xc8ea00a0", [uint32]"0xd6ad50a5", [uint32]"0xd26c4d12",
        [uint32]"0xdf2f6bcb", [uint32]"0xdbee767c", [uint32]"0xe3a1cbc1", [uint32]"0xe760d676", [uint32]"0xea23f0af",
        [uint32]"0xeee2ed18", [uint32]"0xf0a5bd1d", [uint32]"0xf464a0aa", [uint32]"0xf9278673", [uint32]"0xfde69bc4",
        [uint32]"0x89b8fd09", [uint32]"0x8d79e0be", [uint32]"0x803ac667", [uint32]"0x84fbdbd0", [uint32]"0x9abc8bd5",
        [uint32]"0x9e7d9662", [uint32]"0x933eb0bb", [uint32]"0x97ffad0c", [uint32]"0xafb010b1", [uint32]"0xab710d06",
        [uint32]"0xa6322bdf", [uint32]"0xa2f33668", [uint32]"0xbcb4666d", [uint32]"0xb8757bda", [uint32]"0xb5365d03",
        [uint32]"0xb1f740b4"

    $n = $b.length
    $i = $c = $s = 0

    foreach ($c in $b){
      $tabidx = (($s -shr 24) -bxor $c)
      $s = ((UNSIGNED($s -shl 8)) -bxor $crctab[$tabidx])
    }

   while($n -ne 0){
        $c = ($n -band 0xff)
        $n = ($n -shr 8)
        $s = (($s -shl 8) -bxor ($crctab[($s -shr 24) -bxor $c]))
   }
   return (-bnot $s)
}

function cksum($fname) {

      $buffer=[System.IO.File]::ReadAllBytes($fname)
      $CRC = memcrc32($buffer)

      Write-Host $CRC $buffer.length "$fname"
    }

cksum("PATH_TO_FILE") 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-04-18T11:15:01.753

结合@Cassian和@Hllitec的答案以及来自[https://stackoverflow.com/a/42706309/1001717](https://stackoverflow.com/a/42706309/1001717)的解决方案，我将（仅！）校验和值放入变量中以进行进一步处理：

```
for /f "delims=" %i in ('certutil -v -hashfile myPackage.nupkg SHA256 ^| find /i /v "sha256" ^| find /i /v "certutil"') do set myVar=%i 
```

要测试输出，您可以使用 var 添加管道 echo 命令：

```
for /f "delims=" %i in ('certutil -v -hashfile myPackage.nupkg SHA256 ^| find /i /v "sha256" ^| find /i /v "certutil"') do set myVar=%i | echo %myVar% 
```

有点离题，但仅供参考：我在将 NuGet 包上传到 Artifactory 之前使用了它。顺便提一句。作为替代方案，您可以使用 JFrog CLI，其中会自动计算校验和。

# objective-c - iOS 从非运行状态启动应用程序后处理通知

> ID：12276427
> 
> 赞同：8
> 
> 时间：2012-09-05T07:22:23.400
> 
> 标签：objective-c, ios, uilocalnotification, uiapplication

我一直在尝试在我的应用程序中处理接收通知，但它并没有真正奏效。

当我使用`didReceiveLocalNotification:(UILocalNotification *)notification`. 我可以接收和使用用于进入应用程序的通知，没有任何问题

但是，此功能仅在应用程序已经**运行**时才会触发（活动、非活动、后台和可能暂停，但我还没有尝试过）。

现在，`didFinishLaunchingWithOptions:(NSDictionary *)launchOptions`您可以使用此函数`[launchOptions objectForKey:UIApplicationLaunchOptionsLocalNotificationKey]`返回 UILocalNotification。

但是，当您从**非运行**状态启动应用程序时，不会触发此事件。LocalNotification 然后打开应用程序，但我不能以任何方式使用它。

现在，我的问题是：**我怎样才能让它工作，所以我可以在启动应用程序时接收和处理通知，从通知，当应用程序处于非运行状态时？**也许我在这里做错了什么？

这是我的应用程序中的一些示例代码：

首先，`didFinishLaunchingWithOptions`不幸的是，该功能不起作用。该功能`[sharedLocalNotificationsInstance processNotification:notification]`永远不会启动...

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions{

LocalNotificationsController *sharedLocalNotificationsInstance = [LocalNotificationsController sharedLocalNotificationsInstance];
[sharedLocalNotificationsInstance checkNotifications];

UILocalNotification *notification = [launchOptions objectForKey:UIApplicationLaunchOptionsLocalNotificationKey];
if ( notification != nil ) {

    // Process the received notification
    [sharedLocalNotificationsInstance processNotification:notification];

    application.applicationIconBadgeNumber = 0;
}

return YES;
} 
```

第二段代码：didReceiveLocalNotification 函数，完美运行：我收到通知，并且 [sharedLocalNotificationsInstance processNotification:notification] 完美运行。

```
- (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification{

// Used when the application launches from a notification
LocalNotificationsController *sharedLocalNotificationsInstance = [LocalNotificationsController sharedLocalNotificationsInstance];

// Process the received notification
[sharedLocalNotificationsInstance processNotification:notification];
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T03:06:09.293

这就是 iOS 处理本地通知的方式。这取决于您的应用程序的哪个状态，例如活动、在后台运行或尚未启动。iOS 将调用 didFinishLaunchingWithOptions 或 didReceiveLocalNotification，或者根本不会触及您的应用程序。

请参阅这篇文章进行澄清 - [http://www.thekspace.com/home/component/content/article/62-uilocalnotification-demystified.html](http://www.thekspace.com/home/component/content/article/62-uilocalnotification-demystified.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-02T16:26:33.720

`<Matrix-Morpheus-Meme title="WHAT IF I TOLD YOU">`

当应用程序由于用户点击本地通知警报而从“未运行”状态启动时，该应用程序已由 iOS 启动，而不是由 Xcode 启动，因此它没有在调试器下运行。您不能在其中设置断点，NSLog() 也不会向 Xcode 控制台发送任何内容。用`UIAlertController`.

`</Matrix-Morpheus-Meme>`

# java - 失败后重置 Eclipselink JPA 实体管理器

> ID：12276430
> 
> 赞同：1
> 
> 时间：2012-09-05T07:22:28.370
> 
> 标签：java, jpa, eclipselink

我目前在使用 JPA 实体管理器时遇到了一些问题（使用 Eclipselink）。每当实体管理器出现问题时，我就无法再对它做任何事情。我每次都得重新开始。这真的很烦人，当考虑在生产中使用它时，我对此并不感到舒服。

是否有一些无需重新启动整个应用程序即可重置实体管理器？是否有一些配置选项允许我使实体管理器对失败的 jpa 操作更加健壮一点？

克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T13:42:23.657

请提供更多细节，

“每当出现问题时” - 出了什么问题？你得到什么错误，包括堆栈。

“我不再能够做任何事情” - 你得到什么错误？

通常，当 EntityManager 的操作失败时，您只需将其关闭并从工厂创建一个新的。EntityManagers 应该在每个请求或每个事务中使用，因此获取一个新的应该不是问题，除非您的应用程序设计不佳。

您还可以调用 clear() 来重置特定的 EntityManager 以继续使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:46:22.690

据我所知，当 EntityManager 抛出任何异常时，它必须被丢弃，因为它变得不可用（通常在除了任何操作上抛出 IllegalStateException `close()`）。

我从来没有尝试过 JMelnik 的建议，因为我总是使用容器管理的上下文，但它可能会起作用。

# c# - LINQ to SQL 和空值

> ID：12276431
> 
> 赞同：5
> 
> 时间：2012-09-05T07:22:36.540
> 
> 标签：c#, linq, linq-to-sql, exception-handling, null

我有以下 LINQ to SQL 查询：

```
var inTransitStocks = orderHistories.Where(oh => oh.Shipped_Qty > 0)
                                    .Select(oh => oh.Shipped_Qty); //.ToList();
var inTransitStock = (int)inTransitStocks.Sum(); 
```

没有`ToList`电话，我就得到了以下异常`Sum()`：

> 不能将 null 值分配给 System.Double 类型的成员，这是不可为 null 的值类型。

如果我添加一个`.ToList()`之前的总和（如评论中所示），我不会收到错误消息。

**为什么我首先会收到错误消息？**（`Shipped_Qty`不为空，并且数据库中不存在该字段中的空数据）

**为什么要添加`ToList()`修复程序？**

* * *

执行的 sql 查询如下（查询比上面更多）：

```
SELECT [t0].[Shipped Qty]
FROM [dbo].[Order History] AS [t0]
WHERE ([t0].[Shipped Qty] > @p0) AND ([t0].[CUST_ID] = @p1) AND ([t0].[SHIP_TO_ID] = @p2) AND ([t0].[Item] = @p3) AND (([t0].[DT_LST_SHP] >= @p4) OR (UNICODE([t0].[LN_STA]) = @p5)) 
```

**不返回任何结果。**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T07:30:31.640

原因如下：

如果没有`ToList`对数据库执行以下查询：

```
select SUM(Shipped_Qty) from orderHistories where Shipped_Qty > 0; 
```

If there are no rows matching this criteria, the result of this query is not 0 but `NULL`.

With `ToList` the following query gets executed:

```
select Shipped_Qty from orderHistories where Shipped_Qty > 0; 
```

The result (no rows) will be put into a list. The result is an empty list. On that empty list you execute the LINQ to Objects extension method `Sum`. The sum of an empty list is 0 and NOT `null`.

So basically: Different semantics lead to different results.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:31:53.230

After you do the `ToList()` you are using the Linq-To-Objects implementation of `Sum`.

Before you do `ToList()` the `Sum` operation is being aggregated into the Linq-To-Sql query.

* * *

To find out why the Linq-To-Sql fails, follow [Daniel Hilgath's approach](https://stackoverflow.com/a/12276558/659190).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:40:25.743

all was said but let me reformulate : this is because of the magic of var!

```
Without ToList() var <=> DbQuery
With ToList() var <=> List<Double> 
```

The Sum function does not have the same behaviour on the two types...

# regex - 正则表达式 xml 验证

> ID：12276434
> 
> 赞同：-3
> 
> 时间：2012-09-05T07:22:54.120
> 
> 标签：regex

我正在尝试编写一个正则表达式来满足以下所有条件：

1.  用逗号分隔的数字
2.  d{n}:d{n} 其中 n =1- 13
3.  例如：1,2,4:5,3,22:44,66,666,777:888
4.  不应以 , 或 结尾：
5.  不应以 , 或 开头：
6.  不应只允许 , 或 :
7.  不应允许多个 ,s 或 :s

我找到了一些可以建立的答案，但这些答案是允许的，并且：

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:27:35.697

这就是你需要的

```
^(\d{1,13}([:,]\d{1,13})*)$ 
```

在[这里工作](http://regexpal.com/)

# tfs - 团队基础搭建服务新代理

> ID：12276440
> 
> 赞同：2
> 
> 时间：2012-09-05T07:23:14.377
> 
> 标签：tfs, tfsbuild

我在服务器上删除了 2 个构建代理。我在管理控制台中再次添加了它们（并再次将它们连接到同一个构建控制器）。

在我构建的属性中，我检查了属性以查看是否有任何更改，但他仍然连接到同一个控制器。

当我现在进行队列构建时，我得到了这个错误，我不知道为什么：

TF203059: 标签 20120905.1@[file] 已经存在。使用不同的标签名称重试该命令。

我在互联网上查看，每个有这个问题的人都在使用并行模板，但我使用的是默认模板。

谁能帮我？

亲切的问候，

蒂博海伦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-05T18:52:19.553

看起来自动标签正在构建时创建。如果需要，您可以在构建定义中禁用标签。您还可以通过转到源代码管理资源管理器中的位置来删除现有标签。找到它后，查看历史记录，然后查看标签，然后删除有问题的标签。

# jquery - 将复杂对象发送到控制器。对象的部分属性是从另一个局部视图完成的

> ID：12276449
> 
> 赞同：0
> 
> 时间：2012-09-05T07:23:42.797
> 
> 标签：jquery, json, asp.net-mvc-3, mapping

我的视图有一个对象模型，其中包含约会的信息和约会的重复。像这样的东西：

```
 public partial class AppointmentModel
 {
      public appointment Appointment { get; set; }
      public appointmentRecurrence Recurrence { get; set; }
      ...
 } 
```

在我的主屏幕上，我正在完成 Appointment 字段并提交 AppointmentModel 模型。同样从这个屏幕中，我打开一个对话框（部分视图强类型化到约会Recurrence），其中包含有关约会重复的信息。

我的问题是：如何将我的约会递归模型发送到我的“主”模型以填充 Recurrence 属性并从控制器提交给我的操作？在创建约会之前，我无法提交约会Recurrence，因此我的复杂对象必须填充所有字段。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:49:50.877

当您完成约会重复弹出窗口中的字段后，您应该在隐藏字段中的约会视图中写入适当的数据，最后提交所有字段（包括从弹出窗口迁移的字段）

编辑：

主要形式：

```
<form id="mainForm" action="/MyController/MyAction" method="POST">
    <input type="text" name="Firstname"/>
    <input type="text" name="Lastname"/>
    <input type="hidden" name="popupData" id="popupData"/>
    <input type="button" value="save" onclick="SavePopupData();"/>
</form> 
```

部分弹出：

```
<form id="popupForm" method="POST">
    <input type="text" name="Firstname"/>
    <input type="text" name="Lastname"/>
    <input type="button" value="save" onclick="SavePopupData();"/>
</form>

<script type="text/javascript">
    function SavePopupData() {
        //Close popup
        $('#popupData').val($('#popupForm').serialize());
    }
</script> 
```

在 MyController 中：

```
public ActionResult MyAction(MainFormModel mainFormModel, string popupData)
{
    var popupModelData = new PopupModel();
    UpdateModel(popupModelData, ConvertToFormCollection(popupData));
}

private FormCollection ConvertToFormCollection(string formData)
{
            var collection = new FormCollection();
            var keyValues = formData.Split('&');
            foreach (var keyValue in keyValues)
            {
                var res = keyValue.Split('=');
                collection.Add(res[0], res[1]);
            }
            return collection;
} 
```

# android - 尽管是 AsyncTask，Android Honeycomb Strict Mode 还是会导致应用崩溃

> ID：12276451
> 
> 赞同：0
> 
> 时间：2012-09-05T07:23:50.223
> 
> 标签：android, android-asynctask, android-3.0-honeycomb, android-strictmode, android-3.2-honeycomb

我正在尝试在 3.2 Android 设备（Honeycomb）上运行我的应用程序。

不幸的是，每当我尝试使用`EditCaseActivity`. Logcat 似乎告诉我这`StrictMode`是导致崩溃的原因，但我已经在使用`AsyncTask`.

非常感谢任何形式的帮助！:)

我的朋友怀疑它与 . 有关系`RunOnUiThread`，但试图编辑掉`RunOnUiThread`代码的 126 和 127 行中的 'params' 错误。

EditCaseActivity.java

```
package com.pivestigator.cases;

import java.util.ArrayList;
import java.util.List;

import org.apache.http.NameValuePair;
import org.apache.http.message.BasicNameValuePair;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import com.pivestigator.JSONParser;
import com.pivestigator.R;
import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;

public class EditCaseActivity extends Activity {

    EditText txtCaseName;
    EditText txtCaseUser;
    EditText txtCaseCategory;
    EditText txtCreatedAt;
    Button btnSave;
    Button btnDelete;

    String cid;

    // Progress Dialog
    private ProgressDialog pDialog;

    // JSON parser class
    JSONParser jsonParser = new JSONParser();

    // single case url
    private static final String url_case_details = "http://nsecure.5gbfree.com/PIvestigator/case/get_case_details.php";

    // url to update case
    private static final String url_update_case = "http://nsecure.5gbfree.com/PIvestigator/case/update_case.php";

    // url to delete case
    private static final String url_delete_case = "http://nsecure.5gbfree.com/PIvestigator/case/delete_case.php";

    // JSON Node names
    private static final String TAG_SUCCESS = "success";
    private static final String TAG_CASE = "case";
    private static final String TAG_CID = "cid";
    private static final String TAG_CASE_NAME = "case_name";
    private static final String TAG_CASE_USER = "case_user";
    private static final String TAG_CASE_CATEGORY = "case_category";

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.edit_case);

        // save button
        btnSave = (Button) findViewById(R.id.btnSave);
        btnDelete = (Button) findViewById(R.id.btnDelete);

        // getting case details from intent
        Intent i = getIntent();

        // getting case id (cid) from intent
        cid = i.getStringExtra(TAG_CID);

        // Getting complete case details in background thread
        new GetCaseDetails().execute();

        // save button click event
        btnSave.setOnClickListener(new View.OnClickListener() {

            public void onClick(View arg0) {
                // starting background task to update case
                new SaveCaseDetails().execute();
            }
        });

        // Delete button click event
        btnDelete.setOnClickListener(new View.OnClickListener() {

            public void onClick(View arg0) {
                // deleting case in background thread
                new DeleteCase().execute();
            }
        });

    }

    /**
     * Background Async Task to Get complete case details
     * */
    class GetCaseDetails extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(EditCaseActivity.this);
            pDialog.setMessage("Loading case details. Please stare at spinner to increase loading speed...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(true);
            pDialog.show();
        }

        /**
         * Getting case details in background thread
         * */
        protected String doInBackground(String... params) {

            // updating UI from Background Thread
            runOnUiThread(new Runnable() {
                public void run() {
                    // Check for success tag
                    int success;
                    try {
                        // Building Parameters
                        List<NameValuePair> params = new ArrayList<NameValuePair>();
                        params.add(new BasicNameValuePair("cid", cid));

                        // getting case details by making HTTP request
                        // Note that case details url will use GET request
                        JSONObject json = jsonParser.makeHttpRequest(
                                url_case_details, "GET", params);

                        // check your log for json response
                        Log.d("Single Case Details", json.toString());

                        // json success tag
                        success = json.getInt(TAG_SUCCESS);
                        if (success == 1) {
                            // successfully received case details
                            JSONArray caseObj = json
                                    .getJSONArray(TAG_CASE); // JSON Array

                            // get first case object from JSON Array
                            JSONObject cases = caseObj.getJSONObject(0);

                            // case with this cid found
                            // Edit Text
                            txtCaseName = (EditText) findViewById(R.id.inputCaseName);
                            txtCaseUser = (EditText) findViewById(R.id.inputCaseUser);
                            txtCaseCategory = (EditText) findViewById(R.id.inputCaseCategory);

                            // display case data in EditText
                            txtCaseName.setText(cases.getString(TAG_CASE_NAME));
                            txtCaseUser.setText(cases.getString(TAG_CASE_USER));
                            txtCaseCategory.setText(cases.getString(TAG_CASE_CATEGORY));

                        }else{
                            // case with cid not found
                        }
                    } catch (JSONException e) {
                        e.printStackTrace();
                    }
                }
            });

            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {
            // dismiss the dialog once got all details
            pDialog.dismiss();
        }
    }

    /**
     * Background Async Task to  Save case Details
     * */
    class SaveCaseDetails extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(EditCaseActivity.this);
            pDialog.setMessage("Saving case ...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(true);
            pDialog.show();
        }

        /**
         * Saving case
         * */
        protected String doInBackground(String... args) {

            // getting updated data from EditTexts
            String case_name = txtCaseName.getText().toString();
            String case_user = txtCaseUser.getText().toString();
            String case_category = txtCaseCategory.getText().toString();

            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            params.add(new BasicNameValuePair(TAG_CID, cid));
            params.add(new BasicNameValuePair(TAG_CASE_NAME, case_name));
            params.add(new BasicNameValuePair(TAG_CASE_USER, case_user));
            params.add(new BasicNameValuePair(TAG_CASE_CATEGORY, case_category));

            // sending modified data through http request
            // Notice that update case url accepts POST method
            JSONObject json = jsonParser.makeHttpRequest(url_update_case,
                    "POST", params);

            // check json success tag
            try {
                int success = json.getInt(TAG_SUCCESS);

                if (success == 1) {
                    // successfully updated
                    Intent i = getIntent();
                    // send result code 100 to notify about case update
                    setResult(100, i);
                    finish();
                } else {
                    // failed to update case
                }
            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {
            // dismiss the dialog once case updated
            pDialog.dismiss();
        }
    }

    /*****************************************************************
     * Background Async Task to Delete Case
     * */
    class DeleteCase extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(EditCaseActivity.this);
            pDialog.setMessage("Deleting Case...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(true);
            pDialog.show();
        }

        /**
         * Deleting case
         * */
        protected String doInBackground(String... args) {

            // Check for success tag
            int success;
            try {
                // Building Parameters
                List<NameValuePair> params = new ArrayList<NameValuePair>();
                params.add(new BasicNameValuePair("cid", cid));

                // getting case details by making HTTP request
                JSONObject json = jsonParser.makeHttpRequest(
                        url_delete_case, "POST", params);

                // check your log for json response
                Log.d("Delete Case", json.toString());

                // json success tag
                success = json.getInt(TAG_SUCCESS);
                if (success == 1) {
                    // case successfully deleted
                    // notify previous activity by sending code 100
                    Intent i = getIntent();
                    // send result code 100 to notify about case deletion
                    setResult(100, i);
                    finish();
                }
            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {
            // dismiss the dialog once case deleted
            pDialog.dismiss();

        }

    }
} 
```

日志输出：

```
09-05 15:13:17.250: D/All Cases:(4519): {"cases":[{"case_name":"1111","created_at":"2012-07-23 20:35:05","updated_at":"2012-07-24 01:08:41","case_category":"111111111111111","case_user":"1111111","cid":"10"},{"case_name":"c","created_at":"2012-07-23 23:12:36","updated_at":"0000-00-00 00:00:00","case_category":"action2","case_user":"a","cid":"11"},{"case_name":"Klara","created_at":"2012-07-23 23:15:30","updated_at":"0000-00-00 00:00:00","case_category":"i dont know wha","case_user":"Rara","cid":"12"},{"case_name":"chicken","created_at":"2012-07-24 00:58:43","updated_at":"2012-07-24 01:07:24","case_category":"DERPID 2","case_user":"Sherlock","cid":"13"},{"case_name":"derpy\t","created_at":"2012-07-24 01:13:24","updated_at":"2012-07-24 01:29:04","case_category":"blkchicken.chic","case_user":"Sherlock","cid":"14"}],"success":1}
09-05 15:13:33.340: D/AndroidRuntime(4519): Shutting down VM
09-05 15:13:33.340: W/dalvikvm(4519): threadid=1: thread exiting with uncaught exception (group=0x400ee760)
09-05 15:13:33.340: E/AndroidRuntime(4519): FATAL EXCEPTION: main
09-05 15:13:33.340: E/AndroidRuntime(4519): android.os.NetworkOnMainThreadException
09-05 15:13:33.340: E/AndroidRuntime(4519):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1077)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at java.net.InetAddress.lookupHostByName(InetAddress.java:477)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:277)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at java.net.InetAddress.getAllByName(InetAddress.java:249)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:136)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at com.pivestigator.JSONParser.makeHttpRequest(JSONParser.java:62)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at com.pivestigator.cases.EditCaseActivity$GetCaseDetails$1.run(EditCaseActivity.java:131)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at android.os.Handler.handleCallback(Handler.java:587)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at android.os.Handler.dispatchMessage(Handler.java:92)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at android.os.Looper.loop(Looper.java:132)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at android.app.ActivityThread.main(ActivityThread.java:4126)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at java.lang.reflect.Method.invokeNative(Native Method)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at java.lang.reflect.Method.invoke(Method.java:491)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:844)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)
09-05 15:13:33.340: E/AndroidRuntime(4519):     at dalvik.system.NativeStart.main(Native Method)
09-05 15:13:35.360: I/dalvikvm(4519): threadid=4: reacting to signal 3
09-05 15:13:35.370: I/dalvikvm(4519): Wrote stack traces to '/data/anr/traces.txt' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:38:10.270

错误是在`SaveCaseDetails`课堂上。

`makeHttpRequest`您正在使用函数内部 UI 线程上的函数发出 HTTP 请求（我想）`doInBackground`。

即使代码在后台线程中；但是，您在`runOnUiThread`那里调用它将在 UI 线程上运行并导致此异常。

去掉`runOnUiThread`里面`doInBackground`的类`SaveCaseDetails`。

如果需要，仅使用它来更新 UI。

* * *

由于参数重命名，会发生错误，因此通过更改行来更改名称

`protected String doInBackground(String... params)`

至

`protected String doInBackground(String... taskParams)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:40:30.707

将其更改为在执行后返回 json 对象作为结果并在那里运行

```
 // json success tag
                    success = json.getInt(TAG_SUCCESS);
                    if (success == 1) {
                        // successfully received case details
                        JSONArray caseObj = json
                                .getJSONArray(TAG_CASE); // JSON Array

                        // get first case object from JSON Array
                        JSONObject cases = caseObj.getJSONObject(0);

                        // case with this cid found
                        // Edit Text
                        txtCaseName = (EditText) findViewById(R.id.inputCaseName);
                        txtCaseUser = (EditText) findViewById(R.id.inputCaseUser);
                        txtCaseCategory = (EditText) findViewById(R.id.inputCaseCategory);

                        // display case data in EditText
                        txtCaseName.setText(cases.getString(TAG_CASE_NAME));
                        txtCaseUser.setText(cases.getString(TAG_CASE_USER));
                        txtCaseCategory.setText(cases.getString(TAG_CASE_CATEGORY));

                    }else{
                        // case with cid not found
                    } 
```

# php - 从 Linux 连接到 MsSQL 数据库

> ID：12276452
> 
> 赞同：1
> 
> 时间：2012-09-05T07:23:56.747
> 
> 标签：php, sql, linux, apache

有谁知道如何在 Linux 网络服务器上安装 Ms SQL 扩展 2005？网络服务器目前有 FreeTDS 库版本，我不知道这意味着什么。但是当我尝试连接它并没有说

```
mssql_connect() does not exist 
```

但它说

```
Unable to connect to server: xx.xx.xx.xx 
```

我想这是因为扩展程序的版本，因为我在带有`ntwdblib.dll`. 但我不知道如何在 Linux 上解决这个问题。

我只需要使用这些功能。该数据库位于 Windows 服务器上，因此我想使用`mssql_connect()`.

网络服务器不是我自己的，它是一家托管公司，我碰巧认识托管商，所以我不能问他是否可以安装 windows 或任何东西。那么有人可以告诉我它如何适用于 linux 吗？

我用自己的电脑对其进行了测试，我可以从我的电脑连接到 Windows 服务器。但从网络服务器它没有，它说：

```
unable to connect to the server: "ip" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:29:49.790

这有两个部分：

FreeTDS...您需要编辑 /etc/freetds.conf 以包含连接的定义。

```
[CON1]
    host = xxx.xxx.xxx.xxx
    port = 1433
    tds version = 8.0
    client charset = UTF8
    text size = 20971520

[CON2]
    host = xxx.xxx.xxx.xxx\PIPENAME
    port = 1433
    tds version = 8.0
    client charset = UTF8
    text size = 20971520 
```

然后，我会直接忽略 mssql_commands，并使用 PHP ADODB ( [http://adodb.sourceforge.net/](http://adodb.sourceforge.net/) ) 连接和运行查询（特别是如果 yoi 打算执行存储过程 - PDO 也可以，但是 ADODB 可以工作并且可靠并与 SQL Server 一致）。获取它后使用它连接到 sql server 等：

```
 $dbMS1=ADONewConnection("mssql");
    $dbMS1->Connect('CON1','brs','TFaqAIs8');
    $dbMS1->SelectDB('TheDatabase');

    $sql = "SELECT .......";

    $rs = $dbMS1->Execute($sql); 
```

# android - aSmack MUC：重新连接后获取加入房间的列表

> ID：12276453
> 
> 赞同：2
> 
> 时间：2012-09-05T07:23:58.883
> 
> 标签：android, xmpp, smack, asmack

我正在构建一个聊天应用程序，但 MultiUserChat 类有问题。我正在使用的库是从谷歌代码下载的。

XMPP 连接丢失后，我将自动离开所有加入的组

重新连接后，我尝试使用：

```
MultiUserChat.getJoinedRooms(xmpp, "1@test.server.com"); 
```

所以我可以加入我所有的房间，但我得到一个 NullPointerException。

任何人都知道如何在我断开连接之前重新加入我所有加入的房间？我考虑过将所有加入的数据库存储起来，然后在选择它们后重新加入。还有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:24:26.577

卡马尔是对的。`getJoinedRooms()`如果您已连接并加入某些 MUC 实例，则仅返回房间列表。我还建议将 MUC JID 存储到数据库中（或仅存储在内存中）并在重新连接后重新加入房间。[我们在 GTalkSMS 上也这样做。](http://code.google.com/p/gtalksms/source/browse/src/com/googlecode/gtalksms/xmpp/XmppMuc.java#424)

# php - 如何将反斜杠替换为字符串中的单个反斜杠？

> ID：12276454
> 
> 赞同：0
> 
> 时间：2012-09-05T07:24:05.600
> 
> 标签：php

例如我有一个字符串

```
$str = "///a//b/c////d.html"; 
```

如何使其与有效网址更兼容？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:32:22.857

```
$str = preg_replace('/[\/]+/', '/', $str); 
```

[演示](http://ideone.com/koWN5)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:25:53.190

要将多个斜杠替换为一个，您可以使用正则表达式，如下所示：

```
$str = "///a//b/c////d.html";

function slug($str) {
    $str = strtolower(trim($str));
    $str = preg_replace('/[^a-z0-9-.]/', '-', $str);
    $str = preg_replace('/-+/', "/", $str);
    return $str;
}

echo slug($str); 
```

# nltk - 结合多个语料库训练标注器

> ID：12276458
> 
> 赞同：0
> 
> 时间：2012-09-05T07:24:38.477
> 
> 标签：nltk

是否可以结合多个语料库来训练标注器？例如，我想使用树库语料库，但我想将它与我的自定义语料库结合起来，因为我在树库中错过了诸如“php”（编程语言）之类的词。

如果我让我的问题更通用，那么如何使用所有可用（或一些）语料库训练通用标记器？

# sql - ORACLE SQL 获取从 2 个选择语句中检索到的两个值的差异

> ID：12276459
> 
> 赞同：7
> 
> 时间：2012-09-05T07:24:38.067
> 
> 标签：sql, oracle, select, oracle10g

我们有 2 个非常简单的 SELECT 语句：

```
SELECT value from table where date between DATE1 and DATE2
SELECT value from table where date between DATE3 and DATE4 
```

我们需要一种编写单个 SQL 语句的方法，该语句将获取从这两个 SQL 语句返回的“值”的差异。

我们尝试了以下方法，但没有成功：

```
SELECT value from table where date between DATE1 and DATE2
minus 
SELECT value from table where date between DATE3 and DATE4 
```

任何建议都受到高度赞赏。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-05T07:42:10.413

未经测试但应该可以工作：

```
SELECT
    (SELECT value from table where date between DATE1 and DATE2) - 
    (SELECT value from table where date between DATE3 and DATE4)
FROM dual; 
```

假设您`SELECT value`保证返回单个值

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:27:32.730

```
SELECT value FROM TBL WHERE date BETWEEN DATE1 and DATE2 
AND value NOT IN (SELECT value FROM TBL WHERE date BETWEEN DATE3 AND DATE4) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T22:27:37.420

如果您认为您的内部查询可以给出多个值，请在下面使用

```
SELECT
    (SELECT sum(value) from table where date between DATE1 and DATE2) - 
    (SELECT sum(value) from table where date between DATE3 and DATE4) as answer
FROM dual; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:48:24.733

请试试这个：

```
SET SERVEROUTPUT ON
DECLARE
V_FIRST NUMBER := 0;
V_SECOND NUMBER := 0;
BEGIN
  SELECT value into V_FIRST from table where rownum=1 and date between DATE1 and DATE2;
  SELECT value into V_SECOND from table where rownum=1 and date between DATE3 and DATE4;

  DBMS_OUTPUT.PUT_LINE (V_FIRST-V_SECOND); 
END; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-05T07:55:08.287

```
(
SELECT value from table where date between DATE1 and DATE2
 minus 
SELECT value from table where date between DATE3 and DATE4
)
union all
(
SELECT value from table where date between DATE3 and DATE4
 minus 
SELECT value from table where date between DATE1 and DATE2
) 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-05T09:44:25.073

以下陈述应适用于您的情况

```
(
SELECT value from table where date between DATE3 and DATE4
 minus 
SELECT value from table where date between DATE1 and DATE2
)
union
(
SELECT value from table where date between DATE1 and DATE2
 minus 
SELECT value from table where date between DATE3 and DATE4
) 
```

# google-drive-api - 谷歌文档API分页

> ID：12276462
> 
> 赞同：1
> 
> 时间：2012-09-05T07:24:50.833
> 
> 标签：google-drive-api, google-docs-api

我正在使用谷歌文档 API。我需要实现分页。

我像下面这样使用。

第一页：

```
qry.setMaxResults(10);
qry.setStartIndex(1); 
```

第二页：

```
qry.setMaxResults(10);
qry.setStartIndex(11); 
```

我在第二页也得到了同样的 10 个结果。

[这个](https://stackoverflow.com/questions/7335784/how-to-use-paging-for-retrieving-google-docs)问题有[这个](http://code.google.com/apis/documents/docs/3.0/developers_guide_java.html#pagingThroughResults)作为答案链接。

我无法在此链接中找到任何答案。谁能帮我？提前致谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T08:41:12.657

文档列表 API 使用“下一个”标记进行分页，而不是开始索引：

[https://developers.google.com/google-apps/documents-list/#getting_all_pages_of_documents_and_files](https://developers.google.com/google-apps/documents-list/#getting_all_pages_of_documents_and_files)

要检索文档的所有页面，请从头开始，然后按照链接`rel=next`获取更多页面。

max results 参数用于限制每页中的元素数量。

**请记住，您也可以（并且应该）使用更新的 Drive API 来执行相同的任务：**

[https://developers.google.com/drive/v2/reference/files/list](https://developers.google.com/drive/v2/reference/files/list)

# asp.net - 使用 WCF 上传较大文件时面临问题

> ID：12276469
> 
> 赞同：0
> 
> 时间：2012-09-05T07:25:03.893
> 
> 标签：asp.net, wcf, wcf-binding

我在上传更大尺寸的文件时遇到问题。我正在将 WCF 服务的 basicHttpBinding 用于请求/响应，它的形成方式如下，

int MAXSIZE = Int32.MaxValue;

```
 BasicHttpBinding binding = new BasicHttpBinding()
    {
        CloseTimeout = new TimeSpan(0, 1, 0),
        OpenTimeout = new TimeSpan(0, 1, 0),
        ReceiveTimeout = new TimeSpan(0, 10, 0),
        SendTimeout = new TimeSpan(0, 10, 0),
        AllowCookies = false,
        BypassProxyOnLocal = false,
        HostNameComparisonMode = HostNameComparisonMode.StrongWildcard,
        MaxBufferSize = MAXSIZE,
        MaxBufferPoolSize = MAXSIZE,
        MaxReceivedMessageSize = MAXSIZE,
        MessageEncoding = WSMessageEncoding.Text,
        TextEncoding = System.Text.Encoding.UTF8,
        TransferMode = System.ServiceModel.TransferMode.Buffered,
        UseDefaultWebProxy = true,

    };

    binding.ReaderQuotas = new System.Xml.XmlDictionaryReaderQuotas()
    {
        MaxDepth = 32,
        MaxStringContentLength = MAXSIZE,
        MaxArrayLength = MAXSIZE,
        MaxBytesPerRead = MAXSIZE,
        MaxNameTableCharCount =16384,
    }; 
```

根据网上的答案，它应该可以工作，但是它会引发异常。远程服务器返回意外响应：(400) 错误请求。

有没有人遇到过这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T06:55:54.810

找到了这个问题的答案。问题出在 WCF 服务的 web.config 文件中的服务名称上。我按原样使用名称空间路径。要解决此问题，请打开 svc 文件标记。复制服务名称并在 web.config 文件中使用它。

# symfony - Symfony 和 ISO-8859-1

> ID：12276470
> 
> 赞同：1
> 
> 时间：2012-09-05T07:25:08.860
> 
> 标签：symfony, character-encoding

由于向后兼容性问题，在这个应用程序中，我需要 Symfony 生成的响应来使用 ISO-8859-1 而不是 UTF-8。

问题是，Symfony 添加了一个标头，`Symfony\Component\HttpFoundation\Response::prepare()`告诉用户内容是当时`$this->charset`包含的任何编码，对我来说，这始终是 UTF-8，不管我将 config.yml 更改为

```
framework:
    charset:         ISO-8859-1
... 
```

这不就是这个设定的目的吗？如果不是，这个设置有什么用？如何指示 Symfony 添加 ISO-8859-1 标头而不是 UTF-8？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T15:35:36.230

至少在 Symfony 2.1 中，您必须向 AppKernel 添加一个 getCharset 方法，如下所示：

```
/**
 * Get the framework charset
 *
 * @return string The charset
 */
public function getCharset()
{
    return 'ISO-8859-1';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-18T12:38:28.630

请改用拉丁语 1。这对我有用。

# .net - 如何检查 .Net 生产服务器的内存？

> ID：12276472
> 
> 赞同：1
> 
> 时间：2012-09-05T07:25:29.960
> 
> 标签：.net, multithreading, debugging, stack-trace

我有一个基于 .Net 的网站，其中一个功能在生产服务器上陷入僵局。我无法重现开发中的问题。但是我有一个迹象可以很容易地检测到是否发生了死锁，那就是线程数开始从“正常”的 50 增加到 100 以上。

所以我想做的是在线程数超过 100 时以某种方式将信息转储到文件中。信息可能是堆栈跟踪、在线程上下文中运行的对象等。任何可能导致我找到源的东西问题。

我尝试添加简单的日志记录，但在生产中记录它的成本很高。

这有可能从正在运行的站点完成吗？该站点在带有 .Net 3.5 的 IIS 中运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T12:44:51.403

您还可以尝试Microsoft 的[ProcDump](http://technet.microsoft.com/en-us/sysinternals/dd996900.aspx)，它可以根据性能计数器的值（例如线程数）有条件地生成进程转储。这是文档给出的示例：

> 示例：当 Outlook 的句柄计数超过 10000 时，写入名为“outlook”的进程的转储：
> 
> C:>procdump outlook -p "\Process(Outlook)\Handle Count" 10000

在您的情况下，您将指定“线程计数”而不是“句柄计数”，您的值将是 100 而不是 10,000。

而且由于您运行的是 IIS，我认为进程名称是 w3wp 或类似名称（使用它而不是“Outlook”）。

此外，由于此进程正在运行托管代码，因此您还必须指定“-ma”开关以获得完整转储，这是您检查托管进程转储所需的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:13:27.113

如果在站点上安装了 Visual Studio 远程调试器，则可以在远程系统上远程检查软件的状态，同时它仍在运行。

# ajax - CJuiDatePicker 验证消息不起作用

> ID：12276473
> 
> 赞同：5
> 
> 时间：2012-09-05T07:25:36.370
> 
> 标签：ajax, jquery-ui, validation, yii

### 你好。

Yii 框架中的表单验证有问题。

这是我的**查看**代码：

```
 <?php
$form = $this->beginWidget('CActiveForm', array(
  'id' => 'search-form',
  'enableAjaxValidation' => true,
  'enableClientValidation' => true,
  'focus' => array($model, 'ccc'),
  'clientOptions' => array(
    'validateOnSubmit' => true,
  ),
    ));
?>

<?php
echo $form->errorSummary($model);
?>

<div class="row">
  <?php echo $form->labelEx($model, 'input'); ?>
  <?php echo $form->textField($model, 'input', array('class' => 'input-medium', 'maxlength' => 11,)); ?>
  <?php echo $form->error($model, 'input'); ?>
</div>

<div class="row">
  <?php echo $form->labelEx($model, 'date'); ?>
  <?php
  $this->widget('zii.widgets.jui.CJuiDatePicker', array(
    'attribute' => 'date',
    'name' => 'date',
    'model' => $model,
    'language' => 'ru',
    'options' => array(
      'dateFormat' => 'dd/mm/y',
      'showAnim' => 'slideDown',
      'changeMonth' => true,
      'changeYear' => true,
      'showOn' => 'button',
      'constrainInput' => 'true',
    ),
    'htmlOptions' => array(
      'style' => 'height:15px; width:6em'
    ),
  ));
  ?>
  <?php echo $form->error($model, 'date'); ?>
</div>
<?php $this->endWidget(); ?> 
```

**没什么**特别的。但验证消息**仅**适用于 textField（仅使用 onChange textField 发送 Ajax 请求）。

如何启用 CJuiDatePicker 验证消息？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T11:44:57.900

您只需为您的**CJuidatepicker**对象提供正确的 id，`CHtml::getIdByName`用于创建 id 值，尝试那里的 html 元素的名称，它必须类似于

```
'id' => CHtml::getIdByName(get_class($model) . '[' . $attribute . ']') 
```

它会变成这样：

```
 $this->widget('zii.widgets.jui.CJuiDatePicker', array(
    'id' => CHtml::getIdByName(get_class($model) . '[date]'),
    'attribute' => 'date',
    'name' => 'date',
    'model' => $model,
    'language' => 'ru',
    'options' => array(
       'dateFormat' => 'dd/mm/y',
       'showAnim' => 'slideDown',
       'changeMonth' => true,
       'changeYear' => true,
       'showOn' => 'button',
       'constrainInput' => 'true',
    ),
    'htmlOptions' => array(
      'style' => 'height:15px; width:6em'
    ),
  )); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T01:52:15.700

奇迹的回答“你应该包含一个值”对我不起作用......

这是有效的：

[Yii CActiveForm 日期验证](https://stackoverflow.com/questions/14391130/yii-cactiveform-date-validation)

views/site/login.php 最初有：

```
$form=$this->beginWidget('CActiveForm', array(
'id'=>'login-form',
'enableClientValidation'=>true,
'clientOptions'=>array(
    'validateOnSubmit'=>true,
), 
```

将其更改为：

```
$form=$this->beginWidget('CActiveForm', array(
'id'=>'login-form',
'enableAjaxValidation' => true,
'clientOptions' => array(
        'validateOnSubmit' => true,
        'validateOnChange' => true,
), 
```

见： [http ://sky-walker.net/temp/test/yii/testdate/index.php?r=site/login](http://sky-walker.net/temp/test/yii/testdate/index.php?r=site/login)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-06T10:30:20.143

**只需在CJuiDatePicker**`$form->error($model,'end_date')`之后添加即可解决此问题 。

 **```
$this->widget('zii.widgets.jui.CJuiDatePicker', array(
    'id' => CHtml::getIdByName(get_class($model) . '[date]'),
    'attribute' => 'date',
    'name' => 'date',
    'model' => $model,
    'language' => 'ru',
    'options' => array(
       'dateFormat' => 'dd/mm/y',
       'showAnim' => 'slideDown',
       'changeMonth' => true,
       'changeYear' => true,
       'showOn' => 'button',
       'constrainInput' => 'true',
    ),
    'htmlOptions' => array(
      'style' => 'height:15px; width:6em'
    ),
  ));
 echo $form->error($model,'dateTo');// added to enaple clint validation 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T18:41:50.233

这就是我所做的并且它有效，我认为你应该包括一个**`value`**

```
<?php echo $form->labelEx($model,'reportDate'); ?>
<?php $this->widget('zii.widgets.jui.CJuiDatePicker', 
    array( 'model'=>$model,
    'attribute'=>'reportDate',
    **'value'=>$model->reportDate,**
     'options'=>array(
     'showButtonPanel'=>true,
     'changeYear'=>true,
     'changeMonth'=>true,
      'autoSize'=>true,
     'dateFormat'=>'yy-mm-dd',
     'defaultDate'=>$model->reportDate,
     ),
    ));
    ?>
<?php echo $form->error($model,'reportDate'); ?> 
```**

# objective-c - 通过查找图像中的相似性来将图像拼接在一起？

> ID：12276481
> 
> 赞同：0
> 
> 时间：2012-09-05T07:26:03.260
> 
> 标签：objective-c, ios, xcode

我正在编写一个将 iOS 短信屏幕截图垂直拼接在一起的应用程序。我将图像裁剪为仅包含消息气泡，并且没有文本输入栏的导航栏（当然是第一个和最后一个屏幕截图），但我不知道如何检测在哪里排列图像。我需要检测对话中的重叠位置，然后在该点拼接图像。（我也知道如何将图像绘制到新的图像上下文中。）我正在寻找一个可以帮助我实现这一目标的开源框架以及关于如何完成这项任务的任何建议。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-24T13:19:53.580

你也可以试试下面的代码：

[https://github.com/foundry/OpenCVStitch](https://github.com/foundry/OpenCVStitch)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:38:17.430

虽然这对您的项目来说可能是多余的，但您可以看看[PanoTools](http://panotools.sourceforge.net/)：一个用于操作和拼接全景图像的开源软件库。它是便携式的（Win/Lin/Mac），如果您期待在您的计算机上进行拼接，那么像[Hugin](http://hugin.sourceforge.net/)这样的 GUI甚至可能已经适合您的用例（我只将它们用于拼接照片，所以请检查投影设置）。

# ruby - HAML 缩进问题

> ID：12276483
> 
> 赞同：0
> 
> 时间：2012-09-05T07:26:16.287
> 
> 标签：ruby, gem, haml

我正在尝试在 awestruct 项目中编辑 haml 文件。

每当我更新并运行时，我都会出现以下错误

```
--------------------
Page: /_layouts/base.html /_layouts/base.html.haml Layout
No changes detected
Dependencies Matrix: (non unique source path)
         Outgoing dependencies:
                 Content -> 0
                 Key     -> 0
         Incoming dependencies:
                 Content <- 12
                 Key     <- 0
-------------------- 
```

我正在修改的区域是

```
 %li
            %a{ :href=>"#{site.base_url}/" } Home
          %li
            %a{ :href=>"#{site.base_url}/news/" } Blog 
```

我只是想添加另一个 li 和一个元素...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:46:41.847

基本上是说内容没有修改，这里看不出有什么错误。只需保存更改，重新启动 Awestruct 并重试。

# ruby-on-rails - 如何在视图中使用 redirect_to :controller => "posts", :action => "index"？

> ID：12276487
> 
> 赞同：0
> 
> 时间：2012-09-05T07:26:17.900
> 
> 标签：ruby-on-rails

我是 Rails 新手，我用过

> redirect_to :controller => "posts", :action => "index"

在控制器中，现在我可以在我的视图中使用它。在视图中使用它时，它显示

> **主页中的 NoMethodError #index**
> 
> 显示 /Users/#####/RubyProjects/devise_example/app/views/home/index.html.erb 其中第 9 行提出：
> 
> 未定义的方法“redirect_to”

如何从主页索引中获取帖子索引？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:29:42.760

为什么要在视图中重定向？重定向必须在控制器中完成。

如果您想链接到帖子#index，请使用此链接`<%= link_to "Posts", posts_path %>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-08T23:02:11.990

有时，视图中的重定向确实有意义。如果你想这样做，你需要做的就是改变你的方法调用，`controller.redirect_to`因为该`redirect_to`方法只存在于控制器下。

例子：`<% controller.redirect_to posts_path %>`

* * *

来源：[https ://stackoverflow.com/a/30908769](https://stackoverflow.com/a/30908769)

# reporting-services - SSRS 报告语言

> ID：12276490
> 
> 赞同：3
> 
> 时间：2012-09-05T07:26:27.337
> 
> 标签：reporting-services, ssrs-2008

每当我添加报告（通过*添加新报告*上下文菜单）时，报告的语言默认为`en-US`. 然后我可以在属性中或通过底层 XML 更改此值。然而...

是否可以更改此字段的默认值？我希望它默认为`en-AU`.

是否可以忽略此值，以便报告使用执行它的服务器上的语言设置？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T00:30:38.607

这就是语言在 SSRS 中的工作方式：http: [//msdn.microsoft.com/en-us/library/ms156493.aspx](http://msdn.microsoft.com/en-us/library/ms156493.aspx)

有几个选择。您可以`=User!Language`在 ReportLanguage 属性中使用，但这将使用用户浏览器的语言，而不是服务器的语言。

另一个技巧是创建一个基本报告并将其用作模板。如果您将该模板的语言设置为您需要的语言，它将节省您每次都设置它的时间。如果您有一些您经常使用的标准报告功能，例如公司徽标和报告执行时间，我建议您无论如何都这样做。它也有助于在报告之间建立专业的一致性。

# ember.js - Ember.js 基于路由器的应用程序在页面刷新时未加载 ember-data 对象

> ID：12276491
> 
> 赞同：2
> 
> 时间：2012-09-05T07:26:37.963
> 
> 标签：ember.js, ember-data, ember-old-router

我正在关注基于[http://emberjs.com/guides/outlets/](http://emberjs.com/guides/outlets/)的基于路由器的应用程序结构。
我能够跟随并使其发挥作用。但是当页面显示帖子（例如/#/posts/2）时加载内容时出现问题，我怀疑这是因为未加载特定的帖子。

有什么出路？是不是应该开箱即用。

小提琴示例：http: [//jsfiddle.net/nachiket/h5Hkm/](http://jsfiddle.net/nachiket/h5Hkm/)

```
App = Ember.Application.create({});

//MODEL
App.Summary = DS.Model.extend({
  content: DS.attr('string')
});
App.Post = DS.Model.extend({
  title: DS.attr('string'),
  summary: DS.hasMany(App.Summary, {embedded: true})
});

App.Post.FIXTURES = [
  {id:1, title: 'My first post', summary: [{id:1, content: 'This is summary1'}]},
  {id:2, title: 'Another post' , summary: [{id:2, content: 'This is summary2'}]},
  {id:3, title: 'Yet another post' , summary: [{id:3, content: 'This is summary3'}]}
];

//STORE
App.store = DS.Store.create({
  revision: 4,
  adapter: DS.fixtureAdapter
});

//ROUTER
App.Router = Ember.Router.extend({
  root: Ember.Route.extend({
    index: Ember.Route.extend({
        route: '/',
        redirectsTo: 'posts'
    }),
    posts: Ember.Route.extend({
        route: '/posts',
        showPost: Ember.Route.transitionTo('post'),
        connectOutlets: function(router){
           router.get('applicationController').
               connectOutlet('posts',App.Post.find());
        }
    }),
    post: Ember.Route.extend({
        route: '/posts/:post_id',
        goBack: Ember.Route.transitionTo('posts'),
        connectOutlets: function(router, post) {
            router.get('applicationController').connectOutlet('post', post);
        }
    })
  })
});

//CONTROLLERS - VIEWS
App.ApplicationController = Ember.Controller.extend({});
App.ApplicationView = Ember.View.extend({
  templateName: 'application'
});

App.PostsController = Ember.ArrayController.extend({
});
App.PostsView = Ember.View.extend({
  templateName: 'posts'
});

App.PostController = Ember.ObjectController.extend({    
});
App.PostView = Ember.View.extend({
  templateName: 'post'
});

App.initialize(); 
```

直接输出： http: [//fiddle.jshell.net/nachiket/h5Hkm/show/light/](http://fiddle.jshell.net/nachiket/h5Hkm/show/light/)
作品： http: [//fiddle.jshell.net/nachiket/h5Hkm/show/light/#/posts](http://fiddle.jshell.net/nachiket/h5Hkm/show/light/#/posts)
不起作用：[http ://fiddle.jshell.net/nachiket/h5Hkm/show/light/#/posts/1](http://fiddle.jshell.net/nachiket/h5Hkm/show/light/#/posts/1)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T19:46:08.133

Ember 路由将字符串“1”而不是数字 1 传递给 find 方法来解析帖子。字符串“1”不匹配任何灯具。将您的固定装置（用于测试目的）更改为具有字符串 ID 应该可以工作。

[http://jsfiddle.net/h5Hkm/7/show/light/#/posts/1](http://jsfiddle.net/h5Hkm/7/show/light/#/posts/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T16:00:31.637

将反序列化器添加到您的“发布”路线应该可以解决问题。我建议阅读（至少是“序列化和反序列化状态”部分）[http://trek.github.com/](http://trek.github.com/)。

如果您无法正常工作，请告诉我，我会创建一个小提琴。

# php - yii : 控制器数组中的 CGridView 过滤器下拉列表

> ID：12276494
> 
> 赞同：0
> 
> 时间：2012-09-05T07:26:54.260
> 
> 标签：php, yii

问：如何从控制器数组中过滤 CGridview 过滤器下拉列表

我在我的控制器上创建了一个数组

```
$arr_method = array('Cash'=>'Cash', 'Cheque'=>'Cheque', 'Credit Card'=>'Credit Card', 'Bank Transf'=>'Bank Transf'); 
```

我在 Cgridview 调用上面的数组

```
array('name' => 'method',
               'value'=>'(isset($data->method)) ? CHtml::encode($data->method) :""',
               'filter'=>CHtml::dropDownList('method', '', $arr_method),
        ), 
```

下拉列表出现在过滤器中。但是当我选择某些东西时，过滤器会回到“现金”。结果显示为空白。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:56:43.447

我认为您不需要使用下拉列表功能，只需使用

```
'filter'=>$arr_method 
```

# wcf-rest - WCF REST - RESTful 框架

> ID：12276495
> 
> 赞同：0
> 
> 时间：2012-09-05T07:26:59.563
> 
> 标签：wcf-rest, restful-architecture

我在互联网书评中看到过：

***它根本不涵盖 REST，最多涵盖 WCF REST，这不是一个 RESTful 框架。***

*   这是什么意思？
*   ***WCF REST***和***RESTful 框架***有什么区别？

 *有人可以详细说明一下吗？

我还没有开始使用 WCF REST，但有计划很快开始。

在此先感谢您的帮助...*

# web-services - 如何批量使用IMEI号查看手机型号？

> ID：12276497
> 
> 赞同：2
> 
> 时间：2012-09-05T07:27:04.037
> 
> 标签：web-services, api, imei

我需要使用 IMEI 号码查找手机型号... 有一些网站在一天内提供一两个 IMEI 的信息，但我想要一些数据库或网络服务或 API，通过它们我可以知道使用 IMEI 的手机型号批量..我有大约 65000 个 IMEI 号码，我想知道其型号信息，并且必须将它们插入我的数据库中。提前感谢您的帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T17:31:58.607

您真正需要的是类型分配代码 (TAC) 参考。TAC 是 IMEI 号码的前八位数字，是设备的唯一标识。其他数字是序列号（以及版本和校验位信息）。

但是，没有公开的 TAC 代码数据库。随着新设备的注册和现有设备的新代码的发布，新的 TAC 代码几乎每天都会出现（例如，特别流行的设备有 100 多个 TAC 代码）。如果您隶属于无线运营商或制造商，您只能获得完整的列表。这些代码被认为是专有的。

# c# - 在 LINQ 中对 IEnumerable 进行排序

> ID：12276500
> 
> 赞同：0
> 
> 时间：2012-09-05T07:27:13.233
> 
> 标签：c#, linq, sorting, ienumerable

> **可能重复：**
> [在 LINQ 中对 IEnumerable 进行排序](https://stackoverflow.com/questions/12241619/sorting-an-ienumerable-in-linq)

是否可以通过不使用 .ToList() 对其进行排序？

请参阅下面的代码。

下面的代码将导致此输出。

```
 { id = 1, name = "sample 1", list = {'a','f','d'}},         
    { id = 5, name = "sample 1", list = {'a','f','c'}},
    { id = 2, name = "sample 1", list = {'g','b'}},
    { id = 4, name = "sample 1", list = {'i','e','h'}},
    { id = 6, name = "sample 1", list = {'d','b','c'}},
    { id = 3, name = "sample 1", list = {'h','i','c'}}, 
```

谢谢

RJ

```
IEnumerable<extra> eList = new List<extra>()
{
    new extra{ id = 1, text = "a"},
    new extra{ id = 2, text = "g"},
    new extra{ id = 3, text = "i"},
    new extra{ id = 4, text = "e"},
    new extra{ id = 5, text = "f"},
    new extra{ id = 6, text = "d"},
    new extra{ id = 7, text = "c"},
    new extra{ id = 8, text = "h"},
    new extra{ id = 9, text = "b"}
};

IEnumerable<sample> sam = new List<sample>()
{
    new sample{ id = 1, name = "sample 1", list = new List<int>{1,5,6}},
    new sample{ id = 2, name = "sample 2", list = new List<int>{2,9}},
    new sample{ id = 3, name = "sample 3", list = new List<int>{8,3,7}},
    new sample{ id = 4, name = "sample 4", list = new List<int>{3,4,8}},
    new sample{ id = 5, name = "sample 5", list = new List<int>{1,5,7}},
    new sample{ id = 6, name = "sample 6", list = new List<int>{6,9,7}}
};

var sorted = (from d1 in sam
              select new
              {
                  name = d1.name,
                  id = d1.id,
                  list =
                  (
                      from d2 in d1.list
                      join e in eList on d2 equals e.id
                      select e.text
                  ).OrderBy(item => item).ToList()
              }).OrderBy(item => item.list.FirstOrDefault()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:10:16.767

我刚刚测试了没有“ToList”的原始代码，它对项目和“附加”进行了很好的排序。你能详细说明你想要实现的目标吗？证明：

使用 ToList 的原始代码的结果：

```
1  "sample 1"  a d f  
5  "sample 5"  a c f  
2  "sample 2"  b g  
6  "sample 6"  b c d  
3  "sample 3"  c h i  
4  "sample 4"  e h i 
```

没有 ToList 的代码结果：

```
1  "sample 1"  a d f   <-- adf is sorted
5  "sample 5"  a c f   <-- also sorted
2  "sample 2"  b g     <-- and here too
6  "sample 6"  b c d   <-- yep
3  "sample 3"  c h i   <-- it is!
4  "sample 4"  e h i   <-- ...
               ^
               |
               \ aabbce is sorted, too 
```

看起来和我一模一样:)

至于一般的想法，在没有“ToList”的情况下，用 LINQ 语法编写的相同的小问题是 JOIN 将被懒惰地执行，每个项目一次，并且每次它都会从头开始构建映射/连接，而它是完全可缓存的并且可重复使用。下面，在扩展语法中，我只显式地预先创建了一次映射，然后所有其他没有任何具体化的惰性查询使用共享相同的映射。这样它可能会快几倍并且使用更少的内存：

```
var mapping = eList.ToDictionary(x => x.id, x=>x.text);

var temps = sam.Select(s =>
    new {
        id = s.id,
        name = s.name,
        stringlist = s.list.Select(id => mapping[id]).OrderBy(str => str)
    });

var result = temps.OrderBy(t => t.stringlist.FirstOrDefault()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:36:09.110

~~也许 ThenBy 会这样做？~~

 ~~```
var sorted = (from d1 in sam 
              select new 
              { 
                  name = d1.name, 
                  id = d1.id, 
                  list = 
                  ( 
                      from d2 in d1.list 
                      join e in eList on d2 equals e.id 
                      select e.text 
                  ).OrderBy(item => item 
              }).ThenBy(item => item.list.FirstOrDefault()); 
```~~  ~~我误解了这个问题。为什么不直接删除 ToList？您可能希望拥有 .ToList() 以防止每次访问集合时进行排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T08:37:46.310

尝试这个：

```
var sorted = (from d1 in sam
              select new
              {
                  name = d1.name,
                  id = d1.id,
                  list =
                  (
                      from d2 in d1.list
                      join e in eList on d2 equals e.id
                      select e.text
                  )
              }).OrderBy(item => item.list.OrderBy(i => i).FirstOrDefault()); 
```~~

# c - 内存中的虚拟文件

> ID：12276502
> 
> 赞同：0
> 
> 时间：2012-09-05T07:27:14.650
> 
> 标签：c, console, win32ole

我正在向现有程序（纯 c 控制台应用程序）添加加密功能。它需要很少的文件作为输入参数，我的任务是确保这些文件（敏感数据）的安全。

我现在要做的是首先加密文件（与外部应用程序进行简单的异或运算），然后在程序内部将它们解密，现有程序处理文件。然后，在一切成功后，我将这些文件加密回来（所有内容都存储在本地硬盘上）。

但是，安全性存在漏洞，因为所有“打开”的文件都存储在硬盘上。如果程序在中间某处失败，这些文件将不会被解密回来。

我的问题是现有程序将`FILE`变量作为输入并直接使用这些文件。这不是我的程序，所以我无权修改它。

我需要的是将文件写入内存而不是硬盘。我知道 Linux 中有一些库可以实现这一点，但我是在 win 中开发的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:58:59.810

`FILE`数据类型用于获取指向正在打开的文件的文件指针，因此您的变量`FILE *`已经在内存中。如果要将整个文件放在内存中，则必须分配一个与文件大小相同的缓冲区并读取内存中的整个文件。

在 Stackoverflow 上，您可以找到更多关于[fread](https://stackoverflow.com/questions/2307057/how-to-read-a-binary-file-in-c-video-images-or-text)、[fwrite](https://stackoverflow.com/questions/5308620/question-with-fread-and-fwrite-in-c)、[fseek](https://stackoverflow.com/questions/1179871/reading-part-of-a-file-in-c-using-fread-and-fseek)等的示例。

编辑：

如果您想操作内存中的文件，但使用现有`stdio.h`接口（fopen、fread、fwrite 等），则需要 ramdrive。[在这里](http://www.mydigitallife.info/free-ramdisk-for-windows-vista-xp-2000-and-2003-server/)，您可以找到一些免费的驱动程序来使其在 Windows 上运行。请记住，您必须将文件移到ramdrive*内*才能处理它们，并在完成后将它们移到ramdrive*外*，否则您的所有更改都将丢失。

# macos - 在 mac 提示“权限被拒绝”上运行脚本

> ID：12276507
> 
> 赞同：98
> 
> 时间：2012-09-05T07:27:20.390
> 
> 标签：macos, shell, terminal

我是 mac 新手，对终端命令不熟悉，我把`dvtcolorconvert.rb`文件放在我的卷的根目录下，这个 ruby​​ 脚本可以将 xcode 3 主题转换为 xcode 4 主题格式，即`xxxxxxxx.dvtcolortheme`格式。

然后在终端上运行脚本`/dvtcolorconvert.rb ~/Themes/ObsidianCode.xccolortheme`，但总是提示“*权限被拒绝*”。

这有什么问题？有人可以帮我解决这个问题吗？谢谢。

* * *

## 回答 #1

> 赞同：284
> 
> 时间：2012-09-05T07:31:09.423

您是否赋予自己执行脚本的权利？

作为超级用户的以下命令将为您执行此操作：

`sudo chmod 755 'filename'`

有关详细信息，您应该阅读 chmod 的手册页。

* * *

## 回答 #2

> 赞同：77
> 
> 时间：2012-09-05T07:34:53.710

请在尝试运行之前阅读整个答案`sudo`

尝试运行`sudo /dvtcolorconvert.rb ~/Themes/ObsidianCode.xccolortheme`

sudo 命令以“超级用户”或“根”权限执行其后的命令。这应该允许您从命令行执行几乎任何东西。也就是说，**不要这样做！**如果您在计算机上运行脚本并且不需要它来访问操作系统的核心组件（我猜您不需要，因为您是在主目录 (~/) 中的某个内容上调用脚本），那么它应该从你的主目录运行，即：

`~/dvtcolorconvert.rb ~/Themes/ObsidianCode.xccolortheme`

将其移动到 ~/ 或子目录并从那里执行。你不应该在那里遇到权限问题，也不会有访问或修改对你的操作系统至关重要的任何东西的风险。

如果您仍然遇到问题，您可以通过`ls -l`在与 ruby​​ 脚本相同的目录中运行来检查文件的权限。你会得到这样的东西：

```
$ ls -l  
total 13  
drwxr-xr-x    4 or019268 Administ    12288 Apr 10 18:14 TestWizard  
drwxr-xr-x    4 or019268 Administ     4096 Aug 27 12:41 Wizard.Controls  
drwxr-xr-x    5 or019268 Administ     8192 Sep  5 00:03 Wizard.UI  
-rw-r--r--    1 or019268 Administ     1375 Sep  5 00:03 readme.txt 
```

您会注意到 readme.txt 文件`-rw-r--r--`在左侧显示。这显示了该文件的权限。右边的 9 个字符可以分成 3 个字符为一组的 'rwx'（读、写、执行）。如果我想向这个文件添加执行权限，我会执行`chmod 755 readme.txt`并且权限部分将变为`rwxr-xr-x`. 我现在可以通过运行来执行这个文件`./readme.txt`（./ 告诉 bash 在当前目录中查找预期的命令，而不是搜索 $PATH 变量）。

[schluchc](https://stackoverflow.com/users/562283/schluchc)暗示查看 chmod 的手册页，通过运行`man chmod`. 这是获取给定命令文档的最佳方式，`man <command>`

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-02-02T20:37:12.317

就我而言，我在shebang中犯了一个愚蠢的错字。

因此，以防其他人用胖手指偶然发现这个问题：

哎呀：`#!/usr/local/bin ruby`

我的意思是写：`#!/usr/bin/env ruby`

ZSH 给我的模糊错误让我走错了路：

郑州：`zsh: permission denied: ./foo.rb`

重击：`bash: ./foo.rb: /usr/local/bin: bad interpreter: Permission denied`

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2019-04-02T14:03:59.200

在mac中以管理员模式运行

```
sudo su 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-09-05T07:30:30.653

您应该以“超级用户”身份运行脚本，只需在命令前添加“sudo”并在出现提示时输入密码。

所以试试：

```
sudo /dvtcolorconvert.rb ~/Themes/ObsidianCode.xccolortheme 
```

如果这不起作用，请尝试调整权限：

```
sudo chmod 755 /dvtcolorconvert.rb
sudo chmod 755 ~/Themes/ObsidianCode.xccolortheme 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2021-01-31T05:49:01.170

在文件名之前使用源，，

就像我想从终端运行的文件一样`./jay/bin/activate`

所以我用了命令`"source ./jay/bin/activate"`

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-09-05T07:30:29.833

检查 Ruby 脚本的权限（可能没有执行权限）、主题文件和目录（以防它无法读取主题或尝试在其中创建其他主题）*以及*运行时所在的目录脚本（以防它在当前目录中生成临时文件，而不是`/tmp`）。

其中任何一个都可能让你感到悲伤。

# objective-c - 面临在我的 Iphone 应用程序中使用 LinkedIn API 共享消息的问题

> ID：12276519
> 
> 赞同：-1
> 
> 时间：2012-09-05T07:27:50.420
> 
> 标签：objective-c, ios5, linkedin

我正在开发一个 iphone 应用程序，在该应用程序中，我使用 LinkedIn 集成来更新我的状态......但我无法更新我的状态......任何帮助将不胜感激。

提前致谢 Pandu1251

```
- (IBAction)postButton_TouchUp:(UIButton *)sender 
```

{
[statusTextView resignFirstResponder];

```
NSURL *url = [NSURL URLWithString:@"http://api.linkedin.com/v1/people/~/shares"];
OAMutableURLRequest *request = 
[[OAMutableURLRequest alloc] initWithURL:url
                                consumer:oAuthLoginView.consumer
                                   token:oAuthLoginView.accessToken
                                callback:NO
                       signatureProvider:nil];

NSDictionary *update = [[NSDictionary alloc] initWithObjectsAndKeys:
                        [[NSDictionary alloc] 
                         initWithObjectsAndKeys:
                         @"anyone",@"code",nil], @"visibility", 
                        statusTextView.text, @"comment", nil];
 NSLog(@"statusTextView.text is---%@",statusTextView.text);

[request setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
NSString *updateString = [update JSONString];

NSLog(@"updateString is---%@",updateString);
[request setHTTPMethod:@"POST"];
[request prepare];
[request setHTTPBodyWithString:updateString];

OADataFetcher *fetcher = [[OADataFetcher alloc] init];
[fetcher fetchDataWithRequest:request
delegate:self
didFinishSelector:@selector(postUpdateApiCallResult:didFinish:)
didFailSelector:@selector(postUpdateApiCallResult:didFail:)];    
[request release]; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:56:43.867

首先，您必须检查消费者和访问令牌等参数。

或者你可以在控制台中测试它

[https://apigee.com/console/linkedin](https://apigee.com/console/linkedin)

你见过这个： http: [//www.whitneyland.com/2011/03/iphone-oauth.html](http://www.whitneyland.com/2011/03/iphone-oauth.html)

或这个：

[https://github.com/ResultsDirect/LinkedIn-iPhone](https://github.com/ResultsDirect/LinkedIn-iPhone)

他们应该可以帮助您开始使用 iOS

# javascript - JQGrid 使用来自服务器的更新数据刷新数据编辑

> ID：12276525
> 
> 赞同：0
> 
> 时间：2012-09-05T07:28:03.297
> 
> 标签：javascript, json, jqgrid, refresh, edit

我有一个需要编辑的 Jqgrid。我已成功配置网格以在编辑后保存数据，但问题是当保存数据时，网格不会使用数据库中存在的数据进行刷新。例如，版本字段由应用程序后端自动更新，但是在编辑完成后它不会刷新，而是显示旧值。我试过 afterSubmit afterComplete

这没有用。我还在其中放置了一个警报，以验证该函数是否被调用，但警报也没有显示。此外，我将 loadonce 设置为 false 并将 reloadaftersubmit 设置为 true ，但这也不起作用。我认为问题可能是我没有正确配置编辑或将上述参数放置在不正确的位置。

保存完成（编辑）后，更新的数据（即整个页面）将返回到 Jqgrid（作为 json）。这里的问题是显示旧数据以及如何在编辑后显示更新的数据。

更新：我发现当我通过弹出框进行编辑时，会执行 afterSubmit。然而，编辑是通过允许编辑表格本身的数据的格式选项进行的。现在，当在不使用弹出窗口的情况下从网格本身编辑和保存数据时，我希望触发 afterSubmit 以刷新表格。我在哪里放置我的 afterSubmit / 我如何实现这一点。

```
/**
 * Initialize and Draw JQGrid
 * @return
 */
function drawFOMJQGrid(){

    var lastsel2;

    jQuery("#tblGrid").jqGrid({     

        height: 180, 
        width:990,
        datatype: "json", 
        colNames:['','Hotel','Outlet','Major Group','Item Group','Version'], 
        jsonReader : {
              root: "regDetails", 
              page: "page",
              total: "total",
              records: "records",   
              repeatitems: false
        },
        colModel:[ 
            {name: 'myac', width:80, fixed:true, sortable:false, resize:false, formatter:'actions', formatoptions:{keys:true}},
            {name:'hotelName',index:'hotelName',align:"left",width:30,resizable:false}, 
            {name:'majorGroupName',index:'majorGroupName',align:"left", width:20,resizable:false}, 
            {name:'itemGroupName',index:'itemGroupName', width:30,align:"left",resizable:false},
            {name:'version',index:'version', width:20,align:"right",resizable:false,editable:true,hidden: false}

        ],

        onSelectRow: function(id){
        },
        /*afterSubmit : function(response, postdata){
                        alert("AAAA");
        },  
        afterComplete : function(response, postdata){
                        alert("AAAA2");
        },  */              
        //rowList:[10,20,30], 
        rowNum:5,   
        pager: '#divGridPg', 
        sortname: 'hotelName', 
        viewrecords: true, 
        sortorder: "outletName",
        gridview: true, 
        bgiframe: true,
        autoOpen: false,
        caption: 'POS Item Pricing',
        forceFit: false,
        loadtext: 'Loading ...',
        sortable: true,
        loadonce: false,
        editurl:  "itemPricingSave.action", //"/js/itemPricing/server.js",          
        datatype: "json"

    }); 

    $("#tblGrid")[0].addJSONData(regGridJSONData);
    $("#tblGrid").setGridParam({datatype: 'json'});
    jQuery("#tblGrid").jqGrid('navGrid','#divGridPg',{edit:true,add:false,del:false,reloadAfterSubmit:true});       

}

/**
 * Initialize and Draw JQGrid
 * @return
 */
function drawFOMJQGrid(){

    var lastsel2;

    jQuery("#tblGrid").jqGrid({     

        height: 180, 
        width:990,
        datatype: "json", 
        colNames:['','Hotel','Outlet','Major Group','Item Group','Version'], 
        jsonReader : {
              root: "regDetails", 
              page: "page",
              total: "total",
              records: "records",   
              repeatitems: false
        },
        colModel:[ 
            {name: 'myac', width:80, fixed:true, sortable:false, resize:false, formatter:'actions', formatoptions:{keys:true}},
            {name:'hotelName',index:'hotelName',align:"left",width:30,resizable:false}, 
            {name:'majorGroupName',index:'majorGroupName',align:"left", width:20,resizable:false}, 
            {name:'itemGroupName',index:'itemGroupName', width:30,align:"left",resizable:false},
            {name:'version',index:'version', width:20,align:"right",resizable:false,editable:true,hidden: false}

        ],

        onSelectRow: function(id){
        },
        /*afterSubmit : function(response, postdata){
                        alert("AAAA");
        },  
        afterComplete : function(response, postdata){
                        alert("AAAA2");
        },  */              
        //rowList:[10,20,30], 
        rowNum:5,   
        pager: '#divGridPg', 
        sortname: 'hotelName', 
        viewrecords: true, 
        sortorder: "outletName",
        gridview: true, 
        bgiframe: true,
        autoOpen: false,
        caption: 'POS Item Pricing',
        forceFit: false,
        loadtext: 'Loading ...',
        sortable: true,
        loadonce: false,
        editurl:  "itemPricingSave.action", //"/js/itemPricing/server.js",          
        datatype: "json"

    }); 

    $("#tblGrid")[0].addJSONData(regGridJSONData);
    $("#tblGrid").setGridParam({datatype: 'json'});
    jQuery("#tblGrid").jqGrid('navGrid','#divGridPg',{edit:true,add:false,del:false,reloadAfterSubmit:true});       

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:33:43.773

我做了以下强制网格重新加载：

```
.navGrid('#pager',
                    {edit:true,
                    add: true, 
                    del:true,refresh:false},
              { // edit options

                    afterSubmit: function() {
                        comptes[0].clearToolbar();
                        comptes.jqGrid('setGridParam',{datatype:'json'}).trigger('reloadGrid');
                          return [true,'',false]; // no error and no new rowid
                         }
                }, 
                { // add options

                     afterSubmit: function() {
                            comptes[0].clearToolbar();
                            comptes.jqGrid('setGridParam',{datatype:'json'}).trigger('reloadGrid');
                        return [true,'']; // no error
                    }
                } ,
                { // delete options
                     afterSubmit: function() {
                            comptes[0].clearToolbar();
                            comptes.jqGrid('setGridParam',{datatype:'json'}).trigger('reloadGrid');
                        return [true,'']; // no error
                    }
                }       
               ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-12T17:38:15.420

在完成所有编辑过程后，尝试使用新数据重新加载 jqGrid，如下所示：

```
jQuery("#grid").jqGrid('setGridParam',{datatype:'json'}).trigger('reloadGrid'); 
```

# printing - CSS3PIE & HTML5shiv 打印问题 IE8

> ID：12276532
> 
> 赞同：0
> 
> 时间：2012-09-05T07:28:58.880
> 
> 标签：printing, internet-explorer-8, css3pie, html5shiv

我在为这个庞大的网站使用 CSS3PIE 和 HTML5shiv 时遇到问题。它归结为 IE8 中的打印问题。每当我想打印网页时，IE8 似乎就崩溃了。我做了一些研究，这个打印崩溃似乎与 CSS3PIE 和 HTML5shiv 的使用有关。

有什么办法可以在 IE8 中避免这个问题？提前致谢！

# c# - 检查 XML 中是否存在元素

> ID：12276533
> 
> 赞同：2
> 
> 时间：2012-09-05T07:28:59.997
> 
> 标签：c#, xml, linq-to-xml

XML:

```
<CONFIGURATION>
<Files>
    <File>D:\Test\TestFolder\TestFolder1\TestFile.txt</File>
    <File>D:\Test\TestFolder\TestFolder1\TestFile01.txt</File>
    <File>D:\Test\TestFolder\TestFolder1\TestFile02.txt</File>
    <File>D:\Test\TestFolder\TestFolder1\TestFile03.txt</File>
    <File>D:\Test\TestFolder\TestFolder1\TestFile04.txt</File>
</Files>
<SizeMB>3</SizeMB>
<BackupLocation>D:\Log backups\File backups</BackupLocation>
</CONFIGURATION> 
```

代码：

```
private void btnLinq_Click(object sender, EventArgs e)
    {
        queryData(@"D:\WatchMe1\backupconfig1.xml");
    }

static void queryData(string xmlFile)
    {
        var xdoc = XDocument.Load(xmlFile);
        var configuration = xdoc.Element("CONFIGURATION");
        string sizeMB = configuration.Element("SizeMB").Value;
        string backupLocation = configuration.Element("BackupLocation").Value;
        //need a code here to check if element <File> exist before executing the file array
        string[] files = configuration.Element("Files").Elements("File").Select(c => c.Value).ToArray();

        foreach (string file in files)
        {
            Console.WriteLine(file);
        }
    } 
```

我有一个编辑上述 xml 的 xml 编写器程序。Files 元素可以更改为 Folder 元素。我有另一个程序读取值（文件位置）并对其进行处理，我必须首先检查元素是文件还是文件夹元素。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-05T07:34:04.210

您可以使用类似的方法检查元素是否存在

```
if(configuration.Elements("...").Any()){...} 
```

但我不确定你到底在这里问什么......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:36:26.347

这可能是您想要做的：

```
if(configutation.Elements.First("Files") != null)
{
    string[] files = configuration.Element("Files").Elements("File").Select(c => c.Value).ToArray();
} 
```

希望这可以帮助！

# iphone - UIWebView 透明在 iOS < 5.0 中不起作用

> ID：12276534
> 
> 赞同：0
> 
> 时间：2012-09-05T07:29:01.603
> 
> 标签：iphone, objective-c, ios, xcode, uiwebview

在我的 xib 中，我有一个 UIWebView 控件，我需要将其背景设置为透明，以便我制作

1.  背景 = clearColor 和
2.  未选中的不透明复选框

它**在 iOS 5.0 及更高版本中运行良好，但在 iOS < 5.0 中出现背景白色**。如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:46:36.850

```
 - (void)makeBodyBackgoundTransparent {
        for (UIView *subview in [webView subviews]) {
            [subview setOpaque:NO];
            [subview setBackgroundColor:[UIColor clearColor]];
        }
        [webView setOpaque:NO];
        [webView setBackgroundColor:[UIColor clearColor]];
} 
```

将 webview 的背景设置为清除颜色，同时确保将 opaque 设置为 false。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-05T07:37:00.327

在 iOS < 5.0 中，您也必须直接在 html 代码中设置背景颜色。

将其包含在 Webview 的 HTML 代码中：

```
<body style="background-color: transparent;"> 
```

并设置 webview 的 background-color 和 opaque 值：

```
[self.webView setBackgroundColor:[UIColor clearColor]];
[self.webView setOpaque:NO]; 
```

# c# - 拒绝访问路径“C:\inetpub\logs\LogFiles\W3SVC1\”

> ID：12276537
> 
> 赞同：2
> 
> 时间：2012-09-05T07:29:25.083
> 
> 标签：c#, asp.net, iis-7, access-denied

我已经使用 LogParser 编写了 ac# 应用程序来读取 IIS 日志文件。应用程序在我的开发机器上运行良好，但在服务器上出现以下错误。

```
Access to the path 'C:\inetpub\logs\LogFiles\W3SVC1\' is denied 
```

我该如何纠正？

**编辑**

我尝试向 intpub 文件夹添加相关权限，但无法添加新用户（ISUSR、NETWORK SERVICES 或 ASPNET）

因为它不显示添加按钮只显示 Edit.plz 看图片

![在此处输入图像描述](../Images/7904a63de69d7af0fc0d9c953ba4dde9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:46:42.383

单击该`Edit`按钮并确认随后的 UAC 提示会弹出一个对话框，允许您添加或编辑用户和组及其权限。

# c# - 使用接口抽象实体是否会以某种方式破坏 where 子句的使用？

> ID：12276540
> 
> 赞同：1
> 
> 时间：2012-09-05T07:29:42.937
> 
> 标签：c#, entity-framework

所以我有一个名为 SportsWagon 的实体类型和一个由 SportsWagon 实现的接口 ICar。我还创建了一个类型函数，`IEnumerable<ICar> GetCars(Func<ICar, bool> filter)`它从 SportsWagons 中获取匹配的汽车并将它们作为可枚举的汽车返回。这个函数很简单，只调用`MyContext.SportsWagons.Where(filter).Where(someAdditionalLogicInSomeCases);`

我的问题是，使用 SQL Profiler，由此生成的查询似乎完全缺少 WHERE 子句。更糟糕的是，如果我有一个循环多次获取相同的汽车，它们似乎每次都会生成一个新查询。我首先使用的是 EF 4.3.1 数据库。那么 EF 只是无法翻译基于接口的 Func 以使用数据库创建正确的查询，还是我只是在做其他完全愚蠢的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:37:58.533

> 我还创建了一个函数... `filter`...
> ... `.Where(filter).`...

EF 无法将函数转换为 SQL。您必须提供一个 lambda。

为确保，请发布有关函数和查询如何组合在一起的相关代码。

# java - 如何使用 java fx - netbeans 中的源代码

> ID：12276542
> 
> 赞同：0
> 
> 时间：2012-09-05T07:29:44.400
> 
> 标签：java, javafx

我已经下载了 JavaFx 示例源代码并检查了“Ensemble”代码。我对处理这些动画很感兴趣，但是当我复制源代码并粘贴到 Netbeans 中时，出现以下错误。-JavaFX 部署库未找到。

我对Java不太熟悉，请问您能告诉我如何将代码集成到我自己的项目中吗？我认为我无法加载库。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T11:00:19.567

您不需要自己复制和粘贴源代码。在 Netbeans 中单击“*打开项目...* ”并导航到`<javafx_sample_dir>/src`Ensemble 将被检测为 Netbeans 项目的目录。如果您对特定组件或功能感兴趣，只需运行 Ensemble 应用程序并打开相关组件页面并单击“*保存 NetBeans 项目...* ”按钮即可在 Netbeans 中打开它。
如果您仍然面临该错误，请先尝试创建一个新的 javaFX 项目并在 Netbeans 中运行它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T13:37:42.757

也许您安装了较旧版本的 JavaFX，而 NetBeans 将其用作“默认 JavaFX 平台”（请参阅​​ NB-Menu 工具|Java 平台）？

最新的 Ensemble 正在使用 Canvas，旧版 JavaFX (<2.2) 不支持此功能。

在这种情况下，卸载所有旧版本并在此处获取带有集成 JavaFX 运行时的新 Java7 [http://www.oracle.com/technetwork/java/javafx/downloads/index.html](http://www.oracle.com/technetwork/java/javafx/downloads/index.html)

# android - android以编程方式定位TextViews

> ID：12276544
> 
> 赞同：0
> 
> 时间：2012-09-05T07:29:53.120
> 
> 标签：android, textview, android-linearlayout

如何将两个以编程方式创建的 TextViews 放置在 LinearLayout 中？我尝试了下面的代码，但是与“值”TextView 相比，“数字”TextView 被放置在更深的一行，因此 nlap LinearLayout 的高度发生了变化。我需要两个 TextView 处于相同的高度，“数字”TextView 应该在左侧垂直居中。任何帮助表示赞赏。

```
 LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(
            LinearLayout.LayoutParams.MATCH_PARENT,
            LinearLayout.LayoutParams.WRAP_CONTENT);
    layoutParams.setMargins(10, 1, 10, 1);

    LinearLayout nlap = new LinearLayout(this);
    nlap.setOrientation(LinearLayout.VERTICAL);
                nlap.setLayoutParams(layoutParams);

    TextView value = new TextView(this);
    value.setText("Test");
    value.setTextColor(Color.parseColor("#A60101"));
    value.setTextSize(23);
    value.setGravity(Gravity.CENTER);
    value.setTypeface(font);

    TextView number = new TextView(this);
    number.setTextColor(Color.parseColor("#FFFFFF"));
    number.setText("01");

    nlap.addView(value);
    nlap.addView(number); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:35:37.117

您应该使用`nlap.setOrientation(LinearLayout.HORIZONTAL);`来实现将 textViews 并排放置，如果您像使用 VERTICAL 一样使用，第二个将始终低于第一个。

# javascript - 控制器不会进入 for 循环：javascript

> ID：12276545
> 
> 赞同：-1
> 
> 时间：2012-09-05T07:29:54.980
> 
> 标签：javascript

我用这样的javascript写了一段代码，

```
 alert(attributes.length);
                        for(temp=0;temp<attributes.lenth;temp++){
                            attribute_list+="<option value='"+attributes[temp]+"'>"+attributes[temp]+"</option>";
                            if(temp==0)
                                alert(attributes[temp]);
                        }
                        attribute_list+="</select>";
                        alert(attribute_list); 
```

第一个警报显示长度为 58（即属性数组的长度）但控件未进入 for 循环

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:42:31.170

你为什么不检查它自己的循环？

```
alert(attributes.length);
for(temp=0;temp<attributes.lenth;temp++){

/* test the loop */
console.log(attributes.length);

} 
```

如果控制台日志显示与属性长度一样长，则其平均循环运行良好。所以你必须检查循环内的过程。

# java - 为机器登录用户以外的特定用户运行创建/删除 DB2 数据库命令

> ID：12276550
> 
> 赞同：3
> 
> 时间：2012-09-05T07:30:06.413
> 
> 标签：java, db2

```
db2 CREATE DATABASE XYZ

db2 DROP   DATABASE XYZ 
```

这些 db2 命令不支持在 db2cmd/db2clp 上为机器登录用户以外的特定用户执行时指定用户名/密码。因此导致异常

“SQL1092N 请求的命令或操作失败，因为用户标识无权执行请求的命令或操作。”

当通过选择“以不同用户身份运行”运行相同的命令时，它可以正常工作。

1.  但我需要从 Java 代码中使用相同的机制，但不知道如何。是否可以以不同的用户表单 Java 代码打开已安装的 db2 的 clp？
2.  是否可以在创建/删除命令中关联用户名/密码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T17:08:13.947

您可以从 CLP 首先`ATTACH`使用所需的任何用户 ID 访问实例，然后发出`CREATE DATABASE`命令。

如果实例在您的本地机器上运行，您只需像这样附加：

```
$ db2 attach to db2inst1 user db2inst1
Enter current password for db2inst1: 

   Instance Attachment Information

 Instance server        = DB2/LINUXX8664 9.7.5
 Authorization ID       = DB2INST1
 Local instance alias   = DB2INST1 
```

如果实例在远程服务器上运行，则附加到您在数据库目录中定义的“节点名称”：

```
$ db2 list db directory

 System Database Directory

 Number of entries in the directory = 1

Database 1 entry:

 Database alias                       = SAMPLE
 Database name                        = SAMPLE
 Node name                            = SRV01
 Database release level               = d.00
 Comment                              =
 Directory entry type                 = Remote
 Catalog database partition number    = -1
 Alternate server hostname            =
 Alternate server port number         = 
```

在此示例中，输出中显示的节点名称`list database directory`是`SRV01`，因此您可以使用： 附加 `db2 attach to srv01 user <username>`。

# c# - 我可以伪造 HttpContent.ReadAsAsync ?

> ID：12276551
> 
> 赞同：2
> 
> 时间：2012-09-05T07:30:08.067
> 
> 标签：c#, .net, visual-studio-2012, microsoft-fakes

[是否可以在Microsoft Fakes](http://msdn.microsoft.com/en-us/library/hh549175.aspx)的帮助下（在 Visual Studio 2012 中）创建一个实现[HttpContent.ReadAsAsync<T>的存根？](http://msdn.microsoft.com/en-us/library/hh944541%28v=vs.108%29.aspx)如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T23:05:02.993

`HttpContent.ReadAsAsync<T>`不能在 VS2012 中存根。原因是这不是一种`virtual`方法，而是一种扩展方法。只有`virtual`接口/类方法可以被存根。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-14T19:24:08.023

为了以后的搜索...

存根只能覆盖它们自己实例的方法。您可以存根任何公开可被覆盖的成员的类型，无论是抽象、接口还是类。

在这种情况下，您可以使用垫片：

```
ShimHttpContent.ReadAsAsyncOf1<TypeYouWant> = *something matching the method signature* 
```

这提供的额外优势是您现在可以指定每种类型的行为。这是使用垫片的最正当理由之一。

# javascript - 解码 Javascript

> ID：12276555
> 
> 赞同：1
> 
> 时间：2012-09-05T07:30:17.720
> 
> 标签：javascript, decode, compression

我的网络服务器上有一个应用程序，我很久以前就在其中编码/压缩了 javascript 代码。问题是我不再有原始源，所以我需要解码/解压缩我在我的网络服务器上得到的那个，但我忘记了我是从哪里做的。

希望有人能帮我解决这个问题。脚本： http: [//niekess.com/Youplayer/player/javascript.js](http://niekess.com/Youplayer/player/javascript.js)

提前致谢。;)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:32:58.737

对此类脚本使用[http://jsbeautifier.org/](http://jsbeautifier.org/)
这是您的脚本[http://pastebin.com/E1CvdXvp](http://pastebin.com/E1CvdXvp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:34:37.400

你的意思是：

```
var _0xbf6e=[.....
console.log( _0xbf6e.toSource() ); // you can see the code 
```

# java - 对 JDBC 有一些疑问的 Java 初学者

> ID：12276560
> 
> 赞同：0
> 
> 时间：2012-09-05T07:30:49.673
> 
> 标签：java, jdbc

**如何建立 JDBC 连接**以及**如何找到 localhost** 请解决我的问题并解释我的代码错误，解释我必须集中注意力以及**如何在 j swing 中打印数据库的字段**

```
package swingtesting;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;

/**
 *
 * @author Admin
 */
public class NewClass {
    public static void main(String[] args){
     Connection con=null;
        Statement st=null;
        ResultSet rs=null;
       try{
       Class.forName("com.microsoft.jdbc.sqlserver.SQLServerDriver");
       con=DriverManager.getConnection("jdbc:microsoft:sqlserver://localhost:3535;DatabaseName=swingmail;User=sa;Password=sa;");
       st=con.createStatement();
       String qry=" select * from empmail";
       rs=st.executeQuery(qry);
       System.out.println(rs.getString("empid"));
       System.out.println(rs.getString("empname"));
       System.out.println(rs.getString("desg"));
       System.out.println(rs.getString("basic"));
}
catch(Exception e)
{
  e.printStackTrace();
}

    }
}

java.lang.ClassNotFoundException: com.microsoft.jdbc.sqlserver.SQLServerDriver
        at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:276)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:169)
        at swingtesting.NewJSwing.main(NewJSwing.java:130)
Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
        at swingtesting.NewJSwing.initComponents(NewJSwing.java:39)
        at swingtesting.NewJSwing.<init>(NewJSwing.java:27)
        at swingtesting.NewJSwing$2.run(NewJSwing.java:122)
        at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)
        at java.awt.EventDispatchThread.run(EventDispatchThread.java:121) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:57:03.100

假设您要询问代码的描述。首先，您需要阅读一些内容

*   JDBC API
*   JDBC 驱动程序管理器
*   JDBC-ODBC 桥

现在，您的代码描述如下

*   `Class.forName("com.microsoft.jdbc.sqlserver.SQLServerDriver");`这将加载 Driver 类并返回其实例，这隐藏了套接字建立和调用本机代码等的所有复杂性。
*   `DriverManager.getConnection(url, username, password);`这将使用给定的 URL 和凭据建立与数据库的连接。每个驱动程序都指定了自己的标准来定义 URL，您可以在他们的文档中找到它们。
*   `st=con.createStatement();`建立连接后，您可以在单个连接上执行多个语句（查询）。您需要为要针对数据库触发的每个查询调用此语句。
*   `rs=st.executeQuery(qry);`最后执行查询并接受您的查询结果，它们将被包装成`ResultSet`遵循迭代器模式。

获得结果集后，它将包含查询结果的所有行。您需要遍历它以获取所有行，示例如下

```
while( rs.next() ) { 
   String empId = rs.getString("empid");
   System.out.println( empId);
   //other fields
} 
```

你可以在谷歌上找到很多信息和帮助。通过它们一次。

**更新**（OP 编辑​​后）异常清楚地表明在 classapth 上找不到驱动程序类。将 sqlserver 的 jdbc jar 添加到类路径中。

# php - 测试一个数组是否是另一个数组的子集

> ID：12276565
> 
> 赞同：20
> 
> 时间：2012-09-05T07:31:49.267
> 
> 标签：php, arrays, set

如何确定一个数组是否是另一个数组的子集（第一个中的所有元素都存在于第二个中）？

```
 $s1 = "string1>string2>string3>string4>string5>string6>";
 $arr1 = explode(">", $s1);
 $s2 = "string1>string4>string5";
 $arr2 = explode(">", $s2);

 $isSubset = /* ??? */ 
```

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2012-09-05T07:36:18.703

```
if (array_intersect($array1, $array2) == $array1) {
    // $array1 is a subset of $array2
} 
```

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2012-09-05T07:39:03.863

简单：使用数组减法。

在数组减法中，您将知道一个数组是否是另一个数组的子集。

例子：

```
if (!array_diff($array1, $array2)) {
    // $array1 is a subset of $array2
} 
```

参考：[array_diff](http://php.net/manual/en/function.array-diff.php)

你也可以使用`array_intersect`。

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2012-09-05T07:50:53.573

如果你从字符串开始，你可以检查`strstr($fullString,$subsetStr);`. 但这只有在所有字符都具有相同顺序时才有效：`'abcd','cd'`会起作用，但`'abcd','ad'`不会。

但是，与其编写自己的自定义函数，您应该知道 PHP 有*大量*的数组函数，因此几乎不可能没有 std 函数可以完成您需要它做的事情。在这种情况下，我建议`array_diff`：

```
$srcString = explode('>','string1>string2>string3>string4>string5');
$subset = explode('>','string3>string2>string5');
$isSubset = array_diff($subset,$srcString);
//if (empty($isSubset)) --> cf comments: somewhat safer branch:
if (!$isSubset)
{
    echo 'Subset';
    return true;
}
else
{
    echo 'Nope, substrings: '.implode(', ',$isSubset).' Didn\'t match';
    return false;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:34:36.707

我将创建一个较大数组的关联数组，然后遍历较小的数组，寻找非冲突，如果找到，则返回 false。

```
function isSubset($arr1,$arr2){
    $map = Array();
    for ($i=0;$i<count($arr1);$i++){
      $map[$arr[$i]]=true;
    }
    for ($i=0;$i<count($arr2);$i++){
       if (!isset($map[$arr2[$i]])){
          return false;
       }
    }
    return true; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-05T08:48:42.907

```
$s1 = "1>2>3>4>5>6>7";

$arr1 = explode(">",$s1);

$s2 = "1>2>3";

$arr2 = explode(">",$s2); 

if(isSub($arr1,$arr2)){

         echo 'true';

}else{

         echo 'false';
}

function isSub($a1,$a2){

    $num2 = count($a2);
    $sub  = $num2;

    for($i = 0;$i < $num2 ;$i++){
        if(in_array($a2[$i],$a1)){
            $sub--;
        }
    }
    return ($sub==0)? true:false;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-02-11T14:22:42.147

如果数组是精确子集，则返回 true 的简单函数，否则返回 false。解决方案也适用于二维数组。

```
 function is_array_subset($superArr, $subArr) {
        foreach ($subArr as $key => $value) {
            //check if keys not set in super array OR values are unequal in both array.
            if (!isset($superArr[$key]) || $superArr[$key] != $value) {
                return false;
            }
        }
        return true;
    } 
```

# c++ - windows 注册表读取

> ID：12276569
> 
> 赞同：0
> 
> 时间：2012-09-05T07:31:58.503
> 
> 标签：c++, windows, registry

使用此代码段：

```
TCHAR buf[255] = {0};
DWORD dwBufSize = sizeof(buf);
HKEY hKey = 0;
DWORD dwType = REG_DWORD;

if ( RegOpenKeyEx( HKEY_CURRENT_USER, TEXT("Software\\Developer\\KGReader"), 0, KEY_QUERY_VALUE, &hKey) == ERROR_SUCCESS)
{
    if( RegQueryValueEx( HKEY_CURRENT_USER, TEXT("Software\\Developer\\KGReader\\ComPort"), 0, &dwType, (LPBYTE)buf, &dwBufSize ) == ERROR_SUCCESS )
    {
        nrPort = _wtoi(buf);

    }

    if( RegQueryValueEx( HKEY_CURRENT_USER, TEXT("Software\\Developer\\KGReader\\KGID"), 0, &dwType, (LPBYTE)buf, &dwBufSize ) == ERROR_SUCCESS )
    {
        nrCentrala = _wtoi(buf);
    }

} 
```

1.  没有值传递给`hKey`using`RegOpenKeyEx`方法。
2.  虽然`RegOpenKeyEx`返回 ERROR_SUCCES，但`RegQueryValueEx`返回 2 (ERROR_FILE_NOT_FOUND)。`KGID`确实存在，`ComPort`我自己添加了它们，我仔细检查了路径。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:34:39.907

`hKey`将从`RegOpenKeyEx()`调用中获得的值传递给[`RegQueryValueEx()`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724911%28v=vs.85%29.aspx)函数，而不是`HKEY_CURRENT_USER`. to的第二个参数`RegQueryValueEx()`是值的名称，而不是路径。

例如：

```
if( RegQueryValueEx(hKey,
                    TEXT("ComPort"),
                    0,
                    &dwType,
                    (LPBYTE)buf,
                    &dwBufSize ) == ERROR_SUCCESS ) 
```

`buf`记得在第二次`dwBufSize`调用之前重置`RegQueryValueEx`：

```
memset(buf, 0, sizeof(buf));
dwBufSize = sizeof(buf); 
```

`RegOpenKeyEx()`出于错误报告的目的，您应该保存and函数的返回值，`RegQueryValueEx()`以便知道失败的原因。

发布的代码可能不完整，但[`RegCloseKey(hKey)`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724837%28v=vs.85%29.aspx)如果调用`RegOpenKeyEx()`成功，则会调用确保。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:36:53.647

的第一个参数`RegQueryValueEx`应该是`HKEY`打开的`RegOpenKeyEx`。此外，第二个参数应该只是一个值名称，而不是完整路径：

```
if( RegQueryValueEx( hKey, TEXT("ComPort"), 0, &dwType,
                     (LPBYTE)buf, &dwBufSize ) == ERROR_SUCCESS ) 
```

# jquery - 如何通过 jQuery/javascript 在 ASP.NET 中继器中选择下拉控件？

> ID：12276574
> 
> 赞同：0
> 
> 时间：2012-09-05T07:32:21.217
> 
> 标签：jquery, asp.net

我有一个带有下拉列表（值为 1, 2, 3 ）和一个文本框的 ASP.NET 中继器控件。因此，在每个带有下拉列表和文本框的 ItemTemplate 中生成/创建了多个代码实例。

我正在尝试在 jQuery/javascript 中创建一个函数，每当下拉列表中的值被选择为 1 时，文本框都应该被禁用。现在这个下拉列表可以是任何人说的第一、第三或第五......并且相应的文本框应该被禁用。

任何人都可以指导我能够为中继器中的每一行进行这项工作吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:50:24.063

如果您的中继器呈现为表格。那你可以试试。

```
$("select").change(function(){
    var _this = $(this); 
    var parentRow = _this.closest('tr');
    if(_this.val() == "1"){
        parentRow.find("input[type=text]").prop("disabled", true);
    }else {
        parentRow.find("input[type=text]").prop("disabled", false);
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:45:24.053

尝试这个

```
$('.dropdown').change(function()
{
   //include condition to determine "if dropdown is selected to be 1"

   var $row = $(this).parents('tr:first'); //find the row in which this dropdown is
   if($(this).val() == 1)
   {

     $row.find('.textbox:first').attr('disabled','disabled');​​​​​​ //assuming you put a class on your textbox
     //$row.find('.textbox:first').attr('disabled','true');​​​​​​
     //$row.find('.textbox:first').prop('disabled','true');​​​​​​
   }
   else
       $row.find('.textbox:first').attr('enabled','true'); //assuming you put a class on your textbox
}); 
```

# sql - 计算每小时插入表中的行数

> ID：12276581
> 
> 赞同：1
> 
> 时间：2012-09-05T07:32:44.177
> 
> 标签：sql

我遇到了每隔一小时获取记录数的问题。

我的表结构是

```
CREATE TABLE `statistics` (
    `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
    `uuid` VARCHAR(100) NULL DEFAULT NULL,
    `type_id` VARCHAR(50) NULL DEFAULT NULL,
    `in_time` TIMESTAMP NULL DEFAULT NULL,
    `out_time` TIMESTAMP NULL DEFAULT NULL,
    `error_id` INT(10) UNSIGNED ZEROFILL NULL DEFAULT NULL,
    `status` TINYINT(4) UNSIGNED NULL DEFAULT NULL,
    `last_updated` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
)
ENGINE=MyISAM
AUTO_INCREMENT=1594; 
```

我尝试了这样的查询：

```
SELECT FLOOR( TIME_TO_SEC( TIMEDIFF( NOW(), last_updated)) / 3600 ) HOURS,COUNT(*),error_id FROM statistics WHERE last_updated > DATE_SUB(NOW(), INTERVAL 24 HOUR) GROUP BY HOUR(last_updated) and error_id != 0 ORDER BY last_updated DESC; 
```

输出是这样的

```
+-------+----------+
| HOURS | COUNT(*) |
+-------+----------+
|     1 |      205 | 
|     2 |       70 | 
|     3 |       14 | 
|     4 |       10 | 
|     5 |       16 | 
|     7 |       29 | 
|     8 |      412 | 
|     9 |       65 | 
|    10 |       79 | 
|    11 |      149 | 
|    12 |      317 | 
|    13 |      306 | 
|    14 |      356 | 
|    15 |      597 | 
|    16 |      433 | 
|    17 |      186 | 
|    18 |      527 | 
|    19 |      349 | 
|    20 |      397 | 
|    21 |      480 | 
|    22 |      460 | 
|    23 |      526 | 
|    23 |      411 | 
+-------+----------+ 
```

但这是不正确的。因为相同的小时数（23）是不同的计数。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:04:52.057

您需要按您正在计算的相同事物进行分组 - 即：`FLOOR( TIME_TO_SEC( TIMEDIFF( NOW(), last_updated)) / 3600 )`

目前，您正在计算一件事，但按另一件事分组。

# android - 在运行时更改图表的方向

> ID：12276585
> 
> 赞同：1
> 
> 时间：2012-09-05T07:33:25.340
> 
> 标签：android, achartengine

我有一个想克服的问题。我正在使用 achartengine 在 android 应用程序上绘制条形图。第一次，我可以使用“rederer.setOrientation(Orientation.VERTICAL)”设置图表的方向，它工作正常。但是当我们旋转设备时我想要它，图表会改变它的方向，所以图表中的条形将分别改变如下：

1.  当设备处于“横向”状态时，图表将变为“横向”
2.  当设备处于“纵向”状态时，图表将变为“垂直”

谁能告诉我该怎么做？感谢您的任何评论。

谢谢

克拉克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:07:34.270

您应该在您的`onConfigurationChange(newConfig)`方法中覆盖您的方法，`Activity`并且在检测到更改时，只需按照您提到的方式更改条形图方向。您可能需要调用`repaint()`图表视图。

阅读[此](http://developer.android.com/guide/topics/resources/runtime-changes.html)内容以获取有关处理方向更改的更多信息。

# php - 检查 DynamoDB 中是否存在表的最佳方法是什么？

> ID：12276588
> 
> 赞同：12
> 
> 时间：2012-09-05T07:33:33.430
> 
> 标签：php, amazon-web-services, nosql, amazon-dynamodb

检查 DynamoDb 中是否存在表的最佳方法是什么？

如果代码在 PHP 中，我将不胜感激。

不管是活跃的还是不活跃的。

***稍后作为错误代码 400 的各种情况的示例添加

检查表是否存在非常容易，它可以具有以下 TableStatus => CREATING、ACTIVE、DELETING 或 UPDATING 之一

但如果我收到错误 400，它可能意味着不止一件事。

1) 错误地将空字符串作为表名发送。

[x-aws-body] => {"TableName":""} )

```
[body] => CFSimpleXML Object
    (
        [__type] => com.amazon.coral.validate#ValidationException
        [message] => The paramater 'tableName' must be at least 3 characters long and at most 255 characters long
    )

[status] => 400 
```

2) 发送到 DynamoDB 的命令中存在语法错误，例如写入 table_name 而不是 table_name。

[x-aws-body] => {"TabelName":"test7"} )

```
[body] => CFSimpleXML Object
    (
        [__type] => com.amazon.coral.validate#ValidationException
        [message] => The paramater 'tableName' is required but was not present in the request
    )

[status] => 400 
```

3) 如果我同时超过了桌子上的预置容量，我会猜测但没有检查。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-05T13:33:59.670

你可以看看官方 PHP SDK 的“ **describe_table** ”。**400**表示“**不存在**” 官方文档中有一个相当广泛的示例。看看它在“删除”示例中是如何使用的，就在底部。

[http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/LowLevelPHPTableOperationsExample.html](http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/LowLevelPHPTableOperationsExample.html)

这是文档中的（剥离的）示例

```
<?php
require_once dirname(__FILE__) . '/sdk/sdk.class.php';

$dynamodb = new AmazonDynamoDB();
$table_name = 'ExampleTable';
$response = $dynamodb->describe_table(array('TableName' => $table_name));

if((integer) $response->status !== 400)
{
    $error_type = $response->body->__type;
    $error_code = explode('#', $error_type)[1];
    if($error_code == 'ResourceNotFoundException')
    {
        echo "Table ".$table_name." exists.";
    }
}
?> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-12-07T13:17:50.137

其中一些答案使用的是较旧的 SDK，所以我想我会用我编写的代码更新这个有用的问题并且效果很好。较新的例外确实使这项任务更容易。此函数为您提供了一个在脚本中使用的不错的布尔值。

```
use Aws\DynamoDb\Exception\ResourceNotFoundException; // <-- make sure this line is at the top

    public function TableExists($tableName) {

    $ddb = DynamoDbClient::factory(array('region' => 'us-east-1')); // EC2 role security

    try {
        $result = $ddb->describeTable(array(
            "TableName" => $tableName
        ));
    } catch (ResourceNotFoundException $e) {
        // if this exception is thrown, the table doesn't exist
        return false;
    }

    // no exception thrown? table exists!
    return true;
} 
```

希望这个*完整*的工作代码对你们中的一些人有所帮助。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-01-22T18:24:05.550

我认为解决这个问题的答案`describeTable`是一个很好的答案，但是与状态代码响应混为一谈会使代码的可读性降低并且更加混乱。

我选择使用`listTables`. 这是**[文档](http://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.DynamoDb.DynamoDbClient.html#_listTables)**

```
$tableName = 'my_table';

$client = DynamoDbClient::factory(array('region' => 'us-west-2'));

$response = $client->listTables();

if (!in_array($tableName, $response['TableNames'])) {
    // handle non-existence.
    // throw an error if you want or whatever
}

// handle existence
echo "Table " . $tableName . " exists"; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-07T03:18:47.263

使用 DynamoDB，您需要解析错误消息的内容，以便了解收到的错误类型，因为状态代码几乎总是 400。下面是一个示例函数，可用于确定表是否存在。如果您想检查它是否存在*以及*它是否处于某种状态，它还允许您指定状态。

```
<?php

function doesTableExist(AmazonDynamoDB $ddb, $tableName, $desiredStatus = null)
{
    $response = $ddb->describe_table(array('TableName' => $tableName));

    if ($response->isOK()) {
        if ($desiredStatus) {
            $status = $response->body->Table->TableStatus->to_string();
            return ($status === $desiredStatus);
        } else {
            return true;
        }
    } elseif ($response->status === 400) {
        $error = explode('#', $response->body->__type->to_string());
        $error = end($error);
        if ($error === 'ResourceNotFoundException') {
            return false;
        }
    }

    throw new DynamoDB_Exception('Error performing the DescribeTable operation.');
} 
```

**更新**：在适用于 PHP 2 的 AWS 开发工具包中， DynamoDB 客户端[会引发特定异常](https://github.com/aws/aws-sdk-php/tree/master/src/Aws/DynamoDb/Exception)，从而使这种方式更易于处理。此外，还有一个“Waiter”对象，[包括一个用于此用例的](https://github.com/aws/aws-sdk-php/blob/master/src/Aws/DynamoDb/Waiter/TableExists.php)对象（[请参阅单元测试中的用法](https://github.com/aws/aws-sdk-php/blob/master/tests/Aws/Tests/DynamoDb/Waiter/TableExistsTest.php#L31)），旨在休眠直到表存在。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-07-17T03:00:36.050

如果您只想知道该表是否存在，上述答案是正确的。我想在这里提出另一个有用的观点，以防万一。

在多线程或生产级代码中应该非常小心。

假设一个线程删除了该表，**那么您仍然会得到该表存在**的答案，以回答来自第二个线程的查询，直到该表被完全删除。在这种情况下，一旦表被删除，第二个线程中的表句柄就会变成僵尸，就像 C++ 中的悬空指针错误一样。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-03-24T22:25:24.113

使用 dynamodb cli，您可以非常简单地执行以下操作：

```
aws dynamodb describe-table --table-name "my-table" 
```

如果表存在，则返回

```
0 -- Command was successful. There were no errors thrown by either the CLI or by the service the request was made to. 
```

如果表不存在，则返回

```
255 -- Command failed. There were errors thrown by either the CLI or by the service the request was made to. 
```

也可以看看：

*   [http://docs.aws.amazon.com/cli/latest/reference/dynamodb/describe-table.html](http://docs.aws.amazon.com/cli/latest/reference/dynamodb/describe-table.html)
*   [http://docs.aws.amazon.com/cli/latest/topic/return-codes.html](http://docs.aws.amazon.com/cli/latest/topic/return-codes.html)

# umbraco - 对象引用未设置为 umbraco 4.8.1 中的对象实例

> ID：12276590
> 
> 赞同：1
> 
> 时间：2012-09-05T07:33:46.737
> 
> 标签：umbraco

由于性能问题，我在线程中添加了发布代码。

我的代码是：

```
public void functionname()
{
----------------
------------
    try
     {
         HttpontextforMailSending gethttpcontextforpublish2 = new HttpontextforMailSending()
             {
                 HttpContextReference = HttpContext.Current,
                 courseDocument = shortCourseDocument,
                 createdUser = new User(0)
             };

         Thread t2 = new Thread(PublishDocument);
         t2.Start(gethttpcontextforpublish2);
      }
      catch { }
-------------
-----------
}

private void PublishDocument(object input)
{
     HttpontextforMailSending httpcontextformail = (HttpontextforMailSending)input;
     Document course = httpcontextformail.courseDocument;
     User createduser = httpcontextformail.createdUser;

     if (course != null && createduser != null)
     {
         course.Publish(createduser);
         umbraco.library.UpdateDocumentCache(course.Id);
     }
}

public class HttpontextforMailSending
{
    public HttpContext HttpContextReference { get; set; }       
    public Document courseDocument { get; set; }
    public User createdUser { get; set; }
} 
```

但我明白了`Object reference not set to an instance of an object" error on "course.Publish(createduser);`

Umbraco 版本是 4.8.1。

可能是这个错误是由于`course.HttpContext`. 它具有`null`价值。

但是，当我将其设置为`course.HttpContext = httpcontextformail.HttpContextReference;`显示警告时

“ `umbraco.cms.businesslogic.web.document.HttpContext is obsolete. Do not use this. Get`http上下文`via regular ASP.Net methods instead`。

当我调试这段代码时，我开始`HttpContext`了`httpcontextformail.HttpContextReference`.

但执行后 `course.HttpContext = httpcontextformail.HttpContextReference;`，`course.HttpContext`仍然有空值。

请帮我

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T16:10:42.120

Umbraco 期望在 Web 请求中使用，因此如果在另一个应用程序等中的 Web 请求之外调用，API 将无法工作。

如果您想在外部使用 Umbraco API 执行某些操作，那么您将需要使用[Umbraco Base](http://our.umbraco.org/wiki/reference/umbraco-base)（或类似的），以便 API 具有所需的 HttpContext。

Umbraco Base 是一个类似 REST 的系统，允许通过 Umbraco 上下文中定义的 URL 执行查询或代码。

# .net - 如何使用 Windows 服务运行 EXE

> ID：12276591
> 
> 赞同：0
> 
> 时间：2012-09-05T07:33:47.067
> 
> 标签：.net, vb.net, windows-services, scheduled-tasks

我已经设计了一个 exe，现在我想使用 windows 服务启动这个 EXE。它的主要目的是每 30 分钟检查一次 EXE 是否正在运行或不使用该 Windows 服务。如果未运行，则 Windows 服务将从安装位置启动该 EXE。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:49:34.150

编写一个程序来检查另一个 exe 是否正在运行。

```
Process.GetProcessesByName("target.exe").Length > 0 
```

使用 Windows 计划任务，设置每隔 30 分钟启动检查程序的时间间隔。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T08:33:44.147

使用 VB.NET 创建 Windows 服务很容易`File>New Project>Visual Basic>Windows>Windows Service`（但是我认为 VB.NET *Express*中没有创建 Windows 服务项目的选项）

查看[此链接](http://msmvps.com/blogs/joacim/archive/2009/09/13/creating-a-windows-service-using-vb-net.aspx)和[此链接](http://msdn.microsoft.com/en-us/library/zt39148a%28v=vs.100%29.aspx)以获取有关如何执行此操作的分步说明。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T08:46:06.290

您可以使用 Windows 中的任务计划程序解决此问题，而无需创建 Windows 服务。

转到任务计划程序->任务计划程序库->创建任务

在“触发器”选项卡上，创建一个新的计划触发器，并将“每隔...重复一次任务”设置为 30 分钟。

在“设置”选项卡上，确保选中“不启动新实例”。

# css - 单选按钮宽度

> ID：12276592
> 
> 赞同：1
> 
> 时间：2012-09-05T07:33:51.340
> 
> 标签：css, layout, jquery-mobile

我需要更改分组单选按钮的宽度，但我做不到。我尝试添加`style=width:...px`，但它不起作用。

我正在使用 jQuery Mobile 和 Cordova。

我该如何解决？

## HTML

```
<div data-role="fieldcontain" data-inline="true">
    <fieldset data-role="controlgroup" data-inline="true">
        <legend>Question1:</legend>
        <input type="radio" name="radio-choice" id="radio-choice-1" value="choice-1"/>
        <label for="radio-choice-1">OK</label>
        <input type="radio" name="radio-choice" id="radio-choice-2" value="choice-2"/>
        <label for="radio-choice-2">KO</label>
        <input type="radio" name="radio-choice" id="radio-choice-3" value="choice-3"/>
        <label for="radio-choice-3">N.A.</label>
        <input type="text" name="name" id="basic" value=""/>
    </fieldset>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:33:40.497

尝试将`width`样式应用于`<label>`元素：

```
<div data-role="fieldcontain" data-inline="true">
    <fieldset data-role="controlgroup" data-inline="true">
        <legend>Question1:</legend>
        <input type="radio" name="radio-choice" id="radio-choice-1" value="choice-1"/>
        <label for="radio-choice-1" style="width: 100px;">OK</label>
        <input type="radio" name="radio-choice" id="radio-choice-2" value="choice-2"/>
        <label for="radio-choice-2" style="width: 100px;">KO</label>
        <input type="radio" name="radio-choice" id="radio-choice-3" value="choice-3"/>
        <label for="radio-choice-3" style="width: 100px;">N.A.</label>
        <input type="text" name="name" id="basic" value=""/>
    </fieldset>
</div> 
```

[你可以在这个 fiddle](http://jsfiddle.net/8ncYz/)中看到结果。

请注意，如果您希望所有标签具有相同的宽度，创建一个 CSS 规则将该宽度分配给一个类，然后将该类添加到您的标签将减少代码重复。

# php - 将表中的第一个值插入另一个表Mysql PHP

> ID：12276595
> 
> 赞同：0
> 
> 时间：2012-09-05T07:34:20.533
> 
> 标签：php, mysql

我有一个包含 x 列和列 ID 的表。我正在尝试从 x 列中获取第一个值并将其插入到表 b 中的 y 列中。

这是我所做的，但它不起作用：

```
$val=mysql_query("SELECT x FROM table_a WHERE id=MIN(id)");
$sql=mysql_query("INSERT INTO table_b (y) VALUES('$val')"); 
```

此外，当我从表 a 列 x 中删除一个值时，我必须使用表 a 中的先前值更新表 b 列 y 中的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:37:13.850

尝试[`SELECT INTO`](http://dev.mysql.com/doc/refman/5.0/en/ansi-diff-select-into-table.html)：

```
INSERT INTO table_b (y)
     SELECT MIN(table_a.id)
       FROM table_a 
```

在 PHP 中：

```
$sql=mysql_query('INSERT INTO table_b (y) SELECT MIN(table_a.id) FROM table_a'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:36:38.297

使用`ORDER BY id ASC LIMIT 1`而不是代替`MIN`：

```
$val=mysql_query("SELECT x FROM table_a ORDER BY id ASC LIMIT 1");
$sql=mysql_query("INSERT INTO table_b (y) VALUES('$val')"); 
```

或使用单个查询：

```
$sql=mysql_query("INSERT INTO table_b (y) 
                 (SELECT x FROM table_a ORDER BY id ASC LIMIT 1)"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:41:04.827

试试这种方式

```
$val=mysql_query("SELECT x FROM table_a WHERE id=MIN(id)");
$val_res = mysql_fetch_assoc($val);
$sql=mysql_query("INSERT INTO table_b (y) VALUES('".$val_res['x']."')"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T07:40:04.853

您所做的是将数据从一个表复制到另一个表。无需先获取日期再插入。

使用[INSERT .. SELECT](http://dev.mysql.com/doc/refman/5.0/en/insert-select.html)语法。

# java - Hibernate继承实现问题

> ID：12276598
> 
> 赞同：0
> 
> 时间：2012-09-05T07:34:30.097
> 
> 标签：java, hibernate, hibernate-mapping, nhibernate-inheritance

我想写一个hbm文件。

我的班级层次结构是

```
BaseClassOne{
private long id;
...getters and setters....
}

ClassA extends BaseClassOne{
other private members;
...getters and setters....
}

classB extends BaseClassOne{
other private members;
...getters and setters....
} 
```

现在，

我正在写另一个类说 ClassMain 它将根据某些条件具有 ClassA 或 classB 的对象类型（例如 ClassMain 中的列类型）

在我的模型课上我写过

```
..other private members ....

private BaseClassOne objectAtRuntime;

...getters setters..... 
```

现在，请在 hbm 文件中告诉我如何实现这个......？？？

或告诉我实现相同的其他替代方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T12:07:37.833

这就是`<any>`映射的用途。[有关如何在 xml 中映射它的博文，请参见此处](http://ayende.com/blog/3966/nhibernate-mapping-any)。尽管它是为 NHibernate 编写的，但它应该与 hibernate 相同

# linux - 从现有的 Visual Studio 项目创建 qt makefile

> ID：12276599
> 
> 赞同：1
> 
> 时间：2012-09-05T07:34:30.840
> 
> 标签：linux, visual-studio, qt, makefile, qmake

我有一个简单的视觉工作室项目。我想在linux上为它创建一个makefile。该项目有3个文件（main.cpp，啊，a.cp​​p）我写了一个.pro文件：

```
######################################################################
# Automatically generated by qmake (2.01a) ???�? 4\. ??? 15:22:14 2012
######################################################################

TARGET = YetAnotherQtApp
CONFIG += qt
HEADERS += a.h
SOURCES += main.cpp a.cpp 
```

我在shell中运行：

```
>>qmake -o Makefile YetAnotherQtApp.pro 
```

效果很好。它为我创建了一个 Makefile，但是当我在 shell 中运行“make”时，它根本无法编译。它基本上给出了项目中每一件事的错误（包括、变量等）

我在这里做错了什么？

提前致谢..

# google-sheets - 谷歌表格总和只过滤

> ID：12276603
> 
> 赞同：0
> 
> 时间：2012-09-05T07:34:39.037
> 
> 标签：google-sheets, google-sheets-formula

我刚开始熟悉 excel 和 google 文档，我有一些以前的经验，但显然不足以理解为什么这个功能在世界上不起作用

```
=(SUBTOTAL(9,Augusti!E:E))/(SUBTOTAL(2,Augusti!E:E)) 
```

我得到的只是错误，Augusti 是对同一文档中另一个页面的引用，9 代表总和，2 代表计数，如果我错了，请纠正我，E:E 包含一个标题行，其余的只是整数从 1 到 5。

非常感谢所有帮助。

问候

附言

当我们在这里时，是否可以代替输入 Augusti 然后 september 等（每个月的新页面）从它左侧的列中获取名称，然后在上面的公式中使用并对其进行正确评估

**已解决 - 答案：**`,`使用分号 代替逗号`;`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T10:15:50.870

**已解决 - 答案：**`,`使用分号代替逗号`;`

最终结果是这样的

```
=SUBTOTAL(101;INDIRECT(A2&"!D:D")) 
```

它适用于常规 excel 在谷歌文档表中仍然存在一些问题

# asp.net-mvc-3 - 如何在 MVC3 中显示数组

> ID：12276613
> 
> 赞同：2
> 
> 时间：2012-09-05T07:35:15.710
> 
> 标签：asp.net-mvc-3

大家好，我正在尝试在我的视图中显示我的数组的值，但是我的 foreach 循环有问题，因为我的视图中没有输出你能帮我吗？

```
@model icerik.TahakkukServices.MakbuzList
@using icerik.TahakkukServices

@{
    ViewBag.Title = "Deneme";
    Layout = "~/Views/Shared/_Layout5.cshtml";
}

@{
    TahakkukServicesClient client = new TahakkukServicesClient();
    client.ClientCredentials.UserName.UserName = "service_test";
    client.ClientCredentials.UserName.Password = "...";
    client.ClientCredentials.ServiceCertificate.Authentication.CertificateValidationMode = System.ServiceModel.Security.X509CertificateValidationMode.None;
    MakbuzList[] liste = client.GetMakbuzListe(2);

}

 @foreach (var item in liste)
 {
     Html.Display(item.Adi);

                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:47:48.350

您需要`@`在您之前放置一个`Html.Display`以使生成的 html 写入输出：

此外，如果您需要显示强类型属性值，请改用该`DisplayFor`方法：

```
@foreach (var item in liste)
{
     @Html.DisplayFor(m => item.Adi)
} 
```

这是有关剃刀语法的[快速参考。](http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:00:27.470

不要害怕使用 html 标记。您可以根据需要显示它。例如像表

```
<table>
@foreach (var item in liste)
{
     <tr>
          <td>
                @item.Adi
          </td>
     </tr>
}
</table> 
```

或列出

```
<ul>
@foreach (var item in liste)
{
     <li>
          @item.Adi
     </li>

}
</ul> 
```

# php - 在 php 文件中使用 JQuery 来读取和解析 HTML XML

> ID：12276617
> 
> 赞同：-4
> 
> 时间：2012-09-05T07:35:38.673
> 
> 标签：php, jquery, html

我需要读取和解析 php 代码中的 HTML 文件（在服务器端）。据我所知，为选择节点和节点的子节点读取 html 的最简单方法是使用 jQueries。我可以在 php 代码 jQueries 中包含打开 HTML 文件、读取它并返回到 php 代码数组对象吗？谢谢 ：-）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:39:19.053

您不能使用 javascript (jQuery) 服务器端，因为它是客户端，基于浏览器。

阅读和解析 HTML 最简单的方法是[DOMDocument](http://uk.php.net/DOMDOcument)，例如：

```
$html = new DOMDocument(); 
$html->loadHTMLFile('http://www.example.org'); 
$links = array(); 
foreach($html->getElementsByTagName('a') as $link) { 
    $links[] = array('url' => $link->getAttribute('href'), 'text' => $link->nodeValue); 
} 
var_export($links); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:39:37.227

据我所知，jQuery 是 JavaScript 库，在浏览器环境中运行。因此，除非您在服务器端安装了 Node.js 之类的东西，否则很难或不可能做到这一点。

# sql - where 子句中的大量参数

> ID：12276618
> 
> 赞同：2
> 
> 时间：2012-09-05T07:35:39.547
> 
> 标签：sql, sql-server

我有一些用 c#、mvc 和 mssql 编写的 Web 应用程序。
有一些表格可供用户选择某些产品。
表格中有两个网格。一个网格显示用户可以选择用于未来处理的产品。其他网格显示已选择的产品。这个工作是这样的：
1\. 用户通过复选框从第一个网格中选择产品
2\. 然后他单击按钮“添加”
3\. 在此之后，网格被刷新。第二个网格显示添加的产品，第一个网格显示没有来自第二个网格的产品的所有产品。

目前数据库中有大约 50.000 种产品。当用户选择要添加的产品过多时，问题在于网格刷新。第一个网格的 Sql 看起来像：

```
SELECT ProductId, Name, Description, {other columns} 
FROM Products 
WHERE ProductId NOT IN ({ list of selected ProductId to add }) 
```

如果 { list of selected ProductId to add } 有很多元素（即 10.000），则 sql 语句执行时间过长，甚至超时。

我被困住了，不知道如何解决这个问题。任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:03:59.270

您可以将产品过滤器存储在另一个表中。该表可以是临时的，或者，如果您想记住选择，您可以在永久表中对其进行索引。

所以你的陈述看起来像

```
SELECT
              ProductId
            , Name
            , Description
            ...
    FROM 
            Products 
    WHERE
            ProductId NOT IN 
            (
               SELECT Id FROM #ProductFilter
            ) 
```

或者，

```
SELECT
              ProductId
            , Name
            , Description
            ...
    FROM 
            Products 
    WHERE
            ProductId NOT IN 
            (
               SELECT 
                             ProductId 
                   FROM 
                           ProductFilter
                   WHERE
                           FilterId = @filterId
            ) 
```

临时表的创建方式，或者过滤器的插入`ProductFilter`方式将根据过滤器传递给查询的方式而有所不同。

* * *

如果您使用的是 SQL Server 2008+，则可以使用[表值参数](http://msdn.microsoft.com/en-us/library/bb675163.aspx)。显然，查询看起来像这样。

```
SELECT
              ProductId
            , Name
            , Description
            ...
    FROM 
            Products 
    WHERE
            ProductId NOT IN 
            (
               SELECT Id FROM @ProductFilter
            ) 
```

* * *

如果您的问题是关于性能调优的，那么我需要更多关于您的 Schema、数据库的代表性实例以及一些时间来调整和测试一些想法的信息。

但是，像这样通过大量排除过滤器的想法似乎很错误，我无法相信用户正在手动将这些产品逐一排除。即使是这种情况，我认为，包含过滤器会导致使用对集合的内部连接进行更简单的查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:08:05.697

如果我理解正确，主要问题似乎是您没有将所选产品的列表存储在数据库中的任何位置。如果是，您可以执行类似这样的查询。

```
select product_id
from products
where product_id not in (select product_id from customer_selected_products); 
```

现在，这不会像许多查询那样执行，因为您将从产品中返回数万行。（您将返回所有尚未选择的产品 ID 号。）但它在这里以合理的速度执行（21 毫秒，在 customer_selected_products 中有 10,000 行。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T08:19:48.570

您声明用户可以按名称或该名称的一部分过滤掉产品。有你的锚。用户不太可能排除 10 000 个不同的产品名称，但更有可能排除 10 000 个具有特定属性（例如名称中的品牌）的产品。

您可以使用更通用的标准，而不是发送产品 ID。这将导致如下查询：

```
select * 
from products
where p.name NOT LIKE 'brand1%'
and p.name NOT LIKE 'specific product' 
```

请注意，为了获得更好的性能，明智的做法是将这些标准存储在第二个表中。现在您可以构建一个查询，例如：

```
select p.*
from products p
join criteria c
on p.name NOT LIKE c.name 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T08:24:09.273

我建议您将 TVP（表值参数）发送回服务器。之后，您的查询可以像这样完成：

```
SELECT p.ProductId, Name, Description, {other columns} 
FROM Products p
left join @ExceptedProducts ep on p.ProductId=ep.ProductId
WHERE where ep.ProductId is null 
```

这应该是最快和最干净的方式。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-05T17:59:54.370

感谢您的想法和建议。

我目前的解决方案是从 db 中获取所有产品（如果需要，过滤）并直接在 c# 代码中排除选定的产品（而不是在 sql 语句中）。

我做了一些测试，它在我的场景中工作得很好。即我可以在 2 秒以下的时间内将 100.000 个产品添加到第二个网格。我还考虑缓存 sql 结果。它可以提供更好的性能。

如果您知道此解决方案的任何缺点，请现在告诉我。

# c - 带 c 的插座和叉子

> ID：12276619
> 
> 赞同：2
> 
> 时间：2012-09-05T07:35:44.793
> 
> 标签：c, sockets, fork

这是我的 fork-server 代码：

```
 signal (SIGINT, ( void *)sig_handler);
while(1){
    memset(&cli_addr, 0, sizeof(cli_addr));

    if((newsockd = accept(sockd, (struct sockaddr *) &cli_addr, (socklen_t *) &socket_len)) < 0){
        perror("Errore nella connessione\n");
        onexit(newsockd, sockd, 0, 2);
    }
    fprintf(stdout, "Ricevuta richiesta di connessione dall' indirizzo %s\n", inet_ntoa(cli_addr.sin_addr));

    child_pid = fork();
    if(child_pid < 0){
        perror("Fork error");
        onexit(newsockd, sockd, 0, 2);
    }
    if(child_pid == 0){
        do_child(newsockd);
    }
    else{
        attended_pid = waitpid(child_pid, NULL, 0);
        if(attended_pid != child_pid){
            printf("Child error");
        }
    }
} 
```

我的问题是：我必须在执行客户端之前关闭主 sock (sockd) 吗？
我认为没有，但是：

*   我添加了一个“sigint 控制器”，如果我在服务器上按 CTRL-C（带有注释 sockd -> `//close(sockd);`），sigint 将在 2 个并发连接的情况下执行 3 次（为什么？？）
*   如果我有此代码`close(sockd)`，则 sigint 将仅执行 1 次，但我得到了一条`:bad file descriptor`指令`accept`。

那么，我该怎么办？
谢谢！

PS：我的签名代码：

```
void sig_handler(const int signo, const int sockd, const int newsockd){
  if (signo == SIGINT){
    printf("Ricevuto SIGINT, esco...\n");
    if(newsockd) close(newsockd);
    if(sockd) close(sockd);
    exit(EXIT_SUCCESS);
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:43:10.240

从[`fork(2)`](http://linux.die.net/man/2/fork)手册页：

> 子继承父的一组打开文件描述符的副本。子文件中的每个文件描述符与父文件中的相应文件描述符引用相同的打开文件描述（请参阅 open(2)）。这意味着两个描述符共享打开文件状态标志、当前文件偏移量和信号驱动的 I/O 属性（参见 fcntl(2) 中对 F_SETOWN 和 F_SETSIG 的描述）。

这告诉我你不应该*关闭*子进程中的监听套接字。您也不应该在父进程中关闭已接受的套接字，而应在子进程完成后将其关闭。

# python - 将字符串和数字读入数组

> ID：12276620
> 
> 赞同：1
> 
> 时间：2012-09-05T07:36:02.167
> 
> 标签：python, arrays, string

谢谢大家，这真的很有帮助。正如你们所指出的，我的主要问题是我有 4 个空格而不是一个制表符！

我有一个格式的文本文件：

```
string001    124.342
string002    235.111
string003    552.145 
```

底部有一个空行。

我只想将它读入一个数组。我认为最好的方法是从 numpy 加载txt，但是当这不起作用时，我选择了 genfromtxt，但也无法让它正常工作。这是我最近的努力：

```
y = np.genfromtxt('1400list.txt',delimiter="\t", dtype=[('mystring','S10'),('myint','i8')])

print y 
```

但我得到了错误：

```
rows = np.array(data, dtype=[('', _) for _ in dtype_flat])
ValueError: size of tuple must match number of fields. 
```

谁能帮我解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T16:41:03.373

您的代码在 Python 2.7 和 numpy 1.5.1 中运行良好（尽管我想您想使用 float dtype 而不是整数 1）：

```
#!/usr/bin/env python
import numpy

y = numpy.genfromtxt('1400list.txt', delimiter='\t',dtype=[('A', 'S10'),
('B', 'i8')])
print y 
```

输出是：

```
vicent@deckard:/tmp$ python prova.py 
[('string001', 124L) ('string002', 235L) ('string003', 552L)]
vicent@deckard:/tmp$ 
```

请确保您在数据文件中使用制表符而不是空格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T19:16:37.863

确保您有正确的分隔符，也就是说，您的不同列实际上是由制表符而不是硬空格分隔的。

作为替代方案，如果您的初始文件具有某些固定格式，您也可以使用整数元组作为分隔符。在你的情况下，那将使用

```
np.genfromtxt("text.txt", delimiter=(14,7), dtype=[('mystring','S10'),('myint','float')]) 
```

（请注意，我更正了您的`dtype`，使用 a`float`作为第二个元素）。该[文档](http://docs.scipy.org/doc/numpy/user/basics.io.genfromtxt.html)将为您提供更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T08:01:22.693

这应该有效：

```
f = open("text.txt")
items = []
for line in f.readlines():
    arr = line.split("    ")
    if len(arr) == 2:
        items.append((arr[0], float(arr[1])))
f.close() 
```

请注意，数字是浮点数，而不是整数。另请注意，最后一行没有条目，因此`if len(arr) == 2`.

# resharper - 当按下回车键时，如何让 Resharper 将 Intellisense 列表框上突出显示的文本插入到编辑器？

> ID：12276630
> 
> 赞同：4
> 
> 时间：2012-09-05T07:36:28.827
> 
> 标签：resharper

当我键入某些函数或变量时，Resharper 会在我的光标下方建议一个可能的名称列表 (Intellisense)。它会在建议的列表框中突出显示它认为最接近我输入内容的文本。这很好。

但是，当列表中突出显示的元素正确时，我按下回车键，它会转到下一行。我认为如果将建议列表上突出显示的文本插入到我的类型光标在编辑器上的位置会更直观。要将 Intellisense 列表框中的文本输入到编辑器中，我必须按键盘上的向上/向下箭头将焦点放在 Intellisense 列表框上，然后按 Enter。这是相当麻烦的。在 Eclipse 中，当我按下回车键时，文本被插入到编辑器中。

如何设置 Resharper 或 Visual Studio 2012（此问题属于哪个错误）以将其 Intellisense 列表中突出显示的文本插入到编辑器，而不是下一行。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T14:00:38.513

我不知道我是否正确，但似乎你得到了所谓的“软”完成，ReSharper 试图不弄乱你的打字。如果是这样，那么您可以使用`Tab`完成完成而不是`Enter`. 或者您可以转到`ReSharper | Options -> Environment | Intellisense | Autopopup`，找到您的案例并将值从 更改`Display and do not preselect`为`Display and preselect`。

如果这不是您的情况，请指定 ReSharper 版本和代码示例，我们将对其进行调查。

# c# - 计算类的实例

> ID：12276641
> 
> 赞同：16
> 
> 时间：2012-09-05T07:37:23.943
> 
> 标签：c#, .net, class, object

> **可能重复：**
> [我如何找出在 C# 中为一个类创建了多少个对象](https://stackoverflow.com/questions/2392075/how-can-i-find-out-how-many-objects-are-created-of-a-class-in-c-sharp)

是否可以获得所选类的活动（已创建但尚未销毁）的实例数？

例如：

```
public class MyClass { }

...

var c1 = new MyClass();
var c2 = new MyClass();

count = GetActiveInstances(typeof(MyClass)) 
```

应该返回 2。如果 GC 销毁这些类中的任何一个，则返回 1 或 0。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-09-05T07:40:21.243

您可以在程序中保存全局静态计数器。
这是一个简单的线程安全解决方案：

```
class MyClass
{
    static int counter = 0;

    public MyClass()
    {
        Interlocked.Increment(ref counter);
    }

    ~MyClass()
    {
        Interlocked.Decrement(ref counter);
    }
} 
```

也看看下面类似的问题 - [Count number of objects of class type within class method](https://stackoverflow.com/questions/1168746/c-sharp-count-number-of-objects-of-class-type-within-class-method)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-05T07:46:45.573

这 ：

```
public class MyClass
{
    private static int instances = 0;

    public MyClass()
    {
        instances++;
    }

    ~MyClass()
    {
        instances--;
    }

    public static int GetActiveInstances()
    {
        return instances;
    }

} 
```

采用 ：

```
 MyClass c1 = new MyClass();
     MyClass c2 = new MyClass();

     int count = MyClass.GetActiveInstances(); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-05T07:39:47.633

仅当您在构造函数（增量）和终结器（减量）中实现计数机制时。但即使这样也不能解释那些真正不活跃的实例（没有人对它们有任何参考）但还没有被收集到。

此外，向类添加终结器（无论多么微不足道）[都会对性能产生不利影响](http://msdn.microsoft.com/en-us/library/ms973837.aspx#dotnetgcbasics_topic5)，这是反对这样做的论据。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-05T07:42:41.380

试试这个：

```
public class MyClass
{
    public static int activeCount = 0;

    public MyClass() => activeCount++;
    ~MyClass() => activeCount--;
}

//In the main
var testClass1 = new MyClass();
var testClass2 = new MyClass();

Console.WriteLine(MyClass.activeCount); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-05T07:40:32.053

```
public class MyClass
{
    private static int count;
    private static object _lock = new object();

    public MyClass()
    {
         lock(_lock)
         {
             count++;
         }
     }

    private ~MyClass()
    {
        lock(_lock)
        {
             count--;
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-05T07:44:13.743

```
 public class MyClass
    {
public  static int countinstance  =0;
MyClass(){ countinstance  ++;}
 ~ MyClass() {countinstance  --; }
    } 
```

通过countinstance简单轻松地激活实例

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-05T07:40:42.670

我不知道内置机制，但你总是可以在构造函数中增加一个私有静态变量。

```
public class MyClass
{
    private static int instances = 0;

    public MyClass() => instances++;
    ~MyClass() => instances--;
} 
```

没试过，但应该可以。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-05T07:43:10.437

这样的事情是不可能的，但你可以做类似的事情

**注意：** `ClassInstance`也可以是 int 值以保持计数。

```
public class MyType 
{
    public static List<MyType> ClassInstance = new List<MyType>();

    public MyType() => ClassInstance.Add(this);
    public RemoveClass(MyType t)
    {
        ClassInstance.Remove(t);
        t = null;
    }

    public int ActiveCount => ClassInstance.Count;
} 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2012-09-05T07:41:40.030

您可以通过在类中为计数创建一个静态变量来尝试它，并在 中递增`constructor`和递减。`destructor`这可能对您有所帮助。

# mysql - 将 mysql 5.5 降级到 mysql 5.0 或 5.1 会导致数据丢失吗？

> ID：12276645
> 
> 赞同：1
> 
> 时间：2012-09-05T07:38:08.080
> 
> 标签：mysql

由于某些原因，我必须降级 MySQL 以便：

将 MySQL 5.5 降级到 MySQL 5.0 或 5.1 会导致数据丢失吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:42:52.973

只需使用[mysqldump](http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html)导出您的数据。

删除 mysql 5.5 服务器软件并安装所需版本。

然后使用mysql客户端导入。

您可以按照**[官方降级指南](http://dev.mysql.com/doc/refman/5.5/en/downgrading-to-previous-series.html)**

根据本文档，唯一的变化是默认存储引擎已更改为 InnodDB，因此应该没有问题。

[升级指南](http://dev.mysql.com/doc/refman/5.5/en/upgrading-from-previous-series.html)可以解释从 5.1 到 5.5 的变化。

永远不要直接复制数据文件！！！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:43:18.213

我建议最好备份您的数据，因为您永远不知道何时会丢失数据。

来自 mysql 文档。

> 以下项目构成了您在执行降级时应执行的操作的清单：
> 
> 阅读您要降级的版本系列的升级部分，以确保它没有您真正需要的任何功能。请参阅第 2.19.1 节，“升级 MySQL”。
> 
> 如果该版本有降级部分，您也应该阅读该部分。
> 
> 要查看在您要降级的版本和当前版本之间添加了哪些新功能，请参阅更改日志 >（附录 D，MySQL 更改历史记录）。
> 
> 检查第 2.19.3 节，“检查是否必须重建表或索引”，以查看当前版本的 MySQL 和要降级到的版本之间是否对表格式或字符集或排序规则进行了更改。如果是这样并且这些更改导致 MySQL 版本之间的不兼容，您将需要使用第 2.19.4 节中的说明降级受影响的表，“重建或修复表或索引”。

详情[请查看这里](http://dev.mysql.com/doc/refman/5.0/en/downgrading.html)

# java - 如何为.net 应用程序制作javaservice？

> ID：12276647
> 
> 赞同：1
> 
> 时间：2012-09-05T07:38:11.547
> 
> 标签：java, .net, web-services, service, java-service-wrapper

谁能告诉我如何为.net应用程序可以使用的java应用程序提供服务？

我在我的 .net 应用程序中使用 wcf ..我曾经使用来自我的 .net 应用程序的命令行参数处理可执行 jar 文件，但在实际场景中这会非常慢。

那么我如何才能使用在服务上运行的.net应用程序中的java应用程序，并为我提供一些值作为参数来在服务上执行jar文件..

我可以使用哪一个来制作我的 java 服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T12:25:48.433

我已经通过在 Apache Tomcat 服务器中使用axis2 完成了。最后我找到了

# c# - .NET C# 图像打印（保持质量）

> ID：12276648
> 
> 赞同：0
> 
> 时间：2012-09-05T07:38:12.633
> 
> 标签：c#, image, printing

我在 C# 图像打印上有一些问题。

我的要求是：

1.  调整图像大小并打印出来 - （参考附件的图像大小）
2.  但是质量不能掉-（参考附件的Img1，在microsoft office下调整大小-使用拖放）

    *   对于**Img2**，它使用 C# 代码来调整大小
    *   两个输出大小都是相同的，但我怎样才能达到像**Img1这样的结果**

附件链接：[附件](https://www.box.com/s/9zi1qii5z2u3mmxn8zvv)

谢谢... ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:42:43.577

你不能不失去一些质量，你可以在 c# 中做的最好的事情是：

```
Bitmap newImage = new Bitmap(newWidth, newHeight);
using (Graphics gr = Graphics.FromImage(newImage))
{
    gr.SmoothingMode = SmoothingMode.HighQuality;
    gr.InterpolationMode = InterpolationMode.HighQualityBicubic;
    gr.PixelOffsetMode = PixelOffsetMode.HighQuality;
    gr.DrawImage(srcImage, new Rectangle(0, 0, newWidth, newHeight));
} 
```

# java - 我的 jasper 报告总是覆盖上一个报告 我想每次都用不同的名称保存我的 jasper 报告

> ID：12276651
> 
> 赞同：1
> 
> 时间：2012-09-05T07:38:25.120
> 
> 标签：java, jasper-reports

```
public static void generateReportInPdf(Map parameters ) throws JRException, SQLException, ClassNotFoundException
{
Connection conn = Connect.connectMySqlDB();
    String jasperPath = ServletActionContext.getServletContext().getRealPath("/voucher/voucher.jasper");
    String jrprintPath = ServletActionContext.getServletContext().getRealPath("/voucher/voucher.jrprint");

    JasperFillManager.fillReportToFile(jasperPath, parameters, conn);
    JasperExportManager.exportReportToPdfFile(jrprintPath);

} 
```

如何在每次保存时放置不同的文件名？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T10:00:39.653

您需要将文件名作为参数传递并使用它来编写pdf

`JasperExportManager.exportReportToPdfFile(sourceFileName, destinationFileName)`

如果您在 Web 应用程序中使用 jasper-reports，并且需要将响应发送到浏览器，则可以将报告写入 OutputStream，然后在响应标头中设置文件名。

```
byte[] byteArray = JasperExportManager.exportReportToPdf(jasperPrintObject);
httpServletResponse.setHeader("Content-disposition","attachment; filename="+fileName);
httpServletResponse.getOutputStream().write(byteArray); 
```

# c# - 连接 Windows 7 中安装的数据库时显示“用户登录失败”的错误消息

> ID：12276652
> 
> 赞同：0
> 
> 时间：2012-09-05T07:38:24.863
> 
> 标签：c#, asp.net, .net

> **可能重复：**
> [无法打开登录请求的数据库。登录失败。用户登录失败](https://stackoverflow.com/questions/4698900/cannot-open-database-requested-by-the-login-the-login-failed-login-failed-for)

我使用 C#.net (vs 2008) 和 SQL Server 2005 定制了一个 Windows 应用程序，它在 Windows XP OS 上运行良好。当我尝试在 Windows7 上运行相同的应用程序时，我收到一条错误消息。

> 无法打开登录请求的数据库“db”。登录失败。用户 'user-pc' 登录失败。

我没有修改应用程序中的任何代码。

我更改了 App.config 文件，如下所示：-

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <appSettings>
    <add key="constr" value="packet size=4096;integrated security=SSPI;data source=user-pc;persist security info=False;initial catalog=db"></add>
    <!--   User application and configured property settings go here.-->
    <!--   Example: <add key="settingName" value="settingValue"/> -->
    <add key="DataGrid1.ReadOnly" value="False" />
  </appSettings>

</configuration> 
```

请帮我解决这个问题....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T09:45:46.483

您是否在 Windows 7 中安装了 SQL 实例？替换“。” 而不是“用户PC”

# android - 从源代码自定义 Android 启动器

> ID：12276656
> 
> 赞同：0
> 
> 时间：2012-09-05T07:38:43.007
> 
> 标签：android

我想自定义 android 的 Launcher（来自 google 的来源），我的问题是：我应该从哪里开始？（下载启动器源码）如果我想在主屏幕上放置一些快捷方式，该类在哪里？如何在 Android 模拟器上运行该启动器？

谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:45:47.133

首先，我建议不要这样做。默认的 android 启动器使用了几个不向公众提供的 API，我花了大约 9 个小时来编译它。即使那样，它的一部分也行不通。例如，我可以看穿当前页面进入下一个页面。此外，小部件不起作用，因为启动器使用一些私有方法来添加它们，这仅适用于由与 ROM 相同的密钥签名的应用程序。

您可能应该使用提供的主屏幕替换 SDK 示例。但是，如果您仍想这样做，请从 github 存储库下载 Launcher2 并开始一一解决错误。

# java - 子报告：无法从位置加载对象 - getOutputStream()

> ID：12276657
> 
> 赞同：1
> 
> 时间：2012-09-05T07:38:59.823
> 
> 标签：java, jasper-reports, struts, tomcat5.5

我们有一个*Java EE*应用程序，*JRE 6*，*MySQL 5.5 ，在**Tomcat 5.5*上运行。我们有几个*JR*报告正常工作，但其中一个会导致以下 Tomcat 错误：

```
org.apache.jasper.JasperException: getOutputStream() ya ha sido llamado para esta respuesta
    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:460)
    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:367)
    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)
    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
    org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085)
    org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)
    org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:398)
    org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:318)
    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241)
    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
    org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
    com.tsystems.web.common.FiltroSeguridad.doFilter(FiltroSeguridad.java:79) 
```

Eclipse 的控制台：

```
Could not load object from location : ..\..\iReport\PDFInformeCuadroGestionSub1.jasper
net.sf.jasperreports.engine.JRException: Could not load object from location : ..\..\iReport\PDFInformeCuadroGestionSub1.jasper
    at net.sf.jasperreports.engine.util.JRLoader.loadObjectFromLocation(JRLoader.java:271)
    at net.sf.jasperreports.engine.fill.JRFillSubreport.evaluateSubreport(JRFillSubreport.java:311)
    at net.sf.jasperreports.engine.fill.JRFillSubreport.evaluate(JRFillSubreport.java:260)
    at net.sf.jasperreports.engine.fill.JRFillElementContainer.evaluate(JRFillElementContainer.java:275)
    at net.sf.jasperreports.engine.fill.JRFillBand.evaluate(JRFillBand.java:426)
    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillColumnBand(JRVerticalFiller.java:1380)
    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillDetail(JRVerticalFiller.java:692)
    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReportStart(JRVerticalFiller.java:255)
    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:113)
    at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:888)
    at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:810)
    at net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:89)
    at net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:601)
    at com.tsystems.web.ModuloInformes.InformesNuevos.InformeGestion.Actions.InformeGestionAction.generarReporte(InformeGestionAction.java:1573)
    at com.tsystems.web.ModuloInformes.InformesNuevos.InformeGestion.Actions.InformeGestionAction.generarInformeGestion(InformeGestionAction.java:207)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:270)
    at org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:187)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
    at com.tsystems.web.common.FiltroSeguridad.doFilter(FiltroSeguridad.java:79)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)
    at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
    at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
    at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
    at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)
    at java.lang.Thread.run(Unknown Source) 
```

生成报告的方法是这样的（不完整，只有调用和其他一些东西）：

```
private void generarReporte(List info, 
                            InformeGestionFormBean gestionBean, 
                            HttpServletRequest request, 
                            HttpServletResponse response,
                            String descripDispo) {
    try {
        ServletOutputStream out = response.getOutputStream();

        String centro = descripDispo;

        String imagenlogo = ".." + File.separator + ".." + File.separator + "images" + File.separator + "logo2.jpg";
        String imageninforme = ".." + File.separator + ".." + File.separator + "images" + File.separator + "finforme.jpg";
        String imagenflecha = ".." + File.separator + ".." + File.separator + "images" + File.separator + "flecha.jpg";

        String ruta = ".." + File.separator + ".." + File.separator + "iReport" + File.separator;

        Map parametros = new HashMap();
        parametros.put("TITULO", "INFORME CUADRO DE GESTION DE "+centro+"");
        parametros.put("FECHA_ANYO", gestionBean.getAnioPeriodo());
        parametros.put("CENTRO", centro);
        parametros.put("IMAGEN_LOGO", imagenlogo);
        parametros.put("IMAGEN_INFORME", imageninforme);
        parametros.put("IMAGEN_FLECHA", imagenflecha);
        parametros.put("SUBREPORT_DIR", ruta);

        InputStream is = null;

        String header = "";

        is = InformeGestionAction.class.getClassLoader().getResourceAsStream(ruta + "InformeCuadroGestion.jrxml");

        header = "attachment; filename=\"InformeCuadroGestion";

        JRExporter exporter = null;
        JasperReport reporte = JasperCompileManager.compileReport(is);

        JRDataSource aux = new JRBeanCollectionDataSource(info);

        JasperPrint jasperPrint = JasperFillManager.fillReport(reporte, parametros, aux); 
```

这份报告几周前运行良好，但现在不行了。我从它工作正常时就尝试使用备份中的代码，但问题仍然存在。也许我改变了配置什么的，我不知道。

# c# - 从字符串转换日期和/或时间时转换失败

> ID：12276659
> 
> 赞同：0
> 
> 时间：2012-09-05T07:39:07.893
> 
> 标签：c#, sql-server

```
 private void btnCheck_Click(object sender, EventArgs e)
        {
            string costring = connection();
            string MyQuery = "select expense from dbo.KmtAccounts where date between '"+ txtFromDate +"' and '" +txtToDate +"' and    registernumber='" + txtRegNo.Text + "'";
            SqlConnection conn = new SqlConnection(costring);
            SqlCommand cmd = new SqlCommand(MyQuery, conn);
            conn.Open();
            txtResult.Text = Convert.ToString(cmd.ExecuteScalar());
            conn.Close();
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:45:35.277

您的代码中有几点需要改进。

1.  看来**txtFromDate 和 txtToDate 是控件？！**我想你想访问 txtFromDate.Text
2.  你真的应该使用**[SqlParameters](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparameter.aspx)来防止 SQL 注入**（[dotnetperls.com](http://www.dotnetperls.com/sqlparameter)上的好例子）
3.  您可以通过某种验证来检查您的 UI 值是否正确，或者甚至更好，选择一个**只允许有效值的控件**（*[DateTimePicker](http://msdn.microsoft.com/de-de/library/system.windows.forms.datetimepicker%28v=vs.110%29.aspx)、[Calendar](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.calendar%28v=vs.71%29.aspx&ei=lgNHUMCWAYnm4QThy4CQDw&usg=AFQjCNF7DRZ_LbEsWe00EWbhN5Sf9yBliQ&sig2=QsRXhaqKey9nKlWX7ObD8Q)，...*）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:46:25.323

导致异常的问题是`txtFromDate`和/或中的值`txtToDate`不被理解为表示日期。

更大的问题是，似乎很少或根本没有可以阻止其中一个包含有效值的值，然后是`';delete from dbo.KmtAccounts;---`.

这两个问题都可以通过查询来解决`select expense from dbo.KmtAccounts where date between @from and @to and registernumber=@reg`，然后使用参数将日期（作为日期，而不是字符串）和注册号添加到查询中。

# python - Scrapy 不通过请求回调从项目中的抓取链接返回附加信息

> ID：12276663
> 
> 赞同：2
> 
> 时间：2012-09-05T07:39:13.900
> 
> 标签：python, xpath, scrapy

基本上，下面的代码会抓取表格的前 5 个项目。其中一个字段是另一个href，单击该href 提供了我想要收集并添加到原始项目的更多信息。所以`parse`应该传递半填充的项目`parse_next_page`，然后刮下一个位，并将完成的`item`返回给`parse`

运行下面的代码仅返回收集的信息`parse` 如果我将其更改`return items`为`return request`我得到一个包含所有 3 个“事物”的完整项目，但我只得到 1 行，而不是全部 5 行。我确定它很简单，我就是不能看见。

```
class ThingSpider(BaseSpider):
name = "thing"
allowed_domains = ["somepage.com"]
start_urls = [
"http://www.somepage.com"
]

def parse(self, response):
    hxs = HtmlXPathSelector(response)
    items = []

    for x in range (1,6):
        item = ScrapyItem()
        str_selector = '//tr[@name="row{0}"]'.format(x)
        item['thing1'] = hxs.select(str_selector")]/a/text()').extract()
        item['thing2'] = hxs.select(str_selector")]/a/@href').extract()
        print 'hello'
        request = Request("www.nextpage.com", callback=self.parse_next_page,meta={'item':item})
        print 'hello2'
        request.meta['item'] = item
        items.append(item)      

    return items

def parse_next_page(self, response):
    print 'stuff'
    hxs = HtmlXPathSelector(response)
    item = response.meta['item']
    item['thing3'] = hxs.select('//div/ul/li[1]/span[2]/text()').extract()
    return item 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T09:30:00.110

对 SSL 和 Fiddler 的事情感到抱歉。它们不是为你准备的。我在这里混合了两个答案.. :p 现在来看你的代码，你说

> 运行下面的代码只返回 parse 中收集的信息

这是正确的，因为您返回一个包含 5 个项目的列表，其中填充了 'thing1' 和 'thing2' 返回项目不会导致 scrapy 引擎将请求发送到回调 'parse_next_page'，如下所示。

```
for x in range (1,6):
    item = ScrapyItem()
    str_selector = '//tr[@name="row{0}"]'.format(x)
    item['thing1'] = hxs.select(str_selector")]/a/text()').extract()
    item['thing2'] = hxs.select(str_selector")]/a/@href').extract()
    print 'hello'
    request = Request("www.nextpage.com", callback=self.parse_next_page,meta={'item':item})
    print 'hello2'
    request.meta['item'] = item
    items.append(item)      

return items 
```

然后你说...

> ```
> If I change the return items to return request I get a completed item with all 3 "things" but I only get 1 of the rows, not all 5\. 
> ```

这也是正确的，因为您在循环外使用“返回请求”，它只执行在循环中创建的最后一个请求，而不是前 4 个。所以要么制作一个“请求列表”并在循环外返回，要么在里面使用“屈服请求”循环..这肯定可以工作，因为我自己测试过同样的情况。返回解析中的项目将不会检索“thing3”。

只需应用任何一种解决方案，您的蜘蛛就会像导弹一样运行......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T13:22:21.210

安装[pyOpenSSL](http://pypi.python.org/pypi/pyOpenSSL)，有时 fiddler 也会为 "https:\*" 请求产生问题。如果正在运行，请关闭提琴手并再次运行蜘蛛。代码中的另一个问题是，您在 parse 方法中使用了生成器，而不是使用 'yeild' 将请求返回给 scrapy 调度程序。你应该这样做......

```
def parse(self, response):
    hxs = HtmlXPathSelector(response)
    items = []

for x in range (1,6):
    item = ScrapyItem()
    str_selector = '//tr[@name="row{0}"]'.format(x)
    item['thing1'] = hxs.select(str_selector")]/a/text()').extract()
    item['thing2'] = hxs.select(str_selector")]/a/@href').extract()
    print 'hello'
    request = Request("www.nextpage.com",callback=self.parse_next_page,meta{'item':item})
    if request:
         yield request
    else:
         yield item 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T15:21:39.463

哦.. yarr.. 把代码改成这个..

```
def parse(self, response):
hxs = HtmlXPathSelector(response)
items = []

for x in range (1,6):
    item = ScrapyItem()
    str_selector = '//tr[@name="row{0}"]'.format(x)
    item['thing1'] = hxs.select(str_selector")]/a/text()').extract()
    item['thing2'] = hxs.select(str_selector")]/a/@href').extract()
    print 'hello'
    request = Request("www.nextpage.com", callback=self.parse_next_page,meta={'item':item})
    print 'hello2'
    yield request
    #donot return or yield item here.. only yield request return item in the callback.

def parse_next_page(self, response):
    print 'stuff'
    hxs = HtmlXPathSelector(response)
    item = response.meta['item']
    item['thing3'] = hxs.select('//div/ul/li[1]/span[2]/text()').extract()
    return item 
```

我想现在它很清楚...

# c# - 在 Visual Studio 中禁止特定项目的警告

> ID：12276665
> 
> 赞同：1
> 
> 时间：2012-09-05T07:39:24.373
> 
> 标签：c#, visual-studio-2010

> **可能重复：**
> [如何仅在一个项目中禁用警告？](https://stackoverflow.com/questions/9983759/how-to-disable-warnings-in-only-one-project)

我想禁用 Visual Studio 解决方案 (.NET) 中项目的所有警告，因为该项目中的代码与生产无关，仅包含使用内部 API 的演示代码。

我是否有机会在全球范围内执行此操作（无需在每个文件中输入编译指示？）

谢谢。

# c++ - 应该 throw 调用移动构造函数吗？

> ID：12276668
> 
> 赞同：4
> 
> 时间：2012-09-05T07:39:32.650
> 
> 标签：c++, c++11, move-semantics

> **可能重复：**
> [在 C++11 中抛出异常时是否使用移动语义？](https://stackoverflow.com/questions/12122317/does-an-exception-use-move-semantics-when-thrown-in-c11)

我想知道为什么`throw`在适当的时候不调用移动构造函数。这是我的编译器（Visual Studio 2010/2012）中的缺陷还是标准不允许？在后一种情况下，推理是什么？

以下是我希望调用移动构造函数的示例，但使用了复制构造函数。

```
#include <iostream>
#include <exception>

class MyException : public std::exception
{
public:
    MyException(const char* theText) throw()
    :   std::exception(theText) {
        try { std::cout << "MyException()" << std::endl; } catch(...) {}
    }

    ~MyException() throw() {
        try { std::cout << "~MyException()" << std::endl; } catch(...) {}
    }

    MyException(const MyException& ex) throw() 
    :   std::exception(ex) {
        try { std::cout << "MyException copy constructor" << std::endl; } catch (...) {}
    }

    MyException& operator=(const MyException& ex) throw() {
        try { std::cout << "MyException assignment operator" << std::endl; } catch (...) {}
        std::exception::operator=(ex);
        return *this;
    }

    MyException(MyException&& ex) throw()
    :   std::exception(std::move(ex)) {
        try { std::cout << "MyException move constructor" << std::endl; } catch (...) {}
    }

    MyException& operator=(MyException&& ex) throw() {
        try { std::cout << "MyException move assignment operator" << std::endl; } catch (...) {}
        std::exception::operator=(std::move(ex));
        return *this;
    }
};

int main(int argc, char* argv[])
{
    try
    {
        //throw MyException("RVO applies here");

        MyException e("Let's try explicitly");
        throw std::move(e); // The copy constructor is called
    }
    catch(std::exception& e)
    {
        std::cout << "Caught std::exception " << e.what() << std::endl;
    }
    return 0;
} 
```

这将打印以下内容

```
MyException()
MyException copy constructor
~MyException()
Caught std::exception Let's try explicitly
~MyException() 
```

# google-maps - 根据显示分辨率设置谷歌地图缩放级别

> ID：12276670
> 
> 赞同：1
> 
> 时间：2012-09-05T07:39:41.367
> 
> 标签：google-maps, google-maps-api-3

我正在做一个项目，该项目要求我在网页上的给定区域 (div) 中显示整个地球地图（Google 地图中的缩放级别 0）。此外，我必须以这样一种方式显示地图，以使整个世界在不同的分辨率集上保持可见（这些显示分辨率集从 1024x768 开始，并连续增加六个）。如何获得当前的显示分辨率，然后决定将地图初始化到哪个缩放级别？我不需要缩放级别与屏幕分辨率的比率或任何东西。只是我预定义的一组分辨率的测试缩放级别，所以我可以使用 if else 语句来做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:23:51.733

```
map.fitBounds(viewport) 
```

此方法根据给定坐标设置视口和缩放级别。您可以使用从 0 到 180 的坐标构建视口对象（类型 LatLngBounds）。有关更多详细信息，请参阅[地图参考](https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds)。该解决方案适用于我的项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:14:10.667

这是什么语言？在 javascript 中，您可以执行以下操作：

```
<script type="text/javascript">
if ((screen.width<=1024) && (screen.height<=768)) {
 window.location.replace('http://mappagewithresolutionlowerthan1024x768.com');
}
else {
   window.location.replace('http://mappagewithresolutiongreaterthan1024x768.com');
}
</script> 
```

这意味着您对每种类型的显示都有不同的网页。所以这可能不是最好的方法，但至少有获取屏幕大小的命令。

然后你可以使用

```
map.setZoom(map.getZoom()+1); 
```

设置缩放级别并尝试适合哪个屏幕的内容（在线某处可能有一个列表）

签出：[如何设置谷歌地图缩放级别以显示所有标记？](https://stackoverflow.com/questions/2362337/how-to-set-the-google-map-zoom-level-to-show-all-the-markers)更多提示。

但是，如果您不使用 javascript，那么这是没用的

祝你好运:)

# php - php _POST random not working

> ID：12276674
> 
> 赞同：0
> 
> 时间：2012-09-05T07:39:48.910
> 
> 标签：php, forms, post

I have a strange problem.

Situation: I have a form with the method 'post'. Inside that form I have 1 checkbox and a submit button. When i press the submit button an if statement will catch wether the post var is isset.

Problem: When i press the submit button, it randomly doesn't work. So I press it now and it works or it won't.

Here is the code I use to catch the post

```
if ( isset ( $_POST['mail_subscribe'] )  ) {
    //My code here
} 
```

And here is the code from the form (I'm using smarty)

```
<form action="/my/url.html" method="post">
    <input type="checkbox" name="mail_subscribe" class="mail_subscribe" id="{$var.graph1.ID}" {if $var.mailing == 1}checked="checked" value="0"{else}value="1"{/if} />
    <br /><br />
    <input type="submit" value="save" id="mailing_submit"/>
</form> 
```

When i submit this form sometimes it works and more often it doesn't. If you guys need more information let me know. I'll update the question asap.

**ANSWER**

I found the answer to my problem. Thank you @RobertMaysJr for that.

When a checkbox is not checked, and it is the only field inside the form, the form will never submit.

Now that I know that I'm changing the way I'll be doing this :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:43:26.510

use this...

```
if ( isset ( $_POST['mailing_submit'] )  ) {
    //My code here
} 
```

And

```
<form action="/my/url.html" method="post">
    <input type="checkbox" name="mail_subscribe" class="mail_subscribe" id="{$var.graph1.ID}" {if $var.mailing == 1}checked="checked" value="0"{else}value="1"{/if} />
    <br /><br />
    <input type="submit" value="save" id="mailing_submit" name="mailing_submit"/>
</form> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:41:35.247

it needs to always be value="1" - if the checkbox is not checked then it won't be submitted at all by the browser

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:41:50.983

The problem is that the key `mail_subscribe` will exist in `$_POST` only when the checkbox is checked.

So, the code will not execute all the time.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T07:45:48.953

shouldn't your form action should have .php extension file:

```
<form action="/my/url.php" method="post">
    <input type="checkbox" name="mail_subscribe" class="mail_subscribe" id="{$var.graph1.ID}" {if $var.mailing == 1}checked="checked" value="0"{else}value="1"{/if} />
    <br /><br />
    <input type="submit" value="save" id="mailing_submit" name="mailing_submit"/>
</form> 
```

And

```
if ( isset($_POST['mailing_submit'])  ) {
  //your code here
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-05T07:46:26.493

instead of checking checkbox value check for submit button

```
if ( isset ( $_POST['mail_subscribe'] )  ) {
    //My code here
} 
```

instead of that check

```
if ( isset ( $_POST['mailing_submit'] )  ) {
    //My code here
} 
```

this will ensure form submission. if checkbox is checked then only your code will work

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-28T05:10:56.890

use this jquery is easier

```
$('#yourcheckbox').click(function(){
  if($(this).is(':checked')){
       $.post('http://your form action url',{your form data },function(result){
               alert(result);
       }
  }

}); 
```

I have random post data method which replace all your form data into fake data during send read here [http://www.jackart4.com/article.html](http://www.jackart4.com/article.html)

# c++ - C++中带负数的模

> ID：12276675
> 
> 赞同：24
> 
> 时间：2012-09-05T07:39:49.910
> 
> 标签：c++, modulo, recurrence

我一直在为以下递归关系编写程序：

```
An = 5An-1 - 2An-2  - An-3 + An-4 
```

输出应该是答案模数 10^9 + 7 .. 我为此写了一个蛮力方法如下...

```
long long int t1=5, t2=9, t3=11, t4=13, sum;
while(i--)
{
    sum=((5*t4) - 2*t3 - t2 +t1)%MOD;
    t1=t2;
    t2=t3;
    t3=t4;
    t4=sum;
}
printf("%lld\n", sum); 
```

`MOD= 10^9 +7` 每件事似乎都是真的..但是我对某些值得到了否定的答案..由于这个问题，我无法找到正确的解决方案...请帮助您找到正确的位置`Modulus`

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-09-05T08:18:59.693

问题是 % 运算符不是“模运算符”，而是具有以下相等性的“除法余数”运算符

```
(a/b)*b + a%b == a    (for b!=0) 
```

因此，如果您的整数除法向零舍入（我认为这是自 C99 和 C++11 以来强制要求的），-5/4 将是 -1，我们有

```
(-5/4)*4 + -5%4 == -5
  -1  *4    -1  == -5 
```

为了获得肯定的结果（对于模运算），您需要添加除数以防余数为负或执行以下操作：

```
long mod(long a, long b)
{ return (a%b+b)%b; } 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-04-22T08:22:07.893

在@sellibitze 和@liquidblueocean 的答案中使用`%`第二次可能不会像`%`一般情况下那么慢，因为它归结为一个减法`b`或没有减法。其实，让我检查一下...

```
int main(int argc, char **argv) {
    int a = argc;    //Various tricks to prevent the
    int b = 7;       //compiler from optimising things out.
    int c[10];       //Using g++ 4.8.1
    for (int i = 0; i < 1000111000; ++i)
        c[a % b] = 3;
        //c[a < b ? a : a-b] = 3;
    return a;
} 
```

或者用或另一行注释该`%`行，我们得到：

*   有`%`：14秒

*   有`?`：7秒

所以`%`没有我想象的那么优化。可能是因为这种优化会增加开销。

因此，出于性能原因，最好不要使用`%`两次。

相反，正如[这个答案](https://stackoverflow.com/a/1082938/1143274)所建议和解释的那样，这样做：

```
int mod(int k, int n) {
    return ((k %= n) < 0) ? k+n : k;
} 
```

[如果你想让它也能正常工作，那就`n`](https://stackoverflow.com/a/20924698/1143274)需要做更多的[工作](https://stackoverflow.com/a/20924698/1143274)，但这几乎没有必要。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-05T07:44:52.033

只需替换`%`为处理负值的函数：

```
long long int mod(long long int a, long long int b) {
    long long int ret = a % b;
    if (ret < 0)
        ret += b;
    return ret;
} 
```

编辑：将数据类型更改为`long long int`.

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-01-31T00:17:53.133

当 abs(a) > b 时，所有在公式中一次性添加的答案都是错误的。使用这个或类似的：

```
int modulo (int a, int b) { return a >= 0 ? a % b : ( b - abs ( a%b ) ) % b; } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-05T08:33:45.303

正如其他人所说`%`，它只是一个余数运算符而不是`mod`. 但是，mod/remainder 操作通过这样的递归关系正确分布，所以如果你只是将最终解决方案调整为正数，就像这样，

```
if (sum < 0) { sum = sum + MOD; } 
```

那么你应该得到正确的答案。这样做的好处是每次循环迭代都少引入一个函数调用和/或分支。（取决于你的编译器有多聪明，这可能会或可能不会重要）。

# c# - 单独的进程

> ID：12276677
> 
> 赞同：0
> 
> 时间：2012-09-05T07:39:58.383
> 
> 标签：c#, architecture

我正在构建一个 Web 应用程序，以可视化医院中患者的流动。

该应用程序由 3 个部分组成：

1.  从网络读取消息，将它们转换为数据模型并将它们存储在数据库中的过程。消息也被传递到第二个进程
2.  websocket 服务器进程：从第一个进程获取消息并将它们传递给网站客户端。还处理来自网站的 websocket 请求。
3.  网站本身（与问题无关）

我想将进程 1 和 2 分开。这意味着当 websocket 服务器进程崩溃时，第一个进程应该继续运行。

我想知道如何最好地做到这一点。第二个进程想要订阅来自进程 1 的新消息。我目前通过事件来执行此操作。

.net 中是否有标准方法来分离进程以便它们可以独立运行？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T18:38:27.357

我将从等式中删除进程号 2，并将进程 1 作为 Windows 服务从数据库中读取并使用 MSMQ 发布消息。您的网站可以定期轮询队列（可能是对 ashx 的 ajax 调用）并刷新它的状态。

通过这种方式，您可以通过 MSMQ 获得可靠的消息传递、进程 1 的触发和忘记以及随时从您的网站读取的能力

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:28:09.057

您可以在不同的应用程序域中运行每个进程。 [http://msdn.microsoft.com/en-us/library/ms173139(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/ms173139(v=vs.80).aspx)

此致。

# sugarcrm - 我们如何为 Dashlet 中的每一行添加新按钮

> ID：12276678
> 
> 赞同：0
> 
> 时间：2012-09-05T07:39:57.510
> 
> 标签：sugarcrm

谁能给我一些关于为 Dashlet 中的每一行添加自定义按钮的提示。我想在默认存在的编辑和显示按钮之前添加这个按钮。

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:22:20.157

在文件 dashletName.data.php 的数组 $dashletData['dashletName']['columns'] 中，为按钮添加一列

```
<?php
...
'test' => array(
  'width'   => '10', 
  'label'   => 'LBL_TEST',
  'default' => true
),
...
?> 
```

在文件 dashletName.php 中，您需要一个方法 process()

```
<?php
...
function process($lvsParams = array()) {
  parent::process($lvsParams);

  // code to add a button in each row
  foreach($this->lvs->data['data'] as $rowNum => $row) {
    $this->lvs->data['data'][$rowNum]['TEST'] = '<input type="button" name="test" value="test" onclick="this.parentNode.parentNode.innerHTML = \'\';" />';
  }
}
...
?> 
```

# c++ - 从授权机构购买 C++11 标准 (ISO/IEC 14882:2011)

> ID：12276683
> 
> 赞同：8
> 
> 时间：2012-09-05T07:40:17.803
> 
> 标签：c++, c++11, standards

我正在考虑以合法方式从授权机构获得 ISO/IEC 14882:2011，而不是通过下载任何盗版副本。

我很困惑，在 ansi.org 他们只收取 30.00 美元，而 iso.org 收取 238 瑞士弗兰克（=240 美元）！

由于 ISO 和 ANSI 都是授权机构，我应该忽略价格差异吗？请建议。谢谢。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-05T08:07:24.800

您可以合法地免费获得[当前草稿](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3797.pdf)。它比已发布的标准还要更新 :)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-05T10:40:19.773

是的，您可以忽略定价差异。两者都是官方消息来源。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-09T21:08:35.823

虽然不是 C++11 标准，但基于它，[标准 C++ 基金会](http://isocpp.org/)网站提供了指向其在 GitHub 上[的下一个标准工作草案的链接。](https://github.com/cplusplus/draft/tree/master/papers)

# c# - 从 XML 字符串生成 XElement 代码

> ID：12276684
> 
> 赞同：3
> 
> 时间：2012-09-05T07:40:17.647
> 
> 标签：c#, code-generation, xelement

有没有办法`XElement`从给定的 XML 字符串生成 C# 中的表示？

基本上我想要实现的是来自这样的字符串：

```
<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0">
  <channel>
    <title>RSS Channel Title</title>
    <description>RSS Channel Description.</description>
    <link>http://aspiring-technology.com</link>
    <item>
      <title>First article title</title>
      <description>First Article Description</description>
    </item>
  </channel>
</rss> 
```

像这样的字符串：

```
XDocument doc = new XDocument(
   new XDeclaration("1.0", "utf-8", "yes"),
   new XElement("rss", 
       new XAttribute("version", "2.0"),
       new XElement ("channel",
           new XElement("title", "RSS Channel Title"),
           new XElement("description", "RSS Channel Description."),
           new XElement("link", "http://aspiring-technology.com"),
           new XElement("item",
               new XElement("title", "First article title"),
               new XElement("description", "First Article Description")
           )
       )
    ); 
```

真的很感激任何提示！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-04-15T10:58:48.937

ReSharper 2016.1 具有将字符串转换为 XElement 或 XDocument 对象的上下文操作。

![gif 示例它是如何工作的](../Images/7709ee6b658f40c489dc5ca476e2a3af.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T18:29:04.533

看看这个[XElement/XDocument 代码生成器](http://www.dexterlegaspi.com/journal/?p=96)。它使用 XSLT 转换从 XML 生成 c# 代码。如果我自己做，我可能会以同样的方式做。

# algorithm - 如何快速获得树上所有叶子的所有父母？

> ID：12276686
> 
> 赞同：2
> 
> 时间：2012-09-05T07:40:20.127
> 
> 标签：algorithm, data-structures, tree, graph-algorithm

我有一个可能很大的有根树结构，我想将其转换为一个`X * Y`矩阵，`X`它是树中的叶子`Y`数量和树中度数大于 1 的节点数量，即根节点和内部节点。矩阵应该这样填充：

M [i,j] = {`0`如果叶子`i`有祖先`j`，否则为 1

例如，这棵树：

```
 --A 
     /
    1   B
   / \ /
  /   3  
 /     \
0       C
 \ 
  \   --D
   \ /
    2
     \--E 
```

将转化为这个矩阵：

```
 0 1 2 3
A T T F F
B T T F T
C T T F T
D T F T F
E T F T F 
```

由于树可能会变得非常大（可能约为 100,000 片叶子），我想知道是否有一种比遍历每个叶子节点的树更智能/更快的方法。感觉好像某种算法在这个问题的某个地方，但我还没有弄清楚。也许有人可以帮忙？

在我的应用程序中，这棵树代表大的[系统发育层次结构](http://arthropoda.files.wordpress.com/2010/02/arthrophyloregier2010.jpg)，因此它不平衡，并且可能有两个以上子节点的节点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:35:32.197

我会使用**后序**遍历。

在遍历树时维护叶子列表，并且在每个级别中 - 该列表将包含此级别之前的所有叶子。

我们将使用的函数的声明：

```
list merge(list1,list2) //merges two lists and creates a new list
list create() // creates a new empty list
void add(list,e) // appends e to the list
void setParent(leaf,node) //sets (in your matrix) node as a parent of leaf 
```

**伪代码：**

```
list Traverse(root):
  if (root == nil):
      l <- create()
      return l
  else if (root is leaf):
      l <- create()
      add(l,root)
      return l
  else: 
      l1 <- Traverse(root.left)
      l2 <- Traverse(root.right)
      l <- merge(l1,l2)
      for each leaf in l:
          setParent(leaf,root)
      return l 
```

时间是`O(n*m)`- 用于设置矩阵（尽管算法本身是`O(nlogn)`平衡树的时间）。

如果要阻止`O(n*m)`初始化，可以在 中[初始化矩阵`O(1)`](http://eli.thegreenplace.net/2008/08/23/initializing-an-array-in-constant-time/)，然后在 中运行上述算法`O(nlogn)`。虽然它会提供更好的渐近复杂性，但我怀疑它实际上会更快。

# c++ - 将派生类转换为基类

> ID：12276689
> 
> 赞同：0
> 
> 时间：2012-09-05T07:40:23.763
> 
> 标签：c++, polymorphism, overriding

我遇到了一个棘手的小问题。我相信这个问题与我铸造事物的方式有关。

所以我有一个名为`combatEntity`. 它具有以下功能

```
class combatEntity {
public:
    virtual void update();
}; 
```

然后我有一个类 mob，它派生自`combatEntity`，覆盖更新函数：

```
class mob : public combatEntity {
public:
    virtual void update();

} 
```

然后我有一个名为 的类`monster`，它派生自`mob`并且还覆盖了更新函数。

```
class monster: public mob {
public:
    virtual void update();
} 
```

我有一个名为战斗实体的指针`i`：

```
combatEntity* i; 
```

然后我有：

```
//returns a mob* pointer (needs explicit cast)
monster* newMonster = getMob();
i = newMonster; 
```

`getMob()`功能：

```
mob* getMob() {
   mob* newMob = new mob();
   //set some data in newMob
   return newMob;
} 
```

当我调用 时`i->update()`，它调用`mob::update()`，因为`newMonster`设置为“new mob();”，因为`getMob()`返回一个新的 mob 指针。当我调用时`i->update()`，我需要它调用`monster::update()`，但是使用断点，我看到它正在调用`mob::update()`而不是调用`monster::update()`。

所以我需要创建一个新`monster`对象，但仍然有它的基类数据填充从返回的对象`getMob()`，但函数被正确覆盖。我也尝试过 dynamic_cast、static_cast 和 reinterpret_cast，但似乎都没有。或者我需要将我的基类转换为派生类，同时用派生类正确覆盖函数。

希望这是有道理的。任何意见，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:59:59.950

查看您的层次结构树，确保这些类与您的想法相关。

这段代码

```
#include <iostream>

struct combatEntity
{
    virtual void Update() { std::cout << "Combat Entity\n"; };
};

struct mob : combatEntity
{
    virtual void Update() { std::cout << "Mob\n"; };
};

struct monster : mob
{
    virtual void Update() { std::cout << "Monster\n"; };
};

int main(int argc, char **argv)
{
    combatEntity *ce = new monster;
    ce->Update();
    delete ce;

    return 0;
} 
```

创建此输出：

```
Monster 
```

来源：http: [//ideone.com/k6LAB](http://ideone.com/k6LAB)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:49:30.810

你的线

```
monster* newMonster = getMob(); 
```

不应该编译。我明白了

```
error: invalid conversion from ‘mob*’ to ‘monster*’ [-fpermissive] 
```

（您的行也`i = monster;`应该是`i = newMonster;`）。我认为这解释了一切（另见 Luchian 的评论）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:53:31.717

好吧，由于您使用的是虚拟，因此“更新”将始终调用正确的函数，无论您声明指针是什么。这就是“虚拟”的工作方式。

如果您希望您的指针确定被调用的内容，而不是对象本身，请使这些东西成为非虚拟的。在这种情况下，指针类型将确定调用哪个“更新”。

如果你想要两者，你仍然可以调用诸如 monster::update() 之类的东西，而不仅仅是更新。但是，除非您是从派生类的更新函数中执行此操作（以调用超类实现），否则试图越过继承层次结构可能是设计不佳的标志。

# c++ - 建议最合适的设计模式

> ID：12276701
> 
> 赞同：1
> 
> 时间：2012-09-05T07:41:02.963
> 
> 标签：c++, design-patterns

我有一个问题陈述，我需要以一种在运行时决定行为的方式设计类。

类层次结构如下；

```
 Base
          ______________|________________
         |           |        |         |      
       Drvd-A     DrvdB     DrvdC   Drvd-Generic 
```

“Drvd-Generic”类型的实例原则上应该继承任何类“Drvd-A”、“Drvd-B”或“Drvd-C”在运行时的行为。

实例“Drvd-Generic”的行为将在运行时决定，也可以在运行时更改。例如; - 创建实例 Drvd-Generic；- 在特定时间和特定条件下，Drvd-Generic 应该继承 Drvd-A 的行为；- 在触发一些更改后 Drvd-Generic 应该继承 Drvd-B 的行为；

这将在运行时在某些条件下发生，并且 Drvd-Generic 的实例在程序的生命周期内将是相同的。

建议最适合的设计模式以适应这种情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:44:46.253

`Drvd-Generic`可以实现[策略](http://en.wikipedia.org/wiki/Strategy_pattern)模式，并使用`DrvdA`/ `DrvdB`etc 的内部实例来完成它的工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:46:11.833

似乎带有组合的**策略模式**会起作用，其中您有一个 type 成员`Behavior`。（伪代码如下）

```
class Behavior
{
   virtual execute() = 0;
}
class BehaviorA
{
   virtual execute();
}
//and others

class Base
{
   Behavior* behavior;
}
class Drvd-A : Base
{
   //set behavior to BehaviorA
}
//and others
class Drvd-Generic
{
   //set & change behavior at runtime
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T11:02:41.787

[装饰器模式](http://en.wikipedia.org/wiki/Decorator_pattern)怎么样？

```
interface Base
{
//This is the interface which specifies the members
}
class Drvd-Generic : Base
{
//This implements the base class
}
class DrvdA : Base
{
//This class has a member of type Drvd-Generic
//The constructor accespts the Drvd-Generic object
//This can define DrvdA specific functions to further work on it.
//Basically this is the decorator class.
//As are DrvdB and DrvdC
}
class DrvdB : Base
{
}
class DrvdC : Base
{
} 
```

希望这对您有所帮助。

# java - 用于指定 Java.Policy 文件的 Java 参数

> ID：12276710
> 
> 赞同：0
> 
> 时间：2012-09-05T07:41:38.037
> 
> 标签：java, security, policy

我正在尝试将不同的策略文件加载到安全属性文件并根据上下文设置策略文件。

为了提供更多上下文，我为系统中的不同用户设置了不同的策略文件。因此，我必须首先将策略文件加载到安全属性文件中，并在运行时为当前用户设置策略文件。

我曾想过使用 System.setProperty() 来加载策略文件，但后来我无法在运行时使用 Policy.setPolicy() 方法设置策略文件。我真的不知道我哪里错了。在这里希望你们中的一个有答案！

1.  如何在策略文件池中设置和运行策略文件？
2.  我可以`System.setProperty()`用来设置策略文件并将`setPolicy()`其应用于运行时环境吗？

# android - 使用循环向多个联系人发送短信

> ID：12276712
> 
> 赞同：2
> 
> 时间：2012-09-05T07:41:43.343
> 
> 标签：android, broadcastreceiver

我正在开发一个 android 短信应用程序。我必须向多个联系人发送短信。有一种方法可以向多个联系人发送短信，所以我使用了循环。以下是我的代码。

```
for (int i = 0; i < to_nums.size();i++) {

                sendSms(to_nums.get(i),  snd_txt.getText().toString() );

        }

public void sendSms(final String phoneNumber, final String message){

    String SENT = "SMS_SENT";
    String DELIVERED = "SMS_DELIVERED";
    PendingIntent sentPI = PendingIntent.getBroadcast(this, 0,
        new Intent(SENT), 0);
    PendingIntent deliveredPI = PendingIntent.getBroadcast(this, 0,
            new Intent(DELIVERED),0);

   //--- When the SMS has been sent --

    sendBroadcastReceiver=new BroadcastReceiver() {

        @Override
        public void onReceive(Context context, Intent intent) {
            // TODO Auto-generated method stub
            switch (getResultCode()) {

                case Activity.RESULT_OK:

                    Toast.makeText(getBaseContext(), "SMS sent",
                        Toast.LENGTH_SHORT).show();

                    break;

                case SmsManager.RESULT_ERROR_GENERIC_FAILURE:
                    Toast.makeText(getBaseContext(), "Generic failure",
                        Toast.LENGTH_SHORT).show();

                    break;
                case SmsManager.RESULT_ERROR_NO_SERVICE:
                    Toast.makeText(getBaseContext(), "No service",
                        Toast.LENGTH_SHORT).show();

                    break;
                case SmsManager.RESULT_ERROR_NULL_PDU:

                    Toast.makeText(getBaseContext(), "Null PDU",
                        Toast.LENGTH_SHORT).show();
                    break;
                case SmsManager.RESULT_ERROR_RADIO_OFF:

                    Toast.makeText(getBaseContext(), "Radio off",
                        Toast.LENGTH_SHORT).show();
                    break;

                default:
                    break;
            }
            context.unregisterReceiver(this);

        }
    };

    registerReceiver(sendBroadcastReceiver , new IntentFilter(SENT));

    SmsManager sms = SmsManager.getDefault();
    sms.sendTextMessage(phoneNumber, null, message, sentPI, deliveredPI);

} 
```

但是当我运行我的代码时，我遇到了一个异常，上面写着“接收器未注册”。对于单个收件人，它可以正常工作。.如何按顺序注册和注销？请朋友们帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:53:03.700

你可以看看这些：

[向存储在文本视图中的多个联系人发送短信](https://stackoverflow.com/questions/11840057/sending-sms-to-multiple-contacts-stored-in-a-textview)

和

[如何向多个联系人发送短信并在android中获取每个联系人的结果代码](https://stackoverflow.com/questions/7092136/how-to-send-sms-to-multiple-contacts-and-get-the-result-code-for-each-of-them-in)

和

[在android中向多个人发送短信](https://stackoverflow.com/questions/5448140/sending-sms-to-multiple-people-in-android)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-31T18:14:36.467

您的问题是您为所有数字创建具有相同名称的新 Intent 对象的部分，这样做时，您将使用较新的数字覆盖已注册的广播，因此当较旧的广播捕获并运行 onReceive 函数时，它会发现它的没有注册了！您的解决方案是将 Intent 初始化更改为如下所示：

> Intent i = new Intent(SENT_INTENT + phoneNumber);

交付意图也是如此，如果您的问题已解决，请告诉我

# mysql - MYSQL 复制是否实时工作？

> ID：12276716
> 
> 赞同：4
> 
> 时间：2012-09-05T07:41:57.103
> 
> 标签：mysql, replication

我是 MYSQL 复制的新手。我知道如何设置它（感谢许多书籍和其他在线资源）但是，我需要了解它在低级别上的真正工作原理。

我的问题是，它可以实时工作吗？或者主从更改之间是否存在差距。

所以场景是：一条记录​​被插入到master中，它是立即插入到slave中然后插入完成，还是插入到master中并且插入完成，然后将更改复制到slave？

我问的原因是因为我知道 MS Sequel Server 上存在差异。在 Sequel Server 上有一个称为镜像的概念，其中首先在主服务器上执行查询，然后在从服务器上执行，然后完成。还有复制，其中在主服务器上执行查询，然后将消息发布到从服务器（通常非常快，但不一定是实时的），从服务器（订阅这些消息）执行相同的查询。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-27T16:43:25.097

默认情况下，MySQL 复制不能实时工作。它可以接近实时，但您不能指望数据在从节点上。这是因为默认情况下，复制是异步复制。有一些新技术旨在实现真正的同步复制，例如 Galera。MySQL 也有一些新的复制方法，例如半同步，您可能想了解一下。还有一些其他人已经 fork mysql 并且不仅对其进行了优化，而且还在 Galera 中为您工作。

[https://dev.mysql.com/doc/refman/5.5/en/replication-semisync.html](https://dev.mysql.com/doc/refman/5.5/en/replication-semisync.html)

[http://codership.com/content/using-galera-cluster](http://codership.com/content/using-galera-cluster) - 同步复制引擎

[http://www.percona.com/software/percona-xtradb-cluster](http://www.percona.com/software/percona-xtradb-cluster) - Percona 对 Galera 的实现

[https://mariadb.com/kb/en/what-is-mariadb-galera-cluster/](https://mariadb.com/kb/en/what-is-mariadb-galera-cluster/) MariaDB 的实现 Galera。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:58:58.283

`MySQL`具有基于日志的不同复制机制。这是[MySQL 官方文档](http://dev.mysql.com/doc/refman/5.1/en/replication-configuration.html)的一部分：

> MySQL 中服务器之间的复制基于二进制日志记录机制。作为主服务器运行的 MySQL 实例（数据库更改的源）将更新和更改作为“事件”写入二进制日志。二进制日志中的信息根据正在记录的数据库更改以不同的日志格式存储。从站被配置为从主站读取二进制日志，并在从站本地数据库上执行二进制日志中的事件。

# silverlight-4.0 - Silverlight 控件的名称在代码隐藏中不可用

> ID：12276717
> 
> 赞同：2
> 
> 时间：2012-09-05T07:41:58.150
> 
> 标签：silverlight-4.0, contextmenu, code-behind

我有以下 XAML：

```
<controls:ContextMenuService.ContextMenu>
         <controls:ContextMenu Height="Auto" x:Name="contextMenu">
                   <controls:MenuItem x:Name="AddMenuItem" Header="Add document" 
                                      IsEnabled="True" Click="AddMenuItem_Click">
                   </controls:MenuItem>
            ... 
```

而且我在代码隐藏中看不到 contextMenu（编译错误“当前上下文中不存在名称“contextMenu”）。我试图找到它：

```
ContextMenu menu = FindName("contextMenu") as ContextMenu; 
```

但它总是返回 null。

我已经检查了构建操作 - 它设置为 Page。

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T09:07:46.750

我认为您必须使用`ContextMenuService`来获取对象的 ContextMenu。ContextMenuService 提供了`GetContextMenu(DependencyObject)`返回指定对象的 ContextMenu 的方法。

因此，在您的情况下，您需要编写：

```
DependencyObject objectWithContextMenu = // Control that has a ContextMenu
ContextMenu menu = ContextMenuService.GetContextMenu(objectWithContextMenu); 
```

# java - Actual JSON serialization benchmark for Java-APIs

> ID：12276722
> 
> 赞同：5
> 
> 时间：2012-09-05T07:42:14.180
> 
> 标签：java, json, serialization, benchmarking

I'm looking for an benchmark for different serialization APIs. All I found are outdated Posts and Articles from a year and more before. So I'm hoping that anyone could share a link to an up to date benchmark?

PLEASE: I'm aware of the implementations you can find in the web. I don't want a recommendation for your preferred API. And I don't need a "I think it's fast". What I'm searching for is just an actual comparison of the performance in measured values.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:48:05.557

Here is a one benchmark.

[http://code.google.com/p/thrift-protobuf-compare/wiki/Benchmarking](http://code.google.com/p/thrift-protobuf-compare/wiki/Benchmarking)

In this article I discuss the importance of re-cycling objects to improve serialisation times.

[http://vanillajava.blogspot.co.uk/2011/10/serialization-using-bytebuffer-and.html](http://vanillajava.blogspot.co.uk/2011/10/serialization-using-bytebuffer-and.html)

IMHO: JSon is one of the most difficult formats to deserialise efficiently, even harder than XML.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-14T07:19:15.713

Here are two recent ones as of last week. It compares form byte[], reader, inputStream, char[], CharSequence, String, etc.

It compares Boon, Jackson, Smart JSON and GSON.

[https://github.com/gatling/json-parsers-benchmark](https://github.com/gatling/json-parsers-benchmark)

[https://github.com/RichardHightower/json-parsers-benchmark](https://github.com/RichardHightower/json-parsers-benchmark)

Boon and Jackson are close on a few. At times Boon is 4x faster. Mostly Boon wins. :) GSON is better than most at I/O, but Boon does best all around (and best at I/O), and it has an index overlay mode that is even faster (look at the second set.. the index overlay puts Boon way over the top).

[https://github.com/RichardHightower/boon](https://github.com/RichardHightower/boon)

I am bias. :)

But gatling is not, and the results are the same. Boon is wicked fast.

# java - 我想更新列表视图中的任何更改，但遇到错误 ANDROID

> ID：12276727
> 
> 赞同：0
> 
> 时间：2012-09-05T07:42:36.810
> 
> 标签：java, android, eclipse

我实现了一个 onResume() 方法，里面有一个刷新代码，我遇到了一个错误

**这是我的代码**

```
// After completing background task Dismiss the progress dialog
    protected void onPostExecute(String file_url) {
        // dismiss the dialog after getting all events
        pDialog.dismiss();
        // updating UI from Background Thread
        runOnUiThread(new Runnable() {
            public void run() {
                // Updating parsed JSON data into ListView
                adapter = new SimpleAdapter(BookmarkActivity.this,
                        eventsList, R.layout.bookmark_list, new String[] {
                                TAG_EID, TAG_ENAME, TAG_CNAME,
                                TAG_CREATED_AT }, new int[] { R.id.bk_eid,
                                R.id.bk_ename, R.id.bk_cname,
                                R.id.bk_created_at });
                // updating listView
                setListAdapter(adapter);
            }
        });
    }
public void onResume(){
    super.onResume();
    ((BaseAdapter) adapter).notifyDataSetChanged();
} 
```

**这是我的 logcat 错误**

```
09-05 07:39:36.223: E/AndroidRuntime(626): Caused by: java.lang.NullPointerException
09-05 07:39:36.223: E/AndroidRuntime(626):  at com.stts.sparetimetradingsystem.BookmarkActivity.onResume(BookmarkActivity.java:215)
09-05 07:39:36.223: E/AndroidRuntime(626):  at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1149)
09-05 07:39:36.223: E/AndroidRuntime(626):  at android.app.Activity.performResume(Activity.java:3823)
09-05 07:39:36.223: E/AndroidRuntime(626):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3118)
09-05 07:39:36.223: E/AndroidRuntime(626):  ... 12 more 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:45:56.993

在`((BaseAdapter) adapter).notifyDataSetChanged();`适配器对象中为空......在使用它之前添加一个适配器不为空的检查..

```
if(adapter != null)
    ((BaseAdapter) adapter).notifyDataSetChanged(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:46:24.083

**`onResume`在您的任务完成之前调用***问题！*****

 **在执行此之前

`((BaseAdapter) adapter).notifyDataSetChanged();`

检查适配器是否不为空

```
if(adapter!=null)
    ((BaseAdapter) adapter).notifyDataSetChanged(); 
```**

# vim - 如何在安装 Eclim 的同一端口上进行 vim ping？

> ID：12276734
> 
> 赞同：0
> 
> 时间：2012-09-05T07:42:44.703
> 
> 标签：vim, eclim

我的 .eclimrc 文件允许 eclim 守护进程使用 localhost 的端口 9091。但是在启动 Vim 时出现错误

```
unable to connect to eclimd (port: 9092) - connect: Connection refused 
```

在将 .eclimrc 端口更改为 9092 时，vim 开始在 9091 上执行 ping 操作。

可能的解决方案是什么？

这是我的 ~/.eclimrc 配置

```
# Bind eclimd to all interfaces 
nailgun.server.host=127.0.0.1

#Language Used
user.language=en

# Specifies the port that nailgun / eclimd listens on for client requests.
nailgun.server.port=9091

# Specifies the workspace directory to use
# See $ECLIPSE_HOME/configuration/config.ini for other osgi properties.
osgi.instance.area.default=@user.home/workspace_juno

# increase heap size
-Xms128M
-Xmx1024M

# increase perm gen size
-XX:PermSize=128m
-XX:MaxPermSize=512m 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:12:47.923

从[文档中](http://eclim.org/eclimd.html#multiple-workspaces)：

> ## 多个工作区
> 
> 可以通过运行多个 eclimd 实例来对多个 eclipse 工作区运行 eclim。您必须将每个实例配置为在唯一端口上运行 nailgun，并提供该实例要使用的工作空间的路径。一旦您的 eclimd 实例启动并运行，vim 客户端将根据您的上下文自动确定将请求发送到哪个服务器。在某些情况下，如果无法为您确定使用哪个工作空间，系统可能会提示您

链接页面显示了示例配置。

# php - 如何从下拉列表中在 PHP/MySQL 中插入数据？

> ID：12276735
> 
> 赞同：-2
> 
> 时间：2012-09-05T07:42:47.433
> 
> 标签：php, mysql

这是我的表格

```
<select name="gender" id="gender">
        <option>Select One</option>
        <option>Male</option>
        <option>Female</option>
</select> 
```

我想从列表中插入数据，插入新数据，以及当我编辑信息时

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:45:54.117

首先把这个选择放在html表单中给表单一些动作

```
 <form action ="register.php" name="myform" method = "POST">
    <select name="gender" id="gender">
            <option value="">Select One</option>
            <option value = "M">Male</option>
            <option value = "F">Female</option>
    </select>
</form> 
```

在您的 register.php 文件上使用它来获取选择值

`$gender = $_POST["gender"];` // 选择你的表单方法

建立数据库连接请参考一些教程（如果你不知道）

像这样写mysql插入命令

```
 $SQL = "INSERT INTO yourtable (gender) VALUES ('$gender')";

        mysql_real_escape_string($sql);
        $result = mysql_query($sql) or die (mysql_error()); 
```

现在您可以将此值插入到您的 mysql 或任何数据库表中

这未经测试

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:56:09.970

试试这个代码

```
<?php 

mysql_select_db("my_db", $con);
$gender = $_POST["gender"];
mysql_query("INSERT INTO table_name(gender) VALUES ($gender)");

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T08:00:04.813

查看**[PHP MySQL：使用 PHP 创建表单插入数据](http://www.phpeveryday.com/articles/PHP-MySQL-Creating-Form-Insert-Data-P280.html)**和**[处理表单数据](http://php.about.com/od/learnphp/ss/php_forms.htm)**。对初学者有用。

For your question you may either use `$_POST["gender"]` or `$_GET["gender"]` to grab dropdown data in your php file (to where the form targets or simply the php file inside your form `action ="your_php_file.php"`) according to the `method` of your form.

# asp.net - 在 HTML /ASP.NET 控件之间添加空格的良好做法

> ID：12276736
> 
> 赞同：3
> 
> 时间：2012-09-05T07:42:48.830
> 
> 标签：asp.net, html, controls

我现在正在寻找有关如何在 ASP.NET 或 HTML 中的控件之间添加空间的任何方法。目前我在我的表单上使用了很多只是为了在我的控件之间添加空间。

例如：

```
<table>
<tr>
<td>
        <asp:TextBox ID="textbo1" runat="server" Visible="true" Width="50px"></asp:TextBox>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 
</td>

<td>
         <asp:TextBox ID="textbox2" runat="server" Visible="true" Width="50px" ></asp:TextBox>
</td>
</tr>
</table> 
```

是否有这种或其他方式的良好做法。

感谢问候

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T07:45:45.347

你为什么不使用调用的 CssStyle 属性`"Paddding"`来帮助你

为你的情况使用`padding-right`

```
padding-right:10px; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T08:25:55.923

感谢您解决我的问题的帖子：

```
<table>
<tr>
<td>
        <asp:TextBox ID="textbo1" runat="server" Visible="true" Width="50px"></asp:TextBox>
</td>

  <td style="padding-left:110px;"> </td>

<td>
         <asp:TextBox ID="textbox2" runat="server" Visible="true" Width="50px" ></asp:TextBox>
</td>
</tr>
</table> 
```

再次感谢

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T07:45:04.610

使用*CSS*样式属性 -`padding`和`margin`.

```
.foo
{
  padding:10px 3px 4px 10px;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T07:48:35.627

您可以使用在 TD 上设置课程

例如。

```
 <style type="text/css">
.padl{padding-left:10px}
        </style>

<table>
<tr>
<td class="padl">
        <asp:TextBox ID="textbo1" runat="server" Visible="true" Width="50px"></asp:TextBox>
</td>

<td>
         <asp:TextBox ID="textbox2" runat="server" Visible="true" Width="50px" ></asp:TextBox>
</td>
</tr>
</table> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-05T07:49:51.017

您必须引入如下样式表并添加 30px 值以使您满意。样式表最好放在它自己的文件中，但也可以放在你的 html 中，如下所示。

```
<style type="text/css">
   input.withSpace
   {
       margin-right: 30px;
       margin-bottom: 30px;
   }

</style>

<table>
<tr>
<td>
        <asp:TextBox ID="textbo1" cssclass="withSpace" runat="server" Visible="true" Width="50px"></asp:TextBox>
</td>

<td>
         <asp:TextBox ID="textbox2" runat="server" Visible="true" Width="50px" ></asp:TextBox>
</td>
</tr>
</table> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-10-05T08:49:43.130

根据需要在 asp 标记和格式中使用样式

```
<table>
<tr>
<td>
<asp:TextBox ID="textbo1" runat="server" Visible="true" Width="50px"style="position:absolute;left:300px" ></asp:TextBox>
</td>
<td>
<asp:TextBox ID="textbox2" runat="server" Visible="true" Width="50px" ></asp:TextBox>
</td>
</tr>
</table> 
```

# c# - 使用 C# 在 Excel 中查找最后使用的行

> ID：12276745
> 
> 赞同：7
> 
> 时间：2012-09-05T07:43:16.700
> 
> 标签：c#, add-in, worksheet, excel

> **可能重复：**
> [如何获取excel工作表中占用单元格的范围](https://stackoverflow.com/questions/1284388/how-to-get-the-range-of-occupied-cells-in-excel-sheet)

我试图在 Excel 工作表中找到最后使用的行。为此，我正在使用以下代码：

```
int lastUsedRow = currentWS.Cells.SpecialCells(Excel.XlCellType.xlCellTypeLastCell,Type.Missing).Row; 
```

大多数情况下它工作正常，但有时 Excel 认为工作表中的行数比假设的要多。

Fx：如果我将包含 12 行的 sheet1 中的数据复制到空 sheet2，然后通过右键单击并按“删除...”删除 sheet2 中的所有数据，然后将包含 5 行的 sheet3 中的数据复制到 sheet2，然后lastUsedRow 会给我 12 的值，应该是 5。

![在此处输入图像描述](../Images/2270f5a824edd59c552fe40a88072f65.png) 上面的图像示例假设我的值为 22 作为行数，但我会得到 634。请注意右侧的滚动条。

即使我刚刚删除了所有单元格，Excel 似乎也认为某些单元格已被填充，然后将行数较少的新数据复制到工作表中。

有什么方法可以“调整”工作表中数据视图的大小，以便我获得正确数量的已使用单元格，或者以另一种方式查找最后使用的行数？

谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-05T08:36:24.770

## 编辑：新解决方案

由于乔提供了正确的代码来获取最后使用的行。

```
Worksheet.UsedRange.Row + Worksheet.UsedRange.Rows.Count - 1 
```

并使用以下命令清除内容和格式

```
Selection.Delete
Selection.ClearFormats 
```

这应该工作;）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-05T09:09:07.533

要获取工作表中最后使用的行，您可以使用：

```
Worksheet.UsedRange.Row + Worksheet.UsedRange.Rows.Count - 1 
```

注意：

*   UsedRange 不一定从第一行开始 - 第一行可能为空。

*   UsedRange 包括包含格式的单元格，即使它们的内容为空。我怀疑这就是为什么您看到的值比您预期的要大。您需要从空单元格中删除格式和数据。

> 我不确定如何以编程方式删除单元格上的格式

您可以使用`Range.ClearFormats`清除格式，或`Range.Clear`清除所有内容。一般来说，如果您不确定如何在 Excel 中以编程方式执行某些操作，请尝试录制宏，手动执行，然后检查生成的宏。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-05T10:41:53.587

这是我使用的代码：

```
public static string GetMinimalUsedRangeAddress(Excel.Worksheet sheet)
{
    string address = String.Empty;
    try
    {
        int rowMax = 0;
        int colMax = 0;

        Excel.Range usedRange = sheet.UsedRange;
        Excel.Range lastCell = usedRange.SpecialCells(Excel.XlCellType.xlCellTypeLastCell, Type.Missing);
        int lastRow = lastCell.Row;
        int lastCol = lastCell.Column;
        int rowMin = lastRow + 1;
        int colMin = lastCol + 1;

        int rr = usedRange.Rows.Count;
        int cc = usedRange.Columns.Count;
        for (int r = 1; r <= rr; r++)
        {
            for (int c = 1; c <= cc; c++)
            {
                Excel.Range cell = usedRange.Cells[r, c] as Excel.Range;
                if (cell != null && cell.Value != null && !String.IsNullOrEmpty(cell.Value.ToString()))
                {
                    if (cell.Row > rowMax)
                        rowMax = cell.Row;
                    if (cell.Column > colMax)
                        colMax = cell.Column;
                    if (cell.Row < rowMin)
                        rowMin = cell.Row;
                    if (cell.Column < colMin)
                        colMin = cell.Column;
                }
                MRCO(cell);
            }
        }

        if (!(rowMax == 0 || colMax == 0 || rowMin == lastRow + 1 || colMin == lastCol + 1))
            address = Cells2Address(rowMin, colMin, rowMax, colMax);

        MRCO(lastCell);
        MRCO(usedRange);
    }
    catch (Exception ex)
    {
        // log as needed
    }
    return address; // caller should test return for String.Empty
}

public static string Cells2Address(int row1, int col1, int row2, int col2)
{
    return ColNum2Letter(col1) + row1.ToString() + ":" + ColNum2Letter(col2) + row2.ToString();
}

public static string ColNum2Letter(int colNum)
{
    if (colNum <= 26) 
        return ((char)(colNum + 64)).ToString();

    colNum--; //decrement to put value on zero based index
    return ColNum2Letter(colNum / 26) + ColNum2Letter((colNum % 26) + 1);
}

public static void MRCO(object obj)
{
    if (obj == null) { return; }
    try
    {
        System.Runtime.InteropServices.Marshal.ReleaseComObject(obj);
    }
    catch
    {
        // ignore, cf: http://support.microsoft.com/default.aspx/kb/317109
    }
    finally
    {
        obj = null;
    }
} 
```

注意：您可能想要替换所有单个单元格值检查，`CountA`但在某些情况下会失败。例如，如果一个单元格包含公式`=IF(A1=55,"Y","")`，则生成的空字符串将使用 计算为非空白单元格`CountA`。

# c# - Visual Studio 中的大括号默认布局

> ID：12276749
> 
> 赞同：3
> 
> 时间：2012-09-05T07:43:28.990
> 
> 标签：c#, visual-studio-2010

创建条件语句或方法时，IDE 会跳转到：

```
 if (true)
      {
       //code here      
      } 
```

但我更喜欢以下更紧凑的风格（并且经常在教科书中使用）

```
 if (true) {
       //code here      
      } 
```

Visual Studio 中是否有更改默认样式的设置？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-05T07:46:03.327

转到`Tools`>`Options`在顶部菜单栏中。

在左侧面板中，转到`Text Editor`> `C#`> `Code Style`> `Formatting`> `New Lines`。

块的选项`if`是`Place open brace on new line for control blocks`，但您可能也想为其他类型的块更改它。你可能还想改变`Place "else" on new line`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T07:46:14.013

工具 > 选项 > 文本编辑器 > C# > 新行 > 在新行上放置大括号...

# ruby-on-rails-3 - 如何让用户输入下拉列表中未列出的值？

> ID：12276751
> 
> 赞同：0
> 
> 时间：2012-09-05T07:43:33.860
> 
> 标签：ruby-on-rails-3, forms

这确实是一个“最佳实践”问题：假设我有一个动态生成的下拉列表，其中填充了建议值（例如 [Vanilla, Strawberry, Chocolate]）。如何让用户选择建议值之一或输入新值（例如“Rocky Road”）？

一种方法是使用“以上都没有”条目（[香草，草莓，巧克力，以上都没有]）填充列表并编写我的控制器，以便如果选择“以上都没有”，它将呈现一个带有一个文本字段而不是下拉菜单。但这感觉非常笨拙。

这类事情是否有一些优雅的 GUI 技术，也许使用 JQuery？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:59:44.330

我建议您使用带有 jquery autocomplate 插件的简单文本输入，不要使用下拉列表。Autocomplate 可以处理您填充的数据。如果用户输入一个新值，在控制器中使用 find_or_create_by 动态 activerecord 方法。

# vb.net - 尝试将多个系列绑定到 MS Chart 时出现 ArgumentOutOfRangeException

> ID：12276754
> 
> 赞同：0
> 
> 时间：2012-09-05T07:43:45.700
> 
> 标签：vb.net, visual-studio-2010, data-binding, mschart

我正在尝试将 a`DataTable`与 MS Chart 绑定。图表包含两个系列，即`DataTable`. 我在 Visual Studio 2010 中使用 VB。这是我的代码：

```
Public tableTempJDL As DataTable = New DataTable("TempJDL")    
'tableTempJDL is then filled

With Me.ChartBHKW
    .DataSource = tableTempJDL

    .Series(0).Name = oGebäude.Art
    .Series(0).ChartType = DataVisualization.Charting.SeriesChartType.Spline
    .Series(1).Name = oBHKW.Modell
    .Series(1).ChartType = DataVisualization.Charting.SeriesChartType.Spline

    .Series(0).XValueMember = Convert.ToString(tableTempJDL.Columns("Stunden"))
    .Series(0).YValueMembers = Convert.ToString(tableTempJDL.Columns("PthObjekt"))

    .Series(1).XValueMember = Convert.ToString(tableTempJDL.Columns("Stunden"))
    .Series(1).YValueMembers = Convert.ToString(tableTempJDL.Columns("PthBHKW"))

    .DataBind() '<-- ArgumentOutOfRangeException
End With 
```

我收到一个`ArgumentOutOfRangeException`错误：“只能为此数据系列设置 1 个 Y 值”。即使[我的图表设置中有两个系列也是](https://stackoverflow.com/questions/4231547/how-do-i-graph-multiple-columns-on-the-y-axis-ms-chart-controls)如此。

我想避免自己[构建图表](https://stackoverflow.com/questions/5887292/asp-net-mvc-3-mschart-error-only-1-y-values-can-be-set-for-this-data-series)，我真的需要两个系列，而不是[每个 XValue 的两个点](http://social.msdn.microsoft.com/Forums/en/MSWinWebChart/thread/5caa51ae-9f5f-4c77-a272-33f837bbf8d1)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T15:14:34.453

代码实际上完全没问题，除了“PthObjekt”列不存在。

我只是觉得奇怪的是在 DataBind 上收到一个错误，说我不能有一个以上的系列，而不是一行错误

```
.Series(0).YValueMembers = Convert.ToString(tableTempJDL.Columns("PthObjekt")) 
```

我不明白如何在没有错误的情况下执行这条线......无论如何。

# character-encoding - 基于每个文件或每个扩展名更改编码

> ID：12276757
> 
> 赞同：17
> 
> 时间：2012-09-05T07:44:07.853
> 
> 标签：character-encoding, visual-studio-2012, visual-studio-express

我正在使用 Microsoft Visual Studio Express 2012 for Web。似乎我用它打开的每个文件都被编码为 UTF-8。对于将要面向 Web 的大多数文件，这很好。但是，我的项目中有专门用于构建目的的文件（例如，**.bat**文件），这些文件必须以 ANSI 编码。

VS 中是否有任何配置设置可以指定每个文件或每个扩展名的编码？或者，如果不指定编码，至少禁用自动转换为 UTF-8？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-08-28T01:40:40.670

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-09-05T16:58:03.613

*可以在“选项”对话框中配置在每次打开*的基础上处理给定扩展名的所有文件编码的选项。[请参阅有关选项、文本编辑器、文件扩展](http://msdn.microsoft.com/en-us/library/4k7w5e5s.aspx)名的 MSDN 页面。

导航到**工具 > 选项 > 文本编辑器 > 文件扩展名**。

对于**bat**扩展，我选择了**Source Code (Text) Editor with Encoding**。*with Encoding*部分意味着用户将获得关于在打开文件时使用何种编码的选项。此模式下的默认值为**Auto-detect**，它保留 ANSI 编码（如果文件已使用该编码）。否则，可以为单个文件明确指定它。

不幸的是，它似乎不记得上次打开文件时使用的设置，因此*每次*打开文件时都会提示输入编码设置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-12T17:21:27.473

我也遇到了宽度 VS studio 2012 的代码转换问题。即，我的 .js 文件中的字符串中有不符合 ansi 的字符，并且不可读的字符被输出到浏览器的 html 页面。 **我发现接受脚本文件（如 .js）VS 2012 会在 UTF-8 中创建所有文件。** **问题在于以下建议更改选项对话框中的默认值导致语法突出显示和 intelisense 停止在所有 .js 文件中工作。** 所以我的解决方法是我**将我的 .js 文件与 notepad++ 转换为没有 BOM 的 utf-8。** 通过这种方式，我的“不寻常”字符在浏览器中显示得很好，并且 intelisense 也可以正常工作。

# mysql - 删除语句挂起

> ID：12276759
> 
> 赞同：3
> 
> 时间：2012-09-05T07:44:21.613
> 
> 标签：mysql, sql-delete

此语句“挂起”服务器：

`DELETE FROM StockPositions WHERE machineName LIKE 'P%';`

和

`DELETE FROM StockPositions WHERE machineName LIKE 'P%' LIMIT 1;`

***编辑：*** *这确实有效！失败时我会继续测试。无论如何，我倾向于某种锁定问题......*

相应的`SELECT`- 语句按预期工作（返回 500 行）。

此语句工作正常：

`DELETE FROM StockPositions WHERE ID = 5226;`

*   没有外键级联表删除。编辑：错了！请看下面我的回答。
*   没有触发器。
*   没有锁（显然）。
*   没有想法。

任何想法要寻找什么？

*（不要惊慌——我可以通过变通方法解决这个问题，但我真的很想知道发生了什么！）*

***编辑：***

```
CREATE TABLE `StockPositions` (
   `ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
   `isEnabled` tinyint(1) DEFAULT NULL,
   `readableName` varchar(32) NOT NULL,
   `machineName` varchar(32) NOT NULL,
   `longName` varchar(64) DEFAULT NULL,
   `accessibilityLevel` int(10) unsigned NOT NULL,
   `storey` char(1) DEFAULT NULL,
   `lengthX` decimal(10,3) unsigned DEFAULT NULL,
   `lengthY` decimal(10,3) unsigned DEFAULT NULL,
   `lengthZ` decimal(10,3) unsigned DEFAULT NULL,
   `positionType` varchar(50) DEFAULT NULL,
   `type` int(11) DEFAULT NULL,
   `frequency` int(11) DEFAULT NULL,
   `module` varchar(10) DEFAULT NULL,
   `prioritized` tinyint(4) DEFAULT NULL,
   `aisleID` int(10) DEFAULT NULL,
   PRIMARY KEY (`ID`),
   UNIQUE KEY `readableName` (`readableName`),
   UNIQUE KEY `machineName` (`machineName`)
) ENGINE=InnoDB AUTO_INCREMENT=11820 DEFAULT CHARSET=utf8 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:28:34.323

对不起！* 脸红 * DELETE CASCADE 在*子*表（不是父表）中找到。很高兴知道。感谢您的时间和精力！

# android - 在 android 中对齐 RadioGroup（由代码创建）中的 RadioButtons

> ID：12276761
> 
> 赞同：1
> 
> 时间：2012-09-05T07:44:32.187
> 
> 标签：android, radio-button, alignment, radio-group

在我的应用程序中，我需要通过代码创建一个`RadioGroup`2 `RadioButtons`。我需要将 RadioButtons 内部对齐`RadioGroup`，一个在左侧，另一个在`RadioGruop`. 我知道如果我将单选按钮添加到 LinearLayout 这些将解决这个问题，但在这种情况下 RadioGroup 的属性，一次只检查一个 RadioButton 不再可用。这是我的代码：

```
 TableRow.LayoutParams lp_radio1 = new TableRow.LayoutParams(
                                                TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT);
TableRow.LayoutParams lp_radio2 = new TableRow.LayoutParams(
                                                TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT);
TableRow.LayoutParams lp_radiogr = new TableRow.LayoutParams(
                                                width, height);
    lp_radio1.setMargins(left, left, top2, 0);
    lp_radio1.gravity=Gravity.LEFT;
    lp_radio1.weight=1;
    lp_radio2.setMargins(left, left, top2, 0);
    lp_radio2.gravity=Gravity.RIGHT;
    lp_radio2.weight=1; 
```

* * *

```
 product_radiogroup = new RadioGroup(viewToLoad.getContext()); 
           product_radiogroup.setLayoutParams(lp_radiogr);                                             product_radiogroup.setOrientation(RadioGroup.HORIZONTAL);                                   product_radiogroup.setBackgroundResource(R.drawable.radio_group_background);
    product_radiobuttonYES = new RadioButton(viewToLoad.getContext());
    product_radiobuttonYES.setLayoutParams(lp_radio1); 

product_radiobuttonYES.setTextColor(R.color.medium_gray);        
    product_radiobuttonNO = new RadioButton(viewToLoad.getContext());
    product_radiobuttonNO.setLayoutParams(lp_radio2);
    product_radiobuttonNO.setTextColor(R.color.medium_gray);
    product_radiogroup.addView(product_radiobuttonYES);
    product_radiogroup.addView(product_radiobuttonNO); 
```

这是我的结果：

![在此处输入图像描述](../Images/b354ba0d1c9c1583b0ae9ca56c066ca4.png)

有谁知道如何解决这个问题？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:21:45.303

我不认为这个解决方案是一个很好的解决方案，但既然你知道你的确切`width`和，只需将`height`你的设置设置为而不是和其他属性，例如和打开并且可以删除。`radiogroup``width``radiobutton``width/2``wrap_content``weight``gravity``lp_radio1``lp_radio2`

# c# - ASP:Net 中继器控件上的 ClientSideEvents

> ID：12276764
> 
> 赞同：1
> 
> 时间：2012-09-05T07:44:46.273
> 
> 标签：c#, asp.net, repeater

我正在中继器中创建一个文本框控件。这是.cs代码：

```
if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)
{
    Est estimationItem = (Est)e.Item.DataItem;
    TextBox txtWeekly = (TextBox)e.Item.FindControl("txtWeekly");
    txtWeekly.Text = estimationItem.SMEst.ToString();   
} 
```

这是 .aspx 代码：

```
<asp:Repeater ID="WeeklyEst" OnItemDataBound="WeeklyEst_ItemDataBound" runat="server">
    <HeaderTemplate>
        <table>
           <tr>
     </HeaderTemplate>
     <ItemTemplate>
         <td>
              <asp:TextBox ID="txtWeekly" runat="server">  
                 <ClientSideEvents OnTextChanged="function(s, e) { alert('AlertIsHere!');}" />
              </asp:TextBox>
         </td>
     </ItemTemplate>
     <FooterTemplate>
             <td>
             </td>
          </tr> 
        </table>
     </FooterTemplate>
</asp:Repeater> 
```

我想做的是在文本框中的文本更改时发出警报。我怎样才能做到这一点？CliendSideEvent 在另一个文本框上触发，但在中继器控制中，它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:53:54.470

使用Repeater控件的ItemDataBound事件，你可以这样做......，如果我理解正确的话

```
protected void myRepeater_ItemDataBound(object sender, RepeaterItemEventArgs e)
    {
        if(e.Item.ItemType == ListItemType.Item)
        {
            TextBox mytxt = e.Item.FindControl("txtWeekly") as TextBox;
            // you can just pass "this" instead of "mytxt.ClientID" and get the ID from the DOM element
            mytxt.Attributes.Add("onchange", "doStuff('" + mytxt.ClientID + "');");
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:59:25.300

如果您不想在代码隐藏中执行此操作，则可以使用 jquery，这会容易得多

$('.txtbox').change(function() { alert($(this).val()); });

只需将 cssclass 'txtbox' 给您的文本框。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T09:08:50.447

**这种不显眼的方法**怎么样

 **```
<head runat="server">
    <title></title>
    <script type="text/javascript" src="js/jquery-1.7.1.js" ></script>
    <script type="text/javascript">
        $(document).ready(function () {
            // select all input text ending with txtWeekly as repeater control
            // will create something like rptWeeklyEst$ctl00$txtWeekly
            $('input[name$="txtWeekly"][type=text]').change(function () {
                alert('textbox changed to ' + $(this).val());
            });
        });
    </script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
        <asp:Repeater ID="rptWeeklyEst" runat="server">
            <ItemTemplate>
                <asp:TextBox ID="txtWeekly" runat="server"></asp:TextBox>
            </ItemTemplate>
        </asp:Repeater>
        <br />
        Nope
        <asp:TextBox ID="txtNope" runat="server"></asp:TextBox>
    </div>
    </form>
</body> 
```**

# python - 沿任意轴切片

> ID：12276767
> 
> 赞同：6
> 
> 时间：2012-09-05T07:44:52.657
> 
> 标签：python, numpy, indexing

我有一个 numpy 数组`A`，这样

```
A.shape[axis] = n+1. 
```

现在我想通过选择索引和分别沿轴来构造两个切片`B`和`C`。因此`A``0, .., n-1``1, ..., n``axis`

```
B.shape[axis] = C.shape[axis] = n 
```

并且`B`和具有与其他轴`C`相同的大小。`A`不得复制数据。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-05T08:07:50.377

```
# exemple data
A = np.random.rand(2, 3, 4, 5)
axis = 2
n = A.ndim
# building n-dimensional slice
s = [slice(None), ] * n
s[axis] = slice(0, n - 1)
B = A[s]
s[axis] = slice(1, n)
C = A[s] 
```

单线：

```
B = A[[slice(None) if i != axis else slice(0, n-1) for i in xrange(n)]]
C = A[[slice(None) if i != axis else slice(1, n) for i in xrange(n)]] 
```

# php - 邮件功能中的字体错误

> ID：12276769
> 
> 赞同：0
> 
> 时间：2012-09-05T07:45:06.320
> 
> 标签：php, email

> **可能重复：**
> [如何通过 PHP 的邮件功能发送包含阿拉伯语内容的电子邮件？](https://stackoverflow.com/questions/2334935/how-do-i-send-emails-with-arabic-content-via-phps-mail-function)

我正在使用功能发送电子邮件，但如果用阿拉伯语发送消息，我会遇到问题！文本将是这样的： `ãÑÍÈÇ \\r\\nßíÝß \\r\\nÃäÇ ÇÍãÏ`

```
function send_mail($to,$from,$title,$msg){
    /*
    function name : send_mail
     date          : 20.06.2009 09:38:29
    */

    $headers="from:$from";

    $subject=$title;

    if( mail($to,$subject,$msg,$headers) ){
        return true;
    }else{
        return false;
    }    
} 
```

如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:49:33.090

这可能是内容传输的问题

```
use base64_encode as Content-Transfer-Encoding: Base64 

$headers .= 'Content-Transfer-Encoding: Base64 '."\r\n"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:49:58.423

您是否将邮件标头中的字符集编码设置为`UTF8`，而不是我更喜欢使用库[PHPMailer](http://phpmailer.worxware.com/)

# android - Android SAXParser 剩菜剩饭

> ID：12276770
> 
> 赞同：0
> 
> 时间：2012-09-05T07:45:18.197
> 
> 标签：android, saxparser, duplication

我有一个使用 SAXParser 解析 XML 的 Android 应用程序。一切都很好，除了一些被复制和修剪的文本。例如：“去做吧，即使你不知道怎么做！” 变成“不知道怎么做！”

这是 DefaultHandler 代码。10倍！

```
DefaultHandler handler = new DefaultHandler()
    {
        Praise praise;
        String elementValue = null;
        Boolean elementOn = false;

        @Override
        public void startElement(String uri, String localName, String qName,
            Attributes attributes) throws SAXException
        {

            if (localName.equals("praise"))
            {
                praise = new Praise();
                elementOn = true;
            }
        }

        @Override
        public void endElement(String uri, String localName, String qName) throws SAXException
        {

            // elementOn = false;

            if (localName.equals("PRAISE_TEXT"))
            {
                praise.setPraiseText(elementValue);
            }
            if (localName.equals("MOOD"))
            {
                praise.setMood(elementValue);
            }
            if (localName.equals("RATING"))
            {
                praise.setRating(Integer.valueOf(elementValue));
            }
            if (localName.equals("praise"))
            {
                elementOn = false;
                if (update)
                {
                    if (database.getPraiseByText(praise.getPraiseText(), db) == null)
                    {
                        database.addPraise(db, praise.getPraiseText(), praise.getMood(),
                            Integer.valueOf(praise.getRating()));
                    }
                }
                else
                    database.addPraise(db, praise.getPraiseText(), praise.getMood(),
                        Integer.valueOf(praise.getRating()));
            }
        }

        @Override
        public void characters(char[] ch, int start, int length) throws SAXException
        {
            // StringBuffer b = new StringBuffer();
            if (elementOn)
            {
                elementValue = new String(ch, start, length);}}}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:58:19.153

在 SaxParsing 中，您不能保证`characters`只会被调用一次！

为此，您应该将收到的所有字符与相同的元素连接起来

这只是您的代码，稍作修改。您应该使用`StringBuilder`而不是使用 String (:

```
DefaultHandler handler = new DefaultHandler()
    {
        Praise praise;
        String elementValue = null;
        Boolean elementOn = false;

        @Override
        public void startElement(String uri, String localName, String qName,
            Attributes attributes) throws SAXException
        {
            elementValue = new String();

            if (localName.equals("praise"))
            {
                praise = new Praise();
                elementOn = true;
            }
        }

        @Override
        public void endElement(String uri, String localName, String qName) throws SAXException
        {
            if (localName.equals("PRAISE_TEXT"))
            {
                praise.setPraiseText(elementValue);
            }
            if (localName.equals("MOOD"))
            {
                praise.setMood(elementValue);
            }
            if (localName.equals("RATING"))
            {
                praise.setRating(Integer.valueOf(elementValue));
            }
            if (localName.equals("praise"))
            {
                elementOn = false;
                if (update)
                {
                    if (database.getPraiseByText(praise.getPraiseText(), db) == null)
                    {
                        database.addPraise(db, praise.getPraiseText(), praise.getMood(),
                            Integer.valueOf(praise.getRating()));
                    }
                }
                else
                    database.addPraise(db, praise.getPraiseText(), praise.getMood(),
                        Integer.valueOf(praise.getRating()));
            }
        }

        @Override
        public void characters(char[] ch, int start, int length) throws SAXException
        {
            // StringBuffer b = new StringBuffer();
            if (elementOn)
            {
                elementValue = elementValue + new String(ch, start, length);
            }
        }
    }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:59:16.107

这个问题经常出现在 SaxParsing 中。实际的问题是它用“/n”打破了字符串，只有字符串的最后一部分可供我们使用。现在找到解决方案，为标签（包含问题或全部）采用不同的布尔值。

在 startElement 方法中，将相关布尔值设为 true。

```
if (localName.equals("PRAISE_TEXT"))
{
  isPrase= true'
  praise.setPraiseText(elementValue);
} 
```

在 endElemet 方法中使相关的布尔值为 false。

```
if (localName.equals("PRAISE_TEXT"))
{
  isPrase= false;
  praise.setPraiseText(elementValue);
} 
```

在字符方法中检查布尔值，如下所示：

```
if(isPrase)
{
 elementValue = new String(ch, start, length);}}};

} 
```

# wcf - 对于那些具有“xxx”类型的对象图的人包含循环

> ID：12276775
> 
> 赞同：2
> 
> 时间：2012-09-05T07:45:33.483
> 
> 标签：wcf

这比其他任何事情都更像是一种共享知识。不确定我是否应该提出这个问题。

所以我有以下错误的多个问题`Object graph for type 'xxx' contains cycles`

互联网上有很多方法可以修复它，例如添加`IsReference=true`属性、创建自己的自定义属性等。

对我来说，我发现最简单的方法是让子父对象拥有一个私有设置器。

IE。

```
public ParentObject objectName { get; private set; } 
```

更深入的例子。

```
public class Parent()
{
    public Guid ID { get; set; }
    public string Name { get; set; }
}

public class Child()
{
    public Guid ID { get; set; }
    public Parent Parent { get; private set; }
    public int ChildProp { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:48:06.883

我会把这篇文章的正确答案（绿色）归功于帮助我解决这个问题。

[http://forums.asp.net](http://forums.asp.net/t/1773164.aspx/1)

# database - 一个属性可以有两个外键吗？

> ID：12276777
> 
> 赞同：3
> 
> 时间：2012-09-05T07:45:36.893
> 
> 标签：database, attributes, foreign-keys, relational

只是做一些关系数据库工作。快速提问，一个属性可以有两个外键吗？

例如，这是否合法：

PERSONAL_RECORDS.Date_of_birth 在 CASUAL.Date_of_birth 中有一个外键，在 MANAGER.Date_of_birth 中有一个外键

基本上，一个属性可以具有来自其他两个属性的外键吗？

先感谢您！:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:13:36.453

单个列可以引用多个表。

```
create table t1 (
  t1_id integer primary key
);

create table t2 (
  t2_id integer primary key
);

create table t3 (
  t3_id integer primary key,
  foreign key (t3_id) references t1 (t1_id),
  foreign key (t3_id) references t2 (t2_id)
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:01:41.277

实际上，棘手的问题，我会读一下：http [://office.microsoft.com/en-us/access-help/design-the-tables-for-a-new-database-RZ101772996.aspx](http://office.microsoft.com/en-us/access-help/design-the-tables-for-a-new-database-RZ101772996.aspx?section=9) ?section=9有关该主题的更多信息。从我在学校的长椅上回忆，这是不可能的。但可能有办法做到这一点？

[单个表的多个外键和指向多个表的单个键](https://stackoverflow.com/questions/11237403/multiple-foreign-keys-to-a-single-table-and-single-key-pointing-to-more-than-one)也对此进行了一些详细说明。

祝你好运:)

# javascript - jQuery 是否在内部缓存元素？

> ID：12276787
> 
> 赞同：4
> 
> 时间：2012-09-05T07:46:20.310
> 
> 标签：javascript, jquery, performance, caching, css-selectors

我知道 jQuery 不缓存元素集合，f.ex 调用：

```
$('.myclass').html('hello');
$('.myclass').html('bye'); 
```

会让 jQuery 爬上 DOM 两次。

但是缓存的 DOM 节点呢？

```
var elems = document.querySelectorAll('.myclass');

$(elems).html('hello');
$(elems).html('bye'); 
```

jQuery 会在内部缓存这些内容，还是会像第一个示例一样慢？

**澄清**一下：jQuery 是否会在内部保留对的引用`elems`和缓存`$(elems)`，这样就不必`$()`每次都应用相同的包装器？

就像是：

```
cache = {}
constructor = function(collection)
    if collection in cache
        return cache[collection]
    else construct(collection) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-05T07:55:38.530

假设我已经正确理解了您的问题，那么不，jQuery 不会在使用它们的语句之外保留对选定节点的引用：

```
$('.myclass').html('hello'); //Select all .myclass elements, then change their HTML
$('.myclass').html('bye'); //Select all .myclass elements, then change their HTML again 
```

如果您单独维护对这些选定节点的引用，它会更快：

```
var elems = document.querySelectorAll('.myclass'); //Select all .myclass elements
$(elems).html('hello'); //Change their HTML (no need to select them)
$(elems).html('bye'); //Change their HTML (no need to select them) 
```

差异不会很大（除非您的 DOM 非常复杂），但会有[差异](http://jsperf.com/jquery-cached-selector)：

![在此处输入图像描述](../Images/121f4795413e656eeb2b1cc3d7e5509a.png)

* * *

**更新**

> jQuery 是否会保留对 elems 的引用并在内部缓存 $(elems) 以便不必每次都应用相同的 $() 包装器？

不，不会的。如上所述，对匹配的元素集的引用将不会保留在其适用的语句之外。您可以通过保留对始终使用的 jQuery 对象的引用来提高代码的性能，而不是每次都重新选择它们，甚至每次都将一组存储的本地 DOM 节点包装在一个 jQuery 对象中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:54:02.120

*如果“缓存”的意思是“将 DOM 元素保留在该*jQuery 对象的内部集合中”......那么是的。

想象

```
jq = $(elementListOrSelector) 
```

其中`jq[0..jq.length-1]`计算分别为 DOM 元素。例如，`jq[0]`计算 jQuery 对象表示的第一个 DOM 元素（如果有）。请注意，此集合在构建后*不会神奇地更改*（构建方式无关紧要）。

*然而，除了简单地保留该特定*jQuery 对象的即时结果之外，没有“缓存” 。

# c# - 此列表中有哪些不正确之处 ?

> ID：12276788
> 
> 赞同：1
> 
> 时间：2012-09-05T07:46:21.310
> 
> 标签：c#, .net, list, declaration

这似乎是正确的：

```
IList<IList<string>> MyList = new List<IList<string>>();
IList<string> List_Temp = new List<string>();
MyList .Add(List_Temp ); 
```

这似乎不正确：

```
IList<List<string>> MyList = new List<List<string>>();
IList<string> List_Temp = new List<string>();
MyList .Add(List_Temp ); 
```

为什么第二个不正确？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-05T07:48:20.563

因为您正在尝试添加一些`IList`实现而不是`List`类，这是定义的要求 - IList< **List** >。看这个：

```
IList<List<string>> MyList = new List<List<string>>();
IList<string> List_Temp = new Collection<string>(); // ooops!
MyList .Add(List_Temp ); 
```

示例的第二行是正确的，因为`Collection<T>`implements `IList<T>`，但第三行是不正确的，因为`Collection<T>`不继承`List<T>`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-05T07:48:48.690

`MyList`包含 type 的元素，`List<string>`但您正在尝试添加 type 的元素`IList<string>`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T07:51:02.103

编译器说它不能`"System.Collections.Generic.IList<string>"`转换为`"System.Collections.Generic.List<string>"`;

`List<T>`定义如下：

```
public class List<T> : IList<T>, ICollection<T>, IEnumerable<T>, IList, ICollection, IEnumerable 
```

虽然`IList<T>`是

```
public interface IList<T> : ICollection<T>, IEnumerable<T>, IEnumerable 
```

因此，`List<T>`可以转换为`IList<T>`. 反之亦然。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T07:53:03.337

每次添加到列表时，对象类型都应该相同，您的 mylist 列表对象类型是列表，并且您曾经在其中添加 iList

# java - 记录仪无法正常工作

> ID：12276794
> 
> 赞同：1
> 
> 时间：2012-09-05T07:46:29.847
> 
> 标签：java, logging

我正在使用`java.util.logging.Logger`Class 登录我的应用程序。我添加了 FileHandler，以便应用程序日志直接存储在 log.txt 文件中。

但由于某种原因，应用程序终止后，日志还远未完成。在 cmd 上，我可以看到所有语句，但它们从未附加到文件中。

我已通过以下方式将 FileHandler 设置为 Logger：

```
private void setLogger() {
    try {
        FileHandler hand = new FileHandler("log/log.txt", true);
        hand.setFormatter(new SimpleFormatter());
        Logger log = Logger.getLogger(ImageRename.MAIN_LOG);
        //log.setUseParentHandlers(false);
        log.addHandler(hand);
        log.setLevel(Level.ALL);          
    } catch (IOException e) {
        System.out.println("Could Not set logger");
    }
} 
```

冲洗有问题吗？如何解决？谢谢。

PS：在调试时，我注意到介于两者之间

> Logger.getLogger(ImageRename.MAIN_LOG).getHandlers().length

返回 0。它应该返回 1。最初它打印 1，但在某处它变成了零。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T08:34:17.747

问题是......**垃圾收集**。

发生的情况可能如下：

1.  你打电话`Logger.getLogger(ImageRename.MAIN_LOG);`
2.  您设置了记录器。
3.  Java 注意到它未被引用，并丢弃它。
4.  您打电话`Logger.getLogger(ImageRename.MAIN_LOG);`并期望得到相同的记录器。
5.  使用默认配置设置*新的记录器。*

您可以通过两种措施避免这种情况：

*   使用配置文件`logging.properties`进行配置。创建记录器时，Java 记录 API 将参考配置，从而适当地重新创建它。
*   使用静态引用。无论如何，这是一个最佳实践。为每个类配备一个记录器：

    ```
    private final static Logger LOG =
        Logger.getLogger(ExampleClass.class.getName()); 
    ```

当类被加载时，它不应该被垃圾收集 AFAICT。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:59:42.087

例如，请参见[http://www.massapi.com/class/fi/FileHandler.html](http://www.massapi.com/class/fi/FileHandler.html)示例（通过 Google 找到）

请注意以下行，这可能是您的问题：

```
fileHandler.setLevel(Level.ALL); 
```

（注意：这是 的级别，而`Handler`不是`Logger`or 消息的级别。）

对于调试，首先尝试在`ERROR`记录的级别获取消息。`INFO`默认情况下，通常会抑制级别及以下级别的消息。

也尝试尽快设置日志记录级别。根据我的经验，配置 Java 日志记录最可靠的方法是使用属性文件，并通过以下方式调用 Java：

```
-Djava.util.logging.config.file=path/to/file/logging.properties 
```

原因是您所做的设置有时*不会*应用于在加载设置*之前*创建的记录器，一旦对日志记录进行了一些更改。

# java - 如何从在 OS X、Java 7 上运行的 Java .app 包中访问资源文件？

> ID：12276795
> 
> 赞同：3
> 
> 时间：2012-09-05T07:46:34.277
> 
> 标签：java, macos, java-7, resource-files, app-bundle

请注意，我说的是 Java 7，因为自 Java 6 以来，Java .app 包的 info.plist 规范似乎发生了一些变化。

目前我的代码如下所示：

```
 File file = new File( "documentation/index.html" );
  if (file.exists()) {
      // opens the URI in the browser
      GUIUtils.openURI( file.toURI() );
  } else {
      // opens the URI in the browser
      GUIUtils.openURI( getClass().getResource( "/documentation/index.html" ).toURI() );
  } 
```

在`Java`应用程序包的子文件夹中，我有一个“文档”子文件夹。我尝试了多种方法，但无济于事：

*   在 info.plist 中，将工作目录设置为 Java 文件夹（具有`-Duser.dir`JVMArgument 属性） - 该文件看似具有正确的路径，但`file.exists()`返回 false。
*   试图将 ClassPath 设置为 Java 文件夹。（`getClass().getResource()`仍然返回 null）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T09:52:30.197

如果您准备使用`com.apple`扩展，`com.apple.eio.FileManager.getPathToApplicationBundle()`将为您提供包的基本路径，然后您可以创建一个`File`相对路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-29T01:13:28.317

从 Java 9 开始，`com.apple`无法访问。

Java 9 使用模块来导出（和公开）包，因此`com.apple`现在不可用且已弃用。据此[，](http://openjdk.java.net/jeps/272)应该提供类似的`java.awt`API 功能。

只是想提供此更新，因为我在接受的答案后遇到了这个问题。

`System.getenv("LOCALAPPDATA")`可作为获取应用程序环境的选项。

# postsharp - PostSharp 拦截类构造函数和析构函数调用

> ID：12276802
> 
> 赞同：3
> 
> 时间：2012-09-05T07:46:52.983
> 
> 标签：postsharp

是否可以使用 PostSharp 拦截类构造函数和析构函数调用？我想为类创建活动实例计数器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:31:58.110

您可以在构造函数和析构函数上使用 OnMethodBoundaryAspect。请注意，在 C# 和 VB 中默认情况下类没有析构函数，并且析构函数在不确定的时刻被调用。

请记住，构造函数可以在链中调用，并且方面将应用于链中的每个构造函数。

# javascript - type=text/javascript 和 language=javascript 之间的区别

> ID：12276803
> 
> 赞同：1
> 
> 时间：2012-09-05T07:47:09.803
> 
> 标签：javascript, jquery, types, connection

基本上这是个问题。这两个语句之间的区别是：

语

```
<script language="javascript" src="_js/calendar/calendar.js"></script> 
```

文本/javascript

```
<script type="text/javascript" src="_js/calendar/calendar.js"></script> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-05T07:50:25.943

根据[HTML 4.01 规范](http://www.w3.org/TR/html4/interact/scripts.html#h-18.2.1)：

> **type**：此属性指定元素内容的脚本语言并覆盖默认脚本语言。脚本语言被指定为内容类型（例如，“text/javascript”）。作者必须为此属性提供一个值。此属性没有默认值。
> 
> **语言**：已弃用。此属性指定此元素内容的脚本语言。它的值是语言的标识符，但由于这些标识符不是标准的，因此该属性已被弃用，取而代之的是类型。

语言通常用于指示您的脚本所需的 Javascript*版本。*支持语言属性的浏览器不会加载或运行不支持的脚本。唯一的用途是如果您有关键的 Javascript 功能，您需要旧浏览器的解决方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-05T07:48:42.453

这`language = JavaScript`表明语言格式化和错误检查将基于 JavaScript 标准。唯一的`type = text/javascript`建议是内部内容的格式将是 JavaScript 形式的文本。

但`language = JavaScript`无论如何都已弃用，所以不用担心。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T07:52:34.027

看看[W3.org](http://www.w3.org/TR/html4/interact/scripts.html) `language`应该已被弃用或删除：

```
<!ELEMENT SCRIPT - - %Script;          -- script statements -->
<!ATTLIST SCRIPT
  charset     %Charset;      #IMPLIED  -- char encoding of linked resource --
  type        %ContentType;  #REQUIRED -- content type of script language --
  src         %URI;          #IMPLIED  -- URI for an external script --
  defer       (defer)        #IMPLIED  -- UA may defer execution of script --
  > 
```

# sharepoint - SharePoint 2007 列出具有不同显示名称的列名称

> ID：12276804
> 
> 赞同：1
> 
> 时间：2012-09-05T07:47:16.497
> 
> 标签：sharepoint

我对使用 SharePoint 很陌生。我创建了一个自定义列表，用作 Access 中的链接表。由于访问数据库预先存在，我需要我的 SharePoint 列表中的列名与访问数据库中的列名相匹配，否则我的所有报告和查询等都将不起作用。

有没有办法为我的 SharePoint 列表中的列设置单独的显示名称。

例如，列名当前类似于“Innov_Desc”，这对用户不友好。例如，当用户添加“新项目”时，我需要显示“描述”。

任何帮助将不胜感激。

谢谢

德里克

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T09:32:12.843

如果您尝试从用户界面（从设置）进行此更改，恐怕这是不可能的。您必须在代码中进行此更改。

请检查下面的链接以大致了解命名列时所涉及的内容：

*   [查找列表列的内部名称和显示名称](https://sharepoint.stackexchange.com/questions/787/finding-the-internal-name-and-display-name-for-a-list-column)
*   [SharePoint 列/字段显示名称与内部名称](http://salaudeen.blogspot.fi/2011/06/sharepoint-columnfield-display-names-vs.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-05T12:41:03.763

创建列后，您可以通过 UI 将显示名称更改为对用户更友好的名称。列的内部名称将保持其在创建时的名称。

# nhibernate - nhibernate连接表值函数

> ID：12276810
> 
> 赞同：2
> 
> 时间：2012-09-05T07:48:00.440
> 
> 标签：nhibernate, nhibernate-mapping, fluent-nhibernate-mapping

我现在正在发现休眠。因此我的问题可能很愚蠢:)

我正在尝试做的（我正在使用旧数据库）是获取一个实体，该实体的一些数据来自表值函数。我的实体如下

```
public class Entity
{
  public virtual int Id { get; protected set; }
  ....
  public virtual int AccessRightId { get; set; }
} 
```

其中 AccessRightId 来自表值函数 (fp_AccessRight('userId'))

我有以下映射

```
public class EntityMap : ClassMap<Entity>
  {
    public EntityMap ()
    {
      this.Id(entity => entity .Id);          
      this.Join(
          "fp_AccessRight('userId')",
            join =>
            {
                join.Fetch.Join();
                join.KeyColumn("EntityId");
                join.Map(t => t.AccessRightId, "AccessRightType");
                join.Table();
            });
    }        
} 
```

不幸的是，我无法用任何值替换“userId”。谢谢。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T08:32:16.510

我终于解决了。

诀窍是像这样进行连接：

```
this.Join("fp_ACCOUNT_ACL(:AclFilter.userId)" 
```

然后简单地启用过滤器

```
this.session.EnableFilter("AclFilter").SetParameter("userId", "bdd#5"); 
```

[我在这里](http://ayende.com/blog/1954/localizing-nhibernate-contextual-parameters)找到了一个例子。

# database - CakePHP saveAll() 函数一次保存多个模型数据

> ID：12276814
> 
> 赞同：1
> 
> 时间：2012-09-05T07:48:20.710
> 
> 标签：database, model, cakephp-2.1

我正在使用 cakephp 2.1，我想使用 saveAll() 函数一次调用保存多个模型数据。每个模型的属性如下。

```
Company(id, name);
User(id, name, company_id);
Oauth(id, details, user_id);
GoogleAnalytic(id, name, company_id);
Setting(id, user_id, google_analytic_id); 
```

当用户登录应用程序时，我想一次保存这些。

模型结构如下。

```
Company(hasOne => GoogleAnalytic, hasMany => User);
User(belongsTo => Company, hasOne => Setting, hasMany => Oauth);
GoogleAnalytic(belongsTo => Company, hasMany => Setting);
Setting(belongsTo => GoogleAnalytic, User); 
```

我尝试了很多，但没有一次保存这些。如何一次保存所有这些？工作将不胜感激。。

# php - html php 元字符集 UTF-8 不起作用？

> ID：12276817
> 
> 赞同：2
> 
> 时间：2012-09-05T07:48:35.243
> 
> 标签：php, html, utf-8, character-encoding, meta

> **可能重复：**
> [浏览器显示�而不是´](https://stackoverflow.com/questions/4095058/browser-displays-instead-of)

我有点卡在一个几乎只有 html 的 php 文件上。我只使用 PHP 将信息从联系表发送到我的邮件地址。

在本地主机上开发网站时，一切都很好。上传到我的服务器后，它会弄乱特殊字符。

我的元标记如下所示：

```
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
```

如果有人可以帮助我，将不胜感激。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-05T07:52:29.860

将此添加到您的 php 文件的标题中，并让我知道它是否解决了 -

```
header('Content-Type: text/html; charset=UTF-8'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:07:06.623

如果您的浏览器专门设置为将字符集设置为`ISO-8859-1`或另一个字符集，它仍将显示在该字符集中。我认为这是我能发现的唯一问题。

# java - 漂亮地打印 Apache Commons XML 配置

> ID：12276818
> 
> 赞同：1
> 
> 时间：2012-09-05T07:48:39.013
> 
> 标签：java, xml, formatting, configuration-files

我正在尝试使用 Apache Commons Configuration XML 类，并且我认为我有一个基本的配置编写器正在工作。现在我需要正确缩进 XML 输出。

我已经尝试从[其他帖子](https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java)中实施解决方案（dfa 的答案）。我遇到的问题是 XML 数据用换行符写出，所以它没有作为单行传递给 prettyFormat 类，也没有缩进数据。相反，它只是像以前一样写出来。

这是我制作配置文件的代码：

```
import java.io.StringWriter;

import org.apache.commons.configuration.ConfigurationException;
import org.apache.commons.configuration.XMLConfiguration;

public class Config {

    public static void load () {

        XMLConfiguration xmlConfig = new XMLConfiguration();

        xmlConfig.setRootElementName("config");
        xmlConfig.addProperty("vmware.ssh.username", "root");
        xmlConfig.addProperty("vmware.ssh.password", "password");

        StringWriter sw = new StringWriter();

        // Save the XML data to StringWriter.
        try {               
            xmlConfig.save(sw);    

        } catch (ConfigurationException ce) {               
            ce.printStackTrace();               
        }

        String xmlOutput = XMLtransform.prettyFormat(sw.toString(), 2);         
        System.out.print(xmlOutput);            
    }       
} 
```

我可能还应该提到，我的 Java 技能还有些新手。

# c++ - Finder 列视图修改活动列的宽度

> ID：12276820
> 
> 赞同：1
> 
> 时间：2012-09-05T07:48:44.530
> 
> 标签：c++, xcode, macos, applescript, finder

有没有一种为 OSX（Applescript、C++ 等）编写的语言的方法，当您右键单击 Finder 中滚动条底部的两行时，我可以在上下文菜单中访问该功能（调整列宽）列视图（AXMenu->AXMenuItem）？如果您双击这两行，也会发生同样的情况。

因为我想做的是以某种方式为“超快速查找器工作流程”获得此功能的快捷方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T21:32:17.150

从 Finder Applescript 库：

```
column view options: the column view options
properties
    text size (integer) : the size of the text displayed in the column view
    shows icon (boolean) : displays an icon next to the label in column view
    shows icon preview (boolean) : displays a preview of the item in column view
    shows preview column (boolean) : displays the preview column in column view
    discloses preview pane (boolean) : discloses the preview pane of the preview column in column view 
```

Applescript 似乎不包含访问您要查找的设置的方法

# javascript - 创建具有 2 个唯一数字的 Javascript 数组

> ID：12276822
> 
> 赞同：0
> 
> 时间：2012-09-05T07:48:46.740
> 
> 标签：javascript, loops, for-loop, each

我正在尝试执行以下操作：

创建 2 个唯一数字，它们都在一定范围内，并且它们至少`n`更大/更小。

例如：

范围为 0-600 最小“差异”为 150

所以生成的数字可能是：[2,400],[120,310],[82,530]

但不是 [900,400] 或 [200,220]。

这就是我到目前为止所拥有的：

```
var posYArray   = [];

for(i=0; i < 2; i++){ 

    var posY    = (Math.random() * 200).toFixed();

    if(i < 1){
        posYArray.push(posY);
    }else{

        for(i=0; i < posYArray.length; i++){ 
            if(posY < posYArray[i]+100){
                posYArray.push(posY);
            }else{
                //Restart loop??
            }
        }

    }

} 
```

但这会随机使浏览器崩溃，而且当数字太接近时，我也不知道重新启动循环的好方法......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T07:51:41.817

您可以分两步执行此操作。

1.  生成你的第一个随机数。
2.  将随机数池减少到唯一可能的有效值。
3.  在缩减池中选择您的下一个随机数。

```
var upperBound = 200,
    minDelta = 90,
    firstRandom = Math.floor(Math.random() * upperBound);

var validPool = [];

for (var i = 0; i < upperBound; i++) {
    if (i < firstRandom - minDelta || i > firstRandom + minDelta) {
        validPool.push(i);
    }
}

var secondRandom = validPool[Math.floor(Math.random() * validPool.length)]; 
```

[js小提琴](http://jsfiddle.net/hCeUG/)。

它可能比随机选择和比较慢，但至少它有保证的运行时间:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:54:38.597

您可以改变不选择数字的间隙，即`x`在 0 和`range`-之间选择一个随机数`gap`，而不是在 and 之间选择第一个数字，在 and 之间选择第二`0`个`x`数字。这样会更有效率。`x + gap``range`

```
var range = 600, gap = 150;
var x = Math.floor(Math.random() * (range - gap));
var posX = (Math.random() * (x)).toFixed();
var posY = (Math.random() * (range - x - gap) + x + gap).toFixed(); 
```

在 O(1) 中工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:54:36.377

简单地尝试它们怎么样？非常容易，当差异比最大尺寸（例如 150 和 600）小很多时，您有 1/2 的可能性有一对好配对。

例如：

```
var posY = (Math.random() * 600).toFixed();
var posX = (Math.random() * 600).toFixed();
while(abs(poX-posY) < 150){
    posX = (Math.random() * 600).toFixed()
} 
```

效率不高，但是当您只有 2 个数字可以生成时，这无关紧要！

# c# - 在 LINQ 中将多行连接成单行

> ID：12276824
> 
> 赞同：1
> 
> 时间：2012-09-05T07:48:50.907
> 
> 标签：c#, .net, linq

是否可以将多行连接到单行？

例如：

```
IEnumerable<sample> sam = new List<sample>()
{
    new sample{ id = 1, name = "sample 1", list = new List<int>{1,5,6}},
    new sample{ id = 2, name = "sample 2", list = new List<int>{2,9}},
    new sample{ id = 3, name = "sample 3", list = new List<int>{8,3,7}},
    new sample{ id = 4, name = "sample 4", list = new List<int>{3,4,8}},
    new sample{ id = 5, name = "sample 5", list = new List<int>{1,5,7}},
    new sample{ id = 6, name = "sample 6", list = new List<int>{6,9,7}}
}; 
```

输出必须：

```
{
    new sample { id = 1, name = "sample 1", list = "1,5,6" },
    new sample { id = 2, name = "sample 2", list = "2,9" },
    new sample { id = 3, name = "sample 3", list = "8,3,7" },
    new sample { id = 4, name = "sample 4", list = "3,4,8" },
    new sample { id = 5, name = "sample 5", list = "1,5,7" },
    new sample { id = 6, name = "sample 6", list = "6,9,7" }
}; 
```

这意味着从列表中新行现在是一个字符串。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-05T07:52:02.463

当然：

```
sam.Select(x => new { x.id, x.name, list = String.Join(",", x.list) }); 
```

注意：结果将是匿名类型。我们不能在`sample`这里重用这个类，因为那个类`list`是 type`List<int>`而不是`string`。

如果您坚持使用 .NET 3.5 或更低版本，请改用以下代码：

```
sam.Select(x => new
                {
                    x.id, x.name,
                    list = String.Join(",", x.list.Select(y => y.ToString())
                                                  .ToArray())
                }); 
```

如果要在获取字符串之前对列表进行排序，则需要使用以下代码：

```
sam.Select(x => new
                {
                    x.id, x.name,
                    list = String.Join(",", x.list.OrderBy(y => y))
                }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-03T13:50:09.660

由于我需要在一列中收集多条记录（每个员工可能有很多专业），然后在连接中使用它，这就是我解决的方式：

拥有这些实体：

1) 员工实体

```
|EMPLOYEE_ID|

|001        |

|002        | 
```

2) EMPLOYEE_SPECIALTIES 实体

```
|EmployeeId|SPECIALTY_CODE

|001       |AAA

|001       |BBB

|002       |DDD

|002       |AAA 
```

我需要在一个列中按员工收集专业：

```
|EmployeeId|SPECIALTY_CODE

|001       |AAA, BBB

|002       |DDD, AAA 
```

解决方案：

```
var query = from a in context.EMPLOYEE_SPECIALTIES.ToList()
            group a by a.EMPLOYEE_ID into g
            select new 
            {
                EmployeeId = g.Key,
                SpecialtyCode = string.Join(",", g.Select(x =>  
                x.SPECIALTY_CODE))
            };

var query2 = (from a in query
              join b in context.EMPLOYEEs on a.EmployeeId equals b.EMPLOYEE_ID
              select new EmployeeSpecialtyArea
              {
                  EmployeeId = b.EMPLOYEE_ID,
                  LastName = b.LAST_NAME,
                  SpecialtyCode = a.SpecialtyCode
              });

ViewBag.EmployeeSpecialtyArea = query2; 
```

我希望这可以帮助某人！

# ios - 使用自定义 URL 处理程序在两个 iOS 应用程序之间移动数据/图像

> ID：12276827
> 
> 赞同：8
> 
> 时间：2012-09-05T07:49:00.517
> 
> 标签：ios, uiimage, nsdata, data-transfer

在谷歌搜索并搜索了一段时间后，我仍然找不到答案 -

我想知道，如何使用自定义 URL 处理程序在我的两个应用程序之间传输数据？特别是图像或 NSData 对象。

我知道能够使用自定义处理程序打开我的应用程序的特定部分，例如 myapp1://start ， myapp2://start ，但我不知道如何通过这些继续传输大量数据（~80k）处理程序。

很想听听任何创造性的解决方案:)

**ps**解决方案应该是 iOS >= 4.3 Compatible

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-08T23:01:47.000

将自定义 URL 处理程序与 UIPasteboard 结合使用。将您的第一个应用程序（例如图像）中的某些内容保存到通用粘贴板，如下所示：

```
UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];
[[UIPasteboard generalPasteboard] setImage:myImage]; 
```

然后使用自定义 URL 方案来切换应用程序。

然后在需要时从新应用程序中检索您的图像：

```
 UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];
   UIImage *tempImg = pasteboard.image; 
```

实战考验。; )

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T14:03:48.587

一种解决方案可能是：

*   实现一个网络服务器
*   通过自定义 url 方案打开您的第二个应用程序，其中 IP 地址和自定义 Web 服务器的端口包含在 url 中
*   将路由或参数添加到您的图像也添加到您的 URL

下载并欣赏您的照片 :-)

另一个解决方案：

*   启动 Bonjour 服务
*   在网络中，第二个应用程序可以找到此服务
*   做一些魔术来在应用程序之间传递数据

编辑：更好的其他解决方案：

刚刚找到了另一种更有效的方式来交换更大的数据集：
它被称为`UIPasteboard`

最佳参考：http:
[//developer.apple.com/library/ios/#documentation/UIKit/Reference/UIPasteboard_Class/Reference.html](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIPasteboard_Class/Reference.html)

还有另一个资源： http:
[//kmithi.blogspot.in/2012/03/sharing-data-among-ios-applications.html](http://kmithi.blogspot.in/2012/03/sharing-data-among-ios-applications.html)

那应该这样做。对于网络服务器：使用 Google 找到了大量的实现

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-13T06:48:02.290

```
 [http://www.codeproject.com/Articles/43447/How-to-Use-UIPasteBoard-to-Implement-Custom-Copy-a][1]

        As you know many of the controls in UIKit now come pre-loaded with the ability to copy and paste text. You can also use this new ability in your own apps to copy and paste other things including: images, SQLite databases, text or any file. This is a great way to share data between your apps if you want to provide users with a suite of apps with integrated functionality.

     CopyFrom Source Code
        -(IBAction)copyImageToPasteBoard{
            UIPasteboard *appPasteBoard = [UIPasteboard pasteboardWithName:@"CopyFrom" 
                     create:YES];
            appPasteBoard.persistent = YES;

            NSData *data = UIImagePNGRepresentation([UIImage imageNamed:@"Old-Time-Photo.jpg"]);
            [appPasteBoard setData:data forPasteboardType:@"com.appshop.copyfrom.imagedata"];
        }

        -(IBAction)copyStringToPasteBoard{
            UIPasteboard *appPasteBoard = [UIPasteboard pasteboardWithName:@"CopyFrom" 
                     create:YES];
            appPasteBoard.persistent = YES;
            [appPasteBoard setString:textView.text];
        }
        PasteTo Source Code
        -(IBAction)pasteImageToPasteBoard{
            UIPasteboard *appPasteBoard = [UIPasteboard pasteboardWithName:@"CopyFrom"
                     create:YES];
            NSData *data = [appPasteBoard dataForPasteboardType:@"com.appshop.copyfrom.imagedata"];
            imageView.image = [UIImage imageWithData:data];
        }

        -(IBAction)pasteStringToPasteBoard{
            UIPasteboard *appPasteBoard = [UIPasteboard pasteboardWithName:@"CopyFrom" 
                     create:YES];
            textView.text = [appPasteBoard string];
        }

    Using UIPasteBoard in iPhone programming is amazingly simple and opens up some possibilities that we did not have a year ago. To use UIPasteBoard you simply create a instance using pasteboardWithName, put stuff into the paste board and then set the persistant property equal to YES. Then any app can get a reference to your paste board and use the data contained within. You can use it for simple strings and even data that you can put into NSData like SQLite databases. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T14:00:45.797

> 使用自定义 URL 处理程序

它是指定的，因此它不符合您的规范。

但是，如果您不关心这一点，我会将 80k 图像写入内部存储器（文件系统），即使是 80Mb 并将“url”传递给其他应用程序。

大自我，0 研究努力：

[复制到图像文件夹](https://stackoverflow.com/questions/178915/how-to-save-picture-to-iphone-photo-library)

[通过 url 进行 IPC 通信](http://www.screencast.com/users/millenomi/folders/Default/media/795720b0-cf1c-4c96-b063-7498f0c4bc77)

而且我的解决方案不起作用......我不是在给鱼，只是在教热鱼。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T14:21:29.680

好吧，据我所知，对于自定义 URL 处理程序来说，~80k 太多了。但是您可以尝试对您的数据进行 Base64 编码并将其附加到自定义 URL。但我怀疑它是否适用于大量数据。

您还可以查看`UIDocumentInteractionController`，它旨在使用支持它们的其他应用程序打开文件。当您使用另一个应用程序打开附件时，邮件应用程序会执行此操作。

[https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIDocumentInteractionController_class/Reference/Reference.html#//apple_ref/doc/uid/TP40009304](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIDocumentInteractionController_class/Reference/Reference.html#//apple_ref/doc/uid/TP40009304)

# c++ - 如何从文件末尾读取第 6 个字符 - ifstream？

> ID：12276834
> 
> 赞同：1
> 
> 时间：2012-09-05T07:49:45.727
> 
> 标签：c++, file-io, ifstream

```
void maintainFileName ()
{
    std :: ifstream myfile;
    myfile.open ("zoomLevels.txt");

    if (myfile.is_open ())
    {
        // Move to end of the file, 
        myfile.seekg (0, std::ios::end);

        // and then six characters back to pick up the last file number.
        myfile.seekg (6, std::ios::beg);

        int len = 1;
        char *t = new char[len];

        myfile.read(t, len);
        qDebug () << "\nt: " << *t << "\n";
    }
    else
    {
        qDebug () << "\nsorry";
    }
} 
```

该文件包含以下内容：

```
78.8115,29.582,1,01.rda
78.8115,29.582,2,02.rda
76.3671,30.2201,1,11.rda
76.3671,30.2201,2,12.rda
78.1908,30.3007,1,01.rda
78.1908,30.3007,2,02.rda
77.3284,29.1415,1,01.rda
77.3284,29.1415,2,02.rda
77.3064,29.1655,1,01.rda
77.3064,29.1655,2,02.rda 
```

该函数返回的值是`5`，而倒数第六个字符是`0`！
我哪里错了？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-05T08:02:55.333

寻找文本文件中的任意位置是未定义的行为。在实践中，它可能会在各种 Unices 下工作，但在其他地方不行。如果以二进制模式打开文件，则查找是合法的。形式上，如果您以二进制模式打开文件，最后可能会得到额外的 nul 字节，但实际上，今天这不是问题。但是，如果您以二进制模式打开它，您可能会看到其他内容而不是 `'\n'`数据；例如，在 Windows 下，您会看到两个字符序列`0x0D, 0x0A`。

当然，在您的代码中，您是从头开始寻找，而不是从头开始寻找。这也是未定义的行为，但大多数情况下，只要您在第一行寻找，它就会起作用。

最后，在您写的数据中，您显示的数据中倒数第六个字符是 a `'2'`，而不是 a `'0'`。但是，当然，在 Unix 以外的系统上，您可能很容易看到其他内容（或出现错误）：可能是 `'.'`Windows 下的 a，或`' '`某些大型机操作系统下的错误（或可能是 ' ）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-05T07:51:22.173

```
myfile.seekg (6, std::ios::beg); 
```

在这里，您*从*开头移动了 6 个字符，而不是*朝*开头移动。只需使用

```
myfile.seekg (-6, std::ios::end); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T08:12:00.913

您可以尝试通过文件末尾的 tellg() 确定文件的完整大小并减去您的数字，根据 > 0 验证它，然后再次查找它。如果你尝试这个，你还应该确保文件以二进制模式打开（我记得，可能有缺陷）

```
myfile.seekg (0, ios::end);
// You have to ensure, myfile.tellg() > 6
myfile.seekg ( myfile.tellg() - 6, ios::beg ); 
```

编辑：

seekg 将类型 std::streamoff 作为偏移量。

标准 (ISO/IEC 14882:2003) 对许多人讨论的这个“问题”说了一些非常有趣的事情。

在第 27.2 节中。前向声明，streampos 属于 fpos 类。

如果我们更进一步，我们可以在第 27.4.3.2 节找到 fpos 的需求表，在那里我们可以得到 streamoff 类型的闭包，这里明确的要求是：q = p + o，所以 fpos 类必须定义一个运算符+（偏移量）。由于 fpos 对象还必须定义一个返回类型为 OFF_T 的 O(p) ，这是一个内部类型，但也有一个语句，std::streamoff 的类型为 OFF_T 我们有一个闭环到标准内的定义对于这个操作。

所以这个操作应该很好定义。

欢迎其他意见。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T07:53:09.137

第一次搜索跳到结尾，第二次跳到开头 + 6。

采用：

```
 myfile.seekg(-6, std::ios::end); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-05T10:53:59.373

首先，转到文件末尾：`is.seekg (0, ios::end);` ，然后保存位置： `file_end_position = is.tellg();`。现在跳到那个位置：`is.seekg (file_end_position-6, ios::end);`，并从最后读取第 6 个字符：`is.read (buf,1);`

```
#include <iostream>
#include <fstream>
using namespace std;

int main () {
  int file_end_position;

  ifstream is;
  is.open ("test.txt", ios::binary );

  // get size of file:
  is.seekg (0, ios::end);
  file_end_position = is.tellg();
  is.seekg (0, ios::beg);

  //go to the end  of the file -6
  is.seekg (file_end_position-6, ios::end);

  char buf[1];

  // read the 6th character from the end of the file  
  is.read (buf,1);
  is.close();

  delete[] buffer;
  return 0;
} 
```

# android - Inmobi 跟踪购买转化的实施

> ID：12276835
> 
> 赞同：1
> 
> 时间：2012-09-05T07:49:48.470
> 
> 标签：android

我是一名 android 开发人员，我在我的应用程序中使用 inmobi 进行广告跟踪，效果很好。现在，我想使用 inmobi 实现“跟踪购买转化”，因为通过我的应用程序我已经做了很少的订阅活动。我还想知道在我使用 inmobi 的应用程序期间所有订阅的报告。所以要实现它，有哪些行动方针？我是否需要编写除我为广告实施编写的代码之外的其他代码，如果不需要，请告诉我必须遵循的步骤。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T22:23:27.743

购买/订阅在 InMobi AdTracker 门户中称为自定义目标。要跟踪购买/订阅，您必须使用 InMobi AdTracker SDK 中提供的报告自定义目标 API。每当在您的应用程序内完成购买或订阅时，您的代码应调用 API 以报告自定义目标，其中目标名称（例如：购买）作为字符串输入。

InMobi AdTracker 门户显示三个计数：Received、Organic、Matched。

例如在购买的情况下：假设您的应用程序有四个用户：用户 A、用户 B、用户 C 和用户 D

用户 A 点击了您 App 的广告，然后从 App Store 下载了 App，然后进行了 8 次购买。

用户 B 还点击了您 App 的广告，然后从 App Store 下载了 App，然后进行了 4 次购买。

用户 C 直接从 App Store 下载了您的 App，没有点击广告，然后进行了 3 次购买。

用户 D 还直接从 App Store 下载了您的 App，而无需点击广告，然后进行了 2 次购买。

在这种情况下：

收到的金额将等于 17，即所有用户在您的应用程序中完成的总购买。

Organic 将向您显示 5 次，即直接从 App Store 下载您的应用程序的用户完成的总购买量

Matched 将向您显示 2 个，即在下载您的应用程序后通过单击您的应用程序的广告进行至少一次购买的唯一用户总数。换句话说，Matched 是您通过为您的广告活动获得的唯一购买用户总数广告网络上的应用程序。

# mysql - 没有 possible_keys 可用，但 where 子句中存在键

> ID：12276841
> 
> 赞同：-1
> 
> 时间：2012-09-05T07:50:03.183
> 
> 标签：mysql, explain

```
 CREATE TABLE `words_data` (
  `id` int(11) NOT NULL auto_increment,
  `words` varchar(50) default '',
  `pid` int(8) default '0',
  `baiyephp` int(11) default '0',
  PRIMARY KEY  (`id`),
  KEY `baiyephp` (`baiyephp`),
  KEY `words` (`words`),
  KEY `pid` (`pid`),
  KEY `pid_id` (`id`,`pid`)
 ) ENGINE=MyISAM AUTO_INCREMENT=1961736 DEFAULT CHARSET=utf8 
```

解释语句：`explain select id from words_data where pid=232632;` 但`possible_keys`列中没有列出任何键。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:01:34.833

在我的测试环境中解释产量：

```
Impossible WHERE noticed after reading const tables 
```

这似乎表明 pid=232632 的表中没有数据

# android - 一侧 ViewPager 仅滑动

> ID：12276846
> 
> 赞同：4
> 
> 时间：2012-09-05T07:50:49.717
> 
> 标签：android, android-viewpager

我的应用程序中有一个 ViewPager，我想随时禁用/允许向右滑动。viewpager 中的每个视图都包含 ListView。我怎样才能做到这一点？我正在尝试以这种方式做到这一点：

```
private int oldX;
private int deltaX = 0;

@Override
public boolean onTouch(View view, MotionEvent motionEvent) {
    if (motionEvent.getAction() == MotionEvent.ACTION_MOVE || motionEvent.getAction() == MotionEvent.ACTION_DOWN) {
        int newX = (int) motionEvent.getX();
        deltaX = oldX - newX;
        oldX = newX;
    }
    if (motionEvent.getAction() == MotionEvent.ACTION_UP) {
        oldX = 0;
    }
    return deltaX < 0;        
} 
```

但是视图仍然会向右一点。有人在解决同样的问题吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-05T12:54:50.873

通过将 ViewPager 的代码放入我的应用程序并添加以下内容，我能够在 ViewPager 中实现单侧滚动

```
private boolean performDrag(float x) {
    boolean needsInvalidate = false;

    final float deltaX = mLastMotionX - x;
    mLastMotionX = x;

    // MY CODE STARTS
    if (deltaX < 0) {
        return false;
    }
    // MY CODE ENDS

    float oldScrollX = getScrollX();
    ... 
```

它似乎工作正常。您可能需要的唯一东西 - 获取适配器代码或提供您自己的适配器，因为`ViewPager`其代码中使用的某些方法不是从`PagerAdapter`.

# android - 为什么某些手机没有调用android onLocationChanged？

> ID：12276847
> 
> 赞同：1
> 
> 时间：2012-09-05T07:50:51.140
> 
> 标签：android, gps, location

这是我的代码：我在`onResume()`

```
@Override
protected void onResume() {
    labaLocationListener = new LabaLocationListener(this);
    locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);
    Criteria criteria = new Criteria();
    criteria.setAccuracy(Criteria.ACCURACY_FINE);
    String bestProvider = locationManager.getBestProvider(criteria, true);
    if (StringUtils.isEmpty(bestProvider)) {
        locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, LOCATION_MIN_TIME,
                LOCATION_MIN_DESTANCE, labaLocationListener);
    } else {
        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, LOCATION_MIN_TIME,
                LOCATION_MIN_DESTANCE, labaLocationListener);
        locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, LOCATION_MIN_TIME,
                LOCATION_MIN_DESTANCE, labaLocationListener);
    }
    super.onResume();
}` 
```

这是听众：

```
public class LabaLocationListener implements LocationListener {

public static double longitude;
public static double latitude;

private Activity activity;

public LabaLocationListener() {}

public LabaLocationListener(Activity activity) {
    this.activity = activity;
}

@Override
public void onLocationChanged(Location location) {

    longitude = location.getLongitude();
    latitude = location.getLatitude();
    Log.w("onLocationChanged", "longitude = " + longitude + ",latitude = "+latitude);

    SharedPreferences prefs = PreferenceManager
            .getDefaultSharedPreferences(activity);
    boolean isFirstTime = prefs.getBoolean(LabaConstants.IS_FIRST_TIME_USE_SYSTEM, true);
    if(isFirstTime){
         Editor  editor = prefs.edit();
         editor.putBoolean(LabaConstants.IS_FIRST_TIME_USE_SYSTEM, false);
         editor.commit();
         new SetDefaultCityTask(activity).execute();
    }

    //update user location
    int customerRadar = prefs.getInt(LabaConstants.CUSTOMER_RADAR, 0);
    if(customerRadar == 1){
        long userId = prefs.getLong(LabaConstants.USER_ID, 0);
        if(userId != 0){
            String url = activity.getString(R.string.product_url) + "updateCurrentLocation";
            RequestParams requestParams = new RequestParams();
            requestParams.put("latitude", String.valueOf(latitude));
            requestParams.put("longitude", String.valueOf(longitude));
            HttpUtil.get(url, requestParams,activity.getApplication(),
                    new AsyncHttpResponseHandler() {
                        @Override
                        public void onSuccess(String response) {
                            Log.w("","updateCurrentLocation = "+response);
                        }
            }); 
        }
    }

}

@Override
public void onProviderDisabled(String provider) {
    Log.w("", "onProviderDisabled");

}

@Override
public void onProviderEnabled(String provider) {
    Log.w("", "onProviderDisabled");
}

@Override
public void onStatusChanged(String provider, int status, Bundle extras) {
    Log.w("", "onStatusChanged");
}
} 
```

onLocationChanged 没有拨打某些电话，这很奇怪，有人能告诉我为什么吗？

# gwt - LayoutPanel 中的垂直对齐

> ID：12276855
> 
> 赞同：0
> 
> 时间：2012-09-05T07:51:13.913
> 
> 标签：gwt, layout, styling

我在一个 gwt 应用程序中使用了一个 LayoutPanel，里面有两个按钮。LayoutPanle 的高度为 35px；而按钮的高度为 25px；我想垂直对齐面板中间的按钮。正如我所尝试的那样，似乎没有通用的样式方法适用于它。在面板样式或按钮样式上设置垂直对齐：中间，按钮保持顶部对齐。在这种情况下，除了在 LayoutPanel 内为每个 Button 包装一个 Horizo​​ntalPanel 并在 Horizo​​ntalPanel 上应用 verticalAlignment 之外，最终将 Buttons 置于中间的正确方法是什么？这是我在 Uibinder 中的代码：

```
<g:LayoutPanel styleName="{style.buttonsBar}">
             <g:layer left="30px" width="70px">
                 <g:Button ui:field="createButton" styleName="{style.crdelButton}">Create</g:Button>
                 </g:layer>
                 <g:layer right="30px" width="70px">
                     <g:Button ui:field="deleteButton" styleName="{style.crdelButton}">Delete</g:Button>
                 </g:layer>
        </g:LayoutPanel> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T14:16:13.100

如果你的面板总是 35px 高，你有两个选择：

(1) 将按钮上的边距设置为

边距：5px 0；

(2) 为您的 LayoutPanel 设置以下样式：

行高：35px；

# java - String args[] 参数是否会创建一个新的 String 实例？

> ID：12276856
> 
> 赞同：2
> 
> 时间：2012-09-05T07:51:15.883
> 
> 标签：java

如果没有提供命令`String args[]`行参数，那么接受命令行参数的参数是否会产生影响。`main()`

可以：

1.  创建一个新的String对象？
2.  是否为它分配了内存？

Java遇到了怎么办`String args[]`？

更新：想问一个相关的问题：如果没有提供 cmdline args，String args[] 会为空还是 null？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:54:07.830

这取决于。如果您传递一些命令行参数，它会创建 String 对象。`String args[]`只是对表对象的引用。如果没有提供参数，则为`args`空。更重要的是`args`你只能有参数。例如，在 C/C++ 中，您还会有例如应用程序名称。Java是不同的。在此处阅读有关命令行参数的更多信息：http: [//docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html](http://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T07:57:42.230

此代码在堆栈上创建一个**引用**`String[]`，在**堆上**创建一个`String[]`对象（一个空数组）。不创建对象。**`String`**

 *** * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T17:35:53.717

> String[] 是一个对象，一个空的将是大约 16 个字节。
> 
> 那很有帮助。我自己怎么计算呢？

```
public static long memoryUsed() {
    final Runtime rt = Runtime.getRuntime();
    return rt.totalMemory() - rt.freeMemory();
}

public static void main(String... args) {
    long before = memoryUsed();
    String[] arr = { };
    long after = memoryUsed();
    if(before == after) throw new AssertionError("you need to turn off the TLAB with -XX:-UseTLAB");
    System.out.printf("The String[] used %,d bytes of memory%n", (after - before));
} 
```

印刷

```
The String[] used 16 bytes of memory 
```

注意：这会打印创建对象使用了多少内存。如果创建临时对象，这可能会超过保留的数量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T07:53:55.160

如果在没有命令行参数的情况下调用程序， `args[]`则为空，因此`String`创建 no。然后你将有一个空数组。**

# html - 如何使用基于位置的watir从ruby中的文本文件中读取值

> ID：12276863
> 
> 赞同：3
> 
> 时间：2012-09-05T07:51:42.340
> 
> 标签：html, ruby, text, watir

有人可以帮助我使用 Watir 在 Ruby 中编写代码，以便我可以根据位置从给定文本文件中读取任何值，并将其用作 Web 应用程序中任何字段的参数。

我是 Ruby 新手，不知道如何实现这个解决方案。

例如，我需要的是，假设 d 驱动器主文件夹中有一个名为“Test.txt”的文本文件。说它有这样的文字

13085216660000019999

在上面的文本中，我想读取从位置 4 到 8 的值，即 '8521' 并将其存储为变量并在文本字段中使用它，如下所示

ie.textField(:name, "de2").set '变量来自读取文件'

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:31:49.877

像这样的东西？[3..6] 表示第 4 位（从 0 开始）直到第 8 位

```
def my_method var
  puts var
end

File.read("read_var_from_file.txt").each_line{ |line|my_method line[3..6] } 
```

当文件内容为

```
13085216660000019999
13085226660000019999
13085236660000019999 
```

给出作为输出

```
8521
8522
8523 
```

编辑：基于此处的评论，另一个版本可让您逐行更改开始和结束位置

```
def read_var file, line_nr, vbegin, vend
    IO.readlines(file)[line_nr][vbegin..vend]
end

puts read_var("read_var_from_file.txt", 0, 1, 3) #line 0, beginning at 1, ending at 3
#=>308

puts read_var("read_var_from_file.txt", 1, 3, 6)

#=>8522 
```

# jquery - jQuery如何检查两个数组元素是否属于同一个数组

> ID：12276870
> 
> 赞同：0
> 
> 时间：2012-09-05T07:52:21.373
> 
> 标签：jquery

我是 jQuery 和编程新手，如何检查两个数组元素是否属于同一个数组。我这样做了..但它不起作用

```
var blackCoins = ["&#9818;", "&#9819;", "&#9820;", "&#9821;", "&#9822;", "&#9823;"];
var whiteCoins = ["&#9812;", "&#9813;", "&#9814;", "&#9815;", "&#9816;", "&#9817;"];
var buffer = $("myselector1").text();
var storeBuffer = $("#myselector2").text();
        var flag = 0;           
        if ($.inArray(buffer, whiteCoins) > -1  &&  $.inArray(storeBuffer, whiteCoins) > -1){                        
                flag = 1;
        }
        else if($.inArray(buffer, blackCoins) > -1  &&  $.inArray(storeBuffer, blackCoins) > -1) {
                flag = 1;
        }           
} 
```

如果需要，我可以提供更多信息..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T07:54:53.493

[JQuery .InArray()](http://api.jquery.com/jQuery.inArray/)这个函数应该可以帮助你。

在 && 组合中使用它，您将得到答案。

```
var blackCoins = ["&#9818;", "&#9819;", "&#9820;", "&#9821;", "&#9822;", "&#9823;"];
var whiteCoins = ["&#9812;", "&#9813;", "&#9814;", "&#9815;", "&#9816;", "&#9817;"];

function getCoinColor(coin) {
    var inBlack = $.inArray(coin, blackCoins);
    var inWhite = $.inArray(coin, whiteCoins);

    if (inBlack > -1) {
        return "black";
    }

    if (inWhite > -1) {
        return "white";
    }
}

function canKill(selectedCoin, targetCoin) {
    return getCoinColor(selectedCoin) != getCoinColor(targetCoin);
}

var targetCoin = "&#9818;";
var selectedCoin = "&#9821;";

var killable = canKill(selectedCoin, targetCoin);

if (killable) {
    alert("Killed it!");
}
else {
    alert("Can't kill your own kind!");
}​ 
```

我试图把它写得尽可能容易理解。我知道有几种方法可以缩短它。

[提琴手](http://jsfiddle.net/VHE9w/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:17:52.527

您要进行两次相同的检查，因此将该检查放入一个函数中：

```
function isWhiteCoin(color) {
  switch (color) {
    case "&#9812;":
    case "&#9813;":
    case "&#9814;":
    case "&#9815;":
    case "&#9816;":
    case "&#9817;": return true;
  }
  return false;
} 
```

现在您可以调用该函数两次：

```
var flag=0;
var preRefColor = $("#check").text();
var thisColor = $(this).text();
if (isWhiteCoin(preRefColor) && isWhiteCoin(thisColor)) {
  flag = 1;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T08:05:23.757

关于如何检查元素有些奇怪 - 因为：

```
$("#check").attr("id"); 
```

$('#check') 的属性“id”将返回“check”......你想做什么？

我假设我们有一个有效的选择器，那么答案是：

```
 var flag=0;            
  var whiteCoins = ["&#9812;", "&#9813;", "&#9814;", "&#9815;", "&#9816;", "&#9817;"];
  var mytext = $('#myselector').text();

  if($.inArray(mytext, whiteCoins) > -1){
    flag=1;
  } 
```

我没有从您的代码中得到的是，如果您可能正在针对您的数组检查两个不同的元素。从您的代码中不清楚 $(this) 是什么。如果您正在检查两个选择器，其中一个是 $(this)，请使用：

```
 var flag=0;            
  var whiteCoins = ["&#9812;", "&#9813;", "&#9814;", "&#9815;", "&#9816;", "&#9817;"];
  var mytext1 = $('#myselector1').text();
  var mytext2 = $(this).text();
  if($.inArray(mytext1, whiteCoins) > -1 && $.inArray(mytext2, whiteCoins) > -1){
    flag=1;
  } 
```

# delphi - 如何更改某些窗格的 Delphi XE2 默认行为？

> ID：12276880
> 
> 赞同：2
> 
> 时间：2012-09-05T07:53:05.160
> 
> 标签：delphi, delphi-xe2

从 Delphi2007 切换到 XE2 后，我对某些 Windows/Panes 的行为非常不满意。
我在“默认布局”中进行设计，在运行/调试时它会更改为“调试布局”。
在我的环境选项中设置了“自动保存项目桌面”。

对于“默认布局”：

1.  如何永久隐藏结构视图（窗格）？
    关闭或取消固定它在会话之间不成立。

2.  如何在会话之间保持工具面板中打开的组打开？
    当我开始一个新的 IDE 会话时，所有组都再次关闭。

对于“调试布局”：

A. 如何永久隐藏调用堆栈视图（窗格）？
关闭或取消固定它在会话之间不成立。

我已阅读[如何为 XE2 设置默认编译器选项？](https://stackoverflow.com/questions/10134658/how-to-set-default-compiler-options-for-xe2)但这是关于项目选项，而不是 IDE 配置。

谢谢，扬

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T08:08:18.173

就像已经引用的 TLama 一样，您需要保存桌面布局。这可能已经在您的 Delphi 2007 IDE 中了。

以您想要的方式排列面板，分别隐藏/固定/取消固定/...它们。然后单击桌面面板中的“保存当前桌面”。

调试也是如此。在调试时布局调试桌面并保存。但是你必须让它成为你的默认调试桌面。转到菜单 > 视图 > 桌面 > 设置调试桌面。

我不知道您是否能够在工具面板中保留已打开的组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-18T19:55:53.840

我试过`View > Desktops > Set Debug Desktop`了，但它似乎没有正常工作，而是工作正常，`View > Desktps > Save Desktop`然后`Debug Layout`在出现的窗口中选择选项并单击`OK`。

# jquery - JQuery在点击时过滤行 - 返回函数

> ID：12276894
> 
> 赞同：0
> 
> 时间：2012-09-05T07:54:12.130
> 
> 标签：jquery, filter, twitter-bootstrap, onclick

我有一个小问题，看看我制作的这个折叠桌

[http://jsfiddle.net/hAv7P/12/](http://jsfiddle.net/hAv7P/12/)

如果您折叠表格，您会看到“Fondos De Inversión”和“Sociedades”。

我在点击两个跨度类“fondos”和“sociedades”时应用了一个 Jquery 过滤器，所以这将显示具有“sr”和“dr”类的行。直到这里一切都很好

之后，如果我再次单击“sociedades”或“Fondos De Inversión”，我希望这些功能再次显示所有行，如开头一样。

你会怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:03:46.657

像这样的东西？

[http://jsfiddle.net/hAv7P/15/](http://jsfiddle.net/hAv7P/15/)

是许多方法之一。这使用了 Jquery 的数据特性来跟踪状态。

您可以只在文档就绪范围内使用 2 个变量。像这样 [http://jsfiddle.net/hAv7P/16/](http://jsfiddle.net/hAv7P/16/)

# mysql - SQL - 获取两个用户的名字

> ID：12276901
> 
> 赞同：1
> 
> 时间：2012-09-05T07:54:42.570
> 
> 标签：mysql, sql

我正在尝试从投票表中获取用户的姓名，但我无法弄清楚如何同时获取选民的姓名和投票者的姓名。

简化投票表

```
ID   voteeID    voterID
1    1          2
2    1          3
3    1          4
4    2          1
5    2          3
6    2          4 
```

简化的用户信息表

```
ID   username
1    Bob
2    Sam
3    Ed
4    Mark 
```

我在哪里：

```
SELECT votes.voteeID, votes.voterID, userinfo.username
FROM votes
JOIN ??? 
```

我正在玩加入，但我有点卡住了。如果我将投票者的 id 加入用户信息 id，我将如何获得投票者的姓名，反之亦然？

数据库：MySQL 5

任何帮助甚至提示都会很棒，在此先感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:56:28.393

试试这个，

```
SELECT  b.`username` as Votee_Name,
        c.`username` as Voter_Name
FROM    Votes a
            INNER JOIN UserInfo b
                ON a.voteeID = b.Id
            INNER JOIN UserInfo c
                on a.voterID = c.id 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!2/7b102/3)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-05T07:56:54.150

像这样的东西怎么样

```
SELECT  v.ID,
        v.voteeID,
        u1.username Votee,
        v.voterID,
        u2.username Voter
FROM    Votes v INNER JOIN
        User u1     ON  v.voteeID = u1.ID INNER JOIN
        User u2     ON  v.voterID = u2.ID 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T07:58:34.800

您需要花`INNER JOIN`两次时间才能获得两者的用户名`votee`和`voter`：

```
SELECT a.voteeID, a.voterID,
       b.username AS votee_name, c.username AS voter_name
FROM votes a
     INNER JOIN userinfo b
         ON a.voteeID = b.ID
     INNER JOIN userinfo c
         ON a.voterID = c.ID; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-05T09:55:52.637

SELECT V.ID as ID B.username as Votee_Name, C.username as Voter_Name FROM Votes V INNER JOIN UserInfo B ON V.voteeID = B.Id INNER JOIN UserInfo C on V.voterID = C.id;

# jquery - jquery 1.8 兼容的淡出和删除

> ID：12276906
> 
> 赞同：0
> 
> 时间：2012-09-05T07:54:51.387
> 
> 标签：jquery

由于新的 jquery 已经发布，许多带有 jquery 的动画都会在 firefox 中出现错误。我正在使用我制作的这段代码，当我只使用`remove()`它时它也给 Firefox 思想带来了一些问题，但`fadeOut`它不起作用。这是我的代码

```
$("#"+d).fadeOut(300,function(){$("#"+d).remove();}); 
```

谁能建议我一个更好的代码替代方案。jQuery 1.8 兼容。（它适用于chrome，但不适用于firefox）

这是我的完整代码

```
$(document).on("click", ".glbhn", function (e) {
e.preventDefault();
var d=$(this).attr('id');
var a=$('.gvpgvpxgvp').val();
var nt ='Global';
var info = 'type=' + nt + '&nid=' + d + '&a=' + a;

$.ajax({
   type: "POST",
   url: "example.php",
   data: info,
   success: function(html){
$("#"+d).fadeOut(300,function(){$("#"+d).remove();});   
 totalcounter(a);
   $('.globbl').html(html);
   }
 });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:10:38.750

尝试这个！

```
var interval = 0;
function myfrnd(){
       if( $("#" + d).css('display','none')){
                $(this).remove();
                clearInterval(interval);
        }
}

$("#"+d).bind('myfrndevt',function(){
            interval = setInterval(function(){
                                      myfrnd();
                                     },1000);
 });

$("#"+d).fadeOut(300,function(){
                        $(this).trigger('myfrndevt');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:00:11.243

为我工作（使用 Firefox 14）。你确定你已经包含了 jQuery 脚本（通过`link`标签）并包含了里面的代码`$(document).ready()`吗？您还可以安装 Firebug 来查看错误。

或者可能`d`没有定义变量，或者不存在这样的 id？

# javascript - 各个元素的 Ajax 加载器

> ID：12276908
> 
> 赞同：1
> 
> 时间：2012-09-05T07:54:55.880
> 
> 标签：javascript, ajax, jquery

实际上我试图在我的应用程序中放置一个 ajax 加载器。我试过这个

```
$(document).ajaxStart(function(){ 
  $('#ajaxBusy').show(); 
  }).ajaxStop(function(){ 
  $('#ajaxBusy').hide();
}); 
```

这工作正常。但问题是，每当我单击启动 ajax 请求的元素时，ajax 加载器（gif 图像）就会显示在一个地方。但我不希望我希望加载器应分别显示在每个元素附近，每个元素仅在该元素附近单击。

所以我尝试了这个，

```
$('.follow_count').live('click', function(){
  $(document).ajaxStart(function(){ 
   $('#ajaxBusy').show(); 
   }).ajaxStop(function(){ 
   $('#ajaxBusy').hide();
  });
}); 
```

其中 .follow_count （这是 ajaxelement 之一）是一个 div 元素。在这里，我希望当单击 .follow_count 元素时，应该在该元素附近显示 ajax 加载器。

任何人都可以帮我解决这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:58:42.290

也许如果你改变`id`它`class`会起作用：

```
$('.follow_count').live('click', function(){
  $(this).ajaxStart(function(){ 
   $(this).find('.ajaxbusy').show(); 
   }).ajaxStop(function(){ 
   $(this).find('.ajaxbusy').show(); 
  });
}); 
```

`ajaxBusy`必须是一门课，而不是`id`如果你会重复它！

[这](http://jsfiddle.net/Fdyya/)是一个小例子。

# asp.net-web-api - MVC Web API 不适用于 Autofac 集成

> ID：12276913
> 
> 赞同：23
> 
> 时间：2012-09-05T07:55:14.493
> 
> 标签：asp.net-web-api, autofac

我使用了来自 autofac 的 MVC 集成，如下所示：

```
...
var container = builder.Build();
DependencyResolver.SetResolver(new AutofacDependencyResolver(container)); 
```

但现在我想用新的 Web Api RTM 重新创建解决方案。我想使用新的 AutofacWebApiDependencyResolver 类。

但是，如果我使用 AutofacWebApiDependencyResolver 执行此操作，则会收到此错误：

> Autofac.Integration.WebApi.AutofacWebApiDependencyResolver 类型似乎没有实现 Microsoft.Practices.ServiceLocation.IServiceLocator。

我读到我现在必须这样做才能设置解析器：

```
GlobalConfiguration.Configuration.DependencyResolver = new AutofacWebApiDependencyResolver(container); 
```

但是如果我用'='设置它，它就没有设置。它仍然是 DefaultResolver ...

如果我再次使用 MVC AutofacDependencyResolver 类，它可以工作。

autofac和web api rtm还有问题吗？（当前集成为RC版）

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-09-05T08:01:48.890

ASP.Net Wep.API 和 ASP.NET MVC 使用两个不同`IDependencyResolver`的（因为他们将 Wep.API 设计为不依赖于 ASP.NET MVC）所以你需要同时设置：

```
var container = builder.Build();
DependencyResolver.SetResolver(new AutofacDependencyResolver(container));
GlobalConfiguration.Configuration.DependencyResolver = 
     new AutofacWebApiDependencyResolver(container); 
```

因此，`AutofacDependencyResolver`需要将正派注入常规 MVC`Controller`派生控制器。

并且`AutofacWebApiDependencyResolver`需要将依赖项注入到 Web.API`ApiController`派生控制器。

并且不要忘记使用调用在您的容器构建器中注册您的 Api 控制器（它与通常的`builder.RegisterControllers`方法不同）：

```
builder.RegisterApiControllers(Assembly.GetExecutingAssembly()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-08T10:01:48.497

下面是一个很好的例子

[将 Autofac 与 Web Api 一起使用](https://www.c-sharpcorner.com/article/using-autofac-with-web-api/ "将 Autofac 与 WebApi 一起使用")

# android - 从 URL 获取图像时，它显示 java.net.UnknownHostException: Host is unresolved in android device？

> ID：12276914
> 
> 赞同：6
> 
> 时间：2012-09-05T07:55:20.077
> 
> 标签：android, image, proxy, fetch

```
public class FetchImageAppsActivity extends Activity {
/** Called when the activity is first created. */
 public static String urlPath = "http://farm1.static.flickr.com/150/399390737_7a3d508730_b.jpg";
 public ImageView imageView;
 boolean usingProxy=true;
 public  String proxyIP="A.B.C.D";
 public  int proxyPort=80;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main); 

    imageView =(ImageView) findViewById(R.id.imageViewFetch);

    if(usingProxy==true){
     setProxy();
    }
    try {
        fetch(urlPath);
    } catch (MalformedURLException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    Drawable image = ImageOperations(this,urlPath,"overflow.png");
    imageView.setImageDrawable(image);

   /* imageView.setMinimumWidth();
    imageView.setMinimumHeight(height);

    imageView.setMaxWidth(width);
    imageView.setMaxHeight(height);
  */
}

private Drawable ImageOperations(Context ctx, String url, String saveFilename) {
    try {
        InputStream is = (InputStream) ((FetchImageAppsActivity) ctx).fetch(url); //error line
        Drawable d = Drawable.createFromStream(is, "src");
        return d;
    } catch (MalformedURLException e) {
        e.printStackTrace();
        return null;
    } catch (IOException e) {
        e.printStackTrace();
        return null;
    }
}

public Object fetch(String address) throws MalformedURLException,IOException {
try{
    URL url = new URL(address);
    URI uri = new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());
    url = uri.toURL();
    Log.i("Url:", url+"");
    Object content = url.getContent();
    return content;
    }catch(Exception e){
        e.printStackTrace();
    }
   return null;
   }

public void setProxy()
{ Uri uri = Uri.parse("http://farm1.static.flickr.com/150/399390737_7a3d508730_b.jpg");
  Properties systemProperties = System.getProperties();

  systemProperties.put( "proxySet", "true" );
  systemProperties.setProperty("http.proxyHost",proxyIP);
  systemProperties.setProperty("http.proxyPort","80");
  systemProperties.setProperty("http.nonProxyHosts",uri.getHost()); //uri.getHost()

HttpHost PROXY_HOST=null;
if( usingProxy == true)
     PROXY_HOST = new HttpHost(proxyIP, proxyPort); 
HttpClient client = null;
File f = null;
List<BasicNameValuePair> nameValuePairs = new ArrayList<BasicNameValuePair>(2);
HttpParams params = new BasicHttpParams();

params.setParameter(ExecutionContext.HTTP_TARGET_HOST, PROXY_HOST);

params.setBooleanParameter("http.protocol.expect-continue", false);
ConnManagerParams.setMaxConnectionsPerRoute(params, new ConnPerRouteBean(1));
ConnManagerParams.setMaxTotalConnections(params, 1);
HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);
HttpProtocolParams.setUseExpectContinue(params, false);
HttpProtocolParams.setContentCharset(params,HTTP.DEFAULT_CONTENT_CHARSET);

HttpConnectionParams.setConnectionTimeout(params,50000);
HttpConnectionParams.setSoTimeout(params, 10000);
SchemeRegistry registry = new SchemeRegistry();

registry.register(new Scheme("https", PlainSocketFactory.getSocketFactory(),443));
//if (data != null && data.equals("data")) {
    registry.register(new Scheme("http", PlainSocketFactory.getSocketFactory(),proxyPort));    //uri.getPort()
   //   } else {
    registry.register(new Scheme("https", PlainSocketFactory.getSocketFactory(), proxyPort));
     // }
ThreadSafeClientConnManager cm = new ThreadSafeClientConnManager(params, registry);
client = new DefaultHttpClient(cm, params);
//Proxy.NO_PROXY
if(usingProxy == true)
    client.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, PROXY_HOST);
HttpContext ctx = new BasicHttpContext();
ctx.setAttribute(ExecutionContext.HTTP_TARGET_HOST, PROXY_HOST);
try {
    HttpPost request = new HttpPost(); 
    request.setParams(params);

    request.setURI(new URI(uri.toString()));
    request.setHeader("Content-Type","application/x-www-form-urlencoded");
}catch(Exception e){
    System.out.println(e.getMessage());
}
    }
    } 
```

我在 android 模拟器中运行时出现异常，我的机器连接到启用代理的 WiFi 路由器，如下所示

```
java.net.UnknownHostException: Host is unresolved: farm1.static.flickr.com:80 
```

错误日志：

```
09-05 13:44:48.817: WARN/System.err(489): java.net.UnknownHostException: Host is unresolved: farm1.static.flickr.com:80
09-05 13:44:48.839: WARN/System.err(489):     at java.net.Socket.connect(Socket.java:1038)
09-05 13:44:48.847: WARN/System.err(489):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnection.<init>(HttpConnection.java:62)
09-05 13:44:48.884: WARN/System.err(489):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnectionPool.get(HttpConnectionPool.java:88)
09-05 13:44:48.886: WARN/System.err(489):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getHTTPConnection(HttpURLConnectionImpl.java:927)
09-05 13:44:48.897: WARN/System.err(489):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:909)
09-05 13:44:48.937: WARN/System.err(489):     at java.net.URLConnection.getContent(URLConnection.java:157)
09-05 13:44:48.937: WARN/System.err(489):     at java.net.URL.getContent(URL.java:621)
09-05 13:44:48.967: WARN/System.err(489):     at com.android.fetchimage.FetchImageAppsActivity.fetch(FetchImageAppsActivity.java:96)
09-05 13:44:48.967: WARN/System.err(489):     at com.android.fetchimage.FetchImageAppsActivity.onCreate(FetchImageAppsActivity.java:62)
09-05 13:44:48.987: WARN/System.err(489):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
09-05 13:44:48.987: WARN/System.err(489):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
09-05 13:44:48.987: WARN/System.err(489):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
09-05 13:44:48.987: WARN/System.err(489):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
09-05 13:44:48.987: WARN/System.err(489):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
09-05 13:44:48.987: WARN/System.err(489):     at android.os.Handler.dispatchMessage(Handler.java:99)
09-05 13:44:48.987: WARN/System.err(489):     at android.os.Looper.loop(Looper.java:123)
09-05 13:44:48.987: WARN/System.err(489):     at android.app.ActivityThread.main(ActivityThread.java:4627)
09-05 13:44:49.028: WARN/System.err(489):     at java.lang.reflect.Method.invokeNative(Native Method)
09-05 13:44:49.028: WARN/System.err(489):     at java.lang.reflect.Method.invoke(Method.java:521)
09-05 13:44:49.028: WARN/System.err(489):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
09-05 13:44:49.047: WARN/System.err(489):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
09-05 13:44:49.067: WARN/System.err(489):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T10:09:55.133

设置文件`Internet`中的android权限`Manifest.xml`

`android.permission.INTERNET`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T09:48:30.283

在不设置属性的情况下尝试相同的代码`systemProperties.setProperty("http.proxyPort","80");`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-15T10:51:00.003

得到了解决方案：

`String url = "farm1.static.flickr.com/150/399390737_7a3d508730_b.jpg"; proxy = "yourProxyIP", port = "yourProxyPort"; URL server = new URL(url); Properties systemProperties = System.getProperties(); systemProperties.setProperty("http.proxyHost",proxy); systemProperties.setProperty("http.proxyPort",port); HttpURLConnection connection = (HttpURLConnection)server.openConnection(); connection.connect(); InputStream in = connection.getInputStream(); image = Drawable.createFromStream(in, "src"); imageView.setImageDrawable(image);`

对于使用“https”，请使用 SSL 身份验证

# c# - 使用 json.net 将 xml 转换为 json

> ID：12276915
> 
> 赞同：1
> 
> 时间：2012-09-05T07:55:22.073
> 
> 标签：c#, xml, json, windows-runtime, json.net

我尝试使用 Json.Net 将我的 XML 字符串转换为 Json

在 Json.Net[文档](http://james.newtonking.com/projects/json/help/ "文档")中，它说我必须使用此代码将 xml 转换为 json：

```
string xml = @"<person id='1'>
         <name>Alan</name>
        <url>http://www.google.com</url>
         <role>Admin1</role>
     </person>";

 XmlDocument doc = new XmlDocument();
 doc.LoadXml(xml);

string json = JsonConvert.SerializeXmlNode(doc); 
```

但是在我的 Windows 8 应用程序中，我找不到 XmlDocument 类，也找不到 SerializeXmlNode。

我尝试了这些类和函数：

```
 var result = await response.Content.ReadAsStringAsync();
 XDocument xdoc = new XDocument();
 xdoc = XDocument.Load(result);
 // Parse the JSON Radio data
 string jsonText = JsonConvert.SerializeXNode(xdoc);
 var radios = JsonArray.Parse(result); 
```

但我收到以下错误：

```
An exception of type 'System.ArgumentException' occurred in mscorlib.dll but was not handled in user code

Additional information: Illegal characters in path.

If there is a handler for this exception, the program may be safely continued. 
```

结果我加载了正确的xml。从...开始：

```
<?xml version="1.0" encoding="utf-8"?>
<item>...</item> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T07:58:02.833

使用`XDocument.Parse`而不是`XDocument.Load`从 url 加载 xml

# c# - Linq解析html字符串

> ID：12276926
> 
> 赞同：1
> 
> 时间：2012-09-05T07:56:21.150
> 
> 标签：c#, html, linq, parsing

我想解析一个 html 页面并从中获取特定值。如何在 C# 中使用 Linq 或字符串解析来做到这一点？

------------- 更多 HTML ----------

```
 <span class="date">
        04.09.2012
    </span>
    <table cellspacing="0"><tr><th scope="row">1 EUR</th><td><span>**4,4907**</span></td><td><span class="rise">+0,0009</span></td><td><span class="rise">+0,02%</span></td></tr><tr><th scope="row">1 USD</th><td><span>3,5635</span></td><td><span class="fall">-0,0093</span></td><td><span class="fall">-0,26%</span></td></tr></table> 
```

------------- 更多 HTML ----------

我有兴趣以粗体显示值 4,4907！

知道如何实现这一目标吗？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:59:30.900

如果您只需要那一点，请使用正则表达式。（[但不要使用正则表达式来解析更复杂的 HTML。](https://stackoverflow.com/a/1732454/51685)）

```
<td><span>4,4907</span></td> 
```

将最方便地由正则表达式匹配

```
<td><span>([0-9,]+)</span></td> 
```

例如，请参阅这个关于如何在 C# 中使用正则表达式的[快速谷歌页面。](http://www.dotnetperls.com/regex-match)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:02:59.947

尝试解析 HTML 时要小心。

我认为显而易见的方法是将其加载到 XDocument（作为 XML）中，但由于 HTML 通常不明确或包含语法错误，因此这注定会失败。

Stack Overflow 上的人们建议使用 [http://htmlagilitypack.codeplex.com/](http://htmlagilitypack.codeplex.com/)，据说它可以很好地解析 html。然后你可以使用 xpath 来查询你的文档中的各种内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T07:59:33.940

您可以通过这种方式在 C# 中尝试正则表达式：

[http://www.c-sharpcorner.com/UploadFile/prasad_1/RegExpPSD12062005021717AM/RegExpPSD.aspx](http://www.c-sharpcorner.com/UploadFile/prasad_1/RegExpPSD12062005021717AM/RegExpPSD.aspx)

*查找“<span>* ”和“* *</span>”之间的字符串。

或者，您可以使用“jericho”之类的 HTML 解析器并浏览 HTML 标记以达到您的价值。

# ruby-on-rails - RoR：检查数值

> ID：12276934
> 
> 赞同：0
> 
> 时间：2012-09-05T07:56:45.223
> 
> 标签：ruby-on-rails, ruby, regex

我找到了用于检查字符串是否为数字的代码。它工作正常。但我不知道它是如何工作的。谁能解释一下。

```
 str = "12132344", str1="abcd", str2="12213234.132332"

    /^[\d]+(\.[\d]+){0,1}$/ === str  #=> true  //perfect
    /^[\d]+(\.[\d]+){0,1}$/ === str1 #=> false //perfect
    /^[\d]+(\.[\d]+){0,1}$/ === str2 #=. true  //perfect 
```

当我更改如下比较时：

```
 str === /^[\d]+(\.[\d]+){0,1}$/ #=>  false
    str1 === /^[\d]+(\.[\d]+){0,1}$/ #=> false
    str2 === /^[\d]+(\.[\d]+){0,1}$/ #=> false 
```

我还找到了使用匹配的替代方法。

谁能解释 (===) 运算符在这里做什么？这个怎么运作？还有其他替代方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T08:02:46.887

在 Ruby 中，运算符重载可用于定义每个运算符的作用，但必须由运算符左侧的类来完成。

此方法在`Regexp`对象类的 Ruby 标准库中定义。参考：[http](http://www.ruby-doc.org/core-1.9.3/Regexp.html#method-i-3D-3D-3D) ://www.ruby-doc.org/core-1.9.3/Regexp.html#method-i-3D-3D-3D 。

它仅适用`Regexp`于左侧的类（即模式），因为它被定义为仅在`Regexp`类中以这种方式工作。

在这种情况下，`Regexp`定义`===`为 的同义词`=~`，它匹配给定正则表达式模式的字符串。

该类`String`将`===`运算符定义为相等运算符。这意味着如果右侧参数不是字符串，则返回 false，否则仅当两个字符串匹配时才返回 true。参考：[http ://www.ruby-doc.org/core-1.9.3/String.html#method-i-3D-3D-3D](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-3D-3D-3D)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:02:55.380

```
def is_numeric?(str)
  str =~ /^[\d]+(\.[\d]+){0,1}$/
end 
```

# android - 在另一个 LinearLayout 中添加多个 LinearLayout 未按预期工作

> ID：12276940
> 
> 赞同：2
> 
> 时间：2012-09-05T07:57:20.603
> 
> 标签：android, android-layout

我有一个 LinearLayout，它应该包含一个项目列表（每个项目都是一个 LinearLayout）。问题是子项（LinearLayouts）没有显示在另一个下方：只有第一个可见。

这是我的 layout.xml：

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<TextView
    android:id="@+id/label_TextView"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_gravity="center_vertical"
    android:layout_weight="2"
    android:paddingLeft="@dimen/form_label_padding_left"
    android:text="" />

<LinearLayout
    android:id="@+id/form_list_holder"
    android:layout_width="0dp"
    android:layout_height="wrap_content"        
    android:layout_weight="8"
    android:orientation="horizontal"
    android:background="@color/form_list_background" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/label_TextView1"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_weight="2"
            android:paddingLeft="@dimen/form_label_padding_left"
            android:text="1" />

        <EditText
            android:id="@+id/edtx_input1"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="5" />

        <EditText
            android:id="@+id/edtx_remark1"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="3"
            android:hint="@string/remarks"
            android:visibility="invisible" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/label_TextView2"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_weight="2"
            android:paddingLeft="@dimen/form_label_padding_left"
            android:text="1" />

        <EditText
            android:id="@+id/edtx_input2"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="5" />

        <EditText
            android:id="@+id/edtx_remark2"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="3"
            android:hint="@string/remarks"
            android:visibility="invisible" />
    </LinearLayout>
</LinearLayout> 
```

你知道为什么会这样吗？我认为在 LinearLayout 中，如果当前行没有更多可用空间，则子项将显示在下一行。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T07:59:50.540

你`LinearLayout`的 id`form_list_holder`有一个`android:orientation="horizontal"`.

方向应该是垂直而不是使用`android:orientation="vertical"`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:17:12.050

尝试在 RelativeLayout 中使用线性布局。这样您就可以设置

```
android:layout_below="@+id/above_layout" //above_layout is the id of previous layout

<RelativeLayout>
    <LinearLayout
      android:id="@+id/layout1"
      android:layout_width="Wrap_Content"
      android:layout_height="Wrap_Content">

    </LinearLayout>
    <LinearLayout
      android:id="@+id/layout2"
      android:layout_width="Wrap_Content"
      android:layout_height="Wrap_Content"
      android:layout_below="@+id/layout1">

    </LinearLayout>
      <LinearLayout
      android:id="@+id/layout3"
      android:layout_width="Wrap_Content"
      android:layout_height="Wrap_Content"
      android:layout_below="@+id/layout2">

    </LinearLayout>
</RelativeLayout> 
```

它可能对你有帮助..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T08:07:20.143

您已经设置了所有 android:layout_width="0dp"，这意味着您将无法看到任何内容。将 0dp 更改为 match_parent。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T08:10:03.727

试试这个

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/form_list_holder"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"        
    android:layout_weight="8"
    android:orientation="vertical"
    android:background="@color/form_list_background" >

    <TextView
          android:id="@+id/label_TextView"
          android:layout_width="0dp"
          android:layout_height="wrap_content"
          android:layout_gravity="center_vertical"
          android:layout_weight="2"
          android:paddingLeft="@dimen/form_label_padding_left"
          android:text="" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/label_TextView1"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_weight="2"
            android:paddingLeft="@dimen/form_label_padding_left"
            android:text="1" />

        <EditText
            android:id="@+id/edtx_input1"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="5" />

        <EditText
            android:id="@+id/edtx_remark1"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="3"
            android:hint="@string/remarks"
            android:visibility="invisible" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/label_TextView2"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_weight="2"
            android:paddingLeft="@dimen/form_label_padding_left"
            android:text="1" />

        <EditText
            android:id="@+id/edtx_input2"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="5" />

        <EditText
            android:id="@+id/edtx_remark2"
            android:layout_width="0dp"
            android:layout_height="@dimen/form_input_height"
            android:layout_marginTop="@dimen/form_edittext_margin_top"
            android:layout_weight="3"
            android:hint="@string/remarks"
            android:visibility="invisible" />
    </LinearLayout>
</LinearLayout> 
```

# fluent-nhibernate - 流畅的 Nhibernate、参考和太多的查询

> ID：12276945
> 
> 赞同：2
> 
> 时间：2012-09-05T07:57:51.477
> 
> 标签：fluent-nhibernate

当我在我的地图中添加一个引用时，生成的 SQL 会使用外部左连接获取外部对象。这仅使用 1 个 SQL 即可提供良好的性能。

但是当引用的对象在 N 行上不存在时，NHibernate 会生成 N 个额外的查询来查找不存在的行。它应该从第一个查询中知道它不存在。

如何禁用此行为？

```
References(x => x.Customer)
.Columns("c1", "c2")
.NotFound.Ignore(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T14:09:14.647

它的功能不是错误！[https://nhibernate.jira.com/browse/NH-1001](https://nhibernate.jira.com/browse/NH-1001)

# cygwin - 作曲家和赛格温

> ID：12276946
> 
> 赞同：29
> 
> 时间：2012-09-05T07:57:54.363
> 
> 标签：cygwin, composer-php

如果您尝试“全局”安装 Composer，它将无法在 Cygwin 中正确运行。

将composer.phar放入/usr/local/bin/composer，然后尝试运行会报错：

```
Could not open input file: /usr/local/bin/composer 
```

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2013-02-15T22:42:35.240

刚刚遇到同样的问题并找到了解决方案。把它贴在这里，以防万一我不得不再次查找它。

1.  在下面设置一个`bin`目录`/home/my-username`：

    ```
    cd ~
    mkdir bin 
    ```

2.  将`composer.phar`（或任何其他正在兴起的漂亮的新 PHP 小鬼）移动到`~/bin`目录中，并确保**设置**它的**执行位**：

    ```
    # Notice how I got rid of the superfluous `.phar` extension
    mv /path/to/composer.phar ~/bin/composer
    chmod +x ~/bin/composer 
    ```

3.  告诉在搜索路径`cygwin`中包含您的目录：`~/bin`

    打开文件`~/.bash_profile`并取消注释以下段落...

    ```
    # Set PATH so it includes user's private bin if it exists
    if [ -d "${HOME}/bin" ] ; then
      PATH="${HOME}/bin:${PATH}"
    fi 
    ```

4.  现在，对于最重要的部分：

    一个帮助 Win 的原生 PHP 解析 Unix 样式路径的包装脚本（这毕竟是导致问题的原因，因为 Windows 不知道如何处理`/cygdrive/...`路径）。

    ```
    cd ~/bin
    touch php
    chmod +x php 
    ```

    编辑包装脚本后`~/bin/php`应为：

    ```
    #!/bin/bash

    # e.g. php="/cygdrive/c/Program Files (x86)/php/php.exe"
    php="/path/to/php.exe"

    for ((n=1; n <= $#; n++)); do
        if [ -e "${!n}" ]; then
            # Converts Unix style paths to Windows equivalents
            path="$(cygpath --mixed ${!n} | xargs)"

            case 1 in
                $(( n == 1 )) )
                    set -- "$path" "${@:$(($n+1))}";;
                $(( n < $# )) )
                    set -- "${@:1:$((n-1))}" "$path" ${@:$((n+1)):$#};;
                *)
                    set -- "${@:1:$(($#-1))}" "$path";;
            esac
        fi
    done

    "$php" "$@" 
    ```

5.  现在重新启动你的 shell，它应该在遇到`#!/usr/bin/env php`shebang 时正确调用 PHP 解释器。只需发出：

    ```
    composer --help 
    ```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2015-02-15T13:03:57.230

这个怎么样？

1.  在 ~/.bashrc 中，添加：`alias composer='php c:\\your\\path\\to\\composer.phar'`
2.  通过运行重新启动 cygwin 或重新加载 bashrc`source ~/.bashrc`

使用 Cygwin 的本机 php.exe 和 XAMPP 的 Windows 特定的一个对我有用。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-09-05T08:39:34.063

我认为可能可行的是构建代理：

*   将 composer.phar 放在 /usr/local/bin/composer.phar
*   使用以下内容创建一个 bash 代理作为 /usr/local/bin/composer：

    ```
    #!/bin/sh
    c:/path/to/php c:/path/to/composer.phar $@ 
    ```

*   chmod +x /usr/local/bin/composer

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-06-21T02:04:33.573

试试这个：

*   安装 Cygwin PHP 并使用它在 Cygwin 中运行 composer。

* * *

您可以选择以下两种方式之一在 Cygwin 中正常使用 PHP+Composer：

1.  安装 Cygwin PHP 并在 Cygwin 中安装 composer.phar。

2.  安装 Windows PHP 并安装 Winodows Composer，然后从 Cygwin 调用。（在 cmd 中有别名的 Windows XAMMP+Composer）

* * *

您的问题是由于 Cygwin Composer 被 Cygwin 上的 Windows PHP 破坏造成的，因此它无法识别文件路径。

安装 Cygwin PHP 后，composer 将与 Cygwin PHP 集成，然后适应 Cygwin 的文件路径。

### 用于作曲家的 Cygwin PHP 扩展：

```
php
php-json
php-mbstring
php-phar 
php-zip
php-posix 
```

当需要 composer 的包时，您可以安装其他 PHP 扩展，例如`php-xmlwriter`, `php-tokenizer`, `php-ctype`.

* * *

### 安装命令指南：

如果你已经安装了[apt-cyg](https://github.com/transcode-open/apt-cyg)，上面有安装命令：

```
apt-cyg install php php-json php-mbstring php-phar php-zip php-posix
apt-cyg install php-xmlwriter php-tokenizer php-ctype 
```

然后通过 Cygwin PHP 安装 Composer：

```
php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
php composer-setup.php
php -r "unlink('composer-setup.php');"
chmod +x ./composer.phar
mv ./composer.phar /usr/bin/composer
composer -v 
```

* * *

### 结论

我推荐使用 Windows PHP + Windows Composer，然后在 Cygwin 中调用，因为 Cygwin PHP 并不比 Windows PHP 稳定。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-02-19T10:54:40.543

我有同样的问题。从作曲家安装程序阅读最后的指令后，它说应该重新加载 $PATH 变量。我重新启动计算机，然后将 Composer bin 链接到`/usr/local/bin`.

首先找到作曲家 bin ： `/cygdrive/c/ProgramData/ComposerSetup/bin/composer`

然后根据[Seldaek](https://stackoverflow.com/a/12277525/1145578)的回答，在尝试了一个无效的符号链接后，我做了：

`nano /usr/local/bin/composer`

```
#!/bin/sh
/cygdrive/c/ProgramData/ComposerSetup/bin/composer $@ 
```

`chmod +x /usr/local/bin/composer`

它正在工作。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-01-13T19:45:10.087

我做了什么（非常简单）：

*   使用 Windows 安装程序正常安装 Composer
*   打开 Cygwin 控制台，`composer`您将看到类似的类型`Could not open input file: /c/route/to/your/composer/installation/bin`
*   `composer='composer.bat'`在您的 bash 配置文件或 bashrc 或其他任何内容上创建别名
*   完毕

我正在运行 Windows 8.1

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2015-12-23T16:30:41.727

我遇到了这个问题。大多数回复都在我的脑海中，但我没有问题地修复它。

步骤 1) 按照[https://getcomposer.org/download/在全球范围内重新安装 Composer](https://getcomposer.org/download/)

第 2 步）不要管它。所有你想做的特别的事情，不要那样做。

[步骤 3) 从https://cygwin.com/](https://cygwin.com/)下载最新的 setup-xxx.exe

步骤 4) 用鼠标单击它。

注意：在第 5 步中，您会突然有阅读说明、浏览网页以获取信息并开始检查菜单上的小框的冲动。不要那样做。

步骤 5) 单击“下一步”，直到它停止询问。它将查看您现有的设置，修复并添加任何缺少的依赖项。

这对我有用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-05T07:57:54.363

让作曲家在 Cygwin 内部全球工作是一件很痛苦的事……

我提出的解决方案：

1.  不要在全球范围内使用它。如果您从 Windows 安装中使用 PHP CLI，它将无法识别 Cygwin 使用的 Linux 路径。

    我所做的是将它放在我使用 composer 的所有项目的基本目录中，然后执行 ../composer.phar 来运行它。

    它以这种方式运行良好，并且*几乎*在全球范围内可用......

2.  在 Cygwin 中下载并编译您自己的 PHP 二进制文件……是的，有点矫枉过正。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-03-03T14:29:14.997

最简单的方法是使用他们网站上的 Windows 安装程序安装 composer，然后将“C:\ProgramData\Composer”中的“composer”和“composer.phar”两个文件复制到 PATH 变量中的目录中。例如，您可以将文件复制到 cygwin 的 /bin/ 目录中。之后，您可以再次卸载 Composer 的“Windows 版本”。

**更新！**这就是我所做的：

1.  从[Cygwin Ports 项目安装 PHP 和所需模块](http://sourceware.org/cygwinports/)
2.  下载[最新的作曲家快照](http://getcomposer.org/composer.phar)
3.  将 'composer.phar' 重命名为 'composer' 并保存到 /usr/local/bin
4.  打开 /bin/dash.exe 并运行“/usr/bin/rebaseall”
5.  此外，如果 4\. 给你一个错误，composer 应该现在运行

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-05-10T13:35:16.253

我在 Cygwin/XAMPP 设置中解决了这样的问题：

*   安装`composer.phar`到 XAMPP 的`php`目录

*   创建一个名为`composer`XAMPP`php`目录的可执行 Bash 脚本：

    ```
    #!/bin/bash
    script_dir=$(cygpath -w $(dirname $0))
    php "$script_dir/composer.phar" $@ 
    ```

    `cygpath -w`用于将路径转换为 ​​Windows 形式的路径很重要。

*   `php`确保在 Cygwin 中可以访问XAMPP 的目录`$PATH`：

    ```
    $ export PATH=$PATH:/cygdrive/i/dev/server/xampp/php 
    ```

现在可以`composer`从您喜欢的任何地方毫无问题地拨打电话：

```
 $ composer -V
    Composer version 264f433ca3f007d39568b3722b4bf418f58ba15b 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2013-05-17T09:58:24.320

`/usr/local/bin/composer`我通过添加一个文件来修复它：

```
nano /usr/local/bin/composer 
```

内容如下：

```
#!/bin/bash
/cygdrive/c/wamp/bin/php/php5.4.3/php "C:\wamp\bin\php\php5.4.3\composer" 
```

基本上，您必须使用 Windows 样式路径而不是 cygwin 路径调用 PHP。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-07-22T08:22:15.890

我建议你使用 babun，它基于 cygwin，但是你可以通过 pact 安装包，你可以这样做：

契约安装 php php-json php-phar

php -r "readfile(' [https://getcomposer.org/installer](https://getcomposer.org/installer) ');" | php

然后享受自己。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-01-23T17:31:11.753

我无法让 Composer 在 Cygwin 中工作，并且上述解决方案都没有解决我的问题。最终，我在 Composer github bugs 讨论中偶然发现了[这条评论：](https://github.com/composer/composer/issues/4433#issuecomment-142342883)

> 是的，使用 cygwin 的 php 的 TBH 不是一个好主意，cygwin 的环境太不同了。太多导致失败的黑客行为..无论如何，在这里关闭，因为我们无能为力我害怕:)

我不确切知道composer/Cygwin/php在哪里出错，但总的来说，我的问题是我在环境变量中有两个冲突的PHP安装，一个来自WAMP的安装，另一个来自Cygwin。Cygwin PHP 安装似乎遇到了某种路径问题。我删除了它，只使用 WAMP PHP，作曲家在 Cygwin 中运行得很好。

# c - 是否有任何 C 的非二进制补码实现？

> ID：12276957
> 
> 赞同：47
> 
> 时间：2012-09-05T07:58:52.633
> 
> 标签：c, language-lawyer, iso, negative-number, representation

[毫无疑问，我们都知道](https://stackoverflow.com/questions/3952123/representation-of-negative-numbers-in-c/3952262#3952262)，ISO C 标准（以及 C++，我认为，尽管我对 C 方面更感兴趣）允许有符号数字的三种底层表示：

*   二进制补码；
*   个的补码；和
*   符号/大小。

Wikipedia 的条目指出，符号/幅度用于 60 年代的 IBM 7090，而 PDP-1、CDC 160A 和 UNIVAC 1100 使用的是补码，所有这些都可以追溯到 60 年代。

是否存在具有这些替代表示的 C（或底层硬件）的任何其他实现，这些实现比五十年前（它们是什么）更晚一些？

将某些东西保留在不再存在的机器标准中似乎有点浪费。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-09-05T09:07:46.417

我能找到的最新示例是基于 UNIVAC 的[UNISYS 2200](http://en.wikipedia.org/wiki/UNIVAC_1100/2200_series#UNISYS_2200_series)系列，具有补码算法。各种型号都是在 1986 年至 1997 年间生产的，但操作系统[直到 2015 年仍在积极开发中](http://en.wikipedia.org/wiki/Unisys_OS_2200_operating_system)。他们还有一个 C 编译器，如此[处所示](http://en.wikipedia.org/wiki/Unisys_OS_2200_programming_languages)。

看来它们今天可能仍在使用。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-05T08:11:08.120

我没有任何确凿的证据表明不存在，但我从未见过。据我所知，所有非二进制补码硬件早在 C 标准化之前就已经过时了。

也许收集证据的最佳方式是在与非双补系统相关的标准中寻找相互冲突的要求和其他明显的错误。如果从未创建过这样的实现，那么规范中可能存在疏忽，当有人真正尝试实现时，这些疏忽就会变得明显。

# android - 在 Activity 之间移动

> ID：12276958
> 
> 赞同：0
> 
> 时间：2012-09-05T07:58:56.500
> 
> 标签：android

我有 4 个活动。第一个是登录活动，第四个是用户将数据发送到服务器。现在我想做的是当数据发送成功时，我希望用户从活动 4 移动到活动 2。我怎样才能实现这种情况。

我需要实现这个 handleSuccessSaveOrder() 它将带我从第 4 次活动到第 2 次活动

```
private void saveOrder(final Order order) {
    Thread thread = new Thread(new Runnable() {
        @Override
        public void run() {
            try {
                getConnection().saveOrder(order);
                //handleSuccessSaveOrder();
            }
            catch (Exception exc) {
                Log.d("--- ERROR ---", exc.getMessage());
                handleException(exc.getMessage());
            }
        }
    });
    thread.start();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T08:12:31.467

在你的末尾`handleSuccessSaveOrder()`，执行以下操作：

```
Intent intent = new Intent(this, Your_activity_2_class_name.class);
intent.putExtra(PARAM_KEY, value); //use if you want to pass params to new intent
startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:00:41.517

1.  发送数据
2.  当服务器收到所有数据后，让它向应用程序发送通知，说明这一点。
3.  当你的应用收到通知时，使用一个意图来启动你想要的 Activity。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T08:07:14.397

您需要分析您的服务器的响应（作为您使用的连接方法）。一旦处理了这个答案，如果正确，创建一个链接到 Activity 2 的 Intent 并使用 startActivity (Intent) 运行它。

# python - 我在 python 脚本中做错了什么来获取输出？

> ID：12276968
> 
> 赞同：0
> 
> 时间：2012-09-05T07:59:25.127
> 
> 标签：python

我认为这应该有效。我想在创建的带有标签名称的文件上为每个标签获取此命令 "grep -l %s *.py" % 标签的输出。

```
import os
import sys

results_dir = '/home/ks/one/work/tn/format-description 15852/results'
converters_dir = '/home/ks/one/work/cvr'
export_dir = '/home/ks/one/work/epr'
all_dirs = {'cvr':cvrs_dir, 
            'epr':eprs_dir}

tags = [tag.strip() for tag in open('new file').readlines()]
for coe, directory in all_dirs.items(): # coe - type of our file
    os.chdir(results_dir)
    for tag in tags:
        tag_file = open(coe + ' ' + tag, 'w')
        sys.stdout = tag_file
        os.chdir(directory)
        os.system("grep -l %s *.py" % tag)
        tag_file.close() 
```

但是我在运行脚本时看到的所有内容 - 它都在我的控制台中输出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:16:23.487

使用 Python 的 subprocess 模块

[http://docs.python.org/library/subprocess.html](http://docs.python.org/library/subprocess.html)

该文档包含大量文档和示例。

os.system() 的另一个（差）选项是将输出重定向到文件

```
os.system('do_something >/tmp/myoutput') 
```

然后从 Python 中读取输出文件。然而，这很丑陋并且可能不是很便携。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:20:27.433

我能想到的最小更改是更改：

```
os.system("grep -l %s *.py" % tag) 
```

为了：

```
output = commands.getoutput("grep -l %s *.py" % tag) 
```

这样，命令的输出将最终出现在输出变量中。

我不确定为什么其他人教条地告诉您更改代码以使用子流程；这样做需要更多的重写。

# memory-management - 如何检测谁发出了错误的 kfree

> ID：12276969
> 
> 赞同：3
> 
> 时间：2012-09-05T07:59:29.043
> 
> 标签：memory-management, memory-leaks, linux-kernel, double-free

我怀疑我的内核代码中有双重 kfree。基本上，我有一个在模块中被 kzalloced 和 kfreed 的数据结构。我注意到分配了相同的地址，然后再次分配，而没有在模块中释放。

我想知道我应该采用什么技术来查找错误的 kfree 发布位置。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:41:52.933

1\. 是的，**kmemleak**是一个优秀的工具，特别适合系统范围的分析。

请注意，如果您打算使用它来分析内核模块，您可能需要在加载模块时保存包含模块代码（.text、.init.text、...）的 ELF 部分的地址. 这可以帮助您破译 kmemleak 报告中的调用堆栈。在模块卸载后要求 kmemleak 生成报告通常是有意义的，但此时 kmemleak 无法解析地址。

当一个模块被加载时，它的部分的地址可以在`/sys/module/<module_name>/sections/`.

在您找到报告中每个代码地址所属的部分以及该部分的相应偏移量后，您可以使用 objdump、gdb、addr2line 或类似工具来获取有关感兴趣事件发生位置的更详细信息。

2、除此之外，如果你在x86系统上工作，你想分析单个内核模块，你也可以使用[**KEDR LeakCheck工具**](https://github.com/euspectre/kedr)。

与 kmemleak 不同，大多数情况下，不需要重新构建内核即可使用 KEDR。

有关如何构建和使用 KEDR 的说明在[此处](http://code.google.com/p/kedr/wiki/kedr_manual_getting_started)。“检测内存泄漏”部分描述了如何使用 LeakCheck 的简单示例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T01:24:41.560

您是否尝试过启用 kmemleak 检测代码？

详情请参阅`Documentation/kmemleak.txt`。

# java - GSON：java.lang.IllegalStateException：应为 BEGIN_OBJECT 但为 STRING

> ID：12276979
> 
> 赞同：1
> 
> 时间：2012-09-05T07:59:55.893
> 
> 标签：java, json, gson

我面临一个关于 GSON json 到 Java 的问题。我在这里查找了很多帖子，但我找不到我的问题的解决方案。所以我在这里列出我的问题。非常感谢 ！

这是我的 Json 数据

```
"{
    "data": {
        "marks": "",
        "spines": "",
        "dendrites": {
            "voxel": [
                [383,382,382,381],
                [49,50,51,52],
                [7,10,10,10],
                [0,0,0,0]
            ],
            "maxint": [32,42,28,28],
            "maxintcorrected": null,
            "maxintcube": null,
            "medianfiltered": [54.36979745,54.36979745,54.36979745,54.36979745],
            "meanbacksingle": null,
            "maxintsingle": null,
            "thres": null,
            "meanback": 42,
            "index": 1,
            "length": [0,0.3223757885,0.6336712814,0.9350672197,1.227262867],
            "XYlength": [0,0.2085982964,0.410997367,0.6084466603]
        }
    }
}
" 
```

我的班级的定义如下

```
public class Test {
    public data data;

    public class data {

        public Object marks;
        public String spines = "";
        public StandardSpinenalysisImage.data.dendrites[] dendrites;

        public class dendrites {

            public int voxel[][];
            public int maxint[];
            public String maxintcorrected = "";
            public String maxintcube = "";
            public int medianfiltered[];
            public String meanbacksingle = "";
            public String maxintsingle = "";
            public int thres = 0;
            public int meanback;
            public int index = 0;
            public int length[];
            public int XYlength[];

            public dendrites() {
                this.thres = 100;
            }
        }
    }
} 
```

但是当我使用代码 Test t = g.fromJson(input, Test.class);

我得到了错误结果。

```
Exception in thread "AWT-EventQueue-0" com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 5 
```

非常非常感谢你！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:11:05.633

你的 json 看起来不错。只需尝试从 json 的开头和结尾删除 "

您可以尝试使用[此链接](http://jsonformat.com/)来验证您的 json

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-08T15:58:31.510

今天面临同样的错误。在我看来，问题是 JSON 中的一个变量映射到一个字符串，但在类中，该变量位于类类型的对象上。这让 Gson 认为 JSON 变量应该是 Class 类型，导致 IllegalStateException 与`Expected BEGIN_OBJECT but was STRING`

希望它可以帮助某人。

# javascript - 如何在 spry 选项卡式面板中禁用选项卡单击？

> ID：12276984
> 
> 赞同：1
> 
> 时间：2012-09-05T08:00:09.507
> 
> 标签：javascript, jquery, html, css, spry

到目前为止，在单击按钮之前，我已经编写了将选项卡的显示属性设置为无的编码。代码如下。

问题是一次只显示一个选项卡。我想要的是，所有选项卡都应该可见但不可点击。如果可能的话，请帮助我编写代码，或者只是给我一些建议，我将尝试自己编写代码并将其发布在这里作为答案。

谢谢！

在

```
<div id="TabbedPanels1" class="TabbedPanels">
    <ul class="TabbedPanelsTabGroup">
      <li class="TabbedPanelsTab" tabindex="-1" id="tab1"><b>BOOKING</b></li>
      <li class="TabbedPanelsTab" tabindex="-1" id="tab2" style="">QUOTE</li>
      <li class="TabbedPanelsTab" tabindex="-1" id="tab3">SIGNUP</li>
      <li class="TabbedPanelsTab" tabindex="-1" id="tab4">PAYMENT</li>
    </ul> 
```

在（只有第一个选项卡可见，其他选项卡不可见）

```
<script type="text/javascript">
$(document).ready(function(){

    /*initially hide all tab except tab1*/
    $('.TabbedPanelsTabGroup').children().hide().eq(0).show();

    /*show tab2 when click the complete button by hiding all tabs*/
    $('.complete').on('click', function(){
         $('#tab2').siblings().slideUp();
        $('#tab2').slideDown();
    });
});
</script> 
```

在 JS 中：（单击按钮时）（这样第二个选项卡将可见，其余 3 个选项卡将不可见）

```
TabbedPanels1.showPanel(1);

$('.TabbedPanelsTabGroup').children().hide().eq(1).show(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:08:47.763

试试这个

```
$('.TabbedPanelsTabGroup').off("click"); 
```

或者

```
$('.TabbedPanelsTabGroup li').off("click"); 
```

[jQuery 关闭（）](http://api.jquery.com/off/)。

让我知道它是否不起作用。

**更新 1**

```
$('.TabbedPanelsTabGroup li').on("click", function(){
   return false;
}); 
```

或者，如果您使用的是 jquery 选项卡，请查看：http: [//jqueryui.com/demos/tabs/#event-select](http://jqueryui.com/demos/tabs/#event-select)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T08:11:49.653

用这个

```
 $('.TabbedPanelsTabGroup').children().unbind("click");

 $('.TabbedPanelsTabGroup').children().eq(0).bind("click"); 
```

而不是做

```
$('.TabbedPanelsTabGroup').children().hide().eq(0).show(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T09:42:52.523

感谢大家的帮助，我终于自己找到了答案。其实很简单。我刚刚在 .js 文件中注释了 Spry.Widget.TabbedPanels.prototype.onTabClick 事件。

```
/*Spry.Widget.TabbedPanels.prototype.onTabClick = function(e, tab)
{
    this.showPanel(tab);
return this.cancelEvent(e);
};*/ 
```

现在选项卡不可点击，可以按我想要的方式工作。

# performance - 与 Hibernate 或 JDBC 相比，JPA 批处理的性能很差

> ID：12276987
> 
> 赞同：2
> 
> 时间：2012-09-05T08:00:25.093
> 
> 标签：performance, hibernate, jpa, jdbc, batch-file

我最近需要创建一个批处理来读取具有数百万行的表。该表大约有 12 列，我只需要做一个`read`操作。但是我需要所有字段，因此我考虑使用持久性对象。

我真的只使用了最基本的代码来实现这一点并且没有任何调整。`JPA`很烦人，因为它迫使我使用自定义分页`maxResults`和`minResults`。如果您有兴趣，可以查看下面的大致代码超链接。除了默认的 XML 文件等之外，真的没有别的东西了。

JPA 代码：[http](http://codeviewer.org/view/code:297e)
://codeviewer.org/view/code:297e Hibernate 代码：[http](http://codeviewer.org/view/code:297f)
://codeviewer.org/view/code:297f JDBC 代码：同上，但末尾带有“d” （对不起，我只能发布 2 个链接）

完成操作的时间结果是这样的。我只是在谈论读取操作：

```
JPA:         Per 5 seconds: 1.000||Per Minute: 12.000||Per Hour: 720.000
Hibernate:   Per 5 seconds: 20.000||Per Minute: 240.000||Per Hour: 14.400.000
JDBC:        Per 5 seconds: 50.000-80.000||Per Minute: 600.000-960.000||Per Hour: 36.000.000-57.600.000 
```

我无法解释，但 JPA 很荒谬。这只能是一个很大的坏笑话。有趣的是，它以与 Hibernate 代码相同的速度启动，但在大约 30.000 条记录之后，它变得越来越慢，直到它稳定在每 5 秒 1.000 次读取操作。它在完成大约 100.000 条记录后达到了这一点。但老实说……这样的速度毫无意义。

为什么呢？请给我解释一下。我真的不知道我做错了什么。但我也认为它不应该那么慢，即使使用默认设置。不可能，也不应该！相比之下，休眠和`JDBC`速度一直是可以接受和稳定的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-05T08:28:27.213

使用 Hibernate，您只需使用一个查询和可滚动的结果即可获得良好的性能。不幸的是，目前这在 JPA 中是不可能的，您必须对每个结果页面执行查询。

所以，你做对了。但是您的页面大小仅设置为 20 个结果。这很少，因此您的代码会进行大量查询。尝试更大的尺寸，例如 10000 个结果，性能可能会提高。无论如何，我认为您将无法获得接近 Hibernate 的数字。

# wordpress - Wordpress 订单自定义分类

> ID：12276994
> 
> 赞同：2
> 
> 时间：2012-09-05T08:00:52.463
> 
> 标签：wordpress

我们有一个名为 Byline 的自定义分类法，它是通过更多分类法插件创建的。

问题是在我们保存了多个署名示例（C. Reporter、B. Reporter、A. Reporter）的帖子后，它变成了（A Reporter、B Reporter、C Reporter），我们对名称的顺序有疑问.

我检查了 wp_term_relationships 并找到了 term_order 字段，但它没有被填充，即使我一一保存分类法，它也会自动按 term_taxonomy_id 排序。

我使用函数 get_the_term_list( $post->ID, 'byline', '', ', ', '' ); 在调用分类法时。

有没有办法可以在发布或更新期间填充 term_order。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T09:57:51.047

term_order 目前仅由画廊使用，afaik 没有计划对此进行扩展。

trac 中有一个条目，其中包含有关如何将其用于分类的[示例代码。](http://core.trac.wordpress.org/ticket/9547#comment:7)

# html - 在 Yahoo、Hotmail 和 Gmail 中，HTML 电子邮件看起来不同

> ID：12276995
> 
> 赞同：-2
> 
> 时间：2012-09-05T08:01:07.057
> 
> 标签：html, css

我正在发送 HTML 电子邮件，但我的电子邮件在不同的电子邮件客户端（例如**Yahoo**、**Hotmail**和**Gmail** ）上看起来不同。我使用`<style>`标签来使用移动设备的媒体查询，然后使用该样式表的 Yahoo 和 Hotmail。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:09:18.747

电子邮件客户端都以不同的方式处理 CSS - 它们支持不同的属性，有时明确不允许某些属性。这比 Web 浏览器的样式要难得多。

以下是一些用于创建电子邮件设计的资源：

[在 HTML 电子邮件中使用 CSS 的指南](http://css-tricks.com/using-css-in-html-emails-the-real-story/)

[不同电子邮件客户端中的 CSS 支持表](http://www.campaignmonitor.com/css/)（来自@donald123 的回答）

[HTML 电子邮件模板生成器](http://www.campaignmonitor.com/templates/)（来自@cassi.lup 的回答）

[移动设备电子邮件中 ​​CSS 优化指南](http://mobile.smashingmagazine.com/2011/08/18/from-monitor-to-mobile-optimizing-email-newsletters-with-css/)

[Mailchimps 电子邮件模板](http://mailchimp.com/resources/html-email-templates/)（来自@cassi.lup 的回答）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T08:09:46.670

请记住，html 电子邮件的 CSS 必须简单，并非所有客户都了解所有 CSS 样式 :-(

例如，在 html 电子邮件中使用表格进行布局是一个很好的 id ...

尝试在 google 中搜索为您的 html 电子邮件编写脚本的最佳方式。您可以在此处找到有关主要客户对 CSS 样式的理解的简短概述

[对主要客户的 CSS 样式的了解可以在这里找到](http://www.campaignmonitor.com/css/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-05T08:21:17.223

您有 2 个选项：

1.  从格式正确的模板开始，然后从那里开始您的设计。在这个问题上一个非常有用的资源是[这个服务](http://www.campaignmonitor.com/templates/)。但请记住，您在 CSS 技巧方面非常有限。
2.  从图像构建您的 html 格式的电子邮件。然后，您肯定会在所有浏览器上保持一致，因为您使用的设计元素将被类似地解释。

另一个有用的资源： http: [//mailchimp.com/resources/html-email-templates/](http://mailchimp.com/resources/html-email-templates/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-05T08:12:52.303

[您可以从此站点](http://www.benchmarkemail.com/help-FAQ/answer/Common-HTML-Email-Coding-Mistakes)更好地了解电子邮件样式

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-05T08:29:42.580

个人我总是创建一个没有文档类型的 html 字段。然后只是打开和关闭 html、head 和 body 的标签。然后只使用表格并且只使用内联样式表。另外不要忘记删除表格边框、单元格填充和边距，因为根据我的经验，它们会很痛苦。

要填满空间，请使用表格单元格，不要使用填充或边距，因为某些电子邮件客户端会忽略这些。

最重要的是！不要使用背景。尽量不要使用太多图像。将它们用于页眉、页脚或例如产品图像。

希望它对语法有帮助和抱歉；）

# oracle - Oracle：多个连接到一列

> ID：12276996
> 
> 赞同：-1
> 
> 时间：2012-09-05T08:01:14.267
> 
> 标签：oracle

我按照常规方法（附加到 ID 列）将一个表连接到另一个表上。这工作正常，并在我运行查询时返回一行。但是，如果我尝试将另一个表连接到同一个 ID 列，我会得到一个空的结果集。这在 Oracle 中是否合法，还是我必须找到另一种解决方法？

干杯。

**编辑**：代码：

```
INNER JOIN    TABLE2
ON            TABLE1.ID = TABLE2.ID

INNER JOIN    TABLE3
ON            TABLE1.ID = TABLE3.ID 
```

我也尝试将表 3 加入表 2，但这也没有效果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T09:08:54.023

事实证明，我的问题不在 join 语句中，而是在它下面的*WHERE*子句中。加入工作正常。

因此，要回答我的问题：**是的，这是合法的**。