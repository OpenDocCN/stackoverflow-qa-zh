# StackOverflow 问答 12294000-12294999

# configuration-management - 与 liquibase 和 flyway 等工具风格相同的配置属性管理工具？

> ID：12294001
> 
> 赞同：2
> 
> 时间：2012-09-06T06:15:26.717
> 
> 标签：configuration-management

我想知道是否有任何现有工具允许以与 liquibase 和 flyway 等数据库迁移工具相同的风格管理配置属性（如 Java 属性文件或其他类似格式）。

我想要一种更好的方法来管理我的应用程序的配置属性，这将允许我跟踪它们随时间的演变。

这样的事情存在吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-06T11:20:27.627

如果所有配置都被外部化并受版本控制，这还不够吗？跟踪演变只是版本历史的问题。与 db 迁移脚本不同，config 不会执行将某些内容从版本 x 升级到版本 y。持续交付[书](http://martinfowler.com/delivery.html)说：

> 通常，我们认为在构建或打包时注入配置信息是不好的做法。这遵循您应该能够将相同的二进制文件部署到每个环境的原则，这样您就可以确保您发布的内容与您测试的内容相同。

然后有这个建议将其全部存储为[环境](http://www.12factor.net/config)变量。

# visual-studio-2010 - 如何在 Visual Studio 中检查或修改 @INC？

> ID：12294003
> 
> 赞同：3
> 
> 时间：2012-09-06T06:15:31.940
> 
> 标签：visual-studio-2010, perl, chromium

我试图在 Windows 上构建 Chromium 并遇到以下错误：

```
1>------ Build started: Project: webcore_bindings_sources, Configuration: Debug Win32 ------
1>Build started 9/6/2012 11:31:11 AM.
1>InitializeBuildStatus:
1>  Touching "..\..\..\..\..\build\Debug\obj\webcore_bindings_sources\webcore_bindings_sources.unsuccessfulbuild".
1>CustomBuild:
1>  ExceptionCodeDescription
1>  Can't locate strict.pm in @INC (@INC contains: C:\chromium\src\third_party\WebKit\Source\WebCore\bindings\scripts /usr/lib/perl5/5.10/i686-cygwin /usr/lib/perl5/5.10 /usr/lib/perl5/site_perl/5.10/i686-cygwin /usr/lib/perl5/site_perl/5.10 /usr/lib/perl5/vendor_perl/5.10/i686-cygwin /usr/lib/perl5/vendor_perl/5.10 /usr/lib/perl5/vendor_perl/5.10 /usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/vendor_perl/5.8 .) at C:\chromium\src\third_party\WebKit\Source\WebCore\dom\make_dom_exceptions.pl line 33.
1>  BEGIN failed--compilation aborted at C:\chromium\src\third_party\WebKit\Source\WebCore\dom\make_dom_exceptions.pl line 33. 
```

看起来我的 Perl 路径不在 Visual Studio 中，所以我想将路径添加到 this`@INC`中，但不确定在哪里添加。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T08:07:30.727

尝试通过设置`PERL5LIB`环境变量。

有[这篇不错的文章解释了如何**在 Windows 上修改 @INC**](http://perl5maven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T07:34:40.283

刚刚发现这意味着 cygwin 没有在 Visual Studio 中正确安装。

解决方案是：

1.  在解决方案资源管理器中转到项目的属性

2.  转到属性 -> 构建事件 -> 预构建事件

3.  在命令行放： `$(SolutionDir)..\third_party\cygwin\setup_mount.bat`

这个[线程](http://code.google.com/p/chromiumembedded/issues/detail?id=26)有更多细节。

# lync - 响应组呼叫到达 LYNC 2010 SDK 时不会触发 ConversationAdded 事件

> ID：12294004
> 
> 赞同：2
> 
> 时间：2012-09-06T06:15:32.737
> 
> 标签：lync, lync-server-2010

我试图找出当呼叫不是到达特定代理，而是到达用户注册的响应组时触发的事件。我正在监视 ConversationAdded 事件。在添加新对话的所有情况下，无论是 IM、音频呼叫还是来自外部的呼叫，都会触发此事件。但是，当呼叫到达同时添加了我的用户的响应组时，不会触发 ConversationAdded 事件。呼叫到达响应组时可能会有特殊事件吗？但是有人可以提出建议吗？

提前感谢您的答案。

问候

加吉克

# c# - 日报表系统的客户端服务器应用程序

> ID：12294005
> 
> 赞同：0
> 
> 时间：2012-09-06T06:15:36.637
> 
> 标签：c#, .net, vb.net, client-server

我想在 C# 或 VB.net 中制作一个应用程序，它允许用户（客户端）使用该用户帐户填写每日报告，并允许管理员（服务器）管理主题（即添加、查看、编辑报告）。

我想做这样的应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T08:38:34.660

模糊的问题得到模糊的答案。一个非常基本的（有点*半开玩笑的*）策略：

1.  创建一个网页来展示用户可以输入或上传他们的报告的界面（也许看看 Asp.Net MVC？）
2.  创建一个简单的后端系统（可能是某种服务，例如使用 WCF？）来接受和存储传入的报告，以及检索和返回现有的报告。这应该包括某种用于存储报告的数据库。
3.  将您的网页连接到后端系统，并将前者用作后者的接口。

创建一个或多个 AD 组以在这些系统中提供身份验证并授予用户适当的访问级别。

一旦你开始做这件事并尝试了一些东西，你可以在这里提出更精确的问题，这样更容易给出更有建设性的答案。

# javascript - 循环遍历 XML 节点并存储为 JavaScript 变量

> ID：12294018
> 
> 赞同：0
> 
> 时间：2012-09-06T06:16:41.583
> 
> 标签：javascript, xml

我是 JavaScript 新手，我正在尝试读取 XML 文件并将其内容提取到 JavaScript 变量中。

这是我的 XML 文件内容的示例：

```
<!-- Locations of current projects -->
<projectsites>
 <li>
  <title>Battling Ninja Army</title>
  <location>Osaka, Japan</location>
  <lat>34.69</lat>
  <lon>135.50</lon>
 </li>
 <li>
  <title>Software Development</title>
  <location>Vienna, Austria</location>
  <lat>48.21</lat>
  <lon>16.37</lon>
 </li>
</projectsites>
<!-- Locations of current developers -->
<developersites>
 <li>
  <title>Brisbane office</title>
  <location>Brisbane, Australia</location>
  <lat>-27.4</lat>
  <lon>153</lon>
 </li>
 <li>
  <title>Phillipines Office</title>
  <location>Manilla, Phillipines</location>
  <lat>14.7</lat>
  <lon>121</lon>
 </li>
</developersites> 
```

那么，假设我有比这更多的数据，我可以在 JavaScript 中创建一个循环或嵌套循环来读取 XML 文件并将数据提取到数组中吗？我感兴趣的元素示例有：`projectsites.title`、`projectsites.lat`和。`developersites.title``developersites.lat`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:40:35.887

使用 jQuery 解析 xml，这是我将 xml 转换为 json 的函数的实现：

```
function xmlToObject(xml) {
    if (xml instanceof jQuery) xml = xml.get(0);
    var o = {};

    function level(node, obj) {
        obj[node.nodeName] = {};
        $.each(node.attributes, function (i, attr) {
            obj[node.nodeName][attr.name] = attr.value;
        });
        $(node).children().each(function (i, child) {
            level(child, obj[node.nodeName]);
        });
    }
    if (xml.nodeName === '#document' || xml.nodeName === 'document') 
        $(xml).children().each(function (i, child) {
            level(child, o);
        });
    else 
        level(xml, o);

    return o;
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T06:33:24.640

您可以使用 jQuery 轻松获取 xml 数据并对其进行解析。这是一个例子：

```
var projectsite_titles = [];
$.get('myXmlFile.xml', function(responseXml) {
   $(responseXml).find('projectsites li title').each(function () {
      projectsite_titles.push($(this).text());
   });
}, 'xml'); 
```

# jquery - Jquery ajax 表单提交 IE 问题 - 显示下载弹出窗口

> ID：12294027
> 
> 赞同：0
> 
> 时间：2012-09-06T06:17:17.263
> 
> 标签：jquery

我正在使用 jquery $.ajax 函数提交一个表单，它适用于除 IE 之外的所有浏览器。在 IE 中，我收到文件下载弹出窗口。有没有人遇到过这类问题？请帮忙。感谢你的帮助。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-24T09:13:50.760

问题解决了！！问题出在 jquery submit 上，我在 .live 中使用它，但在 IE 浏览器中存在问题。需要删除提交到普通按钮，然后它才能正确提交表单并且没有弹出窗口

# android - phonegap+jquery 手机获取位置

> ID：12294028
> 
> 赞同：1
> 
> 时间：2012-09-06T06:17:19.883
> 
> 标签：android, jquery, mobile, cordova, geolocation

嗨，基本上我有一个应用程序需要**每 150 秒**获取一次当前位置，我使用的是安卓 2.3 的中国平板电脑，它**没有 GPS**，我只使用**手机网络**。我一直**在 deviceready 函数**中使用这段代码来获取当前位置：

```
 setInterval(
        function(){
            if (navigator.network.connection.type != Connection.NONE && navigator.geolocation) {
                watchID = navigator.geolocation.getCurrentPosition(
                    function(position){
                        plat = position.coords.latitude;
                        plon = position.coords.longitude;
                        console.log('location success');

                        if(map != null){
                            map.setView({center: new Microsoft.Maps.Location(plat,plon) });
                            pintaxi.setLocation(new Microsoft.Maps.Location(plat,plon));
                        }
                        count++;
                        if(count == 4){
                            count = 0;
                            console.log('Send data');
                            $.post("http://m2media.mx/plataforma/setpos.php", {latitud: plat, longitud: plon, referencia: 'DEV-008'});
                        }
                   }, 
                   displayError,
                    { timeout: 30000 });
            }
            else{
                if(watchID != null) navigator.geolocation.clearWatch(watchID);
                console.log('No connection, fail');
            }
        }, 60000
    ); 
```

重要的是，这个应用程序的活动在启动时运行，所以我的启动接收器是这样的：

```
public void onReceive(Context context, Intent intent) {
        Intent i = new Intent(context, SmarttaxiActivity.class);
        i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        context.startActivity(i);
} 
```

问题是getCurrent位置总是抛出超时异常，起初当应用程序启动时，在**启用3g之前有大约10到20秒的间隔**，但即使在**启用3g之后它仍然会抛出超时异常**，在应用程序内我具有使用互联网连接的其他功能，例如 twitter 小部件，并且它们运行没有问题。

问题是，如果我在启动定位功能后手动运行应用程序，效果会很好。我在 logcat 上没有看到任何异常，我已经尝试修复这个三天但仍然没有运气，我希望有人对可能是什么问题或者我使用的逻辑是否错误有一些想法。

**感谢您的时间。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T11:50:13.097

您是否尝试过**navigator.geolocation.watchPosition**和**navigator.geolocation.clearWatch** ..？

navigator.geolocation.watchPosition(success_callback_function, error_callback_function, position_options)

navigator.geolocation.clearWatch(watch_position_id)

好的，这是示例

```
var wpid = navigator.geolocation.watchPosition(geo_success, geo_error, {enableHighAccuracy:true, maximumAge:30000, timeout:27000});

function geo_success (position) {

        var lat = position.coords.latitude;
        var lng = position.coords.longitude;

        //--- your code -- 
}

function geo_error(err) {
         console.log(err);
} 
```

* * *

为明确 watchPosition...

```
navigator.geolocation.clearWatch(wpid); 
```

# javascript - 应用 jQuery 手风琴时获取图像的大小

> ID：12294033
> 
> 赞同：1
> 
> 时间：2012-09-06T06:17:45.640
> 
> 标签：javascript, jquery, html, image, jquery-ui

似乎在 jQuery 中，当元素不可见`width()`时返回 0。当我移除手风琴时，高度会正确报告。我尝试将图像包装在 div 中并将 div 的显示设置为 block ，但这也不起作用。应用手风琴时，是否有其他方法可以找到图像原始尺寸？

```
<div id="accordion">
    <h3>Click me</h3>
    <div>
         <div class="bg">
               <img src="your_img_url">
         </div>
    </div>      
    <h3>Click me</h3>
    <div>
         <div class="bg">
               <img src="your_img_url"/>
         </div>
    </div>
</div> 
```

```
$(document).ready(function() {   
    $('#accordion').accordion({
        autoHeight: false,
        collapsible: true,
    });
    $("img").load(function() {
        alert($(this).height());
        alert($(this).width());
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:39:11.797

为我工作！

你有手风琴插件吗？

如果没有：[http ://bassistance.de/jquery-plugins/jquery-plugin-accordion/](http://bassistance.de/jquery-plugins/jquery-plugin-accordion/)

它被添加到脚本中了吗？

*   你应该删除`,`最后`collapsible: true,`

它看起来像这样：

`$(document).ready(function() {
$('#accordion').accordion({ autoHeight: false, collapsible: true }); $("img").load(function() { alert($(this).height()); alert($(this).width()); }); });`

但无论如何它都有效！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:04:39.590

在图像上设置特定的宽度和高度将返回该宽度和高度。这可以在 CSS 中或使用元素上的`width`and`height`属性来完成。`<img>`

将图像更改为`<img src="your_img_url" style="height: 20px; width: 20px;">`应该可以。

如果你需要原始宽度，你可以这样做：

```
var img = $('img').clone().appendTo('body').hide();
img.load(function () {
    alert($(this).width());
    alert($(this).height());
}); 
```

[这个答案](https://stackoverflow.com/a/1944298/401060)有更多关于如何获得原始尺寸的详细信息。

# django - 使用 django 中的结构库连接到远程服务器

> ID：12294035
> 
> 赞同：1
> 
> 时间：2012-09-06T06:17:50.520
> 
> 标签：django, apache, fabric

我们正在使用 django web 框架构建我们的应用程序。我们在应用程序中面临着这个非常关键的问题。我们正在尝试使用结构库连接到远程服务器。通常，我们可以从命令行连接到服务器。此外，它在 django 中的内置服务器中运行良好，因为它从命令行运行。命令

```
fab get_string -H user@10.10.10.10>>django.txt 2>&1 
```

我们将代码部署在 apache 中，应用程序在函数中遇到此命令时会卡住。偶尔我们会得到这些日志

```
"> Using fabfile 'C:\fabfile.py'
Commands to run: generic_task_linux_django
Parallel tasks now using pool size of 1
[user@10.10.10.10] Executing task 'generic_task_linux_django'
2012-08-30 09:36:15.805000
[user@10.10.10.10] run: /bin/bash -l -c "rm -rf /tmp//admin7"
Timed out trying to connect to 10.10.10.10 (attempt 1 of 1), giving up)

Fatal error: Timed out trying to connect to 10.10.10.10 (tried 1 time)

Traceback (most recent call last):
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\tasks.py", line 298, in execute
    multiprocessing
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\tasks.py", line 197, in _execute
    return task.run(*args, **kwargs)
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\tasks.py", line 112, in run
    return self.wrapped(*args, **kwargs)
  File "C:\fabfile.py", line 314, in generic_task_linux_django
    run("rm -rf "+remote_path + '/' + local_dir_name)
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\network.py", line 457, in host_prompting_wrapper
    return func(*args, **kwargs)
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\operations.py", line 905, in run
    return _run_command(command, shell, pty, combine_stderr)
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\operations.py", line 815, in _run_command
    stdout, stderr, status = _execute(default_channel(), wrapped_command, pty,
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\state.py", line 340, in default_channel
    chan = connections[env.host_string].get_transport().open_session()
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\network.py", line 84, in __getitem__
    self.connect(key)
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\network.py", line 76, in connect
    self[key] = connect(user, host, port)
  File "C:\Python27\lib\site-packages\fabric-1.4.1-py2.7.egg\fabric\network.py", line 393, in connect
    raise NetworkError(msg, e)
NetworkError: Timed out trying to connect to 10.10.10.10 (tried 1 time)

Aborting." 
```

因为它能够终止连接。但在大多数情况下，它会卡住，我们没有任何日志可显示。

然后我们决定将它作为 Windows 服务运行。我们使用了为我们创建服务的附加 python 文件（recipe.py）。我们再次面临与 apache 相同的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T16:55:28.990

您可能想查看您的连接是否由于 ssh 凭据或类似原因而失败。如果您[在此处遵循我的建议](https://stackoverflow.com/a/10101466/203747)并详细记录 ssh/paramiko lib，则可以获得更多信息。

# android - Android SoundPool 以不同的音量播放声音

> ID：12294041
> 
> 赞同：3
> 
> 时间：2012-09-06T06:18:11.510
> 
> 标签：android, soundpool

我有一个非常奇怪的问题，我无法弄清楚。我有一个用单一声音（非常短的“点击”声音）初始化的声音池。在我的活动按钮的 onClick 处理程序中，我做了一个简单的操作`SoundManager.playSound(1, 0);`，它在哈希图中查找声音并播放声音。每次点击都使用完全相同的**playSound调用。**它总是播放声音并且没有出错。

这是有趣的部分。点击声音的音量随着按钮按下而变化。我可以按一次，它听起来很微弱。我回击然后再次按下它，它听起来很响亮。我找不到任何押韵或理由。我想可能是因为负载而搞砸了（我知道这很疯狂，但我在这里不知所措）所以我什至在一个单独的线程中开始了声音。结果还是一样。我想可能是由于第二次初始化声音管理器，所以我添加了一个检查以确保不会发生这种情况......结果相同。

我使用了一个声音管理器类，我在网上找到了几个地方。它在下面。

```
public class SoundManager
{

    static private SoundManager _instance;
    private static SoundPool mSoundPool;
    private static HashMap<Integer, Integer> mSoundPoolMap;
    private static AudioManager mAudioManager;
    private static Context mContext;

    public static boolean isInitialized = false;

    private SoundManager()
    {
    }

    /**
     * Requests the instance of the Sound Manager and creates it if it does not exist.
     * 
     * @return Returns the single instance of the SoundManager
     */
    static synchronized public SoundManager getInstance()
    {
        if (_instance == null) _instance = new SoundManager();
        return _instance;
    }

    /**
     * Initialises the storage for the sounds
     * 
     * @param theContext
     *            The Application context
     */
    @SuppressLint("UseSparseArrays")
    public static void initSounds(Context theContext)
    {
        mContext = theContext;
        mSoundPool = new SoundPool(4, AudioManager.STREAM_NOTIFICATION, 0);
        mSoundPoolMap = new HashMap<Integer, Integer>();
        mAudioManager = (AudioManager) mContext.getSystemService(Context.AUDIO_SERVICE);
    }

    /**
     * Add a new Sound to the SoundPool
     * 
     * @param Index
     *            - The Sound Index for Retrieval
     * @param SoundID
     *            - The Android ID for the Sound asset.
     */
    public static void addSound(int Index, int SoundID)
    {
        mSoundPoolMap.put(Index, mSoundPool.load(mContext, SoundID, 1));
    }

    /**
     * Loads the various sound assets Currently hardcoded but could easily be changed to be flexible.
     */
    public static void loadSounds()
    {
        if (!isInitialized)
        {
            mSoundPoolMap.put(1, mSoundPool.load(mContext, R.raw.click, 1));
            isInitialized = true;
        }

    }

    /**
     * Plays a Sound
     * 
     * @param index
     *            - The Index of the Sound to be played
     * @param speed
     *            - The Speed to play not, not currently used but included for compatibility
     */
    public static void playSound(int index, float speed)
    {
        float streamVolume = mAudioManager.getStreamVolume(AudioManager.STREAM_NOTIFICATION);
        streamVolume = streamVolume / mAudioManager.getStreamMaxVolume(AudioManager.STREAM_NOTIFICATION);
        mSoundPool.play(mSoundPoolMap.get(index), 1, 1, 1, 0, speed);
    }

    /**
     * Stop a Sound
     * 
     * @param index
     *            - index of the sound to be stopped
     */
    public static void stopSound(int index)
    {
        mSoundPool.stop(mSoundPoolMap.get(index));
    }

    /**
     * Deallocates the resources and Instance of SoundManager
     */
    public static void cleanup()
    {
        mSoundPool.release();
        mSoundPool = null;
        mSoundPoolMap.clear();
        mAudioManager.unloadSoundEffects();
        _instance = null;

    }

} 
```

您可以在**PlaySound**方法中看到，我已将左右声道的音量硬编码为最大值 1。这没有帮助。声音的音量仍在波动。

我还更新了我正在使用的流，`AudioManager.STREAM_NOTIFICATION`而不是`AudioManager.STREAM_MUSIC`查看它是否与流相关。它似乎不是因为它表现出相同的行为。

我还将我的声音文件从一个转换`OGG`为一个`WAV`，看看是否有帮助。没变。

这是我正在使用的非常快速的“点击”，但在仔细聆听时，它听起来并不像是被切断了。并且正在播放完整的文件。

这可能与硬件有关吗？我使用的唯一测试设备是旧的 HTC Incredible。该硬件有任何已知问题吗？

再次......这件事有效，但有不同的音量很烦人，我就是不能放手。有没有其他人经历过这个？

# iphone - 如何通过触摸特定部分iphone扩展和调用UITable部分

> ID：12294045
> 
> 赞同：2
> 
> 时间：2012-09-06T06:18:22.477
> 
> 标签：iphone, objective-c

我正在解析 xml 并获取动态数据，并将数据存储在 NSMutableArray

并将数据显示到 UItableView，我附上了屏幕截图

![在此处输入图像描述](../Images/3a232197d0c4e87e9645379270535924.png)

那么如何通过点击部分标题（2011 COLLECTION）来实现部分扩展和调用扩展请指导我。

**编辑**

解决了

# encryption - 使用 Spring 加密战争

> ID：12294048
> 
> 赞同：1
> 
> 时间：2012-09-06T06:18:29.753
> 
> 标签：encryption

我遇到了一些问题。我想通过一个名为 ClassGuard 的工具使用 Spring 加密战争，但是当我将它部署到 Tomcat 并开始启动它时，出现了一些问题（似乎是 Java 运行时环境检测到了致命错误）。

有没有人使用过 ClassGuard 并遇到过这样的问题？

请帮助我...在此先感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:22:44.977

尽管无一例外我们只能推测，[ClassGuard FAQ](http://zenofx.com/classguard/)部分明确指出：

> 从 1.5 版开始，ClassGuard 支持 Tomcat 容器。要将 ClassGuard 与 tomcat 结合使用，您必须配置 Web 应用程序以使用 ClassGuard tomcat 类加载器。这可以在 Web 应用程序的上下文中设置。

因此，请确保：

1.  您正在使用最新的稳定版本。
2.  您正在使用适当的类加载器。

一种可能（尽管不确定它是否是您所追求的）更简单的方法来阻止使用您的代码是通过[混淆工具](http://en.wikipedia.org/wiki/Obfuscation_%28software%29)，例如[这些](http://java-source.net/open-source/obfuscators)。

# bash - 如何在 unix 中编写守护程序脚本？

> ID：12294059
> 
> 赞同：-3
> 
> 时间：2012-09-06T06:19:29.927
> 
> 标签：bash, shell, unix, daemon

请你告诉我如何为守护进程编写脚本。

问候，韦丹

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:33:36.917

首先，欢迎来到stackoverflow。这可能是你的第一个问题。不要因为询问搜索引擎和拉起袖子而被吓倒。
我假设您是 Linux 新手。但这里有一个建议。尝试阅读您在下面找到的脚本：

`/etc/init.d/`

在你的机器上。

如果您不理解它们，请获得一本关于 shell 编程的好书。不是`bash`。
Bash 作为 shell 非常棒，但速度很慢，所以一些 Linux 发行版（Debian 和也许其他）不使用 init 脚本。

如果您准备好跳入深水区，并且想要无与伦比的学习体验。转到并阅读[Linux From Scracth](http://www.linuxfromscratch.org/)。

你会在那里找到很多好东西。它比您所要求的要多，但是通过阅读本书，您将学会如何学习。它将使您成为更好的 stackoverflow 社区成员！祝你好运。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T14:18:51.683

这也取决于您使用的是什么初始化系统。如果您使用 systemd 或 upstart，它与旧的 sysvinit 脚本完全不同，甚至几乎每个发行版都有自己的 initscript。您应该搜索您的发行版/unixflavor 文档。

# iphone - NSMutableArray 仅打印数组中的最后一个元素而不是整个数据

> ID：12294062
> 
> 赞同：0
> 
> 时间：2012-09-06T06:19:37.263
> 
> 标签：iphone, sqlite, nsmutablearray, ios5

谁能帮帮我。过去 2-3 天我一直被这个 NSMutableArray 困住。我是 Objective-C 的初学者，我不知道代码中的错误是什么。在我的程序中，我创建了一个 sqlite 数据库。它包含 3 个字段，并且我已成功将值插入到数据库中。我正在提取这些值从 db 到 NSMutableArray 并显示这个数组。但问题是只显示最后一个元素而不是整个数据。我不明白为什么它只显示最后一个元素。我将粘贴下面的代码 - 任何人都可以检查它并帮助我。

```
- (void)viewDidLoad
{

   NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
   NSString *documentsDir = [documentPaths objectAtIndex:0];

   databasePath = [documentsDir stringByAppendingPathComponent:@"TDL1.db"];

   const char *dbpath = [databasePath UTF8String];

   sqlite3_stmt    *statement;

        if (sqlite3_open(dbpath, &TDLDB) == SQLITE_OK)
         {
                    NSString *querySQL = [NSString stringWithFormat: @"SELECT MYTASK, SUBTASK FROM TDL1 "];

                    const char *query_stmt = [querySQL UTF8String];

      if (sqlite3_prepare_v2(TDLDB, query_stmt, -1, &statement, NULL) == SQLITE_OK)

       {
            while (sqlite3_step(statement) == SQLITE_ROW)
              {
                     todolist2=[[NSMutableArray alloc]init];

                      NSString *mytask = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 0)];

                      NSString *subtask = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 1)];

                   todolist2 = [NSMutableArray arrayWithObjects:mytask,subtask, nil];

                       NSLog(@"THE array is:%@",todolist2);

       } 

                sqlite3_finalize(statement);
}
              sqlite3_close(TDLDB);

}
         NSLog(@"THE outside array is:%@",todolist2);
[super viewDidLoad]; 
```

}

在控制台中，我得到以下输出：-

```
2012-09-06 11:33:23.529 TDL[823:f803] THE array is:(
    task0,
    task0
)
2012-09-06 11:33:23.532 TDL[823:f803] THE array is:(
    task1,
    task1
)
2012-09-06 11:33:23.533 TDL[823:f803] THE array is:(
    task2,
    task2
)
2012-09-06 11:33:23.534 TDL[823:f803] THE array is:(
    task3,
    task3
)
2012-09-06 11:33:23.534 TDL[823:f803] THE array is:(
    task4,
    task4
)
2012-09-06 11:33:23.535 TDL[823:f803] THE array is:(
    task5,
    task5
)
2012-09-06 11:33:23.536 TDL[823:f803] THE array is:(
   task6,
   task6
)
2012-09-06 11:33:23.537 TDL[823:f803] THE array is:(
    task6,
    task6
)
2012-09-06 11:33:23.537 TDL[823:f803] THE array is:(
    task7,
    task7
)
2012-09-06 11:33:23.538 TDL[823:f803] THE array is:(
    task7,
    task7
)
2012-09-06 11:33:23.539 TDL[823:f803] THE array is:(
    task8,
    task8
)
2012-09-06 11:33:23.539 TDL[823:f803] THE array is:(
    task9,
    task9
)
2012-09-06 11:33:23.540 TDL[823:f803] THE array is:(
   task10,
   task10
)
2012-09-06 11:33:23.540 TDL[823:f803] THE outside array is:(
   task10,
   task10
)
2012-09-06 11:33:23.541 TDL[823:f803] could not prepare statement: not an error 
```

我想显示从task0到task10的值。如何显示？请告诉我解决方案。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:25:43.140

每次通过`while (sqlite3_step(statement) == SQLITE_ROW)`循环时，您只是在创建一个新的 NSMutableArray。实际上，您正在制作两次。将以下行移到 while 循环之外：

```
todolist2=[[NSMutableArray alloc]init]; 
```

然后在你的while循环中，而不是每次都重新创建一个新数组：

```
todolist2 = [NSMutableArray arrayWithObjects:mytask,subtask, nil]; 
```

而是使用：

```
[todolist2 addObject:myTask];
[todolist addObject:subTask]; 
```

这些行会将两个字符串添加到数组的末尾。

# php - 将 shell_exec 与 PHP 一起使用只会返回“未找到”错误

> ID：12294067
> 
> 赞同：1
> 
> 时间：2012-09-06T06:20:42.453
> 
> 标签：php

当使用 shell_exec() 在我的系统上触发任何命令时，我的日志中出现“未找到”错误，但大厅命令不会发生这种情况。

我可以使用`shell_exec( 'dig google.com' );`并获得正确的输出，但是当我尝试触发时，`shell_exec( '/path/to/my.sh param1 param2' );`我最终得到

```
sh: /path/to/my.sh: not found 
```

我很茫然，我原本打算通过在Debian上巧妙地使用adduser命令来生成一个新用户，但是当PHP尝试触发它时甚至没有找到该命令（与我自己的自定义shell相同的错误脚本文件，所以我有`sh: adduser: not found`）

在测试环境中，apache 会话使用 ITK 以 root 身份运行，并且我还确保我自己的 shell 脚本具有正确的权限并且是可执行的

使用 Zend 2.3.0 和 Suhosin 0.9.32.1 运行 PHP 5.3.3-7+squeeze14

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:00:10.177

只需尝试`exec()`而不是`shell_exec()`执行命令。它会工作

# php - 图片在浏览器中显示为垃圾字符

> ID：12294070
> 
> 赞同：1
> 
> 时间：2012-09-06T06:20:58.913
> 
> 标签：php, html, mime-types

谁能告诉我为什么，当我尝试通过浏览器访问图像 URL 时，它会显示一堆垃圾字符，内容类型为 text/plain。

eg：`https://www.domainname.com/client/image-name.jpg`如下图所示

```
 �3�!1AQa"q2‘¡±B#$RÁb34r‚ÑC%’Sðáñcs5¢²ƒ
    &D“TdEÂ£t6ÒUâeò³„ÃÓuãóF'”¤…´•ÄÔäô¥µÅÕåõVfv†–¦¶ÆÖæö
7GWgw‡—§·Ç×ç÷�5�!1AQaq"2‘¡±B#ÁRÑð3$bár‚’CScs4ñ%¢²
ƒ&5ÂÒD“T£dEU6teâò³„ÃÓuãóF”¤…´•ÄÔäô¥µÅÕåõVfv†–¦
¶ÆÖæö'7GWgw‡—§·ÇÿÚ���?�Þé½}ØŸZ:Ãú¦kÛO¨Ë\Æ–Ù]u6šFï~ÍþÚYï
]/MúÅÑº§¨0òCÝKwØ×‡Vàßô›nm£þZäú&o×~¨Üº›{)uö1–
ÍßêW^òÃívÖ=ÿ�Idýd­ 
```

请提供有关我在代码中遗漏的内容的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T06:26:49.103

在将图像渲染到浏览器时，您可能没有发送正确的标题：

```
<?php
header('Content-Type: image/jpeg'); 
```

# r - data.frame 不破坏列名

> ID：12294071
> 
> 赞同：10
> 
> 时间：2012-09-06T06:21:00.490
> 
> 标签：r

有没有办法使用 data.frame 而不会破坏列名？

我有以下结构：

```
$`Canon PowerShot`
[1] 9.997803e-01 9.997318e-01 3.327920e-01 3.327920e-01 9.988220e-01
[6] 4.030871e-05 4.928497e-05

$`Casio Exilim`
[1] 5.322024e-06 9.999646e-01 5.322024e-06 5.322024e-06 9.999646e-01
[6] 5.322024e-06 9.999646e-01

$FinePix
[1] 3.850036e-05 9.998887e-01 6.650074e-02 6.650074e-02 9.998465e-01
[6] 9.998465e-01 4.345598e-05

$`Kodak EasyShare`
[1] 3.548812e-05 9.998604e-01 3.996137e-01 3.996137e-01 9.987841e-01
[6] 3.179604e-05 2.789861e-05

$`Nikon Coolpix series`
[1] 9.156401e-02 9.998091e-01 1.995972e-01 1.995972e-01 9.996341e-01
[6] 7.033741e-05 8.499410e-05 
```

但使用后`do.call(data.frame, my_list)`，我得到了这个：

```
 Canon.PowerShot Casio.Exilim      FinePix Kodak.EasyShare
1    9.997803e-01 5.322024e-06 3.850036e-05    3.548812e-05
2    9.997318e-01 9.999646e-01 9.998887e-01    9.998604e-01
3    3.327920e-01 5.322024e-06 6.650074e-02    3.996137e-01
4    3.327920e-01 5.322024e-06 6.650074e-02    3.996137e-01
5    9.988220e-01 9.999646e-01 9.998465e-01    9.987841e-01
6    4.030871e-05 5.322024e-06 9.998465e-01    3.179604e-05
7    4.928497e-05 9.999646e-01 4.345598e-05    2.789861e-05
  Nikon.Coolpix.series
1         9.156401e-02
2         9.998091e-01
3         1.995972e-01
4         1.995972e-01
5         9.996341e-01
6         7.033741e-05
7         8.499410e-05 
```

（注意列名中有 . 而不是 ' '）

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-06T06:23:59.103

您可以通过设置停止`R`将名称更改为语法上有效的名称`check.names = FALSE`。详情请参阅`?data.frame`。

```
# assuming your data is in a list called my_list
do.call(data.frame, c(my_list, check.names = FALSE)) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-06T18:51:30.917

R 中的 data.frames 实际上是列表。因此，这也是有效的：

```
data.frame(my_list, check.names = FALSE) 
```

知道这一点打开了`lapply`在 data.frames 上使用的可能性，我认为这很酷：

```
my_data <- data.frame(my_list, check.names = FALSE)
lapply(my_data, IQR) 
```

# java - 如何从世界风测量工具中删除选项卡式平移视图

> ID：12294073
> 
> 赞同：0
> 
> 时间：2012-09-06T06:21:14.407
> 
> 标签：java, swing, worldwind

我正在研究美国宇航局世界测风工具。我想知道如何从中删除标签式平底锅。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T18:29:56.260

如果您指的是 World Wind Measure Tool 示例应用程序，那么您需要从 MeasureToolUsage.java 中删除以下代码行（大约在第 82 行）

```
this.getContentPane().add(tabbedPane, BorderLayout.WEST); 
```

# java - 如何从 wsimport 生成 SoapProxy？

> ID：12294076
> 
> 赞同：6
> 
> 时间：2012-09-06T06:21:37.227
> 
> 标签：java, jax-ws, wsimport, ibm-rad

我将 IBM Rational Application Developer 生成的客户端存根与 Java 的 wsimport 进行比较，注意到 IBM RAD 生成了一个额外的类，即 SOAPProxy 类。此类允许设置 Web 服务的 URL。

如何在 Java 的 wsimport 中生成 SOAPProxy 类？IBM RAD 的 wsimport 和 Java 的 wsimport 一样吗？

**以下是 IBM RAD 生成的类：**

*   对象工厂.java
*   包信息.java
*   WSCalculator_Service.java
*   WSCalculator.java
*   WSCalculatorRequest.java
*   WSCalculatorResponse.java
*   *WSCalculatorSOAPProxy.java - 这不是在 Java 的 wsimport 上生成的。如何使用 Java 的 wsimport 生成它？*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T19:51:49.660

从 WSDL 生成类的每个工具（JBoss WS、wsimport、Apache CXF、RAD 等）的作用都略有不同，它们生成的类并不相同，尽管它们通常相似。但是有一种方法可以提供您自己的指向 WSDL 的 URL。我不熟悉 RAD 以及它如何生成 Web 服务，但我的猜测是 WSCalculator_Service 类有一个带有 URL 参数的构造函数：

```
WSCalculator_Service service = new WSCalculator_Service(new URL("http://www.domain.com/ws/file.wsdl"));
WSCalculator port = service.getWSCalculatorPort();
port.callWebService(param1, param2, ...); 
```

有时，采用 URL 的构造函数也需要 QName。我会查看源代码并复制它正在使用的 QName。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-30T19:08:16.690

在 RAD 9.1 中，当您在 Web 服务客户端弹出向导中为“客户端类型：”选择“Java 代理”时，它也会创建代理代码。RAD 附带的 wsimport.exe 似乎没有通过命令行创建代理代码。

# android - Picasa 安卓 API

> ID：12294079
> 
> 赞同：2
> 
> 时间：2012-09-06T06:22:09.243
> 
> 标签：android, picasa

我非常感谢任何 WORKING 示例，它告诉我如何逐步从 Android 连接到 Picasa。我浏览了互联网并下载了大量带有示例的 git 存储库三天，总是发现已弃用、不工作或不是 Android 示例，甚至是断开的链接。我唯一学到的是，我完全迷失了。对我来说，这是一个非常糟糕的惊喜，没有任何“如何使用非弃用方法在 Android 中构建基本图库应用程序”的示例。

VK

# ios - TeamIdentifierPrefix 和 Appidentifierprefix 的区别

> ID：12294083
> 
> 赞同：7
> 
> 时间：2012-09-06T06:22:20.283
> 
> 标签：ios, app-id, code-signing-entitlements

TeamIdentifierPrefix 和 Appidentifierprefix 有什么区别。我有一个启用了 icloud（TeamIdentifierPrefix）和钥匙串（Appidentifierprefix）的应用程序权利文件。我知道这些前缀值在权利中的用途。

我解压缩了 .ipa 并在 embeded.mobileprovision 中发现了 ubiquity 容器和密钥链访问下的值是相同的，即我的 TeamIdentifierPrefix 和 Appidentifierprefix 是相同的。

我知道我的 appid 是 Appidentifierprefix，那么这个 TeamIdentifierPrefix 是什么。任何人都可以帮助我理解这一点。

谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-03-02T16:18:59.207

好吧，顾名思义，您的团队标识符标识您的团队 - 即您在 App Store 上的（公司或个人）身份；而您的 App Identifier 对于给定的应用程序是唯一的。如果您的团队拥有多个应用程序，则所有应用程序的团队标识符都相同，但应用程序标识符会有所不同。

您可以在 Apple 开发者门户（会员中心，在帐户摘要下）查看您的团队 ID。

应用程序标识符*前缀*通常与您的团队标识符*前缀*相同- 两者都是 Apple 分配给您的数字和字母组合。团队 ID 前缀（例如“1234ABCD”）与您为团队选择的团队 ID 字符串（例如“com.myteam”）一起在应用程序中标识您的团队。

并且由于应用标识符字符串通常包含您的团队标识符字符串（例如“com.myteam.supercoolapp”），它以应用标识符前缀（= 通常等于您的团队 ID 前缀）作为前缀，以唯一标识您的应用程序包。

简而言之：作为开发人员，您通常没有什么不同。Xcode 将自动使用正确的占位符（`$(TeamIdentifierPrefix)`等）。

# django - 当 url 不存在时引发 404

> ID：12294084
> 
> 赞同：0
> 
> 时间：2012-09-06T06:22:21.720
> 
> 标签：django

我在 django 1.4.1 中有一组 url 模式。当用户尝试不在列表中的 url [用户这样做] 时，我希望能够引发 404。

不知道该怎么做。可能是我没有正确阅读文档。

PS：我在设置中将 DEBUG 设置为 False，并且任何尝试无效 url 都会说“服务器发生错误”

感谢和问候 Prabhakar S

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T06:32:02.863

您需要编写`404.html`模板，*当*您设置`DEBUG=False`.

同样，您可能希望编写`500.html`来处理任何服务器错误。

更多参考：[编写 404 视图](https://docs.djangoproject.com/en/dev/intro/tutorial03/#write-a-404-page-not-found-view)

# iphone - 如何在 iPhone 中为警报视图的特定按钮索引设置背景图像

> ID：12294086
> 
> 赞同：0
> 
> 时间：2012-09-06T06:22:30.000
> 
> 标签：iphone

是否可以在 UIAlertView 中的按钮索引处设置图像。如果可能的话，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:29:54.360

如果您将 imageview 作为子视图添加到警报视图，则可以更改其背景，但仅对于警报中的按钮，我想这是不可能的。

看看这个链接。他们正在将文本字段作为子视图添加到警报视图： UIAlertview 中的[UITextView 在 iOS 4.x 中不起作用](https://stackoverflow.com/questions/9612512/uitextview-in-uialertview-not-working-in-ios-4-x/9613409#9613409)

# java - Hibernate查询，Hibernate限制添加

> ID：12294087
> 
> 赞同：0
> 
> 时间：2012-09-06T06:22:31.157
> 
> 标签：java, hibernate, jakarta-ee

我有 2 个表 'Stock' 和 'stockdaily' 需要获取所有

```
"stock_template" from stock where stock_status=true 
```

stock.stock_template 是 Stockdaily.stock_template 的 FK。

现在我正在这样做

我在 Stockdaily.hbm.xml 中写道

```
<many-to-one class="StockDTO" column="stock_template" name="templates"/> 
```

在 StockdailyDTO.java

```
private StockDTO templates; 
```

有货DTO

```
private Boolean stocktemplate; 
```

在 Stock.hbm.xml

```
<property name="stockStatus" type="java.lang.Boolean">
        <column name="stock_Status"  />
    </property> 
```

但是每当我尝试根据限制 stock_statua=true 获取数据时

```
criteria = session.createCriteria(stockDailyDTO.class).add( Restrictions.eq("templates.stockStatus", true) ); 
```

系统给出了一个例外

```
org.hibernate.QueryException: could not resolve property: templates.stockStatus of: StockdailyDTO 
```

谁能告诉我我还应该做些什么来解决这个问题？

# javascript - 检查 div 内容是否滚动到页面底部

> ID：12294089
> 
> 赞同：1
> 
> 时间：2012-09-06T06:22:41.253
> 
> 标签：javascript, jquery, html

我想检查是否使用浏览器的滚动条（垂直）将特定 div 的内容滚动到底部并发出警报。我需要知道是否所有内容都向下滚动以获取 div 并向其中添加新内容。

关于如何做的任何建议？

编辑：没有溢出集，我需要通过滚动浏览器窗口来了解 div 内容的结尾。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:25:28.987

您可以使用一些属性/方法：

```
$().scrollTop()//how much has been scrolled
$().innerHeight()// inner height of the element
DOMElement.scrollHeight//height of the content of the element 
```

所以你可以像这样得到它

```
jQuery(
  function($)
  {
    $('#YourDivId').bind('scroll', function()
                              {
                                if($(this).scrollTop() + 
                                   $(this).innerHeight()
                                   >= $(this)[0].scrollHeight)
                                {
                                  alert('end reached');
                                }
    })
  }
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T06:28:32.937

你可以这样做：

```
function IsScrolledToBottom(divID) {
  returnVal = false;

  obj = document.getElementById(divID);

  if ( obj.scrollTop == (obj.scrollHeight - obj.offsetHeight) ) {
    returnVal = true;
  }
  return returnVal;
} 
```

您需要做的就是在 div 元素上调用此函数，如果它已滚动到底部，它将返回 true。

希望这可以帮助。

# applescript - 使用 AppleScript 将文件复制到多个 USB 记忆棒

> ID：12294093
> 
> 赞同：0
> 
> 时间：2012-09-06T06:23:10.007
> 
> 标签：applescript

我必须将文件复制到很多 U 盘。因此，我正在尝试给我写一个简短的小程序。我不熟悉applescript，所以如果有人能给我一些提示，那就太好了。

到目前为止我所拥有的：

10位USB-Hub

重命名棒的简短脚本。

现在我被困在将文件复制到每个连接的棒上：

```
property ignoredVolumes : {"Macintosh HD", "Time Machine Backups"}     

set myPath to ("Macintosh HD:Users:myusername:USB-Stick") as string
tell application "System Events"
set rootVolume to disk item (POSIX file "/Volumes" as text)
set allVolumes to name of every disk item of rootVolume
repeat with aVolume in allVolumes
    if aVolume is not in ignoredVolumes then
        set name of disk item (path of rootVolume & aVolume) to "Stickname"
    end if
end repeat
end tell 
```

我现在需要做的是从 myPath 复制到每个连接的 USB-Stick。因为它们都具有相同的名称，所以它们将在名称后面安装数字（Stickname，Stickname 1，Stickname 2，...）

所以我需要在我的循环中将复制命令添加到刚刚重命名的棒中。

希望有人能帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T12:08:11.867

使用 shell 脚本会更容易：

```
do shell script "cp -R ~/USB-Stick/ /Volumes/Stickname*" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T16:30:13.310

你可以尝试这样的事情：

```
property ignoredVolumes : {"Macintosh HD", "Time Machine Backups", "iDisk", "net", "home"}
set myPath to (path to home folder as text) & "USB-Stick:"
tell application "System Events" to set theDisks to every disk
repeat with aDisk in theDisks
    if aDisk's name is not in ignoredVolumes then
        set diskPath to path of aDisk
        tell application "Finder" to duplicate myPath to diskPath with replacing
    end if
end repeat 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:03:14.973

谢谢你的提示。我现在用以下代码解决了它：

```
property ignoredVolumes : {"Macintosh HD", "Time Machine Backups"}   -- add as needed
property counter : 0
tell application "System Events"
set rootVolume to disk item (POSIX file "/Volumes" as text)
set allVolumes to name of every disk item of rootVolume
set StartTime to (get current date)
repeat with aVolume in allVolumes
    if aVolume is not in ignoredVolumes then
        set newName to "XXX" & counter as string
        log newName & " in Progress... "
        set name of disk item (path of rootVolume & aVolume) to newName
        set counter to counter + 1
        set scr to ("cp ~/USB-Stick/* /Volumes/" & newName)
        do shell script scr
        set name of disk item (path of rootVolume & newName) to "XXX"
        do shell script "diskutil unmount /Volumes/XXX"
        log newName & " finished."
    end if
end repeat
set endTime to (get current date)
set dur to (endTime - StartTime)
display dialog "Process took " & dur & "seconds."
end tell 
```

希望这将有助于其他有同样问题的人。

只有一个外观问题：调用两个 shell 脚本会引发错误 -10004 但仍然有效。尝试告诉应用程序“Finder”或“终端”，但错误仍然存​​在并且已被其他错误添加，所以我坚持使用我的原始解决方案。

亲切的问候

# c# - 如何使用会话列表 在 asp.net 中刷新页面时

> ID：12294094
> 
> 赞同：0
> 
> 时间：2012-09-06T06:23:13.277
> 
> 标签：c#, asp.net

我必须`list<class>`使用拖放在中继器控件中显示数据。

```
list.add(new class{id=0, name ="item1"});
list.add(new class{id=1, name ="item2"});
list.add(new class{id=2, name ="item3"});
list.add(new class{id=3, name ="item4"}); 
```

在页面加载时，我在Repeater中显示了这些数据......

现在我想从列表中删除一个“item2”并在中继器上显示 agian，

当我刷新页面时它也保持不变

我怎么能这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:39:09.760

将getDate更改为Follow ...

```
 public static List<DragAndDropData> getdata()
 {
         List<DragAndDropData> LeftSideList=new List<DragAndDropData>();
         if(Session["leftside"]!=null)
         {
           LeftSideList=(List<DragAndDropData>)Session["leftside"];
         }
         else
         {
           LeftSideList.Add(new DragAndDropData { Id = 0, Name = "Item1" });
           LeftSideList.Add(new DragAndDropData { Id = 1, Name = "Item2" });
           LeftSideList.Add(new DragAndDropData { Id = 2, Name = "Item3" });
           LeftSideList.Add(new DragAndDropData { Id = 3, Name = "Item4" });
           LeftSideList.Add(new DragAndDropData { Id = 4, Name = "Item5" });

    }
         return LeftSideList;
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:34:47.030

对于你的问题：

> 现在我想从列表中删除一个“item2”并在中继器上显示 agian

通过自定义变量从列表中选择项目的一种可能性是`IEquatable<DragAndDropData>`在您的`DragAndDropData`-class 中实现。

请参阅[MSDN IEquatable](http://msdn.microsoft.com/de-de/library/bhkz42b3.aspx#Y456)。

在所需的方法中`Equals`，您可以比较变量`Name`是否相等。

```
public class DragAndDropData : IEquatable<DragAndDropData> {

  public string Name { get; set; }

  public Box(string n)
  {
    this.Name = n;
  }

  ...

  public bool Equals(DragAndDropData other) {
    return (this.Name == other.Name);
  }
} 
```

完成此操作后，您应该能够找到并删除如下项目：

```
listcollection.Contains(new DragAndDropData("Item2"));
listcollection.Remove(new DragAndDropData("Item2")); 
```

# javascript - 将 SQL 查询结果格式化为 web 菜单

> ID：12294095
> 
> 赞同：0
> 
> 时间：2012-09-06T06:23:15.620
> 
> 标签：javascript, asp.net, css

我正在尝试为我的网站创建一个向下钻取菜单，用户将在其中单击一个类别，它将显示该单击类别的子类别，可能有 n 级。我能够编写 sql 查询，它完全按照我的意愿返回输出，但问题是......我不想向最终用户显示整个菜单，我想打开/展开仅单击的类别。

```
 my Query output is:

1 IPTV
2      Jadoo Tv
3      Shava Tv
4      Jalva Tv
5 Programming
6      Microsoft
7           Asp.Net
8      PHP 
```

所以默认情况下应该显示 IPTV & Programming，因为它们是父级，当我点击 IPTV 时，它应该打开 IPTV 的子级，就像我说的可能有 n 级。

我在想，我可以将查询的输出加载到网页，然后用 css/javascript 控制菜单导航。

你们有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T21:36:22.280

好的，这是标记的完整代码（在我从 sql sp 得到结果之后）。

```
 Private Sub CreateLeftMenu()

    Dim dt As DataTable = DAL.ReturnMSSQLData("EXEc CategoryTree")
    Dim str As New StringBuilder

    Dim catname As String = ""
    Dim catid As Integer = 0
    Dim parent As Integer = 0
    Dim sort As String = ""
    Dim keys As Array

    Dim display As String = "none"

    For Each item As DataRow In dt.Rows

        catname = Replace(item("CatName"), " ", "&nbsp;")
        catid = item("id")
        parent = item("parent")
        sort = item("sort")

        If parent = 0 Then
            str.Append("<div class='group_" & parent & "'><a href='/pages/index.aspx?cat=" & sort & "' id='group_" & catid & "'>" & catname & "</a></div>")
        Else

            If Len(Me.GroupID) > 0 Then
                keys = Split(Me.GroupID, "_")

                For Each item1 As String In keys
                    If CInt(item1) = parent Then
                        str.Append("<div class='group_" & parent & "' style='display:block'><a style='text-decoration:none' href='/pages/index.aspx?cat=" & sort & "' id='group_" & catid & "'>" & catname & "</a></div>")
                    Else
                        'str.Append("<div class='group_" & parent & "' style='display:none'><a style='text-decoration:none' href='/pages/index.aspx?cat=" & sort & "' id='group_" & catid & "'>" & catname & "</a></div>")
                    End If
                Next

            End If

        End If

    Next

    LMenu.Text = str.ToString

End Sub 
```

# asp.net-mvc - 有没有一种方法可以避免 iisexpress 每次构建时加载 DLL 时的启动延迟？

> ID：12294099
> 
> 赞同：6
> 
> 时间：2012-09-06T06:23:24.430
> 
> 标签：asp.net-mvc, asp.net-mvc-3, visual-studio-2010, iis, iis-express

我正在使用 VS2010 和 IIS Express。当我进行构建时，在加载所有 dll 时会有很长的延迟。在我相当慢的机器上，通常需要 3-4 分钟。

```
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'Anonymously Hosted DynamicMethods Assembly'
Microsoft.WindowsAzure.ServiceRuntime Verbose: 500 : Role instance status check starting
Microsoft.WindowsAzure.ServiceRuntime Verbose: 502 : Role instance status check succeeded: Ready
The thread '<No Name>' (0x1100) has exited with code 0 (0x0).
Microsoft.WindowsAzure.ServiceRuntime Verbose: 500 : Role instance status check starting
Microsoft.WindowsAzure.ServiceRuntime Verbose: 502 : Role instance status check succeeded: Ready
The thread '<No Name>' (0xc18) has exited with code 0 (0x0).
Microsoft.WindowsAzure.ServiceRuntime Verbose: 500 : Role instance status check starting
Microsoft.WindowsAzure.ServiceRuntime Verbose: 502 : Role instance status check succeeded: Ready
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'C:\Windows\Microsoft.Net\assembly\GAC_MSIL\System.Configuration.Install\v4.0_4.0.0.0__b03f5f7f11d50a3a\System.Configuration.Install.dll'
The thread '<No Name>' (0xdf0) has exited with code 0 (0x0).
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'C:\Windows\Microsoft.Net\assembly\GAC_MSIL\System.Design\v4.0_4.0.0.0__b03f5f7f11d50a3a\System.Design.dll'
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'C:\Windows\Microsoft.Net\assembly\GAC_MSIL\Microsoft.Build.Tasks.v4.0\v4.0_4.0.0.0__b03f5f7f11d50a3a\Microsoft.Build.Tasks.v4.0.dll'
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'C:\Windows\Microsoft.Net\assembly\GAC_MSIL\Accessibility\v4.0_4.0.0.0__b03f5f7f11d50a3a\Accessibility.dll'
Microsoft.WindowsAzure.ServiceRuntime Verbose: 500 : Role instance status check starting
Microsoft.WindowsAzure.ServiceRuntime Verbose: 502 : Role instance status check succeeded: Ready
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'C:\Windows\Microsoft.Net\assembly\GAC_MSIL\System.Drawing.Design\v4.0_4.0.0.0__b03f5f7f11d50a3a\System.Drawing.Design.dll'
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'C:\Windows\Microsoft.Net\assembly\GAC_MSIL\System.Web.Mobile\v4.0_4.0.0.0__b03f5f7f11d50a3a\System.Web.Mobile.dll'
Microsoft.WindowsAzure.ServiceRuntime Verbose: 500 : Role instance status check starting
Microsoft.WindowsAzure.ServiceRuntime Verbose: 502 : Role instance status check succeeded: Ready
'iisexpress.exe' (Managed (v4.0.30319)): Loaded 'C:\Windows\Microsoft.NET\Framework\v4.0.30319\Temporary ASP.NET Files\root\977c2a31\7c0f0d28\App_Web_aohydr2s.dll', Symbols loaded.
The thread '<No Name>' (0xe38) has exited with code 0 (0x0). 
```

有什么方法可以预加载这些或让 IIS 运行。Microsoft 不会从一个星期到另一个星期发生变化，但是每次我对我的 MVC C# 代码进行小的更改并想通过构建检查更改时，我需要几分钟的时间来观察它们在输出窗口中加载部署。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T00:31:05.083

有一种方法可以将调试配置为在本地 IIS 上运行： ![网页项目配置](../Images/fab2f13d22401c978c46b16d856f8f4f.png)

只需确保在配置中选择了相同的单选按钮。您需要在 IIS 中创建一个网站： ![IIS 配置](../Images/eb1db48a81bd20af1fa0b6c2c937052c.png)

并在您的 Hosts 文件中添加另一行：

```
127.0.0.1       amv.local 
```

这样每次你开始调试时，你就不需要开始一个新的页面了。而且您无需记住已分配给调试站点的端口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T00:15:11.300

您可以尝试自己启动 IIS Express 并让它像 IIS 一样工作。因此，将其配置为运行，然后在您的 Web 项目中，告诉它您正在使用 IIS，但配置您设置 IIS Express 的详细信息。

现在请记住，您必须让 IIS express 在您开发的同一目录中运行，这样您就不必每次都部署才能看到您的更改。

也看看这篇文章：[配置 IIS Express 以从外部访问 VS2010 项目](https://stackoverflow.com/questions/5433786/configure-iis-express-for-external-access-to-vs2010-project)

# c# - 以批处理模式填充 Telerik RadTreeview 中的节点

> ID：12294100
> 
> 赞同：1
> 
> 时间：2012-09-06T06:23:47.870
> 
> 标签：c#, asp.net, asmx, radtreeview

我已经在页面中实现了 Telerik 树视图并使用 Web 服务填充节点。 **源代码看起来像**

```
 <telerik:RadTreeView ID="tvNodes" runat="server" EnableDragAndDrop="false" ExpandAnimation-Type="OutExpo" ExpandAnimation-Duration="800" EnableDragAndDropBetweenNodes="false" CollapseAnimation-Type="OutElastic" CollapseAnimation-Duration="800" Skin="Windows7" OnNodeDrop="tvNodes_HandleDrop" ClientNodePopulating="nodePopulating">
        <ContextMenus>
            <telerik:RadTreeViewContextMenu ID="NodesTreeMenu" runat="server" CssClass="MenuGroup" Skin="Windows7">
                <CollapseAnimation Type="none" />
            </telerik:RadTreeViewContextMenu>
        </ContextMenus>
        <WebServiceSettings Path="../ManageNode.asmx" Method="GetNodes">
        </WebServiceSettings>
    </telerik:RadTreeView> 
```

**Javascript**

```
 function nodePopulating(sender, eventArgs) {
        var node = eventArgs.get_node();
        var context = eventArgs.get_context();
        SelectedType = '1'//selected node id.
        SearchText = ''
        context["ParentID"] = node.get_value();
        context["AllowDragAndDrop"] = allowDragDrop;
        context["SelectedType"] = SelectedType;
        context["SearchText"] = SearchText;
    } 
```

**网络方法**

```
 [WebMethod]
    public RadTreeNodeData[] GetNodes(RadTreeNodeData node, object context)
    {
        IDictionary<string, object> contextDictionary = (IDictionary<string, object>)context;
        List<RadTreeNodeData> nodes = new List<RadTreeNodeData>();
        int parentID = Convert.ToInt32(contextDictionary["ParentID"]);
        bool AllowDragAndDrop = Convert.ToBoolean(contextDictionary["AllowDragAndDrop"]);
        int selectedType = Convert.ToInt32(contextDictionary["SelectedType"]);
        string SearchText = Convert.ToString(contextDictionary["SearchText"]);
        dsNodes = NodeBLL.GetAllRecordsByNodeDefinition(selectedType, parentID, SearchText.Trim());
        for (int rowCount = 0; rowCount < dsNodes.Tables[0].Rows.Count; rowCount++)
        {
            DataRow childRow = dsNodes.Tables[0].Rows[rowCount];
            RadTreeNodeData childNode = new RadTreeNodeData();
            if (Convert.ToInt16(childRow["StatusID"]) == Convert.ToInt16(Common.NodeStatus.Archieve))
            {
                childNode.Text = Common.DecodeXML(Convert.ToString(childRow["Name"])) + Common.deleteFlag;
            }
            else
            {
                childNode.Text = Common.DecodeXML(Convert.ToString(childRow["Name"]));
            }
            childNode.Value = Convert.ToString(childRow["ID"]);
            childNode.Attributes.Add(Common.virtualIDAtt, Convert.ToString(childRow["virtualID"]));
            childNode.Attributes.Add(Common.isVirtualExist, Convert.ToString(childRow["isVirtualExist"]));
            childNode.Attributes.Add(Common.NodeDefinitionID, Convert.ToString(childRow["NodeDefinitionID"]));
            childNode.Attributes.Add(Common.ParentNodeID, Convert.ToString(childRow["ParentID"]));
            childNode.Attributes.Add(Common.Position, Convert.ToString(childRow["Position"]));
            childNode.Attributes.Add(Common.NodeDefinition, Convert.ToString(childRow["NodeDefinition"]));

            childNode.ExpandMode = (Convert.ToInt32(childRow["ischildexists"]) > 0) ? TreeNodeExpandMode.WebService : TreeNodeExpandMode.ClientSide;
            nodes.Add(childNode);
        }
     return nodes.ToArray();
    } 
```

当我点击展开箭头然后通过javascript函数调用web方法来填充子节点时，它工作得很好，当父节点有1000多个子节点时，我的性能有问题，我想像用户点击展开一样以批处理模式实现箭头，然后用**更多**按钮加载 200 个子节点，然后单击**更多**按钮，然后加载下一个 200 个节点。任何人都可以有实现此功能的想法。

谢谢，穆罕默德萨迪克。

# c# - 独特的倒计时计时器，使用数据表在 Web 服务中使用倒计时

> ID：12294106
> 
> 赞同：0
> 
> 时间：2012-09-06T06:24:19.727
> 
> 标签：c#, .net, web-services, mono

嗨我有以下代码，当我第一次调用 Ping 方法时，它可以工作，但是在第二次调用时它失败并出现错误 Ping 服务意味着保持活动 16 秒，一旦计时器计数为零用户从数据表中删除，这样我就有了当前连接用户的列表

```
 public class PokerHost : WebService
    {
    //bool RunningTimmer = true;
   static DataTable table = new DataTable();
   private static readonly TimeSpan UpdateEngineTimerFrequency = TimeSpan.FromSeconds(2);
   private Timer UpdateEngineTimer { get; set; }

   private void MyTimerAction(object state)
  {
    DataTable table = GetTable(); // Get the data table.
    foreach (DataRow row in table.Rows) // Loop over the rows.
    {

            int minused = Convert.ToInt32(row["countdown"]) - 2;
            if (minused >= 0) {
                row["countdown"] = minused;
            }
            else 
            {
            row.Delete();
            }
            table.AcceptChanges();
    }
  }
    static DataTable GetTable()
    {
    table.Columns.Add("gamekey", typeof(string));
    table.Columns.Add("countdown", typeof(int));
    return table;
    }
  protected void Application_Start(object sender, EventArgs e)
  {
    this.UpdateEngineTimer = new Timer(MyTimerAction,
                                       null, /* or whatever state object you need to pass */
                                       UpdateEngineTimerFrequency,
                                       UpdateEngineTimerFrequency);
   }

protected void Application_End(object sender, EventArgs e)
{
    this.UpdateEngineTimer.Dispose();
}

    //--------------------------------------------------------------------------------------------------------------------------------------------------
    //--Only webmethods
    //--------------------------------------------------------------------------------------------------------------------------------------------------

    [WebMethod]
    public string Ping(string gamekey)
    {
    DataTable table = GetTable(); // Get the data table.
    foreach (DataRow row in table.Rows) // Loop over the rows.
    {
            if (Convert.ToString(row["gamekey"]) == gamekey)
            {
                row["countdown"] = 16;
            }
            table.AcceptChanges();
            table.Dispose();
    }
        //make array of current online users
        // need to check with the game and timelimits
        table.AcceptChanges();
        table.Dispose();
        return "PONG";
    } 
```

一旦第二次调用该方法被杀死，我该如何解决这个问题，

感谢您的时间，这个应用程序是在 ubuntu 服务器上以单声道制作和运行的

我得到的错误是这个

```
500 - Internal Server Error
System.Data.DuplicateNameException: A DataColumn named 'gamekey' already belongs to this DataTable.
   at System.Data.DataColumnCollection.RegisterName (System.String name, System.Data.DataColumn column) [0x00000] in <filename unknown>:0 
   at System.Data.DataColumnCollection.Add (System.Data.DataColumn column) [0x00000] in <filename unknown>:0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:22:12.530

您的问题似乎是由于`table`多次尝试为变量设置相同的值而引起的。您可以通过执行以下操作来修复它：

```
static DataTable table = null;

static DataTable GetTable()
{
    if(table == null){
        table = new DataTable();
        table.Columns.Add("gamekey", typeof(string));
        table.Columns.Add("countdown", typeof(int));
    }
    return table;
} 
```

这不是一个精确的解决方案，也没有以任何方式进行测试，但希望能让您了解尝试什么。关键是仅`table`在尚未完成的情况下创建和设置值（简单的单例模式）。

PS：如果您想/需要，您还可以检查表是否包含`"gamekey"`and `"countdown"`，而不是像示例中那样仅检查是否是`null`。

# php - 覆盖 Joomla 前端页面布局

> ID：12294108
> 
> 赞同：0
> 
> 时间：2012-09-06T06:24:22.140
> 
> 标签：php, content-management-system, joomla1.5, joomla-extensions, frontpage

到目前为止，我正在使用 joomla 1.5 并为我的首页使用首页博客布局，

现在我想从那个布局切换到对用户来说更生动、更直观的东西。

我正在寻找一个非结构化主页之类的东西，比如一堵普通的墙，我可以在这里和那里放置新的更新，一些固定在板上的东西。一种 Pinterest 类型的布局，

我不希望这些静态和无聊的文章需要一些动态的和更多用户交互的东西。

我有任何模块可以做到这一点，或者这可能吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T09:39:35.687

尝试像 K2 这样的模块。演示：[http ://demo.getk2.org/](http://demo.getk2.org/)

另一种方式 - 下载 Joomla 的主题。例如像这样：[JSN Groove 模板](http://demo.joomlashine.com/joomla-templates/jsn_gruve/index.php)。请注意，大多数主题都可以安装自己的 modulex 和插件以正常工作，所以不要忘记进行备份；）

[您还可以在Joomla Content Extensions](http://extensions.joomla.org/extensions/authoring-a-content/content-construction)找到很多内容和布局更改模块

# post - 如何篡改混合了 GET 和 POST 的 HTTP 请求

> ID：12294118
> 
> 赞同：1
> 
> 时间：2012-09-06T06:25:44.013
> 
> 标签：post, get, http-headers, firefox-addon

我们可以使用 Tamper Data 来篡改 POST 请求，但我想知道是否有任何工具可以篡改 GET 和 POST 混合的请求，例如：[http ://example.com/?time=123456&date=22-12 -2012](http://example.com/?time=123456&date=22-12-2012) 并且还有相关的 POST 数据。

使用 Tamper Data 我只能更改 POST 参数而不能更改 GET，如果我使用其他方式更改 GET 参数，我会丢失 POST 数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T06:28:01.500

尝试[提琴手](http://www.fiddler2.com/fiddler2/)。这使您可以控制 GET 和 POST 数据（通常是整个请求），并且应该能够做您想做的事情。

它甚至有自己关联的[FiddlerScript](http://www.fiddler2.com/Fiddler/dev/)，可帮助自动处理（重定向、编辑等）Web 请求。

# php - 如何在 php 代码中嵌入 html 文件？

> ID：12294120
> 
> 赞同：19
> 
> 时间：2012-09-06T06:25:44.933
> 
> 标签：php, html

我有很多 html 文件，现在我想使用一些 php 代码一个一个地调用每个文件。但是每当我尝试运行 php 代码以从文件夹中调用这些 html 文件时，它都不起作用。

```
 1.html view
    2.html view
    3.html view 
```

因此，1,2 和 3 是 html 文件，现在通过单击查看用户应该被定向到链接。如何解决在 php 中合并 html 文件的问题，以便文件将通过查看选项一一显示给用户。每当用户单击查看时，用户都会查看 html 页面。

注意：我在 windows7 中使用 xampp 服务器

任何建议将不胜感激...

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-09-06T07:03:16.180

对每个 html 文件使用[include PHP 函数](http://php.net/manual/en/function.include.php)。

例子：

```
<?php
// do php stuff

include('fileOne.html');
include('fileTwo.html');

?> 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2017-02-06T18:38:47.613

对已接受答案的小改进：您应该更喜欢[`readfile()`](http://php.net/manual/en/function.readfile.php)非PHP 文件`include()`或非`require()`PHP 文件。这是因为`include()`并且`require()`将作为 PHP 代码处理，因此如果它们包含看起来像 PHP 的内容（如`<?`），它们可能会产生错误。或者更糟糕的是，一个安全漏洞。（当然，如果您也显示用户提供的 HTML，仍然存在潜在的安全漏洞，但他们至少无法在您的服务器上运行代码。）

如果`.html`文件实际上包含 PHP 代码，则应适当命名它们。

```
<?php
// do php stuff

readfile('fileOne.html');
readfile('fileTwo.html');

?> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-06T06:58:28.700

使用[opendir](http://php.net/manual/en/function.opendir.php)并遍历文件。

例子：

```
<?php

    $dir = "/tmp";
    $dh = opendir($dir);
    while(false !== ($filename = readdir($dh)))
    {
        echo $filename . ' <a href="' . $dir . '/' . $filename . '">view</a>';
    }
?> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-06T06:46:00.597

请参见此处[目录中每个文件的循环代码](https://stackoverflow.com/questions/6155533/loop-code-for-each-file-in-a-directory)

知道如何循环文件夹中的文件，然后只需回显带有链接的 A 标记

# java - 什么相当于 PdfWriter.getInstance(document,response.getOutputStream()); 脱颖而出

> ID：12294122
> 
> 赞同：0
> 
> 时间：2012-09-06T06:25:50.850
> 
> 标签：java, export-to-excel, export-to-pdf

我可以选择将数据导出为 PDF，代码如下：

```
 response.setHeader("Content-disposition", "attachment; filename=\"" + title + ".pdf\"");
  PdfWriter.getInstance(document,response.getOutputStream()); 
```

`Excel`导出文件的等效选项是什么`PdfWriter.getInstance(document,response.getOutputStream());`

`PDF`下面的代码也非常适合执行下载，但是当我使用选项打开时它无法打开文件。

怎么办。

更新 ：

这是我用来生成和导出 PDF 文件的代码，同样的方法对 excel 文件有什么办法吗？

```
if(exportTo.equals("pdf"))
        {
        response.setHeader("Content-disposition", "attachment; filename=\"" + title + ".pdf\"");
        response.setContentType("application/pdf");
        PdfWriter.getInstance(document,response.getOutputStream());

        try {
            document.open();
            addTitlePage(document, "Employee Report Details");

           /* Image image = Image.getInstance(path+"images/abi.png");
            image.setAbsolutePosition(40f, 770f);
            image.scaleAbsolute(70f, 50f);
            document.add(image);*/

            Map headerMap = new LinkedHashMap();
            headerMap = custDAO.getHeader(query);

            float[] colsWidth = {1.5f,3f,4f,4f,2f};
            PdfPTable table = new PdfPTable(colsWidth);
            table.setWidthPercentage(98);
            table.setHorizontalAlignment(Element.ALIGN_CENTER);

            PdfPCell c1 = new PdfPCell();
            for (Iterator it = headerMap.keySet().iterator(); it.hasNext();) {
                String headerName = (String) headerMap.get(it.next());
                c1 = new PdfPCell(new Phrase(headerName, headerFont));
                c1.setBackgroundColor(BaseColor.LIGHT_GRAY);
                table.addCell(c1);
            }
            table.setHeaderRows(1);
            table = custDAO.creadPDFTable(query, table);
            document.add(table);
            document.close();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
        } 
```

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:29:15.917

我建议您参考本教程：

[http://www.vogella.com/articles/JavaExcel/article.html#createexcel](http://www.vogella.com/articles/JavaExcel/article.html#createexcel)

excel 导出没有一个最佳选择。那里有很多图书馆。

# php - PHP file_get_contents（）不起作用

> ID：12294124
> 
> 赞同：4
> 
> 时间：2012-09-06T06:26:09.210
> 
> 标签：php, codepad

谁能解释为什么以下代码返回警告：

```
<?php
  echo file_get_contents("http://google.com");
?> 
```

我收到警告：

```
Warning: file_get_contents(http://google.com): 
failed to open stream: No such file or directory on line 2 
```

见[键盘](http://codepad.org/1dI1W8zF)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-06T06:39:00.270

作为替代方案，您可以使用 cURL，例如：

```
$url = "http://www.google.com";
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$data = curl_exec($ch);
curl_close($ch);
echo $data; 
```

参见：[卷曲](http://php.net/manual/en/book.curl.php)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-07-11T22:55:39.383

**试试这个函数代替 file_get_contents()：**

```
<?php

function curl_get_contents($url)
{
    $ch = curl_init();

    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_URL, $url);

    $data = curl_exec($ch);
    curl_close($ch);

    return $data;
} 
```

它可以像 file_get_contents() 一样使用，但使用 cURL。

在 Ubuntu（或其他具有 aptitude 的类 unix 操作系统）上安装 cURL：

```
sudo apt-get install php5-curl
sudo /etc/init.d/apache2 restart 
```

另请参阅[卷曲](http://php.net/manual/en/book.curl.php)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-06T06:30:20.897

这几乎肯定是由允许 PHP 禁用使用文件处理函数打开 URL 的能力的配置设置引起的。

如果您可以更改 PHP.ini，请尝试打开`allow_url_fopen`设置。另请参阅[fopen 的手册页以](http://php.net/manual/en/function.fopen.php)获取更多信息（相同的限制会影响所有文件处理功能）

如果您无法打开该标志，则需要使用其他方法（例如 Curl）来读取您的 URL。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-06T06:50:15.270

如果您运行此代码：

```
<?php
    print_r(stream_get_wrappers());
?> 
```

在[http://codepad.org/NHMjzO5p](http://codepad.org/NHMjzO5p)中，您会看到以下数组：

```
Array
(
    [0] => php
    [1] => file
    [2] => data
) 
```

在 Codepad.Viper - [http://codepad.viper-7.com/lYKihI](http://codepad.viper-7.com/lYKihI)上运行相同的代码，您将看到 http 流已启用，因此`file_get_contents`在 codepad.org 中不起作用。

```
Array 
( 
    [0] => https 
    [1] => ftps 
    [2] => compress.zlib 
    [3] => php 
    [4] => file 
    [5] => glob 
    [6] => data 
    [7] => http 
    [8] => ftp 
    [9] => phar 
) 
```

如果您在 Codepad.Viper 中运行上面的问题代码，那么它会打开 google 页面。因此，区别`http`在于 CodePad.org 中禁用并在 CodePad.Viper 中启用的流。

要启用它，请阅读以下文章[如何启用 HTTPS 流包装器](https://stackoverflow.com/questions/2305954/how-to-enable-https-stream-wrappers)。或者使用`cURL`.

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2016-08-03T08:38:18.173

尝试在主机名后面加上斜杠。

```
<?php
    echo file_get_contents("http://google.com/");
?> 
```

* * *

## 回答 #6

> 赞同：-5
> 
> 时间：2015-01-24T10:24:56.273

您可以尝试使用这样的单引号：

```
file_get_contents('http://google.com'); 
```

# c# - 生成随机数并插入数组而不重复

> ID：12294128
> 
> 赞同：2
> 
> 时间：2012-09-06T06:19:01.550
> 
> 标签：c#, arrays, random

> **可能重复：**
> [C# 中的随机数生成器 - 唯一值](https://stackoverflow.com/questions/2351308/random-number-generator-in-c-sharp-unique-values)

我正在尝试编写一个生成随机数的 C# 程序，检查这个数字是否在我的数组中，如果是，重复生成数字，否则将此数字插入`[i]`我的数组的插槽中。

到目前为止，这是我的代码：

```
 int check = 0;

        Random rand = new Random();

        int[] lotto = new int[6];

        for (int i = 0; i < lotto.Length; )
        {
            check = rand.Next(1, 41);
            while (!(lotto.Contains(check)))
            {

                lotto[i] = check;
                i++;
            }

            Console.WriteLine("slot " + i + " contains " + check);

        }
        Console.Read();
    } 
```

**更新：**谢谢想通了，用while替换了if :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:43:31.287

我猜你的问题是什么不起作用，我猜你忘记了一个`!`并使用了一个未声明的变量`i`：

```
if (!lotto.Contains(check)) // Ensure the number has not been chosen
{
    lotto[count] = check; // Set the number to its correct place
    count=count+1
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T06:49:33.323

你可以试试这个：

```
for (int i = 0; i < lotto.Length;) 
{
  check = rand.Next(1, 41);
  Console.WriteLine("Random number to be checked is -> "+check);

  if (!lotto.Contains(check))
  {
     lotto[i] = check;
     i++;
  }

  Console.WriteLine("slot " + i + " contains " + check);
} 
```

请注意，我已从 for 语句中删除 i++ 并已放入 if 块中。

您也可以尝试使用其他循环结构，但这是为了对您的代码进行最少的编辑。

编辑：

好吧，我尝试了代码，似乎对我有用。这是完整的代码：

```
int check = 0;

int[] lotto = new int[6];

Random rand = new Random();

for (int i = 0; i < lotto.Length; )
{
    check = rand.Next(1, 41);
    Console.WriteLine("Random number to be checked is -> " + check);

    if (!lotto.Contains(check))
    {
        lotto[i] = check;
        i++;
    }

    Console.WriteLine("slot " + i + " contains " + check);
}

Console.ReadKey(); 
```

您还可以使用以下`while`构造：

```
int check = 0;

int[] lotto = new int[6];

Random rand = new Random();

int i = 0;

while (i < lotto.Length)
{
    check = rand.Next(1, 41);
    Console.WriteLine("Random number to be checked is -> " + check);

    if (!lotto.Contains(check))
    {
        lotto[i] = check;
        i++;
    }

    Console.WriteLine("slot " + i + " contains " + check);
}

Console.ReadKey(); 
```

基本上，这是与前面的代码相同的功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T06:52:15.450

如果要生成不重复的随机数，请使用经过 FIPS 140-2 验证的随机数生成器（请参阅[http://www.hhs.gov/ocr/privacy/hipaa/administrative/securityrule/的第 36 页第 4.9.3 节fips1402.pdf](http://www.hhs.gov/ocr/privacy/hipaa/administrative/securityrule/fips1402.pdf)）。

如果这被用于任何严肃的游戏目的，正如您的变量命名所暗示的那样，我会推荐比`Random`.

# c - 显示收到的没有

> ID：12294129
> 
> 赞同：-2
> 
> 时间：2012-09-06T06:26:31.760
> 
> 标签：c

```
#include <reg51.h>
#include "_LCD_R8C.c"
#define INPUT_LENGTH 11

char input[INPUT_LENGTH];  /* The input from the serial port */
int  input_pos = 0;       /* Current position to write in the input buffer */

int main()
{
  int i;

  lcd_init();
  lcd_clear();
  SCON = 0x50;
  TMOD = 0x20;                /* timer 1, mode 2, 8-bit reload */
  TH1 = 0xFD;                /* reload value for 2400 baud */
  TR1 = 1;
  TI = 1;
  RI = 1;
  while (1 == 1)
  {
    /* read the next character from the serial port */
    input[input_pos++] = getCharacter ();
    /* send it back to the original sender */
    for (i = 0; i <= input_pos; i++)
    {
      lcd_print_b(input[i]);
    }
  }
}

char getCharacter(void)
{
  char chr[INPUT_LENGTH];           /* variable to hold the new character */

  while (RI != 1) {;}
  chr[input_pos++] = SBUF;
  RI = 0;
  return (chr);
} 
```

我尝试显示我从 rfreader 读取的 rs232 收到的号码。但是我在显示器上得到了错误的值，即 002100 而不是 0016221826。但是在超级终端上，我得到了准确的正确值，其中包含 $ 美元，即 $0016221826。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:48:46.223

首先，您确实需要采用合理的缩进样式，这段代码很难阅读。您的代码的问题是您将用户输入数组读入本地数组“chr”，然后将该数组的地址返回给 main，而不是一个字符。main() 不需要地址，它需要一个字符。不管怎样，一旦你离开了函数，数组“chr”就无效了。

您的 for 循环打印也不正确，没有任何意义。每次收到新字符时，您都会一遍又一遍地打印所有字符。

硬件或MCU可能还有其他问题，我只是修复了最明显的软件错误。

```
#include <reg51.h>
#include "_LCD_R8C.c"

#define INPUT_LENGTH 11

int main()
{
  char input[INPUT_LENGTH];  /* The input from the serial port */
  int  input_pos  = 0;       /* Current position to write in the input buffer */

  lcd_init();
  lcd_clear();

  SCON = 0x50;
  TMOD = 0x20;                /* timer 1, mode 2, 8-bit reload */
  TH1  = 0xFD;                /* reload value for 2400 baud */
  TR1  = 1;
  TI   = 1;
  RI   = 1;

  while(1)
  {
    /* read the next character from the serial port */
    if(input_pos < INPUT_LENGTH)    /* check for buffer overflow */        
    {
      input[input_pos] = getCharacter();
      lcd_print_b(input[input_post]);  /* only makes sense to print each character once */
      input_pos++;
    }
 }

 char getCharacter (void)
 {
   char chr          /* variable to hold the new character */

   while (RI != 1) 
     ;

   chr = SBUF;
   RI = 0;

   return(chr);
 } 
```

# php - PHP 类和卷曲

> ID：12294134
> 
> 赞同：1
> 
> 时间：2012-09-06T06:26:48.460
> 
> 标签：php, oop, curl

对于我最聪明的朋友，我用谷歌搜索并尝试了一切。我确信这只是深夜没有让我看到/理解问题。我应该提一下，我仍在从功能切换到 OOP 的过程中，这是我第一次能够启用 curl。:(因此，也请随时批评任何不良做法..

```
<?php
class urlValidation
{
    public $content;
    public $validUrl;
    public function __construct($validUrl)
    {
        $this->content = $content;
        $this->validUrl = $validUrl;
        $this->getContents();
    }
    public function getContents()
    {
        $this->curlHandler = curl_init($this->validUrl);
        curl_setopt($this->curlHandler, CURLOPT_NOBODY, false);
        curl_setopt(CURLOPT_RETURNTRANSFER, false); //changing false to true is the answer!
        $this->content = curl_exec($this->curlHandler);
        curl_close($this->curlHandler);
    }
}
?> 
```

从调用

```
$suggestUrl = 'http://www.google.com';
$validate = new urlValidation($suggestedUrl); 
```

对于所有最好的我来说，我无法弄清楚为什么 $this->content 会在没有被调用的情况下打印到屏幕上。我只是希望将返回的 HTML 存储在一个变量中，而不是返回/打印/附加到文档中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:39:00.380

PHP 文档解释了这一切；）

> [`curl_exec`](http://cn2.php.net/curl_exec)成功时返回 TRUE，失败时返回 FALSE。但是，如果`CURLOPT_RETURNTRANSFER`设置了该选项，它将在成功时返回结果，在失败时返回 FALSE。

所以在`$this->content = curl_exec($this->curlHandler);`你需要添加这个之前

```
curl_setopt($this->curlHandler, CURLOPT_RETURNTRANSFER, true); 
```

# magento-1.6 - 按商店 ID magento 显示产品列表

> ID：12294138
> 
> 赞同：1
> 
> 时间：2012-09-06T06:26:55.300
> 
> 标签：magento-1.6

我在 magento 上显示产品列表时遇到问题。我当前的代码仅按类别显示过滤器：

例子：

```
{{block type="catalog/product_list" name="home.catalog.product.list" alias="products_homepage" category_id="18" template="catalog/product/list.phtml"}} 
```

我只希望它按商店 ID 过滤

```
{{block type="catalog/product_list" name="home.catalog.product.list" alias="products_homepage" store_id="4"  template="catalog/product/list.phtml"}} 
```

这行不通。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T11:13:55.470

那是行不通的。您将需要修改/覆盖产品列表块。

复制

/app/code/core/Mage/Catalog/Block/Product/List.php

至

/app/code/local/Mage/Catalog/Block/Product/List.php

您需要修改**_getProductCollection()**

你可以添加这样的东西

```
if($this->getStoreId()) {
    $this->_productCollection->addStoreFilter($this->getStoreId());
} 
```

$this->getStoreId() 将提取您在标签中使用的值： store_id="3"

# objective-c - 在 iphone 中接听电话时有什么方法可以使用 Audiotoolbox

> ID：12294140
> 
> 赞同：-1
> 
> 时间：2012-09-06T06:27:01.047
> 
> 标签：objective-c, audiotoolbox

无论如何在接听电话时从我们的 iphone 应用程序打开扬声器，以便用户可以通过外接扬声器继续对话，我们的 iphone 应用程序在接听电话时是否可以工作？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:50:08.017

不，你不能那样做

# java - 解析值保存在edittext字段android中

> ID：12294148
> 
> 赞同：-1
> 
> 时间：2012-09-06T06:27:56.013
> 
> 标签：java, android, parameter-passing, adapter

在这里，我必须成功地解析从前一个活动到下一个活动的值......现在我希望需要将该值保存在我的编辑文本字段中......我该如何开发这个..

在我的代码中，必须从以前的活动中解析 orderid 值并显示在此活动中。这里 orderid 值自动保存在我的edittext字段中......我该怎么办......

在我之前的活动代码中：

```
 Button btninsert = (Button) findViewById(R.id.btn_insert);
btninsert.setOnClickListener(new View.OnClickListener() {

public void onClick(View v) {
     String s= getIntent().getStringExtra("orderid");
Intent i = new Intent(getApplicationContext(), InsertionExample.class);
i.putExtra(KEY_NAME, s);
startActivity(i);
}
}); 
```

这是我的 InsertionExample.java 类：

```
public class InsertionExample extends Activity {
private final String NAMESPACE = "http://xcart.com";
private final String URL = "http://192.168.1.168:8089/XcartLogin/services/update?wsdl";
private final String SOAP_ACTION = "http://xcart.com/insertData";
private final String METHOD_NAME = "insertData";
Button btninsert;
String selectedItem;

static final String KEY_NAME = "orderid";
    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.change_status);
    Intent in = getIntent();

    // Get XML values from previous intent
    String orderid = in.getStringExtra(KEY_NAME);

    // Displaying all values on the screen
    TextView lblName = (TextView) findViewById(R.id.textView1);

    lblName.setText(orderid);

    Spinner spinner = (Spinner) findViewById(R.id.spinner1);
    btninsert = (Button)findViewById(R.id.btn_insert1);
    btninsert.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            EditText Orderid = (EditText) findViewById(R.id.orderid);
            String orderid = Orderid.getText().toString();
        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
            PropertyInfo unameProp =new PropertyInfo();
            unameProp.setName("Status");//Define the variable name in the web service method
            unameProp.setValue(selectedItem);//Define value for fname variable
            unameProp.setType(String.class);//Define the type of the variable

            request.addProperty(unameProp);
            PropertyInfo idProp =new PropertyInfo();
            idProp.setName("Orderid");//Define the variable name in the web service method
            idProp.setValue(orderid);//Define value for fname variable
            idProp.setType(String.class);//Define the type of the variable
            request.addProperty(idProp);

              SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
              envelope.setOutputSoapObject(request);
              HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

              try{
               androidHttpTransport.call(SOAP_ACTION, envelope);
                  SoapPrimitive response = (SoapPrimitive)envelope.getResponse();

                 TextView result = (TextView) findViewById(R.id.textView2);
                  result.setText(response.toString());
             }
           catch(Exception e){

           }
              }
    });

    //attach the listener to the spinner
    spinner.setOnItemSelectedListener(new MyOnItemSelectedListener());
    //Dynamically generate a spinner data 
    createSpinnerDropDown();

}

//Add animals into spinner dynamically
private void createSpinnerDropDown() {

    //get reference to the spinner from the XML layout
    Spinner spinner = (Spinner) findViewById(R.id.spinner1);

    //Array list of animals to display in the spinner
    List<String> list = new ArrayList<String>();

    list.add("Q");
    list.add("P");
    list.add("F");
    list.add("I");
    list.add("C");

    //create an ArrayAdaptar from the String Array
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_spinner_item, list);
    //set the view for the Drop down list
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    //set the ArrayAdapter to the spinner
    spinner.setAdapter(adapter);
    adapter.notifyDataSetChanged();
    //attach the listener to the spinner
    spinner.setOnItemSelectedListener(new MyOnItemSelectedListener());

}

public class MyOnItemSelectedListener implements OnItemSelectedListener {

    public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {

         selectedItem = parent.getItemAtPosition(pos).toString();

 }

    @Override
    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    }

    }

    public void onNothingSelected(AdapterView<?> parent) {
        // Do nothing.
    }
} 
```

这里我使用下面的代码在edittext字段上设置orderid：idProp.setValue(orderid);/

```
 EditText Orderid = (EditText) findViewById(R.id.orderid);
            String orderid = Orderid.getText().toString();
            PropertyInfo idProp =new PropertyInfo();
            idProp.setName("Orderid");//Define the variable name in the web service method
            idProp.setValue(orderid);//Define value for fname variable
            idProp.setType(String.class);//Define the type of the variable
            request.addProperty(idProp);` 
```

但我希望edittext字段必须自动输入我解析的orderid。（IE）

```
Intent in = getIntent();

    // Get XML values from previous intent
    String orderid = in.getStringExtra(KEY_NAME);

    // Displaying all values on the screen
    TextView lblName = (TextView) findViewById(R.id.textView1);

    lblName.setText(orderid); 
```

这个orderid是自动进入edittext框的……我该怎么办……请帮帮我……给我一些想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:32:21.230

想要将值发送给其他人的活动将执行此操作......

```
Button bn = (Button)findViewById(R.id.bn);
bn.setOnClickListener(new OnClickListener() {

    public void onClick(View arg0) {
        Intent intent = new Intent(PutExtra.this, getExtra.class);
        intent.putExtra("text", et.getText().toString());
        startActivity(intent);
    }
}); 
```

被调用并需要值的活动必须执行此操作

```
override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.getextra);

        EditText tv = (EditText)findViewById(R.id.tv);

        Intent intent = getIntent();
        String extra = intent.getStringExtra("text");      
        tv.setText(extra);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T10:05:33.570

而不是使用 startActivity(Intent i) 使用 startActivityForResult(Intent i, key k)。一旦你完成了你的活动（调用finish（））并返回到根目录，你将在onActivityResult（）中捕捉到“结果”。

如果您需要更多信息，请查看此链接[http://android-er.blogspot.com/2011/08/return-result-to-onactivityresult.html](http://android-er.blogspot.com/2011/08/return-result-to-onactivityresult.html)

# php - mysql数据库和php中已经存在值

> ID：12294152
> 
> 赞同：1
> 
> 时间：2012-09-06T06:28:12.453
> 
> 标签：php, mysql, forms, isset

我有下面的代码来检查（网络注册表单）电子邮件地址是否已经存在于数据库中

它工作得很好，一旦我加载页面，它就会显示电子邮件已经存在。但它一直处理表单并将相同的电子邮件输入到mysql数据库中？

如果电子邮件地址已经存在，我如何阻止表单提交？

我的代码如下：

```
$email = $_POST["email"];

$query = mysql_query("SELECT * FROM users WHERE email='$email'");

if(mysql_num_rows($query) != 0)
{
echo "email already exists";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:32:23.373

一个好主意是在发布表单之前运行 AJAX 检查，即在客户端表单验证状态下。因此，用户在发布表单之前会知道已经添加了电子邮件......

AJAX 解决方案是：

在 FORM 页面上，有一个类似这样的 jQuery 函数：

使用验证器插件添加 jQuery：

```
<script type="text/javascript" src="/js/jquery.1.7.2.min.js"></script>
<script type="text/javascript" src="/js/jquery.validate.min.js"></script>
<script type="text/javascript">
jQuery.validator.addMethod("emailunique",function(value){
  return eval($.ajax({
    url: 'phptocheckunique.php',
    data: "email="+value,
    type: 'post',
    async: false
  }).responseText);
}, 'Email address already exists, must be unique!');

$(function() {
   $('#yourform').validate();
});
</script> 
```

然后在您的表单中将类添加到电子邮件输入字段：

```
<input type="text" name="email" value="" size="30" class="required email emailunique" /> 
```

然后制作一个单独的 PHP 脚本，仅用于检查数据库（使用 $_POST['email'] 发布的邮件地址，类似于您上面的函数（但安全！），如果已经有电子邮件，则返回 TRUE。

phptocheckunique.php：

```
<?php 
$dbh = new PDO("mysql:host=$host;dbname=$dbname", $user, $pass); 
$sth = $dbh->prepare("SELECT FROM users WHERE email = ?");
$sth->execute(mysql_real_escape_string($_POST['email']));
if ($sth->rowCount() > 0):
   return true;
else:
   return false;
endif; 
```

但是，如果您仍然使用您的方法，请在最后一个 if 例程中添加 ELSE 语句，那么您只会在电子邮件唯一的情况下添加该人......而且您的代码非常不安全，您应该考虑使用 PDO。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T06:34:32.290

```
if(mysql_num_rows($query) != 0)
{
echo "email already exists";
}
else
{
  mysql_query($ur_query);
} 
```

只需将数据库的“INSERT INTO ...”查询放在其他部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T06:31:05.217

您可能不想停止提交表单，而是提交表单，运行检查（就像您的代码一样），如果匹配，将用户重定向回表单页面并出现错误消息告诉他们电子邮件地址已经存在。

这样表单将被提交 - 但在电子邮件地址唯一之前不会处理到数据库中。

从您的代码中借用：

```
$email = $_POST["email"];
$query = mysql_query("SELECT * FROM users WHERE email='$email'");
if(mysql_num_rows($query) != 0)
{
    echo "email already exists";
    // redirect back to form and populate with 
    // data that has already been entered by the user
}
else
{
    // insert form contents into the database.
} 
```

请注意，您的代码很容易受到注入攻击。在处理这样的表单数据时，您应该切换到 PDO 或 mysqli 准备好的语句。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T06:44:02.360

你需要像这样给予，

```
if(isset($_POST["email"])
{
$email = $_POST["email"];

$query = mysql_query("SELECT * FROM users WHERE email='$email'");

if(mysql_num_rows($query) != 0)
{
echo "email already exists";
}
} 
```

它将在您提交表单后执行。

# iis - tcm:Error ErrorCode="80040302" 有人可以解释这个错误吗？

> ID：12294156
> 
> 赞同：-2
> 
> 时间：2012-09-06T06:28:31.837
> 
> 标签：iis, tridion

```
<?xml version="1.0" standalone="yes"?>
<tcm:Error ErrorCode="80040302" Category="16" Source="Kernel" Severity="2" xmlns:tcm="http://www.tridion.com/ContentManager/5.0"><tcm:Line ErrorCode="80040302" Cause="false" MessageID="4613"><![CDATA[Unable to get list of Publication items.]]><tcm:Token>RESID_4485</tcm:Token><tcm:Token>RESID_4452</tcm:Token></tcm:Line><tcm:Line ErrorCode="80040302" Cause="false" MessageID="4394"><![CDATA[Unable to Initialize TDSE object.]]><tcm:Token>RESID_4537</tcm:Token><tcm:Token>TDSE</tcm:Token></tcm:Line><tcm:Line ErrorCode="80040302" Cause="true" MessageID="16226"><![CDATA[Access is denied for the user IIS APPPOOL\publishedlist.]]><tcm:Token>IIS APPPOOL\publishedlist</tcm:Token></tcm:Line><tcm:Details><tcm:CallStack><tcm:Location>Tridion.ContentManager.Security.AuthorizationManager.LoadAccessToken(String,IEnumerable`1,IEnumerable`1)</tcm:Location><tcm:Location>Tridion.ContentManager.Security.AuthorizationManager.LoadAccessToken(String,String)</tcm:Location><tcm:Location>Tridion.ContentManager.Session..ctor(String,String,UserContext)</tcm:Location><tcm:Location>Tridion.ContentManager.BLFacade.SystemFacade.InitializeUserContext(UserContext,String,String)</tcm:Location><tcm:Location>UtilitiesTDS.GetUserContext</tcm:Location><tcm:Location>TDSE.Initialize</tcm:Location><tcm:Location>TDSE.GetListPublications</tcm:Location></tcm:CallStack></tcm:Details></tcm:Error> 
```

执行此行时发生此错误：

```
TridionCollection<Component> components = new TridionCollection<Component>(folder.GetListItems(ListColumnFilter.XMLListExtended, rowFilter), "[contains(@IsShared,'false') and contains(@IsLocalized,'false') ]"); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-06T06:43:33.023

我认为错误本身很清楚：用户`IIS APPPOOL\publishedlist`无权访问 Tridion。现在您需要了解此用户为何尝试连接。有几种方法可以解决它。尝试找出谁在尝试与该用户建立联系。显然是 IIS，但为什么（它应该与这个用户连接？）

*   如果您使用用户 A 登录并看到这样的错误，则表示您想使用`IIS APPPOOL\publishedlist`. 只需添加`IIS APPPOOL\publishedlist`到 Tridion 的模拟用户，就可以了。
*   如果此用户是您要用于执行维护任务的某种服务用户 - 只需在 CM 中创建用户

下一次，请发布更多详细信息，说明您正在尝试做什么以及您到底在哪里遇到问题，否则您的问题将被否决，您几乎不会得到任何答案。

# extjs4.1 - 单击一行后，Extjs 4 网格自定义添加一个带有文本字段的面板

> ID：12294162
> 
> 赞同：0
> 
> 时间：2012-09-06T06:29:15.133
> 
> 标签：extjs4.1

我是 extjs 4 的新手，我在自定义网格面板时遇到了问题。我的应用程序具有要在网格中呈现的 JSON 数据。在用户单击特定行时填充数据后，他需要获得一个文本字段的面板（就像行编辑插件）和一个按钮，以通过控制器将输入的文本发送到服务器。用户输入的这个数据不是网格列的数据。

我需要知道这可能吗？如果是，那我该怎么做。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T15:35:17.950

当然有可能。首先看一下Extjs 4.1 文档中的以下[示例](http://docs.sencha.com/ext-js/4-1/#!/example/form/form-grid.html)

您只需将侦听器添加到[**itemclick**](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.grid.Panel-event-itemclick)网格事件。在此侦听器函数中，您可以创建所需的面板。

# gwt - 在 servlet 中将对象设置为 cookie

> ID：12294173
> 
> 赞同：1
> 
> 时间：2012-09-06T06:29:59.320
> 
> 标签：gwt, servlets, cookies

我正在使用 cookie 来避免 rpc 调用我第一次使用 cookie 进行用户身份验证（当他登录时）。为此，我无法将 servlet 中的用户对象设置为 cookie。因为 cookie 构造函数仅允许字符串为价值 。

如何将对象设置为 cookie？除了 cookie 之外，还有什么方法可以在不进行 RPC 调用的情况下从 HTTP 会话中获取对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:35:56.073

我假设您有一些系统可以将对象与 JSON 相互转换。因此，只需将对象转换为 JSON 字符串，将其保存到 cookie，然后在从 cookie 中提取对象时将其转换回对象。我推荐处理 JSON 的 piriti 库（GWT 内置了自己的 JSON 处理库，但它有一些限制）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-15T07:57:03.300

```
if(authenticated){
                LoginPojo ch=new LoginPojo();
                ch.setImage("image");
                ch.setFullName( u.getFirst_name()+" "+u.getLast_name());
                ch.setLogin(u.getLogin);

                ObjectMapper objectMapper=new ObjectMapper();
                String jsonInString = objectMapper.writeValueAsString(ch);
                Cookie c=new Cookie("VISITOR",jsonInString);
//              c.setSecure(true);

                response.addCookie(c);
                request.getRequestDispatcher(rootURL).forward(request, response);
} 
```

但是有人说：“HTTP 状态管理机制规范（处理 Cookie）指出，除非它包含整个内容，否则不能在 cookie 的值中包含双引号字符。

不要（试图）将 JSON 放入 cookie 中。”

# javascript - 每次单击jquery中的链接时，如何向div添加/附加和切换项目？

> ID：12294177
> 
> 赞同：0
> 
> 时间：2012-09-06T06:30:04.667
> 
> 标签：javascript, jquery

我有像下面这样的 div..

```
<div id="div1">Edit your content 
  <a id="link1" href="#">click to Edit</a>
  <textarea id="text1" cols="3"/>
  <input type="button" id="button1" value="Save" />
</div> 
```

我想要的是..

1.  每次单击链接时，我都想显示和隐藏文本区域和保存按钮。

2.  并且当单击保存按钮时，必须在 textarea 之前将 textarea 内容添加为 listitem，每次单击保存按钮时，已编辑的文本都已更新到该列表中。

请任何人指导我这样做..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T06:37:08.927

最简单的方法是，如果该`Edit your content`部分可以包装在自己的容器中，以便在保存时可以完全替换该容器的内容：

```
<div id="div1">
   <span class="content">Edit your content</span>
   <a id="link1" href="#">click to Edit</a>
   <textarea id="text1" cols="3"></textarea>
   <input type="button" id="button1" value="Save" />
</div>

$('#div1 > a').click(function() {
   var parent = $(this).closest('div');
   parent.find('textarea').val(parent.find('.content').html());
   parent.find(':input, .content, a').toggle();
});

$('#div1 > input[type=button]').click(function() {
   var parent = $(this).closest('div');
   parent.find('.content').html(parent.find('textarea').val());
   parent.find(':input, .content, a').toggle();
}); 
```

[演示](http://jsfiddle.net/tFxQY/)

您会注意到，在此特定示例中`parent`可以轻松地替换声明，但使用此代码，您可以轻松地将选择器更改为匹配多个元素的选择器（即; [demo](http://jsfiddle.net/aFSRC/)）`#div1``#div1 > a``.editable > a`

* * *

**编辑**

看来我第一次误读了您的问题，但变化并没有那么大。

与其将文本框设置为 your 的值，不如在`.content`每次显示时清除它。此外，您可能不想在`.content`每次单击编辑链接时隐藏。单击保存按钮时，您会创建一个新元素，并将其附加到最后一个元素之后`.content`，而不是更新现有元素。

```
$('#div1 > a').click(function() {
   var parent = $(this).closest('div');
   parent.find('textarea').val('');
   parent.find(':input, a').toggle();
});

$('#div1 > input[type=button]').click(function() {
   var parent = $(this).closest('div');

   $('<div/>', { 'class': 'content' })
       .html(parent.find('textarea').val())
       .insertAfter(parent.find('.content:last'));

   parent.find(':input, a').toggle();
});​ 
```

请注意，我已更改`.content`为 a `div`，因为它的块级行为。这当然也应该反映在初始标记中。

[演示](http://jsfiddle.net/4YWTR/)

* * *

**编辑 (2)**

要解决您在评论中的问题，关于在单击链接时添加文本区域和保存按钮，您必须进行一些更改。首先，链接点击监听器必须用代码更新以添加元素，并且可能首先检查它们是否已经存在（即第二次点击链接按钮）：

```
$('#div1 > a').click(function() {
   var parent = $(this).closest('div');
   var txt = parent.find('textarea');

   if(txt.length == 0) {
       txt = $('<textarea/>', { id: 'text1', cols: 3 });
       txt.appendTo('#div1');

       $('<input />', { type: 'button', id: 'button1' }).val('Save').appendTo('#div1');
   }

   txt.val('');
   parent.find(':input, a').toggle();
}); 
```

其次，您的侦听`$('#div1 > input[type=button]')`器将不再像所写的那样工作，因为在评估选择器时文档中没有这样的按钮。要解决此问题，您可以使用实时委托，例如：

```
$('#div1').on('click', 'input[type=button]', function() { ... }); 
```

[演示](http://jsfiddle.net/xYGF7/)。（对于早期的 jQuery 版本，使用`.delegate(selector, event, handler)`而不是`.on(event, selector, handler)`.）

...或者，您可以在创建按钮时立即将侦听器添加到按钮：

```
$('<input />', { type: 'button', id: 'button1' })
    .val('Save')
    .appendTo('#div1')
    .click(saveEdit); 
```

[演示](http://jsfiddle.net/c72FK/)

作为奖励，在这些演示中显示文本框后，我将焦点添加到文本框。你可能也想要那个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T06:43:41.443

你可以这样做

HTML

```
<div id="div1">Edit your content 
  <a id="link1" href="#">click to Edit</a>
    <ul id="NewElement"></ul>
    <textarea id="text1" cols="3" style="display:none;"></textarea>
  <input type="button" id="button1" value="Save" />
</div>​ 
```

脚本

```
$('#link1')​.click(function(){
$('#text1').toggle();
});

$('#button1').click(function(){
  $('#NewElement').append('<li>' + $('#text1').val()  +'</li>'); 
}); 
```

[现场演示](http://jsfiddle.net/esSUQ/) ​</p>

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T06:45:19.993

```
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $('#link1').click(function(){
        $('#some').toggle();
    });
    $('#button1').click(function(){
        $('ul').append('<li>'+$('#text1').val()+'</li>');
    })
})
</script>
</head>

<div id="div1">Edit your content 
    <a id="link1" href="#">click to Edit</a>
    <ul></ul>
    <div id="some">
        <textarea id="text1" cols="3"/></textarea>
        <input type="button" id="button1" value="Save" />
    </div>
</div> 
```

# ios - ios NSFetchRequest 用于两个相关表

> ID：12294180
> 
> 赞同：0
> 
> 时间：2012-09-06T06:30:17.560
> 
> 标签：ios, sqlite, core-data

我的程序有一个带有两个相关表的 sqlite 数据库。一个叫“等级”，一个叫“要求”

我想从“需求”表中获取与“等级”表中的特定行有关系的所有行。以下是我的代码，它抓取整个表，但我只根据上述规则获取指定的行。

```
-(NSArray *) getAllRequirementsForTheRank:(Rank *) rank
{
    NSError *error;

    NSFetchRequest *fetchRequest = [[[NSFetchRequest alloc] init]autorelease];

    NSEntityDescription *entity = [NSEntityDescription entityForName:@"Requirement" inManagedObjectContext:self.context];   

    [fetchRequest setEntity:entity];

    NSPredicate *searchType = [NSPredicate predicateWithFormat:@"Rank = %@", rank];

    [fetchRequest setPredicate:searchType];

    NSArray *scoutRequirementArray  = [self.context executeFetchRequest:fetchRequest error:&error]; 

    for (Requirement *r in scoutRequirementArray)
    {
        NSLog(@"Requirementttt : %@ :", r.requirementName);
    }

    return scoutRequirementArray;       
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:48:11.553

如果您在核心数据中建模了关系，只需从关系属性中获取链接对象。您不需要另一个获取请求。`rank.requirements`将为您提供所需的一切的 NSSet。（我在这里假设您的对象和属性的名称）。

# r - 如何通过简化 R 中的两个 SpatialPolygonsDataFrame 对象来创建新的多边形？

> ID：12294185
> 
> 赞同：7
> 
> 时间：2012-09-06T06:30:26.107
> 
> 标签：r, gis

假设我有两组形状文件，它们经常覆盖同一区域，但并不总是共享边界，例如美国县和 PUMA。我想定义一个新的多边形比例，它使用 PUMA 和县作为原子构建块，即两者都不能被分割，但我仍然想要尽可能多的单位。这是一个玩具示例：

```
library(sp)
# make fake data
# 1) counties:
Cty <- SpatialPolygons(list(
    Polygons(list(Polygon(cbind(x=c(0,2,2,1,0,0),y=c(0,0,2,2,1,0)), hole=FALSE)),"county1"),
    Polygons(list(Polygon(cbind(x=c(2,4,4,3,3,2,2),y=c(0,0,2,2,1,1,0)),hole=FALSE)),"county2"),
    Polygons(list(Polygon(cbind(x=c(4,5,5,4,4),y=c(0,0,3,2,0)),hole=FALSE)),"county3"),
    Polygons(list(Polygon(cbind(x=c(0,1,2,2,0,0),y=c(1,2,2,3,3,1)),hole=FALSE)),"county4"),
    Polygons(list(Polygon(cbind(x=c(2,3,3,4,4,3,3,2,2),y=c(1,1,2,2,3,3,4,4,1)),hole=FALSE)),"county5"),
    Polygons(list(Polygon(cbind(x=c(0,2,2,1,0,0),y=c(3,3,4,5,5,3)),hole=FALSE)),"county6"),
    Polygons(list(Polygon(cbind(x=c(1,2,3,4,1),y=c(5,4,4,5,5)),hole=FALSE)),"county7"),
    Polygons(list(Polygon(cbind(x=c(3,4,4,5,5,4,3,3),y=c(3,3,2,3,5,5,4,3)),hole=FALSE)),"county8")
))

counties <- SpatialPolygonsDataFrame(Cty, data = data.frame(ID=paste0("county",1:8),
            row.names=paste0("county",1:8),
            stringsAsFactors=FALSE)
)
# 2) PUMAs:
Pum <- SpatialPolygons(list(
            Polygons(list(Polygon(cbind(x=c(0,4,4,3,3,2,2,1,0,0),y=c(0,0,2,2,1,1,2,2,1,0)), hole=FALSE)),"puma1"),
            Polygons(list(Polygon(cbind(x=c(4,5,5,4,3,3,4,4),y=c(0,0,5,5,4,3,3,0)),hole=FALSE)),"puma2"),
            Polygons(list(Polygon(cbind(x=c(0,1,2,2,3,3,2,0,0),y=c(1,2,2,1,1,2,3,3,1)),hole=FALSE)),"puma3"),
            Polygons(list(Polygon(cbind(x=c(2,3,4,4,3,3,2,2),y=c(3,2,2,3,3,4,4,3)),hole=FALSE)),"puma4"),
            Polygons(list(Polygon(cbind(x=c(0,1,1,3,4,0,0),y=c(3,3,4,4,5,5,3)),hole=FALSE)),"puma5"),
            Polygons(list(Polygon(cbind(x=c(1,2,2,1,1),y=c(3,3,4,4,3)),hole=FALSE)),"puma6")
    ))
Pumas <- SpatialPolygonsDataFrame(Pum, data = data.frame(ID=paste0("puma",1:6),
            row.names=paste0("puma",1:6),
            stringsAsFactors=FALSE)
)

# desired result:
Cclust <- SpatialPolygons(list(
            Polygons(list(Polygon(cbind(x=c(0,4,4,3,3,2,2,1,0,0),y=c(0,0,2,2,1,1,2,2,1,0)), hole=FALSE)),"ctyclust1"),
            Polygons(list(Polygon(cbind(x=c(4,5,5,4,3,3,4,4),y=c(0,0,5,5,4,3,3,0)),hole=FALSE)),"ctyclust2"),
            Polygons(list(Polygon(cbind(x=c(0,1,2,2,3,3,4,4,3,3,2,2,0,0),y=c(1,2,2,1,1,2,2,3,3,4,4,3,3,1)),hole=FALSE)),"ctyclust3"),
            Polygons(list(Polygon(cbind(x=c(0,2,2,3,4,0,0),y=c(3,3,4,4,5,5,3)),hole=FALSE)),"ctyclust4")
    ))
CtyClusters <- SpatialPolygonsDataFrame(Cclust, data = data.frame(ID = paste0("ctyclust", 1:4),
            row.names = paste0("ctyclust", 1:4),
            stringsAsFactors=FALSE)
)

# take a look
par(mfrow = c(1, 2))
plot(counties, border = gray(.3), lwd = 4)
plot(Pumas, add = TRUE, border = "#EEBB00", lty = 2, lwd = 2)
legend(-.5, -.3, lty = c(1, 2), lwd = c(4, 2), col = c(gray(.3), "#EEBB00"),
    legend = c("county line", "puma line"), xpd = TRUE, bty = "n")
text(coordinates(counties), counties@data$ID,col = gray(.3))
text(coordinates(Pumas), Pumas@data$ID, col = "#EEBB00",cex=1.5)
title("building blocks")
#desired result:
plot(CtyClusters)
title("desired result")
text(-.5, -.5, "maximum units possible,\nwithout breaking either PUMAs or counties",
    xpd = TRUE, pos = 4) 
```

![在此处输入图像描述](../Images/130e7d5b168a1dfc7f3ef49a40c0bf4f.png) 我天真地尝试了 rgeos 包中的许多 g* 函数来实现这一点，但没有取得进展。有谁知道这个任务的一个很好的功能或很棒的技巧？谢谢！

[我也愿意接受关于更好标题的建议]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T09:41:50.463

我认为你可以通过一组智能的收容测试来做到这一点。这得到了你的两个部分，简单的配对情况，其中`puma1`contains `county1`and`county2`和`puma2`contains `county8`and `county3`。

```
library(rgeos)

## pumas by counties
pbyc <- gContains(Pumas, counties, byid = TRUE)

## row / col pairs of where contains test is TRUE for Pumas
pbyc.pairs <-  cbind(row(pbyc)[pbyc], col(pbyc)[pbyc])

par(mfrow = c(nrow(pbyc.pairs), 1))

for (i in 1:nrow(pbyc.pairs)) {
plot(counties, col = "white")

plot(gUnion(counties[pbyc.pairs[i,1], ], Pumas[pbyc.pairs[i,2], ]), col = "red", add = TRUE)

} 
```

那里的情节是多余的，但我认为它表明了一个开始。您需要找到哪些包含测试累积了最小的部分，然后将它们合并。对不起，我没有努力完成，但我认为这会奏效。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T02:36:31.217

这是一个相对简洁的解决方案：

*   用于`rgeos::gRelate()`识别重叠但不完全包含/覆盖每个县的美洲狮。要了解它的作用，请运行`example(gRelate)`并查看[此 Wikipedia 页面](http://en.wikipedia.org/wiki/DE-9IM)。（对蒂姆·里夫（Tim Riffe））

*   用于`RBGL::connectedComp()`识别应该合并的美洲狮组。（有关安装**RBGL**包的提示，请参阅我对[这个 SO 问题](https://stackoverflow.com/questions/12135971/identify-groups-of-linked-episodes-which-chain-together/12136539#12136539)的回答。）

*   用于`rgeos::gUnionCascaded()`合并指定的美洲狮。

    ```
    library(rgeos)
    library(RBGL)

    ## Identify groups of Pumas that should be merged
    x <- gRelate(counties, Pumas, byid=TRUE)
    x <- matrix(grepl("2.2......", x), ncol=ncol(x), dimnames=dimnames(x))
    k <- x %*% t(x)
    l <- connectedComp(as(k, "graphNEL"))

    ## Extend gUnionCascaded so that each SpatialPolygon gets its own ID.
    gMerge <- function(ii) {
        x <- gUnionCascaded(Pumas[ii,])
        spChFIDs(x, paste(ii, collapse="_"))
    }

    ## Merge Pumas as needed
    res <- do.call(rbind, sapply(l, gMerge))

    plot(res) 
    ```

![在此处输入图像描述](../Images/1ff4ec0dad704e28782d1c4bc8e2e34f.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T17:00:37.480

经过多次反复试验，我提出了以下不雅的解决方案，而不是与@mdsummer 的提示保持一致，但添加了更多检查，删除了多余的合并多边形并进行了检查。哎呀。如果有人可以接受我所做的事情并使其更清洁，那么我会接受这个答案，而不是这个，如果可能的话，我想避免：

```
library(rgeos)
pbyc <- gCovers(Pumas, counties, byid = TRUE) | 
        gContains(Pumas, counties, byid = TRUE) | 
        gOverlaps(Pumas, counties, byid = TRUE) |

        t(gCovers(counties, Pumas, byid = TRUE) | 
            gContains(counties, Pumas, byid = TRUE) |  
            gOverlaps(counties, Pumas, byid = TRUE))

## row / col pairs of where test is TRUE for Pumas or counties
pbyc.pairs <-  cbind(row(pbyc)[pbyc], col(pbyc)[pbyc])

Potentials <- apply(pbyc.pairs, 1, function(x,counties,Pumas){
     gUnion(counties[x[1], ], Pumas[x[2], ])
    }, counties = counties, Pumas= Pumas)
for (i in 1:length(Potentials)){
  Potentials[[i]]@polygons[[1]]@ID <- paste0("p",i)
}
Potentials <- do.call("rbind",Potentials)

# remove redundant polygons:
Redundants <- gEquals(Potentials, byid = TRUE)
Redundants <- row(Redundants)[Redundants & lower.tri(Redundants)]
Potentials <- Potentials[-c(Redundants),]

# for each Potential summary polygon, see which counties and Pumas are contained:
keep.i <- vector(length=length(Potentials))

for (i in 1:length(Potentials)){
  ctyblocki <- gUnionCascaded(counties[c(gCovers(Potentials[i, ], counties, byid = TRUE)), ])
  Pumablocki <- gUnionCascaded(Pumas[c(gCovers(Potentials[i, ], Pumas, byid = TRUE)), ]) 
  keep.i[i] <- gEquals(ctyblocki, Potentials[i, ]) & gEquals(Pumablocki, Potentials[i, ])    
}
# what do we have left?
NewUnits <- Potentials[keep.i, ]

plot(NewUnits) 
```

![在此处输入图像描述](../Images/9f1b76781ae4f17342f9821a2dbaf1d3.png)

# android - 用户首次登录 Twitter 认证时的空指针-android

> ID：12294189
> 
> 赞同：0
> 
> 时间：2012-09-06T06:30:32.917
> 
> 标签：android

我已经使用 twitter4j 登录和发推文。到目前为止一切正常。我已经从设备上卸载了应用程序并重新安装了应用程序，但是当我运行应用程序时出现空指针异常。下面是代码

```
prefs = PreferenceManager.getDefaultSharedPreferences(MyActivity.this); 
```

`if (TwitterUtils.isAuthenticated(prefs)) {`//这是我得到一个空指针的地方

```
public static boolean isAuthenticated(SharedPreferences prefs) {

    String token = prefs.getString(OAuth.OAUTH_TOKEN, "");
    String secret = prefs.getString(OAuth.OAUTH_TOKEN_SECRET, "");

    AccessToken a = new AccessToken(token,secret);
    Twitter twitter = new TwitterFactory().getInstance();
    twitter.setOAuthConsumer(Constants.CONSUMER_KEY, Constants.CONSUMER_SECRET);
    twitter.setOAuthAccessToken(a);

    try {
        twitter.getAccountSettings(); //error at this line 
        return true;
    } catch (TwitterException e) {
        return false;
    }
} 
```

这是日志

```
09-06 11:38:48.138: E/AndroidRuntime(868): Caused by: java.lang.NullPointerException 
```

09-06 12:59:49.943: E/AndroidRuntime(929): 在 libcore.net.UriCodec.encode(UriCodec.java:132)

```
09-06 11:38:48.138: E/AndroidRuntime(868):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.readln(HttpURLConnectionImpl.java:1279)
09-06 11:38:48.138: E/AndroidRuntime(868):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl$ChunkedInputStream.readChunkSize(HttpURLConnectionImpl.java:404)
09-06 11:38:48.138: E/AndroidRuntime(868):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl$ChunkedInputStream.<init>(HttpURLConnectionImpl.java:340)
09-06 11:38:48.138: E/AndroidRuntime(868):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getContentStream(HttpURLConnectionImpl.java:1175)
09-06 11:38:48.138: E/AndroidRuntime(868):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.doRequestInternal(HttpURLConnectionImpl.java:1754)
09-06 11:38:48.138: E/AndroidRuntime(868):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.doRequest(HttpURLConnectionImpl.java:1649)
09-06 11:38:48.138: E/AndroidRuntime(868):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:1374)
09-06 11:38:48.138: E/AndroidRuntime(868):  at twitter4j.internal.http.HttpResponseImpl.<init>(HttpResponseImpl.java:45)
09-06 11:38:48.138: E/AndroidRuntime(868):  at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:178)
09-06 11:38:48.138: E/AndroidRuntime(868):  at twitter4j.internal.http.HttpClientWrapper.request(HttpClientWrapper.java:75)
09-06 11:38:48.138: E/AndroidRuntime(868):  at twitter4j.internal.http.HttpClientWrapper.get(HttpClientWrapper.java:103)
09-06 11:38:48.138: E/AndroidRuntime(868):  at twitter4j.Twitter.getAccountSettings(Twitter.java:1440)
09-06 11:38:48.138: E/AndroidRuntime(868):  at com.android.twitter.TwitterUtils.isAuthenticated(TwitterUtils.java:24) 
```

任何建议都非常感谢。在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:41:43.003

您也可以尝试将这两个值设为`null`

```
String token = prefs.getString(OAuth.OAUTH_TOKEN, null);
String secret = prefs.getString(OAuth.OAUTH_TOKEN_SECRET, null); 
```

这是一个更简单的解决方案，首先尝试！

# javascript - 如何以不同的形式获取选定单选按钮的值？

> ID：12294190
> 
> 赞同：0
> 
> 时间：2012-09-06T06:30:45.860
> 
> 标签：javascript, html, jquery-mobile, radio-button

我有一个如图所示的应用程序 ![在此处输入图像描述](../Images/f0e040faca74f5d07dea043e27ee0b8d.png)

为了实现这一点，我编写了一些代码，这是我的代码[jsfiddle](http://jsfiddle.net/janakipriya/hRzZf/)。因为我认为我遵循的方式不是正确的，所以任何人都可以建议一些更好的方法来使用 jquery-mobile、html、javascript 来获得如图所示的东西。还有一件事是，当我单击保存按钮时，我应该能够根据单选按钮选择显示每个字段的状态，无论它是被接受还是被拒绝。有人可以帮我怎么做吗？

在这里更新小提琴[http://jsfiddle.net/janakipriya/hRzZf/17/](http://jsfiddle.net/janakipriya/hRzZf/17/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T09:52:20.030

我已经尝试了一些你可以在这里查看的东西[http://jsfiddle.net/hRzZf/2/](http://jsfiddle.net/hRzZf/2/)它会给你检查收音机的状态

# windows - 如何在 C# 中将 Ctrl+Tab 传递给父窗口？

> ID：12294193
> 
> 赞同：0
> 
> 时间：2012-09-06T06:31:12.880
> 
> 标签：windows, winforms, winapi, parent, sendkeys

我的 WinForm 对话框通过调用`SetParent`(p/invoke) 附加到第 3 方窗口 (SolidWorks)。我的对话作为加载项在第 3 方进程中。

当我的用户通过单击它给我的对话框/小部件焦点时，如果他们然后按`Ctrl`+`Tab`键切换父应用程序中的视图，我的对话框会收到击键序列 - 我可以通过覆盖`ProcessCmdKey`. 该命令不会传递给父窗口，因此什么也不做。

**如何将此键序列传递给父 HWND？**

这不仅仅是`Ctrl`+`Tab`我需要转发，它是所有的关键，包括`Alt`+ `F4`，`F1`等等等等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:41:37.333

用于`FindWindow`获取父窗口的句柄。（为 lpClassName 传递 null）（更多信息：[http](http://www.pinvoke.net/default.aspx/user32.FindWindow) ://www.pinvoke.net/default.aspx/user32.FindWindow ）

```
[DllImport("user32.dll", SetLastError = true)]
static extern IntPtr FindWindow(string lpClassName, string lpWindowName); 
```

使用转发捕获的消息`SendMessageW`（更多信息：[http](http://www.pinvoke.net/default.aspx/user32.SendMessage) ://www.pinvoke.net/default.aspx/user32.SendMessage ）

```
// Works for unicode. One can also 
// use CharSet = CharSet.Unicode instead of [MarshalAs(UnmanagedType.LPWStr)] 
[DllImport("user32.dll", EntryPoint = "SendMessageW")]
static extern IntPtr SendMessageW(IntPtr hWnd, 
                                  UInt32 Msg, 
                                  IntPtr wParam, 
[MarshalAs(UnmanagedType.LPWStr)] string lParam); 
```

# node.js - 在 NODEJS 中执行某些操作后销毁会话

> ID：12294194
> 
> 赞同：0
> 
> 时间：2012-09-06T06:31:16.463
> 
> 标签：node.js, session, express, connect, destroy

我想在会话破坏时执行一些操作。我正在为我的应用程序使用 senchalabs 的连接模块和 express 模块。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T00:01:12.657

该`session#destroy`方法不会发出任何您可以在应用程序的其他部分监听的事件，但如果您想在会话被销毁后立即运行某些代码，您可以将其包含在回调中。

```
// Example variable
var numOfUsersOnline = 100

req.session.destroy(function(err){
  // This get's run right after the session gets destroyed.
  // You can put any code you want run in here, for example

  // Descrease the number of users online
  numOfUsersOnline--;
}); 
```

# php - 为什么 apc_fetch 不返回上传进度？

> ID：12294198
> 
> 赞同：1
> 
> 时间：2012-09-06T06:31:54.460
> 
> 标签：php, file-upload, xmlhttprequest, apc

我正在尝试获取文件上传的进度，但 apc_fetch 没有为此返回数组：

```
$status = apc_fetch('upload_'.$_REQUEST['progress_key']); 
```

文件上传成功完成，没有错误。我启用了 apc.rfc1867。我知道 APC_UPLOAD_PROGRESS 必须是发送到服务器的第一个参数。我正在使用 XMLHttpRequest 上传，并且 APC_UPLOAD_PROGRESS 正在查询字符串中发送到服务器。

上传发生在我服务器上的虚拟主机上。我在 /etc/php.d/apc.ini 中启用了 APC

这是我用于上传的 Javascript：

```
xhr.open('POST', queryURL, true); // queryURL var contains APC_UPLOAD_PROGRESS
xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
xhr.setRequestHeader('X-File-Name', encodeURIComponent(filename));
xhr.setRequestHeader('Content-Type', 'application/octet-stream');               
xhr.send(input.files[0]); 
```

当我使用 iframe 进行上传时，它在 IE9 中也不起作用。

为什么 apc_fetch 不返回上传进度数组？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:18:56.220

您的`APC_UPLOAD_PROGRESS`隐藏字段是否位于表单中的文件输入标记之前？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:40:58.217

演示网址：--

[http://jquery.malsup.com/form/progress.html](http://jquery.malsup.com/form/progress.html)

您可以从此 url 下载 jQuery 文件并添加 html 标签

[http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js](http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js)

[http://malsup.github.com/jquery.form.js](http://malsup.github.com/jquery.form.js)

尝试这个：-

// 这是我的 html 标记

```
<!doctype html>
<head>
<title>File Upload Progress Demo #1</title>
<style>
body { padding: 30px }
form { display: block; margin: 20px auto; background: #eee; border-radius: 10px; padding: 15px }

.progress { position:relative; width:400px; border: 1px solid #ddd; padding: 1px; border-radius: 3px; }
.bar { background-color: #B4F5B4; width:0%; height:20px; border-radius: 3px; }
.percent { position:absolute; display:inline-block; top:3px; left:48%; }
</style>
</head>
<body>
    <h1>File Upload Progress Demo #1</h1>
    <code>&lt;input type="file" name="myfile"></code>
        <form action="upload.php" method="post" enctype="multipart/form-data">
        <input type="file" name="uploadedfile"><br>
        <input type="submit" value="Upload File to Server">
    </form>

    <div class="progress">
        <div class="bar"></div >
        <div class="percent">0%</div >
    </div>

    <div id="status"></div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script>
<script>
(function() {

var bar = $('.bar');
var percent = $('.percent');
var status = $('#status');

$('form').ajaxForm({
    beforeSend: function() {
        status.empty();
        var percentVal = '0%';
        bar.width(percentVal)
        percent.html(percentVal);
    },
    uploadProgress: function(event, position, total, percentComplete) {
        var percentVal = percentComplete + '%';
        bar.width(percentVal)
        percent.html(percentVal);
    },
    complete: function(xhr) {
     bar.width("100%");
    percent.html("100%");
        status.html(xhr.responseText);
    }
}); 

})();       
</script>

</body>
</html> 
```

我的PHP代码：

```
<?php
$target_path = "uploads/";

$target_path = $target_path . basename( $_FILES['uploadedfile']['name']); 

if(move_uploaded_file($_FILES['uploadedfile']['tmp_name'], $target_path)) {
    echo "The file ".  basename( $_FILES['uploadedfile']['name']). 
    " has been uploaded";
} else{
    echo "There was an error uploading the file, please try again!";
}
?> 
```

# mysql - phpmyadmin 的连接地址

> ID：12294199
> 
> 赞同：3
> 
> 时间：2012-09-06T06:31:58.197
> 
> 标签：mysql, sql, database, connection, phpmyadmin

任何人都可以帮助我获取 phpmyadmin 服务器上 MySQL 数据库的连接 url。我想远程访问数据库。

请注意，数据库不在我的本地电脑硬盘上。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T09:00:05.820

这是访问 Phpmyadmin MySql 服务器的连接 URL：

```
Class.forName("com.mysql.jdbc.Driver");//Set driver
connection = (Connection) DriverManager.getConnection("jdbc:mysql://db_ip:3306/dbName",user_name, password);
//Get Connection 
```

如果您收到以下消息：

```
#1130 - Host 'machine name' is not allowed to connect to this MySQL server 
```

然后您需要执行以下查询：

```
 CREATE USER 'root'@'%';

   GRANT ALL PRIVILEGES ON * . * TO 'root'@'%' ;

   GRANT ALL PRIVILEGES ON `root\_%` . * TO 'root'@'%'; 
```

此查询创建具有所有权限且密码为空的 root 用户。

编辑：

这是参考可以帮助你：

[https://serverfault.com/questions/89955/unable-to-connect-to-mysql-through-jdbc-connector-through-tomcat-or-externally](https://serverfault.com/questions/89955/unable-to-connect-to-mysql-through-jdbc-connector-through-tomcat-or-externally)

# objective-c - 将 UIManagedDocument 带入 OS X？

> ID：12294201
> 
> 赞同：1
> 
> 时间：2012-09-06T06:32:04.937
> 
> 标签：objective-c, macos, cocoa, core-data, nsdocument

我需要在基于 Core Data 文档的应用程序中实现异步保存。我的`NSDocument`子类与 iOS 一样`UIManagedDocument`具有一对`NSManagedObjectContext`实例的模式，一个用于主线程，具有用于后台保存的父上下文。

问题是每当我创建文档时，应用程序总是会显示一个提示：

> 文档...无法保存。该文件已被另一个应用程序更改。

我想知道我的实现中缺少什么？每当我保存时，如何使上面的对话框消失？

`NSDocument`你可以在这个要点中找到我的子类： [https ://gist.github.com/3652120](https://gist.github.com/3652120)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-25T08:16:35.273

显然克隆 的功能`UIManagedDocument`并不太难。一个警告是确保在`NSDocument`保存主线程的上下文时更新文件日期的 ' 概念。第二个警告是使用主线程托管对象上下文的撤消管理器。

有关如何执行此操作和示例子类代码如何执行此操作的信息，请参阅[将异步核心数据文档引入 OS X。](http://cutecoder.org/programming/asynchronous-core-data-document)`NSDocument`

# java - HttpSession 使用 Twitter4J 在 Twitter Web 应用程序中出现错误

> ID：12294209
> 
> 赞同：0
> 
> 时间：2012-09-06T06:32:25.743
> 
> 标签：java, twitter

您好我正在使用 Java Spring 和 JSF 构建一个 Web 应用程序。我正在使用 twitter 功能登录。

我正在使用 Twitter4J。下面是我的代码：

索引.java::

```
public String getLoginTwitter() throws TwitterException, IOException
{           
    twitter = new TwitterFactory().getInstance();
    twitter.setOAuthConsumer("XXXXXXXXXXX", "XXXXXXXXXXXXXXXXX");

    RequestToken requestToken = twitter.getOAuthRequestToken();

    token = requestToken.getToken();
    tokenSecret = requestToken.getTokenSecret();

    session = (HttpSession)FacesContext.getCurrentInstance().getExternalContext().getSession(true);
    session.setAttribute("token", token);
    session.setAttribute("tokenSecret", tokenSecret);

    System.out.println("sess"+session.getAttribute("token"));

    ExternalContext externalContext = FacesContext.getCurrentInstance().getExternalContext();
    externalContext.redirect(requestToken.getAuthorizationURL());  

    return null;      
} 
```

此代码将用户发送到登录页面。它工作正常。我在会话中保存了令牌和令牌秘密。到此为止还好。下面是Callback url servlet的编码：

```
public String getTwitterInfo() throws TwitterException
{
    System.out.println("sess1"+session.getAttribute("token"));
    return null;
} 
```

当我想从会话中访问这些令牌时，我得到了 Nullpointer 异常。

谁能告诉我正确的方向。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T10:31:09.387

我找到了我的答案。实际上 twitter 的回调 url 不支持 localhost。这就是为什么我使用 127.0.0.1 而不是 localhost。出于这个原因，会话给了我一个空指针异常。当我尝试从浏览器使用 localhost 运行它时，它工作正常。

# drop-down-menu - IE 7 中不显示 CSS 下拉菜单悬停

> ID：12294210
> 
> 赞同：0
> 
> 时间：2012-09-06T06:32:29.447
> 
> 标签：drop-down-menu, internet-explorer-7, hover

我已经盯着我的代码几个小时了，似乎无法弄清楚为什么我的下拉悬停菜单根本没有出现在 IE 7 中。当我悬停菜单时，下拉菜单不会出现在全部。它在 firefox、chrome、safari 和 IE 8 中运行良好。我基本上认为自己是我所知道的一切，所以我是一个完全的新手。我四处搜索并阅读了有关添加一些 javascript 的内容，但这似乎不起作用...除非我可能忽略了某些错误或遗漏了某些内容-但我们将不胜感激任何帮助....非常感谢 0:)并提前感谢！

这是CSS：

```
#navmenu {
height:50px;
position:relative;
width:950px;
z-index:1;
top:-142px;
margin:0;}

#navmenu ul {
margin:0;
padding:0;
line-height:50px;
position:relative;
float:left;}

#navmenu li {
margin: 0;
padding: 0;
list-style: none;
float: left;
position: relative;}

#navmenu ul li a {
height:50px;
width:auto;
    display:block;
padding:0 20px 0 21px;}

#navmenu ul ul {
position:absolute;
visibility:hidden;
top:50px;
z-index:1;}

 #navmenu ul li:hover ul, #navmenu ul li.sfhover: {
visibility:visible;
z-index:9999; 
display:block;} 
```

对于javascript，我发现我放在了头上：

```
<script type="text/javascript">
sfHover = function() {
var sfEls = document.getElementById("navmenu").getElementsByTagName("LI");
for (var i=0; i<sfEls.length; i++) {
    sfEls[i].onmouseover=function() {
        this.className+=" sfhover";
    }
    sfEls[i].onmouseout=function() {
        this.className=this.className.replace(new RegExp(" sfhover\\b"),     "");
    }
}
}
    if (window.attachEvent) window.attachEvent("onload", sfHover);
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:39:08.187

您可以尝试将“缩放：1”添加到您的 ul 元素。这主要解决了 IE 中的类似问题。

# iphone - 识别推送通知消息

> ID：12294214
> 
> 赞同：1
> 
> 时间：2012-09-06T06:33:14.340
> 
> 标签：iphone, objective-c, ios, xcode, apple-push-notifications

在我的项目中，我想通过推送通知显示事件和优惠，但问题是，我能够显示事件或优惠，而不是两者。有什么方法可以识别推送通知的消息。这是代码：

```
- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo
{
    NSString *message = nil;
    id alert = [userInfo objectForKey:@"alert"];

    if ([alert isKindOfClass:[NSString class]]) {
        message = alert;
    } else if ([alert isKindOfClass:[NSDictionary class]]) {
        message = [alert objectForKey:@"body"];
    }
    if (alert) {
        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Title"
                                                            message:@"AThe message." delegate:self
                                                  cancelButtonTitle:@"button 1"
                                                  otherButtonTitles:@"button", nil];
        [alertView show];
    }

    NSString *contentsInfo = [userInfo objectForKey:@"contTag"];
    NSLog(@"Received contents info : %@", contentsInfo);

    NSString *nibName = [AppDelegate fetchNibWithViewControllerName:@"EventsViewController"];

    EventsViewController *evc = [[EventsViewController alloc] initWithNibName:nibName bundle:nil];

    evc.newEvent = YES;

    [self.navigationController pushViewController:evc animated:YES];

    [UIApplication sharedApplication].applicationIconBadgeNumber = [[[userInfo objectForKey:@"aps"] objectForKey: @"badgecount"] intValue];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:53:01.227

`alert`总是一个`NSDictionary`有两个键的：body 和 show-view。前者的值是警报消息，后者是`Boolean`(`false`或`true`)。如果`false`，则不显示警报的查看按钮。默认是显示 View 按钮，如果用户点击它，就会启动应用程序。

检查[文档](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html)

要识别消息的类型，您可以提供其他字段，如此[处所述](http://developer.appcelerator.com/question/66521/how-to-get-access-to-custom-field-in-apple-push-notification)

例子：

```
{
   "aps":{
      "badge":1,
      "alert":"This is my special message!",
      "mycustomvar1":"123456",
      "mycustomvar2":"some text",
      "myspecialtext":"This is the best!",
      "url":"http://www.mywebsite.com"
   }
} 
```

# php - 什么会导致传递给 mysql_fetch_object() 的资源无效？

> ID：12294216
> 
> 赞同：-5
> 
> 时间：2012-09-06T06:33:17.837
> 
> 标签：php, warnings, fetch

我在php中收到如下警告

> 警告：mysql_fetch_object()：提供的参数不是第 16 行 E:\Program Files\VertrigoSer\www\b.php 中的有效 MySQL 结果资源

我的程序是：

```
<?php
$connection=mysql_connect("localhost","root","vertrigo");
$db=mysql_select_db("mydb",$connection);

$query="INSERT INTO text VALUES(1003,'PHP','Mcgrowhill','Ivan')";
$r=mysql_query($query);

$query="INSERT INTO book VALUES(201,3,1003)";
$r=mysql_query($query);

$query1="select distinct title from text,book,course where text.isbn=book.isbn and book.cno=course.cno and course.dept='CS'";
$r=mysql_query($query1);

echo"row inserted";

while($row=mysql_fetch_object($r))
{
    echo $row->title;
}

mysql_close($connection);
?> 
```

请提出如何解决这个问题的建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T06:37:28.527

如果 SQL 查询没有返回结果，它可能会触发此警告。在执行以下操作之前，

```
$r=mysql_query($query1); 
```

[使用mysql_num_rows](http://php.net/manual/en/function.mysql-num-rows.php)函数检查返回的行数是否 > 0 。还要直接检查您的查询，看看它是否有效。

**停止使用 MySQL 扩展**，这是不鼓励的。使用[PDO](http://www.php.net/manual/en/pdo.query.php)或[MySQLi](http://www.php.net/manual/en/mysqli.query.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:35:53.687

以下是您可以找到的方法：

```
$query = "INSERT INTO text VALUES(1003,'PHP','Mcgrowhill','Ivan')";
$r = mysql_query($query);
if (!$r) {
    echo mysql_error();
}

$query = "INSERT INTO book VALUES(201,3,1003)";
$r = mysql_query($query);
if (!$r) {
    echo mysql_error();
}

$query1 = "select distinct title from text, book, course where text.isbn = book.isbn and book.cno = course.cno and course.dept = 'CS'";
$r = mysql_query($query1);
if (!$r) {
    echo mysql_error();
} else {
    echo"row inserted";

    while($row = mysql_fetch_object($r)) {
        echo $row->title;
    }
}

mysql_close($connection); ?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T06:39:38.837

**text**是mysql的**保留**字所以用alias试试

喜欢

```
$query1="select distinct title from text as t,book as b,course as c where t.isbn=b.isbn and b.cno=c.cno and c.dept='CS'"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T06:38:25.107

你可以使用这样的东西。

```
error_reporting(E_ERROR | E_PARSE); 
```

或者

```
if (!$result)
   die("mySQL error: ". mysql_error()); 
```

# jquery - 在图像之前加载文档

> ID：12294220
> 
> 赞同：0
> 
> 时间：2012-09-06T06:33:33.783
> 
> 标签：jquery, image, document-ready, smooth-scrolling

我正在使用 Smooth Div Scroll 插件，里面有很多图片......在我的页面顶部我也有链接，我的所有链接都有`margin-right:15px;` ，我有一个简单的 jQuery 代码，可以取消`margin-right:15px;`我最后一个链接的链接。

```
<script type="text/javascript">
     $(function(){
    $('div.linksHolder a:last-child').css("margin-right","0");
     });
</script> 
```

现在，在我所有的页面中，它都很好用！然而，在带有大量图像的页面中，它需要一段时间才能加载上面的 jQuery 函数......而且在浏览器执行代码之前链接在一行中停留了几秒钟看起来很奇怪......

我的问题是：如何在开始加载图像之前加载上面的函数？

对不起我的英语不好，希望你能理解我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:49:38.907

为什么不从样式表中应用该设置：

```
<style>
/* existing link styles here, then: */

div.linksHolder a:last-child {
    margin-right : 0px;
}
</style> 
```

显然[IE8 和更早版本不支持](http://www.quirksmode.org/css/contents.html#t35)`:last-child`，但您也可以将 jQuery 代码保留在适当的位置以覆盖...

# php - 将 smarty var 传递给 php

> ID：12294222
> 
> 赞同：0
> 
> 时间：2012-09-06T06:33:36.230
> 
> 标签：php, smarty

我有 Smarty 模板文件。从 Smarty 传递到 php 时，$listing.activation_date 为空。有什么解决办法吗？

```
{$listing.activation_date}
{php}
$startDate = strtotime('now');

$interval = $startDate - strtotime($this->get_template_vars('$listing.activation_date')); 
```

* * *

```
{$listing.activation_date} = 2012-Sep-05 
```

我已将 $smarty 更改为 $this 以防止非对象错误。

```
$this->assign("interval", $interval); 
$days = floor($this/ (60 * 60 * 24)); {/php} 
{if $days < 1} <img src=" {$GLOBALS.site_url}/templates/Natural/main/images/new.gif"/> 
{/if} 
```

$days 在 {php} 和 Smarty $days<1 中是否正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:40:37.060

您可以使用内联 PHP Smarty 分配并将该变量包装到括号中：

```
{php}
    $startDate = strtotime('now');
    $interval = $startDate - strtotime('{$listing.activation_date}');
    $smarty->assign("interval", $interval);
{/php} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:13:23.053

在 Smarty3 中你不需要 {php}：

```
{$interval = $smarty.now - {$listening.activation_date|strtotime}} 
```

由于 Smarty2 不允许“复杂”的内联表达式，因此您必须“简化”：

```
{assign var="now" value=$smarty.now}
{assign var="then" value=$listening.activation_date|strtotime}
{assign var="interval" value=$now-$then} 
```

每当你发现自己在使用 {php} 时，你就是在做一些“错误”的事情。Smarty 有一个功能丰富的插件系统，可让您将逻辑与演示分开

# xpages - 在 XPage 的视图控件中使用 dataCache 属性

> ID：12294224
> 
> 赞同：0
> 
> 时间：2012-09-06T06:33:52.187
> 
> 标签：xpages

在视图控件的数据源中，有一个`dataCache`带有 Full、ID 和 NoData 选项的属性。从[一些来源](http://wpc.0b0c.edgecastcdn.net/000B0C/LUG/VUG/2011/AdminDevSessions/MainSessions/Admin2011_Elgort_Xpagesperformance.pdf)我收集到：

Full - 保留整个视图

ID - 最小标量数据 ID 和位置。在 POST 期间无法访问列值

没有——说得够多了——需要重建整个视图

但是这个属性究竟是如何影响 XPage 的性能的呢？我可以在每个选项中使用哪些方法/功能？每个选项的适用性如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T21:30:28.500

I haven't tested, but I would presume the following are true. The more you persist in memory, the quicker it is to restore for expand/collapse etc. However, the more users and the bigger the view (number of columns rather than number of documents, because not all documents will get cached), the more risk of out of memory issues. Access to column values means you may have problems using getColumnValues() in SSJS from the view.

XPages is pretty quick, so unless you have specific performance issues, the default should be sufficient.

# python - 只读取大文本文件的结尾

> ID：12294225
> 
> 赞同：19
> 
> 时间：2012-09-06T06:33:54.107
> 
> 标签：python, file

> **可能重复：**
> [用python获取文件的最后n行，类似于tail](https://stackoverflow.com/questions/136168/get-last-n-lines-of-a-file-with-python-similar-to-tail)
> [用python逆序读取文件](https://stackoverflow.com/questions/2301789/read-a-file-in-reverse-order-using-python)

我有一个大小约为 15GB 的文件，它是一个日志文件，我应该分析它的输出。我已经对一个类似但非常小的文件进行了基本解析，只有几行日志记录。解析字符串**不是**问题。问题是巨大的文件及其包含的冗余数据量。

基本上我正在尝试制作一个我可以说的python脚本；例如，给我文件的最后 5000 行。这又是基本的处理论点和所有这些，没什么特别的，我可以做到。

但是我如何定义或告诉文件阅读器只读取我从文件末尾指定的行数？我试图跳过文件开头的*huuuuuuge*行，因为我对这些不感兴趣，老实说，从 txt 文件中读取大约 15GB 的行需要太长时间。有没有办法出错..从文件末尾开始读取？这甚至有意义吗？

这一切都归结为读取 15GB 文件的问题，逐行读取时间太长。所以我想在一开始就跳过已经冗余的数据（至少对我来说是冗余的），只从我想读取的文件末尾读取行数。

明显的答案是手动将 N 行从文件复制到另一个文件，但是有没有办法半自动地做到这一点，只是用 python 从文件末尾读取 N 行？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-06T06:58:25.543

将其移植到 Unix：

```
import os
os.popen('tail -n 1000 filepath').read() 
```

如果您需要能够访问 stderr（和其他一些功能），请使用 subprocess.Popen 而不是 os.popen

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-09-06T07:32:30.693

您需要寻找到文件的*末尾*，然后从末尾读取一些块，计算行数，直到找到足够的换行符来读取您的`n`行。

基本上，您正在重新实现一种简单的尾部形式。

这是一些经过轻微测试的代码，可以做到这一点：

```
import os, errno

def lastlines(hugefile, n, bsize=2048):
    # get newlines type, open in universal mode to find it
    with open(hugefile, 'rU') as hfile:
        if not hfile.readline():
            return  # empty, no point
        sep = hfile.newlines  # After reading a line, python gives us this
    assert isinstance(sep, str), 'multiple newline types found, aborting'

    # find a suitable seek position in binary mode
    with open(hugefile, 'rb') as hfile:
        hfile.seek(0, os.SEEK_END)
        linecount = 0
        pos = 0

        while linecount <= n + 1:
            # read at least n lines + 1 more; we need to skip a partial line later on
            try:
                hfile.seek(-bsize, os.SEEK_CUR)           # go backwards
                linecount += hfile.read(bsize).count(sep) # count newlines
                hfile.seek(-bsize, os.SEEK_CUR)           # go back again
            except IOError, e:
                if e.errno == errno.EINVAL:
                    # Attempted to seek past the start, can't go further
                    bsize = hfile.tell()
                    hfile.seek(0, os.SEEK_SET)
                    pos = 0
                    linecount += hfile.read(bsize).count(sep)
                    break
                raise  # Some other I/O exception, re-raise
            pos = hfile.tell()

    # Re-open in text mode
    with open(hugefile, 'r') as hfile:
        hfile.seek(pos, os.SEEK_SET)  # our file position from above

        for line in hfile:
            # We've located n lines *or more*, so skip if needed
            if linecount > n:
                linecount -= 1
                continue
            # The rest we yield
            yield line 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-06T07:25:27.660

即使我更喜欢“tail”解决方案 - 如果您知道每行的最大字符数，您可以通过获取文件的大小来实现另一种可能的解决方案，打开文件处理程序并使用带有一些估计数字的“seek”方法您正在寻找的字符。

这个最终代码应该看起来像这样 - 只是为了解释为什么我也更喜欢尾部解决方案:) 祝你好运！

```
MAX_CHARS_PER_LINE = 80
size_of_file = os.path.getsize('15gbfile.txt')
file_handler = file.open('15gbfile.txt', "rb")
seek_index = size_of_file - (number_of_requested_lines * MAX_CHARS_PER_LINE)
file_handler.seek(seek_index)
buffer = file_handler.read() 
```

您可以通过分析您读取的缓冲区的换行符来改进此代码。祝你好运（你应该使用tail解决方案;-)我很确定你可以为每个操作系统获得tail）

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-09-06T06:49:19.357

此时首选的方法就是使用unix的tail来完成这项工作，并修改python以通过std input接受输入。

```
tail hugefile.txt -n1000 | python magic.py 
```

这一点也不性感，但至少它照顾到了这份工作。我发现，大文件的负担太大了。至少对于我的python技能。因此，只需添加一点 nix 魔法来减少文件大小就容易多了。尾巴对我来说是新的。学到了一些东西，并想出了另一种使用终端的方式再次对我有利。谢谢大家。

# android - 如何在android webview中恢复视频播放状态

> ID：12294227
> 
> 赞同：1
> 
> 时间：2012-09-06T06:34:03.597
> 
> 标签：android, android-webview, android-configchanges

在我的活动中，我将 youtube 视频内容加载到我的网络视图中，如下所示：

```
webview.loadData("<iframe class=\"youtube-player\" " +
"type=\"text/html\" "+" src=\"http://www.youtube.com/embed/bIPcobKMB94\" frameborder=\"0\">", "text/html", "UTF-8"); 
```

这是加载你的管视频。单击播放按钮后，视频正在播放。所有这一切都很好。

当我旋转屏幕时如何在 Web 视图中恢复视频状态是指视频是否在旋转前播放了 30 秒。我必须在旋转后 31 秒开始。申请

```
webview.saveState(bundle);
webview.restoreState(bundle); 
```

onSave 和 onRestore 生命周期方法对我不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T08:10:05.467

您想从之前的位置恢复视频。假设您调用了 onPause() 方法。覆盖 onpause 方法并将 int a = video.currentlocation() 的值加载到变量中，然后覆盖 onresume 方法，vide.seekto(a)。视频.start();

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-03T12:41:32.757

您可以以编程方式创建 WebView，而不是将其定义到您的布局文件中。

而不是在您的布局中创建一种带有 ID 的 ViewGroup，在活动中创建 WebView 后，只需将其添加到此 ViewGroup 中。

`onSaveInstanceState(Bundle outState)`在方法中保存 WebView 的实例

`webView.saveState(outState);`

`onCreate(Bundle savedInstanceState)`并通过以下方法恢复它

`webView.restoreState(savedInstanceState);`

`savedInstanceState`仅当不为空时才恢复状态；否则配置您的 webView。如果 webView 的状态正在恢复，则无需重新配置。

非常感谢[https://twigstechtips.blogspot.ru/2013/08/android-retain-instance-of-webview.html](https://twigstechtips.blogspot.ru/2013/08/android-retain-instance-of-webview.html)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-07T07:26:48.700

到目前为止，我找到的最佳解决方案是 - 将 Web 视图放在框架布局中并自行处理方向更改。在配置更改时，从框架布局中删除 web 视图并在将 web 视图添加到框架布局之后重置主视图。[工作样本链接](http://www.devahead.com/blog/2012/01/preserving-the-state-of-an-android-webview-on-screen-orientation-change/)

# .net - 非捕获组不在正则表达式中工作

> ID：12294229
> 
> 赞同：2
> 
> 时间：2012-09-06T06:34:07.767
> 
> 标签：.net, regex

使用正则表达式，我想匹配以下字符串：

```
January 25
Jan 25 
```

我分别捕获月份和日期部分，但如果有完整的月份名称，我只想返回月份名称的前 3 个字符，所以我`(?:)`对字符“uary”使用非捕获组：

```
(?<M>(Jan(?:uary)?)) (?<D>\d\d) 
```

不幸的是，该组`M`总是返回完整的月份名称；即它也捕获非捕获组。

我已经打开了 ExplicitCapture 标志。我已经使用了 RegExBuilder 和 Rad Software 的正则表达式设计器来确保它不是因为该工具。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T06:35:36.153

您的捕获组应该只围绕 `Jan`.

```
(?<M>Jan)(?:uary)? (?<D>\d{1,2}) 
```

您的原始表达式大致相当于`(?<M>January|Jan) (?<D>\d\d)`. 非捕获组并不意味着从现有捕获组中删除匹配项。这仅意味着没有创建新的捕获组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:43:08.183

尝试：

```
(?<M>Jan)(?:uary)? (?<D>\d\d) 
```

# matlab - 在没有 for 循环的情况下更改矩阵的多个元素（已知坐标）

> ID：12294232
> 
> 赞同：2
> 
> 时间：2012-09-06T06:34:17.177
> 
> 标签：matlab, vectorization

我有一个矩阵说

```
Z = [1 2 3;
     4 5 6;
     7 8 9] 
```

我必须将其值（例如位置 (2,2) 和 (3,1)）更改为某个指定值。我有两个矩阵`rowNos`，`colNos`其中包含这些位置：

```
rowNos = [2, 3]
colNos = [2, 1] 
```

假设我想将这些位置的元素值更改为 0。

不使用 for 循环怎么办？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-06T07:00:53.350

使用[sub2ind](http://www.mathworks.nl/help/techdoc/ref/sub2ind.html)，它会将您的子索引转换为线性索引，这是一个指向矩阵中一个确切位置的数字（[更多信息](http://www.mathworks.nl/company/newsletters/articles/Matrix-Indexing-in-MATLAB/matrix.html)）。

```
Z = [ 1 2 3 ; 4 5 6 ; 7 8 9];
rowNos = [2, 3];
colNos = [2, 1];

lin_idcs = sub2ind(size(Z), rowNos, colNos) 
```

如果要对特定行和列上的所有元素（即更高维度的元素）进行操作，还可以使用线性索引来处理它们。计算它们只会变得有点棘手：

```
Z = reshape(1:4*4*3,[4 4 3]);
rowNos = [2, 3];
colNos = [2, 1];

siz = size(Z);
lin_idcs = sub2ind(siz, rowNos, colNos,ones(size(rowNos))); % just the first element of the remaining dimensions
lin_idcs_all = bsxfun(@plus,lin_idcs',prod(siz(1:2))*(0:prod(siz(3:end))-1)); % all of them
lin_idcs_all = lin_idcs_all(:);

Z(lin_idcs_all) = 0; 
```

对 sub2ind 进行一些实验，并逐步通过我的代码来理解它。

如果它是您想要删除所有元素的第一个维度，那会更容易，那么您可以使用冒号运算符`:`

```
Z = reshape(1:3*4*4,[3 4 4]);
rowNos = [2, 3];
colNos = [2, 1];

siz = size(Z);
lin_idcs = sub2ind(siz(2:end),rowNos,colNos);
Z(:,lin_idcs) = 0; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:00:38.203

`sub2ind`与行和列的多个条目一起使用

```
Z(sub2ind(size(Z), rowNos, colNos))=0 
```

**示例**：

```
Z = [1 2 3;
    4 5 6;
    7 8 9];

rowNos = [2, 3];
colNos = [2, 1];

Z(sub2ind(size(Z), rowNos, colNos))=0

Z =

     1     2     3
     4     0     6
     0     8     9 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T07:02:51.590

你想这样做

```
z(rowNos, colNos) 
```

但你不能 - MATLAB 对索引进行笛卡尔积。你可以做到这一点

```
idx=(colNos-1)*size(z, 1)+rowNos;
z(idx)=0 
```

展平 z 矩阵并通过线性索引访问它，该索引是 rowNos 和 colNos 的组合。请记住，MATLAB 按列展平矩阵（基于列的矩阵存储）。

# python - 在以下表达式中使用 lambda

> ID：12294234
> 
> 赞同：5
> 
> 时间：2012-09-06T06:34:23.777
> 
> 标签：python, lambda, openerp

在开发 OpenERP 时，我发现了以下代码

`'app_date': lambda *a: time.strftime('%Y-%m-%d')`

我知道 lambda 是什么。我的问题是为什么要使用 lambda？为什么不只是

`'app_date': time.strftime('%Y-%m-%d')`

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-06T06:37:33.800

`'app_date': time.strftime('%Y-%m-%d')`将`time.strftime`立即评估。通过将其包装在 lambda 中，它的执行将推迟到稍后（调用 lambda 的时间）。粗略地说，区别在于“我定义这个的时间”和“我使用这个的时间”。看：

```
>>> d = {'a': time.time(), 'b': lambda: time.time()}
>>> d['a'], d['b']()
(1346913545.049, 1346913552.409)
>>> d['a'], d['b']()
(1346913545.049, 1346913554.518)
>>> d['a'], d['b']()
(1346913545.049, 1346913566.08) 
```

我在每个`d['a'], d['b']()`. 请注意，这`d['a']`始终是相同的：这是我定义`d`. `d['b']`是一个函数。 `d['b']()`（带括号）调用该函数，该函数在每次调用时重新评估时间，因此每次使用时都不同。

而且，这也没什么特别的`lambda`。Lambda 和其他函数一样。我可以这样做：

```
def func():
    return time.time()
d = {'a': time.time(), 'b': func} 
```

# c# - 如何使用 C# 反射将 Vaue 设置为嵌套属性。？

> ID：12294242
> 
> 赞同：22
> 
> 时间：2012-09-06T06:35:02.270
> 
> 标签：c#, reflection, propertyinfo

我正在尝试使用反射动态地为类的嵌套属性设置一个值。谁能帮我做到这一点。

我正在上课`Region`，如下所示。

```
public class Region
{
    public int id;
    public string name;
    public Country CountryInfo;
}

public class Country
{
    public int id;
    public string name;
} 
```

我有一个 Oracle 数据阅读器来提供来自 Ref 游标的值。

这会给我

> Id,name,Country_id,Country_name

我可以通过下面将值分配给 Region.Id、Region.Name。

```
FieldName="id"
prop = objItem.GetType().GetProperty(FieldName, BindingFlags.Public | BindingFlags.Instance);
prop.SetValue(objItem, Utility.ToLong(reader_new[ResultName]), null); 
```

对于嵌套属性，我可以通过读取字段名创建一个实例来为下面的赋值。

```
FieldName="CountryInfo.id"

if (FieldName.Contains('.'))
{
    Object NestedObject = objItem.GetType().GetProperty(Utility.Trim(FieldName.Split('.')[0]), BindingFlags.Public | BindingFlags.Instance);

    //getting the Type of NestedObject
    Type NestedObjectType = NestedObject.GetType();

    //Creating Instance
    Object Nested = Activator.CreateInstance(typeNew);

    //Getting the nested Property
    PropertyInfo nestedpropinfo = objItem.GetType().GetProperty(Utility.Trim(FieldName.Split('.')[0]), BindingFlags.Public | BindingFlags.Instance);

    PropertyInfo[] nestedpropertyInfoArray = nestedpropinfo.PropertyType.GetProperties();
    prop = nestedpropertyInfoArray.Where(p => p.Name == Utility.Trim(FieldName.Split('.')[1])).SingleOrDefault();

    prop.SetValue(Nested, Utility.ToLong(reader_new[ResultName]), null);
    Nestedprop = objItem.GetType().GetProperty(Utility.Trim(FieldName.Split('.')[0]), BindingFlags.Public | BindingFlags.Instance);

    Nestedprop.SetValue(objItem, Nested, null);
} 
```

上面的赋值给`Country.Id`.

但是由于我每次都在创建实例，因此`Country.Id`如果我选择 Next Country.Name，我将无法获得先前的值。

谁能告诉 can 为`objItem(that is Region).Country.Id`and赋值`objItem.Country.Name`。这意味着如何为嵌套属性分配值，而不是每次都创建实例和分配。

提前致谢。！

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2012-09-06T06:40:30.470

您应该调用`PropertyInfo.GetValue`使用该`Country`属性来获取国家/地区，然后`PropertyInfo.SetValue`使用该`Id`属性*设置*该国家/地区的 ID。

所以是这样的：

```
public void SetProperty(string compoundProperty, object target, object value)
{
    string[] bits = compoundProperty.Split('.');
    for (int i = 0; i < bits.Length - 1; i++)
    {
        PropertyInfo propertyToGet = target.GetType().GetProperty(bits[i]);
        target = propertyToGet.GetValue(target, null);
    }
    PropertyInfo propertyToSet = target.GetType().GetProperty(bits.Last());
    propertyToSet.SetValue(target, value, null);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-18T16:27:07.187

获取 Nest 属性，例如 Developer.Project.Name

```
private static System.Reflection.PropertyInfo GetProperty(object t, string PropertName)
            {
                if (t.GetType().GetProperties().Count(p => p.Name == PropertName.Split('.')[0]) == 0)
                    throw new ArgumentNullException(string.Format("Property {0}, is not exists in object {1}", PropertName, t.ToString()));
                if (PropertName.Split('.').Length == 1)
                    return t.GetType().GetProperty(PropertName);
                else
                    return GetProperty(t.GetType().GetProperty(PropertName.Split('.')[0]).GetValue(t, null), PropertName.Split('.')[1]);
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-15T17:56:41.880

扩展 Jon Skeets 的答案，如果您得到的值是`null`并且您想为该类型创建一个对象：

```
public void SetProperty(string compoundProperty, object target, object value)
{
  var bits = compoundProperty.Split('.');
  for (var i = 0; i < bits.Length - 1; i++) {
    var propertyToGet = target.GetType().GetProperty(bits[i]);
    var propertyValue = propertyToGet.GetValue(target, null);
    if (propertyValue == null) {
      propertyValue = Activator.CreateInstance(propertyToGet.PropertyType);
      propertyToGet.SetValue(target, propertyValue);
    }
    target = propertyToGet.GetValue(target, null);
  }
  var propertyToSet = target.GetType().GetProperty(bits.Last());
  propertyToSet.SetValue(target, value, null);
} 
```

# io - 如何将 IO 与 OpenMP 部分同步

> ID：12294243
> 
> 赞同：0
> 
> 时间：2012-09-06T06:35:06.500
> 
> 标签：io, synchronization, openmp

当我执行下面的代码时，shell 输出可能会在线程 0 和线程 1 之间重叠。所以我想问一下，确保每个线程在另一个线程开始输出之前完成输出写入的最佳方法是什么？

这将确保输出是干净的。

提前谢谢了！

```
 #pragma omp parallel num_threads(2) shared(emperor)
    {
#pragma omp sections
        {
#pragma omp section
            {
                cout << "Open the listening thread by using openmp!"  << endl;
                emperor->startServerListening(); /// does some work
            }
#pragma omp section
            {
                cout << "Open the master thread by using openmp!" << endl;
                emperor->startServerCoupling(); /// does some other work
            }
        } /// End of sections
    } /// End of parallel section 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T08:14:17.420

最直接的方法是使用临界区，这样一次只有一个线程写入输出：

```
#pragma omp parallel num_threads(2) shared(emperor)
{
    #pragma omp sections
    {
        #pragma omp section
        {
            #pragma omp critical (cout)
                cout << "Open the listening thread by using openmp!"  << endl;
            emperor->startServerListening(); /// does some work
        }
        #pragma omp section
        {
            #pragma omp critical (cout)
                cout << "Open the master thread by using openmp!" << endl;
            emperor->startServerCoupling(); /// does some other work
        }
    } /// End of sections
} /// End of parallel section 
```

您可以使用命名临界区来识别独占部分，即命名部分对所有具有相同名称的部分是独占的（一次在一个部分中的一个线程）。未命名的部分是所有其他未命名的部分所独有的。

# java - java注解中的类型层次结构

> ID：12294247
> 
> 赞同：4
> 
> 时间：2012-09-06T06:35:24.583
> 
> 标签：java, inheritance, annotations, hierarchy

我在注释中创建一些元数据结构时遇到问题。我们使用注释来定义休眠实体属性的特殊属性，但它可能在任何地方都可用。我想创建代表这些结构的条件：

```
attribute1 = ...
OR
  (attribute2 = ...
   AND
   attribute3 = ...) 
```

问题是我需要使用这个注释定义一些“树”结构。这是我想要达到的一些设计：

```
@interface Attribute {
  ... some attributes ...
}

@interface LogicalExpression {
}

@interface OR extends LogicalExpression {
  Attribute[] attributes() default {};
  LogicalExpression logicalExpressions() default {};
}

@interface AND extends LogicalExpression {
  Attribute[] attributes() default {};
  LogicalExpression logicalExpressions() default {};
}

@interface ComposedCondition {
  Attribute[] attributes() default {};
  LogicalExpression logicalExpressions() default {};
} 
```

我想根据这个例子使用所有这些注释：

```
public class Table {

  @ComposedCondition(logicalExressions = {
    @OR(attributes = {@Attribute(... some settings ...)}, 
        logicalExpressions = {
          @AND(attributes = {@Attribute(...), @Attribute(...)})
        })
  }
  private String value;

} 
```

我知道以我在上面的注释定义中定义的那种方式继承是不可能的。但是我怎么能认为我的注释和，或者是在一个“家庭”中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-06T06:52:23.350

请检查[为什么不能在 java 中扩展注释？](https://stackoverflow.com/questions/1624084/why-is-not-possible-to-extend-annotations-in-java)

但是您可以创建可用于注释的元注释以创建注释组。

```
 @LogicalExpression
@interface OR {
    Attribute[] attributes() default {};
    LogicalExpression logicalExpressions() default {};
} 
```

但这不会帮助您解决第二个问题，即。用作`LogicalExpression`父母。

但是您可以执行以下操作。声明`LogicExpression`为`enum` 这样，您可以使用单个`enum`和不同的一组 `Attributes`来执行条件。

例如，如果你想执行`AND`，`OR`条件那么你可以通过`LogicExpression.AND`，`LogicExpression.OR`并使用`orAttributes()`方法来执行`OR`条件和`andAttributes()`执行`AND`条件

```
public enum LogicExpression {
OR,AND,NOT;
}

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.ANNOTATION_TYPE)
public @interface ComposedCondition {
LogicExpression[] getExpressions() default {};
Attributes[] orAttributes() default {};
   Attributes[] andAttributes() default {};..
} 
```

# ios - Cocos2d App 无法加载到越狱的 2G ipod

> ID：12294248
> 
> 赞同：0
> 
> 时间：2012-09-06T06:35:34.693
> 
> 标签：ios, xcode4, cocos2d-iphone

我有一个 iOS 4.2 版本的越狱 2G 设备 & 使用 xcode4 和 Cocos2d 2.0。

我能够将我的示例测试应用程序加载并运行到设备中。但是对于 Cocos2d 应用程序，应用程序不会加载到设备中。没有问题，没有错误 - 但 ipod 中没有该应用程序。

与其他应用程序一样，构建设置设置为 armv6 和 iOS 部署目标为 4.2。

但唯一的区别是 - 在 Cocos2d App info.plist 中，无法在“所需设备功能”中找到架构（armv6/armv7） - 需要设置为 armv6。

Cocos2d 2.0 是不是只能在 armv7 中运行！如果没有，那么如何将 info.plist 架构更改为 armv6？

或者有什么需要做的吗？请帮忙。

*在所附图像中，您可以看到“所需设备功能”部分中没有定义架构。*

![在此处输入图像描述](../Images/28bb025e9a4b18b635000fe8c43a4f94.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T06:45:41.953

cocos2d 2.0 版仅支持以下列出的设备

*   支持iPad 1、iPad 2、iPad 3、iPhone 3GS、iPhone 4、iPhone 4S、iPod Touch 3 和 iPod Touch 4

欲了解更多信息，请访问[网站](http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide%3amigrate_to_v2.0)并查看设备列表。

# sencha-touch-2 - Sencha Touch 2 表单未提交

> ID：12294255
> 
> 赞同：0
> 
> 时间：2012-09-06T06:36:04.920
> 
> 标签：sencha-touch-2

出于某种原因，我的表单继续执行 GET 而不是将数据发布到我配置的 URL。

我的表格如下所示：

```
Ext.define('App.view.LoginFormPanel', {
extend : 'Ext.form.Panel',
xtype : 'loginForm',
id : 'loginForm',

config : {
    title : 'Login',
    iconCls : 'user',
    ui : 'light',
    items : [
            {
                xtype : 'fieldset',
                title : 'Login',
                items : [
                        {
                            xtype : 'textfield',
                            label : 'Login',
                            name : 'j_username',
                            required : true,
                            readOnly : false
                        }, {
                            xtype : 'passwordfield',
                            label : 'Password',
                            name : 'j_password',
                            required : true,
                            readOnly : false
                        }
                ]
            }, {
                xtype : 'button',
                ui : 'confirm',
                text : 'Login',
                action : 'login'
            }
    ]
}

}); 
```

我提交表单的控制器如下所示：

```
......
    login : function() {
    loginForm.submit({
        url : 'j_spring_security_check',
        method : 'POST'
    });
},
...... 
```

我试图将 url 和方法放在表单上也没有运气:(。

有人知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-08T08:09:38.500

我的答案是针对那些在使用 POST 方法提交表单时遇到问题的人。

如果您是 Sencha 的新手，并且您有一个什么都不提交的表单，您可能按照本教程[构建您的第一个应用程序](http://docs.sencha.com/touch/2.3.1/#!/guide/first_app)

它有问题。表单项必须具有示例中缺少的名称。

项目应如下所示：

```
items: [
{
    xtype: 'textfield',                             
    name: 'name',
    label: 'Name'
},
{
    xtype: 'emailfield',
    name: 'email',
    label: 'Email'
},
{
    xtype: 'textareafield',
    name: 'message',
    label: 'Message'
}
] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T15:51:09.620

尝试将[standardSubmit](http://docs.sencha.com/touch/2-0/#!/api/Ext.form.Panel-cfg-standardSubmit)设置为true。默认情况下，Touch 表单通过 ajax GET 方法提交，但 standardSubmit 将发送 POST。请注意，参数将在 http 有效负载中编码，而不是在 url 参数中。

干杯，奥列格

# python - 父 __init__ 类变量在所有子实例之间共享

> ID：12294259
> 
> 赞同：1
> 
> 时间：2012-09-06T06:36:30.447
> 
> 标签：python

> **可能的重复：**
> [Python 中的“Least Astonishment”：可变默认参数](https://stackoverflow.com/questions/1132941/least-astonishment-in-python-the-mutable-default-argument)

我对以下内容感到困惑。我有一个基类：

```
class MyBase:

    def __init__(self, store=set()):
        self._store = store 
```

* * *

现在子类继承 MyBase

```
class Child1(MyBase):
    pass

class Child2(MyBase)
    pass 
```

* * *

然后，

```
child1 = Child1()
child2 = Child2()

print(id(child1._store) = id(child2._store))
>>> True 
```

为什么这些实例有一个共享的_store？

如果您能帮助我，我将不胜感激。

问候，导航

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:59:52.523

`__init__`set() 在解析父类的时候创建一次。

要修复它，请像这样更改代码：

```
class MyBase:

    def __init__(self, store=None):
        if store is None:
            store = set()
        self._store = store 
```

# jquery - IE8 不透明度动画不适用于标签

> ID：12294266
> 
> 赞同：0
> 
> 时间：2012-09-06T06:37:15.873
> 
> 标签：jquery, html, css, internet-explorer-8

我的 HTML 中有一个 <h2>iPhone<sup>®</sup></h2>。
使用 jQuery 为该元素的不透明度设置动画效果适用于所有内容，但 <sup>®</sup> 没有动画效果。

我怎么能绕过呢？这只发生在 IE8 上。

尝试使用这个但没有运气

```
h2 * {
   filter:inherit;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:43:43.020

正如之前在 SO 上多次指出的那样，IE8 处理不透明度的方式与 IE<8 和 IE9 不同。例如，请参阅此答案，[https:](https://stackoverflow.com/a/3003079/600101) //stackoverflow.com/a/3003079/600101 处理 IE8 中的不透明度。

# ruby-on-rails - Ruby 的 OCI_SUCCESS_WITH_INFO 错误

> ID：12294270
> 
> 赞同：0
> 
> 时间：2012-09-06T06:37:29.157
> 
> 标签：ruby-on-rails, ruby, oracle, oracle-call-interface

我正面临耙子的问题。当我提供 rake 时，rake 失败并出现以下错误：

```
/Ruby/lib/ruby/site_ruby/1.8/oci8.rb:228 - ORA-28002: the password will expire within 5 days 
```

这里的问题是 OCILogon 将给出 OCI_SUCCESS_WITH_INFO 的状态，我相信这在 evn.c 中没有处理

因此，当我深入研究代码时，我发现 evn.c 确实只检查了 OCI_SUCCESS 但是，我在 ruby​​ 的 env.c 中的函数 oci8_logon 中将代码更改为类似这样：

```
rv = OCILogon(envh->hp, envh->errhp, &svchp,
            u.ptr, u.len, p.ptr, p.len, d.ptr, d.len);

if (rv != OCI_SUCCESS && rv != OCI_SUCCESS_WITH_INFO) {
    oci8_raise(envh->errhp, rv, NULL);
  } 
```

我仍然面临同样的问题。我验证了返回值 (rv) 它来自 oci.h 的 1，我验证为 OCI_SUCCESS_WITH_INFO

知道我接下来需要做什么吗？

PS：我不想通过更改与帐户关联的配置文件来更改 oracle 端的密码过期行为。我需要一个红宝石级别的解决方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T16:43:59.417

将您的比较更改为

```
if (rv != OCI_SUCCESS && rv != OCI_SUCCESS_WITH_INFO)
                      ^^ logical AND instead of logical OR 
```

分享和享受。

* * *

编辑：经过进一步考虑，我认为如果将其重写为进行正面比较而不是负面比较会更清楚：

```
rv = OCILogon(envh->hp, envh->errhp, &svchp,    
            u.ptr, u.len, p.ptr, p.len, d.ptr, d.len);    

if (rv == OCI_SUCCESS || rv == OCI_SUCCESS_WITH_INFO)
  {
  /* Code to perform when OCILogon succeeds */
  }
else
  {
  /* Code to perform when OCILogon fails */

  oci8_raise(envh->errhp, rv, NULL);
  } 
```

就这样……

# activerecord - 查找最接近当前日期创建的记录

> ID：12294272
> 
> 赞同：6
> 
> 时间：2012-09-06T06:37:35.550
> 
> 标签：activerecord, ruby-on-rails-3.2

我想获取`created_at`日期最接近当前日期的记录。如何使用活动记录的`where`条款做到这一点？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-06T07:12:04.973

您可以通过以下方式找到过去最接近的记录：

```
Record.where("created_at <= ?", Date.today).order_by("created_at DESC").limit(1) 
```

同样，您可以在将来拥有最接近的记录

```
Record.where("created_at >= ?", Date.today).order_by("created_at ASC").limit(1) 
```

然后比较最接近当前日期的那个...

可能有一个解决方案可以通过单个请求来完成，但我找不到方法（如果您使用的是 SQL 服务器，那么有一种方法 DATEDIFF 可以提供帮助）。

**更新**：*感谢米莎*

如果你确定一切`created_at`都过去了，你正在寻找最后创建的记录，可以写成

```
Record.order("created_at").last 
```

**更新**

要让所有记录的创建日期相同，然后是最后一条记录：

```
last_record_date = Record.max(:created_at)
Record.where(:created_at => (last_record_date.at_beginning_of_day)..(last_record_date.end_of_day)) 
```

# javascript - Sharepoint 的移动应用程序

> ID：12294274
> 
> 赞同：2
> 
> 时间：2012-09-06T06:37:47.807
> 
> 标签：javascript, api, sharepoint, rest, mobile

我正在尝试开发一个与 Sharepoint 2010 集成的移动应用程序，以便我的客户可以通过移动设备进行审批和处理。（我希望构建一个 HTML5/Android Native 应用程序来调用 web 服务并完成工作）

我查了一下，有一个用于 Sharepoint 的 RESTful API，我认为我可以将它与 ECMAScript 库一起使用。我可以使用相同的 REST API 来查看待定批准、批准/拒绝等，还是该功能仅限于查看数据？

抱歉，我是 Sharpoint 的新手。有人可以说明我是否有正确的想法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:43:30.107

**出于我的需要，我正在使用自定义 SOAP Web 服务在 SharePoint 端做我想做的事情。**不幸的是，我对内置服务没有经验，可能足以满足您的需求，但我不这么认为。但是你可以在这里开始你的调查：

[http://msdn.microsoft.com/en-us/library/ff521587.aspx](http://msdn.microsoft.com/en-us/library/ff521587.aspx)

[http://msdn.microsoft.com/en-us/library/ee705814.aspx](http://msdn.microsoft.com/en-us/library/ee705814.aspx)

创建自定义 Web 服务很简单，它可以为您提供很大的可能性。

**在移动部分，我使用[Cordova (PhoneGap)](http://docs.phonegap.com/en/2.0.0/guide_getting-started_index.md.html)创建移动应用程序（基于 Html+JS）。对于 WebService 调用，我使用如下代码：**

```
var url=server+"/_layouts/CustomWebServices/MyCustomWebService.asmx";
var req = createXMLHTTPObject();
req.onreadystatechange= function(){
    if(req.readyState != 4) return;
    if(req.status != 200) {
        if (onerror)
            onerror('status: '+req.status+req.responseCode+req.responseText);
        return;
    }
    callback();
};
var soapBodyDoc=mkXML(soapBody);
req.open("POST",url,true);
req.setRequestHeader('SOAPAction', 'http://mysite/'+soapAction);
req.setRequestHeader('Content-Type', 'text/xml; charset=utf-8');
req.setRequestHeader('Authorization', 'Basic '+auth);
req.setRequestHeader('Expect', '100-continue');
req.setRequestHeader('Connection', 'Keep-Alive');
req.send(soapBodyDoc); 
```

如您所见，我正在使用[Basic authorization](http://en.wikipedia.org/wiki/Basic_access_authentication)。也许这不是最好的方法，但我也是新手:)。我暂时不记得我究竟做了什么来允许基本身份验证，但如果你找不到此信息，请告诉我，我会尽量记住。

要创建 UI，您可以使用[jQuery mobile](http://jquerymobile.com/)。这是非常有用的。

如果您还有其他问题 - 请告诉我。

# ruby-on-rails - 使用 Rails 拉取带有特定标签的 Instagram 照片？

> ID：12294276
> 
> 赞同：1
> 
> 时间：2012-09-06T06:37:50.027
> 
> 标签：ruby-on-rails, instagram

我想知道如何使用 Rails 在 Instagram 上提取所有带有主题标签的照片。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-06T06:42:35.590

在 instagram API 中使用[此端点](http://instagram.com/developer/endpoints/tags/#get_tags_media_recent)，并解析结果。

如果您想实际下载照片，则需要自己编写该部分，但使用 Net::HTTP 或 HTTParty 或其他任何东西都很容易。

# android - 通过 JNI 从 C++ 触发 Java 方法时出现 NullPointerException

> ID：12294281
> 
> 赞同：2
> 
> 时间：2012-09-06T06:38:32.857
> 
> 标签：android, java-native-interface, cocos2d-x

我可以通过 JNI 调用非静态 java 方法，如下所示：

[C++代码]

```
jclass classID = minfo.env->FindClass("com/halfmeters/sangosloto/AliPayActivity");
jmethodID method = minfo.env->GetMethodID(classID,"pay","(Ljava/lang/String;)Z");
jobject obj = minfo.env->NewObject(classID, method);
jstring strOrder = minfo.env->NewStringUTF("test");
jboolean result = minfo.env->CallBooleanMethod(obj, method,strOrder);//minfo.methodID);
minfo.env->DeleteLocalRef(strOrder);
minfo.env->DeleteLocalRef(minfo.classID); 
```

【java方法声明】

```
public boolean pay(String orderInfo){
    System.out.println("Order info:" + orderInfo); // caught an exception
} 
```

现在，当在 C++ 中执行该函数时，它会在 java 端引发异常，如下所示：

```
09-06 11:46:45.229: E/AndroidRuntime(31141): FATAL EXCEPTION: GLThread 12
09-06 11:46:45.229: E/AndroidRuntime(31141): java.lang.NullPointerException
09-06 11:46:45.229: E/AndroidRuntime(31141): at android.content.ContextWrapper.bindService(ContextWrapper.java:347)
09-06 11:46:45.229: E/AndroidRuntime(31141): at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:155)
09-06 11:46:45.229: E/AndroidRuntime(31141): at java.lang.StringBuilder.append(StringBuilder.java:217)
09-06 11:46:45.229: E/AndroidRuntime(31141): at com.test.AliPayActivity.pay(AliPayActivity.java:322)
09-06 11:46:45.229: E/AndroidRuntime(31141): at org.cocos2dx.lib.Cocos2dxRenderer.nativeTouchesEnd(Native Method)
09-06 11:46:45.229: E/AndroidRuntime(31141): at org.cocos2dx.lib.Cocos2dxRenderer.handleActionUp(Cocos2dxRenderer.java:79)
09-06 11:46:45.229: E/AndroidRuntime(31141): at org.cocos2dx.lib.Cocos2dxGLSurfaceView$10.run(Cocos2dxGLSurfaceView.java:345)
09-06 11:46:45.229: E/AndroidRuntime(31141): at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1326)
09-06 11:46:45.229: E/AndroidRuntime(31141): at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1118) 
```

任何人都可以帮助检查它有什么问题吗？谢谢！PS我发现java方法pay(String)在这个过程中被调用了两次，但我不知道它是怎么来的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:46:48.120

尝试登录

```
Log.d("", "Order info:" + orderInfo); 
```

如果从本机端调用此方法，系统调用似乎无法工作。

# r - 如何在 R 中绘制原子向量（矩阵）的值

> ID：12294283
> 
> 赞同：0
> 
> 时间：2012-09-06T06:38:37.730
> 
> 标签：r, plot

我在绘制和访问我创建的以下矩阵时遇到问题。

在这里，我创建了一个每个人都可以在没有我的数据的情况下关注的版本。

```
a<-rnorm(10,0,1)
b<-rnorm(10,2,1)

J<-matrix(0,10,2)
colnames(J)<-c("a","b")
J[,1]<-a
J[,2]<-b 
```

然后想阴谋。但我收到我不明白的错误消息：

```
with(J,plot(a,b)) 
```

*+ eval 中的错误（substitute（expr）、data、enclos = parent.frame())：+ numeric 'envir' arg 长度不是 1*

和

```
plot(J$a,J$b) 
```

*+plot(J$a,J$b) +J$a 中的错误：$ 运算符对原子向量无效*

有人有什么主意吗？

来自德国的亲切问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T06:42:25.060

如果 J 被定义为一个 data.frame，它会工作，列 a 和 b：

```
a<-rnorm(10,0,1)
b<-rnorm(10,2,1)

J <- data.frame(a,b)
with(J,plot(a,b)) 
```

$ 仅适用于列表对象（包括 data.frame）。如果您坚持使用矩阵，那么您可以使用带有索引或名称的括号从列中抓取：

```
J <- cbind(a,b)
plot(J,[,1],J[,2])
plot(J[,"a"],J[,"b"]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:43:53.093

在您的情况下，您是否有一个 2 列矩阵`J`

```
plot(J) 
```

将照常工作

```
 plot(J[,'a'], J[,'b']) 
```

运算符不是为矩阵定义的``$``，而是为`lists`or`data.frames`

`with`不适用于矩阵，因为矩阵不能是环境或外壳

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T06:44:17.760

```
plot(J[,1], J[,2]) 
```

和

```
with(as.data.frame(J), plot(a,b)) 
```

两者都工作

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T06:46:40.040

如果要通过名称访问矩阵的列：

```
plot(J[ , colnames(J) %in% c("a", "b")]) 
```

# javascript - 从键值对创建对象数组

> ID：12294286
> 
> 赞同：4
> 
> 时间：2012-09-06T06:39:00.007
> 
> 标签：javascript, json

从服务中，我收到一个带有键值对的 JSON 对象，我需要从它们动态创建对象，按一列分组。

JSON 看起来像这样：

```
[
    { "Group" : "A", "Key" : "Name", "Value" : "John" },
    { "Group" : "A", "Key" : "Age",  "Value" : "30" },
    { "Group" : "A", "Key" : "City", "Value" : "London" },
    { "Group" : "B", "Key" : "Name", "Value" : "Hans" },
    { "Group" : "B", "Key" : "Age",  "Value" : "35" },
    { "Group" : "B", "Key" : "City", "Value" : "Berlin" },
    { "Group" : "C", "Key" : "Name", "Value" : "José" },
    { "Group" : "C", "Key" : "Age",  "Value" : "25" },
    { "Group" : "C", "Key" : "City", "Value" : "Madrid" }
] 
```

我需要将其转换为以下对象数组：

```
[
    { Group : "A", Name : "John", Age : 30, City : "London" },
    { Group : "B", Name : "Hans", Age : 35, City : "Berlin" },
    { Group : "C", Name : "José", Age : 25, City : "Madrid" }
] 
```

每个组可以包含任意数量的键值对。

目前我有一个可行的解决方案，但我不知道它是否是最佳的：

```
var items = [
    { "Group" : "A", "Key" : "Name", "Value" : "John" },
    { "Group" : "A", "Key" : "Age",  "Value" : "30" },
    { "Group" : "A", "Key" : "City", "Value" : "London" },
    { "Group" : "B", "Key" : "Name", "Value" : "Hans" },
    { "Group" : "B", "Key" : "Age",  "Value" : "35" },
    { "Group" : "B", "Key" : "City", "Value" : "Berlin" },
    { "Group" : "C", "Key" : "Name", "Value" : "José" },
    { "Group" : "C", "Key" : "Age",  "Value" : "25" },
    { "Group" : "C", "Key" : "City", "Value" : "Madrid" }
], item, record, hash = {}, results = [];

// Create a "hash" object to build up
for (var i = 0, len = items.length; i < len; i += 1) {
    item = items[i];

  if (!hash[item.Group]) {
    hash[item.Group] = {
      Group : item.Group
    };
  }
  hash[item.Group][item.Key] = item.Value;
}

// Push each item in the hash to the array
for (record in hash) {
  if(hash.hasOwnProperty(record)) {
    results.push(hash[record]);
  }
} 
```

你可以在这里检查小提琴：http: [//jsbin.com/ozizom/1/](http://jsbin.com/ozizom/1/)

您对此有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-06T07:22:26.040

假设 JSON 记录将始终按组排序，这是另一种方法：

```
var json = [
    { "Group" : "A", "Key" : "Name", "Value" : "John" },
    { "Group" : "A", "Key" : "Age",  "Value" : "30" },
    { "Group" : "A", "Key" : "City", "Value" : "London" },
    { "Group" : "B", "Key" : "Name", "Value" : "Hans" },
    { "Group" : "B", "Key" : "Age",  "Value" : "35" },
    { "Group" : "B", "Key" : "City", "Value" : "Berlin" },
    { "Group" : "C", "Key" : "Name", "Value" : "José" },
    { "Group" : "C", "Key" : "Age",  "Value" : "25" },
    { "Group" : "C", "Key" : "City", "Value" : "Madrid" }
];

var array = [];
var previousGroup = null;

for(var i=0; i<json.length; i++) {
    var group = json[i].Group;
    if(previousGroup != group) {
        array.push({Group: group});
        previousGroup = group;
    }
    array[array.length-1][json[i].Key] = json[i].Value;
} 
```

[这](http://jsfiddle.net/GrmZF/2/)是一个工作示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-15T18:20:45.263

这是一个通过使用 JavaScript 惯用语来减少代码大小（无论好坏 :-) 的解决方案。此解决方案不依赖于输入值的顺序：

```
var values = [
  {Group: 'A', Key: 'Name', Value: 'John'},
  {Group: 'A', Key: 'Age', Value: '30'},
  {Group: 'A', Key: 'City', Value: 'London'},
  {Group: 'B', Key: 'Name', Value: 'Hans'},
  {Group: 'B', Key: 'Age', Value: '35'},
  {Group: 'B', Key: 'City', Value: 'Berlin'},
  {Group: 'C', Key: 'Name', Value: 'José'},
  {Group: 'C', Key: 'Age', Value: '25'},
  {Group: 'C', Key: 'City', Value: 'Madrid'}
];

var map = {};
values.forEach(function(value) {
  map[value.Group] = map[value.Group] || {Group: value.Group};
  map[value.Group][value.Key] = value.Value;
});

var results = Object.keys(map).map(function(key) { return map[key]; }); 
```

一个工作示例位于[http://jsfiddle.net/arQww](http://jsfiddle.net/arQww)。

这是我能找到的最快的解决方案，它假定值将始终按组排序：

```
var group, results = [];
for (var i = 0; i < values.length; ) {
  results.push({Group: group = values[i].Group});
  do {
    results.push[results.length - 1][values[i].Key] = values[i].Value;  
  } while (++i < values.length && values[i].Group == group);
} 
```

性能比较位于[http://jsperf.com/vnmzc](http://jsperf.com/vnmzc)。虽然第二种解决方案更快，但两者的性能都是 O(n) 并且它们之间的实际差异将是无关紧要的，因此第一种解决方案可能更可取，因为它更简单、更通用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-03-19T04:33:50.813

如果您必须大量操作数据，我会推荐[underscore](http://underscorejs.org/ "udscore主页")框架。这是解决方案的外观：

```
/*
 We group items into object that looks like {group: attributes, ..}
 Then for each group we create result object denoting group,
 and extend result with object created from keys and values of attributes
*/
_.map(_.groupBy(items, function (item) {return item.Group}),
     function (attributes, group) {
        return _.extend({Group: group},
                        _.object(_.pluck(attributes, 'Key'),
                                 _.pluck(attributes, 'Value')))
    }) 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-08-03T18:55:55.360

我需要解决类似问题的帮助，购买我想对值求和。我有这个带有对象的数组

```
var myArrWithObj = [
    {DateToSort: "Jul2014", ValueOneToSum: "60", ValueTwoToSum: "15"},
    {DateToSort: "Jul2014", ValueOneToSum: "30", ValueTwoToSum: "50"},
    {DateToSort: "Jul2014", ValueOneToSum: "12", ValueTwoToSum: "22"},
    {DateToSort: "Aug2014", ValueOneToSum: "65", ValueTwoToSum: "25"},
    {DateToSort: "Aug2014", ValueOneToSum: "13", ValueTwoToSum: "10"},
    {DateToSort: "Aug2014", ValueOneToSum: "90", ValueTwoToSum: "20"},
    {DateToSort: "Sep2014", ValueOneToSum: "60", ValueTwoToSum: "15"},
    {DateToSort: "Sep2014", ValueOneToSum: "60", ValueTwoToSum: "18"},
    {DateToSort: "Sep2014", ValueOneToSum: "75", ValueTwoToSum: "18"}
                   ]; 
```

我希望用户从选项菜单中选择要总结的月份。

因此，如果用户`August 2014`从选择菜单中进行选择，我想对所有`ValueOneToSum`值和`ValueTwoToSum`基于的值求和，`Aug2014`我该怎么做？

例如：`totalSumOne`for`Aug2014`将是`168`并且`totalSumTwo`将是`55`。

# qt - 使用 QtHelp 模块创建文档

> ID：12294287
> 
> 赞同：2
> 
> 时间：2012-09-06T06:39:01.437
> 
> 标签：qt, documentation

Qt 提供了两种帮助文件：Qt 压缩帮助 (.qch) 和 Qt 帮助集合 (.qhc)。第一个实际上包含压缩的帮助数据（html 页面、图像等）。第二个包含对不同压缩帮助文件的引用。

Qt Assistant 和 QHelpEngine 都使用集合文件来显示帮助。所以我至少需要两个文件来为我的应用程序提供文档：.qch 和 .qhc。

我想要一个供 Qt 帮助 API 使用的帮助文件（例如，像 Windows 中的 .chm 帮助文件）。

可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T08:21:11.767

我认为不可能使用`QtHelp`模块创建 chm 文件，因为[chm](http://en.wikipedia.org/wiki/Microsoft_Compiled_HTML_Help "chm")文件是 Microsoft 特定的，而不是独立的格式。

但是所有的 chm 文件都是由`hh.exe`属于 HTML Help Workshop 的应用程序打开的。我已经访问了 chm 文件以使用应用程序打开指定的 html 页面`hh`。你可以看看我[的](https://stackoverflow.com/questions/3351511/help-integration-in-qt-c-application/3361745#3361745)回答。

如果 Microsoft 提供了命令行选项来通过`hh`或通过 HTML 帮助研讨会命令行（如果有）来编译 chm 文件，您可以通过在`QProcess`. 您必须对此进行更多调查。

或者您可以使用 HTML Help Workshop 手动创建 chm 文件并将 chm 文件集成到应用程序中。

希望这有助于您开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-22T11:45:09.173

我没有尝试过，但看看[chm2qch](https://bitbucket.org/mitrich_k/chm2qch)，用于将 Windows CHM 文件转换为 Qt 帮助格式的工具。

# javascript - 当以两种不同的方式定义原型时，Javascript 构造函数的行为不同

> ID：12294288
> 
> 赞同：0
> 
> 时间：2012-09-06T06:39:03.833
> 
> 标签：javascript, object, prototype

我想要做的是在 JavaScript 中提取函数的名称。我前段时间得到了这个工作，它看起来像这样：

```
MyObj = function myobj(){};

extend = function(obj){
    return /function (.+)\(/.exec(obj.constructor.toString())[1];
} 
```

所以这是有趣的事情。当我以这种方式将此对象与原型一起使用时，一切正常：

```
MyObj.prototype.a = function(){}
MyObj.prototype.b = function(){}

extend(MyObj);
//->'myobj' 
```

但是，当我这样定义我的函数时：

```
MyObj.prototype = {
   a : function(){},
   b : function(){}
}

extend(MyObj);
//->'Object' 
```

有谁知道为什么后一种方法中的构造函数是 JavaScript 的本机代码（例如“对象”）的一部分，而不是我的函数？

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:18:24.027

尝试在第二种情况下添加构造函数属性。
因为您正在覆盖`prototype`，所以您也在覆盖该`obj.prototype.constructor`属性。
所以像这样使用它：

```
MyObj.prototype = {
    constructor : MyObj,
    method1 : ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:14:49.460

因为当您使用 时`"MyObj.prototype.a"`，您正在使用本机原型并向其添加新功能。

但是当你使用另一种方式时，你正在用一个新的对象替换原生原型。

# javascript - 在哪里可以找到 MongoDB 触发的事件列表？

> ID：12294289
> 
> 赞同：1
> 
> 时间：2012-09-06T06:39:04.857
> 
> 标签：javascript, events, mongodb

我想在客户端（javascript）中使用 MongoDB，但我需要附加很多事件监听器（之前/之后：创建、更新、删除等）。

MongoDB 是否处理事件？我怎样才能找到有关它的文档？

我试图在 google 中搜索“ [MongoDB events](https://www.google.fr/search?q=mongodb%20events) ”，但我只能找到“Public real life”事件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:43:42.057

MongoDB 没有触发器。您可以将自己的解决方案组合在一起，但它只会有后“触发器”。

这涉及构建一个副本集（如果您还没有）和读取复制[oplog](http://www.mongodb.org/display/DOCS/Replica+Sets+-+Oplog)。请记住，副本集只能包含一个成员。

# python - 将列表或数组写入文件

> ID：12294291
> 
> 赞同：1
> 
> 时间：2012-09-06T06:39:07.743
> 
> 标签：python

temp.txt 文件示例：

> 文件：t091110_065921.SFTC的Src：J1903 + 0925 N衬底：1的Nch：1 Npol：4 Nbin：1024个RMS：0.00118753
> 0 0 0 0.00148099 -0.00143755 0.000931365 -0.00296775
> 0 0 1 0.000647476 -0.000896698 0.000171287 0.00218597
> 0 0 2 0.000704697 -0.00052846 -0.000603842 -0.000868739
> 。
> .
> ETC..

谢谢！

* * *

为了响应这是如何生成的，我使用了以下代码：

```
for i in range(numrows):
    epoch_name = y['filename'][i]
    os.system('pdv -t {0} > temp.txt '.format(epoch_name))
    stokes_line = np.genfromtxt('temp.txt', usecols=3, dtype=[('stokesI','float')], skip_header=1)
    stokes_list.append(stokes_line)
stokes_columns = zip(*stokes_list) 
```

所以我使用其他一些软件和“pdv”命令在每次程序循环时生成一个值网格（进入一个文本文件）。然后我从这个文本文件中拉出 1 个特定的列并将其添加到“stokes_list”。最后我转置数组（或任何它），使列变成行。

* * *

我在 Python 中有一个列表列表（或任何数组，我真的不懂术语），看起来像：

```
[((1,)(2,)(3,)),((4,)(5,)(6,)),((7,)(8,)(9,))] 
```

首先，我不确定为什么它在方括号内有括号，而不是方括号内的方括号。其次，我不知道为什么数字后面有一个逗号，而它们自己出现在括号中。无论如何-也许需要更多的上下文来回答这个问题。但我真正的问题是，我正在尝试将其写入以下格式的文件：

```
1   2   3  
4   5   6  
7   8   9 
```

我在尝试：

```
with open('final.txt','w') as f:
    for row in stokes_columns:
        f.write('\t'.join(row)+'\n') 
```

其中“stokes_columns”是我的数组/列表顶部的名称。

我收到错误消息：

```
f.write('\t'.join(row)+'\n')
TypeError: sequence item 0: expected string, numpy.void found 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T06:47:03.267

`join`需要一个字符串数组。你的第三行应该是：

```
f.write('\t'.join(str(cell) for cell in row)+'\n') 
```

如果需要，您可以在一个语句中完成整个操作：

```
f.write('\n'.join(
    '\t'.join(str(cell) for cell in row)
    for row in stokes_columns
)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:03:52.157

这不是创建或转置 numpy 矩阵的方法（特别是因为它不是 numpy 矩阵 - 它是 numpy 向量的常规列表）。尝试以下操作：

```
stokes_list = np.array([])
for i in range(numrows):
    epoch_name = y['filename'][i]
    os.system('pdv -t {0} > temp.txt '.format(epoch_name))
    stokes_line = np.genfromtxt('temp.txt', usecols=3, dtype=[('stokesI','float')], skip_header=1)
    stokes_list = vstack(stokes_list, stokes_line)

stokes_columns = np.transpose(stokes_list) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-06T07:04:50.787

而不是您指定的列表（我认为这不是应该的）

假设它是`[((1,),(2,),(3,)),((4,),(5,),(6,)),((7,),(8,),(9,))]`

以下应该在一定程度上帮助你

获得最终输出后，您可以使用它将其推送到行

```
In [74]: str = [((1,),(2,),(3,)),((4,),(5,),(6,)),((7,),(8,),(9,))]

In [75]: str2 = []

In [76]: for elem in str:
   ....:     str2.append([data[0] for data in elem])
   ....:

In [77]: str2
Out[77]: [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

In [78]: for elem in zip(*str2):
   ....:     print elem
   ....:
(1, 4, 7)
(2, 5, 8)
(3, 6, 9) 
```

根据 OP 的最后一次编辑，更改了输出：

```
In [92]: for elem in str2:
   ....:     print elem
   ....:
[1, 2, 3]
[4, 5, 6]
[7, 8, 9] 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-06T07:12:23.137

您不是在尝试编写一个元组列表，而是一个具有灵活数据类型的 numpy 数组（`void`在这种情况下，根据您的`TypeError`）。灵活的 dtype 没有预定义的大小，因此在保存它之前，您应该决定要使用哪种 dtype 来存储数组。例如，假设您要将数据存储为 int16，您可以执行以下操作：

```
your_array.astype('int16').tofile(filename) 
```

我认为它应该工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-24T20:52:10.840

tofile() 函数将所有项目**（作为机器值）**写入文件对象 f。也许`savetxt()`是 am ascii-file 的正确功能

# windows-phone-7 - 使用 windows phone 7.1 在不干扰 UI 的情况下绑定数据

> ID：12294294
> 
> 赞同：0
> 
> 时间：2012-09-06T06:39:20.630
> 
> 标签：windows-phone-7

我是新的 WP7.1。我正在开发聊天应用程序，其中有像朋友一样的屏幕，在那个屏幕上它就像有 1000 多个朋友一样，我们使用 sqlite 绑定到 longlistselector。

主要问题是，我们有一个 API 用于调用朋友的更新，例如（显示名称、头像等），我正在处理 API 数据并将数据绑定到 longlistselector，在绑定时，我无法滚动 longlistselecor 和屏幕上的任何其他按钮。

我正在使用 Deployment.Current.Dispatcher.BeginInvoke(() => { Binding to }); 绑定数据 和 Dispatcher.BeginInvoke(() => { Binding to }) 和 BackgroundWorker （我尝试了很多方法）。

请建议任何解决方案绑定而不干扰用户界面。

提前致谢。

——钱德拉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:14:02.833

每当您在屏幕上推送数据时（无论是通过 XAML {Binding} 还是通过直接访问页面的 UI 元素），都需要在 UI 线程上完成。当 UI 线程忙于处理您的代码或由于您的代码而重绘 UI 时，UI 会冻结。

这意味着您需要使 BeginInvoke() 中的所有内容尽可能简短和高效。但是，您还需要尽可能少地调用 BeginInvoke()。在这些之间找到平衡将决定您的 UI 的体验速度。

在 LongListSelector 的情况下，我发现一次添加 50 个项目是有效的，等待半秒并添加接下来的 50 个项目。你的旅费可能会改变。

# c# - 物品有限的清单

> ID：12294296
> 
> 赞同：4
> 
> 时间：2012-09-06T06:39:30.370
> 
> 标签：c#, list, generics, queue

我需要保持简短的价值观历史。所以我需要一个包含最大项目数的列表。而且我希望它即使已满也能接受新添加的内容。在这种情况下，我希望我添加的最旧的项目丢失。我没有找到任何适合这个目的的课程，然后我自己做了。稍后我肯定会添加方法，但现在我有我需要的。

所以我对你的第一个问题是：它是一个正确的代码吗：[http](http://pastebin.com/0BCbyNqJ) ://pastebin.com/0BCbyNqJ 这个类对你来说看起来足够干净吗？

我的第二个问题是关于我抛出的这些异常。

```
/// <summary>
/// Oldest item added to the list
/// </summary>
public T First
{
    get
    {
        if (_head < 0)
            throw new IndexOutOfRangeException("The list is empty");

        if (_firstRoundDone)
            return _array[(_head + 1) % _max];
        else
            return _array[0];
    }
} 
```

在将任何内容添加到我的列表之前，我想调用`First`,`Last`并`Count`返回 null。我认为这会更有意义。但我不知道该怎么做，因为返回类型是 int 或 T，我不想为此添加一个约束，例如`where T:Nullable`. 由于我没有看到任何解决方案，我想知道 Exception 毕竟是否不是最优雅的方式。或者我应该实现像`GetFirst(out T first)`甚至这样的方法`TryGetFirst(out T)`吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-06T07:14:29.753

扩展`Queue<>`会产生非常短的代码，如下所示：

```
public class Buffer<T> : Queue<T>
{
    private int? maxCapacity { get; set; }

    public Buffer() { maxCapacity = null; }
    public Buffer(int capacity) { maxCapacity = capacity; }

    public void Add(T newElement)
    {
        if (this.Count == (maxCapacity ?? -1)) this.Dequeue(); // no limit if maxCapacity = null
        this.Enqueue(newElement);
    }
} 
```

`.Clear()`并且`.ToList()`会被继承，不需要实现它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T06:42:56.450

考虑公开可用的 LRU 缓存，例如[http://code.google.com/p/csharp-lru-cache/](http://code.google.com/p/csharp-lru-cache/)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-06T06:44:57.323

如果我错了，请纠正我，但听起来你想要的是一个队列。然而，这[已经在 .Net 中提供了](http://msdn.microsoft.com/en-us/library/7977ey2c.aspx)。您可能应该使用它，以及它提供的方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-06T06:50:40.213

我认为您需要的是允许溢出的循环缓冲区。这样的实现可以在[这里找到](http://circularbuffer.codeplex.com/)。

# java - 该方法不适用于参数

> ID：12294297
> 
> 赞同：0
> 
> 时间：2012-09-06T06:39:32.897
> 
> 标签：java, class, methods, arguments

我收到此错误：

> t33.Psicodelia 类型中的方法 pintar() 不适用于参数 (int,int,int,int,int,int)

我该如何解决这个问题？

我有两个类和主选项卡：

1级

```
public class Logica {
  Psicodelia miPsicodelia;

  public Logica() {
  }

  public void pintar() {
    miPsicodelia.pintar(width/2, height/2, height/4, 0, 0, 1);
    miPsicodelia.kaleidouno(posX, posY, rad, ang, depth, tam1);
  }  

  public void pressed() {
    miPsicodelia.pressed();
  }
} 
```

2 级

```
public class Psicodelia {
  private float anguloGrande;
  private int numBolas, contador;

  public Psicodelia() {
    stroke(255);   
    this.anguloGrande = 0.0;
    this.numBolas = 7;
  }

  public void pintar() {
    //fill((int)random(0, 255), (int)random(0, 255), (int)random(0, 255));
    fill(255, 255, 0, (int)random(20, 100));
    pintar(width/2, height/2, height/4, 0, 0, 1);
    anguloGrande += .02; //velocidad de rotacion
  }

  public void kaleidouno(float posX, float posY, float rad, float ang, int depth, float tam) { //pinteme las bolas en la pos posX, posY, reciba un float de radianes y de angulos, y por ultimo un int de profundidad
    if (depth < contador) {
      tam=(int)random(0.5, 1.5);
      float anguloPeq = TWO_PI/numBolas;
      for (int i=0; i < numBolas; i++) {
        float nuevoRad = rad/2; //distancia y tamaño de las bolas entre ellas
        float nuevoAng = ang + i*anguloPeq - anguloGrande;
        float X = cos(nuevoAng)*rad + posX;
        float Y = sin(nuevoAng)*rad + posY;
        pintar(X, Y, nuevoRad, nuevoAng, depth + 1, 1);
      }
    }
    else  if (rad < 2) { 
      ellipse(posX, posY, 2.0*tam, 2.0*tam);
    }
    else { 

      ellipse(posX, posY, rad*2.0, rad*2.0);
    }
  }

  public void pressed() {
    contador++;
    if (contador >= 3) { 

      contador--;
    }
  }

  float getPosX () {
    return posX ;
  }

  float getPosY () {
    return posY ;
  }
}

// and the main tab

Logica miLogica;

//================================================================

void setup() {
  size(800,600);
  smooth();

miLogica= new Logica();

}

//================================================================

void draw() {
  background(0);
 miLogica.pintar();

}

//================================================================

void mousePressed() {
miLogica.pressed();
}
//================================================================ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:22:31.827

你调用了方法

```
Psicodelia miPsicodelia;
miPsicodelia.pintar(width/2, height/2, height/4, 0, 0, 1); 
```

但是您的`Psicodelia`班级只有以下`pintar`方法：

```
public void pintar(); 
```

要按照您的方式调用它，您必须为该方法`pintar()`提供希望的参数。

例如：

```
public void pintar(int a, int b, int c, int d, int e, int f){
    // do whatever you want here
} 
```

*PS：你在* `miPsicodelia` *任何地方实例化你的对象吗？如果没有，这会给你一个* `NullPointerException`*.*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:25:42.437

好吧，除非我错过了什么，否则您的`public void pintar()`方法是不带参数声明的，因此您不能使用任何参数调用它。您必须使用所需数量和类型的参数声明它：

```
public void pintar(int para1, int para2, int para3, int para4, int para5, int para6)
{ 
   //Do something with the parameters.
} 
```

# iphone - XML Parser 后未获取数据

> ID：12294303
> 
> 赞同：-1
> 
> 时间：2012-09-06T06:39:56.947
> 
> 标签：iphone, objective-c, xcode

我正在使用 XML 解析器来获取我的数据。

```
- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string 
{
currentNodeContent = (NSMutableString *) [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName 
{
    if ( [elementName isEqualToString:@"country"] ) 
    {
        x++;
       [messages addObject:[NSDictionary dictionaryWithObjectsAndKeys:Id,@"ID",Name,@"NAME",Image,@"IMAGE",nil]];
    //**111**
         NSLog(@"Data in Message : %@", [messages objectAtIndex:(x-1)]);

        [Id setString:@""];
        [Name setString:@""];
        [Image setString:@""];
    }
    if ( [elementName isEqualToString:@"id"] )
    {
        [Id appendString:currentNodeContent];
    }
    if ( [elementName isEqualToString:@"name"] ) 
    {
        [Name appendString:currentNodeContent];
    }
    if ( [elementName isEqualToString:@"im"] ) 
    {
        [Image appendString:currentNodeContent];
    }
} 
```

//在 // *** *111* ***打印消息，但是当我在调用 xml 解析器后执行此操作时，它不会打印：

```
chatParser = [[NSXMLParser alloc] initWithData:receivedData];
[chatParser setDelegate:self];
[chatParser parse];

 NSLog(@"\n\nMessages...\n\n%@", messages); //here there is no data printing 
```

此时它打印为空..

消息。

```
(
        {
        ID = "";
        IMAGE = "";
        NAME = "";
    },
        {
        ID = "";
        IMAGE = "";
        NAME = "";
    },
        {
        ID = "";
        IMAGE = "";
        NAME = "";
    },
        {
        ID = "";
        IMAGE = "";
        NAME = "";
    },
        {
        ID = "";
        IMAGE = "";
        NAME = "";
    },

) 
```

我已经定义了消息属性并对其进行了综合。在**viewDidLoad**我做了这个

```
 messages=[[NSMutableArray alloc] init]; 
```

谢谢你的帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:29:44.830

使用下面的代码。其中表是 NSObject 类，其中 CaseId、PartyId、CartId 作为此类中的一个属性。如果您有 xml url，只需使用 URl 调用 loadXMLByURL 方法。解析后，您将获得 TableArray 中的每个对象，其中包含表具有上述属性的对象。

```
NSMutableString *currentNodeContent;
NSXMLParser     *parser;
Tweet           *currentTweet;
bool            isStatus;

-(id) loadXMLByURL:(NSString *)urlString
{
    _tweets         = [[NSMutableArray alloc] init];
    NSURL *url      = [NSURL URLWithString:urlString];
    NSData  *data   = [[NSData alloc] initWithContentsOfURL:url];
    parser          = [[NSXMLParser alloc] initWithData:data];
    parser.delegate = self;
    [parser parse];
    return self;
}

- (void) parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
    currentNodeContent = (NSMutableString *) [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}

    - (void) parser:(NSXMLParser *)parser didStartElement:(NSString *)elementname namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
    {
        if ([elementname isEqualToString:@"Table"]) 
        {
            currentTable = [Table alloc];
                isStatus = YES;
        }
    }

- (void) parser:(NSXMLParser *)parser didEndElement:(NSString *)elementname namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
    if (isStatus) 
    {
        if ([elementname isEqualToString:@"CaseId"]) 
        {
            currentTable.CaseId = currentNodeContent;
        }
        if ([elementname isEqualToString:@"PartyId"]) 
        {
            currentTable.PartyId = currentNodeContent;
        }
        if ([elementname isEqualToString:@"CartId"]) 
        {
            currentTable.CartId = currentNodeContent;
        }

    }
    if ([elementname isEqualToString:@"Table"]) 
    {
        [self.tableArray addObject:currentTable];
        currentTable = nil;
        currentNodeContent = nil;
    }
} 
```

如果您有任何疑问，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:48:21.453

你的问题是你一直使用相同`Id, Name, Image`的对象和线条

```
[Id setString:@""];
[Name setString:@""];
[Image setString:@""]; 
```

在每个国家/地区元素的末尾将它们的值设置为“”。

它最好看起来像这样（未经测试，可能有一些错别字）：

```
- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string 
{
  currentNodeContent = (NSMutableString *) [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName 
{
  if ([elementName isEqualToString:@"id"] )
  {
    [lastMessage setObject:currentNodeContent forKey:"ID"];
  }
  else if ( [elementName isEqualToString:@"name"] ) 
  {
    [lastMessage setObject:currentNodeContent forKey:"NAME"];
  }
  else if ( [elementName isEqualToString:@"im"] ) 
  {
    [lastMessage setObject:currentNodeContent forKey:"IMAGE"];
  }
  else if ( [elementName isEqualToString:@"country"] ) 
  {
    NSLog(@"Data in Message : %@", lastObject);
    [messages addObject:lastMessage];
    [lastMessage release];
  }
}

-(void) parser:(NSXMLParser *)parser didStartElement:(NSString *)elName namespaceURI:(NSString *)uri 
{
   if ( [elementName isEqualToString:@"country"] )
   {
     lastMessage = [[NSMutableDictionary alloc]init];
   }
} 
```

# string - 构建倒排索引列表的复杂度

> ID：12294304
> 
> 赞同：0
> 
> 时间：2012-09-06T06:40:10.803
> 
> 标签：string, performance, algorithm, optimization, inverted-index

给定`n`字符串`S1, S2, ..., Sn`和字母集`A={a_1,a_2,....,a_m}`。假设每个字符串中的字母都是不同的。现在我想为每个`a_i (i=1,2...,m)`. 我的倒排索引也有一些特别之处：其中的字母`A`是按顺序排列的，如果倒排索引中 a_i 包含一个字符串（例如`S_2`），则`a_j (j=i+1,i+2,...,m)`不需要再包含`S_2`任何内容。简而言之，每个字符串只在倒排列表中出现一次。我的问题是如何以快速有效的方式建立这样的列表？任何时间复杂度都是有界的？

例如，`A={a,b,e,g}, S1={abg}, S2={bg}, S3={gae}, S4={g}`。那么我的倒排列表应该是：

```
a: S1,S3
b: S2     (since S1 has appeared previously, so we don't need to include it here)
e: 
g: S4 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:51:33.420

如果我正确理解您的问题，一个简单的解决方案是：

```
for each string in n strings
    find the "smallest" character in the string
    put the string in the list for the character 
```

复杂度与字符串的总长度成正比，乘以用于顺序测试的常数。

如果有简单的测试方法（例如字符按字母顺序，全部小写，< 就足够了），只需比较它们即可；否则，我建议使用一个哈希表，其中每一对都是一个字符及其顺序，稍后简单地比较它们。

# javascript - 窗口打开不工作

> ID：12294305
> 
> 赞同：0
> 
> 时间：2012-09-06T06:40:12.237
> 
> 标签：javascript

我想让我的输入文本值成为窗口打开链接的一部分。

这是我的代码：

```
window.open('./modul/mod_input.php?idpo='+
            document.getElementById('idpo').value+'',
            'Window1',
            'menubar=no,width=540,height=360,toolbar=no'); 
```

但它不起作用。但是当我尝试使用此代码时，它可以工作

```
window.open('./modul/mod_input.php?idpo=',
            'Window1',
            'menubar=no,width=540,height=360,toolbar=no'); 
```

所以我认为问题出在`getElementById`

谁能给我一个解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:41:55.973

看起来`idpo`文档中没有具有 id 的元素，因此，尝试访问它`value`会引发错误。确保存在这样的元素。

作为旁注，虽然与您的问题完全无关，但`.value+''`可以替换为`.value`. 附加一个空字符串不会改变最终的字符串，这很重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T06:43:14.197

你有任何带有`id`of 的元素`idpo`吗？如果没有，这段代码甚至不会执行。您可以检查 firefox 的 firebug 控制台或 chrome 的开发人员工具来检查您遇到的错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T06:50:19.037

是的，正如大卫所说 - 确保元素存在。

您可以通过添加来检查它：

```
var element =  document.getElementById('idpo');
if (typeof(element) != 'undefined' && element != null)
{
    alert("Element exists");
}
else {
    alert("Does not exist");
} 
```

# wpf - Surface SDK 库堆栈丢弃事件

> ID：12294306
> 
> 赞同：1
> 
> 时间：2012-09-06T06:40:14.467
> 
> 标签：wpf, xaml, pixelsense

我遇到了 Librarystack drop 事件的问题。我需要更改库堆栈上的放置行为，但是当我在 xaml 中绑定放置事件时，该事件永远不会引发！

```
<s:LibraryStack AllowDrop="True" Drop="infoStack_Drop_1" PreviewDrop="infoStack_Drop_1" x:Name="infoStack" Canvas.Left="1" Canvas.Top="140" Height="280.5" Width="329"  Background="Transparent"> 
```

另一个问题：我可以更改禁用的 SurfaceTextBoxes 的样式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T14:38:08.073

我相信这应该可以解决您的问题：

[http://msdn.microsoft.com/en-us/library/ff727842.aspx](http://msdn.microsoft.com/en-us/library/ff727842.aspx)

“更改默认拖放行为默认情况下，当一个项目从 LibraryBar 控件拖放到另一个控件上时，它会在 LibraryBar 控件中保持非活动（变暗）状态。您可以通过附加一个PreviewDropEvent 事件处理程序到目标控件。”

C＃

```
#region AddPreviewDropHandler
//Add the preview drop event to the stack
SurfaceDragDrop.AddPreviewDropHandler(MainLibraryStack, OnPreviewDrop);
#endregion 
```

“当被拖动的项目被拖放到 LibraryStack 控件上时，会引发附加事件。在事件处理程序中，检查 DragSource 属性是否属于源 LibraryBar 控件。如果是，请将 Effects 属性更改为 DragDropEffects，以便项目已从源 LibraryBar 控件中删除。”

C＃

```
#region OnPreviewDrop
//Add what stack effects you want here
private void OnPreviewDrop(object sender, SurfaceDragDropEventArgs e)
{
    if (MainLibraryBar.IsAncestorOf(e.Cursor.DragSource))
    {
        e.Effects = DragDropEffects.Move;
    }
}
#endregion 
```

# asp.net - 我在哪里可以获得 MVC4 的源代码

> ID：12294307
> 
> 赞同：2
> 
> 时间：2012-09-06T06:40:27.303
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4

我想研究捆绑的实施方式。似乎有默认捆绑，因为我的 MVC 项目知道所有关于添加我没有并且从未明确包含的 javascript。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T08:13:07.570

Bundle 只是一组逻辑文件，可以通过唯一名称引用并使用一个 HTTP 请求加载。有助于您使用这些新功能的两件事是`RegisterTemplateBundles()`和`EnableDefaultBundles()`。

脚本捆绑是 MVC 4 中的一项新功能，要了解有关它的更多信息，请查看[ASP.NET MVC4 中的新功能：捆绑和缩小](http://www.beletsky.net/2012/04/new-in-aspnet-mvc4-bundling-and.html)以及[MVC 4 的另一种捆绑方法](http://odetocode.com/Blogs/scott/archive/2012/03/20/yet-another-bundling-approach-for-mvc-4.aspx)

捆绑和缩小的目的是通过减少对服务器的 HTTP 请求的数量和大小来帮助提高网站的性能。

如果您需要代码示例，可以在 Visual Studio 的 Nuget 包管理器中找到演练和源示例。还有很多其他来源，如果您希望我添加更多内容，请发表评论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:47:12.270

我相信它在：[http ://aspnetwebstack.codeplex.com/](http://aspnetwebstack.codeplex.com/)

# ruby - 加载页面后如何使用 watir-webdriver 更改 css 属性的值？

> ID：12294316
> 
> 赞同：2
> 
> 时间：2012-09-06T06:41:16.527
> 
> 标签：ruby, watir, watir-webdriver

例子：

```
<div id="xxx" style="width: 76px; height: 302px; z-index: 0; text-align: left;"> 
```

我希望 watir-wedriver 自动更改`z-index: 0`，`z-index: -1`否则我必须在脚本休眠时在 Firebug 中手动执行此操作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T13:01:21.177

谢谢，Željko，你的想法！

在这种情况下起作用的代码是

```
browser.execute_script("document.getElementById('xxx').style.zIndex='-1';") 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-06T12:14:08.890

您可以使用以下方式执行任何 javascript：

```
browser.execute_script "javascript_code" 
```

我不是 javascript 专家，所以你必须自己弄清楚那部分。

# php - CIunit 如何支持 HMVC

> ID：12294323
> 
> 赞同：0
> 
> 时间：2012-09-06T06:41:59.100
> 
> 标签：php, codeigniter, phpunit

我在我的 codeigniter 项目中使用 HMVC，因为使用它有助于将我的模块组合在一起，以便更好地组织代码。

[当我按照如何将 PHPUnit (CIUnit) 与 CodeIgniter 2.1.0 一起使用](http://d.hatena.ne.jp/Kenji_s/20120117/1326763908)的 kenjis 教程将 CIunit 与 codeigniter 集成时，当我尝试运行测试时出现错误。

我收到以下错误：

```
[CIUnit] PHP Error: Notice - Trying to get property of non-object File Path: MX/Loader.php (line: 48)

PHP Fatal error:  Call to a member function fetch_module() on a non-object in E:\xampp\htdocs\Project\application\third_party\MX\Loader.php on line 48 
```

我从[CIUnit + HMVC Issue](https://bitbucket.org/kenjis/my-ciunit/issue/7/ciunit-hmvc)阅读了 kenjis 的评论。

然而，他说整合它们是“丑陋的”，而不是“不可能”。有没有人完成这个集成并让 CIUnit 和 HMVC 一起工作？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T20:12:32.997

据我了解，每个模块都是整个 CodeIgniter 框架的迷你版。在我看来你有可能

1.  使用全新框架设置 CIUnit 测试环境
2.  将一个模块的文件添加到相应的文件夹中
3.  做测试
4.  对每个模块重复

首先为每个模块设置测试环境会很繁琐且耗时。但是一旦你设置了它们，你就可以在不修改任何核心文件的情况下测试每个模块。

# jquery - 将 div 框堆叠成两列。但是当右边的盒子被移除时，它后面的所有盒子都应该相应地排列

> ID：12294326
> 
> 赞同：2
> 
> 时间：2012-09-06T06:42:18.540
> 
> 标签：jquery, html, css

我将高度和宽度相同的 div 框堆叠成两列，如下所示： ![在此处输入图像描述](../Images/70fc3cb560666280f3b3419123f0d109.png)

是否有可能使它的行为方式......当左侧的任何框被删除（使用jQuery）时，右侧最上面的框将移动左侧的底部位置。所以本质上，盒子在粉红色箭头指示的方向上移动。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:03:48.077

您可以添加[删除事件](https://stackoverflow.com/questions/2200494/jquery-trigger-event-when-an-element-is-removed-from-the-dom)并在您的 div 框中进行检查。然后将第一个元素附加到另一列

```
$('.yourDivBox').bind('remove', function() {
$('.secondColumn').first().appendTo('.firstColumn');
}); 
```

像这样的东西。抱歉，我没有时间检查我的代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:21:20.610

可以在 CSS3 中完成，某些浏览器可能不支持！我在下面创建了一个示例：

[http://jsfiddle.net/swxn4/](http://jsfiddle.net/swxn4/)

# ruby-on-rails - 如何在 Rails 中使用 Facebook 或 twitter 登录，但出现错误？

> ID：12294331
> 
> 赞同：0
> 
> 时间：2012-09-06T06:42:33.783
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我已按照[http://railscasts.com/episodes/235-omniauth-part-1](http://railscasts.com/episodes/235-omniauth-part-1)和[http://railscasts.com/episodes/236-omniauth-part-2](http://railscasts.com/episodes/236-omniauth-part-2)的教程进行操作，但出现错误

```
You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.[] 
```

我应该怎么办？

更新：错误

```
 app/models/user.rb:9:in `apply_omniauth'
 app/controllers/authentications_controller.rb:18:in `create' 
```

# jquery - Ajax 请求的漂亮小滑入/滑出通知

> ID：12294332
> 
> 赞同：1
> 
> 时间：2012-09-06T06:42:34.897
> 
> 标签：jquery, html, css, ajax, jquery-plugins

在应用程序的许多地方，我都有导致 AJAX 请求的按钮/内联编辑。但是，现在用户没有收到有关该操作的任何反馈。

你知道有什么插件会在我执行请求时在页面顶部显示（滑入）一个小框（类似于 StackOverflow 上的此处，但更小，如 100px 宽度和文本：正在保存...），并在我执行请求时显示消息，然后我可以在请求完成后淡出吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:48:40.463

你可以自己做。只有 CSS 和 JS 发挥作用。:)

### HTML：

```
​&lt;div class="notifications"​​​​​​​​​​&gt;
Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.
</div>​​​​​​​​​​​​​​​​​ 
```

### CSS：

```
​.notifications {border: 1px solid #ccc; background: #f5f5f5; width: 200px; position: absolute; top: 0; left: 0;}​ 
```

### JavaScript：

```
​$(document)​.ready(function(){
    $(".notifications").css("top", -$(".notifications").height());
    setTimeout(function(){
        $(".notifications").animate({top: 0}, 1000);
    }, 1000);
});​ 
```

### 小提琴：http: [//jsfiddle.net/kWuww/](http://jsfiddle.net/kWuww/)

### 插件：

1.  [诺蒂](http://needim.github.com/noty/)
2.  [咆哮](http://archive.plugins.jquery.com/project/Growl)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:46:41.673

我在所有项目中都使用[http://stanlemon.net/pages/jgrowl](http://stanlemon.net/pages/jgrowl)。

编辑：正如@eicto 在评论中所说，[noty 插件](http://needim.github.com/noty/)看起来非常棒，我会从现在开始考虑使用它，因为它有更多的选择。

# java - 在客户端机器上运行 java 代码

> ID：12294339
> 
> 赞同：0
> 
> 时间：2012-09-06T06:43:06.607
> 
> 标签：java, jsp, applet, jsp-tags

我想运行一个使用 JNA 来确定客户端机器是否空闲的 java 代码。此代码必须在客户端 JVM 而不是服务器的 JVM 上运行，因此我不能将代码放在 servlet 中。我能够通过使用小程序来实现这一点。但是由于我不想要任何 GUI 并且希望这段代码在后台运行，有没有办法在 cilent 的 JVM 上运行一段代码？我正在使用`<jsp:plugin type="applet">`. 是做什么`type = "bean"`用的？哪个用bean解决了目的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:59:17.897

如果您想要的只是一个不可见的小程序，为什么不将其绝对定位到屏幕外呢？

# pdf - PDFCreator COM 接口另存为 PDF/A-1b

> ID：12294341
> 
> 赞同：0
> 
> 时间：2012-09-06T06:43:13.517
> 
> 标签：pdf, com

我正在使用 PDFCreator COM 接口创建一个应用程序。

是否可以在 PDFCreator.cCreator.cOptions 中将 PDF/A-1b 设置为“AutosaveFormat”？现在有人吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T09:25:58.540

我得到了它。只需对 PDF/A-1b 使用**options.AutosaveFormat = 9**。

# android - Android：希望从列表视图中选择项目后自动进入下一个字段

> ID：12294346
> 
> 赞同：-5
> 
> 时间：2012-09-06T06:43:26.480
> 
> 标签：android, listview, android-edittext

在我的应用程序中，我有详细信息布局，其中有一个具有卡片类型的列表视图。下面我有edittext。我的要求是，一旦我在卡片类型列表视图中选择了一个项目，文本指示器应该自动进入下一个字段，即编辑文本，但不知道如何做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:47:39.457

您想要自动到达的领域应该获得焦点......

在您的项目单击侦听器中编写此代码：

例如：让该字段成为编辑文本

所以写：`edittext.requestFocus();`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:06:19.513

我们必须在 Onitem click listner.or 中初始化编辑文本

前任： `listview.setOnItemClickListener(new OnItemClickListener() {`

```
 @Override
        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                long arg3) {

            EditText mEditext = (EditText)findViewById(R.id.demoEdit);
        }
    });

 /*(Or in adapter ) */convertview.setOnClickListener(new OnClickListener() {
            private int pos = position;

            @Override
            public void onClick(View v) {

                              EditText mEditext = (EditText )findViewById(R.id.demoEdit);
            }
        }); 
```

# hive - 在 hive 中导入数据平面文件而不定义 hive 表结构

> ID：12294352
> 
> 赞同：5
> 
> 时间：2012-09-06T06:43:45.653
> 
> 标签：hive, metadata, import-from-csv

我可以将 CSV 或任何其他平面文件导入配置单元，而无需先在配置单元中创建和定义表结构。假设我的 csv 文件有 200 列，需要导入到 hive 表中。所以我必须首先在 hive 中创建一个表，并在该 hive 表中定义所有列名和数据类型并导入。有什么方法可以直接导入到 hive 并自动从第一行创建表结构，类似于 sqoop 导入？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-06T15:36:01.123

将 sqoop 与“hive-import”开关一起使用，它将为您创建表[http://archive.cloudera.com/cdh/3/sqoop/SqoopUserGuide.html#_importing_data_into_hive](http://archive.cloudera.com/cdh/3/sqoop/SqoopUserGuide.html#_importing_data_into_hive)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T05:02:35.457

检查 hive-site.xml 以获取属性 javax.jdo.option.ConnectionURL 的值。如果您没有明确定义，默认值将使用相对路径来创建配置单元元存储 (jdbc:derby:;databaseName=metastore_db;create=true)，这将根据您从哪里启动进程而有所不同。这可以解释为什么您无法通过显示表格看到表格。

克服它的方法是使用绝对路径在 hive-site.xml 中定义此属性值

# python - lxml可以解析python中tr的一部分

> ID：12294355
> 
> 赞同：0
> 
> 时间：2012-09-06T06:44:05.170
> 
> 标签：python, lxml

当我使用 lmxl 解析网页时，lxml-xpath 可以获取目标的一部分，请参阅我的代码：

```
import urllib
import lxml.html
url="http://sc.hkex.com.hk/gb/www.hkex.com.hk/chi/market/sec_tradinfo/stockcode/eisdeqty_c.htm" 
file=urllib.urlopen(url).read() 
root=lxml.html.document_fromstring(file)
for company in root.xpath('//tr[@class="tr_normal"]'):
    print  company.text_content().encode('utf-8')  

>>>00325创生控股1,000#     
00326中国星集团50,000#     
00327百富环球1,000  
00328ALCO HOLDINGS2,000#     
00329  
>>> 
```

有两个问题：
1.为什么我得到的只能是000329？其他材料丢失了？
2.为什么我无法获取代码大于000329的公司信息？

![在此处输入图像描述](../Images/6a25a30f611a80896a382a54d0b77b10.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:44:02.867

`read()`不会一次阅读完整的页面。你需要迭代它

从文档中：

> read() 方法，如果 size 参数被省略或为负，则可能直到数据流结束才读取；在一般情况下，没有很好的方法来确定来自套接字的整个流是否已被读取。

# asp.net - 物理网址中的重音字符不起作用

> ID：12294361
> 
> 赞同：1
> 
> 时间：2012-09-06T06:44:31.237
> 
> 标签：asp.net, iis-6, isapi

我尝试打开一个在 url 中有重音字符的链接，然后它不显示页面：

**IIS 服务器**：IIS6 **URL：** bälle-golf-sitemap.xml **错误：**系统找不到指定的文件。 **重写：** ISAPI_Rewrite

在 II7 中，此 URL 工作正常，但是当我们尝试访问具有 IIS6 的服务器上的该页面时，它无法正常工作。

当我在虚拟 URL 中使用重音字符并将该页面重写为没有重音字符时，它工作正常。

请告诉我我缺少什么配置。

谢谢你的帮助。

# javascript - 在 innerHTML appends 中添加元素 标签？

> ID：12294363
> 
> 赞同：0
> 
> 时间：2012-09-06T06:44:41.557
> 
> 标签：javascript, asp.net, html, html-parsing

使用 javascript 我在运行时添加子元素。我的代码是，

```
(function () {
    var divElmt = document.createElement('div');
    var leftPane = document.getElementById('LeftHandPannelContent')
    divElmt.id = "MyPanel";
    divElmt.setAttribute('runat', 'server');
    divElmt.setAttribute('style', 'display:none');
    var htmlTag = "<x:CustomTag runat=\"server\" id=\"sample\">";
    divElmt.innerHTML = htmlTag;
    leftPane.appendChild(divElmt);
}()); 
```

上述方法是一个自调用函数，我使用的Tag是一个自定义标签，它的前缀是在aspx页面的顶部添加的。

问题是，在运行时，innerHTML 有

```
"<?XML:NAMESPACE PREFIX = x/><x:CustomTag id="sample" runat="server"/>" 
```

属性也以不确定的顺序排列。

可能是什么问题？如何在 html 页面中动态添加自定义标签？

**编辑：**

当我在设计时添加自定义标签时，它工作正常。此外，如果我使用 innerText 而不是 innerHTML，则文本会正确更新。但我需要将其呈现为 html 内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:57:12.850

不应该

```
var htmlTag = "<x:CustomTag runat=\"server\" id="\sample\">"; 
```

是

```
var htmlTag = "<x:CustomTag runat=\"server\" id=\"sample\">"; 
```

我将 sample 的 s 之前的 \ 移到了左侧，所以它现在位于 " 之前以进行转义。

# php - ZF：使用 Zend_Controller_Request_Http 的 setQuery/setPost 方法有什么意义？

> ID：12294364
> 
> 赞同：-1
> 
> 时间：2012-09-06T06:44:51.667
> 
> 标签：php, zend-framework

由于这些方法只是在 $_GET 和 $_POST 超全局变量中设置值，有人可以告诉我使用这些方法而不是直接设置值有什么意义吗？我觉得我错过了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T06:56:54.973

最好的论据是：

1.  隐藏 supergloabals，以便您的代码在 PHP 的未来版本修改、弃用或删除它们的功能时仍然有效，就像使用`$HTTP_POST_VARS`等所做的那样。

2.  在 Zend Framework 的未来版本中，可能需要向`setQuery()`和函数添加额外的`setPost()`功能。

# html - HTML 单选按钮：在同一组的按钮之间添加空格

> ID：12294367
> 
> 赞同：7
> 
> 时间：2012-09-06T06:44:59.047
> 
> 标签：html, radio-button

我在表格的 td 的同一行上有 3 个单选按钮，如下所示：

```
<td align="left">
            CHF <input type="radio" name="currency"  id="chf_currency" checked="checked" onChange="currencyChanged()" />
            USD <input type="radio" name="currency" id="usd_currency" onChange="currencyChanged()"/>
            EUR <input type="radio" name="currency" onChange="currencyChanged()"/>
</td> 
```

现在我想在这些单选按钮之间添加一些空格，但我不知道该怎么做。

我尝试使用宽度属性、边距属性但没有任何变化。

非常感谢你。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-06T07:15:04.420

检查[jsbin 上的工作示例](http://jsbin.com/ofoguk/1/edit)

另外，这里是代码：

**HTML：**

```
<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>JS Bin</title>
</head>
<body>
  <td align="left">
            CHF <input type="radio" name="currency"  id="chf_currency" checked="checked" onChange="currencyChanged()" />
            USD <input type="radio" name="currency" id="usd_currency" onChange="currencyChanged()"/>
            EUR <input type="radio" name="currency" onChange="currencyChanged()"/>
</td>
</body>
</html> 
```

**CSS：**

```
input[type="radio"]{
  margin: 0 10px 0 10px;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:00:16.930

在 CSS 中这样使用

```
input[type="radio"]{
      //padding: or margin or line-height for better spaces bettween radio button according to your need and design;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-06T07:04:58.443

试试这个：

> 输入[type="radio"]{margin:10px 0};}

将其放在 css 文件夹或 html 文件的标题部分中。如果你把它放在你的标题部分的 html 文件中，它应该是这样的：

```
<style type="text/css"> 
   input[type="radio"]{margin: 10px 0};} 
</style> 
```

希望这有帮助！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-06T07:11:45.300

如果您不想使用固定`padding`按钮，请考虑用标签包装每个按钮，`<label>`这将使标签也可点击。

HTML：

```
<label>CHF <input type="radio" name="currency"  id="chf_currency" checked="checked" onChange="currencyChanged()" /></label>
<label>USD <input type="radio" name="currency" id="usd_currency" onChange="currencyChanged()"/></label>
<label>EUR <input type="radio" name="currency" id="eur_currency" onChange="currencyChanged()"/></label> 
```

CSS：

```
<style type="text/css">
label + label {
    margin-left: 20px;
}
</style> 
```

[http://jsfiddle.net/9cJJ9/](http://jsfiddle.net/9cJJ9/)

# php - 在 php 中不使用 round() 执行轮函数

> ID：12294377
> 
> 赞同：0
> 
> 时间：2012-09-06T06:45:42.983
> 
> 标签：php

在 php 中不使用 round() 函数 perfrom the round()

```
 $a = "123.45785";
  $v = round($a);
  output: 123.46; 
```

它是通过 round 函数完成的，但我想在不使用 round 和 number_format() 函数的情况下获得输出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:02:54.747

这是用算术做的一种方法：

```
function my_round($num, $places = 2) {
  // Multiply to "move" decimals to the integer part                                  
  // (Save one extra digit for rounding)                                              
  $num *= pow(10, $places + 1);
  // Truncate to remove decimal part                                            
  $num = (int) $num;

  // Do rounding based on the last digit                                        
  $lastDigit = $num % 10;
  if ($lastDigit >= 5)
    $num += 10;

  // Remove last digit                                                          
  $num = (int) ($num/10);
  // "Move" decimals in place, and you're done                                  
  $num /= pow(10, $places);
  return $num;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:06:36.893

你有`sprintf`.

```
$a = "123.45785";
echo sprintf("%01.2f", $a); // output: 123.46 
```

# visual-c++ - 捕获 OpenGL/Direct3D 3rd 方应用程序的屏幕截图

> ID：12294378
> 
> 赞同：3
> 
> 时间：2012-09-06T06:45:51.440
> 
> 标签：visual-c++, mfc

我想在我的 VS2008、MFC、C++ 项目中捕获窗口的内容（客户区）。我曾尝试使用此处描述的 PrintWindow 技术： [如何在 C++ 中将窗口的屏幕截图作为位图对象？](https://stackoverflow.com/questions/7292757/how-to-get-screenshot-of-a-window-as-bitmap-object-in-c)

我还尝试使用以下代码对窗口的内容进行 blitting：

```
void captureWindow(int winId)
{
HDC handle(::GetDC(HWND(winId)));
CDC sourceContext;
CBitmap bm;
CDC destContext;

if( !sourceContext.Attach(handle) )
{
    printf("Failed to attach to window\n");
    goto cleanup;
}

RECT winRect;
sourceContext.GetWindow()->GetWindowRect(&winRect);
int width = winRect.right-winRect.left;
int height = winRect.bottom-winRect.top;

destContext.CreateCompatibleDC( &sourceContext );

if(!bm.CreateCompatibleBitmap(&sourceContext, width, height)) {
    printf("Failed to create bm\n");
    goto cleanup;
}

{
    //show a message in the window to enable us to visually confirm we got the right window
    CRect rcText( 0, 0, 0 ,0 );
    CPen pen(PS_SOLID, 5, 0x00ffff);
    sourceContext.SelectObject(&pen);
    const char *msg = "Window Captured!";
    sourceContext.DrawText( msg, &rcText, DT_CALCRECT );
    sourceContext.DrawText( msg, &rcText, DT_CENTER );

    HGDIOBJ hOldDest = destContext.SelectObject(bm);
    if( hOldDest==NULL )
    {
        printf("SelectObject failed with error %d\n", GetLastError());
        goto cleanup;
    }

    if ( !destContext.BitBlt( 0, 0, width, height, &sourceContext, 0, 0, SRCCOPY ) ){
        printf("Failed to blit\n");
        goto cleanup;
    }

    //assume this function saves the bitmap to a file
    saveImage(bm, "capture.bmp");

    destContext.SelectObject(hOldDest);
}
cleanup:
    destContext.DeleteDC();
    sourceContext.Detach();
    ::ReleaseDC(0, handle);
} 
```

该代码适用于大多数应用程序。然而，我需要捕获屏幕截图的特定应用程序有一个我认为是使用 OpenGl 或 Direct3D 呈现的窗口。这两种方法都可以很好地捕获应用程序的大部分内容，但“3d”区域会变黑或出现乱码。

我无权访问应用程序代码，因此无法以任何方式更改它。

有什么方法可以捕获所有内容，包括“3d”窗口？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T22:59:30.003

您的 3D 区域中的数据是由图形适配器在图形漏斗下方生成的，您的应用程序可能无法从渲染上下文中读取字节数据。在 OpenGL 中，您可以使用 glReadPixels() 将该数据从漏斗中拉回您的应用程序内存中。请参阅此处了解用法： [http ://www.opengl.org/sdk/docs/man/xhtml/glReadPixels.xml](http://www.opengl.org/sdk/docs/man/xhtml/glReadPixels.xml)

# php - 连接时foreach中的变量擦除

> ID：12294379
> 
> 赞同：0
> 
> 时间：2012-09-06T06:45:53.700
> 
> 标签：php, variables, foreach

我已经在互联网上查看过这个问题，但只有在尝试将数组传递给 foreach 并在内部更改它时才会出现问题。我的问题更容易和令人困惑。我有 2 个全局变量：

```
$type="";
$rule=""; 
```

我有这个代码：

```
foreach($cartasxml->children() as $child) {
    $str="insert into cards (title,cost,color,loyalty,type,pow,tgh,hand,life,rules,set,rarity,number,artist,flavor,cost) values('{{{".$child->name."}}}',";
if(isset($child->typelist))
    {
        foreach($child->typelist as $a)
            $type .= "|" . str_replace("{","[",str_replace("}","]",$a->type));
        $str.="'{{{".substr($type,1)."}}}',";
    }
    else
        $str.="NULL,"; 
```

在 foreach 结束时，我会：

```
$type="";
$rule=""; 
```

所以，当我通过打印 $str 看到 $type 的值时，它只显示我包含的最后一个。也许是一个escope问题，但我仍然不知道如何解决它。

有人吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:51:47.883

也许您可以使用数组将所有值推入其中

```
$type_array = array();
$str_array = array();
foreach($cartasxml->children() as $child) {
    $str="insert into cards (title,cost,color,loyalty,type,pow,tgh,hand,life,rules,set,rarity,number,artist,flavor,cost) values('{{{".$child->name."}}}',";
if(isset($child->typelist))
    {
        foreach($child->typelist as $a)
            $type .= "|" . str_replace("{","[",str_replace("}","]",$a->type));
        $str.="'{{{".substr($type,1)."}}}',";

array_push($type_array,$type);
array_push($str_array,$str);

    }
    else
        $str.="NULL,";

print_r($type_array);
print_r($str_array); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:29:44.357

尝试这个：

```
$type = implode('|', 
                array_map(function($a)
                           { return str_replace("{","[",str_replace("}","]",$a->type)) },
                          $child->typelist));
$str .= "'{{{".$type."}}}',"; 
```

# sql - 如何创建一个返回布尔列表的sp？

> ID：12294381
> 
> 赞同：0
> 
> 时间：2012-09-06T06:46:00.087
> 
> 标签：sql, list, stored-procedures

我想构建一个存储过程，它可以根据今天的日期是否在日期列表中返回值 0 或 1。我做了这样的事情（感谢我的堆栈溢出伙伴）：

```
USE [AP_db]
GO
/****** Object:  StoredProcedure [dbo].[usp_pull_holydays]    Script Date: 09/05/2012   14:21:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER  PROCEDURE [dbo].[usp_Is_Holyday]
    @Value varchar(50),
    @Result bit OUTPUT
AS
Begin
    If exists (select 1
                 from Holyday_Date
                where ISOCNTRYDESC = @Value
                  and dateadd(day, 0, datediff(day, 0, Holiday)) = dateadd(day, 0, datediff(day, 0, getdate())) )
        set @Result = 1
    Else
        set @Result = 0
        Select @Result
    End 
```

它适用于一个值，但我的问题是使用 500 个值。所以我的问题是我如何才能发送一个值列表并返回一个 0 和 1 的列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:58:58.363

您可以简单地从存储过程中返回任何选择结果，方法是不使用`output`示例中的变量，而是返回结果集，如下所示：

```
create procedure testProcedure
as
    select * from Holyday
go 
```

不知道您如何运行您的 SP，但这将像任何其他查询一样返回结果集；假设 SP 内的选择结果看起来与下面定义的 #test 表完全相同，您可以例如将上述 SP 的结果插入到临时表中：

```
create table #test(
  [id] int,
  name varchar(64)
)

insert into #test
    exec testProcedure 
```

# threadpoolexecutor - 使用 ThreadPoolExecutor 时如何处理服务器崩溃？

> ID：12294384
> 
> 赞同：2
> 
> 时间：2012-09-06T06:46:20.960
> 
> 标签：threadpoolexecutor

我捕获了 RejectedExecutionException 并正确处理它。但是，我想知道当服务器/jvm突然崩溃时我应该如何捕捉和处理这种情况。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T13:17:10.010

我无法处理这种情况，因为 JVM 本身崩溃了，你不能指望你的任何代码在这段时间内正常运行。

# jquery-ui - 是否可以使用 JavaScript 或 jquery 将 HTML 页面保存为 PDF 可能意味着请编写一些示例代码？

> ID：12294386
> 
> 赞同：1
> 
> 时间：2012-09-06T06:46:30.227
> 
> 标签：jquery-ui

是否可以使用 jquery 将 HTML 页面保存为 PDF 可能意味着请编写一些示例代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:48:36.880

不，您不能在客户端执行此操作。在不涉及本地客户端的情况下，不可能在本地保存文件，因为这对客户端计算机来说是一个安全问题。

# database - 制作自学数据库表格 (pt. 2) 需要帮助通过列表选择来选择表格

> ID：12294396
> 
> 赞同：1
> 
> 时间：2012-09-06T06:47:21.670
> 
> 标签：database, list, vba, ms-access, random

我的数据库中有 37 个表。我使用数字 (1-37) 为每个表命名。我的列表框中有 37 个项目。该列绑定到编号集 (1-37)。

我想从列表中的选定选项中获取值，并使用它来拉出相应的表，该表包含特定主题的问题和答案（此时无关）。

使用下面的代码，我得到运行时错误 2001（您取消了之前的操作）。我使用一个按钮来显示代码选择的随机问题（在我的列表选择尝试之前工作）。

```
txtQuestion = DLookup("Question", List18.Value, "ID = " & randomID) 
```

添加带有 List18.Value 的消息框显示我选择了正确的数字。我不确定该怎么做。

谁能给我一些建议？任何事情都会不胜感激。我使用 Access 2003 并且对它非常陌生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T12:59:06.863

尝试在即时窗口中测试您的表达式：

`? DLookup("Question", List18.Value, "ID = " & randomID)`

# xslt - 如何在使用 XSL-FO 生成的 PDF 中插入换行符

> ID：12294398
> 
> 赞同：3
> 
> 时间：2012-09-06T06:47:24.757
> 
> 标签：xslt, xsl-fo

我正在使用 XSL-FO 和 XML 生成 PDF。在文本框中，用户可以输入“1”之类的数据，然后按 ENTER，然后按“2”、“ENTER”、“3”等。但在 XML 和 PDF 中，输出为“1234567”。如何保留换行符？我已经尝试过了`white-space-collapse`，但这`linefeed-treatment`并`white-space-treatment`没有帮助。

我的 XSL 看起来像：

```
<xsl:template match="AddCmt">
    <fo:block keep-together="always"> Additional Comments 
        <fo:block-container border-style="solid" height="20mm" width="170mm" space-after="5mm"> 
            <fo:block> 
                <xsl:attribute name="id"> 
                    <xsl:value-of select="../CMT_ID"/> 
                </xsl:attribute> 
                <xsl:value-of select="../ANS_CMT"/> 
            </fo:block> 
        </fo:block-container> 
    </fo:block> 
</xsl:template> 
```

当我输入以下内容时：

```
hello
medhavi
saraswat 
```

这是我得到的 XML：

```
<?xml version="1.0" encoding="UTF-8" ?> 
<?xml-stylesheet type='text/xsl' href='e:\tmm-09.3\src\pmod\WorkOrder.xsl'?>
    <Root>
        <WorkOrders>
            <Detail>Id="ANS_436‌​_FLD_1" Label="qq">qq</Detail>
            <Ans Checked="0" Id="ANS_436_FLD_2" Label="ww">ww</Ans>
            <ID>ANS_436_FLD</ID>
            <ANS_FLD>0|0</ANS_FLD>
            <CMT_ID>ANS_436_CMT‌​&lt;/CMT_ID>
            <ANS_CMT>hello medhavi saraswat</ANS_CMT>
            <Warning>
                <Line>warning 11</Line>
                <Line>22</Line>
                <Line>33</Line>
                <Line>44</Line>
                <Line></Line>
                <Line>66</Lin‌​e>
                <Line>77</Line>
                <Line></Line>
            </Warning> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-06T07:52:06.630

它应该与以下 xml 一起使用（您应该添加所有属性）：

```
<xsl:template match="AddCmt">
    <fo:block keep-together="always"> Additional Comments 
        <fo:block-container border-style="solid" height="20mm" width="170mm" space-after="5mm"> 
            <fo:block wrap-option="wrap" linefeed-treatment="preserve" white-space-collapse="false" white-space-treatment="preserve"> 
                <xsl:attribute name="id"> 
                    <xsl:value-of select="../CMT_ID"/> 
                </xsl:attribute> 
                <xsl:value-of select="../ANS_CMT"/> 
            </fo:block> 
        </fo:block-container> 
    </fo:block> 
</xsl:template> 
```

但正如我在评论中提到的，如果您的 XML 已经没有换行符，那么您的 PDF 就不可能。您在问题中提到您的 XML 中没有换行符，因此 PDF 中没有换行符。

尝试检查为什么 XML 中没有换行符。如果您可以提供更多信息（您的一段 XML、您用于构造 XML 的代码……），请编辑您的答案并添加信息。

# windows-7 - Windows 7 命令提示符：如何从命令行执行批处理脚本？

> ID：12294400
> 
> 赞同：9
> 
> 时间：2012-09-06T06:47:26.683
> 
> 标签：windows-7, batch-file, cmd, command-prompt

我使用的是 Windows 7，我的问题是从控制台 (cmd.exe) 运行此文件：

```
W:\software\projects\myproject\build\msvc\build.bat 
```

当我手动进入包含该文件的文件夹并使用以下命令序列从那里运行它时，它可以工作：

```
W:\>cd software
W:\software>cd projects
W:\software\projects>cd myproject
W:\software\projects\myproject>cd build
W:\software\projects\myproject\build>cd msvc
W:\software\projects\myproject\build\msvc>build.bat 
```

但是，当我尝试以以下任何一种方式从根目录运行文件时：

```
W:\>software\projects\myproject\build\msvc\build.bat
W:\>call software\projects\myproject\build\msvc\build.bat
W:\>@call software\projects\myproject\build\msvc\build.bat
W:\>"software\projects\myproject\build\msvc\build.bat"
W:\>call "software\projects\myproject\build\msvc\build.bat"
W:\>@call "software\projects\myproject\build\msvc\build.bat" 
```

我收到以下错误消息：

```
The system cannot find the path specified. 
```

我很确定当我使用 Windows XP 时，您不必导航到包含该文件的文件夹即可运行它（当然我可能是错的），但这显然是 Windows 的情况7\. 还是我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:52:47.903

你是对的。在执行之前，您不需要导航到批处理脚本文件夹。错误“系统找不到指定的路径”。很可能是由批处理文件中的某些内容引起的。

尝试添加

```
cd W:\software\projects\myproject\build\msvc
w: 
```

或在单个命令中（如 James K 所建议，谢谢！）

```
cd /d W:\software\projects\myproject\build\msvc 
```

搜索了一下，发现了这个通用的解决方案：

```
cd /d %~dp0 
```

在批处理文件的顶部将工作目录设置为脚本的目录，以检查这是否是原因。

如果您从 W:\ 执行文件，这是执行命令的位置（工作目录）。您的脚本很可能在此位置找不到它使用的某些文件。

# php - 提交后多部分表单$_FILES数组为空，但文件上传

> ID：12294403
> 
> 赞同：1
> 
> 时间：2012-09-06T06:47:49.360
> 
> 标签：php, arrays, file-upload, multipartform-data

我有一个多部分表单，我允许用户在其中选择放置在数组中的多个文件。这是我的代码的缩小部分：

```
<form id="fileupload" action="upload.php" method="POST" enctype="multipart/form-data">
    <input type="file" name="files[]" multiple>
</form> 
```

在我的**upload.php**文件中，我想写入一个文本文件并放置每个文件中的信息（不管它的格式如何，数组都可以）。

```
$date = $_POST["date"];
$files = $_POST["files"];

$myFile = $date . ".txt";
$fh = fopen($myFile, 'w') or die("cant_open_file");
$stringData = "Date: " . $date . "\n";
$stringData .= "Uploaded Files:\n";
$stringData .=  $file; // prints nothing?
fwrite($fh, $stringData);
fclose($fh); 
```

但是，什么都没有**`$file`**打印。

## 问题

如何将用户选择的每个文件的文件信息打印到我的文本文件中？

## 期望的输出

```
Date: Todays Date
Files: 2 file(s)
    File: someimage1.png
    Size: 10KB

    File: someimage1.png
    Size: 20KB 
```

## 更新

由于某种原因，**`$_FILES['files']`**提交时为空白，但我在使用前面的示例时，**“文件：”和“大小：”**打印出来，但**`$file['name']`**似乎**`$file['size']`**为空白。另外，假设我选择了 3 个文件，“文件/大小”打印了 5 次（建议选择了 5 个文件）。这对于选择的任何数量的文件都是相同的。我确保正确的值也在**php.ini**中。不知道从这里去哪里。

```
foreach($files as $file){
    $stringData .=  "   File: ".$file['name']."\n"; // return blank
    $stringData .=  "   Size: ".$file['size']."\n"; // return blank
} 
```

另外，我正在使用[**jQuery File Upload Demo**](http://blueimp.github.com/jQuery-File-Upload/)。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T06:49:25.233

用于`$files = $_FILES["files"];`获取上传的文件信息。

[POST 方法上传](http://www.php.net/manual/en/features.file-upload.post-method.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:50:26.283

您可以在`$_FILES`数组中使用循环：

```
foreach($files as $file){
    $stringData .=  "File: ".$file['name']."\n";
    $stringData .=  "Size: ".$file['size']."\n";
} 
```

确保你使用[move_uploaded_file()](http://uk.php.net/move_uploaded_file)因为你只将它们存储在`/tmp`文件夹中，你会丢失它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T06:50:42.680

利用

```
$files = $_FILES['files'];

echo "<pre>";
print_r($files); 
```

代替

```
$files = $_POST["files"]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-06T06:51:01.383

请尝试使用`$_FILES`如下代替`$_POST['files']`：

print_r($_FILES['files'])

# c++ - pcre 错误“未定义的符号：_ZN7pcrecpp2RE6no_argE”

> ID：12294404
> 
> 赞同：1
> 
> 时间：2012-09-06T06:47:50.187
> 
> 标签：c++, pcre, centos5

我收到以下错误：

```
./pcrecpp: symbol lookup error: ./pcrecpp: undefined symbol: _ZN7pcrecpp2RE6no_argE 
```

在 CentOS 5.4 上运行我的程序时。但它在 CentOS 6.2 上运行良好。pcre的版本是8.31，pcre++的版本是0.9.5。下面是源代码。感谢您的任何指导。

```
#include <iostream>
#include <pcrecpp.h>

int main(int argc, char ** argv)
{
    if (argc != 3)
    {
        std::cerr << "Usage: " << argv[0] << " pattern text\n";
        return 1;
    }

    pcrecpp::RE oPattern(argv[1]);
    if (oPattern.FullMatch(argv[2]))
    {
        std::cout << argv[2] << " fully matches " << argv[1] << "\n";
    }
    else if (oPattern.PartialMatch(argv[2]))
    {
        std::cout << argv[2] << " partially matches " << argv[1] << "\n";
    }
    else
    {
        std::cout << argv[2] << " dose not match " << argv[1] << "\n";
    }
} 
```

# c# - 如何按日期范围和两个文本框过滤 Gridview？

> ID：12294406
> 
> 赞同：0
> 
> 时间：2012-09-06T06:47:53.840
> 
> 标签：c#, asp.net, .net

我有一个名为 Date 的列的 Gridview，我想放置 2 个文本框来接收日期范围并在我按下按钮事件时过滤 gridview。

我该怎么做？不使用 SQL 查询？我想最好的解决方案是使用过滤属性，但我无法弄清楚 sintaxis。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:53:35.037

有`filterexpression`，`<asp:sqldatasource>`所以你可以像这样过滤它：

```
filterexpression="date between '{0}' and '{0}'"
<filterparameters>
  <asp:controlparameter controlid="textbox" propertyname="Text" />
</filterparameters> 
```

此处提供参考：[Filter Gridview](http://forums.asp.net/p/1034014/2904713.aspx)

# c# - 从文本框中获取特定值到网格视图中？

> ID：12294417
> 
> 赞同：2
> 
> 时间：2012-09-06T06:48:50.467
> 
> 标签：c#, sql, database, tsql, c#-4.0

我是数据库新手，所以请忽略我的询问方式！

我有两个从日期命名的文本框，其中包含日历的日期，现在我想在网格视图中根据这些文本框中选择的特定日期从它们中获取数据。

我已经为此操作创建了存储过程，但我对我的存储过程不太确定。

这是我的存储过程

```
select * from cor_leave 
where dt_from >= @dt_from and dt_from <= @dt_to 
```

我走对了，或者如果我做错了什么，请帮帮我？或者有什么办法可以解决我的问题？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T06:51:53.880

是的，你走对了。但是，请注意，`dt_from`必须是与数据类型兼容的数据类型`date`，以便为您提供您正在寻找的正确日期范围。

您也可以使用`BETWEEN`代替`>=`and `<=`：

```
SELECT *
FROM cor_leave 
WHERE dt_from BETWEEN @dt_from AND @dt_to 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T06:52:40.197

您应该以这种方式查询：

```
select * from cor_leave 
where dt_from between @dt_from and @dt_to 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T09:45:50.590

除了其他答案外，您的`dt_to`遗体可能会发生`NULL`。

在这种情况下，您的查询将不会带来`@dt_to`为空的记录。

为避免此类问题，请参阅以下查询：

```
SELECT * 
FROM cor_leave  
WHERE dt_from BETWEEN @dt_from AND ISNULL(@dt_to,dt_from) 
```

# url - Alfresco CMIS，文件下载错误的文件名

> ID：12294418
> 
> 赞同：0
> 
> 时间：2012-09-06T06:48:52.463
> 
> 标签：url, filenames, alfresco, cmis

我有一个通过 CMIS 与 Alfresco 安装集成的网站。问题是我从 Alfresco 获得的内容网址很难看。主要问题是文件名是“content.xxx”（xxx-是文件扩展名）。

在另一个项目中，我们通过通过网站将文档流式传输到访问者来解决了这个问题，但是对于这种情况（内部网络），它没有任何意义，只会引入另一个问题来源。但是我不能让用户接受 content.xxx 作为他们将要使用的所有文件的文件名，所以我需要一种方法来解决这个问题。

毕竟，通过网站流式传输文件是我的最佳选择吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T15:03:05.550

看来您可能正在使用已弃用的 CMIS URL。当我使用适当的 CMIS URL 和 AtomPub 绑定 (/alfresco/cmisatom) 获取名为“test.txt”的对象的内容流时，我使用以下 URL：/alfresco/cmisatom/1b8980cc-1f1b-4ac3-b26f-17aeee0cefc9 /content/test.txt?id=workspace%3A%2F%2FSpacesStore%2Fc20d54f9-01b6-4c80-861b-094c2246ab21%3B1.0

如果我随后使用已弃用的 URL (/alfresco/s/api/cmis) 进行连接，则内容流 URL 变为：/alfresco/s/cmis/s/workspace:SpacesStore/i/c20d54f9-01b6-4c80-861b-094c2246ab21/content 。文本文件

您能否再次检查您使用的是非弃用 URL 并查看这是否解决了您的问题？

# passwords - RestKit如何检查错误的用户名或密码错误

> ID：12294421
> 
> 赞同：0
> 
> 时间：2012-09-06T06:49:04.093
> 
> 标签：passwords, restkit

如果用户输入了错误的用户名/密码，或者例如数据库已关闭，我希望能够通知用户。我不确定是否需要在 didLoadResponse 中执行此操作，只需检查响应是否为 isOK 或 didFailLoadWithError 中。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T13:21:19.550

您如何处理它取决于您如何执行登录。

如果您通过在请求的标头中传递用户名和密码进行基本身份验证，那么您将从正在调用的服务中收到错误消息。您的委托方法“objectLoader:didFailWithError:”方法将被调用。如果后端出现灾难性问题（例如数据库关闭），则很可能会调用此方法。

如果您有一个单独的 web 服务来执行登录操作，那么它可能会发回一个有效块，指示用户密码是否有效。在这种情况下，您的“objectLoader:didLoadObject:”方法可能会被调用，您必须适当地破译结果。

请记住，此行为完全由后端服务的操作控制。如果您不能直接与从事服务的人员交谈，那么这可能只是反复试验，直到您发现这些服务是如何工作的。

# c++ - vc++10中的模板私有继承不可访问

> ID：12294422
> 
> 赞同：7
> 
> 时间：2012-09-06T06:49:12.693
> 
> 标签：c++, templates, visual-c++, private-inheritance

以下代码使用 GCC 4.4.6 和 Comeau 4.3.10 进行编译。

```
#include <iostream>

struct A { int name; };
template<typename T> struct C : T { using T::name; };
struct B : private A { friend struct C<B>; };

int main()
{
    C<B> o;
    o.name = 0;
} 
```

它在 VC++10 中给出了以下错误：

> ```
> main.cpp(4): error C2877: 'A::name' is not accessible from  'A'
> main.cpp(10): error C2247: 'A::name' not accessible because 'B' uses 'private' to inherit from 'A' 
> ```

什么是允许的好的交叉编译器解决方法`o.name = 0;`？

**注意：**添加`using A::name`到`B`解决了这个问题，但是将`A::name`成员发布给每个人，而它应该只对特定的模板实例可见，即`C<B>`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-06T07:59:34.993

解决方法是@kerrekSB 建议的，`using A::name;`在类中添加`B`：

```
struct A { int name; };
template<typename T> struct C : T { using T::name; };

struct B : private A { 
using A::name; 
friend struct C<B>;
}; 
```

您的初始示例不起作用，因为类`A`是私有的`B`并且类`C<B>`是朋友的，`B`但是当您`name`从对象访问成员时`C<B>`，行`using T::name;`会产生问题，因为该类`B`中没有任何成员`name`。`name`当您尝试通过类对象访问该成员时，它是范围搜索`B`

编辑 ：

> 将 using A::name 添加到 B 可以解决问题，但会将 A::name 成员发布给所有人，而它应该只对特定模板实例化可见，即 C

`using A::name;`如果是这种情况，那么只需在类的私有部分中声明语句，`B`即

```
struct B : private A {
protected: using A::name; 
public:
friend struct C<B>;
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T08:10:21.487

*在使用成员 using-declarations*时，gcc 和 VC++ 之间的可见性考虑似乎存在根本差异；检查这个没有模板的简化示例：

```
struct A { int name; };
struct B: private A { friend struct C; };
struct C: B {using B::name; };

int main()
{
   C o;
   o.name = 0;
} 
```

它将在 gcc 上编译，但不能在 VC++ 上编译（与问题中的错误基本相同）。将不得不咨询谁做对的标准......

# blackberry - BlackBerry - 当 UI 应用程序未打开时，如何在后台线程中访问数据库（或创建 HTTP 连接）

> ID：12294423
> 
> 赞同：2
> 
> 时间：2012-09-06T06:49:16.077
> 
> 标签：blackberry

**概述：**

我们的应用程序扩展了一个 UIApplication 并有一个在启动时注册的 SMS Listener 类。当收到符合我们标准的消息时，我们会处理该消息，然后我们希望将其保存到本地 SQLite 数据库并将其上传到 Web 服务器。重要的是，在收到 SMS 后尽快发生这种情况，即使 UI 应用程序在那个阶段没有打开。

**问题：**

当 SMSListener 实例在后台运行，没有 UIApplication 实例处于活动状态，并且想要访问 SQLite 数据库或尝试创建 HTTP 连接时，会抛出“No Application Instance”异常。

**期望的结果：**

即使 UIApplication 未处于活动状态，我们也希望处理、保存和上传来自 SMSListener 后台线程的所有消息。目前 SMSListener 后台线程会将消息存储在 RuntimeStore 中；当 UI 应用程序启动时，它会从 RuntimeStore 读取消息并将其保存到数据库中。虽然这不是最佳解决方案，因为与 Web 服务器的同步也只会在下次打开 UI 应用程序时发生。重要的是它在收到消息时进行同步。

**应用程序伪代码：**

Main Class，检查启动并创建 SMSListener 实例或从 RuntimeStore 获取实例。

```
public class OurAppUi extends UiApplication {
public static void main(String[] args) {
    if (args != null && args.length > 0 && args[0].endsWith("gui")) {
        // Create a new instance of the application and make the currently
        // running thread the application's event dispatch thread.
        OurAppUi theApp = new OurAppUi();
        theApp.enterEventDispatcher();
    } else {
        // Entered through the alternate application entry point
        SmsListener.waitForSingleton();
    }
}
} 
```

SMSListener 类使用 RuntimeStore 单例模型侦听任何传入消息。这按预期工作。

```
public class SmsListener implements javax.wireless.messaging.MessageListener {
public static SmsListener waitForSingleton() {
    //Ensure this is a singleton instance.
    //Open RuntimeStore and obtain the reference of BackgroundListener
    RuntimeStore store = RuntimeStore.getRuntimeStore();
    Object obj = store.get(ID_BACKGROUND_LISTENER);

    //If obj is null, there is no current reference to BackgroundListener
    //Start a new instance of BackgroundLIstener if one is not running
    if(obj == null) {
        store.put(ID_BACKGROUND_LISTENER, new SmsListener());
        return (SmsListener)store.get(ID_BACKGROUND_LISTENER);
    } else {
        return(SmsListener)obj;
    }
}

public void notifyIncomingMessage(MessageConnection conn) {
    new Thread() {
        MessageConnection connection;
        Thread set (MessageConnection con) {
            this.connection = con;
            return (this);
        }

        public void run() {
            try {
                Message m = connection.receive();
                String msg = null;

                if (m instanceof TextMessage) {
                    TextMessage tm = (TextMessage)m;
                    msg = tm.getPayloadText();
                }
                // Process the SMS
                SMSObject sms = processSMS(msg);
                // Save to DataBase { Exception is Thrown Here }
                SQLManager.getInstance().save(sms);
                // Upload to Web Server { Exception is Thrown Here }
                WebServer.upload(sms);

            } catch(Exception error) {
            }
        }
    }.set(conn).start();

}
} 
```

当 SmsListener 实例想要访问 SQLite 数据库或尝试创建 HTTP 连接时，会抛出“No Application Instance”异常。

```
public final class SQLManager {
private SQLManager() {
    try {
        db = OpenOrCreateDatabase();
    } catch (MalformedURIException e) {
        Debug.log(TAG, "Get connection: URI: " + e.getMessage());   
    } catch (ControlledAccessException e) {
        Debug.log(TAG, "Get connection: Controlled Access: " + e.getMessage()); 
    } catch (DatabasePathException e) {
        Debug.log(TAG, "Get connection: Database Path: " + e.getMessage()); 
    } catch (DatabaseIOException e) {
        Debug.log(TAG, "Get connection: Database IO: " + e.getMessage());   
    } catch (Exception e) {
        Debug.log(TAG, e);  
    }
}

public static synchronized SQLManager getInstance() {
    if (instance == null) {
        instance = new SQLManager();
    }
    return instance;
}
} 
```

我们尝试将 SQLite 实例存储在 RuntimeStore 中，使用与 SMSListener 相同的单例模型，但当 UI 应用程序尝试访问存储的数据库实例时收到错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T13:39:43.993

一般来说，处理此类活动的方法是将应用程序分为两部分：

1.  需要 UI 且仅在用户想要与应用程序交互时才运行的用户交互部分；
2.  将存储数据并与远程服务器通信的后台处理部分。

后台处理应该在 net.rim.device.api.system.Application 扩展的上下文中进行，这可能应该是基于 RuntimeStore 的单例。这部分应该从您的自动运行代码开始，注册侦听器并保持活动状态。确保代码在正确的上下文中执行涉及一些复杂性。我有一篇[博文](http://www.hrbuckley.net/2012/03/blackberrry-singletons-application.html)可能会有所帮助。

# iphone - 在 xcode 中使用 UIAccelerometer 计算距离

> ID：12294433
> 
> 赞同：0
> 
> 时间：2012-09-06T06:49:38.030
> 
> 标签：iphone, xcode

我正在实现一个应用程序来测量它移动了多少距离。例如，如果我的设备从我的桌子跌落到地面，那么我想计算距离。所以请帮我这样做。如果我的问题不清楚，请告诉我。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:53:51.013

你的问题很清楚：你想计算加速度的二级积分，这在理论上是可能的，假设速度在某个时候为零，但我真的怀疑你能得到足够精确的东西以使任何意义（如在许多积分计算）。

今天没有这样做，因为错误太大。在硬件中完成（用于永久集成加速）可能会更精确一些，但可能不足以真正计算“准确度”这个词的任何可接受意义上的距离。

如果您想自己尝试，这里有一份文档更详细地描述了该方法： http: [//perso-etis.ensea.fr/~pierandr/cours/M1_SIC/AN3397.pdf](http://perso-etis.ensea.fr/~pierandr/cours/M1_SIC/AN3397.pdf)

# jquery - jquery 与其他 javascript 库没有冲突

> ID：12294435
> 
> 赞同：4
> 
> 时间：2012-09-06T06:49:40.203
> 
> 标签：jquery

我有一个可以添加到任何网站的 jQuery 小部件。我正在使用 jQuery1.7。我怀疑它会与其他 javascript 库 jQuery 旧版本、mootools、原型等发生冲突）。我找到了方法`jquery.noconflict()`。任何人都可以给我使用的确切语法以及在我的脚本中添加它的位置吗？

提前感谢您的回复。

感谢 Shlomi Komemi 提供链接。

我正在更新这个链接的答案

[我可以在同一页面上使用多个版本的 jQuery 吗？](https://stackoverflow.com/questions/1566595/can-i-use-multiple-versions-of-jquery-on-the-same-page)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:51:30.340

```
<script src="jquery-1.6.4.min.js"></script>
<script>jQuery.noConflict();</script> 
```

但是一旦完成，您必须确保始终使用整个单词而不是 $ 符号来调用 Jquery。

# hadoop - Hadoop：一次写入多次读取

> ID：12294437
> 
> 赞同：1
> 
> 时间：2012-09-06T06:49:55.733
> 
> 标签：hadoop

我是 Hadoop 编程的新手，在我读过的所有关于 Hadoop 的文章中，有一条声明说 hadoop 遵循一次写入和多次读取的范式。

在 Hadoop 中，一次写入并多次准备好是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T08:27:43.400

在早期版本的 Hadoop 中，不支持追加操作。一旦文件在 HDFS 中，它就是不可变的。因此，您将文件放入 HDFS 一次，并且可以读取文件“n”次。

HBase支持数据追加，是hadoop的数据库。

# iphone - 检查应用程序的心跳

> ID：12294438
> 
> 赞同：0
> 
> 时间：2012-09-06T06:49:58.060
> 
> 标签：iphone, objective-c, webserver, background-process, heartbeat

我想为我的应用程序实现心跳。在这个模块中，我的 iOS 应用程序会定期向我的服务器发送字节数据。我需要这个，因为服务器希望设备在发送请求时与服务器保持联系。

问题：如果应用程序被用户退出，心跳（数据字节）将如何发送到服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T09:35:08.507

唯一可以做到的方法是将您的应用程序注册为*VoIP 类型*（最有问题的部分，因为如果您的应用程序不是*信使/会议/社交*类型的应用程序，Apple 可能会拒绝它），然后`NSStream`与`NSInputStream`/`NSOutputStream`和`<NSStreamDelegate>`接口一起使用来发送/接收心跳。

# javascript - 如何将数组拆分为单词，同时在 JavaScript 或 AS3 中将方括号内的单词保持在一起？

> ID：12294439
> 
> 赞同：0
> 
> 时间：2012-09-06T06:50:00.793
> 
> 标签：javascript, regex, arrays, actionscript-3, split

我正在尝试在 AS3 和/或 JavaScript 中编写一个函数，它可以让我获取一个包含在方括号中的单词的字符串并将它们放在一起，同时拆分其余部分。因此，例如，它将采用这样的句子：

> 这是 [方括号] 中包含 [词组] 的句子的 [示例]。

并将其变成这样的数组：

```
[This,is,an example,of,a,sentence,that,has,groups of words,enclosed,in,square brackets.] 
```

实现这一目标的最有效方法是什么？我猜它会使用某种正则表达式，可能带有前瞻和/或后视。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:49:09.543

这个正则表达式应该这样做： /[^[][([^]]+)]|(\w+)/g;

它搜索方括号内的所有单词，并在外面创建一个组或所有单词。

示例（javascript）：

```
var testStr="This is [an example] of a sentence that has [groups of words] enclosed in [square brackets.]";

var reSentence = /[^\[]\[([^\]]+)\]|(\w+)/g;
var matchObject;
var result=[];
while(matchObject=reSentence .exec(testStr))
      result.push(matchObject[1] || matchObject[2]);
console.log(result); 
```

javascript 实时示例：http: [//jsfiddle.net/UNxB9/](http://jsfiddle.net/UNxB9/)

示例（as3）：

```
var testStr:String="This is [an example] of a sentence that has [groups of words] enclosed in [square brackets.]";

var reSentence:RegExp = /[^\[]\[([^\]]+)\]|(\w+)/g;
var matchObject:Object;
var result:Array=[];
while(matchObject=reSentence .exec(testStr))
      result.push(matchObject[1] || matchObject[2]);
trace(result); 
```

as3 现场示例：[http ://wonderfl.net/c/2MiG](http://wonderfl.net/c/2MiG)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:18:38.833

只是在这里大声思考......我的第一次尝试是匹配正则表达式，然后用某种独特的符号存储和替换括号（和内容）。然后用空格分割字符串，然后用括号内容替换数组中的符号，顺序与删除的顺序相同。

目前不确定效率，但你必须从某个地方开始。希望这能让事情顺利进行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:19:07.807

这将做到：

```
function splitWithBracket(str) {
    var out = str.split(" "), i = 0, begin, end;

    function findNext(chr) {
        while (i < out.length) {
            if (out[i].indexOf(chr) != -1) {
                out[i] = out[i].replace(chr, "");
                return(i);
            }
            i++;
        }
        return(-1);
    }

    do {
        end = -1;
        begin = findNext("[");
        if (begin != -1) {
            end = findNext("]");
            if (end != -1) {
                var tmp = out.splice(begin, end - begin + 1);
                out.splice(begin, 0, tmp.join(" "));
                i = begin + 1;
            }
        }
    } while (end != -1);
    return(out);
} 
```

工作演示：http: [//jsfiddle.net/jfriend00/jLNXa/](http://jsfiddle.net/jfriend00/jLNXa/)

或使用正则表达式替换/匹配的版本：

```
function splitWithBracket(str) {
    str = str.replace(/\[([^\]]*)\]/g, function(m, p1) {
            return(p1.replace(/ /g, "!!xx!!"));
    });
    var out = str.split(" ");
    for (var i = 0; i < out.length; i++) {
        out[i] = out[i].replace(/!!xx!!/g, " ")
    }
    return(out);
} 
```

工作演示：http: [//jsfiddle.net/jfriend00/Hbjzk/](http://jsfiddle.net/jfriend00/Hbjzk/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T07:24:00.497

试试这个：

```
var str = 'This is [an example] of a sentence that has [groups of words] enclosed in [square brackets.]';
var finder = /\[?([^\[\]]+)\]?/g;
var result;
while( ( result = finder.exec( str ) ) !== null ){
    console.log( result );
} 
```

祝你好运！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-06T07:25:11.870

这将完成工作， http: [//jsfiddle.net/mwfHn/2/](http://jsfiddle.net/mwfHn/2/)：

```
 <script>
    myStr = "This is [an example] of a sentence that has [groups of words] enclosed in [square brackets.]";
    myStr = myStr.replace(/\[[a-zA-Z. ]+\]/g, function(match){ return match.replace(/\s+/g,"#").replace(/\[|\]/g,""); }).split(" ").join(",").replace(/#/g," ");
    alert(myStr);
   </script> 
```

# internet-explorer-8 - 如何在 IE 中始终启用开发人员工具

> ID：12294440
> 
> 赞同：3
> 
> 时间：2012-09-06T06:50:04.127
> 
> 标签：internet-explorer-8, ie-developer-tools

如何在 IE 中始终启用开发人员工具。

每次我设置启用开发人员工具（通过菜单或按 F12）时，以前的设置（如网络捕获、分析器打开）都会重置为默认值。

但 Firebug 并非如此 :(

任何注册表设置总是在 IE9/IE10 中启用开发者工具？

感谢 HydPhani

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-02T21:38:45.013

HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\IEDevTools 将“禁用”修改为“启用”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-21T11:43:30.117

我无法找到位于*HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\IEDevTools*的密钥。在搜索了很长时间后，我发现这个键可以解决问题：

*   HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Internet Explorer\IEDevTools

只需将禁用设置为0。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-27T17:15:49.030

您不能将网络工具或脚本分析器配置为默认记录。一旦 F12 打开，它们必须手动启动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-13T08:28:38.320

[https://social.technet.microsoft.com/Forums/ie/en-US/275dd263-8b88-498f-901f-43e9b05a4cb2/f12-developer-tools](https://social.technet.microsoft.com/Forums/ie/en-US/275dd263-8b88-498f-901f-43e9b05a4cb2/f12-developer-tools)

12 开发者工具可以通过组策略禁用。

由于您使用的是 Windows 10 家庭版，我们可能会考虑更改以下注册表以禁用 Internet Exploer 11 下的 F12 开发人员工具：

HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\IEDevTools

在右窗格中，创建一个 REG_DWORD 32 位值“已禁用”，并将该值设置为“0x00000001”。

然后你会发现 F12 开发者工具并没有在 Internet 设置列表中列出，并且 F12 不起作用；

要在 Microsoft Edge 下禁用 F12 工具，请打开 regedit.exe 并导航到以下路径：

HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\MicrosoftEdge\F12（如果没有这样的存档，创建一个）

在右侧窗格中，添加一个名为“AllowDeveloperTools”的 REG_DWORD 32 位值，将值设置为“0x00000000”

这将禁用 Microsoft Edge 下的 F12 工具。

# embedded - 晶核 MPU 时钟频率差异

> ID：12294442
> 
> 赞同：3
> 
> 时间：2012-09-06T06:50:10.340
> 
> 标签：embedded, embedded-linux, armv7, omap, clockrates

我有一个嵌入式系统，启动时显示如下：

时钟频率（Crystal/Core/MPU）：12.0/400/1000 MHz

谁能解释一下这三个时钟频率之间的差异。处理器为 ARMv7、OMAP3xxx

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T14:20:56.970

正如 Clement 提到的，这`12.0`是外部振荡器的频率，以 MHz 为单位。是内部 PLL 的频率`Core`。`MPU`

[MPU](http://processors.wiki.ti.com/index.php/AM35x_Overview#Microprocessor_Unit_.28MPU.29_Subsystem)是微处理器单元子系统。这是实际的 Cortex-A8 内核以及一些密切相关的外围设备。所以你的 MPU 以 1000 MHz 或 1GHz 运行。这类似于计算机中的 CPU 频率。

在 AM335x 中，[Core PLL](http://processors.wiki.ti.com/index.php/AM35x_To_AM335x_Hardware_Migration_Guide#PLLs)负责以下子系统：SGX、EMAC、L3S、L3F、L4F、L4_PER、L4_WKUP、PRUSS IEP、Debugss。根据您使用的特定芯片，子系统可能略有不同。您的运行频率为 400MHz。这可以被认为类似于您计算机中的前端总线 (FSB) 频率，尽管类比并不准确。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T11:52:53.910

12 Mhz 是板上晶体振荡器的频率，用于提供时间参考。

TI OMAP 包含 2 个内核：一个 ARM 和一个 DSP。这里使用的术语不清楚，但可能是这些内核的频率。检查您的数据表以确保。

# iphone - 如何按整数对数组进行排序

> ID：12294445
> 
> 赞同：0
> 
> 时间：2012-09-06T06:50:20.570
> 
> 标签：iphone, objective-c, ios

我正在尝试对我的记分牌进行排序，但记分牌是按名称排序的，但我想按分数排序，即（从高到低）分数请帮助解决这个问题。我将玩家姓名和分数详细信息存储在一个标签中。
请帮助我提前谢谢

asd 45 asd 66 rrr 55 测试 42

我想表现得像

asd 66 rrr 55 asd 45 测试 42

```
-(void)btnSaveScore
{
    if(!dictWinData)
        dictWinData = [[NSMutableDictionary alloc] init];

    array = [[NSMutableArray alloc] init];
    array = [[[NSUserDefaults standardUserDefaults] valueForKey:@"ScoreName"] mutableCopy];
    if([array count] == 0)
    {
        array = [[NSMutableArray alloc] init];
    }

    NSString *strName = [NSString stringWithFormat:@"%@",strNameOFPlayer];
    NSString *strScore = [NSString stringWithFormat:@"%@",[NSString stringWithFormat:@"%d",iTap]];
    int intScore = iTap;
    NSLog(@"iTap data is:--> %d",intScore);

    if([strNameOFPlayer length]==7)
        [array addObject:[NSString stringWithFormat:@"%@                   %@",strName,strScore]];
    else if ([strNameOFPlayer length] == 6)
        [array addObject:[NSString stringWithFormat:@"%@                     %@",strName,strScore]];
    else if ([strNameOFPlayer length] == 5)
        [array addObject:[NSString stringWithFormat:@"%@                       %@",strName,strScore]];
    else if ([strNameOFPlayer length] == 4)
        [array addObject:[NSString stringWithFormat:@"%@                         %@",strName,strScore]];
    else if ([strNameOFPlayer length] == 3)
        [array addObject:[NSString stringWithFormat:@"%@                           %@",strName,strScore]];
    else if ([strNameOFPlayer length] == 2)
        [array addObject:[NSString stringWithFormat:@"%@                             %@",strName,strScore]];
    else if ([strNameOFPlayer length] == 1)
        [array addObject:[NSString stringWithFormat:@"%@                              %@",strName,strScore]];

    NSSortDescriptor *sorter = [[NSSortDescriptor alloc] initWithKey:@"self" ascending:YES];
    NSArray *sorters = [[NSArray alloc] initWithObjects:sorter, nil];
    [sorter release];
    NSArray *sortedArray = [array sortedArrayUsingDescriptors:sorters];
    [sorters release];

    NSUserDefaults *dfltsData = [NSUserDefaults standardUserDefaults];
    [dfltsData setObject:sortedArray forKey:@"ScoreName"];
    //        [dfltsData setObject:array forKey:@"ScoreCard"];
    [dfltsData synchronize];

    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert"
                                                    message:@"Score is saved."
                                                   delegate:self
                                          cancelButtonTitle:@"Ok"
                                          otherButtonTitles:nil, nil];
    [alert show];
    [alert release];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:04:43.623

在这里，您将字符串（包含名称和分数）添加到数组中。相反，使用名称 (NSString*) 和分数 (NSNumber*) 成员创建模型类并将它们添加到数组中。

对于排序，

```
NSArray *sortedArray = [yourUnsortedArray sortedArrayUsingComparator: ^(id obj1, id obj2) {

    if ([[obj1 score] integerValue] > [[obj2 score] integerValue]) {
        return NSOrderedDescending;
    }

    if ([[obj1 score] integerValue] < [[obj2 score] integerValue]) {
        return NSOrderedAscending;
    }
    return NSOrderedSame;
}]; 
```

# javascript - JS图表和html表格重叠

> ID：12294448
> 
> 赞同：0
> 
> 时间：2012-09-06T06:50:42.110
> 
> 标签：javascript, jquery, html, html-table

使用 JS 图表：

[http://www.jscharts.com/](http://www.jscharts.com/)

这就是我所说的例子，**图表是重叠表**

[http://char.web44.net/](http://char.web44.net/)

我认为它与布局有关，有什么建议可以解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:11:20.887

div#graph 内的 div（jscharts 徽标）上有一个 -321px 的边距顶部，它在 #graph 之后拉取内容。您需要在#graph div 上设置一个高度，然后一切都会被正确地向下推。

# ios - 查找 __lldb_unnamed_function4866$$ProjectName 的来源

> ID：12294450
> 
> 赞同：4
> 
> 时间：2012-09-06T06:50:44.160
> 
> 标签：ios, debugging, objective-c-blocks

我的 iOS 程序中有一个 EXC_BAD_ACCESS，我怀疑原因是在我的一个匿名块中，但其中有很多，我需要稍微缩小候选列表。

堆栈跟踪将当前帧显示为`__lldb_unnamed_function4866$$ProjectName`. 我看不到行号或源文件名。也没有可见的局部变量。调试器显示机器代码指令。这是在后台事件队列上运行的，因此堆栈上的其他任何地方都没有我的代码。

我该如何找出这是什么功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-28T10:26:47.090

I came across a similar situation, and while I can't help (yet) with your problem, I think I know a man who can.

Check out [http://www.realmacsoftware.com/blog/block-debugging](http://www.realmacsoftware.com/blog/block-debugging), for an exposition of how to find out a lot more about the evil block in question.

It doesn't help me much, because I'm working from a crash log, but if you're still interested, this is going to give you just about as much as you can get about the unnamed block.

Warning, the above link exposes you to a lot of arcane knowledge, and may make you feel a little inadequate :)

[Editted to add] Not good enough yet?

After searching through disassembly and doing some manual symbolication, I came to the conclusion that the ___lldb_unnamed_function is a red herring.

I followed [How to manually symbolicate a crash log with atos](https://stackoverflow.com/questions/13970959/how-to-manually-symbolicate-a-crash-log-with-atos), and it pointed the finger at a completely different function, which came from a 3rd party library, and was a very good candidate for the crash reason (killed by angry watchdog with badf00d.)

In the course of this enquiry, I also came across hopper, a great disassembler; I used the demo version to confirm what the suspicious code was doing, so I'm giving them a namecheck.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-06T09:25:57.537

尝试通过单击断点导航器中的加号来设置异常断点`cmd + 6`。[如果发现对 iTunes U 上的斯坦福讲座](http://itunes.apple.com/de/itunes-u/debugger-september-30-2011-hd/id473757255?i=109504507)有用，可以了解调试最佳实践的概述

# java - 加载属性文件

> ID：12294451
> 
> 赞同：2
> 
> 时间：2012-09-06T06:50:45.107
> 
> 标签：java, properties

我想阅读一些属性文件。为此，我创建了一个小程序，它可以读取、写入并更新此属性文件。

现在有些人说属性文件应该只读取一次，这意味着当类加载时它应该读取一次，而不是每个键读取多次。

所以我必须读取静态块内的属性文件。

现在我怀疑如果我对属性文件进行任何新条目，它会被加载新条目吗？

请建议我这是设计属性文件加载的正确方法。

```
public class Parser {

    private String path;

    private static Properties prop = new Properties();

    public Parser(String path) throws IOException{

        this.path = path;

        load();

    }

    public  Model readPropertiesFile(){

        Model model = new Model();

        model.setName(prop.getProperty("name"));

        return model ;

    }

    public void createOrUpdatePropertiesFile(Model model){

        prop.setProperty("name", model.getName());
    }

    public void setPath(String path){
         this.path = path;
    }

    public String getPath(){
        return path ;
    }

    public  void load() throws IOException{

        File file = new File(path);
        if(!file.exists()){
            file.createNewFile();
              System.out.println("File created..");
        }
                        prop.load(new FileInputStream(file));

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:53:00.123

你可以试试这种方法；

*   从类路径加载属性文件

    ```
    public static Properties load(String propsName) throws Exception {
         Properties props = new Properties();
         URL url = ClassLoader.getSystemResource(propsName);
         props.load(url.openStream());
         return props;
    } 
    ```

*   加载属性文件

    ```
     public static Properties load(File propsFile) throws IOException {
         Properties props = new Properties();
          FileInputStream fis = new FileInputStream(propsFile);
          props.load(fis);    
          fis.close();
          return props;
     } 
    ```

# android - 如何在不阻塞应用程序的情况下保持线程活跃？

> ID：12294453
> 
> 赞同：2
> 
> 时间：2012-09-06T06:50:59.587
> 
> 标签：android, multithreading

为了在我的应用程序中执行一些 IO 操作，我编写了一个线程，它的 run 方法上没有任何内容，但它有几个其他方法，如 void write(String filename, String data) 和 void create(String filename)，所有这些都有效像一个魅力。我的问题是，我曾经认为这个线程在后台运行或类似的东西，但是因为在我的主要活动中删除 .run() 语句后调用所述方法仍然有效，我怎样才能让一个线程运行并等待一个来自活动的消息而不阻止应用程序？第二个问题，由于这些方法仍在工作，这是否意味着当我从主要活动中调用它们时它们正在主 UI 线程上执行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T06:55:50.090

您应该使用该[`start()`](http://developer.android.com/reference/java/lang/Thread.html#start%28%29)方法，而不是`run()`.

随着`run()`您`Runnable`在调用线程中运行给定的。

随着`start()`你开始一个处理这个的新线程`Runnable`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T06:56:58.303

对于在所述线程上运行的方法，您必须从该线程而不是从任何其他线程调用您的方法。

```
class WorkerThread extends Thread {
      public Handler mHandler;

      public void run() {
          Looper.prepare();

          mHandler = new Handler() {
              public void handleMessage(Message msg) {
                  // process incoming messages here
              }
          };

          Looper.loop();
      }
  } 
```

然后使用`WorkerThread.mHandler.postRunnable`or`sendMesssage`用于在另一个线程上完成的工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T06:57:40.130

为了在交付时进行处理，您需要使用 android 的本机内容，这是可用的最佳选择：

*   处理线程
*   活套
*   处理程序
*   信息

例如，阅读[this](http://stephendnicholas.com/archives/42)和[this](http://www.androidsnippets.com/convenient-messaging-between-threads)。

# android - 如何用手指画线？

> ID：12294457
> 
> 赞同：0
> 
> 时间：2012-09-06T06:51:06.453
> 
> 标签：android, android-layout, android-widget, touch

> **可能重复：**
> [Android 如何沿着手指画一条平滑线](https://stackoverflow.com/questions/8287949/android-how-to-draw-a-smooth-line-following-your-finger)

我使用以下代码创建了布局：

**activity_hand_write_demo.xml**

```
 <?xml version="1.0" encoding="utf-8"?>
   <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:padding="5dp">

      <LinearLayout android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
    android:background="@drawable/custom_border">
   <TextView android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:textSize="20dp"
    android:textColor="#FFFFFF"
    android:gravity="center_horizontal"
    android:background="#AAAAAA" />
    </LinearLayout>
</LinearLayout> 
```

**可绘制的custom_border.xml**

```
 <?xml version="1.0" encoding="utf-8"?>
  <shape xmlns:android="http://schemas.android.com/apk/res/android"               android:shape="rectangle">
  <corners android:radius="20dp"/>
  <padding android:left="10dp" android:right="10dp" android:top="10dp" android:bottom="10dp"/>
<solid android:color="#1ABCD1"/>
 </shape> 
```

**HandWriteDemo.java**

```
 package com.example.handwritedemo;
  import android.os.Bundle;
  import android.app.Activity;

     public class HandWriteDemo extends Activity {

 @Override
      public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.activity_hand_write_demo);

        } 
   } 
```

现在我想在手指移动时画一条线。我被卡住了如何通过触摸监听器或其他方式来实现这一点。

如果有人知道...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:20:28.007

我就是这样做的：

```
public MyView(Context c, int width, int height) {
    super(c);

    WindowManager wm = (WindowManager) c.getSystemService(Context.WINDOW_SERVICE);
    Display display = wm.getDefaultDisplay();
    int w = display.getWidth(); // deprecated
    int h = display.getHeight();
    // setFocusable(true);
    // setBackgroundResource(R.drawable.download);

    // setting paint
    mPath = new Path();
    mPaint = new Paint();

    mPaint.setColor(0xFF000000);
    mPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_IN));
    mPaint.setAntiAlias(true);
    mPaint.setMaskFilter(new BlurMaskFilter(10, BlurMaskFilter.Blur.NORMAL));
    mBitmapPaint = new Paint(Paint.DITHER_FLAG);

    this.getContext().getResources();

    Bitmap bm = BitmapFactory.decodeResource(getResources(), R.drawable.smoke);
    Bitmap bm2 = getResizedBitmap(bm, h, w);

    // converting image bitmap into mutable bitmap

    bitmap = bm2.createBitmap(w, h, Config.ARGB_8888);
    mCanvas = new Canvas();
    mCanvas.setBitmap(bitmap); // drawXY will result on that Bitmap
    mCanvas.drawBitmap(bm2, 0, 0, null);

}

@Override
protected void onSizeChanged(int w, int h, int oldw, int oldh) {
    super.onSizeChanged(w, h, oldw, oldh);
}

@Override
protected void onDraw(Canvas canvas) {
    //mCanvas.drawCircle(x, y, r, mPaint);

    // canvas.drawBitmap(bitmap, 0, 0, null);
    canvas.drawBitmap(bitmap, 0, 0, mBitmapPaint);

    canvas.drawPath(mPath, mPaint);

    super.onDraw(canvas);

}

private float mX, mY;

private static final float TOUCH_TOLERANCE = 4;

private void touch_start(float x, float y) {
    mPath.reset();
    mPath.moveTo(x, y);
    // mPath.lineTo(x, y);
    // mCanvas.drawPoint(x, y, mPaint);
    mX = x;
    mY = y;

}

private void touch_move(float x, float y) {
    float dx = Math.abs(x - mX);
    float dy = Math.abs(y - mY);
    if ((dx >= TOUCH_TOLERANCE) || (dy >= TOUCH_TOLERANCE)) {
        mPath.quadTo(mX, mY, (x + mX) / 2, (y + mY) / 2);
        mX = x;
        mY = y;
    }
    // invalidate();
}

private void touch_up() {
    mPath.lineTo(mX, mY);
    // commit the path to our offscreen
    mCanvas.drawPath(mPath, mPaint);
    // kill this so we don't double draw
    mPath.reset();
}

@Override
public boolean onTouchEvent(MotionEvent event) {
    float x = event.getX();
    float y = event.getY();
    switch (event.getAction()) {
    case MotionEvent.ACTION_DOWN:
        touch_start(x, y);

        invalidate();
        break;
    case MotionEvent.ACTION_MOVE:
        touch_move(x, y);
        invalidate();
        break;
    case MotionEvent.ACTION_UP:
        touch_up();
        invalidate();
        break;
    }
    return true;
}

public Bitmap getImage() {
    return mBitmap;
}
} 
```

如果您想在空白页上绘图，只需忽略位图，就可以了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:09:14.700

我开发了一个应用程序。我在那用过手指画。我给你代码的链接。希望这会有所帮助。

[https://github.com/anupam1525/AcrylicPaint/blob/master/Acrylic_Paint/src/anupam/acrylic/EasyPaint.java](https://github.com/anupam1525/AcrylicPaint/blob/master/Acrylic_Paint/src/anupam/acrylic/EasyPaint.java)

# c# - 在业务层中使用 Server.MapPath

> ID：12294458
> 
> 赞同：8
> 
> 时间：2012-09-06T06:51:15.647
> 
> 标签：c#, asp.net-mvc, server.mappath, business-layer

我的业务层创建文件并需要将它们保存在`App_Data`我的 asp.net mvc 4 web 前端的文件夹中。

我可以`Server.MapPath`在业务层中使用来获取`App_Data`文件夹的物理路径。但我想避免`System.Web`在业务层中引用。

`App_Data`还有其他方法可以在业务层中获取路径吗？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-09-06T07:11:49.677

处理这个问题的正确方法是让表示层将路径传递到业务层。

换句话说，拥有业务层的目的是在 ui 和业务流程之间创建关注点分离。如果您强制业务流程了解 ui 层，那么您就违反了关注点分离。

有很多方法可以处理这个问题。您可以在构建业务层时将路径传递到业务层，例如通过构造函数初始化或通过依赖注入。或者你可以将它传递给方法调用。或者您可以创建某种形式的配置文件，您的业务层加载该文件包含路径。

有很多不违反关注点分离的方法。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-12-04T05:30:57.473

您可以使用

```
string  path = System.AppDomain.CurrentDomain.BaseDirectory+"App_Data"; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-09-12T05:38:52.913

```
string path = HostingEnvironment.MapPath("~\\App_Data"); 
```

这个对我有用

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-07-04T06:03:00.627

我知道这是一个老问题，但仍然是一个非常有效的问题。我已经在这里看到了所有答案，我想在这里写下所有知识中最好的笔记。

1.  It is recommended NOT to use `System.Web` assembly as it conflicts S.O.L.I.D principles. **For Example, If we use `System.Web` and try to use that DLL in a Windows Form / Console / WPF application then context will always remain null in that scenario.**
2.  For example you can want to access `data.txt` file under the folder `App_data` folder. In DLL you should use following Code

    `string rootDirectoryPath = AppDomain.CurrentDomain.BaseDirectory; string pathFinalAccessFile = Path.Combine(rootDirectoryPath, "App_Data", "data.txt");`

Rather than appending path and file name manually with quotes and "\" you should use **Path.Combine** Method in C# *(as shown in code above)*.

# javascript - 在aspx中鼠标悬停时水平扩展DIV

> ID：12294460
> 
> 赞同：0
> 
> 时间：2012-09-06T06:51:19.857
> 
> 标签：javascript, asp.net, css, html

我正在尝试做类似这样的事情[您](http://www.aic.sg/silverpages/) 可以在页面右侧看到可折叠的 DIV

这是我尝试过的，出于某种原因，我为此使用了 UserControl

```
<div class="widget-content">
<style type="text/css">
.w2bslikebox{background: url("/uploadedimages/_system/images/online-helpdesk.png") no-repeat scroll left center transparent !important;display: block;float: right;height: 192px;padding: 0 5px 0 39px;width: 213px;z-index: 99999;position:fixed;right:-218px;top:30%;}
.w2bslikebox:hover{background: url("/uploadedimages/_system/images/online-helpdesk-ov.png") no-repeat scroll left center transparent !important;}

.w2bslikebox div{border:none;position:relative;display:block;}
.w2bslikebox span{bottom: 12px;font: 8px "lucida grande",tahoma,verdana,arial,sans-serif;position: absolute;right: 0px;text-align: right;z-index: 99999;}
.w2bslikebox span a{color: gray;text-decoration:none;}
.w2bslikebox span a:hover{text-decoration:underline;}
.esn_searchTitle {
    color: #669613;
    font-size: 130%;
    font-weight: bold;
}
</style>
<div style="right: -218px;" class="w2bslikebox">
    <div id="Inner"> 
        <asp:Literal ID="ltlOnlineHelpdesk"  runat="server"></asp:Literal>
    </div>
</div>
</div> 
```

我在代码隐藏中绑定文字控件。问题是，DIV 没有在鼠标悬停时扩展。

我错过了什么？或者还有其他最好的方法，如 URL 中所示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T09:44:16.947

添加后，工作正常..

```
<script type="text/javascript">

        //<!--

        $(document).ready(function () { $(".w2bslikebox").hover(function () { $(this).stop().animate({ right: "0" }, "medium"); }, function () { $(this).stop().animate({ right: "-225" }, "medium"); }, 500); });

        //-->

</script> 
```

# objective-c - NSFileManager copyItemAtPath toPath

> ID：12294463
> 
> 赞同：0
> 
> 时间：2012-09-06T06:51:32.687
> 
> 标签：objective-c, nsfilemanager

我想看一个文件夹，然后将`different extensioned & same filenamed`文件复制到另一个目录/文件夹。但我检查文件

`if([myManager fileExistsAtPath:[(NSURL*)pathSource path]]==YES`

它检测到，返回是，目录中有文件。但从未复制任何 Video-Audio-txt 文件

`[myManager copyItemAtPath:@"/Users/.../CONTENTS/002BJ" toPath:@"/Users/.../CONTENTS/AUDIO/"; error:nil]`

代码。那么我有什么问题或者有没有其他方法可以将文件复制/移动到目录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:00:17.120

> 复制文件时，目标路径必须以文件名结尾——没有隐式采用源文件名。

```
NSString *path = @"/Users/.../CONTENTS/002BJ";
[myManager copyItemAtPath:path toPath:[@"/Users/.../CONTENTS/AUDIO/" stringByAppendingPathComponent:[path lastPathComponent] error:nil]; 
```

# linux - 在执行系统调用时进程切换会发生什么？

> ID：12294465
> 
> 赞同：5
> 
> 时间：2012-09-06T06:51:32.943
> 
> 标签：linux, linux-device-driver, embedded-linux, system-calls

如果调用系统调用的进程在该进程调用的系统调用正在运行时进入睡眠或抢占状态，会发生什么情况？

如果它的系统调用被抢占，它如何被重新加载并返回该进程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:29:42.087

系统维护每个进程的状态，其中存储了暂停并稍后重新启动进程所需的所有内容。其中大部分只是您的想象——内存实际驻留位置的地图、文件句柄列表等。

系统进程在做长期的事情，但不会立即完成，必须非常仔细地编写，以确保所有资源都被占用，所有锁被释放等。这显然是 I/O 的情况，但其他事情可以还涉及特殊资源。

大多数系统调用并不特别，它们是由普通库实现的，这些库只是您流程的一部分。真正的系统调用在最低级别执行缓慢的操作，其结构为“让我入睡并在......时唤醒我”，因此进入睡眠是自动但不可见的过程的一部分。

# c++ - 使用垫::at 点不评估正确的像素

> ID：12294466
> 
> 赞同：1
> 
> 时间：2012-09-06T06:51:34.490
> 
> 标签：c++, image-processing, opencv

我通常会找到通常出现在我身上的问题的所有答案，不幸的是在这种情况下我找不到解决方案。我有以下代码

```
Mat drawing = Mat::zeros( threshold_output.size(), CV_8UC3 );
namedWindow( "Contours", CV_WINDOW_AUTOSIZE );
for( int i = 0; i< contours.size(); i++ ){
   Scalar color = Scalar( rng.uniform(0, 255), rng.uniform(0,255), rng.uniform(0,255) );
   drawContours( drawing, contours_poly, i, color, 1, 8, vector<Vec4i>(), 0, Point() );
   rectangle( drawing, boundRect[i].tl(), boundRect[i].br(), color, 2, 8, 0 );
    drawing.at<Vec3i>(centroid[i])[0]=color[0];
    drawing.at<Vec3i>(centroid[i])[1]=color[1];
    drawing.at<Vec3i>(centroid[i])[2]=color[2];
    circle(drawing, centroid[i], 5, color, 3,8,0);
    cout<<centroid[i]<<endl;
    imshow( "Contours", drawing );
    waitKey(0);
 } 
```

问题是质心不在它应该在的地方。这些点的高度相同但宽度错误。我已经使用每个轮廓的圆图检查了“质心”，并且这些点都可以

有人可以帮我解决这个问题吗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:11:43.170

您正在尝试将 3*32 位分配给大小仅为 3*8 位的字段。您将矩阵定义为 type `CV_8UC3`，因此您应该使用`drawing.at<Vec3b>(...)`（其中`b`代表无符号字符）。[您可以在此处](http://opencv.willowgarage.com/documentation/cpp/basic_structures.html#vec)找到各种 typedef 。

你可以读`CV_xxtCn`为

*   xx：位数
*   t：类型（F = 浮点类型，S = 有符号整数，U = 无符号整数）
*   n：通道数

# java - 单次登录 SSH，共享会话以运行 git-receive-pack 并远程运行一些其他命令

> ID：12294468
> 
> 赞同：2
> 
> 时间：2012-09-06T06:51:45.537
> 
> 标签：java, git, bash, ssh

只需一次登录 SSH（以减少登录时间），我如何运行其他一些命令以及在中间推送 git 存储库？

例如通过 SSH 远程登录

1.  偏僻的：`cd abc`

2.  偏僻的：`git init`

3.  local: `git push`--> 问题：如何直接替换为远程命令，以便可以使用相同的 SSH 会话？我该如何使用`git-receive-pack`？因为 a`git push`创建了另一个专用的 SSH 会话。

4.  偏僻的：`git checkout branch_abc`

注意：我可以在java中编写一个程序使用SSH来控制2到4之间的一切，所以答案不限于bash。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:52:06.890

有关设置共享主 SSH 连接以加速多个会话的信息，请参阅[此页面。](http://www.linuxjournal.com/content/speed-multiple-ssh-connections-same-server)

# javascript - 如何处理主干渲染和 ajax 调用

> ID：12294470
> 
> 赞同：0
> 
> 时间：2012-09-06T06:51:46.643
> 
> 标签：javascript, ajax, jquery, backbone.js, backbone-views

所以我有这个困境，我有一个主干视图，它创建一个将附加到主视图的子视图。这些子视图中的每一个都必须进行 ajax 调用来检索数据以完成子视图。现在超级视图调用每个子视图渲染并将其附加到自身。然后我获取主视图的元素并将其发布到服务器，问题是在我将帖子发送到服务器后，ajax 完成了。有没有更好的方法来使用异步调用来构建这项工作？我有这个同步工作，但加载栏甚至没有出现。

所以这里是它的例子：

```
WebView
generate:function(){
    var html = new MainView().render().el
    //ajax post to server with html
}

MainView 
    initalize:
    render:function(){
        this.el.append(new Subview().render().el);
    }

Subview
    initialize:
    render:fucntion(){
        //ajax - with  a success that alters the el
        return this;
    } 
```

现在，在我什至可以从调用中取回数据之前，生成函数就完成了，我无法绑定到任何东西，因为数据已经发送到服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:10:29.637

```
MainView
childViews = [];
renderCompletedChildViews = 0;
addChildView: function () {
   var subView = new SubView();
   this.childViews.push(subView);
   subView.on("renderComplete", postToServer, this);
}
render: function () {
   for( var i=0; i<this.childViews.length; i++ ) {
        this.childViews[i].render(this.el);
   }
}
postToServer: function () {
   this.renderCompletedChildViews++;
   if( this.renderCompletedChildViews == this.childViews.length) {
       // Interact with server
   }
}

SubView
render: function (el) {
   // Make an ajax call, on receiving data append the data to el passed by parent view and trigger "renderComplete" on current instance
} 
```

这样，您就使代码完全事件驱动和异步。

# php - 仅在 zf2 项目中找不到 Imagick 类

> ID：12294471
> 
> 赞同：1
> 
> 时间：2012-09-06T06:51:50.570
> 
> 标签：php, apache, classnotfoundexception, imagick, zend-framework2

我有一个运行 apache 2.2.22 和 PHP 5.4.6 的 gentoo linux amd64 服务器。

我有一个使用 zf v2.0 b7 的 Zend Framework 2 项目。

我使用emerge 安装了Imagick pecl 扩展，在重新启动apache 并查看phpinfo 的输出后，我可以清楚地看到Imagick 扩展安装正确。

我在 Zend Framework 项目中的一项操作中添加了以下行：

```
$im = new Imagick(); 
```

当我在浏览器上运行该操作时，出现以下错误：

```
Class 'DrinkManagement\Controller\Imagick' not found 
```

现在..如果我用这行代码（新的imagick）创建一个简单的php文件，然后在控制台（php-cli）上运行它，并且在我的浏览器上它可以正常工作，这意味着zend框架的文件包含方法以某种方式破坏了Imagick。

有任何想法吗 ？

任何信息将不胜感激

谢谢

克菲尔！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T08:20:28.677

好的，我找到了解决问题的方法。

[在 Symfony2 中使用 Imagick？](https://stackoverflow.com/questions/7109649/using-imagick-in-symfony2)

（从上面的网址复制的答案）

当您实例化 Imagick 类时，请使用完整的限定类名：

```
new \Imagick; 
```

这将使 PHP 不在当前命名空间中寻找类 Imagick。

# php - 如果 Row1 = Value 1，则更新其他行

> ID：12294472
> 
> 赞同：0
> 
> 时间：2012-09-06T06:51:50.790
> 
> 标签：php, mysql, json, if-statement

我有一个用于 mySql 数据库的小 php 脚本。

我想看看，在我在数据库中插入一条新记录之前，数字（value1）是否等于数据库中的一条记录。Wich 也在 Row1 中。

所以我想：

*   查看传入的电话号码是否等于数据库中的电话号码。如果是这样，那么它必须保持电话号码相同的值，只更新：经度、纬度和时间戳。
*   如果电话号码等于 null。不要将任何值放入我的数据库中。根本没有记录。
*   如果电话号码不在数据库中，也不做任何事情。重复它，就像值为空一样。

这是我当前的 PHP 代码，当有任何新值时，我只是在其中创建新记录。

```
 <?php

$con = mysql_connect('server', 'user_name', 'pass');
if (!$con)
{
die('Could not connect: ' . mysql_error());
 }

mysql_select_db("db_name", $con);

if (isset($_REQUEST['data'])){
$json = $_REQUEST['data']; // recieve json from app
$data = json_Decode($json);

mysql_query("INSERT INTO test (id, longitude, latitude, timestamp) VALUES ('$data-   >id','$data->longitude','$data->latitude','$data->timestamp')"); 

}

mysql_close($con);
?> 
```

如果有人可以帮助我，将不胜感激！

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:58:16.680

你没有提到电话号码字段，所以我假设是`phone_number`：

```
$db = new PDO('mysql:host=localhost;dbname=testdb;charset=UTF-8', 'username', 'password', array(PDO::ATTR_EMULATE_PREPARES => false, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION));

if (isset($_REQUEST['data'])){
    $data = json_decode($_REQUEST['data']);
    if($data->phonenumber){
        $stmt = $db->prepare("SELECT `id` FROM `test` where `id`=:phone_number");
        $stmt->execute(array(':phone_number' => $data->phonenumber));
        $row_count = $stmt->rowCount();

        if($row_count && ($data->phonenumber != '')){
            $stmt = $db->prepare("UPDATE `test` SET `longitude`=:longitude, `latitude`=:latitude, `timestamp`=:timestamp WHERE `id`=:phone_number");
            $stmt->execute(array(':longitude' => $data->longitude,':latitude' => $data->latitude,':timestamp' => $data->timestamp,':phone_number' => $data->phonenumber));
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:11:04.257

为什么要麻烦计算为特定电话号码找到的行数？只需检查`$data->phone_number !== null`然后*盲目执行更新查询*

```
$stmt = $pdo->prepare('UPDATE table SET longitude = :longitude, latitude = :latitude, timestamp = :timestap WHERE id = :id');
if ($stmt->execute(array(':longitude' => $data->longitude,':latitude' => $data->latitude,':timestamp' => $data->timestamp,':id' => $data->phone_number)))
{
    echo 'Updated';
}
else
{
    echo 'Couldn\'t update';
} 
```

或者更好的是：`$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);`在 try-catch 块中设置和更新，这样您就可以检查更新查询失败的原因并做出相应的响应。如果您的数据库引擎支持它，您也可以`$pdo->rollBack();`在不应该发生更新时使用它：

```
$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
try
{
    $stmt = $pdo->prepare('UPDATE table SET longitude = :longitude, latitude = :latitude, timestamp = :timestap WHERE id = :id');
    $stmt->execute(array(':longitude' => $data->longitude,':latitude' => $data->latitude,':timestamp' => $data->timestamp,':id' => $data->phone_number));
}
catch(PDOException $e)
{
    $pdo->rollBack();//undo any changes
    echo $e->getMessage();
} 
```

# android - 无法在 android 的 imageview 中清除或设置空白图像

> ID：12294474
> 
> 赞同：3
> 
> 时间：2012-09-06T06:51:56.057
> 
> 标签：android, imageview

```
if(bigimageS.length()==0){              

     show_image.setImageBitmap(null);   

}else{                  

  show_image.setImageBitmap(decodeImage(bigimageS));                
}

****************
    public static Bitmap decodeImage(String arrayList_image) {

        BufferedInputStream bis;
        URL aURL;
        try{        

            aURL = new URL(arrayList_image);
            URLConnection conn = aURL.openConnection();
            conn.connect();
            InputStream is = conn.getInputStream();
            bis = new BufferedInputStream(is);
            Bitmap bm = BitmapFactory.decodeStream(bis);

            bis.close();            
            is.close();         
            return bm;          

        } catch (MalformedURLException e) {

            e.printStackTrace();

        } catch (IOException e) {

            e.printStackTrace();
        }
        return null;
    } 
```

这是我的代码，我想清除 imageview。我的问题是我在 bigimages 字符串中获取图像。我正在从 w/s.in 字符串 bigimages 添加 imageurl。当我在一次图像设置然后是旧图像之后单击下一个 btn不清楚。所以请帮助我设置条件但不工作。请帮助。

我正在使用 decodeimage 来解码图像所以如果字符串中没有 url 有什么方法可以清除..帮助我请不要解决

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T08:05:58.667

从 photoshop 创建一个空白/透明的 png 图像，并应用为您的图像背景。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T06:55:37.820

您需要检查 url 的长度。如果为 0，则必须将 null 设置为 imageviwe。

请试试这个。

```
if(imageneel.get(i).length() == 0)
{            
    show_image.setImageBitmap(null);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:11:34.417

试试这个代码

```
for (int i = 0; i < imageneel.size(); i++) {
    if(imageneel.get(i).trim().length() == 0){            
       show_image.setImageBitmap(null);
    }else{
       show_image.setImageBitmap(decodeImage(imageneel.get(i)));                
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T06:41:51.200

同意 Pranav，但我认为您也可以访问 Android 本身的内置资源。

尝试：

```
imgView.setImageResource(android.R.color.transparent); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T06:35:18.540

最后我得到了解决方案..我只是像这样设置了空白 bigimageS=""; 在获取数据（）之前；方法..

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-07-16T09:54:24.703

将 0 作为资源传递很简单

```
show_image.SetImageResource(0); 
```

# python - 在曲面图上绘制网格？

> ID：12294477
> 
> 赞同：1
> 
> 时间：2012-09-06T06:52:05.547
> 
> 标签：python, plot, matplotlib

我正在尝试在我的surfaceplot 的表面上制作一个网格，现在我知道线框不起作用，而网格命令完全是另外一回事。但是你如何用这样的网格来绘制东西呢？![在此处输入图像描述](../Images/de44413769f6cdfdabf964dadd633425.png)

这是我正在使用的绘图命令

```
fig = plt.figure()
ax = fig.add_subplot(111,projection="3d")

plot = ax.plot_surface(x,y,z, rstride=1, cstride=1, cmap=cm.jet, shade=True,
                       linewidth=0, antialiased=False) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:30:20.200

从[matplotlib表面图文档](http://matplotlib.sourceforge.net/mpl_toolkits/mplot3d/tutorial.html#surface-plots)中的（第二个）示例中，OP中的图像来自（参见[源代码here](http://matplotlib.sourceforge.net/mpl_examples/mplot3d/surface3d_demo2.py)），很明显该`plot_surface`函数默认在表面图上绘制网格线。但是，绘图命令

```
plot = ax.plot_surface(x,y,z, rstride=1, cstride=1, cmap=cm.jet, shade=True,
                   linewidth=0, antialiased=False) 
```

将网格线的宽度设置为零，因此在使用此调用时它们不可见，但存在。删除`linewidth=0`参数或将其设置为大于 0 的值。

# php - 如何在android中存储选定的单选按钮值？

> ID：12294482
> 
> 赞同：0
> 
> 时间：2012-09-06T06:52:33.023
> 
> 标签：php, android

我为性别（男性和女性）创建了 2 个单选按钮。我想将选定的单选按钮值存储在 MySQL 中。我正在使用 PHP 将 Android 连接到 MySQL。在 MySQL 中，我将 Gender 的数据类型设为 tinyint。在 PHP 脚本中，我编写了插入查询。我希望如果选择了男性，则应存储 0，选择女性，则应将 1 存储在 MySQL 中。为此我该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T06:56:31.850

例子：

让这个动作在你的按钮点击完成

所以在你的点击监听器中写下这段代码

```
if(radioButton1.isSeleceted())
    String temp = radioButton1.getText().toString();
if(radioButton2.isSeleceted())
    String temp = radioButton2.getText().toString(); 
```

然后将温度值放入您的`Database`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:16:07.007

无需使用数据库。您可以将值保存在`Shared preference`.

**前任：**

```
 if(radioButton1.isSeleceted()) {
     PrefarenceName.putString("gender","1");

 } else if(radioButton2.isSeleceted())
     PrefarenceName.putString("gender","0");
 } 

  String gendertype = prefarenceName.getString("gender");

  if(gendertype == 1) {
      radioButton1.setSelcted(true);

  } else {
      radioButton2.setSelcted(true);
  } 
```

# php - Windows Php Sybase 库

> ID：12294489
> 
> 赞同：1
> 
> 时间：2012-09-06T06:52:52.863
> 
> 标签：php, sybase

我必须在我的 windows-apache 服务器中启用 php_sybase 扩展，但我得到一个错误可能是由于 sybase dll 依赖。

```
PHP Warning:  PHP Startup: Unable to load dynamic library 'c:\xampp\php\ext\php_sybase_ct.dll' 
```

我确定存在 ext 文件夹和 dll 文件，但我没有 sybase 驱动程序。我在哪里可以找到 sybase 库让 php_sybase 扩展工作？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T23:15:43.677

您需要拥有 Sybase 库，我很确定这曾经可以从 Sybase 免费下载，但我在[https://apps.state.or.us/tech/htdocs/sybase 找到了一份副本。 html或者您可以从](https://apps.state.or.us/tech/htdocs/sybase.html)[http://www.sybase.com/ase_1500devel](http://www.sybase.com/ase_1500devel) 下载开发人员版本（包括客户端库）

# javascript - 如何克服端口分离问题？

> ID：12294496
> 
> 赞同：0
> 
> 时间：2012-09-06T06:53:43.643
> 
> 标签：javascript, raphael, draw2d, graphiti-js

在此示例中：[撤消/重做](http://draw2d.org/graphiti/jsdoc/#!/example/buildin_commandstack)

*   将起始节点拖放到画布上。
*   鼠标按下端口并拖动它。
*   现在在拖动时按右键单击。

现在的问题是端口与起始节点分离。它不应该发生。

请查看下图以更好地理解。请帮助我克服这个问题。提前致谢。

![在此处输入图像描述](../Images/b5afbda30993be73dd6f44306b96b8c7.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T13:00:45.090

我仔细分析了这个问题，得出的结论是：

*   问题在于鼠标向下和鼠标向上。
*   正如我所看到的，当我按下鼠标并拖动端口然后按下鼠标右键时。然后会发生什么是在 canvas.js 中调用鼠标按下。
*   然后当鼠标右键然后调用canvas.js的鼠标并使mouseDown = false。

    ```
    this.html.bind("mouseup touchend", $.proxy(function(event)
        {
            if (this.mouseDown === false)
                return;

            event = this._getEvent(event);

            this.mouseDown = false;// it makes mouseDown false
            this.onMouseUp();
        }, this)); 
    ```

*   因此，为了知道快速修复，我已经检查了鼠标右键是否向上和鼠标右键，然后返回为：

在鼠标按下：

```
 this.html.bind("mousedown touchstart", $.proxy(function(event)
        {                
           event.preventDefault();

           if(event.which == 3)//added this in the mouse down
              return;

           event = this._getEvent(event);

           this.mouseDownX = event.clientX;
           this.mouseDownY = event.clientY;
           var pos = this.fromDocumentToCanvasCoordinate(event.clientX, event.clientY);
           this.mouseDown = true;
           this.onMouseDown(pos.x, pos.y);
    }, this)); 
```

在鼠标向上：

```
this.html.bind("mouseup touchend", $.proxy(function(event)
        {
            //added extra condition for right click
            if (this.mouseDown === false || event.which == 3)
                return;

            event = this._getEvent(event);

            this.mouseDown = false;// it makes mouseDown false
            this.onMouseUp();
        }, this)); 
```

*   经过以上修改后问题解决了，我可能是错的。请纠正我，因为我没有对其进行深入测试，但它的工作原理。我需要你的指导。抱歉更改代码。

非常感谢：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T10:28:18.333

这是一个错误，将在下一个版本中修复。

# mysql - 无法使用插入更新 mysql 表

> ID：12294500
> 
> 赞同：0
> 
> 时间：2012-09-06T06:54:41.647
> 
> 标签：mysql

我在同一个基础上有一堆相同的表，创建的：

```
CREATE TABLE $current_date (
  call_state varchar(10),
  call_rate smallint(6), 
  ip-address varchar(15), 
  comment varchar(70)
) DEFAULT CHARSET=utf8; 
```

每天一次，新的填充值，“评论”字段除外。填写上述字段的规则是。

```
INSERT INTO $current_date (comment)
SELECT comment FROM $yesterday_date WHERE call_state='-';
-- ('call_state' may be + or - or +-) 
```

MySQL 响应是：

> 查询正常，17 行受影响（0.02 秒）
> 记录：17 重复：0 警告：0

但实际上`$current_date`表格并没有任何变化——所有的评论单元格都还在`NULL`。
谁能指出我填满专栏的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:07:33.377

**INSERT**
该命令`INSERT`用于将新行添加到表中。如果您收到“查询正常，受影响的 17 行”响应，那么之前的现有行都没有改变，但行数确实增加了 17。

```
INSERT INTO table (column1, column2) VALUES(value1, value2); 
```

* * *

**UPDATE**
如果要更新现有行，请使用命令`UPDATE`。“更新”不添加任何行。它更改现有行的内容。

```
UPDATE table SET column1=value1, column2=value2 WHERE column3=value3; 
```

# c - C中的漂亮表格

> ID：12294501
> 
> 赞同：0
> 
> 时间：2012-09-06T06:54:44.487
> 
> 标签：c, pretty-print

C 中是否有可用的库/函数来漂亮地打印表格数据。我正在寻找这样的东西：[http ://code.google.com/p/prettytable/](http://code.google.com/p/prettytable/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:03:40.183

如果你真的想实现看起来像 Python 模块那样通用的东西，那么数据存储就是一个问题。当然，在 C 语言中将内容放入列表中并不容易。例如，您可能想查看[glib 的](http://developer.gnome.org/glib/stable/) `[GVariant](http://developer.gnome.org/glib/stable/glib-GVariant.html)`解决方案。在此基础上构建一个处理任何合理类型值的表格格式化程序将非常容易。

# iphone - 有没有办法让 localizable.strings 不区分大小写

> ID：12294502
> 
> 赞同：4
> 
> 时间：2012-09-06T06:54:50.057
> 
> 标签：iphone, localization

我在我的 iPhone 应用程序中使用本地化。

我有近 10 种语言，每种语言都有很长的“字符串文件”。我注意到 .string 文件中的字符串是区分大小写的，这使得跟踪每个文件和其中的每个字母成为一项繁琐的工作，尤其是我从为我翻译它们的其他人那里获取这些文件。

那么，有没有办法让这些字符串不区分大小写？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T08:26:01.417

如果您将本地化字符串的键设置为小写呢？所以你不必担心任何大写字母。我认为不可能使字符串显式不区分大小写。

例如：

```
NSLog(@"%@", NSLocalizedString(@"test", @"comment...")); 
```

在相应语言的 Localizable.strings 文件中：

```
"test" = "Teststring English";

"test" = "Teststring Another Language"; 
```

# c# - c#如何重构我的线程程序

> ID：12294506
> 
> 赞同：4
> 
> 时间：2012-09-06T06:55:23.923
> 
> 标签：c#, multithreading

## 问题

我有源源不断的数据包。每次有新包传入（100 毫秒间隔）时，都会弹出一个事件，在该事件中我将包发送到一个类以处理数据并将其可视化。不幸的是，如果在处理当前包之前发送了一个新包，则可能会中止包的处理。

## 我现在拥有的

是用作另一个程序的 dll 的代码。当我开始编写 dll 代码时，我是 c# 的新手，所以我不想把它写得太复杂。一切正常，但如果 cpu 很忙，我会遇到一些丑陋的跳帧（在我的可视化部分）。

我有几个类，其中之一是处理所有包。这个类有大约 50 个属性、25 个函数和 1000 行代码。计算只需要 6 个函数。剩下的就是正确设置属性（如果用户更改设置）。

## 我需要改变什么

所以现在我想通过使用列表来缓冲所有传入的数据。该列表应由另一个线程处理。因此，将数据写入列表的时间不太可能超过 100 毫秒 ^^（2 个数组，每个数组有 40 个元素，每个元素应该等于无）

## 我的想法

将提到的类拆分为 2 个单独的类。一个处理包，一个处理设置。所以我会拆分用户和“程序”输入。创建一个使用“包处理”类来处理缓冲数据的线程。

## 我不知道什么

由于设置类包含处理类所需的重要属性，我不知道如何做到最好，因为处理类还需要更改/填充设置类中的缓冲区。但这将由主线程调用。或者最好不要拆分设置和处理类并保持原样？我对线程不是很熟悉，阅读了这本免费电子书[Threading in C#的第一章](http://www.albahari.com/threading/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T14:51:01.370

我只想添加一个队列并实现一个线程进行处理。这将帮助你跳过并且几乎不需要改变。通过拆分设置来重构代码似乎需要做很多工作，但几乎没有什么好处，而且还可能出现新的错误。

添加队列；

*   创建一个 ConcurrentQueue（这是线程安全的 lifo，这正是您所需要的）

    ```
     var cq=new ConcurrentQueue<Packets>(); 
    ```

*   将所有数据包添加到该队列

    ```
     cq.Enqueue(newPacket); 
    ```

*   创建另一个循环并处理队列的线程

    ```
     if (cq.TryDequeue(out newPacket)) 
         { 
            // Visualize new packet
         } 
    ```

# google-maps - 如何检查谷歌地图覆盖类型

> ID：12294507
> 
> 赞同：2
> 
> 时间：2012-09-06T06:55:29.333
> 
> 标签：google-maps, google-maps-api-3

是否可以检查谷歌地图覆盖的类型。

```
var polygon = new G.Polygon();
var rectangle = new G.Rectangle();
var circle = new G.Circle();

var shape; 
```

现在，我的代码会将这些覆盖动态分配给`shape`变量。

但是如何检测或检查名为 的叠加层的类型`shape`？我无法使用 Google 找到解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:20:46.217

您可以使用`instanceof`，但我建议不要使用它。它不是 API 的一部分，将来可能随时中断。

最好在初始化时分配一个属性。

```
var polygon = new G.Polygon();
polygon.type = 'polygon';

var rectangle = new G.Rectangle();
polygon.type = 'rectangle';

var circle = new G.Circle();
polygon.type = 'circle';

console.log(shape.type); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:18:59.613

您可以通过 Javascript instanceof 运算符检查类：

```
var polygon = new G.Polygon();
var rectangle = new G.Rectangle();
var circle = new G.Circle();

var shape = selectShape(polygon, rectangle, circle); // your dynamic selection funktion
if (shape instanceof G.Polygon) {
    alert("found Polygon");
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-07-22T17:19:46.320

我写了一个函数，它返回给定的形状类型。它支持圆形和多边形，但我相信有人可以弄清楚如何添加矩形。它只是检查每个的独特属性。

```
function typeOfShape(shape){
    if(typeof shape.getPath === "function"){
        return "polygon";
    }else if(typeof shape.getRadius === "function"){
        return "circle";
    }else{
        return "unknown";
    }
} 
```

# java - android http请求的未知主机异常应该返回一个XML

> ID：12294510
> 
> 赞同：0
> 
> 时间：2012-09-06T06:55:37.420
> 
> 标签：java, android, xml, web-services, http

我使用以下类发送一个 http 请求并在我的 android 项目中获取返回的 XML 响应。但是在尝试发送请求时会抛出 UnknownHostException。请帮我解决这个问题。

```
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.IOException;

import org.apache.http.HttpResponse;
import org.apache.http.HttpStatus;
import org.apache.http.StatusLine;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.xml.sax.Attributes;
import org.xml.sax.ContentHandler;    
import org.xml.sax.Locator;
import org.xml.sax.SAXException;

import android.os.AsyncTask;
import android.util.Xml;

class RequestTask extends AsyncTask<String, String, String>{

@Override
protected String doInBackground(String... uri) {
    HttpClient httpclient = new DefaultHttpClient();
    HttpResponse response;
    String responseString = null;
    try {
        response = httpclient.execute(new HttpGet(uri[0]));
        StatusLine statusLine = response.getStatusLine();
        if(statusLine.getStatusCode() == HttpStatus.SC_OK){
            ByteArrayOutputStream out = new ByteArrayOutputStream();
            response.getEntity().writeTo(out);
            out.close();                
            responseString = out.toString();
        } else{
            //Closes the connection.
            response.getEntity().getContent().close();
            throw new IOException(statusLine.getReasonPhrase());
        }
    } catch (ClientProtocolException e) {
        //TODO Handle problems..
    } catch (IOException e) {
        String s=e.toString();
        System.out.println(s);
        //TODO Handle problems..
    }
    return responseString;
}

@Override
protected void onPostExecute(String result) {
    super.onPostExecute(result);
    //Do anything with response..
    System.out.println(result);

}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T06:57:41.867

确保您已在文件中声明了 INTERNET 权限`AnroidManifest`，并且有 Internet 连接。

您应该在中声明此权限`AndroidManifest:`

```
<uses-permission android:name="android.permission.INTERNET" /> 
```

# css - 在 Google Chrome 开发者工具中按下时如何检查元素的 Css 属性

> ID：12294516
> 
> 赞同：0
> 
> 时间：2012-09-06T06:55:56.887
> 
> 标签：css, google-chrome, google-chrome-devtools

我正在使用 Google Chrome 开发工具包，我有一个应用了一些 CSS 样式的按钮，我需要在 Googel Chrome Devoper 窗口中查看与此状态悬停相关的属性。

怎么做？当我从按钮更改状态移出时，我看不到应用的 CSS。

谢谢你的时间！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:03:59.443

当您检查元素时，右上角有几个图标...

![在此处输入图像描述](../Images/f5edc3e25d8532465df60e8cfeb1fa7b.png)

单击图像中的那个（指针）并使用复选框选择元素的状态。

# image - 网络摄像头与 Arduino 的接口

> ID：12294517
> 
> 赞同：0
> 
> 时间：2012-09-06T06:55:59.833
> 
> 标签：image, arduino

我正在做一个自动化项目，我想通过使用 USB 网络摄像头检查对象是否正常。

所以我使用接近传感器来检测物体是否在网络摄像头前面。如果它在那里，我想向网络摄像头发送信号以通过[Arduino Uno](http://arduino.cc/en/Main/ArduinoBoardUno)捕获图像。我怎么做？

捕获图像后，数据将在 Arduino 中保存和处理。如何进行网络摄像头和 Arduino 接口？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:00:03.720

通常，您会使用接近传感器连续读取值，如果发生变化，Arduino 可以通过串行端口发送信号。

在计算机端，您可以从串口读取并使用脚本触发网络摄像头。

在[Python](http://en.wikipedia.org/wiki/Python_%28programming_language%29)中，可以使用[PySerial](http://pyserial.sourceforge.net/)模块，并且很容易将 Python 脚本链接到网络摄像头来拍照。[在此处阅读示例](https://stackoverflow.com/questions/604749/python-api-to-access-webcam-stream)。

（您应该对此进行更多研究。已经有很多使用传感器触发的解决方案。请参阅高速摄影：[http](http://www.glacialwanderer.com/hobbyrobotics/?p=11) ://www.glacialwanderer.com/hobbyrobotics/?p=11 ）

# c++builder - 从 TDateTimePicker 获取日期时间

> ID：12294520
> 
> 赞同：1
> 
> 时间：2012-09-06T06:56:21.353
> 
> 标签：c++builder, c++builder-2010

我无法从 C++ 构建器 ide 中的 TDateTimePicker 获取日期时间。我正在格式化它以显示日期和时间，但它只显示日期，因为我认为它的`Kind`属性设置为`dtkDate`. 是否可以从此组件获取日期和时间？

```
ShowMessage(deARV->DateTime.FormatString("dd.MM.yyyy HH:mm")); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T19:37:24.863

`TDateTimePicker`其`Kind`属性设置为的 A`dtkDate`没有与之关联的时间。如果您同时需要日期和时间，则必须使用两个单独的`TDateTimePicker`控件，一个设置为`dtkDate`，另一个设置为`dtkTime`。然后，您可以在需要时将它们的两个值组合在一起，例如：

```
TDateTime dtDateTime = deARVDate->Date + deARVTime->Time;
ShowMessage(dtDateTime.FormatString("dd.MM.yyyy HH:mm")); 
```

我已经看到，有时这会导致值的未使用部分出现垃圾值`TDateTime`，所以我更喜欢使用它：

```
TDateTime dtDateTime;
ReplaceDate(dtDateTime, deARVDate->Date);
ReplaceTime(dtDateTime, deARVTime->Time);
ShowMessage(dtDateTime.FormatString("dd.MM.yyyy HH:mm")); 
```

或这个：

```
TDateTime dtDateTime = DateOf(deARVDate->Date) + TimeOf(deARVTime->Time);
ShowMessage(dtDateTime.FormatString("dd.MM.yyyy HH:mm")); 
```

# php - 用于重复的php日期库

> ID：12294521
> 
> 赞同：0
> 
> 时间：2012-09-06T06:56:22.767
> 
> 标签：php, date, recurrence

我需要一个 PHP 项目的东西，使我能够返回奇数日期，例如“本月的每隔一个星期六”或“本月的每个第四个星期五”。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-16T18:19:48.963

这是一个旧帖子，但供参考：

[https://github.com/tplaner/当](https://github.com/tplaner/When)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:06:09.690

尝试这个

```
<?php

$date = date('Y-m-d', mktime(0, 0, 0, date('m'), 1, date('y')));

echo date('Y-m-d', strtotime($date.'fourth friday'));

?> 
```

这将为您提供当月第四个星期五的日期

# java - 全文搜索是否支持无模式索引？

> ID：12294522
> 
> 赞同：3
> 
> 时间：2012-09-06T06:56:24.033
> 
> 标签：java, google-app-engine, full-text-search, schema, gae-search

我正在尝试使用 Appengine Search API 让用户查询多个数据集，每个数据集都有自己的架构。进一步来说：

用户可以访问多个数据集。每个数据集都有很多行。每个数据集都有一组列。每列都有一个名称和一个类型。跨数据集的列可能存在名称冲突，并且这些冲突可能具有不同的类型。

我希望用户能够通过对搜索 api 的一次查询来搜索他们的所有数据集。如果我为每个数据集中的每一行创建一个文档，我怀疑当你对每个数据集中的所有字段进行联合时，会有超过 1000 个不同的字段（其中一个字段 = 一个列）。

我怎样才能解决这个问题？还是我必须建立多个索引（每个数据集一个）并发出多个请求？这些多个请求可以并行发生吗？这种方法的缺点/成本是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T00:14:45.867

一个很好的起点是[python 文档](https://developers.google.com/appengine/docs/python/search/overview)，因为底层框架是相同的。话虽如此，这里的 YMMV 作为 Java 端仍然是实验性的。

并非文档中的每条记录都必须属于同一类型。您所需要的只是一种从 document_id 到您的对象的方法，因此 <tableId>:<objectId> 在这里很好。但是，根据文档，

> 当前，每个给定索引架构的命名字段限制为 1000 个。

所以这对你来说可能是个问题。如果您不关心列上的匹配，您可以简单地将您的对象转换为具有单个字符串的文档，然后从那里进行文本搜索。然后一切都可以在一个列中。然后，您可以从 document_id 获取 <tableId>:<objectId> 并从数据存储中获取数据。

# ruby-on-rails - 问题更改时Redmine插件视图挂钩刷新

> ID：12294523
> 
> 赞同：6
> 
> 时间：2012-09-06T06:56:28.963
> 
> 标签：ruby-on-rails, redmine, redmine-plugins

我写了一个插件来抓取最新的问题并将它们显示在主页上。一切似乎都运行良好，但它仅在我第一次重新启动服务器以运行它时才有效 - 之后它“缓存”了当时的问题，并且没有获取新的问题。

我已经阅读了一些关于它的内容，看来我应该为问题编写一个补丁，以便在我的插件中添加额外的功能。真的吗？如果是这样，我应该`after_save`采取什么行动？LatestPostsSetup 模型也会发生同样的情况 - 如果我更改最大计数和应该显示它的一侧的值，主页不会反映它，直到我重新启动服务器。

抱歉，如果这个问题看起来相当琐碎，我是 ruby​​ 新手。请在下面找到查看帮助程序代码：

```
module LatestPosts
    class ViewHookListener < Redmine::Hook::ViewListener

        require  'plugins/latest_posts/app/models/latest_posts_setup.rb'
        setup = LatestPostsSetup.find_by_id(1)

        if setup == nil
          count = LatestPostsSetup::DEFAULT_COUNT
          side  = LatestPostsSetup::DEFAULT_SIDE
        else
          count = setup.max_count
          side  = setup.side
        end

        issues  = Issue.find(:all, :limit => count, :order => "created_on DESC")

        if side == 'left'
           render_side = :view_welcome_index_left
        else
           render_side = :view_welcome_index_right
        end
        render_on render_side, :locals => {:issues => issues}, :partial => "latest_issues/issues"
    end end 
```

**编辑**

我现在已经更改了视图助手以即时渲染 html，并且我不必重新启动 apache 来显示新问题，我不明白为什么使用 html 模板可以解决问题？请在下面找到代码：

```
# lib/latest_posts_hook_listener.rb
module LatestPosts
    class ViewHookListener < Redmine::Hook::ViewListener

        def view_welcome_index_left(context={})
            setup = load_setup()
            if setup[:side] == "left"
                load_issues(setup[:count])
            end
        end

        def view_welcome_index_right(context={})
            setup = load_setup()
            if setup[:side] == "right"
                load_issues(setup[:count])
            end
        end

        def load_setup()
            require  'plugins/latest_posts/app/models/latest_posts_setup.rb'
            setup = LatestPostsSetup.find_by_id(1)

            if setup == nil
                count = LatestPostsSetup::DEFAULT_COUNT
                side  = LatestPostsSetup::DEFAULT_SIDE
            else
                count = setup.max_count
                side  = setup.side
            end

            {:count => count, :side => side}
        end

        def load_issues(count)
            html = '<div class="box" id="statuses">'
            html += '<h3 class="icon22 icon22-users">Latest Issues</h3><ul>'
            issues  = Issue.find(:all, :limit => count, :order => "created_on DESC")
            issues.each do |issue|
                html += <<EOHTML
                  <li>
                      #{link_to h(truncate(issue.subject, :length => 60)), :controller => 'issues', :action => 'show', :id => issue } (#{ format_date(issue.created_on) })
                   </li>
EOHTML
            end
            html += '</ul></div>'
            return html
        end
    end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T04:27:40.860

让我们看看这是否对您有帮助。我正在阅读[本教程](http://www.redmine.org/projects/redmine/wiki/Plugin_Tutorial)，并且在该部分`Using Hooks`有以下段落：

> 要在视图中使用一个或多个挂钩，您需要创建一个继承自 Redmine::Hook::ViewListener 的类并实现以您要使用的挂钩命名的方法。

在您不起作用的代码中，我看到您已经创建了该类，但是我没有看到为您要使用的挂钩实现的方法。

如该部分中给出的示例一样，我查看了此视图[http://www.redmine.org/projects/redmine/repository/entry/tags/2.0.0/app/views/issues/show.html。 erb](http://www.redmine.org/projects/redmine/repository/entry/tags/2.0.0/app/views/issues/show.html.erb)（不确定这是您需要的视图），它显示有两个可用的钩子：一个命名`:view_issues_show_details_bottom`的和一个命名`:view_issues_show_description_bottom`的，我希望您在代码中实现名称与钩子名称匹配的方法。这个视图中的这些钩子会显示你想要的吗？如果没有，您可能需要使用不同的视图。

作为参考，我在这里查看了 Redmine 视图列表：[http ://www.redmine.org/projects/redmine/repository/show/tags/2.0.0/app/views](http://www.redmine.org/projects/redmine/repository/show/tags/2.0.0/app/views)

# php - 将变量从控制器传递到 CodeIgniter 中的视图

> ID：12294527
> 
> 赞同：21
> 
> 时间：2012-09-06T06:56:33.703
> 
> 标签：php, oop, codeigniter

我是 Codeigniter 和 OOP PHP 的新手。

控制器：

```
public function index(){
    $this->load->model('main_model');
    $planet = $this->main_model->solar();
    $this->load->view('main_view', $planet);    
    } 
```

如果`echo $planet`在控制器中它会做它应该做的事情。如果我`echo $planet`在视图中我得到一个未定义的变量错误。 `$planet`不是数组。为什么不将`$planet`变量传递给视图？

我知道这是一个简单而基本的问题，我很尴尬我无法弄清楚我做错了什么。

编辑：好的，经过更多的摆弄，我让它工作了。当变量被格式化为数组时，变量只能从控制器传递到视图吗？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-09-06T06:59:09.700

您必须将数组传递给视图。CodeIgniter 会自动`$planet`为您提供。

```
$data = array('planet' => $planet);
$this->load->view('main_view', $data); 
```

有了这个，您可以`$planet`在您的视图中使用。

例如，如果您执行以下操作：

```
$data = array('foo' => 'Hello', 'bar' => 'world');
$this->load->view('main_view', $data); 
```

`$foo`并将`$bar`在您的视图中可用。数组中的键值对会自动转换为视图中的变量。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-09-06T07:42:08.883

您可以将*数组*或*对象*传递给视图。然后，您可以在视图中将数组键作为变量访问。

## 控制器

**大批**

```
public function index()
{
    $this->load->model('main_model');
    $planet_data['planet'] = $this->main_model->solar();
    $this->load->view('main_view', $planet_data);
} 
```

**目的**

```
public function index()
{
    $this->load->model('main_model');
    $planet_data = new stdClass(); //Creates a new empty object
    $planet_data->planet = $this->main_model->solar();
    $this->load->view('main_view', $planet_data);
} 
```

来自~~[CodeIgniter 的用户手册](http://codeigniter.com/user_guide/general/views.html)~~（死链接）：*注意：如果使用对象，类变量将变成数组元素。*

## 看法

不管你如何传递数据，它都可以这样显示：

```
<?php echo $planet; ?> 
```

如果它是一个数组，那么您将需要遍历它。或者一个对象，然后访问它的成员变量。

* * *

根据我的经验，使用数组比使用对象更常见。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T07:01:46.540

试试看：

```
public function index(){
    $this->load->model('main_model');
    $data['planet'] = $this->main_model->solar();
    $this->load->view('main_view', $data);    
} 
```

并根据您的意见，您可以访问`"$planet"`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-03-23T03:59:54.823

如果模态包含数组响应：

```
public function solar() {
   $data['earth'] = 'Earth';
   $data['venus'] = 'Venus';
   return $data;
} 
```

然后你要像这样查看数据：

```
public function index(){
    $this->load->model('main_model');
    $planet = $this->main_model->solar();
    $this->load->view('main_view', $planet);    
} 
```

但是在视图中，您将可以访问如下数据：

```
echo $earth;
echo $venus; 
```

如果您不知道想要响应，请使用如下代码：

```
public function index(){
    $this->load->model('main_model');
    $planet['planet'] = $this->main_model->solar();
    $this->load->view('main_view', $planet);    
} 
```

在视图文件中，您可以像这样访问数据：

```
print_r($planet); 
```

**如果您不知道将显示哪些数据，则只需在视图中使用此代码：**

```
print_r($this->_ci_cached_vars); 
```

# php - PHP MYSQLi real_escape_string

> ID：12294528
> 
> 赞同：-3
> 
> 时间：2012-09-06T06:56:35.127
> 
> 标签：php, mysql, sql, mysqli

这是我的查询运行代码：

```
$sqlm = getPageById();
if ($resultm = $mysqli->prepare($sqlm)) 
{
    $mypageid = 216;
    $resultm -> bind_param("i",$mypageid); 
    $resultm->execute();    
    $resultm->store_result();
    $rowsm = $resultm->num_rows;
}
if($rowsm > 0)
{
    $rowm = fetch($resultm);
    $pagetitle = $mysqli->real_escape_string($rowm[0]["page_title"]);
    $pageContent = $rowm[0]["page_content"];
    $pageurlname = $mysqli->real_escape_string($rowm[0]["page_name_url"]);

} 
```

这是我的查询：

```
function getPageById()
{
    $sqlStr = "select * from tbl_pages where page_id = ?";
    return $sqlStr;
} 
```

这就是我邮寄的内容：

```
$mysqli->real_escape_string ($_POST["page_content"]); 
```

这是我的`echo`：

```
$pageContent = $rowm[0]["page_content"];
<?=$pageContent?> 
```

我在回显中遇到问题我从数据库中得到这样的结果：

而不是：stackoverflow ..我得到：stack/r/n//over/r/n/flow 有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:12:13.493

`mysqli_real_escape_string`用于清理您要插入到 SQL 查询中的字符串（如果您使用这种老式方式而不是使用准备好的语句）。它不用于处理查询*结果*。

如果您要将结果插入网页，您需要的功能是`htmlentities`. 例如

```
$pagecontent = htmlentities($rowm[0]["pagecontent"]); 
```

在查询数据库时使用准备好的语句可以防止 SQL 注入。将`htmlentities`结果放在网页上时使用可防止跨站点脚本攻击。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:04:41.860

看起来好像数据是问题，而不是您的 php 代码。您确定这些换行符不在数据库中吗？

# asp.net - Session_End 事件中 Session 变量的 asp.net 值

> ID：12294532
> 
> 赞同：8
> 
> 时间：2012-09-06T06:56:58.077
> 
> 标签：asp.net, events, session, session-variables

如果我将值存储在会话变量中

```
 Session["Int"] = 100; 
```

Session_End 事件中的内容是什么？它将是 null 还是 100？

```
void Session_End(object sender, EventArgs e)
{
      object objInt = Session["Int"];          // Null or 100 ?
} 
```

意思是， Session_End 会在处理会话中的所有内容之后还是之前触发？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-06T07:06:26.073

它是 100。

要自己测试它，只需将 ASP.NET 应用程序文件添加[`global.asax`](http://aspalliance.com/1114_Understanding_the_Globalasax_file.all)到您的项目并处理`Session_Start`结束[`Session-End`](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.sessionstatemodule.end.aspx)事件：

```
void Session_Start(object sender, EventArgs e)
{
   Session["Int"] = 100;          // 100
}

void Session_End(object sender, EventArgs e)
{
    object objInt = Session["Int"];  // it is still 100 here
} 
```

[`Session.Abandon()`](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.abandon.aspx)您可以在（或到期时）结束会话。

```
protected void Page_Load(object sender, EventArgs e)
{
    Session.Abandon();  // after this Session.End is called
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:07:28.610

我发现 Session["Int"] 将为 100。我将会话超时设置为仅 1 分钟，并在该事件中设置了一个断点。

# ios - coredata 中的一些查询？

> ID：12294533
> 
> 赞同：0
> 
> 时间：2012-09-06T06:57:09.270
> 
> 标签：ios, xcode, core-data

我是使用 CoreData 的新手，我正在尝试了解如何对表执行查询。我有两个疑问。假设我有两个表（比如 admin 和 'stdDetails'），一个包含管理员配置文件（用户名、密码等），即只有一行，另一个包含我想获取的学生详细信息（id、name、class 等）管理员密码，还想记录第二张表中的所有学生姓名。有什么简单的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:35:25.417

当您在两个表之间没有关系时，您必须执行单独的获取请求。

编辑获取请求示例：

```
NSFetchRequest *fetchRequest = [[NSFetchRequest alloc ] init ];
NSEntityDescription *entity = [NSEntityDescription entityForName:@"stdDetails" inManagedObjectContext:self.managedObjectContext ];
[fetchRequest setEntity:entity ];

NSError *error = nil;
NSArray *objects = [ self.managedObjectContext executeFetchRequest:fetchRequest error:&error];
return objects; 
```

# c# - 如何在 c# dataGridView 中的单元格编辑后抑制行更改？

> ID：12294535
> 
> 赞同：1
> 
> 时间：2012-09-06T06:57:15.877
> 
> 标签：c#, datagridview

更改单元格中的值并按下`enter`光标后跳到下一个单元格。是否可以避免这种行为？我想让光标在编辑完成后停留在同一个单元格。我用来`CellEndEdit`在单元格中执行一些具有值的操作。
谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:02:38.350

您可以通过 keypress 事件或 cellvaluechanged 事件查找 enter 按键来限制它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T08:22:17.437

毕竟我以***蹩脚***的方式解决了我的问题。
1.添加全局布尔标志来检测我是否需要在编辑后跳转并将其设置为`false`。
2\. 在`CellEndEdit`事件处理程序中将标志设置为`true`。
3\. 在`SelectionChanged`事件处理程序中检查标志。如果它设置为`true`然后跳起来并将标志设置为`false`。
4.设置`AllowUserToAddRows`为`false`避免在最后一行单元格编辑的情况下添加行。

# jquery - jQuery移动动态页面加载

> ID：12294537
> 
> 赞同：2
> 
> 时间：2012-09-06T06:57:24.543
> 
> 标签：jquery, mobile

我有 2 个 HTML 页面，第一个是登录页面，然后是第二个页面。当应用程序第一次启动时，登录凭据被获取并存储在数据库中。第二次启动应用程序时，它首先在数据库中检查凭据（我已将检查数据库的代码放入`$(document).ready(function())`）。如果它找到凭据，它应该转到第二页，否则获取凭据（到登录页面）。但问题是即使它在 DB 中找到凭据，登录页面仍然只是闪烁并显示第二页（加载第二页的代码写在 中`$(document).ready(function())`）。

我是跨平台移动开发和 JQuery 的新手。

# php - 如何防止包含远程服务器文件或共享服务器文件？

> ID：12294547
> 
> 赞同：-1
> 
> 时间：2012-09-06T06:58:17.567
> 
> 标签：php, security, code-access-security

我在我的系统上使用 Xampp 服务器，通过在我的系统的 Xampp 服务器上调整一些 PHP.INI 设置，我发现我可以从我的远程托管站点包含我的 php 文件。虽然我无法访问远程文件上的变量，但我仍然害怕专业的黑客可以访问这些变量。我很害怕，因为 url 显示了文件的路径。我知道我可以使用 .htaccess 隐藏文件的扩展名，但仍然任何人都可以猜到这些文件类型，因为只有少数类型的服务器端脚本主要由 web 开发人员使用。请让我知道是否有任何方法可以防止将我的服务器文件包含在远程服务器上或在我的站点所在的同一台服务器上运行的服务器上，或者没有什么可担心的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:09:31.143

在`php.ini`禁用网址中包括这样

```
allow_url_include = Off 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T08:01:10.737

> ```
> allow_url_include = On 
> ```

[此选项的作用](http://php.net/manual/en/filesystem.configuration.php#ini.allow-url-include)***是***允许您编写如下代码：

```
include 'http://example.com/foo.php'; 
```

它***不允许***其他人包含您服务器上的文件。
你的恐惧完全没有根据。

当有人通过 URL 访问它们时，Apache 将始终执行*您*服务器上的任何 .php 文件。没有人可以像那样看到您的源代码。（假设 Apache 没有损坏或配置严重错误。）

PS：`allow_url_include`无论如何都应该关闭。这是个坏主意。

# c# - Visual Studio 设置 --> 使用注册表中的信息更改安装目录

> ID：12294553
> 
> 赞同：1
> 
> 时间：2012-09-06T06:58:37.207
> 
> 标签：c#, visual-studio-2010, visual-studio, installation, setup-project

我想通过自定义操作（安装前）左右更改安装目录。我怎样才能做到这一点？我只发现了将目录更改为特殊文件夹（如 appdata 左右）的提示。

最好的办法是在向用户显示目录之前更改目录。有办法吗？

我计划的步骤：

1.  开始设置
2.  确定一个注册表项
3.  更改安装目录
4.  向用户显示此目录
5.  继续正常的设置过程

如果使用类似的东西

```
[RunInstaller(true)]
public partial class MyInstallerHelper : Installer
{
    protected override void OnBeforeInstall(IDictionary savedState)
    {
        // 1\. I don't know how to change the installdir
        // 2\. the installation is started already
    }
} 
```

ps我发现了类似的东西，但这不是我想要的，因为installdir只写在一个文件中，没有改变 [http://vbcity.com/forums/p/145818/624707.aspx](http://vbcity.com/forums/p/145818/624707.aspx)

# xml - notepad++ 中的 xml 结果格式（从宏转换而来）

> ID：12294554
> 
> 赞同：0
> 
> 时间：2012-09-06T06:58:39.907
> 
> 标签：xml, macros, notepad++

我已经使用 excel 宏将数据转换为 xml 文件。在IE中读取xml是没有问题的，格式一目了然。但是如果用记事本++打开，格式就会有问题。所有的词都排成很长的一条线。是xml标题的问题吗？我猜。

```
<?xml version="1.0" encoding="UTF-8" ?> 
```

我尝试用 xml notepad 2007 打开，格式没问题。但不能编辑。它说：

“您的 XML 文档不包含 xml-stylesheet 处理指令。要提供 XSLT 转换，请将以下内容添加到文件顶部并相应地编辑 href 属性：

< ?xml-stylesheet type="text/xsl" href="stylesheet.xsl"? >

这是否意味着我需要更改标题？标题是问题的根源？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:35:28.043

XML 样式表是一个可用于以图形方式显示 XML 的文件，您可以使用[CSS](http://en.wikipedia.org/wiki/Css)或[XSL](http://en.wikipedia.org/wiki/Xsl)文件来实现。

您不需要这些文件来使用您的 XML。

标题：

```
< ?xml-stylesheet type="text/xsl" href="stylesheet.xsl"? > 
```

如果您想将[样式表关联到您的 XML 文件](http://www.w3.org/TR/xml-stylesheet/)，而不是使XML 格式正确，这[很有用](http://en.wikipedia.org/wiki/XML#Well-formedness_and_error-handling)。

此外，如果您在 Notepad++ 中看不到换行符，这并不意味着您的文件格式不正确，而只是您的宏可能在没有缩进过程的情况下打印 XML，这有助于使您的文件更人性化-可读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-29T17:12:52.307

当您使用 XML Notepad 2007 时，您在树视图中编辑 XML，而不是在您会看到该错误消息的 XML 输出视图中。

在树视图中右键单击标签*XML:Stylesheet*并选择*处理指令 > Child*。这提供了添加例如*类型*和*href*的选项，方法是双击所有数据所在的分隔栏右侧，并为您使用的样式表插入例如*text/xml*和适当的url。

但是请注意，您不需要样式表，因为大多数应用程序（包括 XML notepad 2007）在没有任何其他特定样式表的情况下使用默认样式表。当 XML 显示在窗口或类似的窗口中时，样式表仅用于格式化 XML 的布局。

# php - 我在执行查询而不是结果后得到选择的行数？

> ID：12294556
> 
> 赞同：1
> 
> 时间：2012-09-06T06:58:52.450
> 
> 标签：php, yii

我是 yii 的新手，在执行查询时，我得到的是选择的行数，而不是实际选择的数据。

我怎样才能获得选择的实际数据。

```
$sql = "SELECT DISTINCT a.CONTENT_ID,a.CONTENT_TITLE 
    FROM TBL_CONTENT_DETAILS a JOIN TBL_CONTENTS b 
    ON a.CONTENT_ID=b.CONTENT_ID 
    WHERE (b.CONTENT_TYPE_ID =22 or b.CONTENT_TYPE_ID=53) 
    and a.CONTENT_ID not in ($notin)";

$connection = Yii::app()->db2;
$command    = $connection->createCommand($sql);
$res        = $command->execute(); 
```

$notin 包含逗号分隔的整数 id。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:03:12.473

`$command->queryAll();`改为使用

`execute()`将始终返回受影响的行数，而`fetchAll()`将为您提供一组结果。

[http://www.yiiframework.com/doc/api/1.1/CDbCommand/#queryAll-detail](http://www.yiiframework.com/doc/api/1.1/CDbCommand/#queryAll-detail)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:02:56.567

也许你想要

```
$rows = $command->queryAll(); // query and return all rows of result 
```

[在此处阅读更多相关信息。](http://www.yiiframework.com/doc/guide/1.1/en/database.dao#fetching-query-results)

# oracle - Oracle 假脱机脚本输出到表

> ID：12294557
> 
> 赞同：1
> 
> 时间：2012-09-06T06:58:52.673
> 
> 标签：oracle, spool

有没有办法将 .sql 脚本输出假脱机到表中？

我能想到的一种解决方法是通过动态创建带有反馈的插入语句脚本来假脱机到文件系统，然后针对您的模式运行它。

但是，我想知道是否有更好的解决方案可以直接进入表或已经存在并存储此信息的系统表（例如脚本文件路径、执行日期、执行结果；`1 row inserted`等`commit`...

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T09:32:48.257

将假脱机文件写入已定义 Oracle 目录的目录。编写一个以文件名和目录名作为输入并将文件作为 CLOB 写入表的过程。

```
spool test.txt

your code

spool off

exec write_spool_file_to_database_proc('test.txt','YOURDIR'); 
```

看一下如何将文件写入表 CLOB 列。

[http://www.roeptoeter.nl/?p=254](http://www.roeptoeter.nl/?p=254)

# iphone - 如何在ios中通过谷歌地图查找路线？

> ID：12294561
> 
> 赞同：0
> 
> 时间：2012-09-06T06:59:14.190
> 
> 标签：iphone

我已经搜索过，但我没有得到我想要的。

我正在开发一个应用程序，我想在其中给出我的应用程序中的位置名称和

调用谷歌地图以显示方向。我需要写什么网址才能找到方向

请帮忙。

请回复我以进行任何澄清...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:15:41.797

我想你要找的是这个，

[https://github.com/kishikawakatsumi/MapKit-Route-Directions](https://github.com/kishikawakatsumi/MapKit-Route-Directions)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:06:45.493

获取行车路线不是 IOS Mapkit 框架的一部分。为此目的使用谷歌地图 APi。我认为这可能会帮助你

```
 https://maps.google.com/maps?saddr=cochin&daddr={destination_address} 
```

例子

```
 http://maps.google.com/maps?daddr=San+Francisco,+CA&saddr=cupertino 
```

请参考苹果开发者网站的[链接](http://maps.google.com/maps?daddr=San%20Francisco,%20CA&saddr=cupertino)。

您可以将 URL 形成为

```
Nsstring * startLocation = @"Mumbai";
NSString * endLocation = @"Delhi";

 NSString * urlString = [NSString stringWithFormat:"https://maps.google.com/maps?saddr=%@&daddr=%@",startLocation,endLocation];
NSURL * url = [NSURL urlWithString:urlString]; 
```

# tumblr - 如何从 tumblr 的相邻页面访问我的帖子

> ID：12294569
> 
> 赞同：0
> 
> 时间：2012-09-06T06:59:58.270
> 
> 标签：tumblr

好的，所以我在 tumblr 中为我的博客创建了一个相邻页面（在自定义 -> 页面 -> 添加页面中），但似乎我不能使用任何变量来获取我的帖子，例如

```
{block:Post}
   {block:Audio}
      <div class="audio">
         {AudioPlayerBlack}
      </div> 
   {/block:Audio}
{/block:Post} 
```

如何从相邻页面（如 your_page.tumblr/adjacent_page）访问这些变量甚至我的帖子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:01:22.140

简而言之，你不能。

页面被渲染为文本帖子，但没有附加日期，因此您在`{block:Text}`块中拥有的任何内容都将被渲染。

# android - Android：通过用户首选项复选框在状态栏上显示通知

> ID：12294579
> 
> 赞同：0
> 
> 时间：2012-09-06T07:00:36.073
> 
> 标签：android, android-preferences, android-notifications, android-notification-bar, android-checkbox

我正在尝试使用用户首选项复选框在状态栏上显示或不显示通知。到目前为止，我已经这样做了：

**MainActivity.java**

```
@Override
public void UserPref {

    String notificationTitle = "ASD";
    String notificationMessage = "ASD ASD ASD";

    Intent targetIntent = new Intent(this, MainActivity.class);

    int requestCode = AppSingleton.NOTIFICATION_ID;

    PendingIntent contentIntent = PendingIntent.getActivity(this,
            requestCode, targetIntent, 0);
    String statusBarTickerText = "ASD ASD ASD";
    int icon = R.drawable.ic_launcher;

    Notification notification = new Notification(icon, statusBarTickerText,
            System.currentTimeMillis());
    notification.flags = Notification.FLAG_ONGOING_EVENT
            | Notification.FLAG_NO_CLEAR;
    notification.setLatestEventInfo(this, notificationTitle,
            notificationMessage, contentIntent);

    nm.notify(AppSingleton.NOTIFICATION_ID, notification);
} 
```

我可以一直显示通知。但现在我想添加用户首选项，用户可以通过它禁用或启用通知。这是我的 PreferenceActivity 代码：

**用户偏好.java**

```
public class UserPreference extends PreferenceActivity {
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    addPreferencesFromResource(R.xml.prefs);

    final CheckBoxPreference checkboxPref = (CheckBoxPreference) getPreferenceManager()
            .findPreference("Checkbox");

    checkboxPref
            .setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {
                public boolean onPreferenceChange(Preference preference,
                        Object newValue) {
                     Log.d("MyApp", "Pref " + preference.getKey() + " changed to " + newValue.toString());       
                        return true;
                }
            });
   }
} 
```

从 MainActivity.java 检查 CheckBox 时，我无法调用该函数，但我可以在 DDMS 中打印布尔值。

请查看并纠正我做错了什么，并帮助我克服这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:25:28.373

您不需要为偏好的更改注册侦听器。您可以在使用以下代码发送通知之前检查标志，只需获取保存在默认共享首选项中的复选框的值：

```
SharedPreferences defaultSettings = PreferenceManager.getDefaultSharedPreferences(this);
boolean notifyEnabled = defaultSettings.getBoolean("Checkbox", true);

if(notifyEnabled) {
    // Perform code to send notification 
} 
```

如果您仍然希望在复选框值更改时以某种方式收到通知，您可以通过覆盖 onSharedPreference() 方法来实现：

```
@Override
public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, 
    String key)
{
    if(key.compareToIgnoreCase("Checkbox") == 0)
    {
        boolean isChecked = sharedPreferences.getBoolean("Checkbox", false);
        if(isChecked)
        {
            // Checkbox is checked
        }
        else
        {
            // Checkbox has been unchecked
        }
    }
} 
```

# ruby-on-rails - Instant Rails 2.0 不更新 gem 并显示 HTTP 响应 302 错误

> ID：12294582
> 
> 赞同：0
> 
> 时间：2012-09-06T07:00:47.170
> 
> 标签：ruby-on-rails, ruby, http, gem, response

我在我的 Windows 7 机器上安装了 Instant Rails 2.0。它有以下版本： Rails 2.0.2 gem 1.0.1 ruby​​ 1.8.6

我正在尝试使用命令更新 gem >gem update 它显示如下消息：

```
Updating installed gems...
ERROR:  While executing gem ... (Gem::RemoteSourceException)
    HTTP Response 302 fetching http://gems.rubyforge.org/yaml 
```

对于所有更新操作，错误是相同的。有人可以建议如何将安装的即时 Rails 版本更新为最新版本或所需版本吗？

手动更新也可以（只需告知将文件放在哪里以及要替换哪个目录）。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T12:55:09.633

简短的回答是 Instant Rails 几乎被贬低了。Rubyforge 几乎消失了，取而代之的是 ruby​​gems.org。要在 Windows 上运行，请查看：[http ://railsinstaller.org/](http://railsinstaller.org/)

# joomla2.5 - jomsocial 中的自定义个人资料字段

> ID：12294585
> 
> 赞同：0
> 
> 时间：2012-09-06T07:01:00.673
> 
> 标签：joomla2.5, joomla1.7, joomla1.6, jomsocial

我正在寻找从 jomsocial 前端创建自定义配置文件字段的不错的扩展。是否有任何第三方扩展来实现这一点。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T16:58:08.837

有一个后端功能。你也可以从后端购买 JSPT 组件，而不是前端。

# sql - 加入 3 个选择查询的结果

> ID：12294586
> 
> 赞同：-4
> 
> 时间：2012-09-06T07:01:01.337
> 
> 标签：sql, database, join

我想加入以下三个表，我的条件是 t1.eid = 1。加入表后，我想用 0 填充空表单元格。我想先加入 t1 和 t2，其中 t1.eid=1，然后将结果与 t3 连接起来，其中将两个表的结果与 t3 连接起来，其中 t3.vid= 新的 result.vid。

数据样本：

```
CREATE TABLE t1 (
sid INT,
fid INT,
eid INT,
i INT,
uid INT);

INSERT INTO t1 (sid, fid, i, eid, uid) VALUES (1, 1, 1, 1, 1), (2, 2, 1, 1, 2), (3, 1,
1, 2, 1), (4, 2, 1, 2, 2), (5, 1, 1, 3, 1), (6, 2, 1, 3, 2), (7, 1, 1, 1, 3);

CREATE TABLE t2 (
d INT,
vid INT,
eid INT
);

INSERT INTO t2( d, vid, eid ) VALUES ( 1, 1, 1 ) , ( 1, 2, 1 ) , ( 1, 3, 2 ) , ( 1, 4, 
2 ) , ( 1, 5, 3 ) , ( 1, 6, 3 ) ;

CREATE TABLE t3 (
vid INT,
fr INT,
sr INT,
aj INT,
sj INT,
fid INT,
uid INT
);

INSERT INTO t3( vid, fr, sr, aj, sj, fid, uid ) VALUES ( 1, 0, 100, 0.1, 1, 1, 1 ) , ( 
2, 0, 1000, 1, 1, 2, 2 ) , ( 3, 0, 300, 0.1, 1, 1, 1 ) , ( 4, 0, 200, 1, 1, 2, 2 ) , ( 
5, 0, 1000, 0.25, 10, 1, 1 ) , ( 6, 0, 200, 1, 1, 2, 2 ) , ( 7, 0, 150, 1, 0.1, 1, 1 ) 
, ( 8, 0, 350, 1, 0.1, 1, 1 ) , ( 9, 0, 1050, 10, 0.25, 1, 1 ) , ( 10, 0, 1050, 1, 0, 
2, 2 ) , ( 11, 0, 250, 1, 0, 2, 2 ) , ( 12, 0, 250, 1, 0, 2, 2 ) ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:05:46.453

尝试这样的事情，

```
SELECT  a.*, b.*, c.*           -- select your desired columns here
FROM    t1 a INNER JOIN t2 b
            ON a.eid = b.eid
        INNER JOIN t3 c
            ON b.vid = c.vid
WHERE  a.eid = 2 
```

或者

```
SELECT  b.d, a.fid, a.uid, a.i, a.eid, c.fr, c.sr, c.aj, c.sj
FROM    t1 a INNER JOIN t2 b
            ON a.eid = b.eid
        INNER JOIN t3 c
            ON b.vid = c.vid
WHERE  a.eid = 2 
```

您可能想知道为什么 tableName 后面有字母。实际上他们被称为`Alias`。当您有更长的表名时，有时会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:07:43.407

```
SELECT t2.d, t1.fid, t1.uid, t1.i, t1.eid, 
    ISNULL(t3.fr), ISNULL(t3.sr), ISNULL(t3.aj), ISNULL(t3.sj)
FROM t1
INNER JOIN t2 ON t1.eid = t2.eid
RIGHT JOIN t3 ON t2.vid = t3.vid
WHERE  t1.eid = 1 OR t2.eid = 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:09:00.863

```
select T2.D,t1.fid,t1.uid,t1.eid,t3.fr,t3.sr,t3.aj,t3.sj 
from T1 
    left outer join T2 ON t1.EID=t2.EID
    Left Outer JOin T3 ON T1.Fid=T3.Fid and T1.Uid=t3.Uid; 
```

# zend-framework - 如何在zend中创建appcontroller

> ID：12294590
> 
> 赞同：0
> 
> 时间：2012-09-06T07:01:35.783
> 
> 标签：zend-framework

在电子邮件功能中，可能会多次发送电子邮件以在应用程序中执行某些操作。那么有没有办法在 zend 中创建 appcontroller 以便我们可以在整个应用程序中使用它的格式。

如果有人知道这一点，请提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T08:07:17.200

你根本不需要控制器。只需创建一个类，比如 Application_Email，然后在任何地方使用它。

# java - tnameserv：OSX 的端口问题

> ID：12294593
> 
> 赞同：0
> 
> 时间：2012-09-06T07:01:44.843
> 
> 标签：java, distributed-computing, corba, nameservers

如何在 OSX 上使用 tnameserv？每次我启动服务器时，我都会收到以下错误

`(COMM_FAILURE) Unable to create listener thread on the specified port: 900`

我知道 1020 以下的端口在 Mac 上是为 root 保留的，但我是机器上的 root 用户。我可以更改端口，`-ORBInitialPort 1050`但这意味着更改程序中的很多内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-27T07:08:19.197

重构应用程序可能是最好的选择。端口应该是应用程序的一个选项，可以驻留在属性文件或命令行选项中。

运行东西，即使以 root 或管理员身份进行开发也不是很好的设计。

# linux - 将文本和文件内容发送到标准输入，而不使用临时文件

> ID：12294595
> 
> 赞同：2
> 
> 时间：2012-09-06T07:01:55.713
> 
> 标签：linux, unix, scripting

我们知道将文本文件的内容发送`file.txt`到从标准输入读取的脚本很简单：

```
the_script < file.txt 
```

假设我想做与上面相同的事情，除了我想将额外的一行文本发送到脚本，*然后*是文件的内容？肯定有比这更好的方法：

```
echo "Here is an extra line of text" > temp1
cat temp1 file.txt > temp2
the_script < temp2 
```

这可以在不创建任何临时文件的情况下完成吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-09-11T00:57:29.217

以 cdarke 的回答为基础，使其从左到右可读：

```
echo "Extra line" | cat - file.txt | the_script 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T09:59:16.450

有几种方法可以做到这一点。现代 shell（Bash 和 ksh93）具有支持从标准输入读取单个值的功能，称为*此处字符串*：

```
cat - file.txt <<< "Extra line"|the_script 
```

的第一个参数是从标准输入读取`cat`的连字符。`-`这里的字符串遵循`<<<`符号。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:06:01.263

这应该在`bash`：

```
{ echo "Here is an extra line of text"; cat file.txt; } < the_script 
```

# c++ - 我可以在类中重载静态运算符吗？

> ID：12294597
> 
> 赞同：2
> 
> 时间：2012-09-06T07:02:10.553
> 
> 标签：c++, operator-overloading

在 C# 中，要重载诸如 '+'、'-' 等运算符，我必须使函数成为类的静态成员：

```
class MyType
{
   /*...*/

   public static MyType operator+ (MyType a, MyType b)
   {
       MyType ret;
       /* do something*/
       return ret;
   }
} 
```

据我所知，在 C++ 中，这就是我重载运算符的方式：

```
class MyType
{
   /*...*/

public:
   MyType operator+ (MyType b) // *this is the first operand
   {
       MyType ret;
       /* do something*/
       return ret;
   }
}; 
```

问题是这`*this`是第一个操作数，所以第一个操作数必须是 MyType 类型。例如，如果我想添加`MyType`一个整数：

```
MyType a, b;
b = a + 1;  // Valid
b = 1 + a;  // Error 
```

在 C# 中，我可以为每种情况重载“+”运算符。

我的问题是：我可以在 C++ 中像在 C# 中一样使用静态运算符吗？据我所知，有一种方法可以做到这一点，使用友元运算符，但是在继承函数时它们会丢失。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:03:59.847

您可以在 C++ 的全局范围内定义运算符，例如

```
MyType operator+ (const MyType& a, const MyType& b)
{
    MyType ret;
       /* do something*/
    return ret;
} 
```

`MyType`如果操作员应该访问类的私有成员，您可能需要添加一个朋友声明。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-06T07:04:31.360

使左侧的`operator+`重载成为自由函数，而不是 的成员函数：`int``MyType`

```
class MyType
{
  ...

  // MyType + int can be a member function because MyType
  // is the type of the sum's left hand side
  MyType operator+(int rhs) const;
};

// int + MyType needs to be a free function because
// int is the type of the sum's left hand side
MyType operator+(int lhs, const MyType &rhs); 
```

另一个常见的习惯用法是使重载成为`friend`感兴趣的类的 a。现在您可以以相同的方式实现这两种情况：

```
class MyType
{
  ...

  friend MyType operator+(int lhs, const MyType &rhs)
  {
    // get access to MyType's private members here
    // to implement the sum operation
    ...
  }

  friend MyType operator+(const MyType &lhs, int rhs)
  {
    // you can also implement the symmetric case
    // of int on the right hand side here
    ...
  }
}; 
```

请注意，尽管`operator+`重载看起来像第二个示例中的成员函数，但它们实际上是存在于全局范围内的自由函数，因为它们声明为`friend`s of `MyType`。

# php - 网络公共根目录中的 PHP php.ini 文件？够安全吗

> ID：12294598
> 
> 赞同：5
> 
> 时间：2012-09-06T07:02:13.000
> 
> 标签：php

我听说当您无法访问根级别的 php.ini 时想要更改 php.ini 设置，您可以将 php.ini 上传到 web-root，这是正确的吗？

> 另一种自定义 PHP 设置的方法是创建一个名为的文件`php.ini`并将其上传到您的 Web 服务器。这与文件的工作方式类似，`.htaccess`只是您不必在行首添加“php_value”

如果这是正确的，那意味着任何键入​​的人

```
www.xx.com/php.ini 
```

**应该看到设置？这不是安全风险吗？**

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-06T07:05:32.933

我会坚持使用[**ini_set**](http://php.net/manual/en/function.ini-set.php)而不是将 php.ini 文件放在那里。

但如果你必须这样做，你最好用一套正确的`.htaccess`规则来保护它。就像是

```
<Files php.ini>
Order allow,deny
Deny from all
</Files> 
```

上述规则将阻止任何人访问该文件`www.xx.com/php.ini`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:06:32.013

人们编辑它是安全的。但是，任何偶然发现您的 php.ini 的人都可以看到它，因此最好使用 .htaccess 来禁止人们如此轻易地看到它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:04:50.127

如果在 Apache 上，我会使用 .htaccess，或者如果我必须使用 php.ini，则使用 .htaccess 来保护它。

# jquery - Jquery改变元素值？

> ID：12294604
> 
> 赞同：1
> 
> 时间：2012-09-06T07:02:37.903
> 
> 标签：jquery

我有 5 个 div。

```
<div class="wx-temp">89 <sup>°F</sup></div>
<div class="wx-temp">91 <sup>°F</sup></div>
<div class="wx-temp">87 <sup>°F</sup></div>
<div class="wx-temp">90 <sup>°F</sup></div>
<div class="wx-temp">89 <sup>°F</sup></div> 
```

我得到他们这样。

```
var degress = $("div.wx-temp").text(); 
```

我想在`sup`元素之后附加摄氏度值。

当我得到`.each`函数的递减时，它会像这样解析文本：

```
{8,9,°,F,9,1,°,F.........} 
```

我只想得到这样的整数：

```
{89,91,87,90,89} 
```

我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:07:49.497

如果你正在迭代`.text`，这就是你将得到的——对字符串中每个字符的迭代。您想遍历整个元素列表：

```
$("div.wx-temp").each(function() {
    var degFahrenheit = parseInt($(this).text(), 10);
    var degCelcius = customConversionHere(degFahrenheit);
    // append degCelcius to $(this)
}); 
```

严格来说，`$(this).text()`以上将产生`"89 °F"`，而不是`"89"`，但`parseInt`会照顾到这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:11:39.157

```
var degress = $("div.wx-temp").text();
var substr = degrees.split(' °F'); 
```

给

```
substr[0] = '89';
substr[1] = '91'; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T07:20:06.540

```
$(function(){

    alert(GiveDegrees());

});

function GiveDegrees()
{
    var divs = $('div.wx-temp');
    var degrees = new Array();

    $.each(divs,function(i,j){

        degrees.push( stringToNum( $(this).text()));

    });

    return degrees;
}

function stringToNum(str){
  return str.match(/\d+/g);

} 
```

小提琴链接：http: [//jsfiddle.net/LyG6q/5/](http://jsfiddle.net/LyG6q/5/)

# c# - 如何在插入或更新表时检查表中是否已存在行或列

> ID：12294612
> 
> 赞同：2
> 
> 时间：2012-09-06T07:03:12.323
> 
> 标签：c#, asp.net, sql

我正在构建一个项目，在该项目中我访问数据库表，将行和列插入和更新到表中。

我正在使用 更新数据库中的表，`GridView`每次都使用它向另一个表添加新列。

我在 button_Click 上的代码是：

```
com = new SqlCommand("ALTER TABLE Location_Profile_Master ADD " + LocProName.Text + " int", con);
            con.Open();
            com.ExecuteNonQuery();
            con.Close();

            foreach (GridViewRow row in GridView1.Rows)
            {
                string Pro_Name = row.Cells[1].Text;

                for (int i = 1; i < GridView1.Columns.Count; i++)
                {
                    int n = Convert.ToInt16(row.Cells[i + 1].Text);
                    //short n = 0;
                    //if (Int16.TryParse(row.Cells[i + 1].Text, out n))
                    //{
                        com = new SqlCommand("UPDATE Location_Profile_Master SET " + LocProName.Text + "='" + n + "' WHERE Profile_Name='" + Pro_Name.ToString().Trim() + "' ", con);
                        con.Open();
                        com.ExecuteNonQuery();
                        con.Close();
                    //}
                }

            } 
```

因此，在添加列及其值时，我想检查该列名是否已经存在于数据库中，如果不存在，我想检查列值是否已经存在于数据库中。应通知用户该列已存在于数据库中。

另外，当我插入一行时，我想知道该行是否已经存在于表中。

请帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:21:35.323

[您可以直接在信息架构视图](http://msdn.microsoft.com/en-us/library/ms186778.aspx)中读取 MS SQL-Server 中的架构信息，也可以使用它`DataReader.ExecuteReader(CommandBehavior.SchemaOnly)`来检索给定表的架构信息：

```
DataTable schema;
using (var con = new System.Data.SqlClient.SqlConnection(conStr))
{
    var getSchemaSql = String.Format("SELECT * FROM {0}", tableName);
    using (var schemaCommand = new System.Data.SqlClient.SqlCommand(getSchemaSql, con))
    {
        con.Open();
        using (var reader = schemaCommand.ExecuteReader(CommandBehavior.SchemaOnly))
        {
            schema = reader.GetSchemaTable();
        }
    }
} 
```

然后是类似的东西：

```
for (int rowIndex = 0; rowIndex < schema.Rows.Count; rowIndex ++)
{
    DataRow schemaRow = schema.Rows[rowIndex];
    String columnName = schemaRow.Field<String>("ColumnName");
    Type dataType = schemaRow.Field<Type>("DataType");
    Int32 columnSize = schemaRow.Field<Int32>("ColumnSize");
    if (dataType.FullName == "System.String")
    {
        // ...
    } 
 } 
```

或者，如果您只是想检查该表中是否存在给定的列名：

```
String colName = "Column1";
bool exists = schema.AsEnumerable()
                    .Any(r => r.Field<String>("ColumnName") == colName); 
```

如果你想知道一行是否已经存在，你可以使用它的主键/标识符和[`EXISTS`](http://msdn.microsoft.com/en-us/library/ms188336.aspx)sql：

```
IF NOT EXISTS(SELECT 1 FROM Location_Profile_Master WHERE PROFILE_NAME=@ProfileName) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:22:44.700

我假设您使用的是 MS SQL Server。尝试使用此代码检查该列是否存在，并在其中验证该行是否存在：

```
IF EXISTS(SELECT * FROM SYS.COLUMNS WHERE Name = N'columnName'  
            AND Object_ID = Object_ID(N'Location_Profile_Master'))
BEGIN
    -- Column Exists
    IF EXISTS (SELECT Profile_Name FROM Location_Profile_Master WHERE Profile_Name = @yourValue)
    BEGIN
        --value exists
    END
END 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:23:37.990

首先是一个建议：使用参数而不是 value `"'" + "'"`，因为它对 SQL 注入很敏感。

要检查数据库是否存在列，您可以使用：

```
SELECT CASE  WHEN COL_LENGTH('tableName', 'columnName') IS NOT NULL 
THEN 1 ELSE 0 END AS isExists 
```

即使数据库中不存在该表，这也会为您提供 0

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T07:21:58.393

你会更好地为这样的事情创建一个存储过程：

```
IF EXISTS ( SELECT 1 
            FROM INFORMATION_SCHEMA.COLUMNS 
            WHERE TABLE_NAME = 'Location_Profile_Master' 
              AND Column_Name = @columnParam) 
BEGIN
    -- The column exists
END
ELSE
    -- The column doesn't exit 
```

# makefile - makefile 中 VPATH 的行为

> ID：12294613
> 
> 赞同：0
> 
> 时间：2012-09-06T07:03:15.323
> 
> 标签：makefile

据我了解，VPATH 变量可以保存需要编译的源文件的搜索路径列表。因此，我在相同的上下文中使用 VPATH，如下面的示例代码片段所示。

```
SFILES= src1.c src2.c src3.c
VPATH= $(PATH-1)/src 
```

列出的源代码存在于我当前存在 Makefile 的目录以及 $(PATH-1)/src 中。当我给出**"make"**时，我看到*当前目录中的源优先于 VPATH*。

除了删除/重新定位当前目录中的源之外，是否有任何方法可以覆盖此行为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:17:04.733

恐怕答案是否定的。来自 GNU`make`文档：如果作为目标或先决条件列出的文件*在当前目录中不存在，则*make 在 VPATH 中列出的目录中搜索具有该名称的文件。

# c++ - c++ 重载函数转换问题：

> ID：12294616
> 
> 赞同：3
> 
> 时间：2012-09-06T07:03:34.750
> 
> 标签：c++, casting, overloading

我在超类中有函数，旨在将字符串与内部函数相关联：

```
class Base
{
    typedef std::function<void(double)> double_v;

    bool registerInput(std::string const& key, double_v const& input) {
        functions[key] = input;
    }

    void setInput(std::string key, double value) {
        auto fit = functions.find(key);
        if (fit == functions.end()) return;

        fit->second(value);
    }

    std::map<std::string, double_v> functions;
} 
```

这个想法是我可以注册函数的任何子类都可以用字符串和值调用它们：

```
SubBase::SubBase() : Base(){
    Base::registerInput(
        "Height", 
        static_cast<void (*)(double)>(&SubBase::setHeight)
    );
}

void SubBase::setHeight(double h) {
....
} 
```

然后可以调用：

```
subBaseInstance.setInput("Height", 2.0); 
```

但是，当我编译时，出现以下错误：

```
In constructor ‘SubBase::SubBase()’
error: invalid static_cast from type ‘&lt;unresolved overloaded function type>’ to type ‘void (*)(double)’ 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:10:10.573

正如其他人指出的那样，类型不匹配。但是，您可以使用[`std::bind`](http://en.cppreference.com/w/cpp/utility/functional/bind)它来工作：

```
Base::registerInput(
    "Height", 
    std::bind(&SubBase::setHeight, *this, std::placeholders::_1)
); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:05:33.413

```
typedef std::function<void(double)> double_v; 
```

是`function-pointer`。

```
static_cast<void (*)(double)>(&SubBase::setHeight) 
```

是`member-function pointer`。它们不能相互转换。

你可以用`std::bind`这个

```
SubBase::SubBase() : Base(){
    Base::registerInput(
        "Height", 
        std::bind(&SubBase::setHeight, this, std::placeholders::_1)
    ); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T07:06:31.960

`SubBase`is not `static`，所以它有一个隐含的第一个参数`SubBase*`（您为其调用成员函数的对象）。因此签名是`void (*) (SubBase*, double)`。在 C++11 中，您可能（我不完全确定）将其转换为`function<void (SubBase*, double)>`.

使用 lambda 函数，您可以执行以下操作：

```
SubBase::SubBase() : Base(){
    auto myself = this;
    Base::registerInput( 
        "Height",  
        [myself] (double v) { myself->setHeight (v); }
    ); 
} 

void SubBase::setHeight(double h) { 
.... 
} 
```

# php - 如何定义日是星期日和正常日。按日期使用 switch case？

> ID：12294621
> 
> 赞同：-6
> 
> 时间：2012-09-06T07:03:49.840
> 
> 标签：php, javascript

我在这段代码中有一个错误。请帮我解决它。

```
function holiday($today) {    

    $year = substr($today, 0, 4);     

    switch($today) {

      case $year.'-01-01':
          $holiday = 'New Year';
          break;

      case $today:
          $today11 = new DateTime($today);
          $R= $today11->format('l') . PHP_EOL;
          $Sunday='0';

          if($R == 0) {
              $holiday = 'Sunday';
          } else {
              $holiday = 'Normal Day';  
          }
      }

      return $holiday;
}

echo $tday= holiday($today); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:13:19.620

不确定您为什么要为此使用 switch ，请阅读如何使用[switch](http://php.net/manual/en/control-structures.switch.php)。下面的功能将起作用：

```
function holiday($today) {
    // z returns the number of the day in the year, 0 being first of January
    if(date("z", $today) == 0) {
         return "New Year";
    }

    // w returns the number of the day in the week 0-6 where 0 is Sunday
    if(date("w", $today) == 0) {
         return "Sunday";
    }

    return "Normal Day";
}

$today = date();
echo holiday($today); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:16:52.903

这是您的 holiday() 函数的工作实现：

```
function holiday($today) {    

$date = strtotime($today);     

//check if Sunday
if (date('l', $date) == 'Sunday') {
    return 'Sunday';
}

//check if New Year
if ((date('j', $date) == 1) && (date('n', $date) == 1)) {
    return 'New Year';
}

//else, just return Normal Day
return 'Normal Day';

}

//$today is in YYY/MM/DD format
echo $tday = holiday($today); 
```

此外，在这种情况下，PHP 的`date`参考可以派上用场：http: [//php.net/manual/en/function.date.php](http://php.net/manual/en/function.date.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:33:31.177

尝试一下：-

```
function holyday($today)
{
    $start_date = strtotime($today);

    if(date('z',$start_date) ==0)
    {
         return 'New Year';

    }else{

        if(date('l',$start_date) =='Sunday')
        {
             return 'Sunday';

        }else{

            return "Noraml Day";
        }
    }
}

echo holyday('2012-09-06'); 
```

输出 = 正常日

```
echo holyday('2013-01-01'); 
```

产出 = 新年

# java - 在 Eclipse 中生成返回 self 的设置器

> ID：12294627
> 
> 赞同：24
> 
> 时间：2012-09-06T07:04:00.200
> 
> 标签：java, eclipse, code-generation, pojo

我想要我的二传手，这样我就可以像这样链接它们：

```
myPojo.setX(x).setY(y); 
```

通常我使用 Eclipse 生成设置器，但不幸`code template`的是设置器只允许我更改设置器的主体，而不是签名。

完成上述内容的最简单方法是什么？除了搜索和替换+手动编辑？:)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-06T07:32:46.840

我可以提供一种不需要任何额外安装的补丁。

转到窗口/首选项/Java/代码样式/代码模板。编辑“setter body”模板如下：

```
${field} = ${param};
return this; 
```

现在，当您运行“生成 getter 和 setter”时，它将创建像这样的 setter：

```
public void setMyField(String myField) {
    this.myField = myField;
    return this;
} 
```

这显然会导致编译错误，因为方法类型是`void`. 但是您可以`Ctrl-F`将所有“公共无效集”替换为`public YourClassName set`.

这是一个补丁，但它可以工作......

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-06T07:22:22.813

您可以为此目的使用编辑器/模板。要定义新模板，请打开 Preferences Window，然后 Java->Editor->Templates。在此窗口中，您可以定义一个新模板并为其命名。例如：

```
public ${enclosing_type} setName(${argType} name) {
    this.name = name;
    return this;
} 
```

给它一个名字，例如settr。然后，您可以通过键入“settr”然后按 Ctrl-Space 在您的 Java 代码中使用此模板。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-06T07:15:57.523

您也许可以使用[fluent-builders-generator 插件](http://code.google.com/p/fluent-builders-generator-eclipse-plugin/)以您想要的方式生成设置器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-10-26T09:53:50.060

我的两分钱，我（错过）使用

```
Preferences > Java > Code Style > Code Templates > Comments > Setter 
```

并在那里放置以下模板：

```
/**
 * @param ${param} the ${bare_field_name} to set
 */
// public ${enclosing_type} ${bare_field_name}(${field_type} ${param}) {
//     ${enclosing_method}(${param});
//  return this;
// } 
```

益处：

*   它可以在使用生成 getter setter 时使用

    ```
    Source > Generate Getters and Setters... 
    ```

*   `set<start-of-fieldname>`当在编辑器中键入并点击`Ctrl`+时生成单个 setter 时可以使用它`Space`。

缺点：

*   在生成 getter setter 时，您必须勾选生成注释。
*   您必须删除行注释起始符`Ctrl`+`F` `//`并替换为空字符串。

不幸的是，我找不到将字段名称的第一个字母大写的方法，这将使用诸如`with`可能的前缀。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-04-26T19:02:41.710

我`withField`在这个模板中使用命名模式

```
public ${enclosing_type} with${Field}(${argType} ${param}) {
    set${Field}(${param});
    return this;
} 
```

我认为这是受到[@paweloque 当时](https://stackoverflow.com/users/76661/paweloque)的[回答](https://stackoverflow.com/a/12294891/5930242)的启发。唯一的区别是添加的 {$Field} 和 ${param} 用于命名方法和参数，并在方法体中调用 eclipse 生成的真实 setter。

模板的优点在于，您可以在归档模板变量的同时使用自动完成功能和一些选项卡创建您的 with 方法。

结果是这样的：

```
public Foo withBar(String bar)
{
    setBar(bar);
    return this;
} 
```

这是在 Eclipse 中进行设置的屏幕截图：

[![在此处输入图像描述](../Images/d2a1b2262fde8d637029b951cfe37145.png)](https://i.stack.imgur.com/qvlv7.png)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-10-03T11:54:31.673

记事本++解决方案：

数据：

```
JavaType variableName; 
```

搜索正则表达式：

```
(.*) (.*); 
```

替换正则表达式

```
public JavaType with\2\(\1 p\2\) { this.\2 = p\2; return this; } 
```

您必须手动更正方法名称，因为它不会大写变量名称的第一个字母。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-09-10T09:23:03.883

使用 JavaForger，您可以使用下面给出的模板来生成设置器。这确实意味着您必须为要为其生成 getter 和 setter 的每个类运行一个 main 方法。

```
<#list fields as field>
  /**
   * Sets the ${field.name} of the {@link ${class.name}}.
   *
   * @param ${field.name} The input {@link ${field.nonPrimitiveType}}. 
   */
  public ${class.name} ${field.setter}(${field.type} ${field.name}) {
    this.${field.name} = ${field.name};
    return this;
  }
</#list> 
```

下面的代码为一个名为“myClass.java”的类执行上面的模板（setters.javat），并将生成的代码与输入类合并。如果存在，它将覆盖现有的设置器。

```
JavaForgerConfiguration config = JavaForgerConfiguration.builder()
  .withTemplate("setters.javat")
  .withMergeClassProvider(ClassProvider.fromInputClass(s -> s))
  .withOverride(true)
  .build();
JavaForger.execute(config, "myClass.java"); 
```

您必须添加“setters.javat”的位置：

```
StaticJavaForgerConfiguration.addTemplateLocation("my/location/"); 
```

该项目可以在这里找到：[https](https://github.com/daanvdh/JavaForger) ://github.com/daanvdh/JavaForger 。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-05-30T15:06:03.507

一种替代方法是使用[Lombok 的 @Setter 和 @Getter](https://projectlombok.org/features/GetterSetter)。Lombok 基于一些注释在编译时增强了你的类。它在命令行上运行良好，并且具有 Eclipse 支持。

```
@Getter @Setter
public class Point {
    int x, y;

    static void test() {
        new Point().setX(1).setY(2);
    }
} 
```

并在`lombok.config`：

```
lombok.accessors.chain=true 
```

# c# - nsoftware SSNMP V8 .Net 发送组播陷阱

> ID：12294628
> 
> 赞同：0
> 
> 时间：2012-09-06T07:04:07.500
> 
> 标签：c#, .net, networking, snmp, multicast

有谁知道是否可以使用 snmp 代理（来自 nsoftware ssnmp 库）在多播 IP 地址上发送陷阱？当然，我已经阅读了文档并在 nsoftware 网站上进行了搜索，但我没有找到任何相关信息。

谢谢你的提前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T09:46:49.297

我发现它适用于 XP 但不适用于 7，我认为这是我在这篇文章中读到的多播套接字问题：[UDP 多播使用 XP 和 Vista 之间的 winsock API 差异](https://stackoverflow.com/questions/1524946/udp-multicast-using-winsock-api-differences-between-xp-and-vista)

我已经尝试了图书馆的第 9 版，它也适用于 Windows 7 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T13:19:50.957

是否要将陷阱发送到广播地址？您可以通过执行以下操作来做到这一点：

```
 Snmpagent agent = new Snmpagent();
  agent.SendTrap("255.255.255.255", "coldstart"); 
```

您将 IP 地址指定为 SendTrap 的参数，以便您可以在那里设置任何您想要的内容（如上面的广播地址）。

# validation - 如何在执行方法中验证表单而不是验证？

> ID：12294645
> 
> 赞同：0
> 
> 时间：2012-09-06T07:05:07.920
> 
> 标签：validation, struts2

我想在 execute() 方法中验证表单，而不是在 validate() 中，并在网站中显示错误消息。由于某些原因，我不能使用 validate 方法。我想做这样的事情：

```
@Override
public String executeAction() throws Exception {
    ...
        if(bean.getDbErrorBean().getErrorType() != 0) {
            **addFieldError("numberX", bean.getDbErrorBean().getErrorMsg());**

            return NONE;
        } else {
            LOG.info("############### OK!");
        }
    return SUCCESS;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T14:45:15.307

添加答案以使其他有相同问题或尝试做相同事情的人更清楚解决方案。

`ActionSupport.NONE`（或 null）来自动作类方法会导致结果处理被跳过。

有关结果配置的更多信息，请参阅[Struts2 result-configuration](http://struts.apache.org/2.3.4.1/docs/result-configuration.html)

# wordpress - 从自定义分类模板中排除帖子类型

> ID：12294646
> 
> 赞同：0
> 
> 时间：2012-09-06T07:05:10.487
> 
> 标签：wordpress, custom-post-type, taxonomy, custom-taxonomy

我设置了一个名为“video_categories”的自定义分类，并将其设置为两种不同的自定义帖子类型——“视频”和“位置”。

我正在使用模板“taxonomy-video_categories.php”来显示具有相关分类的帖子，但我只想显示帖子类型“视频”并排除帖子类型“位置”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:27:29.263

您可以简单地使用[`query_posts`](http://codex.wordpress.org/Template_Tags/query_posts)来更改主循环。

在调用之前放置以下代码`have_posts`：

```
global $query_string;
query_posts( $query_string . '&post_type=video' ); 
```

这样做的正确方法是挂钩`pre_get_posts`：

> query_posts() 是更改 WordPress 用于显示帖子的默认查询的最简单但不是首选或最有效的方法。使用 query_posts() 显示与通常显示在特定 URL 的不同帖子。（首选方法是连接到 'pre_get_posts' 并使用 is_main_query 以这种方式更改主查询）

# android - 将图像数组从android发送到rest web service（使用java），反之亦然

> ID：12294647
> 
> 赞同：1
> 
> 时间：2012-09-06T07:05:15.040
> 
> 标签：android, arrays, image, rest

我想将图像数组从 android 发送到 rest web 服务，反之亦然。

所以我需要在rest web service中写两个方法：

1.  用于从客户端访问图像数组。
2.  用于将图像数组从 REST Web 服务发送到 android。

我一直在互联网上找到解决方案，但无法得到它。

解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:12:13.683

用于将字节数组转换为位图：

```
byte[] iconData;
Bitmap image = BitmapFactory.decodeByteArray(iconData, 0,
            iconData.length); 
```

对于位图到字节数组，请使用：[将 Java 位图转换为字节数组](https://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array)。

# objective-c - Objective-C 或 Cocoa-Touch 中是否有 Tree 类和 Node 类？

> ID：12294650
> 
> 赞同：1
> 
> 时间：2012-09-06T07:05:28.270
> 
> 标签：objective-c, ios, cocoa-touch, tree

[苹果文档](https://developer.apple.com/library/ios/#documentation/CoreFoundation/Conceptual/CFCollections/Articles/types.html#//apple_ref/doc/uid/20001129-CJBEJBHH)中`CFTree`实际上提到了

> 您使用树（CFTree 类型的对象）来表示分层组织结构中的节点

但是[CFTree参考](http://developer.apple.com/library/IOS/#documentation/CoreFoundation/Reference/CFTreeRef/Reference/reference.html)实际上显示它是OO，但是它是C++而不是Objective-C吗？是否有Tree和Node的类，在Objective-C，Cocoa中，或者是通用可靠的（可能是开源的），或者可能是一组 Objective-C 包装器`CFTree`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:31:05.570

不，你可以使用 NSArrays 的 NSArrays

# c# - 在 C# 中打开一个文本文件

> ID：12294653
> 
> 赞同：1
> 
> 时间：2012-09-06T07:05:34.320
> 
> 标签：c#, file

我正在编写一个 Windows-Forms 应用程序，在该应用程序中我会在程序运行时记录一些数据，并使用以下代码将其写入一个临时文件中：

```
string path = Path.GetTempFileName();
byte[] text = new UTF8Encoding(true).GetBytes("Some Text");
using (FileStream fs = File.Open(path, FileMode.Open, FileAccess.Write, FileShare.None))
{
    fs.Write(text, 0, text.Length);
} 
```

程序通过后，我想在 Microsoft 编辑器中显示/打开文件。我该怎么做。我用谷歌搜索但我没有找到任何东西，也许我用错误的词搜索。希望您能够帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:09:08.683

尝试：

```
Process.Start("Yourfile.txt") 
```

# c# - .NET 装箱/拆箱与铸造性能

> ID：12294655
> 
> 赞同：10
> 
> 时间：2012-09-06T07:05:36.990
> 
> 标签：c#, .net, performance

我试图从性能角度了解两种解决方案中的哪一种更受欢迎。例如，我有两段代码：

1) 装箱/拆箱

```
int val = 5;
Session["key"] = val; 
int val2 = (int)Session["key"]; 
```

2) 铸造（IntObj 有 int Value 属性来存储 int）

```
IntObj val = new IntObj(5);  
Session["key"] = val;
int val2 = ((IntObj )Session["key"]).Value; 
```

这些示例之间的内存管理区别是什么？有没有更快的方法来执行此类操作？

**注意：** `Session`只是举例，它可以是任何`Dictionary<string, object>`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-06T07:30:55.937

看起来你在这里真正做的是比较手动拳击和内置拳击。内置拳击已经过高度优化 - 所以我不希望在这里看到巨大的差异，但我们可以检查一下。重要的是，请注意两者具有相同的内存影响：一个堆对象包含一个`int`字段，每个`int`装箱/包装。

以下显示了两个接近的时间几乎相同；因此，我会说，只需以直接/内置方式将其装箱即可。

注意：在发布模式下运行它，没有调试器（最好在命令行）。请注意，第一次调用是为了预先 JIT 一切。

```
using System;
using System.Diagnostics;
public sealed class IntObj
{
    public readonly int Value;
    public IntObj(int value)
    {
        Value = value;
    }
}
static class Program
{
    static void Main()
    {
        Run(1, 0, false);
        Run(100000, 500, true);
        Console.ReadKey();
    }
    static void Run(int length, int repeat, bool report)
    {
        var data = new object[length];

        int chk = 0;
        var watch = Stopwatch.StartNew();
        for (int j = 0; j < repeat; j++)
        {
            for (int i = 0; i < data.Length; i++)
            {
                data[i] = i;
                chk += i;
            }
        }
        watch.Stop();
        if(report) Console.WriteLine("Box: {0}ms (chk: {1})", watch.ElapsedMilliseconds, chk);
        chk = 0;
        watch = Stopwatch.StartNew();
        for (int j = 0; j < repeat; j++)
        {
            for (int i = 0; i < data.Length; i++)
            {
                chk += (int) data[i];
            }
        }
        watch.Stop();
        if (report) Console.WriteLine("Unbox: {0}ms (chk: {1})", watch.ElapsedMilliseconds, chk);

        chk = 0;
        watch = Stopwatch.StartNew();
        for (int j = 0; j < repeat; j++)
        {
            for (int i = 0; i < data.Length; i++)
            {
                data[i] = new IntObj(i);
                chk += i;
            }
        }
        watch.Stop();
        if (report) Console.WriteLine("Wrap: {0}ms (chk: {1})", watch.ElapsedMilliseconds, chk);
        chk = 0;
        watch = Stopwatch.StartNew();
        for (int j = 0; j < repeat; j++)
        {
            for (int i = 0; i < data.Length; i++)
            {
                chk += ((IntObj)data[i]).Value;
            }
        }
        watch.Stop();
        if (report) Console.WriteLine("Unwrap: {0}ms (chk: {1})", watch.ElapsedMilliseconds, chk);
    }

} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-06T07:08:14.840

那么，什么是更快的 DIY 拳击`IntObj`或内置拳击？

我的猜测是内置的品种。很有可能两个编译器都经过优化来处理它。

> 是否存在更“快速”的方式来执行此类操作？

对于大型数据集，首选方法始终是避免使用它。对于小型套装来说，这根本不重要。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-06T07:28:50.733

做某事的最快方法是根本不做。尝试重构数据以避免大量装箱，同时获得更多的类型安全性、可读性和潜在性能。

我发现您不太可能需要在无类型字典中存储大量不相关的整数（或其他值类型）元素。通常值被组织成一些一起有意义的对象，在这种情况下，您将顶级对象存储在无类型字典中，并且只需要一次强制转换。对于更深层次的元素，您将使用强类型类（如`Dictionary<string,int>`），因为不需要装箱，所以已经解决了这个问题。

如果您觉得在您的情况下您确实需要在 string=>opbject 映射中存储大量 int （或其他值类型元素），那么使用**您的**数据集和您的目标自己执行测量应该很容易，看看是否有任何一个版本有显着的好处。如果两者都满足您的目标（很可能） - 选择一个产生最易读代码的代码（即对我来说它将是第一个变体）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T07:15:43.480

我对 C# cast 运算符生成的不同类型的 IL 指令进行了分类：

装箱（装箱 IL 指令）和拆箱（拆箱 IL 指令） 通过继承层次进行强制转换（如 C++ 中的 dynamic_cast，使用 castclass IL 指令来验证） 原始类型之间的强制转换（如 C++ 中的 static_cast，有大量针对不同类型的 IL 指令基本类型之间的转换）调用用户定义的转换运算符（在 IL 级别，它们只是对适当 op_XXX 方法的方法调用）。

**不同之处在于，转换会在创建新的引用类型时分配额外的内存。**

# c# - 在 C# 中，如何检查 XmlIgnore 属性是否应用于属性？

> ID：12294656
> 
> 赞同：3
> 
> 时间：2012-09-06T07:05:36.587
> 
> 标签：c#

我想检查 propertyInfo 以确定`XmlIgnore`属性是否应用于给定属性。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-06T07:09:26.720

```
bool b = type.GetProperty("MyProp")
             .GetCustomAttributes(false)
             .Any(a => a is XmlIgnoreAttribute); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:11:49.027

```
typeof(string).GetProperty("Length").GetCustomAttributes(typeof(some attr)) 
```

# python - 如何在python中完全退出服务器？

> ID：12294657
> 
> 赞同：2
> 
> 时间：2012-09-06T07:05:38.957
> 
> 标签：python

如何在 Python 中完全退出服务器？类似的代码`server.shutdown()`只是关闭传入的请求。任何人都可以建议任何代码来完全退出服务器吗？这是一个简单的套接字服务器。

这是我的服务器代码：

```
#!/usr/bin/python
import socket
from threading import Thread

class sockServer:

    def __init__(self,port):
        self.socket= socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
        self.socket.bind(port)
        self.socket.listen(5)

    def _run(self):
        while True:
            request, client_address =self.socket.accept()
            counter=self.req_thread(self,request)
            counter.start()

    class req_thread(Thread):
        def __init__(self,controller,request):
            Thread.__init__(self)
            self.controller=controller
            self.request=request
            self.setDaemon(True)

        def run(self):
            input=self.request.makefile('rb',0)
            output=self.request.makefile('wb',0)
            l=True
            i=0
            try:
                while l:
            l=input.readline()
            if l!="exit\r\n":
                        print "x"
                        output.write(bytes('hello\n'))
                    else:
            print "y"
                        self.request.shutdown(2)
            run=False

            except socket.error:
                pass

if __name__ == '__main__':

    import sys
    if len(sys.argv) < 3:
        print('Usage: %s [hostname] [port number]' % sys.argv[0])
        sys.exit(1)
    hostname = sys.argv[1]
    port = int(sys.argv[2])
    global run
    run=True
    while run:
        server=sockServer((hostname,port))
        server._run() 
```

使用变量的方法`run`没有任何好处！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:10:55.103

如果您只是想完全退出程序，那么您可以随时添加`import sys`，然后执行以下操作：

```
class req_thread(Thread):
    def __init__(self,controller,request):
        Thread.__init__(self)
        self.controller=controller
        self.request=request
        self.setDaemon(True)

    def run(self):
        input=self.request.makefile('rb',0)
        output=self.request.makefile('wb',0)
        l=True
        i=0
        try:
            while l:
                l=input.readline()
                if l!="exit\r\n":
                    print "x"
                    output.write(bytes('hello\n'))
                else:
                    print "y"
                    self.request.shutdown(2)
                    sys.exit(0)
                    run=False

        except socket.error:
            pass 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:59:52.557

如果 sys.exit 不起作用，那么您可以使用更极端的版本，直接调用 os。

```
import os
os._exit() 
```

如果服务器派生了一个新进程或线程，您将不得不这样做。这就是您正在做的事情以及为什么 sys.exit 无法按预期工作。请参阅这两个调用之间差异的解释：[What is difference between sys.exit(0) and os._exit(0)](https://stackoverflow.com/questions/9591350/what-is-difference-between-sys-exit0-and-os-exit0)

# ios - NSLog 一个 NSCFString 的类，但结果是其他的，比如 UIView ，UIButton ......然后崩溃了

> ID：12294658
> 
> 赞同：0
> 
> 时间：2012-09-06T07:05:45.807
> 
> 标签：ios

在单例对象中，我将对象添加到其属性之一（NSMutableArray _service）中，

像这样：
[_service addObject:[[Entity alloc] initWithID:nid type:type title:title titleImage:[NSString stringWithFormat:@"%@%@",preurl,titleImage] ]];

然后我在另一个对象中遍历了单例对象的_service，NSLog它的属性的（titleImage）类，像这样： NSLog(@"%@",((Entity*)[_sharedData.service objectAtIndex:i]).titleImage.class) ; 有时结果是所有 NSCFStrings，它是正确的。但有时它变成 UIButton 或 UIView 等，然后应用程序崩溃。请帮我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:19:11.283

发生这种情况是因为在程序执行期间的某个时刻，您失去了对对象的引用。即你的对象被释放。或者以某种方式，如果您的对象依赖于已释放的其他对象，从而为您的对象留下无效的引用。请检查您是否正确使用了发布/保留/复制。

# lua - lua：模式匹配和提取电话号码

> ID：12294661
> 
> 赞同：1
> 
> 时间：2012-09-06T07:05:54.760
> 
> 标签：lua, lua-patterns

我无法在 Lua 中制作具有以下要求的函数：

*   将字符串`phone_number`和 2 位数字`country_code`作为输入。
*   `phone_number`形式为 {1 || ""}{ `country_code`}{10 位或 11 位手机号码}

我需要输出 10 位或 11 位的手机号码。

示例 I/O：

`phone_number`=“552234332344”，`country_code`=“55”=>“2234332344”

`phone_number`=“15522343323443”，`country_code`=“55”=>“22343323443”

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T08:00:13.013

试试`"(1?)(%d%d)(%d+)"`。将其与您的示例一起使用：

```
print(("15522343323443"):match("(1?)(%d%d)(%d+)"))
print(("5522343323443"):match("(1?)(%d%d)(%d+)")) 
```

将打印：

```
1   55  22343323443
55  22343323443 
```

如果您的电话号码恰好需要 10 位或 11 位数字，则指定`%d`10 次，然后添加`%d?`. `%d`是匹配任何数字的字符类，问号修饰符匹配前一个字符或字符类 0 或 1 次。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-06T07:18:48.710

尝试这个

```
^[0-9]{1,3}\s\|{2}\s[0-9]{10,11}$ 
```

这个表达式是`1 || 9945397865`像你问我猜的那样的模式。.

**编辑：**我想这行得通

*   `string.len('552234332344')`使用=>获取字符串长度*输出：* 12
*   `string.match ('552234332344', ^%d)`使用=>匹配字符串 *输出：* 552234332344 如果匹配
*   `string.sub ('552234332344', 1, 2)`使用=>获取国家/地区代码*输出：* 55
*   取电话号码 使用`string.sub('552234332344', 3)`=>*输出：* 2234332344

# wcf - 每个端点的不同服务行为

> ID：12294665
> 
> 赞同：8
> 
> 时间：2012-09-06T07:06:08.630
> 
> 标签：wcf, claims-based-identity, servicebehavior, endpointbehavior

**情况**

我们正在对某些 WCF 服务实施不同类型的安全性。ClientCertificate、用户名和密码以及匿名。

我们有 2 个 ServiceBehaviorConfiguration，一个用于 httpBinding，一个用于 wsHttpBinding。（*我们有基于声明的安全性的自定义授权策略*）作为一项要求，我们需要为每个服务提供不同的端点。3 个带有 httpBinding 的端点和 1 个带有 wsHttpBinding 的端点。

一项服务的示例：

*   basicHttpBinding : 匿名
*   basicHttpBinding : 用户名和密码
*   基本HttpBinding : BasicSsl
*   wsHttpBinding : BasicSsl

*注意：我们正在开发 .NET 3.5*

**问题**

*第 1 部分：*我们不能两次指定同一个服务，一次使用 http 服务配置，一次使用 wsHttp 服务配置。

*第 2 部分：*我们无法在端点上指定服务行为。（抛出和异常，未找到端点行为......服务行为不能设置为端点行为）

**配置**

第 1 部分：

```
<services>
  <service name="Namespace.MyService" behaviorConfiguration="securityBehavior">
   <endpoint address="http://server:94/MyService.svc/Anonymous" contract="Namespace.IMyService" binding="basicHttpBinding" bindingConfiguration="Anonymous">
    </endpoint> 
    <endpoint address="http://server:94/MyService.svc/UserNameAndPassword" contract="Namespace.IMyService" binding="basicHttpBinding" bindingConfiguration="UserNameAndPassword">
    </endpoint>
    <endpoint address="https://server/MyService.svc/BasicSsl" contract="Namespace.IMyService" binding="basicHttpBinding" bindingConfiguration="BasicSecured">
    </endpoint>
  </service>
  <service name="Namespace.MyService" behaviorConfiguration="wsHttpCertificateBehavior">
    <endpoint address="https://server/MyService.svc/ClientCert" contract="Namespace.IMyService" binding="wsHttpBinding" bindingConfiguration="ClientCert"/>
  </service>
</services> 
```

服务行为配置：

```
<serviceBehaviors>
<behavior name="securityBehavior">
  <serviceAuthorization serviceAuthorizationManagerType="Namespace.AdamAuthorizationManager,Assembly">
    <authorizationPolicies>
      <add policyType="Namespace.AdamAuthorizationManager,Assembly" />
    </authorizationPolicies>
  </serviceAuthorization>
</behavior>
<behavior name="wsHttpCertificateBehavior">
  <serviceMetadata httpGetEnabled="false" httpsGetEnabled="true"/>
  <serviceAuthorization serviceAuthorizationManagerType="Namespace.AdamAuthorizationManager,Assembly">
    <authorizationPolicies>
      <add policyType="Namespace.AdamAuthorizationManager,Assembly" />
    </authorizationPolicies>
  </serviceAuthorization>
  <serviceCredentials>
    <clientCertificate>
      <authentication certificateValidationMode="PeerOrChainTrust" revocationMode="NoCheck"/>
    </clientCertificate>
    <serviceCertificate findValue="CN=CertSubject"/>
  </serviceCredentials>
</behavior> 
```

我们如何在 WsHttpBinding 端点上指定不同的服务行为？或者我们如何以不同的方式将我们的授权策略应用于 wsHttpBinding 和 basicHttpBinding。我们将使用端点行为，但我们不能在端点行为上指定我们的授权策略

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T18:50:13.743

授权是服务级别的责任。您不能通过端点来改变它。

在高层次上，您应该：

1.  定义端点绑定以使用您需要的不同安全配置（您已经这样做了）
2.  创建自定义[ClaimsAuthenticationManager](http://msdn.microsoft.com/en-us/library/ee748211)以根据不同绑定将呈现的不同身份分配声明。

从概念上讲，ClaimsAuthenticationManager 充当“服务中的 STS”，根据不同的凭据添加声明。从那里您可以在您的服务中进行基于声明的授权。

我不知道有任何需要你想要的可配置授权管理器，所以你必须自己编写（如果你证明我错了，请发布你发现的内容）。

实现 ClaimsAuthenticationManager 需要[Windows Identity Framework](http://msdn.microsoft.com/en-us/security/aa570351.aspx)。下面是我使用的 .NET 4.0 实现的摘要（这在 4.5 中可能更容易）。我很抱歉代码没有编译并且不完整，但我没有时间为公开帖子擦洗所有内容。不过，这应该为您指明正确的方向。

[从Microsoft.IdentityModel.Claims.ClaimsAuthenticationManager](http://msdn.microsoft.com/en-us/library/ee748211)继承并实现 Authenticate()。它应该看起来像这样：

```
namespace MyWCF.ClaimsInjection
{
    public class ClaimsAuthenticationManager : Microsoft.IdentityModel.Claims.ClaimsAuthenticationManager
    {
        public override IClaimsPrincipal Authenticate(string resourceName, IClaimsPrincipal incomingPrincipal)
        {
            if (incomingPrincipal == null)
            {
                throw new ArgumentNullException("incomingPrincipal", "ClaimInjectionClaimsAuthenticationManager requires a principal.");
            }

            IClaimsPrincipal resultPrincipal = base.Authenticate(resourceName, incomingPrincipal);
            foreach (IIdentity identity in resultPrincipal.Identities)
            {
                if (identity is ClaimsIdentity)
                {
                    // Add claims based on client cert here…
                    Claim identityClaim = ((ClaimsIdentity)identity).Claims.First(c => c.ClaimType == ClaimTypes.Thumbprint);
                    ((ClaimsIdentity)identity).Claims.Add(new Claim("MyType", "Myvalue"));
                }
                else if (identity is WindowsClaimsIdentity)
                {
                    // Add claims based on window group or account here…
                }

                // continue checking different identity types...
            }
            return resultPrincipal;
        }
    }
} 
```

现在只需安装自定义管理器（仅包括有趣的部分）：

```
<configuration>
  <configSections>
    <section name="microsoft.identityModel" type="Microsoft.IdentityModel.Configuration.MicrosoftIdentityModelSection, Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
  </configSections>

  <system.serviceModel>
    <behaviors>
      <serviceBehaviors>
        <behavior name="serviceBehavior">
          <federatedServiceHostConfiguration />
        </behavior>
      </serviceBehaviors>
    </behaviors>

    <extensions>
      <behaviorExtensions>
        <add name="federatedServiceHostConfiguration" type="Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement, Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
      </behaviorExtensions>
    </extensions>
  </system.serviceModel>

  <microsoft.identityModel>
    <service>
      <claimsAuthenticationManager type="MyWCF.ClaimsAuthenticationManager, MyWCF"/>
    </service>
  </microsoft.identityModel>
</configuration> 
```

# php - PHP - 验证 FTP 连接 - 检测 FTP 超时

> ID：12294669
> 
> 赞同：3
> 
> 时间：2012-09-06T07:06:22.897
> 
> 标签：php

我的 CLI 脚本之一通过 FTP 下载文件。

该脚本打开一个 FTP 连接，登录，下载必要的文件，然后休眠。每隔一段时间，它就会再次检查文件。该脚本预计将作为守护进程连续运行数天。

我希望能够重新使用打开的连接（所以我不必重新连接每个循环）。

```
$ftpconn = false;
$ftplogin = false;

while(1){

sleep(25);
if(!$ftpconn){
    $ftpconn = ftp_connect(HOST);
}
if(!$ftplogin){
    $ftplogin = ftp_login($ftpconn, USER, PASS);
}

// Do FTP stuff here

} 
```

我的问题是这个。两者都做`ftp_connect`超时`ftp_login`吗？如果是这样，当这种情况发生时会`$ftpconn`并`$ftplogin`更改为 FALSE 吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:26:09.470

你最好的赌注是实施你的连接过程。然后构建您的逻辑以尝试检查文件。（我假设使用类似 ftp_nlist 的东西）。如果由于任何原因出现错误，ftp_nlist 将返回 FALSE。此时，您可以让您的代码使用 ftp_close 关闭现有连接（如果连接由于某种原因已经关闭，这将给出 FALSE），然后再次运行连接序列。

如果 ftp_nlist 多次失败以退出您的应用程序，您将需要构建逻辑。不幸的是，各种 ftp_* 命令在识别函数失败的原因方面没有很多深度，因此您必须围绕它构建额外的逻辑来进行补偿。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-02-26T14:05:52.837

我遇到了同样的问题。我还有一个复杂的问题：由于某种原因，无法区分实际错误和空响应（当文件列表为空时）。`ftp_nlist`在这两种情况下都返回 FALSE（也在[这里](https://www.php.net/manual/en/function.ftp-rawlist.php#122642)注明），并`ftp_rawlist`在两种情况下都返回一个空数组。

所以我的第一个预感是打一个便宜的电话，比如`ftp_pwd`，看看连接是否仍然打开。但是，PHP 显然做了一些缓存，所以这不起作用。但是，您可以强制 PHP 通过 FTP 连接运行相同的调用：

```
$result = ftp_raw($ftpConnection, 'pwd');
print_r($result);

// Array
// (
//     [0] => 257 "/www/html"
// ) 
```

这应该*总是*给出一个响应（给定一个有效的 FTP 连接），这将是一个包含单个项目的数组。如果有错误，它将是一个空数组。

# ruby-on-rails - 如何从本地主机在 Rails 3 中发送邮件？

> ID：12294677
> 
> 赞同：0
> 
> 时间：2012-09-06T07:07:02.450
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我是 Rails 的新手。在 Rails 3 中发送邮件是如何工作的？

它尝试了以下方法，但它不起作用：

调用邮件程序：

```
@invited_user = InviteUser.where(:email => @user.email) 
```

邮寄者：

```
class InviteUsersMailer < ActionMailer::Base
  default :from => "qqqqqreply@qqqqqqqq.com"

    def invite_biller_email(inviter_details)
      @invitation_details = inviter_details
      @user = User.find(@invitation_details.request_sent_by)
      mail(:to => @invitation_details.email, :subject => "xxxxxxxxxxx")
    end
end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-06T07:11:47.640

最简单的方法 - 使用 gmail 来省去设置您自己的邮件服务器的麻烦。在初始化文件（例如 inside `config/initializers/mailer.rb`）中，使用以下代码调整设置：

```
ActionMailer::Base.smtp_settings = {
  :address => "smtp.gmail.com",
  :port => 587,
  :authentication => :plain,
  :domain => 'yourwebdomain.com',
  :user_name => 'username@gmail.com',
  :password => 'your password',
  :enable_starttls_auto => true
} 
```

[配置完成后，可以在Ruby on Rails 指南](http://guides.rubyonrails.org/action_mailer_basics.html)中找到有关使用 ActionMailer 的详细信息。

在检查它是否正常工作后，您可以尝试设置自己的邮件服务器（或者，您可能有一个为您运行邮件服务器的虚拟主机，在这种情况下重新配置上述设置即可）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:10:26.423

查看**[Rails](http://guides.rubyonrails.org/action_mailer_basics.html)**发送邮件指南。

简而言之，您必须做两件事：

1.  创建邮件程序
2.  配置交付方式。

Rails 指南中全面介绍了这些步骤和其他所有内容。

# java - 我们可以从它的安装文件中揭示软件的源代码吗？

> ID：12294679
> 
> 赞同：1
> 
> 时间：2012-09-06T07:07:07.123
> 
> 标签：java, jar, obfuscation, decompiling, copy-protection

我发现我们可以通过反编译软件来读取一个JAR文件的软件源代码。我下载了这样的软件并阅读了很多这样的代码。

我的问题是...

1.  我们如何防止反编译 JAR 中的类文件？
2.  任何人都可以从其设置文件（不是 JAR）中揭示软件的源代码吗？

我知道互联网上的第一个问题有一些答案。但是，如果您能更明确地解释它，我将不胜感激。但第二个问题对我来说是最重要的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:16:06.247

您不能完全阻止反编译。但是你可以让这变得更加困难。

使用混淆 - 改变你的字节码的过程使它很难理解。有很多 java 字节码混淆器。其中一些是免费的。

但是代码仍然可以反编译。您还可以将课程存储在受密码保护的 zip 文件中。但是java默认不支持这样的文件。但是，您可以开发自己的类加载器并将您的应用程序分成两部分。首先，只是启动应用程序的小型加载器，然后使用自定义类加载器加载大多数类，该加载器从受密码保护的 zip 加载类。

你也可以从互联网上加载你的应用程序的一部分`https`，所以很难破解它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:44:34.810

一般来说，你可以使用混淆来让事情变得更难，但我的猜测是，如果数十亿公司开发的照片或办公套件或视频游戏等商业程序可以在盗版网站周围自由破解和重新分发，那么自制的希望不大在这方面的黑客应用。不过，一般来说，这取决于谁是想要破解它的人，所以你可能会通过混淆获得一种方法来让它通过反编译器，但我相信一个严肃的黑客会以其他方式进入代码......

# java - Jmeter 为 CSV 中的每条记录多次执行

> ID：12294680
> 
> 赞同：2
> 
> 时间：2012-09-06T07:07:09.733
> 
> 标签：java, jmeter, load-testing, qa

我有一个包含 100 条记录/行的 CSV，我希望使用 JMeter 执行（通过服务）。

现在，我想执行每条记录 3 次（每次延迟 5 秒后），并对 CSV 中的所有 100 条记录执行相同的操作。

如何使用 JMeter 做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T11:47:18.463

[使用 jmeter 的标准组件](http://jmeter.apache.org/usermanual/component_reference.html)，这看起来并不难实现。

1.  [使用While Controller](http://jmeter.apache.org/usermanual/component_reference.html#While_Controller)下正确配置的[CSV Data Set Config](http://jmeter.apache.org/usermanual/component_reference.html#CSV_Data_Set_Config)从您的 csv 文件中读取所有条目。
2.  在同一循环中，使用设置为所需循环计数的[循环控制器- 这将使用从每个 csv 条目中提取的变量重复您的请求 N 次。](http://jmeter.apache.org/usermanual/component_reference.html#Loop_Controller)
3.  在 Loop Controller 下，使用合适的[采样器](http://jmeter.apache.org/usermanual/component_reference.html#samplers)，例如[HTTP Request Sampler](http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request)，使用来自 csv-entry 的参数发送您的请求。
4.  与采样器一起使用任何[计时器](http://jmeter.apache.org/usermanual/component_reference.html#timers)，例如[常量计时器](http://jmeter.apache.org/usermanual/component_reference.html#Constant_Timer)，在每次请求后添加延迟。

架构可能如下所示：

```
线程组
线程数 = 1   
循环计数 = 1
    . . .
    虽然控制器                 *// 这将遍历您的 csv 文件*
    Condition = ${__javaScript("${var1}"!="",)}   *// 这将重复直到 EOF* 
        CSV 数据集配置
        文件名 = ...                *// 路径到您的 csv 文件*
        Variable Names = var1,...     *// 这些是从文件读取到指向变量的记录*
        分隔符 = ,
        在 EOF 上回收？= 假
        在 EOF 上停止线程？= 真
        共享模式 = 当前线程组

        回路控制器
        循环计数 = 3
            HTTP 请求采样器
            常量计时器
            线程延迟（以毫秒为单位）= 5000
        . . .

```

# android - 是否有任何 LED 显示屏模拟器/模拟器来测试可以与外部 LED 显示屏交互的 android 应用程序？

> ID：12294687
> 
> 赞同：-1
> 
> 时间：2012-09-06T07:07:39.103
> 
> 标签：android, led

示例代码/工作流程会有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:58:52.340

没有任何emu/simu，你必须在设备上检查你的程序

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-05T13:20:35.797

如果您想通过 Android 手机与外部 LED 显示屏进行交互，那么您有以下两种选择

1.  使用安卓手机序列号。在市场上，您可以轻松找到蓝牙到串行转换器模块。一旦您从您的 Android 手机连接到这些蓝牙模块，您就可以轻松地将文本发送到该模块的串行端口数据。然后再次通过串行链路将其传送到与该外部模块连接的 LED 显示屏。但在这种情况下，您的显示模块应该能够与 Serail RS232 链路通信。

2.  使用 Android 手机的 SMS 界面。第二种选择更容易，就像从 Android 手机应用程序发送短信一样。为此，您必须购买支持 SMS 的 LED 显示屏。然后开始向该显示器发送带有您的文本消息的 SMS，所有文本都将显示在该 LED 标牌上。这种显示器有时称为“基于短信的 LED 显示屏”或“基于短信的 LED 标牌”，有时也称为“可编程 LED 标牌”。以下是此类产品的一些外部链接：

有时这些屏幕也适用于实时流媒体协议，被称为 led 股票行情

[http://www.ledsignsdisplays.com/led-ticker-a-data-screens/stock-tickers](http://www.ledsignsdisplays.com/led-ticker-a-data-screens/stock-tickers)

[http://www.photonplay.com/sms-based-led-display-board-signs.html](http://www.photonplay.com/sms-based-led-display-board-signs.html)

# postgresql - 如何在 postgresql 中关闭分析器

> ID：12294688
> 
> 赞同：0
> 
> 时间：2012-09-06T07:07:38.973
> 
> 标签：postgresql

我想知道从哪里可以关闭 postgresql 中的分析器，以及如果它们是简单的简单查询（不连接任何内容）、简单的 group by 、 order by 查询，它将对查询产生什么影响。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:40:10.160

auto_vacuum 过程还对您的数据进行分析。你可以关掉它。

另一种选择是将 default_statistics_target 设置为 0，但在这两种情况下，queryplanner 都不会有任何关于如何执行查询的有用信息。大多数索引都不会被使用，如果使用了索引，它可能会使用错误的索引。

分析器的转动，使查询计划者变得盲目和愚蠢。您的大多数查询都会受到影响。

# liferay-6 - Liferay：可以从其他portlet触发portlet

> ID：12294690
> 
> 赞同：1
> 
> 时间：2012-09-06T07:07:46.167
> 
> 标签：liferay-6

我有一个要求，显示各种用户（比如 A、B、C）的信息，并与当前（登录）用户和选择的各种用户一起生成讨论。
为此，我开发了两个 portlet
- 1) 显示 portlet - 显示所有用户的信息，并带有评论 portlet 的链接。
2)Comment portlet-Users 信息通过链接传递。
**Liferay.fire**和**Liferay.on**用于将信息传递给评论 portlet

由于两个门户都在同一页面上。我希望在选择用户时触发事件，然后触发相应的评论 portlet。我希望在单击特定用户的链接后弹出 portlet。请建议，**InterPortletCommunication 事件**机制是否在这里工作或一些适当的解决方案来做到这一点。我是 liferay 的新手，请指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-09T03:23:56.653

您可以使用 IPC 来完成。如果是同一页面，则选择基于 ajax 的 IPC。看看下面的链接它可能对你有帮助..

[http://www.liferaysavvy.com/2014/01/liferay-client-side-inter-portlet.html](http://www.liferaysavvy.com/2014/01/liferay-client-side-inter-portlet.html)

# java - 如何在树形图中获取条目的子集？

> ID：12294693
> 
> 赞同：3
> 
> 时间：2012-09-06T07:07:56.710
> 
> 标签：java, xpages

我有一个

树图地图 = 新树图（）；

根据选择标准将文档中的值存储在视图中。map 将创建日期存储为键，将文档值存储为对象。

在对象中，我有一个“表单”字段。文件可以有不同的形式（备忘录、通知、传真等）

我有一个返回 allEntries 的方法。没关系，可以按预期工作。

我现在想在表单字段上进行选择以仅返回地图中文档的子集。

有人能指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:16:02.220

由于您要在不是地图键的内容上进行选择，因此您必须遍历所有项目。

如果你可以使用外部库，你可以使用[`Collections2.filter()`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Collections2.html#filter%28java.util.Collection,%20com.google.common.base.Predicate%29)谷歌的[guava 库](http://code.google.com/p/guava-libraries/)。IE

```
TreeMap<Date, Document> map = ...;
final String formValue = "notice";
Collection<Document> result = Collections2.filter(map.values(), new Predicate<Document>() {
    public boolean apply(Document input) {
        return formValue .equals(input.getForm());
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:13:52.073

您可以使用 2 个地图来存储数据。

一个简单的 Hashmap 足以存储与备忘录通知等对应的 id，并作为值存储包含当前格式的所有相应数据的 Treemap。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:18:07.957

您可以 1) 遍历所有值并将这些匹配条件放入新集合 2) 将其存储在其他集合中（单独的变量或 Map> （或类似的东西，考虑使用 set 而不是 List）

1）较慢的检索，2）较慢的删除，更多的内存消耗

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T11:33:07.003

番石榴图书馆工作，但有点矫枉过正。所以我结束了以下

```
TreeMap<String, Object> mapFiltered = new TreeMap<String, Object>();
LinkedList<CommunicationDocumentEntry> map = new LinkedList<CommunicationDocumentEntry>();

    public Collection<Object> getAllEntries(String frm, boolean order) {
    this.mapFiltered.clear();

    Iterator<CommunicationDocumentEntry> itr = this.map.iterator();
    while (itr.hasNext()) {
        CommunicationDocumentEntry entry = itr.next();
        if (EMPTY_STRING.equals(frm) || frm == null) {
            this.mapFiltered.put(entry.getDateCreated(), entry.getEntry());
        } else {
            if (entry.getForm().toUpperCase().equals(frm.toUpperCase())) {
                this.mapFiltered.put(entry.getDateCreated(), entry.getEntry());
            }
        }
    }

    if (order) {
        return this.mapFiltered.descendingMap().values();
    } else {
        return this.mapFiltered.values();
    }
} 
```

当然不完美，但对我有用......

# c# - 调用外部 DLL 时出错

> ID：12294699
> 
> 赞同：0
> 
> 时间：2012-09-06T07:08:32.953
> 
> 标签：c#, .net, c, dllimport, extern

我的 .NET 代码从外部 DLL 调用函数：

```
[DllImport("MyExternal.dll", CharSet = CharSet.Auto, ExactSpelling = false, CallingConvention = CallingConvention.Cdecl)]
            private static extern int loadMyExternalFunction();

loadMyExternalFunction(); 
```

错误是：

> 尝试读取或写入受保护的内存。这通常表明其他内存已损坏。

此错误的原因是什么，如何解决？

# jsf-2 - primefaces 数据表选择复选框问题

> ID：12294700
> 
> 赞同：0
> 
> 时间：2012-09-06T07:08:41.333
> 
> 标签：jsf-2, datatable, primefaces

我遇到了prime-faces数据表多项选择的问题。当我第一次选择一些记录并执行操作时，它不会发回任何记录，然后如果我对任何列进行排序或单击2或3次值传递正确。这可能是一个ajax问题吗？或任何财产需要附加到列表中？

```
 <p:dataTable id="StatusSearch" var="item" rowIndexVar="rowStatusSearch" value="#{StatusAction.listBondLocationEBeans"
    selection="#{StatusAction.listBEeans}" rowKey="#{item.LocationId}">
    <p:column selectionMode="multiple"/> 
```

动作豆：

```
private LocationEBean[] listBEeans; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T03:44:46.003

我发现了问题，在我的操作按钮中，我在删除它正常工作后使用了“immediate=true”属性。

# ios - 自动续订，确定初始购买

> ID：12294701
> 
> 赞同：0
> 
> 时间：2012-09-06T07:08:46.113
> 
> 标签：ios, app-store, in-app-purchase

在transactionState反映购买状态的updatedtransactions方法中，我想判断是新购买还是续订。从数据上可以吗？我什么也找不到。我确实看到了 originalTransaction 但它说这只是为恢复定义的，而不是购买。我当然可以在应用程序中保留一个标志，但不幸的是，我没有得到有关何时取消订阅的信息。我可以在每个周期后继续检查它是否更新，但那里可能会有一点差距，这会变得一团糟。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T22:32:34.077

在您的 transactionState 变为 purchaseState 后，您将需要按照“[验证自动更新订阅收据](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/RenewableSubscriptions/RenewableSubscriptions.html#//apple_ref/doc/uid/TP40008267-CH4-SW5)”中的规定验证收据。

您将查询商店并获得 JSON 响应，其中包括收据字段 - 在此收据中是 original_purchase_date。据我了解，这与您在 SKPaymentTransaction 中找到的 originalTransaction 的 transactionDate 不同。文档说：

> 这保存了初始购买的购买日期；它代表订阅的开始日期。

如果该查询还返回第一个订阅日期，另一种方法是将此信息存储在您自己的服务器上，并在那里验证收据（在上面链接部分的最后提到）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T20:51:08.897

验证收据，如[http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/RenewableSubscriptions/RenewableSubscriptions.html](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/RenewableSubscriptions/RenewableSubscriptions.html)。你得到 original_purcahse_date_ms。将其与 purchase_date_ms 进行比较...瞧！

# android - 在 Android 上从蓝牙中的 InputStream 读取数据时出错

> ID：12294705
> 
> 赞同：16
> 
> 时间：2012-09-06T07:09:00.187
> 
> 标签：android, bluetooth, inputstream

我正在开发一个 Android 应用程序，它使用蓝牙连接在我的 android 智能手机和非 android 蓝牙模块之间传输数据，使用 SPP 配置文件。我使用了来自 Android 开发者网站的蓝牙聊天示例作为参考。

我已经成功地使两个设备相互连接，并将简单的字符串从智能手机发送到蓝牙模块。但是我在读取从模块发回的数据时遇到了一些错误。我使用了以下代码，与蓝牙聊天示例中的代码完全相同，从 InputStream 中读取数据

```
while (true) {
    try {
        // Read from the InputStream
        bytes = mmInStream.read(buffer);
        String str = new String(buffer);
        Log.i(TAG, "mmInStream - " + str);
        // Send the obtained bytes to the UI Activity
        mHandler.obtainMessage(BluetoothChat.MESSAGE_READ, bytes, -1, buffer)
                .sendToTarget();
    } catch (IOException e) {
        Log.e(TAG, "disconnected", e);
        connectionLost();
        break;
    }
} 
```

当我的蓝牙模块向手机发送一个简单的字符串时，该字符串没有被正确接收。它以随机方式分成几部分。例如，如果我向手机发送 3 次“1234567890abcdef1234567890abcdef0123456789”，则 Eclipse 上的 Logcat 将记录这些：

```
mmInstream - 12345678910abcdef��������(continuing null)
mmInstream - 1��������(continuing null)
mmInstream - 2345678910abcdef0123456789��������(continuing null) 
```

首次。在第二次和第三次传输数据时，它在不同的块中被接收：

```
mmInstream - 1234567891�������(continuing null)
mmInstream - 0abcdef012�������(continuing null)
mmInstream - 3456789���������(continuing null)

mmInstream - 1234567891����������������(continuing null)
mmInstream - 0abcdef0123456789������������(continuing null) 
```

我不知道为什么会发生这种情况以及如何解决这个问题。如果以这样的任意方式接收数据，我将无法获得必要的数据进行处理。我怎样才能把它弄成一个整体？

任何帮助，将不胜感激。

非常感谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-06T10:40:03.053

我在您的代码中注意到两件事：

*   首先，向您的应用程序进一步发送对您读取的缓冲区的引用并不总是一个好的解决方案：如果同时缓冲区被覆盖怎么办？[例如，请参阅 stackoverflow 上的此错误](https://stackoverflow.com/questions/12239692/android-inputstream-dropping-first-two-bytes-modified-bluetoothchat/12264498#12264498) 您可以通过复制从蓝牙读取的数据（例如使用 buffer.clone()）来绕过此错误，或者如果您不喜欢使用太多内存，则可以使您的读取缓冲区一个循环的。

*   即使数据是在单独的数据包中接收的（但数据包是在短时间内收到的），您也应该能够重新编译数据。例如，您可以制作开始/停止标志。Ofc 它仍然取决于您通过蓝牙发送的对象的类型......

如果前面的两个警告没有用，现在一个可能的解决方案是：

而不是调用 .read 的无限循环 - 阻塞调用 - 您可以执行以下操作：

```
while(true) {
     if mmInStream.getAvailable()>0 { 
          -your read code here-
     }
     else SystemClock.sleep(100);
} 
```

这是一个 hack，有时它仍然可能只读取消息的一部分 - 但这种情况非常罕见！

如果有用，请投票/纠正！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-01-13T00:51:59.797

我有这个问题，我已经解决了这个字符的问题 - 以这种方式

```
public void run() {        
    int bytes; // bytes returned from read()
    int availableBytes = 0;        
    // Keep listening to the InputStream until an exception occurs
    while (needRun) {
        try {
            availableBytes = mmInStream.available();
            if(availableBytes > 0){
                byte[] buffer = new byte[availableBytes];  // buffer store for the stream
                // Read from the InputStream

                bytes = mmInStream.read(buffer);
                Log.d("mmInStream.read(buffer);", new String(buffer));
                if( bytes > 0 ){                        
                    // Send the obtained bytes to the UI activity
                    mHandler.obtainMessage(MESSAGE_READ, bytes, -1, buffer).sendToTarget();                     
                }                                   
            }
        } catch (IOException e) {
            Log.d("Error reading", e.getMessage());
            e.printStackTrace();
            break;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-24T10:20:01.283

Radu 的修复效果非常好！我自己一直在使用蓝牙聊天示例代码解决这个问题很长一段时间。下面是我用来从远程传感器捕获和显示温度读数的内容：

```
 // Keep listening to the InputStream while connected
        while (true) {

             try {
                 byte[] buffer = new byte[128];
                 String readMessage;
                 int bytes;
                if (mmInStream.available()>2) { 
                    try {
                       // Read from the InputStream
                        bytes = mmInStream.read(buffer); 
                        readMessage = new String(buffer, 0, bytes);

                       }catch (IOException e) {
                        Log.e(TAG, "disconnected", e);
                        break;
                    }
                     // Send the obtained bytes to the UI Activity
                     mHandler.obtainMessage(HomeBlueRemote.MESSAGE_READ, bytes, -1, readMessage)
                          .sendToTarget();
        }
        else {
            SystemClock.sleep(100);
               }
            } catch (IOException e) {

                e.printStackTrace();
            }

       }

    } 
```

如您所见，我将 (buffer.available() > 0) 修改为 > 2。这是因为我的微控制器正在发送 2 个字节的温度。. 在此修复之前，字节数的输入流会有所不同，有时仅捕获 1 个字节，这会扰乱 Android 应用程序中的温度显示读数。同样，在网络上的所有建议中，Radu 为 android inputstream 错误提供了最佳解决方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-14T10:08:36.637

我使用了最后两个代码，它们运行良好，但是当连接丢失时，用户界面不会得到通知，因此状态不会更改为 STATE_NONE。就我而言，我希望应用程序在连接丢失时尝试重新连接最后一个设备！在尝试了很多方法后，我终于以这种方式解决了问题：

1.  我创建了一个 END 字符，我知道我永远不会使用这个字符，但只是在我发送的字符串的末尾。“。” 是我的字符串字符的结尾。
2.  我创建了一个临时字符串 tmp_msg。
3.  每次收到流时，都会从该流中创建第二个临时字符串“readMessage”。
4.  "readMessage" 搜索结束字符 (".")。
5.  如果未检测到结束字符，则将“readMessage”连接到 tmp_msg。所以当第一次和第二次和第三次没有收到结束字符时tmp_msg=readMessage1+readMessage2+readMessage3。
6.  当结束字符“。” 检测到， tmp_msg 与最后的 readMessage 连接，并从中构造字节“缓冲区”。
7.  然后将“buffer”发送到用户界面，并将 tmp_msg 重新初始化为“”（空字符串）。这是整个代码：（BluetoothChat 活动无需修改）。

    ```
    public void run() { 
        Log.i(TAG, "BEGIN mConnectedThread");
        byte[] buffer = new byte[1024];
        int bytes;
        // Keep listening to the InputStream while connected
        String tmp_msg =""; 
        while (true) {
            try {
                // Read from the InputStream
                bytes = mmInStream.read(buffer);
                String readMessage = new String(buffer, 0,bytes);
                if (readMessage.contains(".")){
                    tmp_msg+=readMessage;
                    byte[] buffer1 = tmp_msg.getBytes();
                    int bytes1=buffer1.length;
                    tmp_msg="";
                    // Send the obtained bytes to the UI Activity
                    mHandler.obtainMessage(BluetoothChat.MESSAGE_READ,bytes1,-1,buffer1).sendToTarget();
                }else{
                    tmp_msg+=readMessage;
                }
            } catch (IOException e) {
            //  Log.e(TAG, "disconnected", e);
                connectionLost();
                // Start the service over to restart listening mode
                BluetoothChatService.this.start();
                break;
            }
        }
    } 
    ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-26T21:24:59.053

我找到了！

您必须重置缓冲区：

```
buffer = new byte [1024]; 
```

在这之前：

```
bytes = mmInStream.read(buffer); 
```

至少它对我有用，不需要睡眠命令。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-04-21T07:07:43.670

我认为有很多很好的答案。我的贡献是每次处理进入蓝牙输入流的每个数字，如下所示。这样做的价值在于确保每组数据都是一个长度值（作为字符串），可以通过将每个新值（包含在主 Activity Handler 中的 readMessage 字符串中）放入一个 List 中来非常容易地处理它。这样，您就可以使用 List(String)（编辑器不会让我使用 <> 的）对象通过提取来将数据处理回实数

Integer.valueOf(这里传入的List(String)对象)

// 连接时继续监听 InputStream while (true) {

```
 try {
             byte[] buffer = new byte[1]; // make this one byte to pass one digit at a time through Bluetooth Handler
             String readMessage;
             int bytes;
            if (mmInStream.available()>2) { 
                try {
                   // Read from the InputStream
                    bytes = mmInStream.read(buffer); 
                    readMessage = new String(buffer, 0, bytes);

                   }catch (IOException e) {
                    Log.e(TAG, "disconnected", e);
                    break;
                }
                 // Send the obtained bytes to the UI Activity
                 mHandler.obtainMessage(HomeBlueRemote.MESSAGE_READ, bytes, -1, readMessage)
                      .sendToTarget();
    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-06-14T08:59:49.537

我正在寻找解决这个问题的方法。并找到它：发送可以重新加载的缓冲区是个坏主意。所以我这样做了：（我发送的不是缓冲区，而是克隆的 RXbuffer）

现在我对 1000 个块（每个块 32 个字节）有 0 个错误，而不是之前有 20% 的错误；

```
 public void run() {
        Log.i(TAG, "BEGIN mConnectedThread");
        byte[] buffer = new byte[1024];
        byte[] bufferRX = new byte[1024];
        int bytes;

        // Keep listening to the InputStream while connected
        while (mState == STATE_CONNECTED) {
            try {
                // Read from the InputStream
                bytes = mmInStream.read(buffer);
                bufferRX = buffer.clone();

                // Send the obtained bytes to the UI Activity
                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, bufferRX)
                        .sendToTarget();
            } catch (IOException e) {
                Log.e(TAG, "disconnected", e);
                connectionLost();
                break;
            }
        }
    } 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2015-12-21T18:10:24.797

试试这个：

```
public void run() {
        byte[] buffer;
        ArrayList<Integer> arr_byte = new ArrayList<Integer>();
        while (true) {
            try {
                int data = mmInStream.read();
                if(mmInStream.available()>0) {
                    arr_byte.add(data);
                } else {
                    arr_byte.add(data);
                    buffer = new byte[arr_byte.size()];
                    for(int i = 0 ; i < arr_byte.size() ; i++) {
                        buffer[i] = arr_byte.get(i).byteValue();
                    }
                    Log.e("INPUT",new String(buffer));
                    mHandler.obtainMessage(MESSAGE_READ, bytes, -1, buffer)
                            .sendToTarget();
                    arr_byte = new ArrayList<Integer>();
                }
            } catch (IOException e) {
                break;
            }
        }
    } 
```

我也有这个问题。现在工作良好。没有�字符。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2017-04-29T00:50:23.777

我的方式：我在 MainActivity 中构建了一个 textView，其 id 为 txtReceive。

```
@Override
public void run() {
    byte[] buffer=new byte[1024];
    int bytes;
    while(true) {
        try {
            bytes = inputStream.read(buffer);
            final String strReceived = new String(buffer, 0, bytes);
            runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    txtReceive.append(strReceived);
                }
            });
        } catch (Exception e) {
            Log.d(TAG, "loi ");
            runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    txtReceive.setText("Error");
                }
            });
        }
    }
} 
```

# android - 如何构建 libjpeg 以供 ndk 使用

> ID：12294709
> 
> 赞同：4
> 
> 时间：2012-09-06T07:09:10.503
> 
> 标签：android, android-ndk, libjpeg, shared-libraries

我下载了 libjpeg-8d 源代码。我想把它编译成 libjpeg.so 可以在 android ndk 中使用。因为ndk使用arm架构，而我PC的gcc是x86架构。因此，当我使用 gcc 编译出 libjpeg.so 并将其放入 jni 文件夹时。使用 ndk-build 时显示文件格式无法识别。那么如何为 ndk 构建正确的 libjpeg.so 呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-06T10:08:32.220

您可以在此处找到带有 Android 生成文件的 libjpeg 8d：[https ://github.com/folecr/jpeg8d](https://github.com/folecr/jpeg8d)

或者，考虑使用 libjpeg-turbo`git://git.linaro.org/people/tomgall/libjpeg-turbo/libjpeg-turbo.git`

# c# - 如何使用 c# 从 Windows 应用程序中的 SessionSwitch 事件中调用方法？

> ID：12294717
> 
> 赞同：0
> 
> 时间：2012-09-06T07:09:40.700
> 
> 标签：c#, windows

如何`SessionSwitch`使用 C# 从 Windows 应用程序中的事件调用方法？需要使用委托吗？请帮助提供示例代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:17:19.813

像这样：

```
SystemEvents.SessionSwitch += HandleSessionSwitch;

...

private static void HandleSessionSwitch(object sender, Microsoft.Win32.SessionSwitchEventArgs e)
{
    // do something
} 
```

注意：当您的应用程序关闭或可能导致内存泄漏时，您应该取消订阅此事件（如[MSDN 上的文档](http://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.sessionswitch.aspx)中所述）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:25:21.263

你必须处理`Microsoft.Win32.SystemEvents.SessionSwitch`事件。请注意，处理程序方法必须是`static`：

```
SystemEvents.SessionSwitch += new SessionSwitchEventHandler(SystemEvents_SessionSwitch);
[...]
static void SystemEvents_SessionSwitch(object sender, SessionSwitchEventArgs e)
{
    // your code goes here
} 
```

或者，像往常一样，一个 lambda 表达式会做：

```
SystemEvents.SessionSwitch += (sender, e) => { /* your code*/ }; 
```

# wpf - 如何创建“Cross”作为 Checkbox 的模板

> ID：12294718
> 
> 赞同：1
> 
> 时间：2012-09-06T07:09:51.683
> 
> 标签：wpf, xaml, telerik, expression-blend

我正在寻找创造这样的东西。我想显示灰色“x”（选中复选框）和这个发光的红色十字标记（未选中复选框），而不是常规复选框。

![在此处输入图像描述](../Images/c08ee3c5fbe4fd353ee6b80ee5b98483.png)

基本上，我添加了一个复选框作为数据模板，`<telerik:GridViewDataColumn.CellTemplate>`并让用户从 RadGridView 中取消选中（而不是删除）行。因此，我想设计这样的东西，而不是一个无聊的复选框。这是因为，在我的上下文中检查没有意义，但取消检查几行数据却是..

我在这里看到了一个解决方案：[http ://forums.arcgis.com/threads/24433-how-to-create-a-diagonal-cross-symbol](http://forums.arcgis.com/threads/24433-how-to-create-a-diagonal-cross-symbol)

但是，我想创建一个十字（不是 2 条直线），而不是类似于所示的。

我对 XAML 和 WPF 很陌生，所以我不知道如何继续构建这样的东西。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:42:13.150

我认为你最好的选择是尝试找到已经制作好的东西。您可以在某些地方下载 XAML 图标，例如[xamalot](http://www.xamalot.com/)（目前似乎已关闭）

如果您想自己做，那么您不会通过手动编码 XAML 来重现上述内容。您需要使用像 Expression Blend 这样的图形编辑器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-13T19:04:44.967

您可以通过控制模板编辑用于复选框的图标。[此链接](http://www.telerik.com/help/wpf/common-styling-appearance-edit-control-templates-blend.html)将带您进入有关如何编辑控制模板的教程。

由于您的目标是复选框，因此您需要更深入地钻取。您将编辑几个模板的 ItemTemplate。我已经为您提取了整个模板，但我会在发布之前等待您的回答。它不小。

# android - 如何将android2.2升级到android3.2？

> ID：12294719
> 
> 赞同：0
> 
> 时间：2012-09-06T07:09:57.973
> 
> 标签：android, upgrade

我有优派安卓 2.2 平板电脑。现在我想升级我的平板电脑。有可能这样做吗？如果可能意味着我该怎么做。谁能告诉我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:55:39.767

[在这里找到设备](http://forum.xda-developers.com/index.php?s=029cd73571e995f5b034d6ffd1cf5cc7)并检查它是否可以升级或植根。如果无法升级，请找到适合您的根并对其进行根。请记住，发布 Android 设备的公司知道设备可以很好地处理哪些系统版本，因此在对设备进行 root 时考虑这一点，因为使用较新的 Android 版本可能会运行得更慢。但是，生根的好处是允许您对处理器进行超频，这可能需要从生根更新中获得良好的结果。请记住，生根可能会破坏公司的保修（非常肯定它确实如此）并且可能会导致一些问题。希望如果您严格按照论坛的说明进行操作，您将能够做到正确，如果我没记错的话，您可以随时降级回原来的！无论如何，如果您打算生根并小心，祝您好运！;)

# php - 缓存控制和页面过期问题

> ID：12294721
> 
> 赞同：0
> 
> 时间：2012-09-06T07:10:10.937
> 
> 标签：php, html, header, cache-control

为避免单击返回按钮时出现页面过期问题，我们在每个页面中添加了以下代码。

```
header("Expires: Sat, 01 Jan 2000 00:00:00 GMT");
header("Last-Modified: ".gmdate("D, d M Y H:i:s")." GMT");
header("Cache-Control: post-check=0, pre-check=0",false);
session_cache_limiter("must-revalidate"); 
```

有人可以告诉我，可能的缺点是什么，或者有什么方法可以避免页面过期问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T10:02:57.833

在使用 Apache 时，您不必使用 PHP`header()`方法。

使用 Apache [mod_expires](http://httpd.apache.org/docs/current/mod/mod_expires.htm)模块，您可以控制 HTTP 标头的设置以及服务器响应中 HTTP 标`Expires`头的`max-age`指令。`Cache-Control`

例如，如果您希望所有页面都过期`in 1 month`（并且不被浏览器重新加载），请使用`httpd.conf`文件、`<VirtualHost>`部分或`.htaccess`文件中的下一个配置行：

```
ExpiresActive On // Enables "Expires" and "Cache-Control" headers generation
ExpiresDefault "access plus 1 month" // All resources expire after 1 month 
```

# c#-4.0 - 无法访问对 Outlook 2010 中新邮件窗口的引用

> ID：12294725
> 
> 赞同：1
> 
> 时间：2012-09-06T07:10:27.230
> 
> 标签：c#-4.0, vsto, intellisense, office-interop, outlook-addin

我正在构建我的第一个 Outlook 插件，根据[此处](http://msdn.microsoft.com/en-us/library/cc668191%28v=vs.100%29.aspx)的代码，我应该将以下代码添加到事件处理程序中。

```
new Microsoft.Office.Interop
  .Outlook.InspectorsEvents_NewInspectorEventHandler(foo); 
```

当我输入它时，语法有效（没有红色下划线）并且代码编译。**但是**，由于某种原因，智能感知并没有为我提供*那个*特定的选项，这意味着我必须自己输入。那让我伤心。

更糟糕的是，当我执行项目时，监听器事件被触发**，但**下面的行不会产生对象 -`mailItem`仍然存在`null`。

```
Outlook.MailItem mailItem = inspector as Outlook.MailItem; 
```

1.  为什么没有智能感知`.Outlook.InspectorsEvents_NewInspectorEventHandler(foo);`？
2.  我可以以某种方式启用它吗？如果可以，如何启用？
3.  如何访问新创建的消息框？

我敢打赌，它与`Interop`引用有关，我怀疑它实际上不起作用，因为在处理程序添加操作*之前*和*之后*`Count`的字段`inspectors`都为零。

 **尽管打开了一个新的邮件窗口（当然，没有对其进行任何更改），但执行下面的行仅返回`null`，而不是 的实例。`MailItem`虽然输入参数`inspector`不同于`null`，但 as-'ification 似乎使其无效。

我运行 VS10/.NET4。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T17:18:46.430

[`Inspector`](http://msdn.microsoft.com/en-us/library/office/ff869356.aspx)代表包含[Outlook 项目](http://msdn.microsoft.com/en-us/library/office/ff866278.aspx)的窗口。要访问包含在窗口中的项目，您需要使用[`Inspector.CurrentItem`](http://msdn.microsoft.com/en-us/library/office/ff869722.aspx)：

```
Outlook.MailItem mailItem = inspector.CurrentItem as Outlook.MailItem; 
```

对于智能感知问题，请尝试以下 using 语句：

```
using Outlook = Microsoft.Office.Interop.Outlook;
inspectors.NewInspector += new Outlook.InspectorsEvents_NewInspectorEventHandler(foo); 
```**

# jquery - 如何在jquery中更改现有表中的表行值？

> ID：12294728
> 
> 赞同：1
> 
> 时间：2012-09-06T07:10:37.593
> 
> 标签：jquery, tablesorter

我有一个 jquery 脚本来控制表行（tr）向上/向下移动。

**脚本**

```
$(document).ready(function()
{
$('#mytable a.move').click(function() 
{
    var row = $(this).closest('tr');

if ($(this).hasClass('up'))
{
    row.prev().before(row);
}
else
    row.next().after(row);
});

}); 
```

**HTML**

```
<table cellspacing="1" cellpadding="1" width="250" align="left" 
bgcolor="#eeeeee"  border="0" id="mytable">
<thead>
<tr class="tablebody">
  <th width="21" class="tablehead">S.No</th>
  <th width="119" class="tablehead">levels</th>
  <th width="100" class="tablehead">Sort</th>
</tr>
</thead>
<tbody>
<tr class="tablebody" id="status2">
  <td class="tdValue"> 1 </td>
  <td>level - 1 </td>
  <td width="100"><a class="move up" href="javascript:void(0)"><img src="images1/arrow_up.gif" alt="Up" width="11" height="13" border="0" /></a> <a class="move down" href="javascript:void(0)"><img src="images1/arrow_down.gif" alt="down" width="11" height="13" border="0" /></a> </td>
</tr>

<tr class="tablebody" id="status3">
  <td class="tdValue">  2 </td>
  <td>level - 2 </td>
  <td width="100"><a class="move up" href="javascript:void(0)"><img src="images1/arrow_up.gif" alt="Up" width="11" height="13" border="0" /></a> <a class="move down" href="javascript:void(0)"><img src="images1/arrow_down.gif" alt="down" width="11" height="13" border="0" /></a> </td>
</tr>
</tbody>
 </table> 
```

我可以将 tr 向上/向下移动“n”个 TD。但是，在完成 tr up/down 后，无法将 s.no 2 更改为 1。

或者我只想向上/向下移动两个 TD（级别和排序）而不是 S.no TD

请向我提供此问题的详细步骤。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:21:09.580

你可以试试这个

```
$(document).ready(function()
{
    $('#mytable a.move').click(function()
    {
        var row = $(this).closest('tr');

        if ($(this).hasClass('up'))
        {
            var preTr = row.prev(); // Get Previous TR
            var prevSN = preTr.find('td:eq(0)').html(); // Get Previous TR S.No
            row.find('td:eq(0)').html(prevSN); // Set To Current Row S.No
            preTr.find('td:eq(0)').html(Number(prevSN)+1); // Set To Previos S.No, Previous + 1
            preTr.before(row); //Change in DOM
        }
        else
        {
            var nextTr = row.next(); // Get Next TR
            var nextSN = nextTr .find('td:eq(0)').html(); // Get Next S.No
            row.find('td:eq(0)').html(nextSN ); // Set Next S.No. To Current Tr
            nextTr.find('td:eq(0)').html(Number(nextSN)-1); // Set Next S.No -1 To Next Tr
            nextTr.after(row); //Change in DOM
        }
    });

}); 
```

检查这个快速**[演示](http://jsfiddle.net/C9WRY/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:40:18.443

您可以使用该`.find()`方法获取`"tdValue"`每行中带有类的 td 元素，然后使用该`.html()`方法获取和设置它们的值：

```
$(document).ready(function() {
    $('#mytable a.move').click(function() {
        var up = $(this).hasClass('up'),
            thisRow = $(this).closest('tr'),
            thisTD = thisRow.find(".tdValue")
            thisSNo = thisTD.html(),
            otherRow = thisRow[up?"prev":"next"](),
            otherTD = otherRow.find(".tdValue");

        if(otherRow.length){
            thisTD.html(otherTD.html());
            otherTD.html(thisSNo);
            otherRow[up?"before":"after"](thisRow);
        }
    });
}); 
```

测试`if(otherRow.length)`是为了避免尝试从底行向下或从顶行向上。

演示：http: [//jsfiddle.net/nnnnnn/mKq5S/](http://jsfiddle.net/nnnnnn/mKq5S/)

# gcc - gcc 3.23 中缺少 libgcov.a

> ID：12294738
> 
> 赞同：0
> 
> 时间：2012-09-06T07:11:18.990
> 
> 标签：gcc, gcov, lcov

由于某些原因我必须使用旧版本的 gcc，gcc2.96 或 gcc 3.23 使用相同的，我需要对一些代码执行代码覆盖率分析。

但是，当我尝试使用`-lgcov`选项执行链接时，我得到

> /usr/bin/ld: 找不到 -lgcov

我发现我`libgcov.a`在 /usr/lib 中没有。但是我的理解是 libgcov 通常在安装 gcc 时自动安装。

任何有关如何解决此问题的建议将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T11:45:37.450

libgcov.a 仅从 gcc 3.4 添加。对于早期版本的 gcc，链接不需要此选项。

# php - 在 PHP 中使用变量 NAME 作为值

> ID：12294748
> 
> 赞同：2
> 
> 时间：2012-09-06T07:11:56.817
> 
> 标签：php, variables, introspection

不知道如何在不讨论 C 中的预处理器的情况下问这个问题，但我会尝试：

PHP中有没有办法将变量的**名称**用作字符串或值。

这样，而不是像这样调用函数，

```
$somevar = 'whatever';

fun('somevar', $somevar); 
```

你可以这样称呼它：

```
fun(<magic:$somevar>, $somevar); 
```

甚至，我敢说，*像这样*：

```
fun($somevar); 
```

fun() 本身会推导出变量的值（'whatever'）和名称（'somevar'）。（在 C 中，可以使用预处理器#define 来完成。）

[上面的“魔术”当然是我正在寻找的 PHP 中魔术语法的占位符，它将帮助我做到这一点。我想它可以用eval（）以某种方式制作？但是人们一直告诉我不要使用 eval。]

有人暗示内省可能会以某种方式解决问题。欢迎任何线索。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:22:00.000

试试这个

```
function var_name(&$var, $scope=0)
{
    $old = $var;
    if (($key = array_search($var = 'unique'.rand().'value', !$scope ? $GLOBALS : $scope)) && $var = $old) return $key;  
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:24:23.887

[http://php.net/manual/en/language.variables.variable.php](http://php.net/manual/en/language.variables.variable.php)

可能比我解释得更好，我认为这就是你要找的东西？

好的，在调用该函数之前，请执行以下操作：

```
$var= "variableName";
$$var = "variableValue";
fun($var); 
```

现在在函数定义中很有趣：

```
function fun($parameter)
{
    global $$parameter;
    echo $parameter; //echos the variableName
    echo $$parameter; //echos the variableValue
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T08:07:18.033

不，PHP 的作用域规则阻止您这样做。唯一的方法是通过预处理器（如您所知）或通过内省代码，这将是同一件事。PHP 有一个内置的标记器，您可以使用它来解析文件。您可以使用`debug_backtrace`它来找出要解析的文件。不过，这将是一件非常混乱和低效的事情，所以你最好重新考虑一下你在做什么。

# php - 加载 +10 个帖子

> ID：12294754
> 
> 赞同：0
> 
> 时间：2012-09-06T07:12:20.020
> 
> 标签：php, javascript, jquery, html, ajax

我在 home.php 中构建了两个函数来在我的提要中加载 +10 个帖子。它加载了两个新帖子，但有一个缺陷。它复制了它所包含的整个 home.php。即标题、提要、状态保持器和加载更多选项卡。我不知道为什么。我怎样才能阻止这种情况发生。也许将流放在自己的页面中并自行调用它？

```
<script>
var global_streamcount=20;
function refreshstream()
{
$.ajax({
method: 'get',
url : 'home.php?limit='+global_streamcount,
dataType : 'text',
success: function (text) { $('#homestatusid').prepend(text); }
});
}
</script>
<script>
function checkautoload(){
global_streamcount=global_streamcount+10;loadstream('home.php','homestatusid',global_streamcount);
}
</script> 
```

加载更多

```
<div class="stream_show_posts" onClick="global_streamcount=global_streamcount+10;refreshstream();">Show More Posts</div> 
```

PHP

```
if(isset($_GET['limit'])){
$sqllimit = $_GET['limit'];
}else{
$sqllimit = 20;
}
$call="SELECT * FROM streamdata WHERE streamitem_target= $following_string OR streamitem_creator = $following_string OR streamitem_creator IN $friendlist AND streamitem_target IN $friendlist ORDER BY streamitem_timestamp DESC LIMIT $sqllimit"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:21:18.743

调用应该是另一个脚本，但如果你想保留在同一个文件中，你必须退出你的脚本并只输出从数据库中获取的项目..类似于：

```
if(isset($_GET['limit'])){

    if(isset($_GET['limit'])){
        $sqllimit = (int)$_GET['limit'];
    }else{
        $sqllimit = 20;
    }
        $call="SELECT * FROM streamdata WHERE streamitem_target= $following_string OR streamitem_creator = $following_string OR streamitem_creator IN $friendlist AND streamitem_target IN $friendlist ORDER BY streamitem_timestamp DESC LIMIT $sqllimit";

    echo "<div>Your contents echoed with results from db</div>"
    die;

}
// rest of the page .. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:25:45.253

我会使用[load() 函数](http://api.jquery.com/load/)来完成这个：

```
<div class="stream_show_posts">Show More Posts</div>
<script>
    $('div.stream_show_posts').on('click', function() {
        global_streamcount=global_streamcount+10;
        $('#your_posts_div_element').load('home.php?limit='+global_streamcount+' #your_posts_div_element');
    });
</script> 
```

该函数基本上将从名为“your_posts_div_element”的元素中获取所有数据，并将旧数据替换为页面上的同一元素。

另外，请注意，不再建议直接在元素中使用 onClick 处理程序 - 我使用 on() 函数将点击事件分配给您的 DIV。

# android - android hashmap在对象中存储对象变量

> ID：12294758
> 
> 赞同：0
> 
> 时间：2012-09-06T07:12:32.797
> 
> 标签：android, android-layout, hash, hashmap, key-value

嘿，我正在尝试将一些值存储在 a`hashmap`中以放入**自定义视图**中。问题是在我的 put 方法中分配**键**时，当我尝试从与我的另一个对象一起的对象中的变量中获取**键**`hashmap`时出现**错误**

 ****这是我的代码：**

```
 ListView lv= (ListView)findViewById(R.id.listView1);
     String[] from = new String[] {"fornavn", "starttid", "sluttid"};
     int[] to = new int[] { R.id.Kunde, R.id.StartTime, R.id.EndTime };     

     List<HashMap<String, String>> fillMaps = new ArrayList<HashMap<String, String>>(); 

     for(Appointment a : todayList)     {

        HashMap<String, String> map = new HashMap<String, String>();

            //here is my error I don't know what to put as key??
        map.put("kunde.fornavn", "col_1_item_" + a.kunde.fornavn);
        map.put("starttid", "col_2_item_" + String.valueOf(a.startTime));
        map.put("sluttid", "col_3_item_" + String.valueOf(a.endTime));
        fillMaps.add(map);

     }
     SimpleAdapter adapter = new SimpleAdapter(this, fillMaps, R.layout.row, from, to);
     lv.setAdapter(adapter); 
```

日志猫：

![日志猫信息](../Images/1674f1215d843e61ff76e9f5ba4aaa9e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:28:47.607

看起来

```
a.kunde 
```

一片空白**

# ios - 在 ios 应用程序中按下刷新按钮时应用程序崩溃

> ID：12294759
> 
> 赞同：-1
> 
> 时间：2012-09-06T07:12:48.153
> 
> 标签：ios

我正在开发一个从交换服务器下载联系人的邮件应用程序。但是，当我在“收件人：”部分打开一封包含大量电子邮件 ID 的邮件，并点击该特定消息视图的刷新按钮时，我的应用程序突然崩溃了。在检查日志文件时，它给了我以下详细信息。最上面的应用程序是我正在开发的应用程序。

![崩溃日志屏幕截图](../Images/3c8d9e4b0f887d6be47295137b9bb7ad.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:19:12.233

您可以打开 Zombie 对象进行调试，

项目 -> 编辑方案 -> 诊断

检查启用僵尸对象

![在此处输入图像描述](../Images/5e5e39444335e88694400bc2ee0a6115.png)

# java - Spring注入内部类

> ID：12294761
> 
> 赞同：3
> 
> 时间：2012-09-06T07:12:53.123
> 
> 标签：java, spring, inversion-of-control

是否可以将bean注入内部类？

例如：

```
@Named
public class outer {

   @Inject
   private SomeClass inst; // Injected correctly

   private static class inner {
        @Inject
        private AnotherClass instance;  // Not being injected
... 
```

编辑：“AnotherClass”仅供内部类使用，所以我不想用它污染外部类。将声明保留在内部类中的另一个原因是，如果我将 AnotherClass 成员移动到外部类，我必须从内部类中删除静态修饰符或将其添加到外部类成员中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-06T09:44:51.013

`@Inject`只有当 spring 实例化你的对象时才会使用类似的注解。由于您使用 注释 external `@Named`，因此 spring 将使用它制作一个 bean 并`SomeClass`正确注入实例。另一方面`inner`，可能是由您手动实例化的，因此 spring 无法注意到此注释并对其进行处理。

这不是关于成为内部或顶级类，而是关于谁创建对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T09:53:55.810

从 JVM 的角度来看，静态内部类与顶级内部类没有区别，因此您可以将静态内部类声明为 Spring bean（例如，通过使用 注释它`@Named`）。

显然，如果你想让注入工作，你需要从 Spring 获取该类的实例：

```
@Named
public class Outer {
   @Inject
   private Provider<Inner> innerFactory; 

   public void foo() {
       Inner inner = innerFactory.get(); // Injected correctly
       ...
   }

   @Named
   private static class Inner {
       @Inject
       private AnotherClass instance;
   }
} 
```

# android - Speech to Text API 或 SDK for Mobile（跨平台）

> ID：12294762
> 
> 赞同：6
> 
> 时间：2012-09-06T07:12:59.020
> 
> 标签：android, ios, speech-recognition, speech, speech-to-text

目前最受支持的移动语音或文本 API 或 SDK 是什么（多平台：Android、iOS 等）

有一些专门针对 iPhone 的帖子，但我正在寻找一种可以理想地跨平台工作的解决方案。

注意似乎所有解决方案最终都发布到远程服务器上的 REST-ful API，而不是在本地进行语音处理。（这是真的？）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-06T14:40:42.353

我能想到一些跨平台的 Android 和 iOS。但是，它们是商业服务，在某种服务水平上，您必须为它们付费。对于 Android，Google 提供免费的语音识别。因此，您可能需要考虑使用 Google 对 Android 的免费识别。

你可以看看：

*   Nuance SDK - [http://dragonmobile.nuancemobiledeveloper.com/public/index.php?task=home](http://dragonmobile.nuancemobiledeveloper.com/public/index.php?task=home)
*   iSpeech.org - [https://www.ispeech.org/developers](https://www.ispeech.org/developers)
*   AT&T 沃森 - [http://developer.att.com/developer/apiDetailPage.jsp?passedItemId=10700023](http://developer.att.com/developer/apiDetailPage.jsp?passedItemId=10700023)
*   Mozilla - [https://wiki.mozilla.org/HTML5_Speech_API](https://wiki.mozilla.org/HTML5_Speech_API)

如果您想在移动设备上尝试客户端识别。看：

*   PocketSphinx - [http://cmusphinx.sourceforge.net/](http://cmusphinx.sourceforge.net/)
*   OpenEars - [http://www.politepix.com/openears/#](http://www.politepix.com/openears/#)

对于更多背景[文本到语音（语音生成）和语音到文本（语音识别）API？](https://stackoverflow.com/questions/6348770/text-to-speech-voice-generation-and-speech-to-text-voice-recognition-apis)可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-05-07T07:00:10.957

**斯皮普**

[https://www.spitch.ch/](https://www.spitch.ch/)

值得一试，尤其是对于德语或瑞士德语。

有适用于 iOS 和 Android 的 SDK。

# asp.net-mvc - 在 asp.net mvc 3 的实体框架中使用数据库优先方法时，SqlServer 中的数据库不会受到影响？

> ID：12294763
> 
> 赞同：0
> 
> 时间：2012-09-06T07:13:04.157
> 
> 标签：asp.net-mvc, entity-framework

我在实体框架上使用了数据库优先方法，它工作正常。数据库存储在 Visual Studio 中，但它不影响原始数据库 ko sql server 2008。我遵循[http://msdn.microsoft.com/en-us/data/gg685489 .aspx](http://msdn.microsoft.com/en-us/data/gg685489.aspx)。学习。任何帮助请

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T09:36:08.463

然后确保您的连接字符串是正确的。[更多细节](http://blogs.msdn.com/b/adonet/archive/2012/01/12/ef-4-3-configuration-file-settings.aspx)

# c# - 如何在 asp:grid 中绑定字符串中的数据？

> ID：12294764
> 
> 赞同：0
> 
> 时间：2012-09-06T07:13:12.113
> 
> 标签：c#, asp.net, html, gridview

我有以下字符串：

```
for(#some conditions){    
 ##
result += "<tr><td>" + dc + "</td><td>" + al + "</td><tr>"; 
} 
```

`dc`现在，我想`al`在我的 HTML 输入文本区域中使用`aspx:grid`.

例如结果的值为：

```
result =  <tr><td>1111</td><td>23</td><td><tr><td>22222</td><td>43</td><tr> 
```

现在我想使用以下格式显示数据`grid`

```
dc       al
1111     23
222222   43 
```

现在，我正在使用以下命令填充文本区域。

```
<script type = "text/javascript">
    function submit_a()
    {
        $.post("../AllocationValidator.aspx", { "data": escape(validatorXML), "scenarioID": scenarioID }, function (result) {
            alert("Data Saved!");
            $("#allocations").empty();
            $("#allocations").html(result);
            BodyLoad();
        });
    }    
</script>

<div id = "allocations" style = "width: 650px; padding: 10px; border: 1px solid black;height: 150px; overflow:scroll;"></div> 
```

我的问题是如何实现`asp:grid`显示数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T10:15:20.050

如果您只想在 GridView 控件中显示检索到的数据。您可以将数据源绑定到控件或以编程方式添加列和行。

您可以绑定任何实现 IListSource 或 IList 接口的数据源。这意味着您不能`result`直接绑定字符串，如问题标题中所述。您必须将检索到的数据存储在兼容的数据结构中，例如 List 以将其绑定为数据源。

要使用数据绑定，您可以将`dc`和保存`al`在类似字典的数据结构中。假设您只想显示两列数据。

```
var data = new Dictionary<string, string>();
for (/* Condition */)
{ 
    data.Add(dc, al);
}
grid.DataSource = data;
grid.DataBind(); 
```

相应的网格将是

```
<asp:GridView ID="grid" runat="server" AutoGenerateColumns="false">
<Columns>
    <asp:BoundField DataField="Key" HeaderText="dc"/>
    <asp:BoundField DataField="Value" HeaderText="al" />
</Columns> 
</asp:GridView> 
```

如果您使用 foreach 来生成`result`字符串，那么您应该考虑使用 foreach 语句中的对象作为数据源的可能性。

# sql - Postgresql：从 HH:MM:SS 到 00:HH:MM 的“偏移”间隔

> ID：12294765
> 
> 赞同：4
> 
> 时间：2012-09-06T07:13:16.740
> 
> 标签：sql, postgresql, intervals, time-format

我有一个表，其中存在一个间隔类型列`Duration`。目前，这些值表示为以下`HH:MM:SS`数据：

```
15:32:00
17:01:00
16:02:00
... 
```

问题在于，实际上数据仅类似于分钟和秒，并且应该更新列的值，以便值将变为：

```
15:32:00 -> 00:15:32
17:01:00 -> 00:17:01
16:02:00 -> 00:16:02

... 
```

应该对列运行什么样的查询？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T08:23:18.773

```
SELECT EXTRACT(hour FROM duration) * INTERVAL '1' minute + EXTRACT(minute FROM duration) * INTERVAL '1' second
FROM tbl
; 
```

* * *

## **编辑**

这是我的原始答案，它没有回答原始问题：

你可以尝试这样的事情：

```
SELECT duration - EXTRACT(hour FROM duration) * INTERVAL '1' hour
FROM tbl
; 
```

它从间隔中提取小时部分并从原始值中减去该部分。重写，就`UPDATE`好像你真的需要更新你的数据一样。

# google-chrome - 如何跳过黄瓜中的错误？

> ID：12294774
> 
> 赞同：0
> 
> 时间：2012-09-06T07:14:00.733
> 
> 标签：google-chrome, testing, cucumber, watir-webdriver

cucumber 如何在不停止测试的情况下跳过（忽略）错误？我的意思是 - 如果出现错误 -> 必须继续测试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T19:50:21.700

如果场景期间发生错误，则场景失败。我知道有时候，你有复杂的场景，准备真正的测试有很多步骤，而真正的测试根本没有执行是令人沮丧的。

我认为它可能很好的唯一情况是您的方案进行了更改并且应该在之后取消更改。但我更喜欢在初始化下一个场景的步骤中处理这个问题。

（因为你真的不知道测试的顺序，有时可能会更复杂一些）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T08:10:44.937

如何在步骤定义或底层代码中捕获异常？

# android - 如何使用monkey和monkeyrunner工具进行android测试？

> ID：12294780
> 
> 赞同：13
> 
> 时间：2012-09-06T07:14:28.663
> 
> 标签：android, monkeyrunner, monkey

您如何使用`monkey`和`monkeyrunner`工具进行 android 测试？

需要哪些基本命令？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-11-15T11:50:55.043

```
adb shell monkey -p com.bla.yourpackage -v 1000 
```

First is your package that you want monkey to run in and be restricted to. Second is i verbose mode, third is number of events to run.

You can find out more by doing `adb shell monkey -help`

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-09-22T06:58:31.007

以下是使用猴子测试时的一些有用提示。

## 指定一项活动

`category`在清单中添加：

```
<activity android:name="MonkeyActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.MONKEY" />
    </intent-filter>
</activity> 
```

并使用这样的命令：

```
adb shell monkey -p my.package -c android.intent.category.MONKEY -v 500 
```

## 防止通知打扰

在 Android 5.0+ 中，您可以使用屏幕固定功能。

*   在“设置”>“安全”>“屏幕固定”中打开此功能
*   单击主页按钮旁边的最近/多任务处理按钮
*   单击绿色大头针图标以固定要测试的应用程序

然后运行你的猴子测试。

## 停止猴子测试

使用以下命令停止猴子测试：

```
adb shell ps | awk '/com\.android\.commands\.monkey/ { system("adb shell kill " $2) }' 
```

## 参考

*   [Android猴子测试选择特定活动](https://stackoverflow.com/questions/16019290/android-monkey-test-choose-a-specific-activity)
*   [如何阻止猴子的疯狂？](https://stackoverflow.com/questions/9999036/how-do-i-stop-the-monkey-madness)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-01-08T12:26:05.853

`monkey`并且`monkeyrunner`是不同的工具。

**猴**

您可以`monkey`从运行`adb shell`，然后它将生成用户事件的伪随机流。您可以为这些事件的执行指定一些条件和约束（请参阅[文档](http://developer.android.com/tools/help/monkey.html)）

> 基本语法是：

> `$ adb shell monkey [options] <event-count>`

**猴行者**

`monkeyrunner`正如文档所定义的，是一个从 Android 代码外部控制 Android 设备或模拟器的 API。您基本上可以编写 Python 脚本来描述要在目标设备上执行的一些操作。

[示例程序](http://developer.android.com/tools/help/monkeyrunner_concepts.html#SampleProgram)

引用 Android 开发者[文档](http://developer.android.com/tools/help/monkeyrunner_concepts.html)：

> monkeyrunner 工具与 UI/Application Exerciser Monkey 无关，也称为`monkey`工具。该`monkey`工具`adb` 直接在设备或模拟器上的外壳中运行，并生成用户和系统事件的伪随机流。相比之下，monkeyrunner 工具通过从 API 发送特定命令和事件来从工作站控制设备和仿真器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-11-02T09:01:20.873

这三个步骤应该可以帮助您进行设置：

1）进入这个目录 -`~/Android/Sdk/platform-tools`

2）启动服务器 -`./adb start-server`

3) 在您的应用程序中测试 5000 次随机击键的命令 -`./adb shell monkey -p your.package.name -v 500`

有关更多信息，请查看此内容。 [https://developer.android.com/studio/test/monkey.html](https://developer.android.com/studio/test/monkey.html)

# ruby-on-rails - 电子邮件中的虾 pdf 附件

> ID：12294781
> 
> 赞同：11
> 
> 时间：2012-09-06T07:14:35.293
> 
> 标签：ruby-on-rails, ruby, prawn

在我的 Rails 应用程序中，我试图将发票附加到电子邮件中：

```
def invoice(invoice)
  attachment :content_disposition => "attachment",
             :body => InvoicePdf.new(invoice),
             :content_type => "application/pdf",
             :filename => 'invoice.pdf'

  mail(:to => @user.email, :subject => "Your Invoice")
end 
```

InvoicePdf**是**一个 Prawn PDF 文档：

```
class InvoicePdf < Prawn::Document
  def initialize(order, view)
    draw_pdf
  end

  def draw_pdf
    # pdf stuff
  end
end 
```

我在电子邮件中没有收到任何附件。我究竟做错了什么？任何提示都将受到欢迎和赞赏。

**编辑：**我使用的 Rails 版本是**3.0.x**

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-06T07:27:51.383

查看[Action Mailer 指南](http://guides.rubyonrails.org/action_mailer_basics.html#sending-emails-with-attachments)。您需要调用 attachments 方法来添加附件。

试试这个：

```
attachments['attachment_filename'] = InvoicePdf.new(invoice) 
```

这是假设调用 InvoicePdf.new(invoice) 会生成一个文件并返回一个表示该文件的 IO 对象。我还注意到您的 InvoicePdf 类初始化程序需要两个参数，但您只传递了一个。

**更新：** 另请注意，Action Mailer 将获取文件名并计算出 MIME 类型，设置 Content-Type、Content-Disposition、Content-Transfer-Encoding 和 base64 编码附件的内容，因此手动设置它是除非您想覆盖默认值，否则没有必要。

根据您的 pdf 生成方法，这可能会更好：

```
invoice = InvoicePdf.new(invoice)
attachments["invoice.pdf"] = { :mime_type => 'application/pdf', :content => invoice.render }
mail(:to => @user.email, :subject => "Your Invoice") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:29:25.003

这不只是

```
attachments["invoice.pdf"] = InvoicePdf.new(invoice) 
```

从 3.0 开始？

# git - “git init”失败，怎么了？

> ID：12294787
> 
> 赞同：15
> 
> 时间：2012-09-06T07:15:13.747
> 
> 标签：git, google-code, git-config

此问题与“ [Bad git config file .git/config](https://stackoverflow.com/questions/9509125/bad-git-config-file-git-config) ”不同，因为它在使用 .git 时失败`git init`。

/home/mirror/.gitconfig 似乎没有什么问题：

```
[mirror@home php]$ git init
error: Malformed value for push.default: simple
error: Must be one of nothing, matching, tracking or current.
fatal: bad config file line 8 in /home/mirror/.gitconfig 
```

这是 ~/.gitignore 的内容：

```
cat ~/.gitconfig
[alias]
        lg = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative
[user]
        email = xxxxxx@gmail.com
        name = xxxxx
[push]
        default = simple 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-06T07:32:21.233

在 git v1.7.11 中添加了 Simple。如果您的 git 版本较旧，则此选项不存在。只需将其从您的设备中删除，`conf`您就可以进行`init`回购。

查看[文档](https://raw.github.com/git/git/master/Documentation/RelNotes/1.7.11.txt)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-15T09:53:46.187

现在 git 1.8 出来了，这个问题不断出现。幸运的是，来自 git 的消息现在非常有用：

```
warning: push.default is unset; its implicit value is changing in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the current behavior after the default changes, use:

   git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

   git config --global push.default simple

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11\. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git) 
```

例如，git (vc) 的 emacs 接口不理解参数 'simple'，因此您最好暂时使用参数 'matching'。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-09-17T16:58:28.127

尝试更新配置以使用`matching`而不是`simple`for `push.default`。

```
git config --global push.default matching 
```

或者

```
git config push.default matching 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-10-20T19:54:00.497

请注意，识别问题可能会有问题，考虑到问题位于：

*   第 7 行 ( `default = simple`),
*   *不是*第 8 行（这里不存在）

解决方案：

*   更改第 7 行的值可以解决问题 ( `git config --global push.default matching`)
*   [删除配置](https://askubuntu.com/a/282550/5470)也有帮助（`git config --global --unset-all push.default`）

* * *

但最重要的是，从 git 2.2 (Q4 2014) 开始，**git config 错误行号将是准确**的。
请参阅[提交 b3b3f60](https://github.com/git/git/commit/b3b3f60bb672d23b9db1582395a1d29561cb79ef)，由[Matthieu Moy ( `moy`)](https://github.com/moy)：

## `config.c`：修复错误中行号的准确性

> `git_config*()`如果回调向家庭返回负值，它们会`die()`在打印行号和文件名时调用。
> 当前打印的行号减一，因此打印了错误的行号。
> 
> `linenr`指出我们刚刚在回调调用期间解析的行，以在错误消息中获取准确的行号。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-08-09T05:57:10.807

如果您使用低于 1.7.11 的 Git 版本，请`current`使用类似模式。`simple`

```
git config --global push.default current 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-06-12T22:10:11.613

由于我在搜索`Malformed value for push.default: simple`推/拉时遇到的错误时遇到了这个问题，所以我认为其他人也可能如此。

这是一个相关问题，它为路人提供了更多信息（有关更多链接，请参阅我最后的回答）： [GIT: Can't Push (Strange Config Issue)](https://stackoverflow.com/questions/21083747/git-cant-push-strange-config-issue/24194604#24194604)

请特别注意，此错误似乎是由某处的较旧版本的 Git 引起的。最好的解决方案是在所有机器上更新到最新版本的 Git。

如果您无法做到这一点，只需运行以下命令（如@morefromalan 所述）：

```
git config --global push.default matching 
```

或者

```
git config --global push.default upstream 
```

摆脱错误。[这会更改此处](http://blogs.collab.net/cloudforge/tips-on-git-de-fanging-git-push#.U5ogepRdVRl)`push`描述的操作的默认行为。您*可能*不得不这样做，但它似乎对我有用，只是将默认行为更改为.*`pull``push``push``upstream`*

 *祝你好运！*

# html - 突出显示当前导航链接

> ID：12294797
> 
> 赞同：1
> 
> 时间：2012-09-06T07:16:06.687
> 
> 标签：html, css

我有一个运行良好的简单网页导航栏。现在我想设置它的样式，以便当前页面导航链接是不同的颜色。在这种情况下，我想让当前页面导航链接使用这种颜色：

```
color: #00A1DB; 
```

我已经设置了一个简化的 jsFiddle，它显示了我目前拥有的内容：

[http://jsfiddle.net/fmdataweb/BEmXZ/](http://jsfiddle.net/fmdataweb/BEmXZ/)

我在联系人链接中添加了一个“当前”类来表示这是当前页面。现在我需要修改 CSS，以便将导航栏中“联系人”链接的颜色更改为指定的颜色。

在过去的几个小时里，我已经破解了 CSS，但无法完全解决必要的更改以使其正常工作。如果有人能告诉我如何做到这一点，我真的很感激——我现在正在学习 CSS。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:41:39.897

设置类活动和悬停的样式：

* * *

比您需要在服务器端激活 li 。所以当你在绘制菜单时，你应该知道加载了哪个页面并将其设置为：

```
 <li class="active">Question</li>
 <li>Tags</li>
 <li>Users</li> 
```

但是，如果您在不重新加载的情况下更改内容，则无法更改设置服务器上的活动 li 元素，您需要使用 javascript：

```
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<style>
  .menu{width: 300px; height: 25; font-size: 18px;}
  .menu li{list-style: none; float: left; margin-right: 4px; padding: 5px;}
  .menu li:hover, .menu li.active {
        background-color: #f90;
    }
</style>
</head>
<body>

<ul class="menu">
<li>Item 1</li>
<li class="active">Item 2</li>
<li>Item 3</li>
<li>Item 4</li>
<li>Item 5</li>
<li>Item 6</li>
</ul>

<script type="text/javascript">

var make_button_active = function()
{
  //Get item siblings
  var siblings =($(this).siblings());

  //Remove active class on all buttons
  siblings.each(function (index)
    {
      $(this).removeClass('active');
    }
  )

  //Add the clicked button class
  $(this).addClass('active');
}

//Attach events to menu
$(document).ready(
  function()
  {
    $(".menu li").click(make_button_active);
  }  
)

</script>
</body>

</html> 
```

这是[JSFiddle](http://jsfiddle.net/BEmXZ/4/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T08:01:50.950

**[看演示](http://jsfiddle.net/BEmXZ/5/)**

您可以使用 jquery`.addClass()`方法将您的`current`类添加到单击的`li`元素，然后使用所有其他元素的方法删除`current`该类。`.removeClass``li`

```
$('#nav ul li').on("click",function(){

  $(this).addClass('current');
var siblings =($(this).siblings());

  siblings.each(function (index)
    {
      $(this).removeClass('current');
    });

    });​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:21:29.100

这是你想要的吗？[http://jsfiddle.net/BEmXZ/2/](http://jsfiddle.net/BEmXZ/2/)

重要组成部分：

改变

```
.sf-menu li.current {
    color: #00A1DB;
} 
```

到

```
.sf-menu li.current a {
    color: #00A1DB ! important;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T07:22:32.187

您可以通过在单击“当前”按钮时为其分配一个类来轻松实现此目的。

您可以像这样通过 CSS 设置类的样式：

```
.current {
     background-color: #eee;
} 
```

# symfony - 在 symfony2 表单中设置 onfocus 和 onblur 值

> ID：12294798
> 
> 赞同：0
> 
> 时间：2012-09-06T07:16:07.087
> 
> 标签：symfony

我在 symfony2 中创建了一个带有输入字段和按钮的表单。

我想设置`onfocus="if (this.value=='email') this.value = ''" onblur="if (this.value=='') this.value = 'email'"`

在输入框中，所以它会显示“电子邮件”，当用户点击它会消失。我知道如何在 html 中（在标签属性内）执行此操作，但在 twig 中我所拥有的只是`{{ form_widget(form.email) }}`

```
<form action="{{ path('newsletter_create') }}" method="post" {{ form_enctype(form) }} novalidate="novalidate">
                <div class="">{{ form_widget(form.email) }}</div>
                {{ form_row(form._token) }} 
            <button type="submit" class="emailSubmit btn" >Submit >></button>
        </form> 
```

任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:22:45.993

只需将这些字段添加为`attr`值。在你的树枝中：

```
{{ form_widget(form.email, {'attr': {'onfocus': 'if (this.value==\'email\') this.value = \'\'', 'onblur': 'if (this.value==\'\') this.value = \'email\''} }) }} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T11:33:07.337

```
` {{ form_widget(form.email, {'attr': {'onfocus': 'if (this.value==\'email\') this.value = \'\'', 'onblur': 'if (this.value==\'\') this.value = \'email\''}, 'value': 'email' }) }} ` 
```

# objective-c - Xcode 符号文件位置

> ID：12294801
> 
> 赞同：6
> 
> 时间：2012-09-06T07:16:16.670
> 
> 标签：objective-c, ios, xcode, symbols

Xcode 是输出一个符号文件还是可以生成一个？我们正在以我们自己的格式从设备捕获我们自己的崩溃报告，并希望对它们进行符号化，这样我们就可以比等待 Apple 提供崩溃报告更快地周转。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-06T07:50:42.287

确保您的应用程序是在启用调试标志的情况下构建的。

该文件应位于您的库文件夹中：

`~/Library/Developer/Xcode/DerivedData/<weird-app-identifier>/Build/Products/Debug-iphoneos`

在此文件夹内，将有一个 .dSYM 捆绑文件夹，其中包含内部更远的符号文件`Contents/Resources/`。

`dsymutil`您还可以通过在二进制/库上运行来生成 .dSYM 包文件。

# android - 如何使用相同的 api 密钥制作多个第三方 GCM 服务器

> ID：12294803
> 
> 赞同：4
> 
> 时间：2012-09-06T07:16:36.330
> 
> 标签：android, android-notifications

我需要一种方法来使用单个 Google API 密钥制作任意数量的第三方 GCM（Google Cloud Messaging）服务器，这样对于不同的客户端集，我只需要使用相同的 API 密钥制作新的服务器 URL。

这样我就可以在 Android 中获取特定于客户端的推送通知，而无需创建新的 Google 帐户。

首先，这可能吗？

提前感谢

# eclipse - 如何从命令行启动 SWT 插件测试

> ID：12294804
> 
> 赞同：0
> 
> 时间：2012-09-06T07:16:42.857
> 
> 标签：eclipse, testing, swt

我想从命令行开始一个 SWT 插件测试。我从正在运行的线程中复制了属性，并使用这些参数启动了eclipse，但过了一段时间我得到了：

```
Could not connect to:  : 64268          
     java.net.ConnectException: Connection refused
 at java.net.PlainSocketImpl.socketConnect(Native Method)
 at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
 at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
 at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
 at java.net.Socket.connect(Socket.java:529)
 at java.net.Socket.connect(Socket.java:478)
 at java.net.Socket.<init>(Socket.java:375)
 at java.net.Socket.<init>(Socket.java:189) 
```

此端口被指定为命令行参数。似乎某些 Junit 远程运行程序需要此端口。有没有办法禁用它？我真的很想将一些自动化的 SWT 插件测试集成到我的 Jenkins 构建中。

问候罗杰

# c# - Web 服务仅返回 XML

> ID：12294807
> 
> 赞同：0
> 
> 时间：2012-09-06T07:16:54.340
> 
> 标签：c#, linq-to-xml, axis

我正在使用服务参考使用 Web 服务。

我使用 ToString() 转换了结果返回。

```
using (ConnectClient client = new ConnectClient("ESConnect"))
                {
                    result = client.actiService("ssss", "sss", "sss").ToString(); 
```

我使用 xml.linq 来读取 xml。

```
using (XmlReader reader = XmlReader.Create(new StringReader(result))) 
```

我收到以下错误：

```
The content type text/plain of the response message does not match the content type of the binding (text/xml; charset=utf-8). If using a custom encoder, be sure that the IsContentTypeSupported method is implemented properly. 
```

编辑：

Web 服务是使用 Apache Axis SOAP 创建的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:36:10.097

如果您只是解析 XML 字符串，您可以尝试[XDocument.Load](http://msdn.microsoft.com/en-us/library/system.xml.linq.xdocument.load.aspx)

# symfony - 如何将 Symfony2 Forms 错误定位在适当的位置？

> ID：12294809
> 
> 赞同：2
> 
> 时间：2012-09-06T07:17:00.173
> 
> 标签：symfony, symfony-forms

我在我的项目中使用 Symfony 表单，代码如下：

**表格**：

```
public function buildForm(FormBuilder $builder, array $options)
{
    $builder->add('name', 'text', array('required' => true, 'error_bubbling' => true));
    $builder->add('email', 'email', array('required' => true, 'error_bubbling' => true));
    $builder->add('message', 'textarea', array('required' => true, 'error_bubbling' => true));
}

public function getDefaultOptions(array $options)
{
    $constraintCollection = new Collection(array(
        'name' => new NotBlank(array("message" => "Please fill out Name field")),
        'email' => array(new Email(array("message" => "Invalid Email", "checkMX" => true)),
                         new NotBlank(array("message" => "Please fill out Email field"))),
        'message' => new NotBlank(array("message" => "Please fill out Message field"))
    ));

    return array(
        "validation_constraint" => $constraintCollection,
    );
} 
```

**模板**（树枝） -

```
<form action="{{ path('somePath') }}" method="post">
        <p>Contact Us :</p>
          {{ form_errors(form.name) }}
        <p> {{ form_label(form.name, "Your Name") }}
            {{ form_widget(form.name) }}
        </p>
          {{ form_errors(form.email) }}
        <p> {{ form_label(form.email, "Your Email") }}
            {{ form_widget(form.email) }}
        </p>
          {{ form_errors(form.message) }}
        <p> {{ form_label(form.message, "Your Message") }}
            {{ form_widget(form.message) }}
        </p>
        {{ form_rest(form) }}
    <div class="submit-button">
      <button class="button">Submit</button>
    </div>
</form> 
```

当我尝试提交空表单时，它没有显示任何错误消息，所以我也添加了

`{{ form_errors(form) }}`之后`<form>`，正如我在[这里](http://symfony.com/doc/current/book/forms.html#rendering-each-field-by-hand)看到的那样。
但现在它显示我在 Top 位置形成错误，而不是它们各自的字段。
我在这里做错了吗？谢谢你的时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T08:14:56.947

删除表单定义中的 'error_bubbling' => true 选项。此选项使字段上的任何错误都“传递”到表单，这就是您在 form_errors(form) 而不是 form_errors(field) 中看到错误的原因

# javascript - REST 或 REST-persistable 在 javascript 中是什么意思

> ID：12294813
> 
> 赞同：1
> 
> 时间：2012-09-06T07:17:08.770
> 
> 标签：javascript, rest

我一直在研究最近要使用哪些 javascript 框架，并且已经看到`REST`并被`REST-persistable`标记了很多，但不知道它们指的是什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:20:04.200

`REST`或*Representational State Transfer*实际上是一个**服务器端**术语，指的是 Web 服务的某种架构风格。它是由 Roy Fielding 在他的[博士论文](http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm)中创造的。

**中的中心概念**是**资源**（数据源）`REST`的存在，每个资源都用一个全局标识符（例如，HTTP 中的 URI）引用。为了操纵这些资源，网络的组件（用户代理和原始服务器）通过标准化接口（例如 HTTP）进行通信，并交换这些资源的表示（传递信息的实际文档）。

 **对于**Javascript**框架，它主要意味着`HTTP`仅根据其**预期目的**使用每个动词。也就是说，用 删除东西，用`HTTP DELETE`添加东西，用`HTTP PUT`读取东西`HTTP GET`等等。此外，`REST`这意味着符合将[数据实体](http://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model)直接映射到人类可读 URL 的命名标准。

**REST 的主要特点** ^([[来源]](http://en.wikipedia.org/wiki/Representational_state_transfer#Constraints))

**客户端-服务器**- 统一的接口将客户端与服务器分开。这种关注点分离意味着，例如，客户端不关心数据存储，数据存储保留在每个服务器内部，从而提高了客户端代码的可移植性。服务器不关心用户界面或用户状态，因此服务器可以更简单且更具可扩展性。服务器和客户端也可以更换和独立开发，只要不改变它们之间的接口即可。

**无状态**- 客户端-服务器通信进一步受到请求之间没有客户端上下文存储在服务器上的限制。来自任何客户端的每个请求都包含服务请求所需的所有信息，并且任何会话状态都保存在客户端中。

**可缓存**- 与万维网一样，客户端可以缓存响应。因此，响应必须隐式或显式地将自己定义为可缓存或不可缓存，以防止客户端重复使用陈旧或不适当的数据来响应进一步的请求。管理良好的缓存部分或完全消除了一些客户端-服务器交互，进一步提高了可伸缩性和性能。

**分层系统**- 客户端通常无法判断它是直接连接到终端服务器，还是连接到中间的中间人。中间服务器可以通过启用负载平衡和提供共享缓存来提高系统可伸缩性。他们还可以强制执行安全策略。

**按需代码（可选）** - 服务器能够通过传输可执行代码临时扩展或定制客户端的功能。这方面的示例可能包括已编译的组件（例如 Java 小程序）和客户端脚本（例如 JavaScript）。

**统一接口**——下面讨论的客户端和服务器之间的统一接口简化和解耦架构，使每个部分能够独立发展。

关于这个主题有大量的好信息。例如，[REST 简介](http://www.infoq.com/articles/rest-introduction)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:21:14.180

`REST`是一个现在真的被过度使用的词。REST-persistable 框架是一个可以使用（主要）GET 和 POST (XHR) HTTP 请求和 JSON 格式的数据以某种自动方式与服务器通信的框架（即它可以为您在客户端处理数据）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:18:56.647

它是一个具有一组特定功能的 Web API 范式：

[休息](http://en.wikipedia.org/wiki/Representational_state_transfer)**

# ruby-on-rails - 为什么我的表格内联课程不被尊重？

> ID：12294814
> 
> 赞同：0
> 
> 时间：2012-09-06T07:17:10.990
> 
> 标签：ruby-on-rails, twitter-bootstrap, twitter-bootstrap-rails

我正在使用内置的“form_for”实用程序定义一个表单。我定义了 bootstrap-sass gem（已正确应用）。出于某种原因，我的按钮不会与选择框呈现在同一行。

我的观点（显示渲染代码）：

```
<%= form_for @checkin, html: {class: "form-inline" } do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <%= collection_select(:checkin, :park_id, Park.all, :id, :name) %>
  <%= f.submit "Check in", class: "btn" %>
<% end %> 
```

呈现的 HTML：

```
<form accept-charset="UTF-8" action="/checkins" class="form-inline" id="new_checkin" method="post">
  <div style="margin:0;padding:0;display:inline">
    <input name="utf8" type="hidden" value="&#x2713;" />
    <input name="authenticity_token" type="hidden" value="0AioAbZTS1DDqSUAJTemYX1hmspuISokx1IsWdNzADw=" />
  </div>

  <select id="checkin_park_id" name="checkin[park_id]">
    <option value="1">Moore Park</option>
    <option value="2">Moorish Park</option>
  </select>
  <input class="btn" name="commit" type="submit" value="Check in" />
</form> 
```

实际呈现的形式：

![1](../Images/275c0973ced2d8a5b7ebbf363fa3da5c.png)

这是移除了“form-inline”类后呈现的表单：

![2](../Images/c23ed9a76af2a1754992287eea140efa.png)

请注意按钮呈现位置的细微变化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:20:03.063

渲染可能是由于元素上的 css 样式。

一般来说，如果 html 对象位于同一行，则将它们放在同一行上`display: inline`，而当它们位于同一行时，则显示在不同的行上`display: block`。

尝试设置`style="display: inline"`on the `select`and submit 按钮（以防某些其他 css 文件已将其定义为显示为块）。如果可行，您可以将其移动到 css 文件中。

尝试：

```
<%= collection_select(:checkin, :park_id, Park.all, :id, :name, {}, {style: "display: inline"}) %>

<%= f.submit "Check in", class: "btn", style: "display: inline" %> 
```

内联元素和块元素的显示方式可能不同。如果你需要内联一个元素，但仍然像块一样显示，你可以尝试混合`display: inline-block`样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:43:41.497

问题是`select`Bootstrap 中的固定宽度为`220px`. 这个，添加到您的按钮溢出在您的`.span4`.
要解决它，您必须以`select`任何方式调整您的大小（`.span2`类、`.input-small`类、CSS 样式等）

# android - 片段内的 ListView 给出错误

> ID：12294819
> 
> 赞同：0
> 
> 时间：2012-09-06T07:17:51.377
> 
> 标签：android

我在片段中显示 ListView 时遇到问题。我在我的片段中使用 ListFragment。我无法弄清楚我的实际问题在哪里。

分类Fragment.java

```
public class CategoriesFragment extends ListFragment {  
ListView lv;
TextView tv;    
  public CategoriesFragment() {
  }    

  @Override
  public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {        
    if(container==null)
        return null;
    inflater.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View view = inflater.inflate(R.layout.categories_fragment,container,false);
    View listView = (ListView)view.findViewById(R.id.listview1);
    return view;        
  }    

  @Override
  public void onActivityCreated(Bundle savedInstanceState) {    
    super.onActivityCreated(savedInstanceState);
    final String[] fruits = new String[] { "Apple", "Avocado", "Banana",
        "Blueberry", "Coconut", "Durian", "Guava", "Kiwifruit"};            
    setListAdapter(new ArrayAdapter<String>
        (getActivity(),R.layout.categories_fragment,fruits));       
  }
} 
```

PagerAdaper.java

```
public class SectionsPagerAdapter extends FragmentPagerAdapter {
  public SectionsPagerAdapter(FragmentManager fm) {
    super(fm);
  }

  @Override
  public Fragment getItem(int i) {
    switch(i) {
     case 0:
      Fragment fragment = new CategoriesFragment(); 
      return fragment;
      break;
     case 1:
      Fragment fragment = new FeaturedFragment(); 
      return fragment;
      break
    }
    return null;
  }

  @Override
  public int getCount() {
    return 2;
  }

  @Override
  public CharSequence getPageTitle(int position) {
    switch (position) {
      case 0: return "CATEGORIES";
      case 1: return "FEATURED";
    }
    return null;
  }
} 
```

categories_fragment.xml

```
<?xml version="1.0" encoding="utf-8"?>

<ListView xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/listview1"
  android:layout_width="match_parent"
  android:layout_height="match_parent"/> 
```

DDMS 错误文本：

```
09-06 12:37:47.402: E/AndroidRuntime(2611): FATAL EXCEPTION: main
09-06 12:37:47.402: E/AndroidRuntime(2611): java.lang.RuntimeException: Your content        must have a ListView whose id attribute is 'android.R.id.list'
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.ListFragment.ensureList(ListFragment.java:344)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.ListFragment.onViewCreated(ListFragment.java:145)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:885)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1083)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:635)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1431)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.FragmentManagerImpl.executePendingTransactions(FragmentManager.java:431)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:141)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.view.ViewPager.populate(ViewPager.java:895)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.view.ViewPager.populate(ViewPager.java:772)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1234)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.view.View.measure(View.java:12723)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1369)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1017)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:555)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.view.View.measure(View.java:12723)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.view.View.measure(View.java:12723)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.widget.LinearLayout.measureVertical(LinearLayout.java:812)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:553)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.view.View.measure(View.java:12723)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
09-06 12:37:47.402: E/AndroidRuntime(2611):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:293) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:21:18.877

改变这个

```
<ListView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/listview1"
android:layout_width="match_parent"
android:layout_height="match_parent"/> 
```

到，

```
<ListView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@android:id/list"
android:layout_width="match_parent"
android:layout_height="match_parent"/> 
```

问题出在身份证上。当您扩展**ListFragment**时，您的 ListView 必须具有类似这样的 id，`@android:id/list`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-06T07:24:08.943

而不是`android:id="@+id/listview1"`使用`android:id="android:id/list"`

因为，`ListFragment has a default layout that consists of a single list view. However, if you desire, you can customize the fragment layout by returning your own view hierarchy from onCreateView(LayoutInflater, ViewGroup, Bundle). To do this, your view hierarchy must contain a ListView object with the id "@android:id/list" (or list if it's in code)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T07:27:09.327

您已经进行了子类化`ListFragment`，并且这已经托管了一个`ListView`对象。您的视图层次结构必须包含一个带有 id 的 ListView 对象，`@android:id/list`而不是`@+id/listview1`

# networking - 以编程方式启用 Internet 连接共享

> ID：12294820
> 
> 赞同：3
> 
> 时间：2012-09-06T07:17:56.040
> 
> 标签：networking, windows-7, routing, nat

我可以通过右键单击网络连接，打开“共享”选项卡，单击“允许其他网络用户通过此计算机的 Internet 连接进行连接”复选框，然后选择“家庭网络连接”来手动完成。

在解决这个问题时，我发现了多组 COM 接口：

1)使用 INetSharingManager 的[Internet 连接共享和 Internet 连接防火墙接口](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366128%28v=vs.85%29.aspx)

它的文档说：

> Internet 连接防火墙可能会在后续版本中更改或不可用。而是使用 Windows 防火墙 API。

此外，[INetSharingConfiguration.EnableSharing](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365944%28v=vs.85%29.aspx)方法看起来不像与上述过程相对应，因为它的参数不包括“家庭网络连接”。

2)[带有 SP2 接口的 Windows XP 的 Windows 防火墙](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366449%28v=vs.85%29.aspx)

它的文档进一步引用了我们：

> 对于 Windows Vista 及更高版本，建议使用具有高级安全 API 的 Windows 防火墙。

3)[具有高级安全 API 的 Windows 防火墙](http://msdn.microsoft.com/en-us/library/windows/desktop/ff956124%28v=vs.85%29.aspx)

只有以下接口：`INetFwPolicy2, INetFwProduct, INetFwProducts, INetFwRule, INetFwRule2, INetFwRule3, INetFwRules, INetFwServiceRestriction`. 看起来不是很有希望。

现在我迷路了。我应该在 Windows 7 上使用哪个 API？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:42:12.417

乌塔平戈

你最终的选择是哪一个？

[http://social.msdn.microsoft.com/Forums/en-tw/windowssdk/thread/19f7581d-29c7-4109-85d4-6a79ee4d1577](http://social.msdn.microsoft.com/Forums/en-tw/windowssdk/thread/19f7581d-29c7-4109-85d4-6a79ee4d1577)

“我找到了解决方案。您必须在要连接的适配器上启用公共接口，并在您希望能够用于网络的适配器的专用接口上启用共享。”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-01-18T11:36:18.157

如果调用是由 64 位操作系统上的 32 位程序进行的，则仅在 Win 10 周年更新上发生访问冲突。它适用于 32 位操作系统上的 32 位程序或 64 位操作系统上的 64 位程序

# iphone - 游戏中心排行榜的默认排序顺序是什么。

> ID：12294827
> 
> 赞同：1
> 
> 时间：2012-09-06T07:18:30.057
> 
> 标签：iphone, leaderboard

我正在为我的 ios 游戏创建排行榜。在itunesconnect中，我可以看到两个选项

`Sort Order: 1.Low to High 2.High to Low`.

它令人困惑。我想要一个正常的排行榜，他的核心在顶部。现在我选择了从低到高，我的恐怖沙盒只返回较低的分数。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T08:13:01.923

我知道，这让我看起来像个笨蛋。

苹果明确表示。通过选择`(?)`

```
如果您希望首先显示最高分数，请选择“从高到低”。
如果您希望首先显示最低分数，请选择“从低到高”。

```

我被愚弄了，因为itunesconnect首先显示“从低到高”选项。我在想，沙盒帐户存在一些问题，无法更新分数。事实上，它总是返回最低分。我总是提交高分想知道为什么它不更新。（很多人建议gc在沙盒帐户上无法正常工作，我相信了）

因此，选择`High to Low`（尽管是第二个选项）作为普通选项来查看这样的排行榜。

```
你好分数
========
20000（最高分）
10000
1000
1000

```

选择`Low to high`一个反向列表。

```
失败的尝试
================
2（最高分）
13
40
100

```

小心，因为一旦您的应用上线，您就无法更改此设置。（我现在意识到我的错误 - 提交我的应用后 5 天-OMG，我提交了应用指责沙盒帐户）

# java - 更改选定微调器项目的文本大小

> ID：12294831
> 
> 赞同：4
> 
> 时间：2012-09-06T07:18:47.043
> 
> 标签：java, android, android-layout, android-spinner

我正在访问 xml 中的微调器。并且还使用自定义适配器和另一个包含 textview 的 xml。现在问题是无法更改所选微调器文本的大小。我能够更改微调器内的列表项通过更改我在样式表中定义的 textsize 属性。该页面涉及 2 个文件，并且正在发布我在我的应用程序中拥有的所有内容。

样式表：32sp

Simple_spinner_Item（用于适配器）：

```
 <TextView    
        android:id="@+id/spinnerText"      
        android:layout_marginTop="5dp"
        android:layout_marginBottom="5dp"
         android:padding="3dp"
         android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:textColor="#ffffff"         
        android:gravity="center_horizontal"/> 
```

我的页面 XML：

```
 <Spinner
    android:id="@+id/spin1"
    android:layout_width="500dp"
    android:layout_height="wrap_content"
    android:layout_x="68dp"
    android:layout_y="328dp"/> 
```

我的Java代码：

```
 public void page2_load()
     {

        Spinner spn1 = (Spinner) findViewById(R.id.spin1);   

         String[] items1 = {"SELECT","01 - I do / myself","02 - Partner / friend        /        parents / other family member","03 - You pay, but claim back all business calls","04 - Business pays for calls","05 - Business pays business calls, you pay personal call","06 - Other","99 - Dont know"};
        ArrayAdapter<String> adapter1 = new  ArrayAdapter<String>this,android.R.layout.preference_category,items1);                         adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spn1.setAdapter(adapter1);
       } 
```

我的问题有什么想法或解决方案吗？

苏雷什

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-25T06:33:55.760

在微调器事件中添加它很简单

```
 spinner.setOnItemSelectedListener(new OnItemSelectedListener() {

        @SuppressLint("ResourceAsColor") @Override
        public void onItemSelected(AdapterView<?> parent, View arg1,
                int arg2, long arg3) {

            ((TextView) rent.getChildAt(0)).setTextColor(getResources().getColor(R.color.white));
            ((TextView) parent.getChildAt(0)).setTextSize(5);

enter code here
        }

        @Override
        public void onNothingSelected(AdapterView<?> parent) {

        }
    });

}

public void onNothingSelected(AdapterView<?> parent) {

} 
```

};

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-25T08:43:03.790

当您创建`ArrayAdapter`覆盖它的`getView(...)`方法时，例如

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>this,ndroid.R.layout.preference_category, items) {
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View view = convertView;
        TextView textView = (TextView)view.findViewById(android.R.id.title);
        // Do your stuff with that TextView.

        return view.
    }
}; 
```

我不太确定是否`getView(...)`编写正确，您可能需要对其进行一些调试。希望这可以帮助！

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2014-02-05T11:30:48.837

使用以下属性`android:textSize="20dp"`。

在`Spinner` **或** `Textview widget`中。

或者

你可以从`res-> drawable`

# android - 在android中拖动时限制布局中的imageview

> ID：12294834
> 
> 赞同：1
> 
> 时间：2012-09-06T07:18:51.890
> 
> 标签：android, android-layout, imageview, android-4.2-jelly-bean

我正在实现拖放`android 4.1`。但我想限制布局中的拖动视图。是否有任何方法`android 4.1`可以实现这一点，或者我们必须为此使用运动事件？

请帮助解决这个问题。

# html - 使用 CSS 删除多个额外的中断标签

> ID：12294836
> 
> 赞同：9
> 
> 时间：2012-09-06T07:18:57.410
> 
> 标签：html, css, layout

我有这个带有多个`<br>`标签的 HTML。

```
<br>
<br>
<br>
<br>
<br>
TITLE
<br>
<br>
foo bar
<br>
foo bar
... 
```

我想最多只保留单次和双次中断（新行和新段落），我想忽略所有额外的`<br>`. 所以最多有2个`<br>`一个接一个。所以，

```
<br><br><br><br><br>TITLE<br><br>foo bar<br>foo bar<br><br><br>foo bar 
```

会成为

```
<br><br>TITLE<br><br>foo bar<br>foo bar<br><br>foo bar 
```

我怎样才能用 CSS 做到这一点？

我想选择所有`<br>`至少有 2 个前`<br>`兄弟姐妹的元素

编辑：对于更多的上下文，HTML 在外部网站上，我尝试使用 firefox/stylish 改进阅读，所以只使用 CSS

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-06T07:32:06.397

通过使用`:nth-child`选择器，您可以轻松实现它。

**CSS：**

```
br:nth-child(3n + 3) { display: none; }​ 
```

[**看演示**](http://jsfiddle.net/akhurshid/4yDkS/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-06T07:32:03.660

虽然在大多数浏览器中`<br>`标签[不能以任何其他方式设置样式](https://stackoverflow.com/questions/899252/can-you-target-br-with-css)，但您可以隐藏它们：

```
br+br+br {display: none}​ /* (Also works in IEs 7+8) */ 
```

[http://jsfiddle.net/nottrobin/Wxf3D/1/](http://jsfiddle.net/nottrobin/Wxf3D/1/)（感谢@AK）

这样做的问题是，使用标记`<br><br><br>hello<br>`它也将匹配最终的`<br>`，因为它不将文本节点视为兄弟节点。您可以通过将标记更新为：

```
<br><br><br><br><br>
<p>TITLE</p>
<br><br>
<p>foo bar</p>
<br>
<p>foo bar</p> 
```

当然，如果您愿意，您也可以使用 jQuery 删除这些元素：

```
<script>
    jQuery("br+br+br").remove();
</script> 
```

（恐怕我对尝试制定仅 JavaScript 的解决方案失去了耐心）

# select - 带有 Knockout.js 的 Select() 输入字段

> ID：12294847
> 
> 赞同：10
> 
> 时间：2012-09-06T07:19:19.300
> 
> 标签：select, input, knockout.js, focus, viewmodel

我是 Knockout.js 的新手。

当它变得可见时，*最好*的方法`select()`是什么？`<input />`

看法：

```
<p>
    Name: 
    <b data-bind="visible: !editing(), text: name, click: edit">&nbsp;</b>
    <input data-bind="visible: editing, value: name, hasfocus: editing" />
</p> 
```

视图模型：

```
function PersonViewModel(name) {
    // Data
    this.name = ko.observable(name);
    this.editing = ko.observable(false);

    // Behaviors
    this.edit = function() { this.editing(true) }
}

ko.applyBindings(new PersonViewModel("Bert Bertington")); 
```

[http://knockoutjs.com/documentation/hasfocus-binding.html](http://knockoutjs.com/documentation/hasfocus-binding.html)

[http://jsfiddle.net/RnCUd/](http://jsfiddle.net/RnCUd/)

谢谢！

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-06T10:05:03.063

您可以创建一个新的绑定来处理选择。

```
ko.bindingHandlers.selected = {
    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        var selected = ko.utils.unwrapObservable(valueAccessor());
        if (selected) element.select();
    }
}; 
```

将此绑定添加到您的输入字段。

```
<input data-bind="visible: editing, value: name, hasfocus: editing, selected: editing" /> 
```

这是一个小提琴：http: [//jsfiddle.net/RnCUd/2/](http://jsfiddle.net/RnCUd/2/)

* * *

或者，您可以创建一个包装绑定的自定义`hasfocus`绑定：

```
ko.bindingHandlers.hasSelectedFocus = {
    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        ko.bindingHandlers['hasfocus'].init(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);
    },        
    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        ko.bindingHandlers['hasfocus'].update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);        

        var selected = ko.utils.unwrapObservable(valueAccessor());
        if (selected) element.select();
    }
}; 
```

如果 observable 为真，此绑定只是将初始化和更新委托给`hasfocus`并负责选择元素。使用它代替`hasfocus`.

```
<input data-bind="visible: editing, value: name, hasSelectedFocus: editing" /> 
```

这是一个小提琴：http: [//jsfiddle.net/RnCUd/1/](http://jsfiddle.net/RnCUd/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-04T13:36:41.367

我尝试将上面的 John Earles 自定义绑定（谢谢 John！）与一个也使用 valueUpdate: 'afterkeydown' 绑定的文本字段一起使用，并发现它并没有按预期工作。（我猜这是因为当需要触发其中一个绑定时，所有绑定都会再次触发，而 valueUpdate 很可能会导致在写入每个字符后触发值绑定）。

经过几次尝试后，我对这个问题进行了半修复，这对我来说似乎工作正常。基本思想是，在我们触发 hasfocus 绑定之前，我们检查相关元素是否已经具有焦点，并且我们仅在触发 hasfocus 绑定之前元素实际上没有焦点时才实际选择文本。

我已经使用 jquery 来检查焦点，但您也可以通过其他方式进行检查。

```
ko.bindingHandlers.hasSelectedFocus = {
    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        ko.bindingHandlers['hasfocus'].init(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);
    },
    update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        var focusBefore = $(element).is(':focus');
        ko.bindingHandlers['hasfocus'].update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);

        var selected = ko.utils.unwrapObservable(valueAccessor());
        if (selected && !focusBefore) {
            element.select();   
        }
    }
}; 
```

编辑：我注意到这种绑定在 iOS 设备上使用时可能无法完全按照您的意愿工作。这样的绑定没有任何问题，但是自动对焦和选择逻辑会导致设备键盘在绑定执行后立即出现，这可能是也可能不是您希望在此类设备上发生的事情。相比之下，在我用来测试的 android 设备上，我不会在此绑定执行后立即自动获取键盘。为了我的缘故，我最终通过以下方式创建了另一个绑定，在 iOS 设备上什么都不做。

```
ko.bindingHandlers.hasNonIosSelectedFocus = {
    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        if (navigator.userAgent.match(/iPad/i) == null && navigator.platform.indexOf("iPhone") == -1 && navigator.platform.indexOf("iPod") == -1) {
            ko.bindingHandlers['hasSelectedFocus'].init(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);
        }
    },
    update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        if (navigator.userAgent.match(/iPad/i) == null && navigator.platform.indexOf("iPhone") == -1 && navigator.platform.indexOf("iPod") == -1) {
            ko.bindingHandlers['hasSelectedFocus'].update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);
        }
    }
}; 
```

Tl;博士：

如果您使用它并且想要满足平板电脑/智能手机的需求，那么请务必测试这是您实际期望的交互逻辑。

# iphone - xib 和没有 xib 的区别

> ID：12294851
> 
> 赞同：1
> 
> 时间：2012-09-06T07:19:38.100
> 
> 标签：iphone, xcode, xib

我一直在开发 iPhone 应用程序。但是我有一个关于它的查询，我主要是让我的应用程序没有 .xib，我是在运行时创建一个视图，但我想知道我在各种使用 xib 制作视图的网站上看到了很多例子。谁能建议我使用xib或不使用xib哪个最好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:33:36.453

请参阅使用 XIB 文件对没有太多编码经验的初学者有好处，但对于那些拥有它的开发人员来说，使用编码本身会更好，因为 XIB 文件只会增加程序的负载，而程序的运行速度往往比一个没有 xib 文件的.... 另外，xib 文件主要是为了让您看到的设计过程更顺畅。快速开发是通过 xib 文件完成的..

# php - $_GET 不起作用

> ID：12294854
> 
> 赞同：-1
> 
> 时间：2012-09-06T07:19:55.337
> 
> 标签：php

嘿伙计们，我这里有个小问题...

为什么我的 $_GET 不起作用...

$_GET[id] 或 $_GET['id'] 它们都不起作用...

这是我的代码...

```
if(isset($_GET['aksi']) && $_GET['aksi'] == 'forminput'){
    $ambilKategoriBarang = mysql_query("select * from kategori_barang");
    echo "<div id='result'>&nbsp;</div>"; // untuk nanti data calllbach hasil request akan di tampilkan disini
    echo "<form id='frm_input'>";
    echo "<table cellpading='1' cellspacing='1' width='100%' border='0'>";
    //pemberian atribut id sangat penting.. karena nilai yang di ambil dari fild tersebut nanti berdasarkan id tersebut
    echo "<tr><td width='30%'>Kode Barang</td><td><input type='text' name='nim' id='nim'></td></tr>";
    echo "<tr><td width='30%'>No PO</td><td><input type='text' name='nopo' id='nopo' value='$_GET[idttb]'></td></tr>";
    echo "<tr><td>Jumlah Diterima</td><td><input type='text' name='nama' id='nama'></td></tr>";
    echo "<tr><td>Kategori Item</td><td><select name='tmplahir' id='tmplahir'>
                            <option value='0'>- Kategori Barang-</option>";
                            while($kategori = mysql_fetch_array($ambilKategoriBarang)){
                                echo "<option value='$kategori[namaKategoriBarang]'>$kategori[namaKategoriBarang]</option>";
                            }
            echo "</select></td></tr>";
    echo "<tr><td>Status</td><td><select name='status' id='status'>
    <option value='Incindentil'>Incindentil</option>
    <option value='Stock'>Stock</option>
    </select></td></tr>";
    echo "<tr><td>&nbsp;</td><td><input type='submit' value='kirim'></td></tr>";
    echo "</table>";
    echo "</form>";
    exit();
} 
```

如你所见..

$_GET['aksi'] <--- 有效

但为什么

$_GET['idttb'] <--- 不起作用

网址是

127.0.0.1/jualbeli/sistem/modul/mod_input.php?idpo=1&idttb=1

任何人都可以帮助我吗？

谢谢之前

============== 好的，让我解释一下 ==============================

这里我有 4 个 php 文件.. 1\. proses.php 2\. mahasiswa.php 3\. mod_input.php 4\. mod_listpo.php

这是源代码

注意：没有“mod_listpo”文件，因为我只使用这个文件来调用 mod_input.php

```
function win1() {
    window.open('./modul/mod_input.php?idpo='+ document.getElementById('idpo').value +'&&idttb='+ document.getElementById('idttb').value,'Window1','menubar=no,width=540,height=360,toolbar=no');
} 
```

这是链接代码

```
h t t p s://github.com/dammionx/code1 
```

流程是这样的……

我使用 mod_listpo.php 使用该代码调用 mod_input.php ...

我真正想要的是，mod_list.php 可以使用 $_GET 来获取“idpo”和“idttb”值..

任何人都可以帮助我？？

谢谢之前

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:52:33.103

改变

```
echo "<tr><td width='30%'>No PO</td><td><input type='text' name='nopo' id='nopo' value='$_GET[idttb]'></td></tr>"; 
```

至

```
echo "<tr><td width='30%'>No PO</td><td><input type='text' name='nopo' id='nopo' value='".$_GET['idttb']."'></td></tr>"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:25:22.933

试试这段代码，看看 $_GET 包含什么。它不一定能解决问题，但可能有助于解决问题。

```
<?php
echo "<pre>";
print_r($_GET);
echo "</pre>";
exit();
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-06T08:34:04.653

我同意 BvdVen。

我想提供更多细节。注意单引号和双引号。

[链接](http://www.example.net/page.php?mygetvar=123)。

```
<?php $myvar = $_GET['mygetvar'] ?>
<?php echo 'this number is $_GET[mygetvar]' ?>
<?php echo "this number is " . $_GET['mygetvar'] ?>
<?php echo "this number is  $myvar" ?>
<?php echo 'this number is $myvar' ?>
<?php echo 'this number is ' . $myvar ?> 
```

结果：

> 这个数字是 $_GET[mygetvar]
> 这个数字是 123
> 这个数字是 123
> 这个数字是 $myvar
> 这个数字是 123

[http://phphowto.blogspot.fr/2006/12/concatenate-strings.html](http://phphowto.blogspot.fr/2006/12/concatenate-strings.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-06T07:24:40.503

$_GET[idttb] 在 echo 语句的字符串中。您不能像使用普通变量一样在字符串中使用数组。您需要在之前结束字符串，使用 . 运算符连接变量的值，然后再次使用相同的值连接字符串的其余部分。

我希望这有帮助。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-06T07:22:16.897

尝试

```
echo "<tr><td width='30%'>No PO</td><td><input type='text' name='nopo' id='nopo' value='". $_GET['idttb'] ."'></td></tr>"; 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-09-06T07:22:41.153

`127.0.0.1/jualbeli/sistem/modul/mod_input.php?idpo=1&&idttb=1`

它应该是类似的东西，`&&`而不是`&`.

# xcode - FacebookSDK-3.0.pkg 关于 FBPlacePickerViewController

> ID：12294855
> 
> 赞同：0
> 
> 时间：2012-09-06T07:20:00.537
> 
> 标签：xcode, facebook, location

我尝试使用 FacebookSDK-3.0.pkg FBPlacePickerViewController 但是当我点击按钮而不是崩溃时，请给我一些建议，非常感谢..

```
- (IBAction)pickPlaceClick:(UIButton *)sender {

    FBPlacePickerViewController *placePickerController = [[FBPlacePickerViewController alloc] init];
    placePickerController.title = @"Pick a Seattle Place";
    placePickerController.locationCoordinate = CLLocationCoordinate2DMake(25.047723, 121.450088);
    [placePickerController loadData];

    [placePickerController presentModallyFromViewController:self animated:YES handler:
     ^(FBViewController *sender, BOOL donePressed) {
         if (!donePressed) {
             return;
         }

         [[[UIAlertView alloc] initWithTitle:@"You Picked:"
                                     message:placePickerController.selection.name
                                    delegate:nil
                           cancelButtonTitle:@"OK"
                           otherButtonTitles:nil]
          show];
     }];
} 
```

崩溃日志：

```
2012-09-06 15:09:18.489 FacebookUserPost[35205:707] -[__NSCFDictionary length]: unrecognized selector sent to instance 0x1abc00
2012-09-06 15:09:18.498 FacebookUserPost[35205:707] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFDictionary length]: unrecognized selector sent to instance 0x1abc00'
*** First throw call stack:
(0x311b788f 0x374f5259 0x311baa9b 0x311b9915 0x31114650 0x31100f19 0x3111d2cd 0x3111c1ad 0x3111d279 0x31a3efb1 0x31a3ee8b 0x642ad 0x6475f 0x308a2efb 0x308a1fd9 0x308a1763 0x30845f37 0x311161fb 0x378edaa5 0x378ed6bd 0x378f1843 0x378f157f 0x378e94b9 0x3118bb1b 0x31189d57 0x3118a0b1 0x3110d4a5 0x3110d36d 0x33187439 0x30870cd5 0x4af5d 0x4aef8)
terminate called throwing an exception(lldb) 
```

而不是我标记这个：

```
//placePickerController.locationCoordinate = CLLocationCoordinate2DMake(25.047723, 121.450088); 
```

没有崩溃，但告诉我错误：

```
Error: HTTP status code: 500 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T02:45:00.730

我尝试下载 FacebookSDK-3.0.8.pkg 比它可以运行

# c#-4.0 - 通过按钮点击事件将生成的水晶报表动态转换为pdf格式

> ID：12294859
> 
> 赞同：1
> 
> 时间：2012-09-06T07:20:07.557
> 
> 标签：c#-4.0, crystal-reports-2008, windows-applications

我目前正在使用 C# windows 应用程序。现在想通过单击按钮将生成的水晶报告转换为用户指定位置的 *.pdf 格式。

我们已经有导出按钮将报告转换为多个选项。但现在我想通过单击按钮将报告转换为 *.pdf 格式

请任何人帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T15:53:13.450

您可以使用以下方法来执行此操作

```
Report.ExportToDisk(ExportFormatType.PortableDocFormat, "<path>/<name for pdf file>"); 
```

请参考以下链接

[C# Crystal Reports 导出为 Pdf](http://csharp.net-informations.com/crystal-reports/csharp-crystal-reports-export-pdf.htm)

[使用 Crystal Report 导出为 pdf 的 C# 代码](http://social.msdn.microsoft.com/Forums/en-US/vscrystalreports/thread/2e6ba358-d88c-4e4f-8b93-f3ae92baeec1/)

# php - PHP DNS 查找脚本未按预期执行 shell 命令并写入 DNS 循环结果

> ID：12294869
> 
> 赞同：-1
> 
> 时间：2012-09-06T07:20:47.333
> 
> 标签：php, shell, dns

我想我已经接近这个剧本了。我现在只能将一行域名内容写入输出文件。理想情况下，我希望为所有返回的数组写出我的所有数组字段：

```
function getDNS(){      
    if(file_exists($outputFile)){                                                 unlink($outputFile);                              
    }
    $outputFile = 'DNS-Output.csv';     
    $inputFile = fopen('DNS-input.csv','r');
    $output = NULL;
    //make sure we loop through to end of file contents
    $newOutput = 'Domain, IP Address, Exiration Date, Record Type, TTL, Cloud' . PHP_EOL;
    $output .= $newOutput;
    while (!feof($inputFile)) {
        $line = fgets($inputFile, 4096); 
        $array = explode(",",$line);
        $result = dns_get_record($array[0], DNS_A + DNS_SOA); // get DNS info
        if ( ! is_array( $result )){
        $results = explode(",",$result);
        }
        print_r($result);
        $whois = shell_exec("whois " . $result[0]['ip'] . " | grep" . " NetName"); 
        $whois = preg_split("/[\s,]+/", $whois);
        if ( ! is_array( $whois )){
        $result = explode(",",$whois);
        }
        //if array
         if ( is_array($whois)){
         $whois[0]['host'].", " . PHP_EOL;              // Domain Name
         //print_r($whois); 
        }

        foreach ($whois as $record) {
           $output .=  $record;
          /* $output .=     
           $record['host'].", " .               // Domain Name
           $record['ip'].", ".                   // IP Address
           $record['type'].", ".                 // Type of Record               
           $record['minimum-ttl'].", ".PHP_EOL;       // Minimum TTL
           */
        }
    file_put_contents($outputFile, $output);                // Create CSV File
    }
    //file_put_contents($outputFile, $output);              // Create CSV File
    fclose($inputFile);
    } 
```

获取DNS（）；

这是输入 csv 文件中的一个示例行，我正在查找...。

```
somedomain.COM,.com,9/14/06 19:03,9/14/12 19:03,Active,Public,Locked,"ns31.domaincontrol.com(), ns32.domaincontrol.com()",, 
```

寻找现在将数组元素写入 csv 输出文件中相应列的最佳方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:49:05.573

获取 whois 时出错：

```
$whois = shell_exec("whois " . $array[0]['ip'] . " | grep" . " NetName"); 
```

应该：

```
$whois = shell_exec("whois " . $result[0]['ip'] . " | grep" . " NetName"); 
```

修复后，我得到正确的结果。

这段代码对我来说似乎是错误的：

```
if ( ! is_array( $result ))
  $results = explode(",",$result); 
```

应该

```
if ( ! is_array( $result ))
  $result = explode(",",$result); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:55:22.390

您在编写输出时使用了不正确的第一维。dns_get_record() 检索按该初始维度分组的多个 DNS 记录，您将其视为一列。

所以而不是这个：

```
 $whois[0]['host'].", " . PHP_EOL;               // Domain Name
    $whois[2]['ip'].", ".                   // IP Address
    $whois[5]['type'].", ".                 // Type of Record               
    $result[1]['minimum-ttl'].", ".         // Minimum TTL
    $whois[1] . PHP_EOL;                    // Cloud 
```

你想要这样的东西：

```
foreach ($whois as $record) {
    $record['host'].", " . PHP_EOL;               // Domain Name
    $record['ip'].", ".                   // IP Address
    $record['type'].", ".                 // Type of Record               
    $record['minimum-ttl'].", ".PHP_EOL         // Minimum TTL
} 
```

# php - 当其他人同名时如何选择特定的班级？

> ID：12294881
> 
> 赞同：0
> 
> 时间：2012-09-06T07:21:36.603
> 
> 标签：php, javascript, jquery, while-loop, show-hide

好的，假设我有一张如下所示的表格：

```
<table class="first-table" border="1" width="400px">
   <tr>
       <td><?php echo $row_cond['title']; ?></td>
       <td><a class="more" href="#" onClick="slideup()">Display More</a></td>
   </tr>
   <tr class="full_result">
       <td colspan="2"><?php echo $row_cond['description']; ?></td>
   </tr>
</table> 
```

您可以看到我有一个链接，单击该链接将调用该`slideUp()`函数以显示或隐藏带有“full_result”类的tr：

```
var command = false;
function slideup() { //New function SlidUp
    if (command == false){
         $('.full_result').fadeIn();
         $('.more').text('Display More');
         command = true;
    }else{
         $('.full_result').hide();
         $('.more').text('Display Less');
         command = false;
    }
} 
```

所以诀窍是，这是在一个while循环中，并且重复了很多次。那么我该如何做到这一点，以便当我单击链接时，只有类“full_result”显示在我单击链接的表中。

在我单击任何表格中的按钮时，所有类同时显示和隐藏。

**我的解决方案**

```
$('.full_result').hide();
$(".more").on("click",function(){
    $('.more').html('Display More');
    $('.full_result').hide();
    $(this).parents("tr").next().next().fadeIn();
    $(this).html('');
    return false; //This stops the page jumping to the top of the page when I click the link
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:32:17.840

尝试以这种方式更改您的 JS 代码并从“.more”链接中删除“onClick”属性：

```
var command = false;
$(".more").on("click",function(){
    if (command == false){
         $(this).parents("tr").next().fadeIn();
         $(this).html('Display Less');
         command = true;
    }else{
          $(this).parents("tr").next().hide();
         $(this).html('Display More');
         command = false;
    }
}); 
```

见[jsfiddle](http://jsfiddle.net/tZVFK/)

**编辑**

如果您在“”行下方有不止一行，`.more`您可以使用它`.nextAll()`来显示/隐藏所有下一行。并且只是`.slideToggle()`用来避免使用“ `var command`”。这段代码：

```
$(".more").on("click",function(){    
         $(this).parents("tr").nextAll().fadeToggle();
         if($(this).html()=="Display More") $(this).html('Display Less');            
         else $(this).html('Display More');
}); 
```

查看新的[JSFiddle](http://jsfiddle.net/WBdqr/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:32:42.783

您可以在 table 上有一个 common 类并参考所需的 tr 如下

1）在表标签上有一些通用类。例如：
2）脚本应如下所示。有了这个，你不必调用内联函数。

```
$(document).on('click', '.tr-hidable .more',function(){
  if (command == false){
    $(this).parents('tr-hidable').first().find('full-result').fadeIn();
    $(this).text('Display More');
    command = true;
  }else{
    $(this).parents('tr-hidable').first().find('full-result').fadeOut();
    $(this).text('Display Less');
    command = false;
  }
}); 
```

或者如果我们没有任何动态元素，我们可以将脚本的第一行替换为下面的行，所有的挖掘脚本将保持不变。

```
$('.tr-hidable .more').on('click',function(){ 
```

希望能帮助到你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:37:36.787

试试这个

***代码***

```
<table class="first-table" border="1" width="400px">
   <tr>
       <td><?php echo $row_cond['title']; ?></td>
       <td><a class="more" href="#">Display More</a></td>
   </tr>
   <tr class="full_result">
       <td colspan="2"><?php echo $row_cond['description']; ?></td>
   </tr>
</table> 
```

***JS代码***

```
$('.more').on('click', function(){
    slideup();

});
var command = true;
function slideup() { //New function SlidUp
    alert('ok');
    if (command == true){
         $('.full_result').fadeIn(400);
         $('.more').text('Display More');
         command = false;
    }else{
         $('.full_result').hide();
         $('.more').text('Display Less');
         command = true;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T08:07:31.887

您可以尝试以下方法：

```
$('.more').on('click',function(){
    var text = $(this).text() === "Display More" ? "Display Less" : "Display More";
    $(this).text(text)
           .closest('table').children('.full_result').fadeToggle();
}); 
```

# java - 使用没有代码库的 JWS JNLP 创建桌面图标

> ID：12294887
> 
> 赞同：0
> 
> 时间：2012-09-06T07:22:12.437
> 
> 标签：java, jnlp, java-web-start

我的桌面上有我的 .jnlp 和 jar 文件，它创建了一个快捷方式。如果我指定代码库，它甚至会设置图像。

我已删除代码库，如果未指定代码库，Java Web Start 软件假定代码库与启动 Java Web Start 应用程序的网页相关。因此，如果我将图标放在桌面上，它会将图像设置为我的快捷方式。但是有没有办法让我可以参考我有我的图标的 jar 文件，以便它可以将图像设置为创建的快捷方式？

# google-docs - 带有谷歌文档的用户界面

> ID：12294889
> 
> 赞同：2
> 
> 时间：2012-09-06T07:22:20.407
> 
> 标签：google-docs

这是我正在研究的概念证明。整个项目要复杂得多。所以这不是作业或面试问题。

我想使用 google doc 中的电子表格应用程序创建一个简单的数据库，并且我想创建一个界面来添加/修改/删除该数据库中的条目。我可以使用谷歌表格或类似的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T23:21:37.137

我发现这对我有用：[https](https://developers.google.com/google-apps/documents-list) ://developers.google.com/google-apps/documents-list 。您需要创建一个 API 密钥，下载文档，对其进行编辑并上传回来。

# asp.net-mvc-4 - 使用 RTM 调试 MVC4 捆绑

> ID：12294902
> 
> 赞同：2
> 
> 时间：2012-09-06T07:22:54.993
> 
> 标签：asp.net-mvc-4, asp.net-optimization, bundling-and-minification

所以我用 rtm 位完成了一个新的 mvc4 应用程序的开发。

我部署到产品服务器上，除了样式之外，一切都运行良好。捆绑包出了点问题，我认为它是订购问题或某些未随捆绑包呈现的文件。

如何调试捆绑包发生的事情以知道出了什么问题？回到我的开发环境中，如果我在 web.config 中切换 debug=false，我可以复制我在 prod 中遇到的问题，因此该环境没有问题。

谢谢！！

更新。如果我通过 BundleTable.EnableOptimizations = false 关闭启用优化；prod 上的网站工作正常，但当然没有缩小。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T20:48:30.283

如果您认为这是一个排序问题，那么您在 EnableOptimizations = false 时看到的顺序将是您在启用优化时在包中获得的顺序。

您也可以尝试通过将所有 ScriptBundles 更改为只是 Bundles（没有转换）来关闭缩小，然后您将获得捆绑但未缩小的脚本，并希望您可以调试 javascript。

# android - 光标未给出 Android 中的列数

> ID：12294903
> 
> 赞同：0
> 
> 时间：2012-09-06T07:22:55.150
> 
> 标签：android, android-cursoradapter

我正在尝试在字符串数组中获取 sd 卡中存在的所有歌曲的路径，但它没有存储在数组中，否则它会覆盖它，请帮助我，代码....

```
String[] projection = new String[] {MediaStore.Audio.Media.DATA};
    Cursor mCur = managedQuery(Media.EXTERNAL_CONTENT_URI,projection, null, null, null);
    mCur.moveToFirst();
    path=new String[mCur.getColumnCount()]; 
    while (mCur.isAfterLast() == false) {       
    for (i=0; i<mCur.getColumnCount(); i++) 
    {path[i]=mCur.getString(i);
            System.out.println(",,,,,,,,"+mCur.getColumnCount());
            System.out.println(path[i]+i);}
            mCur.moveToNext(); } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:45:32.813

试试这个，应该做你想做的

```
String[] projection = new String[] {MediaStore.Audio.Media.DATA};
Cursor mCur = managedQuery(Media.EXTERNAL_CONTENT_URI,projection, null, null, null);
// check if there is data returned or not
if (mCur.moveToFirst()) {
    // you should use getCount() rather than getColumnCount()
    // getCount() is the number of rows, while getColumnCount() is the number of columns returned
    // remember your projection?? only return 1 column.
    path = new String[mCur.getCount()]; 
    int whichColumn = mCur.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA);
    int i = 0;
    do {
        path[i] = mCur.getString(whichColumn);
        i++;
    } while (mCur.moveToNext());
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:41:15.703

你为什么使用 For 循环，使用 do whole loop as

```
 if (cursor.moveToFirst()){
        do{
                       // get the data from here

          }while (cursor.moveToNext());
    } 
```

或使用 while 循环作为

```
 if (mCursor != null) {
                   mCursor.moveToFirst();
                   while(!mCursor.isAfterLast()){

                        // get the data from here

                       mCursor.moveToNext();
                    }
               } 
```

# objective-c - UITableVIewCell 重叠图像中的自定义按钮

> ID：12294904
> 
> 赞同：0
> 
> 时间：2012-09-06T07:23:01.030
> 
> 标签：objective-c, ios, cocoa-touch, uitableview, uibutton

我在 UITableViewCell 的每个单元格中添加了一个自定义按钮。该按钮属于自定义类型。我已向此按钮添加了一个图像。当用户选择此按钮时，其图像会更改。但是这些按钮的图像是重叠的。以下是我的代码。

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

static NSString *CellIdentifier = @"CountryCell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] ;

}

// Configure the cell...

cell.textLabel.lineBreakMode = UILineBreakModeWordWrap;
cell.textLabel.numberOfLines = 0;
cell.selectionStyle = UITableViewCellSelectionStyleNone ;
cell.textLabel.text = [[_listArray objectAtIndex:indexPath.row] wish];
cell.textLabel.textColor = [UIColor whiteColor];

CustomWishButton *newBtn = [CustomWishButton buttonWithType:UIButtonTypeCustom];
[newBtn setFrame:CGRectMake(280,5,35,34)];
cell.textLabel.font = [UIFont fontWithName:@"Times New Roman" size:21];
newBtn.customString = [[_listArray objectAtIndex:indexPath.row] wish] ;
newBtn.customStatus = [[_listArray objectAtIndex:indexPath.row] status];
newBtn.imageName = [[_listArray objectAtIndex:indexPath.row]imageName];

[newBtn setImage:[UIImage imageNamed:newBtn.imageName] forState:UIControlStateNormal];
[newBtn addTarget:self action:@selector(changeStatus:) forControlEvents:UIControlEventTouchUpInside];

[cell addSubview:newBtn];

return cell;
}

 -(void)changeStatus:(id)sender{

   CustomWishButton *resultButton= (CustomWishButton*)sender;

if ([resultButton.imageName isEqualToString:@"cancel.png"]) {

    NSString *wish = resultButton.customString;

    NSLog(@"wish: %@",wish);

    [sql updateData:wish:1:@"tick.png"];

}
else{

    NSString *wish = resultButton.customString;

    [sql updateData:wish:0:@"cancel.png"];
}

_listArray = [sql getList];

[wishTableView reloadData];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:35:27.010

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
        NSString *CellIdentifier = [NSString stringWithFormat:@"CountryCell%d",indexPath.row];

        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

        if (cell == nil)
        {
            cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

            //CustomWishButton shouldn't add each and everytime! So why I kept inside.
            CustomWishButton *newBtn = [CustomWishButton buttonWithType:UIButtonTypeCustom];
            [newBtn setFrame:CGRectMake(280,5,35,34)];
            cell.textLabel.font = [UIFont fontWithName:@"Times New Roman" size:21];
            newBtn.customString = [[_listArray objectAtIndex:indexPath.row] wish] ;
            newBtn.customStatus = [[_listArray objectAtIndex:indexPath.row] status];
            newBtn.imageName = [[_listArray objectAtIndex:indexPath.row]imageName];

            [newBtn setImage:[UIImage imageNamed:newBtn.imageName] forState:UIControlStateNormal];
            [newBtn addTarget:self action:@selector(changeStatus:) forControlEvents:UIControlEventTouchUpInside];

            [cell addSubview:newBtn];
        }

        // Configure the cell...

        cell.textLabel.lineBreakMode = UILineBreakModeWordWrap;
        cell.textLabel.numberOfLines = 0;
        cell.selectionStyle = UITableViewCellSelectionStyleNone ;
        cell.textLabel.text = [[_listArray objectAtIndex:indexPath.row] wish];
        cell.textLabel.textColor = [UIColor whiteColor];

        return cell;
    }

    //instead of (id) reference I make it your CustomWishButton reference
    -(void)changeStatus:(CustomWishButton *)resultButton
    {
        if ([resultButton.imageName isEqualToString:@"cancel.png"]) 
        {
            NSString *wish = resultButton.customString;

            NSLog(@"wish: %@",wish);

            [sql updateData:wish:1:@"tick.png"];
        }
        else
        {
            NSString *wish = resultButton.customString;
            [sql updateData:wish:0:@"cancel.png"];

        }

        //Change image as per your condition
        [resultButton setImage:[UIImage imageNamed:NewImageName] forState:UIControlStateNormal];

        _listArray = [sql getList];

        [wishTableView reloadData];
    } 
```

# counter - 刻度计数器 Verilog

> ID：12294905
> 
> 赞同：5
> 
> 时间：2012-09-06T07:23:15.883
> 
> 标签：counter, verilog

我想知道如何为滴答计数器编写一个verilog程序。当快速输入为低电平时，输出滴答为高电平，每 150 ms 一个周期（每 7500000 个周期） clk 周期为 20ns。如果快速输入为高电平，则滴答应每隔一个时钟周期变为高电平一个周期。

我在想我应该计算 clk 周期并在满足周期数时使用该计数来输出最高的滴答声，但我似乎无法让它工作。

这是我的代码：

```
module tick_counter(
  input  clk,
  input  reset,
  input  fast,
  output reg tick
);

reg count;

always @(posedge clk) begin
  count <= count + 1;
  if((fast == 1)&&(count == 2)) begin
    tick <= 1;
  end
  else if(fast == 0)&&(count == 7500000)) begin
    tick <= 1;
  end
end
endmodule 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T09:40:55.327

您的计数器只有 1 位宽，您没有包含重置，您也没有在需要时将计数器归零。==2 将只是 == 7500000 的相移。尝试：

```
module tick_counter(
  input  clk,
  input  reset,
  input  fast,
  output reg tick
);

reg [22:0] count;

always @(posedge clk or negedge reset) begin
  if (~reset) begin
    count <= 'd0;
    tick  <=   0;
  end
  else begin
    if((fast == 1)&&(count == 2)) begin
      tick  <= 1;
      count <= 'd0;
    end
    else if(fast == 0)&&(count == 7500000)) begin
      tick  <= 1;
      count <= 'd0;
    end
    else begin
      tick  <= 0;
      count <= count + 1;
    end
  end
end
endmodule 
```

或者类似以下的东西可能会合成更小：

```
reg  [22:0] count;

wire [22:0] comp = (fast) ? 23'd2: 23'd7500000 ;
wire        done = count >= comp               ;

always @(posedge clk or negedge reset) begin
  if (~reset) begin
    count <= 'd0;
    tick  <=   0;
  end
  else begin
    if(done) begin
      tick  <= 1;
      count <= 'd0;
    end
    else begin
      tick  <= 0;
      count <= count + 1;
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-28T01:37:30.310

更少的门 - 没有比较器 - 只需使用递减计数器：

```
module tick_counter(  
  input  wire clk,  
  input  wire resetn,  
  input  wire fast,  
  output reg  tick);  

  reg  [22:0] count;  

  wire [22:0] load = (fast) ? 23'd2: 23'd7500000;  
  wire        done = !count;  

  always @(posedge clk or negedge resetn) begin  
    if (!resetn) begin  
      count <= 23'd0;  
      tick  <= 1'b0;  
    end else begin  
      tick  <= 1'b0;  
      count <= count - 23'd1;  
      if(done) begin  
        tick  <= 1'b1;  
        count <= load;  
      end  
    end  
  end  
endmodule//tick_counter 
```

否则，如果您更喜欢向上计数器，请反转文字。

# jsf-2 - 从 EJB 层访问推送上下文

> ID：12294909
> 
> 赞同：1
> 
> 时间：2012-09-06T07:23:40.097
> 
> 标签：jsf-2, primefaces, ejb, atmosphere

我将 Primefaces Push（3.4 中的新事物）与 jsf2 和 ejb3 一起使用。分离 .war 和 ejb.jar

现在我需要从 ejb 层触发一个 prime-push 事件。什么是干净的方法来做到这一点？我能想到的一些选择：

1.  ManagedBean 在调用 ejb 方法时向下传递一个回调接口
2.  Web 层中的 JMS 消息侦听器和用于发送消息的 ejb。
3.  托管 bean 用于分析从 ejb 方法调用返回的数据，并在满足条件时进行推送。

基本上问题是在哪里放置下面的代码？

```
PushContext pushContext = PushContextFactory.getDefault().getPushContext();
pushContext.push("/notifications", new FacesMessage(summary, detail)); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T14:59:14.793

我的工作是什么，我没有采用上面的任何想法，只是添加了从 EJB 层访问大气 API 所需的依赖项。

ejb.jar 的 MANIFEST.MF：

```
Manifest-Version: 1.0
Class-Path: 
atmosphere-runtime-1.0.1.jar 
atmosphere-compat-jbossweb-1.0.1.jar
atmosphere-compat-tomcat7-1.0.1.jar 
atmosphere-compat-tomcat-1.0.1.jar 
```

在 ejb.jar 和 application.ear 的 pom.xml 中

```
 <dependency>
        <groupId>org.atmosphere</groupId>
        <artifactId>atmosphere-runtime</artifactId>
        <version>1.0.1</version>
        <scope>provided</scope>
    </dependency> 
```

然后简单地将两个包从 primefaces 源复制到 ejb.jar

```
org.primefaces.push
org.primefaces.json 
```

因为在 pom.xml 中为 ejb.jar 添加 primefaces 导致

```
Missing artifact org.primefaces:primefaces 
```

# php - 如何避免在mysql中同时选择第一行？

> ID：12294910
> 
> 赞同：0
> 
> 时间：2012-09-06T07:23:48.033
> 
> 标签：php, mysql

我在 server1、server2、server3 上有三个 php 脚本。我有带有数据库“watch”的远程mysql server4 - 带有一列“data”的表“mytable”

所有这些脚本都连接到 db "watch" 表 "watch" 列 "data" 并且都执行相同的操作：

1.  选择“数据”列的第一行
2.  使用数据进行操作
3.  删除“数据”列的第一行

> ```
> $connect = mysql_connect("ip","user","password") OR DIE("Can't connect ");
>             mysql_select_db("watch") or die("Can't select database");
>     $xv=1
>     do {
>     $select = mysql_query("SELECT data FROM mytable LIMIT 1") or 
>                die("wrong select");
>              if (!$select) {
>              echo 'Could not run query: ' . mysql_error(); 
>              exit;}
>              $data = mysql_fetch_row($select);
>     -----------
>     operation with first row of "data" 
>     -------------
> 
>     mysql_query("DELETE FROM mytable LIMIT 1") or die("wrong delete");
> 
>     } while ($xv++<100); 
> ```

例如，

“数据”的第一行包含唯一值“亚历克斯”。

“数据”的第二行包含 uniq 值“迈克尔”。

“data”的第三行包含 uniq 值“George”。

PHP 脚本同时在 cron 中运行，但来自不同的服务器。

> 是否有可能两个或所有三个脚本选择第一行“Alex”的相同值？

我想避免两个或三个脚本同时选择第一行的相同值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-06T07:42:00.120

使用锁定、解锁表。`LOCK TABLES`显式获取当前客户端会话的表锁。`UNLOCK TABLES`显式释放当前会话持有的任何表锁。另请阅读此[链接](https://stackoverflow.com/questions/5710483/when-to-lock-tables-in-mysql-myisam-tables)。

```
$connect = mysql_connect("ip","user","password") OR DIE("Can't connect ");
mysql_select_db("watch") or die("Can't select database");

$xv=1
do {
    mysql_query("LOCK TABLES mytable WRITE");
    $select = mysql_query("SELECT data FROM mytable LIMIT 1") or die("wrong select");
    if (!$select) {
         echo 'Could not run query: ' . mysql_error(); 
         exit;
    }
    $data = mysql_fetch_row($select);

-----------
operation with first row of "data" 
-------------

    mysql_query("DELETE FROM mytable LIMIT 1") or die("wrong delete");
    mysql_query("UNLOCK TABLES");

} while ($xv++<100); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:27:31.963

我认为在 mysql 中唯一的方法是在读取或写入之前锁定表。在这里你有链接： [http ://dev.mysql.com/doc/refman/5.0/en/lock-tables.html](http://dev.mysql.com/doc/refman/5.0/en/lock-tables.html)

请不要忘记解锁表，尝试捕获您可能遇到的每个异常，否则表可能会被锁定很长时间。

# ruby-on-rails - CollectionAssociation.include 吗？检查数据库中是否存在记录？

> ID：12294911
> 
> 赞同：0
> 
> 时间：2012-09-06T07:23:57.423
> 
> 标签：ruby-on-rails, activerecord

我一直在阅读 Rails 3 Way 并正在检查`CollectionAssociation.include?`

按照书中的描述：

> 检查提供的记录是否存在于关联集合中，以及它是否仍然存在于基础数据库表中。

我做了几个测试来检查数据库是否被检查，但看起来它没有检查。

```
> book = Book.first
=> #<Book id: 1, title: "Programming Ruby"...
> last_chapter = book.chapters.last
=> #<Chapter id: 2, title: "Chapter 2", book_id: 1, 
> b.chapters.include?(last_chapter)
=> true 
> last_chapter.destroy
  DELETE FROM "chapters" WHERE "chapters"."id" = ?  [["id", 2]]
=> #<Chapter id: 2, title: "Chapter 2", book_id: 1, 
> b.chapters.include?(last_chapter)
=> true         
> book.chapters.reload
=> [#<Chapter id: 1, title: "Chapter 1", book_id: 1,...]
> b.chapters.include?(last_chapter)
=> false 
```

我检查了源代码，发现有一行`load_target if options[:finder_sql]`似乎有条件地加载了记录。

您知道何时访问数据库以检查数据库中是否存在记录吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:35:11.333

Rails 使用延迟加载和记忆。

这意味着`b.chapters`在您第一次调用 getter 之前不会加载任何章节。

之后，由于记忆化，破坏章节并不会改变`include?`测试。Rails 不会重新加载书中的章节。因此，它不会知道该章节不再存在于书中。

请注意`include?`（定义在`Enumerable`/`Array`对象上，但不直接在`ActiveRelation`对象上实现）会自动导致 Rails 将`ActiveRelation`对象强制`book.chapters`转换为数组。因此，`include?`将首先获取章节数组，然后检查该章节是否包含在数组中。

显式调用`reload`（在任何`ActiveRecord`对象上）强制 rails 重新加载该特定对象，以便丢弃书中章节的缓存，并重新加载实际的章节。

*   您无法关闭记忆功能，除非`reload`在需要重新加载的任何地方调用。
*   你可以通过使用来告诉 Rails 急切加载而不是延迟加载`includes`，例如。`book = Book.includes(:chapters).first`. 这意味着 Rails 将在加载书籍的同时加载所有章节。

要删除章节，同时确保它`book.chapters`是最新的，您可以调用`books.chapters.delete(book.chapters.last)`或`books.chapter_ids.delete(book.chapter_ids.last)`。使用这种方法，Rails 无需再次查询数据库即可知道它已不在集合中。

# apache - apache server-status connection/child/slot解释

> ID：12294913
> 
> 赞同：4
> 
> 时间：2012-09-06T07:24:00.313
> 
> 标签：apache

在apache server-status 页面中，参考“Acc”列，即“访问此连接/此子/此槽的次数”。

例如 18/256/356，我希望所有值都相等。

我需要通过示例来解释孩子和插槽连接的含义。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-11-21T16:33:14.587

从这个[邮件列表存档](http://www.gossamer-threads.com/lists/apache/users/339540)中，我们可以给出以下定义：

> *   子**进程**是处理请求的进程或线程。
>     
>     
> *   **插槽**是孩子的占位符。根据最大/最小备用服务器，那里可能有也可能没有孩子。
>     
>     
> *   连接是客户端和驻留在插槽中的子节点之间的链接**。**

# c# - Rdlc export to excel issue: when group is added with details

> ID：12294914
> 
> 赞同：2
> 
> 时间：2012-09-06T07:24:00.470
> 
> 标签：c#, rdlc, export-to-excel

Im having the rdlc where i need to show the tree structure i.e.,drill down. When im trying to export the same to excel its showing the error.

```
Object reference not set to an instance of an object. 
```

But when i gone through this... I found out that the issue for this is the Group. which im adding to display the report in tree structure and as well i added the details data in the same group instead in details row. so that the whole report will display in the same page where we can see the toggle easily and looks good. Below i attached the xml code of the same.

[Please find the xml here](http://textsnip.com/30f69c)

so,Is there any solution for this..... when exporting to pdf its working fine but when im trying to export to excel its showing error.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-25T12:27:47.313

Im successful in finding out the real issue behind the export Problem.

Im hiding one of the column in the report as it is not needed to display in the report,But I didnt notice that the cell of this column is included in one of the merged cells that is a merged row.

so this is the problem,the cell which is hidden was under merged cells.

when im trying to export it is throwing an error. when it is removed from merged cell its working fine.

# android - 主屏幕小部件未显示在 android 中

> ID：12294916
> 
> 赞同：0
> 
> 时间：2012-09-06T07:24:02.510
> 
> 标签：android, android-appwidget

在我的应用程序中，我有一个`Fragment`附加到 main 的`activity`. 这`Fragment`将在 的帮助下显示数据`adapter`。在 中`adapter`，我对一个`layout`有`clickable text`“在家观看”的设备进行了充气。`adapter`显示来自服务器的数据。我想在主屏幕上显示相同的数据，当我单击“从主屏幕观看”文本时，`widget`应该创建一个主屏幕，而无需任何用户交互。

我做了一个。“在家观看”`receiver` `MyWidgetProvider`的方法应该有什么才能将我带到小部件？`onClickText()`我必须承认，我是安卓新手。谢谢

Android 清单文件

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.pack.android.receiver"
    android:versionCode="1"
    android:versionName="1.0" >

    <application
        android:icon="@drawable/icon"
        android:label="@string/app_name" >
        <receiver android:name="MyWidgetProvider" >
            <intent-filter >
                <action 
                    android:name="android.appwidget.action.APPWIDGET_UPDATE" />
            </intent-filter>

            <meta-data
                android:name="android.appwidget.provider"
                android:resource="@xml/widget_info" />
        </receiver>
    </application>

    <uses-sdk android:minSdkVersion="8" />

</manifest> 
```

MyWidgetProvider.Java 文件

```
public class MyWidgetProvider extends AppWidgetProvider {

    private TextView team1Name;
    private TextView team2Name;
    private TextView team1Score;
    private TextView team2Score;

    public static boolean widgetView=false;
      private static final String LOG = "com.playup.android.receiver";

      public MyWidgetProvider(TextView team1Name, TextView team2Name, TextView team1Score, TextView team2Score){
          this.team1Name=team1Name;
          this.team2Name=team2Name;
          this.team1Score=team1Score;
          this.team2Score=team2Score;
          initializeViews();
      }

      @Override
      public void onUpdate(Context context, AppWidgetManager appWidgetManager,int[] appWidgetIds) {

        Log.w(LOG, "onUpdate method called");
        // Get all ids
        ComponentName thisWidget = new ComponentName(context,MyWidgetProvider.class);
        int[] allWidgetIds = appWidgetManager.getAppWidgetIds(thisWidget);

        // Build the intent to call the service
        Intent intent = new Intent(context.getApplicationContext(), UpdateWidgetService.class);
        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, allWidgetIds);

        // Update the widgets via the service
        context.startService(intent);
      }

      public void initializeViews(){
    //    team1Name= (TextView)content_layout.findViewById(R.id.team1Name);

      }
} 
```

更新小部件服务

```
public class UpdateWidgetService extends Service {
  private static final String LOG = "com.playup.android.receiver";

  @Override
  public void onStart(Intent intent, int startId) {
    Log.i(LOG, "Called");
    // Create some random data

    AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(this
        .getApplicationContext());

    int[] allWidgetIds = intent
        .getIntArrayExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS);

    ComponentName thisWidget = new ComponentName(getApplicationContext(),
        MyWidgetProvider.class);
    int[] allWidgetIds2 = appWidgetManager.getAppWidgetIds(thisWidget);
    Log.w(LOG, "From Intent" + String.valueOf(allWidgetIds.length));
    Log.w(LOG, "Direct" + String.valueOf(allWidgetIds2.length));

    for (int widgetId : allWidgetIds) {
      // Create some random data
      int number = (new Random().nextInt(100));

      RemoteViews remoteViews = new RemoteViews(this
          .getApplicationContext().getPackageName(),0x7f030061);        //Since R could not be resolve, I used the generated ids
      Log.w("Widget", String.valueOf(number));
      // Set the text
      remoteViews.setTextViewText(0x7f0a022a,"Random: " + String.valueOf(number));

      // Register an onClickListener
      Intent clickIntent = new Intent(this.getApplicationContext(),MyWidgetProvider.class);

      clickIntent.setAction(AppWidgetManager.ACTION_APPWIDGET_UPDATE);
      clickIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS,
          allWidgetIds);

      PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, clickIntent,PendingIntent.FLAG_UPDATE_CURRENT);
      remoteViews.setOnClickPendingIntent(0x7f0a022a, pendingIntent);
      appWidgetManager.updateAppWidget(widgetId, remoteViews);
    }
    stopSelf();

    super.onStart(intent, startId);
  }

  @Override
  public IBinder onBind(Intent intent) {
    return null;
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:29:32.383

简单地说，你不能在没有任何用户交互的情况下创建一个家庭小部件。

* * *

更新：

你的接收者标签应该像这样开始：

```
<receiver
    android:name=".MyWidgetProvider" 
    android:label="My widget label" >
    <!-- The rest as is -->

</receiver> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:30:32.407

主屏幕小部件只能由用户直接添加到主屏幕。只有用户可以将小部件作为访客添加到主屏幕或其他应用程序。

**编辑：**

要在小部件列表中查看您的小部件：

1.  有必要`AppWidgetProvider`在清单中注册您的。
2.  您的应用程序必须具有**`Launcher/Main`活动**，并且应用程序必须由用户直接运行，然后才能在小部件列表中可见。这是必要的，因为没有`broadcastreceiver`（所以没有 AppWidgetProvider），没有`service`，......您的应用程序无法在您之前注册应用程序直接由用户运行。如果您查看清单，您会看到您的应用程序没有**`Launcher/Main`Activity**（它只有一个接收器），因此它不能由用户运行，并且您的 AppWidgetProvider（即广播接收器）将不会注册和因此，您无法在小部件列表中看到您的小部件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-20T06:23:50.593

这让我摸不着头脑。我将`meta-data`标签作为标签的子`intent-filter`标签，这是错误的。`meta-data`是`receiver`标签的孩子。

版本不正确

```
 <receiver
            android:name=".AppWidgetReceiver"
            android:label="AppWidgetReceiver" >
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />

                <meta-data
                    android:name="android.appwidget.provider"
                    android:resource="@xml/appwidget_info" />
            </intent-filter>
        </receiver> 
```

以下是正确版本

```
<receiver android:name=".AppWidgetReceiver"
            android:label="AppWidgetReceiver" >
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
            </intent-filter>

            <meta-data
                android:name="android.appwidget.provider"
                android:resource="@xml/appwidget_info" />
        </receiver> 
```

# shell - TCL替代

> ID：12294919
> 
> 赞同：0
> 
> 时间：2012-09-06T07:24:18.053
> 
> 标签：shell, tcl

我必须运行一个脚本，我必须在其中提供一些密码作为参数。密码包含特殊字符。

假设我正在调用一个脚本`test.tcl system$123`。

在尝试访问 arg 时

```
set name [lindex $argv 0] 
```

这些特殊字符被忽略。

请帮助我。

谢谢，拉米亚。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-06T08:38:19.997

Tcl 不会忽略特殊字符。基本上没有什么是 tcl 字符串不能包含的。

然而，shell 可能会以不同的方式解释特殊字符。尝试这样调用它：

```
test.tcl 'system$123' 
```

请记住，大多数 shell，如 tcl，都实现了`$`替换。

# c# - 插入时防止重复

> ID：12294922
> 
> 赞同：2
> 
> 时间：2012-09-06T07:24:36.740
> 
> 标签：c#, .net, linq, entity-framework, duplicates

我有一些标签需要插入到标签数据库中。Tag 数据库只有一列“tag”，它也是主键。这是在插入时防止重复的技巧。

所以现在是代码和问题。

```
foreach (string tagval in tagarray)
{
    try
    {
        var tag = new Tag
        {
            Tag1 = tagval
        };
        db.AddToTags(tag);
    }
    catch
    {
    }
}
db.SaveChanges(); 
```

这种方法的问题是，`SaveChanges()`如果早期发现重复，则在调用后，程序存在而没有保存其他标签。如果我`SaveChanges()`在每次添加到表后调用，程序将变得低效并且需要进行大量调用。即使在较早的插入失败后如何继续插入？

也欢迎替代解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:34:36.980

使用实体框架和[`ObjectContext`](http://msdn.microsoft.com/en-us/library/system.data.objects.objectcontext.aspx)派生，你可以做这样的事情。

```
foreach (var newTag in tagarray.Select(t => 
               new Tag { Tag1 = t }).Except(db.Tags))
{
    db.Tags.AddObject(newTag);
}

try
{
    db.SaveChanges(SaveOptions.AcceptAllChangesAfterSave);
}
catch (OptimisitcConcurrencyException)
{
    db.Refresh(RefreshMode.StoreWins, db.Tags);
    foreach (var newTag in tagarray.Select(t => 
                   new Tag { Tag1 = t }).Except(db.Tags))
    {
        db.Tags.AddObject(newTag);
    }
    db.SaveChanges();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T07:38:10.290

您需要在这里更改几件事。首先，您最好先从您自己的列表中删除重复项，然后再通过调用`.Distinct`您的列表来插入数据库附近的任何位置。

此外，这里不需要 try catch，您应该在插入之前检查数据库中已有的内容。尝试这个：

```
List<string> uniqueItems = tagarray
    .Distinct()
    .Where(x => !db.Tags.Contains(x))
    .ToList();

foreach (string uniqueItem in uniqueItems)
{
    var tag = new Tag
    {
        Tag1 = tagval
    };
    db.AddToTags(tag);   
}

db.SaveChanges(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:40:53.573

```
foreach (string tagval in tagarray)
{
    try
    {
        var tag = new Tag
        {
            Tag1 = tagval
        };
      if(Tags.Where(e =>tag ) != null)
        {
        dataContext.AddToTags(tag);
        }
    }
    catch
    {
    }
}
dataContext.SaveChanges(); 
```

# ios - 似乎 iOS 应用程序可以使用 ARC 并支持 iOS 4.3 或 4.x，但如果它使用“弱”引用则不能？

> ID：12294924
> 
> 赞同：0
> 
> 时间：2012-09-06T07:24:42.620
> 
> 标签：ios, automatic-ref-counting, weak-references

在支持 iOS 4.3 之前，我使用过 ARC 并构建了应用程序，但是当我开始使用`weak`时，因为 Tree 对节点有强引用，而节点对树有一个引用，这应该是一个弱引用：

```
@property (weak, nonatomic) NSTree *treeThatIBelong; 
```

（`NSTree`是我在自己的代码中创建的一个类）。

在这种情况下，无法使用 iOS 4.3 的目标，因为编译器错误是“weak... is not supported in the deployment target”，只有在 iOS 5.0 或更高版本时错误才会消失。所以如果我们有一个`weak`，我们不能部署到 iOS 4.3 吗？如果我们想要支持 iOS 4.3 并且仍然使用 ARC，是否有解决方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:26:57.673

The workaround is to not use `weak` if you need to deploy to iOS 4.3 or earlier. `weak` requires runtime support that's not present until iOS 5.0.

For iOS 4.3 and earlier you can use `assign`, which of course is not a zeroing weak reference and therefore just turns into garbage when the referenced object is deallocated. Which is exactly what you have to deal with already when using MRR instead of ARC.

# php - 如果 value1==row1 则更新值，否则不更新

> ID：12294929
> 
> 赞同：0
> 
> 时间：2012-09-06T07:24:54.897
> 
> 标签：php, mysql, json, if-statement

所以我想：

*   查看传入的电话号码是否等于数据库中的电话号码。如果是这样，它必须保持电话号码相同的值，只更新：经度、纬度和时间戳。
*   如果电话号码等于 null。不要将任何值放入我的数据库中。根本没有记录。
*   如果电话号码不在数据库中，也不做任何事情。重复它，就像值为空一样。

我从输入中获得的电话号码称为**phonenumber**。并且该行称为**id**

这是我的代码：

```
 <?php

$db = new PDO('mysql:host=host;dbname=dbname;charset=UTF-8', 'user', 'pass',   array(PDO::ATTR_EMULATE_PREPARES => false, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION));

if (isset($_REQUEST['data'])){
$data = json_decode($_REQUEST['data']);
$stmt = $db->prepare("SELECT `id` FROM `locatie` where `phonenumber`=:id");
$stmt->execute(array(':phonenumber' => $data->id));
$row_count = $stmt->rowCount();
if($row_count && ($data->phonenumber != '')){
    $stmt = $db->prepare("UPDATE `locatie` SET `longitude`=:longitude,  `latitude`=:latitude, `timestamp`=:timestamp WHERE `phonenumber`=:id");
    $stmt->execute(array(':longitude' => $data->longitude,':latitude' => $data- >latitude,':timestamp' => $data->timestamp,':phonenumber' => $data->id));
 }
}

?> 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:27:09.237

您的准备有：id，但执行参数有：phone_number。这些需要匹配。

编辑：实际上，你可以做一个简单的更新——如果电话号码不存在，那么它就不会改变。一个查询，而不是两个。

```
$stmt = $db->prepare("UPDATE `locatie` SET `longitude`=:longitude,  `latitude`=:latitude, `timestamp`=:timestamp WHERE `id`=:id AND `phonenumber`=:phonenumber"); 
$stmt->execute(array(':longitude' => $data->longitude,':latitude' => $data- >latitude,':timestamp' => $data->timestamp,':id' => $data->id,':phonenumber' => $data->phonenumber)); 
```

# c# - 重新调整大小后删除拆分容器的边框

> ID：12294931
> 
> 赞同：2
> 
> 时间：2012-09-06T07:24:57.243
> 
> 标签：c#, winforms, splitcontainer

当我尝试拆分时，如何去除拆分容器的难看颜色。但是在windows操作系统中，包含两个以上的面板，并且在调整拆分容器的大小时没有边框显示，就像文件夹浏览器和驱动器分开在两个面板中一样。那么如何去除这个。[http://i.stack.imgur.com/jOBbR.png](http://i.stack.imgur.com/jOBbR.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-02-02T10:23:26.067

不确定这是否得到解决，但我处于类似情况并为 SplitContainer 设置以下属性：

```
SplitterWidth = 2
TabStop = False 
```

的宽度`2`可能没有空间来显示分割分隔符的默认边框（图像中的垂直线）。

# javascript - mouseover 不适用于 ie7 中动态生成的 li

> ID：12294934
> 
> 赞同：1
> 
> 时间：2012-09-06T07:25:01.793
> 
> 标签：javascript, internet-explorer-7, ie7.js

我创建了一个 menuItems 数组并将其分配给一个 id 为“leftMenu”的 div。

我有一个动态生成的 UL（用户列表）和 LI，它附加到 div。

我在动态生成的 LI 中设置了两个属性“onmouseover”和“onmouseout”。

这两个属性在 IE7 中不起作用，但在 IE8、IE9、Firefox、Safari 和 Chrome 中可以正常工作。

**CSS：**

```
 ul{margin:0px; padding:0px; width:200px;}
    li{list-style-type:none;}

    .defaultsMenuBtn {
    background-color: #FEE6A0;
    border-bottom: 1px solid #FFFFFF;
    color: #002C84;
    font-weight: bold;
    padding: 3px 5px;
    }

    a{text-decoration:none;}

    .defaultsMenuBtn_hover{background-color: #FFD14F; padding: 3px 5px; border-bottom: 1px solid #FFFFFF;font-weight:bold; color: #002C84; cursor:pointer;} 
```

**HTML**

```
 <div id="leftMenu">  </div>

```

**Javascript**

```
 var menuItems=new Array();
    menuItems[0]="menu01";
    menuItems[1]="menu02";
    menuItems[2]="menu03";
    menuItems[3]="menu04"; 

    var menulength = menuItems.length;
    var MenuWapper = document.getElementById("leftMenu");
    var ul = document.createElement("ul");

    MenuWapper.appendChild(ul);

    for(i=0; i<menulength; i++){
    var li = document.createElement("li");
    var itemID = "item_"+i
    li.className = "defaultsMenuBtn";
    li.id = itemID
    var browser = navigator.appName;

    li.setAttribute("onmouseover","this.className='defaultsMenuBtn_hover'");
    li.setAttribute("onmouseout", "this.className='defaultsMenuBtn'");
    li.innerHTML = " "+menuItems[i]+"";
    ul.appendChild(li);

    }// end forloop 
```

如果需要更多信息，请告诉我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:33:49.547

这是因为在 IE7 中，DOM 对动态添加的元素有限制。

您必须在jQuery中使用`live()`or方法。`delegate()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:28:03.870

I’m not 100% sure why it doesn’t work in IE7, but I don’t think `.setAttribute('event','fn')` is supported in IE7-. You should probably replace:

```
li.setAttribute("onmouseover","this.className='defaultsMenuBtn_hover'");
li.setAttribute("onmouseout", "this.className='defaultsMenuBtn'"); 
```

With

```
li.onmouseover = function() {
    li.className='defaultsMenuBtn_hover';
}

li.onmouseout = function() {
    li.className='defaultsMenuBtn';
} 
```

Setting inline attributes is not a good way to add listeners anyway, it’s better done in javascript.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T11:21:23.827

谢谢大卫

在这里，我对代码进行了一些更改

```
li.className='defaultsMenuBtn_hover';
li.className='defaultsMenuBtn 
```

至

```
this.className='defaultsMenuBtn_hover';
this.className='defaultsMenuBtn 
```

现在它工作正常。

# php - 在我的 PHP 脚本中嵌入另一个网页的最简单方法是什么

> ID：12294944
> 
> 赞同：1
> 
> 时间：2012-09-06T07:25:25.070
> 
> 标签：php, embedding

我有一个简单的 PHP 脚本，需要解析另一个网页的内容。将 HTML 代码放入 PHP 变量的最简单方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:29:06.080

在您的 php 脚本中：

```
$html = file_get_contents('http://yourUrl.com');
echo $html; 
```

如果您需要更高级的功能，例如模拟标头/Cookie，请查看 - `cURL`。

# php - 将 php 集成到 cronjob 的 shell 脚本中？

> ID：12294951
> 
> 赞同：1
> 
> 时间：2012-09-06T07:25:48.240
> 
> 标签：php, cron, cron-task

我想每 X 小时执行一次例行任务的 cronjob。cronjob 基本上执行一个 shell 脚本，该脚本又使用 WGET 命令从远程服务器下载文件。但是，在我运行这个 shell 脚本之前，我希望 cronjob 执行一个 php 脚本，它将检查更新是否可用（浪费 BW 并一遍又一遍地下载相同的文件是没有意义的），如果是，它应该传递shell 脚本的更新 URL，后者又使用 WGET 命令。

cronjobs 是从主机管理面板设置的。没有其他方法可以解决它。作为共享托管服务，我不允许访问 PHP 上可能为我完成任务的其他功能。

这可能吗？我是Linux文盲。我已经在 Fedora 上安装了一些 RPM，但仅此而已。请多多包涵。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T07:28:18.753

只需传递[`--timestamping`](http://www.gnu.org/software/wget/manual/html_node/Time_002dStamping-Usage.html)给您的 wget 命令。

或者，如果您更熟悉 PHP 的方式，您可以检查[这个问题](https://stackoverflow.com/questions/1378915/header-only-retrieval-in-php-via-curl)以获取可用的方法。

使用 curl`HEAD`请求获取文件的标头并解析出`Last-Modified:`标头。

要将 php 脚本用作常规命令行可执行文件，请将此作为起点：

```
#!/bin/env php
<?php
echo "Hello World\n"; 
```

保存不带 .php 的文件并将其放在服务器无法提供的位置。

接下来，设置可执行位，以便您可以像执行常规程序一样执行脚本（`u+x`在以下命令中表示授予 [u]ser e[x]ecute 权限`helloworld`，并且`chmod`是 unix 变体用来设置文件权限的命令）

省略以下序列中的 $，因为它代表命令提示符

`$ chmod u+x helloworld`

现在您可以通过在 bash 提示符中调用它来执行您的命令行脚本：

```
$ ls
helloworld
$ ./helloworld
Hello World
$ 
```

从这里您可以获得可执行脚本的完整路径：

```
$ readlink -f helloworld
/home/SPI/helloworld 
```

现在您可以使用可执行脚本的路径安装 cronjob。

# javascript - GMAPS API V3 自定义信息窗口：静态位置

> ID：12294952
> 
> 赞同：1
> 
> 时间：2012-09-06T07:25:54.647
> 
> 标签：javascript, google-maps, infowindow

我真的很想知道是否有办法`InfoWindow`在屏幕中央而不是标记上方显示。

另外，我怎样才能摆脱窗口本身的预定义蹩脚的语音气泡样式？

单击标记时，`InfoWindow`应显示在屏幕中央，宽度为`720px`，黑色不透明背景和少量内容（没有对话气泡，没有平移，只是纯 css）。我找不到任何接近我需要的东西。

我包括了`infobox.js`试图得到我想要的东西，但是我遇到了两个问题：

1.  它不采取我的立场：绝对和给定的顶部/左侧值。
2.  关闭`InfoBox`一次后，它不会再次打开。

一些可能相关的代码：

```
// creating the box

var ib'.$counter.' = new InfoBox(myOptions);

// box options - just the style part

var myOptions = { boxStyle: { ,width: "720px" ,position:"absolute" ,top:
    "-100px" ,left: "100" } };

// add listener - plane js

google.maps.event.addListener(marker'.$counter.', "click",
function() { ib'.$counter.'.show() }); 
```

我真的很感激任何帮助！

最好的问候，雷斯顿。

# c# - 顶部的 UAC 窗口

> ID：12294953
> 
> 赞同：0
> 
> 时间：2012-09-06T07:25:59.360
> 
> 标签：c#, windows, winforms, winapi

我在这里似乎陷入了死胡同。我有一个执行以下操作的项目：

*   只是运行并停留在通知区域
*   当用户按下鼠标中键时，它会显示一个表单
*   然后，用户可以从表单中选择任何内容，并感到高兴。

这工作得很好，但是不起作用的是当显示表单时，它不会激活。

现在，在我将 app.manifest 修改为之前`requireAdmin`，它工作正常。每当显示表格时，它就会被激活。

但是现在我以管理员身份运行表单，因为我需要能够使用它来控制我们的其他应用程序之一（也以管理员身份运行），表单出现得很好，但没有激活.

我尝试过： -`TopMost = true`在 Form_Load 方法内部 - 在 Form_Load`SetForegroundWindow`上使用表单句柄调用 - 在 Form_Load 上调用`ShowDialog`并在构建表单时尝试过。- 调用`Activate`Form_Load 以及何时构建表单

这是我的布局：

*   程序运行，由于清单需要 UAC 权限，用户同意，它开始
*   只出现一个通知图标，显示一个漂亮的小气泡，表示它正在运行
*   Program.cs 监控键盘/鼠标钩子
*   当鼠标中键或任何键盘钩子被触发时，它会创建一个新的表单对象
*   设置表单应该出现的位置
*   然后最后显示表格。

同样，没有 UAC 和`requireAdmin`app.manifest 内部，这工作正常。但是一旦它以管理员身份运行，不，不会留在前面。

我知道 MS 对`SetForegroundWindow`更高版本的 Windows（Vista、7、8）提出了更严格的要求，但我确实需要能够使此表单显示为最顶部的活动窗口（如上下文菜单）。

我怎样才能正确地做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T10:17:09.817

您可以将您的程序分成两部分，一个非管理员需要一半，它位于托盘中并监视中间按钮，另一半需要管理员权限，您在按下鼠标按钮时启动。然后，未抬高的一半可以调用`SetForegroundWindow`或`AllowSetForegroundWindow`根据需要调用。

如果您想避免每次出现 UAC 提示，您可以通过该`CoCreateInstanceAsAdmin`方法缓存一个 COM 高程对象并重复使用它。

# java - 使用通用代码在 Java 中实现通用接口

> ID：12294954
> 
> 赞同：0
> 
> 时间：2012-09-06T07:26:00.327
> 
> 标签：java, generics, reflection, interface

假设我有如下接口：

```
public interface UnaryFunction<Ret, Arg> {
    public Ret invoke(Arg arg);
}

public interface BinaryFunction<Ret, Arg1, Arg2> {
    public Ret invoke(Arg1 arg, Arg2 arg);
} 
```

现在假设我有一个像这样的包装类：

```
public class ConstructorWrapper<Ret> {
    // Wrapper for a java.lang.reflect.Constructor
    private final Constructor<Ret> constructor;

    // Try blocks in the following elided for brevity

    // Trying to implement UnaryFunction<Ret, Arg> with this
    public <Arg> Ret invoke(Arg arg) { return constructor.newInstance(arg); }

    // Trying to implement BinaryFunction<Ret, Arg1, Arg2> with this
    public <Arg1, Arg2> Ret invoke(Arg1 arg1, Arg2 arg2) { return constructor.newInstance(arg1, arg2); }
} 
```

如何更改它以便`ConstructorWrapper`声明同时实现`UnaryFunction`and `BinaryFunction`？更好的是，我如何做到这一点，以便传入一个单参数构造函数会导致一个`ConstructorWrapper`只实现的对象（或其中的子类），`UnaryFunction`而传入一个双参数构造函数会导致一个`ConstructorWrapper`只实现的对象`BinaryFunction`（即你不要'不要在`BinaryFunction`预期a 的地方传入一元构造函数）？最好尽量少重复？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:29:23.913

出什么问题了：

```
public class ConstructorWrapper<Ret, Arg, Arg1, Arg2>
  implements UnaryFunction<Ret, Arg>, BinaryFunction<Ret, Arg1, Arg2> 
```

让一个类同时提供两个 API 有什么问题？

如果两者都没有，请制作两个包装纸。如果您想减少代码重复，它们可以有一个*抽象超类。*但是如果你想要类型安全，包装类应该实现接口！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:41:09.720

> 我该如何做到这一点，以便传入一个单参数构造函数会导致一个仅实现 UnaryFunction 的 ConstructorWrapper 对象（或其中的子类），而传入一个双参数构造函数会导致一个仅实现 BinaryFunction 的 ConstructorWrapper 对象。

这只有在您有两个不同的*类*来创建这些`ConstructorWrapper`对象时才有可能，例如

```
class ConstructorWrapperUnary<Ret, Arg1> extends ConstructorWrapper {...}

class ConstructorWrapperBinary<Ret, Arg1, Arg2> extends ConstructorWrapper {...} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T08:25:32.197

改用工厂：

```
public class ConstructorFactory
{
    public static <Ret, Arg> Ret invoke(UnaryFunction<Ret, Arg> f, Arg arg)
    {
        return f.invoke(arg);
    }

    public static <Ret, Arg1, Arg2> Ret invoke(BinaryFunction<Ret, Arg1, Arg2> f, Arg1 arg1, Arg2 arg2)
    {
        return f.invoke(arg1, arg2);
    }
} 
```

# mysql - MySQL用户定义变量的存储限制

> ID：12294955
> 
> 赞同：14
> 
> 时间：2012-09-06T07:26:02.307
> 
> 标签：mysql, variables

在[User-Defined Variables](http://dev.mysql.com/doc/refman/5.5/en/user-variables.html)下，MySQL 手册文档：

> 可以从一组有限的数据类型中为用户变量分配一个值：整数、十进制、浮点、二进制或非二进制字符串或`NULL`值。十进制和实数值的分配不会保留值的精度或小数位数。将除允许类型之一之外的类型的值转换为允许类型。例如，具有时间或空间数据类型的值被转换为二进制字符串。
> 
> 如果为用户变量分配了非二进制（字符）字符串值，则它具有与字符串相同的字符集和排序规则。用户变量的强制性是隐含的。（这与表列值的强制力相同。）

但是手册没有说明：

*   **支持的整数的*大小*（例如 4-byte`INT`或 8-byte `BIGINT`），它们是有符号还是无符号，以及是否`ZEROFILL`应用（如果是，使用什么显示宽度）；**

    [这个 sqlfiddle](http://sqlfiddle.com/#!2/b6a51/1/1) *似乎*暗示 MySQL 5.5.25 将使用 up to `BIGINT`，根据分配进行签名，并且不会应用任何`ZEROFILL`.

*   **定点值和浮点值中使用的精度和小数位数，因为赋值中没有保留这点；和**

*   **字符串的最大长度（以字符和/或字节为单位）。**

    sqlfiddle 受限于`max_allowed_packet`2 ^(20)字节（我无法更改）：我*猜想*支持`LONGTEXT`2 ^(32)字节（4GiB）。

可以安全地依赖哪些限制，尤其是跨不同的服务器版本和配置？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-17T21:38:20.793

用户变量使用 MySQL 用于计算列值的相同内部数据类型。这些内部类型对于MySQL 支持的*所有*数据类型都足够大。

*   整数没有`ZEROFILL`，因为这是列的附加属性，而不是数据类型本身的属性。此外，整数用户变量没有宽度；当转换为文本时，它们会根据需要使用尽可能多的数字。
*   浮点值没有刻度。64 位 IEEE 浮点数是二进制值，对于大约 18 位十进制数字具有足够的精度。
*   理论上，如果字符串足够大并且您有足够的内存，则字符串应该保持任何`LONGTEXT`值。`max_allowed_packet`但是，在[错误 31898](http://bugs.mysql.com/bug.php?id=31898)中提到，用户变量有 16 MB 的未记录限制。

# magento-1.4 - 通过安装第一个 magento 1.6x 将本地主机中的 magento 1.4x 升级到 magento 1.6x，但是错误？！

> ID：12294958
> 
> 赞同：0
> 
> 时间：2012-09-06T07:26:28.327
> 
> 标签：magento-1.4, magento-1.6, magento

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T10:16:10.660

尝试这个

1.  **进入 phpmyadmin 或通过 ssh 访问 mysql 守护进程**
2.  **将表 catalog_product_flat_1 的名称更改为 catalog_product_flat_OLD_1 之类的名称（仅用于备份）**
3.  **在 Magento 管理面板中重新索引产品平面数据**

# c# - Unable to send Object while using Web Service

> ID：12294967
> 
> 赞同：0
> 
> 时间：2012-09-06T07:27:09.047
> 
> 标签：c#, asp.net, .net, basichttpbinding

I am trying to send the object through a method api of web service. As service is binded by BasichttpBinding.

```
OneClickOrder OneClick = new OneClickOrder();
OneClick.Mobile = Session["Mobile"].ToString();
OneClick.OrderDetailsList = OrderDetailsList.ToArray();
OneClick.OrderId = 10000;
OneClick.PromoSiteId = PromoSiteId;
OneClick.TotalPrice = Convert.ToInt32(lblafterDiscount.Text);
var OrderResponse = service.OneClickOrder(OneClick); 
```

While using service API, I got an SOAP exception

> The formatter threw an exception while trying to deserialize the message: There was an error while trying to deserialize parameter [http://tempuri.org/:order](http://tempuri.org/:order). The InnerException message was 'Error in line 1 position 588\. 'EndElement' 'order' from namespace 'http://tempuri.org/' is not expected. Expecting element 'Mobile'.'. Please see InnerException for more details.

I didn't get what could be wrong. Is this a problem of Service Side or client side? And i am currently working at client side.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:34:26.637

问题是您的 DataContract 类`OneClickOrder`在服务器和客户端上都不相同。

在客户端，它与服务器不同。因此，请检查您的 OneClickOrder DataContract 类，在服务器和客户端上是否相同。

# mobile - Viewport device-width is double the width

> ID：12294979
> 
> 赞同：0
> 
> 时间：2012-09-06T07:27:41.843
> 
> 标签：mobile, jquery-mobile

I have a mobile website which is design on 640px wide. So all content is a maximum of 640px wide.

In the header I have my meta tag:

```
<meta name="viewport" content="width=device-width"> 
```

On iPhone/iPad/iPodtouch the page is displayed correctly: the content fits exactly the width of the screen. But when I try it on Android (default browser or Dolphin HD) the screen is exactly half, so 320px wide. Very annoying because then you have to manually zoom out the see all the content.

How can I make sure that on load ALL content is always shown?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T18:49:30.213

尝试指定目标密度Dpi：

```
<meta name="viewport" content="width=device-width, target-densityDpi=device-dpi"> 
```

# android - Reddit posts from user in android app

> ID：12294980
> 
> 赞同：1
> 
> 时间：2012-09-06T07:27:42.913
> 
> 标签：android, api, reddit

I am trying to get all the posts from user from reddit and put this in a list to show in an android app. The problem is, I don't know if the current reddit API supports android in anyway.

Somehow this reddit API wiki makes me confused, so if you people could point me in the right direction, that be be appreciated. :)

Thanks in Advance,
Mark

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T10:58:04.010

我让它以某种方式在android中发送一个HttpGetRequest，然后循环遍历json响应。

# c++ - Interfaces with Template methods

> ID：12294981
> 
> 赞同：2
> 
> 时间：2012-09-06T07:27:48.800
> 
> 标签：c++, oop, boost, interface

I need to define a Configuration object. I am using `boost::property_tree` for the impl, but I do not want to expose Impl details in my interface, or have to `#include` boost files in my interface. The problem is that I would like to use the template method of ptree for getting values,

```
template <typename T>
T get(const std::string key) 
```

But this is impossible (?)

```
// Non compilable code (!)
// Interface
class Config {
public:
   template <typename T>
   T get(const std::string& key);
 }

 // Impl
 #include "boost/property_tree.h"

class ConfigImpl : public Config {
public:
   template <typename T>
   T get(const std::string& key) {
      return m_ptree.get(key);
   }

 private:
   boost::ptree m_ptree;
 } 
```

One option is to limit the types I can "get", for instance:

```
// Interface
class Config {
public:
   virtual int get(const std::string& key) = 0;
   virtual const char* get(const std::string& key) = 0;
 }

 // Impl
 #include "boost/property_tree.h"

class ConfigImpl : public Config {
public:
   virtual int get(const std::string& key) { return m_ptree.get<int>(key) };
   virtual const char* get(const std::string& key) { return m_ptree.get<const char*>(key); }

 private:
   boost::ptree m_ptree;
 } 
```

But this is pretty ugly and not scalable.
Any better options out there?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:41:11.643

You cannot have virtual function templates - but you coul'd use another *interface technique*, which is called Pimpl idiom.

See [here](http://www.gotw.ca/gotw/024.htm) and [here](http://www.gotw.ca/gotw/028.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-26T12:14:14.330

您必须使用模板和类型擦除来实现此目的，请观看此 cppcon 视频，名为：实用类型擦除。（[https://www.youtube.com/watch?v=5PZVuUzP34g](https://www.youtube.com/watch?v=5PZVuUzP34g "实用型擦除")）

# java - Junit: How to Mock the HttpUrlConnection

> ID：12294987
> 
> 赞同：2
> 
> 时间：2012-09-06T07:28:09.830
> 
> 标签：java, junit

How to mock the HttpURLConnection to the getContent() method in the sample code , Also how to get the reponse from the mock url

```
public class WebClient {
   public String getContent(URL url) {
       StringBuffer content = new StringBuffer();
       try {

           HttpURLConnection connection = createHttpURLConnection(url);
           connection.setDoInput(true);
           InputStream is = connection.getInputStream();
           int count;
           while (-1 != (count = is.read())) {
               content.append(new String(Character.toChars(count)));
           }
       } catch (IOException e) {
           return null;
       }
       return content.toString();
   }
   protected HttpURLConnection createHttpURLConnection(URL url) throws IOException{
       return (HttpURLConnection)url.openConnection();

   } 
} 
```

Thanks

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T07:50:45.833

您`Webclient`的测试设计有点糟糕。您应该避免隐藏的依赖项（基本上是大多数`new`操作）。为了可模拟，这些依赖项应该（最好）在它的构造函数中提供给被测对象，或者被测对象应该将它们保存在一个字段中，以便它们可以被注入。

或者，您可以像这样扩展您的 Webclient

```
new Webclient() {
  @Override
  HttpURLConnection createHttpURLConnection(URL url) throws IOException{
    return getMockOfURLConnection();
} 
```

where`getMockOfURLConnection`从 Mockito 等模拟框架返回 HttpURLConnection 的模拟。然后你教那个模拟返回你想要的并`verify`用来检查它是否被正确调用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T07:58:54.600

您应该重构您的代码：使用方法[URL.openStream()](http://docs.oracle.com/javase/7/docs/api/java/net/URL.html#openStream())而不是这种转换为`HttpURLConnection`. 代码将更简单、更通用且更易于测试。

```
public class WebClient {
    public String getContent(final URL url) {
        final StringBuffer content = new StringBuffer();
        try {
            final InputStream is = url.openStream();
            int count;
            while (-1 != (count = is.read()))
                content.append(new String(Character.toChars(count)));
        } catch (final IOException e) {
            return null;
        }
        return content.toString();
    }
} 
```

然后，你应该模拟`URL`. 这是最后一堂课，所以你不能用 Mockito 模拟它。它仍然有几种可能性，按优先顺序排列：

1.  使用类路径中的假资源进行测试并`WebClientTest.class.getResource("fakeResource")`用于获取`URL`.
2.  提取一个接口`StreamProvider`，允许`InputStream`从`URL`您的`WebClient`.
3.  使用[PowerMock](https://code.google.com/p/powermock/)模拟`final class URL`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:42:54.027

你需要为此使用存根，看看 mockito.org，它是一个易于使用的框架。这个想法是模仿类的行为并验证您的代码是否处理正面和负面的情况。

# c# - Get server side exported crystal report path on client machine using javascript for mail attachment in c#

> ID：12294989
> 
> 赞同：0
> 
> 时间：2012-09-06T07:28:12.740
> 
> 标签：c#, javascript, asp.net

hi below is my javascript code for opening default outlook.

```
<script language="javascript" type="text/javascript">
    function SendAttach() {
        var theApp //Reference to Outlook.Application 
        var theMailItem //Outlook.mailItem
        var attach3 = '<%= Session["MyFilePath"].ToString() %>'
        var recipient
        var subject = "Report Document"
        var msg = "Please Find Attached File \n\n" + "Thanks & Regards \n" + '<%=  Session["USER"].ToString() %>'
        try {
            var theApp = new ActiveXObject("Outlook.Application");
            var objNS = theApp.GetNameSpace('MAPI');
            var theMailItem = theApp.CreateItem(0) // value 0 = MailItem

            theMailItem.Subject = (subject);
            theMailItem.Body = (msg);
            theMailItem.Attachments.add(attach3);
            theMailItem.display();
        } catch (err) {
            alert("The following may have cause this error: \n" + "1\. The Outlook express 2003 is not installed on the machine.\n" + "2\. The msoutl.olb is not availabe at the location " + "C:\\Program Files\\Microsoft Office\\OFFICE11\\msoutl.old on client's machine " + "due to bad installation of the office 2003." + "Re-Install office2003 with default settings.\n" + "3\. The Initialize and Scripts ActiveX controls not marked as safe is not set to enable.")

        }

    }
</script> 
```

in this `<%= Session["MyFilePath"].ToString() %>` is passed by server side code. `MyFilePath` is path of my file which i am attaching as an attachment in outlook. this working fine on server side but when i run on client side this file path is not attaching attachment which is on server side.

below is my server side code.

```
reportDocument = new ReportDocument();
ParameterField paramField = new ParameterField();
ParameterFields paramFields = new ParameterFields();
ParameterDiscreteValue paramDiscreteValue = new ParameterDiscreteValue();
reportDocument.Load(Server.MapPath("~/Boreports/Print_Lpo.rpt"));

Session["Rpt_Name"] = "Local_Purchase_Order_Rpt";
string Fname = "C://" + Session["Rpt_Name"].ToString() + ".pdf";

paramField = new ParameterField();
paramField.Name = "@LPONO";
paramDiscreteValue = new ParameterDiscreteValue();
paramDiscreteValue.Value = Session["LPO_NO"].ToString();
paramField.CurrentValues.Add(paramDiscreteValue);
paramFields.Add(paramField);
reportDocument.SetParameterValue("@LPONO", paramDiscreteValue);

paramField = new ParameterField();
paramField.Name = "@REC_TYPE";
paramDiscreteValue = new ParameterDiscreteValue();
paramDiscreteValue.Value = Session["ReportType1"].ToString();
paramField.CurrentValues.Add(paramDiscreteValue);
paramFields.Add(paramField);
reportDocument.SetParameterValue("@REC_TYPE", paramDiscreteValue);
// Session["param"] = paramFields;
//Session["reportdoc"] = "~/Boreports/Print_Lpo.rpt";
CrystalReportViewer1.ParameterFieldInfo = paramFields;
CrystalReportViewer1.ReportSource = reportDocument;
reportDocument.ExportToDisk(ExportFormatType.PortableDocFormat, Fname);
Session["MyFilePath"] = Fname; 
```

how i will get my serverside exported file on client machine??

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T19:01:22.710

您不能从客户端访问服务器端文件（除非客户端恰好与服务器在同一台机器上运行）。

您需要将文件流式传输回客户端，或将其保存在共享位置。

这是一个例子：[http ://aspadvice.com/blogs/rjdudley/archive/2005/03/14/2565.aspx](http://aspadvice.com/blogs/rjdudley/archive/2005/03/14/2565.aspx)

# android - 在 simpleadapter 中使用 drawable

> ID：12294990
> 
> 赞同：2
> 
> 时间：2012-09-06T07:28:16.167
> 
> 标签：android, adapter, simpleadapter

我正在开发一个 Android 应用程序。在我的应用程序中，我必须使用适配器。所以我使用了简单的适配器。

```
int[] flags = new int[]{
            R.drawable.img1,
            R.drawable.img2,

};

List<HashMap<String,String>> aList = new ArrayList<HashMap<String,String>>();
 for(int i=0;i<number.size();i++){
         HashMap<String, String> hm = new HashMap<String,String>();
     hm.put("txt", number.get(i));
     hm.put("flag", Integer.toString(flags[i]) );
     aList.add(hm);
 }

String[] from = { "flag","txt"};

    // Ids of views in listview_layout
    int[] send = { R.id.flag,R.id.txt};

    // Instantiating an adapter to store each items
    // R.layout.listview_layout defines the layout of each item
    SimpleAdapter adapter = new SimpleAdapter(getBaseContext(), aList, R.layout.autocomplete_layout, from, send); 
```

现在我想使用我自己的可绘制数组列表而不是从资源中绘制。

```
Drawable d="some downloaded image from server" 
```

现在我想在hashmap中使用上面的d。

```
hm.put("flag", d.toString() ); 
```

上面的 stamenet 不起作用。我知道它是因为我之前发送了图像 ID。现在我正在将图像转换为字符串。

所以我必须把我的图像放到 hashmap hm 中。但是，如果我使用我下载的可绘制图像，我该如何放置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T10:55:41.910

// 这可能对你有帮助

[1] 首先你需要

```
HashMap<String, Object> hm= new HashMap<String, Object>();
Bitmap bmImg; 
```

[2] 对于在线图像需要 1 个函数来使用 Bitmap 对象获取它

```
public void downloadFile(final String fileUrl) 
    {
        URL myFileUrl = null;
        try {
            myFileUrl = new URL(fileUrl);
            HttpURLConnection conn = (HttpURLConnection) myFileUrl.openConnection();
            conn.setDoInput(true);
            conn.connect();
            //int length = conn.getContentLength();
            InputStream is = conn.getInputStream();
            bmImg = BitmapFactory.decodeStream(is);
        } catch (MalformedURLException e) {
            // imageLoadedHandler.sendEmptyMessage(FAILED);
        } catch (IOException e) {
            // imageLoadedHandler.sendEmptyMessage(FAILED);
        }

    } 
```

// 用于通过线程将在线图像放入 hasmap 并在此处填写数据

```
for(int i=0;i<number.size();i++){
     HashMap<String, Object> hm= new HashMap<String, Object>();
              new Thread() {
                            public void run() 
                            {    
                            downloadFile(smtLink[ii]);
                            hm.put("image", bmImg);
                        };
                }.start();              
              hm.put("flag", Integer.toString(flags[i]) );
              aList.add(hm); 
```

}

// 并且需要 viewbinder 类

```
class MyViewBinder implements ViewBinder 
    {
        @Override
        public boolean setViewValue(View view, Object data,String textRepresentation) 
        {
            if((view instanceof ImageView) & (data instanceof Bitmap)) 
            {
                ImageView iv = (ImageView) view;
                Bitmap bm = (Bitmap) data;
                iv.setImageBitmap(bm);
                return true;
            }
            return false;
        }

    } 
```

// 现在使用下面的简单适配器设置此数据，这里根据您的要求使用您的适配器进行更改

```
adapater1 = new SimpleAdapter(News.this, list, R.layout.homrow, new String[] { "im", "Titel", "Sourcetag", "Date1","im1" }, 
                            new int[] { R.id.homerowmain,R.id.homerowtitle, R.id.homerowsourcetag,R.id.homerowdate, R.id.homerowimgaerrow });
                adapater1.setViewBinder(new MyViewBinder());
                itemlist.setAdapter(adapater1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T09:26:34.437

确保在您的导入中没有 android.R ...并添加您自己的 R 文件 :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T07:32:59.353

尝试这个

```
 Integer[] flags = {
        R.drawable.Yourimg1, R.drawable.Yourimg2,
        R.drawable.Yourimg3, R.drawable.Yourimg4,          

}; 
```

# visual-studio - MFC 中的路径选择组件

> ID：12294992
> 
> 赞同：0
> 
> 时间：2012-09-06T07:28:21.407
> 
> 标签：visual-studio, visual-c++, mfc, dialog

我在 MFC 的对话框应用程序中有一个编辑框。我使用这个组件来选择路径。我可以编辑路径。我可以在此控件中提供建议功能吗？那就是当用户编辑路径时，组件根据输入为用户提供可能的建议？或者我可以使用 ComboBox 控件实现此功能吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T14:53:21.297

在您的 OnInitDialog() 中，m_pathEdit 是您的 CEdit 控件：

```
SHAutoComplete(m_pathEdit.m_hWnd, SHACF_DEFAULT); 
```

在调用对话框的 DoModal() 之前：

```
CoInitialize(NULL); 
```

从 DoModal() 返回后：

```
CoUninitialize(); 
```

那么您的编辑控件会自动完成 URL 和文件路径。

# r - 使用另一个数据帧的信息提取数据帧中组内的间隔。

> ID：12294993
> 
> 赞同：1
> 
> 时间：2012-09-06T07:28:21.510
> 
> 标签：r, dataframe, plyr

就像我在标题中所说的那样，我的目的是使用另一个数据帧的信息来提取我的数据帧子集的间隔。

我的输入：

df1：

```
 subject         x      y
7G001-0024-10   0,00    15
7G001-0024-10   97,29   18
7G001-0024-10   197,34  21
7G001-0024-10   314,66  22
7G001-0024-10   482,77  25
7G001-0030-10   0,00    12
7G001-0030-10   99,50   16
7G001-0030-10   184,37  20
7G001-0030-10   301,89  25
7G001-0030-10   585,67  27
     ...         ...   ... 
```

df2：

```
 subject   Threshold 
7G001-0024-10   177,08
7G001-0030-10   385,13
    ...          ... 
```

对于每个主题，我想在 df1 中提取 0 和每个主题的阈值之间的 x 和 y 数据包含在 df2 中，以获得这种精神的输出：

```
 subject         x      y
7G001-0024-10   0,00    15
7G001-0024-10   97,29   18
7G001-0030-10   0,00    12
7G001-0030-10   99,50   16
7G001-0030-10   184,37  20
7G001-0030-10   301,89  25
    ...          ...   ... 
```

我的第一个想法是在 ddply 函数中使用 which() ：

```
break=ddply(df1,.(subject),summarize,fun=x[which(x>=0 & x<Threshold )]) 
```

但我被卡住了，我没有看到如何在 which 函数中指示我的阈值（df2）的变化。

好吧，如果有人能告诉我如何处理它（我的第一直觉与否）

对不起英语不好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T07:46:00.223

首先，您的数据：

```
df1 <- read.table(text = "subject         x      y
7G001-0024-10   0,00    15
7G001-0024-10   97,29   18
7G001-0024-10   197,34  21
7G001-0024-10   314,66  22
7G001-0024-10   482,77  25
7G001-0030-10   0,00    12
7G001-0030-10   99,50   16
7G001-0030-10   184,37  20
7G001-0030-10   301,89  25
7G001-0030-10   585,67  27", header = TRUE, dec = ",")

df2 <- read.table(text = "subject   Threshold 
7G001-0024-10   177,08
7G001-0030-10   385,13", header = TRUE, dec = ",") 
```

您可以使用简单`apply`的方法来解决任务：

```
do.call("rbind", apply(df2, 1, FUN = function(a) {df1[a[1] == df1$subject & df1$x >= 0 & df1$x <= as.numeric(a[2]), ]}))

#         subject      x  y
# 1 7G001-0024-10   0.00 15
# 2 7G001-0024-10  97.29 18
# 6 7G001-0030-10   0.00 12
# 7 7G001-0030-10  99.50 16
# 8 7G001-0030-10 184.37 20
# 9 7G001-0030-10 301.89 25 
```

* * *

## 它是如何工作的？

首先，该函数`apply(df2, 1, FUN)`将一个函数应用于数据框中的每一行`df2`。该值`1`表示该函数应用于对象的第一个维度（第二个维度是列）。

看一个简单的函数。它只返回第一行和第二行`df2`。请注意，在输出中，行排列为列。

```
> apply(df2, 1, FUN = function(a) a)
          [,1]            [,2]           
subject   "7G001-0024-10" "7G001-0030-10"
Threshold "177.08"        "385.13" 
```

因为我们要提取一个`df1`更复杂函数的子集，所以需要。所以，我指定：

```
FUN = function(a) {df1[a[1] == df1$subject & df1$x >= 0 & df1$x <= as.numeric(a[2]), ]} 
```

在这个函数中，`a`代表一行数据框`df2`。此函数应用了两次，一次用于 的两行`df2`。`a[1]`是主题编号，`a[2]`是对应的阈值。`df1`该函数通过三个标准提取数据帧的行子集：

1.  主题相同 ( `a[1] == df1$subject`)
2.  该`x`值至少为零 ( `df1$x >= 0`)
3.  该`x`值不高于阈值 ( `df1$x <= as.numeric(a[2])`)

注意：该值`a[2]`需要通过 转换为数字`as.numeric`。这是必要的，因为主题 id in`df2`表示为字符，从而`apply`将整行（包括阈值）转换为字符。

这些条件中的每一个都返回一个逻辑向量。这些向量被组合`&`成一个逻辑向量，指示是否所有三个标准都被满足。选择逻辑向量所在的`df1[logical.vector, ]`所有行。由于 之后没有指定任何内容，因此选择了所有列。`df1``TRUE``,`

`df1`函数返回所有三个条件都已完成的行`apply`。

```
> apply(df2, 1, FUN = function(a) {df1[a[1] == df1$subject & df1$x >= 0 & df1$x <= as.numeric(a[2]), ]})
[[1]]
        subject     x  y
1 7G001-0024-10  0.00 15
2 7G001-0024-10 97.29 18

[[2]]
        subject      x  y
6 7G001-0030-10   0.00 12
7 7G001-0030-10  99.50 16
8 7G001-0030-10 184.37 20
9 7G001-0030-10 301.89 25 
```

该函数`apply`返回两个数据框的列表，每行一个`df2`。

最后一步，将列表中的数据框合并为一个数据框。该函数`do.call("rbind", list)`执行该函数`rbind`并将列表中的参数传递给它。对于长度为 2 的列表，这相当于`rbind(list[[1]], list[[2]])`. 这样，返回的列表中的两个数据帧就`apply`被合并了。

# php - 带有永久链接的自定义 Wordpress 主题主页记录了两个奇怪的页面点击

> ID：12294994
> 
> 赞同：0
> 
> 时间：2012-09-06T07:28:25.580
> 
> 标签：php, wordpress

我已经接手了一个网站的开发，并编写了一个简单的页面点击记录脚本，我将它放在了主题的 header.php 中。除了访问网站的基本网址时，它似乎工作得很好。然后，它记录了两次点击，一个具有正确的 url (www.idataresearch.com)，但另一个看起来像 www.idataresearch.com/page/2/。两次点击都记录了错误的页面标题。我觉得这与循环或模板加载器的工作方式有关。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T20:58:16.457

我不知道它为什么这样做，但我决定过滤掉那些奇怪的无关结果。该网站似乎运行良好，否则...

# android - MediaPlayer 流式传输：保存临时文件在哪里？

> ID：12294996
> 
> 赞同：1
> 
> 时间：2012-09-06T07:28:45.837
> 
> 标签：android, media-player

我使用 MediaPlayer 读取保存在网络上的 MP3 文件。对于安全问题，我想知道文件（或其中的一部分）是否保存在设备上（在哪里），以及文件是否可以稍后在 PC 上提取后读取。

如果您有任何相关信息，请告诉我。

编辑：我使用 HTTP 协议，文件可以是 mp3 或 ogg。

非常感谢。