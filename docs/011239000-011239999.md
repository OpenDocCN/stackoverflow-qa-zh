# StackOverflow 问答 11239000-11239999

# android - 在 BlackBerry 开发中，我在哪里可以找到类似“.apk”的东西？

> ID：11239004
> 
> 赞同：2
> 
> 时间：2012-06-28T06:16:17.977
> 
> 标签：android, blackberry, file-extension

在 Android 中（构建后），我们在`bin`文件夹中找到一个扩展名为`.apk`.

在我的 BlackBerry 项目中，我找不到类似 的东西`apk`，我想知道 BlackBerry Java 应用程序的扩展是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T07:07:12.807

黑莓有**.cod 和 .jad 以及 .alx 文件**

您可以在应用程序文件夹中找到它。例如我的项目名称是“SilentProfile”

1）如果你在电脑上打开你的应用程序文件夹，你可以找到以下文件夹。见图1![在此处输入图像描述](../Images/7486922d89f6aa360e55a8ee129a55f9.png)

2）在这个结构中，您可以找到可交付成果。单击它，您可以找到以下文件夹 ![在此处输入图像描述](../Images/205e5375180bca47a7a9197f844476ee.png)

3）单击标准，您可以找到此文件夹 5.0.0 表示我的应用程序在该黑莓 JDE 上编译 ![在此处输入图像描述](../Images/72080db42921f9fd9241ae1ab7818ec0.png)

4）从这里你有两种方式：

**I）您可以通过桌面管理器安装：**

这里我们需要两个文件，一个是 .alx 和 .cod 文件，你可以在 5.0.0 文件夹下找到 .alx 另一个 .cod 文件，你可以在 5.0.0 文件夹中找到 ![在此处输入图像描述](../Images/423382e678fa985b062ba00669c23165.png)

您只需要获取 appname.alx 文件和 appname.cod 两个文件

将该文件复制到您的桌面管理并单击它将安装。

**II）您可以从您设计的内存中手动安装：**

这是一种简单的方法，只需观察上图，您只能找到一个 appname.cod 文件

但如果应用程序大小超过 64kb，那么它将分成不同的部分，因此您需要使用 winRar 打开该文件并将这些文件解压缩到新文件夹。

您还需要将 appname.JAD 文件复制到上一个文件夹

将该文件夹复制到您的设计内存中并双击该 appname.jad 文件然后它将打开一个屏幕然后您必须单击下载成功完成后您可以在手机的黑莓应用程序文件夹中找到您的应用程序图标

您可以在这里找到更多信息

[http://www.webspheretools.com/sites/webspheretools.nsf/docs/How%20to%20prepare%20and%20deploy%20a%20BlackBerry%20Java%20Application](http://www.webspheretools.com/sites/webspheretools.nsf/docs/How%20to%20prepare%20and%20deploy%20a%20BlackBerry%20Java%20Application)

[http://supportforums.blackberry.com/t5/Java-Development/BlackBerry-JDE-Plug-in-for-Eclipse-Installation-and/ta-p/446870](http://supportforums.blackberry.com/t5/Java-Development/BlackBerry-JDE-Plug-in-for-Eclipse-Installation-and/ta-p/446870)

祝一切顺利。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-05T23:49:02.750

BlackBerry OS7 应用程序的扩展名为 .cod。对于 BlackBerry PlayBook 2.0 和 BlackBerry 10，与 .apk 等效的是 .bar 扩展名。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-28T06:46:51.563

对于 BlackBerry，构建应用程序的方法不止一种。如果您使用其中一种常用工具进行构建（例如 BlackBerry Plug-In for Eclipse，或 Legacy RIM JDE），它们通常会同时构建两者。

**.cod**文件基本上是 RIM 的 .zip 文件版本，它包含整个应用程序。通常，.cod 文件在解压后会在其中包含更多更小的 .cod 文件。这可能是最接近 Android 的 .apk 文件的东西。

或者，您可以使用 Java 应用程序描述符 (.jad) 文件以无线方式安装应用程序 (OTA)，该文件是一个引用主二进制应用程序包的小文本文件。这是一个 jad 文件的示例：

```
MIDlet-Name: HelloBB
MIDlet-Version: 1.0.0
MIDlet-Vendor: BlackBerry Developer
MIDlet-Jar-URL: HelloBB.jar
MIDlet-Jar-Size: 26037
MicroEdition-Profile: MIDP-2.0
MicroEdition-Configuration: CLDC-1.1
MIDlet-1: ,res/img/icon.png,
RIM-MIDlet-Flags-1: 0
Manifest-Version: 1.0
RIM-COD-URL: HelloBB.cod
RIM-COD-Size: 13304
RIM-COD-Creation-Time: 1340831331
RIM-COD-Module-Name: HelloBB
RIM-COD-Module-Dependencies: net_rim_cldc,net_rim_locationapi,net_rim_bb_lbs_api_2
RIM-COD-SHA1: bf 00 66 e0 30 5d 03 8c 8a b6 00 36 cf c9 76 98 40 d2 71 d9 
```

当您使用 Eclipse 插件构建时，我相信默认是在您的主项目目录中的**可交付成果**目录下生成所有这些文件，其下的子目录取决于您正在构建的应用程序类型以及您的操作系统版本'的目标。例如：

```
$ cd deliverables/Standard/5.0.0/
$ ls
HelloBB.cod HelloBB.csl HelloBB.cso HelloBB.debug   HelloBB.jad HelloBB.jar HelloBB.rapc 
```

# ios - 如何关闭 PushViewController？

> ID：11239010
> 
> 赞同：6
> 
> 时间：2012-06-28T06:17:03.627
> 
> 标签：ios, objective-c, iphone, ios5

我的应用程序中有 10 个视图控制器。我已经使用 NavigationController 的 pushViewController 方法推送了所有这些 viewController，点击了每个 viewController 的 NEXT 按钮。

我已将代码用作；

```
[self.navigationController pushViewController:someView animated:YES]; 
```

现在我想从第 10 个孩子（viewController）跳回 rootViewController。

我怎样才能做到这一点 ？

请帮我..

谢谢。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-28T06:36:16.803

尝试使用..

```
[self.navigationController popToRootViewControllerAnimated:YES]; 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-06-28T06:20:11.920

使用此代码：

```
 [self.navigationController popToRootViewControllerAnimated:YES]; 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-06-28T06:31:52.567

试试这个

```
[self.navigationController popToViewController:[self.navigationController.viewControllers objectAtIndex:1] animated:NO];//Use the desired index instead of 1 here 
```

回到最后一个屏幕使用这个

```
[self.navigationController popViewControllerAnimated:YES] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T06:19:38.227

您可以 `[self.navigationController popViewControllerAnimated:YES]` 用于特定视图..

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-28T06:22:35.153

```
 NSInteger index = 0;
 for (UIViewController *view in self.navigationController.viewControllers) {
 if([view.nibName isEqualToString:@"RootViewController"])//put any `XIB name` where u want to navigate 
    break;
index = index + 1;
 }
 [[self navigationController] popToViewController:[[self.navigationController viewControllers] objectAtIndex:index] animated:YES]; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-28T06:24:51.527

要返回上一个屏幕（视图控制器堆栈的最后一个元素），请弹出视图控制器：

```
[self.navigationController popViewControllerAnimated:YES]; 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2018-06-28T12:49:22.983

**斯威夫特 4**

```
self.navigationController?.popToRootViewController(animated: true) 
```

# mysql - 从 Rails 脚手架显示日期范围内的数据

> ID：11239012
> 
> 赞同：1
> 
> 时间：2012-06-28T06:17:12.543
> 
> 标签：mysql, ruby-on-rails, view, controller, scaffold

这是在我的控制器中：

```
@somethings = Something.find(:all) 
```

我的计数变量将显示基于“rca”的数据分解：

```
@something_to_count = Something.count( :conditions => { :rca => "4X32W"})
@something_to_count2 = Something.count( :conditions => { :rca => "6X36W"}) 
```

.....等到其他计数变量...

就这么简单，我试图让它在一个视图中显示过去三十天内从“某事”表中创建的所有条目的这些统计信息/计数，并在另一个视图中显示某个日期范围内的所有条目。`created_at`我的模型中的脚手架函数 ( and )添加了默认时间戳`updated_at`。

我的观点必须分成两页。一页接受日期范围并显示计数变量以及表格中的数据，另一页显示过去三十天的相同。（即`def last_30_days`和`def within_dates`将是行动）。我在网上找到了一个解决方案，它从 30 等中减去了一个日期变量，这似乎不起作用。一个完整的工作解决方案将不胜感激。请帮忙。另外，如何将简单的日期范围条目转换为与日期戳相同的格式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T13:18:27.250

您可以为查询创建范围，以便重复使用它们。
我对您的问题的处理方法是这样的：

```
scope :last_30_days, where("created_at between ? and ?", Date.today - 30, Date.today)
scope :within_dates, lambda { |start_date, end_date|
  where("created_at between ? and ?", start_date, end_date)
}
scope :based_on_rca, lambda { |rca|
  where(:rca => rca)
}

@something_to_count = Something.based_on_rca("4X32W").last_30_days.count
@something_to_count = Something.based_on_rca("4X32W").within_dates(Date.today - 4.month, Date.today - 1.month).count 
```

具有小查询的各种范围，可以链接以反映更大的查询。问候。

# yii - 如何在 _view 文件中的 CViewList 小部件中创建 ajax 删除链接

> ID：11239018
> 
> 赞同：2
> 
> 时间：2012-06-28T06:18:29.740
> 
> 标签：yii

CGridView 小部件已经具有查看、更新、删除选项。但我在我的基于 jquery 移动的项目中使用 CListView 小部件，但在为删除选项创建 ajax 链接时遇到问题。不知道如何在_view.php（视图文件）及其renderPartial（）视图文件中创建一个ajax删除链接以在成功删除后消失栏请提前感谢。这是用于编辑和删除的 _view.php 文件链接。

```
<?php 
echo CHtml::link(CHtml::encode($data->id), 
    array('editmember1', 'id' => $data->id), 
    array('data-role' => 'button', 'data-icon' => 'star')
);

echo CHtml::link(CHtml::encode($data->id), $this->createUrl('customer/delete', array('id' => $data->id)), 
    array(
       // for htmlOptions
       'onclick' => ' {' . CHtml::ajax(array(
       'beforeSend' => 'js:function(){if(confirm("Are you sure you want to delete?"))return true;else return false;}',
       'success' => "js:function(html){ alert('removed'); }")) .
       'return false;}', // returning false prevents the default navigation to another url on a new page 
       'class' => 'delete-icon',
       'id' => 'x' . $data->id)
   ); 
```

?>

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T07:24:30.847

发生这种情况是因为：

1.  未调用正确的操作，因为您尚未设置 的`url`属性[`jQuery.ajax()`](http://api.jquery.com/jQuery.ajax/)。你应该知道 Yii`CHtml::ajax`是建立在 jQuery 的 ajax 之上的。所以你可以添加：

    ```
    CHtml::ajax(array(
      ...
      'url'=>$this->createUrl('customer/delete', array('id' => $data->id,'ajax'=>'delete')),
      ...
    )) 
    ```

    同样在 url 中，我传递了一个 ajax 参数，以便该操作明确知道它是一个 ajax 请求。

2.  然后控制器操作默认（即 Gii 生成的 CRUD）期望请求是 post 类型，您可以在 customer/delete 操作行中看到这一点`if(Yii::app()->request->isPostRequest){...}`：所以你必须发送一个 POST 请求，再次修改 ajax 选项：

    ```
    CHtml::ajax(array(
      ...
      'type'=>'POST',
      'url'=>'',// copy from point 1 above
      ...
    )) 
    ```

3.  或者，您也可以使用[`CHtml::ajaxLink()`](http://www.yiiframework.com/doc/api/1.1/CHtml#ajaxLink-detail).

4.  要在删除后更新 CListView，请调用`$.fn.yiiListView.update("id_of_the_listview");`. 就像是：

    ```
    CHtml::ajax(array(
      ...
      'type'=>'POST',
      'url'=>'',// copy from point 1 above
      'complete'=>'js:function(jqXHR, textStatus){$.fn.yiiListView.update("mylistview");}'
      ...
    )) 
    ```

# android - 捕获 SYN、ACK、FIN 数据包并在 Android 中以我自己的方式发送

> ID：11239021
> 
> 赞同：0
> 
> 时间：2012-06-28T06:18:39.033
> 
> 标签：android, tcp, network-programming, download

我目前正在开发一个项目（Android 下载管理器）。我需要做的是，我需要捕获SYN、ACK、FIN数据包并以我自己的方式发送。我还需要手动增加 cwnd 大小。可能吗？如果是这样，你能解释一下我该怎么做吗？

提前致谢！

# dialog - 尝试在 Monotouch.Dialog 中使用 LoadMoreElement

> ID：11239023
> 
> 赞同：0
> 
> 时间：2012-06-28T06:18:41.643
> 
> 标签：dialog, xamarin.ios

我正在使用 Monotouch 编写 Ipad 应用程序。该应用程序使用表格向下浏览目录树，然后选择一个文件。我使用 Monotouch.Dialog 浏览目录，并在应用程序启动时设置目录表。但是，当应用程序启动时，要在表中设置的文件太多，所以我想设置“文件表”因为文件是从最低级别的目录表中选择的。我正在尝试使用 LoadMoreElement 来执行此操作，但我无法使其工作或在线找到任何示例。我在 Xamarin 教程中编写了“元素 API 演练”，网址为：- [http://docs.xamarin.com/ios/tutorials/MonoTouch.Dialog](http://docs.xamarin.com/ios/tutorials/MonoTouch.Dialog) 然后我在代码中添加了一个新部分：-

```
_addButton.Clicked += (sender, e) => {

   ++n;

   var task = new Task{Name = "task " + n, DueDate = DateTime.Now};

   var taskElement = new RootElement (task.Name){
          new Section () {
                  new EntryElement (task.Name,
                         "Enter task description", task.Description)
          },
          new Section () {
                  new DateElement ("Due Date", task.DueDate)
          },
          new Section() 
                {
                     new LoadMoreElement("Passive","Active", 
                                        delegate {MyAction();})
                }

            };
   _rootElement [0].Add (taskElement); 
```

MyAction 在哪里：-

公共无效 MyAction()

{

```
 Console.WriteLine ("we have been actioned"); 
```

}

问题是触发了 MyAction 并且 Console.Writeline 写入了消息，但表保持在活动状态并且永远不会返回到被动状态。文档说：-一旦您在 NSAction 中的代码完成，UIActivity 指示器将停止动画并再次显示正常标题。我错过了什么？

伊恩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T15:14:02.973

您需要将元素中的“动画”属性设置为 false。

像这样：

LoadMoreElement loadMore = null;

```
 loadMore = new LoadMoreElement (
     "Passive", "Active", 
     delegate {loadMore.Animating = false;}); 
```

您在哪里看到任何说明动画在代理停止运行时停止的文档？如果这在任何地方都有记录，那是错误的。

# java - Java 7 逃逸分析不起作用

> ID：11239028
> 
> 赞同：2
> 
> 时间：2012-06-28T06:18:53.433
> 
> 标签：java, java-7, escape-analysis

对于下面给出的代码，我看到了很多 GC 活动。据我了解，这是适合 EA 的场景。为什么 EA 无效。DummyObject 内部没有分配任何内容。使用的 JVM 选项：-server、-verbosegc。

```
 static void anayzeEA()
{
    for(int i = 0 ; i < 100000000; i++) {
        DummyObject obj = new DummyObject();
        if(obj.hashCode() == 97787) { //to prevent the obj being optimized            
         System.out.println(obj.hashCode());
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T16:01:12.680

[请参阅此处](https://stackoverflow.com/questions/9032519/eligibility-for-escape-analysis-stack-allocation-with-java-7)的相关问答，这表明您可以下载调试 JDK 并使用命令行选项：-XX:+UnlockDiagnosticVMOptions -XX:+PrintEscapeAnalysis -XX:+PrintEliminateAllocations

在逃逸分析事件发生时打印出来。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:29:01.317

一些观察

似乎 obj.hashCode() 是本机调用，并且对象可能会 escape 。将 obj.hashCode() 更改为 obj.getMyCode() （一种返回 System.currentTimeMillis()% staticObjCount 的方法）使其工作。没有观察到 GC 活性。[然而，以下方法从未得到有效的逃逸分析，这里](https://stackoverflow.com/questions/9032519/eligibility-for-escape-analysis-stack-allocation-with-java-7)提到的所有建议

```
 public static long test1() 
{
    long r = 0;
    byte[] arr = new byte[(int)System.currentTimeMillis() % 1024]; 
    if(arr.length == 998 ) {
        ++r;
    }
    return r;
} 
```

使用的 JVM 选项 -server -verbosegc -XX:CompileThreshold=1

Test1 被多次调用。同样的老故事。Java在堆中分配内存，GC来了，让一切变慢。对这个功能太兴奋了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-14T16:23:02.070

Java API 说：

> 在合理可行的情况下，由 Object 类定义的 hashCode 方法确实为不同的对象返回不同的整数。（这通常通过将对象的内部地址转换为整数来实现，但 JavaTM 编程语言不需要这种实现技术。）

因此，您正在生成对象，为每个对象生成不可预测的 hashCodes 并将它们与某个值进行比较。此外，它是一种本机方法，因此 JIT 不知道内部发生了什么。

Escape Analysis 可能不错，但目前不支持水晶球。;-) 尝试用您自己的方法覆盖它，返回 12345。

# java - 隐藏在 JScrollPane 下的 JTable

> ID：11239030
> 
> 赞同：0
> 
> 时间：2012-06-28T06:19:02.733
> 
> 标签：java, swing, jtable, jscrollpane

我有一个问题`JScrollPane`- 看起来它覆盖在我的`JTable`.

我做了一个`JTable`没有`JScrollPane`，一切似乎都很好 - 一切都按我的意愿加载等等 - 但是当我尝试添加`JScrollPane`一切都出错时 - 只显示列名。

这是我的代码...

```
projectTable = new javax.swing.JTable();
ProjectTableModel ptm = new ProjectTableModel();
projectTable.setModel(ptm);

jScrollPane1.setViewportView(projectTable); 
```

定位组件有问题吗？有人可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:21:46.623

Oracle`JTable`教程包含有关[“将表添加到容器”的](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#show)部分，其中示例中的容器是`JScrollPane`

# android - 我们如何知道安装在安卓设备中的应用程序是否读取了我们手机的联系人？

> ID：11239032
> 
> 赞同：0
> 
> 时间：2012-06-28T06:19:16.897
> 
> 标签：android, android-layout

我有一个小问题，即每当我们在我们的 android 手机中安装应用程序时，我们都需要确定该应用程序是否读取我们的联系人。如果该应用程序读取联系人，那么我们必须提出一个带有红色标记和一些信息的警报框。所以这就是为什么我要创建一个应用程序来查找，新安装的应用程序是否读取我们的联系人。

请帮助我。谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:25:40.637

可能重复...

答案在这里：[Java：需要一些方法来缩短此代码](https://stackoverflow.com/questions/3280632/need-some-way-to-shorten-this)

```
PackageManager p = context.getPackageManager(); 
final List<PackageInfo> appinstall = 
    p.getInstalledPackages(PackageManager.GET_PERMISSIONS | 
                                      PackageManager.GET_PROVIDERS) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:31:05.213

如果应用程序可以读取联系人，则需要`android.permission.READ_CONTACTS`许可。如果您想指定一些应该发出警报的特定联系人，那么您不能在应用程序级别执行此操作。您需要深入到 Android 框架级别并构建您自己的 Android 版本。

# php - 将图像文件与音频文件合并

> ID：11239039
> 
> 赞同：0
> 
> 时间：2012-06-28T06:19:38.570
> 
> 标签：php

我的 PHP 站点要求将图像（jpg 或 png）与音频（wav）连接起来，并且输出应该是视频（如 mpeg、mp4 或 wav 本身）。

有没有可用的工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:22:33.730

[ffmpeg](http://ffmpeg.org)可以很容易地做到这一点。您可以从一组图像（在您的情况下，只有一个）创建视频并将音频附加到它。只需查看文档即可。

# java - 在 IE8 中打开 PDF 文件时出现空白页

> ID：11239043
> 
> 赞同：2
> 
> 时间：2012-06-28T06:19:54.043
> 
> 标签：java, pdf

我在我们的客户端服务器中面临一个问题。我们无法仅在具有 SSL 端口的 IE8 浏览器（Google chrome 和 firefox 以及 IE9）中打开 PDF 文件。我从不同的站点找到了一些解决方案。他们没有帮助。我们可以从本地开发服务器和本地机器服务器打开 PDF 文件。相同的代码部署在我们的客户端环境中。单击 PDF 文件链接时，会出现空白页（应生成具有动态值的 PDF 文件）。不在标头中使用 no-cache 和 no-store。我们使用 Jsp、javascript、struts 和 adobe reader 10.1.3 版本以及带有 IE 8 和 weblogic 9.2 服务器的 Win 7。

请提供解决此问题的解决方案。是否存在与 ssl 端口或 adobe reader 相关的问题？

# iphone - 如何将 int 转换为 NSDate 格式？

> ID：11239046
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:20:02.203
> 
> 标签：iphone, objective-c

我取了两个值，例如 140 和 200 ，现在如果我添加 140+200 = 340 我希望将 340 天的输出转换为 NSDate 格式

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:24:09.923

```
NSCalendar *calendar = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease];
NSDateComponents *components = [[[NSDateComponents alloc] init] autorelease];
[components setDay:340];

NSDate *date = [calendar dateFromComponents:components]; 
```

为您提供 0 年 340 天的日期……那是很久以前的事了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:28:13.640

如果我理解正确，您想将 340 天添加到今天

```
 NSTimeIntervall timeToAddInDays = 60 * 60 * 24 * 340;
   NSDate *theFutureDate = [[NSDate date] dateByAddingTimeInterval:timeToAddInDays]; 
```

但请注意 - 正如 JustSid 在下面提到的 - 这正好增加了 340 天 - 这可能不是你想要/需要的战争。

# c# - 转换成哈希码并解密

> ID：11239048
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:20:06.290
> 
> 标签：c#, asp.net, hashcode

我在 url 中传递了贷款 ID、社会安全号码和邮政编码。

```
LoanID: 205689
ssn No: 555-896-4569
Zip code: 12345 
```

网址是`http://localhost/Product/abc/manager/internet/PayCredential.aspx?LoanID=205689`

出于安全目的，我需要将社会安全号码和邮政编码转换为哈希码，并将它们传递到此 url。然后我会在调用页面时解密它们。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:26:50.683

不要费心重新发明轮子。使用 SSL - 您的所有通信都将被加密，包括您的 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T21:20:21.530

Your whole approach is wrongheaded. Under no circumstances should you be passing that information via the querystring, even if you are encrypting it using SSL. As I mention in the comment to @zmbq, I don't want someone shoulder surfing my SSN while I'm paying my mortgage, thanks.

What you should do is have the data securely stored on the server side, SSL secure your connection, and the client's URL should only use a non-identifiable token (like session ID) to refer to it. If the user needs to enter their SSN as part of their login identifier, it should be entered via a password field so that the browser masks the input.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:28:24.013

Hasing 在您的情况下不起作用。您无法从其散列值访问该对象。您应该在发送之前对数据进行加密，在使用之前对其进行解密。在这里您可以看到如何在 c# 中使用 encrpyt 和解密的示例：http: [//www.codeproject.com/Articles/5719/Simple-encrypting-and-decrypting-data-in-C](http://www.codeproject.com/Articles/5719/Simple-encrypting-and-decrypting-data-in-C)

另外，您可以使用 https 来提高安全性。

# c++ - IPv6 到 IPv4 的转换仅给出 0.0.0.1

> ID：11239050
> 
> 赞同：1
> 
> 时间：2012-06-28T06:20:13.607
> 
> 标签：c++, c, linux, sockets, ip

我正在编写一个 Java 插入器（使用 LD_PRELOAD 方法），它修改网络通信系统调用（connect/sendto）中的接收者信息。

每当 Java 尝试连接到另一个套接字时，我都会修改预期的收件人 IP 和端口。Java 使用 IPv4 映射的 IPv6 地址。所以，我需要提取其中的 IPv4 部分。[我使用 Nicolas Bachschmidt 在链接](https://stackoverflow.com/questions/11233246/how-to-convert-ipv4-mapped-ipv6-address-to-ipv4-string-format/)中规定的方法实现了这一点。

我面临的问题是，对于每个 IPv4 映射的 IPv6 地址，我获得的结果字符串（IPv4 部分）始终是`0.0.0.1`. 相反，它应该是`10.0.0.1`(for `::ffff:10.0.0.1`)。我已经尝试过使用不同的 IP 地址。结果总是一样的。

我想提两件我认为可能相关的事情：

1.  一个月前，当我在本地网络（具有`192.168.1.XXX`IP 地址）上测试同一个程序时，该程序运行正常。重点是（我不认为）代码有任何问题。为了验证这一点，我在 stackoverflow 上提出了一个问题，将 IPv4-mapped-IPv6 地址转换为 IPv4，其链接在前面提到过）。

2.  我现在正在尝试在我的大学网络（具有`10.XXX.XXX.XXX`IP 地址）和 VirtualBox（也提供`10.XXX.XXX.XXX`地址的 NAT 模式）上测试这个程序。但是，在这些情况下，我试图连接到`10.0.0.1`和。`12.0.0.1`两者都给`0.0.0.1`。

我究竟做错了什么？

更新：在 Java 中，套接字连接是通过通常的方法完成的：

```
Socket conn = new Socket("10.0.0.1", 50021); 
```

插入此 connect() 系统调用的代码如下：

```
int connect(int fd, const struct sockaddr *sk, socklen_t sl)
{
    struct sockaddr_in      *lsk_in  = (struct sockaddr_in *)  sk;
    struct sockaddr_in6     *lsk_in6 = (struct sockaddr_in6 *) sk;

    struct sockaddr_in      addr4;

    unsigned int            len;
    int                     nbytes, oport, tport, ret, i;
    char                    ip_address[30];
    char                    buffer[1024];   
    char                    tempBuffer[1024];   

    if((lsk_in->sin_family == AF_INET) || (lsk_in->sin_family == AF_INET6))
    {
        if(lsk_in->sin_family == AF_INET)
        {
            oport = ntohs(lsk_in->sin_port);
            memcpy(&addr4.sin_addr.s_addr, &lsk_in->sin_addr.s_addr, sizeof(addr4.sin_addr.s_addr));
        }
        else if(lsk_in->sin_family == AF_INET6)
        {
            oport = ntohs(lsk_in6->sin6_port);

            //This is where the problem is. I always get 0.0.0.1
            memcpy(&addr4.sin_addr.s_addr, lsk_in6->sin6_addr.s6_addr+12, sizeof(addr4.sin_addr.s_addr)); 
        }

        memset(buffer, '\0', sizeof(buffer));
        sprintf(buffer, "%s%c%s%c%i", NAT_VM_CONNECT_RULE, NAT_VM_DELIMITER, (char *)inet_ntoa(addr4.sin_addr), NAT_VM_DELIMITER, oport);

        nbytes = send(sock, buffer, strlen(buffer), 0);
        if(DEBUG_MODE)
            fprintf(stdout, "[LD_INTERPOSER] Sent[%s]\n", buffer);

        memset(buffer, '\0', sizeof(buffer));
        nbytes = recv(sock, buffer, sizeof(buffer), 0);

        fprintf(stderr, "[LD_INTERPOSER] Received CONNECT [%s]\n", buffer);

        memset(ip_address, '\0', sizeof(ip_address));
        int pos = strrchr(buffer, NAT_VM_DELIMITER) - buffer;

        strncpy(ip_address, buffer, pos);
        ip_address[pos] = '\0';
        tport = atoi(buffer + pos + 1);

        if(lsk_in->sin_family == AF_INET)
        {
            lsk_in->sin_addr.s_addr = inet_addr(ip_address + 7);
            lsk_in->sin_port = htons(tport);
        }
        else if(lsk_in->sin_family == AF_INET6)
        {
            inet_pton(AF_INET6, ip_address, &(lsk_in6->sin6_addr));
            lsk_in6->sin6_port = htons(tport);
        }

        fprintf(stderr, "[LD_INTERPOSER] IP[%s], Port[%d] for VM[%s]\n", ip_address, tport, vm_ip);
    }

    return real_connect(fd, sk, sl);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:20:30.077

感谢@ugoren 十六进制转储技术（在评论中），我能够弄清楚 IPv6 结构本身包含一个`0.0.0.1`地址。我意识到问题可能是由于不同的JDK。Java 项目是使用 OpenJDK 7 构建的，而我使用的 PC 使用的是 OpenJDK 6。当我将 JDK 更新到版本 7 时，错误消失了。但是，它使我遇到了另一个错误，该错误记录在一个新的[stackoverflow 问题](https://stackoverflow.com/questions/11202965/stack-smashing-in-java-interposer)中，我仍然无法解决。

# java - 垃圾收集器的疑惑

> ID：11239051
> 
> 赞同：0
> 
> 时间：2012-06-28T06:20:15.713
> 
> 标签：java, garbage-collection

我在这里有一些关于 java 垃圾收集器的问题。首先让我澄清一下我所理解的，`Java GC.` `GC`即当 JVM 启动时，后台线程将始终在后台运行。每个对象都有一个 finalize() 方法。该方法用于在对象被销毁之前释放系统资源。根据 java 专家的说法，我们不应该将资源放在 finalize() 方法中以释放系统资源。因为我们无法确定 GC 何时运行。但是我们可以`GC`通过调用来请求运行`System.GC()`。

所以现在我的问题是，`GC`后台线程是否将始终在后台运行。现在我们怎么能说我们不知道`GC`意志什么时候开始呢？难道这样的陈述`"we dont know when the GC will call finalize() method "` 就是那个意思吗？如果这就是他们的意思，那么工作是`GC`什么？`GC`的职责是找出未使用的变量并从内存中删除。在那种情况下，为什么`GC`也不能调用 finalize() 方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:31:43.150

> 现在我们怎么能说我们不知道 GC 什么时候会运行呢？

GC 的功能由复杂的算法处理，这取决于底层操作系统和硬件。我们不能说，因为如果一个人告诉一个特定的 JVM 版本，它对其他 JVM 是无效的。所以最好我们不能依赖它。

> GC的工作是什么。

GC 找到引用较少的对象（读取类型的 ref. 以获得更多）并回收它们使用的内存。

> 在那种情况下，为什么 GC 也不能调用 finalize() 方法？

所以肯定会调用 finalize 方法，但不确定何时。因为即使您在 JVM 中知道 finalize() 方法何时运行，您也永远不知道在其他 JVM 中何时运行。因此，如果您在 finalize 方法中处理一些非常昂贵的资源，您的程序可能会在其他 JVM 中崩溃。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:30:49.453

`finalize`简而言之，GC 会在不确定的时间运行，因此如果依赖释放它们，系统资源将不会被及时释放。当大多数程序逻辑应该很容易设计为在不再使用时简单地释放资源时，等待 GC 获取持有系统资源的对象的堆空间是没有意义的。

在一个有点相关的说明上。导致早期版本的 JVM 如此缓慢的问题之一是调用`finalize`. `finalize`因此，现代 JVM 将尽可能跳过调用。所以依赖`finalize`也可能会对性能产生影响。

# c# - 触发事件后的类变量可用性

> ID：11239052
> 
> 赞同：0
> 
> 时间：2012-06-28T06:20:16.307
> 
> 标签：c#, winforms, events, event-handling, scope

我是事件编程的新手，我显然误解了我正在尝试做的事情。

我有一个订阅来自另一个类的事件的 Windows 窗体应用程序。吨

```
//Class that provides event handler to Windows Forms application.
class Foo
{
  public string Value{get; set;}

  // Lots of other code

  public void OnEventFired(object sender, EventArgs e)
  {
     // Attempt to access variable Value here.
  }    
} 
```

从 Windows 窗体代码中，我首先`Value`在类中设置变量，`Foo`然后触发将执行上述代码的事件`OnEventFired`。

我看到的是，当在事件处理程序中使用时，该变量`Value`不包含在事件触发之前设置的值（`Value`为 null）。

我知道我可以扩展`EventArgs`以包含可变数据，但我试图理解为什么我正在做的事情不起作用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T06:25:44.120

这是一个有效的简短示例。将此与您的代码进行比较以找出问题所在。

```
using System;
using System.Windows.Forms;

class Foo
{
    public string Value { get; set; }

    public void HandleClick(object sender, EventArgs e)
    {
        ((Control)sender).Text = Value;
    }
}

class Program
{
    public static void Main()
    {
        Foo foo = new Foo { Value = "Done" };

        Button button = new Button { Text = "Click me!" };
        button.Click += foo.HandleClick;

        Form form = new Form
        {
            Controls = { button }
        };

        Application.Run(form);
    }
} 
```

我的*猜测*是您已经使用与`Foo`您设置`Value`的实例不同的实例连接了事件处理程序。例如，像这样：

```
Foo foo = new Foo { Value = "Done" };           
...
// Different instance of Foo!
button.Click += new Foo().HandleClick; 
```

...但是如果不看到更多代码就很难说。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T06:25:31.560

您无法访问该变量的唯一原因`Value`是

> 1.  `Value`未设置
> 2.  您正在绑定`event`到另一个实例，而不是`Value`已设置的实例。

最好的办法是获取`Value`in 构造函数，这样就可以保证`Value`设置了。

```
class Foo
{
    public string Value { get; set; }

    public Foo(Value value)
    {

    }

    public void HandleClick(object sender, EventArgs e)
    {
        ((Control)sender).Text = Value;
    }
} 
```

# coronasdk - 如何获取 DisplayObject 的颜色（填充）以响应 Corona SDK 中的触摸等事件？

> ID：11239054
> 
> 赞同：3
> 
> 时间：2012-06-28T06:20:40.237
> 
> 标签：coronasdk

谁能帮我找出如何在电晕中获得矩形的颜色？我已经用颜色填充了那个矩形，所以现在我想在触摸矩形时得到那个颜色。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-28T10:35:45.113

创建你的矩形：

```
local rectangle = display.newRect(0, 0, 100, 100) 
```

将您的颜色以 RGBA（您可以省略 A）格式放入表格中，并将其存储为矩形的“自定义属性”：

```
rectangle.fillColor = {110, 30, 25} 
```

通过返回表格值的 unpack 函数的魔力，将表格传递给 setFillColor：

```
rectangle:setFillColor( unpack(rectangle.fillColor) ) 
```

现在你总能得到这样的颜色：

```
print( unpack(rectangle.fillColor) ) --> 110    30    25 
```

或者

```
print( rectangle.fillColor ) -- simply returns the table 
```

或将每种颜色放入变量中：

```
local red, green, blue, alpha = unpack(rectangle.fillColor) 
```

你会看到这对其他事情也能派上用场。

**编辑**

刚刚想到了另一种很酷的方法，通过劫持 setFillColor 函数：

```
local function decorateRectangle(rect)
    rect.cachedSetFillColor = rect.setFillColor -- store setFillColor function

    function rect:setFillColor(...) -- replace it with our own function
        self:cachedSetFillColor(...)
        self.storedColor = {...} -- store color
    end

    function rect:getFillColor()
        return unpack(self.storedColor)
    end
end

local rectangle = display.newRect(0, 0, 100, 100)

decorateRectangle(rectangle) -- "decorates" rectangle with more awesomeness 
```

现在您可以使用 setFillColor 将颜色设置为正常，并使用 getFillColor 将其返回:)

```
rectangle:setFillColor(100, 30, 255, 255)

print(rectangle:getFillColor()) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-13T11:30:32.963

简而言之：您无法“获得”填充颜色。你必须自己保存它..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-16T07:23:21.783

这也是获取矩形颜色的另一种方法。

1.  创建一个颜色表

    ```
    local colors = {    {255,0,0},  {0,0,255},  {0,255,0},  {255, 255, 0},  {255,0,255}} 
    ```

2.  然后当你创建你的矩形时，让它看起来像这样：

    ```
    local rect = display.newRect(0, 0,100,100)
    rect.color = math.random(1,5)
    rect:setFillColor(unpack(colors[rect.color])) 
    ```

3.  现在，如果您想获得矩形的颜色，请这样做

    ```
    local appliedcolor = colors[rect.color]; 
    ```

感谢[https://forums.coronalabs.com/topic/18414-get-fill-color-of-an-object/](https://forums.coronalabs.com/topic/18414-get-fill-color-of-an-object/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-12T01:02:08.943

DisplayObject 的*许多*属性值，包括填充颜色的 RGB 值，可以使用[`object._properties`](https://docs.coronalabs.com/api/type/DisplayObject/properties.html). 在 Build 2014.2511 中添加了 DisplayObject 自省，即在提出此问题两年后。

该信息以 JSON 格式的字符串形式返回，因此该`json.*`库用于提取感兴趣的属性（properties）。

假设 DisplayObject 称为`object`，您将执行以下操作：

```
local json = require( "json" )
local decoded, pos, msg = json.decode( object._properties )
if not decoded then
    -- handle the error (which you're not likely to get)
else
    local fill = decoded.fill
    print( fill.r, fill.g, fill.b, fill.a )
end 
```

# html - 为什么这个文本没有居中？

> ID：11239059
> 
> 赞同：0
> 
> 时间：2012-06-28T06:21:07.083
> 
> 标签：html, css

由于某种原因，此文本没有居中。

```
#highlightheader
{
           background-color:#006600;
           color:white;
           font-size:30px;
           text-align:center; 
           font-weight:bold;
 }​

​&lt;span id="highlightheader">example text</span>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

[http://tinkerbin.com/eoJprUq5（jfiddle](http://tinkerbin.com/eoJprUq5)太慢了，改用这个）

编辑：我只希望突出显示文本，而不是整个绿色条。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:23:46.463

span 是一个内联标签，将 display:block 添加到 css [http://tinkerbin.com/oBgV5mcU](http://tinkerbin.com/oBgV5mcU)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T06:23:53.417

因为您使用 SPAN 而 span 是一个内联元素。使用 CSS 中的 display:block 或更好的 p-tag`<p>`或 div 宽度：100% 来使文本居中。

编辑：

```
#highlightheader {
    text-align:center;
}

#highlightheader span { 
    background-color:#006600; 
    color:white; 
    font-size:30px; 
    text-align:center;  
    font-weight:bold; 
}

<p id="highlightheader"><span>example text</span>​&lt;/p>​ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-28T06:23:57.007

跨度是一个内联元素，而像块元素一样`<div>`可以工作......或者添加`display: block;`到你的css。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-28T06:27:19.487

您应该在跨度周围使用 div，尤其是因为您需要在此处设置标题。如其他答案中所述，`span`应用于内联元素。您正在使用它来突出显示，但定位应该通过`div`.

试试看：

```
div.center{
   text-align:center;
}

#highlightheader
{
           background-color:#006600;
           color:white;
           font-size:30px; 
           font-weight:bold;
 }​

<div class=center>
​&lt;span id="highlightheader">example text</span>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​
</div> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-28T06:27:48.473

在. `display: block;`_ 是一个内联元素！`#highlightheader``<span>`

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-28T06:27:59.667

嗨，尝试将其与您的 CSS 一起使用

填充：0px 50px 0px 50px；

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-28T06:23:41.253

Span 是一个内联元素。这意味着它的宽度将自动适应其内容的大小。相反，将 span 更改为 ap 标签 - 一个块元素。块元素的默认值为 100% 的父元素。

[你可以在这里](http://tinkerbin.com/C0i4RUwz)看到一个演示

# javascript - 使用 post 方法加载位置

> ID：11239061
> 
> 赞同：0
> 
> 时间：2012-06-28T06:21:10.843
> 
> 标签：javascript, ajax

通常我们使用

```
window.location.href="/index.php?querystring"; 
```

在 JavaScript 中。有没有办法通过 post 方法发送查询字符串，而文档中没有任何形式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:51:45.873

您需要使用它`XMLHttpRequest`来执行此操作。

演示：http: [//jsfiddle.net/ThinkingStiff/bCnuE/4/](http://jsfiddle.net/ThinkingStiff/bCnuE/4/)

脚本：

```
function post( url, data, success, error ) {

    var ajax = new window.XMLHttpRequest();

    ajax.onreadystatechange = function () {
        if ( ajax.readyState == 4 ) { //response ready

            if ( ajax.status == 200 ) { //success
                if ( success ) success( ajax.responseText, ajax.statusText );
            } else {
                if ( error ) error( ajax.statusText );
            };
        };
    };

    ajax.open( 'POST', url );
    ajax.send( data );

};

post( '/index.php', 'querystring', 
    function ( response, status ) {
        //success'
    },
    function ( error ) {
        //error'
    } 
); 
```

# html - 我们是否可以从页面源生成 url？

> ID：11239065
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:21:25.227
> 
> 标签：html

我知道这个问题很奇怪，但无论如何我想知道，

在网络浏览器中，或者通常我们可以知道`page source`url，但我有一些页面源（HTML 代码），现在我不知道该页面源的 url。我们可以从该页面源生成一个 url，还是有办法或任何我们可以做的事情来从页面源获取一个 url？

当我搜索时，我得到了`page source from a url`，所以我在这里问。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:24:50.250

在 Chrome 中，您可以通过在 url 前面加上 . 查看任何网页的来源`view-source:`。据我所知，这是唯一允许您执行此操作的浏览器；例如，Safari 和 Firefox 会在弹出窗口中显示源代码，而不能在常规窗口中访问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T11:50:56.600

如果@Wex 的回答朝着正确的方向前进，并根据您的评论，那么我会回答这个问题。

您可以获得 FireFox 的“Web Developers Toolbar”插件，其中包含“查看生成的源代码”选项

![在此处输入图像描述](../Images/9cd310140647194c92e524d041bcb598.png)

这与选择整个页面并在 FF 中使用“查看所选源”相同。这将为您提供该页面的 DOM，包括 javascript 渲染代码。

如果您问是否有办法从源代码中获取原始网址，答案是否定的。为什么？因为谷歌不搜索源代码，它搜索内容。也可能有一千个不同的网站使用该代码的片段。

# php - Zend_Gdata_Calendar : 从谷歌日历获取过去的事件

> ID：11239070
> 
> 赞同：0
> 
> 时间：2012-06-28T06:21:36.603
> 
> 标签：php

我正在使用下面的代码从谷歌日历中获取事件。但我无法获取过去的事件，

```
$gdataCal = new Zend_Gdata_Calendar($client);
$query = $gdataCal->newEventQuery();
$query->setUser('default');
$query->setVisibility('private');
$query->setProjection('composite');
$query->setOrderby('starttime');
$query->setSortOrder('ascending');
$query->setFutureevents('true');
$query->setParam('singleevents','true');
$eventFeed = $gdataCal->getCalendarEventFeed($query); 
```

请帮我找到所有事件。

**注意：它不是 Zend Framework 项目，只是在另一个项目中使用 Zend 库**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:32:13.263

发布我的问题后已经这么多天了，我什至没有得到评论。我花了很多时间来解决这些问题并找到了解决方案。我认为它非常接近我的问题。

```
$query->setStartMin('2006-12-01');
$query->setStartMax('2014-12-16'); 
```

这将获取从该开始时间到最大时间的事件。

```
 $query->setStartMin('2006-12-01'); 
```

以上将作为从凝视时间到未来事件的获取事件，没有时间限制。

**注意：注意删除“$query->setFutureevents('true')”，因为 futureevents 将覆盖 startMin 和 startMax。**

请查找更多[http://framework.zend.com/manual/en/zend.gdata.calendar.html](http://framework.zend.com/manual/en/zend.gdata.calendar.html)

# rendering - 与特立尼达 JSF 不一致的渲染问题

> ID：11239073
> 
> 赞同：0
> 
> 时间：2012-06-28T06:22:18.257
> 
> 标签：rendering, jsf-1.2, trinidad

我在 JSF 页面中出现不一致的呈现错误。我正在使用特立尼达框架。

以下是日志，请帮忙

```
[6/28/12 11:44:56:124 IST] 00000020 FileRepositor A   ADMR0010I: Document cells/DHZVYYR1Node01Cell/applications/project-ear.ear/deployments/project-ear/META-INF/ibm-application-runtime.props is modified.
[6/28/12 11:46:42:716 IST] 00000024 compiler      I   Added Library from: wsjar:file:/C:/Users/ashishagarwal/IBM/rationalsdp/workspace/project/WebContent/WEB-INF/lib/jsf-facelets-1.1.14.jar!/META-INF/jsf-core.taglib.xml
[6/28/12 11:46:42:720 IST] 00000024 compiler      I   Added Library from: wsjar:file:/C:/Users/ashishagarwal/IBM/rationalsdp/workspace/project/WebContent/WEB-INF/lib/jsf-facelets-1.1.14.jar!/META-INF/jsf-html.taglib.xml
[6/28/12 11:46:42:728 IST] 00000024 compiler      I   Added Library from: wsjar:file:/C:/Users/ashishagarwal/IBM/rationalsdp/workspace/project/WebContent/WEB-INF/lib/jsf-facelets-1.1.14.jar!/META-INF/jsf-ui.taglib.xml
[6/28/12 11:46:42:735 IST] 00000024 compiler      I   Added Library from: wsjar:file:/C:/Users/ashishagarwal/IBM/rationalsdp/workspace/project/WebContent/WEB-INF/lib/jsf-facelets-1.1.14.jar!/META-INF/jstl-core.taglib.xml
[6/28/12 11:46:42:738 IST] 00000024 compiler      I   Added Library from: wsjar:file:/C:/Users/ashishagarwal/IBM/rationalsdp/workspace/project/WebContent/WEB-INF/lib/jsf-facelets-1.1.14.jar!/META-INF/jstl-fn.taglib.xml
[6/28/12 11:46:42:747 IST] 00000024 compiler      I   Added Library from: wsjar:file:/C:/Users/ashishagarwal/IBM/rationalsdp/workspace/project/WebContent/WEB-INF/lib/trinidad-impl-1.2.9.jar!/META-INF/tr.taglib.xml
[6/28/12 11:46:42:748 IST] 00000024 compiler      I   Added Library from: wsjar:file:/C:/Users/ashishagarwal/IBM/rationalsdp/workspace/project/WebContent/WEB-INF/lib/trinidad-impl-1.2.9.jar!/META-INF/trh.taglib.xml
[6/28/12 11:46:43:257 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreDocument[UIXFacesBeanImpl, id=j_id0] rendererType = org.apache.myfaces.trinidad.Document
[6/28/12 11:46:43:257 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreForm[UIXFacesBeanImpl, id=j_id2] rendererType = org.apache.myfaces.trinidad.Form
[6/28/12 11:46:43:258 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id4] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:258 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id5] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:258 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id6] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:258 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id7] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:258 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id9] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:259 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id10] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:259 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id11] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:259 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id13] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:259 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id14] rendererType = org.apache.myfaces.trinidad.Link
[6/28/12 11:46:43:259 IST] 00000024 UIXComponentB W org.apache.myfaces.trinidad.component.UIXComponentBase _getRendererImpl Could not find renderer for CoreCommandLink[UIXFacesBeanImpl, id=j_id15] rendererType = org.apache.myfaces.trinidad.Link 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:48:35.827

得到解决方案这里是参考链接，下面是相关解决方案
[http://mail-archives.apache.org/mod_mbox/myfaces-users/200707.mbox/%3C71235db40707151015r55fe85a0o354c7e6e446a2515@mail.gmail.com%3E](http://mail-archives.apache.org/mod_mbox/myfaces-users/200707.mbox/%3C71235db40707151015r55fe85a0o354c7e6e446a2515@mail.gmail.com%3E)

2007 年 7 月 15 日，Burghard Britzke 写道：

> 谢谢你！那是错。是否有可用的文档如何设置 trinidad jsf 应用程序？以及如何使用皮肤？
> 
> 2007 年 7 月 15 日上午 17:19 施里布西蒙莱萨德：
> 
> 嗯，
> 
> 关于 trinidad-config.xml，我不会认为它是可选的，因为您很可能需要在实际应用程序中使用非简单皮肤。关于您的错误，我认为您的 faces-config.xml 中可能缺少以下内容：

```
<application>

 <default-render-kit-id>org.apache.myfaces.trinidad.core</default-render-kit-id>
  </application> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-11T14:44:27.623

[如果您使用的是 eclipse，您可以按照此Initial Setup Guide](http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.jst.jsf.doc.user/html/gettingstarted/trinidad/trinidad_initialsetupguide.html)一步一步进行操作。

**不要忘记！必需的补充：**

需要对 Web 应用程序的描述符进行以下添加以配置 Trinidad 的资源 servlet（在运行时提供样式表、脚本和图像）：

```
 <servlet>
    <servlet-name>resources</servlet-name>
    <servlet-class>org.apache.myfaces.trinidad.webapp.ResourceServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>resources</servlet-name>
    <url-pattern>/adf/*</url-pattern>
  </servlet-mapping> 
```

需要对 Web 应用程序的描述符进行以下添加以配置 Trinidad 的过滤器：

```
 <filter>
    <filter-name>trinidad</filter-name>
    <filter-class>org.apache.myfaces.trinidad.webapp.TrinidadFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>trinidad</filter-name>
    <servlet-name>faces</servlet-name>
  </filter-mapping> 
```

**注意：** *上面显示的过滤器映射假定标准 JSF servlet 的 servlet-name 指定为“faces”——这可能因用户设置而异，因此应适当指定。*

需要对 JSF 应用程序配置资源进行以下添加，以配置 Trinidad 的核心 RenderKit：

```
<application>
  <default-render-kit-id>org.apache.myfaces.trinidad.core</default-render-kit-id>
</application> 
```

# mysql - MYSQL 需要更快的查询

> ID：11239075
> 
> 赞同：1
> 
> 时间：2012-06-28T06:22:29.073
> 
> 标签：mysql, optimization, indexing, query-optimization

我有两张表，其中一张将 id 与评级相匹配，其中一张的 id 包含大约 15 列中的实际数据。在数据表中，id 列有一个索引，在评级表中，id 是主键，评级是索引的。我想选择数据，但只能从具有正面评价的行中选择。为此，我正在使用查询

```
SELECT * FROM data_table 
  INNER JOIN rating_table ON data_table.id = rating_table.id
  WHERE rating > 0 
```

但由于某种原因，这大约需要 0.35 秒，这对我来说似乎**很**长。数据表中大约有 90,000 行，而评级表中大约有 5,000 行，这需要花费的时间甚至不到十分之一秒……我怎样才能以不同的方式索引或以不同的方式查询来加快这项任务？

*编辑：* 分析后它给了我以下信息。请注意，我认为它已被缓存，因此查询返回的速度比以前快得多，但即便如此，这可能对某人有用

```
0.000012 starting   
0.000053 checking query cache for query     
0.000014 Opening tables     
0.000006 System lock    
0.000027 Table lock     
0.000044 init   
0.000018 optimizing     
0.000060 statistics     
0.000016 preparing  
0.000004 executing  
0.004916 Sending data   
0.000007 end    
0.000003 query end  
0.002271 freeing items  
0.000009 storing result in query cache  
0.000002 logging slow query     
0.000004 cleaning up 
```

所以我看到很多时间都花在发送数据上……我怎样才能加快这部分的速度？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T06:44:49.307

您的问题没有确切的解决方案，但在没有看到实际表结构的情况下提供一些建议：*正确分析您的查询。*

MySQL 有一个内置分析器，它允许您非常详细地查看查询的哪一部分花费了多少时间。

在您的情况下，请按照下列步骤操作：

(1) 执行您的查询。

(2) 找出用于分析的查询 id：

```
SHOW PROFILES; 
```

它会返回给你这样的东西：

```
Query_ID |  Duration | Query
---------+-----------+-----------------------
   2     | 0.0006200 | SHOW STATUS
   3     | 0.3600000 | (your query here)
  ...    | ...       | ... 
```

现在您知道查询 id 是 (3)。

(3) 分析查询。

```
SHOW PROFILE FOR QUERY 3;   // example 
```

这将返回您的详细信息，可能如下所示：

```
Status                          | Duration
--------------------------------+-------------------
starting                        | 0.000010
checking query cache for query  | 0.000078
Opening tables                  | 0.000051
System lock                     | 0.000003
Table lock                      | 0.000008
init                            | 0.000036
optimizing                      | 0.000020
statistics                      | 0.000013
preparing                       | 0.000015
Creating tmp table              | 0.000028
executing                       | 0.000602
Copying to tmp table            | 0.000176
Sorting result                  | 0.000043
Sending data                    | 0.080032
end                             | 0.000004
removing tmp table              | 0.000024
end                             | 0.000006
query end                       | 0.000003
freeing items                   | 0.000148
removing tmp table              | 0.000019
closing tables                  | 0.000005
logging slow query              | 0.000003
cleaning up                     | 0.000004 
```

在这个例子中，大部分时间实际上是花在将数据从服务器发送回客户端。

如果您已完成此操作，可能会更新您的问题以显示结果。也许还可以添加数据结构。

# vb.net - 数据集复制函数中的错误

> ID：11239083
> 
> 赞同：0
> 
> 时间：2012-06-28T06:23:02.377
> 
> 标签：vb.net

我正在尝试使用复制功能将一个数据集复制到另一个数据集

```
dsSave = dBindset.copy 
```

但是在这些 dsSave 中，所有数据都被复制了，但只有一个单元格数据没有被复制..

这是什么原因？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:30:39.250

`AcceptChanges()`在打电话之前尝试打电话`Copy`。

```
dBindset.AcceptChanges()
dsSave = dBindset.copy() 
```

# java - java.lang.UnsupportedClassVersionError 不支持的 major.minor 版本 51.0

> ID：11239086
> 
> 赞同：141
> 
> 时间：2012-06-28T06:23:16.197
> 
> 标签：java, jdk1.6, unsupported-class-version

我正在尝试构建一个应用程序，但它给出了一些错误。我的JDK版本如下：

```
java version "1.6.0_30"
Java(TM) SE Runtime Environment (build 1.6.0_30-b12)
Java HotSpot(TM) Client VM (build 20.5-b03, mixed mode, sharing) 
```

这是我的错误日志：

```
Buildfile: build.xml

compile:
     [echo] Compiling the service....
     [echo]   ...mkdir for classes first....
     [echo]   ...java classes next....
     [echo]   ...mkdir for generated code next....
     [echo]  ...generate stubs/skeletons next....
[wscompile] command line: wscompile -d /home/vivekray/program/MTrans/WEB-INF/classes -features:wsi,documentliteral -gen:server -keep -model /home/vivekray/program/MTrans/WEB-INF/model.gz -verbose -Xprintstacktrace /home/vivekray/program/MTrans/src/config.xml -classpath /home/vivekray/program/MTrans/WEB-INF:/home/vivekray/program/MTrans/WEB-INF/classes:/home/vivekray/program/MTrans/lib/log4j-1.2.16.jar:/home/vivekray/jwsdp-2.0/jwsdp-shared/lib/mail.jar:/home/vivekray/jwsdp-2.0/jwsdp-shared/lib/activation.jar:/home/vivekray/jwsdp-2.0/jaxp/lib/jaxp-api.jar:/home/vivekray/jwsdp-2.0/jaxp/lib/endorsed/dom.jar:/home/vivekray/jwsdp-2.0/jaxp/lib/endorsed/sax.jar:/home/vivekray/jwsdp-2.0/jaxp/lib/endorsed/xalan.jar:/home/vivekray/jwsdp-2.0/jaxp/lib/endorsed/xercesImpl.jar:/home/vivekray/jwsdp-2.0/jaxrpc/lib/jaxrpc-api.jar:/home/vivekray/jwsdp-2.0/jaxrpc/lib/jaxrpc-spi.jar:/home/vivekray/jwsdp-2.0/jaxrpc/lib/jaxrpc-impl.jar:/home/vivekray/jwsdp-2.0/saaj/lib/saaj-api.jar:/home/vivekray/jwsdp-2.0/saaj/lib/saaj-impl.jar:/home/vivekray/jwsdp-2.0/jwsdp-shared/lib/relaxngDatatype.jar:/home/vivekray/jwsdp-2.0/jwsdp-shared/lib/xsdlib.jar:/home/vivekray/jwsdp-2.0/jwsdp-shared/lib/jax-qname.jar:/home/vivekray/jwsdp-2.0/apache-ant/lib/ant.jar:/home/vivekray/jwsdp-2.0/fastinfoset/lib/FastInfoset.jar:/home/vivekray/Softwares/apache-tomcat-7.0.27/lib/servlet-api.jar
[wscompile] [creating model: mtransservice]
[wscompile] [creating service: Mtransservice]

BUILD FAILED
java.lang.UnsupportedClassVersionError: in/cdac/mobile/computing/mtrans/MtransService : Unsupported major.minor version 51.0
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
    at org.apache.tools.ant.AntClassLoader.defineClassFromData(AntClassLoader.java:1146)
    at org.apache.tools.ant.AntClassLoader.getClassFromStream(AntClassLoader.java:1324)
    at org.apache.tools.ant.AntClassLoader.findClassInComponents(AntClassLoader.java:1388)
    at org.apache.tools.ant.AntClassLoader.findClass(AntClassLoader.java:1341)
    at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:1088)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:295)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Class.java:247)
    at com.sun.xml.rpc.processor.modeler.rmi.RmiUtils.getLoadableClassName(RmiUtils.java:78)
    at com.sun.xml.rpc.processor.modeler.rmi.RmiUtils.getRealName(RmiUtils.java:54)
    at com.sun.xml.rpc.processor.modeler.rmi.RmiModeler.modelPort(RmiModeler.java:676)
    at com.sun.xml.rpc.processor.modeler.rmi.RmiModeler.buildLiteralModel(RmiModeler.java:603)
    at com.sun.xml.rpc.processor.modeler.rmi.RmiModeler.buildModel(RmiModeler.java:457)
    at com.sun.xml.rpc.processor.config.ModelInfo.buildModel(ModelInfo.java:88)
    at com.sun.xml.rpc.processor.Processor.runModeler(Processor.java:63)
    at com.sun.xml.rpc.tools.wscompile.CompileTool.run(CompileTool.java:714)
    at com.sun.xml.rpc.util.ToolBase.run(ToolBase.java:43)
    at com.sun.xml.rpc.tools.ant.Wscompile.execute(Wscompile.java:746)
    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
    at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
    at org.apache.tools.ant.Task.perform(Task.java:348)
    at org.apache.tools.ant.Target.execute(Target.java:357)
    at org.apache.tools.ant.Target.performTasks(Target.java:385)
    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
    at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
    at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
    at org.apache.tools.ant.Main.runBuild(Main.java:758)
    at org.apache.tools.ant.Main.startAnt(Main.java:217)
    at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
    at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)

Total time: 1 second 
```

* * *

## 回答 #1

> 赞同：254
> 
> 时间：2012-06-29T15:43:47.427

这些家伙给了你失败的原因，但没有告诉你如何解决它。即使您有一个与您尝试使用的 JVM 匹配的 jdk，也可能会出现此问题。

项目 -> 属性 -> Java 编译器

启用项目特定设置。

然后选择 Compiler Compliance Level 为 1.6 或 1.5，构建并测试您的应用程序。

现在，应该没问题了。

* * *

## 回答 #2

> 赞同：238
> 
> 时间：2012-06-28T06:27:20.927

`java.lang.UnsupportedClassVersionError`发生的原因是编译时 JDK 较高，而运行时 JDK 较低。

以下是版本列表：

```
Java SE 9 = 53,
Java SE 8 = 52,
Java SE 7 = 51,
Java SE 6.0 = 50,
Java SE 5.0 = 49,
JDK 1.4 = 48,
JDK 1.3 = 47,
JDK 1.2 = 46,
JDK 1.1 = 45 
```

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2012-06-28T06:29:31.643

版本 51 是 Java 7，您可能使用了错误的 JDK。检查 JAVA_HOME。

[如此处所述，在二进制兼容性下](http://www.oracle.com/technetwork/java/javase/compatibility-417013.html)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-28T06:29:12.360

这意味着您在*特定的 JDK*下编译了您的类，然后尝试在*旧版本*的 JDK 下运行它们。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-11-26T19:39:31.137

我遇到了同样的问题，当 jdk 1.7 用于编译然后 jre 1.4 用于执行。

我的解决方案是通过在现有 PATH 设置前面添加路径名 C:\glassfish3\jdk7\bin 来设置环境变量 PATH。更新后的值为“C:\glassfish3\jdk7\bin;C:\Sun\SDK\bin”。更新后，问题消失了。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-28T08:12:20.573

确保在编译/运行时使用正确的 SDK，并且确保使用源/目标 1.7。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-12-02T15:42:47.550

使用 Maven 并使用[maven-compiler-plugin](http://maven.apache.org/plugins/maven-compiler-plugin/)显式调用实际正确版本的 JDK javac.exe 命令，因为 Maven 可以运行任何版本；这也捕获*了 javac 中一个非常愚蠢的长期存在的错误，它在为早期的 java 版本编译时没有发现运行时破坏类版本 jar 和缺少类/方法/属性*！这后面的部分可以很容易地在 Java 1.5+ 中通过向新类、方法和属性添加版本控制属性或单独的编译器版本控制数据来修复，所以 Sun 和 Oracle 的一个非常愚蠢的疏忽也是如此。

# wcf - 如何为 wsHttpBinding 进行流式传输和分块

> ID：11239089
> 
> 赞同：0
> 
> 时间：2012-06-28T06:23:39.720
> 
> 标签：wcf, file-upload, wshttpbinding, chunking

我需要使用 WCF 将大文件（3-4 Gb）从客户端传输到服务器，但已经存在的绑定是 wsHttpBidning。我必须使用事物绑定。使用自定义绑定也是不可行的。需要一些关于如何通过在服务端添加一个操作并从客户端调用该方法来实现它的想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:37:18.070

缓冲 3-4 GB 数据可能会导致服务器宕机，wsHttp 不支持流式传输，因此更好的流式传输选择是使用

```
1> HTTP binding in streaming mode with MTOM encoding 
2> TCP binding in streaming mode. 
```

# java - javac：在 Solaris 中找不到文件

> ID：11239092
> 
> 赞同：0
> 
> 时间：2012-06-28T06:23:47.213
> 
> 标签：java, solaris, javac

我想运行 javac 来编译 Solaris 区域中的多个文件，我可以手动完成，但下面的代码不起作用：

```
try {
        File directory = new File(dir);
        ProcessBuilder builder = new ProcessBuilder(dirJava, allfiles);
        builder.directory(directory);
        builder.redirectErrorStream(true);
        Process process = builder.start();

        InputStreamReader isr = new  InputStreamReader(process.getInputStream());
        BufferedReader br = new BufferedReader(isr);
        String lineRead;
        while ((lineRead = br.readLine()) != null) {
            System.out.println("> "+lineRead);
        }
        process.waitFor();
    }
    catch (IOException e) {
        System.out.println("Could not convert files: "+e.getMessage());
    } 
```

在 ProcessBuilder 创建中

dirJava = "/usr/jdk/instances/jdk1.6.0/bin/javac"

dir = "/opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/"

allfiles（以下 15 个完整文件路径的串联）=

> "/opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/StringWrapper.java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/DistanceInstanceIterator.java / opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/StringDistance.java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/StringWrapperIterator.java /opt glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/Tokenizer.java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/Jaccard。java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/BasicToken.java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/BasicStringWrapper.java opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/StringDistanceLearner.java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/DataTownMain.java /opt/ glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/BagOfTokens.java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/Token。java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/SimpleTokenizer.java /opt/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/AbstractStringDistance.java选择/glassfish3/glassfish/domains/domain1/temp/1b504235dc6be0558532a7b7bf27/methods/String_Distance/u/DistanceInstance.java"

javac 的进程错误：找不到文件：/opt/glassfish3/glassfish/domains/...'（错误在此处列出了所有 15 个文件的完整路径）

但是，如果我进入命令提示符中的“dir”目录并键入带有空格的“javac”，则来自文件未找到错误消息（逐字复制）的完整 15 个文件路径该命令有效并为所有这些生成 .class 文件与 .java 文件位于同一目录中的文件。（我检查了代码中的 allfiles 和 dir 变量中没有前导或尾随空格）。

我想可能是因为 'dir' 中的最后一个目录是在运行时基于 sessionId 创建的，所以我尝试了 'dir' = "/opt/glassfish3/glassfish/domains/domain1/temp/" （在运行之前存在-时间），它仍然失败，但如果我再次手动进入该目录并简单地键入 javac 和完整的 15 个文件路径名，它就可以工作。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T01:42:47.687

好的，所以我发现我犯了一个简单的错误 - 而不是将多个文件路径连接到“所有文件”并将其作为单个参数传递，我需要将每个文件路径作为其自己的参数传递给 ProcessBuilder，或者将所有参数传递为数组。

# python - 如何在拟合函数时更新 matplotlib 图？

> ID：11239095
> 
> 赞同：0
> 
> 时间：2012-06-28T06:24:05.413
> 
> 标签：python, matplotlib

我编写了一个 python 脚本，它打开 UV-Vis 光谱并尝试用大量函数来拟合它们。但是，我希望在找到最小残差时将拟合步骤显示在图中。Stackoverflow 实际上有一些涉及这个想法的示例（http://stackoverflow.com/questions/4098131/matplotlib-update-a-plot），但由于某种原因，这种方法对我来说效果不佳。我所说的“工作不太好”的意思是绘图窗口不响应脚本中发生的更新。我试图将我的代码缩减为更易于理解、仍然可以编译的代码，但也比示例更接近我的代码，如下所示。

重新表述我的问题：有没有更好的方法通过拟合过程来刷新这种类型的屏幕，以使窗口不会变成“（不响应）”？

这是我的简化代码：

```
# import modules that I'm using
import matplotlib
matplotlib.use('GTKAgg')
import Tkinter
from Tkinter import *
import numpy as np
import scipy as sc
import matplotlib.pyplot as pltlib
# lmfit is imported becuase parameters are allowed to depend on each other along with bounds, etc.
from lmfit import minimize, Parameters, Minimizer

#If button is pressed on the window, open a file and get the data
def open_File():
    # file is opened here and some data is taken
    # I've just set some arrays here so it will compile alone
    x=[]
    y=[]
    for num in range(0,1000):x.append(num*.001+1)
    # just some random function is given here, the real data is a UV-Vis spectrum
    for num2 in range(0,1000):y.append(sc.math.sin(num2*.06)+sc.math.e**(num2*.001))
    X = np.array(x)
    Y = np.array(y)

    # plot the initial data in one figure
    pltlib.ion()
    pltlib.interactive(True)
    pltlib.figure(1)
    pltlib.plot(X,Y, "r-")
    pltlib.show()

    #deconvolute this initial data into deveral lorentzian profiles
    deconvolute(X,Y)

#lorentz line for constructing the more complex function
def lorentz(x, amp, center, width):
    return amp*1/sc.math.pi*(width/((x-center)**2+width**2))

def deconvolute(X,Y):
    #make 2nd figure for the refreshing screen
    deconvFig = pltlib.figure(2)
    ax = deconvFig.add_subplot(111)
    line1,line2=ax.plot(X,Y,'r-',X,Y,'r-')

    # setup parameters for several (here is 30, I potentially hae many more in the real program)
    params = Parameters()
    for p in range(0,30):
        params.add('amp' + str(p), value=1)
        params.add('center' + str(p), value=1)
        params.add('width' + str(p), value=1)

    #get residual function for minimizing
    def residual(params, X, data=None):
        model = 0
        # get values for each lorentz and sum them up
        for p in range(0,30):
            amp = params['amp' + str(p)].value
            center = params['center' + str(p)].value
            width = params['width' + str(p)].value
            tmpLorentz = lorentz(X, amp, center, width)
            model = model + tmpLorentz

        # This is where the main problem is.
        # This 2nd figure stops responding after a very small (1?) number of iterations
        ########################################
        # I want redraw the figure at every step through the fitting process
        line2.set_ydata(model)
        deconvFig.canvas.draw()
        print 'screen should be refreshed'
        ########################################

        return (data - model)

    #fit the function to the data
    result = minimize(residual, params, args=(X, Y))
    print 'done fitting the program'

#create a window with a button
MainWindow = Tk()
Button(text='Open a File', command=open_File).pack(side=BOTTOM)
MainWindow.mainloop() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:25:48.710

有趣的是，我尝试运行一个简单的测试。

```
import time
from matplotlib import pyplot as pltlib
deconvFig = pltlib.figure(2)
ax = deconvFig.add_subplot(111)
X, Y = range(10), range(10)
line1,line2 = ax.plot(X,Y,'r-',X,Y,'r-')
for x in xrange(2, 6, 1):
    line2.set_ydata(range(0, 10*x, x))
    deconvFig.canvas.draw()
    time.sleep(2)

>>> import matplotlib
>>> matplotlib.__version__
'1.1.0' 
```

并且它按预期工作。
也许是因为您生成了第二个数字。

```
import time
from matplotlib import pyplot as pltlib

pltlib.ion()
pltlib.interactive(True)
pltlib.figure(1)
pltlib.plot(range(10),range(10), "r-")
pltlib.show()

deconvFig = pltlib.figure(2)
ax = deconvFig.add_subplot(111)
X, Y = range(10), range(10)
line1,line2 = ax.plot(X,Y,'r-',X,Y,'r-')
for x in xrange(2, 6, 1):
    line2.set_ydata(range(0, 10*x, x))
    deconvFig.canvas.draw()
    time.sleep(2) 
```

不，仍然可以正常工作。
这可能是我的设置。

虽然它也有可能以非常慢的速度最小化，所以当你绘制更新时你无法分辨出差异，你可以计算 RMSE 看看差异有多大

```
print numpy.sqrt(numpy.sum((data - model)**2)/model.shape[0])/numpy.mean(data) * 100 
```

另外我通常使用 scipy 的最小化功能[http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html](http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html)因为它可以最小化大多数功能，尽管它通过随机改变输入来工作，所以我不知道它能有多快，但它可以应用在很多很多情况下。

我希望这有帮助。

# javascript - jquery根据下拉菜单中的选择创建和删除字段

> ID：11239097
> 
> 赞同：0
> 
> 时间：2012-06-28T06:24:13.093
> 
> 标签：javascript, jquery

我需要使用 jquery 根据用户从下拉菜单中的选择来添加和删除输入字段。我能够实现添加输入字段功能。但是对删除部分感到困惑。谁能给我一些建议？这是[演示](http://jsfiddle.net/xrP74/23/) HTML 代码：

```
<div class="form-fields">

<table>
<tr><th><label for="id_NOA">Number of Applications:</label></th><td><select name="NOA" id="id_NOA">
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>

</select></td></tr>

<tr><th><label for="id_Ap_m">Application method 1:</label></th><td><select name="Ap_m" id="id_Ap_m">
<option value="" selected="selected">Select an application method</option>
<option value="1">Aerial</option>
<option value="2">Ground Sprayer</option>
</select></td></tr>

<tr><th><label for="id_Ar">Application rate:</label></th><td><input type="text" name="Ar" value="1" id="id_Ar" /></td></tr>

</table>

</div> 
```

jQuery代码：

```
$(document).ready(function() {
    i = 2;
    $("label[for='id_Ar']").html('Application rate 1:');   
    $('#id_NOA').change(function() {   
        var count_c = $(this).val();   
        while (i <= count_c) {
            if (i <= count_c) {    
                $('<tr><th><label for="id_Ap_m">Application method ' + i + ':</label></th><td><select name="Ap_m" id="id_Ap_m"><option value="" selected="selected">Select an application method</option><option value="1">Aerial</option><option value="2">Ground Sprayer</option></select></td></tr>').appendTo("table");    
                $('<tr><th><label for="id_Ar">Application rate ' + i + ':</label></th><td><input type="text" name="Ar" value="1" id="id_Ar" /></td></tr>').appendTo("table");
                i++;
            }

//this is the part I could not make it work
            if (i>count_c){

                $('.form-fields:last').remove();
                i--;

            }
        }
    });

});​ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:41:32.837

你想要这样的[http://jsfiddle.net/slash197/a98U8/5/](http://jsfiddle.net/slash197/a98U8/5/)吗？

```
$(document).ready(function() {

    $('#id_NOA').change(function(){

        var total = $(this).val();

        //remove all
        $('.app_method').each(function(index){
            if (index != 0) $(this).remove();
        });
        $('.app_rate').each(function(index){
            if (index != 0) $(this).remove();
        });

        //create new ones
        for (var i = 2; i <= total; i++)
        {
            $('.app_method:first').clone().appendTo('table');
            $('.app_rate:first').clone().appendTo('table');
        }

    });

});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<div class="form-fields">
    <table>
        <tr>
            <th><label for="id_NOA">Number of Applications:</label></th>
            <td>
                <select name="NOA" id="id_NOA">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
            </td>
        </tr>
        <tr class="app_method">
            <th><label>Application method 1:</label></th>
            <td>
                <select name="Ap_m">
                    <option value="" selected="selected">Select an application method</option>
                    <option value="1">Aerial</option>
                    <option value="2">Ground Sprayer</option>
                </select>
            </td>
        </tr>
        <tr class="app_rate">
            <th><label>Application rate:</label></th>
            <td><input type="text" name="Ar" value="1" /></td>
        </tr>
    </table>
</div>
```

# jsp - 如何在struts 2中显示地图

> ID：11239101
> 
> 赞同：0
> 
> 时间：2012-06-28T06:24:33.437
> 
> 标签：jsp, map, struts2

我有一张地图`

> { key1=[button1,button2,button3,button4],key2=[button1],key3=[button1,button2],key4=[button1,button2,button3]}

` 我想在我的 jsp 中显示这个地图内容，如下所示![在此处输入图像描述](../Images/276148ea0ae939ac8b7a0121cef3b97a.png)

如何在 struts 2 标签中执行此操作....请帮我解决这个问题....提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T00:12:19.767

此代码将遍历您的地图以及地图值数组中的每个元素。

```
<s:iterator value="map">
    <s:property value="key"/>
    <s:iterator value="value">
        <s:property/>
    </s:iterator>
</s:iterator> 
```

# mongodb - MongoDB MapReduce 每个键有很多 emit()

> ID：11239108
> 
> 赞同：2
> 
> 时间：2012-06-28T06:24:59.080
> 
> 标签：mongodb, mapreduce

是否`emit()`保证将同一键的所有 s 发送到 reduce 函数？

例如，如果您有 100 万个文档，`emit()`每个文档只有一次，但只有 10 个可能的`emit()`键（均匀分布），reduce 函数会在一次调用中被 100k 排放量猛烈抨击吗？

或者 mongo 会将这些拆分并逐渐减少结果？如果是这样，它如何决定向 reduce 发送多少值？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T15:42:11.630

同一个键的所有 emit() 将被发送到 reduce 函数，但它们不一定会立即发送到 reduce 函数（如果为特定键发出单个文档，则该文档不会传递给reduce函数）。对于同一个键，Reduce 可能会被多次调用，这就是为什么 reduce 函数的结果必须与 map 函数发出的文档结构相匹配的原因。

我将尝试找出更多关于 mongo 在将文档传递给 reduce 函数之前如何以及何时拆分文档背后的逻辑的信息。

# linux - 未定义的引用 ' '

> ID：11239109
> 
> 赞同：0
> 
> 时间：2012-06-28T06:25:04.450
> 
> 标签：linux, rpc, undefined-reference

我有一个 rpcgen 生成的文件 'api_svc1.c' 该文件包含以下行：

```
local = (char *(*)(char *, struct svc_req *)) createacct_5_svc; 
```

'createacct_5_sv' 在 'api.h' 中声明为

```
createAcctResult * createacct_5_svc(); 
```

但即使包含头文件'api.h'，我也会收到以下错误：

```
api_svc1.c:90: undefined reference to `createacct_5_svc' 
```

阿比建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:28:07.617

我怀疑如果你有“api.h”，那么你也有“api.c”，在这种情况下，你必须*将你的 api.c 文件链接*到 ap_svc1.c。请注意，该错误不是抱怨缺少标头的编译器错误；这是一个**链接器**错误，在链接阶段编译为目标代码后抱怨找不到（无法解析）符号。

# ruby-on-rails - 如果 TOPIC 属于 USER 和 FORUM，则在 TOPIC 控制器中新建和创建方法

> ID：11239121
> 
> 赞同：0
> 
> 时间：2012-06-28T06:26:26.600
> 
> 标签：ruby-on-rails, ruby-on-rails-3, associations

如果 TOPIC 属于 USER 和 FORUM，我想知道 TOPIC 的`new`and`create`方法应该是什么样子。

```
class Forum < ActiveRecord::Base
  belongs_to :user
  has_many :topics, :dependent => :destroy
end

class User < ActiveRecord::Base
  has_many :forum
  has_many :topic
end

class Topic < ActiveRecord::Base
  belongs_to :user
  belongs_to :forum
end 
```

TOPIC只属于FORUM的时候，我利用了`build`这样的方法。

```
def new
  @forum = Forum.find(params[:forum_id])
  @topic = @forum.topics.build
end

def create
  @forum = Forum.find(params[:forum_id])
  @topic = @forum.topics.build(params[:topic])
  if @topic.save
    flash[:success] = "Success!"
    redirect_to topic_posts_path(@topic)
  else
    render 'new'
  end
end 
```

但是现在 TOPIC 既属于 FORUM 又属于 USER，我不知道该怎么办？关于这个话题有什么建议吗？

这是我的架构供参考。暂时忽略 POST。

```
create_table "forums", :force => true do |t|
  t.datetime "created_at",  :null => false
  t.datetime "updated_at",  :null => false
  t.string   "name"
  t.text     "description"
  t.integer  "user_id"
end

create_table "posts", :force => true do |t|
  t.datetime "created_at", :null => false
  t.datetime "updated_at", :null => false
  t.integer  "topic_id"
  t.text     "content"
  t.integer  "user_id"
end

create_table "topics", :force => true do |t|
  t.datetime "created_at",   :null => false
  t.datetime "updated_at",   :null => false
  t.integer  "forum_id"
  t.string   "name"
  t.integer  "last_post_id"
  t.integer  "views"
  t.integer  "user_id"
end

create_table "users", :force => true do |t|
  t.string   "name"
  t.string   "email"
  t.datetime "created_at",                         :null => false
  t.datetime "updated_at",                         :null => false
  t.string   "password_digest"
  t.string   "remember_token"
  t.boolean  "admin",           :default => false
end 
```

* * *

我对新`create`方法的解决方案

```
def create
  @forum = Forum.find(params[:forum_id])
  @topic = @forum.topics.build(params[:topic])
  @topic.user_id = current_user.id

  if @topic.save
    flash[:success] = "Success!"
    redirect_to topic_posts_path(@topic)
  else
    render 'new'
  end
end 
```

`current_user`返回当前用户对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T08:38:11.403

```
topic = Topic.new
topic.forum = Forum.first
topic.user = User.first

topic = Topic.create(:forum => Forum.first, :user => User.first)

topic = @user.topics.build(params[:topic])
topic.forum = @forum

etc 
```

# java - Eclipse Helios for Java 中的控制台在我编辑类时未更新

> ID：11239125
> 
> 赞同：1
> 
> 时间：2012-06-28T06:27:14.667
> 
> 标签：java, eclipse, console, helios

我正在为 Java 使用 Eclipse Helios。直到最近一切正常。问题是每当我编辑正在运行的类时，控制台输出都不会更新。

例如，如果这是我的课

```
public class mainExercise {

    public static void main(String[] args){
        System.out.println("show text");
    }

} 
```

如果这是我第一次打开 Eclipse，那么它将在控制台中打印出来（显示文本）。但是，如果我尝试通过将“显示文本”更改为“显示已编辑的文本”并运行它来编辑它，控制台仍然会打印出（显示文本），因为我已经更改了它应该是（显示已编辑的文本）。我仍然是eclipse的新手，所以我不知道发生了什么。详细的解释对于导致此问题的原因以及如何解决此问题非常有帮助。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:32:29.780

尝试清理项目，然后重建它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:32:35.240

您需要确保在运行之前保存更改。如果你是，也许你可以尝试重建你的源代码。

# java - wysiwyg-Jquery HTML 编辑器用于语法检查，支持所有浏览器

> ID：11239129
> 
> 赞同：1
> 
> 时间：2012-06-28T06:27:23.823
> 
> 标签：java, jquery, spring, editor

有没有人研究过支持所有浏览器的语法检查的 Jquery HTML 编辑器。我的 Java Web 应用程序迫切需要它。我一直在使用 Kendo UI 编辑器。Kendo UI 非常棒，它支持样式、格式化等，但找不到语法和拼写检查器以及它。

我尝试使用所见即所得编辑器演示版，但它在 chromium 中显示浏览器问题。我不确定它是否是版本 isuue？

“After the Deadline”控件的演示版正在进行语法检查，所以我也下载了“After the Deadline”控件，但不确定是否可以将其用作 javascript API 插件，而不使用 PHP、Java、.Net 等服务器端代码等等

问候， 利比·马修

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T10:59:29.230

这里有一个 jQuery 库，当然都是客户端："After the Deadline" [http://www.afterthedeadline.com/download.slp?platform=jQuery](http://www.afterthedeadline.com/download.slp?platform=jQuery)，它有助于拼写和语法检查。

# java - 从 ExecutorService.invokeAll 获取结果列表

> ID：11239130
> 
> 赞同：0
> 
> 时间：2012-06-28T06:27:26.507
> 
> 标签：java, guava

我可能在 Guava API 中遗漏了一些东西。如何在不强制转换的情况下将 ExecutorService.invokeAll 与 Futures.allAsList 一起使用？

我的用例是我想提交一个可调用列表并等到所有都执行（并行）。我只对 Callables 的结果列表感兴趣。

```
 ListeningExecutorService executor = MoreExecutors.sameThreadExecutor(); //or any other ExecutorService
    List<Future<Object>> futures = 
        executor.invokeAll(singletonList(new Callable<Object>() {
            @Override public Object call() throws Exception {
                return 42;
            }
        }
    ));
    Iterable<ListenableFuture<Object>> listableFutures = 
        (Iterable<ListenableFuture<Object>>) (Iterable) futures;
    //would like to use "futures" here
    ListenableFuture<List<Object>> r = Futures.allAsList(listableFutures);
    System.out.println(r.get()); 
```

在一个完美的世界里，我想打电话`ListeningExecutorService.allAsList(Collection<? extends Callable<T>> tasks)`并得到一个`Future<List<T>>`或什至`List<T>`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T08:22:46.710

没有。你应该做演员。由于 Java 限制方法覆盖的方式，这是无法避免的。

`ListeningExecutorService.invokeAll`状态的 Javadoc

> 返回列表中的所有元素都必须是 ListenableFuture 实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:38:26.183

由于不支持使用 Futures.allAsList 而不强制转换`Iterable<? extends ListenableFuture<? extends V>>`为使用 for 循环的简单解决方案应该是最好的：

```
 ListeningExecutorService executor = MoreExecutors.sameThreadExecutor();
    List<Future<Object>> futures = executor.invokeAll(
        singletonList(new Callable<Object>() {
            @Override public Object call() throws Exception {
                return 42;
           }
        }
    ));
    List<Object> r = Lists.newArrayList();
    for (Future<Object> future : futures) r.add(future.get()); 
```

# php - 开发“喜欢”系统的 JQuery 问题

> ID：11239136
> 
> 赞同：0
> 
> 时间：2012-06-28T06:27:47.877
> 
> 标签：php, jquery, mysql, wordpress

我正在尝试为我的网站开发一个“喜欢”系统。我正在使用下面的代码：

像.php：

```
<?php
include_once( $_SERVER['DOCUMENT_ROOT'] . '/wp-load.php');
global $wpdb;
$global_table = $wpdb->base_prefix . "global_products_table";
$blogid = $_GET['blog_id'];
$productsid = $_GET['products_id'];

mysql_query("UPDATE ".$global_table." SET likes=likes+1 WHERE blog_id=".$blogid." and products_id=".$productsid) or die(mysql_error());
$result = mysql_query("SELECT likes from ".$global_table." WHERE blog_id=".$blogid." and products_id=".$productsid) or die(mysql_error());
$row = mysql_fetch_assoc($result);
echo $row['likes'];
?> 
```

索引.html：

```
<form name="like_form">
  <input type="hidden" name="products_id" value="<?php echo $product_info['products_id']; ?>" />
  <a class="like_click"><span class="button"><img src="http://cdn1.iconfinder.com/data/icons/bijou/10/Like.png"> Like (<span class="like_count"><?php echo $product_info['likes']; ?></span>)</span></a>
</form> 
```

查询：

```
<script type="text/javascript">
var $s = jQuery.noConflict();
$s(document).ready(function() {
  $s('.like_click').click(function() {
    var form = $s(this).closest('form[name=like_form]');
    var blog_id = $s(form).find('input[name=blog_id]').val();
    var products_id = $s(form).find('input[name=products_id]').val();
    $s.post("<?php echo get_bloginfo('wpurl'); ?>/wp-content/plugins/wp-online-store/like.php?blog_id=<?php echo get_current_blog_id(); ?>&products_id='" + products_id + ", function(data) {
      $s(form).find('span.like_count').html(data);
    });
});
</script> 
```

问题：当我点击“喜欢”链接时，它不起作用。点赞数未更新。当我在地址栏中输入 URL 时，例如`http://website.com/wp-content/plugins/wp-online-store/like.php?blog_id=16&products_id=37`，它确实有效。这让我觉得问题出在 JQuery 上。另外，我正在使用 Wordpress。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T11:22:36.343

先试试这个

```
<script type="text/javascript">

var $s = jQuery.noConflict();
$s(document).ready(function() {
$s('.like_click').click(function() {
    var id=$(this).attr('rel');

$.post("http://website.com/wp-content/plugins/wp-online-store/like.php?blog_id=16&products_id="+id, 
   function(data) {
     $s(form).find('span.like_count').html(data);
   });
});
   });
</script>

<form name="like_form">
  <a rel="<?php echo $product_info['products_id']; ?>" class="like_click"><span class="button"><img src="http://cdn1.iconfinder.com/data/icons/bijou/10/Like.png"> Like (<span class="like_count"><?php echo $product_info['likes']; ?></span>)</span></a>
</form> 
```

# android - 在另一个活动中开始的活动的android清单

> ID：11239138
> 
> 赞同：0
> 
> 时间：2012-06-28T06:27:54.340
> 
> 标签：android, android-intent, android-manifest

我正在制作一个应用程序，其中我有一个主要活动，用户在单击应用程序图标时“看到”，另一个活动将由用户从主要活动中启动（通过单击主活动屏幕上的按钮）使用一个意图。现在，我应该如何制作 android 清单？我应该将第二个活动嵌套在主要活动中还是应该像主要活动一样单独列出它？另外我们什么时候使用意图过滤器？我在网上搜索，有些人使用了意图过滤器，有些人没有。我的清单文件如下所示。我的应用程序正在启动，但是当我启动第二个活动时，它停止工作并要求强制关闭。请帮忙。感谢您的宝贵时间。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.graphs"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="10" />

    <application
        android:icon="@drawable/brain2"
        android:label="@string/app_name" >
        <activity
            android:name=".GraphsActivity" 
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
        </activity>
        <activity android:name="MainPlot"></activity>

    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:31:59.673

```
Should i nest the 2nd activity within the main activity or should i list it separately like the main activity ? 
```

两者都应该分开来，因为活动的流动不明显。

```
Also when do we use an intent filter ? 
```

在您的情况下，仅需要您设置的设置启动器活动意图过滤器。

```
My app is starting but when i launch the 2nd activity, it stops working and asks for force close. 
```

采用

```
<activity android:name=".MainPlot"></activity> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:32:58.267

即使您从第一个活动中调用第二个活动，对于应用程序来说，这也是两个独立的活动，您需要像第一个活动一样声明第二个活动。

intentFilter 是完全不同的概念。请[阅读](http://developer.android.com/guide/components/intents-filters.html)此内容以获取更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:34:32.570

用这个

```
<activity android:name=".MainPlot"></activity> 
```

并且您必须单独定义而不是嵌套的所有活动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:37:52.043

是的，您需要使用意图过滤器

```
 <application
            android:icon="@drawable/brain2"
            android:label="@string/app_name" >
            <activity
                android:name=".GraphsActivity"
                android:label="@string/app_name" >
                <intent-filter>
                    <action android:name="android.intent.action.MAIN" />

                    <category android:name="android.intent.category.LAUNCHER" />
                </intent-filter>
            </activity>
            <activity
                android:name=".ClassName"
                android:label="@string/app_name" >
                <intent-filter>
                    <action android:name="com.Package.Name.CLASSSTART" />

                    <category android:name="android.intent.category.DEFAULT" />
                </intent-filter>
            </activity>
    </application> 
```

# android - 无法在我的 phonegap 应用程序中修复宽度

> ID：11239139
> 
> 赞同：1
> 
> 时间：2012-06-28T06:27:58.723
> 
> 标签：android, css, cordova

我是 PhoneGap 应用程序开发的新手。[这](http://pastie.org/4164072)是我的html代码。

我的疑问是我无法修复水平滚动。我想禁用水平滚动但无法获得任何效果。我的 html 页面的第 35 行包含我的 html 页面的主 div 标签。我尝试将宽度固定为 320px、100% 等，但没有成功。

谁能告诉我我错在哪里？

# java - 如何在没有警告/错误的情况下将数组转换为 ArrayList？

> ID：11239143
> 
> 赞同：8
> 
> 时间：2012-06-28T06:28:18.647
> 
> 标签：java, arrays, arraylist, compiler-warnings

所以，我有点问题。我正在尝试将整数数组（称为`list`）转换为`ArrayList`（称为`arrList`）。下面显示的代码工作正常：

```
java.util.ArrayList arrList = new java.util.ArrayList(Arrays.asList(list)); 
```

但是，编译时有一个警告：上面的行被报告为使用“未经检查或不安全的操作”。

不幸的是，我似乎无法处理这个警告。由于这是一项家庭作业，部分标准是没有警告。有什么方法可以将数组转换为 ArrayList 而不会出现警告/错误？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2016-06-21T20:48:53.450

确保您使用正确的“数组”导入。默认情况下，我的 Eclipse 将尝试导入“edu.emory.mathcs.backport.java.util”。确保它只是标准的“java.util”版本，您应该执行以下操作：

```
 String[] arr = new String[]{"one", "two", "three"};
    List<String> list = Arrays.asList(arr); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-28T06:34:06.347

```
Collections.addAll(targetList, sourceArray); 
```

试试上面的解决方案。它应该工作

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T06:36:38.287

由于您`list`似乎是一个数组`int`而不是`Integer`，因此您需要遍历它们。尝试以下操作：

```
List<Integer> intList = new ArrayList<Integer>(list.length);
for (int i: list) {
  intList.add(i);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:41:33.300

如果您的答案不仅限于一行，那么最安全的方法是：

```
java.util.ArrayList<Integer> arrList = new java.util.ArrayList<Integer>();
for (int x : arrList) {
    arrList.add(x);
} 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-06-28T06:48:09.693

**此警告通常在您构建原始类型的集合时发出。**即您没有定义它将包含什么类型的对象。

```
java.util.ArrayList arrList = new java.util.ArrayList(Arrays.asList(list));// issues warning as you made ArrayList of raw type. 
```

要克服它，只需在 ArrayList 声明中添加对象类型。

```
java.util.ArrayList<Integer> arrList = new java.util.ArrayList(Arrays.asList(list)); 
```

# objective-c - ARC 如何确定是使用保留还是复制？

> ID：11239148
> 
> 赞同：2
> 
> 时间：2012-06-28T06:29:08.730
> 
> 标签：objective-c, ios, memory-management, automatic-ref-counting

作为带有 ARC 选项的 LLVM 编译器，它会自动为我们添加保留、复制、释放和自动释放，但是 ARC 是如何确定是使用保留还是复制呢？提前致谢：）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:36:03.930

ARC 不添加`copy`，如果您需要副本，那仍然是您的责任。它只为您`retain`管理`release`。如果您手动`copy`进行某些操作，尽管它知道您会获得一个新对象，但它必须在某个时间释放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:33:08.313

如以下文档中所述（[http://clang.llvm.org/docs/AutomaticReferenceCounting.html#meta](http://clang.llvm.org/docs/AutomaticReferenceCounting.html#meta)）

> 自动引用计数实现了 Objective-C 对象和块的自动内存管理，使程序员无需显式插入保留和释放。它不提供循环收集器；用户必须明确管理其对象的生命周期，手动或使用弱或不安全的引用中断循环。

你也可以通过这个线程的讨论——[新的自动引用计数机制是如何工作的？](https://stackoverflow.com/questions/6385212/how-does-the-new-automatic-reference-counting-mechanism-work)

# jquery - 如果元素类等于导航元素值，则隐藏元素

> ID：11239149
> 
> 赞同：0
> 
> 时间：2012-06-28T06:29:09.500
> 
> 标签：jquery

我正在尝试制作动态导航，因此当单击导航项时，它会显示与导航值具有相同类的元素。

查询：

```
$('section nav a').on({
        click: function() {
            var navElement = $(this).val();
            if ( $('article').attr('class') != navElement ) {
        $(this).hide();
            }
    }
}); 
```

html:

```
<section>
    <div class="inside">
        <nav> 
<a href="#" title="typografi&ombrydning">Typografi & Ombrydning</a> 
<a href="#" title="grafiskdesign">Grafisk design</a> 
<a href="#" title="grafik&billeder">Grafik & Billeder</a> 
<a name="Workflow" class="workflow" title="workflow" href="#">Workflow</a> </nav>
        <article class="typografi&ombrydning workflow"> <img src="images/imgtest.jpg" width="230" height="210">
            <h2>Aphyxion</h2>
            <p class="time">Marts 15, 2012</p>
            <p>Billeder fra koncerten med aphyxion og molested på elværket i helsingør</p>
            <a class="read_more" href="#">Læs mere...</a> </article>
        <article class="grafik&billeder"> <img src="images/imgtest.jpg" width="230" height="210">
            <h2>Aphyxion</h2>
            <p class="time">Marts 15, 2012</p>
            <p>Billeder fra koncerten med aphyxion og molested på elværket i helsingør</p>
            <a class="read_more" href="#">Læs mere...</a> </article>
        <article class="workflow"> <img src="images/imgtest.jpg" width="230" height="210">
            <h2>Aphyxion</h2>
            <p class="time">Marts 15, 2012</p>
            <p>Billeder fra koncerten med aphyxion og molested på elværket i helsingør</p>
            <a class="read_more" href="#">Læs mere...</a> </article>
        <article class="grafiskdesign grafik&billeder"> <img src="images/imgtest.jpg" width="230" height="210">
            <h2>Aphyxion</h2>
            <p class="time">Marts 15, 2012</p>
            <p>Billeder fra koncerten med aphyxion og molested på elværket i helsingør</p>
            <a class="read_more" href="#">Læs mere...</a> </article>
        <article class="workflow"> <img src="images/imgtest.jpg" width="230" height="210">
            <h2>Aphyxion</h2>
            <p class="time">Marts 15, 2012</p>
            <p>Billeder fra koncerten med aphyxion og molested på elværket i helsingør</p>
            <a class="read_more" href="#">Læs mere...</a> </article>
        <div class="clear"></div>
    </div>
</section> 
```

但我不能让它工作你们能帮忙吗？

此致

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:40:13.020

尝试 -

```
$('section nav a').on({
        click: function() {
            var navElement = $(this).text();
            if ( $('article').hasClass(navElement) ) {
               $(this).hide();
            }
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:50:52.737

我不确定这是否是您要找的东西？您是否尝试根据单击的导航元素显示内容。如果有，看看这里？[http://jsfiddle.net/cQt5p/](http://jsfiddle.net/cQt5p/)。我个人会使用数据属性而不是使用类来显示和隐藏相关元素。

# facebook - 如何通过其uid获取用户访问令牌？

> ID：11239158
> 
> 赞同：0
> 
> 时间：2012-06-28T06:29:46.100
> 
> 标签：facebook, facebook-graph-api

假设我有 app id、app secret id 和用户 uid，现在我想获取用户访问令牌以获取其位置信息。实际上，如果用户更改其状态，我正在监听用户状态的实时更新令牌，我不知道如何得到它？

注意：用户已经通过 facebook 授权此应用获得 user_status 权限，因此我有权访问其位置信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:44:54.700

您无法使用用户 ID 获取访问令牌。您必须获取扩展访问令牌并将其存储在某个位置，以便以后使用。

现在，您应该能够使用应用程序访问令牌访问状态。我之前收到了所有用户的电子邮件，其中包含应用程序访问令牌，因为他们已授予应用程序权限。

> [https://graph.facebook.com/oauth/access_token?client_id=](https://graph.facebook.com/oauth/access_token?client_id=) &client_secret=&grant_type=client_credentials

这将返回您的应用程序访问令牌。

# iphone - 获取 id 中的内容

> ID：11239162
> 
> 赞同：0
> 
> 时间：2012-06-28T06:30:03.713
> 
> 标签：iphone, ios

在我的项目中，我有一个 id 类型的对象。我正在为它设置不同的值。现在我需要检查它包含的值，并据此进行操作。

这是我的代码：

```
id *currentObject=nil;
-(void)setCurrentObject:(id *)object{
    currentObject=object;
}

- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict {

    if ( [elementName isEqualToString:@"apple"]) {
    [self setCurrentObject:apple];
    return;
    }
    else if ( [elementName isEqualToString:@"orange"]) {
    [self setCurrentObject:orange];
        return;
    }   

    [self readString];

}

-(void) readString{

//Here I need to check contents of 'currentObject'. If it contains 'apple' then print 'Its apple' else don't do anything
} 
```

如何检查“id”类型的当前对象的内容？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:49:28.750

您可以通过使用获取对象的类名

```
NSStringFromClass 
```

您可能想确定您的 ID 对象属于哪种类

```
id object;
NSDictionary *str = [NSString stringWithString:@"test string"];
object = str;
NSString *string = NSStringFromClass([object class]);
NSLog(@"object is class of : %@", string);

if ([object isKindOfClass:[NSString class]]) {
    NSLog(@"data string = %@",(NSString*)object);
}else if([object isKindOfClass:[NSDictionary class]]){
    NSLog(@"data dictionary = %@", (NSDictionary*)object);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:37:12.227

要获取对象的类名，您可以使用

```
const char* className = class_getName([yourObject class]); 
```

然后使用 utf8 字符串从上面的类名创建一个 nsstring，然后检查你想要什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:44:33.520

如果您知道要存储哪种对象（“apple”或“orange”），为什么不直接创建 a`NSString`而不是`id`？不要忘记[KISS 原则](http://en.wikipedia.org/wiki/KISS_principle)。

# wcf - WCF 服务 - 客户端接收 CommunicationException

> ID：11239165
> 
> 赞同：1
> 
> 时间：2012-06-28T06:30:30.457
> 
> 标签：wcf, communicationexception

目前我们连接到 WCF 服务。目前我收到间歇性的 CommunicationExceptions。

-> 异常 (CommunicationException) System.ServiceModel.CommunicationException：服务器返回了无效的 SOAP 故障。有关更多详细信息，请参阅 InnerException。---> System.Xml.XmlException: 读取 XML 数据时已超出最大字符串内容长度配额 (8192)。可以通过更改创建 XML 阅读器时使用的 XmlDictionaryReaderQuotas 对象的 MaxStringContentLength 属性来增加此配额。

我已经更新了我的配置文件，将 MaxStringContentLength 设置为 2147483647

仍然间歇性地收到这些错误。

关于可能导致它们的任何建议？

提前致谢， 菲奥娜

**更新** 以下是配置文件中的绑定：

```
<binding name="BasicHttpBinding_ServiceInterface" closeTimeout="00:01:00"
           openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
           allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
           maxBufferSize="2147483647" maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647"
           messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
           useDefaultWebProxy="true">
          <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647"
             maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
          <security mode="Message">
            <message clientCredentialType="Certificate"/>
          </security>
        </binding> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:35:14.630

您还需要设置**Binding.MaxArrayLength,ReaderQuotas.MaxBytesPerRead**以使其正常运行。

# git - 取消跟踪分支推送 -f 但仍然可以看到提交

> ID：11239166
> 
> 赞同：0
> 
> 时间：2012-06-28T06:30:37.947
> 
> 标签：git

昨天，我错误地将 git 推送到了我的远程 master 中，它创建了一个未跟踪的分支。请参阅[此评论](https://stackoverflow.com/questions/11228436/failed-to-lock-refs-heads-master#comment14750232_11228436)。

要删除发散的跟踪分支（绿线），我做了：

```
git push -f origin ad8557d0f89e:master 
```

问题是当我发出以下命令时，我仍然看到我的旧提交（来自旧的 untrack 分支）：

```
git rev-parse master
0da090c5cbde10ff19602a2722ae05231c30dff5 
```

那么，如何删除这些提交呢？或者他们不重要？

`git push -f origin`当我的主分支分歧时（即：分歧之后和发出命令之前），我还从我的主分支中对我的一个本地存储库进行了 git-pull 。那么我应该如何告诉我的本地分支看不到这些更改并看到倒数第二个 git pull？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:09:42.670

好的，我找到了摆脱它的方法。我所做的是我通过 git gui (gitk) 中的 reset 选项将我的 master 和另一个分支重置为正确的版本(commit)

# java - 即使在设置类路径后，包 javax.servlet 也不存在

> ID：11239170
> 
> 赞同：1
> 
> 时间：2012-06-28T06:30:49.530
> 
> 标签：java, jakarta-ee, servlets, weblogic

这是我的代码...一个基本的 servlet 代码。

```
 //Servlet (interface)
     import javax.servlet.*;
     import java.io.*;
     public class DemoServlet1 implements Servlet
     {
     public void init(ServletConfig config)
     {  }
     public void service (ServletRequest req, ServletResponse res)
                 throws ServletException, IOException
     {
            res.setContentType("text/html");
            PrintWriter out = res.getWriter();
            out.println("<html><body>");
            out.println("WELCOME SERVLET");
            out.println("</body></html>");
     }
     public void destroy()
     {}
     public ServletConfig getServletConfig()
     {
            return null;
     }
     public String getServletInfo()
     {
            return null;
     }
   } 
```

编译它....它抛出 javax.servlet 不存在。当我“ctrl c + ctrl v”编辑它时，类路径和路径是正确的！！！
及其在其他机器上运行，而它在我的显示以下错误响应。我正在使用 Win 7（64 位）......我猜没必要！

```
 G:\2>set path = C:\beaB\jdk141_02\bin

  G:\2>set classpath = %classpath%;C:\beaB\weblogic81\server\lib\weblogic.jar

  G:2>javac DemoServlet1.java 

  DemoServlet1.java:2: package javax.servlet does not exist
  import javax.servlet.*;
  ^
  DemoServlet1.java:4: cannot find symbol
  symbol: class Servlet
  public class DemoServlet1 implements Servlet
                                       ^
  DemoServlet1.java:6: cannot find symbol
  symbol  : class ServletConfig
  location: class DemoServlet1

  public void init(ServletConfig config)
                     ^
  DemoServlet1.java:8: cannot find symbol
  symbol  : class ServletRequest
  location: class DemoServlet1
  public void service (ServletRequest req, ServletResponse res)
                 throws ServletException, IOException

  DemoServlet1.java:8: cannot find symbol
  symbol  : class ServletResponse
  location: class DemoServlet1
  public void service (ServletRequest req, ServletResponse res)throws ServletExcep 
  tion, IOException
                                     ^
  DemoServlet1.java:8: cannot find symbol
  symbol  : class ServletException
  location: class DemoServlet1
  public void service (ServletRequest req, ServletResponse res)throws ServletExcep
  tion, IOException
                                                                ^
  DemoServlet1.java:18: cannot find symbol
  symbol  : class ServletConfig
  location: class DemoServlet1
    public ServletConfig getServletConfig()
           ^
  7 errors 
```

我应该怎么办？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:36:27.883

你应该`servlet-api.jar`在类路径中。它应该存在于`weblogic81\server\lib\`目录中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:54:15.470

Your classpath does not have servlet-api.jar.

If u use Eclipse .

Right click the project -> Build path - > configure build path - > Add External jars -> browse the path where you have this jar and click ok..

If you are using tomcat server then you can find this jar in the **lib** folder of apache tomcat folder

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:41:24.940

您使用的是哪个版本的 weblogic，我认为他们将其移至 moudles/ 文件夹....请查看模块文件夹中的内容，您会发现 javax.servlet_xxxxx.jar

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-21T13:54:34.847

```
set classpath = C:\beaB\weblogic81\server\lib\weblogic.jar . 
```

`weblogic.jar`这将起作用，您可以通过提取来检查 javax 文件夹是否存在于内部`weblogic.jar`。确保您没有将类路径设置为`:-`

```
set classpath = "C:\beaB\weblogic81\server\lib\weblogic.jar" . 
```

不能有双引号作为`""`.

# ruby - 如何在红宝石字符串中转义斜杠

> ID：11239176
> 
> 赞同：0
> 
> 时间：2012-06-28T06:31:19.297
> 
> 标签：ruby, string, backslash

我从 rhodes 应用程序中的参数得到响应，像这样`"\"HOO123Wow\""` 但我需要它，以简单的字符串格式，比如`"HOO123Wow"`. 我已经尝试过`gsub`，`delete`但它们似乎都不适用于我的应用程序。

```
mystring = "\"HOO123Wow\""
mystring.gsub("\"", "") 
```

任何建议都会非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T18:56:24.173

```
irb(main)> eval mystring
=> "HOO123Wow" 
```

或者

```
irb(main)> mystring.delete ?"
=> "HOO123Wow" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T09:55:01.573

简单优雅的方式：

```
string = "\"HOO123Wow\""
=> "\"HOO123Wow\""
string.tr('"','')
=> "HOO123Wow" 
```

完毕。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:48:07.157

参数中收到的值 ==`"\"HOO123Wow\""`

要持久化的实际值 ==`"HOO123Wow"`

这是我所做的：

```
irb(main):001:0> mystring = "\"HOO123Wow\""
=> "\"HOO123Wow\""
irb(main):002:0> puts mystring.gsub("\\\"","")
"HOO123Wow"
=> nil 
```

希望对你有效。

**注意：** 我正在使用 ruby​​ 1.9.2p0 (2010-08-18) [i386-mingw32]

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:38:21.320

用于`\\`转义斜线。尝试这个：

```
mystring = "\"HOO123Wow\"" 
mystring.gsub("\\\"", "") 
```

# iphone - 我的轮播和我的自定义动画中的问题

> ID：11239177
> 
> 赞同：0
> 
> 时间：2012-06-28T06:31:34.790
> 
> 标签：iphone, ios, xcode, uianimation, icarousel

我创建了 d 应用程序，其中应用程序启动图像必须是动画的，并且我的按钮将使用 icarousel 以封面流效果显示。这是我的代码

```
- (void)viewDidLoad
{
[super viewDidLoad];
// Do any additional setup after loading the view, typically from a nib.
carousel.type = iCarouselTypeInvertedWheel              ;

CGRect ChaintopFrame = Chaintop.frame;
ChaintopFrame.origin.y = self.view.bounds.size.height;    
//CGRect ChainbottomFrame = Chainbottom.frame;
//ChainbottomFrame.origin.y = self.view.bounds.size.height;

[UIView animateWithDuration:0.5
                      delay:1.0
                    options: UIViewAnimationCurveEaseOut
                 animations:^{
                  Chaintop.frame = ChaintopFrame;
                     //Chainbottom.frame = ChainbottomFrame;
                 } 
                 completion:^(BOOL finished){
                     NSLog(@"Done!");
                 }];
}

- (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view
{

   UIImage *buttonImage=[NSArray arrayWithObjects:[UIImage imageNamed:@"Cover_0.png"],
                      [UIImage imageNamed:@"Cover_1.png"],
                      [UIImage imageNamed:@"Cover_2.png"],
                      [UIImage imageNamed:@"Cover_3.png"],
                      [UIImage imageNamed:@"Cover_4.png"],
                      [UIImage imageNamed:@"Cover_5.png"],
                      [UIImage imageNamed:@"Cover_6.png"],
                      [UIImage imageNamed:@"Cover_7.png"],nil];

UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
button.frame = CGRectMake(0, 0, 200.0f, 200.0f);

[button setImage:(UIImage*)[buttonImage objectAtIndex:index] forState:UIControlStateNormal]; 

[button addTarget:self action:@selector(buttonTapped:) forControlEvents:UIControlEventTouchUpInside];
return button;

 } 
```

现在当我运行我的模拟器时，用于动画的图像返回并且按钮显示在前面。好消息是动画客栈图像正在工作......我也调整了我的 icarousel 视图的大小......

我错过了什么吗？...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:06:46.403

我认为你`imageView`在你的观点中添加了你的错误`iCarousel`，试试这个：

```
[self.view addSubview:Chaintop]; 
```

并尝试调整图像大小。

希望这可以帮助。

# python - 多台发电机

> ID：11239180
> 
> 赞同：0
> 
> 时间：2012-06-28T06:31:43.903
> 
> 标签：python, generator

我正在尝试为棒球程序编写一个程序，该程序将使用多个生成器来获得罢工和球。我的生成器如下所示：

```
k = (strike(x) for x in range(3) if x%1 ==0)  
w = (ball(n) for n in range(4) if x%1 == 0) 
```

到目前为止，我的程序如下所示：

```
def count(pitch):
    if pitch == 'strike':
        return next(k),w
    elif pitch =='ball':
        return next(w),k 
```

我希望我的代码返回罢工的*下一个*结果并返回*当前*的球，**反之亦然。**请帮助我很困惑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T06:48:37.513

如果不推进发电机，就无法获得发电机的“当前”值。如果要跟踪“当前”值，则需要自己存储。这意味着您必须重构代码，因为该`count`函数将在下一次调用时“忘记”它的任何值。这是使用课程的一种方法：

```
class Count(object):
    def __init__(self):
        self.k = (x for x in range(3))
        self.w = (x for x in range(4))
        self.strikes = next(self.k)
        self.balls = next(self.w)

    def count(self, pitch):
        if pitch == "strike":
            self.strikes = next(self.k)
        elif pitch == "ball":
            self.balls = next(self.w)
        return self.strikes, self.balls 
```

我删除了对`strike`和`ball`函数的引用，因为您没有提供有关这些的信息，但您可以添加它们。然后：

```
>>> c = Count()
>>> c.count("strike")
(1, 0)
>>> c.count("strike")
(2, 0)
>>> c.count("ball")
(2, 1) 
```

正如@gnibbler 在评论中指出的那样，您还应该考虑您要如何处理该`x%1`业务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:13:23.443

一种更简单的方法：

```
k = [x for x in range(3)]
w = [n for n in range(4)]
i=0
j=0

def countt(pitch):
    global i
    global j
    if pitch == 'strike':

        if i==len(k)-1:
            i=0
        else:i=i+1
        return k[i],w[j]

    elif pitch =='ball':
        if j==len(w)-1:
            j=0
        else:j=j+1    
        return w[j],k[i] 
```

**输出：**

```
>>> countt('strike')
(1, 0)
>>> countt('strike')
(2, 0)
>>> countt('ball')
(1, 2)
>>> countt('ball')
(2, 2)
>>> countt('ball')
(3, 2)
>>> countt('strike')
(0, 3) 
```

# blackberry - 如何检查黑莓列表字段中的onchildclick？

> ID：11239182
> 
> 赞同：0
> 
> 时间：2012-06-28T06:31:50.350
> 
> 标签：blackberry, listfield

这是我的自定义列表字段。

```
public class Custom_ListField extends ListField implements ListFieldCallback {
private Vector rows;
private LabelField titletext, datetext, categorytext;
private Bitmap bg = Bitmap.getBitmapResource("list_bar.png");

public Custom_ListField(String title[], String date[], String category[]) {
    super(0, ListField.MULTI_SELECT);
    setRowHeight(80);
    setCallback(this);
    Background background = BackgroundFactory.createBitmapBackground(bg);
    setBackground(background);

    rows = new Vector();

    for (int x = 0; x < title.length; x++) {
        TableRowManager row = new TableRowManager();

        titletext = new LabelField(title[x], DrawStyle.ELLIPSIS
                | LabelField.USE_ALL_WIDTH | DrawStyle.LEFT);
        titletext.setFont(Font.getDefault().derive(Font.BOLD, 20));

        row.add(titletext);

        datetext = new LabelField(date[x], DrawStyle.ELLIPSIS
                | LabelField.USE_ALL_WIDTH | DrawStyle.LEFT);
        datetext.setFont(Font.getDefault().derive(Font.BOLD, 15));
        row.add(datetext);

        categorytext = new LabelField(category[x], DrawStyle.ELLIPSIS
                | LabelField.USE_ALL_WIDTH);
        //categorytext.setMargin(0, 0, 0, 100);
        categorytext.setFont(Font.getDefault().derive(Font.BOLD, 15));
        row.add(categorytext);
        rows.addElement(row);
    }
    setSize(rows.size());
}

public void drawListRow(ListField listField, Graphics g, int index, int y,
        int width) {
    Custom_ListField list = (Custom_ListField) listField;
    TableRowManager rowManager = (TableRowManager) list.rows
            .elementAt(index);
    rowManager.drawRow(g, 0, y, width, list.getRowHeight());
}

private class TableRowManager extends Manager {
    public TableRowManager() {
        super(0);
    }

    public void drawRow(Graphics g, int x, int y, int width, int height) {
        layout(width, height);

        setPosition(x, y);
        g.pushRegion(getExtent());
        subpaint(g);
        g.popContext();
    }

    protected void sublayout(int width, int height) {
        int fontHeight = Font.getDefault().getHeight();
        int preferredWidth = getPreferredWidth();

        Field field = getField(0);
        layoutChild(field, preferredWidth - 16, fontHeight + 1);
        setPositionChild(field, 5, 5);

        field = getField(1);
        layoutChild(field, 150, fontHeight);
        setPositionChild(field, 5, fontHeight + 5);

        field = getField(2);
        layoutChild(field, 150, fontHeight);
        setPositionChild(field, preferredWidth - 155, fontHeight + 5);

        setExtent(preferredWidth, getPreferredHeight());
    }

    public int getPreferredWidth() {
        return Graphics.getScreenWidth();
    }

    public int getPreferredHeight() {
        return getRowHeight();
    }
}

public Object get(ListField listField, int index) {
    return null;
}

public int getPreferredWidth(ListField listField) {
    return 0;
}

public int indexOfList(ListField listField, String prefix, int start) {
    return 0;
}
} 
```

如果点击然后在哪里设置`push screen`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:42:47.627

为此，您应该覆盖`navigationClick(int status, int time)`. 然后在其中通过 listField.getSelectedIndex() 获取所选项目的索引，并用它做任何你需要的事情。

# android - 在我在 android 中触摸的位置在 GestureOverlayView 中添加一个孩子？

> ID：11239185
> 
> 赞同：10
> 
> 时间：2012-06-28T06:31:54.507
> 
> 标签：android, view, gesture

如何在我在该视图中触摸的位置在手势覆盖视图中添加子项（布局）.....是否可以根据位置的坐标定位它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-06T18:40:24.337

**对于 API 11 (Android 3.0.x) 及更高版本：**您可以使用`View.setX()`和`View.setY()`。有关详细信息，请参阅[API 文档](http://developer.android.com/reference/android/view/View.html#setX%28float%29)。

**对于所有 API 版本：**您可以使用`RelativeLayout`和`RelativeLayout.Layout`。特别是通过在继承自的字段中设置[边距](http://developer.android.com/reference/android/view/ViewGroup.MarginLayoutParams.html)`ViewGroup.MarginLayoutParams`。我想它会是这样的：

```
RelativeLayout parentLayout = (RelativeLayout) findViewById(R.id.relative_layout);

LinearLayout newLayout = new LinearLayout(this); // or some other layout

RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(
    // You can enter layout absolute dimensions here instead of 'wrap_content'.
    ViewGroup.LayoutParams.WRAP_CONTENT,
    ViewGroup.LayoutParams.WRAP_CONTENT);
// Set your X and Y position here for new layout.
layoutParams.setMargins(100 /*left*/, 200 /*top*/, 0 /*right*/, 0 /*bottom*/); 
parentLayout.addView(newLayout , layoutParams); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-20T18:19:14.673

```
public boolean onTouchEvent(MotionEvent event) {
    TextView tv=new TextView(this);

    switch (event.getAction()) {
    case MotionEvent.ACTION_DOWN:
    case MotionEvent.ACTION_MOVE:
    case MotionEvent.ACTION_UP:
        x = event.getX();
        y = event.getY();
        RelativeLayout gh = (RelativeLayout) findViewById(R.id.relative1);
        RelativeLayout.LayoutParams para = new RelativeLayout.LayoutParams(150, 50); //Size of textView
        para.leftMargin = (int) x;  //location of textview
        para.topMargin = (int) y;
        tv.setLayoutParams(para);

        tv.setText("You have Touched at  "+x+" ,"+y);
        change();
        gh.addView(tv);
    } 
```

# mysql - 从存在外键表记录的表中选择 1 行

> ID：11239193
> 
> 赞同：0
> 
> 时间：2012-06-28T06:32:38.550
> 
> 标签：mysql

我有两个表，Products 和 ProductImages，Products 和 ProductImages 之间存在一对多的关系。我正在尝试对 Products 表进行查询，条件是结果仅包含 ProductImages 表中具有匹配记录的行。

```
Products
----------
id (PK)

ProductImages
---------------
id (PK)
product_id (FK to Products) 
```

我可以使用它的唯一方法是使用子查询，但肯定有更好/更有效的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:34:11.893

```
SELECT p.* FROM Products AS p
INNER JOIN ProductImages AS pi ON p.id = pi.product_id
GROUP BY p.id 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T06:39:08.827

用户`join`

```
SELECT * FROM Products INNER JOIN ProductImage  on 
Products.id  = ProductImage.product_id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:37:17.133

```
select * from products
where id in (select product_id from ProductImages) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:39:31.730

```
SELECT Products.* FROM Products
INNER JOIN ProductImages ON Products.id = ProductImages.id
and Products.Id = @ProductID // if required this condition 
```

# c# - 使用 TranslateTransform 翻译后如何恢复原始位置？（Windows 手机 C#）

> ID：11239197
> 
> 赞同：1
> 
> 时间：2012-06-28T06:33:04.743
> 
> 标签：c#, silverlight, windows-phone-7

我有一个`Image`我正在`X`用`Drag`手势翻译 , 。我正在处理使用这样的 对象 `DragDelta`翻译图像的事件。 现在我想恢复事件的原始位置。我注意到在翻译过程中属性没有改变。那么我可以使用哪个属性（或可能的方法）来恢复原始位置 提前谢谢`TranslateTransform``translate.X += e.HorizontalChange;``Image``DragCompleted``Margin``Image`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:40:33.367

转换，例如您的平移转换，发生*在*您的其他布局（例如边距等）之上

要重置位置，只需将平移变换恢复到开始拖动之前的状态。

```
// _originalX and _originalY were initialized in your DragStart handler
translate.X = _originalX;
translate.Y = _originalY 
```

# emacs - 我可以限制 Emacs 中编译缓冲区的长度吗？

> ID：11239201
> 
> 赞同：7
> 
> 时间：2012-06-28T06:33:23.993
> 
> 标签：emacs, elisp

是否可以限制 Emacs 编译缓冲区存储的行数？如果没有遇到错误，我们的构建系统可以在整个产品构建中产生大约 10,000 行输出。因为我的编译缓冲区也解析 ANSI 颜色，所以这会变得非常非常慢。我只想缓冲 2,000 行输出。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-29T02:41:28.543

看来`comint-truncate-buffer`编译缓冲区和 shell 缓冲区一样有效：

```
(add-hook 'compilation-filter-hook 'comint-truncate-buffer)
(setq comint-buffer-maximum-size 2000) 
```

我通过运行`compile`命令对此进行了测试`perl -le 'print for 1..10000'`。完成后，编译缓冲区中的第一行是`8001`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T07:28:20.970

好的，我坐下来编写了自己的函数，该函数被插入到编译过滤器挂钩中。它可能不是性能最好的解决方案，但到目前为止它似乎工作正常。

```
(defcustom my-compilation-buffer-length 2500 
  "The maximum number of lines that the compilation buffer is allowed to store")
(defun my-limit-compilation-buffer ()
  "This function limits the length of the compilation buffer.
It uses the variable my-compilation-buffer-length to determine
the maximum allowed number of lines. It will then delete the first 
N+50 lines of the buffer, where N is the number of lines that the 
buffer is longer than the above mentioned variable allows."
  (toggle-read-only)
  (buffer-disable-undo)
  (let ((num-lines (count-lines (point-min) (point-max))))
    (if (> num-lines my-compilation-buffer-length)
        (let ((beg (point)))
          (goto-char (point-min))
          (forward-line (+ (- num-lines my-compilation-buffer-length) 250))
          (delete-region (point-min) (point))
          (goto-char beg)
          )
      )
    )
  (buffer-enable-undo)
  (toggle-read-only)
  )
(add-hook 'compilation-filter-hook 'my-limit-compilation-buffer) 
```

# android - 保存到内部存储器的文件列表

> ID：11239202
> 
> 赞同：9
> 
> 时间：2012-06-28T06:33:24.040
> 
> 标签：android

我的 android 应用程序正在将一些统计信息保存到内部存储中。每个文件名的格式为“appname-currentDate”

我想知道：

1.  当我保存到内部存储时，是否有一个特定的文件夹分配给我的应用程序，或者我的文件是否与来自其他应用程序的文件一起保存在同一目录中。
2.  有没有办法知道我的应用程序保存到内部存储的文件列表

太感谢了。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-06-28T06:44:18.103

1）取决于您使用哪种方法来获取文件句柄。通常文件存储在特定于应用程序的目录中，例如。**/data/data/[your.package.name]/**。该目录中的文件只能由您的应用程序读取。

2) 使用**Activity中的****getFilesDir()**方法获取**文件**句柄，并使用其上的**listFiles()**获取代表应用程序数据文件夹中所有文件的**文件**数组。

 ******进一步阅读：http: [//developer.android.com/guide/topics/data/data-storage.html](http://developer.android.com/guide/topics/data/data-storage.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T06:37:41.700

```
1-When I save to internal storage, is there a specific folder assigned to my app, or are my files saved along with files from other applications in the same direcotry. 
```

默认情况下，保存到内部存储的文件对您的应用程序是私有的，其他应用程序无法访问它们（用户也不能）。

文件存储在`/data/data/<package_name>/files`目录中。特别适合您的应用程序包。

```
2- Is there a way to know the list of files saved by my application to the internal storage. 
```

使用方法**getFilesDir()**

获取保存内部文件的文件系统目录的绝对路径。

有关更多信息，请查看[Android - 内部存储](http://developer.android.com/guide/topics/data/data-storage.html#filesInternal)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-28T06:39:53.723

您的文件将保存在**data/data/your.package.com**这个文件夹中。**your.package.com**是你的包名。

你可以在ddms中看到。如果您使用 eclipse 并运行模拟器或设备，您可以在 eclipse -> ddms 选项卡中看到您的文件

![在此处输入图像描述](../Images/bc8aa033ecbbe6af52a0c73265d05f14.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-04T06:48:50.913

使用此方法获取应用程序存储的内部文件数组。

[https://developer.android.com/reference/android/content/Context.html#fileList()](https://developer.android.com/reference/android/content/Context.html#fileList())

更多信息在这里。 [https://developer.android.com/guide/topics/data/data-storage.html#filesInternal](https://developer.android.com/guide/topics/data/data-storage.html#filesInternal)******

# c++ - 使用 C++ 和 Qt 如何将 16 位原始文件显示为图像？

> ID：11239203
> 
> 赞同：2
> 
> 时间：2012-06-28T06:33:28.953
> 
> 标签：c++, qt, qimage, 16-bit, heightmap

我希望在我的应用程序中将视频游戏《战地 2》中的高度图显示为图像。
我是 C++ 和 Qt 的新手，它可能很简单，但我遇到的问题是显示灰度`16-bit 1025x1025 2101250`字节图像。该文件没有标题。我需要访问显示的像素（不必是完美的像素精度），这样我就可以指向一个像素并获取它的值。

**我试过的**

我已经将二进制数据`QByteArray`从 QFile 加载到一个 QFile 中，并且我尝试使用该`QImage::fromData`函数制作图像，但我犯了很多错误并且花了很多时间没有走得很远。我希望在这里发帖能给我提供我需要进步的线索。这是我的代码：

```
void LearningBinaryReader::setupReader()
{
    qDebug("Attempting to open file..");
    QFile file("HeightmapPrimary.raw");
    if (!file.open(QFile::ReadOnly))
    {
        qDebug("Could not open file");
        return;
    } else {
        qDebug() << file.fileName() << " opened";
    }
    QByteArray data = file.readAll();
    file.flush();
    file.close();

    qDebug() << data.count() << "bytes loaded.";
} 
```

从这里我不知道该怎么办。我已经阅读了一些 Qt 文档，但我是新手，我需要一个正确方向的指南来理解这个问题并获得解决方案。

**请注意**，我几乎是一个初学者，所以不要忽视我可能没有想到的简单解决方案。我想只使用 Qt 框架来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:53:48.287

只是一个猜测。也许尝试这样的事情？

```
#include <QColor>
...
QByteArray data=file.readAll();

// create an empty image of the right size.  We'll use 32-bit RGB for simplicity
QImage img(1025,1025, QImage::Format_RGB32);

// Access the image at low level.  From the manual, a 32-bit RGB image is just a
// vector of QRgb (which is really just some integer typedef)
QRgb *pixels=reinterpret_cast<QRgb*>(img.bits());

// Now copy our image data in.  We'll assume 16-bit LE format for the input data.
// Since we only have 8 bits of grayscale color resolution in a 32-bit RGB, we'll
// just chop off the most significant 8 bits (the second byte of each pair) and 
// make a pixel out of that.  If this doesn't work, our assumption might be off --
// perhaps assume 16-bit BE format.  In that case we'd want the first byte of each
// pair.
for (size_t i=0;2*i<data.size();++i)
{
    uchar pixel_msb=data[2*i+1]; // or maybe try =data[2*i+0]
    pixels[i]=qRgb(pixel_msb, pixel_msb, pixel_msb);
}

// (do something with the resulting 'img') 
```

**编辑**：哎呀，`QImage::Format_RGB32`而不是`QImage::Format_RGB`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:06:15.457

您不能使用`loadFromData`，因为它不支持 raw （请参阅[读取和写入图像文件](http://doc.qt.io/archives/qt-4.7/qimage.html#reading-and-writing-image-files)）。

您找不到[支持格式](http://doc.qt.io/archives/qt-4.7/qimage.html#Format-enum)的 16 位原始数据，因此我认为最好的解决方案是在图像加载和图像显示之间使用转换器。

创建一个新的 QImage，使用 qt 支持的格式。

```
QImage* image = new QImage(1025, 1025, QImage::Format_RGB888); 
```

然后加载源图像并将其转换为 RGB888。您的图像非常大，因此请避免使用`readAll()`. 您可以使用这个简单的转换器（见下文）或现有库中的转换器（如[Magick++](http://www.imagemagick.org/Magick++/)）。

```
QFile file("HeightmapPrimary.raw");
if (!file.open(QFile::ReadOnly))
{
    qDebug("Could not open file");
    return;
}
uint16_t buf;
uchar* dst = image->bits();
while (readData(&buf, 2)) {
  dst[0] = buf / 256; /* from 16bit to 8bit */
  dst[1] = buf / 256;
  dst[2] = buf / 256;
  dst += 3; /* next pixel */
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:49:18.500

1.基本上你需要做的是在一个小部件内绘制你的像素。

因此，首先创建一个具有对话框的应用程序，然后使用以下建议在对话框上绘制：

[Qt4 如何在小部件内绘制？](https://stackoverflow.com/questions/3894737/qt4-how-to-draw-inside-a-widget)

对于 QPainter 文档：http: [//qt-project.org/doc/qt-4.8/QPainter.html](http://qt-project.org/doc/qt-4.8/QPainter.html)

请注意，您需要在遍历像素时创建一个 QBrush：http: [//doc.qt.nokia.com/4.7/qbrush.html](http://doc.qt.nokia.com/4.7/qbrush.html)

这会很慢:(

2\. 另一个更高级的解决方案是创建一个 QImageReader 和一个关联的 Image IO 插件来读取您的格式（[http://qt-project.org/doc/qt-4.8/qimagereader.html](http://qt-project.org/doc/qt-4.8/qimagereader.html)），然后使用图像创建一个 QPixMap阅读器（[http://qt-project.org/doc/qt-4.8/qpixmap.html#fromImageReader](http://qt-project.org/doc/qt-4.8/qpixmap.html#fromImageReader)）并使用给定的 QPixmap 创建一个 QBrush 并使用它来绘制 :)

# javascript - 如何在我的文档中“弹出”一个 IFRAME？

> ID：11239205
> 
> 赞同：2
> 
> 时间：2012-06-28T06:33:32.683
> 
> 标签：javascript, jquery, iframe, userscripts

我正在将同一域中的页面加载到`iframe`我的页面上。

在与 JavaScript 驱动的表单交互后，`iframe`我希望它接管整个文档。我不能只将我的页面位置设置为 的位置，`iframe`因为无法通过传递 URL 参数使其达到我想要的状态。

我能找到的跳出`iframe`s 的所有参考资料都是关于`iframe`控制弹出的页面。我想弹出`iframe`主文档上下文中的代码。

（我的项目实际上是一个 Google Chrome 用户脚本，它与我无法控制服务器的第 3 方网站进行交互。）

我正在使用 jQuery，但 vanilla JavaScript 当然也可以。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T08:10:00.967

您不能通过常规方法 ( `location.href = "..."`) 真正“弹出” iframe，因为您将丢失表单和 JS 状态。

同样，代码如下：

```
document.head=frames[0].document.head;
document.body=frames[0].document.body; 
```

*似乎*可以工作，但不会保留 JS 状态。

可以遍历框架的内容并将结构*和值*复制到当前页面，但这对我来说似乎是一件愚蠢的事情。

我建议你让它*看起来*像框架已经接管了。你可以用这样的代码做到这一点：

```
var usurpingFrame = $("YOUR FRAME SELECTOR");
usurpingFrame.css ( {
    position:   "fixed",
    top:        "0",
    left:       "0",
    "z-index":  "8888",
    margin:     "0",
    height:     "100%",
    border:     "none"
} );
usurpingFrame.width ($(window).width() );
$("*").not (usurpingFrame).not (usurpingFrame.parents() ).hide (); 
```

# html - 如何限制 div 调整大小？

> ID：11239211
> 
> 赞同：1
> 
> 时间：2012-06-28T06:34:00.653
> 
> 标签：html

我有菜单栏，代码如下

```
<div style="background:#000; height: 25px;">
    <div  style="margin-left: 25%; margin-right: 20%; font:13px/27px Arial,sans-serif;">
        <a href="1.html"  style="text-decoration:none; color:#333;"><div class="activeMenu" name="menuNew">1</div></a>    
        <div class="activeMenu" name="menuNew"></div>    
        <a href="#" ><div class="activeMenu" name="menuNew">2</div></a>    
        <a href="#" ><div class="activeMenu" name="menuNew">3</div></a>    
        <a href="#"><div class="activeMenu" name="menuNew">4</div></a>    
        <a href="#">5</div></a>    
        <a href="register.html"  style="text-decoration: none;" ><div class="activeMenu" name="menuNew">6</div></a>    
    </div>    
</div> 
```

当我调整浏览器窗口的大小时，这个 div 中的所有菜单，它们一直相互堆积，看起来很糟糕

当我们调整屏幕大小时，我想限制这个菜单调整大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:44:22.723

您可以对任何块使用 min 和 max 、高度/宽度

```
<div style = "min-height : 300px; max-height : 1024px"> Smthn </div> 
```

上面的 div 不会超过 1024px，高度不会低于 300px。您也可以尝试使用宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:13:50.780

这对我有用，

```
<div  style="margin-left: 25%; margin-right: 20%; font:13px/27px Arial,sans-serif; min-height : 25px; min-width : 1024px;"> 
```

在第二个 div 中添加 min-width 正在工作

谢谢大家的快速回复：）

# objective-c - 如何在 MPMusicPlayer 控制器的 WaveFrom 中创建歌曲可视化

> ID：11239215
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:34:09.613
> 
> 标签：objective-c, ios, ios5, core-audio

Hai Folks 从过去几天开始，我正在编写代码以在 WaveFrom 中创建歌曲可视化。这是我**使用 AVAssetReader 从绘图波形中**获得的代码， 谁能帮我在播放我的歌曲时调用哪种方法我想展示可视化。这是我的代码

**首先，一个通用的渲染方法，它接受一个指向平均样本数据的指针，并返回一个 UIImage。请注意，这些样本不是可播放的音频样本。**

```
-(UIImage *) audioImageGraph:(SInt16 *) samples
            normalizeMax:(SInt16) normalizeMax
             sampleCount:(NSInteger) sampleCount 
            channelCount:(NSInteger) channelCount
             imageHeight:(float) imageHeight {

CGSize imageSize = CGSizeMake(sampleCount, imageHeight);
UIGraphicsBeginImageContext(imageSize);
CGContextRef context = UIGraphicsGetCurrentContext();

CGContextSetFillColorWithColor(context, [UIColor blackColor].CGColor);
CGContextSetAlpha(context,1.0);
CGRect rect;
rect.size = imageSize;
rect.origin.x = 0;
rect.origin.y = 0;

CGColorRef leftcolor = [[UIColor whiteColor] CGColor];
CGColorRef rightcolor = [[UIColor redColor] CGColor];

CGContextFillRect(context, rect);

CGContextSetLineWidth(context, 1.0);

float halfGraphHeight = (imageHeight / 2) / (float) channelCount ;
float centerLeft = halfGraphHeight;
float centerRight = (halfGraphHeight*3) ; 
float sampleAdjustmentFactor = (imageHeight/ (float) channelCount) / (float) normalizeMax;

for (NSInteger intSample = 0 ; intSample < sampleCount ; intSample ++ ) {
    SInt16 left = *samples++;
    float pixels = (float) left;
    pixels *= sampleAdjustmentFactor;
    CGContextMoveToPoint(context, intSample, centerLeft-pixels);
    CGContextAddLineToPoint(context, intSample, centerLeft+pixels);
    CGContextSetStrokeColorWithColor(context, leftcolor);
    CGContextStrokePath(context);

    if (channelCount==2) {
        SInt16 right = *samples++;
        float pixels = (float) right;
        pixels *= sampleAdjustmentFactor;
        CGContextMoveToPoint(context, intSample, centerRight - pixels);
        CGContextAddLineToPoint(context, intSample, centerRight + pixels);
        CGContextSetStrokeColorWithColor(context, rightcolor);
        CGContextStrokePath(context); 
    }
}

// Create new image
UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();

// Tidy up
UIGraphicsEndImageContext();   

return newImage; 
```

}

**接下来，一个接受 AVURLAsset 并返回 PNG 图像数据的方法**

```
- (NSData *) renderPNGAudioPictogramForAssett:(AVURLAsset *)songAsset
 {

NSError * error = nil;

AVAssetReader * reader = [[AVAssetReader alloc] initWithAsset:songAsset error:&error];

AVAssetTrack * songTrack = [songAsset.tracks objectAtIndex:0];

NSDictionary* outputSettingsDict = [[NSDictionary alloc] initWithObjectsAndKeys:

                                    [NSNumber     numberWithInt:kAudioFormatLinearPCM],AVFormatIDKey,
                                    //     [NSNumber     numberWithInt:44100.0],AVSampleRateKey, /*Not Supported*/
                                    //     [NSNumber numberWithInt: 2],AVNumberOfChannelsKey,    /*Not Supported*/

                                    [NSNumber numberWithInt:16],AVLinearPCMBitDepthKey,
                                    [NSNumber numberWithBool:NO],AVLinearPCMIsBigEndianKey,
                                    [NSNumber numberWithBool:NO],AVLinearPCMIsFloatKey,
                                    [NSNumber numberWithBool:NO],AVLinearPCMIsNonInterleaved,

                                    nil];

AVAssetReaderTrackOutput* output = [[AVAssetReaderTrackOutput alloc] initWithTrack:songTrack outputSettings:outputSettingsDict];

[reader addOutput:output];
[output release];

UInt32 sampleRate,channelCount;

NSArray* formatDesc = songTrack.formatDescriptions;
for(unsigned int i = 0; i < [formatDesc count]; ++i) {
    CMAudioFormatDescriptionRef item = (CMAudioFormatDescriptionRef)[formatDesc objectAtIndex:i];
    const AudioStreamBasicDescription* fmtDesc = CMAudioFormatDescriptionGetStreamBasicDescription (item);
    if(fmtDesc ) {

        sampleRate = fmtDesc->mSampleRate;
        channelCount = fmtDesc->mChannelsPerFrame;

        //    NSLog(@"channels:%u, bytes/packet: %u, sampleRate %f",fmtDesc->mChannelsPerFrame, fmtDesc->mBytesPerPacket,fmtDesc->mSampleRate);
    }
}

UInt32 bytesPerSample = 2 * channelCount;
SInt16 normalizeMax = 0;

NSMutableData * fullSongData = [[NSMutableData alloc] init];
[reader startReading];

UInt64 totalBytes = 0; 

SInt64 totalLeft = 0;
SInt64 totalRight = 0;
NSInteger sampleTally = 0;

NSInteger samplesPerPixel = sampleRate / 50;

while (reader.status == AVAssetReaderStatusReading){

    AVAssetReaderTrackOutput * trackOutput = (AVAssetReaderTrackOutput *)[reader.outputs objectAtIndex:0];
    CMSampleBufferRef sampleBufferRef = [trackOutput copyNextSampleBuffer];

    if (sampleBufferRef){
        CMBlockBufferRef blockBufferRef = CMSampleBufferGetDataBuffer(sampleBufferRef);

        size_t length = CMBlockBufferGetDataLength(blockBufferRef);
        totalBytes += length;

        NSAutoreleasePool *wader = [[NSAutoreleasePool alloc] init];

        NSMutableData * data = [NSMutableData dataWithLength:length];
        CMBlockBufferCopyDataBytes(blockBufferRef, 0, length, data.mutableBytes);

        SInt16 * samples = (SInt16 *) data.mutableBytes;
        int sampleCount = length / bytesPerSample;
        for (int i = 0; i < sampleCount ; i ++) {

            SInt16 left = *samples++;

            totalLeft  += left;

            SInt16 right;
            if (channelCount==2) {
                right = *samples++;

                totalRight += right;
            }

            sampleTally++;

            if (sampleTally > samplesPerPixel) {

                left  = totalLeft / sampleTally; 

                SInt16 fix = abs(left);
                if (fix > normalizeMax) {
                    normalizeMax = fix;
                }

                [fullSongData appendBytes:&left length:sizeof(left)];

                if (channelCount==2) {
                    right = totalRight / sampleTally; 

                    SInt16 fix = abs(right);
                    if (fix > normalizeMax) {
                        normalizeMax = fix;
                    }

                    [fullSongData appendBytes:&right length:sizeof(right)];
                }

                totalLeft   = 0;
                totalRight  = 0;
                sampleTally = 0;

            }
        }

        [wader drain];

        CMSampleBufferInvalidate(sampleBufferRef);

        CFRelease(sampleBufferRef);
    }
}

NSData * finalData = nil;

if (reader.status == AVAssetReaderStatusFailed || reader.status == AVAssetReaderStatusUnknown){
    // Something went wrong. return nil

    return nil;
}

if (reader.status == AVAssetReaderStatusCompleted){

    NSLog(@"rendering output graphics using normalizeMax %d",normalizeMax);

    UIImage *test = [self audioImageGraph:(SInt16 *) 
                     fullSongData.bytes 
                             normalizeMax:normalizeMax 
                              sampleCount:fullSongData.length / 4 
                             channelCount:2
                              imageHeight:100];

    finalData = imageToData(test);
}

[fullSongData release];
[reader release];

return finalData; 
```

}

**平均和渲染方法的对数版本**

```
 -(UIImage *) audioImageLogGraph:(Float32 *) samples
               normalizeMax:(Float32) normalizeMax
                sampleCount:(NSInteger) sampleCount 
               channelCount:(NSInteger) channelCount
                imageHeight:(float) imageHeight {

CGSize imageSize = CGSizeMake(sampleCount, imageHeight);
UIGraphicsBeginImageContext(imageSize);
CGContextRef context = UIGraphicsGetCurrentContext();

CGContextSetFillColorWithColor(context, [UIColor blackColor].CGColor);
CGContextSetAlpha(context,1.0);
CGRect rect;
rect.size = imageSize;
rect.origin.x = 0;
rect.origin.y = 0;

CGColorRef leftcolor = [[UIColor whiteColor] CGColor];
CGColorRef rightcolor = [[UIColor redColor] CGColor];

CGContextFillRect(context, rect);

CGContextSetLineWidth(context, 1.0);

float halfGraphHeight = (imageHeight / 2) / (float) channelCount ;
float centerLeft = halfGraphHeight;
float centerRight = (halfGraphHeight*3) ; 
float sampleAdjustmentFactor = (imageHeight/ (float) channelCount) / (normalizeMax -      noiseFloor) / 2;

for (NSInteger intSample = 0 ; intSample < sampleCount ; intSample ++ ) {
    Float32 left = *samples++;
    float pixels = (left - noiseFloor) * sampleAdjustmentFactor;
    CGContextMoveToPoint(context, intSample, centerLeft-pixels);
    CGContextAddLineToPoint(context, intSample, centerLeft+pixels);
    CGContextSetStrokeColorWithColor(context, leftcolor);
    CGContextStrokePath(context);

    if (channelCount==2) {
        Float32 right = *samples++;
        float pixels = (right - noiseFloor) * sampleAdjustmentFactor;
        CGContextMoveToPoint(context, intSample, centerRight - pixels);
        CGContextAddLineToPoint(context, intSample, centerRight + pixels);
        CGContextSetStrokeColorWithColor(context, rightcolor);
        CGContextStrokePath(context); 
    }
}

// Create new image
UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();

// Tidy up
UIGraphicsEndImageContext();   

return newImage; 
```

}

```
 - (NSData *) renderPNGAudioPictogramLogForAssett:(AVURLAsset *)songAsset {

NSError * error = nil;

AVAssetReader * reader = [[AVAssetReader alloc] initWithAsset:songAsset error:&error];

AVAssetTrack * songTrack = [songAsset.tracks objectAtIndex:0];

NSDictionary* outputSettingsDict = [[NSDictionary alloc] initWithObjectsAndKeys:

                                    [NSNumber numberWithInt:kAudioFormatLinearPCM],AVFormatIDKey,
                                    //     [NSNumber numberWithInt:44100.0],AVSampleRateKey, /*Not Supported*/
                                    //     [NSNumber numberWithInt: 2],AVNumberOfChannelsKey,    /*Not Supported*/

                                    [NSNumber numberWithInt:16],AVLinearPCMBitDepthKey,
                                    [NSNumber numberWithBool:NO],AVLinearPCMIsBigEndianKey,
                                    [NSNumber numberWithBool:NO],AVLinearPCMIsFloatKey,
                                    [NSNumber numberWithBool:NO],AVLinearPCMIsNonInterleaved,

                                    nil];

AVAssetReaderTrackOutput* output = [[AVAssetReaderTrackOutput alloc] initWithTrack:songTrack outputSettings:outputSettingsDict];

[reader addOutput:output];
[output release];

UInt32 sampleRate,channelCount;

NSArray* formatDesc = songTrack.formatDescriptions;
for(unsigned int i = 0; i < [formatDesc count]; ++i) {
    CMAudioFormatDescriptionRef item = (CMAudioFormatDescriptionRef)[formatDesc objectAtIndex:i];
    const AudioStreamBasicDescription* fmtDesc = CMAudioFormatDescriptionGetStreamBasicDescription (item);
    if(fmtDesc ) {

        sampleRate = fmtDesc->mSampleRate;
        channelCount = fmtDesc->mChannelsPerFrame;

        //    NSLog(@"channels:%u, bytes/packet: %u, sampleRate %f",fmtDesc->mChannelsPerFrame, fmtDesc->mBytesPerPacket,fmtDesc->mSampleRate);
    }
}

UInt32 bytesPerSample = 2 * channelCount;
Float32 normalizeMax = noiseFloor;
NSLog(@"normalizeMax = %f",normalizeMax);
NSMutableData * fullSongData = [[NSMutableData alloc] init];
[reader startReading];

UInt64 totalBytes = 0; 

Float64 totalLeft = 0;
Float64 totalRight = 0;
Float32 sampleTally = 0;

NSInteger samplesPerPixel = sampleRate / 50;

while (reader.status == AVAssetReaderStatusReading){

    AVAssetReaderTrackOutput * trackOutput = (AVAssetReaderTrackOutput *)[reader.outputs objectAtIndex:0];
    CMSampleBufferRef sampleBufferRef = [trackOutput copyNextSampleBuffer];

    if (sampleBufferRef){
        CMBlockBufferRef blockBufferRef = CMSampleBufferGetDataBuffer(sampleBufferRef);

        size_t length = CMBlockBufferGetDataLength(blockBufferRef);
        totalBytes += length;

        NSAutoreleasePool *wader = [[NSAutoreleasePool alloc] init];

        NSMutableData * data = [NSMutableData dataWithLength:length];
        CMBlockBufferCopyDataBytes(blockBufferRef, 0, length, data.mutableBytes);

        SInt16 * samples = (SInt16 *) data.mutableBytes;
        int sampleCount = length / bytesPerSample;
        for (int i = 0; i < sampleCount ; i ++) {

            Float32 left = (Float32) *samples++;
            left = decibel(left);
            left = minMaxX(left,noiseFloor,0);

            totalLeft  += left;

            Float32 right;
            if (channelCount==2) {
                right = (Float32) *samples++;
                right = decibel(right);
                right = minMaxX(right,noiseFloor,0);

                totalRight += right;
            }

            sampleTally++;

            if (sampleTally > samplesPerPixel) {

                left  = totalLeft / sampleTally; 
                if (left > normalizeMax) {
                    normalizeMax = left;
                }

                // NSLog(@"left average = %f, normalizeMax = %f",left,normalizeMax);

                [fullSongData appendBytes:&left length:sizeof(left)];

                if (channelCount==2) {
                    right = totalRight / sampleTally; 

                    if (right > normalizeMax) {
                        normalizeMax = right;
                    }

                    [fullSongData appendBytes:&right length:sizeof(right)];
                }

                totalLeft   = 0;
                totalRight  = 0;
                sampleTally = 0;

            }
        }

        [wader drain];

        CMSampleBufferInvalidate(sampleBufferRef);

        CFRelease(sampleBufferRef);
    }
}

NSData * finalData = nil;

if (reader.status == AVAssetReaderStatusFailed || reader.status == AVAssetReaderStatusUnknown){
    // Something went wrong. Handle it.
}

if (reader.status == AVAssetReaderStatusCompleted){
    // You're done. It worked.

    NSLog(@"rendering output graphics using normalizeMax %f",normalizeMax);

    UIImage *test = [self audioImageLogGraph:(Float32 *) fullSongData.bytes 
                                normalizeMax:normalizeMax 
                                 sampleCount:fullSongData.length / (sizeof(Float32) * 2) 
                                channelCount:2
                                 imageHeight:100];

    finalData = imageToData(test);
}

[fullSongData release];
[reader release];

 return finalData; 
```

}

```
 **Now the init method that does "the business"**

 - (id) initWithMPMediaItem:(MPMediaItem*) item 
       completionBlock:(void (^)(UIImage* delayedImagePreparation))completionBlock 
{

 NSFileManager *fman = [NSFileManager defaultManager];
 NSString *assetPictogramFilepath = [[self class]    cachedAudioPictogramPathForMPMediaItem:item];

if ([fman fileExistsAtPath:assetPictogramFilepath]) {

    NSLog(@"Returning cached waveform pictogram: %@",[assetPictogramFilepath lastPathComponent]);

    self = [self initWithContentsOfFile:assetPictogramFilepath];
    return self;

}

NSString *assetFilepath = [[self class] cachedAudioFilepathForMPMediaItem:item];

NSURL *assetFileURL = [NSURL fileURLWithPath:assetFilepath];

if ([fman fileExistsAtPath:assetFilepath]) {

    NSLog(@"scanning cached audio data to create UIImage file: %@",[assetFilepath lastPathComponent]);

    [assetFileURL retain];
    [assetPictogramFilepath retain];

    [NSThread MCSM_performBlockInBackground: ^{

        AVURLAsset *asset = [[AVURLAsset alloc] initWithURL:assetFileURL options:nil];
        NSData *waveFormData = [self renderPNGAudioPictogramForAssett:asset]; 

        [waveFormData writeToFile:assetPictogramFilepath atomically:YES];

        [assetFileURL release];

        [assetPictogramFilepath release];

        if (completionBlock) {

            [waveFormData retain];
            [NSThread MCSM_performBlockOnMainThread:^{

                 UIImage *result = [UIImage imageWithData:waveFormData];

                  NSLog(@"returning rendered pictogram on main thread (%d bytes %@ data           in UIImage %0.0f x %0.0f pixels)",waveFormData.length, [imgExtuppercaseString],result.size.width,result.size.height);

                completionBlock(result);

                [waveFormData release];

            }];

        }

    }];

    return nil;

} else {

   NSString *assetFolder = [[self class] assetCacheFolder];

    [fman createDirectoryAtPath:assetFolder withIntermediateDirectories:YES 
   attributes:nil error:nil];

    NSLog(@"Preparing to import audio asset data %@",[assetFilepath lastPathComponent]);

    [assetPictogramFilepath retain];
    [assetFileURL retain];

    TSLibraryImport* import = [[TSLibraryImport alloc] init];
    NSURL    * assetURL = [item valueForProperty:MPMediaItemPropertyAssetURL];

    [import importAsset:assetURL toURL:assetFileURL completionBlock:^(TSLibraryImport* import) {
        //check the status and error properties of
        //TSLibraryImport

        if (import.error) {

            NSLog (@"audio data import failed:%@",import.error);

        } else{
            NSLog (@"Creating waveform pictogram file: %@", [assetPictogramFilepath lastPathComponent]);
            AVURLAsset *asset = [[AVURLAsset alloc] initWithURL:assetFileURL options:nil];
            NSData *waveFormData = [self renderPNGAudioPictogramForAssett:asset]; 

            [waveFormData writeToFile:assetPictogramFilepath atomically:YES];

            if (completionBlock) {
                [waveFormData retain];
                [NSThread MCSM_performBlockOnMainThread:^
                {

                    UIImage *result = [UIImage imageWithData:waveFormData];
                    NSLog(@"returning rendered pictogram on main thread (%d bytes %@ data in UIImage %0.0f x %0.0f pixels)",waveFormData.length,[imgExt uppercaseString],result.size.width,result.size.height);

                    completionBlock(result);

                    [waveFormData release];

                }];

            }
        }

        [assetPictogramFilepath release];
        [assetFileURL release];

    }  ];

    return nil;
} 
```

}

**调用这个的一个例子：**

```
 -(void) importMediaItem 
```

{

```
MPMediaItem* item = [self mediaItem];

// since we will be needing this for playback, save the url to the cached audio.
[url release];
url = [[UIImage cachedAudioURLForMPMediaItem:item] retain];

[waveFormImage release];

waveFormImage = [[UIImage alloc ] initWithMPMediaItem:item completionBlock:^(UIImage* delayedImagePreparation){

    waveFormImage = [delayedImagePreparation retain];
    [self displayWaveFormImage];

}];

if (waveFormImage) {
    [waveFormImage retain];
    [self displayWaveFormImage];
} 
```

}

我已经将所有的类方法、库、NSThread 类添加到我的项目中，一切都得到了修复，但没有得到调用哪个方法，真的很乱

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T12:29:00.740

创建一个视图控制器并添加`importMediaItem`方法。

确保媒体项目不是`nil`。您可以从 iPad 播放器获取当前曲目，如下所示：

```
MPMusicPlayerController* player = [MPMusicPlayerController iPodMusicPlayer];
MPMediaItem *item = [player nowPlayingItem]; 
```

在`viewDidAppear`方法中，调用`importMediaItem`.

添加`displayWaveFormImage`回调方法，并`UIImageView`使用返回的图像创建一个。

确保在运行应用程序之前启动 iPod 播放器。

然后一切正常。

# php - Drupal 7页眉和页脚给出标题

> ID：11239217
> 
> 赞同：1
> 
> 时间：2012-06-28T06:34:13.390
> 
> 标签：php, drupal, drupal-7, drupal-modules, drupal-theming

我正在使用drupal 7。

当你在主页上安装它时，它会给出主页、关于我们页面的链接。

```
<a class="active" href="/drupal/">Home</a> 
```

我想在这里给出这样的标题，但它是drupal核心，我该怎么做才能使它低于输出。

```
<a class="active" href="/drupal/" title="Home">Home</a> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T12:50:20.210

尝试使用[菜单属性](http://drupal.org/project/menu_attributes)模块。

它允许您向锚标记添加标题、id、css 类和更多属性。

希望这会有所帮助……穆罕默德。

# java - 如何将 JLabel 放在矩形内

> ID：11239225
> 
> 赞同：0
> 
> 时间：2012-06-28T06:34:57.537
> 
> 标签：java, swing, graphics, jlabel, paintcomponent

我已经创建了一个矩形，现在我必须将一个 JLabel 放入其中。那么我怎样才能将 JLabel 放在矩形内。

代码在这里： -

```
public class ColoredRect extends JPanel
{

    private double x, y, width, height;  

    public ColoredRect(double x,double y)
    {
          this.x = x;
          this.y = y;
          width = 100;
          height =40;
          rect = new Rectangle2D.Double(this.x , this.y,width,height);
    }
    public void paintComponent(Graphics g) 
    {
        super.paintComponent(g);  
        Graphics2D g2 = (Graphics2D) g;
        g2.setColor(Color.cyan);
        g2.fill(rect);
    }
} 
```

请给我一些想法来实现这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T06:39:59.513

有很多方法可以达到类似的结果。但是，您不应该真正使用您的方法。使用paintComponent 来真正绘制，不要在其上放置swing 组件，我相信它更清晰的方法。

您可以使用 JLayeredPane，将标签放在一层，将绘图放在另一层。

我会考虑在您的标签中使用边框 - 在这种情况下您可能根本不需要矩形。请参阅此处的示例：[带边框的标签](http://www.java2s.com/Code/JavaAPI/javax.swing/JLabelsetBoderBorderborder.htm)

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:26:34.983

将标签绘制为 a `BufferedImage`，绘制矩形，然后绘制图像。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T08:36:05.527

就像 Mark Bramnik 所说，有很多不同的方法可以做到这一点，`paintComponent`是一种，但不是最好的。如果您没有将太多组件放入您的组件`JPanel`中，则可以使用空布局，同时覆盖`paintComponent`您的着色，如下所示：

```
this.setLayout(null);
//...when you get to adding your JLabel...
this.add(theJLabel);
theJLabel.setBounds(x, y, width, height); 
```

请注意，您必须为放置在 JPanel 中的每个组件设置坐标。[此处](http://docs.oracle.com/javase/tutorial/uiswing/layout/none.html)更详细地解释了空布局。

如果您必须重写该`paintComponent`方法，您可以执行以下操作：

```
@Override
protected void paintComponent(Graphics g) {
    super.paintComponent(g);
    Graphics g2 = g.create();
    theJLabel.setPreferredSize(new Dimension(width, height));
    g2.translate(x, y);
    theJLabel.paint(g2);
    g2.dispose();
} 
```

也许丑陋，但可行（此外，代码未经测试，但应该可以工作）。

更清洁的方法可能是[JLayeredPane](http://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html)，或者如果您使用的是 JDK 1.7.0，则[JLayer](http://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html)。

祝你好运！

# hex - 我怎样才能解码一个十六进制字符串？

> ID：11239229
> 
> 赞同：0
> 
> 时间：2012-06-28T06:35:30.280
> 
> 标签：hex, ascii

如何将十六进制字符串解码为 ascii 字符串？我想找到意义

```
559EF4BE-D2E1-4009-AF7B-F81784946A89 
```

或者

```
81CB80D6-62C3-4BC8-99BE-31D7C6E739A4 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:39:47.640

这看起来像一个[GUID](https://en.wikipedia.org/wiki/Globally_unique_identifier)，它只是一个复杂的 ID 号。他们在历史上确实携带了一些关于他们创建的系统的信息，但现在只是随机的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:54:19.300

只是一个小小的说明：“ASCII 字符串”是指用于表示字符的字符集，而不是这些字符是否表示为 int、hex 或可打印字符......

无论如何，我假设您真正想要的是一个程序，它将显示字符的可打印版本。因此，这是在 python 中执行此操作的一种方法：

```
import re

pattern = "559EF4BE-D2E1-4009-AF7B-F81784946A89" #replace this with the hex string you want
hex_list = re.findall("[a-zA-Z0-9]{2}",pattern)
for h in hex_list:
    i = int(h,16)
    ascii_val = chr(i)
    print ascii_val, 
```

祝你好运。

顺便说一句，您提供的十六进制字符串通常不代表字符串。你确定这是你需要的吗？

# facebook - fb：登录按钮范围

> ID：11239230
> 
> 赞同：1
> 
> 时间：2012-06-28T06:35:31.267
> 
> 标签：facebook, scope, fbconnect

我一直在使用 FB:login-button 因为它与 facebook 提供的注册小部件相关联。

不幸的是，与 Facebook 相关的大多数事情一样，更改它用于在用户登录时为用户添加额外权限并不那么直接。

```
<fb:login-button
registration-url="http://url" perms="publish_actions, publish_checkins, user_location,friends_birthday"></fb:login-button> 
```

人们会期望这会添加权限 friends_birthday.... 但是在检查烫发时

```
 $fql_query_url = 'https://graph.facebook.com/'
    . '/fql?q=SELECT+friends_birthday+FROM+permissions+WHERE+uid=me()'
    . '&' . $access_token;
  $fql_query_result = file_get_contents($fql_query_url);
  $fql_query_obj = json_decode($fql_query_result, true); 
```

返回值 0，... 0 表示 false。

按范围替换烫发时，这也不起作用（为什么要更改...???）

那么..建议的路线是什么？似乎每次我开始改变某些东西时，我发现自己重写轮子会更容易。

# c# - 将字符串解析为枚举 C#

> ID：11239232
> 
> 赞同：0
> 
> 时间：2012-06-28T06:29:08.543
> 
> 标签：c#, enums

我有一个以下枚举

```
[Flags]
public enum CreditCardType
{
None = 0x0,
[EnumLabel("Visa")]                Visa           = 0x1,
[EnumLabel("Maestro")]             Maestro        = 0x2,
[EnumLabel("Master Card")]         Master         = 0x4,

} 
```

用户以字符串形式回复这些选项。我正在尝试将字符串转换为枚举

```
CreditCardType=(CreditCardType)Enum.Parse(typeof(CreditCardType),"Visa"); 
```

在此我收到以下错误。未找到请求的值“Visa”。

我哪里错了？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T08:44:26.583

Friends I found my error. I was trying to parse CreditCardType.Visa instead of Visa. Thanks all for the help.Sorry for the confusion.

# sql - 使用 sql 中的 EncryptByPassPhrase 函数加密密码

> ID：11239238
> 
> 赞同：0
> 
> 时间：2012-06-28T06:36:15.650
> 
> 标签：sql

```
alter PROC   [dbo].[Ins_Users] 
@UserID int , 
@UserName nvarchar (max) , 
@Password nvarchar (max) , 
@Name nvarchar (100) , 
@Family nchar (10) , 
@LastLoginDate datetime
AS
BEGIN
-----------------------------------------
DECLARE @Passphrase nvarchar(128);
declare @newPass nvarchar(max);
declare @temp varbinary(max);
SET @Passphrase
    = 'hadi';
SET @temp= EncryptByPassPhrase(@Passphrase,@Password);
set @newPass=CONVERT(nvarchar(max),@temp);
-----------------------------------------
    INSERT INTO [dbo].[Users] 
        ( 
        [UserID], 
        [UserName], 
        [Password], 
        [Name], 
        [Family], 
        [LastLoginDate] 
        ) 
        VALUES 
        ( 
        @UserID, 
        @UserName, 
        @newPass, 
        @Name, 
        @Family, 
        @LastLoginDate 
        ) 
END 
```

我想加密通行证，然后将其存储在数据库中。我在 sql 中使用 EncryptByPassPhrase 函数，它返回一个 varbinary 作为结果，但我的传递列具有 nvarchar 类型，所以我通过 set @newPass=CONVERT(nvarchar(max),@temp); 将结果转换为 nvarchar；当我跟踪它时，加密结果为真，但转换结果为空。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:51:20.100

除了我上面的评论，请参阅转换值[http://sqlblog.com/blogs/peter_larsson/archive/2010/01/27/convert-binary-value-to-string-value.aspx](http://sqlblog.com/blogs/peter_larsson/archive/2010/01/27/convert-binary-value-to-string-value.aspx)的技巧，但作为我说，最好使用 varbinary 列并单独保留转换。

# android - 如何在 Android 的地图视图上绘制区域（圆形/多边形）？

> ID：11239240
> 
> 赞同：1
> 
> 时间：2012-06-28T06:36:19.237
> 
> 标签：android, google-maps, android-mapview

我如何通过在屏幕上拖动在地图视图上绘制一个区域，例如圆形或多边形？？，我搜索了这个问题并找到了仅在投影之间绘制线条的解决方案，但不是这个。

此外，在用户完成绘制区域后，我必须能够获取区域详细信息，例如：

缩放级别、中心点 lat 和 lng、半径/面积

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T13:05:25.643

听起来您需要 Override `dispatchTouchEvent()`。MapView 没有`onTouchListener()`，所以通过使用`dispatchTouchEvent()`你可以截取 mapView 上的触摸，然后使用这些触摸在地图上画一个圆圈。

至于缩放级别，使用`mapView.getZoomLevel()`和 为中心使用`mapView.getMapCenter()`。祝你好运！

# java - 字节类型很奇怪

> ID：11239241
> 
> 赞同：3
> 
> 时间：2012-06-28T06:36:22.640
> 
> 标签：java, android

我需要通过 UDP 协议发送一些字节，起始序列是 0xFF,0xFF,0xFF,0xFF,0xFF,0xFF

当我这样定义时：

```
byte [] begin = {0xFF,0xFF,0xFF,0xFF,0xFF,0xFF}; 
```

我收到一条错误消息，说我需要将它们转换为字节类型。据我所知，0xFF 没有超出字节类型，那么问题是什么？

如果我写这个它可以工作：

```
byte [] begin = {(byte) 0xFF,(byte) 0xFF,(byte) 0xFF,(byte) 0xFF,(byte) 0xFF,(byte) 0xFF}; 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-28T06:38:17.470

> 据我所知，0xFF 没有超出字节类型，那么问题是什么？

实际上确实如此。字节是用 Java 签名的，所以范围是 -0x80 到 0x7f（含）。

`byte`（类型签名的事实*令人*头疼，但我们走了......）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:03:54.893

java中的任何文字数字都编译为int。即使它是在像这里这样的情况下声明的，其中一个字节是预期值。演员表实际上是将文字 int 转换为字节的东西。

# android - 如何检测和关闭系统警报对话框

> ID：11239244
> 
> 赞同：2
> 
> 时间：2012-06-28T06:36:43.900
> 
> 标签：android

我有一个始终以全屏模式显示视频的应用程序。所以我有一个signle活动和SurfaceView。无法访问设备的屏幕或按钮，所以我只有一个显示视频的监视器。

问题是我的移动运营商不时会发送一个广告，该广告会在设备上作为警报对话框打开。此对话框显示在我的活动上方，我需要以某种方式关闭它们。或者也许以某种方式禁止系统打开这种类型的对话框。

是否有可能在android上以及如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:03:33.917

您不能关闭属于系统或 3rd 方应用程序的对话框，但根据您的设置和需要，您确实有其他几个解决方案：

*   在播放视频时以编程方式关闭移动网络连接（或将手机完全置于飞行模式），因此您不会从网络获得任何其他数据（短信或任何其他类型）

*   当您的活动失去焦点（`onPause`事件）时，将其带回焦点或重新启动它，同时保留当前视频时间

# jquery - 引导数据表表格工具按钮显示奇怪的图像

> ID：11239254
> 
> 赞同：2
> 
> 时间：2012-06-28T06:37:56.050
> 
> 标签：jquery, google-chrome, twitter-bootstrap, datatables

我使用数据表从页面中的表中加载数据。该表标有 id="datatables"，我使用以下代码在其上初始化数据表。

```
jQuery(document).ready(function() {
        jQuery('#datatables').dataTable( {
            "sDom": 'T<"clear"><"H"lf>rt<"F"ip>',
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sLengthMenu": "_MENU_ records per page"
            }
        } );

    } ); 
```

在 chrome 中加载页面时，我遇到了加载垃圾图像的问题，而在 Firefox 中则很好。没有 chrome 中的表格工具，一切正常。当我添加表格工具时，按钮会加载一些随机的，有时甚至是垃圾图像。我尝试清除缓存，但没有希望。在某些时候，即。一旦在一个bluemoon中，它确实可以干净地加载并在下一次重新加载时关闭。当我右键单击页面并在某处打开检查元素时，图像变得正常。

chrome 控制台显示 200 OK 用于加载 swf 文件。我尝试将文件单独加载为：

```
"oTableTools": {
            "sSwfPath": "media/swf/copy_csv_xls_pdf.swf"
        } 
```

仍然没有希望。它在 Firefox 中运行良好。问题仅存在于 chrome 中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:58:09.937

我认为这是在 chrome 中加载像 swf 这样的 Flash 图像的问题，这是一个现有的错误。chrome 团队在新版本中已对其进行了纠正。Bootstrap 数据表在新界面中运行良好。请尝试升级您的 chrome。

# mysql - 插入表作为存储过程返回的数据

> ID：11239256
> 
> 赞同：1
> 
> 时间：2012-06-28T06:38:04.373
> 
> 标签：mysql

我想将从存储过程返回的数据存储到表中。我试过这个。

```
insert into table1 call sp_test(); 
```

但它失败了。

我该怎么做呢 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:42:44.190

尝试这个

```
call sp_test(@var)    
insert into table1 (select @var); 
```

在过程中，参数中应该有变量

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:44:54.190

如果它返回数据，它是一个[存储函数，而不是一个存储过程](http://dev.mysql.com/doc/refman/5.6/en/create-procedure.html)。在这种情况下，您不使用`CALL`，而只是在[`INSERT … SELECT`](http://dev.mysql.com/doc/refman/5.6/en/insert-select.html)语句中使用它，如下所示：

```
INSERT INTO table1 SELECT sp_test() 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-28T06:47:14.937

供`function`使用`select`

```
insert into table1 select sp_test(); 
```

[如何插入...存储过程](https://stackoverflow.com/questions/687102/mysql-how-to-insert-into-temp-table-from-stored-procedure)

# jquery - jQuery用文本框替换元素

> ID：11239258
> 
> 赞同：3
> 
> 时间：2012-06-28T06:38:09.893
> 
> 标签：jquery, jquery-ui

我想用 jQuery 的文本框替换 ap 标签。我尝试过的方法不起作用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T06:43:29.863

```
<p> Some text.. </p>

$('p').dblclick(function(){
    var textArea = $('<textarea />')
    var oldText = $(this).text();

    $(this).replaceWith(textArea);
    textArea.val(oldText);
});​ 
```

[请参见此处](http://jsfiddle.net/mrobin/msRu6/)的示例。

在 focusout 上，您可以读取新值（或旧值）并将其设置回`p`标签中。

[在此处](http://jsfiddle.net/mrobin/msRu6/1/)查看该示例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:42:20.727

请试试这个：

API：[http ://api.jquery.com/replaceWith/](http://api.jquery.com/replaceWith/) **演示：http:** [//jsfiddle.net/Yuuhr/](http://jsfiddle.net/Yuuhr/)

> 用提供的新内容替换匹配元素集中的每个元素。

如果我遗漏了什么或提供完整的 html，请告诉我

希望这可以帮助

**代码**

```
$('p').replaceWith('<textarea id="foohulk"/>') 
```

# visual-studio-2010 - 我想在不同的 Windows 操作系统上运行编码的 UI 测试用例，我需要在所有这些操作系统上安装 vsvt 吗？

> ID：11239261
> 
> 赞同：0
> 
> 时间：2012-06-28T06:38:24.177
> 
> 标签：visual-studio-2010, coded-ui-tests

我创建了一个编码的 ui 测试用例，我想在不同的语言环境/平台上运行这些用例，例如 ENU XP、JPN Win7。我需要在所有客户端上安装 vsvt 吗？我认为答案是否定的，但其他方法是什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T16:24:16.830

您只需在要运行测试的机器上安装 Visual Studio 测试代理。

有关测试代理和控制器的更多信息在这里：http: [//msdn.microsoft.com/en-us/library/dd293551.aspx](http://msdn.microsoft.com/en-us/library/dd293551.aspx)

测试代理下载：[http ://www.microsoft.com/en-us/download/details.aspx?id=1334](http://www.microsoft.com/en-us/download/details.aspx?id=1334)

最后，使用编码的 UI 测试配置测试代理：http: [//msdn.microsoft.com/en-us/library/ee291332.aspx](http://msdn.microsoft.com/en-us/library/ee291332.aspx)

希望这可以帮助 ：）

# programming-languages - “避免捕获替换”是什么意思？

> ID：11239262
> 
> 赞同：37
> 
> 时间：2012-06-28T06:38:39.107
> 
> 标签：programming-languages, lambda-calculus

在阅读 Wiki 中的 Lambda Calculus 时，遇到了**Capture-avoiding substitutions**一词。有人可以解释它的含义，因为我在任何地方都找不到定义。

谢谢

附言

我想知道的是告诉操作**Capture-avoiding substitutions**的原因。如果有人能做到这一点，那将是一个很大的帮助

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-07-04T16:24:00.890

通常，我们在 lambda 演算中选择的特定变量名是没有意义的 - 的函数与or或`x`的函数是一样的。换句话说：`a``b``c`

*(λx.( λy.yx* )) 等价于 (λa.(λb.ba)) - 重命名`x`为`a`和`y`不改变任何东西`b`。

 *由此，您可能会得出结论，允许任何替换 - 即任何 lambda 项中的任何变量都可以被任何其他变量替换。事实并非如此。考虑上面第一个表达式中的内部 lambda：

(λy.yx)

在这个表达式中，`x`是“免费的”——它不受 lambda 抽象的“约束”。如果我们用 替换`y`，`x`表达式将变为：

(λx.xx)

这有着完全不同的含义。两者`x`现在都指向 lambda 抽象的参数。最后一个`x`（最初是“免费的”）已被“捕获”；它被 lambda 抽象“绑定”。

避免意外捕获自由变量的替换被称为“避免捕获替换”。

现在，如果我们在 lambda 演算中关心的只是用一个变量替换另一个变量，那么生活会很无聊。更现实地说，我们想要做的是用*lambda term*替换变量。因此，我们可以用*lambda 抽象*(λx.t) 或*应用程序*(xt) 替换变量。在任何一种情况下，都适用相同的考虑 - 当我们进行替换时，我们希望确保不会通过意外“捕获”一个最初是自由的变量来改变原始表达式的含义。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-28T20:28:22.230

如果将变量放置在绑定变量的 lambda（或其他绑定构造，如果它们存在）下，则该变量被*捕获。*它被称为*避免捕获替换*，因为该过程避免意外地允许替换中的自由变量被捕获到原始表达式中。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-28T06:45:39.177

用 E' 代替 E 中的 x（写成 [E'/x]E ）

*   步骤 1\. 重命名 E 和 E' 中的绑定变量，使它们是唯一的
*   步骤 2\. 对 E 中的 x 执行 E' 的文本替换
    称为*避免捕获替换*。

**示例：** [y (λx. x) / x] λy。(λx.x) yx

重命名后：[y (λv. v)/x] λz。(λu.u) zx
代入后：λz。(λu. u) z (y (λv. v))*

# android - 请任何人都可以在 LogCat 中解释此异常

> ID：11239263
> 
> 赞同：1
> 
> 时间：2012-06-28T06:39:03.290
> 
> 标签：android, android-logcat

```
06-28 12:07:10.881: E/(930): {total=21 secs, date2=28-06-2012, time2=9:43:09 AM, time1=9:42:48 AM, date1=28-06-2012}
06-28 12:07:11.131: E/testing(930): exception:android.view.ViewRoot$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
06-28 12:07:11.160: E/(930): {total=24 secs, date2=28-06-2012, time2=10:45:02 AM, time1=10:44:38 AM, date1=28-06-2012}
06-28 12:07:11.601: E/testing(930): exception:java.lang.IllegalArgumentException: The observer is null. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:41:14.737

*   .ViewRoot$CalledFromWrongThreadException：只有创建视图层次结构的原始线程才能接触其视图

看起来您正在尝试从非 UI 线程更新 UI 元素。

应该使用`Handler`或`runOuUIThread`活动的功能或`Asynctask`根据您的需要

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:42:03.583

查看在单独线程中编写并尝试更新您的应用程序 UI 的代码。

您需要将该代码放入`runOnUiThread`.

```
runOnUiThread(new Runnable() {
     public void run() {
           // COde to update UI.
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:41:22.927

您正在尝试在不是 UI 线程的线程上修改 UI 组件。看看[`runOnUiThread`](http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29)从非 UI 线程更新 UI 组件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:46:54.533

您可以使用线程，但所有视图以及所有与视图相关的 API 都必须从**主线程**（也称为**UI 线程**）调用。要从后台线程执行此操作，您需要使用**Handler**。**处理**程序是一个对象，它将为您将消息发回 UI 线程。

# objective-c - 在 IOS 中捕获匹配的字符串 - 匹配由 NSPREDICATE 完成

> ID：11239265
> 
> 赞同：0
> 
> 时间：2012-06-28T06:39:16.227
> 
> 标签：objective-c

我有一个代码来匹配正则表达式和我的字符串。一旦我执行代码，结果显示匹配是 YES。

谁能帮助我在其他位置单独提取匹配的字符串

这是我下面的代码

```
 (void)viewDidLoad 
    {
    NSString *string = @"@002@[00152-614[4000846555@";

    NSString *expression = @"[\-@0]{1}[0-9]{3}[\-@]{1}[\[0]{1}[0-9]{5}[\-0]{1}[0-9]{3,}[\[0]{1} [0-9\-]{7,}[@0]{1}";

    NSPredicate *predicate = [NSPredicate predicateWithFormat:@"SELF MATCHES %@", expression];

    BOOL match = [predicate evaluateWithObject:string];

    if(match) NSLog(@"match is YES") ;

    else NSLog(@"match is NO") ;

  [super viewDidLoad];

 } 
```

提前致谢

问候

普拉文库马尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:20:05.860

尝试这个

```
 - (BOOL) validateEmail: (NSString *)candidate {
   NSString *emailRegex = @"[\-@0]{1}[0-9]{3}[\-@]{1}[\[0]{1}[0-9]{5}[\-0]{1}[0-9]{3,}[\[0]{1} [0-9\-]{7,}[@0]{1}"; 
   NSPredicate *emailTest = [NSPredicate predicateWithFormat:@"SELF MATCHES %@", emailRegex]; 
   return [emailTest evaluateWithObject:candidate];
  } 
```

# javascript - CKEditor：如何重置或重用实例？

> ID：11239274
> 
> 赞同：2
> 
> 时间：2012-06-28T06:40:12.260
> 
> 标签：javascript, jquery, ckeditor

我在内容编辑页面上有一个 CKEditor 实例。我正在寻找重用或重置 CKEditor 实例。

**用例**

我有一个表格，其中每个单元格都是可编辑的。当用户单击一个单元格时，我会向他们展示提供编辑功能的 CKEditor。

我正在使用设置数据`CKEDITOR.instances.cellContent.setData( cellContent );`

我正在获取数据`var cellContent = CKEDITOR.instances.cellContent.getData();`

这很好用，除了 CKEditor 在我调用之后仍然认为它具有旧内容`setData()`

1.  用户单击单元格 #1
2.  用户编辑单元格 #1，在单词上使用颜色“红色”
3.  用户保存单元格 #1
4.  用户单击单元格#2
5.  现在 CKEditor 将颜色“红色”显示为活动/使用。但实际上并不是因为使用了该颜色，编辑器中已经加载了其他内容。

**有谁知道如何重置、重用或（有效地）重新实例化 CKEditor 实例？**

（谷歌在这方面没有帮助我）

感谢您的思考！

**更新 1**

我正在使用单个编辑器实例，该实例将用于编辑每个表格单元格。（不活动时隐藏，通过在包含元素上设置 display:none）

**更新 2**

我在 Mac 上使用 Firefox 13.0.1。尽管 Chrome 上不会出现这种颜色问题，但粗体/斜体按钮确实会出现同样的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:24:22.860

无法在新元素上重新实例化编辑器。一个实例在其整个生命周期内都绑定到一个可编辑的实例。

您还没有提到如何初始化编辑器。对于每个表格单元格，因为您想在单元格中拥有编辑器？或者您在表格之外有一个编辑器，您只想在那里加载单击的单元格的内容并在模糊/更改/等上更新它。

如果您选择了第一个选项，那么您必须为每个表格单元格创建编辑器实例。您不必在页面加载时执行此操作 - 最好在单击单元格时执行此操作。当用户离开单元格时，您不必销毁 ( `editor#destroy`) 编辑器 - 最好将其隐藏并稍后再用于同一单元格。

如果您选择了第二个选项，那么`setData/getData`应该足以刷新编辑器的 UI（按钮状态）。我现在检查了一下，这看起来像一个错误。幸运的是，它可以通过`editor#focus`在设置数据后调用来轻松修复 - 然后更新 UI（至少在我的快速测试中）。如果它不起作用，请延迟对焦，因为我是从控制台手动测试的，所以默认情况下它是延迟的。

# iphone - 如何加密/解密视频网址

> ID：11239276
> 
> 赞同：0
> 
> 时间：2012-06-28T06:40:14.680
> 
> 标签：iphone

我的应用中有视频网址。我想加密/解密这些 URL。我正在尝试很多，但我找不到任何方法来做到这一点。

请 。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:53:53.777

与其像 Will 建议的那样加密 URL，不如用标识符替换它们可能更有用。这些可以是独特的东西的散列（例如，sha，md..），对于每个用户来说可能是独特的。哈希值可以存储在数据库中，当用户尝试获取视频时，您可以根据用户权限对操作进行身份验证。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:46:46.403

你可以使用[ROT13](http://en.wikipedia.org/wiki/ROT13)

由于您想在应用程序中加密和解密 URL，因此执行此操作的关键也在应用程序中。

因此，“攻击者”可以使用密钥。

因此，我们谈论的是混淆，仅此而已。

无论发生什么，当您实际在应用程序中*获取*视频时，攻击者都可以观察到这样做。

因此，ROT13 可能是您在安全性和便利性之间的正确权衡。

# jasperserver - 在 jasper 服务器 4.5.0 中使用自定义数据源报告作业调度

> ID：11239280
> 
> 赞同：0
> 
> 时间：2012-06-28T06:40:32.733
> 
> 标签：jasperserver

我正在使用 Jasperserver 4.5.0 Pro。我为一些附加功能开发了一个自定义数据源。使用此自定义 DS 的所有报告都会正确执行，并在手动执行时显示正确的输出。但是，当使用 Jasper 的报告作业计划程序计划相同的报告时，会话启动会出现一些问题，因此报告不会被执行。

让我稍微解释一下。

1.  对于手动执行报告 -

作为自定义 DS 的一部分，我必须更新以下 2 个 xmls -

viewReportFlow.xml：我更新了动作状态“runReport”以使用我们自定义的 DS 执行器动作 bean 方法“xmlHttpDsExecuterAction.setUpSession”来启动会话。请参阅下面的 runReport 标签 -

```
<action-state id="runReport" xmlns:b="http://www.springframework.org/schema/webflow" xmlns:xi="http://www.w3.org/2001/XInclude">
<on-entry>
    <evaluate expression="xmlHttpDsExecuterAction.setUpSession"/>
</on-entry>
<evaluate expression="viewReportActionBean"/>
<transition on="success" to="reportOutput"/>
<on-exit>
    <evaluate expression="xmlHttpDsExecuterPageAction.setIndex"/>
</on-exit> 
```

viewReportBeans.xml ：我在这里定义了上述流 xml 中使用的执行器操作 bean -

```
<bean id="xmlHttpDsExecuterAction" class="com.sigma.reporting.xmlhttpds.XmlHttpDsExecuterAction" xmlns:xsi="http://www.w 3.org/2001/XMLSchema-instance"/> <bean id="xmlHttpDsExecuterPageAction" class="com.sigma.reporting.xmlhttpds.XmlHttpDsExecuterPageAction" xmlns:xsi="http://www.w 3.org/2001/XMLSchema-instance">
<property name="requestParameterPageIndex" value="pageIndex"/>
<property name="flowAttributePageIndex" value="pageIndex"/>
<property name="xmlHttpDataSourceName" value="com.sigma.reporting.xmlhttpds.XmlHttpDsExecuterDataSourceService"/>
<property name="repository">
    <ref bean="repositoryService"/>
</property>
<property name="jasperPrintName" value="jasperPrintName"/>
<property name="reportUnitObject" value="reportUnitObject"/> </bean> 
```

1.  对于报告的作业调度：我想使用调度程序实现与上面类似的实现。在我的调查过程中，我试图分析调度程序流程，并尝试进行我们的更改，但到目前为止还没有运气。任何人都可以让我知道通过调度程序运行报告使用哪些流程，还请推荐配置自定义 DS 的位置吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T13:31:52.353

最后，在了解了 japser 服务器调度程序的流程之后，我得到了解决方案。为了设置您的自定义数据源 bean 和调用函数，我们需要指定 bean 目标，我们可以在**jobOutput**标记中的***reportJobFlow.xml***`$JASPER_HOME/apache-tomcat/weaaps/jasperserver-pro/WEBINF/flows/reportJobBeans.xml`中使用这个 bean，就像这样

 ***```
 <view-state id="jobOutput" view="modules/reportScheduling/jobOutput">
        <on-entry>
            <set name="flowScope.prevForm" value="'jobOutput'"/>
            <evaluate expression="reportOptionsJobEditAction.setOutputReferenceData"/>
            <evaluate expression="xmlHttpDsExecuterAction.setUpSession"/>
        </on-entry>
 </view-state> 
```***

# android - Sencha Android原生打包使用eclipse

> ID：11239282
> 
> 赞同：0
> 
> 时间：2012-06-28T06:40:36.697
> 
> 标签：android, sencha-touch-2

我已经使用 Sencha Touch 2 创建了基本应用程序。现在我想创建 .apk 文件。我尝试使用 AndroidSDK Tool 但无法完成。

谁能告诉我如何使用eclipse创建.apk文件的分步过程。我已经安装了 ADT 插件。

如何使用 Eclipse 为我的 sencha touch 2 应用程序生成 .apk 文件。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-29T23:12:24.057

查看：[http](http://docs.sencha.com/touch/2-0/#!/guide/native_android) ://docs.sencha.com/touch/2-0/#!/guide/native_android 它解释了如何通过命令行打包原生 android 应用程序。看起来很简单。我自己还没试过。它需要 Sencha SDK 工具。

# php - 如何在区分大小写的 MySQL 数据库上执行不区分大小写的搜索？

> ID：11239283
> 
> 赞同：0
> 
> 时间：2012-06-28T06:40:43.847
> 
> 标签：php, mysql

如何在区分大小写的 MySQL 数据库上执行不区分大小写的搜索？
例如，**名称 = 测试 & 名称 = 测试**。
然后查询返回测试和测试。
如何对此进行查询..??

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T06:43:41.360

尝试

```
select * from your_table
where `name` = 'test'
COLLATE latin1_general_ci 
```

或者

```
select * from your_table
where `name` = 'test'
COLLATE utf8_general_ci 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:44:13.633

```
$query = "SELECT * FROM table WHERE LOWER(name) = '" . strtolower($name) . "'"; 
```

# android - 检测设备方向

> ID：11239285
> 
> 赞同：5
> 
> 时间：2012-06-28T06:40:59.547
> 
> 标签：android, automation, accelerometer, autorotate

我需要在不手动播放传感器数据的情况下检测 android 设备方向的变化，同时保持活动方向坚持某个方向

`onConfigurationChange`将无法正常工作，因为我的活动不会旋转。

使用传感器数据来检测方向变化我认为这是轮子的发明，因为 android 已经嵌入了算法的实现来检测设备方向变化。而从另一方面来说，方向变化的检测并不是像这样简单的检查。

```
 public void onSensorChanged(SensorEvent event) {
        if (event.sensor.getType() != Sensor.TYPE_ACCELEROMETER || event.values.length < 3) {
            return;
        }
        //getResources().getConfiguration().orientation;
        if (event.values[1] < 6.5 && event.values[1] > -6.5) {
            if (orientation!=1) {
                Log.d("Sensor", "Protrait");
            }
            orientation=1;
        } else {
            if (orientation!=0) {
                Log.d("Sensor", "Landscape");
            }
            orientation=0;
        }
   } 
```

它确实需要真正的数据处理，例如过滤噪音和突然的短暂摇晃/旋转。

那么有什么想法可以使用旧服务检测设备方向吗？（再一次，我会坚持我的活动以某种方向，所以`onConfigurationChange`不会工作）

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-28T07:12:02.390

有一个定向事件的侦听器。

[在此处查看文档。](http://developer.android.com/reference/android/view/OrientationEventListener.html)

[SO问题提到了那个监听器的实现。](https://stackoverflow.com/questions/7095654/implementing-orientationeventlistener-to-help-camera-issues-without-camerainfo)

[此博客中相同的代码示例](http://android-er.blogspot.in/2010/08/orientationeventlistener-detect.html)

我希望这能帮到您

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-08-19T15:20:10.653

通过在 Manifest 中设置`screenOrientation`属性，您将无法再从中获取方向值`onConfigurationChanged`，因为它会停止发射，可以实现`SensorEventListener`获取`Pitch`,`roll`和`yaw`角度来计算方向，但这有点复杂并且对于这样的任务来说有点过分了。我找到的最佳解决方案是使用`OrientationEventListener`，以下代码将在方向更改时更新旋转值，根据旋转角度，该值为 0 到 4：

```
private OrientationEventListener listener;
private int rotation;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    listener = new OrientationEventListener(this, SensorManager.SENSOR_DELAY_NORMAL) {
        @Override
        public void onOrientationChanged(int orientation) {
            rotation = ((orientation + 45) / 90) % 4;
        }
    };
    if (listener.canDetectOrientation()) listener.enable();
    else listener = null; // Orientation detection not supported
}

@Override
protected void onDestroy() {
    super.onDestroy();
    if (listener != null) listener.disable();
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-01-17T17:43:33.013

我的活动设置为始终处于纵向模式。将此代码放在创建上。

```
 myOrientationEventListener = new OrientationEventListener(this,SensorManager.SENSOR_DELAY_NORMAL) {
        public void onOrientationChanged(int arg0) {
            if (arg0>=315 || arg0<45){
                currentOrientation = Surface.ROTATION_90;
            }else if (arg0>=45 && arg0<135){
                currentOrientation = Surface.ROTATION_180;
            }else if (arg0>=135 && arg0<225){
                currentOrientation = Surface.ROTATION_270;
            }else if (arg0>=225 && arg0<315){
                currentOrientation = Surface.ROTATION_0;
            }
        }
    }; 
```

# jasper-reports - iReport 组表达式多个字段

> ID：11239288
> 
> 赞同：2
> 
> 时间：2012-06-28T06:41:11.450
> 
> 标签：jasper-reports, ireport

我怎么能用`iReport`多个字段编写组表达式？报告输出应如下所示。

```
Buyer   Product Unit    Quantity    Total
------------------------------------------
Buyer2  Banana  Count    50
                                    50
Buyer2  Banana  Kg        5
Buyer2  Banana  Kg        5
                                    10
Buyer2  Coconut Count    20
                                    20
Buyer4  Papaya  Count   500
                                    500
Buyer4  Mango   Count   200
                                    200
Buyer5  Banana  Kg       15
Buyer5  Banana  Kg       15
                                     30 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T18:43:23.003

最简单的做法是创建多个组。因此，在您的示例中，您将使用三个组，一组用于买方、产品和单位。然后，您可以使用变量对数量求和，并将其与单位组一起重置。

下面是一个基本的 JRXML 示例，您可以对其进行调整：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report1" language="groovy" pageWidth="612" pageHeight="792" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="b478862e-b118-4290-8664-eae9b2966b31">
    <parameter name="GROUP_BY" class="java.lang.String">
        <defaultValueExpression><![CDATA[$F{field1}]]></defaultValueExpression>
    </parameter>
    <field name="buyer" class="java.lang.String"/>
    <field name="product" class="java.lang.String"/>
    <field name="unit" class="java.lang.Number"/>
    <field name="quantity" class="java.lang.String"/>
    <variable name="sumQuantity" class="java.lang.Number" resetType="Group" resetGroup="unit" calculation="Sum"/>
    <group name="Buyer">
        <groupExpression><![CDATA[$F{buyer}]]></groupExpression>
    </group>
    <group name="product">
        <groupExpression><![CDATA[$F{product}]]></groupExpression>
    </group>
    <group name="unit">
        <groupExpression><![CDATA[$F{unit}]]></groupExpression>
        <groupFooter>
            <band height="26">
                <textField>
                    <reportElement uuid="d1f95335-0fee-4d75-ac0d-74f0dc478a78" x="400" y="0" width="100" height="20"/>
                    <textElement/>
                    <textFieldExpression><![CDATA[$V{sumQuantity}]]></textFieldExpression>
                </textField>
            </band>
        </groupFooter>
    </group>
    <columnHeader>
        <band height="21" splitType="Stretch">
            <staticText>
                <reportElement uuid="c4ee8763-fb32-4805-9bcd-4b407bd7ae35" x="0" y="0" width="100" height="20"/>
                <textElement/>
                <text><![CDATA[buyer]]></text>
            </staticText>
            <staticText>
                <reportElement uuid="5c5e099b-f2b4-4c98-b428-bc3983711136" x="100" y="0" width="100" height="20"/>
                <textElement/>
                <text><![CDATA[product]]></text>
            </staticText>
            <staticText>
                <reportElement uuid="1bff9ddd-fa17-4b7f-bc00-032653cf2307" x="200" y="0" width="100" height="20"/>
                <textElement/>
                <text><![CDATA[unit]]></text>
            </staticText>
            <staticText>
                <reportElement uuid="94e75612-cee4-45e9-97c0-a0d1b8ac6269" x="300" y="0" width="100" height="20"/>
                <textElement/>
                <text><![CDATA[quantity]]></text>
            </staticText>
            <staticText>
                <reportElement uuid="92e83a6d-198f-4ee1-95eb-295cb2415136" x="400" y="0" width="100" height="20"/>
                <textElement/>
                <text><![CDATA[total]]></text>
            </staticText>
        </band>
    </columnHeader>
    <detail>
        <band height="23" splitType="Stretch">
            <textField>
                <reportElement uuid="927b66fa-f4aa-4acf-ac85-fde9164bc974" x="0" y="0" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{buyer}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="f5e8d24f-5529-489d-94b9-78b86b09adda" x="100" y="0" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{product}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="9c9f129b-64c7-40d5-a0a9-af2069d58296" x="200" y="0" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{unit}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="d9443c16-dcac-4a72-b85f-d961c215aee4" x="300" y="0" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{quantity}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
</jasperReport> 
```

# c# - 根据 GridCell 中的坐标更新 Combobox

> ID：11239291
> 
> 赞同：0
> 
> 时间：2012-06-28T06:41:23.233
> 
> 标签：c#

我在具有**combox.Location 属性的****GridViewCell中附加了一个****组合框**。但是，我有多个组合框。更新组合框项目/值时，在GridCell 中看不到更改的选定项目。如何根据位置更新组合？

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:46:34.393

您可以通过以下方式找到组合框及其位置：

```
ComboBox tempCombo = (ComboBox)This.Controls.Find("YourComboBoxName",True)[0]; 
```

然后你可以参考 tempCombo 并重新填充它。****

# javascript - 在 javascript 中设置下拉列表的值

> ID：11239298
> 
> 赞同：0
> 
> 时间：2012-06-28T06:42:19.420
> 
> 标签：javascript, html

我在 html 中定义了一个下拉列表，如下所示。我已经从 javascript 中附加了下拉列表的值。我试图设置的值是“5”。但它不起作用。有人可以告诉我另一种方式吗？

```
<html>
<head>
<title>Title</title>
<script type="text/javascript" src="phonegap-1.4.1.js"></script>
<script type="text/javascript" src="JS/Util.js"></script>
<script type="text/javascript" src="JS/Language.js"></script>
<script type="text/javascript"> 
function dropdown(){
document.getElementById("numberlist").appendChild(5);
}
</script>
</head>

<body onload="dropdown();">
<div id="main3"></div>

<select id = "numberlist"><option>12</option><option>24</option><option>36</option></select>

</body>

</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:55:56.783

从原始问题复制。这会解决你的问题吗？

```
function dropdown(){ 
var drp = document.getElementById("numberlist");
var optn = document.createElement("OPTION"); 
optn.text="3";  
optn.value="3";   
drp.add(optn);
} 
```

# jdeveloper - ADF 项目中的布局已损坏

> ID：11239302
> 
> 赞同：0
> 
> 时间：2012-06-28T06:42:25.160
> 
> 标签：jdeveloper, oracle-adf

我正在 Jdeveloper 11.1.1.2.0 IDE 上开发一些项目，但遇到了烦人的问题。jspx页面布局损坏，运行项目时附加到任何页面的所有控件都消失得无影无踪。它们也不显示在设计选项卡中。当我修改某些页面时，问题突然出现。

现在我无法处理该项目，必须从头开始重新启动项目。因此，如果您遇到并解决了同样的问题。你能告诉我怎么做吗？我非常感谢听到任何建议。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:21:48.700

您的描述不允许对发生的事情进行任何有根据的猜测。您至少可以粘贴遇到问题的页面源吗？

开发人员将内容放置到不是为此而设计的并且不会延伸的方面通常会发生此类问题。或者如果 a 标签没有正确关闭或丢失（页面源编辑器应该标记这个）

在从头开始之前（根本不需要这样做），请尝试使用 JDeveloper 11.1.2.2 在以后的构建中重现它。

# android - 如何将 JSON 字符串转换为表格？

> ID：11239304
> 
> 赞同：-2
> 
> 时间：2012-06-28T06:42:52.427
> 
> 标签：android, json

如何打开这个 JSON：

```
{"GetReportResult":
  [
   {"bulan":"4","total":"2448","type":"CHEESE1K"}, 
   {"bulan":"4","total":"572476","type":"ESL"},
   {"bulan":"4","total":"46008","type":"ESL500ML"},
   {"bulan":"5","total":"5703","type":"CHEESE1K"},
   {"bulan":"5","total":"648663","type":"ESL"},
   {"bulan":"5","total":"51958","type":"WHP"},
   {"bulan":"6","total":"6190","type":"CHEESE1K"},
   {"bulan":"6","total":"443335","type":"ESL"},
   {"bulan":"6","total":"30550","type":"ESL500ML"},
  ]
} 
```

在Android上进入这样的表格：

```
---------------------------------------------
|   type   | total1  |   total2   |  total3 |
---------------------------------------------
| CHEESE1K | 6190    |   5703     |  2448   |
| ESL      | 443335  |   648663   |  572476 |
| WHP      | 30550   |   51958    |  46008  |
--------------------------------------------- 
```

最好的方法是什么？谢谢 ：）

[这是我到目前为止所做的代码](http://www.pastie.org/4164098)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:29:38.253

在您的代码中，您传递`mylist`到`ListAdapter`，但您没有添加`map`到`mylist`任何地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:52:22.590

简单的方法可能是

*   [使用GSON](http://code.google.com/p/google-gson/)解析 JSON 字符串

像这样：

```
 String json = "{\"GetReportResult\":" + 
"  [" + 
"   {\"bulan\":\"4\",\"total\":\"2448\",\"type\":\"CHEESE1K\"}, " + 
"   {\"bulan\":\"4\",\"total\":\"572476\",\"type\":\"ESL\"}," + 
"   {\"bulan\":\"4\",\"total\":\"46008\",\"type\":\"ESL500ML\"}," + 
"   {\"bulan\":\"5\",\"total\":\"5703\",\"type\":\"CHEESE1K\"}," + 
"   {\"bulan\":\"5\",\"total\":\"648663\",\"type\":\"ESL\"}," + 
"   {\"bulan\":\"5\",\"total\":\"51958\",\"type\":\"WHP\"}," + 
"   {\"bulan\":\"6\",\"total\":\"6190\",\"type\":\"CHEESE1K\"}," + 
"   {\"bulan\":\"6\",\"total\":\"443335\",\"type\":\"ESL\"}," + 
"   {\"bulan\":\"6\",\"total\":\"30550\",\"type\":\"ESL500ML\"}," + 
"  ]" + 
"}"; 
ReportResults reports = new Gson().fromJson(json, ReportResults.class);
List<ReportResult> results = reports.getGetReportResult();
for(ReportResult result:results)System.out.println(result); 
```

报告结果类：

```
package com.yourcomp.test;
import java.util.List;

public class ReportResults {

    private List<ReportResult> GetReportResult;

    /**
     * Gets the getReportResult.
     * 
     * @return <tt> the getReportResult.</tt>
     */
    public List<ReportResult> getGetReportResult() {
        return GetReportResult;
    }

    /**
     * Sets the getReportResult.
     *
     * @param getReportResult <tt> the getReportResult to set.</tt>
     */
    public void setGetReportResult(List<ReportResult> getReportResult) {
        GetReportResult = getReportResult;
    }

} 
```

报告结果类：

```
package com.yourcomp.test;

public class ReportResult {

    private String bulan; 
    private String total;
    private String type;
    /**
     * Gets the bulan.
     * 
     * @return <tt> the bulan.</tt>
     */
    public String getBulan() {
        return bulan;
    }
    /**
     * Sets the bulan.
     *
     * @param bulan <tt> the bulan to set.</tt>
     */
    public void setBulan(String bulan) {
        this.bulan = bulan;
    }
    /**
     * Gets the total.
     * 
     * @return <tt> the total.</tt>
     */
    public String getTotal() {
        return total;
    }
    /**
     * Sets the total.
     *
     * @param total <tt> the total to set.</tt>
     */
    public void setTotal(String total) {
        this.total = total;
    }
    /**
     * Gets the type.
     * 
     * @return <tt> the type.</tt>
     */
    public String getType() {
        return type;
    }
    /**
     * Sets the type.
     *
     * @param type <tt> the type to set.</tt>
     */
    public void setType(String type) {
        this.type = type;
    }
    /* (non-Javadoc)
     * @see java.lang.Object#toString()
     */
    @Override
    public String toString() {
        return "ReportResult [bulan=" + bulan + ", total=" + total + ", type="
                + type + "]";
    }

} 
```

然后使用解析结果显示在 TableLayout 中。

# java - javax.net.ssl.SSLHandshakeException：sun.security.validator.ValidatorException：PKIX 路径构建失败：

> ID：11239306
> 
> 赞同：3
> 
> 时间：2012-06-28T06:43:05.883
> 
> 标签：java, security, https, ssl-certificate

我在生产中有三个基于 Java 的 Web 应用程序 app1、app2 和 app3。所有 3 个都由经过验证的 CA 验证，并托管在 3 个不同的 Web 服务器和 https 上。app1,app2 由安全 trust 验证。app3 由 trustwave 验证。

下面是证书证书的层次结构，当我通过网络浏览器点击任何这些应用程序时，我可以看到。

app1,app2 证书层次结构相同.e

```
 Entrust.net Secure Server Certification Authority---> SecureTrust CA------->*.myAppDomain.com 
```

app3 证书层次结构是

```
 Entrust.net Secure Server Certification Authority---> SecureTrust CA------->TrustWave Organization Validation CA, L------->*.myApp3.com 
```

现在，当 app1 连接到 app2 时，工作正常。但是当 app1 连接到 app3 时出现异常

```
 javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: 
   sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target 
```

现在，我在托管 app1 的 Web 服务器上查看了 jdk 内的 cacert 文件（即信任库）。我试图找到 Entrust、SecureTrust、TrustWave 的条目，但只找到了像 entrustevca、entrust2048ca 等这样的条目。所以如果我按照这样的逻辑，如果根证书（对于应用程序 app2 和 app3 都是 Entrust）位于信任库中联系应用程序（app3），我可以在 app3 上的 cacert 文件中看到，那么当 app1 尝试通过 httpsURLConnection 联系 app3 时，我不应该收到上述错误。**我不明白这是什么原因？我不确定我们是否还需要包括 trustwave，尽管根证书，即 Entrust，内部已经对 trustwave 进行了身份验证？**

**如果我需要在 app3 上的 cacert 文件中包含 trustwave 证书（由 app2 使用），那么按照该逻辑，我还应该在 app3 上的 cacert 文件中包含securetrust（由 app2 使用），但它工作正常吗？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T08:50:06.550

客户端的信任库不信任服务器的证书。因此，客户端的信任库中没有受信任的 CA 证书与服务器提供的证书链中的任何内容相匹配。所以证书链是不完整的。您需要将CA 提供的*所有内容导入服务器的密钥库。*

# java - VisualVM 在生产中？

> ID：11239307
> 
> 赞同：8
> 
> 时间：2012-06-28T06:43:08.720
> 
> 标签：java, jvm, profiling, visualvm

我考虑在生产 JVM 上运行[VisualVM](http://visualvm.java.net/)以查看那里发生了什么 - 由于某种原因它开始消耗过多的 CPU。

它不能导致 JVM 失败，所以我试图估计所有风险。

我在他们的[网站](http://visualvm.java.net/troubleshooting.html)上看到的唯一可能导致 JVM 关闭的问题与类共享和`-Xshare`JVM 选项有关，但是在服务器模式和/或 x64 系统上未启用 afaik 类共享。

那么在生产 JVM 上运行 VisualVM 真的安全吗，如果不是的话 - 应该考虑哪些风险，以及在 JVM 上运行 VisualVM（并对其进行分析）会产生多少负载（CPU/内存） ?

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T07:17:35.500

AFAIK VisualVM 可用于生产，但我只会在负载较轻的服务器上使用它。您可以做的是等待服务变慢，然后在它没有使用太多时对其进行测试以查看某些集合是否大得惊人。或者您可以触发堆转储并离线分析它。

如果没有大量开销，您将无法获得方法调用的统计信息。Java 6 和 7 比 Java 5 更好，但即使使用商业分析器，它仍可能使您的应用程序速度降低 30%。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T09:05:16.250

实际上，您可以通过使用堆栈转储获得一些信息而无需大量开销。甚至还有一个脚本可以帮助您在[https://gist.github.com/851961上执行此操作](https://gist.github.com/851961)

这种类型的分析是您可以获得的最少侵入性的。

# linux - 使用 Sync Framework 在 Linux 上同步 SQLite DB

> ID：11239309
> 
> 赞同：1
> 
> 时间：2012-06-28T06:43:24.997
> 
> 标签：linux, sqlite, synchronization, microsoft-sync-framework

我需要使用 Microsoft 同步框架在 Linux 平台上同步 SQLite 数据库。

我在 Windows 平台上构建了示例同步应用程序，但 Linux 是一个问题。有任何想法吗 ？

# github - 如何在 github 问题跟踪器中高效地编辑 Markdown？

> ID：11239314
> 
> 赞同：3
> 
> 时间：2012-06-28T06:43:46.733
> 
> 标签：github

我喜欢 github 问题跟踪器支持 Markdown 的事实。但是，我发现在 github 编辑器中实际编写 Markdown 是相对不愉快的。它缺少 StackOverflow 上 Markdown 编辑器的许多功能。

例如，它缺少：

*   将多行代码缩进四个空格的按钮
*   将引号添加到每行开头的按钮
*   实时降价预览
*   固定宽度字体
*   使用 imgur 插入图像的能力
*   关闭浏览器窗口时的确认对话框，否则您可能会丢失工作

特别是无法插入代码块可能是我最怀念的功能。

当然，我可以在单独的编辑器中编写我的 markdown，然后将其粘贴到 github 问题跟踪器中，但这并不是特别吸引人。如果我小心不要点击“提问”，我什至可以使用 StackOverflow 编辑器，但这似乎有点傻。

### 问题

*   无论如何改变 github 中的文本框以合并 StackOverflow 中的编辑功能？
*   或者如果在另一个文本编辑器中键入更好，那么这样做的特别优雅的方式是什么？（例如，最少的步骤，简单的前后移动，良好的编辑器）也许有一种方法可以单击文本框并调出 Rich Markdown 编辑器，该编辑器在关闭时会将内容返回到原始文本框？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:45:12.857

你应该呼吁 GitHub 添加一个。你的论点是正确的。Stack Overflow 展示了编辑器可以是功能性的、非侵入性的和有品位的。

同时，可能有一个浏览器扩展可以做到这一点。[https://chrome.google.com/webstore/detail/cpojebknccclkjabfngjlcknonpmhhol](https://chrome.google.com/webstore/detail/cpojebknccclkjabfngjlcknonpmhhol)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T17:23:00.137

如果您使用的是 Windows，您可能需要检查 MarkPad：[http ://code52.org/DownmarkerWPF/](http://code52.org/DownmarkerWPF/)

免责声明：我自己从未使用过它（在 Ubuntu 上），只是在观看 code52 项目时阅读过它。我知道它可以编辑多个博客系统的帖子，但我不确定 Github 是否在受支持的网络资源列表中。当然，它的语法是受支持的。

# javascript - 如何在正则表达式中添加特殊符号以允许在文本字段中？

> ID：11239317
> 
> 赞同：1
> 
> 时间：2012-06-28T06:44:05.313
> 
> 标签：javascript, regex

我有以下代码，它只允许数字 0-9。
但我也想允许 -(hyphon)。[- ASCII 码是 45]
我试过了.. 但没用.. 你能更新我的代码吗？

```
函数 isNumericKey(e)
        {
        if (window.event) { var charCode = window.event.keyCode; }
        else if (e) { var charCode = e.which; }
        否则 { 返回真；}
        if (charCode > 31 && (charCode < 48 || charCode > 57)) { return false; }
        返回真；
    }
    函数 submitMyNumber()
    {
        var input = document.getElementById('myInput').value;
        返回 input.match(/^[0-9-]+$/) != null;
    }

`<form>
<input type="text" id="myInput" name="myInput" onkeypress="return isNumericKey(event);" /><br />
    <input type="submit" id="mySubmit" name="mySubmit" value="Submit My Number" onclick="return submitMyNumber();" />
</form></pre>` 

拉克斯曼乔达里

            回答 #1

赞同：0

时间：2012-06-28T07:14:53.893

如果您想接受 29-06-2012 即 2 个数字连字符 2 个数字连字符 4 个数字，这是日期模式，则正则表达式是`[0-9]{2}-[0-9]{2}-[0-9]{4}`

            回答 #2

赞同：0

时间：2012-06-28T06:45:56.873

看来您过滤了 45 charcode

```
 function isNumericKey(e)
        {
        if (window.event) { var charCode = window.event.keyCode; }
        else if (e) { var charCode = e.which; }
        else { return true; }
        if (charCode == 45 || (charCode >= 48 && charCode <= 57)
           return true;
        else
           return false;
    } 
```

会更好地工作。

在正则表达式中指定范围时以连字符开头。

```
 /^[-0-9]+$/
    ^-- here

 /^[0-9-]+$/
       ^--- does not work here 
```

如果您想匹配日期，则该模式可能类似于 dd-dd-dd （但哪种格式？ISO YYYY-MM-DD ？或其他）更正确的模式将是。

```
 /^\d{4}-\d{2}-\d{2}$/ 
```

应该是这个更好

```
 /^[12]\d{3}-[01]\d-[0-3]\d$/ 
```

对于 DD-MM-YYYY 恢复模式非常简单：

```
 /^[0-3]\d-[01]\d-[12]\d{3}$/ 
```

```

# html - CSS - 为图像周围的文字留出足够的水平空间

> ID：11239320
> 
> 赞同：1
> 
> 时间：2012-06-28T06:44:21.150
> 
> 标签：html, css, image, word-wrap

我想在它周围显示图像和文本。问题是我事先不知道图像大小。我不想放大图像。可以缩小图像。我希望图像占用不大于 100% 的最大空间。所以以下情况都可以

```
1.
--------------------------
[  IMAGE            100% ]
Text Text Text Text TExt T
ext Text Text Text Text Te

2.
--------------------------
Text Text  [ IMAGE   50% ]
Text Text Text Text TExt T
ext Text Text Text Text Te

3.
--------------------------
Text Text Text T [ IMAGE ]
ext Text Text Text TExt Te
xt Text Text Text Text Tex 
```

1\. 图像被缩小到全宽。在 2\. 到半宽度。在 3 它是自然图像大小。

我没有解决方案，所以我决定离开案例 1\. 并设置图像`max-width: 50%;`

```
 .myimage{
            max-width: 50%;
            max-height: 200px;
            float: right;
            height: auto;
            margin-left: 10px;
        } 
```

如果我设置`max-width: 100%;`我有时会得到图像的原始大小约为宽度的 80%，然后为文本留下的水平空间太少，这看起来很难看。

如果仅使用 CSS 是不可能的，那么您将如何使用 JavaScript 来做到这一点？

我现在要做的是将图像的最大宽度设置为 50%。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:58:51.327

检查小提琴 - [http://jsfiddle.net/VUYHZ/2/](http://jsfiddle.net/VUYHZ/2/)

希望你正在寻找相同的

# php - 每 x 小时生成一个在两台机器上总是相同的代码？

> ID：11239321
> 
> 赞同：0
> 
> 时间：2012-06-28T06:44:21.510
> 
> 标签：php, random, code-generation

考虑到两台机器的时间设置没有同步，是否仍然可以在每台机器中运行一个 PHP 脚本（例如），并且它们在每 x 小时运行时仍然会生成相同的随机代码？

例如：

如果我在下午 1 点在服务器 A 中运行脚本，它将返回“random182”。如果我在下午 1 点在服务器 B 中运行脚本，它将返回“random182”。

如果我在下午 2 点在服务器 A 中运行脚本，它将返回“random747”。如果我在下午 2 点在服务器 B 中运行脚本，它将返回“random747”。

如果可能的话，我应该如何以及什么样的功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:51:33.343

机器需要一个通用的[初始化向量 (IV)](http://en.wikipedia.org/wiki/Initialization_vector)用于它们的伪随机序列。

传统上这是系统时间（如果安全性不重要）。所以：

*   同步您的时间，例如[ntp](http://en.wikipedia.org/wiki/Network_Time_Protocol)（在应用程序或机器级别）
*   或者当你调用它时将IV传递给你的脚本，即被调用者正在说IV是什么

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:51:17.943

PHP 时间根据 php.ini 文件中的指定值返回。因此，首先计算差异，然后将其添加到“延迟”运行的时间，然后输出您喜欢的任何内容。

# ruby-on-rails-3 - 在任何来源中都找不到 mime-types-1.19

> ID：11239324
> 
> 赞同：0
> 
> 时间：2012-06-28T06:44:33.030
> 
> 标签：ruby-on-rails-3

$rake 数据库：迁移

错误：

在第 18 行第 3 列扫描简单键时找不到预期的“：”

如何解决这个问题

我正在使用 mysql

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T10:04:42.530

检查 .yml 文件。在“：”之前和之后留出空间

# c++ - 一个矩阵中的数据自动复制到C++中opencv中的另一个矩阵

> ID：11239326
> 
> 赞同：0
> 
> 时间：2012-06-28T06:44:38.140
> 
> 标签：c++, image-processing, opencv, matrix

我已经创建了一个函数，其中我正在传递一个矩阵并返回处理后的矩阵，但是处理后的矩阵的数据被复制到我传递的矩阵中，例如。

```
 output=processMatrix(srcCopy); 
```

然后当我显示这两个矩阵时，我在 srcCopy 和输出中得到相同的图像，我将它们分配为内存；

```
 output=Mat(image.rows,image.cols,CV_8UC1 );
    srcCopy=Mat(image.rows,image.cols,CV_8UC1 ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:03:41.823

问题是`cv::Mat`复制构造函数对 source做了一个*浅拷贝*`cv::Mat`。见[这里](http://docs.opencv.org/modules/core/doc/basic_structures.html#mat)。您可能需要做的是使用该`cv::MAt::clone()`方法创建原始副本的克隆。然后，可以避免函数参数列表中的浅拷贝：

```
cv::Mat skeletonize(const cv::Mat& m) { 
  // use clone() in here to make a new Mat and return it
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:18:26.593

您可以`Mat Mat::clone()`用来创建副本。

```
Mat dst= src.clone();
src.Release(); 
```

[Mat Clone](http://docs.opencv.org/modules/core/doc/basic_structures.html#mat-clone)的文档

# selenium - 发送按键事件失败：事件详情：Type 3 Keycode 13；未修改的文本：，修改后的文本：，修饰符：0

> ID：11239327
> 
> 赞同：2
> 
> 时间：2012-06-28T06:44:39.763
> 
> 标签：selenium, cucumber, webdriver, capybara

我的工作是在黄瓜水豚和硒 webdriver 上开发的框架。在我的一个步骤定义中，我使用 curl 命令获取代码，在下一步定义中我必须输入密码。使用 curl 命令的步骤定义正在获取代码，但下一步定义失败，因为它无法输入给出以下错误的密码

“发送键事件失败：事件详细信息：类型 3 键码 13；未修改的文本：，修改的文本：，修饰符：0”

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-11T05:54:56.610

密钥代码 13 是`Enter`密钥。在将其作为密码提交之前，您可能需要空格命令`strip`的结果。`curl`

# wordpress - Wordpress 插件不更新/安装

> ID：11239329
> 
> 赞同：1
> 
> 时间：2012-06-28T06:44:42.773
> 
> 标签：wordpress

从昨天开始，我已经多次尝试在使用 wordpress 构建的网站上升级/安装插件（不是我的，我第一次使用它）。

安装新插件时收到以下消息：

```
Downloading install package from http://downloads.wordpress.org/plugin/[plugin-name].zip…

Unpacking the package… 
```

它停在那里。

我也尝试更新 akismet。它没有升级，网站挂在维护模式。该网站现在再次启动，我在仪表板上收到此消息：

```
An automated WordPress update has failed to complete - please attempt the update again now. 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:44:26.143

### 这里有几种可能性

*   权限不正确。
*   Prombelmatic 插件。
*   .htaccess 中的配置不允许文件大到足以执行操作。
*   尝试将**AddType x-mapp-php5 .php**添加到 .htaccess 文件的顶部。
*   尝试删除 .maintenance 文件。

    * * *

# c# - 通过接口将带有列表，字符串字段的数据绑定到winforms c#中的网格视图

> ID：11239333
> 
> 赞同：0
> 
> 时间：2012-06-28T06:45:03.373
> 
> 标签：c#, winforms, datagridview

我想将数据绑定到网格。我的课如下。

```
 public class Dependency
     {
         public string issueID { get; set; }
         public string jirastatus { get; set; }
         public int dependencyFound { get; set; }
         public List<string> depends { get; set; }
         public List<string> linked_issues { get; set; }
       } 
```

我正在尝试通过向导或 UI 绑定数据。 ![在此处输入图像描述](../Images/3a4f5007670c69e7287fb58245898072.png)

这里没有出现列表类型字段。通过UI是不可能的吗？我不知道如何通过代码绑定。任何一次都可以给我任何链接或解决方案。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:18:50.967

对于父子关系（集合关联），您使用父级数据填充一个网格视图。当用户单击其中一个记录获取并在单独的网格中显示相应的子数据时，当它是列表类型时。否则，您可能需要考虑使用支持嵌套网格显示的第三方网格控件。

# facebook - 如何获取 Facebook 点赞按钮的评论列表

> ID：11239335
> 
> 赞同：0
> 
> 时间：2012-06-28T06:45:16.813
> 
> 标签：facebook, facebook-graph-api, facebook-like

现在我们的要求是这样的：

我们在一页上有一个赞按钮，用户可以点击那个赞按钮并在弹出的评论框中输入评论。

问题是如何获取指定页面的like按钮的所有评论？我们想在这个页面的另一个地方显示所有这些评论。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:54:51.627

> 我们在一页上有一个赞按钮，用户可以点击那个赞按钮并在弹出的评论框中输入评论。

如果用户在使用“赞”按钮时在弹出的框中键入评论，则结果*不是*评论，而是 URL 的*链接共享*——因此这是该用户墙上的单独帖子。

我看了看 FQL 表，但在不知道使用“赞”按钮的实际用户的情况下，没有找到任何可以为您提供结果帖子的内容。

# box-api - 禁止调用 /tokens api

> ID：11239341
> 
> 赞同：0
> 
> 时间：2012-06-28T06:45:42.753
> 
> 标签：box-api

我正在使用 API 密钥尝试新的“私人测试版”功能“令牌”（[http://developers.box.com/docs/#tokens](http://developers.box.com/docs/#tokens)），我认为它具有私人测试版访问权限。

但我得到以下回复：

```
{
    "type":"error",
    "status":403,
    "code":"forbidden",
    "help_url":"http:\/\/developers.box.com\/docs\/#errors",
    "message":"Forbidden",
    "request_id":"10957639134febfbf1f1477"
} 
```

看起来我获得的 API 密钥无权访问“令牌”api。有什么方法可以验证吗？你们有什么感想？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T17:02:54.033

[根据文档中的说明](http://developers.box.com/docs/#tokens)，您需要通过 apiATboxDOTcom 联系我们才能启用此功能。

# php - 用于 Codeigniter 应用程序的简单且安全的 CMS/博客插件

> ID：11239342
> 
> 赞同：0
> 
> 时间：2012-06-28T06:45:47.827
> 
> 标签：php, codeigniter, codeigniter-2

我有一个定制的 codeigniter 应用程序，现在我的网站需要一个 CMS/Blog 插件。我不想从头开始写这样的东西。

我正在寻找一个开源的简单/轻量级和安全的 CMS/博客，用 codeigniter 编写，具有以下功能：

1）帖子和页面

2) 类别

3) 在文本编辑器中上传图片

4) 不使用 HMVC，而是正常的 codeigniter 安装的东西

5）不一定需要用户ACL，我可以自己管理

6) 不需要 SEO 网址，例如 (www.site.com/blog/view/1) 就可以了

不需要主题/模板支持，因为我想将它与我的应用程序的外观融合在一起。

我已经搜索过类似的东西，但只能找到像 FuelCMS 这样的大型 CMS，我认为它们具有更多功能。

任何人都可以建议我上面的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:52:30.913

我想向您推荐 pyrocms。它是最好的 CMS 之一，可以满足您想要做的大部分要求。你可以从这里得到它[http://www.pyrocms.com/](http://www.pyrocms.com/)

# java - 使用 java.util.concurrent.executors

> ID：11239346
> 
> 赞同：0
> 
> 时间：2012-06-28T06:46:03.247
> 
> 标签：java

我正在尝试编写一个将模块作为单独线程运行的服务。该服务需要通过将 Runnable/Callable 作为参数来提供开始运行模块的接口。它还应该提供优雅的关闭，例如记录失败的原因并关闭与数据库和其他东西的连接。（如何添加此功能？）

我明白这`java.util.concurrent.executors`对我来说是正确的。但无法将事物连接在一起。如果有人可以分享一个大纲或很好的教程，那就太好了`java.util.concurrent.executors`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:10:15.550

也许你假设太多了。一个 Executor 被创建，你向它添加任务，当你完成它时可以使用关闭。不需要魔法。如果要记录错误/异常，请使用 try/catch 块。

# php - php exec() - git push origin master 不工作，但其他 git 命令正在工作

> ID：11239352
> 
> 赞同：0
> 
> 时间：2012-06-28T06:46:19.800
> 
> 标签：php, git

我使用了以下代码：

```
 echo exec("git add . ");  //this is working  
echo exec("git commit -am 'first commit' "); //also working  
echo exec("git push origin master");  //NOT WORKING, also not showing any error . 
```

我将文件夹权限从用户更改为 www-data 。所以，一些 git 命令正在工作，但是

```
GIT PUSH ORIGIN MASTER 
```

不能从 php exec 工作。解决办法是什么 ？另外，请告诉我为什么 PUSH in exec 没有显示任何错误或消息，我怎么能看到这些消息。另外，如果可能的话，请为我提供任何好的链接，以便更高级地使用 php exec 中的 git 命令。

更新：我也试过这个：我通过创建文件 .git/hooks/post-commit 添加了提交后挂钩

我添加了这段代码：

```
git push origin master 
```

但是我提交后没有收到任何消息或错误，它只是提交但没有做任何推送。

谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-30T21:03:54.737

我假设 push 命令将尝试推送到**远程**存储库（即不是系统上的另一个文件夹，而是 SSH/HTTPS 后面的远程服务器）。

在这种情况下，您很可能缺少 HTTPS 客户端证书 HTTPS 或 SSH 密钥。您的网络服务器（以及 PHP）很可能以不同的用户身份运行，并且无权访问私钥。除此之外，如果私钥需要密码，它将不起作用，因为 exec 命令不是交互式会话。

无论如何，我强烈建议您使用某种绑定而不是调用二进制文件。任何直接调用都将启动一个新进程，这比调用库效率低得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T09:11:21.250

你检查过你在哪个分支吗？'git status' 会告诉你。

我还建议在分支上工作，而不是直接在 master 上工作。

> git 分支 dev_test
> 
> git checkout dev_test
> 
> 混帐添加。
> 
> git commit -a -m "第一条评论"
> 
> git push origin dev_test
> 
> git结账大师
> 
> git 合并 dev_test
> 
> git push 起源大师

# java - How do I Construct a list on the fly and pass it as a method parameter?

> ID：11239357
> 
> 赞同：3
> 
> 时间：2012-06-28T06:46:34.707
> 
> 标签：java, arrays, list

I have a a method like this :

```
List < Object > getObjects(List<Integer> ids) 
```

I want to construct a list on the fly (as a parameter) using an integer (say some int a) instead of creating and storing a list in a local variable and then passing it.

```
List<Integer> intList = new ArrayList<Integer>();
intList.add(a);
getObjects(intList) 
```

How do i do this?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-28T06:50:15.683

You can either use [`Arrays.asList()`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)):

```
getObjects(Arrays.asList(a)); 
```

or [`Collections.singletonList()`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#singletonList(T)) if you have only one value (faster and more compact):

```
getObjects(Collections.singletonList(a)); 
```

Tip: consider static imports:

```
import static java.util.Arrays.asList;
import static java.util.Collections.singletonList;

getObjects(asList(a));
getObjects(singletonList(a)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T06:46:35.360

This is how you would pass it.

```
getObjects(Arrays.asList(a)). 
```

[Java Reference for Arrays.asList()](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList%28T...%29)

# c++ - 为什么 sizeof 运算符无法在函数模板中工作？

> ID：11239360
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:46:37.773
> 
> 标签：c++, templates, sizeof

我正在尝试学习 C++ 函数模板。我正在传递一个数组作为指向我的函数模板的指针。在那，我试图找到一个数组的大小。这是我使用的函数模板。

```
template<typename T>
T* average( T *arr)
{
    T *ansPtr,ans,sum = 0.0;    

    size_t sz = sizeof(arr)/sizeof(arr[0]);
    cout<<"\nSz is "<<sz<<endl;

    for(int i = 0;i < sz; i++)
    {
        sum = sum + arr[i];
    }
    ans = (sum/sz);
    ansPtr = &ans;
    return ansPtr;
} 
```

即使我将指针传递给整数数组，该`cout`语句也会显示`arr`as的大小。现在我知道这可能与我之前提到的问题重复，但我需要对此进行更好的解释。`1``5`

我唯一能想到的是，由于模板是在运行时调用的，并且`sizeof`是一个编译时运算符，编译器只是忽略该行

```
 int sz = sizeof(arr)/sizeof(arr[0]); 
```

因为它在实际调用函数之前不知道 arr 的确切类型。这是正确的还是我在这里遗漏了什么？将指向数组的指针发送到函数模板是否可靠？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T06:51:03.030

```
 T *arr 
```

这是 C++，因为“`arr` 是指向`T`”的指针。`sizeof(arr)`显然是指“指针的大小`arr`”，而不是“数组的大小`arr`”，原因很明显。这是该计划的关键缺陷。

要获得数组的大小，函数需要对数组进行操作，显然不是指针。众所周知（对吗？）数组不是指针。

此外，平均函数应该返回一个平均值。而是`T*`一个“指针`T`”。平均函数不应返回指向值的指针。那不是一个值。

有一个指针返回类型并不是最后的攻击：返回一个指向局部变量的指针*是最糟糕的*。[你为什么要偷酒店房间钥匙？](https://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope/6445794#6445794)

```
template<typename T, std::size_t sz>
T average( T(&arr)[sz])
{
    T ans,sum = 0.0;    

    cout<<"\nSz is "<<sz<<endl;

    for(int i = 0;i < sz; i++)
    {
        sum = sum + arr[i];
    }
    ans = (sum/sz);
    return ans;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T06:56:13.370

如果您希望能够访问传递参数的大小，您也必须将其设为模板参数：

```
template<typename T, size_t Len>
T average(const T (&arr)[Len])
{
    T sum = T();
    cout<<"\nSz is "<<Len<<endl;
    for(int i = 0;i < Len; i++)
    {
        sum = sum + arr[i];
    }
    return (sum/Len);
} 
```

显然，您可以省略 sizeof。而且您不能意外传递一个动态分配的数组，这是一件好事。不利的一面是，模板不仅会为每种类型实例化一次，而且会为每种尺寸实例化一次。如果你想避免重复大部分代码，你可以使用第二个模板函数，它接受指针和长度并返回平均值。这可以从内联函数中调用。

```
template<typename T>
T average(const T* arr, size_t len)
{
    T sum = T();
    cout<<"\nSz is "<<len<<endl;
    for(int i = 0;i < len; i++)
    {
        sum = sum + arr[i];
    }
    return (sum/len);
}

template<typename T, size_t Len>
inline T average(const T (&arr)[Len])
{
    return average(arr, Len);
} 
```

另请注意，返回函数本地变量的地址是一个*非常*糟糕的主意，因为它不会超过函数。所以最好返回一个值并让编译器负责优化不必要的复制。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-28T06:48:27.060

数组作为参数传递时会衰减为指针，因此您可以有效地获取指针的大小。它与模板无关，它是语言的设计方式。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T07:41:18.510

其他人已经指出了直接的错误，但是恕我直言，他们没有解决两个重要的问题。如果它们发生在生产代码中，我会考虑这两个错误：

首先，你为什么不使用`std::vector`？由于历史原因，C 风格的数组被破坏了，通常应该避免使用。有例外，但它们主要涉及静态变量的静态初始化。你*永远不*应该将 C 风格的数组作为函数参数传递，因为它们会产生你遇到的那种问题。（可以编写既能处理 C 样式数组又能*高效* `std::vector`处理的函数。该函数应该是一个函数模板，但是，它需要两个模板类型的迭代器。）

第二个是你为什么不使用标准库中的函数？您的函数基本上可以写成一行：

```
template <typename ForwardIterator>
typename ForwardIterator::value_type
average( ForwardIterator begin, ForwardIterator end )
{
    return std::accumulate( begin, end, 
                            typename::ForwardIterator::value_type() )
                / std::distance( begin, end );
} 
```

（当然，这个函数对于浮点类型是不可靠的，因为舍入错误会使结果变得毫无价值。浮点会引发一整套额外的问题。而且它对于整数类型也可能并不可靠，因为溢出的风险。但这些是更高级的问题。）

# php - 在 wamp 服务器中使用 adodb 连接到数据库

> ID：11239361
> 
> 赞同：0
> 
> 时间：2012-06-28T06:46:38.587
> 
> 标签：php, connection, wamp, adodb

我尝试使用 ADODB 插件连接到 WAMP 服务器中的数据库，但我不能，这里是我的代码：

```
$this->xml = NewADOConnection('mysql://root:@localhost/xml_tarpine');
$this->xml->SetFetchMode(ADODB_FETCH_ASSOC); 
$this->xml->Execute('SET NAMES "utf8"'); 
```

问题出在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-14T14:33:19.153

试试这个简单的类

```
class AdoConnection {

    public $dbh;

    public function __construct() {
        include_once '../adoconnection/adodb5/adodb.inc.php'; // include your adodb.inc.php file

        $server = "127.0.0.1";
        $user   = "USER/SCHEMA/Database";
        $pwd    = "password";
        $db     = "SID OR Service_Name";

        $this->dbh = NewADOConnection('oci8');
        $this->dbh->Connect(FALSE, $user, $pwd, '(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = ' . $server. ')(PORT = 1521)) (CONNECT_DATA = (SERVICE_NAME = ' . $db . ') (SID = ' . $db . ')))');
    }

    public function select($sql) {
        $result = $this->dbh->Execute($sql);
        $result = $result->GetRows();
        return $result;
    }

    public function insert($sql) {
        $result = $this->dbh->Execute($sql);
        return $result;
    }
}

$dbh = new AdoConnection();

$dbh->select($sql);
$dbh->insert($sql); 
```

只需保持您的 error_reporting 和 display_errors On 即可查看错误。

```
ini_set('display_errors',1);
error_reporting(E_ALL); 
```

# objective-c - UISlider 的上次值和当前更改值

> ID：11239362
> 
> 赞同：1
> 
> 时间：2012-06-28T06:46:42.690
> 
> 标签：objective-c, ios, cocoa-touch, ipad, uislider

我在视图中添加了一个 UISlider 并为 UIControlEventvaluechanged 提供了方法，因为我想更新我的 UILabel 值。但我想要滑块的最后更改值，以便当用户最终选择滑块的值时，我可以调用一个方法并将值传递给它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:16:07.220

尝试这个：

```
 - (IBAction) sliderValueChanged:(UISlider *)sender {  
    label.text = [NSString stringWithFormat:@"%f", slider.value];
  } 
```

# android - Android：执行后台操作的设计考虑

> ID：11239366
> 
> 赞同：1
> 
> 时间：2012-06-28T06:46:54.393
> 
> 标签：android, xml-parsing, background-process

在我的应用程序中，我使用 SAX Parser 解析 XML 数据。但是，我想把整个解析操作放在后台，即，我想使用工作线程来做这件事。这将是最好的解决方案，使用处理程序、AsyncTask 或服务，因为我在这三者之间有很多混淆。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:54:37.600

A`Handler`不做任何工作；它是一种在后台线程和 UI 线程之间传递处理的方法。An`AsyncTask`是这里的方法：它有一个内置的，`Handler`所以当你完成后你可以在 UI 线程上做一些事情，甚至随着工作的进行发布更新。这就像使用普通的 worker 一样`Thread`，但具有`Handler`内置的便利性。当然，如果 a 的工作方式不能很好地满足您的需求，您可以使用 worker`Thread`和您自己。`Handler``Handler`

这`Service`听起来有点矫枉过正；这是一种使处理可用于其他活动的方法。它也没有解决这个问题：在`Service`UI 线程上调用它需要启动一个单独的线程以避免阻塞 UI。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:48:24.283

您可以只生成一个普通的 java 线程并在那里完成工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:49:55.187

所有人都有自己的优势。所以回答任何一个，取决于您的需要..

就像如果你想要简单的实现可以使用`AsyncTask with predefined structure and callbacks`，所以喜欢的服务在某些情况下可能有它自己的优势..

处理程序提供了比 AsyncTask 更大的灵活性，因为 AsyncTask 具有针对不同工作的预定义结构和回调。所以你可以`handler with any thread with`没有预定义的结构和回调限制。

# c# - 是否可以在使用 FileStream 写入文件时显示进度/更新栏

> ID：11239368
> 
> 赞同：0
> 
> 时间：2012-06-28T06:46:56.300
> 
> 标签：c#, asp.net

我正在开发一个 Web 应用程序，该应用程序从某个位置读取文件并使用`System.IO.FileStream`类将其写在磁盘上。在我编写这些文件时是否可以显示某种进度条或更新条。

这是示例代码

```
using (Stream input = getResponse.GetResponseStream())
            {
                using (FileStream output = new FileStream(saveTo1, FileMode.OpenOrCreate))
                {
                    int bytesRead;

                    while ((bytesRead = input.Read(buffer, 0, buffer.Length))>0)
                    {
                        output.Write(buffer, 0, bytesRead);
                    }
                }
            } 
```

提前致谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:53:02.483

尝试使用更新进度。

你需要做什么？

*   单击更新面板时放置一个写入文件流的按钮，例如“UPanelOperation”。
*   将以下代码行放在更新面板中结束内容模板标记之前。
*   请在以下代码行中将图像名称更改为您拥有的任何图像

    ```
    <asp:UpdateProgress ID="updateProgress" runat="server" DisplayAfter="0" AssociatedUpdatePanelID="UPanelOperation">
        <ProgressTemplate>
            <div id="progressBackgroundFilter">
            </div>
            <div align="center">
                <img src="../../css/images/1-0.gif" />&nbsp;Please Wait...</div>
        </ProgressTemplate>
    </asp:UpdateProgress> 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:53:15.573

当然可以。编辑您的代码如下：

```
while ((bytesRead = input.Read(buffer, 0, buffer.Length))>0)
                {
                    label1.Text = buffer.ToString() + " bytes transfered.";
                    output.Write(buffer, 0, bytesRead);
                } 
```

...其中 label1 是您放置在表单上的控件。

# python - Python 2.7.2 函数语法错误随机发生

> ID：11239370
> 
> 赞同：0
> 
> 时间：2012-06-28T06:47:08.183
> 
> 标签：python, function, syntax, python-2.7, syntax-error

我正在用 Python 编写程序，但我不断收到随机语法错误。错误说的唯一内容是“ `SyntaxError: invalid syntax(uppgift2.py, line 16)`”

这是我正在处理的程序的一部分的功能。

```
def CalculateWordPoints(word, elementValues):
    points = 0
    # Calculate basic points and letter bonuses
    for i in range(0, len(word)):
    points += int(word[i])*ReturnLetterBonusMultiplier(elementValues[i])

    # Add word bonuses
    for i in range(0, len(word)):
        points *= ReturnWordBonusMultiplier(elementValues[i])
    return points 
```

第 16 行是函数的第一行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:50:51.033

这里缺少缩进：

```
for i in range(0, len(word)):
  points += int(word[i])*ReturnLetterBonusMultiplier(elementValues[i]) 
```

这不是一个错误，但它会更正确：

```
range(len(word)) 
```

你可以把这两行写得更pythonic：

```
points = sum(int(w)*ReturnLetterBonusMultiplier(elementValues[i]) for (i,w) in enumerate(word)) 
```

接下来的三行也是如此：

```
points *= product(ReturnWordBonusMultiplier(elementValues[i]) for (i,w) in enumerate(word)) 
```

因此，您可以将此函数编写为 oneliner：

```
return sum(int(w)*ReturnLetterBonusMultiplier(elementValues[i]) for (i,w) in enumerate(word)) * product(ReturnWordBonusMultiplier(elementValues[i]) for (i,w) in enumerate(word)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:51:46.820

问题很可能是由于第 16 行之前的行。
我猜你打开括号（或其他东西）并忘记关闭它们。

此外，正如 Igor Chubin 指出的那样，您的缩进很差（但这会导致第 20 行出现错误，而不是第 16 行）。

# php - 是否可以更改已定义常量的值？

> ID：11239372
> 
> 赞同：5
> 
> 时间：2012-06-28T06:47:11.130
> 
> 标签：php, constants

> **可能重复：**
> [更改先前定义的常量的值](https://stackoverflow.com/questions/8481869/change-the-value-of-a-previously-defined-constant)

有一个恒定的 ABC，我需要获取它的值，保存它，更改，执行一些操作并恢复。但我被告知这是不可能的。请告诉我，这是真的吗？如果不是，请告诉我，如何从常量中获取值并为其设置值？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T07:23:04.013

这是不可能的。常量的要点是不能改变的，一旦定义了常量，就不能重新定义或删除它。

但是有一些选择。您可以使用普通变量，或者这可能会有所帮助：[Un-define constants with define/apc_define_constants in PHP](https://stackoverflow.com/questions/2217074/un-define-constants-with-define-apc-define-constants-in-php)

根据那篇文章，您可以使用 apc_* 函数取消定义和定义它。因此，您可以通过删除它的方式对其进行更改，然后使用新值再次创建它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:36:55.710

常量意味着常量并且不会改变，您要求做的事情需要使用变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T08:04:53.703

尝试在其他 var 中获取 CONSTANT 并将其用作全局 .. 参考下面，例如

```
$copyconstant = CONSTANT_VAR;

Then use $copyconstant declaring as global in pages;

global $copyconstant; 
echo $copyconstant; 
```

# ios - 尝试在没有 UIButton 的情况下使用摇晃手势启动声音文件

> ID：11239374
> 
> 赞同：1
> 
> 时间：2012-06-28T06:47:15.987
> 
> 标签：ios, avfoundation, avaudioplayer

尝试插入我的代码，但该站点拒绝了它。使用 UIButton 的代码是合法的，但我不知道如何从代码中排除 UIButton 并仍然让它正常工作。有什么建议么？

顺便说一句，我正在使用 AVFoundation

我尝试直接从 xcode 复制代码，它告诉我它没有缩进四个空格，所以真的很烦人，因为我有代码。

```
-(BOOL)canBecomeFirstResponder
{
    return YES;
}

-(void)motionBegan:(UIEventSubtype)motion WithEvent:(UIEvent *)event;
{
    NSLog(@"Device started shaking!");
    clicked = 1;
    NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@/FightSong.mp3", [[NSBundle mainBundle] resourcePath]]];
    NSError *error;
    audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];
    audioPlayer.numberOfLoops = 0;

    [audioPlayer play];
} 
```

clicked 指的是 UIButton 的整数，该动作正在启动音频文件，但我想摆脱 UIButton 并仍然让摇动手势启动音频文件。

# javascript - javascript代码的异步执行

> ID：11239375
> 
> 赞同：1
> 
> 时间：2012-06-28T06:47:26.903
> 
> 标签：javascript, ajax, asynchronous, time-complexity

我正在研究 javascript 和 json，但我有一些问题：我有一个可以与 json 一起使用的脚本，但是我写的东西的性能并不是那么好。代码只有在我使用 firebug 或其他工具逐步调试时才有效，这让我认为代码的执行（或代码的一部分......如您将看到的创建表的那个）需要时间太长，所以浏览器会停止它。

代码是：

```
var arrayCarte = [];
var arrayEntita = [];
var arraycardbyuser = [];

function displayArrayCards() {
var richiestaEntity = new XMLHttpRequest();

richiestaEntity.onreadystatechange = function() {
    if(richiestaEntity.readyState == 4) {
        var objectentityjson = {};
        objectentityjson = JSON.parse(richiestaEntity.responseText);

        arrayEntita = objectentityjson.cards;
    }
}
richiestaEntity.open("GET", "danielericerca.json", true);
richiestaEntity.send(null);

for(i = 0; i < arrayEntita.length; i++) {

    var vanityurla = arrayEntita[i].vanity_urls[0] + ".json";
    var urlrichiesta = "http://m.airpim.com/public/vurl/";

    var richiestaCards = new XMLHttpRequest();
    richiestaCards.onreadystatechange = function() {
        if(richiestaCards.readyState == 4) {
            var objectcardjson = {};
            objectcardjson = JSON.parse(richiestaCards.responseText);

            for(j = 0; j < objectcardjson.cards.length; j++)
            arrayCarte[j] = objectcardjson.cards[j].__guid__; //vettore che contiene i guid delle card

            arraycardbyuser[i] = arrayCarte;

            arrayCarte = [];
        }
    }
    richiestaCards.open("GET", vanityurla, true);
    richiestaCards.send(null);
}

var wrapper = document.getElementById('contenitoro');

wrapper.innerHTML = "";

var userTable = document.createElement('table');

for(u = 0; u < arrayEntita.length; u++) {
    var userTr = document.createElement('tr');

    var userTdcard = document.createElement('td');
    var userTdinfo = document.createElement('td');

    var br = document.createElement('br');

    for(c = 0; c < arraycardbyuser[u].length; c++) {
        var cardImg = document.createElement('img');
        cardImg.src = "http://www.airpim.com/png/public/card/" + arraycardbyuser[u][c] + "?width=292";
        cardImg.id = "immaginecard";
        userTdcard.appendChild(br);
        userTdcard.appendChild(cardImg);

    }

    var userdivNome = document.createElement('div');
    userdivNome.id = "diverso";
    userTdinfo.appendChild(userdivNome);

    var userdivVanity = document.createElement('div');
    userdivVanity.id = "diverso";
    userTdinfo.appendChild(userdivVanity);

    var nome = "Nome: ";
    var vanityurl = "Vanity Url: ";
    userdivNome.innerHTML = nome + arrayEntita[u].__title__;
    userdivVanity.innerHTML = vanityurl + arrayEntita[u].vanity_urls[0];

    userTr.appendChild(userTdcard);
    userTr.appendChild(userTdinfo);
    userTable.appendChild(userTr);
}

wrapper.appendChild(userTable);
} 
```

问题是应该制作表格的代码不会等待与 json 文件一起使用的代码的完整执行。我该如何解决？如果可能的话，我更愿意用简单的方法解决这个问题，没有 jquery 和回调（我是初学者）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:08:48.140

您必须移动 som 代码才能使其正常工作。首先，将其拆分为一些功能，然后使用起来更容易。我不知道它是否有效，但想法是首先它加载arrayEntita。完成后，它会填充其他 2 个数组。当最后一个数组被填满时，它会构建表格。

```
 var arrayCarte = [];
 var arrayEntita = [];
 var arraycardbyuser = [];
 function displayArrayCards() {
    var richiestaEntity = new XMLHttpRequest();
        richiestaEntity.onreadystatechange = function () {
             if (richiestaEntity.readyState == 4) {
             var objectentityjson = {};
             objectentityjson = JSON.parse(richiestaEntity.responseText);

              arrayEntita = objectentityjson.cards;
              BuildArrayEntita();
            }
        }
        richiestaEntity.open("GET", "danielericerca.json", true);
        richiestaEntity.send(null);
    }

    function BuildArrayEntita() {
        for (i = 0; i < arrayEntita.length; i++) {

            var vanityurla = arrayEntita[i].vanity_urls[0] + ".json";
            var urlrichiesta = "http://m.airpim.com/public/vurl/";

            var richiestaCards = new XMLHttpRequest();
            richiestaCards.onreadystatechange = function () {
                if (richiestaCards.readyState == 4) {
                    var objectcardjson = {};
                    objectcardjson = JSON.parse(richiestaCards.responseText);

                    for (j = 0; j < objectcardjson.cards.length; j++)
                        arrayCarte[j] = objectcardjson.cards[j].__guid__; //vettore che contiene i guid delle card

                    arraycardbyuser[i] = arrayCarte;

                    arrayCarte = [];
                    //If it is the last call to populate arraycardbyuser, build the table:
                    if (i + 1 == arrayEntita.length)
                        BuildTable();
                }
            }
            richiestaCards.open("GET", vanityurla, true);
            richiestaCards.send(null);
        }
    }

    function BuildTable() {
        var wrapper = document.getElementById('contenitoro');

        wrapper.innerHTML = "";

        var userTable = document.createElement('table');

        for (u = 0; u < arrayEntita.length; u++) {
            var userTr = document.createElement('tr');

            var userTdcard = document.createElement('td');
            var userTdinfo = document.createElement('td');

            var br = document.createElement('br');

            for (c = 0; c < arraycardbyuser[u].length; c++) {
                var cardImg = document.createElement('img');
                cardImg.src = "http://www.airpim.com/png/public/card/" + arraycardbyuser[u][c] + "?width=292";
                cardImg.id = "immaginecard";
                userTdcard.appendChild(br);
                userTdcard.appendChild(cardImg);

            }

            var userdivNome = document.createElement('div');
            userdivNome.id = "diverso";
            userTdinfo.appendChild(userdivNome);

            var userdivVanity = document.createElement('div');
            userdivVanity.id = "diverso";
            userTdinfo.appendChild(userdivVanity);

            var nome = "Nome: ";
            var vanityurl = "Vanity Url: ";
            userdivNome.innerHTML = nome + arrayEntita[u].__title__;
            userdivVanity.innerHTML = vanityurl + arrayEntita[u].vanity_urls[0];

            userTr.appendChild(userTdcard);
            userTr.appendChild(userTdinfo);
            userTable.appendChild(userTr);
        }

        wrapper.appendChild(userTable);
    } 
```

我不知道这个检查是否：

```
if (i + 1 == arrayEntita.length)
    BuildTable(); 
```

但否则，您必须在执行 buildtable() 之前检查所有响应是否已返回；

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:10:45.710

AJAX 请求是异步的。它们在执行期间到达一个未知的时间段，并且 JavaScript 在继续之前不会等待服务器回复。有同步 XHR，但不适合使用。如果您这样做，您将失去 AJAX 的全部概念。

通常要做的是传入一个“回调”——一个稍后执行的函数，具体取决于您希望何时执行。在您的情况下，您希望在收到数据后生成表：

```
function getData(callback){
    //AJAX setup
    var richiestaEntity = new XMLHttpRequest();

    //listen for readystatechange
    richiestaEntity.onreadystatechange = function() {

        //listen for state 4 and ok status (200)
        if (richiestaEntity.readyState === 4 && richiestaEntity.status === 200) {

            //execute callback when data is received passing it
            //what "this" is in the callback function, as well as
            //the returned data
            callback.call(this,richiestaEntity.responseText);
        }
    }
    richiestaEntity.open("GET", "danielericerca.json"); //third parameter defaults to true
    richiestaEntity.send();
}

function displayArrayCards() {

    //this function passed to getData will be executed
    //when data arrives
    getData(function(returnedData){

        //put here what you want to execute when getData receives the data
        //"returnedData" variable inside this function is the JSON returned

    });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:12:59.503

完成 ajax 调用后，将所有其余代码放入 readystatechange 函数中。这样，它将按顺序执行所有内容。

**编辑：** @Dappergoat 比我能解释得更好。

# c++ - 线段分割和合并的数据结构

> ID：11239376
> 
> 赞同：0
> 
> 时间：2012-06-28T06:47:26.873
> 
> 标签：c++, qt, data-structures, computational-geometry, recursive-datastructures

我正在编写一个 Qt 应用程序以使用 GUI 生成信号文件。GUI 有一个画布，允许用户绘制新信号。我希望将信号定义为一组连续的线段，其中每个线段都可以向上或向下移动以向上或向下移动信号。

我试图找出表示信号的最佳数据结构，该结构将允许线段数量的动态变化同时保持总信号长度相同，即用户可以选择她可以改变信号的粒度。这意味着需要有一个动态数据结构，可以添加/删除，更重要的是拆分和合并线段。

需要一些关于哪种类型的数据结构可能最好的指针。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:57:32.390

您通常*不需要*复杂的递归数据结构来存储路径。只需使用正常的动态点数组即可。

渲染成本将完全占主导地位；比较而言，遍历数组以确定其长度以及验证插入或删除是否合法等的成本是微不足道的。

# php - Code Igniter Friends System Active Record 问题

> ID：11239377
> 
> 赞同：0
> 
> 时间：2012-06-28T06:47:56.120
> 
> 标签：php, mysql, codeigniter, activerecord, frameworks

我有这个查询，它从某个用户正在关注的人中选择所有状态。我唯一的问题是我无法使用此查询来显示用户自己的状态：

```
 $this->db->select('*');
    $this->db->from('statuses');
    $this->db->join('friends', 'friends.friend_id = statuses.status_user_id');

    $this->db->where('friends.user_id', $user_id);
    //$this->db->or_where('statuses.status_user_id', $user_id); // why doesn’t this work?
    $this->db->where('friends.confirmed', 1);
    $this->db->order_by("statuses.id", "desc");
    $query = $this->db->get();
    return $query->result_array(); 
```

db结构很简单，你只需要知道friends表有一个user_id（发出好友请求的人）和friend_id（被关注/加好友的人） 获取用户状态最简单的方法是什么也？

此查询仅输出被关注的人。我也找不到显示该人状态的方法。所以 user_id 也需要使用。我希望这是有道理的。

**固定的！**超级简单，刚刚添加到我的加入：

```
$this->db->join('friends', 'friends.friend_id = statuses.status_user_id OR friends.user_id = statuses.status_user_id'); 
```

# javascript - Phonegap - 在 JavaScript 中未调用诸如 focus()、blur() 之类的事件

> ID：11239378
> 
> 赞同：0
> 
> 时间：2012-06-28T06:48:05.747
> 
> 标签：javascript, android, html, cordova, dom-events

我刚刚开始使用Phonegap，我想在用户单击文本框时清除文本框内容。

**HTML：**

```
<input type="text" class="clear" id="dateVal" name="date" value="date" onblur="clear();"/>/ 
```

**JavaScript**

```
function clear() {
        document.getElementsByTagName('input').value = '';
    } 
```

但是 clear 函数没有被调用。另外，只是尝试`alert`输入`clear()` 功能（没有帮助）。其他一切正常。任何帮助，将不胜感激。

**完整的 HTML 代码：**

```
<!DOCTYPE html> <html>   <head>
    <title>Age Calculator</title>

    <script type="text/javascript" charset="utf-8" src="cordova-1.8.1.js"></script>
    <script type="text/javascript" charset="utf-8">
      document.addEventListener("deviceready",onDeviceReady,false);

    function onDeviceReady() { 
        alert('welcome');
    }
        function calAge() {         
          var x = confirm('Click here to calculate the age'); 
          if(x == true) {
           document.getElementById('ageId').style.display = block';
          } else {
              navigator.app.exitApp();      }
         }   
        function submitValues() {
                var todaysDate = new Date();
                var y = todaysDate.getFullYear();
                var m = todaysDate.getMonth() + 1;
                var d = todaysDate.getDate() + 1;
                var myYear = document.getElementById('yearVal').value;
                var myMonth = document.getElementById('monthVal').value;
                var myDate = document.getElementById('dateVal').value;
                var myYear = (y-myYear);
                var myMonth = (m-myMonth);
                var myDate = (d-myDate);
                document.getElementById('ageId').style.display = 'none';    
                document.getElementById('result').innerHTML = 'You are '+myYear+'years '+myMonth+' months and '+myDate + ' days old :-)';
                            }   function clear() {      document.getElementsByTagName('input').value = '';  }
    </script>   </head>   <body>
    <button onclick="calAge();">Age Calculator</button> <br>
    <div id="ageId" style="display:none;">
        <b>Please Enter your Date Of Birth in (dd/mm/yyyy) format:</b>
        <input type="text" class="clear" id="dateVal" name="date" value="date" onblur="clear();"/>/
        <input type="text" class="clear" id="monthVal" name="month" value="month" />/
        <input type="text" class="clear" id="yearVal" name="year" value="year" />
        <input type="button" value="submit" onclick = "submitValues();" />
    </div>
    <div id="result">
    </div>   </body> </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:27:27.663

在 HTML5 中有一个`placeholder`属性。前任：

```
<input type="text" placeholder="Enter Date" id="dateVal" name="date" /> 
```

我们可以用它来得到我想要的。谢谢，可能对某人有帮助。

# python - 使用 libavg 在 Python 中“闪烁”动画

> ID：11239379
> 
> 赞同：0
> 
> 时间：2012-06-28T06:48:09.427
> 
> 标签：python, animation, libavg

我正在开发一个使用 libavg 和一系列 RectNodes 的项目。我想要做的是播放一个动画，使每个节点亮起白色 2.5 秒，然后淡出。每次单击其中一个节点时，该特定节点都会发生相同的动画。

我正在使用 AVGAApp 类，以及带有 RectNode id 的列表以及它们应该点亮的次数，例如 (id1, 2)

```
def playAnim(self, animarr):
        for i in range(0, len(animarr)):
            i, count = animarr[i]
            sid = "r" + str(i)
            node = g_player.getElementByID(sid)
            while count > 0:
                self.blink(node)
                count -= 1
        return 
```

和我的眨眼代码：

```
 def blink(self, node):
    pos = node.pos
    size = node.size

    covernode = avg.RectNode(pos=pos, size=size, fillopacity=0,
                             parent = self._parentNode, fillcolor="ffffff", 
                               color="000000", strokewidth=2)

    self.animObj = LinearAnim(covernode, 'fillopacity', 1000, 0, 1)
    self.animObj.start()
    self.animObj = LinearAnim(covernode, 'fillopacity', 1000, 1, 0)
    self.animObj.start()
    covernode.unlink(True)
    return 
```

我打电话给它：

```
def _enter(self):
    (some other stuff here)

    print "Let's get started!"
    self.playAnim(self.animArr)
    print "Your turn!" 
```

非常感谢任何帮助，libavg 参考对我没有多大帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T16:00:05.097

问题是 anim.start() 是非阻塞的。不是动画结束才返回，而是立即返回，动画并发执行。这意味着您的函数同时启动两个动画**并**取消链接应该动画的节点。

因此，您应该使用可以赋予动画的结束回调来一步一步触发。眨眼功能可能如下所示：

```
def blink(self, node):
    pos = node.pos
    size = node.size    
    covernode = avg.RectNode(pos=pos, size=size, fillopacity=0,
                             parent = self._parentNode, fillcolor="ffffff", 
                             color="000000", strokewidth=2)

    fadeOutAnim = LinearAnim(covernode, 'fillopacity', 1000, 1, 0, False, 
                             None, covernode.unlink)
    fadInAnim= LinearAnim(covernode, 'fillopacity', 1000, 0, 1, False,
                              None, fadeOutAnim.start)
    fadInAnim.start() 
```

如果您希望节点在一定时间内保持白色，您必须使用 WaitAnim 或 player.setTimeout() 插入另一个步骤。（https://www.libavg.de/reference/current/player.html#libavg.avg.Player）

```
def blink(self, node):
    pos = node.pos
    size = node.size    
    covernode = avg.RectNode(pos=pos, size=size, fillopacity=0,
                             parent = self._parentNode, fillcolor="ffffff", 
                             color="000000", strokewidth=2)

    fadeOutAnim = LinearAnim(covernode, 'fillopacity', 1000, 1, 0, False, 
                             None, covernode.unlink
                             )
    fadInAnimObj = LinearAnim(covernode, 'fillopacity', 1000, 0, 1, False,
                              None, lambda:self.wait(500, fadeOutAnim.start)
                              )
    fadInAnimObj.start()

def wait(self, time, end_cb):
    avg.Player.get().setTimeout(time, end_cb) 
```

# windows - windows 2008 server 启动文件夹的路径是什么

> ID：11239381
> 
> 赞同：14
> 
> 时间：2012-06-28T06:48:13.893
> 
> 标签：windows

是否有一个文件夹可以让程序在启动系统时运行。就像这样“C:\Users\All Users\Microsoft\Windows\Start Menu\Programs\Startup”??。

谢谢，瓦伦

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-08-22T20:33:15.093

在 Server 2008 中，个人用户的启动文件夹在这里：

> C:\Users\用户名\AppData\Roaming\Microsoft\Windows\开始菜单\程序\启动

对于所有用户，它在这里：

> C:\ProgramData\Microsoft\Windows\开始菜单\程序\启动

希望有帮助

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-06-28T06:51:48.447

[`SHGetKnownFolderPath`](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762188%28v=vs.85%29.aspx)：

> 检索由文件夹的`KNOWNFOLDERID`.

并且，[`FOLDERID_CommonStartup`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd378457%28v=vs.85%29.aspx)：

> 默认路径 `%ALLUSERSPROFILE%\Microsoft\Windows\Start Menu\Programs\StartUp`

也有托管的等价物，但你没有告诉我们你在编程什么。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2016-04-20T09:41:00.353

您可以通过使用“运行”窗口并输入：

`shell:startup`

和

`shell:common startup`

[来源](http://www.tomshardware.co.uk/forum/1043-71-program-startup-windows-server-2012)。

# objective-c - 使用 Objective-C 下载大量图像

> ID：11239383
> 
> 赞同：0
> 
> 时间：2012-06-28T06:48:20.083
> 
> 标签：objective-c, ios, ipad

我目前正在为我的公司开发一个订单输入应用程序。这意味着我需要将大约 1900 个产品图像下载到 iPad，而这只是普通图像。我还需要下载等量的缩略图。将图像下载到 iPad 而不是仅从给定 URL 显示它们的原因是我们的销售代表会走进通常没有稳定互联网连接的大型商店。

最好的行动方案是什么？图像存储在我们的服务器上，但您需要先使用基本身份验证进行身份验证，然后才能访问这些图像。我曾想过一个接一个地下载它们，这很乏味，或者在服务器上将它们组合在一起作为一个 zip 文件，但这将是一个大文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:54:37.057

一对一是下载的有效选项。我做过类似规格的项目，所以我的建议是：

1.  使用一些第三方库来帮助您下载图像。[例如MKNetworkKit](https://github.com/MugunthKumar/MKNetworkKit)。如果你觉得足够舒服，`NSURLConnection`那就绰绰有余了。
2.  将图像存储在[应用程序沙箱](http://developer.apple.com/library/ios/#DOCUMENTATION/iPhone/Conceptual/iPhoneOSProgrammingGuide/TheiOSEnvironment/TheiOSEnvironment.html)中。
3.  无需下载拇指，只需在需要时随时随地[创建](http://www.icab.de/blog/2010/10/01/scaling-images-and-creating-thumbnails-from-uiviews/)它们（[懒惰模式](http://en.wikipedia.org/wiki/Lazy_loading)）。除非您的图像的拇指与原始图像有些不同（一些特殊效果）。

# java - 使用绑定创建对象 到 xml 是给 null 吗？

> ID：11239385
> 
> 赞同：2
> 
> 时间：2012-06-28T06:48:26.450
> 
> 标签：java, xml, xsd, jaxb

我正在尝试使用从 xml 文件到从模式文件 xsd 生成的类的绑定数据来创建对象，但它给出了 null。

**这是我的 xsd，我从中生成了我的 java 类：**

```
 <xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">

     <xsd:element name="people">
        <xsd:complexType>
           <xsd:sequence>
               <xsd:element ref="employee"/>
               <xsd:element ref="customer"/>
           </xsd:sequence>
         </xsd:complexType>
       </xsd:element>

      <xsd:element name="employee">
     <xsd:complexType>
             <xsd:sequence>
                     <xsd:element ref='name'/>
                     <xsd:element ref='country'/>
              </xsd:sequence>
         </xsd:complexType>
      </xsd:element>

       <xsd:element name='name'>
               <xsd:complexType>
                  <xsd:sequence>
                        <xsd:any namespace='http://www.w3.org/namespace/'/>
                   </xsd:sequence>
              </xsd:complexType>
       </xsd:element>

       <xsd:element name='country'>
             <xsd:complexType>
                 <xsd:sequence>
                     <xsd:any namespace='http://www.w3.org/namespace/'/>
                 </xsd:sequence>
              </xsd:complexType>
       </xsd:element>

       <xsd:element name="customer">
            <xsd:complexType>
            <xsd:sequence>
                    <xsd:element ref='cname'/>
                </xsd:sequence>
            </xsd:complexType>
       </xsd:element>

       <xsd:element name='cname'>
             <xsd:complexType>
                     <xsd:sequence>
                          <xsd:any namespace='http://www.w3.org/namespace/'/>
                     </xsd:sequence>
              </xsd:complexType>
        </xsd:element>
    </xsd:schema> 
```

**我的 XML 文件：**

```
 <?xml version="1.0" encoding="UTF-8"?>
       <people>
           <employee>
              <name>John</name>            
              <country>India</country>
           </employee>
           <customer>
              <cname>steve</cname>            
           </customer>
       </people> 
```

**在这里我的代码试图将xml数据绑定到java对象，但给出null：**

```
 File file = new File("D:\\file.xml");  
 JAXBContext jaxbContext = JAXBContext.newInstance("com.jaxb.xmlbinding");  
 Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();
  People element = (People) jaxbUnmarshaller.unmarshal(file);  
 System.out.println(element.getEmployee().getName().getAny()); //giving null 
```

**有人可以帮我....**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T08:32:57.053

```
 <xsd:element name='name'>
           <xsd:complexType>
              <xsd:sequence>
                    <xsd:any namespace='http://www.w3.org/namespace/'/>
               </xsd:sequence>
          </xsd:complexType>
   </xsd:element> 
```

表示该元素`name`可以包含任何 XML**元素**。难怪您会得到 null，因为 XML 包含**文本**内容。

一种解决方案可能是将架构更改为此：

```
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">

  <xsd:element name="people">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element ref="employee" />
        <xsd:element ref="customer" />
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>

  <xsd:element name="employee">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element ref='name' />
        <xsd:element ref='country' />
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>

  <xsd:element name='name'>
    <xsd:complexType mixed="true">
      <xsd:sequence>
        <xsd:any namespace='http://www.w3.org/namespace/' />
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>

  <xsd:element name='country'>
    <xsd:complexType mixed="true">
      <xsd:sequence>
        <xsd:any namespace='http://www.w3.org/namespace/' />
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>

  <xsd:element name="customer">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element ref='cname' />
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>

  <xsd:element name='cname'>
    <xsd:complexType mixed="true">
      <xsd:sequence>
        <xsd:any namespace='http://www.w3.org/namespace/' />
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>
</xsd:schema> 
```

（介意`mixed="true"`）。这样你会得到：

```
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
    "content"
})
@XmlRootElement(name = "name")
public class Name {

    @XmlMixed
    @XmlAnyElement(lax = true)
    protected List<Object> content; 
```

代替：

```
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
    "any"
})
@XmlRootElement(name = "name")
public class Name {

    @XmlAnyElement(lax = true)
    protected Object any; 
```

解组后，你会得到：

![Eclipse 的调试视图](../Images/47b5f067bb37cd5300b60bacb29b2b95.png)

编辑：更改 XSD 时的情况不是一个选项

这是有效的 XML：

```
<?xml version="1.0" encoding="UTF-8"?>
<people xmlns:p1="http://www.w3.org/namespace/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="schema2.xsd">
  <employee>
    <name>
      <p1:a>x</p1:a>
    </name>
    <country>
      <p1:a>x</p1:a>
    </country>
  </employee>
  <customer>
    <cname>
      <p1:a>x</p1:a>
    </cname>
  </customer>
</people> 
```

然后在解组后你会得到：

![在此处输入图像描述](../Images/d1249bf315f7c3d61102fc7d7dd1efd5.png)

# iphone - XCode 4 项目在 XCode 4.2 中分崩离析

> ID：11239391
> 
> 赞同：1
> 
> 时间：2012-06-28T06:48:49.367
> 
> 标签：iphone, ios

我在 AppStore 上有一个 6 个月大的应用程序，它在 Mac OS 10.6.8 上使用 XCode 4.0.2 编译和运行没有问题，购买时在任何设备上都没有问题。

最近，我想推出一个新版本并进行了一些改进，甚至不涉及代码更改。在模拟器中一切看起来都很好，但是当我尝试安装我的 Ad-Hoc 构建时，我遇到了一个问题：我的设备现在运行的是 iOS 5.1.1，它无法安装。

恢复到 iOS 4 被证明是不可能的，所以我安装了带有 iOS 5 SDK 的 XCode 4.2。（我也可以升级到 Lion，但是......）

当我尝试在模拟器中运行该应用程序时，它完全崩溃了，到处都有大约 50 个问题，甚至无法通过第一个屏幕。

虽然我可以在书面代码中找到解决方法，但我不是程序员，也不知道如何解决所有这些问题。除了为每个新的 iOS 版本招聘一名程序员之外，我唯一的选择是直接在 AppStore 上发布它并使用实时产品进行测试吗？（例如在一次性 App ID 下）

我只是想不通为什么在实际设备上运行良好的产品不能在测试台上运行。

感谢您提出我的菜鸟问题，非常感谢您的指导。

（警告截图： http: [//www.sunnyphotography.com/_temp/warnings.png](http://www.sunnyphotography.com/_temp/warnings.png)）

# xml - 卡在 XSLT 2.0 中的递归函数

> ID：11239392
> 
> 赞同：1
> 
> 时间：2012-06-28T06:48:50.880
> 
> 标签：xml, xslt, xpath, xslt-1.0, xslt-2.0

这是我的 XML 文档：

```
 <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
    <w:document xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main">
    <w:body>
        <w:p>
            <w:pPr>
            </w:pPr>
            <w:r>
                <w:t>Text1-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
                <w:pStyle w:val="Heading2" /> 
            </w:pPr>
            <w:r>
                <w:t>Text2-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
            </w:pPr>
            <w:r>
                <w:t>Text3-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
            </w:pPr>
            <w:r>
                <w:t>Text4-</w:t>
            </w:r>  
        </w:p>

         <w:p>
            <w:pPr>
                <w:pStyle w:val="Heading3" /> 
            </w:pPr>
            <w:r>
                <w:t>Text2.1-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
                <w:pStyle w:val="Heading2" /> 
            </w:pPr>
            <w:r>
                <w:t>Text5-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
            </w:pPr>
            <w:r>
                <w:t>Text6-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
                <w:pStyle w:val="Heading3" /> 
            </w:pPr>
            <w:r>
                <w:t>Text7-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
            </w:pPr>
            <w:r>
                <w:t>Text8-</w:t>
            </w:r>  
        </w:p>  

        <w:p>
            <w:pPr>
                <w:pStyle w:val="Heading1" /> 
            </w:pPr>
            <w:r>
                <w:t>Text9-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
            </w:pPr>
            <w:r>
                <w:t>Text10-</w:t>
            </w:r>  
        </w:p>

<w:p>
            <w:pPr>
                <w:pStyle w:val="Heading2" /> 
            </w:pPr>
            <w:r>
                <w:t>Text11-</w:t>
            </w:r>  
        </w:p>

        <w:p>
            <w:pPr>
            </w:pPr>
            <w:r>
                <w:t>Text12-</w:t>
            </w:r>  
        </w:p>

    </w:body>
    </w:document> 
```

Stack Overflow 成员之一为此发布了 xslt 解决方案。但它不适用于上述 XML 文档。

XSLT 文件：

```
<xsl:stylesheet 
  version="2.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xpath-default-namespace="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:mf="http://example.com/mf"
  exclude-result-prefixes="xs w mf">

<xsl:output indent="yes"/>

<xsl:function name="mf:group" as="element()*">
  <xsl:param name="paragraphs" as="element()*"/>
  <xsl:param name="level" as="xs:integer"/>
  <xsl:for-each-group select="$paragraphs" group-starting-with="p[pPr/pStyle/@w:val = concat('Heading', $level)]">
    <xsl:choose>
      <xsl:when test="self::p[pPr/pStyle/@w:val = concat('Heading', $level)]">
        <xsl:element name="Heading{$level}">
          <Title><xsl:value-of select="r/t"/></Title>
          <xsl:sequence select="mf:group(current-group() except ., $level + 1)"/>
        </xsl:element>
      </xsl:when>
      <xsl:otherwise>
        <xsl:apply-templates select="current-group()"/>
      </xsl:otherwise>
    </xsl:choose>
  </xsl:for-each-group>
</xsl:function>

<xsl:template match="document">
  <Document>
    <xsl:sequence select="mf:group(body/p, 1)"/>
  </Document>
</xsl:template>

<xsl:template match="p">
  <Paragraph>
    <xsl:value-of select="r/t"/>
  </Paragraph>
</xsl:template>

</xsl:stylesheet> 
```

我需要的输出是：

```
<document>
   <paragraph>Text1-</paragraph>
   <Heading2>
      <Title>Text2-</Title>
      <paragraph>Text3-</paragraph>
      <paragraph>Text4-</paragraph>
     <Heading3>
      <Title>Text2.1-</Title>
      </Heading3>
    </Heading2>
      <Heading2>
         <Title>Text5-</Title>
         <paragraph>Text6-</paragraph>
         <Heading3>
            <Title>Text7-</Title>
            <paragraph>Text8-</paragraph>
         </Heading3>
      </Heading2>
   <Heading1>
      <Title>Text9-</Title>
      <paragraph>Text10-</paragraph>
      <Heading2>
      <Title>Text11-</Title>
      <paragraph>Text12-</paragraph>
   </Heading2>
   </Heading1>
</document> 
```

生成的输出是：

```
<Document>
   <Paragraph>Text1-</Paragraph>
   <Paragraph>Text2-</Paragraph>
   <Paragraph>Text3-</Paragraph>
   <Paragraph>Text4-</Paragraph>
   <Paragraph>Text2.1-</Paragraph>
   <Paragraph>Text5-</Paragraph>
   <Paragraph>Text6-</Paragraph>
   <Paragraph>Text7-</Paragraph>
   <Paragraph>Text8-</Paragraph>
   <Heading1>
      <Title>Text9-</Title>
      <Paragraph>Text10-</Paragraph>
      <Heading2>
         <Title>Text11-</Title>
         <Paragraph>Text12-</Paragraph>
      </Heading2>
   </Heading1>
</Document> 
```

我该如何解决这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T11:01:16.687

这是代码的改编，应该为您在此问题中发布的示例提供所需的输出，它调用函数递归地进行分组，只要有元素`w:pPr/w:pStyle/@w:val="HeadingX"`：

```
<xsl:stylesheet 
  version="2.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xpath-default-namespace="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:mf="http://example.com/mf"
  exclude-result-prefixes="xs w mf">

<xsl:output indent="yes"/>

<xsl:function name="mf:group" as="element()*">
  <xsl:param name="paragraphs" as="element()*"/>
  <xsl:param name="level" as="xs:integer"/>
  <xsl:for-each-group select="$paragraphs" group-starting-with="p[pPr/pStyle/@w:val = concat('Heading', $level)]">
    <xsl:choose>
      <xsl:when test="self::p[pPr/pStyle/@w:val = concat('Heading', $level)]">
        <xsl:element name="Heading{$level}">
          <Title><xsl:value-of select="r/t"/></Title>
          <xsl:sequence select="mf:group(current-group() except ., $level + 1)"/>
        </xsl:element>
      </xsl:when>
      <xsl:when test="current-group()[self::p[pPr/pStyle/@w:val = concat('Heading', $level + 1)]]">
        <xsl:sequence select="mf:group(current-group(), $level + 1)"/>
      </xsl:when>
      <xsl:otherwise>
        <xsl:apply-templates select="current-group()"/>
      </xsl:otherwise>
    </xsl:choose>
  </xsl:for-each-group>
</xsl:function>

<xsl:template match="document">
  <Document>
    <xsl:sequence select="mf:group(body/p, 1)"/>
  </Document>
</xsl:template>

<xsl:template match="p">
  <Paragraph>
    <xsl:value-of select="r/t"/>
  </Paragraph>
</xsl:template>

</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T15:33:12.607

这是另一种样式表，在 Saxon 上进行了测试。它有点冗长，但更有效，因为与 Martin 的解决方案不同，它将递归限制在必要的最小值。

```
<xsl:stylesheet
  version="2.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:fn="http://www.w3.org/2005/xpath-functions"
  xmlns:user="http://stackoverflow.com/questions/11239392"
  exclude-result-prefixes="xsl xs fn w user">

<xsl:output indent="yes"/>

<xsl:function name="user:level-of-p" as="xs:string">
 <xsl:param name="para" as="element()" />
 <xsl:sequence select="substring( $para/w:pPr/w:pStyle/@w:val, 8)" />
</xsl:function>

<xsl:template name="grouped-p">
 <xsl:param name="p-nodes" as="element()*" />

 <xsl:variable name="vals" as="xs:integer*">
  <xsl:for-each select="$p-nodes[user:level-of-p(.)]">
   <xsl:sort data-type="number" order="ascending" select="user:level-of-p(.)" />
   <xsl:sequence select="user:level-of-p(.) cast as xs:integer" />
  </xsl:for-each>
 </xsl:variable>
 <xsl:variable name="level" as="xs:integer" select="($vals,-1)[1]" />
 <xsl:choose>
  <xsl:when test="$level = -1">
   <xsl:apply-templates select="$p-nodes" />
  </xsl:when>
  <xsl:otherwise>
   <xsl:variable name="grouping-val" select="concat('Heading',$level)" />
   <xsl:for-each-group select="$p-nodes" group-starting-with="w:p[w:pPr/w:pStyle/@w:val = $grouping-val]">
     <xsl:choose>
      <xsl:when test="user:level-of-p(.)">
       <xsl:element name="{$grouping-val}">
        <Title><xsl:value-of select="w:r/w:t[1]" /></Title>
        <xsl:call-template name="grouped-p">
         <xsl:with-param name="p-nodes" select="current-group()[position() > 1]" />
        </xsl:call-template>
       </xsl:element>
      </xsl:when>
      <xsl:otherwise>
        <xsl:call-template name="grouped-p">
         <xsl:with-param name="p-nodes" select="current-group()" />
        </xsl:call-template>
      </xsl:otherwise>
    </xsl:choose>
   </xsl:for-each-group>
  </xsl:otherwise>
 </xsl:choose>
</xsl:template>

<xsl:template match="w:document">
  <document>
    <xsl:call-template name="grouped-p">
     <xsl:with-param name="p-nodes" select="w:body/w:p" />
    </xsl:call-template>
  </document>
</xsl:template>

<xsl:template match="w:p">
  <paragraph>
    <xsl:value-of select="w:r/w:t"/>
  </paragraph>
</xsl:template>

</xsl:stylesheet> 
```

# javascript - 如何使用 RegExp 获取括号内外的值

> ID：11239404
> 
> 赞同：0
> 
> 时间：2012-06-28T06:50:16.373
> 
> 标签：javascript

我想在下面的字符串中解析数据操作。我已经设法获取其中的数据，但我想解析它，以便“action” = togglestate 和“params” = 括号内的任何内容。我不太擅长正则表达式，但我目前正在使用它但无济于事：（此代码在执行函数中）

```
var regex = /(.*)(\((.*)\))?/gi;
var list = elem.dataset.action.match(regex);
var action = list[1];
var params = list.splice(0,2).join(); 
```

HTML：

`<div data-action='toggleState(test)' onClick='execaction(this);' id='testelem'>div running execaction on click with action parameter</div>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:01:59.407

```
var action = elem.dataset.action.match(/.*\(/)[0];
if (action != null) action = action.substring(0, action.length - 1);  //remove '('
var params = elem.dataset.action.match(/\(.*/)[0];
if (params != null) {
  params = params.substring(1, params.length -1);  //remove '(' and ')'
  params = params.split(','); //split parameter names
} 
```

# c# - 引发/生成空引用异常背后的 CLR 实现是什么？

> ID：11239410
> 
> 赞同：6
> 
> 时间：2012-06-28T06:50:59.880
> 
> 标签：c#, .net, memory-management, clr, nullreferenceexception

在我们的编码/开发生活日或其他日子里，我们确实遇到了这个特殊的和最常见的例外之一。我的问题**不是**关于**为什么**（我知道当我们尝试访问实际上指向 null 的引用变量的属性时它会引发），而是关于CLR**如何**生成 NULL REFERENCE EXCEPTION。

有时我不得不考虑识别对 null 的引用（也许 null 是内存中的保留空间）然后由 CLR 引发异常的机制。CLR 如何识别和引发此特定异常。操作系统在其中有什么作用吗？

我想分享一个关于它的最有趣的主张：

> **null**实际上是 CLR 已知的所有时间保留的内存空间，并且禁止所有类型的访问。因此，当找到对该空间的引用时，默认情况下，它会通过 OS 生成访问被拒绝类型的异常，CLR 将其解释为 NULL 引用异常。

我没有找到任何支持上述说法的文章或帖子，因此很难相信。可能由于我缺少详细信息或其他原因，我希望 Stackoverflow 是我将获得最佳响应的最合适的平台之一。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-28T09:32:30.723

它不一定是（可能有明确的检查），但它可以通过捕获访问冲突异常来工作。

一个 .NET 对象将变成一个原生对象：它的字段变成一块以特定方式布局的内存块，它的方法被编译成原生机器代码方法，并创建了一个 v-table 或其他虚拟方法重载机制。

1.  访问一个字段意味着找到对象的地址，添加成员的偏移量，并读取或写入所引用的内存块。

2.  调用虚方法，意味着找到对象的地址，找到它的方法表（在对象内设置偏移量），找到方法的地址（在表内设置偏移量）并在该地址调用方法，并使用正在传递的对象的地址（`this`指针）。

3.  调用非虚拟方法，意味着调用传递的对象地址（`this`指针）的方法。

显然，如果在问题的地址处没有实际对象，则案例 1 和 2 会以某种方式出错，而案例 3 将起作用（但可能反过来导致案例 1 或 2）。出错的主要方式有两种：

1.  它可以访问并非真正属于我们类型的对象的任意内存位，从而导致各种令人兴奋且非常难以跟踪的错误（.NET 代码通常不会导致导致这种情况的任何事情）。

2.  它可以访问受保护的任意内存位，从而导致访问冲突。

您可能从 C、C++ 或 ASM 编码中了解第二种情况。如果没有，您可能仍然会看到程序崩溃，并在其垂死的呼吸中谈论某个地址的访问冲突。如果是这样，您可能已经注意到，虽然给出的地址几乎可以是任何东西，但它通常是 0x00000000 或非常低的值，例如 0x00000020。这些是由试图取消引用空指针的代码引起的，无论是访问字段还是调用虚拟方法（本质上是访问字段，然后根据您获得的内容进行调用）。

现在，由于第一个 64k 或内存始终受到保护，取消引用空指针将始终导致第二种情况（访问冲突）而不是第一种情况（任意内存被误用并导致奇怪的“核心上的 fandango”错误）。

这与 .NET 完全相同（或者更确切地说，是由它生成的 jitted 代码），但是如果 (A) 访问冲突发生在低于 0x00010000 的地址并且 (B) 发现这样的冲突发生在被 jitted 的代码，则转为 a `NullReferenceException`，否则转为`AccessViolationException`.

我们可以使用不取消引用但确实访问受保护内存的代码来模拟这一点（我们只会读取，所以如果我们不小心碰到了不受保护的内存，结果不会太奇怪！） ：

以下代码将引发 AccessViolationException：

```
unsafe
{
  int read = *((int*)long.MaxValue - 8);
} 
```

以下代码将引发 NullReferenceException：

```
unsafe
{
  int read = *((int*)8);
} 
```

这两个代码实际上都没有取消引用任何内容。两者都导致访问冲突，但 CLR 假定后者可能是由空引用引起的（公平地说，到目前为止最有可能的情况）并引发它。

因此，我们可以看到字段访问是如何`callvirt`导致这种情况的。

现在值得注意的是，由于决定不允许 C# 调用空引用上的方法，即使这样做`callvirt`是安全的，在 C# 中的大多数情况下都将其用作 IL，唯一的例外是静态方法或它可以在编译时显示为不在空引用上。（编辑：在其他一些情况下，编译器可以看到 a`callvirt`可以替换为 a `call`，即使该方法实际上是虚拟的[如果编译器可以判断哪个重载会被命中]，并且后来的编译器会稍微多做一点经常，尽管它仍然`callvirt`会比你想象的更频繁地使用）。

一个有趣的情况是，优化意味着`callvirt`可以内联调用 with 的方法，但在编译时不知道它是否保证非空。在这种情况下，可以在“调用”（不是真正的调用）发生的位置之前添加字段访问，正是为了`NullReferenceException`在方法的开头而不是中间触发。这意味着优化不会改变观察到的行为。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T08:52:06.777

MS 实现，IIRC，通过**访问冲突**来做到这一点。Null 本质上是一个零引用，基本上：他们故意保留该地址空间并使该页面未映射。内存访问冲突在 CPU/OS 级别自动引发（即不需要额外的代码来进行空值检查），然后 CLI 将其报告为空引用异常。

有趣的是，由于内存是在页面中处理的，因此出于同样的原因，您实际上可以模拟（如果您足够努力的话）一个非零但低值的空引用异常。

编辑：Eric Lippert 讨论了这个相关的问题/答案：[https ://stackoverflow.com/a/8681563](https://stackoverflow.com/a/8681563)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T08:22:39.243

你读过 CLI 规范 - [ECMA-335](http://www.ecma-international.org/publications/standards/Ecma-335.htm)吗？你会在那里找到一些答案。

> **11 类的语义**...当一个以类为类型的变量或字段被创建（例如，通过调用具有类类型的局部变量的方法）时，该值最初应为空，一个特殊值that := 具有所有类类型，即使它不是任何特定类的实例。

*以及ldnull*指令的描述：

> ldnull 将空引用（O 类型）压入堆栈。这用于在它们变为活动之前或它们变为死亡时初始化位置。[理由：可能认为 ldnull 是多余的：为什么不使用 ldc.i4.0 或 ldc.i8.0 来代替？答案是 ldnull 提供了一个与大小无关的 null - 类似于不存在的 ldc.i 指令。但是，即使 CIL 包含 ldc.i 指令，保留 ldnull 指令仍然有利于验证算法，因为它使类型跟踪更容易。基本原理] **可验证性**： ldnull 指令始终是可验证的，并产生一个可分配给 (§I.8.7.3) 任何其他引用类型的 null 类型 (§1.8.1.2) 的值。

# php - 使用 JQuery 将数据从 JSON 数组动态添加到 HTML 表

> ID：11239412
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:51:04.857
> 
> 标签：php, jquery, mysql, html, json

.php 文件：

```
 <?php
mysql_connect("127.0.0.1");
mysql_select_db("test"); 
$sql=mysql_query("select first,last,email,city from userdata"); 
while($row=mysql_fetch_assoc($sql))
$output[]=$row;
print(json_encode($output)); 
   mysql_close(); 
?> 
```

json输出：

```
[{"first":"nag","last":"ch","email":"nag@gmail.com","city":"guntur"},{"first":"hari","last":"ch","email":"hari@gmail.com","city":"guntur"}] 
```

html代码：

```
 <script>
    $(document).show(function(){
    });

        $("#userdata tbody").html("");
        $.getJSON("http://127.0.0.1/reg/userdata.php",function(data){
              $.each(data,function(i,user){
                    var tblRow =
                        "<tr>"
                          +"<td>"+user.first+"</td>"
                          +"<td>"+user.last+"</td>"
                          +"<td>"+user.email+"</td>"
                          +"<td>"+user.city+"</td>"
                        +"</tr>"
                    $(tblRow).appendTo("#userdata tbody");
                });
            }
        );
    </script> 
```

我使用 php 以 JSON 格式显示来自数据库的数据..我想将此数据插入到 html 页面中的表格格式中，我也在 html 中创建了表格..我尝试使用上面的脚本，但它没有获取任何数据..plz请帮帮我。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:54:41.533

根据您的 php 代码，这`data`是一个数组，并且没有`userdata`属性。

```
$.each(data.userdata, function(i,user){ 
```

应该

```
$.each(data, function(i,user){ 
```

***[演示](http://jsfiddle.net/mxcWm/3/)***。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T09:41:21.173

您的 PHP 正在以递增格式打印数组。

进行以下更改：

```
print(json_encode($row)); 
```

接下来，输出中没有**userdata**，所以只需使用`data`.

# wpf - wpf如何在XAML上获取代码隐藏变量

> ID：11239415
> 
> 赞同：0
> 
> 时间：2012-06-28T06:51:27.380
> 
> 标签：wpf, code-behind

在后面的代码中我们设置了窗口背景的图像路径，有没有办法在xaml上获取这个值并用它来设置背景图像

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:07:57.730

虽然我没有显示背景图像，但以下绑定仍然对您的情况有效：

**XAML**

```
<TextBox DataContext="{Binding RelativeSource={RelativeSource AncestorLevel=1,AncestorType=Window}}" 
 Text="{Binding MyProperty}" Width="200" Height="50"/> 
```

**C＃**

```
public partial class MainWindow : Window
    {
        public string MyProperty { get; set; }

        public MainWindow()
        {
            InitializeComponent();
            MyProperty = "Sample";
        }
    } 
```

希望这对您有所帮助！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T07:10:18.840

在最好的情况下，后面的代码是空的，或者只是 InitializeComponent 在那里。

因此，我将重点介绍一种实现方式，让未来的变化变得非常容易！

您可以轻松地为您的 Window 设置 DataContext（例如在代码隐藏中）。

从这个 DataContext （当这个路径改变时它应该实现 INotifyPropertyChanged ）你可以很容易地绑定到你想要的任何东西。

这是一个小例子：

```
// ViewModel class containing ImagePath

public class WindowBackgroundViewModel : INotifyPropertyChanged
{
    public string ImagePath { get; set; }
}

// in Codebehind
public WindowBackgroundViewModel ViewModel { get; set; }

// in Constructor
public myWindow()
{
    this.ViewModel = new WindowBackgroundViewModel();
    this.ViewModel.ImagePath = @"C:\myBackground.png";

    this.DataContext = this.ViewModel;
}

// in XAML
<...  ImageBackground="{Binding Path=ImagePath}" 
```

# iphone - 在引用项目中导入主项目文件？

> ID：11239417
> 
> 赞同：2
> 
> 时间：2012-06-28T06:51:33.017
> 
> 标签：iphone, objective-c, xcode4.2, three20

我在我的应用程序中集成了three20 项目。我想回到被调用的班级。但无法导入该类。这就是我在 TTPhotoViewController 中所做的：

```
MainMenuVC *mmenu = [[MainMenuVC alloc] init];
[self.navigationController pushViewController:mmenu animated:YES];
[mmenu release]; 
```

但是 xcode 不能归档这个类。“使用未声明的标识符……”

我尝试像下面这样导入，但没有一个起作用：

```
#import <MyApp/MainMenuVC.h>
#import "MyApp/MainMenuVC.h"
#import <../MyApp/MainMenuVC.h> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:13:43.210

必须尝试这个

```
[self.navigationController popToRootViewController animated:YES]; 
```

您不能导入类文件，反之亦然。如果您像这样在 A 类中导入 B 类： import "B" 你不能像这样在 B 类中导入 A 类：在 .h 文件中使用 @class "A" 代替导入 "A"

# html - 为什么这张图不显示？

> ID：11239420
> 
> 赞同：1
> 
> 时间：2012-06-28T06:51:43.687
> 
> 标签：html, css

我制作了一个标题图片，但由于某种原因，我无法让它从 CSS 中显示出来。

这是一个屏幕截图： ![在此处输入图像描述](../Images/388eb34d822c6434de11dd7df5e9aa0f.png)

标头与 index.html 文件位于同一图像目录中。背景图像出现了，但没有出现这个标题。我在 HTML 中将标题作为 div 输入了两次，以在两个不同的位置对其进行测试以查看它是否正常工作，但由于某种原因它没有显示出来，我不明白，哈哈。

谢谢。

```
#header {
        background-image:url('../emailheader.png');
        width:100%;
        height:100%;
        background-repeat:no-repeat;

 } 

<div id="header"></div> 
```

这是一个[例子](http://tinkerbin.com/gjdynAaX)。但我不确定为什么它不起作用。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-28T06:59:21.763

由于 div 中没有内容，它的高度为零，所以你什么也看不到。向 div 添加一些内容`height`或`min-height`向 CSS 添加或。

`height:100%`不起作用，因为它将元素的高度设置为等于其父级的高度，`#container`并且未设置父级的 ( ) 高度。

请参阅[http://tinkerbin.com/QDAEUDUA](http://tinkerbin.com/QDAEuDUA)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-28T06:57:33.243

**[演示](http://tinkerbin.com/MA2TNI7r)**

您需要提供**高度**，否则它将取决于内部内容的高度，即**0**

```
 #header {
            background-image:url('http://i.imgur.com/ncTiy.png');
            width:100%;
            background-repeat:no-repeat;
            height:200px;
     } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:03:46.360

这是因为您使用的是 100% 的高度和 100% 的宽度。只需将其更改为 px 值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T07:09:30.817

```
#header {
    background-image:url('../emailheader.png');
    width:100%;
    height:100%;
    background-repeat:no-repeat; 
```

}

```
html{height:100%;}

body{height:100%;} 
```

可以在没有 div#header 内容的情况下工作，或者将一些内容放入 div 或使用 min-height ，它会起作用。

谢谢你

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-28T06:58:51.997

在看到代码的屏幕截图时。我发现了两个问题。

1.  首先没有**附加**样式表
2.  `header`用于标识两个不同的元素。（[Blaster](https://stackoverflow.com/a/11239454/295264)也提到过）

但是，它没有出现在 tinkerbin 中的**主要原因**`div`是它既不包含任何元素，也没有固定的尺寸。检查您的垃圾箱的[此](http://tinkerbin.com/uamF1EjW)更新。

# iphone - 如何以编程方式将 UISearchBar 添加到我的 tableView 中？

> ID：11239424
> 
> 赞同：1
> 
> 时间：2012-06-28T06:51:50.517
> 
> 标签：iphone, uisearchbar

现在我有两个可变数组，

```
 1.songsName MutableArray;  
    2.songUrl MutableArray; 
```

其中songsName MutableArray包含大量歌曲名称列表，名称来自url，而songUrl MutableArray包含songName对应的url

我正在使用 xmlParser 检索此 url 内容，自定义单元格用于显示内容，在我的自定义单元格中包含一个标签来显示歌曲名称和一个播放按钮来播放歌曲我想在这个 tableView 中使用搜索栏，请帮我写代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:00:24.473

如果您在 tableView 中使用搜索栏，那么滚动时间搜索栏会随着表格视图单元格滚动，所以在[回答中看到这个太糟糕了](https://stackoverflow.com/questions/4955974/uisearchbar-on-the-top-of-uitableview-which-can-hide-but-stay-close-to-uinavigat)

你使用[Uisearch Bar 和 tableView](http://jduff.github.com/2010/03/01/building-a-searchview-with-uisearchbar-and-uitableview/)

并[查看 UISearchDisplayController 类参考](http://developer.apple.com/library/IOs/#documentation/UIKit/Reference/UISearchDisplayController_Class/Reference/Reference.html)

在`cellForRowAtIndexPat and in umberOfRowsInSection`你应该测试女巫 tableView 是否显示并返回所需的值。

```
if(tableView == self.searchDisplayController.searchResultsTableView){
// search view population
} else {
// all data view population
} 
```

# r - 如何更改警告设置？

> ID：11239428
> 
> 赞同：20
> 
> 时间：2012-06-28T06:52:34.873
> 
> 标签：r, warnings, options

我正在尝试调试一个函数。我想在发生警告时显示警告，但我不明白如何更改警告设置。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-06-28T07:56:29.730

指定可能有用

```
options(warn=2, error=recover) 
```

正如@plannapus 所提到的，`warn=2`会将警告升级为错误；`error=recover`将在发生警告（现已升级为错误）的位置进入调试/浏览器模式。（`options(warn=0, error=NULL)`用于恢复原始设置。）

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-06-28T07:08:38.093

放

```
options(warn=1) 
```

* * *

阅读更多`?options`

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-06-28T07:08:54.660

从帮助页面`options`：

`warn`：设置警告消息的处理。如果`warn`为负，则忽略所有警告。如果`warn`是零（默认值）警告将被存储，直到顶级函数返回。如果发出的警告少于 10 个，它们将被打印出来，否则会显示一条消息，说明发出了多少（最多 50 个）信号。一个被调用的对象`last.warning`被创建并且可以通过函数打印出来`warnings`。如果`warn`是 1，则在出现警告时打印警告。如果`warn`是 2 或更大，则所有警告都会变成错误。

所以`options(warn=1)`应该在警告发生时打印它们。

否则函数`traceback()`（在未识别的错误之后）会向您显示哪个子例程失败（更准确地说是“导致错误的调用序列”）。

# c# - 如何从 Internet 浏览器访问客户端内置摄像头

> ID：11239431
> 
> 赞同：0
> 
> 时间：2012-06-28T06:52:47.890
> 
> 标签：c#, java, android, ios, browser

我创建了一个 Web 应用程序，它需要访问客户端设备的内置网络摄像头来抓取图片以发送到服务器端。对于 Windows 操作系统，我使用的是 silverlight，一切运行良好。现在我需要一些插件或其他东西，以防 Android OS 和 iOS。有人可以提出一些建议吗？我正在用 c# 编程。此致

皮尔卡洛

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:04:40.513

您必须制作一个活动的 X 控件

在此处查看有关活动 x 控件的更多信息[http://msdn.microsoft.com/en-us/library/ms537508%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/ms537508%28v=vs.85%29.aspx)

# php - Netbeans - 从 IDE 运行外部脚本

> ID：11239433
> 
> 赞同：0
> 
> 时间：2012-06-28T06:52:52.890
> 
> 标签：php, netbeans, ide

我在日常工作中使用 NB 7.1 for PHP。我的许多项目都有一些我必须经常运行的 shell/命令行脚本（即 behat 测试）。

有没有办法在 ide 中创建这样的脚本列表以自动运行？我已阅读有关插件外部工具的信息，但它不适用于 7.1...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:33:25.403

安装 C/C++ 插件后，您可以从项目文件的上下文菜单中运行 sh 脚本。将您的命令放入 sh 文件，将 sh 文件放入 bin 目录。您也可以将它们添加到收藏夹以单独的面板。

它仍然适用于 7.3。

# php - 是否可以在 joomla 2.5 中导出已安装的组件？

> ID：11239434
> 
> 赞同：1
> 
> 时间：2012-06-28T06:52:59.663
> 
> 标签：php, components, joomla2.5

我想导出一个已经安装在 Joomla2.5 站点中的组件。我在谷歌和 joomla 论坛中搜索过，但找不到相关的解决方案。任何人都知道如何从 joomla 管理员端导出已安装的组件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:22:45.313

您可以通过使用 ftp 转到 /components 文件夹手动导出并复制要导出的组件。管理组件文件夹是管理员/组件。并压缩该文件夹。

# c# - 如何在 VS 中使用 Mono for android 进行调试？

> ID：11239435
> 
> 赞同：0
> 
> 时间：2012-06-28T06:53:02.347
> 
> 标签：c#, android, mono, xamarin.android

似乎如果我在我的 Visual Studio 中的某处放置一个断点，如果我在调试模式下编译我的应用程序，它不会做任何事情。（就像代码从来没有达到那个点，尽管它确实做到了）。还有另一种使用 Mono 进行调试的方法吗？（使用 VS IDE）

我在做什么错，为什么我不能调试？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T09:19:55.410

目前 Mono for Android 4.2.3 中存在导致此行为的错误。

已填写错误报告，可在此处查看：[https ://bugzilla.xamarin.com/show_bug.cgi?id=5806](https://bugzilla.xamarin.com/show_bug.cgi?id=5806)

要暂时修复此问题，请恢复为适用于 Android 的先前版本的 Mono。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:14:21.680

我敢打赌，这与符号有关。如果 Visual Studio 无法理解符号，则断点将被忽略，据我所知，Visual Studio 仅读取 PDB 文件，而 Mono 具有自己的格式。现在，我认为您可以使用 Mono 生成 PDB 文件，但您是否检查过符号是否正常？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T17:47:34.853

确保您没有使用链接器。我无法在 VS 中调试，直到我在 Mono Android 选项中将链接切换为无。

# javascript - 窗口和标签关闭检测

> ID：11239438
> 
> 赞同：0
> 
> 时间：2012-06-28T06:53:12.347
> 
> 标签：javascript

有很多关于窗口和标签关闭检测的文章，但是，自从最新的浏览器发布以来，这些代码不再工作了。[webkit-page-cache-ii-the-unload-event](http://www.webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/)是一篇针对 webkit 浏览器的文章。它使用 onPageHiden() 来检测离开页面事件，但是，它似乎不再适用于 chrome。另外，如果我只是关闭浏览器，它也不会做任何事情。

当我不仅关闭选项卡而且关闭浏览器时如何触发事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:58:23.403

> 当我不仅关闭选项卡而且关闭浏览器时如何触发事件？

你不能。如果浏览器允许，您可以检测页面何时关闭；你不知道*为什么*它被关闭了。

# c# - 在 wm 6.5 上自动切换到数字键盘

> ID：11239448
> 
> 赞同：0
> 
> 时间：2012-06-28T06:54:07.023
> 
> 标签：c#, windows-mobile-6.5, keypad, numeric-keypad

我正在使用 C# 为移动设备（摩托罗拉 ES400）开发软件。这里我使用默认的 wm-SIP，我不想改变它。

用户必须填写一些文本框。我的问题是，当他输入文本框时，他应该只填写数字，他必须使用 *123*键切换到数字键盘。

我现在搜索了很长时间，但在 getFocus-Event 中找不到自动执行此操作的解决方案。

我还尝试了 Alex Feinman 的解决方案，如下所述：[在 Windows Mobile 中输入数字的最佳方法是什么？（.NET CF 3.5）](https://stackoverflow.com/questions/1324559/whats-the-best-way-to-enter-numbers-in-windows-mobile-net-cf-3-5)但它也没有工作。

这个问题有没有简单的解决方案 - 不改变输入面板？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T09:38:02.763

如果 Alex 的解决方案不起作用，我看不到将封闭源 softkb.dll 从代码切换到数字模式的选项。

我会 a) 创建我自己的带有数字按钮的表单来帮助用户输入数字或 b) 编写我自己的数字 SIP（​​互联网上有一些，例如 Richard Boling 的“Programming Windows CE”一书中的 NumPanel 表单）。可以从代码切换输入面板。

# c++ - cpp 文件中的更改不会出现在 cygwin 运行中

> ID：11239449
> 
> 赞同：-4
> 
> 时间：2012-06-28T06:54:19.013
> 
> 标签：c++, cygwin

我有用于 linux 模拟器的 windows7 操作系统和 cygwin。我在cygwin中为网络模拟器安装了一个名为“Shawn”的程序（努力）。现在，当我在 Windows 中更改 .cpp 文件并在 cygwin 中运行 ./shawn 时，输出不会改变。谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:17:47.013

当更改以编译语言（如 C++）编写的程序的源文件时，这不会影响相关的二进制/可执行文件/程序/库，直到它从更新的源重新构建。这并不特定于 cygwin，因为它发生在本机 Windows、Linux 或任何其他操作系统中。

因此，要对您确实出现在二进制文件中的源代码进行更改，您所要做的就是重建它。

# html - 将表单插入 wordpress 页面

> ID：11239456
> 
> 赞同：0
> 
> 时间：2012-06-28T06:54:37.320
> 
> 标签：html, css, wordpress

好的，我在这里创建了一个表单：

[http://kenzshop.com/trevcap.html](http://kenzshop.com/trevcap.html)

我从中取出所有的 css，并将其添加到所有我可以看到它是从 wordpress 中调用的地方。出于某种原因，这个 wordpress 主题有很多 css 文件。

然后我将代码（减去 css）插入到 wordpress 中的页面。这里：

[http://www.tkfinancialgroup.com/main/](http://www.tkfinancialgroup.com/main/)

但它根本不起作用，也打破了页面。不知道从这里去哪里。

[已解决] 只需要通过重新调整我的内联样式来完成它，谢谢大家。

肯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:25:27.997

您在第二个链接中没有表单字段：

```
<form action="http://tkfinancialgroup.us2.list-manage.com/subscribe/post?u=a0fe2509d571ceb4fa7b4a885&id=faeefd3cd3" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
    <img src="/wp-content/uploads/2012/05/guide.jpg" width="396" height="251" alt="capture"/>
    <br/>
    <div id="launchcommentsblock"/>
    <div class="aclear"/>
</form> 
```

第一个还可以：

```
<form action="http://tkfinancialgroup.us2.list-manage.com/subscribe/post?u=a0fe2509d571ceb4fa7b4a885&id=faeefd3cd3" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
<img src="http://www.tkfinancialgroup.com/wp-content/uploads/2012/05/guide.jpg" width="396" height="251" alt="capture"/>
<div class="mc-field-group">
<input type="text" value="Name" name="FNAME" class="required" id="mce-FNAME" style="width: 117px; height: 20px; position: absolute; bottom: 115px; left: 251px; "/>
</div>
<div class="mc-field-group">
<input type="email" value="Email" name="EMAIL" class="required email" id="mce-EMAIL" style="width: 117px; height: 20px; position: absolute; bottom: 142px; left: 251px; "/>
</div>
<div id="mce-responses" class="clear">
<div class="response" id="mce-error-response" style="display: none; "/>
<div class="response" id="mce-success-response" style="display: none; "/>
</div>
<div class="clear">
<input type="submit" value="" name="get access now" id="mc-embedded-subscribe" class="button" style="position: absolute; bottom: 123px; left: 329px; width: 48px; height: 14px; opacity: 0; "/>
</div>
</form> 
```

修复这个应该修复功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:28:03.640

关键是，您将代码直接插入到 wordpress 帖子中，对吗？然后 word press 会将一些换行符转换为

例如代码

```
a = function (){

   alert('this is a');

} 
```

将会

```
<p>
a = function (){</p>
<p>
   alert('this is a');</p>

} 
```

并且不正确所以我建议您应该使用 iframe 将表单插入帖子或直接将其插入页面模板

您也可以尝试减少代码中的输入，空行将被编码为

# android - 如何在android中阻止UI几秒钟？

> ID：11239460
> 
> 赞同：5
> 
> 时间：2012-06-28T06:54:42.680
> 
> 标签：android, wait, android-ui

如何在 Android 中阻止用户在几秒钟内进行所有交互的 UI？

我想知道，如何通过一些延迟时间来做到这一点，例如`wait(5000);`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-28T06:57:40.750

您可以覆盖[`dispatchTouchEvent`](http://developer.android.com/reference/android/app/Activity.html#dispatchTouchEvent%28android.view.MotionEvent%29)并停止对`super.dispatchTouchEvent(ev);`任何触摸事件的调用在处理之前必须通过此方法。

设置您控制的布尔值并在方法中使用它来确定您是否希望阻止控制。

```
private boolean stopUserInteractions = false;

public boolean dispatchTouchEvent(MotionEvent ev) {
    if (stopUserInteractions) {
        return true;
    } else {
        return super.dispatchTouchEvent(ev);
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T06:57:27.507

需要时通过代码显示`Non-cancelable progress dialog`和关闭它......

看例子

[http://www.helloandroid.com/tutorials/using-threads-and-progressdialog](http://www.helloandroid.com/tutorials/using-threads-and-progressdialog)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T06:57:38.753

您可以弹出一个模式的、不可取消的进度对话框，阻止用户做任何事情。但是，您永远不应该阻塞 UI 线程本身。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T06:57:55.977

在 UI Block time 中使用 ProgressDialog。将 ProgressDialog 可取消设置为 false。因此用户无法访问 UI。

谢谢。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-28T06:58:54.013

由于您的问题很短，因此您将以这种方式得到答案。

您可以使用[Thread](http://coopsoft.com/ar/AndroidArticle.html)或[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)使某些 ProgressDialog 对用户可见。

# iphone - NSString 中子字符串的位置

> ID：11239461
> 
> 赞同：21
> 
> 时间：2012-06-28T06:54:48.580
> 
> 标签：iphone, objective-c, ios, xcode, ios4

如何获取子字符串的位置/索引`NSString`？

我通过以下方式找到位置。

```
NSRange range = [string rangeOfString:searchKeyword];
NSLog (@"match found at index:%u", range.location); 
```

这将返回`index:2147483647` when`searchKeyword`是 内的子字符串`string`。

我怎样才能得到这样`20`或`5`那样的索引值？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-06-28T06:56:40.970

`2147483647`与 相同，表示未找到`NSNotFound`您搜索的字符串 ( )。`searchKeyword`

```
NSRange range = [string rangeOfString:searchKeyword];
if (range.location == NSNotFound) {
    NSLog(@"string was not found");
} else {
    NSLog(@"position %lu", (unsigned long)range.location);
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-28T07:14:09.593

```
NSString *searchKeyword = @"your string";

NSRange rangeOfYourString = [string rangeOfString:searchKeyword];

if(rangeOfYourString.location == NSNotFound)
{
     // error condition — the text searchKeyword wasn't in 'string'
}
else{
     NSLog(@"range position %lu", rangeOfYourString.location);
}

NSString *subString = [string substringToIndex:rangeOfYourString.location]; 
```

这可能会帮助你....

# bash - 如何检查后台作业是否存在？（重击）

> ID：11239466
> 
> 赞同：16
> 
> 时间：2012-06-28T06:55:50.637
> 
> 标签：bash, shell, process, background, jobs

我有以下 bash 脚本，我们可以调用它`script1.sh`：

```
#!/bin/bash

exec ./script2.sh &

sleep 5

if job1 is alive then #<--- this line is pseudo-code!
    exec ./script3.sh &
    wait
fi 
```

可以看出，脚本`script2.sh`作为后台作业执行，然后等待 5 秒（因此`script2.sh`可以做一些初始化工作）。如果初始化成功了，`script2.sh`作业还是活着的，这种情况下我也想`script3.sh`并发启动；如果没有，我只想退出。

但是，我不知道如何检查第一个作业是否还活着，因此是伪代码行。那么，应该用什么来代替它呢？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-28T07:06:53.620

您可以使用 获取最新后台作业的 PID `$!`。然后，您可以检查*ps*的退出状态以确定该特定 PID 是否仍在进程列表中。例如：

```
sleep 30 &
if ps -p $! >&-; then
    wait $!
else
    jobs
fi 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-06-28T07:05:00.293

您可以检查信号是否可交付

```
./script2 &
myPid=$!
sleep 5

if kill -0 "$myPid"; then
    script3 &
    wait
fi 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-11-30T17:25:39.663

要扩展 fduff 的答案，您可以使用`jobs`内置函数：

```
if jobs %%; then
    exec ./script3.sh &
    wait
fi 
```

`jobs %%`打印最近的后台进程（“当前作业”）的作业 ID，如果成功则返回 0，如果没有这样的作业，则返回 1。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-06-28T07:03:31.890

我不确定 exec 是否适用于背景，因为它将父进程的图像替换为子进程的图像，否则，如果我们假设你摆脱了 exec，你会想要类似的东西：

```
#!/bin/bash
./script2.sh&
pid1=$!

if kill -0 $pid1; then
  ./script3.sh&
  pid3=$!
  wait
fi 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2020-05-26T07:00:03.327

将后台进程 pid 复制到 var

```
./script2.sh &; pid=$! 
```

然后检查这个pid是否存在于`/proc`dir中

```
[[ -e /proc/$pid ]] && { your_code; } 
```

或与`ls`

```
ls /proc/$pid 2>/dev/null && { your_code; } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-28T07:06:45.263

看一下`jobs`命令；它列出了所有正在运行的作业。

# python - 删除蟒蛇

> ID：11239467
> 
> 赞同：0
> 
> 时间：2012-06-28T06:55:54.480
> 
> 标签：python

我从计算机中删除了 python 以重新安装。但是在删除它之后，许多服务已经从我的 Ubuntu 10.04 中消失了。（例如 mozilla、Ubuntu 软件中心和系统选项卡中的许多应用程序。）我怎样才能取回所有这些？非常感谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:20:21.113

大多数用 Ubuntu 编写的代码都是用`Python`. 任何时候都应该避免删除系统依赖项。

你可以做`sudo apt-get install python`，但其余的程序可能已经消失了；即使您手动安装它们，您也可能会遇到随机错误、系统故障。我认为你应该重新安装 ubuntu

# jquery - 需要为变量添加 Keepress 事件

> ID：11239474
> 
> 赞同：0
> 
> 时间：2012-06-28T06:56:26.350
> 
> 标签：jquery, variables, slider

我想为这个 var $prev 组合键盘左箭头事件。

我试过 var

```
$prev = $('<div class="myslide"></div>') || event.keypres == 37 ; 
```

不工作...

有什么建议么？

请帮助我如何使用此变量添加另一个事件

```
var $prev = $('<div class="myslide"></div>') ; 
```

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:11:28.437

**请尝试这个演示** [http://jsfiddle.net/Atbev/](http://jsfiddle.net/Atbev/)

随意添加您的 OR`||`条件。

这个演示应该有帮助，

**代码**

```
$(document).keydown(function(e) {
    e.stopPropagation(); // not sure if you will need this but it should stop horizontal scrolling
    if(e.keyCode === 37) {
        alert(" Hi I am left arrow");
        $("#previous").click();
    } else if(e.keyCode === 39) {
        alert(" Hi I am right arrow");
        $("#next").click();
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:02:28.730

请改错字：

```
prev = $('<div class="myslide"></div>') || event.keypress == 37 ;
var prev = $('<div class="myslide"></div>') ; 
```

# java - 自动构建和部署 Java Web 应用程序

> ID：11239480
> 
> 赞同：1
> 
> 时间：2012-06-28T06:56:46.943
> 
> 标签：java, deployment, build, jboss, visual-sourcesafe

我正在寻找一种工具来构建和部署 Java Web 应用程序。目前我正在使用 JBOSS 4.x。该工具应该能够从 Visual Source Safe 获取最新版本，并使用最新代码进行构建并将其部署到 JBOSS 应用程序服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:11:19.637

Maven也是一个使用非常广泛的解决方案：[http ://maven.apache.org/](http://maven.apache.org/)

编辑（Mulmoth）：使答案完整：凭借其插件架构，它对[Visual Source Safe](http://maven.apache.org/scm/vss.html)和[JBoss](http://mojo.codehaus.org/jboss-maven-plugin/usage.html)具有适当的支持。

除此之外，它还有很多其他的好处，比如依赖管理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:00:06.443

Ant 有[WAR 任务](http://ant.apache.org/manual/Tasks/war.html)来构建 WAR。

并部署，

*   您应该调用 JBoss Deploy MBean 来部署构建的 WAR 应用程序。
*   或者，将战争复制到`JBOSS_HOME/server/default/deploy`将自动部署应用程序的目录。
*   [在此处查看在 JBoss 中远程部署应用程序的不同方法](https://stackoverflow.com/questions/2352900/jboss-remote-deployments)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:02:01.667

我会建议使用 Hudson.. 非常好的免费软件部署工具。[看更多](http://wiki.hudson-ci.org/display/HUDSON/Home)

# wcf - 当我有证书身份时，如何在代码中创建端点地址？

> ID：11239482
> 
> 赞同：2
> 
> 时间：2012-06-28T06:57:04.993
> 
> 标签：wcf, configuration, wcf-security, x509certificate, x509certificate2

我的 WCF 客户端配置中有这个：

```
...
<identity>
   <certificate encodedValue="encoded data" />
</identity>
... 
```

我不想使用 App.Config 文件，所以我试图在代码中重新创建它，但是我无法这样做。我尝试将此字符串从 base 64 转换并将其作为 X509Certificate2 类的原始数据传递，如果这样做，我会收到 CryptographicException：“找不到请求的对象”。

我认为这可能是因为格式是 DER，但我不确定是否是这种情况，如果是，我不知道如何将其转换为 DER 格式。

有谁知道我如何用代码加载它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:05:22.670

在创建 EndpointAddress 时使用 EndpointIdentity 尝试这样的操作：

```
X509Certificate2 certificate = X509Certificate2.CreateFromCertFile("r certificate file goes here") as X509Certificate2;
EndpointAddress endpointAddress = new EndpointAddress(new URI("Your service URI goes here"), EndpointIdentity.CreateX509CertificateIdentity(certificate)); 
```

上述示例的来源是：[http ://social.msdn.microsoft.com/Forums/en-US/wcf/thread/c343c266-850e-4eec-9e6f-a42b9659527c/](http://social.msdn.microsoft.com/Forums/en-US/wcf/thread/c343c266-850e-4eec-9e6f-a42b9659527c/)

# ruby-on-rails - Rails：如何创建多态关系/友谊模型

> ID：11239486
> 
> 赞同：1
> 
> 时间：2012-06-28T06:57:29.437
> 
> 标签：ruby-on-rails, activerecord, controller, social-networking, polymorphic-associations

我想创建一个多态的友谊/网络系统。

例如

用户可以请求或成为请求者加入多个模型，例如：

*   公司
*   项目
*   团体
*   联系人（朋友）

有些是一对多的，例如，一个用户受雇于一家公司，但一家公司有很多员工。

其他多对多 例如一个用户有很多项目 一个项目有很多用户

使用主动记录来创建关系并不难。中间步骤，让我困惑的请求（邀请）。

经过一番折腾，这就是我想出的。

下面的示例将允许我从配置文件（用户）向多个模型发出请求（这甚至是一个词吗？），包括配置文件模型本身。

这是控制器如何工作的示例。

```
@company = Company.find(params[:id])
@request = @company.requests.create!(status: "pending").build_profile 
@request.profile = current_user 
```

我怎样才能使@company 更具动态性，例如，如果个人资料（用户）请求加入项目或个人资料（用户）请求与另一个个人资料（用户）成为朋友？

所以我用控制器中的以下代码解决了这个小问题。

requests_controller.rb

```
class RequestsController < ApplicationController
  before_filter :load_requestable

  def new
    @request = @requestable.requests.new
  end

  def create
    @request = @requestable.requests.new(params[:status])
  if @request.save
    redirect_to @requestable, notice: "Request sent."
  else
    render :new
  end
end

private

def load_resquestable
    resource, id = requests.path.split('/')[1, 2]
    @requestable = resource.singularize.classify.constantize.find(id)
end 
```

[**症结**] 现在我试图让我的视图中的请求按钮发生并收到以下错误

```
undefined method `requests_path' for #<#<Class:0x007fe8b26667f8>:0x007fe8b26f40d0> 
```

提取的源代码（在第 1 行附近）：

```
1: <%= form_for [@requestsable, @request] do |f| %>
2:   <div class="field">
3:     <%= f.text_area :content, rows: 8 %>
4:   </div> 
```

**这是视图的代码**

公司/show.html.erb

```
<%= @company.name %>
<% render 'requests/form' %> 
```

请求/_form.html.erb

```
<%= form_for [@requestsable, @request] do |f| %>
  <div class="field">
    <%= f.text_area :content, rows: 8 %>
  </div>
  <div class="actions">
   <%= f.submit %>
  </div>
<% end %> 
```

_*型号*

配置文件.rb

```
class Profile < ActiveRecord::Base
  belongs_to :user
  belongs_to :company
  has_many :requests
  has_many :requested, as: :requestable

  attr_accessible :first_name, :last_name

  validates :first_name, presence: true
  validates :last_name, presence: true

end 
```

请求.rb

```
class Request < ActiveRecord::Base

   attr_accessible :status
   belongs_to :requestable , polymorphic: true
   belongs_to :profile

end 
```

公司.rb

```
class Company < ActiveRecord::Base
   has_many :employees, 
    :foreign_key => 'company_id', 
    :class_name => "Profile"

   has_many :requests, as: :requestable

  attr_accessible :name
  validates :name,  presence: true, length: { maximum: 50 }, uniqueness: true

end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:35:29.843

我认为不是用户模型必须是多态的。

您可以做的是引入另一种模型`UserRequest`，该模型将是一个 to may 关联 from `User`to `UserRequest`。

然后您可以执行以下操作：

```
class User < ActiveRecord::Base
  has_many :user_requests
  has_many :project_users
  has_many :projects, :through => :project_users
  has_many :group_users
  has_many :groups, :through => group_users
  has_many :contact_users
  has_many :contacts, :through => :contact_users
  belongs_to :company
end 
```

mdoel`RequestUser`可以跟踪用户请求的实体，模型也将与 、 和模型具有`RequestUser`多态关联。`Project``Company``Group``Contact`

这样，您始终可以控制哪个用户请求哪个特定实体，并且还可以简化要执行的计算。

希望这个架构适合你。如果您需要更多帮助，请告诉我。

**编辑：**

您还可以在`RequestUser`模型中实现状态更改机制，以检查用户发布的请求的状态。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-28T07:35:01.513

是的，当然 AR 支持多态关系，这里是 RoR 指南的链接。

[http://guides.rubyonrails.org/association_basics.html](http://guides.rubyonrails.org/association_basics.html)

# jquery - jQuery克隆对象问题

> ID：11239489
> 
> 赞同：0
> 
> 时间：2012-06-28T06:57:33.950
> 
> 标签：jquery, clone

我正在克隆 div，我想在每个克隆上创建 newids。它就是这样做的，但是它将 div 创建为单独的，并将输入作为单独的外部 div 和所有设计混乱。我想跟随所有输入的 div_clone 应该出现在其他 div 容器中。

**HTML**

```
<div id="div_" style="display: none;" class="well form-inline">
    <label>Label :</label>    <input type="text"  id="txtlabel" name="txtlabel" />
    <label>value :</label>    <input type="text"  id="txtvalue" name="txtvalue" />
    <label>Selected :</label> <input type="checkbox" name="chk_sel" value="chk_sel" />
    <label>Required :</label> <input type="checkbox" name="chk_isreq" value="chk_isreq" />
</div> 
```

**jQuery**

```
var = question_cnt=1;
$("#div_").clone().find("input,label").andSelf().each(function() {
    $(this).show();
    $(this).attr('id', this.id +question_cnt );
    $(this).attr('name', this.name +question_cnt );
}).appendTo("#container").end();
question_cnt++; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:24:15.710

我想这可能是你想要做的，虽然我也对循环`label`s 感到困惑？他们没有`id`'s 或`name`'s，甚至没有`for`'s，这是有道理的。为什么要循环那些？

```
$(document).ready(function(){
    var $underscore = $("#div_"),
        question_cnt = 0;

    function clone() {
        var $clone = $underscore.clone();

        $clone
            .find("input, label")
            .each(function() {
                $(this)
                    .attr({
                        id: this.id + question_cnt,
                        name: this.name + question_cnt
                    });       
            });

        $clone
            .appendTo("#container")
            .show();

        question_cnt++;
    }

    $('#cloneit').click(clone);
}); 
```

[http://jsfiddle.net/userdude/M2xjp/](http://jsfiddle.net/userdude/M2xjp/)

# html - IE7/8 的 Div 太高了

> ID：11239493
> 
> 赞同：0
> 
> 时间：2012-06-28T06:57:45.713
> 
> 标签：html, css

我刚刚浪费了一天的时间试图自己找到答案。

我应该有[这个（适用于 FF）](http://img15.hostingpics.net/pics/546457timelineFF.png)，但是使用 IE7/8（我必须符合 IE7/8）我有[这个](http://img15.hostingpics.net/pics/513668timelineIE.png)。

这是代码：

```
<DIV style="HEIGHT: 10px" class="timeline">
    <DIV style="WIDTH: 24px; LEFT: 0px" class=separator title=W1>
        <DIV class=left></DIV>
        <DIV style="WIDTH: 24px" class=bar></DIV>
        <DIV class=right></DIV>
    </DIV>
    <DIV style="WIDTH: 156px; LEFT: 24px" class=separator title=W2>
        <DIV class=left></DIV>
        <DIV style="WIDTH: 156px" class=bar></DIV>
        <DIV class=right></DIV>
    </DIV>
</DIV> 
```

和 CSS ：

```
body{
    margin:0;
    padding:0;
}
.timeline{
    position:absolute;
    height:10px;
    margin-top:15px;
    margin-left:20px;
}
.timeline .separator{
    position: absolute;
    height:20px;
}
.timeline .separator .left{
    position: absolute;
    background-color: #000;
    left: 0;
    width: 1px;
    height: 10px;
}
.timeline .separator .bar{
    position: absolute;
    margin-top:4px;
    background-color: red;
    height:2px;
}
.timeline .separator .right{
    position: absolute;
    background-color: #000;
    right: 0;
    width: 1px;
    height: 10px;
} 
```

谢谢你的帮助 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:02:17.790

即使您的 .bar div 没有文本内容，IE7 也会始终将其设置为包含当前字体大小的文本时的高度。修复很简单，只需添加一个字体大小和行高：

```
.timeline .separator .bar{
    position: absolute;
    margin-top:4px;
    background-color: red;
    height:2px;
    font-size: 0px;
    line-height: 0px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:17:31.433

你的问题是`line-height`. 将其设置为 0px，它将起作用:)

# java - 检查文件是否已完全写入

> ID：11239495
> 
> 赞同：25
> 
> 时间：2012-06-28T06:57:54.790
> 
> 标签：java, file, io, filesystems

目前，我正在开发一个项目，该项目在其中一个例程中处理源目录中的文件。有一个 Java 进程正在寻找指定的目录并尝试读取和处理文件（如果存在）。文件退出大并由其他第三方进程更新。问题是如何检查文件是否已完全写入？我正在尝试使用`file.length()`，但看起来即使写入过程尚未完成，它也会返回实际大小。我觉得解决方案应该依赖于平台。任何帮助，将不胜感激。

更新：这个问题与重复的问题并没有什么不同，但它的答案是高度评价的工作代码片段。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-06-28T10:27:46.840

我得到了解决方案：

```
private boolean isCompletelyWritten(File file) {
    RandomAccessFile stream = null;
    try {
        stream = new RandomAccessFile(file, "rw");
        return true;
    } catch (Exception e) {
        log.info("Skipping file " + file.getName() + " for this iteration due it's not completely written");
    } finally {
        if (stream != null) {
            try {
                stream.close();
            } catch (IOException e) {
                log.error("Exception during closing file " + file.getName());
            }
        }
    }
    return false;
} 
```

感谢@cklab 和@Will 以及所有其他建议以“独占锁定”方式查看的人。我只是在这里发布代码，让其他有兴趣的人使用它。我相信@tigran 建议的重命名解决方案也有效，但纯 Java 解决方案对我来说更可取。

PS 最初我使用`FileOutputStream`而不是，`RandomAccessFile`但它会锁定正在写入的文件。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-06-28T07:02:35.400

生产者进程在完成写入后是否关闭文件？如果是这样，如果生产者进程仍在生产，则尝试使用排他锁在消费者进程中打开文件将失败。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-07-11T21:12:49.927

我过去在这种情况下**使用 Windows**的一个简单解决方案是使用`boolean File.renameTo(File)` 并尝试将原始文件移动到单独的暂存文件夹：

```
boolean success = potentiallyIncompleteFile.renameTo(stagingAreaFile); 
```

如果`success`is `false`，则`potentiallyIncompleteFile`仍在写入。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-28T07:06:27.407

我不认为有一个通用的解决方案。查找文件大小是错误的，因为某些应用程序可以在任何写入调用之前设置文件大小。一种可能性是使用锁定。这将要求作者产生一个写锁（或排他锁）。如果你不能修改 writer，那么你可以使用 OS 提供的工具，比如 Linux 上的 fuser 来查看是否有一个仍在访问文件的进程。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-28T07:10:48.857

如果您计划在单个平台上使用此代码，您可以使用[NIO 的 FileLock 设施](http://java.sun.com/j2se/1.5.0/docs/api/java/nio/channels/FileLock.html)。但请仔细阅读文档，并注意在许多平台上，锁只是建议性的。

另一种方法是让一个进程使用您的进程无法识别的名称写入文件，然后在写入完成后将文件重命名为可识别的名称。在大多数平台上，如果源和目标是相同的文件系统卷，则重命名操作是原子操作。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-06-05T16:24:38.230

如果您可以使用 Java 1.7，请查看 NIO 工具，特别是[java.nio.channels.FileChannel](http://docs.oracle.com/javase/6/docs/api/java/nio/channels/FileChannel.html)

[这](https://stackoverflow.com/questions/128038/how-can-i-lock-a-file-using-java-if-possible)是锁定文件并读取它的示例。

# ios - 如何使用 Xcode 证书？

> ID：11239499
> 
> 赞同：0
> 
> 时间：2012-06-28T06:57:59.083
> 
> 标签：ios, xcode, certificate

我为我的公司开发了一个应用程序，我将提交给 Apple。我们已经购买了 99 美元的开发者许可证并获得了 Apple 的批准。现在我想知道的是：在 Apple Developer Portal (iTunes Connect) 中提交应用程序之前我应该​​做什么？有人告诉我在 Xcode 中使用证书来签署我的应用程序，但如何做到这一点？还有别的事吗 ？

非常感谢您的建议。我就快完成了..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:01:08.113

# 证书很重要！！

这是一个安全隐患，因此只有签名和批准的代码才能在 iOS 设备（或大多数其他平台）上运行。获得证书很容易（实际上是证书，因为您需要开发人员和分发证书），并且可以在[此处](http://www.edumobile.org/iphone/iphone-programming-tutorials/submitting-iphone-apps-to-the-apple-app-store-a-step-by-step-guide/)找到出色的教程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T07:08:03.830

这是**RayWenderlich**伙计们的精彩教程，用于逐步描述

> 如何在 iTunes Store 上签名和发布您的应用

检查以下链接可能会对您有所帮助

[第一部分](http://www.raywenderlich.com/8003/how-to-submit-your-app-to-apple-from-no-account-to-app-store-part-1)和 [第二部分](http://www.raywenderlich.com/8045/how-to-submit-your-app-to-apple-from-no-account-to-app-store-part-2)

如果您遇到任何麻烦，请告诉我我已经做到了！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:02:16.133

如果您不喜欢阅读，可以随时观看[此](http://www.youtube.com/watch?v=XVO0tIHmQTg)短视频。部署到应用商店时，您将始终需要配置文件。配置文件是：

> 配置文件是数字实体的集合，它们将开发人员和设备唯一地与授权的 iPhone 开发团队联系起来，并使设备能够用于测试。必须在您希望运行应用程序代码的每台设备上安装开发配置文件。每个开发配置文件将包含一组 iPhone 开发证书、唯一设备标识符和一个 App ID。配置文件中指定的设备只能由其 iPhone 开发证书包含在配置文件中的个人用于测试。单个设备可以包含多个配置文件。

您还可以在[Provisioning Portal](https://developer.apple.com/library/ios/#recipes/ProvisioningPortal_Recipes/_index.html)中查看 Apple 的文档。

# encryption - 哪种解密使用可变长度的二进制公钥？

> ID：11239501
> 
> 赞同：0
> 
> 时间：2012-06-28T06:58:09.567
> 
> 标签：encryption, public-key, private-key

我有一个程序，它显然是用一个可变长度的公共二进制密钥解密它的数据。

我通过做一些或多或少有根据的猜测得出了这些事实：

*   逆向工程显示该程序需要包含公钥的文件名
*   在十六进制编辑器中查看这个文件会显示完全随机的二进制数据（没有有趣的模式或任何东西），前缀是文件的长度 - 在一个版本中，文件只有 200 字节长，在另一个版本中大约 2000 字节。
*   考虑到安全性，我猜程序公司用私钥加密数据文件，这样没有人可以创建自己的数据文件（这将满足程序的需要 - 不允许“修改”，也不允许在第三方中显示数据程式）。
*   数据文件以人类可读的 64 字节长的标题为前缀，其余部分也是完全随机的二进制数据。

如果有这样的东西，我想为我自己的程序使用相同的系统。是否有一种能够使用可变长度的二进制密钥进行非对称加密/解密的加密方法，如果是，是哪一种以及如何实现这样的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T21:52:01.473

这不是继续的方式。您可以将固定长度的键用于可变长度的数据。由于非对称加密非常慢，通常的方法是生成一个随机对称密钥（例如，128 位 AES 密钥）并使用例如 CBC 加密数据。然后对称密钥由非对称公钥加密，比如 RSA 2048 位。解密是指使用私钥解密密钥，然后使用数据专用密钥解密数据。

如果您不知道如何执行此操作，您可以使用能够创建 CMS（加密消息语法）的库来执行此方案。

注意：一个 2000 字节的非对称密钥对将永远加密某些东西，即使您可以创建一个该大小的密钥对。

# javascript - 模糊事件触发javascript确认后提交事件未触发

> ID：11239502
> 
> 赞同：2
> 
> 时间：2012-06-28T06:58:13.137
> 
> 标签：javascript, jquery

我有一个简单的表单，在文本字段的模糊事件中，我向用户显示确认消息，它只是自动填充另一个隐藏的文本字段。到目前为止效果很好。当用户直接单击提交按钮而不是单击另一个字段或表单上的任何其他位置时，就会出现问题。这应该同时触发模糊和提交事件，但由于某种原因，模糊触发，确认出现，一旦用户点击确认，提交事件就不会被触发。用户被迫再次点击提交以触发提交事件。有任何想法吗？

```
$(function(){
   $("#txt_fld1").blur(function(){
      if(confirm("Auto calculate charge?"))
      {
         $("#txt_chrg").val("8.25");
      }
   });
   $("form").submit(function(){
      alert("SUBMITTING");
   });
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:09:04.150

这可能会有所帮助：

```
$("button[type=submit]").click(function(e) {
e.preventDeafault();
#("#txt_fld1").blur();
$("form").submit();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:18:50.577

这似乎是因为“提交”需要提交按钮上的点击事件。但是实际上并没有发生单击，因为当您执行 mousedown 时，然后确认弹出，因此提交按钮上的模糊事件，即 mouseup-event 没有发生，因此没有单击。因此，当确认关闭时，提交按钮已经失去焦点并且没有发生提交。

您必须使用 mousedown-event 上的处理程序手动提交表单

```
$("input:submit").mousedown(function(e){
    e.preventDefault();
    //$("#txt_fld1").blur();
    $('form').submit();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:16:52.433

考虑使用 jQuery UI 的自定义确认对话框。

您可以将回调传递给`Ok`和`Cancel`事件，以便确保`submit()`始终触发。

事实上，您可以在以编程方式提交之前触发其他验证。

[http://jqueryui.com/demos/dialog/#modal-confirmation](http://jqueryui.com/demos/dialog/#modal-confirmation)

# java - 如何从 Windows 7 任务栏单击关闭多个命令行窗口？

> ID：11239506
> 
> 赞同：0
> 
> 时间：2012-06-28T06:58:32.357
> 
> 标签：java, windows, command-line

我正在运行一个 Java 程序，它在命令提示符下一次将 1000 个客户端连接到服务器。对于每个客户端，都会打开一个命令行窗口。

如何一次从任务栏中关闭每个单独的 1000 个窗口？

Windows 7 中是否有任何方法可以关闭大量窗口。（它不是一个正在运行的进程，窗口在完成运行后出现，因此我们无法从任务管理器中关闭它）

如果有人可以帮助我，在此先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:00:07.203

你可以用`taskkill /f /im java.exe`（或`javaw.exe`）杀死程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:01:07.583

如果窗口都堆积在任务栏上的单个命令提示符图标下，您可以右键单击该图标并选择“关闭所有窗口”。

但说真的，1,000 个窗口？您需要重新设计该程序。

# twilio - Post Param 和 StatusCallback 中的呼叫状态不正确

> ID：11239508
> 
> 赞同：0
> 
> 时间：2012-06-28T06:58:46.460
> 
> 标签：twilio

我正在使用[Twilio REST API](http://twilio.com/docs/api/rest)进行提醒调用，但我没有得到正确的`CallStatus`.

当一个调用被忽略或没有收到应答时，我仍然会在这两个状态`$_POST['CallStatus']`以及`/2010-04-01/Accounts/XXX/Calls/XXX.json`我调用`StatusCallback`API 请求的参数中作为一个状态完成。

下面是我的代码：

```
$client = new Services_Twilio($account_sid, $auth_token);
try
{
    $options = array("StatusCallback" => site_url()."/callsms/endofcall/");
    $call = $client->account->calls->create(
                   '+1xxxxxxxxxx', // From a valid Twilio number
                   '+1xxxxxxxxxx', // Call this number
                   site_url()."/callsms/call_user_xml/",
                   $options
            );
           //return $call->sid;
} catch (Exception $e) {
   echo 'Error starting phone call: ' . $e->getMessage() . "\n";
} 
```

在我写的 endofcall 页面中：

```
$twilio_configs = $this->config->item('twilio');
$account_sid = $twilio_configs['account_sid'];
$auth_token = $twilio_configs['auth_token'];
// set URL and other appropriate options
$curl = 'https://'.$account_sid.':'.$auth_token.'@api.twilio.com/2010-04-01/Accounts/'.$account_sid.'/Calls/'.$csid.'.json';
$content = file_get_contents($curl);
$result = json_decode($content);
if($result->status=='completed')
{
      //DATABASE ENTRY
} 
```

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T16:58:09.840

如果呼叫转到语音信箱，它仍将显示为`completed`。它只会显示为`no-answer`好像您没有配置语音邮件并忽略呼叫。

# android - 从 sqlite3 数据库中的多个相似记录中条件选择单个记录

> ID：11239513
> 
> 赞同：1
> 
> 时间：2012-06-28T06:58:59.160
> 
> 标签：android, sqlite

我正在开发使用 Sqlite3 数据库进行存储的 android 应用程序。

最近我遇到了一个问题，我需要根据我在特定列上的条件从多个相似行中选择一行。

只是为了更具体.​​..

**源数据：**

```
_id | code | language | data

 1  | 1    | English  | aaa

 2  | 1    | French   | bbb

 3  | 1    | Spanish  | ccc

 4  | 1    | Portuguse| ddd

 5  | 2    | English  | eee

 6  | 2    | French   | fff

 7  | 3    | English  | ggg

 8  | 4    | French   | hhh 
```

数据库中的多个条目可以具有相同的代码值和不同的语言值。

我的条件如下：

1.  我应该至少有每个代码值的记录。

2.  我必须根据我想要的语言进行搜索。假设如果我将语言设为西班牙语，我应该得到所有西班牙语的记录。

3.  如果任何代码条目没有我给出的给定语言，那么我应该得到该代码的英文条目。

4.  如果任何代码条目只有一种语言的记录，那么无论我给出的语言如何，我都应该得到该记录。

**我对上表的预期结果：**

如果我将语言设为西班牙语：-

```
3  | 1    | Spanish  | ccc

5  | 2    | English  | eee

7  | 3    | English  | ggg

8  | 4    | French   | hhh 
```

1.  我应该有 1,2,3,4 个代码值。

2.  使用代码为 1 的语言西班牙语，我有西班牙语的记录，所以它应该来。

3.  使用代码为 2 的语言西班牙语我没有西班牙语记录，因此应选择代码为 2 的记录和语言英语。

4.  代码 3 和 4 记录只有一个条目，所以这些记录应该来。

我在网上搜索了很多关于如何在类似行上操作这些条件的信息，但我无法得到答案。有人可以帮助我查询预期结果吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T16:21:50.883

如果您需要在一个怪物查询中完成它，这是一种基于外部连接多个子查询的方法。 **假设：`(code, language)`是唯一键；所有列都是`NOT NULL`.**

* * *

首先，规则 1 说每个代码都需要在最终结果中表示。让`all_codes`成为提供每个唯一代码的子查询：

```
(select code 
   from my_table 
  group by code) all_codes 
```

接下来，规则 2 表示需要存在具有所需语言的任何行。让我们`matches`成为提供这些行的子查询：

```
(select _id, code, language, data 
   from my_table 
  where language = ?) matches 
```

接下来，规则 3 说，在没有所需语言的情况下，回退到英语。让我们`en_fallbacks`成为提供这些行的子查询：

```
(select _id, code, language, data 
   from my_table 
  where language = 'English') en_fallbacks 
```

规则 4 表示特定代码的任何单例记录都应该出现在结果中。让我们`singletons`成为提供这些行的子查询：

```
(select MIN(_id) as _id, code, MIN(language) as language, MIN(data) as data 
   from my_table 
  group by code 
 having (MIN(_id) = MAX(_id))) singletons 
```

* * *

`code`最后，在共享列上按顺序将它们连接在一起，并用于`COALESCE`获取您需要的列值：

```
select all_codes.code,
       COALESCE(matches._id, en_fallbacks._id, singletons._id) as _id,
       COALESCE(matches.language, en_fallbacks.language, singletons.language) as language,
       COALESCE(matches.data, en_fallbacks.data, singletons.data) as data
  from (...) all_codes
       left outer join (...) matches on (all_codes.code = matches.code)
       left outer join (...) en_fallbacks on (all_codes.code = en_fallbacks.code)
       left outer join (...) singletons on (all_codes.code = singletons.code) 
```

**警告：**我没有测试这些查询的正确性或性能。

# jmeter - 关于 jmeter 结果中显示的线程数

> ID：11239519
> 
> 赞同：0
> 
> 时间：2012-06-28T06:59:32.093
> 
> 标签：jmeter

**场景**：有一些页面[例如主页，关于我们，联系我们等]，但要访问这些页面，用户必须先登录系统，如果用户输入错误的用户名和密码，系统将发出警报。所以测试这个条件我已经使用了 csv 配置，这样我就可以为超过 1 个用户测试这个场景让我们说 4\. 在用户详细信息 csv 中我列出了 4 个用户凭据 [即用户名，密码] 其中 1 个凭据是错误的. 我故意输入错误的凭据来验证天气系统是否返回正确的警报。

我的测试用例像 -

测试用例 - 线程组 [我直接在线程组 + 聚合报告列表器下添加了 csv 配置] -----

```
 login controller -  http login sampler [ i added assertion under login sampler and 2 listerns under login sampler , view result tree , assertion result] + 

            browse controller - http about us sampler-[ i added 1 listerns under login sampler , view result tree ] 
```

运行测试用例后

在线程组中，我设置了线程=4 并运行测试用例。

我发现系统通过在登录采样器下的视图结果树列表器中以红色指示它检测到错误的用户名+密码尝试。但是在关于我们列表器的结果树中，线程数显示为 4 并且也在http about us sampler 页面中的聚合控制器线程数显示为 4

**所以我想知道。在 4 个线程中，一个线程已经在登录页面中停止，因为它的凭据错误并且没有登录，一个线程无法进入像关于我们、联系我们等的内页，那么为什么 4 个线程显示在关于我们的采样器视图结果中树和汇总结果。它应该显示 3，因为 3 个线程提供了有效的凭据以继续**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:07:55.067

也许您忘记在线程组选项中设置*采样器错误后要执行的操作。*默认是继续，尝试使用**Stop Thread**。

# java - 使用 RedirectAttribute 的 Spring MVC 测试映射

> ID：11239520
> 
> 赞同：4
> 
> 时间：2012-06-28T06:59:34.630
> 
> 标签：java, spring, spring-mvc, mockito

我的问题与这些类似：

*   [测试 Spring MVC 注释映射](https://stackoverflow.com/questions/861089/testing-spring-mvc-annotation-mapppings)
*   [测试 Spring @MVC 注解](https://stackoverflow.com/questions/2314377/testing-spring-mvc-annotations)

但

给定一个控制器方法签名：

```
public String setupForm(
    @ModelAttribute("notification") Notification n, RedirectAttributes redirect) 
```

并给出一个测试（使用 Mockito）：

```
@Mock
private AddNotificationController handler;
@Test
public void get() throws Exception{
    request.setRequestURI("/addNotification/save.do");
    request.setMethod("GET");
    adapter.handle(request, response, handler);
    verify(handler,times(1)).setupForm(any(Notification.class), any(RedirectAttributes.class));
  } 
```

执行时出现异常：

```
org.springframework.web.bind.annotation.support.HandlerMethodInvocationException: 
Failed to invoke handler method [public java.lang.String ep.rdp.web.AddNotificationController.setupForm(a.b.c.Notification,org.springframework.web.servlet.mvc.support.RedirectAttributes)]; 
nested exception is java.lang.IllegalStateException: 
Argument [RedirectAttributes] is of type Model or Map but is not assignable from the actual model. 
You may need to switch newer MVC infrastructure classes to use this argument. 
```

实际上我知道问题并且知道如何通过正确设置弹簧而不是在单元测试中来解决。

所以问题是：我还必须在模拟中设置什么才能使其正常工作？

附加信息

基础设置模拟：

```
 @Before
  public void setup() {
//    adapter = new AnnotationMethodHandlerAdapter();
    adapter = new RequestMappingHandlerAdapter();
    request = new MockHttpServletRequest();
    /*
     * needed for AnnotationMethodHandlerAdapter when resolving controlle level mapping
     */
    request.setAttribute(HandlerMapping.INTROSPECT_TYPE_LEVEL_MAPPING, Boolean.TRUE);
    response = new MockHttpServletResponse();
  } 
```

现实

*   使用 AnnotationMethodHandlerAdapter 时出现此症状。
*   当我使用 RequestMappingHandlerAdapter 我得到：

    java.lang.ClassCastException：ep.rdp.web.CacheController$$EnhancerByMockitoWithCGLIB$$d8aab2c0 不能在 org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter .java:80)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-01T18:49:13.023

也许我错过了有关您的问题的一些信息，但我不明白您为什么要创建控制器的模拟来对其进行测试...我想spring 尝试通过反射读取您的类控制器上的注释，但我不能使用正确地反思你的模拟。

我认为这不是测试映射的正确方法。Spring 提供了这个模块来对你的控制器进行单元测试，并且提供了一切。所以你不应该在这里创建任何模拟。如果你想在你的真实对象上模拟一个方法，也许是一个@Spy（一个应用于真实对象的间谍）。

你想要做的是创建这样的东西：

```
@Before
public void setUp() {
    this.mockMvc = MockMvcBuilders
            .standaloneSetup(new AddNotificationController())
            .build();
}

// and your test
@Test
public void testYourMethodName() {
    this.mockMvc.perform(MockHttpServletRequestBuilder.get("/addNotification/save.do"))
            .andExpect(MockMvcResultMatchers.status().isOk())
            .andExpect(MockMvcResultMatchers.handler().method("yourMethodName"))
            .abdExpect(MockMvcResultMatchers.redirectedUrl("yourUrl"));
} 
```

如您所见，您没有使用 mockito 提供的任何模拟对象，但我仍然检查请求是由方法“yourMethodName”处理的事实。如果你需要一些模拟，它应该在你的类 AddNotificationController 中。因此，在此类上使用 @InjectMock 并在此处创建控制器内部使用的 @Mock 对象。我认为，这应该可以正常工作：

```
@Mock
public SomeService service;

@InjectMocks
public AddNotificationController controller = new AddNotificationController();

@Before
public void setUp() {
    this.mockMvc = MockMvcBuilders
            .standaloneSetup(this.controller)
            .build();
} 
```

PS：对不起我的英语。

# java - 无法从 java 运行 shell 脚本

> ID：11239523
> 
> 赞同：0
> 
> 时间：2012-06-28T06:59:41.157
> 
> 标签：java, bash, shell, unix

我有一个 shell 脚本，它有一个命令在成功创建脚本后生成一个包含所需信息的文件。

现在，当我直接执行该命令或从 cmd 行执行脚本本身时，将生成文件。

但是，当我尝试使用`Runtime.getRuntime().exec(cmd)`该文件从 java 代码执行相同的脚本时，没有生成。此行之前和之后的跟踪按预期显示，表明脚本的执行没有引发任何异常。

我哪里错了或者我错过了什么？请帮忙！！！

示例这是我试图执行的代码

```
import java.io.BufferedReader;
import java.io.InputStreamReader;

public class Scripttest {
public static void main(String args[])
{
        try{
String cmd="ls|grep sys";
        Process p=Runtime.getRuntime().exec(cmd);
        System.out.println("done");
        final BufferedReader input = new BufferedReader(new InputStreamReader( p.getInputStream()));
        String line = null;
        while ((line = input.readLine()) != null)
         System.out.println("proc: " + line);
}
        catch(Exception e)
        {
                System.out.println("Exception is"+e);
        }
}
} 
```

我得到的输出是这个

```
java Scripttest
Exception isjava.io.IOException: Cannot run program "ls|grep": error=2, No such file or directory 
```

该 cmd 没有被执行，但不确定为什么它没有被执行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:06:18.640

这是一个有点像使用管道的例子，在这个例子中脚本嵌入在java中。

```
import java.io.*;
class junk {
 public static void main (String args[]) {
  try {
   String line; String script;
   OutputStream stdin = null; InputStream stderr = null; InputStream stdout = null;
   Process p = Runtime.getRuntime ().exec ("/bin/bash");
   stdin = p.getOutputStream (); stderr = p.getErrorStream (); stdout = p.getInputStream ();
   script = "a=$(cat <<'@@@'\n" +
"ICAgICBfCiAgICB8IHwgX18gX19fICAgX19fXyBfICAgIF9fXyBfXyBfIF8gX18gICAgXyBfXyBfICAg" +
"XyBfIF9fCiBfICB8IHwvIF9gIFwgXCAvIC8gX2AgfCAgLyBfXy8gX2AgfCAnXyBcICB8ICdfX3wgfCB8" +
"IHwgJ18gXAp8IHxffCB8IChffCB8XCBWIC8gKF98IHwgfCAoX3wgKF98IHwgfCB8IHwgfCB8ICB8IHxf" +
"fCB8IHwgfCB8CiBcX19fLyBcX18sX3wgXF8vIFxfXyxffCAgXF9fX1xfXyxffF98IHxffCB8X3wgICBc" +
"X18sX3xffCB8X3wKICAgICAgICAgICAgICAgICAgICBfICAgICAgICAgICAgICAgXwogICAgICAgICAg" +
"ICAgICAgICAgfCB8X18gICBfXyBfIF9fX3wgfF9fCiAgICAgICAgICAgICAgICAgICB8ICdfIFwgLyBf" +
"YCAvIF9ffCAnXyBcCiAgICAgICAgICAgICAgICAgICB8IHxfKSB8IChffCBcX18gXCB8IHwgfAogICAg" +
"ICAgICAgICAgICAgICAgfF8uX18vIFxfXyxffF9fXy9ffCB8X3wK" +
"\n" +
"@@@)\n" +
"st=0\n" +
"for (( i=0; i<\"${#a}\"; i++ ))\n" +
"do\n" +
" x=${a:$i:1}\n" +
" in=$(($(expr index \\\n" +
" 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/' \"\\\\$x\")-1))\n" +
" if [ $in -ge 0 ]; then case $st in\n" +
"  0 ) out=$(($in<<2)); st=3;;\n" +
"  1 ) out=$(($out|$in)); \n" +
"    printf \\\\$(printf '%03o' $(($out&255)) ) ; st=0 ;;\n" +
"  2 ) out=$(($out+($in>>2))); \n" +
"    printf \\\\$(printf '%03o' $(($out&255)) ) ;\n" +
"    st=0; out=$(($in<<6)); st=1;;\n" +
"  * ) out=$(($out+($in>>4))); \n" +
"    printf \\\\$(printf '%03o' $(($out&255)) ) ;\n" +
"    st=0; out=$(($in<<4)); st=2;;\n" +
"  esac fi\n" +
"done\n";
   stdin.write (script.getBytes ());
   stdin.close ();
   BufferedReader br = new BufferedReader (new InputStreamReader (stdout));
   while ((line = br.readLine ()) != null) { System.out.println(line); }
   br.close ();
   br = new BufferedReader (new InputStreamReader (stderr));
   while ((line = br.readLine ()) != null) { System.out.println ("2>" + line); }
   br.close ();
   p.waitFor ();
   System.out.println ("exit code " + p.exitValue ());
  }
  catch (IOException e) { e.printStackTrace (); }
  catch (java.lang.InterruptedException e) { e.printStackTrace (); }
 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T05:30:19.470

将命令 ls|grep sys 保留在一个数组中，因为它由两个主要命令 ls 和 grep 组成。

或者

最好的办法是在 linux 中使用 shell 脚本，在 windows 中使用批处理文件。根据您的要求使用命令创建一个 shell 脚本或批处理文件，然后从 java 代码执行 shell 脚本或批处理文件。

# sql-server-2005 - SQL Server 2005 更新触发器

> ID：11239530
> 
> 赞同：0
> 
> 时间：2012-06-28T07:00:20.993
> 
> 标签：sql-server-2005, triggers

我有一个 SQL Server 2005 数据库，每天都会受到恶意内容的影响。像链接或脚本。该内容主要添加在数据库`varchar`类型列的最后一个。

我想要一个`instead of`在包含以下标签的更新查询运行时触发的触发器： `</a>`or`<img`或`<script`.

而这个触发器必须取消这个更新查询。

# c# - id更新后实体框架延迟加载

> ID：11239532
> 
> 赞同：1
> 
> 时间：2012-06-28T07:00:36.287
> 
> 标签：c#, entity-framework, lazy-loading

我的数据库中有一个人员和职业表。当我创建一个人时，他们的默认 OccupationId 为空。

假设我创建了一个人，他们的 ID 是 11。另外，还有一个职业，比如说潜水员，它的 ID 是 53。然后我执行以下操作：

```
using (var context = new DbEntities())
{
    person.OccupationId;  //currently null
    person.Occupation;    //currently null

    var person = context.People.First(x => x.Id == 11);
    person.OccupationId=53;
    context.SaveChanges();

    var occupation = person.Occupation.Description;  //Exception: Occupation is null
} 
```

代码在最后一行失败，因为职业最初为空，并且新职业在保存后没有延迟加载。如果此人在运行此代码之前有一个职业，并且旧的职业是延迟加载的，那么新的职业将在保存后出现。

换句话说，如果该人首先拥有清洁工职业，那么这将起作用：

```
using (var context = new DbEntities())
{
    var person = context.People.First(x => x.Id == 11);

    var occupation = person.Occupation.Description; //this would say Janitor

    person.OccupationId=53;
    context.SaveChanges();

    var occupation = person.Occupation.Description;  //This would say Diver
} 
```

如果初始职业为空，是否有办法在保存后延迟加载新职业？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:22:23.673

我对这个问题并不完全清楚，但这里是镜头：

```
public class People
{
    private Occupation occupation = null;
    public Occupation Occupation
    {
        get { return this.GetOccupation(); }
        set { this.occupation = value; }
    }

    private Occupation GetOccupation()
    {
        return this.GetOccupation(false);
    }

    private Occupation GetOccupation(bool force)
    {
        if(this.occupation == null || force)
        {
            using (var context = new DbEntities())
            {
                this.occupation = context.Occupation.First(x => x.Id == this.OccupationId);
            }
        }
        return this.occupation;
    }
} 
```

这是一个具有强制重新加载功能的延迟加载的简单示例。

在 SaveChanges() 你可以调用 this.Occupation = null; 下次有人访问它时，它会延迟加载它。或者，您可以调用 this.GetOccupation(true); 这将强制重新加载职业，但这有点违背延迟加载的目的。（即，仅在需要时加载某些内容）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:50:37.417

我最终使用了这个：

```
if(person.Occupation==null && person.OccupationId!=null)
     context.Entry(person).Reference(x=>x.Occupation).Load(); 
```

我确信有一种方法可以在保存后自动加载职业，但我的尝试还没有运气。

# android - 在同一选项卡中的活动之间滑动android中的动画

> ID：11239533
> 
> 赞同：1
> 
> 时间：2012-06-28T07:00:38.863
> 
> 标签：android, animation, android-tabhost, sliding

我有一个`ActivityGroup`打算开发一个`tabHost`. 其中一个选项卡包含两个活动。问题是当我在这两个活动之间移动时，它们之间没有滑动。旧活动消失，新活动自动出现在屏幕上。

我需要实现的是 - 当我从活动 2 移回活动 1 时，活动 2 必须通过向右滑动离开屏幕，而新活动（活动 1）必须通过从左向右滑动进入屏幕.

当使用意图在活动之间移动时，效果类似于android默认样式！

到目前为止，我取得的成就是：

当我尝试从活动 2 移动到活动 1 时：活动 2（旧活动）从屏幕上消失，屏幕变黑，新活动通过从左向右滑动进入屏幕。如果我能设法让旧的活动也通过滑动离开屏幕，那就太好了。

这是我从旧活动返回到新活动的代码：

```
Animation animation = null;

 Window oldWindow = manager.getCurrentActivity().getWindow();

 if(oldWindow != null)
 {
 animation = AnimationUtils.loadAnimation(this, R.anim.right_to_left);    
 View v =oldWindow.getDecorView();
 v.startAnimation(animation);

 }

 manager.destroyActivity(mIdList.get(index), true);
 mIdList.remove(index); index--;

 String lastId = mIdList.get(index);
 lastIntent = manager.getActivity(lastId).getIntent();
 newView = manager.startActivity(lastId, lastIntent).getDecorView();
 newView.startAnimation(AnimationUtils.loadAnimation(this, R.anim.left_to_right));

 if(newView != null)
 {
 setContentView(newView);
 }

One big bug is this: if I remove this line from my code: `setContentView(newView)` I get the desired effect for the old activity. Meaning the old activity leaves the screen by sliding, but the new one never comes in. 
```

如果我把那条线放回去，旧的活动不会做任何滑动就会消失！！！！

我使用三星 Galaxy 进行测试，我尝试使用`overridePendingTransition`，但它对动画没有影响。

这是我的`xml`文件：

```
right_to_left.xml

<set xmlns:android="http://schemas.android.com/apk/res/android"
         android:shareInterpolator="true">
      <translate
       android:fromXDelta="0%" android:toXDelta="100%"
       android:fromYDelta="0%" android:toYDelta="0%"
       android:duration="3500" />
    </set>

 left_to_right.xml

 <set xmlns:android="http://schemas.android.com/apk/res/android"
         android:shareInterpolator="true">
        <translate android:fromXDelta="-100%" android:toXDelta="0%"
          android:fromYDelta="0%" android:toYDelta="0%"
         android:duration="3500"/>
       </set> 
```

谢谢你。希望您能够帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:24:20.380

[您可以使用带有 ViewPager 的选项卡](https://github.com/JakeWharton/ActionBarSherlock/blob/master/samples/fragments/src/com/actionbarsherlock/sample/fragments/FragmentTabsPager.java)来实现此目的。

也看看[这个项目](http://viewpagerindicator.com/)。你会找到你需要的东西以及更多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:27:32.140

使用[ViewAnimator](http://developer.android.com/reference/android/widget/ViewAnimator.html)类

这将允许您自由地制作动画

# c# - HttpClient - 处理聚合异常

> ID：11239537
> 
> 赞同：12
> 
> 时间：2012-06-28T07:01:04.947
> 
> 标签：c#, rest, exception-handling, httpclient, aggregateexception

嗨，我正在使用类似于此的 HttpClient：

```
public static Task<string> AsyncStringRequest(string url, string contentType)
{
    try
    {
        var client = new HttpClient();
        client.DefaultRequestHeaders.Accept.Add(new System.Net.Http.Headers.MediaTypeWithQualityHeaderValue(contentType));

        return client.GetStringAsync(url).ContinueWith(task => {
            return task.Result;
        });
    }
    catch (AggregateException ex)
    {
        throw ex;
    }
    catch (WebException ex)
    {
        throw ex;
    }       
    catch (Exception ex)
    {
        throw ex;
    }
} 
```

但是我在处理异常时遇到了困难。我添加了额外的 catch 块只是为了尝试跨步投掷，但没有一个断点被任何 catch 块捕获。我意识到使用 Task 异常可能发生在与调用者不同的线程上，因此异常被包装在一个聚合容器中，但我不确定处理这些异常的最佳方法是什么。

例如，我向 Web 服务发出请求，并在请求中指定了无效参数，然后引发异常。我希望我能够捕获聚合异常并查看内部异常以找出请求失败的原因并返回友好消息。

所以我的问题是，捕捉这些聚合异常并处理它们的最佳方法是什么？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-28T07:12:08.357

异常被抛出[`task.Result`](http://msdn.microsoft.com/en-us/library/dd321468)：

```
var client = new HttpClient();
client.DefaultRequestHeaders.Accept.Add(...);
return client.GetStringAsync(url).ContinueWith(task =>
{
    try
    {
        return task.Result;
    }
    catch (AggregateException ex)
    {
        throw ex;
    }
    catch (WebException ex)
    {
        throw ex;
    }       
    catch (Exception ex)
    {
        throw ex;
    }
}); 
```

更好：在访问之前检查任务是否[出错](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task.isfaulted)[`task.Result`](http://msdn.microsoft.com/en-us/library/dd321468)：

```
var client = new HttpClient();
client.DefaultRequestHeaders.Accept.Add(...);
return client.GetStringAsync(url).ContinueWith(task =>
{
    if (task.IsFaulted)
    {
        var ex = task.Exception;
    }
    else if (task.IsCancelled)
    {
    }
    else
    {
        return task.Result;
    }
}); 
```

如果你实际上并没有在 中做某事[`ContinueWith`](http://msdn.microsoft.com/en-us/library/dd321326)，你可以简单地省略它：

```
var client = new HttpClient();
client.DefaultRequestHeaders.Accept.Add(...);
return client.GetStringAsync(url); 
```

# jquery - 如何清除 jQuery DOM 缓存？

> ID：11239540
> 
> 赞同：8
> 
> 时间：2012-06-28T07:01:14.383
> 
> 标签：jquery, caching, dom, jquery-mobile

如何清除 jQuery DOM 缓存？我仍在开发和测试 jQuery Mobile 应用程序，我不断看到我的代码的旧版本弹出并尝试执行。也许是因为我在某些地方使用了 data-dom-cache="true" ？我已经重新启动了我的网络服务器，但这并没有解决它。有任何想法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-28T10:22:06.873

您可以使用一些 JavaScript 在 DOM 缓存中找到您的元素并从那里删除它：-

```
$.domCache('#foo').remove(); 
```

`#foo`您的对象的 id 在哪里。

我不相信（尽管可能是错误的）没有 .clear 函数，因此您需要遍历以前为您缓存的所有现有元素。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-06-11T02:22:46.513

$.domCache 对我不起作用，但我想出了其他解决方案：

```
function clearjQueryCache(){
    for (var x in jQuery.cache){
        delete jQuery.cache[x];
    }
} 
```

# c# - 如何在 ASP.NET C# Web 应用程序中使用 TraceSource.TraceEvent

> ID：11239541
> 
> 赞同：1
> 
> 时间：2012-06-28T07:01:14.853
> 
> 标签：c#, .net, configuration, trace

[在阅读了这个](http://msdn.microsoft.com/en-us/library/system.diagnostics.tracesource.traceevent.aspx)和[这个](http://msdn.microsoft.com/en-us/library/ytz3xayy.aspx)msdn 链接之后，我需要在我正在开发的 Web 应用程序中使用**TraceSource.TraceEvent**

我正在处理一个已经构建的项目，我正在对其进行更改并更新它。

**这就是我的 web.config 的定义方式。**

```
<system.diagnostics>
<sources>
    <listeners>
    <clear/>
    <add name="xml"/>
  </listeners>
</sources>

<sharedListeners>
  <add name="xml" type="System.Diagnostics.XmlWriterTraceListener"
                           traceOutputOptions="Callstack,LogicalOperationStack,ProcessId"
                           initializeData="C:\logs\Test.svclog"/>
</sharedListeners>

<trace autoflush="true" />

 </system.diagnostics> 
```

**我尝试使用的代码**

```
var traceSource = new TraceSource("TraceSourceName");
traceSource.TraceEvent(TraceEventType.Error, 2, "Hello World !"); 
```

但是没有记录到 Test.svclog 文件，我在 C:\logs\ 文件夹下创建了一个空文件 Test.svclog。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T13:16:50.963

我想你忘了关闭你的来源。

只需将您的代码修改为此

```
var traceSource = new TraceSource("TraceSourceName");
traceSource.TraceEvent(TraceEventType.Error, 2, "Hello World !");
traceSource.Close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T12:12:45.367

您可以使用 msdn 上的这篇文章调整您的源代码部分

[http://msdn.microsoft.com/en-us/library/ms228984(v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/ms228984(v=vs.90).aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-01-13T09:37:08.467

您可以使用**Nlog**更好地控制日志记录，因为它也带有内置的 TraceListener 侦听器：

如果您`TraceSource`在 dll 文件中定义为：

```
 //dll_01.dll
var traceSource = new TraceSource("TraceSource1");
traceSource.TraceEvent(TraceEventType.Error, 2, "Hello World from dll 01!");

//dll_02.dll
var traceSource = new TraceSource("TraceSource2");
traceSource.TraceEvent(TraceEventType.Error, 2, "Hello World from dll 02!");

//dll_03.dll
var traceSource = new TraceSource("TraceSource3");
traceSource.TraceEvent(TraceEventType.Error, 2, "Hello World from dll 03!"); 
```

然后您可以添加`nlog`为共享侦听器并可以将您的配置`App.Config`为

```
<system.diagnostics>
    <sources>
      <source name="TraceSource1" switchValue="All">
        <listeners><add name="nlog" /></listeners>
      </source>
      <source name="TraceSource2" switchValue="All">
        <listeners><add name="nlog" /></listeners>
      </source>
      <source name="TraceSource3" switchValue="All">
        <listeners><add name="nlog" /></listeners>
      </source>   
    </sources>
    <sharedListeners>
      <add name="nlog" type="NLog.NLogTraceListener, NLog" />
    </sharedListeners>
    <trace autoflush="true" indentsize="4">
      <listeners>
        <add name="nlog" />
        <remove name="Default" />
      </listeners>
    </trace>
</system.diagnostics> 
```

其余配置将在**nLog**配置文件中完成。

# c# - 在 c# 中以编程方式编辑 PDF（不可填充 PDF）

> ID：11239543
> 
> 赞同：1
> 
> 时间：2012-06-28T07:01:23.543
> 
> 标签：c#, pdf, pdf-generation, itextsharp, acrofields

**是否可以编辑不能在 C# 中填写的表单的 PDF**

## 细节 ：

1.  现有 PDF 包含图像、填充有数据和文本的表格。

2.  已经尝试过**itextsharp**但无法识别任何***AcroFields 来操纵数据***。

3.  尝试使用 Nitro PDF 进行 OCR 时，出现错误：OCR 无法完成，因为此页面包含可编辑/可搜索的内容

![***Sample_Text 使用 ASPOSE 替换***](../Images/d9d97e3fc823c0485e40850ada993e19.png)...*这是 ASPOSE Text Replacement 的输出 ...尝试将 Word **April**替换为**June***

## 要求 ：

必须以编程方式编辑表格中填充的文本和数据并保存。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T13:48:41.147

如果您可以选择商业图书馆，您可以尝试使用[Amyuni PDF Creator .Net](http://www.amyuni.com/en/developer/pdfcreator/features.html)。[GetObjectsInRectangle](http://amyuni.com/WebHelp/Amyuni_PDF_Creator_for_NET/Amyuni_PDFCreator_IacDocument/Methods/GetObjectsInRectangle_Method.htm)方法将允许您枚举指定矩形中的所有元素，然后您可以检查对象类型，如果它是一个文本对象并且它包含您想要的文本，您可以通过为文本属性。请注意，您页面上的其余文本将不会重新调整，因此新文本必须与先前文本占用的空间相同。

# wpf - WPF 弹出窗口中的子菜单项

> ID：11239544
> 
> 赞同：0
> 
> 时间：2012-06-28T07:01:23.853
> 
> 标签：wpf, wpf-controls

我在 XAML 的弹出窗口中创建了 MenuItems。该菜单项包含子菜单项。单击切换按钮时打开弹出窗口。我无法在弹出窗口中打开 MenuItem 的子 MenuItem。

$

```
<ToggleButton Name="button"
                  Width="30"
                  Height="30"
                  Click="Button_Click">
        <Image Width="30" Height="30">
            <Image.Source>
                <BitmapImage UriSource="/WpfApplication4;component/Images/Filter.png" />
            </Image.Source>
        </Image>
    </ToggleButton>
    <Popup Name="PART_Popup"
           Placement="Bottom"
           PlacementTarget="{Binding ElementName=button}">

        <Border Background="White"
                BorderBrush="Gray"
                BorderThickness="1">

            <StackPanel Orientation="Vertical">

                <MenuItem  Width="270"
                          Margin="5"
                          Header="ClearFilter">
                        <MenuItem.Icon>
                            <Image>
                                <Image.Source>
                                    <BitmapImage UriSource="/WpfApplication4;component/Images/ClearFilter.png" />
                                </Image.Source>
                            </Image>
                        </MenuItem.Icon>

                    <MenuItem  Header="SubMenu" />
                        <MenuItem Header="SubMenu1" />

                    </MenuItem>

                               </StackPanel>
        </Border>

    </Popup> 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T10:03:34.080

把它包`MenuItem`起来`Menu`，它会起作用。

# powershell - 将变量传递给 PoSh 远程文件以执行

> ID：11239545
> 
> 赞同：4
> 
> 时间：2012-06-28T07:01:24.087
> 
> 标签：powershell, powershell-remoting

我正在尝试从机器 A 运行 PS Remote 会话以访问机器 B。两者都在同一个域中，并且 Kerberos 身份验证正在工作，我可以建立一个 PS Remote 会话。

我正在尝试从机器 B 上的机器 A 运行脚本，将参数传递给该脚本，如下所示：

```
$build_script_dir = Resolve-Path .
$file_to_execute = "$build_script_dir\file_to_execute.ps1"

invoke-command -ComputerName MachineB -FilePath $file_to_execute -argumentlist $Arg1,$Arg2,$Arg3,$Arg4 
```

这似乎没有调用脚本。我什至尝试将脚本带到远程机器上，然后按如下方式执行：

```
$remote_file = "c:\path-to-file\remote_file.ps1"

invoke-command -ComputerName MachineB -ScriptBlock {$remote_file} -argumentlist $Arg1,$Arg2,$Arg3,$Arg4 
```

我错过了什么阻止脚本运行？我有大约 10 个参数要传递给脚本，脚本将操纵 IIS。

保罗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:01:46.463

如果脚本仅存在于远程机器上：

```
Invoke-Command -ComputerName Server01 -scriptBlock { C:\scripts\Test.PS1 "Arguments here"} 
```

`-FilePath`在本地机器上查找脚本。

当您在内部指定文件路径时`-ScriptBlock`，您可以调用驻留在远程系统上的脚本。

此外，如果您需要将任何变量从本地计算机传递到远程脚本，请使用 -Argumentlist。但是，这`-ScriptBlock`需要一个 param()。例如，

```
Invoke-Command -ComputerName Server01 -scriptBlock { param($name, $age) C:\scripts\Test.PS1 -Name $name -Age $age} -ArgumentList $name,$age 
```

在上面的命令中，$name 和 $age 是局部变量。

# iphone - UILocalNotification setTimeZone 到 AM/PM

> ID：11239547
> 
> 赞同：0
> 
> 时间：2012-06-28T07:01:35.993
> 
> 标签：iphone, uilocalnotification, nstimezone

如何将时区设置**为**上午`UILocalNotification`/下午。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:11:22.523

您可以使用

localNotif.timeZone = [NSTimeZone defaultTimeZone];

# android - 如何让身体忽略重力（AndEngine）？

> ID：11239548
> 
> 赞同：3
> 
> 时间：2012-06-28T07:01:44.627
> 
> 标签：android, physics, andengine, gravity

我有一个在场景中弹跳的精灵（带有身体）。它需要不受重力影响，还需要能够与场景中的其他物体发生碰撞。这意味着我不能使用运动体。我试过：

```
body = PhysicsFactory.createCircleBody(mPhysicsWorld, this, BodyType.DynamicBody, PhysicsFactory.createFixtureDef(.5f, .5f, .5f));
        MassData md = new MassData();
        md.mass=0;
        body.setMassData(md);
        mPhysicsWorld.registerPhysicsConnector(new PhysicsConnector(this, body, true, true)); 
```

我的 FixtureDef 具有不同的值，但似乎没有任何效果。我的身体仍然落到场景的底部并坐在那里。我看到了一些关于施加相等和相反的力的东西。如果我的万有引力是地球默认的，这是一个可行的选择，我该怎么做呢？或者有没有更好的方法将这个物体从引力场中移除，并且仍然让它与其他动态物体相互作用？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-28T07:51:40.150

我不确定当前版本的 AndEngine 中包含哪个版本的 Box2D，但您可以尝试`body.setGravityScale(0);`

如果这不起作用，则必须将其放入 onUpdate：

```
body.applyForce(new Vector2(0,-SensorManager.GRAVITY_EARTH), new Vector2(body.getWorldCenter())); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T17:32:33.910

您的代码没有使用运动体，而是使用动态。“BodyType.DynamicBody”

您应该使用“BodyType.KinematicBody”之类的内容更改该行

如果您施加与重力相反的力，您的代码将执行不必要的步骤并且效率低下。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-07T16:38:25.883

我有一个类似的问题 - 我需要一个不受重力影响的身体，但仍然可以通过将 setGravityScale 和 getGravityScale 添加到 andengine box 2d 扩展来检测和解决它。

如果您使用 GLES1，

[史蒂文 Box2D 与 SetGravityScale](https://skydrive.live.com/redir?resid=EB5E1E510A150D4D!109)

这是我的预建版本，包含 .so 文件和 jar。

或者，如果您想自己执行此操作，这些是我采取的步骤。

我从 Box2D 站点直接下载了 Box2D v2.2.1。然后我按照必要的步骤下载了扩展的源项目并构建它，

[构建示例和 box2d 扩展](http://www.andengine.org/forums/tutorials/build-the-examples-and-box2d-extension-t4720.html)

我导入了 Box2D 扩展的 GLES2 分支。确保更改 jni\build.sh 文件中的路径以匹配您的工作空间和 android ndk 的位置。这一切都在上面的链接中进行了解释。

接下来对 Box2D 2.2.1 中的 GravityScale 进行顶级文本搜索（在 \Box2D\Dynamics 中）并找到包含此字符串的所有文件。对扩展中的相应文件进行等效更改。

您需要更改的文件是，

*   b2Body.cpp
*   b2Body.h
*   b2岛.cpp

虽然大部分改动是一样的，但有一个细微的差别是在 Box2D\Dynamics\b2Island.cpp 中，修改代码如下

```
// Integrate velocities.
    b->m_linearVelocity += step.dt * (gravity + b->m_invMass * b->m_force); 
```

到，

```
// Integrate velocities.
    b->m_linearVelocity += step.dt * (b->m_gravityScale * gravity + b->m_invMass * b->m_force); 
```

完成所有更改后，我们需要更改扩展名中的另外两个文件，它们位于 jni\Box2D 中。

我修改了 Body.cpp 和 Body.h 并添加了 jniSetGravityScale 和 jniGetGravityScale 例程。为此，只需复制 jniSetAngularVelocity 和 jniGetAngularVelocity 并进行适当更改。所以 Body.cpp 中的代码例如会如下所示，

```
 JNIEXPORT void JNICALL Java_com_badlogic_gdx_physics_box2d_Body_jniSetGravityScale
(JNIEnv *, jobject, jlong addr, jfloat Scale)
        {
            b2Body* body = (b2Body*)addr;
            body->SetGravityScale(Scale);
        }

        JNIEXPORT jfloat JNICALL Java_com_badlogic_gdx_physics_box2d_Body_jniGetGravityScale
(JNIEnv *, jobject, jlong addr)
    {
        b2Body* body = (b2Body*)addr;
        return body->GetGravityScale();
    } 
```

对 src\Body.java 执行相同的操作（同样，您可以复制 AngularVelocity 的 get 和 setter 并进行适当的更改）。

最后运行 jni\build.bat 并将生成的 .so 文件复制到您的项目中。然后我将扩展 src 文件夹导出为 jar 并将其添加到我的项目中。

你现在应该可以打电话了，

```
Body.setGravityScale(0.0f); 
```

在你的动态身体上。

希望这可以帮助。

# javascript - 使用显示原型模式的 jQuery 插件

> ID：11239549
> 
> 赞同：0
> 
> 时间：2012-06-28T07:01:47.350
> 
> 标签：javascript, jquery

我正在使用显示原型模式开发一个 jQuery 插件，我在实例化我的对象时遇到了一些麻烦。下面，插件的代码：

```
(function($) {

var GammadiaCalendar = function(elem, options) {
    this.elem = elem;
    this.$elem = $(elem);
    this.options = options;
};

GammadiaCalendar.prototype = function() {

    var defaults = {
        message: 'Hello world!'
    },

    init = function() {

        this.config = $.extend({}, this.defaults, this.options);

        this.displayMessage();

        return this;
    },

    displayMessage = function() {
        alert(this.config.message);
    };

    return {
        displayMessage : displayMessage
    };

};

GammadiaCalendar.defaults = GammadiaCalendar.prototype.defaults;

$.fn.GammadiaCalendar = function(options) {
    return this.each(function() {
        new GammadiaCalendar(this, options).init();
    });
};

})(jQuery) 
```

我在实例化时得到*GammadiaCalendar 未定义*：

var gc = new GammadiaCalendar('id');

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:36:53.350

问题是您将原型设置为函数表达式，而不是**立即调用的函数表达式**。你需要改变它：

```
GammadiaCalendar.prototype = (function() {
   // your code here
})(); // Execute it 
```

此外，这条线永远不会起作用：

```
GammadiaCalendar.defaults = GammadiaCalendar.prototype.defaults; 
```

因为`defaults`永远不会返回原型。

您揭示原型模式的整个结构是不正确的。由 使用的`init`函数`new GammadiaCalendar(this, options).init()`是私有的，因此无法访问。因此，原型需要改成这样：

```
GammadiaCalendar.prototype = (function() {
  var defaults = {
     message: 'Hello world!'
  },
  init = function() {
    this.config = $.extend({}, this.defaults, this.options);
    this.displayMessage();
    return this;
  },
  displayMessage = function() {
    alert(this.config.message);
  };

  return {
    defaults: defaults,
    init: init,
    displayMessage : displayMessage
  };

})(); 
```

（当然，通过这种方式，你并没有真正从这种模式中获得任何东西，因为里面不再有真正的*私有*函数了）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:47:33.923

我看不出这种模式有什么意义，你可以这样做：

```
(function($) { //Because of this, everything here is "private" unless exposed anyway

    var defaults = {
            message: 'Hello world!'
    };

    function init() {
        this.config = $.extend({}, defaults, this.options);

        this.displayMessage();

        return this;
    }

    var GammadiaCalendar = function(elem, options) {
        this.elem = elem;
        this.$elem = $(elem);
        this.options = options;
    };

    GammadiaCalendar.prototype = {

        displayMessage: function() {
            alert(this.config.message);
        },

        constructor: GammadiaCalendar
    };

    GammadiaCalendar.defaults = defaults;

    $.fn.GammadiaCalendar = function(options) {
        return this.each(function() {
            var instance = new GammadiaCalendar(this, options);
            init.call(instance);
        });
    };

})(jQuery); 
```

请注意，您不能`var gc = new GammadiaCalendar('id');`在包含函数之外进行操作，因为它没有公开

# c# - 如何制作正则表达式模式？

> ID：11239550
> 
> 赞同：0
> 
> 时间：2012-06-28T07:01:59.050
> 
> 标签：c#

我有一个如下所示的 html 文件：（我是正则表达式模式的新手）

```
<a href=":$451$142">some thing</a>
<a href=":$14$15">some thing</a>                                
<a href=":$3$16">some thing</a>                     
<a href=":$312$17">some thing</a> 
```

如何用“#”替换所有“:$Number$Number”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:20:09.557

这个正则表达式应该工作：

```
 String str = @"<a href="":$451$142"">some thing</a>  "+
                    @" <a href="":$14$15"">some thing</a>   "+                             
                    @" <a href="":$3$16"">some thing</a>    "+                 
                    @" <a href="":$312$17"">some thing</a>  ";
       String newStr = Regex.Replace(str,@":\$\d+\$\d+", "#");
       System.Console.WriteLine(str);
       System.Console.WriteLine("\n\n" + newStr); 
```

它产生：

```
<a href=":$451$142">some thing</a>   <a href=":$14$15">some thing</a>    <a href
=":$3$16">some thing</a>     <a href=":$312$17">some thing</a>

<a href="#">some thing</a>   <a href="#">some thing</a>    <a href="#">some thin
g</a>     <a href="#">some thing</a> 
```

正则表达式：`:\$\d+\$\d+`将匹配任何以 a 开头`:`，后跟 a的文本`$`（the`$`是正则表达式语言中的特殊字符，因此需要`\`在前面加上一个额外的字符）。`$`遗嘱后面需要跟着一个或多个数字（`\d+`），然后再跟着另一个数字`:`（`\d+`）。请查看[本](http://www.codeproject.com/Articles/9099/The-30-Minute-Regex-Tutorial)教程以获取更多信息。

尽管在这种情况下正则表达式确实有帮助，但强烈建议您不要使用它们来解析语言。请使用[HTML Agility Pack](http://htmlagilitypack.codeplex.com/)等专用框架来执行任何与 HTML 相关的流程。在[这里](https://stackoverflow.com/questions/1517804/htmlagilitypack-example-for-changing-links-doesnt-work-how-do-i-accomplish-thi)查看一个类似于您似乎正在尝试做的示例。

# php - 无重复的随机数生成

> ID：11239563
> 
> 赞同：5
> 
> 时间：2012-06-28T07:02:46.693
> 
> 标签：php, arrays, random, srand

我必须在网页中显示一些横幅。横幅的数量为 10 个（最多 10 个）。我可以在数据库中设置横幅的数量和每个横幅文件夹。横幅图像根据类别存储在单独的服务器文件夹中。横幅显示在列中。

我的代码是，这里，long1,long2,...long10 是数据库中的目录名

```
 $array=array();
       for($n=1;$n<=$long;$n++)
       {
       $files = array();
       $dir=${'long'.$n};

               if(is_dir($dir))
              {
               $openDir = opendir($dir);
                       while (false !== ($file = readdir($openDir)))
                       {
                               if ($file != "." && $file != "..")
                               {
                                       $files[] = $file;
                               }
                       }
               closedir($openDir);
               }

mt_srand((double) microtime()*1000000);
 $randnum = mt_rand(0,(sizeof($files)-1));

 $arraycount=count($array);
for($index=0;$index<=$arraycount;$index++)
 {
 if(!in_array($array,$randnum))
     {
      $array[]=$randnum;
     }

 }

 $img = $dir."/".$files[$randnum];

  <input type="image" class="advt_image" src="<?=$img;?>" alt="" name=""/>
 } 
```

例如：如果数据库中设置了 7 个横幅，我必须显示来自不同或同一个文件夹的 7 个横幅。（一些横幅将来自同一个文件夹）。每次显示网页时，我都需要避免重复的横幅。

我已经分配了一个数组来存储每个随机数。我需要更改代码中的任何内容吗？有什么想法/想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:05:29.733

1.  将您的横幅 ID 放在一个数组中。每个都会发生一次
2.  [使用Knuth shuffle 随机](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)播放此数组
3.  在 HTML 输出中发出前 10 个

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T08:04:56.057

您可以从循环中的 $files 数组中删除显示的图像。这意味着您还必须检查循环中数组的长度。你可以用`array_diff`这个。

```
$files = array(...); // this holds the files in the directory
$banners = array();  // this will hold the files to display
$count = 7;
for($i=0;$i<$count;$i++) {
    $c = mt_rand(0,count($files));
    $banners[] = $files[$c];
    $files = array_diff($files, array($files[$c]));
}

// now go ahead and display the $banners 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:08:05.910

解决此问题的一种简单方法是创建一个数组来保存横幅列表，而不是在显示它们之前。

我没有阅读您的代码（抱歉），但这是一个基本概念，这是可能的。

```
$bannerList = array();

//Now, check if the list contains the banner before adding it
while($rows) { //your big list of banners

    if(!in_array($rows['bannerpath'])) {
        $bannerList[] = $rows['bannerpath'];
    }

} 
```

# python - Google App Engine - 如何扩展 db.IntegerProperty

> ID：11239565
> 
> 赞同：2
> 
> 时间：2012-06-28T07:03:05.133
> 
> 标签：python, google-app-engine

当我在整数和字符串之间交换很多时，我希望扩展 db.IntegerProperty。以下是我在 App Launcher 日志中收到的一些代码片段和错误消息。任何指针？谢谢大卫

```
class FSIdProperty(db.IntegerProperty):
    def getasstring(self):
        value = super(FSIdProperty, self)
        if value:
            return "%01d" % value
        else:
            return ''
    def setasstring(self, value):
        if isinstance(value, str):
            value = value.replace(',', '')
            value = value.replace(' ', '')
        newvalue = super(FSIdProperty, self)
        newvalue = int(value)
        return newvalue
    asstring = property(getasstring, setasstring)
...
class dcccategory(db.Model):
    categoryid  = FSIdProperty(verbose_name="Category Id")
    sortorder   = FSIdProperty(verbose_name="Sort Order")
    description = db.StringProperty(verbose_name="Description")
    created_at  = UtcDateTimeProperty(verbose_name="Created on", auto_now_add=True)
    modifiedon  = UtcDateTimeProperty(verbose_name="Modified on", auto_now=True)
    modifiedby  = db.UserProperty(verbose_name="Modified by", auto_current_user=True)
...
outopt = {
        'formtitle':   'Category Maintenance',
        'categoryid':  pcategory.categoryid.asstring(),
        'sortorder':   pcategory.sortorder.asstring(),
        'description': pcategory.description,
        'categorys':   pcategorys,
        'formerror':   ''}
...
  File "C:\_PythonApps\costcontrol\fcccategorymaint.py", line 17, in displayone
    'categoryid':  pcategory.categoryid.asstring(),
AttributeError: 'int' object has no attribute 'asstring' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T17:47:43.857

我建议切换到 NDB。在 NDB 中，编写 IntegerProperty 的子类非常简单，它将值存储为整数，但接受整数或字符串（将字符串转换为整数）。这是一个草图：

```
class MyIntegerProperty(ndb.IntegerProperty):
  def _validate(self, val):
    if isinstance(val, basestring):
      return int(val) 
```

就这样！

# python - xmpp.protocol.Message 和 xmpp.Message 有什么区别？

> ID：11239567
> 
> 赞同：0
> 
> 时间：2012-06-28T07:03:11.217
> 
> 标签：python, xmpp, xmpppy

xmpp.protocol.Message 和 xmpp.Message 有什么区别？我使用了 xmpp.Message 并且它按预期工作，但我不知道如何使用它发送 html 消息。

我找到了一个使用 xmpp.protocol.Message 发送 html 消息的[解决方案](https://stackoverflow.com/questions/3310750/sending-xhtml-over-jabber-using-xmpppy)，但在我的情况下，它根本不发送消息。如果我知道如何使用 xmpp.Message 发送 html 消息，这将非常有帮助。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T08:02:18.223

的[源代码](http://xmpppy.cvs.sourceforge.net/viewvc/xmpppy/xmpppy/xmpp/__init__.py?revision=1.9&view=markup)包括`xmpp`这一行：

```
from protocol import * 
```

`xmpp.Message`这意味着和之间没有区别`xmpp.protocol.Message`- 它们是同一类。您可以通过查看以下内容来验证这一点：`xmpp.Message is xmpp.protocol.Message`- 这将是真实的。

# itextsharp - 如何在 itextsharp 中使用 PdfContentByte 为文本添加下划线

> ID：11239569
> 
> 赞同：5
> 
> 时间：2012-06-28T07:03:17.703
> 
> 标签：itextsharp

这实际上是指实际关闭的[问题](https://stackoverflow.com/q/10738187/1206052)

我正在使用 ItextSharp 5.2.1。

我想使用 PdfContentByte 为我的标题文本添加下划线。请给我解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T07:25:14.130

```
private PdfContentByte pdfContentByte;

 private string DescriptionToPrint="Hii!! I will be underlined."
  private Int32  AlignmentofDescription = 3;
  private float  XofDescription = 110;
  private float  YofDescription = 440;
  private float  RotationofDescription = 0; 
```

使用 pdfcontentbyte 编写 PDF 我们通常使用以下

（开始文本和结束文本）

格式

```
pdfContentByte.BeginText();
    pdfContentByte.ShowTextAligned(PdfContentByte.ALIGN_LEFT, DescriptionToPrint.ToString(), XofDescription, YofDescription, RotationofDescription);
    pdfContentByte.EndText(); 
```

上述技术也有另一种选择，它也很灵活。

这是如果您想要`pdfcontentbyte`使用已应用的相同格式`BaseFont`

```
//ColumnText.ShowTextAligned(pdfContentByte, Element.ALIGN_LEFT, new Phrase(DescriptionToPrint), XofDescription, YofDescription, RotationofDescription); 
```

如果你想在文本下划线，那么在`Phrase`里面`Chunk`

```
 ColumnText.ShowTextAligned(pdfContentByte, Element.ALIGN_LEFT, new Phrase(new Chunk(DescriptionToPrint.ToString(), FontFactory.GetFont(FontFactory.HELVETICA, 8, Font.UNDERLINE))), XofDescription, YofDescription, RotationofDescription); 
```

这里下面提到的行实际上是修复。

```
new Phrase(new Chunk(DescriptionToPrint.ToString(), FontFactory.GetFont(FontFactory.HELVETICA, 8, Font.UNDERLINE))) 
```

对于 ColumnText，我们必须提供`new Phrase` 可以访问实际上`base font`不允许我们访问的字体属性的文本。

内部`Phrase` `Chunk`为文本提供所需的格式。

他们在网上有很多关于使用的例子`chunk`

如果你想传递这样的**浮点值**（20.25），这些将被此类使用**“20.25f”**识别为双精度，那么它们将被视为浮点数并且可以工作......

# java-me - 无法通过 J2ME 代码在诺基亚 e71 中找到 Cellid、MCC、MNC、LAC 值

> ID：11239571
> 
> 赞同：3
> 
> 时间：2012-06-28T07:03:19.313
> 
> 标签：java-me, netbeans-7

如何获取诺基亚 E71 的小区 ID、MCC、LAC？

我正在使用下面的代码，但找不到 cellid、MCC、LAC 值。

我尝试通过 j2me 代码找到这个值。

请帮我找到这个值

获取单元格ID的代码：

> public static String getCellId() { String out = ""; 尝试 {
> 
> ```
>  out = System.getProperty("Cell-ID"); //            if (out == null || out.equals("null") || out.equals("")) { //                out = System.getProperty("CellID"); //            } //            if 
> ```
> 
> (out == null || out.equals("null") || out.equals("")) { //
> System.getProperty("phone.cid"); // }
> 
> ```
>  if (out == null || out.equals("null") || out.equals("")) {
>             out = System.getProperty("com.nokia.mid.cellid");
>         }
> 
>     } catch (Exception e) {
>         return out == null ? "" : out;
>     }
> 
>     return out == null ? "" : out;
> } 
> ```

获取 LAC 的代码：

> ```
> public static String getLAC() {
>         String out = "";
>         try {
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = System.getProperty("com.nokia.mid.lac");
>             }
> 
>         } catch (Exception e) {
>             return out == null ? "" : out;
>         }
> 
>         return out == null ? "" : out;
>     } 
> ```

获取IMSI的代码：

> ```
>  public static String getIMSI() {
>         String out = "";
>         try {
> 
>             out = System.getProperty("IMSI");
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 System.getProperty("phone.cid");
>             }
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = System.getProperty("com.nokia.mid.mobinfo.IMSI");
>             }
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = System.getProperty("com.nokia.mid.imsi");
>             }
> 
>         } catch (Exception e) {
>             return out == null ? "" : out;
>         }
> 
>         return out == null ? "" : out;
>     } 
> ```

获取 MCC 的代码：

> ```
> public static String getMCC() {
>         String out = "";
>         try {
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = System.getProperty("phone.mcc");
>             }
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = System.getProperty("com.nokia.mid.mobinfo.IMSI");
>             }
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = getIMSI().equals("") ? "" : getIMSI().substring(0, 3);
>             }
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = System.getProperty("com.siemens.imei");
>             }
> 
>             if (out == null || out.equals("null") || out.equals(""))//getMNC()
> 
>             {
>                 if (out == null || out.equals("null") || out.equals("")) {
>                     out = System.getProperty("mcc");
>                 }
>             }
> 
>         } catch (Exception e) {
>             return out == null ? "" : out;
>         }
> 
>         return out == null ? "" : out;
>     } 
> ```

获取 MNC 的代码：

> ```
> public static String getMNC() {
>         String out = "";
>         try {
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = System.getProperty("phone.mnc");
>             }
> 
>             if (out == null || out.equals("null") || out.equals("")) {
>                 out = getIMSI().equals("") ? "" : getIMSI().substring(3, 5);
>             }
> 
>            if (out == null || out.equals("null") || out.equals("")) {
>                 out = getIMSI().equals("") ? "" : getIMSI().substring(3, 5);
>             }
> 
>            if (out == null || out.equals("null") || out.equals(""))//getMNC()
> 
>             {
>                 if (out == null || out.equals("null") || out.equals("")) {
>                     out = System.getProperty("mnc");
>                 }
>             }
> 
>         } catch (Exception e) {
>             return out == null ? "" : out;
>         }
> 
>         return out == null ? "" : out;
>     } 
> ```

你是否使用我的代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T11:31:21.337

就诺基亚而言，您需要让运营商签署您的应用程序，以便您能够访问这些详细信息。

# java - java.util.ConcurrentModificationException 在 List.add() 期间发生

> ID：11239574
> 
> 赞同：0
> 
> 时间：2012-06-28T07:03:32.820
> 
> 标签：java, list, exception

我遇到了一个奇怪的问题。得到`java.util.ConcurrentModificationException`. 但我没有修改当前的集合。请帮忙。

方法调用

```
setAllAddress((List<AddressBean>) usrProfileResp.getAddressBeanList());
setShippingAddresses(getAllAddress()); 
```

方法

```
public List<AddressBean> getAllAddress() {
    return allAddress;
}

public void setShippingAddresses(List<AddressTokenBean> shippingAddresses) {
        shippingAddresses = new ArrayList<AddressBean>();
        List<AddressBean> addresses = getAllAddress();
        if (addresses != null && addresses.size() > 0) { 
            for (AddressBean addr : addresses) { // EXCEPTION OCCURS HERE
                if (!Constants.BILLING_ADDRESS.equals(addr.getAddressType())) {                    
                    shippingAddresses.add(addr);                
                }
            }
        }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:05:47.487

最可能的解释是指`addresses`的`shippingAddresses`是同一个集合。您可以在调试器中检查这一点。

getAllAddresses() 是否完全使用 shippingAddresses？

你确定这个集合没有在另一个线程中被修改吗？这种情况是一直发生还是偶尔发生？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:40:48.933

我真的不明白为什么你们都考虑shippingAddresses？Vanathi 说，尝试迭代

> 列出地址 = getAllAddress();

在 for-each 循环中。

所以应该有一个线程来改变'addresses'引用的数组。顺便说一句，异常是否发生在第一次迭代或

您对“getAllAddresses”的实现如下：

> 公共列表 getAllAddress() { 返回所有地址；}

所以我得出结论，“allAddresses”只是某个类的数据成员。这个类显然允许并发修改（另一个线程？）这是你应该努力的地方......只是IMO :)

希望这可以帮助

# jsp - 如何在jsp，struts2中对表格的动态内容进行排序？

> ID：11239579
> 
> 赞同：0
> 
> 时间：2012-06-28T07:03:47.897
> 
> 标签：jsp, sorting

我是在动态内容的jsp页面中做这种排序技术的新手。我的应用程序与 struts2+jsp+hibenate 集成。我在jsp中使用以下代码。

报告.jsp

```
 <table class="report_view_table" id="results">
    <thead>
        <tr> <th width="35" scope="col" abbr="no">No
            </td>
            <th width="50" scope="col" abbr="status">Date
            </td>
            <th width="80" scope="col" abbr="option">productName
            </td> 
        </tr>
    </thead>
    <tbody>
  <s:if test="resultList.size() > 0">
  <s:if test="productName.size() > 0">
  <s:iterator status="rowNo" value="resultList">
      <s:set name="Result_product" value="%{productId}" />
  <tr> <td><span class="check"><s:property value="%{#rowNo.count}" /></span></td>
       <td><span class="check"><s:property value="%{proDate}" /></span></td>
       <td><span class="check"><s:iterator value="productName"> 
           <s:set name="product"value="%{productId}" /> 
           <s:if test="%{#product== #Result_product}">
        <s:property value="%{productionName}" /> </s:if></s:iterator>
       </span></td>
   </tr>
   </s:iterator>
   </s:if>
   </s:if>
   <s:else>No report is available
   </s:else>
    <s:else>No report is available
   </s:else>
       </tbody>
   </table> 
```

在这里，我想按列标题对表格进行排序。如何对表格的这个动态内容进行排序。任何人都请帮我做这个功能。**提前谢谢**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:10:59.620

**客户端排序**： [使用jquery dataTable](http://datatables.net/)

对于使用 jquery 数据表，将表的 id 指定到 jquery 数据表。例如 results 是你的表的 id

为 jquery 和 jquery 数据表添加 javascript 文件

```
$(document).ready(function(){
    $('#results').dataTable();
}); 
```

**服务器端排序**：使用 Arrays.sort() 通过接口 Comparable 参考[http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html对服务器端的结果列表进行排序](http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html)

# javascript - 使用带有 xml 响应的 jquery 的跨域 Post 方法 ajax 调用

> ID：11239584
> 
> 赞同：1
> 
> 时间：2012-06-28T07:04:14.010
> 
> 标签：javascript, ajax, jquery, javascript-events

我想使用带有 xml 作为响应文本的 post 方法发送 ajax 请求，是否可能，如果可能，请告诉我可能的方法。

对于前

```
url : "http://www.webservicex.net/CurrencyConvertor.asmx/ConversionRate"
data : {FromCurrency:"INR",ToCurrency:"AUD"}
method : GET or POST 
```

[http://www.webservicex.net/CurrencyConvertor.asmx/ConversionRate?FromCurrency=INR&ToCurrency=AUD](http://www.webservicex.net/CurrencyConvertor.asmx/ConversionRate?FromCurrency=INR&ToCurrency=AUD)

我需要使用 ajax 的这个 url 的响应。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T07:48:09.667

您可以使用[YQL](http://developer.yahoo.com/yql/console/)，

```
var url = 'http://www.webservicex.net/CurrencyConvertor.asmx/ConversionRate?FromCurrency=INR&ToCurrency=AUD'; // website you want to scrape
var yql = 'http://query.yahooapis.com/v1/public/yql?q=' + encodeURIComponent('select * from xml where url="' + url + '"') + '&format=json&callback=?';  
$.getJSON(yql,function(data){  
    if(data.query.results){
        var result = data.query.results.double.content.replace(/<script[^>]*>[\s\S]*?<\/script>/gi, '');
        alert(result);
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:31:12.117

您可以在向 webservicex.net 请求并以您想要的任何格式返回数据的同一域上的服务器上编写自己的脚本。

所以，ajax 请求 -> 你的服务器（在同一个域上） -> webservicex.net

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:20:40.640

服务器似乎不支持CORS。那么您将无法通过 ajax 调用来执行此操作，因为`same origin policy`

# linux - 使用 bash 脚本在 apache solr 中为 curl 索引数据

> ID：11239586
> 
> 赞同：0
> 
> 时间：2012-06-28T07:04:31.373
> 
> 标签：linux, curl, solr, cygwin

我再次发布同样的问题。请帮我解决这个问题。这是我编写的 bash 脚本的代码

```
declare -i i=1
for file in searchdumps/*
do
echo "indexing $file"
i=$((i+1))
curl "'http://localhost:8983/solr/update/extract?literal.id=document$i&uprefix=attr_content&commit=true' -F \"myfile=@/home/test/$file\"" 
done 
```

路径正确直接应用的命令有效，但是执行此脚本时出现错误

> indexing searchdumps/1.pdf curl: (1) 协议'http 在 libcurl 中不受支持或禁用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:11:25.737

请试试这个：-

```
curl "http://localhost:8080/solr/update/extract?stream.file=/home/test/$file&literal.id=document$i&commit=true" 
```

# c# - Windows Phone 日期时间异常

> ID：11239588
> 
> 赞同：0
> 
> 时间：2012-06-28T07:04:34.550
> 
> 标签：c#, windows-phone-7, datetime

我目前正在本地化 Windows Phone 应用程序，但我已经开始在 DateTime.Now.ToString() 上获取索引超出范围异常。

我尝试更改计算机的时区，但错误仍然存​​在。

我不确定是什么导致了这个问题或如何解决它。

有任何想法吗？提前致谢！

* * *

堆栈跟踪（根据要求添加）

* * *

```
 mscorlib.dll!System.Globalization.DateTimeFormatInfo.GetYearMonthPattern(int calID = 1) + 0x25 bytes    
    mscorlib.dll!System.Globalization.DateTimeFormatInfo.InitializeOverridableProperties() + 0x94 bytes 
    mscorlib.dll!System.Globalization.DateTimeFormatInfo.Calendar.set(System.Globalization.Calendar value = {System.Globalization.GregorianCalendar}) + 0x1a8 bytes 
    mscorlib.dll!System.Globalization.DateTimeFormatInfo.DateTimeFormatInfo(System.Globalization.CultureTableRecord cultureTable = {System.Globalization.CultureTableRecord}, System.Globalization.Calendar cal = {System.Globalization.GregorianCalendar}) + 0x29 bytes    
    mscorlib.dll!System.Globalization.CultureInfo.DateTimeFormat.get() + 0x19 bytes 
    mscorlib.dll!System.Globalization.CultureInfo.GetFormat(System.Type formatType = {Name = "DateTimeFormatInfo" FullName = "System.Globalization.DateTimeFormatInfo"}) + 0x22 bytes   
    mscorlib.dll!System.Globalization.DateTimeFormatInfo.CurrentInfo.get() + 0x2a bytes 
    mscorlib.dll!System.DateTime.ToString() 
>   QuickAirtime.dll!QuickAirtime.PaymentSummary.btnTransactionClick(object sender = {System.Windows.Controls.Button}, System.Windows.RoutedEventArgs e = {System.Windows.RoutedEventArgs}) Line 78 + 0x2 bytes C#
    System.Windows.dll!System.Windows.Controls.Primitives.ButtonBase.OnClick() + 0x1f bytes 
    System.Windows.dll!System.Windows.Controls.Button.OnClick() + 0x1f bytes    
    System.Windows.dll!System.Windows.Controls.Primitives.ButtonBase.OnMouseLeftButtonUp(System.Windows.Input.MouseButtonEventArgs e = {System.Windows.Input.MouseButtonEventArgs}) + 0x4e bytes    
    System.Windows.dll!System.Windows.Controls.Control.OnMouseLeftButtonUp(System.Windows.Controls.Control ctrl = {System.Windows.Controls.Button}, System.EventArgs e = {System.Windows.Input.MouseButtonEventArgs}) + 0xc bytes   
    System.Windows.dll!MS.Internal.JoltHelper.FireEvent(System.IntPtr unmanagedObj = 227599168, System.IntPtr unmanagedObjArgs = 227256368, int argsTypeIndex = 169, int actualArgsTypeIndex = 169, string eventName = "M@@4") + 0x115 bytes    
    [External Code] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T18:05:20.733

我的应用程序已本地化，但我没有使用正确格式的文化代码，例如，我将使用 en 而不是 en-US 或 fr 而不是 fr-FR。

一旦我如上所述变得具体，就`DateTime.Now.ToString()`开始按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:36:33.473

如果日期对于当前区域性的日历无效，则会发生这种情况。

根据[MSDN 文档](http://msdn.microsoft.com/en-us/library/k494fzbf.aspx)：*ToString() 方法返回当前文化使用的日历中日期和时间的字符串表示形式。如果当前 DateTime 实例的值早于 Calendar.MinSupportedDateTime 或晚于 Calendar.MaxSupportedDateTime，则该方法将引发 ArgumentOutOfRangeException*。

您的应用中当前的文化是什么？

# java - 从请求或响应标头中隐藏 cookie

> ID：11239591
> 
> 赞同：0
> 
> 时间：2012-06-28T07:04:47.630
> 
> 标签：java, jsp, jakarta-ee, tomcat, tomcat5.5

我想从请求和响应标头中隐藏默认 cookie 值，以便任何请求捕获工具都不会显示 cookie 值。我尝试了各种博客，其中他们说安全设置为 true，但它是用于为 https 设置 cookie 值。但我不想从请求或响应标头中隐藏 cookie 信息。

我正在使用 jdk 1.5、servlet 2.4 和 tomcat 5.35

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:31:30.530

Cookie 是信息来回传递的方式。您无法将它们隐藏起来。

您可以尝试通过 HTTPS 工作并使用安全标签。Secure-Cookies 只会通过 HTTPS 处理，不会是任何捕获工具看到的纯文本。如果 HTTPS 不是选项，那么我猜你就不走运了。

# android - 在哪里加载 Adapter 的数据？在活动中？或在适配器中？

> ID：11239594
> 
> 赞同：4
> 
> 时间：2012-06-28T07:04:57.807
> 
> 标签：android, android-listview, android-adapter

对于列表视图，您必须有一个适配器。要填写列表项，您需要数据。现在问题来了：

1.  这是在自定义适配器中下载数据的好主意吗？
2.  或者更好的是在活动中下载数据并将其传递给适配器？
3.  还是他们有更好的方法来实现这一目标？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T07:06:43.133

看起来只有一个问题，三个选项

```
is this a good idea to download the data in custom adapter or better is download data in activity & pass it to adapter  their is any better way to achieve that ? 
```

创建`AsyncTask from Activity`和`set the data to adapter from onPostExecution`回调函数

一个很好的教程[链接1](http://www.vogella.com/articles/AndroidPerformance/article.html)

2-[在后台 AsyncTask 中加载 ListView](http://android-er.blogspot.in/2010/07/load-listview-in-background-asynctask.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:16:17.217

您可以在任何活动类中下载，然后通过广播发送数据，编辑您的适配器，最后通过调用更新适配器即列表：

```
adapter.notifyDataSetChanged(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T11:43:03.900

对于这个问题，我得到了更好的答案：

*   *在Activity*中准备您的数据，然后将其发送到您的*Adapter*中。它可能正在通过`AsyncTask`或从`SQLite`或其他方式下载数据。
*   在您的*适配器*`AsyncTask`中，通过或从`SQLite`或其他方式加载数据。

但更好的选择是在 Activity 中加载数据并在 Adapter 中使用它。它将帮助您使您的代码更清洁，并为您提供更大的灵活性来管理您的数据。但在某些情况下，您可能会考虑在 Adapter 中准备数据；如果您在 Activity 中加载它有困难。

两者都可以正常工作，由您决定。

# jquery - 在 asp.net 4.0 应用程序中添加 jquery 库时出错

> ID：11239596
> 
> 赞同：0
> 
> 时间：2012-06-28T07:05:02.530
> 
> 标签：jquery, asp.net-4.0

我在 asp.net4.0 中创建了一个应用程序，并在此应用程序中使用了母版页。

我参考了 Scripts 文件夹中母版页上的 aj 查询 js 库文件。当我在子页面中编写一些 jquery 代码时出现错误（此页面位于视频文件夹中）。但是当我在这个子页面上引用 js 文件时，它工作正常。

那么我必须在每个子页面上链接这个 js 文件吗？

我们不能只通过参考母版页上的 js 文件来做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:16:20.170

好的。我曾经遇到过这个问题。

我不完全记得以下几行是否解决了问题，但您可以尝试一次：

在脚本源中，将 src 提及为：

```
src=<% ResolveClinetUrl("~/scripts/script.js")%> 
```

这意味着在根目录 -> 有一个名为 scripts 的文件夹 -> 其中有一个名为 script.js 的脚本文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:04:59.580

*仔细阅读*：

> (F) 表示文件夹

*   Root -> Scripts(F) -> 你的脚本文件在这里
*   Root -> Videos(F) -> your page(s) here

现在，如果您在视频文件夹中的页面上，并且您需要访问保存在 Scripts 文件夹中的脚本。你需要做的是：

1.  在层次结构中返回一级，当您返回一级时，您可以访问文件夹 Scripts 以及放置在那里的脚本文件。
2.  要返回层次结构，您需要在 src 属性中写入“../”。

*考虑到上面的解释，现在试试这个：*

```
src = "../Scripts/script.js" 
```

# php - PHP中的substr_replace编码

> ID：11239597
> 
> 赞同：7
> 
> 时间：2012-06-28T07:05:13.097
> 
> 标签：php, encoding, fwrite

我想写入一个文本文件。当我在 PHP 中使用*[substr_replace()](https://www.php.net/manual/en/function.substr-replace.php)*时，编码会发生变化。它不能正确打印希腊字符。如果我不这样做，一切都很好。我怎样才能解决这个问题？

```
<?php
    $file = "test.txt";
    $writeFile = fopen($file, "w+"); // Read/write
    $myarray = array("δφδφ", "δφδσφδσ", "δφδφδ");
    $myarray[0] = substr_replace($myarray[0], "ε", 0, 1);

    foreach ($myarray as $data) {
        fwrite($writeFile, $data . "\n");
    }
?> 
```

### 结果

ε�φδφ<br/> δφδσφδσ
δφδφδ

***没有任何*** *substr_replace() 的结果*

δφδφ
δφδσφδσ
δφδφδ

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2016-02-25T21:27:29.697

您可以使用这两个功能：

来自[shkspr.mobi](https://shkspr.mobi/blog/2012/09/a-utf-8-aware-substr_replace-for-use-in-app-net/)：

```
function mb_substr_replace($original, $replacement, $position, $length)
{
    $startString = mb_substr($original, 0, $position, "UTF-8");
    $endString = mb_substr($original, $position + $length, mb_strlen($original), "UTF-8");

    $out = $startString . $replacement . $endString;

    return $out;
} 
```

* * *

来自[GitHub](https://github.com/fluxbb/utf8/blob/master/functions/substr_replace.php)：

```
function mb_substr_replace($str, $repl, $start, $length = null)
{
    preg_match_all('/./us', $str, $ar);
    preg_match_all('/./us', $repl, $rar);
    $length = is_int($length) ? $length : utf8_strlen($str);
    array_splice($ar[0], $start, $length, $rar[0]);
    return implode($ar[0]);
} 
```

我都试过了，都很好用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T08:22:06.343

假设您以多字节编码（如 UTF-8）对希腊语进行编码，这将不起作用，因为核心 PHP 字符串函数，包括`substr_replace`，不支持多字节。他们将一个字符视为等于一个字节，这意味着如果您只替换它们的第一个字节，您最终会将多字节字符切成两半。您需要使用涉及多字节感知字符串函数的更手动的方法，例如[`mb_substr`](http://php.net/mb_substr)：

```
mb_internal_encoding('UTF-8');
echo 'ε' . mb_substr('δφδφ', 1); 
```

[注释中链接到的注释@arma](http://php.net/manual/en/function.substr-replace.php#59544)将该功能包装在一个函数中。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-08T16:38:16.637

试试这个版本：

```
function mb_substr_replace ($string, $replacement, $start, $length = 0) 
{
    if (is_array($string)) 
    {
        foreach ($string as $i => $val)
        {
            $repl = is_array ($replacement) ? $replacement[$i] : $replacement;
            $st   = is_array ($start) ? $start[$i] : $start;
            $len  = is_array ($length) ? $length[$i] : $length;

            $string[$i] = mb_substr_replace ($val, $repl, $st, $len);
        }

        return $string;
    }

    $result  = mb_substr ($string, 0, $start, 'UTF-8');
    $result .= $replacement;

    if ($length > 0) {
        $result .= mb_substr ($string, ($start+$length+1), mb_strlen($string, 'UTF-8'), 'UTF-8');
    }

    return $result;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-26T20:27:44.873

```
function replace($string, $replacement, $start, $length = 0)
{
    $result  = mb_substr($string, 0, $start, 'UTF-8');
    $result .= $replacement;

    if ($length > 0)
    {
        $result .= mb_substr($string, ($start + $length), null, 'UTF-8');
    }

    return $result;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-28T08:07:43.587

您可以尝试使用该`mb_convert_encoding()`函数来设置正确的编码。

# php - 处理时遇到错误：libapache2-mod-php5 php5 php5-cli

> ID：11239599
> 
> 赞同：4
> 
> 时间：2012-06-28T07:05:19.893
> 
> 标签：php, ubuntu, php-5.3

我现在使用的是 Ubuntu 11.10。当我努力通过键入来安装 php5 时

```
sudo apt-get install php5 
```

我收到了这个错误：

```
......
Errors were encountered while processing:
 libapache2-mod-php5
 php5
 php5-cli

E: Sub-process /usr/bin/dpkg returned an error code (1) 
```

我试图再做一次，但得到了同样的错误。然后有人建议我删除它。我做了：

```
sudo apt-get remove --purge php5 
```

并得到这个错误：

```
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages will be REMOVED:
  php5*
0 upgraded, 0 newly installed, 1 to remove and 27 not upgraded.
3 not fully installed or removed.
After this operation, 20.5 kB disk space will be freed.
Do you want to continue [Y/n]? y
(Reading database ... 
dpkg: warning: files list file for package `firefox-locale-en' missing, assuming package has no files currently installed.
(Reading database ... 161883 files and directories currently installed.)
Removing php5 ...
Setting up libapache2-mod-php5 (5.3.6-13ubuntu3.8) ...
cp: reading `/var/lib/ucf/hashfile.5': Input/output error
dpkg: error processing libapache2-mod-php5 (--configure):
 subprocess installed post-installation script returned error exit status 1
Setting up php5-cli (5.3.6-13ubuntu3.8) ...
cp: reading `/var/lib/ucf/hashfile.5': Input/output error
dpkg: error processing php5-cli (--configure):
 subprocess installed post-installation script returned error exit status 1
Errors were encountered while processing:
 libapache2-mod-php5
 php5-cli 
```

然后我尝试只安装 php5-cli 并收到此错误：

```
Reading package lists... Done
Building dependency tree       
Reading state information... Done
php5-cli is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 27 not upgraded.
3 not fully installed or removed.
After this operation, 0 B of additional disk space will be used.
Do you want to continue [Y/n]? y
Setting up libapache2-mod-php5 (5.3.6-13ubuntu3.8) ...
cp: reading `/var/lib/ucf/hashfile.5': Input/output error
dpkg: error processing libapache2-mod-php5 (--configure):
 subprocess installed post-installation script returned error exit status 1
dpkg: dependency problems prevent configuration of php5:
 php5 depends on libapache2-mod-php5 (>= 5.3.6-13ubuntu3.8) | libapache2-mod-php5filter (>= 5.3.6-13ubuntu3.8) | php5-cgi (>= 5.3.6-13ubuntu3.8) | php5-fpm (>= 5.3.6-13ubuntu3.8); however:
  Package libapache2-mod-php5 is not configured yet.
  Package libapache2-mod-php5filter is not installed.
  Package php5-cgi is not installed.
  Package php5-fpm is not installed.
dpkg: error processing php5 (--configure):
 dependency problems - leaving unconfigured
Setting up php5-cli (5.3.6-13ubuntu3.8) ...
No apport report written because the error message indicates its a followup error from a previous failure.
cp: reading `/var/lib/ucf/hashfile.5': Input/output error
dpkg: error processing php5-cli (--configure):
 subprocess installed post-installation script returned error exit status 1
Errors were encountered while processing:
 libapache2-mod-php5
 php5
 php5-cli
E: Sub-process /usr/bin/dpkg returned an error code (1) 
```

我无法打开 php5-cli。出了什么问题，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:04:49.863

打开终端并输入

> sudo apt-get install -f

# dynamic - 将孩子添加到父母后是否必须调用 doLayout() 方法？

> ID：11239604
> 
> 赞同：1
> 
> 时间：2012-06-28T07:05:57.027
> 
> 标签：dynamic, extjs, panel, extjs4.1

在我们的应用程序中，有一个选项卡面板，我们在其中动态添加/删除面板。

通过菜单处理程序中的以下代码单击菜单项添加面板：

```
Ext.getCmp('mainTabPanelId').add(getPanel()); 
```

这里`getPanel()`方法在创建面板后返回面板。

假设主选项卡面板的 id 是`mainTabPanelId`，子面板的 id 是 panelId，在这种情况下，有人可以指导以下内容：

1.  add 方法后需要调用`doLayout()`吗？`mainTabPanel`
2.  应该在l 或新添加的子面板上`doLayout()`调用`mainTabPane`，即，`Ext.getCmp('mainTabId').doLayout()`还是`Ext.getCmp('panelId').doLayout()`？
3.  是否会调用来`doLayout()`处理与渲染相关的所有问题，例如滚动条？
4.  该方法`getPanel()`应该返回一个已经创建的面板（使用`Ext.create`）还是应该返回一个配置对象（拥有`xtype:'panel'`）？牢记时间，应该首选哪一个以获得更好的性能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T13:37:32.040

[AbstractContainer::add()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.container.AbstractContainer-method-add)

> <...> 如果 Container 配置了尺寸管理布局管理器，此时 Container 也会重新计算其内部布局。

所以你不必做**1** - **3**因为：

[AbstractContainer::doLayout()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.container.AbstractContainer-method-doLayout)

> <...> 在大多数情况下，框架在内部使用它来刷新布局。

[AbstractContainer::defaults](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.container.AbstractContainer-cfg-defaults)

> 为了使默认值起作用，必须使用 {xtype: ......} 添加子项，而不是使用 Ext.create("widget.type",{}) © roger.spall

所以我更喜欢返回配置对象而不是组件本身。

# java - 测试 Swing 应用程序

> ID：11239606
> 
> 赞同：2
> 
> 时间：2012-06-28T07:06:03.553
> 
> 标签：java, hibernate, swing, memory-management, jprofiler

我正在使用 Hibernate 开发基于 Java Swing 的应用程序。我已经使用 NetBeans IDE 来构建我的应用程序。

我有大约 13 个子模块。我曾经`JInternalFrames`构建过这些子模块。以及 4 个使用 JasperViewer 的报告。

加载我的应用程序大约需要 2 到 3 分钟。当从一个模块切换到另一个模块时，加载每个模块需要很长时间。

现在我必须检查以下内容

1.  如何检查我的整个 Swing 应用程序的内存和 CPU 以及哪个类占用大量 CPU 和内存？

2.  如何使用简单的方法测试我的应用程序？

3.  如何提高我的摇摆应用程序的性能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:18:47.030

当您使用 NetBeans - 使用内部分析器。这是获取有关您在哪里浪费时间的详细信息的工具。

有关更多信息，请查看 NetBeans 站点，例如

*   [http://netbeans.org/kb/docs/java/profiler-intro.html](http://netbeans.org/kb/docs/java/profiler-intro.html)
*   [http://profiler.netbeans.org/](http://profiler.netbeans.org/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T07:26:43.053

像这样的启动时间不仅仅是因为拥有一个大 gui 应用程序。我认为问题是您的数据库访问。问题来了：

*   你使用hibernate的延迟加载功能吗？这是一个不错的功能，但如果不负责任地使用，可能会导致一些问题。读[这个](http://www.javalobby.org/java/forums/t20533.html)。
*   您是在应用程序中缓存数据库中的数据，还是在每次操作时从数据库中获取数据？减少加载时间的一个好方法是将数据存储在 HashMap 中。Hibernate 也有它自己的[缓存](http://www.ehcache.org/documentation/user-guide/hibernate)。
*   您是否获取整个数据库的大部分内容？这是不想要的，更好的数据库架构设计可以防止这种情况，也可以延迟加载。
*   您的应用程序是多线程的吗？从事件分派线程中加载数据可以带来很大的好处。

对于您的问题：

1.  每个 JDK 都附带最简单的工具：[jVisualVM](http://www.selikoff.net/2009/08/24/memory-profiling-with-jvisualvm/)您可以存储 .hprof 文件并在其他工具中分析它们。内存分析器工具或[Netbeans 分析器](http://netbeans.org/kb/docs/java/profiler-intro.html)也是不错的选择。您也可以阅读[此](http://netbeans.org/kb/articles/nb-profiler-uncoveringleaks_pt1.html)内容以获取更多信息。
2.  这取决于您要测试的内容。只是类（[JUnit](http://www.vogella.com/articles/JUnit/article.html)），GUI（[UISpec4J](http://www.uispec4j.org/tutorial)），还是您的意思是分析而不是测试？
3.  您可以通过缓存数据、使用延迟加载或如上所述使您的应用程序多线程来提高性能。你也可以[在这里](http://www.java2s.com/Questions_And_Answers/JPA/Development/Swing.htm)阅读如何实现这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-04T23:00:22.060

关于你的问题：

3\. 先测量，再切割。在大多数情况下，一些简单的更改可以让您获得 80% 的性能提升。

1\. [VisualVM](https://visualvm.github.io/download.html)是一个很棒的免费工具，它可以帮助您测量 CPU 和内存消耗。而不是相应地（并且仅）更改该代码。

2.我建议看一下[ReTest](https://www.retest.de/en/)。这是一个相对较新的工具，它实现了一种创新的功能回归测试方法，并结合了基于人工智能的猴子测试。

免责声明：我是 ReTest 背后公司的创始人之一。

# payment - Google Play 发布商付款扣除

> ID：11239607
> 
> 赞同：2
> 
> 时间：2012-06-28T07:06:07.723
> 
> 标签：payment, publisher

我想开始在 Google Play 上销售 Android 应用程序。我检查了其他论坛的帖子，我发现：

1.  谷歌收取 30% 的佣金。因此，如果我以 1 美元的价格出售我的应用程序 =>，那么我将获得 0.7 美元的收入。

2.  还注意到 Google Checkout 还对每笔交易和每月交易量收取一些费用，即 0.30 美元 + 金额的 2.9%

我想知道的是Google Checkout交易除了30%的佣金外也会被Google扣掉还是一样。

我想让我的应用程序真正便宜（依靠批量销售）

你们中的任何人都可以告诉我这是怎么回事吗

提前致谢

# symfony - 在 Symfony2 控制台命令中调试 SQL 查询

> ID：11239609
> 
> 赞同：1
> 
> 时间：2012-06-28T07:06:11.683
> 
> 标签：symfony, doctrine-orm

我部署了一个运行 Doctrine2 查询的 Symfony2 控制台命令。我现在遇到查询问题（刷新 EntityManager 时），并希望查看查询以进行调试。所以问题很简单：有没有办法调试在控制台命令中执行的查询，给出与 Symfony2 工具栏相似的结果？理想情况下，我也希望能够在控制台中看到查询（因为我只在生产服务器中遇到问题，并且禁用了从前端控制器对开发环境的访问）。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:13:09.143

您可以在命令结束后或每次刷新后使用[分析器](http://symfony.com/doc/current/cookbook/profiler/data_collector.html)自己显示查询。

# scorm - 客观进展状况

> ID：11239617
> 
> 赞同：0
> 
> 时间：2012-06-28T07:06:42.750
> 
> 标签：scorm, scorm2004

如果 Objective 有一个 readSatisfiedStatus = true 并且我们需要它的 Objective Progress Status；在这种情况下，必须检索哪个目标进度状态？本地目标进度状态还是共享全局目标进度状态？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T13:47:49.553

1.  " `readSatisifiedStatus`" 读取在 mapInfo 已将 " `writeSatisfiedStatus`" 设置为 true 的不同活动中声明的全局目标的满意状态。
2.  编辑“ `readSatisifiedStatus`”读取`satisfied status`和“ `Objective progress status`”。“ `Objective progress status`”是LMS根据“ ”确定的`objective success status`。如果“ `Objective success status`”为“ `Unknown`”，则“ `Objective progress status`”设置为“假”，如果“ `Objective success status`”设置为“通过”或“失败”，则“ `Objective progress status`”设置为“真”。“目标满足状态”具有空、真、假三种状态：它们与“目标成功状态”的三种状态（未知、通过、失败）并行。
3.  当本地目标映射到全局目标时，它们都具有相同的值。

该图解释了目标的状态

![图 2](../Images/3157a92f9186a039a6fd070878feb044.png)

# delphi - 怎么去报关？

> ID：11239619
> 
> 赞同：2
> 
> 时间：2012-06-28T07:06:43.790
> 
> 标签：delphi

Delphi XE2 对我来说是初学者，但也许一个一般的答案会帮助其他人......

在 NetBeans 中，我可以将光标悬停在变量或函数调用上，然后按 ctrl+B 转到它的声明……我在 Delphi 中如何做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T07:14:34.130

您可以通过一个简单的方法在 Delphi 中实现相同的目的`ctrl-click`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T07:15:32.630

Ctrl-单击名称

[在线帮助](http://docwiki.embarcadero.com/RADStudio/en/Default_Keyboard_Shortcuts)包含许多其他有用的东西

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:14:55.460

Ctrl-LeftClick（我必须添加更多的虚拟文本，否则 StackOverflow 不接受我的帖子）

# html - 自定义 Twitter Bootstrap 的轮播

> ID：11239623
> 
> 赞同：2
> 
> 时间：2012-06-28T07:07:00.507
> 
> 标签：html, css, twitter, twitter-bootstrap

关于在 Twitter Bootstrap 中使用 Carousel 的问题

我是 Twitter Bootstrap 的新手。现在我想在我的页面中创建一个轮播。但是我遇到了一些问题。

首先，我在 css 文件中找不到将我的轮播放在中心的位置。

其次，我不知道如何使宽度标题与轮播中的图像相同。

这是我的html代码：

```
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="rootfolder/bootstrap/docs/assets/css/bootstrap.css" rel="stylesheet">
    <link href="rootfolder/bootstrap/docs/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="rootfolder/bootstrap/docs/assets/css/docs.css" rel="stylesheet">
    <link href="rootfolder/bootstrap/docs/assets/js/google-code-prettify/prettify.css" rel="stylesheet">
    <link href="rootfolder/bootstrap/docs/assets/css/bootstrap-carousel.css" rel="stylesheet">
    <link href="rootfolder/css/temp.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">

    <script type="text/javascript">
      $(function () {  
        $('.dropdown-toggle').dropdown();  
      });
    </script>

    <!--Lightbox--> 
    <script type="text/javascript">
      $(function () {  
        $('.carousel').carousel('cycle') 
      });
    </script>
  </head>

  <body data-spy="scroll" data-target=".subnav" data-offset="50">

  <!-- Navbar
================================================== -->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button"class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
              </button>
              <a class="brand" href="http://about.me/nienyiho">Nien-Yi Ho</a>
              <div class="nav-collapse collapse">
                <ul class="nav">
              <li class="dropdown" id="accountmenu">  
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">About<b class="caret"></b></a>  
                <ul class="dropdown-menu">  
                  <li><a href="#">About Me</a></li>  
                </ul>  
              </li>
              <li class="">
                <a href="http://www.nienyiho.com/photography.html">Photography</a>
              </li>
              <li class="">
                <a href="http://www.nienyiho.com/articles.html">Articles</a>
              </li>
              <li class="">
                <a href="http://www.nienyiho.com/forsale.html">For Sale</a>
              </li>
              <li class="">
                <a href="http://nienyi.blogspot.tw">Blog</a>
              </li>
              <li class="">
                <a href="http://nienyi.blogspot.tw">Contact</a>
              </li>
              <li class="dropdown" id="accountmenu">  
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">Tutorials<b class="caret"></b></a>  
            <ul class="dropdown-menu">  
              <li><a href="#">1</a></li>  
              <li><a href="#">2</a></li>  
              <li class="divider"></li>  
              <li><a href="#">3</a></li>  
              <li><a href="#">4</a></li>  
            </ul>  
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="container">

<!-- Masthead
================================================== -->
<header class="jumbotron masthead">

  <div class="inner">
    <p>Nien-Yi Ho Photography</p>
  </div>
</header>

  <!--測試Light Box-->

  <div id="myCarousel" class="carousel slide">
  <!-- Carousel items -->
    <div class="carousel-inner_test">
      <div class="active item">
        <img src="rootfolder/images/photography/all_time_collections/1.jpg" alt="" width="600" hight="900">
        <div class="carousel-caption">
          <h4>何去何從</h4>
          <p>台北 2008</p>
        </div>
      </div>

      <div class="item">
        <img src="rootfolder/images/photography/all_time_collections/2.jpg" alt="" width="600" hight="900">
        <div class="carousel-caption">
          <h4>撼動</h4>
          <p>2008 台大合唱團冬季公演&lt;/p>
        </div>
      </div>

      <div class="item">
        <img src="rootfolder/images/photography/all_time_collections/3.jpg" alt="" width="600" hight="900">
        <div class="carousel-caption">
          <h4>Height of the sky.</h4>
          <p>Paris 2002</p>
        </div>
      </div>
    </div>
  <!-- Carousel nav -->
  <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
  <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;    </a>
  </div>

     <!-- Footer
  ================================================== -->
      <footer class="footer">
        <p>Powered by <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a> </p>
      </footer>

    </div><!-- /container -->

        <!-- Le javascript
================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js">    </script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/jquery.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/google-code-prettify/prettify.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-transition.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-alert.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-modal.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-dropdown.js" type="text/javascript"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-scrollspy.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-tab.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-tooltip.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-popover.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-button.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-collapse.js"></script>
<script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-carousel.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/bootstrap-typeahead.js"></script>
    <script type="text/javascript" src="rootfolder/bootstrap/docs/assets/js/application.js"></script>

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:58:12.940

要使旋转木马位于中间，您可以：

更改您的 CSS 类：

```
carousel-inner_test to just carousel-inner 
```

然后添加到#myCarousel 元素：

```
width: 600px;
margin: 0px auto; 
```

这也应该解决您的字幕问题！

高温高压

# c# - 如何对可取消的 DataTable 操作执行 SQL 查询

> ID：11239625
> 
> 赞同：10
> 
> 时间：2012-06-28T07:07:12.310
> 
> 标签：c#, sql, sql-server, sqldatareader, sqlcommand

我试图使标题尽可能具体。基本上我现在在后台工作线程中运行的是一些看起来像这样的代码：

```
 SqlConnection conn = new SqlConnection(connstring);
                    SqlCommand cmd = new SqlCommand(query, conn);
                    conn.Open();
                    SqlDataAdapter sda = new SqlDataAdapter(cmd);
                    sda.Fill(Results);
                    conn.Close();
                    sda.Dispose(); 
```

其中 query 是一个字符串，表示一个大的、耗时的查询，conn 是连接对象。

我现在的问题是我需要一个停止按钮。我开始意识到杀死后台工作人员将毫无价值，因为我仍然想保留取消查询后剩余的结果。另外，直到查询之后，它才能检查取消状态。

**到目前为止我想出了什么：**

我一直在尝试概念化如何有效地处理这个问题而不会对性能造成太大影响。

我的想法是使用 SqlDataReader 一次从查询片段中读取数据，以便我有一个“循环”来检查我可以通过按钮从 GUI 设置的标志。问题是据我所知，我不能使用数据表的 Load() 方法，但仍然能够取消 sql 命令。如果我错了，请告诉我，因为这会使取消稍微容易一些。

根据我的发现，我意识到如果我执行以下操作（伪代码），我可能只能取消 sqlcommand 中间查询：

```
while(reader.Read())
{
 //check flag status
 //if it is set to 'kill' fire off the kill thread

 //otherwise populate the datatable with what was read
} 
```

然而，在我看来，这将是非常无效的并且可能代价高昂。这是杀死绝对需要在数据表中的 sqlcommand 的唯一方法吗？任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T13:16:38.947

实际上有*两个*阶段取消很重要：

1.  在返回第一行之前取消初始查询执行
2.  在提供行时中止读取行的过程

根据实际 sql 语句的性质，这两个步骤中的任何一个都可能有 99% 的时间，因此应该考虑它们。例如，调用`SELECT *`具有十亿行的表基本上不会花费时间来*执行*，但会花费很长时间读取。相反，在调整不佳的表上请求超级复杂的连接，然后将其全部包装在一些聚合子句中可能需要几分钟来执行，但一旦实际返回少数行，读取这些行的时间可以忽略不计。

经过良好调整的高级数据库引擎还将一次缓存多块行以进行复杂查询，因此您将看到交替的暂停，引擎在下一批行上执行查询，然后在返回下一批时快速爆发数据结果。

**取消查询执行**

为了能够在查询执行时取消查询，您可以使用[**SqlCommand.BeginExecuteReader**](http://msdn.microsoft.com/en-us/library/0h27k1xk)的重载之一来启动查询，并调用[**SqlCommand.Cancel**](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.cancel)来中止它。或者，您可以在一个线程中同步调用 ExecuteReader()，但仍从另一个线程调用 Cancel()。我不包括代码示例，因为文档中有很多。

**中止读取操作**

这里使用一个简单的布尔标志可能是最简单的方法。请记住，使用带有对象数组的 Rows.Add() 重载来填充数据表行非常容易，即：

```
object[] buffer = new object[reader.FieldCount]
while(reader.Read()) {
    if(cancelFlag) break;
    reader.GetValues(buffer);
    dataTable.Rows.Add(buffer);
} 
```

**取消对 Read() 的阻塞调用**

如前所述，当调用 reader.Read() 导致数据库引擎执行另一批密集处理时，就会出现一种混合情况。如 MSDN 文档中所述，`Read()`在这种情况下，即使原始查询是使用`BeginExecuteReader`. 你仍然可以通过调用`Read()`一个处理所有读取但调用`Cancel()`另一个线程的线程来解决这个问题。您知道您的阅读器是否处于阻塞`Read`调用中的方法是在监视线程读取时让阅读器线程更新另一个标志：

```
...
inRead = true
while(reader.Read()) {
    inRead = false
    ...
    inRead = true
}

// Somewhere else:
private void foo_onUITimerTick(...) {
   status.Text = inRead ? "Waiting for server" : "Reading";
} 
```

**关于阅读器与适配器的性能**

DataReader 通常比使用`DataAdapter.Fill()`. DataReader 的全部意义在于非常非常快速地响应*阅读*。即使超过数百万行，每行检查一次布尔标志也不会增加可测量的时间差异。

大型数据库查询的限制因素不是本地 CPU 处理时间，而是 I/O 管道的大小（远程数据库的网络连接或本地数据库的磁盘速度）或 db 服务器自己的磁盘的组合复杂查询的速度和 CPU 处理时间。DataAdapter 和 DataReader 都将花费时间（可能是大部分时间）一次只等待几纳秒，以便为下一行提供服务。

一个方便之`DataAdapter.Fill()`处在于它具有动态生成 DataTable 列以匹配查询结果的魔力，但这并不难做到（参见[**SqlDataReader.GetSchemaTable()**](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldatareader.getschematable.aspx)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T09:14:23.577

只是一试

**我建议您在BackgroundWorker**中放置一个耗时的查询并将**命令**传递给它。这样您就可以控制命令对象。当取消命令到来时，只需说通过（到正在进行的BackgroundWorker）命令取消`command.Cancel()`

# c# - 获取 bcp 查询返回的行数？

> ID：11239631
> 
> 赞同：0
> 
> 时间：2012-06-28T07:07:31.033
> 
> 标签：c#, bcp

请帮忙！！！我正在使用 C# 应用程序执行 bcp 查询。目前，为了查找 bcp 查询返回的行数，我正在使用文件阅读器从作为 bcp 查询结果创建的文件中获取计数，有没有办法在 c# 中获取计数作为执行结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T10:06:57.333

也许，您可以查看日志以识别此信息。或者创建一个日志文件并输出这些信息。以下链接可能会有所帮助。

祝你好运！ [http://msdn.microsoft.com/en-us/library/ms190421(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms190421%28v=sql.105%29.aspx) [http://msdn.microsoft.com/en-us/library/ms162802.aspx](http://msdn.microsoft.com/en-us/library/ms162802.aspx)

# python - 使用 Tkinter 显示一系列 PIL 图像

> ID：11239635
> 
> 赞同：2
> 
> 时间：2012-06-28T07:08:02.230
> 
> 标签：python, tkinter, python-imaging-library

我正在循环中生成 PIL Image 对象。我想显示这些，因为它们是用 Tkinter 生成的。

我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T10:33:59.047

您可以创建一个`TkInter`包含 的窗口`Label`，并且每次要更改图像时，`ImageTk.PhotoImage`从旧图像创建一个新图像并将标签的`image`属性设置为新创建的`PhotoImage`。例子：

```
import Tkinter
import Image, ImageTk
root = Tkinter.Tk()
label = Tkinter.Label(root)
label.pack()
def change_image(image):
    photoimage = ImageTk.PhotoImage(image)
    label.config(image=photoimage)
root.mainloop() 
```

每当您需要更改图像时，请调用`change_image()`.

# javascript - 来自在线网站，javascript 弹出窗口在 UIWebView 中不起作用

> ID：11239638
> 
> 赞同：2
> 
> 时间：2012-06-28T07:08:06.753
> 
> 标签：javascript, iphone, uiwebview, window.open

> **可能重复：**
> [在 UIWebView 中打开弹出链接，可能吗？](https://stackoverflow.com/questions/1245224/opening-popup-links-in-uiwebview-possible)

我遇到了一个问题，
当我尝试从实时站点启动一个页面到 iphone 中的 UIWebview 时，在该页面中它正在使用 javascript (window.open) 打开一个窗口。
我无法在 UIWebview 中查看这个新的弹出窗口。
谁能帮我解决这个问题。
提前致谢。

# android - 从服务器获取数据并在android的微调器中显示

> ID：11239641
> 
> 赞同：1
> 
> 时间：2012-06-28T07:08:27.370
> 
> 标签：android, json, android-spinner

我想从特定 URL 获取国家/地区名称，然后想使用 [JSON] 在微调器中显示它们。任何人都可以帮助我..如果你能感谢我提供一些简单的例子...

# java - 从 jar 中执行类文件时出现 java.lang.ClassNotFoundException

> ID：11239642
> 
> 赞同：0
> 
> 时间：2012-06-28T07:08:35.990
> 
> 标签：java, linux, class, jar

我在 windows 中创建了一个 jar 文件并将其复制到 linux 并尝试使用以下命令执行：

```
java -jar Test.jar com.dcat2.messaging.datatransfer.Test 
```

我收到如下异常：

```
Exception in thread "main" java.lang.NoClassDefFoundError: Test
Caused by: java.lang.ClassNotFoundException: Test
    at java.net.URLClassLoader$1.run(URLClassLoader.java:217)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
Could not find the main class: Test. Program will exit. 
```

我在我拥有 jar 文件的同一位置执行此命令。

这是我的java代码：

```
package com.dcat2.messaging.datatransfer;

public class Test {
public static void main(String[] args) {
    System.out.println("Test App : " + args[0]);

}
} 
```

jar -tf 命令的输出如下：

```
jar -tf Test.jar
META-INF/
META-INF/MANIFEST.MF
com/
com/dcat2/
com/dcat2/messaging/
com/dcat2/messaging/datatransfer/
com/dcat2/messaging/datatransfer/Test.class 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:12:41.950

```
java -cp Test.jar com.dcat2.messaging.datatransfer.Test 
```

-jar 选项启动在 jar 文件清单中指示为主类的类（在您的情况下，它必须是默认包中的 Test 类）。

-cp 选项设置应用程序使用的类路径，在这种情况下，它只包含您的测试 jar。

# java - Azure 表删除和创建表失败

> ID：11239644
> 
> 赞同：4
> 
> 时间：2012-06-28T07:08:44.910
> 
> 标签：java, azure, azure-table-storage

我的问题是有时我想从 Java 中删除 Azure 表的**内容**。该表有数百万行，因此它似乎不是一个删除所有实体的好方法（因为有许多 REST API 调用）。

我尝试删除然后再次创建表，但我的代码失败了。

```
getTableClient().deleteTableIfExists("tablename");
getTableClient().createTableIfNotExists("tablename"); 
```

这是我的堆栈跟踪：

```
com.microsoft.windowsazure.services.table.client.TableServiceException: Conflict
at com.microsoft.windowsazure.services.table.client.TableServiceException.generateTableServiceException(TableServiceException.java:57)
at com.microsoft.windowsazure.services.table.client.TableOperation$2.execute(TableOperation.java:339)
at com.microsoft.windowsazure.services.table.client.TableOperation$2.execute(TableOperation.java:322)
at com.microsoft.windowsazure.services.core.storage.utils.implementation.ExecutionEngine.executeWithRetry(ExecutionEngine.java:110)
at com.microsoft.windowsazure.services.table.client.TableOperation.performInsert(TableOperation.java:374)
at com.microsoft.windowsazure.services.table.client.TableOperation.execute(TableOperation.java:551)
at com.microsoft.windowsazure.services.table.client.CloudTableClient.execute(CloudTableClient.java:638)
at com.microsoft.windowsazure.services.table.client.CloudTableClient.createTable(CloudTableClient.java:173)
at com.microsoft.windowsazure.services.table.client.CloudTableClient.createTableIfNotExists(CloudTableClient.java:251)
at com.microsoft.windowsazure.services.table.client.CloudTableClient.createTableIfNotExists(CloudTableClient.java:197) 
```

我必须在两次通话之间睡一会儿吗？我宁愿不要在这里等待太久，因为我想让这个操作尽可能短，以便其他线程可以再次在表中写入。

或者有没有安全的方法来做到这一点？

* * *

**编辑**

是的，我正在寻找 SQL 语句的等效项：`DELETE FROM tablename;`在 Azure Tables 中使用尽可能少的 REST API 调用。

我目前最好的镜头是：

```
getTableClient().deleteTableIfExists("tablename");
// TODO: solve problem with new creation!
boolean success = false;
while (!success) {
try {
  success = getTableClient().createTableIfNotExists("tablename");
} catch (StorageException e) {
  System.err.println("Log table recreation failed retrying in 5 sec");
  try {
    Thread.sleep(5000);
  } catch (InterruptedException ex) {}
} 
```

我正在寻找一个更好、更安全的解决方案！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-28T14:12:38.093

针对 Windows Azure 表的删除操作不是即时操作。发出删除请求时，存储服务将其标记为删除，客户端不再可访问。然后在后台删除该表（收集垃圾）。这可能需要几秒钟才能完成。

您会收到 409（冲突），因为当代码请求创建同名的新表时，该表仍然存在。

[请参阅位于http://msdn.microsoft.com/en-us/library/windowsazure/dd179387.aspx](http://msdn.microsoft.com/en-us/library/windowsazure/dd179387.aspx)的 MSDN 文档的备注部分（页面底部）。

除了等待（就像您所做的那样）或创建一个具有不同名称的表之外，我不知道有其他选择。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T15:50:23.253

@mcollier 关于这里的原因是正确的，但我想指出一个可能的解决方案。每当我们遇到这样的场景时，我们知道我们将有大量的表数据需要偶尔修剪，我们会通过滚动表来围绕​​它进行设计。因此，我们会定期增加表名或将日期放入其中以获取每日数据（例如logs20120628）。然后我们可以在不再需要该数据时删除整个表，而不会影响当前表或被迫等待（有时等待很长时间），直到我们可以重新创建表。

只需为您的表格命名设计一点灵活性，这对您来说不会是一个大问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:15:53.457

您不能使用一个删除 REST 调用来[删除表](http://msdn.microsoft.com/en-us/library/windowsazure/dd179387.aspx)吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T07:21:53.923

您想要 SQL`DELETE FROM table;`或`TRUNCATE TABLE table;`.

[https://stackoverflow.com/a/8920072/15721](https://stackoverflow.com/a/8920072/15721)说没有办法:(

# iphone - 使用 UIImagePickerController 的 iPhone 应用程序中的突发模式

> ID：11239650
> 
> 赞同：2
> 
> 时间：2012-06-28T07:09:04.173
> 
> 标签：iphone, uiimagepickercontroller

我想在我的 iPhone 应用程序中使用 Burst 模式，比如应用程序商店[FOTOR](http://itunes.apple.com/us/app/fotor-photobag/id503037128?mt=8)上提供的这个应用程序。这意味着当我点击相机时，我可以一键拍摄多张照片，然后我会选择一张完美的照片。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T12:40:29.017

[通过隐藏所有控件检查此链接](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html) （picker.showsCameraControls = NO;）我可以解决我的问题

# php - PHP 从具有关系数据的数组创建多维数组

> ID：11239652
> 
> 赞同：11
> 
> 时间：2012-06-28T07:09:18.040
> 
> 标签：php, json, recursion, multidimensional-array

> **可能重复：**
> [根据父 ID 值将数组从一维转换为多维](https://stackoverflow.com/questions/7767961/converting-an-array-from-one-to-multi-dimensional-based-on-parent-id-values)

我在 PHP 中工作。

我有以下具有关系数据（父子关系）的数组。

```
Array        
(        
    [5273] => Array        
        (        
            [id] => 5273        
            [name] => John Doe        
            [parent] =>         
        )        

    [6032] => Array        
        (        
            [id] => 6032        
            [name] => Sally Smith        
            [parent] => 5273        
        )        

    [6034] => Array        
        (        
            [id] => 6034        
            [name] => Mike Jones        
            [parent] => 6032        
        )        

    [6035] => Array        
        (        
            [id] => 6035        
            [name] => Jason Williams        
            [parent] => 6034        
        )        

    [6036] => Array        
        (        
            [id] => 6036        
            [name] => Sara Johnson        
            [parent] => 5273        
        )        

    [6037] => Array        
        (        
            [id] => 6037        
            [name] => Dave Wilson        
            [parent] => 5273        
        )        

    [6038] => Array        
        (        
            [id] => 6038        
            [name] => Amy Martin        
            [parent] => 6037        
        )        
) 
```

我需要它采用这种 JSON 格式：

```
{        
   "id":"5273",        
   "name":"John Doe",        
   "data":{        

   },        
   "children":[        
      {        
         "id":" Sally Smith",        
         "name":"6032",        
         "data":{        

         },        
         "children":[        
            {        
               "id":"6034",        
               "name":"Mike Jones",        
               "data":{        

               },        
               "children":[        
                  {        
                     "id":"6035",        
                     "name":"Jason Williams",        
                     "data":{        

                     },        
                     "children":[        
                        {        
                           "id":"node46",        
                           "name":"4.6",        
                           "data":{        

                           },        
                           "children":[        

                           ]        
                        }        
                     ]        
                  }        
               ]        
            },        
            {        
               "id":"6036",        
               "name":"Sara Johnson",        
               "data":{        

               },        
               "children":[        

               ]        
            },        
            {        
               "id":"6037",        
               "name":"Dave Wilson",        
               "data":{        

               },        
               "children":[        
                  {        
                     "id":"6038",        
                     "name":"Amy Martin",        
                     "data":{        

                     },        
                     "children":[        

                     ]        
                  }        
               ]        
            }        
         ]        
      }        
   ]        
} 
```

我知道我需要创建一个多维数组并通过 json_encode() 运行它。我还认为用于执行此操作的这种方法需要递归，因为现实世界的数据可能具有未知数量的级别。

我很乐意展示我的一些方法，但它们没有奏效。

谁能帮我？

我被要求分享我的工作。这是我尝试过的，但我没有得到那么接近我不知道它有多大帮助。

我做了一系列的关系。

```
foreach($array as $k => $v){
    $relationships[$v['id']] = $v['parent'];
} 
```

我认为（基于另一篇 SO 帖子）使用此关系数据创建了一个新的多维数组。如果我让它工作，我将努力添加正确的“儿童”标签等。

```
$childrenTable = array();
    $data = array();
    foreach ($relationships as $n => $p) {
      //parent was not seen before, put on root
      if (!array_key_exists($p, $childrenTable)) {
          $childrenTable[$p] = array();
          $data[$p] = &$childrenTable[$p];  
      }
      //child was not seen before
      if (!array_key_exists($n, $childrenTable)) {
          $childrenTable[$n] = array();
      }
      //root node has a parent after all, relocate
      if (array_key_exists($n, $data)) {
          unset($data[$n]);
      }
      $childrenTable[$p][$n] = &$childrenTable[$n];      
    }
    unset($childrenTable);

print_r($data); 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-28T08:14:42.673

```
<?php
header('Content-Type: application/json; charset="utf-8"');

/**
 * Helper function
 * 
 * @param array   $d   flat data, implementing a id/parent id (adjacency list) structure
 * @param mixed   $r   root id, node to return
 * @param string  $pk  parent id index
 * @param string  $k   id index
 * @param string  $c   children index
 * @return array
 */
function makeRecursive($d, $r = 0, $pk = 'parent', $k = 'id', $c = 'children') {
  $m = array();
  foreach ($d as $e) {
    isset($m[$e[$pk]]) ?: $m[$e[$pk]] = array();
    isset($m[$e[$k]]) ?: $m[$e[$k]] = array();
    $m[$e[$pk]][] = array_merge($e, array($c => &$m[$e[$k]]));
  }

  return $m[$r][0]; // remove [0] if there could be more than one root nodes
}

echo json_encode(makeRecursive(array(
  array('id' => 5273, 'parent' => 0,    'name' => 'John Doe'),  
  array('id' => 6032, 'parent' => 5273, 'name' => 'Sally Smith'),
  array('id' => 6034, 'parent' => 6032, 'name' => 'Mike Jones'),
  array('id' => 6035, 'parent' => 6034, 'name' => 'Jason Williams'),
  array('id' => 6036, 'parent' => 5273, 'name' => 'Sara Johnson'),
  array('id' => 6037, 'parent' => 5273, 'name' => 'Dave Wilson'),
  array('id' => 6038, 'parent' => 6037, 'name' => 'Amy Martin'),
))); 
```

演示：[https ://3v4l.org/s2PNC](https://3v4l.org/s2PNC)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-25T19:52:29.213

好的，这就是它的工作原理，您实际上离开始并不太远，但您实际寻找的是参考。这是一个通用程序：

由于父节点和子节点的 ID 之间存在关系，因此您首先需要根据 ID 对数据进行索引。我在这里用一个数组 ( `$rows`) 来模拟你的数据访问，如果你从数据库中读取，它会是相似的。通过此索引，您还可以添加其他属性，例如空数据：

```
// create an index on id
$index = array();
foreach($rows as $row)
{
    $row['data'] = (object) array();
    $index[$row['id']] = $row;
} 
```

所以现在所有条目都在它们的 ID 上建立索引。这是第一步。

第二步同样直截了当。因为我们现在可以根据它在 中的 ID 访问每个节点，所以`$index`我们可以将子节点分配给它们的父节点。

有一个“虚拟”节点，即 ID 为 0 的节点。它不存在于任何行中，但是，如果我们也可以向其添加子节点，我们可以将此子节点集合用作所有根的存储节点，在您的情况下，只有一个根节点。

当然，对于 ID `0`，我们不应该处理父级 - 因为它不存在。

所以让我们这样做。我们在这里使用引用，因为否则同一个节点不能既是父节点又是子节点：

```
// build the tree
foreach($index as $id => &$row)
{
    if ($id === 0) continue;
    $parent = $row['parent'];
    $index[$parent]['children'][] = &$row;
}
unset($row); 
```

因为我们使用引用，所以最后一行注意取消设置`$row`循环后存储的引用。

现在所有的孩子都被分配给了他们的父母。可能已经是这样了，但是不要忘记最后一步，应该访问输出的实际节点。

为简洁起见，只需将根节点分配给`$index`自身。如果我们记得，我们想要的唯一根节点是子数组中 ID 为的节点中的第一个`0`：

```
// obtain root node
$index = $index[0]['children'][0]; 
```

就是这样。我们现在可以立即使用它来生成 JSON：

```
// output json
header('Content-Type: application/json');
echo json_encode($index); 
```

最后一目了然整个代码：

```
<?php
/**
 * @link http://stackoverflow.com/questions/11239652/php-create-a-multidimensional-array-from-an-array-with-relational-data
 */

$rows = array(
    array('id' => 5273, 'parent' => 0,    'name' => 'John Doe'),
    array('id' => 6032, 'parent' => 5273, 'name' => 'Sally Smith'),
    array('id' => 6034, 'parent' => 6032, 'name' => 'Mike Jones'),
    array('id' => 6035, 'parent' => 6034, 'name' => 'Jason Williams'),
    array('id' => 6036, 'parent' => 5273, 'name' => 'Sara Johnson'),
    array('id' => 6037, 'parent' => 5273, 'name' => 'Dave Wilson'),
    array('id' => 6038, 'parent' => 6037, 'name' => 'Amy Martin'),
);

// create an index on id
$index = array();
foreach($rows as $row)
{
    $row['data'] = (object) [];
    $index[$row['id']] = $row;
}

// build the tree
foreach($index as $id => &$row)
{
    if ($id === 0) continue;
    $parent = $row['parent'];
    $index[$parent]['children'][] = &$row;
}
unset($row);

// obtain root node
$index = $index[0]['children'][0];

// output json
header('Content-Type: application/json');
echo json_encode($index, JSON_PRETTY_PRINT); 
```

这将创建以下 json（此处使用 PHP 5.4s' `JSON_PRETTY_PRINT`）：

```
{
    "id": 5273,
    "parent": 0,
    "name": "John Doe",
    "data": {

    },
    "children": [
        {
            "id": 6032,
            "parent": 5273,
            "name": "Sally Smith",
            "data": {

            },
            "children": [
                {
                    "id": 6034,
                    "parent": 6032,
                    "name": "Mike Jones",
                    "data": {

                    },
                    "children": [
                        {
                            "id": 6035,
                            "parent": 6034,
                            "name": "Jason Williams",
                            "data": {

                            }
                        }
                    ]
                }
            ]
        },
        {
            "id": 6036,
            "parent": 5273,
            "name": "Sara Johnson",
            "data": {

            }
        },
        {
            "id": 6037,
            "parent": 5273,
            "name": "Dave Wilson",
            "data": {

            },
            "children": [
                {
                    "id": 6038,
                    "parent": 6037,
                    "name": "Amy Martin",
                    "data": {

                    }
                }
            ]
        }
    ]
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-28T08:14:03.173

以下代码将完成这项工作..您可能需要根据需要进行一些调整。

```
$data = array(
    '5273' => array( 'id' =>5273, 'name'=> 'John Doe', 'parent'=>''),
    '6032' => array( 'id' =>6032, 'name'=> 'Sally Smith', 'parent'=>'5273'),
    '6034' => array( 'id' =>6034, 'name'=> 'Mike Jones ', 'parent'=>'6032'),
    '6035' => array( 'id' =>6035, 'name'=> 'Jason Williams', 'parent'=>'6034')
    );

$fdata = array();

function ConvertToMulti($data) {
    global $fdata;

    foreach($data as $k => $v)
    {
        if(empty($v['parent'])){
            unset($v['parent']);
        $v['data'] = array();
        $v['children'] = array();
            $fdata[] = $v;
        }
        else {
            findParentAndInsert($v, $fdata);
        }

    }
}

function findParentAndInsert($idata, &$ldata) {

    foreach ($ldata as $k=>$v) {

        if($ldata[$k]['id'] == $idata['parent']) {
            unset($idata['parent']);
        $idata['data'] = array();
        $idata['children'] = array();
            $ldata[$k]['children'][] = $idata;
            return;
        }
        else if(!empty($v['children']))
            findParentAndInsert($idata, $ldata[$k]['children']);
    }
}

print_r($data);
ConvertToMulti($data);
echo "AFTER\n";
print_r($fdata); 
```

[http://codepad.viper-7.com/Q5Buaz](http://codepad.viper-7.com/Q5Buaz)

# java - 在同一页面的javascript中检索arraylist的值

> ID：11239658
> 
> 赞同：0
> 
> 时间：2012-06-28T07:09:58.957
> 
> 标签：java, javascript, jsp, arraylist

有一个 JSP 页面，其中我有一个 ArrayList 变量。我需要脚本标记中的这些数组列表值（txt1 和 txt2）。我尝试了很多组合和谷歌搜索但没有成功。

javascript函数

```
function fun1()
{   
   // how to get arraylist values      
} 
```

JSP 页面：

```
 <body>
       <%
           ArrayList<String> al= new ArrayList<String>();
           al.add("txt1");
           al.add("txt2");

           out.println("<input type=text id=" + al.get(0) + ">");out.println("<br>");
           out.println("<input type=text id= " + al.get(1) + ">");out.println("<br>");
           out.println("<input type=button id=btn1  value=click onClick=fun1(); > ");
       %>
 </body> 
```

谢谢您的回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:14:58.917

在 javascript 中，你可以很好地使用 Scriplets

假设列表'arrayList'在java（JSP）中有[1,2,3,4]

你可以通过这个得到数组列表

```
function fun1()
{   
   var list = '<%= arrayList %>';
} 
```

如果您打印变量**列表**，它将是一个值为 '[1,2,3,4]' 的字符串

然后，您可以使用正则表达式或简单的字符串操作来拆分它

```
<body>
       <%
           ArrayList<String> al= new ArrayList<String>();
           al.add("txt1");
           al.add("txt2");

           out.println("<input type=text id=" + al.get(0) + ">");out.println("<br>");
           out.println("<input type=text id= " + al.get(1) + ">");out.println("<br>");
           out.println("<input type=button id=btn1  value=click onClick=fun1(); > ");
       %>
 </body>

<script>
 // try the script here
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:17:29.390

尝试这样的事情。

```
<script>
var myArray=new Array();
myArray[0] = '<%= al.get(0) %>';
myArray[1] = '<%= al.get(1) %>';
<script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:24:23.657

您可以创建一个脚本标签，该标签在 js 中创建一个包含所有值的数组。我不熟悉jsp，但依赖于oyur代码，它可能看起来像：

```
out.println("<script type='text/javascript'>");
out.println("var myJsArray = new Array();");
foreach(var arrayMember in al)
{
    out.println("myJsArray.push(" + arrayMember + ");");
}
out.println("</script>"); 
```

在 Js 中只需使用数组：

```
function fun1()
{
    var firstArrayMember = myJsArray[0];
    // or whatever you want to do
} 
```

如果您有特定数组成员的键，您也可以使用 assoziativ 数组。

希望你有这个想法

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T07:28:28.307

我会将 Java 代码放在其他地方，但如果您坚持将它放在您的 JSP 中，请尝试使用可读的 HTML 并仅使用`<%=...%>`以下方式输出 Java 内容：

```
<%
  ArrayList<String> list = new ArrayList<String>();
  list.add("text1");
  list.add("text2");
%>

<body>

  <form ...>
    <input type="text" id="<%=list.get(0)%>" />
    <input type="text" id="<%=list.get(1)%>" />
    <input type="button" id="button1" value="Click" onclick="functionOne();" />
  </form>

  <script type="text/javascript">
    function functionOne() {
      alert(document.getElementById("<%=list.get(0)%>").value);
    }
  </script>
</body> 
```

# azure - 如何为云服务 Web 角色激活 Azure CDN

> ID：11239659
> 
> 赞同：4
> 
> 时间：2012-06-28T07:10:13.137
> 
> 标签：azure, web, cdn, role

我在 上创建了一个 CDN 端点`[id].vo.msecnd.net`，并部署了一个生产 mvc4 云服务 Web 角色。

它在根级`/cdn`文件夹中有图像，但我无法通过 cdn 加载这些图像。我可以通过直接 URL 访问它们。例如，这有效：

```
[site].cloudapp.net/cdn/eb303.gif 
```

但不是：

```
[id].vo.msecnd.net/eb303.gif 
```

在 Web 角色所在的托管服务下启用并设置了 cdn 端点。我一直在阅读的文档表明不需要任何其他内容。我正在使用 bizspark 许可证，但据我所知，它应该包括 CDN 端点。

我缺少一个步骤吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T22:58:38.390

有时，您的 CDN 端点可能需要长达 1 小时才能准备好为您的内容提供服务。它适用于任何类型的部署登台或生产。

你还有问题吗？如果您仍然有问题，您可能需要联系 Azure 支持，因为如果您启用了 CDN，您应该可以继续使用。

# eclipse - 如何在 VHDL 和 Verilog 中为 FPGA 设计设置 Eclipse）？

> ID：11239675
> 
> 赞同：8
> 
> 时间：2012-06-28T07:12:02.163
> 
> 标签：eclipse, eclipse-plugin, vhdl, verilog, fpga

我是 Eclipse 的新手，我已经将它用于软件开发和 Nios 处理器的 Altra 环境中。但是现在，我有一个非常大的项目需要管理，我想使用 Eclipse 来拥有系统中的所有文件，以便更轻松地管理和更新。

该项目具有用于各种 IP 的多个目录，并具有用于 ASCI、Xilinx 和 Altera FPGA 的多个目标。在不久的将来，该项目将同时支持 NIOS、Microblaze 和 ARM 处理器，如果可能的话，我真的很想将整个项目保存在一个 Eclipse 项目文件中。我尝试了几种不同的选择，但似乎没有任何工作正常。

我正在寻找一些免费软件，而不是像 Sigasi 这样的商业程序。

提前致谢， 法哈德

* * *

这是一个更新，让其他人知道我的进步。

好吧，我终于设法让它工作了。

*   我在我的 PC 上安装了最新版本的[Eclipse](http://wiki.eclipse.org/Main_Page)
*   安装了 Java 版本 6（我唯一可以开始工作的版本）
*   将最新版本的[VEditor](http://sourceforge.net/apps/mediawiki/veditor)安装到 Eclipse 中。
*   在PC上挂载Linux项目目录作为我的P盘
*   在 Eclipse 中创建了一个新项目并将其链接到 P 盘上的项目。

花了一些时间来解决这个问题，但它现在可以完美运行。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-01T18:19:05.407

这些是我所知道的：

*   Veditor（测试版）- [http://sourceforge.net/projects/veditor/](http://sourceforge.net/projects/veditor/)
*   sigasi 免费 - [http://www.sigasi.com/sigasi-starter-edition](http://www.sigasi.com/sigasi-starter-edition)
*   标志（不再开发） - [http://sourceforge.net/projects/signs/](http://sourceforge.net/projects/signs/)
*   zamiaCAD（更换标志）- [http://zamiacad.sourceforge.net/web/](http://zamiacad.sourceforge.net/web/)

# c# - 从Web应用程序调用时，控制台应用程序的主程序在c#中被调用两次

> ID：11239678
> 
> 赞同：0
> 
> 时间：2012-06-28T07:12:11.743
> 
> 标签：c#, console

我有控制台应用程序和 Web 应用程序。我正在像这样从 Web 应用程序调用控制台的主程序

### 网络

```
 public void RunconsoleApplication(string CanpaignId) {
        // Get the file path of your Application (exe)
        string filePath = @"E:/ConsoleApplication1/ConsoleApplication1/bin/Debug/ConsoleApplication1.exe";

        System.Diagnostics.ProcessStartInfo info = new System.Diagnostics.ProcessStartInfo(filePath, CanpaignId);

        System.Diagnostics.Process p = System.Diagnostics.Process.Start(info);
        p.Start();
    } 
```

### 安慰

```
Class program {
    static void Main(string[] args) {
        Console.WriteLine("start without arg");
        if (args.Length > 0) {  
            Program p = new Program();
            // This is another function in the class, not copied here
            p.CreateCanpaign(Convert.ToInt64(args[0]));                

            Console.WriteLine("stop");             
        } 
    }
} 
```

现在有人可以解释为什么这个函数'CreateCanpaign（a）'被调用了两次。我是控制台应用程序的新手。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:13:21.010

由于这两行，您将启动它两次

```
System.Diagnostics.Process p = System.Diagnostics.Process.Start(info);
p.Start(); 
```

消除`p.Start();`

# wpf - 首次设置源时，绑定的 WPF Rectangle.Fill 不更新

> ID：11239680
> 
> 赞同：2
> 
> 时间：2012-06-28T07:12:15.643
> 
> 标签：wpf, binding, user-controls, rectangles

我有一个非常原始的颜色选择器工具（在 WPF 中）。这是它的外观：

![在此处输入图像描述](../Images/92a7a141805bcf734d72537a7b037463.png)

如您所见，您可以在这些非常难看的滑块上通过 HSV 或 RGB 设置颜色 :) 并且`Rectangle`更新了 Fill 属性。

由于未讨论的原因，此 ColorPicker 是一个 UserControl。

它有大量的 DependencyProperties（主要用于颜色操作）：Hue、Sat、Value、R、G、B；以及这些值的混合颜色：RGBColor 和 HSVColor。

这是罪魁祸首RGBColor：

```
public Color RGBColor
    {
        get { return (Color)GetValue(RGBColorProperty); }
        set { SetValue(RGBColorProperty, value); }
    }

    // Using a DependencyProperty as the backing store for RGBColor.  This enables animation, styling, binding, etc...
    public static readonly DependencyProperty RGBColorProperty =
        DependencyProperty.Register("RGBColor", typeof(Color), typeof(SimpleColorPicker), new UIPropertyMetadata(Colors.Transparent, (d, e) =>
        {
            var colorpicker = d as SimpleColorPicker;
            if (e.NewValue != null && colorpicker != null)
            {

                var c = (Color)e.NewValue;

                if (c.R != colorpicker.R) colorpicker.R = c.R;
                if (c.G != colorpicker.G) colorpicker.G = c.G;
                if (c.B != colorpicker.B) colorpicker.B = c.B;

                colorpicker.RGBBrush = new SolidColorBrush(colorpicker.RGBColor);

                if (colorpicker._fromRGB)
                {
                    var hsv = HSVColor.FromColor(c);
                    if (colorpicker.HSVColor == null || !colorpicker.HSVColor.Equals(hsv))
                        colorpicker.HSVColor = hsv;
                }

                colorpicker.forceDisplayRefresh();
            }

        })); 
```

在 XAML 部分中，我使用以下内容将 RGBColor 设置为 Rectangle：

```
<Rectangle Height="100" x:Name="DisplayRectangle">
    <Rectangle.Fill>
        <SolidColorBrush Color="{Binding RGBColor, Mode=OneWay}" />
    </Rectangle.Fill>
</Rectangle> 
```

（此时的 DataContext 是控件本身，因为我不想在所有绑定上使用 FindAncestor，所以在 ColorPicker 构造函数中，我的`LayoutRoot.DataContext = this;`LayoutRoot 是控件的根 Grid。）

我正在尝试在 View 中使用此控件。我有一个用于 View 的 VM，它实现`INotifyPropertyChanged`并具有一个 notify-property（是这样调用的吗？）

```
public Color Color
{
    get { return _color; }
    set
    {
        _color = value;
        RaisePropertyChanged(() => Color);
    }
} 
```

我想用 Colorpicker 编辑这个属性（DataContext 是 VM）：

```
<base:SimpleColorPicker RGBColor="{Binding Color}"/> 
```

编辑本身有效。`Color`当我调整颜色选择器上的滑块时，属性会在 VM 中设置。

但是，当我加载已经设置了颜色的 VM 时，它`Rectangle`不会更新。滑块可以，并且所有设置都`DependencyProperties`设置为正确的值，但矩形的填充不会改变。（它保持`Transparent`默认值`RGBColor DependencyProperty`）。（再次，加载后，如果我调整滑块，矩形再次更新......）

**已经失败的事情：**

*   我尝试使用 Brush 并直接绑定 Fill 属性（而不是 Fill.Color）
*   我试过直接更新 Rectangle.Fill 上的绑定

还有什么可以尝试使这项工作发挥作用？

# installation - 如何修改 Inno Setup 安装程序的嵌入式清单？

> ID：11239684
> 
> 赞同：4
> 
> 时间：2012-06-28T07:12:35.597
> 
> 标签：installation, manifest, inno-setup, administrator

我有一个 Inno Setup 安装程序，它在我的机器（Win 7 32 位）上运行良好，但在测试机器（也是 Win 7 32 位）上根本无法运行。经过一番调查，我发现原因是当 UAC 设置为任何不是***Never notify me***时出现问题。但是，如果我右键单击安装程序，然后选择***Run as Administrator***，安装程序可以正常工作。

然后我尝试修改安装程序的嵌入式清单（方法如下所述），以便它始终以管理员身份运行，但这并不像我希望的那样工作。我已经使用命令获得了原始清单

```
mt.exe -inputresource:installer.exe -out:installer.exe.manifest 
```

然后，我使用文本编辑器打开提取的清单并更改了行

```
<requestedExecutionLevel level="asInvoker" uiAccess="false"></requestedExecutionLevel> 
```

至

```
<requestedExecutionLevel level="requireAdministrator" uiAccess="false"></requestedExecutionLevel> 
```

然后，我尝试通过运行命令来应用生成的清单

```
mt.exe -manifest installer.exe.manifest -updateresource:installer.exe;#1 
```

但是清单工具给了我错误

> mt.exe：清单创作错误 c1010001：属性“级别”的值在不同的清单片段中不相等。

我也尝试将命令更改为

```
mt.exe -manifest installer.exe.manifest -outputresource:installer.exe;#1 
```

但这导致整个安装程序仅被资源覆盖（即实际安装程序丢失）。

我还尝试使用 Visual Studio（资源编辑器）打开安装程序可执行文件，修改清单并保存文件，但这与我使用的第二个*mt.exe*命令给出了相同的结果。

有谁知道我做错了什么，或者我错过了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T11:39:36.823

您不应修改生成的 Inno 设置的清单，因为 Inno 会执行[`PrivilegesRequired`](http://www.jrsoftware.org/ishelp/topic_setup_privilegesrequired.htm)指令所需的任何提升。

如果您确实修改了清单，或者手动执行“以管理员身份运行”，那么它将破坏所有`...AsOriginalUser`功能，最重要的是[`postinstall`flag](http://www.jrsoftware.org/ishelp/topic_runsection.htm#postinstall)。

`mt.exe`类似的资源编辑器也很可能从设置文件中删除设置数据，因为它附加到二进制文件的末尾。

# javascript - 无法从 XSL 运行 JavaScript 函数

> ID：11239685
> 
> 赞同：0
> 
> 时间：2012-06-28T07:12:38.717
> 
> 标签：javascript, xslt

我在 XSL 文件中有一个表单元素。我想在同一个 XSL 文件中有一个 JavaScript 函数，以便在选中复选框时启用提交按钮。

这是表格 -

```
<form action="NewUserNavigation" method="post" name="NewUserNavigationForm">
<input name="eventName" type="hidden" value="NewUserNavigationEvent"/>
<div class="sansIcon">
    <input type="checkbox" name="chk" onClick="EnableSubmit()"><xsl:apply-templates   select="content[@name='chkbox']" mode="impl_expandContent"/></input>
                </div>
<div class="buttonBarPage">
<input name="Submit" class="primary" type="submit" value="Continue" disabled="true"/>
</div>
</form> 
```

这是它正在读取的 XML 内容 -

```
<content name = "chkbox">
    Yes, I understand and agree to the T&C.
</content> 
```

我遇到了 javascript 的问题，它给出了错误。我已经发出警报以检查是否在单击复选框时调用了该函数。

这是我正在使用的代码 -

```
<script type="text/javascript">
function EnableSubmit()
{
  alert("test");
  if(document.NewUserNavigationForm.chk.checked==true)
  {
    document.NewUserNavigationForm.Submit.disabled=false;
  }
  if(document.NewUserNavigationForm.chk.checked==false)
  {
    document.NewUserNavigationForm.Submit.enabled=false;
  }
}
</script> 
```

我得到这个错误....

```
org.xml.sax.SAXParseException: illegal top-level element 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:14:44.297

结束标签应该是`</script>`而不是`<script>`。

顺便说一句，您知道使用 Saxon-CE 无需任何 Javascript 就可以做到这一点吗？然后，您可以在样式表中编写模板规则来响应用户输入（例如按钮单击）并以任意方式修改 HTML DOM，而无需使用 Javascript DOM API。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:59:09.980

javascript 函数需要包装在 CDATA 标记中，因为它不是有效的 XML。您在 CDATA 中包装的任何内容都将完全按原样输出到您正在编写的文件（即 html）中。所以：

```
<script type="text/javascript"><![CDATA[
function EnableSubmit()
{
  alert("test");
  if(document.NewUserNavigationForm.chk.checked==true)
  {
      document.NewUserNavigationForm.Submit.disabled=false;
    }
    if(document.NewUserNavigationForm.chk.checked==false)
    {
      document.NewUserNavigationForm.Submit.enabled=false;
    }
  }
]]><script> 
```

# c#-4.0 - 在 C# 中将对象参数传递给 facebook 打开图形自定义操作

> ID：11239687
> 
> 赞同：0
> 
> 时间：2012-06-28T07:12:48.403
> 
> 标签：c#-4.0, facebook-graph-api, facebook-c#-sdk, facebook-opengraph, custom-action

我正在使用 facebook open graph api 发布自定义操作，并且我已使用 facebook c# sdk 在我的时间轴上成功发布了该操作。

这是我的操作代码

```
curl -F 'access_token=AccessToken' \
     -F 'job=http://samples.ogp.me/476622222351784' \
        'https://graph.facebook.com/me/sajidap:apply' 
```

这是我的目标代码

```
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# sajidap: http://ogp.me/ns/fb/sajidap#">
  <meta property="fb:app_id" content="APPID" /> 
  <meta property="og:type"   content="sajidap:job" /> 
  <meta property="og:url"    content="Put your own URL to the object here" /> 
  <meta property="og:title"  content="Sample Job" /> 
  <meta property="og:image"  content="https://s-static.ak.fbcdn.net/images/devsite/attachment_blank.png" /> 
```

我以这种方式发帖。

```
 var fb = new FacebookClient(AccessToken);
 var parameters = new Dictionary<string, object>
            {
              { "og:type", "sajidap:job"},
              { "og:url" , "http://www.google.com"},
              { "og:image", "http://www.theappdynamics.com/images/babafooka.jpg" },
              { "og:title" , "Arslan Job"},
              { "job" , "http://samples.ogp.me/476622222351784"}
            };

var Response = fb.post(me/NameSpace:ActionName,Parameters); 
```

它在我的时间线上发布了一个活动，但它显示了一个像这个 url 的对象的示例活动`http://samples.ogp.me/476622222351784`

如何通过从 C# 动态传递参数来提供我自己的 url、图像和该对象的标题。请指导我这件事

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-29T10:09:36.353

它很简单，我已经做到了。你有一个像这样的页面，其中有你的 Open graphs 标签。意味着它应该是您网络上的一些内容页面。

让我更清楚一点.. 就像我有一个餐厅，我正在卖一些鸡肉汉堡，我想做一个动作`"Buy"`意味着在 facebook 上应该像这个 Arslan 在链接上购买鸡肉拉瓦。

1.  In 这`Arslan`是执行该操作的用户
2.  行动是`buy`
3.  对象是小鸡
4.  URL 是我的下方页面，其中包含所有打开的图形标签以显示在提要中。

这是 ASPX 页面

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# myapp: http://ogp.me/ns/fb/myapp#"> // Your app name will be replaced with this "myapp"
  <title>Buy Falafeel</title>
  <meta property="fb:app_id" content="4735" />  // Your APP ID
  <meta property="og:type"   content="myapp:falafeel" /> // YourAppName:Action Type 
  <meta property="og:url"    content="http://demo.anything.net/buy.aspx" /> 
  <meta property="og:title"  content="Chicken Lawa Falafeel" /> 
  <meta property="og:image"  content="http://www.theappdynamics.com/images/babafooka.jpg" /> 
</head>
<body>
    <form id="form1" runat="server">
    <div>
     This is Falafeel Page. Demo Demo......
    </div>
    </form>
</body>
</html> 
```

在这里，我正在从后面的代码中执行按钮单击操作。

```
void PostAction(string URL, string Token, string Action, string objects)
    {
        var fb = new FacebookClient(Token);

        var parameters = new Dictionary<string, object>
            {
              { objects ,  URL}
            };

        try
        {
            dynamic result = fb.Post("me/myapp:" + Action, parameters); // again here should be your app name instead of "myapp"
        }
        catch { }
    }

 PostAction("URL", "AccessToken", "Action", "Object"); // Here is The Above Method Call
// Here is URL That URL Who Have Open Graph Tags Like we have created one page with tags named buy.aspx and it should be full link like "http://xyz.com/buy.aspx"
//Access Token Of User On Behalf we are going to create This Action
//Action The One Created On facebook App Setting Of OpenGraph Tag Like "Buy"
//Object That We Also Created On Facebook App Setting For OpenGraph Like "ChickeLawa" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:42:43.460

只需发布一个将您的对象设置为对象的 OG URL 的操作，如下所述：[https ://developers.facebook.com/docs/opengraph/actions/#create](https://developers.facebook.com/docs/opengraph/actions/#create)

其他任何内容（图片、标题等）都将从 URL 的 og:tags 中获取。

# mysql - MySQL：IP 地址 JOIN + ORDER DESC 会影响性能

> ID：11239694
> 
> 赞同：0
> 
> 时间：2012-06-28T07:13:31.790
> 
> 标签：mysql

我的目标很简单：通过来自不同日志的 IP 地址加入；在客户端，我试图确定 JavaScript 错误是从哪里产生的（例如人类或机器人），我从 if aisset($row[date_xy]) 通过 PHP 推断出来。

这个查询在没有 ORDER BY 的情况下也能正常工作，一旦我把它加入到混合中，MySQL 就会跳到 30% 的 CPU 利用率并在我终止进程之前停留几秒钟。我当然是在本地测试这个。我想使用*ORDER BY je.date DESC*因为我对最旧的可能条目不感兴趣。

我已经尝试过子选择，我已经有一段时间没有做过比基本 JOIN 更精彩的事情了。重要的是我保持语法 SOL 中性。

```
SELECT 
je.date AS date_js, 
lb.date AS date_lb, 
lh.date AS date_lh 

FROM log_javascript_errors AS je 

LEFT JOIN log_bots AS lb ON je.ip = lb.ip 

LEFT JOIN log_humans AS lh ON je.ip = lh.ip 

ORDER BY je.date DESC 

LIMIT 20, 20 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:19:22.243

您必须为 log_javascript_errors.date 添加索引以加快排序。以及 log_bots.ip、log_humans.ip、log_javascript_errors.ip 的索引，以加快连接速度。

更新

```
CREATE INDEX je_date ON log_javascript_errors (date);
CREATE INDEX je_ip ON log_javascript_errors (ip);
CREATE INDEX lb_ip ON log_bots (ip);
CREATE INDEX lh_ip ON log_humans (ip); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T08:17:18.823

添加适当的索引后，如果您的查询仍然很慢，您可以尝试以下变体：

```
SELECT 
je.date AS date_js, 
lb.date AS date_lb, 
lh.date AS date_lh 

FROM 
    ( SELECT ip, date 
      FROM log_javascript_errors 
      ORDER BY date DESC
      LIMIT 40
    ) AS je 

LEFT JOIN log_bots AS lb ON je.ip = lb.ip 

LEFT JOIN log_humans AS lh ON je.ip = lh.ip 

ORDER BY je.date DESC 

LIMIT 20, 20 ; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-30T09:55:46.807

我走了一条不同的路线，因为我必须承认，当我最初创建表格时，表格的设计并没有考虑到这种可能性；我们都遇到过这种情况。我确实学习了 SQL 供应商中立的 CASE 语法，但是虽然发现在一些修改后我什至不需要使用它，所以我对收到的两个回复进行了投票，以感谢扩大我对 SQL 的理解。对于那些发现这个问题与他们的目标直接相关的人，我最终添加了一个“类型”列，我使用服务器脚本语言来填写其余部分，以便生成我需要在日志中看到的内容。我想如果我从头开始重新设计它，我会为所有“类型”（人类、搜索引擎和拒绝）创建一个主会话表，然后可能尝试双 LEFT JOIN 虽然我'

# jquery - PhoneGap 还是 JqueryMobile？

> ID：11239704
> 
> 赞同：10
> 
> 时间：2012-06-28T07:14:02.647
> 
> 标签：jquery, jquery-mobile, cordova

我已经在 PhoneGap (Cordova) 上构建和应用程序，并且在此过程中遇到了很多困难。因此，我认为我的下一个构建将使用 jQuery Mobile。

我想知道是否有人对两者都有经验并有推荐或偏好？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-06-28T13:44:57.883

JQM 只是帮助您构建针对移动设备优化的网页/应用程序，但它仍然只是一个网页。在 iOS 上，您可以将 Web 应用程序固定到主屏幕，当单击/点击时会打开一个单独的浏览器实例，并提供一些元标记，可以使您的 Web 应用程序看起来更像原生应用程序（例如，您可以隐藏屏幕顶部的状态栏并提供启动画面）。然而，在 android 上（至少在 ICS 上，不知道 Jelly bean），虽然您可以将 Web 应用程序固定到您的主屏幕，但它只是作为一个快捷方式并将其作为浏览器中的另一个选项卡打开。我不确定您对 Windows 手机上的网络应用有哪些选择。

Phonegap 只是为您的 Web 应用程序构建了一个带有 webview（浏览器实例）的原生应用程序包装器，并让您可以访问设备 API。

基本上这两者并不相互排斥，您可以使用 JQM 构建您的 Web 应用程序并仍然将其包装在 phonegap 中（您可能仍然会遇到之前遇到的任何困难），或者您可以跳过 phonegap 部分，但是您的 web应用程序仍然只是一个 Web 应用程序，即一个网页（在 android 上比在 iOS 上更明显）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:16:47.110

我会从[http://appcelerator.com推荐 Titanium](http://appcelerator.com)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:18:19.680

Jquerymobile 不支持的一件事是本机设备 api。我已经完成了两者的开发，但至少使用 android，为 javascript 函数调用创建接口很容易。Jquery mobile ui 在许多不同的 android 手机上运行非常流畅，甚至在低端手机上也是如此。

目前我只使用jquery mobile，不同之处在于它仅用于ui，而不是用于设备功能的API。另外，我通过钛做 jquery 移动开发， [http://www.appcelerator.com/platform](http://www.appcelerator.com/platform)

# android - 如何为android中的单选按钮提供编号？

> ID：11239706
> 
> 赞同：3
> 
> 时间：2012-06-28T07:14:06.070
> 
> 标签：android, android-view

我有一个 RadioGroup，其中提供了四个不同的单选按钮，其文本为：

```
<RadioGroup
                android:id="@+id/radio_group"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginLeft="2dp"
                android:layout_marginRight="1dp"
                android:background="@color/textbackgroundcolor"
                android:paddingBottom="10dp"
                android:paddingTop="10dp"
                android:soundEffectsEnabled="true" >

                <RadioButton
                    android:id="@+id/radio_one"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:checked="false"
                    android:textColor="@color/black"
                    android:textStyle="bold" 
                    android:textSize="12dp"/>

                <RadioButton
                    android:id="@+id/radio_two"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:checked="false"
                    android:textColor="@color/black"
                    android:textStyle="bold" 
                    android:textSize="12dp"/>

                <RadioButton
                    android:id="@+id/radio_three"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:checked="false"
                    android:textColor="@color/black"
                    android:textStyle="bold" 
                    android:textSize="12dp"/>

                <RadioButton
                    android:id="@+id/radio_four"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:checked="false"
                    android:textColor="@color/black"
                    android:textStyle="bold" 
                    android:textSize="12dp"/>
            </RadioGroup> 
```

截至目前，它显示带有文本的单选按钮。但我想在每个单选按钮之前显示一些标签/数字。

如何为单选按钮提供 1、2、3、4 等数字？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:28:21.580

有不同的方法可以做到这一点。但是想到的最简单的方法就是`TextView`在每个之前添加一个并将它`LinearLayout`与每个放在一起`RadioButten`

```
<RadioGroup
    android:id="@+id/radio_group"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginLeft="2dp"
    android:layout_marginRight="1dp"
    android:background="@color/textbackgroundcolor"
    android:paddingBottom="10dp"
    android:paddingTop="10dp"
    android:soundEffectsEnabled="true" >

           <LinearLayout >
                <TextView
                     android:layout_width="fill_parent"
                     android:minLines="2"
                     android:gravity="center"
                     android:textSize="15dp"
                     android:text="1"
                     android:layout_height="wrap_content"/>

                <RadioButton
                    android:id="@+id/radio_one"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:textColor="@color/black"
                    android:layout_marginLeft="5dp"
                    android:checked="false"
                    android:textStyle="bold" 
                    android:textSize="12dp"/>
           </LinearLayout>
</RadioGroup> 
```

这是一般的想法

# c - 为什么使用free()释放内存时指针指向的内容没有改变？

> ID：11239707
> 
> 赞同：3
> 
> 时间：2012-06-28T07:14:07.950
> 
> 标签：c, pointers, memory-management, malloc, free

在动态内存分配方面，我是新手。当我们使用内存释放内存时`void free(void *ptr)`，内存被释放但指针的内容没有被删除。这是为什么？最近的 C 编译器有什么不同吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-28T07:24:54.060

计算机不会像这样“删除”内存，它们只是停止使用对该内存单元的所有引用，并忘记那里存储了任何有价值的东西。例如：

```
int* func (void)
{
  int x = 5;
  return &x;
}

printf("%d", *func()); // undefined behavior 
```

一旦函数完成，程序停止保留存储的内存位置，`x`程序的任何其他部分（或者可能是另一个程序）都可以自由使用它。所以上面的代码可以打印 5，或者打印垃圾，甚至可能使程序崩溃：引用不再有效的内存单元的内容是未定义的行为。

动态内存也不例外，并且以相同的方式工作。一旦你调用`free()`了 ，那部分内存的内容就可以被任何人使用。

另外，请参阅[这个问题](https://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T07:17:46.483

问题是在内存被释放后访问内存是未定义的行为。不仅内存内容未定义，访问它们可能会导致任何事情。至少有些编译器在构建代码的调试版本时，实际上确实会更改内存的内容以帮助调试，但在发布版本中通常没有必要这样做，因此内存保持原样，但无论如何，这不是您可以安全依赖的东西，不要访问已释放的内存，这是不安全的！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:16:29.497

在 C 中，参数是按值传递的。所以`free`不能改变`ptr`.
它所做的任何更改只会更改`free`函数中的值，并且不会影响调用者的变量。

此外，更改它不会有太大帮助。可以有多个指针指向同一块内存，释放时它们都应该被重置。该语言无法跟踪所有这些，因此它让程序员来处理指针。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T07:18:22.927

这是很正常的，因为释放后清除内存位置是一种开销，通常没有必要。如果您有安全问题，可以将 free 调用包装在一个函数中，该函数在释放之前清除该区域。您还会注意到，这需要知道分配大小，这是另一个开销。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-11-20T04:30:58.973

实际上，C 编程语言规定，在对象的生命周期之后，即使**指向它的任何指针的值都变得不确定**，即您甚至不能依赖指针来保留原始值。

这是因为一个好的编译器会尝试积极地将所有变量存储到 CPU 寄存器而不是内存中。所以它看到程序流程调用了一个以参数命名`free`的函数`ptr`后，它可以将free的寄存器标记`ptr`为其他用途，直到它被再次分配，例如`ptr = malloc(42);`。

在这两者之间，可以看到更改值，或将其与其原始值进行比较，或其他类似行为。[这是一个可能发生的例子](https://stackoverflow.com/questions/26073842/is-the-compiler-allowed-to-recycle-freed-pointer-variables)。

# java - 如何在 Oracle 数据库中使用 JDBC 中的日期和时间

> ID：11239714
> 
> 赞同：1
> 
> 时间：2012-06-28T07:14:28.800
> 
> 标签：java, sql, oracle, date

我有一个 Oracle 数据库和一个通过 OJDBC 访问它的 Java 程序。sql DATE 数据类型包含完整的日期和时间信息。Java SQL 库有 2 种不同的日期和时间数据类型。

绕过这整个愚蠢的混乱最简单的方法是什么？是否可以从 SQL DATE 类型写入和读取时间和日期信息？我可以将时间戳写入数据库并将其保存为 DATE 类型吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:23:25.007

对于 9.2 版，使用 resultSet.getTimestamp，对于 11 版 JDBC 驱动程序，DATE 应该自动映射到 Timestamp java 类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:20:37.783

我们在 Oracle 中使用带有 Joda DateTime 和 Hibernate 的 Timestamp-Database 类型。工作正常。这也适用于经典的 jdbc。[在这里](https://stackoverflow.com/questions/7017268/getting-datetime-from-resultset-in-jdbctemplate)检查

# windows - 如何从命令行使一个 Active Directory 组成为另一个组的成员？

> ID：11239723
> 
> 赞同：0
> 
> 时间：2012-06-28T07:15:00.120
> 
> 标签：windows, active-directory, active-directory-group

在 Active Directory 中，我想从命令行将一个组添加到另一个组。

例如，如果我有一个组“A”和一个组“B”，我想将 B 添加到 A，即使 B 成为 A 的成员。如何从命令行执行此操作？

# clojure - clojure.xml 无法在 SAXparser 上找到方法

> ID：11239725
> 
> 赞同：4
> 
> 时间：2012-06-28T07:15:11.790
> 
> 标签：clojure

我正在使用 clojure 1.3.0 和 clojure.xml，但是，尝试解析 XML 会产生：

IllegalArgumentException 未找到匹配方法：解析类 com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl clojure.lang.Reflector.invokeMatchingMethod (Reflector.java:79)

（这是 java 1.6） - sax 解析器和 clojure 1.3 之间的版本不匹配？

编辑：我也试过 Clojure 1.4，同样的问题。一定是JDK问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T12:01:41.730

这是我对 clojure.xml 的误解——当你向它传递一个字符串时，它正在寻找加载 XML 内容的 URI。如果您已经将 XML 作为字符串，请将其转换为流并将其传递给 clojure.xml，例如：

```
(let [stream (java.io.ByteArrayInputStream. (.getBytes (.trim xml)))] 
```

# c# - 如何使用 C# API 定义乐趣

> ID：11239727
> 
> 赞同：2
> 
> 时间：2012-06-28T07:15:22.247
> 
> 标签：c#, api, z3

使用带有文本格式的 Z3，我可以使用 define-fun 来定义函数以供以后重用。例如：

```
 （define-fun test((a Int) (b Int)) Int
      （ite  (and (> a 2) (<= b 3))
             1
             (ite （and (<= a 2)(> b 10))
                  2
                  a
             )
       )
  ） 
```

所以我想知道如何使用 C# api 定义乐趣，因为 Context.MkFuncDecl 仅用于生成未解释的函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T21:19:00.027

`define-fun`只是在 SMT 2.0 中定义宏的一种机制。它不会为 SMT 求解器增加任何功能。我们确实在 API 中支持它，因为用户可以创建一个函数，以自己喜欢的语言实现宏。也就是说，我们可以创建一个名为`test`给定的 C# 函数`a`并`b`返回您问题中的 ite 表达式。这是一个关于如何在 Python 中执行此操作的示例：

[http://rise4fun.com/Z3Py/to1](http://rise4fun.com/Z3Py/to1)

这是另一个定义`min`接收任意数量参数的函数的示例：

[http://rise4fun.com/Z3Py/Vvp](http://rise4fun.com/Z3Py/Vvp)

# sql-server - SQL Server Reporting Services 2005，预览不同于部署的报告

> ID：11239730
> 
> 赞同：0
> 
> 时间：2012-06-28T07:15:37.543
> 
> 标签：sql-server, reporting-services, reportingservices-2005, preview

我在 SSRS 2005 中创建了一个子报表，上面有一个条形图和一个文本框，就像一个简单的进度条。我将在报告中使用它来显示百分比。

在报告预览中，它工作正常，进度条如下所示：

[预习](http://tinypic.com/r/6oep9y/6)

但是当我在报表服务器上部署报表时，我得到了这个：已 [部署的报表](http://tinypic.com/r/dol7pi/6)

这对我来说并不是什么新鲜事，有时预览中的输出与服务器不同，但不幸的是我找不到这个问题的解决方案。

提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:10:31.513

我认为您看到的是浏览器问题。

SSRS 输出的默认 css 非常偏向 IE。（它也不能很好地与 IE9 配合使用）这会在 firefox 和 safari 等浏览器上引起很多问题。

如果您真的必须让它以这种方式显示，请记住 SSRS 确实允许您创建自定义渲染扩展（虽然修复一个小错误会花费太多精力）。

# wpf - 在 DataTemplate 中访问我的 Window 的 DataContext

> ID：11239731
> 
> 赞同：1
> 
> 时间：2012-06-28T07:15:37.657
> 
> 标签：wpf, xaml, mvvm, datacontext

我正在开发 WPF 应用程序，并且正在使用 MVVM 模式。我使用 MVVMLight 来帮助我处理一些事件。我需要转发“Click”事件，以便我也可以传递参数，以便我可以确定发送事件的项目。如果我使用“命令”，我不能确定它是发送事件的选定项目 - 因为不需要选择该项目来右键单击它。

这是我用于显示“订单行”列表的代码。订单行有两种类型，一种是数据类型；“AccessoryOrderLine” - 我想添加一个上下文菜单。

我的问题是我无法访问 Window 的 DataContext。我已将 Window 中的根节点命名为“root”，并且正在尝试访问根的 DataContext，但这失败并出现以下错误：

> System.Windows.Data 错误：4：找不到与引用“ElementName = root”绑定的源。BindingExpression:Path=DataContext.PackAccessory; 数据项=空；目标元素是“EventToCommand”（HashCode=5903270）；目标属性是“命令”（类型“ICommand”）

```
<ListBox HorizontalContentAlignment="Stretch" Margin="10,0,10,10" DockPanel.Dock="Bottom" Grid.Row="1" ItemsSource="{Binding OrderLines, NotifyOnSourceUpdated=True, NotifyOnTargetUpdated=True, UpdateSourceTrigger=PropertyChanged}">
    <ListBox.Resources>
        <DataTemplate DataType="{x:Type m:UnitOrderLine}">
             <v:OrderLine />
        </DataTemplate>
        <DataTemplate DataType="{x:Type m:AccessoryOrderLine}">
            <v:OrderLine>
                <v:OrderLine.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Pack 1" IsCheckable="False">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <cmd:EventToCommand Command="{Binding ElementName=root, Path=DataContext.PackAccessory }" PassEventArgsToCommand="True" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                         </MenuItem>
                     </ContextMenu>
                 </v:OrderLine.ContextMenu>
             </v:OrderLine>
         </DataTemplate>
     </ListBox.Resources>
 </ListBox> 
```

我也尝试过使用“TemplatedParent”，然后我可以访问我的“OrderLine”DataContext，但我无法更进一步回到我的“MainWindowModel”。

[http://www.thomaslevesque.com/2011/03/21/wpf-how-to-bind-to-data-when-the-datacontext-is-not-inherited/](http://www.thomaslevesque.com/2011/03/21/wpf-how-to-bind-to-data-when-the-datacontext-is-not-inherited/)

找到了解决我的问题的方法:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:06:32.323

找到了解决方案。用我的解决方案的链接更新了我的原始帖子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:20:51.063

它不是 DataTemplate 的问题。与 ElemetName 绑定适用于所有情况，但 ContextMenu 除外，因为它与窗口不在同一可视树中。但是，有一种技巧可以让您使用`PlacementTarget`上下文菜单的属性。

有关详细信息，请参阅此链接 - [http://social.msdn.microsoft.com/Forums/nl/wpf/thread/526ab350-8788-4bc6-a98a-1e4dee6ad33a](http://social.msdn.microsoft.com/Forums/nl/wpf/thread/526ab350-8788-4bc6-a98a-1e4dee6ad33a) 它包含您在此处尝试实现的目标。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T08:57:22.637

似乎这里是您问题的答案：

*   [ContextMenu 中 MenuItem 的 ElementName 绑定](https://stackoverflow.com/questions/1013558/elementname-binding-from-menuitem-in-contextmenu)
*   [WPF MenuItem.Command 绑定到 ElementName..](https://stackoverflow.com/questions/2617122/wpf-menuitem-command-binding-to-elementname-results-to-system-windows-data-error)

# wpf - WPF将列表框中的记录保存到带有颜色的文件

> ID：11239734
> 
> 赞同：0
> 
> 时间：2012-06-28T07:15:46.983
> 
> 标签：wpf

我的 MainUI 中有一个列表框。我通过以下代码将 Item 添加到它：

```
for (int i = 0; i < 50; i++) {
    ListBoxItem sub1 = new ListBoxItem();
    if (i % 2 == 0) {
       sub1.Foreground = Brushes.Red;
    } else {
       sub1.Foreground = Brushes.Green;
    }

    sub1.Content = i;
    this.listStatus.Items.Add(sub1);
} 
```

之后，我想将该值保存到红色和绿色的文件中。我尝试将它们写入 .doc 文件购买我只能通过以下代码获取黑色字符：

```
int lisboxcounter = 0;

FileStream fs = new FileStream(@"D:\Test.doc", FileMode.OpenOrCreate);

StreamWriter s = new StreamWriter(fs);
while (this.listStatus.Items.Count > lisboxcounter) {
   s.WriteLine(this.listStatus.Items[lisboxcounter].ToString());
   lisboxcounter++;
}

s.Close();
fs.Close(); 
```

和值为`System.Windows.Controls.ListBoxItem:`0。

我怎样才能写出只有价值的东西；0,1,2,3 ...**红色和绿色**？

多谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:11:22.230

最好的办法是写入 RichTextBox，然后将内容保存到 RTF 文件。

## XAML

```
 <StackPanel Orientation="Horizontal"
                Grid.Row="0">
        <Button Width="80"
                Content="Load"
                Name="_loadButton"
                Click="_loadButton_Click" />
        <Button Width="80"
                Content="Save"
                Name="_saveButton"
                Click="_saveButton_Click" />
    </StackPanel>

    <RichTextBox Grid.Row="1" Name="_rtfBox" VerticalScrollBarVisibility="Auto" />
</Grid> 
```

## 代码隐藏

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using System.IO;
using System.Diagnostics;

namespace SaveAsRtf
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        private void _loadButton_Click(object sender, RoutedEventArgs e)
        {
            var newDoc = new FlowDocument();
            for (int i = 0; i < 50; i++)
            {
                Paragraph newPara = new Paragraph();
                if (i % 2 == 0)
                {
                    newPara.Foreground = Brushes.Red;
                }
                else
                {
                    newPara.Foreground = Brushes.Green;
                }

                newPara.Inlines.Add(new Run(i.ToString()));
                newDoc.Blocks.Add(newPara);
            }
            _rtfBox.Document = newDoc;
        }

        private void _saveButton_Click(object sender, RoutedEventArgs e)
        {
            string temp = System.IO.Path.GetTempFileName() + ".rtf";
            using (FileStream fs = File.Create(temp))
            {
                TextRange text = new TextRange(_rtfBox.Document.ContentStart, _rtfBox.Document.ContentEnd);
                text.Save(fs, DataFormats.Rtf);
            }

            Process.Start(temp);
        }
    }
} 
```

# joomla - 如何将 joomla 修改为 OpenID 提供者？

> ID：11239740
> 
> 赞同：3
> 
> 时间：2012-06-28T07:16:09.777
> 
> 标签：joomla, openid, openid-provider

我正在尝试查找 joomla 插件或其他组件，以使 joomla 成为 OpenID providerID 本身及其数据库。

知道如何实现这个想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:55:58.010

我知道这样做的唯一扩展是[相对较新的 JFusion Connect](http://www.jfusion.org/forums/viewtopic.php?t=7355)来自那些制作非常有声望的[JFusion](http://extensions.joomla.org/extensions/access-a-security/site-access/authentication-bridges/3723)的人。

# css - CSSborder-bottom在中间

> ID：11239747
> 
> 赞同：7
> 
> 时间：2012-06-28T07:16:28.190
> 
> 标签：css

你好:) 是否可以在中心有底部边框（不使用图片）。列表项之间的分隔符之类的东西不会从边缘到边缘？

谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-28T07:21:39.060

你可以很容易地用两个元素做到这一点，这里有一个演示[http://jsfiddle.net/slash197/JbFrN/6/](http://jsfiddle.net/slash197/JbFrN/6/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T07:20:08.793

不是直接的。但是，如果只是为了边框而插入其他元素是可以的，那么您可以使这些元素的宽度小于您的“正确”列表项以达到预期的效果。

[**看一个例子**](http://jsfiddle.net/6TYBy/)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-02-25T10:19:20.700

旧帖子，但我想知道如何在 2017 年的某一天做到这一点，
我用伪元素`::after`和`display: inherit`

```
li::after {
   content: '';
   display: inherit;
   width: 50%;
   margin: 10px auto;
   border-top: 1px solid #DFDFDF;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T07:33:07.690

[演示](http://jsfiddle.net/cRVss/1/)

```
 <div class="dropDown">
        <ul class="ddMenu">
            <li><a href="#">ONe</a></li>
            <li><a href="#">Two</a></li>
            <li class="last"><a href="#">Three</a></li>
        </ul>
    </div> 
```

* * *

```
 .dropDown {
    background-color: #F6F6F2;
    border: 1px solid #D6DAC4;
    box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);
    margin-top: -1px;
    padding: 10px;
    width: 110px;
}

ul, ol {
    list-style: none outside none;
    margin: 0;
    padding: 0;
}
ul.ddMenu li {
    border-bottom: 1px solid #E9EADE;
    box-shadow: 0 1px #FFFFFF;
    display: list-item;
    line-height: 2.3;
}

ul.ddMenu li a {
    display: block;
    padding: 4px 10px;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-12-04T13:03:26.923

我知道这是一个老问题，但我使用谷歌找到了这个线程。

也可以用 :after 来完成

```
div:after {
  content: '.';
  display: block;
  height: 1px;
  width: 200px;
  margin: 0px auto;
  text-indent: -9999px;
  border-top: 1px solid #585858;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-07-26T16:54:27.793

```
<h1 class="center underlined">
    <span>My title</span>
<h1>

h1 {
    &.center.underlined {
        display: flex;
        align-items: center;
        justify-content: center;
        span {
            border-bottom: 3px solid;
        }
    }
} 
```

# java - 我如何改进地图 >> 使用番石榴

> ID：11239753
> 
> 赞同：1
> 
> 时间：2012-06-28T07:16:49.713
> 
> 标签：java, map, guava

我有以下实体关系的数据结构：

```
Map<Integer, Map<Integer, Map<PAXType, BigDecimal>>> 
```

实体关系：

*   1 `Package`( **P** ) 有很多`Variants`( **V** )
*   1 `Variants`( **V** ) 有许多`Price`数据点
*   `Price`基于`PAXType`（这是一个**枚举**：成人、儿童、婴儿）

我使用以下方法对此进行了建模：

```
Map<Package, Map<Variant, Map<PAXType, BigDecimal>>> 
```

出于快速查找价格的目的

*   包裹
*   包装变体

我现在使用的方式是：当我从数据库读取数据时，我创建/更新上面的地图。在获得所有信息后，对于每个变体，我需要将价格图从`Map<PAXType, BigDecimal>`转换为`Map<OccupancyType, BigDecimal>`，其中 OccupancyType 是另一个枚举。这是我需要为序列化等输出的最终价格格式。

番石榴中是否有任何数据结构非常适合我拥有的丑陋地图结构并支持我上面建议的操作？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-28T08:39:05.447

除了 Tomasz 的回答建议`Map<PAXType, BigDecimal>`在类中封装`PriceByType`（请注意，如果`PAXType`是枚举，则应使用 EnumMap），我认为您应该考虑使用[Guava 的 Table](https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table)作为`Map<Integer, Map<Integer, PriceByType>>`. 表用例：

> 通常，当您尝试一次索引多个键时，您会得到类似 的东西`Map<FirstName, Map<LastName, Person>>`，这很难看且难以使用。Guava 提供了一种新的集合类型 Table，它支持任何“行”类型和“列”类型的这种用例。

您的索引是包和包变体，都是整数，所以表应该以`Table<Integer, Integer, PriceByType>`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T07:22:38.447

Guava 与这里无关，您需要创建一些具有有意义名称的对象。首先封装到持有这个地图`Map<PAXType, BigDecimal>`的例如类中：`PriceByType`

```
Map<Integer, Map<Integer, PriceByType>> 
```

现在以`Map<Integer, PriceByType>`相同的方式进行：

```
Map<Integer, PriceByVariant> 
```

最终的地图可以称为`priceByPackage`。现在创建一些辅助方法来有效地查询这些类：

```
public class PriceByType {

    private final Map<PAXType, BigDecimal> byType = //...

    public BigDecimal find(PAXType type) {
        return byType.get(type);
    }

} 
```

和：

```
public class PriceByVariant {

    private final Map<Integer, PriceByType> byVariant = //...

    public BigDecimal find(int variant, PAXType type) {
        //handle unknown values here
        return byVariant.get(variant).find(type);
    }

} 
```

# php - 如何从变量PHP中删除一些字符

> ID：11239755
> 
> 赞同：0
> 
> 时间：2012-06-28T07:16:52.700
> 
> 标签：php, html

我的字符串看起来像这样

```
$string_value = /hello/world/this/feels/great/ 
```

我怎样才能修剪世界和感觉所以输出看起来像？

```
$string_value = /hello/this/great/ 
```

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T07:18:45.087

```
<?php
$string_value = '/hello/world/this/feels/great/';
$string_value = str_replace( array( 'world/', 'feels/' ), '', $string_value );

echo $string_value; 
```

这就是简单的方法。

# visual-c++ - Ole 存储文件的单写多读

> ID：11239761
> 
> 赞同：1
> 
> 时间：2012-06-28T07:17:31.697
> 
> 标签：visual-c++, ole

我有一个 Ole 存储文件，需要由一个作家写入并由多个读者阅读。当我尝试使用 CFile::shareDenyWrite 打开流时，它没有打开流。它返回 false。如果我使用 shareEcxlusive，Stream 正在打开，但我必须使存储文件共享独占。有没有办法用一个作家和多个读者打开 OleStorage 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T18:44:03.937

是的，但您应该使用 StgOpenStorageEx 来处理 OleStorage 文件而不是 CFile。阅读有关 STGM_DIRECT_SWMR（单作者多读者）的评论以获取更多信息：http: [//msdn.microsoft.com/en-us/library/windows/desktop/aa380342%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa380342%28v=vs.85%29.aspx)

您需要确保在使用基于 COM 的函数之前已初始化 COM（只需在您的 InitInstance 中添加 AfxOleInit() 并且框架会处理启动和关闭）。

# ios - AFNetworking 和 404

> ID：11239764
> 
> 赞同：1
> 
> 时间：2012-06-28T07:17:41.773
> 
> 标签：ios, afnetworking

我正在尝试使用 AFNetworking 发布到 URL，无论我做什么，我都会不断收到错误消息：

```
Error Code: -1011 - Expected status code in (200-299), got 404 
```

我的代码如下：

```
NSString *baseurl = @"http://mysiteurl";

NSString *path = @"/user/register/";

AFHTTPClient *client = [[AFHTTPClient alloc] initWithBaseURL:[NSURL URLWithString:baseurl]];
[client registerHTTPOperationClass:[AFJSONRequestOperation class]];
//[client setAuthorizationHeaderWithUsername:@"myusername" password:@"mypassword"];

[client postPath:path parameters:[NSDictionary dictionaryWithObjectsAndKeys:_userName,@"user", _email, @"email",_password,@"password", nil] success:^(AFHTTPRequestOperation *operation, id JSON) {

    //NSLog(@"sjson: %@", [JSON valueForKeyPath:@"entries"]);
    NSLog(@"sjson: %@", JSON);        
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
    NSLog(@"Error Code: %i - %@",[error code], [error localizedDescription]);
}]; 
```

当我直接去时，`http://mysiteurl/user/register/`我可以看到 JSON。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T19:01:56.793

> 当我直接去时，`http://mysiteurl/user/register/`我可以看到 JSON。

如果您通过浏览器执行此操作，则您正在发出`GET`请求，而在您的代码中，您正在发出`POST`请求。

404 不仅仅是可见地址，它还包括 HTTP 方法。您需要确保您的服务器响应`POST`at `http://mysiteurl/user/register/`。根据您的框架（例如 Rails），您可能需要添加`[client setDefaultHeader:@"Accept" value:@"text/json"]`才能获得正确的路线。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:29:24.547

我通常使用 [client getPath: parameters:params success:] 而不是 Post 但我想这对这两种情况都有效，因为您的响应也是 JSON 格式

添加这两行

```
[client.parameterEncoding = AFJSONParameterEncoding;
[client setDefaultHeader:@"Accept" value:@"text/json"]; 
```

前

```
[client registerHTTPOperationClass:[AFJSONRequestOperation class]]; 
```

# iphone - 如何使用用户代理初始化 NSURLRequest

> ID：11239769
> 
> 赞同：4
> 
> 时间：2012-06-28T07:18:21.210
> 
> 标签：iphone, objective-c, ios

通常http用户代理是这样的：

```
Mozilla/5.0 (iPhone; U; CPU iPhone OS 3_0 like Mac OS X; en-us) AppleWebKit/528.18 (KHTML, like Gecko) Version/4.0 Mobile/7A341 
```

如果我

```
NSMutableURLRequest *newUserAgentRequest = (NSMutableURLRequest*)[NSURLRequest requestWithURL:self.url];
    NSString *userAgent = [newUserAgentRequest valueForHTTPHeaderField:@"User-Agent"]; 
```

userAgent 为 nil 或为空表示

```
NSMutableURLRequest *newUserAgentRequest = (NSMutableURLRequest*)[NSURLRequest requestWithURL:self.url]; 
```

没有用户代理，如何使用用户代理发起请求？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-28T07:49:15.720

我只做了如下。这适用于 iOS 设备：

```
NSMutableURLRequest *urlRequest = [[NSMutableURLRequest alloc] 
                                       initWithURL:[NSURL URLWithString:[yourURL stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]];
NSString *userAgent = [NSString stringWithFormat:@"%@ %@",[UIDevice currentDevice].systemName,[UIDevice currentDevice].systemVersion];
[urlRequest setValue:userAgent forHTTPHeaderField:@"User-Agent"]; 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:40:39.407

设置`User_Agent`（带下划线）字段适用于某些网站，但不是所有网站，并且通常不会被 NSURL... 类覆盖。除了弄乱字典（我认为这是不允许的，但无论如何我会发布一个示例）之外，另一种选择是方法调配。

```
+ (void)initialize {
    // Set user agent (the only problem is that we can't modify the User-Agent later in the program)
    NSDictionary *dictionnary = [[NSDictionary alloc] initWithObjectsAndKeys:@"Mozilla/5.0 (iPhone; U; CPU iPhone OS 3_0 like Mac OS X; en-us) AppleWebKit/528.18 (KHTML, like Gecko) Version/4.0 Mobile/7A341", @"UserAgent", nil];
    [[NSUserDefaults standardUserDefaults] registerDefaults:dictionnary];
    //only under MRC do we release [dictionnary release];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:52:31.357

这对我来说很好：

```
NSString *userAgent = @"My user agent";
NSURL *url = [NSURL URLWithString:@"http://127.0.0.1:9000"];
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url];
[request setValue:userAgent forHTTPHeaderField:@"User-Agent"]; 
```

如果您自己不提供 User-Agent，则稍后设置，因此`nil`当您尝试阅读它时。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-28T15:21:20.363

为什么不继承 NSMutableURLRequest，在你的子类的构造函数中，简单地设置“User-Agent”HTTPHeaderField。这将减少您在创建实例时始终记住设置标头的痛苦点。

# iphone - iPhone app：单元测试中测试单元的规模

> ID：11239773
> 
> 赞同：0
> 
> 时间：2012-06-28T07:18:28.140
> 
> 标签：iphone, unit-testing

在研究 iPhone 项目的单元测试时，我发现在单元测试中很难确定单元的规模，所以如果我有 A、B 和 C 三种方法，我可以分别测试它们，但有时你需要在 B 之前调用 A 以使 B 有意义，例如，如果我有 addImageWithName: 和 removeImageWithName:，那么我需要先添加一个图像，以测试 removeImageWithName: 是否真的有效。

所以这是黑盒单一方法测试或功能测试之间的决定（功能意味着应用程序的功能可能涉及多个方法），如果时间紧迫，我不能同时使用它们，那么优点是什么这两种方法的优缺点？

我能想到的：

=== 单一方法测试 === 优点： - 易于编写测试用例，因为您只需要处理单个方法的输入/输出缺点： - 方法需要高度解耦，因此一种方法不依赖另一种方法 - 有时不可能，例如 undo 方法必须依赖 'do' 方法。

=== 功能测试 === 优点： - 比方法测试更高的级别，因为它针对的是应用程序的功能

缺点： - 不容易编写测试用例，如果功能很复杂 - 可能无法涵盖特定功能中涉及的每个单独方法的所有案例

那么正确的决定应该是什么？

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:58:18.927

单一方法测试它是在 xcode 中编写单元测试的最佳方式。无论如何，如果您的函数依赖于另一个函数来完成，您可以使用异步单元测试，使用 GHUnit 测试框架来测试异步方法。
顺便说一句：你正在使用什么，OCUnit 或 GHUnit 进行测试？
希望这有帮助

# python - 在python中使用字符串或整数作为键的字典或映射？

> ID：11239776
> 
> 赞同：0
> 
> 时间：2012-06-28T07:18:38.217
> 
> 标签：python, data-structures

这可能是一个愚蠢的问题，但由于某种原因，解决方案目前让我无法理解。

我想快速有效地访问列表格式的数据。例如，问题列表：

```
q = {}
q[1] = "my first string"
q[2] = "my second string"
q[3] = "my third string" 
```

我可以通过执行 q[2] 轻松找到问题 2 的字符串。但我也想通过用字符串索引 q 来检索问题编号：

```
q["my second string"] -> gives 2 as answer 
```

我想在不迭代键的情况下执行此操作（违背字典的目的），并且希望避免使用字符串作为键来定义第二个字典以避免浪费内存。这可能吗？

最终原因是我想访问 q[2] 或 q["my second string"] 并获取与问题 2 关联的数据，无论是使用数字还是字符串作为该数据的键。在避免数据重复的同时不必遍历所有键，这是否可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:30:48.617

`int`混合使用和`str`作为键没有问题

```
>>> q = {}
>>> q[1] = "my first string"
>>> q[2] = "my second string"
>>> q[3] = "my third string"
>>> q.update({v:k for k,v in q.items()})
>>> q["my second string"]
2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:24:36.260

您可以使用[OrderedDict](http://docs.python.org/library/collections.html#collections.OrderedDict)，但对于其中一个方向，它不会像普通字典查找那样有效。

```
from collections import OrderedDict
q = OrderedDict()
q["my first string"] = 1
q["my second string"] = 2
q["my third string"] = 3
# Now you have normal key lookups on your string as a normal dict, and to get the order
q.values()[1]  # To get the second value out
# To get the key, value pair of the second entry
q.items()[1]
# Would return `('my second string', 2)` 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:38:30.383

这是[在 Python 中的高效双向哈希表中提出的？](https://stackoverflow.com/questions/3318625/efficient-bidirectional-hash-table-in-python)

答案保持不变 -`bidict`使用[http://pypi.python.org/pypi/bidict](http://pypi.python.org/pypi/bidict)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T07:39:56.487

```
class MyDict(dict):
    def __init__(self, **kwargs):
        super(MyDict, self).__init__(**kwargs)
        for k, v in kwargs.iteritems():
            self[v] = k
    def __setitem__(self, key, val):
        super(MyDict, self).__setitem__(key, val)
        super(MyDict, self).__setitem__(val, key)

d = MyDict(a=1, b=2)
print d[1] # "a"
print d[2] # "b"
d['c'] = 3
print d[3] # "c" 
```

# html - 使用 HTML 表格行跨度时的意外行为

> ID：11239789
> 
> 赞同：3
> 
> 时间：2012-06-28T07:19:37.420
> 
> 标签：html, html-table

我正在创建一个动态表生成器，在测试过程中，我发现以下生成的 HTML 在所有浏览器（Firefox、Chrome、IE）中给出了意想不到的布局

```
<table>
    <tr>
        <td rowspan="2"></td>
        <td></td>
    </tr>
    <tr>
        <td rowspan="2"></td>
    </tr>
    <tr>
        <td></td>
    </tr>
</table> 
```

我期待一个 2x3 表格，顶角与中间行的左单元格合并，中间行右单元格与右下角单元格合并，但我最终得到一个 2X2 网格

旁注，即使我在 css 或行/单元格属性上提供了高度；不会更改结果表的布局。

p/si 不打算将其用于布局；我只是想白痴证明我的代码免受这种奇怪布局的意外影响

编辑：

预期的：

```
|------|-------|
|      |       |
|      |       |
|      |-------|
|      |       |
|      |       |
|------|       |
|      |       |
|      |       |
|------|-------| 
```

结果：

```
|------|-------|
|      |       |
|      |       |
|------|-------|
|      |       |
|      |       |
|------|-------| 
```

编辑 2：添加 CSS

```
table { 
   border: 2px solid #000000;
   padding: 10px;
}
td { 
   border: 2px solid #FF0000;
   height: 100px;
   width: 100px;
   padding: 10px;
}
tr {
   border: 2px solid #00FF00;
   padding: 10px
} 
```

我也试过：

```
<table>
    <tr>
        <td rowspan="2" style="border: 1px solid #FF0000; height:200px"></td>
        <td style="border: 1px solid #FF0000; height:100px"></td>
    </tr>
    <tr>
        <td rowspan="2" style="border: 1px solid #FF0000; height:200px"></td>
    </tr>
    <tr>
        <td style="border: 1px solid #FF0000; height:100px"></td>
    </tr>
</table> 
```

# java - 存储大量图像数据库或文件系统

> ID：11239790
> 
> 赞同：5
> 
> 时间：2012-06-28T07:19:41.483
> 
> 标签：java, image

我正在做一个项目，我们需要存储大量图像，比如大约 1000 万张，所以这是存储图像的最佳方式。就速度和效率而言，这是最好的方式。这是一个基于网络的项目，因此图像检索应该很快。

1.  数据库

    将图像作为base64存储在数据库中。
    我们正在开发一个 nosql 数据库。

2.  文件系统

    制作一个唯一的 id 并将其存储在一个文件夹下。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:24:26.060

1)数据库

*   将需要很多代码来处理图像，就像使用流一样
*   数据库服务器上的负载较重
*   数据库存储通常比文件系统存储更昂贵
*   在图像和元数据之间的事务完整性很重要的地方，数据库胜出。
*   管理数据库元数据和文件系统数据之间的完整性更加复杂
*   很难（在 Web 应用程序的上下文中）保证数据已刷新到文件系统上的磁盘

2) 文件系统

*   将图像存储在唯一的 id 上并将其存储到硬盘将是一个更好的选择。
*   Web 服务器等东西不需要特殊的编码或处理来访问文件系统中的图像

参考[http://perspectives.mvdirona.com/2008/06/30/FacebookNeedleInAHaystackEfficientStorageOfBillionsOfPhotos.aspx](http://perspectives.mvdirona.com/2008/06/30/FacebookNeedleInAHaystackEfficientStorageOfBillionsOfPhotos.aspx)

另请参阅[在 DB 中存储图像 - 是还是不是？](https://stackoverflow.com/questions/3748/storing-images-in-db-yea-or-nay)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:23:30.707

有一个权衡 - 这将取决于您的具体情况和需求。每个的好处包括

文件系统

*   性能，尤其是缓存和 I/O

*   最好将文件路径存储在数据库中。

有几个问题：

*   数据库存储通常比文件系统存储更昂贵
*   您可以使用标准的现成产品超级加速文件系统访问
    *   例如，许多 Web 服务器使用操作系统的 sendfile() 系统调用将文件直接从文件系统异步发送到网络接口。存储在数据库中的图像不会从这种优化中受益。
*   Web 服务器等东西不需要特殊的编码或处理来访问文件系统中的图像
*   在图像和元数据之间的事务完整性很重要的地方，数据库胜出。
    *   管理数据库元数据和文件系统数据之间的完整性更加复杂
    *   很难（在 Web 应用程序的上下文中）保证数据已刷新到文件系统上的磁盘

数据库

*   更容易扩展到多个 Web 服务器
*   更易于管理（备份、安全等）

如果您有 SQL 2008 数据库，请查看[这篇 SO 文章中的 FileStream](https://stackoverflow.com/questions/335342/using-sql-server-as-image-store) - 这提供了两全其美的效果。

请参阅[在 DB 中存储图像 - 是还是不是？](https://stackoverflow.com/questions/3748/storing-images-in-db-yea-or-nay)

**编辑**

参见 Nosql：

1.  [将数以亿计的小图像存储到键/值存储或其他 nosql 数据库是个好主意吗？](https://stackoverflow.com/questions/4164024/is-it-a-good-idea-to-store-hundreds-of-millions-small-images-to-a-key-value-stor)
2.  [在 NoSQL 存储中存储图像](https://stackoverflow.com/questions/2278186/storing-images-in-nosql-stores)

# c# - 在服务器端获取组合框的选定值

> ID：11239791
> 
> 赞同：0
> 
> 时间：2012-06-28T07:19:42.910
> 
> 标签：c#, javascript, asp.net, html

我的查询是，我的表单中有一个 html 组合框，我想将组合框的选定项的值传递给服务器端，它是一个 aspx 页面，

```
<form method="POST" action="page.aspx">
    <input id="customerName" name="customerName" type="Text" />
    <input id="customerPhone" name="customerPhone" type="Text" />
    <select id="combobox" >
        <option>df</option>
        <option>as</option>
    </select>
    <input 
</form>
value="Save" type="Submit" /> 
```

在服务器端，我使用以下一组代码来选择文本框值

```
string n = String.Format("{0}", Request.Form['customerName']); 
```

但是如何获取组合框选定值的值请帮助我提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:31:03.450

您可以尝试修复您的html：

```
<form method="POST" action="page.aspx">
    <input id="customerName" name="customerName" type="text">
    <input id="customerPhone" name="customerPhone" type="text">
    <select id="combobox" name="combobox">
        <option value="df">df</option>
        <option value="as">as</option>
    </select>
    <input value="Save" type="submit">
</form> 
```

所选值将发布为`Request.Form['combobox']`

# windows - 如何跟踪系统范围的文件操作（用于撤消/重做）？

> ID：11239793
> 
> 赞同：0
> 
> 时间：2012-06-28T07:19:51.093
> 
> 标签：windows, delphi, undo, redo

当我从我的程序中复制/删除文件时，我可以记录操作并执行撤消和重做。

但是我想像资源管理器一样跟踪整个系统的复制/删除过程，这样即使删除过程是从其他进程（例如资源管理器）执行的，我也可以执行撤消。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T08:34:19.840

为此，您必须使用 Shellapi，而不是 sysutils 的标准文件功能集。如果您使用[ShellExecuteEx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762154%28v=vs.85%29.aspx)复制/删除/剪切，即使在您的程序中进行了操作，也可以从资源管理器中进行撤消重做。

# c# - 如何在 C# 中将这些东西放入 linq？

> ID：11239795
> 
> 赞同：2
> 
> 时间：2012-06-28T07:20:00.323
> 
> 标签：c#, linq

我有 linq 的问题，我有以下代码：

```
 Models.Users user = null;
        foreach (var item in db.Users)
        {
            if (item.username.Equals(username))
            {
                ausgabe = true;
                user = item;
            }
        }

        // linq, does not work
        user = null;
        var test = from u in db.Users
                   where u.username.Equals(username)
                   select u;
        user = (Models.Users)test; 
```

在运行时我得到一个错误，因为测试我 IQueryable，但如何进行这个对话？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:21:30.483

当您想要*执行*查询时，问题似乎是向用户**投射**查询，所以可能：

 *```
user = test.SingleOrDefault(); 
```

（另见`FirstOrDefault()`、`First()`和`Single()`）

另外，为了方便和可读性，我可以建议：

```
where u.username == username 
```

（在*常规*代码中，这也避免了存在的问题`u.username`，`null`从而导致 a `NullReferenceException`）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T07:22:48.263

您的演员表是错误的，您想将对象列表分配给一个对象：

```
 var test = from u in db.Users
               where u.username.Equals(username)
               select u;
    user = (Models.Users)test; // wrong part. 
```

做

```
user = test.FirstOrDefault(); 
```

或者

```
 user = db.Users.FirstOrDefault(x=>x.username.Equals(username)); 
```*

# jquery - 为什么我不能为克隆的元素设置动画？

> ID：11239798
> 
> 赞同：0
> 
> 时间：2012-06-28T07:20:05.663
> 
> 标签：jquery, animation, clone

这是我的[代码](http://jsfiddle.net/LupfW/)：

```
var newElement=$('.oggetto').eq(0).clone();
newElement.animate({ 'top': '2000px'}, 5000);

<div id="container">
    <div class="oggetto" style="left:0px;">&nbsp;</div>
    <div class="oggetto" style="left:50px;">&nbsp;</div>
</div> 
```

但似乎“.oggetto”不会在克隆（）之后移动。

事实上，如果我只写：

```
$('.oggetto').eq(0).animate({ 'top': '2000px'}, 5000); 
```

它也可以。我哪里错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:22:23.140

因为，首先克隆的元素必须插入到 DOM 中，然后才能进行动画处理。

```
var newElement=$('.oggetto').eq(0).clone();
$("#container").append(newElement); //add the element 

//Now animate
newElement.animate({ 'top': '2000px'}, 5000); 
```

### [演示](http://jsfiddle.net/LupfW/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:22:27.417

尝试在动画之前将其插入 DOM...

[http://jsfiddle.net/LupfW/1/](http://jsfiddle.net/LupfW/1/)

```
newElement.appendTo("body").animate({ 'top': '2000px'}, 5000);​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:22:55.497

您需要将其附加到 dom 树。***[演示。](http://jsfiddle.net/LupfW/2/)***

```
newElement.appendTo('#container').animate({ 'top': '2000px'}, 5000);​ 
```

# iphone - 在自定义 UINavigationController 中强制执行特定 rootViewController 的推荐方法是什么？

> ID：11239803
> 
> 赞同：3
> 
> 时间：2012-06-28T07:20:10.313
> 
> 标签：iphone, objective-c, ios, cocoa-touch, uinavigationcontroller

我正在构建一个可供其他 iPhone 开发人员使用的 iPhone SDK。

该 SDK 的主要用途是呈现一个 UI，使用户能够完成某个过程。

这个 UI 应该包装在 UINavigationController 中，因为它由构成流程的多个 UIViewController 组成。

我希望将使用我的 SDK 的开发人员初始化我的自定义 UINavigationController，然后以他们想要的方式呈现它。

我想强制我的自定义导航控制器的 rootViewController 将是 SDK 中的特定 ViewController，并且开发人员将无法使用不同的 rootViewController 对其进行初始化。

实现这一目标的推荐方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:30:58.923

您不应该`UINavigationController`按照 Apple 文档中的说明进行子类化。

> 此类不用于子类化。相反，在您希望应用程序的用户界面反映内容的分层性质的情况下，您可以按原样使用它的实例。

如果您是 iOS 5，请使用新的容器 API for `UIViewController`s。

[实现一个容器视图控制器](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/cl/UIViewController)

使用这种方法，您可以强制执行您的根控制器并将其隐藏给用户。

如果 iOS 5 不可用，请参阅我之前的回答[Handle different view controllers within an application: 创建自定义内容视图控制器](https://stackoverflow.com/questions/9262469/handle-different-view-controllers-within-an-application-creating-custom-content)。

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T11:32:52.950

您可以编写一个类方法来实例化您的视图控制器：

```
+(MyViewController*)myViewController {
    MyViewController* = myViewController = [[MyViewController* alloc] init];
    myViewController.rootViewController = [[MyDesiredRootViewController alloc] init];
    return myViewController;
} 
```

开发人员将使用此方法来初始化您的视图控制器，并且所有初始化工作都对他们隐藏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:23:46.713

如果 rootViewController 是不同的类，则初始化可能会失败

```
- (id)initWithRootViewController:(UIViewController*)rootController
{
    if(![rootController isKindOfClass:[YourRootViewController class]])
        return nil;

    //Do default init stuff

} 
```

# drupal-7 - 一个文档共享和协作框架，并集成到 drupal

> ID：11239804
> 
> 赞同：0
> 
> 时间：2012-06-28T07:20:13.720
> 
> 标签：drupal-7, document, google-docs

我正在寻找一种创建文档共享网站并将其集成到 drupal 的方法。是否有任何框架可以帮助我创建文档共享站点？简而言之，我希望创建类似 google docs 的内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T23:15:32.560

试试[海盗垫](http://drupal.org/project/piratepad)。虽然它现在仅适用于 Drupal 6，但您可能需要帮助并将其移植到 Drupal 7。您可以在[Github](http://github.com/markwk/piratepad)上找到源代码。您可以在[piratepad.net](http://piratepad.net/ep/pad/newpad)上试用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-22T14:27:15.807

您可以查看[FileDepot](https://drupal.org/project/filedepot)。它是一个文档管理模块，可用于 D6 和 D7。

# asp.net - 如何将流excel文件转换为数据表C#？

> ID：11239805
> 
> 赞同：10
> 
> 时间：2012-06-28T07:20:14.010
> 
> 标签：asp.net, excel, xlsx, epplus

我使用 Epplus 从流中读取 xlsx 文件。

它有一个错误，它无法读取我的工作簿中的某些列。如何在没有 epplus 的情况下将 xlsx 文件从流读取到数据表？

我的旧代码：

```
 public static DataSet ReadExcelFile(Stream stream)
    {
        try
        {
            //2\. Reading from a OpenXml Excel file (2007 format; *.xlsx)
            IExcelDataReader excelReader =    
                             ExcelReaderFactory.CreateOpenXmlReader(stream);
            //...
            DataSet result = excelReader.AsDataSet();

            return result;

        }
        catch (Exception x)
        {
            throw x;
        }
    } 
```

我没有报告它，但我尝试了很多组合。如果工作表中有空列，epplus reader 无法正确读取列值。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-28T07:25:44.617

> *“它有一个错误，它无法读取我工作簿中的某些列”*

你能描述一下这个错误，你有没有[报告](http://epplus.codeplex.com/workitem/list/basic)过或者已经知道了，你使用的是什么版本？

`DataTable`这是使用 EPPlus将 excel 文件加载到 a 中的简单方法。

```
public static DataTable getDataTableFromExcel(string path)
{
    using (var pck = new OfficeOpenXml.ExcelPackage())
    {
        using (var stream = File.OpenRead(path))
        {
            pck.Load(stream);
        }
        var ws = pck.Workbook.Worksheets.First();  
        DataTable tbl = new DataTable();
        bool hasHeader = true; // adjust it accordingly( i've mentioned that this is a simple approach)
        foreach (var firstRowCell in ws.Cells[1, 1, 1, ws.Dimension.End.Column])
        {
            tbl.Columns.Add(hasHeader ? firstRowCell.Text : string.Format("Column {0}", firstRowCell.Start.Column));
        }
        var startRow = hasHeader ? 2 : 1;
        for (var rowNum = startRow; rowNum <= ws.Dimension.End.Row; rowNum++)
        {
            var wsRow = ws.Cells[rowNum, 1, rowNum, ws.Dimension.End.Column];
            var row = tbl.NewRow();
            foreach (var cell in wsRow)
            {
                row[cell.Start.Column - 1] = cell.Text;
            }
            tbl.Rows.Add(row);
        }
        return tbl;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-07T16:55:33.460

这已经过去了，但它仍然可以帮助某人。显然，我的工作表中的某些列已合并，例如，如果合并了 A 列和 B 列，它只会将 A 列识别为具有该值的列，因此当我调用该特定单元格的值时，它将 B 列返回为空（乙）。要克服这一点，请确保您知道合并了哪些单元格，然后仅抓取第一个单元格并将其余合并的单元格视为 null

# c# - WindowStartupLocation CenterOwner 如何使用视图模型？

> ID：11239808
> 
> 赞同：1
> 
> 时间：2012-06-28T07:20:31.943
> 
> 标签：c#, wpf, mvvm

在 WPF MVVM 应用程序中，您拥有包含视图背后的所有逻辑的视图模型，以及显示事物的视图。做事是通过命令链接的，命令在视图模型类中实现。

当我想在启动窗口的中心打开一个新的对话窗口时，我需要将 WindowStartupLocation = CenterOwner 以及 Owner = something 设置为新的对话窗口。不幸的是，必须将 Owner 属性设置为视图，但视图在视图模型中永远是未知的。

那么这应该如何协同工作呢？

疯狂猜测：我是否必须将视图的位置和大小绑定到视图模型并手动定位新对话框，而不是使用 CenterOwner 自动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:53:22.143

> 但是视图在视图模型中永远是未知的。

理想情况下，ViewModel 完全不知道使用它的 View。但正如您发现的那样，这并不总是可行的。

因此，光耦合很常见，例如作为 BaseViewModel 中的 View 属性。

但是您的 VM 不应使用视图中的任何特定控件或其他详细信息。

# ios - 不可续订订阅：最短订阅时间和动态内容

> ID：11239811
> 
> 赞同：0
> 
> 时间：2012-06-28T07:20:42.793
> 
> 标签：ios, in-app-purchase, subscription

我有这个带有动​​态内容的 iOS 应用程序和一个新的要求，即它应该有短期（7 天以下）订阅。

由于自动更新订阅的最短订阅时间是 7 天，我想我只能选择不可更新订阅。

**问题：**

1.  可以为动态内容订阅不可更新的订阅吗？我很困惑

    > “对于静态服务或服务访问，您应该使用非续订订阅。”

    引用 iTunesConnect 开发人员指南。我的应用程序提供动态而非静态服务。

2.  我可以为订阅设置的最短时间有什么要求吗？比如，我可以设置 6 小时的订阅时间吗？我当然可以做任何事情，但苹果可能不会同意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T10:18:30.440

苹果对动态内容使用不可更新订阅没有问题，也没有指定订阅时间。

# c# - 在项目中包含创建的文件夹

> ID：11239812
> 
> 赞同：1
> 
> 时间：2012-06-28T07:20:49.337
> 
> 标签：c#, directory

我正在一个应用程序中工作，该应用程序获取实时数据并将它们存储在我的项目目录中作为文件夹中的 excel 表。我的输出文件夹存储在 bin\Debug 下。我单击“全部显示”以查看它们。有没有办法以编程方式包含这些输出文件夹？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-28T07:27:00.190

您的意思是在项目中包含文件吗？如果是这样，您可以通过编辑项目文件来完成。项目文件 (.csproj) 只是一个纯文本文件。首先添加一个文件，看看它是如何影响csproj文件的。之后，您可以以编程方式编辑 csproj 文件以包含所需的文件。

# bash - 如何 bash shell 参数扩展此表达式？

> ID：11239813
> 
> 赞同：1
> 
> 时间：2012-06-28T07:20:59.730
> 
> 标签：bash, shell, parameters, expansion

我今天遇到了一个 bash 脚本，它有以下引导线：

```
$ cat -n deploy.sh
 1  #!/bin/bash
 2   
 3  # Usage: ./deploy.sh [host]
 4   
 5  host="${1:-ubuntu@example.com}"
 6   
 7  # The host key might change when we instantiate a new VM, so
 8  # we remove (-R) the old host key from known_hosts
 9  ssh-keygen -R "${host#*@}" 2> /dev/null
 [...] 
```

5号线很简单。9号线接住了我。我“相信”这是一种 bash 参数扩展，但是阅读手册页，我不再那么确定了。

引用 bash 手册页：

```
${parameter#word}
${parameter##word}
          Remove matching prefix pattern.  The word is expanded to produce
          a pattern just as in pathname expansion.  If the pattern matches
          the  beginning of the value of parameter, then the result of the
          expansion is the expanded value of parameter with  the  shortest
          matching  pattern  (the ``#'' case) or the longest matching pat‐
          tern (the ``##'' case) deleted.  If parameter is  @  or  *,  the
          pattern  removal operation is applied to each positional parame‐
          ter in turn, and the expansion is the resultant list.  If param‐
          eter  is  an array variable subscripted with @ or *, the pattern
          removal operation is applied to each  member  of  the  array  in
          turn, and the expansion is the resultant list. 
```

可以说我只是像这样运行脚本

```
./deploy.sh 
```

没有任何输入参数，然后到第 5 行，host 将设置为 ubuntu@example.com。然后来到第 9 行，${host#*@} 开始发挥作用。# 使用扩展的 *@ 触发替换。但它扩展到什么？这不是手册页中使用的词吗？

任何提示/提示表示赞赏。

扎克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:46:22.867

在这个脚本中，“*@”实际上是一个 glob 模式，而不是任何类型的特殊参数。

```
$ host="${1:-ubuntu@example.com}"; echo "${host#*@}"
example.com 
```

此构造的作用是在与*host*的值匹配时删除 glob的*最短匹配前缀*。最终结果是域名，因为 glob 匹配字符串中直到（包括）at 符号的所有内容。

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:29:27.123

它删除了与主机中模式 *@ 匹配的前缀（因此 *@ 扩展为 ubuntu@）。比如ubuntu@example.com变成example.com，即域名。*

# java - 从 toString() 解析 java 日期

> ID：11239814
> 
> 赞同：21
> 
> 时间：2012-06-28T07:21:13.407
> 
> 标签：java, parsing, date

我有一个`String`包含`toString()`在`java.util.Date`. 如何将此值解析回`Date`对象？

Java 文档说，`toString()`将此`Date`对象转换`String`为以下形式的 a：

```
 dow mon dd hh:mm:ss zzz yyyy 
```

但是当然没有像`"dow"`or这样的格式标签`"mon"`。

有人可以帮我解决这个问题。请注意，不幸的`toString()`是，调用是在我无法控制的一段代码中。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-06-28T07:23:07.083

**如果您无法控制生成字符串的代码：**

要解析`toString()`格式，您需要将`SimpleDateFormat`语言环境设置为英语并使用格式：`"EEE MMM dd HH:mm:ss Z yyyy"`.

```
SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd HH:mm:ss Z yyyy", new Locale("us"));` 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T07:40:21.197

我没有测试，但这样的事情可能会起作用：

```
SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM HH:mm:ss z yyyy");
Date date = sdf.parse(dateStr); 
```

如果没有，请尝试使用文档进行更正：http: [//docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString](http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString) () [http://docs.oracle.com/javase /6/docs/api/java/text/SimpleDateFormat.html](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-28T07:24:09.600

使用简单日期格式。[在这里找到文档： http](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) ://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-28T07:30:02.397

首先看一下 java [Date Formats](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)提供的所有日期格式。你可以使用`SimpleDateFormat`类来做你想做的事。

```
 public class DateFormatTest 
    { 
      public DateFormatTest() 
      { 
        String dateString = // in "dow mon dd hh:mm:ss zzz yyyy" format

        SimpleDateFormat dateFormat = new SimpleDateFormat("dow mon dd hh:mm:ss zzz yyyy"); 
        Date convertedDate = dateFormat.parse(dateString); 

        System.out.println("Converted string to date : " + convertedDate); 
      } 

      public static void main(String[] argv) 
      { 
        new DateFormatTest(); 
      } 
    } 
  } 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-06-28T07:26:59.647

假设你得到 String of "dateString" ；

```
SimpleDateFormat sdf = new SimpleDateFormat("dow mon dd hh:mm:ss zzz yyyy");

Date date = sdf.parse("dateString"); 
```

# python - 用条件求和列

> ID：11239815
> 
> 赞同：0
> 
> 时间：2012-06-28T07:21:24.227
> 
> 标签：python, bash, awk

我在文本文件中有数据。例子。

```
A B C D E F
10 0 0.9775 39.3304 0.9311 60.5601
10 1 0.9802 32.3287 0.9433 56.1201
10 2 0.9816 39.9759 0.9446 54.0428
10 3 0.9737 37.8779 0.9419 56.3865
10 4 0.9798 34.9152 0.905 69.0879
10 5 0.9803 50.057 0.9201 64.6289
10 6 0.9805 39.1062 0.9093 68.4061
10 7 0.9781 33.8874 0.9327 60.7631
10 8 0.9802 32.5734 0.9376 60.9165
10 9 0.9798 32.3466 0.94 54.7645
11 0 0.9749 40.2712 0.9042 71.2873
11 1 0.9755 35.6546 0.9195 63.7436
11 2 0.9766 36.753 0.9507 51.7864
11 3 0.9779 35.6485 0.9371 59.2483
11 4 0.9803 35.2712 0.8833 79.0257
11 5 0.981 46.5462 0.9156 66.6951
11 6 0.9809 41.8181 0.8642 83.7533
11 7 0.9749 36.7484 0.9259 62.36
11 8 0.9736 36.8859 0.9395 58.1538
11 9 0.98 32.4069 0.9255 61.202
12 0 0.9812 37.2547 0.9121 68.1347
12 1 0.9808 31.4568 0.9372 55.9992
12 2 0.9813 36.5316 0.9497 53.1687
12 3 0.9803 33.1063 0.9051 69.8894
12 4 0.9786 35.0318 0.8968 72.9963
12 5 0.9756 63.441 0.9091 69.9482
12 6 0.9804 39.1602 0.9156 65.2399
12 7 0.976 35.5875 0.9248 62.6284
12 8 0.9779 33.7774 0.9416 56.3755
12 9 0.9804 32.0849 0.9401 55.2871 
```

我想要C列的总和。条件是。A 列的值是唯一的（10 行）。请给我提意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:28:02.330

```
>>> L=map(str.split, """10  0   0.9775  39.3304 0.9311  60.5601
... 10  1   0.9802  32.3287 0.9433  56.1201
... 10  2   0.9816  39.9759 0.9446  54.0428
... 10  3   0.9737  37.8779 0.9419  56.3865
... 10  4   0.9798  34.9152 0.905   69.0879
... 10  5   0.9803  50.057  0.9201  64.6289
... 10  6   0.9805  39.1062 0.9093  68.4061
... 10  7   0.9781  33.8874 0.9327  60.7631
... 10  8   0.9802  32.5734 0.9376  60.9165
... 10  9   0.9798  32.3466 0.94    54.7645
... 11  0   0.9749  40.2712 0.9042  71.2873
... 11  1   0.9755  35.6546 0.9195  63.7436
... 11  2   0.9766  36.753  0.9507  51.7864
... 11  3   0.9779  35.6485 0.9371  59.2483
... 11  4   0.9803  35.2712 0.8833  79.0257
... 11  5   0.981   46.5462 0.9156  66.6951
... 11  6   0.9809  41.8181 0.8642  83.7533
... 11  7   0.9749  36.7484 0.9259  62.36
... 11  8   0.9736  36.8859 0.9395  58.1538
... 11  9   0.98    32.4069 0.9255  61.202
... 12  0   0.9812  37.2547 0.9121  68.1347
... 12  1   0.9808  31.4568 0.9372  55.9992
... 12  2   0.9813  36.5316 0.9497  53.1687
... 12  3   0.9803  33.1063 0.9051  69.8894
... 12  4   0.9786  35.0318 0.8968  72.9963
... 12  5   0.9756  63.441  0.9091  69.9482
... 12  6   0.9804  39.1602 0.9156  65.2399
... 12  7   0.976   35.5875 0.9248  62.6284
... 12  8   0.9779  33.7774 0.9416  56.3755
... 12  9   0.9804  32.0849 0.9401  55.2871""".split("\n"))
>>> from collections import defaultdict
>>> D = defaultdict(float)
>>> for a,b,c,d,e,f in L:
...     D[a] += float(c)
... 
>>> D
defaultdict(<type 'float'>, {'11': 9.7756, '10': 9.791699999999999, '12': 9.7925})
>>> dict(D.items())
{'11': 9.7756, '10': 9.791699999999999, '12': 9.7925} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T08:23:17.997

为了娱乐

```
#!/usr/bin/env ksh

while <file; do
    ((a[$1]+=$3))
done
print -C a 
```

输出

```
([10]=9.7917 [11]=9.7756 [12]=9.7925) 
```

需要未记录的 FILESCAN 编译时选项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:26:01.470

```
with open('data.txt') as f:
    next(f)
    d=dict()
    for x in f:
        if x.split()[0] not in d:
            d[x.split()[0]]=float(x.split()[2])
        else:
            d[x.split()[0]]+=float(x.split()[2]) 
```

**输出：**

```
{'11': 9.7756, '10': 9.791699999999999, '12': 9.7925} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T12:13:13.017

如果您想要按 A 值分组的总和：

```
awk '{sums[$1] += $3} END {for (sum in sums) print sum, sums[sum]}' inputfile 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-28T07:28:34.407

```
import csv
with open("file.txt","rU") as f:
    reader = csv.reader(f)
    # read header
    reader.next()
    # summarize
    a_values = []
    sum = 0
    for row in reader:
        if row[0] not in a_values:
            a_values.append(row[0])
            sum += float(row[2]) 
```

# python - 读取二进制数据并按条件检索：在 Python 2.6.x 中运行良好，但在 Python 3.2 中运行良好

> ID：11239821
> 
> 赞同：0
> 
> 时间：2012-06-28T07:21:40.490
> 
> 标签：python, python-3.x, binary-data

我正在阅读也有一些 ASCII 文本的 EXE（大小为 2 MB）。尝试根据匹配的条件检索数据。在 Python 2.6 中，以下代码工作正常（在 2 秒内给我结果），但在 3.2 中却不行。在 Python 3.2 中，它一直运行没有响应。

谢谢...

```
match_str = b"sape"
out= ""
try:
    file_obj = open(exe_filePath,'rb')

    while 1:
        data = file_obj.readline(100)

        if data.count(match_str) > 0:               
            out = data.strip()[9:13]                
        if data=="":
            break

    file_obj.close()
    return out
except:
    file_obj.close()
    raise "Some error occurred" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:44:28.063

```
if data=="":
    break 
```

将永远失败（意味着`break`永远不会发生），因为

```
>>> b"" == ""
False 
```

并且`data`是一个`bytes`对象。

如果您将其更改为

```
if data==b"":
    break 
```

它应该工作。尽管这里还有许多其他问题需要解决（请参阅我对您问题的评论）。

我建议这样做：

```
match_str = b"sape"
with open(exe_filePath,'rb') as file_obj: 
    while True:
        data = file_obj.readline(100)
        if data.count(match_str) > 0:
            # This will overwrite any previous "out" from the last match!
            # Do you really want that?
            out = data.strip()[9:13]
        if data==b"":
            break
return out 
```

# sql-server - 将所有表从 SQL Server 导出到单独的文件中

> ID：11239825
> 
> 赞同：7
> 
> 时间：2012-06-28T07:21:52.237
> 
> 标签：sql-server

我只想从 SQL Server 数据库中提取表结构。但是，如果我使用导出向导正常提取，则只会创建单个文件，但我想为单独的表创建单独的文件。

谁能告诉我如何在 SQL Server 中做到这一点？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-28T07:42:56.283

转到对象资源管理器，选择`Generate Scripts`：

![在此处输入图像描述](../Images/f307f8d35977393933bc3e1dbc9d6fd9.png)

然后选择要编写脚本的对象，并在向导的第二页上选择`Single File Per Object`：

![在此处输入图像描述](../Images/b1c0d0c52524efc62645bc22338f5d6c.png)

运行向导，您将根据需要为每个对象创建一个文件。

# iphone - 在 Objective-C 中，我们如何称呼“[ob 方法]”语法？

> ID：11239832
> 
> 赞同：1
> 
> 时间：2012-06-28T07:22:15.110
> 
> 标签：iphone, objective-c, ios, xcode, ipad

在 Objective-C 中，我看到我们可以使用点运算符来设置和获取一个值，对于相同的任务，我在方括号方法调用中看到了类似“[ob 方法]”的内容，我们对这种语法的调用是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T07:24:17.883

括号符号：闲聊语言的主要内容，现在是 ObjC 语言的可爱外观。

括号是 SmallTalk 的表达方式，“你在那儿，接受这个消息并用它做点什么”，这就是它们在 Objective C 中的实现方式。我们向第一部分 [Object] 发送一条消息，并在第二部分中声明该消息[对象消息]；

当然，它们也具有类似的功能。大多数语言中的属性都是用点表示法 (Object.property) 编写的，但是使用 Objective-C 和现代运行时对非 ivar 支持的属性的支持以及 @synthesize 指令，属性会自动生成名称相同的 getter。听起来很复杂？它不是。如果我有属性示例，那么我可以通过以下两种方式之一访问它：

```
self.example; 
```

或者

```
[self example]; 
```

简单的！

但@synthesize 指令并不止于此。我们得到了一个 getter 和一个*setter*。可以通过与 getter 相同的方式访问 setter。

```
self.example = foo; 
```

相当于

```
[self setExample:foo]; 
```

括号表示法实际上非常重要，以至于编译器在编译时将大多数点表示法优化为括号表示法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:24:37.883

`method`这称为消息传递或消息发送，您正在向对象发送消息`ob`

它类似于在 java 或 C++ 中调用方法

所以java中的等价物是

```
ob.method(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:29:13.170

```
[ob method] 
```

这是你在objective-c中调用方法的方式。`myObject.method()`在 Java por 示例中，您调用 的方式相同。

> ob.myProperty

是如何使用它的 getter/setter 方法访问 ivars，例如：

获取方法 ->`NSLog(@"%@",ob.myProperty);`

设置方法->`ob.myProperty = @"Hello World";`

请注意，您还可以像这样使用 set 方法：

```
[ob setMyProperty:@"Hello World"]; 
```

或者像这样使用 get 方法：

```
NSLog(@"%@",[ob myProperty]); 
```

在 Objective-c 中，您**通常**不会手动创建 setter 和 getter，因为您有机会使用`@property`and创建它们`@synthesize`。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-28T07:34:49.280

这被称为函数调用..

就像你在其他编程语言中调用函数一样，比如在 java 或 c# 中：

```
ob.method() // where ob is object and method is the function name.. 
```

同样，如果您想在目标 c 中调用函数，则调用函数的语法如下：

```
 [ob method]; 
```

# ruby-on-rails - 终结者找不到铁轨

> ID：11239834
> 
> 赞同：0
> 
> 时间：2012-06-28T07:22:18.997
> 
> 标签：ruby-on-rails, terminator

我正在使用 ubuntu 12.04 LTS。我已经通过 rvm 和 rails 成功安装了 ruby​​。我还可以通过连续输入 rails -v,ruby -v 来查看终端中哪个版本的 rails 和 ruby​​。另一方面，我已经安装了终结器我的 ubuntu 和我在输入 rails -v 时遇到了错误消息：当前未安装程序“rails”。您可以通过键入以下命令进行安装： sudo apt-get install rails 当我键入 ruby​​ -v 时，没有错误消息，它会打印版本，没问题。请注意，我已经成功安装了 ruby​​ 和 rails，它可以在终端上正常工作。以下是一些情况图片：

[http://imageshack.us/f/819/screenshotfrom201206281.png/](http://imageshack.us/f/819/screenshotfrom201206281.png/)

[http://imageshack.us/photo/my-images/407/screenshotfrom201206281.png/](http://imageshack.us/photo/my-images/407/screenshotfrom201206281.png/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-16T05:59:52.033

我在使用 rvm 时遇到了同样的问题。要解决它，您应该添加：

```
source ~/.rvm/scripts/rvm 
```

到你的 ~/.bashrc

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-09-08T13:28:28.527

我有一个非常相似的问题。我的 rails 环境中的许多命令都不适用于终结者，以下为我解决了这个问题。

右键单击终结者窗口。**Preferences > Profiles > Command**并选中“ **Run command as login shell** ”

请参阅以下帖子了解为什么会这样[https://askubuntu.com/questions/121073/why-bash-profile-is-not-getting-sourced-when-opening-a-terminal](https://askubuntu.com/questions/121073/why-bash-profile-is-not-getting-sourced-when-opening-a-terminal)

以下是关于 RVM 的 shell 登录的更多见解[https://rvm.io/support/faq#shell_login](https://rvm.io/support/faq#shell_login)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T07:15:26.473

我也像你一样遇到这个问题，rails可以在终端上运行，但不能在终端上运行，我无法解决。所以我使用 tmux 而不是 terminator，它也可以拆分窗口，甚至更强大。

# visual-c++ - 升级项目时发现错误：运算符“=”不明确，“ios”：不是类或命名空间名称

> ID：11239835
> 
> 赞同：0
> 
> 时间：2012-06-28T07:22:21.300
> 
> 标签：visual-c++, compiler-errors, visual-c++-6

以下行在 vc6 中编译良好，但是当我在 vs2008 中升级项目时，我发现了很多错误，但主要是 2 个错误。

```
//open log file
   parent->m_LogFile.open(strFileName, ios::app | ios::out, filebuf::sh_read); 
```

**错误：**错误 C2653：“ios”：不是类或命名空间名称

```
CString CReverseProxy::PutData(CString strData)
{
    CString strSW = "";

    CString strPayload;
    DWORD   dwRet;
    BYTE    SendBuffer[MAX_LEN];
    BYTE    RecvBuffer[MAX_RETURN_SIZE];
    ULONG   ulSendLength = sizeof(SendBuffer);
    ULONG   ulRecLength  = sizeof(RecvBuffer);

    while ((strData.GetLength() / 2) > 255)
    {
        strPayload  = strData.Mid(0, 510);
        strData     = strData.Delete(0, strPayload.GetLength());//error 
```

**错误：**错误 C2593：“操作员 =”不明确。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:31:12.733

第一个问题可能可以通过`std::ios`在您的打开或`using std::ios`文件开头使用来解决。

第二个问题是由`CString::Delete`返回 int 的事实引起的。这绝对不是你想要分配的`strData`，对吧？只需删除分配，无论如何`Delete`都会修改。`strData`

# ios - 无法在视图控制器中创建出口/动作

> ID：11239840
> 
> 赞同：0
> 
> 时间：2012-06-28T07:22:36.127
> 
> 标签：ios, cocoa-touch, uitabbar

我在`UITabBar`对象中有导航控制器。

标签栏 -> 导航控制器 -> 视图控制器。

对于视图控制器内部的对象，我无法创建出口/动作。

你能帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:05:48.210

您是否尝试在情节提要的自定义类下将类设置为您的控制器？

你可以看看这个： [http ://www.raywenderlich.com/5138/beginning-storyboards-in-ios-5-part-1](http://www.raywenderlich.com/5138/beginning-storyboards-in-ios-5-part-1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:16:34.953

您是否在助手编辑器视图中选择了正确的 h 文件？很多时候都是我的问题...

# mysql - 如何在单选查询中进行多个选择查询。

> ID：11239842
> 
> 赞同：1
> 
> 时间：2012-06-28T07:22:38.587
> 
> 标签：mysql, sql

我必须在哪里写一个查询，我需要获取上周、上个月以及所有的记录。对于这个问题，我写了 3 个不同的查询（上周，上个月和所有）

对于每周信息：-

```
SELECT bu.brand_name AS 'Brand_Name',COUNT(s.unique) AS '# Item Sold',SUM(s.price) AS 'Total_Price'
FROM item_details s
LEFT JOIN sales_order o ON s.fk_sales_order = o.id_sales_order 
LEFT JOIN customer_info AS c ON o.fk_customer_id = c.id_customer
LEFT JOIN simple_details cc ON s.unique = cc.unique
LEFT JOIN config_details  cf ON cc.fk_config_id = cf.config_id 
LEFT JOIN brand_details  cb ON cf.fk_brand_id = cb.brand_id 
LEFT JOIN category_details  ctc ON cf.fk_category_id = ctc.category_id 
LEFT JOIN gender_details  g ON cf.fk_gender_id = g.gender_id
LEFT JOIN buyers AS bu  ON bu.brand_name =  cb.name AND bu.category_name = ctc.name AND bu.gender = g.name
WHERE  bu.buyers = 'xyz'  AND DATE_FORMAT(o.created_date,'%Y-%m-%d') >= @weekstartdate AND  DATE_FORMAT(o.created_date,'%Y-%m-%d') <= @weekenddate
GROUP BY bu.brand_name 
```

每月信息：-

```
SELECT bu.brand_name AS 'Brand_Name',COUNT(s.unique) AS '# Item Sold',SUM(s.price) AS 'Total_Price'
FROM item_details s
LEFT JOIN sales_order o ON s.fk_sales_order = o.id_sales_order 
LEFT JOIN customer_info AS c ON o.fk_customer_id = c.id_customer
LEFT JOIN simple_details cc ON s.unique = cc.unique
LEFT JOIN config_details  cf ON cc.fk_config_id = cf.config_id 
LEFT JOIN brand_details  cb ON cf.fk_brand_id = cb.brand_id 
LEFT JOIN category_details  ctc ON cf.fk_category_id = ctc.category_id 
LEFT JOIN gender_details  g ON cf.fk_gender_id = g.gender_id
LEFT JOIN buyers AS bu  ON bu.brand_name =  cb.name AND bu.category_name = ctc.name AND bu.gender = g.name
WHERE  bu.buyers = 'xyz'  AND DATE_FORMAT(o.created_date,'%Y-%m-%d') >= @monthstartdate AND  DATE_FORMAT(o.created_date,'%Y-%m-%d') <= @monthenddate
GROUP BY bu.brand_name 
```

对于所有记录：-

```
SELECT bu.brand_name AS 'Brand_Name',COUNT(s.unique) AS '# Item Sold',SUM(s.price) AS 'Total_Price'
FROM item_details s
LEFT JOIN sales_order o ON s.fk_sales_order = o.id_sales_order 
LEFT JOIN customer_info AS c ON o.fk_customer_id = c.id_customer
LEFT JOIN simple_details cc ON s.unique = cc.unique
LEFT JOIN config_details  cf ON cc.fk_config_id = cf.config_id 
LEFT JOIN brand_details  cb ON cf.fk_brand_id = cb.brand_id 
LEFT JOIN category_details  ctc ON cf.fk_category_id = ctc.category_id 
LEFT JOIN gender_details  g ON cf.fk_gender_id = g.gender_id
LEFT JOIN buyers AS bu  ON bu.brand_name =  cb.name AND bu.category_name = ctc.name AND bu.gender = g.name
WHERE  bu.buyers = 'xyz'  
GROUP BY bu.brand_name 
```

这些工作正常（提供正确的输出）。但问题是，我必须将这三个查询合并为一个。输出应该是品牌名称，item_sold(week)，total_price(week)，item_sold(month)，total_price(month)，item_sold(all)，total_price(all) 我该如何编写这个查询？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:31:39.660

无需深入研究您的代码，显而易见的解决方案是

```
SELECT
    all.brand_name
    pw.items_sold items_sold_week
    pw.total_price total_price_week
    pm.items_sold items_sold_month
    pm.total_price total_price_month
    all.items_sold items_sold_all
    all.total_price total_price_all
FROM
    (your all-time select) all
    JOIN (your per-month select) pm ON all.brand_name = pm.brand_name
    JOIN (your per-week select) pw ON all.brand_name = pw.brand_name 
```

尽管您可能应该重新考虑您的整个方法，并确定您是否真的想要在 DB 层中使用这种逻辑，或者最好是在您的应用程序中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T07:33:28.253

您可以使用`case`将聚合限制为行的子集：

```
select  bu.brand_name
,       count(case when date_format(o.created_date,'%Y-%m-%d') >= @weekstartdate
             and date_format(o.created_date,'%Y-%m-%d') <= @weekenddate 
             then 1 end) as '# Item Sold Week'
,       sum(case when date_format(o.created_date,'%Y-%m-%d') >= @weekstartdate
             and date_format(o.created_date,'%Y-%m-%d') <= @weekenddate 
             then s.price end) as 'Total_Price Week'
,       count(case when date_format(o.created_date,'%Y-%m-%d') >= @monthstartdate
             and date_format(o.created_date,'%Y-%m-%d') <= @monthstartdate
             then 1 end) as '# Item Sold Month'
,       ... 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:30:20.560

如果所有三个选择在结果中使用相同的字段，您可以将它们联合起来：

```
SELECT * 
   FROM  (SELECT 1) AS a
   UNION (SELECT 2) AS b
   UNION (SELECT 3) AS c 
```

如果您需要相互区分周/周一/所有记录 - 只需添加包含“周”或“周一”的常量字段

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T07:31:05.190

您可以在查询之间使用 UNION.keyword 将它们捆绑在一起。但是所有查询中的列类型和序列必须相同。您可以为每个集合添加一个标识符

# vb.net - 网络浏览器控制请求标头

> ID：11239852
> 
> 赞同：0
> 
> 时间：2012-06-28T07:23:10.213
> 
> 标签：vb.net, webbrowser-control

连接到网站后，是否可以从 webbrowser 控件获取请求标头？

我已经环顾四周寻找一些代码，但找不到任何代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T17:03:36.247

您可以为您的进程注册一个异步可插入协议处理程序。有关示例，请参见[http://www.codeproject.com/Articles/18935/The-most-complete-C-Webbrowser-wrapper-control 。](http://www.codeproject.com/Articles/18935/The-most-complete-C-Webbrowser-wrapper-control)

# visual-studio-2010 - 使用我自己的类库 - C#

> ID：11239853
> 
> 赞同：1
> 
> 时间：2012-06-28T07:23:10.593
> 
> 标签：visual-studio-2010, build, projects-and-solutions

我正在同时开发两个项目——一个类库，其中包含我在应用程序中通常想要的东西的类，以及一个使用它的应用程序。由于我希望库可以轻松地被其他应用程序重用（并且实际上是独立的，即使它实际上不会自己*做*任何事情），我已将库和应用程序放在单独的解决方案中。然而，虽然依赖是单向的，但它们共同成长。

我通常在打开多个 Visual Studio 实例的情况下处理这些项目 - 一个用于库，一个用于应用程序，有时一个用于闲逛以尝试新事物的废品项目。

我想拥有它，以便如果我首先构建库（可能需要“发布”开关）然后构建应用程序，则库中的最新更改可在应用程序导入的 dll:s 中获得。

设置这个的好方法是什么？可以用例如 NuGet 来完成吗？如果可以，怎么做？

（如果重要的话，我目前对所有内容都使用默认设置 - 基本上是使用“file->new”创建的两个解决方案。我想尽可能少地改变它，以降低导入库的门槛我的下一个应用程序。）

# cucumber - Guard and Cucumber：当我编辑步骤定义时，我只想运行实现此步骤的功能

> ID：11239855
> 
> 赞同：0
> 
> 时间：2012-06-28T07:23:15.357
> 
> 标签：cucumber, bdd, guard

我已阅读主题[Guardfile 以在子目录中运行单个黄瓜功能？](https://stackoverflow.com/questions/6076399/guardfile-for-running-single-cucumber-feature-in-subdirectory)，这很好用：当我更改一个功能时，只有这个会由守卫运行。

但在另一个方向上它不起作用：当我编辑**任何步骤定义文件**时，总是运行**所有**功能，无论它们是否使用步骤定义文件中的任何步骤。

这不好。我希望至少只运行那些使用编辑文件中的任何步骤的功能；但更好的是，如果guard 可以看到当前正在编辑哪个步骤，然后只运行使用此特定步骤的功能。

我猜，第一个不应该那么难完成；第二个似乎是一厢情愿的想法......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T22:48:22.617

要掌握 Guard 并针对您的项目和自己的需求进行完美设置，您必须相应地更改`Guardfile`和配置您的[观察者](http://rubydoc.info/github/guard/guard/master/Guard/Watcher)。每个 Guard 插件附带的模板会尝试匹配对大多数用户最有用的行为，这可能与您的个人偏好不同。

每个 Guard 插件都以`guard`DSL 方法开头，后跟一个用于配置 Guard 插件的选项哈希。不同的 Guard 插件的选项通常不同，您必须查阅插件[自述](https://github.com/guard/guard-cucumber)文件以获取更多信息。

在`guard`块之间，`do ... end`您通常配置您的观察者。必须使用[RegExp](http://www.ruby-doc.org/core-1.9.3/Regexp.html)定义观察者，描述要观察的文件。我使用[Rubular](http://rubular.com/)来测试我的观察者，您可以粘贴从输出中复制的当前功能，`find features`以获得真实文件来测试您的 RegExp。

线

```
watch(%r{features/.+\.feature}) 
```

例如监视文件`features`夹中以 . 结尾的所有文件`.feature`。由于没有提供给观察者的块，匹配的文件不加修改地传递给 Guard::Cucumber 以运行。

观察者

```
watch(%r{features/support/.+})          { 'features' } 
```

匹配`features/support`目录中的所有文件，并且因为块总是返回`features`，所以每次支持目录中的文件更改时，`features`都会传递给 Guard::Cucumber，因此所有功能都会被执行。

最后一行

```
watch(%r{features/step_definitions/(.+)_steps\.rb}) do |m| 
  Dir[File.join("**/#{m[1]}.feature")][0] || 'features'
end 
```

监视以目录结尾的每个文件，`_steps.rb`并`features/step_definitions`尝试匹配步骤定义的功能。请注意 RegExp 中的括号`features/step_definitions/(.+)_steps\.rb`。这定义了一个匹配组，稍后在您的观察程序块中可用。例如，一个步骤定义`features/step_definitions/user_steps.rb`将匹配，第一个匹配组 ( `m[1]`) 将包含值`user`。

现在我们尝试[在](http://ruby-doc.org/core-1.9.3/Dir.html#method-c-5B-5D)所有`**`名为`user.feature`. 如果是这种情况，则运行第一个匹配文件 ( `[0]`)，或者如果您没有找到任何内容，则运行 all `features`。

所以看起来你命名的步骤与默认的 Guard::Cucucmber Guardfile 所期望的不同，这完全没问题。只需更改观察者以匹配您的命名约定。

# android - 如何使用android发送flash消息

> ID：11239856
> 
> 赞同：1
> 
> 时间：2012-06-28T07:23:19.293
> 
> 标签：android, sms

我正在使用代码发送短信：

```
SmsManager sms = SmsManager.getDefault();
sms.sendTextMessage(phoneNumber, null, message, sentPI, deliveredPI); 
```

它工作正常并成功发送标准短信，该短信自动保存在收件人移动收件箱中。

我想将 SMS 作为 flash（通知）SMS 发送。我的意思是消息应该立即显示在收件人的移动屏幕上，而不是存储。

请告诉我我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-11T05:25:04.553

为了发送 Flash SMS，使用的调制解调器应该与发送 Flash 消息兼容。

尝试发送 AT+CMGF？命令。这将读取调制解调器为命令 CMGF 消息格式存储的值

如果 AT+CMGF？返回 0 即处于 PDU 模式（使用整个 TP 数据单元）

那么它是兼容的

否则，如果它返回 1，则它处于文本模式（其中消息的正文及其标头作为单独的参数给出）

# ios - 在 iOS 中创建复杂 PDF 的最简单方法是什么？

> ID：11239859
> 
> 赞同：1
> 
> 时间：2012-06-28T07:23:26.750
> 
> 标签：ios, xcode4, uiwebview, quartz-2d

我正在尝试以 PDF 格式生成一些复杂的发票数据。我知道两种技术：-

1.  通过 UIWebView 将 Data 转换为 HTML 数据并相应地生成其 PDF。但是，当数据大小较长时，如果缩放，则会出现显示数据模糊或不可读的问题。因为它实际上首先从 HTML 数据创建图像并生成 pdf。

2.  使用 Ray-Wenderlich 教程中提到的 QuartzCore 技术：- [http://www.raywenderlich.com/6818/how-to-create-a-pdf-with-quartz-2d-in-ios-5-tutorial-part-2](http://www.raywenderlich.com/6818/how-to-create-a-pdf-with-quartz-2d-in-ios-5-tutorial-part-2)

除了以上两种，还有什么办法吗？在第一种技术中是否有可能将 UIWebView 中的数据作为基于矢量的方式获取，以便在缩放时不会模糊数据？

提前致谢， 维维克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T11:48:20.043

使用教程中描述的 Quartz 2D 框架。您不想从 html 创建像素图像，因为它不会缩放并且会变大。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T12:10:45.943

您可以使用具有多个部分的表格视图来创建发票并将其转换为图像（uiview----> image），然后将该图像打印为 pdf（image--->pdf）。

# html - 哪里可以无限制地托管大文件？

> ID：11239878
> 
> 赞同：1
> 
> 时间：2012-06-28T07:24:28.113
> 
> 标签：html, video, hosting

我正在寻找一种在外部托管 MP4、OGG 和 WEMB 电影（HTML5 视频）（每个都像 5-15MB 大）的方法。

你能推荐一些像 Dropbox 这样的免费服务吗？不幸的是，Dropbox 有带宽限制，我希望能够每天向至少 100-200 人播放这些电影。

你能推荐任何服务吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:27:45.650

[优酷](http://www.youtube.com/)。它为此而建。

[（我不开玩笑）]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-15T16:08:40.333

为此，我使用 Amazon S3 取得了很好的效果。只需确保选中 S3 仪表板中使文件公开的小框即可。

# android - 为什么在大多数 Android 日志记录代码中使用 TAG

> ID：11239882
> 
> 赞同：5
> 
> 时间：2012-06-28T07:24:38.197
> 
> 标签：android

我可以看到这是 Android 开发人员的常见做法。

```
public final class TasksSample extends ListActivity {
    private static final String TAG = "TasksSample";
    private void method() {
        Log.i(TAG, "message");
    }
} 
```

如果我这样做会更容易吗？我不需要为每个新类声明 TAG。

```
public final class TasksSample extends ListActivity {
    private void method() {
        Log.i(getClass().getName(), "message");
    }
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-28T07:29:08.893

`getClass().getName()`与其在特定活动中放置日志的每个地方都写，不如总是首选一个`TAG`代表活动类名称的名称。

`Why use TAG?`

当您运行您的应用程序时，其中可能有多个 Activity 类。为了区分哪个活动类记录了信息，`logcat`我们使用`TAG`当然代表类的名称。

编写 TAG 的正确方法（我并不是说您写的内容是错误的）是：

```
private static final String TAG = TasksSample.class.getSimpleName(); // and not "TasksSample" 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-01-11T06:35:48.283

以前的每个答案都是正确的，但我只想添加一点评论。

```
private static final String TAG = TasksSample.class.getSimpleName(); 
```

或者

```
private static final String TAG = "TasksSample" 
```

后者在您使用时使用`proguard`。如您所知，`proguard`混淆了类名，它也会影响日志。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:27:33.060

每次调用一个函数都会产生费用，并且`getClass().getName()`每次将某些内容登录到系统时都会调用 2 个函数（一个已经很长的过程）。

因此，最好将标签保存为 a`final static String`而不是一遍又一遍地调用相同的函数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T07:45:21.813

是的，这是一种常见的做法，并且 Google 支持进行日志记录和调试。如果您使用，那么您必须每次`getClass().getName()`都调用，因此使用 TAG 是一种更好的方法。`getClass().getName()`

实际上`getClass().getName()`返回类名，其中 TAG 表示您的类的易于理解的名称/标识。

# java - “发现 1 个死锁”但跟踪显示没有被任何线程锁定

> ID：11239883
> 
> 赞同：6
> 
> 时间：2012-06-28T07:24:42.097
> 
> 标签：java, multithreading, thread-safety, jvm, deadlock

JVM 告诉我发生了死锁：

```
Found one Java-level deadlock:
=============================
"TP-Processor107":
  waiting for ownable synchronizer 0x00002aaaf58e70f0, (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync),
  which is held by "indexTrackerThread3"
"indexTrackerThread3":
  waiting for ownable synchronizer 0x00002aaaf4394580, (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync),
  which is held by "TP-Processor16"
"TP-Processor16":
  waiting for ownable synchronizer 0x00002aaaf58e70f0, (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync),
  which is held by "indexTrackerThread3" 
```

我们可以看到它`indexTrackerThread3`正在等待由 持有的资源`TP-Processor16`，反之亦然。这确实是一个僵局。

我们可以看到`indexTrackerThread3`正在等待`0x00002aaaf4394580`：

```
"indexTrackerThread3":
    - parking to wait for  <0x00002aaaf4394580> 
```

**我的问题：**

在[线程转储](http://pastebin.com/59e7yHus)中，为什么没有行`- locked <0x00002aaaf4394580>`？

似乎 0x00002aaaf58e70f0 实际上没有被任何线程锁定。什么可以锁定它？

在我读过的所有死锁文档（[示例](http://javahowto.blogspot.jp/2011/08/example-of-java-thread-deadlock.html)）中，对于每一`- parking to wait for <0x123>`行，总是有`- locked <0x123>`一行。所以我开始怀疑是 JVM 错误。我是不是误会了什么？

*注意：很抱歉链接到 pastebin，但如果没有完整的转储，这个问题是无法回答的。为简洁起见，我删除了所有包含“at”的行，它们不包含任何锁定信息。*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T07:31:29.890

java.util.concurrent 包利用了语言外的本地停放机制（以及其他本地机制，例如原子比较和交换）。[你可以在这里](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/misc/Unsafe.java#Unsafe.park%28boolean%2Clong%29)看到我在说什么。

您描述的通常出现在线程转储中的模式源于经典的 Java 习惯用法`synchronized(lock) { lock.wait(); }`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:29:33.390

Marko Topolnik 的回答是正确的。

至于您的问题的解决方案，[JProfiler](http://www.ej-technologies.com/products/jprofiler/overview.html)将向您显示一个完整的线程图和监视器，以了解涉及 java.util.concurrent 包中的锁的锁定情况。

免责声明：我公司开发JProfiler

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:22:25.610

不同的东西会导致 java 线程死锁，监视器，也就是 synchronized 关键字，只是一回事。

[锁可以是内置对象监视器、可拥有的同步器或与同步器关联的 Condition 对象。](http://download.java.net/jdk8/docs/api/java/lang/management/LockInfo.html)

您还可以深入了解 ThreadMXBean.findDeadlockedThreads 和 ThreadMXBean.findMonitorDeadlockedThreads 的定义以获取更多信息。

就我而言，它是监视器锁定和 java 5 锁定。

在线程转储中，`waiting to lock <0x123>`and`locked <0x123>`组合仅用于监视器锁定。使用 java 5 锁定，您只能获得第一部分。类似的东西`parking to wait for <0x456>`。然后您在线程转储中搜索一些 0x456，但无处可寻。这令人困惑。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-28T14:09:12.357

此类死锁的线程转储分析的复杂性主要是由于使用了 java.util.concurrent 包。这是为了摆脱传统的同步 Java 对象的侵入性方式。例如，当您希望将 WRITE 操作限制为单个 Thread 模型同时允许并发 READ 操作时，此包非常有用。从性能调优的角度来看，这种方法非常棒，副作用是在处理并发问题时增加了线程转储分析过程的复杂性。

我建议您也查看以下文章。它描述了诸如[隐藏的 Java 死锁](http://javaeesupportpatterns.blogspot.com/2013/01/java-concurrency-hidden-thread-deadlocks.html)场景等问题，其中 JVM 甚至无法检测到死锁（由于 READ 锁通常没有设计为具有所有权概念）。示例 Java 程序作为示例提供。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-23T16:30:06.500

堆栈跟踪显示 0x00002aaaf4394580 未被任何线程锁定。这可能是由于[Java 错误 #6822370 造成](http://bugs.java.com/view_bug.do?bug_id=6822370)的。这一观察结果应该为[投票的答案](https://stackoverflow.com/a/11239991/203860)增加封闭性。

# ruby - Ruby yaml 自定义域类型不保留类

> ID：11239884
> 
> 赞同：6
> 
> 时间：2012-06-28T07:24:50.663
> 
> 标签：ruby, yaml

我正在尝试将持续时间对象（从[ruby​​-duration gem](https://github.com/peleteiro/ruby-duration)）转储到具有自定义类型的 yaml 中，因此它们以`hh:mm:ss`. 我试图修改[这个问题](https://stackoverflow.com/questions/4318253/custom-to-yaml-and-domain-type)的答案，但是当使用 YAML.load 解析 yaml 时，会返回一个 Fixnum 而不是 Duration。有趣的是，Fixnum 是持续时间的总秒数，因此解析似乎有效，但之后转换为 Fixnum。

到目前为止我的代码：

```
class Duration
  def to_yaml_type
    "!example.com,2012-06-28/duration"
  end

  def to_yaml(opts = {})
    YAML.quick_emit( nil, opts ) { |out|
      out.scalar( to_yaml_type, to_string_representation, :plain )
    }
  end

  def to_string_representation
    format("%h:%m:%s")
  end

  def Duration.from_string_representation(string_representation)
    split = string_representation.split(":")
    Duration.new(:hours => split[0], :minutes => split[1], :seconds => split[2])
  end
end

YAML::add_domain_type("example.com,2012-06-28", "duration") do |type, val|
  Duration.from_string_representation(val)
end 
```

为了澄清，我得到了什么结果：

```
irb> Duration.new(27500).to_yaml
=> "--- !example.com,2012-06-28/duration 7:38:20\n...\n"
irb> YAML.load(Duration.new(27500).to_yaml)
=> 27500
# should be <Duration:0xxxxxxx @seconds=20, @total=27500, @weeks=0, @days=0, @hours=7, @minutes=38> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-19T18:11:33.003

看起来您使用的是较旧的 Syck 界面，而不是较新的 Psych。您可以使用, 而不是使用`to_yaml`and ，而不是使用and 。（这方面的文档很差，我能提供的最好的是[源链接](https://github.com/tenderlove/psych/blob/master/lib/psych/coder.rb)）。`YAML.quick_emit``encode_with``add_domain_type``add_tag``init_with`

```
class Duration
  def to_yaml_type
    "tag:example.com,2012-06-28/duration"
  end

  def encode_with coder
    coder.represent_scalar to_yaml_type, to_string_representation
  end

  def init_with coder
    split = coder.scalar.split ":"
    initialize(:hours => split[0], :minutes => split[1], :seconds => split[2])
  end

  def to_string_representation
    format("%h:%m:%s")
  end

  def Duration.from_string_representation(string_representation)
    split = string_representation.split(":")
    Duration.new(:hours => split[0], :minutes => split[1], :seconds => split[2])
  end
end

YAML.add_tag "tag:example.com,2012-06-28/duration", Duration

p s = YAML.dump(Duration.new(27500))
p YAML.load s 
```

输出是：

```
"--- !<tag:example.com,2012-06-28/duration> 7:38:20\n...\n"
#<Duration:0x00000100e0e0d8 @seconds=20, @total=27500, @weeks=0, @days=0, @hours=7, @minutes=38> 
```

（您看到的结果是 Duration 中的总秒数是因为它被解析为[六十进制整数](http://yaml.org/type/int.html)。）

# c# - c# 2008 中网站的密码策略设置

> ID：11239886
> 
> 赞同：-3
> 
> 时间：2012-06-28T07:24:53.343
> 
> 标签：c#, passwords

我有一个 Web 应用程序`c# 2008`。

我被分配了一项任务来为此网站设置密码策略。

该政策是

*   第一个字符是大写
*   第二个字符是小写
*   字符是“特殊字符”
*   第 4 到第 8 个字符是随机数字
*   密码正好是 8 个字符
*   密码应在 6 个月后过期

我无法弄清楚这一点。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:51:23.700

如果您想做到“正确”且正确，请选择正则表达式。如果您对他们没有任何经验，如果紧急，请忘记它。

取而代之的是快速而肮脏的方式。这是未经测试的伪代码：

```
if (password.Length == 8)
{
   check password[0] for upper case
   check password[1] for lower case
   check password[2] for special char
   check password[3] && password[7] for "random digits"
   //return false, throw error, whatever you want in the case of any failures.
}
else
{
   return error "your password is too short"
} 
```

不确定要如何使密码在 6 个月后过期。如果您将密码视为具有“到期日期”字段的自定义类，并且您只需要 6 个月后，只需使用 MyPassword.ExpirationDate = DateTime.Now.AddMonths(6);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:32:25.520

在这里问它而不尝试任何东西不是一个好习惯。听起来你正试图让别人完成你的工作。我可以建议你应该做的方式，而不是提供代码。

您可以使用正则表达式来做到这一点。你可以搜索它。有很多资源。你应该构造一个正则表达式来检查你想要的约束，除了密码过期。您应该检查数据库上的密码过期时间。您可以定义一个在每个午夜工作的作业，它将检查密码数据库并检测过期的密码。

# c# - ASP.NET WebApi SelfHost 服务在 HTTP URL 注册上失败

> ID：11239890
> 
> 赞同：7
> 
> 时间：2012-06-28T07:25:25.357
> 
> 标签：c#, wcf, azure, asp.net-web-api, wcf-web-api

我正在尝试使用新的 Microsoft.AspNet.WebApi.SelfHost NuGet 包在 Azure 辅助角色上托管 ASP.NET WebApi 端点。我的工作人员的 Run() 代码大致如下所示：

```
// Endpoint is defined as in ServiceDefinition.csdef as 
//   HTTP, external port 8080, internal port 8080 (or 8081 - error both ways)
RoleInstanceEndpoint externalEndPoint =
    RoleEnvironment.CurrentRoleInstance.InstanceEndpoints["Endpoint"]; 
string baseAddress= String.Format("http://{0}", externalEndPoint.IPEndpoint);
var maxsize = 1024 * 1024;  
var config = new HttpSelfHostConfiguration(baseAddress) 
{ 
    MaxBufferSize = maxsize, MaxReceivedMessageSize = maxsize 
};
config.Routes.MapHttpRoute(
    name: "DefaultApi",
    routeTemplate: "api/{controller}/{id}",
    defaults: new { id = RouteParameter.Optional }
);

// Create and open the server
var server = new HttpSelfHostServer(config);
server.OpenAsync().Wait();

// keep the worker thread alive
while (true)
    Thread.Sleep(Timeout); 
```

这在开发结构中运行良好，但是在部署到 Azure 时，我从 server.OpenAsync() 调用中获得了 AggregateException，其中包含以下异常堆栈：

```
[0] One or more errors occurred.
[1] HTTP could not register URL http://+:8081/. Your process does not have access rights to this namespace (see http://go.microsoft.com/fwlink/?LinkId=70353 for details).
[2] Access is denied 
```

我只是在扮演一个普通的工人角色，这似乎是自我主机的“你好世界”......

我的 ServiceDefinition.csdef 的端点部分如下所示：

```
<Endpoints>
  <InputEndpoint name="Endpoint" protocol="http" port="8080" localPort="8081" />
</Endpoints> 
```

我从 RoleEnvironment InstanceEndpoint 获得的 baseAddress 看起来合法 - http://10.115.[X].[Y]:8081

无论我使用相同的端口/本地端口（8080）还是进行映射时，我都会看到失败，就像上面一样。

很明显，可以以这种方式在辅助角色中托管传统的 WCF 服务 - 为什么 ASP.NET WebApi SelfHost 在这种配置中不起作用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T16:54:39.993

默认情况下，RoleEntryPoint 在非常低权限的用户帐户下运行以确保安全。如错误所示，由于这些权限，它无法保留该端口。您在这里有两个选择：

1.  通过将 Runtime 元素添加到您的角色定义（即`<Runtime executionContext="elevated"/>`），以 SYSTEM 身份运行 Worker 进程。
2.  创建一个运行提升的启动脚本并为您保留该端口。

对于玩耍（以及如果是权限问题进行故障排除），执行 #1 是一种快速测试它的方法。

编辑：在进行通配符保留时，我似乎想起了 WCF 和 Windows Azure 的权限问题。使用完整主机名时它曾经工作正常，例如

```
host.AddServiceEndpoint(
 typeof(IEchoService), new BasicHttpBinding(BasicHttpSecurityMode.None) { HostNameComparisonMode = HostNameComparisonMode.Exact }, "echo"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T21:41:46.163

经过半天的开发实验，尝试从提升的启动脚本调用 netsh.exe 无济于事，我放弃了，最终使用了大锤子，并接受了 Ryan 最初的建议，即提升整个工作角色的运行：

```
<WorkerRole name="WorkerRole" vmsize="ExtraSmall">
  <Runtime executionContext="elevated">
  </Runtime>
</WorkerRole> 
```

这解决了所有问题。

作为参考，这是我尝试允许非提升用户帐户进行 HTTP 注册的方式（这从未真正起作用）：

在 ServiceDefinition.csdef 中：

```
<Startup>
  <Task executionContext="elevated" commandLine="startup\Install.cmd">
    <Environment>
      <Variable name="ENDPOINTPORT ">
        <RoleInstanceValue xpath="/RoleEnvironment/CurrentInstance/Endpoints/Endpoint[@name='Endpoint']/@port" />
      </Variable>
    </Environment>
  </Task>
</Startup>
<Endpoints>
  <InputEndpoint name="Endpoint" protocol="http" port="8080" localPort="8080" />
</Endpoints> 
```

在启动脚本中（在我的例子中是 startup\Install.cmd）：

```
netsh.exe http add urlacl url=http://+:%ENDPOINTPORT%/api user=everyone listen=yes delegate=yes 
```

这基本上是在 AspNetWebApi 上工作的好人推荐的解决方案（只是他们[在此处](http://code.msdn.microsoft.com/windowsazure/WCF-Azure-Worker-Role-on-b394df49)推荐的一种更短的方法），但不幸的是它对我不起作用 - 而 netsh 命令成功执行并且我能够验证我自托管的 URL (http://+:8080/api/) 上的 urlacl 是由 \Everyone 允许的，我仍然遇到相同的权限错误。如果有人在运行非提升的工人角色时弄清楚如何使这项工作，请发布！

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-09-16T09:20:24.223

将引用“System.ServiceModel”添加到您的项目并使用“config.HostNameComparisonMode = System.ServiceModel.HostNameComparisonMode.Exact;” 您没有获得管理员权限异常（访问被拒绝）。

# javascript - 默认 $resource POST 数据

> ID：11239892
> 
> 赞同：15
> 
> 时间：2012-06-28T07:25:29.943
> 
> 标签：javascript, angularjs

这可能很奇怪，但我需要使用模块的工厂方法为我的 $resource 指定一些默认的 POST 数据。

有谁知道如何在 AngularJS 中做到这一点？

编辑 ：

好吧，我想做这样的事情：

```
/**
 * 模块声明。
 * @type {对象}
 */
var services = angular.module("services", ["ngResource"]);

/**
 * 产品处理服务
 */
services.factory("产品", function($resource) {
    返回 $resource("http://someUrl", {}, {
        获取：{方法：“GET”，参数：{productId：“-1”}}，
        更新：{方法：“POST”，参数：{}，*数据：{someDataKey：someDataValue}* }
    });
});
```

其中 data 是我未来 POST 请求的默认数据。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-25T23:25:08.347

这并不是真正的角度方式来做这样的事情，因为如果你这样做，你会失去数据的一致性，并且它不会反映在你的模型中。

**为什么？**

资源工厂创建对象并将对象实例数据用作 POST。我查看了文档和 angular-resource.js，似乎没有办法在不修改 angular-resource.js 的情况下为资源创建的对象指定任何默认自定义属性。

你可以做的是：

```
services.factory("Product", function($resource) {
    return $resource("http://someUrl", {}, {
        get   : {method: "GET", params: {productId: "-1"}},
        update: {method : "POST"}
    });
}); 
```

在你的控制器中：

```
$scope.product = {}; // your product data initialization stuff
$scope.product.someDataKey = 'someDataValue'; // add your default data

var product = new Product($scope.product);
product.$update(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-26T09:01:48.990

我认为这取决于您如何调用更新功能。如果您阅读 Angular 主页的教程，在“连接后端”下，mongolab.js 提供了一个“项目”工厂。逐字复制：

```
angular.module('mongolab', ['ngResource']).
factory('Project', function($resource) {
  var Project = $resource('https://api.mongolab.com/api/1/databases' +
      '/angularjs/collections/projects/:id',
      { apiKey: '4f847ad3e4b08a2eed5f3b54' }, {
        update: { method: 'PUT' }
      }
  );

  Project.prototype.update = function(cb) {
    return Project.update({id: this._id.$oid},
        angular.extend({}, this, {_id:undefined}), cb);
  };

  Project.prototype.destroy = function(cb) {
    return Project.remove({id: this._id.$oid}, cb);
  };

  return Project;
}); 
```

用法是你首先得到一个Project的实例：

```
project = Project.get({id:1}); 
```

然后在进行一些更改后进行更新：

```
project.update(someFunction); 
```

在您的情况下，您可以更改更新以始终添加您需要的数据：

```
Product.prototype.update = function(cb) {
  return Product.update({},
      angular.extend({}, this, {someDataKey: someDataValue}), cb);
}; 
```

否则，您很可能会将键/值对放在参数中：

```
 update: {method : "POST", params:{someDataKey: someDataValue}} 
```

它将与 URL 中的键/值对一起发布，但现在大多数应用服务器都会将该对放入 params 对象中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-08-16T00:43:09.923

我认为大多数人都错过了[此处](https://docs.angularjs.org/api/ngResource/service/$resource)文档中的一个小宝石。

```
non-GET "class" actions: Resource.action([parameters], postData, [success], [error]) 
```

这表明您可以执行以下操作。

```
var User = $resource('/user');
postData = { name : 'Sunil', 'surname' : 'Shantha' };

var user = User.save({notify:'true'}, postData, function() {
  // success!
}); 
```

执行保存操作（发布）时的第二个参数是发布数据。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T13:56:24.527

包装器功能将起作用。

```
function myPost(data) {
  return $http.post('http://google.com', angular.extend({default: 'value'}, data))
}

myPost().success(function(response) { ... }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-29T11:13:30.520

这可以解决您的问题吗？

```
services.factory("Product", function($resource) {
  return $resource("http://someUrl", {}, {
    get   : {method: "GET", params: {productId: "-1"}},
    update: {method : "POST", params:{}, data: {someDataKey: someDataValue}}
  });
});
services.factory("DefaultProduct", function(Product) {
  return function(){
     return new Product({
        data:"default";
     });
  };
});
services.controller("ProductCTRL",function($scope,DefaultProduct){
  $scope.product = new DefaultProduct();
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-05-01T02:49:55.037

您可以[将](http://docs.angularjs.org/api/angular.extend)您的参数与默认值合并。默认对象将提供所有**不可**用的内容。`params`所有可用的内容都将被覆盖`myParams`

```
services.factory("Product", function($resource) {
    return $resource("http://someUrl", {}, {
        get   : {method: "GET", params: {productId: "-1"}},
        update: {method : "POST", params:angular.extend(myDefault, myParams);}
    });
}); 
```

`myParams`您的变量列表和`myDefault`作为 json 对象的默认值在哪里。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-04-06T17:02:21.280

您可以使用*transformRequest*选项为您的*$resource*使用*POST*方法的操作设置请求的默认字段。

例如像这样

```
function prependTransform(defaults, transform) {

 // We can't guarantee that the default transformation is an array
 defaults = angular.isArray(defaults) ? defaults : [defaults];

 // Append the new transformation to the defaults
 return [transform].concat(defaults);
}

ctrl.factory('MyResource', ['$resource', '$http',
function($resource, $http) {
    return $resource('/path/to/myresource/:id', {id : '@id'},
           { 
               create : {
                   method : 'POST',
                   transformRequest : prependTransform($http.defaults.transformRequest,
                      function(data, headers) {
                           return addDefaultField(data);
                      }
                  ),
               },
           });
    }
]); 
```

# iphone - 消息：预期标识符

> ID：11239894
> 
> 赞同：0
> 
> 时间：2012-06-28T07:25:34.310
> 
> 标签：iphone, objective-c

为什么会出现这个错误？我认为我已经关闭了所有括号。这是代码：

```
 int i=0;

    while(i<count){

    if([[ageMatch rangeOfString:age].location != NSNotFound] && [[glassesSex rangeOfString:gender].location !=NSNotFound] && [[faceMatch rangeOfString:shape].location != NSNotFound]  ){ //Expected identifier
            [arrayNuovo insertObject:dictionary atIndex:i];

        }
        i++;
     } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:28:41.250

你应该改变

```
if([[ageMatch rangeOfString:age].location != NSNotFound] && [[glassesSex rangeOfString:gender].location !=NSNotFound] && [[faceMatch rangeOfString:shape].location != NSNotFound]  ) 
```

到

```
 if([ageMatch rangeOfString:age].location != NSNotFound && 
    [glassesSex rangeOfString:gender].location !=NSNotFound && 
    [faceMatch rangeOfString:shape].location != NSNotFound  ) 
```

当您进行布尔测试时，您会喜欢`[string rangeOfString:age].location != NSNotFound`并且不要将它们包含在 [ 和 ] 中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:36:41.107

使用此代码

> ```
> while(i < count){
> if(([ageMatch rangeOfString:age].location != NSNotFound) && ([glassesSex rangeOfString:gender].location !=NSNotFound) && ([faceMatch rangeOfString:shape].location != NSNotFound)  ){ //Expected identifier
>         [arrayNuovo insertObject:dictionary atIndex:i];
>             }
>     i++;
> } 
> ```

# iphone - 在我的设备中安装应用程序时出错

> ID：11239897
> 
> 赞同：1
> 
> 时间：2012-06-28T07:25:53.010
> 
> 标签：iphone, ios5, xcode4

当我在 iPhone/iPad 上安装我的应用程序时出现错误。应用程序在模拟器中正常运行。

错误信息

无法向引导服务器注册 com.spaceo.pushnotificationtest。错误：未知错误代码。这通常意味着该进程的另一个实例已经在运行或挂在调试器中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:29:00.720

好的，由于某些错误，您的设备在之前的安装中处于调试模式。您需要重新启动设备并在 xcode 中清理项目以在您的设备中安装应用程序 `This generally means that another instance of this process was already running or is hung in the debugger`此语句清楚地说明了错误所在，因此请重新启动设备并重试

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:29:55.417

我也收到此错误，重新启动我的设备可以解决问题。

# ruby-on-rails - 无法将应用程序部署到heroku

> ID：11239902
> 
> 赞同：0
> 
> 时间：2012-06-28T07:26:11.597
> 
> 标签：ruby-on-rails, windows, heroku

好心人，请帮忙。

为什么我的文件在命令“git add.”之后没有添加？

我无法推送文件，出现错误：

```
 $ git push heroku master
         Warning: Permanently added the RSA host key for IP address '50.19.85.154' to the
        list of known hosts.
        Counting objects: 2, done.
        Writing objects: 100% (2/2), 200 bytes, done.
        Total 2 (delta 0), reused 0 (delta 0)
        -----> Heroku receiving push
        !     Heroku push rejected, no Cedar-supported app detected

        To git@heroku.com:simple-rain-7316.git
        ! [remote rejected] master -> master (pre-receive hook declined)
        error: failed to push some refs to 'git@heroku.com:simple-rain-7316.git' 
```

或者向我推荐另一台 Windows 上的 Rails 服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:39:37.363

您的 git 遥控器正在使用 ssh 协议。

首先，您需要创建一个 ssh 密钥对 (ssh-keygen)，然后登录到 heroku (heroku login)，将您的公钥上传到 heroku (heroku keys:add)，然后再次尝试推送。

# mysql - 使用单个查询从一个表中获取行，并参考具有来自另一个表的数据列表的行

> ID：11239903
> 
> 赞同：0
> 
> 时间：2012-06-28T07:26:12.737
> 
> 标签：mysql

我有一个表*tblA*有 feilds *a1*，*a2*有以下数据

```
a1        a2

1       1,2,3

2       4,5

3       6,7,8,9 
```

另一个表*tblB*具有字段*b1*，*b2*和以下数据

```
b1          b2

1         b2a

2         b2b

3         b2c

4         b2d

5         b2e

6         b2f

7         b2g

8         b2h

9         b2i 
```

现在，参考*tblA中的**a2*字段和tblB 中的*b1*字段，我们必须从*tblB中获取**b2*字段的*数据*

 ***我使用了以下查询

```
SELECT b2 FROM tblB WHERE b1 IN (SELECT a2 FROM tblA WHERE a1 = 1) 
```

这仅获取了一行 1，即数据为 b2a

但我需要像这样的数据列表

b2a

b2b

b2c

请帮助我找到正确的解决方案。需要注意的一件事是我需要一个查询来获取数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:30:50.597

你需要使用`FIND_IN_SET`. *[文档](http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_find-in-set)*

```
SELECT b2 FROM tblB WHERE FIND_IN_SET(b1, (SELECT a2 FROM tblA WHERE a1 = 1)) != 0 
```***

# c# - ZedGraph 减少标签和轴标签之间的距离？

> ID：11239904
> 
> 赞同：1
> 
> 时间：2012-06-28T07:26:14.437
> 
> 标签：c#, customization, zedgraph

如何减少图表标签和轴标签之间的距离？ ![在此处输入图像描述](../Images/a734a75d249977ac7c53d5af0b49a455.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T08:08:15.303

您可以使用感兴趣轴的`TitleGap`属性`GraphPane`和`Scale.LabelGap`属性。

例如：

```
zedGraphControl1.GraphPane.TitleGap = 0f;
zedGraphControl1.GraphPane.XAxis.Scale.LabelGap = 0f;
zedGraphControl1.GraphPane.YAxisList[0].Scale.LabelGap = 0f; 
```

将生成下图，其中标题和比例标签的间隙减少到零：

![零差距](../Images/84a32d7fad0c2d4ae82375fd31f47448.png)

差距在图表窗格的分数中给出（我认为）。你可能想试试这个......

此外，您可以将 的`Margin`属性更改`GraphPane`为将窗格的边距控制为父控件，例如：

```
zedGraphControl1.GraphPane.Margin.Top = 0f; 
```

# java - 尝试通过 https 调用服务时出现异常

> ID：11239907
> 
> 赞同：0
> 
> 时间：2012-06-28T07:26:26.417
> 
> 标签：java, android, sslexception

我正在尝试从 http 调用中解析 JSON，并且我已经成功完成了它。但是当我尝试从 https 解析相同的数据时，它给了我以下异常......

> 06-28 12:23:37.629: W/System.err(3987): javax.net.ssl.SSLPeerUnverifiedException: 没有对等证书

有人可以帮我理解什么是错的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:52:27.673

这里的问题不是解析 json，而是缺少适当的证书。

[这](http://javaskeleton.blogspot.co.uk/2010/07/avoiding-peer-not-authenticated-with.html)可能会帮助你。

# jquery-mobile - BackboneJS 和 jQuery Mobile。过渡和显示/隐藏元素

> ID：11239909
> 
> 赞同：0
> 
> 时间：2012-06-28T07:26:38.977
> 
> 标签：jquery-mobile, backbone.js

我正在使用[http://coenraets.org/blog/2012/03/using-backbone-js-with-jquery-mobile/](http://coenraets.org/blog/2012/03/using-backbone-js-with-jquery-mobile/)使 BackboneJS 与 jQuery mobile 一起工作。但是有一些地方可以改进

```
$(document).bind("mobileinit", function () {
    $.mobile.ajaxEnabled = false;
    $.mobile.linkBindingEnabled = false;
    $.mobile.hashListeningEnabled = false;
    $.mobile.pushStateEnabled = false;
}); 
```

但是，当我从一个页面导航到另一个页面时，这会删除很好的默认 jquery 移动转换。基本上，我想使用 Backbone 进行页面导航，但保留 jquery 移动转换

* * *

另一件事是，如何根据我所在的页面显示隐藏元素。我目前所做的是在`render`我的`Backbone.View`通话`$(...).show()/.hide()`中，绝对不优雅。在 jQuery mobile 中，我需要复制页眉和页脚，并且只需改变元素（如果我没记错的话）以在不同的视图上显示不同的元素。一个例子是：每当我不在家/应用程序的根目录时，我想在我的标题栏上显示后退和主页按钮......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T14:37:28.010

而不是将 JQM 修改为“禁用它的路由”，这样您就可以使用主干.js 的路由，您可能想尝试一下[jQuery-mobile-route](https://github.com/azicchetti/jquerymobile-router) r 插件，如果您的应用程序是基于 JQM 的，它可能更适合您的路由，因为它使用 JQM 页面事件。除了路由之外，您仍然可以将主干.js 用于其他所有内容。

# c# - 将特定项目绑定为下拉列表中的最后一项

> ID：11239910
> 
> 赞同：0
> 
> 时间：2012-06-28T07:26:40.270
> 
> 标签：c#, asp.net, sql, drop-down-menu

我正在从数据库中获取记录。我希望一个特定的记录总是作为最后一个元素出现。我怎样才能做到这一点？

例如：来自数据库：A B C D

但是，我希望“B”总是排在最后。我想要这个：A C D B

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:31:58.423

你可以`CASE`使用`ORDER BY`：

```
SELECT Column 
FROM   Table
ORDER BY  CASE WHEN  Column='B' THEN 1 ELSE 0 END
, Column 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T03:40:33.277

这个例子也可以帮助你...

```
create table #tbl(Name varchar(10))
Insert into #tbl values('A')
Insert into #tbl values('B')
Insert into #tbl values('C')
Insert into #tbl values('D')

SELECT Name
FROM   #tbl
ORDER BY  CASE WHEN  Name='B' THEN 1 ELSE 0 END
Drop table #tbl 
```

# java - 在端口 11111 上监听 * 地址

> ID：11239912
> 
> 赞同：0
> 
> 时间：2012-06-28T07:26:44.670
> 
> 标签：java

我试过这个（对不起我的愚蠢）

```
InetAddress inet=InetAddress.getByName("*");
ServerSocket ss=new ServerSocket(11111,0,inet); 
```

但这是错误的。我希望我的应用程序能够收听 *:11111。

谢谢你的任何提示。

对不起，我的标题误导了你，我更新修复它

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:38:43.337

`ServerSocket ss=new ServerSocket(11111,0,null);`

来自 ServerSocket 的文档：

> bindAddr 参数可用于多宿主主机上的 ServerSocket，它只接受对其地址之一的连接请求。如果 bindAddr 为空，它将默认接受任何/所有本地地址上的连接。

# android - TextView Marquee在android中不起作用

> ID：11239917
> 
> 赞同：1
> 
> 时间：2012-06-28T07:27:03.510
> 
> 标签：android, textview

我试图使用选框但它不起作用，这是我的代码......有人能看到问题吗？

```
 <TextView
        android:id="@+id/lblTitle" 

        android:ellipsize="marquee" 
        android:marqueeRepeatLimit="marquee_forever"
        android:singleLine="true"
        android:scrollHorizontally="true"
        android:focusable="true" 
        android:focusableInTouchMode="true" 
        android:freezesText="true"

        android:layout_width="140dp"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:layout_marginLeft="15dp"
        android:gravity="center"
        android:paddingLeft="5dp"
        android:paddingRight="5dp"
        android:text="Book Title"
        android:textColor="#FFFFFF"
        android:textSize="12dp" /> 
```

我在运行时设置了这个 textview 的文本。我使用此链接中的代码 [TextView Marquee not working](https://stackoverflow.com/questions/3332924/textview-marquee-not-working)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-28T07:37:07.420

只需在您的活动中这样做，因为您的代码对于简单的 textview marquee 来说是可以的

```
TextView textview=(TextView)findViewById(R.id.lblTitle);
textview.setSelected(true); 
```

如果你想在适配器的列表视图中使用选框，而不是检查在[列表视图中选框给出的答案](https://stackoverflow.com/questions/10861257/using-setselected-on-a-textview-inside-a-listitem-inside-a-listview/10861397#10861397)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T07:35:19.360

```
working on my phone 

<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <TextView
            android:id="@+id/lblTitle" 

            android:ellipsize="marquee" 
            android:marqueeRepeatLimit="marquee_forever"
            android:singleLine="true"
            android:scrollHorizontally="true"
            android:focusable="true" 
            android:focusableInTouchMode="true" 
            android:freezesText="true"

            android:layout_width="140dp"
            android:layout_height="wrap_content"
            android:layout_centerVertical="true"
            android:layout_marginLeft="15dp"
            android:gravity="center"
            android:paddingLeft="5dp"
            android:paddingRight="5dp"
            android:text="Book Title sad ds sdas das asdas das asd asd sad as"
            android:textColor="#FFFFFF"
            android:textSize="12dp" />
    </LinearLayout> 
```

![在此处输入图像描述](../Images/4e88b1650fc6ab665ee52ccb61f0beec.png)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-28T07:29:59.437

此代码为您工作。

```
<TextView
    android:text="START | lunch 20.00 | Dinner 60.00 | Travel 60.00 | Doctor 5000.00 | lunch 20.00 | Dinner 60.00 | Travel 60.00 | Doctor 5000.00 | END"
    android:id="@+id/MarqueeText" android:layout_width="fill_parent"
    android:layout_height="wrap_content" android:singleLine="true"
    android:ellipsize="marquee" android:marqueeRepeatLimit="marquee_forever"
    android:scrollHorizontally="true" 
    android:paddingLeft="15dip" 
    android:paddingRight="15dip" 
    android:focusable="true" 
    android:focusableInTouchMode="true" 
    android:freezesText="true">
</TextView> 
```

谢谢。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-09-10T10:10:26.780

此代码有效

```
<TextView
android:text="A very long book title"
android:id="@+id/book_title" 
android:layout_width="fill_parent"
android:layout_height="wrap_content" 
android:singleLine="true"
android:ellipsize="marquee" 
android:marqueeRepeatLimit="marquee_forever"
android:scrollHorizontally="true" 
android:paddingLeft="15dip" 
android:paddingRight="15dip" 
android:focusable="true" 
android:focusableInTouchMode="true" 
android:freezesText="true"> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-04-16T10:46:15.383

我遇到了同样的问题。Khan 的回答是对的，但有时 textview.setSelected(true); 当文本视图始终无法获得焦点时不起作用。因此，为了确保 TextView Marquee 正常工作，我不得不使用自定义 TextView。

```
public class CustomTextView extends TextView {
    public CustomTextView(Context context) {
        super(context);
    }
    public CustomTextView(Context context, AttributeSet attrs) {
        super(context, attrs);

    }

    public CustomTextView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);

    }

    @Override
    protected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) {
        if(focused)
            super.onFocusChanged(focused, direction, previouslyFocusedRect);
    }

    @Override
    public void onWindowFocusChanged(boolean focused) {
        if(focused)
            super.onWindowFocusChanged(focused);
    }

    @Override
    public boolean isFocused() {
        return true;
    }
} 
```

然后，您可以使用自定义 TextView 作为布局 .xml 文件中的滚动文本视图，如下所示：

```
<com.example.myapplication.CustomTextView
            android:id="@+id/tvScrollingMessage"
            android:text="@string/scrolling_message_main_wish_list"
            android:singleLine="true"
            android:ellipsize="marquee"
            android:marqueeRepeatLimit ="marquee_forever"
            android:focusable="true"
            android:focusableInTouchMode="true"
            android:scrollHorizontally="true"
            android:layout_width="match_parent"
            android:layout_height="40dp"
            android:background="@color/black"
            android:gravity="center"
            android:textColor="@color/white"
            android:textSize="15dp"
            android:freezesText="true"/> 
```

注意：在上面的代码片段中，com.example.myapplication 是一个示例包名，应替换为您自己的包名。

希望这会帮助你。干杯!

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-10-03T11:49:29.600

这行代码可以 100% 工作，只需将这些行放在您的 textview xml 代码中，它就会开始工作

```
 android:singleLine="true" 
android:ellipsize="marquee"
android:marqueeRepeatLimit ="marquee_forever"
android:scrollHorizontally="true"
android:focusable="true"
android:focusableInTouchMode="true" 
```

# symfony - form_widget 自定义宽度

> ID：11239919
> 
> 赞同：0
> 
> 时间：2012-06-28T07:27:04.543
> 
> 标签：symfony, twig

我有一个我正在为任务管理/错误报告应用程序工作的表格..

我已经编写了代码来添加一个新的错误报告并且它可以工作，现在我正在寻找一点点修复 HTML，但我在 a`textarea`和 a的宽度上遇到了一些问题`textbox`。

```
<div class="g12">
<form action="{{ path('feedback_create', { 'category': category }) }}" method="post" {{ form_enctype(form) }}>
        <fieldset>
            <label class="handle">Title</br><span class="small">Short Descriptive Title</span></label>
            {{ form_widget(form.title )}}
            <label class="handle">Problematic Steps</br><span class="small">Detailed Steps to Reproduce the Problem</span></label>
            {{ form_widget(form.userNotes)}}
        </fieldset>
    {{ form_rest(form) }}
    <p>
        <button type="submit">Create</button>
    </p>
</form>
</div> 
```

这是我目前拥有的 HTML——它显示了我想要的方式。除了`textbox`和文本区域似乎与表格的两侧重叠。我试图清除我的缓存，并包装 form_widget设置宽度的div中的行无济于事......

我已经创建了 jsfiddle 上缺少的 CSS 最少的基础知识，用于视觉方面的工作。

[http://jsfiddle.net/758ub/](http://jsfiddle.net/758ub/)

我很感激任何解决它的想法或提示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T08:29:57.660

你的 CSS 有

```
input, textarea { width: 99%; } /* This is not the cause */ 
```

我注意到把：

```
display: none; /* This is not the cause */ 
```

在这两个项目（INPUT 和 TEXTAREA）上仍然会保持表格非常宽。这是由于您的 .g12 类宽度值。当我把

```
.g12 { width: auto; } /* This is a solution */ 
```

它缩小了。在小提琴中，滚动条仍然存在，因为第一个 DIV，宽度为 800px。我想这应该保持不变。

请注意，您应该将此规则放在宽度适用于 .g12 的其他规则下，或者使选择器更重：

```
div.g12 { width: auto; } 
```

# java - 你如何获得 Struts 2 中的项目路径？

> ID：11239923
> 
> 赞同：0
> 
> 时间：2012-06-28T07:27:23.107
> 
> 标签：java, file-upload, path, struts2

例如：

```
<constant name="struts.multipart.saveDir" value="temp" /> 
```

将保存到：

> \Apache Tomcat 7.0.14\bin\temp\upload__781d3178_13831f5e207__8000_00000003.tmp

所以，相反，我该如何让它去：

> C:\my_project\build\web\temp\

不使用绝对文件路径，因为我不想在每次项目移动时都重新配置它。我基本上只想要相对路径。

**编辑1：**

我认为这并不重要，但我使用的是 Struts 2 版本 2.1.8.1

**编辑2：**

我正在使用 Apache Tomcat。这就是我将项目部署到的地方。有没有办法在struts.xml中引用Tomcat的项目部署位置？

就像是：

```
<constant name="struts.multipart.saveDir" value="..\webapps\project\build\web" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T10:16:53.010

该项目是开发人员工作站上的应用程序*源所在的位置。*

在运行时，你所得到的只是一个运行已部署战争的服务器。应用程序的来源以及它们在工作站上的目录与应用服务器无关。它不在乎，也不必知道。应用服务器机器上可能有这样的目录，但是不确定，和机器上所有其他目录一样的目录。除了在某个配置文件中指定它之外别无他法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T11:02:44.060

有几种方法可以做到这一点。这是最简单的方法：

```
<constant name="struts.multipart.saveDir" value="${catalina.home}/webapps/project/web/temp"/> 
```

你必须设置你的**CATALINA_HOME**

**更新**

也许这样，在你的 web.xml 中：

```
<context-param>
  <param-name>catalina.home</param-name>
  <param-value>path/to/your/tomcat</param-value>
</context-param> 
```

**更新**

我还找到了一个链接，它是用于 Log4j 的，但它是一样的。[链接到解决方案](https://stackoverflow.com/questions/216781/log4j-configuring-a-web-app-to-use-a-relative-path)

# php - 从网站获取 html 内容

> ID：11239927
> 
> 赞同：-2
> 
> 时间：2012-06-28T07:27:32.177
> 
> 标签：php

> **可能重复：**
> [如何使用 PHP 解析和处理 HTML？](https://stackoverflow.com/questions/3577641/how-to-parse-and-process-html-with-php)

我已使用此代码从给定的 url 网站获取 html 内容。

```
**Code:**

=================================================================

example URL: http://www.qatarsale.com/EnMain.aspx

/*

$regexp = '/<div id="UpdatePanel4">(.*?)<\/div>/i';

@preg_match_all($regexp, @file_get_contents('http://www.qatarsale.com/EnMain.aspx'), $matches, PREG_SET_ORDER);*/

/* 
```

但 $matches 返回空白数组。我想获取在 div id="UpdatePanel4" 中找到的所有 html 内容。

如果有人有任何解决方案，请建议我。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:38:09.983

***首先***，确保服务器允许您获取数据。

***其次***，使用 html 解析器来解析数据。

```
$html = @file_get_contents('http://www.qatarsale.com/EnMain.aspx');
if (!$html) {
  die('can not get the content!');
}
$doc = new DOMDocument();
$doc->loadHTML($html);
$content = $doc->getElementById('UpdatePanel4'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:38:34.773

那只是无济于事。即使您设法使 Regexp 正常工作，您使用它的方式也存在两个问题：

*   如果服务器像这样更改 HTML 的一些小东西`<div data-blah="blah" id="UpdatePanel4">`怎么办：在这种情况下，您也必须更改您的正则表达式。

*   第二个问题：我想你想要`innerHTML`div 的，对吧？在这种情况下，您使用正则表达式处理的方式是不关心嵌套或树结构。您将获得的字符串来自您指定的字符串，直到遇到的**第一个字符串。** `</div>`

解决方案：

使用正则表达式解析 HTML 总是一个坏主意。请改用[DOMDocument](http://php.net/manual/en/class.domdocument.php)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:35:34.197

```
// Gets the webpage
$html = @file_get_contents('http://www.qatarsale.com/EnMain.aspx');

$startingTag = '<div id="UpdatePanel4">';
// Finds the position of the '<div id="UpdatePanel4">
$startPos = strpos($html, $startingTag);
// Get the position of the closing div
$endPos = strpos($html, '</div>', $startPos + strlen($startingTag));
// Get the content between the start and end positions
$contents = substr($html, $startPos + strlen($startingTag), $endPos); 
```

如果 UpdatePanel4 div 包含更多 div，您将需要做更多的工作

# php - 在 Javascript 中使用 PHP 中的数组值

> ID：11239929
> 
> 赞同：0
> 
> 时间：2012-06-28T07:27:36.920
> 
> 标签：php, javascript, jquery, json

从本地数据库检索一些值后，我想在页面上执行 javascript 函数。然而，一旦 PHP 代码在我的 javascript 中，javascript 函数甚至不会首先运行。如果我将 PHP 代码分开并单独运行 PHP 代码，它可以正常工作，javascript 代码也一样。这是我的代码：

```
<?
mysql_connect("127.0.0.1:3307", "username", "password") or die ("Error fetching value from database.");
mysql_select_db("ccmalumni");
$result = mysql_query("SELECT DISTINCT value FROM ccm_bp_xprofile_data WHERE field_id = 16") or die ("What da heck");
$states = db_result_array_values($result);
echo $states[0];
mysql_close();

function db_result_array_values($result) { 
for ($array = array(); $row = mysql_fetch_row($result); isset($row[1]) ? $array[$row[1]] = $row[0] : $array[] = $row[0]); 
return $array; }
?>

var present = <? echo json_encode($states); ?>; 
```

请问，我做错了什么？[你可以在这里](http://pastebin.com/ftFd2Ccf)看到完整的代码。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T07:34:04.137

`json_encode`将以javascript可以理解的形式输出json字符串，因此基本上修复如下；

```
var darr = <? echo json_encode($states); ?>;  //Already readable JSON
var present = darr ; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T07:41:10.523

$.parseJSON() 将字符串解析为 javascript 对象。`var darr`已经是一个对象，不是一个字符串，因此不应传递给`$.parseJSON()`

请参阅[$.parseJSON() API 文档](http://api.jquery.com/jQuery.parseJSON/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:41:08.590

如果您想从服务器获取数据到客户端，我认为最好的方法是执行 ajax 请求。

因为您不必将服务器与客户端混合
（使您的代码更具可读性，易于理解等）

在这里你可以得到一个简短的描述如何使用 jQuery：[https ://stackoverflow.com/a/415894/1067061](https://stackoverflow.com/a/415894/1067061)

希望对你有帮助，祝你好运！

# api - 为什么我不能在 V3 API 的谷歌地图上添加制造商

> ID：11239932
> 
> 赞同：0
> 
> 时间：2012-06-28T07:27:50.393
> 
> 标签：api, google-maps, var

为什么我不能在 V3 API 的谷歌地图上添加制造商？这是代码：

```
 <script type="text/javascript">    
     var map;
            var myCenter = new google.maps.LatLng(100, 100); 
            function CoordMapType() {
            }

            CoordMapType.prototype.tileSize = new google.maps.Size(256, 256);
            CoordMapType.prototype.maxZoom = 18;
            CoordMapType.prototype.minZoom = 10;

            CoordMapType.prototype.getTile = function (coord, zoom, ownerDocument) {
                var div = ownerDocument.createElement('div');
                div.innerHTML = '<img name="" src="mapTiles/' + zoom + '/' + coord.y + '/' + coord.x + '.png"/>';
                div.style.width = this.tileSize.width + 'px';
                div.style.height = this.tileSize.height + 'px';
                div.style.fontSize = '10';
                return div;
            };

            CoordMapType.prototype.name = "Tile #s";
            CoordMapType.prototype.alt = "Tile Coordinate Map Type";

            var coordinateMapType = new CoordMapType();

            function initialize() {
                var mapOptions = {
                    zoom: 10,
                    center: myCenter,
                    mapTypeControl:false
                    mapTypeId: "coordinate"
                 };
                map = new google.maps.Map(document.getElementById("map_canvas"),
              mapOptions);

                map.mapTypes.set('coordinate', coordinateMapType);
                       var marker = new google.maps.Marker({ position: myCenter, title: "Hello World!" });
                marker.setMap(map);  
            }

    </script> 
```

我在我的服务器中使用瓷砖。地图可以显示，但标记不在地图上。

有什么问题？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T18:24:39.193

该类`google.maps.LatLng`支持纬度 [-90, 90] 和经度 [-180,180]，因此您的`myCenter`对象需要在该范围内。

```
var myCenter = new google.maps.LatLng(41.88, -87.62); 
```

[Google Maps API v3 LatLng 类参考](https://developers.google.com/maps/documentation/javascript/reference#LatLng)

摘自 Google Maps API v3： *创建一个表示地理点的 LatLng 对象。纬度在 [-90, 90] 范围内以度为单位指定。经度在 [-180, 180] 范围内以度为单位指定。将 noWrap 设置为 true 以启用此范围之外的值。注意纬度和经度的顺序。*

# cakephp - 我怎样才能使用单词“class” cakephp

> ID：11239937
> 
> 赞同：1
> 
> 时间：2012-06-28T07:28:05.677
> 
> 标签：cakephp

我正在使用 CakePHP 做一个电子学习应用程序。

问题是我需要在控制器中使用“类”这个词，这样我才能得到一个类链接[http://www.site.com/class/](http://www.site.com/class/)

有没有办法使用“类”这个词？

我目前正在使用教室（http://www.site.com/classroom），但这个词本身很长。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T07:36:21.667

我不会推荐它。查看[http://www.php.net/manual/en/reserved.keywords.php](http://www.php.net/manual/en/reserved.keywords.php)

> 您不能将以下任何单词用作常量、类名、函数或方法名。将它们用作变量名通常是可以的，但可能会导致混淆。

选择不同的名称，例如“房间”，或将其保留为教室。或者使用 Cake 的路由。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T07:35:27.793

您不能命名控制器`class`，因为这是 PHP 限制，但您可以使用[路由](http://book.cakephp.org/2.0/en/development/routing.html#connecting-routes)使 URL`/class`对应于具有您喜欢的任何名称的控制器。

# opencv - 如何处理每个轮廓？

> ID：11239938
> 
> 赞同：0
> 
> 时间：2012-06-28T07:28:18.597
> 
> 标签：opencv

![](../Images/0cf33c031790e719dbd6c29ca8e3c825.png)

我打算在一些图像上尝试轮廓。假设我在二值化后有三个对象。这是否意味着我有三个轮廓？如果是，我如何处理每个轮廓？

谢谢你。

更新：我需要先处理 blob #1。仅供参考，这些斑点并不完全像四边形。如果尝试使用 cvSetImageROI 但 blob #2 和 blob #3 的一部分可能会出现在裁剪图像中。我在想轮廓是否只能提取 blob #1 而没有 blob #2 和 #3。解释清楚了吗？（使用 C API 而不是 C++ API）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T07:49:58.673

每个`contour`都是数组 ( `std::vector`) 的`Points`。当您调用`findContours`它时，它会返回二进制图像中的轮廓数组。这是一个简单的例子：

```
vector<vector<Point> > contours;
vector<Vec4i> hierarchy;
Mat src;

findContours(src, contours, hierarchy, RETR_TREE, CHAIN_APPROX_SIMPLE);

for(size_t i = 0; i<contours.size(); i++)
{
    //process contours[i]
    for (size_t j=0; j<contours[i].size(); j++)
    {
        int x = contours[i][j].x;
        int y = contours[i][j].y;
        // process point j in contour i
    }
} 
```

[这是官方的 OpenCV 手册](http://opencv.itseez.com/doc/tutorials/imgproc/shapedescriptors/find_contours/find_contours.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:48:14.667

您应该为此使用该功能`cv::findContours`。它将为您提供图像轮廓的分层列表。

[文档](http://opencv.itseez.com/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=contour#void%20findContours%28InputOutputArray%20image,%20OutputArrayOfArrays%20contours,%20OutputArray%20hierarchy,%20int%20mode,%20int%20method,%20Point%20offset%29)中的更多信息。

**编辑** 分层列表意味着树状结构。如果另一个轮廓内部有轮廓（例如，考虑一个带孔的板），那么您可以要求该函数返回一个保留包含信息的结构，或者如果您愿意，可以返回一个平面结构。

# c# - 插入到 dbf 文件不接受空值

> ID：11239942
> 
> 赞同：3
> 
> 时间：2012-06-28T07:28:22.593
> 
> 标签：c#, .net, ado.net, dbf

我有一个要执行查询的 dbf 文件。这是我的代码（.net 4.0，C# Windows 窗体）：

```
oconn.ConnectionString = "Provider=vfpoledb.1;Data Source=" + path + ";Collating Sequence=machine";
oconn.Open();
OleDbCommand ocmd = oconn.CreateCommand();
string na = TBNazwaKonta.Text.Replace("\n","");
na = na.Replace("\r","") ;
string ks2 = ks.Replace("\n","");
ks2 = ks2.Replace("\r", "");
string zapytanie = @"insert into " + path + " (rk, Na,Ks,Ss,So,Wyr,Bw,Bm,Ow,Om,Wm,Mm,Pm,Pw,Ks1,Ks2,Ks3,Ks4,Llx,Wn01,Ma01,L01,Wn02,Ma02,L02,Wn03,Ma03,L03,Wn04,Ma04,L04,Wn05,Ma05,L05,Wn06,Ma06,L06,Wn07,Ma07,L07,Wn08,Ma08,L08,Wn09,Ma09,L09,Wn10,Ma10,L10,Wn11,Ma11,L11,Wn12,Ma12,L12) values (0,'Z-Dz PROD.OPAKOWAŃKIEWICZA 108   38-200 ', '200 02 000212',0,0,'',0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,'','','','',0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0,0.0,0.0,0)";
ocmd.CommandText = zapytanie;
ocmd.ExecuteNonQuery();
oconn.Close(); 
```

连接很好，插入查询也很好，但我想知道为什么这个 dbf 不接受空值。

我在哪里可以检查 dbf 是否接受空值？当我使用程序读取 dbfs 并执行查询时，dbf 接受 null。它仅在我使用 ado.net 时才接受。感谢您帮助解决我的问题

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T07:37:39.197

您可以创建一个新命令并在插入之前执行它。

```
OleDbCommand dbCmdNull = oconn.CreateCommand();
dbCmdNull.CommandText = "SET NULL OFF";
dbCmdNull.ExecuteNonQuery(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:48:42.163

您可以将列设置为不接受空值。

如果您使用的是visual foxpro，请打开您的dbf，转到查看> 表设计器您将看到列列表，最后一列指示它是否接受空值。

那里有一个 Null 按钮。取消选中，您的列将不接受空值。

这将确保您不会写空值。但是如果有空值，你就在某处写它们。您将不得不修复那段代码。

# java - GAE + GWT Servlet 无需认证

> ID：11239946
> 
> 赞同：3
> 
> 时间：2012-06-28T07:28:33.993
> 
> 标签：java, google-app-engine, gwt, authentication

我正在使用 Google App Engine 和 GWT 开发一个网络应用程序。我将提供的身份验证与 Google 帐户一起使用，因此我的 web.xml 包含以下几行：

```
<security-constraint>
    <web-resource-collection>
        <url-pattern>/*</url-pattern>
    </web-resource-collection>
    <auth-constraint>
        <role-name>*</role-name>
    </auth-constraint>
</security-constraint> 
```

我需要一个不受 Google 身份验证的特定 servlet，因为它将被 Android 设备调用。请不要建议对设备进行身份验证的方法，因为它不适合我的需要。

如何设置我的项目，以便在身份验证下保护所有内容，而只有一个 servlet 不是？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T08:42:52.370

Why can't you just:

1)modify the url of the contraint

```
<security-constraint>
    <web-resource-collection>
        <url-pattern>/protected/*</url-pattern>
    </web-resource-collection>
    <auth-constraint>
        <role-name>*</role-name>
    </auth-constraint>
</security-constraint> 
```

2) move everything into /protected

3) put the android stuff someplace else ... either in / or an new folder /android

# php - Imagemagick 将图像放在右下角

> ID：11239948
> 
> 赞同：4
> 
> 时间：2012-06-28T07:28:37.790
> 
> 标签：php, html, css, watermark

我使用 imagemagic 来放置水印图像。我使用以下代码在中心显示水印。

```
shell_exec("composite -gravity center logo.png images/test.png images/test.png"); 
```

现在我想在右下角显示水印。

为此，我尝试了代码：

```
composite -geometry -10-10 
```

但我无法在右下角显示这个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-14T23:45:09.800

Use:

```
shell_exec("composite -gravity SouthEast logo.png images/test.png images/test.png"); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-11-19T15:04:39.040

用于右下角：

imagecopyresampled($output, $source, 0, 0, 0, 0,$width, $height,$width,$height);

将此代码用于图像中心：

$watermark_pos_x = (imagesx($image)/2) - (imagesx($watermark)/2) - 15; $watermark_pos_y = (imagesy($image)/2) - (imagesy($watermark)/2) - 10;

// 合并源图像和水印 imagecopy($image, $watermark, $watermark_pos_x, $watermark_pos_y, 0, 0,imagesx($watermark), imagesy($watermark));

# objective-c - 分页概念 (UiScrollView) 自定义视图数组（UIViews 的子类）

> ID：11239952
> 
> 赞同：0
> 
> 时间：2012-06-28T07:28:57.233
> 
> 标签：objective-c, uiview, uiscrollview

我使用 UIScrollView 的分页功能来分页多个视图（视图数组）。

ViewController - 视图 - 滚动视图

我的主 UIViewController 包含一个视图，在 UIScrollView 视图内，它通过插座连接到我的 ViewController.h。我创建了一个 xib 文件来为项目添加一个自定义视图（MyView）；与班级相同；我添加了一个 UIView 的子类，名为 MyView。MyView.xib 的出口连接到 MyView.h。并将 MyView.xib 中的 Class 从 UIView 更改为 MyView。

为了与 ViewController (UIScrollView...) 之外的 MyView.xib 进行交互，我向 ViewController @property (nonatomic, weak) MyView *myView; 添加了一个属性。所以我可以设置文本、背景颜色和 MyView 的其他内容。

整个东西都按原样工作，但我不确定 - 这是不好的风格吗？所以我问你们；我这样做可以吗，不是吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:11:48.423

它实际上是优秀的风格。

> 我的主 UIViewController 包含一个视图，在 UIScrollView 视图内，它通过插座连接到我的 ViewController.h。我创建了一个 xib 文件来为项目添加一个自定义视图（MyView）；与班级相同；我添加了一个 UIView 的子类，名为 MyView。MyView.xib 的出口连接到 MyView.h。并将 MyView.xib 中的 Class 从 UIView 更改为 MyView。

这就是 IB 中类标签的意义所在。元素应该是子类化的，这样做允许比标准 UIKit 类内置的更深入的自定义。

> 为了与 ViewController (UIScrollView...) 之外的 MyView.xib 进行交互，我向 ViewController @property (nonatomic, weak) MyView *myView; 添加了一个属性。所以我可以设置文本、背景颜色和 MyView 的其他内容

再次，一个辉煌但经常被忽视的方面。接口构建器出口总是被认为是弱的（或分配的），因为它们通常由强大的顶级对象（例如，超级视图或类）维护。使它变弱的好处是，当你的班级被释放时，弱出口也会自动被释放！请参阅[此处](https://stackoverflow.com/questions/7678469/should-iboutlets-be-strong-or-weak-under-arc)以更好地解释为什么 IBOutlets 应该是弱的。

# java - 无法使用 javamail api 从 hotmail 帐户获取未读电子邮件

> ID：11239956
> 
> 赞同：3
> 
> 时间：2012-06-28T07:29:14.950
> 
> 标签：java, jakarta-mail, pop3, hotmail

我正在尝试编写一个简单的 java 程序，它使用 javamail api 从我的 hotmail 帐户返回所有未读电子邮件。这是我正在使用的代码：

```
 String SSL_FACTORY = "javax.net.ssl.SSLSocketFactory";
    Properties props = new Properties();
    props.setProperty("mail.pop3.ssl.enable", "true");
    props.setProperty("mail.pop3s.socketFactory.class", SSL_FACTORY); 
    props.setProperty("mail.pop3s.socketFactory.fallback", "false"); 
    props.setProperty("mail.pop3s.port", "995"); 
    props.setProperty("mail.pop3s.socketFactory.port", "995");
    Session session = Session.getInstance(props,
        new javax.mail.Authenticator() {
            protected PasswordAuthentication getPasswordAuthentication() {
                return new PasswordAuthentication(username, password);
            }
        });
        Store store = session.getStore("pop3");
        store.connect("pop3.live.com", username, password);
        System.out.println(store);

        Folder inbox = store.getFolder("Inbox");
        inbox.open(Folder.READ_ONLY);
        FlagTerm ft = new FlagTerm(new Flags(Flags.Flag.SEEN), false);
        Message messages[] = inbox.search(ft); 
```

我在这段代码中的错误是什么？因为我收到了所有的邮件，而不仅仅是未读的邮件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:48:53.003

从 Sun 的文档中引用他们捆绑的 POP3 提供程序（我假设您正在使用）——该文档位于 /docs/sundocs

> POP3 不支持永久标志（请参阅 Folder.getPermanentFlags()）。特别是，永远不会为 POP3 消息设置 Flags.Flag.RECENT 标志。由应用程序来确定 POP3 邮箱中的哪些邮件是“新的”。有几种策略可以实现这一点，具体取决于应用程序和环境的需要： 一种简单的方法是跟踪应用程序看到的最新消息。另一种方法是跟踪已看到的所有消息的 UID（见下文）。另一种方法是将所有邮件下载到本地邮箱中，这样 POP3 邮箱中的所有邮件根据定义都是新的。所有方法都需要一些与客户端关联的永久存储。

我认为这几乎可以回答您的问题

# ios - self.navigationItem 在任何类中可用？

> ID：11239957
> 
> 赞同：0
> 
> 时间：2012-06-28T07:29:24.107
> 
> 标签：ios, uinavigationcontroller, uinavigationitem

如果 viewController 在 navigationStack 中（可能是栈顶），
它会自动拥有 self.navigationItem 吗？

我一直在问题和教程中看到 self.navigationItem 和 self.navigationController 没有太多上下文，并且想知道这些变量的设置位置。

*   编辑

哇，感谢您的快速回答。
我会在哪里发现官方文档中的信息（关于 self.navigationItem）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:31:38.177

是的，如果它在堆栈中它确实有一个`self.navigationItem`，如果它不在导航堆栈`self.navigationItem`中将等于 nil

此属性在目标 c 类扩展中定义

```
@interface UIViewController (UINavigationControllerItem) 
```

它定义了`UIViewController`与`navigation controller`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:33:20.843

是的，您将看到添加到导航控制器堆栈的每个控制器中设置的`self.navigationItem`和属性。一旦您调用或，`self.navigationController`这些属性就会被设置。`pushViewController:animated``initWithRootViewController:`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:33:48.753

它们不是由你设置的，除非你特别告诉它。还有其他一些不是由您直接分配的属性，例如：

```
self.tabBarController;

self.parentViewController; 
```

这就是为什么你应该`nil`在尝试访问属性之前检查它是否是。

# sql - 使用连接更新 sql

> ID：11239959
> 
> 赞同：0
> 
> 时间：2012-06-28T07:29:30.640
> 
> 标签：sql, sql-server

这是进行此更新的正确方法，是这样吗：

```
UPDATE [log].codesEntered
SET    [log].codesEntered.countrycode = 
             (SELECT [user].[profile].countryCode
             FROM   [user].[profile]
                    INNER JOIN [log].codesEntered
                      ON [log].codesEntered.userid = [user].[profile].userid
             WHERE  [log].codesEntered.countryCode <> [user].[profile].countryCode
                    AND [log].codesEntered.campid = @campid
                    AND [log].codesEntered.portalid = @portalid
                    AND [user].[profile].countryCode <> ''
                    AND [user].[profile].countryCode <> '--') 
```

或者这样：

```
UPDATE [log].codesEntered
SET    [log].codesEntered.countrycode = [user].[profile].countryCode
FROM   [log].codesEntered
       INNER JOIN [user].[profile]
         ON [log].codesEntered.userid = [user].[profile].userid
WHERE  [log].codesEntered.countryCode <> [user].[profile].countryCode
       AND [log].codesEntered.campid = @campid
       AND [log].codesEntered.portalid = @portalid
       AND [user].[profile].countryCode <> ''
       AND [user].[profile].countryCode <> '--' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:32:56.740

假设 SQL Server 第二个不是标准 SQL，并且在多个连接行可以匹配`codesEntered`一行的情况下会导致不确定的结果。

相关的子查询版本会在该事件中引发错误。如果根本没有匹配，它也会设置`countrycode`为。`NULL`

连接可能更有效。

如果您至少在 SQL Server 2008 上，您还可以查看`MERGE`而不是专有`UPDATE ... FROM`语法。如果尝试多次更新同一行，这将引发错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T09:10:17.713

你可以像这样尝试 st （我更喜欢的方式）：

```
UPDATE [log].codesEntered log
SET    [log].codesEntered.countrycode =  (select countryCode from [user].[profile]   where [user].[profile].userid = log.userid)
WHERE  log.userid in 
       ( select [log].codesEntered.userid
       from [log].codesEntered join [user].[profile]
        on [log].codesEntered.userid = [user].[profile].userid
       where [log].codesEntered.countryCode <> [user].[profile].countryCode
       AND [log].codesEntered.campid = @campid
       AND [log].codesEntered.portalid = @portalid
       AND [user].[profile].countryCode <> ''
       AND [user].[profile].countryCode <> '--' ) 
```

这种方法也适用于其他 DMBS，如 oracle。

# eclipse-plugin - 开发 Eclipse RCP 应用程序

> ID：11239963
> 
> 赞同：5
> 
> 时间：2012-06-28T07:29:46.037
> 
> 标签：eclipse-plugin, eclipse-rcp

这是我第一次使用 Eclipse 3.8 开发 RCP 应用程序。我的问题可能看起来很奇怪，但对我来说真的很困惑。我可以将应用程序的代码放在哪里？如果我为我的应用程序创建所需的类，我可以在哪里使用它们的对象？在`Application.java`课堂上？我很困惑，互联网教程只关注视觉方面和 SWT，而不是如何编码。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-28T07:55:52.270

Eclipse RCP 应用程序基本上是一个 Eclipse 插件。

我建议从基于简单模板（例如，Hello World 模板）的 RCP 应用程序开始。要创建这样的应用程序，请创建一个新的插件项目（*New > Other > Plug-in Project*），将目标平台设置为 Eclipse 3.8，让向导生成一个 Activator，勾选复选框“此插件将做出贡献到 UI”和“您想创建富客户端应用程序：是”，然后在下一个向导页面上选择任何可用模板。

好好看看生成的类。您假设这基本上`Application.java`是您的应用程序的起点是正确的。但是，请注意 Eclipse 插件是一个 OSGi(-compliant) 包，因此还有插件/包激活器。还要记住的是，一般配置点之一是`plugin.xml`及其扩展选项卡。

我建议你好好看看一些可用的教程（有一些可以帮助你入门，而不仅仅是关注图形级别，尽管让你自己习惯很重要，例如 SWT 和 JFace API ）。我个人从阅读 McAffer 等人的[Eclipse RCP 书籍中获益](http://eclipsercp.org/)*良多*。

有一篇[博客文章列出了一些开始使用 Eclipse RCP 的选项](http://blog.sdruskat.net/getting-started-with-the-eclipse-rcp/)。（免责声明：无耻的自我宣传）

希望这可以帮助。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-19T11:36:14.643

我意识到，RCP 项目文件夹中生成的类只是为了管理 RCP 应用程序的生命周期和外观，仅此而已。

## 对于我们希望应用程序执行的所有其他操作，我们需要编写单独的类。

例如，如果您创建了一个视图（实现 IViewPart 接口的类），那么您需要使用`plugin.xml`文件将该视图添加到 RCP 应用程序。

以下是这些类的简短描述（它们基本上是做什么的）

*   `Application.java`- 应用的起点，类似于 main(-) 方法。
*   `WorkbenchWindowAdvisor.java`- 用于窗口大小、标题、菜单栏、工具栏、状态栏配置和可见性。
*   `WorkbenchAdvisor.java`- 标识初始视角和要使用的 WorkbenchWindowAdvisor。
*   `Perspective.java`- 视图和编辑器的排列（就像我们在 Java 透视图，Eclipse IDE 中的调试透视图）
*   `ActionBarAdvisor.java`- 用于创建操作，但鼓励使用命令框架（*参见 Eclipse Rich Client Platform, Second Edition 的第 292 页 - 作者：Jeff McAffer* [http://www.amazon.com/Eclipse-Rich-Client-Platform-Edition/ dp/0321603788](https://rads.stackoverflow.com/amzn/click/com/0321603788) )

# c++ - Qt 椭圆边框变薄

> ID：11239964
> 
> 赞同：2
> 
> 时间：2012-06-28T07:29:46.370
> 
> 标签：c++, qt, border, ellipse

我正在尝试在 Qt 中绘制一个椭圆，并且边缘的边框在某些地方变得很薄。

![在此处输入图像描述](../Images/dee0d548392da2351395b32cb5ea892c.png)

这是代码：

```
QPainter painter(this);
painter.setRenderHint(QPainter::Antialiasing, true);
painter.setPen(QPen(Qt::black, 3));
painter.drawEllipse(event->rect()); 
```

有任何想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T07:36:50.587

绘制带有轮廓的形状时，您必须考虑笔的宽度。因此，在您的情况下，更改为：

```
// Adjusted by 2 pixels because half your pen width is 1.5, but QRect is
// for integer types, so rounded up.
painter.drawEllipse(event->rect().adjusted( -2, -2, 2, 2 ) ); 
```

# php - 将 PHP 会话信息传递给 cURL

> ID：11239966
> 
> 赞同：-1
> 
> 时间：2012-06-28T07:29:56.093
> 
> 标签：php, jquery, session, curl

我在我的站点和 cURL 请求之间传递会话数据时遇到问题。

**代码：**
此代码在 demo.xyz.com 上，它在 www.abc.com 的数据库中对用户进行身份验证，并在成功登录的情况下创建会话变量“SESSION_USER_ID”。
登录后，它使用jQuery .load() 函数向“www.abc.com/dashboard.php”发起cURL 请求。

```
$("#dash").load("get-rem-page.php?p=http://www.abc.com/dashboard.php").html("Loading..."); 
```

get-rem-page.php 有以下代码：

```
<?php
$url = $_REQUEST['p'];

$curl_handle=curl_init();
curl_setopt($curl_handle,CURLOPT_URL,$url);
curl_setopt($curl_handle,CURLOPT_CONNECTTIMEOUT,2);
curl_setopt($curl_handle,CURLOPT_RETURNTRANSFER,1);
curl_setopt($curl_handle, CURLOPT_COOKIESESSION, true); 

curl_setopt($curl_handle, CURLOPT_COOKIE,session_name().'='.session_id());
curl_setopt($curl_handle, CURLOPT_COOKIEFILE, 'cookies.txt'); // set cookie file to given file 
curl_setopt($curl_handle, CURLOPT_COOKIEJAR, 'cookies.txt'); 

$buffer = curl_exec($curl_handle);
curl_close($curl_handle);

if (empty($buffer))
{
    print "<p>Unable to load remote page</p>";
}
else
{
    print $buffer;
}
?> 
```

www.abc.com上的dashboard.php代码如下：

```
<?php
session_start();
include "classes/local_info.php";

$objCon = new cD;
$objFun = new cF;

$link=$objCon->connectMYSQL();
$vCon = $objCon->connectDB($link);
if($vCon==false){
    echo "DB Error";
    exit;
}
echo "i am in dashboard.php & sessionid = ".$_SESSION["SESSION_USER_ID"]."<hr />";
$id = $_SESSION["SESSION_USER_ID"];
?>
<p>Welcome member number <?php echo $_SESSION["SESSION_USER_ID"];?></p> 
```

DIV（id：dash）中的输出是

我在dashboard.php & sessionid =

* * *

欢迎会员

**问题：**
dashboard.php 中的 session 变量为空。需要传递此会话值，而不对dashboard.php 进行任何更改。用 CURLOPT_COOKIE 尝试了很多选项.. 但似乎没有一个有效。需要专家开放。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:36:30.323

我玩过一次 curl 和 cookie，最终的工作代码是这样的：

```
 $ch = curl_init();

    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_TIMEOUT, 5);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 0);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 0);
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_VERBOSE, 0);

    curl_setopt($ch, CURLOPT_COOKIEJAR, session_name().'='.md5(session_id()));
    curl_setopt($ch, CURLOPT_COOKIE, session_name().'='.md5(session_id())); 
```

# ruby-on-rails - 使用 ruby on rails 自动完成网页表单

> ID：11239970
> 
> 赞同：0
> 
> 时间：2012-06-28T07:30:03.977
> 
> 标签：ruby-on-rails, ruby, autocomplete, webforms

我已经制作了一个网络表单，当用户输入他们的输入时，我需要一些字段来提供一个动态列表。如果选择其中一个选项，则该列表需要来自单独的表格并填写其他相应的字段。我知道这是一个非常模糊的问题，但我是 ruby​​ 的新手，所以如果有人能给我最简单/最简单的方法来做到这一点，那就太棒了！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:05:06.217

创建一个输出 JSON 的路由。路由的控制器接受一个输入参数（用户的输入）并基于该参数从数据库中返回值。在我最近做的一个中，我使用了一个 JQuery 自动完成插件，通过 ajax 将输入从字段发送到该路由，并使用字段下拉列表中的返回值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T10:42:54.750

我认为`easiest/simplest way to do this`正在使用 gem [rails3-jquery-autocomplete](https://github.com/crowdint/rails3-jquery-autocomplete)。该文档非常好，这有助于其实施。

只需按照[说明](https://github.com/crowdint/rails3-jquery-autocomplete#installing)和`voilà!`

# facebook - Facebook PHP SDK (v.3.1.1) 如何获取好友

> ID：11239971
> 
> 赞同：-2
> 
> 时间：2012-06-28T07:30:09.797
> 
> 标签：facebook

```
try {

  $friends = $facebook->api('/me/friends');

} catch (FacebookApiException $e) {

  error_log($e);

} 
```

显示：致命错误：未捕获的 OAuthException：必须使用活动访问令牌来查询有关当前用户的信息。在第 1106 行的 C:\wamp\www\fb\facebook_php_sdk\src\base_facebook.php 中抛出

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T08:36:46.420

您必须拥有此操作的访问令牌。首先，您请求访问令牌，如下所示：

```
$my_access_token=$facebook->getAccessToken(); 
```

然后你可以像这样请求好友列表：

```
try {

$friends = $facebook->api('/me/friends',array('access_token'=>$my_access_token));
} catch (FacebookApiException $e) {

error_log($e);
} 
```

这可能会奏效。我这行得通，然后接受这个答案！快乐编码！

# c# - C#：在用户会话中工作的进程

> ID：11239973
> 
> 赞同：0
> 
> 时间：2012-06-28T07:30:20.363
> 
> 标签：c#, service

我需要创建一个应与用户在同一会话中运行的应用程序。它实际上在登录时启动。

应用程序本身 - 它是一个在后台运行的客户端，并定期从服务器请求数据，并显示带有接收数据的弹出窗口。这个应用程序可以停止并重新启动。

据我了解，我无法将此应用程序组织为 Windows 服务，因为它无法为多个用户启动。解决办法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:41:49.700

您可以添加一个条目`HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Run`（对于机器上的所有用户）或`HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run`（对于特定用户），然后程序在登录时启动。

有关文档，请参见[此处](http://msdn.microsoft.com/en-us/library/aa376977%28v=vs.85%29.aspx)。

# java - 如何在表单内向 dropDownChoice 添加行为

> ID：11239975
> 
> 赞同：2
> 
> 时间：2012-06-28T07:30:21.157
> 
> 标签：java, wicket

我有带有字段的表格：

```
 public VyjimkyForm(final Parametry parametry) {
        super("vyjimkyForm", new CompoundPropertyModel<Parametry>(parametry));
        setOutputMarkupId(true);
        add(new DropDownChoice<String>("datumy", new Datumy())).add(
                new AjaxFormComponentUpdatingBehavior("onchange") {

                    private static final long serialVersionUID = 1L;

                    @Override
                    protected void onUpdate(AjaxRequestTarget target) {
                       ...
                    }
                });
} 
```

此代码引发异常：

`Behavior cz.isvs.reg.rob.monitor.web.VyjimkyPage$VyjimkyForm$1`只能添加到 FormComponent 的实例中。为什么我不能添加这种行为？这个下降选择是形式

当我运行此代码时，会引发此异常：

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T08:18:28.773

你放错了一个右括号。

```
add(new DropDownChoice<String>("datumy", new Datumy()).add(
    new AjaxFormComponentUpdatingBehavior("onchange") {

        private static final long serialVersionUID = 1L;

            @Override
            protected void onUpdate(AjaxRequestTarget target) {
                       ...
        }
    })); 
```

应该做的伎俩。

通过放置括号，您试图将行为添加到封闭组件。

# asp.net-mvc - User.Identity.IsAuthenticated 始终为 True

> ID：11239977
> 
> 赞同：4
> 
> 时间：2012-06-28T07:30:25.150
> 
> 标签：asp.net-mvc, authentication, web-config

有人可以告诉我如何处理身份验证模式 @asp.net mvc 3 吗？我的 webconfig 没有标签身份验证条目，因为我不知道哪种模式适合！

参考标题：

我想隐藏一些导航按钮@View，我用“if（User.Identity.IsAuthenticated）”尝试了它，但那总是正确的，即使我没有登录（在网站上！）

有人有想法吗？

最好的祝福

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T08:15:29.053

由于您已从 web.config 中删除`<authentication>`标签，这意味着您允许匿名访问您的网站。所以任何人都被认为是经过身份验证的。这就是为什么`IsAuthenticated`总是`true`.

您将需要启用某种您想要使用的身份验证。例如，如果您想使用[表单身份验证](http://msdn.microsoft.com/en-us/library/ff647070.aspx)：

```
<authentication mode="Forms">
  <forms loginUrl="~/Account/LogOn" timeout="2880" />
</authentication> 
```

因此，您必须决定的第一件事是您打算如何管理用户和角色。您打算将它们存储在哪里。一旦你决定了这一点，就很容易使用内置的 Membership 和 Role 提供程序，或者如果它们不符合你的需要，也可以编写自定义的提供程序。

我建议你从这里开始：[http ://www.asp.net/mvc/tutorials/older-versions/security/authenticating-users-with-forms-authentication-cs](http://www.asp.net/mvc/tutorials/older-versions/security/authenticating-users-with-forms-authentication-cs)

# javascript - JQuery 幻灯片：Firefox v.13.0.1

> ID：11239978
> 
> 赞同：0
> 
> 时间：2012-06-28T07:30:30.297
> 
> 标签：javascript, jquery, slideshow

我正在为幻灯片库使用以下脚本，它应该每 10 秒一个接一个地旋转几张照片。

在我将 Firefox 升级到 13.0.1 版之前，它一直有效（在 FF 中）。

目前，如果它运行了一段时间，那么它就会变得一团糟——它忽略了计时器，只旋转了 2 张图片，而完全忽略了其他 3 张。

如何解决此问题并使脚本更健壮？

谢谢！！！

```
function slideSwitch() {
    var $active = $('#slideshow div.active');

    if ( $active.length == 0 ) $active = $('#slideshow div:last');

    //  pull the divs in the order they appear in the markup
    var $next =  $active.next().length ? $active.next() : $('#slideshow div:first');
    $active.addClass('last-active');

    $next.css({opacity: 0.0})
        .addClass('active')
        .animate({opacity: 1.0}, 3000, function() {
            $active.removeClass('active last-active');
        });
}

$(function() {
    var timer = setInterval( "slideSwitch()", 10000 );

        $('#slideshow').hover(
                function () {
                    clearInterval(timer);   
                },  
                function () {
                    timer = setInterval("slideSwitch()", 10000);            
                }
        ); 

}); 
```

我通过以下方式在 html 中调用 jquery：

```
 <div id="slideshow">
                        <div class="active">
                            <img src="/images/slideImages/1.jpg" alt="xxx 1" title = "xx 1"/>
                        </div>
                        <div>
                            <img src="/images/slideImages/2.jpg" alt="xxx 2" title="xx 2" />
                        </div>
                        <div>
                            <img src="/images/slideImages/3.jpg"  alt="xxx 3" title="xx 3" />
                        </div>
                        <div>
                            <img src="/images/slideImages/4.jpg"  alt="xx 4" title="xx 4"  />
                        </div>
                        <div>
                            <img src="/images/slideImages/5.jpg"  alt="xxx 5" title="xx 5"  />
                        </div>
                    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T13:44:48.157

确保您的标签类型是“javascript”

Firefox 不像 chrome 和 safari 那样理解“jscript”

# c# - 使用 C#/XAML 在 Metro 风格应用程序中将画布保存为图像

> ID：11239980
> 
> 赞同：2
> 
> 时间：2012-06-28T07:30:35.350
> 
> 标签：c#, canvas, windows-8, microsoft-metro, windows-runtime

我正在使用 C#/XAML 开发类似 Metro 风格的绘画应用程序。我想将画布上绘制的任何内容保存为图像。我已经检查了这个解决方案，但它没有帮助我。

[将画布保存到位图](https://stackoverflow.com/questions/5851168/save-canvas-to-bitmap) [http://blogs.msdn.com/b/saveenr/archive/2008/09/18/wpf-xaml-saving-a-window-or-canvas-as-a-png-bitmap.aspx](http://blogs.msdn.com/b/saveenr/archive/2008/09/18/wpf-xaml-saving-a-window-or-canvas-as-a-png-bitmap.aspx)

那么如何将画布内容保存为图像？请帮助我进行示例编码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-24T14:38:36.327

Sascha 接受的答案不再适用于 Windows 8.1。有一个新的 RenderTargetBitmap 类允许将渲染的 XAML 转换为位图。

请参阅：http: [//msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.media.imaging.rendertargetbitmap.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.media.imaging.rendertargetbitmap.aspx)

但是，我似乎无法呈现 XAML 已折叠或当前不在屏幕上。任何帮助将不胜感激！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T20:51:17.860

其他 xaml 框架（如 Silverlight 和 WP7）中的标准方法是使用 WriteableBitmap，但是 WinRT 中的版本没有采用 xaml 元素的构造函数，这让我相信目前不可能针对最新的 API。

对不起，我无法提供更多帮助/

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:35:16.727

一种解决方法是将 Direct2D 与 DirectWrite 结合使用。这有点涉及，但我可能会在某个时候提供一个库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T10:06:15.567

似乎目前不支持开箱即用，就像我们过去使用 WPF 所做的那样：

[http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/dd66c749-efed-4b55-a716-e0aa3a637d28](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/dd66c749-efed-4b55-a716-e0aa3a637d28)

在做 HTML5/Javascript Metro 应用程序时，您可以这样做：

[http://social.msdn.microsoft.com/Forums/en-US/winappswithhtml5/thread/cf8c17dc-68d4-4777-951f-bb7f0665bd06](http://social.msdn.microsoft.com/Forums/en-US/winappswithhtml5/thread/cf8c17dc-68d4-4777-951f-bb7f0665bd06)

# design-patterns - 访问者模式和复合模式之间的区别？

> ID：11239983
> 
> 赞同：3
> 
> 时间：2012-06-28T07:30:49.557
> 
> 标签：design-patterns

我没有看到任何区别。看起来两个模式都在尝试组合对象。谁能解释这两种模式背后的意图？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-28T07:33:57.300

这些图案**完全**不同！首先*Composite*是一种[结构模式](http://en.wikipedia.org/wiki/Structural_pattern)，也就是说它是用来构建数据结构的。*访客*是[行为模式](http://en.wikipedia.org/wiki/Behavioral_pattern)，负责关系和行为。

为了进一步解释它，您使用*Composite*来构建对象树，其中所有项目都是`T`. 但是，`T`（某种容器）的一个子类可以包含 child`T`的集合。想想一个`Item`有两个子类的类：`Product`和`Box`. `Box`可以进一步容纳`Item`s 的集合，无论是产品还是盒子。这些嵌套的盒子可以保存更多的项目，所以我们正在有效地构建一个树状结构。

*访问者*用于模拟虚拟调用以避免`instanceof`类似结构。请参阅[“instanceof”运算符的这种使用是否被认为是糟糕的设计？](https://stackoverflow.com/questions/8841577)完整的例子。*访问者*可以与*Composite*一起使用- 就像上面的示例一样，如果`Item`定义`accept(ItemVisitor visitor)`方法，您可以遍历树。

我发现很难看出这两者之间有任何相似之处。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-28T11:29:42.483

它们是不同的模式，但它们经常一起使用。

复合的要点是将相同的操作应用于共享接口的一堆元素。访问者的目的是使用新操作扩展一堆元素，而不更改它们的实现或调用者的实现。因此你经常看到：

```
Composite c = new Composite();
Visitor v = new ConcreteVisitor();
c.visit(v); 
```

这样，您可以保持组合的实现和组合中的类静态，并且只改变您应用到它们的访问者类型。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T07:37:38.480

组合是一个对象，它具有一组操作和一个自身的对象容器。容器可能包含也可能不包含对象。对 Composite 执行的操作将在其自身及其包含的所有对象上执行。有些人可能将其称为一种树。

访问者是一组在已建立的类层次结构上工作的对象/操作。访问者允许您在层次结构上创建操作，而无需更改层次结构。一个示例是创建一个操作（访问）层次结构中的多个对象的操作，从而将多个对象的工作组合在一起，而无需更改它们的接口。

两种模式确实有很大不同。

# ios - iOS 动画 >> 如何为单个对象设置动画以在多个位置移动

> ID：11239985
> 
> 赞同：0
> 
> 时间：2012-06-28T07:30:56.610
> 
> 标签：ios, arrays, animation, cgpoint, chain

我希望有一个`UIImageView`会“漂浮”在屏幕上，通过几个位置移动。很清楚如何使用`[UIView animateWithDuration:...]`. 在“完成”块中添加点 C 甚至听起来很合理。你知道吗？我也可以将点 D 添加到点 C 的完成块中，但在那之后，我开始得到一个我迷失的意大利面条代码。

我无法找到一种方法来执行某种动画位置链，类似于`CGPoints`该运行的数组以及`UIImageView`它们之间一个接一个的运行。

任何人都知道如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:52:45.093

CAKeyFrameAnimation对象在通过多个时间点的多个值为对象设置动画时非常强大和有用 [。](https://developer.apple.com/library/mac/documentation/GraphicsImaging/Reference/CAKeyframeAnimation_class/Introduction/Introduction.html)

动画依赖于 key-paths，幸运的是，center 是一个，并且只接受 NSValue 对象作为点和 NSNumber 对象作为时间。可以在[此处](https://stackoverflow.com/questions/1998615/how-do-you-cakeyframeanimation-scale)找到一个为 scale 属性设置动画的示例。它旨在成为 center 属性的模板。

# jquery - 调整 jQuery 发布表单以处理文件和文本区域

> ID：11239994
> 
> 赞同：0
> 
> 时间：2012-06-28T07:31:39.267
> 
> 标签：jquery, forms

> **可能重复：**
> [Javascript 文件上传](https://stackoverflow.com/questions/408735/javascript-file-uploads)

我正在使用 jQuery post 将数据发布到 PHP 文件。它对输入工作正常`text,textarea`。但我希望它也适用于输入类型`file`。这是我的代码，我该如何调整它？

```
<input type="file" name="image">

$.ajax({
    type : "post" ,
    url :  LIB_PATH + "sharefund/sharefund.php" ,
    data : $("form[name=sharefunds]").serialize() ,
    dataType : "json",
    success : function(retData){
        alert(retData);
        if(retData != null && retData.hasOwnProperty("response"))
        {
            if(retData.response.code == '400')
            {
                $("span.error").html("Unable to update address, please try again later .").show();
            }
            if(retData.response.code == '200')
            {
                $("span.error").html("Your address has been updated successfully.").css('color' , 'green').show();
            }
        }

        __removeOverlay();
        setTimeout(function(){
            $("span.error").slideUp();
        }, 5000);
    }   
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:59:37.413

在 jquery 表单序列化中无法获取输入类型文件。您必须使用插件来上传 ajax 文件。