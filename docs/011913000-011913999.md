# StackOverflow 问答 11913000-11913999

# c++ - “＃包括 “与”#include "

> ID：11913002
> 
> 赞同：0
> 
> 时间：2012-08-11T07:47:51.340
> 
> 标签：c++, qt, include

当我在 Qt Creator 中创建一个新的移动应用程序时，我注意到在自动生成的代码中他们使用`#include <QtCore/QCoreApplication>`而不是`#include <QCoreApplication>`，即使两者应该工作相同。

由于 Qt Creator 本身就是这样做的，我认为这是推荐的约定。但是有什么理由会这样吗，有人可以解释使用`#include <QtCore/QCoreApplication>`代替的意义`#include <QCoreApplication>`何在吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T08:05:50.867

使用这种约定有多种原因：-

1.  如果编译器中包含的路径位于 QtCore 的目录级别，那么它将从那里跟踪包含文件 QCoreApplication。
2.  由于同一目录下存在多个 Qt 版本，因此最好使用一种丢弃歧义的约定。（由于两个 QCoreApplication 一个属于 Qt3 和另一个 Qt4 会误导编译器）

我在 /usr/include/ 中有两个目录

*   QtCore
*   Qt

他们两个都有 QCoreApplication 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T08:17:34.317

对于从表单生成的代码，您可以在“Designer”选项卡选项中更改它：“Use Qt module name in #include-directive”。

在指定模块时，我注意到一个小问题，但有时很烦人。默认情况下 qmake 添加`/path/to/qt/sdk/include`到包含路径。这意味着您可以例如做

```
#include <QtGui/QWidget> 
```

即使在你的项目文件中你有

```
QT -= gui 
```

然后编译顺利，但链接器会生你的气，因为不会选择 QtGui4 库进行链接。

如果你做了

```
#include <QWidget> 
```

编译反而会失败。

# objective-c - 对象是否只存在于创建它们的调度队列中？

> ID：11913004
> 
> 赞同：0
> 
> 时间：2012-08-11T07:48:12.647
> 
> 标签：objective-c, grand-central-dispatch

考虑这段代码：

```
dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0ul);

 dispatch_async(queue, ^{

UIGraphicsBeginImageContext(self.bounds.size);
CGContextRef context = UIGraphicsGetCurrentContext();

//perform some drawing into this context

UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();

dispatch_sync(dispatch_get_main_queue(), ^{
    self.imageView.image=viewImage;
    });
}); 
```

为什么在用例程的结果更新对象之前必须在最后获取主队列？为什么不只是在队列中更新`queue`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T07:52:26.467

任何接触 GUI 的东西都必须在主线程上。[（保证](http://developer.apple.com/library/mac/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW15)主调度队列在主线程上运行。） Cocoa/Cocoa Touch 的那部分不是线程安全的。

请参阅线程编程指南中的[“线程和您的用户界面” ：](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/Multithreading/AboutThreads/AboutThreads.html#//apple_ref/doc/uid/10000057i-CH6-SW21)

> ...建议您从应用程序的主线程接收与用户相关的事件并启动界面更新。[...] 一些框架，例如 Cocoa，通常需要这种行为...

图像视图是 GUI 的一部分，因此您只需要在主线程上设置它的属性。

例如，如果您正在更新一个数组，则不需要在主线程上执行此操作（您只需要注意同时发生的读取或其他写入）。

# asp.net - 如何防止asp.net中Global.asax文件的会话值重置？

> ID：11913011
> 
> 赞同：0
> 
> 时间：2012-08-11T07:49:18.753
> 
> 标签：asp.net, global-variables, session-variables, reset, global-asax

我有大约 10 个会话变量，用于存储每个不同 10 个类别的文件下载计数。我不知道为什么？但是我设置为 Global.asax 的会话变量会自动重置。

因为，*机器没有重新启动*。**文件下载的计数器仍然会重置**。任何的想法？请建议我任何解决方案。

在 Global.asax 中：

```
 void Application_Start(object sender, EventArgs e) 
    {
        Application.Add("MGM",0);
        Application.Add("PC",0);
        Application.Add("NC",0);
        Application.Add("TC",0);
        Application.Add("PGC",0);
    }

    The *shortCode* parameter is name of Global Session from Global.asax file. that i am passing to get the counter and increment accordingly.
In Download.aspx.cs Page:

private int GetCount(string shordCode)
{
    int count=0;
    count = Convert.ToInt32(Application[shortCode]);
    lock (Application[shortCode])
    {
        Application[shortCode] = ++count;
    }

    return count;
} 
```

我应该将值存储在文本文件中并在一定计数后相应更新说 500。如果是怎么办？我们的同事说，如果假设有许多用户下载文件，并且如果两者都从文本文件中访问相同的值，那么可能会出现 cuncurency。我很困惑......！感谢帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:04:27.207

请参阅 MSDN 页面了解[ASP.NET 应用程序状态](http://msdn.microsoft.com/en-us/library/ms178594.aspx)

摘抄：

> 由于应用程序状态存储在服务器内存中，因此无论何时停止或重新启动应用程序，它都会丢失。例如，如果更改了 Web.config 文件，应用程序将重新启动，并且所有应用程序状态都将丢失，除非应用程序状态值已写入非易失性存储介质（如数据库）。

默认情况下，在 IIS 上运行的 ASP.NET 应用程序将在不活动期间关闭其应用程序池。我相信这个的默认值是 20 分钟。此外，默认情况下，应用程序池每 1740 分钟（29 小时）回收一次。

发生这种情况时，您将丢失`Application[]`集合中未存储在更永久位置（例如数据库）中的任何内容。

上面提到的两个值都可以通过在具体的应用程序池中`inetmgr`点击右键，点击`Advanced Properties`弹出相应的窗口来修改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:00:35.253

好的好！，请尝试我的简单应用程序，四个你的问题：

```
 protected void Application_Start(object sender, EventArgs e)
    {
        Application.Add("MGM", 0); 
    }

    protected void Session_Start(object sender, EventArgs e)
    {
        Application.Lock();
        Application["MGM"] = System.Convert.ToInt32(Application["MGM"]) + 1; 
        Application.UnLock();
    }

    protected void Session_End(object sender, EventArgs e)
    {
        Application.Lock();
        Application["MGM"] = System.Convert.ToInt32(Application["MGM"]) - 1;
        Application.UnLock();
    }

    protected void Application_End(object sender, EventArgs e)
    {
        Application.Clear();
    } 
```

你的方法我改变了：

```
 private int GetCount(string shordCode)
{
    return Convert.ToInt32(Application[shortCode]); 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T11:38:47.477

好的，很好，我回答了这个问题，并尝试改变你的方法：

启动您的网络应用程序：

```
protected void Application_Start(object sender, EventArgs e) 
{
    Application.Add("MGM",0);
    Application.Add("PC",0);
    Application.Add("NC",0);
    Application.Add("TC",0);
    Application.Add("PGC",0);
} 
```

并更改了您的 get count 方法逻辑：

```
 private int GetCount(string shordCode)
    {
        //current app instance
        var currentApp = HttpContext.Current.ApplicationInstance.Application;

        //get item count
        var count = Convert.ToInt32(currentApp[shordCode]);

        //locking app for your asking count insrement
        currentApp.Lock();
        currentApp[shordCode] = ++count;

        //unlock app
        currentApp.UnLock();

        return count;
    } 
```

# javascript - jquery ui selectable：在加载时选择一个选项

> ID：11913012
> 
> 赞同：3
> 
> 时间：2012-08-11T07:49:22.793
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-selectable

我有以下 HTML：

```
<ol id="selectable">
    <li class="ui-state-default">Option 1</li>
    <li class="ui-state-default">Option 1</li>
    <li class="ui-state-default">Option 3</li>
</ol> 
```

例如，我需要在页面加载时默认选择第一个选项。我没有任何运气使用以下代码：

```
$(document).ready(function () {
    $('#selctable li:first').addClass('ui-selected');
}); 
```

关于我做错了什么的任何想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T07:56:37.313

您需要`selectable()`在将类添加到第一个之前调用`li`

```
$(function() {
    $( "#selectable" ).selectable().children().first().addClass('ui-selected');
});​ 
```

[**小提琴**](http://jsfiddle.net/N565p/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T07:53:45.950

你拼错了可选择的。

```
$('#selectable li:first').addClass('ui-selected');​ 
```

看看这个[jsFiddle](http://jsfiddle.net/cTfqT/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T08:03:40.720

attributeName - 使用 .attr() 并将值设置为 true：[http ://api.jquery.com/attr/](http://api.jquery.com/attr/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T07:54:48.067

```
$(document).ready(function () {
    $('#selectable li:first').attr("selected",true);
}); 
```

看到这个问题：[jQuery 不能在 <option> 元素上通过 attr() 设置 "selected"="selected"？](https://stackoverflow.com/questions/3729741/jquery-cannot-set-selected-selected-via-attr-on-option-elements)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-11T08:02:28.467

你可以这样使用

```
$('#selectable :first-child').addClass('ui-selected'); 
```

请检查示例：[FIDDLE](http://jsfiddle.net/MEJgb/42/)

# java - 在mybatis中返回HashMap，在spring MVC中作为ModelAttribute使用

> ID：11913013
> 
> 赞同：28
> 
> 时间：2012-08-11T07:49:48.097
> 
> 标签：java, spring-mvc, mybatis, ibatis

我想使用 spring mvc @modelAttribute 在我的 Jsp 页面中显示类别列表。

在我的 mapper.xml 文件中是

```
<select id="selectAllCategories" resultMap="BaseResultMap">
  select id, name from categories  
</select> 
```

在我的 Mapper.java 类中，我有方法

```
List<Map<String, String>> selectAllCategories(); 
```

我想要一个这样的方法：

```
Map<Integer, String>`selectAllCategories(); 
```

而不是`List<Map<>>`，这可能吗？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-08-11T13:33:45.770

你想得到一个`Map<Integer,String>`Integer 是 the`id`和 String 是 the 的地方`name`。如果您的表中有 200 个类别，您会希望地图中有 200 个条目，而不是 200 个地图的列表。

MyBatis 不能开箱即用地做到这一点，但你可以使用它的工具来做到这一点。我看到两个选项。

**选项1：**

第一个不是你要求的，但值得展示。它为您提供了一个`Map<Integer,Category>`where Category 是具有 id、name（以及可能来自 categories 表的其他字段）的类别表的域对象。`@MapKey`创建 Category 域对象后，在 MyBatis 中使用注释很容易做到这一点：

```
@Select("SELECT id, name FROM categories")
@MapKey("id")
Map<Integer,Category> getAllCategories(); 
```

在您的代码中，您将执行以下操作：

```
MyMapper mapper = session.getMapper(MyMapper.class);
Map<Integer,Category> m = mapper.getAllCategories(); 
```

根据您是否可以将名称提取为 Category 对象的属性，这可能适用于您的用例，也可能不适用。

**选项 2：**

为了得到`Map<Integer,String>`你想要的，我知道的最简单的方法是创建一个实现 MyBatis [ResultHandler](http://www.mybatis.org/mybatis-3/apidocs/reference/org/apache/ibatis/session/ResultHandler.html)接口的类。

您的 ResultHandler 将使用 MyBatis 创建的 column-name => column-value 的默认 hashmap 并创建单个主 Map。这是代码：

```
public class CategoryResultHandler implements ResultHandler {

  Map<Integer,String> inMap = new HashMap<Integer,String>(); 

  public Map<Integer, String> getIdNameMap() {
    return inMap;
  }

  @Override
  public void handleResult(ResultContext rc) {
    @SuppressWarnings("unchecked")
    Map<String,Object> m = (Map<String,Object>)rc.getResultObject();
    inMap.put((Integer)getFromMap(m, "id"), 
              (String)getFromMap(m, "name"));
  }

  // see note at bottom of answer as to why I include this method
  private Object getFromMap(Map<String, Object> map, String key) {
    if (map.containsKey(key.toLowerCase())) {
      return map.get(key.toLowerCase());
    } else {
      return map.get(key.toUpperCase());
    }
  }
} 
```

handleResult 方法在类别表中的每行调用一次。你告诉 MyBatis 使用 ResultHandler，然后像这样提取你的主地图：

```
CategoryResultHandler rh = new CategoryResultHandler();
session.select("getAllCategories", rh);
Map<Integer,String> m = rh.getIdNameMap(); 
```

这两个中的一个应该适合你。

最后的几点说明：

1.  为什么我要包含`getFromMap()`辅助方法？因为你不能总是控制 MyBatis 返回的 hashmap 中列名的大小写。更多细节在这里：[mybatis- 3.1.1。如何覆盖mybatis返回的resultmap](https://stackoverflow.com/questions/11720856/mybatis-3-1-1-how-to-override-the-resultmap-returned-from-mybatis/11732674#11732674)

2.  我在 mybatis-koans 的 Koan26 中有这些解决方案的工作示例（我根据您的问题添加）： [https ://github.com/midpeter444/mybatis-koans](https://github.com/midpeter444/mybatis-koans)

# bash - Sed 语法 - 分解

> ID：11913014
> 
> 赞同：2
> 
> 时间：2012-08-11T07:49:55.643
> 
> 标签：bash, sed

我想知道是否有人可以帮助我理解以下命令。此命令的目的是清除旧内核，但我想了解语法：

```
dpkg -l 'linux-*' | sed '/^ii/!d;/'"$(uname -r | sed "s/\(.*\)-\([^0-9]\+\)/\1/")"'/d;s/^[^ ]* [^ ]* \([^ ]*\).*/\1/;/[0-9]/!d' | xargs sudo apt-get -y purge 
```

这是我到目前为止所拥有的：

**dpkg -l 'linux-*'** - 列出包含*“linux-*”*模式的包

**sed '/^ii/!d;/'... - 查找以****ii**开头但不包含**d 的行；**

**"$(uname -r | sed "s/(.*)-([^0-9]+)/\1/")"'/d** - 命令替换以列出当前内核并仅从版本，**sed "s/(.*)...** - 搜索任意数量的字符，**...([^0-9]...** - 从数字 0-9 开始，我不明白这一点：**...+)/\1/...**

我完全迷失了这个：

**s/^[^]* [^]* ([^] *)。*/\1/;/[0-9]/!d'** - 它是否在寻找以字符串开头的空字符？

问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T09:02:17.277

所以，我们`sed`这里有一个很长的命令要分析：

```
'/^ii/!d;/'"$(uname -r | sed "s/\(.*\)-\([^0-9]\+\)/\1/")"'/d;s/^[^ ]* [^ ]* \([^ ]*\).*/\1/;/[0-9]/!d' 
```

它提供了一个在语法上匹配 'linux-*' 的包列表`dpkg`，这开始有点神秘，但行的开头表示有关包状态的信息。

`sed`命令本身很长（尽管我犯了更糟的罪！），但相当简单，没有循环或并发症。`sed`，正如 Fine Manual 告诉你的那样，接受程序作为用分号分隔的命令列表。因此，给定的`sed`程序有四个命令。

首先，'/^ii/!d'。我们删除不以“ii”开头的行。很简单。我们正在寻找要删除的已安装软件包。

其次，'/'"$(uname -r | sed"s/(.*)-([^0-9]+)/\1/")"'/d'。这是命令行中的命令行（使用`bash`'s $() 语法），所以我们将从内到外工作。目的显然是从我们当前运行的内核的包列表中过滤掉，所以我们不会删除它。的输出`uname -r`与 debian 包名称不完全匹配，因此它从“3.0.0-generic”之类的内容过滤为“3.0.0”。内部`sed`命令“s/(.*)-([^0-9]+)/\1/")”只是一个简单的正则表达式搜索和替换，它在任何输入之后切断输入的结尾连字符。在 $() 替换之后，外部`sed`命令看起来像这样 '/3.0.0/d' （取决于您正在运行的内核）。

第三和第四，'s/^[^]* [^]* ([^] *)。*/\1/' 和 '/[0-9]/!d' 是最终过滤器。第一个再次是基本的搜索和替换（在 中会更清楚`awk`），它提取行的第三个字段，这将是包名称，然后我们删除不包含数字的行（否则我们将删除引入内核升级的元包）。

最后，`xargs`逐行获取其输入并运行您在每一行传递的命令，并将该行附加到其参数中。因此，我们删除了我们找到的每个包。

# python - uWSGI 上的 OpenERP？

> ID：11913027
> 
> 赞同：0
> 
> 时间：2012-08-11T07:53:09.217
> 
> 标签：python, openerp, uwsgi

如何在 uWSGI 上运行 OpenERP？

我在网上找到了这个 wsgi 脚本，但不知道该放在哪里？

```
import openerp

try:
    import uwsgi
    uwsgi.port_fork_hook = openerp.wsgi.core.on_starting
except:
    openerp.wsgi.core.on_starting()

# Equivalent of --load command-line option
openerp.conf.server_wide_modules = ['web']

# internal TODO: use openerp.conf.xxx when available
conf = openerp.tools.config

# Path to the OpenERP Addons repository (comma-separated for
# multiple locations)
conf['addons_path'] = '/home/openerp/addons/trunk,/home/openerp/web/trunk/addons'

# Optional database config if not using local socket
#conf['db_name'] = 'mycompany'
#conf['db_host'] = 'localhost'
#conf['db_user'] = 'foo'
#conf['db_port'] = 5432
#conf['db_password'] = 'secret'

# OpenERP Log Level
# DEBUG=10, DEBUG_RPC=8, DEBUG_RPC_ANSWER=6, DEBUG_SQL=5, INFO=20,
# WARNING=30, ERROR=40, CRITICAL=50
# conf['log_level'] = 20

# If --static-http-enable is used, path for the static web directory
#conf['static_http_document_root'] = '/var/www'

# vim:expandtab:smartindent:tabstop=4:softtabstop=4:shiftwidth=4:

application = openerp.wsgi.core.application 
```

我在 /var/www/openerp/venv 的虚拟环境中安装了 OpenERP，我可以通过调用`$ openerp-server`.

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T11:31:36.373

您可以将脚本文件与 openerp-server.py 文件放在同一目录中。

但是，当我对其进行测试时，它不起作用，因为 gunicorn 在 import openerp 语句中找不到 openerp。原因是 openerp 没有作为 python 模块安装到系统周围的安装程序。

我认为当您使用 DEB 包进行 openerp 安装时它会起作用。（当你进行这样的安装时，你应该禁用启动脚本，这样它就可以从 gunicorn 运行。

让我也进行测试安装并分享结果。

# css - 背景图片+媒体查询

> ID：11913030
> 
> 赞同：0
> 
> 时间：2012-08-11T07:53:32.673
> 
> 标签：css, background, media-queries

我现在正在为媒体查询而苦苦挣扎。我的项目存储在这里：[http ://colorfill.pl/clients/ratuszowa](http://colorfill.pl/clients/ratuszowa)

正如您在顶部看到的那样，有一张巨大的照片作为主要的顶部元素之一。我想要实现的是始终保持 100% 的图像。我做了一个非常愚蠢的方法。我把照片切成了几个文件（每个文件都有自己的宽度）。但是当我想将它放入媒体查询时出现问题..

我为这些分辨率准备了照片（现在只显示屏幕宽度）：768 1024 1280 1360 1440 1600 1920 2048 2560 就像我提到的 - 每个分辨率都有自己的 img。我已经尝试过这样的事情：@media only screen and (max-width: 1024px) { } @media only screen and (max-width: 1280px) { } 但图像显示仍然相同 - 最小。我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T15:43:02.663

对不起，我没有多少时间来测试这样的东西，因为只有在我可以得出任何结论之后才能对其进行测试，但是如果您将这些图像用作整页背景和您的 css 技能，请尝试查看这些链接达不到可能需要的东西。

**1** . **[http://css-tricks.com/perfect-full-page-background-image/](http://css-tricks.com/perfect-full-page-background-image/)**

**2** . **[http://css-tricks.com/how-to-resizeable-background-image/](http://css-tricks.com/how-to-resizeable-background-image/)**

# c# - 如何导航到 DNN 中的模块？

> ID：11913034
> 
> 赞同：1
> 
> 时间：2012-08-11T07:54:00.427
> 
> 标签：c#, asp.net, dotnetnuke

我创建了一个 DNN 模块并将其添加到模块列表中。现在我想打电话给它，我试过这个：

```
Response.Redirect(Globals.NavigateURL(this.TabId, "Control Key", "parameter"), true); 
```

但它会打开默认页面，即为空！

我的模块在哪里？！？！或者我的错误在哪里？！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-12T18:09:06.507

您是否使用**Modules - Add Module**将模块添加到页面？

![在此处输入图像描述](../Images/736a362cf4ea1ff1adebcc4c865e3136.png)

如果模块被添加到页面中，您可以使用不同的重载`DotNetNuke.Common.Globals.NavigateUrl`来构建模块的不同控件的 url。除了作为一个方便的助手之外，还`Globals.NavigateUrl`使用友好的 url 提供程序来正确格式化 url。

```
Response.Redirect(Globals.NavigateURL(this.TabId, "Control Key", "parameter"), true); 
```

此重载重定向到“控制键”模块控件，使用“参数”作为附加查询字符串参数。参数“控制键”和“参数”充当占位符，应替换为适当的值。

[“参数”实际上是通过params](http://msdn.microsoft.com/en-us/library/w5zay9db.aspx)修饰符传递给形式参数的`params string[] AdditionalParameters`，它可以采用字符串或数组格式的可变数量的参数。

如果要重定向到默认视图控件，请使用重载

```
Response.Redirect(Globals.NavigateURL(TabId)) 
```

`this.TabID`仅当您想从模块中的另一个控件返回到默认视图控件时，重定向到没有控制键或查询字符串参数通常才有意义。

### 也可以看看

[DotNetNuke Wiki - 模块导航](http://www.dotnetnuke.com/Resources/Wiki/Page/Module-navigation.aspx)

# ruby-on-rails - Rails 抽象类 has_many

> ID：11913038
> 
> 赞同：1
> 
> 时间：2012-08-11T07:55:09.033
> 
> 标签：ruby-on-rails, inheritance, polymorphism, abstract-class, polymorphic-associations

正如标题所示，这没有任何意义。想象一下场景：

我有以下模型：`Game`、`GameType`和`Champion`。我希望只有特定的游戏`GameType`（如 MOBA）与模型有`has_many`关系`Champion`；其他人（如 FPS 等）不会。

我的第一个想法是创建一个`GameTypeMoba`抽象类，所有从它继承的类都可以拥有它的一些属性（例如拥有冠军）。但是，我知道这没有意义，因为未绑定到表的类不能具有表关系。此外，如果我能以某种方式将它组合在一起，它似乎只是一种糟糕的 WET（与 DRY 相对）的方法。

我希望有人有一个简单的解决方案，*不*涉及凌乱的应用程序逻辑。尽管此时我也接受“迟到，上床睡觉”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:06:25.923

查看 Rails 指南“has_many”关联参考 (http://guides.rubyonrails.org/association_basics.html#has_many-association-reference)，您可以在关联声明中使用条件选项。文档中提供的示例：

```
class Customer < ActiveRecord::Base
  has_many :confirmed_orders, :class_name => "Order",
    :conditions => "confirmed = 1"
end 
```

在您的情况下，我假设您希望将 "GameType" 的 :class_name 与 :conditions => "MOBA =" 一起使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-27T07:47:53.500

Mischa 是对的，在这种情况下，似乎没有什么可以做的更好/更清洁的事情了。为记录子集建立不需要的关系并不是什么大问题。

# jquery - jQuery如何测试这是否具有href属性

> ID：11913039
> 
> 赞同：3
> 
> 时间：2012-08-11T07:55:15.490
> 
> 标签：jquery, jquery-selectors

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-11T08:00:01.483

如果所选元素中缺少要找到的属性，jQuery 的 .attr() 函数将返回 undefined。

```
if($('a').attr('href') === undefined) { 
   // Element 'a' has no href
} 
```

注意：还有其他方法可以测试`undefined`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T08:10:59.590

```
if ($('a').not($('a:link')).length) {
    //you have `<a>` elements that are placeholders only
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-11T08:54:00.970

```
if((typeof $('a').attr('href')) !== 'undefined') { 
  // a has attr href, with 'undefined' not undefined 
} 
```

在 chrome、firefox、safari 和 ie8 上尝试使用 jquery 1.8。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-04-24T00:42:53.983

# jquery - IE8 jquery load() 未在指定位置加载

> ID：11913040
> 
> 赞同：1
> 
> 时间：2012-08-11T07:56:05.057
> 
> 标签：jquery

我有以下表格：

```
<div id="divSignup">
     <form method="post" name="signupForm" id="signupForm">
          <input type="text" id="email" name="email" value="" class="email2"/>
          <input type="hidden" id="SAMID" name="SAMID" value="" />
          <input type="hidden" id="x_building" name="x_building" value="" />
          <input type="hidden" id="x_street" name="x_street" value="" />

          <div id="divSignupForm">
               <cfinclude template="signup1.cfm">
          </div>
     </form>
</div> 
```

带有提交按钮的模板随`<cfinclude>`标签动态加载。在signup1.cfm 的提交上，jQuery 验证表单，然后更改表单名称和id 属性并加载新表单，再次使用自己的提交按钮。

```
$('#divSignupForm').load('signup2.cfm',function(){
    $('#signupForm').attr({'name':'signupForm2','id':'signupForm2'});
}) 
```

这一切在 FF 和 Chrome 和 IE9 中都很好用，但在 IE8 中却不行。

在 IE8 中，它似乎加载了新表单，但不在指定的 div 内。它似乎正在加载指定的 div。当我用以下内容提醒 div 的内容时：

```
alert($('#divSignupForm').html()); 
```

我得到以下结果，它清楚地显示`</FORM>`了加载内容上方的结束标记。**注意：包含的模板都没有`<form>`标签。父级中只有一个表单标签集。**

难道是IE8不喜欢的加载表单中的一些标签？可能的 jQuery 冲突？该网站也使用 MooTools。

![在此处输入图像描述](../Images/17570437084f09e0e06430eee063d60e.png)

# symfony - 如何在其他模板的同一目录中扩展树枝模板？

> ID：11913042
> 
> 赞同：4
> 
> 时间：2012-08-11T07:56:33.480
> 
> 标签：symfony, twig

我在同一个目录文件夹中有 index.html.twig 和 base.html.twig ..我有以下 scipts

index.html.twig

```
{% extends('base.html.twig') %}

{% block body %}
    helo body
    {{ parent() }}
{% endblock %}
{% block footer %}
    This footer
{% endblock %} 
```

base.html.twig

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>{% block title %}Welcome!{% endblock %}</title>
        {% block stylesheets %}{% endblock %}
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
    </head>
    <body>
        {% block body %}The body block{% endblock %}
        {% block sidebar %}The body sidebar{% endblock %}

    </body>
</html> 
```

它返回给我一个错误“无法在“FacebookBundle:Default:index.html.twig”中找到模板“base.html.twig”。我还注意到有些人在模板名称之前使用了 :: .. 为什么会这样我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-11T21:08:25.700

你必须`FacebookBundle:Default:base.html.twig`在你的`index.html.twig`.

当您`::`将模板直接放在`view/`目录中而不是子目录中时使用（即：本示例中的布局：`Bundle::layout.html.twig`而不是`Bundle:Controller:index.html.twig`）

```
Bundle
    Resources
        views
            Controller
                index.html.twig
            Default
                base.html.twig
                index.html.twig
            layout.html.twig 
```

# .net - 从资源文件或文件夹中设置 .Net PictureBox.Image 是否更快

> ID：11913048
> 
> 赞同：0
> 
> 时间：2012-08-11T07:57:41.370
> 
> 标签：.net, vb.net, performance, resources

根据标题，从资源而不是应用目录中的文件夹加载图像的性能有什么不同吗？例如。

```
PictureBox1.Image = My.Resources.MyImage 
```

而不是

```
PictureBox1.ImageLocation = C:\....\Images\MyImage.png
PictureBox1.Load() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T15:46:00.627

这是一个核心的 Windows 设计属性，它没有真正的区别。在这两种情况下，都将涉及从磁盘读取图像。机制不同，但结果是一样的。当您将其作为资源嵌入时，图像已经通过内存映射文件映射到内存中。但是数据不是，一旦你访问资源，你就会触发一个页面错误，让 Windows 将资源读入 RAM。当您从文件中读取它时，您将使用文件系统缓存。它还将文件数据读入 RAM。它应该稍微慢一些，因为文件系统还必须完成在磁盘上查找文件的工作。

当需要再次加载图像时，例如当您在 Paint 事件处理程序中使用它时，如果数据仍在 RAM 中并且没有因为另一个进程需要它而被丢弃，则行为是相同的。您将在不读取文件的情况下获得它。这使得分析这样的代码变得特别困难，你总是会得到满意的结果。

寻找文件的努力在这里起到了平衡作用，如果资源很少使用，它会更快。以永久消耗虚拟地址空间为代价，您永远不想将非常大的图像放入资源中。例如，“非常大”是十几个兆字节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T08:38:53.227

不同之处在于从资源加载图像不需要您将路径硬编码到应用程序中。当您的应用程序在资源中时，图像将始终存在。如果您在磁盘上硬编码路径，则情况并非如此。

因此，您应该始终使用资源。我怀疑有任何速度差异。如果有，并且您认为资源的固有优势不会超过它，我保证它可以忽略不计且完全无关紧要。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T08:31:15.650

如果您想知道哪个更快，请测量它！检查分配很多次之前和之后的时间。

通常，如果资源不变，您会选择资源。这更容易，因为如果您使用方案 2 并且文件不存在会发生什么？

# javascript - 按属性对对象的JavaScript数组进行排序时数字有什么问题

> ID：11913055
> 
> 赞同：1
> 
> 时间：2012-08-11T07:59:15.383
> 
> 标签：javascript, string, numbers, sorting

以下是按某些属性对对象数组进行排序的函数。

```
function createCompareFunc(propertyName){ 
  return function(obj1, obj2){    
    var val1=obj1[propertyName];   
    var val2=obj1[propertyName];
    return val1-val2;    
  }
}

var data=[{name:'a', age:12},{name:'b',age:5}];    
console.log(typeof data[0]['age']); //number    
console.log(data.sort(createCompareFunc('name')));    
//[Object{name="a", age=12},Object{name="b",age=5}]   
console.log(data.sort(createCompareFunc('age')));     
//[Object{name="a", age=12},Object{name="b",age=5}], but I want to get '[Object{name="b",age=5},Object{name="a", age=12}]' 
```

号码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:04:45.317

在第 6 行输入 obj1 而不是 obj2。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:09:54.057

这是代码及其对您所要求的工作：

```
function createCompareFunc(propertyName){
  return function(obj1, obj2){ 
     val1=obj1[propertyName];   
     val2=obj2[propertyName];    
    return val1-val2;    
  }
}

var data=[{name:'a', age:12},{name:'b',age:5}];    
console.log(typeof data[0]['age']); 
console.log(data.sort(createCompareFunc('age'))); 
console.log(typeof data[0]['name']);
console.log(data.sort(createCompareFunc('name'))); 
```

有一个逻辑错误，我想你没有注意到它。您不能在 javascript 中将字符串与 - 运算符进行比较，因此将属性类型作为参数传递给 createCompareFunc(propertyName,type)，并基于该类型对其进行排序。例如：

```
createCompareFunc(propertyName,type)
{
//function
//sorting based on type of element
}
createCompareFunc('age',typeof data[0]['age']); 
```

# .net - 强名称导致编译失败

> ID：11913057
> 
> 赞同：0
> 
> 时间：2012-08-11T07:59:40.027
> 
> 标签：.net, compilation, strongname

我想在我的项目中引用两个 dll。它们是 A.dll 和 B.dll。B.dll 引用了 A.dll。他们没有强大的名字。我的项目 C 需要签署强名称。所以我需要为 A.dll 和 B.dll 签署强名称。之后，我遇到了一个问题 - 我无法编译成功，B.dll 的代码无法转换为 A.dll 中的类型包含。我知道为什么会这样。我对 A.dll 和 B.dll 都签名了强名称，但 B.dll 仍然引用没有强名称的 A.dll。所以我的问题是，如何为 B.dll 和 B.dll 引用 A.dll 签署强名称。不仅引用 B.dll 或 A.dll。这是项目和错误消息： ![在此处输入图像描述](../Images/6e6d1533a61b4acbe2c4fdf4d50a0942.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T09:44:08.057

谢谢！这是解决方案： http: [//buffered.io/posts/net-fu-signing-an-unsigned-assembly-without-delay-signing](http://buffered.io/posts/net-fu-signing-an-unsigned-assembly-without-delay-signing)

# java - 在Java中建立字符串和整数之间关系的任何优雅方法？

> ID：11913065
> 
> 赞同：0
> 
> 时间：2012-08-11T08:01:22.367
> 
> 标签：java

我有一个类，它有许多字符串类型的字段。我想编写一个方法作为所有这些字段的设置器，所以我需要一个开关。我的问题来了，如何将字段名称映射为适合开关的整数？我不想要`Integer.parseInt()`，因为我不知道 char 可能是什么并且无法选择合适的基数。我也不想手动构建地图。有什么好用的技巧吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:19:23.113

为什么不在 switch case 本身中使用字符串？您不需要为此在字符串和整数之间建立任何关系。Java 7 在内部对此进行了维护。

```
switch(string){
case "one":
  -- do something--
  break;
case "two":
  -- do something --
  break;
....
.. 
```

如果您真的想在字符串和整数之间保持良好而有效的关系，以便您可以在 switch 中使用它——**看看使用字符串的 switch 的实现——并检查它的字节码**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:06:03.067

您可以使用具有 setter 和 getter 的 List。List 可以容纳任何类型的 Object。

```
List<Employee>  empList = new ArrayList(Employee);

    public List<Employee> getEmpList() {
            return empList;
        }

        public void setEmpList(List<Employee> empList) {
            this.empList = empList;
        }

In your Employee Class 

Employee
String firstName
String lastName
String address
int age 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T08:23:03.100

你为什么不像其他人一样将字段名称编码为方法名称而不是参数：

```
public void setXXX(int xxx) // sets XXX
public void setYYY(int yyy) // sets YYY 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T10:37:45.200

如果您编写一个枚举，其中成员的名称与您的输入字符串完全相同：

```
enum MyEnum { CASE_1, CASE_2 } 
```

然后你可以简单地打开`MyEnum.valueOf(inputString)`：

```
switch (MyEnum.valueOf(inputString)) {
  case CASE_1: setCase1Field(); break;
  case CASE_2: setCase2Field(); break;
} 
```

# c# - 列表是否存储句柄/引用或者它们是值类型？

> ID：11913071
> 
> 赞同：0
> 
> 时间：2012-08-11T08:02:58.157
> 
> 标签：c#, .net

显然，如果我创建一个列表并用“new object()”填充它，那么它将存储对象的内存，但是如果我创建一个仅由已定义的对象组成的列表，这个列表本质上是一个列表吗？句柄，还是将所有数据/内存复制到列表中？

我只是想知道，这样我就可以编写更干净的代码，比如如果它实际上是在复制内存，那么我会做不同的事情，因为我不希望它复制内存，这会导致延迟。

您的答案是否也适用于数组？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T08:14:52.133

> 显然，如果我创建一个列表并用“new object()”填充它，那么它将存储对象的内存，

不，它将存储对对象的引用。C# 中任何表达式的值都是值类型值、引用或指针。*从来没有*一个实际的对象。

所以这：

```
List<object> objects = new List<object>();
objects.Add(new object()); 
```

相当于：

```
List<object> objects = new List<object>();
object foo = new object();
objects.Add(foo); 
```

在这两种情况下，列表都将包含对该对象的引用。这不仅仅是列表的情况——理解它对于赋值、参数传递至关重要——基本上是复制引用的*任何地方。*举个简单的例子：

```
StringBuilder sb1 = new StringBuilder();
StringBuilder sb2 = sb1;
// sb1 and sb2 now have the same value: a *reference* to an object
sb2.Append("Hello");
Console.WriteLine(sb1); // Prints Hello 
```

有关更多信息，请参阅我关于[值和引用类型](http://pobox.com/~skeet/csharp/references.html)以及[参数传递](http://pobox.com/~skeet/csharp/parameters.html)的文章。

# css - div忽略设置宽度约束，CSS

> ID：11913072
> 
> 赞同：1
> 
> 时间：2012-08-11T08:03:00.043
> 
> 标签：css, layout

全部。我有这个问题，我明确规定了某个 div 应该有多宽，但它忽略了它。我有一个包装器，我想要并排放置一个侧边栏和一个内容栏。内容栏似乎正在推开侧边栏并填满所有空间。

有问题的代码：

```
#wrapper{
    font-family: "Georgia", serif;
    min-height: 100%;
    height: auto !important;
    height: 100%;
    margin: 0 auto -2em;
    width: 700px;
    position: relative;
}

#content{
    float: left;
    width: 400px;
    padding-left: 25px;
    padding-right: 50px;
}

#sidebar {
    float: right;
    width: 175px;
    padding-right: 25px;
} 
```

简而言之，HTML 就是 Blah Blah Blah

我将 Lorem Ipsum 放在内容所在的位置，并将一些 Lorem Ipsum 放在侧边栏中。chrome 中的元素检查器显示内容为 700 像素宽，即使我声明它为 400 像素。我真的不在乎ie6的兼容性。

[http://imgur.com/A1w0a](http://imgur.com/A1w0a)应该是这样的。

有人说一些关于小提琴的事情。我这样做对[吗 http://jsfiddle.net/R3Wyw/1/](http://jsfiddle.net/R3Wyw/1/) 大 Lorem Ipsum 块更瘦，只有 400 像素的文本，而侧边栏应该向上移动并插入它旁边。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:22:29.573

You've basic HTML and CSS syntax problems in your code:

*   HTML ending tags should be written `</div>` and never ever `</div id="content">`.

Good:

```
 <div id="content" class="something" role="main">
      <p>Content</p>
    </div> 
```

Bad:

```
 <div id="content" class="something" role="main">
      <p>Content</p>
    </div id="content" class="something" role="main"> 
```

*   CSS comments must be written `/* a CSS comment */`, not `<-- HTML comment -->`

You should try to validate your code in [http://validator.w3.org](http://validator.w3.org) (HTML) and [http://jigsaw.w3.org/css-validator/](http://jigsaw.w3.org/css-validator/) (CS) before posting (use the Web Developer Toolbar extension on Firefox to do it fast).
Error messages are sometimes a bit cryptic but they're always the same ;) Google for them to get explanations or ask here on SO.

For width problems, I add different background-color to elements and parents, to better see which one isn't as expected (and which one has only floating children and thus no real content in the flow anymore thus no height thus no visible background color...). Like lightblue, lightgreen, pink, lightyellow, etc This and MeasureIt! extension on Fx.

# mongodb - Mongoose JS 承诺？或者如何管理批量保存

> ID：11913074
> 
> 赞同：8
> 
> 时间：2012-08-11T08:03:10.950
> 
> 标签：mongodb, synchronization, mongoose

如何在 Mongoose 中管理批量保存？我看到它可能还不可能：

*   [如何在 Mongoose/Node.js 中同时保存多个文档？](https://stackoverflow.com/questions/10266512/how-can-i-save-multiple-documents-concurrently-in-mongoose-node-js)

有人提到使用一些流控制库，例如[`q`](https://github.com/kriskowal/q)，但我也注意到猫鼬中有[承诺](http://mongoosejs.com/docs/api.html#index_mongoose-Promise)，可以使用吗？我可以在 jQuery Deferred/Promises 中做喜欢的事吗

```
$.when(obj1.save(), obj2.save(), obj3.save()).then ->
    # do something? 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-07-02T08:43:39.387

是的，你可以通过 Promise 做到这一点。如果您使用的是[Q](https://github.com/kriskowal/q) Promise 库，您可以重写 @matz3 的代码，例如：

```
var tasks = [];

for (var i=0; i < docs.length; i++) {
  tasks.push(docs[i].save());
}

Q.all(tasks)
  .then(function(results) {
    console.log(results);
  }, function (err) {
    console.log(err);
  }); 
```

我们在循环中一次启动所有操作，但我们不等待其中任何一个完成，因此它们并行运行。我们向一个数组添加一个 Promise（其作用类似于结果的占位符）。然后我们等待 promise 数组中的所有 promise 完成。

大多数好的[Promises/A+](http://promises-aplus.github.io/promises-spec/)兼容库都有一些等价于`Q.all`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-09-25T03:05:48.150

mongoose 现在允许您选择哪个 Promise 实现。

这里我使用的是 node.js 默认系统 Promise (ES6) 烘焙到 nodejs

```
var mongoose = require('mongoose');
    mongoose.Promise = global.Promise; // use system implementation

Promise.all(obj1.save(), obj2.save(), obj3.save())
.then(function(resultSaves) {

    console.log('parallel promise save result :');
    console.log(resultSaves);
    mongoose.disconnect();

}).catch(function(err) {

    console.log('ERROR on promise save :');
    console.log(err);
    mongoose.disconnect();
}); 
```

节点 --version v4.1.1

猫鼬@4.1.8

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-04-19T15:27:43.523

由于`mongoose`现在支持你可以使用的承诺`Promise.all().then()`，所以当所有承诺都解决后它会返回。

```
Promise.all([
  obj1.save(),
  obj2.save(),
  obj3.save()
])
.then(console.log)
.catch(console.error) 
```

事实上，如果你总是调用这个`save()`方法，你可以在`Array.map()`这里使用：

```
Promise.all([ obj1, obj2, obj3 ].map( obj => obj.save() ) 
```

Aaand 还使用 es6 语法来解构生成的数组：

```
Promise.all(
  [ obj1, obj2, obj3 ]
  .map( obj => obj.save() )
)
.then( ([ savedObj1, savedObj2, savedObj3 ]) => {
   // do something with your saved objects...
}) 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-20T06:29:35.057

试试[异步](https://github.com/caolan/async)模块的[并行](https://github.com/caolan/async#paralleltasks-callback)功能。

```
var functions = [];

for (var i=0; i < docs.length; i++) {
    functions.push((function(doc) {
        return function(callback) {
            doc.save(callback);
        };
    })(docs[i]));
}

async.parallel(functions, function(err, results) {
    console.log(err);
    console.log(results);
}); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-15T15:03:29.583

要并行保存多个 mongoose 文档，您可以执行以下简单操作（假设您有一个名为`docs`要保存的文档的数组）：

```
var count = docs.length;
docs.forEach(function(doc) {
    doc.save(function(err, result) {
        if (--count === 0) {
            // All done; call containing function's callback
            return callback();
        }
    });
}); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-17T19:00:37.453

一个关于如何使用[异步并行](https://github.com/caolan/async#paralleltasks-callback)的精炼示例是：

```
 async.parallel([obj1.save, obj2.save, obj3.save], callback); 
```

由于 Mongoose 中的约定与 async (err, callback) 中的约定相同，因此您无需将它们包装在您自己的回调中，只需将您的保存调用添加到一个数组中，当一切完成时您将收到一个回调。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2014-02-22T00:49:18.347

怎么样[async.queue](https://github.com/caolan/async#queue)。
一个简单的例子：

```
var queue = async.queue(function(obj, callback) {
  return obj.save(callback);
});

for (var i in objs) {
  var obj = objs[i];
  // Some changes on object obj
  queue.push(obj);
} 
```

如果队列清空后需要回调：

```
var emptyQueue = true;
var queue = async.queue(function(obj, callback) {
  return obj.save(callback);
});
queue.drain = function() {
  // Every callbacks are finished
  // bigCallback();
};

for (var i in objs) {
  var obj = objs[i];
  // Some changes on object obj
  queue.push(obj);
  emptyQueue = false;
}
if (emptyQueue) {
  // Call manually queue drain in case of the queue is empty
  //  and we need to call bigCallback() for example
  return queue.drain();
} 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2015-06-16T19:27:52.070

@ForbesLindesay 当您可以使用承诺的猫鼬实现并创建自己的 All 时，为什么要加载外部库？

创建一个模块来增强 mongoose 的承诺。

```
var Promise = require("mongoose").Promise;

Promise.all = function(promises) {
  var mainPromise = new Promise();
  if (promises.lenght == 0) {
    mainPromise.resolve(null, promises);
  }

  var pending = 0;
  promises.forEach(function(p, i) {
    pending++;
    p.then(function(val) {
      promises[i] = val;
      if (--pending === 0) {
        mainPromise.resolve(null, promises);
      }
    }, function(err) {
      mainPromise.reject(err);
    });
  });

  return mainPromise;
}

module.exports = Promise; 
```

然后将它与猫鼬一起使用：

```
require('./promise')

...

var tasks = [];

for (var i=0; i < docs.length; i++) {
  tasks.push(docs[i].save());
}

mongoose.Promise.all(tasks)
  .then(function(results) {
    console.log(results);
  }, function (err) {
    console.log(err);
  }); 
```

# regex - 使用正则表达式从键值对中提取最后一个值

> ID：11913076
> 
> 赞同：0
> 
> 时间：2012-08-11T08:03:21.387
> 
> 标签：regex, pcre

这是示例文本-

```
display_errors = On
display_errors= Off
display_errors = On 
```

我想提取 last 的值`display_errors`。我怎么做？

到目前为止，我已经`display_errors =(?!.*display_errors = )`能够匹配`display_errors =`但我想要它的价值，而不是关键。

我正在使用 libpcre 与 . 匹配所有选项

请注意我必须使用正则表达式而不是任何 .ini 解析库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:13:12.377

尝试以下操作：

```
display_errors\s*=\s*([a-zA-Z]+)(?!.*display_errors\s*=) 
```

这应该与键的最后一个值匹配`display_errors`，假设值是字符`a-z`（但如果需要，可以轻松更新接受字符列表）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:12:48.590

用换行符分割文本，用这样的正则表达式遍历每一行：

```
display_errors ?= ?(On|Off) 
```

编译时不区分大小写以捕获轻微错误。捕获第一组的值以从该匹配中获取状态。在循环的每次迭代中，只需用当前状态覆盖一个变量，循环结束后，该变量将包含最后一个 display_errors 的值。

# php - mysql,如何将四舍五入的数字保存到长文本字段中？

> ID：11913078
> 
> 赞同：1
> 
> 时间：2012-08-11T08:03:31.467
> 
> 标签：php, mysql

我做了这个计算：

```
$number = round(count($exc)/ count($grades),2,PHP_ROUND_HALF_UP); 
```

保存时，我必须将其保存到现有表的字段中，该表是长文本类型。这些数字已保存但变得很长，例如 0.200000000000000011102230246251565404236316680908203125 我认为这可能会导致额外的数据库存储。当我查询数字时，它们仍然四舍五入为 2 位数字。所以，这是一项额外的转换工作。我想学习如何将这些数字保存为四舍五入？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:08:20.747

您可以使用 PHP sprintf 函数和格式说明符，如下所示：

```
$number = sprintf("%.3f", round(count($exc)/ count($grades),2,PHP_ROUND_HALF_UP)); 
```

如果您需要更多信息，请查看此处的 sprintf PHP 文档[http://it2.php.net/manual/en/function.sprintf.php](http://it2.php.net/manual/en/function.sprintf.php)。

# c# - 未插入 NULL 值

> ID：11913088
> 
> 赞同：1
> 
> 时间：2012-08-11T08:05:16.643
> 
> 标签：c#, asp.net, sql-server-2008

我有一个包含几个 NULL 列的表。我创建了一个存储过程。

当我在 Web 表单的控件中输入值时，我需要在所有字段中输入值，否则，我会收到一条错误消息：

> *System.FormatException：输入字符串的格式不正确。*

在线上：

```
cmd.Parameters.Add(new SqlParameter("@Mob2", Convert.ToInt32(TextBox5.Text))); 
```

我什至尝试过

```
cmd.Parameters.Add(new SqlParameter("@Mob2", int.parse(TextBox5.Text))); 
```

但我无法在 TextBox 控件中将其保留为 NULL ..

在表中，数据类型是`numeric(10,0)`.. 在我提到的存储过程中`nvarchar(10)`，插入时我已经像这样转换了，

```
Convert(numeric(10,0),@Mob2) 
```

但它似乎没有得到转换..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:18:09.223

`Convert.ToInt32(TextBox5.Text)`空字符串总是会失败。所以检查一下：

```
object val = string.IsNullOrEmpty(theString) ? (object)DBNull.Value
                                             : int.Parse(theString); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T08:09:50.740

检查TextBox5.Text的值，与文本框值有关的问题

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T10:17:21.520

确保手机号码是必填字段

如果不是，请确保在您的数据库表`mobile number`中未选中您的数据库表字段`NULL`。这就是你得到这种错误的方式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T08:12:39.573

您正在尝试将一个空字符串解析为一个整数，您应该使用[int.TryParse](http://msdn.microsoft.com/en-us/library/system.int32.tryparse%28v=vs.80%29)或者如果您将一个空值插入到数据库字段中，则应使用以下行：

```
cmd.Parameters.Add(new SqlParameter("@Mob2", 
!string.IsNullOrEmpty(TextBox5.Text.Trim()) ?int.parse(TextBox5.Text) 
: SqlInt32.Null)); 
```

如果 TextBox5.Text == null 或为空，则将 Sql Int32 null 值插入数据库

**更新地址用户评论** 如果您使用的是 numeric(10,0)，请将 TextBox5 值转换为十进制并将存储过程从 varchar(10) 更改为 numeric(10,0) 以匹配表列数据类型，然后您可以使用类似于以下的代码：

```
SqlParameter numericParameter = new SqlParameter("NumericValue",SqlDbType.Decimal);
numericParameter.Precision = 10;
numericParameter.Scale = 0;
numericParameter.Value = !string.IsNullOrEmpty(TextBox5.Text.Trim()) ?decimal.parse(TextBox5.Text) 
: SqlInt32.Null); 
```

# assembly - 如何在 fpu 上反转除法 1/f？

> ID：11913091
> 
> 赞同：0
> 
> 时间：2012-08-11T08:05:51.793
> 
> 标签：assembly, x86, fpu

抱歉这么简单的问题，（从几天开始学习组装）但我正在浏览书籍并找不到答案

什么是计算 1/f 的正确快速方法，其中 f 是 x86 fpu 上的一些浮点数

是吗

```
 fld dword [ebp+8]
    fld1
    fdivrp            ; fdivrp st0 st1 ? 
```

?

这是正确的（我的意思是字面意思是因为我不确定 fdivr args）还是某种最快最简单的方法？

//编辑

这是在经典 fpu asm 中 div 1/f （或 1/sqrt(f) 的最佳方法吗？（没有 sse，也没有 carmack 技巧 - 我将尝试 l8er，现在我正在尝试做 'proper fpu' ）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T08:18:32.470

来自英特尔 CPU 文档：

> FDIVRP - ST(0) 除以 ST(1)，将结果存储到 ST(1)，然后弹出寄存器堆栈。

阅读文档。

# java - java spring框架知识整理

> ID：11913096
> 
> 赞同：0
> 
> 时间：2012-08-11T08:06:36.143
> 
> 标签：java, spring

我最近关注了一些spring相关的教程，感觉很快就会忘记现在学到的概念，因为我现在从事的项目，不要使用spring。

我很想巩固我学到的东西并与春天保持联系。我的问题是我应该开始什么样的项目才能涵盖我在春季学到的大部分概念？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:14:15.003

为自己想一个项目。例如照片分享应用。我就是这样做的。我为自己想了一个项目，并在空闲时间编写代码——例如，与 Spring 保持联系。

顺便说一句，我上一个使用 spring 的项目现在有超过 100 个注册用户，这是我没想到的，他们都需要其他功能——这样你也必须改进。

我可能会建议**将 openshift**作为您的部署环境——它可以免费使用 eclipse 插件。你也可以在这里问/回答与春天相关的问题——这当然总是有帮助的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T05:02:21.000

想一些例子，尝试用spring解决，写一些关于spring的博客，贡献一些使用spring的开源项目。这是我学习春天的方式，现在还在做。:)

# python - 打印非 ASCII 字符

> ID：11913098
> 
> 赞同：2
> 
> 时间：2012-08-11T08:08:03.037
> 
> 标签：python, terminal

我想在控制台上渲染特殊的非 ASCII 字符，就像旧 DOS 程序中用于在终端中绘制窗口的字符一样。我特别想绘制他们在渲染窗口/对话框/表格时使用的字符，如下所示：

![Norton Commander DOS 菜单](../Images/e4175de54995617a48b9c7853ac8322a.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:12:21.057

您可以使用 Python[`curses`](http://docs.python.org/library/curses.html)库，它是 *nix 系统上标准库的一部分，或者您可以使用[Urwid](http://excess.org/urwid/)，它是用于创建控制台界面的更高级别的库。

[文档的常量](http://docs.python.org/library/curses.html#constants)段落包含有关如何在 X Emulators 中绘制特殊字符的信息（如果它们支持 VT100 继承的功能）。如果模拟器不支持这种替代字符集 - 使用 ascii 近似值。我想这就是你要找的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-12T16:42:38.603

这是直接打印到控制台的方法，尽管像这样的库`curses`肯定更容易。

弄清楚您的控制台支持哪些字符：

```
import sys
print('encoding =',sys.stdout.encoding)
print(bytes(range(256)).decode(sys.stdout.encoding) 
```

> ```
> encoding = cp437
>  ☺☻♥♦
> ♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂Çüéâäà
> åçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²
> ■ 
> ```

然后将它们打印为 Unicode 字符。确保将源文件保存为 UTF-8（Python 3 的默认值）或使用注释声明源文件中使用的编码。UTF-8 可以处理任何字符，但是如果您打印一个您的终端不支持的字符，您将在 3.6 之前的 Python 中得到一个。`**#coding:** *encoding*``UnicodeEncodeError`

```
print('╔═╦═╗╓─╥─╖╒═╤═╕┌─┬─┐')
print('║ ║ ║║ ║ ║│ │ ││ │ │')
print('╠═╬═╣╟─╫─╢╞═╪═╡├─┼─┤')
print('║ ║ ║║ ║ ║│ │ ││ │ │')
print('╚═╩═╝╙─╨─╜╘═╧═╛└─┴─┘') 
```

> ```
> ╔═╦═╗╓─╥─╖╒═╤═╕┌─┬─┐
> ║ ║ ║║ ║ ║│ │ ││ │ │
> ╠═╬═╣╟─╫─╢╞═╪═╡├─┼─┤
> ║ ║ ║║ ║ ║│ │ ││ │ │
> ╚═╩═╝╙─╨─╜╘═╧═╛└─┴─┘ 
> ```

# javascript - 为什么我不能将 undefined 分配给 window.load？

> ID：11913101
> 
> 赞同：2
> 
> 时间：2012-08-11T08:09:02.597
> 
> 标签：javascript, undefined

我刚刚注意到这个奇怪的效果

```
window.onload = undefined;
console.log(window.onload); // print 'null', instead of 'undefined' 
```

虽然它对其他对象（包括内置对象）按预期工作，例如

```
Array.prototype.slice = undefined;
console.log(Array.prototype.slice); // print 'undefined' 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T08:51:56.573

这种行为是这样的，因为`.onload`它是一个 setter，它的工作方式如下：

```
window = {
    // Other window properties and methods

    get onload() {
        // returns null if no function was added or returns the last function added
    },

    set onload(value) {
        if (typeof value === 'function') {
            loadListener = value; // loadListener is the function called when load event is triggered
        }
    }

    // Other window properties and methods
} 
```

# joomla - 在访问调查之前输入电子邮件地址和电话号码

> ID：11913103
> 
> 赞同：1
> 
> 时间：2012-08-11T08:09:34.953
> 
> 标签：joomla, survey

我是 joomla 1.5 的新手。我正在尝试实施调查表。如果用户不是注册用户，则他或她可以在提供他或她的电子邮件地址和电话号码后访问调查表。否则，如果用户是注册用户，则他/她可以直接访问调查表，无需提供电子邮件或电话号码。然后根据该调查，管理员可以通过该电子邮件 ID 或电话号码与他/她互动。我将如何根据这种情况进行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:26:16.810

```
//detect if a user entity exists in the session:
$user = JFactory::getUser();
if ($user->guest) { //this is a registered user
  //redirect to the survey page
  header('Location: http://www.example.com/your-survey');
}
else{
  //display a form
  //with email & phone number
} 
```

# mysql - JOIN 返回太多结果

> ID：11913105
> 
> 赞同：0
> 
> 时间：2012-08-11T08:09:50.133
> 
> 标签：mysql, query-optimization

这个问题与：

[ON 子句中的另一个未知列名错误](https://stackoverflow.com/questions/11912840/another-unknown-column-name-error-in-on-clause)

我的实际查询：

```
 SELECT  c.title AS title
      , c.introtext AS body
      , c.state AS state
      , c.created AS created
      , c.created_by AS uid
      , c.modified AS modified
      , c.modified_by AS modified_uid
      , c.published AS published
      , c.published_by AS published_uid
      , jc.title AS category
    FROM  jos_content AS c
    INNER JOIN jos_categories AS jc 
    ON c.sectionid = jc.section 
    WHERE c.sectionid = 4 
```

我想按部分和该内容的类别名称获取内容。

我知道在 jos_content 表中，id 为 4 部分的行是 8000，但是这个查询返回我大约 177k 行。

我尝试将 INNER JOIN 更改为 LEFT 等并使用 DISTINCT 但它无济于事

表格列：

```
jos_content:    

id, title, introtext, state, created, created_by etc

jos_categories:

  id, section (id of sections, names doesn't naming convention IMO, its Joomla 1.5 db BTW), title

jos_sections:
  id, title 
```

我想要得到的是：

jos_content.title (etc) 和所选部分的 jos_categories_name

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:31:16.867

由于缺乏信息，我无法告诉您如何编写查询，但我可以告诉您为什么您在现有查询上得到错误的结果。

如果这是您的表格的内容（简化）；

```
jos_content:    id      sectionid      title
                 1              4      Content 1 
                 2              4      Content 2

jos_categories  id        section      title
                 1              4      Category 1
                 2              4      Category 2 
```

...然后您运行查询（简化）...

```
SELECT  c.title AS title
     , jc.title AS category
FROM  jos_content AS c
INNER JOIN jos_categories AS jc 
ON c.sectionid = jc.section 
WHERE c.sectionid = 4 
```

...结果，您将获得 4 行（第 4 节中的类别数乘以第 4 节中的内容项数）。

```
title        category
Content 1    Category 1
Content 2    Category 1
Content 1    Category 2
Content 2    Category 2 
```

原因是查询中没有将内容绑定到类别的任何内容，您正在通过部分进行查询，该部分为您的查询提供了许多可能的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:19:04.417

或者，试试这个 script.Group by [SectionId] 设置中的 [Content] 表：

```
SELECT  c.title AS title
      , c.introtext AS body
      , c.state AS state
      , c.created AS created
      , c.created_by AS uid
      , c.modified AS modified
      , c.modified_by AS modified_uid
      , c.published AS published
      , c.published_by AS published_uid
      , jc.title AS category
    FROM  jos_content AS c
    INNER JOIN jos_categories AS jc 
    ON c.sectionid = jc.section and c.sectionid=4
    gorup by c.sectionid 
```

# android - Android MediaPlayer 问题：“错误（-38，0）”和“停止在状态 1 中调用”

> ID：11913108
> 
> 赞同：7
> 
> 时间：2012-08-11T08:10:46.107
> 
> 标签：android, media-player, android-mediaplayer

我的设备甚至模拟器都没有声音。

实际上，在**“mMediaPlayer.create(this,musicIds[0]);”这一**行，eclipse 建议我有两个选择：*“使用 'MediaPlayer'（声明类型）更改对静态的访问”*或*“添加 @SuppressWarnings 'static-access'在 Create()" 上*。顺便说一句，我接受了eclipse的建议......但仍然不起作用。

PS我从其他项目（寻呼机）中调用了一个包。

```
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setTitle(R.string.diff_title);
    setContentView(R.layout.title_layout);    

    viewFlow = (ViewFlow) findViewById(R.id.viewflow);
    DiffAdapter adapter = new DiffAdapter(this);
    viewFlow.setAdapter(adapter);  
    TitleFlowIndicator indicator = (TitleFlowIndicator) findViewById(R.id.viewflowindic);
    indicator.setTitleProvider(adapter);
    viewFlow.setFlowIndicator(indicator);

    //Set all views
    listView = (ListView) findViewById(R.id.listView1);
    listView.setAdapter(new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1, listeStrings));
    final ImageView imv=(ImageView)findViewById(R.id.imv);
    imv.setImageResource(imageIds[0]);
    final ImageView pic = (ImageView)findViewById(R.id.Picture);
    pic.setImageResource(imageIds[0]);

    btnPlay = (ImageButton)findViewById(R.id.btnplay);
    btnPlay.setOnClickListener(this);

    btnNext = (ImageView)findViewById(R.id.imvnext);
    btnLast = (ImageView)findViewById(R.id.imvlast);        
    final TextView textview = (TextView)findViewById(R.id.textView2);
    textview.setText(listeStrings[0]);  
    seekBar = (SeekBar)findViewById(R.id.seekbar);
    //seekBar.setMax(mMediaPlayer.getDuration());

    mMediaPlayer.create(this, musicIds[0]);

    try {
           if (mMediaPlayer != null) {
               mMediaPlayer.stop();
           }
           mMediaPlayer.prepare();
           mMediaPlayer.start(); 
    } catch (IllegalStateException e) {
           e.printStackTrace();
    } catch (IOException e) {
           e.printStackTrace();
    }

    listView.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
            int songIndex = position;
            String songTitle=musicNames[position];
            imv.setImageResource(imageIds[position]);
            pic.setImageResource(imageIds[position]);
            textview.setText(listeStrings[position]);

        }
    });

}

} 
```

这是我的日志：

```
08-11 07:33:19.217: E/MediaPlayer(338): stop called in state 1
08-11 07:33:19.217: E/MediaPlayer(338): error (-38, 0)
08-11 07:33:19.217: E/MediaPlayer(338): prepareAsync called in state 0
08-11 07:33:19.217: W/System.err(338): java.lang.IllegalStateException
08-11 07:33:19.227: W/System.err(338):  at android.media.MediaPlayer.prepare(Native Method)
08-11 07:33:19.227: W/System.err(338):  at org.taptwo.android.widget.viewflow.example.DiffViewFlowExample.onCreate(DiffViewFlowExample.java:95)
08-11 07:33:19.227: W/System.err(338):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
08-11 07:33:19.227: W/System.err(338):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
08-11 07:33:19.227: W/System.err(338):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
08-11 07:33:19.227: W/System.err(338):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
08-11 07:33:19.227: W/System.err(338):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
08-11 07:33:19.227: W/System.err(338):  at android.os.Handler.dispatchMessage(Handler.java:99)
08-11 07:33:19.227: W/System.err(338):  at android.os.Looper.loop(Looper.java:123)
08-11 07:33:19.227: W/System.err(338):  at android.app.ActivityThread.main(ActivityThread.java:3683)
08-11 07:33:19.227: W/System.err(338):  at java.lang.reflect.Method.invokeNative(Native Method)
08-11 07:33:19.227: W/System.err(338):  at java.lang.reflect.Method.invoke(Method.java:507)
08-11 07:33:19.227: W/System.err(338):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
08-11 07:33:19.227: W/System.err(338):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
08-11 07:33:19.227: W/System.err(338):  at dalvik.system.NativeStart.main(Native Method)<br>
08-11 07:33:19.257: E/MediaPlayer(338): Error (-38,0) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-11T09:46:49.300

之前`prepare()`，你需要先打电话`setDataSource(..)`。

Media框架是一个非常严格的[状态机](http://developer.android.com/images/mediaplayer_state_diagram.gif)，处理各种不同的状态真的很麻烦。

我使用了这个小[包装器](https://gist.github.com/2523027)，它使编码/调试更容易一些。你可以试一试。

关于模拟器 - 请注意，并非所有文件格式都支持它。

# .net - 无法在 wpf 中安排 Dockpanel 子项

> ID：11913110
> 
> 赞同：0
> 
> 时间：2012-08-11T08:11:03.267
> 
> 标签：.net, wpf, dockpanel

我使用元素主机在win表单中托管了一个wpf控件，并希望在wpf中排列子元素并设置他们的文档以正确填写表单，我尝试使用DockPanel.SetDock但set not不在dockpanel类中，当然我尝试添加 system.windows.controls.dockpanel 命名空间，但列表中唯一的项目是“primitives”，PresentationFramework.dll 和 PresentationCore.dll 已经添加到引用中。我应该怎么做才能解决这个问题？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:36:37.970

根据我的经验，DockPanel 总是一个问题。将您的自定义控件放置在没有垂直和水平对齐的网格内。

# c# - 得到异常对象引用未设置为对象的实例

> ID：11913111
> 
> 赞同：1
> 
> 时间：2012-08-11T08:11:10.477
> 
> 标签：c#, .net

我开发了一个 Windows 应用程序（C#.net）。我得到了例外，

> 你调用的对象是空的。

堆栈跟踪是

> 在 C:\FinalOnam\CableOperatorSoftware\OnamVideoCable\OnamVideoCable\Bill Generate.cs:line 179 中的 OnamVideoCable.Bill_Generate.btnBill_Click(Object sender, EventArgs e)
> 
> 在 System.Windows.Forms.Control.OnClick(EventArgs e)
> 
> 在 System.Windows.Forms.Button.OnMouseUp（MouseEventArgs 事件）
> 
> 在 System.Windows.Forms.Control.WmMouseUp（消息和 m，MouseButtons 按钮，Int32 点击）
> 
> 在 System.Windows.Forms.Control.WndProc（消息和 m）
> 
> 在 System.Windows.Forms.ButtonBase.WndProc（消息和 m）
> 
> 在 System.Windows.Forms.Button.WndProc（消息和 m）
> 
> 在 System.Windows.Forms.Control.ControlNativeWindow.WndProc（消息和 m）
> 
> 在 System.Windows.Forms.NativeWindow.DebuggableCallback（IntPtr hWnd，Int32 msg，IntPtr wparam，IntPtr lparam）
> 
> 在 System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW（味精和味精）
> 
> 在 System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop（Int32 dwComponentID，Int32 原因，Int32 pvLoopData）
> 
> 在 System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner（Int32 原因，ApplicationContext 上下文）
> 
> 在 System.Windows.Forms.Application.ThreadContext.RunMessageLoop（Int32 原因，ApplicationContext 上下文）
> 
> 在 C:\FinalOnam\CableOperatorSoftware\OnamVideoCable\OnamVideoCable\Program.cs:line 19 中的 OnamVideoCable.Program.Main()
> 
> 在 System.AppDomain._nExecuteAssembly（程序集程序集，字符串 [] 参数）
> 
> 在 Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()
> 
> 在 System.Threading.ExecutionContext.Run（ExecutionContext executionContext，ContextCallback 回调，对象状态）
> 
> 在 System.Threading.ThreadHelper.ThreadStart()

代码：

```
private void btnBill_Click(object sender, EventArgs e)
{
    int CustNo=0;
    int PayMonth;
    objB.OB = Convert.ToDouble(txtOB.Text);

    if (ddCustSelect.Text == "All Customers")
    {
        try
        {
            DataTable dtCustNo = objCust.GetCustInfoForBill();
            foreach (DataRow drCustNo in dtCustNo.Rows)
            {
                 CustNo = Convert.ToInt32(drCustNo["CustNo"]);
                 DataTable dtR = new DataTable();
                    dtR=objR.GetLastReceiptInfo(CustNo);
                if (dtR != null)
                {
                    if (dtR.Rows.Count > 0)
                    {
                        DataRow drR = dtR.Rows[0];
                        //groupBox1.Visible = true;
                        //lblReceipt.Text = Convert.ToString(drR["RNo"]);
                        //lblPaidAmt.Text = Convert.ToString(drR["Amount"]);
                        // lbloutstand.Text = Convert.ToString(drR["Balance"]);
                        //lblMonthRate.Text = Convert.ToString(drR["MonthlyRate"]);
                        DateTime paydate = Convert.ToDateTime(drR["date"]);
                        //lblPayMonth.Text = Convert.ToString(drR["paydate"]);
                        PayMonth = paydate.Month;
                        objB.LastOut = Convert.ToDouble(drR["Balance"]);
                        total = calculate_bill(PayMonth, ddMonth.SelectedIndex + 1, Convert.ToDouble(drR["Balance"]), Convert.ToDouble(drR["MonthlyRate"]));
                    }
                    else
                    {
                        PayMonth = ddMonth.SelectedIndex + 1;
                        DataTable dtRate = objRate.GetExistCustRate(CustNo);
                        DataRow drRate = dtRate.Rows[0];
                        //total = calculate_bill(PayMonth, ddMonth.SelectedIndex + 1, 0, Convert.ToDouble(drRate["Total"]));
                        //objB.LastOut = 0;
                        total = Convert.ToDouble(drRate["Total"]);
                        objB.LastOut = total;
                    }
                }
                else
                {
                    PayMonth = ddMonth.SelectedIndex + 1;
                    DataTable dtRate = objRate.GetExistCustRate(CustNo);
                    DataRow drRate = dtRate.Rows[0];
                    //total = calculate_bill(PayMonth, ddMonth.SelectedIndex + 1, 0, Convert.ToDouble(drRate["Total"]));
                    //objB.LastOut = 0;
                    total = Convert.ToDouble(drRate["Total"]);
                    objB.LastOut = total;
                    //MessageBox.Show("Table is null");
                }
                objB.CustNo = Convert.ToInt32(CustNo);
                objB.Month = ddMonth.Text;
                objB.Year = ddYear.Text;
                objB.Total = total;

                DataTable dtBill = new DataTable(); 
                   dtBill = objB.checkBill();
                   if (dtBill != null)
                   {
                       if (dtBill.Rows.Count > 0)
                       {
                           // MessageBox.Show("Bill is Already Generated");
                           continue;
                       }
                       else
                       {
                           objB.GenerateBill();

                       }
                   }
                   else
                   {
                       //MessageBox.Show("2nd table is null");
                       objB.GenerateBill();
                   }

            }
            MessageBox.Show("Bill is generated");
        }
        catch (Exception ex)
        {
           // MessageBox.Show(ex.Message + CustNo);
            throw ex;
        }
    }
    if (ddCustSelect.Text == "Single Customer")
    {
        try
        {
            //panelSingle.Visible = true;
            // groupBox1.Visible = true;
            objB.CustNo = Convert.ToInt32(ddCustNo.Text);
            objB.Month = ddMonth.Text;
            objB.Year = ddYear.Text;
            objB.Total = Convert.ToDouble(lblTotalBill.Text);
            if (lbloutstand.Visible)
            {
                objB.LastOut = Convert.ToDouble(lbloutstand.Text);
            }
            else
            {
                objB.LastOut = objB.Total;
            }

            DataTable dtBill = objB.checkBill();
            if (dtBill != null)
            {
                if (dtBill.Rows.Count > 0)
                {
                    MessageBox.Show("Bill is Already Generated");
                }
                else
                {
                    if (objB.GenerateBill())
                    {
                        MessageBox.Show("Bill is generated..");
                    }
                    else
                    {
                        MessageBox.Show("Error while generating bill");
                    }
                }
            }
            else
            {
                MessageBox.Show("2nd table null");
            }
        }
        catch(Exception)
        {
        }

    }
}//----this is line no 179 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:14:13.313

所以仔细看看（或接近 - 数字可能是少数）第 179 行

> 在 C:\FinalOnam\CableOperatorSoftware\OnamVideoCable\OnamVideoCable\Bill Generate.cs:line 179 中的 OnamVideoCable.Bill_Generate.btnBill_Click(Object sender, EventArgs e)

里面的东西是空的。添加断点并使用调试器。要么检查空值，要么修复任何导致它意外空值的东西。我不能告诉你什么 - 我看不到你的代码！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:13:53.767

查看Generate.cs:line 179，检查你在这一行中使用的变量，其中一个是null

# internet-explorer-7 - IE7（UI）中的选择框

> ID：11913115
> 
> 赞同：1
> 
> 时间：2012-08-11T08:11:27.983
> 
> 标签：internet-explorer-7

我观察到在 IE7 中，选择框的下拉菜单看起来不完整（见图 1）。但是，当您将其悬停时，下拉框会完全显示（见图 2）。

![在此处输入图像描述](../Images/35f32c30664f710baee77d1e603fe57a.png)

我怎样才能让它看起来像默认的图像 2。另外，如果我增加选择框的大小（高度：25px）并且文本大小只有 9px，我如何确保文本在中间？我尝试调整选择框的填充和边距，但无济于事。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:13:37.073

这就是启用 Windows Aero 主题时下拉框的外观。这是完全正常和标准的。事实上，这正是 Windows 用户*希望*看到的。我不建议仅仅因为你觉得它看起来很奇怪就改变它。您的用户不会这么认为。他们查看的所有其他网页以及计算机上的所有应用程序都以完全相同的方式工作。

不，你不能轻易改变外观。您必须为整个下拉框控件编写自定义样式。与其他浏览器相比，这在 Internet Explorer 中是相当困难的，如果它甚至有可能让它完全正常工作的话。

至于你的第二个问题：你为什么要增加下拉框的高度？默认高度是您想要的高度。它会自动调整自身大小以适应其显示的文本大小。它不需要比这更大，如果你强迫它更大，它会像你说的那样看起来很丑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T11:34:42.480

阅读更多这个问题修复[点击这里](http://www.vancelucas.com/blog/fixing-ie7-z-index-issues-with-jquery/)，还有更多示例[演示页面](http://jquery-ui.googlecode.com/svn/branches/labs/selectmenu/index.html)

# java - 如何在 JSP 页面中设置我自己的值的字段？

> ID：11913122
> 
> 赞同：3
> 
> 时间：2012-08-11T08:12:58.493
> 
> 标签：java, html, forms, jsp, servlets

我想用我自己的值将变量传递给 servlet。

使用它：

```
<input type="text" name="usernameNew"><br> 
```

我可以`usernameNew`在 servlet 中获取，但我需要让用户在该文本字段中输入一些输入 - 而我不想要。

我想要的是`usernameNew`在 JSP 页面中将值设置为某些东西，例如带有值的字符串`myText` ，而不要求用户输入任何输入（意思是，我希望`usernameNew`成为某种标志，并使用它在我的 servlet 中获取`IF`条件）。

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:15:07.810

使用[隐藏输入](http://www.w3.org/TR/html401/interact/forms.html#hidden-control)。要么将其添加到普通字段，但将其设置为[read-only](http://www.w3.org/TR/html401/interact/forms.html#h-17.12.2)。这样，用户可以看到但不能更改数据。

请注意，这实际上是关于[HTML 中的表单](http://www.w3.org/TR/html401/interact/forms.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T08:16:34.420

```
<INPUT TYPE=TEXT name=userID size = 20 >  
<jsp:setProperty name="formBean"   
                 property="loginID"   
                 param="userID" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T08:18:22.297

```
passing hidden  value

    <input type="hidden" name="userid" value="${user.id}">

<%
 String getHiddenValue=request.getParameter("userid");
 System.out.println("Hidden field Value :"+getHiddenValue);
%> 
```

# android - 无法加载 ImageFile [Android 上的 FFmpeg]

> ID：11913124
> 
> 赞同：1
> 
> 时间：2012-08-11T08:13:13.827
> 
> 标签：android, ffmpeg

我的目的与这里的

[FFmpeg: Jpeg file to AVFrame](https://stackoverflow.com/questions/3527584/ffmpeg-jpeg-file-to-avframe)

相同 ，但是，在加载文件之前我被绊倒了。在

```
if(av_open_input_file(&pFormatCtx, imageFileName, NULL, 0, NULL)!=0)
{
    printf("Can't open image file '%s'\n", imageFileName);
    return NULL;
} 
```

这点返回总是无法`image file /sdcard/test.jpg`在模拟器（ICS）和真实设备（Froyo）上打开。

・原因`android.permission.WRITE_EXTERNAL_STORAGE`在Manufest中写
・更改文件路径全部失败`sdcard/test.jpg`，，，，`sdcard/test.jpeg`...`mnt/sdcard/test.jpeg`・`/mnt`我

的FFmpeg ver0.8.12

和视频文件是通过了这一点（FLV，MEPGVIDEO..）

还要别的吗？

# node.js - node express 应用程序的单个文件中的这一行如何允许在其他文件中访问变量？

> ID：11913125
> 
> 赞同：0
> 
> 时间：2012-08-11T08:13:14.873
> 
> 标签：node.js, express, mongoose

我有一个使用 Express 和 Mongoose 的节点应用程序。我在演示应用程序中看到了这一行，但我不明白它是如何工作的。

## 应用程序.js

```
require('./db.js');
require('./routes.js')(app); 
```

## 数据库.js

```
exports = mongoose = require('mongoose');
mongoose.connect('localhost:27017/test');
exports = Schema = mongoose.Schema;

require('./models.js') 
```

## 模型.js

```
var ArticleSchema = new Schema({
    title       : {type : String, default : '', trim : true}
  , body        : {type : String, default : '', trim : true}
  , user        : {type : Schema.ObjectId, ref : 'User'}
  , created_at  : {type : Date, default : Date.now}
})

mongoose.model('Article', ArticleSchema); 
```

## 路由.js

```
var Article = mongoose.model('Article');

module.exports = function(app){

    app.get('/new', function(req, res){
        var article = new Article({});
        res.render('new', article);     
    });
}; 
```

变量 mongoose 和 schema 在 models.js 和 routes.js 等其他模块中如何可用？

`exports = mongoose = require('mongoose');`如果我将演示中看到的行更改为我更熟悉的任何一个，则此代码仍然有效。

```
module.exports = mongoose = require('mongoose');
exports.anything = mongoose = require('mongoose'); 
```

三个赋值中间的变量名是其他文件中可用的。

有人可以解释这里发生了什么以及它是如何工作的吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:35:42.090

尝试这个：

**应用程序.js**

```
var db = require('./db.js');
require('./routes.js')(app, db); 
```

**数据库.js**

```
var mongoose;
module.exports.mongoose = mongoose = require('mongoose');
mongoose.connect('localhost:27017/test');
module.exports.Schema = mongoose.Schema;

require('./models.js')(module.exports); 
```

**模型.js**

```
module.exports = function (db) {
    var ArticleSchema = new db.Schema({
        title       : {type : String, default : '', trim : true}
      , body        : {type : String, default : '', trim : true}
      , user        : {type : db.Schema.ObjectId, ref : 'User'}
      , created_at  : {type : Date, default : Date.now}
    })

    db.mongoose.model('Article', ArticleSchema);
}; 
```

**路由.js**

```
module.exports = function (app, db) {
    var Article = db.mongoose.model('Article');

    app.get('/new', function(req, res){
        var article = new Article({});
        res.render('new', article);     
    });
}; 
```

# c++ - 在哪里保存我的 C++ 库？(Ubuntu)

> ID：11913126
> 
> 赞同：4
> 
> 时间：2012-08-11T08:13:33.423
> 
> 标签：c++, linux, libraries

我不确定这是一个严格的编程问题，所以如果不是，我深表歉意。

我用 C++ 开发了一些库，我打算在几个不同的项目中使用它们。直到现在我一直在各个项目的文件夹中复制更新的库。正如您可以想象的那样，这并不理想，因此我想创建一个“3rd-parties”文件夹，用于保存我编写的库以及将来可能下载的其他库。

我怎样才能做到这一点？考虑到我以后想分享/发布我的代码，确保使用的库包含在我部署的代码中的最佳策略是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-11T08:25:04.800

没有硬性规定。但如果这些是 1）通用，2）全局共享，那么我建议`/usr/local/lib`（对于您的 .a 和 .so 库）和`/usr/local/include`（对于相应的标题）。

下面是对 Linux 的“标准文件位置”的一个很好的描述：

*   [http://tldp.org/LDP/Linux-Filesystem-Hierarchy/html/Linux-Filesystem-Hierarchy.html](http://tldp.org/LDP/Linux-Filesystem-Hierarchy/html/Linux-Filesystem-Hierarchy.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T08:21:02.483

如果您想与新项目共享您的模块，最好将它们组织在一个文件夹中，并将此文件夹标记为新项目中包含的库路径。

# scala - Scalaz 7 - 为什么使用类型别名会导致 Reader 的类型类解析不明确

> ID：11913128
> 
> 赞同：2
> 
> 时间：2012-08-11T08:13:44.287
> 
> 标签：scala, scalaz, scalaz7

测试代码：

```
import scalaz.{Reader, Applicative}

class ReaderInstanceTest {

  type IntReader[A] = Reader[Int, A]
  val a = Applicative[({type l[A] = Reader[Int, A]})#l] // fine

  val b = Applicative[IntReader]
  //                 ^ ambigous implicit values
  //                   both method kleisliMonadReader ..
  //                   and method kleisliIdMonadReader ..
} 
```

这与 Scala 的类型构造函数推理票证[的高阶统一有关吗？](https://issues.scala-lang.org/browse/SI-2712)如果是这样（即使不是），你能描述一下在 a 和 b 情况下会发生什么吗？

您是否有关于何时使用类型 lambda 以及何时使用类型别名的指导方针，以便从长远来看一切正常而不会出现意外错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:31:37.627

是的，这与 SI-2712 有关。

`kleisliIdMonadReader`仅用于指导类型推断；它只是转发到`kleisliMonadReader`。通过提供类型别名`IntReader`，scalac 不需要这种帮助，并且可以`kleisliMonadReader`直接推断类型参数。这会导致歧义。

我刚刚提出了一个补救措施：我们可以通过在子类中定义一个来确定这些隐含的相对优先级。

[https://github.com/scalaz/scalaz/commit/6f9ae5f](https://github.com/scalaz/scalaz/commit/6f9ae5f)

# c++ - 在 Clang/MacOS X 上捕获派生异常类型失败

> ID：11913151
> 
> 赞同：7
> 
> 时间：2012-08-11T08:17:28.613
> 
> 标签：c++, macos, clang, porting

我有一个 C++ 库，我正在尝试使用 Clang 在 Mac OS X 上运行。该库由一个 DLL 和一个单元测试可执行文件组成。它使用 GCC 和 MSVC 编译良好，使用 GCC，我使用以下设置：

*   该库是用`-fvisibility=hidden`
*   所有公开的类都明确标记为`__attribute__(visibility("default"))`
*   该库有一些异常类，派生自`std::runtime_error`. 所有这些类都标记为默认可见性。有一个根类`LibraryException`可以派生出更具体的异常。
*   在 GCC 上，我使用`-std=c++0x`clang，库和单元测试可执行文件都是用`-stdlib=libc++ -std=c++11`

在 Mac OS X 上，单元测试框架现在失败了，因为异常类型错误。即这样的测试失败：

```
// bla.foo () throws CustomException, which is derived from LibraryException
TEST_THROWS (bla.foo (), CustomException)

// This works however
TEST_THROWS (bla.foo (), LibraryException) 
```

我验证了我的自定义异常类的 typeinfo 和 vtable 是使用`nm -g library.dylib | c++filt -p -i`. 这似乎是所有例外的情况......这里到底发生了什么？我试图调试错误，我看到了如何在库中抛出正确的类型，但在单元测试可执行文件中无法捕获相同的类型。Clang 是否需要一些特殊的东西才能使其正常工作？我正在使用来自 SVN 的最新 googletest 框架进行测试。

一个小测试程序也出现了同样的问题：

```
try {
    funcThatThrowsCustomExceptionFromLibraryDylib ();
} catch (CustomException& e) {
    // doesn't get here
} catch (LibraryException& e) {
    // does get here
    // after demangle, this prints CustomException
    // Can cast down to CustomException and access the fields as well
    std::cout << typeid (e).name () << "\n";
} 
```

例如，当`boost::lexical_cast`从库中抛出异常时，它也会失败。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T09:08:00.800

这是正确的解决方案：

应用可见性属性时，必须在编译库时以及使用时都应用它。否则，客户端将看不到这些类。对于 boost::lexical_cast，这意味着你必须使用

```
 #pragma GCC visibility push(default)
 #include <boost/lexical_cast.hpp>
 #pragma GCC visibility pop 
```

直到他们通过`__attribute((visibility("default")))`在异常中添加 a 来修复它（从 Boost 1.50 开始，该属性存在，但似乎还没有对 Clang 的支持）。在库中的标头中使用它时，可以在客户端代码中正确捕获它。这`#pragma`也适用于 Clang。

指定 throw () 析构函数有帮助的事实是一些运气，但这绝对不是正确的解决方法。

# iphone - 在 UITableViewCell 中处于编辑模式时如何隐藏按钮

> ID：11913158
> 
> 赞同：1
> 
> 时间：2012-08-11T08:18:27.123
> 
> 标签：iphone, ios5, xcode4.3

编辑模式时可以将按钮隐藏在单元格内吗？我的单元格按数组填充，保存在 plist 中。这是我的代码

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [titleArray count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSLog(@"the indexpath.row = %i",indexPath.row);

    UITableViewCell *cell = [[UITableViewCell alloc]init];

    button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    [button setFrame:CGRectMake(250.0, 25.0, 30.0, 30.0)];
    [button setTitle:@"!" forState:UIControlStateNormal];
    [button setTitle:@"X" forState:UIControlStateSelected];
    [button setTag:indexPath.row + 100];
    [button addTarget:self action:@selector(onoffBtn:) forControlEvents:UIControlEventTouchUpInside];

    // my label code

    UIImageView *bgCell = [[UIImageView alloc]initWithFrame:CGRectMake(0,0 , 320, 80)];
    bgCell.image = [UIImage imageNamed:@"BG.jpeg"];

    [cell.contentView addSubview:button];
    // other cell contentView addSubview everything

    return cell;
    [tableView reloadData];
} 
```

这是我的编辑按钮

```
- (IBAction)editBtn:(id)sender
{
    UIButton *editBtn = (UIButton *)sender;
    editBtn.selected = !editBtn.selected;

    if (editBtn.selected)
    {
        button.hidden = YES;
        [self.tableView setEditing:YES animated:YES];
    }
    else
    {
        button.hidden = NO;
        [self.tableView setEditing:NO animated:YES];
    }
} 
```

使用上面的代码，我的按钮只隐藏在最后一个单元格中，只要说我有 3 个单元格。在编辑模式下如何隐藏所有按钮隐藏？我希望所有按钮都隐藏起来。下面是我的 onoffBtn。

```
- (IBAction)onoffBtn:(id)sender
{
    tempIndexPath = [_tableView  indexPathForCell:(UITableViewCell*)[[sender superview] superview]];
    UITableViewCell *cell = [_tableView cellForRowAtIndexPath:tempIndexPath];
    UIButton *onoffBtn = (UIButton *)[cell.contentView viewWithTag:tempIndexPath.row+100];

    onoffBtn.selected = !onoffBtn.selected;
    if (onoffBtn.selected)
    {
        // start
    }
    else
    {
        // stop
    }
} 
```

请教我更多。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:32:36.027

您必须为表的所有 UiTableViewCells 调用此方法：

```
 if (editBtn.selected)
        {

for (int row = 0, rowCount = [_iTableView numberOfRowsInSection:0]; row < rowCount; ++row) {
        UITableViewCell *cell = [_iTableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:row inSection:0]];

      UIButton *onoffBtn = (UIButton *)[cell.contentView viewWithTag:tempIndexPath.row+100];
     onoffBtn.hidden=YES;
    }
   } 
```

# apache - 301 重定向，因为斜线

> ID：11913161
> 
> 赞同：0
> 
> 时间：2012-08-11T08:19:00.897
> 
> 标签：apache, redirect

所以我正在优化我的网站以尽可能快地运行，并且 pingdom 工具向我显示我的 url 被 301 重定向到斜杠版本。当然是没有理由的。我在 htaccess 中也没有。

Pingdom 说：

最小化重定向

如果可能，删除以下重定向链：

[http://domain.com/projects/project](http://domain.com/projects/project) http://domain.com/projects/project/

我在 yahoo 上看到过有关此问题的文章，并且我看到有人故意这样做，但我还没有看到如何消除此问题的解决方案。有人可以帮忙吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T18:33:03.003

将此添加到文档根目录的 htaccess 文件中：

```
DirectorySlash Off 
```

但请记住[，关闭它可能会导致安全问题](http://httpd.apache.org/docs/2.2/mod/mod_dir.html#directoryslash)：

> 关闭尾部斜杠重定向可能会导致信息泄露。考虑 mod_autoindex 处于活动状态（选项 +Indexes）并且 DirectoryIndex 设置为有效资源（例如 index.html）并且没有为该 URL 定义其他特殊处理程序的情况。在这种情况下，带有斜杠的请求将显示 index.html 文件。但是没有斜杠的请求会列出目录内容。

# jquery - 自动将用户登录到您的网站背后的系统

> ID：11913166
> 
> 赞同：0
> 
> 时间：2012-08-11T08:20:11.740
> 
> 标签：jquery, asp.net, asp.net-mvc, security

使用 ASP.NET MVC、实体框架、jQuery。我想让用户能够在点击“记住我”后自动登录，我想出的方法是：

1.  当用户登录时
    *   如果用户登录并勾选“记住我”，则散列 PW 并存储在数据库中
    *   创建一个 cookie，使用加密的 UserID，然后是某种分隔符和散列的 PW。

然后下次用户回来时，我可以检查他们的 cookie，如果存在，我使用 AJAX 登录。如果用户注销，我当然会删除他们的 cookie。

这是完成自动登录功能的正确方法吗？

我猜我的散列函数和用户 ID 加密函数将在服务器端，为了创建 cookie，我将通过 AJAX 调用该函数，然后创建它。

这是最佳实践吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:23:38.023

您的方法（具有指示用户已登录的值的 cookie）是相当标准的。

不标准的是存储经过哈希处理的用户名和密码（尤其是密码） -*不*知道为什么需要这样做，并且由于 cookie 以明文形式传输（用于 http 连接），因此您向您的网站和用户之间的任何人提供能够查看密码哈希并有机会破解它以获得密码。

创建存储在 cookie 中的唯一“loggedIn”令牌（例如 GUID）而不是密码哈希 - 这是您比较以确定用户是否登录的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T09:23:29.910

许多可能的方法之一可能是：

注意：我已经用纯 PHP 对其进行了编码。但是所有语言的逻辑都是相同的。

1.  设置 $redirect = FALSE。
2.  $_GET["logout"] 设置了吗？是，转3，否则转5
3.  如果设置，删除，auth，rem_me cookies，销毁会话。
4.  显示登录表单并退出。
5.  这是发帖请求吗？如果是，转6，否则转18
6.  设置 $redirect = TRUE。
7.  是否提供了用户名和密码？是，转8，否则转3
8.  从 db 获取 $username、$pass-hash 和 $rem-me-hash。
9.  $username & $password 和 DB 一样吗？是，转10，否则转3
10.  设置 cookie["username"] = sanitized($_POST["username"])
11.  发出一个包含 $auth = sha1(username.password.time.6random_letters) 的 cookie["auth"]。
12.  设置会话["auth"] = sha1($auth)。取消设置 $auth。
13.  是否选择了记住我选项？是，转13，否则转15
14.  设置 $rem = sha1($user_string.$time.$password.$username.$random)
15.  设置 cookie["rem"] = $rem
16.  设置 $rem = 0
17.  如果 $rem != $rem-me-hash_DB，则在 DB 中插入 $rem。前往 23
18.  $rem cookie 设置了吗？是的转到 19，否则转到 20
19.  $rem cookie == $rem-hash-in-db 吗？如果是，转至 22，否则转至 3
20.  $username-cookie && $auth-cookie &&auth-SESSION 设置了吗？如果是，转21，否则转3
21.  是 sha1($auth-cookie) === $_SESSION["auth"] 吗？如果是，转22，否则转3
22.  $redirect == 是真的吗？如果是，则使用 301 GET 方法重定向回同一页面。否则转到 23
23.  这是我的超级秘密星际迷航壁纸（内容）。

一个漫长的过程，但（希望）涵盖所有场景。

将所有这些算法保存在`password.php`要保护的每个文件的顶部，包括该文件。只有在经历了所有可能的场景后，才能对秘密内容进行控制。每次出现故障时，脚本都会显示登录表单并退出。

它还实现了 Post-Redirect-Get ( *[Wikipedia](http://en.wikipedia.org/wiki/Post/Redirect/Get)* ) 方法，您可以在其中获取 POST 请求，对其进行处理，然后使用 GET 方法将用户重定向回来，以防止在 Back & Refresh 按钮按下时提交双重表单。

上述描述中可能存在拼写错误或混合概念。让我知道任何改进。

# gwt - 如何为 RichTextBox 设置样式？

> ID：11913167
> 
> 赞同：1
> 
> 时间：2012-08-11T08:20:23.770
> 
> 标签：gwt, ri

## RichTextBox 有这样的 dom 层次结构吗？

```
 <iframe>
    <html>
     <body>
     </body>
   </html>
 </iframe> 
```

* * *

我发现将样式名称设置为 iframe 不起作用，必须将其设置为 body 元素。我试着这样做（在构造函数中）：

* * *

```
 Element body = ((FrameElement) getElement().cast()).getContentDocument().getBody();
  body.setClassName("richTextArea"); 
```

NullPointerException 在这个男孩元素上被抛出，甚至我像这样包装它们：

* * *

```
 Scheduler.get().scheduleDeferred(new ScheduledCommand()
  {
     @Override
     public void execute()
     {
         Element body = ((FrameElement) getElement().cast()).getContentDocument().getBody();
         body.setClassName("richTextArea"); 
     }

  }); 
```

而实际的问题是 RichTextBox 被渲染得很奇怪，当它附加到 DOM 时，它的内部内容（html，body）没有生成，即使我将这些行包装到 onload() 方法中，NPE 有时也会被抛出，但是如果将它们包装成一个计时器，然后安排一个相对较长的等待时间，没有 NPE，但是你知道，我不能让某些事情依赖于这个不可预测的“相对较长的等待时间”。

谁能给出解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T07:50:32.513

您不能将主页中定义的 CSS 规则应用于 RichTextArea 的内容。您必须在由 RichTextArea 创建的 iframe 中包含样式。

这是一个内联样式的简单示例：

```
RichTextArea richTextArea = new RichTextArea();
richTextArea.setSize("200px", "200px");
richTextArea.setHTML("<html><head><style type=\"text/css\">h1 {color: red}</style></head><body><h1>Title</h1><p>content...</p></body></html>");
RootPanel.get().add(richTextArea); 
```

您还可以使用外部 css 文件。必须相应调整设置为richTextEditor 的html 代码。

# wcf - WCF服务稳定性

> ID：11913174
> 
> 赞同：0
> 
> 时间：2012-08-11T08:21:20.930
> 
> 标签：wcf, amazon-ec2

我有一个 WCF 服务，由一个简单的控制台应用程序自行托管，以及一些定期发送请求的客户端。1 个客户端是一个网站（使用网络管道），1 个客户端是调度程序（使用间隔为 1 分钟的网络管道），最后一个客户端是另一个调度程序，但是这个从远程机器运行（通过基本的 http 绑定端口 80 也有 1 分钟间隔）

到目前为止一切似乎都很好。我将所有内容都托管在 Amazon VM 上，出于某种原因，当我早上返回时，没有一个客户端可以再连接，要么主机无法访问，要么请求超时。

我不知道从哪里开始寻找，任何建议都值得赞赏！

谢谢大家！

塞布:)

# ios - iPad 上 UITableView 的背景图片

> ID：11913183
> 
> 赞同：0
> 
> 时间：2012-08-11T08:22:46.817
> 
> 标签：ios, xcode, uitableview, uicolor, ios-universal-app

我在我的 iOS 应用程序中获得了设置视图，由`UITableView`. 这个应用程序是通用的，所以你可以在 iPhone 和 iPad 上运行它。此表应具有自定义背景。并使用此代码设置背景图像：

```
table.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"settings_bg"]]; 
```

这适用于 iPhone：

![在此处输入图像描述](../Images/feeb55058732b2e53ef00def2cc28b50.png)

但在 iPad 上，这个背景是灰色的！

![在此处输入图像描述](../Images/51fcc991055f215d749689fee05eac98.png)

为什么？我应该如何为 iPad 设置自定义背景？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:31:05.887

这在某种程度上是分组模式下 iPhone 和 iPad UITableView 行为之间的已知差异。请改用此代码（或类似代码）：

```
if ([self.tableView respondsToSelector:@selector(backgroundView)]) {
    [self.tableView setBackgroundView:nil];
    UIView* bkgView = [[[UIView alloc] initWithFrame:self.tableView.bounds] autorelease];
    bkgView.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:...]];
    [self.tableView setBackgroundView:bkgView];

} 
```

# sql-server - 我可以检索添加到数据库表中的所有新行吗

> ID：11913184
> 
> 赞同：1
> 
> 时间：2012-08-11T08:22:51.273
> 
> 标签：sql-server

我想知道是否有查询或某个 SP 来检索添加到我的数据库中的表中的所有新行。我正在使用 SQL Server 数据库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T08:42:39.057

**配置和管理变更跟踪**

SQL Server 2008 中的更改跟踪使应用程序能够仅获取对用户表所做的更改以及有关这些更改的信息。通过将更改跟踪集成到 SQL Server 中，不再需要开发复杂的自定义更改跟踪解决方案。

更改跟踪是在端到端复制解决方案不起作用且需要自定义解决方案的情况下同步和复制数据的应用程序的重要构建块。例如，需要将数据与不是 SQL Server 数据库或存储架构非常不同的数据存储同步的场景。

[http://msdn.microsoft.com/en-us/library/bb964713(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/bb964713(v=sql.105).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T08:45:48.243

**变更数据捕获**

更改数据捕获旨在捕获应用于 SQL Server 表的插入、更新和删除活动，并以易于使用的关系格式提供更改的详细信息。变更数据捕获使用的变更表包含反映跟踪源表的列结构的列，以及了解已发生的变更所需的元数据。

变更数据捕获仅适用于 SQL Server 的 Enterprise、Developer 和 Evaluation 版本

[http://msdn.microsoft.com/en-us/library/cc645858(v=sql.105](http://msdn.microsoft.com/en-us/library/cc645858(v=sql.105) )

# r - 谷歌文档上的 R 代码

> ID：11913190
> 
> 赞同：5
> 
> 时间：2012-08-11T08:24:29.913
> 
> 标签：r, google-docs, google-docs-api, google-drive-api

我知道您可以在 Google 文档上发布电子表格，然后将它们导入 R。但是，假设我有一个函数或一些我想在 R 中读取的代码（例如在源函数中）。例如，您将如何阅读存储在 google 文档中的所有这些代码？

[https://docs.google.com/document/edit?id=1f11rcVs9AtVcgOyiP0lV04yq9hshVDIPx93lA0ItFvQ](https://docs.google.com/document/edit?id=1f11rcVs9AtVcgOyiP0lV04yq9hshVDIPx93lA0ItFvQ)

我不认为这已经发布，但这只是为了举例说明。

基本上我想：

1.  在 R 中创建一个函数（为了可比性，请参见下面的示例）

2.  将其上传到 Google Docs 并与任何知道链接的人分享，这样我就不必通过 R 或 Google Docs 等登录...

3.  在我想要的任何地方通过诸如 source() 之类的命令读取它

我的兴趣不是读取数据，而是读取函数。当我不在同一台计算机/服务器上时，它可以更快地导入我自己的函数。

有任何想法吗？

非常感谢

PS 来自 statsmethods.net 的函数示例

```
mysummary <- function(x,npar=TRUE,print=TRUE) {
  if (!npar) {
    center <- mean(x); spread <- sd(x) 
  } else {
    center <- median(x); spread <- mad(x) 
  }
  if (print & !npar) {
    cat("Mean=", center, "\n", "SD=", spread, "\n")
  } else if (print & npar) {
    cat("Median=", center, "\n", "MAD=", spread, "\n")
  }
  result <- list(center=center,spread=spread)
  return(result)
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-11T09:46:36.837

对于这种情况，我建议使用 Github 或类似的东西。

推荐 Github 的几个原因：

*   版本控制
*   代码高亮
*   合作
*   能够在 Github 上开发和托管 R 包，其他人可以使用该`devtools`包在 R 中安装
*   简单的 URL 方案，可轻松用于`source()`加载函数

将函数发布到 Github 后，您可以轻松加载它，如下所示：

```
require(RCurl)
baseURL = c("https://raw.github.com/--username--/--repo-name--/master/")
source(textConnection(getURL(paste0(baseURL, "path-to-scripts/script-name.R")))) 
```

当然，您可以轻松地将其包装到一个函数中，而不必在每个 R 会话中输入它，或者尝试`devtools`包中的一些选项。

如果你经常这样做，你可能想学习制作一个 R 包并将其托管在 Github 上。如果您只需要偶尔执行一次，您可以考虑使用“github:gist”。每个“gist”都分配有一个数字 ID，然后可以轻松地`source_gist()`从`devtools`包中获取该 ID，如下所示：

```
source_gist("gist-id-number") 
```

很难做到这一点，但是您必须记下函数的 ID 号，或者将所有函数放在一个文件中并记住一个 ID 号......

* * *

我*不*推荐使用 Google Docs 之类的东西来编写代码的原因是，将“文字处理器”类型的软件用于此类目的通常是一个糟糕的主意，因为它们可能会引入隐藏字符，从而使您的文件难以获取。此外，纯文本版本的 URL 非常晦涩，您将无法记住......

顺便说一句，有*可能*获得您在帖子中链接到的文件的“txt”版本，但我无法获得`source()`它——我必须在文本编辑器中打开它并将其复制并粘贴到 R . 这是因为文件编码似乎是“UTF-8 (with BOM)”。有没有人有关于如何处理这个问题的提示？

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-11T12:55:11.060

使用 Dropbox 最容易完成 - 请参阅此处[http://thebiobucket.blogspot.co.at/2012/05/source-r-script-from-dropbox.html](http://thebiobucket.blogspot.co.at/2012/05/source-r-script-from-dropbox.html)

像这样：

```
source("http://dl.dropbox.com/s/c18lcwnnrodsevt/test_dropbox_source.R") 
```

但是您可以使用 Googledocs 来完成，例如这里[http://thebiobucket.blogspot.co.at/2011/11/how-to-run-r-scripts-directly-out-of.html#more](http://thebiobucket.blogspot.co.at/2011/11/how-to-run-r-scripts-directly-out-of.html#more)

```
library(RCurl)
setwd(tempdir())
destfile = "test_google_docs.txt"
x = getBinaryURL("https://docs.google.com/uc?export=download&id=0B2wAunwURQNsMDViYzllMTMtNjllZS00ZTc4LTgzMzEtNDFjMWQ3MTUzYTRk", followlocation = TRUE, ssl.verifypeer = FALSE)
writeBin(x, destfile, useBytes = TRUE)
source(paste(tempdir(), "/test_google_docs.txt", sep = "")) 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-11T10:56:14.300

我也认为最好的方法是使用 github 或 dropbox。但是使用`RGoogleDocs`and`XML`包我们可以解析代码（我不是很有经验）用 XML 解析可能会有更好的代码。

```
### require(devtools);dev_mode(TRUE, .libPaths()[1]);install_github("RGoogleDocs", "duncantl")
require(RGoogleDocs) 
require(XML)

auth <- getGoogleAuth("dicko.ahmadou@gmail.com", "*********")

con <- getGoogleDocsConnection(auth)

mydoc <- getDocs(con)

## I put star for confidentiality
## Your doc is in 10th position
names(mydoc)

##  [1] "*********"                                 
##  [2] "*********"                             
##  [3] "panel_tp_transferts"                                      
##  [4] "txint"                                                    
##  [5] "avortementsuivisen"                                       
##  [6] "Untitled Document"                                        
##  [7] "copie de villages_emprise10km"
##  [8] "AéroportBlaiseDiagne_AFDB.pdf"                            
##  [9] "strassen_eng.pdf"                                         
## [10] "R_script_CO2_emissions_airborne"  

rcode <- mydoc[[10]]
rcode <- getDocContent(rcode, con)
## remove Non break space in the document (there are plenty of them...)
rcode <- gsub("&nbsp;", " ", rcode)
rcode <- htmlParse(rcode, asText = TRUE)
rcodecontent <- xpathApply(rcode, "/html//body//p//span")
rcodecontent <- sapply(rcodecontent, function(x) unname(xmlSApply(x, xmlValue)) 
```

现在我们可以将代码保存在文件中

```
### save the script in my dropbox folder (dropbox is very easy to use...)
cat(sapply(rcodecontent, function(x) paste(x, "\n")), 
       file = "/home/ahmadou/Dropbox/Public/code.R")

### retrieve the public link
oldwd <- getwd()
setwd("/home/ahmadou/Dropbox/Public")
system('dropbox puburl code.R', intern = TRUE)
[1] "https://dl.dropbox.com/u/8750577/code.R"

setwd(oldw) 
```

这是[代码的链接](https://dl.dropbox.com/u/8750577/code.R)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-11T09:56:00.107

有一个 Package [RGoogleDocs](http://www.omegahat.org/RGoogleDocs/)支持上传和下载文件。下载文件后，您可以使用`source`它来阅读它。

# jquery - 使用 jquery 将 li 值与图像拖放

> ID：11913196
> 
> 赞同：0
> 
> 时间：2012-08-11T08:25:34.470
> 
> 标签：jquery

我`<ul><li>`在左侧 div 中列出了一个名称和图像的值。我想选择每个`<li>`值添加到 right `<ul> </ul>`。我还需要拖放这些 li 值的功能。我尝试了以下查询进行拖放。但没有成功

```
 $("#draggable li").draggable({
        helper:"clone"
    });
    $("#cart ul").droppable({
        drop: function (event, ui) {
        $(this).find("#placeholder")
            $("<li></li>").html(ui.draggable.html()).append(this);
        }
    }); 
```

请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T12:31:57.240

简单的拖放和双击示例在这里：[jsfiddle拖放](http://jsfiddle.net/qNkC8/5/)

选择 li 是什么意思？

# javascript - 在Javascript中替换变量的值

> ID：11913197
> 
> 赞同：2
> 
> 时间：2012-08-11T08:26:04.737
> 
> 标签：javascript, variables

这可能是一个愚蠢的问题，但它让我难住了

我在名为 user1、user2、user3 等的网页上有不同数量的文本输入表单。我想在 javascript 函数中访问这些表单的值以检查表单输入。通常我会通过以下方式做到这一点：

```
document.submitForm.user1.value 
```

但是，由于我将字段总数存储在变量中，因此我想在 for 循环中遍历所有表单。

```
for(i=1;i<=numFields;i++)
{
  var firstUser = document.submitForm.user[i].value
} 
```

但是我不确定如何将 i 的值替换到我放置 [i] 的语句中。我将如何去做/是否有更好的方法来做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:29:15.283

的`user1`属性`submitForm`也可以用 访问`submitForm['user1']`，它允许你这样做：

```
for (var i = 1; i <= numFields; i++) {
  var firstUser = document.submitForm['user' + i].value;
  // ...
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T08:29:47.727

意思`.user[1]`是：获取`user`属性，并从该属性中获取`1`属性。

相反，您需要一个字符串连接来获取例如`user1`属性`"user"`和`1`：

```
document.submitForm["user" + i].value; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T08:36:46.613

还有很长的路要走：D

```
var inp = document.getElementsByTagName('input');
for(var i in inp){
    if(inp[i].type == "text"){
        if(inp[i].name.substring(0,4) == 'user'){
            // Do your stuff here
        }
    }
} 
```

# java - JComboBox 中项目的最佳方式

> ID：11913208
> 
> 赞同：1
> 
> 时间：2012-08-11T08:28:27.217
> 
> 标签：java, swing, actionlistener, jcombobox, itemlistener

我有`JComboBox`很多物品。我在此组合框中添加了一个项目侦听器，用于存储所选项目：

```
 comboBox.addItemListener(new ItemListener() {

        @Override
        public void itemStateChanged(ItemEvent e) {
            option = (String) e.getItem();
        }
    }); 
```

我有一个按钮，单击它时，程序会根据该选择执行任务。

按钮：

```
public void actionPerformed(ActionEvent e) {
  if (option.toLowerCase().compareTo("contrast stretching") == 0) { /* do sth */ } 
  else if (option.toLowerCase().compareTo("mean") == 0){ /* do sth else */ }
  // And many other else if statements 
```

actionPerformed 函数太长了。编写代码的最佳方法是什么？我不想让单个功能太长。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T08:36:59.913

您可以创建一个接口（例如`Task`）来表示需要执行的任务。`ContrastTask`然后为组合框 ( , `MeanTask`, ...)中的每个值创建此接口的实现。最后，在您`actionPerformed`的`Task`. 然后你可以运行这个任务......

`Task`可能看起来像这样：

```
public interface Task {
  [whatever result it should return] execute([whatever parameters it needs]);
} 
```

实现可能如下所示：

```
public class MeanTask implements Task {
  public int execute(int a, int b) {
    return (a + b) / 2;
  }
} 
```

您的工厂将如下所示：

```
private Task create(String option) {
  if (option.toLowerCase().compareTo("mean") == 0) {
    return new MeanTask();
  }
  else if ....
} 
```

这样做的好处是每个任务的逻辑都很好地封装在自己的类中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T08:41:45.410

这可以帮助您：

```
public class Main {
  private Map<String, BaseStrategy> strategyMap = new HashMap<String, BaseStrategy>();

  {
    strategyMap.put("case1", new Strategy1());
    strategyMap.put("case2", new Strategy2());
    strategyMap.put("case3", new Strategy3());
  }

  //...

  public void actionPerformed(ActionEvent e) {
    strategyMap.get(option.toLowerCase()).processEvent();
  }

  abstract class BaseStrategy {

    public abstract void processEvent();

  }

  class Strategy1 extends BaseStrategy {

    @Override
    public void processEvent() {
      //case 1
    }
  }

  class Strategy2 extends BaseStrategy {

    @Override
    public void processEvent() {
      //case 2
    }
  }

  class Strategy3 extends BaseStrategy {

    @Override
    public void processEvent() {
      //case 3
    }
  }
} 
```

您可以制作一个映射，其中键是定义命令的字符串，值是处理事件的策略。现在，您甚至可以将处理代码放置到其他 java 文件中，并且只需 1 行代码即可处理事件。

* * *

实际上，如果您有太多案例-`Map`比`if-else-if-...`Map 更好的方法会更快地找到适当的策略- *O(ln n)*而不是*O(n)*。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T09:22:55.713

正如 vektor 和 Eugene 发布的那样，我会将这两种解决方案结合起来：

```
public interface Task {
  [whatever result it should return] execute([whatever parameters it needs]);
}

//call this method in your constructor
private void initTasks() {
    this.tasks.put("option1", new Task() {
                public int execute(int a, int b) {
                   return (a + b) / 2;
                }
          });
    //init more tasks
    //this.task.put(..., ...);
}

protected Task getTask(String option) {
     return this.task(option);
} 
```

# javascript - 在页面高度更改时绑定事件

> ID：11913211
> 
> 赞同：1
> 
> 时间：2012-08-11T08:28:44.340
> 
> 标签：javascript, jquery

每次页面高度发生变化时，我都需要执行一些 javascript。

到目前为止，我正在做一些非常丑陋的事情：每次我做一些可能改变页面高度的事情时，我都会使用回调。

```
// initial 
positionFooter();
$(window).resize(positionFooter);

...
// some code in some function 
$(this).hide(0, positionFooter);
...

...
// some code in some function 
$(this).show(0, positionFooter);
...

...
// some code in some function 
toggle(i,p.speed, positionFooter);
... 
```

我想找到一种在页面高度发生变化时自动调用我的函数的方法。你有什么想法 ？

编辑：似乎我的问题尚不清楚：某些事件（选项卡更改、ajax 加载新内容、切换事件……）不会触发调整大小功能。为了解决这个问题，我选择在每个事件之后手动调用该函数。它工作正常，但我认为该解决方案并不令人满意。如果有一种方法可以在一个地方捕捉任何页面的高度变化，那会更干净。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:31:08.893

使用 Jquery，$(window).resize(function) 将在每次调整窗口大小时调用函数。

```
$(window).resize(function() {
   //Do something when the window is resized
} 
```

如果你想改变 CSS，你可以像这样在你的 CSS 中直接使用媒体查询

```
@media only screen 
and (max-device-width : 1023px) {
/* Styles */
}

@media only screen 
and (min-device-width : 1024px) {
/* Styles */
} 
```

[Jquery.resize()](http://api.jquery.com/resize/) [媒体查询](http://www.w3.org/TR/css3-mediaqueries/)

如果这不能回答您的问题，请改写或向我们提供有关您正在调用的功能/您正在测试的浏览器的更多信息。

# struts2 - 使用 Struts2，Hibernate 从数据库中获取 jsp 上的动态字段

> ID：11913214
> 
> 赞同：1
> 
> 时间：2012-08-11T08:29:27.060
> 
> 标签：struts2, struts2-jquery

使用 Struts2：

我的数据库中有一个包含字段（2 个文本框和 2 个下拉菜单）的表。我的jsp用各自的值正确地呈现它们。现在我想要的是每当我在我的数据库中手动添加任何字段时，我可以如何使用 Struts2 在我的 jsp 上动态呈现它。我需要使用ajax吗？？？？或我应该如何进行。

提前致谢。

更新：我的数据库中有一个包含 2 列的表，标签名称（姓名、年龄等）和输入元素类型（文本框、下拉列表等）现在，每当我手动或通过某种表单向数据库添加任何字段时，我都想要需要使用 Struts 2 在我的 JSP 上动态呈现它。相应的 Input 元素应该显示在 jsp 上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T23:12:15.917

根据您的问题和评论，您将需要彗星类型的功能。如果这是一个可以控制浏览器版本的 Intranet 应用程序，那么 Web 套接字是一个选项。

在后端有一些注意事项。即您的应用程序是更新数据库的唯一方法，还是有多个应用程序更新数据库。在第一种情况下，您可以让每个客户端注册一个侦听器，然后每次更新都标记所有侦听器。查看聊天服务器的工作方式将解决所有这些问题。

如果有多个应用程序对数据库有贡献，那么您可以通过创建调用某种通知机制的更新触发器来进行更改或让数据库通知您更改。问题是这在数据库之间会有所不同，因此是一个更复杂的场景。

一些阅读：

基本彗星： [http ://en.wikipedia.org/wiki/Comet_%28programming%29](http://en.wikipedia.org/wiki/Comet_%28programming%29)

谈论彗星与网络套接字和大气框架（如果可用，将使用网络套接字的彗星框架）：http: [//jfarcand.wordpress.com/2012/04/19/websockets-or-comet-or-both-whats-支持-in-the-java-ee-land/](http://jfarcand.wordpress.com/2012/04/19/websockets-or-comet-or-both-whats-supported-in-the-java-ee-land/)

如果使用 JPA，他们的回调和监听器可能会有用：[http ://www.objectdb.com/java/jpa/persistence/event](http://www.objectdb.com/java/jpa/persistence/event)

# php - 提交后联系表单重定向但结果页面显示错误的样式

> ID：11913218
> 
> 赞同：-1
> 
> 时间：2012-08-11T08:30:34.670
> 
> 标签：php, jquery, forms, html

表单发送、验证和重定向工作，但感谢页面显示错误的样式。我不是经验丰富的编码员，也不知道如何修复代码以显示正确的样式。

这是[表格](http://www.villalotus.net/TEST/TESTVILLALOTUS/jquerytemp.html)和[感谢页面](http://www.villalotus.net/TEST/TESTVILLALOTUS/kiitosviesti.html)

```
<?php
$email_to = my@email;
$email_subject = "Contact";
$email_from = $_POST['email'];
$thankyouurl = "http://www.villalotus.net/TEST/TESTVILLALOTUS/kiitosviesti.html";
// create email headers
$headers = 'From: '.$email_from."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();
mail($to,$email_subject,$email_body,$headers);
header( "Location: $thankyouurl");
exit();
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:51:00.057

如果您直接访问此链接： http: [//www.villalotus.net/TEST/TESTVILLALOTUS/kiitosviesti.html](http://www.villalotus.net/TEST/TESTVILLALOTUS/kiitosviesti.html)（您的感谢页面）此页面显示正确吗？只有在发送电子邮件之前加载页面时才会出现此错误？

我不确定，但是，尝试切换这个：`header( "Location: $thankyouurl");`为此： `header("location:kiitosviesti.html");`

注意：在脚本的第二行中，在电子邮件中添加引号

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:56:18.603

这与您发布的表单提交 PHP 无关 - 样式不同，因为两个页面使用不同的样式表并且具有完全不同的标记。

表单提交页面正在使用css文件`jquery.mobile-1.0rc2.css`

感谢页面正在使用这个 css 文件`thankyou.css`

两者都在您的 CSS 目录中。如果您想弄清楚如何设置两个页面的样式以使它们看起来相同，则需要对 CSS 进行一些阅读，这远远超出了 SO 答案的范围。比较这两个样式表至少会向您展示差异并帮助您努力使页面看起来相同。

# vb.net - 如何修复“索引超出数组范围”并将值写入数组

> ID：11913219
> 
> 赞同：0
> 
> 时间：2012-08-11T08:30:50.933
> 
> 标签：vb.net, visual-studio-2010, vb.net-2010

我正在尝试编写角色扮演骰子子程序。我正在使用 Visual Studio 2010 编写 Visual Basic。根据 Visual Studio 的所有语法都是正确的。表格如下所示：

当您在# of Dice 文本框中单击值为“1”或“null”的数字按钮时，它将掷一个骰子并根据您单击的数字按钮为您提供一个随机值。如果您输入 2 或更大的值，则程序停止并给我以下异常错误。

我已经完成了研究，并认为代码编写正确，但由于某种原因，值没有进入数组。想知道如何使值进入数组并使程序识别出不止一个骰子正在滚动。下面是其中一个按钮的代码副本。

```
Private Sub btnD4_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnD4.Click
    Dim v, w, x, y, z, iarry(x) As Integer
    lvRolls.Items.Clear()
    If txt4Qty.Text = vbNullString Then
        x = 1
    Else
        x = CInt(txt4Qty.Text)
    End If
    If x = 1 Then
        z = CInt(Int(Rnd() * 5))
        If z > 4 Then
            z = 4
        ElseIf z < 1 Then
            z = 1
        End If
        lvRolls.Items.Add("Roll 1")
        lvRolls.Items(0).SubItems.Add(CStr(z))
        If txt4Mod.Text = vbNullString Then
            lblTotal.Text = CStr(z)
        Else
            w = CInt(txt4Mod.Text)
            lblTotal.Text = CStr(z + w)
        End If
    Else
        For y = 0 To x Step 1
            z = CInt(Int(Rnd() * 5))
            If z > 4 Then
                z = 4
            ElseIf z < 1 Then
                z = 1
            End If
            iarry(y) = z
        Next
        For v = 0 To x
            lvRolls.Items.Add("Roll " & v + 1)
            lvRolls.Items(x).SubItems.Add(CStr(iarry(y)))
        Next
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:40:21.817

你在这里声明你的数组`iarry`： -

```
Dim v, w, x, y, z, iarry(x) As Integer 
```

这将具有声明数组没有元素的效果。一旦知道 x 的值，您就需要

```
ReDim iarry(x) 
```

**编辑**仔细阅读您的代码，看来您可能需要

```
ReDim iarry(x + 1) 
```

对元素数组进行标注可以`x`为您提供元素`0, 1, 2, ..., x-1`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-14T20:38:46.950

我建议您更改数组并使用 list(of integer)，它更容易使用，并且您不需要初始化列表的项目数。

**编辑：**

这是您的代码的一个版本，我不知道这是否是您想要的。

```
 Private Sub btnD4_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnD4.Click

    Dim x As Integer = CInt(If(txt4Qty.Text <> vbNullString, txt4Qty.Text, 1))
    Dim iarry As New List(Of Integer)

    lvRolls.Items.Clear()

    If x = 1 Then

        Dim z As Integer

        z = (New Random).Next(1, 4)

        lvRolls.Items.Add("Roll 1")
        lvRolls.Items(0).SubItems.Add(z.ToString)

        If txt4Mod.Text = vbNullString Then
            lblTotal.Text = z.ToString
        Else
            lblTotal.Text = (z + CInt(txt4Mod.Text)).ToString
        End If

    Else

        Dim i As Integer

        For i = 0 To x
            iarry.Add((New Random).Next(1, 4))
        Next

        For v = 0 To x

            Dim t_item As New ListViewItem("Roll " & v + 1)

            lvRolls.Items.Add(t_item)

            t_item.SubItems.Add(CStr(iarry(v)))

        Next

    End If
End Sub 
```

# php - 将字符串嵌入到特定类的跨度标签中

> ID：11913224
> 
> 赞同：-2
> 
> 时间：2012-08-11T08:31:27.280
> 
> 标签：php

我有一个字符串，我想在其中突出显示单词“some”：

```
$my_string = "This is some string.";
$highlight = "some"; 
```

我需要`<span>`使用一些最适合这项工作的 php 函数将这个词包装在标签中。

我正在使用它在我的网站上进行简单的搜索。

所以，我希望最终结果如下所示：

```
This is <span class="highlight-word">some</span> string. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T09:09:20.263

您可以[`str_replace`](http://sk.php.net/str_replace)按照评论中的说明使用。所以，在你的情况下，它看起来像这样：

```
$my_string = "This is some string.";
$highlight = "some";

echo str_replace($highlight, sprintf('<span class="highlight-word">%s</span>', $highlight), $my_string);
// This is <span class="highlight-word">some</span> string. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T09:23:55.870

首先，您不应该突出显示具有这样跨度的单词。有专门设计的 HTML 元素，请参阅[em](http://www.w3.org/wiki/HTML/Elements/em)和[strong](http://www.w3.org/wiki/HTML/Elements/strong)以获取有关如何使用它们的信息。

实现您想要的最佳选择是将 PHP [str_replace](http://www.php.net/str_replace)包装在一个包装器函数中，因为您可能希望在多个地方执行此操作。

```
function setStrong($wordToStrong, $sentence)
{
    $strong = "<strong>$wordToStrong</strong>";
    return str_replace($wordToStrong, $strong, $sentence);
} 
```

然后像这样使用：-

```
echo setStrong("strong", "This should be a strong word"); 
```

# ruby-on-rails - Rails form_tag 和重定向

> ID：11913225
> 
> 赞同：1
> 
> 时间：2012-08-11T08:31:45.387
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, forms, ruby-on-rails-3.1

嗨，我试图在我的导航栏中实现一个简单的搜索表单，它可以工作，但是它有问题

如果我在我的 show.html.erb 视图中并使用搜索表单，我不会被重定向到我的 index.html.erb。这是我的代码

```
<%= form_tag("/products", method: :get) do %>
     <%= text_field_tag :query, params[:query], {:class =>"search-query", :placeholder=>"Search"}  %>                
<% end %> 
```

我希望此表格将我完全重定向到“products#index”，在此先感谢

编辑：

我想到了...

我有这个

```
 <form class="navbar-search pull-left">
        <%= form_tag({:controller => "products", :action => "index"}, method: :get) do %>
             <%= text_field_tag :query, params[:query], {:class =>"search-query", :placeholder=>"Search"}  %>                
            <% end %>
        </form> 
```

我有两种形式，一种是 HTML，一种是辅助方法。

无论如何谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-08-09T17:09:49.767

我想到了...

我有这个

```
 <form class="navbar-search pull-left">
    <%= form_tag({:controller => "products", :action => "index"}, method: :get) do %>
         <%= text_field_tag :query, params[:query], {:class =>"search-query", :placeholder=>"Search"}  %>                
        <% end %>
    </form> 
```

我有两种形式，一种是 HTML，一种是辅助方法。

无论如何谢谢

# jquery - jQuery Isotope Webkit 问题

> ID：11913226
> 
> 赞同：0
> 
> 时间：2012-08-11T08:31:55.877
> 
> 标签：jquery, google-chrome, webkit, jquery-isotope

我正在使用 jQuery Isotope（[此处](http://isotope.metafizzy.co/)）创建基于网格的博客布局，并在[此处](http://test-domain.theaftermatter.com/)进行现场测试。该站点在非 webkit 浏览器中完美运行（在 IE、Firefox 和 Opera 中测试），但在 webkit 浏览器中存在一些问题。Safari 遭受的损失最为严重：它不会呈现网站的标题，并且放大和缩小页面似乎会导致某种崩溃。Chrome有一个小得多的问题，放大和缩小页面会增加或减少块之间的垂直间距，而缩小会导致块之间的重叠。我已经在使用 (window).load 函数，并且正在使用 imagesloaded（Isotope 网站上已经提到的两种解决方案）。任何有助于我解决这些问题的建议将不胜感激！非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T15:10:58.477

您正在 Isotope 之前加载 imagesLoaded 插件。很确定 imagesLoaded*包含*在 Isotope 中，因此无需单独加载。不确定这是否会导致您的任何问题，但您应该考虑不加载*jquery.imagesloaded.js*。

# git - 如何使用 RFC3161（可信）时间戳来证明我的 Git 存储库中提交的年龄？

> ID：11913228
> 
> 赞同：20
> 
> 时间：2012-08-11T08:32:03.507
> 
> 标签：git, x509certificate, trusted-timestamp, rfc3161

## 更新

我已将我用于此[的脚本发布到 StackExchange 代码审查网站。](https://codereview.stackexchange.com/questions/15380/am-i-making-any-beginner-errors-in-the-bash-script-for-adding-trusted-timestamps)

我最初的问题**是有没有办法可以用 X.509 证书和时间戳签署 Git 提交？**. 有一段时间，我以为我只能得到我用我的 X.509 证书签名的东西，由受信任的第三方加盖时间戳。不是这种情况。带有 X.509 证书的数字签名和受信任的时间戳是相互排斥的。我已经更新了我的问题以反映这一点。

正如 VonC 所指出的，使用 X.509 证书签署 Git 提交不会增加任何价值。由于 Git 的内置支持，使用 GPG 密钥是一个更好的选择。

我接受了 Greg 的回答，因为它最接近我的要求，尽管我最初的问题有点模棱两可。正如 Greg 指出的那样，如果您可以证明您在某个时间点知道提交哈希，则可以保证您知道当时哈希所针对的存储库内容，并且无需在存储库中存储任何额外的数据。时间戳数据可以存储在任何地方。

可以使用`openssl`(v1.0.0+) 并`curl`为提交哈希请求 RFC3161 时间戳。

### 请求时间戳

您需要为此提供一些信息：

*   URL - 一个 RFC3161 时间戳服务
*   REV - 您想要时间戳记的修订版（哈希）。必须是完整的哈希。

```
CONTENT_TYPE="Content-Type: application/timestamp-query"
ACCEPT_TYPE="Accept: application/timestamp-reply"

openssl ts -query -cert -digest "$REV" -sha1 \
    | curl -s -H "$CONTENT_TYPE" -H "$ACCEPT_TYPE" --data-binary @- $URL 
```

以上会将签名的时间戳输出到`stdout`. 如果时间戳服务拒绝请求，它也可能会输出错误。

### 验证时间戳

这与请求时间戳非常相似，但您还需要：

*   CAFILE - 从时间戳服务返回根 CA 的证书链

时间戳服务应该使用由受信任的机构颁发的证书对时间戳进行签名。如果没有，您的时间戳就没有多少可信度。如果您无法找到或创建合适的证书链，请尝试使用`cacert.pem`由`curl`. 它在[这里](http://curl.haxx.se/docs/caextract.html)。

下面的代码片段假设一个现有的、签名的时间戳回复被传递给`stdin`. 应该可以将上述请求直接传送到下面的验证命令中。如果您将请求的响应存储在变量中，则可能需要对其进行 base64 编码/解码 ( `man base64`)。

```
openssl ts -verify -digest "$REV" -in /dev/stdin -CAfile "$CAFILE" 
```

如果您检查回复，您会注意到请求摘要与使用的 Git 修订相匹配。您可以使用此命令检查纯文本版本的回复。

```
openssl ts -reply -in /dev/stdin -text 
```

这是一个回复示例，我在顶部添加了 Git 修订。

```
--------------------------------------------------------------------------------
Revision: 871d715e5c072b1fbfacecc986f678214fa0b585
--------------------------------------------------------------------------------
Status info:
Status: Granted.
Status description: unspecified
Failure info: unspecified

TST info:
Version: 1
Policy OID: 1.3.6.1.4.1.6449.2.1.1
Hash Algorithm: sha1
Message data:
    0000 - 87 1d 71 5e 5c 07 2b 1f-bf ac ec c9 86 f6 78 21   ..q^\.+.......x!
    0010 - 4f a0 b5 85                                       O...
Serial number: 0xB2EA9485C1AFF55C6FFEDC0491F257C8393DB5DC
Time stamp: Aug 15 08:41:48 2012 GMT
Accuracy: unspecified
Ordering: no
Nonce: 0x615F0BF6FCBBFE23
TSA: DirName:/C=GB/ST=Greater Manchester/L=Salford/O=COMODO CA Limited/CN=COMODO Time Stamping Signer
Extensions: 
```

### 其他注意事项

许多时间戳服务要求用户为脚本签名请求添加延迟。确保您了解您计划使用的服务是否需要它。在撰写本文时，我使用的 Comodo 要求脚本请求之间有 15 秒的延迟。我选择使用 Comodo 的唯一原因是我从那里购买了我的代码签名证书。

Git 笔记似乎是存储签名时间戳回复的明显选择，但我并没有完整的解决方案来发布。我现在被困在[这个问题](https://stackoverflow.com/questions/11967405/git-how-do-i-push-objects-created-with-git-hash-object-back-to-origin)上。

我的原始问题和更新如下。

* * *

我希望能够证明我的 Git 提交**何时**发生并且我的存储库的历史没有被重写。它不必是每个提交。一天一次或一周一次就足够了。有推荐的方法吗？

我知道我可以使用 GPG 密钥签署 Git 提交，但我想知道是否有一种方法可以使用 X.509 证书和使用在线时间戳服务（如[http://timestamp.comodoca）签署我的提交.com/rfc3161](http://timestamp.comodoca.com/rfc3161)。

如果不是，是否每天一次将当前修订版转储`git rev-parse --verify HEAD`到文本文件中，签署该文件并提交足以证明（大致）何时编写我的代码？

**为清晰添加信息**

我知道 Git 可以保证存储库的完整性，但是据我所知，如果我控制了存储库，第三方将不得不相信我没有重写存储库的历史或回滚我的时钟并且创建一个完全伪造的存储库只是为了“证明”我的代码比实际旧？我也不想公开发布我的存储库。

这是一个虚构的用例，应该可以更好地了解我想要做什么。

我在网上发布了一些代码。一年后，有人复制并在一本书或文章中发布了相同的代码，并声称我是复制它们的人。那时，我希望能够使用我的存储库并证明我在一年前提交了该代码，然后他们重新发布了它。

通过使用带有时间戳服务的 X.509 证书，我可以证明签名发生**的时间。**只要我能证明我知道一年前提交的哈希值，Git 就可以保证存档的完整性。

或者，有没有办法使用 GPG 密钥签署提交，但带有经过验证的时间戳？是否有受信任的第三方提供与 X.509 证书可用的时间戳服务类似但适用于 GPG 的时间戳服务？

也许我可以使用 GPG 密钥和 X.509 证书的组合。假设我在存储库中保留了我的（公共）GPG 密钥的副本，如果我在每天结束时执行以下操作，是否会起作用？

1.  使用我的 X.509 证书和在线时间戳服务签署我的（公共）GPG 密钥。
2.  使用我的（私有）GPG 密钥的签名将更改提交到存储库。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-17T08:30:10.740

您所要做的就是公开发布 SHA1（提交 ID）。如果您愿意，您可以使用该 SHA1 并使用您的 X.509 证书（使用适当的时间戳服务）对其进行签名并保留它。如果有人质疑您的作者身份，您可以轻松地表明您在生成特定 SHA1 的特定时间知道存储库的内容。您不需要在代码存储库中实际存储任何*签名*。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T22:09:05.883

只需将时间戳证书添加到您的最新提交。sha1 将验证证书未被修改，证书本身将验证它声称的所有“事实”，例如来自受信任服务器的日期和时间戳，以及您声称的身份等。是，提交签署证书，根据 Linus 演讲中 VonC 的引述；-)

* * *

[编辑] 显然，您确实需要发布该新提交的 sha1，否则您可以修改它（和证书）并使用新的 sha1 来声明该新提交历史中的任何内容。与往常一样，它正在创建相互信任的网络。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T20:03:48.270

我不喜欢我跟随，因为 Linus 确实在制作 Git 时考虑到了该特定功能（即，您所输入的内容的*完整性**正是*结果的完整性）

请参阅[2007 年在 Google 上的演讲](http://www.youtube.com/watch?v=4XpnKHJAok8#t=10m50s)（[成绩单](https://git.wiki.kernel.org/index.php/LinusTalk200705Transcript)）：

> 他们中的大多数我什至不尝试就可以丢弃。
> 
> *   如果你不是分布式的，你就不值得使用，就这么简单。
> *   如果你表现不好，你就不值得使用，就这么简单。
> *   **如果你不能保证我放入单片机的东西完全一样，你就不值得使用**。
> 
> 坦率地说，这几乎可以解决所有问题。
> 
> 有很多 SCM 系统不能保证你再次从中得到的和你放入的一样。
> 如果你有内存损坏，如果你有磁盘损坏，你可能永远不会知道。
> 您知道的唯一方法是您在签出文件时注意到文件中存在损坏。而且源代码控制管理系统根本不保护你。
> 这甚至并不少见。这是非常非常常见的。.

所以我认为添加*另一个*完整性功能不会增加任何价值。
而且“时间戳”也不是一个好主意，因为它们一开始就没有为 DVCS 记录（请参阅“ [Git: check out old file WITH original create/modified timestamps](https://stackoverflow.com/questions/2179722/git-checking-out-old-file-with-original-create-modified-timestamps) ”和“[什么相当于git 的使用提交时间？](https://stackoverflow.com/questions/1964470/whats-the-equivalent-of-use-commit-times-for-git) ")

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-08T20:40:24.500

为此，我刚刚编写了一个名为“ **GitLock** ”的程序。它将可信时间戳添加到您的存储库中。

[https://www.npmjs.com/package/gitlock](https://www.npmjs.com/package/gitlock)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-02-22T16:22:10.637

我写了一篇文章，详细介绍了使用 RFC3161 时间戳为 git 存储库添加时间戳的详细信息，并提供了一个自动执行此操作的提交后挂钩：

[https://matthias-buehlmann.medium.com/git-as-cryptographically-tamperproof-file-archive-using-chained-rfc3161-timestamps-ad15836b883](https://matthias-buehlmann.medium.com/git-as-cryptographically-tamperproof-file-archive-using-chained-rfc3161-timestamps-ad15836b883)

关键点如下：

1.  SHA1 可能不再被认为是安全的，特别是如果它要在几年后证明某些事情（[https://sha-mbles.github.io/](https://sha-mbles.github.io/)）。因此，建议使用 sha256 哈希初始化 git 存储库`git init --object-type=sha256`（即使 sha256 支持仍被认为是实验性的）

2.  将时间戳（和 LTV 数据）与存储库一起存储是有好处的 - 特别是为了任意延长时间戳令牌的生命周期，并通过添加先前的 CRL 数据来保护它们不因泄露的私钥而变得无效存储库的时间戳，然后使用新的时间戳对其进行时间戳。

3.  Git 非常适合使用 RFC3161 进行时间戳记，这为它提供了所有数据更改的防篡改证据记录。

# jquery - 用鼠标位置滚动身体？

> ID：11913229
> 
> 赞同：2
> 
> 时间：2012-08-11T08:32:06.370
> 
> 标签：jquery, scroll

基本上，功能就在这里，它只需要一些我不知道如何调整的改进，我已经编写了这个小片段，它完全符合我的要求，但不会滚动整个页面，它只是滚动“窗口”大小。

任何人都可以接受并使它变得惊人吗？:)

```
$(document).mousemove(function(e){
        percent = ((e.pageY) * 100) / $(this).height(); 
        $('body,html').scrollTop( percent);         
}); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-11T08:41:20.607

类似的东西？[http://jsfiddle.net/zcVL7/4/](http://jsfiddle.net/zcVL7/4/)

我将 JS 压缩了一点，但你已经掌握了大部分内容：

```
$(document).mousemove(function(e) {
    var percent = e.clientY / $(window).height();
    $('body, html').scrollTop($(document).height() * percent);
});​ 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-11T08:41:44.427

您可能更希望有一个增量，具体取决于鼠标的偏移量相对于页面中间的距离：http: [//jsfiddle.net/BYUdS/2/](http://jsfiddle.net/BYUdS/2/)。这样，您可以继续向下滚动，这样就没有滚动限制（您现在拥有的）。

```
$(document).mousemove(function(e) {
    $("html, body").scrollTop(function(i, v) {
        var h = $(window).height();
        var y = e.clientY - h / 2;
        return v + y * 0.1;
    });
}); 
```

* * *

这是一个执行更流畅的版本：http: [//jsfiddle.net/BYUdS/3/](http://jsfiddle.net/BYUdS/3/)。

```
var $elems = $("html, body");
var delta = 0;

$(document).on("mousemove", function(e) {
    var h = $(window).height();
    var y = e.clientY - h / 2;
    delta = y * 0.1;
});

$(window).on("blur mouseleave", function() {
    delta = 0;
});

(function f() {
    if(delta) {
        $elems.scrollTop(function(i, v) {
            return v + delta;
        });
    }
    webkitRequestAnimationFrame(f);
})(); 
```

# ruby - 如何在 heroku 上的 sinatra 应用程序中保留和更新持久变量

> ID：11913231
> 
> 赞同：0
> 
> 时间：2012-08-11T08:32:24.507
> 
> 标签：ruby, heroku, sinatra

我有一个非常小的 sinatra 应用程序。它基本上重定向到谷歌搜索。我将它部署在 heroku 上。我想跟踪它获得的点击量，所以我添加了一个“点击”变量，并在每次加载页面时更新它。我面临的问题是，每次我推送新版本时，应用程序都会重新启动并且变量会重置（这并不奇怪，真的）。

有没有办法永久保持变量？并根据需要进行更新？heroku env_vars 可以做到这一点吗？

我正在考虑将本地文件存储作为解决方案，但每次推送新更改时，该文件也会被覆盖。你们知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T12:40:50.510

好吧，没有办法为此使用heroku ENV vars。为此，我创建了一个简单的数据库选项卡；e 用于跟踪所有信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T00:57:55.407

如果您只是为此使用数据库，您可能需要考虑仅将文本文件作为 CSV 写入，或者甚至使用内置的[ruby​​ 记录器方法](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/logger/rdoc/Logger.html)。

# java - 在 jdk 1.5 中序列化对象并在 jdk 1.6 中反序列化它

> ID：11913233
> 
> 赞同：5
> 
> 时间：2012-08-11T08:32:38.390
> 
> 标签：java

我打算做一个研究，如果我尝试混合 java 1.5 和 1.6，请告知。例如，我有一个 java 1.5，我在 c:\ 驱动器中的一个文件中序列化了一个 java 对象，然后尝试在 java 1.6 中打开是否会有任何异常，如果我反之亦然..？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T08:40:17.373

序列化机制本身并没有改变。对于个别班级，这将取决于具体班级。如果一个类有一个 serialVersionUID 字段，这应该表示序列化兼容性。

```
private static final long serialVersionUID = -7287480476309918049L;
If it is unchanged, the serialized versions are compatible. 
```

# ruby-on-rails - 如何在自己的 Openstack Swift 安装中使用 Carrierwave？

> ID：11913237
> 
> 赞同：1
> 
> 时间：2012-08-11T08:33:22.453
> 
> 标签：ruby-on-rails, carrierwave, fog, openstack, openstack-swift

我们在 Rails 3.2.7 项目中使用 Carrierwave。目前我们正在迁移到我们自己的 Openstack Swift 安装，并希望继续使用 Carrierwave。

通过查看 Carrierwave 文档，我可以看到它可以与使用 Fog gem 的 Rackspace 一起使用。不过，我找不到任何文档如何使用 Openstack Swift 安装进行设置。

有没有办法在我自己的 Openstack Swift 安装中使用 Carrierwave 和 Fog？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T13:15:05.213

以下是我们解决此问题的方法：

Fog Gem 没有原生支持使用 Swift 安装处理存储。我希望有一天会有。

但是您可以使用“HP”作为 Carrierwave 的提供者。HP-Storage 与 Rackspace 一样，基于 Openstack Swift 并支持使用 Fog Gem 处理存储。它并不完美，但它有效：

```
CarrierWave.configure do |config|
  config.storage = :fog

  config.fog_credentials = {
    :provider => 'HP',
    :hp_secret_key => "swift_password",
    :hp_account_id => "swift_container",
    :hp_tenant_id => "swift_tenant_id'",
    :hp_auth_uri => "swift_url"
    :hp_use_upass_auth_style => true
  }
  config.fog_directory = "swift_container"
end 
```

# c++ - 退格、删除、空格等在 Visual Studio 2010 中不起作用

> ID：11913238
> 
> 赞同：0
> 
> 时间：2012-08-11T08:33:44.887
> 
> 标签：c++, visual-studio-2010, visual-studio-2013

我在使用 Visual Studio 时遇到问题，我不想使用它，但我必须使用它。

删除、空格等键不起作用，请查看菜单栏-> 重复（几次）菜单元素。

![在此处输入图像描述](../Images/c96f68ada74df3d560bf4264364a9583.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T08:41:32.603

如果您的 Visual Studio 变得不稳定，并且您***没有很多害怕丢失的设置***，那么修复它的简单方法（前提是您仍然可以打开菜单）通常是去

```
Tools -> Import and Export Settings 
```

并选择`Reset all Settings`。这应该可以修复任何损坏的配置。当然，如果插件中的实际代码使事情无法正常工作，那不一定能解决它。

如果您甚至无法进入菜单，请退出 Visual Studio 并（从 Visual Studio 命令提示符）运行；

```
Devenv /ResetSettings 
```

...这应该会产生相同的效果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-03T17:29:36.000

我知道这已经被标记为已回答，但是每次发生这种情况时，我的解决方法是在 Visual Studio 中简单地按 Ctrl+Tab。有人说，只需更改 VS 中的选项卡也可以修复它。试试看。

请注意，我从未见过菜单重复，但它确实修复了键盘对退格、删除、箭头等几个重要键没有响应的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-21T15:27:10.317

我试图重置设置，但在我的情况下不起作用。我正在使用 Visual Studio 2013。我希望我会尝试第二个答案以查看它是否有效，但我重新启动了 Visual Studio 并且成功了。

# c# - 如何关闭 WPF 窗口？

> ID：11913242
> 
> 赞同：-4
> 
> 时间：2012-08-11T08:35:17.847
> 
> 标签：c#, wpf

我正在创建几个这样的 WPF 窗口：

```
flightWindow = new FlightWindow(txbNextFlight.Text, airline);
flightWindow.Show(); 
```

当我单击此窗口内的按钮时，我希望窗口关闭。不知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T08:42:12.900

```
using System;
using System.Windows;

namespace WpfApplication1
{
    public partial class FlightWindow : Window
    {
        public FlightWindow()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, RoutedEventArgs e)
        {
            this.Close();
        }
    }
} 
```

# inheritance - 模型继承——根据属性使用“where”

> ID：11913248
> 
> 赞同：0
> 
> 时间：2012-08-11T08:36:27.617
> 
> 标签：inheritance, activerecord, ruby-on-rails-3.2, rails-models

我有一个用户模型和一个经销商和客户模型，它们继承了用户类并且没有自己的数据库表：

```
class User < ActiveRecord::Base
end

class Dealer < User
  before_save :set_default_values

  def set_default_values
    self.role_id = Role.find_by_handle('dealer').id
  end
end

class Customer < User
    …
end 
```

我不使用范围，因为我想要一个像dealer_path这样的东西和每个角色的一些自定义逻辑。

现在我想知道如何告诉我的经销商/客户模型它依赖于角色，以便我可以使用（例如）Customer.all 并获得具有“客户”角色的用户。

有人可以指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:49:47.290

您可以使用 Rails 的内置[单表继承](http://api.rubyonrails.org/classes/ActiveRecord/Base.html)功能。只需向用户添加一个名为“类型”的列，并将值设置为“经销商”、“客户”等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T15:13:04.103

您不能将默认范围应用于您的新类吗？

```
class Dealer < User
  default_scope { where(:role_id) = Role.find_by_handle('dealer').id }
  ...
end 
```

# ruby-on-rails-3 - 需要结合 button_to 和 link_to

> ID：11913251
> 
> 赞同：0
> 
> 时间：2012-08-11T08:36:57.360
> 
> 标签：ruby-on-rails-3, ruby-on-rails-3.1

有没有办法将 link_to 标记和 button_to 标记结合起来，使按钮成为链接..

我需要结合以下两行代码：

```
 <%= button_to 'Edit', edit_product_path(@product), :type => "submit", :class => "style3", :method => "get" %> 
```

和

```
<%= link_to 'Edit', edit_product_path(@product) %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T21:19:11.950

我知道这篇文章有点老了，但我试图做同样的事情，我想通过使用嵌入式 ruby​​（即 <%= something_path %>）和`<button>`我的 html 中的标签来使用两个名为路由的 Rails。我想出如何做到这一点的唯一方法是向 link_to 添加一个 twitter-bootstrap 按钮类。如果其他人知道如何在不使用 twitter-bootstrap 按钮和使用普通 ol html 按钮的情况下执行此操作，请提供建议，谢谢。

```
<%= link_to "Add", new_user_path, :class => "btn btn-mini" %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:03:46.700

```
# like this?
def link_bu(value, path)    
  "<input type=\"button\" onclick=\"window.location='#{path}';\" value=\"#{value}\"".html_safe
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T22:24:07.380

抱歉这个令人困惑的问题......这就是我需要的......

```
<%= link_to image_tag("/assets/addbutton.png", alt: "Add"),  new_user_path %> 
```

# java - Android：网络浏览器中的 GPS

> ID：11913253
> 
> 赞同：1
> 
> 时间：2012-08-11T08:37:02.770
> 
> 标签：java, android, gps

我正在制作一个网络浏览器。我在我的应用程序的 Android 清单中写道：

```
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permissionandroid:name="android.permission.ACCESS_FINE_LOCATION" /> 
```

没有 GPS 的用户无法安装我的应用程序。

但是有海豚浏览器在Manifest中也有这个代码，但是没有GPS的用户可以安装海豚浏览器。

为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:47:53.777

在清单中添加一个标签

```
<uses-feature android:name="android.hardware.location.gps" android:required="false"/> 
```

这让没有 GPS 的设备可以安装应用程序

您可以在[http://developer.android.com/guide/topics/manifest/uses-feature-element.html阅读更多内容](http://developer.android.com/guide/topics/manifest/uses-feature-element.html)

# objective-c - 如何从对象中的对象获取变量（Objective-C）

> ID：11913255
> 
> 赞同：-3
> 
> 时间：2012-08-11T08:37:15.617
> 
> 标签：objective-c

我正在使用情节提要制作基本游戏。我有多个视图（当然），当重新打开视图时，它们会重置。所以，我创建了一个 appdelaget 应该关闭对象的类。现在，我将 appdelaget 导入到所有需要在重新加载视图时传递变量/不重置的视图。现在，有谁知道我如何从另一个对象中创建的对象中获取变量。无论如何，这很难解释，以下是重要的类：

变量控制.h：

```
#import <Foundation/Foundation.h>

@interface VariableControl : NSObject

@property (nonatomic) int maxNr;
@property (nonatomic) int nrSet;
@property (nonatomic) int guessNr; 
```

变量控制.m：

```
#import "VariableControl.h"

@implementation VariableControl

@synthesize maxNr;
@synthesize guessNr;
@synthesize nrSet;

@end 
```

这是一个简单的类，它将保存将通过视图传递的变量。

Appdelaget.h：

```
#import <UIKit/UIKit.h>
#import "VariableControl.h"

@interface AppDelegate : UIResponder <UIApplicationDelegate>

@property (strong, nonatomic) UIWindow *window;

@end 
```

Appdelaget.m:

```
#import "AppDelegate.h"

@implementation AppDelegate

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:                  
(NSDictionary *)launchOptions
{
    VariableControl *VarControll = [[VariableControl alloc] init];

    VarControll.maxNr = 100;

    VarControll.nrSet = arc4random() %VarControll.maxNr;

    // Override point for customization after application launch.
    return YES;
}
//More methods are not listed becouse they're non-touched// 
```

游戏.h：

```
#import <UIKit/UIKit.h>
#import "AppDelegate.h"

@interface Game : UIViewController

//User interaction and labels
@property (strong, nonatomic) IBOutlet UILabel *theTitle;
@property (strong, nonatomic) IBOutlet UITextField *theInput;
@property (strong, nonatomic) IBOutlet UILabel *theMessage;
@property (strong, nonatomic) IBOutlet UINavigationItem *theTabTitle;
@property (strong, nonatomic) IBOutlet UIButton *theGuessButton;
@property (strong, nonatomic) IBOutlet UIButton *theNewGameButton;

//Variables
@property (nonatomic) int number;
@property (nonatomic) int guess;
@property (nonatomic) int nrOfGuess;
@property (nonatomic) int maxNr;
@property (nonatomic, retain) NSString *guessString;

//Actions
- (IBAction)guess:(id)sender;
- (IBAction)newGame:(id)sender;

@end
//Have some non-neded outlets becouse I tried to fix SIGABRT error, and didn't remove 
them(btw, I have solved sigabrt!!!!)// 
```

游戏.m：

```
#import "Game.h"

@implementation Game

@synthesize theTitle;
@synthesize theInput;
@synthesize theMessage;
@synthesize theTabTitle;
@synthesize theGuessButton;
@synthesize theNewGameButton;
@synthesize number;
@synthesize nrOfGuess;
@synthesize guess;
@synthesize guessString;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:
(NSDictionary *)launchOptions
{
    AppDelegate *StartUp = [[AppDelegate alloc] init];

    return YES;
}

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
    // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view.

    //When the user taps somwhere away from the keyboard, it disapears
    [theInput resignFirstResponder];

    [theTabTitle setTitle:@"Game"];

    [theNewGameButton setTitle:@"New Game" forState:UIControlStateNormal];
    [theGuessButton setTitle:@"Guess" forState:UIControlStateNormal];

    //set a random number and clear variables

    nrOfGuess = 0;
    guess = 0;
}

- (void)viewDidUnload
{
    [self setTheTitle:nil];
    [self setTheInput:nil];
    [self setTheMessage:nil];
    [self setTheTabTitle:nil];
    [self setTheGuessButton:nil];
    [self setTheNewGameButton:nil];
    [super viewDidUnload];
    // Release any retained subviews of the main view.
}

- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    [theInput resignFirstResponder];
    //If the user touches outside the keyboard, it will disapear
}

- (BOOL)shouldAutorotateToInterfaceOrientation: (UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

- (IBAction)guess:(id)sender {

    guess = [[theInput text] intValue];

    if (guess == number) {

    guessString = [NSString stringWithFormat:@"Corret! You guessed %i times!",  nrOfGuess];

    [theMessage setText: guessString];

    number = arc4random() %101;
    nrOfGuess = 0;
    guess = 0;

}

else {

    if (guess < number) {

        [theMessage setText:@"Sorry! Guessed too low!"];

        nrOfGuess = nrOfGuess + 1;

        [theInput setText:@""];
    }
    else    {

        [theMessage setText:@"Sorry! Guessed too high!"];

        nrOfGuess = nrOfGuess + 1;

        [theInput setText:@""];
        }
    }
}

- (IBAction)newGame:(id)sender {
    //set a random number and clear variables
    number = arc4random() %101;

    nrOfGuess = 0;
    guess = 0;
}
@end 
```

现在，问题是；在game.m中，我怎样才能在“VarControll”中获得变量maxNr 这是appdelaget.m中创建的类VariableControll的对象。我不可能

```
number = StartUp.VarControll.maxNr; 
```

它只会给我一个错误！

顺便说一句，如果这是您见过的最愚蠢的问题，或者有最明显的答案，请不要生我的气，我是目标 c 的初学者。

谢谢你的建议，JomanJi

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:16:47.620

如果我正确理解您的问题，这基本上很容易解决。

所以你定义了一些应该交给下一个视图的变量？

既然你说你正在使用故事板，你可以通过你的 segue 命令传递这些值。

快速示例...

在 viewOne 中，您创建了一个名为 MaxNr 的变量。（无需在单独的类中声明它们！！）

因此，当您转到 viewTwo 时，您使用以下 segue 行：

```
if ([segue.identifier isEqualToString:@"gotoViewTwo"])
{
UIViewController *viewTwo = [segue destinationViewController];
viewTwo.maxNr=self.maxNr;
} 
```

这会将 MaxNr 的值移交给 viewTwo。

在 viewTwo 中，您显然必须声明并合成您的 maxNr。

```
viewTwo.h
....

@property (nonatomic) (int) maxNr;

viewTwo.m
....

@synthesize maxNr; 
```

如果你想检查你是否做对了，你可以在 viewTwo didLoad 中放入以下行：

```
NSLog(@"My viewTwo maxNr value is %u",maxNr); 
```

希望这可以帮助..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:31:47.033

您似乎缺少对什么是`instance variable`a 或 a的理解`property`，这是理解 Objective-C 中的面向对象编程的基础。

考虑定义属性的“Appdelaget.h” `window`。此属性属于 的实例`AppDelegate`。所以你可以写：

```
AppDelegate *StartUp = [[AppDelegate alloc] init]; // create your instance of AppDelegate
NSWindow *theWindow = Startup.window; // obtain the value of the window property 
```

但是，您的变量`VarControll`不是实例变量（即属于）您的类，而是*局部变量*（即属于）方法 - 它在方法被调用时存在并且在方法存在时被销毁。这就是为什么你不能写：

```
Startup.VarControll; // wrong, Startup has no property VarControll
Startup->VarControll; // also wrong, Startup has no instance variable VarControll 
```

解决您的问题的一种方法是将类型的实例变量（或属性）添加`VariableControl`到您的`AppDelegate`类中，并在您的方法中设置它，`application:didFinishLaunchingWithOptions:`而不是使用局部变量。但这可能不是您问题的正确答案。您可能需要阅读本地变量与实例变量以及变量和对象的生命周期，以帮助您理解。

# php - 如何将浮点数转换为百分比格式并保存到mysql数据库中？

> ID：11913256
> 
> 赞同：0
> 
> 时间：2012-08-11T08:37:42.793
> 
> 标签：php, mysql

通过四处搜索，我了解到 mysql 没有将数字格式化为百分比的本地方式。那么，我们可以在 php 中完成并保存到 mysql 表中吗？我想学习如何。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:44:46.350

取百分比，除以 100，然后将结果数字（应该是浮点数）存储在 MySQL 数据库中的浮点数据字段中。那是唯一需要的转换。百分比对于计算机来说是未知的，它们是一种格式化和解释的方式。

# scorm - IMS vs SCORM：优点和缺点

> ID：11913258
> 
> 赞同：3
> 
> 时间：2012-08-11T08:37:54.117
> 
> 标签：scorm, scorm2004, scorm1.2

我读过使用 SCORM 比 IMS 规范更可取。所以我想知道 SCORM 相对于 IMS 内容打包的主要优势是什么？最终用户在每种情况下使用它时是否发现两个包之间的差异，如果没有，那么从 IMS 迁移到 SCORM 规范是否有利。这是我在某处读到的：

> “Scorm 和 IMS 打包之间的关键强制性区别在于，在 Scorm 中，必须为每个资源赋予一个 ScormType 属性，以等于“sco”或“asset”。“sco”表示资源支持 Scorm 运行时协议，允许它在运行时与学习平台交换数据（标记、状态、偏好、通信等）。所以从用户的角度来看，打包并没有带来任何好处，只是它使内容可以转移到其他系统。它是在支持用户开始看到好处的运行时（以及，如果你喜欢，排序 - 另一个附加组件）。”

那么任何人都可以解释一下“可转移到其他系统”是什么意思，IMS 内容是否不可转移以及用户如何开始看到好处？感谢您！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T21:29:53.207

IMS 与 SCORM 并不是真正的苹果对苹果的比较。IMS 是一个赞助了许多不同规范的组织，例如 Common Cartridge（使用 SCORM！）和 IMS Question and Test Interoperability (QTI)。另一方面，SCORM 是由美国政府资助的组织 Advanced Distributed Learning (ADL) 捆绑在一起的规范集合。

在通常的实践中，企业 LMS 将使用 SCORM 或 AICC 进行课程到 LMS 的通信，而 IMS 的各种规范往往在高等教育市场中更为常见（由诸如 Blackboard、Sakai 等高等教育的 LMS 使用。 ）。

由于您没有为您的问题提供背景信息 - 您正在为哪些受众开发：企业培训？大学生？还有什么？-- 我们无法就哪一个最适合您的情况提供任何指导。

旁注：这可能是提及新的[Tin Can API](http://tincanapi.com/)的合适时机，它比 SCORM 更灵活，并提供了一种跟踪正式和非正式学习的新方法。

# c# - 如何有效地验证表示标记枚举的整数？

> ID：11913260
> 
> 赞同：4
> 
> 时间：2012-08-11T08:38:20.810
> 
> 标签：c#, validation, bit-manipulation, enumeration, flags

考虑[`FileAttributes`](http://msdn.microsoft.com/en-us/library/system.io.fileattributes.aspx)为按位运算设计的枚举。我创建了一个系统，用户在其中选择一些复选框来确定文件的状态。一个文件可能既是`ReadOnly`又是`System`. 因此，该值为 5（1 为`ReadOnly`4，4 为 4 `System`）。

如何验证整数是否为有效`FileAttributes`枚举？

我见过这些问题，但它们对我没有帮助，因为它们不适用于按位（标记、组合）值。

[检查整数类型是否属于枚举成员](https://stackoverflow.com/questions/2605386/check-that-integer-type-belongs-to-enum-member)
[有没有办法检查 int 是否是 C# 中的合法枚举？](https://stackoverflow.com/questions/2674730/is-there-a-way-to-check-if-int-is-legal-enum-in-c)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-11T08:57:02.667

*   计算所有合法值的累积按位“或”（可能使用 Enum.GetValues）
*   计算“testValue & ~allValues”
*   如果它不为零，那么就不可能通过组合合法标志来形成您的当前值

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T09:09:26.543

这将起作用。基本上，如果枚举组合无效，ToString() 将只返回数字。

```
private bool CombinationValidForFileAttributes(int value)
{
    return ((FileAttributes)value).ToString() != value.ToString();
} 
```

# php - PHP - 创建用于数据库访问的类

> ID：11913265
> 
> 赞同：-1
> 
> 时间：2012-08-11T08:39:15.483
> 
> 标签：php, mysql, class, pdo

我想使用类创建数据访问。但出现问题。我的文档根目录是 public_html 所以我的 /resources 文件在文档根目录之外

我在 /resources/dal/task.php 有一个数据访问层类

```
<?php
namespace resources\dal;

class task
{
public $result;
public function __construct()
{
    try {
        # MySQL with PDO_MYSQL
        $DBH = new PDO('mysql:host=localhost;dbname=test', 'root',     'abc123');
        $DBH->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION,     PDO::NULL_EMPTY_STRING );
    }       
    catch(PDOException $e) {
        echo "I'm sorry. Please try again later.";  
        file_put_contents('PDOErrors.txt', $e->getMessage(), FILE_APPEND);  
    }
}

public function __destruct()
{
    $DBH = null;
}

public function select()
{
    $STH = $DBH->prepare("SELECT * FROM task");
    $STH->execute();
    $result = $STH->fetch(PDO::FETCH_ASSOC);
    $this->result = $result;
}
}
?> 
```

这是我的主页（在 public_html 内） index.php

```
<?php
    spl_autoload_extensions(".php");
    spl_autoload_register(function ($class) {
    require $_SERVER["DOCUMENT_ROOT"] . '/../' . $class . '.php';
    });

use resources\dal as DAL;

$taskClass = new DAL\task();
$result = $taskClass->select();
    var_dump($result);
?> 
```

我得到这个错误：

> 警告：要求（D:/DevelopmentWebSite/public_html/../resources\dal\PDO.php）：无法打开流：第 14 行的 D:\DevelopmentWebSite\public_html\index.php 中没有此类文件或目录
> 
> 致命错误：require()：在 D:\DevelopmentWebSite\public_html 中打开所需的 'D:/DevelopmentWebSite/public_html/../resources\dal\PDO.php' (include_path='.;C:\php\pear') 失败\index.php 在第 14 行

对不起，我对 PHP 很陌生。有人知道出了什么问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:39:46.523

您正在使用局部变量 DBH。这意味着它在构造函数结束时丢失。

您可以创建成员变量： `protected $DBH`

在构造函数中：`$this->DBH = new PDO(...`

使用：`$this->DBH->prepare(...`

# php - JavaScript 只在 php 代码中执行一次

> ID：11913266
> 
> 赞同：-1
> 
> 时间：2012-08-11T08:39:19.560
> 
> 标签：php, javascript, echo, flash

我有一个视频播放器，它是 javascript。我把它卡在一个 php 变量中，然后试图将它回显出来。它在我第一次回显视频时完美运行。但是我第二次回显它时，Javascript 没有执行。关于为什么这有帮助的任何想法谢谢

```
 $div = "<div id='mediaplayer'>JW Player goes here</div>";

 $video = "$div <script type='text/javascript' src='jwplayer/jwplayer.js'></script>
                <script type='text/javascript'>
                     jwplayer('mediaplayer').setup({
                     flashplayer: 'jwplayer/player.swf',
                     file: '$videolocation',
                     image: 'jwplayer/preview.jpg',
                     height: 300,
                     width: 300
                     });
                 </script>";
echo $video;
echo $video; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:42:08.760

您的 HTML 无效。使用[验证器](http://validator.w3.org/)。

属性的值`id`在一个页面内必须是唯一的。你在重复使用你的。

第二个脚本可能在第一个 div 上运行（因为它是具有给定 id 的第一个）。

# c# - 如何使用其他集合替换集合中的一系列项目？

> ID：11913268
> 
> 赞同：2
> 
> 时间：2012-08-11T08:39:40.623
> 
> 标签：c#, collections, replace, sequence

假设我有一个 int 数组：

```
var source = new int[] { 1, 2, 3, 4, 5 }; 
```

我想使用这些数组替换它的一部分：

```
var fromArray = new int[] { 1, 2 };
var toArray = new int[] { 11, 12 }; 
```

我需要使用上面的数组产生的输出是：`11, 12, 3, 4, 5`.

在更高级的场景中，我可能还需要使用多个参数替换源。认为`fromArray`并且`toArray`来自`Dictionary<int[], int[]>`：

```
IEnumerable<T> Replace(IEnumerable<T> source,
                       IDictionary<IEnumerable<T>, IEnumerable<T>> values)
{
    // "values" parameter holds the pairs that I want to replace.
    // "source" can be `IList<T>` instead of `IEnumerable<T> if an indexer
    // is needed but I prefer `IEnumerable<T>`.
} 
```

我怎样才能做到这一点？

**编辑：**项目的顺序很重要。认为它像`String.Replace`; 如果 的全部内容`fromArray`不存在`source`（例如，如果源只有`1`并且不存在`2`），则该方法不应尝试替换它。一个例子：

```
var source = new int[] { 1, 2, 3, 4, 5, 6 };
var dict = new Dictionary<int[], int[]>();

// Should work, since 1 and 2 are consecutive in the source.
dict[new int[] { 1, 2 }] = new int[] { 11, 12 }; 

// There is no sequence that consists of 4 and 6, so the method should ignore it.
dict[new int[] { 4, 6 }] = new int[] { 13, 14 };

// Should work.
dict[new int[] { 5, 6 }] = new int[] { 15, 16 };

Replace(source, dict); // Output should be: 11, 12, 3, 4, 15, 16 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:18:31.620

好的，这是基于您编辑的问题的答案。当然完全未经测试。

```
static IEnumerable<T> Replace<T>(IEnumerable<T> source, IDictionary<IEnumerable<T>, IEnumerable<T>> values)
{
  foreach (var kvp in values)
    source = ReplaceOne(source, kvp.Key, kvp.Value);
  return source;
}

static IEnumerable<T> ReplaceOne<T>(IEnumerable<T> source, IEnumerable<T> fromSeq, IEnumerable<T> toSeq)
{
  var sArr = source.ToArray();

  int replLength = fromSeq.Count();
  if (replLength != toSeq.Count())
    throw new NotSupportedException();

  for (int idx = 0; idx <= sArr.Length - replLength; idx++)
  {
    var testSeq = Enumerable.Range(idx, replLength).Select(i => sArr[i]);
    if (testSeq.SequenceEqual(fromSeq))
    {
      Array.Copy(toSeq.ToArray(), 0, sArr, idx, replLength);
      idx += replLength - 1;
    }
  }

  return sArr;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:52:01.593

我认为它会正确工作，

```
 void Replace<T>(ref T[] source, IDictionary<T[], T[]> values)
    {
        int start = 0;
        int index = -1;
        foreach (var item in values)
        {
            start = 0;

            while ((index = IndexOfSequence<T>(source, item.Key, start)) >= 0)
            {
                for (int i = index; i < index + item.Key.Length; i++)
                {
                    source[i] = item.Value[i - index];
                }

                start = index + item.Key.Length + 1;
            }
        }
    }

    public int IndexOfSequence<T>(T[] source, T[] sequence, int start)
    {
        int j = -1;

        if (sequence.Length == 0)
            return j;

        for (int i = start; i < source.Length; i++)
        {
            if (source[i].Equals(sequence[0]) && source.Length >= i + sequence.Length)
            {
                for (j = i + 1; j < i + sequence.Length; j++)
                {
                    if (!source[j].Equals(sequence[j - i]))
                        break;
                }

                if (j - i == sequence.Length)
                    return i;
            }
        }

        return -1;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T09:08:46.090

如果你喜欢 linq :)

```
var replaced = source.Zip(fromArray.Zip(toArray, (x, y) => new {From = x, To = y}),
                                      (x, y) => new {Src = x, Dest = y}).
                Select(x => x.Src == x.Dest.From ? x.Dest.To : x.Src); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T09:09:40.127

```
IEnumerable<T> Replace(IEnumerable<T> source,
    IDictionary<IEnumerable<int>, IEnumerable<T>> values) 
{ 
    // "values" parameter holds the pairs that I want to replace. 
    // "source" can be `IList<T>` instead of `IEnumerable<T> if an indexer 
    // is needed but I prefer `IEnumerable<T>`.

    IList<T> sourceAsList = source as IList<T>;
    if (sourceAsList == null)
    {
        sourceAsList = source.ToList();
    }

    foreach (var kvp in values)
    {
        // repeat same thing as above.
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-11T09:22:49.207

如果您需要支持 general `IEnumerable<T>`（而不是 arrays `T[]`），可能是这样的：

```
IEnumerable<T> Replace<T>(IEnumerable<T> source, IEnumerable<T> fromSeq, IEnumerable<T> toSeq)
{
  var dict = fromSeq.Zip(toSeq, (fr, to) => new { Fr = fr, To = to })
    .ToDictionary(a => a.Fr, a => a.To);

  foreach (var s in source)
  {
    T replace;
    if (dict.TryGetValue(s, out replace))
      yield return replace;
    else
      yield return s;
  }
} 
```

# uitableview - iOS – 使用 selectedBackgroundView 动画 UITableView deselectRow..

> ID：11913269
> 
> 赞同：0
> 
> 时间：2012-08-11T08:40:06.343
> 
> 标签：uitableview, uiimageview, selection

当单元格是时是否可以进行`UITableView`动画处理？`- deselectRowAtIndexPath:animated``selectedBackgroundView``UIImageView`

我想让图像像填充颜色一样淡出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:47:21.850

在我的项目中，我有选定状态的图片并以这种方式实现它：

```
UIView *background = [[UIView alloc] initWithFrame:cell.frame];
background.backgroundColor = [UIColor colorWithRed:239/255.0 green:237/255.0 blue:231/255.0 alpha:1.0];
cell.backgroundView = background;

UIView *selectedBackground = [[UIView alloc] initWithFrame:cell.frame];
selectedBackground.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"selecetedCell.png"]];
cell.selectedBackgroundView = selectedBackground; 
```

也许它会适合你

# python - 从python列表中查找最长的匹配字符串

> ID：11913273
> 
> 赞同：2
> 
> 时间：2012-08-11T08:41:14.087
> 
> 标签：python, regex

假设我们有一个包含 35000 个值的列表 i python，例如：

```
a = ['235', '2589', '25896'] 
```

和要匹配的字符串：

```
str = '258963548'
str2 = '258954213'
str3 = '258659652' 
```

现在我想将这些字符串匹配到列表中以找到最长的匹配项。第一个字符串的结果将是 25896，而第二个匹配将返回 2589，最后一个字符串将无法匹配。

我已经使用正则表达式来解决这个问题，但它需要很长时间，因为我有大约 50 组列表和大约 200 个字符串来匹配每个列表。

这是我的代码：

```
def Matchit(str,b = []):
    pattern = re.compile("(?P<mt>\S*)\S*\s+(?P=mt)")
    ln = 0
    res = -1
    for a in b:
        match = pattern.match(str + ' ' + a).group('mt')
        if (len(match)>ln):
            ln = len(match)
            if(ln>2):
               res = b[a]
   return res 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:55:15.270

您可以从列表中构建一个[trie 。](http://en.wikipedia.org/wiki/Trie)然后你应该能够很快找到最长的匹配

![在此处输入图像描述](../Images/697be3bab85dfb40d4e23ed9c10be6ad.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T08:50:57.820

为什么不将列表按降序排序，然后第一个匹配项将是最长的。这样您就不必运行每个迭代来完成。

# database-design - OrientDB -- twitter 之类的实现和排序

> ID：11913279
> 
> 赞同：1
> 
> 时间：2012-08-11T08:41:57.293
> 
> 标签：database-design, nosql, graph-databases, orientdb

我正在构建一个简单的图表，我想请教你如何做到这一点的建议，这样当它添加更多的顶点和边时，它仍然会表现得很好。我的图表布局是这样的。

```
user --> follows --> user (userVertex)
user --> generates --> activity (activityVertex) 
```

这是我的查询：

```
select
from (
 select
 flatten(out[label='generates'].in)
 from (
  select
  flatten(out[label='follows'].in)
  from #6:0
 )
)
where @class = 'activityVertex'
order by id desc
limit 20 
```

当我进行分页（例如显示更多活动）时，我只需将其添加到`where clause`：

```
where @class = 'activityVertex'
and id < 1234
limit 20 
```

上面是`1234`显示的最后一个活动的 id。

当一个人关注 < 10 个用户并且每个用户有 < 500 个活动时，这一切正常。但是当它变得更大时，它会对`order by`按日期对所有活动进行排序以向用户呈现活动流的子句施加压力。

我想知道推特是怎么做到的？是否有一些设计原则，即使是那些不严格与 OrientDB 相关的，我还没有应用这将使这成为可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T10:44:02.903

您可以使用 SKIP 关键字。SKIP+LIMIT 变魔术：

```
SELECT ... SKIP 0  LIMIT 20  // 1st page
SELECT ... SKIP 20 LIMIT 20 // 2st page
SELECT ... SKIP 40 LIMIT 20 // 2st page 
```

# ruby-on-rails - Heroku 控制台未定义方法删除和或销毁

> ID：11913290
> 
> 赞同：-1
> 
> 时间：2012-08-11T08:44:12.597
> 
> 标签：ruby-on-rails, heroku

嗨，我正在尝试按用户的 IP 地址删除用户。

我在第一行使用这个。

```
dummy = User.find(:all, :conditions => {:current_sign_in_ip => '180.194.29.229'}) 
```

我试过了

```
dummy.delete

dummy.delete.all

dummy.destroy

dummy.destroy.all 
```

但似乎不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T08:53:14.010

这：

```
dummy = User.delete_all( ["current_sign_in_ip = ?", '180.194.29.229'] ) 
```

# php - 动态选择框

> ID：11913293
> 
> 赞同：1
> 
> 时间：2012-08-11T08:44:49.950
> 
> 标签：php, javascript, mysql

我正在学习 PHP 和 Mysql。

我有一个带有 2 个表的数据库（练习）。一个是类别，另一个是子类别。

在我的 html 表单中有一个来自类别表的选择框数据列表。**所以我需要，如果我选择这个列表框，他们另一个选择框数据将从与类别表相关的子类别表中出现。例如：**

**类别表**

```
Id     Cat_name
1      O level  
2      A level. 
```

**子类别表：**

```
id     Cat_id     Sub_name
1      1          O-level Math
2      1          O-level English
3      2          A-level Math
4      2          A-level English 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:52:00.443

如果您希望在不重新加载页面的情况下无缝高效地完成此操作，您需要查看 Jquery Ajax 函数。Ajax 的工作方式是当有人在第一个框中进行选择时，它将将该数据发送到一个 php 脚本，该脚本可以从第一个框中获取答案，运行 mysql 查询，然后将新的子类别返回到原始页面而无需重新加载页面。

示例：在您的 test.php 中

```
//On selection change state, call the ajax
$("#elementid").change(function() {
 var selection = $(this).children("option:selected");

  $.ajax({
    url: 'caller.php',
    dataType: 'json',
    data: 'selected='+selection,
    success: function(data) {
      //Fill the second selection with the returned mysql data
    }
  });
}

<select id="elementid">
  <option value="volvo">Volvo</option>
  <option value="saab">Saab</option>
  <option value="mercedes">Mercedes</option>
  <option value="audi">Audi</option>
</select> 
```

在你的 caller.php

```
$selection = $_POST["selected"];
//Create an array to hold all the subcategories, say the array is called $sub
echo json_encode(array(success => $sub));
exit; 
```

请阅读[Jquery.ajax](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T08:51:32.203

您将需要 Ajax 来完成此操作，在您的第一个下拉列表中选择一个值后，您通过 ajaxn 向另一个 php 文件发送一个请求，该文件将根据第一个选择为您提供结果子类别。然后，Ajax 将在您的第二个下拉列表中插入这些新数据。您还可以查看 jquery 库中的 post 函数，这将使整个过程更加容易。

# codeigniter - Codeigniter Nusoap 错误

> ID：11913298
> 
> 赞同：0
> 
> 时间：2012-08-11T08:46:38.153
> 
> 标签：codeigniter, nusoap

我是 Codeigniter 和 SOAP Web 服务的新手。我在下面收到错误响应。

```
<?php
class Webservice extends CI_Controller {

    var $ns = "http://localhost/website/webservice";

    public function __construct()
    {
        parent::__construct();
        $this->load->library("Nusoap_lib");

        $this->server = new soap_server();
        // Initialize WSDL support
        $this->server->configureWSDL('hellowsdl', 'urn:hellowsdl');
        // Register the method to expose
        $this->server->register('hello');

        // Define the method as a PHP function
    }

    public function hello() {
        return 'Hello, ';
    }

    function index()
    {
        $this->server->service($this->ns);
    }
?> 
```

请任何人帮助我我的代码中有什么问题。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-30T05:19:57.640

在 index() 函数中声明 hello 函数，它对我有用。但是声明 index() 函数给我带来了问题。

```
<?php
class Webservice extends CI_Controller {

var $ns = "http://localhost/website/webservice";

public function __construct()
{
    parent::__construct();
    $this->load->library("Nusoap_lib");

    $this->server = new soap_server();
    // Initialize WSDL support
    $this->server->configureWSDL('hellowsdl', 'urn:hellowsdl');
    // Register the method to expose
    $this->server->register('hello');

    // Define the method as a PHP function
}

function index()
{
    $this->server->service($this->ns);
        public function hello() {
    return 'Hello, ';
}

}
 ?> 
```

# c - 在 ANSI C 中表示 BER TLV 数据结构？

> ID：11913299
> 
> 赞同：4
> 
> 时间：2012-08-11T08:46:42.427
> 
> 标签：c, data-structures, asn.1

昨天我开始了解使用[TLV](http://en.wikipedia.org/wiki/Type-length-value)格式表示信息。

如果您要使用 ANSI C 编写便携式 BER TLV 编码器/解码器，您会使用什么数据结构 (*)？

像下面这样的事情会做吗？

```
struct TlvElement
{
    int nTag;
    int nLength;
    unsigned char *pValue; // Byte array
    TlvElement *pNext;
}; 
```

(*) 不幸的是，我不能为此使用 C++ 和 STL。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T08:55:46.433

来自维基文章：

> 类型和长度大小固定（通常为 1-4 个字节）

所以，我会将`nTag`and更改`nLength`为一些固定长度的类型。`int`的大小是特定于平台的，这可能会给您带来一些麻烦。为您的协议修复它们的大小并使用`int8_t`, `int16_t`or`int32_t`等​​。对于`nLength`，您甚至可以使用未签名的。

* * *

由于值可以是任何类型，我会使用`void*`for `pValue`，而不是`unsigned char*`.

* * *

你将如何使用这个数据结构？您希望如何访问不同的 TLV？
我的意思是——你*需要*链表吗？或者，链表会是您的案例/应用程序/目的/等*的最佳*选择吗？

我想说的是，您可以删除`pNext`元素并将 TLV 视为（动态增长的）数组的元素。这个真的取决于你的需要。

[很可能，当您实现 TLV 时，您需要通过某种连接发送它们，对吗？如果是这样，您需要考虑一些协议。我会做这样的事情——一开始就发送 TLV 的总数，我不会使用链表，而是使用动态数组。
您应该小心通过网络发送此类数据结构 -`pNext`指针将无效，它们必须在连接的另一端重置。
您还需要仔细发送数据，但我想您知道这些事情。我只是想提一下他们。]

* * *

**编辑**我看到您在理解*嵌套*TLV 的含义时遇到了一些麻烦。

嵌套 TLV 只是一个 TLV 元素，它具有 TLV 类型的值。而这与 TLV 的“容器”——动态数组或链表无关。

这是一个**未经测试**的示例，只是为了了解这个想法。我会这样做：

```
struct TLV
{
    uint32_t nTag;
    uint32_t nLength;
    void* pValue;
};

// created dynamic array with 3 TLVs:
TLV* pMyTLVs = malloc( 3 * sizeof( struct TLV ) );

// set the first 2 TLVs, some primitives, for example
// ..

// now, set the third TLV to be nested:
pMyTLVs[ 2 ].nTag = ...; // set some tag, that will indicate nested TLV
pMyTLVs[ 2 ].nLength = ...; // set length of the TLV element
pMyTLVs[ 2 ].pValue = malloc( sizeof( struct TLV ) );

// get pointer to the new, _nested_ TLV:
TLV* pNested = (TLV*)pMyTLVs[ 2 ].pValue; 

// now use the pNested TLV as an usual TLV:
pNested->nTag = ...;
pNested->nLength = ...;
pNested->pValue = ...;

// of course, pNested is not absolutely necessary, you may use directly
// pMyTLVs[ 2 ].pValue->...;
// but using pNested, makes the code more clear 
```

注意：再一次，这不是经过测试的代码，但我想你明白了。希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T09:44:29.007

如果我要使用 ANSI C 编写 TLV 编码器/解码器，我会选择经过验证的、标准化的、灵活的数据**序列化**（即*在线*）格式：[ASN.1](http://en.wikipedia.org/wiki/Comparison_of_data_serialization_formats) [BER](http://en.wikipedia.org/wiki/Basic_Encoding_Rules)、[Thrift](http://en.wikipedia.org/wiki/Thrift_%28protocol%29)等。

这是一个经典的领域，每天都会对车轮进行重新发明。聪明人已经想到了高效、可维护和灵活的解决方案；再次经历同样的过程没有什么意义。

例如，如果您的示例中的结构用于**serialization**，您仍然需要考虑：

*   字节序问题
*   语言类型的大小（大小`int`取决于编译器平台和操作系统）
*   有效载荷中的数据类型（您可能想要携带原始数据、字符串、数字、位字段、枚举等）
*   标签号的集中分配
*   可选元素和选择
*   复合结构（例如 TLV 列表）

一些现有的格式提供了语义和句法之间的分离；其他允许您为数据方案自动生成编码器/解码器。

一旦您选择了**序列化**格式，您就可以开始考虑**内存**格式，这在很大程度上取决于您的应用程序将如何操作数据，例如：

*   应用程序如何在解码后提取数据（例如，给定一个整数项，应用程序是访问编码表示还是可以轻松使用的本机表示？）
*   应用程序如何在编码前准备数据
*   应用程序是否是多线程的
*   是否要最小化复制开销（例如，如果您有大量原始数据，是否需要对其进行复制以对其进行编码？如果原始数据是碎片化的，您是否需要在连续内存中的某个地方对其进行重组以对其进行编码？ )
*   解码和解码是否可以增量完成
*   分配的内存如何属于：应用程序还是库？
*   您如何处理内存不足和未知标签等错误

我建议看一下由[asn1c](http://lionet.info/asn1c/blog/)生成的用于处理 ASN.1 BER 的 API，或者查看[libtasn1](http://www.gnu.org/software/libtasn1/manual/libtasn1.html)的 API 。

# java - Java Applet 打开、编辑和保存图像文件

> ID：11913307
> 
> 赞同：1
> 
> 时间：2012-08-11T08:48:34.763
> 
> 标签：java, html, swing, deployment, applet

想象一下我在服务器上运行 Apache 服务器的场景。来自互联网的用户来到服务器并受到一个 Java 小程序的欢迎，该小程序提示他们从他们的计算机中选择一个图像文件。然后，它会在图像文件上加盖徽标并覆盖用户选择的原始图像。我把它写成一个桌面 GUI 应用程序。有没有办法直接使用我的基于摇摆的应用程序并在网站上运行它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T09:29:04.717

> 有没有办法直接使用我的基于摇摆的应用程序并在网站上运行它？

不是在网站上，而是从网站上。对应用程序 Jar 进行数字签名并使用[Java Web Start](https://stackoverflow.com/tags/java-web-start/info)从链接启动它。该应用程序。需要`all-permissions`在启动文件中请求。

除了签署代码和请求扩展权限之外，还可以转换 I/O 以使用等效的 JNLP API 服务。将在运行时提示用户是否允许该操作。请参阅沙盒[演示。JNLP API 文件服务](http://pscode.org/jws/api.html#fs)的外观和感觉。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-21T05:37:07.730

```
Dear Friend here is an GUI that provides user interface to edit images...refer through it
/* Arpana */
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Container;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.GridLayout;
import java.awt.Image;
import java.awt.MediaTracker;
import java.awt.Toolkit;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.awt.image.BufferedImage;
import java.awt.image.ConvolveOp;
import java.awt.image.Kernel;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.border.TitledBorder;

public class ConvolveApp extends JFrame {
  CPanel displayPanel;

  JButton sharpenButton, blurringButton, edButton, resetButton;

  public ConvolveApp() {
    super();
    Container container = getContentPane();

    displayPanel = new CPanel();
    container.add(displayPanel);

    JPanel panel = new JPanel();
    panel.setLayout(new GridLayout(2, 2));
    panel
        .setBorder(new TitledBorder(
            "Click a Button to Perform the Associated Operation and Reset..."));

    sharpenButton = new JButton("Sharpen");
    sharpenButton.addActionListener(new ButtonListener());
    blurringButton = new JButton("Blur");
    blurringButton.addActionListener(new ButtonListener());
    edButton = new JButton("Edge Detect");
    edButton.addActionListener(new ButtonListener());
    resetButton = new JButton("Reset");
    resetButton.addActionListener(new ButtonListener());

    panel.add(sharpenButton);
    panel.add(blurringButton);
    panel.add(edButton);
    panel.add(resetButton);

    container.add(BorderLayout.SOUTH, panel);

    addWindowListener(new WindowAdapter() {
      public void windowClosing(WindowEvent e) {
        System.exit(0);
      }
    });
     //setSize(100,100);
    setSize(displayPanel.getWidth()+50, displayPanel.getHeight() );
    setVisible(true); 
  }
  public static void main(String arg[]) {
    new ConvolveApp();
  }

  class ButtonListener implements ActionListener {
    public void actionPerformed(ActionEvent e) {
      JButton button = (JButton) e.getSource();

      if (button.equals(sharpenButton)) {
        displayPanel.sharpen();
        displayPanel.repaint();
      } else if (button.equals(blurringButton)) {
        displayPanel.blur();
        displayPanel.repaint();
      } else if (button.equals(edButton)) {
        displayPanel.edgeDetect();
        displayPanel.repaint();
      } else if (button.equals(resetButton)) {
        displayPanel.reset();
        displayPanel.repaint();
      }
    }
  }
}

class CPanel extends JLabel {
  Image displayImage;

  BufferedImage biSrc;

  BufferedImage biDest; // Destination image is mandetory.

  BufferedImage bi; // Only an additional reference.

  Graphics2D big;

  CPanel() {
    setBackground(Color.black);
    loadImage();
    setSize(displayImage.getWidth(this), displayImage.getWidth(this)); 
    createBufferedImages();
    bi = biSrc;
  }

  public void loadImage() {
    displayImage = Toolkit.getDefaultToolkit().getImage("Desert.jpg");
    MediaTracker mt = new MediaTracker(this);
    mt.addImage(displayImage, 1);
    try {
      mt.waitForAll();
    } catch (Exception e) {
      System.out.println("Exception while loading.");
    }
    if (displayImage.getWidth(this) == -1) {
      System.out.println("No jpg file");
      System.exit(0);
    }
  }

  public void createBufferedImages() {
    biSrc = new BufferedImage(displayImage.getWidth(this), displayImage
        .getHeight(this), BufferedImage.TYPE_INT_RGB);

    big = biSrc.createGraphics();
    big.drawImage(displayImage, 0, 0, this);

    biDest = new BufferedImage(displayImage.getWidth(this), displayImage
        .getHeight(this), BufferedImage.TYPE_INT_RGB);
  }

  public void sharpen() {
    float data[] = { -1.0f, -1.0f, -1.0f, -1.0f, 9.0f, -1.0f, -1.0f, -1.0f,
        -1.0f };
    Kernel kernel = new Kernel(3, 3, data);
    ConvolveOp convolve = new ConvolveOp(kernel, ConvolveOp.EDGE_NO_OP,
        null);
    convolve.filter(biSrc, biDest);
    bi = biDest;
  }

  public void blur() {
    float data[] = { 0.0625f, 0.125f, 0.0625f, 0.125f, 0.25f, 0.125f,
        0.0625f, 0.125f, 0.0625f };
    Kernel kernel = new Kernel(3, 3, data);
    ConvolveOp convolve = new ConvolveOp(kernel, ConvolveOp.EDGE_NO_OP,
        null);
    convolve.filter(biSrc, biDest);
    bi = biDest;
  }

    public void edgeDetect() {
    float data[] = { 1.0f, 0.0f, -1.0f, 1.0f, 0.0f, -1.0f, 1.0f, 0.0f,
        -1.0f };

    Kernel kernel = new Kernel(3, 3, data);
    ConvolveOp convolve = new ConvolveOp(kernel, ConvolveOp.EDGE_NO_OP,
        null);
    convolve.filter(biSrc, biDest);

    bi = biDest;
  }

  public void reset() {
    big.setColor(Color.black);
    big.clearRect(0, 0, bi.getWidth(this), bi.getHeight(this));
    big.drawImage(displayImage, 0, 0, this);
    bi = biSrc;
  }

  public void update(Graphics g) {
    g.clearRect(0, 0, getWidth(), getHeight());
    paintComponent(g);
  }

  public void paintComponent(Graphics g) {
    super.paintComponent(g);
    Graphics2D g2D = (Graphics2D) g;

    g2D.drawImage(bi, 0, 0, this);
  }
} 
```

# opencv - 使用opencv2.4检测正方形

> ID：11913313
> 
> 赞同：1
> 
> 时间：2012-08-11T08:49:17.357
> 
> 标签：opencv, object-detection

我用一个程序来检测图像中的正方形。这适用于我从互联网下载的图像。但我应该做的是检测从相机拍摄的图像的正方形。首先，我从视频中提取图像，然后尝试从这些图像集中检测正方形，但代码不适用于那些提取的图像（但与其他图像配合得很好）。我应该怎么做才能完成这项任务？

```
#ifdef _CH_
#pragma package <opencv>
#endif

#define CV_NO_BACKWARD_COMPATIBILITY

#include <opencv2/opencv.hpp> 
#include "stdafx.h"
#include "cv.h"
#include "highgui.h"
#include <stdio.h>
#include <math.h>
#include <string.h>

int thresh = 50;
IplImage* img = 0;
IplImage* img0 = 0;
CvMemStorage* storage = 0;
//const char* wndname = "Square Detection Demo";

// helper function:
// finds a cosine of angle between vectors
// from pt0->pt1 and from pt0->pt2
double angle( CvPoint* pt1, CvPoint* pt2, CvPoint* pt0 )
{
    double dx1 = pt1->x - pt0->x;
    double dy1 = pt1->y - pt0->y;
    double dx2 = pt2->x - pt0->x;
    double dy2 = pt2->y - pt0->y;
    return (dx1*dx2 + dy1*dy2)/sqrt((dx1*dx1 + dy1*dy1)*(dx2*dx2 + dy2*dy2) + 1e-10);
}

// returns sequence of squares detected on the image.
// the sequence is stored in the specified memory storage
CvSeq* findSquares4( IplImage* img, CvMemStorage* storage )
{
    CvSeq* contours;
    int i, c, l, N = 11;
    CvSize sz = cvSize( img->width & -2, img->height & -2 );
    IplImage* timg = cvCloneImage( img ); // make a copy of input image
    IplImage* gray = cvCreateImage( sz, 8, 1 );
    IplImage* pyr = cvCreateImage( cvSize(sz.width/2, sz.height/2), 8, 3 );
    IplImage* tgray;
    CvSeq* result;
    double s, t;
    // create empty sequence that will contain points -
    // 4 points per square (the square's vertices)
    CvSeq* squares = cvCreateSeq( 0, sizeof(CvSeq), sizeof(CvPoint), storage );

    // select the maximum ROI in the image
    // with the width and height divisible by 2
    cvSetImageROI( timg, cvRect( 0, 0, sz.width, sz.height ));

    // down-scale and upscale the image to filter out the noise
    cvPyrDown( timg, pyr, 7 );
    cvPyrUp( pyr, timg, 7 );
    tgray = cvCreateImage( sz, 8, 1 );

    // find squares in every color plane of the image
    for( c = 0; c < 3; c++ )
    {
        // extract the c-th color plane
        cvSetImageCOI( timg, c+1 );
        cvCopy( timg, tgray, 0 );

        // try several threshold levels
        for( l = 0; l < N; l++ )
        {
            // hack: use Canny instead of zero threshold level.
            // Canny helps to catch squares with gradient shading
            if( l == 0 )
            {
                // apply Canny. Take the upper threshold from slider
                // and set the lower to 0 (which forces edges merging)
                cvCanny( tgray, gray, 0, thresh, 5 );
                // dilate canny output to remove potential
                // holes between edge segments
                cvDilate( gray, gray, 0, 1 );
            }
            else
            {
                // apply threshold if l!=0:
                //     tgray(x,y) = gray(x,y) < (l+1)*255/N ? 255 : 0
                cvThreshold( tgray, gray, (l+1)*255/N, 255, CV_THRESH_BINARY );
            }

            // find contours and store them all as a list
            cvFindContours( gray, storage, &contours, sizeof(CvContour),
                CV_RETR_LIST, CV_CHAIN_APPROX_SIMPLE, cvPoint(0,0) );

            // test each contour
            while( contours )
            {
                // approximate contour with accuracy proportional
                // to the contour perimeter
                result = cvApproxPoly( contours, sizeof(CvContour), storage,
                    CV_POLY_APPROX_DP, cvContourPerimeter(contours)*0.02, 0 );
                // square contours should have 4 vertices after approximation
                // relatively large area (to filter out noisy contours)
                // and be convex.
                // Note: absolute value of an area is used because
                // area may be positive or negative - in accordance with the
                // contour orientation
                if( result->total == 4 &&
                    cvContourArea(result,CV_WHOLE_SEQ,0) > 1000 &&
                    cvCheckContourConvexity(result) )
                {
                    s = 0;

                    for( i = 0; i < 5; i++ )
                    {
                        // find minimum angle between joint
                        // edges (maximum of cosine)
                        if( i >= 2 )
                        {
                            t = fabs(angle(
                            (CvPoint*)cvGetSeqElem( result, i ),
                            (CvPoint*)cvGetSeqElem( result, i-2 ),
                            (CvPoint*)cvGetSeqElem( result, i-1 )));
                            s = s > t ? s : t;
                        }
                    }

                    // if cosines of all angles are small
                    // (all angles are ~90 degree) then write quandrange
                    // vertices to resultant sequence
                    if( s < 0.3 )
                        for( i = 0; i < 4; i++ )
                            cvSeqPush( squares,
                                (CvPoint*)cvGetSeqElem( result, i ));
                }

                // take the next contour
                contours = contours->h_next;
            }
        }
    }

    // release all the temporary images
    cvReleaseImage( &gray );
    cvReleaseImage( &pyr );
    cvReleaseImage( &tgray );
    cvReleaseImage( &timg );

    return squares;
}

// the function draws all the squares in the image
void drawSquares( IplImage* img, CvSeq* squares )
{
    CvSeqReader reader;
    IplImage* cpy = cvCloneImage( img );
    int i;

    // initialize reader of the sequence
    cvStartReadSeq( squares, &reader, 0 );

    // read 4 sequence elements at a time (all vertices of a square)
    for( i = 0; i < squares->total; i += 4 )
    {
        CvPoint pt[4], *rect = pt;
        int count = 4;

        // read 4 vertices
        CV_READ_SEQ_ELEM( pt[0], reader );
        CV_READ_SEQ_ELEM( pt[1], reader );
        CV_READ_SEQ_ELEM( pt[2], reader );
        CV_READ_SEQ_ELEM( pt[3], reader );

        // draw the square as a closed polyline
        cvPolyLine( cpy, &rect, &count, 1, 1, CV_RGB(0,255,0), 3, CV_AA, 0 );
    }

    // show the resultant image
    cvShowImage( "Square Detection Demo", cpy );
    cvReleaseImage( &cpy );
}

//char* names[] = { "pic1.png", "pic2.png", "pic3.png",
                 // "pic4.png", "pic5.png", "pic6.png", 0 };

int main(int argc, char** argv)
{
    int i, c;
    // create memory storage that will contain all the dynamic data
    storage = cvCreateMemStorage(0);

    //for( i = 0; names[i] != 0; i++ )
    //{
    //    // load i-th image
    //    img0 = cvLoadImage( names[i], 1 );
    //    if( !img0 )
    //    {
    //        printf("Couldn't load %s\n", names[i] );
    //        continue;
    //    }
        img0 = cvLoadImage("frame_21.jpg");
        img = cvCloneImage( img0 );

        // create window and a trackbar (slider) with parent "image" and set callback
        // (the slider regulates upper threshold, passed to Canny edge detector)
       // cvNamedWindow( "qq");

        // find and draw the squares
        drawSquares( img, findSquares4( img, storage ) );

        // wait for key.
        // Also the function cvWaitKey takes care of event processing
        c = cvWaitKey(0);
        // release both images
        cvReleaseImage( &img );
        cvReleaseImage( &img0 );
        // clear memory storage - reset free space position
        cvClearMemStorage( storage );
        /*if( (char)c == 27 )
            break;*/
  /*  }*/

//    cvDestroyWindow( "qq" );

    return 0;
} 
```

这是从视频中提取的示例图像 ----->![路标](../Images/8fbde0b8f23a21118517931825dcf096.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:27:07.207

我在不同的图像上测试了代码，它对所有图像都运行良好，有一个 if 条件是 findsuqares4 函数

```
 if( result->total == 4 &&
                cvContourArea(result,CV_WHOLE_SEQ,0) > 10000 &&
                cvCheckContourConvexity(result) ) 
```

10000 是要检测的正方形的阈值。我的意思是检测到面积超过 10000 的正方形，其余的都将被丢弃。所以您需要根据您的要求更改阈值。我上传了一个阈值为 100 的结果。查看结果。

![检测到的方块](../Images/7d43f6cbff1d8442a3b7c9b37f352578.png)

# cuda - 安装 Cuda NVIDIA 图形驱动程序失败

> ID：11913320
> 
> 赞同：7
> 
> 时间：2012-08-11T08:51:18.287
> 
> 标签：cuda, cuda.net

我有两台笔记本电脑：索尼 vaio z 系列 (vocz1) 和 S 系列。第一个是 Geforce 和 cuda 型号 GT330M，第二个是 GT 640M LE。当我尝试从该站点[http://developer.nvidia.com/cuda/cuda-downloads](http://developer.nvidia.com/cuda/cuda-downloads)安装 CUDA Geforce 驱动程序时， 我在 Windows 中收到以下错误。我想知道你会建议我解决这个问题的解决方案吗？我所有的显卡都已经安装好了，

Nvidia 安装程序无法继续 此显卡找不到兼容的显卡硬件。

我是 CUDA 编程的初学者，我想知道我可以在不安装 Nividia 驱动程序的情况下编译和运行我的 CUDA 程序吗？Cuda 工具包和 SDK 已成功安装在我的机器上，但是当我运行我的程序时，我无法设置我的 Cuda 设备。这是否意味着我需要安装 Nividia 驱动程序？![在此处输入图像描述](../Images/608ca6b1fdd57da822d24758fc0c391f.png)

```
cudaError_t cudaStatus1;
int deviceCount; 
cudaGetDeviceCount(&deviceCount); 
int device; 
for (device = 0; device < 10; ++device) { 
    cudaDeviceProp deviceProp; 

    cudaGetDeviceProperties(&deviceProp, device); 
    // Choose which GPU to run on, change this on a multi-GPU system.
    cudaStatus1 = cudaSetDevice(device);
    printf("Device %d has compute capability %d.%d. -  %d\n", 
            device, deviceProp.major, deviceProp.minor,cudaStatus1 ); 
} 
```

输出：

```
Device 0 has compute capability 3137268.3137268\. -  35
Device 1 has compute capability 3137268.3137268\. -  35
Device 2 has compute capability 3137268.3137268\. -  35
Device 3 has compute capability 3137268.3137268\. -  35
Device 4 has compute capability 3137268.3137268\. -  35
Device 5 has compute capability 3137268.3137268\. -  35
Device 6 has compute capability 3137268.3137268\. -  35
Device 7 has compute capability 3137268.3137268\. -  35
Device 8 has compute capability 3137268.3137268\. -  35
Device 9 has compute capability 3137268.3137268\. -  35 
```

> **35 表示未设置设备，如果变为 0 则表示已设置设备。**

在我收到以下信息运行 deviceQuery 后：

> Microsoft Windows [版本 6.1.7601] 版权所有 (c) 2009 Microsoft Corporation。版权所有。
> C:\Users\xx>"C:\ProgramData\NVIDIA Corporation\NVIDIA GPU Computing SDK 4.2\C\ bin\win64\Release\deviceQuery.exe" [deviceQuery.exe] 开始... C:\ProgramData\NVIDIA Corporation \NVIDIA GPU Computing SDK 4.2\C\bin\win64\Relea se\deviceQuery.exe 正在启动... CUDA 设备查询（运行时 API）版本（CUDART 静态链接）找到 1 个支持 CUDA 的设备设备 0：“GeForce GT 640M LE" CUDA 驱动程序版本/运行时版本 4.2 / 4.2 CUDA 功能主要/次要版本号：3.0 全局内存总量：
> 1024 MBytes（1073741824 字节）（2）多处理器 x (192) CUDA Cores/MP：384 CUDA Cores GPU时钟频率：
> 405 MHz (0.41 GHz) 内存时钟频率：
> 900 Mhz 内存总线宽度：128 位二级缓存大小：262144 字节最大纹理尺寸大小 (x,y,z) 1D=(65536), 2D=(65536,65536), 3 D=(4096,4096,4096) Max Layered Texture Size (dim) x layers
> 1D=(16384) x 2048, 2D=(16384,16 384) x 2048 常量内存总量：65536字节 共享内存总量每个块：49152 字节每个块可用的寄存器总数：65536 Warp 大小：32
> 每个多处理器的最大线程数：2048 每个块的最大线程数：1024 块每个维度的最大大小：1024 x 1024 x 64 网格每个维度的最大大小：2147483647 x 65535 x 65535 最大内存间距：
> 2147483647 字节纹理对齐：512 字节并发复制和执行：是，使用 1 个复制引擎 内核运行时间限制：是
> 集成 GPU 共享主机内存：否支持主机页面锁定内存映射：是并发内核执行：
> 是 表面对齐要求：是 设备已启用 ECC 支持：否 设备正在使用 TCC 驱动程序模式：否 设备支持统一寻址 (UVA)：
> 否 设备 PCI 总线 ID/PCI 位置 ID：1 / 0 计算模式：< 默认（多个主机线程可以将 ::cudaSetDevice() 与设备同时使用) > deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.2, CUDA Runtime Versi on = 4.2, NumDevs = 1, Device = GeForce GT 640M LE [deviceQuery.exe]测试结果...通过
> 
> > 3 秒后退出：3...2...1...完成！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:32:37.413

> 我想知道我可以在不安装 Nividia 驱动程序的情况下编译和运行我的 CUDA 程序吗？Cuda 工具包和 SDK 已成功安装在我的机器上，但是当我运行我的程序时，我无法设置我的 Cuda 设备。这是否意味着我需要安装 Nividia 驱动程序？

您肯定需要驱动程序来运行该程序。您是否尝试过运行随二进制文件提供的 deviceQuery.exe。这应该为您提供一个很好的起点，以了解出现了什么问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T23:35:18.217

不幸的是，有许多 NVIDIA GPU 不会安装来自 NVIDIA 网站的驱动程序（特别是对于专门为 Sony、Lenovo 等 OEM 并且 OEM 想要控制驱动程序体验的 GPU 版本）。这很可能是你的情况。

在这些情况下，您可以编辑 .inf 文件以将您的 GPU 添加到将安装驱动程序的 GPU 列表中。但是，这有点棘手，通常需要编辑 INF 文件的 3 个不同部分。您可以搜索有关如何修改 NVIDIA inf 文件的详细信息；有许多网站可以做到这一点。

当然，你必须有合适的 CUDA 驱动程序才能运行 CUDA 的东西。所以首先要做的事情......你必须安装驱动程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T16:03:37.357

我也有一个 VAIO，我也遇到了同样的问题。不要下载笔记本版，试试台式机版的Nvidia驱动。我还必须禁用我的另一张显卡（英特尔）。它对我有用。

# nuget - 从 NuGet 安装 Castle.Transactions 不会生成 DLL

> ID：11913331
> 
> 赞同：0
> 
> 时间：2012-08-11T08:53:35.027
> 
> 标签：nuget, castle, windsor-facilities

几天前，我[`Castle.Facilities.AutoTx`](http://nuget.org/packages/Castle.Facilities.AutoTx)从 NuGet 安装了依赖于`Castle.Transactions`. 当我运行我的应用程序时，我`FileNotFoundException`试图从 Castle.Transactions 文件夹中加载一个 DLL。

这两个软件包最近[都已更新](https://groups.google.com/d/topic/castle-project-users/CLHTeZRy7qM/discussion)（6 月 27 日），似乎更新导致了这个问题。有其他人对该公告的回复说他们有同样的问题，他们创建了一个拉取请求来解决尚未被事物外观接受的问题。

我试图返回并使用此[Stack Overflow 问题](https://stackoverflow.com/questions/5628689/download-old-version-of-package-with-nuget)中的命令从 Nuget 安装较早版本的 Castle.Facilities.AutoTx，但我遇到了[此处](https://stackoverflow.com/questions/6383224/installing-nuget-package-when-dependency-has-been-renamed)详述的问题，即 Rx-Core 包已重命名，因此依赖项无法不满意。

我已经给 Henrik Feldt 发了电子邮件，他发布了 3.1 公告，并且还编写了 Castle.Transactions 包，但我没有收到回复。我真的很想让 AutoTx 工具在我的应用程序中工作，你能建议我如何实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:52:48.460

几周前我遇到了同样的问题。不幸的是，由于没有其他地方可以下载它，您必须从 GitHub 获取源代码，安装 Ruby、rake 和构建它所需的其他库。如果您尝试仅使用 VS 构建它，您将丢失由 rake 构建脚本生成的 AssemblyInfo.cs 文件。因此，您必须使用 Rake 进行构建，以获取 AssemblyInfo.cs，然后手动更新文件中的程序集版本，然后在 VisualStudio 中再次构建。我也可以将我的程序集发送给您，但您自己构建是最安全的。

暂时，这是我[构建的库](https://dl.dropbox.com/u/48707126/CastleTx.zip)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-20T11:26:47.637

刚刚自己安装了这个包，它生成了一个dll。

```
Install-Package Castle.Transactions 
```

想象一下，它可能比 Castle.Facilities.AutoTx 需要使用的版本更新，但在我的情况下它仍然编译。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-17T12:46:58.773

您应该在使用 rake 构建它之前应用此拉取请求。 [https://github.com/haf/Castle.Transactions/pull/11](https://github.com/haf/Castle.Transactions/pull/11)

# jquery - 评级系统上的Jquery错误

> ID：11913335
> 
> 赞同：0
> 
> 时间：2012-08-11T08:54:32.700
> 
> 标签：jquery

嗨，我正在尝试按照评级系统教程向我的网站添加评级系统，但 jquery 存在问题，并且希望有人能够突出显示错误，因为我对 jquery 还很陌生，无论如何任何帮助都会不胜感激，谢谢。

```
$('.star').click(function (){
var id = $(this).parent().attr('id').split('rating')[1];
var vote = $(this).index() 1;

$.ajax({
type: "POST",
url:"save-vote.php",
data: "id=" id "&vote=" vote
});

}) 
```

它表明该行存在错误：

```
var vote = $(this).index() 1; 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:08:18.367

There has to be something between `index()` and `1` The code you've posted is syntactically incorrect...

like

```
var vote = $(this).index() 1; 
```

`+` or `-` etc....

What do you want to do exactly....?

# javascript - javascript中未定义表单元素

> ID：11913336
> 
> 赞同：1
> 
> 时间：2012-08-11T08:54:42.887
> 
> 标签：javascript, forms

我尝试通过javascript中的以下代码以我选择的形式将焦点设置在第一个可编辑字段上：

```
function setFocus( id) {
    var currentDialog = document.forms[id];

    for( i = 0; i < currentDialog.elements.length; i++) {
        if (!currentDialog.elements[i].disabled) {
            currentDialog.elements[i].focus();
            i = currentDialog.elements.length;
        }
    }
} 
```

它找到了表单，但元素似乎未定义，因此未设置焦点。奇怪的是，我什至没有错误。在 Firbug 中，它向我显示元素已填充，但对属性的访问不起作用。

我相信这是我的代码中的一个小错误，但我找不到它。你们有人有想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:05:37.083

```
for (var i = 0; i < currentDialog.elements.length; i++) 
```

并不是`for (i = 0; i < currentDialog.elements.length; i++)`

我认为这是错误

# c# - 如何在 Windows 8 C# 应用程序中搜索音频文件的歌词（然后返回字符串类型的变量）？

> ID：11913338
> 
> 赞同：-1
> 
> 时间：2012-08-11T08:55:30.833
> 
> 标签：c#, windows-8

我打算开发一个音乐播放器 windows 8 应用程序。我希望我的应用程序包含自动搜索当前播放音频文件的歌词的功能。我不知道该怎么做。
如果有人能告诉我如何做到这一点，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:53:04.647

您需要从您的应用程序中在线搜索歌词。加载音频文件后，您可以通过向它们提供音频名称来搜索几个站点。你抓住他们搜索返回的结果，看看它是否包含一些适合你的歌词。可能有多个结果，因此您必须在其中之一中进行选择。然后您获取该特定结果的来源并解析歌词并将其显示在您的应用程序中。例如：

[给我打电话吧 - 歌词](http://www.lyrics.com/call-me-maybe-lyrics-carly-rae-jepsen.html)

在链接中： **call-me-maybe-lyrics-carly-rae-jepsen**将替换为您的音频名称，然后您只需附加**.html**并获取页面的源代码并查看是否有歌词。您可以为许多站点并行执行此操作，并选择要显示的最佳匹配。

# codeigniter - CodeIgniter：如何在 JOIN 条件中使用括号

> ID：11913343
> 
> 赞同：2
> 
> 时间：2012-08-11T08:56:50.100
> 
> 标签：codeigniter

```
SELECT field1, field2
FROM table1
JOIN table2 ON (table2.field1=table1.field1 OR table2.field2=table1.field2) 
```

如何在 CodeIgniter 中编写此查询？我想在 JOIN 条件中有括号。

CodeIgniter 示例

```
$this->db->select("field1,field2")
$this->db->from("table1")
$this->db->join("table2","(table2.field1=table1.field1 or table2.field2=table1.field2)") 
```

但这会产生错误。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-11T09:43:33.917

我会使用 query() 函数并编写普通的 SQL。

像这样：

```
$this->db->query(
   'SELECT field1, field2 
    FROM table1
    JOIN table2 
        ON table2.field1=table1.field1 
        OR table2.field2=table1.field2'); 
```

使其更具可读性。在大型应用程序中，我们经常让专家或非 CI 程序员检查所有查询，这在使用活动记录表示法时是不可能的。

然后，您甚至可以将查询放在单独的文件中，以实现更好的抽象和跨团队可访问性。

括号不是必需的。

# python - Python，读/写文档时未知跳过

> ID：11913346
> 
> 赞同：0
> 
> 时间：2012-08-11T08:56:57.050
> 
> 标签：python, xml

所以我使用 python 来帮助将文本文件更改为 xml。下面的一些文本文件。

```
:
Breakfast Breads

Gluten Free Nut Loaf
Makes 1 loaf

150 g (51/2 oz./11/2 cups) 
almond meal
30 g (1 oz./1/4 cup)
walnuts, coarsely chopped
1/4 teaspoon 
gluten-free baking powder 
```

我不确定这是否可以复制，因为它可能是文件本身的幽灵。但如果你能尝试那就太好了。

为了解释当前的步骤，我的代码很简陋，寻找冒号，它知道下一行是一般类别，然后切换一个步骤变量。然后下一步将跳过空行 '\r\n' 直到找到一个非空行，该行标识了单个配方的开头及其名称。循环中的下一行，如果为空，则更改步骤，否则为服务大小编写 xml，然后更改步骤。

在这里，我们到达成分步骤。所以奇数行是数量，偶数行是实际成分。

```
if step == 2:
    if line == empty: 
        continue
    else:
        xmlMenu.write("\n\t<ingredients>") 
        qty = line
        qtyXML = ("\n\t\t<qty>\n\t\t\t" + qty + "\t\t</qty>")
        xmlMenu.write(qtyXML)
        step = 2.2
        continue

if step == 2.2:
        if menu.next() == empty:
            ingredient = line
            pass
            ingredientXML = ("\n\t\t<ingredient>\n\t\t\t" + ingredient + "\t\t</ingredient>\n\t</ingredients>")
            xmlMenu.write(ingredientXML)
            step = 3
            continue

        else:
            ingredient = line
            ingredientXML = ("\n\t\t<ingredient>\n\t\t\t" + ingredient + "\t\t</ingredient>\n\t</ingredients>")
            xmlMenu.write(ingredientXML)
            step = 2
            continue 
```

我的问题，当它达到第二组数量/成分时，它似乎跳过了杏仁粉的数量，因此搞砸了整个 xml 文件。

```
<recipe>
    <category>
        Breakfast Breads
    </category>
    <name>
        Gluten Free Nut Loaf
    </name>
    <servings>
        Makes 1 loaf
    </servings>
    <ingredients>
        <qty>
            150 g (51/2 oz./11/2 cups) 
        </qty>
        <ingredient>
            almond meal
        </ingredient>
    </ingredients>
    <ingredients>
        <qty>
            walnuts, coarsely chopped
        </qty>
        <ingredient>
            1/4 teaspoon 
        </ingredient>
    </ingredients> 
```

如果我的代码在某处只是废话，有人有什么想法吗？此外，任何有关更好方法的建议。我仍然是初学者级别的编程。

//编辑更多代码。当它开始一个新的配方时，代码在集合结束时仍在工作中。

```
empty = '\r\n'
colon = ':'
new_contents = []

category = ''
categoryXML = ''

recipe = ''
recipeXML = ''

servings = ''
servingsXML = ''

ingrediants = ''
ingrediantsXML = ''

ingredient = ''
ingredientXML = ''
qty = ''
qtyXML = ''

instructions = ''
instructionsXML = ''

intNo = ''
intNoXML = ''
instruction = ''
instructionXML = ''

step = ''

x = 0

menu = open("menuTextFormat.txt", 'r')
xmlMenu = open('menuTextXML.txt', 'w')

for line in menu:
    # if not line.strip():
    #    continue
    #else:
    #     new_contents.append(line)
    if colon in line:
        step = 0
        continue

    if step == 0: 
        if not line:
            continue 
        else:       
            category = line
            categoryXML = "<recipe>\n\t<category>\n\t\t" + category + "\t</category>"
            xmlMenu.write(categoryXML)    
            step = 1            
            continue

    if step == 1:
        if line == empty:
            continue 
        else:
            recipe = line
            recipeXML = ("\n\t<name>\n\t\t" + recipe + "\t</name>")
            xmlMenu.write(recipeXML)
            step = 12
            continue

    if step == 12:
        if line == empty:
            step = 2
            continue
        else: 
            servings = line
            servingsXML = ("\n\t<servings>\n\t\t" + servings + "\t</servings>")
            xmlMenu.write(servingsXML)
            step = 2

            continue

    if step == 2:
        if line == empty: 
            continue
        else:
            xmlMenu.write("\n\t<ingredients>") 
            qty = line
            qtyXML = ("\n\t\t<qty>\n\t\t\t" + qty + "\t\t</qty>")
            xmlMenu.write(qtyXML)
            step = 22
            continue

    if step == 22:
            if menu.next() == empty:
                ingredient = line
                ingredientXML = ("\n\t\t<ingredient>\n\t\t\t" + ingredient + "\t\t</ingredient>\n\t</ingredients>")
                xmlMenu.write(ingredientXML)
                step = 3
                continue

            else:
                ingredient = line
                ingredientXML = ("\n\t\t<ingredient>\n\t\t\t" + ingredient + "\t\t</ingredient>\n\t</ingredients>")
                xmlMenu.write(ingredientXML)
                step = 2
                continue

    if step == 3:
        if line == empty:
            continue 
        else:
            x += 1
            intNoXML = ("\n\t\t<id>\n\t\t\t" + str(x) + "\n\t\t</id>")
            xmlMenu.write(intNoXML)
            instruction = line
            instructionXML = ("\n\t\t<instruction>\n\t\t\t" + instruction + "\t\t</instruction>")
            xmlMenu.write(instructionXML)
            if menu.next() == empty:
                step = 4
                continue
            else:
                continue
            continue

    if step == 4:
        if not menu.next():
            break
        else:
            step = 1
            continue

    #print line

#xmlMenu.write("".join(new_contents))

xmlMenu.close()
menu.close()

:
Breakfast Breads

Gluten Free Nut Loaf
Makes 1 loaf

150 g (51/2 oz./11/2 cups) 
almond meal
30 g (1 oz./1/4 cup)
walnuts, coarsely chopped
1/4 teaspoon 
gluten-free baking powder
1 teaspoon 
ground cinnamon
95 g (31/4 oz./3/4 cup) 
arrowroot (tapioca) flour
1/2 teaspoon 
sea salt
3 
organic eggs
1/2 teaspoon 
stevia powder
3 tablespoons 
grape seed oil
2 tablespoons 
coconut Milk
1 teaspoon 
apple cider vinegar

Preheat the oven to 180∫C (350∫F/Gas 4). 
Grease a 20 x 9 cm (8 x 31/2 inch) loaf (bar) tin.
Put the almond meal, walnuts, baking powder, cinnamon, arrowroot flour and salt in a large bowl and mix well with a wooden spoon. 
Crack the eggs into a separate bowl and whisk using an electric mixer until pale and fluffy, about 11/2 minutes. 
Add the stevia, grape seed oil, coconut milk and vinegar and mix gently. 
Pour the mixture into the dry ingredients and stir to combine. 
Spoon the mixture into the greased tin and bake for about 40 minutes, or until a skewer inserted in the centre of the loaf comes out clean. 
Remove the bread from the oven and leave to cool in the tin for a few minutes, before turning out onto a wire rack to cool completely. 
Enjoy the bread melt-in-the-mouth warm, or at room temperature with your favourite topping.  

Basic Gluten Free Loaf

2Ω cups 
blanched almond flour
Ω teaspoon 
baking soda
1 tsp. 
bicarbonate of soda
3 
eggs beaten
1 tsp. 
stevia powder
Ω teaspoon 
apple cider vinegar
!!
Pinch sea salt

Preheat oven to 250 degrees Celsius
Grease a small loaf pan
Combine dry ingredients in a bowl
In a separate bowl place eggs and apple cider vinegar
Spoon the mixture into loaf pan
Bake for 50 mins until set
Cool on wire rack
Slice when cool 
```

更多的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:14:25.817

如果您将代码划分为函数，其中每个函数只负责识别一个小功能，您的代码将更容易理解，例如：

```
def parse_next_receipe(lines, pos=0):
    while 1:
        if pos >= len(lines):
            break

        line = lines[pos]
        if line.strip() == ':':
            pos, receipe = parse_receipe(lines, pos)
            yield receipe  # or write it directly to the xml file...
        else:
            pos += 1

def parse_receipe(lines, pos):
    pos, name = parse_name(lines, pos)
    pos, description = parse_description(lines, pos)
    ingredients = []

    while 1:
        pos, ingredient = parse_ingredient(lines, pos)
        if pos == -1:
            break
        else:
            ingredients.append(ingredient)

    return (name, description, ingredients)

def parse_name(lines, pos): ...

def parse_description(lines, pos): ...

def parse_ingredient(lines, pos):
    try:
        pos, quantity = parse_quantity(lines, pos)
        pos, ingredient = parse_ingredientname(lines, pos)
    except ValueError:
        return -1, None

def parse_quantity(lines, pos):
    line = lines[pos]
    if line[0] in '0123456789':
        # line starts with a number
        return pos + 1, line
    raise ValueError("Line %r doesn't contain a quantity" % line)

def parse_ingredientname(lines, pos):
    line = lines[pos]
    if line:
        # any non-empty line is ok as an ingredient name
        return pos + 1, line
    raise ValueError("Expected an ingredient name, found blank line, lineno=%d" % pos) 
```

这称为递归下降解析。

在这个例子中，每个函数都接受一个`pos`应该开始查找的行号，并返回“下一个”行来查看 + 它找到的值。

我使用了两种不同的方法来指示解析错误：`-1`作为位置（和`None`值）返回，或者引发异常。任何一个都可能有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:47:34.767

**您会注意到几件事...**
1\. 我删除了您在循环之前列出的许多变量。你真的不需要在循环之前列出它们。
2.我把它切换到一个while循环。我个人喜欢能够一次读一行的吸引力
3\. 我在名称部分写了类别，这只是因为当新食谱开始时该类别并不总是列出，所以我认为它会最好使用最后一个已知类别并将其插入每个新食谱的前面。
4\. 你的份量并不总是列出来，所以我冒昧地在那里添加了一个检查，所以它会返回“未列出的份量”以防万一。
5\. 我在配料上使用了一个循环。

**注意：**
1\. 由于`and line`每个`if step == 1 and line:`. 该变量`line`被剥离所有行返回，因此 while 循环跳过所有新行。这些步骤只是确保我们在跳过每个空白行后做正确的事情。
2\. 坚果面包听起来很好吃

**代码：**

```
category=''
step=0

menu = open("menuTextFormat.txt", 'r')
xml = open('menuTextXML.txt', 'w')

xml.write("<recipe>\n")

while 1:
    line = menu.readline()
    if not line:
        break

    #after checking for EOF, remove \n
    line = line.rstrip()

    #category
    if ":" in line:
        #set category as next line
        category = menu.readline().rstrip()
        step=1
        continue

    #name & servings
    if step == 1 and line:
        #write category
        xml.write("\t<category>\n\t\t" + category + "\n\t</category>\n")
        #write name
        xml.write("\t<name>\n\t\t" + line + "\n\t</name>\n")

        #check for serving size
        servings = menu.readline().rstrip()
        if not servings:
            xml.write("\t<servings>\n\t\tno serving size listed\n\t</servings>\n")
        else:
            xml.write("\t<servings>\n\t\t" + servings + "\n\t</servings>\n")

        step=2
        continue

    #ingredients
    if step == 2 and line:
        #write first ingredient, then loop for rest
        xml.write("\t<qty>\n\t\t" + line + "\n\t</qty>\n")
        xml.write("\t<ingredient>\n\t\t" + menu.readline().rstrip() + "\n\t</ingredient>\n")

        #loop for incredients
        while 1:
            qty = menu.readline().rstrip()
            #no more incredients, break loop
            if not qty:
                break

            xml.write("\t<qty>\n\t\t" + qty + "\n\t</qty>\n")
            xml.write("\t<ingredient>\n\t\t" + menu.readline().rstrip() + "\n\t</ingredient>\n")

        step=3
        continue

    #procedure
    if step == 3 and line:
        #write first step, then loop for rest
        xml.write("\t<procedure>\n")
        xml.write("\t\t<step>\n\t\t\t" + line + "\n\t\t</step>\n")

        #loop for steps
        while 1:
            step = menu.readline().rstrip()
            #no more steps, break loop
            if not step:
                break

            xml.write("\t\t<step>\n\t\t\t" + step + "\n\t\t</step>\n")

        xml.write("\t</procedure>\n")

        step=1
        continue

xml.write("</recipe>")
menu.close()
xml.close() 
```

**输出：**

```
<recipe>
    <category>
        Breakfast Breads
    </category>
    <name>
        Gluten Free Nut Loaf
    </name>
    <servings>
        Makes 1 loaf
    </servings>
    <qty>
        150 g (51/2 oz./11/2 cups)
    </qty>
    <ingredient>
        almond meal
    </ingredient>
    <qty>
        30 g (1 oz./1/4 cup)
    </qty>
    <ingredient>
        walnuts, coarsely chopped
    </ingredient>
    <qty>
        1/4 teaspoon
    </qty>
    <ingredient>
        gluten-free baking powder
    </ingredient>
    <qty>
        1 teaspoon
    </qty>
    <ingredient>
        ground cinnamon
    </ingredient>
    <qty>
        95 g (31/4 oz./3/4 cup)
    </qty>
    <ingredient>
        arrowroot (tapioca) flour
    </ingredient>
    <qty>
        1/2 teaspoon
    </qty>
    <ingredient>
        sea salt
    </ingredient>
    <qty>
        3
    </qty>
    <ingredient>
        organic eggs
    </ingredient>
    <qty>
        1/2 teaspoon
    </qty>
    <ingredient>
        stevia powder
    </ingredient>
    <qty>
        3 tablespoons
    </qty>
    <ingredient>
        grape seed oil
    </ingredient>
    <qty>
        2 tablespoons
    </qty>
    <ingredient>
        coconut Milk
    </ingredient>
    <qty>
        1 teaspoon
    </qty>
    <ingredient>
        apple cider vinegar
    </ingredient>
    <procedure>
        <step>
            Preheat the oven to 180∫C (350∫F/Gas 4).
        </step>
        <step>
            Grease a 20 x 9 cm (8 x 31/2 inch) loaf (bar) tin.
        </step>
        <step>
            Put the almond meal, walnuts, baking powder, cinnamon, arrowroot flour and salt in a large bowl and mix well with a wooden spoon.
        </step>
        <step>
            Crack the eggs into a separate bowl and whisk using an electric mixer until pale and fluffy, about 11/2 minutes.
        </step>
        <step>
            Add the stevia, grape seed oil, coconut milk and vinegar and mix gently.
        </step>
        <step>
            Pour the mixture into the dry ingredients and stir to combine.
        </step>
        <step>
            Spoon the mixture into the greased tin and bake for about 40 minutes, or until a skewer inserted in the centre of the loaf comes out clean.
        </step>
        <step>
            Remove the bread from the oven and leave to cool in the tin for a few minutes, before turning out onto a wire rack to cool completely.
        </step>
        <step>
            Enjoy the bread melt-in-the-mouth warm, or at room temperature with your favourite topping.
        </step>
    </procedure>
    <category>
        Breakfast Breads
    </category>
    <name>
        Basic Gluten Free Loaf
    </name>
    <servings>
        no serving size listed
    </servings>
    <qty>
        2Ω cups
    </qty>
    <ingredient>
        blanched almond flour
    </ingredient>
    <qty>
        Ω teaspoon
    </qty>
    <ingredient>
        baking soda
    </ingredient>
    <qty>
        1 tsp.
    </qty>
    <ingredient>
        bicarbonate of soda
    </ingredient>
    <qty>
        3
    </qty>
    <ingredient>
        eggs beaten
    </ingredient>
    <qty>
        1 tsp.
    </qty>
    <ingredient>
        stevia powder
    </ingredient>
    <qty>
        Ω teaspoon
    </qty>
    <ingredient>
        apple cider vinegar
    </ingredient>
    <qty>
        !!
    </qty>
    <ingredient>
        Pinch sea salt
    </ingredient>
    <procedure>
        <step>
            Preheat oven to 250 degrees Celsius
        </step>
        <step>
            Grease a small loaf pan
        </step>
        <step>
            Combine dry ingredients in a bowl
        </step>
        <step>
            In a separate bowl place eggs and apple cider vinegar
        </step>
        <step>
            Spoon the mixture into loaf pan
        </step>
        <step>
            Bake for 50 mins until set
        </step>
        <step>
            Cool on wire rack
        </step>
        <step>
            Slice when cool
        </step>
    </procedure>
</recipe> 
```

# asp.net - 在本地网络的 IIS7 上部署 ASP.NET MVC3 项目

> ID：11913347
> 
> 赞同：1
> 
> 时间：2012-08-11T08:56:58.300
> 
> 标签：asp.net, asp.net-mvc-3, iis, iis-7, webserver

> **可能重复：**
> [VS2010 错误：无法在 Web 服务器上开始调试](https://stackoverflow.com/questions/2878136/vs2010-error-unable-to-start-debugging-on-the-web-server)

我用 Visual Studio 2010 编写了一个 ASP.NET MVC3 项目。我想将它部署在本地网络中的 IIS7 Web 服务器上。我成功安装了 IIS7。在 Visual Studio 的项目菜单中，Properties... 中，选择 Use Local IIS Web server but I can't run project 并出现此窗口：

![在此处输入图像描述](../Images/88111e5e1045b33832052ac9a8bde6ff.png)

谁能告诉我怎么了？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T11:43:19.240

只需以管理员身份启动 Visual Studio！

# performance - glDrawTexfOES 和顶点缓冲对象之间的性能

> ID：11913353
> 
> 赞同：1
> 
> 时间：2012-08-11T08:57:52.683
> 
> 标签：performance, opengl-es

我正在编写一个开放式 gl 图形引擎，并且想知道 glDrawTexfOES(1) 与作为广告牌(2) 的顶点缓冲区对象的性能。我知道（1）比（2）快，但你不能旋转（1）。所以如果我需要旋转，我必须使用（2），我现在不知道我是否应该允许使用（1）作为除背景图像之外的游戏对象，因为如果我同时使用两者，GPU 的状态会发生很多变化，这不是很高性能的

所以问题是：（1）相对于（2）的性能增益是否大于每次（1）平局和（2）平局之间改变状态所损失的性能？

干杯，阿尔弗雷迪斯

# jquery - 当前幻灯片上的 hasClass 吗？

> ID：11913354
> 
> 赞同：0
> 
> 时间：2012-08-11T08:59:15.787
> 
> 标签：jquery, addclass

我正在使用这个插件：[http](http://dimsemenov.com/plugins/royal-slider/documentation/#basic-usage) ://dimsemenov.com/plugins/royal-slider/documentation/#basic-usage 如果图像具有当前类，我正在寻找一种更改菜单类的方法。

如果幻灯片中的当前图像具有明亮的类别，我想将明亮的类别添加到菜单中。我正在使用这段代码：

```
 jQuery(window).load(function() 
 if ($('#the-img').hasClass('dark')) {
 $('#widget-menu').addClass('menu-dark');
}
 }); 
```

这使我的菜单类菜单变暗。

但是，如果 img 的类是亮的，如果是当前的，我希望它改变时该怎么办？将非常感谢您的回答。

我正在处理的网站是： http: [//mlido.se/site/case/luxit/](http://mlido.se/site/case/luxit/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:55:19.337

Magnus，滑动图片的功能是什么，可以显示代码吗？

解决问题的一般思路是在动画完成回调中检查图像类。

您需要定义一个函数，如：

```
function checkImageClass () {
    $('#widget-menu').removeClass('menu-dark').removeClass('menu-bright');
    if ($('#the-img').hasClass('dark')) {
        $('#widget-menu').addClass('menu-dark');
    } else {
        $('#widget-menu').addClass('menu-bright');
    }
} 
```

然后，在定义动画的地方添加这样的完整回调。

```
$(your-selector).animate({
    left : ...
}, {
    complete : checkImageClass
}); 
```

我在您的网站上找不到动画控制代码。如果你在这里发布你的动画代码，我会根据我的建议尝试更新它。

有关其他信息，[请参阅 jquery animate 文档](http://api.jquery.com/animate/)

# iphone - 根据与相机的距离缩放 AR 图片

> ID：11913355
> 
> 赞同：0
> 
> 时间：2012-08-11T08:59:31.143
> 
> 标签：iphone, camera, scaling, augmented-reality

我正在开发**增强现实**iPhone 应用程序。

它基本上应该做的是在您通过相机查看它们时显示分配给地理位置的图片。每个这样的图片可以理解为具有其地理位置和航向（理解为其平面与北向轴之间的角度）的广告牌。

目标是让这些广告牌或多或少地像物理对象一样显示。如果您靠近它们，它们应该更大，而当您更远时，它们应该更小。当您不直接站在它们面前时，它们也应该以正确的视角出现。

我想我或多或少地达到了这个目标。**通过测量从 iPhone 到图片的初始航向，我可以决定相机查看图片的旋转角度（以正确的视角查看它们）。**

但是，如果要根据与手机的距离来缩放它们，我想我搞砸了我的方法。我假设最大视野距离是 200 m。然后距离手机 100 m 的广告牌将显示为原始尺寸的 50%。就是这样。基于最大距离的线性缩放。

**这种方法我错过的是广告牌的大小（理解为物理对象）。它们在屏幕上的显示方式仅取决于它们的大小（以像素为单位）。这意味着显示器的分辨率是决定您如何看待它们的一个因素。所以我假设如果你有两部屏幕尺寸相同但分辨率不同的手机，相同的图片在它们上会有不同的尺寸。我对吗？**

**最后，我的问题是**如何处理缩放图片以使它们在 AR 视图上看起来不错？

我想我应该考虑一些相机参数。当一个 10x10 厘米的物体刚好在相机前面时，它可能会覆盖整个屏幕。但是当你把它放远几米时，它就变成了一个小细节。那么如何处理缩放？如果我决定为我的虚拟广告牌分配物理尺寸，那么如何根据与相机的距离来缩放它们？

**我是否应该为每张图片分配以米为单位的物理尺寸（无论它们的像素大小是多少）并根据尺寸和一些与相机相关的缩放因子显示它们？**

你能帮我吗？任何线索都会有所帮助。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T21:12:36.683

我想我设法解决了我的问题。让我解释一下我是如何做到的，如果可能对其他人有用。**如果您发现这种方法有误，我将不胜感激您的反馈或任何进一步的线索。**

**我决定为我的虚拟广告牌分配以米为单位的物理尺寸。** [这次讨论](https://stackoverflow.com/questions/3594199/iphone-4-camera-specifications-field-of-view-vertical-horizontal-angle)帮助我了解了 iPhone 4 相机的参数：**焦距和 CCD 传感器的尺寸**。更重要的是，这些值还帮助我为我的 AR 应用程序计算了合适的 FOV（请参阅[计算相机的视角](http://en.wikipedia.org/wiki/Angle_of_view)）。

[这个网站](http://www.dslreports.com/faq/9712)帮助我计算了在 CCD 传感器上产生的物理对象图像的毫米大小。因此，如果我的广告牌具有以米为单位的宽度和高度，并且它们与相机的距离以及相机的焦距是已知的，我可以在传感器上计算它们的尺寸。

> （焦距 * 物体尺寸）/ 镜头到物体的距离 = 图像尺寸（在传感器上）

```
double CalculatePhysicalObjectImageDimensionOnCCD(double cameraFocalLength_mm, double physicalObjectDimension_m, double distanceFromPhysicalObject_m)
{
    double physicalObjectDimension_mm = physicalObjectDimension_m * 1000;
    double distanceFromPhysicalObject_mm = distanceFromPhysicalObject_m * 1000;
    return (cameraFocalLength_mm * physicalObjectDimension_mm) / distanceFromPhysicalObject_mm;
} 
```

我对这件事知之甚少，所以我不确定我当时采用的方法是否可行，但我只是决定计算一下 iPhone 屏幕与 CCD 传感器的尺寸相比要大多少。因此，通过一个简单的数学运算，我得到了传感器与屏幕的尺寸比。因为传感器和屏幕的宽高比似乎不一样，所以我用一种胡思乱想的方式计算了这个比例：

```
double GetCCDToScreenSizeRatio(double sensorWidth, double sensorHeight, double screenWidth, double screenHeight)
{
    return sqrt(screenWidth * screenHeight) / sqrt(sensorWidth * sensorHeight);
} 
```

然后我得到的比率可以被视为一个乘数。首先，我计算传感器上虚拟广告牌的尺寸，然后将其乘以比率。这样我就可以得到广告牌的实际大小（以像素为单位）。就是这样。因此，当我仅通过提供广告牌的宽度和与广告牌的距离来调用下面的函数时，它会返回在屏幕上查看的广告牌的宽度（以像素为单位）。广告牌的高度相同以获得两个尺寸。

```
const double CCD_DIM_LONGER_IPHONE4 = 4.592; //mm
const double CCD_DIM_SHORTER_IPHONE4 = 3.450; //mm
const double FOCAL_LENGTH_IPHONE4 = 4.28; //mm

double CalculatePhysicalObjectImageDimensionOnScreen_iPhone4(double physicalObjectDimension_m, double distanceFromPhysicalObject_m)
{
    double screenWidth = [UIScreen mainScreen].bounds.size.width;
    double screenHeight = [UIScreen mainScreen].bounds.size.height;

    return CalculatePhysicalObjectImageDimensionOnScreen(FOCAL_LENGTH_IPHONE4, physicalObjectDimension_m, distanceFromPhysicalObject_m, CCD_DIM_LONGER_IPHONE4, CCD_DIM_SHORTER_IPHONE4, screenWidth, screenHeight);
}

double CalculatePhysicalObjectImageDimensionOnScreen(double cameraFocalLength_mm, double physicalObjectDimension_m, double distanceFromPhysicalObject_m, double ccdSensorWidth, double ccdSensorHeight, double screenWidth, double screenHeight)
{
    double ccdToScreenSizeRatio = GetCCDToScreenSizeRatio(ccdSensorWidth, ccdSensorHeight, screenWidth, screenHeight);
    double dimensionOnCcd = CalculatePhysicalObjectImageDimensionOnCCD(cameraFocalLength_mm, physicalObjectDimension_m, distanceFromPhysicalObject_m);

    return dimensionOnCcd * ccdToScreenSizeRatio;
} 
```

与我以前愚蠢的线性缩放方法相比，它似乎完美无缺。顺便说一句，我还注意到，在 AR 视图上注册虚拟对象时，了解相机的 FOV 非常重要。[以下是](https://stackoverflow.com/questions/3594199/iphone-4-camera-specifications-field-of-view-vertical-horizontal-angle)如何根据 CCD 传感器尺寸和焦距计算 FOV。

在任何地方都很难找到这些值！我想知道为什么它们不能以编程方式访问（至少我的研究表明它们不是）。似乎有必要准备硬编码值，然后检查运行应用程序的设备型号，以决定在进行上述所有计算时选择哪个值：-/。

# eclipse - - 从终端清洁启动 ubuntu 中的 Eclipse

> ID：11913357
> 
> 赞同：0
> 
> 时间：2012-08-11T09:00:07.650
> 
> 标签：eclipse, ubuntu, terminal

我正在使用 ubuntu 我有两个 eclipse 我无法清理一个 eclipse 。.how to -clean 从命令行在 ubuntu 中启动特定的 Eclipse

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T09:07:58.410

您将需要执行以下操作：

```
/full/path/to/first/eclipse -clean 
```

和，

```
/full/path/to/second/eclipse -clean 
```

有很多方法可以找出 eclipse 安装的完整路径。

**方法 1 - 查找**

您应该能够使用以下命令找到 eclipse 安装：

```
find / -iname "eclipse"  | grep -iE "eclipse$" | grep -i bin 
```

**方法 2 - 特定于 Ubuntu**

1.  首先，从已安装软件包列表中找到包含单词*eclipse*的软件包名称：

    ```
    sudo  dpkg-query -Wf  '${Installed-Size}t${Package}n' | sort -n | grep -i eclipse 
    ```

2.  然后，对于上述命令的每个结果，执行以下操作：

    ```
    dpkg -L <package_name_from_above> | grep -i bin 
    ```

上面的命令应该为您提供 Eclipse 安装的路径，然后可以用`-clean`

## 更新 - Ubuntu 特定方法

我一直想看看最新版本的 Ubuntu 必须提供什么，这给了我设置 Ubuntu VM 的完美借口 :)

以下命令是在默认安装的 Ubuntu 12.04 Desktop 上执行的，与我上面写的略有不同。在以下所有命令中，将*zip*替换为***eclipse***：

1.  查找包含 eclipse 的包：

    ```
    dpkg-query -Wf  '${Package}\n' | grep eclipse 
    ```

2.  找到 eclipse 二进制文件的路径：

    ```
    dpkg -L eclipse | grep bin | grep -iE "eclipse$" 
    ```

为了使上述操作更容易，我使用以下代码创建了一个脚本：

```
#! /bin/bash

echo
echo "The possible executable paths contained in $1 package are : "
echo
dpkg-query -Wf  '${Package}\n' | grep -i "$1" | xargs -I % dpkg -L % | grep bin | grep -iE "$1$"

#Echo a blank line
echo 
```

它只需要一个参数，即您要搜索可执行文件的包名称。将上面的代码复制到一个名为`sue.sh`(Search Ubuntu Executable :) 的文件中并执行`chmod +x ./sue.sh`

执行示例： `./sue.sh eclipse` ![在此处输入图像描述](../Images/be6a5588d683d95846598ab330ea46a9.png)

`./sue.sh zip` ![在此处输入图像描述](../Images/4c47c7bdab4c87e0e7815456ee834ffd.png)

# android - 如何在android中获取当前时间

> ID：11913358
> 
> 赞同：10
> 
> 时间：2012-08-11T09:00:22.237
> 
> 标签：android

我想在Android中获取当前时间。它应该显示为下午 2:30，我想将其存储在数据库中。我搜索了很多。但我不知道该怎么做。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-08-11T09:09:59.777

```
Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("GMT+1:00"));
Date currentLocalTime = cal.getTime();
DateFormat date = new SimpleDateFormat("HH:mm a"); 
// you can get seconds by adding  "...:ss" to it
date.setTimeZone(TimeZone.getTimeZone("GMT+1:00")); 

String localTime = date.format(currentLocalTime); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-11T09:13:57.783

```
String currentDateTimeString = DateFormat.getDateTimeInstance().format(new Date());

// textView is the TextView view that should display it
textView.setText(currentDateTimeString); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-03-30T09:11:18.750

我在下面得到了完美的时间......

```
 String Time = java.text.DateFormat.**getTimeInstance()**.format(new Date()); 
 //and for to get date try it as below
 String date_L = java.text.DateFormat.**getDateInstance()**.format(new Date()); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-06-12T02:03:30.173

要获得 12 小时格式的时间，请尝试使用“KK”而不是“HH”的代码。您可以使用的符号的完整说明在[这里](http://developer.android.com/reference/java/text/SimpleDateFormat.html)。

```
Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("GMT-4:00"));
     Date currentLocalTime = cal.getTime();
     DateFormat date = new SimpleDateFormat("KK:mm");
     date.setTimeZone(TimeZone.getTimeZone("GMT-4:00")); 
     String localTime = date.format(currentLocalTime); 
```

还可以使用以下整数获取小时、分钟和秒：

```
int currentHour = cal.get(Calendar.HOUR);
int currentMinutes = cal.get(Calendar.MINUTE);
int currentSeconds = cal.get(Calendar.SECOND); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-07-13T12:10:44.880

以下方法以指定日期格式为您提供当前日期和时间

```
 /**
         * getCurrentTime() it will return system time
         * 
         * @return
         */
        public static String getCurrentTime() {     
           //date output format
            DateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy HH:mm:ss");
            Calendar cal = Calendar.getInstance();
            return dateFormat.format(cal.getTime());
        }// end of getCurrentTime() 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-01-30T09:55:59.177

```
String currentDateAndTime = new SimpleDateFormat("dd/MM/yyyy HH:mm:ss").format(new Date()); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-11T09:09:16.920

你可以通过 `Date dt = new Date();`

```
 int hours = dt.getHours();
        int minutes = dt.getMinutes();
        int seconds = dt.getSeconds(); 
```

并且为了存储在数据库中，请阅读 sqlite 教程[here](http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-13T18:18:17.227

很简单，您可以剖析时间以获取当前时间的单独值，如下所示：

```
Calendar cal = Calendar.getInstance(); 

  int millisecond = cal.get(Calendar.MILLISECOND);
  int second = cal.get(Calendar.SECOND);
  int minute = cal.get(Calendar.MINUTE);
        //12 hour format
  int hour = cal.get(Calendar.HOUR);
        //24 hour format
  int hourofday = cal.get(Calendar.HOUR_OF_DAY); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-10-15T09:17:15.593

当您需要当前时间时使用数字时钟小部件：

```
Calendar mCalendar;
private final static String m12 = "h:mm aa";
private final static String m24 = "k:mm";
private FormatChangeObserver mFormatChangeObserver;

private Runnable mTicker;
private Handler mHandler;

private boolean mTickerStopped = false;

String mFormat; 
```

或查看本[教程](http://programondaspot.blogspot.com/2015/10/android-customized-digital-clock.html)。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-05-31T18:18:29.323

*你可以使用：*

```
Calendar c = Calendar.getInstance(); 
int seconds = c.get(Calendar.SECOND); 
```

日历中有很多常量可以满足您的一切需求。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-03-12T06:33:18.883

```
SimpleDateFormat format = new SimpleDateFormat("dd/MM/yyyy");
Calendar c = Calendar.getInstance();
Date date = Calendar.getInstance().getTime();
String sDate = format.format(date);//31-12-9999
int mYear = c.get(Calendar.YEAR);//9999
int mMonth = c.get(Calendar.MONTH);
mMonth = mMonth + 1;//12
int hrs = c.get(Calendar.HOUR_OF_DAY);//24
int min = c.get(Calendar.MINUTE);//59 
```

# forms - cakephp 表单输入和 url 参数

> ID：11913360
> 
> 赞同：1
> 
> 时间：2012-08-11T09:01:22.413
> 
> 标签：forms, cakephp, params

我有一个表单，它从用户那里获取一些输入，然后被重定向到控制器的新页面/功能，我需要 post.redirect.get 参数，以便我可以使用下一页上的`id`。`invoice`

这是第一个控制器（添加信息的地方）

```
public function add(){
    $this->set('title_for_layout', 'Create Invoice');
    $this->set('stylesheet_used', 'homestyle');
    $this->set('image_used', 'eBOXLogoHome.png');   
    $this->layout='home_layout';

    if($this->request->is('post')){

        //$this->Invoice->create();
        if(($this->Invoice->set($this->request->data))){
            $this->Session->setFlash('The invoice has been saved');
            $data=$this->request->data;
            if($this->Invoice->saveAll($data,array('validate'=>false))){
            $this->Session->setFlash(__('Invoice Created'));
            $this->redirect(array(
            'controller' => 'invoices','action' => 'create',
            $this->data['invoices']['id']));
            }
    }}
    else
    {
        $this->Session->setFlash('The invoice could not be saved. Please, try again.');
    }

     $templates=$this->Template->find('list', array(
    'fields'=>array('name'),
    'conditions' => array(
    'account_id' => $this->Auth->user('account_id'))));

    $accounts2=$this->User->find('list', array(
    'fields'=>array('account_id'),
    'conditions' => array(
    'id' => $this->Auth->user('id'))));

    $sendername=$this->Account->find('list', array(
    'fields'=>array('company_name'),'conditions' => array(
    'id' => $accounts2)));

    $accounts=$this->User->Relationship->find('list', array(
    'fields'=>array('receiver_id'),
    'conditions' => array(
    'sender_id' => $accounts2)));

    $receivername=$this->Account->find('list', array(
    'fields'=>array('company_name'),'conditions'=>array(
    'id' => $accounts)));

    $this->set('accounts', $accounts);
    $this->set('accounts2', $accounts2);
    $this->set('sendername', $sendername);
    $this->set('receivername', $receivername);
    $this->set('template', $templates);

  } 
```

这是视图

## 创建新发票

```
<?php

echo $this->Form->create('Invoice', array('action'=>'add'));

echo $this->Form->input('id',array('type'=>'hidden'));
echo $this->Form->input('sender_id', array('label' =>'Sender: ', 'type' => 'select', 'options' => $sendername));
echo $this->Form->input('receiver_id',array('label'=>'Receiver: ', 'type' => 'select', 'options' => $receivername));
echo $this->Form->input('active', array('label' => 'Schedule?', 'options' => array('1'=>'Send','0'=>'Schedule'), 'default'=>'1'));
echo $this->Form->input('templates_id', array('label'=>'Template: ','type'=>'select','options'=>$template));
echo $this->Form->end('Submit');

?> 
```

这是我也想传递参数的控制器

```
public function create($id)
    {   
$fields = $this->Template->Field->find('all',array( 
          'conditions' => array(
          'template_id'=> $id,
         'Field.active'=>true)));
        if(empty($this->data)){
            $this->data= $this->Template->read(NULL, $id);
        } 
        else{
            if(($this->Template->save($this->data)))
            {
                $this->Session->setFlash('The template has been updated');
                $this->redirect(array('controller'=>'Templates', 'action'=>'view'));

            }
        }

     }
          $this->set('field', $fields);

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T12:55:20.170

```
 public function add(){
    $this->set('title_for_layout', 'Create Invoice');
    $this->set('stylesheet_used', 'homestyle');
    $this->set('image_used', 'eBOXLogoHome.png');   
    $this->layout='home_layout';

    if($this->request->is('post')){

        //$this->Invoice->create();
        if(($this->Invoice->set($this->request->data))){
            $this->Session->setFlash('The invoice has been saved');
            $data=$this->request->data;
            if($this->Invoice->saveAll($data,array('validate'=>false))){
            $this->Session->setFlash(__('Invoice Created'));
            debug($this->Invoice->id);
            $this->redirect(array(
            'controller' => 'invoices','action' => 'create', 
            'invoice' => $this->Invoice->id));
            }
    }}
    else
    { 
        $this->Session->setFlash('The invoice could not be saved. Please, try again.');
    }

     $templates=$this->Template->find('list', array(
    'fields'=>array('name'),
    'conditions' => array(
    'account_id' => $this->Auth->user('account_id'))));

    $accounts2=$this->User->find('list', array(
    'fields'=>array('account_id'),
    'conditions' => array(
    'id' => $this->Auth->user('id'))));

    $sendername=$this->Account->find('list', array(
    'fields'=>array('company_name'),'conditions' => array(
    'id' => $accounts2)));

    $accounts=$this->User->Relationship->find('list', array(
    'fields'=>array('receiver_id'),
    'conditions' => array(
    'sender_id' => $accounts2)));

    $receivername=$this->Account->find('list', array(
    'fields'=>array('company_name'),'conditions'=>array(
    'id' => $accounts)));

    $this->set('accounts', $accounts); 
    $this->set('accounts2', $accounts2); 
    $this->set('sendername', $sendername); 
    $this->set('receivername', $receivername);
    $this->set('template', $templates);

  } 
```

# objective-c - 一个 Objective-C 类扩展头文件——为了什么？

> ID：11913361
> 
> 赞同：16
> 
> 时间：2012-08-11T09:01:27.727
> 
> 标签：objective-c, xcode

我熟悉类主实现文件中的 Objective-C 类扩展，但对新的 Xcode 4.4“一个 Objective-C 类扩展头”文件模板的用途感到好奇？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-11T09:16:24.577

类扩展必须在主`@implementation`块中实现，但声明可以在任何地方。

扩展用于向类接口添加一些您不想公开的内容，因此不能放入公共类声明头中。

当扩展仅由类实现本身使用时，使用您熟悉的实现的同一文件中声明扩展。

在开发框架时，在单独的标头（即模板的用途）中声明扩展非常有用。扩展头不会是一组公共头的一部分，但会被框架的多个实现文件在内部使用。

您可以将其视为*框架私有*而不是*类私有*。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-11T09:30:08.083

**另一个原因**是类扩展头文件在您**使用单元测试**来测试您的类的情况下很有用，*将类扩展放在单独的头文件中**允许您将包含私有方法的头导入需要的类的实现中那些私有方法和你用来测试类的单元测试文件***......

在我看来，这是对 Objective-C 的一个很好的补充（在单元测试中测试私有方法的机会），这是目前 Java 中的 JUnit 无法做到的。

# php - 在 CakePHP 中，int 列作为字符串从 DB 中提取

> ID：11913362
> 
> 赞同：5
> 
> 时间：2012-08-11T09:01:31.330
> 
> 标签：php, mysql, cakephp, cakephp-2.1

我对 CakePHP 还很陌生，但到目前为止我觉得它很容易使用。今天我遇到了从数据库导出数据的问题。

我将我的 1 个模型导出为 JSON。一切都很顺利，除了我注意到 CakePHP 将 id 列导出为字符串。该模型在mysql中定义为int。我已经检查了 JSON 输出和模型，通过 -

```
var_dump($this->Post->findById($id));exit; 
```

在模型中，id 也被定义为字符串。

这与依赖该 JSON 输出的其他系统混淆，后者用于获取整数作为 ID。

我尝试在模型中设置 $_schema 属性，但这并没有改变任何东西。

我会很感激你的帮助。

谢谢，丹

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-11T09:27:00.330

见 [http://cakephp.1045679.n5.nabble.com/When-retrieving-data-fields-returned-as-strings-and-the-tale-of-climbing-a-mountain-to-cast-those-str -td4312868.html](http://cakephp.1045679.n5.nabble.com/When-retrieving-data-fields-returned-as-strings-and-the-tale-of-climbing-a-mountain-to-cast-those-str-td4312868.html)

和票： [http ://cakephp.lighthouseapp.com/projects/42648/tickets/2485-model-find-results-are-all-returned-as-string-fields-even-with-int11-fields](http://cakephp.lighthouseapp.com/projects/42648/tickets/2485-model-find-results-are-all-returned-as-string-fields-even-with-int11-fields)

这是 cake2.x 中的一个已知问题（并且基于数据库返回这些问题的方式），并且可以在 cake3 中使用新数据源解决。虽然它看起来不像，因为会有不一致，并且会产生开销来手动投射所有找到的记录......

在找到解决方案之前，您要在 afterFind 回调中手动转换。使用 schema() 您可以找出每个字段类型。如果您在多个模型上使用它，请将其放入您的 AppModel。

您还可以编写一个行为以干净的方式为您完成这项工作 - 所以您在每个模型中要做的就是：

```
public $actsAs = array('CastConvert'); //name it whatever you like 
```

您不想受到影响的模型只是不附加它。小心相关的记录。这也可能是蛋糕的限制。它通常只触发主记录的回调。在这些情况下，您可能想要手动触发行为回调。如果将其命名为 cast() ，则可以直接在模型上访问它：

```
$this->Primary-Secondary->cast() 
```

或某事。

# ruby-on-rails - 简化rails中的url

> ID：11913363
> 
> 赞同：0
> 
> 时间：2012-08-11T09:01:50.033
> 
> 标签：ruby-on-rails, url, routing, routes

我只需要在我的 rails 应用程序中简化 url。 `/nature`反而`/categories/nature`

我的`routes.rb`：

> 匹配 'categories/:id' => 'categories#show'

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:04:51.500

```
match ':id' => 'categories#show' 
```

这将向具有显示操作的类别控制器发出任何“/某事”请求，因此您必须考虑到这一点。

如果我是你，我会这样做：

```
match ':id' => 'categories#show',:constraints => { :id => /nature|sports|architecture|people|.../ } 
```

这样，您仍然可以根据需要使用 '/something' 路由，只要它们不匹配任何可用类别即可。

# javascript - Javascript-从函数变量将元素ID分配给事件侦听器

> ID：11913367
> 
> 赞同：0
> 
> 时间：2012-08-11T09:03:48.100
> 
> 标签：javascript, function, events

我正在努力做到这一点，所以我没有为我想使用它的每个输入字段编写一个函数。而是将元素 id 发送给函数，并且只有一个我可以回收的函数。

像这样工作

```
 <input name="field" id="field" type="text" onKeyPress="onlyNum()" />

    <script type="text/javascript"> 
        function onlyNum() {
            var name = $("#field");
            name.keypress(function (e) {
                if (e.which > 0 && // check that key code exists
                    e.which != 8 && // allow backspace
                    !(e.which >= 48 && e.which <= 57) // allow 0-9
                    ) {
                    e.preventDefault();
                }
            });
        }
    </script> 
```

但它不是这样工作的，但这就是我想要的：

```
 <input name="field" id="field" type="text" onKeyPress="onlyNum('field')" />

    <script type="text/javascript"> 
        function onlyNum(theInput) {
            var name = document.getElementById(theInput);
            name.keypress(function (e) {
                if (e.which > 0 && // check that key code exists
                    e.which != 8 && // allow backspace
                    !(e.which >= 48 && e.which <= 57) // allow 0-9
                    ) {
                    e.preventDefault();
                }
            });
        }
    </script> 
```

那么有人知道第二个例子有什么问题吗？我怎样才能让它发挥作用。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T09:09:16.530

您的第二个示例的问题是您试图调用`.keypress`DOM**元素**。`.keypress`虽然是**jQuery 对象**的一种方法。

不过，整个方法很奇怪。您要做的是在每次按键时将新的事件处理程序绑定到元素。也就是说，在按下三个键之后，您已将三个事件处理程序分配给同一个元素，它们都在执行相同的操作。

您应该做的是为要绑定事件处理程序的每个元素分配一个类，使用 jQuery 选择它们并绑定处理程序**一次**。

例如：

```
<input name="field" id="field" type="text" class="someClass"/> 
```

绑定处理程序：

```
// will bind the event handler to each 'input' field with class 'someClass'
$('input.someClass').keypress(function (e) {
    if (e.which > 0 && // check that key code exists
        e.which != 8 && // allow backspace
        !(e.which >= 48 && e.which <= 57) // allow 0-9
    ) {
        e.preventDefault();
    }
}); 
```

如果您无法修改 HTML，则使用[多重选择器](http://api.jquery.com/multiple-selector/)并列出 ID：

```
// adds the event handler to the elements with the IDs 'field', 'someID' and
// 'someOtherID'
$('#field, #someID, #someOtherID').keypress(function() {
    //...
}); 
```

这就是 jQuery 的工作原理。您可能想阅读[一些教程](http://docs.jquery.com/Tutorials)以更好地了解它。

* * *

这是修复代码的**不太**推荐的方法：

我已经说过您将处理程序绑定到`keypress`事件`keypress`处理程序中的事件，这没有意义。`onkeypress`您已经通过HTML 属性分配了事件处理程序。您不需要元素的 ID。您所要做的就是将`event`对象传递给您的函数。

例子：

```
<input name="field" id="field" type="text" onKeyPress="onlyNum(event)" /> 
```

JavaScript：

```
function onlyNum(e) {
    if (e.which > 0 && // check that key code exists
        e.which != 8 && // allow backspace
        !(e.which >= 48 && e.which <= 57) // allow 0-9
    ) {
        e.preventDefault();
    }
} 
```

这种方法最大的不同是它`event`是原生事件对象，而不是 jQuery 事件对象。这也意味着`e.preventDefault()`在 IE8 及以下版本中调用将失败，因为此方法不存在。此外，您可能必须使用`e.keyCode`而不是`e.which`. jQuery 负责处理所有这些差异。

# iphone - 自动释放池耗尽后，自动释放变量的保留计数仍为 1。不应为零

> ID：11913369
> 
> 赞同：0
> 
> 时间：2012-08-11T09:04:38.260
> 
> 标签：iphone, ios, ipad

> **可能重复：**
> [何时使用 -retainCount？](https://stackoverflow.com/questions/4636146/when-to-use-retaincount)

我试图了解自动释放池。我创建了一个示例应用程序，如下所示：

```
NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

NSString *releasePoolString = [[[NSString alloc] initWithFormat:@"%@",@"ReleasePool autorelease variable"] autorelease];

NSLog(@"Retain count of autorelease variable inside release pool %i",[releasePoolString retainCount]);

[pool drain];

// After pool drain still retain count = 1 ??????
NSLog(@"Retain count of autorelease variable after release pool drain %i",[releasePoolString retainCount]); 
```

最后的日志仍然将retaincount打印为1。我是否遗漏了什么......有人可以帮我理解......

谢谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:45:31.563

retainCount 永远不会达到 0，因为当它为 1 并调用 release 时，它​​会立即调用 dealloc 而不会递减 retainCount

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:39:01.780

因为 retainCount 不会总是给出对象的准确保留计数。您不应该依赖`retainCount`API 进行内存管理。一旦你分配，保留一个对象，你必须释放那个对象，它的保留计数将变为零。

# javascript - 触发事件Javascript IE

> ID：11913372
> 
> 赞同：1
> 
> 时间：2012-08-11T09:05:03.343
> 
> 标签：javascript, events, dom-events, internet-explorer-7

我遇到了一个简单的问题，但无法正常工作：我正在尝试在 IE 7 中触发一个事件。为此，我尝试了以下操作：

```
if (typeof fireEvent != 'function') {
    function fireEvent(target, evt) {
        if (document.createEvent) {
            var clickEvent = document.createEvent("MouseEvents");
            clickEvent.initMouseEvent(evt, true, true, window,
                0, 0, 0, 0, 0, false, false, false, false, 0, null);
            return target.dispatchEvent(clickEvent);
        }
        else {
            return target.fireEvent("on" + evt);
        }
    }
} 
```

但是，这不起作用。该事件未在 IE 7 中触发。Jquery 触发器将在 IE 7 中工作，但是，我无法使用它，因为它在我的 Java 应用程序中造成内存泄漏（大约 400MB 内存泄漏）并且脚本因这。

我尝试过的是使用 Javascript 进行简单的登录（[http://accounts.google.com/](http://accounts.google.com/)）：

```
document.getElementById('Email').value = "%s";
document.getElementById('Passwd').value = "%s";
var signIn = document.getElementsByName('signIn')[0];
fireEvent(signIn, "click"); 
```

两个字段（“电子邮件”和“密码”）都已填写，但未提交表单。作为替代方案，我尝试使用“onsubmit”事件。最后两行可以更改为：

```
var gaiaLoginForm = document.getElementById("gaia_loginform");
fireEvent(gaiaLoginForm, "submit"); 
```

再一次：jQuery 和任何其他大型框架都无法使用！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:21:15.080

你不能只是在旧版 IE 中“触发”这样的事件。您必须告诉浏览器您要触发*什么*，而不仅仅是类型。关键是您可以在触发之前更改对象的属性值。试试这个：

```
var evtObj = document.createEventObject();
target.fireEvent("on" + evt, evtObj); 
```

另外，我建议调查您所谓的内存泄漏的原因。

（顺便说一句，Javascript！= Java。）

# objective-c - UIWebView 支持的文件格式

> ID：11913373
> 
> 赞同：0
> 
> 时间：2012-08-11T09:05:08.977
> 
> 标签：objective-c, ios, xcode, uiwebview

我`UIwebview`用来在 iPad 上显示来自 SAP 的各种格式的文档，例如 .doc、.xls、.pdf 等。在将 .msg/.elm（邮件文件）显示为 webview 上的附件时，我们遇到了问题。我们将 .msg 文件作为附件上传到 SAP 中，就像其他文档一样。我们得到的确切错误是这样的

```
2012-08-09 12:19:56.311 Appname[62035:15203] Error loading attachment 
 Error Domain=WebKitErrorDomain Code=102 "Frame load interrupted" UserInfo=0x13041dc0 {NSErrorFailingURLKey=file:///Users/Admin/Library/Application%20Support/iPhone%20Simulator/5.0/Applications/190DB7F1-F0EF-4333-A802-B07A71B989BC/Documents/State%20of%20the%20Viacom%20Business.msg, NSErrorFailingURLStringKey=file:///Users/Admin/Library/Application%20Support/iPhone%20Simulator/5.0/Applications/190DB7F1-F0EF-4333-A802-B07A71B989BC/Documents/State%20of%20the%20Viacom%20Business.msg, NSLocalizedDescription=Frame load interrupted}
2012-08-09 12:19:56.312 Appname[62035:17503] void SendDelegateMessage(NSInvocation*): delegate (webView:decidePolicyForMIMEType:request:frame:decisionListener:) failed to return after waiting 10 seconds. main run loop mode: kCFRunLoopDefaultMode 
```

uiwebview 是否支持 .msg 文件格式..如果不支持，我们应该如何处理。

谢谢 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:55:04.753

如果您查看 UIWebView 文档，有一个名为“Using UIWebView to display select document types”的链接。我没有看到你在列表中提到的那些。想到的唯一选项是：为不受支持的查看器创建自己的查看器，或者将它们转换为不同的格式以进行加载。

# android - 如何保持 previewFrame 图像直接作为预览显示？

> ID：11913376
> 
> 赞同：1
> 
> 时间：2012-08-11T09:05:53.700
> 
> 标签：android, camera

我使用 **setDisplayOrientation**方法使相机显示为直，但从 previewCallback 获取的数据不直。在查找 Android API 时，我发现了这个

> 这不会影响 onPreviewFrame(byte[], Camera)、JPEG 图片或录制的视频传入的字节数组的顺序。预览期间不允许调用此方法。

那么如何保持 previewFrame 图像数据直接作为预览显示。

# wpf - 无法使用配置文件加载模块

> ID：11913380
> 
> 赞同：0
> 
> 时间：2012-08-11T09:06:48.807
> 
> 标签：wpf, prism

我正在尝试使用配置文件加载模块，但不断收到以下异常。

```
An exception occurred while initializing module 'HelloWorld'. 
- The exception message was: The method or operation is not implemented.
- The Assembly that the module was trying to be loaded from was:HelloWorld, Version=1.0.0.0, 
Culture=neutral, PublicKeyToken=null
Check the InnerException property of the exception for more information. If the exception
occurred while creating an object in a DI container, you can exception.GetRootException() 
to help locate the root cause of the problem. 
```

我有以下 App.config 文件。

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="modules" type="Microsoft.Practices.Prism.Modularity.ModulesConfigurationSection, Microsoft.Practices.Prism"/>
  </configSections>

  <modules>
    <module assemblyFile="HelloWorld.dll" moduleType="HelloWorld.HelloWorldModule, HelloWorld, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" moduleName="HelloWorld" startupLoaded="true" />
  </modules>
</configuration> 
```

我已经仔细检查了 dll 名称、命名空间和类型名称，甚至从头开始重新创建项目，但错误仍然出现。请帮我解决这个问题，因为我已经被困了几个小时了。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:29:43.197

找到了我的问题的解决方案。当您的模块的 Initialize() 方法尚未实现时，似乎会出现此错误。

```
public class HelloWorldModule : IModule
{
    public void Initialize()
    {
        throw new NotImplementedException();
    }
} 
```

但这仍然很奇怪，因为调试器应该将错误抛出 NotImplementedException 而不是其他错误。

# ruby-on-rails - 如何在rails 3中的belong_to故事中将foreign_key而不是table_name_id指向product_id

> ID：11913383
> 
> 赞同：0
> 
> 时间：2012-08-11T09:07:01.253
> 
> 标签：ruby-on-rails, ruby-on-rails-3, class, foreign-keys

我有 3 个表 Collections、Contributors 和 ProductContributors

它们的关联如下 Collection has_many :product_contributors has_many :contributors, :through => Product_contributors

贡献者 has_many :product_contributors has_many :collections, :through => Product_contributors

ProductContributor 属于_to :collection 属于_to :contributor

我的 product_contributor 表有列为 id product_id 的列（如果 product_type 是 collection，它应该映射到 collection_id） product_typecontributor_id

有什么办法我可以做到这一点？？？

我正在尝试这样的事情 belongs_to :collection , :foreign_key => :product_id

请建议我 wat 可能是适合此问题的解决方案...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:22:33.053

You could achieve this by using [polymorphic associations](http://guides.rubyonrails.org/association_basics.html#polymorphic-associations)

In product_contributor you shhould have: `belongs_to :product , :polymorphic => true and in collection: has_many :product_contributors, :as => :product

# mysql - MYSQL 插入忽略一列

> ID：11913397
> 
> 赞同：1
> 
> 时间：2012-08-11T09:09:26.873
> 
> 标签：mysql, sql, insert

我正在尝试使用插入忽略语句将名称放入数据库中。我不想创建重复项，但是，我使用的插入忽略语句不断插入！

声明是：

```
INSERT IGNORE INTO firstname(name) VALUES ('Tommy') 
```

我的数据库显示了这一点：

```
id  |  name
-------------
1      Tommy
2      Tommy
3      Tommy 
```

一些帮助我的人的信息。我的 id 是我的主键，它是自动递增的。

我的猜测是，因为新 id 是自动创建的，所以它认为它是一个新结果！我不知道如何通过更大的 SQL 查询来解决这个问题，检查名称 Tommy 是否首先存在

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-11T09:12:57.993

这是因为表中的`name`列`firstname`是`not unique`. 尝试`unique`使用此 DDL 语句添加约束，

```
ALTER TABLE firstname ADD UNIQUE (name); 
```

然后尝试它是否仍然添加重复的名称。希望它现在有效:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:14:02.723

您是否尝试在“名称”列上设置“唯一键”约束？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T09:15:39.367

鉴于您的架构，使用`IGNORE`没有区别。`IGNORE`用于忽略插入期间引发的潜在错误。

要避免名称列中的重复，请在该列上添加一个`UNIQUE`约束并从语句中删除`IGNORE`关键字。`INSERT`如果您继续使用`IGNORE`，该`UNIQUE`约束将导致错误但将被忽略，这意味着实际上该`UNIQUE`约束将被忽略。

# php - 如何在 symfony2 表单字段中启用多项选择：集合

> ID：11913399
> 
> 赞同：2
> 
> 时间：2012-08-11T09:09:41.577
> 
> 标签：php, forms, symfony, doctrine

我有一个用户注册表单（管理员使用），我想包括角色的选择。我已经成功地在我的 buildForm 函数中添加了一个具有以下代码的角色下拉列表：

```
 $builder
        ->add('roles', 'collection', array(
            'type'   => 'choice',
            'options'  => array(
                'choices'  => array(
                    'ROLE_CONTENT' => 'Innehåll',
                    'ROLE_LAYOUT'     => 'Skärmlayout',
                    'ROLE_VIDEO'    => 'Videouppladdning',
                    'ROLE_ADMIN'    => 'Administratör',
                ),
            ),
    )); 
```

现在，我希望这是一个多选或复选框列表，而不是下拉列表，但我似乎找不到方法，似乎是一件很简单的事情，或者我错过了有关此字段类型如何工作的一些信息，可以不是要多选吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-11T11:16:31.897

你不需要`collection`这里的类型。`choice`设置为“多个”的类型`true`将输出一个集合就好了。

```
$builder
    ->add('roles', 'choice', array(
        'expanded' => true,
        'multiple' => true,
        'choices'  => array(
            'ROLE_CONTENT' => 'Innehåll',
            'ROLE_LAYOUT'  => 'Skärmlayout',
            'ROLE_VIDEO'   => 'Videouppladdning',
            'ROLE_ADMIN'   => 'Administratör',
        ),
    ))
; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:19:38.373

目前，您正在使用`collection`as[`choice`](http://symfony.com/doc/current/reference/forms/types/choice.html)类型，这意味着您可以使用[`expanded`和`multiple`选项](http://symfony.com/doc/current/reference/forms/types/choice.html#select-tag-checkboxes-or-radio-buttons)来呈现您想要的四种元素类型中的任何一种。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T09:26:05.123

扩展的工作正常，给了我单选按钮，但我想要复选框。

这适用于收音机：

```
 $builder
        ->add('roles', 'collection', array(
            'type'   => 'choice',
            'options'  => array(
                'expanded' => true,
                'choices'  => array(
                    'ROLE_CONTENT' => 'Innehåll',
                    'ROLE_LAYOUT'     => 'Skärmlayout',
                    'ROLE_VIDEO'    => 'Videouppladdning',
                    'ROLE_ADMIN'    => 'Administratör',
                ),
            ),
    )); 
```

但是，如果我放这个，它会引发错误“预期参数类型为“数组”，“字符串”给定”：

```
 $builder
        ->add('roles', 'collection', array(
            'type'   => 'choice',
            'options'  => array(
                'expanded' => true,
                'multiple' => true,
                'choices'  => array(
                    'ROLE_CONTENT' => 'Innehåll',
                    'ROLE_LAYOUT'     => 'Skärmlayout',
                    'ROLE_VIDEO'    => 'Videouppladdning',
                    'ROLE_ADMIN'    => 'Administratör',
                ),
            ),
    )); 
```

# android - 窗口无法解析为变量

> ID：11913401
> 
> 赞同：-1
> 
> 时间：2012-08-11T09:09:52.220
> 
> 标签：android

为什么我不能调用 Window.FEATURE_NO_TITLE？

它说 Window 无法解析为变量，它没有在弹出对话框中给我导入选项。

```
 dialog_shownote = new Dialog(WrittenTest.this, R.style.PauseDialog);
    dialog_shownote.setContentView(R.layout.wr_dialog);
    dialog_shownote.requestWindowFeature(Window.FEATURE_NO_TITLE);
    dialog_shownote.setCancelable(true); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:44:21.347

我认为你不能那样做。您应该使用`Dialog`类`Dialog`从头开始构建，或者，简单的方法，您可以通过定义一个`style`.

因此，如果您的项目中还没有包含*样式*的 xml 文件，只需创建一个（您`PauseDialog`的很好）并添加以下行：

```
<style name="PauseDialog" parent="android:style/Theme.Dialog">
   <item name="android:windowNoTitle">true</item>
</style> 
```

在此之后，您可以`Dialog`像这样构建自己：

```
dialog_shownote = new Dialog(WrittenTest.this, R.style.PauseDialog);
dialog_shownote.setContentView(R.layout.wr_dialog);
dialog_shownote.setCancelable(true); 
```

让我知道它是否有效！

# mysql - 在mysql查询中获取MAX值

> ID：11913408
> 
> 赞同：7
> 
> 时间：2012-08-11T09:10:22.620
> 
> 标签：mysql

我有一张桌子

```
 id     mid    userid    remarks
       1       2       8          7 
       2       2       8          6
       3       2       8          4 
       4       2       8          5
       5       2       8          2
       6       2       8          3
       7       2       8          7
       8       2       8          0
       9       2       8          1
       10      2       8          8 
```

我需要该行之前的最后一行备注。即，备注'1'

```
SELECT MAX(id),mid,userid,remarks FROM sample 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-08-11T09:18:52.797

```
Select Id,mid,userid,remarks from sample Where id<(select max(Id) from sample)
order by id desc limit 1 
```

或者

```
Select Id,mid,userid,remarks from sample 
order by id desc limit 1 offset 1 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-11T09:15:58.303

试试这个：

```
 SELECT MAX(id),mid,userid,remarks 
    FROM sample WHERE id NOT IN  (
    SELECT MAX(id) FROM sample
    )
    GROUP BY mid,userid,remarks 
```

**编辑**

看看这是否有效

[SQL 小提琴演示](http://sqlfiddle.com/#!3/6c745/2)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-10-08T05:43:47.310

尤其适用于**mysql Node.js开发人员**

我无法在 mysql-driver for node.js 中获取直接值，即当我运行以下查询时

```
SELECT MAX(id) FROM Users 
```

我得到的结果是`[RowDataPacket { MAX(id): 1 }]`

我试图从 object 检索值`console.log(MAX(id))`，但我不能

所以我设置了一个`alias`ie`maxid`

```
SELECT MAX(id) as maxid FROM Users 
```

并得到它`[RowDataPacket { maxid: 1 }]`

我可以检索为`console.log(maxid)`

# svn - 代理后面的SVN结帐错误

> ID：11913412
> 
> 赞同：2
> 
> 时间：2012-08-11T09:11:02.380
> 
> 标签：svn

我正在尝试从 back40computing 结帐

> svn checkout [http://back40computing.googlecode.com/svn/trunk/](http://back40computing.googlecode.com/svn/trunk/) back40computing-read-only

但 svn 给了我以下错误

> svn：“http://back40computing.googlecode.com/svn/trunk”的选项：无法连接到服务器（http://back40computing.googlecode.com）

我在代理后面。我应该在 /etc/subversion/servers 中进行哪些设置？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:37:14.290

您需要设置代理服务器和端口设置，以便命令行 SVN 可以通过代理访问外部世界。

```
[global]
http-proxy-host = myproxy.us.com
http-proxy-port = 8080 
```

根据需要取消注释并更改其他行。

来源：[SVN 的 HTTP 代理](http://vikashazrati.wordpress.com/2009/01/25/http-proxy-sv/)

希望能帮助到你。

# php - PHP-> MySQL，错误：“试图获取非对象的属性”

> ID：11913425
> 
> 赞同：0
> 
> 时间：2012-08-11T09:14:37.563
> 
> 标签：php, mysqli

我对 php/sql 相当陌生，但我对此做了很多研究，直到我决定寻求帮助。

基本上我试图将新的用户名/电子邮件/密码/盐插入 MySQL5 数据库。这是我的测试 register.php，只有一个回声：

```
include 'dbcxn.php';

$usr = $_POST['user'];
$mail = $_POST['mail'];
$pwd = $_POST['p'];
$random_salt = hash('sha512', uniqid(mt_rand(1, mt_getrandmax()), true));
$password = hash('sha512', $pwd.$random_salt);

$insert_stmt = DB::cxn()->prepare("INSERT INTO members (username, email, password, salt) VALUES ($usr, $mail, $password, $random_salt)");
echo $insert_stmt->param_count." parameters\n"; 
```

我尝试只使用“$insert_stmt = $mysqli->prepare”，同样的事情发生了。所以我做了类数据库。如果有帮助，这是我的 dbcxn.php：

```
define("HOST", "");
define("USER", "");
define("PASSWORD", "");
define("DATABASE", "");
define("PORT", "");

$mysqli = new mysqli(HOST, USER, PASSWORD, DATABASE, PORT);

class DB {
private static $mysqls;
private function __construct(){}

static function cxn() {
    if( !self::$mysqls ) {
        self::$mysqls = new mysqli(HOST, USER, PASSWORD, DATABASE, PORT);
    }
    return self::$mysqls;
}
} 
```

不知道还有什么可以尝试并且需要睡觉:)。提前感谢您的任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:20:54.543

您的主要问题是您的字符串根本没有转义。

mysqli::prepare() 用于准备好的查询。为了使这项工作成功，您应该将查询更改为：

```
$insert_stmt = DB::cxn()->prepare("INSERT INTO members (username, email, password, salt) VALUES (?, ?, ?, ?)");
$insert_stmt->bind_param('ssss', $usr, $mail, $password, $random_salt);
$insert_stmt->execute(); 
```

You can read up on the bind_param at [http://www.php.net/manual/en/mysqli-stmt.bind-param.php](http://www.php.net/manual/en/mysqli-stmt.bind-param.php) for more information, and an explanation on that first parameter ('s' signifying a string value, there are 4 here because you're inserting 4 string values).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:23:05.237

Your SQL has syntax error. What you get is something like: INSERT INTO members (username, email, password, salt) VALUES (username, test@test.test, mypassword, lkjlk21j3lkjsdclksdmfl3i4)

You may want this:

`INSERT INTO members (username, email, password, salt) VALUES (?, ?, ?, ?)`

# model - 由于 EBean 中的延迟连接，序列化程序生成 NullPointerException

> ID：11913426
> 
> 赞同：0
> 
> 时间：2012-08-11T09:14:49.653
> 
> 标签：model, playframework-2.0, ebean

我有一个模型的序列化程序，如下所示：

```
@Override
public void serialize(MyModel model, JsonGenerator generator, SerializerProvider serializer) throws IOException,JsonProcessingException {
    if (model == null) return;

    SimpleDateFormat en = new SimpleDateFormat("yyyy-MM-dd");

    generator.writeStartObject();

    generator.writeNumberField("id", model.id);
    generator.writeStringField("name", model.name);
    generator.writeStringField("display", model.toString());

    SubModel subModel = model.subModel;

    // HERE IT IS :
    subModel.refresh(); // required to not have a nullpointerexception
    // If I don't do that, the subModel.xxxx will throw a NullPointerException
    // If I log the content :
    Logger.info(String.valueOf(subModel));

    // It will work (display the toString()) AND the following won't throw a NullPointerException

    generator.writeObjectFieldStart("quotas");
        generator.writeNumberField("id", subModel.id);
        generator.writeStringField("display", subModel.toString());
    generator.writeEndObject();

    generator.writeEndObject();
    generator.close();
} 
```

为什么？有没有办法避免调用 a`refresh()`或其他东西？

顺便说一句，是否可以在序列化程序中使用序列化程序：就我而言，我想列出 的所有属性`model`，但我只想列出 subModel 的一部分。这就是这个 Serializer 的目的。

但据我所知，我添加以列出所有属性并将它们添加到生成器（第 9 行 -> 11 行）。是否可以通过添加子模型（ManyToOne 关系）来序列化模型的所有直接属性，而不在关系上使用 @JsonIgnore？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:09:33.557

AFAIK，有时，Ebean 在与公共属性进行连接时遇到一些困难，因此请尝试在您的模型中使用 getter `getSubmodel()`：：

```
public class MyModel extends Model {

   ...

   private SubModel subModel;

   public SubModel getSubModel() {
      return this.subModel;
   }
} 
```

# html - Using Notepad++ as an IDE: building from ground up

> ID：11913433
> 
> 赞同：1
> 
> 时间：2012-08-11T09:16:16.953
> 
> 标签：html, css, python-3.x, notepad++

I'm programming off *Notepad++* at the moment and liking it, purely because i am seeing everything happen and why, including CSS3, HTML5, and learning Python, C++ etc

I've used a few IDE-s and appreciate them, but if i were to build a relatively simple site using Notepad++ what would i need to link everything up, like the design interface, Python code, CSS etc straight out of the text editor?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-20T19:57:54.337

你几乎肯定需要 NppExec 插件。这为 Notepad++ (NPP) 提供了极大的灵活性。

有了它，您可以：

*   从 NPP 中运行 python、ruby、perl 脚本
*   查看 NPP 控制台窗口中的输出
*   弹出输入框提示输入参数，并将这些参数传递给脚本
*   存储脚本的输出并将其插入到当前的 NPP 文件中
*   将当前 NPP 文件中突出显示的文本传递给正在运行的脚本
*   过滤来自脚本的输出并挂钩到当前 NPP 文件中的行，
*   可能还有更多……

[这是](https://superuser.com/q/463751/153054)我为让 NPP 生成自定义时间戳而编写的示例。该代码说明了如何执行上述几个功能。（[https://superuser.com/q/463751/153054](https://superuser.com/q/463751/153054)）

简而言之，NppExec 是一个引擎，它允许您在开发环境中集成您希望拥有的功能。稍加努力，你会发现你只受自己想象力的限制（当然还有时间！）

要查看 NppExec 提供的功能，请在 NPP 中弹出一个控制台窗口，然后键入`help`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:37:16.113

就 Notepad++ 而言，我认为它几乎内置了所有工具，甚至是 FTP。如果你看到一些你需要并且丢失的东西，你可以尝试搜索[Notepad++ 插件](http://sourceforge.net/projects/npp-plugins/)

# php - OOP 设计 - 在单独的文件中分散方法

> ID：11913437
> 
> 赞同：0
> 
> 时间：2012-08-11T09:17:56.190
> 
> 标签：php

我有两个文件：`config.php`和`init.php`.

`config.php`有一个`config`具有各种服务器设置配置的类。`init.php`具有`init`包含所有业务逻辑方法的类。

`init extends config`

我使用 ezsql 库进行 MySQL 接口。`$init->sql`我将它称为 init ( )中的变量。到现在为止还挺好。

My`init.php`已经成长为一个包含多种方法的巨大文件。有些页面只使用它来调用 ezsql。我想将与站点特定区域相关的所有方法移动到它们各自的文件中，并仅在需要时才包含这些文件。

我如何在实际代码中实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T09:50:38.703

如果你的类太大，它可能有太多的责任。请参阅**[SRP](http://en.wikipedia.org/wiki/Single_responsibility_principle)**。您可能应该重组您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:36:43.560

也许您可以使用自动加载工具。有一个`spl_autoload_register`函数允许您创建规则以自动加载类。 [http://php.net/manual/en/function.spl-autoload-register.php](http://php.net/manual/en/function.spl-autoload-register.php)

# javascript - 如何锁定输入[类型=文件]？

> ID：11913438
> 
> 赞同：1
> 
> 时间：2012-08-11T09:18:01.800
> 
> 标签：javascript, jquery, html

当我在链中提交文件时（通过包装器和回调），我想锁定我的输入文件以防止用户编辑。

尽管只需向输入元素添加只读属性就可以很容易地锁定我的表单：

```
$('form input').attr('readonly','readonly'); 
```

它只是不适用于输入文件。

该`disabled`属性有点工作，但它不会提交文件然后......

那么，任何想法如何锁定它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:26:22.033

您可以使用对象的`preventDefault()`方法`event`，尝试以下方法：

```
$('input[type=file]').click(function(e){
   e.preventDefault()
}) 
```

[http://jsfiddle.net/LvXJJ/](http://jsfiddle.net/LvXJJ/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-08-11T09:41:01.967

```
or you can try this:
$('input[type=file]').click(function(){
   $(this).attr('disabled', 'disabled');
}); 
```

# java - jsoup parsing code doesn's working (Android)

> ID：11913439
> 
> 赞同：0
> 
> 时间：2012-08-11T09:18:15.100
> 
> 标签：java, android, html, parsing, jsoup

I have problem with parsing html. I wanted to retrieve all the tables from this website [http://www.zmksstalowawola.pl/taranhtml/linie_r.htm](http://www.zmksstalowawola.pl/taranhtml/linie_r.htm) and get second cell of each received table. Here is my code that I wrote to get this effect. To check if code is working I added TextView to display received cells.

```
Document document = Jsoup.connect("http://www.zmksstalowawola.pl/taranhtml/linie_r.htm").get();
TextView tv = (TextView)findViewById(R.id.htmlView);
ArrayList<String> arrayList  = new ArrayList<String>();
Elements tables = document.select("table");
for (Element table : tables) {
        String rowData = table.select("td").get(1).toString();
        arrayList.add(rowData);
        tv.setText(rowData);
} 
```

The problem is that the TextView does not display any text from cell (only text that I've write in xml activity file). I was looking for answers in many websites tutorials and it should working. I have set INTERNET permission so it's not the point. I also have all the required libraries. If anyone knows why it does not work, I would be grateful for your help. Sorry for my poor language

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T11:16:53.457

`toString()`这种方式可能不适合你。如果您确定`document`其中包含所需的 HTML，则应使用`text()`，如下所示：

```
Document document = Jsoup.connect("http://www.zmksstalowawola.pl/taranhtml/linie_r.htm").get();
TextView tv = (TextView)findViewById(R.id.htmlView);
ArrayList<String> arrayList  = new ArrayList<String>();
Elements tables = document.select("table");
for (Element table : tables) {
    String rowData = table.select("td").get(1).text();  //text() instead of toString()
    arrayList.add(rowData);
    tv.setText(rowData);
} 
```

# javascript - php中的联系表格在某些情况下不发送

> ID：11913440
> 
> 赞同：0
> 
> 时间：2012-08-11T09:18:17.483
> 
> 标签：javascript, jquery, html, contact-form

用于在我的网站上发送表单的 php 脚本有问题。它适用于某种情况，但不适用于第二种情况。

**它工作的情况：**

html 表单位于 mydomaine.com 的根目录

sendmessage.php 位于同一根目录下

表单调用位于 mydomaine.com/js/ 中的 javascript 文件

在那个javascript中我有下面的代码，注意“../sendmessage.php”

```
 $.ajax({
                type: 'POST',
                url: '../sendmessage.php',
                data: $("#contact").serialize(),
                success: function(data) {
                    if(data == "true") {
                        $("#contact").fadeOut("fast", function(){
                            $(this).before("<p><strong>Success! Your message has been sent, thank you.</strong></p>");
                            setTimeout("$.fancybox.close()", 1000);
                        });
                    } 
```

**情况不工作：**

html 表单位于 mydomaine.com/test/en/

sendmessage.php 位于 mydomaine.com/test/

表单调用位于 mydomaine.com/test/js/ 的 javascript 文件

在那个javascript中我有下面的代码，注意“../sendmessage.php”

对我来说它看起来不错，因为 js 文件需要将 sendmessage.php 加载到下一级（mydomaine.com/test/）（我也尝试删除“../”但仍然无法正常工作）

```
 $.ajax({
                type: 'POST',
                url: '../sendmessage.php',
                data: $("#contact").serialize(),
                success: function(data) {
                    if(data == "true") {
                        $("#contact").fadeOut("fast", function(){
                            $(this).before("<p><strong>Success! Your message has been sent, thank you.</strong></p>");
                            setTimeout("$.fancybox.close()", 1000);
                        });
                    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:27:20.223

需要更多关于什么不起作用以及 js/html 和 php 的代码的详细信息。看起来很简单，应该可以工作，但旧目录结构中可能还有其他对路径的引用，这些引用可能不会针对新目录结构进行更新。

还要打开 PHP 错误并查找 apache 日志。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:43:53.160

谢谢，实际上发现了问题，我将更新的javascript文件上传到了错误的目录中！

# algorithm - 解决复杂配置和参数化问题的好算法是什么？

> ID：11913448
> 
> 赞同：4
> 
> 时间：2012-08-11T09:19:55.097
> 
> 标签：algorithm, data-structures, configuration, graph

我正在使用的应用程序需要复杂的参数化和配置才能对自定义零件进行建模。不同参数之间存在各种相互依赖关系，例如设置参数“A”会使“B”和“C”的某些值无效，或者为参数“D”的值添加额外的约束。

目前，这是通过将所有参数存储在查找表中并在其上运行规则来解决的。规则是用 XML 手写的，被加载并转换为用于规则引擎的某种中间格式。每次参数更改时，都会重新运行所有规则。

同时这非常缓慢且容易出错。

我觉得使用基于（DAG）的方法可能是有益的，我们只能对图的子集进行更新。

这是一个好主意吗？你知道更好的方法吗？如果您遇到过类似的问题，您是如何解决的？

编辑：我正在尝试实现一个设计，其中只有参数的依赖子集必须在更改时更新。目前，规则在每次更改时都会在全球范围内重新运行。参数设置为默认值，但可由用户更改。根据参数的值，其他参数的默认值可能不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T10:40:02.957

> 这是一个好主意吗？

是的。您可以创建 DAG 并进行 DFS 遍历并找出依赖链。

> 你知道更好的方法吗？如果您遇到过类似的问题，您是如何解决的？

据我了解，有一个复杂的依赖结构可以由 DAG 建模。如果其中任何一个发生变化，则依赖组件需要更改。编译多年来一直在这样做。您可能想研究他们所做的[依赖性分析。](http://en.wikipedia.org/wiki/Dependence_analysis)

另一种方法可以通过[观察者模式](http://en.wikipedia.org/wiki/Observer_pattern)建模。在这里，每个对象都公开了一种方法来通知观察者是否有任何变化。依赖对象订阅通知。当发生改变对象状态的事件时，它会调用相关的侦听器。

# javascript - Javascript错误，不知道它的含义

> ID：11913449
> 
> 赞同：1
> 
> 时间：2012-08-11T09:20:29.800
> 
> 标签：javascript, google-sheets, google-spreadsheet-api

我正在为 Google 电子表格创建一个小脚本，它将数字移入一列，将字符串移入另一列。应该是非常基本的，但我只是几乎不玩 JS，自然我遇到了一些对我来说毫无意义的东西。

这是代码。

```
function moveData() {
    var sheet = SpreadsheetApp.getActiveSheet();
    var dataToMove = sheet.getRange("A1:A5003");
    var lastRow = sheet.getLastRow();

    for (var i = 0; i <= lastRow - 1; i++)
    {
        var unparsedValue = dataToMove[i];
        if(unparsedValue != "" && typeof unparsedValue === "number" && !isNaN(unparsedValue))
        {
            var parsedValue = unparsedValue;
            Logger.log(parsedValue);

        }
    }
} 
```

显然并没有全部完成，但会引发错误`var unparsedValue = dataToMove[i];`

错误如下：类“$Proxy810”没有名为“0”的公共实例字段或方法

什么是 $Proxy810，如果我理解正确，为什么它会有一个名为“0”的字段或方法？

一点令人沮丧和对此的任何见解将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T09:31:24.323

很明显，`sheet.getRange("A1:A5003")`返回`$Proxy810`实例和循环中的第一个值是`0`您在这一行的代码

```
dataToMove[i];
// is the same as 
dataToMove[0];
// is the same as 
dataToMove.0 
```

并且`$Proxy810`没有这样的财产。

我想你不需要使用括号循环，而是使用一些方法，虽然我不熟悉电子表格 API，但你需要寻找类似的东西`dataToMove.getRow(i)`

已编辑：作为 google show 上的第一个脚本示例，您需要使用以下代码：

```
function readRows() {
   var sheet = SpreadsheetApp.getActiveSheet();
   var rows = sheet.getDataRange();
   var numRows = rows.getNumRows();
   var values = rows.getValues();

   for (var i = 0; i <= numRows - 1; i++) {
       var row = values[i];
       Logger.log(row);
   }
}; 
```

因此，在您的情况下，您需要按如下方式更改代码：

```
function moveData() {
    var sheet = SpreadsheetApp.getActiveSheet();
    var dataToMove = sheet.getRange("A1:A5003");
    var numRows = dataToMove.getNumRows();
    var values = dataToMove.getValues();

    for (var i = 0; i <= numRows - 1; i++)
    {
        var unparsedValue = values[i];
        if(unparsedValue != "" && typeof unparsedValue === "number" && !isNaN(unparsedValue))
        {
            var parsedValue = unparsedValue;
            Logger.log(parsedValue);

        }
    }
} 
```

# sql - Why it inserts "?" instead of persian unicode characters?

> ID：11913450
> 
> 赞同：0
> 
> 时间：2012-08-11T09:20:47.197
> 
> 标签：sql, sql-server, character-encoding

I am creating an ETL project, in which I want to move a table on an Oracle server into a table on a SQL Server.

I have a `varchar2` column in Oracle, which I mapped to a `varchar` column in SQL Server.

But when I execute the ETL (using Microsoft BI), the data turn into "?".

The original data is persian unicode characters.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:37:45.160

假设表名是`some_table`并且列名是SQL Server`some_column`的大小`100`字符。运行以下 T-SQL 命令应该可以解决您的问题：

```
ALTER TABLE some_table ALTER COLUMN some_column NVARCHAR(100) 
```

# php - How to change mysql delimiter through php

> ID：11913457
> 
> 赞同：3
> 
> 时间：2012-08-11T09:21:21.550
> 
> 标签：php, mysql, events, procedure

I created an event with a set of sql statements in mysql terminal, It is working fine. But I want to create this event from php script. My query is below.

```
DELIMITER |

CREATE EVENT e_cart

ON SCHEDULE AT CURRENT_TIMESTAMP + INTERVAL 3 MINUTE

DO

BEGIN

SET @var_orderid = '';

SET @var_orderid = (SELECT orderid FROM order WHERE id=308);

IF @var_orderid = NULL THEN

UPDATE order SET status=1 WHERE id=308;

END IF;
END |

DELIMITER ; 
```

This results in :-

> Error : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER | CREATE EVENT e_cart ON SCHEDULE AT CUR' at line 1

How do I execute this event from php script?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-11T09:30:35.363

DELIMITER 不是 MySQL 服务器命令，而是 MySQL CLI/Query Browser/Workbench 等。它只说明何时向 MySQL 服务器发送命令。

省略 DELIMITER 并将整个 CREATE EVENT 语句作为一个命令发送，它应该可以工作。

# playframework - 方法models.MyModel中操作数堆栈上的错误类型

> ID：11913460
> 
> 赞同：5
> 
> 时间：2012-08-11T09:22:12.973
> 
> 标签：playframework, playframework-2.0, java-7

这是我的模型文档：

```
@Entity
@Table(name = "documents")
public class Document extends Model {
    @Id
    public Long id;

    @Constraints.Required
    @Formats.NonEmpty
    @Column(nullable=false)
    public String document;

    public static Model.Finder<Long,Document> find = new Model.Finder(Long.class, Document.class);

    // Will return an absolute URL to this document
    public String getUrl() {
        return controllers.routes.Documents.display(document.toLowerCase()).absoluteURL(Http.Context.current().request());
    }
} 
```

问题是，它在编译时抛出了一个 VerifyError 异常，我发现唯一可以避免它的方法是注释该行并将其替换为`return null`，这不是很有效。

这是该异常的堆栈跟踪：

```
Caused by: java.lang.VerifyError: Bad type on operand stack in method models.Document.getUrl()Ljava/lang/String; at offset 13
    at java.lang.Class.forName0(Native Method) ~[na:1.7.0_05]
    at java.lang.Class.forName(Class.java:264) ~[na:1.7.0_05]
    at play.db.ebean.EbeanPlugin.onStart(EbeanPlugin.java:69) ~[play_2.9.1.jar:2.0.2] 
```

这个错误是什么？如何在不丢失 getUrl 方法的情况下避免它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T12:14:17.673

我认为 Ebean 正在尝试在这里做一些魔术。

我建议使用静态函数：

```
public static String buildUrl(String document) {
    return controllers.routes.Documents.display(document.toLowerCase()).absoluteURL(Http.Context.current().request());
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-23T15:39:48.927

你可以添加

```
@Transient 
```

方法的注释，它的工作原理！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-16T17:53:38.143

我今天遇到了同样的问题。我尝试应用上面建议的相同逻辑（对问题方法使用静态函数）但无济于事。我重新开始播放，清理，重新编译，问题就消失了。

这是我使用的播放命令。

```
exit
play
clean
run 
```

# iphone - How to create a property list from nsmutablearray programmatically under resource folder?

> ID：11913467
> 
> 赞同：0
> 
> 时间：2012-08-11T09:22:57.280
> 
> 标签：iphone, objective-c, ios, nsmutablearray

I have to create a **property list** from `NSMutableArray` programmatically under a valid path, I mean under **resource folder**. So that I can access it whenever there is need. Please help me if somebody knows about it. Also I need to convert that **plist** into `NSMutableArray` so I can use that value. I have searched and tried to do that but have not successful. Thanx in advance !

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:44:18.353

整个 App 包对于 iOS 应用程序是只读的，因此您不能在运行时添加任何资源。例如，您可以为此目的使用 Library/Caches 文件夹。参见`URLsForDirectory:inDomains:`查找该目录的路径。

例如：

```
// Path to a plist file in Caches directory:
NSURL *cacheDir = [[[NSFileManager defaultManager] URLsForDirectory:NSCachesDirectory inDomains:NSUserDomainMask] lastObject];
NSURL *plistFile = [cacheDir URLByAppendingPathComponent:@"myresource.plist"];

// write array to plist file:
[myArray writeToURL:plistFile atomically:NO];

// read array from plist file and make it mutable:
NSMutableArray *secondArray =  [[NSArray arrayWithContentsOfURL:plistFile] mutableCopy]; 
```

# iphone - 如何在iphone中自动发送邮件？

> ID：11913468
> 
> 赞同：1
> 
> 时间：2012-08-11T09:23:03.063
> 
> 标签：iphone, objective-c, xcode, mfmailcomposeviewcontroller

我使用以下内容来显示 mailViewController

```
-(IBAction)sendMailbuttonTapped {

if([MFMailComposeViewController canSendMail]) {
    MFMailComposeViewController *mailCont = [[MFMailComposeViewController alloc] init];
    mailCont.mailComposeDelegate = self;

    [mailCont setSubject:@"yo!"];
    [mailCont setToRecipients:[NSArray arrayWithObject:@"surendherbtech@gmail.com"]];
    [mailCont setMessageBody:@"Don't ever want to give you up" isHTML:NO];

    [self presentModalViewController:mailCont animated:YES];
    [mailCont release];
}

}

- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error {
    [self dismissModalViewControllerAnimated:YES];
} 
```

它显示得很好，但我现在需要的是，我希望在用户点击按钮时在用户不知情的情况下发送邮件。它必须在没有用户单击发送选项的情况下发送。

谁能告诉我如何自动发送邮件提前谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-11T09:31:10.327

幸运的是，这是不可能的`MFMailComposeViewController`。我肯定不希望某些应用程序在不知情的情况下代表我发送电子邮件。

您可以通过 SMTP 直接与您自己的邮件服务器通信（这在 Cocoa 中很难做到，而且您还必须在应用程序中包含您的凭据，这是一个安全风险），或者使用常规 HTTP 来指示一些网络服务（可能是您服务器上的脚本）为您发送电子邮件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:04:35.713

您可以使用[libetpan](https://github.com/dinhviethoa/libetpan/)，我已成功移植到 iOS。

# cocoa-touch - Apple 文档中关于并发队列创建的 GCD 差异

> ID：11913470
> 
> 赞同：2
> 
> 时间：2012-08-11T09:23:08.463
> 
> 标签：cocoa-touch, grand-central-dispatch

[并发编程指南](http://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW1)这样说：

> 您不能自己创建并发调度队列。相反，有三个全局并发队列供您的应用程序使用。

然后[GCD 参考指南](http://developer.apple.com/library/ios/#documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html#//apple_ref/doc/uid/TP40008079-CH2-SW57)这样说：

> ```
> dispatch_queue_create() 
> ```
> 
> 在 OS X v10.7 及更高版本中，指定`DISPATCH_QUEUE_SERIAL`（或`NULL`）创建串行队列或**指定`DISPATCH_QUEUE_CONCURRENT`创建并发队列。**

这有点令人困惑；这意味着您确实可以自己创建一个并发队列；这是文档没有更新以解释当前功能的情况吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:52:26.710

您链接到的文档说在 iOS 上您只能创建串行队列。在 OSX 上，您可以创建串行或并发队列。

自 iOS5 以来，这似乎已经过时了。（感谢@omz 和@Analog File）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T22:59:25.547

同样重要的是要注意，即使在 10.8（Mountain Lion）上，手册页也有些过时，并且没有记录随着 API 的发展对 GCD 的所有更改。幸运的是，GCD 头文件本身中的 HeaderDoc 注释得到了积极的维护，并且仍然是权威的参考。如何使用？命令行救援！

```
% mkdir /tmp/gcd-docs
% headerdoc2html -o /tmp/gcd-docs /usr/include/dispatch 
```

忽略来自 headerdoc2html 的所有可怕消息，然后，一旦完成：

```
% open /tmp/gcd-docs 
```

要在 GCD 的各个“章节”上调出查找器，请使用查找器进入每个目录，然后单击您想要了解更多信息的 API 的每个类别的 Index.html 文件。这还将为每个 API 函数提供 iOS 和 OS X 的明确可用性信息。！

# java - DeleteByName 方法不适用于 RandomAccessFile

> ID：11913471
> 
> 赞同：1
> 
> 时间：2012-08-11T09:23:12.067
> 
> 标签：java, arraylist, delete-file, random-access

我的 DeleteByName 方法出现错误。错误是：

StudentStore 类型中的方法 delete(Student) 不适用于参数 (String)

我知道这与方法本身的参数错误有关，但我不知道如何解决。然后我无法让学生在之后实际从文本文件中删除。存储是使用 Arraylist 创建的。有五名学生被宣布，我有 add 方法工作。

这是我的代码：

主应用

```
//---------------------------------------------------------------------------------------
//          Name:        Case 3: Delete by Name.
//          Description: Choice 3 gives the user an option to delete an employee by name.
//---------------------------------------------------------------------------------------
                    case 3:
                        System.out.println("Delete by Name.");
                        Student studentDelete = MenuMethods.userInputByName();
                        details.searchByName(studentDelete.getStudentName());
                        details.deleteByName(studentDelete.getStudentName());
                        break; 
```

学生商店

```
// ---------------------------------------------------------------------------------------
// Name: DeleteByName.
// ---------------------------------------------------------------------------------------
    public boolean deleteByName(Student s) 
    {
        if(students.remove(s))
            return students.remove(s);
            else
            return false;
}

public Student searchByName(String employeeName)
    {
        Student employee = Student.get(employeeName);
        System.out.println(employee);
        return employee;
    }

// ---------------------------------------------------------------------------------------
// Name: Search by Email.
// ---------------------------------------------------------------------------------------
public String searchByEmail(String studentEmail) 
{
    for (Student student : map.values()) 
    {
        if (student.getStudentEmail().equals(studentEmail) 
        {
            System.out.println(student.getStudentEmail());
            return student.getStudentEmail();
        }
    }
    return null;
} 
```

菜单方法

```
//---------------------------------------------------------------------------------------
//  Name:           Imports. 
//  Description:    To allow the use of different Java classes.
//---------------------------------------------------------------------------------------
import java.util.Scanner;
//---------------------------------------------------------------------------------------

public class MenuMethods 
{
    private static Scanner keyboard = new Scanner(System.in);
//---------------------------------------------------------------------------------------
//  Methods for the Company Application menu.
//---------------------------------------------------------------------------------------

//---------------------------------------------------------------------------------------
//  Name:           getMenuChoice.
//  Description:    Method for validating the choice.
//---------------------------------------------------------------------------------------
    public static int getMenuChoice(String menuString, int limit,String prompt, String errorMessage) 
    {
        System.out.println(menuString);
        int choice = inputAndValidateInt(1, limit, prompt, errorMessage);
        return choice;
    }

//---------------------------------------------------------------------------------------
//  Name:        inputAndValidateInt.
//  Description: This method is used in the getMenuChoice method.
//---------------------------------------------------------------------------------------
    public static int inputAndValidateInt(int min, int max, String prompt,String errorMessage) 
    {
        int number;
        boolean valid;
        do 
        {
            System.out.print(prompt);
            number = keyboard.nextInt();
            valid = number <= max && number >= min;
            if (!valid) 
            {
                System.out.println(errorMessage);
            }
        } while (!valid);
        return number;
    }

//---------------------------------------------------------------------------------------
//  Name:        userInput
//  Description: This method is used in the MainApp to give the user capability to enter
//               the details when adding details of an employee into the store.
//---------------------------------------------------------------------------------------
    public static Student userInput() 
    {
        String temp = keyboard.nextLine();
        Student s = null;
        System.out.println("Please enter the Student Name:");
        String studentName = keyboard.nextLine();
        System.out.println("Please enter the Student ID:");
        String studentId = keyboard.nextLine();
        System.out.println("Please enter the Student E-mail address:");
        String studentEmail = keyboard.nextLine();
        System.out.println("Please enter the Student telephone number:");
        String studentTelephoneNumber = keyboard.nextLine();
        return s = new Student(studentName, studentId, studentEmail,studentTelephoneNumber);

    }

//---------------------------------------------------------------------------------------
//  Name:        userInputByName.
//  Description: This method is used in the MainApp to give the user capability to search by name.
//---------------------------------------------------------------------------------------
    public static Student userInputByName() 
    {
        // String temp is for some reason needed. If it is not included
        // The code will not execute properly.
        String temp = keyboard.nextLine();
        Student s = null;
        System.out.println("Please enter the Student Name:");
        String studentName = keyboard.nextLine();

        return s = new Student(studentName);

    }

//---------------------------------------------------------------------------------------
//  Name:        userInputByEmail
//  Description: This method is used in the MainApp to give the user capability to search by email.
//---------------------------------------------------------------------------------------
    public static String userInputByEmail() 
    {
        // String temp is for some reason needed. If it is not included
        // The code will not execute properly.
        String temp = keyboard.nextLine();
        Student s = null;
        System.out.println("Please enter the StudentEmail:");
        String studentEmail = keyboard.nextLine();
        // This can use the employeeName's constructor because java accepts the
        // parameters instead
        // of the name's.
        return studentEmail;

    }
//---------------------------------------------------------------------------------------
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T12:44:14.020

您使用错误的参数（字符串）调用您的 deleteByName 方法

```
details.deleteByName(studentDelete.getStudentName()); 
```

但它期望学生

```
public boolean deleteByName(Student s) 
```

您应该将其更改为：

```
public boolean deleteByName(String name){ 
```

你的第二个问题是删除过程本身。您必须删除一个对象：

```
public boolean deleteByName(String name){
    Student s = new Student(name);
    return students.remove(s);
} 
```

要从列表中删除对象，您需要在 Student 类中使用 equals-Method。如果没有该方法，remove 无法找到要删除的正确对象（将 name 替换为 Student-class 中的正确属性名称！）：

```
public boolean equals(Object b){
    if(this.name.equals(b.name)){
        return true;
    }
    return false;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T09:32:54.820

```
details.deleteByName(studentDelete.getStudentName()); 
```

在上面的行中，您传递的 String 类型。

**改变你的删除方法**

```
public boolean deleteByName(String s) 
    {
        if(students.remove(s))
            return students.remove(s);
            else
            return false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T09:36:49.763

你没有具体提到你得到了什么错误。

您的代码存在许多问题：

*   deleteByName 方法的签名是`deleteByName(Student s)`，但您可以这样调用它：`deleteByName(studentDelete.getStudentName())`它的实际参数似乎是一个字符串。问题在于 deleteByName 方法的声明。给定它的名称，您应该将其声明为期望名称作为参数（最有可能是字符串）：

    ```
    public boolean deleteByName(String name); 
    ```

*   您删除相同的名称 2 次：

    ```
    if(students.remove(s))
        return students.remove(s);
        else
        return false; 
    ```

    试试这个：

    ```
    return students.remove(s) != null; 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T12:30:53.373

```
// ---------------------------------------------------------------------------------------
// Name: Remove.
// ---------------------------------------------------------------------------------------
     public void delete(String s)
     {
         students.remove(s);
     } 
```

然后在 MainApp

```
case 3:
                        System.out.println("Delete by Name.");
                        Student studentDelete = MenuMethods.userInputByName();
                        details.searchByName(studentDelete.getStudentName());
                        details.delete(studentDelete.getStudentName());
                        break; 
```

# asp.net - 在一天中的特定时间将数据插入/更新到 SQL Server 表

> ID：11913472
> 
> 赞同：1
> 
> 时间：2012-08-11T09:23:19.630
> 
> 标签：asp.net, datetime, global-variables, insert-update, job-scheduling

我有大约 10 个应用程序变量计数器，`Global.asax`用于显示这 10 个不同类别的文件下载。现在我想在特定时间插入/更新这些计数器的值（由于应用程序重新启动时计数器重置重置计数器）说每天晚上 11 点并更新计数器。

怎么做？有任何想法吗？

在`Global.asax`：

```
void Application_Start(object sender, EventArgs e)  
{ 
        Application.Add("MGM",0); 
        Application.Add("PC",0); 
        Application.Add("NC",0); 
        Application.Add("TC",0); 
        Application.Add("PGC",0); 
} 
```

`shortCode`参数是文件中全局会话的名称`Global.asax`。我正在传递以获取计数器并相应地递增。

在`Download.aspx.cs`页面中：

```
private int GetCount(string shordCode) 
{ 
    int count=0; 
    count = Convert.ToInt32(Application[shortCode]); 

    lock (Application[shortCode]) 
    { 
        Application[shortCode] = ++count; 
    } 

    return count; 
} 
```

帮助表示赞赏..！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:13:48.127

您可以使用以下代码。

```
public void GetCurrentTime()
    {
        int hours ;
        hours = DateTime.Now.TimeOfDay.Hours;
        //when time is 23Hrs of the day
        if (hours == 23)
        {
//       UpdateCounter here           
        }
    } 
```

# linux - 从 bash 脚本运行一些命令

> ID：11913476
> 
> 赞同：2
> 
> 时间：2012-08-11T09:24:23.160
> 
> 标签：linux, bash, process

我认为这应该很简单，但结果让我感到困惑。

当我使用命令运行 bash 脚本时，

```
sudo ./restartccpd.bash 
```

屏幕上什么也没有出现。还有问题

```
sudo /etc/init.d/ccpd status 
```

运行脚本后独立于屏幕产生空，而不是显示守护进程的 pid。这证明只有 pkill 命令在工作。

脚本的内容是，

```
#!/bin/bash

sudo pkill -9 ccpd
sudo /etc/init.d/ccpd start
sudo /etc/init.d/ccpd status 
```

从终端运行时，这些命令可以正常工作。但是，如上所述，当作为脚本运行时，它无法按预期工作。

我尝试在命令之间插入 sleep 命令，但无济于事。此外，系统日志中没有任何内容。所以，我无法诊断问题。

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-11T13:22:22.670

`pkill`将杀死`ccpd`命令名称中包含的任何内容。您的脚本称为`restartccpd.bash`. 第一行是：

```
pkill ccpd 
```

因此脚本启动、运行`pkill`（不产生任何输出）并立即杀死自己。达达！

最简单的解决方案是重命名脚本。您还可以执行以下操作：

```
kill $(pgrep -l ccpd | grep -v restartccpd | awk '{print $1}') 
```

这会产生一个进程名称和 pids 匹配的列表，`ccpd`然后从列表中删除`restartccpd`，然后用 杀死进程`kill`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T14:55:00.627

正如[larsks 正确诊断](https://stackoverflow.com/a/11915064)的那样，`pkill ccpd`杀死名称包含的所有进程`ccpd`。包括你的脚本。

直接的解决方法是将`-x`选项传递给`pkill`，以便它只匹配名称完全为 的进程`ccpd`。

请注意，如果您的脚本包含`sudo`命令，则不需要使用`sudo`. 或者，您可以`sudo`从脚本中删除所有调用，并使用`sudo`.

但是，您不应运行此脚本。您通常应该调用 init 脚本来关闭服务：`/etc/init.d/ccpd stop`. 除了杀死守护程序之外，这可能会执行其他必要的清理，例如删除临时文件和锁。您应该使用的唯一情况`kill -9`是出现严重错误导致`/etc/init.d/ccpd stop`失败，在这种情况下，您应该在重新启动守护程序之前手动进行必要的清理。

做你想做的事情的正确方法是

```
sudo /etc/init.d/ccpd restart 
```

（假设你的发行版使用传统的 SysVinit——如果它使用 upstart，你应该运行它`sudo service ccpd restart`）。

# ruby-on-rails - 不带斜线的 URL 结构

> ID：11913477
> 
> 赞同：0
> 
> 时间：2012-08-11T09:24:29.677
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

这个问题是 seo 的组合，路线可以提供（我希望）

我的模型是：

```
class region
 has_many: cities
end

class city
belongs_to: region
has_many:activities
has_many:restaurants
has_many:shoppings

end

class activity
belongs_to:city

end

class restaurant
belongs_to:city
end

class shopping
belongs_to:city
end 
```

路由.rb

```
localized(['en', 'nl'], :verbose => true) do
scope "/:locale" do
resources :regions do 
  resources :cities do
  resources :restaurants do
    member do
    get 'photo'
    get 'reviews'
    get 'location'
  end
end 
```

url 结构看起来像这样 /en/umbria/perugia/activities/citytour

经过一些 seo 研究后，我需要最小化级别，所以更好的方法是：

翁布里亚/佩鲁贾-活动-citytour

问题：这可能在路由配置文件中吗？如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T06:15:56.197

我以前从未真正这样做过，但这里有一个资源似乎可以解决您的问题： [http](http://railsforum.com/viewtopic.php?id=14799) ://railsforum.com/viewtopic.php?id=14799 （特别是帖子 8 和 9）

尽管该线程已有几年历史，但可能有更多最新的方法来执行此操作。

**编辑：** 另外，这有点离题（因为我很确定它不会特别帮助你解决你的问题；这就是我在编辑上方发布的主题）但我听说过关于它并认为它可能对您的 SEO 更新有所帮助：[https](https://github.com/norman/friendly_id) ://github.com/norman/friendly_id 。基本上它是一个插件，可以帮助您形成更具可读性的 url。

# iphone - RESET按钮取消选中tableview

> ID：11913479
> 
> 赞同：0
> 
> 时间：2012-08-11T09:24:32.753
> 
> 标签：iphone, ios, uitableview, checkmark

任何人都可以通过单击按钮告诉代码以取消选中uitableview中的整个复选标记吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T09:44:03.097

在您的 tableView 数据源类中创建一个`NSMutableArray`，并在您的`cellForRowAtIndexPath`方法中，将复选框添加到数组。（检查重复）。

然后单击按钮，迭代数组并取消选中它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T05:37:09.183

在 didSelectRowAtIndexPath ：

```
if (![myMutableArray containsObject:indexPath]) {
    [myMutableArray addObject:indexPath]; 
}
else{
    [myMutableArray removeObject:indexPath];
}

[sampleTableView reloadData]; 
```

在 cellForRowAtIndexPath 中：

```
if ([myMutableArray containsObject:indexPath]) {
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
}
else{
    cell.accessoryType = UITableViewCellAccessoryNone;
} 
```

当单击按钮时，在该方法中从该数组中删除对象并重新加载您的 tableView：

```
[myMutableArray removeAllObjects];
[sampleTableView reloadData]; 
```

# regex - 正则表达式查找和替换：第一个大写字母条件

> ID：11913480
> 
> 赞同：0
> 
> 时间：2012-08-11T09:25:02.890
> 
> 标签：regex, monodevelop

所以我让我的正则表达式在 MonoDevelop 中找到并替换部分工作。这是问题所在：

我有一堆实例

灯
numberOfLights
lastNumberOfLights 等

我想把它们都改成

vantagePoints
numberOfVantagePoints
lastNumberOfVantagePoints 等

现在我正在使用：

        查找：（[Ll]）次

替换：$1oots

它起作用了，它把灯光变成了战利品，把灯光变成了战利品。但是我怎样才能使用不同的大写字母呢？灯到靴子和灯到靴子

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-11T14:37:01.940

似乎方法是使用2个正则表达式而不是一个，例如

```
FIND: Lights
REPLACE: Boots

FIND: lights
REPLACE: boots 
```

# gwt - 是否有任何官方的 GWT(2.4) 验证框架？

> ID：11913485
> 
> 赞同：3
> 
> 时间：2012-08-11T09:26:07.137
> 
> 标签：gwt

我是 GWT 的新手。目前我们的开发项目使用 GWT 2.4。由于缺乏验证文档，现在面临客户端验证问题。

现在我想知道“GWT 2.4 有 Google 官方验证框架吗？” [不是代码项目]。如果没有，那么有什么替代方案+好的文档/教程？

请帮忙。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T07:35:22.803

GWT 2.4在客户端支持[Java Bean Validation （有](http://en.wikipedia.org/wiki/Bean_Validation)[限制](http://code.google.com/p/google-web-toolkit/wiki/BeanValidation#What_is_not_supported)）。不幸的是，[文档很少](http://code.google.com/p/google-web-toolkit/wiki/BeanValidation)，但您可以[在此处看到对其的介绍](http://gglwebtoolkit.blogspot.de/2011/12/client-side-bean-validation-with-gwt.html)。

据我所知，GWT bean 验证可以与[Editor Framework](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiEditors)一起使用。

对于扩展的 bean 验证支持，您可以使用[gwt-validation](http://code.google.com/p/gwt-validation/)。

编辑：GWT 2.5 中可能会[更好地支持 Bean Validation (JSR 303)](https://plus.google.com/u/0/110412141990454266397/posts/GQ3QVCgTiLo)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-12T07:45:14.127

好问题。我从未听说过本机验证支持。试试[gwt-validation](http://code.google.com/p/gwt-validation/)，这是一个 bean 验证框架。他们有一个演示项目和描述。当然，这不是官方的，但可能会有所帮助。[GXT 库](http://www.sencha.com/products/gxt/)还提供验证工具，尽管它是商业工具。

希望他们最终决定将 gwt-validation 项目合并到 GWT 中，因为这是一个非常重要的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-12T10:13:40.580

如果您不介意服务器端验证，可以使用[RequestFactory](https://developers.google.com/web-toolkit/doc/2.4/DevGuideRequestFactory#validation)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-17T03:43:00.397

我同意你的观点，需要对客户端验证提供更好、更简单的本机支持。与此同时，您可能会在这里有所了解：[https](https://stackoverflow.com/posts/comments/15989932) ://stackoverflow.com/posts/comments/15989932 。

# c - 使用结构指针作为函数参数时得到错误的值

> ID：11913487
> 
> 赞同：-2
> 
> 时间：2012-08-11T09:26:35.927
> 
> 标签：c, function, pointers, struct

我遇到了一个非常奇怪的问题。我定义了一个结构并将它作为一个常量指针传递给一个函数。代码如下所示。

```
typedef struct a{
  char str1[256];
  ...
  int x;
}a_t;

int f(..., const a_t *a){...}

a_t a;
...
a.x = 1;
f(..., &a);
... 
```

问题是一旦进入f()，我会打印出变量a->x，它总是0！？？但是如果我将结构成员 x 移动到结构的顶部（在其他成员之前），它将是 1，这是正确的。

使用结构指针作为参数有什么技巧或陷阱吗？

[EDIT1] printf 在函数 f() 的第一行被调用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T09:56:38.753

无法评论，所以我会建议调试选项。您能否在函数中及之前添加结构元素 x 地址的打印。如果相同，则有人正在更改它，否则我们看的不是相同的值。

```
typedef struct a{
  char str1[256];
  ...
  int x;
}a_t;

int f(..., const a_t *a)
{
    printf("X value %d, address %p", a->x, &(a->x));
    ...
}

a_t a;
...
a.x = 1;
printf("X value %d, address %p", a.x, &(a.x));
f(..., &a);
... 
```

该功能的详细视图也可以提供帮助

# php - 第一行不是来自 php 中的数据库

> ID：11913489
> 
> 赞同：1
> 
> 时间：2012-08-11T09:27:12.143
> 
> 标签：php, mysql

出于某种原因，我在从数据库中检索数据时遇到问题。它忽略了列出的第一个项目。

```
$sql=mysql_query("SELECT * FROM students WHERE (year = '" . mysql_real_escape_string($_SESSION['year']) . "') and ( branch= '" . mysql_real_escape_string(($_SESSION['branch'])). "') ");

$data=mysql_fetch_array( $sql );

print "<table>"
while($data = mysql_fetch_array( $sql )) 
 { 

 Print "<tr><td>".$data['idno']." </td><td>".$data['name'] . " </td></tr>";
 } 
print "</table>" 
```

请帮我解决一下这个。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T09:28:45.067

删除以下行：

```
$data=mysql_fetch_array( $sql ); 
```

调用[`mysql_fetch_array`](http://php.net/manual/en/function.mysql-fetch-array.php)将内部指针移动到下一行，因此您将获得除`while`循环中第一行之外的所有行。

您还可以使用 重置内部指针[`mysql_data_seek`](http://php.net/manual/en/function.mysql-data-seek.php)。

```
mysql_data_seek ($sql, 0); // 0 for first row 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:30:18.820

这是因为您在一段时间之前使用了 mysql_fetch_array 一次。第一次调用将得到第一个结果，然后您将进入 while 循环。该`$data`变量将擦除由第二个结果分配的第一个结果，然后是第三个，第四个，依此类推。由于在 while 循环之前进行了此调用，您将始终避免第一个结果

# python - 如何在 Python C 扩展中为 __init__ 指定文档字符串

> ID：11913492
> 
> 赞同：11
> 
> 时间：2012-08-11T09:27:33.653
> 
> 标签：python, python-c-api, docstring, python-extensions

也许是一个愚蠢的问题：如何为特殊函数指定文档字符串，例如`__init__`在编写 C 扩展时？对于普通方法，方法表提供了文档字符串。当我尝试 help(myclass) 时，会显示以下自动生成的文档：

```
 __init__(...)
      x.__init__(...) initializes x; see help(type(x)) for signature 
```

但这是我想要覆盖的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-19T04:58:12.097

我认为最常见的做法就是将各种函数的定义粘贴到其中`tp_doc`，然后将其保留。然后你可以按照它说的去做并查看你的对象的文档。这就是整个标准库中发生的事情。

您实际上没有任何`__doc__`在各种插槽（`tp_init`等）上写入的选项，因为它们`wrapper_descriptor`在您调用时被 a 包装`PyType_Ready`，并且 a 上的文档字符串`wrapper_descriptor`是只读的。

我认为可以跳过使用插槽并将您的方法（例如`__init__`）添加到您的`MemberDefs`，但我从未尝试过。

# php - TRUNCATE mysql 表几个数据库

> ID：11913496
> 
> 赞同：-4
> 
> 时间：2012-08-11T09:28:44.513
> 
> 标签：php, mysql

在尝试提交之前，我需要清理几个数据库中的几个表

```
$db_server = include('root.php');
if (!$db_server) die("Unable to connect to MySQL: " . mysql_error());
$sqla = "TRUNCATE TABLE `info`.`2012_august`";
$sqlb = "TRUNCATE TABLE `stu`.`2012_august`";
$sqlc = "TRUNCATE TABLE `stu`.`2012`";
if (@mysql_query($sqla))
    {
    echo ("success"."</br>");
    }
else
{
    echo ("un success".mysql_error()."</br>");
     } 
```

只有第一个表清除其数据。我该如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:30:49.157

您的代码只是在执行`$sqla`。您需要执行其他的，或者将它们组合成一个用分号分隔的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:35:52.897

你有

```
$sqla = "TRUNCATE TABLE `info`.`2012_august`";
$sqlb = "TRUNCATE TABLE `stu`.`2012_august`";
$sqlc = "TRUNCATE TABLE `stu`.`2012`"; 
```

要存储的值。但您只用于`$sqla`存储。这就是其他值不存储的原因。`You have to store them all by using comma`或`by storing all the values into an array and call them at the time of store`。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-08-11T09:34:04.270

```
$a = array("TRUNCATE TABLE `info`.`2012_august`",   // create an array of queries
           "TRUNCATE TABLE `stu`.`2012_august`", 
           "TRUNCATE TABLE `stu`.`2012`");

foreach ($a as $value) {                            // iterate through array
    if (@mysql_query($value))
    {
        echo ("success"."</br>");
    } else {
        echo ("un success".mysql_error()."</br>");
    }
} 
```

# c++ - 使用 while(cin>>x)

> ID：11913501
> 
> 赞同：0
> 
> 时间：2012-08-11T09:29:19.913
> 
> 标签：c++, string, cin

> **可能重复：**
> [C++ cin 空格问题](https://stackoverflow.com/questions/2735315/c-cin-whitespace-question)

我在尝试理解这段代码时遇到问题。如果这个问题已经得到回答，但我在任何地方都没有找到，我想道歉。我是初学者，它是一个非常基本的代码。问题是**>>**运算符在遇到第一个空格字符时停止读取，但为什么在这种情况下它会输出完整的输入字符串，即使我们的字符串中有空格也是如此。它在单独的行中输出字符串的每个单词。即使在空格之后， *cin>>x*怎么能接受输入？请帮助我解决此代码的功能。提前致谢。

```
#include<iostream>
#include<string>
using std::cout;
using std::cin;
using std::string;
using std::endl;
int main()
{
string s;
while (cin >> s)
cout << s << endl;
return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T09:35:25.553

> 问题是 >> 运算符在遇到第一个空格字符时停止读取，但**为什么在这种情况下它会输出完整的输入字符串**，即使我们的字符串中有空格

因为你在循环中使用它。所以每次都会`cin`吃一个你打印的单词并丢弃空格。您在每个单词后打印一个换行符的事实意味着您不希望看到空格 - 实际上`s`不包含任何空格。

一个简单的测试方法是打印：

```
cout << s << "$"; 
```

* * *

然而，代码最有趣的特征是在布尔上下文中返回的`while`测试如何准确地产生您想要的：输入是否完成。`istream``<<`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T09:34:28.097

默认情况下，在流上使用输入运算符会在空格处停止，并跳过前导空格。因此，由于您在循环中阅读，它会在阅读您输入的所有“单词”时跳过空格，然后在循环中使用尾随换行符打印它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T10:46:41.877

您可能忽略了这样一个事实，即每当您输入一个新字符串（在空白字符之后，即换行符、制表符或空格之后），它都会在**while**循环条件中重新分配给**字符串 s 。**要验证这一点，您可以简单地执行以下操作：

 **```
int i=1;
while (cin >> s)
cout << i++ << ": " << s << endl; 
```

代替 ：

```
while (cin >> s)
cout << s << endl; 
```

运行这个，一切都会一清二楚:)**

# java - java android中的文本处理

> ID：11913505
> 
> 赞同：-1
> 
> 时间：2012-08-11T09:29:48.863
> 
> 标签：java, android

我有一个看起来与此类似的文件

```
 12345 one
 12345 two
 12345 three
 ....... 
```

问题是我如何从第二行获取所有值并将它们存储在 String[] 我知道如何在 java 中读取文件只是不知道如何剪切第二行

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:39:07.443

**1.**将文件中的每一行存储到一个`ArrayList<String>`中，**它比** `String[] array`.

**2.**然后通过`get()`ArrayList的方法访问你需要的行

**例如：**

```
ArraList<String> arr = new ArrayList<String>();

//Now add each lines into this arr ArrayList

arr.get(1);         // Getting the Second Line from the file 
```

`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T09:37:58.407

您可以按新行拆分文件行。

```
String [] names = fileString.split("\n"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T09:44:52.927

好的，这就是我所做的，但它跳过了第一行

```
 FileInputStream fstream = new FileInputStream("/sys..........");

          DataInputStream in = new DataInputStream(fstream);
          BufferedReader br = new BufferedReader(new InputStreamReader(in));
          String strLine;

          strLine = br.readLine();
          while ((strLine = br.readLine()) != null)   {

              delims = strLine.split(" ");
               first = delims[1];
               where.add(first);

          }

          in.close(); 
```

从上面的例子中，它只包含“二”和“三”

# c - 从服务器踢出一个客户端

> ID：11913507
> 
> 赞同：-1
> 
> 时间：2012-08-11T09:30:01.580
> 
> 标签：c, sockets, unix

发生超时时，有一种简单的方法可以从服务器中踢出客户端吗？套接字是 TCP

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T09:32:20.810

只是`close(2)`文件描述符并停止从中读取。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:59:12.410

术语*踢*是模糊的。您通常可以通过启用`SO_LINGER`带有 time out of 的选项来强制服务器 TCP 堆栈重置连接`0`，然后关闭套接字。下面的示例（无错误检查）。

```
struct linger lo = { 1, 0 };
setsockopt(sock, SOL_SOCKET, SO_LINGER, &lo, sizeof(lo));
shutdown(sock, SHUT_RDWR);
close(sock); 
```

如果您确定没有重复，`shutdown`则不需要显式调用。`sock`

# mysql - 用于从 Java 中的 GTFS 文件中获取信息的 Sql 查询

> ID：11913508
> 
> 赞同：1
> 
> 时间：2012-08-11T09:30:03.717
> 
> 标签：mysql, sql, gtfs

我正在为一个使用[gtfs 数据库](http://code.google.com/p/gtfsdb/)（MySQL）的学校项目工作。我编写了一些代码来解析 gtfs 文件并将它们插入 MySQL 数据库（每个文件都是我数据库中的一个表）。我正在尝试编写两个 SQL 查询：

1.  给定一个`stationId`, `time`, 和`line number`- 我想得到在接下来的 10 分钟内经过这个车站的所有行程。

2.  给定一个`tripId`,`directionId`和`stopId`- 我想得到这次旅行中所有剩余的车站（为了在地图上画出我旅行中的车站）。

有谁知道我如何用 Java 陈述这个 SQL 查询？

* * *

我试过这个：

```
SELECT * FROM stops, routes, stop_times, calendar, trips
where departure_time > "08:24:00"
  and departure_time < "16:40:00"
  and route_short_name = "10"
  and stops.stop_id = 29335
  and stops.stop_id = stop_times.stop_id
  and stop_times.trip_id = trips.trip_id
  and calendar.service_id = trips.service_id
  and calendar.sunday = 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-05T13:46:08.573

我已经为比利时的 GTFS 数据解决了这个问题。代码可在 github 上找到：

[https://github.com/iRail/MIVBSTIBResource/blob/master/MIVBSTIBStopTimesDao.php](https://github.com/iRail/MIVBSTIBResource/blob/master/MIVBSTIBStopTimesDao.php)

# c++ - 现代 c++ 编译器是否自动矢量化代码以进行 24 位图像处理？

> ID：11913512
> 
> 赞同：4
> 
> 时间：2012-08-11T09:30:20.410
> 
> 标签：c++, image-processing, compiler-optimization, vectorization, 24-bit

gcc、visual studio c++、intel c++ 编译器、clang 等编译器是否像以下那样对代码进行矢量化？

```
std::vector<unsigned char> img( height * width * 3 );
unsigned char channelMultiplier[3];

// ... initialize img and channelMultiplier ...

for ( int y = 0; y < height; ++y )
    for ( int x = 0; x < width; ++x )
        for ( b = 0; b < 3; ++b )
            img[ b+3*(x+width*y) ] = img[ b+3*(x+width*y) ] * 
                                     channelMultiplier[b] / 0x100; 
```

32 位图像处理也一样吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-11T10:54:24.060

我认为您的三重循环不会自动矢量化。IMO的问题是：

*   通过对象类型 std::vector 访问内存。AFAIK 我认为任何编译器都不会自动矢量化 std::vector 代码，除非访问运算符 [] 或 () 被内联，但我仍然不清楚它是否会被自动矢量化。
*   您的代码受到内存别名的影响，即编译器不知道您引用的内存是否`img`从另一个内存指针访问，这很可能会阻止矢量化。基本上，您需要定义一个普通的双精度数组并提示编译器没有其他指针指向同一位置。我认为您可以使用`__restrict`. `__restrict`告诉编译器这个指针是唯一指向那个内存位置的指针，并且没有其他指针，因此没有副作用的风险。
*   默认情况下内存未对齐，即使编译器设法自动矢量化，未对齐内存的矢量化也比对齐内存的矢量化慢很多。您需要确保您的内存是 32 位地址对齐以利用自动矢量化和 AVX 到最大值和 16 位地址对齐以利用 SSE 到最大值，即始终与 32 位内存位地址对齐。您可以通过以下方式动态执行此操作：

    ```
    double* buffer = NULL;
    posix_memalign((void**) &buffer, 32, size*sizeof(double));
    ...
    free(buffer); 
    ```

在 MSVC 中，您可以这样做，`__declspec(align(32)) double array[size]`但您必须检查您正在使用的特定编译器，以确保您使用的是正确的对齐指令。

另一个重要的事情是，如果您使用 GNU 编译器，请使用该标志`-ftree-vectorizer-verbose=6`来检查您的循环是否正在自动矢量化。如果您使用 Intel 编译器，请使用`-vec-report5`. 请注意，有多个级别的详细信息和信息输出，即 6 和 5 数字，因此请查看编译器文档。详细程度越高，代码中每个循环的向量化信息就越多，但编译器在发布模式下编译的速度越慢。

总的来说，我一直很惊讶让编译器自动矢量化是多么不容易，这是一个常见的错误，假设因为循环看起来很规范，那么编译器会神奇地自动矢量化它。

更新：还有一件事，确保您`img`实际上是页面对齐的`posix_memalign((void**) &buffer, sysconf(_SC_PAGESIZE), size*sizeof(double));`（这意味着 AVX 和 SSE 对齐）。问题是如果你有一个大图像，这个循环很可能会在执行过程中结束页面切换，这也非常昂贵。我认为这就是所谓的[TLB](http://en.wikipedia.org/wiki/Translation_lookaside_buffer)未命中。

# c# - C# 语音识别 - 识别语音并执行任务

> ID：11913516
> 
> 赞同：1
> 
> 时间：2012-08-11T09:30:44.573
> 
> 标签：c#, windows, speech-recognition

感谢您花时间查看我的查询。我正在使用 Expression Blend 4 和 Visual Studio 2010 在 C# WPF .NET 4 中编写程序。我正在使用 System.Speech.Recognition 来侦听来自用户的命令并执行任务。我的问题是；

一旦引发了 SpeechRecognized 事件，并且您执行了一项任务，您如何暂停该任务，要求用户发出另一个命令，并恢复或放弃之前的任务？

我目前的思路集中在更改加载的语法并接受新命令，然后将其传递回之前的操作（如果有意义的话）。

为了让您了解我正在尝试做什么，我正在侦听诸如“计算机，系统状态是什么”之类的命令。我想向用户播放一个声音响应，要求用户输入另一个命令，例如（输入授权码），一旦用户这样做，它将在返回某个命令（代码）时执行响应（例如， “Gamma 47 Echo”），拒绝命令（代码）或超时并重新加载以前的语法（我正在使用外部 XML 语法文件）。

我已经将我必须的代码上传到 PasteBin [http://pastebin.com/X3vJJJrM](http://pastebin.com/X3vJJJrM)。我是编程新手，有一些Java经验。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T16:19:16.300

我相信你的逻辑太复杂了。不过，我可能过于简化了... :)

您可以将所有语法包含在一个文件中。当你监听你的初始命令时，在你的代码中设置一个标志，然后监听后续。

这是一个（简化的）语法集：

```
<grammar version="1.0" xml:lang="en-US" root="rootRule" tag-format="semantics/1.0" xmlns="http://www.w3.org/2001/06/grammar">
<rule id="rootRule">
  <one-of>
    <item>
      <tag>out.SysCommand = "STATUS";</tag>
      Computer what is the system status
    </item>
    <item>
      <tag>out.SysCommand = "PASSWORD";</tag>
      Gamma
      <one-of>
        <item>Four</item>
        <item>Forty</item>
      </one-of>
        Seven Echo
    </item>
  </one-of>
</root>
</grammar> 
```

您的回调可能如下所示：

```
private void OnSpeechRecognized(object sender, SpeechRecognizedEventArgs e)
{
  if (e.Result.Confidence >= ConfidenceThreshold)
  {
    if (IsListening)
    {
      if (e.Result.Semantics["SysCommand"] != null)
      {
        switch (e.Result.Semantics["SysCommand"].Value.ToString())
        {
          case "PASSWORD":
            // The was waiting for this, now you can act on it
            break;
          default:
            // something else was said, reset!
            break;
        }
      }
    }
    else if (e.Result.Semantics["SysCommand"] != null)
    {
      if (e.Result.Semantics["SysCommand"].Value.ToString() == "STATUS")
      {
        // do stuff that prompts user for password
        IsListening = true;
      }
    }
  }
} 
```

您的回调会查找“IsListening”标志。如果未设置，它会检查您是否询问状态。如果你这样做了，它会设置标志，现在等待密码。

您可以简化上面的代码。我复制了它并用我做过的类似的东西做了一些快速的编辑。就我而言，我执行以下操作：

1.  聆听系统的名称（“Floyd”）
2.  设置“IsListening”标志
3.  在屏幕上显示提示（与 IsListening 标志绑定的可见性）显示可能的后续命令
4.  聆听这些命令并采取适当的行动

您可以根据需要加载和卸载新语法，但是，除非您的语法文件变得很大，否则这些加载/卸载的开销将开始迅速赶上仅在一组中查看一些额外的语法规则。

# oracleforms - frm-92101 启动期间表单服务器出现故障

> ID：11913521
> 
> 赞同：1
> 
> 时间：2012-08-11T09:31:15.647
> 
> 标签：oracleforms, oas

Oracle 应用服务器 10g 操作系统：Unix

我收到以下错误：

frm-92101 启动期间表单服务器出现故障

windows中的解决方法如下：控制面板（中间层），点击中间层的OPMN -> LOG ON -> 勾选Allow Service to Interact with Desktop

如何在 UNIX 中应用上述解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T05:11:15.647

在 Linux 操作系统上缺少 rpm openmotif21-2.1.30-11.EL5.i386.rpm。

[项目下载](https://oss.oracle.com/projects/compat-oracle/files/Enterprise_Linux/)

# grails - grails中用户定义的表单验证

> ID：11913526
> 
> 赞同：-1
> 
> 时间：2012-08-11T09:32:11.500
> 
> 标签：grails, validation

我正在通过一些示例程序来学习 grails。
我想知道如何使用 grails 验证用户定义的表单。
我的代码是：

领域类

```
class User
{
    String property

    static constraints = 
    {
        property(blank:false,nullable:false)
    }
} 
```

控制器类

```
def addUser() {

}

def userPrint() {
      def values = request.getParameterValues("property")
      for(val in values){
         println "values received :"+val
      }
} 
```

添加用户.gsp

```
<html>
<head>
<title>Users</title>
</head>
<body>
<g:form name="useraddform" url="[controller:'user',action:'userPrint']">
<table>
<tr>
<td>Username :</td>
<td><g:textField name="property" value=""/></td>
</tr>
<tr>
<td>Password : </td>
<td><g:textField name="property" value=""/></td>
</tr>
</table>
<input type="submit" value="ADD"/>
</g:form>
</body>
</html> 
```

我需要验证输入的用户名和密码。
怎么实现这个？？？
请帮忙....！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T21:07:39.633

请阅读[约束](http://grails.org/doc/latest/guide/validation.html#constraints)手册部分和整个[Web 层](http://grails.org/doc/latest/guide/theWebLayer.html)章节。

此外，[`grails generate-all`](http://grails.org/doc/2.1.0/ref/Command%20Line/generate-all.html)在其他一些示例项目上运行并查看脚手架 GSP 内容，尤其是[hasErrors](http://grails.org/doc/latest/ref/Tags/hasErrors.html)标记/函数。

# ios - AVCaptureVideoPreviewLayer 在 segue 后仍然显示

> ID：11913527
> 
> 赞同：0
> 
> 时间：2012-08-11T09:32:16.550
> 
> 标签：ios, avcapturesession, uistoryboardsegue

我正在使用 Storyboards，并且我的第一个视图中有一个 AVCaptureVideoPreviewLayer 来显示我的相机输入的实时流。这很好用。但是，当我尝试模态地切换到另一个视图时， AVCaptureVideoPreviewLayer 视图仍在后台显示。视图而不是新视图的设置黑色背景。我尝试在以下内容中使用 removeFromSuperLayer：

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender 
```

方法。但是，这不起作用。

关于如何摆脱这种情况的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T12:02:39.477

首先，停止视频

```
[previewLayer.session stopRunning] 
```

其次，如果您不需要它，请删除视频输出

```
[previewLayer.session removeOutput:AVMediaTypeVideo] 
```

如果这没有帮助，请尝试调用

```
setNeedsDisplay 
```

在超层

# windows - 亚马逊 AWS - Windows 实例设置

> ID：11913531
> 
> 赞同：1
> 
> 时间：2012-08-11T09:33:01.127
> 
> 标签：windows, iis, amazon-web-services, amazon

我有一个域 www.rentcars.sg 指向正确的 DNS 服务器并由其他人验证并且工作正常：[https ://forums.aws.amazon.com/message.jspa?messageID=362885#362885](https://forums.aws.amazon.com/message.jspa?messageID=362885#362885)

但是，即使我使用 IIS 在服务器上正确设置了域，它也无法正常工作。

谁能指出我正确的方向？我需要进行任何其他设置才能使其正常工作吗？

服务器 IP : 23.23.129.247

使用内部 IP，它可以工作，但不适用于带有端口/url 的服务器 ip。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-17T13:53:33.973

我不确定我是否理解您的问题，但我的方法是：

1.  分配[EC2 弹性 IP 地址](http://aws.amazon.com/articles/1346)。
2.  将此类地址与您正在运行的 EC2 实例相关联。
3.  将您的域名指向此 IP 地址。
4.  在属于您的 EC2 实例的安全组设置中为所有 IP 源 (0.0.0.0/0) 添加入站 TCP 规则。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-23T14:00:51.630

请记住，AWS 中的 windows 实例默认启用软件 (windows) 防火墙。确保您在软件防火墙和安全组中具有正确的防火墙策略。

# internet-explorer-9 - IE9 中的 :after 选择器中没有圆角边框

> ID：11913533
> 
> 赞同：0
> 
> 时间：2012-08-11T09:33:37.383
> 
> 标签：internet-explorer-9, css-selectors, css

我用 css 做了一些花哨的按钮，但是在 IE9 中，我的边框不是圆角的。

HTML：

```
<div id="buttons">
  <a href="#"></a>
  <a href="#"></a>
  <a href="#"></a>
  <a href="#"></a>
  <a href="#"></a>
</div>​ 
```

CSS：

```
#buttons a {
    margin: 2px 4px;
    border-radius: 13px;
    height: 25px;
    width: 25px;
    display: block;
    float: left;
    position: relative;
    background: rgb(178,91,91);
    background: -moz-linear-gradient(top,  rgba(178,91,91,1) 0%, rgba(252,200,200,1) 26%, rgba(89,52,52,1) 51%, rgba(254,254,254,1) 75%, rgba(85,52,54,1) 94%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(178,91,91,1)), color-stop(26%,rgba(252,200,200,1)), color-stop(51%,rgba(89,52,52,1)), color-stop(75%,rgba(254,254,254,1)), color-stop(94%,rgba(85,52,54,1)));
    background: -webkit-linear-gradient(top,  rgba(178,91,91,1) 0%,rgba(252,200,200,1) 26%,rgba(89,52,52,1) 51%,rgba(254,254,254,1) 75%,rgba(85,52,54,1) 94%);
    background: -o-linear-gradient(top,  rgba(178,91,91,1) 0%,rgba(252,200,200,1) 26%,rgba(89,52,52,1) 51%,rgba(254,254,254,1) 75%,rgba(85,52,54,1) 94%);
    background: -ms-linear-gradient(top,  rgba(178,91,91,1) 0%,rgba(252,200,200,1) 26%,rgba(89,52,52,1) 51%,rgba(254,254,254,1) 75%,rgba(85,52,54,1) 94%);
    background: linear-gradient(to bottom,  rgba(178,91,91,1) 0%,rgba(252,200,200,1) 26%,rgba(89,52,52,1) 51%,rgba(254,254,254,1) 75%,rgba(85,52,54,1) 94%);
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b25b5b', endColorstr='#553436',GradientType=0 );
    box-shadow: 0 0 3px rgba(0,0,0,0.2);
}

#buttons a:after {
    background: #a62434;
    background: -moz-linear-gradient(top,  #ea5160 0%, #a62434 40%, #771b22 100%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ea5160), color-stop(40%,#a62434), color-stop(100%,#771b22));
    background: -webkit-linear-gradient(top,  #ea5160 0%,#a62434 40%,#771b22 100%);
    background: -o-linear-gradient(top,  #ea5160 0%,#a62434 40%,#771b22 100%);
    background: -ms-linear-gradient(top,  #ea5160 0%,#a62434 40%,#771b22 100%);
    background: linear-gradient(to bottom,  #ea5160 0%,#a62434 40%,#771b22 100%);
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#771b22', endColorstr='#ea5160',GradientType=0 );
    box-shadow: inset 0 0 3px rgba(91,22,23,0.5);
    display: block;
    content: '';
    position: absolute;
    height: 21px;
    width: 21px;
    top: 2px;
    left: 2px;
    border-radius: 11px;
}​ 
```

演示：http:
[//jsfiddle.net/JJqe7/](http://jsfiddle.net/JJqe7/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:57:24.387

IE9 可能会退回到较旧的渲染引擎，因此不支持边框半径。尝试将以下元添加到您的`<head>`：

```
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
```

在此处查看更多信息：[ie9 边界半径](https://stackoverflow.com/questions/5381446/ie9-border-radius)

# html - 分享按钮上的 CSS

> ID：11913536
> 
> 赞同：1
> 
> 时间：2012-08-11T09:34:15.870
> 
> 标签：html, css

我无法隔离我遇到的问题，一些杂散的 CSS。这是我的网站： http: [//www.derekbeck.com/1775/info/july2012mag/](http://www.derekbeck.com/1775/info/july2012mag/)

谁能告诉我，当您将鼠标悬停在共享按钮上时，是什么 CSS 导致共享按钮在右侧弹出而不是直接在共享按钮旁边弹出？

谢谢，德里克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:49:33.933

您需要在 CSS 文件中删除`position:relative`under ：`#addthis`

```
#addthis
{
    position:relative;
    top:-2px;
    left:2px;
} 
```

应该：

```
#addthis
{
    top:-2px;
    left:2px;
} 
```

## 编辑：

顺便说一句，我建议您将所有 CSS 代码放入一个单独的文件中。

# html - 图像不尊重 z-index 并覆盖伪元素的阴影

> ID：11913539
> 
> 赞同：0
> 
> 时间：2012-08-11T09:34:33.810
> 
> 标签：html, css, image, pseudo-element

我想用伪元素 ::after 和 ::before 投射额外的阴影，以创建一种页面卷曲效果。但是每当`<img>`涉及到时，它的 src 就会一直覆盖阴影。这是一般限制还是有解决方法？

```
<ul>
    <li class="imgContainer"><img class="imgFake" /><br><span class="imageTag">some Title</span></li>

    <li class="imgContainer"><img class="imgFake" src="http://wallpaperstock.net/maggie-grace-portrait_wallpapers_14105_1600x1200.jpg"/><br><span class="imageTag">some Title</span></li>

    <li class="imgContainer" style="margin-bottom:50px;"><img class="imgFake" src="http://wallpaperstock.net/maggie-grace-portrait_wallpapers_14105_1600x1200.jpg"/><br><span class="imageTag" style="top:auto; bottom:27px;">some Title</span></li>
</ul>​ 
```

[http://jsfiddle.net/BpgXC/7/](http://jsfiddle.net/BpgXC/7/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T09:54:54.963

请看一下：http: [//jsfiddle.net/BpgXC/12/](http://jsfiddle.net/BpgXC/12/)

我改变了`img.imgFake`z-index：

```
img.imgFake {
    position: relative;
    display: block;
    width: 400px;
    height: 250px;
    background: rgba(135,195,235,.5);
    padding: 5px;
    font: 12px/12px sans-serif;
    z-index: -2;
} 
```

# jquery - 在 HTML 中使用 Jquery 调用 Web 服务

> ID：11913541
> 
> 赞同：-1
> 
> 时间：2012-08-11T09:34:46.753
> 
> 标签：jquery, asp.net, web-services

我正在学习使用网络服务`[http://88.80.223.163:8080/lumiin-service/lumiin/control/lookup/CommunicationType][1]`

它给了我一个 XML 文件..现在我想在`dropdown list`. 如何使用`jQuery in HTML`下拉列表调用 web 服务并显示数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T11:20:23.020

要使用 JQuery 调用您的 Web 服务并获取 xml，请参阅此博客文章：[http ://think2loud.com/224-reading-xml-with-jquery/](http://think2loud.com/224-reading-xml-with-jquery/)

但是，如果您计划从服务更新 DOM，我个人认为使用[KnockOutJS](http://knockoutjs.com/)会更容易——我建议您阅读文档和示例。

# emacs - 在 emacs 中自动关闭所有临时缓冲区

> ID：11913542
> 
> 赞同：3
> 
> 时间：2012-08-11T09:34:55.413
> 
> 标签：emacs, buffer

我们如何自动关闭用 * 括起来的临时缓冲区。例如*消息*，*完成*缓冲区需要关闭。使用后手动杀死所有这些缓冲区是很痛苦的。

有没有办法关闭由 emacs（不是我们）创建的临时缓冲区？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-11T12:40:32.233

你真的需要关闭这些缓冲区吗？如果您使用像 iswitchb 这样的[适当缓冲区切换方法](http://emacswiki.org/emacs/SwitchingBuffers)，那么您不必关心临时缓冲区或其他缓冲区，因为您可以直接转到您想要的任何缓冲区。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T20:39:34.250

我会支持您使用的建议`ido`或`iswitchb`避免被临时缓冲区打扰。这些缓冲区的存在是使用 emacs 的自然结果，所以不要试图逆流而上！

另一方面，如果您对不断增长的打开缓冲区列表感到恼火，您可以使用`midnight.el`它在一段时间后自动关闭不活动的缓冲区，或者您可以使用它`ibuffer`来轻松选择和关闭不需要的缓冲区。

就个人而言，我将缓冲区打开很长时间，我偶尔使用 整理它们`ibuffer`，我依靠`ido`快速切换缓冲区。在 Emacs 24 中，您可以设置`ido-use-virtual-buffers`为`t`，然后`ido`让您切换到已关闭的文件，并根据需要重新打开它们。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-13T10:37:47.770

为避免这些缓冲区妨碍您，您可以定义键绑定以循环遍历“用户缓冲区”和“无用缓冲区”：

[http://ergoemacs.org/emacs/effective_emacs.html](http://ergoemacs.org/emacs/effective_emacs.html)，“切换下一个/上一个用户缓冲区”部分

但一些有用的缓冲区以 * 开头，如 shell、编译缓冲区、ielm 等。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-11T16:14:47.970

正如[用户](https://stackoverflow.com/a/11914795/1419272)所说，最好使用智能缓冲区切换包，例如`iswitchb`and `ido`。`iswitchb`'s`iswitchb-buffer-ignore`和`ido`'s`ido-ignore-buffers`变量允许我们使用正则表达式指定要忽略的缓冲区。

但是，如果您真的想***杀死***这些缓冲区，那么这样的程序将对您有所帮助：

```
(require 'cl)

(defvar kill-star-buffers-except
  '("\\`\\*scratch\\*\\'"
    "\\`\\*Messages\\*\\'"
    "\\` \\*Minibuf-[[:digit:]]+\\*\\'"
    "\\` \\*Echo Area [[:digit:]]+\\*\\'")
  "Exception list for `kill-star-buffers'")

(defun kill-star-buffers ()
  "Kill all star buffers except those in `kill-star-buffers-except'"
  (interactive)
  (mapc (lambda (buf)
          (let ((buf-name (buffer-name buf)))
            (when (and
                   ;; if a buffer's name is enclosed by * with optional leading
                   ;; space characters
                   (string-match-p "\\` *\\*.*\\*\\'" buf-name)
                   ;; and the buffer is not associated with a process
                   ;; (suggested by "sanityinc")
                   (null (get-buffer-process buf))
                   ;; and the buffer's name is not in `kill-star-buffers-except'
                   (notany (lambda (except) (string-match-p except buf-name))
                           kill-star-buffers-except))
              (kill-buffer buf))))
        (buffer-list))) 
```

# c# - 将特定工作表复制到新的 Excel 文件

> ID：11913547
> 
> 赞同：0
> 
> 时间：2012-08-11T09:35:51.730
> 
> 标签：c#, excel

我有一个 Excel 文件。

我需要打开它，从中选择特定的工作表，然后将这些工作表转换为 PDF 格式。我能够转换整个 excel 文件，我只是不知道如何只转换特定的工作表。

我的想法是将特定工作表从现有文件复制到新的临时文件，然后将整个新的临时文件转换为 PDF。

也许有更简单的方法？

到目前为止我的代码是 =>

```
using Word = Microsoft.Office.Interop.Word;
using Excel = Microsoft.Office.Interop.Excel;

    public static void ExportExcel(string infile, string outfile, int[] worksheets)
    {
        Excel.Application excelApp = null;
        Excel.Application newExcelApp = null;
        try
        {
            excelApp = new Excel.Application();
            excelApp.Workbooks.Open(infile);
            //((Microsoft.Office.Interop.Excel._Worksheet)excelApp.ActiveSheet).PageSetup.Orientation = Microsoft.Office.Interop.Excel.XlPageOrientation.xlLandscape;  

            excelApp.ActiveWorkbook.ExportAsFixedFormat(Excel.XlFixedFormatType.xlTypePDF, outfile);
        }
        finally
        {
            if (excelApp != null)
            {
                excelApp.DisplayAlerts = false;
                excelApp.SaveWorkspace();
                excelApp.Quit();
            }
         }
    } 
```

也许该`ExportAsFixedFormat`方法可以设置为在转换时仅考虑特定页面（工作表）？

如果没有，我如何将工作表从一个文件复制到另一个文件？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:30:01.793

您可以简单地将文件复制到新目标，打开目标，删除不需要的工作表并导出。这是我的想法的一个例子（经过测试）。

```
// infile is the excel file, outfile is the pdf to build, sheetToExport is the name of the sheet
public static void ExportExcel(string infile, string outfile, string sheetToExport) 
{ 
    Microsoft.Office.Interop.Excel.Application excelApp = new     
                        Microsoft.Office.Interop.Excel.Application();
    try  
    {  
        string tempFile = Path.ChangeExtension(outfile, "XLS"); 
        File.Copy(infile, tempFile, true); 
        Microsoft.Office.Interop.Excel._Workbook excelWorkbook = 
                                excelApp.Workbooks.Open(tempFile);  

        for(int x = excelApp.Sheets.Count; x > 0; x--) 
        { 
            _Worksheet sheet = (_Worksheet)excelApp.Sheets[x];
            if(sheet != null && sheet.Name != sheetToExport) 
                sheet.Delete(); 
        }  
        excelApp.ActiveWorkbook.ExportAsFixedFormat(XlFixedFormatType.xlTypePDF, outfile);  
    }  
    finally  
    {  
        if (excelApp != null)  
        {  
             excelApp.DisplayAlerts = false;  
             excelApp.SaveWorkspace();  
             excelApp.Quit();  
         }  
     }      
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T15:57:23.080

您也许可以从原始文件中打印您想要的工作表。我启动了宏记录器，选择了几张纸，然后另存为 PDF。这是代码：

```
Sheets(Array("Sheet1", "Sheet2")).Select
ActiveSheet.ExportAsFixedFormat Type:=xlTypePDF, Filename:= _
    "C:\Users\doug\Documents\Book1.pdf", Quality:=xlQualityStandard, _
    IncludeDocProperties:=True, IgnorePrintAreas:=False, OpenAfterPublish:=True 
```

当我更改选定的工作表并再次运行时，它按预期工作。

奇怪的是，在实际的“另存为”对话框中，您可以转到“选项”并选中“选定的工作表”。这不能作为 ExportAsFixedFormat 的参数，但它是在对话框中自动选择的，并且在调用时也可能是默认值。

# delphi - 如何检测 SQL Server 数据库中发生的任何修改？

> ID：11913549
> 
> 赞同：2
> 
> 时间：2012-08-11T09:36:01.387
> 
> 标签：delphi, sql-server-2005, sql-server-2000, tadodataset

我有一个应用程序使用`TADODataSet`并`TADOConnection`连接 SQL Server 数据库。

我想检测数据库中发生的任何修改。

修改 = 插入、更新、删除

我想知道哪个`TADODataset`或哪个表已被修改。

我这样做是因为我有一个可以在本地网络上运行的多用户应用程序。用户可以添加、删除或编辑表中的记录，因此我想刷新数据集以显示新的修改。

我也希望这个建立一个日志。

我不想用`TTime`一直看修改。
我不想使用触发器

我更喜欢来自 的消息`TADOConnection`。

我正在使用带有 ADO 组件的 SQL Server 2005 和 Delphi 2007。

新修改：我在 SQL Server 2000 上需要它

问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T13:39:47.517

也许不是您期望的答案，但我认为您应该为 Delphi 评估 Bold。我的雇主[Attracs](http://www.attracs.com/en/)在大型多用户应用程序中成功使用了 Bold 十多年。当应用程序增长并且事情变得非常复杂时，Bold 有许多功能可以简化开发。目前 Bold 不支持 Unicode，因此它只能用于 D2007 或更早版本。但我们计划在未来解决这个问题。

Bold 通过在另一个用户对数据库进行更改时自动更新 gui 组件来解决您的问题。

有关 Bold 的更多信息，请参阅我在[boldfordelphi](http://boldfordelphi.blogspot.com)的博客。

# php - 使用 cURL 上传没有 @ 符号的文件？

> ID：11913550
> 
> 赞同：5
> 
> 时间：2012-08-11T09:36:06.707
> 
> 标签：php, file, curl, upload

我在这里有一个小问题，我怎样才能告诉 cURL 专门将文件附加到请求中？

如果我使用 cURL 上传文件，则常用方法是将其作为 POST 数据数组的一部分附加，其值前面有 @，例如：

```
CURLOPT_POSTFIELDS=>array('my-file'=>'@my-file.txt') 
```

这显然可行，但我有两个问题：

*   如果它实际上不是我正在上传的文件怎么办？如果我的 POST 值实际上是“@my-file.txt”并且它尝试上传文件怎么办？它创造了一个我拼命想要避免的漏洞。
*   如何从 URL 上传文件？我是否必须下载它，将其存储在临时文件夹中，然后使用该临时文件夹中的 @ 附加它？为什么我不能只给 cURL 我希望用作文件的内容？

cURL CURLOPT_INFILE 不是一个选项，因为它不会显示为 $_FILES 数组的一部分。

依赖 POST 字段值中的 @ 符号似乎是 cURL 中的这样一个漏洞。有办法解决吗？为什么没有 CURLOPT_FILEFIELDS 数组？命令行 cURL 对此有一个单独的标志 (-F)，但出于某种原因，我不认为它是 PHP 中的一个选项。

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-10-03T15:14:37.737

如果有人在 2019 年及以后在 Google 上找到此结果（如我所见）后查看此问题，则问题已根据[此错误修复](https://bugs.php.net/bug.php?id=46439)得到解决。

您现在可以使用 CURLFile 通过 PHP CURL 请求发送文件，如下所示：

```
$fullpath = '/var/www/html/website/test.png';
$mime = 'image/png';
$publicname = 'testpic';
$cfile = curl_file_create($fullpath,$mime,$publicname);
$fields[$publicname] = curl_file_create($fullpath,$mime,$publicname); 
```

然后将用于例如

```
curl_setopt($ch, CURLOPT_POSTFIELDS, $fields); 
```

更多信息可以在[这里](https://www.php.net/manual/en/class.curlfile.php)找到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-23T10:23:11.277

我最终做的是检测是否有任何输入数据以 @ 符号开头，如果是，则将它们作为 GET 变量提交（作为 cURL 中提交 URL 的一部分）。它对所有情况都没有帮助（例如提交以@开头的大字符串时），但可以解决我在 Twitter 句柄方面遇到的问题。

# java - java dataoutput 流发送更多字节

> ID：11913555
> 
> 赞同：0
> 
> 时间：2012-08-11T09:36:44.620
> 
> 标签：java

我有一台服务器正在侦听端口和 ip，还有一个客户端将连接到该服务器。

```
DataInputStream meterin=new DataInputStream(socket.getInputStream);
DataOutputStream modemds=new DataOutputStream(modems.getOutputStream); 
```

现在服务器在这里发送一些数据：（CA F0 00 00 00 00 00 00 00 3A）。但是当我读到这个时

```
int c;
byte bt[]=new byte[11]
c=meterin.read(bt,0,11)`
System.out.println("bytes"+c)  // it is returning 10 bytes

modemds.write(bt,0,c) 
```

但在客户我得到了。（CA F0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00）。即使它向上读取 10 个字节，也超过 10 个字节。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:09:23.323

您不能假设读取会填满缓冲区。请参阅 readFully() 以获取替代方案，或者循环直到获得所需的所有数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:17:20.687

通过一些假设和 fFrom 代码，看起来您正在从服务器读取数据，然后将其中继到另一个侦听器或您称为客户端的东西。因此，在客户端代码上，请检查接收缓冲区是否被初始化为超过正在发送的数据......这将导致在输出中添加额外的字节。如果是这种情况，请使用 System.arrayCopy 从接收缓冲区复制出实际字节（假设客户端代码是 java）。

# xml - XML 解释器

> ID：11913558
> 
> 赞同：-1
> 
> 时间：2012-08-11T09:36:54.270
> 
> 标签：xml, interpreter

有没有用 C 语言开发的开源 XML 解释器？它应该接受给定的 xsd 文件，并且当一些新的 xml 文件作为缓冲区或 filefd 提供时，它应该解析并创建适当的内存模型并调用提供的二进制转换库。XML 解释器应该允许用户提供外部库来将 xml 转换为二进制表示，如 xdr、cdr 或自定义格式？

我想将它用作适配器，我们得到一些剩余的 msg 并希望转换为像 sip 这样的二进制 msg...我不想使用代码生成方法，即使它更快。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:57:22.600

尝试使用 libXML 2.0：[http](http://www.xmlsoft.org/) ://www.xmlsoft.org/它是**C** XML 解析器库。

# objective-c - 当 UITextView 的文本发生变化时，解析并创建一个 NSAttributedString

> ID：11913560
> 
> 赞同：2
> 
> 时间：2012-08-11T09:37:22.247
> 
> 标签：objective-c, cocoa, uitextview, nsattributedstring, control-flow

`UITextView`当用户键入或调用该方法时，我试图解析字符串的某些部分`setText:`，然后将其设置`NSAttributedString`回文本视图。但是，在我当前的实现中，这会导致无限递归循环。由于设置新的属性文本会导致文本更改（并触发通知），然后我重新解析文本。

有人建议我使用某种标志，所以当我解析和设置文本时，我不会继续这样做。尽管这似乎不是最佳解决方案。这是我的代码片段...

**CustomTextView.h（UITextView 子类）**

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(textViewDidChange:) name:NSTextViewTextDidChangeNotification object:self]; 
```

**CustomTextView textViewDidChange：**

```
- (void)textViewDidChange:(NSNotification *)notification;
{
    __block NSString *string = self.text;

    dispatch_async(parserQueue, ^{
        NSAttributedString *parsedString = [self parseAttributesForString:string];
        dispatch_async(dispatch_get_main_queue(), ^{
            [self setAttributedText:parsedString];
        });
    });
} 
```

**CustomTextView 设置文本：**

```
- (void)setText:(NSString *)text
{
    [super setText:text];
    [self textViewDidChange:nil];
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:04:58.033

好的，首先我会在属性文本中添加一个观察者，而不是对类进行子类化并发布通知。接下来，我将检查文本对象是什么类。我会打电话给`[text isKindOfClass:[NSString class]]`. 通过调用它，您可以知道对象是否需要再次解析。

# java - 如何设置从arraylist对象获取的复选框的值

> ID：11913563
> 
> 赞同：0
> 
> 时间：2012-08-11T09:37:56.150
> 
> 标签：java, jsp

我正在处理来自 jsp 的多表单页面。而且我必须以表格格式显示复选框，该复选框具有从 ArrayList 对象中的 ResultSet 获取的 value=id。所以我的问题是如何在 value= id 中显示每行设置的复选框。行（记录）来自 ArrayList。

我的 JSP 中的代码是：

```
 <center>
<div style="margin:20px 0px 0px 0px; width:1100px; height:450px; background-color:lightgray" class="divBorder ">
    <font color="#3B5998"><h3>Work Description</h3>
    <table style="margin:20px 20px 20px 20px; border:solid 2px darkGray; border-spacing:5px " border="1"></font>
    <tr><th width="20px">Select</th><th width="60px">Work Code</th>
            <th width="700px">Description</th><th width="60px">Edit</th></tr>
    <%
    Work_Manager wm=new Work_Manager();
    ArrayList<ArrayList<Object>> worklist=new ArrayList<ArrayList<Object>>();
    ArrayList<Object> list = new ArrayList<Object>();
    worklist=wm.getWork();
    Iterator<ArrayList<Object>> it = worklist.iterator();
    while(it.hasNext()){%>
        <tr>
    <%  
        list=it.next();
        Iterator<Object> itr = list.iterator();
        while(itr.hasNext()){%>
        <td>
        <%=itr.next()%></td>
        <% }%>
        <td><a href="#">Edit</a></td></tr>
    <%
    }
    %>

    </table>
    <table style="margin:20px 20px 20px 20px;">
        <tr><td><input class="btn" type="submit" value="Delete Selected List" onclick="" /></td></tr>
    </table>
</div>
</center> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:46:35.273

从 中检索`ResultSet`对象`ArrayList`。

```
Resultset rs = (Resultset) iter.next();

while(rs.next()){ 
String value = rs.getString("your column name for id");
%>
<tr>
<td><input type = "checkbox" name="abc" value="<%=value%>">
<td>....</td>
</tr>
<%
}
%> 
```

`value`在创建表时动态传递它。

# android - Android ListActivity 不同的标题和活动名称

> ID：11913565
> 
> 赞同：0
> 
> 时间：2012-08-11T09:38:33.377
> 
> 标签：android, listactivity

我想向用户显示我的应用程序中不同可用活动的列表，但我希望名称明确，例如“加速度计控制”或“线路跟随器”。现在活动存储在一个`String`数组中，这些活动名称是显示和调用的。我想显示“Line Follower”并调用“LineFollower”活动（没有空格）。我还没有找到任何这样做的例子。

这是应该显示可用活动的 ListActivity：

```
public class ActivityList extends ListActivity {
    // here I'd like to have "Accelerometer Control", "Touch Control"...
    String[] activities = new String[] {"AccelerometerControl", "TouchControl", "ArrowControl", "LineFollower", "Piano", "SendData", "LEDEqualizer", "Program"};

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setListAdapter(new ArrayAdapter<String>(ActivityList.this, android.R.layout.simple_list_item_1, activities));
    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id) {
        super.onListItemClick(l, v, position, id);

        String activity = activities[position];

        try
        {
            Class<?> activityClass = Class.forName("com.bluetooth." + activity);
            Intent intent = new Intent(ActivityList.this, activityClass);
            startActivity(intent);
        }
        catch(ClassNotFoundException e)
        {
            e.printStackTrace();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T09:50:19.053

保持活动就像您通常希望出现在列表中一样，当需要启动它们时，只需删除名称之间的空格即可：

```
String[] activities = new String[] {"Accelerometer Control", "Touch Control", "Arrow Control", "Line Follower", "Piano", "Send Data", "LED Equalizer", "Program"};

// ...
String activity = activities[position];
activity = activity.replace(" ", "");
try {
    Class<?> activityClass = Class.forName("com.bluetooth." + activity);
    Intent intent = new Intent(ActivityList.this, activityClass);
    startActivity(intent);
} catch(ClassNotFoundException e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T09:51:10.370

单独尝试 setTitle，就像在你想要的那些活动中这样：

```
requestWindowFeature(Window.FEATURE_CUSTOM_TITLE);
setContentView(R.layout.main);      
this.setTitle("myclass2"); 
```

# c# - 删除表中的行不起作用

> ID：11913567
> 
> 赞同：0
> 
> 时间：2012-08-11T09:39:00.017
> 
> 标签：c#, sql-server-express

我正在尝试删除 users_stocks 表中的一行。

我使用这段代码：

```
public bool removeStock(string user_name,string stock_symbol)
{
    user_name = user_name.Trim();
    stock_symbol = stock_symbol.Trim();
    string statement = "DELETE FROM " + "users_stocks" + " WHERE user_name = '" + user_name + "'" + " AND " + "stock_symbol = " + "'" + stock_symbol + "'" ;
    SqlCommand cmdnon = new SqlCommand(statement, connection);
    try
    {
        connection.Open();
        int num = cmdnon.ExecuteNonQuery();
         connection.Close();
        return true;
    }
    catch (SqlException ex)
    {
        Console.WriteLine(ex.ToString());
        connection.Close();
        return false;
    }
} 
```

此数据有一行，但查询不会删除它。

我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T10:03:11.050

使用参数化查询避免[Sql Injection Attacks](http://en.wikipedia.org/wiki/SQL_injection)和引用问题更不用说SqlServer的优化引擎可以存储参数化查询并更快地重用。每次发送到数据库时，都会重新评估手工查询 -

```
public bool removeStock(string user_name,string stock_symbol) 
{ 
    user_name = user_name.Trim(); 
    stock_symbol = stock_symbol.Trim(); 
    string statement = "DELETE FROM users_stocks " + 
                        "WHERE user_name = @name AND stock_symbol = @stock" ; 
    SqlCommand cmdnon = new SqlCommand(statement, connection); 
    try 
    { 
        cmdnon.Parameters.AddWithValue("@name", user_name);
        cmdnon.Parameters.AddWithValue("@stock", stock_symbol);
        connection.Open(); 
        int num = cmdnon.ExecuteNonQuery(); 
        connection.Close(); 
        return true; 
    } 
    catch (SqlException ex) 
    { 
        Console.WriteLine(ex.ToString()); 
        connection.Close(); 
        return false; 
    } 
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T10:04:53.060

正如 Luis Quijada 上面提到的使用参数，它们更安全。在下面的代码中，只需将 YOUR_CONNECTION_STRING 值和 SqlDbType 更改为与您的数据库中匹配的值。

```
 public bool removeStock(string user_name, string stock_symbol)
    {
        using(SqlConnection connection = new SqlConnection("YOUR_CONNECTION_STRING"))
        {
            using(SqlCommand command = new SqlCommand())
            {
                try
                {
                    command.Connection = connection;
                    command.CommandText = "DELETE FROM user_stocks WHERE user_name=@USERNAME AND stock_symbol=@STOCKSYMBOL";
                    command.Parameters.Add("@USERNAME", SqlDbType.VarChar).Value = user_name.Trim();
                    command.Parameters.Add("@STOCKSYMBOL", SqlDbType.VarChar).Value = stock_symbol.Trim();
                    connection.Open();

                    int i = command.ExecuteNonQuery();

                    if (i == 0)
                        return false;

                    return true;
                }
                catch (Exception ex)
                {
                    Console.WriteLine(ex.ToString());
                    connection.Close();
                    return false;
                }
                finally
                {
                    connection.Close();
                }
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T10:10:27.037

试试这个代码：

```
 public bool removeStock(string user_name,string stock_symbol)
  {
      user_name = user_name.Trim();
      stock_symbol = stock_symbol.Trim();
      string statement = "DELETE FROM users_stocks 
                          WHERE user_name = '" + user_name + "' 
                          AND stock_symbol = '" + stock_symbol + "'" ;
      SqlCommand cmdnon = new SqlCommand(statement, connection);
      try
      {
          connection.Open();
          int num = cmdnon.ExecuteNonQuery();
          connection.Close();
          return true;
      }
      catch (SqlException ex)
      {
          Console.WriteLine(ex.ToString());
          connection.Close();
          return false;
      }
  } 
```

查询的变化

# android - 水平滚动逐步移动

> ID：11913572
> 
> 赞同：0
> 
> 时间：2012-08-11T09:39:22.367
> 
> 标签：android, horizontal-scrolling, swipe-gesture

我正在开发一个用户选择表情符号的 android 应用程序。我想要一个带有水平滚动的漂亮滑动手势选择。我可以创建一个水平滚动来选择情感吗？

这是一个例子

[https://www.dropbox.com/s/n298h17r3fs2wvj/scrollswipe.jpg](https://www.dropbox.com/s/n298h17r3fs2wvj/scrollswipe.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T11:06:57.793

你试过使用`GestureDetector.OnGestureListener`吗？

[http://developer.android.com/reference/android/view/GestureDetector.OnGestureListener.html](http://developer.android.com/reference/android/view/GestureDetector.OnGestureListener.html)

我认为 onScroll() 只是垂直的，但我可能错了；onFling() 绝对是水平的，但需要一点速度。

如果您还没有看过 GestureDetector，那么无论如何您都应该为自己编写一个简单的演示。

在 jpeg 上，您看起来像是在追求一个非常特定的钩子，如曲线。如果是这种情况，那么您需要自己使用更低级别、更灵活的`View.OnTouchListener`.

[http://developer.android.com/reference/android/view/View.OnTouchListener.html](http://developer.android.com/reference/android/view/View.OnTouchListener.html)

# google-chrome-extension - 将 chrome 扩展从清单 v1 更改为 v2 时出现端口错误

> ID：11913575
> 
> 赞同：4
> 
> 时间：2012-08-11T09:39:59.517
> 
> 标签：google-chrome-extension

在尝试将扩展从清单版本 1 移植到版本 2 时，出现以下情况：

> 端口错误：无法建立连接。接收端不存在。chromeHidden.Port.dispatchOnDisconnect miscellaneous_bindings:232

这出现在开发人员工具的控制台中。我不知道从哪里开始解决这个问题，因为我不知道是什么导致它开始......

什么会导致这个问题？有没有办法确切地知道是什么原因造成的？谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-11T12:41:15.780

最可能的失败原因是[默认内容安全策略](http://developer.chrome.com/extensions/contentSecurityPolicy.html)在活动时[`"manifest_version": 2`](http://developer.chrome.com/extensions/manifest.html#manifest_version)的激活。默认 CSP 的结果是[**不会执行内联 JavaScript**](http://developer.chrome.com/extensions/contentSecurityPolicy.html#JSExecution)。

```
<script>chrome.extension.onConnect.addListener(...);</script> 
```

上一行是内联代码的示例。解决办法是把脚本放在一个外部的JS文件中：

```
<script src="script.js"><!--original contents moved to script.js--></script> 
```

## 背景页面/脚本

当您使用[背景页面](http://developer.chrome.com/extensions/background_pages.html)时，请勿**使用**：

*   `"background_page": "background.htm"`， 或者
*   `"background": {"page": "background.htm"}`,
    但是
*   `"background": {"scripts": ["background.js"]}`
    where`background.js`包含最初放置在`<script>`标签中的脚本`background.htm`。

## 内联事件侦听器

浏览器操作弹出窗口、应用程序启动器、选项页面等通常包含内联事件侦听器。通过 CSP，这些也是被禁止的。

`<button onclick="test();">` **不工作**。解决方案是在**外部 JS 文件**中使用**[`addEventListener`](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)**. 查看[文档](http://developer.chrome.com/extensions/contentSecurityPolicy.html#JSExecution)或[此答案](https://stackoverflow.com/questions/11920892/how-can-i-fire-up-contentscript/11922770#11922770)以获取示例。

## 其他

*   **`eval`**禁止从字符串 ( , `Function`, `setTimeout`, ...)创建 JavaScript 。重写您的代码以不从字符串创建代码，或使用[沙盒清单选项](http://developer.chrome.com/extensions/manifest.html#sandbox)（在 Chrome 21 中引入）。[从 Chrome 22](https://code.google.com/p/chromium/issues/detail?id=146487)开始，可以使用[`unsafe-eval`CSP 策略解除此限制。](http://developer.chrome.com/extensions/contentSecurityPolicy.html#relaxing-eval)
*   **JSONP**不起作用，因为**无法在扩展的上下文中加载外部 (JavaScript) 资源**。使用普通`XMLHttpRequest`而不是 JSONP（[更多信息 + 示例](https://stackoverflow.com/questions/11842954/get-json-in-chrome-plugin/11845618#11845618)）。
    唯一的**例外**是当资源`https`^(**不是通过 http**)获取时。可以调整 CSP 以引入此异常 -[请参阅文档](http://developer.chrome.com/extensions/contentSecurityPolicy.html#relaxing)：

    ```
    "content_security_policy": "script-src 'self' https://example.com; object-src 'self'", 
    ```

## 官方文档

官方文档也对该主题提供了很好的解释，请参阅[“教程：迁移到 Manifest V2”](http://developer.chrome.com/extensions/tut_migration_to_manifest_v2.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T13:09:30.400

对我来说，解决方案正在改变：

```
<script type="text/javascript" src="bgScript.js"></script> 
```

到：

```
<script src="bgScript.js"></script> 
```

**也许它也帮助别人！**

# iphone - 在协议中定义@property

> ID：11913578
> 
> 赞同：4
> 
> 时间：2012-08-11T09:40:30.713
> 
> 标签：iphone, objective-c, ios, cocoa-touch

我有许多 `UIViewController`子类，我希望它们共享相同的属性，称为`session`处理“已登录”状态。

我知道我可以使用父类，但这非常明确，所以我想知道是否可以`session`通过共享协议“强制”该属性。

我从未见过在协议中定义的显式属性（显然您可以定义 setter 和 getter），那么在协议中定义属性是一种可取的模式吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-11T09:57:09.087

> `@property`也可以出现在协议或类别的声明中。

在[苹果官方文档](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/ObjectiveC/Chapters/ocProperties.html#//apple_ref/doc/uid/TP30001163-CH17-SW18)中说明。所以那里没有问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T09:55:43.943

是的，使用协议可以添加属性：

```
@protocol MyProtocol <NSObject>

@property (nonatomic, retain) NSFoobar *baz;

@end 
```

并且`@synthesize baz;`在每个采用此协议的类中（或者您可以使用`@optional`关键字将声明的属性标记为可选）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-11T09:44:07.303

您可以在协议中拥有属性，前提是每个符合您的协议的类都有对应`@synthesize`的属性，或者提供 getter 和 setter。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-11T10:00:18.817

在 .h 文件中：

```
 @property(nonatomic,strong)UILabel *mylabel; 
```

在 .m 文件中：

```
 @synthesize mylabel = _mylabel; 
```

编译器将为 mylabel 创建 getter 和 setter。

```
Ex -> 

-(void)setMylabe:(UILabel *) mylabel { //setter

}

-(UIlabel*)mylabel { // getter

} 
```

# regex - 正则表达式：如果一行不以特定字符串开头，则将其添加为前缀

> ID：11913582
> 
> 赞同：6
> 
> 时间：2012-08-11T09:42:16.027
> 
> 标签：regex, string, prefix

我有这段文字：

```
£££££Ciao a tutti§§§§§,§§§§§2009§§§§§,§§§§§8§§§§§
£££££Il mio nome è Geltry§§§§§,§§§§§2009§§§§§,§§§§§6§§§§§
Bla bla bla§§§§§,§§§§§2010§§§§§,§§§§§7§§§§§
£££££Le amiche della sposa§§§§§,§§§§§2011§§§§§,§§§§§3§§§§§ 
```

使用 TextCrawler 我发现所有没有 £££££ 作为前缀的行，所以：

```
^((?!£££££).)*$ 
```

我应该写什么来代替？

```
Reg Ex: ^((?!£££££).)*$
Replacement: ?  <-- what write here? 
```

具有：

```
£££££Ciao a tutti§§§§§,§§§§§2009§§§§§,§§§§§8§§§§§
£££££Il mio nome è Geltry§§§§§,§§§§§2009§§§§§,§§§§§6§§§§§
£££££Bla bla bla§§§§§,§§§§§2010§§§§§,§§§§§7§§§§§
£££££Le amiche della sposa§§§§§,§§§§§2011§§§§§,§§§§§3§§§§§ 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-11T10:54:42.570

搜索：

```
^(?!£££££)(.+)$ 
```

代替：

```
£££££$1 
```

首先，您的正则表达式不正确。`^((?!£££££).)*$`匹配不包含`£££££` *任何位置*的行。它还仅捕获该行的最后一个字符，您希望它捕获整行。

我的正则表达式只匹配不*以* `£££££`. 它捕获第一组中的整行，并且（根据[手册](http://www.digitalvolcano.co.uk/content/textcrawler/manual)），`$1`替换字符串中的 重新插入捕获的文本。

我还将 更改`*`为`+`因此它不会匹配空行并将它们替换为`£££££`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T19:47:47.560

您不需要捕获任何内容，只需在该行不以 开头时插入`£££££`：

搜索：`^(?!£££££)`

代替：`£££££`

如果一次不匹配一行，则还需要确保它是多行搜索。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T09:50:48.343

您可以使用`()`匹配子表达式：

```
（子表达式）
捕获匹配的子表达式并为其分配一个从零开始的序数。

（？子表达式）
将匹配的子表达式捕获到命名组中。

```

所以你的正则表达式可以是：

```
(^(?:(?!£££££).)*$)
//or
(?<line>^(?:(?!£££££).)*$) 
```

并更换：

```
$数
替换与组号匹配的子字符串。

${名称}
替换与命名组名匹配的子字符串。

```

您的替换可能是这样的：

```
£££££$1
//or
£££££${line} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-11T09:53:37.453

使用这个正则表达式：`^(((?!£££££).)*)$`

写这个作为替换：`£££££^(\1)$`

`\1`将是源匹配，在你的情况下它是整行。

# sql - 根据列优先级选择记录

> ID：11913588
> 
> 赞同：2
> 
> 时间：2012-08-11T09:43:46.730
> 
> 标签：sql, sqlite, select

首先，这个问题的标题很可怕，但我没有找到更好的方式来描述我的问题。

可能有一个非常简单的方法可以做到这一点，但我无法弄清楚。[这与这个](https://stackoverflow.com/questions/3534486/select-query-select-based-on-a-priority)问题非常相似，但我在 sqlite3 (iOS) 上运行，所以我怀疑我的选择要有限得多。

我有一张包含产品记录的表格。所有记录都有一个 ID（注意：我说的不是行 ID，而是每个产品唯一的标识号）。某些产品可能在表中有两个条目（都具有相同的 ID）。唯一的区别是在一个特殊的列中（假设列 COLOR 可以是 RED 或 GREEN）。

我想做的是根据颜色的值创建一个唯一产品列表，如果同一产品同时存在绿色和红色记录，则优先考虑绿色。

简而言之，如果我有以下情况：

```
id       PRODUCT ID    COLOUR
1        1001          GREEN
2        1002          GREEN
3        1002          RED
4        1003          RED 
```

我希望我的 SELECT 返回第 1、2 和 4 行。我怎样才能做到这一点？

我目前的方法是有单独的表，并手动进行连接，但显然这是一个非常糟糕的主意..

注意：我尝试从[这里](https://stackoverflow.com/a/3534559/1404835)使用相同的方法：

```
SELECT * 
  FROM xx
 WHERE f_COLOUR = "GREEN"
UNION ALL
SELECT * 
  FROM xx 
 WHERE id not in (SELECT distinct id 
                    FROM xx 
                   WHERE f_COLOUR = "GREEN"); 
```

但我得到的结果是第 1、2、3、4 行，而不仅仅是 1、2、4。我错过了什么？

**编辑：**请再问一个问题：如何使这与记录的子集一起使用，即。如果我想过滤一些记录而不是整个表？

例如，如果我有类似 SELECT * FROM table WHERE productID LIKE "1%" 之类的东西......我如何检索每个独特的产品，但仍然尊重颜色优先级（绿色>红色）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-11T09:50:57.800

您的查询几乎是正确的。只是使用`PRODUCTID`而不是`ID`.

```
SELECT * 
FROM xx
WHERE f_COLOUR = "GREEN"
UNION
SELECT * 
FROM xx 
WHERE PRODUCTID not in 
                (SELECT PRODUCTID
                 FROM xx 
                 WHERE f_COLOUR = "GREEN"); 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!7/bad46/1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T10:03:08.003

尝试这个

```
SELECT * 
FROM xx
WHERE COLOUR = 'GREEN'
UNION
SELECT * 
FROM xx WHERE P_Id not in 
                (SELECT P_Id
                 FROM Persons 
                 WHERE COLOUR = 'GREEN'); 
```

[另见 SQL FIDDLE 演示](http://sqlfiddle.com/#!3/a5d95/1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T15:37:23.550

我只想提供您可以通过以下方式与组一起执行此操作：

```
select (case when sum(case when colour = 'Green' then 1 else 0 end) > 0
             then max(case when colour = 'Green' then id end)
             else max(case when colour = 'Red' then id end)
        end) as id,
       product_id
       (case when sum(case when colour = 'Green' then 1 else 0 end) > 0 then 'Green'
             else 'Red'
        end) as colour
from t
group by product_id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-13T06:45:21.250

You can have it like this

```
WITH PriorityTable
AS
(
    SELECT T.*,
        ROW_NUMBER() OVER (PARTITION BY T.ID
                            ORDER BY PT.ColorPriority )  PriorityColumn
    FROM XX AS T
    INNER JOIN (
        SELECT 'RED' AS f_COLOUR , 1 AS ColorPriority
        UNION
        SELECT 'GREEN' AS f_COLOUR , 2 AS ColorPriority
    ) AS PT
        ON T.f_COLOUR  = PT.f_COLOUR 
)

SELECT * FROM PriorityTable
WHERE PriorityColumn = 1 
```

# android - 画布：清除矩形但保留其余内容

> ID：11913597
> 
> 赞同：2
> 
> 时间：2012-08-11T09:44:59.160
> 
> 标签：android

我想在画布上绘制一些文本，并想清除从特定区域（由 Rect 定义的区域）绘制的所有内容。

![在此处输入图像描述](../Images/bcf32f3f064e02eb93d1cfb2461c7a95.png)

我画了洋红色文本，想清除灰色中的所有内容并将所有内容保留在白色框中。我得到了白色区域作为矩形。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:34:24.313

试试这个。绘制四个矩形，油漆设置为白色。

*   mCanvas - android.graphics.Canvas 的对象
*   矩形 - 矩形
*   xMax - 最大 X 值
*   yMax - 最大 Y 值

    `mCanvas.drawRect(0, 0, rect.left, yMax, paint);`

    `mCanvas.drawRect(0, 0, xMax, rect.top, paint);`

    `mCanvas.drawRect(0, rect.bottom, xMax, yMax, paint);`

    `mCanvas.drawRect(rect.right, 0, xMax, yMax, paint);`

它可能会帮助你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-06T14:50:16.857

对于具有透明度的油漆，请使用：

```
 canvas.drawRect(0, 0, rect.left, yMax, paint);
    canvas.drawRect(rect.left, 0, xMax, rect.top, paint);
    canvas.drawRect(rect.left, rect.bottom, rect.right, yMax, paint);
    canvas.drawRect(rect.right, rect.top, xMax, yMax, paint); 
```

或者，如果您需要其他形状，请使用路径：

```
 Path path = new Path();
    //path.addCircle(centerX, centerY, radius, Path.Direction.CCW);
    path.addRect(rect, Path.Direction.CCW);

    canvas.clipPath(path, Region.Op.DIFFERENCE);
    canvas.drawRect(0, 0, xMax, yMax, paint); 
```

不幸的是，clipPath 仅适用于 API 18（如果启用了硬件加速）

# objective-c - 我的应用在设备上运行时崩溃

> ID：11913598
> 
> 赞同：0
> 
> 时间：2012-08-11T09:45:15.580
> 
> 标签：objective-c, ios4

我的应用程序在模拟器上运行良好，但是当我在设备上运行时，它会崩溃并显示这些报告

*   8 月 11 日 15:02:04 未知 MobileMail[20218]：收到内存警告。
*   8 月 11 日 15:02:04 未知 UserEventAgent[12]：jetsam：正在创建内核终止快照
*   8 月 11 日 15:02:04 未知 com.apple.launchd[1] : (UIKitApplication:com.apple.mobilephone[0xc8a9]) 退出：杀死：9
*   8 月 11 日 15:02:04 未知 com.apple.launchd[1] : (UIKitApplication:com.apple.mobilemail[0x828b]) 退出：杀死：9
*   8 月 11 日 15:02:04 未知 com.apple.launchd[1] : (UIKitApplication:com.christopher.pacificamodeling[0x8500]) 退出：杀死：9
*   8 月 11 日 15:02:04 未知 com.apple.launchd[1] : (UIKitApplication:com.skype.skype[0xd976]) 退出：杀死：9
*   8 月 11 日 15:02:05 未知的 SpringBoard [16688]：应用程序“邮件”异常退出，信号 9：被杀死：9
*   8 月 11 日 15:02:05 未知的 SpringBoard[16688]：应用程序“PacifiCA”异常退出，信号 9：杀死：9
*   8 月 11 日 15:02:06 未知的 SpringBoard [16688]：应用程序“Skype”异常退出，信号 9：杀死：9
*   8 月 11 日 15:02:06 未知的 SpringBoard [16688]：应用程序“电话”异常退出，信号 9：被杀死：9
*   8 月 11 日 15:02:06 未知 DTPower[15342]：任务 com.christopher.pacificamodeling 的任务信息失败
*   8 月 11 日 15:02:06 未知内核 [0]：launchd [20223] 内置配置文件：MobileMail（沙盒）
*   8 月 11 日 15:02:06 未知内核 [0]：launchd [20224] 内置配置文件：容器（沙盒）
*   8 月 11 日 15:02:06 未知内核 [0]：launchd [20224] 容器：/private/var/mobile/Applications/6BBDF6EB-1DB0-4CAB-8300-DC6CBA78C1AB [69]（沙盒）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:38:21.527

首先是从 xcode 菜单运行分析器，如下所示：

![探查器](../Images/669d7ea916d89314466571ea88d4ced1.png)

然后使用下面突出显示的那个：

![在此处输入图像描述](../Images/e44742827c14c664957231cf7b485e81.png)

最后，您将看到分配最多的块扩展它们中的任何一个，以查看谁经常分配它。转到该部分并对其进行优化，以避免每次都分配/取消分配。

![在此处输入图像描述](../Images/7edd250586cd2f881f19f464f5399c3a.png)

# java - JSP 中的隐藏输入在将其传递给 servlet 时会产生 null

> ID：11913609
> 
> 赞同：1
> 
> 时间：2012-08-11T09:46:49.100
> 
> 标签：java, html, forms, jsp, servlets

在我的 JSP 中，我执行以下操作：

```
<!-- Bank manager's permissions -->

<!--more stuff goes here -->
<fieldset>
  <legend>To open a new account</legend> 
  <form action="blablabla">    
      <input type="hidden" name="hdField" value="myValue" />  // note I pass a "myValue" as string 
      <a href="employeeTransaction1">Press here to continue</a>  
  </form>
</fieldset> 
```

在我的 Servlet 中，我抓取了隐藏的输入：

```
@WebServlet("/employeeTransaction1")
public class Employee1 extends HttpServlet {
    private static final long serialVersionUID = 1L;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException 
    {
        String getHiddenValue=request.getParameter("hdField");
        System.out.println("Hidden field Value :"+getHiddenValue);
        // forwards to the page employeeOpenNewAccount.jsp
        request.getRequestDispatcher("/WEB-INF/results/employeeOpenNewAccount.jsp").forward(request, response);
    }

} 
```

并`System.out.println`产生：`null`在控制台

为什么我得到`null`的不是我通过的实际值？

问候

**编辑：**

更改为后：

```
<fieldset>
  <legend>To open a new account</legend> 
  <form action="/employeeTransaction1" method="GET">
      <input type="hidden" name="hdField" value="myValue"/>
      <a href="employeeTransaction1">Press here to continue</a>  
  </form>
</fieldset> 
```

A`null`仍然出现在控制台上。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:58:07.040

您要做的是将表单发送到服务器。但是，事实上，你不会那样做。您只需发出 GET 请求（当用户单击您的链接时`<a href="employeeTransaction1">Press here to continue</a>`：）

如果要发送表单，请确保正确设置表单标签的属性并向表单**添加提交按钮**：

```
 <form action="/employeeTransaction1" method="GET">
 ...
 <input type="submit" value="Submit" />
 ...
 </form> 
```

根据您发送表单的首选方式，您可以将`method="GET"`参数更改为`method="POST"`并确保在 servlet 中您在`doPost()`方法中处理表单

或者，如果您的目的不是将 from 发送到服务器，而只是传递隐藏输入的值，则应将其值添加为 GET 请求中编码的参数。就像是：

```
 /employeeTransaction1?hdField=myValue 
```

为此，您需要一些客户端处理，即当用户单击链接时，应将隐藏输入添加到 get 中，然后发出请求。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T10:28:13.137

使用**href**标记不会提交您的表单，即它不会将表单中定义的参数传递给请求。您应该改用**input type="submit"**或**按钮**标签。还要确保表单操作与您的 @WebServlet 定义匹配。

```
<fieldset>
  <legend>To open a new account</legend> 
  <form action="/employeeTransaction1">    
      <input type="hidden" name="hdField" value="myValue" />  // note I pass a "myValue" as string 
      <input type="submit" value="Submit" />
  </form>
</fieldset> 
```

# jquery - Jquery - 需要检查 HTML 表 TD 是否被点击

> ID：11913612
> 
> 赞同：2
> 
> 时间：2012-08-11T09:47:07.117
> 
> 标签：jquery

我有一个这样的 HTML 表格，

```
<table>
<tr class="AltTR">
<td>
   First TD
</td>
<td>
  Second TD
</td>
<td>
  Third TD
</td>
<td>
  Fourth TD
</td>
</tr>
</table> 
```

当我单击表格行时，我想做一个操作，示例需要显示警报窗口...

我的 jquery 代码如下所示，

```
$(function(){
$(".AltTR").click(function() {

         //if ($(this).find("td:first").is(":click"))
    if ($(this).find("td:first").trigger('click'))
                alert("1st TD is clicked");
            else
                alert("Other than 1st TD is clicked");

     });

}); 
```

如何做到这一点？

我还有一个疑问，“第一个 TD 中有一个链接标签，当我们单击该链接时，不显示任何警报消息.. 否则我们想显示警报消息，无论是第一个 TD 还是任何其他 TD

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T09:51:38.883

您可以`index()`在 jQuery 中使用该方法并执行以下操作：

```
$(".AltTR td").click(function(){
    if($(this).index() == 0){
        alert("1st <td>");
    }
    else{
        alert("other than 1st <td>");
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T09:50:57.730

您应该检查事件对象的[目标](http://api.jquery.com/event.target/)属性。

例如

```
$(".AltTR").click(function(e) {
    if ($(this).find("td:first").is(e.target)) {
        // first td clicked
    }
} 
```

[http://jsfiddle.net/bt9xX/](http://jsfiddle.net/bt9xX/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T09:56:53.777

您可以尝试对您的索引方法，`td`因为它`td`是用户单击的位置。此外，您必须将代码包装在里面`$(document).ready( function()`；

```
$(document).ready( function() {
  $(".AltTR td").click(function(){
    if($(this).index() == 0){
        alert("1st TD is clicked");
    }
    else{
        alert("Other than 1st TD is clicked");
    }
  });
}); 
```

***[这](http://jsfiddle.net/blasteralfred/N3dBg/1/)***是一个有效的现场演示。

这是根据您的要求更新的小提琴***[。](http://jsfiddle.net/blasteralfred/N3dBg/2/)***

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T10:21:10.427

另一种方法：http: [//jsfiddle.net/JXLs3/](http://jsfiddle.net/JXLs3/)

```
var targetTds = $('.AltTR');
$('td',targetTds).click(function() {
    alert($(this).html());

    if ($(this).is( $(':first',targetTds) )) {
       alert('first');        
    }
    else if ($(this).is( $(':last',targetTds) ) ) { 
       alert('last');                
    }
    else {
        alert('everything else');
    }

});​​​​​​​​​​​​​​​​​​​​​​​​​

​ 
```

# javascript - 模仿 Facebook 的提及系统

> ID：11913614
> 
> 赞同：6
> 
> 时间：2012-08-11T09:47:17.917
> 
> 标签：javascript, facebook

我有一个可怕的问题，过去两天我一直在绞尽脑汁，但还没有想出解决方案。因此，我认为这需要比我更聪明的人来完成。

我正在尝试构建的是一个模拟 Facebook 的文本框；本质上，标签功能。

现在，如果您使用过 Facebook，您会注意到 Facebook 允许您在评论/帖子中*标记*人们，只需输入他们的姓名并从下拉列表中选择。然后，您选择的人的姓名会出现在该文本区域中突出显示的文本中。我已经成功地创建并填充了 JQuery 和 AJAX 组合的下拉列表，但标记过程本身就是障碍。

一旦选择了下拉项（通过 Enter 或单击），查询文本将替换为标记名称。现在，很难看出如何给 textarea 中的文本添加任何类型的突出显示，所以我发现（通过检查 Google Chrome 中的元素并删除 textarea 节点）textarea 本身是透明的，并且有一个白色“模拟”文本下方的 div。突出显示的单词被放置在带有自定义 CSS 的标签中，这使它具有蓝色背景。所有这一切都是我自己发现的，并且我已经成功地模拟了这一点——但我只能做一个标签。

现在我进一步调查并发现了一个输入 type="hidden" 元素，属于“mentionsHidden”类。这个输入元素有一个 value 属性，它根据 textarea 的内容动态地填充自己。因此，如果我输入“ABC”，元素的值将变为“ABC”。如果我包含标签，请说“嗨 [Rei]！” （其中 [] 中的名称是标签），元素的值变为“hi @[member_id:Rei]！”。

所以我已经完成了我的作业。但这里是我无法弄清楚的部分。

我无法弄清楚如何用文本框的值动态填充隐藏的输入元素。很明显，给出蓝色标签背景的底层 div 是从输入元素填充的。但是输入元素让我很头疼。

你看，我不能做以下事情：

-我不能简单地“复制”当前文本区域的整个值并将其“粘贴”到输入元素的值中，因为这会覆盖输入元素中任何先前标记的人（毕竟，文本区域只能拥有明文） .

- 即使我可以找到插入符号的当前索引（textarea 中闪烁的黑线，它告诉您要在哪里输入），但这仅适用于 textarea。文本区域和输入元素值中的索引位置 10 可能是不同的东西，因为这种“标记”人的方式会导致向值字符串添加额外的字符。

- 我不能简单地对要替换的文本进行“替换”，因为在值 String 的其他部分中可能存在相同文本的其他实例。

我知道这是一个非常长且令人困惑的帖子，但我希望你明白我的意思。我真的需要一个解决方案，我不想使用 contenteditable，因为它只适用于 HTML5，一些旧版浏览器可能不支持它。

你的，雷

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-07-03T16:19:09.900

我希望您能够提出或找到解决问题的方法。由于这里似乎没有一个，我想为任何可能偶然发现这一点的人提供一个（如果我的假设不正确，也包括你）。

您将需要`textarea`按照它们出现的顺序维护每个现有提及的显式位置数据。如果在修改 中的内容后`textarea`，其中提及的位置发生了变化，则需要确定其值的哪个外观（如果有）将用于表示它，并适当更新提及的位置数据.

有了这样的数据集合，构造 的值就变得微不足道了`mentionsHidden`，尽管这样的数据的存在使元素变得不必要。

[Mentionator](https://github.com/klawson88/Mentionator)是一种现有的、强大的解决方案，它采用这种方法来提供您尝试重新创建的功能。考虑到它结构良好、易于理解且评论丰富，它应该对您有用，既可以作为开箱即用的解决方案，也可以作为参考资料，在您推出自己的解决方案时引用。它是由你真正维护的:)。

# html - 目标在 并删除填充？

> ID：11913618
> 
> 赞同：3
> 
> 时间：2012-08-11T09:47:55.113
> 
> 标签：html, css, image

在过去的几天里，我尝试学习 CSS 和 HTML，以便为 Tumblr 制作我的第一个自己的主题（不要评判我，这似乎是一个测试事物的好平台）。我遇到了几个我可以自己解决的问题，但现在我已经知识枯竭了，谷歌无法帮助我。我也试过搜索这个网站，但没有成功。所以如果已经有关于这个的话题，我非常抱歉。

基本上，Tumblr 会在您添加的`<p>`每个标签周围添加一个 -Tag `<img>`，因此我应用于 p 的填充也会应用于图像，我无法覆盖它。一个肮脏的修复工作了一段时间，但是当我试图让网站响应时，我找不到任何解决方法或修复。

这是条目的基本 HTML 结构：

```
{block:Text}
    <div class="postcard">
        {block:Title}
            <a href="{Permalink}"><h2>{Title}</h2></a>
        {/block:Title}
        <div class="text">
            {Body}
        </div>
    </div>
{/block:Text} 
```

结果是：

```
<p>Duis autem vel eum iriure dolor.</p>

<p><img src="http://i.minus.com/dbmLqVdFyHN5Tg/16.jpg" alt=""/></p> 
```

我想在段落的两边都有一些填充，在段落的末尾有一些间距，所以我添加了这个 CSS：

```
.postcard p, ul {
    padding-right: 50px;
    padding-left: 50px;
    margin-bottom: 25px;
} 
```

到目前为止，一切都很好。现在，这里的主要问题是：帖子中的图像应该覆盖整个宽度`.postcard`，同时也是响应式的。使用`max-width: 100%;`会起作用，但是因为 img 在 ap 内，所以总共应用了 100px 的填充。以下代码是一个肮脏的修复，但显然没有响应：

```
.text img {
    width: 700px;
    height: auto;
    display: block;
    margin: 0px -50px;
} 
```

那么我怎样才能摆脱图像的填充？提前谢谢了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:13:28.827

如果您可以`<p>`为图像案例添加一些标识符类型来添加或围绕它，那么您可以在这种情况下覆盖 css：

```
myImage.p{
  padding:0;
} 
```

或者

```
myImage.div p{
  padding:0;
} 
```

如果你不能——那么你剩下的唯一选择就是你的修复或javascript修复。由于无法使用 css 选择父元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T12:24:51.050

由于您可能无法将类添加到 tumblr 添加的 p 标签中，因此您必须将其转过来并将类添加到您自己的 p 标签中，以便您可以设置这些样式：

```
.postcard p.padded {
  padding-right: 50px;
  padding-left: 50px;
  margin-bottom: 25px;
} 
```

# html - 具有自动宽度的自动边距

> ID：11913619
> 
> 赞同：0
> 
> 时间：2012-08-11T09:48:07.960
> 
> 标签：html, layout, width, margin

我试图将一个容器居中，其中包含一排方形 div。然而，只是想让它工作，我把它缩小到一个容器内的一个正方形。它需要自动宽度，但也需要居中。如何使使用自动宽度的容器 div 居中？当它的宽度固定时，它似乎只将“面板” div 居中。

```
HTML FILE  

<div class="panel">
    <div class="item"></div>
</div>

CSS FILE

.panel {
    position:absolute; /*This seems necessary to get the auto width to work.*/
    margin: 10px auto;

    border-style: solid;
    border-color: #000000;
}

.item {
    width: 50px;
    height: 50px;
    margin: 30px;

    border-style: solid;
    border-color: #000000;
} 
```

我最终将在面板中添加更多项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T11:57:43.917

我不确定你的问题到底是什么，但你不需要使用绝对/固定位置或左/右浮动来使内部 div 居中。要使内部 div 居中，您可以使用`margin-left: 50%`减号`margin: 30px`，您的内部 div 将居中。**[JSFIDDLE](http://jsfiddle.net/amiregelz/urhtk/)**

# bash - awk 将记录分隔符 (RS) 更改为每 2 行

> ID：11913622
> 
> 赞同：6
> 
> 时间：2012-08-11T09:48:46.280
> 
> 标签：bash, command-line, awk

我想知道如何使用 Awk 来处理每两行数据而不是每一行。默认情况下，记录分隔符 (RS) 设置为每个新行，如何将其更改为每 2 行。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-11T09:57:35.990

这取决于您想要实现的目标，但一种方法是使用`getline`指令。对于每一行，读取下一行并将其保存在变量中。因此，您将有第一行 in`$0`和第二行 in `even_line`：

```
getline even_line 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-11T11:54:27.807

如果要合并行，请使用该[`paste`](http://man.cx/paste)实用程序：

```
$ printf "%s\n" one two three four five
one
two
three
four
five

$ printf "%s\n" one two three four five | paste -d " " - -
one two
three four
five 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-11T09:55:52.057

分而治之：分两步进行：

1.  使用 awk 引入空行
    来分隔每条两行记录：`NR%2==0 {print ""}`
2.  管道到另一个 awk 进程并将
    记录分隔符设置为空行：`BEGIN {RS=""}`

优点：在第二个`awk`过程中，您可以将两行的所有字段作为`$1 to $NF`.

```
awk '{print}; NR%2==0 {print ""}' data | \
awk 'BEGIN {RS=""}; {$1=$1;print}' 
```

注意：
`$1=$1`此处用于强制更新`$0`（整个记录）。
这保证了输出在一行上打印两行记录。
在处理两行记录时修改程序中的字段后，就不再需要了。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-11T21:24:50.963

这有点骇人听闻，但这是对您问题的字面回答：

```
awk 'BEGIN {RS = "[^\n]*\n[^\n]*\n"} {$0 = RT; print $1, $NF}' inputfile 
```

将记录分隔符设置为匹配两行的正则表达式。然后对于每一行，设置`$0`为记录终止符（与 中的正则表达式匹配`RS`）。这将在 上执行字段拆分`FS`。print 语句只是一个演示占位符。

请注意，`$0`它将包含两个换行符，但字段将不包含任何换行符。

# c# - win8应用商店接受c++开发的应用吗

> ID：11913626
> 
> 赞同：-1
> 
> 时间：2012-08-11T09:49:04.823
> 
> 标签：c#, javascript, c++, windows, windows-runtime

Win8 App Store 是否接受用 C++ 编写的应用程序？我使用 c# 开发 wp7 应用程序，并计划为 win8 Metro 应用程序开发应用程序。只是想知道win8应用商店是否接受使用c++的应用程序或只接受c#和javascript开发的应用程序

我欢迎任何评论

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:06:21.093

是的，Windows 8 商店将接受任何有效的 Metro 应用程序，包括以 Microsoft 提供代码示例的语言编写的应用程序！

[在MSDN 频道 9](http://channel9.msdn.com/Events/TechEd/Europe/2012/DEV367)（此链接确认 Windows 8 商店接受 C++ 应用程序）以及[Metro 风格 C++ 应用程序](http://msdn.microsoft.com/library/windows/apps/hh700360)的完整文档中，有大量有用的资源可以帮助您入门。

# asp.net - 以编程方式显示 HTML 报告

> ID：11913629
> 
> 赞同：1
> 
> 时间：2012-08-11T09:49:34.863
> 
> 标签：asp.net, sql-server, report

这是我的数据库记录

```
 First_Name  Study_Desc             VISIT_DATE   RATE
        Sunita      Study Cy               2012-02-11   5000.00
        Imran       Study Ey               2012-02-11   8000.00
        gdf         Study Ud               2012-02-11   7000.00
        shubham     Study Ey               2012-02-11   8000.00
        shweta      Study Ey               2012-02-11   8000.00 
```

我必须在 html 表格中显示这样的内容。我如何以编程方式`Study_Desc`明智地显示报告（或者是否有任何数据库查询）。

```
 Study ->(Study Cy)
    FirstName Date       Rate
    Sunita    2012-02-11 5000.00

   Study ->(Study Ey)
   FirstName Date       Rate
   Imran    2012-02-11  8000.00
   shubham  2012-02-11  8000.00
   shweta   2012-02-11  8000.00

  Study ->(Study Ud)
  FirstName Date       Rate
  gdf       2012-02-11 7000.00

<table id="tableReport" runat="server">
</table> 
```

我如何以编程方式显示报告

我已经尝试过了，但格式不正确

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T14:06:50.180

与其直接写入流，不如先写入 stringbuilder 对象。

1.  在页面上放置标签控件
2.  将您的 html 写入 stringbuilder 对象
3.  将标签文本属性设置为等于字符串生成器对象

例子：

```
aspx Code
<asp:Label ID="lbReport" runat="server" />

// Code Behind

public void PopulateOnPayment()
{     
      StringBuilder sb = new StringBuilder();
      sb.Write("<table width='95%' border='1' cellpadding='0' cellspacing='0'             align='center'>");
      sb.Write("<tr>");
      sb.Write("<td>");
      ......
      ............
      .............. write your html and at the end set it equal to label text

      lbReport.Text = sb.ToString();

 } 
```

# django - Django 中的 Mongodb 与 PostgreSQL

> ID：11913630
> 
> 赞同：7
> 
> 时间：2012-08-11T09:49:44.510
> 
> 标签：django, mongodb, postgresql, database

我对 django 还没有那么丰富的经验，但是我们很快就会创建一个项目，我们想知道将哪个数据库用于我们的后端（Mongodb 或 PostgreSQL）。

我已经阅读了很多帖子，说明了两者之间的差异，但我仍然无法决定选择哪个。考虑到我以前从未使用过 Mongodb。

那我去干嘛？？

非常感谢提前

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-11T10:32:08.827

MongoDB 是非关系型的，因此您不能执行连接等操作。因此，许多 django.contrib 应用程序和其他第 3 部分应用程序可能*无法*与 mongodb 一起使用。

但是，如果您需要存储不会直接进入 postgresql 的无模式复杂对象，mongodb 可能非常有用（当然您可以 json-serialize 并放入文本字​​段，但使用 mongodb 会更好，允许您进行搜索, ..)。

所以，最好的建议是使用两个数据库：

*   PostgreSQL 用于标准应用程序，例如 django 核心、身份验证、...
*   MongoDB 仅适用于您的应用程序，当您必须存储非关系的复杂对象时

您可能还想使用`raw_*`跳过 django orm 的大量（大部分是不必要的）验证的方法。

请记住，数据库，尤其是 sql 与 no-sql，不是相互替代的，而是它们有自己的特性、优点和缺点，所以你必须找出哪种最适合你的需求，在每种情况下，不只是选择一个并将其用于所有事情。

**更新**

我忘了说：记住你必须使用[django-nonrel](http://www.allbuttonspressed.com/projects/django-nonrel) fork 才能使 django 支持非关系型数据库。它目前是 django 1.3 的一个分支，但基于 1.4 的版本正在开发中。

# c# - 使用缓存迭代器块结果的最佳实践

> ID：11913634
> 
> 赞同：3
> 
> 时间：2012-08-11T09:50:06.663
> 
> 标签：c#, linq

迭代器块的延迟加载行为导致缓存数据困难。考虑这个小测试程序：

```
class Program
{
    static IEnumerable<int> LoadDataFromDatabase()
    {
        Console.WriteLine("Hitting database....");
        yield return 13;
    }

    static IEnumerable<int> _cachedData = null;
    static IEnumerable<int> CachedData
    {
        get
        {
            if (_cachedData == null)
            {
                _cachedData = LoadDataFromDatabase();
            }
            return _cachedData;
        }
    }

    static void Main(string[] args)
    {
        Console.WriteLine(string.Format("Collection contains {0} items.", CachedData.Count()));
        Console.WriteLine(string.Format("Collection contains {0} items.", CachedData.Count()));
    }
} 
```

对此的输出是

> 击中数据库....
> 
> 集合包含 1 个项目。
> 
> 击中数据库....
> 
> 集合包含 1 个项目。

我只想访问数据库一次（因此缓存），但因为`LoadDataFromDatabase()`是一个迭代器块，实际的数据库调用是缓存的内容——而不是数据。

在这种情况下，最佳做法是什么？我应该只`_cachedData = LoadDataFromDatabase().ToList()`存储评估的数据吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-12T21:18:04.773

您可以添加`.ToList()`：

```
static IEnumerable<int> CachedData
{
    get
    {
        if (_cachedData == null)
        {
            _cachedData = LoadDataFromDatabase().ToList();
        }
        return _cachedData;
    }
} 
```

缺点是如果列表中有 100.000 个项目并且您这样做：

```
var list1 = CachedData.Take(2).Sum();
var list2 = CachedData.Take(3).Sum();
var list3 = CachedData.Take(1).Sum(); 
```

...它将加载列表的 100.000 项。

解决方案是在迭代时而不是提前实现**缓存**Enumerable`LazyList`的实现。只需替换为.**`.ToList()``.ToLazyList()`**

 **这会产生最佳选择：

*   前 3 个项目总共只加载了 1 次。
*   项目 4 从未加载过

一个惰性列表的实现示例在[这里](http://www.siepman.nl/blog/post/2013/10/09/LazyList-A-better-LINQ-result-cache-than-List.aspx)。**

# css - 用 CSS 绘制圆角三角形

> ID：11913645
> 
> 赞同：0
> 
> 时间：2012-08-11T09:51:15.697
> 
> 标签：css, drawing

我想圆这个三角形：

[http://jsfiddle.net/RNsW2/](http://jsfiddle.net/RNsW2/)

变成这样：

![在此处输入图像描述](../Images/85afad20fe8815873fc4db5eea7a924b.png)

有没有办法用 CSS 做到这一点？我不想使用图像。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-11T10:11:23.850

```
div {
    transform: rotate(45deg);
    -ms-transform: rotate(45deg); /* IE 9 */
    -webkit-transform: rotate(45deg); /* Safari and Chrome */
    -o-transform: rotate(45deg); /* Opera */
    -moz-transform: rotate(45deg); /* Firefox */
    background-color:green;
    width:100px;
    height:100px;
    position:absolute;
    top:20px;
    left:-50px;
    -webkit-border-radius: 0 20px 0 0;
    -moz-border-radius: 0 20px 0 0;
    border-radius: 0 20px 0 0;
} 
```

和[小提琴](http://jsfiddle.net/K44mE/)。

**如果您希望在没有 CSS3 支持的旧浏览器**中也能正确显示带圆角的 div ，请使用以下命令：

用 key 抓取屏幕`PrintScreen`，将其粘贴到**Paint**程序，缩小边框并保存，在[IrfanView](http://www.irfanview.com/)中打开并另存为（转换为）*透明 PNG*，然后将其转换为 Base64 图像，例如[在这里](http://www.base64-image.de/)，抓取你的结果，你的 CSS 就完成了。这里的结果：

```
div.image {
    position: absolute;
    width: 62px;
    height: 141px;
    background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAACNCAIAAABg/V7IAAAABnRSTlMA/wD/AP83WBt9AAADSElEQVR42tXdz0sbQRQH8LejhNYExIisWFtDxR4KJhdDFMUfBU8KVqkXtfkj/E+8CxK96KlexARzTw/SXgu1Xirx3hSEpsn2sKWipNnd2fnxvt/jnj48Zt48GJZxPM8jzPQk3yRnx2Yh6ReZi/5E/8zzGTw6LVLlujLwZGB6dBqPTkTlb+XBvsHCswIenYjOr86x9Pd0OP0Duq9PP00XRgt4dCIqX5Uh9B3oKPrOdF/vptz8SB6PTkRnX88467vRmesD6Jz1wXS2+lB0nvqwdIb6CHRu+mh0VvrIdD56GToTvSSdg16ebl0fi25XH5duUa+Abkuvhu7rh1PDUyNTeHTzepV0w3rFdJN69XRjei10Mz1HF92AXiNdt14vXateO12f3gRdk94QXYfeHF253ihdrd40XaHeAl3VpGCHrkRvjR5fb5MeU2+ZHkdvny6tZ0GX03OhS+gZ0aPqedEj6dnRw+s50kPqmdLD6PnSA/Ws6d313Om+fjw9nnNzj74LQkjxQ/H0yykknYg2TjYu65eQdI+8teO1u993SGv9Xxq/Gs12c/nlMljV/ex93Lv9eYtXdSJqea1kIrmUWcKrOhHtf9pveS1Ier1Rr32vQdKJqHpdRaXXbmp429RPs93Mj+Qhq37z4wZ1wbS9Niod8jSFp6cSKVT6RHoClZ51s3Mv5iDpC5kFyKr3it7VV6uQ9Pmx+aG+IUj67swuZHPMubmViRU8eo/TU3lfwTuShCOqxaqbdMHowhHH744XM4tgg4BwxNH60ebrTbAZRjjiYO1ga3KrQ4Nn7i69Le1kd8Amx+5uvvRAN1N6GDdHekg3O3p4Ny96JDcjelQ3F7qEmwVdzm2fLu22TI/jtkmP6bZGj++2Q1fitkBX5TZNV+g2SlfrNkdX7jZE1+E2Qdfk1k7X59ZL1+rWSNft1kU34NZCN+NWTzfmVkw36VZJN+xWRjfvVkO34lZAt+WOS7fojkW365anW3dL0jm4ZehM3BT1Gkw44nD9cHtymxhEgLoj0Lm5w9IZukPRebqD6WzdAXTO7m505u7/0vm7O9Mh3B3oKO7HdCD3AzqW+54O5/5LR3QTkfDnbzg3EVHpc8nDjIP7EAvwbyZ/AAASPZZ53XMTAAAAAElFTkSuQmCC');
    z-index:-1;
} 
```

和[小提琴](http://jsfiddle.net/K44mE/2/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T10:11:32.787

您可以使用 CSS 转换：

```
.arrow-right {
    width: 0; 
    height: 0;
    position: relative;
    top: 26px;
    left: -60px;
    border: 60px solid green;
    border-top-right-radius: 15px;
    -webkit-transform:rotate(45deg);
} 
```

见[http://jsfiddle.net/n3Ttf/](http://jsfiddle.net/n3Ttf/)

我的小提琴需要像 Safari 或 Chrome 这样的 Webkit 浏览器，但您可以为其他浏览器使用不同的前缀，并为 IE 使用 filter 属性：http: [//davidwalsh.name/css-transform-rotate](http://davidwalsh.name/css-transform-rotate)

# cordova - 使用带有 phonegap for iOS 的 AdMob 插件的插页式广告

> ID：11913646
> 
> 赞同：0
> 
> 时间：2012-08-11T09:51:28.113
> 
> 标签：cordova, admob, ads, phonegap-plugins, interstitial

我正在[为 phonegap 使用这个 AdMob 插件](https://github.com/smithimage/phonegap-plugins/tree/master/iPhone/AdMob)，它运行良好吗？如果你需要，你[可以在这里阅读我是如何做到](https://stackoverflow.com/questions/10675978/how-to-use-admob-phonegap-plugin-with-ios)的。我的问题是如何使用此插件为我的 iOS 应用创建插页式广告（占据整个屏幕）？

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T14:43:04.853

所以看起来你必须编写自己的代码才能让插页式广告发挥作用。看看那个插件，它看起来只适用于横幅。不知道您对 Objective C 开发有多熟悉，但我可以尝试为您提供实现的高级概述。

如果需要，您可以创建一个新插件或将其添加到现有插件中。只是把它从我的头顶扔掉，所以怀疑它是否会在没有编译错误的情况下工作，等等：

```
- (void) createInterstitial:(NSMutableArray *)arguments withDict:(NSMutableDictionary *)options
{
    NSLog(@"Create Interstitial executed");
    // Make sure you create an adInterstitial property
    if(self.adInterstitial)
        return;

    if([options objectForKey:@"siteId"])
    {
        NSLog(@"Setting site Id");
        self.siteId=[[options objectForKey:@"siteId"] description];
    }

    // Note that the GADBannerView checks its frame size to determine what size
    // creative to request. 
    //Initialize the banner off the screen so that it animates up when displaying
    self.adInterstitial = [[[GADInterstitial alloc] init] autorelease];
    // Note: Edit SampleConstants.h to provide a definition for kSampleAdUnitID
    // before compiling.
    self.adInterstitial.adUnitID = self.siteId;
    self.adInterstitial.delegate = self; 
```

}

```
- (void) loadInterstitial:(NSMutableArray*)arguments withDict:(NSMutableDictionary*)options
{    
    NSLog(@"Load interstitial executed");
    if(!self.adInterstitial)
        [self createInterstitial:arguments withDict:options];

    GADRequest *request = [self createRequest];
    [self setLocation:&request withDict:options];
    [self.adInterstitial loadRequest:request];
}

- (void)interstitialDidReceiveAd:(GADInterstitial *)interstitial {
    [interstitial presentFromRootViewController:self];
    [self.webView stringByEvaluatingJavaScriptFromString:@"window.plugins.AdMob.adViewDidReceiveAdCallback();"];

}

- (void)interstitial:(GADInterstitial *)interstitial
    didFailToReceiveAdWithError:(GADRequestError *)error {
    NSLog(@"Failed to receive ad with error: %@", [error localizedFailureReason]);
    NSString* jsString = [NSString stringWithFormat:@"window.plugins.AdMob.didFailToReceiveAdWithErrorCallback(%@);", 
                          [error localizedFailureReason]];
    [self.webView stringByEvaluatingJavaScriptFromString:jsString];
} 
```

# java - 在 Java 中查找依赖项的确切时间

> ID：11913660
> 
> 赞同：0
> 
> 时间：2012-08-11T09:53:45.533
> 
> 标签：java, jar, dependencies

Java 何时在运行时查找 Jar 文件的依赖项？

在一开始就运行它？
当它尝试初始化一个具有某种依赖性的类时？
还是其他时间？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:42:38.693

未指定加载 .class 文件的确切时间。`main`如您所知，甚至在方法开始执行之前，类路径中的所有类文件都可能被加载。

Java 唯一指定的是何时**初始化**一个类，这与加载它完全不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:51:30.183

[Java 语言规范，§12.3](http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#44487)说（我的重点）：

> 该规范允许在何时发生链接活动（**以及由于递归，加载**）时实现灵活性，前提是尊重语言的语义，在初始化之前对类或接口进行完全验证和准备，并且在链接过程中检测到的错误会在程序中的某个点引发，在该点程序采取了可能需要链接到错误中涉及的类或接口的某些操作。
> 
> 例如，实现可以选择单独解析类或接口中的每个符号引用，仅在使用时（延迟或延迟解析），或者在验证类时一次性解析它们（静态解析）。这意味着在某些实现中，在初始化类或接口之后，解析过程可能会继续。

现在，规范说 JVM*可以*做一系列事情，但很明显，任何给定的 JVM*都可以*做一件特定的事情。Marko 的回答说“甚至在`main`方法开始执行之前，类路径中的所有类文件都可能被加载”，他是对的，但事实是实际上没有 JVM 会这样做。

我相信 Sun JVM 中实际发生的事情是尽可能晚地加载内容。每当一个类被初始化时，它所引用的任何类都需要被加载和验证，但在它们自己被实际使用之前不需要初始化。我很欣赏这不是一个非常详细或权威的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T10:00:10.673

我很确定它发生在编译时。如果不满足所有要求和依赖项，您将无法获得代码的编译版本。

在编译jar的情况下，我准备了两个类：

```
public class Test {
    public static void main(String[] args) {
        System.out.println("T1: Hello world");
    Test2.greet();
    }
} 
```

和：

```
public class Test2 {
    public static void greet() {
        System.out.println("T2: Hello world");
    }
} 
```

第一次尝试运行导出的项目：

```
$ java -jar test.jar
T1: Hello world
T2: Hello world 
```

然后，从我的 jar 文件中删除 Test2.class 然后再次运行它：

```
$ java -jar test-mod.jar
T1: Hello world
Exception in thread "main" java.lang.NoClassDefFoundError: Test2
        at Test.main(Test.java:6)
Caused by: java.lang.ClassNotFoundException: Test2
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        ... 1 more 
```

T1 测试通过，然后出现 NoClassDefFoundError 异常。因此，回答您的问题：将在运行时检查依赖项。

# c# - 无需从网站下载 .net 框架即可设置项目？

> ID：11913661
> 
> 赞同：0
> 
> 时间：2012-08-11T09:54:20.317
> 
> 标签：c#

当我设置我的安装项目的先决条件时，我选择“从与我的应用程序相同的位置下载先决条件”。但是当我在客户端运行它（运行 setupfilename.msi）时，它需要我从网站下载 .net 框架。如果我运行安装程序.exe，它没有。谁能解释原因并给我一些解决方案。我只使用了.Net Framework 2.0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T03:23:38.140

你必须做这样的事情。

1.  将 .NET Framework 2.0 Setup .exe 包含到您的安装项目中。
2.  创建在客户端计算机上安装 .NET Framework 2.0 的 Bath 文件。（链接到包含的文件）
3.  安装你的程序。

笔记

*   右键单击 Setup Project > Add > File...，包括 .NET Framework 2.0 Setup .exe。
*   右键单击设置项目>查看>自定义操作，包括您的浴文件。（但我不确定 .exe 或 .bat 是否有效）

# java - Quartz StatefulJob / 非StatefulJob

> ID：11913664
> 
> 赞同：7
> 
> 时间：2012-08-11T09:54:50.923
> 
> 标签：java, quartz-scheduler

您能否向我解释一下 Quartus 中 StatefulJob 的确切含义以及它与无 StatefulJob 的区别？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-11T11:55:20.270

StatefulJob 接口，提供 2 个东西，

第一：任何时候都只会运行一个作业

第二：在 (SimpleTriggerBean) 中你不会担心你的作业运行时间。这意味着下一次运行将在前一次结束后的延迟时间后完成。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T09:56:54.870

StatefulJob 保证一次只运行一项作业。例如，如果您安排您的作业每 1 分钟运行一次，但您的作业需要 5 分钟才能完成，那么在前一个作业完成之前，该作业将不会再次运行。

这有助于确保在任何给定时间只有一个作业在运行。

下一个作业将在下一个计划中运行，而不是在上一个作业完成后立即运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-15T19:59:31.717

```
jobDetail.getJobDataMap().put("type","FULL"); 
```

这一行将决定我们使用有状态还是无状态。

1.  如果我们传递参数，那么它将是有状态的。
2.  如果没有 statefull，就无法在 execute 方法中传递参数
3.  如果我们**修改任何值**，则在执行时间处于完全状态时，执行作业将丢失，它不会在同时处理时间重新触发。
4.  一次只会执行一个作业，第二个作业将处于睡眠状态，直到第一个作业完成。
5.  在多调度过程中，第二个作业参数将在运行时共享给第一个作业。这是多调度过程中的一种缺点。

# java - 在运行时进行 Spring 上下文分析的最先进工具是什么？

> ID：11913670
> 
> 赞同：6
> 
> 时间：2012-08-11T09:55:46.950
> 
> 标签：java, spring

假设您手头有一个相当大的 Spring 应用程序（包括源），并且您希望在运行时收集有关上下文 bean 的各种信息：bean 名称、类型、类、子应用程序上下文、属性值、注释、代理结构等。

使用什么样的工具来找出答案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T11:00:53.847

我曾经维护[https://github.com/krosenvold/spring-context-analyzer](https://github.com/krosenvold/spring-context-analyzer)，它检测有问题的范围转换。春季版本可能需要一些调整> 3

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:08:23.103

看起来 SpringSource 正在提出一个名为“Live Beans Graph”的解决方案，它应该与 STS 3.1 一起提供。[https://issuetracker.springsource.com/browse/STS-2810](https://issuetracker.springsource.com/browse/STS-2810)有一些细节。

# exception - Throwable 和 Exception 在 D 编程语言中有哪些类成员？

> ID：11913673
> 
> 赞同：1
> 
> 时间：2012-08-11T09:56:00.107
> 
> 标签：exception, exception-handling, d, nested-exceptions

我特别感兴趣，我如何产生嵌套异常以及在处理它们之后如何访问它们。一些文档的链接将不胜感激。我已经尝试在 D 网站上找到它。虽然没有成功。我对D2特别感兴趣。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:08:10.360

~~`Throwable`文档：[http ://dlang.org/phobos/object.html#Throwable](http://dlang.org/phobos/object.html#Throwable)~~

`Throwable`在这里实现：[https ://github.com/D-Programming-Language/druntime/blob/master/src/object_.d#L1304](https://github.com/D-Programming-Language/druntime/blob/master/src/object_.d#L1304)

`Exception`，目前没有记录，是`Throwable`没有新字段或方法的子类。

`Error`，目前也没有记录，是`Throwable`具有一个新字段的子类：`bypassedException`，记录如下：

> 抛出此错误时绕过的第一个异常，如果没有待处理的异常，则为 null。

# java - 为什么我们需要序列化对象来将一个活动传递给 Android 中的另一个活动

> ID：11913690
> 
> 赞同：25
> 
> 时间：2012-08-11T09:58:20.830
> 
> 标签：java, android

谁能告诉我们为什么我们需要`serializable`反对将一个活动传递给android中的另一个活动？Android 遵循 Java 语法。在 java 中，我们可以将对象传递给另一个类而无需序列化。

谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-11T13:23:52.250

在普通的 java 程序中传递参数（对象类型），是一种为对象创建一个新的处理程序并赋予另一个方法（*通常的说法是通过值传递引用*）。

但是当它出现在 android 中时，将对象引用从一个活动传递到另一个活动，它们的状态必须被持久化，这是一个非常令人头疼的问题。

您可以做的一种方法是在第一个活动中创建一个静态对象并从第二个活动中访问，尽管这似乎是最简单的方法，[但不能保证系统在内存中维护活动](https://developer.android.com/guide/components/activities/activity-lifecycle#saras)。因此，第二个活动可能会丢失对象引用。

其他方式，最推荐的方式是序列化（有点扁平化对象）对象并以额外的[意图传递。](http://developer.android.com/guide/components/intents-filters.html)在android中有两种序列化方式。

1.  实现java的[可序列化](http://java.sun.com/javase/6/docs/api/java/io/Serializable.html)接口
2.  实现android的[parcelable](http://developer.android.com/reference/android/os/Parcelable.html)接口

但是，在 android 上，使用 serializable 会严重影响性能，解决方案是使用 parcelable。

[你可以在这里](http://shri.blog.kraya.co.uk/2010/04/26/android-parcel-data-to-pass-between-activities-using-parcelable-classes/)找到关于 android parcelable 实现的非常好的教程和解释。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2018-05-04T06:21:08.457

在得到答案之前，我们需要了解以下概念：

*   Android`Binder`用于进程间进程。即使是简单的应用程序也需要它，因为操作系统和应用程序在不同的进程中运行。
*   **编组：** 将更高级别的应用程序数据结构转换为包裹以便嵌入到 Binder 事务中的过程
*   **Unmarshalling** 从通过活页夹事务接收的包裹重构更高级别的应用程序数据结构的过程。
*   您可以将`Intents`其视为更高级别的 Binder 抽象

根据以下[文档](https://developer.android.com/guide/components/intents-filters#Types)，意图通信是如何发生的： [![在此处输入图像描述](../Images/7b3d17799594ca34fb5b78d07ace0bd6.png)](https://i.stack.imgur.com/Eotmq.png)

> 1.  Activity A 创建一个带有动作描述的 Intent 并将其传递给 startActivity()。
>     
>     
> 2.  Android 系统会在所有应用程序中搜索与意图匹配的意图过滤器。找到匹配项时，
>     
>     
> 3.  系统通过调用其 onCreate() 方法并将 Intent 传递给它来启动匹配的活动（活动 B）。

## **为什么是 Parcelable 或 Serializable**

IPC（进程间通信）要求对数据`Intent`进行编组和解组。Binder 为编组许多常见数据类型提供内置支持。但是，当我们定义自定义对象时，它会影响此过程，并且在此过程中收到的最终对象可能会损坏。

当您定义自定义对象时，您需要负责提供这种编组和解组，这是通过 Parcelable 和 Serializable 实现的（因为这两者之间的比较将是另一个主题，我不会在这里讨论太多）。这两者都提供了执行编组和解组的机制。这就是您需要使用 Parcelable 或 Serializable 的原因。

使用**Parcelable**，您可以编写用于编组和解组对象的自定义代码，从而完全控制该过程。

**Serializable**是一个标记接口，这意味着用户不能根据他们的要求编组数据并且它在 JVM 上完成，这不会给你任何控制权。

> **免责声明：**以上描述是我根据一些文档对需要序列化背后的基本原理的理解

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-05-10T08:08:28.997

您的问题基本上有两个问题，所以让我们将其解耦。

## 为什么在 Parcelable 中编组而不是直接传递对象引用？

引用对象而不是编组/解组它们显然更快，内存效率更高。因此，当您可以直接传递对象时，您不应该使用 Parcelable。

但是，在某些情况下您可能无法访问对象引用。

*   `Intent`因为处理的进程可能`Intent`不是发出的进程`Intent`（它是进程间通信）
*   在`Activity`生命周期中，例如在 中`onRestoreState()`，因为当用户想要恢复它时，整个应用程序可能已被 memkiller 杀死。
*   Android框架需要的其他地方

## 在 IPC 中，为什么要使用 Parcelable 而不是像 Java 那样使用 Serializable 呢？

那只是[性能优化](http://www.developerphil.com/parcelable-vs-serializable/)。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-11T10:03:51.920

如果我们想将对象从 Activity 传递到另一个 Activity 。我们需要保存传递​​状态。

```
//to pass :
   intent.putExtra("MyClass", obj);  

// to retrieve object in second Activity
getIntent().getSerializableExtra("MyClass"); 
```

# java - Java Play 2 - 模板

> ID：11913696
> 
> 赞同：0
> 
> 时间：2012-08-11T09:59:10.743
> 
> 标签：java, templates, playframework-2.0

我从示例“表单”构建了我的 webapp。Forms 有一个名为“main.scala.html”的模板，带有 twitter bootstrap 的固定导航栏。它真的很容易使用，我可以将它包含在我的所有模板中。

但现在我有一个小问题。

我想在这个导航栏中渲染两个不同的东西。如果用户尚未登录，则为登录按钮，如果用户已登录，则为注销按钮。

烦人的部分是我必须对我的**所有**模板都这样做。

*   这是正确的方法吗？
*   或者这个问题有更好的解决方案吗？

编辑：

也许我可以阅读模板中的会话？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T11:23:28.150

是的，您可以从模板中读取会话，但我建议您阅读可能适合您需要的问题和答案：[如何避免在 play2 中到处传递参数？](https://stackoverflow.com/questions/9629250/how-to-avoid-passing-parameters-everywhere-in-play2)

# android - Android --> java.net.ProtocolException: OutputStream 不可用，因为请求标头已经发送

> ID：11913699
> 
> 赞同：1
> 
> 时间：2012-08-11T09:59:12.597
> 
> 标签：android, json, drupal, httpurlconnection

我正在尝试使用 HttpUrlConnection 从 android 应用程序将数据（用于登录的 JSON 格式的用户名和密码）发布到 php 服务器 - drupal cms 网站。这是我的代码，用于登录。我收到了这样的回复：

> java.net.ProtocolException：OutputStream 不可用，因为请求标头已经发送！

我搜索了 google 和其他 stackoverflow 问题，但找不到任何解决我的问题的方法。所以请帮忙。

谢谢收听。

```
 HttpURLConnection httpcon = null;
          int status = 0;

         try {
              httpcon = (HttpURLConnection) ((new URL("my URL here").openConnection()));
              httpcon.setDoOutput(true);
              httpcon.setRequestProperty("Content-Type", "application/json");
              httpcon.setRequestProperty("Accept", "application/json");
            httpcon.setRequestMethod("POST");

               status = httpcon.getResponseCode();

               httpcon.getHeaderFields();
               System.out.println("===================>httpcon.getHeaderFields()"+httpcon.getHeaderFields());

        } catch (ProtocolException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (MalformedURLException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

          try {
            httpcon.connect(); 
             byte[] outputBytes = "{'username':'uname','password':'pass'}".getBytes("UTF-8");

             OutputStream os = httpcon.getOutputStream();
              os.write(outputBytes);

              os.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return status; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T11:06:37.213

您在代码的第一部分调用`httpcon.getResponseCode()`and 。`httpcon.getHeaderFields()`正如 javadoc 中提到的[`HttpUrlConnection`](http://developer.android.com/reference/java/net/URLConnection.html#getHeaderFields%28%29)，这会导致 HTTP 请求被执行。这是有道理的，因为要读取响应标头字段，您需要响应，而要获得响应，您必须发出请求。

然后你做输出流的东西，因为请求已经发送而失败。

要完成这项工作，您需要重新排序代码，以便在访问响应内容之前设置所有请求内容。这些方面的东西：

```
byte[] outputBytes = "{'username':'uname','password':'pass'}".getBytes("UTF-8");
try {
    HttpURLConnection httpcon = (HttpURLConnection) ((new URL("my URL here").openConnection()));

    //prepare the request
    httpcon.setDoOutput(true);
    httpcon.setRequestProperty("Content-Type", "application/json");
    httpcon.setRequestProperty("Accept", "application/json");
    httpcon.setRequestMethod("POST");
    httpcon.connect(); // May not be needed
    OutputStream os = httpcon.getOutputStream();
    os.write(outputBytes);

    //get the response
    status = httpcon.getResponseCode();
    httpcon.getHeaderFields();
    System.out.println("===================>httpcon.getHeaderFields()"+httpcon.getHeaderFields());
} //catch block left out 
```

# java - 休眠 @orderby 似乎不起作用

> ID：11913701
> 
> 赞同：0
> 
> 时间：2012-08-11T09:59:44.353
> 
> 标签：java, hibernate

我有两个实体，用户和评论，它们都是 POJO。评论有对用户的引用。

```
@ManyToOne
@JoinColumn(name = "user_id")  
private User user;  // saves the User's id as a foreign key to Comment table 
```

评论还有一个字段 addedDate，它是一个日期。

```
@OrderBy
@Column(name = "date_added")
private Date addedDate; 
```

当 Hibernate 从数据库中检索数据时，我希望评论按 addedDate 排序，但遗憾的是它按用户排序。即使我用 @OrderBy (javax.persistence.OrderBy) 注释字段“addDate”，它似乎也没有任何效果。

我想要的是：userX earlyComment，userY earlyComment，userX lateComment，userY lateComment，

但我得到的是：userX earlyComment，userX lateComment，userY earlyComment，userY lateComment，

我在这里似乎有类似的问题，但我发现没有一个能解决我的问题。
我做错了什么？任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:12:36.913

首先，我相信`@OrderBy`注释应该适用于您`Collection`作为成员的情况，以便可以对集合元素进行排序。

因此，添加`@OrderBy`外键引用没有用，因为对于单个对象排序无关紧要。

看[订单](http://docs.oracle.com/javaee/5/api/javax/persistence/OrderBy.html)说

> 此注释指定在检索关联时集合值关联的元素的顺序。

现在，对于您的解决方案，您需要在查询数据库时添加 order by 显式子句。

# nagios - Nagios 可以发送周期性事件的警报吗？

> ID：11913702
> 
> 赞同：0
> 
> 时间：2012-08-11T09:59:50.287
> 
> 标签：nagios

nagios 中是否有任何插件或工具可以做到这一点：例如，CPU 负载在 2 秒内上升到 80% 不会有问题。如果它保持在 80%++ 至少 5 分钟，我想收到警报。可能吗？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-15T21:58:57.840

是的。只需将您的`retry_interval`to`1`和您的`max_check_attempts`to设置为`5`，Nagios 将在发出警报之前重试检查 5 次（5 百万）。如果在所有重试后问题仍然存在，它将发送警报。

# android - Android 中语音识别使用的比较：按意图还是线程上？

> ID：11913704
> 
> 赞同：14
> 
> 时间：2012-08-11T10:00:08.847
> 
> 标签：android, android-intent, speech-recognition, speech-to-text

# 介绍

Android 为我提供了两种使用语音识别的方法。

第**一种**方法是通过`Intent`, 就像在这个问题中一样：[Intent example](https://stackoverflow.com/questions/7335694/implementing-recognizerintent-in-android)。一个新`Activity`的被推到堆栈的顶部，它倾听用户的声音，听到一些语音，尝试转录它（通常通过云），然后通过`onActivityResult`调用将结果返回给我的应用程序。

第二**个**是通过获取一个`SpeechRecognizer`，就像这里的代码：[SpeechRecognizer 示例](https://stackoverflow.com/q/4559930/705048)。在这里，看起来语音是在其他线程上录制和转录的，然后回调给我带来结果。这是在*不离开我`Activity`*的情况下完成的。

我想了解**这两种语音识别方式的优缺点**。

# 到目前为止我所拥有的

使用`Intent`：

*   编码简单
*   避免重新发明轮子
*   在整个设备上提供一致的语音识别用户体验

但

*   使用自己的窗口创建新活动可能会很慢

使用`SpeechRecognizer`：

*   让我在我的应用程序中保留对 UI 的控制
*   给了我额外的可能性来回应（[文档](http://developer.android.com/reference/android/speech/RecognitionListener.html)）

但

*   仅限于从主线程调用
*   更多的控制需要更多的错误检查。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-14T00:19:44.917

除了所有这些，我至少要补充一点：

`SpeechRecognizer`更适合免提用户界面，因为您的应用实际上会响应“不匹配”之类的错误条件，并且可能会自行重启。当您使用 时`Intent`，应用程序会发出哔哔声并显示一个对话框，用户必须按下该对话框才能继续。

我的总结如下：

语音识别器

*   显示不同的 UI 或根本不显示 UI。您真的希望您的应用程序的用户界面发出哔哔声吗？您真的希望您的 UI 在出现错误时显示对话框并等待用户单击吗？

*   应用程序可以在语音识别发生时做其他事情

*   可以在后台运行或从服务中识别语音

*   可以更好地处理错误

*   可以访问原始音频或 RMS 等低级语音内容。分析该音频或使用响度发出某种闪光以表明应用正在收听

意图

*   为用户提供一致且易于使用的 UI
*   易于编程

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:47:39.013

主要区别在于用户界面。`SpeechRecognizer`没有，所以你有责任创建一个。
我曾经写过一个原型，我有一个用于听耳机按钮的接收器，然后激活语音识别来听一些命令。屏幕没有激活，所以我不得不使用`SpeechRecognizer`（我的 UI 是一些预先录制的声音和文本转语音）。

第二个区别是`SpeechRecognizer`具有持续倾听的能力。意图版本总是会在一段时间后结束强制执行。例如`SpeechRecognizer`，语音识别“键盘”使用，因此您可以口述 SMS。
在这种情况下，您将仅收到部分结果（在正常模式下`SpeechRecognizer`仅给出最终结果）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-23T07:30:45.033

其他答案没有提到的一件事：如果设备上安装了多个语音识别器，那么用户在它们之间的切换会有所不同，具体取决于是否`SpeechRecognizer`使用了“意图”或 。

*   如果是“意图”，则会弹出标准活动选择对话框。用户可以选择要使用的识别器，并可选择将其全局设置为默认识别器，以避免将来出现对话框。
*   如果`SpeechRecognizer`用户可以在全局设置中设置和配置默认识别器（`Language and input -> Voice recognizer`在 ICS 上）。

因此，根据使用的接口，有关设置默认识别器和在识别器之间切换的文档应该是不同的。（在大多数情况下，虽然只有一个识别器，谷歌语音搜索，所以这在实践中可能不是一个大问题。）

# java - 为什么 replaceAll 因“非法组引用”而失败？

> ID：11913709
> 
> 赞同：79
> 
> 时间：2012-08-11T10:00:57.323
> 
> 标签：java, regex

我需要更换

```
\\\s+\\$\\$ to $$ 
```

我用了

```
String s = "  $$";
s = s.replaceAll("\\s+\\$\\$","$$"); 
```

但它抛出异常

> java.lang.IllegalArgumentException：非法组引用

* * *

## 回答 #1

> 赞同：112
> 
> 时间：2013-11-15T13:54:58.410

从[String#replaceAll javadoc](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-)：

> 请注意，替换字符串中的反斜杠 (\) 和美元符号 ($) 可能会导致结果与将其视为文字替换字符串时的结果不同；请参阅 Matcher.replaceAll。如果需要，使用 Matcher.quoteReplacement(java.lang.String) 来抑制这些字符的特殊含义。

因此，可以使用[Matcher#quoteReplacement](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-)转义任意替换字符串：

```
String s = "  $$";
s = s.replaceAll("\\s+\\$\\$", Matcher.quoteReplacement("$$")); 
```

也可以使用[Pattern#quote完成模式的转义](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-)

```
String s = "  $$";
s = s.replaceAll("\\s+" + Pattern.quote("$$"), Matcher.quoteReplacement("$$")); 
```

* * *

## 回答 #2

> 赞同：60
> 
> 时间：2012-08-11T10:09:51.650

`"\\$\\$"`在第二个参数中使用：

```
String s="  $$";
s=s.replaceAll("\\s+\\$\\$","\\$\\$");
//or
//s=s.replaceAll("\\s+\\Q$$\\E","\\$\\$"); 
```

`$`正则表达式的替换参数中的is 组符号

所以你需要逃避它

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-11T10:10:00.747

这里的问题不是正则表达式，而是替换：

$ 用于指代`()`匹配组。因此，您还需要使用反斜杠（以及第二个反斜杠以使 java 编译器满意）对其进行转义：

```
String s="  $$";
s = s.replaceAll("\\s+\\$\\$", "\\$\\$"); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-12-14T17:47:09.733

这是正确的方法。用转义的 \\$ 替换文字 $ `str.replaceAll("\\$", "\\\\\\$")`

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-01-15T10:45:26.283

```
import java.util.regex.Pattern;
import java.util.regex.Matcher;
public class HelloWorld{

 public static void main(String []args){
 String msg = "I have %s in my string";

    msg = msg.replaceFirst(Pattern.quote("%s"), Matcher.quoteReplacement("$"));
    System.out.println(msg);
 } 
```

}

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-01-12T18:51:46.537

我遇到了同样的问题，所以我最终实现了用 split 替换所有内容。
它为我解决了异常

```
public static String replaceAll(String source, String key, String value){
    String[] split = source.split(Pattern.quote(key));
    StringBuilder builder = new StringBuilder();
    builder.append(split[0]);
    for (int i = 1; i < split.length; i++) {
        builder.append(value);
        builder.append(split[i]);
    }
    while (source.endsWith(key)) {
        builder.append(value);
        source = source.substring(0, source.length() - key.length());
    }
    return builder.toString();
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-11T10:10:21.060

`$`在替换字符串和正则表达式中具有特殊含义，因此您也必须在此处对其进行转义：

```
s=s.replaceAll("\\s+\\$\\$", "\\$\\$"); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-11T10:12:12.547

```
String s="$$";
        s=s.replaceAll("\\s+\\$\\$","$$"); 
```

# javascript - 将链接 URL 变量传递给 javascript

> ID：11913710
> 
> 赞同：1
> 
> 时间：2012-08-11T10:01:21.157
> 
> 标签：javascript

我正在尝试创建一个链接，人们可以将其放在他们自己的网站上，该链接可以链接回他们在我网站上的个人资料。

我已经使用javascript创建了“小部件”，所以有一个简化的.js文件......

```
document.write("Visit my profile at...");
document.write("    <a href=\"myprofilelink.html\">Click To View</a>"); 
```

我希望能够创建一个对它的调用，该调用会自动在 javascript 中包含配置文件链接，例如，类似....

```
<script src="widget.js" id="myprofilelink.html></script> 
```

有人可以指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:13:19.527

您可以在包含小部件脚本之前创建一个变量。

```
<script type="text/javascript">var profileLink = "myprofilelink.html";</script>
<script type="text/javascript" src="widget.js"></script> 
```

然后你可以在你的 widget.js 文件中使用这个变量：

```
document.write("<a href=\"" + profileLink + "\">Click To View</a>"); 
```

如果您想了解如何使用更高级的 JavaScript 小部件，我建议您阅读[开发可嵌入的 Javascript 小部件](http://www.shootitlive.com/2012/07/developing-an-embeddable-javascript-widget/)。

# java - 在将 android 平板电脑与蓝牙设备配对后使用 logcat

> ID：11913711
> 
> 赞同：0
> 
> 时间：2012-08-11T10:01:30.360
> 
> 标签：java, android, debugging, logging

出于某种原因，在我通过蓝牙将平板电脑与其他设备连接后，我的日志消息似乎没有出现。我创建了一条日志消息说 Log.d (TAG, "On Create") 并且我在我的 logcat 中看到了这个，但是当我将平板电脑与设备连接时，这突然从我的 logcat 中消失了，之后放置的消息不要' 根本不出现（通过使用 toast 来验证）。这是蓝牙的问题还是我缺少其他东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:43:49.400

试试看

```
 Log.e(TAG, "On Create") 
```

# windows-phone-7 - 运行 Windows Phone 模拟器时系统卡住

> ID：11913719
> 
> 赞同：0
> 
> 时间：2012-08-11T10:02:32.670
> 
> 标签：windows-phone-7, windows-7, windows-phone-7.1

我正在使用 Windows 7 32 位和 3GB RAM 中的 wp7.1 SDK 在 Visual Studio 2010 Ultimate 中为 Windows Phone 开发应用程序。当我在 wp7 Emulator 上运行应用程序时（每小时 2 或 3 次），我的系统经常卡住，然后有时会重新启动。在重新启动之前，它会显示消息：“显示驱动程序停止响应并恢复”并导致蓝屏显示“与系统管理员联系的一些行”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T00:19:38.820

我不知道为什么，需要更多细节。尝试为 SDK 安装 7.1.1 更新，它适用于低配置设备，但我只是希望这也能解决您的问题。

[http://www.microsoft.com/en-us/download/details.aspx?id=29233](http://www.microsoft.com/en-us/download/details.aspx?id=29233)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-12T08:52:38.943

有同样的问题。只需启动您的 sdk 安装程序。将有一个修复删除的选项。我先修复了我的sdk，但它仍然无法正常工作。然后我删除了我的sdk并重新安装了它。像魅力一样工作。

但是您必须知道我也无法删除我的 sdk。我的防病毒软件做错了什么并停止卸载我的 sdk。所以我不得不删除我的防病毒软件......而不是我的sdk。比重新安装sdk，重新安装防病毒软件。

之后一切都很好。

# php - symfony2 fos 用户表单标签

> ID：11913725
> 
> 赞同：0
> 
> 时间：2012-08-11T10:03:28.537
> 
> 标签：php, forms, symfony, fosuserbundle

如何将表单标签设置为 fos_user_registration_form_X 以外的其他内容？

例如，我有一个实体字段，其中列出了带有复选框的实体，并且我设置了属性 => 名称，但复选框的标签确实不是实体的 $name，但 fos_user_bundle 似乎用某些机器类型覆盖了它-标签

fos_user_registration_form_access_17

这确实是我的 fos_user_forms 中所有其他标签的格式，我似乎无法找到这些标签字符串的定义位置。我对以后翻译我的应用程序没有兴趣，我是否必须启用翻译才能获得人类可读的标签？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T12:51:57.550

您可以只覆盖`FOSUserBundle`使用...的 Form 类

[在此处](https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/overriding_forms.md)阅读有关如何执行此操作的更多信息

# php - 在php中获取两个日期之间每天的总数

> ID：11913730
> 
> 赞同：-5
> 
> 时间：2012-08-11T10:04:48.923
> 
> 标签：php, intervals, datediff, days

如果我给出 2 个日期，我需要如下结果 -

```
SUNDAY = 3 TIMES
MONDAY = 3 TIMES
TUESDAY = 4 TIMES
WEDNESDAY = 4 TIMES
THURSDAY = 4 TIMES
FRIDAY  = 4 TIMES
SATRUDAY = 4 TIMES 
```

如果这可以通过 mysql 中的任何函数完成，或者我必须从 php 完成，我感到很困惑。我在mysql中尝试了各种方法，但都没有成功。我在 php 中尝试它，但代码有点长。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:09:49.250

尝试;

```
define('ONE_WEEK', 604800); // 7 * 24 * 60 * 60

function number_of_days($day, $start, $end)
{
    $w = array(date('w', $start), date('w', $end));

    return floor( ( $end - $start ) / ONE_WEEK ) + ( $w[0] > $w[1] ? $w[0] <= $day || $day <= $w[1] : $w[0] <= $day && $day <= $w[1] );
}

//$start = $end = time();

echo number_of_days(0, $start, $end); // SUNDAY
echo number_of_days(1, $start, $end); // MONDAY
echo number_of_days(2, $start, $end); // TUESDAY
echo number_of_days(3, $start, $end); // WEDNESDAY
echo number_of_days(4, $start, $end); // THURSDAY
echo number_of_days(5, $start, $end); // FRIDAY
echo number_of_days(6, $start, $end); // SATURDAY
?> 
```

# c# - mklink，Visual Studio 2010 (C#) 中的目标替换被拒绝

> ID：11913732
> 
> 赞同：1
> 
> 时间：2012-08-11T10:04:54.630
> 
> 标签：c#, visual-studio-2010, mklink

mklink 在以下帐户上的行为非常奇怪：

1.  它需要以管理员身份运行 command.exe（有什么用？），尽管我已经是管理员用户

2.  如果我有一个符号链接 app.exe -> app.20.21.exe 然后 Visual Srudio 2010 拒绝首先编译到 app.20.21.exe（无法将文件“obj\x86\Debug\zTest2.exe”复制到“... ......\fl\bin\app.20.21.exe". 访问路径'.......\fl\bin\app.20.21 .exe' 被拒绝）

但是，如果您等待几分钟（什么都不做），那么 VS 会通过魔术将相同的文件编译到先前拒绝的目标上 OK！

有什么补救措施吗？（除了以管理员身份运行所有内容）关于 mklink 的任何体面的文档？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T11:00:59.673

你一定有删除文件的经验？？？

有时，我们尝试删除其他进程正在使用的文件，结果我们收到一条消息

> 拒绝访问！！

在这种情况下也会发生同样的事情，当某个进程已经在您的应用程序上运行并且同时您想要对其执行清理/删除操作时，显然它会失败，因为它处于锁定状态并且为了避免数据损坏操作系统不会允许对资源的任何写入事务，直到前一个任务完成。

因此，最好找出编译速度缓慢且资源仍处于锁定状态的原因。否则第二个选择是等待一段时间直到 VS 完成。

# css - CSS Sprite：为多个类别设置精灵图像

> ID：11913737
> 
> 赞同：2
> 
> 时间：2012-08-11T10:05:37.397
> 
> 标签：css, css-sprites

我目前正在为我的网站使用 css sprite 图像。但我遇到了 CSS 样式问题。我有 6 个类别，每个类别旁边都有一个图像。应用图像精灵时，我得到相同对象的重复图像。

如何通过 css 和 sprite 获取每个类别及其各自的图像？如果您想查看下面的实时示例，请查看链接。（对于可怕的 html 结构感到抱歉）

谢谢

**它的外观：**

*精灵图片：* [点击这里](http://webprolearner2346.zxq.net/css-test/#)

*个别图片：* [点击这里](http://webprolearner2346.zxq.net/css-test2/)

**期望的结果：**

![在此处输入图像描述](../Images/e45a85d50742d542fa7fe8d248461aad.png)

**CSS 部分相关**

```
<style>

    #index_categories {
        background: #fff;
        float: left;
        width: 255px;
        height: 125px;
        margin: 10px 15px 10px 40px;
        padding: 5px;
        font-size: 97%;
        vertical-align: middle;
        background: url( http://webprolearner2346.zxq.net/css-test/images/categories.png) no-repeat top left;
    }
    .index_thumb {
        padding: 5px;
    }

    .index_categories_list {
        text-indent: 5px;
        padding-left: 10px;
    }
    .index_cat {
        list-style-type: none;
    }
    #listing {
        background: #fff;
        width: 95%;
        height: 115px;
        padding: 10px;
        margin-bottom: 10px;
        margin-right: 5px;
        margin-left: 5px;
        margin-top: 5px;
    }
    .listing_pic {
        float: left;
        padding: 10px;
    }
    #whitebox {
        background: #fff;
        width: 95%;
        min-height: 200px;
        padding: 10px;
        margin-bottom: 10px;
        margin-right: 5px;
        margin-left: 5px;
        margin-top: 5px;
    }

    .sprite-books{ background-position: 0 0; width: 87px; height: 87px; } 
    .sprite-tshirt{ background-position: 0 -137px; width: 87px; height: 87px; } 
    .sprite-stereo{ background-position: 0 -274px; width: 83px; height: 83px; } 
    .sprite-chair{ background-position: 0 -407px; width: 87px; height: 87px; } 
    .sprite-key{ background-position: 0 -544px; width: 83px; height: 83px; } 
    .sprite-cake{ background-position: 0 -677px; width: 87px; height: 87px; } 
    </style> 
```

**HTML 片段**

```
<div class="contentPost" style="height:900px;">
<div id="index_categories" class="sprite-books">
    <h3><a class="frontLinks" href="#">Category 1</a></h3>
    <ul class="index_cat">
        <li><a href="#">Books</a></li>
    </ul>
 </div>
 <div id="index_categories " class="sprite-stereo">
    <h3><a class="frontLinks" href="#">Category 2</a></h3>
    <ul class="index_cat">
          <li><a href="#">Stereo</a></li>   
    </ul>
  </div>
   <div id="index_categories" class="sprite-chair">
     <h3><a class="frontLinks" href="#">Category 3</a></h3>
     <ul class="index_cat">
        <li><a href="#">Chair</a></li>
     </ul>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:49:45.887

[CSS Sprite *(Google)*](https://www.google.com/search?sugexp=chrome,mod=11&sourceid=chrome&ie=UTF-8&q=css+sprites)是一个大图像（很可能是 .png），由您需要的所有图像（在 yoyr 的情况下为 6 个）组成，采用网格状结构。好处是您将只需要一个 HTTP 请求而不是`N`HTTP 请求（`n`您的图像数量在哪里）。

您的问题看起来像 CSS 样式。但是，如果您想使用精灵，则需要一张具有透明背景且宽度为 x*n 的主图像 (sprite.png)（其中`X`= 一个 div/类别的宽度，如您在`Desired Outcome`问题中所示。`N`= 数量总图像，此处为 6。） 的高度`sprite.png`应等于图像中最高的。

`stero.png`因此，将所有图像复制到如上所述`books.png`的新图像中。`sprite.png`

然后您可以使用以下**HTML：**

```
<div id="wrapper">
    <div class="row">
        <div id="books" class="cell">
        </div><!--//books-->
        <div id="stereo" class="cell">
        </div><!--//stereo-->
        <div id="pen" class="cell">
        </div><!--//pen-->
    </div><!--//row-->
    <div class="row">
        <div id="mag" class="cell">
        </div><!--//mag-->
        <div id="bag" class="cell">
        </div><!--//bag-->
        <div id="paper" class="cell">
        </div><!--//paper-->
    </div><!--//row-->
</div><!--//wrapper--> 
```

**CSS：**

```
#wrapper{
    margin: 5px auto; // to center the div on page
    width: 80%;
}
.row{ //stack'em in 3x2 grid
    clear:both;
}
.cell{
    background-color: #fefefe;
    background-url: images/sprite.png;  //Set common background UR
    float: left;                        //stack each other to left
    height: 15px;                       //desired height
    width: 30px;                        //desired width
    border: 3px solid #c3c3c3;          //set border
}

//set specific background-position for each div
//(Remember we are using same image for all these divs?
#books{ background-position: -0px -0px; }   //image starts at top:0, left:0px
#stereo{ background-position: -0px -30px; } //image starts at top:0, left:30px
#pen{ background-position: -0px -60px; }    //image starts at top:0, left:60px
#mag{ background-position: -0px -90px; }
#bag{ background-position: -0px -120px; }
#paper{ background-position: -0px -150px; } 
```

您还可以使用现有的 6 张图像来达到您想要的结果。只需设置所需的高度，div 的宽度。设置`background-position:top-left;`。如果图像小于 div 的尺寸，则图像将放置在左上角。

**编辑：**

好的，看到你的实时页面的代码。您已经在使用精灵文件。

从查看您的`How It looks`&`Desired`页面来看，您似乎想在图像的右下角添加额外的空白。正确的？？如果是，您可以在 categories.png 中添加所需的空白并`background-position:top-left;`在 CSS 中使用。它将防止图像在水平侧重复。

# wordpress - 如何减少 Wordpress 主题中的网页宽度？

> ID：11913742
> 
> 赞同：0
> 
> 时间：2012-08-11T10:06:51.950
> 
> 标签：wordpress, column-width

这是我的页面：[http ://www.theonewhogetsit.com/shorter-width/](http://www.theonewhogetsit.com/shorter-width/)

大的宽度使读者难以阅读它。

我想基本上将页面的宽度减半（**但仅限于此页面**）。

你怎么看？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:18:20.007

欢迎来到堆栈溢出！这是一种有时需要在这个网站上粘贴的问题，但不要让它让你觉得它不那么棒了:)

你想为这个页面创建一个自定义模板，这里是如何去做的链接；

[WordPress 自定义模板](http://codex.wordpress.org/Theme_Development#Custom_Page_Templates)

您将复制现有的 page.php 模板，按照上面的说明重命名，然后更改该模板中的 HTML 标记，以便将包含的 div`<?php the_content; ?>`包装在新的 id 或类中。然后，您将使用 CSS 将该 id/class 的宽度设置为 50%。

这是一个粗略的指南，如果您遇到困难，请返回具体问题 - 从模板和 CSS 中粘贴您的代码，您将在此处获得快速答案。祝你好运。

# cmd - windows cmd：如何通过换行符传递参数？

> ID：11913743
> 
> 赞同：4
> 
> 时间：2012-08-11T10:07:04.307
> 
> 标签：cmd, line-breaks

我正在尝试一些类似的东西

```
cmd> svn ci -m "argument" 
```

而我想成为多行文本的“论点”。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:09:08.890

你不能用`cmd`. 命令行`-m`选项只接受一行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-09-09T00:05:25.433

我找到了另一个可能很有趣的[答案](https://superuser.com/a/150120/282374)`^`：您可以使用. （似乎您无法在带引号的字符串中转义 args，但这可能没问题，因为您的示例不需要引号？）

如果我想`echo`

```
ab
c
d 
```

我会输入这个

`e` `c` `h` `o` `SPACE`

`a` `b` `^` `ENTER` `ENTER`

`c` `^` `ENTER` `ENTER`

`d` `ENTER`

看起来像这样：

```
>echo ab^
More?
More? c^
More?
More? d
ab
c
d 
```

# .htaccess - 如何使用 htaccess 更改 url 中的参数

> ID：11913744
> 
> 赞同：-1
> 
> 时间：2012-08-11T10:07:29.873
> 
> 标签：.htaccess

我想更改我的网址：

```
http://my-domain.com/blog/thinking-something-in-hataccess 
```

至：

```
http://my-domain.com/article/thinking-something-in-hataccess 
```

使用 htaccess？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T18:00:22.740

确保所有链接都指向`http://my-domain.com/article/thinking-something-in-hataccess`，然后您可以将其添加到文档根目录中的 htaccess 文件中：

```
RewriteEngine On
RewriteRule ^/?blog/(.*)$ /article/$1 [L] 
```

您可能需要在此处调整正则表达式以更具体地匹配您需要的内容。例如，替换`(.*)`为`([^/]*)`将匹配`something-something`，但不是`something/something`。

# jquery - Froogaloop 加载资源失败

> ID：11913751
> 
> 赞同：1
> 
> 时间：2012-08-11T10:07:59.950
> 
> 标签：jquery, vimeo, froogaloop

我正在使用当前版本的 Jquery 和 Froogaloop。问题不是有害的，视频仍然可以播放，但是每当您尝试清理视频（在 Firefox 中）时，视频就会消失，并且我在 vimeo 视频上收到一个非常有用的错误消息，说“加载此视频时遇到错误视频”。在 JS 控制台中，我得到“加载资源失败”。这比什么都烦人，这个问题也在 Chrome 中随机发生。

下面是我的代码

```
function init() {
      var source = $('#0').attr('name'),
      title = $('#0').attr('title');
      frame = buildIframe(source, title),
      iframe = $('#player')[0],
      player = $f(iframe);
      player.addEvent('ready', function() {
        player.addEvent('finish', onFinish);
      });
      window.location.hash = $('#0').attr('title');
    }
     init();

     function buildIframe(source, title) {       
       $('#player').attr('title', title);
       $('#player').attr('src', ('http://player.vimeo.com/video/'+ source +'?api=1&player_id=player'));
       iframe = $('#player');

       return iframe;
     }

     function onFinish(id) { 
        //close the video player
 }

//the html
<iframe id="player" title="" src="" frameborder="0" width="840px" height="358px" webkitAllowFullScreen mozallowfullscreen allowFullScreen/></iframe>

<ul id="videos">
  <li id="0" name=VIMEOID title=VIDEOTITLE width="50px" height="28px" >First Vid</li>
</ul> 
```

除了愚蠢的擦洗错误之外，这一切都有效，任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T05:29:13.183

好的，所以通过与 vimeo 的对话，他们告诉我这是浏览器继承的问题。您不应该使用不同的 DNS 来加载资源，因此它会起作用，但浏览器不会对此感到满意。

# ruby-on-rails - Rails 控制台中的多个条件

> ID：11913757
> 
> 赞同：0
> 
> 时间：2012-08-11T10:08:32.357
> 
> 标签：ruby-on-rails

您好，我发现很难完成这项工作。

我有一个错误，它是语法错误。

我想使用 where 子句来查找在指定日期内创建的用户，同时查找那些没有个人资料图片的用户

我这里有

```
User.where(:conditions => {"date(created_at) = ? AND profilepic = ?", '2012-08-10', 'nil'}) 
```

有什么问题。还有其他方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:14:34.060

它应该是

```
User.where('date(created_at) = ? AND profilepic IS NULL',  '2012-08-10') 
```

# objective-c - 在iOS中使用它的类型过滤文件并将其放入特定目录的数组中

> ID：11913759
> 
> 赞同：0
> 
> 时间：2012-08-11T10:08:50.893
> 
> 标签：objective-c, ios, path

我需要查找具有特定类型的文件并将它们放入一个数组中。我找到了这样的代码：

```
NSArray* pdfs = [[NSBundle mainBundle]
                  pathsForResourcesOfType:@"pdf" inDirectory:nil]; 
```

但是此代码访问我的应用程序包，而不是 Documents 目录。

我还找到了获取 Documents 目录的代码：

```
NSString* doc = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);; 
```

但是，我只是不知道如何在 Documents 文件夹中获取 pdf 文件的路径。我已经尝试将`inDirectory:`pdfs中的参数值更改为`@"~/Documents"`，但仍然无法更改目录路径。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:52:10.977

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
documentsDirectory = [documentsDirectory stringByAppendingPathComponent:@"abcd.pdf"];
BOOL success = [[NSFileManager defaultManager] fileExistsAtPath:documentsDirectory];
if (success == YES){
  //Do your stuff here if file found at documents directory
}
else{
  //file not found
} 
```

要获取文档目录中的文件数组：

```
NSError **error1;
NSArray *paths2 = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);
NSString *documentsDirectory2 = [paths2 objectAtIndex:0];

NSArray *array = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:documentsDirectory2 error:error1]; 
```

# iphone - 等待一个值改变，然后执行一个块

> ID：11913761
> 
> 赞同：0
> 
> 时间：2012-08-11T10:09:05.427
> 
> 标签：iphone, objective-c, ios, cocoa-touch, objective-c-blocks

我有以下方法：

```
-(void) waitForStatusChangeAndPerformBlock:(MyBlockType)successBlock; 
```

这是该方法应该做的：

1.  检查一些`status`是否具有正确的值
2.  如果它确实调用了块`successBlock`
3.  如果不等待`status`更改为给定值，然后调用块`successBlock`

我考虑过 KVO 来检查值是否已更改，但是我必须将块存储在某个实例变量中，或者更糟的是，存储在一个数组中，并且我会丢失当前方法调用的上下文。所以我真正想要的是这样的：

```
-(void) waitForStatusChangeAndPerformBlock:(MyBlockType)successBlock{
  if(self.status == kDesiredStatus){
    successBlock;
  } else {

      [TheMagicDispatchWaitUntil:(self.status == kDesiredStatus) andThenDoThis:^{
         successBlock;
      }];   
   }
} 
```

有没有办法在没有 KVO 或其他辅助方法的情况下实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T12:43:30.340

如果你想让一个线程等待一个事件——消息、计时器或其他什么，一个非常好的方法是使用并发 NSOperation。这些对象在单独的线程上运行，但有一个 runLoop，因此它们可以在 runloop 回调中以“正常”方式阻塞，等待某些事情发生。

也就是说，这些确实需要一些技巧才能开始工作。我在 gthub 上有一个[演示项目](https://github.com/dhoerl/Concurrent_NSOperations)，可以让您探索并发的 NSOperations（还有其他的）。

另一种阻塞直到某事完成（在线程上）的好方法是使用“dispatch_wait()”，它等待所有已排队属于一个组的块。这种技术很容易掌握——你创建一个调度组并使用标准队列或创建你自己的队列，然后使用 dispatch_group 函数对块进行队列。全部排队后，您就可以 dispatch_wait(forever) 等待块完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:25:50.033

如果你只是做一个简单的例程，你不需要经常调用这个方法，你为什么不使用一个while语句呢？

```
while (self.status != kDesiredStatus);

do {TheMagicDispatch}

succesBlock; 
```

# qt - qmake 中 debug_and_release 配置功能的优点是什么？

> ID：11913770
> 
> 赞同：7
> 
> 时间：2012-08-11T10:09:59.323
> 
> 标签：qt, qt-creator, qmake

我只能看到这个功能的一个优点：我们可以发出`make all`命令。

好吧，我不会`make`在我的开发人员生命中的任何时候打电话。我使用 Qt Creator，当我构建项目时，我希望它严格作为调试或发布。我想这是人们的一种加速行为。

但`debug_and_release`在 Qt Creator 中默认开启。这有我看不到的优点吗？像这样不直观的混乱是否有某种意义：

```
配置（调试，调试|发布）{
    # 调试
} 别的 {
    ＃ 释放
}

```

哪些人通过在互联网上犯错误和问 WTF 问题来学习？

我错过了什么吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-11T10:09:59.323

我关掉它：

```
CONFIG -= debug_and_release
配置（调试，调试|发布）{
  配置 -= 发布
}
别的 {
  配置 -= 调试
  配置 += 释放
}

```

UPD。

我懂了。我的问题是完全错误的。和`debug_and_release`没有太大关系。`debug``release`

# perl - perl mongodb 复杂结构更新

> ID：11913776
> 
> 赞同：0
> 
> 时间：2012-08-11T10:10:35.973
> 
> 标签：perl, mongodb

我有这个结构：

```
{
  "user" => "xxxx",
  "position" => 
  {
     "A1" => { "state" => 'It', region=>"LOM" etc etc..},
     "A2" => { .... },
     "A3" => { .... },
     ....
     "An" => { .. }
  }
} 
```

插入没问题。但更新返回此错误：

```
not a reference at /usr/local/lib/perl/5.12.4/MongoDB/Collection.pm line 376 
```

我的更新是：

```
$tbl->update({
{ _id => MongoDB::OID->new(value => "$id") },
       { '$set' => 
            { 
                "position" => 
                {
                    "A1" => { "state" => "En" }
                }
           }
        }
}); 
```

我哪里错了？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T11:08:04.337

我检查[MongoDB::Collection更新源的语法](http://search.cpan.org/~kristina/MongoDB-0.45/lib/MongoDB/Collection.pm)

**语法更新** `update (\%criteria, \%object, \%options?)`

**MongoDB::Collection 内部方法更新**

```
sub update {
    my ($self, $query, $object, $opts) = @_;
    ...
} 
```

但你只传递了 1 个参数。

```
$tbl->update(
{  # 1st anonymous hash
   { _id => MongoDB::OID->new(value => "$id") },
   { '$set' => {                             
       "position" => {       
           "A1" => { "state" => "En" }
           }
       }
   } 
}); 
```

所以我建议你通过传递参数来计算方法更新。

# c# - 具有枚举属性的 WPF DataGrid 用户控件

> ID：11913778
> 
> 赞同：1
> 
> 时间：2012-08-11T10:10:42.973
> 
> 标签：c#, c#-4.0, wpfdatagrid

我有一个带有枚举属性的 WPF DataGrid UserControl。

```
 public List<myEnum> dataList = new List<myEnum>();
    public enum myEnum
    {

        Info,
        Error,
        Warning,
        Debug,
        Success
    } 
```

我想将此属性公开给将托管用户控件的 MainWindow。这样我就可以在代码中访问它，例如..

```
 dataGrid1.dataList.Add(logDataGrid1.myEnum.Info);
        dataGrid1.dataList.Add(logDataGrid1.myEnum.Warning);
        dataGrid1.dataList.Add(logDataGrid1.myEnum.Success); 
```

请指教。或者是否有可用的替代解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:40:34.480

使用[Enum.GetValues](http://msdn.microsoft.com/en-us/library/system.enum.getvalues.aspx)：

```
 IEnumerable<myEnum> list = Enum.GetValues(typeof(myEnum))
                                .OfType<myEnum>()
                                .ToList(); 
```

不要命名您的枚举类型，它与“System.Type”冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:51:18.557

用这个

```
public enum mytype 
{

    Info,
    Error,
    Warning,
    Debug,
    Success
}

public List<mytype> lst = Enum.GetValues(typeof(mytype))
                              .Cast<mytype>().ToList(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-12T09:30:07.123

谢谢大家的回答！我找到了答案。

您的用户控件中的公共枚举可以通过**Namespace.Class.PublicEnumName访问**

**例如）** WpfControlLibrary1.UserDataGrid.myEnum.Info

# php - PHP APC - 共享主机中的任何替代或手动过程？

> ID：11913780
> 
> 赞同：2
> 
> 时间：2012-08-11T10:10:54.287
> 
> 标签：php, performance, drupal, shared-hosting, apc

在共享 GoDaddy 主机中，未安装 PHP APC。如果 APC 未安装在服务器中，是否有替代方案。那里是否有任何手动过程，例如编译 php 等。请建议 APC 的任何替代方案以提高性能。

仅供参考 - 我打算在我的网站上使用 Drupal Boost 来提高性能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T13:10:54.960

对此的简单回答是，使用当前的 PHP 核心库，您几乎无法直接做。从服务器的角度来看，操作码缓存的主要好处是增加了给定服务器可以满足的请求数/秒。然而，值得一提的是，共享主机上的主要延迟实际上并不是编译 PHP 源代码，而是脚本读取所有源文件所花费的汇编时间。

Godaddy 等共享主机使用 NFS 挂载的 NAS 后端将用户目录空间提供给网络服务器场。我不知道`acregmin`Godaddy 的设置是什么，但这通常是大约 15 秒，因此您的 Drupal 脚本文件不太可能在执行您的请求的网络服务器上被 VFAT 缓存，因此每个文件都打开/读取/close 将需要服务器外的 RPC 流量。

我为我的共享服务 phpBB 站点采用的一种技术是将公共模块的捆绑包聚合到集中的源文件中，这显着减少了每个请求的物理 I/O 数量（通常将 phpBB 响应时间减半）。我在如果您有兴趣，请[在此处](http://blog.ellisons.org.uk/article-53)了解更多详细信息。

# c# - C# - 使用重载有什么好处？

> ID：11913781
> 
> 赞同：3
> 
> 时间：2012-08-11T10:11:13.077
> 
> 标签：c#, overloading

重载方法真的有什么显着的优势吗？

让我们考虑以下示例：

```
class SillyMath
{
    public static int Plus(int number1, int number2)
    {
        return Plus(number1, number2, 0);
    }

    public static int Plus(int number1, int number2, int number3)
    {
        return Plus(number1, number2, number3, 0);
    }

    public static int Plus(int number1, int number2, int number3, int number4)
    {
        return number1 + number2 + number3 + number4;
    }
} 
```

只使用具有默认值的参数不是更容易吗？

```
public static int Plus(int number1, int number2, int number3 = 0, int number4 = 0)
        {
            return number1 + number2 + number3 + number4;
        } 
```

**1\. 那么谁能告诉我为什么我在编程时要考虑重载？**

**2\. 如果我需要输入一些条件语句怎么办？重载仍然相关吗？**

**编辑：同时，我了解到重载也可以有不同的返回类型。在我看来，这使得超载值得考虑。**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T11:23:48.893

一个原因可能是制作一个看似单一的方法，该方法接受各种不同的输入。例如，`BinaryWriter.Write`具有以下重载（以及其他一些重载）：

```
Write(Boolean)
Write(Byte) 
Write(Byte[])   
Write(Char) 
Write(Char[])   
Write(Decimal)  
Write(Double)   
Write(Int16)    
Write(Int32)    
Write(Int64)    
Write(SByte)    
Write(Single)   
Write(String)   
Write(UInt16)   
Write(UInt32)   
Write(UInt64) 
```

允许您编写如下代码：

```
bool   value1 = true;
int    value2 = 5;
double value3 = 5.5;
byte   value4 = 1;

using (BinaryWriter writer = GetABinaryWriter())
{
   writer.Write(value1);
   writer.Write(value2);
   writer.Write(value3);
   writer.Write(value4);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T10:15:41.917

*在具有默认值的参数出现之前，重载*就存在很多`C#`，但是

> 那么谁能告诉我为什么我会在编程时考虑重载？

如果参数的多样性往往很大（我是一个主观的，但**我**会说超过 5 个），最好使用`overload`s，因为它更容易阅读代码。

> 如果我需要输入一些条件语句怎么办？重载仍然相关吗？

并没有**真正**得到你想要的，但我*想*，你的意思是根据不同的参数值抛出异常。

这是一个非常好的例子，最好使用重载，在每个重载函数中本地化决策逻辑，而不是`if/elseif/else`在`switch/case`一个大的单一方法中。

希望这可以帮助。

**编辑**

关于你最后的评论`number3`。

我会考虑这样的事情：

```
///
///<int number3>A number for something not more then default value </int number3> //COMMENT
public void function(int number3Maximum = 100) //MAKE ESPLICIT EXPECTED MAXIMUM VALUE
{
   if(number3Maximum >100)
       throw new ArgumentOutOfRangeException("number3Maximum can not be more then default maximum"); 

     ..... //CODE
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T10:29:14.030

我更喜欢用你的语言解释

```
class SillyMath
    {
        public static int Plus(int number1, int number2)
        {
            return Plus(number1, number2, 0);
        }

        public static int Plus(int number1, int number2, int number3)
        {
            return Plus(number1, number2, number3, 0);
        }

        public static int Plus(int number1, int number2, int number3, int number4)
        {
            return number1 + number2 + number3 + number4;
        }
    } 
```

现在假设有两个用户 A 和 B；

> A 的要求是添加两个数字 43 和 45
> 
> B的要求是添加三个数字123、98和63

如果我们要使用两个参数函数，即 int

```
Plus(int number1, int number2) 
```

然后B一直在编写类似的代码`Plus(123,Plus(98,63));`

类似地，对于三个参数函数 A 的代码是`Plus(43,45,0);`

现在您可以看到从某些角度来看，这两个代码看起来都很脏。因此，有时为了方便程序员，会实现重载功能，从而为任务添加额外的自定义功能。

一个例子

```
 MessageBox.Show("You must enter a name.", "Name Entry Error",MessageBoxButtons.OK, MessageBoxIcon.Exclamation); 
```

您可以使用 MessageBox，而
`"Name Entry Error",MessageBoxButtons.OK,MessageBoxIcon.Exclamation`您唯一会错过的就是自定义，并且事情将以默认形式出现。

# vim - 如何让 vim 转到最后一行最后一个字符，然后进入插入模式？

> ID：11913788
> 
> 赞同：2
> 
> 时间：2012-08-11T10:12:09.090
> 
> 标签：vim

我有几个文本文件，每个都有自己的目的。*（如：download.txt、questions.txt、word-meaning.txt 等）*

**`questions.txt`**：

我把我所有的问题、疑问都放在了这个文件上，以便在我上网时询问/清除*（我每天都无法访问互联网）*。当我问这个问题时，我从文件中删除了该行。

**`download.txt`**：

我在此文件中保留所有包或 zipball 或 tarball 的名称，并在连接时下载。

**`word-meaning.txt`**：

我不是以英语为母语的人，所以每当我看到任何不代表我母语的单词时，我都会将其写在这个文件中，并在连接时使用谷歌翻译将其翻译成我的母语。

在上述所有情况下，每次我必须向这些列表中添加任何内容时，我都必须转到文件的最后一行。

## 我的问题：

我可以让 vim 转到文件的最后一个字符，然后进入插入模式吗？我会将其别名为类似于`vimll`将其与这些类型的文件一起使用的东西。

> 类似问题：
> 
> [如何在插入模式下启动 vim？](https://stackoverflow.com/q/11464088/939986)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:55:37.570

你可以定义一个 autocmd 来在你的文件被加载到 Vim 窗口时在文件末尾进入插入模式：

```
autocmd BufWinEnter questions.txt,download.txt,word-meaning.txt $|startinsert! 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:12:09.090

您可以在终端中执行此操作：

```
vim filename.ext +$ +starti! 
```

转到文件的最后一行、最后一个字符，`filename.ext`然后进入插入模式。

为了方便使用，您还可以使用别名，因此在`.bash_aliases`文件中添加以下内容：

```
alias vimll='vim +$ +starti!' 
```

# html - 自定义表单元素样式

> ID：11913792
> 
> 赞同：0
> 
> 时间：2012-08-11T10:12:42.030
> 
> 标签：html, css, select, file-upload

我想做一些自定义表单元素。哪个是用于制作自定义表单元素的最佳库？

主要是我在看文件上传和选择框。

其余部分我可以在 CSS3 中设置样式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T15:19:30.530

![选择文件元素](../Images/16f1222f542bf8236688901f45ebd03f.png)

**Harsha bhai 尝试制作自己的设计，这将是一次很好的学习体验，因为它很容易**

你只需要了解一些技巧（比如你看到的选择文件元素），这些技巧只涉及用你创建的 div 覆盖不可样式化的元素。

使用 jquery/css 快速学习如何将这些 div 放置在不可样式化的元素之上，一旦完成，它在所有浏览器中将是完全相同的，但对于选择文件元素来说，会有一些细微的差别。我已经给出了我使用的必要的 html，jquery，如果你有任何疑问，你可以问另一个问题。

```
 $(function(){
  $('div#input_file_outer input[type=file]').change(function(e){
    $('div.file_name').html($('div#input_file_outer input[type=file]').val()); });
    $('div#input_file_outer input[type=file]').css({'cursor':'pointer'});

    if($.browser.opera) {
      $('div.file_name').css({'float':'left'});
      $('span.input_file_label').css({'float':'right','cursor':'pointer'});
    }
    if(!$.browser.opera) {
      $('span.input_file_label').css({'left':'-4px'});
    }
    $("div.input_file_cover,div#input_file_outer").css( { 'width':$("input.upload_file").outerWidth()+9+'px', 'height':$("input.upload_file").outerHeight()+2+'px', 'cursor':'pointer' });
    $("div.file_name,span.input_file_label").css( { 'height':$("input.upload_file").outerHeight()+'px', 'cursor':'pointer' });
  });

<input type="file" name="photograph" class="upload_file" title="Upload your jpeg/jpg photographs" style="cursor: pointer; ">

<div class="input_file_cover" style="width: 249px; height: 23px; cursor: pointer; ">
  <span class="input_file_label" style="left: -4px; height: 21px; cursor: pointer; ">
    Choose File
  </span>
  <div class="file_name" style="height: 21px; cursor: pointer; ">
    File name
  </div>
</div> 
```

抱歉有错别字，我得着急

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T10:23:38.740

您应该尝试基础 css 前端框架应该为您解决问题 [http://foundation.zurb.com/docs/forms.php](http://foundation.zurb.com/docs/forms.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T10:25:08.753

如果您熟悉 Jquery，那是创建自定义元素的最佳方式。

对于自定义选择按钮，我建议使用 Jquery 库[customSelect](http://rixth.github.com/customSelect/)。它允许您使用各种内容创建选择元素，例如选择内的文本框、径向线等。

如果您想要一个带有进度条的预建精美文件上传，我建议使用[FancyUpload](http://digitarald.de/project/fancyupload/)

# objective-c - 自定义尺寸 iPad 拆分视图

> ID：11913796
> 
> 赞同：0
> 
> 时间：2012-08-11T10:13:16.470
> 
> 标签：objective-c, xcode, ipad

我对目标 C 相当陌生。我目前正在尝试在 iPad 上实现拆分视图。我想要一个可以调整大小的左侧视图，使其看起来更像 ipad 的 Spotify 应用程序上的侧视图。

我了解 UI 拆分控制器无法工作，因为它们的宽度是固定的。

我了解另一种选择是使用带有可以根据需要调整大小的子视图的视图控制器。但是，我不太确定应该如何使用自己的导航控制器来实现每个子视图。任何建议我可以如何实现上述功能。

可以在[此链接](http://i.telegraph.co.uk/multimedia/archive/02209/spotify1_2209751b.jpg)中找到侧面板实现的图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T13:00:39.280

您可以使用 Matt Gemmell 的[MGSplitViewController](https://github.com/mattgemmell/MGSplitViewController)来完成此操作。它提供了一个自定义的拆分视图控制器实现，可以让你做你想做的事。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-25T09:15:39.710

我想推荐[PSStackedView](https://github.com/steipete/PSStackedView)，我用它来创建与 Spotify iPad 应用程序类似的布局。花了点时间才明白

# java - 我可以将序列化的 java 对象转换为文本吗？

> ID：11913798
> 
> 赞同：0
> 
> 时间：2012-08-11T10:13:24.817
> 
> 标签：java, serialization

我有一些用于在 Java 中读取和写入对象的代码（使用序列化）以及一些对象。

我想将它们转换为文本，以便其他平台的其他人可以将这些对象与我的代码一起使用（仅作为包提供）。

我可以为对象的文本格式编写一个完整的解析器。然而，最后期限即将到来，我希望以其他方式更容易做到这一点，这样人们就可以自己探索对象和我的 Java 代码。

所以我想，我的问题是：从 Java 序列化迁移到以方便的 ascii 形式编写对象的最简单方法是什么？（虽然我怀疑答案是：自己写一个解析器！:-)）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T11:46:15.717

我建议您使用一些标准格式，例如[YAML](https://en.wikipedia.org/wiki/Yaml)或前面提到的 JSON 或 XML。如果您的对象形成没有循环依赖的层次结构，我会选择 JSON 并使用[Jackson JSON 处理器](http://jackson.codehaus.org/)- 积极开发且易于使用。

如果你的对象有循环依赖，我会选择 YAML，因为它可以处理然后使用[references](https://en.wikipedia.org/wiki/Yaml#Relational_trees)，所以即使你有复杂的对象结构它也可以工作。[SnakeYAML](https://code.google.com/p/snakeyaml/)似乎是一个不错的选择。

* * *

我很想测试另一个库[yamlbeans](https://code.google.com/p/yamlbeans/)来看看它是如何处理循环依赖的，所以我为自己做了一个小例子。这里是：

```
// YamlEx.java
import java.io.*;
import java.util.*;
import com.esotericsoftware.yamlbeans.*;

public class YamlEx {
    public static void main(String argv[])
        throws Exception
    {
        Person p1 = new Person("John");
        Person p2 = new Person("Paul");
        Person p3 = new Person("Bob");

        // create a circular dependencies, even to self (p1-p1)
        p1.setFriends2(p2, p1, p3);
        p2.setFriends2(p1);
        p3.setFriends2(p1, p2);

        // serialize
        CharArrayWriter w = new CharArrayWriter();
        YamlWriter writer = new YamlWriter(w);
        writer.write(p1);
        writer.close();

        // print it to the console
        System.out.println(w.toString());

        // read it again
        Reader r = new CharArrayReader(w.toCharArray());
        YamlReader reader = new YamlReader(r);
        p1 = reader.read(Person.class);
        reader.close();

        System.out.println(String.format("%s's friends: %s",
                    p1.name, p1.getFriends() ));
    }
}

// Person.java

import java.util.*;

public class Person {
    // A public field as a test.
    public String name;

    public Person() {
    }
    public Person(String name) {
        this.name = name;
    }

    public String toString() {
        return name;
    }

    // A set/get pair as a test.
    private List<Person> friends0;
    public List<Person> getFriends() {
        return friends0;
    }
    public void setFriends(List<Person> p) {
        this.friends0 = p;
    }

    public void setFriends2(Person... p) {
        setFriends(Arrays.asList(p));
    }
} 
```

按预期工作：

```
&1 !Person
name: John
friends: !java.util.Arrays$ArrayList
- &2 !Person
   name: Paul
   friends: !java.util.Arrays$ArrayList
   - *1
- *1
- !Person
   name: Bob
   friends: !java.util.Arrays$ArrayList
   - *1
   - *2

John's friends: [Paul, John, Bob] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:17:08.320

使用 XML 似乎是去这里的方式......

对于我们项目中的某种情况，我们通过[Xstream](http://xstream.codehaus.org/)使用了对 XML 的反序列化。你也可以试一试......这很容易。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T11:32:22.857

我会选择[JSON](http://json.org/)，更容易且更易于阅读。几乎所有语言都有很多 JSON 库。特别是对于java，我总是更喜欢这两个。

1.  [GSON](http://code.google.com/p/google-gson/)
2.  [杰克逊](http://wiki.fasterxml.com/JacksonHome)

其中 JACKSON 有一些性能[优势](https://stackoverflow.com/questions/338586/a-better-java-json-library)。

也有[简单的指南](http://wiki.fasterxml.com/JacksonInFiveMinutes)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T10:27:48.880

我建议您的序列化对象应该打包成 Base64 字符串，然后发送到另一个平台，从 Base64 解密并转换为新对象，就像这里描述的那样：[如何将对象序列化为字符串](https://stackoverflow.com/questions/134492/how-to-serialize-an-object-into-a-string)

我已经看到给定问题的许多实现，Base64 似乎是最简单的方法。

# jvm - .class 文件是 JVM 的可执行文件吗？

> ID：11913799
> 
> 赞同：2
> 
> 时间：2012-08-11T10:13:27.047
> 
> 标签：jvm, java

使用JDK，我可以将**.java**文件编译成**.class**文件，然后我可以运行**.class**文件，这是否意味着**.class**文件是在JVM上运行的最终可执行文件？
此外，什么是**jar**文件？**以及jar**文件和**.class**文件之间的区别？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T10:16:06.887

**1.class**文件是一个`byte code files`由JVM执行的文件，在JVM**之外没有任何意义。**让它只在 JVM 上有意义而不在外部有意义，这就是让每个 java 程序都在其内部运行的原因。`own sandbox .`

**2.** Jar 文件是运行程序所必需的所有文件的集合，认为**它****是打包所有文件和依赖库并提供单个文件的简单方法。**我们也有可以称为`class file``libraries`**`Runnable Jars``Executable Jar`**

 ****///////// 编辑部分////////////////**

现在，这由（即时编译器）在**运行时**`byte-code`转换为。**JIT 会在 Runtime 期间寻找程序的运行时密集部分**，然后将其转换为机器级可执行文件，**这部分程序称为**，而称为。`machine level executable`**`JIT` ****`Hot-spot``JIT``Hot-Spot-Compiler`******

 ******* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:26:33.413

顾名思义，jar（java 存档）是可以执行的 java 类的存档或集合。

Java 反编译器是一种从 .class 扩展名到 .java 扩展名进行逆向工程的工具。

要制作 jar，请使用以下链接

[http://docs.oracle.com/javase/tutorial/deployment/jar/build.html](http://docs.oracle.com/javase/tutorial/deployment/jar/build.html)

或使用 windows 命令提示符

```
jar cf JAR_FILE_NAME FILE_NAMES_OR_DIRECTORY_NAME
e.g.
jar cf MyApp1.jar C:\JavaProject\MyApp 
```********

# java - 链接的奇怪行为 - 页面上显示的每个链接都附加了 URL

> ID：11913803
> 
> 赞同：0
> 
> 时间：2012-08-11T10:13:42.490
> 
> 标签：java, jsf, tomcat, jsf-2

这是问题所在：

看看： http: [//postimage.org/image/zclhvutfl/](http://postimage.org/image/zclhvutfl/)

问题是如何摆脱将网址附加到链接？它们附加到应用程序中的每个链接。即链接中应该只有“索引”和“时间”字样，但也有它们的附加路径。在 Firebug 中，我可以看到一切正常，但链接呈现如您在上面的屏幕截图中看到的那样。

我在 Tomcat 7 上使用 Apache MyFaces 和 PrimeFaces。我已经尝试从 web.xml 中删除 PROJECT_STAGE=development，但这不是问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T14:34:08.180

已解决：这只是 z 蓝图 css 样式`<a>`

`a:link:after, a:visited:after { content: " (" attr(href) ")"; font-size: 90%; }`

听起来很有趣，但我已经使用蓝图一年了，但我之前的版本没有这个功能;-)

# database - 我怎样才能像 radphp 中的几乎所有网页一样对结果进行分页？

> ID：11913811
> 
> 赞同：2
> 
> 时间：2012-08-11T10:14:59.250
> 
> 标签：database, controls, radphp, rpcl

在 radphp xe2 中包含的 dbpaginator 组件上进行试验没有成功，我想知道如何管理 dbrepeater 上显示的分页记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T15:36:32.030

您应该尝试使用**Pager组件，** **HTML5 Builder**也支持该组件。

# c# - 何时使用 XmlConvert.ToString 与 Object.ToString()

> ID：11913814
> 
> 赞同：2
> 
> 时间：2012-08-11T10:15:32.023
> 
> 标签：c#

我应该什么时候使用`XmlConvert.ToString`来转换给定值与`ToString`给定类型上的方法。

例如 ：

```
int inputVal = 1023; 
```

我可以`inputVal`使用任何一种方法将其转换为字符串表示：

```
string strVal = inputVal.ToString(); 
```

或者

```
string strVal = XmlConvert.ToString(inputVal); 
```

使用`XmlConvert.ToString`与做普通的规则是什么`Object.ToString`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:20:56.193

这些`XmlConvert.ToString`方法**与语言环境无关**，因此字符串表示在不同的语言环境中是一致的。根据`Object.ToString`与线程关联的当前文化，您可能会获得不同的表示形式。

因此，使用一个与另一个是一个场景问题，`XmlConvert`如果您正在与另一个系统交换数据并想要一个一致的文本表示，例如一个`double`值，那么它会非常有用。

您可以在以下示例中看到差异：

```
double d = 1.5;

Thread.CurrentThread.CurrentCulture = new CultureInfo("pt-PT");
Console.WriteLine(d.ToString());            // 1,5
Console.WriteLine(XmlConvert.ToString(d));  // 1.5

Thread.CurrentThread.CurrentCulture = new CultureInfo("en-US");

Console.WriteLine(d.ToString());            // 1.5
Console.WriteLine(XmlConvert.ToString(d));  // 1.5 
```

# php - 用于 SQL 查询的 PHP 大量内存使用

> ID：11913818
> 
> 赞同：5
> 
> 时间：2012-08-11T10:15:47.097
> 
> 标签：php, apache, memory, mysqli

在优化我的 Apache + PHP 内存使用时，我偶然发现了一个奇怪的问题。基本上，当尝试绑定 MySQLi 查询的结果时，代码会出现错误消息“致命错误：允许的内存大小为 16777216 字节已用尽（尝试分配 50331646 字节）”。

相关表格如下：

```
CREATE TABLE `note` (
  `noteID` int(11) NOT NULL AUTO_INCREMENT,
  `contentID` int(11) NOT NULL,
  `text` mediumtext NOT NULL,
  PRIMARY KEY (`noteID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `content` (
  `contentID` int(11) NOT NULL AUTO_INCREMENT,
  `text` varchar(2048) NOT NULL,
  `datestamp` datetime NOT NULL,
  PRIMARY KEY (`contentID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8; 
```

爆炸的查询是：

```
select content.contentID, 
content.text, 
content.datestamp, 
note.noteID, 
note.contentID, note.text 
from basereality.content as content 
inner join basereality.note as note 
on content.contentID = note.contentID 
where content.contentID = 1028 ; 
```

在服务器上的 MySQL 中运行查询运行良好，返回的“note”大小小于 1 KB。

一件奇怪的事情是它试图分配 50331646 的大小是 0x2FFFFFE 十六进制，这是一个可疑的整数。这几乎就像 PHP 试图分配一个足够大的缓冲区来容纳可能的最大的 mediumtext 字段，而不是实际为检索到的数据分配内存。

任何人都知道解决方法 - 除了增加 PHP 中允许的最大内存？

顺便说一句，其他人也有同样的问题，但似乎不知道如何解决。 [内存不足（分配50855936）（尝试分配50331646字节）](https://stackoverflow.com/questions/8823011/out-of-memory-allocated-50855936-tried-to-allocate-50331646-bytes)

爆炸的确切线路是：

```
$statement->bind_result(
  $content_contentID,
  $content_text,
  $content_datestamp,
  $note_noteID,
  $note_contentID,
  $note_text); 
```

将查询更改为选择“'A test string' as note”，而不是获取列，不再显示大量内存使用情况。

顺便说一句，我确定我不是在尝试检索大数据。这显示了 note 表中 mediumtext 字段的实际长度：

```
 select length(text) from basereality.note;
+--------------+
| length(text) |
+--------------+
|          938 |
|          141 |
|         1116 |
|          431 |
|          334 |
+--------------+ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T00:21:15.733

我找到了答案并在另一个问题中发表了评论：

[67108864 字节的允许内存大小已用尽](https://stackoverflow.com/questions/11915415/allowed-memory-size-of-67108864-bytes-exhausted)

基本上，在旧的 MySQL 连接器库中，不仅仅是分配字段“文本”的实际大小来存储结果，而是分配了 mediumtext 类型的最大可能大小。

即，即使结果字段只有 100 KB，也总是分配 16 兆字节。

解决此问题的最简单且可能最好的方法是切换到使用不显示此行为的新 MySQLND 连接器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T21:16:48.060

你试过mysqli_store_result吗？查看下面的 php.net 链接，更多人有同样的问题，有些人通过在绑定结果之前调用 store_result 解决了这个问题。

[http://php.net/manual/en/mysqli.store-result.php](http://php.net/manual/en/mysqli.store-result.php)

[http://dev.mysql.com/doc/refman/5.0/en/mysql-stmt-store-result.html](http://dev.mysql.com/doc/refman/5.0/en/mysql-stmt-store-result.html)

# java - 在 gae/j 中的 FileService api 中设置文件名

> ID：11913821
> 
> 赞同：0
> 
> 时间：2012-08-11T10:16:30.227
> 
> 标签：java, google-app-engine, blobstore

我写了一个 servlet，它成功上传了 blob，但上传时没有名字 如何在 servlet 中设置上传文件的名称

这是一段servlet代码

```
public void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws IOException {

         FileService fileService = FileServiceFactory.getFileService();

          // Create a new Blob file with mime-type "text/plain"

          String url="http://www.cbwe.gov.in/htmleditor1/pdf/sample.pdf";
          URL url1=new URL(url);
          HttpURLConnection conn=(HttpURLConnection) url1.openConnection();
          String content_type=conn.getContentType();
          InputStream stream =conn.getInputStream();
          AppEngineFile file = fileService.createNewBlobFile("application/pdf");

          file=new AppEngineFile(file.getFullPath());
         Boolean lock = true;
          FileWriteChannel writeChannel = fileService.openWriteChannel(file, lock);

          // This time we write to the channel directly
          String s1="";
          String s2="";

          byte[] bytes = IOUtils.toByteArray(stream);

          writeChannel.write(ByteBuffer.wrap(bytes));
          writeChannel.closeFinally(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:22:11.050

将文件名作为第二个参数传递给[`fileService.createNewBlobFile("application/pdf", "filename.pdf")`](https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/files/FileService#createNewBlobFile%28java.lang.String,%20java.lang.String%29).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:37:52.863

您可以从您的 URL 获取文件名

String fileNameWithoutExtn = url.substring(0, url.lastIndexOf('.'));

然后将fileName作为参数传递

```
FileWriteChannel writeChannel = fileService.openWriteChannel(file, lock,fileNameWithoutExtn ); 
```

# php - 是否可以在 php 中使用会话数组？

> ID：11913824
> 
> 赞同：0
> 
> 时间：2012-08-11T10:17:12.473
> 
> 标签：php, arrays, session, push

下面的代码总是回显不存在。你能给我解决方案吗？

```
 <?php

      session_start();
      $_SESSION[$ses_arr]=array();
      $word="cat";
      array_push($_SESSION[$ses_arr],$word);

      if(in_array($word,$_SESSION[$ses_arr]))
        {
         echo "present";
        }
      else
        {
         echo "Not Present";
        }

   ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:25:15.530

这是您的会话数组的 vardump： [""]=> array(1) { [0]=> string(3) "cat" }

可以看到，因为你没有定义$ses_arr，它的值是""所以"cat"存储在$_SESSION[''][0]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:20:11.293

1) 使用`$_SESSION['ses_arr']`if`'ses_arr'`是一个索引。

2) 使用`$_SESSION[ses_arr]`if`ses_arr`是一个预定义的常量。

```
define('ses_arr','mySessionArray'); 
```

3) 使用`$_SESSION[$ses_arr]`if`$ses_arr`是一个预定义的变量。

```
$ses_arr = 'mySessionArray'; 
```

* * *

以下代码将为您工作：

```
 <?php

  session_start();
  $_SESSION['ses_arr']=array();
  $word="cat";
  array_push($_SESSION['ses_arr'],$word);

  if(in_array($word,$_SESSION['ses_arr']))
    {
     echo "present";
    }
  else
    {
     echo "Not Present";
    }

  ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T10:21:05.320

你还没有定义`$ses_arr`变量。

定义它，您的代码将起作用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T10:21:53.047

我只能假设这`$ses_arr`是您必须决定使用哪个键来保存数据的某个标识符，或者您将字符串误认为是变量。

首先，通过将其放在脚本顶部紧随以下来打开错误`<?php`：

```
error_reporting(E_ALL);
ini_set('display_errors', 1); 
```

如果您将字符串误认为是变量，它将显示错误。在这种情况下，替换`$sess_arr`为`'sess_arr'`它应该可以完美地工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-11T10:22:19.147

这应该有效：

```
<?php

  session_start();
  $ses_arr = array();
  $_SESSION['ses_arr']=$ses_arr;
  $word="cat";
  array_push($_SESSION['ses_arr'],$word);

  if(in_array($word,$_SESSION['ses_arr']))
    {
     echo "present";
    }
  else
    {
     echo "Not Present";
    } 
```

?>

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-11T10:24:58.660

您没有告诉 PHP 变量 $ses_arr 的含义。session_start() 之后；试试 $ses_arr = "ses_arr"; 那么它应该可以工作。

# python - Python 字符串表示法

> ID：11913830
> 
> 赞同：1
> 
> 时间：2012-08-11T10:18:01.183
> 
> 标签：python

我遇到了一些看起来像这样的代码：

```
foo = r"""
        Hello
        How are you
        Goodbye
        """ 
```

这个约定是否只是保持字符串格式的一种简单方法，如果以正常方式制作可能会导致问题？我尝试过在线搜索，但问题的性质并不适合搜索字词。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T10:20:34.040

这是一个[三引号 python 字符串文字](http://docs.python.org/reference/lexical_analysis.html#string-literals)。你也可以使用`'''`。（`r`前面的表示文字是原始字符串；例如，大多数转义序列被忽略；这适用于单引号和三引号字符串）。

这些字符串保留换行符，与单引号字符串不同，您必须使用`\n`换行符转义码：

```
>>> """Line one
... Line two"""
'Line one\nLine two' 
```

该格式有很多用途。如果我需要定义一个多行常量，我经常在开始的三引号后使用反斜杠以得到一个非常易读的字符串文字：

```
LOREM_IPSUM = """\
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
""" 
```

然而，最常见的用法是作为[文档字符串](http://docs.python.org/glossary.html#term-docstring)；函数、类或模块的第一个字符串文字自动分配给该对象的`__doc__`属性，以便稍后由其他工具（例如[pydoc](http://docs.python.org/library/pydoc.html)和[doctests](http://docs.python.org/library/doctest.html)，特别是如果您遵循[docstring 约定](http://www.python.org/dev/peps/pep-0257/)。按照惯例，这些通常使用三重定义引用的文字，即使只有一行文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:20:42.300

什么是“正常方式”？当您希望字符串跨越多行时，三引号很有用。正式文档在[这里](http://docs.python.org/reference/lexical_analysis.html#literals)。

# python - 想要使用 python 在正则表达式中包含特定字符

> ID：11913832
> 
> 赞同：0
> 
> 时间：2012-08-11T10:18:27.363
> 
> 标签：python, regex

我正在尝试从用户那里获取输入并想要编译由每个字符组成的正则表达式，我尝试使用 list 并使用 list 作为失败的参数。

我不想匹配完整的字符串，但只匹配单个字符更具体

```
 x = raw_input("Enter string of length 7 to generate your scrabble helper: ")
    a = []
    for i in x:
        a.append(i)
    print(a)
    p = re.compile(a) 
```

但这失败了！！！！

```
Traceback (most recent call last):
  File "scrabb.py", line 8, in <module>
    p = re.compile(a)
  File "/usr/lib/python2.7/re.py", line 190, in compile
    return _compile(pattern, flags)
  File "/usr/lib/python2.7/re.py", line 232, in _compile
    p = _cache.get(cachekey)
TypeError: unhashable type: 'list' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T10:30:40.427

`a`是一个列表，`re.compile()`需要一个字符串。变量名`i`通常只用于整数，例如`ch`用于字符（如果你要使用短变量名，你应该遵守约定:-)

也许是这样的：

```
usertext = raw_input("Enter string of length 7 to generate your scrabble helper: ")
lst = []
for ch in usertext:
    lst.append(ch)
print(lst)
scrabble_re = re.compile(''.join(lst)) 
```

或者只是等价的，但要短得多：

```
usertext = raw_input("Enter string of length 7 to generate your scrabble helper: ")
scrabble_re = re.compile(usertext) 
```

?

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T10:31:55.363

我不确定我是否完全了解您的需求，但也许这样的事情会有所帮助：

```
x = raw_input("Enter string of length 7 to generate your scrabble helper: ")
p = re.compile('|'.join((c for c in x))) 
```

这应该匹配输入字符串中的每个字符，而不是整个字符串。您应该确保用户输入中没有特殊字符，但这是另一个问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T10:37:59.233

听起来您对查找两个字符串之间的字符重叠更感兴趣：

```
x = raw_input('enter string')
y = 'aeiou'

overlap = list(set(x) & set(y))

print(overlap) 
```

`x`这将打印在和之间共享的字符`y`。我不完全理解您要做什么，但是正则表达式是高级编程中被滥用最多的东西，只有在您真正需要它们时才应该使用它们。

# .net - 指示线程代表我执行方法

> ID：11913836
> 
> 赞同：0
> 
> 时间：2012-08-11T10:19:55.427
> 
> 标签：.net, multithreading

我隐约记得 WinAPI 提供了一个叫做 APC 的东西，它允许你指示一个线程代表你执行一个函数，它会在它找到时间执行它时执行它。线程不需要等待信号，但内核为其维护 APC 队列并指示线程执行队列中的项目。

我做了一些研究如何在 .NET 中做到这一点，但到目前为止我还没有找到一种方法来做到这一点。我知道 BeginInvoke 但这仅适用于 UI 控件的上下文，我相信？

我将如何在 .NET 环境中执行此操作？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T15:24:17.237

这在 .NET 中有所暴露，在 APC 用于 I/O 完成回调的非常特殊的情况下。这是 APC 非常常见的用途。它是相当低级的，就像 APC 一样，核心方法是 ThreadPool.BindHandle()，它设置管道以允许回调在线程池线程上执行托管代码。然而，启动重叠 I/O 的调用并非如此，这取决于您的 pinvoke。否则，这已经被执行 I/O 的各种类及其 BeginXxxx() 方法（如 FileStream、PipeStream、Socket 等）巧妙地包装了。

您自己的 APC 需要做的下一件事是将线程置于警报等待状态，这等效于 WaitForSingleObjectEx()，bAlertable 参数的值为 TRUE。这被 CLR 严密包裹，它在等待的警报状态中具有很大的利害关系，因为托管线程是否可以安全中止非常重要。Afaik，您在托管代码中调用的所有等待都是可警报的，包括 Thread.Join() 和 Thread.Sleep() 等方法。忽略 WaitHandle.WaitXxx 重载中名为“exitContext”的布尔参数，这意味着别的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:28:44.260

一个线程只有在阻塞一组 API 时才能执行 APC。当设置了“Alertable”标志时，该集合包括 GetMessage() 和“BlahEx”调用（例如 SleepEx）。线程确实必须等待一个信号——一个线程不能被“转移”来运行 APC 或其他任何东西，除非它涉及到线程间通信。

不确定 .NET 是否有托管的 SleepEx() 或类似的，但我相信托管线程可以以一种或另一种方式执行 APC（帮助我，.NETters！），而无需求助于非托管代码。

# angularjs - 从 AngularJS 指令访问属性

> ID：11913841
> 
> 赞同：95
> 
> 时间：2012-08-11T10:20:35.170
> 
> 标签：angularjs, angularjs-directive

我的 AngularJS 模板包含一些自定义 HTML 语法，例如：

```
<su-label tooltip="{{field.su_documentation}}">{{field.su_name}}</su-label> 
```

我创建了一个指令来处理它：

```
.directive('suLabel', function() {
  return {
    restrict: 'E',
    replace: true,
    transclude: true,
    scope: {
      title: '@tooltip'
    },
    template: '<label><a href="#" rel="tooltip" title="{{title}}" data-placement="right" ng-transclude></a></label>',
    link: function(scope, element, attrs) {
      if (attrs.tooltip) {
        element.addClass('tooltip-title');
      }
    },
  }
}) 
```

一切正常，除了`attrs.tooltip`总是返回的表达式，`undefined`即使`tooltip`在执行`console.log(attrs)`.

有什么建议吗？

更新：Artem 提供了一个解决方案。它包括这样做：

```
link: function(scope, element, attrs) {
  attrs.$observe('tooltip', function(value) {
    if (value) {
      element.addClass('tooltip-title');
    }
  });
} 
```

AngularJS + stackoverflow = 幸福

* * *

## 回答 #1

> 赞同：83
> 
> 时间：2012-08-11T10:31:54.547

[请参阅指令文档中的属性](https://docs.angularjs.org/api/ng/service/$compile#attributes)部分。

> *观察插值属性*：使用 $observe 观察包含插值的属性的值变化（例如 src="{{bar}}"）。这不仅非常有效，而且也是轻松获得实际值的唯一方法，因为在链接阶段尚未评估插值，因此此时该值设置为未定义。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-01-03T16:47:55.237

尽管在您的特定场景中使用 '@' 比使用 '=' 更合适，但有时我使用 '=' 这样我就不必记住使用 attrs.$observe()：

```
<su-label tooltip="field.su_documentation">{{field.su_name}}</su-label> 
```

指示：

```
myApp.directive('suLabel', function() {
    return {
        restrict: 'E',
        replace: true,
        transclude: true,
        scope: {
            title: '=tooltip'
        },
        template: '<label><a href="#" rel="tooltip" title="{{title}}" data-placement="right" ng-transclude></a></label>',
        link: function(scope, element, attrs) {
            if (scope.title) {
                element.addClass('tooltip-title');
            }
        },
    }
}); 
```

[小提琴](http://jsfiddle.net/mrajcok/jdkAY/)。

使用 '=' 我们得到双向数据绑定，因此必须注意确保指令中的 scope.title 不会被意外修改。优点是在链接阶段，定义了本地范围属性（scope.title）。

# java - 如何验证 XML 文件？

> ID：11913844
> 
> 赞同：0
> 
> 时间：2012-08-11T10:20:52.907
> 
> 标签：java, xquery, xqilla

我的 contacts.xml 文件是：

```
<?xml version="1.1" encoding="UTF-8" standalone="no" ?>
 <Directory>
   <Contacts DeviceID="" FolderID="" FolderName="">    
      <Contact contacttype="0" id="111" optype="0">
         <FirstName>shiva1</FirstName>
         <wsuniqueid>00000000A4DACC2711A8D24C9AC2C2999311125BC4306A00</wsuniqueid>
      </Contact>
      <Contact contacttype="0" id="222" optype="0">
         <FirstName>shiva2</FirstName>
         <wsuniqueid>00000000A4DACC2711A8D24C9AC2C2999311125BC4306A01</wsuniqueid>
      </Contact>
   </Contacts>
</Directory> 
```

当我想通过查询插入一些节点或数据时：

```
insert node <a/> into doc('contacts.xml')//Directory/Contacts/Contact[@id = '111'] 
```

从它给出的linux命令`error XQDY0084 ..`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T11:19:35.320

错误代码与插入无关（直接）。它表明您在某处使用严格验证，并且您没有遵守严格的验证规则。可能是因为系统找不到 Directory 是有效根元素的适当模式文件。

命名您的元素，并使用适当的 XML 模式，或者决定根本不进行验证。

！

# php - JavaScript / Ajax / PHP的设计模式/工作流程 - 应用程序

> ID：11913846
> 
> 赞同：1
> 
> 时间：2012-08-11T10:21:01.450
> 
> 标签：php, javascript, design-patterns, frameworks

我正在使用**PHP、JavaScript、Ajax，当然还有 HTML 和 CSS（还有一点 jQuery）创建一个小型 Web 应用程序。**

> 有你推荐的设计模式吗？

**我知道 MVC，但仅限于 Java、C++。**

我刚开始使用 PHP 和 JavaScript，并搜索可以告诉我如何正确使用这些语言的源（**以它们应该如何相互交互的形式**）

*我的想法是仅将 PHP 用于 DB 连接并将所有数据“本地”存储在 JavaScript 变量中，并使用它们。*

**所以，我的问题：**

> 1.  是否有任何**框架**（应该很小，我想自己编写大部分功能）
> 2.  有没有一**本书/网站**可以训练我以正确的方式去做？（或者你有任何链接吗？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:33:57.703

有很多 Web 应用程序框架`PHP`，其中很少有在开发世界中真正出名的。
**cakephp** [http://cakephp.org/](http://cakephp.org/)
**codeigniter** [http://codeigniter.com/](http://codeigniter.com/) 两者都对MVC模式有丰富的支持，与世界上
几乎相似。`spring``struts``java`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:56:47.383

有效的答案不应参考*Zend Framework*、*Code Igniter*或*Cake PHP*。

在我看来， [Silex](http://silex.sensiolabs.org/)可能是您搜索的框架。*它是一个微框架，它使用了Symfony2 的*某些部分，但非常轻量级且非常容易学习。

从文档：

> Silex 是 PHP 5.3 的 PHP 微框架。它建立在 Symfony2 和 Pimple 的肩膀上，也受到了 sinatra 的启发。
> 
> 微框架为构建简单的单文件应用程序提供了勇气。Silex 的目标是：
> 
> *   简洁：Silex 公开了一个直观而简洁的 API，使用起来很有趣。
> *   可扩展性：Silex 有一个基于 Pimple 微服务容器的扩展系统，可以更轻松地与第三方库绑定。
> *   可测试：Silex 使用 Symfony2 的 HttpKernel 抽象请求和响应。这使得测试应用程序和框架本身变得非常容易。它还尊重 HTTP 规范并鼓励其正确使用。

最简单的应用程序只需要这样的东西（来自文档）：

```
require_once __DIR__.'/../vendor/autoload.php'; 

$app = new Silex\Application(); 

$app->get('/hello/{name}', function($name) use($app) { 
    return 'Hello '.$app->escape($name); 
}); 

$app->run(); 
```

这完成了*控制器*所做的一切，甚至更多。然后，您可以添加[Twig](http://twig.sensiolabs.org/)以便为*View*部分提供良好的开端。对于*模型*部分，您可以添加[Doctrine2](http://www.doctrine-project.org/)，它具有出色的对象关系映射器 (ORM)，如果您喜欢 NoSQL，甚至可以添加对象文档映射器 (ODM)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T10:45:23.157

我推荐你使用 Zend 框架。它不是“轻量级”框架，而是非常模块化和可扩展的。因此，您可以只使用您需要的几个模块并自己编写其余代码。另一个优点是它是最常用的框架之一，并且有很好的文档。另请参阅对您的项目有用的 javascript 框架 - [http://knockoutjs.com/](http://knockoutjs.com/)

# ruby-on-rails - 使用thinking sphinx在rails中标记同义词

> ID：11913849
> 
> 赞同：0
> 
> 时间：2012-08-11T10:21:16.050
> 
> 标签：ruby-on-rails, sphinx, thinking-sphinx, synonym

在rails中处理标签同义词的正确方法是什么？模型称为 Situation，我使用acts_as_taggable_on 作为标签，使用 ThinkingSphinx 进行搜索。

```
Situation.search :conditions => { :tag_name => '(synonym11 | synonym12) | (synonym21 | synonym22)' }, :match_mode => :boolean 
```

但有适当的排名

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T17:31:43.023

类似的东西有帮助

```
define_index :main_index do
    # fields
    indexes :title
    indexes :description
    indexes user.name, :as => :author

    # attributes
    has id, user_id, created_at, updated_at
end

define_index :tag_index do
    # fields
    indexes taggings.tag.name, :as => :tag_name

    # attributes
    has id, user_id, created_at, updated_at

    set_property :wordforms => 'db/synonyms.txt'
end 
```

# php - 山狮更改php位置

> ID：11913850
> 
> 赞同：2
> 
> 时间：2012-08-11T10:21:25.263
> 
> 标签：php, osx-mountain-lion

升级到 Mountain Lion 后，我使用这一行 bash 脚本安装 php 5.4 [http://php-osx.liip.ch/](http://php-osx.liip.ch/)

它将 5.4 安装到 /usr/local/php5

如果我运行 which php 我会得到 /usr/bin/php

运行 php -v 返回 5.3.13

如何告诉 Mountain Lion 使用 /usr/local/php5 中的 php

我是否还必须更改 Apache htttpd.conf 才能使用新版本的 php？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-11T10:39:48.653

这是一个艰难的方法，你只需链接到新的 php 文件：

```
$ sudo mv /usr/bin/php /usr/bin/php53 && sudo ln -s /usr/local/php5/bin/php /usr/bin/php 
```

根据真正的 php5 二进制路径更改 php5 bin 路径，因为我不知道正确的二进制文件在哪里。

但我宁愿尝试只`php5`在命令行上使用，因为这可能使用的是 PHP5.4 版本，因为`/usr/local`通常`$PATH`也是如此。

您可以`echo $PATH`在命令行上查看哪些路径已被检查。您可以通过使用`export PATH=/usr/local/php5:$PATH`或类似的方式添加一些东西。您也可以将该行添加到`~/.bash_profile`文件中以存储以供以后使用。

# objective-c - 同一屏幕上的两个 tableview

> ID：11913851
> 
> 赞同：0
> 
> 时间：2012-08-11T10:21:35.793
> 
> 标签：objective-c, ios, cocoa-touch, uitableview

我正在尝试使用`UITableView's`. 我想要实现的是以`UITableView's`编程方式在同一屏幕上显示两个。我的目标是在不使用任何预定义方法的情况下在 iPhone 上复制联系人应用程序。谁能帮我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:28:52.260

这不是通过多个表视图实现的，它是一个包含多个部分的表。[这是一个教程](http://www.roseindia.net/tutorial/iphone/examples/iphone-TableViewwithSection.html)。`UITableViewStyleGrouped`此外，如果您正在寻找稍微不同的外观，也可以选择将表格样式设置为。

# php - PHP - Parse_url 只获取页面

> ID：11913853
> 
> 赞同：2
> 
> 时间：2012-08-11T10:21:59.333
> 
> 标签：php, parsing

我目前正在开发一个小型网络爬虫作为一个副项目，基本上让它收集页面上的所有href，然后解析这些，我的问题是。

我怎样才能得到实际的页面结果？目前我正在使用以下

```
foreach($page->getElementsByTagName('a') as $link) 
{
    $compare_url = parse_url($link->getAttribute('href'));
    if (@$compare_url['host'] == "") 
    { 
        $links[] = 'http://'.@$base_url['host'].'/'.$link->getAttribute('href');
    }
    elseif ( @$base_url['host'] == @$compare_url['host'] ) 
    {
            $links[] = $link->getAttribute('href');
    }   

 } 
```

如您所见，这将引入 jpeg、exe 文件等。我只需要提取 .php、.html、.asp 等网页。

我不确定是否有一些功能可以解决这个问题，或者它是否需要来自某种主列表的正则表达式？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T12:04:59.957

由于单独的 URL 字符串不会以任何方式与其背后的资源相关联，因此您必须走出去向网络服务器询问它们。为此，有一个名为[HEAD](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.4)的 HTTP 方法，因此您不必下载所有内容。

您可以在 php 中使用 curl 来实现这一点，如下所示：

```
function is_html($url) {
    function curl_head($url) {
        $curl = curl_init($url);
        curl_setopt($curl, CURLOPT_NOBODY, true);
        curl_setopt($curl, CURLOPT_HEADER, true);
        curl_setopt($curl, CURLOPT_MAXREDIRS, 5);
        curl_setopt($curl, CURLOPT_FOLLOWLOCATION, true );
        curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($curl, CURLOPT_HTTP_VERSION , CURL_HTTP_VERSION_1_1);
        $content = curl_exec($curl);
        curl_close($curl);

        // redirected heads just pile up one after another
        $parts = explode("\r\n\r\n", trim($content));

        // return only the last one
        return end($parts);
    }
    $header = curl_head('http://github.com');
    // look for the content-type part of the header response
    return preg_match('/content-type\s*:\s*text\/html/i', $header);
}

var_dump(is_html('http://github.com')); 
```

此版本只接受`text/html`响应，不检查响应是 404 还是其他错误（但随后重定向最多 5 次跳转）。您可以调整正则表达式或从 curl 响应中添加一些错误处理，或者通过匹配标题字符串的第一行。

*注意：*网络服务器将在这些 URL 后面运行脚本以给您响应。小心不要通过探测或抓取“删除”或“取消订阅”类型的链接使主机过载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:39:17.203

要检查页面是否有效（html，php ...扩展名，请使用此功能：

```
function check($url){
$extensions=array("php","html"); //Add extensions here
foreach($extensions as $ext){
if(substr($url,-(strlen($ext)+1))==".".$ext){
return 1;
}
}
return 0;
}
foreach($page->getElementsByTagName('a') as $link) {
    $compare_url = parse_url($link->getAttribute('href'));
    if (@$compare_url['host'] == "") { if(check($link->getAttribute('href'))){ $links[] = 'http://'.@$base_url['host'].'/'.$link->getAttribute('href');} }
    elseif ( @$base_url['host'] == @$compare_url['host'] ) {
            if(check($link->getAttribute('href'))){ $links[] = $link->getAttribute('href'); }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T10:40:41.673

考虑使用`preg_match`来检查链接的类型（应用程序、图片、html 文件）并考虑结果来决定做什么。

另一种选择（也很简单）是使用`explode`并查找位于（扩展名）之后的 url 的最后一个字符串，`.`例如：

```
//If the URL will has any one of the following extensions , ignore them.
$forbid_ext = array('jpg','gif','exe');

foreach($page->getElementsByTagName('a') as $link) {
    $compare_url = parse_url($link->getAttribute('href'));
    if (@$compare_url['host'] == "")
    { 
           if(check_link_type($link->getAttribute('href')))
           $links[] = 'http://'.@$base_url['host'].'/'.$link->getAttribute('href');
    }
    elseif ( @$base_url['host'] == @$compare_url['host'] )
    {
           if(check_link_type($link->getAttribute('href')))
            $links[] = $link->getAttribute('href');
    }   

    }

function check_link_type($url)
{
   global $forbid_ext;

   $ext = end(explode("." , $url));
   if(in_array($ext , $forbid_ext))
     return false;
   return true;
} 
```

**更新（而不是检查“禁止”扩展，让我们寻找好的扩展）**

```
$good_ext = array('html','php','asp');
function check_link_type($url)
{
   global $good_ext;

   $ext = end(explode("." , $url));
   if($ext == "" || !in_array($ext , $good_ext))
     return true;
   return false;
} 
```

# javascript - JQuery .each 并使用原始 Javascript 进行迭代

> ID：11913858
> 
> 赞同：0
> 
> 时间：2012-08-11T10:22:19.053
> 
> 标签：javascript, jquery, html, audio

我正在尝试完成这样的事情

```
var audios = $('audio');

for(var i = 0; i< audios.length;i++){
    if(audios[i].currenTime != 0)
        audios[i].pause();
} 
```

但是当我使用 JQuery 来做它时，它返回给我它没有任何方法。

```
$('audio').each(function(){
    if($(this).curentTime !=  0){
     $(this).pause();
    }
}); 
```

有什么我想念的吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-11T10:25:47.327

使用`.each()`回调时接收 DOM 元素为`this`. 您可以（并且必须）直接使用它，而不是再次用 jQuery 包装它。

```
$('audio').each(function() {
    if(this.currentTime != 0) {
        this.pause();
    }
}); 
```

*   当您要访问元素时，请使用`this`
*   当你想在元素上调用 jQuery 函数时，使用`$(this)`
*   永远不要使用`$(this)[0]`，这就像`['Hello'][0]`代替`'Hello'`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T10:24:14.653

`$(this)`是一个 jQuery 对象，你需要用`$(this)[0]`or来获取 dom 元素`$(this).get(0)`，但你不应该那样做，`this`直接使用。

```
$('audio').each(function(){
    if(this.curentTime !=  0){
     this.pause();
    }
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-11T10:25:59.350

你不能检查 $(this).currentTime，因为 $(this) 是一个 jquery 对象，

```
$('audio').each(function(){
    if($(this)[0].curentTime !=  0){
     $(this)[0].pause();
    }
}); 
```

# jquery - 如何在 DIV 中选择多个子项之一

> ID：11913867
> 
> 赞同：0
> 
> 时间：2012-08-11T10:24:28.833
> 
> 标签：jquery

我有这棵树

```
<div id="chatRooms">
<div class="chatRoom">Lala</div>
<div class="chatRoom">Lolo</div>
<div class="chatRoom">Lili</div>
</div> 
```

`$("#chatRooms").children(".chatRoom");`将选择所有的孩子，我只想选择1，不管`.html()`这些孩子，这只是一个例子，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:25:37.363

```
 $("#chatRooms").children(".chatRoom")[2]; // returns DOM element
                                             not Jquery, must be rewrapped 
```

或者

```
 $("#chatRooms").children(".chatRoom").eq(2); // returns JQuery element 
```

或者

```
 $("#chatRooms > .chatRoom:eq(2)"); // 0-based index! 
```

或者

```
 $("#chatRooms > .chatRoom:nth-child(3)"); // 1-based index! and other differences 
```

例如 ：）

**选择器**（as `$("#chatRooms .chatRoom:first")`）和 Jquery 函数还有其他选项

```
 $("#chatRooms").children(".chatRoom").last() 
```

**编辑：**扩展答案还包括对 Ofir Baruch 和 Esben Skov Pedersen 的观察。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:27:46.307

您可以使用`:eq`运算符，`:eq`将引用您要选择的元素的索引。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T10:34:59.560

如果您非常依赖随机选择，您可以获得这个 jquery 插件，它将引入 :random 过滤器：http: [//blog.mastykarz.nl/jquery-random-filter/](http://blog.mastykarz.nl/jquery-random-filter/)

那么你可以有类似的东西

```
$("#chatRooms").children(".chatRoom:random"); 
```

或者你可以使用这样的东西，它不需要另一个插件

```
var count = $("#chatRooms > .chatRoom").length;
var random = Math.Round(Math.random()*count);
$("#chatRooms > .chatRoom").eq(random); 
```

# synchronization - 两个MCU之间的通信可以使用spi协议吗？

> ID：11913868
> 
> 赞同：0
> 
> 时间：2012-08-11T10:24:34.687
> 
> 标签：synchronization, arm, spi, msp430

MCU 和设备上的 SPI 协议使用。我想知道它是否可以用于两个单片机的通信。像 s3c2440 & msp430。如果没问题，我应该注意什么。（他们有不同的时钟 25MHz 和 >100MHz）如果它不能使用，请告诉一些原因谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:34:58.827

是的，只要*至少有一个 MCU 可以充当 SPI 从机*，那应该没有问题。

SPI 总线应该独立于 CPU 时钟频率，因此您应该没有问题找到共同支持的速度。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-15T21:49:18.253

如果至少有一个设备可以充当 SPI 从设备，则可以使用 SPI 进行 CPU 之间的通信，但 SPI 在用于此类目的时存在两个主要问题：

1.  从设备没有标准机制来指示它何时准备好让主设备为下一个字节计时，也没有在从设备未准备好时指示主设备已经计时了一个字节。因此，有必要为此使用额外的通信线路，或者让主机在每个字节后等待足够长的时间以适应从机的最坏情况时序。
2.  没有标准机制可以让主机或从机指示它是否有话要说，也没有标准机制可以指示它想要发送但尚未准备好接收。

除非处理器包含足够的硬件来处理“邮箱式”系统而无需 CPU 干预，否则我认为 SPI 在几乎所有方面都不如简单的异步串行。

# debugging - 使用 emacs 和 distel 调试 erlang

> ID：11913869
> 
> 赞同：2
> 
> 时间：2012-08-11T10:24:36.293
> 
> 标签：debugging, erlang

我是 erlang 的新手，看过[这篇教程文章](http://bc.tech.coop/blog/070528.html)。

我的环境是 Emacs24 和 R15B01。

我做的都是一样的，如下所示：

1.  Cc Cz 打开 erlang shell
2.  c([my_module.erl],[debug_info]) 用调试信息编译代码
3.  Cc Cd L 加载模块（在此之前，我打开了一个终端来启动一个erlang节点）
4.  Cc Cd i 进入解释成功
5.  Cc Cd b 添加断点

当我第一次做所有这些时，调试器是完美的，我可以看到我想要的一切。但是当我添加另一个断点时，它无法生效。

有没有我错过的步骤？

谢谢你。

# node.js - 猫鼬填充儿童

> ID：11913883
> 
> 赞同：1
> 
> 时间：2012-08-11T10:26:15.697
> 
> 标签：node.js, mongodb, mongoose

我正在学习猫鼬，查看文档[http://mongoosejs.com/docs/populate.html](http://mongoosejs.com/docs/populate.html)

然后我做了：

```
# initialize some TodoLists and their todos

l1 = new TodoList
    name: "List 1"
l2 = new TodoList
    name: "List 2"

t1 = new Todo 
    title: "Todo 1"
    desc: "Hello 1"
    list: l1._id
t2 = new Todo 
    title: "Todo 2"
    desc: "Hello 1"
    list: l1._id
t3 = new Todo 
    title: "Todo 3"
    dueOn: new Date 2012,6,1
    completedOn: new Date 2012,6,1
    list: l1._id
t4 = new Todo 
    title: "Todo 4"
    desc: "Hello 4"
    list: l2._id

# save all
async.parallel [
    (done) -> l1.save(done)
    (done) -> l2.save(done)
    (done) -> t1.save(done)
    (done) -> t2.save(done) 
    (done) -> t3.save(done)
    (done) -> t4.save(done)
], (err) -> 
    if !err
            # debugging
    Todo.find {}, (err, todos) ->
        console.log todos
            # the populate
    TodoList.findOne({ name: "List 2" })
            .populate("todos")
            .exec (err, list) ->
                console.log list
                done()
    else
        done err 
```

我得到的是这样的：

```
 [ { desc: 'Hello 1',
    list: 5026321c684d0a6b08000007,
    _id: 5026321c684d0a6b08000009,
    __v: 0 },
  { desc: 'Hello 1',
    list: 5026321c684d0a6b08000007,
    _id: 5026321c684d0a6b0800000a,
    __v: 0 },
  { dueOn: Sun Jul 01 2012 00:00:00 GMT+0800 (SGT),
    completedOn: Sun Jul 01 2012 00:00:00 GMT+0800 (SGT),
    list: 5026321c684d0a6b08000007,
    _id: 5026321c684d0a6b0800000b,
    __v: 0 },
  { desc: 'Hello 4',
    list: 5026321c684d0a6b08000008,
    _id: 5026321c684d0a6b0800000c,
    __v: 0 } ]
{ name: 'List 2',
  _id: 5026321c684d0a6b08000008,
  __v: 0,
  todos: [] } 
```

Noice 最后一行，todos 没有填充，我希望它有 Todo 4？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T18:31:27.400

Refs 不是双向的。您已将 refs 保存到`Todo`s 的 parent `List`s，但您没有将`Todo`s 的 refs 存储到`List.todos`数组中。

假设您的 List 架构类似于：

```
var ListSchema = new Schema({
  ...
  todos : [{ type: Schema.Types.ObjectId, ref: 'Todo' }]
}); 
```

然后你需要做一个`list.todos.push(todo._id)`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-11T05:12:56.767

通过使用以下代码，您无需在 ListSchema 中添加 todos 键。只需在定义 ListSchema 后放入以下代码：

```
ListSchema.virtual('todos', {
    ref: 'Post',
    localField: '_id',
    foreignField: 'list'
}); 
```

现在在列表集合中填充待办事项。

```
ListModel.find({}).populate('todos').exec((err, lists) => {
    if (err) return res.status(500).json(err);

    return res.status(200).json(lists);
}); 
```

# android - Android 从某个宽度更改 ActionBar 选项卡

> ID：11913888
> 
> 赞同：0
> 
> 时间：2012-08-11T10:27:28.190
> 
> 标签：android, android-layout, android-actionbar, android-theme, android-tabs

我有一个棘手的问题。我现在正在设计 Android 应用程序，但我对标签如何从某个宽度的显示中显示的方式有疑问。我将 ActionBarSherlock 库和 ViewPager 用于选项卡。

问题是我对 ActionBar 使用黄色，对选项卡使用黑色，对选项卡指示器使用黄色，但是当我在更宽的屏幕或横向模式下查看应用程序时（我猜大约从宽度 400dp 开始）我看不到指示器，因为选项卡隐藏在操作栏中，并且指示器具有完全相同的颜色。有没有办法从某些显示宽度更改选项卡指示器的颜色？

我试图通过制作 layout-sw400dp/layout.xml、新的 9patche 和新样式来做到这一点，但我不能让它以这种方式工作，我认为现在不可能这样做。你知道怎么做吗？

非常感谢您提前。

**更新** 我已经通过以下方式解决了它。我创建了文件夹 drawable-w400dp 和 drawable-land（用于古代手机）。只有可能会以 wrog 方式显示的手机是黑莓手机，比如机器人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T11:45:40.527

您是否尝试过使用操作栏样式生成器。我用了这个，我的标签在两个方向都有亮点[http://jgilfelt.github.com/android-actionbarstylegenerator/](http://jgilfelt.github.com/android-actionbarstylegenerator/)它为你生成 9patches 和 XML

# mysql - 空外键或表连接

> ID：11913894
> 
> 赞同：3
> 
> 时间：2012-08-11T10:27:56.740
> 
> 标签：mysql

我有一个用户个人资料表。

```
id int (pk)
user_name varchar(50)
email_address varchar(100)
relationship_status tinyint(1)(FK) 
```

然后我有一个关系表。关系是用户配置文件表中的可选字段。如果没有选择 relationship_status 或关系和 user_profile 之间的表，则最佳做法是执行空连接。

这是一个简单的例子，但如果连接是可选的，我最终会在中间有多个表。这可能会导致过多的连接。但是，我读过可能会遇到空连接问题而不是最佳实践。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-30T00:19:31.547

这取决于表之间的关系。如果是一对多或多对多。如果每个用户可以有一个且只有一个关系状态，那么如果每个用户可以有多个关系，则执行“空连接”而不是“中间的表”

**一对多关系示例：**

```
User Table
- id
- name
- relationship_id

Relationship Table
- id
- type 
```

在这种情况下，关系表将包含“用户”、“管理员”等数据，并且用户只能是“用户”或“管理员”，但不能同时是两者。（在这种特殊情况下，有时我会让关系表的 id 列是像“user”或“admin”这样的字符串，这样你就不必对其进行连接，你总是在用户表中拥有它）。

**多对多关系示例：**

```
User Table
- id
- name

Relationship Table
- id
- type

User Relationship Table
- user_id
- relationship_id 
```

在这种情况下，一个用户可以有多个关系。关系表将包含“editor”、“reviewer”、“copywriter”、“admin”等数据，每个用户可以是这些数据的任意组合（即，用户 1 可以是编辑和文案）。

# postgresql - pg_hba.conf 中的“local”和“localhost”连接类型有什么区别？

> ID：11913897
> 
> 赞同：3
> 
> 时间：2012-08-11T10:28:39.843
> 
> 标签：postgresql, connection, localhost

这是我的相关部分`pg_hba.conf`：

```
# TYPE  DATABASE        USER            ADDRESS                 METHOD

# "local" is for Unix domain socket connections only
local   all             all                                     ident
# IPv4 local connections:
host    all             all             127.0.0.1/32            ident
# IPv6 local connections:
host    all             all             ::1/128                 ident 
```

pidentd 服务正在运行。

当我尝试登录 ee1 时（我假设默认用户是 postgres）：

```
psql ee1 
```

它说“用户 postgres 的对等身份验证失败”

1.  我在哪里`peer`为“postgres”配置了身份验证？是`ident`。

2.  当我更改以下行时`pg_hba.conf`：

    ```
    local   all             all                                 ident 
    ```

    至

    ```
    local   all             all                                 md5 
    ```

    它要求我输入密码，我可以登录。为什么更改本地连接类型会对 postgres 用户产生影响？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T11:00:13.207

`ident`身份验证意味着您的操作系统用户与数据库用户匹配。它仅支持 TCP/IP 连接作为[文档状态中的相关条目](http://www.postgresql.org/docs/current/interactive/auth-methods.html#AUTH-IDENT)。如果与 Unix 套接字一起使用，将使用[对等身份验证方法。](http://www.postgresql.org/docs/current/interactive/auth-methods.html#AUTH-PEER)

另外，请注意，默认用户不是`postgres`，而是您当前登录的用户。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T14:34:16.900

`local`是 pg_hba.conf 中使用的连接类型，while`localhost`是本地环回的网络地址，并转换为 IPv4 地址`127.0.0.1`或 IPv6 `::1`。
我引用[手册关于`pg_hba.conf`](http://www.postgresql.org/docs/current/interactive/auth-pg-hba-conf.html)：

> **当地的**
> 
> 此记录匹配使用 Unix 域套接字的连接尝试。如果没有这种类型的记录，则不允许 Unix 域套接字连接。
> 
> 主持人
> 
> 此记录匹配使用 TCP/IP 进行的连接尝试。主机记录匹配 SSL 或非 SSL 连接尝试。
> 
> 注意：除非使用适当的 listen_addresses 配置参数值启动服务器，否则无法进行远程 TCP/IP 连接，因为默认行为是仅在**本地环回地址 localhost 上侦听 TCP/IP 连接。**

对于 postgresql.conf 中的[GUC*`listen_addresses`](http://www.postgresql.org/docs/current/interactive/runtime-config-connection.html#GUC-LISTEN-ADDRESSES)，`localhost`也可以作为设置：
[* GUC: [Grand Unified Configuration](http://www.postgresql.org/docs/current/interactive/config-setting.html)]

> 默认值为**localhost**，它只允许进行本地 TCP/IP“环回”连接。

大胆强调我的。

# android - 无法运行 openCV 示例 FaceDetection 应用程序

> ID：11913900
> 
> 赞同：1
> 
> 时间：2012-08-11T10:28:52.917
> 
> 标签：android, eclipse, opencv

我已经下载了 openCV 库。现在，当我尝试运行示例 faceDetection 应用程序时，它显示以下错误：

```
08-11 15:59:55.071: E/AndroidRuntime(13837): FATAL EXCEPTION: main
08-11 15:59:55.071: E/AndroidRuntime(13837): java.lang.UnsatisfiedLinkError: Couldn't load detection_based_tracer: findLibrary returned null

 08-11 15:59:55.071: E/AndroidRuntime(13837):   at java.lang.Runtime.loadLibrary(Runtime.java:429)
08-11 15:59:55.071: E/AndroidRuntime(13837):    at java.lang.System.loadLibrary(System.java:554)
08-11 15:59:55.071: E/AndroidRuntime(13837):    at com.kratin.opencvfacedetection.FdActivity$1.onManagerConnected(FdActivity.java:36)
08-11 15:59:55.071: E/AndroidRuntime(13837):    at org.opencv.android.AsyncServiceHelper$1.onServiceConnected(AsyncServiceHelper.java:206)
08-11 15:59:55.071: E/AndroidRuntime(13837):    at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1064)
 08-11 15:59:55.071: E/AndroidRuntime(13837):   at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1081)
08-11 15:59:55.071: E/AndroidRuntime(13837):    at android.os.Handler.handleCallback(Handler.java:587)
08-11 15:59:55.071: E/AndroidRuntime(13837):    at android.os.Handler.dispatchMessage(Handler.java:92)
08-11 15:59:55.071: E/AndroidRuntime(13837):    at android.os.Looper.loop(Looper.java:130)
  08-11 15:59:55.071: E/AndroidRuntime(13837):  at android.app.ActivityThread.main(ActivityThread.java:3701)
 08-11 15:59:55.071: E/AndroidRuntime(13837):   at java.lang.reflect.Method.invokeNative(Native Method)
 08-11 15:59:55.071: E/AndroidRuntime(13837):   at java.lang.reflect.Method.invoke(Method.java:507)
 08-11 15:59:55.071: E/AndroidRuntime(13837):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)
 08-11 15:59:55.071: E/AndroidRuntime(13837):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:624)
 08-11 15:59:55.071: E/AndroidRuntime(13837):   at dalvik.system.NativeStart.main(Native Method) 
```

但是预编译的 facedetection.apk 运行没有任何问题。那么当我从示例应用程序运行它时出了什么问题？请帮帮我..我正在使用 ubuntu 操作系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-24T05:28:38.720

如果你使用 ubuntu，

项目右键->属性->c/c++构建->构建命令

如果这是 ndk-build.cmd ，则必须修复“ your ndk path/ndk-build ”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T12:23:59.120

已解决..我已将环境变量路径设置为ndk..并使用ln命令建立链接，重建后问题解决..

# c# - 关闭 XDOCUMENT 的实例

> ID：11913904
> 
> 赞同：5
> 
> 时间：2012-08-11T10:29:11.323
> 
> 标签：c#, xml, winforms

我收到此错误

> *该进程无法访问文件“C:\test\Person.xml”，因为它正被另一个进程使用。IOException 未处理*

将内容保存在文件中后，如何关闭 xml 文件的实例？

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.IO;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Xml;
using System.Xml.Linq;

namespace XmlAddDelRecord
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
            LoadDatagrid();
        }

        private void LoadDatagrid()
        {
            try
            {
                XmlReader xmlFile;
                xmlFile = XmlReader.Create(filePath, new XmlReaderSettings());
                DataSet ds = new DataSet();
                ds.ReadXml(xmlFile);
                dataGridView1.DataSource = ds.Tables[0];
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.ToString());
            } 
        }

        private const string filePath = @"C:\test\Person.xml";

        private void button1_Click(object sender, EventArgs e)
        {
            var xmlDoc = new XmlDocument();

            xmlDoc.Load(filePath);

            var subRoot = xmlDoc.CreateElement("Customer");
            subRoot.SetAttribute("id", textBox6.Text.Trim());

            var firstName = xmlDoc.CreateElement("FirstName");
            var xmlTextUserName = xmlDoc.CreateTextNode(textBox1.Text.Trim());
            firstName.AppendChild(xmlTextUserName);
            subRoot.AppendChild(firstName);
            if (xmlDoc.DocumentElement != null) xmlDoc.DocumentElement.AppendChild(subRoot);

            var email = xmlDoc.CreateElement("LastName");
            var xmlTextEmail = xmlDoc.CreateTextNode(textBox2.Text.Trim());
            email.AppendChild(xmlTextEmail);
            subRoot.AppendChild(email);
            if (xmlDoc.DocumentElement != null) xmlDoc.DocumentElement.AppendChild(subRoot);

            var mobile = xmlDoc.CreateElement("Mobile");
            var xmlTextMobile = xmlDoc.CreateTextNode(textBox3.Text.Trim());

            mobile.AppendChild(xmlTextMobile);
            subRoot.AppendChild(mobile);

            if (xmlDoc.DocumentElement != null) xmlDoc.DocumentElement.AppendChild(subRoot);

            var address = xmlDoc.CreateElement("Address");
            var xmlTextAddress = xmlDoc.CreateTextNode(textBox4.Text.Trim());
            address.AppendChild(xmlTextAddress);
            subRoot.AppendChild(address);
            if (xmlDoc.DocumentElement != null) xmlDoc.DocumentElement.AppendChild(subRoot);

            var country= xmlDoc.CreateElement("Country");
            var xmlTextCountry = xmlDoc.CreateTextNode(textBox5.Text.Trim());
            country.AppendChild(xmlTextCountry);
            subRoot.AppendChild(country);

            if (xmlDoc.DocumentElement != null) xmlDoc.DocumentElement.AppendChild(subRoot);

            xmlDoc.Save(filePath);
            if (File.Exists(filePath)) return;

            var textWritter = new XmlTextWriter(filePath, null);
            textWritter.WriteStartDocument();
            textWritter.WriteStartElement("CustomerRecord");
            textWritter.WriteEndElement();

            textWritter.Close();
        }

        //Search record if not found then add a record
        private void button3_Click(object sender, EventArgs e)
        {
            XDocument doc = XDocument.Load(filePath);

            string id = textBox6.Text;
            XElement element = doc.Descendants("Customer").FirstOrDefault(p => p.Attribute("id").Value == id);

            if (element != null)
            {
                //found
                textBox6.Text = textBox6.Text;
                textBox1.Text = (string)element.Element("FirstName");
                textBox2.Text = (string)element.Element("LastName"); 
                textBox3.Text = (string)element.Element("Mobile");
                textBox4.Text = (string)element.Element("Address");
                textBox5.Text = (string)element.Element("Country");
            }
            else
            {
                //Not found
                //To add a customer
                var FirstName = textBox1.Text;
                var LastName = textBox2.Text;
                var Mobile = textBox3.Text;
                var Address = textBox4.Text;
                var Country = textBox5.Text;

                var ele = new XElement("Customer");
                ele.SetAttributeValue("id", id);
                ele.Add(new XElement("FirstName", FirstName));
                ele.Add(new XElement("LastName", LastName));
                ele.Add(new XElement("Mobile", Mobile));
                ele.Add(new XElement("Address", Address));
                ele.Add(new XElement("Country", Country));

                if (doc.Root != null) doc.Root.Add(ele);

                doc.Save(filePath, SaveOptions.None);

                dataGridView1.Refresh();
                dataGridView1.Parent.Refresh();
            }
        }

        //To Remove Record
        private void button2_Click(object sender, EventArgs e)
        {
            XDocument doc = XDocument.Load(filePath);

            var q = from node in doc.Descendants("Customer")
                    let attr = node.Attribute("id")
                    where attr != null && attr.Value == textBox6.Text 
                    select node;

            q.ToList().ForEach(x => x.Remove());
            doc.Save(filePath, SaveOptions.None);

            dataGridView1.Refresh();
            dataGridView1.Parent.Refresh();
        }
    }
} 
```

![在此处输入图像描述](../Images/d2cd60ea8ed9b5304311517300d0bc09.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-11T10:46:23.547

`XDocument.Load(string)`加载后关闭文件。如果您需要直接访问 i/o 对象并且可以自己关闭它：

```
XDocument document;
using (var reader = XmlReader.Create(file))
{
    document = XDocument.Load(reader);
} 
```

似乎是其他程序访问此文件。

* * *

在`LoadDatagrid()`方法中更改为：

```
private void LoadDatagrid()
{
    try
    {
        using (XmlReader xmlFile = XmlReader.Create(filePath, 
                                                    new XmlReaderSettings()))
        {
            DataSet ds = new DataSet();
            ds.ReadXml(xmlFile);
            dataGridView1.DataSource = ds.Tables[0];
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show(ex.ToString());
    }
} 
```

你必须`Close/Dispose`你的`XmlReader`

# android - 在 java servlet 中创建 Json 响应

> ID：11913906
> 
> 赞同：1
> 
> 时间：2012-08-11T10:29:27.313
> 
> 标签：android, json, servlets

我正在尝试`JSON`从 java 创建响应`servlet`。通过使用一些教程，我做了

```
 JSONObject json      = new JSONObject();
    JSONArray  addresses = new JSONArray();
    JSONObject address;
    try
    {
       int count = 5;

       for (int i=0 ; i<count ; i++)
       {
           address = new JSONObject();
           address.put("CustomerName"     , "Decepticons" + i);
           address.put("Street"            , "Devestator Avenue" + i);
           address.put("City"              , "Megatron City" + i);
           address.put("Country"           , "CyberTron" + i);
           addresses.add(address);
       }
       json.put("Addresses", addresses);
    }
    catch (JSONException jse)
    { 

    }
    response.setContentType("application/json");
    response.getWriter().write(json.toString()); 
```

输出是

```
 {"Addresses":[{"CustomerName":"Decepticons0","Street":"Devestator Avenue0","City":"Megatron City0","Country":"CyberTron0"},{"CustomerName":"Decepticons1","Street":"Devestator Avenue1","City":"Megatron City1","Country":"CyberTron1"},{"CustomerName":"Decepticons2","Street":"Devestator Avenue2","City":"Megatron City2","Country":"CyberTron2"},{"CustomerName":"Decepticons3","Street":"Devestator Avenue3","City":"Megatron City3","Country":"CyberTron3"},{"CustomerName":"Decepticons4","Street":"Devestator Avenue4","City":"Megatron City4","Country":"CyberTron4"}]} 
```

问题是当我尝试将其解析到我的 android 应用程序中时，它显示错误为

解析数据时出错`org.json.JSONException: Value <html><head><title>Apache of type java.lang.String cannot be converted to JSONObject`

[我正在使用来自http://www.androidhive.info/2012/01/android-json-parsing-tutorial/](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)的 android 代码 json 解析示例

任何人都可以解决我的问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:38:00.080

尝试

```
json.toJSONString() 
```

代替

```
json.toString() 
```

# iphone - 点击时 UItableviewcell 背景颜色

> ID：11913907
> 
> 赞同：2
> 
> 时间：2012-08-11T10:29:35.457
> 
> 标签：iphone, ios, uitableview, uibackgroundcolor

如何为整个单元格设置颜色，该单元格在uitableview中未选中时选择或选中并重置为以前的颜色？我试过但它显示背景颜色一秒。任何人都可以帮我编码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T05:30:49.563

好的，在这里我认为您想在选中时为您的单元格着色，如果未选中则为另一种颜色，将这些选定的单元格保留为以前的颜色。所以在全球范围内有一个数组状态。在 didSelectRowAtIndexPath ：

```
if (![myMutableArray containsObject:indexPath]) {
    [myMutableArray addObject:indexPath]; 
}
else{
    [myMutableArray removeObject:indexPath];
}

[sampleTableView reloadData]; 
```

在 cellForRowAtIndexPath 中：

```
if ([myMutableArray containsObject:indexPath]) {
    cell.backgroundColor = [UIColor redColor];
}
else{
    cell.backgroundColor = [UIColor greenColor];
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T11:37:00.787

在你的头文件中创建一个 NSIndexPath 对象（让它在这里使用的检查索引路径）并分配它的属性并合成它。在你的 tableView 的方法 cellForRowAtIndexPath 中使用：

```
cell.selectionStyle = UITableViewCellSelectionStyleNone; 
```

现在在您的 didSelectRowAtIndexPath 中使用以下内容：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

if(self.checkedIndexPath)
{
    UITableViewCell* uncheckCell = [tableView cellForRowAtIndexPath:self.checkedIndexPath];
    uncheckCell.backgroundColor = [UIColor green];
}
UITableViewCell* cell = [tableView cellForRowAtIndexPath:indexPath];
cell.backgroundColor = [UIColor redColor];
self.checkedIndexPath = indexPath;

} 
```

使用它，如果选中，您的单元格将显示为红色，如果未选中，则显示为绿色。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T10:39:34.153

可以设置背景颜色`UITableViewCell`

```
cell.backgroundView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"cell_normal.png"]] 
```

然后在点击事件颜色会自动改变。

您可以通过以下方式更改选择的颜色：-

```
cell.selectionStyle = UITableViewCellSelectionStyleBlue; 
```

用于更改 textLabel 颜色。

```
cell.textLabel.textColor = [UIColor blackColor]; 
```

# magento - Magento 始终显示所有页面上的 SSL url

> ID：11913908
> 
> 赞同：0
> 
> 时间：2012-08-11T10:29:50.767
> 
> 标签：magento, ssl

我有一个 Magento 网站，上面有 ssl，当我使用支持的 ssl 启用它时，它会在我的网站的每个页面中显示带有产品页面的 ssl url，这是一个巨大的问题。我只是从管理面板禁用 ssl 并清除所有现金和会话，但它仍然在后端和每个页面的字体末尾显示 https url。

在我从后端禁用安全 URL 之后，当我点击保存配置按钮时，它会给出 js 警告

```
Although this page is encrypted, the information you have entered is to be sent over an unencrypted connection and could easily be read by a third party.

Are you sure you want to continue sending this information? 
```

单击“是”时，它会显示一条消息已成功保存，但根本没有保存，所以现在无论什么 ssl 禁用了所有显示 SSL 的页面，任何人都可以帮助我

网站网址是 [http://panoramicessentials.com](http://panoramicessentials.com) ![在此处输入图像描述](../Images/20fea63cb1830a3a3f5ad395570a1ff2.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T11:03:23.870

确保 SSL 不是由 apache 配置或在具有 mod_rewrite 规则的 .htaccess 中强制使用的。还要检查您的 unsecure_base_url 是否为 http:// 而不是 https://

# objective-c - 使用opencv或其他一些技术识别出现在图像ios四个角上的黑色图案

> ID：11913911
> 
> 赞同：4
> 
> 时间：2012-08-11T10:30:26.333
> 
> 标签：objective-c, ios, image-processing, pattern-matching, image-recognition

我遇到了一个问题，即如何识别图像中的某些模式。

图像是纯白色的纸图像，四个角的图案是黑色的。我想识别图像上的黑色图案？

我在网上冲浪了很多，发现opencv作为答案。但是没有提供任何内容来描述如何使用 opencv 来实现所需的功能。

请帮助我提供一些编码观点或提供一些我应该遵循的链接或任何我应该用来实现此功能的开源库的名称。图案的图像如下： - ![在此处输入图像描述](../Images/8b57fa857eb5b4d2cf72a578e70b456b.png)

图像由纯白色背景和角落中的四个黑色图案组成。我需要识别所有四个角落中的这些黑色图案，然后对图像进行处理。以椭圆形显示的一个角落以突出显示它。

任何建议将不胜感激。

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-14T19:30:22.130

我真的不明白你的问题 - 如果你说：

> 图像是纯白色的纸图像，四个角的图案是黑色的。

那么从图像中只屏蔽这四个轮廓有什么问题呢？在用 4 个长度为 40 像素的正方形做蒙版后，我得到了这个：

![在此处输入图像描述](../Images/e94e197d49ab3139e7cc0171644564d0.png)

要删除小区域，您可以使用形态学操作。我懂了：

![在此处输入图像描述](../Images/91dd266711523b717ebefbe29fc17153.png)

只需在输入图像上绘制它们（可选）。结果如下：

![在此处输入图像描述](../Images/469c5a368b3e1d1247990c63074579a9.png)

为了实现这个算法，我使用 OpenCV 库。我 100% 确定它适用于 IOS - OpenCV 团队终于[发布了 IOS 版本](http://sourceforge.net/projects/opencvlibrary/files/opencv-ios/2.4.2/opencv2.framework.zip/download)。所以如果你说：

> 我尝试运行 OpenCV-iOS 链接，但项目没有运行，它显示错误。

那么我们无法帮助你，因为我们不是心灵感应者，无法看到你的问题。只是一个小建议——试着用谷歌搜索你的问题。我有 99% 的把握它应该会有所帮助。

以免我忘记 - 这是 C++ 代码：

```
Mat src = imread("input.png"), tmp;

//convert image to 1bit
cvtColor(src, tmp, CV_BGR2GRAY);
threshold(tmp, tmp, 200, 255, THRESH_OTSU);

//do masking
#define DELTA 40
for (size_t i=0; i<tmp.rows; i++)
{
    for (size_t j=0; j<tmp.cols; j++)
    {
        if(!((i < DELTA && j < DELTA)
         || (i < DELTA && j > tmp.cols - DELTA)
         || (i > tmp.rows - DELTA && j < DELTA)
         || (i > tmp.rows - DELTA && j > tmp.cols - DELTA)))
        {
            //set color to black
            tmp.at<uchar>(i, j) = 255;
        }
    }
}

bitwise_not(tmp,tmp);

//erosion and dilatation:
Mat element = getStructuringElement(MORPH_RECT, Size(2, 2), Point(1, 1));

erode(tmp, tmp, element);
dilate(tmp, tmp, element);

//(Optional) find contours and draw them:
vector<Vec4i> hierarchy;
vector<vector<Point2i> > contours;

findContours(tmp, contours, hierarchy, CV_RETR_EXTERNAL, CV_CHAIN_APPROX_SIMPLE);

for (size_t i=0; i<contours.size(); i++)
{
    drawContours(src, contours, i, Scalar(0, 0, 255), 1);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T11:11:41.990

也许这个[问题](https://stackoverflow.com/questions/5054233/pattern-recognition-using-opencv)对您有帮助，尤其是[网球识别教程](http://wiki.elphel.com/index.php?title=OpenCV_Tennis_balls_recognizing_tutorial)的链接似乎正是您正在寻找的。

关于如何在 iOS 上使用 OpenCV，您可能想看看[OpenCV-iOS](https://github.com/macmade/OpenCV-iOS)和[Computer Vision with iOS](http://aptogo.co.uk/2011/09/opencv-framework-for-ios/)。

# c# - c#中的组合框更新

> ID：11913914
> 
> 赞同：0
> 
> 时间：2012-08-11T10:30:52.830
> 
> 标签：c#, sql-server

我正在处理组合框，我正在刷新组合框值，首先我删除所有值，然后重新填充它。但它不起作用。该代码复制了组合框中的值，这会产生问题。这是我的代码。

```
 for (int i = 0; i < updateCombo.Items.Count; i++)
    updateCombo.Items.RemoveAt(i);

    //----------- Now Adding New Values --------
    updateCombo.Items.Add("Select an option . . .");

    SqlCommand command = new SqlCommand(Queries.qry9, connection);
    SqlDataReader reader = command.ExecuteReader(); 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:39:15.863

不知道为什么会发生这种情况 - 但如果 Items.Count 返回为 0，那么您的循环将不会从项目列表中删除任何现有内容，并且您将得到重复项。

您是否尝试过清除列表的所有内容，而不管使用：

```
updateCombo.Items.Clear(); 
```

它使您不必遍历它们，无论如何都要将它们一一删除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T11:39:49.717

您的 for 循环正在删除 0 处的项目，然后是 1 处，然后是 2 处，依此类推。但是，当 0 处的项目被删除时，列表中的该位置不会保持为空 - 其他项目实际上向下移动了一个。

因此，如果您将清算代码更改为：

```
for (int i = 0; i < updateCombo.Items.Count; i++)
updateCombo.Items.RemoveAt(0); 
```

它应该工作。但是，正如其他人所建议的那样，使用`updateCombo.Items.Clear();`是一种更好的方法。

# java - 在 JPanel 上绘制一个矩形

> ID：11913923
> 
> 赞同：1
> 
> 时间：2012-08-11T10:33:50.743
> 
> 标签：java, swing, drawing, jpanel, paintcomponent

我正在使用 Swing 设计一个简单的乒乓球游戏。该游戏由 5 个 .java 文件实现 - PingPongApp.java 是 JVM 的入口点，MainPanel.java 是一个面板，它组织了 2 个子面板：按钮面板和屏幕面板 (ScreenPanel.java)，然后是 Ball.java 和 Racket .java 实现了球和球拍的逻辑。我正在尝试在屏幕面板上绘制球和球拍，但问题是不知何故，球是我运行应用程序时唯一绘制的对象。这是我的代码：

球拍.java

```
import java.awt.*;
public class Racket{
    public Racket(int x, int y, int width, int height){
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
    public void draw(Graphics g){
        g.setColor(Color.RED);
        g.fillRect(x, y, width, height);
    }
    private int x, y, width, height;
} 
```

Ball.java

```
import java.awt.*;
public class Ball{
    public Ball(int x, int y, int velocityX, int velocityY){
        this.x = x;
        this.y = y;
        this.velocityX = velocityX;
        this.velocityY = velocityY;
    }
    public void setBounds(int width, int height){
        rightBoundary = width - DIAMETER;
        bottomBoundary = height - DIAMETER;
    }
    public void move(){
        // Move the ball
    }
    public void draw(Graphics g){
        g.fillOval(x, y, DIAMETER, DIAMETER)
    }
    private final static int DIAMETER = 21;
    private int x, y, velocityX, velocityY, rightBoundary, bottomBoundary;
} 
```

屏幕面板.java

```
import java.awt.*;
import javax.swing.*;
import java.awt.event.*;
public class ScreenPanel extends JPanel{
    public ScreenPanel(){
        initComponents();
    }
    private void initComponents(){
        interval = 35;
        ball     = new Ball(130, 0, 2, 3);
        racket   = new Racket(120, 250, 70, 10);            
        setPreferredSize(new Dimension(200, 200));
        setBorder(BorderFactory.createLineBorder(Color.BLACK));
        timer = new Timer(interval, new ActionListener(){
            @Override
            public void actionPerformed(ActionEvent evt){
                ball.setBounds(getWidth(), getHeight());
                ball.move();
                repaint();  
            }
        });
    }
    public void paintComponent(Graphics g){
        super.paintComponent(g);
        ball.draw(g);
        racket.draw(g);  
    }
    public void startOrPauseGame(boolean turnOnOff){
        if(turnOnOff){
            timer.start();
        } else {
            timer.stop();
        }
    }
    private Racket racket;
    private Timer timer;
    private Ball ball;
    private int interval;
} 
```

主面板.java

```
import java.awt.*;
import javax.swing.*;
import java.awt.event.*;
public class MainPanel extends JPanel{
    public MainPanel(){
        initComponents();
    }
    private void initComponents(){
        buttonPanel = new JPanel(new FlowLayout());
        screenPanel = new ScreenPanel();
        cmdStart    = new JButton("Start/Resume");
        cmdPause    = new JButton("Pause");
        addComponentsToPane();
    }
    public void addComponentsToPane(){
        buttonPanel.add(cmdStart);
        buttonPanel.add(cmdPause);
        setLayout(new BorderLayout());
        add(buttonPanel , BorderLayout.NORTH);
        add(screenPanel , BorderLayout.SOUTH);
        cmdStart.addActionListener(new ActionListener(){
            @Override
            public void actionPerformed(ActionEvent evt){
                // Start the game  
            }                   
        });
        cmdPause.addActionListener(new ActionListener(){
            @Override
            public void actionPerformed(ActionEvent evt){
                // Pause the game 
            }    
        });   
    }
    private ScreenPanel screenPanel;
    private JPanel buttonPanel;
    private JButton cmdStart, cmdPause;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T11:12:33.520

问题是您的球拍的*y*坐标大于面板的首选尺寸高度`ScreenPanel`：- 250 > 200：

```
 racket = new Racket(120, 250, 70, 10);
                              ^
    setPreferredSize(new Dimension(200, 200)); 
```

使球拍脱离屏幕。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-11T11:13:31.340

这是我在 ScreenPanel 类的程序中找到的代码

```
racket   = new Racket(120, 250, 70, 10);            
setPreferredSize(new Dimension(200, 200)); 
```

将其更改为您将获得的正确值。Y 为 250，大小为 200。

# pdf - 在 Windows 上使用 Ghostscript 从 PDF 进行分页 JPEG 转换/导出

> ID：11913931
> 
> 赞同：1
> 
> 时间：2012-08-11T10:35:30.757
> 
> 标签：pdf, pdf-generation, ghostscript

我想使用**ghostscript**将**pdf源****转换**为一系列**jpeg**图像。一切正常，除了：

 *****   .jpeg 输出文件名的格式说明符 (%d) 在 Windows 上不起作用（我使用的是 Windows 7 64 位），因此我需要像每个页面一样调用 gswin64c.exe。
*   导出的 .jpeg 文件在页面周围有白色条纹，而 .pdf 没有任何东西 - 我可以以某种方式摆脱它们吗？

我的命令行：

```
gswin64c.exe \
   -dSAFER -dBATCH -dNOPAUSE \
   -sDEVICE=jpeg \
   -r350 \
   -dJPEGQ=100 \
   -dFirstPage=1 -dLastPage=1 \
   -sOutputFile=magazine-1.jpg \
     magazine.pdf 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T12:21:10.470

1.  在 Windows 上，您必须将格式说明符的字符加倍`%`才能获得页码增量：

    ```
    gswin64c.exe\
         -o 杂志页面_%%04d.jpg \
         -sDEVICE=JPEG\
         -r350\
         -dJPEGQ=100 \
          杂志.pdf

    ```

2.  如果没有看到您的 PDF，我无法确定您的白条来自哪里。

    所以，只是理论上的：通常，在现实中作为白色背景出现在 PDF 页面（在 PDF 阅读器中查看或打印在纸上）中的内容是*透明*背景。（您可以在 Acrobat Reader 中使透明区域可见：转到*首选项...* ->*页面显示*并激活复选框*显示透明度网格*。

    JPEG 不知道透明度并将所有完全透明的区域转换为白色。

    您可以在 ImageMagick 的帮助下修剪掉白色区域。或者，如果您知道每个条带的确切宽度（以及 PDF 页面尺寸），您可以通过其他命令行参数告诉 Ghostscript 修剪掉这些...

    您还可以转换为支持透明度的 PNG：

    ```
    gswin64c.exe\
         -o 杂志页面_%%04d.png \
         -sDEVICE=pngalpha\
         -r350\
          杂志.pdf

    ```

    请注意，页面图像周围仍然会有条纹 - 但是它们将是透明的而不是白色的。****

# jquery - 如何在我的输入中隐藏标签？

> ID：11913932
> 
> 赞同：0
> 
> 时间：2012-08-11T10:35:34.913
> 
> 标签：jquery, forms, plugins, input, label

如果用户从输入字段中删除他们的值，我希望标签重新出现，任何人都介意使用小提琴帮我一把。 [我的小提琴代码](http://jsfiddle.net/sdavadi/QqDLR/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:41:17.060

试试这个 - [http://jsfiddle.net/QqDLR/2/](http://jsfiddle.net/QqDLR/2/)

```
blur: function() {
    if($(this).val().length > 0) {
        label.hide();
    } else { 
        cssoptwo = {'zoom': '1','filter': 'alpha(opacity=100)','opacity': '1'};
        label.css(cssoptwo).fadeIn();

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T11:07:17.580

您正在调用“fadeOut()”和“hide()”函数，之后调用您的标签声明“display:none;”。要重新显示您的标签，您必须调用 fadeIn() 或 show() 等函数，或者将此声明更改为 'display:block;' 像我[在你的小提琴中所做的那样手动](http://jsfiddle.net/tonybo/QqDLR/5/)

# jquery - 具有多个 jquery 就绪功能的 Ember.js

> ID：11913935
> 
> 赞同：0
> 
> 时间：2012-08-11T10:36:10.403
> 
> 标签：jquery, ember.js, kendo-ui

我对创建 ember 应用程序时使用的 jquery 就绪函数有疑问。我有以下情况，我不太知道如何处理它。

我有两页。在第一个中，我想添加一个[Kendo UI 编辑器](http://demos.kendoui.com/web/editor/index.html)，当 DOM 准备好时，我执行以下代码：

```
 $(document).ready(function() {
                // create Editor from textarea HTML element with default set of tools
                $("#editor").kendoEditor();
            }); 
```

在第二页中，我只想添加一个带有以下代码的[Kendo UI 日历：](http://demos.kendoui.com/web/calendar/index.html)

```
 $(document).ready(function() {
                // create Calendar from div HTML element
                $("#calendar").kendoCalendar();
            }); 
```

我想在适当的 DOM（页面）准备好时执行每个代码，而不是在一个 jquery 就绪处理程序中一次执行。

你能建议一种方法来处理这个问题吗

干杯巴甫洛斯

# python - Python脚本奇怪的问题

> ID：11913941
> 
> 赞同：1
> 
> 时间：2012-08-11T10:37:34.010
> 
> 标签：python, urllib2, httplib

嘿，我正在使用 python 脚本来测试电子商务网站上的功能。我把这个脚本放在 pythonanywhere 网站上，有时可以连续工作 7 天没有问题，但是有几天，就像这样，当我收到这个错误时：

```
Logged in with test_cart
    Open http://[***]/electronics/page/1
Search ... iphone
[****************]
    File "/home/.../cart-pickup.py", line 58, in alo
    site = opener.open(url)
    File "/usr/local/lib/python2.7/urllib2.py", line 400, in open
    response = self._open(req, data)
    File "/usr/local/lib/python2.7/urllib2.py", line 418, in _open
    '_open', req)
    File "/usr/local/lib/python2.7/urllib2.py", line 378, in _call_chain
    result = func(*args)
    File "/usr/local/lib/python2.7/urllib2.py", line 1207, in http_open
    return self.do_open(httplib.HTTPConnection, req)
    File "/usr/local/lib/python2.7/urllib2.py", line 1180, in do_open
    r = h.getresponse(buffering=True)
    File "/usr/local/lib/python2.7/httplib.py", line 1030, in getresponse
    response.begin()
    File "/usr/local/lib/python2.7/httplib.py", line 407, in begin
    version, status, reason = self._read_status()
    File "/usr/local/lib/python2.7/httplib.py", line 371, in _read_status
    raise BadStatusLine(line)
    httplib.BadStatusLine: ''
    >>> 
```

任何想法可能是什么？提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:47:54.967

您可以使用以下方法教您的程序如何从这种情况中恢复而不会崩溃`try..except`：

```
try:
    site = opener.open(url)  # line 58 in cart-pickup.py
except IOError: 
    print "Error: Site not loading or it isnt UP. Retrying..." 
    # return site # This will cause a NameError if site is not defined.
    return url    # Perhaps you meant this?
except httplib.BadStatusLine:
    # log opening `url` did not succeed, or
    # queue it to be tried again, etc.
    pass 
```

# javascript - 在 javascritpt 中查找文件大小

> ID：11913951
> 
> 赞同：1
> 
> 时间：2012-08-11T10:38:50.840
> 
> 标签：javascript

我试图在上传之前找到文件大小

我使用代码**文件 [0].size**但它不工作 IE

请帮我获取 IE 中的文件大小

**谢谢你**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T10:43:12.577

这适用于 IE10。但是，由于对象的`size`属性`File`是 HTML5 特定的，所以在 IE9 和更早版本中，您不可能使用纯 Javascript 来做到这一点。是的，这很糟糕。

您将不得不依赖一些 Flash 解决方案或类似的东西。

# tfs - 如何使用 TFS SDK 从工作项中获取超链接文档列表

> ID：11913953
> 
> 赞同：2
> 
> 时间：2012-08-11T10:38:53.383
> 
> 标签：tfs

如何使用 TFS sdk 获取链接到 tfs 工作项的超链接名称列表。

目前我只能看到 1 个属性 HyperLinkCount，它只是让我知道超链接的数量。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T20:01:22.520

您需要`Links`使用`WorkItem`.

类型的链接`Microsoft.TeamFoundation.WorkItemTracking.Client.Hyperlink`是你所追求的，你可以像这样得到它们：

```
var hyperLinks = 
    workItemStore
    .GetWorkItem(12345)
    .Links
    .OfType<Hyperlink>(); 
```

# ios - 使用故事板以非模态方式切换视图的最简单和正确的方法

> ID：11913956
> 
> 赞同：3
> 
> 时间：2012-08-11T10:39:03.023
> 
> 标签：ios, xcode, uiview, storyboard

我对 iOS 开发完全陌生，但仍然不知道如何完成如此简单的任务。

我有一个原始的 xCode 4.4.1“单一视图应用程序”项目。

例如，我想要四个屏幕，每个屏幕都有用于切换到其他视图的按钮。

屏幕**不是**按层次设置的：例如，我希望能够从屏幕 1 切换到屏幕 2 或屏幕 3，从屏幕 2 切换到屏幕 4，等等。在应用程序运行时——显示第一个屏幕，但它的状态不是“root”或“main”——它只是一个常见的屏幕。

我的条件是：

1.  我只有默认的主故事板文件（xib 解决方案不好）。
2.  我不想依赖使用导航控制器或类似的预结构化的东西。

在我看来，我需要以某种方式设置带有子控制器的容器控制器，如 WWDC 2011 的 Session 102 中所述，但我不明白如何正确编写代码，因此它不会与主 Storyboard 冲突（我有两次尝试使用来自其他类似主题的基于 xib 的解决方案，但都失败了）。

我非常感谢一个完整的工作示例，因为我的经验还不允许我依赖部分提示，尽管它们也可以。

首选以编程方式执行此操作的解决方案（不使用拖动等 xCode UI 功能）。

谢谢！

更新：切换时，我不想每次都实例化新屏幕，而是重新使用现有的屏幕，如果它们已经存在的话。

更新 2：我的用例，针对这个问题进行了简化：

我有一个注册屏幕，带有相应的模式屏幕来处理所有常见的登录/注销/等情况。我有我的应用程序的主屏幕，在登录/注册程序完成后成为“主”应用程序屏幕。我不想让注册屏幕/控制器成为主屏幕的模式，因为主屏幕很大程度上取决于用户特定的信息，所以我希望这些屏幕不以任何方式按层次结构组织。对于这种简化的情况，我考虑采用以下流程：

1) 用户尚未登录 - 显示注册屏幕。后来，在注册之后。程序完成 -**切换**到“主”屏幕（这是我不知道的关键点，这就是为什么这个问题）。

2) 用户已登录并被应用程序识别 - 出现“主”屏幕。

像我描述的那样具有注册和“主”屏幕排除（或什么？）在“选项卡式应用程序”模板中具有“选项卡控制器”功能的情况，因为在我的情况下，我希望完全禁用选项卡栏 - 我需要什么不是导航。和导航栏功能，但只是在 reg 之间执行转换的方式。和“主”屏幕-这就是我在问题中“用手”的意思。

最后更新：

在试验了标签栏控制器之后，对于这个用例，我最终使用了禁用导航栏的导航控制器（我在标签栏控制器中没有找到类似的控制器）并通过*performSegueWithIdentifier*方法管理屏幕切换以及切换他们通过“手动”操作*viewControllers导航堆栈。*

谢谢大家的回答！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T13:52:55.927

可能最简单的做法是在情节提要中使用 segues。

右键单击并从主视图控制器拖动到其他每个控制器。它将询问要创建哪种类型的 segue，并选择模态。

然后，确保在标识符属性中为每个 segues 提供一个唯一的标识符字符串。

现在，从代码中，只要您希望其中一个视图控制器处于活动状态，您就可以调用

```
[self performSegueWithIdentifier:@"Foo Segue" sender:(id)sender]; 
```

上面的 sender 对象可以是您想要的任何东西，通常是您想要传递给准备显示的视图控制器的一些信息。

现在，就在显示 segue 之前，无论是通过编程方式还是直接来自故事板定义的交互，`prepareForSegue`都会调用该方法。因此，您将再次在“主”视图控制器的代码中执行类似的操作。

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // You have access to the view controller that is getting ready to be
    // displayed, as well as the identifier, so you can set values or whatever
    // before the view controller is presented.
    if ([segue.identifier isEqualToString:@"Foo Segue"]) {
        FooViewController *vc = segue.destinationViewController;
        // The view controller is completely instantiated, and you can do any
        // setup work, like setting property values on the view controller
        // to give it its model, or whatever else you want to do.
    }
} 
```

现在，您需要一些方法来知道该控制器何时完成。这可以通过多种方式完成。呈现的视图控制器可以关闭自己，或者可以使用委托或通知来告诉呈现的视图控制器已经完成并且应该被关闭。

在您的情况下，让提供的 VC 自行解散可能很好。所以，只要打电话

```
[self dismissViewControllerAnimated:YES completion:nil]; 
```

如果您不想使用 segue，则可能必须直接从情节提要中加载 VC（或给它们自己的 nib）。要从情节提要中实例化，您必须为要实例化它们自己的标识符标签的视图控制器提供（再次查看属性窗格并在 VC 上设置属性）。

然后你可以这样做（假设包含此代码的 VC 与它试图实例化的 VC 在同一个情节提要中）......

```
FooViewController *vc = [self.storyboard instantiateViewControllerWithIdentifier:@"FooViewController"]; 
```

然后，您实际上向该控制器展示...

```
[self presentViewController:vc animated:YES completion:nil]; 
```

当然，还有其他几种方法可以做到这一点，每种方法都有一些优点/缺点。我建议您使用它并阅读相关文档，以便您可以就使用哪种方法做出明智的决定。

无论如何，以上内容应该为您提供了一条通向目标的简单途径。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-12T08:23:06.077

您的问题的简短回答是使用标签栏控制器。这是一个表面上简单的控件，实际上管理了很多复杂性，重新实现它对于初学者或应用程序的用户来说不是一个好主意，他们将习惯于标签栏控制器的工作方式。

标签栏控制器有一个属性 ( `viewControllers`)，您可以通过控制拖动到其他场景来在情节提要中填充该属性。标签栏控制器询问这些视图控制器中的每一个以构建标签栏（名称和图像，适当数量的项目，“更多”控制器，如果有太多无法容纳在栏上）并处理它们之间的切换，更改包含的视图和选项卡栏的大小以处理旋转事件。因此，标签栏控制器的视图包含两个子视图 - 一个用于保存标签栏，另一个用于保存当前显示的视图控制器的视图。

您需要自己复制所有这些功能，这对于初学者来说非常复杂，而且肯定超出了 Stack Overflow 答案的范围。您将复制现有功能这一事实也应该是一个危险信号，表明您是否真的应该以这种方式工作。

故事板也不支持自己实现标签栏类型的控制器，因为自定义容器视图控制器无法使用关键部分（“关系 - 视图控制器”）。因此，您必须在代码中设置您的 UI 并手动实例化视图控制器以建立关系，这很可能与您的主故事板发生冲突 - 尽管您关于更喜欢以编程方式执行此操作的句子与故事板请求中的冲突问题标题，所以我对此有点困惑。

如果您仍然想要，简要概述如何*实现此功能：*

*   创建自定义 UIViewController
*   添加一个 viewControllers 属性，以及一些处理切换的控件，可能是一个分段控件
*   设置`viewControllers`属性后，将标题设置为分段控制段之一的标题。将数组中第一项的视图添加为主视图的子视图（使用适当的框架，因此它不会覆盖您的分段控件）并使用 and 将其添加为子视图`[self addChildViewController:vc]`控制器`[vc didMoveToParentViewController:self]`
*   `removeFromSuperview`当分段控件的值发生变化时，从视图层次结构 ( ) 和视图控制器层次结构 ( )中删除当前视图控制器的视图`removeFromParentViewController`，并使用上面的代码添加新选择的视图控制器的视图。

# google-apps-script - 从 Atom 提要中提取内容

> ID：11913962
> 
> 赞同：0
> 
> 时间：2012-08-11T10:39:47.007
> 
> 标签：google-apps-script

我正在尝试从 Wordsmith XML Feed 中提取“/rss/channel/item/title”和“/rss/channel/item/description”。但是我从来没有想过要从提要中提取它们。任何帮助，将不胜感激。

```
function getWotd(){
   var response = UrlFetchApp.fetch("http://wordsmith.org/awad/rss1.xml").getContentText();

  var parsedResponse = Xml.parse(response, false);

  Logger.log(parsedResponse);  

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T12:52:15.973

尝试将此添加到您的代码中

```
var text = parsedResponse.getElement().getElement('rss').getElement('channel')
           .getElement('item').getElement('title').getText(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-14T21:52:37.250

您首先需要使用获取文档 (rss) 的根元素，`getElement()`然后从那里向下爬取 DOM。

```
 var title = parsedResponse.getElement()
      .getElement('channel')
      .getElement('item')
      .getElement('title')
      .getText(); 
```

# javascript - 如何使用 guard-livereload 编写 JavaScript 项目？

> ID：11913964
> 
> 赞同：3
> 
> 时间：2012-08-11T10:40:18.833
> 
> 标签：javascript, ruby, google-chrome, google-chrome-extension, guard

我想开始学习JS。我找到了 gem guard-livereload。

在我的 Rails 应用程序中，它运行良好。但我想用它为简单的 JS 脚本重新加载本地文件。

所以我安装`guard-livereload`到 rvm gemset global。创建的新目录`javascript` 添加到`Guardfile`

```
# https://github.com/guard/guard-livereload
guard :livereload do
  watch(%r{.+\.(html|css|js)$})
end 
```

打开带有 Livereload 扩展的 Chrome (1.6)

这是来自我的控制台：

```
> guard                                                                                                                                                                    /Users/rege/Code/javascript 1.9.3p194 @
Guard could not detect any of the supported notification libraries.
Guard is now watching at '/Users/rege/Code/javascript'
LiveReload 1.6 is waiting for a browser to connect.
Browser connected.
Browser URL: file://localhost/Users/rege/Code/javascript/examples/example_1_2.html
Reloading browser: examples/example_1_2.html
Reloading browser: examples/example_1_2.html
Reloading browser: examples/example_1_2.html 
```

我的卫士版本：

```
> gem list guard                                                                                                                                                           /Users/rege/Code/javascript 1.9.3p194 @

*** LOCAL GEMS ***

guard (1.3.0)
guard-livereload (1.0.0) 
```

一切似乎都有效，但 Chrome 不会刷新页面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-26T16:48:06.330

在 Chrome 中，您必须明确授予文件 url 的扩展权限。右键单击 LiveReload 图标，转到管理扩展，并为文件 URL 授予 LiveReload 权限。

# iphone - 禁用 iOS 音量按钮快门

> ID：11913968
> 
> 赞同：4
> 
> 时间：2012-08-11T10:40:37.763
> 
> 标签：iphone, ios

我正在编写一个播放音乐的 iOS 应用程序，而用户使用`UIImagePickerController`. 但是，如果用户想要增加音量，则按下音量按钮会导致拍照。我猜这是因为当显示相机图像选择器时，Apple 将音量按钮重新用作快门按钮。

有没有办法可以`volume button shutter`在我的应用程序中禁用它，以便即使正在显示相机屏幕，音量按钮也会控制音量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-09T06:45:18.250

重新利用硬件按钮会导致您的应用被拒绝：

[程序访问 iPhone 音量按钮](https://stackoverflow.com/questions/772832/program-access-to-iphone-volume-buttons)

# google-app-engine - 如何跟踪新添加的记录到 NDB 数据存储区？

> ID：11913975
> 
> 赞同：0
> 
> 时间：2012-08-11T10:40:50.527
> 
> 标签：google-app-engine, google-cloud-datastore, app-engine-ndb

我之前使用过以下代码：

```
def add_movie(movie_id, title, picture, description):
    movie = Movies(
        id=movie_id,
        title=title,
        picture=picture,
        description=description
        )
    movie.put() 
```

但它不允许我知道电影是否作为新记录添加或现有电影是否已更新。因此，我将代码更改为以下内容：

```
def add_movie(movie_id, title, picture, description):
    newly_added = True
    movie = Movies.get_by_id(movie_id)
    if movie:
        newly_added = False
    movie.id = movie_id
    movie.title = title
    movie.picture = picture
    movie.description = description
    movie.put()
    return newly_added 
```

但看起来它会先得到电影，然后才会更新它。所以 2 个对数据存储的请求而不是 1 个。

还有其他方法可以做到这一点吗？或者，我错了，从性能的角度来看，这两种方法都是一样的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:59:43.107

不，没有其他方法可以解决它。

由于额外的`get`请求，这会影响性能，但 'get' 非常快速[且便宜](https://developers.google.com/appengine/docs/billing#Billable_Resource_Unit_Costshttp://)，所以不用担心。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T12:33:43.563

As @Peter said: the get operations is very cheap and I wouldn't worry about it, but you can still store the movie id in the memcache and do a primarily check if its there, if its there then the movie is not new, if its not there check the datastore.

# php - Facebook 登录，重定向循环

> ID：11913979
> 
> 赞同：0
> 
> 时间：2012-08-11T10:41:33.363
> 
> 标签：php, facebook, redirect, login

我将 facebook 登录包含在我的网页中，但我有一个问题，首先，代码：

```
//FACEBOOK LOGIN
if($_GET['method']=='facebook'){
    require("_facebook.php");
    $session_fb = $facebook->getSession();

    if(!empty($session_fb)) {
        //Active session, let's try getting the user id (getUser()) and user info (api->('/me'))
        $uid = $facebook->getUser();
        $user = $facebook->api('/me');

        if(!empty($user)){
            //We have an active session, let's check if we have already registered the user
            $query = mysql_query("SELECT * FROM  ".PREFIX."user WHERE oauth_provider = 'facebook' AND oauth_uid = ". $user['id']);
            $ds = mysql_fetch_array($query);
            //If not, let's add it to the database
            if(empty($ds)){
                $query = mysql_query("INSERT INTO ".PREFIX."user (oauth_provider, oauth_uid, username, email) VALUES ('facebook', {$user['id']}, '{$user['name']}', '{$user['email']}')");
                $query = mysql_query("SELECT * FROM ".PREFIX."user WHERE userID = " . mysql_insert_id());
                $ds = mysql_fetch_array($query);
            }
            // this sets variables in the session 
            $_SESSION['oauth_uid'] = $ds['oauth_uid'];
            $_SESSION['oauth_provider'] = $ds['oauth_provider'];

            $_SESSION['ws_auth'] = $ds['userID'].":".$ds['password'];
            $_SESSION['ws_lastlogin'] = $ds['lastlogin'];
            $_SESSION['referer'] = $_SERVER['HTTP_REFERER'];
            setcookie("ws_auth", $ds['userID'].":".$ds['password'], time()+($sessionduration*60*60));               
            $login = 1;

        }
        else {
            # For testing purposes, if there was an error, let's kill the script
            die("There was an error.");
        }
    }
    else {

        # There's no active session, let's generate one
        $login_url = $facebook->getLoginUrl();
        header("Location: ".$login_url);
    }

    //end fblogin
} 
```

问题是我的代码没有读取会话并进行了无限循环的重定向:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T03:13:16.447

正如TommyBS所说，当前的php SDK中没有getSession。

另外，请记住这一点：

1) 在您在 facebook 上的应用程序配置中，应用程序域、具有 Facebook 登录的网站和（如果需要）Facebook 上的应用程序/页面选项卡 URL 字段应指向您正在重定向的站点。

[2) 使用官方 javascript sdk](https://developers.facebook.com/docs/reference/javascript/)准备您的应用程序，并且不要忘记频道文件。

3) 使用适用[于 facebook iframe 的 P3P 标头](https://stackoverflow.com/a/5609348/173299)准备您的应用程序。

# opencv - 如何插入数组 在 OpenCV 中进入 CvArr

> ID：11913980
> 
> 赞同：0
> 
> 时间：2012-08-11T10:41:43.450
> 
> 标签：opencv, face-recognition, javacv

我正在尝试在 Android 上开发人脸识别应用程序，并且我正在使用 JavaCV+OpenCV 2.4.2 来使用 Philipp Wagner 的人脸识别类。

该类有一个训练方法，它接受 Mat 和 Integer 数组作为输入（在 C++ 中）：

```
vector<Mat> images;
vector<int> labels;

Ptr<FaceRecognizer> model = createFisherFaceRecognizer();
model->train(images, labels); 
```

JavaCV 接受 'train' 方法的属性，因为`train(MatVector arg0, CvArr arg1)`这里是我卡住的地方！

我在尝试将数据加载到 CvArr 时遇到了一些麻烦......我已经将标签作为数据字符串......但我似乎找不到将这些标签作为数组插入 CvArr 的方法......让我们称之为缺乏 OpenCV 知识......有人可以帮我解决这个问题吗？！

PS：顺便说一句，我知道在这种方法中可以使用 iplImage 代替 CvArr 但问题仍然存在：如何将 Array of`<int>`插入 iplImage ？！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T07:26:32.563

```
MatVector images = new MatVector(numberOfImages);
CvMat labels= cvCreateMat(1,numberOfImages,CV_32SC1);

images.put(0, cvLoadImage("D:/att_faces/test/p1/1.pgm"));
labels.put(0,0);

images.put(1, cvLoadImage("D:/att_faces/test/p1/2.pgm"));
labels.put(1,0);

images.put(2, cvLoadImage("D:/att_faces/test/p2/1.pgm"));
labels.put(2,1);

images.put(3, cvLoadImage("D:/att_faces/test/p2/2.pgm"));
labels.put(3,1);

......
FaceRecognizerPtr model = createEigenFaceRecognizer(0,1000);
model.get().train(images, labels);
...... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T04:36:28.760

从我刚刚[在这里](https://stackoverflow.com/questions/9344503/equivalent-of-opencv-statement-in-java-using-javacv)读到的内容中，您需要使用指针，这样应该可以工作：

```
//Total number of faces in database
final int numberOfImages = 20;

Integer[] labels = new Integer[numberOfImages];
//add integers to array
...

IntPointer iPoint = new IntPointer();

for (Integer i : labels) {
     i.put(i)
}

CVArr labelsCV = new CvArr(i); 
```

# javascript - 防止 javascript 代码被复制

> ID：11913989
> 
> 赞同：-2
> 
> 时间：2012-08-11T10:44:15.587
> 
> 标签：javascript, jquery

> **可能重复：**
> [如何混淆 JavaScript？](https://stackoverflow.com/questions/194397/how-can-i-obfuscate-javascript)

我有一些复杂的 Jquery/Javascript 代码，我想防止阅读。是否有可能将代码放在只有网络服务器才能访问的地图中？那么其他人可以查看带有jquery功能的页面，但无法阅读源代码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T10:46:58.580

不，有一个很好的理由：用户应该始终控制在他们的用户代理中执行的内容。你为什么不只是缩小和混淆代码？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:46:13.457

不，如果在浏览器中执行 Javascript，则可以读取源代码。

# keyboard-shortcuts - 用于移动标签的 iTerm2 键盘快捷键

> ID：11913990
> 
> 赞同：66
> 
> 时间：2012-08-11T10:44:21.453
> 
> 标签：keyboard-shortcuts, iterm

假设我想将一个标签放在另一个标签旁边。目前我通过点击和拖动来做到这一点。这提高了生产力，因为如果我在 iTerm 中的 2 个常规任务之间切换，我希望将选项卡彼此相邻放置，以便我可以在它们之间快速切换。

我可以使用键盘快捷键 cmd+} 和 cmd+{ 在选项卡之间切换**。**

但是有没有办法使用键盘快捷键**移动**标签？

* * *

## 回答 #1

> 赞同：80
> 
> 时间：2014-04-04T11:28:24.637

在 iTerm2 中使用预定义的快捷方式，您可以

**移动标签**

左：`Cmd`+ `Shift`+`Left`

对`Cmd`+ `Shift`+`Right`

根据[http://teohm.com/blog/2012/03/22/working-effectively-with-iterm2](http://teohm.com/blog/2012/03/22/working-effectively-with-iterm2)你可以

**在选项卡之间切换**

下一个标签：`Cmd`+ `Shift`+`]`

上一个标签：`Cmd`+ `Shift`+`[`

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2012-08-11T11:10:45.657

这是一个默认功能。只需打开首选项/键，在全局快捷键中，您可以将键分配给“向左/向右移动标签”。

我个人使用 Cmd + n/p

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2017-10-07T08:37:04.723

为了我

```
 CMD + [   // for previous tab 
 CMD + ]  // for next tab 
```

版本`3.1.3`

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2015-10-07T09:45:22.717

默认值为`CMD + SHIFT + ]`和`CMD + SHIFT + [`。顶部栏中的窗口下也有可用的菜单。

你也可以打`CONTROL + TAB`

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2018-03-23T10:57:38.687

`⌘</kbd>+`⌥</kbd>+`←</kbd>/`↑</kbd>/`→</kbd>/`↓</kbd> will let you navigate split panes in the direction of the arrow, i.e. when using `⌘</kbd>+`D` to split panes vertically, `⌘</kbd>+`⌥</kbd>+`←</kbd> and `⌘</kbd>+`⌥</kbd>+`→</kbd> will let you switch between the panes.`````````````

笔记：`⌥</kbd> is the [alt] key`

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2018-07-07T23:51:16.263

我想，屏幕截图会有所帮助。请检查键映射部分。 [![在此处输入图像描述](../Images/e7375b835be2f83a1af0e41aae93bd9b.png)](https://i.stack.imgur.com/QHIdL.png)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2017-09-11T00:25:20.790

alt + cmd + 左/右

它对我来说就像魅力一样。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2019-03-15T23:33:18.530

Iterm2 Build 3.2.7 on High Sierra (10.13.6)：只需两个键：

CMD + Right_Arrow：移动到下一个标签 === CMD + Shift + ]

CMD + Left_Arrow：移动到上一个标签 === CMD + Shift + [

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2014-01-04T01:28:11.690

看起来当前（Build 1.0.0.20131228）移动标签的默认绑定是`Cmd + Shift + Left/Right`.

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2020-10-02T13:41:27.447

这是 iTerm2 3.3.12 中的默认热键。您可以通过转到 Preferences > Keys 来更改密钥。

[![iTerm2 3.3.12](../Images/ca39d4ca2a5c6934ce321329f1e8a11a.png)](https://i.stack.imgur.com/RzAMi.png)

# regex - 将 URL 与最多一定数量的正斜杠匹配

> ID：11913994
> 
> 赞同：0
> 
> 时间：2012-08-11T10:44:53.620
> 
> 标签：regex

有没有办法用一个正则表达式匹配以下所有内容？如果不是，那么这样做的好/干净的方法是什么？

```
/resources/$
/resources/type$
/resources/type/$
/resources/category$
/resources/category/$
/resources/anything here that includes up to 1 slash and ends with that slash 
```

由于存在 ，因此不应匹配以下内容`something`：

```
/resources/type/something
/resources/category/something 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:47:40.690

这应该做你想要的：

```
^\/([^\/]*\/?){,2}$ 
```

编辑错误：p

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:53:09.527

你可以使用这个：

```
^\/resources(\/[a-z]*\/?)?$ 
```

# jqtouch - 带有两个按钮的 JQTouch 工具栏

> ID：11913995
> 
> 赞同：0
> 
> 时间：2012-08-11T10:44:57.947
> 
> 标签：jqtouch

JQTOUCH - 谁能帮我理解，我们如何在工具栏的右侧放置两个按钮？

```
<div class="toolbar ">
   <a class="button slide add Black clearcmd" id="infoButton" href="#">Clear</a>
      <h1>Toolbar with two buttons on right side</h1><a class="button slide" id="infoButton" href="#buttontwo">Button Two</a> <a class="button slide" id="infoButton" href="#buttonone">Button One</a>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T22:26:47.653

目前 CSS 仅适用于一个……您必须手动定位/设置第二个样式。对不起-

# php - IE 阻止使用带有弹出窗口的 jQuery 创建 pdf

> ID：11913998
> 
> 赞同：2
> 
> 时间：2012-08-11T10:45:35.107
> 
> 标签：php, jquery, internet-explorer, pdf

我有一项以 pdf 格式生成自定义生日模板的服务。用户有积分，当他单击按钮时，会执行 ajax 调用以获取创建的 pdf 文件的编号，然后使用**window.location**将 pdf 显示给用户。

chrome 和 firefox 中的一切都很好，但 IE 会通过一个通用的栏弹出窗口阻止 pdf，该栏弹出询问用户的同意。当用户接受并单击“是”时，没有任何反应，用户需要再次单击该按钮才能使其生效，而在后端，用户的信用已被计算在内。

该网站的用户群主要是老年人，我不能让这种情况发生，因为根据谷歌分析，我 60% 的用户有 IE。

这是电话：

```
$.ajax({
        type: "POST",
        url: "getNum.php",
        dataType: "html",
        data: {data: $.toJSON(birthday)},
        success: function(data){

            if (parseInt(data) <= 0){
                $('#waitModal').modal('hide');
                if(parseInt(data) != -10){
                    $('#signInModal').modal('show');
                } else{
                 //no credit
                }

            }else{
                window.location = "generateBirthdayCard.php?num="+parseInt(data)
            }

        } 
```

这是显示 pdf 的脚本 (generateBirthdayCard.php)：

```
if (!$_GET['num']) die("looking for ?url=http://www.....");
$num = trim(escapeshellarg($_GET['num']), "'");

//only if the requested refrence is an integer
if (is_numeric($num)){

   $str = file_get_contents("/tmp/$num.pdf");
   header('Content-Type: application/pdf');
   header('Content-Length: '.strlen($str));
   header('Content-Disposition: inline; filename="custom-birthday-cards.pdf"');
   header('Cache-Control: private, max-age=0, must-revalidate');
   header('Pragma: public');
   ini_set('zlib.output_compression','0');
   die($str);

} 
```

编辑：当使用 IE8 的开发工具模拟 IE7 时，这发生在 IE8 和 IE7 中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-20T20:58:19.173

当您说“什么都没有发生”时，您是否检查了浏览器缓存中是否有新的 pdf。我在下载文件之前遇到过 IE 问题，但 IE 就是无法打开它。

尝试使用 fiddler 来查看 ajax 方法是否正确响应了 pdf。

您可以在同一个浏览器中打开其他 PDF 文件吗？例如[这个](http://kb2.adobe.com/cps/837/cpsid_83708/attachments/Acrobat_Reader_ReleaseNote_9.4.2_8.2.6.pdf)