# StackOverflow 问答 10345000-10345999

# asymptotic-complexity - 是 O(LogN) == O(3LogN) 吗？

> ID：10345007
> 
> 赞同：0
> 
> 时间：2012-04-27T05:05:16.663
> 
> 标签：asymptotic-complexity

我刚刚开始了关于渐近分析的课程，在我们的一个作业中，我应该在不改变复杂性的情况下向函数添加功能。复杂度为 log(N)。作业指南特别要求我将运行时更改为“常量”。将其设为 3Log(N) 是否会考虑将其更改为常数？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T05:08:27.190

是的，更具体地说，这将通过乘法常数来改变它。你也可以通过一个加法常数来改变它，比如`log(N)+5`.

# asp.net-mvc - ASP.NET MVC：在退出控制器操作之前强制 json 序列化

> ID：10345010
> 
> 赞同：2
> 
> 时间：2012-04-27T05:05:53.560
> 
> 标签：asp.net-mvc, json, entity-framework, serialization

我有几个返回 json 对象的操作方法。例如：

```
public JsonResult MyAction()
{
  var entities = db.Entities.Include("Location").Where(e => e.Name != null);
  var model = entities.Select(e => new MyModel(e));
  return Json(model, JsonRequestBehavior.AllowGet);
} 
```

在一些模型类中，我访问实体的内部元素，例如

```
public class MyModel
{
  private Entity _e;
  public MyModel(Entity e)
  {
    _e = e;
  }

  public string[] LocationName
  {
    get
    {
      return _e.Location.Name;
    }
  }
} 
```

如果我将存储库 (db) 放在 Global.asax.cs 文件中的 OnRequestCompleted 之类的地方，这工作得很好。问题是现在我在 BaseController 的 OnActionExecuted 方法中处理数据库，并且当对象被序列化时它失败 bc 连接已经关闭。

我的问题是， OnActionExecuted 是处理数据库连接的正确位置还是应该在其他地方执行它？如果可以在那里放置存储库，那么我如何“强制”序列化在我调用 Json(model) 的那一刻发生，这样它之后就不会失败。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:21:24.283

我认为真正的问题是您要返回一个需要连接的 IQueryable。

最好决定何时执行查询，至少可以防止多次执行。

如果你强制执行，你已经有了结果，你可以处理数据库没有问题。

例子：

```
public JsonResult MyAction()
{
  var entities = db.Entities.Include("Location").Where(e => e.Name != null);
  var model = entities.Select(e => new MyModel(e))
                      .ToList(); // Execute IQueryable to get List<MyModel>
  return Json(model, JsonRequestBehavior.AllowGet);
} 
```

# objective-c - NSDateFormatter 没有将字符串转换为日期

> ID：10345014
> 
> 赞同：0
> 
> 时间：2012-04-27T05:06:11.450
> 
> 标签：objective-c, nsdateformatter, string-to-datetime

我正在使用 NSDateFormatter 将字符串转换为日期。但是，返回的日期为零。只有我的硬编码字符串会导致问题。当我使用 stringFromDate: 并将这个 NSString 转换为 NSDate 时，这很好。

硬编码日期：
2012-30-22T10:30:19+0530
dateFromString：
2012-04-27T10:20:43+0530

我看不出日期格式有什么区别。

代码：

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ssZZ"];

NSString *string = [dateFormatter stringFromDate:[NSDate date]];
NSLog(@"string %@", string); 
```

**日志：〜字符串2012-04-27T10：20：43 + 0530**

```
NSDate *date = [dateFormatter dateFromString:string];
NSLog(@"date %@", date); 
```

**日志：~ 日期 2012-04-27 04:50:43 +0000**

到现在为止还挺好。从我的字符串返回一个日期。但是当我尝试使用我自己输入的日期时......

```
NSString *string2 = @"2012-30-22T10:30:19+0530";
NSLog(@"string2 %@", string2); 
```

**日志：~ 日期 2012-04-27 04:50:43 +0000**

```
//Here comes the problem. 
NSDate *date2 = [dateFormatter dateFromString:string2];
NSLog(@"date 2 %@", date2); 
```

**日志：〜日期2（空）**

为什么当另一个日期不是时这个日期是空的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:13:33.343

这个月的 30 是你自己输入的字符串中的错字吗？它可能搞砸了，因为它不知道第 30 个月。尝试输入您自己的有效日期。

# c# - 如何将 JavaScript 放置在每个局部视图上？

> ID：10345018
> 
> 赞同：2
> 
> 时间：2012-04-27T05:06:40.877
> 
> 标签：c#, asp.net-mvc-3

至于 View（不是部分），我将 JavaScript 放置如下。

**每个视图**

```
@section script{
<script type="text/javascript">
..............
</script>
} 
```

**_布局视图**

```
<head>
@RenderSection("script", false)
</head> 
```

但是当我将 JavaScript 放在 Partial View 上时这不起作用，这意味着 Partial View 上的 JavaScript 不会以这种方式呈现。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T05:09:45.843

这是正确的。部分视图的呈现方式与布局呈现主要内容的方式不同。解决此问题的一种方法是将您的标记放在一个部分中，将您的脚本放在另一个中，然后从您的视图中正常渲染您的标记部分，但在该部分中渲染您的脚本部分：

```
<div>
    @{Html.RenderPartial("markup");}
</div>

@section script{
    @{Html.RenderPartial("script");}
} 
```

# ember.js - 在 Ember.js 中，为什么绑定到数组在 {{#each}} 之外不起作用？

> ID：10345019
> 
> 赞同：2
> 
> 时间：2012-04-27T05:06:46.557
> 
> 标签：ember.js

在下面的代码中，我渲染了 3 个视图。第二个和第三个视图渲染`App.controller.a`。单击第一个视图会发生变化`App.controller.a`。单击时，第三个视图会更新其内容。第二个视图不更新其内容。为什么？

我假设第二个视图绑定到数组`App.controller.a`。看起来绑定没有更新。

演示：http: [//jsfiddle.net/kcmH4/](http://jsfiddle.net/kcmH4/)

编码：

```
App = Ember.Application.create({});
App.controller = Ember.Object.create({
    a: Ember.A([1]),
    my_method: function() {
        var a = this.get('a');
        $.each([2], function(i, element) {
            a.pushObject(element);
        });
    }
});
App.MyView = Ember.View.extend({
    click: function() {
        this.get('content').my_method();
    }
}); 
```

模板：

```
{{#view App.MyView contentBinding="App.controller"}}
    First view: Click me
{{/view}}
{{#view Ember.View contentBinding="App.controller"}}
    2nd view: {{content.a}}
{{/view}}
{{#view Ember.View contentBinding="App.controller"}}
    Third view:
    <ul>
    {{#each content.a}}
        <li>{{this}}</li>
    {{/each}}
    </ul>
{{/view}} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T17:12:15.390

您将第二个视图绑定到一个数组，但您没有在设置数组观察者的帮助程序/视图中执行此操作。因此，视图不会被告知属性正在改变，因为它没有改变。数组正在发生变化，但属性本身并没有改变。数组和对象在 JS 中通过引用传递，因此即使您正在修改数组的内容，除非您观察到数组内容的更改，否则您不会被通知任何差异。#each 使用一个集合视图来设置这些观察者，只是绑定到属性本身不会。

# php - 制作动态下载链接的问题

> ID：10345024
> 
> 赞同：0
> 
> 时间：2012-04-27T05:07:24.213
> 
> 标签：php, dynamic, download

请我需要这个脚本的帮助。我有这个名为 download.php 的 php 脚本。我要做的是我想让我所有的下载链接到这个页面，即我想让它动态化。同样，每当我单击链接时，它实际上会播放 MP3，而不是为用户显示“另存为”。

1）请我如何使脚本动态化，以便该脚本适用于我的所有下载。

2）我如何让它下载而不是播放/显示文件。

谢谢

```
 <?php
   $filename = 'download.mp3';

    header('Pragma: public'); 

    header('Expires: 0');

header('Cache-Control:must-revalidate,      post-check=0,pre-check=0');

 header('Cache-Control:private', false); 

   header('Content-Type:audio/mp3');

                header('Content-Disposition:         attachment;filename="'.basename             ($filename).'";');

      header('Content-Transfer-Encoding:        binary');

        header('Content-Length:'.filesize(            $filename));

     readfile($filename);

    exit;
    ?>

 HTML
 ======

 < a href="download.php"> MP3 </a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:50:47.913

让我们一步一步来。

1）使脚本动态化很容易。有两种方法：

a) 使文件名出现在 $_GET 中。例子：

```
$file = $_GET['file']; 
```

一个链接可以

```
<a href="download.php?file=somefile.mp3">Download</a> 
```

b) 将您的文件数据存储在数据库中。数据库可能是这样的`id|filename|filesize|filetype`，您可以说`download.php?id=##`，当调用该 id # 时，它会将文件名发送到页面并下载文件。

2) 自动下载文件。简单的！

```
header("Content-Type: application/force-download"); 
```

用这个替换你的 Content-Type ，你应该是金色的。强制下载不需要文件类型，他们只知道需要下载，现在！

希望这会有所帮助=)

# jquery - jquery 和 css 在其他包装器中基于 div 设置位置

> ID：10345025
> 
> 赞同：1
> 
> 时间：2012-04-27T05:07:27.227
> 
> 标签：jquery, css, position

我有两个并排的包装器 div。我想在右列中排列 div 以匹配左列中选择 div 的位置。

在小提琴中，右列中的每个 div 应与左列中每隔一个 div 的顶部对齐。左边每两个 div 应该有一个 div [x]。

这一切都是动态创建的，这就是为什么我按照它的方式制作小提琴[http://jsfiddle.net/sKZXJ/](http://jsfiddle.net/sKZXJ/)

HTML：

```
<!-- Extra height added because that seems part of the problem -->
<div style="height:60px;"></div>

<div id="scroller">
    <div id="wrapper1"></div>
    <div id="wrapper2"></div>
</div> 
```

CSS：

```
#scroller {
    height:300px;
    width:60px;
    overflow-x:scroll;
}
#wrapper1 {float:left; width:15px;}
#wrapper2 {float:left; width:15px;}
.littleOne {
    margin-top:1px;
    position:relative;
    height:40px;
    background-color:#006600;
}
.littleTwo {
    margin-top:1px;
    position:relative;
    background-color:#00CCCC;
} 
```

有趣的部分：

```
$(document).ready(function() {

    // Fill wrapper1 with divs
    for(var i=0;i<50;i++) {
        $('#wrapper1').append('<div id="a'+i+'" class="littleOne"></div>');
    }

    // Add selected divs to wrapper2 in matching positions
    var pos = 0;
    for(var i=0;i<50;i+=2) {
        $('#wrapper2').append('<div id="b'+i+'" class="littleTwo">X</div>');
        pos = $('#a'+i).position().top - $('#scroller').position().top;
        $('#b'+i).css('top', pos+'px');
    }

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:28:28.607

给你：http: [//jsfiddle.net/f5ArU/3/](http://jsfiddle.net/f5ArU/3/)

```
$(document).ready(function() {

    // Fill wrapper1 with divs
    for(var i=0;i<50;i++) {
        $('#wrapper1').append('<div id="a'+i+'" class="littleOne"></div>');
    }

    // Add selected divs to wrapper2 in matching positions
    var pos = 0;
    var offset = 0;
    for(var i=0;i<50;i+=2) {
        var b = $('<div id="b'+i+'" class="littleTwo">X</div>');
        $('#wrapper2').append(b);
        pos = $('#a'+i).position().top - offset;
        offset += b.height() + 1;
        b.css('top', pos+'px');
    }

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:12:35.193

那是你要的吗？

[http://jsfiddle.net/sKZXJ/1/](http://jsfiddle.net/sKZXJ/1/)

只是`scrollTop`在一个地方使用而不是`top`（如果那是你的意思）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:31:10.087

“我想将右列中的 div 对齐，以匹配左列中选择的 div 的位置。”

您可以使用此代码示例进行管理 - 我已更新您的链接 [http://jsfiddle.net/sKZXJ/2/](http://jsfiddle.net/sKZXJ/2/) - 更改背景颜色

```
$("#wrapper1 div").click(function () {
$('#wrapper2 div:eq('+($(this).index())+')').css('background-color','#000'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T05:50:10.693

这是一个利用 html 结构和 css 的解决方案：http: [//jsfiddle.net/sKZXJ/6/](http://jsfiddle.net/sKZXJ/6/)

这是一种尝试将逻辑与布局分开的替代方案。微小的“x”只出现在每隔一个绿色块上，这让我假设每 3 个块都应该在逻辑上分组。

html:

```
<div id="scroller"></div> 
```

js：

```
$(document).ready(function() {
    // Fill wrapper1 with divs
    for(var i=0;i<50;i+=2) {
        var one = $('<div></div>').attr('id', 'a'+i).addClass('littleOne'),
            two = $('<div></div>').attr('id', 'b'+i+1).addClass('littleTwo'),
            three = $('<div></div>').attr('id', 'a'+i+1).addClass('littleOne'),
            container = $('<div></div>').addClass('container').append(one).append(two).append(three);

        $('#scroller').append(container);
    }    
});​ 
```

CSS：

```
#scroller {
    height:300px;
    width:60px;
    overflow-x:scroll;
}
.container {
    width: 40px;
}
div {
    margin: 1px;
    width: 15px;
}
.littleOne {
    float: left;
    clear: left;
    height:40px;
    background-color:#006600;
}
.littleTwo {
    float: left;
    height:20px;
    background-color:#00CCCC;
}    ​ 
```

# git - 如何在 gitolite 中配置迁移的 git 存储库

> ID：10345026
> 
> 赞同：5
> 
> 时间：2012-04-27T05:07:27.743
> 
> 标签：git, gitolite

我有 gitolite 并且当前创建了测试存储库并配置了用户权限，并且一切正常。

我现在想要的是我已经使用 git cvsimport 将 cvs 存储库迁移到了 git。我有新迁移的存储库。如何通过 gitolite 配置此存储库并为此存储库配置用户？

请指导我正确的方向！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-27T05:38:15.487

您需要克隆 gtoite-adin 存储库，并声明一个新存储库：
请参阅“[添加和删除存储库](http://sitaramc.github.com/gitolite/repos.html)”

完成后，您将向现有的本地 git 存储库（其中包含 CVS 导入的存储库）添加一个新的远程：

```
git remote add gitolite git@server:to 
```

（如果需要，您可以命名远程来源）

然后你会将你的本地仓库推送到 gitolite 管理的仓库：

```
git push gitolite master # to initialize the remote repo with master branch
git push gitolite --all # to push all branches
git push gitolite --tags # to push all tags 
```

（`git push --all`如“[使用 GitHub 如何在添加现有存储库时推送所有分支？](https://stackoverflow.com/a/4886153/6309) ”中所述）

# javascript - 如何在 HTML 中加载图像，就像 iPad 网站从左向右滑动一样

> ID：10345027
> 
> 赞同：1
> 
> 时间：2012-04-27T05:07:29.050
> 
> 标签：javascript, css, ipad, html

我有带有图形的 iPad 网页我希望页面上的图形应该像我们通常在演示文稿中看到的那样从左到右加载幻灯片加载它应该从左向右滑动。

下面是我的 HTML 代码

```
 <div id="container">
       <div id="index" class="root_panel">
        <div id="image"><a href="#page_one">    <img src="image/startbutton.png" />      

       </a>
       </div>
       </div>
        <div id="page_one" class="panel">
            <div class="main_heading">Overview</div>
            <div class="menu">
                <ul>
                    <li class="stix"></li>
                    <li><a href="#page_one"><img src="image/overview_active.png" /></a> </li>
                    <li class="stix"></li>
                    <li><a href="#page_two"><img src="image/strategy.gif"/></a></li>
                    <li class="stix"></li>
                    <li><a href="#"><img src="image/draxxin.gif"/></a></li> 
                    <li class="stix"></li>
                    <li><a href="#"><img src="image/excede.gif"/></a></li>
                    <li class="stix"></li>
                    <li><a href="#"><img src="image/results.gif"/></a></li>
                    <li class="stix"></li>
                    <li><a href="#"><img src="image/reference.gif"/></a></li> 
                    <li class="stix"></li>
                </ul>
            </div>
            <div class="rightclass"><img src="image/pageone_image.png"/></div>  
            <div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:18:50.870

您可以异步加载图像，然后将其插入到宽度为 0px 并溢出：隐藏的容器内的 dom 中。然后，从左到右为容器的宽度设置动画。

您需要删除图像标签，并将 ID（如“page_one”、“page_two”等）放在包含它们的标签上。a 标签也需要 display:block;

使用 jQuery：

```
<div id="container" style="width:0px;overflow:hidden;"></div>

<script type="text/javascript">

      //function to handle our images
      function slideImage(container, imagePath){
           container = $(container);          
           var img = new Image();
           $(img).load( function() {
                container.animate({width:'100%'}, 500);
           })
           .attr('src', imagePath)
           .appendTo(container);
      }

      slideImage('#page_one', 'image/overview_active.png');
      slideImage('#page_two', 'image/strategy.png');
</script> 
```

# mysql - 选择计数（*）没有给出正确的计数

> ID：10345040
> 
> 赞同：1
> 
> 时间：2012-04-27T05:08:52.480
> 
> 标签：mysql, select

我正在尝试计算以下所有三个结果的总和，但我只计算一个结果。

```
$sql = "(SELECT COUNT(*) FROM  table1 WHERE somecondition)
UNION
(SELECT COUNT(*) FROM  table2 WHERE somecondition)
UNION
(SELECT COUNT(*) FROM  table3 WHERE somecondition)"; 
```

任何人都可以帮忙。谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T05:12:28.957

您的查询将返回三行，其中包含三个单独的计数。

你想要的是

```
 select sum(c) from (
      (SELECT COUNT(*) AS c FROM  table1 WHERE somecondition)
      UNION
      (SELECT COUNT(*) FROM  table2 WHERE somecondition)
      UNION
      (SELECT COUNT(*) FROM  table3 WHERE somecondition)
  ) all_three 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:15:36.500

你可以试试这样的......

```
SELECT sum(
 ( SELECT count(*) from table1)
+ ( SELECT count(*) from table2)
+ ( SELECT count(*) from table3)
+ ( SELECT count(*) from table4) )as total from dual 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T13:39:35.063

如果您正在寻找每个表的计数作为不同的字段......

```
SELECT (SELECT count(*) FROM table_1) As first_count,
       (SELECT count(*) FROM table_2) As second_count,   
        (SELECT count(*) FROM table_3) As third_count 
```

如果想对所有 3 个表的所有计数求和，那么

```
SELECT SUM ((SELECT count(*) FROM table_1) +
       (SELECT count(*) FROM table_2) +
        (SELECT count(*) FROM table_3) ) AS total_count 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-27T05:13:58.487

您的查询将返回 3 行 - 每行用于表。

请改用此查询：

```
$sql = "SELECT SUM(C) FROM(
(SELECT COUNT(*) as C FROM  table1 WHERE somecondition)
UNION
(SELECT COUNT(*) as C FROM  table2 WHERE somecondition)
UNION
(SELECT COUNT(*) as C FROM  table3 WHERE somecondition)
)"; 
```

（您需要根据您使用的数据库调整查询）

# php - 使用 PHP 获取未读邮件计数

> ID：10345041
> 
> 赞同：3
> 
> 时间：2012-04-27T05:08:54.260
> 
> 标签：php, email, count, imap

**我的需要：** 我想在我的 GMail 帐户（或任何其他电子邮件服务）中获取未读电子邮件的计数，并且在我得到之后，我需要将它显示在我本地 PHP 服务器上的网页中。所以我需要一种脚本语言，那就是 PHP。但是我尝试了很多示例，但似乎没有一个有效。所以基本上我想要的是**一个 PHP 脚本，它可以访问我的 GMail 帐户并将未读电子邮件的计数返回到网页**。

我试过这个脚本是徒劳的，它总是在我的网页上显示“错误”。

```
<?php

function CountUnreadMail($host, $login, $passwd) {
    $mbox = imap_open($host, $login, $passwd);
    $count = 0;
    if (!$mbox) {
        echo "Error";
    } else {
        $headers = imap_headers($mbox);
        foreach ($headers as $mail) {
            $flags = substr($mail, 0, 4);
            $isunr = (strpos($flags, "U") !== false);
            if ($isunr)
            $count++;
        }
    }

    imap_close($mbox);
    return $count;
}

$hostname = '{imap.gmail.com:993/imap/ssl}INBOX';
$username = 'username';
$password = 'password';

$count = CountUnreadMail($hostname, $username, $password);

?> 
```

在[Chris](https://stackoverflow.com/users/1359855/chris)的帮助下，我尝试了这个脚本，但我看到的唯一内容是一个空白页。这是我徒劳尝试的另一个脚本：

```
<?php

function mailCount($host, $login, $passwd) {
    $mbox = imap_open($host, $login, $passwd);
    $mail = '';

    if($mail = imap_check($mbox)) {
        return $mail->Nmsgs;
    }
}

$hostname = '{imap.gmail.com:993/imap/ssl}INBOX';
$username = 'phpimap123'; //GMail username
$password = 'phptesting'; //Password

$count = mailCount($hostname, $username, $password);

echo $count;

? 
```

PS：我创建了一个 GMail 帐户**仅用于测试目的**。

我在 MacBook Air 上运行 Mac OS X Lion。启用并运行 PHP，我也有 MAMP，它也在运行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T05:38:57.940

If you're doing it through IMAP why don't you just use:

```
function mailCount($host, $login, $passwd)
{
    $mbox = imap_open($host, $login, $passwd);
    $mail = '';

    if($mail = imap_check($mbox))
    {
        return $mail->Nmsgs;
    }
}

$hostname = '{imap.gmail.com:993/imap/ssl}INBOX';
$username = 'username';
$password = 'password';

$count = mailCount($hostname, $username, $password); 
```

This will give you the unread mail count.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-06T11:24:28.630

```
$inbox = imap_open($hostname,$username,$password,OP_READONLY) or die('无法连接到 Gmail: ' . imap_last_error());
$unread = count (imap_search($inbox, 'UnSeen'));
```

* * *

*imap_check*将为您提供：*日期、驱动程序、邮箱、Nmsgs、最近* （*Nmsgs* = 总消息，*最近*= 这不是未读计数，而是最近的）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:13:30.770

尝试替换`if (!$mbox)`为`if ($mbox === FALSE)`

您应该进行特定的类型检查，以这种方式测试句柄是不好的做法。

[另外，请尝试通过gmail.com](http://gmail.com)登录您的帐户。您可能有太多无效尝试，而 Gmail 希望您先输入验证码，而这无法通过 IMAP 完成。

# php - CKEditor 图片上传问题

> ID：10345043
> 
> 赞同：0
> 
> 时间：2012-04-27T05:09:03.713
> 
> 标签：php, ckeditor

我在使用 CKEditor 时遇到问题，无法上传任何图像，出现此错误`Invalid file. The file size is too big.`但是，我增加了文件大小；

```
$config['ResourceType'][] = Array(
        'name' => 'Images',
        'url' => $baseUrl . 'images',
        'directory' => $baseDir . 'images',
        'maxSize' => 4024,
        'allowedExtensions' => 'bmp,gif,jpeg,jpg,png',
        'deniedExtensions' => ''); 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:34:26.363

也许您应该尝试为该用户将图像上传到服务器上的一个文件夹并显示一个弹出窗口，该弹出窗口将显示他的所有图像用户可以复制图像位置并粘贴到 CKEditor 图像导入弹出窗口中的图像 URL 字段中，或者您可以将该图像的 URL 放入当用户选择该字段时使用 JavaScript。这样，图像就不需要多次上传，而且它很容易处理上传，也不需要弄乱 CKEditor 的代码。

# sql - 数据库与评级和交易混淆

> ID：10345044
> 
> 赞同：0
> 
> 时间：2012-04-27T05:09:08.927
> 
> 标签：sql, database

让我以我的方式解释问题

**交易表**

*TransactionId、SellerId、BuyerId、ProductId、TransactionPrice、状态*

**评分表**

*RatingId、TransactionId、SellerId、BuyerId、ProductId、IsFromBuyer(bit)、Rate1、Rate2、Rate3*

现在在我的应用程序中将有两个条目进入评级表。这将是每笔交易。买家可以给卖家打分，卖家也可以给买家打分！

现在的问题是我如何识别这样的买家/卖家已经给出了评级。

问题是我想要一个视图，它将给我该交易的数据 + ratingBy(seller/buyer)

谁能给我个主意？

看！我可以简单地触发一些查询，但问题是我不确定评级表必须有记录！它可能有记录。

让我给你更多的解释：

我有两个视图 1) 交易 2) 评级

我想要交易页面上的“查看”数据（我在上面指定），这样我就可以显示/隐藏评级按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:14:26.547

这取决于您使用的数据库供应商，但您只想在 RatingTable 上加入两次并根据您的 IsFromBuyer 列过滤联接。

在 oracle 中它可能看起来像这样：

```
create or update view TransactionView AS
    select TransactionTable.*, 
           BuyerRating.Rate1 BuyerRate1, BuyerRating.Rate2 BuyerRate2, BuyerRating.Rate3 BuyerRate3, 
           SellerRating.Rate1 SellerRate1, SellerRating.Rate2 SellerRate2, SellerRating.Rate3 SellerRate3
        from TransactionTable 
     left join RatingTable BuyerRating 
          on TransactionTable.TransactionId = BuyerRating.TransactionId
             AND BuyerRating.IsFromBuyer = true
     left join RatingTable SellerRating 
          on TransactionTable.TransactionId = SellerRating.TransactionId
             AND SellerRating.IsFromBuyer = false 
```

如果没有 BuyerRating 行，那么您将在 BuyerRate1/2/3 字段中有 NULL 值，因为它是一个 LEFT JOIN，其中包含所有 TransactionTable 行，即使在 RatingTable 中没有匹配的 BuyerRating 行要加入。（对于缺少的 SellerRating 行也是如此）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:17:07.677

如果您有 RatingID，并且想要获取交易的两个条目：

```
SELECT * FROM TransactionTable x
INNER JOIN RatingTable y
ON x.TransactionID = y.TransactionID
WHERE TransactionID in (SELECT TransactionID from RatingTable where RatingID = 1234) 
```

# ruby-on-rails - 如何在表单 textarea 中编辑序列化的哈希列

> ID：10345054
> 
> 赞同：4
> 
> 时间：2012-04-27T05:10:08.933
> 
> 标签：ruby-on-rails, ruby-on-rails-3, serialization

我在公司模型中有一个序列化列：

```
class Company < ActiveRecord::Base
  serialize :names 
```

理想情况下，我希望它在数据库中存储这样的不同名称：

```
---
short: bestbuy
long: bestbuy ltd. 
```

目前在我的公司#edit 页面中，我有一个文本区域：

```
<%= f.text_area :names %> 
```

如果我在数据库中有该 YAML，它将在浏览器中显示为：

```
{"short"=>"bestbuy", "long"=>"bestbuy ltd."} 
```

但是，当我提交它时，它在数据库中变成了：

```
--- ! '{"short"=>"bestbuy", "long"=>"bestbuy ltd."}' 
```

***问题***

如何使 textarea 显示 YAML 以供编辑者编辑？

如何让数据库保存正确的 YAML，而不是 YAML 和 ruby​​ 哈希的混搭？

***更新***

如果我强制列是这样的类型`Hash`：

```
serialize :names, Hash 
```

当我尝试保存时会出错：

*Admin::CompaniesController#update
属性中的 ActiveRecord::SerializationTypeMismatch 应该是 Hash，但实际上是 String*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T06:32:48.427

您可以使用原始 SQL 在数据库中手动处理，但如果您还不知道自己在做什么，我不建议您这样做。一个推论是，除非您已经确切知道自己在做什么，否则您不应该弄乱数据库的 YAML 版本。

而是自己将数据转换为 YAML：

```
@names = m.names.to_yaml 
```

然后`@names`塞进你的`<textarea>`. 然后保存编辑后的 ​​YAML，将其解析回 Hash 并将其交给您的模型：

```
m.names = YAML.parse(params[:names])

# Or modify `params` in-place
params[:name] = YAML.load(params[:names])
# then stuff `params` into `m` as usual 
```

为了安全起见，您应该指定您的`names`应该是模型中的 Hash：

```
serialize :names, Hash 
```

我不是它的忠实粉丝，[`serialize`](http://api.rubyonrails.org/classes/ActiveRecord/AttributeMethods/Serialization/ClassMethods.html#method-i-serialize)所以我通常建议不要使用它；但是，如果您要使用它，则应始终指定`class_name`以使其更安全地使用。

* * *

您当前的方法是将`to_s`您的 Hash 版本放入`<textarea>`：

```
{"short"=>"bestbuy", "long"=>"bestbuy ltd."} 
```

那是一个字符串，而不是一个哈希；它可能看起来像一个哈希，但 HTML 不知道 Ruby 哈希是什么，所以它只是一个字符串。然后您将其读回并将其放入`names`其中，然后 YAML 将其（作为字符串）转换为：

```
--- ! '{"short"=>"bestbuy", "long"=>"bestbuy ltd."}' 
```

那是 YAML 中的一个字符串，一个看起来很像 Hash 但实际上是一个字符串的字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-23T02:01:30.317

我自己的问题的一个迟到的答案：

```
class ConfigSerializer
  def self.load(i)
    if i.blank?
      {}
    else
      YAML.load(i)
    end
  end

  def self.dump(i)
    i = {} if i.blank?

    if i.is_a?(String) # Allow assigning an YAML string as input 
      i
    else
      YAML.dump(i)
    end
  end
end 
```

并且在模型中

```
serialize :names, ConfigSerializer 
```

这样我可以分配一个 YAML 字符串，它会按原样存储到数据库中。只有当它从数据库加载时，它才会转换为哈希对象。

在视图中，我将 textarea 设置为具有原始 YAML 字符串，因此用户可以对其进行编辑。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-04-27T05:59:38.497

尝试将名称存储到数据库中，例如：

```
names = HashWithIndifferentAccess.new({"short"=>"bestbuy", "long"=>"bestbuy ltd."})
company = Company.new
company.names = names.to_yaml 
```

希望，它会有所帮助。

# haskell - 您如何为一种简单的编程语言（一种命令式语言）实现解释器（在 Haskell 中）

> ID：10345058
> 
> 赞同：3
> 
> 时间：2012-04-27T05:10:17.927
> 
> 标签：haskell

我已经获得了语言语义和我应该知道的一切。它只支持很少的操作，并且不会有任何数据类型的概念。所以我可以将任何东西存储在一个变量中并对其进行操作。

我会有循环、条件和函数调用，就是这样。我正在寻找一个开始，一个例子而不是一本理论书。有没有人在 Haskell 中实现过这样一个基本的语言解释器？我正在寻找指针和参考。

谢谢 ！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T05:26:23.180

我现在正在做一个练习项目。

它是一种动态类型的语言，因此不必声明变量，但每个值都有一个关联的类型。我在 Haskell 中使用代数数据类型实现了这一点：

```
data Value = BoolValue Bool  -- ^ A Boolean value.
           | NumberValue Double  -- ^ A numeric value.
           | StringValue String  -- ^ A string value.
           -- (several others omitted for simplicity) 
```

对于程序的执行，我在上面使用了`StateT`and `ErrorT`monad 转换器`IO`：

```
-- | A monad representing a step in an RPL program.
--
-- This type is an instance of 'MonadState', so each action is a function that
-- takes an 'RPLContext' as input and produces a (potentially different)
-- 'RPLContext' as its result.  It is also an instance of 'MonadError', so an
-- action may fail (with 'throwRPLError').  And it is built on the 'IO' monad,
-- so 'RPL' computations can interact with the outside world.
type RPL = StateT RPLContext (ErrorT RPLError IO)

-- | Executes an 'RPL' computation.
-- The monadic result value (of type @a@) is discarded, leaving only the final
-- 'RPLContext'.
runRPL :: RPL a  -- ^ The computation to run
       -> RPLContext  -- ^ The computation's initial context
       -> IO (Either RPLError RPLContext)
       -- ^ An 'IO' action that performs the operation, producing either
       -- a modified context if it succeeds, or an error if it fails.
runRPL a = runErrorT . (execStateT a) 
```

“上下文”是数据堆栈（它是一种基于堆栈的语言）和包含当前范围内所有变量的“环境”的组合：

```
-- | The monadic state held by an 'RPL' computation.
data RPLContext = RPLContext {
  contextStack :: Stack,  -- ^ The context's data stack.
  contextEnv :: Env  -- ^ The context's environment.
} 
```

（请注意，这`Stack`只是 . 的别名`[Value]`。）

在这个基础之上，我有各种辅助函数来做一些事情，比如在当前上下文中操作堆栈（由monad的`StateT`一部分持有）。`RPL`例如，以下是将值压入堆栈所涉及的函数：

```
-- | Pushes a value onto the stack.
pushValue :: Value -> RPL ()
pushValue x = modifyStack (x:)

-- | Transforms the current stack by a function.
modifyStack :: (Stack -> Stack) -> RPL ()
modifyStack f = do
  stack <- getStack
  putStack $ f stack

-- | Returns the entire current stack.
getStack :: RPL Stack
getStack = fmap contextStack get

-- | Replaces the entire current stack with a new one.
putStack :: Stack -> RPL ()
putStack stack = do
  context <- get
  put $ context { contextStack = stack } 
```

`getStack`, `putStack`, 和`modifyStack`以, , 和函数为模型，但它们只作用于记录`MonadState`的一个字段。`get``put``modify``RPLContext`

所有语言的内置命令都只是`RPL`monad 中的操作，它建立在`pushValue`.

为了用我的语言解析代码，我使用[Parsec](http://www.haskell.org/haskellwiki/Parsec)。这很不错。

* * *

在与我的 RPL 解释器无关的单独轨道上，您可能会发现“[在 48 小时内为自己编写一个方案](https://en.wikibooks.org/wiki/Write_Yourself_a_Scheme_in_48_Hours)”很有帮助。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-27T05:40:47.910

我会首先在 EDSL 中编码整个程序。EDSL 本身就是一个单子，类似于 IO。GADT 使编码变得非常容易：

```
{-# LANGUAGE GADTs, KindSignatures #-}

module Interp where

import SomeStuff

data Expr :: * -> * where
    -- Commands
    Print   :: String -> Expr ()
    GetLine :: Expr String

    -- Variables (created on demand)
    GetVar :: Name -> Expr Value
    SetVar :: Name -> Value -> Expr ()

    -- Loop constructs
    While :: Expr Bool -> Expr a -> Expr ()
    For   :: Expr a -> Expr Bool -> Expr b -> Expr c -> Expr ()

    -- Expr is a monad
    Return :: a -> Expr a
    Bind   :: Expr a -> (a -> Expr b) -> Expr b

instance Monad Expr where
    return = Return
    (>>=)  = Bind

runExpr :: Expr a -> StateT Variables IO a
runExpr (Print str) = liftIO (putStrLn str)
runExpr GetLine     = liftIO getLine
runExpr (While p x) =
    fix $ \again -> do
        b <- runExpr p
        when b (runExpr x >> again)
runExpr ... 
```

对于简单的语言，你甚至可以在没有专门的 EDSL 的情况下做这样简单的事情：

```
parseProgram :: Parser (StateT Variables IO ())
parseProgram = ... 
```

人们经常忘记 Haskell 将函数式编程的概念作为其结论。让解析器返回程序本身。然后你只需要用合适的起始状态 runStateT 它。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-27T05:17:37.327

一种方法是让您的解释器在[StateT](http://hackage.haskell.org/packages/archive/transformers/latest/doc/html/Control-Monad-Trans-State-Lazy.html#t%3aStateT) monad 中运行，使用[Map](http://hackage.haskell.org/packages/archive/containers/latest/doc/html/Data-Map.html)来模拟可变变量。简单的例子：

```
import Control.Monad.State
import Data.Map (Map)
import qualified Data.Map as Map

type VarName = String
data Value = VInt Int
           | VString String
type InterpreterState = Map VarName Value

type InterpretM = StateT InterpreterState IO

putVar :: VarName -> Value -> InterpretM ()
putVar varname value = modify (Map.insert varname value)

getVar :: VarName -> InterpretM Value
getVar varname = do
    m <- gets (Map.lookup varname)
    case m of
        Just x  -> return x
        Nothing -> error $ "Variable " ++ varname ++ " is undefined" 
```

然后解释器将在`InterpretM`monad 中运行。上面的访问器允许它访问可变变量（不支持像闭包和词法范围这样的优点）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-03-22T11:03:33.000

这是一些资源[https://github.com/budabudimir/imp_interpreter](https://github.com/budabudimir/imp_interpreter)，这是这里描述的简单命令式语言的解释器[http://fsl.cs.illinois.edu/images/0/0d/CS522-Spring-2011-PL -book-imp.pdf](http://fsl.cs.illinois.edu/images/0/0d/CS522-Spring-2011-PL-book-imp.pdf)

# java - 正确初始化对象中的数组列表？

> ID：10345060
> 
> 赞同：0
> 
> 时间：2012-04-27T05:10:52.797
> 
> 标签：java, arraylist, initialization

假设我正在使用这样的对象运行：

```
static class fileHandler {
    File fileToHandle;
    ArrayList fileDetails;

    fileHandler(File fileIn) {
        fileToHandle = fileIn;
    }

    public void fileHandling() {

        try {
            Scanner reader = new Scanner(fileToHandle);
            reader.useDelimiter(",");
            while(reader.hasNext()) {
                String s = reader.next();
                fileDetails.add(s);
            }
        } catch (FileNotFoundException e) { System.err.println("File Not Found!"); }
    }
} 
```

我怎样才能使“fileDetails”能够在我的方法中工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:15:19.607

在您的构造函数中初始化它

```
fileHandler(File fileIn) {
    fileToHandle = fileIn;
    fileDetails = new ArrayList();
} 
```

或定义正确：

```
ArrayList fileDetails = new ArrayList(); 
```

顺便说一句，您应该使用通用的 ArrayList：

```
ArrayList<String> fileDetails = new ArrayList<String>(); 
```

并且类名应以大写字母开头

```
class FileHandler { 
```

# java - 检查一个 Class 对象是否是 Java 中另一个 Class 对象的子类型？

> ID：10345061
> 
> 赞同：9
> 
> 时间：2012-04-27T05:10:59.300
> 
> 标签：java, class, inheritance

假设我有两个`Class`对象。有没有办法检查一个类是否是另一个类的子类型？

```
 public class Class1 { ... }

 public class Class2 extends Class1 { ... }

 public class Main {
   Class<?> clazz1 = Class1.class;
   Class<?> clazz2 = Class2.class;

   // If clazz2 is a subtype of clazz1, do something.
 } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-27T05:12:38.173

```
if (clazz1.isAssignableFrom(clazz2)) {
    // do stuff
} 
```

这将检查是否`clazz1`相同，或者是`clazz2`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T05:28:23.523

你可以这样检查：

```
if(Class1.class.isAssignableFrom(Class2.class)){

} 
```

# c++ - 将 pcm 转换为 mp3（使用 LAME）会导致 mp3 文件中出现“点击”

> ID：10345064
> 
> 赞同：1
> 
> 时间：2012-04-27T05:11:20.763
> 
> 标签：c++, pcm, lame

我的应用程序使用 LAME 将原始 pcm 数据编码为 mp3。但我有一个问题 - 输出 mp3 在持续时间内包含“点击”。像这样的东西：

声音...“点击”声音..“点击”声音..“点击”等...

我尝试了不同版本的 LAME 并尝试更改许多 LAME 设置但没有成功。我的应用程序还可以将 pcm 转换为 wav 和 ogg，但此转换器不会导致“点击”。

有一个编码代码（pcm输入包含一个通道数据，pcm已经重采样到44100频率）：

初始化：

```
lame = lame_init();
lame_set_in_samplerate(lame, 44100);
lame_set_VBR(lame, vbr_abr);//vbr_default
lame_init_params(lame);

//Samples count (do not have any effect on output)
dwSamples=1024;

//mp3 buffer size, if it do not equals dwSamples*2 than output sound getting scaled
dwMP3Buffer=dwSamples*2;

pMP3Buffer = new BYTE[dwMP3Buffer]; 
```

写入 pcm 数据

```
int Mp3Stream :: Write(short * _data, int _size)
{
    if (_size > 0)
    {
        for(int curPos = 0; curPos < _size; curPos += dwMP3Buffer)
        {
            //int size = dwMP3Buffer;

            //if (_size - curPos < dwMP3Buffer)
            //  size = _size - curPos;

            int bytes = lame_encode_buffer(lame, (short *)((char *)_data + curPos), (short *)((char *)_data + curPos), dwSamples, pMP3Buffer, 0);

            IPF_TRACE(1, "MP3 encoder wrote "<<bytes<<" bytes");

            if (bytes<0)
            {
                IPF_TRACE(1, "MP3 encoding failed with code "<<bytes);
                return bytes;
            }

            BOOL bResult = WriteFile(hFile, pMP3Buffer, bytes, &bw, NULL);

            if (!bResult || bytes != bw)
            {
                IPF_TRACE(1, "MP3 write to file failed with code "<<bytes);
            }
        };
    }
} 
```

敲定

```
int bytes = lame_encode_flush(lame, pMP3Buffer, 0);
    if (bytes<0)
{
    IPF_TRACE(1, "MP3 flush failed with code "<<bytes);
}
BOOL bResult = WriteFile(hFile, pMP3Buffer, bytes, &bw, NULL);
if (!bResult || bytes != bw)
{
    IPF_TRACE(1, "MP3 write to file failed with code "<<bytes);
}
int ret = lame_close(lame);
if (ret < 0) 
{
    IPF_TRACE(1, "MP3 lame close failed with code "<<ret);
}
delete []pMP3Buffer; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-22T04:04:56.633

尝试这个，

```
void AQRecorder::MyInputBufferHandler(  void *                              inUserData,
                                AudioQueueRef                       inAQ,
                                AudioQueueBufferRef                 inBuffer,
                                const AudioTimeStamp *              inStartTime,
                                UInt32                              inNumPackets,
                                const AudioStreamPacketDescription* inPacketDesc)
{
AQRecorder *aqr = (AQRecorder *)inUserData;
//    NSLog(@"%f",inStartTime->mSampleTime);
try
{
    if (inNumPackets > 0)
    {
        AudioFileWritePackets(aqr->mRecordFile, FALSE, inBuffer->mAudioDataByteSize, inPacketDesc, aqr->mRecordPacket, &inNumPackets, inBuffer->mAudioData);

        aqr->mRecordPacket += inNumPackets;

        int MP3_SIZE =inBuffer->mAudioDataByteSize * 4;
        unsigned char mp3_buffer[MP3_SIZE];
        AppDelegate *delegate =[[UIApplication sharedApplication]delegate];
        lame_t lame = lame_init();
        lame_set_in_samplerate(lame, 44100);
        lame_set_VBR(lame, vbr_default);
        lame_init_params(lame);

  //                int encodedBytes=lame_encode_buffer_interleaved(lame, (short int *)inBuffer->mAudioData , inNumPackets, mp3_buffer, MP3_SIZE);

        int encodedBytes = lame_encode_buffer(lame, (short*)inBuffer->mAudioData,  (short*)inBuffer->mAudioData, inNumPackets, mp3_buffer, MP3_SIZE);

        [delegate.mp3AudioData appendBytes:mp3_buffer length:encodedBytes];

        if (inBuffer->mAudioDataByteSize != 0) {
        }
        else
        {
            int encode=lame_encode_flush(lame, mp3_buffer, MP3_SIZE);
            [delegate.mp3AudioData appendBytes:mp3_buffer length:encode];
        }
        lame_close(lame);
    }

    if (aqr->IsRunning())
    {
        AudioQueueEnqueueBuffer(inAQ, inBuffer, 0, NULL);
    }
 } catch (CAXException e)
 {
 char buf[256];
 fprintf(stderr, "Error: %s (%s)\n", e.mOperation, e.FormatError(buf));
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:34:53.570

Sound -> Click -> Sound -> Click 模式很可能意味着您一次只写入一半缓冲区，而另一半在 Write 调用中的每个循环中保持为零。

原因是您的循环增量器基于 dwSamples*2 的 dwMP3Buffer 值。

```
 for(int curPos = 0; curPos < _size; curPos += dwMP3Buffer){ 
```

这意味着您实际上并未对所有输入值进行编码，因为 dwMP3Buffer 是您实际传递给 lame_encode_buffer 调用 (dwSamples) 的样本数量的两倍。

```
lame_encode_buffer(lame, (short *)((char *)_data + curPos), 
                   (short *)((char *)_data + curPos), dwSamples, pMP3Buffer, 0); 
```

尝试将循环增量器更改为以下内容：

```
 for(int curPos = 0; curPos < _size; curPos += dwSamples){ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-28T05:21:52.240

我会尝试设置

```
dwSamples = 1152 
```

1152 - 是 MPEG1Audio 编码器的音频帧大小（以样本为单位）。看起来 LAME 按帧多块处理数据

# c++ - C ++将私有类变量发送到函数中

> ID：10345065
> 
> 赞同：1
> 
> 时间：2012-04-27T05:11:26.160
> 
> 标签：c++, class, private

我正在用 C++ 编写一个处理二叉搜索树的程序。我正在使用一个包含类“treeNode”的 .h 文件，并且我有一个函数可以在树中搜索特定数字并返回一个关于是否找到该数字的布尔值。我的问题是我有一个名为“root”的“treeNode”类的私有类变量，它是一个指针，指向树中的第一个元素。我需要以某种方式将该变量从 .cpp 文件作为函数参数发送到搜索函数中。

我该怎么做呢？每次我尝试时，我都会收到一个错误，告诉我它是一个私有类变量。课程让我有点困惑。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:26:12.687

您可以参考此框架并构建您的类。

```
class treeNode
{
private:
    int data;
};

class tree
{
private:
    treeNode* root;

public:
    bool search(int data)
    {
    //root is accessible here. No need to pass as argument
    }
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:30:34.460

私有变量的想法是能够从您正在使用的当前类之外的任何东西中隐藏该变量/函数/等。即使派生类也可能无法访问私有变量。如果您使搜索函数成为存储树的类的成员函数，那么您将能够访问它。如果你想在类之外访问它，那么创建一个返回它的函数。

PS 如果你在这里发布你的代码，你可能会获得一些关于如何更好地设计你的代码的有用见解。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:30:02.643

> 我有一个在树中搜索特定数字的功能

您的函数是具有您的私有变量的类的一部分吗？

# mips - 交叉编译代码

> ID：10345067
> 
> 赞同：0
> 
> 时间：2012-04-27T05:11:34.430
> 
> 标签：mips, cross-compiling

我正在尝试交叉编译一些代码。它有一个目录结构。我使用自动工具使用非递归 make 编译它。它工作正常。它有一个使用 glib2.0 的哈希实现。当我尝试为 mips64（带有标志 CC=/sdk 的 gcc 的路径、--build=mips64、--host=i686 LD=/sdk 的 ld 标志的路径）架构交叉编译它时，它给了我一个错误，即 /usr /local/sdk/path to ld flags/ -lglib2.0 not found 然后我尝试用一​​些标志交叉编译 glib。IT 给了我一个错误 /usr/local/sdk/path to ld flags/ -lffi not found。我下载了 lib ffi 并交叉编译了它。我再次遇到错误，但不知何故设法将它们删除。然后我转到 glib，在编译它时，出现错误，指出 /usr/local/sdk/path to ld flags/ -ldl not found -lrt not found -lz not found

请帮忙。交叉编译 glib 的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T09:15:58.003

您正在尝试构建自己的工具链。工具链构建是最好留给巫师的黑魔法。我们其他人通常 [从 Mentor Graphics 下载 Code Sourcery 预构建工具链](https://sourcery.mentor.com/sgpp/lite/mips/portal/release1798)。

如果您将自己视为学徒向导，请尝试[此](http://cross-lfs.org/view/1.0.0/mips/)操作。

# ember.js - 在 Ember.js 中，[] 和 Ember.A([]) 有什么区别？

> ID：10345083
> 
> 赞同：34
> 
> 时间：2012-04-27T05:13:26.540
> 
> 标签：ember.js

在浏览使用 Ember.js 编写的应用程序时，我注意到有时数组是通过调用定义的`Ember.A()`，有时会使用数组字面量。当我`Ember.A([1])`在浏览器控制台中运行时，返回值看起来就像一个数组，并且使用数组文字创建的数组具有 Ember.js 方法`pushObject`和朋友。当您不使用原型扩展时，调用`Ember.A()`只是一种定义方法吗？`Ember.Array`否则数组是否都是一样的？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-04-27T12:33:17.223

您的问题包含正确答案：`Ember.A()`只是一种[`Ember.Array`](http://emberjs.com/api/classes/Ember.Array.html)在您关闭原型扩展时定义的方法。你会注意到 Ember 的内部代码总是使用`Ember.A()`.

# php - PHP 将数组中的值替换为 HTML 字符串

> ID：10345088
> 
> 赞同：1
> 
> 时间：2012-04-27T05:13:43.933
> 
> 标签：php, arrays, str-replace

听起来很简单，但我今天感觉很愚蠢。

如果我有这样的数组：

```
$defined_vars = array(
    '{POST_TITLE}' => $item['post']['name'], 
    '{POST_LINK}' => $item['post']['link'], 
    '{TOPIC_TITLE}' => $item['topic']['name'], 
    '{TOPIC_LINK}' => $item['topic']['link'], 
    '{MEMBERNAME}' => $txt['by'] . ' <strong>' . $item['membername'] . '</strong>', 
    '{POST_TIME}' => $item['time'], 
    '{VIEWS}' => $txt['attach_viewed'] . ' ' . $item['file']['downloads'] . ' ' . $txt['attach_times'],
    '{FILENAME}' => $item['file']['name'],
    '{FILENAME_LINK}' => '<a href="' . $item['file']['href'] . '">' . $item['file']['name'] . '</a>',
    '{FILESIZE}' => $item['file']['size'],
    '{DIMENSIONS}' => $item['file']['image']['width'] 'x' $item['file']['image']['height'],
); 
```

和这样的字符串：

```
$string = '<div class="largetext centertext">{POST_LINK}</div><div class="smalltext centertext">{MEMBERNAME}</div><div class="floatright smalltext dp_paddingright">{POST_TIME}</div><div class="dp_paddingleft smalltext">{VIEWS}</div>'; 
```

我需要用这些键的值替换它。那有可能吗？也许以`str_replace()`某种方式使用？数组键是否允许在其中包含大括号？这会引起任何问题吗？此外，我需要这个来替换所有找到这些的 $string 值，因为可能需要超过 1 次相同的输出。例如，如果`{POST_TITLE}`定义了两次，它应该在字符串中使用它的位置输出两次值。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T05:31:54.700

[str_replace](http://bd.php.net/str_replace)支持数组。以下语法将做到这一点。

```
$string=str_replace(array_keys($defined_vars), array_values($defined_vars), $string); 
```

数组键中支持大括号，因为它在字符串中，并且字符串作为数组支持。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-27T05:25:17.060

```
foreach($defined_vars as $key=>$value) {
  $string = str_replace($key,$value,$string);
} 
```

这是使用 str_replace 就像你问的那样，很容易看到发生了什么。Php 也有[strtr](http://php.net/manual/en/function.strtr.php)或 string translate 函数来做这个，所以你也可以使用

```
$string = strtr($string,$defined_vars); 
```

但必须记住该功能的作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:23:02.663

```
<div class="largetext centertext">
  <a href="<?=$item['post']['link']?>"><?=$item['post']['title']?></a>
</div>
<div class="smalltext centertext">
  <?=$txt['by']?><strong><?$item['membername']?></strong>
</div>
<div class="floatright smalltext dp_paddingright"><?$item['time']?></div>
<div class="dp_paddingleft smalltext">
  <?=$txt['attach_viewed']?>
  <?=$item['file']['downloads']?>
  <?=$txt['attach_times']?>
</div> 
```

好吧，如果它是用户定义的字符串，则必须替换

```
$string = strtr($string,$defined_vars); 
```

另外，我希望您**过滤掉**用户编辑的 HTML，以防止他们窃取您的 cookie 并以管理员或任何其他用户身份登录。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T05:24:45.983

是的，你的 str_replace 是合适的，只是 foreach() 循环你的数组

```
if(isset($defined_vars) and is_array($defined_vars))
{
  foreach($defined_vars as $token => $replacement)
  {
    $string = str_replace($token,$replacement,$string);
  }
} 
```

您可能希望对变量应用一些过滤器，以确保您的 HTML 不会被破坏。

# linux - Linux：获取空闲空间物理块号（空闲空间位图）

> ID：10345095
> 
> 赞同：1
> 
> 时间：2012-04-27T05:14:31.567
> 
> 标签：linux, unix, linux-kernel

我有一个磁盘，其中包含一些 Linux 内核已知的文件系统。我需要获取此文件系统上当前空闲的所有块的物理块号。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:22:50.257

*获得空闲块计数：*

内核方法：

查看`.statfs`文件系统实现的超级块挂钩。它们返回一个`kstatfs`具有`f_bfree`参数的对象，即空闲块的计数。你应该可以调用这个。

从用户空间：

该`df`命令是最简单的（这当然会导致内核调用`statfs`- 它还能从哪里获取信息？:)

**编辑**：您最初的问题传达的是获得空闲块数。

*获取块位置：*

使用内核的当前结构以独立于文件系统的方式获取每个空闲块的位置而不仅仅是总数是不可能的（并且它可能会保持这种方式）。VFS 没有对文件系统如何维护其位图施加任何通用结构。位图在超级块的文件系统相关部分中被跟踪。

因此，*如果*您想要一个适用于所有文件系统的解决方案，那么您就不走运了。如果您知道文件系统可能是什么并且数量很少，您可以查看`fsck`每个文件系统的用户空间代码并添加函数以您期望的格式写出位图，或者您可以修改`.statfs`挂钩以写出位图。

您分配一个分配所有剩余空闲块的大文件的方法听起来根本不是一个好主意，尤其是在涉及日志的情况下。它也不适用于在您执行此操作时正在写入和删除文件的活动文件系统。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-04T06:25:03.610

这取决于文件系统 - 没有统一的接口，并且一些文件系统（例如 JFFS）并没有真正的空闲块的概念。此外，如果文件系统已挂载，您获得的任何信息都可能立即过时。预计必须阅读记录不佳的文件系统内部代码。但是，您不一定必须在内核中执行此操作。例如，如果您对获取 ext[234] 自由空间位图感兴趣，请查看[libext2fs](http://git.kernel.org/?p=fs/ext2/e2fsprogs.git;a=blob;f=lib/ext2fs/ext2fs.h;h=fda6adea7f527408c082098675cb2b5e95497b5c;hb=HEAD#l801)中的位图函数。一般来说，如果有一个用户空间 fsck，你可能可以利用它的代码来获取你想要的信息。

无论如何，你需要这个做什么？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-03T09:40:55.670

Afraid- `statfs`like 函数只能给我免费 fs 块的*数量*，而不是它们的位置。

我发现获取空闲块位置的最简单方法是创建一个文件来填充（或仅通过调用保留）所有可用空间，使用ioctl`fallocate()`获取块映射并删除文件。`FIBMAP`但是由于某些原因，这样做并不是我想要的。

另一种方法是进入较低级别的具体文件系统并从其驱动程序中获取可用空间位图。这对我来说是一个好方法，但是它必须依赖于每个文件系统来实现，它并不好:)

也许有一些我找不到的 vfs 功能或一些 fs ioctl 可以在这种情况下提供帮助？

无论如何，谢谢大家的回答！

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-27T05:49:42.187

你可以使用一些老式的 C，fork，然后在 unix 中执行一个名为“stat”的程序。您可以将该输出通过管道传输到一个文件，然后使用一些字符串流来解释它并找到空闲块的数量。（这将涉及获取总 IO 块的数量并减去已使用的 IO 块的数量。

我不确定是否有比这更简单的方法。这是一些伪代码：

```
main() {
    fork()
    if child{
        execl(stat / %B >> output.txt)
    }
    if parent {
        wait until output.txt is populated
        read in data with stringstream
        calculate number of free blocks
    }
} 
```

希望有帮助。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-04-27T05:50:53.650

[以最佳方式从 system() 命令捕获标准输出](https://stackoverflow.com/questions/125828/best-way-to-capture-stdout-from-a-system-command-so-it-can-be-passed-to-anothe)

系统调用可能是您正在寻找的，只需确保 popen 首先在 linux 上是标准的。我还忘了提到您应该执行以下操作：

```
FILE* test = popen("df","r"); 
```

由于 df 告诉您系统上的空闲块数。

# gnuplot - gnuplot 直方图错误：我不能从数据文件中生成不超过 1 行

> ID：10345103
> 
> 赞同：0
> 
> 时间：2012-04-27T05:15:12.657
> 
> 标签：gnuplot

我在使用 gnuplot 时遇到了这个问题，我不知道可能出了什么问题……我试图通过从 dat 文件中传递值来创建直方图：

```
machine1    1.04    1.11     1.09
machine2    0.12    0.16     0.126
machine3    1.478   1.358    1.306 
```

使用这个 .plt 文件：

```
set terminal x11 persist
set title "Average Load of current machines"
set style data linespoints
set ylabel "load"
set xlabel "machines"
set yrange [0:1.5]

plot "test.dat" using 2:xticlabel(1) w lp lw 2 t "1 min", \
     "" using 3  w lp lw 2 t "5 min", \
     "" using 4  w lp lw 2 t "15 min" 
```

但不幸的是，我只得到第一行的数据（作为点），省略了 dat 文件的其余行......

![gnuplot直方图pic1](../Images/a95309040ab9f37743d2e884b13a6f67.png)

另一方面，如果我将 .dat 文件中的数据复制到 .plt 文件中，如下所示：

```
set terminal x11 persist
set title "Average Load of current machines"
set style data linespoints
set ylabel "load"
set xlabel "machines"
set yrange [0:1.5]

plot "-" using 2:xticlabel(1) w lp lw 2 t "1 min", \
     "" using 3  w lp lw 2 t "5 min", \
     "" using 4  w lp lw 2 t "15 min"
machine1    1.04    1.11     1.09
machine2    0.12    0.16     0.126
machine3    1.478   1.358    1.306 
```

我得到了所有机器的正确结果，但仅适用于省略其余列的第一列......

![gnuplot直方图图片2](../Images/96247a9278285666e1ce8e87433f4ec3.png)

有什么建议可能是错的吗？

编辑/解决

好吧，问题出在我构建 dat 文件的 bash 上……每次我想添加新的数据行时，我都会传递一个 \r 字符。我不知道这对 gnuplot 不友好......经过几天的困扰，我意识到......

PS谢谢大家的意见。我希望这也能帮助其他新手，以免他们陷入同样的​​错误......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T12:54:50.683

第二个版本不起作用，因为必须重复内联数据（不幸的是）......

```
set terminal x11 persist
set title "Average Load of current machines"
set style data linespoints
set ylabel "load"
set xlabel "machines"
set yrange [0:1.5]

plot "-" using 2:xticlabel(1) w lp lw 2 t "1 min", \
     "" using 3  w lp lw 2 t "5 min", \
     "" using 4  w lp lw 2 t "15 min"
machine1    1.04    1.11     1.09
machine2    0.12    0.16     0.126
machine3    1.478   1.358    1.306
e
machine1    1.04    1.11     1.09
machine2    0.12    0.16     0.126
machine3    1.478   1.358    1.306 
e
machine1    1.04    1.11     1.09
machine2    0.12    0.16     0.126
machine3    1.478   1.358    1.306
e 
```

第一个版本在我的电脑上运行，所以我不知道那个有什么问题......

# java - Android Second Spinner 基于 First Spinner 中的选择进行更改

> ID：10345107
> 
> 赞同：1
> 
> 时间：2012-04-27T05:15:50.980
> 
> 标签：java, android, dynamic, spinner

首先，是的，我浏览了许多可能的解决方案，它们让我很接近，但我错过了一些我一生都找不到的关键小步骤。一切都很好。第一个微调器（类别）按应有的方式填充，我可以告诉第二个微调器（颜色）正在通过 create 方法填充，但我错过了在用户选择类别时告诉它在哪里重新创建自身。这是我现在的所有代码。

```
package yarn.pack.name;
import android.app.Activity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Adapter;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.Spinner;
import android.widget.SpinnerAdapter;
import android.widget.AdapterView.OnItemSelectedListener;

public class YarnDatabaseActivity extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    try {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        Spinner Category_Add_Spinner = Create_Category_Add_Spinner();
        Spinner Color_Add_Spinner = Create_Color_Add_Spinner(null);
    } catch (Exception e) {
        Log.e("ERROR", e.toString());
        e.printStackTrace();
    }
}

// Creates the Category Spinner for the Add section sends the choice made to
// a method for populating the color spinner
public Spinner Create_Category_Add_Spinner() {
    Spinner Category_Add_Spinner = (Spinner) findViewById(R.id.categoryAddID);
    String[] Category_Add_Spinner_Array = getResources().getStringArray(
            R.array.categoryNames);
    SpinnerAdapter Category_Add_Spinner_Adapter = new ArrayAdapter<String>(
            this, android.R.layout.simple_spinner_dropdown_item,
            Category_Add_Spinner_Array);
    Category_Add_Spinner.setAdapter(Category_Add_Spinner_Adapter);
    Category_Add_Spinner
            .setOnItemSelectedListener(new Category_Add_Spinner_Listener());
    return Category_Add_Spinner;
}

// The listener for the Category Spinner that sends whatever choice made to
// the method that populates the second spinner.
public class Category_Add_Spinner_Listener implements
        OnItemSelectedListener {

    public void onItemSelected(AdapterView<?> Category_Add_Adapter_View,
            View v, int position, long row) {
        String Category_Add_Choice = Category_Add_Adapter_View
                .getItemAtPosition(position).toString();
        Create_Color_Add_Spinner(Category_Add_Choice);
    }

    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    }

}

// Creates the Color Spinner for the Add section
public Spinner Create_Color_Add_Spinner(String category_Add_Choice) {
    String[] Color_Add_Spinner_Array = null;
    Spinner Color_Add_Spinner = (Spinner) findViewById(R.id.colorAddID);
    if (category_Add_Choice == "Red") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.RedColors);
    } else if (category_Add_Choice == "Pink") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.PinkColors);
    } else if (category_Add_Choice == "Orange") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.OrangeColors);
    } else if (category_Add_Choice == "Yellow") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.YellowColors);
    } else if (category_Add_Choice == "Green") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.GreenColors);
    } else if (category_Add_Choice == "Blue") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.BlueColors);
    } else if (category_Add_Choice == "Purple") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.PurpleColors);
    } else if (category_Add_Choice == "Neutral") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.NeutralColors);
    } else if (category_Add_Choice == "Mix") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.MixColors);
    } else if (category_Add_Choice == "Fleck") {
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.FleckColors);
    } else
        Color_Add_Spinner_Array = getResources().getStringArray(
                R.array.MixColors);     
    SpinnerAdapter Color_Add_Spinner_Adapter = new ArrayAdapter<String>(
            this, android.R.layout.simple_spinner_dropdown_item,
            Color_Add_Spinner_Array);
    Color_Add_Spinner.setAdapter(Color_Add_Spinner_Adapter);
    Color_Add_Spinner
            .setOnItemSelectedListener(new Color_Add_Spinner_Listener());
    return Color_Add_Spinner;
}
} 
```

我很确定我缺少的任何东西都是显而易见的，但我已经为此工作了很长时间，而且我的时间很短，以至于我想我会伸出手来看看我是否不能得到一些光照在对象上。提前感谢大家可以给我的任何帮助。

* * *

对命名约定感到抱歉。我通常命名，所以它对我自己最有意义。无论如何，事实证明问题是我使用 == 而不是 .equals 进行了更改，并且它工作顺利！感谢大家的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:37:43.777

您的代码几乎可以工作，不是很完美，但可以快速工作：

1.  永远不要使用 == 来比较 java 中的字符串。始终使用 stringA.equals(stringB)。我想这是你唯一的问题。
2.  尊重java命名约定，它会更容易阅读。

正如@Frankenstein 所指出的，使您的小部件数据成员通常比总是使用 findViewById 从布局中重新获取它们更加清晰和高效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:37:02.553

在活动级别声明这一点，

`SpinnerAdapter Category_Add_Spinner_Adapter;`

第二步，在最后的onItemSelected中添加这一行。

`Category_Add_Spinner_Adapter.notifyDataSetChanged();`

更改不会在运行时反映出来，因为您只更改了 Array 的值，但是适配器很久以前就分配了数组。因此，每当您更改 array/arraylist 中的值时，也可以反映适配器中的这些更改。 .您需要通知适配器底层数组的值发生变化，请更新您自己。

# android - 在android中的xml中创建一个按钮

> ID：10345108
> 
> 赞同：0
> 
> 时间：2012-04-27T05:16:01.513
> 
> 标签：android, button

![在此处输入图像描述](../Images/97f02753ed3e0ff09702adc2098a3036.png) 我可以通过制作 9 个补丁来将此图像用作按钮。但我担心的是我们能否在 android 中使用 xml 制作这样的按钮。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T18:36:49.070

我使用 xml 完成了我的按钮，但这只是一个常规按钮，而不是您发布的带有尖箭头的按钮。但是您可以以此为起点吗？

```
<!-- Bottom 1dp Shadow -->
<item>
    <shape android:shape="rectangle" >
        <solid android:color="#383838" />

        <corners android:radius="5dp" />
    </shape>
</item>

<!-- Green Top color -->
<item android:bottom="1dp" android:top="2dp">
    <shape android:shape="rectangle" >
        <gradient
            android:angle="270"
            android:endColor="#2F361D"
            android:startColor="#67724B" />

        <corners android:radius="5dp" />
    </shape>
</item> 
```

# java - 在静态与非静态上下文中创建 SLF4J 记录器的开销是多少？

> ID：10345109
> 
> 赞同：28
> 
> 时间：2012-04-27T05:16:06.700
> 
> 标签：java, logging, static, cdi, slf4j

我一直使用以下模式来构建（SLF4J）记录器：

```
private static final Logger log = LoggerFactory.getLogger(MyClass.class); 
```

到目前为止，这已经奏效了，但是我想知道`static`在某些时候上下文以及是否需要一直传入具体的类文字，而不是仅仅使用像这样的非静态记录器

```
private final Logger log = LoggerFactory.getLogger(getClass()); 
```

对于 LOG4J，这基本上已经被问到（并得到了回答）

[记录器是否应该是私有静态的](https://stackoverflow.com/questions/3842823/should-logger-be-private-static-or-not)

和这里

[记录器应该始终是最终的和静态的吗？](https://stackoverflow.com/questions/7324386/should-be-logger-always-final-and-static)

我意识到`final`基本上是强制性的，所以我想知道在非静态上下文中使用 SLF4J 的开销到底有多高。

**问：**

使用是否有任何**重大的实际**开销

```
private final Logger log = LoggerFactory.getLogger(getClass()); 
```

超过

```
private static final Logger log = LoggerFactory.getLogger(MyClass.class); 
```

在**普通**（网络）应用程序中？（这里无需“讨论”高端、重载的 webapps）

* * *

请注意，我最终计划使用更好的方法，使用 CDI 来获取 SLF4J 记录器，例如

```
@Inject private final Logger log; 
```

如此处所述[http://www.seamframework.org/Weld/PortableExtensionsPackage#H-TtLoggerttInjection](http://www.seamframework.org/Weld/PortableExtensionsPackage#H-TtLoggerttInjection)，但我需要先了解记录器缓存。

子问题：甚至可以使用吗？：

```
@Inject private static final Logger log; 
```

（老实说，只是从 CDI 开始）

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-05-04T21:54:34.817

非静态（实例）记录器变量的开销应该可以**忽略不计**，除非发生很多（比如 10000 个或更多）实例化。这里的关键词可以忽略不计。如果实例化了许多 (>10000) 对象，则影响可能是可测量的，但仍然很低。

更具体地说，实例记录器将每个对象实例的内存占用增加一个引用（64 位）。在 CPU 方面，成本是每个实例查找一次哈希，即在哈希表中查找适当记录器的成本（小）。同样，除非创建了许多对象，否则这两种成本都应该可以忽略不计。

[SLF4J FAQ](http://www.slf4j.org/faq.html#declared_static)中也讨论了这个问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-04T21:42:17.903

我不确定使用 LoggerFactory 时的确切开销，但我怀疑它会影响您的应用程序性能。因此，只需使用您认为合适的静态或非静态即可。

使用@Inject 应该有什么好处。LoggerFactory 已经提供了具体 impl 的抽象。无论如何，它都会比 LoggerFactory 慢很多。

当您使用 @Inject 时，语法更加简洁。但是假设您在测试中使用该类。然后您必须设置注入以获取日志记录。使用普通的 LoggerFactory 它在测试中也能很好地工作。如果 java 有一个用于 @Inject 的通用机制，它会很好用，但因为它是设置更加困难。

# iphone - 删除“捕获视频”按钮并为弹出框控制器外部的按钮提供相同的功能

> ID：10345110
> 
> 赞同：2
> 
> 时间：2012-04-27T05:16:08.030
> 
> 标签：iphone, ios, ipad

我正在创建一个应用程序，在该应用程序中我使用 popover 控制器打开摄像机。该控件提供了一个用于开始视频录制的按钮。现在是否可以删除该按钮并为该弹出框控制器外部的按钮提供相同的功能？

这是在popovercontroller中打开摄像机的代码

```
-(IBAction)openVideoCameraPopOver:(id)sender
{  
if(UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPad)
{
    @try 
    {
        if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
        {      

            UIImagePickerController *videoRecorder = [[UIImagePickerController alloc]init];         
            NSArray *sourceTypes = [UIImagePickerController availableMediaTypesForSourceType:videoRecorder.sourceType];

            if (![sourceTypes containsObject:(NSString*)kUTTypeMovie] ) 
            {
                UIAlertView *alert = [[UIAlertView alloc] initWithTitle:nil 
                                                                message:@"Device Not Supported for video Recording."                                                                       delegate:self 
                                                      cancelButtonTitle:@"Yes" 
                                                      otherButtonTitles:@"No",nil];
                [alert show];
                [alert release];
                return;
            }

            videoRecorder.sourceType = UIImagePickerControllerSourceTypeCamera;
            videoRecorder.mediaTypes = [NSArray arrayWithObject:(NSString*)kUTTypeMovie];           
            videoRecorder.videoQuality = UIImagePickerControllerQualityTypeLow;
            videoRecorder.videoMaximumDuration = 120;
            videoRecorder.delegate = self;

            videoRecorder.contentSizeForViewInPopover=CGSizeMake(25,25);       
            popoverCamera= [[UIPopoverController alloc]
            initWithContentViewController:videoRecorder];
            [popoverCamera presentPopoverFromRect:CGRectMake(cropRectangleButton.frame.origin.x,cropRectangleButton.frame.origin.y,0,0) inView:innerview permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES];

            [self presentModalViewController:videoRecorder animated:YES];  
            [videoRecorder release];

        }
    }
    @catch (NSException *exception) 
    {

    }

}
else
{
    UIActionSheet *actionSheet = [[UIActionSheet alloc] initWithTitle:@"Take picture " delegate:self cancelButtonTitle:@"Cancel" destructiveButtonTitle:nil otherButtonTitles:@"Camera", nil];
    actionSheet.actionSheetStyle = UIActionSheetStyleBlackTranslucent;
    actionSheet.alpha=0.90;
    actionSheet.tag = 1;
    [actionSheet showInView:self.view]; 
    [actionSheet release]; 
 }} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T07:02:49.583

```
-(IBAction)MyNewButton
{  
    if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
    {      

        UIImagePickerController *videoRecorder = [[UIImagePickerController alloc]init];         
        NSArray *sourceTypes = [UIImagePickerController availableMediaTypesForSourceType:videoRecorder.sourceType];

        if (![sourceTypes containsObject:(NSString*)kUTTypeMovie] ) 
        {
            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:nil 
                                                            message:@"Device Not Supported for video Recording."                                                                       delegate:self 
                                                  cancelButtonTitle:@"Yes" 
                                                  otherButtonTitles:@"No",nil];
            [alert show];
            [alert release];
            return;
        }

        videoRecorder.sourceType = UIImagePickerControllerSourceTypeCamera;
        videoRecorder.mediaTypes = [NSArray arrayWithObject:(NSString*)kUTTypeMovie];           
        videoRecorder.videoQuality = UIImagePickerControllerQualityTypeLow;
        videoRecorder.videoMaximumDuration = 120;
        videoRecorder.delegate = self;

        videoRecorder.contentSizeForViewInPopover=CGSizeMake(25,25);       
        popoverCamera= [[UIPopoverController alloc]
        initWithContentViewController:videoRecorder];

        [self.view addsubview:videoRecorder.view];  
        [videoRecorder release];

} 
```

尝试这个

# jsf - jsf 在 backingbean 中获取选中的复选框

> ID：10345116
> 
> 赞同：0
> 
> 时间：2012-04-27T05:17:10.683
> 
> 标签：jsf, checkbox

我正在使用`<t:selectManyCheckbox>`and`<t:checkbox>`来生成复选框。

```
<t:selectManyCheckbox id="selectone" 
value="#{templatePrescriptionMaintenanceBackingBean.objectID}" layout="spread"
styleClass="table" forceId="false" forceIdIndex="false">
<f:selectItems
    value="#{templatePrescriptionMaintenanceBackingBean.selectedMedications}" /> 
```

和

```
<t:checkbox index="#{row}" for=":Medication:selectone"></t:checkbox> 
```

和

```
 private String[] objectID; 
```

我需要在某些按钮操作事件上在 Backing Bean 中选择复选框。有什么办法吗？

* * *

**我的东西：**

我试图`objectID`从 backingbean 中获取信息，但它的响应并不是每次都独一无二。当我列出 objectid 时，有时响应是正确的（我的意思是它只向我显示选中的复选框），有时它会给出所有复选框的列表，而不管选择如何。

```
for (int i = 0; i < this.getObjectID().length; i++) {
System.out.println("ObjectID is : "+this.getObjectID()[i]); 
```

}

任何人有任何线索？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T12:45:54.773

> *我得到了答案。我正在使用 a4j:commandbutton 并将其修改为 h:commandbutton。但是我仍然不能使用 h:commandbutton 因为我需要 a4j 的 oncomplete 属性：在同一个 jsp 页面上调用脚本。我能做些什么？*

有条件地渲染该脚本。

```
<h:panelGroup rendered="#{bean.submitted}">
    <script type="text/javascript">
        callYourJavaScriptFunctionHere();
    </script>
</h:panelGroup> 
```

where当然应该只在提交执行`#{bean.submitted}`后评估。`true`

# java-me - 在 J2me 中处理外部音量键

> ID：10345122
> 
> 赞同：2
> 
> 时间：2012-04-27T05:17:41.473
> 
> 标签：java-me, lwuit, midp, mmapi

你能给我一些关于为什么 S40 设备没有得到外部音量键事件的想法吗？

我有这个电话：

1.  诺基亚 5130 XpressMusic - Series 40 第 5 版，功能包 1
2.  诺基亚 3110 经典。- 系列 40 第 3 版，功能包 2

两台设备都有外部音量键，但不知道为什么它不起作用。

我尝试了下面解释 S40 第 5 版 FP1 支持的链接。因此，就我而言，诺基亚 5130 无法正常工作。为什么？

[外部音量键 - 诺基亚 Java 开发者网站](http://www.developer.nokia.com/Resources/Library/Java/implementation-notes/jsr-135-mobile-media-api/runtime-environment-notes/external-volume-keys.html)

[Series 40 和 S60 设备中的 MIDlet 音量控制 - 诺基亚开发者维基](http://www.developer.nokia.com/Community/Wiki/MIDlet_volume_control_in_Series_40_and_S60_devices)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-10T12:09:32.447

在 J2ME 中，您无法获取音量键的外部键事件。它取决于制造商，在 J2ME 中没有列出。

# oracle - Case 语句不应返回空值

> ID：10345123
> 
> 赞同：0
> 
> 时间：2012-04-27T05:18:06.620
> 
> 标签：oracle

我有一个 case 语句，它在列中返回空值，而在执行 case 语句时我不想要空值。

```
SELECT ABC
(
CASE 
 WHEN 
 condition
 THEN 1
 WHEN
condition2
 THEN 2 
 END
 ) AS column_name FROM tablename; 
```

Column_name 也返回空值

所以我将查询更改为

```
SELECT ABC
(
CASE 
 WHEN 
 condition
 THEN 1
 WHEN
condition2
 THEN 2 
 else 3
 END
 ) AS column_name FROM tablename where column_name <>3; 
```

我收到错误“标识符无效”。

对此有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:45:26.180

您在之后缺少逗号`ABC`（假设`ABC`是一列）：

```
SELECT ABC ,                          --<---- comma added here
  (
  CASE 
    WHEN 
      condition
    THEN 1
    WHEN
      condition2
    THEN 2 
    ELSE 3
  END
  ) AS column_name 
FROM tablename; 
```

您也可以删除那些实际上不需要的括号。

* * *

不清楚你为什么添加它`WHERE column_name <> 3`。你的调整`CASE`把那些`NULL`变成了`3`. 您是否要显示这些行？如果是，请保持上述查询。如果没有，你可以使用这个：

```
SELECT 
  ABC , 
  CASE 
    WHEN 
      condition
    THEN 1
    WHEN
      condition2
    THEN 2 
    ELSE 3
  END AS column_name 
FROM tablename
WHERE (condition) OR (condition2) ; 
```

或（这更接近您的逻辑）：

```
SELECT *
FROM
  ( SELECT 
      ABC , 
      CASE 
        WHEN 
          condition
        THEN 1
        WHEN
          condition2
        THEN 2 
        ELSE 3
      END AS column_name 
    FROM tablename
  ) AS tmp
WHERE column_name <> 3 ; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:27:42.837

您可以使用`NVL(something, 0)`and if `something`would have generated a `NULL`，您将得到 0 。

# jquery - jQuery 中的 $.when.apply(null, a method) 是什么意思？

> ID：10345124
> 
> 赞同：6
> 
> 时间：2012-04-27T05:18:08.903
> 
> 标签：jquery, deferred

我正在阅读 jQuery 中的延迟对象。谁能告诉我以下两种调用方式有什么区别？

1.  `$.when.apply(null, a method).done(function(){success callback})`
2.  `$.when.(a method).done(function(){success callback})`

哪种情况适合上述第一种方式？

提前致谢。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-04-27T05:33:43.740

`$.when.apply(null, a method)`*仅当方法*实际上是数组或返回数组的方法*调用*时才有意义。然后它就像一个`$.when(elements, of, the, array)`. 有关该方法的详细说明，[请参阅 MDN 。](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/apply)`apply`

`$.when.(a method)`完全没有意义，但我猜你的意思是`$.when(a method)`. 在这种情况下*，方法*应该再次是返回延迟对象或指向延迟对象的变量的方法*调用。*

的语法`$.when()`是[`$.when(one, or, more, deferreds)`](http://api.jquery.com/jQuery.when/)- 所以如果你想传递数组中的多个延迟，你需要，`.apply()`因为你不想将方法调用构建为字符串并使用`eval`（在这种情况下这确实是**邪恶**的）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-14T21:46:23.877

Deferred 是为了在一些远程调用（即：ajax）的响应后执行代码而创建的。

所以你可以有：

```
load_conf = function (user_id) {
    var def = $.Deferred()
    $("http://get_conf_data_url?user_id="+user_id).done(function (data) {
        var processed_conf = do_something_with(data);
        def.resolve(processed_conf);
    })
    return def.promise();
} 
```

所以你可以去：

```
load_conf(1).done(function (processed_data) {
    do_something_with(processed_data);
}); 
```

加载完 3 个配置后执行一些代码怎么样？您可以执行以下操作：

```
$.when(load_conf(1), load_conf(2), load_conf(3)).done(function (c1, c2 ,c3) {
     console.log("configurations: ", c1, c2, c3);
}) 
```

但是在加载 N 是可变的 N 个配置之后执行一些代码呢？对于这种情况，您可以使用 Function.prptotype.apply 方法。您可以将一个对象作为第一个参数传递，该对象将在函数内被视为“this”。第二个参数是参数列表，但在数组中。

所以你可以这样：

```
var defs = [];
for (var i=1; i<=N; i++) {
   defs.push(load_conf(i));
}
// here's the magic
$.when($,defs).done(function () {
   console.log("All conf loaded: ", arguments);
   // arguments contains N processed answers
}); 
```

# image - 如何在程序集中打开和绘制图像

> ID：10345125
> 
> 赞同：0
> 
> 时间：2012-04-27T05:18:10.470
> 
> 标签：image, file, graphics, assembly, drawing

我正在汇编程序中编程，我想打开一个 .bmp 图像并在屏幕上显示它，但我不知道该怎么做。我不想使用任何外部库来做到这一点。有谁知道我可以研究这个的文章或网站？谢谢。

观察。我正在使用 Linux 和 NASM。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:49:04.977

如果您不想使用任何外部库，则需要自己实现整个 BMP 文件格式，因此[BMP 规范](http://www.fileformat.info/format/bmp/spec/index.htm)将是一个很好的起点。

至于显示图像，您打算如何控制显示？您可能不想直接与硬件对话；这基本上意味着编写自己的视频驱动程序。您可以连接到 X11 显示器，但这涉及外部库（Xlib 或 XCB）。

无论如何，这在组装中将是相当乏味的。通常，汇编保留用于在高级语言中*无法完成（足够快或根本无法完成）的专门任务。*显示图像不是这些任务之一。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-04-07T22:37:39.640

这个示例程序创建一个位图并在其中画一条线。

```
; Program to draw lines to 1000x1000 Bitmap File
; Compile with:
;     nasm -f elf64 -o drawLines64.o drawLines64.asm
; Link with:
;     ld -m elf_x86_64 -o drawLines64 drawLines64.o
; Run with:
;     ./drawLines64
;==============================================================================
; Author : Rommel Samanez
; https://github.com/rsamanez/assemblerx64
;==============================================================================

global _start

section .data
  fileName:  db "lines.bmp",0
  fileFlags: dq 0102o         ; create file + read and write mode
  fileMode:  dq 00600o        ; user has read write permission
  fileDescriptor: dq 0
  bitmapImage: times 3000000 db 0
section .rodata    ; read only data section
    bmpWidth   equ  1000
    bmpHeight   equ  1000
    bmpSize equ 3 * bmpWidth * bmpHeight
    headerLen equ 54
    header: db "BM"         ; BM  Windows 3.1x, 95, NT, ... etc.
    bfSize: dd bmpSize + headerLen   ; The size of the BMP file in bytes
            dd 0                 ; reserved
    bfOffBits: dd headerLen   ; The offset, i.e. starting address, of the byte where the bitmap image data (pixel array) can be found
    biSize:   dd 40    ; header size, min = 40
    biWidth:  dd bmpWidth
    biHeight: dd bmpHeight
    biPlanes:       dw 1     ; must be 1
    biBitCount:     dw 24    ; bits per pixel: 1, 4, 8, 16, 24, or 32
    biCompression:  dd 0     ; uncompressed = 0
    biSizeImage:    dd bmpSize  ; Image Size - may be zero for uncompressed images
    hresolution:    dd 0
    vresolution:    dd 0
    palettecolors:  dd 0
    importantcolors: dd 0

section .text

; drawPixel(x,y,color{RGB}) ( R8,R9,R10) 
drawPixel:
    push rax
    push rbx
    ;---------------------------------
    mov rax,3000
    mul r9
    push rax
    mov rax,3
    mul r8
    pop rbx
    add rax,rbx         ; offset:  rax = 3*x+3000*y
    push r10
    pop rbx
    mov word[bitmapImage+rax],bx
    shr rbx,16
    mov byte[bitmapImage+rax+2],bl
    ;----------------------------------
    pop rbx
    pop rax
    ret
; drawLine(x1,y1,x2,y2,color) color = R10  x1=r8 y1=r9 x2=r11 y2=r12    
drawLine:
    push rax
    push rbx
    push rcx                  ;  line   y = M*x/1000   M=w*1000/q  w=y2-y1  q=x2-x1 
    push rdx
    ;-----------------------------------
    mov rax,r12             ; rax <- y2
    sub rax,r9              ; rax <- y2 - y1
    mov rbx,1000
    mul rbx                 ; rax <- rax*1000
    mov rbx,r11             ; rbx <- x2
    sub rbx,r8              ; rbx <- x2 - x1
    xor rdx,rdx             ; rdx = 0
    div rbx                 ; RAX / RBX  RAX= value  M
    push rax
    pop rcx                 ; rcx <- M
    mov rbx,r8              ; rbx <- x1
    ;-----------------------------------------
    push r8
    push r9
nextPixel:
    mov rax,rbx             ; rbx = x
    mul rcx                 ; rax = M*x
    push rcx
    xor rdx,rdx
    mov rcx,1000
    div rcx                 ; rax = M*x/1000
    pop rcx
    mov r8,rbx              ; r8 <- x
    mov r9,rax              ; r9 <- y
    call drawPixel
    inc rbx
    cmp rbx,r11
    jnz nextPixel
    pop r9
    pop r8
    ;-----------------------------------
    pop rdx
    pop rcx
    pop rbx
    pop rax
    ret

drawLines:
    mov r8,0
    mov r9,0
    mov r10,0xff0000        ; color RED
    mov r11,900
    mov r12,900
    call drawLine
    ret  

_start:
    mov rax,2                 ;   sys_open
    mov rdi,fileName          ;   const char *filename
    mov rsi,[fileFlags]       ;   int flags
    mov rdx,[fileMode]        ;   int mode
    syscall
    mov [fileDescriptor],rax

    ; write the header to file
    mov rax,1                 ; sys_write
    mov rdi,[fileDescriptor]
    mov rsi,header
    mov rdx,54
    syscall

    call drawLines

    ; write the Image to file
    mov rax,1                 ; sys_write
    mov rdi,[fileDescriptor]
    mov rsi,bitmapImage
    mov rdx,3000000
    syscall

    ; close file Descriptor
    mov rax,3                 ; sys_close
    mov rdi,[fileDescriptor]
    syscall

    ; EXIT to OS  sys_exit
    mov rax,60
    mov rdi,0
    syscall 
```

# android - 想在 AVD 上的 sdcard 中创建文件夹

> ID：10345127
> 
> 赞同：8
> 
> 时间：2012-04-27T05:18:35.343
> 
> 标签：android

我想在 sdcard 中创建文件夹。我在 android 终端中使用以下命令

cd sdcard mkdir 音乐

mkdir 音乐失败，权限被拒绝。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-27T05:22:08.693

试试下面的代码。它工作正常。

```
you need to run emulator before run the below commands.
use the adb shell command from the android tools folder.
eg (this was on windows):
cd android-sdk-windows\tools
adb shell
cd /sdcard/
mkdir myfolder 
```

![在此处输入图像描述](../Images/b7bfff33c6d80daf8667664935255e58.png) ![在此处输入图像描述](../Images/5562dc253edc21d5d534e566b5b62325.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T05:23:13.657

尝试以下链接在 sdcard 中创建文件夹

在链接下方创建文件夹终端窗口：

[http://android-er.blogspot.in/2010/10/how-to-create-sub-folder-in-sd-card-of.html](http://android-er.blogspot.in/2010/10/how-to-create-sub-folder-in-sd-card-of.html)

以编程方式创建文件夹：

[http://android-er.blogspot.in/2010/10/how-to-create-sub-folder-in-sd-card.html](http://android-er.blogspot.in/2010/10/how-to-create-sub-folder-in-sd-card.html)

谢谢..！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-27T05:30:07.113

确保您已将 SDCard 支持添加到您的 AVD。

去`eclipse - windows - avd manager - select avd and edit - hardware - new - SDCard Support`

然后尝试命令。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-27T05:38:03.230

创建目录时，最好提供完整路径而不是使用`cd`

用于`Environment.getExternalStorageDirectory()`获取存储根目录。

使用以下命令创建目录：

```
String filepath=Environment.getExternalStorageDirectory()+"/Music"
File fc=new File(filepath)
if(!fc.exists())       
        fc.mkdir(); 
```

# c++ - 如何在二维数组中使用二分查找？

> ID：10345130
> 
> 赞同：0
> 
> 时间：2012-04-27T05:18:45.813
> 
> 标签：c++, arrays, data-structures, binary-search, quicksort

我想在 C++ 中比较 2 个二维数组（某些特定元素） `arr1[][]`，`arr[][]`我正在使用 for 循环来比较它们，但花了很长时间。

我可以使用搜索算法来实现这个，比如二分搜索还是快速？我该如何实施？

到目前为止，这是我的代码：

```
for (k = 0; k < MAXROW; k++)
{  
  for (m = 0; m <  MAXROW; m++)
   {
     for(j=0;j<MAXCOL;j++)
     {
        if(arr[k][3] ==arr1[m][3]) 
        {
          if((arr[k][1] ==arr1[m][1] && arr[k][2] ==arr1[m][2]))
          {
             cout<<" \n same element";
          }
          else
             cout<<"\n inner  different elements";
        }
        else
           cout<<"\n different elements"; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T05:28:07.267

判断两个二维数组是否相等（不知道它们的组织）的唯一方法是比较每个元素。这应该有 O(mn) 运行时间，其中 m=# 行和 n=# 列。您似乎编写了一个额外的循环，这可能是您认为它运行得太慢的原因。以下是我将如何编写比较：

```
bool are_equal = true;
for (int i = 0; i < MAX_ROWS; ++i) {
  for (int j = 0; j < MAX_COLS; ++j) {
    if (arr1[i][j] != arr2[i][j]) {
      are_equal = false;
      break;
    }
  }
}
if (are_equal) {
  std::cout << "The arrays are equal." << std::endl;
} else {
  std::cout << "The arrays differ by at least one element." << std::endl;
} 
```

仅比较第 3 列和第 4 列（或列的任何子集）：

```
int columns_to_check[] = {2, 3}; // Remember that these are 0-indexed
const int NUM_COLS = sizeof(columns_to_check)/sizeof(int);

bool are_equal = true;
for (int i = 0; i < MAX_ROWS; ++i) {
  for (int j = 0; j < NUM_COLS; ++j) {
    int col = columns_to_check[j];
    if (arr1[i][col] != arr2[i][col]) {
      are_equal = false;
      break;
    }
  }
}
if (are_equal) {
  std::cout << "The arrays are equal." << std::endl;
} else {
  std::cout << "The arrays differ by at least one element." << std::endl;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:18:26.967

如果您只想比较第 3 列和第 4 列，您可以只使用一个循环。

```
bool are_equal = true;
for (int i = 0; i < MAX_ROWS; ++i) {
  if (arr1[i][2] != arr2[i][2]  || arr1[i][3] != arr2[i][3]) {       
     are_equal = false;
     break;
  }      
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T07:21:13.637

不，您不能使用二进制搜索。您必须使用 2 个循环并逐个元素地比较数组。包括二分搜索在内的大多数搜索算法都使用关键字在数组中搜索。数组是 2D 还是 1D

# prolog - 创建数独网格的输入处理

> ID：10345134
> 
> 赞同：1
> 
> 时间：2012-04-27T05:19:02.180
> 
> 标签：prolog, dcg

我用许多编程语言编写了很多东西，而 Prolog 不是这些语言中的一种。我应该编写一个程序，当给定一个谜题表示作为输入时，它将解决数独谜题。

我的想法：
将所有提供的数字存储在列表列表（行列表）中，并强制使用可能的选项，直到合适为止（我知道，这不是最优雅的，但我没有太多时间花在写作上找出以常规方式解决难题的逻辑）。但是，作为 Prolog 的新手，我很难理解做事的方式。输入在文本文件中以行的形式给出，如下所示

```
1-2---34-
-34--1-5- 
```

等等等等。我读取和打印文件的代码是：

```
readPuzzle(File) :-
  see(File),
  repeat,
  get_char(X),
  (X = end_of_file, !
   ;
   write(X),
   fail
  ),
  seen. 
```

这一切都很好。所以假设我尝试通过`W = []` 在上面添加一个`see(File)`并替换`write(X)`为来构建这个列表`W = [W|X]`。根据我的经验，这应该会创建一个包含从文本文件提供的所有字符的长列表。
它没有。有人请要么

*   告诉我一个更好的更顺理成章的方式来完成我面前的任务
*   解释我如何解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T21:10:39.063

我会编写一个描述谜题语法的 DCG，然后使用 library(pio) 来使用 DCG 从文件中读取谜题。例如：

```
:- use_module(library(pio)).

puzzle([Line|Lines]) -->
        line(Line),
        !,
        puzzle(Lines).
puzzle([]) --> [].

line([]) --> "\n".
line([_|Ls]) --> "-", !, line(Ls).
line([N|Ls]) --> [D], { name(N, [D]) }, line(Ls). 
```

当我将您的示例拼图保存在文件“sud.txt”中时，我得到：

```
?- phrase_from_file(puzzle(Ps), 'sud.txt'), maplist(writeln, Ps).
[1,_G517,2,_G526,_G529,_G532,3,4,_G547]
[_G553,3,4,_G568,_G571,1,_G580,5,_G589]
Ps = [[1, _G517, 2, _G526, _G529, _G532, 3, 4|...], [_G553, 3, 4, _G568, _G571, 1, _G580|...]]. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:49:13.090

有几种方法可以完成规范阅读。如果您愿意重用您的代码，我建议使用 assertz：

```
:- dynamic onechar/1.

readPuzzle(File) :-
  see(File),
  repeat,
  get_char(X),
  (X = end_of_file, !
   ;
   asssertz(onechar(X)), % write(X),
   fail
  ),
  seen. 
```

并使用

```
 ...,  findall(L, retract(onechar(C)), Cs), ... 
```

要读取字符列表，则需要将列表拆分为行，丢弃行的分隔符。

否则，我们可以使用服务谓词来收集更多结构化输入和约束长度，而不是断言/撤回：

```
readPuzzle(File, Puzzle) :-
  see(File),
  length(Puzzle, 9),  % this allocates a list of unbound variables
  maplist(read_a_line, Puzzle),
  seen.

read_a_line(Line) :-
  length(Line, 9),
  maplist(get_char, Line),
  get_char(_). % get rid of nl 
```

有关如何在 SWI-Prolog 中工作的示例：

```
?- length(L,9),see(user),maplist(get,L),seen.
|: 987654321

L = [57, 56, 55, 54, 53, 52, 51, 50, 49]. 
```

**更新**

这是另一种方式，使用*累加器*来收集结构化输入和大小。

```
readPuzzle(File, Puzzle, Length) :-
  see(File),
  readLines([], 0, Puzzle, Length),
  seen.

readLines(SoFar, CountSoFar, Lines, CountLines) :-
  get_char(C), % lookahead
  C \= end_of_file,
  readLine(C, [], Line),
  M is SoFar + 1,
  readLines([Line|SoFar], M, Lines, CountLines).
readLines(Lines, TotLines, Lines, TotLines).

readLine(C, Line, Line) :-
 C == 10.
readLine(C, SoFar, Line) :-
 get_char(S),
 readLine(S, [C|SoFar], Line). 
```

# wcf - 用于服务器监控服务的经典 Windows 服务或 WCF？

> ID：10345137
> 
> 赞同：0
> 
> 时间：2012-04-27T05:19:40.463
> 
> 标签：wcf, windows-services

目前我的公司使用启动和运行应用程序服务器的经典 Windows 服务。然后它使用另一个监视该服务的 Windows 服务。

现在我的任务是建立一个门户网站，该门户网站将允许： - 监控结果在门户网站上是可视的；- 要从门户对正在运行的应用程序的服务执行的操作；

考虑到我需要两种方式的通信： - 获取服务器运行服务是否正在运行以及我应该从监控服务获得什么状态/结果的结果；- 为服务器运行服务设置命令，例如更新配置、暂停、停止等。

现在我正在考虑将这两种服务都移至 WCF，并为这两种服务之间的通信提供手段 + 为上述操作提供对 Web 门户的访问权限。Web 门户将基于 MVC 3。

由于我对 WCF 没有太多经验，所以我想请教一些最佳实践技巧： - WCF 是解决这个问题的好方法吗？- 我应该在哪里托管基于 WCF 的服务？- JSON 代替 XML 消息传递是否可行？

此外，如果有任何关于 WCF Windows 服务基础知识的好的参考书，我也会很感激。到目前为止，我在网上查过的书都是浪费和广泛的，而且我在决定是否迁移到 WCF 上的时间非常有限。

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T10:29:12.103

WCF 只是一种在应用程序之间进行通信的方式。WCF 的主要目标是`message`从传输`source`到`destination`. 就是这个。如果要检索访问服务器上的某些数据，WCF 是可以的，是很好的解决方案。但是你应该明白，如果你想实时收集一些数据，例如，每隔一秒检查一次服务器状态并将这些信息存储在某个地方，这对于 WCF 来说是不合适的工作。[WCF](http://visualstudiomagazine.com/articles/2011/06/01/pcnet_wcf-and-soa.aspx)是一种通信。

# c# - TFS 货架集和代码审查

> ID：10345138
> 
> 赞同：9
> 
> 时间：2012-04-27T05:19:51.120
> 
> 标签：c#, .net, tfs

使用 TFS 搁置集的原因之一是我不同意代码审查，但这是我当前项目中遵循的做法。我看到使用 TFS 搁置集对代码审查来说不是一个好主意的原因是

*   Shelvesets 没有变更集的自然顺序。这会导致很多合并冲突。
*   如果开发人员在代码被审查之前无法签入代码，它就会依赖审查者，如果审查者在短时间内不进行审查，这些搁置集可能会干扰其他任务。
*   与其他开发人员的协作变得很痛苦，因为现在您需要传递搁置集而不是签入代码，这可能会在未来再次导致合并冲突。

有人可以为我提供一些可以**支持**或**反对**TFS 搁置方法进行评论的指针，以便我对这种方法深信不疑，或者我可以提出一个不使用这种方法的案例？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-29T22:02:58.867

我认为微软在这一点上与你有很多不同，因为 TFS 11 和 Visual Studio 11 中的新代码审查功能是围绕搁置集构建的。真正的问题可能更多地在于团队如何运作以及如何在产品中分配任务。

如果任务已被拆分，使得它们几乎没有依赖关系，并且在同一区域工作的人可以紧密合作，那么您不会在合并和签入方面遇到任何问题。如果您的任务需要更多时间，请定期从开发分支获取最新版本，以便您始终保持最新状态。

如果您看到 Reviewer 太慢并且搁置集正在排队，都在等待被审查，那么这就是其他真正问题可能发生的地方。当一项任务完成后，它应该尽快被审查，而不是躺在那里等待审查。如果审核时间超过 24 小时，那么这可能会成为一个真正的问题。您可以通过由其他人进行同行评审或让更多的评审员加入团队来缓解这种情况。

如果一切都失败了，您可以进行事后审查（审查变更集而不是货架），TFS 11 和 Visual Studio 11 也支持这种情况。

我个人的偏好是信任我团队中的开发人员，因此我们主要进行签入后审查。如果我们有新成员或非常初级的成员，那么我将确保有更高级的开发人员可以代替进行第一次预检。

也可以看看：

*   [https://jessehouwing.net/community-techdaysnl-did-you-miss-my-talk-on-codereviews/](https://jessehouwing.net/community-techdaysnl-did-you-miss-my-talk-on-codereviews/)
*   [https://blogs.msdn.com/b/ivo_manolov/archive/2010/11/29/10097641.aspx?Redirected=true](https://blogs.msdn.com/b/ivo_manolov/archive/2010/11/29/10097641.aspx?Redirected=true)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-27T08:32:53.573

> Shelveset 没有变更集的自然顺序。这会导致很多合并冲突。

我在这里看不到你的意思，对你来说什么是“自然排序”？当您开始在团队中工作时，变更集的年表不会遵循给定的顺序。

> 如果开发人员在审核之前无法签入代码，则依赖审核者，如果审核者在短时间内不进行审核，这些搁置集可能会干扰其他任务。

同样，您在“常规任务开发”中遇到相同的情况，这不是因为您在任务 B 之前启动任务 A，您将在 B 之前签入任务 A（除非 B 依赖于 A，但这不是重点）。将审查视为任务开发工作流程的最后一步。对审阅者的依赖确实让事情变得更复杂一些，但这是为了有一个稳定的构建并且有符合公司标准的代码。

> 与其他开发人员的协作变得很痛苦，因为现在您需要传递搁置集而不是签入代码，这可能会在未来再次导致合并冲突。

你知道比搁置更容易的东西吗？您是否喜欢在 zip 文件中发送包含修改后代码的电子邮件？当您不想影响引用时，搁置集是在开发人员之间共享代码的更简单的方法。再次在这里，我看不到您提到的合并冲突问题。

这里有一些建议：

1.  当有人取回另一个开发者的搁置集时，假设开发者 A 创建了一个搁置集，而开发者 B 想要查看它，请确保开发者 B 有一个单独的干净且专用的工作区来取消搁置。您不想在常规的“开发”工作区中搁置一些东西。用于代码审查的专用工作区缓解了您提到的合并冲突问题。

2.  理论上，所有内容都应该在集成到目标分支之前进行审查。话虽如此，实际上这样做更难，所以如果你的团队没有这种流程的习惯，就不要力求做到完美。熟悉他正在处理的应用程序的高级开发人员可以被授权在审查之前签入。这完全是一个权衡问题，在这种情况下，您可以获得灵活性和更流畅的开发体验，但您的引用可能会在质量和稳定性方面受到影响。这里没有真正的赢家，这是您根据对您来说重要的事情做出的选择。

3.  不要使用分支进行代码审查。

4.  我同意在 VS/TFS 中通过shelfset 进行的代码审查体验有些不完整，但它比替代方案要好得多。微软意识到他们在这方面可以做得更好，这体现在 VS11/TFS11 中所做的改进。在下一个版本中，您将拥有**真正**的代码审查体验，仍然基于搁置集，但参与者之间的通信系统更加完整。这种改进是在“我的工作”体验中进行的，现在事情变得更加顺畅。尝试 tfspreview.com 和 VS11 beta 或阅读一些博客文章 (Brian Harry) 以获取更多信息。这是您会感兴趣[的链接。](http://blogs.msdn.com/b/visualstudioalm/archive/2011/09/20/visual-studio-team-foundation-server-11-developer-preview-what-s-new-for-team-foundation-server.aspx#developing_te)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-27T05:52:21.453

问题不在于搁置。如果您一直在等待同行来审查您的代码，那么代码的存储方式不会有太大的不同。也就是说，搁置集安全地存储在您的计算机之外的一个评论者可以访问的位置，所以我认为这是一个很好的解决方案。另一种方法是签入，传递变更集并在它没有通过集合或传递拉链时恢复？两者都有明显的缺点。

那么，真正的问题是您是否应该在签入之前要求进行代码审查？

# oracle - 在存储过程中查找调用者用户

> ID：10345140
> 
> 赞同：2
> 
> 时间：2012-04-27T05:19:55.110
> 
> 标签：oracle, stored-procedures

如何找出哪个 oracle 登录用户调用了存储过程本身内部的存储过程。我尝试了 CURRENT_USER 但失败了。

stackoverflow上的问题与sql server有关。我正在寻找特定于oracle的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T05:28:03.783

您可以使用该`USER`功能。或`SYS_CONTEXT( 'USERENV', 'SESSION_USER' )`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:33:46.253

只需引用伪列 USER：

```
SQL> create or replace procedure sp as
  2  v_user varchar2(32) := USER;
  3  begin
  4  dbms_output.put_line(v_user);
  5  end;
  6  /

Procedure created.

SQL> begin sp; end;
  2  /
THEUSER

PL/SQL procedure successfully completed.

SQL> 
```

# asp.net - 在 javascript 中设置 httpcontext 会话以供服务器端使用

> ID：10345142
> 
> 赞同：0
> 
> 时间：2012-04-27T05:20:18.040
> 
> 标签：asp.net

我在javascript中有一个客户端全局变量。我需要从位于不同页面的服务器端访问这个全局变量。如果没有查询字符串，我怎么能做到这一点？如果需要会话状态，那么如何从 javascript 设置会话？

已编辑

好的.. 这是完整的场景.. 页面本身是一个共享点网页，我只能控制 Web 部件。在 webpart 中，我有一个用于打开另一个页面的 window.open 按钮。现在我如何将 javascript 变量从主页传递到另一个页面并使其在代码隐藏中可访问？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T15:46:26.227

我可以想到一些方法来做到这一点，但我会向你推荐这个。基本步骤是：

1.  使用 JavaScript 单独弹出一个模式对话框，其中包含要作为参数传递的全局变量（而不是查询字符串）。

2.  在弹出页面上，使用 JavaScript 将全局变量设置为隐藏字段，然后向自身发起回发。

3.  在后面的代码中，从隐藏字段中检索全局变量并将其存储在会话数据中。

4.  现在，全局变量在会话空间中可用。

注意：您需要[jQuery 1.7.1](http://ajax.microsoft.com/ajax/jQuery/jquery-1.7.1.js)或更高版本。

第 1 步代码：

这是您的弹出链接或按钮。

```
<a id="popAspxWeb" href="#" onclick="javascript:PopPage('ModalPopup.aspx','galbal_variable_data');">Click to Popup</a> 
```

这是打开弹出窗口的javascript代码。

```
<script type="text/javascript">
    function PopPage(page, data) {
        var result = window.showModalDialog(
        page, // popup this page
        data, // with this data
        "dialogWidth:500px; dialogHeight:500px; resizable:no; status:no; center:yes");
    }
</script> 
```

第 2 步代码：

你会需要这些。第一个用于存储传入的数据，第二个用于标记页面回发与否。

```
<input id="hidData" runat="server" type="hidden" />
<input id="postback" runat="server" type="hidden" value="false" /> 
```

这是javascript：

```
<script type="text/javascript">
    var data = ""; // global variable to store data from parent window.

    $(document).ready(function() { //jQuery code to be executed when document is fully loaded.
        args = window.dialogArguments; // obtain argument data and assign to global variable.
        if ($("#postback").val().toString() == "false") { // if first visit to page
            $("#hidData").val(data); // assign argument data from global variable to hidden field.
            $("#postback").val("true"); // flag the form is posted back.
            document.forms[0].submit(); // trigger form post.
        }
    });

    function ReturnAndClose() { // you can optionally return data back to the parent window.
        window.close(); // this closes modal pop up.
        window.returnValue = document.getElementById('return_data').value; // this returns a value to parent window.
    }

</script> 
```

第三步代码：

访问 galbol 变量数据的代码隐藏。

```
protected void Page_Load(object sender, EventArgs e)
{
    if (Page.IsPostBack)
    {
        string data = this.hidData.Value;
        this.Session["data"] = data;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:30:21.350

会话是服务器端数据存储。尝试使用 cookie。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-04-27T05:44:28.767

不，会话不能通过 javascript 直接访问。它存储在服务器上，而 javascript 在客户端上运行。但可以间接完成，请参阅以下链接上的答案

[使用不同方法从上一页获取值](https://stackoverflow.com/questions/8241470/asp-net-pass-a-value-into-next-page/8241577#8241577)

检查以上链接中的第 4 点。

我已经解释了：跨页回发，添加控件的 PostBackURL 属性

希望它根据您的编辑服务于您的目的。

# javascript - 禁用表单字段，直到前一个字段被 JavaScript 填充

> ID：10345143
> 
> 赞同：1
> 
> 时间：2012-04-27T05:20:20.797
> 
> 标签：javascript

使用 JavaScript；我们可以将另一个文本字段设置为依赖于第一个或前一个文本字段吗？

例如，如果我们有一个名字和姓氏字段，我想禁用姓氏字段，直到输入了名字的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:02:56.747

我做了一个小提琴你可以看看：http: [//jsfiddle.net/phillipkregg/7bkrn/2/](http://jsfiddle.net/phillipkregg/7bkrn/2/)

它并不完美，但它会给你一些可以玩耍和练习的东西。如果您离开“名字”字段而不填写它，它会锁定“姓氏”字段。

如果您想使用 JQuery，这是执行 javascript 的一种方法：

```
 $(document).ready(function() {

     $("#first_name_field").focus();

     var error_message = "Please add first name.";

      $("#first_name_field").blur(function() {
          if ($(this).val() != '')
          {
              $("#surname_field").removeAttr("disabled");    
              $("#message").html("");      
          }
     else {              
              $("#surname_field").attr("disabled", "disabled");  
              $("#message").append(error_message);      
          }         

      });
 });​ 
```

如果您打算使用验证（您应该这样做），那么您应该查看一个名为 JQuery Validation 的插件 - [http://docs.jquery.com/Plugins/Validation](http://docs.jquery.com/Plugins/Validation)

我只是在这里快速地向您展示了一种方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:29:57.030

尝试使用此代码。

```
<input type="text" name="fname" id="fname" onkeyup="check()" />
<input type="text" name="lname" id="lname" disabled="disabled"  /> 
```

Java脚本

```
function check() {
if(document.getElementById('fname').value != "")
    document.getElementById('lname').disabled = false;
else
    document.getElementById('lname').disabled = true;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:30:14.177

已经。您可以在 JavaScript 中使用“input”html 标记和“onChange”事件（例如）的“readonly”属性。这只是客户端功能。不要为此目的使用 php）。

# java - 如何将数组元素从某个点向下移动？

> ID：10345145
> 
> 赞同：0
> 
> 时间：2012-04-27T05:20:41.017
> 
> 标签：java

我有一个变量数组，我想删除其中的 1 个元素，然后将整个数组向下移动以填充已删除的位置。任何帮助将不胜感激，在你问之前，不，这不是功课。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:23:03.367

理想情况下，使用`ArrayList`已经为您实现的（或其他一些列表实现）。（您要使用的确切实现取决于您需要执行删除的频率与您需要按索引检索或设置的频率等。有了更多上下文，我们可以为您提供更多帮助。）

否则，使用[`System.arraycopy`](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29).

```
System.arraycopy(array, index + 1, array, index, array.length - index - 1);
// Assuming it's a reference type array: null out the last element so it
// doesn't prevent garbage collection
array[array.length - 1] = null; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:02:15.640

一种可能的解决方案是使用`Arrays.asList`和`List#toArray`方法将数组临时转换为 a `List`，使用 的可用`remove`方法`List`，然后将其转换回数组。

```
Object[] arrayToShrink = ...;
List<Object> shrinkedList = new ArrayList<Object>( Arrays.asList( arrayToShrink ) );
shrinkedList.remove( objectToRemove );
Object[] shrinkedArray = shrinkedList.toArray( new Object[shrinkedList.size()] ); 
```

短代码明智，但很可能不是最有效的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:23:52.540

在数组中执行此操作效率不高，特别是如果您需要提供数组的缩小：

*   如果您不需要缩小，您可以将所有元素交换到最后。
*   如果您需要缩小，那么唯一的选择是分配新数组并复制所有元素。

此任务的更好选择是`LinkedList`. 它提供了删除任意元素的操作，并且不需要任何移动来修复集合。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T05:33:14.377

我认为最好的解决方案是使用`ArrayList`

```
 ArrayList<String> list = new ArrayList<String>();

        //add Elements
        list.add("test1");
        list.add("test2");
        list.add("test3");

        //remove Element 2 (->1)
        list.remove(1);

        //print Element 2
        System.out.println(list.get(1));
        //output: test3 
```

如果你真的想给我们一个数组：

```
 private void removeElement(String[] array, int index) {
    final int arrayLength = array.length;
    for (int i = index + 1; i < arrayLength; i++) {
        if (i > 0) {
            array[i - 1] = array[i];

            if (i == arrayLength - 1) {
                array[i] = "";
            }
        }
    }
} 
```

# django - Django 查询超过 5 小时的对象的日期时间

> ID：10345147
> 
> 赞同：80
> 
> 时间：2012-04-27T05:20:45.163
> 
> 标签：django, django-models, django-queryset

我正在尝试为超过 5 小时的小部件编写 Django 查询，但我有点迷路了。小部件模型有一个`DateTimeField`填充了小部件创建时间的值。

* * *

## 回答 #1

> 赞同：174
> 
> 时间：2012-04-27T05:27:32.567

如果`Widget`是您的模型的名称，并且它有一个名为的 DateTimeField 属性`created`，则查询将是：

```
from datetime import datetime, timedelta

time_threshold = datetime.now() - timedelta(hours=5)
results = Widget.objects.filter(created__lt=time_threshold) 
```

请注意，这`created__lt`意味着“创建小于”。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-04-27T05:30:57.563

```
now = datetime.datetime.now()
earlier = now - datetime.timedelta(hours=5)
MyModel.objects.filter(my_date_field__range=(earlier,now)) 
```

这应该够了吧。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2018-10-16T05:54:50.360

如果 settings.USE_TZ = True 并且 settings.TIME_ZONE 正在设置

```
from django.utils import timezone
five_h_ago = timezone.now()-timezone.timedelta(hours=5)
example.object.filter(datetimefield__lt=five_h_ago) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-01-08T00:56:41.597

其他答案已经涵盖了最简单的方法：只需过滤日期早于五个小时前的记录。下面是一个完整的示例，它查找至少五秒前创建的记录：

```
# Tested with Django 1.11.15 and Python 3.6.
import logging
import sys
from datetime import datetime, timedelta
from time import sleep

import django
from django.apps import apps
from django.apps.config import AppConfig
from django.conf import settings
from django.db import connections, models, DEFAULT_DB_ALIAS
from django.db.models.base import ModelBase

NAME = 'udjango'
DB_FILE = NAME + '.db'

def main():
    setup()
    logger = logging.getLogger(__name__)

    class Widget(models.Model):
        name = models.CharField(max_length=200)
        date_created = models.DateTimeField(auto_now_add=True)

        def __str__(self):
            return self.name

    syncdb(Widget)

    Widget.objects.create(name='spline')
    sleep(1)
    Widget.objects.create(name='reticulator')
    sleep(1)
    Widget.objects.create(name='tardis')
    sleep(5)
    Widget.objects.create(name='sonic screwdriver')
    sleep(1)

    cutoff_time = datetime.now() - timedelta(seconds=5)
    for widget in Widget.objects.filter(date_created__lt=cutoff_time):
        logger.info(widget.name)

def setup():
    with open(DB_FILE, 'w'):
        pass  # wipe the database
    settings.configure(
        DEBUG=True,
        DATABASES={
            DEFAULT_DB_ALIAS: {
                'ENGINE': 'django.db.backends.sqlite3',
                'NAME': DB_FILE}},
        LOGGING={'version': 1,
                 'disable_existing_loggers': False,
                 'formatters': {
                    'debug': {
                        'format': '[%(levelname)s]'
                                  '%(name)s.%(funcName)s(): %(message)s',
                        'datefmt': '%Y-%m-%d %H:%M:%S'}},
                 'handlers': {
                    'console': {
                        'level': 'DEBUG',
                        'class': 'logging.StreamHandler',
                        'formatter': 'debug'}},
                 'root': {
                    'handlers': ['console'],
                    'level': 'INFO'},
                 'loggers': {
                    "django.db": {"level": "INFO"}}})
    app_config = AppConfig(NAME, sys.modules['__main__'])
    apps.populate([app_config])
    django.setup()
    original_new_func = ModelBase.__new__

    @staticmethod
    def patched_new(cls, name, bases, attrs):
        if 'Meta' not in attrs:
            class Meta:
                app_label = NAME
            attrs['Meta'] = Meta
        return original_new_func(cls, name, bases, attrs)
    ModelBase.__new__ = patched_new

def syncdb(model):
    """ Standard syncdb expects models to be in reliable locations.

    Based on https://github.com/django/django/blob/1.9.3
    /django/core/management/commands/migrate.py#L285
    """
    connection = connections[DEFAULT_DB_ALIAS]
    with connection.schema_editor() as editor:
        editor.create_model(model)

main() 
```

这向我展示了除最后一个小部件之外的所有内容：

```
[INFO]__main__.main(): spline
[INFO]__main__.main(): reticulator
[INFO]__main__.main(): tardis 
```

这很好用，除非您启用了时区支持。在前面的示例中，我通过更改`settings.configure(...`为如下所示来做到这一点：

```
settings.configure(
    USE_TZ=True,
    ... 
```

当我这样做时，我会收到这样的消息：

```
RuntimeWarning: DateTimeField Widget.date_created received a naive datetime (2019-01-07 16:39:04.563563) while time zone support is active. 
```

要获取时区感知日期，请使用[`timezone.now()`函数](https://docs.djangoproject.com/en/1.11/ref/utils/#django.utils.timezone.now)而不是`datetime.now()`：

```
# Tested with Django 1.11.15 and Python 3.6.
import logging
import sys
from datetime import timedelta
from time import sleep

import django
from django.apps import apps
from django.apps.config import AppConfig
from django.conf import settings
from django.db import connections, models, DEFAULT_DB_ALIAS
from django.db.models.base import ModelBase
from django.utils import timezone

NAME = 'udjango'
DB_FILE = NAME + '.db'

def main():
    setup()
    logger = logging.getLogger(__name__)

    class Widget(models.Model):
        name = models.CharField(max_length=200)
        date_created = models.DateTimeField(auto_now_add=True)

        def __str__(self):
            return self.name

    syncdb(Widget)

    Widget.objects.create(name='spline')
    sleep(1)
    Widget.objects.create(name='reticulator')
    sleep(1)
    Widget.objects.create(name='tardis')
    sleep(5)
    Widget.objects.create(name='sonic screwdriver')
    sleep(1)

    cutoff_time = timezone.now() - timedelta(seconds=5)
    for widget in Widget.objects.filter(date_created__lt=cutoff_time):
        logger.info(widget.name)

def setup():
    with open(DB_FILE, 'w'):
        pass  # wipe the database
    settings.configure(
        USE_TZ=True,
        DEBUG=True,
        DATABASES={
            DEFAULT_DB_ALIAS: {
                'ENGINE': 'django.db.backends.sqlite3',
                'NAME': DB_FILE}},
        LOGGING={'version': 1,
                 'disable_existing_loggers': False,
                 'formatters': {
                    'debug': {
                        'format': '[%(levelname)s]'
                                  '%(name)s.%(funcName)s(): %(message)s',
                        'datefmt': '%Y-%m-%d %H:%M:%S'}},
                 'handlers': {
                    'console': {
                        'level': 'DEBUG',
                        'class': 'logging.StreamHandler',
                        'formatter': 'debug'}},
                 'root': {
                    'handlers': ['console'],
                    'level': 'INFO'},
                 'loggers': {
                    "django.db": {"level": "INFO"}}})
    app_config = AppConfig(NAME, sys.modules['__main__'])
    apps.populate([app_config])
    django.setup()
    original_new_func = ModelBase.__new__

    @staticmethod
    def patched_new(cls, name, bases, attrs):
        if 'Meta' not in attrs:
            class Meta:
                app_label = NAME
            attrs['Meta'] = Meta
        return original_new_func(cls, name, bases, attrs)
    ModelBase.__new__ = patched_new

def syncdb(model):
    """ Standard syncdb expects models to be in reliable locations.

    Based on https://github.com/django/django/blob/1.9.3
    /django/core/management/commands/migrate.py#L285
    """
    connection = connections[DEFAULT_DB_ALIAS]
    with connection.schema_editor() as editor:
        editor.create_model(model)

main() 
```

有时，我会遇到数据库时钟与 Web 服务器时钟不同步的问题。为避免此类问题，您可以使用该[`Now()`函数](https://docs.djangoproject.com/en/1.11/ref/models/database-functions/#now)获取数据库中的当前时间。

```
# Tested with Django 1.11.15 and Python 3.6.
import logging
import sys
from datetime import timedelta
from time import sleep

import django
from django.apps import apps
from django.apps.config import AppConfig
from django.conf import settings
from django.db import connections, models, DEFAULT_DB_ALIAS
from django.db.models.base import ModelBase
from django.db.models.functions import Now
from django.utils import timezone

NAME = 'udjango'
DB_FILE = NAME + '.db'

def main():
    setup()
    logger = logging.getLogger(__name__)

    class Widget(models.Model):
        name = models.CharField(max_length=200)
        date_created = models.DateTimeField()

        def __str__(self):
            return self.name

    syncdb(Widget)

    Widget.objects.create(name='spline', date_created=Now())
    sleep(1)
    Widget.objects.create(name='reticulator', date_created=Now())
    sleep(1)
    Widget.objects.create(name='tardis', date_created=Now())
    sleep(5)
    Widget.objects.create(name='sonic screwdriver', date_created=Now())
    sleep(1)

    cutoff_time = Now() - timedelta(seconds=5)
    for widget in Widget.objects.filter(date_created__lt=cutoff_time):
        logger.info(widget.name)

def setup():
    with open(DB_FILE, 'w'):
        pass  # wipe the database
    settings.configure(
        USE_TZ=True,
        DEBUG=True,
        DATABASES={
            DEFAULT_DB_ALIAS: {
                'ENGINE': 'django.db.backends.sqlite3',
                'NAME': DB_FILE}},
        LOGGING={'version': 1,
                 'disable_existing_loggers': False,
                 'formatters': {
                    'debug': {
                        'format': '[%(levelname)s]'
                                  '%(name)s.%(funcName)s(): %(message)s',
                        'datefmt': '%Y-%m-%d %H:%M:%S'}},
                 'handlers': {
                    'console': {
                        'level': 'DEBUG',
                        'class': 'logging.StreamHandler',
                        'formatter': 'debug'}},
                 'root': {
                    'handlers': ['console'],
                    'level': 'INFO'},
                 'loggers': {
                    "django.db": {"level": "INFO"}}})
    app_config = AppConfig(NAME, sys.modules['__main__'])
    apps.populate([app_config])
    django.setup()
    original_new_func = ModelBase.__new__

    @staticmethod
    def patched_new(cls, name, bases, attrs):
        if 'Meta' not in attrs:
            class Meta:
                app_label = NAME
            attrs['Meta'] = Meta
        return original_new_func(cls, name, bases, attrs)
    ModelBase.__new__ = patched_new

def syncdb(model):
    """ Standard syncdb expects models to be in reliable locations.

    Based on https://github.com/django/django/blob/1.9.3
    /django/core/management/commands/migrate.py#L285
    """
    connection = connections[DEFAULT_DB_ALIAS]
    with connection.schema_editor() as editor:
        editor.create_model(model)

main() 
```

近年来我没有看到这个问题，所以在大多数情况下可能不值得麻烦。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-06-13T08:04:12.313

如果您想超过 5 小时，请使用`created__gte`而不是`created__lt`

# php - amf php不返 回多维数组

> ID：10345151
> 
> 赞同：1
> 
> 时间：2012-04-27T05:21:03.887
> 
> 标签：php, arrays, multidimensional-array, amfphp

我一直在做一个使用 AMFPHP 和 flash 的项目。我只做了php的东西。amf 中的一个从 3 个表中获取结果并将其结果存储在 1 个数组中并返回的函数运行良好，但几天后它就停止了。奇怪的是，如果我单独返回结果，它们会起作用，但最终数组永远不会返回，并且无法在其测试浏览器中看到来自 AMFPHP 调用的任何响应。

在我提到的代码中，每一点都从 DB 中获得了正确的结果，并且已经正确地测试了它的重新调整结果。

另一件事似乎很奇怪，我返回的部分结果很好，但在他开始和结束时，它们不适用于其他正在工作的函数：

```
(mx.collections::ArrayCollection)#0
  filterFunction = (null)
  length = 6
  list = (mx.collections::ArrayList)#1
    length = 6
    source = (Array)#2 
```

**结果**

```
uid = "8BEDEF32-4BED-E1A4-56A0-F227EDD40026"
  sort = (null)
  source = (Array)#2 
```

这是功能

```
function getDefaultValuesForAvatarsLocal($jockey_type=NULL){
        $defaultValues = array();
        $sql = "SELECT * FROM default_values";
        $defaultBLValues = $this->db->query($sql);
        $numRows = $this->db->num_rows($defaultBLValues);
        if($numRows > 0){
            $defaultValues['BLP'] = $defaultBLValues; /* IF RETURN THIS GETS RESULT */
            if($jockey_type){
                $sql = "SELECT jockey_clothing_categories.type, jockey_clothing_items.* FROM jockey_clothing_items 
                        JOIN jockey_clothing_categories
                        ON(jockey_clothing_items.category_id = jockey_clothing_categories.id)
                        WHERE jockey_clothing_items.is_default = 1 AND jockey_clothing_items.jockey_type = ". $jockey_type;
                $defaultJockeyClothings = $this->db->query($sql);
                $numRows = $this->db->num_rows($defaultJockeyClothings);
            }
            if($numRows>0){
                if($jockey_type){
                    $defaultValues['DJC'] = $defaultJockeyClothings; /* IF RETURN THIS GETS RESULT */
                }
                $sql = "SELECT horse_avatar_clothings_categories.type, horse_avatar_clothings_items.* FROM horse_avatar_clothings_items 
                        JOIN horse_avatar_clothings_categories
                        ON(horse_avatar_clothings_items.category_id = horse_avatar_clothings_categories.id)
                        WHERE horse_avatar_clothings_items.is_default = 1";
                $defaultHorseClothings = $this->db->query($sql);
                $numRows = $this->db->num_rows($defaultHorseClothings);
                if($numRows>0){
                    $defaultValues['DHC'] = $defaultHorseClothings; /* IF RETURN THIS GETS RESULT */
                    #return $defaultValues; /* NOT RETUNING THE FINAL ARRAY FROM THIS POINT EITHER */
                }else{
#                   return false;
                }
            }else{
#               return false;               
            }
            #return 1333;
            /* THE CONTROL COMES HERE PROPERLY BUT NOT RETUNING THE BELOW ARRAY BUT IS RETUNING ANY TEST TEXT
                LIKE return "I AM HERE"; WILL RETURN THE TEXT PROPERLY
            */
            return $defaultValues;
        }else{
            return false;
        }
    } 
```

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T12:32:30.593

嗯，我得到了答案。。

只是在这里发布给任何面临同样问题的人

刚刚修改了行

```
return $defaultValues; 
```

到

```
return (object)$defaultValues; 
```

并像这样调用函数

```
$defaultValues = (array)$this->getDefaultValuesForAvatarsLocal(); 
```

不知道为什么这些更改可以正常工作，因为它过去可以正常工作而没有任何更改。如果有人能解释这对我和周围的任何其他用户来说都会很棒。

问候

# iphone - iPhone 上的 Bonjour 编程

> ID：10345156
> 
> 赞同：0
> 
> 时间：2012-04-27T05:22:07.280
> 
> 标签：iphone, objective-c, ios, xcode, bonjour

我只是尝试从[这里](http://www.devx.com/wireless/Article/44126/0/page/2)开始实施教程，但我在`-(void)netServiceDidResolveAddress:(NSNetService *)service {}` 这种方法中遇到了问题，我该![在此处输入图像描述](../Images/6b059565f653032c3b43e0d5cd626728.png)如何消除这些错误，请帮帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:40:35.720

有没有加

```
#include <arpa/inet.h>
#include <netinet/in.h> 
```

struct sockaddr_in 在[netinet/in.h中声明](http://freebsd.active-venture.com/FreeBSD-srctree/newsrc/netinet/in.h.html)

```
struct sockaddr_in {
   u_char   sin_len;
   u_char   sin_family;
   u_short  sin_port;
   struct   in_addr sin_addr;
   char sin_zero[8];
}; 
```

和 inet_ntoa 作为

```
char    *inet_ntoa __P((struct in_addr)); /* in libkern */ 
```

# asp.net - 使用自动回发的多个 CheckBoxLists

> ID：10345158
> 
> 赞同：1
> 
> 时间：2012-04-27T05:22:43.053
> 
> 标签：asp.net, vb.net, visual-studio, visual-studio-2010, vb.net-2010

我有一个项目，我正在使用多个复选框列表并根据在某个列表中选中哪些框来汇总积分。然后我将这些点的总和显示到一个文本框。我对每个复选框列表都这样做。

问题是这样的：当一个复选框列表被更改时，其他总和将从各自的文本框中删除。我尝试将只读设置为 True （在我的情况下这是理想的设置）以及设置为 False （根据[在 asp.net c# 中使用 AutoPostback 的问题](https://stackoverflow.com/questions/6040905/problem-in-using-autopostback-in-asp-net-c-sharp)）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:45:37.243

可以在此处查看用于应用评论的脚本[http://jsfiddle.net/vecalciskay/27uGQ/1/](http://jsfiddle.net/vecalciskay/27uGQ/1/)

希望能帮助到你。

# symfony - 如何为 Symfony 2 构建一个单独的包

> ID：10345163
> 
> 赞同：1
> 
> 时间：2012-04-27T05:23:40.040
> 
> 标签：symfony, bundle

我一直在寻找有关构建要重新分发和重用的捆绑包的指南或一些文档。我的目标是为我的许多项目提供一些通用的小部件和表单定义，我认为，按照[一些建议](https://stackoverflow.com/q/10084027/667599)，编写它们的最 symfonian 方式是在一个新的单独包中，我想将其包含在我的`deps`文件，然后像我安装[StofDoctrineExtensionsBundle](https://github.com/stof/StofDoctrineExtensionsBundle/blob/master/Resources/doc/index.rst)一样安装它（使用 composer 或在 deps 文件中包含 repos）。

有人可以提供一个指南的链接来制作这个或解释我怎么做吗？我知道 Symfony 在其[官方文档](http://symfony.com/doc/current/cookbook/bundles/best_practices.html)中解释了包结构，但它侧重于项目特定应用程序的包，而不是用于重新分发的 3rd 方包。

# c# - 如何在同步框架中过滤客户端数据？

> ID：10345164
> 
> 赞同：2
> 
> 时间：2012-04-27T05:23:40.403
> 
> 标签：c#, microsoft-sync-framework

我在远程提供程序上设置了一些过滤器，这样我就不会下载所有内容。现在我想在客户端设置一些过滤器，所以我不会上传所有内容。

我在 C# 中使用本地数据库缓存对象

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-30T02:14:13.813

afaik，没有开箱即用的支持向 SqlCeClientSyncProvider 添加过滤器。

如果需要，您可以尝试在 ChangesSelected 事件中截取数据集并过滤掉您不想同步到服务器的行。

在这里看看类似的方法：http: [//jtabadero.wordpress.com/2011/03/07/manipulating-the-change-dataset-in-sync-fx/](http://jtabadero.wordpress.com/2011/03/07/manipulating-the-change-dataset-in-sync-fx/)

# c# - 在代码隐藏中动态更改 XAML 样式，以便应用该样式的控件也反映更改

> ID：10345166
> 
> 赞同：10
> 
> 时间：2012-04-27T05:23:46.940
> 
> 标签：c#, wpf, styles

我希望能够在我的 WPF 窗口中从 .cs 文件中设置样式属性（和值）。

我的问题是，如果我有 30 个矩形，我希望所有这些矩形都具有相同的样式（并且我不想单独更新它们）。我想让它们（在 xaml 文件中）全部设置为相同的样式，然后更新样式以使其看起来像我想要的那样。

假设我`Style = "key1"`在 Xaml 中为每个矩形设置。然后我希望能够稍后修改“key1”，以便所有矩形都反映该更改。

我试过了`App.xaml`

```
<Application.Resources>
    <Style x:Key="key1" TargetType="Rectangle">
        <Setter Property="Fill" Value="Red"/>
    </Style>
</Application.Resources> 
```

在 MainwWindows.xaml

```
<StackPanel>
    <Rectangle Style="{StaticResource key1}" Height="200" Width="200" x:Name="rect1"/>
    <Button Click="Button_Click" Content="Click"/>
</StackPanel> 
```

在后面的代码中

```
private void Button_Click(object sender, RoutedEventArgs e)
{
    Style style = Application.Current.Resources["key1"] as Style;
    style.Setters.Add(new Setter(Rectangle.VisibilityProperty, Visibility.Collapsed));
} 
```

这会更新样式但不会更新矩形。

这可能吗？有谁知道如何做到这一点？（一个例子将不胜感激）。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-04-27T06:34:26.217

您需要使用`DynamicResource`它以便可以在运行时更改它。您还需要将样式*替换*为新样式，而不是尝试修改现有样式。这有效：

```
<StackPanel>
    <Rectangle Style="{DynamicResource key1}" Height="200" Width="200" x:Name="rect1"/>
    <Button Click="Button_Click" Content="Click"/>
</StackPanel>

Style style = new Style {TargetType = typeof(Rectangle)};
style.Setters.Add(new Setter(Shape.FillProperty, Brushes.Red));
style.Setters.Add(new Setter(UIElement.VisibilityProperty, Visibility.Collapsed));

Application.Current.Resources["key1"] = style; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-08-07T08:29:46.980

还值得一提的是，样式一旦使用就被密封，因此无法更改。这就是为什么样式应该被另一个实例替换而不是更新的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-18T19:42:25.473

创建了一些静态助手，用法示例：

```
SetStyle(typeof(ContentPage), 
   (ContentPage.BackgroundColorProperty, Color.Green), 
   (ContentPage.PaddingProperty, new Thickness(20))); 
```

辅助方法：

```
 public static Style CreateStyle(Type target, params (BindableProperty property, object value)[] setters)
    {
        Style style = new Style(target);
        style.ApplyToDerivedTypes = true;
        foreach (var setter in setters)
        {
            style.Setters.Add(new Setter
            {
                Property = setter.property,
                Value = setter.value
            });
        }
        return style;
    }

    public static void SetStyle(Type target, params (BindableProperty property, object value)[] setters)
    {
        Style style = new Style(target);
        style.ApplyToDerivedTypes = true;
        foreach (var setter in setters)
        {
            style.Setters.Add(new Setter
            {
                Property = setter.property,
                Value = setter.value
            });
        }
        Application.Current.Resources.Add(style);
    } 
```

# ipad - 目标 C. 当用户单击 iPad 键盘上的“切换键盘”按钮时向下推视图

> ID：10345170
> 
> 赞同：2
> 
> 时间：2012-04-27T05:24:34.380
> 
> 标签：ipad, view, keyboard, hide, return

在我的应用程序中，我有一个文本字段，单击该文本字段会弹出键盘。视图被向上推，这样键盘就不会挡住它。我也实现`textFieldShouldReturn:`了，这样当用户点击返回时，键盘隐藏，视图被推回。

现在的问题是，在iPad键盘上，右下角有一个按钮（我不知道它叫什么）。单击时，它会隐藏键盘。在我的应用程序中单击时，它会隐藏键盘，但不会将视图返回到其原始位置。我必须为此按钮编写一些额外的代码吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-31T20:26:36.827

我知道这是一个老问题，但另一个答案不好。这里的问题是你习惯了 iPhone UI，它通常使用**Return**按钮来关闭键盘。iPad 上不是这种情况。

在 iPad 上，当用户点击“隐藏键盘”按钮时，`UIKeyboardWillHideNotification`会调用 ，因此您应该为该通知注册一个观察者。

```
- (void)viewDidLoad {
  [[NSNotificationCenter defaultCenter] addObserver:self
                                           selector:@selector(keyboardWillHideHandler:)
                                               name:UIKeyboardWillHideNotification
                                             object:nil];
  // ...
}

- (void) keyboardWillHideHandler:(NSNotification *)notification {
    //code for pushing the view back down
} 
```

希望这对某人有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:34:53.673

在您的应用程序中添加一个按钮并将其发送到后面。当您单击应用程序（后退按钮）时，使用将视图框架更改为旧（即）将视图的 y 位置设置为 0，为该按钮创建一个 IBAction。

# java - 如何制作唯一的随机数生成器？

> ID：10345171
> 
> 赞同：-1
> 
> 时间：2012-04-27T05:24:36.137
> 
> 标签：java

这段代码显然是一个随机数生成器，但我如何以最简单的方式让它成为唯一的呢？

```
import java.util.Random;

public class Scramble {

public static void main(String[] args) {

            for (int i=0; i < 10; i++)
            {

            Random randomGenerator = new Random();
            int n = randomGenerator.nextInt(10);

            System.out.println("Random number is " +n);
            }

      }

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T05:27:51.683

对于这少数可能的值：

1.  生成所有可能值的列表
2.  随机播放
3.  在每一步中返回下一项

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-17T15:33:12.407

最大长度[LFSR](http://en.wikipedia.org/wiki/Linear_feedback_shift_register)（例如[PRBS](http://www.altera.com.my/support/kdb/solutions/rd02142013_406.html)序列）是否适合？

例如，PRBS31 序列 (x ^(31) +x ^(28) +1) 保证每个 31 位整数（0 除外）在一个周期内仅生成一次（即 2 ^(31) -1 位长）

它也很容易实现：

```
public int prbs31(int state) {
    int feedback = ((state >> 30) ^ (state >> 27)) & 1;
    return ((state << 1) | feedback) & 0xffffffff;
} 
```

您从一些（非零！）整数开始，然后`prbs31`连续调用 - 将先前的结果传回。（它是一个反馈寄存器！）

PRBS31 生成非常好的统计随机位模式（不要与[真正的随机](http://en.wikipedia.org/wiki/Random_number_generation#.22True.22_random_numbers_vs._pseudorandom_numbers)位模式混淆）

但是，请记住相邻值将非常相似 - 上面建议的方法在 PRBS 序列上执行一位滑动窗口，这意味着每个相邻值都有 30 位共同（尽管在不同的地方）

但是我们可以每次将寄存器推进 31 步，如下所示：

```
// initial seed, doesn't really matter which value you use
// as long as it's not zero (remember that the sequence goes over
// all the possible 31-bits values anyway)
private static final int SEED = 0x55555555;

private int state = SEED;

public int nextInt() throws SequenceCycleException {
    for (int i = 0; i < 31; ++i) {
        state = prbs31(state);
        if (state == SEED) {
            throw new SequenceCycleException();
        }
    }
    return state;
} 
```

这将生成一个看起来随机的整数序列，长度为 (2 ^(31) -1)/31

**免责声明：**单个 LFSR 的幼稚使用是高度可预测的。在这种情况下，知道**一个**值就可以知道**所有**未来的值——这使得这种方法对模拟（例如游戏）非常有用，但**对于任何具有密码或秘密意义的东西也非常不利！**

就个人而言，我使用这种方法为在哈希表中用作键的对象生成唯一 ID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:40:16.973

The simplest way possible is to use clock arithmetic. If you add by a number which is not a factor of 10 e.g. a prime (and the difference is not factor as well) you will get every possible value in a random walk. It not very random, but it is very simple.

e.g. say you pick 3 for 10 values.

```
3, 6, 9, 2, 5, 8, 1, 4, 7, 0 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T05:47:55.483

您可以生成一个随机数，将其存储在`Array`// `HashMap`Whatever 中并返回它。然后，您只需每次检查新号码是否已经在您保存的旧号码中。效率不是很高，但很容易。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-04-27T05:43:37.400

这是随机数（整数）生成的代码示例。我们知道它`Math.random()`总是返回 double 类型的值。所以，我把它转换成int。

```
class RNumber{
    public static void main(String str[]){
        int countNum=100;   
        for(int i=0;i<countNum;i++){
            System.out.println("Random Unique values="+(int)(Math.random()*100));
        }
    }
} 
```

希望，它会帮助你。

# asp.net - 网站转换为 Web 应用程序 - Azure 的问题

> ID：10345175
> 
> 赞同：0
> 
> 时间：2012-04-27T05:25:08.473
> 
> 标签：asp.net, azure, webforms

我有一个网站，它转换为运行 ASP.NET 网络表单的网络应用程序。

转换成功，我可以在 Azure 模拟器中本地运行它，利用 Azure 计算和 Azure blob 存储。

但是，当我将应用程序发布到 Azure 时，它​​会不断地“等待初始化”（3 小时）。此时，我可以 RDP 进入实例，但错误日志中没有日志。

IIS 已创建，网站按预期位于 e:\ 驱动器中。从本地 RDP 我无法查看网站 (404)，并且在 Azure 管理门户中，它只是处于初始化阶段，每次刷新都会更新中止时间。

我怎么知道问题是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:34:04.707

它通常发生在错误的 web.config 和/或缺少依赖项的情况下。

这是你可以用它做的事情。

1.  转到项目中每个引用的属性并将“复制本地”设置为 true。
2.  双重/三重检查 web.config 中的每个配置部分。确保您指向正确的数据库（如果有）。
3.  确保您的任何组件都没有在 Azure 上进行直接磁盘调用。有一种方法可以在 Azure 中预配它们，只是您必须在 azure 项目属性的“本地资源”设置中处理一些额外的管道。
4.  如果您使用的是 SQL Azure，请确保将数据库实例上的防火墙设置为允许来自您的计算实例的调用。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:31:07.790

这些通常是启动问题或参考库问题。你有任何启动任务吗？

我会一一删除您在 WebRole.cs 文件中执行的启动任务和活动，然后从那里开始。我知道非常令人沮丧，有时我花了很多天试图找出问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-01T17:09:35.177

根据您在问题描述中提到的内容，我假设：

1.  您可以 RDP 到您的 Azure 实例
2.  远程进入 Azure VM 后，使用内部 IP 地址打开网页，即[http://10.xxx/](http://10.x.x.x/)
3.  并且您收到 404 错误（找不到文件 - 标准 HTTP 错误消息）

有时网站现在确实有默认页面设置，即 default.aspx 或 index.aspx，并尝试使用[http://10.xxx/](http://10.x.x.x/)基本 URL 打开默认页面并生成错误。如果您尝试打开一个您知道存在的页面，例如[http://10.xxx/somepage.aspx](http://10.x.x.x/somepage.aspx)会怎样。只要 webroot 中有 somepage.aspx，它就应该在浏览器中打开。

因为您的 Web 角色未处于就绪状态，我相信您的角色还有其他问题。这里有很多事情可以尝试根本原因：

1.  检查事件日志中是否有任何记录的异常，因为角色正在初始化我相信您可以在事件日志中获得一些异常
2.  查看 C:\Logs\ 文件夹中与 AzureBootStrapper 或 IISConfigurator 相关的任何异常
3.  尝试将 E:\AppRoot 与您的开发机器 \package\ 匹配，以查看是否缺少任何参考（此问题也将记录在事件日志中）
4.  我不确定您的代码如何依赖于 Azure Blob 存储，但是如果您的启动中有一些东西依赖于 Azure Blob 存储，请从 Azure VM 验证您确实与那里有连接

根据我在 Azure VM 中挖掘的丰富经验，这个问题可能很难猜测或写为答案，因为每个案例都可能非常不同，我们大多可以提供一个非常通用的根本原因指南。

# windows - ResetDC() 什么都不做（用于 Windows 的打印后台处理程序 API）

> ID：10345179
> 
> 赞同：1
> 
> 时间：2012-04-27T05:25:42.110
> 
> 标签：windows, delphi, printing, spooler, printer-properties

我已经为[Windows 的 print spooler APIs](http://msdn.microsoft.com/en-us/library/windows/desktop/dd162863%28v=vs.85%29.aspx)编写了包装类，这些类主要工作......

唯一**不起作用**的是**应用打印机设置**。

首先，我调用[DocumentProperties()](http://msdn.microsoft.com/en-us/library/windows/desktop/dd183576%28v=vs.85%29.aspx)以成功获取和使用打印机设置。

然后我尝试使用[ResetDC()](http://msdn.microsoft.com/en-us/library/dd162925%28v=VS.85%29.aspx)应用这些设置，但没有任何反应。该函数接受一个有效句柄，并返回相同的有效句柄，这意味着它应该已经应用了设置。但是，似乎什么也没发生：打印输出不受打印机设置更改的影响。

我什至尝试将[SetPrinter()](http://msdn.microsoft.com/en-us/library/windows/desktop/dd145082%28v=vs.85%29.aspx)与[level 9](http://msdn.microsoft.com/en-us/library/windows/desktop/dd162852%28v=vs.85%29.aspx)一起使用，但也没有效果。

这项任务变得相当紧迫。有什么建议么？

使用 Delphi XE2，Windows 7 64 位。

* * *

好的，跳过所有大型 OO 包装器。这是一个精简的程序版本。（请注意，您必须为其提供 XPS 文件。）

**正在应用**打印机设置更改（使用 Info2_Apply() 时）并且可以在 MS Word 中看到。他们只是**在打印时被忽略**。这就是奥秘。

我已经尝试了很多东西，以至于我已经没有选择了。帮助将......非常感谢。

* * *

我终于没有选择了。

这是我的测试代码的最后一个版本。它是自给自足的，包含的功能比你需要的多——这是拼命尝试我能想到的任何东西的结果。

如果其他人可以使打印机设置正常工作，请告诉我吗？

使用打印机名称填充组合框：

```
uses
  Printers

ComboBox1.Items.Assign(Printer.Printers); 
```

打印程序（我的测试代码）：

```
uses
  Winapi.WinSpool

procedure PrintXPS(PrinterName, FileNameXPS: string; ParentFormHandle: THandle = 0);

  //  Printer handle

  procedure Printer_Open(out Printer: THandle; Defaults: PPrinterDefaultsW = nil);
  begin
    if  not OpenPrinterW(PWideChar(PrinterName), Printer, Defaults) then
      RaiseLastOSError;
  end;

  procedure Printer_Close(Printer: THandle);
  begin
    if  not ClosePrinter(Printer) then
      RaiseLastOSError;
  end;

  //  Printer defaults

  procedure Defaults_Obtain(out DefaultsHandle: THandle; out Defaults: PPrinterDefaultsW);
  begin
    DefaultsHandle  := GlobalAlloc(GHND, SizeOf(TPrinterDefaultsW));
    if  DefaultsHandle = 0  then
      RaiseLastOSError;
    Defaults  := GlobalLock(DefaultsHandle);
    if  Defaults = nil  then
      RaiseLastOSError;
  end;

  //  Print settings

  procedure Settings_Obtain(Printer: THandle; out SettingsHandle: THandle; out Settings: PDeviceModeW);
  var
    DeviceModeSize: integer;
  begin
    DeviceModeSize  := DocumentProperties(0, Printer, PWideChar(PrinterName), nil, nil, 0);
    if  DeviceModeSize < 0 then
      RaiseLastOSError;
    //  Allocate memory
    SettingsHandle := GlobalAlloc(GHND, DeviceModeSize);
    if  SettingsHandle = 0 then
      RaiseLastOSError;
    //  Lock memory
    Settings := GlobalLock(SettingsHandle);
    if  Settings = nil then
      RaiseLastOSError;
    //  Populate memory
    if  DocumentProperties(ParentFormHandle, Printer, PWideChar(PrinterName), Settings, Settings, DM_OUT_BUFFER) < 0  then
      RaiseLastOSError;
  end;

  procedure Settings_Show(Printer: THandle; var Settings: PDeviceModeW; Options: Cardinal);
  var
    Return: integer;
  begin
    Return  := DocumentProperties(ParentFormHandle, Printer, PWideChar(PrinterName), Settings, Settings, Options);
    if  Return < 0  then
      RaiseLastOSError;
  end;

  //  DC

  function  ObtainDC(Printer: THandle; DeviceMode: PDeviceModeW): HDC;
  begin
    Result  := CreateDC(nil, PWideChar(PrinterName), nil, DeviceMode);
    if  Result = 0  then
      RaiseLastOSError;
  end;

  procedure ApplyDC(DC: HDC; DeviceMode: PDeviceModeW);
  begin
    if  ResetDC(DC, DeviceMode^) = 0  then
      RaiseLastOSError;
  end;

  //  PRINTER_INFO_2

  procedure Info2_Obtain(Printer: THandle; out Info2Handle: THandle; out Info2: PPrinterInfo2W);
  var
    InfoSize: Cardinal;
  begin
    GetPrinterW(Printer, 2, nil, 0, @InfoSize);
    //  Get printer info memory
    Info2Handle := GlobalAlloc(GHND, InfoSize);
    if  Info2Handle = 0 then
      RaiseLastOSError;
    //  Lock printer info memory
    Info2 := GlobalLock(Info2Handle);
    if  Info2 = nil then
      RaiseLastOSError;
    //  Get printer info data
    if  not GetPrinterW(Printer, 2, Info2, InfoSize, @InfoSize)  then
      RaiseLastOSError;
  end;

  procedure Info2_Apply(Printer: THandle; Info2: PPrinterInfo2W);
  begin
    if  not SetPrinterW(Printer, 2, Info2, 0) then
      RaiseLastOSError;
  end;

  //  PRINTER_INFO_8

  procedure Info8_Fetch(Printer: THandle; Settings: PDeviceModeW);
  var
    lBuffer: PPrinterInfo8W;
    lBufferSize: Cardinal;
  begin
    GetPrinterW(Printer, 8, nil, 0, @lBufferSize);
    GetMem(lBuffer, lBufferSize);
    try
      FillChar(lBuffer^, lBufferSize, 0);
      //  Make the call
      lBuffer.pDevMode  := Settings;
      if  not GetPrinterW(Printer, 8, lBuffer, lBufferSize, @lBufferSize) then
        RaiseLastOSError;
    finally
      FreeMem(lBuffer, lBufferSize);
    end;
  end;

  procedure Info8_Apply(Printer: THandle; Settings: PDeviceModeW);
  var
    lPrinterInfo8: TPrinterInfo8W;
  begin
    lPrinterInfo8.pDevMode  := Settings;
    if  not SetPrinterW(Printer, 8, @lPrinterInfo8, 0) then
      RaiseLastOSError;
  end;

  //  PRINTER_INFO_9

  procedure Info9_Fetch(Printer: THandle; Settings: PDeviceModeW);
  var
    lBuffer: PPrinterInfo9W;
    lBufferSize: Cardinal;
  begin
    GetPrinterW(Printer, 9, nil, 0, @lBufferSize);
    GetMem(lBuffer, lBufferSize);
    try
      FillChar(lBuffer^, lBufferSize, 0);
      //  Make the call
      lBuffer.pDevMode  := Settings;
      if  not GetPrinterW(Printer, 9, lBuffer, lBufferSize, @lBufferSize) then
        RaiseLastOSError;
    finally
      FreeMem(lBuffer, lBufferSize);
    end;
  end;

  procedure Info9_Apply(Printer: THandle; Settings: PDeviceModeW);
  var
    lPrinterInfo9: TPrinterInfo9W;
  begin
    lPrinterInfo9.pDevMode  := Settings;
    if  not SetPrinterW(Printer, 9, @lPrinterInfo9, 0) then
      RaiseLastOSError;
  end;

  //  Print jobs

  function  JobCreate(Printer: THandle; FileName: string): Cardinal;
  var
    lBufferSize: Cardinal;
    lAddJobInfo: PAddJobInfo1W;
  begin
    //  Create job
    AddJobW(Printer, 1, nil, 0, lBufferSize);
    GetMem(lAddJobInfo, lBufferSize);
    try
      if  not AddJobW(Printer, 1, lAddJobInfo, lBufferSize, lBufferSize)  then
        RaiseLastOSError;
      Result  := lAddJobInfo.JobId;
      //  Copy the file into place
      CopyFile(PWideChar(FileName), lAddJobInfo.Path, True);
    finally
      FreeMem(lAddJobInfo, lBufferSize);
    end;
  end;

  procedure JobStart(Printer: THandle; JobID: Cardinal);
  begin
    if  not ScheduleJob(Printer, JobID) then
      RaiseLastOSError;
  end;

  //  General cleanup

  procedure ReleaseHandle(Handle: THandle);
  begin
    if  not GlobalUnlock(Handle)  then
      ;//RaiseLastOSError;
    if  GlobalFree(Handle) <> 0 then
      ;//RaiseLastOSError;
  end;

var
  PrinterA{, PrinterB}: THandle;
  Defaults: PPrinterDefaultsW;
  DefaultsHandle: THandle;
  DataType: string;
  Settings: PDeviceModeW;
  SettingsHandle: THandle;
  Info2: PPrinterInfo2W;
  Info2Handle: THandle;
//  DC: HDC;
  JobID: Cardinal;
begin
  if  not FileExists(FileNameXPS)  then
    raise Exception.Create('File not found: ' + FileNameXPS);

  //  Get DataType
  Printer_Open(PrinterA);
  try
    Info2_Obtain(PrinterA, Info2Handle, Info2);
    try
      DataType  := WideCharToString(Info2.pDatatype);
    finally
      ReleaseHandle(Info2Handle);
    end;
  finally
    Printer_Close(PrinterA);
  end;

  Defaults_Obtain(DefaultsHandle, Defaults);
  try
    Defaults.pDatatype      := PWideChar(DataType);
    Defaults.pDevMode       := nil;
    Defaults.DesiredAccess  := PRINTER_ALL_ACCESS;

    Printer_Open(PrinterA, Defaults);
    try
      Info2_Obtain(PrinterA, Info2Handle, Info2);
      try
        Settings_Show(PrinterA, Info2.pDevMode, DM_IN_BUFFER or DM_IN_PROMPT or DM_OUT_BUFFER);
        //  Try according to:
        //  - Remarks section in http://msdn.microsoft.com/en-us/library/windows/desktop/dd145082%28v=vs.85%29.aspx
        //  - Comment on code line 246 in http://www.lessanvaezi.com/changing-printer-settings-using-the-windows-api/
        Info2.pSecurityDescriptor := nil;
        Info2_Apply(PrinterA, Info2);

        JobID := JobCreate(PrinterA, FileNameXPS);
        JobStart(PrinterA, JobID);

      finally
        ReleaseHandle(Info2Handle);
      end;
    finally
      Printer_Close(PrinterA);
    end;
  finally
    ReleaseHandle(DefaultsHandle);
  end;

end; 
```

# android - 我们是否需要下载移动应用程序的 SSL 证书才能访问安全的 Web 服务

> ID：10345180
> 
> 赞同：2
> 
> 时间：2012-04-27T05:25:43.747
> 
> 标签：android, iphone, blackberry, mobile, windows-mobile

这是移动应用程序平台的一个普遍问题，我想澄清关于 SSL 证书的一件事。

如果我们将在移动应用程序的任何平台上使用安全 Web 服务，我们是否需要下载移动应用程序的 SSL 证书？

如果没有 SSL 证书，我们可以访问移动应用程序中的任何安全 Web 服务。

请任何人澄清 SSL。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:57:10.653

您的连接 API 将迅速处理此问题。无需手动下载 SSL 证书。只需创建正确的 URL 并提出正确的请求。其余的复杂性应由连接 API 本身处理。

即使他们需要下载，他们也会在通信进行时提示用户。

# git - 在 git 中记录前 10 个

> ID：10345182
> 
> 赞同：118
> 
> 时间：2012-04-27T05:25:49.480
> 
> 标签：git, logging

两个问题：

1.  如何从头到尾显示 git 中的前 10 个提交。（无分店）
2.  如何指定提交索引并记录它。（显示第二个或第三个）

我知道 git 使用 parent 链接提交，很容易从头到尾记录提交。喜欢：`git log HEAD~10`

但是我需要从头到尾查询，可以吗？

* * *

## 回答 #1

> 赞同：299
> 
> 时间：2012-04-27T08:27:26.160

```
git log -10 
```

将显示与修订规范匹配的 10 个最新提交（缺少规范意味着“所有提交”）。

请参阅手册页：

```
git help log 
```

部分**`Commit Limiting`**

```
-<number>, -n <number>, --max-count=<number>
    Limit the number of commits to output. 
```

* * *

## 回答 #2

> 赞同：66
> 
> 时间：2012-04-27T07:04:45.087

只需使用一种行格式记录所有内容并尾随输出：

```
git log  --pretty=oneline | tail -n 10 
```

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2017-12-18T09:15:40.840

这是我的方法，

要获得前 10 个提交：

```
git log -n 10 
```

-n 是数字

**附加** 要获得下一个 10 提交跳过前 10 ：

```
git log --skip=10 -n 10 
```

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2012-04-27T06:14:23.723

要获取最后 10 次提交：

```
git log HEAD~10..HEAD 
```

要按从旧到新的顺序获取它们：

```
git log --reverse HEAD~10..HEAD 
```

请注意，如果有合并，这可能会显示超过 10 个提交；`--first-parent`如果您只想遍历每个分支的第一个父级，请添加。

有关更多详细信息，请参阅`git rev-list`.

* * *

编辑：您已经在上面得到了一个有用的答案，即“在历史开始附近显示提交”（再次，请参阅 repo 中有关多个非连接提交 DAG 的警告）。但你也可以这样做，例如：

```
git log --no-walk `git rev-list HEAD | tail -n 10` 
```

和：

```
git log --no-walk `git rev-list --reverse HEAD | head -n 10` 
```

取决于您想要结果的顺序。

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2019-03-19T02:00:33.383

最好的结果来自两个最佳答案的组合：

```
git log --pretty=oneline -10 
```

* * *

## 回答 #6

> 赞同：13
> 
> 时间：2020-05-11T05:07:09.543

我会使用以下简单的语法命令；

```
git log -10 --oneline 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2012-11-22T09:18:26.760

简单地记录一切反向 -1 表示列出一个日志

```
git log  --reverse -1 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2021-02-04T16:55:13.970

试试这个简洁的输出格式：

```
git log --date=short -10 --pretty="%C(Yellow)%h %x09 %C(reset)%ad %x09 %C(Cyan)%an: %C(reset)%s" 
```

它将打印带有颜色的短行，例如： [![在此处输入图像描述](../Images/31dc78ece1cfa038880795fea75479e5.png)](https://i.stack.imgur.com/Noxjm.png)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-04-17T19:57:04.307

因为...更多细节：p

1.  如何从头到尾显示 git 中的前 10 个提交。（无分店）
2.  如何指定提交索引并记录它。（显示第二个或第三个）

* * *

通过（无分支），您可能会询问`reflog`而不是任何给定的祖先链。以下与您所在的分支无关。

`git log -g --pretty=oneline | tail -10`

```
<sha> HEAD@{###}: action: summary (old)
<sha> HEAD@{###}: action: summary (older)
...
<sha> HEAD@{###}: action: summary (oldest) 
```

*   `-g`不是`--walk-reflogs`走提交祖先链，而是走 reflog entries.q
*   添加`|cut -d ' ' -f 2|tr -d ':' > log`仅记录 reflog 提交索引。

* * *

下面将显示当前签出分支的最早祖先。

`git log --reverse --pretty=oneline | head -10 | cat -n`

```
1 <sha> summary (oldest)
2 <sha> summary (second) 
```

*   `--reverse` 以相反的顺序输出提交。
*   不能简单地使用`-n 10`或`-10`因为它坏了`--reverse`
*   `cat -n`添加行号（提交索引？）

* * *

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-07-03T05:01:57.367

如果有人想要的不仅仅是 git 单行日志：

```
git log --reverse | awk 'NR>1 {print last} {last=$0}; /^commit/ && ++c==11{exit}' 
```

最后`11`应该设置为`1`超过您想要的提交数。

正如[这里](https://stackoverflow.com/a/23142313/642311)指出的那样，`git log --reverse -n 10`它不能按您的需要工作。（*我想它需要是不可交换的，才能让您能够以相反的顺序选择前 10 次提交或最后 10 次提交*）

# android - 安卓。设计应用程序的背景图像

> ID：10345184
> 
> 赞同：2
> 
> 时间：2012-04-27T05:26:07.790
> 
> 标签：android, image, screen-resolution

我目前正在和我的一位设计师朋友讨论设计方案。而且我不知道我应该告诉他以什么分辨率制作背景图像。我想告诉他制作一张高清图像，然后从那里开始，为更小的设备屏幕重新缩放它，但我不知道也无法在网上找到哪个分辨率最高。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T05:38:43.053

告诉他查看[Android 设计页面](http://developer.android.com/design/style/metrics-grids.html)和该站点上的所有相关链接。它讲述了您需要了解的有关 Android 设计原则的所有信息。

其他链接：

[设备和显示器](http://developer.android.com/design/style/devices-displays.html)

[支持多屏](http://developer.android.com/guide/practices/screens_support.html)

来自设备和显示器页面的报价：

> **策略**
> 那么，在为多屏幕进行设计时，您从哪里开始呢？一种方法是在基本标准（中等大小，MDPI）中工作，并为其他存储桶向上或向下扩展。另一种方法是从具有最大屏幕尺寸的设备开始，然后按比例缩小并找出您需要在较小屏幕上做出的 UI 折衷。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-27T05:49:12.960

对于背景图像，为不同的分辨率设计不同大小的相同图像：

对于 LDPI：240X300 MDPI：320X455 XHDPI：720X1233 HDPI：480 X 762

基本上从 240 的 ldpi 开始，以 1.5 倍的倍数连续设计图像

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T05:48:27.990

您好，请参阅此站点 [屏幕支持](http://developer.android.com/guide/practices/screens_support.html#qualifiers)

如果您对此有更多疑问，请问我。

# word-wrap - gedit 中的自动换行

> ID：10345185
> 
> 赞同：12
> 
> 时间：2012-04-27T05:26:08.230
> 
> 标签：word-wrap, gedit

我正在使用 gedit 并且我有一条非常长的线，但我无法看到那条完整的线，因为 gedit 卡住了。
所以，我想在 gedit 中进行自动换行。
我搜索了但我没有在 gedit 中找到自动换行选项。

我如何在 gedit 中进行包装？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-27T05:54:38.470

检查 Gedit 首选项，否则您可以使用[TextWrap](http://hartmann-it-design.de/gedit/TextWrap/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-08-10T07:12:41.193

在 gedit 文本编辑器菜单中单击**Edit**，然后单击**Preferences**。一个名为 gedit Preferences 的弹出窗口打开。**在名为 View 的第一个选项卡上的同一弹出窗口中，在子标​​题 Text Wrapping 下单击名为Enable text wrapping**的复选框，以打开或关闭文本环绕功能。

这些步骤已针对在 Ubuntu 14.04 LTS 上运行的 gedit 3.10.4 版本进行了测试。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-04-20T03:37:40.483

检查 Gedit 窗口下下角的状态菜单。

[![截图gedit](../Images/ddb982a1709bdbc3dc32af00cf329e2e.png)](https://i.stack.imgur.com/eUhiA.png)

如果您想按文件执行此操作，可以使用模式线[https://help.gnome.org/users/gedit/stable/gedit-plugins-modelines.html.en](https://help.gnome.org/users/gedit/stable/gedit-plugins-modelines.html.en)。

例如，在文本文件的第一行添加注释。在这种情况下，`autowrap:nil`将禁止文本换行。

```
// -*-indent-tabs-mode:t;c-basic-offset:4;tab-width:4;autowrap:nil;-*- 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-30T11:58:14.017

我所知道的最完整的 Gedit 插件列表可以在[wiki.gnome.org](https://wiki.gnome.org/Gedit/Plugins)找到。它包括一个`Text Wrap`插件。

> [要安装它，]您需要下载文件并将它们放在您的 ~/.local/share/gedit/plugins/ 目录中（可能需要创建）。他们需要在那个确切的目录中；不扫描子目录以查找插件。[从该页面复制]

# ffmpeg - Darwin 流媒体服务器的 ffmpeg SDP 文件

> ID：10345186
> 
> 赞同：1
> 
> 时间：2012-04-27T05:26:08.260
> 
> 标签：ffmpeg, live-streaming, darwin, sdp, ffserver

我正在制作一个流媒体服务器，以在我的移动设备上查看我的网络摄像头的实时视频源。

我考虑使用 ffmpeg 、 VLC 和 DSS 并进行了以下设置，尽管跳过了帧：-

video4linux2 > ffserver > VLC 转码 > DSS

（RAW 到 ffserver）>（输出到 SDP 链接）>（SDP 链接到 SDP 文件）>（SDP 文件到实时流式传输到移动设备）

后来，在测试 VLC 时，我发现我的上网本（Intel Atom N480）效率非常低且速度很慢，因为它跳过了很多帧。

DSS 可以从其 /usr/local/movies（默认）流式传输 SDP 文件。

同时，ffmpeg 的 ffserver 模块可以将实时提要流式传输到 SDP 链接（不是 SDP 文件）。

我的要求是我需要在 DSS 的 /usr/local/movies 目录中创建 SDP 文件，以便通过此 DSS 进行流式传输。

那么，如何从 ffmpeg 创建 sdp 文件或如何从 SDP 链接创建 SDP 文件（不使用 VLC 的转码）。

怎么做 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T11:51:25.590

您可以尝试使用有线广播从源（cam）获取视频，然后将其推送到 sdp 上的 DSS，这将执行您想做的相同操作

# ruby-on-rails - 带有 Postgres 的 ActiveRecord：有许多直通和索引

> ID：10345189
> 
> 赞同：1
> 
> 时间：2012-04-27T05:26:25.380
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord, postgresql-9.1, rails-postgresql

假设您有三个模型：

```
class Collection < ActiveRecord::Base
  has_many :comments, through => :users
end

class User < ActiveRecord::Base
  belongs_to :collection
  has_many :comments
end

class Comment < ActiveRecord::Base
  belongs_to :user
end 
```

像这样的索引：

```
add_index :users, :collection_id
add_index :comments, :user_id 
```

如果您对其评论有集合查询：

```
@collection.comments 
```

它会使用两个索引吗？

**编辑：**

这会产生一个如下所示的查询：

```
SELECT "comments".* FROM "comments" INNER JOIN "users" ON "comments"."user_id" = "users"."id" WHERE "users"."collection_id" = 232 
```

使用 EXPLAIN 它声称它仅使用“对用户使用 index_users_on_collection_id 进行索引扫描”

因此，大概它可以从用户在 collection_id 上的索引中快速获取用户，然后在与用户一起加入评论时搜索所有评论？如果有很多评论（假设有 100,000 条），这个查询会不会执行得很好？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T03:24:31.073

您不能依赖小表的 EXPLAIN 计划与大表相同。计划随着桌子大小的变化而变化。

这就是说，如果它最终对评论进行顺序扫描并且有大量行，那么您可能需要确保在评论表的外键字段上有一个索引。如果 PostgreSQL 从磁盘 I/O 的角度评估这将是一个净赢，并且这意味着表足够大，可以从使用索引扫描中受益，并且索引扫描不会检索到很大一部分，那么 PostgreSQL 将使用索引的表。

# emacs - 带有 GNU Emacs 的 Cygwin FTP 不起作用

> ID：10345196
> 
> 赞同：0
> 
> 时间：2012-04-27T05:27:34.827
> 
> 标签：emacs, ftp, cygwin, tramp

我在 Windows 7 下使用最新的 Tramp - 2.2.5-pre 的 GNU Emacs 24.0.95.1。我正在尝试将以前版本的 emacs 与集成的 Tramp 一起使用，但问题仍然相同。

我正在尝试通过 Emacs/Tramp/Ange-FTP（tramp 是 ange-ftp 的包装器）通过 FTP 连接我的网站。对于某些原因，我的网站只能使用被动模式进行 FTP。所以标准的 Windows ftp.exe 无法使用，我将其重命名。对于 ftp 客户端，我正在尝试使用 cygwin ftp。

这是我的 emacs 配置的一部分：

```
 '(ange-ftp-ftp-program-name "c:/cygwin/bin/ftp.exe")
 '(ange-ftp-try-passive-mode t)
 ;'(ange-ftp-ftp-program-args (list "-i" "-n" "-g" "-v" "--prompt="))
;it is recommended in case of cygwin ftp used
 '(ange-ftp-ftp-program-args '("-i" "-n" "-g" "-v" "--prompt" ""))
 '(tramp-debug-buffer t)
 '(setq tramp-verbose 10)
; '(tramp-default-method "ftp")
; '(tramp-default-method "pscp")
 '(tramp-default-method "ftp")
; '(tramp-ftp-method "ssh")
; '(tramp-ftp-method "sshx")
 '(tramp-debug-buffer t) ;May be delete. For debug only. Don't
understand how it work
; '(tramp-password-end-of-line "\r\n") ;just for experiment
; '(tramp-password-prompt-regexp) 
```

我正在尝试以下步骤： 1\. Cx Cf /@：emacs minibuffer 中的密码提示 2\. 输入密码并按 在*ftp @*缓冲区中出现以下消息：

```
502 'PWD': command not implemented.
ftp> get ~ NUL
get ~ NUL
502 'PORT': command not implemented.
ftp> get ~ NUL
get ~ NUL
502 'PORT': command not implemented.
ftp> pwd
pwd
502 'PWD': command not implemented.
ftp> pwd
pwd
502 'PWD': command not implemented. 
```

在*消息*缓冲区中出现以下消息：

```
expanding ~... [2 times]
Getting PWD... [2 times]
expanding ~... [2 times]
Getting PWD... [2 times]
expanding ~... [2 times]
Getting PWD... [2 times]
expanding ~... [2 times]
Getting PWD... [2 times]
byte-code: Unable to obtain CWD 
```

我可以使用来自 cygwin ftp 的相同用户名和密码连接到该站点。但是当我从 emacs 尝试相同的任务时，会出现一些问题。请指教。

# jquery - 使用jQuery将无序列表菜单转换为下拉菜单时如何添加ID

> ID：10345201
> 
> 赞同：0
> 
> 时间：2012-04-27T05:28:02.223
> 
> 标签：jquery, drop-down-menu

我正在尝试创建一个响应式布局，其中导航链接在特定屏幕尺寸下变成下拉菜单。我正在使用[此处](https://stackoverflow.com/questions/1897129/how-to-convert-unordered-list-into-nicely-styled-select-dropdown-using-jquery)找到的以下代码：

```
$(function() {
$('ul.selectdropdown').each(function() {
    var $select = $('<select />');

    $(this).find('a').each(function() {
        var $option = $('<option />');
        $option.attr('value', $(this).attr('href')).html($(this).html());
        $select.append($option);
    });

    $(this).replaceWith($select);
});
}); 
```

它按我想要的方式工作。但是，它不保留列表项最初具有的 ID。我想保留原始 ID，或者为创建的每个选项输出一个唯一 ID。

有没有简单的方法来实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:02:36.873

您似乎没有将 id 分配给新创建的`options`. 以下代码假设`<li>`元素具有 id，而不是`<a>`.

改变

```
$option.attr('value', $(this).attr('href')).html($(this).html()); 
```

至

```
$option.attr('value', $(this).attr('href')).html($(this).html()).attr('id', $(this).parent().attr('id')); 
```

# php - php数组键排序与字符串和数字

> ID：10345207
> 
> 赞同：0
> 
> 时间：2012-04-27T05:28:27.807
> 
> 标签：php, arrays, sorting

```
<?php
$rate=array ( "M100B1000" => "40.00", "M1000B20000" => "80.00", "M500B10000" => "50.00", "MUnlimitedBUnlimited" => "240.00", "M5000BUnlimited" => "120.00 ") ;
ksort($rate);
print_r($rate);
?> 
```

它提供排序率数组..

```
M1000B20000
M100B1000
M5000BUnlimited
M500B10000
MUnlimitedBUnlimited 
```

我需要这种排序..

```
M100B1000
M500B10000
M1000B20000
M5000BUnlimited
MUnlimitedBUnlimited 
```

给点思路...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:35:26.657

看起来你想根据字符串的大小对其进行排序，如果是的话看看这个例子

更多解释在这里[http://php.net/manual/en/function.sort.php](http://php.net/manual/en/function.sort.php)

```
 function shortestFirst(key($str1), key($str2)) {

        return strlen(key($str1)) - strlen(key($str2));

     }
    $rate=array ( "M100B1000" => "40.00", "M1000B20000" => "80.00", "M500B10000" => "50.00", "MUnlimitedBUnlimited" => "240.00", "M5000BUnlimited" => "120.00 "); 

    uasort($data, 'shortestFirst');
        print_r($data);
        echo '</pre>'; 
```

# android - 如何在android中的大文本页面中显示相关部分

> ID：10345210
> 
> 赞同：0
> 
> 时间：2012-04-27T05:28:38.243
> 
> 标签：android, html, webview, android-webview

我正在开发一个具有用户指南页面的 android 应用程序，其中包含整个应用程序的所有帮助内容。现在从任何屏幕都会打开这个页面，它会显示相应的内容，即来自指定位置。

目前我通过制作一个 html 页面在 webview 中显示此帮助内容，并且相应的帮助内容将使用 html 中的 Anchor 标记显示。我已经从[这个](http://freepages.computers.rootsweb.ancestry.com/~pasher/anchors.htm)链接中得到了回应。

它工作不正常。

有没有更好的方法来做到这一点？请分享你的想法？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:39:08.050

我认为问题可能出在您将 webview 放在滚动视图中时，请在此处查看链接：[this](https://stackoverflow.com/questions/3039555/android-webview-anchor-link-jump-link-not-working)

# git - 将“权威”git 存储库从 Github 转移到私有 github

> ID：10345212
> 
> 赞同：6
> 
> 时间：2012-04-27T05:28:50.257
> 
> 标签：git, github

我的任务是将我们的存储库从公共 github 移动到我们本地网络上的私有 github 实例。

我的想法是移动它们

```
git clone --bare <github-repo-url>
git push --mirror <local-github-url> 
```

在过渡期间，我应该能够从爸爸 github 上的存储库中自行更新镜像。（或者我会吗？我还没有在 UI 中找到执行更新的命令。）

然后我会删除“权威”的github仓库，镜像就变成权威了。

但这是怎么发生的？是否每个开发人员都需要更改 .git/config 中“origin”的 url？

镜像会接受不是来自其克隆父更新的推送吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T17:30:45.813

你的过程几乎是完美的。唯一的问题是`--mirror`初始克隆上缺少一个参数。

```
# create the private repo
ssh private-server
mkdir -p /path/to/shared/repos
git init --shared={whatever makes sense for your environment} /path/to/shared/repos/internalrepo.git
exit
# go to github.com and make the public repo readonly
# create a local mirror
git clone --bare --mirror $Github-URL github.git
# now the local repo github.git contains all the stuff from the github repo
cd github.git
git push --mirror $Private-URL
# Tell all developers to execute `git remote set-url origin  $Private-URL`
# Done 
```

我不会让 github 存储库对更改开放，因为项目中的每个人都不清楚哪个存储库现在是正确的存储库。如果您在 server-repo 上运行，您仍然可以这样做

```
ssh private-server
cd /path/to/shared/repos/internalrepo.git
git remote add --mirror github $Github-URL 
```

然后定期（例如在 cron 工作中）

```
git fetch github # get new commits from github
git remote prune github # drop branches, which are now deleted in the github repo 
```

*编辑*

您也可以使用本地镜像进行交换。但是没有简单的自动化过程，因为 git 既不能决定如何处理已删除的分支，也不能决定如何处理分歧的分支。所以你需要保留一个工作存储库，定期从以前的 github-repo 获取东西，从内部 repo 获取东西，解决不同的历史并将这些东西推回内部 repo。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:55:39.203

最简单的过程是开发人员克隆新的（私有）存储库并从那里继续。
如果他们在以前的存储库中有任何未决的更改，他们可以将这些更改导出为**补丁**并将它们应用到新的本地克隆存储库中，然后再将它们推回新的`origin`. （请参阅' [' 和 ' '](https://stackoverflow.com/questions/4624127/what-is-the-difference-between-git-format-patch-and-git-diff)[之间有什么区别？`git format-patch``git diff`](https://stackoverflow.com/questions/4624127/what-is-the-difference-between-git-format-patch-and-git-diff)和[`git format-patch`man](http://schacon.github.com/git/git-format-patch.html)）

# java - 找不到符号错误，空指针

> ID：10345213
> 
> 赞同：2
> 
> 时间：2012-04-27T05:28:53.850
> 
> 标签：java, swing, jlabel, jtextfield, symbols

现在没有编译错误，值不会显示，只有消息“数字：”我已经在这里，除了之前显示“数字：NULL”但我想我到了那里......感谢你们所有人。我已经阅读了大约一个星期的主题，但我今晚在你的建议下学到了更多

登录类

```
public class Login_JPanel extends JPanel
{
    JLabel welcomeMessage,
    mainPicture;

    JButton playerregistrationJB = new JButton ( "Player Registration" );   

    JLabel userAccountNumberJLabel  = new JLabel("<HTML><CENTER><FONT SIZE=6 
    COLOR=YELLOW>Please, enter your account number below and then click on player
    registration to continue </COLOR></CENTER></HTML>");

    JTextField useraccountnumberJTF  = new JTextField();

    public Login_JPanel()
    {   
        //========================================================
        //SET UP USERNAME JLABEL AND TEXT FIELD
        //========================================================
        add(userAccountNumberJLabel);
        userAccountNumberJLabel.setBounds( 322, 335, 300, 155 );

        add(useraccountnumberJTF);
        useraccountnumberJTF.setBounds (330, 500,  90, 25 ); 

        playerregistrationJB.setBounds( 350, 600, 325, 75 );
        playerregistrationJB.setFont( new Font( "Broadway", Font.BOLD, 30 ) );
        playerregistrationJB.setForeground( Color.red );
        playerregistrationJB.setBackground( Color.YELLOW );
        add( playerregistrationJB);         

        add( welcomeMessage = new JLabel( "Welcome!!" ) );
        welcomeMessage.setBounds(0,0,50,23);

        add( mainPicture = new JLabel( new ImageIcon("henkidama.jpg") ) );
        mainPicture.setBounds(0,0,50,50);

        setLayout(null);
        setBounds(0,0,1000,800);    
    }   
} 
```

这是玩家注册面板

```
public class PlayerRegistration_JPanel extends JPanel
{

    Login_JPanel loginJP = new Login_JPanel();

    JLabel welcomeMessage,
    mainPicture;

    JLabel useraccountnumberJL = new JLabel();

    JButton submitJB = new JButton ( "Submit" );    

    public PlayerRegistration_JPanel()
    {
        add(useraccountnumberJL);
        useraccountnumberJL.setText("number: " +  
                       loginJP.useraccountnumberJTF.getText());    
        useraccountnumberJL.setBounds( 100, 75, 625, 200 );
        useraccountnumberJL.setFont( new Font( "Broadway", Font.BOLD, 18 ) );

        submitJB.setBounds( 350, 600, 325, 75 );
        submitJB.setFont( new Font( "Broadway", Font.BOLD, 30 ) );
        submitJB.setForeground( Color.red );
        submitJB.setBackground( Color.YELLOW );
        add( submitJB); 

        add( welcomeMessage = new JLabel( "Welcome to Building Another Panel!!" ) );
        welcomeMessage.setBounds(0,0,50,23);

        add( mainPicture = new JLabel( new ImageIcon("henkidama.jpg") ) );
        mainPicture.setBounds(0,0,50,50);

        setLayout(null);
        setBounds(0,0,1000,800);        
    }   
} 
```

有一个`JLabel`要求用户输入一个数字，到此为止 a `String`，然后用户应该点击`playerregistrationJB`，并且数字出现在 中`PlayerRegistration_JPanel`。此外，还有一个`ProccessedJPanel`我用 调用所有按钮的地方`ActionListener`，还有一个`finalJpanel`我在一个框架中拥有我的主要按钮的地方。我不知道问题出在哪里，因为 my`JTextField`是全局的（尽管我们在 Java 中没有像 GLOBAL VARIABLE 这样的东西）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T05:35:27.973

你没有`useraccountnumberJTF`在类中`PlayerRegistration_JPanel`声明（它只在`Login_JPanel`类中声明）但是你在这一行中调用它。这是你的错误。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-27T05:52:44.043

你的`useraccountnumberJTF`. 您已在另一个类中声明它。为了访问其他类属性，您必须在您的类中创建其他类的对象，然后访问其他类属性。两个类也必须在同一个包中。

```
public class PlayerRegistration_JPanel extends JPanel
{
     Login_JPanel login = new Login_JPanel();
     public PlayerRegistration_JPanel() 
     {
          add(useraccountnumberJL);
          useraccountnumberJL.setText(login.useraccountnumberJTF.getText());
          useraccountnumberJL.setBounds( 100, 75, 625, 200 );
          useraccountnumberJL.setFont( new Font( "Broadway", Font.BOLD, 18 ) );
      }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-27T05:43:31.273

你必须声明`useraccountnumberJTF`：

```
import java.awt.Color;
import java.awt.Font;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class Login_JPanel extends JPanel {
    JLabel welcomeMessage, mainPicture;

    JButton playerregistrationJB = new JButton("Player Registration");
    JLabel userAccountNumberJLabel = new JLabel("<HTML><CENTER><FONT SIZE=6 COLOR=YELLOW>Please, enter your account number below and then click on playerregistration to continue </COLOR></CENTER></HTML>");
    JTextField useraccountnumberJTF = new JTextField();

    public Login_JPanel() {
        // ========================================================
        // SET UP USERNAME JLABEL AND TEXT FIELD
        // ========================================================
        add(userAccountNumberJLabel);
        userAccountNumberJLabel.setBounds(322, 335, 300, 155);

        add(useraccountnumberJTF);
        useraccountnumberJTF.setBounds(330, 500, 90, 25);

        playerregistrationJB.setBounds(350, 600, 325, 75);
        playerregistrationJB.setFont(new Font("Broadway", Font.BOLD, 30));
        playerregistrationJB.setForeground(Color.red);
        playerregistrationJB.setBackground(Color.YELLOW);
        add(playerregistrationJB);

        add(welcomeMessage = new JLabel("Welcome!!"));
        welcomeMessage.setBounds(0, 0, 50, 23);

        add(mainPicture = new JLabel(new ImageIcon("henkidama.jpg")));
        mainPicture.setBounds(0, 0, 50, 50);

        setLayout(null);
        setBounds(0, 0, 1000, 800);
    }

    public String getUseraccountnumberJTFText() {
        return useraccountnumberJTF.getText();
    }
} 
```

PlayerRegistration_JPanel：

```
import java.awt.Color;
import java.awt.Font;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class PlayerRegistration_JPanel extends JPanel
{
    JLabel welcomeMessage,
           mainPicture;
    JLabel useraccountnumberJL = new JLabel();
    JButton submitJB = new JButton ( "Submit" );    

    public PlayerRegistration_JPanel(Login_JPanel panel)
    {
        add(useraccountnumberJL);
        useraccountnumberJL.setText(panel.getUseraccountnumberJTFText());
        useraccountnumberJL.setBounds( 100, 75, 625, 200 );
        useraccountnumberJL.setFont( new Font( "Broadway", Font.BOLD, 18 ) );

        submitJB.setBounds( 350, 600, 325, 75 );
        submitJB.setFont( new Font( "Broadway", Font.BOLD, 30 ) );
        submitJB.setForeground( Color.red );
        submitJB.setBackground( Color.YELLOW );
        add( submitJB); 

        add( welcomeMessage = new JLabel( "Welcome to Building Another Panel!!" ) );
        welcomeMessage.setBounds(0,0,50,23);

        add( mainPicture = new JLabel( new ImageIcon("henkidama.jpg") ) );
        mainPicture.setBounds(0,0,50,50);

        setLayout(null);
        setBounds(0,0,1000,800);
    }   
} 
```

请阅读：http: [//java.about.com/od/javasyntax/a/nameconventions.htm](http://java.about.com/od/javasyntax/a/nameconventions.htm)

编辑：

类的声明应该是这样的：

```
private Login_JPanel loginPanel;

private void theMethodWhoDeclareLoginJPanel() {
    loginPanel = new Login_JPanel();
}

private void theMethodWhoDeclarePlayerRegistrationJPanel() {
    new PlayerRegistration_JPanel(loginPanel);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-27T05:37:07.440

你`JTextField useraccountnumberJTF`的不是全球性的。它是您的`Login_JPanel`类的成员变量。`Login_JPanel`这意味着您的类的每个实例都有一个这样的文本字段。你怎么`PlayerRegistration_JPanel`知道你指的是哪个领域？

如果您想访问该字段，请`Login_JPanel`在构造函数中传递一个实例`PlayerRegistration_JPanel`并询问该实例的字段。

这是一个相当基本的 OO 概念。也许重新阅读一些教程是件好事，例如[这个](http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-04-27T05:37:22.117

为什么你认为你可以直接`useraccountnumberJTF`在二等舱使用？

您正在混合 2 个类的变量。您不能在不参考第一类的情况下直接在第二类中使用一个类中定义的变量。您没有`useraccountnumberJTF`二等舱，因此它会在该课程中出错。您可以做的是找到一种方法将此变量值传递给第二类。

# wpf - 为 CustomGrid 设置背景单元格颜色的简单方法是什么？

> ID：10345214
> 
> 赞同：7
> 
> 时间：2012-04-27T05:28:58.413
> 
> 标签：wpf, xaml, background

我有：

```
<CustomControl:GridControl ShowCustomGridLines="True" Grid.Column="2" Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
        <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" Name="txbCaption" Text="{Binding Caption}" />
            <CustomControl:GridControl ShowCustomGridLines="True" Grid.Column="2" Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="1" Text="П" HorizontalAlignment="Center" VerticalAlignment="Center" />
                <TextBlock Grid.Column="1" Grid.Row="1" Text="Ф" HorizontalAlignment="Center" VerticalAlignment="Center" Background="Yellow" />
                <TextBlock Grid.Column="2" Grid.Row="1" Text="%" HorizontalAlignment="Center" VerticalAlignment="Center" />
            </CustomControl:GridControl> 
```

我想设置 TextBox 的单元格背景（其中 Background="Yellow"）。为 TextBox 设置背景没有帮助，因为我需要为整个单元格设置背景颜色，即使没有文本也是如此。

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-27T05:53:42.817

您可以在该区域放置某种类型的面板并设置其背景颜色。例如：

```
<Rectangle Fill="Black" IsHitTestVisible="False" Grid.Column="1" Grid.Row="1"/> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-04-04T10:53:13.520

或者在单元格中放置一个边框，然后在边框内设置边框的背景颜色属性所需的任何控件。

```
<Border Grid.Column="0" Grid.Row="0" Background="#FF3C3C3F">
     <TextBlock>Some Text</TextBlock>
</Border> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-10-24T12:19:50.280

要为整行或整列设置背景颜色，请在行或列定义中添加：

```
<Grid Grid.Row="0" Grid.Column="0" Background="SomeColor"/> 
```

通过行+列插入指定单元格的位置。然后你可以在任何你想要的地方插入你的文本框。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-27T05:56:05.730

WPF 网格不知道“单元格”是什么。在那里放一个面板并设置它的颜色。

# javascript - 如何检查 javascript 变量是否包含字符串？

> ID：10345215
> 
> 赞同：1
> 
> 时间：2012-04-27T05:29:00.887
> 
> 标签：javascript

我有一个变量： $form.attr('action') 包含以下之一：

```
action="/Administration/Contents/JsonCreate"
action="/Administration/Contents/JsonEdit"
action="/Administration/Contents/JsonDelete" 
```

如何使用 if () 语句检查它是否包含单词“JsonEdit”？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-27T05:31:50.143

使用`indexOf()`：

```
var str = $form.attr('action');

if(str.indexOf("JsonEdit")>=0){
    //do something you want
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:30:24.473

你可以使用 RegExp[`test`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/RegExp/test)来检查你是否有东西。`test` [如果找到匹配项](http://jsfiddle.net/EKVxe/)，则返回 true，否则返回 false。

```
if(/JsonEdit/.test(action)){
    //there is something
} 
```

# php - 如何使用 YDN 获取雅虎的通讯录

> ID：10345221
> 
> 赞同：0
> 
> 时间：2012-04-27T05:29:59.120
> 
> 标签：php, javascript, yahoo, yahoo-api

我想使用 YDN 从 yahoo 帐户获取所有联系人。因为我想做发送邀请申请。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:50:29.610

使用[联系人 API](http://developer.yahoo.com/social/contacts/)：

```
select * from social.contacts where guid=me; 
```

# javascript - 添加基于 cookie 的叠加层

> ID：10345222
> 
> 赞同：0
> 
> 时间：2012-04-27T05:30:01.603
> 
> 标签：javascript, jquery

我正在添加以下代码以添加叠加层

```
$(function () {

    {
        $('#overlay').fadeIn('fast', function () {
            $('#overlaybox').animate({ 'top': '90px' }, 500);
            //$('#box').css("top", (($(window).height() - this.outerHeight()) / 2) + $(window).scrollTop() + "px");
            $('#overlaybox').css("left", (($(window).width() - $('#overlaybox').outerWidth()) / 2) + $(window).scrollLeft() + "px");

            $('#nabshow').fadeOut('fast');

          })
    }

}); 
```

我发现以下代码可以根据 cookie 的可用性打开一个弹出窗口：

```
function setCookie(c_name,value,exdays)
{
var exdate=new Date();
exdate.setDate(exdate.getDate() + exdays);
var c_value=escape(value) + ((exdays===null) ? "" : "; expires="+exdate.toUTCString());
document.cookie=c_name + "=" + c_value;
}

function getCookie(c_name)
{
var i,x,y,ARRcookies=document.cookie.split(";");
for (i=0;i<ARRcookies.length;i++)
{
  x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));
  y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);
  x=x.replace(/^\s+|\s+$/g,"");
  if (x===c_name)
    {
    return unescape(y);
    }
  }
}

function showPopupOnce() {
   var hasSeenPopup = myGetCookie("has_seen_popup");
  if (hasSeenPopup === null || hasSeenPopup === ""){
     // the user has never seen the popup, so show him!
    window.open("http://mywebsite.com/popup.html", "myPopupWindow");
   }

   // either way, set the cookie so the user will never see the window again
   mySetCookie("has_seen_popup", "true", 365); // 365 days = 1 year
}

<body onLoad="showPopupOnce();"> 
```

我需要在覆盖代码中进行哪些更改以确保它只显示一次。我将添加 get cookie 和 setcookie 函数，然后我该怎么办：

谢谢阿纳布

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:47:01.517

你已经做了一切！您需要做的就是编辑您的`showPopupOnce()`代码。

```
function showPopupOnce() {
    var hasSeenPopup = myGetCookie("has_seen_popup");
    if (hasSeenPopup === null || hasSeenPopup === "") {
        // the user has never seen the popup, so show him!
        $('#overlay').fadeIn('fast', function() {
            $('#overlaybox').animate({
                'top': '90px'
            }, 500);
            //$('#box').css("top", (($(window).height() - this.outerHeight()) / 2) + $(window).scrollTop() + "px");
            $('#overlaybox').css("left", (($(window).width() - $('#overlaybox').outerWidth()) / 2) + $(window).scrollLeft() + "px");
            $('#nabshow').fadeOut('fast');
        })
        window.open("http: //mywebsite.com/popup.html", "myPopupWindow");
        }
        // either way, set the cookie so the user will never see the window again
        mySetCookie("has_seen_popup", "true", 365); // 365 days = 1 year
    }
}​ 
```

现在，您在匿名函数中有覆盖代码。所以每次加载页面时都会运行。一旦你将代码移到没有 cookie 的情况下的 showPopup 函数；它会做你想做的事。

如果您需要任何澄清/帮助，请告诉我。

# .net - 实体数据模型的多个图表

> ID：10345231
> 
> 赞同：3
> 
> 时间：2012-04-27T05:30:59.550
> 
> 标签：.net, entity-framework, entity-framework-5, edmx

我已阅读 Entity Framework 5 Beta 中的新增功能：

> 您现在可以为每个实体数据模型创建多个图表。任何人都可以指导我进一步了解此功能以及有关此功能的任何入门教程。这是否意味着现在我们可以拥有多个 edmx 文件来更好地管理大量实体

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T07:48:13.080

这意味着单个 EDMX 文件现在可以包含多个图表，这些图表显示了映射到该单个 EDMX 文件中的模型的不同部分。图表只是 EDMX 文件中定义的映射的“视图”——以前每个 EDMX 只能有一个视图，现在可以有多个视图。

我当前的机器上没有安装 VS11，但我记得您应该能够在当前图表中选择实体并将它们移动到新的/另一个图表。您还应该能够从模型浏览器管理图表并在图表之间切换。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-03T23:20:33.660

在 Visual Studio 2012（以前称为 VS 11）中，是的，您可以创建多个图表。
这是我的做法：

1.  以正常方式创建模型，以便在“[Diagram1]”上有一些实体（请参阅顶部选项卡上的标签）。
2.  现在 CTRL+单击几个相关实体，以便您选择几个，或者如果您愿意，只选择 1 个。
3.  右键单击选定的实体之一，然后选择“移动到新图表”

可能还有其他方法可以做到这一点，但我还没有找到任何文档，并且请记住，我对 EF5 使用“beta (2)”，对 VS2012 使用 RC，它可能会改变。

希望有帮助，FJF

# c# - C#在没有app.config的情况下设置探测privatePath？

> ID：10345240
> 
> 赞同：12
> 
> 时间：2012-04-27T05:31:47.110
> 
> 标签：c#, path, app-config, private, probing

我有一个 C# 应用程序，为了组织它的文件，我在一个名为“Data”的文件夹中有一些 DLL。我希望 EXE 检查这个文件夹中的 DLL，就像它检查其当前目录一样。如果我使用此信息创建了 App.Config：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <probing privatePath="Data" />
    </assemblyBinding>
  </runtime>
</configuration> 
```

它没有问题。我不想拥有 App.Config。有没有办法在不使用 app.config 的情况下设置探测路径？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2017-04-09T20:07:05.300

您还可以`AssemblyResolve`像这样处理 AppDomain 事件：

```
AppDomain.CurrentDomain.AssemblyResolve += CurrentDomain_AssemblyResolve; 
```

和：

```
private static System.Reflection.Assembly CurrentDomain_AssemblyResolve(object sender, ResolveEventArgs args)
{
    var probingPath = pathToYourDataFolderHere;
    var assyName = new AssemblyName(args.Name);

    var newPath = Path.Combine(probingPath, assyName.Name);
    if (!newPath.EndsWith(".dll"))
    {
        newPath = newPath + ".dll";
    }
    if (File.Exists(newPath))
    {
        var assy = Assembly.LoadFile(newPath);
        return assy;
    }
    return null;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-27T05:38:55.203

您可以为您创建的新 AppDomain 执行此操作，我认为没有办法在当前/默认 AppDomain 的托管代码中执行此操作。

编辑：使用私有路径创建 AppDomain：使用[AppDomain.CreateDomain](http://msdn.microsoft.com/en-us/library/aehss7y0.aspx)和[AppDomainSetup](http://msdn.microsoft.com/en-us/library/system.appdomainsetup.aspx%5d) .PrivateBinPath

# python - 在不涉及元组的情况下将两个列表变为 1

> ID：10345248
> 
> 赞同：1
> 
> 时间：2012-04-27T05:32:38.680
> 
> 标签：python, list, tuples, enumerate

我有两个列表，并试图以一种奇怪的方式使用 zip 将它们变成一个列表。我有一个名字列表，比如说

```
names = ['nathan', 'julian', 'ramy', 'jack'] 
```

以及先前上下文中出现的列表。可以说这个列表类似于`['2', '3', '4', '5']`. 这是每个名称出现在列表中的次数......现在我将如何获得类似`['nathan 2', 'julian 3', 'ramy 4', 'jack 5']`使用 zip 功能的东西？不必使用 zip 功能，但我认为这是使用我知道的功能的唯一方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T05:33:41.033

```
[" ".join(pair) for pair in zip(names, occurences)] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T05:37:10.743

怎么样：

```
map(" ".join, zip(names, occurrences)) 
```

@David Robinson 的回答可能稍微更 Pythonic（IIRC Guido 更喜欢列表推导来过滤/映射），但这更短。不过，感谢他的`" ".join`想法。

# backbone.js - 如何在 Backbone.js 中触发 Backbone.Router 事件？

> ID：10345250
> 
> 赞同：11
> 
> 时间：2012-04-27T05:33:04.490
> 
> 标签：backbone.js, url-routing, backbone-routing

Backbone.js 中的路由器负责路由客户端页面，并根据 url 将它们连接到操作和事件。但是如何触发 url 变化呢？我的意思是如果这样做的唯一方法是将与页面路由关联的元素包含在`<a>`标签中。

因为我已经将 mousedown 和 mouseup 事件与用于路由的元素关联起来，如果我把它放在`<a>`tag 中，mousedown 和 mouseup 事件肯定会失效，因为它会与`<a>`tag 的 click 事件发生冲突。那么还有其他方法可以进行路由吗？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-04-27T06:12:09.777

您可以使用[`Router#navigate`](http://backbonejs.org/#Router-navigate)：

> **导航** `router.navigate(fragment, [options])`
> 
> 每当您在应用程序中到达想要保存为 URL 的点时，调用**navigate**以更新 URL。如果您还想调用路由函数，请将**触发**选项设置为`true`。

因此，如果您的路由器是`r`并且您想激活 的路由`#/some_route`，那么您可以：

```
r.navigate('some_route', { trigger: true }); 
```

演示（请打开您的控制台）：http: [//jsfiddle.net/ambiguous/xkZtB/](http://jsfiddle.net/ambiguous/xkZtB/)

# ios - iOS：添加一个没有 tableViews 等的窗口

> ID：10345252
> 
> 赞同：0
> 
> 时间：2012-04-27T05:33:19.180
> 
> 标签：ios, uiview

我很难找到如何将新窗口添加到不基于表格视图的应用程序，而是基于单个窗口的应用程序（现在需要一个窗口来输入一些设置）。所有教程都以表格视图模板，所以如果有人有任何指示，我将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T16:18:20.453

去查看您找到的示例代码并查找“tableView:didSelectRowAtIndexPath”方法。在这里，它将向您展示如何推送新视图。您可能想要做类似的事情，因此请确保您的主视图具有导航控制器设置并按照以下方式执行操作：

```
UIViewController *newViewController = [[UIViewController alloc] init];
[self.navigationController pushViewController:newViewController animated:YES]; 
```

您可以通过按钮点击或可见视图上的某些其他操作来调用这些行。这将创建您的下一个视图控制器并将其带到前面。如果你想做一些模态的（从视图底部显示），那么你会想要使用它`presentModalViewController:animated`。

您可能还想研究一个选项卡式控制器，因为这也可能适合您的目的。

# xsd - 创建 xsd 架构以创建类

> ID：10345254
> 
> 赞同：0
> 
> 时间：2012-04-27T05:33:35.433
> 
> 标签：xsd

我想从 xsd 模式生成以下类结构。我是 xsd 的新手，不知道如何实现这一点。任何形式的指导都会有帮助。

\ATable 和 ATableRow 是抽象类。公共类表：ATable {

```
 public class TableRow : ATableRow
    {
        public ATableRow(ATable parent)
            : base(parent)
        {
        }

        public string Symbol { get { return base.GetValue<string>("Test"); } set { base.SetValue<string>("Test", value); } }

    }

    public Table()
        : base("Table")
    {
    }

    protected override ATable.ATableRow CreateRow()
    {
        return new TableRow(this);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T15:29:42.833

如果您查看[MSDN 上的 xsd.exe 文档，](http://msdn.microsoft.com/en-us/library/x6c1kb0s%28v=vs.71%29.aspx)您会发现它可以执行以下操作：

*“XSD 类：从运行时程序集文件中的一个或多个类型生成 XML 模式。生成的模式定义 System.XML.Serialization.XMLSerializer 使用的 XML 格式。”*

您可以将您的类编译成程序集，然后使用以下模式调用 xsd：

`xsd myAssembly.dll`

它可以证明是一个很好的起点，也许是提出更多问题的原因......

# json - 删除 json 节点后保存文件

> ID：10345256
> 
> 赞同：2
> 
> 时间：2012-04-27T05:33:41.770
> 
> 标签：json, groovy

我试图从 json 文件中删除 json 节点。为了解析 ande，我使用了 json slurper

```
File f=new File(fileLocation);
 def result = new JsonSlurper().parseText(f.text)
 Map jsonResult = (Map) result; 
 Map Bookmarkbar = (Map) jsonResult.get("roots").get("bookmark_bar");
List Children=(List) Bookmarkbar.get("children");
 println("no of elements "+Children.get(i).size());
 if("Google".equals(Children.get(i).get("name"))
{
 Children.remove(i);
 println(Children.get(i));
} 
```

在这里它正在删除第 i 个子节点。但是当我签入 json 文件时，我可以看到没有发生变化？println(Children.get(i)); 在删除一个节点之后显示下一个节点。并且计数也减少了。那么在删除子节点后我将如何保存文件？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-27T08:24:56.757

你没有说你的 JSON 是什么样子的，所以我有一个猜测......我放了：

```
{ "roots":{
    "bookmark_bar":{
      "children":[
        { "name":"Google", "url":"http://www.google.com" },
        { "name":"StackOverflow", "url":"http://stackoverflow.com" }
      ]
    }
  }
} 
```

进入`/tmp/test.json`

然后运行这个脚本：

```
import groovy.json.*

File jsonFile = new File( '/tmp/test.json' )

// Load the Json into a Map
Map result = new JsonSlurper().parseText( jsonFile.text )

// Set the children to every element whos name isn't Google
result.roots.bookmark_bar.children = result.roots.bookmark_bar.children.findAll {
  it.name != 'Google'
}

// Get the new JSON string
String newJson = new JsonBuilder( result ).toPrettyString()

// And write it out to the file again
jsonFile.withWriter( 'UTF-8' ) { it << newJson } 
```

将文件内容更改为：

```
{
    "roots": {
        "bookmark_bar": {
            "children": [
                {
                    "name": "StackOverflow",
                    "url": "http://stackoverflow.com"
                }
            ]
        }
    }
} 
```

那是你想要的吗？

# c#-4.0 - c#中条件表达式中的数据类型不匹配

> ID：10345262
> 
> 赞同：0
> 
> 时间：2012-04-27T05:34:07.483
> 
> 标签：c#-4.0, ms-access-2007

我有一个问题，当我运行我的代码时，会发生错误，即“” *System.Data.OleDb.OleDbException：标准表达式中的数据类型不匹配。*“”。数据类型是数字。

请就此向我提出建议。

"*代码*

```
 protected void btn_Save_Click(object sender, EventArgs e)
    {
        string str = ("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:/Users/Geeta/Desktop/eTimeTrackLite1.mdb;Persist Security Info=False;");
        OleDbConnection conn = new OleDbConnection(str);
        conn.Open();
        string query = "insert into Employees (EmployeeName,EmployeeCode,Designation,Grade,Team,Location,EmployementType,HolidayGroup) values ('" + txt_empname.Text + "','" + txt_code.Text + "', '"+ Convert.ToString(dp_designation.SelectedItem)+"', '"+Convert.ToString(dp_grade.SelectedItem)+"', '"+Convert.ToString(dp_team.SelectedItem)+"', '"+Convert.ToString(dp_location.SelectedItem)+"', '"+Convert.ToString(dp_emptype.SelectedItem)+"',  '"+Convert.ToString(dp_holigroup.SelectedItem)+"')";
        OleDbCommand cmd = new OleDbCommand(query, conn);
        cmd.ExecuteNonQuery();
        conn.Close();
        BindGridData();
    } 
```

“谢谢”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:39:59.993

You put strings as values in your insert startement and some of your db values are not of type string. That is causing the error.

Look at your table definition and convert the parameters of your insert statement to the correct types.

# c - 验证 CSV 格式

> ID：10345263
> 
> 赞同：0
> 
> 时间：2012-04-27T05:34:10.150
> 
> 标签：c

我正在编写一个程序来验证 CSV 文件。格式限制如下：

*   一行不能以逗号结尾，必须以数字结尾；
*   一行不能以逗号开头，必须是数字；
*   一行可以为空；
*   只允许单个数字作为数字（即没有小于 0 或大于 9 的数字）；
*   两个逗号不能相邻，必须用数字隔开。

编辑：

我根据反馈对代码进行了一些更改。有人可以解释一下while循环实际上在做什么吗？为什么开关不工作？我现在得到所有输入的 1。我可以在交换机中使用 isdigit 吗？

```
#include <ctype.h>
#include <stdio.h> 

int main()
{

int c;

    while ((c = getchar()) != EOF )
    {      
        switch(c)
    {
        case'0':
            printf("1");
            break;
        case'1':
            printf("1");
            break;
        case'2':
            printf("1");
            break;
        case'3':
            printf("1");
            break;
        case'4':
            printf("1");
            break;
        case'5':
            printf("1");
            break;
        case'6':
            printf("1");
            break;
        case'7':
            printf("1");
            break;
        case'8':
            printf("1");
            break;
        case'9':
            printf("1");
            break;
        case',' :
            printf("1");
            break;
        case'\n' :
            printf("1");
            break;
        default :
            printf("0");
            break;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T17:15:49.507

![在此处输入图像描述](../Images/cae08cf524c5832bee847ef260a5a353.png)

```
#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>

int main(void){
    int ch;
    while(EOF!=(ch=getchar())){
        if(ch == ' '){
            while(' '==(ch=getchar()));
            goto CR;
        }
        if(isdigit(ch)){
            while(','==(ch=getchar()))
                if(isdigit(getchar()))
                    continue;
                else
                    goto NG;
            goto CR;
        }
CR:     if(ch != '\n')
            goto NG;
    }
    printf("OK");
    return EXIT_SUCCESS;
NG:
    printf("NG");
    return EXIT_FAILURE;
}

#if 0
    while(EOF!=(ch=getchar())){
        if(ch == ' '){
            while(' '==(ch=getchar()));
        } else if(isdigit(ch)){
            while(','==(ch=getchar()))
                if(!isdigit(getchar()))
                    break;//ch==','
        }
        if(ch != '\n')
            goto NG;
    }
#endif 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:41:50.867

您的代码永远不会到达 switch 语句。

简而言之，递归是：

```
int valid() /* This is the function definition. */
{
    int c;

    while((c = getchar()) != EOF) {
        if(!valid(c)) {  /* While not EOF you keep calling valid() 
                            You also pass 'c' - which you can't get
                            as your function _definition_ does not have 
                            any arguments. */
           return 0;     /* You never get here as valid() always, when EOF, 
                            return 1 */
        }
    }
    return 1; /* When EOF you never go _inside_ the while loop, 
                 you return 1, 
                 and back track of stack begins. */

    switch(c) { ... /* You never get here. */
} 
```

导致`valid()`总是返回`1`。

另请注意：

```
int valid();        /* This _declaration_ has no arguments thus indicating the 
                       _definition_ of the function can have any number of 
                       arguments. */

int valid(void);    /* This would explicitly say that the _definition_ does not
                       take any arguments. */

int valid(int);
int valid(int foo); /* These would explicitly say the _definition takes
                       one int, and one int only. */ 
```

* * *

作为调用示例：

```
file.csv:
  0,2
  1,2 
```

调用堆栈步骤：

```
Down            Up
01 main()       20 valid() return 1 so puts("1")
02 valid()      19 ... return 1
03 valid('0')   18 ... return 1
04 valid(',')   17 ... return 1
05 valid('2')   16 ... return 1
06 valid('\n')  15 ... return 1
07 valid('1')   14 Step  8 returns 1, so return 1
08 valid(',')   13 Step  9 returns 1, so return 1
09 valid('2')   12 Step 10 returns 1, so return 1
10 Now at EOF,  11 Never inside while as EOF, return 1.
 v              ^  Start popping calls from stack.
 |              |
 +--------------+ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:41:54.883

我不知道你的程序到底遵循什么逻辑，但这里有一个奇怪**的递归**

```
int valid()
{
    int c;

    while((c = getchar()) !=EOF) {
        if (!valid(c)) { 
```

你正在传递一个*理想情况下*`int`不`valid()`应该接受任何东西的人。

 *我认为这段代码进入了**无限旋转**

即使您删除该递归调用，您也会遇到一个普通的`return 1`. 我想你也需要把它取下来

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T05:42:09.713

查找 isdigit()。这将替换你的 switch 语句的一大块，并使其更短，以便更容易扫描。

此外，您可能希望一次读取一行 (gets() / fgets()) 而不是一次读取一个字符，然后对一行进行测试。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-27T11:39:39.503

```
#include <stdio.h>
#include <string.h>
#include <ctype.h>

#define bool int
#define false 0
#define true !false

// Rule:(SPACE* | [0-9](,[0-9])*)CR
bool isValid(char *str){
    if(*str == '\n')
        return true;
    if(*str == ' '){
        while(*++str == ' ');
        if(*str == '\n')
            return true;
        else
            return false;
    }
    if(isdigit(*str++)){
        do{
            if(*str == '\n')
                return true;
        }while(*str++ == ',' && isdigit(*str++));
        return false;
    }
    return false;
}

#define BUFF_SIZE 128

int main(void){
#ifdef DEBUG
    printf("\nEnd with comma:\n");
    printf(isValid("1,2,3,\n") ? "OK" : "NG");
    printf("\nStart with comma:\n");
    printf(isValid(",1,2,3\n") ? "OK" : "NG");
    printf("\nCR only:\n");
    printf(isValid("\n") ? "OK" : "NG");
    printf("\nSPACE and CR only:\n");
    printf(isValid("     \n") ? "OK" : "NG");
    printf("\nBelow zero:\n");
    printf(isValid("-1\n") ? "OK" : "NG");
    printf("\nGreater than nine:\n");
    printf(isValid("10\n") ? "OK" : "NG");
    printf("\nInclude two comma:\n");
    printf(isValid("3,4,,5\n") ? "OK" : "NG");
    printf("\nNormal pattern I:\n");
    printf(isValid("9\n") ? "OK" : "NG");
    printf("\nNormal pattern II:\n");
    printf(isValid("3,4,5\n") ? "OK" : "NG");
#else
    char line[BUFF_SIZE];
redo:
    fgets(line, BUFF_SIZE, stdin);
    if(NULL==strchr(line, '\n')){
        fprintf(stderr,"You have exceeded the number of characters that can be entered.\n");
        fflush(stdin);
        goto redo;
    }
    if(isValid(line))
        printf("OK\n");
    else
        printf("NG\n");
#endif
    return 0;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-27T14:29:09.313

重写版本

```
#include <stdio.h>
#include <ctype.h>

#define bool int
#define false 0
#define true !false

// Rule:(SPACE* | [0-9](,[0-9])*)CR
bool isValid(FILE *fp){
    int ch;
    while(EOF!=(ch=fgetc(fp))){
        if(ch == '\n')
            continue;
        if(ch == ' '){
            while((ch=fgetc(fp)) == ' ');
            if(ch == '\n')
                continue;
            else
                return false;
        }
        if(isdigit(ch)){
            do{
                if((ch=fgetc(fp)) == '\n')
                    goto cont; //continue
            }while(ch == ',' && isdigit(fgetc(fp)));
            return false;
        }
        return false;
        cont:;
    }
    return true;
}

int main(void){
    FILE *file;
#ifdef DEBUG
    file = fopen("testdata.csv","r");
#else
    file = stdin;
#endif
    if(isValid(file))
        printf("OK");
    else
        printf("NG");
    fclose(file);
    return 0;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-29T07:01:34.470

```
#include <stdio.h>
#include <stdlib.h>

typedef enum STATUS {
    START,SPC,NUM,COMMA,CR
} Status;

int main(void){
    int ch;
    Status pre_stat, stat;
    pre_stat=stat=START;

    while(EOF!=(ch=getchar())){
        switch(ch){
        case '\n':
            stat = CR;
            if(pre_stat == START || pre_stat == SPC || pre_stat == NUM){
                //pre_stat = stat;
                pre_stat = START;//line end move to line start, reset status
            } else
                goto NG;
            break;
        case ' ':
            stat = SPC;
            if(pre_stat == START || pre_stat == SPC){
                pre_stat = stat;
            } else
                goto NG;
            break;
        case '0': case '1': case '2': case '3': case '4':
        case '5': case '6': case '7': case '8': case '9':
            stat = NUM;
            if(pre_stat == START || pre_stat == COMMA){
                pre_stat = stat;
            } else
                goto NG;
            break;
        case ',':
            stat = COMMA;
            if(pre_stat == NUM){
                pre_stat = stat;
            } else
                goto NG;
            break;
        default:
            goto NG;
        }
    }
    printf("OK");
    return EXIT_SUCCESS;
NG:
    printf("NG");
    return EXIT_FAILURE;
} 
```*

# emacs - 使用emacs在一行中查找列号

> ID：10345265
> 
> 赞同：1
> 
> 时间：2012-04-27T05:34:14.457
> 
> 标签：emacs, gedit

我正在处理一个行很长的文件。
我收到错误消息：

```
ValueError: Expecting , delimiter: line 1 column 91115 (char 91115) 
```

我想找到那个，但是 gedit 因为大线而卡住了。
使用emacs我可以查看行号。
但。如何从emacs查看行号？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T05:58:02.557

`M-x column-number-mode`

Bla bla bla，因为系统的答案不够长;-)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:46:41.343

如果您想转到该列，则可以移动到该行的开头，然后`C-u 91115 C-f`按 91115 个字符点击哪个前锋点。

# ios - 禁用按钮仍然调用目标

> ID：10345266
> 
> 赞同：2
> 
> 时间：2012-04-27T05:34:28.047
> 
> 标签：ios, cocoa-touch, uibutton

我的应用程序中有一个系统设置，用户可以在其中捏合视图以将其扩展到全屏（如 Flipboard）。但是，当我这样做时，我想禁用一些在两种模式下都可见的按钮。通常它可以正常工作，但在以下边缘情况下会失败：

1）非缩放模式下的按钮（不要松开）

2）捏视图放大，并等待它完成动画。然后该按钮将其`userInteractionEnabled` 设置为`NO`。

3）释放按钮，无论如何都会调用目标函数。我在目标函数中放了一个断点，并使用 lldb 检查按钮，`userInteractionEnabled`确实设置为`NO`.

我期望禁用的按钮不应该触发其目标是错误的吗？我应该在目标函数中检查这个吗？

这是实际禁用按钮的功能，以防万一您想查看（*编辑*：似乎有些混乱。下面的代码没有任何问题，我只是将其包含在内以使其彻底。）

```
//The function that disables the buttons
- (void)disableButtons:(SO2MenuButtons)buttons
{
    UIView *view = nil;
    if(buttons & SO2Mokuji)
    {
        view = [self.view viewWithTag:151];
        view.alpha = 0.5;
        view.userInteractionEnabled = NO;
    }
    if(buttons & SO2NoteView)
    {
        view = [self.view viewWithTag:152];
        view.alpha = 0.5;
        view.userInteractionEnabled = NO;
    }
    //etc, etc...
} 
```

**更新：**

我将上面的内容更改为相同的结果

```
- (void)disableButtons:(SO2MenuButtons)buttons
{
    UIButton *view = nil;
    if(buttons & SO2Mokuji)
    {
        view = (UIButton *)[self.view viewWithTag:151];
        view.enabled = NO;
    }
    if(buttons & SO2NoteView)
    {
        view = (UIButton *)[self.view viewWithTag:152];
        view.enabled = NO;
    }
    //etc, etc...
} 
```

**编辑**似乎我没有清楚地表达问题是什么，所以我拼凑了一个简单的项目来演示这个问题。您可以[在此处](http://www.filedropper.com/test_14)下载（取决于您阅读此消息的时间，之前的链接可能已过期）。问题是按钮在被禁用后仍在触发其目标方法。看了上面的页面后，我为使用 filedropper 道歉......我不知道这些天共享项目的流行方式是什么>_<。不要点击绿色的大下载按钮，点击“下载此文件”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:39:45.913

我通过设置这些按钮找到了解决此问题的方法`exclusiveTouch`。`YES`这样用户就不能在按住按钮时捏住视图。当然，这并不能真正解决最初的问题，所以我暂时不接受这个答案。如果暂时没有人发布答案，我会接受这个答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:09:33.067

It looks as if you are using the bitwise AND operator &, while what you want is the logical AND operator &&.

# haskell - 使用 QuickCheck 进行 Haskell 矩阵测试

> ID：10345271
> 
> 赞同：3
> 
> 时间：2012-04-27T05:35:21.647
> 
> 标签：haskell, quickcheck

我正在 Haskell 中创建一个 Matrix 模块，我想使用 QuickCheck 来测试我的代码的一些属性。具体来说，我想生成具有关联逆的随机矩阵。以下是我尝试创建生成此类矩阵的 QuickCheck 生成器。

```
invertibleMatrix :: (Num a, Arbitrary a) => Gen (Matrix a)
invertibleMatrix = do s <- choose (2,10)
                      a <- vectorOf s (vector s)
                      if (det (Matrix a) == 0) then
                        invertibleMatrix
                      else
                        return (Matrix a) 
```

该代码首先创建一个介于 2 到 10 之间的大小，然后创建一个由该大小的向量组成的向量。如果行列式为零，则矩阵不可逆，因此我递归调用 invertibleMatrix。否则我返回新矩阵。

问题是，当我把它放在一个属性中进行测试时，这段代码并没有终止。（我认为它不断创建相同的 sxs 零元素矩阵，显然没有逆矩阵，因此它进入了无限循环）。我究竟做错了什么？我该如何解决？谢谢。

标记

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T11:25:37.617

作为绕过您的问题的一种方式，您可能会注意到，如果*A*是一个*n×n*矩阵，则*A - tI对于除**t*的最多*n 个*值（即*A*的特征值）之外的所有值都是可逆的。因此，生成一个矩阵，如果它不可逆，则向它添加一个小的整数倍数，并继续尝试直到它是。然后该过程保证终止（只要底层数字类型表现得相当好，浮点有时不会，例如，如果*A*的条目远大于您尝试的*t的值）。*

 **** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-28T09:38:31.567

```
squareMatrix :: (Num a, Arbitrary a) => Gen (Matrix a)
squareMatrix = do s <- choose (2,6)
                  a <- vectorOf s (vector s)
                  return (Matrix a)

invertibleMatrix :: (Num a, Arbitrary a) => Gen (Matrix a)
invertibleMatrix = suchThat squareMatrix ((/=0) . det) 
```

如果有人想知道，这就是解决方案。

标记

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:25:20.573

我没有对此进行测试，但我认为你想要的那种扰动可以从通常用于实现随机函数的 CoArbitrary 中获取。

```
invertibleMatrix :: (Num a, Arbitrary a) => Gen (Matrix a)
invertibleMatrix = kick seed where
  seed :: Integer
  seed = 0
  kick n = do
    s <- choose (2,10)
    a <- vectorOf s (vector s)
    if (det (Matrix a) == 0) then
      coarbitrary (kick (succ n))
    else
      return (Matrix a) 
```***

# jndi - servicemix 4.3.0 和 jndi

> ID：10345274
> 
> 赞同：0
> 
> 时间：2012-04-27T05:35:30.277
> 
> 标签：jndi, apache-servicemix

我的系统中有 servicemix 4.3.0，我想使用它连接到数据库。我是 servicemix 方面的新手，并寻找如何实现这种集成。论坛建议编辑 servicemix 安装的 conf 目录中的 jndi.xml。但是我的安装没有名为“conf”的文件夹。

这是否意味着我的安装已损坏？有没有其他方法可以实现数据库与 MySQL 的连接？

谢谢，吉沙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-02T14:31:13.307

我认为您将需要创建 jndi.xml 文件。有关更多详细信息，请参阅[此论坛](http://servicemix.396122.n5.nabble.com/JNDI-JDBC-DataSource-for-ServiceMix-4-td3371885.html)和[servicemix 文档](http://servicemix.apache.org/old/jndi-configuration.html)。

# jquery - 通过jQuery更改高度后，如何对齐一组div元素的顶部？

> ID：10345276
> 
> 赞同：1
> 
> 时间：2012-04-27T05:35:42.463
> 
> 标签：jquery, css, html

我正在使用 jQuery 迭代三个 div 元素，这些元素分组在一个 section 元素中，并均衡它们的高度。虽然这部分工作得很好，但 div 在它们的底部之前对齐的地方垂直不均匀。页面上的 div 似乎分别向下移动了 jQuery 添加到它们的高度的数量。

这是一个[没有问题的 jsFiddle](http://jsfiddle.net/BenjaminRH/QpsXk/embedded/result/)（我不改变高度），还有[一个是我的问题](http://jsfiddle.net/BenjaminRH/YL7ZG/embedded/result/)（我改变了高度，它弄乱了 div）。

这是我的CSS：

```
section.myGroup {
    text-align : center;
}

.myBlock {
    margin : 10px;
    padding : 10px;
    text-align : justify;
    display : inline-block;
    width : 275px;
    background-color : #ffffff;
    background-image : url('images/background.png');
    background-repeat : repeat;
    position: relative;
} 
```

这是我的 HTML：

```
<section class="myGroup">
    <div class="myBlock">
        <p>Lorem ipsum bla bla bla....</p>
    </div>

    <div class="myBlock">
        <p>Lorem ipsum bla bla bla....</p>
    </div>

    <div class="myBlock">
        <p>Lorem ipsum bla bla bla....</p>
    </div>
</section> 
```

编辑：这是我用来均衡 div 高度的 jQuery。这很标准：

```
var tallest = 0;

$('.myBlock').each(function() {
    var thisHeight = $(this).height();
    if (thisHeight > tallest) {
        tallest = thisHeight;
    }
});

$('.myBlock').height(tallest); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:45:06.413

请使用此代码 - 它应该可以工作

```
function equalHeight(group) {
    var tallest = 0;
    group.each(function() {
        var thisHeight = $(this).height();
        if(thisHeight > tallest) {
            tallest = thisHeight;
        }
    });
    group.height(tallest);
}

    equalHeight($('section.myGroup .myBlock')) 
```

演示 - [http://jsfiddle.net/bZXFH/](http://jsfiddle.net/bZXFH/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T07:14:28.750

我认为复杂性是因为你无法使用'float：left'。解决方法是继续使用'float：left'，但是你必须使用'margin：auto'来使你的部分居中。但是，限制是您必须为您的部分指定宽度：

[http://jsfiddle.net/YL7ZG/3/embedded/result/](http://jsfiddle.net/YL7ZG/3/embedded/result/)

```
.myGroup {
    width: 576px;
    margin: auto;
}
.myBlock {
    margin : 10px;
    float: left;
    padding : 10px;
    text-align : justify;
    width : 150px;
    background-color : #ccc;
    border: solid black 1px;
} 
```

# git - git pull --rebase、git rebase 和 git merge 的区别

> ID：10345277
> 
> 赞同：8
> 
> 时间：2012-04-27T05:35:45.427
> 
> 标签：git, git-svn

任何人都可以通过记住远程存储库来解释这一点吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-27T07:16:18.820

`git pull --rebase`当您想使您的开发分支保持最新时，这是要走的路 - 这些分支通常不会发布给其他人（可能是为了查看它），因此重写历史不是问题，您真的不想要合并等在这​​样一个分支。

`git merge`执行合并；有关详细信息，请参阅手册页 - 该命令有很多选项，在这里无法解释。

`git rebase`执行变基，即重写历史。它将把你的提交带到它们与另一个分支不同的点，暂时删除它们，从另一个分支应用丢失的提交，然后重新应用你的提交。`git rebase`还具有交互模式，您可以在其中删除/修改/组合（挤压）某些提交。

查看[http://learn.github.com/p/rebasing.html](http://learn.github.com/p/rebasing.html)以获得一些关于变基如何工作的漂亮图表。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-27T07:11:47.893

`git rebase`允许您从分支点分离分支，然后将其重新插入另一个分支的顶部。`git merge`而是简单地合并当前分支中另一个分支的更改，而无需重新插入历史记录。

如果没有冲突，merge 和 rebase 的结果是相同的，但历史不同：

```
(merge branch on master):
master    --A--B--C--E
                   /
branch          --D

(rebase branch onto master):
master     --A--B--C--D' 
```

在第一种情况下，合并创建`branch`分支被合并到`master`，导致创建合并提交，`E`。在第二种情况下，`D`只需重新插入`master`，创建花药提交，`D'`.

`git pull --rebase`将从远程获取更改，并在其上重新设置（重新插入）您的更改。它会从字面上记录您所做的不在遥控器上的更改，并从它刚刚获取的最后一个更改开始重播它们。

# python - 理解 python 中的 lambda 并使用它来传递多个参数

> ID：10345278
> 
> 赞同：105
> 
> 时间：2012-04-27T05:35:52.867
> 
> 标签：python, python-3.x, tkinter

在阅读了我在 lambda 上可以找到的所有内容之后，我仍然不明白如何让它做我想做的事。

每个人都使用示例：

```
lambda x, y : x + y 
```

为什么需要在`x`和`y`之前声明`:`？另外你如何让它返回多个参数？

例如：

```
self.buttonAdd_1 = Button(self, text='+', command=lambda : self.calculate(self.buttonOut_1.grid_info(), 1)) 
```

这工作得很好。但是下面的代码没有：

```
self.entry_1.bind("<Return>", lambda : self.calculate(self.buttonOut_1.grid_info(), 1)) 
```

它产生错误：

> TypeError: () 不接受任何参数（给定 1 个）

* * *

## 回答 #1

> 赞同：152
> 
> 时间：2012-04-27T05:43:40.427

> 为什么需要在 ':' 之前同时声明 'x' 和 'y' ？

因为 lambda （在概念上）与函数相同，只是内联编写。你的例子相当于

```
def f(x, y) : return x + y 
```

只是没有将它绑定到像`f`.

> 另外你如何让它返回多个参数？

就像函数一样。最好返回一个元组：

```
lambda x, y: (x+y, x-y) 
```

或者一个列表，或者一个类，或者其他什么。

`self.entry_1.bind`应该由Demosthenex回答的事情。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-04-27T05:38:03.043

我相信 bind 总是试图发送一个事件参数。尝试：

```
self.entry_1.bind("<Return>", lambda event: self.calculate(self.buttonOut_1.grid_info(), 1)) 
```

您接受参数并且从不使用它。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-04-27T05:43:06.560

> 为什么需要在`x`和`y`之前声明`:`？

因为它是一个函数定义，它需要知道函数接受哪些参数，以及以什么顺序。它不能只查看表达式并使用其中的变量名称，因为其中一些名称您可能希望使用现有的局部或全局变量值，即使它这样做了，它也不知道它的顺序应该期望得到它们。

您的错误消息意味着 Tk 正在使用一个参数调用您的 lambda，而您的 lambda 被编写为不接受任何参数。如果您不需要参数，只需接受一个并且不要使用它。（[Demosthenex 有代码](https://stackoverflow.com/a/10345294/8554766)，我会发布它但被打败了。）

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-04-17T22:36:14.233

> 为什么需要在 ':' 之前同时声明 'x' 和 'y' ？

您实际上可以在某些情况下（当您只有一个参数时）不要将 x 和 y 放在“：”之前。

```
>>> flist = []
>>> for i in range(3):
...     flist.append(lambda : i) 
```

但是 lambda 中的 i 将被名称绑定，所以，

```
>>> flist[0]()
2
>>> flist[2]()
2
>>> 
```

与您可能想要的不同。

# android - Android 在 SIM 卡中添加新联系人

> ID：10345279
> 
> 赞同：1
> 
> 时间：2012-04-27T05:36:00.727
> 
> 标签：android, android-contacts

当我们添加`new contact`并选择选项`save to sim`时，联系人是否也保存在表格中`RawContacts`。`Contacts`而且，当我们查看手机中的所有联系人时，`contact application`它是否会显示来自 sim 卡或 sim 卡联系人的 sim 卡联系人是否保存在联系人表中，并且联系人应用程序会从那里显示 sim 卡联系人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:57:11.637

```
try{
            // add a row to the RawContacts table
     ContentValues values = new ContentValues();
     values.put(RawContacts.ACCOUNT_TYPE, "com.anddroid.contacts.sim");
     values.put(RawContacts.ACCOUNT_NAME, "SIM");
     Uri rawContactUri = getContentResolver().insert(RawContacts.CONTENT_URI, values);

            // get the ID of the newly-added line
     long rawContactId = ContentUris.parseId(rawContactUri);

            // add a "name" line to the Data table, linking it to the new RawContact
            // with the CONTACT_ID column
     values.clear();
     values.put(Data.RAW_CONTACT_ID, rawContactId);
     values.put(Data.MIMETYPE, StructuredName.CONTENT_ITEM_TYPE);
     values.put(StructuredName.DISPLAY_NAME, "Name");
     cr.insert(Data.CONTENT_URI, values);
            // this insert succeeds

            // add a "phone" line to the Data table, linking it to the new RawContact
            // with the CONTACT_ID column
     values.clear();
     values.put(Data.CONTACT_ID, rawContactId);
     values.put(Data.MIMETYPE, Phone.CONTENT_ITEM_TYPE);
     values.put(Phone.NUMBER, "+12345678901");
     values.put(Phone.TYPE, Phone.TYPE_MOBILE);
     cr.insert(Data.CONTENT_URI, values);
            // this insert fails with a NullPointerException
}
catch(Exception e){
    String xx=e.toString();
    System.out.println(xx);
} 
```

# restful-authentication - 如何处理使用 3rd-party 的 restful store api 和 js mvc 框架的安全性？

> ID：10345282
> 
> 赞同：4
> 
> 时间：2012-04-27T05:36:52.070
> 
> 标签：restful-authentication, angularjs

我正在研究[angularjs](http://angularjs.org)，并在演示中找到了如何将 angularjs 与 3rd-party 的 restful store api 一起使用的示例：http: [//jsfiddle.net/tey3H/](http://jsfiddle.net/tey3H/)

我认为这是一个好主意，我可以在客户端编写 js 代码。但我担心安全性，因为我看到了这段代码：

```
 var Project = $resource('https://api.mongolab.com/api/1/databases' +
      '/angularjs/collections/projects/:id',
      { apiKey: '4f847ad3e4b08a2xxxxxxxxx' }, {
        update: { method: 'PUT' }
      }
  ); 
```

可以看到`apiKey`代码中有一个，客户端代码可以修改存储在mongolab中的数据。如果其他人找到密钥，他们也可以轻松修改数据。

所以我想知道如何处理安全性？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T10:17:03.520

**这取决于服务器。**

本示例使用 MongoLab。AFAIK，他们仍然不支持基于用户的身份验证，因此您必须编写一个应用服务器，它位于 mongo 的前面，处理权限。

请参阅[http://support.mongolab.com/entries/20269612-rest-api-permissions-and-security-best-practice](http://support.mongolab.com/entries/20269612-rest-api-permissions-and-security-best-practice)

# pointers - 回调函数指针错误

> ID：10345286
> 
> 赞同：0
> 
> 时间：2012-04-27T05:37:03.403
> 
> 标签：pointers

我有如下函数指针声明：

```
 int Start(char* pName, void (*callback)(void *)); 
```

当我传递如下函数指针时：

```
Start("Name", &Service::callbackStatus(void*)); 
```

我收到以下错误：

错误：“无效”之前的预期主表达式。

问题是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:41:20.517

When you are passing function pointer to a function, just pass the function name.

```
Start("Name", &Service::callbackStatus); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:19:37.110

传递函数指针可以通过以下方式完成：

```
 int Start( char* pName, void (Service::* callback)(void *), Service& obj )
    {   
       (obj.*(callback))( pName );
       return 0;
    }

   ...    
   Service obj;
   Start( "Name", &Service::callbackStatus, obj ); 
```

但这是丑陋的方式。

使用 C++，将接口的指针或引用传递给函数会更优雅：

```
class MyInterface
{
public:
   virtual void callbackStatus(void* a) = 0;
};

class Service : public MyInterface
{
public:   
   void callbackStatus(void* a) { std::cout << "hello\n";  }
};

int Start( char* pName, MyInterface& obj )
{   
   obj.callbackStatus( pName ); 
   return 0;
}

...
Service obj;
Start( "Name", obj ); 
```

另一种方法是将指针传递给静态成员函数。它的使用方式与普通的非成员函数类似。

# android - Flurry 库支持的最低 Android SDK 版本

> ID：10345287
> 
> 赞同：0
> 
> 时间：2012-04-27T05:37:05.593
> 
> 标签：android, flurry

我想将 Flurry 集成到我的 Android 应用程序中。我的应用支持 Android 1.5 及更高版本。最新的 Flurry 库是否支持相同的功能？

我无法在 flurry.com 上找到此信息。测试表明它不会在 1.5 上造成任何问题，但希望查看任何官方文档（如果有）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-04T14:47:31.577

Flurry Analytics 和 AppCircle 的最新版本 (v2.2.5) 支持 Android 1.5。

（免责声明：我在 Flurry 开发 Android SDK）

# memory-management - 进程地址空间和虚拟内存

> ID：10345297
> 
> 赞同：2
> 
> 时间：2012-04-27T05:38:19.050
> 
> 标签：memory-management, operating-system

我是这个领域的菜鸟，所以请耐心回答我的问题：）

我正在阅读有关进程地址空间、虚拟内存和分页的信息。我了解页面交换进出 RAM 的机制。据记载，每个进程都有一个 4GB 的虚拟地址空间，其中一部分用于用户空间（特定于每个进程 - 1 或 2 GB），其余是内核空间（在所有进程中通用）。由于每个进程的虚拟地址空间都存储在二级存储中，是否意味着每次我启动一个进程时，它都会在我的硬盘中保留 4 GB ？每次启动进程时，我都没有看到我的硬盘空间减少了 4GB ... 请说明一下，如果您知道的话，也请发布一些有关该主题的链接..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-06-05T20:59:03.933

虚拟地址内存管理不使用辅助存储。它只是将您的程序和主内存划分为一些分区大小。主存储器分区称为帧，程序分区称为页。主存和帧中的每个分区都具有相同的大小。

每当使用程序时，内核都会检查该程序的所有页面是否可以放入主内存。如果是这样，它会将所有页面保留在主存储器中。否则，它将只保留最初需要的页面。当稍后需要其他页面时，它会从主内存中删除其中一个框架，然后将请求的页面传输到删除框架的位置。

对于从页面到帧的地址映射，内核使用一个页面映射表，它准确地告诉这个特定页面位于主存储器中的哪个帧。

检查以下参考： [https://www.cs.umd.edu/class/sum2003/cmsc311/Notes/Memory/virtual.html](https://www.cs.umd.edu/class/sum2003/cmsc311/Notes/Memory/virtual.html) [https://www.bottomupcs.com/virtual_addresses.xhtml](https://www.bottomupcs.com/virtual_addresses.xhtml)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:50:26.553

它在这里是题外话，可以详细说明数百页的文字（请参阅有关此主题的 cs 书籍）。

但简而言之，您错了：虚拟内存未**存储**在辅助存储中。它可以在那里，但通常不是。操作系统正在处理它，取决于它的信息，它将数据保存在正常内存中（例如，当进程处于活动状态时），或者它在硬盘上（例如，当内存不足并且进程处于非活动状态时）。

虚拟化意味着，对于进程来说它是透明的，它不知道数据存储在哪里，它总是通过相同的指针访问。系统可以根据情况更改底层存储（然后将数据换入或换出）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:50:01.130

虚拟地址空间不在任何地方“存储”。只有为进程分配的内存页可以存储在内存/磁盘上。

内存分配取决于操作系统。即在 Windows 中分配和管理可以通过程序使用相应的[内存函数](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366781%28v=vs.85%29.aspx)来完成，例如 VirtualAlloc 将内存映射到地址空间和[VirtualProtect](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366898%28v=vs.85%29.aspx)函数来指定在程序的地址空间中分配的给定内存块应该具有的属性。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-07-30T19:15:32.760

好吧，对于这个领域的新手来说，这是一个很好的问题。实际发生的是，正在执行的进程被认为拥有所有内存，而它只有少数内存会随着它的增长而扩展。这内存称为虚拟内存。

我希望这个答案是有帮助的。

# unix - 按创建日期的 Cron 到 tar 文件

> ID：10345298
> 
> 赞同：0
> 
> 时间：2012-04-27T05:38:20.763
> 
> 标签：unix, cron, tar

我需要创建一个将`tar`在过去`X`几天内创建的所有图像的 cron 作业。我通过在我的网站上设置它们来使用 cron 作业`CPanel`，但在涉及 unix 内容时，我不是一个经验丰富的脚本编写者。任何帮助将不胜感激。

这是我的 cron 工作：

```
0 4 * * 1 tar pzvcf /home/xxxxxx/public_html/backups/images_backup.tar /home/xxxxxx/public_html/images/products 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:50:54.450

使用 find 定位所有图像并将它们提供给 tar。

像这样的东西应该会给你在过去 2 天内创建的文件（-2 表示 < 2*24 小时）

```
find <path> -ctime -2 -print 
```

这样的事情可能完成了整个工作：

```
find <path> -ctime -<within_days> -print | tar cf <output.tar> -T -

You need to specify:
  <path>        (where to search for images)
  <output.tar>  (output file name)
  <within_days> (add files < this many days old) 
```

`tar cf <file>`创建一个 tarball，`tar af <file>`附加到现有的 tarball

告诉 tar 从标准输入`-T -`读取命令列表。

find 命令将匹配文件列表回显到标准输出。

将`|`find 的 stdout 连接到 tar 的 stdin：因此 tar 应该添加 find 找到的所有文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:34:08.980

你可以使用以下命令

```
tar -cvzf outputfilename.tar ` find . -name '*' -mtime -2 -print` 
```

在查找命令中。-> 要搜索的目录 * -> 文件模式 -2 -> 表示天数

在你的情况下

```
0 4 * * 1 tar -cvz /home/xxxxxx/public_html/backups/outputfilename.tar ` find /home/xxxxxx/public_html/images/products -name '*' -mtime -2 -print` 
```

# android - Kindle fire 无法播放视频。应用程序崩溃的android

> ID：10345300
> 
> 赞同：0
> 
> 时间：2012-04-27T05:38:44.787
> 
> 标签：android, video-streaming, kindle-fire

在我的应用程序中，我加载了一些视频 mp4 文件，它可以在平板电脑和其他安卓设备上播放，但是当我尝试在 kindle fire 上播放相同的视频时，应用程序崩溃了。请有任何建议。请查看我的代码

```
public class VideoPlayer extends Activity {

private VideoView vidPlayer;
private ImageView ivPlayerBG;
private MediaController mc;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.videoplayer);
    Utils.setOrientation(this);
    vidPlayer = (VideoView) findViewById(R.id.vidPlayer);
    ivPlayerBG = (ImageView) findViewById(R.id.ivPlayerBG);
    mc = new MediaController(this);
    vidPlayer.setMediaController(mc);
    vidPlayer.setFocusable(true);
    mc.show(0);
    //onControllerHide();

    AudioManager audioMan = (AudioManager) getSystemService(Context.AUDIO_SERVICE);

    if (audioMan.getStreamVolume(AudioManager.STREAM_MUSIC) <= 0) {
        Toast.makeText(this, "volume is set to mute", Toast.LENGTH_LONG)
                .show();
    }

    Log.v("totla memory play", "" + Runtime.getRuntime().totalMemory());
    Log.v("HEAP_SIZE ", "" + Debug.getNativeHeapAllocatedSize());

    Boolean isAudio = getIntent().getExtras().getBoolean("audio");
    if (null != isAudio && isAudio) {
        ivPlayerBG.setBackgroundResource(R.drawable.ic_launcher);
    }

    Uri videoUrl = Uri.parse(Utils.getSDCardPath(getIntent().getExtras()
            .getString("url"))); // Uri.parse(Utils.getSDCardPath("Media/video.mp4"));
    Log.v("log" + videoUrl.getPath(), "logv");
    playVideo(videoUrl);

}

public void onControllerHide() {
    mc.hide();
}

public void playVideo(Uri videouri) {
    try {
        vidPlayer.setVideoURI(videouri);
        vidPlayer.requestFocus();
        vidPlayer.start();
    } catch (Exception e) {
        e.printStackTrace();
    }
}

@Override
protected void onDestroy() {
    super.onDestroy();

} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-09T13:47:50.723

只需使用此代码。

```
 Intent browserIntent = new Intent(Intent.ACTION_VIEW,
             Uri.parse(url));
      startActivity(browserIntent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:01:01.990

Kindle fire 是亚马逊特有的图书阅读应用程序。如果要在其中安装任何应用程序，则需要先[root 设备](http://www.pcworld.com/article/244303/how_to_root_your_kindle_fire.html)。尝试安装 Daroon Player 的 apk（可在他们的网站上获得），然后安装您的应用程序。它会起作用的。

# c# - Sql Server 中的正则表达式

> ID：10345302
> 
> 赞同：2
> 
> 时间：2012-04-27T05:38:48.563
> 
> 标签：c#, regex, sql-server-2008

我对特定列有特殊的选择标准，因此需要常规的表达式。例如：A123456, S008942 这个 id 应该只被选中第一个字母是字母，接下来的 6 个字母是数字。它总是像总共 7 个字母（1Alphabet+6NumericDigits）

任何帮助表示赞赏。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:05:00.677

使用 SQL 服务器模式匹配：http: [//msdn.microsoft.com/en-us/library/ms187489%28SQL.90%29.aspx](http://msdn.microsoft.com/en-us/library/ms187489%28SQL.90%29.aspx)

```
SELECT *
FROM [table]
WHERE [column] LIKE '[A-Z][0-9][0-9][0-9][0-9][0-9][0-9]' 
```

不幸的是，它是有限的，但也许它会得到你所需要的？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:49:38.553

试试这个也许有帮助

```
"^[A-Z]{1}[0-9]{6}$" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:44:53.867

这是你的模式：`[A-Z]\d{6}`
如果第一个字母可以是小写模式是：`[A-Za-z]\d{6}`

`[A-Z]`表示一个大写字母。
`[A-Za-z]`表示大写或小写字母。
`\d`表示一个数字。
`{6}`在它意味着正好 6 次之后。（所以`\d{6}`意味着 6 位数字）

# java - 如何填充列表 from JSON response I have written a web-service that should return a List of Questions The web-service is working fine and I am getting the response in JSON. The JSON response is as follows: { 问问题 问问题 2012-04-27T05:38:52.973 3728 次 This question shows research effort; it is useful and clear 2 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I have written a web-service that should return a List of Questions The web-service is working fine and I am getting the response in JSON. The JSON response is as follows: { "QuestionList": [{ "answer": { "options": ["Andriod is a phone", "Android is a language", "Android is a new fast food", "Android is Mobile App Development Tool"] }, "id": "0", "question": "What is Android?" }, { "answer": { "options": ["No", "Yes"] }, "id": "1", "question": "Do you know Android?" }, { "answer": { "options": ["No", "Yes", "Yes", "Yes"] }, "id": "2", "question": "Do you know Android?" }, { "answer": { "options": ["Interface is contract for a class", "It is class", "It is an abstract class", "none of the above"] }, "id": "3", "question": "What is Interface?" }, { "answer": { "options": ["Sonia Gandhi", "Rahul Gandhi", "Manmohan Singh", "Pratibha Patil"] }, "id": "4", "question": "Who is PM of India?" }, { "answer": { "options": ["Haryana", "Delhi", "Deheradun", "Darjeling"] }, "id": "5", "question": "What is capital of India?" }, { "answer": { "options": ["Abstract Class is a pre defined class", "Partial Implementation of a class", "A class that as have atleast 1 abstract method"] }, "id": "6", "question": "What is Abstract Class?" }] } Now I have to convert this response into a List Here is the Question Class public class Question { private int id; private String question; private Answer answer; public Question() { // TODO Auto-generated constructor stub } public Question(int id, String question, Answer answer) { setId(id); setQuestion(question); setAnswer(answer); } public int getId() { return id; } public void setId(int id) { this.id = id; } public String getQuestion() { return question; } public void setQuestion(String question) { this.question = question; } public Answer getAnswer() { return answer; } public void setAnswer(Answer answer) { this.answer = answer; } @Override public String toString() { return "[ Question id: " + getId() + " Question: " + getQuestion() + " Answer: " + getAnswer() + " ]"; } } Here is the Answer Class public class Answer { private List <string>options; public Answer() { // TODO Auto-generated constructor stub } public Answer(List <string>options) { setOptions(options); } public List <string>getOptions() { return options; } public void setOptions(List <string>options) { this.options = options; } @Override public String toString() { return "[ Options: " + getOptions() + " ]"; } } I am am not able to figure out how to convert the response to List Pls help... Alternative for Adobe Dreamweaver with drag and drop design Is there any such a great html editor with drag and drop design interface which is equivalent to Adobe Dreamweaver. I googled so many such as Komodo, Aptana, Coffee Cup.Of course, those are good html editors but they do not have design interface where we can drag and drop html elements and align them(What we can do by Dreamweaver). Can you please suggest me if there is any such great tool for Windows OS. Thanks in advance..... Note: This question may be duplicate one.But I have seen already some of the relevant questions in StackOverflow but no question has been answered as what I want actually.So that I posted again..So please dont mark it as duplicate javajson 4 2 回答 2 This answer is useful 2 Use Gson : it will be as simple as Gson gson = new GsonBuilder().create(); Answer a = gson.fromJson( response, Answer.class); System.out.println( a ); Gson is a powerfull open source library that allows an easy mapping from POJOs to Json, and the other way around. 于 2012-04-27T05:42:28.097 回答 This answer is useful 0 使用此代码 Type collectionType = new TypeToken<list<your_object>>() { }.getType(); List <your_object>your_Object = gson.fromJson(jsonString, collectionType); 希望这会帮助你。 于 2012-04-27T05:45:30.873 回答 Related 2 android - Android 重复警报管理器未触发 0 struts2-json-plugin - struts 2.3.8 有错误 7 c++ - char和CString有什么区别和关系 2 iphone - 将 View 1 设置为 UIscrollview 中的默认视图页面 8 javascript - 标点加载“动画”，javascript？ 1 objective-c - AXUIElementRef 和 A RC - 解除分配的实例和 __bridge 与 __bridge_transfer 0 php - GET 变量中的文件名会中断 PHP 会话 0 asp.net - 树视图的 selectednodechanged 事件不会触发 2 jquery - 使用 jQuery 从 iFrame 中的元素获取值 6 php - 数组到字符串 php Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</your_object></list<your_object></string></string></string></string>

> ID：10345303
> 
> 赞同：2
> 
> 时间：
> 
> 标签：java, json

I have written a web-service that should return a List of Questions The web-service is working fine and I am getting the response in JSON.

The JSON response is as follows:

```
 {
    "QuestionList": [{
        "answer": {
            "options": ["Andriod is a phone", "Android is a language", "Android is a new fast food", "Android is Mobile App Development Tool"]
        },
        "id": "0",
        "question": "What is Android?"
    }, {
        "answer": {
            "options": ["No", "Yes"]
        },
        "id": "1",
        "question": "Do you know Android?"
    }, {
        "answer": {
            "options": ["No", "Yes", "Yes", "Yes"]
        },
        "id": "2",
        "question": "Do you know Android?"
    }, {
        "answer": {
            "options": ["Interface is contract for a class", "It is class", "It is an abstract class", "none of the above"]
        },
        "id": "3",
        "question": "What is Interface?"
    }, {
        "answer": {
            "options": ["Sonia Gandhi", "Rahul Gandhi", "Manmohan Singh", "Pratibha Patil"]
        },
        "id": "4",
        "question": "Who is PM of India?"
    }, {
        "answer": {
            "options": ["Haryana", "Delhi", "Deheradun", "Darjeling"]
        },
        "id": "5",
        "question": "What is capital of India?"
    }, {
        "answer": {
            "options": ["Abstract Class is a pre defined class", "Partial Implementation of a class", "A class that as have atleast 1 abstract method"]
        },
        "id": "6",
        "question": "What is Abstract Class?"
    }]
 } 
```

Now I have to convert this response into a List

Here is the Question Class

```
public class Question {

    private int id;
    private String question;
    private Answer answer;

    public Question() {
        // TODO Auto-generated constructor stub
    }

    public Question(int id, String question, Answer answer) {
        setId(id);
        setQuestion(question);
        setAnswer(answer);
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getQuestion() {
        return question;
    }

    public void setQuestion(String question) {
        this.question = question;
    }

    public Answer getAnswer() {
        return answer;
    }

    public void setAnswer(Answer answer) {
        this.answer = answer;
    }

    @Override
    public String toString() {
        return "[ Question id: " + getId()
                + " Question: " + getQuestion()
                + " Answer: " + getAnswer() + " ]";
    }

} 
```

Here is the Answer Class

```
public class Answer {

    private List<String> options;

    public Answer() {
        // TODO Auto-generated constructor stub
    }

    public Answer(List<String> options) {
        setOptions(options);
    }

    public List<String> getOptions() {
        return options;
    }

    public void setOptions(List<String> options) {
        this.options = options;
    }

    @Override
    public String toString() {
        return "[ Options: " + getOptions() + " ]";
    }
} 
```

I am am not able to figure out how to convert the response to List Pls help...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T05:42:28.097

Use [Gson](http://code.google.com/p/google-gson/) : it will be as simple as

```
Gson gson = new GsonBuilder().create();
Answer a = gson.fromJson( response, Answer.class);
System.out.println( a ); 
```

Gson is a powerfull open source library that allows an easy mapping from POJOs to Json, and the other way around.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:45:30.873

使用此代码

```
 Type collectionType = new TypeToken<List<Your_Object>>() {
            }.getType();

 List<Your_Object> your_Object = gson.fromJson(jsonString, collectionType); 
```

希望这会帮助你。

# adobe - 具有拖放设计的 Adob e Dreamweaver 替代方案

> ID：10345305
> 
> 赞同：0
> 
> 时间：2012-04-27T05:38:54.423
> 
> 标签：adobe, dreamweaver, html-editor

有没有这么棒的 html 编辑器，具有拖放设计界面，相当于 Adob​​e Dreamweaver。

我用谷歌搜索了很多，比如 Komodo、Aptana、Coffee Cup。当然，这些都是很好的 html 编辑器，但它们没有设计界面，我们可以拖放 html 元素并对齐它们（我们可以通过 Dreamweaver 做什么）。

如果有任何适用于 Windows 操作系统的出色工具，您能否建议我。

提前致谢.....

**注意：**这个问题可能是重复的。但我已经在 StackOverflow 中看到了一些相关问题，但没有任何问题得到我真正想要的答案。所以我再次发布..*所以请不要将其标记为重复*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:42:18.793

[Microsoft Expression Web](http://www.microsoft.com/expression/products/Web_Overview.aspx) is what I feel is the only suitable alternate to dreamweaver. It has nearly all the features of dreamweaver.

# jquery - 切换 div 高度

> ID：10345311
> 
> 赞同：2
> 
> 时间：2012-04-27T05:39:22.957
> 
> 标签：jquery, drupal-7

我正在 Drupal 中建立一个站点。我想在 100% 和 200px 之间切换 div 元素的高度。我已经尝试过切换功能，但它不支持两个回调函数（在这种情况下很困惑）。

我尝试了检查 div 标签高度的标志，它将根据当前高度设置高度。因为，我有三个具有相同类的 div 标签，我希望这三个标签都具有这种切换功能，所以这个想法在这种情况下也失败了。

此外，当高度更改为 100% 时，它没有缓动效果，当高度更改为 200px 时，缓动效果起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:27:52.560

HTML：

```
<div class="target"> Hi </div>
<div class="target"> Hi 2</div>
<div class="target"> Hi 3</div>
<a href="#" id="button">Button</a> 
```

CSS：

```
.target {
    width: 100px;

}
.someClass {
    background: #f00;
} 
```

查询：

```
$("#button").click(function(){
    $("div.target").toggleClass("someClass",100);
    return false;
}); 
```

如果这对你来说还不够好，请检查这个，带有缓动效果：http: [//jsfiddle.net/6FwUf/4/](http://jsfiddle.net/6FwUf/4/)

编辑：我已经修改了你的代码，尝试这样做：

```
$("a.artist-page-read-more").toggle(
     function() {
         $(this).parents("div.panel-pane").siblings("div.panel-pane.pane-entity-field").find("div.field-items").animate({height: "100%"}, "slow");
     },
    function(){
         $(this).parents("div.panel-pane").siblings("div.panel-pane.pane-entity-field").find("div.field-items").animate({height: "200px"}, "slow");
       }   
   ); 
```

# php - Forcing Download of file using php script on CentOs 5.6

> ID：10345312
> 
> 赞同：0
> 
> 时间：2012-04-27T05:39:27.533
> 
> 标签：php

I need to authenticate user to view/download some of the files in my site. My files are located in a folder say A inside `public_html/mySiteName/FoldesName(A)/subFolder/sample.(*.*)`. I used `.htaccess` to check that the user is authenticated or not.

* * *

MY `.htaccess` code :

```
RewriteEngine on   # Enable rewrite
RewriteCond %{REQUEST_FILENAME} \.*pdf$|.*psd$|.*indd$ [NC]  
RewriteRule (.*) http://MySiteIp/admin_panel/auth.php?file=$1 [NC,L] 
```

My download script looks like :

```
if($authed){

    if(file_exists("../".$_GET['file'])) {
        //Create the pointer to our file and open it as read-only binary data
        $fp = fopen($file,'rb');

        // Send headers telling browser to download our passed data
        header("Content-Type: application/force-download");
        header("Pragma: no-cache");
        header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
        header("Content-Length: " . filesize($file));
        header("Accept-Ranges: bytes");
        header("Content-Disposition: attachment; filename=\"$file\"");
        while (!feof($fp)) {
            echo(@fgets($fp, 8192));
        } 

        //Here comes the data 
        fclose($fp);
        //and quit
        exit;
    } else {
        echo "No file exists !!!";
    }
} 
```

When I test it on my local machine with Xampp Server installed on it. It works. But on my host I get the error message "NO file exists".

Please help me to find where I am wrong...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:43:27.567

我猜你`echo "here"; die();`在问这个问题之前删除了。

任何人，您的本地计算机和网络主机上的文件结构是否相同？

该文件实际上在../中吗？也许尝试使用文件的完整路径？/home/youruser/public_html/ 或任何主机的目录结构。

# node.js - How to deliver notifications with Sockets on AWS?

> ID：10345313
> 
> 赞同：2
> 
> 时间：2012-04-27T05:39:27.943
> 
> 标签：node.js, notifications, amazon-web-services, socket.io, pyramid

I'm in a project where I need to create a notification system. It's for a website created with the Pyramid framework that runs on the AWS infrastructure (I think the server is apache or paste, not sure).

When a user follows something, all friends should instantly get a notification that states "X is now following Y". Therefore, I need a WebSocket server (maybe node.js or socket.io). If I do so I will have two servers running on the same EC2 instance (the web server and the socket server), but how can I pass the events/notifications from the web server to the socket server?

I guess there should be something in the middle, right? Something that AWS can offer me. Or is there a way to feed the socket server directly?

What would be a good approach for this situation?

A derivated question is: where is the best place to get the friend list that will recieve the notification? Should it be the web server or socket server?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T15:07:39.657

您需要在您的 2 个服务器前面有一个代理，它将根据 URL 或其他一些请求参数将请求委托给您的 Pyramid 应用程序或 node.js。

另一种选择是在 gevent 中运行 Pyramid 并利用[gevent_socketio](http://pypi.python.org/pypi/gevent-socketio/0.3.5-beta)在同一个应用程序中完成所有工作。

# c# - Pass parameter to OnClick event

> ID：10345314
> 
> 赞同：0
> 
> 时间：2012-04-27T05:39:41.210
> 
> 标签：c#, javascript, asp.net

I have an aspx page with a table. Each row in the table represents a row of data base table (which represents a place).

I need a way to pass to OnClick event (or another event) a parameter. I can't use the CommandArgument becouse then I will need to know the idPlace string and I just don't know it. I buld the table with FOR loop.

I need something like:

```
<asp:ImageButton ID="ImageButton1"
                     runat="server" 
                     ImageUrl="Maps.ico"
                     **CommandArgument = '<%=placesDataTable[0]%>'**         
                     /> 
```

The main idea that for each place (row) in the table there would be a link to map- a different page which would get the placeId and get the coordinates of the googleMap from another table in data base.

I'm working on it a couple of hours and it's frustrating.

Thanks, Hila

Here is some parts from the code:

```
<body dir="rtl">

    <form id="form1" runat="server" style="background-color:Fuchsia">

        <!-- Here I will display all the results:-->

        <p style="font-style:italic">Here are the results:</p>

        <table width="100%" border="1" cellpadding="0" cellspacing="0">
    <%
        System.Data.DataTable placesDataTable = (System.Data.DataTable)Session["PlacesDataTable"]; // The table of all the places from the dataBase.
        System.Data.DataRow rowOfPlace;
        for (int i = 0; i < placesDataTable.Rows.Count; i++)
        {             
         <tr>
         <%
             for (int j = 1; j < placesDataTable.Columns.Count; j++)
             {%>
                 <td>
                 <% Response.Write(rowOfPlace[j].ToString()); %>
                 </td>
             <%
             } // end FOR LOOP over the columns 
            // insert MAP column content:
            %>
                 <td>
                     <asp:ImageButton ID="ImageButton1"
                     runat="server" 
                     ImageUrl="Maps.ico"
                     CommandArgument = '<%placesDataTable[i]%>'         
                     />   
                 </td>
         </tr>
         <%
        }
         %>
    </table>

    </form>
</body> 
```

What I want is that when user clicks spesific row (place) I will go to OnClick event IN C# code with the SPECIFIC placeId- and there I'll connect to the data-base, get the coordinates of the place, and Respondr.Rediret to another aspx page- which displays the place on the map. I just need the placeId...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:22:22.897

您可以使用 Repeater itemcommand 事件来获取命令参数。

```
 <asp:ImageButton ID="ImageButton1"
                     runat="server" 
                     ImageUrl="Maps.ico"
                     CommandName="MapIt"
                     CommandArgument = '<%#Eval("ID")%>'         
                     />   

protected void rptComments_ItemCommand(object source, RepeaterCommandEventArgs e) {
    if(e.CommandName.ToLower().Equals("mapit")) {
        var id  = int.Parse(((ImageButton)e.CommandSource).CommandArgument);

    }
} 
```

有关更多详细信息，请查看

[http://dotnetrush.blogspot.com/2006/12/using-repeater-itemcommand.html](http://dotnetrush.blogspot.com/2006/12/using-repeater-itemcommand.html)

# iphone - 如何编写代码以从电话簿中选择选定的电话号码地址以从我的 iphone 应用程序发送消息

> ID：10345315
> 
> 赞同：0
> 
> 时间：2012-04-27T05:39:53.040
> 
> 标签：iphone, object, jailbreak, mfmailcomposeviewcontroller, mfmessagecomposeview

我已经实现了这样的发送短信代码......

**很好，但问题在于*选择收件人的号码***。

在我的代码中是在文本文件中输入的值，

但**我不想从电话簿联系人中获取号码。**

请如何检索此任何帮助

C`ontactNUMBER = NumbertxtField.text`

//发送短信按钮的方法

```
-(IBAction)sendSMS:(id)sender
{
     MFMessageComposeViewController *controller = [[[MFMessageComposeViewController alloc] init] autorelease];
    if([MFMessageComposeViewController canSendText])
    {

           controller.recipients = [NSArray arrayWithObjects: ContactNUMBER, nil];

           controller.body = messageBody.text;
           controller.messageComposeDelegate = self;
           [self presentModalViewController:controller animated:YES];
        }
} 
```

![在此处输入图像描述][1]

**//点击DiscloserButton**从电话簿中选择联系人的方法

 **-(IBAction)phoneBook_DiscloserButton *:* (id)sender

{

}

//消息编写器委托方法

```
- (void)messageComposeViewController:(MFMessageComposeViewController *)controller didFinishWithResult:(MessageComposeResult)result
{
    switch (result) {
        case MessageComposeResultCancelled:
            NSLog(@"Cancelled");
            break;

        case MessageComposeResultFailed:
        {
            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Sharing our app" message:@"Unknown Error"
                                                           delegate:self cancelButtonTitle:@"Ok"otherButtonTitles: nil];
            [alert show];
            [alert release];
        }
            break;

        case MessageComposeResultSent:

            break;
        default:
            break;
    }

    [self dismissModalViewControllerAnimated:YES];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:34:24.093

为了获取 iPhone 联系人，Apple 提供 ABPeoplePickerViewController**

# javascript - jQuery's css(), offset() and position() functions don't return decimal part of CSS properties

> ID：10345321
> 
> 赞同：1
> 
> 时间：2012-04-27T05:40:29.120
> 
> 标签：javascript, jquery, css

When I set a **CSS** property to a float value, like so:

```
​$('#div').css('left', 123.1234567 ); 
```

Inspecting #div in the DOM shows that left was set to `123.1234567px`, however all three of these:

```
console.log($('#div').css('left'), $('#div').position(), $('#div').offset() ); 
```

return the integer value of 123px.

Is **jQuery** trying to be too smart, or is it masking a frailty in the browsers? Do browsers support sub-pixel positioning of divs? Would they if I were using a canvas tag? ​</p>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-26T13:00:55.260

我相信这与 jQuery 中的已知错误有关。请参阅[http://bugs.jquery.com/ticket/9628](http://bugs.jquery.com/ticket/9628)。

我对 jQuery 的`height()`.

[为什么 jQuery 的 height() 会自动对值进行四舍五入？](https://stackoverflow.com/q/21777668/1982441)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-27T05:48:11.177

我不确定您的代码为什么不起作用，我在 JSFiffle 上尝试过的代码似乎运行良好。

[http://jsfiddle.net/JBDkr/2/](http://jsfiddle.net/JBDkr/2/)

# c - OpenGL 是否向后兼容 OpenGL ES？

> ID：10345323
> 
> 赞同：6
> 
> 时间：2012-04-27T05:40:36.053
> 
> 标签：c, opengl, opengl-es

OpenGL ES 声称是 OpenGL 的子集，这在理论上意味着任何 OpenGL ES 程序都可以在 PC 上像普通的 OpenGL 一样运行；但是，似乎 OpenGL ES 对某些函数（`glOrtho`vs `glOrthof`）的命名约定略有不同。这有关系吗？OpenGL ES 应用程序是否仍然可以使用开箱即用的 OpenGL GPU/驱动程序或仅重新编译？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-27T07:23:17.817

> OpenGL ES 应用程序是否仍然可以使用开箱即用的 OpenGL GPU/驱动程序或仅重新编译？

~~不。~~有点，但既然你提出来了`glOrtho`，这意味着你在谈论 ES 1.x 而不是 2.x，不是为你准备的。ES 3.0 加入了一些新的东西；详情见底部。

OpenGL ES 1.x 不是任何版本的 OpenGL 的子集。它们是一些非常显着的差异。你可能，*也许*能够编码到一个共同的子集，但你会扔掉很多东西来做这件事。在两个平台上。

ES 2.x 与桌面 GL 2.1 有更多的相似之处，但它仍然不是一个适当的子集。例如`glTexImage2D`具有完全不同的行为。在桌面 GL 下，最后三个参数不影响纹理的实际格式。在 ES 2.0 下，它们*定义*了纹理的实际图像格式。您可以编写一个有效的`glTexImage2D`命令，在 ES 2.0 和桌面 GL 2.1 下执行相同的操作，但是在桌面 GL 下执行此操作会浪费很多东西（例如选择大小合适的内部格式）。

话虽如此，您通常可以使用抽象来封锁 API 差异。使用 ES 2.0 会遇到的大问题是 GLSL。

GLSL ES 添加了几个新关键字，特别是精度限定符。Desktop GLSL 1.20（与 GL 2.1 配对）没有这些关键字。桌面 GLSL 1.30 和更高版本*可以*，但这些都绑定到 GL 3.0*硬件*。因此，很难为 ES 2.0 编写一个无需修改即可在桌面 GL 2.1 硬件上运行的着色器。

这当然不是不可克服的。一些明智的#defines，它们本身可以针对不同的语言进行#ifdef，可以使这变得相当简单。但是您仍然必须找到所有这些案例。

最近发布的 OpenGL ES 3.0 也不是 OpenGL 3.3 的真子集，但它比 ES 2.0 更接近。真正重要的是 GLSL 3.30 几乎与 GLSL ES 3.00 相同。因此，您可以更轻松地在两者之间交换着色器。

There are certain limits in ES 3.0 that aren't in 3.3, but generally these are easily avoidable (and using most of them is bad practice anyway). And some of the features of ES 3.0 aren't technically in GL 3.3, but they are in commonly-available core extensions to GL 3.3 (such as ARB_texture_storage, and there's the ES3_compatibility extension to increase compatibility). But it's a lot easier to work with now that `glTexImage2D` actually works the same way between the two cases. Now, interop is more a matter of avoiding functionality not available to both.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-27T06:42:06.767

当前版本的 OpenGL (4.x) 和 OpenGL ES (2.x) 是相似的，尽管存在足够的差异，仅通过重新编译移植代码就无法工作。正如@Nicol Bolas 指出的那样，OpenGL 中有许多功能甚至在 OpenGL ES 中都不存在，而一些 API 的行为略有不同。此外，平台支持非常不同（即设置渲染上下文等）。

OpenGL ES 2.0 实际上并不向后兼容 1.x，因为模型从旧的立即模式样式（如 OpenGL 2.1 和更早版本中所奉行的）更改为更现代的基于着色器的模型。

OpenGL v3 和 v4 弃用了许多不合时宜的 2.x 功能，尽管主要驱动程序保留了兼容模式以继续这种较旧的支持。

OpenGL 4.x 中的[GL_ARB_ES2_compatibility 扩展](http://www.opengl.org/registry/specs/ARB/ES2_compatibility.txt)有助于将桌面版和移动版更紧密地结合在一起，以简化可移植性。

`glOrtho`像vs这样的细微差别`glOrthof`显然很容易管理，但是您需要为其他功能编写包装器。

# python - SQLAlchemy: create an intentionally empty query?

> ID：10345327
> 
> 赞同：35
> 
> 时间：2012-04-27T05:41:19.400
> 
> 标签：python, sqlalchemy

What's the best way to create an intentionally empty query in SQLAlchemy?

For example, I've got a few functions which build up the query (adding `WHERE` clauses, for example), and at some points I know that the the result will be empty.

What's the best way to create a query that won't return any rows? Something like Django's `QuerySet.none()`.

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-10-11T10:02:45.850

如果您需要正确的返回类型，只需 return `session.query(MyObject).filter(sqlalchemy.sql.false())`。

评估时，这仍然会影响数据库，但应该很快。

如果您没有“查询”的 ORM 类，您也可以使用`false()`它： `session.query(sqlalchemy.false()).filter(sqlalchemy.false())`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2020-03-19T09:56:38.227

```
db_session(YourModel).query.filter(False) 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-04-27T17:23:48.687

根据[http://www.mail-archive.com/sqlalchemy@googlegroups.com/msg25783.html](http://www.mail-archive.com/sqlalchemy@googlegroups.com/msg25783.html)，截至 2011 年 12 月 11 日，SQLAlchemy 中没有`EmptyQuery`类型对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-10T11:08:43.190

使用 python 的`True`布尔文字：

```
_and(True, some_other_query, True, True) 
```

是相同的：

```
some_other_query 
```

# android - How to bind Data from database to customised listview

> ID：10345331
> 
> 赞同：0
> 
> 时间：2012-04-27T05:41:35.743
> 
> 标签：android, listview

I have created a database with 3 fields. I need to Bind these datas to the textboxes in my customised listview.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:16:26.407

试试这个例子：类文件->

```
public class SimpleDBExActivity extends Activity {
/** Called when the activity is first created. */
DataBaseHelper dbHelper;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    final ListView list = (ListView) findViewById(R.id.lis1);
    this.dbHelper=new DataBaseHelper(SimpleDBExActivity.this);
    dbHelper.insert("121", "some text111");
    dbHelper.insert("122", "some text222");
    dbHelper.insert("123", "some text333");
    dbHelper.insert("124", "some text444");

    ArrayList<String> resultsArr = dbHelper.getAllMsgs();
    list.setAdapter(new MyCustomBaseAdapter(this, resultsArr));
}}
class MyCustomBaseAdapter extends BaseAdapter {  
private static ArrayList<String> searchArrayList;

private LayoutInflater mInflater;
public MyCustomBaseAdapter(Context context, ArrayList<String> results) {
    searchArrayList = results;
    mInflater = LayoutInflater.from(context);
}

public int getCount() {
    return searchArrayList.size();
}

public Object getItem(int position) {
    return searchArrayList.get(position);
}
public long getItemId(int position) {
    return position;
}
public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder holder;
    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.listrow, null);
        holder = new ViewHolder();
        holder.text = (TextView) convertView.findViewById(R.id.textID);
        convertView.setTag(holder);
    } else {
        holder = (ViewHolder) convertView.getTag();
    }       
    holder.text.setText(searchArrayList.get(position));
    return convertView;
}
static class ViewHolder {
    TextView text;
}} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:19:33.007

这是数据库类 DataBaseHelper.java

```
public class DataBaseHelper  extends SQLiteOpenHelper{

private static final String DB_NAME="SampleMsgDb";
private static final String TABLE="SampleTABLE";
private static final int DB_VERSION=1;
private static final String COLUMN1="received_Time";
private static final String COLUMN2="col1";
private static final String COLUMN3="col2";
private  Context myContext;
private SQLiteDatabase myDataBase;
DataBaseHelper dbHelper;

public DataBaseHelper(Context context) {
    super(context, DB_NAME, null, DB_VERSION);
    myContext=context;
}
@Override
public void onCreate(SQLiteDatabase db) {
    // TODO Auto-generated method stub
    String sql = "create table " + TABLE + "( "+ COLUMN1 + " integer , " + COLUMN2 + " text not null, "
            + COLUMN3 + " text not null);";
    Log.d("EventsData", "onCreate: " + sql);
    db.execSQL(sql);
}
@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // TODO Auto-generated method stub
    if (oldVersion >= newVersion)
        return;

    String sql = null;
    if (oldVersion == 1) 
        sql = "alter table " + TABLE + " add note text;";
    if (oldVersion == 2)
        sql = "";

    Log.d("EventsData", "onUpgrade  : " + sql);
    if (sql != null)
        db.execSQL(sql);
}
public void insert(String number, String message) {
    dbHelper=new DataBaseHelper(myContext);
        SQLiteDatabase db = dbHelper.getWritableDatabase();
        ContentValues values = new ContentValues();
        values.put(DataBaseHelper.COLUMN1, System.currentTimeMillis());
        values.put(DataBaseHelper.COLUMN2, number);
        values.put(DataBaseHelper.COLUMN3, message);
        db.insert(DataBaseHelper.TABLE, null, values);
        System.out.println("inserted success");
        db.close();
        if (myDataBase != null)
            myDataBase.close();

      }
  @SuppressWarnings("null")
public ArrayList<String> getAllMsgs(){
      ArrayList<String> finalResArr = null;
      String result = "";
      String resultQuery = "select * from " + TABLE + "";
      dbHelper =  new DataBaseHelper(myContext);
      SQLiteDatabase db = dbHelper.getReadableDatabase();
      Cursor cursor = db.rawQuery(resultQuery, null);
      finalResArr = new ArrayList<String>();
      if (cursor.moveToFirst()) {
            do {
                result = cursor.getString(1)+":"+cursor.getString(2);
                finalResArr.add(result);
            } while (cursor.moveToNext());

        }
       db.close();
        if (cursor != null && !cursor.isClosed()) {
            cursor.close();
        }
    return finalResArr;

  }
 @Override
    public synchronized void close() {
      super.close();
        if (myDataBase != null)
            myDataBase.close();

    }} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:24:14.037

在 main.xml

```
 <ListView android:id="@+id/lis1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"></ListView> 
```

在 listrow.xml 中

```
<TextView android:id="@+id/textID"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#ffffff"/> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T09:02:05.567

```
 Cursor c = mydbhelper.getAllCategories();
        startManagingCursor(c);

 // Create an array to specify the fields we want to display in the list (TITLE,DATE,NUMBER)

 String[] from = new String[] {dbadapter.KEY_CATEGORYDESC};

    // an array of the views that we want to bind those fields to (in this case text1,text2,text3)
    int[] to = new int[] {R.id.text1};

    // Now create a simple cursor adapter and set it to display
    SimpleCursorAdapter adapter = 
        new SimpleCursorAdapter(this, R.layout.cate_row, c, from, to);
    setListAdapter(adapter);
    } 
```

# visual-studio - Azure - Visual Studio 没有足够的权限来调试此进程。要调试此过程，Visual Studio 必须以管理员身份运行

> ID：10345335
> 
> 赞同：2
> 
> 时间：2012-04-27T05:41:57.170
> 
> 标签：visual-studio, debugging, azure

我通过右键单击打开了 Visual Studio 2010，然后单击“以管理员身份运行”选项。然后我在 Visual Studio 中打开了 azure 解决方案项目。按 F5 我收到以下消息：

> ## 适用于 Microsoft Visual Studio 的 Windows Azure 工具
> 
> [为角色“deployment16(89) .projectname.instancename_IN_0_Web](https://127.255.0.0:446/) ”实例将调试器附加到 IIS 工作进程时出错，无法在 Web 服务器上开始调试。Visual Studio 没有足够的权限来调试此进程。要调试此过程，Visual Studio 必须以管理员身份运行。

我是机器的域用户，也是机器的本地管理员组。在我的机器上，我有 Windows 7 Ultimate 64 位。Visual Studio 2010 高级版。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T00:48:58.150

如果您安装了 VSCommands，请确保`Tools -> VSCommands -> Options -> General -> Start with Medium Integrity Level`未选中它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:44:03.153

我认为您应该由系统管理员添加到 Debugger Users 组。

编辑：右键单击我的电脑，管理 -> 本地用户和组 -> 组 -> 调试器用户，如果您不能向域管理员询问，您应该尝试将自己添加到组中。如果您正在远程调试，则必须在目标机器上执行相同的操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T08:23:27.017

造成这种情况的潜在原因之一：域安全策略将覆盖本地安全策略。我认为您有两种选择：

1.  调试时离开域，以便本地管理员可以设置本地策略。
2.  请与您的 IT 部门联系，让域管理员为您更改安全策略。

# javascript - How do correctly integrate a jQuery Table with a Pyramid Template?

> ID：10345338
> 
> 赞同：2
> 
> 时间：2012-04-27T05:42:13.643
> 
> 标签：javascript, jquery, python, pyramid, deform

I have a jQuery table plugin (that is given data from a python script) that I want to add to my pyramid template, although when I run my instance and view the rendered webpage from the template my widget does not show up. I the only thing I can imagine to do is to use deform to make sure that the jQuery can get the correct resources that are linked in the header of the template. Except I am unsure of how I integrate deform to solve my problem.

Here is my **init**.py:

```
from pyramid.config import Configurator
from sqlalchemy import engine_from_config

from .globals import Session, Base

def main(global_config, **settings):
    """ This function returns a Pyramid WSGI application.
    """
    engine = engine_from_config(settings, 'sqlalchemy.')
    Session.configure(bind=engine)
    Base.metadata.bind = engine
    Base.metadata.reflect()

    config = Configurator(settings=settings)
    config.add_static_view('static', 'static/', cache_max_age=3600)
    #config.add_static_view('static', 'deform:static')
    config.add_route('Building', '/Building')
    config.add_route('home', '/')
    config.scan()
    return config.make_wsgi_app() 
```

Here is my template file 'mytemplate.pt':

```
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" >
<head>
    <link rel="stylesheet" href="../static/pylons.css" type="text/css" media="screen" charset="utf-8" />
    <link rel="stylesheet" href="../static/JQueryPlugins/Flexigrid/css/flexigrid.pack.css" type="text/css" media="screen" charset="utf-8" />

    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/JQueryPlugins/Flexigrid/js/flexigrid.pack.js"></script>

</head>
<body>

<div id="container">
<div id="logo"><img src="../static/banner.png" alt="Logo" height="117" width="619" /> </div>
<div id="leftcolumn">
  <ul class="navBar">
  </ul>
</div>
<div id="rightcolumn">
<h1>Physical Plant</h1>
<br />
<script type="text/javascript">
$(".table_id").flexigrid({
    url: '',
    dataType: '',
    colModel : [
        {display: 'ID', name : 'id', width : 40, sortable : true, align: 'center'},
        {display: 'Name', name : 'name', width : 180, sortable : true, align: 'left'},
        ],
    searchitems : [
        {display: 'ID', name : 'id'},
        {display: 'Name', name : 'name', isdefault: true}
        ],
    sortname: "id",
    sortorder: "asc",
    usepager: true,
    title: 'Buildings',
    useRp: true,
    rp: 15,
    showTableToggleBtn: true,
    width: 700,
    height: 200
});   
</script>
<table class="table_id">
<div id="datacolumn" tal:replace="structure data" />

</table>

<script type="text/javascript">
   deform.load()
</script>
</div>
</body>
</html> 
```

Here is my view.py:

```
import csv
import deform
from pyramid.config import Configurator
from pyramid.response import Response
from pyramid.view import view_config
from .globals import Session, Base
from sqlalchemy.exc import DBAPIError

from .KeyDatabase import Building
session = Session()
config = Configurator()
"""
form = deform.Form(someschema)
resources = form.get_widget_resources()
js_resources = resources['js']
css_resources = resources['css']
js_links = [ '%s' % r for r in js_resources ]
css_links = [ 'http://my.static.place/%s' % r for r in css_resources ]
js_tags = ['<script type="text/javascript" src="%s"></script>' % link
           for link in js_links]
css_tags = ['<link rel="stylesheet" href="%s"/>' % link
           for link in css_links]
tags = js_tags + css_tags
return {'form':form.render(), 'tags':tags}
"""
def list_entity(entity_class):
    table = ""
    header = False

    for entity in session.query(entity_class):
        if not header:
            table += entity.table_header() + " \n "
            header = True
        table += entity.table_row() + " \n "

    table += ""
    return table

#@view_config(route_name='home', renderer="templates/mytemplate.pt")
#def my_view(request):
#return {'project':'MyProject'}

@view_config(route_name='home', renderer="templates/mytemplate.pt")
def list_Building(request):
    try:
        return{'data':list_entity(Building)}
    except DBAPIError:
        return Response(conn_err_msg, content_type='text/plain', status_int=500) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T07:02:54.073

我看不出 Deform 与您的问题有何关系 - 看起来您只需要修复模板中 JS 文件的路径即可。

```
<head>
    <link rel="stylesheet" href="/static/pylons.css" type="text/css" media="screen" charset="utf-8" />
    <link rel="stylesheet" href="/static/JQueryPlugins/Flexigrid/css/flexigrid.pack.css" type="text/css" media="screen" charset="utf-8" />

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/static/JQueryPlugins/Flexigrid/js/flexigrid.pack.js"></script>

</head> 
```

使用 Firebug 或其他工具检查所有资源是否正确加载

# jquery - JQuery - 除了按钮+提交之外的一切

> ID：10345339
> 
> 赞同：0
> 
> 时间：2012-04-27T05:42:14.967
> 
> 标签：jquery, jquery-selectors

我有一个 jquery 确认（“您确定要在保存前离开吗？”），当文本框或文本区域已更改时，它将“isModified”设置为 true。现在的问题是，当我按下按钮（保存..）时，确认显示。

有没有办法让它在按下按钮时跳过确认？

```
// Confirm leaving page
var isModified = false;
var modifiedMsg = 'Are you sure?';

$('textarea,input').change(function(){
    if(!isModified){
        isModified = true;
      }
  });        

window.onbeforeunload = function(){
    if(isModified){
        return modifiedMsg;
     }
  }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:46:55.043

实际上，如果您的按钮也是`input type="submit"`，它将有资格进入选择器。您可以通过使用带有属性的选择器来指定

`$('textarea,input[type=text]')`

或使用不过滤`input[type=submit]`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:49:48.477

试试这个

```
$('textarea,input[type!="submit"],input[type!="button"]') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T06:21:35.013

看起来您正在尝试进行脏检查。您可能需要进行以下更改：

而不是试图捕捉按下了哪些按钮，您真正关心的是（我假设）是您提交表单的时间？

```
$('form').submit(function(e) {
   isFormSubmitting = true;
}); 
```

然后在你的脏检查上，确保两者都进行了相应的设置。只使用一个标志是危险的，因为提交表单可以消除脏状态。

```
$(window).unload(function(e) {
    if(isModified && !isFormSubmitting){
        return modifiedMsg;
     }
}); 
```

# java - Java中对象的命名约定

> ID：10345344
> 
> 赞同：14
> 
> 时间：2012-04-27T05:42:41.600
> 
> 标签：java, naming-conventions

2 年前，我开始使用 Java 编程。当时我们项目中的前辈建议我将“obj”附加到正在创建的对象的名称中。

前任：

```
Car objCar = new Car("Ferrari"); 
```

这`objCar`就是我所说的。但是 Stack Overflow 的许多人反对它，现在我发现这不应该是对象命名的方式。我很清楚使用集合时的命名约定，但是当创建通用类的对象时我很困惑。

任何人都可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-04-27T05:44:53.883

就叫吧`car`。 Sun/Oracle 不使用[匈牙利符号。](http://en.wikipedia.org/wiki/Hungarian_notation)

以描述其*用途*的方式命名您的变量。但是你不需要在变量名中指明类型。您已经在变量声明中指定了类型。如果您将鼠标悬停在 IDE 上，IDE 将向您显示变量的类型，以便始终可以随时获取信息。

您应该使用`lowercaseStartingCamelCase`变量名和方法名，以及`UppercaseStartingCamelCase`类名。

如果你想了解 Sun/Oracle 是如何做事的，你可以阅读他们[的 Java Programming Language 代码约定](http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-27T06:09:37.700

你的例子有点太琐碎了。实际上，您永远不会将对象类型“Car”的字段命名为“car”。同样，您永远不会将“整数”类型命名为“整数”。

相反，使用名称告诉读者该字段的用途。一些例子：

```
private Transport preferredTransportMethod;

private int invoiceCounter; 
```

不常用的前缀字段类型是Java。但是，类成员有时会以小写“m”作为前缀，以防止在 setter 方法中意外自分配。

```
private long mTripDurationMillis; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-27T05:45:33.480

将您的对象命名为它们是什么，它使阅读和重构更容易。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-27T05:47:08.273

java中对象的命名约定只是名称。例如

```
Car car = new Car("Ferrari"); 
```

匈牙利符号的残余已被放弃，主要是因为 IDE 为导航提供了额外的支持。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-27T05:53:40.793

小写字母的类名是 Sun/Oracle 标准。

当你在一家公司工作时，

根据项目命名约定，它可能会有所不同。

```
Car car=new Car(); //good to follow 
```

如果是[单例模式](http://en.wikipedia.org/wiki/Singleton_pattern)，你可以给如下的名字

```
 private static final Car singletonCar=new Car(); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-04-27T05:53:23.900

作为资深人士，毕竟我可以建议您一些与您的疑问相关的命名约定。我们知道所有的类名都以第一个大写字母开头，假设当我们需要创建这个类的对象时，类“MyTest”应该是“mytest”。对象名称应采用此格式。根据雅加达项目宣言，我发现了这种类型的对流，如下所示。除了 jakarta，Sun API 包括用于开发的 IDE 也都在使用它。希望对您有所帮助。是的，我是新手。感谢您提供的有用信息。

# asp.net - how to send html templates in asp.net 4.0

> ID：10345345
> 
> 赞同：0
> 
> 时间：2012-04-27T05:42:52.113
> 
> 标签：asp.net, wcf, c#-4.0

```
Emailservicerequest.Email = new Email();
            Emailservicerequest.Email.FromEmail = Insertcampaignrequest.Campaign.SenderAddress;
            Emailservicerequest.Email.ToEmail = Insertcampaignrequest.Campaign.RecipientsFilter;
            Emailservicerequest.Email.Subject = Insertcampaignrequest.Campaign.Subject;

           // Emailservicerequest.Email = true;

            Emailservicerequest.Email.Body = Convert.ToString(MailFormat.Html);
            Emailservicerequest.Email.Body = "Provider/EmailTemplate/email.html";
 Emailserviceresponse=Emailservice.SendEmail(Emailservicerequest); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:48:17.173

在 Asp.net 4.0 中，您应该使用 T4 模板来创建电子邮件模板。它简单且易于管理。

更多信息 [http://asmiki.com/2011/05/20/using-t4-templates-for-compiling-net-email-templates/](http://asmiki.com/2011/05/20/using-t4-templates-for-compiling-net-email-templates/)

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:50:55.493

要将您的 HTML 文件转换为字符串，以便您可以将其设置为电子邮件对象的正文值，您可以使用以下函数：

```
public string ReturnHTML(string Path)
     {
         string strBody = "";
         try
            {
                StreamReader objReader = new StreamReader(Path);
                strBody = objReader.ReadToEnd();
                objReader.Close();
            }
         catch (Exception ex)
            {
                strBody = "";
                throw ex;
            }
            return strBody;
     } 
```

在您的代码中调用上述函数

```
string path = Server.MapPath(ConfigurationManager.AppSettings["NoticeApprovalPath"].ToString());
string tempStr = cmm.ReturnHTML(path);
tempStr = tempStr.Replace("[xxxNoticeIDxxx]", Convert.ToString(RequestID)); 
```

replace 函数用于替换 HTML 模板中的值：

这里`[xxxNoticeIDxxx]`是替换为`RequestID`包含数据的值变量。

# objective-c - 收到内存警告 Phonegap 应用程序崩溃

> ID：10345348
> 
> 赞同：0
> 
> 时间：2012-04-27T05:43:24.337
> 
> 标签：objective-c, xcode, html, jquery-mobile, cordova

我正在使用 jQuery mobile 为 iPad 开发 phonegap 应用程序。收到此消息“收到内存警告”时，我的应用程序崩溃..

请帮我。？

谢谢

我正在使用 phonegap(cordova-1.6.0) 、jQuery mobile 1.6.4 和 IOS 5.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T13:07:22.317

关闭手机并重新打开。然后再次通过 Xcode 运行，查看消息是否消失。如果它消失了，那么您或 phonegap 库可能会锁定一些内存。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-12T14:04:12.370

因为 ipad 1 的性能与 ipad 2 和 3 不同；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-25T11:41:48.060

这个问题仍然存在于您的应用程序中，它可以在 iPad 2 和 3 上运行的唯一原因是因为它们有更多的内存。

我建议您在包装器中查看内存管理，因为您不能依靠硬件来掩盖软件中的缺陷——如果您继续沿着轨道前进，它只会变得更糟。

*   发布此内容是为了避免向传入的流量显示不正确的正确答案。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-11-01T08:48:01.503

其实这个问题不是phonegap。我用的是 iPad 1。我认为它的 iPad1 有问题。当我在 iPad 2 和 iPad3 上测试时，没有显示。

* * *

## 回答 #5

> 赞同：-4
> 
> 时间：2012-04-27T06:10:34.447

“收到内存警告”意味着您正在使用过多的内存。

要解决此问题，您应该修改程序以使用更少的内存。

* * *

是的，这个答案有点滑稽。但是，没有任何代码、任何架构信息、任何用户界面信息或任何其他细节，这与您将得到的答案一样好。

# hadoop - Can a mapper know how many mappers are running?

> ID：10345351
> 
> 赞同：0
> 
> 时间：2012-04-27T05:43:32.853
> 
> 标签：hadoop, mapreduce, cloudera

In a hadoop Map-Reduce framework, when an application is running, is it possible to know the number of workers running in the program. The number of workers is same as the number of file splits so in other words, is it possible to know the number of file splits dynamically?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T10:30:18.693

The total number of map tasks and reducer tasks that make up the job can be queried via the `mapred.map.tasks` and `mared.reduce.tasks` configuration properties (once your job has been submitted).

If you look through the source, you can see this being set in `org.apache.hadoop.mapred.JobClient:784` (and yes it's the same number of splits)

```
// Create the splits for the job
LOG.debug("Creating splits at " + fs.makeQualified(submitSplitFile));
int maps;
if (job.getUseNewMapper()) {
  maps = writeNewSplits(context, submitSplitFile);
} else {
  maps = writeOldSplits(job, submitSplitFile);
}
job.set("mapred.job.split.file", submitSplitFile.toString());
job.setNumMapTasks(maps); // here is where mapred.map.tasks is set 
```

# c# - 如何使用反射调用方法

> ID：10345352
> 
> 赞同：1
> 
> 时间：2012-04-27T05:43:34.633
> 
> 标签：c#

我想知道如何在 c# 中使用 Reflection 调用这些方法。

这是我从书中挑选的代码

> ```
> using System;
> using System.Reflection;
> class MyClass {
> int x;
> int y;
> public MyClass(int i, int j) {
> x = i;
> y = j;
> }
> public int Sum() {
> return x+y;
> }
> public bool IsBetween(int i) {
> if((x < i) && (i < y)) return true;
> else return false;
> }
> public void Set(int a, int b) {
> Console.Write("Inside Set(int, int). ");
> x = a;
>       y = b;
> Show();
> }
> // Overload set.
> public void Set(double a, double b) {
> Console.Write("Inside Set(double, double). ");
> x = (int) a;
> y = (int) b;
> Show();
> }
> public void Show() {
> Console.WriteLine("Values are x: {0}, y: {1}", x, y);
> }
> public void Show1() {
> Console.WriteLine("Hello");
> } 
> }
> class InvokeMethDemo {
> static void Main() {
> Type t = typeof(MyClass);
> MyClass reflectOb = new MyClass(10, 20);
> int val;
> Console.WriteLine("Invoking methods in " + t.Name);
> Console.WriteLine();
> MethodInfo[] mi = t.GetMethods();
> // Invoke each method.
> foreach(MethodInfo m in mi) {
> // Get the parameters.
> ParameterInfo[] pi = m.GetParameters();
> if(m.Name.Equals("Set", StringComparison.Ordinal) &&
> pi[0].ParameterType == typeof(int)) {
> object[] args = new object[2];
> args[0] = 9;
> args[1] = 18;
> m.Invoke(reflectOb, args);
> }
> else if(m.Name.Equals("Set", StringComparison.Ordinal) &&
> pi[0].ParameterType == typeof(double)) {
> object[] args = new object[2];
> args[0] = 1.12;
> args[1] = 23.4;
> m.Invoke(reflectOb, args);
> }
> else if(m.Name.Equals("Sum", StringComparison.Ordinal)) {
> val = (int) m.Invoke(reflectOb, null);
> Console.WriteLine("sum is " + val);
> }
> else if(m.Name.Equals("IsBetween", StringComparison.Ordinal)) {
> object[] args = new object[1];
> args[0] = 14;
> if((bool) m.Invoke(reflectOb, args))
> Console.WriteLine("14 is between x and y");
> }
> else if(m.Name.Equals("Show", StringComparison.Ordinal)) {
> m.Invoke(reflectOb, null);
> 
> }
> else if(m.Name.Equals("Show1", StringComparison.Ordinal)) {
> m.Invoke(reflectOb, null);
> }         
> }
> }
> } 
> ```

1.  是根据传递的参数的数量和类型调用的方法吗？如果是那么为什么

编译器不显示错误，因为 **same 语句用于调用方法 show 和

显示1**？

或者

1.  该方法是根据 m (MethodInfo m)**的一些参考值****和参数个数来调用的。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:47:22.777

您可以使用 MethodBase 类调用方法。

使用指定的参数调用当前实例表示的方法或构造函数。请参阅此链接[Method Invoking in Reflection](http://msdn.microsoft.com/en-us/library/a89hcwhh.aspx)

# python - 无法在 Centos 5.8 中安装最新版本的 PIL

> ID：10345364
> 
> 赞同：0
> 
> 时间：2012-04-27T05:44:38.217
> 
> 标签：python, python-imaging-library

我无法在我的 Centos 5.8 x64 上安装 PIL。我尝试使用 pip install PIL 命令安装它。但它遇到 gcc 错误。请看下面的错误片段：

```
_imagingft.c:475: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token

_imagingft.c:502: error: old-style parameter declarations in prototyped function definition

/usr/include/freetype2/freetype/freetype.h:1574: error: parameter name omitted

_imagingft.c:502: error: expected ‘{’ at end of input

error: command 'gcc' failed with exit status 1

----------------------------------------
Command /usr/local/bin/python -c "import setuptools;__file__='/home/acresearch/downloads/py-modules/PIL/build/PIL/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --single-version-externally-managed --record /tmp/pip-tHfjOz-record/install-record.txt failed with error code 1 in /home/acresearch/downloads/py-modules/PIL/build/PIL
Storing complete log in /root/.pip/pip.log 
```

我已经检查过是否已经安装了 python-devel、libjpg 和 libpng（在我读过的一些链接上提到了可能的解决方案），是的，它们已安装。但是，仍然会出现错误。

关于如何解决这个问题的任何想法？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-29T21:16:42.593

你好我有同样的问题首先安装这个解决了

```
yum install gcc 
```

现在你可以安装 PIL

```
pip install PIL 
```

# java - SecurityException：没有用于签名文件条目的清单部分

> ID：10345371
> 
> 赞同：5
> 
> 时间：2012-04-27T05:44:57.240
> 
> 标签：java, ant, jar

我的 lib 文件夹中有所有 jar，但我不知道哪些 jar 已签名，它包含许多 selenium jar。我的 build.xml 是：

```
 <jar basedir="bin" destfile="build/xpath.jar">
        <zipgroupfileset dir="lib" includes="*.jar">
            <exclude name="**/*.RSA, **/*.SF, **/*.DSA"/>
            </zipgroupfileset>
        </jar> 
```

但是当我将它用于另一个项目时出现以下异常：

> 线程“主”java.lang.SecurityException 中的异常：sun.security.util.SignatureFileVerifier.verifySection(SignatureFileVerifier.java:392) 处的签名文件条目 org/bouncycastle/asn1/ocsp/ResponderID.class 没有清单部分。 security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:249)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T16:55:10.467

额外的签名元数据包含在 META-INF/MANIFEST.MF 中。我希望来自已签名 JAR 之一的 MANIFEST.MF 包含在您的聚合 xpath.jar 中。也尝试排除 MANIFEST.MF 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-11T14:58:04.743

像这样的东西可能对你有用。

```
<jar destfile="build/xpath.jar" basedir="bin">
    <restrict>
        <not>
            <or>
                <name name="**/*.RSA"/>
                <name name="**/*.SF"/>
                <name name="**/*.DSA"/>
            </or>
        </not>
        <archives>
            <zips>
                <fileset dir="lib" includes="**/*.jar"/>
            </zips>
        </archives>
    </restrict>
</jar> 
```

[我从http://ant.apache.org/manual/Tasks/jar.html](http://ant.apache.org/manual/Tasks/jar.html)的“合并档案”部分下的示例改编了这个。

# php - php mysqli 对象搜索和排序

> ID：10345372
> 
> 赞同：0
> 
> 时间：2012-04-27T05:45:02.950
> 
> 标签：php, arrays, search, object, mysqli

使用 php 5.3 和 mysqli 我从一个只有用户名的查询中返回一个结果集，比如

```
$query_username = "SELECT username FROM some_table WHERE param = 1";
$username =  $mysqliObject->query($query_username);

while($row_username = $username->fetch_object()){
print "<br>Username: $row_username->username";
} 
```

很好，但这是我的问题，有重复的用户名，而且我不知道事先查询中会出现哪些名称，可能是 bob、sue、james。或者它可能是汤姆，迪克，哈利，汤姆。我需要做的是打印出每个用户名以及它在这个对象中出现的次数。出于非常奇怪的原因，我不能在查询中使用诸如 group by 和 count(*) 之类的简洁的东西（不要问它真的很奇怪）。所以我的问题是，遍历返回的对象（或关联数组，如果需要）以获取每个唯一名称及其出现次数的最快方法是什么。感谢您的帮助，如果这是一个新生 CS 问题，我深表歉意，我是自学成才，总是填补空白！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:14:57.110

例如

```
$users = array();
while( false!==($row=$result->fetch_array()) ){
    if ( isset($users[$row['username']]) ) {
        $users[$row['username']] += 1;
    }
    else {
        $users[$row['username']] = 1;
    }
}
asort($users); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:18:17.127

如果您真的**必须**在 PHP 端执行此操作而不是使用`GROUP BY`子句：

```
while($row_username = $username->fetch_object())
{
    if(isset($usernames[$row_username['username']]))
    {
        $usernames[$row_username['username']]++;
    }
    else
    {
        $usernames[$row_username['username']] = 1;
    }
}

asort($usernames);
// use ksort() to sort by username instead of the count

// print out the usernames
foreach($usernames as $username => $count)
{
    echo $username . ", count: " . $count;
} 
```

# android - 使用来自其他应用程序的意图

> ID：10345374
> 
> 赞同：0
> 
> 时间：2012-04-27T05:45:11.070
> 
> 标签：android, android-intent

我想在我的 android 应用程序中显示“选择文件夹”意图，因此使用 OpenIntents FileManager 意图（请参阅[在 Android 设备上选择文件夹](https://stackoverflow.com/questions/4793001/choose-folder-on-android-device)和[http://www.openintents.org/en/node/165](http://www.openintents.org/en/node/165)）。

据我了解，这意味着必须在设备上安装 OI 文件管理器（.apk）（至少 SVN 存储库中的 Demo 在启动 OI 文件管理器之前不会打开 Intent）。实现这一目标的常用方法是什么？有没有办法为此目的自动安装.apk？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:00:08.543

只需浏览**GitHub**项目[**mburman / Android-File-Explore**](https://github.com/mburman/Android-File-Explore)。一个 java 文件，将其与您的项目集成，因此无需使用任何第三方文件管理器应用程序，也不必担心安装`.apk`文件。使用您自己的代码使用**FileManager功能..**

# gsm - 如何从 PLMN 中提取 MCC 和 MNC？

> ID：10345379
> 
> 赞同：9
> 
> 时间：2012-04-27T05:45:43.947
> 
> 标签：gsm, at-command

我正在运行 AT 命令[AT+KCELL](http://www.cooking-hacks.com/skin/frontend/default/cooking/pdf/AT_Commands.pdf)来获取小区信息，它返回，除其他外，一个`PLMN`（[公共陆地和移动网络](http://en.wikipedia.org/wiki/Public_land_mobile_network)） - 文档中对此的描述是：

> PLMN 标识符（3 个字节），由 MCC（移动国家代码）和 MNC（移动网络代码）组成。

好的，这与 Wikipedia 所说的相符——其中有 MCC 和 MNC。现在我不明白的是如何提取上述 MCC 和 MNC 值？

这是一个例子。我回来了：

```
32f210 
```

我被告知（尽管我持怀疑态度）这应该会导致：

```
MNC: 1
MCC: 232 
```

但我一生都无法弄清楚如何从 PLMN 获得该结果，那么我该如何解析呢？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-04-27T17:15:15.247

好吧，我发现了这一点，并想我会在这里添加一个答案，以防有其他不幸的灵魂必须这样做 - 名为[GSM Technical Specification](https://cardboss.cometway.com/gsm11-11.pdf)（第 10.2.4 节）的 PDF 包含答案，相关位是：

> PLMN 内容：移动国家代码 (MCC) 后跟移动网络代码 (MNC)。编码：根据 TS GSM 04.08 [14]。
> 
> *   如果需要存储少于最大可能数 n，则多余的字节应设置为“FF”。例如，MCC 使用 246，MNC 使用 81，如果这是第一个也是唯一的 PLMN，则内容如下所示： 字节 1-3：'42' 'F6' '18' 字节 4-6：'FF ''FF''FF' 等

所以我的怀疑是错误的！

我需要从左侧读取交换数字，因此前两个字节将是 MCC，因此`232f`MNC 将是`01`然后我丢弃 f，我有 232 和 1！很高兴一个被排序。

例如，在 c# 中，您可以这样做：

```
string plmn = "whatever the plmn is";

string mcc = new string(plmn.Substring(0, 2).Reverse().ToArray())
    + new string(plmn.Substring(2, 2).Reverse().ToArray())
    .Replace('f', ' ')
    .Trim();

string mnc = new string(plmn.Substring(4, 2).Reverse().ToArray())
    .Replace('f', ' ')
    .Trim(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-10-28T06:57:29.773

这是一个按位运算的java答案：

```
public static String mcc(byte[] plmnId) {
  if (plmnId == null || plmnId.length != 3)
    throw new IllegalArgumentException(String.format("Wrong plmnid %s", Arrays.toString(plmnId)));

  int a1 = plmnId[0] & 0x0F;
  int a2 = (plmnId[0] & 0xF0) >> 4;
  int a3 = plmnId[1] & 0x0F;

  return "" + a1 + a2 + a3;
}

public static String mnc(byte[] plmnId) {
  if (plmnId == null || plmnId.length != 3)
    throw new IllegalArgumentException(String.format("Wrong plmnid %s", Arrays.toString(plmnId)));

  int a1 = plmnId[2] & 0x0F;
  int a2 = (plmnId[2] & 0xF0) >> 4;
  int a3 = (plmnId[1] & 0xF0) >> 4;

  if (a3 == 15)
    return "" + a1 + a2;
  else
    return "" + a1 + a2 + a3;
} 
```

# google-drive-api - GET/POST 请求 Google Drive API

> ID：10345381
> 
> 赞同：3
> 
> 时间：2012-04-27T05:46:07.230
> 
> 标签：google-drive-api

我目前正在学习 Google Drive API 和 Qt C++ 开发程序（使用 OAuth2），所以我需要构建查询，但我不知道该怎么做。

例如，如果我提出请求 - [https://www.googleapis.com/oauth2/v1/userinfo?access_token=MY_ACCESS_TOKEN](https://www.googleapis.com/oauth2/v1/userinfo?access_token=MY_ACCESS_TOKEN)，一切正常 - 我会收到回复。

问题是：如何向 Google Drive 发出 SIMILAR 请求？

1）如何获取文件夹和文件列表

2）如何创建文件夹/文件等。

例如，在 POST 请求中“https://www.googleapis.com/drive/v1/files&title=pets&mimeType=application/vnd.google-apps.folder”

我明白了

“错误”：{“错误”：[{“域”：“全局”，“原因”：“解析错误”，“消息”：“解析错误”}]，“代码”：400，“消息”：“解析错误” } }

如何获取文件夹和文件的列表，例如等，我不明白

欢迎任何意见/示例！

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T16:00:57.703

不幸的是，Drive API 不允许您列出文件夹或文件。检索文件的唯一方法是与 Drive Web UI 集成或向您的用户显示[Google Picker](https://developers.google.com/drive/integrate-open)（仅限 Web 应用程序）。

获得文件 ID 后，您可以简单地将授权的 GET 请求发送到[drive.files.get 端点](https://developers.google.com/drive/v1/reference/files/get)：

```
GET https://www.googleapis.com/drive/v1/files/id 
```

要[插入文件（或文件夹）](https://developers.google.com/drive/folder)，文件的元数据将包含在请求正文中，而不是作为查询参数：

```
POST https://www.googleapis.com/drive/v1/files
Authorization: Bearer {ACCESS_TOKEN}
Content-Type: application/json
...
{
  "title": "pets",
  "parentsCollection": [{"id":"0ADK06pfg"}]
  "mimeType": "application/vnd.google-apps.folder"
} 
```

在上面的示例中，`mimeType`指定要插入的资源是一个文件夹。`mimeType`插入文件时将更改为您的应用程序 MIME 类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T17:06:01.893

您应该为此使用 google docs API

> [检索集合列表 - Google Documents List API 3.0 版](https://developers.google.com/google-apps/documents-list/#retrieving_a_list_of_collections)

在 OAuth 2.0 Playground 中，只需选择 Documents List 和 Google Drive 您将获得完整的操作列表：

```
List FolderContent
GET https://docs.google.com/feeds/default/private/full/{folderResouceId}/contents 
```

不要忘记将`?v=3`查询参数添加到文档列表 URI 或添加

```
GData-Version: 3.0 
```

标头，否则将返回`"Invalid request URI"`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-01T14:43:07.543

您建议您查看 google drive api 参考文档

[https://developers.google.com/drive/v3/reference/files/list](https://developers.google.com/drive/v3/reference/files/list)

我成功地使用了上面链接和使用 curl 的许多 api 函数。但实际上我建议您尝试使用邮递员之类的工具进行 http 请求。无论如何，按照下面的步骤链接获取访问代码后

[使用 curl 列出谷歌驱动器文件](https://stackoverflow.com/questions/28593022/list-google-drive-files-with-curl)

尝试在命令行中执行以下命令。

```
curl -H 'GData-Version: 3.0' -H "Authorization: Bearer $ACCESS_TOKEN" \
        https://www.googleapis.com/drive/v2/files?maxResults=$100 
```

# mysql - 如何使用 ruby 连接到 Silverlight 中的 MySQL 数据库？

> ID：10345384
> 
> 赞同：0
> 
> 时间：2012-04-27T05:46:54.717
> 
> 标签：mysql, ruby, silverlight, ironruby

当我使用

```
require 'System.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' 
```

或者

```
require 'rubygems'
require 'active_record' 
```

在 app.rb silverlight 插件崩溃...

```
include System::Data 
```

说

```
MemberAccessException: uninitialized constant System::Data 
```

但 System.Data.dll 包含在 xap 文件中

任何人都知道我如何使用 ruby​​ 连接到 Silverlight 中的 mysql 数据库？
PS我使用ironruby Chiron服务器生成*.xap

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-28T09:08:01.177

您正在尝试使用 silverlight 设置与 MYSQL 服务器的直接连接。我认为 silverlight 中的信任级别禁止您加载程序集。您应该做的不是直接使用数据库（为什么要直接公开您的数据库服务器？）并创建一个小型 Web 服务（例如 MVC 应用程序）来处理 json 请求并以这种方式与您的数据进行交互。

# asp.net-mvc-3 - MVC 4 ASPX 到 Razor

> ID：10345391
> 
> 赞同：0
> 
> 时间：2012-04-27T05:47:38.623
> 
> 标签：asp.net-mvc-3, razor

Razor 新手，尝试转换以下内容：

```
 <select id="Province" name="Province" style="width: 235px; background-color: #FFFFCC;">
                    <%
       string[] provinces = ViewBag.ProvincesForSelectedCountry;
       string selectedProvinceName;
       if (Model != null && !String.IsNullOrEmpty(Model.Province))
           selectedProvinceName = Model.Province;
       else
           selectedProvinceName = ConfigData.DefaultProvinceName;

       foreach (var anEntry in provinces)
       {
           string selectedTextMark = anEntry == selectedProvinceName ? " selected=\"selected\"" : String.Empty;
                    %>
                    <option value="<%= anEntry %>" <%= selectedTextMark %>>
                        <%= anEntry %></option>
                    <%
       }
                    %>
                </select>
            </td> 
```

剃须刀：

```
 <select id="Province" name="Province" style="width: 235px; background-color: #FFFFCC;">
                @string[] provinces = ViewBag.ProvincesForSelectedCountry;
   string selectedProvinceName;
   if (Model != null && !String.IsNullOrEmpty(Model.Province))
       selectedProvinceName = Model.Province;
   else
       selectedProvinceName = ConfigData.DefaultProvinceName;

   foreach (var anEntry in provinces)
   {
       string selectedTextMark = anEntry == selectedProvinceName ? " selected=\"selected\"" : String.Empty;

                <option value="@anEntry" @selectedTextMark>
                    @anEntry</option>

   }

            </select>
        </td> 
```

我收到此错误：

```
Invalid expression term 'string' in  @string[] provinces = viewBag.ProvincesForSelectedCountry; 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:55:39.220

你需要

```
@{
    string[] provinces = ViewBag.ProvincesForSelectedCountry; 
```

然后在标签`}`之前关闭。`</select>`

# ruby-on-rails - 耙中止！没有要加载的文件——设计/模式

> ID：10345392
> 
> 赞同：0
> 
> 时间：2012-04-27T05:47:39.767
> 
> 标签：ruby-on-rails, heroku, devise, rake

我已经运行这个应用程序一个月了，没有任何问题。但现在我在运行时不断收到此错误：

```
heroku run rake db:migrate 
```

我已经尝试了基本修复，删除/安装 gem，销毁应用程序并重新部署。在 Heroku 上捆绑安装。

这是我的宝石文件

```
*** LOCAL GEMS ***

actionmailer (3.2.3, 3.2.1, 3.2.0, 3.1.1)
actionpack (3.2.3, 3.2.2, 3.2.1, 3.2.0, 3.1.3, 3.1.1)
activeadmin (0.4.3, 0.4.2)
activemodel (3.2.3, 3.2.2, 3.2.1, 3.2.0, 3.1.3, 3.1.1)
activerecord (3.2.3, 3.2.1, 3.2.0, 3.1.1)
activerecord-jdbc-adapter (1.2.2)
activerecord-jdbcsqlite3-adapter (1.2.2)
activeresource (3.2.3, 3.2.1, 3.2.0, 3.1.1)
activesupport (3.2.3, 3.2.2, 3.2.1, 3.2.0, 3.1.3, 3.1.1)
acts_as_indexed (0.7.8)
addressable (2.2.7, 2.2.6)
ansi (1.4.2, 1.4.1)
arel (3.0.2, 3.0.0, 2.2.3, 2.2.1)
awesome_nested_set (2.1.3)
babosa (0.3.7)
backbone-on-rails (0.9.1.0)
backup (3.0.23)
bcrypt-ruby (3.0.1)
bootstrap-sass (2.0.1)
bourbon (1.4.0)
builder (3.0.0)
bundler (1.0.21 ruby)
capybara (1.1.2)
childprocess (0.3.1)
chronic (0.6.7)
chunky_png (1.2.5)
client_side_validations (3.1.3)
cocaine (0.2.1)
coffee-rails (3.2.2, 3.2.1, 3.1.1)
coffee-script (2.2.0)
coffee-script-source (1.3.1, 1.2.0, 1.1.3)
commonjs (0.2.5)
compass (0.11.7)
copycopter_client (2.0.0)
daemon_controller (1.0.0, 0.2.6)
daemons (1.1.8)
devise (2.0.4, 2.0.1, 2.0.0, 1.5.2)
devise_invitable (1.0.1)
diff-lcs (1.1.3)
dragonfly (0.9.12)
dynamic_form (1.1.4)
eco (1.0.0)
eco-source (1.1.0.rc.1)
ejs (1.0.0)
erubis (2.7.0)
eventmachine (0.12.10)
execjs (1.3.0, 1.2.13, 1.2.12, 1.2.9)
factory_girl (2.6.0)
factory_girl_rails (1.7.0)
faker (1.0.1)
faraday (0.7.5)
fastercsv (1.5.4)
fastthread (1.0.7)
ffi (1.0.11)
flutie (1.3.3)
foreman (0.40.0)
formtastic (2.1.0, 2.0.2)
friendly_id (4.0.4)
fssm (0.2.8.1)
globalize3 (0.2.0)
gon (2.2.2)
guard (1.0.1)
guard-rspec (0.7.0)
haml (3.1.4)
haml-rails (0.3.4)
haml_rails (0.1.0)
has_scope (0.5.1)
hashie (1.2.0)
heroku (2.16.2)
hike (1.2.1)
hpricot (0.8.6, 0.8.5)
htmldiff (0.0.1)
i18n (0.6.0)
inherited_resources (1.3.1, 1.3.0)
jdbc-sqlite3 (3.7.2)
journey (1.0.3, 1.0.1, 1.0.0)
jquery-rails (2.0.2, 2.0.1, 2.0.0, 1.0.19)
json (1.6.6, 1.6.5, 1.6.4, 1.6.3, 1.6.2)
json_pure (1.6.5)
kaminari (0.13.0)
launchy (2.0.5)
less (2.1.0, 2.0.11)
less-rails (2.2.0, 2.1.8)
letter_opener (0.0.2)
libv8 (3.3.10.4 x86-linux)
mail (2.4.4, 2.4.1, 2.3.3, 2.3.0)
meta_search (1.1.3)
mime-types (1.18, 1.17.2)
minitest (2.11.1)
multi_json (1.3.1, 1.2.0, 1.1.0, 1.0.4)
multipart-post (1.1.4)
mysql (2.8.1)
mysql2 (0.3.11)
newrelic_rpm (3.3.2)
nifty-generators (0.4.6)
nokogiri (1.5.0)
oauth (0.4.5)
oauth2 (0.5.1)
omniauth (1.0.1)
omniauth-facebook (1.1.0)
omniauth-google-oauth2 (0.1.8)
omniauth-identity (1.0.0)
omniauth-linkedin (0.0.6)
omniauth-oauth (1.0.0)
omniauth-oauth2 (1.0.0)
omniauth-twitter (0.0.7)
open4 (1.3.0)
orm_adapter (0.0.7, 0.0.6, 0.0.5)
paper_trail (2.6.3)
paperclip (2.7.0)
passenger (3.0.11)
pg (0.13.2)
pjax_rails (0.1.10)
Platform (0.4.0)
polyamorous (0.5.0)
polyglot (0.3.3)
POpen4 (0.1.4)
popen4 (0.1.2)
rack (1.4.1, 1.4.0, 1.3.6, 1.3.5)
rack-cache (1.2, 1.1)
rack-mount (0.8.3)
rack-pjax (0.5.5)
rack-ssl (1.3.2)
rack-test (0.6.1)
rails (3.2.1, 3.2.0, 3.1.1)
railties (3.2.3, 3.2.1, 3.2.0, 3.1.1)
rake (0.9.2.2, 0.9.2)
rake-compiler (0.7.9)
rdoc (3.12, 3.11)
redcarpet (2.1.1)
refinerycms (2.0.3)
refinerycms-authentication (2.0.3)
refinerycms-core (2.0.3)
refinerycms-dashboard (2.0.3)
refinerycms-images (2.0.3)
refinerycms-pages (2.0.3)
refinerycms-resources (2.0.3)
responders (0.9.1, 0.6.5)
rest-client (1.6.7)
rspec (2.8.0)
rspec-core (2.8.0)
rspec-expectations (2.8.0)
rspec-mocks (2.8.0)
rspec-rails (2.8.1)
ruby_parser (2.3.1)
rubyXL (1.2.5)
rubyzip (0.9.6.1, 0.9.5)
sass (3.1.15, 3.1.12, 3.1.11)
sass-rails (3.2.5, 3.2.4, 3.2.3, 3.1.5)
selenium-webdriver (2.13.0)
seo_meta (1.3.0)
sexp_processor (3.2.0)
simple_form (2.0.1, 2.0.0, 1.5.2)
spork (0.9.0)
sprockets (2.1.2, 2.0.3)
sqlite3 (1.3.5, 1.3.4)
squeel (0.9.5)
ssl_requirement (0.1.0)
stringex (1.3.2)
term-ansicolor (1.0.7)
test-loop (13.0.1)
therubyracer (0.10.0, 0.9.10, 0.9.9)
thin (1.3.1)
thor (0.14.6)
tilt (1.3.3)
treetop (1.4.10)
truncate_html (0.5.4)
turn (0.9.4, 0.9.1, 0.8.3)
twitter-bootstrap-rails (2.0.4)
tzinfo (0.3.33, 0.3.32, 0.3.31)
uglifier (1.2.4, 1.2.3, 1.2.2, 1.2.1, 1.2.0, 1.1.0)
warden (1.1.1, 1.1.0)
watchr (0.7)
whenever (0.7.3)
will_paginate (3.0.3)
xpath (0.1.4)
yajl-ruby (1.1.0) 
```

不知道还有什么可能有帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T22:46:37.977

问题是我已经通过使用捆绑升级升级到设计 2.0，但在升级后没有运行 rails g install:devise，在我在本地机器上执行此操作后，我将以下内容添加到我的 .gitignore 文件中，所以这不会再次发生

*   数据库/schema.rb
*   小贩/*

破坏了我在heroku上的应用程序并开始了一个新的应用程序。谢天谢地，我备份了所有内容，只是将所有内容都指向了新应用程序，它就像旧应用程序一样工作。

# c# - 我应该在父视图的控制器中编写部分视图的操作方法吗？

> ID：10345397
> 
> 赞同：2
> 
> 时间：2012-04-27T05:48:20.333
> 
> 标签：c#, asp.net-mvc-3

在视图中渲染一个局部视图后，我想知道局部视图的控制器现在是什么？
我不再需要它了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:40:58.677

我们可以根据它们的功能来决定这一点。好像您的局部视图仅用于您当前的父视图，或者它具有与父视图相关的功能，所以在这种情况下，我们不需要为局部视图添加新的控制器。但是，如果您的局部视图也将被其他一些父视图使用，或者它在其他控制器之间也有一些共同的功能，那么我们需要把这个局部视图放在单独的控制器中。@Taichi，这就是我的想法，决定永远是你的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:08:50.753

Partial Views shouldn't have separate controllers. you should place partial view in parents view folder.

# javascript - 如何在jsp中显示Json来自Restlet Server？

> ID：10345399
> 
> 赞同：0
> 
> 时间：2012-04-27T05:48:29.283
> 
> 标签：javascript, json, jsp, rest, restlet

在我的 JSP 文件中，有一个向 Restlet 服务器发送“POST”请求的表单。然后，Restlet Server 将返回一个 JsonRepresentation，如何获取 Json 并在我的 JSP 中显示 Json。像这样？但似乎不起作用，为什么？

```
 <div>
       <form id="simpleForm" method="post" enctype="multipart/form-data">
          <input type="text" name="zi"></input>
          <input type="file" class="file" name="tupian"></input>
          <input type="submit" value="query"></input>
       </form>
     </div>
     <script>
      $("#simpleForm").submit(function(event) {
         alert("success");
         event.preventDefault();//next, I want to post the form on the up to the Reselet Server and deal with the result come from the server,but the server does not work 
         $.post("http://127.0.0.1:9192/CalligraphyWordService",$("#simpleForm").serialize(),function(data) {
         .......

         });
     });
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T07:21:32.203

您应该使用 ajax 将数据发送到服务器并获得响应，然后使用该响应更新您的页面

如果您是 JavaScript/Ajax 的新手，最好使用[jQuery 之类的库](http://jquery.com/)

jquery 中的简单 ajax 帖子如下所示：

```
$.post('url/to/your/reslet', function(json_data) {
    var data = $.parseJSON(json_data);
    var xxx = data.xxx; // read property of your json object
    // then you can use xxx to update your page with JavaScript
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:02:10.113

建议你禁用提交事件的默认动作，使用ajax异步提交表单。因此，当他们返回 json 响应时，您可以做任何您想做的事情来处理它。如果您使用 jquery，代码可能如下所示：

```
$('your_form_id').submit(function(event) {
    event.preventDefault();  // prevent the default action of submit event so that your browser won't be redirect

    $.post('your_Restlet_url', function(data) {
        // update the page using the passed in data
        ...
    });
}); 
```

# java - NullPointerException: Collections.binarySearch(List , T, Comparator ) 行：不可用

> ID：10345401
> 
> 赞同：4
> 
> 时间：2012-04-27T05:48:37.287
> 
> 标签：java, nullpointerexception

此堆栈错误打印为“ `Collections.binarySearch(List<? extends T>, T, Comparator<? super T`>）行：此行不可用”：

```
int index = Collections.binarySearch(getEmails(), email, determineComparator());
     // Search where to insert 
```

我认为电子邮件（由返回`getEmails()`）可能为空，但它被实例化为：

```
ArrayList<Email> emails= new ArrayList<Email>(); 
```

如果您指出需要什么，我可以提供更多详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-24T19:37:40.520

您的 getEmails() 实现必须返回 null。Collections.binarySearch 可以处理 null Comparator 但不能处理 null 列表。

# twitter - 在 Twitter 上使用 oauth 和 Coldfusion 更新状态

> ID：10345403
> 
> 赞同：0
> 
> 时间：2012-04-27T05:48:58.600
> 
> 标签：twitter, coldfusion, oauth, status

我使用 twitter 自己的工具在[https://dev.twitter.com/docs/api/1/post/statuses/update](https://dev.twitter.com/docs/api/1/post/statuses/update)生成了我的 OAuth 签名如何使用 CFHTTP 的“签名基本字符串”和“授权标头”发布我自己的 Twitter 帐户上的新状态。我不想访问任何其他人的帐户，只需要能够将状态更新发布到我自己的帐户。非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:52:16.773

不要费心自己写，使用这个： http: [//monkehtweet.riaforge.org/](http://monkehtweet.riaforge.org/) 它很棒我已经多次使用它来集成 Twitter。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:54:38.027

如果您想自己编写，则必须按照[https://dev.twitter.com/docs](https://dev.twitter.com/docs)上记录的说明进行操作。

签名是所有请求值与签名密钥的序列化和编码。这一切都很好地记录在[https://dev.twitter.com/docs/auth/creating-signature](https://dev.twitter.com/docs/auth/creating-signature)

您将需要 hmac-sha1 编码来创建有效的签名。如果你不使用 Coldfusion 10，你需要这样的东西：[HMAC SHA1 ColdFusion](https://stackoverflow.com/questions/2959972/hmac-sha1-coldfusion)

# android - 三星galaxy note中的android小部件全宽

> ID：10345413
> 
> 赞同：0
> 
> 时间：2012-04-27T05:49:27.770
> 
> 标签：android, android-widget

我开发了一个小部件。问题是它没有跨越三星 Galaxy Note 的整个宽度。

```
<?xml version="1.0" encoding="utf-8"?>
<appwidget-provider 
        xmlns:android="http://schemas.android.com/apk/res/android"
    android:initialLayout="@layout/widget_layout"
    android:minHeight="120dp"
    android:minWidth="300dp"
    android:updatePeriodMillis="0" >

</appwidget-provider> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:32:56.767

It was my mistake. I tried increasing minWidth but did not re-add the widget hence it did not take effect.

After increasing minWidth, I removed and re-added the widget now it spans across entire width.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:59:12.050

嗨三星 Galaxy Note 是具有 xhdpi 分辨率的大屏幕。所以你必须在 android manifest 中支持大屏幕。

将此添加`android:largeScreens="true"`到 AndroidManifest.xml 中支持的屏幕中

# php - 如何使用 php 将英语转换为西班牙语

> ID：10345417
> 
> 赞同：1
> 
> 时间：2012-04-27T05:49:37.863
> 
> 标签：php

我们在 Android 和 Iphone 中开发了一个支持英语语言的应用程序。现在我们计划用西班牙语显示应用程序内容。什么是最好的方法来做到这一点。

我们如何使用 PHP 将英语转换为西班牙语以显示西班牙语数据

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T05:59:43.857

使用英语和西班牙语以及任何您需要的语言文件。通过使用这些和 XML 文件，您可以实现这一点。

请看这里，这可能会帮助您[如何使用 PHPMaker 8.0.3 使您的网站支持多语言](http://www.ilovephpmaker.com/tips-and-trick/how-to-make-your-website-support-for-multi-language-with-phpmaker-8-0-3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:55:37.303

国际化是您正在寻找的。这是一个相当简单的过程（前提是您要使用非编码特定的语言）。随语言环境变化的数据被隔离到特定于语言环境的单独文件中。然后，当用户的语言环境被识别时，特定的语言环境文件被加载，并且来自该语言环境的单词被替换为占位符。无论您打算在哪里介绍它，我相信 Google 可以指导您获得详尽的教程。

# three.js - 如何在 Three.Js 中的相机前显示网格？

> ID：10345423
> 
> 赞同：0
> 
> 时间：2012-04-27T05:49:59.677
> 
> 标签：three.js

我想在我的透视相机（带有第一人称控制）前显示一个网格（如枪声）我在我的页面的渲染函数中编写了这段代码：

```
var pos = camera.position;
var rot = camera.rotation;
shot.rotation.x = rot.x;
shot.rotation.y = rot.y;
shot.rotation.z = rot.z;
shot.position.x = pos.x;
shot.position.y= pos.y;
shot.position.z = pos.z + 500; 
```

如果我只是改变相机的位置，它很好，但如果我改变相机的旋转，我看不到前面的镜头。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T21:00:33.947

看来您需要使“镜头”成为相机的孩子。从您的示例中不清楚您是否已经这样做了，但这应该可以使镜头随着相机正确移动。

# ios - iOS 自定义标签栏

> ID：10345426
> 
> 赞同：4
> 
> 时间：2012-04-27T05:50:26.150
> 
> 标签：ios, uitabbarcontroller

我刚开始使用 iOS 开发，只是在玩 atm。

我正在尝试将默认的标签栏按钮转换为更自定义的东西。

环顾四周后，我发现您可以为每个按钮创建自定义状态，所以我这样做了：

```
UIImage *selectedImage0 = [UIImage imageNamed:@"first.png"];
UIImage *unselectedImage0 = [UIImage imageNamed:@"second.png"];

UITabBar *tabBar = self.tabBarController.tabBar;
UITabBarItem *item0 = [tabBar.items objectAtIndex:0];

[item0 setFinishedSelectedImage:selectedImage0 withFinishedUnselectedImage:unselectedImage0]; 
```

但是，我无法摆脱默认按钮，它会更改图像，但不会更改我的整个按钮。

还有什么我需要做的吗？

```
UIViewController *viewController1 = [[FirstViewController alloc]     initWithNibName:@"FirstViewController" bundle:nil];
UIViewController *viewController2 = [[SecondViewController alloc] initWithNibName:@"SecondViewController" bundle:nil];

self.tabBarController = [[UITabBarController alloc] init];    
self.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController1, viewController2, nil];
self.window.rootViewController = self.tabBarController;
[self.window makeKeyAndVisible];

UIImage *selectedImage0 = [UIImage imageNamed:@"first.png"];
UIImage *unselectedImage0 = [UIImage imageNamed:@"second.png"];

UITabBar *tabBar = self.tabBarController.tabBar;
UITabBarItem *item0 = [tabBar.items objectAtIndex:0];

[item0 setFinishedSelectedImage:selectedImage0 withFinishedUnselectedImage:unselectedImage0]; 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-27T06:13:32.763

检查以下链接（标签栏控制器的大部分自定义）

1.  [实现自定义标签栏](http://idevrecipes.com/2011/01/04/how-does-the-twitter-iphone-app-implement-a-custom-tab-bar/)
2.  [带有自定义颜色的标签栏](https://stackoverflow.com/questions/4343764/tabbar-with-custom-colors)
3.  [自定义标签栏差异。背景](http://www.guerrillawebsitedesign.co.uk/wordpress/index.php/2010/09/30/how-to-create-a-custom-uitabbarcontroller-for-the-iphone-with-different-background-images-and-icons-part-1-2/)
4.  [如何保存用户自定义的标签顺序](http://www.raddonline.com/blogs/geek-journal/iphone-sdk-uitabbarcontroller-how-to-save-user-customized-tab-order/)]
5.  [RX -Tabbar 控制器](http://www.rumex.it/2011/07/hiding-your-new-custom-tab-bar-uitabbar-in-an-iphone-application/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-27T06:30:50.917

Here i've created a custom tab bar and images i took are in a constant file. Here you can replace the image with "foo.png" as per your convenience. Here the serivceImg, contactImg etc are UIImageView which is declared in .h file. Also, don't forget to add UITabBarControllerDelegate as a delegate in your .h file.

```
-(void)setUpTabBar {

tabBar = [[UITabBarController alloc] init];

Services *firstViewController = [[Services alloc]init];
firstViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemFavorites tag:1];
UINavigationController *firstNavController = [[UINavigationController alloc]initWithRootViewController:firstViewController];

ContactUs *secondViewController = [[ContactUs alloc]init];
secondViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemFavorites tag:2];
UINavigationController *secondNavController = [[UINavigationController alloc]initWithRootViewController:secondViewController];

Bookings *thirdViewController = [[Bookings alloc]init];
thirdViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemFavorites tag:3];
UINavigationController *thirdNavController = [[UINavigationController alloc]initWithRootViewController:thirdViewController];

Reward *fourthViewController = [[Reward alloc]init];
fourthViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemRecents tag:4];
UINavigationController *fourthNavController = [[UINavigationController alloc]initWithRootViewController:fourthViewController];

tabBar.viewControllers = [[NSArray alloc] initWithObjects:firstNavController, secondNavController, thirdNavController, fourthNavController, nil];
tabBar.delegate=self;
tabBar.selectedIndex=0;

[firstNavController release];
[firstViewController release];

[secondNavController release];
[secondViewController release];

[thirdNavController release];
[thirdViewController release];

[fourthNavController release];
[fourthViewController release];

serivceImg=[[UIImageView alloc]initWithFrame:CGRectMake(0, 432, 80, 49)];
serivceImg.image=[UIImage imageNamed:serviceHover];

contactImg=[[UIImageView alloc]initWithFrame:CGRectMake(81, 432,80, 49)];
contactImg.image=[UIImage imageNamed:tabContact];

bookingImg=[[UIImageView alloc]initWithFrame:CGRectMake(162, 432,80, 49)];
bookingImg.image=[UIImage imageNamed:tabBooking];

rewardImg=[[UIImageView alloc]initWithFrame:CGRectMake(243, 432, 80, 49)];
rewardImg.image=[UIImage imageNamed:tabReward];

[tabBar.view addSubview:serivceImg];
[tabBar.view addSubview:contactImg];
[tabBar.view addSubview:bookingImg];
[tabBar.view addSubview:rewardImg];

[[[UIApplication sharedApplication]keyWindow]addSubview:tabBar.view];

[serivceImg release];
[contactImg release];
[bookingImg release];
[rewardImg release];

}

- (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController1{

     if (viewController1 == [tabBar.viewControllers objectAtIndex:0])

 {

     serivceImg.image = [UIImage imageNamed:kserviceHover];
     contactImg.image=[UIImage imageNamed:ktabContact];
     bookingImg.image=[UIImage imageNamed:ktabBooking];
     rewardImg.image=[UIImage imageNamed:ktabReward];

 }

else if (viewController1 == [tabBar.viewControllers objectAtIndex:1])

{

    serivceImg.image = [UIImage imageNamed:ktabService];
    contactImg.image=[UIImage imageNamed:kcontactHover];
    bookingImg.image=[UIImage imageNamed:ktabBooking];
    rewardImg.image=[UIImage imageNamed:ktabReward];

}

else if (viewController1 == [tabBar.viewControllers objectAtIndex:2])

{

    serivceImg.image = [UIImage imageNamed:ktabService];
    contactImg.image=[UIImage imageNamed:ktabContact];
    bookingImg.image=[UIImage imageNamed:kbookingHover];
    rewardImg.image=[UIImage imageNamed:ktabReward];

}

else if (viewController1 == [tabBar.viewControllers objectAtIndex:3])

{

    serivceImg.image = [UIImage imageNamed:ktabService];
    contactImg.image=[UIImage imageNamed:ktabContact];
    bookingImg.image=[UIImage imageNamed:ktabBooking];
    rewardImg.image=[UIImage imageNamed:krewardHover];

}

} 
```

Try this.This might help you.

# jquery - 当我只知道 jQuery 元素内的文本时，如何找到元素 ID？

> ID：10345433
> 
> 赞同：3
> 
> 时间：2012-04-27T05:50:59.160
> 
> 标签：jquery

我有一个 id="main-form" 的表单，里面有一个 class="block-footer"

里面有一个元素：

```
<button type="button">Submit</button> 
```

如何在不向元素添加 Id 的情况下使用 jQuery 找到此按钮？该按钮始终具有提交的文本。

是否值得在我的选择中使用 id="main-form" 作为起点以提高效率？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T05:53:00.293

选择所有`<button>`元素，然后根据它们过滤它们`innerHTML`：

```
$('button').filter(function() {
  return this.innerHTML == 'Submit';
}); 
```

如果需要，您可以通过仅选择带有 的按钮元素来更明确`type="button"`，尽管这效率略低：

```
$('button[type="button"]').filter(function() {
  return this.innerHTML == 'Submit';
}); 
```

至于你的评论：

> 我可以让它更高效，因为我知道按钮在一个我知道的类的 div 内，并且也在我的表单内，我的 ID 是已知的？

你当然可以。

```
var $container = $('.element-that-contains-the-button');
$('button', $container).filter(function() {
  return this.innerHTML == 'Submit';
}); 
```

您也可以使用`$container.find()`，它具有完全相同的效果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:53:25.853

这将选择包含文本“提交”的所有按钮。

```
$('button:contains("Submit")')... 
```

或者，如果您对元素有更多了解，可以在里面找到：

```
$('.block-footer button:contains("Submit")')... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T05:54:07.503

`jQuery('#main-form button:contains("submit")')`将在具有提交文本的主窗体内为您提供提交类型的按钮。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T05:54:22.373

您可以使用 jquery[包含选择器](http://api.jquery.com/contains-selector/)。

```
var yourButton = $('button:Contains("Submit")'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-27T05:55:58.170

使用 :contains 选择器。

这将适用于您的问题：

```
$(":contains('Submit')").Action() 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-27T06:03:28.460

您可以管理此代码

jQuery('document').ready(function() { jQuery('form').find('button').addClass('hi') });

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-27T06:22:26.637

由于您已经知道表单 ID，您只需循环每个按钮元素并检查它是否包含提交文本。

```
 $(document).ready(function(){
        $("#main-form button").each(function(e){
             var btnCaption = $(this).text();
            if(btnCaption == 'Submit'){
                //do something
                alert('hey, i am the submit button');
            }
        });

    }); 
```

我已经包含了一个工作示例[演示](http://jsfiddle.net/NwTK5/1/)

# php - PHP 错误：警告：require() [function.require]：open_basedir 限制生效

> ID：10345436
> 
> 赞同：-1
> 
> 时间：2012-04-27T05:51:44.983
> 
> 标签：php

在我的网站上显示以下错误：

```
Warning: require() [function.require]: open_basedir restriction in effect. File() is not within the allowed path(s): (/var/www/clients/client2/web3/web:/var/www/clients/client2/web3/tmp:/var/www/zkus.eu/web:/srv/www/zkus.eu/web:/usr/share/php5:/tmp:/usr/share/phpmyadmin:/etc/phpmyadmin:/var/lib/phpmyadmin) in /var/www/clients/client2/web3/web/admin/login.php on line 4

Warning: include() [function.include]: open_basedir restriction in effect. File() is not within the allowed path(s): (/var/www/clients/client2/web3/web:/var/www/clients/client2/web3/tmp:/var/www/zkus.eu/web:/srv/www/zkus.eu/web:/usr/share/php5:/tmp:/usr/share/phpmyadmin:/etc/phpmyadmin:/var/lib/phpmyadmin) in /var/www/clients/client2/web3/web/libs/smarty/libs/sysplugins/smarty_internal_templatebase.php on line 161 
```

在网站上（ISP 配置）显示以下错误：

```
Warning: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CEST/2.0/DST' instead in /usr/local/ispconfig/interface/lib/classes/session.inc.php on line 90 Warning: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CEST/2.0/DST' instead in /usr/local/ispconfig/interface/lib/classes/session.inc.php on line 111 Warning: strtotime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CEST/2.0/DST' instead in /usr/local/ispconfig/interface/lib/classes/session.inc.php on line 112 Warning: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CEST/2.0/DST' instead in /usr/local/ispconfig/interface/lib/classes/session.inc.php on line 113 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:57:08.507

第一个问题看起来像是您在权限之外包含了一个文件。也许从您不拥有的文件夹中获取文件？

第二个错误可以通过更新您的 .htaccess 来修复：

```
php_value date.timezone 'Europe/London' 
```

将 Europe/London 替换为您的时区。在此处查找支持的时区：http: [//php.net/manual/en/timezones.php](http://php.net/manual/en/timezones.php)

# javascript - 从 Api 获取 json 数据

> ID：10345448
> 
> 赞同：0
> 
> 时间：2012-04-27T05:53:16.520
> 
> 标签：javascript, jquery, json

我正在使用第三方 api 根据邮政编码获取地址。它返回 json 数据。下面是我正在调用的 api，但我没有共享我正在使用的数据密钥。

我在 jquery 中访问它而不使用任何服务器端脚本语言。

```
 $.getJSON("http://www.simplylookupadmin.co.uk/JSONservice/JSONSearchForAddress.aspx?datakey=data key &postcode=CM129BY&callback=?",           function () {
            alert("aaa");

                  }); 
```

还使用其他代码，例如

```
//          jQuery.ajax({
//              type: 'GET',
//              url: 'http://www.simplylookupadmin.co.uk/JSONservice/JSONSearchForAddress.aspx?datakey=data key&postcode=CM129BY?jsoncallback=?',
//              dataType: 'json',
//              success: function (data) {
//                  alert('success');
//              }
//          }); 
```

但我得到了错误

```
Error: invalid label
Source File: http://www.simplylookupadmin.co.uk/JSONservice/JSONSearchForAddress.aspx?datakey=datakey&postcode=CM129BY&callback=jQuery17209661092291729644_1335505434728&_=1335505437637
Line: 2, Column: 2
Source Code:
  "found":"1", 
```

请告知它非常紧急

谢谢纳文·库马尔·古普塔。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T07:11:18.857

我知道了。是JSON结果字符串无效为JSON，打开网址[http://www.simplylookupadmin.co.uk/JSONservice/JSONSearchForAddress.aspx?datakey=data key &postcode=CM129BY&callback=?](http://www.simplylookupadmin.co.uk/JSONservice/JSONSearchForAddress.aspx?datakey=data%20key%20&postcode=CM129BY&callback=?) 使用网络浏览器，我得到了内容：

```
{
  "found":"1",
  "credits_display_text":"Cannot find FULL PAF license(credits or users)",
  "accountadminpage":"https://www.simplylookupadmin.co.uk/WebAccountLogin.aspx?doid=1&coid=30&Pay=yes",
  "errormessage":"Search denied! Cannot find FULL PAF license(credits or users)",
  "maxresults":"0",
  "recordcount":"0",
"records"]} 
```

**最后，不需要“]”。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T05:56:46.750

我认为您可能缺少任何报价。请再次检查。

我认为您正在搜索的邮政编码在数据库中找不到。

# mocking - MOQ：模拟界面？

> ID：10345458
> 
> 赞同：0
> 
> 时间：2012-04-27T05:54:03.193
> 
> 标签：mocking, moq

如何模拟下面的界面？

```
interface IServiceClientAPI
    {

        ResponseData GetData(string userid,string orderid);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:28:52.133

您可以模拟您的界面，如下所示：

```
[TestMethod]
public void SomeMethod_SomeScenarioWhichYourAreTesting_ExpectedResult()
{
    // Arrange
    var mockServiceClientApi = new Mock<IServiceClientAPI>();
    var responseData = new ResponseData(); // Add any necessary initialization to this member
    mockServiceClientApi.Setup(m => m.GetData(It.IsAny<string>(), It.IsAny<string>()).Returns(responseData).Verifiable();

    var someObject = new SomeObject(mockServiceClientApi.Object);

    // Act
    var result = someObject.DoSomething();

    // Assert
    mockServiceClientApi.Verify();
} 
```

在上面的代码中，我编写了一个测试方法（可以与 MSTest 一起使用）。基本上，您首先需要准备模拟对象并设置您希望方法调用的任何方法。

一开始用模拟工具编程可能会很奇怪，但是一旦你掌握了它，你就会看到它的价值。您应该首先尝试理解单元测试，然后您将对模拟 API 有一个更好的了解。为此，我建议你看看Roy Osherove[的 The Art of Unit Testing](https://rads.stackoverflow.com/amzn/click/com/1933988274)。

就是这样。问候。

# sql - 如何在sql中强制执行约束？

> ID：10345461
> 
> 赞同：3
> 
> 时间：2012-04-27T05:54:24.377
> 
> 标签：sql

我有一个关于对我的表强制执行约束的问题。我有一张名为 workson 的桌子和一张名为 staff 的桌子，每个员工都有特定的头衔（主管、授权人、经理……）。我需要确保主管和授权人不能是工作表上的同一员工。他们之间的基数是多对多的。我不知道该怎么做。你能建议我解决这个问题吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:07:02.000

一些数据库支持检查约束：

```
CREATE TABLE workson
(
    rowId int NOT NULL,
    supervisorId int NOT NULL,
    authorizerId int NOT NULL,
    -- ...
    CONSTRAINT chk_Uniqueness CHECK (supervisorId != authorizerId)
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T08:33:53.250

考虑以下查询

```
SELECT AssignmentNo, StaffNo
  FROM worksOnStaff
 WHERE StaffType = 'supervisor'
INTERSECT 
SELECT AssignmentNo, StaffNo
  FROM worksOnStaff
 WHERE StaffType = 'authorizer' 
```

当表中的数据满足您的约束时，上述查询将是空集，即

```
CHECK ( NOT EXISTS ( SELECT AssignmentNo, StaffNo
                       FROM worksOnStaff
                      WHERE StaffType = 'supervisor'
                     INTERSECT 
                     SELECT AssignmentNo, StaffNo
                       FROM worksOnStaff
                      WHERE StaffType = 'authorizer' ) ); 
```

问题是，很少有 SQL 产品允许在`CHECK`约束中使用子查询。

通常的解决方法是在过程代码中实现相同的逻辑，例如使用触发器或强制用户通过存储过程更新数据（通过删除基表上的更新权限），以确保永远不会违反约束。您必须注意正确地序列化更新，而不会使整个事情像胶水一样运行。

令人高兴的是，有一本关于这个主题的优秀书籍：

[Lex de Haan、Toon Koppelaars 为数据库专业人员提供应用数学](http://books.google.co.uk/books?id=-uYZcnEt4uQC&printsec=frontcover&dq=applied+mathematics+for+database+professionals&hl=en&sa=X&ei=yliaT_yBBsim0QWCyqmXDw&ved=0CDgQ6AEwAA#v=onepage&q=serialization%20strategy&f=false)

> 对于无法向 DBMS 声明的约束的实现，我们更倾向于遵循触发程序策略……和声明的约束一样，触发程序策略不能被颠覆；...可能会创建一个更易于管理的代码架构 ...[然而]通过触发器为这些约束实现有效的数据完整性代码绝非易事...但是，您将通过定期实现表约束来体验这一点并且精通这样做，在程序上实现表约束通常是非常可行的......
> 
> 执行模型 EM6：On-Transition-Effect-Property Plus Optimized-Query
> 
> 1.  将正式规范转换为约束验证查询。
> 2.  开发代码来维护过渡效果。
> 3.  设计转换效果 (TE) 查询，确保仅在必要时运行约束验证查询。
> 4.  通过让 TE 查询提供可在验证查询中使用的值，发现一种优化约束验证查询的方法。
> 5.  设计并向数据完整性 (DI) 代码添加序列化策略。

他们详细介绍了如何在 Oracle 中实施这种可以移植到其他 SQL 产品的策略。

# c# - 从另一个控件子更新控件

> ID：10345466
> 
> 赞同：4
> 
> 时间：2012-04-27T05:55:07.933
> 
> 标签：c#, xaml

我在尝试更新表面元素的组件时遇到了一些问题。我不知道我解决问题的方法是否错误，因为我是这个话题的新手。

我的观点如下图所示

![在此处输入图像描述](../Images/ce412010edf584a89ebb30785dbe5fe0.png)

根据在菜单中选择的选项，将不同的用户控件加载为 StackPanel 的唯一子项，但我遇到了从加载的用户控件更新 Listview 的问题，例如：当我保存新项目时，我需要为列表充值ListView 中的项目

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:17:04.533

MVVM 将是一个很好的模式。如果您在控件之间传递数据时遇到问题 - 为什么不在统一数据层之上引入它们呢？考虑一下：

菜单中的三个单选按钮，每个按钮的`IsChecked`属性都绑定到`Visibility`各自的属性`UserControl`。

`StackPanel`持有所有三个`UserControls`

`ListView`绑定到 ViewModel 的`List<Item>`

您的每一个都`UserControls`绑定到`ListView.SelectedItem`：其中一个`TextBlock`用于只读，一个`TextBox`用于编辑。第三个将在您的`List<Item>`. 您必须`ItemTemplate`为每个创建或创建一个`UserControl`（因为它们看起来非常相似）并使用`DataTemplateSelector`.

如果您不熟悉 MVVM [，这里](http://www.wpftutorial.net/MVVM.html)是一个好的开始。您还可以使用现有框架之一，例如[MVVM Light](http://mvvmlight.codeplex.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:09:03.023

您可以为您的孩子创建一个事件

```
public delegate void HandleNAMEOFYOURHANDLEEVENT(); 
```

在你的孩子班上

```
public event HandleNAMEOFYOURHANDLEEVENT yourInstance; 
```

在您的孩子课堂上使用它

```
if (!ReferenceEquals(yourInstance, null))
                        {
                            yourInstance();
                        } 
```

并且您像其他事件一样向您的父母声明它。

# xquery - 想要动态创建 XML 元素

> ID：10345467
> 
> 赞同：0
> 
> 时间：2012-04-27T05:55:17.890
> 
> 标签：xquery

我想动态创建一个元素，我正在尝试下面的查询，但它给了我这个错误：`SQL16031N XQuery language feature using syntax "element {$first} { "Crockett" }, element last {"Johnson" } } })" is not supported`

你能帮帮我吗？

```
 XQUERY
let $first := concat('first','')
return (element book { 
    attribute isbn {"isbn-0060229357" }, 
    element title { "Harold and the Purple Crayon"},
    element author { 
        element {$first} { "Crockett" }, 
        element last {"Johnson" }
    }
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T11:08:51.007

尝试这个：

```
let $first := xs:QName('first')
return (element book { 
    attribute isbn {"isbn-0060229357" }, 
    element title { "Harold and the Purple Crayon"},
    element author { 
        element {$first} { "Crockett" }, 
        element last {"Johnson" }
    }
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-28T12:15:51.190

似乎 DB2 XQuery 不支持具有动态计算名称的[计算元素构造函数。](http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.xml.doc/doc/xqrcmpelcn.html)如果可能的名称数量很少并且事先已知，您可以通过列出所有可能性来绕过该限制。由于 DB2 似乎也不支持`switch`，因此我们必须使用`if`/`else`级联：

```
XQUERY
let $first := 'firstA'
return (element book { 
    attribute isbn {"isbn-0060229357" }, 
    element title { "Harold and the Purple Crayon"},
    element author { 
        if($first eq 'firstA')
          then element firstA { "Crockett" }
        else if($first eq 'firstB')
          then element firstB { "Crockett" }
        else if($first eq 'firstC')
          then element firstC { "Crockett" }
        else (), 
        element last {"Johnson" }
    }
}) 
```

# c++ - 如何标记文件中的值并将其存储在二维数组中

> ID：10345468
> 
> 赞同：0
> 
> 时间：2012-04-27T05:55:21.490
> 
> 标签：c++, tic-tac-toe

我有一个包含如下内容的文本文件： 1|2|3|4|5|.......23|24|25

我需要阅读这个文件，标记值并将值输入二维数组。

```
for(i=0; i<size; i++) 
{
    for (j=0; j<size; j++)
    {   
        board[i][j] = *buffer;
        buffer++;
    }
} 
```

我需要使用“|”标记值 作为 delim 并将值输入到二维数组中...请帮助。我知道以上不正确，请帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:11:07.607

*   Read the data from file in a string.

*   Apply string tokenizer on your string and get the separate data.

    For tokenizing the string, take a look at [Boost.Tokenizer](http://www.boost.org/doc/libs/1_36_0/libs/tokenizer/index.html). It's great. Boost generally has some very cool string tools.
    Once you get separate data you can store it in 2-D array.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:12:15.627

You could read the whole file into a char * array. I'll assume that's what is in buffer and then use strtok to tokenize with "|".

[http://www.cplusplus.com/reference/clibrary/cstring/strtok/](http://www.cplusplus.com/reference/clibrary/cstring/strtok/)

# c++ - 程序以堆上的动态内存终止

> ID：10345470
> 
> 赞同：-1
> 
> 时间：2012-04-27T05:55:33.770
> 
> 标签：c++, c, dynamic-memory-allocation

我将把这个问题作为 c/c++ 的序言，因为它主要与此有关，而且我已经看到它对 c/c++ 的影响最大。

这让我担心了一段时间，我知道这个问题有些是可以避免的（我想避免关于如何避免的讲座，而是专注于后果，以防万一发生），但我仍然会有潜在的问题。

初步想法：

指针只是用作指向内存中其他位置的对象的地址（这可能是因为需要修改该类型事物的数量`int[]`，或者因为事物的性质可以在事物的整个生命周期内发生变化`polymophism`）

无论何时使用关键字`new`，它都应该有一个相应的关键字`delete`（如果不是多个，取决于异常处理和多个退出点）

当通过关键字`delete`对动态分配的内存块进行操作时，将调用析构函数（如果有，则执行其操作），将内存块返回到系统存储以供其他事物使用，并且（取决于编译器，宏，或程序员）设置指针`NULL`以避免非法内存访问。

情况：

当我编写一个使用动态内存的程序时（`pointers`、`new`和的组合`delete`）。如果发生某些事情，并且程序意外终止（未处理的异常、内存访问错误、非法操作等）。系统应该尝试删除程序正在使用的所有内存，并将其返回给系统，但指针并不总是被清除。这可能在操作系统和编译器之间有所不同（关于如何执行程序终止），但是被指向的东西可能仍然存在于内存中，因为被删除的只是指针，而不是被指向的东西。当然这可能是非常小的损失（对于一个小程序来说，小于一个 MB，但是对于说对数据存储进行压力测试或处理大文件，这可能会非常大，甚至可能在 GB 范围内。

直接的问题是可以采取哪些步骤来恢复记忆？我发现唯一可行的方法是重新启动系统（这是在 Windows 系统上使用 g++ 和 VS2008/2010 时）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T05:58:25.237

如果程序终止，则它使用的所有内存都将返回给系统。至少在你说你正在使用的 Windows 下。如果您认为这没有发生，那么您的程序可能根本没有真正终止。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T05:58:57.510

堆绑定到分配器，分配器绑定到进程。当进程退出时，堆被撤消。只有系统共享的资源不会被释放。

# android - 在 OpenGL Andengine Android 中绘图

> ID：10345474
> 
> 赞同：1
> 
> 时间：2012-04-27T05:55:54.777
> 
> 标签：android, opengl-es, andengine, bezier

我正在使用AndEngine。现在的问题是我想在场景中绘制贝塞尔曲线。我知道没有内置功能可以做到这一点。所以我以自定义方式计算了点等。现在我很困惑，我怎么能在场景中画线。

我覆盖了方法

```
 myScene = new Scene()
    {
         @Override
        protected void onManagedDraw(GL10 pGL, Camera pCamera) {

             log("Draw","in Draw");

            super.onManagedDraw(pGL, pCamera);
        }
    }; 
```

日志工作正常。我用于画线的代码。

```
 public static void DrawQuadBezier(GL10 gl, CGPoint origin, CGPoint control,
        CGPoint destination, int segments) {

    FastFloatBuffer vertices = getVertices(2 * (segments + 1));

    float t = 0.0f;
    for(int i = 0; i < segments; i++) {
        float x = (float)Math.pow(1 - t, 2) * origin.x + 2.0f * (1 - t) * t * control.x + t * t * destination.x;
        float y = (float)Math.pow(1 - t, 2) * origin.y + 2.0f * (1 - t) * t * control.y + t * t * destination.y;
        vertices.put(x);
        vertices.put(y);
        t += 1.0f / segments;
    }
    vertices.put(destination.x);
    vertices.put(destination.y);

    vertices.position(0);

    gl.glDisable(GL10.GL_TEXTURE_2D);
    gl.glDisableClientState(GL10.GL_TEXTURE_COORD_ARRAY);
    gl.glDisableClientState(GL10.GL_COLOR_ARRAY);

    gl.glVertexPointer(2, GL_FLOAT, 0, vertices.bytes);
    gl.glDrawArrays(GL_LINE_STRIP, 0, segments + 1);

    // restore default state
    gl.glEnableClientState(GL10.GL_COLOR_ARRAY);
    gl.glEnableClientState(GL10.GL_TEXTURE_COORD_ARRAY);
    gl.glEnable(GL10.GL_TEXTURE_2D);    
} 
```

现在，当我调用此方法并为其提供所需的参数时，屏幕上不会绘制任何内容。任何人都可以帮助我。我将非常感激。

# c++ - 0 或 1 组合，这样我们就没有两个 1 立即按顺序排列

> ID：10345477
> 
> 赞同：0
> 
> 时间：2012-04-27T05:55:59.927
> 
> 标签：c++

我的要求是代码找到两位数字组合的数量只有 0 和 1 对于 X 数字大小可能从 1 .. 1000 变化，这样没有时间两个 1 可以立即按顺序排列，但 0 是可能的

说我们有4位数字的输入

```
1010 1000 0000 0101 0001 0010 0100 1001 
```

我不确定哪个算法可以生成这样的 0 和 1 组合？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-27T06:02:20.567

答案由[斐波那契数](http://en.wikipedia.org/wiki/Fibonacci_number)列给出。

```
f(n) = f(n-1) + f(n-2) 
```

以下是前几个结果：

```
length     number of combinations
1          2   (0, 1)
2          3   (00, 01, 10)
3          5   (000, 001, 010, 100, 101)
4          8   (0000, 0001, 0010, 0100, 0101, 1000, 1001, 1010) 
```

如果您分别考虑以“0”或“10”开头的字符串，您可以看到为什么与斐波那契数列有关系：

```
 number of sequences of n digits
= number of sequences starting with 0, followed by n-1 more digits
+ number of sequences starting with 10, followed by n-2 more digits 
```

不允许以“11”开头的序列。

如果使用适当的技术，斐波那契数可以非常快速地计算出来，但您应该知道答案会随着增加而迅速`maxlen`增长。如果你想得到一个准确的答案，你需要使用一个可以处理任意大整数的库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:06:34.980

`10`一个想法是通过使用单词和`0`（和`1`，但仅在最后）来构建完整的字符串。

```
build(sofar, maxlen):
  if len(sofar) > maxlen: return
  if len(sofar) == maxlen: found(sofar); return
  if len(sofar) == maxlen - 1: build(sofar + "1", maxlen)
  build(sofar + "10", maxlen)
  build(sofar + "0", maxlen) 
```

该算法仅生成有效序列的证明留给您。与该算法生成*所有*有效序列的证明相同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:06:02.097

如果有一个函数将这些值生成到数组中，另一个函数只检查数组中某个值的当前索引是否为“1”并检查下一个值是否为“1”？如果为真，则丢弃；否则，有效。

# mysql - 需要一些关于在 MySQL 中编写多对多关系的建议和反馈

> ID：10345480
> 
> 赞同：1
> 
> 时间：2012-04-27T05:56:13.983
> 
> 标签：mysql, sql, database, database-design, relational-database

我在编写多：多关系时遇到了一些困难，如下图所示：

![在此处输入图像描述](../Images/79bddf3078f16060ec0bbcf1bffd53aa.png)

我想要设置这些表和关系，以便：

*   一个父母可以有多个孩子（这里的孩子是“玩家”），一个孩子可以有一个或多个父母（最多两个）。
*   “家庭”可以由一个或多个父母（最多两个）以及一个或多个孩子（无限）组成。

我不知道如何容纳与“孩子”姓氏不同的父母，反之亦然。我还没有被告知这是否会成为一个问题，但我认为这是值得考虑的事情。Parent 和 Player 类都从 person 超类继承字段（如名字和姓氏、地址、年龄、出生日期等）。

当我意识到我不确定如何插入一个或多个父母与他们是父母（或照顾者）的一个或多个孩子时，我正要测试一些输入到家庭表中。我以为我在理论上已经解决了这个问题，但在测试后我意识到它不起作用，我花了 90 多分钟为一些想法画草图，但我真的迷路了。

**==================================================== =================================**

**更新：27-04-2012 @ 22:19PM NZST**

我应该给出我正在寻找的结果的可视化表示 - 在查询包含这些表的数据库时。这是视觉表示：

```
+-------------------+-----------------+---------------------+
| ParentsFirstName  | ParentsLastName | ChildrenInFamily    |
+-------------------+-----------------+---------------------+
| Gregory           | Peck            | Michael             |
| Laura             | Peck            | Michael             |
| Martha            | Petersen        | Matt, Christopher   |
| Chris             | Michaels        | Richard, Shaun      |
| Nadine            | Michaels        | Richard, Shaun      |
| Barry             | Dackers         | Harry               |
| Kevin             | Mitchell        | Daniel              |
| Rebecca           | Mitchell        | Daniel              |
+-------------------+-----------------+---------------------+ 
```

“孩子”在名为“玩家”的表中，父母在名为“父母”的表中。这篇文章中的 MySQL 代码代表了关于这个特定问题的表（你应该注意到我使用 Person 类作为超类，而父/子表作为子类）。通过使用外键引用其他一些表（“schoolID”字段来自名为“School”的表，该表具有“schoolName”字段）。

我不确定我是否已经为我想要实现的目标构建了正确的表，但是在做一些研究时，我发现了一个名为[GROUP_CONCAT](http://www.dougboude.com/blog/1/2009/12/A-SWEET-Little-MySQL-Function-GroupConcat.cfm)的函数，它至少让我想到了查询可能是什么样子——对于这个特定的问题。

容纳不同姓氏的父母，以及与父母不同姓氏的孩子，是我什至无法解决的另一个重大挑战（我想这是寄养家庭也是如此）。因此，对于上述可视化，我假设非单亲父母已婚并拥有相同的姓氏，并且孩子都与已婚父母拥有相同的姓氏。

**==================================================== =================================**

这是我尝试创建的一些代码，用于创建试图处理这部分的数据库部分（注意：“玩家”是父母的“孩子”）：

```
DROP TABLE IF EXISTS `person` ;
CREATE TABLE `person` (
  `personID` INT(5) NOT NULL AUTO_INCREMENT ,
  `firstName` VARCHAR(50) NOT NULL ,
  `lastName` VARCHAR(50) NOT NULL ,
  `dateOfBirth` DATE NOT NULL ,
  `personType` CHAR(6) NOT NULL, 
  `photo` BLOB NULL DEFAULT NULL ,
  PRIMARY KEY (`personID`))
ENGINE = InnoDB;
SHOW WARNINGS;

DROP TABLE IF EXISTS `parent` ;
CREATE TABLE `parent` (
  `parentID` INT(5) NOT NULL,
  FOREIGN KEY (`parentID`) REFERENCES `person` (`personID`)
  ON DELETE CASCADE 
  ON UPDATE CASCADE)
ENGINE = InnoDB;
SHOW WARNINGS;

DROP TABLE IF EXISTS `player` ;
CREATE TABLE `player` (
  `playerID` INT(5) NOT NULL, 
  `schoolID` INT(5) NOT NULL,
    FOREIGN KEY (`playerID`) 
    REFERENCES `person` (`personID`)
    ON DELETE CASCADE 
    ON UPDATE CASCADE, 
    FOREIGN KEY (`schoolID`)
    REFERENCES `school` (`schoolID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;
SHOW WARNINGS;

DROP TABLE IF EXISTS `family` ;
CREATE TABLE `family` (
  `parentID` INT(5) NOT NULL ,
  `playerID` INT(5) NOT NULL ,
  PRIMARY KEY (`parentID`, `playerID`), 
    FOREIGN KEY (`playerID` )
    REFERENCES `player` (`playerID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
    FOREIGN KEY (`parentID`)
    REFERENCES `parent` (`parentID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;
SHOW WARNINGS; 
```

如果有人可以通过提供一些指导，甚至是一些带有解释的通用示例来帮助我解决这个问题，那就太好了。我认为这是一个多对多的关系，我不能完全放弃，因为父母可以有一个或多个孩子，一个孩子可以有一个或多个父母（在这种情况下，一个家庭不会是没有孩子的家庭） ）。

提前谢谢了！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T11:50:08.507

一个孩子不能有超过 2 个父母，他们都有特定的角色（母亲与父亲），并且可能存在一个或两个父母未知的情况。

所以这不是真正的“多对多”关系，它实际上是“多对零或一或二”，可以自然地表示为（两者都可以为`MotherID`NULL `FatherID`）：

![在此处输入图像描述](../Images/f65f3a0500bd428816ab59da1cffaf87.png)

如果您`LastName`同时输入`Parent`and `Player`（或在您的情况下输入一个共同的超类），这自然也涵盖了父母与孩子姓氏不同的情况。

然后，您可以像这样轻松获得“每个父母的孩子”（[SQL Fiddle](http://sqlfiddle.com/#!2/baf8d/1)）......

```
SELECT
    ParentID,
    Parent.FirstName ParentFirstName,
    Parent.LastName ParentLastName,
    PlayerID,
    Player.FirstName PlayerFirstName,
    Player.LastName PlayerLastName
FROM
    Parent
    LEFT JOIN Player
        ON Parent.ParentID = Player.MotherID
        OR Parent.ParentID = Player.FatherID
ORDER BY ParentId 
```

...如果您愿意，可以在您的应用程序代码中旋转数据。

* * *

上述模型允许`Parent`的性别与其母亲/父亲角色不匹配。如果你想防止这种情况，你可以过火并做这样的事情......

![在此处输入图像描述](../Images/f770659d1d884cb7b4e9b2d013418dd8.png)

...但我宁愿不要复杂化并坚持使用第一个模型并在应用程序级别强制执行它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T13:33:58.797

我会质疑家庭实体的使用。一个孩子可以通过父母的离婚和随后的再婚成为两个家庭的成员——你会如何建模？一个孩子可能没有四个人有效地“代替父母”行动吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T23:05:30.353

您只需要一个包含两个字段的连接表：孩子、照顾者。这基本上就是你的“家庭”表的内容 - 我不明白你的“父母”表的目的。*“family”中的两个*值都是“person”的外键（即，使“player”成为比图表中更通用的表。）

这样一来，任何孩子都可以拥有任意数量的看护人。任何照顾者都可以与任何数量的孩子联系在一起。不正当和美妙的家庭安排的所有可能组合都被容纳了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T06:19:33.273

实现多对多关系的 Family 表通常是在用户输入 Parent/Player(s) 数据之后创建的。UI 通常被描述为主窗体/子窗体组合，其中父窗体从主窗体中输入/选择，并且与父窗体关联的一个或多个玩家在子窗体中输入/显示；通常是某种网格。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-28T01:42:19.557

我不确定这本身是否是一个“答案”，但这是我尝试调整我的 MySQL 代码以适应**Branko Dimitrijevic**的答案为我提供的内容。这是我为相关表调整的 MySQL 代码：

```
DROP TABLE IF EXISTS `person` ;
CREATE TABLE `person` (
  `personID` INT(5) NOT NULL AUTO_INCREMENT ,
  `firstName` VARCHAR(50) NOT NULL ,
  `lastName` VARCHAR(50) NOT NULL ,
  `dateOfBirth` DATE NOT NULL ,
  `personType` CHAR(6) NOT NULL, 
  `photo` BLOB NULL DEFAULT NULL ,
  PRIMARY KEY (`personID`))
ENGINE = InnoDB;
SHOW WARNINGS;

DROP TABLE IF EXISTS `parent` ;
CREATE TABLE `parent` (
  `parentID` INT(5) NOT NULL,
  PRIMARY KEY (`parentID`), 
  FOREIGN KEY (`parentID`) REFERENCES `person` (`personID`) 
  ON DELETE CASCADE 
  ON UPDATE CASCADE)
ENGINE = InnoDB;
SHOW WARNINGS;

DROP TABLE IF EXISTS `player` ;
CREATE TABLE Player (
    `playerID` INT(5) NOT NULL,
    `motherID` INT(5),
    `fatherID` INT(5),
    `schoolID` INT(5),
    PRIMARY KEY (`playerID`), 
    FOREIGN KEY (`playerID`) REFERENCES `person` (`personID`) 
    ON DELETE CASCADE 
    ON UPDATE CASCADE,
    FOREIGN KEY (`motherID`) REFERENCES `parent` (`parentID`) 
    ON DELETE CASCADE 
    ON UPDATE CASCADE,
    FOREIGN KEY (`fatherID`) REFERENCES `parent` (`parentID`) 
    ON DELETE CASCADE 
    ON UPDATE CASCADE, 
    FOREIGN KEY (`schoolID`) REFERENCES `school` (`schoolID`) 
    ON DELETE CASCADE 
    ON UPDATE CASCADE)
ENGINE = InnoDB;
SHOW WARNINGS; 
```

这是具有这些表的逻辑模型的一部分：

![在此处输入图像描述](../Images/fa80e44686c70a82c37ce3905b45b7e3.png)

如果布兰科或其他任何人可以用布兰科的回答来验证我的尝试，那就太好了。您还会注意到，对于图像，我使用 MySQL Workbench 作为模型。

以下内容超出了这个特定问题的范围，但如果有人能帮助解决这个问题，那就太好了：

我被要求不要使用反向或正向工程将 sql 代码转换为模型模式等，但这使我能够验证我在 Visio 中构建的模型的正确性。但是，我不能完全让 Visio 模型看起来像 Workbench 模型 - 这是我试图在上面建模的表的 Visio 版本：

![在此处输入图像描述](../Images/ff4183ff16e3a9dd0dabe8a48726e46a.png)

正如您在 Visio 版本中看到的那样，“fatherID”和“motherID”列未指示为外键，这是我想要的（在 Workbench 版本中进行了说明）。如果有人可以帮助我让我的 Visio 模型看起来与 Workbench 版本相同，那就太好了。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-28T07:15:08.387

我不确定为什么一个人会有多个地址——但我想他们可以。但是，如果我正在处理多个地址，那么我会将地址推送到另一个表中并有一个 person_address 加入表。这样，您就不会为居住在同一地址的每个人重复地址数据。

*您的父表需要两个字段 - 一个用于父级，另一个用于播放器（正如*我之前所说的，我认为如果它们都指向人，它会更好地工作）。为什么你在父母和玩家之间有两条关系线？

person|parent 关系不会是 1..1 - 1..1，因为这意味着每个人都是父母，而您的玩家可能不是。

顺便说一句——但你似乎真的很关注母亲和父亲。可能没有任何一个，也可能有多个。您不需要单独的关系来规定性别 - 这应该是 PERSON 中的数据，或者根本不存在无关紧要的数据。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-28T08:08:26.367

好的，这太痛苦了。你把它复杂化了。我没有 visio，所以请尝试应对：

*   PERSON(person_id, first_name, last_name) PK: person_id
*   FAMILY(parent,player) PK:(parent,player) FK:FAMILY.parent -> PERSON.person_id, FK:player->PERSON.person_id

就是这样——简单。

您所需要的只是一张将两个不同的人匹配在一起的桌子。要找到孩子的所有看护人，您只需将人与人结合并为孩子进行过滤。

地址：

*   PERSON_ADDRESS(person_id,address_id) PK:(person_id,address_id) FK:person_id->person.person_id, FK:address_id->address.address_id
*   ADDRESS(address_id,st-num,street, city,phone) PK:address_id 其中 st-num 可能是 23B 之类的字母数字

实际上 - 我不喜欢你把电话放在地址里。不会扩展到地址中的多个电话号码。但是地址是一种干扰。您的问题似乎是关于将玩家与父母联系起来。

学校应该是它自己的桌子。将 school_id 放入 person 中，或者如果您讨厌空值，则有一个连接表 person_school ，其中只有孩子的记录

# ruby-on-rails-3 - 延迟的工作不工作

> ID：10345481
> 
> 赞同：2
> 
> 时间：2012-04-27T05:56:18.247
> 
> 标签：ruby-on-rails-3, activerecord, delayed-job, web-worker

我想抓取一些网站，我希望这应该由单独的工作进程完成。我开始了解延迟工作以在后台完成工作。我在我的 rails 应用程序中使用了[collectiveidea/delayed_job](https://github.com/collectiveidea/delayed_job)。我遵循了rails 3.0 和活动记录的安装步骤。

之后，我在 lib 文件中创建了一个 dj.rb 并编写了如下代码。

```
require 'nokogiri'
require 'open-uri'
class Dj_testing
  def perform
    #code for scraping the site
    #code to add entry into database 
  end
end 
```

现在之后我使用以下命令启动工人

> 脚本/延迟作业开始
> 
> 耙工作：工作

我的工人开始了，在我的终端上我可以看到

> [Worker(host:user1234-desktop pid:9487)] 启动工作工作者

现在我的问题是当我直接调用 perform 方法时它工作正常。我的意思是以下代码可以完美地抓取网站并填充数据库。

> ruby-1.9.2-p0 > Dj_testing.new.perform

但是当我延迟同一份工作时，它会将工作添加到延迟工作表中并且什么都不做:(

> ruby-1.9.2-p0 > Dj_testing.delay.new

或者

> ruby-1.9.2-p0 > 延迟::Job.enqueue Dj_testing.new

```
 #<Delayed::Backend::ActiveRecord::Job id: 150, priority: 0, attempts: 0, handler: 
"---!ruby/object:Delayed::PerformableMethod \nargs: ...", last_error: nil,
run_at: "2012-04-27 05:25:29", locked_at: nil, failed_at: nil, locked_by: nil,
queue: nil,created_at:     "2012-04-27 05:25:29", updated_at: "2012-04-27 05:25:29"> 
```

为什么工作没有按预期工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-28T15:55:12.013

您需要在调用该方法的对象上调用“延迟”。所以，在你的情况下，它应该是：

```
Dj_testing.new.delay.perform 
```

并不是

```
Dj_testing.delay.new 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T10:46:20.610

@salil 调用该方法的方式是正确的，但是您可能会遇到其他问题。

遵循我对这篇文章的回答中的指南（我没有在这里发帖，因为有很多:-)） [https://stackoverflow.com/a/15000180/226255](https://stackoverflow.com/a/15000180/226255)

我希望这有帮助

# javascript - 当响应非常大时，JQuery ajax 冻结 ui

> ID：10345483
> 
> 赞同：8
> 
> 时间：2012-04-27T05:56:26.390
> 
> 标签：javascript, json, performance, jquery

当我使用 JQuery ajax 函数并且响应非常大~1mb 时，ui 在调用成功函数之前被冻结。我在使用 JSON.parse 函数并解析大量数据时体验过这一点。我相信这个函数是在请求返回时使用的，将内容格式化为 JSON。这是我正在使用的代码。

```
$.ajax({
        url: "/sessions/" + this.get("session_id") + "/get_sample_data",
        data: params,
        dataType: 'json',
        type: "GET",
        success: function (response) {
            success(response);
        }
    }); 
```

无论如何要覆盖响应的代码，以便我可以将解析错开成部分并希望最大限度地减少对 ui 的阻塞？还是有另一种方法来解决这个问题。我正在使用 chrome 和 chrome canary，两者的结果相同。

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-27T06:03:35.440

猜测是解析巨大的 JSON 响应是导致延迟的原因。如果是这种情况，那么您有以下选择：

1.  将服务器响应分解为多个请求。
2.  将解析分解为多个部分。
3.  将响应发送给 web worker 并在 web worker 中解析它（在旧浏览器中不起作用）。

要将解析分解为多个部分，您必须更改 jQuery ajax 调用以仅返回原始文本，并且您必须创建自己的 JSON 解析器，该解析器可以分块完成工作，`setTimeout()`以便 UI 可以保持活跃解析时。这将是一个合理的工作量。我假设您将从现有的 JSON 解析器开始，然后您必须修改它以保存它的状态，使其可以分块工作。

如果您可以适当地修改与服务器的接口，则更改与服务器的接口以检索 JSON 片段可能是解决问题的更简单方法。

For some alternative ideas on how to process large data in chunks, you can see [Best way to iterate over an array without blocking the UI](https://stackoverflow.com/questions/10344498/best-way-to-iterate-over-an-array-without-blocking-the-ui/10344560#10344560)

# c# - 创建关系的 linq 问题

> ID：10345489
> 
> 赞同：1
> 
> 时间：2012-04-27T05:57:04.653
> 
> 标签：c#, linq, entity-relationship, datacontract

似乎我的 linq 有一个小问题，我有一个组数据合同，我有一个单独的消息数据合同。消息可以是组的一部分。但是，当我更新消息记录时，它不会在我列出组信息时反映出来，该组的消息仍然相同。但是当我直接列出消息时会反映更新吗？

这是我将消息添加到组的方式：

```
 //lists for reference:
    List<Group> Groups = new List<Group>();
    List<Message> messages = new List<Message>();

    //not sure the below method is correct for adding a message to a group
    public void AddMessagetoGroup(string group, string messageID, string message)
    {
        var result = Groups.Where(n => String.Equals(n.GroupName, group)).FirstOrDefault();
        var result1 = messages.Where(n => String.Equals(n.MessageID, messageID)).FirstOrDefault();
        if (result != null)
        {
            result.GroupMessages.Add(new Message() { MessageID = messageID, GroupMessage = message });
        }
        if (result1 != null)
        {
            result1.MessageGroup.Add(new Group() { GroupName = group });
        }

    } 
```

真的不明白发生了什么，如果我将消息添加到组中，我对消息所做的任何更改都应该得到反映。我唯一能想到的是它添加一个已经存在的消息的新实例，这意味着我的更新方法只是复制消息，但是这个新复制的记录甚至保存在哪里。如果很难修复，我该如何更新已复制到/添加到组的消息（便宜的解决方法）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:43:19.533

假设一个组可以有消息，一个消息可以有组，你试图维护 5 件事：

1.  所有组的列表`List<Group> Groups = ...`
2.  所有消息的列表`List<Message> messages = ...`
3.  `List<Message> GroupMessages...`组中每个组的消息
4.  `List<Group> MessageGroup...`消息中每条消息的组
5.  发送到群组的实际消息在多个地方更新

据我所知，这是最后一个没有正确维护的：

*   在`AddMessagetoGroup`您将“新”关联`Message`到`Group.GroupMessages`. 这是一个类的新实例，当您更新其他 Message 实例时不会自动更新。仅仅因为两条消息相同`MessageId`并不意味着它们是相同的实例。

*   在`UpdateMessage`您更改特定消息但仅在消息列表中。这并不指向组列表中的相同消息。

总而言之，您需要重构才能真正让您的代码达到您想要的效果。我看到的方式是您希望将组和消息分开，并从另一个引用一次，而不是创建副本。

一、主名单：

```
List<Group> Groups = new List<Group>();
List<Message> Messages = new List<Message>(); 
```

其次，创建**或**更新消息（您还没有创建部分）：

```
public Message CreateOrUpdateMessage(string messageID, string groupMessage)
{
    var findmessage = Messages.Where(s => s.MessageID == messageID).FirstOrDefault();

    if (findmessage != null)
    {
        findmessage.GroupMessage = groupMessage;
    }
    else
    {
        findmessage = new Message() { MessageID = messageID, GroupMessage = groupMessage};
        Messages.Add(findmessage);
    }

    return findmessage;
} 
```

请注意这是如何将此消息添加到消息列表中的。这是唯一应该添加或更改消息的函数。

最后将消息添加到组（注意我不担心在这里添加组）：

```
public void AddMessagetoGroup(string group, string messageID, string message)
{
    var findmessage = CreateOrUpdateMessage(messageID, message); 
    var findgroup = Groups.Where(n => String.Equals(n.GroupName, group)).FirstOrDefault();

    if (findgroup != null)
    {
        if (findgroup.GroupMessages.Where(m => m.MessageID == messageID).Count() == 0)
        {
            findgroup.GroupMessages.Add(findmessage);
            findmessage.MessageGroup.Add(findgroup);
        }
    }
} 
```

请注意，此函数还将创建消息，并确保消息总数或任何特定组的消息中没有重复项。

# wpf - WPF图像跨越另一个

> ID：10345493
> 
> 赞同：0
> 
> 时间：2012-04-27T05:57:15.257
> 
> 标签：wpf, xaml, .net

如何用 XAML 制作这个？

[http://img851.imageshack.us/img851/8505/85612476.png](http://img851.imageshack.us/img851/8505/85612476.png)

那是三张图像，一张左边，一张右边，一张在上面。我需要使用不是画布的面板。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:16:12.483

像这样的东西：

```
<Grid>
    <Image Width="250" Height="500" HorizontalAlignment="Left" />
    <Image Width="250" Height="500" HorizontalAlignment="Right" />
    <Image Width="250" Height="250" HorizontalAlignment="Center" VerticalAlignment="Center" />
</Grid> 
```

# git - Godaddy 上的 Git - 找不到 git-upload-pack

> ID：10345497
> 
> 赞同：3
> 
> 时间：2012-04-27T05:57:24.813
> 
> 标签：git, bash, clone

[我尝试按照本教程](http://johntrammell.com/wp/2011/01/05/using-git-on-godaddy/)中编写的步骤在 godaddy 共享主机上安装 git 。Git 工作，我创建了一个提交和一个副本，但我没有设法解决步骤 5 中提到的路径问题，所以我无法从远程计算机上传和下载。我在这里发现了很多关于同一主题的问题，尝试了一切，但没有奏效。知道如何解决吗？

git错误信息：

```
bash: git-upload-pack: command not found
fatal: The remote end hung up unexpectedly 
```

~/.gitconfig（由“git config --global”命令创建）

```
[remote "origin"]
        receivepack = libexec/git-core/git-receive-pack
        uploadpack = libexec/git-core/git-upload-pack 
```

~/.bash_profile

```
PS1="[\u@\h:\W]> "
export EDITOR=vim
export PATH=$PATH:$HOME/bin:$HOME/libexec/git-core
export LD_LIBRARY_PATH=$HOME/lib
export GIT_EXEC_PATH=~/libexec/git-core
export GIT_TEMPLATE_DIR=~/share/git-core/templates 
```

我讨厌这个 ：-（

**编辑：**

ssh 连接日志：

```
Welcome to Git (version 1.7.7.1-preview20111027)

Run 'git help git' to display the help index.
Run 'git help <command>' to display help for specific commands.

inf3rno@INF3RNO-PC ~
$ ssh -vvv user@mygodaddyhost.com
OpenSSH_4.6p1, OpenSSL 0.9.8e 23 Feb 2007
debug2: ssh_connect: needpriv 0
debug1: Connecting to mygodaddyhost.com [11.111.111.1] port 22.
debug1: Connection established.
debug1: identity file /c/Users/inf3rno/.ssh/identity type -1
debug3: Not a RSA1 key file /c/Users/inf3rno/.ssh/id_rsa.
debug2: key_type_from_name: unknown key type '-----BEGIN'
debug3: key_read: missing keytype
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug2: key_type_from_name: unknown key type '-----END'
debug3: key_read: missing keytype
debug1: identity file /c/Users/inf3rno/.ssh/id_rsa type 1
debug1: identity file /c/Users/inf3rno/.ssh/id_dsa type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.1
debug1: match: OpenSSH_5.1 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_4.6
debug2: fd 3 setting O_NONBLOCK
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-g
roup-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour1
28,arcfour256,arcfour,aes192-cbc,aes256-cbc,rijndael-cbc@lysator.liu.se,aes128-c
tr,aes192-ctr,aes256-ctr
debug2: kex_parse_kexinit: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour1
28,arcfour256,arcfour,aes192-cbc,aes256-cbc,rijndael-cbc@lysator.liu.se,aes128-c
tr,aes192-ctr,aes256-ctr
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,hmac-ripemd160,hmac-ripemd160@open
ssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,hmac-ripemd160,hmac-ripemd160@open
ssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit: first_kex_follows 0
debug2: kex_parse_kexinit: reserved 0
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-g
roup-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-dss
debug2: kex_parse_kexinit: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour1
28,arcfour256,arcfour,aes192-cbc,aes256-cbc,rijndael-cbc@lysator.liu.se,aes128-c
tr,aes192-ctr,aes256-ctr
debug2: kex_parse_kexinit: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour1
28,arcfour256,arcfour,aes192-cbc,aes256-cbc,rijndael-cbc@lysator.liu.se,aes128-c
tr,aes192-ctr,aes256-ctr
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160
,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160
,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit: first_kex_follows 0
debug2: kex_parse_kexinit: reserved 0
debug2: mac_init: found hmac-md5
debug1: kex: server->client aes128-cbc hmac-md5 none
debug2: mac_init: found hmac-md5
debug1: kex: client->server aes128-cbc hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug2: dh_gen_key: priv key bits set: 139/256
debug2: bits set: 537/1024
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug3: check_host_in_hostfile: filename /c/Users/inf3rno/.ssh/known_hosts
debug3: check_host_in_hostfile: match line 2
debug3: check_host_in_hostfile: filename /c/Users/inf3rno/.ssh/known_hosts
debug3: check_host_in_hostfile: match line 2
debug1: Host 'mygodaddyhost.com' is known and matches the DSA host key.
debug1: Found key in /c/Users/inf3rno/.ssh/known_hosts:2
debug2: bits set: 533/1024
debug1: ssh_dss_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /c/Users/inf3rno/.ssh/identity (0x0)
debug2: key: /c/Users/inf3rno/.ssh/id_rsa (0xa01a438)
debug2: key: /c/Users/inf3rno/.ssh/id_dsa (0x0)
debug1: Authentications that can continue: publickey,gssapi-with-mic,password,ke
yboard-interactive
debug3: start over, passed a different list publickey,gssapi-with-mic,password,k
eyboard-interactive
debug3: preferred publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Trying private key: /c/Users/inf3rno/.ssh/identity
debug3: no such identity: /c/Users/inf3rno/.ssh/identity
debug1: Offering public key: /c/Users/inf3rno/.ssh/id_rsa
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Server accepts key: pkalg ssh-rsa blen 277
debug2: input_userauth_pk_ok: fp ff:ff:ff:ff:ff:ff:ff:ff:ff:ff:ff:ff:ff:ff:ff:ff

debug3: sign_and_send_pubkey
debug1: read PEM private key done: type RSA
debug1: Authentication succeeded (publickey).
debug1: channel 0: new [client-session]
debug3: ssh_session2_open: channel_new: 0
debug2: channel 0: send open
debug1: Entering interactive session.
debug2: callback start
debug2: client_session2_setup: id 0
debug2: channel 0: request pty-req confirm 0
debug3: tty_make_modes: ospeed 38400
debug3: tty_make_modes: ispeed 38400
debug3: tty_make_modes: 1 3
debug3: tty_make_modes: 2 28
debug3: tty_make_modes: 3 8
debug3: tty_make_modes: 4 21
debug3: tty_make_modes: 5 4
debug3: tty_make_modes: 6 0
debug3: tty_make_modes: 7 0
debug3: tty_make_modes: 8 17
debug3: tty_make_modes: 9 19
debug3: tty_make_modes: 10 26
debug3: tty_make_modes: 12 18
debug3: tty_make_modes: 13 23
debug3: tty_make_modes: 14 22
debug3: tty_make_modes: 18 15
debug3: tty_make_modes: 30 0
debug3: tty_make_modes: 31 0
debug3: tty_make_modes: 32 0
debug3: tty_make_modes: 33 0
debug3: tty_make_modes: 34 0
debug3: tty_make_modes: 35 0
debug3: tty_make_modes: 36 1
debug3: tty_make_modes: 37 0
debug3: tty_make_modes: 38 1
debug3: tty_make_modes: 39 0
debug3: tty_make_modes: 40 0
debug3: tty_make_modes: 41 0
debug3: tty_make_modes: 50 1
debug3: tty_make_modes: 51 1
debug3: tty_make_modes: 53 1
debug3: tty_make_modes: 54 0
debug3: tty_make_modes: 55 0
debug3: tty_make_modes: 56 0
debug3: tty_make_modes: 57 0
debug3: tty_make_modes: 58 0
debug3: tty_make_modes: 59 1
debug3: tty_make_modes: 60 0
debug3: tty_make_modes: 61 0
debug3: tty_make_modes: 70 1
debug3: tty_make_modes: 71 0
debug3: tty_make_modes: 72 1
debug3: tty_make_modes: 73 0
debug3: tty_make_modes: 74 0
debug3: tty_make_modes: 75 0
debug3: tty_make_modes: 90 1
debug3: tty_make_modes: 91 1
debug3: tty_make_modes: 92 0
debug3: tty_make_modes: 93 0
debug2: channel 0: request shell confirm 0
debug2: fd 3 setting TCP_NODELAY
debug2: callback done
debug2: channel 0: open confirm rwindow 0 rmax 32768
debug2: channel 0: rcvd adjust 2097152
Last login: Fri Apr 27 02:00:43 2012 from catv-111-11-111-11.catv.broadband.hu
[user@blabla:~]> 
```

我可以通过 ssh 创建、删除、下载文件，所以我认为问题出在 git 上，而不是 ssh 和我的本地计算机设置上。

**Edit2:** 使用 git bash 这有效：

```
git clone -u libexec/git-core/git-upload-pack user@host.com:myrepo.git "D:/myrepo" 
```

所以有一个我无法解决的 git config 问题，我尝试这样配置 git：

```
git config --global remote.origin.receivepack libexec/git-core/git-receive-pack
git config --global remote.origin.uploadpack libexec/git-core/git-upload-pack 
```

这是无效的。在教程中没有--global，但没有它给了我错误：无法锁定.git/config没有这样的文件或目录......

所以 git 可以工作，但是它有配置问题，并且 git gui ssh 连接还有另一个问题......

```
ls -l .ssh
total 12
-rw------- 1 myuser inetuser  802 Apr 27 02:05 authorized_keys
-rw------- 1 myuser inetuser 1675 Apr 27 00:29 id_rsa
-rw------- 1 myuser inetuser  401 Apr 27 00:29 id_rsa.pub 
```

这是文件内容（每个键都有严重的变化）

```
vi authorized_keys
ssh-rsa CACAB3NzaC1yc2ECACAFiwCAAQEAugaPHL6tF9eKRNDVBTiIbV6tG6Nusl30EPjVT6z1fDLe2g0iXBFlcB+gziDYrJdLhpV78qShE8+uCM0e2RTSBbYEM3tiZprJy142ESPTLR3IkVEEpEH2hsGMHpP3n3rwSb9dExx/OozrkWYBPIa08TZmp27YE+DgF7ZrVF/WqL9MCnNUM8hllmmBRIuR/gTZHmvE3E5pmIgV7k7umR2xbXk6zsFqUrY7iSPIZSTxE/M26CzngnGaLjTLBlq091tEXxWWek6A9oTPKYCb0LXExKvP7z+hD/uEvdpMjwHI0rtjo600Xe+rYl+bSgl21BAv4y0QlI7gkFwpuuymwYq5aw== inf3rno@INF3RNO-PC

ssh-rsa CACAB3NzaC1yc2ECACAFiwCAAQEA2zjE1e5FT6cgBzNY3Stqc9eY4djVYg3EO/6YkCBUJ/Vxf3X/aXiVpyDmPBuTfWIimS4prtVoXA23bQ6WwdrtgiKPLKIohyV7MFJAOSlACzXlZe5QjzZx4WbLiyGxY32ImFfO1Px9EU71+AtSxXcPLaY1Yn9U/yRpZCU4Bp4E4+ZvrP8hGZwzWNcVBr/u3SsDhIJueqZWxDNvaHlN03P/56z9J4dCt/siPFbUvhu9ztmRamMBYiY72UgUhET7NIJfTZU+CqvIym4jBUKZ5h6ryWRRMYuDTZarSb/K+w0PxNw/eUX565K3MpE/qCAxC+1S3iVdMk6qoRy4tSapCdCtrQ== info@myhost.com
"authorized_keys" 3L, 802C                                    3,1           All

vi id_rsa.pub
ssh-rsa CACAB3NzaC1yc2ECACAFiwCAAQEA2zjE1e5FT6cgBzNY3Stqc9eY4djVYg3EO/6YkCBUJ/Vxf3X/aXiVpyDmPBuTfWIimS4prtVoXA23bQ6WwdrtgiKPLKIohyV7MFJAOSlACzXlZe5QjzZx4WbLiyGxY32ImFfO1Px9EU71+AtSxXcPLaY1Yn9U/yRpZCU4Bp4E4+ZvrP8hGZwzWNcVBr/u3SsDhIJueqZWxDNvaHlN03P/56z9J4dCt/siPFbUvhu9ztmRamMBYiY72UgUhET7NIJfTZU+CqvIym4jBUKZ5h6ryWRRMYuDTZarSb/K+w0PxNw/eUX565K3MpE/qCAxC+1S3iVdMk6qoRy4tSapCdCtrQ== info@myhost.com
"id_rsa.pub" 1L, 401C                                         1,1           All

vi id_rsa
-----BEGIN RSA PRIVATE KEY-----
MIIEogIBCAKCAQEA2zjE1e5FT6cgBzNY3Stqc9eY4djVYg3EO/6YkCBUJ/Vxf3X/
aXiVpyDmPBuTfWIimS4prtVoXA23bQ6WwdrtgiKPLKIohyV7MFJAOSlACzXlZe5Q
jzZx4WbLiyGxY32ImFfO1Px9EU71+AtSxXcPLaY1Yn9U/yRpZCU4Bp4E4+ZvrP8h
GZwzWNcVBr/u3SsDhIJueqZWxDNvaHlN03P/56z9J4dCt/siPFbUvhu9ztmRamMB
YiY72UgUhET7NIJfTZU+CqvIym4jBUKZ5h6ryWRRMYuDTZarSb/K+w0PxNw/eUX5
65K3MpE/qCAxC+1S3iVdMk6qoRy4tSapCdCtrQIFiwKCAQAZgR1af9S4pWK+/o3Q
IjgNPTYsarlNCOM6DnfV9RDun7UzI22lp2GLVWWR1lHFL8lwl44D5WWpmyrn5GkA
NkcHj1EprCHjj0FGzdt0PzqE8Dd5iQk08EeHeXZZCyo3QYv0J0rWg0F+Uiq9Qx9n
BkrgpUft/+x07gn6EuHU3tv8yaqrnD3ly6m8/tEA2NvsXWWsrR+u2gdXYqoS7z2e
OvaHELGywPvxPJ/q3udumqKes06+RbZX7ph1fzwYlDzy5pZ3qy4m7sMEISWY1SqL
VWhP1avv688mF03wlzoIFi7ORXDlRM9VLYHosMXgt85Zo2Q/f3MEi6hk+bQmEvHc
ZqkbAoGBAQgwoDFkdzMjrZj3XsRVPLGz0HBdxYoWmjKbdKPAY5MDZ02QYXuTqW07
jy4hT/w1kUxyz4kp17MC9lp2ItnjEOUjXFIKFqRFf7dxtcxKodM6MbI8YlPk0f9h
Xv7v97NnLhXG1RPbON9RllC4q4gTg+1RoSPQHxtsJghYqxDVBUIbAoGBAOIex9Ia
bvUKc9dHe5Yzx2qGxyji7E9w+eynVnEqjH/Gc5y7DSqlfz25qT2VArILh1cFWXy2
5tLSOGm2EQwED9Wivxgr6/oczGKZ45lYUAfDnP6B2drrGMHvNZBE7XrQzo3cVs/n
C6cn8CuBLGHIE7hg6QrgqQ/BbcgPVdPsSSGvAoGAf6P6nQ8Yvdny4PQ/Xagt182P
xMKC2Uz134MmfR11Ccc8cQhspfQrP323WY15l6aFO6/Z0YM7uyYYTRFiYW12ZzbB
w8qsjv8rvW2t9AkgBjsvgDxP01+8dLW705Fa0UsBwg58Nhj4rV0ou8yv+Y+FrT/s
eNFvFWrRuyZJWR0YpacCgYEArm+ENF2Iy6j6Rv0A30yD5HaZozK2S+lwV3nGV0y1
hyQQCzE2CvSynVS1wcq477/ARpADNFKUzoTpsKJk7AMiKHY7pO6uuaEv9ErUJdZp
n6QKQK1QSctNnOu7my3bxSS8mVI0Vz004Ajd2Gr2Wg9fq331mq1POAo+vudCNcTn
"id_rsa" 27L, 1675C                                           2,1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:18:00.463

我会尝试使用这些可执行文件的完整路径：

```
[remote "origin"]
        receivepack = /full/absolute/path/to/libexec/git-core/git-receive-pack
        uploadpack = /full/absolute/path/to/libexec/git-core/git-upload-pack 
```

我确认您的系统`sshd_config`包含`PermitUserEnvironment no`.bashrc 与 SSH 会话无关。

[OP inf3rno](https://stackoverflow.com/users/607033/inf3rno)得出结论：

> 行。有误会`git clone`。
> **本地机器配置文件必须有上传包的位置，而不是服务器上的配置文件**。
> 另一种解决方案可能是，在克隆之前，我们在服务器上插入一个配置文件，其中包含 git 二进制文件的位置。
> 我尝试了第一个解决方案，效果很好。

* * *

笔记：

```
debug1: identity file /c/Users/inf3rno/.ssh/identity type -1
debug3: Not a RSA1 key file /c/Users/inf3rno/.ssh/id_rsa.
debug2: key_type_from_name: unknown key type '-----BEGIN'
debug3: key_read: missing keytype
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace 
```

是公共 SSH 密钥未正确复制的迹象（在源中`/c/Users/inf3rno/.ssh/id_rsa`或在目标中`~/.ssh/authorized_keys`）。
这通常意味着密钥已被吐成几行，而不是一长行（在[这个答案](https://serverfault.com/a/376256/783)中提到。

所以像：

```
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAybmcqaU/Xos/GhYCzkV+kDsK8+A5OjaK
5WgLMqmu38aPo56Od10RQ3EiB42DjRVY8trXS1NH4jbURQPERr2LHCCYq6tHJYfJNhUX
/COwHs+ozNPE83CYDhK4AhabahnltFE5ZbefwXW4FoKOO+n8AdDfSXOazpPas8jXi5bE
wNf7heZT++a/Qxbu9JHF1huThuDuxOtIWl07G+tKqzggFVknM5CoJCFxaik91lNGgu2O
TKfY94c/ieETOXE5L+fVrbtOh7DTFMjIYAWNxy4tlMR/59UVw5dapAxH9J2lZglkj0w0
LwFI+7hZu9XvNfMKMKg+ERAz9XHYH3608RL1RQ== This comment describes the 
key 
```

代替：

```
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAybmcqaU/Xos/GhYCzkV+kDsK8+A5OjaK5WgLMqmu38aPo56Od10RQ3EiB42DjRVY8trXS1NH4jbURQPERr2LHCCYq6tHJYfJNhUX/COwHs+ozNPE83CYDhK4AhabahnltFE5ZbefwXW4FoKOO+n8AdDfSXOazpPas8jXi5bEwNf7heZT++a/Qxbu9JHF1huThuDuxOtIWl07G+tKqzggFVknM5CoJCFxaik91lNGgu2OTKfY94c/ieETOXE5L+fVrbtOh7DTFMjIYAWNxy4tlMR/59UVw5dapAxH9J2lZglkj0w0LwFI+7hZu9XvNfMKMKg+ERAz9XHYH3608RL1RQ== This comment describes the key 
```

* * *

[OP Inf3rno](https://stackoverflow.com/users/607033/inf3rno)提到：

**配置问题的服务器端解决方案[由 inf3rno 编辑]：**

我将 git 安装到`~/git`并添加了以下文件：

`~/.ssh/authorized_keys`：

```
command="~/connect.sh" ssh-rsa aaaaaaaaaaaaa... == inf3rno@INF3RNO-PC 
```

`~/connect.sh`：

```
#!/bin/bash
if [ -f "${HOME}/.env_profile" ]; then
        source ~/.env_profile
fi;

if [ "x${SSH_ORIGINAL_COMMAND}x" == "xx" ]; then
        $SHELL --login
else
        eval "${SSH_ORIGINAL_COMMAND}"
fi; 
```

`~/.env_profile`：

```
 export PATH=$PATH:$HOME/bin:$HOME/git/libexec/git-core
    export LD_LIBRARY_PATH=$HOME/git/lib
    export GIT_EXEC_PATH=~/git/libexec/git-core
    export GIT_TEMPLATE_DIR=~/git/share/git-core/templates 
```

> 所以现在它在任何 git 命令之前设置 env 变量......
> 遗憾的是 GoDaddy 没有其他方法，只有 authorized_keys hax。在 git 命令之前不执行其他文件。

# c# - 从 Linq 获取 SPListItem 到 Sharepoint 结果

> ID：10345498
> 
> 赞同：0
> 
> 时间：2012-04-27T05:57:35.050
> 
> 标签：c#, linq, sharepoint, linq-to-sharepoint

我使用 Linq-to-Sharepoint 访问一个 Sharepoint 列表并遍历结果中的项目。

这些项目（当然）只是生成的类，仅具有该列表中的属性。

但是，如果我直接使用`SPListItem`.

那么如何`SPListItem`从 Linq-to-Sharepoint 结果项中获取对象呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T02:33:46.300

似乎这是不可能的，但我不会删除这个问题，以防其他人正在寻找它。或者有人找到了解决方案（然后我将其标记为答案）。

# haskell - 使用任意实例生成三元组 (Network.HTTP.ResponseCode)

> ID：10345504
> 
> 赞同：0
> 
> 时间：2012-04-27T05:58:18.140
> 
> 标签：haskell, quickcheck

我有一个从 Network.HTTP 获取 ResponseCode 的函数。为了使用 QuickCheck 对其进行测试，我想为 ResponseCode 编写一个 Arbitrary 实例。（如果您不知道，ResponseCode 只是该库中的三个整数：type ResponseCode = (Int, Int, Int)）。

所以我写了这样的东西：

```
instance Arbitrary ResponseCode where
    arbitrary = triple ( elements [1..6] )
       where triple f = (f, f, f) 
```

首先，GHC 抱怨我使用类型的方式不是标准的 haskell，所以我必须使用一些编译器标志（这不是我真正想要的，因为我觉得必须有一个简单的解决方案来解决这个简单的问题，而无需标志）。

其次，我的任意函数类型错误，这很明显。但是后来我真的不知道如何编写一个函数来返回一个三元组，其中随机整数范围为 1-6。

如果有人可以在这里帮助我，我将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T06:42:50.640

首先，已经有这两个实例：

```
instance Arbitrary Int
instance (Arbitrary a, Arbitrary b, Arbitrary c) =>
         Arbitrary (a, b, c) 
```

这意味着 (Int,Int,Int) 已经是 Arbitrary 的一个实例。这意味着类型同义词 ResponseCode 已经是一个实例。您不能定义和使用第二个实例。

您可以尝试使用 Test.QuickCheck.Gen.suchThat 但我假设在这种情况下它不会很好地工作。如果可以的话，我建议使用新类型包装器：

```
import Test.QuickCheck
import Network.HTTP.Base
import Control.Applicative
import System.Random

newtype Arb'ResponseCode = Arb'ResponseCode { arb'ResponseCode :: ResponseCode }
  deriving (Show)

instance Arbitrary Arb'ResponseCode where
  arbitrary = do
      responseCode <- (,,) <$> f <*> f <*> f
      return (Arb'ResponseCode responseCode)
    where f = elements [1..6]

-- To use this you can call
-- (fmap arb'ResponseCode arbitrary)
-- instead of just (arbitrary) 
```

或者也许使用内置的 (Int,Int,Int) 实例并使用 (succ . ( `mod`6)) 对这三个元素进行后处理。

# jquery - Jquery masonry 无法获取多列

> ID：10345508
> 
> 赞同：0
> 
> 时间：2012-04-27T05:58:46.160
> 
> 标签：jquery, ruby-on-rails, ruby-on-rails-3, jquery-masonry

我正在使用 Jquery masonry 插件来构建页面，使其具有 2 列。

我不确定插件是否正常工作......它只显示 1 列，如果我更改 Jquery 代码中的列宽，则不会发生任何事情。

代码如下-感谢您的任何建议！

谢谢，

费萨尔

```
script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script src="/assets/jquery.js"></script>
<script src="/assets/jquery.masonry.min.js"></script>

<style>
.item {
 width: 480px;
 .....
 }

</style>
<div id="container">
 <div class="item">
 ......
 </div>
</div>

<script>
$(function(){
    var $container = $('#container');
    $container.imagesLoaded(function(){
      $container.masonry({
        itemSelector : '.tile',
        columnWidth : 100
      });
    });

$container.infinitescroll({
      navSelector  : '.flickr_pagination',    // selector for the paged navigation 
      nextSelector : 'a.next_page',  // selector for the NEXT link (to page 2)
      itemSelector : '.tile',     // selector for all items you'll retrieve
      loading: {
          finishedMsg: 'No more pages to load.',
          img: 'http://i.imgur.com/6RMhx.gif'
        }
      },
      // trigger Masonry as a callback
      function( newElements ) {
        // hide new items while they are loading
        var $newElems = $( newElements ).css({ opacity: 0 });
        // ensure that images load before adding to masonry layout
        $newElems.imagesLoaded(function(){
          // show elems now they're ready
          $newElems.animate({ opacity: 1 });
          $container.masonry( 'appended', $newElems, true ); 
        });
      }
    );
});
</script>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T18:44:02.053

希望你现在已经解决了。以防万一，如果没有，则使用以下方法更改列宽：

```
 $container.imagesLoaded(function(){
  $container.masonry({
    itemSelector : '.tile',
   columnWidth: function( containerWidth )
   {
     return containerWidth / 2;
   }
  });
}); 
```

# visual-foxpro - 使用点阵打印机在 vfp 中慢速打印 (LQ-1170)

> ID：10345510
> 
> 赞同：0
> 
> 时间：2012-04-27T05:58:56.093
> 
> 标签：visual-foxpro

我知道这是 vfp 程序员的老话题。尽管如此，我还是想寻求可以改善我特定案例的打印时间的建议。

我最近要求更改用 vfp 编写的报告。它使用 fputs 等命令。用户在点阵打印机中打印此报告，当然：没问题。但是用户要求在报告中添加列和一些复杂的计算。我们试图避免纸张尺寸发生变化。所以我最初的解决方案是使用报表设计器重新设计报表，并将页面方向设置为横向。结果打印的时候很慢。当我打开打印队列时，它甚至显示错误 - 打印状态！

我试图在我的本地 PC（我编译 exe 的机器）中安装打印机驱动程序并选择了这台打印机，同时选中和取消选中“保存打印机环境”。结果还是一样。

有什么建议么？欢迎我的案例的其他技巧。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T10:54:06.670

有时，不确定是否是您的情况，在 VFP 中创建报告时，它会根据用于开发它的计算机（即：您的机器）保存打印机环境。要检查，并且由于所有报告都只是重命名的 .DBF 表，请尝试以下操作。以表格形式打开报告

```
USE YourReport.frx   (you have to explicitly include the .frx extension)
BROWSE 
```

报告的第一行是您的环境信息，包括纸张尺寸信息、方向甚至打印机信息。双击“Expr”列。在本专栏中，您可能需要的唯一内容是

方向=1（或 0）

它可能有其他东西，看起来像 DRIVER=winspool DEVICE=\some\printershare OUTPUT=IP_192.168.1.22 ORIENTATION=1 PAPERSIZE=1 SCALE=100 ASCII=0 COPIES=1 DEFAULTSOURCE=15 PRINTQUALITY=600 COLOR=2 DUPLEX =2 YRESOLUTION=600 TTOPTION=3 整理=0

您可以删除它的其余部分。接下来，关闭此列并在大约 10 个列上选择“Tag”和“Tag2”。它们也是 MEMO 类型的字段。打开它们。从这两列中删除所有数据......但仅限第一行！！！！如果您打开它们，您会看到更多关于打印机的嵌入内容，只需将其完全删除即可。不要对所有行进行全局替换以空白，因为这会杀死报告内容......只有第一行。

话虽如此，我不能保证，但这可能是罪魁祸首……但话又说回来，在旧的点阵打印机上进行直接输出实际上可能比打印机驱动程序所做的所有花哨的渲染要快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-29T22:31:59.850

试图通过 Windows 驱动程序将报表设计器中的报表打印到点阵打印机的速度**永远不会**很快。

这就是他们最初使用命令进行报告的原因。

您的选择是将打印机更改为激光打印机（我猜可能不可能）或将报告更改回旧样式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-03T15:32:22.647

在带有 VFP 报告的点阵打印机上快速打印几乎不难，您应该在原始模式下进行，而不是在 ?? 或者 ？？？方式，我的意思是这样的 API 调用：

--- RawPrint VCX ---

[http://www.universalthread.com/ViewPageNewDownload.aspx?ID=9556](http://www.universalthread.com/ViewPageNewDownload.aspx?ID=9556)

您可以使用带有某种“格式”支持的包装器，它是一种商业软件，但如果您需要使用这种打印机进行大量报告，那么它是值得的：

--- DosPrint 4 ---

[http://www.victorespina.com.ve/hs/es/index.php/DOSPrint4_%28VFP%29](http://www.victorespina.com.ve/hs/es/index.php/DOSPrint4_%28VFP%29)

（免责声明：DosPrint 4 的开发者是我的朋友，我和他一起在西班牙 MS-VFP 新闻组和[http://Portalfox.com](http://Portalfox.com)上测试和支持以前版本的 DosPrint 3 ）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T16:34:57.300

尝试使用 Microsoft Generic Text only 打印驱动程序

# ios - iphone：按钮角半径未设置

> ID：10345512
> 
> 赞同：6
> 
> 时间：2012-04-27T05:58:57.803
> 
> 标签：ios, cocoa-touch, uibutton

在我的 nib 文件中，我选择了一个自定义按钮，我想设置它的角半径。我已经在 QuartzCore 框架中链接了，然后编写下面的代码来设置它的圆角半径

```
[[btnPressureLink layer] setCornerRadius:15.0]; 
```

当我为按钮添加背景颜色时，角半径被设置，但是当我在按钮上放置图像时，角半径没有被设置。在按钮上使用图像时，我应该如何设置圆角半径？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-27T06:02:57.957

尝试

```
 btnPressureLink.layer.cornerRadius = 15.0;
 [btnPressureLink.layer setMasksToBounds:YES]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-13T04:08:04.837

你也可以用这个，

```
[[btnPressureLink layer]setCornerRadius:4.0f];

[[btnPressureLink layer]setMasksToBounds:YES]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-13T04:38:09.787

导入 Quartz core 试试这个....

```
button.layer.borderWidth = 2.0;
button.layer.cornerRadius = 12;
[button.layer setMasksToBounds:YES]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-30T13:15:45.187

迅速 4

```
self.buttonDone.layer.masksToBounds = true

//round shape
self.buttonDone.layer.cornerRadius = buttonDone.bounds.height/2

//custom shape
self.buttonCancel.layer.cornerRadius = 12 
```

# java - 在抽象类定义中使用 2 级泛型

> ID：10345514
> 
> 赞同：0
> 
> 时间：2012-04-27T05:59:26.693
> 
> 标签：java

我有这个通用接口：

```
public interface TjbListener<T> {
    public void hearChange(T t);
} 
```

我这样使用：

```
public interface ObjectOneListener extends TjbListener<ClassOne> {

} 
```

我想编写一个抽象泛型类 A，它以泛型类型 U 作为参数，并有一个方法 (1)，它本身在 U 上调用方法 (2)。下面是我的尝试 U 应该扩展（或可能实现？）通用 TjbListener 接口。

```
public abstract class ListenerInformer<U extends TjbListener<"what should I write here">> {
    List<U> mListeners = new ArrayList<U>();

    public void addListener(U u){
        mListeners.add(u);
    }

    public void informAll("what should I write here"){
        for(U u:mListeners){
            u.hearChange("what should I write here");
        }
    }
} 
```

我在写这个问题时想到的一个解决方案如下，但我不知道它是否真的是一个解决方案，或者它是否有我不明白的微妙问题：

```
public abstract class ListenerInformer<U extends TjbListener<T>,T> {
    List<U> mListeners = new ArrayList<U>();

    public void addListener(U u){
        mListeners.add(u);
    }

    public void informAll(T t){
        for(U u:mListeners){
            u.hearChange(t);
        }
    }
} 
```

**更新：当心**

我刚刚发现这种方法对我的特殊情况几乎没有用，因为同一个类不能用不同的参数实现同一个接口。请参阅下面链接的问题。这意味着我不能用我的（或 Johanna 的）解决方案让一个班级成为两种不同类型的听众，而不使用像组合这样的不同策略。

[如何制作一个实现一个接口和两个泛型类型的 Java 类？](https://stackoverflow.com/questions/1297972/how-to-make-a-java-class-that-implements-one-interface-with-two-generic-types)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T07:30:39.110

你的第二个例子应该工作。但是如果就这么简单，那么就不需要Generic U，因为TjbListener 子类的每个实例也是TjbListener 的一个实例。

你可以做更简单的：

```
public abstract class ListenerInformer<T> {
    List<TjbListener<T>> mListeners = new ArrayList<TjbListener<T>>();

    public void addListener(TjbListener<T> u){
        mListeners.add(u);
    }

    public void informAll(T t){
        for(TjbListener<T> u:mListeners){
            u.hearChange(t);
        }
    }
} 
```

这与您的代码一样工作，并且更易于处理。

如果您需要 TjbListener 子类的最终实现类型作为参数的返回值，则需要两个泛型类型，例如，如果您有

```
 public U informAll2(T t){
    for(U u:mListeners){
        u.hearChange(t);
        if (...)
            return u;
    }
} 
```

在这种情况下，您使用两种泛型类型的声明是正确的（只是我不确定是否可以在声明 T 之前声明依赖于 T 的泛型 U，或者是否必须先声明 T，例如`public abstract class ListenerInformer<T, U extends TjbListener<T>>`）

# ruby - 我们如何删除 RVM 默认值？

> ID：10345523
> 
> 赞同：3
> 
> 时间：2012-04-27T06:00:27.017
> 
> 标签：ruby, rvm, default

我已将默认 RVM 设置为 ruby​​ 1.9.2 。我想删除它并保持为零。

我该怎么做？

谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-27T16:02:45.917

删除任何别名很简单：

```
rvm alias delete default 
```

最好在`rm ~/.rvm/config/alias`@Sunny J. 建议的情况下使用它，因为它会执行额外的清洁步骤。

它也比`rvm reset`它只删除别名而不重置所有 rvm 设置要好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T07:36:16.067

基于[https://github.com/wayneeseguin/rvm/blob/master/scripts/functions/reset](https://github.com/wayneeseguin/rvm/blob/master/scripts/functions/reset)

为了在不影响 rvm 中的其他设置的情况下删除默认设置，

```
rm ~/.rvm/config/alias 
```

根据需要修改正确的 rvm 路径。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T06:02:50.700

见`rvm -h`：

```
reset       :: remove current and stored default & system settings. 
```

`rvm reset`您正在寻找的也是如此。

# silverlight - 适用于 OSX 的 Silverlight 浏览器应用程序功能

> ID：10345524
> 
> 赞同：0
> 
> 时间：2012-04-27T06:00:27.057
> 
> 标签：silverlight, macos, .net-4.0, cross-browser

我的公司开发了一个 .net 4 WPF 应用程序，它通过本地网络连接到我们的制造设备并对其进行控制，此外还可以处理图像数据并将其从 Windows 桌面输出到这些设备。我的任务是将它的基本版本移植到 mac。我的选择是用于 mac 的单声道或基于浏览器的 SilverLight 应用程序。

基于浏览器的应用程序的可行性是什么？

- 扫描本地网络以查找我们的设备并向所选设备发送命令

- 接受来自本地机器的图像，将它们上传到我们的服务器进行处理。然后，我们会将处理后的数据发回以输出到本地设备，并在浏览器中显示最终图像。

我知道 SilverLight 4 Elevated Privileges 允许跨域连接而没有端口号限制。但是，我不确定从 safari 中运行的 silverlight 应用程序扫描网络。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:14:53.883

> - 接受来自本地机器的图像，将它们上传到我们的服务器进行处理。然后，我们会将处理后的数据发回以输出到本地设备，并在浏览器中显示最终图像。

Silverlight 应用程序无法在没有用户交互的情况下从本地计算机访问文件。OpenFileDialog 类不能由用户发起。您必须从本地计算机中选择文件才能上传到某些服务。

> - 扫描本地网络以查找我们的设备并向所选设备发送命令

就扫描本地网络而言，silverlight 不提供 TCP ping。如果您的设备使用 http 提供某些接口，您可能能够使用 WebClient 连接并向设备发送命令。

最后但并非最不重要的一点是，微软描述的 MAC OS 不完全支持 Silverlight。因此，您可能会遇到无法解决的奇怪问题。在此处检查系统要求[http://www.microsoft.com/getsilverlight/Get-Started/Install/Default.aspx](http://www.microsoft.com/getsilverlight/Get-Started/Install/Default.aspx)

问候。

# java - 如何使用 Selenium 在安全警告对话框中单击一个选项？

> ID：10345525
> 
> 赞同：3
> 
> 时间：2012-04-27T06:00:34.323
> 
> 标签：java, selenium, testng

我用 java testng 编写了一个 selenium 代码来提交表单。单击提交按钮后，页面导航到感谢页面。但在加载之前，thankyou 会收到一个安全警告对话框，其中包含名为“继续”和“取消”的选项。如何通过 selenium 控件单击继续。无法获取继续按钮的 xpath 或 id。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T12:45:02.777

有同样的问题，这适用于 firefox 13 和 selenium 2.0

使用 spy 获取窗口信息。对于 firefox 13 windows 类是 MozillaDialogClass WindowName 是安全警告。

申报进口

```
[DllImport("user32.dll")]
public static extern int FindWindow(string className, string windowName); 
```

制作方法

```
public static void SetOkButton(string className, string windowName)
    {            
        int handle = FindWindow(className, windowName);

        if (handle > 0)
        {

            if (SetForegroundWindow(handle))
            {
                SendKeys.SendWait("{ENTER}");
            }
        }
    } 
```

调用方法

```
SetOkButton("MozillaDialogClass", "Security Warning"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-07T05:43:01.123

请记住在它出现之前添加一个等待，否则您的代码可能会在警报实际出现之前执行。以下代码对我有用

```
 private void acceptSecurityAlert() {

    Wait<WebDriver> wait = new FluentWait<WebDriver>(driver).withTimeout(10, TimeUnit.SECONDS)          
                                                            .pollingEvery(3, TimeUnit.SECONDS)          
                                                            .ignoring(NoSuchElementException.class);    
    Alert alert = wait.until(new Function<WebDriver, Alert>() {       

        public Alert apply(WebDriver driver) {

            try {

                return driver.switchTo().alert();

            } catch(NoAlertPresentException e) {

                return null;
            }
        }  
    });

    alert.accept();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-28T12:18:54.783

如果那是页面加载时的 JS 确认框，那么（正如[文档所说](http://selenium.googlecode.com/svn/trunk/docs/api/java/com/thoughtworks/selenium/Selenium.html#getAlert%28%29)），您无能为力。Selenium 2 ( [WebDriver](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html) ) 可以更好地处理这些对话框：

```
driver.switchTo().alert().accept(); 
```

如果那是 Firefox 的确认，你就不能用 Selenium 做任何事情。

我会给 java.awt。[机器人](http://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html#keyPress%28int%29)一试。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-10-22T01:28:13.553

“安全警告”对话框上没有“继续”按钮的 xpath 或 ID，因为此对话框不是浏览器对话框。此对话框由 Java 生成。

Selenium 仅自动化浏览器。因此，单击“继续”按钮超出了 Selenium 的范围。

幸运的是，有一种方法可以通过以下 jar 包的帮助单击“继续”按钮：jna.jar 和 jna-platform.jar 以及 java.awt.Robot 类。

如果您不知道“安全警告”何时出现，您可以编写代码等待“安全警告”出现。此代码不断检查当前活动窗口标题。一旦出现“安全警告”对话框，当前活动窗口将变为“安全警告”对话框。然后代码使用 TAB 键导航到“继续”按钮并按 ENTER 键。

进行必要的导入后，您可以使用以下方法：

```
public void acceptSecurityAlert() {
    //Keep checking every 7 seconds for the 'Security Warning'
    Wait<WebDriver> wait = new FluentWait<WebDriver>(driver).withTimeout(1000, TimeUnit.SECONDS).pollingEvery(7, TimeUnit.SECONDS).ignoring(NoSuchElementException.class);

    //Wait until the 'Security Warning' appears
    boolean isTrue = wait.until(new Function<WebDriver, Boolean>(){
        //implement interface method
        public Boolean apply(WebDriver driver) {
            try {                                       
                char[] buffer = new char[1024 * 2];
                HWND hwnd = User32.INSTANCE.GetForegroundWindow();
                User32.INSTANCE.GetWindowText(hwnd, buffer, 1024);
                //System.out.println("Active window title: " + Native.toString(buffer));                    

                //Check for 'Security Warning' window
                if(Native.toString(buffer).equalsIgnoreCase("Security Warning")){

                    //After 'Security Warning' window appears, use TAB key to go to 'Continue' button and press ENTER key.
                    //System.out.println("Pressing keys...");                       
                    Robot robot = new Robot();
                    robot.keyPress(KeyEvent.VK_TAB); robot.delay(200);
                    robot.keyRelease(KeyEvent.VK_TAB); robot.delay(200);

                    robot.keyPress(KeyEvent.VK_TAB); robot.delay(200);
                    robot.keyRelease(KeyEvent.VK_TAB); robot.delay(200);

                    robot.keyPress(KeyEvent.VK_ENTER); robot.delay(200);
                    robot.keyRelease(KeyEvent.VK_ENTER); robot.delay(200);
                    return true;
                }
                return null;
            }catch(Exception e) {
                System.out.println("Exception!");
                e.printStackTrace();
            } 
            return null;
        }
    });
} 
```

# android - android中的按钮区分

> ID：10345526
> 
> 赞同：0
> 
> 时间：2012-04-27T06:00:34.997
> 
> 标签：android

我是 android 的新手。我正在开发一个应用程序，因为我在 1 个屏幕中有两个按钮。我必须根据单击的特定按钮执行不同的操作。我必须根据单击的按钮来区分。

```
public void showSelectedNumber(int type, String number)
{

         --->Here i have to set two conditions:
    1.This for call
         try 
         {
    //     Intent callIntent = new Intent(Intent.ACTION_CALL);      //Call options
    //////     Cursor cursor = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
    //////     while (cursor.moveToNext()) {
    //////         String name = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
    //////     }
    //     callIntent.setData(Uri.parse("tel:"+number));    
    //     startActivity(callIntent);

    This is for SMS:

        startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse("sms:"                         //sms options
                + number)));
         }
         catch (ActivityNotFoundException e) 
         {
         Log.e("helloandroid dialing example", "Call failed", e);
         }
        Toast.makeText(this, type + ": " + number, Toast.LENGTH_LONG).show();      
    }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:37:11.217

 **```
public class MyActivity extends Activity implements OnClickListener{

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main); 
    Button smsButton = (Button)findViewById(R.id.smsButton);
    smsButton.setOnClickListener(this);
    Button callButton = (Button)findViewById(R.id.callButton);
    callButton.setOnClickListener(this);
}

@Override
public void onClick(View view)
{
     switch (view.getId())
     {
       case R.id.buttonCall: // id of your call button
               // Call button click code
            break;
       case R.id.buttonSMS:  // id of your SMS button
              // SMS button click code
            break;
      }
}
} 
```*  ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:54:44.333

```
you can easily do it by fetching button id and the set on click listener to it. 

IN your on create write this.

Button btn_sms = (Button)findViewById(R.id.button_sms);
Button btn_call = (Button)findViewById(R.id.button_call);

btn_sms..setOnClickListener(new View.OnClickListener() {

          @Override
          public void onClick(View v) {
             Intent callIntent = new Intent(Intent.ACTION_CALL);      //Call options
             Cursor cursor = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
             while (cursor.moveToNext()) {
                 String name = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
             }
             callIntent.setData(Uri.parse("tel:"+number));    
             startActivity(callIntent);

                }
        });

btn_call.setOnClickListener(new View.OnClickListener() {

       @Override
       public void onClick(View v) {
           startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse("sms:" + number)));
          }
          catch (ActivityNotFoundException e) 
          {
              Log.e("helloandroid dialing example", "Call failed", e);
          }
          Toast.makeText(this, type + ": " + number, Toast.LENGTH_LONG).show();  
        }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:10:13.013

I implement OnClickListener and have something like this in my class

```
@Override
public void onClick(View v) {
    if (v.getId() == R.id.smsButton) {
        //call your send sms method
    } 
    if (v.getId() == R.id.callButton) {
        //use you call method
    }
} 
```

remember to set the listeners on the 2 buttons as well, set it to the object which has the above method. I often do this on the onCreate method

```
 View smsButton = findViewById(R.id.smsButton);
    smsButton.setOnClickListener(this);
    View callButton = findViewById(R.id.callButton);
    callButton.setOnClickListener(this); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T06:10:32.200

use id of buttons just like

```
R.id.button1
R.id.button2 
```

in

```
onClik(View v){
int id=v.getId();
showSelectedNumber(id,number);
} 
```

and in your methos use

```
public void showSelectedNumber(int type,String num){
switch (type)
  {
   case R.id.buttonCall: // id of your call button
   // Call button click..
   break;

   case R.id.buttonSMS:  // id of your SMS button
   // SMS button click
   break; 
  }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-27T06:06:43.063

**`onClickListener`在您的活动课程中**实施。**然后用两个按钮注册它..**

 **```
buttonCall.setOnClickListener(this);
buttonSMS.setOnClickListener(this); 
```

现在，关于`onClick()`方法

```
@Override
public void onClick(View v)
{
 switch (v.getId())
  {
   case R.id.buttonCall: // id of your call button
   // Call button click..
   break;

   case R.id.buttonSMS:  // id of your SMS button
   // SMS button click
   break; 
  }
} 
```

以上代码仅供理解，实际代码可能不同..****

# javascript - 在javascript中每两周添加一次数字

> ID：10345528
> 
> 赞同：0
> 
> 时间：2012-04-27T06:00:45.640
> 
> 标签：javascript, computation

只是想要每两周添加一次数字的帮助。

比方说，

```
Start date : Jan 15, 2012  
End date : May 15, 2012  
Value : 300.00 
```

我想要完成的是，每个月的第 15 天和最后一天 300 将乘以 2012 年 5 月 15 日之前的第 15 天和最后一天

所以

```
Jan 15, 2012 to Jan 31,    2012 the value must be 300.00  
Feb 01, 2012 to Feb 15,    2012 the value must be 600.00  
Feb 16, 2012 to Feb 28/29, 2012 the value must be 900.00  
Mar 01, 2012 to Mar 15,    2012 the value must be 1200.00  
Mar 16, 2012 to Mar 31,    2012 the value must be 1500.00  
Apr 01, 2012 to Apr 15,    2012 the value must be 1800.00  
Apr 16, 2012 to Apr 30,    2012 the value must be 2100.00  
May 01, 2012 to May 15,    2012 the value must be 2400.00 
```

希望你明白我的意思。

希望得到您的帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:31:07.507

You can loop as long as you have whole months, then check if there is a half month to add at the end:

```
var date = startDate;
var sum = 0;
while (date < endDate) {
  sum += value * 2;
  date.setMonth(date.getMonth() + 1);
}
if (date < endDate) sum += value; 
```

# javascript - 从 WebKit / JavaScriptCore 中的 Javascript 获取返回值

> ID：10345535
> 
> 赞同：3
> 
> 时间：2012-04-27T06:01:17.820
> 
> 标签：javascript, webkit, javascriptcore

我正在使用 JavaScriptCore API 来获取 Javascript 的全局上下文。我希望能够在 C 中操纵从 Javascript 中返回的值。这是我拥有的相关代码示例：

```
JSGlobalContextRef jsContext = webkit_web_frame_get_global_context(webkit_web_view_get_main_frame(webView));

JSStringRef script = JSStringCreateWithUTF8CString("ReturnOne()");

JSValueRef val = JSEvaluateScript(jsContext, script, NULL, NULL, 0, NULL);

return JSValueToNumber(jsContext, val, NULL); 
```

ReturnOne() 是一个 JavaScript 函数，如下所示：

```
function ReturnOne() {
  return 1;
} 
```

当我在函数中添加警报时，它会显示，因此我知道该函数被正确调用。我试图简单地打印出数字 1 但我得到了一个很大的负值。我没有正确解释 JSValueToNumber 吗？

任何意见，将不胜感激。谢谢。

编辑：我做了一些挖掘并找到了这个宝石 - [https://lists.webkit.org/pipermail/webkit-help/2011-January/001849.html](https://lists.webkit.org/pipermail/webkit-help/2011-January/001849.html)

不幸的是，我以这种方式实现我的 C 代码得到了相同的结果。我在 Javascript 中的函数返回一个原语，我想将该 Javascript 原语转换为我期望的值（在本例中为 1）。

我也可以选择从 Javascript 返回对象的替代方案，只要我能得到我期望的数值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T13:11:08.910

好像没问题。但也许你应该放；到结束`ReturnOne()`。

也许您应该将返回值转换为 int。因为，它返回 double 并且您的 print 函数接受 int 值。

我不尝试，但它应该看起来像，

```
JSStringRef script = JSStringCreateWithUTF8CString("ReturnOne();");
JSValueRef val = JSEvaluateScript(jsContext, script, NULL, NULL, 0, NULL);
return (int)JSValueToNumber(jsContext, val, NULL); 
```

# iphone - 有没有翻译 Localizable.strings 文件的应用程序？

> ID：10345536
> 
> 赞同：4
> 
> 时间：2012-04-27T06:01:31.380
> 
> 标签：iphone, cocoa, localization

我的意思是，如果我有一些带有一些文本的 Localizable.strings 文件：

```
/* Cancel string */
"Cancel" = "Cancel"; 
```

该应用程序会将其翻译成西班牙语（例如）：

```
/* Cancel string */
"Cancel" = "Cancelar"; 
```

对于 android 已经有这样的服务： [http ://translate.google.com/toolkit](http://translate.google.com/toolkit)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T06:25:35.377

谁阻止你使用谷歌翻译工具包？您可以上传：

```
> AdWords Editor Archive (.aea)
> Android Resource (.xml) 
> Application Resource Bundle (.arb) 
> Chrome Extension (.json) 
> GNU gettext (.po) 
> HTML (.html) 
> Microsoft Word (.doc) 
> OpenDocument Text (.odt) 
> Plain Text (.txt) 
> Rich Text (.rtf) 
> SubRip (.srt) 
> SubViewer (.sub) 
```

您必须将您的本地化字符串复制粘贴到上述文件类型之一中，然后翻译并复制粘贴回来。您可以编写一个自动化脚本来为您执行此操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-06-20T04:31:47.343

我写了一个翻译工具，可以将 .txt 文件、.string 文件和 .xml 文件翻译成多种语言。安装：`$pip install mkTranslation`

用法：

```
$translate -p  ./ios.strings  -d 'en'  # translation file
$translate -p ./android.xml -d 'ja'  # translation file
$translate  'mkTranslate supports multilingual translations' -d 'pt'   # translation text 
```

**演示：**

```
from  
<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
    <!-- tab -->
    <string name="network_error">网络不可用，点击屏幕重试</string>
    <string name="scan_qr_code_warn">将二维码放入框内，即可自动扫描&lt;/string>
    <string name="album_text">相册</string>
</resources>
to  
<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
    <!-- tab -->
    <string name="network_error">Network is not available, click screen to try again</string>
    <string name="scan_qr_code_warn">Put the QR code into the box and you can scan it automatically.</string>
    <string name="album_text">Album</string>
</resources> 
```

默认翻译是google翻译，可以指定其他翻译渠道

**代码：[https ://github.com/mythkiven/mkTranslate](https://github.com/mythkiven/mkTranslate)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-19T14:07:10.307

我使用 Google Translate Toolkit 处理 Localizable.strings。它工作得很好。

我刚刚在 Stack Overflow 上看到过这个产品的广告。显然是我搜索的结果！它有望减轻很多人工负担。我还没用过所以不能评论。

这是[TraductoPro](http://www.traductoapp.com)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-12T19:16:24.803

我的工作是本地化 Localizable.strings 文件，我可以告诉你有很多可用的选项。如果您自己动手，最简单的方法是在 Mac 上使用 TextWrangler。它对文件进行颜色编码，因此很容易将右侧翻译成您需要的任何语言。如果手动操作，我强烈推荐它。但是您希望它自动完成。

为此，最好将其包装在一个将格式化代码与实际文本分开的工具中。**我们使用[Crowdin.com](https://crowdin.com)**来做到这一点。就解析本地化格式（还有 Android .strings、gettext .pot 等）而言，它有很多优势。您还可以免费众包翻译或使用现有的翻译记忆库，这不会产生出色的产品，但肯定比谷歌翻译更好。您也可以聘请真正的[应用程序本地化服务](http://www.ibabbleon.com/app_localization.html)公司来做。:)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2021-08-28T01:06:22.137

这可以帮助您自动生成相应的语言 localizable.strings 文件，并使用 googletranslate [https://github.com/duycao2506/ios_localizable_translator](https://github.com/duycao2506/ios_localizable_translator)进行翻译。

# javascript - 从 tabPanel 中删除选项卡

> ID：10345538
> 
> 赞同：3
> 
> 时间：2012-04-27T06:01:34.327
> 
> 标签：javascript, extjs4, tabpanel

```
var tabPanel = Ext.getCmp('tabPanel');
for(var i=1; i<tabPanel.items.length; i++)
{
    tabPanel.items.removeAt(i);
    i--;
}
tabPanel.doLayout(); 
```

我正在尝试从 tabPanel 中删除所有选项卡（第一个选项卡除外）。这段代码就是这样做的。我用萤火虫检查了它。
但是，它仍然没有反映在 UI 中。doLayout() 还不够吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T06:12:30.877

而不是打电话

```
tabPanel.items.removeAt(i); 
```

称呼

```
tabPanel.remove(tabPanel.items.getAt(i)); 
```

然后你告诉容器而不是混合集合来删除标签

另一种方法是

```
tabPanel.removeChildEls(function(tab){
  return tab != tabPanel.items.first();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-17T14:18:28.443

这将通过单击鼠标中键关闭选项卡。

```
var middleClick = $(document).mousedown(function(e) {
    if(e.which == 2){
              var tabPanel = <%= tabPanel.ClientID %>;    
              var activeTab = tabPanel.getActiveTab();
              if (e.target.textContent == activeTab.title) {
                  var activeTabIndex = tabPanel.items.findIndex('id', activeTab.id);
                  tabPanel.remove(activeTabIndex);
              }
          }
          return true;
    }); 
```

希望能帮助到你！！=)

# sql - 用于组合重复项和求和的 SQL 查询

> ID：10345546
> 
> 赞同：0
> 
> 时间：2012-04-27T06:02:23.643
> 
> 标签：sql

**更新**：*很抱歉造成混乱。“表”不是我的实际表名，我已经用正确的名称更新了它，还提供了有关以下错误的更多信息。*

我有一个名为 TrackingNumbers 的表，有两列。orderid 列数据有时会重复，因为每个订单有多个发货（我没有设计数据库）：

```
orderid shipment_cost
1021    5.34
1021    7.83
1022    5.19
1023    5.59 
```

当 orderid 使用 SQL 查询重复时，如何添加所有 shipping_cost 值？所以我希望查询结果看起来像：

```
orderid shipment_cost
1021    13.17
1022    5.19
1023    5.59 
```

我最好的猜测是它是这样的：

```
SELECT orderid, SUM(shipment_cost) FROM TrackingNumbers GROUP BY orderid 
```

但这给了我一个未指定的 SQL 错误。不确定这是我的查询还是愚蠢的专有应用程序。感谢您的任何建议！

* * *

**更新2：**所以根据答案，我的查询似乎没问题，我也只是在我自己的MySQL服务器上仔细检查过，回来没问题。这一定是应用程序的错（Volusion）。他们有一个用于运行自定义报告的糟糕的小界面，它似乎用额外的东西包装了我的 SQL 查询。Volusion的错误：

```
SQL Error: SELECT * ,17041 as RecordCount 
           FROM (SELECT TOP 10 * 
                 FROM (SELECT TOP 10 orderid, SUM(shipment_cost) 
                       FROM TrackingNumbers 
                       GROUP BY orderid ORDER BY ) 
                 SUBSEL ORDER BY ) 
           PAGESEL ORDER BY 
```

如果我添加一个 ORDER BY 之类的

```
SELECT orderid, SUM(shipment_cost) 
FROM TrackingNumbers 
GROUP BY orderid 
ORDER BY orderid ASC 
```

因为这似乎是它想要的：

```
SQL Error: SELECT * ,17041 as RecordCount 
           FROM (SELECT TOP 10 * 
                 FROM (SELECT TOP 10 orderid, SUM(shipment_cost) 
                       FROM TrackingNumbers 
                       GROUP BY orderid 
                       ORDER BY orderid ASC) 
                 SUBSEL ORDER BY orderid DESC ) 
           PAGESEL ORDER BY orderid ASC 
```

我想我将不得不看看 Volusion 的支持是否能提供任何线索。再次感谢！

* * *

**更新 3 ：**当然 Volusion 支持是没有帮助的，即使我告诉他们这个查询可以在另一个 SQL 服务器上工作，而且很明显他们的界面正在破坏它。看起来我将不得不将数据导入我的数据库并在那里进行操作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:18:00.867

使用以下查询

```
SELECT orderid, SUM(shipment_cost) FROM [table] GROUP BY orderid 
```

`table`是一个 SQL 关键字

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:14:00.447

我已经尝试使用 Northwind 数据库进行相同的查询，我尝试在 customerid 相等的情况下对运费进行求和，

您可以在[SQLFiddle检查相同](http://sqlfiddle.com/#!3/a9274/1)

我还更正了您的查询，现在它应该可以工作了：

您只需要在最内部的选择中为 sum 提供别名`SUM(shipment_cost) as Freight`

```
 SELECT * ,17041 as RecordCount 
  FROM(SELECT TOP 10 * 
       FROM(SELECT TOP 10 orderid, SUM(shipment_cost) as Freight
            FROM TrackingNumbers 
            GROUP BY orderid 
            ORDER BY orderid ASC) 
       SUBSEL ORDER BY orderid DESC)
  PAGESEL ORDER BY orderid ASC 
```

# jquery - 标题部分始终位于网站顶部

> ID：10345547
> 
> 赞同：3
> 
> 时间：2012-04-27T06:02:31.257
> 
> 标签：jquery, html, css

> **可能重复：**
> [如何保持标题静态，滚动时始终位于顶部？](https://stackoverflow.com/questions/3593594/how-to-keep-the-header-static-always-on-top-while-scrolling)

我希望在向下滚动页面时始终将网站的标题部分保持在顶部。我该如何处理 CSS？还是我必须使用 Jquery ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:13:29.697

你可以用 CSS 来做，这个类适用于 ID 为“header”的 div：

```
#header {
    position:fixed;
    top:0;
    z-index: 1000;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:35:24.633

这是解释的代码：_

```
#header {
  position: fixed; /* keeps the element in a fixed position no matter how much you scroll */
  top: 0; /* to keep it on the top */
  width: 100%; /* to keep its width across the screen no matter how big the screen is */
  z-index: 1000; /* to make sure its infront of everything */
} 
```

让你的代码保持注释总是好的，所以如果你忘记了某些东西是做什么的，你可以看看注释。:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-28T04:27:50.027

这是[演示](http://jsfiddle.net/sureshpattu/Ja3rp/)

html是：

```
<div id="header" class="fixed" style="display: block; top: 0px; ">
        <div class="inner">
        <!-- .inner -->
        </div>
        <div class="shadow" style="display:block;"><span></span></div>
</div>

<div style="height:600px;"><a href="http://imgur.com/k9hz3"><img src="http://i.imgur.com/k9hz3.jpg" title="Hosted by imgur.com" alt="" /></a></div> 
<div style="height:600px;"><a href="http://imgur.com/TXuFQ"><img src="http://i.imgur.com/TXuFQ.jpg" title="Hosted by imgur.com" alt="" /></a></div> ​ 
```

CSS是：

```
 #header{height: 48px;width: 100%;z-index: 1000;}

.fixed {background: url(http://static.tumblr.com/njty47g/Omoleufdi/topbar_bg.png) left top repeat-x;
position: fixed;left: 0;
-webkit-box-shadow: 0 7px 8px rgba(0, 0, 0, 0.12);
-moz-box-shadow: 0 7px 8px rgba(0, 0, 0, 0.12);
box-shadow: 0 7px 8px rgba(0, 0, 0, 0.12);}

.inner {width: 940px;margin: 0 auto;height: 48px;}

.shadow{width: 100%;height: 5px;position: absolute;left: 0;bottom: -5px;z-index: 500;display: none;}
​ 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-27T06:19:19.077

如果你想让你的标题 100% 宽度，那么你可以使用

```
.headerDiv{
 position:fixed;
 top:0;
 width:100%; 
```

}

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-27T06:21:53.243

`Position: fixed;`, 将其固定到窗口 `Top:0;`上 确保 `Left:0;`它 `z-index:1000;`在上面

# ios - 滚动视图在其内容更改期间的动画

> ID：10345549
> 
> 赞同：0
> 
> 时间：2012-04-27T06:02:47.727
> 
> 标签：ios

我有一个滚动视图，其内容会动态变化。重新填充内容时，是否可以为滚动视图提供任何动画效果。内容只是图像视图。我正在使用一些过滤过程来通过图像视图重新填充我的滚动视图。

# java - JPA 使用 set 的哪个实现类

> ID：10345554
> 
> 赞同：2
> 
> 时间：2012-04-27T06:02:59.917
> 
> 标签：java, hibernate, jpa, collections

我正在使用休眠。

我有一对多的关系。

```
@OneToMany(mappedBy = "enrollmentSetupCategory", fetch = FetchType.EAGER, cascade = CascadeType.ALL )
    private Set<EnrollmentSetupCategoryLevel> enrollmentSetupCategoryLevels; 
```

我的问题是我在这里内部使用了哪个 set 实现？如果我扩展可比较的接口，返回的对象是否会被排序？还是我必须自己排序？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T06:10:25.453

Hibernate Supports sorted collection mapping, you can specify your comparator to do the sorting for you.

From the [docs](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/collections.html#collections-sorted)

> Hibernate supports collections implementing java.util.SortedMap and java.util.SortedSet. You must specify a comparator in the mapping file:
> 
> ```
> <set name="aliases" 
>             table="person_aliases" 
>             sort="natural">
>     <key column="person"/>
>     <element column="name" type="string"/>
> </set>
> 
> <map name="holidays" sort="my.custom.HolidayComparator">
>     <key column="year_id"/>
>     <map-key column="hol_name" type="string"/>
>     <element column="hol_date" type="date"/>
> </map> 
> ```
> 
> Allowed values of the sort attribute are unsorted, natural and the name of a class implementing java.util.Comparator.
> 
> Sorted collections actually behave like `java.util.TreeSet` or `java.util.TreeMap`.

Edit Annotation From [Docs](http://docs.redhat.com/docs/en-US/JBoss_Enterprise_Application_Platform/4.2/html-single/Hibernate_Annotations_Reference_Guide/index.html), check

> 3.4.6\. Collection related annotations

```
 @Sort(type = SortType.COMPARATOR, comparator = TicketComparator.class) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:24:17.360

您将使用 Hibernate 自己的实现`Set`- `org.hibernate.collection.PersistentSet` [http://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/collection/PersistentSet.html](http://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/collection/PersistentSet.html) 这个类没有实现`Comparable`接口，所以你应该对其进行排序由您自己或将其转换为 set 的一些可排序实现（例如`TreeSet`）。

# wpf - 如何在 WPF 中更改 Windows 光标？

> ID：10345559
> 
> 赞同：3
> 
> 时间：2012-04-27T06:03:44.877
> 
> 标签：wpf, mouse-cursor

当用户单击按钮时，我喜欢更改光标。我可以使用 FrameworkElement.Cursor。但它只会更改我当前应用程序的光标。

但我需要我的整个 Windows 光标应该改变。我的意思是，如果您将鼠标移到我的应用程序之外，它应该会显示我的光标（而不是默认箭头）。

如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T07:27:15.847

为了完成此操作，您必须更改注册表值然后执行 API 调用，请查看此 MSDN 帖子以获取有关如何执行此操作的更多详细信息：

[如何使用 Visual C#.NET 更改系统的光标？](http://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/977e2f40-3222-4e13-90ea-4e8d0cdf289c/)

另请检查此链接：

[使用 C# 更改全局鼠标光标或光标方案？](http://www.csharpfriends.com/Forums/ShowPost.aspx?PostID=80020)

# android - 如何在 Android 中设置自定义进度条

> ID：10345560
> 
> 赞同：0
> 
> 时间：2012-04-27T06:03:57.240
> 
> 标签：android

如何设置自定义进度条。

我想显示**两个进度条**

当我必须下载 200 个文件时。

1）**第一个进度条**显示**整体下载状态**。下载了多少文件。

2)**第二条**显示**当前文件下载**的百分比。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T07:12:03.983

可以实现，如你所愿。我可以给你实现的方法：

* * *

1.  创建您的自定义进度条扩展进度条
2.  覆盖 onDraw 方法
3.  用下载量或 customProgessBar.setProgress('downloaded value') 绘制进度条；
4.  使用百分比值在进度条右侧绘制文本（您必须使用 onDraw 方法创建它）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T07:02:45.993

您可以使用计时器来更改进度条的当前值，例如 1%、2%、3% 等。考虑`sendmessage change view`.

# xaml - 在 Silverlight 中将自定义图钉添加到 Bing 地图

> ID：10345561
> 
> 赞同：0
> 
> 时间：2012-04-27T06:04:03.577
> 
> 标签：xaml, bing, silverlight-5.0

我对 Bing 地图概念很陌生

要求：需要使用自定义图钉和 Bing 地图上的许多图层设计 Bing 地图 工作完成：使用一个键和 2 个 DLL 创建一个 Bing 地图，添加多个图钉，使用 MapPolygon 在地图上添加一个形状

问题：

1.  我需要将自定义图钉添加到 Bing 地图（我的项目文件夹中有一个图像，当指定位置时我需要在 Bing 地图上显示它）。我浏览了许多链接，但没有一个对我有用。所以请告诉我在 Bing 地图上显示自定义图钉的方法。

2.  我需要在 Bing 地图上添加多个图层，而我对此知之甚少。因此，请指导我了解 Silverlight Bing 地图中的分层概念。

急需帮助:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-02T17:42:30.890

你试过微软提供的[交互式 SDK吗？](http://www.microsoft.com/maps/isdk/silverlight/#MapControlInteractiveSdk.Tutorials.UIElements.TutorialPositionLocation)它帮助了我。

似乎您只需要在其中放置一个`MapLayer`并放置`Pushpin`控件。您可以使用`MapLayer.Position`附加属性将该地图图层中的任何内容固定到地图上；这样当用户移动地图时它会说。此附加属性属于`Location`Bing 地图控件专有的类型，该控件包含经度（双精度）和纬度（双精度）值。如果您需要绑定所述位置的集合，则可以使用将其属性绑定到集合的`MapItemsControl`内部。您还可以创建数据模板；请记住，您的模板根必须使用附加属性来指定其在地图上的位置。这可以绑定到任何类型的值。`MapLayer``ItemsSource``MapLayer.Position``Location`

```
 <UserControl x:Class="MapControlInteractiveSdk.Tutorials.DataBinding.TutorialMapItemsControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:t="clr-namespace:MapControlInteractiveSdk.Tutorials.DataBinding"
    xmlns:m="clr-namespace:Microsoft.Maps.MapControl;assembly=Microsoft.Maps.MapControl">
    <UserControl.Resources>
        <DataTemplate x:Key="LogoTemplate">
            <!-- This doesn't have to be a pushpin control - it can be anything just apply 
                    the "m:MapLayer.Position" property to whatever is the root of the
                    template.
               -->
            <m:Pushpin m:MapLayer.Position="{Binding Location}" />
        </DataTemplate>
    </UserControl.Resources>
    <Grid x:Name="LayoutRoot" Background="White">
        <m:Map CredentialsProvider="Your Key">
            <m:MapLayer>
                <m:MapItemsControl x:Name="ListOfItems"
                            ItemTemplate="{StaticResource LogoTemplate}"
                            ItemsSource="{Binding MyLocalizedEntities}">
                </m:MapItemsControl>
            </m:MapLayer>
            <m:MapLayer>
                <!-- You can have content in multiple layers: Latter layers are infront of former ones. -->
            </m:MapLayer>
        </m:Map>
    </Grid>
</UserControl> 
```

# c# - 使用 DocumentFormat.OpenXml(c#) 合并 word 文档

> ID：10345563
> 
> 赞同：1
> 
> 时间：2012-04-27T06:04:28.650
> 
> 标签：c#, ms-word

`DocumentFormat.OpenXML`考虑到 MS Word“跟踪更改”的模式，有什么方法可以使用 library 合并 2 个 word-documents 。或者也许可以使用另一个库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:12:29.767

You can use standart api of MS Word

```
 Microsoft.Office.Interop.Word.Document worddoc;
    Microsoft.Office.Interop.Word.Application wordApp;
    Microsoft.Office.Interop.Word.Range _range;              
    object file = "1.doc";
    wordApp = new Microsoft.Office.Interop.Word.Application();
    worddoc = wordApp.Documents.Open(ref file); 
    _range = worddoc.Content;
    Microsoft.Office.Interop.Word.Range rng = _range; 
    rng.Start = rng.End;
    rng.InsertFile("2.doc"); 
```

**EDIT**

And read this [Merging-Word-Documents](http://www.codeproject.com/Articles/7582/Merging-Word-Documents-with-C)

**EDIT2**

so try this

```
 using DocumentFormat.OpenXml.Packaging;
    using DocumentFormat.OpenXml.Wordprocessing;
    ....
    public byte[] OpenAndCombine(List<string> FileNames)
    {
        List<byte[]> documents = new List<byte[]>();
        foreach (string _FileName in FileNames)               
                documents.Add(File.ReadAllBytes(_FileName));

        MemoryStream mainStream = new MemoryStream();

        mainStream.Write(documents[0], 0, documents[0].Length);
        mainStream.Position = 0;

        int pointer = 1;
        byte[] ret;
            using (WordprocessingDocument mainDocument = WordprocessingDocument.Open(mainStream, true))
            {

                XElement newBody = XElement.Parse(mainDocument.MainDocumentPart.Document.Body.OuterXml);

                for (pointer = 1; pointer < documents.Count; pointer++)
                {
                    WordprocessingDocument tempDocument = WordprocessingDocument.Open(new MemoryStream(documents[pointer]), true);
                    XElement tempBody = XElement.Parse(tempDocument.MainDocumentPart.Document.Body.OuterXml);

                    newBody.Add(tempBody);
                    mainDocument.MainDocumentPart.Document.Body = new Body(newBody.ToString());
                    mainDocument.MainDocumentPart.Document.Save();
                    mainDocument.Package.Flush();
                }
            }
            ret = mainStream.ToArray();
            mainStream.Close();
            mainStream.Dispose();
        return (ret);
    } 
```

# macos - GitHub Mac 应用程序不断添加 SSH 密钥？

> ID：10345564
> 
> 赞同：6
> 
> 时间：2012-04-27T06:04:29.447
> 
> 标签：macos, git, ssh, github

每次我启动机器并启动 GitHub 应用程序时，我的 GitHub 应用程序似乎都在向 github 添加新的 SSH 密钥。在我看来，这不是它的设计方式。有没有人有同样的问题？可能是因为我们更改了 IP 地址吗？（我们必须在办公室合并互联网连接）

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T17:42:56.607

这曾经是 Mac 客户端的问题。它已在版本 1.2.5（2012 年 4 月 12 日）中修复。

您可以阅读客户端的[发行说明](http://mac.github.com/release-notes.html)以查看所有细节。

# c++ - QT - QAction::eventFilter：不明确的快捷方式重载

> ID：10345565
> 
> 赞同：7
> 
> 时间：2012-04-27T06:04:39.257
> 
> 标签：c++, qt

在这里搜索和像 qtcentre 这样的其他地方我已经看到这个问题出现了，但似乎无法让它工作。我有一个带有**QSplitter的****MainWindow**小部件，其中包含两个**Pane**小部件（从**QFrame**子类化）。每个窗格都有一个菜单栏，其中包含相同的关联**QActions/Shortcuts**。

 ******我已经尝试了**ShortcutContexts**与**setShortcutContext()**的所有组合。

**WindowShortcut**和**ApplicationShortcut**上下文给出了预期的“不明确的快捷方式重载”。

而**WidgetShortcut**和**WidgetWithChildrenShortcut**都什么都不做。

如果我手动激活菜单，它们当然可以正常工作。我还尝试使用重载的**enterEvent()**强制关注父小部件。

有任何想法吗？

谢谢。

# 主文件

```
#include <QMainWindow>
#include <QFrame>

QT_BEGIN_NAMESPACE
class QAction;
class QMenu;
class QHBoxLayout;
class QSplitter;
class QWidget;
QT_END_NAMESPACE

class Pane: public QFrame
{
  Q_OBJECT

  public:
    Pane(QWidget* parent = 0);

  protected:
    void            enterEvent(QEvent *event);
    void            leaveEvent(QEvent *event);

  private:
    void            createMenus();

    QMenuBar *      m_menuBar;

  private Q_SLOTS:
    void            split();
};

class MainWindow : public QMainWindow
{
    Q_OBJECT

public:
    MainWindow();

private:
    void createActions();
    void createMenus();
    void setupUi(QMainWindow *MainWindow);

    QMenu *fileMenu;
    QAction *exitAct;

    QWidget *centralwidget;
    QHBoxLayout *horizontalLayout;
    QSplitter *splitter;
    QFrame *frame;
    QFrame *frame_2;
}; 
```

# 主文件

```
#include <iostream>
#include <QApplication>
#include <QMainWindow>
#include <QSplitter>
#include <QFrame>
#include <QMenuBar>
#include <QBoxLayout>
#include "main.h"

Pane::Pane(QWidget* parent) :
    QFrame(parent)
{
    setFrameShape(QFrame::StyledPanel);
    setFrameShadow(QFrame::Raised);

    QVBoxLayout *layout = new QVBoxLayout;
    QFrame::setLayout(layout);

    m_menuBar = new QMenuBar;
    QWidget *m_widget = new QWidget;

    layout->addWidget(m_menuBar);
    layout->addWidget(m_widget);
    layout->setContentsMargins(2, 2, 2, 2);

    show();

    createMenus();
}

void
Pane::enterEvent(QEvent *event)
{   
    std::cout << "enter" << std::endl;
    setFocus();
    setStyleSheet("QFrame { border: 1px solid rgb(127, 127, 0); }");
    if (focusWidget())
        std::cout << "focuswidget = " << focusWidget()->objectName().toUtf8().constData() << std::endl;
}

void
Pane::leaveEvent(QEvent *event)
{   
    std::cout << "leave" << std::endl;
    clearFocus();
    setStyleSheet("QFrame { border: 1px solid rgb(64, 64, 64); }");
}

void
Pane::split()
{
    std::cout << "split pane" << std::endl;
}

void
Pane::createMenus()
{
    QMenu *paneMenu = m_menuBar->addMenu(tr("&Pane"));

    QAction *paneSplitAct = new QAction(tr("Split"), this);
    paneSplitAct->setShortcut(Qt::Key_S);
    paneSplitAct->setShortcutContext(Qt::WidgetWithChildrenShortcut);
    paneSplitAct->setStatusTip(tr("Split Pane"));
    connect(paneSplitAct, SIGNAL(triggered()), this, SLOT(split()));
    paneMenu->addAction(paneSplitAct);
}

MainWindow::MainWindow()
{
    setupUi(this);

    createActions();
    createMenus();
}

void MainWindow::createActions()
{
    exitAct = new QAction(tr("E&xit"), this);
    exitAct->setShortcuts(QKeySequence::Quit);
    exitAct->setStatusTip(tr("Exit the application"));
    connect(exitAct, SIGNAL(triggered()), this, SLOT(close()));
}

void MainWindow::createMenus()
{
    fileMenu = menuBar()->addMenu(tr("&File"));
    fileMenu->addAction(exitAct);
}

void MainWindow::setupUi(QMainWindow *MainWindow)
{
    if (MainWindow->objectName().isEmpty())
        MainWindow->setObjectName(QString::fromUtf8("MainWindow"));

    MainWindow->resize(800, 600);
    centralwidget = new QWidget(MainWindow);
    centralwidget->setObjectName(QString::fromUtf8("centralwidget"));
    horizontalLayout = new QHBoxLayout(centralwidget);
    horizontalLayout->setObjectName(QString::fromUtf8("horizontalLayout"));
    splitter = new QSplitter(centralwidget);
    splitter->setObjectName(QString::fromUtf8("splitter"));
    splitter->setOrientation(Qt::Horizontal);

    frame = new Pane(splitter);
    frame->setObjectName(QString::fromUtf8("frame"));
    splitter->addWidget(frame);

    frame_2 = new Pane(splitter);
    frame_2->setObjectName(QString::fromUtf8("frame_2"));
    splitter->addWidget(frame_2);

    horizontalLayout->addWidget(splitter);

    MainWindow->setCentralWidget(centralwidget);

    QMetaObject::connectSlotsByName(MainWindow);
}

int main(int argc, char *argv[])
{
    QApplication app(argc, argv);
    app.setOrganizationName("Trolltech");
    app.setApplicationName("Application Example");
    MainWindow mainWin;
    mainWin.show();
    return app.exec();
} 
```

# 主程序

```
HEADERS       = main.h
SOURCES       = main.cpp
CONFIG       += no_keywords 
```

**更新：**在最后加上使用上下文 的`addAction(paneSplitAct)`调用似乎给了我想要的东西。 `Pane::createMenus()``Qt::WidgetShortcut`

根据我对文档的了解，这应该在小部件中创建一个上下文菜单。我似乎没有得到一个（我假设鼠标右键单击）但没关系，因为我不想要一个。仍然需要`eventEvent()`and覆盖才能正确设置焦点。`leaveEvent()`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-01-17T16:36:22.253

我遇到过类似的问题：2 个不同的小部件具有相同的操作快捷方式（小部件之间的操作不同）。只要应用程序中只有一个小部件可见，一切正常。一旦两者都可见，我就收到了这个“模棱两可的快捷方式过载”消息。

解决方案是：两个动作的上下文都必须正确设置为 Qt::WidgetWithChildrenShortcut，然后它工作正常 - 只是根据当前的焦点。

如果只有一项操作具有正确的上下文，则会触发具有默认上下文的操作并显示消息。

如果两个操作都没有设置上下文（默认），则触发最后创建的操作并显示消息。

因此，如果您在任何地方添加带有快捷方式的操作，请记住考虑正确的上下文并进行设置，请限制！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:48:47.660

**对于像这样的大多数情况，将快捷方式上下文设置为**AFAIK**`WidgetShortcut`是正确的做法。但问题是您的重复操作位于无法获得焦点的菜单栏中（在传统的小部件意义上），这就是它不做任何事情的原因。**

 **将共享操作放入主窗口并使其成为应用程序快捷方式可能更有意义。然后在动作触发的主窗口槽中，计算出哪个`Pane`对象具有焦点并将命令推送到它上面。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-08-09T17:12:23.827

当菜单栏被禁用或未使用时，此解决方案对我来说很有效，可以使用快捷方式触发操作。

添加快捷方式的例程：

```
void StingrayEditor::add_shortcut(const QJsonObject& item_json)
{
    QString item_path = item_json["path"].toString();
    QString shortcut = item_json["shortcut"].toString();
    if (!shortcut.isEmpty()) {
        QKeySequence key_sequence = QKeySequence::fromString(shortcut);
        QAction* shortcut_action = new QAction(item_path, this);
        if (!key_sequence.isEmpty()) {
            shortcut_action->setShortcut(key_sequence);
            shortcut_action->setShortcutContext(Qt::ApplicationShortcut);
        }
        connect(shortcut_action, &QAction::triggered, this, [item_path]()
        {
            // Action to be executed
        });

        // Add the action to the main window.
        addAction(shortcut_action);
    }
} 
```

重要的是你使用`shortcut_action->setShortcutContext(Qt::ApplicationShortcut);`

然后你需要过滤/监听事件来捕捉`QEvent::Shortcut`：

```
bool StingrayEditor::eventFilter(QObject* obj, QEvent* e)
{
    switch (e->type()) {
    case QEvent::Shortcut: {
        QShortcutEvent* sev = static_cast<QShortcutEvent*>(e);
        if (sev->isAmbiguous()) {
            foreach(const auto& action, actions()) {
                if (action->shortcut() == sev->key()) {
                    action->trigger(); // Trigger the action that matches the ambigous shortcut event.
                    return true;
                }
            }
        }
    }
    // ...
    default: break;
    }

    return false;
} 
```

不要忘记注册这样的活动：

`qApp->installEventFilter(this);`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-06-10T05:30:59.373

“过载”表示您已将此快捷方式用于多个操作。每个操作快捷方式必须是唯一的。********

# sql - 了解 msaccess 查询

> ID：10345570
> 
> 赞同：2
> 
> 时间：2012-04-27T06:05:19.477
> 
> 标签：sql, vb.net, ms-access, ms-access-2007

从以下查询中，你们可以选择正在使用哪种表和表列？我是新来的 ms 访问它很混乱，我看了看，是否正在使用下表/列？

表名 || 表列 com020 (.t_nama,.t_namb) mcs031 (.t_suno,.t_dsca)

并在表 com020 中的列 t_cbrn 上进行 RIGHT JOIN。

并且不明白为什么 & ContryCode & 一直在使用。

```
Sub VSearch(Letter,Name,Vcode,LPage,CurrentPage)
dim countryCode
countryCode = readfromRegistry("HKEY_LOCAL_MACHINE\SOFTWARE\HR\DSN\mkCountryCode")

dim oRs2,Query2,i,colourcount
Set oRs2 = Server.CreateObject("ADODB.Recordset")

Query2 = "SELECT com020" & countryCode & ".t_nama, com020" & countryCode & ".t_namb,  ttccom020" 
& countryCode & ".t_suno, mcs031" & countryCode & ".t_dsca FROM mcs031" & countryCode
& " RIGHT JOIN com020" & countryCode & " ON mcs031" & countryCode & ".t_cbrn = com020" &   countryCode & ".t_cbrn "

if letter <> "" then
Query2 = Query2 & "WHERE (com020" & countryCode & ".t_nama) Like '" & QueryFix(Letter) &     "%'  escape '\' ORDER BY com020" & countryCode & ".t_nama"
elseif name <> "" then
Query2 = Query2 & "WHERE LOWERCASE((com020" & countryCode & ".t_nama)) Like '%" &  LCase(Name) & "%' ORDER BY com020" & countryCode & ".t_nama"
elseif Vcode <> "" then
Query2 = Query2 & "WHERE (com020" & countryCode & ".t_suno) Like '%" & UCase(Vcode) & "%'  ORDER BY com020" & countryCode & ".t_nama"
elseif LPage <> "" then
Query2 = Query2 & "WHERE (com020" & countryCode & ".t_cbrn) = '" & LPage & "' ORDER BY com020" & countryCode & ".t_nama"
end if 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T13:45:07.250

countryCode 用于在数据库中使用变量表的情况下形成附加查询。这样就不必更新查询来处理每个表。

列的名称是： t_nama t_namb t_suno t_dsca

我发现在创建查询时以调试模式中断视图并将保存 SQL 的变量复制到“立即”窗口中以在查询形成后查看查询结果很有用。

# java - 按下主页时如何从开始登录屏幕启动应用程序？

> ID：10345574
> 
> 赞同：1
> 
> 时间：2012-04-27T06:05:55.160
> 
> 标签：java, android, button

我正在开发一个应用程序，我需要的是，每当用户在运行应用程序时按 home 并再次恢复到应用程序时，它必须从开始的登录屏幕开始。

我试过这个：[按“Home”后从 Resume 回答应该开始我的 Startactivity](https://stackoverflow.com/questions/5593953/resume-after-pressing-home-should-start-my-startactivity?answertab=oldest#tab-top)。

但它不起作用。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:17:28.247

根据您的问题，您只需在 onResume 调用登录屏幕...。

* * *

这个问题主要有两种解决方法......

1.  最好的选择是**覆盖主页按钮**

2.  或者您只需要在单击主页按钮时终止**所有父活动....**

[覆盖主页按钮](https://stackoverflow.com/a/10025904/1160282)

请参阅第一个答案，这将帮助您...

您也可以在恢复时执行此操作，您必须检查单击主页按钮时正在运行的活动，因此您必须终止该活动并启动登录活动..但这会有点复杂，而**覆盖主页按钮**是最好的选择..

# python - Pylint 给出错误，但代码工作正常

> ID：10345578
> 
> 赞同：1
> 
> 时间：2012-04-27T06:06:12.797
> 
> 标签：python, pylint

```
No config file found, using default configuration
************* Module sendmail
C:153,0: Line too long (146/80)
C:156,0: Line too long (105/80)
C:190,0: Line too long (88/80)
F:  8,0: Unable to import 'email.MIMEMultipart'
E:  8,0: No name 'MIMEMultipart' in module 'email'
F:  9,0: Unable to import 'email.MIMEBase'
E:  9,0: No name 'MIMEBase' in module 'email'
E: 10,0: No name 'Encoders' in module 'email'
R: 47,0:sendmail: Too many arguments (7/5)
R: 47,0:sendmail: Too many local variables (17/15)
W: 74,4:sendmail: No exception type(s) specified
W: 95,12:sendmail: No exception type(s) specified
R:142,0:commandline_handler: Too many branches (15/12) 
```

请注意无法导入，但我的脚本工作正常。这是有问题的代码：

```
#!/usr/local/bin/python
''' sendmail module.

Can be used to send mail, attachments, or otherwise.

'''
from email.mime.text import MIMEText
from email.MIMEMultipart import MIMEMultipart
from email.MIMEBase import MIMEBase
from email import Encoders
import getopt
import os
import smtplib
import sys

def main(): 
```

当我运行该程序时，它运行良好，但为什么 pylint 抱怨？

我通过简单地运行 pylint

```
pylint sendmail.py 
```

[我从http://www.logilab.org/](http://www.logilab.org/)安装了 pylint 和 logilab 库

python 64 和 32 位都以同样的方式抱怨，使用 python 2.6.6。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T06:55:06.043

Python 2.5 中重命名了各种大写名称。有关详细信息，请参阅[http://docs.python.org/release/2.7/library/email.html#package-history](http://docs.python.org/release/2.7/library/email.html#package-history)。基本`email`包`__init__.py`做了一些技巧来使旧名称在 python 中工作，但是因为 pylint 有自己独立的导入方法，这些技巧在 pylint 中不起作用。

切换到新名称，你应该没问题：

```
from email.mime import multipart as MIMEMultipart
from email.mime import base as MIMEBase
from email import encoders as Encoders 
```

例如。

# ios - MFMailComposeViewController 不会关闭

> ID：10345582
> 
> 赞同：2
> 
> 时间：2012-04-27T06:06:22.517
> 
> 标签：ios, mfmailcomposeviewcontroller, dismiss

在遵循向我展示如何实现应用内邮件的教程之后，取消按钮和发送按钮似乎无法关闭视图。

现在我在这里阅读了一些评论说我应该实现这个方法：

```
-(void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error {
[self dismissModalViewControllerAnimated:YES];
} 
```

但这并不能解决问题，在模拟器或我的 iPhone 4 上都没有 - 虽然消息确实发送了，但视图并没有关闭。

到目前为止，这是我的代码：

```
#pragma mark - InApp Mail
- (IBAction)openMail:(id)sender
{
if ([MFMailComposeViewController canSendMail])
{
    MFMailComposeViewController *mailer = [[MFMailComposeViewController alloc] init];

    [mailer setSubject:@"iOS School - MultipleAlertViews"];

    NSArray *toRecipients = [NSArray arrayWithObjects:@"", nil];
    [mailer setToRecipients:toRecipients];

    // Attach an image to the email
    NSString *pathFile01 = @"http://dl.dropbox.com/u/61711378/iOS%20School%20-%20Docs/MultipleAlertViewsVCh.pdf";
    NSURL *pdfURLFile01 = [NSURL URLWithString:pathFile01];
    NSData *pdfDataFile01 = [NSData dataWithContentsOfURL:pdfURLFile01];
    [mailer addAttachmentData:pdfDataFile01 mimeType:@"application/pdf" fileName:@"MultipleAlertViewsVCh.pdf"];

    NSString *pathFile02 = @"http://dl.dropbox.com/u/61711378/iOS%20School%20-%20Docs/MultipleAlertViewsVCm.pdf";
    NSURL *pdfURLFile02 = [NSURL URLWithString:pathFile02];
    NSData *pdfDataFile02 = [NSData dataWithContentsOfURL:pdfURLFile02];
    [mailer addAttachmentData:pdfDataFile02 mimeType:@"application/pdf" fileName:@"MultipleAlertViewsVCm.pdf"];

    NSString *emailBody = 
    @"Hello,<br/><br/>You requested code for this project, which you can now use in XCode <br/><br/> You will find 2 Attachements.<br/>One is the Header file and the other is the Implementation file.<br/><br/>Thank you for using this app, if you find it useful, don't forget to give it a Rating in the App Store.<br/><br/>Kind Regards,<br/>iOS School";

    [mailer setMessageBody:emailBody isHTML:YES];

    [self presentModalViewController:mailer animated:YES];
}
else
{
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Failure"
                                                    message:@"Your device doesn't support the composer sheet"
                                                   delegate:nil
                                          cancelButtonTitle:@"OK"
                                          otherButtonTitles:nil];
    [alert show];
}
}

- (void)mailComposeController:(MFMailComposeViewController*)controller    didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error
{
switch (result)
{
    case MFMailComposeResultCancelled:
        NSLog(@"Mail cancelled: you cancelled the operation and no email message was queued.");
        break;
    case MFMailComposeResultSaved:
        NSLog(@"Mail saved: you saved the email message in the drafts folder.");
        break;
    case MFMailComposeResultSent:
        NSLog(@"Mail send: the email message is queued in the outbox. It is ready to send.");
        break;
    case MFMailComposeResultFailed:
        NSLog(@"Mail failed: the email message was not saved or queued, possibly due to an error.");
        break;
    default:
        NSLog(@"Mail not sent.");
        break;
}

// Remove the mail view
[self dismissModalViewControllerAnimated:YES];
} 
```

如您所见，我已经实现了 `- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error`

但这不起作用-我还缺少其他任何东西-我正在使用iOS 5.1

干杯杰夫

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-27T06:09:22.623

You've implemented the delegate method, but haven't set the delegate:

```
mailer.mailComposeDelegate = self; 
```

After you create `mailer`.

# c++ - Sqlite 表中的校验和计算

> ID：10345583
> 
> 赞同：0
> 
> 时间：2012-04-27T06:06:27.697
> 
> 标签：c++, sqlite

我正在开发一个嵌入式应用程序，其中我将数据存储在 SqlLite 数据库中。为了保护文件的完整性，我还需要为插入的每一行生成一个校验和。现在，我正在通过以预定义格式格式化列的内容并考虑前一行的校验和来计算一行的校验和。到目前为止一切都很好，但问题是在打开现有数据库时验证校验和。由于它是一个实时应用程序，并且数据库可以变得非常大，因此我没有自由再次迭代每一行。所以我的问题是验证检查的最佳方法是什么，这样我就不需要迭代每一行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T07:18:36.860

最好的方法是使用 PRAGMA 完整性检查。收集其输出将有助于分析正确性。

[PRAGMA 完整性检查](http://www.sqlite.org/pragma.html#pragma_integrity_check)

# java - Java GUI 不变

> ID：10345591
> 
> 赞同：1
> 
> 时间：2012-04-27T06:07:09.980
> 
> 标签：java, multithreading, sleep, actionlistener, mouselistener

好的，所以我正在制作一个简单的反应游戏，我的代码如下。现在，当调用 startGame() 时，如果我注释掉 while 循环，一切都会好起来的，但是当我用 thread.sleep(1000) 运行它时，事情就卡住了！整个程序执行，没有任何反应。请花 2 分钟运行代码并帮助我调试它。我正在使用 thread.sleep(1000) 来查看用户是否可以单击点亮的 jPanelArray JPanel。但我相信由于 thread.sleep，当按下开始游戏按钮时，GUI 根本不会改变。非常感谢您的帮助。

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.util.Random;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;

public class JExternFrame extends JFrame implements ActionListener{
    public Color randomColor(){
        return new Color((.8f) * generator.nextFloat() + .04f,(.8f) * generator.nextFloat() + .04f,(.8f) * generator.nextFloat() + .04f);
    }
    public JPanel [][]jPanelArray;
    public JButton startButton;
    int []currentLitUp;
    public Random generator;
    public JPanel main;
    public JExternFrame(){
        super("The Reaction Game");
        generator = new Random();
        setSize(400,400);
        startButton = new JButton("Start Game");
        startButton.setOpaque(true);
        startButton.setBorderPainted(false);
        startButton.setBackground(randomColor());
        add(startButton,BorderLayout.NORTH);
        main = new JPanel();
        main.setBackground(randomColor());
        add(main);
        mouseClick myMouseClick = new mouseClick();
        startButton.addActionListener(this);
        setVisible(true);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        }
    public void startGame(){
        startButton.setVisible(false);
        int numOfClicks = generator.nextInt(8)+5;
        int sizeX = 15;
        int sizeY = 15;
        currentLitUp = new int[2];
        jPanelArray = new JPanel[sizeX][sizeY];
        mouseClick mouseClicked = new mouseClick();
        main.setLayout(new GridLayout(sizeX,sizeY));
        for(int i = 0; i < sizeX; i++){
            for(int j = 0; j < sizeY; j++){
                jPanelArray[i][j] = new JPanel();
                jPanelArray[i][j].setBackground(Color.GRAY);
                main.add(jPanelArray[i][j]);
                jPanelArray[i][j].addMouseListener(mouseClicked);
            }
        }
        while (numOfClicks != 0){   
            numOfClicks--;
            currentLitUp[0] = generator.nextInt(14);
            currentLitUp[1] = generator.nextInt(14);
            jPanelArray[currentLitUp[0]][currentLitUp[1]].setBackground(randomColor());
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            jPanelArray[currentLitUp[0]][currentLitUp[1]].setBackground(Color.GRAY);
            currentLitUp[0] = -1;
            currentLitUp[1] = -1;
        }
        System.exit(0);
    }
    public class mouseClick implements MouseListener{

        @Override
        public void mouseClicked(MouseEvent e) {
            if(e.getSource() == jPanelArray[currentLitUp[0]][currentLitUp[1]]){
                System.out.print("Correct");
            }
            else System.out.print("INCORRECT");

        }

        @Override
        public void mouseEntered(MouseEvent e) {
            // TODO Auto-generated method stub

        }

        @Override
        public void mouseExited(MouseEvent e) {
            // TODO Auto-generated method stub

        }

        @Override
        public void mousePressed(MouseEvent e) {
            // TODO Auto-generated method stub

        }

        @Override
        public void mouseReleased(MouseEvent e) {
            // TODO Auto-generated method stub

        }

    }
    public void actionPerformed(ActionEvent e){
        if(e.getSource() == startButton){
            startGame();
        }
    }
    public static void main(String[] args){
         new JExternFrame();
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T06:13:01.637

您的 Thread.sleep() 正在 GUI 线程中运行并将其置于睡眠状态，因此它无法继续处理其他 GUI 事件。

Swing 中的并发性是您的问题，您会发现这个问题被多次回答...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-27T06:15:51.563

`actionPerformed()`Swing 在[Event Dispatch Thread](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html)上调用您的方法。在您的`actionPerformed()`方法中，您调用`startGame()`并且此方法不断循环。这意味着您永远不会让 Event Dispatch Thread 继续工作。

您需要调查[SwingWorker](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)和[SwingUtilities.invokeLater()](http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingUtilities.html#invokeLater%28java.lang.Runnable%29)。

# jquery - 使用 jQuery 平滑 CSS 2D 转换

> ID：10345592
> 
> 赞同：1
> 
> 时间：2012-04-27T06:07:12.243
> 
> 标签：jquery, css

我最近遇到了这个网站[http://www.smartusa.com/](http://www.smartusa.com/) 这有很棒的滚动效果和平滑的元素缩放。

谁能帮我弄清楚用于实现平滑缩放效果的逻辑？不是视差滚动，而是汽车的缩放。

我尝试`jQuery.Transition.js`了插件并添加了一个滚动事件，但转换非常跳跃。它没有上面网站中的效果那么流畅。我停止排队并将持续时间减少到 10 毫秒，但仍然不够好。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:23:09.530

您可以尝试 TransformJS - 它使用 CSS3 3D 变换（即使您只为一维或二维动画），以便在硬件可用时强制浏览器硬件加速动画。

[http://transformjs.strobeapp.com/](http://transformjs.strobeapp.com/)

它也很好地集成到 jQuery 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:24:07.603

不确定这是否是您正在使用的插件： [https ://github.com/heygrady/transform/wiki](https://github.com/heygrady/transform/wiki)

但是使用这样的动画库，您可以执行以下操作：

```
$(window).scroll(function(e){ $('.example').transform({rotate: e.scrollTop }); }); 
```

# python - Paramiko SSHException Channel Closed

> ID：10345594
> 
> 赞同：3
> 
> 时间：2012-04-27T06:07:45.587
> 
> 标签：python, paramiko

I have been using Paramiko to send commands across on a Linux/Windows machine.

It is working fine for remotely executing tests on an Ubuntu machine. However, it doesn't work on the Windows 7 host machine.

Below is the error that I received:-

```
def _unit_for_event(self):
  self_event.wait()
  assert self.event.isSet()

  if self.event_ready:
    return
  e = self.transport.get_exception()
  if e is None:
    e = SSHException ('Channel closed.')
  raise e 
```

The exception was:

```
E SSHException: Channel closed. 
```

I am using the latest Paramiko version 1.7.7.1 and installing Open SSHd on the Windows 7 machine.

Has anyone had a similar experience to the above? This error is not seen when I remotely execute on a Linux machine.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T20:01:33.020

在我的情况下，这原来是由于服务器上的 SFTP 配置错误。尝试一下`sftp user@remote-host`，如果这不起作用，您就会知道这是根本原因。解决问题取决于您的服务器是什么。

# javascript - nodejs聊天服务器跨页面持久化

> ID：10345599
> 
> 赞同：1
> 
> 时间：2012-04-27T06:09:04.277
> 
> 标签：javascript, html, node.js, chat

我必须使用 node.js 创建一个聊天服务器页面 chat.html。我使用了几个模块，例如[http://chat.nodejs.org](http://chat.nodejs.org)。问题是当我从 chat.html 页面移动到应用程序的其他页面（如 about.html）并返回到 chat.html 时，我需要再次登录，它认为我是一个新加入者。

有什么方法/模块可以让我保持聊天。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:24:38.053

一种简单的方法是使用会话来识别用户并从数据库中加载他们的聊天记录。

您还可以考虑将他们的历史记录存储到 cookie/localStorage 中，从而节省服务器上的一些负载，除非您无论如何都需要识别或存储历史记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:24:50.060

您需要在应用程序中设置会话。我将链接这个流行的答案，而不是在这里描述：

[在 Node.js 中管理会话？](https://stackoverflow.com/questions/3737062/managing-sessions-in-nodejs)

# python - using numpy to reduce the size of the matrix

> ID：10345602
> 
> 赞同：1
> 
> 时间：2012-04-27T06:09:09.680
> 
> 标签：python, matrix, numpy

I have to create an adjacency list of users and TV shows where the rows are the users and the TV shows are the columns. If a user follows that TV show then there will be a 1 in the matrix else a zero. This information I have already collected from twitter. In total there are 140 TV shows and approximately 530000 unique users. I am using the following code to generate the matrix, using python:

*   NoTvShows: Total number of TV shows(IDs)
*   unique_user: All the unique users
*   collected_users: This is a list of lists. The sublists correspond to TV shows and list the IDs of the followers.

```
for i in range(0,NoTvShows):
    for every_user in unique_users:
        if every_user in collected_users[i]:
            matrix.append(1)
        else:
            matrix.append(0)
    main_matrix.append(matrix)
    matrix = []

the_matrix = zip(*main_matrix)
simplejson.dump(the_matrix,fwrite)
fwrite.close() 
```

When I try executing my program on the server, it crashes as it is taking a lot of time and memory. I know I can use numpy to reduce the size of my matrix and then use it to compute similarities between the users. However, I am not sure as to how to code the numpy in this code and generate the reduced matrix.

I hope someone can guide me in this regard

Thank you

Richa

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T06:35:21.830

稀疏矩阵（如[@phg 所建议的](https://stackoverflow.com/a/10345687/344821)）很好，因为矩阵中的大多数条目可能都是 0（假设大多数用户只关注少数电视节目）。

不过，可能更重要的是，您正在以一种非常低效的方式构建矩阵（制作大量 python 列表并复制它们），而不是首先将它们放在一个不错的紧凑 numpy 数组中。此外，您花费大量时间搜索列表（使用`in`语句），而这对于您的循环来说根本不是必需的。

此代码遍历关注者列表并在`user_ids`字典中查找每个 id 的用户 #。您可以非常简单地将其调整为稀疏矩阵类（我认为只需切换`np.zeros`到`scipy.sparse.coo_matrix`）。

```
user_ids = dict((user, i) for i, user in enumerate(unique_users))

follower_matrix = np.zeros(NoTvShows, len(unique_users), dtype=bool)
for show_idx, followers in enumerate(collected_users):
    for user in followers:
        follower_matrix[show_idx, user_ids[user]] = 1 
```

一旦你有了矩阵，你真的，真的不想将它保存为 JSON，除非你必须这样做：对于数字矩阵来说，这是一种非常浪费的格式。[`numpy.save`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.save.html)如果您只在 numpy. `numpy.savetxt`也可以工作，至少消除了括号和逗号，并且在写入时可能会减少内存开销。但是当你有一个 0-1 矩阵并且它是布尔数据类型时，`numpy.save`每个矩阵元素只需要一个位，而`numpy.savetxt`需要两个字节 = 16 位（一个 ascii`'0'`或`'1'`加上一个空格或换行符），并且 json 使用至少三个字节，我认为（逗号，空格，加上每行的一些括号）。

* * *

您可能还在谈论降维技术。这也很有可能；有很多技术可以通过某种 PCA 类型的技术、主题模型或基于聚类的方法将 140 维的向量（电视节目紧随其后）降低到更低的维度......如果你唯一担心的是构建矩阵需要很长时间，但这根本没有帮助（因为这些技术通常需要完整的原始矩阵，然后给你一个低维版本）。在这里尝试我的建议，如果它不够好，请尝试稀疏矩阵，然后担心减少数据的奇特方法（可能通过学习数据子集的降维然后构造其余部分）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-27T06:19:04.543

您可能希望使用[稀疏矩阵](http://en.wikipedia.org/wiki/Sparse_matrix "稀疏矩阵")来减少空间。我为 scipy 找到了这个：http: [//docs.scipy.org/doc/scipy/reference/sparse.html](http://docs.scipy.org/doc/scipy/reference/sparse.html)

我希望这就是你的意思。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T18:47:12.103

如果您有兴趣，这是另一种方法。它假定您的用户按存储顺序排列，但它们可以是数字或字符串 ID：

```
# The setup
users = ['bob', 'dave', 'steve']
users = np.array(users)
collected_users = [['bob'], ['dave'], ['steve', 'dave'], ['bob', 'steve', 'dave']]
NoTvShows = len(collected_users)

# The meat
matrix = np.zeros((NoTvShows, len(users)), 'bool')
for i, watches in enumerate(collected_users):
    index = users.searchsorted(watches)
    matrix[i, index] = 1 
```

# jquery - CSS - 旋转背景图像

> ID：10345605
> 
> 赞同：0
> 
> 时间：2012-04-27T06:09:17.233
> 
> 标签：jquery, css, background-image

我有一个使用背景图像的 CSS 样式（代码：）`background-image: url("folderimage.jpg");`。有没有办法使用 jQuery/CSS 在多个 CSS 背景图像之间旋转？（请举个例子）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:21:58.723

这种东西会起作用我还没有测试过代码，但想法是有一个由五个图像组成的数组并在超时时更改它们。如果您需要，我可以向您解释代码。

```
 var theImages = new Array(); 

theImages[0] = '1.gif' 
theImages[1] = '2.gif' 
theImages[2] = '3.gif' 
theImages[3] = '4.gif' 
theImages[4] = '5.gif' 

function changeBGImage(){
var whichImage = Math.round(Math.random()*(p-1));
jQuery('#elementHavingProperty').css('background-image','url('+theImages[whichImage+'])');

} 

movement = setTimeout("changeBGImage()",1000000); 

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T07:10:14.957

也许是话题。但是您可以查看我的代码，了解我如何旋转页面上的所有内容。

[我的网页](http://gustavstromberg.se/sandbox/html5/rotating/)

# javascript - Dropdown validation in JQuery

> ID：10345614
> 
> 赞同：0
> 
> 时间：2012-04-27T06:10:15.723
> 
> 标签：javascript, jquery, textbox, drop-down-menu, jquery-validate

Actually I am a new user of **LAMP**(Linux, Apache, Mysql, PHP). I have created a web page using php scripts and have used sort of validation rules by **js validation plugin** to validate form inputs (textbox, email etc).

*   I have created **2 dropdown list** .

    *   (a) **"Category"** contains options as **Child,Adult**

    *   (b) **"Seat"** contains options as **NON-AC,AC**

*   Then I have used a **text box**: **"Amount"** which receives input as integer. The conditions are

    *   child & Non-AC - 150 (as Amount)

    *   Child & AC -200 (as Amount)

    *   Adult & Non-AC - 300 (as amount)
    *   Adult & AC - 400 (as amount)

I have to validate **Amount** textbox by considering the inputs form both the **dropdown** list.

I have searched for jquery validation.js and found the **min** constraint. but didn't get way to custom validation code to validate textbox using min and input from the dropdown list.

I will be very thankful , if someone helps me out.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:50:18.253

您可以编写自己的验证方法，如下所示

```
jQuery.validator.addMethod(
    "amountcheck",
    function(value,element){
         // value ==> the value of text box , element ==> the text box
         var category = $("#category").val();
         var seat = $("#seat").val();   
         // check it's valid or not..
         if (true){
              return this.optional(element) || true;
         }else{
              return this.optional(element) || false;
         }
    },
    "Invalid Amount"
); 
```

然后

```
$(form).validation({
    rules:{
        Amount:{
             amountcheck:true
        }
    }
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:52:00.873

尝试这样做：---

```
jQuery('#Category).change(function() {
    //ur code comes here..
    //here you can give ur condition based on category changed..
}); 
```

# php - 从 mongodb 中删除许多文档

> ID：10345620
> 
> 赞同：4
> 
> 时间：2012-04-27T06:11:17.587
> 
> 标签：php, mongodb, mongodb-php

我从事多租户 Web 应用程序。有必要清除一些用户容器，这些容器可能相当大，收集了许多文档。我需要能够删除许多文档，例如：

```
 return self::remove(array('LISTID' => $listId), array('safe' => true)); 
```

在某些情况下，可能有许多文档符合此标准，例如成百上千甚至几百万。我担心此操作可能会花费很多时间并限制服务器。如果有很多文档，是否值得将此类操作排队以离线删除它们，例如伪代码：

```
while (there are documents) {
  delete(1000 documents);
  sleep();
} 
```

我想知道在这种情况下如何通过 mongodb 中较小的部分删除数据。我还注意到，由于某种原因，删除相当多的行在 mongodb 中发生得相当快，我们有在 mongodb 中存储数据的原型，在 mysql 中删除相似数量的行需要更长的时间，但在 mysql 中，表中的每一行都有对其他表的引用有数据，但即使从属表中没有记录，在 mongodb 中似乎要快得多，在 mongodb 中，它将所有数据存储在文档中，但无论如何对我来说似乎很奇怪。或者它可能是多余的？

谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T10:52:16.717

这是您必须在应用程序中执行的操作。在 PHP 中，您可以执行以下操作：

```
$found = false;
$ids = $collection->find(array('LISTID' => $listId), array('_id' => 1))->limit(1000);
do {
    $found = 0;
    $idsToDelete = array(); // we'll collect all the ids here, so that we can delete them in a batch
    foreach( $ids as $res )
    {
        $found++;
        $idsToDelete[] = $res['_id'];
    }
    $collection->remove(array('_id' => array( '$in' => $idsToDelete )));
    sleep(15);
} while ( $found ); 
```

您需要确保在 LISTID 上有一个索引，否则`find(array('LISTID' => $listId)`可能会使事情变得非常缓慢。

# android - 带有来自 Json 的图像的 ListView

> ID：10345621
> 
> 赞同：0
> 
> 时间：2012-04-27T06:11:22.740
> 
> 标签：android, listview, gson

我的应用程序有问题，我想用从 GSON 拍摄的照片在 ANDROID 上制作一个列表视图。但我想知道如何为列表视图拍摄的图片获取文本和网址。

GSON

```
[{"brand_city_id":"1","name":"Blue Bird","logo":"http:\/\/gojek.gits.co.id\/uploads\/Blue_Bird1.jpg","description":"Blue bird adalah salah satu member blue bird group, menyediakan jasa taksi dengan harga terjangkau."},{"brand_city_id":"5","name":"Cipaganti","logo":"http:\/\/gojek.gits.co.id\/uploads\/Cipaganti.png","description":"Bertemakan taksimax, Cipaganti Taksi bukan hanya sekedar pengantaran pelanggan di dalam kota, fasilitas lengkap adalah salah satu keunggulan taksimax ini. Dengan fasilitas Wi-Fi dan Movie serta kelengkapan kendaraan yang memadai telah membedakan layanan taksimax dengan taksi yang lainnya."}] 
```

和 Main.java

```
 package com.gits.pikmiap;

import java.util.ArrayList;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ListView;
import android.widget.Toast;
import android.widget.AdapterView.OnItemClickListener;

public class Main extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.taxibandung);

        ArrayList<SearchResults> searchResults = GetSearchResults();

        final ListView lv1 = (ListView) findViewById(R.id.ListView01);
        lv1.setAdapter(new MyCustomBaseAdapter(this, searchResults));

        lv1.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> a, View v, int position, long id) { 
                Object o = lv1.getItemAtPosition(position);
                SearchResults fullObject = (SearchResults)o;
                Toast.makeText(Main.this, "You have chosen: " + " " + fullObject.getName(), Toast.LENGTH_LONG).show();
            }  
        });
    }

    private ArrayList<SearchResults> GetSearchResults(){
        ArrayList<SearchResults> results = new ArrayList<SearchResults>();

        SearchResults sr1 = new SearchResults();
        sr1.setName("Blue Bird");
        sr1.setDescription("Blue bird adalah salah satu member blue bird group, menyediakan jasa taksi dengan harga terjangkau.");
        sr1.setPhone("214-555-1234");
        sr1.setImage("http://gojek.gits.co.id/uploads/Blue_Bird1.jpg");
        results.add(sr1);

        sr1 = new SearchResults();
        sr1.setName("Cipaganti");
        sr1.setDescription("Bertemakan taksimax, Cipaganti Taksi bukan hanya sekedar pengantaran pelanggan di dalam kota, fasilitas lengkap adalah salah satu keunggulan taksimax ini. Dengan fasilitas Wi-Fi dan Movie serta kelengkapan kendaraan yang memadai telah membedakan layanan taksimax dengan taksi yang lainnya.");
        sr1.setPhone("612-555-0961");
        sr1.setImage("http://gojek.gits.co.id/uploads/cipaganti.ppg");
        results.add(sr1);

        return results;
    }
} 
```

搜索结果.java

```
 package com.gits.pikmiap;

public class SearchResults {
     private String name = "";
     private String description = "";
     private String phone = "";
     private String image = "";

     public void setName(String name) {
      this.name = name;
     }

     public String getName() {
      return name;
     }

     public void setDescription(String description) {
      this.description = description;
     }

     public String getDescription() {
      return description;
     }

     public void setPhone(String phone) {
      this.phone = phone;
     }

     public String getPhone() {
      return phone;
     }

     public void setImage(String image) {
          this.image = image;
         }

         public String getImage() {
          return image;
         }
    } 
```

MyCustomBaseAdapter.java

```
 package com.gits.pikmiap;

import java.util.ArrayList;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class MyCustomBaseAdapter extends BaseAdapter {
     private static ArrayList<SearchResults> searchArrayList;

     private LayoutInflater mInflater;

     public MyCustomBaseAdapter(Context context, ArrayList<SearchResults> results) {
      searchArrayList = results;
      mInflater = LayoutInflater.from(context);
     }

     public int getCount() {
      return searchArrayList.size();
     }

     public Object getItem(int position) {
      return searchArrayList.get(position);
     }

     public long getItemId(int position) {
      return position;
     }

     public View getView(int position, View convertView, ViewGroup parent) {
      ViewHolder holder;
      if (convertView == null) {
       convertView = mInflater.inflate(R.layout.custom_row_view, null);
       holder = new ViewHolder();
       holder.txtName = (TextView) convertView.findViewById(R.id.name);
       holder.txtCityState = (TextView) convertView.findViewById(R.id.cityState);
       holder.txtPhone = (TextView) convertView.findViewById(R.id.phone);
       holder.image = (ImageView) convertView.findViewById(R.id.image);

       convertView.setTag(holder);
      } else {
       holder = (ViewHolder) convertView.getTag();
      }

      holder.txtName.setText(searchArrayList.get(position).getName());
      holder.txtCityState.setText(searchArrayList.get(position).getDescription());
      holder.txtPhone.setText(searchArrayList.get(position).getPhone());
      holder.image.setImageURI(null);

      return convertView;
     }

     static class ViewHolder {
     ImageView image;
    TextView txtName;
      TextView txtCityState;
      TextView txtPhone;
     }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:38:15.023

您可以使用作为一种解决方案的 GSON，但您可以在不使用 GSON 的情况下解析该字符串，如下面提到的代码：

```
String str = "[{\"brand_city_id\": \"1\",\"name\": \"Blue Bird\",\"logo\": \"http://gojek.gits.co.id/uploads/Blue_Bird1.jpg\",\"description\": \"Blue bird adalah salah satu member blue bird group, menyediakan jasa taksi dengan harga terjangkau.\"},{\"brand_city_id\": \"5\",\"name\": \"Cipaganti\",\"logo\": \"http://gojek.gits.co.id/uploads/Cipaganti.png\",\"description\": \"Bertemakan taksimax, Cipaganti Taksi bukan hanya sekedar pengantaran pelanggan di dalam kota, fasilitas lengkap adalah salah satu keunggulan taksimax ini. Dengan fasilitas Wi-Fi dan Movie serta kelengkapan kendaraan yang memadai telah membedakan layanan taksimax dengan taksi yang lainnya.\"}]";

         JSONArray jArray;
        try {
            jArray = new JSONArray(str);
             for(int i=0; i<jArray.length(); i++){
                 Log.i("brand_city_id", jArray.getJSONObject(i).getString("brand_city_id").toString()); 
                 Log.i("name", jArray.getJSONObject(i).getString("name").toString()); 
                 Log.i("logo", jArray.getJSONObject(i).getString("logo").toString()); 
                 Log.i("description", jArray.getJSONObject(i).getString("description").toString()); 
             }
        } catch (JSONException e) {
            e.printStackTrace();
        } 
```

这将帮助您从字符串中提取图像 url、名称等。提取后，您可以将其加载到列表视图。希望对你有帮助。。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-07T05:21:20.707

现在使用 Glide 图像加载器非常简单[https://github.com/bumptech/glide](https://github.com/bumptech/glide)

你只需编写这段代码

```
Glide.with(this).load(searchArrayList.get(position).getImageURI()).into(holder.image); 
```

# javascript - jquery getting latest top position of the element after some animation changes its position

> ID：10345622
> 
> 赞同：0
> 
> 时间：2012-04-27T06:11:34.950
> 
> 标签：javascript, jquery, jquery-ui

I am trying to implement a vertical accordion menu in jQuery with a little diffence. I want to animate an arrow at the left side of the main menus and an arrow at the right side of the sub menus.

I may not visualize it but my problem is simple. When an element clicked, i need to get its top position but its position changed after I clicked the element because its sub menu is shrinking or augmenting.

How can I get the latest position of that element after its submenu is animated and change its position?

You can find the code below. It may explain itself..

```
$("#firstpane p.menu_head").click(function(e)
{
    $('#larrow').hide();
    $(this).next("div.menu_body").slideToggle(300).siblings("div.menu_body").slideUp("slow");
    $('#bgImageContainer').show();
    $('.slidesContainer').hide();
    $('.slidesThumbs').hide();

    if($(this).hasClass('subcategory')){
        animateLeftArrow(this);
    }
});

function animateLeftArrow(item){
    var pos = $('#rarrow').css('top').replace(/[^-\d\.]/g, '');
    var itpos = $(item).position();
    if($(item).hasClass("first"))
        lastpos = itpos.top -202 + 9;
    else
        lastpos = itpos.top - 202;
    $('#rarrow').show();
    $('#rarrow').animate({
        top: lastpos
    });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T07:02:28.743

```
$('#rarrow').animate(
    { top: lastpos },
    1000,
    function(){
        console.log($(this).offset());
    }
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:19:11.060

您将希望在动画上使用回调函数。(http://api.jquery.com/animate/)

```
$('#rarrow').animate(
{
    alert("before");
}, 1000,
function()
{
    alert("after");
}); 
```

# php - Apache2 with Zend - looking for .htaccess in wrong location

> ID：10345623
> 
> 赞同：2
> 
> 时间：2012-04-27T06:11:44.457
> 
> 标签：php, apache, zend-framework, .htaccess, ubuntu

I've never encountered this problem before. I've a Zend project set up at /home/ashesh/prog/php/commonfloor.com/listinSearch/ and the index.php file is inside ..listingSearch/html/ and so is the .htaccess file. The DocumentRoot inside apache is also set correctly to /home/ashesh/prog/php/commonfloor.com/listinSearch/html/

(Ubuntu 11.10 i386)

Whenever I try accessing 127.0.0.1 through the browser, it should open the homepage but instead it throws up a 403 Forbidden message saying I don't have permissions to access / on the server.

A quick browse through the apache2/error.log file shows something strange:

```
[Fri Apr 27 11:33:22 2012] [crit] [client 127.0.0.1] (13)Permission denied: /home/ashesh/prog/.htaccess pcfg_openfile: unable to check htaccess file, ensure it is readable 
```

Can anyone help? I'm pretty clueless about this and I'm sure it's not a huge fix.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T13:12:28.357

首先检查文件夹权限。好像您是从根（或其他帐户）创建此目录，而 apache 无法读取它。

# objective-c - 从推送通知推送视图

> ID：10345624
> 
> 赞同：2
> 
> 时间：2012-04-27T06:11:59.793
> 
> 标签：objective-c, ios, xcode

我成功收到了 iOS 5 的通知。我希望能够在用户滑动或点击通知中心的推送通知时将他们发送到特定视图。

我希望用户使用的视图控制器（视图）与我的应用程序的开始相反是“groceryStoreViewController”。我读过这是在 didFinishLaunchingWithOptions 或 didReceiveRemoteNotification 中完成的，但我不确定。

如果有人知道如何做到这一点，我将不胜感激，因为这确实是一场斗争。

谢谢

**编辑**

所以问题是我希望在用户点击通知时打开一个特定的视图控制器，但我也希望 UITabBar 保留。我没有成功地做到这一点，这与我显示我相信的子视图有关。请让我知道你的想法，非常感谢你。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {    

self.tabBarItem = [[[UITabBarItem alloc] init] autorelease];

 exploreViewController *view1 = [[exploreViewController alloc] initWithNibName:@"exploreViewController" bundle:nil];
view1.title= @"Explore";

Upcoming *view2 = [[Upcoming alloc] initWithNibName:@"Upcoming" bundle:nil];
view2.title = @"Upcoming";

TipsViewController *view3 = [[TipsViewController alloc] initWithNibName:@"TipsView" bundle:nil];
view3.title = @"Tips";

UINavigationController *nav1 = [[UINavigationController alloc] initWithRootViewController:view1];
UINavigationController *nav2 = [[UINavigationController alloc] initWithRootViewController:view2];
UINavigationController *nav3 = [[UINavigationController alloc] initWithRootViewController:view3];

[view1 release];
[view2 release];
[view3 release];

self.tabBarController = [[[UITabBarController alloc] init] autorelease];
self.tabBarController.viewControllers = [NSArray arrayWithObjects:nav1,nav2,nav3,nil];
self.tabBarItem = [[[UITabBarItem alloc] init] autorelease];

[nav1 release];
[nav2 release];
[nav3 release];

if (launchOptions != nil)
{  
NSDictionary *remoteNotif = [launchOptions objectForKey: UIApplicationLaunchOptionsRemoteNotificationKey];
NSLog(@"Launched from push notification");
//Accept push notification when app is not open
if (remoteNotif) {      

 NSDictionary *alertBody = [remoteNotif objectForKey:@"loc-key"];

 self.window.rootViewController = nav2;  //this is what I want displayed when tapped but also maintain tab bar controller
    [window addSubview:tabBarController.view];
    [window makeKeyAndVisible];

  }
}
else {

    //Go here if just loading up normally without push
    [window addSubview:tabBarController.view];
    [window makeKeyAndVisible];

}
  return YES;

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:48:01.423

它是在`didFinishLaunchingWithOptions:`方法中完成的。您可以检查应用程序是否因为通知而启动，并设置适当的 viewController 来显示。

就像是：

```
-(BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

    // other stuff

    if (launchOptions != nil) {
        NSLog(@"Launched from push notification");
        NSDictionary *notification = [launchOptions objectForKey:UIApplicationLaunchOptionsRemoteNotificationKey];
        // Do something with the notification dictionary
        self.myViewController = [LaunchFromNotificationViewController alloc] init];
    } else {
        self.myViewController = [OrdinaryLaunchViewController alloc] init];
    }

    self.window.rootViewController = self.myViewController;
    [self.windows makeKeyAndVisible];
    return YES;
} 
```

# ios - iOS - 播放具有任意纵横比的视频

> ID：10345626
> 
> 赞同：0
> 
> 时间：2012-04-27T06:12:13.643
> 
> 标签：ios, video, aspect-ratio

是否可以播放任意（“异国情调”）宽高比的视频，而不是通常的 720p 等（例如，用 iPhone 纵向拍摄的视频，或裁剪成完全正方形而不是矩形的视频）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T18:13:33.280

提问者可能得到了他的答案，但以防万一其他人偶然发现这个问题，这里有一些代码：

```
[[(MPMoviePlayerController *)videoPlayer view] setFrame:CGRectMake(x, y, w, h)];
[(MPMoviePlayerController *)videoPlayer setScalingMode:MPMovieScalingModeFill];
[(MPMoviePlayerController *)videoPlayer setFullscreen:NO]; 
```

其中 setScalingMode:MPMovieScalingModeFill 将扭曲电影以适应 (x, y, w, h) 区域。

# windows - 安装 scala-2.9.2.msi（在 Windows 上）后，scala 目录中没有 sbaz

> ID：10345635
> 
> 赞同：4
> 
> 时间：2012-04-27T06:13:15.300
> 
> 标签：windows, scala, installation, sbaz

我应该以某种方式单独下载它还是这是一个错误？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-27T06:25:25.703

[这在 2.9.2.final发行说明](http://www.scala-lang.org/node/12603)底部的评论中有所提及。显然，它被评论为“sbaz 已被弃用并消失”。所以，它似乎不是一个错误，它只是在那个版本中不存在。

[在此处](https://groups.google.com/forum/?fromgroups#!msg/scala-language/QK4rTszzIeM/Mu4N_1zu_K8J)查看更多讨论（包括上述评论的来源）。

# sql - 保留数据库中字符串中的前导空格

> ID：10345636
> 
> 赞同：0
> 
> 时间：2012-04-27T06:13:21.647
> 
> 标签：sql, db2

我想插入一个值为“abcd”的列

我正在使用 DB2 数据库。

我正在使用的查询是：

```
insert into mySchema.myTable value (' abcd'); 
```

但是，当我从表中取回值时，值前面的空格字符会自动修剪。

我用来取回该行的查询是：

```
select full_record from mySchema.myTable; 
```

如何在数据库中保留这个前导空间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:44:11.657

在 MSSQL 中，它工作正常，除非您不能使用 Ltrim,Rtrim... 功能...请告诉我您使用的是哪个数据库？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:48:23.353

您是如何创建表（DDS 或脚本）的？字段的数据类型是什么？

尝试将字段定义为`CHAR`数据类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:52:31.433

在 sql server 中，当在数据类型 char 和 varchar 的列中插入前导空格时，会保留前导空格。但是，尾随空格会自动截断。

```
create table TestSpace (firstname char(1000), lastname varchar(100))

insert into TestSpace (firstname, lastname)
select '  123', '  345'
union all
select '123  ', '345  '

select firstname, lastname , LEN(firstname) firstlen, LEN(lastname) lastlen
from TestSpace 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-28T08:33:23.477

一切正常：

```
Database server        = DB2/SUN64 9.1.9

db2 => create table tt (a char (10), b varchar(10))
DB20000I  The SQL command completed successfully.
db2 => insert into tt values('a ', 'a '), (' b', ' b'), (' c ',' c '), ('d','d')
DB20000I  The SQL command completed successfully.

db2 => select a, b, length(a), length(b) from tt

A          B          3           4          
---------- ---------- ----------- -----------
a          a                   10           2
 b          b                  10           2
 c          c                  10           3
d          d                   10           1

  4 record(s) selected.

db2 => select '<'||a||'>', '<'||b||'>', length(a), length(b) from tt

1            2            3           4          
------------ ------------ ----------- -----------
<a         > <a >                  10           2
< b        > < b>                  10           2
< c        > < c >                 10           3
<d         > <d>                   10           1

  4 record(s) selected.

db2 => 
```

伊迪丝：这是预期的行为。char() 是固定长度，varchar() 是可变长度（有最大值），所以 char() 的长度是恒定的。必须保留前导空格，可以在 varchar() 中删除尾随空格。

# ruby-on-rails - 尝试在 RoR 应用上托管多个客户域

> ID：10345637
> 
> 赞同：2
> 
> 时间：2012-04-27T06:13:23.597
> 
> 标签：ruby-on-rails, ruby

我正在尝试允许在类似于 shopify 的单个 ruby​​ on rails Web 应用程序上托管多个客户域。将需要 SSL 证书，因此需要多个 IP。我该怎么做呢？我应该创建一个功能来在 Apache 中为每个域创建新的 VirtualHosts 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-28T00:04:30.770

有多种方法可以将 Rails 配置为使用`config/routes.rb`域作为[.](http://github.com/jtrupiano/rack-rewrite)命名空间。我想您可以为 HTTPS 使用类似的起点。

添加到`Gemfile`：

```
gem 'rack-rewrite' 
```

添加为初始化程序，在需要它的任何内容之前加载，例如`config/initializers/0_rack_rewrite.rb`：

```
Unshopify::Application.config.middleware.insert_before(Rack::Lock, Rack::Rewrite) do
  rewrite %r{.*}, "/unshopify$&", :not => %r{/assets.*}, :host => "unshopify.example.com"
end 
```

添加到`config/routes.rb`：

```
namespace :unshopify, :path => 'unshopify' do
  resource :statics, :only => [:home]

  root :to => 'statics#home'
end 
```

如果它与命名空间的`:path`默认值相同，则不需要。

当然，您可以将重写指向相同的命名空间，或者根本没有命名空间，然后基于其他方法执行逻辑。[rack-rewrite](http://github.com/jtrupiano/rack-rewrite)文档描述了各种各样的乐趣。

# macos - 如何将 NSView 的内容保存到比它更大的文件中

> ID：10345638
> 
> 赞同：1
> 
> 时间：2012-04-27T06:13:24.643
> 
> 标签：macos, cocoa, nsview

我有 NSView 300x300px 但我需要我的 NSView 的内容图像将 1000x1000px 保存到文件中。是否可以？我不想改变 NSView 的大小，它只是为了保存。

到目前为止，我有这个：

```
NSImage *viewImage = [[NSImage alloc] initWithData:[self dataWithPDFInsideRect:[self bounds]]];

[[viewImage TIFFRepresentation] writeToFile:@"..." atomically:YES]; 
```

它可以很好地保存 300x300px 图像（视图的大小），但是如何使 1000x1000px 的视图内容与 300x300 相同，只是更大的 1000x1000px 输出？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:29:29.327

[创建所需大小的新图像](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSImage_Class/Reference/Reference.html#//apple_ref/occ/instm/NSImage/initWithSize%3a)，[锁定焦点](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSImage_Class/Reference/Reference.html#//apple_ref/occ/instm/NSImage/lockFocus)，按（所需大小÷视图大小）[缩放](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSAffineTransform_Class/Reference/Reference.html#//apple_ref/occ/instm/NSAffineTransform/scaleBy%3a)（考虑纵横比，除非您不介意拉伸内容），[告诉视图绘制](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/drawRect%3a)所有内容[视图的 bounds](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/bounds)，[解锁图像的焦点](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSImage_Class/Reference/Reference.html#//apple_ref/occ/instm/NSImage/unlockFocus)，并保存图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-01T05:39:12.000

你可以试试，

假设您想将 NSImage 保存到文件中，

```
// it will save in the user document folder 
+(NSString *)writeImageToFile:(NSImage *)pImage FileName:(NSString *)pFileName{

    // Make the Complete File name 
    NSString *docDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];

    // yes it should be in the user document folder by default 
    NSString *pCompleteFileName = [docDir stringByAppendingPathComponent:pFileName];

    // now we can save the same 
    [[pImage TIFFRepresentation] writeToFile:pCompleteFileName atomically:YES];

    return pCompleteFileName;

} 
```

# jquery - jQuery - AJAX 发送前

> ID：10345646
> 
> 赞同：1
> 
> 时间：2012-04-27T06:14:09.367
> 
> 标签：jquery, ruby-on-rails-3

这个 AJAX 调用在发送之前没有执行操作，尽管 ajax 请求正在正常工作。这个函数是从一个从不同的 ajax 调用接收到的按钮调用的。我需要在这里改变什么？

```
<%= image_tag 'wait.gif', :id => 'wait_icon', :style => "display:none;"%>

$(function(){
  $('#add_remove_button').click(function() {
    $.ajax({
      type: 'GET',
      url: "/item/add_remove", 
      success: function(data) { $('#view_item').html(data); },
      beforeSend: function() { getElementById('wait_icon').style.display='block'; 
      /*$('#wait_icon').show();*/#Tried this too 
      },
      data: $('#test').serialize(),
      error: function(){  },
      success: function(data){   },
      complete: function (){   }
    });
    return false;
  });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:25:27.237

尝试改变这个

```
getElementById('wait_icon').style.display='block'; 
```

对此

```
document.getElementById('wait_icon').style.display='block'; 
```

# mysql - 更新表列以使其成为主键

> ID：10345655
> 
> 赞同：0
> 
> 时间：2012-04-27T06:15:14.387
> 
> 标签：mysql, ddl

我有一张桌子

```
Name Age Sex id
A     12  m   
B     13  f  
C     11  f 
.... 
```

我希望表格看起来像这样以使 id 成为主键

```
 Name Age Sex id
 A     12  m   1
 B     13  f   2 
 C     11  f   3
    .... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:20:38.807

```
ALTER TABLE  `test` ADD  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:20:33.443

要更改列属性，您可以使用 alter 命令

```
alter table tblName
change id id number(10) NOT Null primary key; 
```

您可以将值自动递增为：

```
alter table tblName
change id id number(10) NOT NULL AUTO_INCREMENT primary key; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:19:11.617

你不能用这个：

```
ALTER TABLE tableName ADD `columnName` INT NOT NULL AUTO_INCREMENT PRIMARY KEY 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T06:28:00.253

```
alter table tbl change id id int primary key auto_increment; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-27T13:25:47.240

嗨你可以通过两种方式做到这一点

1.Sql查询

```
ALTER TABLE `tble` ADD `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY 
```

2.如果您有权访问表，则插入字段名称 id 并设置属性`index`=>`Primary`和`check the Auto Increment attribute`

谢谢

# ruby-on-rails - Rails：通过 Facebook 登录时隐藏 Facebook 权限页面

> ID：10345656
> 
> 赞同：0
> 
> 时间：2012-04-27T06:15:26.570
> 
> 标签：ruby-on-rails, facebook

您好我正在使用 Rails 2.3.5 开发一个应用程序，我应该可以选择让用户通过 facebook 登录。所以目前我正在使用 FB Graph API 使用“https://www.facebook.com/dialog/oauth?client_id=MY_CLIENT_ID&redirect_uri=MY_APPLICATION_URL/”来执行此操作

每当用户单击 Fb Connect 按钮时，将打开一个带有上述 URL 的弹出窗口，将他带到 Facebook 登录页面。用户输入他的用户名和密码，然后单击登录。下一个FB权限页面将被打开。

我不需要来自 Facebook 的任何用户信息，那么有什么办法可以避免显示/隐藏权限页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T07:48:51.550

我相信提供以用户身份登录您的应用程序的功能将使您能够访问他们的一些信息。虽然我相信你的应用不会像你说的那样使用这些信息——但 Facebook 的人却不那么信任 ;-)

# iphone - 如何在 iPhone 中创建椭圆形的足球场

> ID：10345657
> 
> 赞同：0
> 
> 时间：2012-04-27T06:15:28.857
> 
> 标签：iphone, objective-c, ios, xcode, uibutton

我必须像这样创建椭圆形的足球场![在此处输入图像描述](../Images/a5853032679364f618b8fbc93f343213.png)

但我不知道哪个类/对象可以在 iPhone 中做到这一点？当用户触摸这个时，他/她得到了足球的位置。我做了很多谷歌搜索，但没有成功，请帮助！我正在 UIButton 中尝试此代码

```
UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];

button.backgroundColor=[UIColor greenColor];
[button addTarget:self action:@selector(TappeMe) forControlEvents:UIControlEventTouchUpInside];

[button setTitle:@"" forState:UIControlStateNormal];

button.frame = CGRectMake(15.0, 10.0, 300.0, 400.0);

button.clipsToBounds = YES;

button.layer.cornerRadius = 130;
button.layer.borderColor=[UIColor redColor].CGColor;

button.layer.borderWidth=3.0f;

[self.view addSubview:button]; 
```

我得到了这个输出![在此处输入图像描述](../Images/fcda7a9888b95ee34a7e83f630b19a54.png)

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T07:17:41.993

只需使用 UIImageView 并将 UITapGestureRecognizer 添加到图像视图。例如，参见[这个 UIGestureRecognizer 教程](http://www.raywenderlich.com/6567/uigesturerecognizer-tutorial-in-ios-5-pinches-pans-and-more)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:20:48.120

您需要使用 UIBezier 路径自己绘制它——该类具有创建简单形状（如线条、椭圆、矩形等）的方法。

# iphone - .h 实现文件无法识别我的 UIViewController

> ID：10345667
> 
> 赞同：1
> 
> 时间：2012-04-27T06:16:37.203
> 
> 标签：iphone, objective-c, ios, xcode, uiviewcontroller

**更新：现在一切正常，忘记链接 .xib 文件中的视图。**

我已经像这样导入了我的视图控制器的实现文件；

```
#import "TopicsListParentViewController.h" 
```

当我写：

```
TopicsListParentViewController *tlparentview; 
```

一开始没有错误，但是在构建项目的时候，出现了这个错误：

**未知类型名称“TopicsListParentViewController”；你的意思是“TopicsListViewController”吗？**

为什么会这样，我该如何解决？这是一个屏幕截图，可帮助您更准确地想象场景：

![在此处输入图像描述](../Images/e75a951271bf775acd78b5507036ad33.png)

**编辑：这是“TopicsListParentViewController”的 .h 和 .m**

**.h 实现文件：**

```
//
//  TopicsListParentViewController.h
//
//  Created by James Anderson on 27/04/2012.
//  Copyright (c) 2012 PixelBit Apps Ltd. All rights reserved.
//

#import "SuperChatAppDelegate.h"
#import "TopicsListViewController.h"

@interface TopicsListParentViewController : UIViewController {

IBOutlet UIView *parentview;

IBOutlet TopicsListViewController *topicsListViewController;

}

@end 
```

**.m 实施文件：**

```
//
//  TopicsListParentViewController.m
//
//  Created by James Anderson on 27/04/2012.
//  Copyright (c) 2012 PixelBit Apps Ltd. All rights reserved.
//

#import "TopicsListParentViewController.h"

@implementation TopicsListParentViewController 

-(void)viewDidLoad
{

[parentview addSubview:topicsListViewController.tableView];
NSLog(@"Added subview");

}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
    // Return YES for supported orientations.
return (interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation ==     UIInterfaceOrientationLandscapeRight);
}

- (void)dealloc {
[super dealloc];
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:21:11.167

仔细检查以确保您的文件正确拥有。

```
 @interface TopicsListParentViewController
  ...
 @end 
```

和

```
 @implementation TopicsListParentViewController
  ...
 @end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:23:12.257

检查 endy 的帖子 + 检查您是否将 TopicsListParentViewController 放入项目的目标 -> 意识到将文件添加到测试目标

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T07:37:49.507

我猜您的 Xcode 的派生数据目录已损坏。

删除它并尝试一个干净的构建。

# javascript - 从 javascript 调用 actionscript 方法

> ID：10345668
> 
> 赞同：0
> 
> 时间：2012-04-27T06:16:46.600
> 
> 标签：javascript, actionscript-3, apache-flex, externalinterface

我试图从 javascript 调用一个 actionscript 方法，但它说 flashObj.method() 不是一个函数。我已经在我的 flash 对象的子模块中声明了这个方法。那么如何调用子模块的方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:24:13.670

看着 [`ExternalInterface.addCallback()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/external/ExternalInterface.html#addCallback%28%29)

我相当确定这仅适用于属于文档根（或文档类）的方法，而不适用于其他类的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T07:47:19.803

如上答案所述，您需要使用

```
ExternalInterface.addCallback("nameOfFunctionAsCalledFromJS",nameOfFunctionInFlash); 
```

我建议为这 2 个函数使用不同的名称。您可以使用它来公开不同类的功能，只要它们是公共的。但是，假设您的模块是外部加载的 swfs，当您将 swfs 加载到应用程序中时，您需要使用 LoaderContext 并将模块设置在与加载它们的应用程序相同的 ApplicationDomain 和 SecurityDomain 中：

```
var lc:LoaderContext = new LoaderContext(true,ApplicationDomain.currentDomain,SecurityDomain.currentDomain);
loader.load(urlRequest,lc); 
```

此外，您需要允许从 JS 访问您的应用程序（加载模块的应用程序），因此您需要在来自 JS 的任何调用之前调用 allowDomain：

```
Security.allowDomain("yourdomain");
Security.allowInsecureDomain("yourdomai") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T09:05:06.787

这是一个带有源代码的运行示例。

[http://www.redcodelabs.com/2012/04/calling-actionscript-method-from-javascript/](http://www.redcodelabs.com/2012/04/calling-actionscript-method-from-javascript/)

您需要查看 ExternalInterface 类。你需要的一切都在那里。此外，您需要注意双方的错误处理（AS3 或 JS）

# c++ - 更改 int main() 指南

> ID：10345671
> 
> 赞同：-5
> 
> 时间：2012-04-27T06:17:24.737
> 
> 标签：c++, int, main

> **可能重复：**
> [从 C++ 中的 main() 调用函数](https://stackoverflow.com/questions/2939586/calling-functions-from-main-in-c)

更改 int main 以调用代码中的其他函数的一些指导方针是什么 我被告知不要使用 int main2()、int main3() 等等以及如何声明它们以便编译器调用它们并识别它们会不会是

```
#include <iostream>
int main()
int main 2()
using namespace std;

int main()
  code here ..... 1st function
int main2()
  code here .... 2nd function 
```

还是会

```
#include <iostream>
int anothername()
int seconddifferentname()
using namespace std;

int anothername()
  code here ..... 1st function
int seconddifferentname()
  code here .... 2nd function 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:19:53.737

您创建新函数并从 main 调用它们：

```
void foo() {}
void goo() {}

int main()
{
  foo();
  goo();
} 
```

拥有`main1`或`main2`方法在技术上没有任何问题，但有效的 C++ 程序只有一个入口点，那就是`main`.

# reporting-services - 为 RDL 报告中的数字设置小数点

> ID：10345675
> 
> 赞同：2
> 
> 时间：2012-04-27T06:17:52.963
> 
> 标签：reporting-services

如何将 RDL 文件中的数字字段设置为最多显示 8 个小数点？例如，12.34567890 将显示为 12.34567890，12.34 将显示为 12.34 但不是 12.34000000

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T08:49:39.660

在 BIDS 的 Properties 窗口中，将报表项的 Format 属性设置为`#.########`

这将显示：

*   12.34567891 为 12.34567891
*   12.34000000 为 12.34
*   12.34567890 为 12.3456789

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:26:18.437

右键单击报告项目 -> 属性 -> 提供以下设置，这将设置十进制格式。

![十进制格式](../Images/51de78c79b358b290c21a93fe9165412.png)

默认值为 2 这就是您面临该问题的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T09:36:26.013

## 小数位数的数字格式，小数点后最多显示 8 个非零数字，括号中为负值

在所选数值字段的属性窗口中，将以下值设置为格式属性，

```
#,0.########;(#,0.########);'(None)'
#,0.########;  <-- Formatting for positive value 
(#,0.########); <-- Formatting for Negative value 
'(None)' <-- Omits negative sign in this case 
```

格式属性仅适用于数字字段

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-02-26T14:44:55.917

使用表达式**`=Str(NumericField)`**删除尾随零。

# joomla - 有没有办法从我的 Joomla 组件中以编程方式添加菜单项？

> ID：10345678
> 
> 赞同：1
> 
> 时间：2012-04-27T06:18:03.703
> 
> 标签：joomla, menu, custom-component

我想通过与组件相关的编程方式添加标准的 joomla 菜单项。是否有一种 api 方式来添加菜单项或只是 SQL 方式。我可以通过 SQL 方式添加菜单项，但之后会出现一些问题。我们可以从 joomla 管理员创建一个菜单并将菜单项链接到我的 Joomla 组件项。但是我想以编程方式将菜单和菜单项添加到我的组件中，而不是手动添加。例如，我将在我的组件编辑中创建一个按钮。当我们按下它时，菜单项会自动创建。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T07:00:23.727

如果你想为你的组件创建一个菜单项，它是从组件 XML 配置文件中自动创建的，如果你想添加额外的项目作为子菜单，那么 JSubMenuHelper 可能就是你要找的。

它们将在[本教程的创建组件部分](http://docs.joomla.org/Developing_a_Model-View-Controller_%28MVC%29_Component_for_Joomla!2.5_-_Part_12)进行讨论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T07:02:22.450

joomla 中有一个 JMenu api 可用于获取菜单项

[http://docs.joomla.org/API15:JMenu/getItems](http://docs.joomla.org/API15:JMenu/getItems)

您可以阅读此内容以引用相同的内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-03T10:24:13.373

```
 $menuTable = JTable::getInstance('Menu', 'JTable', array());

        $menuData = array(
        'menutype' => 'client-pages',
        'title' => $data[name],
        'type' => 'component',
        'component_id' => 22,                  
        'link' => 'index.php?option=com_content&view=article&id='.$resultID,
        'language' => '*',
        'published' => 1,
        'parent_id' => '1',
        'level' => 1,
    );

    // Bind data
    if (!$menuTable->bind($menuData))
    {
        $this->setError($menuTable->getError());
        return false;
    }

    // Check the data.
    if (!$menuTable->check())
    {
        $this->setError($menuTable->getError());
        return false;
    }

    // Store the data.
    if (!$menuTable->store())
    {
        $this->setError($menuTable->getError());
        return false;
    }

    $db   = $this->getDbo();
    $qry = "UPDATE `#__menu` SET `parent_id` = 1 , `level` = 1 WHERE `id` = ".$menuTable->id;
    $db->setQuery($qry);
    $db->query(); 
```

# c# - 从 Dll 中提取附加方法信息

> ID：10345682
> 
> 赞同：2
> 
> 时间：2012-04-27T06:18:26.343
> 
> 标签：c#, dll

在我的解决方案中，我有 dll，其中包含以下格式的方法

```
 [TestMethod]
    [TestProperty("Priority", "P0")]
    [TestProperty("Owner", "vbnmg")]
    [TestProperty("Title", "Verify the log accessible")]
    [TestProperty("ID", "1")]
    public void LogAccesiblityTest()
    {
    //Test Code
    } 
```

某些方法具有不同的优先级、所有者、ID 和标题

通过提供 dll 名称和搜索条件（优先级、所有者、ID 和标题），我可以获得给定优先级分组或所有者组等中的方法名称吗？

我有代码，通过它我可以获取使用的方法名称和参数的详细信息，但我没有得到如何从测试属性获取信息。

有人可以建议如何做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:21:40.010

听起来你只是在寻找[`MethodInfo.GetCustomAttributes`](http://msdn.microsoft.com/en-us/library/system.reflection.methodinfo.getcustomattributes.aspx). 鉴于你的格式，我可能会写这样的东西：

```
public static Dictionary<string, string> GetProperties(MethodInfo method)
{
    return method.GetCustomAttributes(typeof(TestPropertyAttribute), false)
                 .Cast<TestProperty>()
                 .ToDictionary(x => x.Key, x => x.Value);
} 
```

（这是假设`TestPropertyAttribute` *has* `Key`和`Value`properties，当然。）

要仅检测属性的*存在*（您可能想要 `TestMethodAttribute`），您可以使用[`MemberInfo.IsDefined`](http://msdn.microsoft.com/en-us/library/system.reflection.memberinfo.isdefined.aspx).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:21:47.220

假设您已经拥有`MethodInfo`对象（因为您说您已经拥有获取信息的代码），您可以调用[`MethodInfo.GetCustomAttributes`](http://msdn.microsoft.com/en-us/library/system.reflection.methodinfo.getcustomattributes.aspx)以获取这些属性。它还有一个重载，您可以在其中传递您要查找的属性的类型。然后，您只需要转换结果并检查它们的属性。

# ipad - coreText如何控制字符串加粗？？？

> ID：10345686
> 
> 赞同：0
> 
> 时间：2012-04-27T06:18:51.523
> 
> 标签：ipad, core-text, nsattributedstring

```
CGFloat widthValue = -1.0;

CFNumberRef strokeWidth = CFNumberCreate(NULL,kCFNumberFloatType,&widthValue);

//Setup the attributes dictionary with font and color
NSDictionary *attributes = [NSDictionary dictionaryWithObjectsAndKeys:
                            (id)font, (id)kCTFontAttributeName,
                            _fontColor.CGColor, kCTForegroundColorAttributeName,
                            strokeWidth,kCTStrokeWidthAttributeName,
                            nil]; 
```

我用上面的代码设置了 kCTStrokeWidthAttributeName，但它仍然是粗体。

我不希望字符串变粗。

我怎么能控制它？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T22:03:03.117

Try changing your `widthValue` to:

```
CGFloat widthValue = 0.f; 
```

to remove the bold text.

From Apple's docs:

> kCTStrokeWidthAttributeName The stroke width. Value must be a CFNumberRef object. Default value is 0.0, or no stroke. This attribute, interpreted as a percentage of font point size, controls the text drawing mode: positive values effect drawing with stroke only; negative values are for stroke and fill. A typical value for outlined text is 3.0.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:02:37.587

结帐`kCTFontWeightTrait`和`kCTFontBoldTrait`.

# twitter - 在哪里可以找到公共 SMS 或 Twitter 数据集

> ID：10345695
> 
> 赞同：1
> 
> 时间：2012-04-27T06:19:39.057
> 
> 标签：twitter, dataset, sms

我需要大型 SMS 或 Twitter 数据集。任何人都知道我在哪里可以找到这样的东西。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:26:53.817

你可以使用这个 [http://www.infochimps.com/tags/twitter](http://www.infochimps.com/tags/twitter)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-30T02:57:54.003

回答我自己的问题：
对于那些想要与我相似的数据集的人来说，有一个 SMS 垃圾邮件集合。这是链接[http://www.dt.fee.unicamp.br/~tiago/smsspamcollection/](http://www.dt.fee.unicamp.br/~tiago/smsspamcollection/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-17T14:32:27.067

尝试使用以下链接获取 Twitter 数据集

[https://data.world/datasets/twitter](https://data.world/datasets/twitter)

[https://archive.org/search.php?query=collection%3Atwitterstream&sort=-publicdate](https://archive.org/search.php?query=collection%3Atwitterstream&sort=-publicdate)

您也可以使用 Twitter API 来收集推文。

# database - SD卡的使用对于我在黑莓中的应用程序中的“database.db”文件至关重要？

> ID：10345697
> 
> 赞同：0
> 
> 时间：2012-04-27T06:19:57.447
> 
> 标签：database, blackberry, sd-card

我正在研究依赖于黑莓数据库的应用程序。单击按钮时，我只是通过从存储在我的 sd 卡中的 .db 文件中获取数据来在其他屏幕上显示一些有用的数据。最初，我从我的资产中提供了那个“.db”文件。

现在，我看到一些用户评论，他们在使用 SD 卡时遇到了问题。

我的问题是“是否可以在我的黑莓应用程序中不使用 SD 卡的情况下使用 sql 数据库/.db 文件”请让我知道是否可以......！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:28:21.260

支持两个独立的文件系统。第一个 - 内部设备文件系统，第二个 - 内存 sd 卡文件系统。

内部设备文件系统不依赖于内存 sd 卡，可以在那里创建文件。但是请注意，如果您的数据库消耗了所有可用的内部内存，那么设备就会变得疯狂。

内存是支持重要操作系统活动的重要资源，当这种内存短缺时，就会发生奇怪的事情，例如突然重启、冻结问题等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-30T03:03:45.760

# python - 如何将 models.py 拆分为 Pyramid 中不同模型的不同文件？

> ID：10345698
> 
> 赞同：12
> 
> 时间：2012-04-27T06:20:00.203
> 
> 标签：python, model-view-controller, pyramid

我是金字塔新手，一直在努力对我的项目进行一些更改。我正在尝试将我的模型/类拆分为单个文件，而不是单个 models.py 文件。为此，我删除了旧的 models.py 并创建了一个带有`__init__.py`文件的模型文件夹以及每个类的一个文件。在`__init__.py`我使用`from .Foo import Foo`.

这使得视图正常工作并且它们可以初始化对象。

但是运行 initializedb 脚本并不会像我在单个 models.py 中拥有所有模型时那样创建新表。它不会创建相关表，而是直接尝试插入它们。

谁能给我一个金字塔项目结构的例子，它在不同的文件中有模型？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-04-27T15:03:36.477

```
myapp
    __init__.py
    scripts
        __init__.py
        initialize_db.py
    models
        __init__.py
        meta.py
        foo.py
        moo.py 
```

现在`meta.py`可以包含一个共享`Base`的以及`DBSession`：

```
Base = declarative_base()
DBSession = scoped_session(sessionmaker(extension=ZopeTransactionExtension)) 
```

每个都`foo.py`可以`moo.py`从`meta.py`.

```
from .meta import Base

class Foo(Base):
    pass 
```

为确保从`models`子包中提取所有表，并且为方便起见，您可以将它们导入`models/__init__.py`：

```
from .meta import DBSession
from .foo import Foo
from .moo import Moo 
```

如果不做这样的事情，不同的表将不会附加到，因此在调用`Base`时不会被创建。`create_all`

然后，您的`initialize_db`脚本可以通过以下方式创建所有表

```
from myapp.models.meta import Base
Base.metadata.create_all(bind=engine) 
```

您的视图可以导入模型以获利：

```
from myapp.models import DBSession
from myapp.models import Foo 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T10:40:48.017

我曾经遇到过同样的问题。

拆分模型文件的解决方案：您必须分别从文件中初始化所有 Base（父）类：

```
#initializedb.py
...
from project.models.Foo import Base as FooBase
from project.models.Moo import Base as MooBase
...

def main(argv=sys.argv):
    ...
    FooBase.metadata.create_all(engine)
    MooBase.metadata.create_all(engine) 
```

# haskell - 什么是 [a] 作为 Haskell 中的类型？

> ID：10345699
> 
> 赞同：0
> 
> 时间：2012-04-27T06:20:07.700
> 
> 标签：haskell, types

这个问题是关于 Haskell 编程语言中的类型。

当我输入

```
:t [] 
```

我得到的回报是：

```
[] :: [a] 
```

是什么`[a]`？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-27T06:26:21.233

像这样重写它可能会使事情更清楚：

```
[] :: forall a. [a] 
```

因此，由于它不包含任何值，haskell 无法确定类型并使其保持打开状态。但是，如果您在类型表达式中使用它，例如

```
x = []

f :: [Int] -> [Int]
f l = l

y = f x 
```

它会自动解析为`[Int]`，因为它被用作这种类型。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-27T06:20:54.077

这是一个占位符。这基本上意味着任何类型都可以去那里。换句话说，如果你有一个函数

```
someFunc :: [Int] -> () 
```

您可以传递`[]`给它，因为`[]`is`[a]`将匹配`[Int]`（通过将`a`占位符替换为具体`Int`类型）。

现在如果你看一下，说，`id`你会发现它的类型是`a -> a`。这意味着它是一个接受*任何*类型对象并返回*相同*类型对象的函数。有趣的是，因为函数对它给出的对象一无所知（因为它对类型没有限制），所以你知道这个函数*必须*做两件事之一：

1.  返回输入对象，或
2.  返回⊥（[底部](http://www.haskell.org/haskellwiki/Bottom)）。

# python - 在python中将句子的eval作为输入的问题

> ID：10345701
> 
> 赞同：0
> 
> 时间：2012-04-27T06:20:14.603
> 
> 标签：python, python-3.x

我在教 Python 的课堂上，并且是任何类型的编码的初学者。我一直遇到这个问题，我在教科书或其他讲义中找不到任何东西来解释我做错了什么。这是一个我遇到问题的练习中的一个例子。任务是编写一个程序，接受用户给出的句子并重新排列单词以获得“yoda speak”。这就是我所拥有的。

```
def main():

    print("Enter a sentence and have it translated into Yoda speak!")

    sentence= eval(input("Enter your sentence: "))
    word_list=sentence.split()

    yoda_words= word_list[2:]+word_list[0:2]

    yoda_says= yoda_words.join()

    print("Yoda says: ", yoda_says)

main() 
```

但是为什么我尝试运行程序我得到了这个：

输入一个句子并将其翻译成尤达语！

输入你的句子：简跑得很快

Traceback（最近一次调用最后一次）：文件“C:\Program Files (x86)\Wing IDE 101 4.0\src\debug\tserver_sandbox.py”，第 14 行，在文件“C:\Program Files (x86)\Wing IDE 101 4.0\src\debug\tserver_sandbox.py"，第 5 行，在主文件 ""，第 1 行，在？语法错误：简跑得很快：，第 18 行

我认为问题来自我使用错误的整个 eval(input()) 命令。有人可以解释我做错了什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T06:26:41.117

`eval`运行 Python 代码，例如 eval("1+1") 返回 2，这不是您想要的。这就是您在“简跑得快”上出现语法错误的原因，Python 正在尝试执行`Jane ran fast`.

删除`eval`，你会没事的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:27:32.773

我会用以下内容替换您的输入语句（见注 1）：

```
sentance= input("Enter your sentence: ") 
```

另外，试试这个加入：

```
' '.join(yoda_words) 
```

（注 1）正如下面@Boud 所指出的，最好在`input`Python 3.x 中使用（而不是使用 Python 2.x 的 raw_input）（例如参见[Python3.x 中 raw_input() 和 input() 之间的区别是什么？](https://stackoverflow.com/q/4915361/1209279) )

我目前无法访问 Python 3.x - 真的应该安装它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-27T06:29:03.803

*评估*是不必要的。删除它，一切都应该正常工作。剩下的就是修正“句子”的拼写:-)

# iphone - 复制时找不到 Sqlite 数据库表

> ID：10345703
> 
> 赞同：2
> 
> 时间：2012-04-27T06:20:33.143
> 
> 标签：iphone, sqlite

我有一个非常奇怪的问题，我创建了一个包含三个字段的 sqlite 表。`-(Void)awakeFromNib`之后，我编写代码以appdelegate 类的方法将其复制到 iPhone 中。

数据库复制成功，但数据库中不存在表。我不知道为什么会这样。

# c# - 在 SQL Server 2005 中将行转换为列的过程需要一些更正

> ID：10345709
> 
> 赞同：1
> 
> 时间：2012-04-27T06:20:40.553
> 
> 标签：c#, asp.net, sql-server-2005, stored-procedures, dependency-injection

我正在使用带有 c# 的 SQL Server 2005 和 asp.net 2008 ...我有 2 个表 Result 和 Stud_Info ....

```
1] Stud_Info

CREATE TABLE Stud_Info
(Enroll_Number varchar(20) NOT NULL,  
Salutation varchar(10) NULL,  
First_Name varchar(20) NULL,  
Middle_Name varchar(20) NULL,  
Last_Name varchar(20) NULL,  
Course_Id varchar(20) NULL,  
Batch varchar(20) NULL)

INSERT into Stud_Info values(11161,'Mr.','Mack','B','Botha','MECH','Batch1');    
INSERT into Stud_Info values(11162,'Mr.','John','A','Los','CIVIL','Batch2');    
INSERT into Stud_Info values(11163,'Ms.','Merry','F','Dsuza','ELCT','Batch1');    
INSERT into Stud_Info values(11164,'Mr.','Pow','B','Janero','MECH','Batch2');    
INSERT into Stud_Info values(11165,'Mr.','Martin','J','Smith','MECH','Batch1');    

SELECT * from Stud_Info 
```

第二张桌子是这样的...

```
2] Exam_Result

CREATE TABLE Exam_Result
(Result_Id numeric(18, 0) IDENTITY(1,1) NOT NULL,  
Enroll_Number varchar(50) NULL,  
Student_Name varchar(100) NULL,  
Course_Id varchar(50) NULL,  
Semester varchar(50) NULL,  
Subject_Id varchar(50) NULL,  
Subject_Name varchar(50) NULL,  
MarksObtained numeric(18, 0) NULL,  
Exam_Type varchar(50) NULL)

INSERT into Exam_Result values(11161,'Mack B Botha','MECH',1,'MT','Maths',25,'Internal1');  
INSERT into Exam_Result values(11161,'Mack B Botha','MECH',1,'EN','English',22,'Internal1');  
INSERT into Exam_Result values(11161,'Mack B Botha','MECH',1,'SC','Science',20,'Internal1');  
INSERT into Exam_Result values(11166,'Barden V John','CIVIL',1,'SS','Social',21,'Internal2');  
INSERT into Exam_Result values(11161,'Mack B Botha','MECH',2,'SM','Simple Maths',24,'Internal2');  
INSERT into Exam_Result values(11161,'Mack B Botha','MECH',2,'SM','Simple Maths',69,'Final');  

SELECT * from Exam_Result 
```

我正在使用此存储过程将主题的行动态转换为列......并且它工作正常。

```
 Create Proc GetExamResults (@Course_Id varchar(100), @Semester varchar(10))
as
begin
    declare @subjname varchar(100)  
    declare @subjects varchar(7000)  
    declare @subjectsselection varchar(7000)  
    declare @SumSelection varchar(7000)  
    declare @NoOfSubjects int
    set @NoOfSubjects = 0

    set @subjects = ''  
    set @subjectsselection = '' 
    set @SumSelection = ''

    DECLARE subject_cursor CURSOR  
    FOR SELECT distinct Subject_Name FROM Exam_Result where course_id = @Course_Id And Semester = @Semester 

    OPEN subject_cursor  

    FETCH NEXT FROM subject_cursor  
    INTO @subjname  

    WHILE @@FETCH_STATUS = 0  
    BEGIN  
        set @subjects = @subjects + '[' + @subjname + '],'  
        set @subjectsselection = @subjectsselection + 'Sum(Isnull([' + @subjname + '],0)) As [' + @subjname + '],' 
        set @SumSelection = @SumSelection + 'Sum(Isnull([' + @subjname + '],0))+' 

        set @NoOfSubjects = @NoOfSubjects + 1

        FETCH NEXT FROM subject_cursor  
        INTO @subjname  
    End  
    CLOSE subject_cursor;  
    DEALLOCATE subject_cursor;  

    select @subjects = LEFT(@subjects, LEN(@subjects) - 1)  
    select @subjectsselection = LEFT(@subjectsselection, LEN(@subjectsselection) - 1)  
    select @SumSelection = LEFT(@SumSelection, LEN(@SumSelection) - 1)  

    print @subjects  
    print @subjectsselection  
    print @SumSelection

    declare @query nvarchar(4000)  

    set @query = 'select S.Enroll_Number, pvt.Student_Name, pvt.Course_Id, pvt.Semester, ' + @subjectsselection + ',' 
    set @query = @query + 'Exam_Type,' + @SumSelection + ' As Grand_Total, '
    set @query = @query + '(' + @SumSelection + ')' + '/' + convert(varchar(10),@NoOfSubjects) + ' As Avg'
    set @query = @query + ' From '  
    set @query = @query + '(select Enroll_Number, Student_Name, Course_Id, Semester, Subject_Name, MarksObtained, Exam_Type from Exam_Result ) ps '  
    set @query = @query + ' pivot(sum(MarksObtained) for Subject_Name in (' + @subjects + ')) as pvt'  
    set @query = @query + ' inner join Stud_Info S on S.Enroll_Number = pvt.Enroll_Number '
    set @query = @query + ' where pvt.Course_Id = ''' + @Course_Id + ''' and pvt.Semester = ''' + @Semester + ''''
    set @query = @query + ' group by S.Enroll_Number, pvt.Student_Name, pvt.Course_Id, pvt.Semester, Exam_Type'
    print @query
    exec sp_executesql @query  
end 
```

目前我越来越喜欢....

```
Enroll_Number  Student_Name Course_Id   Semester  Maths    English    Science    Social    Smathas    total    avg

11161           MACK         MECH        1         25       22         20         0         0          67      total/all sub
11166           Barden       CIV         1         0        0          0          21        0          21      total/all sub 
```

> 笔记

**在这里，我得到了 Exam_Result 表中的所有科目以及所有子项的总和（在 ge 中，您可以看到 - 67）以及 Exam_Result 中所有科目的平均值**

> **现在的问题是我想根据用户的选择通过摸索来显示结果......**例如，如果用户只想看到**Course_Id = MECH 和 Semester = 1** ....o/p 应该是....

```
Enroll_No    Student_Name    Course_ID    Semester    Maths    English    Science     Type         Grand_Total    Avg

11161        Mack B Botha     MECH         1          25        22         20        internal1       67          66.22 
```

每门课程和学期都没有固定的科目..它可能会改变....并且**需要按 Course_Id 和 Semester 分组**给我指导和查询，以便我实施您的答案....我希望这些信息足以解释我的东西....所有答案都是最受欢迎的...谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-02T10:45:04.847

回答你的这个评论：

> 它在我的站点的 sql server 2005 中不起作用它给出错误**消息 102，级别 15，状态 1，第 1 行“ps”附近的语法不正确。****传递给 SUBSTRING 函数的长度参数无效**。

 **第一个错误可能发生在执行动态查询时。我不能确定，但​​看起来您的数据库的兼容性级别低于 90，因此`PIVOT`不允许/识别。在此站点中搜索有关如何在没有 PIVOT 子句的情况下解决它的问题。或者，如果可能，将您的数据库的兼容性级别设置为 90。

至于第二个错误，我在测试你的查询时也遇到了。（当我没有为参数指定值时发生这种情况。）错误的来源是这一行：

```
select @subjects = LEFT(@subjects, LEN(@subjects) - 1) 
```

如果游标查询不返回行，则您的`@subjects`变量保持为空并`LEN(@subjects) - 1`导致`-1`，当作为长度参数传递给 时`LEFT()`，会产生错误。

只需添加一个条件即可避免该问题：

```
**if LEN(@subjects) > 0** select @subjects = LEFT(@subjects, LEN(@subjects) - 1) 
```

对其他两个字符串 (`@subjectsselection`和`@SumSelection`) 执行相同操作。

[并且，请下次您提出问题并说某些东西不起作用时，请确保将所有相关信息（包括错误消息）*放入您的问题*中，**而不是**评论中。]**

# sql - 执行 CopyFromRecordset 时如何让 excel 将日期视为日期而不是字符串

> ID：10345713
> 
> 赞同：5
> 
> 时间：2012-04-27T06:21:00.193
> 
> 标签：sql, excel, vba

我有一个来自 SQL Server 的 SQL 查询，它以“YYYY-MM-DD”格式返回日期作为字符串。如果我以这种格式在单元格中输入日期，它会被识别为日期。但是当我使用 CopyFromRecordset 填充工作表时，它似乎被视为字符串。任何使用单元格的公式都会先将其转换为日期。例如，如果我的日期在列 A 中，并且我创建了一个新列 B，其中填充了公式 =A1 + 0，则该公式将我的日期作为日期返回。

问题：我将 Recordset 数据用于一些事情，其中​​之一是数据透视表。数据透视表不会将我的日期视为日期。例如，我不能按日期分组。我的技巧是创建一个基本上为 =A1 + 0 的新列，我将更改我的宏以自动添加一个零，但我想知道从执行 CopyFromRecordset 的那一刻起是否有办法让它正确。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T08:00:45.887

最简单的方法是在 SQL 服务器上进行转换，例如

```
SELECT CAST(date_text AS DATE) FROM TestExcelDates; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T15:32:09.317

`CopyFromRecordset`因在 Excel 中导致数据类型/单元格格式问题而闻名。

我想我记得在某处读过这是因为记录集的数据类型被忽略了，Excel 试图根据记录集中的数据子集计算出每一列本身的格式。

解决此问题的最佳方法是**在**执行`CopyFromRecordset`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-06-03T20:00:24.453

在我更改了我的 SQL Server 数据库的视图后，我遇到了这个问题。我已将数据类型更改为 DATE；以前它是在不支持 DATE 的旧版本上，所以我使用了 DATETIME。我怀疑 Excel 并不总是通过 SQLOLEDB 提供程序识别 Date 数据类型，但它确实识别 DATETIME。感兴趣的领域是**meas_date**。`SELECT CAST(meas_date AS DATETIME) AS meas_date, ...`因此，我通过将其更改为强制转换并刷新了 Excel 中的查询来更改视图。工作！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-27T06:24:54.493

`CDate()`使用记录集中的日期填充单元格时使用该函数。这会将字符串转换为日期值。

**编辑**

这适用于设置单个单元格值。对于使用`CopyFromRecordset`，我认为您需要在 SQL 查询中进行转换，因此查询返回的列是日期类型而不是字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-01-15T18:34:22.697

我也遇到了从 Teradata 导入数据的问题，并通过首先使用 NumberFormat = "m/d/yy h:mm;@" (24 hr date) 格式化日期列然后使用 VBA 和执行 ws.cells(iRow, iCol).value = ws.cells(iRow, iCol).value，它会强制 Excel 将字符串重新评估为日期/时间字段。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-04-27T06:43:31.173

这可能不是答案，但肯定会帮助您为您的问题找到正确的解决方案

```
String stringCellValue = myCell.toString(); 
```

这里 myCell 的数据类型为**CELL**，我已将其转换为**字符串**格式。如果你想要它所需的**日期**格式，那么你可以试试这个 -

```
SimpleDateFormat sdf = new SimpleDateFormat("YYYY-MM-DD");
myCellDate = sdf.parse(stringCellValue ); 
```

希望对解决您的问题有所帮助...

# iphone - setFinishedSelectedImage:withFinishedUnselectedImage: + 故事板

> ID：10345716
> 
> 赞同：3
> 
> 时间：2012-04-27T06:21:22.137
> 
> 标签：iphone, ios, ios5, user-interface, uitabbar

我的界面完全由 Storyboard 布置（包括 UITabBarController 和所有相应的视图）。

现在是自定义标签栏的时候了。因为我的图标已经设置为正确的颜色，所以我不能使用`[[UITabBar appearance] setTintColor:]`（它只是一直看起来不对）。

原来我应该`setFinishedSelectedImage:withFinishedUnselectedImage:`在特定的 UITabBarItem 上使用。

**是否可以从 AppDelegate 使用此方法（我的全局自定义的其余部分发生在此处）？AppDelegate 如何知道要定位哪个 UITabBar？**

**相反，如果我应该从每个 UIViewController 自定义每个 UITabBarItem，我如何引用 UITabBar（或“根视图控制器”？）然后从 UIViewController 中引用特定项目？**

任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T05:05:16.133

在`viewDidLoad`您的`UIViewController`情况下，您可以执行

```
[self.tabBarItem setFinishedSelectedImage: withFinishedUnselectedImage:] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T09:23:52.760

尝试这个

```
- (id)initWithCoder:(NSCoder *)aDecoder
{
    self = [super initWithCoder:aDecoder];

    if (self) {
        [self.tabBarItem setFinishedSelectedImage:[UIImage imageNamed:@"t1s"] withFinishedUnselectedImage:[UIImage imageNamed:@"t1"]];
        [self.tabBarItem setTitle:@"Title"];
    }

    return self;
} 
```

此外，从情节提要视图中删除标签栏项目中的图像

# iphone - iPhone导航栏按钮上的徽章

> ID：10345717
> 
> 赞同：2
> 
> 时间：2012-04-27T06:21:22.443
> 
> 标签：iphone, ios, uinavigationcontroller

我再次需要你的帮助。我在这个视图控制器中创建了一个视图控制器，两个导航栏按钮都有带有数字的徽章。我已经尝试过在每个地方搜索，但我没有得到任何解决这个问题的方法，而且每个地方都只是提供解决方案用于标签栏或自定义按钮。

所以现在我在导航栏按钮上需要徽章，帮我解决这个问题。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:38:12.747

创建一个包含按钮和徽章的自定义视图，并将该视图添加到导航控制器的右侧或左侧栏按钮。这是您可以做到的唯一方法，否则没有本地方法可以在导航栏按钮项中添加徽章和按钮。

**编辑：**

做这样的事情，

```
 UIView *BtnView = [[UIView alloc] initWithFrame:CGRectMake(0,0,70,35)];
        UIButton *myButton = [[UIButton buttonWithType:UIButtonTypeCustom] retain];
        [myButton setFrame:CGRectMake(0,0,70,35)];
        [myButton setImage:[UIImage imageNamed:@"back.png"] forState:UIControlStateNormal];

        [BtnView addSubview:myButton];
        [myButton release];

        UIBarButtonItem* barButton = [[UIBarButtonItem alloc] initWithCustomView:BtnView];
        viewController.navigationItem.leftBarButtonItem = barButton;
        [BtnView release];
        [barButton release]; 
```

# android - 在 Android 中创建构造函数

> ID：10345718
> 
> 赞同：1
> 
> 时间：2012-04-27T06:21:24.770
> 
> 标签：android

我是 Android 平台的新手。如何创建特定 Activity 的不同类型的构造函数（重载）。它与 java 相似还是有什么不同？任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:35:45.520

我不明白您为什么要为活动创建不同的构造函数。您应该阅读活动生命周期（[示例](http://developer.android.com/reference/android/app/Activity.html)），然后了解如何从另一个活动创建活动（[示例](https://stackoverflow.com/questions/4186021/how-to-start-a-new-activity-when-click-on-button)）。

这应该可以解决您的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:37:11.243

它只是 Java，实际上您确实创建了从 Activity 派生的类。如果您能够[安装](http://developer.android.com/sdk/installing.html)这些工具，那么您就足够机智地学习这些优秀教程中的任何一个：

*   [http://developer.android.com/resources/tutorials/hello-world.html](http://developer.android.com/resources/tutorials/hello-world.html)
*   [http://www.vogella.com/articles/Android/article.html](http://www.vogella.com/articles/Android/article.html)
*   [http://www.mkyong.com/tutorials/android-tutorial/](http://www.mkyong.com/tutorials/android-tutorial/)

# css - 如何将背景颜色添加到选定的计划日期

> ID：10345723
> 
> 赞同：3
> 
> 时间：2012-04-27T06:21:49.090
> 
> 标签：css, jsf, primefaces, background-color

如何将背景颜色添加到 Primefaces 的计划标签中的选定日期？

我已经使用了样式，但它适用于计划背景颜色。我想将背景颜色添加到我在日程表中选择的日期。所以如果你们有任何想法，请分享..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:54:04.440

您正在寻找的样式类是

```
ui-state-highlight 
```

Primefaces[文档](http://primefaces.org/documentation.html)解释了如何更改特定组件的样式：

在你的小脸上：

```
<p:schedule styleClass="custom">
...
</p:schedule> 
```

在你的 CSS 中：

```
.custom .ui-state-highlight {
    background: yellow !important;
} 
```

更新 1：

这是一个完整的工作示例：

```
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"     
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
        <style type="text/css">
            .custom .ui-state-highlight {
                background: yellow !important;
            }
        </style>
    </h:head>
    <h:body>
        <p:schedule styleClass="custom">
        </p:schedule>
    </h:body>
</html> 
```

更新 2：

好吧，基本上，primefaces 日程安排日是一个像这样的表格单元格：

```
<td class="fc-fri ui-widget-content fc-day19">
  <div>
    <div class="fc-day-number">18</div>
    <div class="fc-day-content">
      <div style="position:relative">&nbsp;</div>
    </div>
  </div>
</td> 
```

`fc-day19`请注意，对于带有 content 的表格单元格，有一个特殊的样式类`18`。

下面的 jQuery 命令基于这个特殊的类来改变这个单元格的背景颜色：

```
$(".fc-day19").css("backgroundColor","green"); 
```

这不是您问题的完整解决方案，但这就是它的*工作*方式。您需要确定所需日期的表格单元格并相应地更改其样式（请注意，如果在 jQuery 中使用css，则`background-color`需要使用驼峰式大小写。希望这会有所帮助。`backgroundColor`

# php - PHP数组排序并从矩阵中获取最大值

> ID：10345729
> 
> 赞同：1
> 
> 时间：2012-04-27T06:22:20.440
> 
> 标签：php, arrays, sorting, multidimensional-array

我希望有一种简单的方法可以做到这一点，而无需大量循环。

我有以下方式的矩阵：

```
 Weight1 Weight2 Weight3 .... WeightN
Jan    1       3       5            4
Feb    10      12      15          11
Mar    5       7       4            3
Apr    10      15      7            3 
```

假设以下数组：

```
$arrayMonths = array(
       'jan' => array(1, 3, 5,4)
       'feb' => array(10,12,15,11)
       'mar' => array(5, 7, 4, 3)
       'apr' => array(10,15,7,3)
    ); 
```

我获得每行最大值的最佳方法是什么：jan = 5 feb = 15 mar = 7 apr = 15

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:26:45.050

使用[max()](http://php.net/manual/en/function.max.php)函数：

```
foreach($arrayMonths as $month => $row)
{
    echo $month . ": " . max($row) . "<br />";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:25:32.510

```
foreach ($arrayMonths as $month => $array) {
    // store the max of each month for later
    // $max['jan'] = 5
    $max[$month] = max($array);

    // or print it out
    echo $month. ' => '. max($array);
} 
```

来自[max() PHP 文档](http://php.net/manual/en/function.max.php)

如果您需要进一步进行排序，您可以在此处查看更多信息 [PHP Array Sorting](http://php.net/manual/en/array.sorting.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T06:13:26.147

我找到了完美的算法：基本上使用遍历所有排列的递归函数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T06:54:21.823

尝试这个：

```
<?php
function getMax( $v, $k ) {
    global $arrayMonths;

    $arrayMonths[ 'max' ][$k] = max($v);
}

$arrayMonths = array(
   'jan' => array(1, 3, 5,4),
   'feb' => array(10,12,15,11),
   'mar' => array(5, 7, 4, 3),
   'apr' => array(10,15,7,3)
);

array_walk( $arrayMonths, 'getMax' );

// Now $arrayMonths['max'] will contain all max values for each key
?> 
```

希望这可以帮助。

# objective-c - 二进制表达式的无效操作数（'double' 和 'double *'）

> ID：10345736
> 
> 赞同：4
> 
> 时间：2012-04-27T06:23:00.667
> 
> 标签：objective-c, ios

我在 Card 类中有这个方法。我想要的是减去值，下面是我创建的方法。但是，它给了我这篇文章标题中所述的错误。下面是错误指向的行。

```
latestPoints = ([self.points doubleValue] - requiredPoints); 
```

我该怎么做呢？我见过这样的帖子说同样的错误，但是我没有发现任何对我想做的事情有价值的东西。

请指教。

卡片.h

```
#import <Foundation/Foundation.h>

@interface Card : NSObject

    @property (nonatomic, strong) NSNumber *points;

- (double) subtractPoints: (double *) requiredPoints;

@end 
```

卡.m

```
#import "Card.h"

@implementation Card

@synthesize points = _points;

- (double) subtractPoints:(double *)requiredPoints
{

    double latestPoints;

    latestPoints = ([self.points doubleValue] - requiredPoints);

    return latestPoints;
}

@end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:27:52.563

为什么要使用双指针来传递双精度值。或者你想传递一个双数组？无论哪种方式

```
latestPoints = ([self.points doubleValue] - *requiredPoints); 
```

将为您完成工作。如果它是一个数组（一维），*requiredPoints 将为您提供数组中的第一个值

编辑：此外，如果您尝试传递单个双精度值，则无需使用指针。

```
- (double) subtractPoints:(double)requiredPoints 
```

足够。并将其称为

```
[yourObject substractPoints:your_double_value]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:27:23.497

在您的方法定义中更改`double*`为，它应该可以工作。`double``subtractPoints`

这失败的原因是因为你从一个`double`值中减去一个指针。另一种选择是`requiredPoints`在减法中取消引用您的论点。但是，我看不出您为什么要为`double`减法方法提供指针类型。

# javascript - 在 IE 中解析 A jax 加载的 HTML 内容

> ID：10345743
> 
> 赞同：1
> 
> 时间：2012-04-27T06:23:38.597
> 
> 标签：javascript, jquery, ajax, internet-explorer

我在周围看到过类似的问题，但他们似乎都没有对我的案子有帮助的答案......

基本上，我想在使用时加载一些 HTML `$.ajax()`（在不同的域上），并将其解析为自己的 DOM，这样我就可以在我的实际窗口 DOM 中应用属性和操作 HTML。

```
$.ajax({
    type: 'GET',
    url: 'http://example.com/index.html',
    dataType: 'html',
    crossDomain: true,
    cache: false,
    success: function(data) 
    {
        var src = $('body img', data).first().attr("src");
        //also tried: var src = $('body', $(data)).first().attr("src"); 
        $('#someDiv img').attr("src", src);
    }
}); 
```

示例 HTML 文件在哪里：

```
<html>
<body>
    <img src="someurl"></img>
</body>
</html> 
```

它适用于 Firefox，但不适用于 IE，无论我尝试什么，每当我尝试解析和读取时，它都会返回 null。有什么建议么？

编辑：

我的问题似乎有些模棱两可。问题在于解析，而不是 AJAX。AJAX 正确返回 html 字符串，但 jQuery 无法解析它。

编辑2：

我找到了一个“解决方案”，但它并没有我想要的那么好，它对 HTML 字符串进行切分和排序，并提取数据，而不是将其应用于 DOM。似乎运行有效，因为我可以预测数据的顺序。

归结起来，它是这样的：

```
var imgsrcs = new Array(5);
var searchItem = '<img src="';
for (var a=0; a<5; a++) {
    var startLoc = data.search(searchItem) + searchItem.length;
    for (var i=0; i<data.length; i++) {
        if (data.charAt(startLoc + i) == '"')
            break;
        imgsrcs[a] += data.charAt(startLoc + i);
    }
    data = data.substring(startLoc + i, data.length);
}
$('.image').each(function(i) {
    $(this).attr("src", imgsrcs[i]);
}); 
```

相当丑陋，但我解决了我的问题，所以我想我不妨发布它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:32:42.960

This is a Same Origin Policy problem.

The `crossDomain` flag in jquery's `ajax` function doesn't automatically make cross domain requests work in all browsers (not all browsers support CORS). Since you're requesting this from a different domain, a normal request won't actually be able to read the data (or even make the request).

Normally, for json data, you can do JSONP, which is what the `crossDomain` often flag enables. However, JSON is unique because it can be natively read in javascript. Since HTML cannot be read, you'd need to wrap it in parseable javascript to employ a trick like JSONP.

Rather than do that on your own, though, I'd highly suggest that you look into the easyXDM library in order to do cross domain messages like this. You'd essentially open up a hidden iframe on the other domain, and pass messages back and forth between the parent and the hidden frame. And, since the hidden frame is on the *same* domain as the html, it will have no problem ajaxing for it.

[http://easyxdm.net/wp/](http://easyxdm.net/wp/)

# php - 在 docx 文件中创建表

> ID：10345744
> 
> 赞同：0
> 
> 时间：2012-04-27T06:23:44.630
> 
> 标签：php, asp.net, mysql, docx, phpdoc

我很难在 docx 或 doc 文件中写彩色的表格标题或彩色的表格背景三天，但我找不到合适的解决方案。我正在使用 php 库[phpdocx](http://www.phpdocx.com)来生成 docx 文件。

谁能告诉我我在这里做错了什么？

这是我正在尝试的代码：

```
require_once '../../classes/CreateDocx.inc';

    $docx = new CreateDocx();
    //Tables
    $valuesTable = array(
    array(
            'head 1','head 2','head 3','head 4','head 5','head 6','head 7','head 8','head 9','head 10'
        ),
        array(
            11,12,13,14,15,16,17,18,19,20
        ),
        array(
            21,22,23,24,25,26,27,28,29,30
        ),
    );

    $paramsTable = array(
        'border' => 'single',
        'border_sz' => 20,
        'TBLSTYLEval' => 'MediumGrid3-accent5PHPDOCX'
    );

    //$paramsTable = array('TBLSTYLEval' => 'MediumGrid3-accent5PHPDOCX');

    $docx->addTable($valuesTable, $paramsTable);
    ##########################

    $docx->createDocx('example_image'); 
```

它生成简单的表格，没有任何格式，如边框、颜色等。

非常感谢。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-09T11:47:23.597

使用 .Net 我的朋友 :) - Open XML SDK 非常强大。

# php - 使用 Zend google calendar Api 时出现 HTTP 错误 500（内部服务器错误）

> ID：10345754
> 
> 赞同：0
> 
> 时间：2012-04-27T06:24:57.523
> 
> 标签：php, zend-framework, google-calendar-api

我想在使用**Zend Google Calendar API**时将我的应用程序与 Google 日历同步，当我提供 Gmail 用户名和密码时，API 会提供令牌并使用 URL 刷新页面：

> [http://dev.example.com/prac/googlecalendar?token=1%2FLH52gw1KqpZKBXDdTqTIJMTIBO_DIhfMH3_VKhPMfKY](http://dev.example.com/prac/googlecalendar?token=1%2FLH52gw1KqpZKBXDdTqTIJMTIBO_DIhfMH3_VKhPMfKY)

当它在给出令牌后再次回到我的功能时......所以它来到了这个功能：

```
$client = getAuthSubHttpClient(); 
```

并且永远不会带着对象回来`$client`并遇到此错误：

> 网站遇到错误，可能因维护而关闭或配置不正确。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:33:40.937

最好检查 PHP 代码中的致命错误：

将下面的行放在代码顶部，检查它是否显示任何致命错误

```
ini_set('error_reporting', E_ALL);
ini_set('display_errors', 1); 
```

希望这有帮助

〜K

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T08:53:25.633

我认为您可能没有包含所有的针刺脚本或类。

请确保所有内容都包含在内，并且所有需要的扩展都安装在您的 PHP 主机上。

# css - 哪个更快？输入[type="submit"] 或 [type="submit"]

> ID：10345761
> 
> 赞同：1
> 
> 时间：2012-04-27T06:25:29.177
> 
> 标签：css, performance, css-selectors

以下哪个 CSS 选择器更快？

```
input[type="submit"] {
    /* styles */
} 
```

或者

```
[type="submit"] {
    /* styles */
} 
```

只是好奇！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:33:50.600

I would say that the latter is faster, simply because it's less information to parse; however, I would think that with each instance, given the speed of servers and clients, you are talking a matter of nano-seconds at best. I think there are a larger number of issues to be concerned about when it comes to processing speeds like redundant code, use of white space and the like.

# android - 通过网站访问 Android

> ID：10345762
> 
> 赞同：0
> 
> 时间：2012-04-27T06:25:32.403
> 
> 标签：android, mobile, android-2.2-froyo

Google play 中有很多软件可用于在手机丢失/被盗时定位您的手机。电话中运行着一个守护进程，您可以通过互联网通过网站联系该守护进程。

有两种方法可以做到这一点。守护程序可以定期将 IP 等详细信息发送到服务器，服务器可以使用这些详细信息联系电话。但是这种方法的开销更高。

相反，应该有另一种方法来做到这一点。在 Google play（早期市场）中，用户可以使用 Web 界面选择应用程序和设备，并且相关软件会自动下载到使用相同 Google 帐户正确配置的手机中。如何使用自定义应用程序模仿这种行为。

作为一个例子，我正在尝试开发一个可以与谷歌帐户关联的android应用程序，然后我应该能够通过一个网站连接到手机给定谷歌凭据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:30:29.703

您通常不希望您的应用程序成为守护程序，因为它们会消耗电池。而是使用 C2DM 实现这一点。当应用程序首次启动时，它会在网站上注册；之后，当所有者想要找到他/她/它的手机时，他们登录到该网站，单击“查找我的手机”按钮，将向手机发送“为什么是你”通知，该手机会向手机发送 HTTP POST带有 GPS 位置的网站。该网站将其显示或通过电子邮件发送给所有者，然后所有者与团队一起滚动。

# apache - 无法在 Ubuntu 中设置 flow3 的权限

> ID：10345767
> 
> 赞同：0
> 
> 时间：2012-04-27T06:25:59.030
> 
> 标签：apache, ubuntu, webserver, typo3-flow

我是flow3的新手。实际上，我已经下载了 flow3 包并将其放在本地 Ubuntu 机器的服务器目录中。但它要求我提供对 flow3 目录的权限。语法是

```
$ sudo ./flow3 flow3:core:setfilepermissions johndoe wwwuser wwwgroup 
```

这`johndoe`是用户名，`wwuser`是网络服务器的用户名，`wwwgroup`是网络服务器的组。

不幸的是，我不知道如何知道我的网络服务器用户名和网络服务器组。

请参阅[此链接](http://flow3.typo3.org/documentation/quickstart.html)以查看更多信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T07:26:22.497

谢谢你对我的问题进行评论。在网上苦苦搜索并询问我的朋友后，我可以使用命令：

```
$ sudo ./flow3 flow3:core:setfilepermissions vannkorn www-data www-data 
```

然后它需要我加入网络服务器的组。所以我使用了这个命令：

```
$ sudo usermod -a -G www-data vannkorn 
```

之后，我需要在我的 flow3 目录上提供权限 777：

```
$ sudo chmod 777 -R /home/vannkorn/dev/flow3/ 
```

之后，最重要的是在我的虚拟主机中添加文档根目录。

```
<VirtualHost *:80>
    DocumentRoot /home/vannkorn/dev/flow3/web/
    ServerName flow3_learning

    <Directory />
      Options FollowSymLinks
      AllowOverride All
      Order allow,deny
      allow from all
    </Directory>
</VirtualHost> 
```

无论如何，谢谢你看这篇文章，我希望这对其他人有帮助。

# android - android - 如何设置文本的部分是可点击的

> ID：10345768
> 
> 赞同：1
> 
> 时间：2012-04-27T06:25:59.840
> 
> 标签：android, textview

我有一个`TextView`。在这个视图中，我想让它作为文本的某些部分是可点击的。如果您单击该文本，那么我想打开`WebView`.

我做了以下方式：

```
textView.setText(Html.fromHtml("I have read and agree to the " +
                     "<a href='id.web.freelancer.example.TCActivity://Kode'>TERMS AND CONDITIONS</a>"));
textView.setClickable(true);
textView.setMovementMethod(LinkMovementMethod.getInstance()); 
```

在这里，如果您单击`TERMS AND CONDITIONS`然后它会在浏览器中打开，但我想在`WebView`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T07:37:10.920

另一种方式，从 Linkify 中借用一点，但允许您自定义您的处理方式。

自定义跨度类：

```
public class ClickSpan extends ClickableSpan {

    private OnClickListener mListener;

    public ClickSpan(OnClickListener listener) {
        mListener = listener;
    }

    @Override
    public void onClick(View widget) {
       if (mListener != null) mListener.onClick();
    }

    public interface OnClickListener {
        void onClick();
    }
} 
```

辅助功能：

```
public static void clickify(TextView view, final String clickableText, 
    final ClickSpan.OnClickListener listener) {

    CharSequence text = view.getText();
    String string = text.toString();
    ClickSpan span = new ClickSpan(listener);

    int start = string.indexOf(clickableText);
    int end = start + clickableText.length();
    if (start == -1) return;

    if (text instanceof Spannable) {
        ((Spannable)text).setSpan(span, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
    } else {
        SpannableString s = SpannableString.valueOf(text);
        s.setSpan(span, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
        view.setText(s);
    }

    MovementMethod m = view.getMovementMethod();
    if ((m == null) || !(m instanceof LinkMovementMethod)) {
        view.setMovementMethod(LinkMovementMethod.getInstance());
    }
} 
```

用法：

```
clickify(textView, clickText,new ClickSpan.OnClickListener()
     {
        @Override
        public void onClick() {
            // do something
        }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T07:19:19.357

试试这个可能有效

```
 SpannableString span = new SpannableString(
        "Click here to for gmail page.");

    span.setSpan(new URLSpan("http://www.gmail.com"), 6, 10,
               Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);

    TextView tv = (TextView) findViewById(R.id.text);
    tv.setText(span);
    tv.setMovementMethod(LinkMovementMethod.getInstance()); 
```

根据您的文本大小更改开始和结束位置

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:34:29.967

[如何使 TextView 中的链接可点击？](https://stackoverflow.com/questions/2734270/how-do-i-make-links-in-a-textview-clickable)

或者您可以创建具有水平方向的线性布局，具有 2 个文本视图，使第二个文本视图可点击..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T06:39:26.590

为什么不对 onClick 方法进行 textView 调用：

```
<TextView
    ...
    android:onClick"openWebView"
    ...
/> 
```

然后在你的活动中有一个方法叫做：

```
public void openWebView (View v) {
    ....
    // Do something
} 
```

# sql - PL/SQL 更新语句返回多行

> ID：10345772
> 
> 赞同：0
> 
> 时间：2012-04-27T06:26:31.860
> 
> 标签：sql, sql-update

我正在尝试从表 test 更新名称列，并从 test2 表中的列 name2 更新，其中两个表中的另外两列必须匹配。

它给了我错误“单行查询返回多行”。

如何返回多行？我是否使用 for 循环？如果是这样，怎么做？

```
Update Test  
SET name = (Select name2
            from test2
            where name2.col2 = name.col)
WHERE EXISTS
  ( SELECT name2
    FROM test2
   WHERE name2.col2 = name.col); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T09:34:13.090

您的问题是您正在使用标量子查询来获取将名称设置为**的**值，但实际上您的标量子查询会找到**许多**值：

```
Select name2 from test2 where name2.col2 = name.col;

name2
-----
FRED
JOHN
MARY 
```

这可能意味着您的查询是错误的。鉴于上面的示例，您希望将 test2.name 更新为什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-29T18:53:18.550

您在这里要做的是加入表 test 和 test2。

SELECT 语句如下所示：

```
SELECT name, name2
FROM test INNER JOIN test2
      ON test.col = test2.col 
```

（我假设你在上面的查询中有一个错字，你写的是name2.col = name.col）。运行此 select 语句以确保要替换“name”的值在“name2”列中。

UPDATE 语句如下所示：

```
UPDATE test
SET name = test2.name2
FROM test2
WHERE test2.col = test.col 
```

此 UPDATE 语句中的 WHERE 语句充当两个表的 JOIN。

# oracle - SQL 表中有超过 50 列

> ID：10345776
> 
> 赞同：3
> 
> 时间：2012-04-27T06:26:45.293
> 
> 标签：oracle, database-design

我以这样一种方式设计了我的数据库，即我的一个表包含 52 列。所有属性都与主键属性紧密关联，因此没有进一步规范化的范围。

如果出现同样的情况并且您不想在一个表中保留这么多列，请告诉我，其他选择是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:53:22.110

有 50 列并不奇怪。ERP 系统在某些表中通常有 100 多个列。

您可以研究的一件事是确保大多数列都有有效的默认值（null、today 等）。这将简化插入。

还要确保您的代码始终指定列（即没有“选择 *”）。任何类型的未来优化都将包括具有列子集的索引。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:42:31.517

我们曾经使用过的一种方法是将表拆分为两个表。这两个表都获取原始表的主键。在第一个表中，您放置最常用的列，在第二个表中放置较少使用的列。通常第一个应该更小。您现在可以使用各种索引加快第一个表中的速度。在我们的设计中，我们甚至在内存引擎 (RAM) 上运行了第一个表，因为我们只有读取查询。如果您需要从 table1 和 table2 获取列的组合，则需要使用主键连接两个表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T13:12:51.550

五十二列的表不一定是错误的。正如其他人指出的那样，许多数据库都有这样的野兽。但是，我不会将 ERP 系统视为良好数据设计的典范：根据我的经验，它们往往恰恰相反。

无论如何，继续前进！

你这样说：

> “所有属性都与主键属性紧密相关”

这意味着您的表格是第三范式（或者可能是 BCNF）。在这种情况下，不可能进一步规范化是不正确的。也许你可以去第五范式？

第五范式是关于删除连接依赖项。您的所有列都依赖于主键，但列之间也可能存在依赖关系：例如，COL42 的多个值与 COL23 的每个值相关联。连接依赖意味着当我们添加一个新的 COL23 值时，我们最终会插入几条记录，每个 COL42 值对应一条记录。关于 5NF的[Wikipedia 文章](http://en.wikipedia.org/wiki/Fifth_normal_form)有一个很好的例子。

我承认没有多少人能达到 5NF。很可能即使您的表格有 52 列，也可能已经在 5NF 中了。但值得检查。因为如果您可以拆分一两个子表，您将改进您的数据模型并使您的主表更易于使用。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-27T11:51:54.193

另一种选择是“项目-结果对”(IRP) 设计，而不是“多列表” MCT 设计，尤其是在您不时添加更多列的情况下。

```
MCT_TABLE
---------
KEY_col(s)
Col1
Col2
Col3
...

IRP_TABLE
---------
KEY_col(s)
ITEM
VALUE

select * from IRP_TABLE;

KEY_COL ITEM VALUE
------- ---- -----
1       NAME Joe
1       AGE  44
1       WGT  202
... 
```

IRP 使用起来有点困难，但更灵活。

我已经使用 IRP 设计构建了非常大的系统，即使对于海量数据，它也可以很好地执行。事实上，它的行为就像一个按列组织的数据库，因为您只需要拉入您需要的行（即更少的 I/O），而不是当您只需要几列（即更多的 I/O）时整个宽行。

# linux - 编译内核错误：stdio.h: No such file or directory

> ID：10345778
> 
> 赞同：0
> 
> 时间：2012-04-27T06:26:54.257
> 
> 标签：linux, kernel, system-calls

我正在为 linux 2.6.39 内核进行系统调用。

我已完成文件中的所有编辑。现在，当我尝试编译内核时，它显示此错误：

错误：stdio.h：没有这样的文件或目录

如果我删除stdio.h，系统调用会工作吗？？？

我的代码是

```
#include<stdio.h>
#include <linux/linkage.h>

asmlinkage long sys_atvfcfs(int at[], int bt[], int n)
{

int i=0;
int j,t,wt[n],sum,q;

float avgwt;

 for(j=i+1;j<n;j++)
  {
   if(at[i]>at[j])

    {
t=at[i];
at[i]=at[j];
at[j]=t;
q=bt[i];
bt[i]=bt[j];
bt[j]=q;
    }
   }

wt[0]=0;
sum=0;

for(i=0;i<n-1;i++)
{

wt[i+1]=wt[i]+bt[i];
sum=sum+(wt[i+1]-at[i]);

}

avgwt=sum/n;

return avgwt;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:35:21.553

我不知道你的系统调用应该做什么，但它不会调用任何在`stdio.h`. （事实上​​，它根本不调用任何函数。）因此删除该行应该是安全的。

`stdio.h`是一个 C 库头文件。它在普通的 C 程序中可用，但内核不同。内核是自包含的；它不能依赖用户空间库，因为用户空间库依赖于内核来完成它们的工作。相反，内核有自己的内部有用函数库，如果您正在进行内核开发，您会想了解这些函数库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:36:55.470

在内核编程中不需要 stdio.h。如果您需要打印某些内容，请使用`printk`而不是`printf`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T06:38:03.333

我没有看到您的代码中使用了任何 io 函数，因此您不需要包含`stdio.h`

# java - 如何在 java 中编写余弦/ceil/floor 计算器

> ID：10345786
> 
> 赞同：1
> 
> 时间：2012-04-27T06:27:30.610
> 
> 标签：java, java-me, cldc

在 Java me 中为 CLDC 1.0 开发时，不支持 Math.cos、Math.ceil 和 Math.floor。我想自己手动编写这些函数，但我完全不知道如何做到这一点。有没有人遇到过这个问题？任何代码指南或示例？

**更新：**

从[这个网站](http://wiki.answers.com/Q/How_do_you_find_sin_cos_and_tan_values_manually)

我可以通过计算余弦

> ```
> cos(x) = 1 - x2/2! + x4/4! - x6/6! + x8/8!... 
> ```

但随之而来的当然是准确性的问题，

我在想 Math.Ceiling 应该与以下内容相同：

```
double d;
if((int)d - d > 0) return int(d) + 1;
else return (int) d; 
```

和地板应该对面...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:39:59.307

Math.functions.... 不可用 CLDC 1.0

[我认为，您必须使用像MicroFloat](http://www.dclausen.net/projects/microfloat/)这样的第三方库来使用 J2SE（加、减、乘、除、模、比较、类型转换）以及 java.lang.Math（sin、cos、exp、pow、log、 ETC。）

# java - 检索数组中的子文档作为 DBObject(s)

> ID：10345788
> 
> 赞同：11
> 
> 时间：2012-04-27T06:27:33.620
> 
> 标签：java, mongodb, mongo-java

我对 MongoDB 很陌生，我将它与 Java 驱动程序一起使用。我有这个文档结构：

```
{ "_id" : ObjectId("4f7d2ba6fd5a306d82687d48"), "room" : "Den" }
{ "_id" : ObjectId("4f7d2baafd5a306d82687d49"), "room" : "Foyer" }
{ "_id" : ObjectId("4f7d2fdcfd5a306d82687d4a"), "room" : "Master Bedroom" }
{ "_id" : ObjectId("4f7d301afd5a306d82687d4b"), "room" : "Guest Bedroom" }
{ "_id" : ObjectId("4f7d2b98fd5a306d82687d47"), "code" : "A", "lights" : [ { "name" : "Overhead", "code" : "1" } ], "room" : "Kitchen" } 
```

最后一行对说明我想要做什么特别感兴趣。每个文档都是一个房间，并且可能有一个“灯”键，对应于一个子文档数组的值。从建模的角度来看，我有一所房子，有 0-n 个房间，每个房间里都有 0-n 个灯。我想要在Java中做的是将房间的名称作为参数，并返回一个与lights数组中的子文档相对应的DBObject集合--“get me all lights for room 'kitchen'”，例如.

到目前为止，以 TDD 风格逐步进行，我已经构建了这个查询：

```
public static final String ROOM_KEY = "room";

public static final String EQUALS_KEY = "$eq";

private BasicDBObject buildRoomNameQuery(String roomName) {

    BasicDBObject myQuery = new BasicDBObject();
    myQuery.put(ROOM_KEY, new BasicDBObject(EQUALS_KEY, roomName));

    return myQuery;
} 
```

我意识到这将为我获取我传入的房间名称的整个房间文档。我有点坚持从这里开始的最佳方法是获得我想要的东西。我正在做的事情甚至可以通过一个简单的查询，还是我必须检索数组并在代码中迭代它，将元素转换为 DBObject？我也愿意为我的目的提出更好的文档结构的建议——我无论如何都不会与这种结构结婚。

从某种角度来看，我非常精通 SQL 和传统的关系数据库，如果这有助于解释类比的话。另外，如果我在扼杀 MongoDB 术语，请纠正我。提前致谢。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-04-27T07:05:08.107

因此，您可以执行以下操作：

```
DBCollection coll = db.getCollection("test");
BasicDBObject query = new BasicDBObject("room", "Kitchen"); 

// optional, limit the fields to only have the lights field
BasicDBObject fields = new BasicDBObject("lights",1).append("_id",false);
DBCursor curs = coll.find(query, fields);
while(curs.hasNext()) {
  DBObject o = curs.next();

  // shows the whole result document
  System.out.println(o.toString());
  BasicDBList lights = (BasicDBList) o.get("lights");

  // shows the lights array -- this is actually a collection of DBObjects
  System.out.println(lights.toString());

  // optional: break it into a native java array
  BasicDBObject[] lightArr = lights.toArray(new BasicDBObject[0]);
  for(BasicDBObject dbObj : lightArr) {
    // shows each item from the lights array
    System.out.println(dbObj);
  }
} 
```

另外，我建议在 Java 驱动程序中使用 QueryBuilder——它比从 DBObjects 创建查询更简洁。更好的是，查看 Morphia，它是一个使用 Java 驱动程序的对象映射器。它本机支持其中包含列表的实体模型，并将它们序列化/反序列化到 Mongo，而无需处理 DBObject 的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-30T20:55:21.560

看看 spring mongo 包。使用 POJO 文档处理 mongo 的一种非常好的方法

[http://www.springsource.org/spring-data/mongodb](http://www.springsource.org/spring-data/mongodb)

您不需要执行转换和使用字符串

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-11T06:27:30.220

您可以对字段使用迭代器

```
Iterator<DBObject> fields = curs.iterator();
          while(fields.hasNext()){
              DBObject field = (DBObject) fields.next().get("lights");
              System.out.println(field.get("name"));
            } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-30T18:55:45.193

对于较新的版本，请考虑使用`Document`. 为了避免未经检查的强制转换和 linter 警告，以及编写自己的循环，请使用库的`get(final Object key, final Class<T> clazz)`方法：

```
List<Document> comments = posts.get("comments", docClazz) 
```

`docClazz`您创建一次的东西在哪里：

```
final static Class<? extends List> docClazz = new ArrayList<Document().getClass(); 
```

# groovy - 检查列表的值是否包含在字符串中

> ID：10345795
> 
> 赞同：3
> 
> 时间：2012-04-27T06:28:05.483
> 
> 标签：groovy

我有一个列表`def vrs=["6.0","6.1","6.1.0"]`（版本），我在一个函数中得到了一个带有这个值的地图`def test=[version:6.1 HotFix11]`。

如何检查`test`'`version`值是否与列表匹配`vrs`？

我试过这个`vrs.each{ver-> println test.version.contains(ver)}`，但它给了`Exception in thread "main" java.lang.StackOverflowError`

**更新**

事实证明，我的代码有问题。我在一个小的 Groovy 脚本中尝试了测试用例，它可以工作。

这是完整的代码：

```
private Map params
private def root

private def nineBelow

XmlHandler(String xml)
{
    nineBelow=["6.0","6.1","6.1.0"]

    params=[:]
    root=new XmlParser().parseText(xml)
}
def getParams()
{
    if(root.product.version.size()>0)
    {
        params.version=root.product.version.text()
    }

    /*nineBelow.each {
        println params.version  //even this throws java.lang.StackOverflowError
        //println "$it , ${params.version}"
        //println ver.getClass()+", "+params.version.getClass()
         }*/

    println nineBelow.each{ver-> println params.version.contains(ver)}

    /*I need to check whether `params.version` matches with `nineBelow` list, so i'll check for condition here*/

    params
} 
```

另一个调用的类`getParams()`

```
static main(args) {

    String fileContents = new File('E://Projects/agent6.1.xml').text
    XmlHandler xm=new XmlHandler(fileContents)  

    def params=xm.getParams()
    println params
} 
```

**更新**

甚至`println nineBelow.each { println params.version}`给我`Exception in thread "main" java.lang.StackOverflowError`

**更多更新**

它仅在以下代码之后才起作用

```
def ver=params.version
    println nineBelow.each { println ver.contains(it) } 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T08:09:14.303

您是否有一个因某些示例 xml 失败的示例？我问是因为这（你在问题顶部说的崩溃）实际上有效：

```
def vrs=["6.0","6.1","6.1.0"]
def test=[ version:'6.1 HotFix11' ]

vrs.each { ver-> println test.version.contains( ver ) } 
```

并打印：

```
false
true
false 
```

但是我找不到您的其他代码有问题，因为我不知道`'E://Projects/agent6.1.xml'`包含什么...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T08:23:12.400

我猜你的代码如下：

```
class XmlHandler {
    private Map params
    private def root

    private def nineBelow

    XmlHandler(String xml)
    {
        nineBelow=["6.0","6.1","6.1.0"]

        params=[:]
        root=new XmlParser().parseText(xml)
    }

    def getParams()
    {
        if(root.product.version.size()>0)
        {
            params.version=root.product.version.text()
        }

        nineBelow.each {
            println params.version  //even this throws java.lang.StackOverflowError
           //println "$it , ${params.version}"
           //println ver.getClass()+", "+params.version.getClass()
        }
   }
}

def doc = """
    <root>
        <product>
            <version>1.0</version>
        <version>2.0</version>
        <version>3.0</version>
        <version>4.0</version>
        <version>5.0</version>
    </product>
</root>
"""

XmlHandler handler = new XmlHandler(doc)
handler.getParams() 
```

因此，`println params.version`你实际上是在调用`getParams().version`，从而进入一个无休止的递归调用。

在字段之前检查[Groovy@symbol](https://stackoverflow.com/questions/8319403/groovy-symbol-before-fields)。正如*tim_yates*所说，¿bug 还是功能？

# jsf - JSF Duplicate Id issue in Alfresco webclient

> ID：10345796
> 
> 赞同：0
> 
> 时间：2012-04-27T06:28:18.203
> 
> 标签：jsf, duplicates, alfresco

I am using myfaces 1.1.8 and Alfresco 3.3.5 Even after giving id for all the JSF component in browse.jsp page i am facing duplicate id exception.

"java.lang.IllegalStateException: duplicate Id for a component browse:browse-col9"

This id is not repeated anywhere still it gives duplicate exception. Exception comes randomly.

Please let me know how can i resolve this issue.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T12:31:16.140

如果您已使用将组件绑定到会话或应用程序范围的 bean`binding`并且组件所在的视图受到动态更改（当组件被动态添加/删除时），则可能会发生这种情况。

`binding`然后，您需要将其绑定到请求范围的 bean，或者为视图的动态性质寻找替代方法。

# hbase - Load data into hbase

> ID：10345798
> 
> 赞同：1
> 
> 时间：2012-04-27T06:28:40.730
> 
> 标签：hbase

How to load data which is in any format(like:json,xml,etc) into a hbase table ?Is there any specific output format which can be set in job config(java),so that any form of data can be loaded into hbase or is there any apps which can internally load any form of data into hbase?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T09:30:53.957

The data you are inserting to hbase tables should be in bytes.So, even if it is in XML or JSON, you should convert the same into bytes. The reverse logic should be applied while retrieving data from hbase tables. A Utility class containing the conversion logic will do the job.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-02T12:54:34.640

当您想将数据存储在 HBase 中时，您需要做出一些额外的选择，它不仅仅是一个文件。例如，您需要确定键是什么、您将拥有哪些列族、它们的特征（例如压缩、使用 TTL 等）以及是否将所有输入存储在单个列中，或者解析它并将片段存储在不同的列中列。

这意味着您必须在存储数据之前进行一些处理，而不仅仅是作业配置。

也就是说，当您想创建一个将写入 HBase 的作业时，您可以通过 TableMapReduceUtil 告诉它涉及哪些表/表，如下所示：

```
 Job job = new Job(conf, "My Job");
    job.setJarByClass(Mymapred.class);

    Scan scan = new Scan();
    // set the scan parameters ..

    TableMapReduceUtil.initTableMapperJob(
            INPUT_TABLE_NAME,
            scan,
            MyMapper.class,Text.class,Result.class,
            job);

    TableMapReduceUtil.initTableReducerJob(
            OUTPUT_TABLE_NAME,
            MyReducer.class,
            job); 
```

# c++ - 我应该如何正确使用 g++ 的 -finput-charset 编译器选项来编译非 UTF-8 源文件？

> ID：10345802
> 
> 赞同：7
> 
> 时间：2012-04-27T06:28:59.310
> 
> 标签：c++, gcc, character-encoding, g++

我正在尝试使用 -finput-charset 编译器选项在 g++ 中编译 UTF-16BE C++ 源文件，但我总是遇到一堆错误。更多细节如下。

## 我的环境（在 CentOS Linux 中）：

*   g++：4.1.2
*   图标v：2.5
*   Linux 语言（在终端中）：LANG="en_US.UTF-8"

## 我的示例源文件（以 UTF-16BE 编码存储）：

```
// main.cpp:

#include <iostream>

int main()
{
    std::cout << "Hello, UTF-16" << std::endl;
    return 0;
} 
```

## 我的步骤：

*   **我阅读了关于 -finput-charset 选项的 g++ 手册。** g++ 手册说：

> **-finput-charset=charset** 设置输入字符集，用于从输入文件的字符集转换为GCC使用的源字符集。如果没有指定区域设置，或者 GCC 无法从区域设置中获取此信息，**则默认为 UTF-8**。这可以被语言环境或此命令行选项覆盖。目前，如果存在冲突，命令行选项优先。charset 可以是系统的“ **iconv** ”库例程支持的任何编码。

*   **因此，我输入了如下命令：**

> g++ -finput-charset=UTF-16BE main.cpp

我得到了这些错误：

> 在 main.cpp:1 包含的文件中：
> 
> /usr/lib/gcc/i386-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iostream:1: 错误：程序中出现“\342”错误
> 
> /usr/lib/gcc/i386-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iostream:1: 错误：程序中出现杂散“\274”
> 
> ...（重复，很多，大约 4000+）...
> 
> /usr/lib/gcc/i386-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iostream:1: 错误：程序中出现杂散“\257”
> 
> main.cpp：在函数“int main()”中：
> 
> main.cpp:5：错误：“cout”不是“std”的成员
> 
> main.cpp:5：错误：“endl”不是“std”的成员</p>

*   **手册文本表明字符集可以是“iconv”例程支持的任何编码，因此我猜测编译错误可能是由我的 iconv 库引起的。然后我测试了iconv：**

> iconv --from-code=UTF-16BE --to-code=UTF-8 --output=main_utf8.cpp main.cpp

按预期生成“main_utf8.cpp”文件。然后我尝试编译它：

> g++ -finput-charset=UTF-8 main_utf8.cpp

请注意，我明确指定了输入字符集以查看我是否做错了什么，但这次生成了“a.out”而没有任何错误。当我运行它时，它可以产生正确的输出。

## 最后...

我不知道我哪里做错了。我在网上搜索试图找出这个编译器选项的一些例子，但我找不到。

请指教！谢谢！

## 进一步编辑：

多谢你们！您的回复很快！一些更新：

1.  当我说“UTF-16”时，我的意思是“UTF-16 + BOM”。事实上，我使用的是 UTF-16BE。我已经更新了上面的文字。
2.  一些答案说错误是由非 UTF-16 头文件引起的。如果是这种情况，以下是我的想法：在编写 C/C++ 项目时，我们总是会包含一些标准头文件，对吧？例如 stdio.h 或 iostream。如果 G++ 编译器只处理我们创建的源文件的编码，而不处理标准库中的源文件，那么这个 -finput-charset 选项的存在是为了什么？

## 最终编辑：

最后，我的解决方案是这样的：

1.  一开始，我把我的源文件的编码改成了GB2312，正如下面“李斯特先生”所说。用了一阵子还行，后来发现不适合我的情况，因为系统中的其他部分大部分还是用UTF-8进行通信和接口的，所以很多地方都得转换编码……不仅我的工作开销，它也可能导致我的程序的一些性能下降。
2.  后来我尝试将所有源文件转换为 UTF-8 + BOM。这样，Windows 中的 Visual Studio 可以愉快地编译它们，但 Linux 中的 GCC 会报错。然后我写了一个 shell 脚本来删除 BOM，在我想用 GCC 编译我的代码之前，我先运行这个脚本。
3.  幸运的是，我不必在 Linux 中手动构建代码，因为我的项目中使用了持续集成工具 TeamCity 来自动生成构建。我可以更改 TeamCity 中的构建步骤，以帮助我在每日构建开始之前运行此脚本。
4.  使用这种 UTF-8 + BOM + 脚本方法，我决定不在 Linux 中编辑我的源代码，因为如果我想这样做，我必须确保我的代码在提交之前可以成功构建，这意味着我必须运行在我构建代码之前删除 BOM 的脚本，这意味着 SVN 会报告每个文件都被修改（BOM 被删除），因此很容易错误地提交错误的文件。为了解决这个问题，我编写了另一个 shell 脚本来将 BOM 添加回源文件。虽然我仍然不会经常在 Linux 中编辑我的代码，但是当我真的需要时，我不必面对提交对话框中非常长的更改列表。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T06:39:48.290

## 编码蓝调

源代码文件不能使用 UTF-16；因为您包含的标头`<iostream>`, 不是 UTF-16 编码的。正如`#include`逐字记录文件一样，这意味着您突然有了一个 UTF-16 编码的文件，其中包含大量无效数据（显然约为 4k）。

几乎没有充分的理由在任何事情上使用 UTF-16，所以这也是一样的。

**编辑：**关于编码支持的问题：操作系统本身不负责提供编码支持，这归结为使用的编译器。

Windows 上的 g++ 完全支持与 Linux 上的 g++ 相同的所有编码，因为它是同一个程序，除非您在 Windows 上使用的任何版本的 g++ 都依赖于严重损坏的 iconv 库。

检查您的工具链并确保您的所有工具都处于正常工作状态。

作为备选; 不要在源文件中使用中文，而是用英文编写它们，使用英文文字或简单`TOKEN_STYLE_PLACEHOLDER`的 s，在运行的可执行文件中使用`l10n`and`i18n`替换它们。

**Threedit：** `-finput-charset`几乎可以肯定是代码页和其他类似废话时代的遗留物；然而; ISO-8859-n 文件几乎总是与 UTF-8 标准标头兼容，但是，请参阅下面的重新编辑。

**重新编辑：**下次；记住一个简单的口头禅：“N'DUUH！”；“永远不要使用 UTF-8！”

* * *

## I18N

此类问题的常见解决方案是完全消除问题，例如，通过[gettext](http://www.gnu.org/software/gettext/manual/gettext.html)。

使用 gettext 时，您通常会得到一个`loc(char *)`抽象出大部分翻译工具特定代码的函数。所以，而不是

```
#include <iostream>

int main () {
  std::cout << "瓜田李下" << std::endl;
} 
```

你将会拥有

```
#include <iostream>

#include "translation.h"

int main () {
  std::cout << loc("DEEPER_MEANING") << std::endl;
} 
```

并且，在`zh.po`：

```
msgid DEEPER_MEANING
msgstr "瓜田李下" 
```

当然，你也可以有一个`en.po`：

```
msgid DEEPER_MEANING
msgstr "Still waters run deep" 
```

这可以扩展，并且 gettext 包具有用于使用变量等扩展字符串的工具，或者您可以使用`printf`，来解释不同的语法。

* * *

## 第三种选择

不必处理对文件编码、文件结尾、字节顺序标记和其他此类问题有不同要求的多个编译器；[可以使用MinGW](http://www.mingw.org/wiki/LinuxCrossMinGW)或类似工具进行交叉编译。

此选项需要一些设置，但可以很好地减少未来的开销和令人头疼的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:43:25.157

错误消息说问题出在*包含文件中，*所以我认为发生的情况是包含文件是普通的 UTF-8，但由于编译器切换，编译器希望将它们视为 UTF-16。

所以恐怕解决方案是始终先将源转换为UTF-8；也许在makefile中。或者找到一个不包含其他编码的包含文件的解决方案......

**编辑：** 当且仅当系统源文件都不包含任何非 ASCII 字符时，GB 编码可能会起作用。然后你可以告诉编译器它们是 GB 编码的，没有问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:38:46.043

这不起作用，因为编译器还将尝试将头文件读取为 UTF-16，但事实并非如此。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-27T06:36:09.653

UTF-16*不是*字节编码。这是一种基本存储单元为 16 位大的编码。

当您想以字节序列存储 UTF-16 时，您必须在 UTF-16BE 和 UTF-16LE 之间进行选择。

# php - 允许使用重写规则 .htaccess 的 $_POST 变量

> ID：10345808
> 
> 赞同：1
> 
> 时间：2012-04-27T06:29:30.223
> 
> 标签：php, .htaccess, url-rewriting, rewrite, smarty

[我正在尝试使用带有 PHP 和 Smarty 的 MVC 以及语义 URLS](http://en.wikipedia.org/wiki/Semantic_URL)（URL 重写）来做一个页面。

所以我有一个主控制器，它读取控制器的名称及其操作。

示例：/mypage/object/edit

重写后的主控制器读取：?subtopic=object&action=edit

其中“编辑”是“对象”类的函数。

所以，我在 .tpl（Smarty 模板）中有一个表格，如下所示：

```
<form name="formulario" action="/mypage/imagen_del_dia/guardar" method="POST">
<table>
<tr>
<td><div>Autor</div></td>
<td><input type='text' id='autor' value="{$username}" readonly /></td>
</tr>
<tr>
<td><div><input type='hidden' id='id' value="{$imagen.id}"/></td>
<td><input class="button_personalizado" type='submit' value='Editar' name='Editado'></td>
</tr>
</table>
</form> 
```

当您单击提交时，.htaccess 会执行以下操作：

```
Options +FollowSymLinks
RewriteEngine On
RewriteBase /
RewriteRule    ^([0-9a-z_-]+)$ /mypage/index.php?subtopic=$1 [NC,L]
RewriteRule    ^([0-9a-z_-]+)/guardar$ /mypage/index.php?subtopic=$1&action=save [NC,L] 
```

这个想法是 $_POST 数据可以通过以下方式读取：

```
/mypage/index.php?subtopic=$1&action=save 
```

在这种情况下，主控制器打开类“imagen_del_dia”及其功能“保存”

问题是 $_POST 数据在那一点丢失了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T23:05:03.110

@Zerkms 非常感谢你，你是对的！

没错，问题出在表单上，​​因为我将该表单用于 AJAX 函数，所以输入有“id”标签，在 HTML 中必须是“name”标签。

所以我将所有“id”重命名为“name”，现在工作正常！

例子：

```
<td><div><input type='hidden' name='id' value="{$imagen.id}"/></td> 
```

另一个提示是我没有放**print_r($_POST);** 在正确的地方，因为我的页面是一个类，你需要在你的 PHP 页面的**?>**标记之前放在类的末尾。

谢谢！

# haskell - Haskell rank 2 多态性编译错误

> ID：10345809
> 
> 赞同：17
> 
> 时间：2012-04-27T06:29:51.903
> 
> 标签：haskell, polymorphism

给定以下定义：

```
import Control.Monad.ST
import Data.STRef

fourty_two = do
  x <- newSTRef (42::Int)
  readSTRef x 
```

以下在 GHC 下编译：

```
main = (print . runST) fourty_two -- (1) 
```

但这不会：

```
main = (print . runST) $ fourty_two -- (2) 
```

但是正如*bdonlan*在评论中指出的那样，这确实可以编译：

```
main = ((print . runST) $) fourty_two -- (3) 
```

但是，这不会编译

```
main = (($) (print . runST)) fourty_two -- (4) 
```

这似乎表明 (3) 仅由于对 infix 的特殊处理而编译`$`，但是，它仍然没有解释 (1) 编译的原因。

**问题：**

1）我已经阅读了以下两个问题（[第一个](https://stackoverflow.com/questions/9468963/runst-and-function-composition)，[第二个](https://stackoverflow.com/questions/8343239/type-error-with-rank-2-types-and-function-composition)），并且我被引导相信`$`只能用单态类型实例化。但我同样会假设`.`只能用单态类型实例化，结果同样会失败。为什么第一个代码成功但第二个代码没有？（例如，对于第一种情况，GHC 是否有不能在第二种情况下适用的特殊规则？）

2) 是否有编译第二个代码的当前 GHC 扩展？（也许[ImpredicativePolymorphism](http://www.haskell.org/ghc/docs/6.10.1/html/users_guide/other-type-extensions.html#impredicative-polymorphism)在某些时候做到了这一点，但它似乎已被弃用，有什么替代它的吗？）

3）有什么方法可以定义说``my_dollar``使用 GHC 扩展来做什么`$`，但也能够处理多态类型，所以`(print . runST) `my_dollar` fourty_two`编译？

**编辑：建议的答案：**

此外，以下无法编译：

```
main = ((.) print runST) fourty_two -- (5) 
```

这与 (1) 相同，除了不使用`.`.

结果，似乎 GHC 对`$`和都有特殊规则`.`，但只有它们的中缀版本。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T18:32:05.500

1.  我不确定我理解为什么第二个不起作用。我们可以查看 of 的类型`print . runST`并观察到它具有足够的多态性，因此责任不在于`(.)`. 我怀疑 GHC 对中缀的特殊规则还`($)`不够。如果您将此片段作为他们跟踪器上的错误提出，SPJ 和朋友可能会重新检查它。

    至于为什么第三个例子有效，那只是因为 的类型又`((print . runST) $)`是足够多态的；实际上，它等于 的类型`print . runST`。

2.  什么都没有替代`ImpredicativePolymorphism`，因为 GHC 人员还没有看到任何用例，其中额外的程序员便利性超过了编译器错误的额外潜力。（我认为他们也不会认为这是令人信服的，尽管我当然不是权威。）
3.  我们可以定义一个稍微少一点的多态性`($$)`：

    ```
    {-# LANGUAGE RankNTypes #-}
    infixl 0 $$
    ($$) :: ((forall s. f s a) -> b) -> ((forall s. f s a) -> b)
    f $$ x = f x 
    ```

    然后您的示例类型检查可以使用这个新运算符：

    ```
    *Main> (print . runST) $$ fourty_two
    42 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:46:40.967

在这个问题上我不能说太多权威，但这是我认为可能发生的事情：

考虑在每种情况下类型检查器必须做什么。`(print . runST)`有类型`Show b => (forall s. ST s t) -> IO ()`。`fourty_two`有类型`ST x Int`。

这里`forall`是一个存在类型限定符——这里意味着传入的参数必须是*通用*的`s`。也就是说，您必须传入一个支持任何值的多态类型`s`。如果你没有明确声明`forall`，Haskell 会将它放在类型定义的最外层。这意味着`fourty_two :: forall x. ST x Int`和`(print . runST) :: forall t. Show t => (forall s. ST s t) -> IO ()`

现在，我们可以`forall x. ST x Int`通过`forall s. ST s t`let匹配`t = Int, x = s`。所以直接调用案例有效。但是，如果我们使用 会发生什么`$`？

`$`有类型`($) :: forall a b. (a -> b) -> a -> b`。当我们解析`a`and`b`时，由于类型 for`$`没有像这样的任何显式类型作用域，因此`x`参数 of`fourty_two`被提升到 for -so 类型的最外层`($)`作用域`($) :: forall x t. (a = forall s. ST s t -> b = IO ()) -> (a = ST x t) -> IO ()`。此时，它尝试匹配`a`and `b`，但失败了。

如果您改为编写`((print . runST) $) fourty_two`，则编译器首先解析`((print . runST $)`. 它将 ($) 的类型解析为`forall t. (a = forall s. ST s t -> b = IO ()) -> a -> b`; 请注意，由于第二次出现`a`是不受约束的，所以我们没有那个讨厌的类型变量泄漏到最外层范围！所以匹配成功，函数被部分应用，表达式的整体类型是`forall t. (forall s. ST s t) -> IO ()`，正好回到我们开始的地方，所以它成功了。

# groovy - 使用队列和链表的 Groovy 示例应用程序

> ID：10345811
> 
> 赞同：3
> 
> 时间：2012-04-27T06:30:03.697
> 
> 标签：groovy, linked-list, queue

你能给我一个使用队列和链表的 Groovy 示例应用程序吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-27T06:44:45.540

一个队列的例子：

```
def q = ["elem1", "elem2"] as Queue

q.offer("inserted string")
assert q.peek() == "elem1"
assert q.poll() == "elem1"
assert q.poll() == "elem2"
assert q.poll() == "inserted string" 
```

这是一个带有链表的示例：

```
def l = [1, 2, 3] as LinkedList
assert l[0] == 1
l.add(4)
assert l.last() == 4 
```

# php - php脚本（函数）检查服务器上是否允许.htaccess

> ID：10345812
> 
> 赞同：5
> 
> 时间：2012-04-27T06:30:18.783
> 
> 标签：php, .htaccess, mod-rewrite

正如标题所说，我正在寻找一个 PHP 函数来检查您是否可以在服务器上使用 .htaccess 文件。

我应该测试什么？

选项1： ~~也许如果安装了**mod_rewrite**模块？~~

选项 2：检查“ **httpd.conf ”中是否出现“** **AllowOverride None** ” 。

 **感谢您的建议，代码也会有所帮助；）

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-10T09:44:36.427

在 .htaccess 中，只需输入如下内容：

```
SetEnv HTACCESS on 
```

然后，在您的 PHP 脚本中，在 $_SERVER 中查找它：

```
if ( !isset($_SERVER['HTACCESS']) ) {
  // No .htaccess support
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-27T06:57:08.310

使用您的 php 脚本创建一个 .htaccess 文件，将某个文件的重定向写入其中，然后调用该文件并检查它是否被重定向。应该是检查 .htaccess 是否有效的最基本方法之一。

编辑：未测试

```
<?php
$html1 = "test.html";
$html2 = "test2.html";
$htaccess = ".htaccess";
$string1 = "<html><head><title>Hello</title></head><body>Hello World</body></html>";
$string2 = "<html><head><title>Hello</title></head><body>You have been redirected</body></html>";
$string3 = "redirect 301 /test.html /test2.html";
$handle1 = fopen($html1, "w");
$handle2 = fopen($html2, "w");
$handle3 = fopen($htaccess, "w");

fwrite($handle1, $string1);
fwrite($handle2, $string2);
fwrite($handle3, $string3);

$http = curl_init($_SERVER['SERVER_NAME'] . "/test.html");
$result = curl_exec($http);
$code = curl_getinfo($http, CURLINFO_HTTP_CODE);

if($code == 301) {
    echo ".htaccess works";
} else {
    echo ".htaccess doesn't work";
}
?> 
```**

# .htaccess - 动态到静态 url 添加另一个参数

> ID：10345815
> 
> 赞同：0
> 
> 时间：2012-04-27T06:30:36.427
> 
> 标签：.htaccess

我有这个用于将动态 url 转换为静态 url 的 htaccess 代码

```
RewriteRule ^dogs/([^/.]+)$ dogs/index.php?county=$1 [L] 
```

它工作正常，当我使用[http://example.com/dogs/Avon测试它时](http://example.com/dogs/Avon)

但我想添加另一个参数，即[http://example.com/dogs/Avon/2](http://example.com/dogs/Avon/2)

我试过这个，但它不起作用。

```
RewriteRule ^dogs/([^/.]+)/([^/.]+)$ dogs/index.php?county=$1&page=$2 [L] 
```

需要一些帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:34:18.143

尝试使用：

```
RewriteRule ^dogs/([0-9a-z_-]+)/([0-9]+)$ dogs/index.php?county=$1&page=$2 [NC,L] 
```

我认为这是类型号。

# c# - FormsAuthenticationTicket isPersistent 属性的用途是什么？

> ID：10345817
> 
> 赞同：20
> 
> 时间：2012-04-27T06:30:49.157
> 
> 标签：c#, asp.net, authentication

我正试图弄清楚课堂`isPersistent`上发现的财产的目的`FormsAuthenticationTicket`。[http://msdn.microsoft.com/en-us/library/kybcs83h.aspx](http://msdn.microsoft.com/en-us/library/kybcs83h.aspx)

1.  设置 isPersistent 工作时是否有场景？
2.  在什么情况下我想设置`isPersistent`为真和假？

该属性似乎是多余的，因为我发现在浏览器会话中保留我的用户身份验证 cookie 的唯一方法是设置`Expires`票证创建后创建的 cookie 的属性；即使票证的 isPersistent 值设置为`false`.

我还发现将票证到期时间（不是 cookie）设置为 10 秒并`isPersistent`设置为 true 几乎没有效果；票证将在 10 秒后过期。

```
FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(1,
    identity.Name,
    DateTime.Now,
    DateTime.Now.AddMinutes(FormsAuthentication.Timeout.TotalMinutes),
    isPersistent,
    JsonSerializerService.ToJson(identity),
    FormsAuthentication.FormsCookiePath);

string encryptedTicket = FormsAuthentication.Encrypt(ticket);

var cookie = new HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket);

cookie.Path = FormsAuthentication.FormsCookiePath;

cookie.Expires = DateTime.Now.AddYears(1); // good for one year 
```

我很感激我可以将上面的代码更改为可选设置`expires`

```
if (isPersistent)
    cookie.Expires = DateTime.Now.AddYears(1); // good for one year 
```

已在@GitHub 创建了一个示例应用程序。[https://github.com/chrismoutray/AuthSample](https://github.com/chrismoutray/AuthSample)这基本上表明，即使将 isPersistent 标志设置为 true，跨浏览器授权也不起作用。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-27T07:57:18.083

在框架 1.0/1.1 中，将 IsPersistent 设置为 true 会将 cookie 设置为 50 年的到期时间。
在 2.0 版中，它已更改，因此 cookie 的过期时间与表单身份验证超时属性相匹配。因此，您可以将 IsPersistent 设置为 true，但 cookie 将始终在表单身份验证超时期限后过期。
如果您想要较长的有效期而不修改表单身份验证超时，您的代码就可以解决问题。

编辑：我已经下载了您的示例并将您的 cookie 代码替换为

```
 FormsAuthentication.SetAuthCookie(model.UserName, true); 
```

它按预期工作：将两天配置为表单超时，我的 cookie 将在两天后过期。

# actionscript-3 - 我可以操纵 DisplayObjects 何时在 AS3 中呈现吗？

> ID：10345820
> 
> 赞同：0
> 
> 时间：2012-04-27T06:31:01.293
> 
> 标签：actionscript-3, rendering

不使用`BitmapData.draw()`; 是否可以停止渲染显示列表，并在我认为合适时执行渲染（无论是整个显示列表还是单个显示对象）。

如果不是，那么实现此目的的最佳方法是什么（包括我`BitmapData.draw()`用来渲染尚未添加到舞台的 DisplayObjects 的选项）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-28T08:40:06.723

您可以在鼠标/键盘事件后使用 强制渲染[`e.updateAfterEvent()`](http://drkgodz.hobo-studios.org/blog/?p=132)，但不能阻止显示列表重绘到屏幕。你最好的选择是：

1.  将所有对象添加到一个`holder`Sprite 中，该 Sprite 不在舞台显示列表中。
2.  添加一个`Bitmap`和关联`BitmapData`到舞台。
3.  每次您想简单地“强制”渲染时`draw()`，它将被通常操作的完全相同的渲染器光栅化。只是您可以更好地控制光栅化设置。`holder``BitmapData`

请尝试以下操作，或查看[此](http://www.flashandmath.com/howtos/bddraw/)以获取更多信息：

```
function snapClip( clip:DisplayObject ):BitmapData
{
   var bounds:Rectangle = clip.getBounds( clip );
   var bitmap:BitmapData = new BitmapData( int( bounds.width + 0.5 ), int( bounds.height + 0.5 ), true, 0 );
   bitmap.draw( clip, new Matrix(1,0,0,1,-bounds.x,-bounds.y) );
   return bitmap;
} 
```

# python - Python大列表和数据库输入

> ID：10345821
> 
> 赞同：1
> 
> 时间：2012-04-27T06:31:03.317
> 
> 标签：python, database, sqlite

我必须解析 HTML 文件，最多可以有 500 000 个链接。其中 400 000 是我想要的。

我是否应该将所有满足条件的链接放入新列表，然后放入此列表的元素并将其放入数据库中。

或者当我找到满足条件的链接将其添加到数据库（sqlite）（并提交）时。大量提交不是问题吗？

我不想在断电等故障的情况下丢失数据。这就是为什么我要在插入数据库后提交。

如何最好地在数据库中放置大量项目？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T06:33:13.337

考虑在每 1000 条左右记录后进行一次提交

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:42:45.957

如果这些链接分布在多个文件中，那么在处理每个文件之后提交呢？然后你也可以记住你处理了哪些文件。

在单个文件的情况下，记录每次提交后的文件偏移量以保持干净的继续。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T07:42:00.467

您可以尝试使用像 mongo 这样的 noSQL 数据库。使用 mongo，我添加了 500.000 个文档，每个文档添加了 6 个字段，每个添加了大约 15 秒（在我的旧笔记本电脑上），并且在不困难的查询中添加了大约 0.023 秒。

# c# - C#程序知道windows Os安装在哪个驱动器上？

> ID：10345825
> 
> 赞同：1
> 
> 时间：2012-04-27T06:31:19.220
> 
> 标签：c#, windows

我希望在 C# 中编写一个程序来确定操作系统安装在哪个目录中。？

我的意思是在某些系统中它位于“C”驱动器中，而在某些系统中它位于“D”驱动器中。我想知道 C# 编程语言中是否有任何方法可以知道操作系统安装在哪个硬盘驱动器中。

问候， 赛辛杜

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T06:34:00.420

尝试

```
System.Environment.GetEnvironmentVariable("WINDIR") 
```

更新：您也可以使用`SpecialFolder.Windows`，但正如您[在此处](http://msdn.microsoft.com/en-us/library/bb762494.aspx)看到的，它还返回与 %windir% 或 %SYSTEMROOT% 环境变量对应的值。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-27T06:35:30.823

```
 Path.GetPathRoot(Environment.SystemDirectory) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-27T06:35:11.167

或者试试这个

```
Path.GetPathRoot(Environment.SystemDirectory) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-27T06:36:18.563

使用

```
string windir = Path.GetPathRoot(System.Environment.GetEnvironmentVariable("WINDIR")); 
```

将返回 C:\ 其中 windows 在 C 驱动器中

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-27T06:35:12.743

`Environment.SystemDirectory`( [msdn](http://msdn.microsoft.com/en-us/library/z8te35sa.aspx) )

# iphone - Is it possible to play AVQueuePlayer in reverse order?

> ID：10345829
> 
> 赞同：3
> 
> 时间：2012-04-27T06:31:30.637
> 
> 标签：iphone, objective-c, ios, avqueueplayer

I am using AVQueuePlayer and it is working fine. My problem now is that I have a back button. If I press the button, previous video needs to be played. Is there any way for that?

Thanks.

# java - how to disable Windows shortcuts using java?

> ID：10345830
> 
> 赞同：1
> 
> 时间：2012-04-27T06:31:43.580
> 
> 标签：java, windows, jsf

Am developing an online examination system using the jsf framework. My requirement is that the candidate should not be able to use the windows shortcuts like alt+f4, alt+tab, window key and come out of the system. Once he starts the test he should finish. Is there any way to disable these shortcuts? Like running a batch or. Something?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T12:40:04.927

那是不可能的。

您应该寻找替代方法。当用户开始测试时在数据库中注册。当用户完成测试时在数据库中注册。在每次测试开始时，检查 DB 中的注册。如果有一个条目表明测试已经开始，但没有一个条目表明特定的测试已经完成，则进行相应的处理。显示一条错误消息，告诉用户他/她以前做错了，他/她应该联系管理员等。

# javascript - How to slide a two images at same time on button click in HTML

> ID：10345831
> 
> 赞同：-2
> 
> 时间：2012-04-27T06:31:47.190
> 
> 标签：javascript, html

I want to slide only just two images on button click like when button is clicked then assume

two images should slide at a same time

Like i have two div of images

```
 <div class="imageone"><img src="one.png"/></div>
  <div class="imagetwo"><img src="two.png"/></div> 
```

they should scroll at a same time

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:35:34.407

```
$("input[type=button]").click(function(){
 $(".imageone, .imagetwo").slideUp();
}); 
```

或者您可以使用 animate() 移动图像

# c++ - 匹配的 SIFT 关键点的坐标

> ID：10345832
> 
> 赞同：1
> 
> 时间：2012-04-27T06:31:49.343
> 
> 标签：c++, c, opencv, sift

我正在使用 openCV 做一个项目，其中我将两个图像与 SIFT 关键点匹配，并使用 K 最近邻搜索从相同的图像中获得了良好的匹配。其中k=2。

现在我想获取在image2中匹配良好的SIFT关键点的坐标值，以及Image2中相应关键点的坐标值。任何机构都可以帮助我解决这个问题。谢谢。

我找到了解决方案......这很容易......我很傻......我只是将关键点转换为 CvPoints，从中我可以轻松获得坐标值......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-30T02:42:09.663

全部..我已经解决了问题...首先我将匹配良好的关键点转换为 Cvpoints，然后从 Cvpoints 中获取坐标..相同的代码如下 -

```
 for( i =0; i <good_matches.size(); i++ )
  {
    // the keypoints from the good matches only
    points1.push_back( keypoints1[ good_matches[i].queryIdx ].pt );
    points2.push_back( keypoints2[ good_matches[i].trainIdx ].pt );

    printf("xco-ordinate of good mathched keypoints in image1   %d\n\n",points1[i].x);
    printf("y co-ordinate for image 1    %d \n\n",points1[i].y);
    printf("x co-ordinate for image2    %d \n\n",points2[i].x);
    printf("y co-ordinate for image2    %d\n\n",points2[i].y);

  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T08:10:42.087

您可以使用 CvKNearest::find_nearest(...) 获取相邻向量。我相信您正在寻找参数邻居。

参考：

[http://docs.opencv.org/modules/ml/doc/k_nearest_neighbors.html?highlight=cvknearest#cvknearest-find-nearest](http://docs.opencv.org/modules/ml/doc/k_nearest_neighbors.html?highlight=cvknearest#cvknearest-find-nearest)

较旧的文档，但带有代码示例：

[http://opencv.willowgarage.com/documentation/cpp/k_nearest_neighbors.html](http://opencv.willowgarage.com/documentation/cpp/k_nearest_neighbors.html)

# url-rewriting - Nginx：如何仅在所有位置块都失败时重写？

> ID：10345835
> 
> 赞同：1
> 
> 时间：2012-04-27T06:31:55.510
> 
> 标签：url-rewriting, nginx, rewrite

我有一个网站，除了需要通过 http 服务的几个位置外，几乎整个网站都需要使用 https 连接。为此，我在 nginx 配置中设置了两台服务器。一种用于非安全连接，一种用于安全连接。但是对于非安全服务器，我希望只有在没有验证任何位置块时才能重写到安全网络服务器。

那可能吗？如果是，如何？

我的 nginx 配置的结构：

```
server {
   listen 80;
   ...
   location /foo1 { ... }
   location /foo2 { ... }
   # i can't get this rewrite to work only when all location blocks fail
   rewrite ^/(.*) https://foo.com/$1 permanent;
}
server {
   listen 443;
   ...
} 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T08:03:23.753

添加到`server`块的末尾：

```
location / {
    rewrite ^/(.*) https://foo.com/$1 permanent;
} 
```

# javascript - 为什么 jQuery 背景动画不起作用？

> ID：10345842
> 
> 赞同：1
> 
> 时间：2012-04-27T06:32:36.533
> 
> 标签：javascript, jquery

我是一名初学者网页设计师，虽然我会尝试使用 JavaScript 和 jQuery。在浏览了[W3Schools](http://www.w3schools.com/jquery/)之后，我尝试制作一个简单的 jQuery 动画，但它似乎不起作用。

```
<html>
    <head>
        <script type="text/javascript" src="jQuery.js"></script>
        <script>
            $(document).ready(function(){
                $("#name").blur(funtion(){
                    if(value==null || value==""){
                        $("#name").animate({background:#D23E42}, "slow");
                    }
                });
            });
        </script>
        <style type="text/css">
        body
        {
            font-family: Arial;
        }

        #name
        {
            background:#6BAA64;
            color: #FFFFFF;
            border:2px none;
            padding:5px;
            -webkit-border-radius:8px 8px;
            -moz-border-radius:8px 8px;
            border-radius:8px 8px;
            text-align: center;
        }
        </style>
    </head>

    <body style="text-align: center;">
        Name:
        <br />
        <input id="name" type="text" value="Your Name" />
    </body>
</html> 
```

我只是想设置一个简单的联系人/注册表单模型，所以当名称字段为空或未更改时，会变成红色（模糊）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T06:35:46.217

您在该代码中有**很多错误：**

```
$("#name").blur(function() {
    if (!this.value) {
        $(this).css('background-color', '#D23E42');
    }
});​ 
```

**错误：**

*   `funtion`=>`function`
*   `value`=> `this.value`。
*   输入的值永远不能是`null`，它只能是一个空字符串。
*   `animate`=> `css`，原因是如果没有插件，您将无法为背景颜色更改设置动画。
*   颜色需要是一个字符串`#D23E42`=>`'#D23E42'`
*   `background`=> `background-color`。
*   `$("#name")`=>`$(this)`

停止在 w3school 学习可能是个好主意，因为它似乎没有回报......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:36:13.947

抱歉，您不能为背景设置动画，除非您使用[jColor](https://github.com/jquery/jquery-color)

从[文档](http://api.jquery.com/animate/)：

> 所有动画属性都应动画为单个数值，除非以下说明；大多数非数字属性无法使用基本的 jQuery 功能进行动画处理（例如，宽度、高度或左侧可以进行动画处理**，但背景颜色不能**进行动画处理，除非使用了 jQuery.Color() 插件）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T06:36:34.737

`jQuery.animate`不能为背景颜色设置动画，但只能`width, height, left, top`为等属性设置动画。要为背景颜色设置动画，您必须使用[https://github.com/jquery/jquery-color之类的插件](https://github.com/jquery/jquery-color)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-27T06:37:08.680

你有两个错误：

1.  颜色值是一个字符串，因此您需要在“#D23E42”周围加上引号。否则，您可能会看到语法错误。
2.  无论如何，JQuery 实际上并没有为颜色设置动画。有一个插件声称可以添加此功能，尽管我还没有尝试过：

[http://www.bitstorm.org/jquery/color-animation/](http://www.bitstorm.org/jquery/color-animation/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-27T06:39:58.373

## *[jsBin 演示](http://jsbin.com/ixofuv/3/edit)*

```
$("#name").focusout(function(){                  
  var value = $.trim($(this).val());                 
  if(value === ''){    
    $(this).animate({backgroundColor:'#D23E42'}, 500);
  }   
}); 
```

*   在这个演示中，我使用了 jQuery UI 库来实现背景淡化颜色。
*   使用[.focusout()](http://api.jquery.com/focusout/)
*   使用[$.trim()](http://api.jquery.com/jQuery.trim/)防止空格被接受为有效输入
*   始终用于`===`比较值

**EDIT** Hede 是一个没有 UI 的演示
如果用户重新输入一些文本，你肯定需要重做颜色：

```
$("#name").focusout(function(){                
  var value = $.trim($(this).val());                 
  if(value === ''){    
    $(this).css({background:'#D23E42'});
  }else{
    $(this).css({background:'#6BAA64'});
  }
}); 
```

## *[没有 UI 库的演示](http://jsbin.com/ixofuv/4/edit)*

# php - 如何删除 JavaScript 文件中字符串的特定部分

> ID：10345846
> 
> 赞同：1
> 
> 时间：2012-04-27T06:33:10.517
> 
> 标签：php, arrays, parsing

使用 PHP，我希望能够打开一个 JavaScript 文件并取出特定行的一部分。使用下面的示例，我想从文件中删除“8:20am|8:20am”，保持其他所有内容不变。

我的 JavaScript 文件如下所示：

```
var daylist = document.checkout.checkoutDay
var timelist = document.checkout.times
var times = new Array()
times[1]=["8:00am|8:00am", "8:20am|8:20am", "8:40am|8:40am", "9:00am|9:00am"] 
```

数组中可能有多行，每行都有不同的时间，所以我不知道在哪里可以找到字符串。我在考虑可能使用 str_replace() 和 fopen() 打开文件，但是在不知道该行将是什么样子提前的情况下，我不知道要替换什么字符串。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:40:14.453

试试这个：

```
<?php
$file = file_get_contents( 'MY_FILE.JS' );

$search = array( '"8:20am|8:20am"' );
$replace = array( '' );

$file = str_ireplace( $search, $replace, $file );
$file = preg_replace( '/(,\s*,)/', ',', $file ); // remove 2 consecutice commas.

file_put_contents( 'MY_FILE.JS', $file );
?> 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:43:02.737

用 PHP 操作 JavaScript 文件意味着 JavaScript 不再是静态文件，不能再被浏览器缓存，所以每次都要重新下载。

最好将该`times`数组完全从 JavaScript 文件中取出，并让您的 PHP 代码在页面标题中生成一个附加`<script>`标记，该标记仅定义该变量。这样，时间可以动态生成，而 JavaScript 代码的其余部分保持静态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:44:15.120

尝试 fopen() 方法并获取 php 变量中的所有文件内容，然后您可以使用 str_replace() 查找和替换特定字符串并写入相同的 js 文件

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T07:30:34.093

如果您只想*替换此特定行上的出现*，您可能希望`preg_replace()`用于此：

```
<?php
$filename = 'yourfile.js';
$content = file_get_contents( $filename );

$search = '"8:20am|8:20am"';
$pattern = '/^(\s*times\[1\]\s*=\s*\[.*)(' . 
           preg_quote($search) .
           ',?\s*)(.*\]\s*;?)$/m';

$content = preg_replace( $pattern, '\1\3', $content ); 

file_put_contents( $filename, $content );
?> 
```

结果：

```
var daylist = document.checkout.checkoutDay
var timelist = document.checkout.times
var times = new Array()
times[1]=["8:00am|8:00am", "8:40am|8:40am", "9:00am|9:00am"] 
```

正则表达式的构建相当复杂，以允许在匹配中具有一定的灵活性。如果值在列表的中间，它允许任意空格（这对 JS 也有效）并删除逗号。请注意，当没有逗号时，表达式也会产生有效结果。（当你想从列表中删除最后一个元素时）

# vb.net - get ID from dataTable with Dataset

> ID：10345849
> 
> 赞同：1
> 
> 时间：2012-04-27T06:33:34.430
> 
> 标签：vb.net, oracle, dataset

i'm using visual studio(VB) and i had a problem,

i am using Microsoft.Office.Interop.Excel to read the data from excel,

```
--Students_Table--
id_S | Name | Sex
12      john   M

---Excel file------
name | address
john   NY 
```

-----the table where uploaded excel file saved--

```
id_u | id-S | Scor |
1      12        30 
```

i want to get the Id_S from "John"(excel file), i tried using the dataset with query

```
select Id_P from Students_Table where (Name =: Name) 
```

and then check `fillBy` & `GetBy`

my vb code :

```
Dim ta As New Students_TableAdapters.StudentsTableAdapter
Dim DataID as Integer
if ta.fillBy(ExlRead.Value) <> 0 then
DataId = ta.fillBy(ExlRead.Value)
else 
exception("The Name Cannot Found on Database")
end if 
```

i use breakpoint to check those and i found an error message

> "ORA-01722: invalid number"

(i'm using oracle database)

if i pointed my cursor to the `ta.fillBy` it shows `Public Overridalle Overload Function FillBy(Name as string) as decimal`?

note : I'am a newbie using Oracle Database

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T14:24:12.057

代替

```
ta.fillBy(ExlRead.Value) 
```

经过

```
CInt(ta.fillBy(CInt(ExlRead.Value))) 
```

# asp.net - 这个正则表达式是什么意思：(?![#$])

> ID：10345851
> 
> 赞同：3
> 
> 时间：2012-04-27T06:33:39.470
> 
> 标签：asp.net, .net, regex

有人可以给我一个例子/解释这个正则表达式的作用：

`(?![#$])`

这是`<%(?![#$])(([^%]*)%)*?>`ASP.NET 用来解析服务器端代码块的一部分。我理解表达的第二部分，但不理解第一部分。

我检查了文档，发现`(?! ...)`意味着零宽度负前瞻，但我不完全确定我理解这意味着什么。到目前为止，我尝试的任何输入`<% ... %>`似乎都有效 - 我想知道为什么第一个子表达式甚至在那里。

**编辑：** 我想出了这个表达式来获取 ASP.NET 表达式：`<%.+?%>`然后我找到了微软制作的那个（上面有问题的完整表达式）。我试图理解为什么他们选择那个特定的表达方式，而我的表达方式似乎更简单。（我想看看我的表达式是否忽略了 MS 没有的某些边界条件。）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T06:35:23.463

这是一个[否定的先行断言](http://www.regular-expressions.info/lookaround.html)，如果下一个字符不是`#`or则匹配`$`，但不消耗它。

它与否定字符类非常相似，`[^#$]`只是否定字符类也消耗字符，防止它与表达式的其余部分匹配。

要查看差异，请考虑匹配`<%test%>`。

*   表达式`<%(?![#$])(([^%]*)%)*?>`捕获`test%`. [（红字）](http://www.rubular.com/r/JjDiEJpS4n)
*   表达式`<%[^#$](([^%]*)%)*?>`捕获`est%`，因为`t`被否定字符类消耗。[（红字）](http://www.rubular.com/r/ZXnqeAvf6I)

# html - HTML 5 地理位置浏览器提示

> ID：10345855
> 
> 赞同：0
> 
> 时间：2012-04-27T06:33:52.990
> 
> 标签：html, geolocation

我有一个非常简单的 HTML 5 应用程序，它试图确定用户的当前位置。

根据规范，支持的浏览器应该显示如下提示：“{XYZ} 想知道您当前的位置”。

它有什么作用？如果我打开一个浏览器窗口并直接打开该页面，这工作正常。

什么不行？但是，当我通过链接被定向到该页面时，我看不到提示和空白页面。我必须刷新页面才能看到浏览器提示。我在 iPhone 4 上使用了 FireFox 11 和 Chrome。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:55:31.447

您对此没有任何控制权，因为它是由浏览器实现的。

附带说明一下，Geolocation API 不是 HTML5 的一部分，它是 W3C 规范。

# java - 在浏览器中显示pdf文件？

> ID：10345861
> 
> 赞同：2
> 
> 时间：2012-04-27T06:34:22.293
> 
> 标签：java, jsp, servlets

> **可能重复：**
> [如何使用 servlet 在 jsp 中显示 pdf 文件](https://stackoverflow.com/questions/4614935/how-to-display-a-pdf-file-in-jsp-using-servlet)

我从我的数据库中检索一个 pdf 文件并将其放入这样的文件中

```
String str="select * from files where name='Security.pdf';";
Statement stmt2= conn.createStatement  
                   (ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);
rs = stmt2.executeQuery(str);
while(rs.next())
{
 InputStream input = rs.getBinaryStream("content");
 //to create file
   File f=new File("c:/pdfile.pdf");
   OutputStream out=new FileOutputStream(f);
   byte buf[]=new byte[1024];
   int len;
   while((len=input.read(buf))>0)
   out.write(buf,0,len);
   out.close();
   input.close();
    System.out.println("\nFile is created..");
} 
```

现在这是在服务器端。在我的客户端，每当用户在我的 jsp 页面中单击链接说 **href=pdf（pdf 是我的 servlet 名称）**时，我应该在客户端的浏览器上显示从数据库中检索到的文件。
**我该怎么办？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:40:14.190

将响应的内容类型设置为 pdf

```
response.setContentType("application/pdf"); 
```

然后将pdf内容写入响应对象

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:40:33.780

不要将 PDF 保存到服务器上的文件中，只需将其作为 servlet 的响应发送回浏览器即可。基本上，代替 that `FileOutputStream`，使用`OutputStream`从调用对象中获得`getOutputStream()`的。`ServletResponse`您还需要设置 Content-Type 标头，以便浏览器知道它是 PDF 文件。

让 servlet 写入这样的硬编码路径是危险的，因为 servlet 的多个实例可以在不同的线程中同时运行。（想想如果两个人同时在他们的浏览器中输入你的 servlet 的 URL 会发生什么。）如果他们都同时写入同一个文件，他们最终会破坏它。

# java - 对arraylist进行排序和分类

> ID：10345870
> 
> 赞同：0
> 
> 时间：2012-04-27T06:34:51.150
> 
> 标签：java

我想根据下面的“代码”字段对 Arraylist 进行排序，并且我想在当前的 arraylist 中添加一条附加记录，其值按相同代码的总价计算。

```
No      Desc    Width      Height       Code        Price

1        WW     88.0        88.0      1021021       340.0       
4        TT     55.0        55.0      1021021       340.0       
5        PP     66.0        66.0      1021021       340.0   
2        gg     66.0        66.0      1021022       320.0       
3        LL     658.0       652.0     1021022       320.0 
```

我的预期输出将是这样的

```
1        WW     88.0        88.0      1021021       340.0       
4        TT     55.0        55.0      1021021       340.0       
5        PP     66.0        66.0      1021021       340.0
                                                    1020
2        gg     66.0        66.0      1021022       320.0       
3        LL     658.0       652.0     1021022       320.0
                                                    640 
```

任何人都可以提出解决这个问题的最佳方法吗？提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T06:37:40.017

如果您要使用 java，您可以编写自己[`Comparator`](http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html)的`ArrayList`并将比较器传递给[`Collections.sort()`方法](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29)。

来自 Javadoc：

> 一个比较函数，它对某些对象集合进行总排序。比较器可以传递给排序方法（例如`Collections.sort`或`Arrays.sort`）以允许精确控制排序顺序。比较器还可用于控制某些数据结构（例如排序集或排序图）的顺序，或为不具有自然排序的对象集合提供排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:56:10.680

我给你举个`Comparator`例子。

```
import java.util.Comparator;

public class CodeComparator implements Comparator<Item> {

    @Override
    public int compare(Item arg0, Item arg1) {
        return arg0.getCode().compareTo(arg1.getCode());
    }

} 
```

然后使用以下命令对数组进行排序：

```
Collections.sort(itemList, new CodeComparator()); 
```

# html - 点击突出显示不再与 phonegap html5 应用程序中的 html 元素重叠

> ID：10345878
> 
> 赞同：1
> 
> 时间：2012-04-27T06:35:18.943
> 
> 标签：html, cordova, outline

我有一个在安卓上运行的 phonegap html5 应用程序。在进行了一些更改之后，我做了标记单击元素的“突出显示”，现在它应该不会显示。（我指的是由 控制的高光`-webkit-tap-highlight-color`）。

我希望了解这是否是我的一些错误行为，或者我是否遇到了一些 webkit 错误。什么会导致这样的事情？

我很抱歉没有提供代码，因为实际代码是非常复杂的脚本生成的 HTML 和 css。如果我可以使用简单的代码重新创建它，我就已经完成了解决方案的一半。

谢谢

# jquery - 是否有使用 jQueryUI 等 JavaScript 框架构建 Web UI 的编辑器？

> ID：10345886
> 
> 赞同：1
> 
> 时间：2012-04-27T06:35:37.243
> 
> 标签：jquery, jquery-ui, javascript, javascript-framework, sencha-architect

是否有可以使用 jQuery (jQueryUI) 等 JavaScript 框架构建基于 Web 的 UI 的编辑器？理想的编辑器应该允许我做页面布局和模板。然后我应该能够组织我的内容和表单并应用必要的 CSS，当然这应该是跨浏览器。

我检查了使用 ExtJS 框架的 Sencha Architect [http://www.sencha.com/products/architect/](http://www.sencha.com/products/architect/)，但它远远低于我的期望，当然它只支持 ExtJs。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-30T16:24:22.210

Maquetta 它基于 dojotoolkit.org 但您需要一个 ibm 用户才能登录它

# jsf - 使用 JSF h:outputScript 时找不到 TinyMCE .js 文件

> ID：10345887
> 
> 赞同：1
> 
> 时间：2012-04-27T06:35:40.173
> 
> 标签：jsf, tinymce

我有一个 JSF 2.0 Web 应用程序，我想在其中包含 TinyMCE 3.5。

我包含它的方式如下：

```
<composite:implementation>
    <h:outputScript name="tiny_mce/tiny_mce.js"/>
    <h:outputScript name="js/tinymce_init.js"/>
    <h:inputTextarea rows="5" cols="80" styleClass="tinymce" value="#{cc.attrs.value}"/>
</composite:implementation> 
```

现在一切正常。我唯一的问题是“tiny_mce.js”对 tiny_mce 文件夹中的其他 js 文件有一些引用。这些引用返回 404 错误，因为它们没有 .xhtml 结尾。

示例：tiny_mce.js 引用 en.js。它试图从“ [http://localhost:8080/briefe/javax.faces.resource/js/tiny_mce/langs/en.js](http://localhost:8080/briefe/javax.faces.resource/js/tiny_mce/langs/en.js) ”加载它。如果我在浏览器中输入这个 URL，我会得到一个 404。如果我最后添加 .xhtml (" [http://localhost:8080/briefe/javax.faces.resource/js/tiny_mce/langs/en.js.xhtml](http://localhost:8080/briefe/javax.faces.resource/js/tiny_mce/langs/en.js.xhtml) ") 一切正常。

所以我想问你，是否有一种方法可以将 xhtml 添加为 .js 文件的默认结尾，或者是否有一种方法可以使 .js 文件可访问。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T14:02:00.693

这`<h:outputScript>`将生成一个 JSF 资源 URL，由其处理，`ResourceHandler`从而允许模块化和版本控制，而无需更改`<h:outputScript name>`. 当`FacesServlet`映射到 时`*.xhtml`，资源 URL 将如下所示

> /contextname/javax.faces.resource/filename.js.xhtml

TinyMCE 脚本显然是根据脚本自己的 URL 自动包含一些其他脚本，而不考虑`.xhtml`后缀。

> /contextname/javax.faces.resource/otherfile.js

这确实会导致 404。当您对`FacesServlet`like使用前缀映射时`/faces/*`，就不会出现此问题。

一种解决方案是`<script>`自己用所需的 URL 硬编码。正确的替代品将是

```
<script type="text/javascript" src="#{request.contextPath}/resources/tiny_mce/tiny_mce.js"/>
<script type="text/javascript" src="#{request.contextPath}/resources/js/tinymce_init.js"/> 
```

唯一的缺点是，当您在单个视图中使用多个复合组件时，您最终会`<script>`在正文中获得多个条目，而不是像`<h:outputScript>`. 这可能会导致 JavaScript 冲突/错误。如果您遇到此问题，我会考虑相应地破解/修复 TinyMCE JavaScript 文件，将`.xhtml`后缀添加到 URL，以便您可以继续使用`<h:outputScript>`. 或者，您当然可以使用现有的、即用型 JSF 富文本编辑器组件，例如[PrimeFaces`<p:textEditor>`](https://www.primefaces.org/showcase/ui/input/textEditor.xhtml)，这样您就不必担心这一切。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:54:36.757

你也可以测试这个而不是`<h:outputScript...>`

这：

```
<composite:implementation>
    <script language="text/javascript" src="tiny_mce/tiny_mce.js" />
    <script language="text/javascript" src="js/tinymce_init.js" />
    <h:inputTextarea rows="5" cols="80" styleClass="tinymce" value="#{cc.attrs.value}"/>
</composite:implementation> 
```

或类似的东西：

```
<script language="text/javascript" src="tiny_mce/tiny_mce.js" />
<script language="text/javascript" src="js/tinymce_init.js" />

<composite:implementation>
    <h:inputTextarea rows="5" cols="80" styleClass="tinymce" value="#{cc.attrs.value}"/>
</composite:implementation> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-12T10:33:28.770

我刚刚遇到了这个问题，最简单的解决方案是添加丢失的文件，方法与为 tiny_mce.js 添加的方式相同

```
 <!-- TinyMCE -->
        <h:outputScript library="libs" name="js/tinymce/4.1.10/tinymce.min.js"></h:outputScript>
        <!-- TinyMCE theme -->
        <h:outputScript library="libs" name="js/tinymce/4.1.10/themes/modern/theme.min.js"></h:outputScript>
        <!-- TinyMCE plugins -->
        <h:outputScript library="libs" name="js/tinymce/4.1.10/plugins/advlist/plugin.min.js"></h:outputScript>
        <h:outputScript library="libs" name="js/tinymce/4.1.10/plugins/autolink/plugin.min.js"></h:outputScript>
        <h:outputScript library="libs" name="js/tinymce/4.1.10/plugins/lists/plugin.min.js"></h:outputScript>
        <h:outputScript library="libs" name="js/tinymce/4.1.10/plugins/charmap/plugin.min.js"></h:outputScript> 
```

# jquery - jquery ajax 在确认按钮中调用

> ID：10345890
> 
> 赞同：0
> 
> 时间：2012-04-27T06:35:46.823
> 
> 标签：jquery

嗨，我在 if(confirm.... 条件下编写了 ajax 调用，但它不会进入我的 ajax 页面。如果我在 if(confirm(...) 之外编写 $.get ，那么它工作正常。

问题是什么。请告诉我一些。

```
function ConfirmSave() {    
    if (confirm("Do You Want to Save the test?")) 
    {          
        $.get('../Common/Ajax.aspx',{action:"UpdateExamDuration",UserExamMapID:UserExamMap});        
    }                
    document.location.href = "../Reports/Report-Card.aspx";       
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:42:33.550

忽略尾括号`}`（可能只是把它留在那里，对吗？）它对我有用，因为 ajax 请求被触发了。我看到这个是因为我在 FireBug 中启用了持久模式（这意味着在我被最后一行重定向后，该请求仍然可见）。您要做的是将回调放入`document.location.href`内部`$.get`，这意味着它只会在完成后运行：

```
if (confirm("Do You Want to Save the test?")) 
    {          
        $.get('../Common/Ajax.aspx', {action:"UpdateExamDuration",UserExamMapID:UserExamMap}, function(data){document.location.href = "../Reports/Report-Card.aspx";});        
    }                
} 
```

# c++ - 什么时候应该限制派生类中虚函数的可访问性？

> ID：10345892
> 
> 赞同：5
> 
> 时间：2012-04-27T06:35:56.147
> 
> 标签：c++, virtual-functions, access-specifier, code-design

考虑以下代码：

```
class Base
{
public:
    virtual void Foo() {}
};

class Derived : public Base
{
private:
    void Foo() {}
};

void func()
{
    Base* a = new Derived;
    a->Foo(); //fine, calls Derived::Foo()

    Derived* b = new Derived;
//  b->Foo(); //error
    static_cast<Base*>(b)->Foo(); //fine, calls Derived::Foo()
} 
```

关于这个问题，我听到了两种不同的思想流派：

1) 让可访问性与基类相同，因为用户无论如何都可以使用 static_cast 来获得访问权限。

2) 使函数尽可能私有。如果用户需要 a->Foo() 而不是 b->Foo()，那么 Derived::Foo 应该是私有的。如果需要，它总是可以公开的。

有理由选择其中一个吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T06:43:58.207

限制对子类型中成员的访问会破坏[Liskov 替换原则](http://en.wikipedia.org/wiki/Liskov_substitution_principle)（[SOLID](http://en.wikipedia.org/wiki/Solid_%28object-oriented_design%29)中的 L ）。我一般会建议反对它。

**更新**：它可能“工作”，因为代码编译并运行并产生预期的输出，但如果您隐藏一个成员，您的*意图*可能是使子类型不如原始子类型通用。这是违反原则的。相反，如果您的意图是通过只保留 API 用户感兴趣的内容来清理子类型接​​口，请继续执行此操作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-27T08:24:27.323

不是您最初问题的答案，但如果我们谈论的是类设计......

正如 Alexandrescu 和 Sutter 在他们的第 39 条规则中建议的那样^，您应该更喜欢使用公共的非虚拟函数和私有/受保护的虚拟函数：

```
class Base {
public:
    void Foo(); // fixed API function

private:
    virtual void FooImpl(); // implementation details
};

class Derived {
private:
    virtual void FooImpl(); // special implementation
}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T06:42:57.797

这取决于您的设计，是否要使用`virtual`派生类对象访问该函数。
如果不是，那么是的，最好**制作它们`private`或`protected`**.

没有基于访问说明符的代码执行差异，但代码变得更干净。
一旦你限制了类`virtual`函数的访问；读者`class`可以确定 this 不会被派生类的任何对象或指针调用。

# asp.net - Css 在 iis 7.5 上托管后不应用管道模式 = 集成

> ID：10345899
> 
> 赞同：0
> 
> 时间：2012-04-27T06:36:25.567
> 
> 标签：asp.net, css, iis-7

我有一个在 Visual Studio 2010 上开发的 ASP.Net Web 应用程序，它在本地机器上运行良好。当我将它托管到具有管道模式=集成的 IIS 7.5 时，css 未应用于网页。我已经通过控制面板 -> 程序和功能 -> 打开和关闭 Windows 功能 -> iis -> www -> 通用 Http 功能并启用了静态内容，但仍然没有应用 css。请帮助我解决此问题，并提前感谢您的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T07:08:01.713

我已将用户 Everyone 添加到 css 文件夹并授予他权限，然后它现在对我来说工作正常。

# visual-studio-2010 - VS2010构建Opencv2.1应用

> ID：10345900
> 
> 赞同：1
> 
> 时间：2012-04-27T06:36:32.653
> 
> 标签：visual-studio-2010, opencv

我有一个 openCv 应用程序，当使用多线程调试 Dll 选项进行代码生成属性时，它可以正常构建和运行。但是，我想在任何计算机上运行该应用程序，但是在多线程调试模式下构建失败，给出 LNK 2005 错误，一些示例是

> 1>msvcprtd.lib(MSVCP100D.dll) : 错误 LNK2005: "public: __thiscall std::_Lockit::~_Lockit(void)" (??1_Lockit@std@@QAE@XZ) 已经在 libcpmtd.lib(xlock) 中定义.obj)
> 
> 1>msvcprtd.lib(MSVCP100D.dll) : 错误 LNK2005: "public: __thiscall std::_Lockit::_Lockit(int)" (??0_Lockit@std@@QAE@H@Z) 已经在 libcpmtd.lib( xlock.obj)
> 
> 1>msvcprtd.lib(MSVCP100D.dll) : 错误 LNK2005: "void __cdecl std::_Debug_message(wchar_t const *,wchar_t const *,unsigned int)" (?_Debug_message@std@@YAXPB_W0I@Z) 已在 libcpmtd 中定义。库（stdthrow.obj）
> 
> 1>msvcprtd.lib(MSVCP100D.dll) : 错误 LNK2005: "public: __thiscall std::_Container_base12::~_Container_base12(void)" (??1_Container_base12@std@@QAE@XZ) 已在 opencv2.obj 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: "public: __thiscall std::exception::exception(class std::exception const &)" (??0exception@std@@QAE@ABV01@@Z)已在 LIBCMTD.lib(stdexcpt.obj) 中定义
> 
> 1>msvcprtd.lib(MSVCP100D.dll) : 错误 LNK2005: "public: void __thiscall std::_Container_base12::_Orphan_all(void)" (?_Orphan_all@_Container_base12@std@@QAEXXZ) 已在 opencv2.obj 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: __invalid_parameter 已在 LIBCMTD.lib(invarg.obj) 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: __CrtDbgReportW 已在 LIBCMTD.lib(dbgrptw.obj) 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: "public: __thiscall std::exception::exception(char const * const &)" (??0exception@std@@QAE@ABQBD@Z) 已经定义在LIBCMTD.lib(stdexcpt.obj)
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: "public: virtual __thiscall std::exception::~exception(void)" (??1exception@std@@UAE@XZ) 已经在 LIBCMTD.lib( stdexcpt.obj)
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: _fclose 已在 LIBCMTD.lib(fclose.obj) 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: _fprintf 已在 LIBCMTD.lib(fprintf.obj) 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: _fopen 已在 LIBCMTD.lib(fopen.obj) 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: _memmove 已在 LIBCMTD.lib(memmove.obj) 中定义
> 
> 1>MSVCRTD.lib(MSVCR100D.dll) : 错误 LNK2005: _free 已在 LIBCMTD.lib(dbgfree.obj) 中定义

任何建议，将不胜感激。我真的卡在这里了，小程序没有问题

谢谢

PS我也使用来自cvBlobslib的函数和来自LIBSVM的代码，但这不应该是问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T10:49:05.270

如果您更改为使用`/MT`and `/MTd`，那么您的所有依赖库也需要使用这些设置进行编译。

如果不是这种情况，那么这些依赖项需要链接到动态 CRT，并且您的项目正在尝试链接到静态 CRT，从而导致您看到“已定义”错误。

# c# - 我无法接收自己的 Mcast 数据包 C# UdpClient

> ID：10345901
> 
> 赞同：1
> 
> 时间：2012-04-27T06:36:34.503
> 
> 标签：c#, udp, multicast

我无法接收我自己通过多播发送的数据包。我创建了两个 Udpclient 接收器用于接收多播组上的数据包，发送器用于发送数据包。我的数据包已发送到该组，但我无法收到我发送的数据包....

```
public void Join()
    {           
            IPAddress ip1 = IPAddress.Any;
            localep = new IPEndPoint(ip1, port);

            Receiver = new UdpClient();
            Receiver.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
            Receiver.Client.Bind(localep);

            Sender = new UdpClient();
            Sender.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
            Sender.Client.Bind(localep);

            IPAddress ip = IPAddress.Parse(IP);
            remoteep = new IPEndPoint(ip, port);

            Sender.JoinMulticastGroup(ip);
            Sender.EnableBroadcast = true;
            Sender.MulticastLoopback = true;

            Receiver.JoinMulticastGroup(ip);
            Receiver.EnableBroadcast = true;
            Receiver.MulticastLoopback = true;

            udpState.ipEndpt = RemoteIpEndPoint;
            udpState.udpClient = Receiver;

            Receiver.BeginReceive(new AsyncCallback(GetMsg), udpState);             

    }   

void GetMsg(IAsyncResult ar)
{

UdpClient udpClient = (UdpClient)((UdpState)(ar.AsyncState)).udpClient;
            IPEndPoint ipEndpt = (IPEndPoint)((UdpState)(ar.AsyncState)).ipEndpt;
            RecByte = Receiver.EndReceive(ar, ref ipEndpt);
}
//Sending packets logic

McastOTS.Sender.Send(sendBytes, sendBytes.Length, McastOTS.remoteep); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T20:43:34.583

在我看来，您需要做的就是在 EndReceive 之后再次调用 BeginReceive。否则，您只会收到 1 条消息，而不会看到任何其他消息...

```
void GetMsg(IAsyncResult ar)
{
   UdpClient udpClient = (UdpClient)((UdpState)(ar.AsyncState)).udpClient;
   IPEndPoint ipEndpt = (IPEndPoint)((UdpState)(ar.AsyncState)).ipEndpt;
   RecByte = Receiver.EndReceive(ar, ref ipEndpt);
   Receiver.BeginReceive(GetMsg, udpState);
} 
```

# c - 删除mailq消息的C代码

> ID：10345903
> 
> 赞同：0
> 
> 时间：2012-04-27T06:36:37.067
> 
> 标签：c, linux, shell

目前我正在使用 shell 脚本来删除 mailq 消息。我需要 sum 帮助将该 shell 脚本转换为 C 代码。任何示例或帮助表示赞赏。我只是想要一些基本的方向来做到这一点。

这是我正在使用的当前代码：

```
#!/usr/bin/ksh
 WORKFILE="/tmp/check.mq"
 MAILLIST="emailadress"

mailq|grep -B1 -i temporarily |grep -iv deferred |egrep -i  'jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec' |awk -F" " '{print $1}' |awk '{print   substr($0,10,14)}' |tee -a $WORKFILE |awk '{print "*" $1}' |tee -a mail.mq
mailq|grep -B1 -i unknown|egrep -i 'jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec' |awk -F" " '{print $1}' |awk '{print substr($0,10,14)}' |tee -a $WORKFILE |awk '{print "*" $1}' |tee -a mail.mq
mailq|grep -B1 -i lookup |grep -iv deferred |egrep -i 'jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec' |awk -F" " '{print $1}' |awk '{print substr($0,10,14)}' |tee -a $WORKFILE |awk '{print "*" $1}' |tee -a mail.mq

 cat mail.mq | while read file; do rm -rf /var/spool/mqueue/$file;done
 rm -rf mail.mq 
```

基本上我使用消息ID的最后5个数字的子字符串并将其发送到我的mailid，而不是删除这些ID。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T08:13:17.597

您可以使用“系统”功能来运行 shell 命令，包括管道。它将使用默认的系统 shell，它在您的系统上可能是也可能不是 ksh，但也许这无关紧要。如果它确实重要，您总是可以在命令字符串的开头明确地说“ksh -c”。

```
system("mailq|grep -B1 -i temporarily |grep -iv deferred |egrep -i  'jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec' |awk -F" " '{print $1}' |awk '{print   substr($0,10,14)}' |tee -a $WORKFILE |awk '{print "*" $1}' |tee -a mail.mq") 
```

您将需要弄清楚如何在其中编织 $WORKFILE - 这应该是微不足道的，首先使用 snprintf() 构造命令字符串。您可以使用 getenv() 来查找值。

# emacs - 为什么我在本地使用 Google Drive API 时收到“经过身份验证的用户没有安装带有客户端 ID 的应用程序”错误？

> ID：10345904
> 
> 赞同：12
> 
> 时间：2012-04-27T06:36:42.907
> 
> 标签：emacs, elisp, google-drive-api

我正在为 Emacs 开发 Google Drive 界面。这个概念是 Emacs 可以提供一种与平台无关的方式来加载、修改和保存存储在 Google Drive 中的文本文档。我已经注册了我的应用程序并且可以使用 OAuth2 进行身份验证并使用 Docs List API 获取文件列表，但是当我尝试使用 Google Drive API 执行插入时，我看到一个错误：

“经过身份验证的用户尚未安装具有客户端 ID 的应用程序......”

进一步阅读，我似乎需要在 Chrome Web Store 中发布我的 Emacs 应用程序才能访问 Drive API。这对我来说没有意义......我注意到有一个 FUSE 项目正在为 Google Drive 开发，这表明本地开发是可能的。然而，当我浏览代码时，我没有看到 Chrome Web Store 组件可以让它工作。

我是在试图滥用 API，还是有办法让这项工作更有意义？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-27T14:38:42.053

**编辑：**

根据 Google Drive 团队的 Ali Afshar 的说法，使用此 API 不再需要安装。因此，以下内容可能不再相关，但将留作历史用途。

* * *

所以，首先，从我们都在做的意义上说，API 不支持应用程序开发，不过我不会使用本机这个词。好消息是我一直在做一些研究，而 Google Drive 实际上只是 Google Docs 的品牌重塑。因此，出于相同目的，Google Docs API 也是一个不错的选择。

无论如何，这是解决错误的步骤：“经过身份验证的用户尚未安装具有客户端 ID 的应用程序......”为了这个答案，这是一个 403 错误。**这些步骤假设您已根据需要在 chrome 网上商店中设置了一个应用程序，并安装了它。**我也在我的本地机器上工作，我的项目： http: [//github.com/tom-dignan/gdrive-cli](http://github.com/tom-dignan/gdrive-cli)我已经克服了这个错误，所以我认为你应该继续使用你的 emacs 版本，因为我认为我们可以完成这项工作。

一个。打开[Google API 控制台](https://code.google.com/apis/console)。

湾。确认您已经在“API 访问”下启用了 API，应该启用 API 和 SDK for Google drive。在那里，您可以获得您的客户端机密/api 密钥等。我几乎肯定你已经这样做了，所以继续 C.（这是为可能错过它的其他人准备的）

C。在左侧导航栏中的“Drive SDK”下，您需要执行以下操作：

1.  添加“支持 URL”（必需）

2.  添加至少一个 16x16 的小应用程序图标（必需）

3.  **在 Drive Integration 下添加“OAuth Client ID（必需）”**（我只是在修补，这似乎是关键字段。）

4.  添加“打开 URL（必需）URL 以从 google drive UI 为您的应用打开。”

5.  勾选“多文件支持”

6.  添加一些 MIME 类型和文件扩展名，例如“text/plain”和 txt

7.  添加身份验证范围：

    [https://www.googleapis.com/auth/userinfo.email](https://www.googleapis.com/auth/userinfo.email)

    [https://www.googleapis.com/auth/userinfo.profile](https://www.googleapis.com/auth/userinfo.profile)

不要费心尝试在此处添加 Google Docs 的 auth 范围，因为它不起作用。Google 不希望我们以这种方式使用它，因为驱动应用程序创建的文件应该是该应用程序私有的。与 Google Docs 的集成必须分开。

现在我知道您一定在想“为什么我必须添加其中一些……”这是因为表单使它们成为必填字段。在我的网站中，我放置了几个指向静态 HTML 页面的 URL。

完成上述操作后，清理您的状态并重新安装您的 chrome 应用程序。然后再次尝试您的代码，它应该停止给您 403。

# python - sqlalchemy+sqlite 用点剥离列名？

> ID：10345910
> 
> 赞同：1
> 
> 时间：2012-04-27T06:37:31.373
> 
> 标签：python, sql, sqlalchemy

我正在使用 SQLAlchemy 0.7.6。我将列别名为：

```
column = table.c["name"].label("foo.bar") 
```

并且 SQLite 仅使用 'bar' 作为结果字段别名。有什么解决方法吗？

示例代码：

```
create_table("sqlite:////tmp/test.sqlite", schema)

engine = create_engine(url)
metadata = MetaData(engine, reflect=True)
table = Table("test_table", metadata, schema=schema, autoload=True)

column = table.c["name"].label("foo.bar")
cursor = sql.expression.select([column])
row = cursor.execute().fetchone()

print "keys are: %s" % (row.keys(), ) 
```

将打印：

```
keys are: [u'bar'] 
```

代替：

```
keys are: [u'foo.bar'] 
```

适用于 postgres。

这是完整的测试代码：[https ://gist.github.com/2506388](https://gist.github.com/2506388)

我已经向 sqlalchemy 列表报告了这一点，但是同时我想知道是否有其他人遇到类似的问题并且可能有解决方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-29T18:15:58.073

将在 SQLAlchemy 中使用引擎选项进行修补。有关详细信息，请参阅[邮件列表线程](https://groups.google.com/forum/?hl=en&fromgroups#!topic/sqlalchemy/EqAuTFlMNZk)。

同时，解决方法是：

```
# select is sqlalchemy.sql.expression.select() 
# each selected column was derived as column = table.c[reference].label(label_with_dot)

labels = [c.name for c in select.columns]
...
record = dict(zip(labels, row)) 
```

补丁后的解决方案是：

```
conn = engine.connect().execution_options(sqlite_raw_colnames=True)
result = conn.execute(stmt) 
```

# erlang - 带有 YAWS 网络服务器的 UI 层

> ID：10345912
> 
> 赞同：3
> 
> 时间：2012-04-27T06:37:55.813
> 
> 标签：erlang, yaws

使用 erlang YAWS 网络服务器构建网站。要生成动态内容，我们必须在“.yaws”页面的标签中嵌入 erlang 代码，我觉得这不是最佳选择。我知道 Nitrogen 项目，但我不喜欢专有解决方案。

任何人都可以推荐更好的 UI 解决方案和使用 YAWS 作为网络服务器的示例吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T11:26:36.780

如果您不想，也不必使用标签。您还可以使用 appmod，在这种情况下，对目录的所有请求都将被路由到命名模块的 out/1 函数。

如果您想做更复杂的标记，您可以使用 yaws 中的 EHTML 或使用 ErlyDTL，它在 Erlang 中为您提供 python 样式的 Django 模板。

如果您想了解更多关于如何在 Erlang 中执行 Web 应用程序的信息，请查看我的书[Building Web Applications with Erlang](http://shop.oreilly.com/product/0636920021452.do) now in Early release，但现在应该很快就会发布最终版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-28T15:32:26.287

您可以在[Yaws](http://yaws.hyber.org/)中使用[appmod](http://yaws.hyber.org/appmods.yaws)。

appmod 模块中的`out`函数具有与 yaws 页面中相同的语义。然后，您可以使用本机 Yaws[服务端包含](http://yaws.hyber.org/ssi.yaws)系统来保持您的 html 代码与您的 erlang 代码分开，如果您愿意的话。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T09:57:16.120

您可以查看[ErlyDTL ，这是](https://github.com/evanmiller/erlydtl)[Django 模板语言](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs)的 Erlang 实现。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T09:10:29.707

[sgte](https://github.com/filippo/sgte)怎么样？

> sgte 是一个用于生成结构化输出（代码、html 网页、xml、电子邮件、csv 文件等）的 Erlang 模板引擎。
> 
> 它的灵感来自 StringTemplate 模板语言。并试图强制执行模型和视图之间的严格分离。模板语言尽量保持简单。

我知道这是非常基本的，但模板通常不必使用太多逻辑。不过，我自己没有使用它，但总有一天应该试一试。)

# javascript - 在 Phonegap JQuery 移动设备上更改方向

> ID：10345916
> 
> 赞同：3
> 
> 时间：2012-04-27T06:38:19.370
> 
> 标签：javascript, jquery-mobile, cordova

嗨，我使用 jqm 和 phonegap 编写了简单的应用程序，但我在改变方向时遇到了一些问题。我需要在一页上改变方向。我可以更改值“支持的界面方向”，但它适用于所有页面，可能存在改变一页上的方向的方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T06:14:57.753

你可以使用这个插件。

[https://github.com/champierre/pg-plugin-screen-orientation](https://github.com/champierre/pg-plugin-screen-orientation)

要将屏幕锁定为横向：

```
navigator.screenOrientation.set('landscape'); 
```

要将屏幕锁定为纵向：

```
navigator.screenOrientation.set('portrait'); 
```

开锁：

```
navigator.screenOrientation.set('fullSensor'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-27T18:11:09.390

这是一个更新的插件，非常适合我：[https ://github.com/apache/cordova-plugin-screen-orientation](https://github.com/apache/cordova-plugin-screen-orientation)

要使用它（对于 cordova 版本 > 4），请执行以下命令：

```
cordova plugin add cordova-plugin-screen-orientation 
```

或者对于phonegap：

```
phonegap plugin add cordova-plugin-screen-orientation 
```

然后像这样使用它：

```
screen.lockOrientation('portrait')
screen.lockOrientation('landscape') 
```

适用于 Android 和 iOS。

# java - 如何在 Jetty 中使用 Java Servlet 中的 JavaDB 数据库？

> ID：10345924
> 
> 赞同：1
> 
> 时间：2012-04-27T06:39:00.977
> 
> 标签：java, servlets, jdbc, derby, javadb

我在 Eclipse 中创建了一个*动态网页*项目并编写了一个 Servlet。我已将*derby.jar*添加为库。当我要部署项目时，我将它导出为*.war*文件，然后使用 .war 启动 Jetty `java -jar start.jar`。servlet 无需数据库代码即可正常工作。但是当我尝试使用 JavaDB 数据库时，找不到 JDBC 驱动程序。如何在 Jetty 中使用我的 Servlet 中的 JavaDB 数据库？

我尝试使用内存数据库进行测试，我的代码如下所示：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) 
                         throws ServletException, IOException {

    String sql =    "DECLARE GLOBAL TEMPORARY TABLE SESSION.mytable "+
                    "(id int, message varchar(10)) NOT LOGGED";

    String connURL = "jdbc:derby:memory:memdatabase;create=true";

    try {
        Connection conn = DriverManager.getConnection(connURL);
        PreparedStatement ps = conn.prepareStatement(sql);
        boolean success = ps.execute();
        System.out.println("created: " + success);
    } catch (SQLException e) {
        e.printStackTrace();
    }
} 
```

这是抛出的异常：

```
java.sql.SQLException: No suitable driver found for jdbc:derby:memory:memdatabas
e;create=true
        at java.sql.DriverManager.getConnection(Unknown Source)
        at java.sql.DriverManager.getConnection(Unknown Source)
        at com.example.MyJavaServlet.doPost(MyJavaServlet.java:59)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:598
)
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java
:486)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.j
ava:119)
        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.jav
a:499)
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandl
er.java:233)
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandl
er.java:1065)
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:
413)
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandle
r.java:192)
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandle
r.java:999)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.j
ava:117)
        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(Cont
extHandlerCollection.java:250)
        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerColl
ection.java:149)
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper
.java:111)
        at org.eclipse.jetty.server.Server.handle(Server.java:350)
        at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(Abstrac
tHttpConnection.java:454)
        at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpC
onnection.java:900)
        at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.conten
t(AbstractHttpConnection.java:954)
        at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:851)
        at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)

        at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnecti
on.java:77)
        at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEn
dPoint.java:606)
        at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEnd
Point.java:46)
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPoo
l.java:603)
        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool
.java:538)
        at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:41:57.653

在获得连接之前您没有加载驱动程序类：

```
Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
Connection conn = ... 
```

顺便说一句，您可能还想重构加载驱动程序类和使用连接到应用程序中单个点的过程。

# javascript - 如何使用 javascript 使用数组的内容创建变量名

> ID：10345926
> 
> 赞同：0
> 
> 时间：2012-04-27T06:39:18.573
> 
> 标签：javascript, jquery

我创建了一个数组，

```
var myBuildingName=['A1','A2','A3','A4']; 
```

其中 A1,A2,A3 和 A4 是通过用户输入获得的名称。我现在想创建名称为 A1、A2、A3 和 A4 的数组。

我试过使用

```
for(var i=0;i<myBuildingName.length;i++)
{
   var myBuildingName[i]=[];
} 
```

但它不起作用......

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:43:09.103

您创建一个主父对象并将数组值用作对象的键，您可以在其中为每个对象存储一个数组。

```
var myBuildingName=['A1','A2','A3','A4'];

var master = {};

for (var i = 0; i < myBuildingName.length; i++) {
   master[myBuildingName[i]] = [];
} 
```

然后，您可以访问以下数据：

```
var a1Array = master['A1']; 
```

或者

```
var firstA1Item = master['A1'][0]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T08:03:35.107

你收到了很多很棒的答案，如果其中一个满足你的需要，你应该接受那个答案。这仍然是开放的这一事实使我们认为没有人像您希望的那样完全回答您的问题。

如果是这种情况，我只能假设您想在全局范围内使用这些变量。

```
var myBuildingName=['A1','A2','A3','A4'];

for (var i = 0; i < myBuildingName.length; i++) {
   window[myBuildingName[i]] = [];
} 
```

现在您可以“正常”访问您的变量。

```
A1.push('test'); 
```

**注意：**这是一种可怕的做法，因为你永远不应该污染全局空间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:46:01.670

如果你真的想用这些名字创建变量（我不推荐），你就必须使用`eval()`它们。所以：

```
for(var i=0;i<myBuildingName.length;i++)
{
   eval("var " + myBuildingName[i] + " = [] "); // This creates Array variables called A1, A2 etc.
} 
```

同样，不推荐使用上述方法。您应该将名称作为键分配给对象文字，例如：

```
var myStuff = {};
for(var i=0;i<myBuildingName.length;i++)
{
   var myStuff[myBuildingName[i]] = [];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T06:46:59.923

您无法访问局部变量对象（全局代码除外），因此除了通过变量声明之外，您无法添加属性。对于全局上下文中的全局代码，您可以执行以下操作：

```
var global  = this;
for ( ...) {
  global[myBuildingName[i]] = []
} 
```

但是对于函数上下文中的函数代码，您不能这样做。请参阅 jfriend00 的回答。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-27T06:47:31.673

[这是一个演示](http://jsfiddle.net/Tmmhk/)

```
var myBuildingName = ['A1', 'A2', 'A3', 'A4'];

function arrayFromNames(arr) {
    var store = {};                         //storage for the arrays
    for (var i = 0; i < arr.length; i++) {  //for each in the passed names
        store[arr[i]] = [];                 //add to the storage an array with the corresponding name
    }
    return store;                           //return the storage
}

var nameArrays = arrayFromNames(myBuildingName);  //build using your array

console.log(nameArrays);​

//you now have:
//nameArrays.A1, nameArrays.A2,...
//or
//nameArrays['A1'], nameArrays['A2'],... 
```

# mysql - 如何在 MySQL 结果中显示 unicode？

> ID：10345928
> 
> 赞同：0
> 
> 时间：2012-04-27T06:39:20.100
> 
> 标签：mysql, unicode

[http://www.sqlfiddle.com/#!2/82f65/1](http://www.sqlfiddle.com/#!2/82f65/1)

我试过这个：

```
create table x(y varchar(100) character set utf8);

insert into x(y) values('爱'); 
```

但是汉字没有出现：

```
select y from x; 
```

输出：

```
Y
? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T07:26:11.293

它在我的本地主机上的 mysql 中运行良好。这可能是由于 mysql 字符集或某些设置，请检查它。如果您必须通过 php 之类的程序运行此查询，那么

在选择查询之前运行查询

```
"SET NAMES utf8" 
```

它将正确返回结果谢谢

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T07:50:01.307

我是 sqlfiddle.com 的作者。问题是我没有用于 mysql 设置的连接字符串和默认数据库编码来正确处理 UTF8。我现在已经解决了这个问题，但是因为您发布的小提琴仍在使用过时的设置，您必须在我稍微修改过的小提琴版本上看到它在这里工作：

[http://www.sqlfiddle.com/#!2/e79e8/1](http://www.sqlfiddle.com/#!2/e79e8/1)

您的链接最终可能会开始工作，它只需要清除运行内存并重置即可。在没有人打它一段时间后，它应该被收割，然后准备好干净地重建起来。谢谢！

仅供参考，我必须做出的改变才能让它工作在这里找到：http: [//www.compoundtheory.com/? action=displayPost&ID=421](http://www.compoundtheory.com/?action=displayPost&ID=421)

从java将它添加到我的连接字符串的相关位： `useUnicode=true&characterEncoding=UTF-8`

并将其添加到我的创建数据库语句中：

`create database my_new_database default CHARACTER SET = utf8 default COLLATE = utf8_general_ci;`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T06:49:08.850

汉字没有显示在小提琴中，但在实际的 mysql 数据库中它工作正常。请检查您的mysql版本

![您选择语句的结果](../Images/a90e4ef9ddbee11dbdcb7447ca00780f.png)

# java - 专注是什么意思？

> ID：10345933
> 
> 赞同：6
> 
> 时间：2012-04-27T06:39:29.760
> 
> 标签：java, android, focus

只是想知道焦点在java代码中是什么意思，因为我见过onWindowFocusChanged、addFocussables、findFocus...

如果我有一个可滚动列表并且我向下滚动它，第一个项目的焦点会是假的吗？或者它意味着其他的东西？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-27T06:43:13.090

焦点意味着您选择了特定的 GUI 元素。例如，当您选择一个窗口获得焦点时，当您选择另一个窗口时，第一个窗口失去焦点...... JTextField、JTextArea 等也是如此。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-03-18T11:57:13.423

这里对 StackOverflow 的焦点定义如下：

> 焦点指示当前选择接收输入的图形用户界面的组件。

说*选择*了重点组件是不准确的。例如，我们可以有一个`JCheckBox`被取消选择的（没有刻度线），它也是当前的焦点所有者。因为它有焦点，所以它的状态用空格键切换。*活跃*一词更准确。我想出了以下焦点的定义：

*焦点*是它接收键盘输入的组件的状态。焦点由一些视觉提示表示；例如，在 Metal 外观和感觉中，焦点`JButton`的标签周围有一个蓝色矩形。具有当前输入焦点的组件称为焦点所有者。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T06:46:03.607

当前处于“活动”状态的 GUI 元素具有焦点。例如，当您有多个输入窗口时，只有一个可以获得焦点并接收您的键盘输入。请参阅此处的 Android GUI 文档[http://developer.android.com/guide/topics/ui/ui-events.html](http://developer.android.com/guide/topics/ui/ui-events.html)

# excel - 想知道D7、$D7和$D$7的区别

> ID：10345935
> 
> 赞同：0
> 
> 时间：2012-04-27T06:39:46.007
> 
> 标签：excel

> **可能重复：**
> [Excel 公式 $ 的含义](https://stackoverflow.com/questions/7984282/excel-formula-meaning-of)

我是 excel 宏开发的新手，谁能告诉我 D7、$D7 和 $D$7 之间的区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:46:55.853

D7 是相对参考。如果在 A1 单元格中写入公式 =D7，然后复制并粘贴到单元格 A2 中，A2 中的公式将为 =D8。

$D$7 是绝对参考。将其复制并粘贴到您喜欢的任何位置。它将始终引用 D7。对此有很好的用途是许多其他单元将引用的常数。

$D7 是绝对列，相对行。因此，您可以从同一行的任何其他列中引用 D 列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:45:13.147

$ 符号表示固定列或行，以便在表格中输入公式始终指向同一单元格 $D$7 或列 $D7 或行 D$7。没有 $ 的单元格将根据您将公式复制到的位置自动递增。

# java - 为什么文本字段总是返回 null？

> ID：10345941
> 
> 赞同：-1
> 
> 时间：2012-04-27T06:40:08.197
> 
> 标签：java, html, database, servlets

以下代码段将标题提交到数据库。填写文本后，我单击提交，但令我惊讶的是，表格中总是出现*空值。*我在下面提到了 servlet 代码和 html 设计：

```
<form method="post" action="Handler" enctype="multipart/form-data">
        <table>
            <tr>
                <td> <strong> Leave a caption </strong>  </td>
                <td> <input type="text" name="caption box" size="40" /></td>
            </tr>

            <tr colspan="2">
                <td> <input type="submit" value="submit caption"/> </td>
            </tr>
        </table>
    </form> 
```

**小服务程序**

```
String caption = request.getParameter("caption box"); // get the caption from the caption field
HandleCaption hc = new HandleCaption(caption,emailOfTheUser,fileName);
hc.SubmitCaptionToTheDatabase(); 
```

**班级**

```
public class HandleCaption {
private String Caption = null;
private String UserEmail = null;
private String NameOfThe = null;

public HandleCaption(String caption,String email,String filename) {
    Caption = caption;
    UserEmail = email;
    NameOfThe = filename;
}

public void SubmitCaptionToTheDatabase() {
    try {
        Context context = new InitialContext();
        DataSource ds = (DataSource)context.lookup("java:comp/env/jdbc/DS");
        Connection connection = ds.getConnection();
        String sqlQuery = "insert into CAPTIONS values ('" + UserEmail + "','" + NameOfThe + "','" + Caption + "')";
        PreparedStatement statement = connection.prepareStatement(sqlQuery);
        int x = statement.executeUpdate();
    }catch(Exception exc) {
        exc.printStackTrace();
    }
} 
```

}

我尝试打印 servlet 中返回的文本字段的值，甚至打印的 null。为什么文本字段返回 null ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T07:12:28.123

~~我不知道为什么会发生这种情况，但发生在我身上一两次..我的标题类处理标题，将其声明为~~

 ~~```
private String Caption = "";
private String UserEmail = "";
private String NameOfThe = ""; 
```~~ 

~~我知道这看起来像是一个愚蠢的答案，因为在构造函数中你实际上指的是传递的值，但我经历过这个，这就是我的解决方案。请尝试回复！~~

**更新：**很抱歉由于编码类型而错误地解决了这个问题，将了解它发生的原因..但只需删除编码类型并且它可以工作..在示例代码上尝试过

**更新：** 3.0 版之前的 Servlet API 默认不支持 multipart/form-data 编码请求。Servlet API 默认使用 application/x-www-form-urlencoded 编码解析参数。当使用不同的编码时，request.getParameter() 调用都将返回 null。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T06:46:55.163

您`captionbox`的字段名称不应包含空格。

```
<input type="text" name="captionbox" size="40" /> 
```

从中删除空格，也从 servlet 端删除空格。

# css - css中使用三个div创建banner圆角效果

> ID：10345945
> 
> 赞同：0
> 
> 时间：2012-04-27T06:40:24.340
> 
> 标签：css, rounded-corners

我想用三个 div 来创建一个圆形的效果，比如

```
<div class="wrapper">
   <div class="left-corner"></div>
   <div class="center-repeat"></div>
   <div class="right-corner"></div>
</div> 
```

并且`.left-corner`有`.right-corner`一个唯一的角落背景图像css：

```
.wrapper
{
   width:100%
   height:110px;
}
.left-corner
{
   background:...
   width:110px;
   height:110px;
   float:left
}
.right-corner
{
   background:...
   width:110px;
   height:110px;
   float:right
} 
```

但是我应该如何渲染我尝试使用的中间 div`width:100%`但角落 div 将被推动并成为另一行我如何将三个 div 设置为一行并看起来正常？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:49:24.553

如果你`wrapper`是按百分比设置的，那么我认为最好将它的孩子也保持在百分比中，也许使用 33%、33% 和 34% 来获得 100%。对于中间，或者`center-repeat`我认为您可能也需要使用`float: left`，所以它紧贴`left-corner`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:54:35.793

您是否尝试过使用border-radius 属性？

您可以只使用中心 div 和边框半径任何其他角。
[https://developer.mozilla.org/en/CSS/border-radius](https://developer.mozilla.org/en/CSS/border-radius)
[支持 IE 中的“border-radius”](https://stackoverflow.com/questions/635851/support-for-border-radius-in-ie)

```
<div class="wrapper">
    ... content inside wrapper ... 
</div>

.wrapper
{
    width: 100%;
    height: 110px;
    border-radius: 5px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T07:45:35.520

嗨，你应该这样做

**CSS**

```
.wrapper
{
   width:100%
   height:110px;
    overflow:hidden;
    border:solid 5px black;
    border-radius:25px;
}
.left-corner
{
   background:red;
   width:110px;
   height:110px;
   float:left
}
.right-corner
{
   background:green;
   width:110px;
   height:110px;
   float:right
}

.center-corner{
width:100%;
    background:yellow;
    height:110px;
} 
```

**HTML**

```
<div class="wrapper">

    <div class="left-corner">Left</div>
    <div class="right-corner">Right</div>
    <div class="center-corner">Center</div>    
</div> 
```

现场演示[http://jsfiddle.net/pTxrW/](http://jsfiddle.net/pTxrW/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-27T08:57:14.570

这是我的尝试：[jsfiddle](http://jsfiddle.net/7D9TV/4/)。
左右角的高度比中心块低 10px，因此更容易看到它们之间的边界。

# ext.net - 如何在 ext.net 中将网格数据导出为 PDF

> ID：10345946
> 
> 赞同：0
> 
> 时间：2012-04-27T06:40:28.020
> 
> 标签：ext.net, export-to-pdf

我想知道如何在 ext.net 中将网格数据导出为 PDF。我怎样才能做到这一点？

我看过很多网站，但都与 asp.net 有关。我没有得到任何与 ext.net 相关的内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-28T17:09:44.503

Ext.NET 无法将网格数据导出为 PDF，但是您可以使用您为 ASP.NET 应用程序找到的任何解决方案，因为 Ext.NET 是 ASP.NET Framework。

# python - Django vs Python2.7 unittest TestCase？

> ID：10345948
> 
> 赞同：1
> 
> 时间：2012-04-27T06:40:32.787
> 
> 标签：python, django, unit-testing

我正在构建一个 Django 应用程序，并且正在尝试决定如何为我的代码设置单元测试。查看 Django 文档，我看到单元测试有两个选项，Python2.7 的内置测试和 Django 的自定义 TestCase 类。在尝试查看使用哪一个时，Django 似乎只列出了 Python 的好处（https://docs.djangoproject.com/en/dev/topics/testing/?from=olddocs#which-should-i-use）。

哪个单元测试框架更可取？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T10:10:49.360

简短的回答：使用 Django `TestCase`。它完成了 python`unittest.TestCase`可以做的所有事情，甚至更多。

python 和 Django`TestCase`类都用于单元测试。您链接到的“[*我应该使用哪个*](https://docs.djangoproject.com/en/dev/topics/testing/?from=olddocs#which-should-i-use)”部分是将*单元测试*与*文档测试*进行比较。

Django`TestCase`只是 python 的扩展`unittest.TestCase`。如果您使用的是早期版本的 Python，那么 Django`TestCase`允许您使用一些简洁的功能，例如`assertRaisesExp`仅适用于`unittest.TestCase`python 2.7 的功能。

由于您使用的是 Python 2.7，因此您不需要使用 Django`TestCase`来获得 Python 2.7 的功能，但是仍然有很多额外的功能，例如[夹具加载](https://docs.djangoproject.com/en/dev/topics/testing/?from=olddocs#fixture-loading)，这意味着您应该使用 Django `TestCase`。

# c - 确定进程是否被抢占/阻塞

> ID：10345952
> 
> 赞同：1
> 
> 时间：2012-04-27T06:40:45.613
> 
> 标签：c, linux

在两点代码之间，我是否可以判断该进程是否已被内核抢占，或者更确切地说，当时是否有任何其他代码在同一处理器上运行？

```
//Point A
some_type capture = some_capture();
.
.
.
//Point B
if( interrupted( capture ) ) 
```

是否有任何我可以读取的系统调用，或者最好是我可以读取的用户空间变量，它可以实现`some_capture`and `interrupted`？

我正在尝试改进我的一些基准测试代码，并希望排除此类示例。通常我可以使用 FIFO 线程，但在某些情况下我不能。一般来说，我正在计时的事情比时间片要少，而且往往不会阻塞，因此对它们何时进行的任何测量都不是对隔离功能时间的准确测量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:47:26.523

我不认为你可以这样做，但是你可以打电话`sched_setscheduler()`给你的进程`SCHED_FIFO`调度策略和一个合适的（非零）优先级。这使它成为一个实时任务，除非被另一个更高优先级的实时任务（其中可能没有），否则不能被中断。

# android - 如何在 Android 中为谷歌地图设置街景？

> ID：10345953
> 
> 赞同：0
> 
> 时间：2012-04-27T06:40:55.697
> 
> 标签：android, maps, google-street-view

为了在地图中显示街景，我输入了以下代码：

```
mapView.setStreetView(true); 
```

但是，它没有执行，当我编写方法时它显示以下消息。

`setStreetView(boolean)`类型中的方法`MapView`已**弃用**

有什么替代方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:49:00.513

**从 google api 11 开始，还没有其他替代**方法可以代替 setStreetView(boolean) 方法，但是如果您仔细阅读文档，如果特定地点的街景可用，它将向您显示蓝线

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T22:41:11.677

没有其他选择，因为`isStreetView(boolean)`不推荐使用。我已经在几部运行 Android 4.0.4 的手机上使用了这种方法，并且它适用于所有手机。也许它在某些手机上已被弃用，但在 Galaxy Nexus 上却没有。`isStreetView(boolean)`有效，所以使用它。

# c# - 使用 C# 以编程方式创建 Kindle 电子书？

> ID：10345954
> 
> 赞同：16
> 
> 时间：2012-04-27T06:40:57.687
> 
> 标签：c#, epub, kindle

我有一个项目的想法，但它需要能够在服务器上动态创建 Kindle 书籍，最好是在 .net 中。

但是，我还没有找到任何库来执行此操作。我看到有 epub 库，但是这些库仍然需要转换为 azw。

这可能吗，如果可以，请问有人有任何指示吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-04-27T07:16:35.483

我正在做类似的事情。一种方法是：

1.  用您的书创建一个特殊格式的 HTML 文件（请参阅下面有关 kindle 格式指南的信息）；和
2.  使用命令行[Amazon KindleGen 工具](http://www.amazon.com/kindleformat/KindleGen)生成电子书。

至于创建目录、在新页面上开始章节以及其他可以在 Kindle 电子书中完成的事情，您可能需要阅读 Kindle 格式指南，例如[Amazon Kindle 出版指南](http://kindlegen.s3.amazonaws.com/AmazonKindlePublishingGuidelines.pdf)。

此外，您可能想阅读第三方关于该主题的书籍。我亲自阅读了 Joshua Tallent 的 Kindle Formatting 和 Steven Lewis 的 How to Format Perfect Kindle Books ，它们都包含使用 HTML 文件正确格式化 Kindle 图书所需的信息。您可以从亚马逊获得这两本书。Tallent 和 Lewis 的书籍面向可能从未手动创建过 HTML 文件的作者，并指导您完成整个过程。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-27T07:03:49.570

您可以尝试使用[Calibre](http://calibre-ebook.com/about)。它支持 .mobi 文件格式。

如果您已经能够创建 EPUB 文件，请使用 Calibre 命令行工具 ebook-convert.exe：

```
ebook-convert.exe c:\file.epub c:\file.mobi --output-profile=kindle 
```

作为替代方案，您可以生成 PDF 文件，因为它们受 Kindle 支持。

# mysql - TRIGGER 中的 SELECT CASE 语句

> ID：10345955
> 
> 赞同：1
> 
> 时间：2012-04-27T06:40:58.150
> 
> 标签：mysql, select, triggers, case

我有一个运行正常的“SELECT CASE”语句查询：

```
SELECT 
(CASE `t`.`is_combined` 
WHEN 0 
THEN `t`.`topic_id` 
ELSE `t`.`is_combined` 
END) AS`group_id`,
    SUM(`ctt`.`tm_download_status`) AS `is_downloaded`, 
    COUNT(`t`.`topic_id`) AS `group_topics_cnt`,
    (SUM(`ctt`.`tm_download_status`) = COUNT(`t`.`topic_id`)) AS `is_downloaded_group` 
    FROM (`catalog_topics` `t` LEFT JOIN `catalog_tracker_torrents` `ctt` ON((`ctt`.`topic_id` = `t`.`topic_id`))) 
    WHERE (`t`.`topic_id` != 0) 
    GROUP BY (`group_id`) 
```

所以，我想创建一个类似的触发器来更新“交叉”表：

```
DELIMITER $$ 
CREATE TRIGGER `tdg_ins_by_topics` AFTER INSERT ON `catalog_topics` FOR EACH ROW 
BEGIN
REPLACE INTO catalog_topics_downloaded_groups(
      SELECT (
              CASE `t`.`is_combined`
              WHEN 0
              THEN `t`.`topic_id`
              ELSE `t`.`is_combined`
              END
     ) AS `group_id` , 
SUM( `ctt`.`tm_download_status` ) AS `is_downloaded` , 
COUNT( `t`.`topic_id` ) AS `group_topics_cnt` , (
SUM( `ctt`.`tm_download_status` ) = COUNT( `t`.`topic_id` ) ) AS `is_downloaded_group`
FROM `catalog_topics` `t`
LEFT JOIN `catalog_tracker_torrents` `ctt` ON `ctt`.`topic_id` = `t`.`topic_id`
WHERE `t`.`topic_id`
IN (
NEW.`topic_id`
)
GROUP BY `group_id`
)
END ;
$$ 
```

但收到错误消息：

> "#"1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 14 行的“END”附近使用正确的语法

看起来 MySQL 不理解`CASE`in `TRIGGER`statement 和`CASE`in `SELECT`statement 之间的区别。那么，我该如何解决这个问题？

感谢您的回答。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-27T06:49:00.773

我认为您需要“结束”您的 REPLACE 语句，`;`就像您必须用分隔符结束 a `TRIGGER`or `PROCEDURE`/内的所有语句一样`FUNCTION`。

这就是为什么您将 DELIMETER 更改为`$$`.. 以便您可以使用`;`将 mysql 默认分隔符存储在触发代码中。（并使用更改的分隔符结束创建触发器语句`$$`）

```
DELIMITER $$ 
CREATE TRIGGER `tdg_ins_by_topics` AFTER INSERT ON `catalog_topics` FOR EACH ROW 
BEGIN
    REPLACE INTO catalog_topics_downloaded_groups(
          SELECT ( CASE `t`.`is_combined`
                   WHEN 0
                   THEN `t`.`topic_id`
                   ELSE `t`.`is_combined`
                   END
                 ) AS `group_id`, 
                 SUM(`ctt`.`tm_download_status`) AS `is_downloaded`, 
                 COUNT( `t`.`topic_id` ) AS `group_topics_cnt` , 
                 (
                 SUM( `ctt`.`tm_download_status` ) = COUNT( `t`.`topic_id` ) ) AS `is_downloaded_group`
          FROM `catalog_topics` `t`
          LEFT JOIN `catalog_tracker_torrents` `ctt` ON `ctt`.`topic_id` = `t`.`topic_id`
          WHERE `t`.`topic_id` IN ( NEW.`topic_id` )
          GROUP BY `group_id`
    );
END;
$$
DELIMETER ; 
```

# c# - 如何在 C# 中的 ASP.NET 中的动态页面中添加动态字段

> ID：10345957
> 
> 赞同：0
> 
> 时间：2012-04-27T06:41:02.977
> 
> 标签：c#, asp.net

我想添加一个动态字段作为“添加更多技能”，它显示一些文本框和标签将在单击此链接时出现。您可以在 Shine.com、TimesJob 等网站上看到此类示例......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T07:00:48.693

这是开始的事情。根据您的需要进行修改。创建一个新按钮并单击按钮动态创建新控件。我在下面提到的代码 ASP Button 中动态创建了一个标签和文本框

```
<asp:Button ID="AddMoreSkills" runat="server" Text="Add More Skills" 
            onclick="AddMoreSkills_Click" /> 
```

**C# 中的 OnClick 事件**

```
protected void AddMoreSkills_Click(object sender, EventArgs e)
{
    Table tblmain = new Table();
    tblmain.ID = "tblmain";
    tblmain.Width = Unit.Percentage(100);
    tblmain.Attributes.CssStyle.Add("margin-top", "5px");
    tblmain.Attributes.CssStyle.Add("margin-bottom", "5px");

    TableCell tblTCell;
    TableRow tblRow = new TableRow();
    TableCell tblCell = new TableCell();

    tblRow = new TableRow();

    //Create Label Dynamically
    tblCell = new TableCell();
    Label lblTown = new Label();
    lblTown.ID = "lblSkill";
    lblTown.Text = "Skill";

    //Add label to table cell
    tblCell.Controls.Add(lblTown);
    tblRow.Cells.Add(tblCell);

    //Create TextBox Dynamically
    TextBox txtSkill = new TextBox();
    txtSkill.ID = "txtSkill";

    //Add TextBox to table cell
    tblTCell = new TableCell();
    tblTCell.Controls.Add(txtSkill);
    tblRow.Cells.Add(tblTCell);
    tblmain.Rows.Add(tblRow);

    form1.Controls.Add(tblmain);
} 
```

# model-view-controller - MVC 模式中的模型是什么

> ID：10345961
> 
> 赞同：0
> 
> 时间：2012-04-27T06:41:26.977
> 
> 标签：model-view-controller

如果我正在使用 MVC 模式，我正在创建一个应用程序。为此，我将我的视图视为 jsps，将控制器视为 servlet，将模型视为 DAO 对象。我怀疑我将 DAO 对象视为模型是对还是错？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-27T07:04:48.073

模型不是 DAO。它是一个包含所有领域逻辑的层，主要由两种类型的元素组成，具有以下职责：

*   商业逻辑
*   数据访问（通常实现为[DataMapper](http://martinfowler.com/eaaCatalog/dataMapper.html)）

这个想法是业务逻辑永远不应该与存储机制绑定。当您创建发票时，域对象不应该关心数据来自 SQL 数据库、MSWord 文档、远程 REST API 还是只是模拟数据。

您可能会发现这篇文章有趣且相关：[GUI 架构](http://martinfowler.com/eaaDev/uiArchs.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T07:01:53.187

MVC 中的模型是业务逻辑所在。

查看[sun Java EE 模式定义](http://java.sun.com/blueprints/corej2eepatterns/Patterns/DataAccessObject.html)，我们看到 DAO 封装了持久性机制并由业务对象使用。因此，我不认为 DAO 自然具有任何业务逻辑。

在简单的系统中，一些数据库表，或者业务逻辑在数据库中实现的那些（存储过程、引用完整性检查、触发器），那么 DAO 实际上是业务逻辑前面的一个门面，所以它们看起来很像模型。因此，在一些介绍性材料中，您可能会看到 DAO 几乎是模型的唯一 Java 表达式。

当我们选择在 Java 中实现我们的业务逻辑时，它将位于 DAO 之上的一层，例如使用 DAO 的会话 Bean，在我看来，它是会话 Bean 或等效的模型。

所以问问自己：业务逻辑在哪里？这就是模型的真正所在。

# asp.net - 报告服务 2012 - 报告查看器

> ID：10345963
> 
> 赞同：2
> 
> 时间：2012-04-27T06:41:43.530
> 
> 标签：asp.net, reporting-services, sql-server-2012

我刚刚安装了带有 Reporting Services 的新 SQL Server 2012。当我转到位于[http://localhost/Reports](http://localhost/Reports)的报表服务器页面并选择一个报表时，连接到该报表的过滤器/输入栏具有新的蓝色外观。但是，当我使用 ReportViewer 服务器控件版本 11.0.0.0 时，我仍然会得到与以前版本一样的旧米色外观。它还缺少新按钮“导出到数据源”。

有谁知道新的 ReportViewer 服务器控件是否应该看起来像这样，还是我遗漏了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T18:39:17.727

ReportViewer 2012 独立软件包现已发布。您可能想查看我的提示：http: [//blogs.msdn.com/b/arvindsh/archive/2012/12/11/microsoft-report-viewer-2012-update-a-gotcha-to-be-aware- .aspx](http://blogs.msdn.com/b/arvindsh/archive/2012/12/11/microsoft-report-viewer-2012-update-a-gotcha-to-be-aware-of.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T11:35:27.413

ReportViewer 控件实际上是随 Visual Studio 提供的 ASP.NET 控件，而不是 SQL Server 安装的一部分。[MSDN 上的报表查看器](http://msdn.microsoft.com/en-us/library/ms153697%28v=sql.110%29.aspx)

我的建议是尝试[安装 Visual Studio 11 beta](http://www.microsoft.com/visualstudio/11/en-us)并查看其中是否有控件的更新版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-04T06:38:36.050

它是，或者至少大部分是。我似乎在我安装的 VS2012 中找不到 Microsoft.ReportViewer.Common dll，但这可能只是我的安装。如果您不尝试 VS2012 预览版中的过时版本，可以在此处下载：http: [//www.microsoft.com/en-us/download/details.aspx?id= 27230](http://www.microsoft.com/en-us/download/details.aspx?id=27230)

# git - 如何获取 qtCreator 2.5 Rc 源

> ID：10345967
> 
> 赞同：-5
> 
> 时间：2012-04-27T06:42:05.680
> 
> 标签：git, gitorious

这里：[http](http://qt.gitorious.org/qt-creator) : //qt.gitorious.org/qt-creator 是 qtCreator 2.5 RC 的来源。如何将它们下载到我的机器上？我已经安装了 Git。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:49:34.227

看看下面的帖子：[如何从 gitorious 下载？](https://stackoverflow.com/questions/4195723/how-do-i-download-from-gitorious)

在你的情况下，这应该是

`git clone git://gitorious.org/qt-creator/qt-creator.git`

# c# - 检查节点后树视图更改位置

> ID：10345969
> 
> 赞同：1
> 
> 时间：2012-04-27T06:42:08.120
> 
> 标签：c#, asp.net, treeview

我有一个 asp.net 树视图。在展开的节点上，我正在为展开的节点绑定子节点。但是如果我检查节点而不是展开它，节点和它的所有子节点都会改变位置并变得像主节点的子节点。再次单击 + 时，它会出现在正确的位置。任何想法如何解决它！

那是 updatePanel 中的树

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
        <ContentTemplate>
        <asp:TreeView ID="MyTreeView" runat="server" ImageSet="XPFileExplorer" NodeIndent="15"
    OnTreeNodeExpanded="MyTreeView_TreeNodeExpanded">
    <HoverNodeStyle Font-Underline="True" ForeColor="#6666AA" />
    <NodeStyle Font-Names="Tahoma" Font-Size="8pt" ForeColor="Black" HorizontalPadding="2px"
        NodeSpacing="0px" VerticalPadding="2px" />
    <ParentNodeStyle Font-Bold="False" />
    <SelectedNodeStyle BackColor="#B5B5B5" Font-Underline="False" HorizontalPadding="0px"
        VerticalPadding="0px" />
</asp:TreeView>

        </ContentTemplate>
</asp:UpdatePanel> 
```

从后面的代码：在页面加载时我有：

```
if (!this.IsPostBack)
            {
                this.MyTreeView.ShowCheckBoxes = TreeNodeTypes.All;
                this.MyTreeView.ShowLines = true;
                FillTree();//custom method just to fill the tree
            } 
```

和

```
 protected void MyTreeView_TreeNodeExpanded(object sender, TreeNodeEventArgs e)
    {
        TreeNode expandedNode = e.Node;

        if (expandedNode.Value != "-1" && expandedNode.Value == "-2")
        {
            //Some logic
        }

    } 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T09:15:20.990

这个 JavaScript 函数修复了树：

```
function FixTreeview(treeView) {
            try {
                if (treeView) {
                    var treeLinks = treeView.getElementsByTagName("a");
                    var nodeCount = treeLinks.length;
                    for (i = 0; i < nodeCount; i++) {
                        if (treeLinks[i].firstChild.tagName) {
                            if (treeLinks[i].firstChild.tagName.toLowerCase() == "img") {
                                var currentToggleLink = treeLinks[i];
                                var childContainer = GetParentByTagName("table", currentToggleLink).nextSibling;
                                try {
                                    eval(currentToggleLink.href);
                                } catch (e) {
                                }
                            }
                        }
                    } 
                }
            } catch (e) {
            }
        } 
```

# c# - 如何用列表中的另一个替换确切的单词？

> ID：10345970
> 
> 赞同：0
> 
> 时间：2012-04-27T06:42:19.343
> 
> 标签：c#, list

我有一个类似的列表：

*   乔治
*   米歇尔 fgu
*   亚瑟尔

我想用“fguhCool”替换 fg、fgu 和 fguh 我已经尝试过这样的事情：

```
 foreach (var ignore in NameToPoulate)
        {
            tempo = ignore.Replace("fg", "fguhCool");
            NameToPoulate_t.Add(tempo);
        } 
```

但是然后“fgu”变成“fguhCoolu”和“fguh”变成“fguhCooluh”有更好的主意吗？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T07:05:49.120

我假设这是一项家庭作业，并且您正在针对特定算法而不是任何完成这项工作的代码进行测试。

这可能是您的老师的想法：

学生将意识到代码应该首先检查“fguh”，然后是“fgu”，然后是“fg”。顺序很重要，因为正如您所注意到的，替换“fg”会破坏“fguh”。

这将被一些学生实现为一个带有 if-else 条件的循环。这样您就不会替换已替换的“fguhCool”中的“fg”。

但是你会发现如果“fg”和“fgu”都在同一个字符串中，算法就会崩溃。然后，您不能允许“fgu”的存在阻止您在字符串的不同部分检查“fg”。

您的老师正在寻找的答案可能是您应该首先找到“fguh”、“fgu”和“fg”（按此顺序）并将它们替换为不包含“fg”的中间字符串。然后在你完成之后，你可以搜索那个中间字符串并将其替换为“fguhCool”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T06:46:16.713

您可以使用正则表达式：

```
Regex.Replace(@"\bfg\b", "fguhCool"); 
```

`\b`匹配所谓的单词*边界*，这意味着它匹配单词的开头或结尾（粗略，但为此目的足够了）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-27T06:47:07.430

使用正则表达式：

```
Regex.Replace("fg(uh?)?", "fguhCool"); 
```

另一种方法是先将长词替换为短词，然后将短词替换为最终值（我假设所有词 - “fg”、“fgu”和“fguh” - 将映射到相同的值“fguhCool “， 正确的？）

```
tempo = ignore
    .Replace("fguh", "fg")
    .Replace("fgu", "fg")
    .Replace("fg", "fguhCool"); 
```

Obs.：假设这些单词可以出现在字符串中的任何位置。如果您担心整个单词（即这些单词**不是**更大单词的子字符串的情况），请查看@Joey 的答案（在这种情况下，简单的替换不会做，正则表达式确实是最好的选择）。

# iis-7 - 在 IIS 7 中为 HTML 页面设置自定义 404 页面

> ID：10345971
> 
> 赞同：6
> 
> 时间：2012-04-27T06:42:23.517
> 
> 标签：iis-7, http-status-code-404

我的网站扩展名为 .htm，服务器是 IIS 7。我现在设计了自定义 404 页面。

现在任何人都可以建议我，如何通过 web.config 实现自定义 404 页面。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-26T17:05:59.713

`.htm`我在 IIS7（不是 ASP，不是 .NET）中的页面也有同样的问题。

我改为`responseMode`而`File`不是`ExecuteURL`in`<system.webServer>`并且一切正常：

```
<httpErrors errorMode="Custom" existingResponse="Replace">
    <remove statusCode="404" />
    <error statusCode="404" responseMode="File" path="error.htm" />
</httpErrors> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-27T07:03:43.867

在您的`web.config`文件中使用它：

```
<httpErrors errorMode="Custom" existingResponse="Replace">
    <remove statusCode="404" />
    <error statusCode="404" responseMode="ExecuteURL" path="/Errors/NotFound" />
</httpErrors> 
```

# android - 如何使用 HTML5 访问 iPhone 或 Android 相机？

> ID：10345973
> 
> 赞同：3
> 
> 时间：2012-04-27T06:42:31.853
> 
> 标签：android, iphone, html

我正在尝试为 iPhone 或 Android 浏览器创建一个基于 HTML5 构建的 Web 应用程序。我如何能够访问两个实例上的相机以捕获图像并将其上传到 Web 应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:54:05.123

我不认为这是可能的。至少，在当前状态下，HTML5 无法访问相机（或其他外围设备）。另一种方法是创建一个 PhoneGap 应用程序，您可以在其中使用 HTML5 开发应用程序（将被包装到本机应用程序中），并使用其他库 (JS) 来访问这些应用程序。

有关 PhoneGap 的更多信息：[http](http://phonegap.com/start) ://phonegap.com/start PhoneGap 上的相机 api：http: [//docs.phonegap.com/en/1.0.0/phonegap_camera_camera.md.html](http://docs.phonegap.com/en/1.0.0/phonegap_camera_camera.md.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:52:54.443

你暂时不能。一旦[W3C getUserMedia AP](http://dev.w3.org/2011/webrtc/editor/getusermedia.html) I 最终确定并由浏览器实现，这将是可能的，但现在还不行。（Opera Mobile 有一个实现它的版本 - 出于兴趣）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-12T23:25:24.777

在 iOS6 中，Apple 采用 HTML5 照片上传。

[http://clubsexytime.com/projects/mobileupload/](http://clubsexytime.com/projects/mobileupload/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-10-09T10:46:13.317

这对你有用吗？

> `<input type="file" accept="image/*" capture="camera" />`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-25T10:16:09.153

您**可以**访问相机！示例[http://davidwalsh.name/demo/camera.php](http://davidwalsh.name/demo/camera.php)。我已经在我的 Nexus 4 上测试过了

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-02-24T05:52:49.187

WebRTC 协议是个好地方

# eclipse-plugin - 向 RCP 显示项目浏览器视图及其功能

> ID：10345977
> 
> 赞同：2
> 
> 时间：2012-04-27T06:42:51.113
> 
> 标签：eclipse-plugin, eclipse-rcp

如何将 PackageExplorerView 的所有工具栏和功能添加到 Eclipse RCP 应用程序？我使用 PackageExplorer 视图 ID 来显示 PackageExplorer 视图。它显示了 rcp 应用程序中的视图。但是在 PackageExplorer 视图中创建项目后，它没有显示所创建项目的项目图标。如何解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T19:55:22.223

这是 Eclipse RCP 应用程序中的一个已知问题。

[https://bugs.eclipse.org/bugs/show_bug.cgi?id=234252](https://bugs.eclipse.org/bugs/show_bug.cgi?id=234252)

解决方法是向 ApplicationWorkbenchAdvisor.java 添加一些代码

这是 RCP 中有关此问题的更多文档

[http://help.eclipse.org/ganymede/topic/org.eclipse.platform.doc.isv/guide/cnf_rcp.htm](http://help.eclipse.org/ganymede/topic/org.eclipse.platform.doc.isv/guide/cnf_rcp.htm)

我已将此代码添加到我的初始化方法中，以便让图像显示在项目资源管理器中，因此如果这些图像与这些图像不同，您需要跟踪要为包资源管理器添加的正确图像。

```
 public void initialize(IWorkbenchConfigurer configurer) {
     super.initialize(configurer);

     // here's some of my code that does some typical RCP type configuration
     configurer.setSaveAndRestore(true);
     PlatformUI.getPreferenceStore().setValue(
            IWorkbenchPreferenceConstants.SHOW_TRADITIONAL_STYLE_TABS, false);

    // here is the work around code
    /*
     * This is a hack to get Project tree icons to show up in the Project Explorer.
     * It is descriped in the Eclipse Help Documents here.
     * 
     * http://help.eclipse.org/ganymede/topic/org.eclipse.platform.doc.isv/guide/cnf_rcp.htm
     * 
     */

    IDE.registerAdapters();

    final String ICONS_PATH = "icons/full/";

    Bundle ideBundle = Platform.getBundle(IDEWorkbenchPlugin.IDE_WORKBENCH);

    declareWorkbenchImage(
            configurer, 
            ideBundle,
            IDE.SharedImages.IMG_OBJ_PROJECT, 
            ICONS_PATH + "obj16/prj_obj.gif",
            true);

    declareWorkbenchImage(
            configurer, 
            ideBundle,
            IDE.SharedImages.IMG_OBJ_PROJECT_CLOSED, 
            ICONS_PATH + "obj16/cprj_obj.gif", 
            true);

    /*
     * End of hack in this method... 
     */
}

private void declareWorkbenchImage(IWorkbenchConfigurer configurer_p, Bundle ideBundle, String symbolicName, String path, boolean shared)  
{
    URL url = ideBundle.getEntry(path);
    ImageDescriptor desc = ImageDescriptor.createFromURL(url);
    configurer_p.declareImage(symbolicName, desc, shared);
} 
```

希望这可以帮助。

谢谢！

# java - 带有数组名称的 playframework 表单输入

> ID：10345986
> 
> 赞同：1
> 
> 时间：2012-04-27T06:43:20.073
> 
> 标签：java, arrays, templates, input, playframework

我正在尝试提交一个带有一些这样的文本区域的表单：

```
<textarea name="criticism[]" rows="3" cols="5"></textarea> 
```

textarea 需要有一个数组作为名称，因为页面上可以有无限数量的数组，由用户使用 js 添加。

这些值被正确地传递给控制器​​。

在控制器中，我`params.flash()`似乎将值添加到了会话中，因为如果我`${flash}`在模板中这样做，它们就会打印到屏幕上。但是，我无法以任何方式访问它们。 `${flash.criticism}`返回 null，`${flash.criticism[x]}`并将返回越界错误。

我错过了什么语法吗？

干杯:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T06:59:46.667

flash 范围仅适用于当前请求和下一个请求。要将某些内容放入会话中，请使用会话。

但是 flash 和 session 并不打算存储值。它们的 cookie 限制为 4kb。要存储一些东西，请使用数据库和/或缓存

如果您想在下一页中重新渲染您的值，只需将字符串数组作为`'criticism'`参数传递给下一个渲染方法并在您的模板中使用它`${criticism[x]}`

# javascript - 使用编码 gzip 的 ajax 发送请求不起作用

> ID：10345996
> 
> 赞同：3
> 
> 时间：2012-04-27T06:44:37.320
> 
> 标签：javascript, asp.net, get, request, gzip

编码gzip（iis7）的Ajax发送请求不起作用下面是发送请求的代码有人可以帮助我我的代码有什么问题。

提前致谢

```
function sendRequest(url, callback, postData)
{
   var req = createXMLHTTPObject();
   if (!req) {
      return;
   }

   var method = (postData) ? "POST" : "GET";
   req.open(method, "xml/" + url, true);
   req.setRequestHeader('User-Agent', 'XMLHTTP/1.0');

   if (postData) {
      req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
      req.setRequestHeader("Content-Encoding", "gzip");

   }

   req.onreadystatechange = function() {

   }

   req.send(postData);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-27T06:57:06.137

考虑到安全性，浏览器不允许您覆盖某些标头，包括“Content-Encoding”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-02-21T00:47:32.353

透明地对您的 XMLHttpRequest 请求进行高度压缩的一种方法是使用 HTTP/2（例如，通过 CloudFlare 为您的网站提供服务）。

使用 HTTP/2 时，尽管 HTTP 标头没有说明`Content-Encoding: gzip`底层 HTTP/2 协议压缩所有内容。

它的压缩效果也比 gzip 好得多，因为：

*   它压缩标题
*   标头压缩使用[标准字典](https://www.chromium.org/spdy/spdy-protocol/spdy-protocol-draft3-2#TOC-2.6.10.1-Compression)
*   我认为数据压缩在多条消息上构建了一个字典（brotli - 我没有仔细检查过）

您可以通过以下方式[查看您的服务器](https://edit.co.uk/blog/test-website-supports-http2-0/)是否使用 HTTP/2：

1.  打开 Chrome，按 F12 打开开发者工具
2.  单击网络选项卡
3.  关闭请求检查器面板（有标签`Headers Preview Response Timing`）
4.  右键单击请求列表的名称标题并勾选`Protocol`
5.  导航到您的网站并查看用于所有请求的协议 - 在您不想看到的协议列`h2`中`http/1.1`

[![使用 Chrome 开发者工具的 HTTP/2 网络请求的示例日志](../Images/a16f5531e978e2108a7adc73efb26c0b.png)](https://i.stack.imgur.com/lent3.png)

我不建议使用 JavaScript 压缩库，因为这会导致速度变慢和效率低下。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-27T07:12:35.767

该问题似乎与标头无关，而是与压缩有关。

您似乎没有压缩您的 postData。

如果 postData 已经被压缩，则无需尝试手动设置 content-encoding。

如果不是，要么让浏览器与服务器协商传输编码（这是协议的一部分并自动完成，服务器会说它是否接受，但我认为这种情况很少见）或者（如果你真的需要to) 自己编码。这个 SO 问题表明一个库来压缩浏览器端：[Gzip 的 JavaScript 实现](https://stackoverflow.com/questions/294297/javascript-implementation-of-gzip)