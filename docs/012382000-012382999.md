# StackOverflow 问答 12382000-12382999

# xamarin.ios - sqlite-net 和 sqlite3.dll

> ID：12382000
> 
> 赞同：1
> 
> 时间：2012-09-12T05:58:15.747
> 
> 标签：xamarin.ios, xamarin.android, monocross

我对 Mono 中的 sqlite3.dll 有点困惑。我只是想知道 Mono for Android 和 MonoTouch 是否已经默认提供了本机 C sqlite3 的非托管二进制文件？

所以我可以在我的代码中以零依赖性做到这一点吗？

[DllImport("sqlite3", EntryPoint = "sqlite3_open", CallingConvention=CallingConvention.Cdecl)] public static extern Result Open ([MarshalAs(UnmanagedType.LPStr)] string filename, out IntPtr db);

或者我需要添加一些东西才能使用上面的代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:20:11.510

对于 MonoTouch，iOS 提供了本机 sqlite3 库，因此您应该能够按照您的建议调用本机方法。

对于 Android 的 Mono，我不知道。

**更新**

对于 Android 的 Mono，这似乎会对您有所帮助：[https ://stackoverflow.com/a/4945737/183422](https://stackoverflow.com/a/4945737/183422)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T21:28:29.637

我已经确认没有额外的编码或依赖项。SQLite-net 就像 MonoDroid 上的魅力一样。

Android 或 MonoDroid 已经提供了原生 sqlite3 C++ 库。

# iphone - 以编程方式在 iphone SDK 中同时录制声音和播放

> ID：12382005
> 
> 赞同：2
> 
> 时间：2012-09-12T05:58:33.327
> 
> 标签：iphone, ios, xcode

如何以编程方式在 iphone SDK 中同时录制声音和播放？如果有人有链接和源代码，请帮助我。非常感谢您提前！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:04:49.577

查看 Apple 提供的此示例。

[http://developer.apple.com/library/ios/#samplecode/aurioTouch/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/aurioTouch/Introduction/Intro.html)

它应该让你开始。

# javascript - 更改ckeditor的

> ID：12382007
> 
> 赞同：0
> 
> 时间：2012-09-12T05:58:41.503
> 
> 标签：javascript, css, ckeditor

我在表单的 texareas 中使用 ckeditor，但网站的背景是黑色的，所以我想更改默认样式。我有基本的工具栏：

```
CKEDITOR.replace( 'editor1',
 {  
    toolbar : [ [ 'Bold', 'Italic', '-', 'NumberedList', 'BulletedList', '-',
 'Link', 'Unlink','-']]

 }); 
```

我要更改的跨度样式是（默认）：

```
<span style="color: rgb(0, 0, 0); font-family: Arial, Helvetica, sans; font-size: 11px;  
line-height: 14px; text-align: justify; "> 
```

我可以在哪里更改默认值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T14:33:42.990

您想要做的是使用自定义样式：

```
CKEDITOR.addStyleSet( 'myStyles', [
    {
        name: 'Custom span',
        element: 'span',
        styles:
        {
            'color': 'rgb(0,0,0)',
            'font-family': 'Arial, Helvetica, sans',
            'font-size': '11px',
            'line-height': '14px',
            'text-align': 'justify'
        }
    }
]); 
```

* * *

```
CKEDITOR.replace( 'editor1', { styleSet: 'myStyles:/styles.js' } ) 
```

请参阅：[http ://docs.cksource.com/CKEditor_3.x/Developers_Guide/Styles](http://docs.cksource.com/CKEditor_3.x/Developers_Guide/Styles)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:36:45.477

```
<textarea cols="100" id="editor1" name="editor1" rows="10">This is some sample text</textarea>

<script type="text/javascript">
    // Replace the <textarea id="editor1"> with an CKEditor instance.
    var editor = CKEDITOR.replace( 'editor1' );
    editor.on( 'instanceReady', function( ev ){
        //set the background properties
                this.document.$.childNodes[1].childNodes[1].style.backgroundColor = 'Blue';

                editor.focus();
        });
</script> 
```

# mysql - 查找每个组的最高 n 值

> ID：12382009
> 
> 赞同：2
> 
> 时间：2012-09-12T05:58:49.620
> 
> 标签：mysql, sql, greatest-n-per-group

我遇到了同样的问题[Find the highest n values of each group in MySQL](https://stackoverflow.com/questions/6541963/finding-the-highest-n-values-of-each-group-in-mysql)

我有一些这样的数据：

```
+ --------- + ------------ +
| 车道 | 系列 |
+ --------- + ------------ +
| 1 | 680 |
| 1 | 685 |
| 1 | 688 |
| 2 | 第666章
| 2 | 425 |
| 2 | 775 |
+ --------- + ------------ +

```

而且我想抓住每条车道最高的 n 系列（为了这个例子，我们说 2，但它可能不止于此）所以输出应该是：

```
+ --------- + ------------ +
| 车道 | 系列 |
+ --------- + ------------ +
| 1 | 688 |
| 1 | 685 |
| 2 | 775 |
| 2 | 第666章
+ --------- + ------------ +

```

我认为具有“时髦” MySQL 特性的 SQL 相当不错。

```
set @count:=-1, @lane:=0; 
select lane, series
from (select lane, series from lane_series order by lane, series desc) x
where if(lane != @lane, @count:=-1, 0) is not null
and if(lane != @lane, @lane:=lane, lane) is not null
and (@count:=@count+1) < 2; -- Specify the number of row at top of each group here 
```

令我惊讶的是，它在 MySQL 5.0 和 MySQL 5.1 上运行良好，但它不适用于我的生产 MySQL 版本 MySQL 5.5。

MySQL 5.5 上的结果是这样的：

```
+ --------- + ------------ +
| 车道 | 系列 |
+ --------- + ------------ +
| 1 | 688 |
| 1 | 685 |
+ --------- + ------------ +

```

请帮助我使其在 MySQL 5.5 上运行或告诉我为什么结果不同，非常感谢！

更新：因为我的生产数据库中有大约 300 万条记录，我想知道如何以最快的方式获得结果，尽可能快。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T06:05:07.237

试试这个，也许它对你有用。

```
SELECT lane, series
FROM   tableA
WHERE (
        SELECT count(*)
        FROM   tableA AS f
        WHERE  f.lane = tableA.lane AND 
               f.series >= tableA.series
      ) <= 2
ORDER BY lane, series DESC 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/826d8/5)

# php - 如何让 DOM 解析器在解析数据之前等待脚本运行

> ID：12382010
> 
> 赞同：1
> 
> 时间：2012-09-12T05:59:02.143
> 
> 标签：php, jquery, dom, html-parsing, tablesorter

我有一个带有 html 表的页面，该表使用 tablesorter 并在加载时排序。我希望我的 dom 解析器脚本仅在排序后才从该表中获取行。现在它正在跳过排序并抓取之前的行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:07:35.207

使用 sortEnd 事件

```
$(document).ready(function() { 
    // call the tablesorter plugin, the magic happens in the markup 
    $("table").tablesorter(); 
    //assign the sortStart event 
    $("table").bind("sortStart",function() { 
        // Do stuff when the sorting begin
    }).bind("sortEnd",function() { 
        // To stuff when the sorting ends
    }); 
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:04:43.523

如果您在 Javascript 中使用 DOM Parser，请尝试将`defer="defer"`属性添加到 Javascript 的标记中。

如果您在 PHP 中使用该函数，则可以尝试`sleep()`根据需要多次调用该函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T07:24:42.287

您也可以尝试在完成排序事件上制作某种数据属性标志，并在php开始解析之前检查是否真的可以通过检查此标志来完成，如果没有，则再次等待并稍后再试。

# wpf - 对于使用单声道的人来说，什么是 WPF 的好选择？

> ID：12382014
> 
> 赞同：19
> 
> 时间：2012-09-12T05:59:33.437
> 
> 标签：wpf, mono

我正在研究制作音乐应用程序以随机​​生成吉他练习的方法，但我很难决定使用小部件工具包或 gui 来使用什么。为此，我一直被推荐给 WPF，但我想使用不支持 WPF 的 Mono。有没有类似 WPF 的东西支持 Mono 框架？如果不是，什么是合乎逻辑/好的选择，为什么？我正在考虑将 MonoMac 用于 OS X，将 GTK# 用于 Windows，如果这能说明什么的话。

请注意，我的大部分时间都花在了 MacBook Pro 上，我宁愿不必将旧的 Windows 桌面用作开发环境。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-12T06:30:32.963

Xamarin 支持一个名为 XWT 的新跨平台 UI 工具包 - [https://github.com/mono/xwt](https://github.com/mono/xwt) - （过度使用的名称，不要将其与各种其他 XWT 工具包混淆）。XWT 有各种后端引擎，包括 WPF、GTK# 和 Cocoa。

我没有使用它，并且怀疑它仍然很不成熟。但有了 Xamarin 的支持，以及您的一些耐心和反馈，它看起来是一个很好的支持项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-04T05:06:06.147

如果您不介意使用 WPF 的一小部分，则可以始终使用 .NET MicroFramework 的 WPF 库。不知道确切的限制，但值得一试。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-02T11:35:38.007

试试[WX.Net](http://wxnet.sourceforge.net/)

WX.Net 是 wxWidgets 的 .NET 公共语言基础结构 (CLI) 包装器。它由两部分组成：

*   wx-c 是一个 C++ 库，它将 wxWidgets API 公开为 C# 友好函数的集合。
*   WX.Net 是一个用 C# 编写的 .NET 程序集，它与 wxWidgets 类层次结构平行。

WX.Net 可以与 CLI 的各种实现一起使用，包括 .NET 和 Mono。

# python - 为什么 Web 框架从模板而不是逻辑块构建页面？

> ID：12382016
> 
> 赞同：1
> 
> 时间：2012-09-12T05:59:38.553
> 
> 标签：python, django, templates, web-frameworks, zope

我是 Web 框架的新手。我一直认为他们会从页面的**逻辑块**（布局、页眉、菜单、内容、页脚等）构建页面。然后他们将设置每个逻辑块（内容和外观）。

我简要介绍了以下框架：

*   姜戈
*   Web2py
*   佐佩
*   樱桃派

（我没有让 CubicWeb 工作。）

他们似乎都没有像我想象的那样工作。相反，他们依赖于**模板**系统，我必须在其中手动构建页面的所有琐碎元素。

显然，经过验证的方法背后必须有一些充分的理由，但我没有看到它们。

为什么框架不从逻辑块构建页面？是否有一些（python）框架按我预期的方式工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:10:16.250

您的问题描述了一个内容管理系统，而不是一个网络框架，它不仅仅用于呈现模板。例如，您可以使用网络框架来构建将内容类型呈现为块的 cms，尽管您可能会浪费时间重新发明轮子。

用于 Django 的块渲染 CMS 示例，[FeinCMS](http://www.feinheit.ch/media/labs/feincms/)

# nosql - 使用 Cassandra 进行单元版本控制

> ID：12382018
> 
> 赞同：3
> 
> 时间：2012-09-12T06:00:03.700
> 
> 标签：nosql, cassandra, hbase

我的应用程序对 DAO 层使用 AbstractFactory，因此一旦实现了 HBase DAO 系列，创建 Cassandra DAO 系列并从多个角度查看差异对我来说非常棒。
无论如何，尝试这样做，我看到 Cassandra 不支持像 HBase 这样的单元版本控制（我的应用程序强烈使用它）所以我想知道是否有一些表格设计技巧（或其他东西）来“模拟”这个Cassandra 中的行为

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T19:04:46.330

一种常见的策略是使用具有两个组成部分的复合列名：普通列名和版本。您用于版本组件的内容取决于您的访问模式。如果您可能同时有来自多个客户端的更新，那么使用 TimeUUID 是您最安全的选择。如果一次只能更新一个客户端，您可以使用较小的值，例如时间戳或版本号。

假设您为简单起见使用版本号，以下是存储带有版本化字段的文档的样子：

```
| ('body', 5) | ('body', 4) | ... | ('title', 1) | ('title', 0) |
|-------------|-------------|-----|--------------|--------------|
| 'Neque ...' | 'Dolor ...' | ... | 'Lorem Ipsum'| 'My Document'| 
```

如果您需要特定版本的字段、字段的所有版本或所有字段的所有版本，则此格式主要有用。

如果您还想支持一次有效地获取所有字段的最新版本，我建议您非规范化并添加第二个列族，其中每个字段的最新版本仅以其正常形式存储。您可以为每次更改盲目地覆盖这些字段。继续我们的例子，这个列族看起来像：

```
|   'body'    |    'title'    |
|-------------|---------------|
| 'Neque ...' | 'Lorem Ipsum' | 
```

# c - free() 函数给出核心转储错误

> ID：12382019
> 
> 赞同：0
> 
> 时间：2012-09-12T06:00:06.540
> 
> 标签：c, memory, free, mergesort, calloc

我为合并排序编写了一个简单的代码，但它给了我这个错误：

```
*** glibc detected *** ./merge: free(): invalid next size (fast): 0x09306058****Segmentation fault (core dumped) 
```

这是代码：

```
#include<stdio.h>
#include<stdlib.h>

void mergesort(int[], int, int);
void merge(int[], int, int, int);
void printarray(int[]);

int gs;
int main()
{
    int* a,i,s;
    printf("Enter size of the array\n");
    scanf("%d",&s);
    a = (int*)calloc(s,sizeof(int));
    gs = s;
    printf("Enter the array\n");
    for(i=0;i<s;i++)
    {
        scanf("%d",&a[i]);
    }

    printf("Showing the array\n");

    printarray(a);
    printf("\n");

    mergesort(a,0,s-1);

    printf("The sorted array is:\n");
    printarray(a);

    free(a);
    return 0;
}

void mergesort(int a[], int f, int l)
{
    int m;
    if(f<l)
    {
        m = (f+l)/2;
        mergesort(a,f,m);
        mergesort(a,m+1,l);
        merge(a,f,m,l);
    }
}

void merge(int a[], int f, int m, int l)
{
    int* t,i,j,h1,h2;
    t = (int*)calloc(l-f+1,sizeof(int));
    i = h1 = f;
    h2 = m+1;
    while(h1 <= m && h2 <= l)
    {
        if(a[h1] < a[h2])
        {
            t[i] = a[h1];
            h1++;
        }
        else
        {
            t[i] = a[h2];
            h2++;
        }
        i++;
    }

    if(h1>m)
    {
        for(j=h2; j<=l; j++)
        {
            t[i] = a[j];
            i++;
        }
    }
    else
    {
        for(j=h1; j<=m; j++)
        {
            t[i] = a[j];
            i++;
        }
    }

    for(j=f;j<=l;j++)
    a[j] = t[j];

    free(t);
    printarray(a);
}

void printarray(int a[])
{
    int i;
    for(i=0;i<gs;i++)
    printf("%d ",a[i]);
    printf("\n");
} 
```

我认为错误在于`free(t)`函数中的行`merge`。由于某种原因，该块没有以应有的方式释放。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T06:20:44.697

您正在分配超出 t 的范围。

```
int maxIdx = f+l-1;
int * const t = (int*)calloc(maxIdx,sizeof(int));

while(h1 <= m && h2 <= l) {
    assert(h1 < gs);
    assert(h2 < gs);
    assert(i < maxIdx);
    if(a[h1] < a[h2]) {
        t[i] = a[h1];
        h1++;
    } else {
        t[i] = a[h2];
        h2++;
    }
    i++;
} 
```

当我运行这个：

```
Assertion failed: (i < maxIdx), function merge, file crash.c, line 59. 
```

这正在发生 b/cl == 1 因此 i 比最大允许索引大 1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:18:50.657

在合并中使 i 等于 0 而不是 f ，然后在将数组复制回时相应地移动索引。

编辑：这是[ideone中带有示例的固定代码](http://ideone.com/slwh2)

# axis2 - 在 Websphere7.0 中部署 AXIS2 时出现异常

> ID：12382020
> 
> 赞同：0
> 
> 时间：2012-09-12T06:00:07.553
> 
> 标签：axis2, websphere-7

我在 Websphere7 App.Server 中部署了 AXIS2.WAR 文件。当我访问 AXIS 管理控制台时，我得到了这个异常 谁能给我一个想法是怎么回事？

这是异常日志

无效的 ping-1.6.2.jar 模块导致 org.apache.axis2.ping.PingMessageReceiver 与 org.apache.axis2.engine.MessageReceiver org.apache.axis2.deployment.DeploymentException: org.apache 不兼容。 axis2.ping.PingMessageReceiver 与 org.apache.axis2.deployment.repository.util.ArchiveReader.readModuleArchive(ArchiveReader.java:527) 的 org.apache.axis2.deployment.ModuleDeployer 的 org.apache.axis2.engine.MessageReceiver 不兼容。在 org.apache.axis2.deployment.repository.util.DeploymentFileData.deploy(DeploymentFileData.java:136) 在 org.apache.axis2.deployment.DeploymentEngine.doDeploy(DeploymentEngine.java:813) 部署（ModuleDeployer.java:77）在 org.apache.axis2.deployment.RepositoryListener 的 org.apache.axis2.deployment.RepositoryListener.loadClassPathModules(RepositoryListener.java:222)。init2(RepositoryListener.java:71) 在 org.apache.axis2.deployment.RepositoryListener.(RepositoryListener.java:64) 在 org.apache.axis2.deployment.DeploymentEngine.loadRepository(DeploymentEngine.java:158) 在 org.apache。 axis2.deployment.WarBasedAxisConfigurator.getAxisConfiguration(WarBasedAxisConfigurator.java:228) 在 org.apache.axis2.context.ConfigurationContextFactory.createConfigurationContext(ConfigurationContextFactory.java:64) 在 org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet. java:584) 在 org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454) 在 com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:325) 在 com.ibm .ws.webcontainer.servlet.ServletWrapperImpl.init(ServletWrapperImpl.java:165) 在 com.ibm.ws.webcontainer.servlet.ServletWrapper。com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443) 上的 handleRequest(ServletWrapper.java:628) com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:175)在 com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3610) 在 com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:274) 在 com.ibm.ws.webcontainer .WebContainer.handleRequest(WebContainer.java:926) 在 com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1557) 在 com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:173 ) 在 com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:455) 在 com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation(HttpInboundLink.java:384) 在 com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83) 在 com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)在 com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217) 在 com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161) 在 com.ibm.io.async.AsyncFuture.completed (AsyncFuture.java:138) 在 com.ibm.io.async.ResultHandler.complete(ResultHandler.java:202) 在 com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:766) 在 com.ibm。 io.async.ResultHandler$2.run(ResultHandler.java:896) at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1527) 原因：java.lang.ClassCastException: org.apache.axis2 .ping。PingMessageReceiver 与 org.apache.axis2.deployment.DescriptionBuilder.loadMessageReceiver(DescriptionBuilder.java:192) 中的 org.apache.axis2.engine.MessageReceiver 不兼容 org.apache.axis2.deployment.ModuleBuilder.processOperations(ModuleBuilder.java:306)在 org.apache.axis2.deployment.ModuleBuilder.populateModule(ModuleBuilder.java:220) 在 org.apache.axis2.deployment.repository.util.ArchiveReader.readModuleArchive(ArchiveReader.java:514) ... 32 更多 [9/ 12/12 11:17:09:377 GMT+05:30] 00000029 SystemOut O [INFO] org.apache.axis2.AxisFault：系统正在尝试使用不可用的模块：寻址 [9/12/12 11:17:09:378 GMT+05:30] 00000029 servlet E com.ibm.ws.webcontainer.servlet.ServletWrapper init SRVE0100E：由 servlet AxisServlet 在应用程序 axis2_war 中创建的未捕获的 init() 异常：javax.servlet.ServletException: javax.servlet.ServletException: org.apache.axis2.AxisFault: 系统正在尝试使用不可用的模块：寻址 org.apache.axis2.transport.http.AxisServlet.init(AxisServlet .java:462) 在 com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:325) 在 com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.init(ServletWrapperImpl.java:165) 在 com。 ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:628) 在 com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443) 在 com.ibm.ws.webcontainer.servlet。 ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:175) 在 com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3610) 在 com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:274) 在 com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:926) 在 com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1557) 在 com.ibm.ws.webcontainer .channel.WCChannelLink.ready(WCChannelLink.java:173) 在 com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:455) 在 com.ibm.ws.http.channel.inbound .impl.HttpInboundLink.handleNewInformation(HttpInboundLink.java:384) 在 com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83) 在 com.ibm.ws.tcp.channel.impl .AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165) 在 com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217) 在 com.ibm.io.async.AsyncChannelFuture。fireCompletionActions(AsyncChannelFuture.java:161) 在 com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138) 在 com.ibm.io.async.ResultHandler.complete(ResultHandler.java:202) 在 com.ibm .io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:766) 在 com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:896) 在 com.ibm.ws.util.ThreadPool$Worker.run( ThreadPool.java:1527) 原因：javax.servlet.ServletException：org.apache.axis2.AxisFault：系统正在尝试使用不可用的模块：寻址 org.apache.axis2.transport.http.AxisServlet。 initConfigContext(AxisServlet.java:591) at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454) ... 21 更多原因：org.apache.axis2.AxisFault：系统正在尝试使用不可用的模块：在 org.apache.axis2.engine.AxisConfiguration.engageGlobalModules(AxisConfiguration.java:705) 在 org.apache.axis2.deployment.DeploymentEngine 的 org.apache.axis2.engine.AxisConfiguration.engageModule(AxisConfiguration.java:584) 寻址。 org.apache.axis2.deployment.WarBasedAxisConfigurator.engageGlobalModules(WarBasedAxisConfigurator.java:300) 的engageModules(DeploymentEngine.java:831) org.apache.axis2.context.ConfigurationContextFactory.createConfigurationContext(ConfigurationContextFactory.java:94) .axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584) ... 22 更多DeploymentEngine.engageModules(DeploymentEngine.java:831) at org.apache.axis2.deployment.WarBasedAxisConfigurator.engageGlobalModules(WarBasedAxisConfigurator.java:300) at org.apache.axis2.context.ConfigurationContextFactory.createConfigurationContext(ConfigurationContextFactory.java:94) at org .apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584) ... 22 更多DeploymentEngine.engageModules(DeploymentEngine.java:831) at org.apache.axis2.deployment.WarBasedAxisConfigurator.engageGlobalModules(WarBasedAxisConfigurator.java:300) at org.apache.axis2.context.ConfigurationContextFactory.createConfigurationContext(ConfigurationContextFactory.java:94) at org .apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584) ... 22 更多

[9/12/12 11:17:09:380 GMT+05:30] 00000029 webapp E com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E：[Servlet 错误]-[AxisServlet]：org.apache.axis2 .AxisFault：系统正在尝试使用不可用的模块：在 org.apache.axis2.engine.AxisConfiguration.engageGlobalModules(AxisConfiguration) 处寻址 org.apache.axis2.engine.AxisConfiguration.engageModule(AxisConfiguration.java:584) .java:705) 在 org.apache.axis2.deployment.WarBasedAxisConfigurator.engageGlobalModules(WarBasedAxisConfigurator.java:300) 在 org.apache.axis2 的 org.apache.axis2.deployment.DeploymentEngine.engageModules(DeploymentEngine.java:831)。 context.ConfigurationContextFactory.createConfigurationContext(ConfigurationContextFactory.java:94) 在 org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584) 在 org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454) 在 com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:325) 在 com.ibm .ws.webcontainer.servlet.ServletWrapperImpl.init(ServletWrapperImpl.java:165) 在 com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:628) 在 com.ibm.ws.webcontainer.servlet.ServletWrapper .handleRequest(ServletWrapper.java:443) 在 com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:175) 在 com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3610) ) 在 com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:926) 在 com.ibm.ws.webcontainer 的 com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:274)。 WSWeb 容器。com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:173) 处的 handleRequest(WSWebContainer.java:1557) com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink. java:455) 在 com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation(HttpInboundLink.java:384) 在 com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback. java:83) 在 com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217) 在 com.ibm.ioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165) .io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161) 在 com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138) 在 com.ibm.io.async.ResultHandler。在 com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:896) 在 com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:766) 在 com.ibm.io.async.ResultHandler.runEventProcessingLoop 完成（ResultHandler.java:202）。 ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1527)

[9/12/12 11:17:09:388 GMT+05:30] 00000029 servlet I com.ibm.ws.webcontainer.servlet.ServletWrapper init SRVE0242I: [axis2_war] [/axis2] [/axis2-web/Error

谢谢罗摩克里希纳乔达里

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T21:12:08.913

以下文档中给出了在 WebSphere 7.0 上部署 Axis2 的必要步骤：

[http://axis.apache.org/axis2/java/core/docs/app_server.html#WebSphere](http://axis.apache.org/axis2/java/core/docs/app_server.html#WebSphere)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-04T11:21:13.977

尝试从 WEB-INF/conf 目录中删除 axis2.xml 文件。它会起作用的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-18T07:21:26.697

将以下行添加到 conf 文件夹中的axis2.xml 中： transportReceiver name="http" class="org.apache.axis2.transport.http.AxisServletListener"

参数名称="端口">90809443

保存并重新启动服务器并检查。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2015-07-08T11:40:07.563

按照以下完整步骤操作：http: [//zacktutorials.blogspot.in/2014/04/axis2-installation-in-websphere-80-to.html](http://zacktutorials.blogspot.in/2014/04/axis2-installation-in-websphere-80-to.html)

然后从 conf 文件夹中删除axis2.xml。这个对我有用

# iphone - 控制“允许推送通知”警报

> ID：12382021
> 
> 赞同：0
> 
> 时间：2012-09-12T06:00:22.017
> 
> 标签：iphone, ios5, push-notification, ios6

当我注册我的应用程序以获取推送通知时，我会在启动时收到一条警报，询问是否允许注册我的应用程序以获取推送通知。我的问题是（如果你知道的话，适用于 iOS5 和 iOS 6）：

1.  我对该警报有什么控制权？
2.  我可以控制该警报，不显示它，并让用户稍后在应用程序中使用复选框/按钮允许/不允许推送通知。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:11:05.580

您无法控制推送通知 alertView。

您可以做的是检查允许的推送类型：

`[[UIApplication sharedApplication] enabledRemoteNotificationTypes]`

进入应用程序并通知用户转到设置并为您的应用程序启用推送通知。

# asp.net - 部分在 Sharepoint 和 ASP.NET 中开发网站

> ID：12382023
> 
> 赞同：0
> 
> 时间：2012-09-12T06:00:37.430
> 
> 标签：asp.net

我可以使用内容管理系统（即 Sharepoint）开发网站的一部分并使用核心 ASP.NET 开发其他几个部分吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:05:26.800

是的你可以。sharepoint 网站可以包含 asp.net 页面并运行它们。只需构建您的 Web 应用程序并将 asp.net 页面放在您的站点可以访问的目录中，使用 aspx 文件在 sharepoint 中创建页面并将您的应用程序吐出的 dll 文件放在您的 sharepoint 站点的 bin 目录中。

# java - 如何使用 POI 删除工作表之间的空白行？

> ID：12382024
> 
> 赞同：5
> 
> 时间：2012-09-12T06:00:40.747
> 
> 标签：java, excel, apache-poi

我想使用 POI 从 Excel 表中删除空白行。

我们有类似`shiftRow()`or的方法，`removeRow()`但它不适用于这种情况。请帮我完成它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-15T10:44:36.153

请尝试以下代码。当存在多个连续的空白行时，它也适用于我。

```
 for(int i = 0; i < sheet.getLastRowNum(); i++){
        if(sheet.getRow(i)==null){
            isRowEmpty=true;
            sheet.shiftRows(i + 1, sheet.getLastRowNum(), -1);
            i--;
        continue;
        }
        for(int j =0; j<sheet.getRow(i).getLastCellNum();j++){
            if(sheet.getRow(i).getCell(j).toString().trim().equals("")){
                isRowEmpty=true;
            }else {
                isRowEmpty=false;
                break;
            }
        }
        if(isRowEmpty==true){
            sheet.shiftRows(i + 1, sheet.getLastRowNum(), -1);
            i--;
        }
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-09-18T23:34:22.157

更改@Sankumarsingh 代码以使其工作

@Sankumarsingh 代码对我不起作用，因为它没有删除空的第一行。此问题的修复方法是：

```
private void removeEmptyRows(XSSFSheet sheet) {
    Boolean isRowEmpty = Boolean.FALSE;
    for(int i = 0; i <= sheet.getLastRowNum(); i++){
      if(sheet.getRow(i)==null){
        isRowEmpty=true;
        sheet.shiftRows(i + 1, sheet.getLastRowNum()+1, -1);
        i--;
        continue;
      }
      for(int j =0; j<sheet.getRow(i).getLastCellNum();j++){
        if(sheet.getRow(i).getCell(j) == null || 
        sheet.getRow(i).getCell(j).toString().trim().equals("")){
          isRowEmpty=true;
        }else {
          isRowEmpty=false;
          break;
        }
      }
      if(isRowEmpty==true){
        sheet.shiftRows(i + 1, sheet.getLastRowNum()+1, -1);
        i--;
      }
    }
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T06:13:08.697

虽然没有测试，试试这个：

```
HSSFSheet sheet = workBook.getSheetAt(0);
HSSFRow row = sheet.getRow(0);
sheet.removeRow(row); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-11T06:26:36.157

这是一种在单元格已删除作为非空行的行时中断单元格读取的方法

```
while(cellsIterator.hasNext()) {
                Cell currentCell = cellsIterator.next();

                if(currentCell.getCellType() == Cell.CELL_TYPE_BLANK) {
                    this.currentArraySheet.put("Headers",this.currentArraySheetHeaders);
                    this.currentArraySheet.put("Rows",this.currentArraySheetRows);
                    return;
                }

                if (currentCell.getCellTypeEnum() == CellType.STRING) {
                    System.out.print(currentCell.getStringCellValue() + " | ");
                } else if (currentCell.getCellTypeEnum() == CellType.NUMERIC) {
                    System.out.print(currentCell.getNumericCellValue() + "| ");
                } else if (currentCell.getCellTypeEnum() == CellType.BOOLEAN) {
                    System.out.println(currentCell.getBooleanCellValue() + " | ");
                }
} 
```

# android - Android adb 和 C++

> ID：12382027
> 
> 赞同：1
> 
> 时间：2012-09-12T06:00:55.977
> 
> 标签：android, c++, mfc, adb, file-transfer

我正在编写一个 C++ 程序 (MFC)，用于在台式机和平板电脑之间自动传输文件。但是，我使用的平板电脑被识别为 MTP 设备，并且没有分配驱动器号；因此我无法从 C++ 访问内部文件夹（除非有办法，但我找不到）。

有没有办法通过 C++ 运行 adb 来自动化文件传输。或者也许通过 VB 脚本？

我只是想找到自动传输文件的方法。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:28:49.400

`adb push``system()`是一种明显的方式，从or`::CreateProcess()`运行adb

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:06:42.273

当您默认启用调试时，您无法获得 MTP 分配。您可以手动导航设备中的菜单并选择连接大容量存储，（此时您应该会看到stroage及其各自的驱动器号），或者禁用调试并选择连接大容量存储作为连接USB时的默认设置， （并且它将始终连接并显示驱动器号）。一旦设备处于正确模式，您应该可以轻松连接到板载存储。

# ios - AppDelegate 没有可见界面声明选择器

> ID：12382031
> 
> 赞同：0
> 
> 时间：2012-09-12T06:01:16.953
> 
> 标签：ios, class-method, appdelegate

AppDelegate.h：

```
@interface AppDelegate : UIResponder <UIApplicationDelegate, UITabBarControllerDelegate>

+ (MBProgressHUD *)showGlobalProgressHUDWithTitle:(NSString *)title; 
```

AppDelegate.m:

```
+ (MBProgressHUD *)showGlobalProgressHUDWithTitle:(NSString *)title {
UIWindow *window = [[[UIApplication sharedApplication] windows] lastObject];
[MBProgressHUD hideAllHUDsForView:window animated:YES];
MBProgressHUD *hud = [MBProgressHUD showHUDAddedTo:window animated:YES];
hud.labelText = title;
return hud;
} 
```

在 AppDelegate.m 的 someOtherMethod 中：

```
[self showGlobalProgressHUDWithTitle:@"Checking for Updates"];  //No visible interface for AppDelegate declares the selector 'showGlobalProgressHUDWithTitle:' 
```

为什么？界面中的其他方法都是可见的，但为什么不是这个呢？它与作为类方法有关吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:04:49.807

您正在从对象实例（self）调用类方法。

在您的方法声明和实现中将 + 更改为 - ，然后您就完成了排序。

# ruby - 如果为空，如何不传递参数？

> ID：12382044
> 
> 赞同：0
> 
> 时间：2012-09-12T06:02:36.253
> 
> 标签：ruby

我将 ruby​​ 从 1.8.x 升级到 1.9.3

```
Pony.mail(
    :to => to, 
    :from => from,
    :subject => subject, 
    :body => Nokogiri::HTML(body_with_footer).text, 
    :html_body =>  body_with_footer, #.gsub("\n","<BR>"),
    :attachments => attachment_to_send,
    :via => :smtp, 
    :via_options => {
            :address     => $smtp,
            :port     => $smtp_port,
            :enable_starttls_auto => false
    }
) 
```

attachment_to_send 应该是要附加的文件的哈希值。当哈希为空时，不发送附件。现在我收到一个小马错误，抱怨哈希是“”​​。

所以我引入了一个 if 条件`attachment_to_send==""`，所以我称 pony 有或没有附件部分。

有什么办法可以管理吗？所以我只有一个叫小马的代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:10:44.113

通过以下方式检查空条件来准备您的附件数组，

```
 tmp_hash = {:to => to, 
             :from => from,
             :subject => subject, 
             :body => Nokogiri::HTML(body_with_footer).text, 
             :html_body =>  body_with_footer, #.gsub("\n","<BR>"),
             :via => :smtp, 
             :via_options => {
                            :address     => $smtp,
                            :port     => $smtp_port,
                            :enable_starttls_auto => false
                             }
             } 
```

和

```
tmp_hash[:attachments] => attachment_to_send
tmp_hash[:attachments] => nil if attachment_to_send.empty? 
```

或直接，

```
 tmp_hash[:attachments] =>  attachment_to_send if not attachment_to_send.empty? 
```

进而

```
Pony.mail( tmp_hash) 
```

应该管用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:20:03.923

用三元运算符处理`attachment_to_send.empty? ? nil : attachment_to_send`

```
 details = {
            :to => to, 
            :from => from,
            :subject => subject, 
            :body => Nokogiri::HTML(body_with_footer).text, 
            :html_body =>  body_with_footer, #.gsub("\n","<BR>"),
            :attachments => attachment_to_send.empty? ? nil : attachment_to_send ,
            :via => :smtp, 
            :via_options => {
                    :address     => $smtp,
                    :port     => $smtp_port,
                    :enable_starttls_auto => false
            }

Pony.mail(details) 
```

# jakarta-ee - 如何在 Java EE Web 应用程序中以编程方式获取当前 GPS 位置

> ID：12382050
> 
> 赞同：2
> 
> 时间：2012-09-12T06:03:06.390
> 
> 标签：jakarta-ee

假设我目前在新加坡，我想从数据库中检索商店的地址，并想向用户显示商店名称（在当前位置附近）。我应该使用哪个 API？

PS。我的应用程序是带有 Struts 和 Spring 框架的 Java EE。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T05:35:05.727

[http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation](http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation)

它帮助了我正是我想要的:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:09:49.293

使用谷歌地图 API：

[http://developers.google.com/maps/](http://developers.google.com/maps/)

# php - PDO 执行（$input_parameter）作为 bindParam/bindValue 防止 sql 注入？

> ID：12382053
> 
> 赞同：9
> 
> 时间：2012-09-12T06:03:44.493
> 
> 标签：php, sql, pdo

是否`execute($input_parameter)`像防止sql注入一样`bindParam/bindValue`？

如果答案是肯定的，`bindParam()/bindValue()/execute()`是否对任何 sql-inject 攻击都无懈可击？或者我需要采取措施防止此类攻击？

感谢帮助！。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T08:24:57.777

就`execute($input_parameters)`单独`bindParam/bindValue/execute`步骤的安全性而言，答案似乎基本上是肯定的。

但是，您可能仍需要采取进一步措施，具体取决于您构建传递给`PDO::prepare`调用的查询字符串的方式。并非总是可以对准备好的查询字符串中的所有内容进行参数化。例如，您不能将参数用于表名或列名。如果您允许用户数据或任何外部数据进入该查询字符串，您仍必须在将字符串传递给`prepare`. 有关更多详细信息，请参阅这些 stackoverflow 问题：

*   [PDO 准备好的语句有多安全](https://stackoverflow.com/questions/1314521/how-safe-are-pdo-prepared-statements)
*   [PDO 准备好的语句是否足以防止 SQL 注入？](https://stackoverflow.com/questions/134099/are-pdo-prepared-statements-sufficient-to-prevent-sql-injection)

一般来说，无论如何您都应该过滤所有输入数据，所以如果您想更加安全，您可以使用适合您需要的过滤器来清理任何用于 SQL 类型内容的输入数据，或者甚至编写 FILTER_CALLBACK 自定义函数，如果您希望。对于来自用户提供的数据的表或列名称，一种常见的验证技术是根据允许的名称数组检查值。

希望这可以帮助。祝你好运。注意安全！;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:10:04.893

是的，它做同样的事情。我不能说它是无懈可击的，因为底层 SQL 引擎本身可能是脆弱的。但这真的不在你的手中了。

因此，出于所有实际原因，是的，它是安全的。

编辑：查看[PHP 文档](http://php.net/manual/en/pdostatement.execute.php)（第一个和第二个示例）。一是搭配`bindParam()`，二是用途`execute()`。

# wordpress - 为特定 URL 使用重写规则启用 https

> ID：12382057
> 
> 赞同：0
> 
> 时间：2012-09-12T06:04:12.057
> 
> 标签：wordpress, apache, mod-rewrite, ssl

我是 Apache 新手，我发现理解重写规则语法非常困难。

这是我的设置：我在 mydomain.com 有一个 Wordpress MU 站点我已经停放了指向 mydomain.com 的域 site1、site2.com

我想要什么：我希望这个 URL [http://mydomain.com/wp-login.php](http://mydomain.com/wp-login.php)重定向到相同的地址，但首先使用 https。我已经看过几个关于如何做到这一点的教程，但是有一个问题。

我的问题：如果我使用类似的东西

```
#RewriteCond %{HTTPS} !=on
#RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
```

这也将我的其他站点重定向到 https 版本，因为它们是停放的域并有效地加载了相同的 htaccess 代码；由于我拥有的证书仅适用于 mydomain.com，因此我收到证书错误。

我只需要保护 mydomain.com 上的页面，而只需要保护 wp-login.php 页面。另一个问题是这个页面可以在 URL 中移动，IE：

mydomain.com/wp-login.php

mydomain.com/somecracp/wp-login.php

mydomain.com/wp-login.php?xys=5653

我需要一个正则表达式来检测 mydomain.com 的域名和 URL 中任意位置的 wp-login.php。然后我需要为他们强制使用 https。任何人都可以为我构建代码吗？

更新：我可能已经找到了问题的一部分。似乎登录页面本身也在尝试进行一些重定向。[当我访问站点http://mysite.com/wp-admin](http://mysite.com/wp-admin)的管理部分时，它会检测到您未登录；然后它会将您重定向到登录页面，但在末尾附加一个 redirect_to 查询字符串，如下所示：

```
http://mydomain.com/subdomain/wp-login.php?redirect_to=http%3A%2F%2Fmydomain.com%2Fsubdomain%2Fwp-admin%2F&reauth=1 
```

这样做似乎是为了在您成功登录后，它可以将您重定向到您之前尝试访问的管理部分。这个“redirect_to”以及它后面的内容是您登录后将重定向到的 URL。

我不会详细说明为什么，但是有没有办法可以强制它覆盖上面的 URL 以访问 mydomain.com/wp-login.php 而没有任何 rediret_to 废话？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:08:21.210

尝试这个：

```
RewriteCond %{HTTP_HOST} ^(www\.)?mydomain.com$ [NC]
RewriteCond %{HTTPS} !on
RewriteRule wp-login.php https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,QSA] 
```

正则表达式部分`RewriteRule`检查请求中是否有任何实例`wp-login.php`，如果有，则重定向到 https。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:59:48.483

尝试

```
RewriteCond %{HTTPS} off
RewriteCond %{REQUEST_URI} wp-login.php [NC]
RewriteRule https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
```

rewriteCondition 将检查 https 是否关闭并且请求 uri 是否包含 wp-login.php，然后重定向。

# java - android中集合排序的使用

> ID：12382058
> 
> 赞同：1
> 
> 时间：2012-09-12T06:04:24.283
> 
> 标签：java, android, sorting

我有这样的列表数组

```
array list={Rank,Shyam,"Sores","Hintus",Ander} 
```

我在用着`Collections.sort(arraylist);`

我是这样的：

```
"Hintus"
"Sores"
Ander
Rank 
```

我在列表中的任何其他字符串之前获取带有特殊字符的字符串。

但我想得到这样的结果：

```
Ander
Rank
"Hintus"
"Sores" 
```

我如何获得所需的订单？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:08:22.990

指定一个[`Comparator`](http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html)忽略它们的...请注意，这*可能*代价高昂。

```
Collectons.sort(list, new Comparator<String>() {

  public int compare(final String a, final String b) {
    return a.replace("\"", "").compareTo(b.replace("\"", ""));
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:08:01.697

您可以自己创建一个比较器，并在比较器中编写您的排序标准。然后使用此比较器对数组列表进行排序。

# android - 阻止相机保存文件，直到我的所有处理都在 Titanium SDK 中完成

> ID：12382062
> 
> 赞同：0
> 
> 时间：2012-09-12T06:04:38.487
> 
> 标签：android, ios, camera, titanium, titanium-mobile

我正在使用钛 sdk 进行移动应用程序开发。

我只是在寻找可以阻止相机保存图像的任何方法。我不想保存图像，直到下线几步，以便所有信息都得到验证。

我的意思是，假设在通过应用程序单击图像后，如果用户选择取消按钮，则图像不应出现在图库中。

IOS和android都需要功能。

非常感谢 ...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T14:41:36.483

您需要将 saveToPhotoGallery 设置为 false 并在 Titanium.Media.showCamera() 的成功功能上放置您的逻辑，并在他们单击保存按钮时保存到图库

```
Titanium.Media.showCamera({
    success:function(event) {
        // called when media returned from the camera
        Ti.API.debug('Our type was: '+event.mediaType);
        if(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
            //
            //add your logic here
            //

            //onSave
            Titanium.Media.saveToPhotoGallery(event.media);
        } else {
            alert("got the wrong type back ="+event.mediaType);
        }
    },
    cancel:function() {
        // called when user cancels taking a picture
    },
    error:function(error) {
        // called when there's an error
        var a = Titanium.UI.createAlertDialog({title:'Camera'});
        if (error.code == Titanium.Media.NO_CAMERA) {
            a.setMessage('Please run this test on device');
        } else {
            a.setMessage('Unexpected error: ' + error.code);
        }
        a.show();
    },
    saveToPhotoGallery: false,
    allowEditing: true,
    mediaTypes: [Ti.Media.MEDIA_TYPE_PHOTO]
}); 
```

# android - Android手机上的应用程序可以在睡眠模式下更新吗？

> ID：12382065
> 
> 赞同：4
> 
> 时间：2012-09-12T06:04:45.470
> 
> 标签：android, google-play, updates, google-cloud-messaging

Android 手机可以处于 3 种状态：唤醒、睡眠和关机。请参阅：[Android：Android 设备上的睡眠阶段/级别？](https://stackoverflow.com/questions/5007721/android-sleep-stages-levels-on-an-android-device)

在睡眠模式屏幕熄灭，CPU 与 Wi-Fi 和 GPS 无线电一起关闭。请参阅：http: [//developer.android.com/reference/android/os/PowerManager.html](http://developer.android.com/reference/android/os/PowerManager.html)和[Android 睡眠/待机模式](https://stackoverflow.com/questions/5120185/android-sleep-standby-mode)

但是 GSM 或 CDMA 无线电仍然可以工作，并且该设备可以接收来电、短信和 IP 数据包。此外，谷歌推出了新的谷歌云消息服务，该服务向设备发送数据，据我所知，必要时可以唤醒设备。请参阅：http: [//developer.android.com/guide/google/gcm/index.html](http://developer.android.com/guide/google/gcm/index.html)

所以，我的问题是：如果设备处于睡眠模式，Android 设备上的应用程序可以通过 Google Play 更新吗？我的意思是 Google Play 是否允许从云端接收某种消息、唤醒设备和更新应用程序？我假设应用程序允许自动更新，并且可以通过移动网络（3G/4G）进行更新。

谢谢你。

**更新**：我做了一些研究，碰巧尼皮的回答和评论是正确的。我没有看到任何更新来唤醒我的设备，但是一旦设备唤醒，更新机制就会开始正常工作。因此，理论上，Google Play 商店可以在设备唤醒后立即开始更新您的应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:54:30.317

该设备能够在睡眠模式下处理推送消息。

一旦您通过 play.google.com 触发更新，这将发出一个推送请求，从而唤醒您的设备。更新将立即安装。

所以，它在睡眠模式下不起作用，但如果设备得到唤醒的触发器，它就会做必须做的事情。

# xml - 使用spring覆盖属性文件

> ID：12382070
> 
> 赞同：4
> 
> 时间：2012-09-12T06:05:09.367
> 
> 标签：xml, spring, javabeans, placeholder

我在我的 Spring (3.1) XML 之一中定义了以下属性文件：

```
<context:property-placeholder location="classpath:MyConfigFile.properties"/> 
```

我希望能够定义第二个**可选**属性文件，它将覆盖“MyConfigFile.properties”文件并被加载而不是它。

换句话说，我希望我的应用程序加载“MyConfigFile.properties”文件，但如果“StrogerConfigFile.properties”将在类路径中可用，它将被加载。

任何人都知道如何使用 Spring XML 来完成它？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-12T07:05:46.800

```
<context:property-placeholder location="file:///[path]/override1.properties, file:///[path]/override2.properties" properties-ref="defaultProps" />

<bean id="defaultProps" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
    <property name="locations">
        <array>
            <value>classpath:default1.properties</value>
            <value>classpath:default2.properties</value>
        </array>
    </property>
    <property name="properties">
        <util:properties local-override="true">
            <prop key="some.property">some value</prop>
        </util:properties>
    </property>
</bean> 
```

这是我使用的非常灵活的设置。允许您直接在 xml 中具有基本默认值，在属性文件中具有默认值并在另一个属性文件中覆盖。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:29:06.543

你有没有尝试过

```
<property name="ignoreResourceNotFound" value="true"/>
<property name="locations">
    <list>
        <value>classpath:default.properties</value>
        <value>classpath:overwrite.properties</value>
    </list>
</property> 
```

# c++ - 防止逆向工程 C++ 二进制文件

> ID：12382071
> 
> 赞同：2
> 
> 时间：2012-09-12T06:05:12.617
> 
> 标签：c++, reverse-engineering

我已经阅读了几篇关于该主题的文章，[并](http://www.codeproject.com/Articles/30815/An-Anti-Reverse-Engineering-Guide)实现了大部分描述的技术。但我也想在二进制文件中添加一些额外的未引用/从未使用过的代码。理想情况下，我希望能够通过工具将此代码添加到构建的二进制文件中。有这样的工具吗？关于如何构建这样一个工具的任何想法？或者如何生成一些从未使用过的代码并将其添加到我的 C++ 程序中？我应该把它放在哪里？

在对 Skype 内部的分析中，我读到他们尽可能地弄乱了代码。实现它的一种方法是动态计算每个调用：

```
if ( sin(a) == 42 ) {
   do_dummy_stuff () ;
} 
```

我应该进入虚拟功能吗？或者虚拟函数是从未使用过的代码？

更新：我想将从未使用过的代码添加到二进制文件的原因是因为我们发布了许多电子书。我希望每个的二进制文件都有一点不同，所以如果一个被泄露，其他的不会（至少不是马上）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:12:57.340

如果我没听错，你说的是[混淆](http://en.wikipedia.org/wiki/Obfuscation_%28software%29)。

[Stackoverflow 上的这个问题](https://stackoverflow.com/questions/1025494/obfuscating-c-c-code)涵盖了该主题。有很多软件会混淆 C++ 代码，快速谷歌搜索会显示很多这样的应用程序，例如[this](http://www.pcsentinelsoftware.com/products/mangleit/install_mangler_cpp.php)或[this](http://www.stunnix.com/prod/cxxo/overview.shtml)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T06:12:48.543

> 有这样的工具吗？

就在这里。它被称为具有适当参数的编译器，并添加一个链接器。添加到此组合[条](http://unixhelp.ed.ac.uk/CGI/man-cgi?strip)中，您将获得一个合适的库。

严肃地说，[没有办法防止逆向工程](https://stackoverflow.com/questions/6481668/protecting-executable-from-reverse-engineering)。你只能让饼干变得更难（或更烦人）。你可以看看[这篇文章](http://www.gamasutra.com/view/feature/3030/keeping_the_pirates_at_bay.php)（spyro 的开发者尝试了各种盗版保护）

# android - android中的Facebook注销选项

> ID：12382073
> 
> 赞同：0
> 
> 时间：2012-09-12T06:05:39.590
> 
> 标签：android, facebook

我在我的活动中使用*注销*按钮。当我单击此按钮时，我在我的 DDMS Logcat 中收到以下响应，用于 Facebook Activity 中的*Logout*方法。

```
09-12 11:28:59.619: I/Logout(848): {"error_code":101,"error_msg":"Invalid application ID.","request_args":[{"key":"method","value":"auth.expireSession"},{"key":"format","value":"json"}]} 
```

但是当我再次运行应用程序时，它要求我*登录*。这是否意味着它已成功注销？

# c - 子字符串 C 程序中的分段错误

> ID：12382074
> 
> 赞同：0
> 
> 时间：2012-09-12T06:05:58.373
> 
> 标签：c, string, segmentation-fault

我正在尝试从现有字符串中提取子字符串。但是它抛出了分段错误错误。它在早上执行得很好，但我不知道为什么它现在给出了段错误。请有人帮助我。

```
#include <stdio.h>
#include <string.h>

int main ()
{
  char str[] ="1017122,1,10,?,1,1";
  char * pch,*pch1;
  FILE *fp;
  char *str1,*str2;
  int noofattr=0;
  int strlen1;

  /*if(remove("abc.txt") != 0)
  perror("The file is successfully deleted.\n");
  else
  printf("Error in deleting the file.\n");
*/

  printf ("Splitting string \"%s\" into tokens:\n",str);
  pch = strtok (str,",");
  while(pch!=NULL)
  {
          if(strcmp(pch,"?")!=0)
          {
                strcat(str1,pch);
                strcat(str1,",");
          }
          else
          {
                strcat(str1,pch);
                strcat(str1,",");
          }
          pch = strtok (NULL,",");
          noofattr++;
  }

  strlen1=strlen(str1);
  //memcpy(str2,&str1,strlen1-1);
//  strncpy(str1,str1+0,strlen1-1);
  printf("\nThe formatted string is %s and its length is %d\n",str1,strlen1);
  printf("\nThe total no. of attributes except SCN are %d\n",noofattr);
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:10:27.450

`str1`指向内存中的一个随机位置，您必须（是的，必须）将其设置为一个足够大的缓冲区，以便在尝试 a 之前保存最终结果`strcat`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:12:01.490

你`str1`没有分配，当然它会出现段错误。

# bash - 比较两个文件列（未排序的文件）

> ID：12382081
> 
> 赞同：2
> 
> 时间：2012-09-12T06:06:25.283
> 
> 标签：bash, unix, sed, awk

**输入文件 1**

```
A1  123 AA
B1  123 BB
C2  44  CC1
D1  12  DD1
E1  11  EE1 
```

**输入文件 2**

```
A   sad21   1
DD1 124f2   2
CC  123tges 3
BB  124sdf  4
AA  1asrf   5 
```

**输出文件**

```
A1  123 AA  1asrf   5
B1  123 BB  124sdf  4
D1  12  DD1 124f2   2 
```

**输出文件的制作**

我们检查输入文件 1 的第 3 列和输入文件 2 的第 1 列。

如果它们匹配，我们将其打印到输出文件中。

**笔记 ：**

文件未排序

我试过 ：

```
join -t, A B | awk -F "\t"  'BEGIN{OFS="\t"} {if ($3==$4) print $1,$2,$3,$4,$6}' 
```

但这不起作用，因为文件未排序。所以条件 ($3==$4) 不会一直有效。请帮忙 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T08:40:06.167

您*可以*使用`join`，但您需要先对键字段进行排序，并告知`join`第一个文件中的键是第 3 列 ( `-1 3`)：

```
join -1 3 <(sort -k 3,3 file1) <(sort file2) 
```

将为您提供正确的字段，输出（[`column -t`](https://unix.stackexchange.com/a/47833/17666)用于输出格式）：

```
AA   A1  123  1asrf   5
BB   B1  123  124sdf  4
DD1  D1  12   124f2   2 
```

要获得问题中列出的相同列排序，您需要指定输出格式：

```
join -1 3 -o 1.1,1.2,1.3,2.2,2.3 <(sort -k 3,3 file1) <(sort file2) 
```

即文件 1 字段 1 到 3，然后文件 2 字段 2 和 3。输出（再次使用[`column -t`](https://unix.stackexchange.com/a/47833/17666)）：

```
A1  123  AA   1asrf   5
B1  123  BB   124sdf  4
D1  12   DD1  124f2   2 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T08:57:50.910

```
nawk 'FNR==NR{a[$3]=$0;next}{if($1 in a){p=$1;$1="";print a[p],$0}}' file1 file2 
```

测试如下：

```
> cat file1
A1      123     AA
B1      123     BB
C2      44      CC1
D1      12      DD1
E1      11      EE1
> cat file2
A       sad21   1
DD1     124f2   2
CC      123tges 3
BB      124sdf  4
AA      1asrf   5
> awk 'FNR==NR{a[$3]=$0;next}{if($1 in a){p=$1;$1="";print a[p],$0}}' file1 file2
D1      12      DD1  124f2 2
B1      123     BB  124sdf 4
A1      123     AA  1asrf 5
> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T06:15:07.167

一种使用方式`awk`：

```
awk 'BEGIN { FS=OFS="\t" } FNR==NR { array[$1]=$2 OFS $3; next } { if ($3 in array) print $0, array[$3] }' file2.txt file1.txt 
```

结果：

```
A1  123 AA  1asrf   5
B1  123 BB  124sdf  4
D1  12  DD1 124f2   2 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-12T07:53:12.097

```
perl -F'/\t/' -anle 'BEGIN{$f=1}if($f==1){$H{$F[2]}=$_;$f++ if eof}else{$l=$H{$F[0]};print join("\t",$l,@F[1..$#F]) if defined$l}' f1.txt f2.txt 
```

或更短

```
perl -F'/\t/' -anle'$f?($l=$H{$F[0]})&&print(join"\t",$l,@F[1..$#F]):($H{$F[2]}=$_);eof&&$f++' f1.txt f2.txt 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-12T10:06:06.297

这可能对您有用（GNU sed）：

```
sed 's|\(\S*\)\(.*\)|/\\s\1$/s/$/\2/p|' file2 | sed -nf - file1 
```

# pagination - 是否有分页链接微数据条目？

> ID：12382085
> 
> 赞同：12
> 
> 时间：2012-09-12T06:06:32.850
> 
> 标签：pagination, web-crawler, microdata, schema.org

面包屑链接有一个微数据：[http](http://www.data-vocabulary.org/Breadcrumb/) ://www.data-vocabulary.org/Breadcrumb/ 但是页面链接是否有类似的微数据，例如：[<-] 3 4 5[prev] 6[current] 7[下一个] 8 9 10 11 [->]

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-13T07:27:20.090

是的，例如[`pagination`](http://schema.org/pagination)，该项目的属性..[`Article`](http://schema.org/Article)

但是对于收藏页面，没有直接的方法，至少我不知道。无论如何，这些页面通常不适合索引。但如果你对此有强烈的感觉...

* * *

## 1.) Schema.org / SiteNavigationElement

您可以使用[Schema.org](http://schema.org/)[`SiteNavigationElement`](http://schema.org/SiteNavigationElement)并将其[扩展](http://schema.org/docs/old_extension.html)为分页元素：

### 例子：

```
<!-- The container for your pagination markup -->
<div itemscope itemtype="http://schema.org/SiteNavigationElement/Pagination">
  ... 
```

* * *

## 2.) Schema.org/WebPage/relatedLink

> 与此网页相关的链接，例如与其他相关网页的链接。

该[`WebPage`](http://schema.org/WebPage)项目有一个名为的属性[`relatedLink`](http://schema.org/relatedLink)，可以说可以用于分页目的。使用[`CollectionPage`](http://schema.org/CollectionPage)，这是该项目的扩展`WebPage`，您仍然可以声明有相关页面。此属性也可以[扩展](http://schema.org/docs/old_extension.html)以实现更高的语义：

### 例子

```
<!-- The pagination link -->
<a itemprop="relatedLink/pagination" href="...">...</a> 
```

* * *

## 关系属性

此外，请查看`rel="next"`并`rel="prev"`完成与主题相关的标记。

### 例子：

```
...
<head>
  <link rel="prev" href="http://www.example.com/article?story=abc&page=1" />
  <link rel="next" href="http://www.example.com/article?story=abc&page=3" />
  ... 
```

查看[Google 网站管理员中心博客](http://googlewebmastercentral.blogspot.se/2011/09/pagination-with-relnext-and-relprev.html)或[WHATWG](https://html.spec.whatwg.org/multipage/semantics.html#sequential-link-types)了解更多信息。

# linux - 两个目录内容的区别

> ID：12382086
> 
> 赞同：5
> 
> 时间：2012-09-12T06:06:39.140
> 
> 标签：linux

我发现两个目录之间的所有 cpp、header 和 shell 脚本文件都有不同，这两个目录也可以有子目录。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-12T06:13:37.123

您可以使用 diff 的递归选项

```
diff -r old_dir new_dir 
```

# apache - 为什么我的虚拟主机匹配没有域名？

> ID：12382087
> 
> 赞同：0
> 
> 时间：2012-09-12T06:06:40.497
> 
> 标签：apache

我的`httpd-vhosts.conf`文件配置如下：

```
<VirtualHost seg.localhost:81>
    ServerAdmin my@email.com
    DocumentRoot "D:\path\to\public_html"
    ServerName http://seg.localhost
    ServerAlias http://seg.localhost
    ErrorLog "logs/seg.log"
    CustomLog "logs/seg" common
    <directory "D:\path\to\public_html">
        Options Indexes FollowSymLinks
        AllowOverride all
        Order Deny,Allow
        Deny from all
        Allow from all
    </directory>
</VirtualHost> 
```

但是当我进入`http://localhost:81/`我的浏览器时，它仍然在点击那个文件夹。为什么子域被忽略？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:13:16.483

如果您使用基于名称的虚拟主机，最顶层的虚拟主机（`<VirtualHost>`块的第一个实例）被认为是*“默认”*`<VirtualHost>`虚拟主机，这意味着如果请求的主机与任何给定的 's不匹配，使用最上面的那个。

您可以通过添加一个简单地拒绝所有内容的新顶级虚拟主机来解决此问题：

```
<VirtualHost seg.localhost:81>
   ServerName _default_
   DocumentRoot "D:\path\to\public_html"
   <Directory "D:\path\to\public_html">
      Order Allow,Deny
      Deny from all
   </Directory>
</VirtualHost> 
```

或者让它重定向到 seg.localhost，或者你想处理它。

# .net - 使用 XML 保存多条数据，无需存储过程 (.net/sqlcommand)

> ID：12382097
> 
> 赞同：0
> 
> 时间：2012-09-12T06:07:55.860
> 
> 标签：.net

我想在我的应用程序中保存多条数据，我可以在我的存储过程中使用 XML 来保存多个数据位，但我的客户不想使用存储过程。那么有没有办法在数据库中保存多条记录？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:03:36.260

我正在使用**SqlBulkCopy** 和它为我工作

# c++ - 为什么 xcode 4.4.1 在尝试使用 getaddrinfo 时会出错？

> ID：12382108
> 
> 赞同：0
> 
> 时间：2012-09-12T06:08:39.730
> 
> 标签：c++, xcode, sockets, xcode4.4, getaddrinfo

我正在使用 xcode 4.4.1 在 c++ 中进行套接字编程。我想我已经包含了所需的头文件。但我仍然收到错误消息：

“调用‘getaddrinfo’没有匹配的函数”。

[这里](https://stackoverflow.com/questions/11071678/why-does-it-matter-if-the-include-are-in-the-h-file-or-in-cpp-file)有重复的问题 我包含的头文件是

```
#include <string.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netdb.h>
#include <arpa/inet.h> 
```

# html - html 5 中的输入类型编号不起作用？

> ID：12382110
> 
> 赞同：6
> 
> 时间：2012-09-12T06:08:51.727
> 
> 标签：html

```
<form name="form" method="get" action="" >
Number : 
<input type="number" name="num" id="num" min="1" max="5" required="required"/> <br/>
Email :
<input type="email" name="email" id="email"  required="required"/> <br />
<input type="submit" name="submit" id="submit" value="submit"  />
</form> 
```

提交表格时也采用字母表。未生成错误消息 数字类型不起作用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T06:19:51.623

这是您在 HTML5 中使用输入类型编号的方式：

```
<input type="number" name="cost"> 
```

这是[输入类型 number](http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_input_type_number)的工作示例。

如果你想添加验证试试这个：

```
<input type="number" pattern="[0-9]*" name="cost"> 
```

这是[模式属性](http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_input_pattern)的一个工作示例。

**注意：**输入[类型编号](http://caniuse.com/input-number)和[模式属性](http://wufoo.com/html5/attributes/10-pattern.html)都具有有限的浏览器支持。

# java - Tomcat websocket 不工作

> ID：12382113
> 
> 赞同：6
> 
> 时间：2012-09-12T06:09:04.940
> 
> 标签：java, javascript, tomcat, websocket

我尝试了如下 websocket 示例代码，我的浏览器支持 HTML 5 websocket，但下面的示例代码总是在 javascript 中提示“关闭”。代码会发生什么？

**websocket.java**

```
 @WebServlet("/websocket")
    public class websocket extends WebSocketServlet {
        private static final long serialVersionUID = 1L;

        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
            response.getWriter().println("welcome to websocket 2");
            response.getWriter().flush();   
    }

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        // TODO Auto-generated method stub
    }

    @Override
    protected StreamInbound createWebSocketInbound(String arg0,
            HttpServletRequest arg1) {

        return new TheWebSocket();
    }

    private class TheWebSocket extends MessageInbound
    {
        private WsOutbound outbound;

        @Override
        public void onOpen( WsOutbound outbound )
        {
            this.outbound = outbound;
             System.out.println("socket opened!");
        }

        @Override
        public void onTextMessage( CharBuffer buffer ) throws IOException
        {
            try
            {
                    outbound.writeTextMessage( CharBuffer.wrap( "abc testing".toCharArray() ) );
                    System.out.println("Message sent from server.");
            }
            catch ( IOException ioException )
            {
                    System.out.println("error opening websocket");
            }

        }

        @Override
        protected void onBinaryMessage(ByteBuffer arg0) throws IOException {
            // TODO Auto-generated method stub

        }
    }

} 
```

**索引.jsp**

```
<%@ page language="java" contentType="text/html; charset=UTF-8"  
    pageEncoding="UTF-8"%>  
<!DOCTYPE html>  
<html>  
<head>  
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  
<title>Index</title>  
<script type="text/javascript">  
var ws = null;  
function startWebSocket() {  
    if ('WebSocket' in window)  
        ws = new WebSocket("ws://localhost:8080/web_test/websocket");  
    else if ('MozWebSocket' in window)  
        ws = new MozWebSocket("ws://localhost:8080/web_test/websocket");  
    else  
        alert("not support");  

    ws.onmessage = function(evt) {  
        alert(evt.data);  
    };  

    ws.onclose = function(evt) {  
        alert("close");  
    };  

    ws.onopen = function(evt) {  
        alert("open");  
    };  
}  

function sendMsg() {  
    ws.send(document.getElementById('writeMsg').value);  
}  
</script>  
</head>  
<body onload="startWebSocket();">  
<input type="text" id="writeMsg"></input>  
<input type="button" value="send" onclick="sendMsg()"></input>  
</body>  
</html> 
```

当我连接到“http://localhost:8080/web_test/websocket”时，我得到了正确的消息，即“欢迎使用 websocket 2”。而我的 index.jsp 文件在 web_test 之后的根目录下。所以，我的部署应该没问题，但有些地方是错误的。我就是想不通。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T10:22:23.007

从您的 servlet 代码中注释或删除这两个方法，然后尝试 web sockets 工作正常。如果这两个存在于 servlet 中，websocket 将关闭状态

```
protected void doGet(HttpServletRequest request,
            HttpServletResponse response) throws ServletException, IOException {
        response.getWriter().println("welcome to websocket 2");
        response.getWriter().flush();
    }

    protected void doPost(HttpServletRequest request,
            HttpServletResponse response) throws ServletException, IOException {
        // TODO Auto-generated method stub
    } 
```

# asp.net - 使用 ASP.NET Membership 时避免多次调用 GetUser

> ID：12382114
> 
> 赞同：1
> 
> 时间：2012-09-12T06:09:07.827
> 
> 标签：asp.net, asp.net-mvc-3, asp.net-membership, membership-provider

我在 ASP.NET MVC 3 Web 应用程序项目中使用 ASP.NET Membership。

我已经使用安装了 ASP.NET 成员表`Aspnet_regsql.exe`，现在我的主`userTable`有一个名为“userID”的外键，它指向 aspnet_Users 的“UserId”。

这个“userTable”连接到许多表。因此，现在对于每个操作，我都需要使用用户登录的用户名从 aspnet_User 获取“UserId”。

为此，我使用

```
 MembershipUser user = Membership.Provider.GetUser(username, true); 
```

现在对于每一项操作，我都必须拨打这个电话并`user.ProviderUserKey`继续我的其他操作。

我认为必须有更好的方法来做到这一点。有任何内置方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:31:05.643

ASP.NET Membership Provider 不打算提供 ProviderUserKey ...也许您可以改用用户名？您始终可以通过 Context.User.Identity.Name 轻松访问它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T08:58:34.543

You can keep the relevant information around in the cache, for example in a `Dictionary<string, Guid>` where the key is the user name (which you can lookup using HttpContext.Current.User.Identity.Name or Thread.CurrentPrincipal.Identity.Name), and the ProviderUserKey is the value.

Build this dictionary either on-demand or initialize it once, and put it in the ASP.NET Cache, Session or Application (of course watch our for serialization and concurrency issues).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T07:34:38.220

您获取一次用户信息并将其放入**表单身份验证 cookie**中，并加密用户数据。

对于后续调用，您使用**Context.Identity**作为用户信息

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:47:44.063

我总是使用：

```
Guid userId = (Guid)Membership.GetUser().ProviderUserKey; 
```

# c# - 如何在 DataList 中显示条件复选框

> ID：12382120
> 
> 赞同：0
> 
> 时间：2012-09-12T06:10:00.023
> 
> 标签：c#, asp.net

**如果**绑定数据源中的特定列具有特定值，我需要在 DataList 中显示一个复选框。

意味着寻找一个特定的值。如果存在则显示复选框，否则不显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:28:02.770

处理[DataList.ItemDataBound](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datalist.itemdatabound.aspx)事件以获取复选框控件并在不需要时设置`Visible`或隐藏样式`false`。`display:none`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:32:29.563

您可以在您的 aspx 页面中执行以下操作：

```
<% if(valueToCheck == columnValue) {%>
<add checkbox here>
<% } %> 
```

我没有尝试过，但它给了你基本的想法

# javascript - 在单击按钮之前和之后禁用提交按钮

> ID：12382122
> 
> 赞同：1
> 
> 时间：2012-09-12T06:10:07.513
> 
> 标签：javascript, jquery, checkbox, submit

我试图让这个例子在这里工作，但无法[隐藏提交按钮](http://jsfiddle.net/Hudt8/21/)

这是同一类型的另一个示例：[隐藏提交直到选中复选框](http://jsfiddle.net/XZyjw/63/) 奇怪的是我在我的 MS 表达式网络上尝试了上面的演示并在 Chrome 中预览它，但没有奏效。我想要的就是隐藏提交按钮，直到用户填写所有空白并同意服务条款，然后按钮才会出现。这是第一部分。

第二部分是我想在点击提交按钮后隐藏提交按钮......就像这个例子：[demo: hide button after submit](http://jsfiddle.net/sCgZ9/9/)，但当我自己尝试时这个也不起作用......

是否可以将这两个代码结合起来，这样它的工作方式就是我可以隐藏提交按钮，直到填写必填字段并在提交表单时再次隐藏它......

非常感谢您的帮助...

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T06:14:46.303

HTML：

```
<form>
    <table>
        <tr><td align="center"><input type="checkbox" name="agree" id="agree">I agree Terms and Conditions</td></tr>
        <tr><td align="center"><input type="submit" name="submit" id="submit" style="display:none" value="submit"></td></tr>
    </table>
</form> 
```

Javascript：

```
$(function() {
    $('#agree').change(function() {
        $('#submit').hide();
        if(this.checked){
            $('#submit').show();   
        }
    });
    $('#submit').on('click', function(){
        $('#submit').hide();
    });
}); 
```

[JSFiddle](http://jsfiddle.net/8Fccj/)

# android - 套接字对象值为空

> ID：12382126
> 
> 赞同：0
> 
> 时间：2012-09-12T06:10:28.463
> 
> 标签：android, sockets

我在使用套接字库时遇到问题。

```
import java.io.*;
import java.net.*;

public class SocketAdapter{

    Socket mySocket=null;
    PrintWriter out=null;
    BufferedReader in=null;

    public SocketAdapter(String host,int port){

        try {
            InetAddress serverAddr = InetAddress.getByName(host);

            mySocket = new Socket(serverAddr, port);
        } catch (UnknownHostException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        try {
            out = new PrintWriter(mySocket.getOutputStream(), true);
        } catch (NullPointerException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        try {
            in = new BufferedReader(new InputStreamReader(mySocket.getInputStream()));
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    public void writeto(String data){
         out.println(data);
    }

    public String readdata(){

        String fromSocket=null;
        try {
            fromSocket = in.readLine();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }// blocking 
        return fromSocket;

    }
    public void close(){

        try {
            in.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        try {
            mySocket.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

} 
```

我通过我的主要活动中的第二个线程访问这个类。在调试器中，mySocket 的值始终为空。我不知道我做错了什么，但我很确定它是基本的。

编辑：原来套接字对象为空，因为应用程序没有互联网权限触发了 IOException。

在清单中修复了它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:15:16.397

在构造函数中捕获异常没有多大意义。它只是误导其余代码假设对象已完全构造，而实际上还没有。更改构造函数以*抛出*这些异常并删除所有 try/catch，并在调用站点相应地捕获异常。然后，您再也无法从此代码中获得空的 Socket 引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:35:47.097

使用 Socket 变量作为静态变量可能会起作用。静态套接字 mySocket = null;

或使用单独的函数来获取套接字连接。

```
public Socket getSocketConnection(String strServerIP , int iPort) 
{
    try 
    {               
        Socket s = new Socket(strServerIP,iPort);  
        return s;
    }
    catch (Exception e) 
    {           
            return null;
    }
  }// End getSocketConnection Method. 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-12T06:59:44.187

如果您正在处理多个线程，则需要通过承包商进行同步。您可以自己实现它或将`SocketAdapter`类实例定义为[volotile](http://www.javamex.com/tutorials/synchronization_volatile.shtml)。

也请阅读[这个](http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html)

# c++ - 用于导出 C++ 类的 boost::hash_value 内联函数

> ID：12382127
> 
> 赞同：0
> 
> 时间：2012-09-12T06:10:29.120
> 
> 标签：c++, boost, dll, shared-libraries, inline

所以我正在`boost::hash_value`为我的类实现一个从共享库导出的覆盖。我希望`hash_value`每个使用此类的人都可以使用该功能。目前我的 hash_value 函数已导出并在 cpp 文件中定义，即使它只是调用我的类的内联成员。相反，我希望这个 hash_value 函数也被内联以避免不必要的函数调用。目前标题是这样的：

```
#ifdef MYDLL
#define MY_API __export
#else
#define MY_API __import
#endif

class MY_API MyGUID
{
public:
     ...
     inline size_t Hash() const
     {  return m1 ^ m2; }
     ...
private:
     size_t m1,m2;
};

namespace boost
{
    // Defined in .cpp file; just returns inGUID.Hash();
    MY_API size_t hash_value(const MyGUID &inGUID);
} 
```

但我希望 hash_value 更像：

```
 namespace boost
    {
        // I'd like to inline this, like so:
        static inline size_t hash_value(const MyGUID &inGUID)
        { 
             return inGUID.Hash();
        }
    } 
```

除了上面的代码在包含它的每个 .cpp 文件中定义 hash_value 之外，很可能会乱扔二进制文件，并且原则上是丑陋的。

撇开函数调用是否会在性能上产生可衡量的差异的问题不谈，我怎样才能让这个共享库的客户端内联我的类的 Hash 函数，这些客户端在像ordered_set 这样的散列容器中使用 MyGUID？

我怀疑它涉及模板，但我不太清楚如何。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T18:59:05.517

如果您查看内部`boost/functional/hash/hash.hpp`，您会看到现有类型的 hash_value 定义如下：

```
inline std::size_t hash_value(bool v)
{
    return static_cast<std::size_t>(v);
} 
```

如果 boost 已经使用了技术，这就是你的暗示，你也可以安全地做同样的事情！关于您对在头文件中使用效率低下的担忧`inline`，这正是它被设计为使用的方式，并且由于您的函数只是转发到另一个函数调用，它可能根本不会导致代码大小的增加。

除非你打算用预处理器指令做一些非常花哨的事情，否则使用它没有多大意义`static inline`，即，如果你只需要这个函数的一个版本，只需将它标记为`inline`。

# javascript - 使用 jquery .load('pageName') 方法时未从应用程序缓存加载 Html 页面

> ID：12382128
> 
> 赞同：2
> 
> 时间：2012-09-12T06:10:40.023
> 
> 标签：javascript, jquery, asp.net, html

我正在尝试实现`html5 offline cache`我们的 html 页面的功能，它适用于`jquery version 1.4`.

但是当我使用jquery 1.8时，我使用jquery方法加载的html页面出现了问题`load()`。IE;

```
$('#divName').load('htmlPageName')
{
   // some functionailty
} 
```

**HTML 未呈现**。似乎所有页面都已下载，因此缓存没有问题。如果我们不使用其他页面可以正常工作`.load()`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:17:16.907

给出 htmlpagename 的扩展名，如果你需要回调函数，你可以拥有`$("#divName").load('htmlPageName','',myFunc);` ，你可以在这个特定的函数中拥有你想要实现的任何东西

函数 myFunc(){ }

# javascript - Javascript/jQuery 在 Chrome 和 Safari 中为网页添加书签

> ID：12382135
> 
> 赞同：2
> 
> 时间：2012-09-12T06:11:10.773
> 
> 标签：javascript, jquery, bookmarks

我有一个代码可以在 IE、FF 和 Opera 中成功地为链接添加书签；但是相同的脚本在 Chrome 和 Safari 中不起作用。我研究了很多，没有发现任何有价值的东西，如果有人分享如何在 Chrome 和 Safari 浏览器中成功实现它，那将非常有帮助。请在下面找到我使用的 JavaScript 函数。

```
 <script language="JavaScript" type="text/javascript">
     function CreateBookmarkLink() {
     chkpar = "<?=$_SERVER['PHP_SELF']?>";

     var title="";

     if(chkpar=="" || chkpar=="/index_sub.php" || chkpar=="/index.php")
        {
                title="My Home Page";
        }

     url = "http://www.mysite.com<?=$_SERVER['PHP_SELF']?>";

            if (window.sidebar) { // Mozilla Firefox Bookmark
                    window.sidebar.addPanel(title, url,"");
            } else if(window.external) { // IE Favorite
                    window.external.AddFavorite( url, title); }
            else if(window.opera && window.print) { // Opera Hotlist
                    return true; }
     }
    </script> 
```

# php - 我们如何在 PHP 中为进度条回显数据？

> ID：12382137
> 
> 赞同：0
> 
> 时间：2012-09-12T06:11:36.653
> 
> 标签：php, jquery, jquery-ui, progress-bar

我们正在使用 Jquery UI 开发 ProgressBar。我们面临一些问题，即我们没有从 PHP 中获取值。我们无法创建一个可以将值返回到基于 Ajax 的代码的数字循环。

下面是我们的代码：

**HTML**

```
<!DOCTYPE html>
<html>
<head>
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<style type="text/css">
  #bardivs {
   width:400px; /* or whatever the of the porgress bar is */
  /* 
   The position of #bardivs must be something other than
   static (the default) so that its children will be positioned
   relative to it.
   */
  position:relative;
  }
 #progresstext {
position:absolute;
top:0;
left:0;
}
 </style>
  <script>
  var url = "http://localhost/sample/data.php";
 $(function() {
  var progress = 0;
 //alert("some value" + value, value);
$("#progressbar").progressbar({ progress: 0 });
  setTimeout(updateProgress, 500);
 });
 function updateProgress() {
var progress;
$.get(url, function(data) {
    // data contains whatever that page returns     
    if (data < 100) {
        $("#progressbar").progressbar("option", "value", data);
        $("#progresstext").html("<p>    Loading...<p>");
        setTimeout(updateProgress, 500);
       } else {
        $("#progressbar")
          .progressbar("option", "value", 100);
    }

    }); 
  }
 </script>
</head>
<div id="bardivs">
<div id="progressbar"></div>
<div id="progresstext"></div>
</div>
</html> 
```

我们不知道如何让 PHP 中的代码使用这个加载函数。它应该在一个循环中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:28:04.290

没有这样`progress: 0`的，进度是衡量的`value`，你应该制作数据`INT`，因为它是字符串：

```
$("#progressbar").progressbar({ value: 0 });
    setTimeout(updateProgress, 500);
});
function updateProgress() {
    var progress;
    $.get(url, function(data) {
        // data contains whatever that page returns     
        if (data < 100) {
            $("#progressbar").progressbar({value: parseInt(data)});
            $("#progresstext").html("<p>    Loading...<p>");
            setTimeout(updateProgress, 500);
        } else {
            $("#progressbar").progressbar({value: 100});
        }
    }); 
} 
```

在 php 中确保根据脚本更新进度

```
<?php
     $data = get_progress();
     echo (int)$data;
?> 
```

# jquery - jquery ui select插件无法识别的表达式

> ID：12382138
> 
> 赞同：3
> 
> 时间：2012-09-12T06:11:39.803
> 
> 标签：jquery

我正在使用 jquery 1.8.1 并收到以下错误。它与 jquery ui select 插件相关，源自第二个代码片段。

```
Uncaught Error: Syntax error, unrecognized expression: li:not(.ui-selectmenu-group).slice(1,2) 
```

***jquery-ui-select.js***

```
.bind('mouseout.selectmenu blur.selectmenu', function() {
    if ($(this).is(self._selectedOptionLi().selector)) { //<-- Originates here
        $(this).addClass(activeClass);
    }
    $(this).removeClass(self.widgetBaseClass + '-item-focus ui-state-hover');
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T15:21:14.180

尝试升级到最新版本的[Selectmenu](https://github.com/fnagel/jquery-ui/wiki/Selectmenu)。当我将网站升级到最新的 jQuery 版本（1.8.3）时，这为我解决了这个问题。似乎 selectmenu API 中的一些旧代码从未起作用，并且在升级 jQuery 时，它开始抛出错误。

# cordova - 为什么在 xcode4.3 中创建新项目时不在 phonegap2.0 版本中显示 phonegap 图标

> ID：12382142
> 
> 赞同：1
> 
> 时间：2012-09-12T06:12:01.693
> 
> 标签：cordova, xcode4.2, xcode4.3

我也是 iphone 开发和 phonegap 的新手。现在我在我的 lion mac Xcode4.3 上安装了 phonegap2.0 版本。现在我看到在 xcode4.3 中创建新项目时没有显示 phonegap 图标。但是phonegap1.5中显示的phonegap图标。我附上了屏幕短片。

这个屏幕简称是phonegap2.0

![在此处输入图像描述](../Images/a63a477c374557a1411bc396bfd6750f.png)

这个屏幕短是 phonegap1.5 使用这个 phonegap 开发任何应用程序有什么问题吗？![在此处输入图像描述](../Images/9fcb113fa1a233a052dc79bdeb70f851.png).

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:54:49.773

*最近，我下载了 phone gap 2.0.0 版本并安装在 Mac OSX 10.7.1 和 Xcode 4.2 版本上。我也遇到了同样的问题，（实际上根本不是问题）。您可以使用终端创建 PhoneGap 应用程序 :-) 刚刚在此处确认：*

*来源*

[https://chat.stackoverflow.com/rooms/11300/phonegap](https://chat.stackoverflow.com/rooms/11300/phonegap)

*或者，如果我们仍然可以在第二个屏幕中看到类似的内容，我也想知道：]*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:59:48.363

我们再见面！^^

phonegap 2.0.0版本没有图标好像是正常的...

事实上，根据在线文档（[http://docs.phonegap.com/en/2.0.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iOS](http://docs.phonegap.com/en/2.0.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iOS)），XCode 项目文件是用终端（`Terminal.app`）。

创建此项目文件后，您可以使用 XCode 打开它并使用开发工具，就像使用 phonegap 版本 1.5.0 进行开发一样。

尝试按照在线文档中描述的步骤进行操作。如果你还有问题，可以问我问题^^。

希望这些信息有帮助:)

# java - 设置外观颜色

> ID：12382143
> 
> 赞同：2
> 
> 时间：2012-09-12T06:12:19.993
> 
> 标签：java, swing, look-and-feel, nimbus, uimanager

我在我的 Java Swing 应用程序中使用 Nimbus Look & Feel。L&F 看起来很棒，但我需要更改一些设置（字体、颜色、...）以适应我公司的企业形象。

以下代码设置整个应用程序的 L&F：

 `````
try {
    for( LookAndFeelInfo info : UIManager.getInstalledLookAndFeels() ) {
        if( "Nimbus".equals( info.getName() ) ) {
            UIManager.setLookAndFeel(info.getClassName());
            customizeNimbusLaF();
            break;
        }
    }
}
catch( Exception e ) {
    LogUtility.warning( "cannot set application look and feel" );
    LogUtility.warning( e.getMessage() );
} 
```` 

 `代码做了，它应该做什么（设置 Nimbus 的外观和感觉）。问题是，它`customizeNimbusLaF()`不起作用，正如我所期望的那样。` 

 ``````
private final void customizeNimbusLaF() {       
    UIManager.put( "control" , UIConstants.GREY_LIGHT );
    UIManager.put( "nimbusAlertYellow" , UIConstants.YELLOW );
    UIManager.put( "nimbusBase" , UIConstants.GREY_DARK );
    UIManager.put( "nimbusDisabledText" , UIConstants.GREY_DARK );
    UIManager.put( "nimbusFocus" , UIConstants.BLUE_LIGHT );
    UIManager.put( "nimbusGreen" , UIConstants.GREEN );
    UIManager.put( "nimbusInfoBlue" , UIConstants.BLUE_MIDDLE );
    UIManager.put( "nimbusRed", UIConstants.RED );
    UIManager.put( "nimbusSelectionBackground",
    UIConstants.BLUE_MIDDLE );

    UIManager.put( "background" ,UIConstants.GREY_LIGHT );
    UIManager.put( "controlDkShadow" , UIConstants.GREY_DARK );
    UIManager.put( "controlShadow", UIConstants.GREY_MIDDLE );
    UIManager.put( "desktop", UIConstants.BLUE_MIDDLE );
    UIManager.put( "menu", UIConstants.GREY_LIGHT );
    UIManager.put( "nimbusBorder", UIConstants.GREY_MIDDLE );
    UIManager.put( "nimbusSelection", UIConstants.BLUE_MIDDLE );
    UIManager.put( "textBackground", UIConstants.BLUE_LIGHT );
    UIManager.put( "textHighlight", UIConstants.BLUE_LIGHT );
    UIManager.put( "textInactiveText", UIConstants.GREY_MIDDLE );

    // panel
    UIManager.put( "Panel.background", UIConstants.GREY_LIGHT );
    UIManager.put( "Panel.disabled", UIConstants.GREY_LIGHT );
    UIManager.put( "Panel.font", UIConstants.DEFAULT_FONT );
    UIManager.put( "Panel.opaque", true );

    // button
    UIManager.put( "Button.background", UIConstants.GREY_LIGHT );
    UIManager.put( "Button.disabled", UIConstants.GREY_LIGHT );
    UIManager.put( "Button.disabledText", UIConstants.BLUE_MIDDLE );
    UIManager.put( "Button.font", UIConstants.DEFAULT_FONT );

    // menu
    UIManager.put( "Menu.background", UIConstants.GREY_LIGHT );
    UIManager.put( "Menu.disabled", UIConstants.GREY_LIGHT );
    UIManager.put( "Menu.disabledText", UIConstants.GREY_DARK );
    UIManager.put( "Menu.font", UIConstants.MENU_FONT );
    UIManager.put( "Menu.foreground", UIConstants.BLACK );
    UIManager.put( "Menu[Disabled].textForeground",
            UIConstants.GREY_MIDDLE );
    UIManager.put( "Menu[Enabled].textForeground", UIConstants.BLACK );
    UIManager.put( "MenuBar.background", UIConstants.GREY_LIGHT );
    UIManager.put( "MenuBar.disabled", UIConstants.GREY_LIGHT );
    UIManager.put( "MenuBar.font", UIConstants.MENU_FONT );
    UIManager.put( "MenuBar:Menu[Disabled].textForeground",
            UIConstants.GREY_MIDDLE );
    UIManager.put( "MenuBar:Menu[Enabled].textForeground",
            UIConstants.BLACK );
    UIManager.put( "MenuItem.background", UIConstants.GREY_LIGHT );
    UIManager.put( "MenuItem.disabled", UIConstants.GREY_LIGHT );
    UIManager.put( "MenuItem.disabledText", UIConstants.GREY_MIDDLE );
    UIManager.put( "MenuItem.font", UIConstants.MENU_FONT );
    UIManager.put( "MenuItem.foreground", UIConstants.BLACK );
    UIManager.put( "MenuItem[Disabled].textForeground",
            UIConstants.GREY_MIDDLE );
    UIManager.put( "MenuItem[Enabled].textForeground",
            UIConstants.BLACK );

    // tree
    UIManager.put( "Tree.background", UIConstants.BLACK );      
} 
````  `中的常量的数据`UIConstants`类型`Color`是`Font`取决于要设置的属性的类型。

问题是，只有少数外观和感觉选项发生了变化。诸如树背景之类的选项不会根据外观上的选项而改变。我知道这一点，如果我更改组件的画家，那么只有一些事情会改变。但是例如JPanel 没有这样的painter 属性，但也会产生问题。

我有第二个关于外观的问题：例如 menuBar 的画家不是应该使用在原色部分中设置的颜色，还是我需要为此使用自己的画家？

有人可以告诉我我的问题在哪里吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T06:31:20.943

1.设置更改有点hacky，必须设置L&F，然后可以对安装的L&F进行任何更改

伪代码

```
if( "Nimbus".equals( info.getName() ) ) {
   UIManager.setLookAndFeel(info.getClassName());
   UIManager.getLookAndFeelDefaults().put("Xxx", "Xxx")
   UIManager.getLookAndFeelDefaults().put("Xxx", "Xxx")
   break;
} 
```

2.字体和部分颜色存储为所有 Swings L&F 的 XxxUIResources，并且[XxxUIResources 需要另一个 hack](https://stackoverflow.com/questions/9958004/change-font-at-runtime)，

3.更好的方法是使用@camickr 的[UIManager Defaults](http://tips4java.wordpress.com/2008/10/09/uimanager-defaults/)来获取已安装方法的列表，而不是搜索[NimbusDefaults](http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/_nimbusDefaults.html#menubar)

4.[关于 Painter](https://stackoverflow.com/questions/12369783/nimbus-look-and-feel-adjust-colors-of-menubar)，您可以设置自己的 Painter （取决于 UIDefaults 中的类型或值）或覆盖 XxxUIResources （取决于类型，有时，有些不起作用，因为 Nimbus 的开发在 2nd. of quaters 的某个地方结束了），

编辑

5.[周围没有比这更好的了](http://aephyr.googlecode.com/svn/trunk/)，我认为是`@aephyr`参加的`Nimbus development` 还是 ei ???

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T10:46:17.953

我发现了主要问题。`SwingUtilities.updateComponentTreeUI( window )`在将所有外观和感觉属性放入 UIDefaults 后，我没有打电话。

现在它按照我想要的方式执行。

另一个问题：有没有办法指定整个应用程序的首选字体？````

# vxml - 保持通话畅通

> ID：12382144
> 
> 赞同：0
> 
> 时间：2012-09-12T06:12:35.107
> 
> 标签：vxml, voicexml

我正在尝试创建一种侦听器。我需要语音 xml 来保持通话畅通而不挂断。我试图用标签来做到这一点，但我能得到的最大时间是 2 分钟。我可以使用一些带有超时的睡眠或循环标签吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:47:35.017

您是否看过 VoiceXML 的近亲[呼叫控制 XML (CCXML)](http://www.w3.org/TR/ccxml/)。CCXML 提供更多的呼叫控制（顾名思义）并允许您从中启动 VoiceXML 会话。它可以监控通话的持续时间。你在听什么？如果您提供有关您的解决方案应该做什么的更多信息，我可能能够提供更具体的指导。

# cuda - 动态修改纹理数组的内容

> ID：12382147
> 
> 赞同：4
> 
> 时间：2012-09-12T06:12:45.640
> 
> 标签：cuda, textures

我想定期修改 cuda 数组的内容，我在设备代码中有纹理引用。请注意，数组的更新将在主机代码中完成。我的问题是：我们可以同时执行此操作吗，即设备内核仅被调用一次，并且数组内容会定期更改并反映在设备内存中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T06:43:45.980

如果您从主机修改 cudaArray，则不能保证更改会反映在纹理内存中。因为纹理被缓存了。在您修改主机上的 cudaArray 时，您不知道该内存的哪一部分被纹理缓存，哪一部分不是。

更改完全反映在设备代码中的唯一保证是内核完成执行时。

# c# - 如何从列表框中选择特定的堆栈面板？

> ID：12382150
> 
> 赞同：1
> 
> 时间：2012-09-12T06:12:56.670
> 
> 标签：c#, windows-phone-7

我创建了一个堆栈面板并将其添加到列表框中。堆栈面板包含两个文本块，第一个文本块文本是 id，其他文本是名称。来自数据库。我想删除特定 id 的堆栈面板。这是代码：

```
public partial class MainPage : PhoneApplicationPage
    {
        StackPanel stackpanel2 = null;
        Border br = null;
        TextBox tb1 = null;
        TextBox tb2 = null;
        string str1 = null;
        TextBlock tblk1 = null;
        TextBlock tblk2 = null;
        ListBox lb = null;

        public MainPage()
        {
            InitializeComponent();           
            createListBox();

        }
        public void createListBox()
        {
            updateDatabase();
            deleteRow(i);  
            lb = new ListBox();
            lb.Margin = new Thickness();
            lb.Height = double.NaN;
            lb.Width = double.NaN;            
            ContentPanel.Children.Add(lb);
            int rowCount = noofrows();
            for (int i = 1; i <= rowCount; i++)
            {

                createStackPanel(i);

                createTextBlock1(i);
                createTextBlock2(i);

                lb.Items.Add(br);
            }               

        }
        public void createTextBlock1(int y )
        {
            tblk1 = new TextBlock();
            tblk1.Height = 80;
            tblk1.Width = 150;
            tblk1.FontSize = 30;
            tblk1.Foreground = new SolidColorBrush(Colors.White);
           // tblk1.Margin = new Thickness();
            tblk1.Text = returnID(y);          
            stackpanel2.Children.Add(tblk1);
        }
        public void createTextBlock2(int a)
        {
            tblk2 = new TextBlock();
            tblk2.Height = 80;
            tblk2.Width = 150;
            tblk2.FontSize = 30;
            tblk2.Foreground = new SolidColorBrush(Colors.White);
            //tblk2.Margin = new Thickness();
            tblk2.Text = SelectName(a);
            stackpanel2.Children.Add(tblk2);
        }
        private void deleteRow(int x)
        {
            deleteStackPanel(x);
            string str2 = "delete  from Details where id =" + x;
            (Application.Current as App).db.SelectList(str2);

        }
        private void updateDatabase()
        {
            string str1 = "insert into Details (id,name,age,contact) values('1','sanjay','20','4444')";
            (Application.Current as App).db.SelectList(str1);
        }

        void createStackPanel(int c)
        {
            br = new Border();
            br.BorderBrush = new SolidColorBrush(Colors.Green);
            br.BorderThickness = new Thickness(5);
            stackpanel2 = new StackPanel();
            stackpanel2.Height = 100;
            stackpanel2.HorizontalAlignment = System.Windows.HorizontalAlignment.Left;
            stackpanel2.Margin = new Thickness();
            stackpanel2.Orientation = System.Windows.Controls.Orientation.Horizontal;
            stackpanel2.Background = new SolidColorBrush(Colors.Blue);
            br.Child = stackpanel2;
            stackpanel2.Tap += (s, e) =>
                {
                    RowValue.rowcount = c ;
                    NavigationService.Navigate(new Uri("/Details.xaml", UriKind.Relative));
                };

        }
        public String SelectName(int x)
        {

            return Convert.ToString((Application.Current as App).db.SelectList("select name from details where id ="+x));
        }
        public string returnID(int z)
        {
            return Convert.ToString((Application.Current as App).db.SelectList("select id from details where id ="+z));
        }
        public Int32 noofrows()
        {
            int b = Convert.ToInt32((Application.Current as App).db.SelectList("select count(*) from details"));
            return b;
        }
        public void  deleteStackPanel(int x)
        {
            lb.Items.Remove(stackpanel2);         
        }

    }

    public static class RowValue
    {
        public static int rowcount = 0;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T08:05:32.843

让我稍微简化一下您的代码。

转到 xaml 并编写以下内容：

```
 <!--ContentPanel - place additional content here-->
    <Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
        <ListBox ItemsSource="{Binding Items}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border BorderThickness="5" Background="Green">
                    <StackPanel Height="100" HorizontalAlignment="Left"
                                Orientation="Horizontal"
                                Background="Blue"   >
                            <TextBlock Height="80" Width="150" 
                                       FontSize="30" Foreground="White" 
                                       Text="{Binding Id}"/>
                            <TextBlock Height="80" Width="150" 
                                       FontSize="30" Foreground="White" 
                                       Text="{Binding Name}"/>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid> 
```

我们声明的布局与您在代码中所做的相同。

然后去`MainPage.xaml.cs`写以下内容：

```
public partial class MainPage : PhoneApplicationPage
{
public class DataBaseEntry 
{
    public string Id {get;set;}
    public string Name {get;set;}
}

public ObservableCollection<DataBaseEntry> Items {get;set;}

public MainPage()
{
    InitializeComponent();
    Items = new ObservableCollection<DataBaseEntry>();
    PopulateListBox();

}

public void PopulateListBox()
{
    updateDatabase();
    deleteRow(i);

    int rowCount = noofrows();
    for (int i = 1; i <= rowCount; i++)
    {
        var entry = new DataBaseEntry
        {
            Id = returnID(i),
            Name = SelectName(i)
        }
        Items.Add(entry);
    }

}

//this will remove item from Items collection and updates listbox
public void DeleteItemById(int id) 
{
    var item = Items.FirstOrDefault(item => item.id == id.ToString());
    if (item != null) 
    {
        Items.Remove(item);
    }
    string str2 = "delete  from Details where id =" + id;
    (Application.Current as App).db.SelectList(str2);
} 
```

我建议您阅读有关[Xaml](http://msdn.microsoft.com/en-us/library/ms752059.aspx)的更多信息——它是一种创建和管理 UI 的优雅方式。

如果您需要有关如何处理列表框中选定项目的更多信息，请阅读此[博客文章。](http://blog.decarufel.net/2011/03/how-to-databind-to-listboxs.html)

# perl - 在 Perl 中嵌套 'if' 或其他东西

> ID：12382152
> 
> 赞同：2
> 
> 时间：2012-09-12T06:13:14.597
> 
> 标签：perl, if-statement

我使用了一个简单的嵌套*if*语句。

要求如下。

```
if (Condition1) {
    if (Condition2) {
        print "All OK";
    }
    else {
        print "Condition1 is true but condition2 not";
    }
    else {print "Condition1 not true";
} 
```

是否可以在 Perl 中编写此代码，或者是否有另一种简短或更好的方法来满足此条件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:35:05.650

[TIMTOWTDI](https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it) à la[三元运算符](http://perldoc.perl.org/perlop.html#Conditional-Operator)：

```
print $condition1
      ? $condition2
        ? "All OK\n"
        : "Condition 1 true, Condition 2 false\n"
      :   "Condition 1 false\n"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T06:36:02.123

*if 条件 1*为真。该子句缺少结束语`}`，应在最后一个*else*之前插入。

尝试这样排列：

```
if (...) {
    if (...) {
        ...
    }
    else {
        ...
    }
}
else {
    ....
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T06:32:15.163

如果您的 Perl 版本 >= 5.10，您可以使用*given..when 。*

```
use v5.14;

my $condition1 = 'true';
my $condition2 = 'True';

given($condition1) {
    when (/^true$/) {
        given($condition2) {
            when (/^True$/) { say "condition 2 is True"; }
            default         { say "condition 2 is not True"; }
        }
    }
    default { say "condition 1 is not true"; }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-12T07:47:26.770

怎么样：

```
if (Condition1=false) {
     print "Condition1 not true";
}
elsif (Condition2=True ) {
    print "All OK"; 
}
else {
    print "Condition1 is true but condition2 not";  
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T12:47:40.110

```
if (!Condition1) {
  print "Condition1 not true";
}
else {
  if (Condition2) {
    print "All OK";
  }
  else {
    print "Condition1 is true but condition2 not";
  }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-08-01T08:07:12.883

```
#OR condition
if ( ($file =~ /string/) || ($file =~ /string/) ){
}

#AND condition
if ( ($file =~ /string/) && ($file =~ /string/) ){
} 
```

# javascript - 在 jsTree 和 DataTables 中使用 Drag&Drop

> ID：12382156
> 
> 赞同：2
> 
> 时间：2012-09-12T06:13:30.320
> 
> 标签：javascript, jquery, datatables, jstree

我有一个[jsTree](http://www.jstree.com)和一个[DataTable](http://datatables.net/)。我正在尝试将我从树中拖动的节点复制到表中的单元格中。这样的事情可能吗？

*它甚至不显示警报*

这是在我的 html 中：

```
<li id="tree1" class="jstree-draggable">

</li>

<table id="table">
    <thead>
        <tr>
            <th>1 Column</th>
            <th>2 Column</th>
        </tr>
    </thead>
    <tbody>

    </tbody>
</table> 
```

这是我的 js：

```
$(document).ready(function() {

    $("#tree1").jstree({
        // List of active plugins
        "plugins" : ["themes", "html_data", "dnd"],
        "html_data" : {
            "data" : "<li id='root'><a href='#'>Parent node</a><ul><li><a href='#'>Child node</a></li></ul></li>"
        },
        "themes" : {
            "theme" : "default",
            "dots" : true,
            "icons" : true
        },
        "dnd" : {
            "drop_finish" : function() {
                alert("DROP");
            },
            "drag_check" : function() {

            },
            "drag_finish" : function (data) {
                alert("DRAG FINISH");
            }
        },
        "core" : {
            "initially_open" : ["root"]
        }
    });

    $('#table').dataTable({
        "bPaginate" : false,
        "bSort" : false,
        "bInfo" : false,
        "bFilter" : false
    });
}); 
```

我有第二棵树（本质上是相同的）并且在它们两者之间拖放是有效的（除非我尝试将一个子元素放在它自己的父元素之一上，在这种情况下整个树都会消失，但那是现在不是我的主要问题）

我已经在[这个](https://stackoverflow.com/questions/4569798/issue-with-jstree-drag-drop)线程上尝试了答案，但它仍然没有显示警报。

非常感谢有关如何解决此问题的任何帮助（它不必使用 jstree，这正是我碰巧找到的）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T06:40:26.520

当某些东西被放入树本身时调用 drop 回调 .. 要实现您正在尝试的内容，您必须将表标记为“droppable”并允许在其中拖放元素.. 这是一个插件，是 Jquery UI 的一部分. 使用此文档来做到这一点..

[可删除的文档](http://jqueryui.com/demos/droppable/)

# c# - 识别模式以从 C# HTML 编码字符串中提取单词

> ID：12382159
> 
> 赞同：1
> 
> 时间：2012-09-12T06:13:35.043
> 
> 标签：c#, html-encode, pattern-recognition

我正在寻找一些帮助来从 HTML 编码的字符串中识别模式。

如果我有一个 HTML 编码字符串，例如：

```
string strHTMLText=@"&lt;p&gt;Pellentesque habitant [[@Code1]] morbi tristique senectus [[@Code2]] et netus et malesuada fames ac [[@Code3]] turpis egestas.&lt;/p&gt;" 
```

我需要提取单词*[[@Code1]], [@Code2], [[@Code3]]*，这是动态的，它们的数量是未知的。这些词已用于替换提供的 HTML 文本中的其他值。

我想识别模式**[[@ *something* ]]**并将所有出现的事件填充到数组等中，以便我可以处理这些值以稍后从数据库中获取相关值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:29:58.493

```
string strHTMLText=@"&lt;p&gt;Pellentesque habitant [[@Code1]] morbi tristique senectus [[@Code2]] et netus et malesuada fames ac [[@Code3]] turpis egestas.&lt;/p&gt;";
var input = HttpUtility.HtmlDecode(strHTMLText);
var list = Regex.Matches(input, @"\[\[@(.+?)\]\]")
    .Cast<Match>()
    .Select(m => m.Groups[1].Value)
    .ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:19:01.940

直到有人提出正则表达式解决方案，为了好玩，我为你做了这个：

```
string strHTMLText=@"&lt;p&gt;Pellentesque habitant [[@Code1]] morbi tristique senectus [[@Code2]] et netus et malesuada fames ac [[@Code3]] turpis egestas.&lt;/p&gt;";

IEnumerable<string> arr = strHTMLText.Split(new char[] {'['};
List<string> output = new List<string>();
foreach(var item in arr)
{
string placeHolder = item.Substring(0,item.IndexOf("]");
output.Add(placeHolder);
} 
```

要将输出放入数组中：

```
output.ToArray(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:32:26.083

您可以使用正则表达式。

尝试使用这个表达式

```
Regex exp = new Regex("\[.+?\]")
MatchCollection mc = exp.matches(<Your string here>);
foreach(Match m in mc)
{
   String code = m.value;
} 
```

我还没有测试过这段代码，它是一个快速而肮脏的伪代码，所以请多多包涵。

# java - 如何在使用基本身份验证的 JDeveloper 中测试 Web 服务？

> ID：12382166
> 
> 赞同：4
> 
> 时间：2012-09-12T06:14:07.853
> 
> 标签：java, web-services, oracle, jdeveloper

我在 JDeveloper 11.1.1.4 中创建了一个使用基本身份验证的 Web 服务。

当我使用客户端应用程序测试我的应用程序时，我知道身份验证机制没有问题。

如何通过右键单击 Web 服务并选择将身份验证信息传递到 HTTP 分析器`Test Web Service`？

我试图通过`SOAP Headers > :WS-Security:Header`如下方式传递凭据，但无法正常工作

![情况1](../Images/4f64fd1b0450f59e6e95437bec8862ac.png)

我还尝试通过`Credentials`如下所示的选项通过身份验证

![案例2](../Images/1e96459bc84294b2c69cf9d142e84b59.png)

在这两种情况下，我都会收到此错误`500 HTTP Analyzer Server Error The server sent HTTP status code 401: Unauthorized: .....`

我怎样才能度过难关？谢谢

**更新**

我也尝试将`Authentication`选项传递给`Request HTTP Headers`但收到错误消息：

> 错误 403--Forbidden From RFC 2068 Hypertext Transfer Protocol -- HTTP/1.1: 10.4.4 403 Forbidden 服务器理解请求，但拒绝执行。授权将无济于事，并且不应重复请求。如果请求方法不是 HEAD 并且服务器希望公开请求未完成的原因，它应该在实体中描述拒绝的原因。当服务器不希望确切地揭示请求被拒绝的原因或没有其他响应适用时，通常使用此状态代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T13:17:48.673

如果您使用的是基本身份验证，那么您只需要设置请求标头即可`Authorization`。此标头的值：前缀`Basic`，一个空格，带有 usrname:password 的 Base64 编码字符串，因此您的标头`Aladin:sesam open`应该是这样的：`Basic QWxhZGluOnNlc2FtIG9wZW4=`.

在屏幕截图上我看到部分`Request HTTP headers`，添加`Authorization`标题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-04T00:26:34.370

我知道这是一个旧帖子，但这可能会使遇到此问题的人受益。

我正在使用`Jdeveloper 11.1.2`. 我已经使用基本身份验证保护了 JAX-RPC Web 服务（通过公开 PL/SQL 封装创建）。我使用向导**附加了安全策略：“Auth.xml” 。**

我能够使用 HTTP Analyzer 对此进行测试。**我刚刚在 SOAP 标头中传递了用户凭据，如下所示**，它对我来说效果很好。（我还传递了无效的凭据和没有凭据，以查看安全性是否按预期工作。）

希望这可以帮助 ！！！

![在此处输入图像描述](../Images/5d7639f369289f2fa24d650a338f20b8.png)

# c - K&R 练习 1-14 解法

> ID：12382169
> 
> 赞同：1
> 
> 时间：2012-09-12T06:14:16.167
> 
> 标签：c

我正在做这个练习，想知道我的答案是否正确；

> 编写一个程序来打印输入中不同字符频率的直方图。

我在网上看到了其他几个答案，但它们与我的相差很大。此外，如果我的代码格式有任何问题或需要进行任何改进。欢迎任何建议。我确实理解这个问题需要一个直方图，但是一旦我有了所需的数据，就很容易构建一个。

```
#include <stdio.h>
int main(){

    int userInput;
    int arrayStuff[92];
    int i, j;

    for(i = 0; i < 92; ++i){
        arrayStuff[i] = 0;
    }

    while((userInput = getchar()) != '\n'){
        if(userInput >= 30 && userInput <= 122){
            if(userInput != '\n'){
                ++arrayStuff[(userInput-30)];
            }

            if(userInput == '\n'){
                break;
            }
        }
    }

    printf("Case\t|\tOccurances\n");

    for(i = 0; i < 92; ++i){
        printf("%c\t|\t%d\n", (i+30), arrayStuff[i]);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:17:50.533

我会做的改进：

*   一次性声明和初始化`int arrayStuff[92] = { 0 };`，摆脱 for 循环。这保证将**所有**元素设置为 0。
*   不要在各个地方使用幻数 92，`(sizeof arrayStuff/sizeof arrayStuff[0])`而是使用它来计算 arrayStuff 中的元素数。
*   (i+30) 中的括号是多余的
*   如果用户键入`EOF`字符会发生什么？它看起来像它永远循环。
*   “发生”不在我的字典里，但发生在我的字典里。也许字符频率是一个更好的术语？
*   数组东西？我不能过分强调清晰简洁的标识符命名的重要性。频率浮现在脑海。
*   它必须`int main (void)`与`return 0;`. 这不是 C++，其中一个空参数列表等效于 void。这是 C，其中一个空参数列表意味着“我是一个旧式 K&R 参数列表，用于未知但固定数量的参数”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T09:20:55.963

Jens 提到了 92 的“幻数”。幻数是代码中的数字文字。建议避免使用它们，因为如果将值替换为常量变量名称、宏名称或计算，则更容易理解值的用途或含义。我认为 30 和 122 也将被视为“幻数”。此代码在输入任何非图形字符时终止。这意味着如果输入制表符，它将停止，并且不会计算制表符字符，这可能不正确。

```
#include <stdio.h>
#include <stdlib.h>

#define FIRST_GRAPHIC_CHAR 32
#define LAST_GRAPHIC_CHAR 126
#define NUM_GRAPHIC_CHARS (LAST_GRAPHIC_CHAR - FIRST_GRAPHIC_CHAR + 1)

int main(void)
{

    int userInput;
    int arrayStuff[NUM_GRAPHIC_CHARS] = {0};
    int i;

    printf("enter a string of characters followed by <return>\n");

    userInput = getchar();
    while( userInput >= FIRST_GRAPHIC_CHAR && userInput <= LAST_GRAPHIC_CHAR )
    {
       ++arrayStuff[(userInput - FIRST_GRAPHIC_CHAR)];
       userInput = getchar();
    }

    printf("Case\t|\tOccurances\n");

    for(i = 0; i < NUM_GRAPHIC_CHARS; ++i)
    {
        if (  i + FIRST_GRAPHIC_CHAR == ' ' )
           printf("<spc>\t|\t%d\n",  arrayStuff[i]);
        else
           printf("%c\t|\t%d\n", (i + FIRST_GRAPHIC_CHAR), arrayStuff[i]);
    }
    return EXIT_SUCCESS;
} 
```

# html - 移动中左右两侧的间距问题

> ID：12382175
> 
> 赞同：0
> 
> 时间：2012-09-12T06:14:46.553
> 
> 标签：html, css, css-float

我已经使用了一个标签并为此设置了属性`<div style="margin:0 auto; ">`，它工作正常。但是我在上面又使用了一个，并将浮动设置如下

```
.gallery-div{ background:url(images/gallery-bg.png) repeat-y; 
float: left;
width:101px;
margin:2px 2px  0px 2px;
border-bottom:2px #9b9b9b solid;
} 
```

问题是它出现在左侧而不是中心。如果删除

```
float: left; then it appear one below the other like that. 
```

请参阅下面的屏幕截图

![画廊出现在左侧](../Images/3dc22e2eaecdb2cb917ce4ac298f9bbc.png)

请帮助我，任何帮助都会得到帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:19:30.637

尝试`margin: 0 auto;`在 CSS 文件中使用而不是内联。此外，第二个边距会发生冲突，因此请注释掉。然后回到我身边，让我知道这对你有什么作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:30:38.463

没有我们可以试用的确切 html。您应该尝试在[此处输入链接描述](http://jsfiddle.net)进行模拟。但这里有一些我能想到的事情。

如果您需要一个挨着一个，您要么需要浮动，要么需要将位置定义为绝对/相对。之后，玩弄左右边距以设置精确的边距，使其居中。

看，我在这里添加了 margin-left 。尝试在那里使用不同的数字，以便将其放在中心

```
.gallery-div{ background:url(images/gallery-bg.png) repeat-y; 
float:left;
width:101px;
margin:2px 2px  0px 2px;
margin-left:30px;
border-bottom:2px #9b9b9b solid;
} 
```

# python - Mechanize - 无法解析 POST 表单以自动提交

> ID：12382177
> 
> 赞同：-1
> 
> 时间：2012-09-12T06:14:58.743
> 
> 标签：python, forms, submit, mechanize

:-)

我正在尝试下载页面，在页面上填写表格并提交。我喜欢python，遇到了mechanize。我可以成功下载网页，验证页面中有 2 个表单，但是，即使我可以验证 mechanize 下载的网页数据清楚地包含第 2 个表单，mechanize 也不会识别第二个表单（方法 POST）。因此，我什至无法继续修改​​值并提交我感兴趣的表单。我在 OS X 10.6.8 上使用 Python 2.6.1。非常感谢任何建议。

我的代码

```
import mechanize
br = mechanize.Browser()
br.set_handle_robots(False)   # no robots
br.set_handle_refresh(False)  # can sometimes hang without this
br.addheaders = [('User-agent', 'Mozilla/6.0 (X11; U; i686; en-US; rv:1.9.0.1) Gecko/2008071615 OS X 10.2 Firefox/3.0.1')]
url = 'http://www.abcd.com/test.html'
response = br.open(url) 
```

我可以使用 response.read() 或 get_data() 验证有两种形式，如下所示

```
<form id="lookupFormX" action="/lookup/" onSubmit="return submitLookupForm('lookupForm', 'download');" method="GET">

                <label style="font-weight:normal; font-size:85%; margin-right:5px;">View a Site Report </label>
                <input type="hidden" name="facet" style="margin-right:2px; font-weight:normal; font-size:85%;" value="sitereport" readonly/>

                <input style="margin-right:2px; font-weight:normal; font-size:85%;" name="q" type="text" id="railtext_v11pt" value="e.g. yahoo.com"
                        onfocus="clearDefaultNote(this,'e.g. yahoo.com');"
                        onblur="addDefaultNote(this,'e.g. yahoo.com');" />
                <a style="margin-right:10px;" href="#" onclick="submitLookupForm('lookupFormX');"><img src="/images/nav_right.gif" /></a>
            </form>

<br>
<FORM action="userfeedbackpost.html" id="friendForm" name="friendForm" method="post">
<TABLE id="userfeedbacktable" BORDER=0 style="padding:left:0px; margin-left:0px;">
    <TR>
        <TD style="width:200px;padding-left:10px">Your Name:</TD>
        <TD style="width:200px" ><input name="your_name" type="text" SIZE=35/></TD>

        <TD style="width:250px;text-align:right;padding-right:10px">Your E-mail:</TD>
        <TD style="width:140px" ><input name="your_email" type="text" SIZE=35/></TD>
    </TR>
    <!-- <TR></TR> -->
    <TR>
        <TD style="width:200px;padding-left:10px">Subject:</TD>
        <TD colspan="3" ><input name="subject" type="text" style="width:648px" SIZE=106/></TD>
    </TR>
    <!-- <TR></TR> -->
    <TR>
        <TD style="width:200px;padding-left:10px">URL this concerns:</TD>
        <TD colspan="3" ><input name="url" type="text" style="width:648px" SIZE=106/></TD>
    </TR>
    <!-- <TR></TR> -->
    <TR>
        <TD style="width:200px;padding-left:10px">User ID:</TD>
        <TD style="width:200px" ><input name="test_id" type="text" SIZE=35/></TD>

        <TD style="width:250px;text-align:right;padding-right:10px">Type of inquiry:</TD>
        <TD style="width:140px" >
            <SELECT name="type" id="type" style="width:262px" onchange="makeSelection()">
                <OPTION value="Choose">Choose One</OPTION>
                <OPTION value="Bug report">Report an error</OPTION>
                <OPTION value="Helpful Information">Send us a suggestion</OPTION>
                <OPTION value="Other">Other</OPTION>
            </SELECT>
        </TD>
    </TR>
    <!-- <TR></TR> -->
    <TR id="infoPanel" style="display:none">
        <TD style="width:200px;padding-left:10px">Facet in question:</TD>
        <TD style="width:200px" >
            <SELECT name="facet" style="width:263px" id="facet">
                <OPTION selected value="Choose">Choose One</OPTION>
                <OPTION value="Annoyances">Annoyances</OPTION>
                <OPTION value="Downloads">Downloads</OPTION>
                <OPTION value="Links">Links</OPTION>
           </SELECT>
       </TD>

       <TD style="width:250px;text-align:right;padding-right:10px">Are you the site owner?:</TD>
       <TD style="width:140px" >
           <input type="radio" id="siteowner_yes" name="siteowner" value="Yes">&nbsp;Yes&nbsp;&nbsp;&nbsp;
           <input type="radio" id="siteowner_no" name="siteowner" value="No" checked>&nbsp;No
       </TD>
    </TR>
    <!-- <TR></TR> -->
    <TR>
        <TD style="width:200px;padding-left:10px" >Your Message:</TD>
        <TD colspan=3><textarea class=userfeedbackTA NAME=message ROWS=12 COLS=80 style="width:646px;"></textarea></TD>
    </TR>
    <!-- <TR></TR> -->
</TABLE>

<br/><br/> <a href="javascript:document.getElementById('friendForm').submit();" class="btnOrangeLrg"><span>Send Your Feedback or Question.</span></a><br/>
<br/><br/> P.S. We will use the information above only to help provide you feedback. This information will not be used for any other purpose.

</FORM> 
```

mechanize 仅显示以下内容：

```
Form name: None
<GET http://www.test.com/lookup/ application/x-www-form-urlencoded
  <HiddenControl(facet=sitereport) (readonly)>
  <TextControl(q=e.g. yahoo.com)>> 
```

当我使用以下代码时

```
for form in br.forms():
    print "Form name:", form.name
    print form 
```

我的问题： - 我怎样才能访问第二个表格？（使用 nr=1 给了我一个错误）

编辑：

我也试过这个版本，同样的结果，第二种形式不会出现：

```
request = mechanize.Request(url)
request.add_header("User-agent", "Mozilla/6.0 (X11; U; i686; en-US; rv:1.9.0.1) Gecko/2008071615 OS X 10.2 Firefox/3.0.1")
response = mechanize.urlopen(request)
forms = mechanize.ParseResponse(response, backwards_compat=False)
response.close()

for form in forms:
  print form 
```

编辑 2

我还尝试将我的代码修改为如下所示：

```
# Cookie Jar
cj = cookielib.LWPCookieJar()
br.set_cookiejar(cj)

# Browser options
br.set_handle_equiv(True)
br.set_handle_redirect(True)
br.set_handle_referer(True)
br.set_handle_robots(False)

# Follows refresh 0 but not hangs on refresh > 0
br.set_handle_refresh(mechanize._http.HTTPRefreshProcessor(), max_time=1)

br.addheaders = [
('Cookie','mbox=PC#1327356910232-537677#1410633293|check#true#1347561353|session#1347561287712-498080#1347563153; s_cc=true; s_sq=%5B%5BB%5D%5D; s_nr=1347561671754-Repeat'),\
('Accept-Charset','ISO-8859-1,utf-8;q=0.7,*;q=0.3'),\
('Accept-Encoding','gzip,deflate,sdch'),\
('Accept-Language','en-US,en'),\
('Cache-Control','max-age=0'),\
('Connection','keep-alive'),\
('Referer','http://www.siteadvisor.com'),\
('User-Agent','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1')
] 
```

我从浏览器中获取了标头值并尝试将它们插入到 mechanize 浏览器实例中。然而我只能看到 1 形式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-06-04T08:28:33.640

我遇到了类似的问题，我发现修改我的标题并包括`RobustFactory()`处理“坏”的 HTML 解决了这个问题。

```
`br = mechanize.Browser(factory=mechanize.RobustFactory())
br.set_handle_robots(False)
br.addheaders = [('User-agent','Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6')]`

```

这是在他们摆弄了很多之后。此解决方案适用于一般情况以及我使用的特定 URL，但添加：

```
br.addheaders.append(['Accept-Encoding', 'gzip'])
```

如果您尝试访问的 URL 是 GZipped，则可能需要。您可以在此处检查是否是这种情况：http: [//checkgzipcompression.com/](http://checkgzipcompression.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T08:13:10.917

您应该提供 url，因为如果我将您给定的带有表单的 html 放在`text`变量中，则会发生这种情况：

```
In [61]: forms = mech.ParseString(text, 'fake') # imported mechanize as mech

In [62]: for form in forms: print form; print '-'*5
   ....: 
<GET fake application/x-www-form-urlencoded>
-----
<GET /lookup/ application/x-www-form-urlencoded
  <HiddenControl(facet=sitereport) (readonly)>
  <TextControl(q=e.g. yahoo.com)>>
-----
<friendForm POST userfeedbackpost.html application/x-www-form-urlencoded
  <TextControl(your_name=)>
  <TextControl(your_email=)>
  <TextControl(subject=)>
  <TextControl(url=)>
  <TextControl(test_id=)>
  <SelectControl(type=[*Choose, Bug report, Helpful Information, Other])>
  <SelectControl(facet=[*Choose, Annoyances, Downloads, Links])>
  <RadioControl(siteowner=[Yes, *No])>
  <TextareaControl(message=)>>
----- 
```

第一个是默认的（由解析添加）忽略它。好开心的两种形式。

# mysql - 将 Magento 1.3 数据迁移/替换到 maganeto 1.6

> ID：12382178
> 
> 赞同：0
> 
> 时间：2012-09-12T06:15:02.017
> 
> 标签：mysql, database, magento

我们有一个 Magento 1.3 项目，我们希望它升级到 magento 1.6。所以我们安装了一个新的magento 1.6，现在我们想把所有的产品和客户数据从maganeto 1.3 放到magento 1.6。我们从 magento 1.3 备份其数据库表中的所有产品和客户数据。

这些是我们备份数据的表：

```
-------------------------------------
Product Tables:
-------------------------------------
catalogrule /
catalogrule_product /
catalogrule_product_price /
catalogrule_affected_product /

catalogindex_price /
catalogindex_eav /
catalogindex_minimal_price /
catalogindex_aggregation_tag /
catalogindex_aggregation /
catalogindex_aggregation_to_tag /

catalogsearch_query /
catalogsearch_fulltext /
catalogsearch_result /
catalog_compare_item /

catalog_category_product /
catalog_category_product_index /
catalog_category_flat_1 /

catalog_product_entity_tier_price /
catalog_product_enabled_index /
catalog_product_website /

catalog_category_entity /
catalog_category_entity_datetime /
catalog_category_entity_decimal /
catalog_category_entity_int /
catalog_category_entity_text /
catalog_category_entity_varchar /

catalog_product_entity /
catalog_product_entity_datetime /
catalog_product_entity_decimal /
catalog_product_entity_gallery /
catalog_product_entity_int /
catalog_product_entity_media_gallery /
catalog_product_entity_media_gallery_value /
catalog_product_entity_text /
catalog_product_entity_varchar /

catalog_product_super_link /
catalog_product_link_type /
catalog_product_link /
catalog_product_link_attribute /
catalog_product_link_attribute_decimal /
catalog_product_link_attribute_int /
catalog_product_link_attribute_varchar /

catalog_product_option/
catalog_product_option_title /
catalog_product_option_price /
catalog_product_option_type_value /
catalog_product_option_type_title /
catalog_product_option_type_price /

cataloginventory_stock /
cataloginventory_stock_status /
cataloginventory_stock_item /

catalog_product_bundle_option /
catalog_product_bundle_option_value /
catalog_product_bundle_selection /
catalog_product_bundle_price_index /

catalog_product_super_attribute //
catalog_product_super_attribute_label/
catalog_product_super_attribute_pricing /

product_alert_price /
product_alert_stock /

downloadable_link_price /
downloadable_link_title /
downloadable_link  /
downloadable_sample_title /
downloadable_sample /

----------------------------------------------
Customers Tables :
----------------------------------------------
customer_group/

newsletter_template /
newsletter_queue/
newsletter_queue_store_link/
newsletter_problem/
newsletter_queue_link/
newsletter_subscriber/

customer_entity/
customer_entity_datetime/
customer_entity_decimal/
customer_entity_int/
customer_entity_text/
customer_entity_varchar/

customer_address_entity/
customer_address_entity_datetime/
customer_address_entity_decimal/
customer_address_entity_int/
customer_address_entity_text/
customer_address_entity_varchar/

review_entity/
review_status/
review/
review_store/
review_entity_summary/
review_detail/

rating_entity/
rating/
rating_store/
rating_option
rating_option_vote/
rating_title/
rating_option_vote_aggregated/

poll/
poll_store/
poll_answer/
poll_vote/

wishlist/
wishlist_item/ 
```

然后我们在magento 1.6中删除其数据库表中的所有产品和客户数据。现在，当我们将备份的数据从 magento 1.3 恢复到 1.6 时，我们得到了这个错误......

```
Query:
/*Data for the table `catalog_category_entity` */
insert  into `catalog_category_entity`(...)

Error occured at:2012-09-12 14:05:06
Line no.:20
Error Code: 1062 - Duplicate entry '1' for key 'PRIMARY' 
```

我只是想知道，当我删除magento 1.6中的所有旧数据时，为什么它变成了“主键的重复条目”？

有人知道我的案子吗？你能给我另一个关于如何将所有产品和客户数据从 magento 1.3 转移到 1.6 的想法吗？

任何帮助将不胜感激。提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:26:47.997

更好的方法：

*   转缓存
*   关闭所有自定义本地和社区扩展
*   关闭所有本地核心覆盖
*   关闭所有自定义主题和主题自定义
*   重新生成索引
*   复制 1.6 或最新的 Magento 代码
*   启动升级并完成它

# javascript - IE 中关于 ZK 和 JavaScript 集成的一些错误

> ID：12382182
> 
> 赞同：3
> 
> 时间：2012-09-12T06:15:15.357
> 
> 标签：javascript, internet-explorer, zk

大家，我遇到了一个问题：

ZUL 代码：

```
<window title="Hello World!!" id="winMain" border="none" width="100%" height="100%">

<script type="text/javascript"> 
<![CDATA[
function testAlert() { 
window.open ("http://cn.bing.com", "Show", "menubar=0,resizable=1,location=0,width=683,height=384");} 
]]>
</script>

<div align="center">
<button id="btnShow" label="Show">
<attribute name="onClick">
    <![CDATA[ 
        Clients.evalJavaScript("testAlert()");
    ]]>
</attribute>
</button>
</div>
</window> 
```

ZUL 代码的功能是在某些浏览器中打开一个新窗口，并且在 CHROME、Firfox 中运行良好。但是当我在 IE8 中运行它时，会出现一些错误：

**客户端错误：无法处理脚本；由于错误 80020101，无法完成操作。（错误）**

这个问题有解决方案吗？非常感谢你 ！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T06:26:59.353

您可以使用`Executions.getCurrent().sendRedirect(string, string)` [javadocs](http://www.zkoss.org/javadoc/latest/zk/org/zkoss/zk/ui/Execution.html#sendRedirect%28java.lang.String,%20java.lang.String%29)在服务器端执行此操作。但是对于这样一个简单的要求，您不需要去服务器。使用 ZK 的[客户端命名空间](http://books.zkoss.org/wiki/ZUML_Reference/ZUML/Namespaces/Client)，您可以在客户端的按钮 onClick 事件上调用 testAlert() 函数。两种方法都显示在下面的代码中，它适用于 IE 8（标准模式）

```
<window title="Hello World!!" id="winMain" border="none" width="100%" height="100%" xmlns:w="client">

<script type="text/javascript"> 
<![CDATA[
function testAlert() { 
window.open ("http://cn.bing.com", "Show", "menubar=0,resizable=1,location=0,width=683,height=384");} 
]]>
</script>

<div align="center">
<button id="btnShow" label="Show 1">
<attribute name="onClick">
    <![CDATA[ 
        Executions.getCurrent().sendRedirect("http://cn.bing.com", "_blank");
    ]]>
</attribute>
</button>
<button id="btnShow2" label="Show 2" w:onClick="testAlert();">

</button>
</div>
</window> 
```

# java - 我们如何在摆动的两个面板之间画一条线

> ID：12382184
> 
> 赞同：6
> 
> 时间：2012-09-12T06:15:27.700
> 
> 标签：java, swing, user-interface, graphics, jtable

只想通过在面板上画一条线来连接面板。

我有两个面板，两个面板都包含一个 Jtable。我想将一个面板的 jtable 的每个单元格连接到另一个 jpanel 的另一个 Jtable。

![在此处输入图像描述](../Images/094adfbdabecaaa25862d40687a15107.png)

在这里，我想画出我用粉红色圆圈突出显示的线条。

这是我用来创建 jtables 的代码片段

```
 DefaultTableModel fcdbDataModel = new DefaultTableModel(fcdbIdTxnArray,
    fcdbIdTxnColumnArray);
fcdbIdTxnJTable = new FieldMapperJTable(fcdbDataModel); 
```

这里 FieldMapperJTable 是我自定义的 jtable 类。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T13:37:38.453

您可以使用 JFrame/JDialog GlassPane 作为绘画字段轻松做到这一点。只需将您的自定义组件设置为框架的玻璃窗格并直接在其上绘制链接。

您也可以使用框架/对话框的分层窗格来执行相同操作。

这是一个关于如何在玻璃窗格组件上绘制此类“链接”的小型工作示例：

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.HashMap;
import java.util.Map;

/**
 * @see http://stackoverflow.com/a/12389479/909085
 */

public class ComponentLinkerTest extends JComponent
{
    private Map<JComponent, JComponent> linked;

    public ComponentLinkerTest ()
    {
        super ();
        linked = new HashMap<JComponent, JComponent> ();
    }

    public void link ( JComponent c1, JComponent c2 )
    {
        linked.put ( c1, c2 );
        repaint ();
    }

    protected void paintComponent ( Graphics g )
    {
        Graphics2D g2d = ( Graphics2D ) g;
        g2d.setRenderingHint ( RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON );

        g2d.setPaint ( Color.BLACK );
        for ( JComponent c1 : linked.keySet () )
        {
            Point p1 = getRectCenter ( getBoundsInWindow ( c1 ) );
            Point p2 = getRectCenter ( getBoundsInWindow ( linked.get ( c1 ) ) );
            g2d.drawLine ( p1.x, p1.y, p2.x, p2.y );
        }
    }

    private Point getRectCenter ( Rectangle rect )
    {
        return new Point ( rect.x + rect.width / 2, rect.y + rect.height / 2 );
    }

    private Rectangle getBoundsInWindow ( Component component )
    {
        return getRelativeBounds ( component, getRootPaneAncestor ( component ) );
    }

    private Rectangle getRelativeBounds ( Component component, Component relativeTo )
    {
        return new Rectangle ( getRelativeLocation ( component, relativeTo ),
                component.getSize () );
    }

    private Point getRelativeLocation ( Component component, Component relativeTo )
    {
        Point los = component.getLocationOnScreen ();
        Point rt = relativeTo.getLocationOnScreen ();
        return new Point ( los.x - rt.x, los.y - rt.y );
    }

    private JRootPane getRootPaneAncestor ( Component c )
    {
        for ( Container p = c.getParent (); p != null; p = p.getParent () )
        {
            if ( p instanceof JRootPane )
            {
                return ( JRootPane ) p;
            }
        }
        return null;
    }

    public boolean contains ( int x, int y )
    {
        return false;
    }

    private static ComponentLinkerTest linker;

    public static void main ( String[] args )
    {
        setupLookAndFeel ();

        JFrame frame = new JFrame ();

        linker = new ComponentLinkerTest ();
        frame.setGlassPane ( linker );
        linker.setVisible ( true );

        JPanel content = new JPanel ();
        content.setLayout ( new GridLayout ( 10, 5, 5, 5 ) );
        content.setBorder ( BorderFactory.createEmptyBorder ( 5, 5, 5, 5 ) );
        frame.add ( content );

        for ( int i = 0; i < 50; i++ )
        {
            final JButton button = new JButton ( "Button" + i );
            button.addActionListener ( new ActionListener ()
            {
                public void actionPerformed ( ActionEvent e )
                {
                    link ( button );
                }
            } );
            content.add ( button );
        }

        frame.setDefaultCloseOperation ( JFrame.EXIT_ON_CLOSE );
        frame.pack ();
        frame.setLocationRelativeTo ( null );
        frame.setVisible ( true );
    }

    private static JButton last = null;

    private static void link ( JButton button )
    {
        if ( last == null )
        {
            last = button;
        }
        else
        {
            linker.link ( last, button );
            last = null;
        }
    }

    private static void setupLookAndFeel ()
    {
        try
        {
            UIManager.setLookAndFeel ( UIManager.getSystemLookAndFeelClassName () );
        }
        catch ( ClassNotFoundException e )
        {
            e.printStackTrace ();
        }
        catch ( InstantiationException e )
        {
            e.printStackTrace ();
        }
        catch ( IllegalAccessException e )
        {
            e.printStackTrace ();
        }
        catch ( UnsupportedLookAndFeelException e )
        {
            e.printStackTrace ();
        }
    }
} 
```

结果：（
只需依次单击任意两个按钮，它们就会链接起来）
![在此处输入图像描述](../Images/c4177d6f0bd576d74560ef65f9313844.png)

PS要使线条更粗，您可以在绘画时更改笔触：

```
g2d.setStroke ( new BasicStroke ( 5f ) ); 
```

# python - SQLite3.Cursor.execute 函数的 Python 2.7 问题

> ID：12382185
> 
> 赞同：1
> 
> 时间：2012-09-12T06:15:29.427
> 
> 标签：python, sqlite

我有一个非常令人沮丧的问题

我有一个函数接受一个指向 sqlite3.Connection 对象的游标，然后修改数据库

我的代码是这样的：

```
#DOES NOT WORK
def update(dbc, tableName, value, value2):
    dbc.execute("update ? set MyValue = ? where Something = ?;",\
    [tableName, value, value2])

#WORKS
def update2(dbc, tableName value, value2):
    dbc.execute("update {0} set MyValue = {1} where Something = {2};".format(
    tableName, value, value2))

db = sqlite3.connect('data.db')
c = db.cursor()
c.execute("begin;")
update(c,"Something","Something Else") #FAILS
update2(c,"Something","Something Else") #OK 
```

我得到错误：

sqlite3.OperationalError：靠近“？”：语法错误

我尝试注释掉第一个 execute("begin;") 语句，因为我不太了解它，但我知道它在其他部分显着加快了我的代码速度，而不必提交每一个输入。有谁知道为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T22:03:52.267

经过数小时的搜索，我在接下来的 10 分钟内找到了答案。不能以这种方式加载表名......看起来很傻。这是原始答案的链接： [SQLite参数替换问题](https://stackoverflow.com/questions/228912/sqlite-parameter-substitution-problem)

# java - 使用 Java API 将任何文件类型转换为 pdf

> ID：12382186
> 
> 赞同：-5
> 
> 时间：2012-09-12T06:15:33.967
> 
> 标签：java, pdf, powerpoint, docx, xlsx

您能否告诉我哪些 java api（开源 - 开发和商业）可用于将任何文件类型（例如 doc、docx、xls、xlsx、ppt、pptx）转换为 pdf。这些文件可能包含文本、图像、图形、图表、样式等。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:19:31.040

您可以使用 iText 库来创建 pdf 文档，请参阅：http: [//itextpdf.com/](http://itextpdf.com/)。要阅读 doc、docx、xls 等文件，我建议使用 apache poi 库，请参阅： http: [//poi.apache.org/](http://poi.apache.org/)

# c++ - Macports GCC 4.8 无法链接 OSX Lion 上的 c++ 库

> ID：12382188
> 
> 赞同：1
> 
> 时间：2012-09-12T06:15:48.663
> 
> 标签：c++, macos, c++11, std

我无法在 OSX Lion 上链接一个非常简单的 c++ 程序。错误信息是

```
Undefined symbols for architecture x86_64: "std::basic_string<char, std::char_traits<char> 
```

这是编译器的完整详细输出：

```
Nicholass-MacBook-Pro:hello_vbo-build jubei$ make VERBOSE=1
"/Applications/CMake 2.8-9.app/Contents/bin/cmake" -H/Users/jubei/coding/hello_vbo -               B/Users/jubei/coding/hello_vbo-build --check-build-system CMakeFiles/Makefile.cmake 0
"/Applications/CMake 2.8-9.app/Contents/bin/cmake" -E cmake_progress_start /Users/jubei/coding/hello_vbo-build/CMakeFiles /Users/jubei/coding/hello_vbo-build/CMakeFiles/progress.marks
make -f CMakeFiles/Makefile2 all
make -f CMakeFiles/hellovbo.dir/build.make CMakeFiles/hellovbo.dir/depend
cd /Users/jubei/coding/hello_vbo-build && "/Applications/CMake 2.8-9.app/Contents/bin/cmake" -E cmake_depends "Unix Makefiles" /Users/jubei/coding/hello_vbo /Users/jubei/coding/hello_vbo /Users/jubei/coding/hello_vbo-build /Users/jubei/coding/hello_vbo-build /Users/jubei/coding/hello_vbo-build/CMakeFiles/hellovbo.dir/DependInfo.cmake --color=
make -f CMakeFiles/hellovbo.dir/build.make CMakeFiles/hellovbo.dir/build
"/Applications/CMake 2.8-9.app/Contents/bin/cmake" -E cmake_progress_report/Users/jubei/coding/hello_vbo-build/CMakeFiles 1
[100%] Building CXX object CMakeFiles/hellovbo.dir/main.cpp.o
/opt/local/bin/g++-mp-4.8    --std=c++11 -I/usr/local/include -I/Users/jubei/coding/hello_vbo/include    -o CMakeFiles/hellovbo.dir/main.cpp.o -c /Users/jubei/coding/hello_vbo/main.cpp
Linking CXX executable hellovbo
"/Applications/CMake 2.8-9.app/Contents/bin/cmake" -E cmake_link_script CMakeFiles/hellovbo.dir/link.txt --verbose=1
/opt/local/bin/g++-mp-4.8   --std=c++11 -Wl,-search_paths_first -Wl,-headerpad_max_install_names   CMakeFiles/hellovbo.dir/main.cpp.o  -o hellovbo  -L/usr/local/lib -lglfw -lglew -framework Cocoa -framework OpenGL -framework IOKit -lstdc++ 
Undefined symbols for architecture x86_64:
  "std::basic_string<char, std::char_traits<char>, std::allocator<char> >::operator=(std::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)", referenced from:
  readTextFile(char const*) in main.cpp.o
ld: symbol(s) not found for architecture x86_64
collect2: error: ld returned 1 exit status
make[2]: *** [hellovbo] Error 1
make[1]: *** [CMakeFiles/hellovbo.dir/all] Error 2
make: *** [all] Error 2 
```

我看过各种帖子说这种错误是由于人们使用 gcc 而不是 g++ 造成的，但就我而言，我使用的是 g++。我正在使用 macports 构建的 GCC 4.8 进行编译。

请注意，这个简单的程序可以在同一系统上正常编译。突然干净安装后，它拒绝编译。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:26:01.413

缺少的符号是 的移动赋值运算符`std::string`。我在这里猜测发生了什么是您正在混合使用`libstd++`和编译的目标文件/库`libc++`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-09T23:13:24.777

可能您与 /usr/lib/libstdc++ 链接，但对于 4.8，您需要与 (...)/gcc4.8/lib/libstdc++ 链接，它是不同的库。

# jquery - chrome和IE中的自定义滚动条问题

> ID：12382189
> 
> 赞同：2
> 
> 时间：2012-09-12T06:15:53.700
> 
> 标签：jquery, css, jquery-ui, google-chrome, operating-system

这是文件夹的链接[https://www.dropbox.com/sh/yzz1m3vxhsuj71d/i3MBbDjwgn](https://www.dropbox.com/sh/yzz1m3vxhsuj71d/i3MBbDjwgn)

滚动条在我 PC 的所有浏览器中都可以正常工作，但在其他几台计算机的 chrome 和 IE 中却不能正常工作。

我在一台装有 windows xp 的机器上进行了测试，它不能在 tat 系统中工作（chrome 和 IE，但在 Firefox 中很好）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T02:08:55.630

很难说问题出在哪里，因为我无法访问该页面，但您可以尝试使用另一个 MANY jQuery Scrollbar 插件。例如，试试[jQuery 滚动条。](http://github.com/nathggns/Scrollbars)

# python - 自动更新 datetime.datetime.now() 的存储值

> ID：12382190
> 
> 赞同：2
> 
> 时间：2012-09-12T06:15:54.277
> 
> 标签：python, datetime

这是我的代码，它应该基本上将 end 更改为 start + 25 分钟。我只是想知道是否有办法将 datetime.datetime.now() 更新为当前时间。就目前而言，它只是停留在我第一次使用该模块时的状态。所以 if 语句永远不会是真的。

```
import datetime
start = datetime.datetime.now()
end = start + datetime.timedelta(minutes = 25)
if start == end:
    end = end + datetime.timedelta(minutes = 25) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:40:28.483

正如 CharlesB 所建议的，开始变量没有更新。您需要在要执行测试时获取当前值。

重写这一行：

```
if start == end: 
```

至

```
if datetime.datetime.now() > end: 
```

**编辑** Tommo 发表评论后，我认为另一种解决方案可能更容易。

```
import time
while True:
    putMessageToScreen()
    time.sleep(25*60) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:48:32.910

如果您希望在后续引用中更改值，则需要使用函数调用，而不是存储变量。

`datetime.datetime`原则上，您可以通过子类化和定义`__add__`重新计算的方法来使上述代码执行您想要的操作`datetime.datetime.now()`，但这不是一个好主意。

# ios - iOS：如何在 viewDidLoad 之后添加更多视图

> ID：12382191
> 
> 赞同：0
> 
> 时间：2012-09-12T06:15:54.467
> 
> 标签：ios, xcode, uiviewcontroller

我是IOS编程的新手。我从 XCode 4.3（SingleView 应用程序）创建的基本应用程序开始。继续我上面的问题，我能够以编程方式将视图添加到 Appdelegate 中的主 ViewController 但是如果我想在视图加载后（在 viewDidLoad 内）做同样的事情，我就会遇到麻烦。我尝试使用添加子视图的相同逻辑，但我不确定在“viewDidLoad”中添加后视图是否需要刷新

我的观点很简单，这里是代码

```
-(void)viewDidLoad
{

[super viewDidLoad];
UIBUtton *btn = [UIBUtton] alloc] initWithFrame:CGRect(10,10,50,50)];
[self.view addSubView:btn];
[self.view setNeedsDsiplay];
} 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:29:45.607

您没有`UIButton`正确实例化。你应该使用`buttonWithType:`方法。

例如：

```
- (void)viewDidLoad {

[super viewDidLoad];

UIButton * btn = [UIButton buttonWithType:UIButtonTypeRoundedRect];

[btn setFrame:CGRectMake(10.0, 10.0, 50.0, 50.0)];

[[self view] addSubview:btn];

} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-12T06:21:34.477

您在错误的位置放置了方括号。可能您是 Objective-C 的新手。在创建基于 UI 的应用程序之前，您应该更加注意学习语法。

```
UIBUtton *btn = [UIBUtton] alloc] initWithFrame:CGRect(10,10,50,50)]; 
```

应该：

```
UIBUtton *btn = [[UIBUtton alloc] initWithFrame:CGRect(10,10,50,50)]; 
```

还

```
[self.view setNeedsDsiplay]; 
```

不需要。

# python - 如何在pydev中声明变量的类型？

> ID：12382193
> 
> 赞同：4
> 
> 时间：2012-09-12T06:15:57.357
> 
> 标签：python, pydev

假设有一组类 Map1,Map2,Map3,... 都是从 BaseMap 扩展而来的，我使用一些反射机制来获取子 Map 的实例。我想动态获取这些类之一的实例并将其存储在一个变量`m`中，并让 pydev 将类型识别为 BaseMap，以便我可以在其上使用单词完成。

我发现一种解决方案是添加代码

```
if False:
    m = BaseMap(0,0,0) 
```

在分配之后`m`和使用它之前。if 条件中的行永远不会被执行，但它声明`m`的是一个 BaseMap 类型的对象。

这可能看起来很傻，但确实有效。还有其他方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T06:50:23.640

您可以使用`assert isinstance(...)`在 pydev 中对变量进行自动完成，否则 pydev 将无法猜测正确的类型。

说你的代码是：

```
m = getAttr(someThing, 'someAttr')
m.*no autocompletion* 
```

pydev 将无法知道的类型，`m`因此不会显示自动完成。

尝试：

```
m = getAttr(someThing, 'someAttr')
assert isinstance(m, BaseMap) # or whatever class it is
m.*pydev shows autocompletion* 
```

这有点*hacky*，但它会起作用（并且也不会受到伤害）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T15:35:42.087

这个问题类似于这篇文章：[Eclipse pydev auto-suggestions don't work in some cases](https://stackoverflow.com/questions/2881237/eclipse-pydev-auto-suggestions-dont-work-in-some-cases/12391684#12391684)

已经提出了一个很好的答案（使用断言）。[另一种解决方案是使用此链接](http://sebthom.de/140-leveraging-pydevs-auto-completion-indirectly-created-objects/)中描述的构造函数。

# mysql - mysql：如何将行数据放入一个返回列

> ID：12382194
> 
> 赞同：2
> 
> 时间：2012-09-12T06:16:00.157
> 
> 标签：mysql, sql

我不知道如何问这个问题或者什么是正确的“关键字”来搜索/谷歌。我这里有

```
=========================
=   ID   =   Running#   =
=========================
=   A    =      3       =
=   A    =      4       =
=   A    =      5       =
=   E    =      6       =
=   E    =      3       =
=   G    =      4       =
=   G    =      7       =
=   T    =      3       =
========================= 
```

我希望在一个字符串中获得 A、E、T 之类的返回值，其中它们运行# of 3

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T06:16:51.480

你需要为此使用**[`GROUP_CONCAT`](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat)**，

```
SELECT GROUP_CONCAT(ID)
FROM tablename
Where Running = 3 
```

# numpy - 生成将一个数组索引到另一个数组的布尔掩码

> ID：12382197
> 
> 赞同：1
> 
> 时间：2012-09-12T06:16:15.837
> 
> 标签：numpy, pandas

很难解释我想用文字做什么，所以这里有一个例子。

假设我们有以下输入：

```
In [76]: x
Out[76]: 
0    a
1    a
2    c
3    a
4    b

In [77]: z
Out[77]: ['a', 'b', 'c', 'd', 'e'] 
```

我想得到：

```
In [78]: ii
Out[78]: 
array([[1, 0, 0, 0, 0],
       [1, 0, 0, 0, 0],
       [0, 0, 1, 0, 0],
       [1, 0, 0, 0, 0],
       [0, 1, 0, 0, 0]]) 
```

`ii`是一个布尔掩码数组，可用于`z`取回原始掩码`x`。

我当前的解决方案是编写一个转换`z`为 a的函数，`list`并使用该`index`方法获取元素的索引，`z`然后生成一行零，除了有一个索引的索引。此函数被应用于每一行`x`以获得所需的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T16:23:56.793

Surprised no one mentioned the`outer` method of `numpy.equal`:

```
In [51]: np.equal.outer(s, z)
Out[51]: 
array([[ True, False, False, False, False],
       [ True, False, False, False, False],
       [False, False,  True, False, False],
       [ True, False, False, False, False],
       [False,  True, False, False, False]], dtype=bool)

In [52]: np.equal.outer(s, z).astype(int)
Out[52]: 
array([[1, 0, 0, 0, 0],
       [1, 0, 0, 0, 0],
       [0, 0, 1, 0, 0],
       [1, 0, 0, 0, 0],
       [0, 1, 0, 0, 0]]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T08:47:14.890

对于 z 被排序的情况，这是 numpy 方法。你没有具体说明......如果熊猫需要不同的东西，我不知道：

```
# Assuming z is sorted.
indices = np.searchsorted(z, x) 
```

现在我真的不知道你为什么想要一个布尔掩码，这些索引可以应用于 z 已经返回 x 并且更紧凑。

```
z[indices] == x # if z included all x. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T08:15:50.417

第一种可能：

```
>>> choices = np.diag([1]*5)
>>> choices[[z.index(i) for i in x]] 
```

`[z.index(i) for i in x]`如其他地方所述，您可以通过以下方式更改列表理解`np.searchsorted(z, x)`

```
>>> choices[np.searchsorted(z, x)] 
```

请注意，正如[@seberg](https://stackoverflow.com/users/455221/seberg)在评论中所建议的那样，您应该使用`np.eye(len(x))`而不是`np.diag([1]*len(x))`. 该`np.eye`函数直接为您提供一个二维数组，其中对角线为 1，其他位置为 0。

# symfony - 如何查看查询并找到 sql 语法错误 - Symfony2

> ID：12382199
> 
> 赞同：0
> 
> 时间：2012-09-12T06:16:28.513
> 
> 标签：symfony, doctrine-orm

我正在使用 Symfony2，但出现错误：

```
[Syntax Error] line 0, col 70: Error: Expected =, <, <=, <>, >, >=, !=, got 'AND' 
```

当我单击工具栏中的按钮以查看查询时，它说它们是 4，但我只看到其中 3 个，并且没有包含“AND”的内容。我的问题是我在哪里可以找到第 0 行第 70 行，我怎样才能看到错误的查询以便能够修复它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:09:22.610

您应该能够根据 symfony 异常回溯找出错误发生的位置。

要查看创建查询后刚刚执行了哪些 sql，可以在 Query 对象上使用 getSQL() 方法。

对于查询生成器：

```
$sqlString = $qb->methodsToCreateQuery()
   ->getQuery()
   ->getSQL; 
```

或对于 DQL：

```
$sqlString = $em->createQuery("some DQL query")->getSQL(); 
```

# android - wowza 媒体流中的安全流

> ID：12382205
> 
> 赞同：1
> 
> 时间：2012-09-12T06:17:50.350
> 
> 标签：android, ios, https, wowza, rtmps

我正在设置 wowza 服务器，并且可以在 iOS 和 android 中播放我的文件。（视频）

有人可以建议我如何为 iOS 流启用***HTTPS ，为 android 流启用******RTMPS***。

作为初步步骤，我已经生成了我的自签名证书。（我不知道如何将它与 wowza 服务器一起使用）

请帮助我实现这一目标。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:07:42.703

您是否配置了 vhost.xml 文件？

[http://www.wowza.com/forums/content.php?128](http://www.wowza.com/forums/content.php?128)

# c++ - winsock中使用的FAR和FAR *的区别

> ID：12382206
> 
> 赞同：0
> 
> 时间：2012-09-12T06:17:52.170
> 
> 标签：c++, c, winapi, winsock

我想从*WinSock*知道这个函数之间`FAR`和使用的区别。`FAR *`

 *```
int PASCAL FAR connect (SOCKET s, const struct sockaddr FAR * name, int len); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:00:38.613

您可以放心地忽略这些`FAR`关键字，因为它们不再使用。

很久以前，在 Win16 时代，有 16 位指针（`NEAR`）和 32 位指针（`FAR`）。他们的处理方式不同，在某些情况下并不简单。自从Win32开始以来，这种差异已经消失了。Win64 也没有使用分段内存模型。

与此同时，在硬件层面，这些细分市场仍然存在于英特尔架构中。但是 Windows 对用户模式程序员（以及内核模式驱动程序编写者）完全隐藏了这些细节。

您可能仍会在头文件中找到这些关键字，因为它们不会伤害任何人。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T06:23:49.000

在这两种情况下，当此代码用于分段内存模型时，它们都会修改指针的大小。`const struct sockaddr FAR * name`表示名称将是一个 32 位指针。`int PASCAL FAR connect`表示任何指向连接函数的指针都是 32 位指针。另一种方法是`NEAR`这意味着指针是 16 位的。

但自 Windows 3.1 以来，没有人使用分段内存模型。它们太老了，我什至不确定我使用的术语是否正确。它们太老了，我敢打赌这里一半以上的常客永远不会听说过它们。所以我想我可以自信地说你可以忽略 FAR 的任何使用，只是假装它不存在。

你在哪里看到这个？*

# file-upload - 在 ASP.NET 文件上传控件上使用 Selenium Webdriver C# 自动上传文件

> ID：12382211
> 
> 赞同：0
> 
> 时间：2012-09-12T06:18:04.047
> 
> 标签：file-upload, selenium, automation, webdriver

我有一个 ASP.NET 文件上传控件，当您单击上传按钮选择要上传的文件时，它会打开一个窗口。但问题是 webdriver 无法识别窗口，因此无法选择要上传的文件。

我在 stackoverflow 中找到了许多使用 sendkeys 输入文件路径的解决方案。我认为当你有 html 文件上传控制时，这很有效。就我而言，我有 ASP.NET 文件上传控件，它没有文本框，我可以在其中使用 sendkeys 输入文件路径。

我该如何解决这个问题？有什么建议么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-27T07:30:17.613

您可以使用 Windows 自动化库来识别窗口。UIspy 可用于识别窗口的属性。添加对`System.Windows.Automation`项目的引用。

# sql - 生成在两个值之间具有 SUM 的所有行组

> ID：12382213
> 
> 赞同：3
> 
> 时间：2012-09-12T06:18:17.957
> 
> 标签：sql, sql-server

我有如下表（产品）

```
id  name      quality  weight
1   Demir-1   ST-1     10
2   Demir-2   ST-2      7
3   Demir-3   ST-1     20
4   Demir-2   ST-3      8
5   Demir-1   ST-3      6
6   Demir-4   ST-2     10
7   Demir-2   ST-2     12
8   Demir-1   ST-1     15
9   Demir-1   ST-3     10
10  Demir-3   ST-3      5
11  Demir-2   ST-2      5 
```

现在，如果用户想要获取重量总和在 20 到 25 之间且 name='Result-2' 的产品列表，则结果应如下所示。重量总和在 20 到 25 之间时，必须显示所有组合。

```
 id name      quality  weight    
  4 Demir-2   ST-3      8   
  7 Demir-2   ST-2     12   
 11 Demir-2  ST-2       5
------------------------------
  2 Demir-2   ST-2      7
  4 Demir-2   ST-3      8
 11 Demir-2   ST-2      5
------------------------------ 
------------------------------ 
  1 Demir-1   ST-1     10
  8 Demir-1   ST-1     15 
```

您可以看到总和（重量）为 25。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T09:29:27.070

```
DECLARE @tblProducts TABLE(Id INT IDENTITY, ProductName varchar(50),Quality varchar(50), ProductWeight int)
INSERT INTO @tblProducts SELECT 'Demir-1','ST-1',10
INSERT INTO @tblProducts SELECT 'Demir-2','ST-2',7
INSERT INTO @tblProducts SELECT 'Demir-3','ST-1',20
INSERT INTO @tblProducts SELECT 'Demir-2','ST-3',8
INSERT INTO @tblProducts SELECT  'Demir-1','ST-3',6
INSERT INTO @tblProducts SELECT  'Demir-4','ST-2',10
INSERT INTO @tblProducts SELECT 'Demir-2','ST-2' ,12
INSERT INTO @tblProducts SELECT  'Demir-1','ST-1',15
INSERT INTO @tblProducts SELECT  'Demir-1','ST-3',10
INSERT INTO @tblProducts SELECT 'Demir-3','ST-3' ,5
INSERT INTO @tblProducts SELECT 'Demir-2' ,'ST-2 ',5

 ;WITH Cte (Id,ProductQuality,ProductIds,ProductNames,ProductQualities,ProductTotalWeight,ProductWeights,ProductName1,ProductName2) AS
(
    SELECT  Id
            ,Quality            
            , ',' + CAST(Id AS VARCHAR(MAX))  
            ,',' + CAST(ProductName AS VARCHAR(MAX))
            ,',' + CAST(Quality AS VARCHAR(MAX)) 
            ,ProductWeight
            , ',' + CAST(ProductWeight AS VARCHAR(MAX)) 
            ,ProductName
            ,CAST(ProductName AS VARCHAR(MAX))
    FROM @tblProducts
    UNION ALL
    SELECT p.Id
            , p.Quality            
            ,c.ProductIds + ',' +  CAST(p.Id AS VARCHAR(MAX))
            ,c.ProductNames + ',' +  CAST(p.ProductName AS VARCHAR(MAX)) 
             ,c.ProductQualities + ',' + CAST(p.Quality AS VARCHAR(MAX)) 
             ,c.ProductTotalWeight + p.ProductWeight          
            ,c.ProductWeights + ',' + CAST(p.ProductWeight AS VARCHAR(MAX))
            ,p.ProductName
            ,c.ProductName2
    FROM @tblProducts AS p JOIN Cte c ON p.Id < c.Id
    WHERE  p.ProductName = c.ProductName2
    )
SELECT 
        ProductIds = STUFF(ProductIds,1,1,'')
        ,ProductNames = STUFF(ProductNames,1,1,'')
        ,ProductQualities = STUFF(ProductQualities,1,1,'')
        ,ProductTotalWeight
        ,ProductWeights = STUFF(ProductWeights,1,1,'')
FROM CTE 
WHERE ProductTotalWeight BETWEEN 20 AND 25 
```

**结果**

```
ProductIds  ProductNames             ProductQualities   ProductTotalWeight  ProductWeights
3           Demir-3                 ST-1                20                  20
11,7,2      Demir-2,Demir-2,Demir-2 ST-2 ,ST-2,ST-2     24                  5,12,7
11,7,4      Demir-2,Demir-2,Demir-2 ST-2 ,ST-2,ST-3     25                  5,12,8
11,4,2      Demir-2,Demir-2,Demir-2 ST-2 ,ST-3,ST-2     20                  5,8,7
10,3        Demir-3,Demir-3         ST-3,ST-1           25                  5,20
9,1         Demir-1,Demir-1         ST-3,ST-1           20                 10,10
9,8         Demir-1,Demir-1         ST-3,ST-1           25                 10,15
8,1         Demir-1,Demir-1         ST-1,ST-1           25                 15,10
8,5         Demir-1,Demir-1         ST-1,ST-3           21                  15,6
7,4         Demir-2,Demir-2         ST-2,ST-3           20                  12,8 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T09:20:17.100

不幸的是，SQL 并不是正确的编码引擎，无法从具有给定计算的表中得出所有组合，正如我一起破解的 SQL 代码所示。

通常我会建议这是用程序语言编码的，因为它的性质。另请注意，此处的解决方案使用较大的输入数据集可以快速耗尽 SQL 的递归限制。可能的产品数量也可以增长到足够大，以至于运行速度非常缓慢。

```
drop table products
drop table #MinW
drop table #Products
go
create table products
(
id  int,
name  varchar(20),  
quality varchar(20),
[weight] int
) 
go
insert into products
select
1,   'Demir-1',   'ST-1',     10 
union
select 2,   'Demir-2',   'ST-2',      7 
union
select 3,   'Demir-3',   'ST-1',     20 
union
select 4,   'Demir-2',   'ST-3',      8 
union
select 5,   'Demir-1',   'ST-3',      6 
union
select 6,   'Demir-4',   'ST-2',     10 
union
select 7,   'Demir-2',   'ST-2',     12 
union
select 8,   'Demir-1',   'ST-1',     15 
union
select 9,   'Demir-1',   'ST-3',     10 
union
select 10,  'Demir-3',   'ST-3',      5 
union
select 11,  'Demir-2',   'ST-2',      5 
go
select 
p.id, p.name, p.quality, p.weight
into #MinW
from products p
inner join
(
select name,min(weight) as weight
from products group by name having min(weight) < 25
) as minW
on p.name = minW.name and p.weight = minW.weight

go
with weightProducts (id, name, [weight],history)
as
( 
select id, name,[weight],convert(varchar(1024),'"'+convert(varchar(10),id)+'",') from #minW
union all
select products.id, products.name,products.[weight] + weightProducts.[weight],convert(varchar(1024),weightProducts.history+'"'+convert(varchar(10),products.id)+'",') from products, weightProducts where products.name = weightproducts.name and  charindex('"'+convert(varchar(10),products.id)+'",',weightProducts.history)<=0 and (products.weight + weightProducts.weight) < 25
)
-- Statement using the CTE
select *
into #Products
from weightProducts
where weight between 20 and 25

go

select 
p1.history,
p2.id,
p2.quality,
p2.weight,
p1.weight as totalWeight
from #Products p1
inner join
products p2 on p1.name = p2.name and charindex('"'+convert(varchar(10),p2.id)+'",',p1.history)>0
order by 
p1.history,
p2.id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:23:11.190

```
SELECT * FROM tablename
WHERE name IN (
 SELECT name FROM tablename 
 GROUP BY name
 HAVING SUM(weight) BETWEEN 20 AND 25) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:24:09.187

这个查询怎么样：

```
select id, name, quality, weight from PRODUCTS
group by id, name, quality, weight
having sum(weight) between 20 and 25 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T06:25:42.507

尝试这个：

```
SELECT * FROM products
WHERE name IN (
              SELECT name FROM products
              GROUP BY name
              HAVING SUM(weight) BETWEEN 20 AND 25) 
```

# ios - ios linkedIn oauth没有成功消息

> ID：12382216
> 
> 赞同：0
> 
> 时间：2012-09-12T06:18:38.633
> 
> 标签：ios, oauth, uiwebview, linkedin

[我从https://github.com/ResultsDirect/LinkedIn-iPhone](https://github.com/ResultsDirect/LinkedIn-iPhone)下载了一个示例。该示例工作正常，但我需要自己编写授权，所以我创建了 UIWebView 并在其中放置了一个断点

> -(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType{

当我输入我的登录名和密码时返回这个 ![链接回答](../Images/b2a1b33bef19772be35b2e054ef8b49f.png)

有谁知道为什么我在 shouldStartLoadWithRequest 中没有收到成功消息？它只是下载而不会在断点处停止，尽管我之前在断点处停止过。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T13:11:06.963

有一个错误，而不是 -shouldStartLoadWithRequest 我应该查看 -webViewDidFinishLoad。这是一个解决方案

# servlets - 在 POI 中读取 .txt 文件

> ID：12382221
> 
> 赞同：0
> 
> 时间：2012-09-12T06:19:00.870
> 
> 标签：servlets, apache-poi

我们可以使用 POI 读取 .txt 文件吗？我能够读取 excel 和 pdf 文件，但是当我尝试读取 .txt 文件时，它给了我错误，例如

> java.io.IOException：无法读取整个标头；读取 41 个字节；预期 512 字节

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:39:56.627

不，你不能。[Apache POI](http://poi.apache.org/)适用于 Microsoft Office 文件格式，例如 .xls 或 .docx

要处理 .txt 文件，您需要 BufferedReader 之类的东西。只需在线查看，您就会发现数量惊人的关于如何使用 Java 读取纯文本文件的教程和文章。

# c# - 获得永久 facebook 访问令牌

> ID：12382226
> 
> 赞同：2
> 
> 时间：2012-09-12T06:19:29.680
> 
> 标签：c#, facebook, facebook-c#-sdk

我已使用 JSDK 为我的 facebook 应用程序验证用户身份。我正在获取访问令牌，但它会在 1/2 小时内过期。那么如何获得长期访问令牌？

我使用的代码是：

```
 var fb = new FacebookClient();
 Dictionary<string,Object> sParams=new Dictionary<string,Object>();
 sParams.Add("client_id",My_App_ID);
 sParams.Add("client_secret",My_App_Secret);
 sParams.Add("grant_type","fb_exchange_token");
 sParams.Add("fb_exchange_token",Short_lived_accessToken);
 dynamic result = fb.Get("oauth/access_token",sParams);
 fb.AccessToken = result.access_token; 
```

但它给了我错误**Invalid JSON String** at line`dynamic result = fb.Get("oauth/access_token",sParams);`

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T00:26:25.350

使用此代码：

```
 var client = new FacebookClient(Short_lived_accessToken);

        dynamic result = client.Post("oauth/access_token", new
        {
            client_id = My_App_ID,
            client_secret = My_App_Secret,
            grant_type = "fb_exchange_token",
            fb_exchange_token = Short_lived_accessToken
        });

        Response.Write("Long live access token: [" + result.access_token + "]"); 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T09:23:10.607

您将从端点获得的返回*不是*JSON，而是表单中的纯文本

```
access_token=new_long-lived_access_token&expires=5130106 
```

所以你必须以某种方式告诉你的应用程序（？），结果不是 JSON；或者，如果 FacebookClient::Get 始终期望答案是 JSON，则您可能必须完全使用不同的方法来发出请求。

# python - 终止等待信号量的python应用程序

> ID：12382229
> 
> 赞同：0
> 
> 时间：2012-09-12T06:19:31.393
> 
> 标签：python, multithreading, python-2.7, exit, kill

我想知道为什么按下 ctrl+c 时 python2.7 不放弃阻塞操作，我无法杀死我的线程应用程序，有几个套接字等待，信号量等待等等。在 python3 中， ctrl+c 丢弃了所有阻塞操作并垃圾收集了所有内容，释放了所有套接字等等......是否有（我相信有，我只是还不知道如何）一种方法来完成这个？信号手柄？多谢你们

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:18:27.673

我猜你正在启动线程，然后主线程正在等待在终止时加入它们。

您应该在主线程中捕获由 Ctrl-C 生成的异常，以便通知生成的线程终止（例如，更改每个线程中的标志）。这样，所有子线程将终止，主线程将完成连接调用，到达主线程的底部。

# android - 突出显示并保存 WebView 中的选定文本？

> ID：12382231
> 
> 赞同：0
> 
> 时间：2012-09-12T06:19:35.187
> 
> 标签：android, webview, android-4.0-ice-cream-sandwich

我正在使用 Android 4.0.3 。我正在尝试从 WebView 中选择文本并将其保存为字符串。我试过这个代码：

```
public void SelectText(){  
try{  
           KeyEvent shiftPressEvent =   
           new KeyEvent(0, 0, KeyEvent.ACTION_DOWN,       
           KeyEvent.KEYCODE_SHIFT_LEFT, 0, 0);  
           shiftPressEvent.dispatch(mWebView);  

}catch(Exception e){  
  throw new AssertionError(e);  
} 
```

但它不起作用。在 Android 4 中已经有一个用于选择文本的内置菜单，但是如何覆盖这个菜单？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:29:45.687

此解决方案使用 javascript 界面将触摸传递到页面，并有效地将 Android 的原生选择排除在外。这已经从 2.2 到 4.0.3 进行了测试。

看看这个[Github](https://github.com/btate/BTAndroidWebViewSelection)项目。

# python - Django Query distinct values 有效，但我无法使用查询结果

> ID：12382232
> 
> 赞同：10
> 
> 时间：2012-09-12T06:19:40.020
> 
> 标签：python, django, django-views, distinct, django-queryset

我有一个表格列，其中一些值是双重或三重写入的。我想要一个独特的查询。

我试过

```
staff = Staff.objects.all().values('person').distinct()
for k in staff:
     j = k.person
     print j,k 
```

我得到 k.person 的“dict object has not attribute as person”

我得到 k 给了我这样的结果

```
{'person': 778L}
{'person': 779L}
{'person': 780L}
{'person': 781L}
{'person': 782L}` 
```

你知道我怎样才能得到人的价值吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-12T06:26:45.267

它不是问题，`distinct`而是`values()`. `values()`为您提供您要求的值的字典。要从 dict 获取属性，您可以使用`dict['attr_name']`.

所以你可以试试这个：

```
staff = Staff.objects.all().values('person').distinct()
for k in staff:
    j = k['person']
    print j,k 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-12T07:17:23.717

@Rohan 是对的。`dict['attr_name']`会给你你想要的。

```
staff = Staff.objects.all().values('person').distinct()
print staff.query

#it returns:
#SELECT DISTINCT "staff"."person" FROM "staff" 
```

除此之外，如果你使用这个[补丁](https://code.djangoproject.com/ticket/6422)，你可以通过以下结构实现：

```
staff = Staff.objects.all().distinct('person')
for pr in staff:
    print pr['person'] 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2020-09-20T19:30:40.717

```
query = Entity.objects.filter(field=x).order_by('field').distinct('field_name')

distinct('field_name') not supported? you can do the following.

----------

    query = Entity.objects.filter(field_name=value).order_by('field')

    copy1 = []

    copy2 = []
for data in query:
    if data.field_name not in copy1:
            copy1.append(data.field_name)
            copy2.append(data)

    query = copy2 
```

# android - 用于图像处理的原生 vs HTML5 移动应用程序？

> ID：12382234
> 
> 赞同：3
> 
> 时间：2012-09-12T06:19:47.127
> 
> 标签：android, ios, html, mobile

我正在构建一个处理量很大的**移动应用程序。**我不确定像**phonegap/titanium**这样的 html5 移动框架是否让我执行**处理器/内存密集型任务**，例如图像识别、动态图像拼接。如果是，建议使用**html5/js 还是原生**？这两个选项之间的逐点比较将对我有很大帮助！

谢谢

# ruby - 未找到宝石“dm-core”

> ID：12382241
> 
> 赞同：1
> 
> 时间：2012-09-12T06:20:20.917
> 
> 标签：ruby, apache, sinatra, passenger, datamapper

我正在尝试在我的 Ruby/Sinatra 应用程序中使用 DataMapper。然而，当乘客重新启动服务器时，我收到一个可爱的错误页面，告诉我尝试`require 'dm-core'`.

诡异的。这是我已安装的 gem 列表：

```
max indexer $ gem list | grep dm
dm-aggregates (1.2.0)
dm-constraints (1.2.0)
dm-core (1.2.0)
dm-migrations (1.2.0)
dm-redis-adapter (0.7.0)
dm-serializer (1.2.2)
dm-timestamps (1.2.0)
dm-transactions (1.2.0)
dm-types (1.2.2)
dm-validations (1.2.0)
max indexer $ gem list | grep mapper
data_mapper (1.2.0) 
```

我显然有`dm-*`and `data_mapper`，所以这是怎么回事？

# c#-4.0 - X 轴上的日期 - .Net 图表

> ID：12382247
> 
> 赞同：1
> 
> 时间：2012-09-12T06:21:11.177
> 
> 标签：c#-4.0, mschart

我在 .Net 图表中工作。我想在 X 轴上显示日期。例如：如果我选择过去 52 周，那么我应该显示过去 52 周的图表，而这 52 周的开始日期应该在 x 轴上。我不知道如何做到这一点..我尝试过使用代码..

```
 DateTime Frm = sessionManager.ChartViewPeriodFrom;
        DateTime To = sessionManager.ChartViewPeriodTo;

        double min = Frm.ToOADate();
        double max = To.ToOADate();

        Chart1.ChartAreas["ChartArea1"].AxisX.Minimum = min;
        Chart1.ChartAreas["ChartArea1"].AxisX.Maximum = max;
        Chart1.ChartAreas["ChartArea1"].AxisX.Interval = 7; 
```

在这里，我得到的 Frm 为“9/17/2011 12:00:00 AM”但是，在图表中，最短日期从“9/21/2011 12:00:00 AM”开始。如何解决这个...

我也试过这样..[编辑部分]

```
 Chart1.Series["Series1"].XValueType = ChartValueType.Date;
        Chart1.ChartAreas["ChartArea1"].AxisX.Minimum = (new DateTime(2011, 09, 17, 12, 00, 00)).ToOADate();
        Chart1.ChartAreas["ChartArea1"].AxisX.Maximum = (new DateTime(2012, 09, 08, 12, 00, 00)).ToOADate();
        Chart1.ChartAreas["ChartArea1"].AxisX.Interval = 7;
        Chart1.ChartAreas["ChartArea1"].AxisX.IsMarginVisible = false; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T07:09:25.667

经过长时间的搜索......我已经解决了我的上述问题......但我仍然不知道它是如何工作的......

```
 Chart1.ChartAreas["ChartArea1"].AxisX.IntervalAutoMode = IntervalAutoMode.VariableCount;
        Chart1.Series["Series1"].XValueType = ChartValueType.Date;
        DayOfWeek ds = DayOfWeek.Wednesday;
        double dblIntervalOffset = Convert.ToDouble(ds);
        Chart1.ChartAreas["ChartArea1"].AxisX.IntervalOffset = dblIntervalOffset;
        Chart1.ChartAreas["ChartArea1"].AxisX.Minimum = min;
        Chart1.ChartAreas["ChartArea1"].AxisX.Maximum = max;
        Chart1.ChartAreas["ChartArea1"].AxisX.Interval = 7;
        Chart1.ChartAreas["ChartArea1"].AxisX.IsMarginVisible = false; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-19T08:00:42.173

`Indexed`必须为系列数据设置属性。

# mysql - Mysql删除顺序

> ID：12382250
> 
> 赞同：18
> 
> 时间：2012-09-12T06:21:20.320
> 
> 标签：mysql, sql

我有一张桌子，我只按 ID 顺序显示最新的 30 行。

我正在尝试使用下面的查询删除 30 个最新行之后的所有行。

```
DELETE FROM table WHERE type = 'test' ORDER BY id DESC LIMIT 30, 60 
```

我在下面不断收到此错误

```
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' 60' at line 1 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-09-12T06:25:13.327

试试这个，

```
DELETE FROM table
WHERE ID IN
        (
        SELECT ID
        FROM
            (
                SELECT ID
                FROM table
                WHERE Type = 'TEST'
                ORDER BY ID
                LIMIT 30,60
            ) a
        ) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-12T06:23:33.550

*第二次编辑*：虽然 MySQL 在删除语句中支持 LIMIT，但它不允许 OFFSET。这意味着您不能跳过前 30 行。

对 id （或任何其他主键）进行子选择：

```
DELETE FROM table WHERE id IN (SELECT id FROM table WHERE type = 'test' ORDER BY id DESC LIMIT 30, 60) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:26:01.007

这是不可能的。您可以尝试使用嵌套的 select 语句，有点像这样：

```
DELETE FROM table
WHERE type = 'test'
AND ID IN (SELECT id from table where type = 'test' order by id desc limit 30 ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:26:47.123

像这样试试

```
DELETE FROM table WHERE id in(SELECT id FROM table WHERE type = "test" order by id desc limit 30, 60) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-09-04T09:50:05.423

我无法在子查询中使用限制子句，所以我使用的解决方案，有点混乱，是：-

```
select group_concat(id) into @idList from
( 
select id from  table order by id desc limit 0,30
) as saveIds;
delete from table where not find_in_set(id,@idList) 
```

或者，

```
select group_concat(id) into @idList from
( 
select id from  table order by id desc limit 30
) as saveIds;
delete from table where find_in_set(id,@idList) 
```

# gdata - 在谷歌电子表格中设置过滤器和按列排序

> ID：12382255
> 
> 赞同：0
> 
> 时间：2012-09-12T06:21:35.483
> 
> 标签：gdata, google-docs-api, google-sheets, gdata-python-client

我正在探索 gdata python 库，以便将每日库存报告上传到谷歌电子表格。我已经能够上传csv并设置acl。

由于与我共享它的员工不太精通 gdocs，因此我需要在与他们共享电子表格之前应用自动过滤器，这样他们就不必自己应用过滤器。

我还需要它按特定列排序。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T16:10:59.443

据我所知，google-docs-api 不包含对过滤器的支持。你可以在这里查看：

[https://developers.google.com/google-apps/spreadsheets/](https://developers.google.com/google-apps/spreadsheets/)

据我所知，该 api 对格式化单元格、注释或任何比更新单元格内容更深层次的内容没有帮助。您可以创建工作表和电子表格，但我不知道有什么对您的问题有用

# validation - CakePHP 验证不起作用

> ID：12382257
> 
> 赞同：2
> 
> 时间：2012-09-12T06:21:38.173
> 
> 标签：validation, cakephp

我是 cakephp 的新手，我需要验证一个表单。

这是代码：控制器：

```
<?php
class TasksController extends AppController {
    var $name = 'Tasks';
    var $helpers = array('Html','Form','Session');
     public function index(){
     }
    function add_task()
    {
        if(!empty($this->data)) {
            //print_r($this->data);
            $this->Task->set($this->data);
            if ($this->Task->validates()) {
                // it validated logic
                //echo "ttt";
            } else {
                // didn't validate logic
                echo $errors = $this->Task->validationErrors;
            }
        }
    }
}
?> 
```

模型：

```
<?php
    class Task extends AppModel
    {
        public var $name = 'Task';
        var $useDbConfig = 'travanco_erp';
        public var $useTable = 'tbl_tasks'; // This model uses a database table 'exmp'
        public var $validate = array(
                    'task_title_mm' => array(
                            'rule' => 'notEmpty',
                            'required' => true,
                            'message' => 'The title field is required'
                    ),
                    'task_description_mm' => array(
                            'rule' => 'notEmpty',
                            'required' => true,
                            'message' => 'The description field is required'
                    ),
                    'task_from_mm' => array(
                            'rule' => 'notEmpty',
                            'required' => true,
                            'message' => 'The from date field is required'
                    ),
                    'task_to_mm' => array(
                            'rule' => 'notEmpty',
                            'required' => true,
                            'message' => 'The to date field is required'
                    )
            );

    }
?> 
```

这是视图：

```
<div class="employeeForm" style="width:64%; padding:10px 30%;"> 

            <?php echo $this->Form->create('test', array('class'=>'form'));?>
            <fieldset style="width:36em; padding:0px 0px;">
                    <div style="width:475px; font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#333333; font-weight:bold; margin-left:20px; margin-top:10px;">Add Task</div>
                    <br/>
                <?php
                    /*echo $this->Form->input('task_ids_mm',        array(  'div'=>'frm_filed_new',
                                                                    'error' => array(   'wrap' => 'div',
                                                                                        'class' => 'formerror'
                                                                                    ),
                                                                    'label' => 'Task ID',
                                                                ));*/

                    echo $this->Form->input('task_title_mm',        array(  'div'=>'frm_filed_new',
                                                                    'error' => array(   'wrap' => 'div',
                                                                                        'class' => 'formerror'
                                                                                    ),
                                                                    'label' => 'Title',
                                                                ));

                    echo $this->Form->input('task_description_mm',  array(  'type' => 'textarea',
                                                                        'cols'=>60,
                                                                        'rows' => 5,
                                                                        'div'=>'frm_filed_new',
                                                                        'error' => array(   'wrap' => 'div',
                                                                                            'class' => 'formerror'
                                                                                    ),
                                                                        'label' => 'Description',
                                                                ));

                    echo $this->Form->input('task_from_mm',     array(  'div'=>'frm_filed_new','id'=>'task_from_mm','value'=>'',
                                                                    'error' => array(   'wrap' => 'div',
                                                                                        'class' => 'formerror'
                                                                                    ),
                                                                    'label' => 'From',
                                                                ));
                    echo $this->Form->input('task_to_mm',   array(  'div'=>'frm_filed_new','id'=>'task_to_mm','value'=>'',
                                                                    'error' => array(   'wrap' => 'div',
                                                                                        'class' => 'formerror'
                                                                                    ),
                                                                    'label' => 'To',
                                                                ));

                ?>  
                <br/>
                <?php echo $this->Form->button('Submit', array('type'=>'submit','escape'=>true)); ?>
            </fieldset>  
            <?php echo $this->Form->end(); ?>

        </div> 
```

验证不起作用。

我的代码有什么错误？我该如何解决这个问题？

编辑：

这是databse.php文件配置错误的错误。现在它更正了。并且显示错误。`print_r($errors)`但是没有显示在视图页面中，我的意思是在文本框附近。

这是那个错误数组： `Array ( [task_title_mm] => Array ( [0] => The title field is required ) [task_description_mm] => Array ( [0] => The description field is required ) [task_from_mm] => Array ( [0] => The from date field is required ) [task_to_mm] => Array ( [0] => The to date field is required ) )`

我怎样才能把它放在文本框附近？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:45:02.310

CakePHP 旨在自动验证模型并显示验证错误。自动验证在模型保存时运行。在你的情况下：

```
$this->Task->save($this->request->data); 
```

以上将触发验证。无需运行： $this->Task->validates() - 如果这样做，您还必须自己处理显示验证错误。所以我认为你应该尝试：

```
<?php
class TasksController extends AppController {
  var $name = 'Tasks';
  var $helpers = array('Html','Form','Session');

  function add_task()
  {

    if ($this->request->is('post')) {
      // If the form data can be validated and saved...
      if ($this->Task->save($this->request->data)) {
         //saved and validated
      }
    }
  }
}
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T04:52:16.150

我在您的代码中注意到您在模型中编写的一件事

```
public var $validate=array(); 
```

而是尝试

```
public $validate= array() or var $validate=array(); 
```

验证应该在单词之后起作用。谢谢 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T08:16:41.697

试试这个：

```
if ($this->Task->validates()) {
            // it validated logic
            //echo "ttt";
} else {

     $this->validateErrors($this->Task);
     $this->render();
} 
```

# directx - directx - 平面表面的阴影，照明关闭

> ID：12382260
> 
> 赞同：2
> 
> 时间：2012-09-12T06:22:09.703
> 
> 标签：directx, hlsl

我有一个带有许多顶点的平面（所有顶点的 z 都等于 0.0），并通过以下方式将纹理附加在其上并关闭照明：

```
device->SetRenderState(D3DRS_LIGHTING, false); 
```

渲染结果中有阴影。

我也尝试关闭正常：

```
device->SetRenderState(D3DRS_NORMALIZENORMALS, false); 
```

它也不起作用。

有人知道发生了什么吗？

* * *

我只希望纹理显示扭曲而没有任何灯光效果。曲面来自细分的 NURBS 控制点。

* * *

纹理的颜色似乎被 VertexShader 改变了，这可能吗？以及如何解决？

* * *

呈现如下的纯白色纹理：

[http://dl.dropbox.com/u/2318704/image/effect.png](http://dl.dropbox.com/u/2318704/image/effect.png)

* * *

问题改为[directx - 纹理渲染结果不正确](https://stackoverflow.com/questions/12400167/directx-texture-render-result-is-incorrect)

# php - 如何从其他位置运行 php 文件？

> ID：12382265
> 
> 赞同：3
> 
> 时间：2012-09-12T06:22:40.277
> 
> 标签：php, xampp, localhost

我已经在 C 驱动器中安装了我的 XAMPP，通常，我将文件保存在此位置**C:\xampp\htdocs**并将其作为**localhost/example.php**运行。如果我将项目文件夹更改为**E:\project\example.php**，需要在 XAMPP 中更改哪些**设置才能从 C:\ 以外的其他保存位置运行文件？**.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T06:30:35.357

您可以通过编辑 XAMPP\apache\conf\httpd.conf 中的 DocumentRoot 条目来重新定位您的项目。在那里，您必须替换 DocumentRoot C:\xampp\htdocs\ 这一行

和：

```
DocumentRoot E:\Project\ 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T09:26:13.507

本教程将逐步指导此操作。

[http://mattots.blogspot.com/2009/10/changeing-document-root-in-xampp.html](http://mattots.blogspot.com/2009/10/changing-document-root-in-xampp.html)

# openwrt - 如何在 openwrt 的 coreutils 中构建完整的 df 命令？

> ID：12382268
> 
> 赞同：0
> 
> 时间：2012-09-12T06:22:44.490
> 
> 标签：openwrt

我在openwrt中需要一个完整的df命令，我知道它在coreutils中，现在我在openwrt中运行make来构建coreutils，似乎它构建了除df之外的所有东西，那么我该如何修改Makefile来构建df？非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:34:49.910

一般来说，它是这样的

1.  查看本地计算机的提要存储库，请参阅此位置以获取 URL [http://wiki.openwrt.org/doc/devel/feeds](http://wiki.openwrt.org/doc/devel/feeds)
2.  修改你想要的包
3.  编辑`feeds.conf`或`feeds.conf.default`以从本地副本获取提要
4.  用于`./scripts/feeds update|install`更新然后安装这样的包，
5.  `make menuconfig`选择建筑

# c++ - QReadWriteLock 递归

> ID：12382271
> 
> 赞同：6
> 
> 时间：2012-09-12T06:23:04.687
> 
> 标签：c++, qt, mutex, qthread, readwritelock

我在递归模式下使用 QReadWriteLock。

这段代码本身没有意义，但我从这里出现的问题：

```
lock->lockForWrite();
lock->lockForRead(); 
```

lockForRead 被阻止。请注意，这是在递归模式下。

我看到它的方式是 Write 是一个“高级”锁，它允许我读取和写入受保护的数据，而 Read lock 只允许读取。

另外，我认为如果唯一的读者是同一个请求写锁的读者，则不应阻止写锁。

我可以从 qreadwritelock.cpp 源代码中看到，没有尝试让它像我想要的那样工作。所以这不是错误，而是我发现缺少的功能。

我的问题是，应该允许这种递归吗？这种实施是否会出现任何问题？它们会是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:49:41.920

来自[QReadWriteLock 文档](http://doc.qt.nokia.com/4.7-snapshot/qreadwritelock.html)：

> 请注意，尝试递归锁定时无法更改锁定类型，即无法在已经锁定写入的线程中锁定读取（反之亦然）。

所以，就像你说的，这就是它的工作方式。我个人看不出允许在与写锁定项相同的线程上读取如何导致问题，但也许它需要低效的锁定实现？

您可以尝试在 QT 论坛上提问，但我怀疑您会得到明确的答案。如果你需要的话，你为什么不把 QT 源代码作为开始，然后自己去实现它。编写同步对象可能很棘手，但这是一个很好的学习练习。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-23T09:19:08.697

我在自己搜索相同的功能时发现了这个问题。在考虑自己实现这一点时，我意识到这样做**肯定会出现问题**：

所以你想把你的锁从共享（读）升级到独占（写）。正在做

```
lock->unlock();
lock->lockForWrite(); 
```

不是您想要的，因为您不希望其他线程在当前线程释放读锁后立即获得写锁。但如果有一个

```
lock->changeModus(WRITE); 
```

或类似的东西，你会造成死锁。为了获得写锁，锁会阻塞，直到所有当前的读锁都被释放。所以在这里，多个线程会互相阻塞等待。

# python - 将windows上编写的psftp命令转换为python中的linux

> ID：12382273
> 
> 赞同：1
> 
> 时间：2012-09-12T06:23:15.207
> 
> 标签：python, operating-system, sftp

我正在研究python，实际上我正在尝试连接到sftp并在连接后获取一些文件。

**我在Windows**上遵循的过程如下

```
import os

psftpCmd='psftp sftp.example.com -l user -pw pass -b client_configurations\lifebridge.scr -batch'

os.system(psftpCmd) 
```

lifebrige.scr 中的代码是

```
cd lifebridge
lcd feeds\lifebridge
get jobs.xml
bye 
```

所以我能够成功获取文件我想在linux（fedora）机器上执行相同的过程，我尝试了以下

```
import os

psftpCmd='psftp sftp.example.com -l user -pw pass -b client_configurations\lifebridge.scr -batch'
os.system(psftpCmd) 
```

**结果**：

```
sh: psftp: command not found 
```

在这里我可以期待 psftp 是 putty 命令，所以需要在 linux 上做同样的事情，谁能让我现在如何在 linux 中编写相同的命令

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:32:51.107

在 Linux 上，命令是 sftp。

# sql-server - getdate() performance issue sql server 2000

> ID：12382275
> 
> 赞同：0
> 
> 时间：2012-09-12T06:23:22.363
> 
> 标签：sql-server, sqlperformance

I have a table with fallowing columns

```
symbol |market| bid_price | ask_price | update_time
------- ------ ----------- ----------- ------------
ABC        US     123.00     675.00         20012-09-10 4:24:32.986
CDE        SG     456.00     545.00         20012-09-10 4:26:32.986 
```

And my application calling a SP for update this table.

```
update price_tbl 
set bid_price=@bid_price, ask_price=@ask_price, update_time = getdate() 
where market = @market and symbol = @symbol 
```

But my application calling more than 1000 updates per second. so this SP not fast enough to update the table. I checked and found getdate() function is the bottleneck. but this system running with sql server 2000\.

1.  Can I use any other method to update time other than getdate() Any
2.  other proposal for increase performance of this update.

FYI: this price_tbl having around 2000 records.

* * *

Eddied with test result.

Table Definition ..........................................................................................

```
CREATE TABLE [dbo].[GLDPrice](
    [Company_code] [varchar](10) NOT NULL,
    [Symbol] [varchar](10) NOT NULL,
    [SymbolA] [varchar](10) NULL,
    [SymbolB] [varchar](10) NULL,
    [Market] [char](2) NOT NULL,
    [ExchangeCode] [varchar](4) NULL,
    [Remark] [char](6) NULL,
    [Last_done] [numeric](19, 8) NULL,
    [Change] [numeric](19, 8) NOT NULL,
    [Open_Price] [numeric](19, 8) NULL,
    [Closing_Price] [numeric](19, 8) NULL,
    [Buy_Price] [numeric](19, 8) NULL,
    [Sell_Price] [numeric](19, 8) NULL,
    [Day_High] [numeric](19, 8) NULL,
    [Day_Low] [numeric](19, 8) NULL,
    [Time_done] [char](5) NULL,
    [Cumm_vol] [int] NOT NULL,
    [Buy_quantity] [int] NULL,
    [Sell_quantity] [int] NULL,
    [Per_Change] [numeric](19, 8) NULL,
    [GLDBid] [numeric](19, 8) NULL,
    [GLDAsk] [numeric](19, 8) NULL,
    [GlobalGLDBid] [numeric](19, 8) NULL,
    [GlobalGLDAsk] [numeric](19, 8) NULL,
    [GLDBuyLastDone] [numeric](19, 8) NULL,
    [GLDSellLastDone] [numeric](19, 8) NULL,
    [GLDBuyLDUptTime] [datetime] NULL,
    [GLDSellLDUptTime] [datetime] NULL,
    [UpdateTime] [datetime] NOT NULL,
 CONSTRAINT [PK_GLDPrice] PRIMARY KEY CLUSTERED 
(
    [Company_code] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[GLDPrice] ADD  CONSTRAINT [DF_GLDPrice_SymbolA]  DEFAULT (' ') FOR [SymbolA]
GO
ALTER TABLE [dbo].[GLDPrice] ADD  CONSTRAINT [DF_GLDPrice_Last_done]  DEFAULT (0) FOR [Last_done]
GO
ALTER TABLE [dbo].[GLDPrice] ADD  DEFAULT (getdate()) FOR [UpdateTime]
GO 
```

SP with getdate() ..........................................................................................

```
ALTER PROCEDURE [dbo].[update_test_one]      
 @Symbol varchar(10),      
 @Market varchar(5),       
 @BuyPrice money,      
 @SellPrice money,      
 @LastPrice money,      
 @High  money,      
 @Low  money      

AS      
DECLARE @GLDBidPrice money      
DECLARE @GLDAskPrice money      
DECLARE @GlobalGLDBid  money      
DECLARE @GlobalGLDAsk  money      
DECLARE @GLDBidAdjust money      
DECLARE @GLDAskAdjust money      
DECLARE @GlobalBidAdjust money      
DECLARE @GlobalAskAdjust money    

SELECT @GLDBidPrice = @BuyPrice + 5      
SELECT @GLDAskPrice = @SellPrice + 5      
SELECT @GlobalGLDBid = @BuyPrice + 5      
SELECT @GlobalGLDAsk = @SellPrice + 5

UPDATE dbo.GLDprice      
SET Buy_price = @BuyPrice,      
Sell_price = @SellPrice,      
GLDBid = @GLDBidPrice,      
GLDAsk = @GLDAskPrice,      
Day_high = @High,      
Day_Low = @Low,      
GlobalGLDBid = @GlobalGLDBid,      
GlobalGLDAsk = @GlobalGLDAsk,    
UpdateTime=GetDate(),
Last_Done = @LastPrice    
WHERE  Symbol = @symbol AND Market = @Market 
```

SP without getdata() ............................................................................................

```
ALTER PROCEDURE [dbo].[update_test_two]      
 @Symbol varchar(10),      
 @Market varchar(5),       
 @BuyPrice money,      
 @SellPrice money,      
 @LastPrice money,      
 @High  money,      
 @Low  money      

AS      
DECLARE @GLDBidPrice money      
DECLARE @GLDAskPrice money      
DECLARE @GlobalGLDBid  money      
DECLARE @GlobalGLDAsk  money      
DECLARE @GLDBidAdjust money      
DECLARE @GLDAskAdjust money      
DECLARE @GlobalBidAdjust money      
DECLARE @GlobalAskAdjust money    

SELECT @GLDBidPrice = @BuyPrice + 5      
SELECT @GLDAskPrice = @SellPrice + 5      
SELECT @GlobalGLDBid = @BuyPrice + 5      
SELECT @GlobalGLDAsk = @SellPrice + 5

UPDATE dbo.GLDprice      
SET Buy_price = @BuyPrice,      
Sell_price = @SellPrice,      
GLDBid = @GLDBidPrice,      
GLDAsk = @GLDAskPrice,      
Day_high = @High,      
Day_Low = @Low,      
GlobalGLDBid = @GlobalGLDBid,      
GlobalGLDAsk = @GlobalGLDAsk,    
Last_Done = @LastPrice    
WHERE  Symbol = @symbol AND Market = @Market 
```

Test Script ...........................................................................................

```
DECLARE @return_value int
DECLARE @count int
DECLARE @start datetime

SET NOCOUNT ON
SET @count = 0;
set @start = CURRENT_TIMESTAMP

WHILE (@count < 10000)
BEGIN
SET @count = @count + 1
EXEC    [dbo].[update_test_one]
        @Symbol = N'I9T',
        @Market = N'SG',
        @BuyPrice = 0.8,
        @SellPrice = 0.8,
        @LastPrice = 0.8,
        @High = 0.8,
        @Low = 0.8

EXEC    [dbo].[update_test_one]
        @Symbol = N'0001.HK',
        @Market = N'HK',
        @BuyPrice = 112,
        @SellPrice = 112,
        @LastPrice = 112,
        @High = 112,
        @Low = 112
END

print 'Test 01 : ' + CONVERT(varchar(20),DATEDIFF(millisecond,@start,CURRENT_TIMESTAMP))

SET @count = 0;
set @start = CURRENT_TIMESTAMP
WHILE (@count < 10000)
BEGIN
SET @count = @count + 1
EXEC    [dbo].[update_test_two]
        @Symbol = N'I9T',
        @Market = N'SG',
        @BuyPrice = 0.8,
        @SellPrice = 0.8,
        @LastPrice = 0.8,
        @High = 0.8,
        @Low = 0.8

EXEC    [dbo].[update_test_two]
        @Symbol = N'0001.HK',
        @Market = N'HK',
        @BuyPrice = 112,
        @SellPrice = 112,
        @LastPrice = 112,
        @High = 112,
        @Low = 112
END

print 'Test 02 : ' + CONVERT(varchar(20),DATEDIFF(millisecond,@start,CURRENT_TIMESTAMP))
GO 
```

Result:

```
Test 01 : 82310
Test 02 : 12176 
```

Result with reverse test.

```
Test 02 : 15413
Test 01 : 81636 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T06:44:46.577

> I checked and found getdate() function is the bottleneck

I can absolutely 100% guarantee that your finding is wrong. The performance problem is by no means `getdate()`. For the record, not only calling `getdate()` 1000 times is not visible in the performance, but getdate()` happens to be a [runtime constant function](http://blogs.msdn.com/b/conor_cunningham_msft/archive/2010/04/23/conor-vs-runtime-constant-functions.aspx)!

If you want to troubleshoot SQL Server performance issues, follow a methodology like [Waits and Queues](http://msdn.microsoft.com/en-us/library/cc966413.aspx) or follow the [Performance Troubleshooting Flowchart](http://sqlcat.com/sqlcat/b/presentations/archive/2008/04/18/troubleshooting-sql-server-2005-2008-performance-and-scalability-flowchart.aspx).

My bet is that the performance problem is here:

```
where market = @market and symbol = @symbol 
```

You're either missing an appropriate index on `(market, symbol)` or the type of the parameters `@market` and/or `@symbol` are incorrect and, due to [data type precedence rules](http://msdn.microsoft.com/en-us/library/ms190309.aspx), cause table scans instead of index seeks.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:06:31.023

Since you haven't presented a benchmark, I thought I'd do one, and then everyone can poke holes in the methodology. Hence CW :-):

```
SET NOCOUNT ON
go
create table prices (symbol char(3) not null,market char(2) not null,
    bid_price decimal(18,4) not null,ask_price decimal(18,4) not null,
    update_time datetime not null,
    constraint PK_prices PRIMARY KEY (symbol,market)
)
GO
create table #Digits (d int not null)
insert into #Digits (d)
select 0 union all select 1 union all select 2 union all select 3 union all select 4 union all
select 5 union all select 6 union all select 7 union all select 8 union all select 9
create table #Numbers (n int not null)
insert into #Numbers (n)
select d1.d * 10000 + d2.d * 1000 + d3.d * 100 + d4.d * 10 + d5.d
from #Digits d1,#Digits d2,#Digits d3,#Digits d4,#Digits d5

insert into prices (symbol,market,bid_price,ask_price,update_time)
select
    CHAR(65+n/(26*26)) + CHAR(65+((n/26)%26)) + CHAR(65+(n%26)),m.market,n,n+5,GETDATE()
from
    #Numbers nu,
    (select 'US' as market union all select 'SG') m
where nu.n < (26*26*26)
go
drop table #Digits
drop table #Numbers 
```

The above sets us up with a table with ~30000 rows (so, more than you say you have). It also warms up the table, because every row has been recently accessed. I can't remember what invocations will clear this out for SQL Server 2000, but it ought to be fair enough to now run the tests in either order.

```
declare @market char(2)
declare @symbol char(3)
declare @price1 decimal(18,4)
declare @price2 decimal(18,4)
declare @start datetime
declare updates cursor local static for select symbol,market,bid_price,ask_price from prices
open updates

set @start = CURRENT_TIMESTAMP

fetch next from updates into @symbol,@market,@price1,@price2
while @@FETCH_STATUS = 0
begin
    update prices 
    set bid_price=@price2, ask_price=@price1
    where market = @market and symbol = @symbol

    fetch next from updates into @symbol,@market,@price1,@price2
end
close updates
deallocate updates

print '"FAST" took ' + CONVERT(varchar(20),DATEDIFF(millisecond,@start,CURRENT_TIMESTAMP))
go
declare @market char(2)
declare @symbol char(3)
declare @price1 decimal(18,4)
declare @price2 decimal(18,4)
declare @start datetime
declare updates cursor local static for select symbol,market,bid_price,ask_price from prices
open updates

set @start = CURRENT_TIMESTAMP

fetch next from updates into @symbol,@market,@price1,@price2
while @@FETCH_STATUS = 0
begin
    update prices 
    set bid_price=@price2, ask_price=@price1,update_time = GETDATE()
    where market = @market and symbol = @symbol

    fetch next from updates into @symbol,@market,@price1,@price2
end
close updates
deallocate updates

print '"SLOW" took ' + CONVERT(varchar(20),DATEDIFF(millisecond,@start,CURRENT_TIMESTAMP))
go
drop table prices 
```

The only difference between these two cursor loops is that the second one does the `GETDATE()` based update to `update_time`, whereas the first performs no update to this column (as you indicated you'd done in your testing).

On my machine(*) , I get the result:

```
"FAST" took 20503
"SLOW" took 20436 
```

Which indicates that the "slow" method, using `GETDATE()`, was 0.1 seconds faster.

(*)

> Microsoft SQL Server 2000 - 8.00.2039 (Intel X86)
> 
> May 3 2005 23:18:38
> 
> Copyright (c) 1988-2003 Microsoft Corporation
> 
> Standard Edition on Windows NT 5.2 (Build 3790: Service Pack 2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:26:37.297

```
DECLARE @CurrentDate DateTime;
SELECT @CurrentDate = getdate();

update price_tbl 
set bid_price=@bid_price, ask_price=@ask_price, update_time = @CurrentDate
where market = @market and symbol = @symbol 
```

See if this works

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:36:17.737

I had a scenario like this and i gave a solution like this, I passed the date time as the parameter from the front end to SP. otherwise if you want to handle in the SP itself you can go for this, like

```
DECLARE @time DATETIME
Set @time = getdate() 
```

and you can pass it to your argument list, but note that we wont get the exact milliseconds in some case we handle that too in front end. because all record will have same present time with only different second value.

In front end yo can pass the value as,

```
DateTime.Now.ToString("HH:mm:ss", System.Globalization.DateTimeFormatInfo.InvariantInfo)
DateTime.Now.ToString("HH:mm:ss.fff", System.Globalization.DateTimeFormatInfo.InvariantInfo) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-19T01:27:32.337

This works for me `Test 01 : 266`

```
ALTER PROCEDURE [dbo].[update_test_one]            
     @Symbol varchar(10),      
     @Market varchar(5),       
     @BuyPrice money,      
     @SellPrice money,      
     @LastPrice money,      
     @High  money,      
     @Low  money    

    AS            
    SET NOCOUNT ON;
    UPDATE P    
    SET P.Buy_price = @BuyPrice,            
    P.Sell_price = @SellPrice,            
    P.GLDBid = @BuyPrice + C.BidRate,            
    P.GLDAsk = @SellPrice + isnull(C.AskRate,0),            
    P.Day_high = @High,            
    P.Day_Low = @Low,            
    P.GlobalGLDBid = @BuyPrice+ isnull(C.BidRateGlobal,0),            
    P.GlobalGLDAsk = @SellPrice+isnull(C.AskRateGlobal,0),          
    P.UpdateTime=CONVERT(VARCHAR(20), GETDATE(), 120),
    P.Last_Done = @LastPrice     
    FROM dbo.GLDPrice AS P    
    INNER JOIN DBO.GLDContract AS C
    ON P.Company_code=C.Company_code  
    WHERE  P.Symbol = @symbol AND P.Market = @Market 

    SET NOCOUNT OFF 
```

# java - 为什么我的 JOptionPane 中的选项颠倒了？

> ID：12382281
> 
> 赞同：4
> 
> 时间：2012-09-12T06:23:56.887
> 
> 标签：java, windows, macos, swing, joptionpane

我正在 OS X Mountain Lion 上开发和运行我的 Java 应用程序，并在自定义对话框中添加了“是”和“否”选项。但是，当我在 Windows 7 上运行我的应用程序时，我注意到“是”和“否”选项颠倒了。为了修复这个 UI 故障，我添加了以下代码：

```
 String msg = "Are you sure you want to cancel the selected bookings?";
    String[] options = new String[] { "Yes", "No" };
    int noOption = 1;
    String os = System.getProperty("os.name").toLowerCase();
    if ("mac os x".equals(os)) {
      options = new String[] { "No", "Yes" };
      noOption = 0;
    }

    int option =
        JOptionPane.showOptionDialog(null, msg, "Confirm Unbooking",
            JOptionPane.OK_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE, null, options,
            options[noOption]);
    if (option == noOption) {
      return;
    } 
```

有人能告诉我为什么我遇到了我首先描述的问题吗？我感觉它与应用程序的 L&F 有关。谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-12T07:33:14.507

它确实是执行此操作的 L&F 功能（这不是 UI 故障）。我建议不要更改它以获得更好的用户体验。用户希望应用程序在平台上保持一致。Windows 和 Linux 习惯于让按钮从左到右显示，而 MacOS 习惯于让按钮从右到左显示。

请参阅此处的两个示例：

视窗：

![在此处输入图像描述](../Images/726773dc3e29ed907091f72b4fa3bbec.png)

苹果系统：

![在此处输入图像描述](../Images/288d7d70c2a4e39c652d59af664bafae.png)

看看在 MacOS 上，最重要的按钮显示在最右侧，而在 Windows 上则相反。

# php - 无法创建换行符

> ID：12382282
> 
> 赞同：0
> 
> 时间：2012-09-12T06:23:58.327
> 
> 标签：php

我一直在尝试在邮件正文中创建换行符，但它不起作用。正文中的所有文本都排成一行。

```
<?php
if ($_POST["email"]<>'') {
    $ToEmail = 'demo@localhost.com';
    $EmailSubject = 'Site contact form';
    $header = "MIME-Version: 1.0" . "\r\n";
    $header .= "Content-type:text/html;charset=iso-8859-1" . "\r\n";
    $header .= "From: ".$_POST["email"]."\r\n";
    $header .= "Reply-To: ".$_POST["email"]."\r\n";
    $message = "Name: ".$_POST["name"]."\r\n";
    $message .= "Email: ".$_POST["email"]."\r\n";
    $message .= "Comment: ".nl2br($_POST["comment"])."";
    mail($ToEmail, $EmailSubject, $message, $header) or die ("Failure");
?>
Your message was sent
<?php
    } else {
?> 
Sorry message was not sent
<?php
    };
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:33:43.057

更改这些行：

```
$message = "Name: ".$_POST["name"]."\r\n";
$message .= "Email: ".$_POST["email"]."\r\n";
$message .= "Comment: ".nl2br($_POST["comment"]).""; 
```

对此：

```
$message = "Name: ".$_POST["name"]."<br />";
$message .= "Email: ".$_POST["email"]."<br />";
$message .= "Comment: ".nl2br($_POST["comment"]).""; 
```

您对 的想法是正确的`nl2br`，但您的消息也是“名称：”和“电子邮件：”部分 - 这些行也需要是 HTML 行，因为您正在发送 HTML 电子邮件。

## 您的代码易受攻击

作为旁注，您应该真正清理您的输入。只是将值转储`$_POST`到电子邮件中是非常危险的；它使您[极易受到攻击](https://stackoverflow.com/a/11040786/761202)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:27:39.080

\n 不会在这里工作

您正在发布到 html 页面

您可以使用`<br />`

希望有帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:29:05.437

而不是`\r\n` 使用 ，`<br />`因为`\r\n`不会转换为 html 标记。

# javascript - SignalR：调用集线器方法时发生内部服务器错误

> ID：12382286
> 
> 赞同：3
> 
> 时间：2012-09-12T06:24:12.610
> 
> 标签：javascript, asp.net, signalr, signalr-hub

几天来我一直在玩 SignalR，我不得不说它绝对是一个了不起的库。我已经设法得到了一些使用它的东西，并且对它的简单性感到震惊，但我最近遇到了一个小问题。

我无法在浏览器中从 JavaScript 调用 Hub 方法。该请求返回一个 500 错误代码，当我查看错误页面源时，我看到：

```
[ArgumentNullException: Value cannot be null.
Parameter name: s]
System.IO.StringReader..ctor(String s) +10207225
Newtonsoft.Json.Linq.JObject.Parse(String json) +74
SignalR.Hubs.HubRequestParser.Parse(String data) +78
SignalR.Hubs.HubDispatcher.OnReceivedAsync(IRequest request, String connectionId,  String data) +266
SignalR.<>c__DisplayClass6.<ProcessRequestAsync>b__4(String data) +84
SignalR.Transports.ForeverTransport.ProcessSendRequest() +159
SignalR.Transports.ForeverTransport.ProcessRequestCore(ITransportConnection connection)  +149
SignalR.Transports.ForeverTransport.ProcessRequest(ITransportConnection connection) +42
SignalR.PersistentConnection.ProcessRequestAsync(HostContext context) +1087
SignalR.Hubs.HubDispatcher.ProcessRequestAsync(HostContext context) +251
SignalR.Hosting.AspNet.AspNetHandler.ProcessRequestAsync(HttpContextBase context) +656
SignalR.Hosting.AspNet.HttpTaskAsyncHandler.System.Web.IHttpAsyncHandler.BeginProcessReques t(HttpContext context, AsyncCallback cb, Object extraData) +143
System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()  +9479007
System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&  completedSynchronously) +178 
```

我的服务器端代码是：

```
public class SourceHub : Hub
{
    public void RegisterSource(string source)
    {
        Groups.Add(Context.ConnectionId, source);
    }
} 
```

在客户端我有：

```
var SourceHub = $.connection.sourceHub;
$.connection.hub.start().done(function () {
    SourceHub.registerSource("test");
}); 
```

我已经挖掘了一段时间，但我就是找不到问题的根源......有人可以帮我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T18:29:06.743

前言：我在 edobry 的团队中负责这个项目，我是后端的人，所以这次进军前端对我来说是新的和吸引人的。

因此，在我逐步完成项目时对代码进行了一些仔细的剖析之后，结果发现请求变量中的 POST 数据是空的。数据被正确发送到 $.ajax 调用，但从未到达服务器。又进行了一些狩猎，我发现了一些可疑的东西，然后我就能够辨别出正在发生的事情。

我们将 Ajax 用于页面的其他部分，并且多次调用 ajax 方法，因此我们将在每个方法调用中设置的一些设置分解为 $.ajaxSetup。其中之一是将 dataType 设置为“text”，将 contentType 设置为“application/json”。似乎 signalR 没有正确覆盖全局 ajax 设置。我不确定这是一个错误还是预期的行为，但如果是这种情况，应该更好地记录它（如果是，请随时称我们为愚蠢。:)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T09:04:39.817

您的方法称为**RegisterSource**并且您在 javascript 中调用**registerSources**而不是**registerSource 。**

# php - PHP查看字符串中的特殊字符

> ID：12382288
> 
> 赞同：3
> 
> 时间：2012-09-12T06:24:18.797
> 
> 标签：php, special-characters, var-dump

试图弄清楚`PHP`换行符和特殊字符在做什么。我有一个字符串，当我这样做时`var_dump($string)`输出是：

```
string 'ls -al

    free -m' (length=16) 
```

如何查看埋在这里的特殊字符？例如，需要查看它们是`\n`或`&#10`它们是什么。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T06:27:36.560

查看不可打印字符的最佳方法是打印`bin2hex($string)`。这为您提供了字符串的实际二进制转储。将此与您最喜欢的[ASCII 表](http://www.asciitable.com)或其他特定于您的字符串编码的表进行比较。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T06:28:18.120

如果您使用 PHP Cli 在 unix 环境中运行命令，您可以尝试使用[cat](http://unixhelp.ed.ac.uk/CGI/man-cgi?cat)。

```
php file.php | cat -e 
```

否则，您可以将 var_dump 处理为字符串并手动显示特殊字符：

```
$string = "test
test";

$dump = var_export($string, true);
for ($i = 0; ($i < strlen($dump)); $i++) {
    if ((ord($dump[$i]) < 32) || (ord($dump[$i]) > 127)) {
        echo '(' . ord($dump[$i]) . ')';
    } else {
        echo $dump[$i];
    }
}

// will output 'test(13)(10)test' on Windows, 'test(10)test' on Unix systems. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:47:18.023

你可以使用：

```
preg_match("/(&#[0-9]+;)|[\t\r\n]/", $string, $matches);
print_r($matches); 
```

# delphi - Delphi - 在 HKCU 中使用 NtCreateKey

> ID：12382289
> 
> 赞同：2
> 
> 时间：2012-09-12T06:24:23.663
> 
> 标签：delphi, winapi, registry, delphi-7

并感谢您花时间查看我的问题。

我正在尝试使用本机 NtCreateKey API 在 HKCU 内创建一个密钥。

我有一个资源可以帮助我了解 API 的工作原理，但我似乎无法让它适用于 HKCU，只有 HKLM ......这可能吗？

源代码我已经：

```
const
   KeyNameBuffer: AnsiString = '\Registry\Machine\SOFTWARE'; //Assuming I need to change this.....
   NewKeyNameBuffer: AnsiString = 'Parent Key To Create';
   HiddenKeyNameBuffer: AnsiString = 'Main Key To Create';
   HiddenValueNameBuffer: AnsiString = 'Value Key To Create';

 procedure TForm1.btnDemoClick(Sender: TObject);
 var
    KeyName, ValueName: UNICODE_STRING;
    SoftwareKeyHandle, SysKeyHandle, HiddenKeyHandle: THandle;
    Status: ULONG;
    ObjectAttributes: OBJECT_ATTRIBUTES;
    Disposition: ULONG;
    Buffer: array of WideChar;
 begin

    //
    // Open the Software key
    //
   SetLength(Buffer, Length(KeyNameBuffer));
   MultiByteToWideChar(CP_UTF8, 0, @KeyNameBuffer[1], Length(KeyNameBuffer),
       PWideChar(Buffer), Length(Buffer));
   KeyName.Buffer := @Buffer[0];
    KeyName.Length := Length(KeyNameBuffer) * SizeOf(WideChar);
    InitializeObjectAttributes(ObjectAttributes, @KeyName, OBJ_CASE_INSENSITIVE,
       0, nil);
    Status := NtCreateKey(SoftwareKeyHandle, KEY_ALL_ACCESS, ObjectAttributes, 0,
       nil, REG_OPTION_NON_VOLATILE, Disposition);
    if not NT_SUCCESS(Status) then
      raise Exception.Create('Error: Couldn''t open HKLM\Software');
 end; 
```

我所有的类型定义和 API 声明都是在该代码之上进行的，我只是不认为有必要将它们全部发布。

我正在使用 Delphi 7 IDE。

任何有关解决此问题的帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T08:17:32.040

我相信你应该使用`RegCreateKeyEx`这个。

但是，您的问题的答案是 HKCU 的适当键名是：

```
\Registry\User\<Users_SID> 
```

当然，您必须为当前用户提供 SID。这是 Win32 API 在`RegCreateKeyEx`.

# sqlalchemy - 两个相似表的 Sqlalchemy 联合

> ID：12382290
> 
> 赞同：2
> 
> 时间：2012-09-12T06:24:26.993
> 
> 标签：sqlalchemy

我有两个 sql 表（messages、messages_processed），两者都很相似。messages_processed 表比消息多一列，其他列的数据类型/结构在两者中都是相同的。在显示特定用户的所有消息（已处理/常规）时，应应用这两个表的联合。

```
Class Message(object):
  def __init__(self, sender_id, text, user_id):
     self.sender_id = sender_id
     self.text = text
     self.user_id = user_id
     self.categories = [] #(N:M relation)
Class MessageProcessed(object):
  def __init__(self, sender_id, text, user_id, action):
     self.sender_id = sender_id
     self.text = text
     self.user_id = user_id
     self.categories = [] #(N:M relation)
     self.action = action 
```

我无法更改表的现有结构。我需要做一些这样的事情，这将导致具有 N:M 映射的 orm 对象数组。

```
session.query(Message).filter(Message.user_id==12)
                      .union(session.query(MessageProcessed)
                                    .filter(MessageProcessed.user_id==12)).all() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:42:00.823

看起来您不能在您的情况下使用 UNION，因为 UNION 中的每个 SELECT 语句必须具有相同数量的列。

# wpf - 如何使用 mvvm 在 wpf 中的按钮上显示图像和内容

> ID：12382293
> 
> 赞同：1
> 
> 时间：2012-09-12T06:24:55.423
> 
> 标签：wpf, mvvm

我正在创建一个示例 WPF-MVVM 应用程序，其中我有一个指示“+”号的图像，并且我有一个内容为“编辑”的按钮。现在我必须在按钮上显示图像以及名称“编辑”。请让我知道这个问题的解决方案。

**编辑**

在这里我可以显示图像，但名称出现在图像下方。但我想在图像旁边显示名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:31:50.023

你可以做这样的事情

```
 <Button Margin="104,78,84,60" Name="button1" Height="100" Width="200">
            <StackPanel Orientation="Horizontal">
                <Image Source="ssv.png" Stretch="None" Height="50" Width="50" />
                <TextBlock TextAlignment="Center">Text value for this.</TextBlock>
            </StackPanel>
    </Button> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:36:31.983

有几种方法可以创建“图像按钮”，一种方法是创建从 Button 派生并添加 Image 属性的自定义，或者使用 Button 并以声明方式将图像添加为按钮的一部分的用户控件用户控件 XAML 中的控件模板。

但是，这些方法意味着按钮内的图像布局是固定的，因此不是特别灵活。

一个更好的选择是创建一个存储图像位置的附加属性，然后在按钮控件模板中引用这个附加属性值。然后，您可以为控件模板创建样式，以使布局可跨按钮重用。

# sql - Oracle : 用于 Oracle 8i 的带有 REGEXP 和 RTRIM 的 SQL

> ID：12382297
> 
> 赞同：0
> 
> 时间：2012-09-12T06:25:11.863
> 
> 标签：sql, oracle

我在 Oracle SQL 查询中有这个 RTRIM 和 REGEXP 函数，它在 Oracle 10g 中运行良好，但在 Oracle 8i 中不运行。如何将以下语句转换为在 Oracle 8i 和 10g 中都可以使用并且仍然具有相同结果的语句。

```
RTRIM(regexp_substr(table.column1, '([^/]+\.)'), '.') 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:26:23.200

我找到了答案：

```
 SUBSTR(table.column1, INSTR(table.column1, '/', -1) + 1,
    INSTR(table.column1, '.') - INSTR(table.column1, '/', -1) - 1) 
```

^_^

# java - App Engine (Java) Blobstore：成功存储 Blob 后没有 BlobInfo

> ID：12382300
> 
> 赞同：3
> 
> 时间：2012-09-12T06:25:29.303
> 
> 标签：java, google-app-engine, blobstore, datastore

根据 App Engine Blobstore 的文档，对于 BlobStore 中的每个条目，DataStore 中都应该有一个 BlobInfo 条目。那为什么我的 blobInfo 在下面的代码中为空？

笔记：

*   如果我删除 BlobInfo 代码，则 servlet 会按原样返回资源（但没有文件名）
*   为简洁起见，我删除了异常和参数处理

我将非常感谢您的帮助。

```
public class GetResourceServlet extends HttpServlet {
    private BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();
    private BlobInfoFactory infoFactory = new BlobInfoFactory();

    public void doGet (  HttpServletRequest request, HttpServletResponse response)
             throws ServletException, IOException {

       String blobKeyStr = request.getParameter("blob-key");
       BlobKey blobKey = new BlobKey(blobKeyStr);

       BlobInfo info = infoFactory.loadBlobInfo(blobKey); // returns null !?
       String fname = info.getFilename();
       response.addHeader("content-disposition", "attachment; filename=" + fname);

       blobstoreService.serve(blobKey, response);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-23T08:09:30.173

最后，我发现了问题。密钥字符串 (blobKeyStr) 在末尾包含一个换行符。令人讨厌的是，您在日志记录中没有注意到它。添加`blobKeyStr = blobKeyStr.trim()`解决了问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T16:58:02.600

首先执行以下操作：

*   通过访问“http://local host:8080/_ah/admin”，然后访问数据存储查看器，确保 blob 存在于本地数据存储中。您应该看到 Hcreated 为您的 blob 的新条目。记下关键值。

*   确保您在请求中使用了正确的 blob 键。

您提到由于简洁而从上面删除了异常处理代码。您在检索本应不存在的 blob 时是否遇到任何异常？

# c++ - QT QImage，如何提取RGB？

> ID：12382301
> 
> 赞同：13
> 
> 时间：2012-09-12T06:25:31.430
> 
> 标签：c++, qt, qimage

我想从 QImage 中的每个像素中提取 RGB。理想情况下，我想使用 img.bits() 函数。

```
QImage img;

if( img.load("Red.jpg") )
{
    uchar *bits = img.bits();

    for (int i = 0; i < 12; i++)
    {
        std::cout << (int) bits[i] << std::endl;
    }
} 
```

如何操作返回的位？我希望全是红色，因为图片是在 Paint 中创建的纯红色图像。但是，我得到 36、27、237、255、36 等...

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-12T07:08:33.260

```
QImage img( "Red.jpg" );

if ( false == img.isNull() )
{
    QVector<QRgb> v = img.colorTable(); // returns a list of colors contained in the image's color table.

    for ( QVector<QRgb>::const_iterator it = v.begin(), itE = v.end(); it != itE; ++it )
    {
        QColor clrCurrent( *it );
        std::cout << "Red: " << clrCurrent.red()
                  << " Green: " << clrCurrent.green()
                  << " Blue: " << clrCurrent.blue()
                  << " Alpha: " << clrCurrent.alpha()
                  << std::endl;
    }
} 
```

然而，上面的这个例子确实返回了颜色表。颜色表不包括两次相同的颜色。它们将按出现顺序添加一次。
如果要获取每个像素的颜色，可以使用下一行：

```
for ( int row = 1; row < img.height() + 1; ++row )
    for ( int col = 1; col < img.width() + 1; ++col )
    {
        QColor clrCurrent( img.pixel( row, col ) );

        std::cout << "Pixel at [" << row << "," << col << "] contains color ("
                  << clrCurrent.red() << ", "
                  << clrCurrent.green() << ", "
                  << clrCurrent.blue() << ", "
                  << clrCurrent.alpha() << ")."
                  << std::endl;
    } 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-12T06:44:34.910

[参考`bits()`](http://doc.qt.nokia.com/4.7-snapshot/qimage.html#bits)说：

> 返回指向第一个像素数据的指针。这相当于scanLine(0)。

所以如果你检查[参考`scanLine()`](http://doc.qt.nokia.com/4.7-snapshot/qimage.html#scanLine)

> 如果您正在访问 32-bpp 图像数据，请将返回的指针转换为 QRgb*（QRgb 具有 32 位大小）并使用它来读取/写入像素值。您不能直接使用 uchar* 指针，因为像素格式取决于底层平台上的字节顺序。使用 qRed()、qGreen()、qBlue() 和 qAlpha() 访问像素。

另一种选择可能是[`pixel()`](http://doc.qt.nokia.com/4.7-snapshot/qimage.html#pixel-2)成员函数。

希望有帮助。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-12T20:23:04.480

使用 bits() 函数的问题之一是您需要知道原始图像的[格式](http://qt-project.org/doc/qt-4.8/qimage.html#Format-enum)。您应该使用[convertToFormat](http://qt-project.org/doc/qt-4.8/qimage.html#convertToFormat)将其转换为 RGB 。

```
img = img.convertToFormat(QImage::Format_RGB888); 
```

现在，当您调用 bits() 时，数据将采用 RGB 格式，并具有正确的数据对齐方式。

```
uchar *bits = img.bits();

for (int i = 0; i < (img.width() * img.height() * 3); i++)
{
    std::cout << (int) bits[i] << std::endl;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-06-20T08:07:23.810

在 Qt 5.6 中引入了`QColor QImage::pixelColor(int x, int y)`方法，因此您可以直接从图像像素中获取颜色信息。

# java - 如何在 MacOsX 应用程序中访问 JAR 的类及其相关方法（Objective-C）

> ID：12382304
> 
> 赞同：0
> 
> 时间：2012-09-12T06:25:37.680
> 
> 标签：java, objective-c, macos, jar

> **可能重复：**
> [在 Objective-C Mac 应用程序中使用 Java 库，并将该应用程序放在 Mac App Store](https://stackoverflow.com/questions/8623284/using-a-java-library-in-an-objective-c-mac-app-and-putting-that-app-on-the-mac)

我正在为 Objective-C 中的 Mac-Osx 应用程序开发。我有一个 JAR 文件，其中包含一些专有类及其相关方法。我想在我的 Objective-C 程序/代码/应用程序中使用这些方法。

我怎样才能做到这一点 ？

对此的任何帮助都是令人钦佩的。

谢谢..！

在下面的代码中，我在 Line **(*env)->GetJavaVM(env, pvm)** **;** 并且**JNI_GetDefaultJavaVMInitArgs**显示为已弃用（警告）。**outCreatedVMCount**始终为 0。

 ******```
- (JNIEnv *)getJNIEnv
{
    static JNIEnv* sAppKitEnv = NULL;
    static JavaVM *sJVM = NULL;

    if (sAppKitEnv == NULL) {       
        if (sJVM == NULL) {
            JavaVM *createdJVMs;
            jint outCreatedVMCount;
            if (JNI_GetCreatedJavaVMs(&createdJVMs, sizeof(createdJVMs), &outCreatedVMCount) == 0) {
                if (outCreatedVMCount > 0) {
                    sJVM = createdJVMs;
                }
            }
        }

        // If we didn't find one, we're stuck.
        if (sJVM != NULL) {
            (*sJVM)->AttachCurrentThreadAsDaemon(sJVM, (void **)&sAppKitEnv, nil);
        }
    }

    return sAppKitEnv;
}

- (void)applicationDidFinishLaunching:(NSNotification *)aNotification
{

    [self performSelector:@selector(initvm) withObject:nil afterDelay:0.2];

}

-(void) initvm
{
    JavaVM **pvm;
    //void **pJNIEnv;
    JavaVMInitArgs *args;
    JNI_GetDefaultJavaVMInitArgs(&args);
    JNIEnv *env=[self getJNIEnv];
    (*env)->GetJavaVM(env, pvm);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:38:35.240

Cocoa 和 Java 之间有一座桥梁，但它已被弃用并且没有很好的文档记录。据说，它仍然有效。[在这里](http://cocoadev.com/wiki/JavaBridge)阅读更多。

祝你好运！告诉我们它是如何工作的:)******

# javascript - html 5 和 javascript 中的灯箱

> ID：12382305
> 
> 赞同：-3
> 
> 时间：2012-09-12T06:25:39.613
> 
> 标签：javascript, html

我做了一个应用程序，在其中我做了一个拼图游戏。拼图正在工作，但我想展示灯箱效果。我在网络上有一些示例，这些示例在单击链接时显示灯箱，但我想在我的游戏结束时使用它......有人可以用一个例子来解释如何最好地做到这一点.....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:30:21.543

游戏结束时将此添加到javascript函数

```
document.getElementById("yourlightBoxContent").style.display='block';
document.getElementById("opacityless").style.display ='block'; 
```

和不透明的css

```
#opacityless{
    display: none;
    position: absolute;
    top: 0%;
    left: 0%;
    width: 100%;
    height: 100%;
    background-color: black;
    z-index:1001;
    -moz-opacity: 0.8;
    opacity:.80;
    filter: alpha(opacity=80);
} 
```

如此处可见[http://www.emanueleferonato.com/2007/08/22/create-a-lightbox-effect-only-with-css-no-javascript-needed/](http://www.emanueleferonato.com/2007/08/22/create-a-lightbox-effect-only-with-css-no-javascript-needed/)

# windows-8 - 在 Visual Studio 2012 中发布 MVC 项目导致空文件夹

> ID：12382317
> 
> 赞同：5
> 
> 时间：2012-09-12T06:26:48.600
> 
> 标签：windows-8, visual-studio-2012, web-deployment

我正在尝试从运行 Windows 8 Pro 的 VS 2012 Pro 发布 MVC4 应用程序。但是，这会导致发布根目录出现空目录（由发布设置定义）。我为要部署的项目选择了“此项目中的所有文件”，并且我没有尝试发布任何数据库。另外，我只是想进行本地发布。

下面是输出窗口的一个片段。对于解决此问题的任何建议，我将不胜感激。我已经尝试过修复、卸载和重新安装 VS。

```
2>Done building project "MyProject.Mvc".
2>Publishing folder /...
2>
========== Build: 1 succeeded, 0 failed, 5 up-to-date, 0 skipped ==========
========== Publish: 1 succeeded, 0 failed, 0 skipped ========== 
```

最好的问候，文尼

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-06T02:41:06.070

接受的答案对我不起作用；但是，删除并重新创建发布配置文件有效。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T17:10:47.087

这与此问题中的问题相同，并且有一种解决方法。 [Visual Studio 2012 Web Publish 不复制文件](https://stackoverflow.com/questions/12201146/visual-studio-2012-web-publish-doesnt-copy-files/12393154#12393154)

# python - Python - 手动浏览器登录后从 urllib2 恢复网络会话

> ID：12382319
> 
> 赞同：2
> 
> 时间：2012-09-12T06:27:01.677
> 
> 标签：python, browser, login, web-scraping

比如说，我浏览到需要登录才能访问内容的网站（也在 Intranet 上）。我将填写必填字段...例如，从浏览器本身登录所需的用户名、密码和任何验证码等。

一旦我登录到该站点，登录后可以从第一页上的多个链接和选项卡中抓取很多好东西。

现在，从这一点开始（即从浏览器登录后）..我想控制页面并从 urllib2 下载......就像逐页浏览，在每个页面上下载 pdf 和图像等。

我知道我们可以直接使用 urllib2（或机械化）中的所有内容（即登录到页面并完成整个操作）。

**但是，对于某些网站.. 了解登录机制、所需的隐藏参数、引荐来源、验证码**、cookie 和弹出窗口真的很痛苦。

请指教。希望我的问题有意义。

**总之，我希望使用网络浏览器手动完成初始登录部分......然后接管自动化以通过 urllib2 抓取。**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:11:50.163

你考虑[过硒](http://pypi.python.org/pypi/selenium/)吗？它是关于浏览器自动化而不是 http 请求 (urllib2)，您可以在步骤之间操作浏览器。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-12T06:38:47.147

您想使用该`cookielib`模块。

[http://docs.python.org/library/cookielib.html](http://docs.python.org/library/cookielib.html)

您可以使用浏览器登录，然后将 cookie 导出到 Netscape 样式的`cookie.txt`文件中。然后从 python 你将能够加载它并获取你需要的资源。cookie 将一直有效，直到网站使您的会话到期（通常大约 30 天）。

```
import cookielib, urllib2
cj = cookielib.MozillaCookieJar()
cj.load('cookie.txt')
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))
r = opener.open("http://example.com/resource") 
```

Chrome 和 Firefox 的插件可以以这种格式导出 cookie。例如：

[https://chrome.google.com/webstore/detail/lopabhfecdfhgogdbojmaicoicjekelh](https://chrome.google.com/webstore/detail/lopabhfecdfhgogdbojmaicoicjekelh)

[https://addons.mozilla.org/en-US/firefox/addon/export-cookies/](https://addons.mozilla.org/en-US/firefox/addon/export-cookies/)

# javascript - Wordpress 中的 Javascript 匿名函数/引用错误

> ID：12382320
> 
> 赞同：0
> 
> 时间：2012-09-12T06:27:03.300
> 
> 标签：javascript, wordpress, function

我很难让我的 javascript 代码与我在 Wordpress 中构建的网站一起工作。我有一个 jsfiddle，你可以在这里找到：http: [//jsfiddle.net/sarahk3112/aw5xR/13/](http://jsfiddle.net/sarahk3112/aw5xR/13/)

这不是我想要的样式，而是通过向下/向上滑动显示所需的效果，并在具有子导航的“投资组合”和“关于”链接之间切换。所以它在这里工作得很好，但是当我在我的 Wordpress 页面模板中实现相同的代码时，它就不起作用了。Wordpress 网站目前处于维护模式，因为我需要修复此问题，因此除非绝对必要，否则我无法将您指向那里的实时链接（它是一个客户网站，他们还没有准备好上线）。

这是我单击“投资组合”时 Safari 显示的错误：

> （匿名功能）-moderndayfloral.com

当我单击“投资组合”时，Chrome 会显示错误：

> 未捕获的 ReferenceError：未定义 slideonlyone

这是我的 functions.js 文件中的 Javascript 代码：

```
 jQuery(document).ready(function(){
    function slideonlyone(thechosenone) {
    $('span[class|="subnav"]').each(function(index) {
    if ($(this).attr("id") == thechosenone) {
    if ($(this).css('display') == 'block') {
        $(this).hide(200);
    }
    else {
        $(this).show(200);
        }
    }
    else {
    $(this).hide(200);
    }
    });
    }
    }); 
```

这是我的页面模板文件中的 html 代码：

```
 <ul id="hometopnav">
    <li><a id="portfolio" href="javascript:slideonlyone('portfolio');" >portfolio</a>
    <span id="portfolio" style="display: none;" class="subnav">     
    <img src="http://moderndayfloral.com/wp-content/themes/moderndayfloral/_/images/whitearrow.png">
    <a href="/weddings">weddings</a>
    <a href="/events">events</a>
    </span>
    </li>
    <li><a href="/eventdesign">event design</a></li>    
    <li><a href="/boutique">boutique</a></li>
    <li><a id="about" href="javascript:slideonlyone('about');" >about</a>
    <span id="about" style="display: none;" class="subnav">     
    <img src="http://moderndayfloral.com/wp-content/themes/moderndayfloral/_/images/whitearrow.png">
    <a href="/philosophy">philosophy</a>
    <a href="/services">services</a>
    <a href="/jenn">jenn</a>
    </span>
    </li>
    <li><a href="/thanks">thanks</a></li>
    <li><a href="/accolades">accolades</a></li>
    <li><a href="/blog">blog</a></li>
    <li><a href="/contact">contact</a></li>
    </ul> 
```

我希望这是足够的信息来寻求帮助。我被困在一个岩石和坚硬的地方之间，无法让它活着，所以你可以看到。我知道 Javascript 在涉及到 Wordpress 时需要额外注意，所以我很感激可以提供的任何帮助。如果有任何其他信息可以提供帮助，请告诉我！

谢谢你的时间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:36:37.727

您不需要在准备好的文档上包装函数，一旦加载了 dom，它就没有任何要执行的东西，并且您正在检查显示`display`中的`show`转换是否错误`inline`：

```
var jQuery = {};
jQuery = jQuery.noConflict(true);
function slideonlyone(thechosenone) {
    jQuery('span').closest('.subnav').each(function(index) {
        if (jQuery(this).attr("id") == thechosenone) {
            if (jQuery(this).css('display') != 'none') {
                jQuery(this).hide(200);
            } else {
                jQuery(this).show(200);
            }
        }
    });
} 
```

# xcode - 更改 rightBarButtonItems 标题

> ID：12382321
> 
> 赞同：1
> 
> 时间：2012-09-12T06:27:21.360
> 
> 标签：xcode, button

如何更改**rightbarButtonItems**上按钮的标题？

我在导航栏的右侧有多个按钮，但如果只有一个 rightbarButton 我可以更改按钮的标题，但对于多个我不能。

```
doneButton = [[UIBarButtonItem alloc]
initWithTitle:@"Done"
style:UIBarButtonSystemItemDone target:self action:@selector(doneTouch)];
editButton = [[UIBarButtonItem alloc]
initWithTitle:@"Edit"
style:UIBarButtonItemStylePlain
target:self action:@selector(Edit:)];
NSArray *myButtonArray = [[NSArray alloc] initWithObjects:doneButton,editButton,nil];
[self.navigationItem setRightBarButtonItems:myButtonArray]; 
```

我想更改**editButton**的标题，但我不能使用：

```
[self.editButtonItem setTitle:@"Done"]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:32:00.523

而不是导航栏，您需要使用工具栏，或者您可以使用带有标题的自定义按钮。在导航栏上你只能添加左右两个按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:34:19.883

**编辑**首先获取栏按钮引用

```
 NSArray *arrBarBtn = self.navigationItem.rightBarButtonItems;

if([arrBarBtn count]>0)
{
   for(UIBarButtonItem *barBtn in arrBarBtn)
   {
      //do as per your requirement.
      if(barBtn.title == @"Edit")
      {
        barBtn.title == @"Done";
      }
   }
} 
```

* * *

像这样改变：

```
if(self.navigationItem.rightBarButtonItem.title == @"Edit") {
//Do your stuff;
self.navigationItem.rightBarButtonItem.title = @"Done";
}
else if(self.navigationItem.rightBarButtonItem.title == @"Done"){
//Do your stuff;
self.navigationItem.rightBarButtonItem.title = @"Edit";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-31T08:03:19.703

if(self.navigationItem.rightBarButtonItem.title == @"Edit") { ..

好吧，可能是伪代码。

但对于新手，不要使用 == 比较字符串 ...只有 Swift 允许。

使用 isEqualToString

# android - 安卓可以同时使用前置摄像头和后置摄像头吗

> ID：12382322
> 
> 赞同：15
> 
> 时间：2012-09-12T06:27:30.287
> 
> 标签：android, android-camera

我想同时使用设备的前后摄像头。在我的应用程序中，屏幕的前半部分将显示后置摄像头的预览，而后半部分的屏幕将显示前置摄像头的预览。

我已经尝试过设置两个不同的相机预览，但是当我打开我的应用程序时，屏幕的前半部分（显示后置相机预览）不显示预览。屏幕的后半部分（显示前置摄像头）显示后置摄像头（奇怪）。

根据[Camera.open(int) 文档](http://developer.android.com/reference/android/hardware/Camera.html#open%28int%29)：

> **对于特定的硬件相机，**您的应用程序一次应该只有一个处于活动状态的 Camera 对象 。

这意味着如果两个相机硬件（正面和背面）不同并且可以同时打开。

在我的应用程序中，我使用的是与上面相同的 api。`Camera.startPreview();`当我同时打开并调用两个摄像头时，这不会给出任何异常或错误。但它仍然无法正常工作。我一次只能看到一个相机预览。

我在这里有什么遗漏的东西可以同时使用两个相机吗？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2014-06-16T07:11:50.477

我在 HTC ONE M8 上同时获得了双摄像头访问权限

视频：http: [//youtu.be/lt8N1Lpa9Zw](http://youtu.be/lt8N1Lpa9Zw)
随意使用我的代码：[https ://bitbucket.org/jens_grubert/androiddualcameracapture/](https://bitbucket.org/jens_grubert/androiddualcameracapture/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T06:32:30.810

与单台相机相同...只是双倍。

两个 SurfaceHolders 和两个 Camera 实例。

[http://developer.android.com/reference/android/hardware/Camera.html](http://developer.android.com/reference/android/hardware/Camera.html)

[https://stackoverflow.com/a/4591023/1602230](https://stackoverflow.com/a/4591023/1602230)

[http://developer.sprint.com/show_thread.do?forumId=528&threadid=26999&messageId=78914](http://developer.sprint.com/show_thread.do?forumId=528&threadid=26999&messageId=78914)

[在 android 上使用两个摄像头：“无法连接到摄像头服务”](https://stackoverflow.com/questions/7215230/using-both-cameras-on-android-fail-to-connect-to-camera-service)

引用自[https://stackoverflow.com/a/8411122/1602230](https://stackoverflow.com/a/8411122/1602230)

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2014-01-14T03:21:34.623

不

> 对于特定的硬件摄像头，您的应用程序一次应该只有一个处于活动状态的摄像头对象。

看看这个**[http://developer.android.com/reference/android/hardware/Camera.html#open(int)](http://developer.android.com/reference/android/hardware/Camera.html#open(int))**

# android - 我可以在不同的移动技术 Android、iPhone、Blackberry、Windows mobile 中执行单个代码

> ID：12382325
> 
> 赞同：1
> 
> 时间：2012-09-12T06:27:40.587
> 
> 标签：android, iphone, multiplatform

我是安卓开发者。我可以在不同的移动技术上运行我的应用程序吗？iPhone、Blackberry、Windows mobile 等。我为 android 编写代码，但我对 iPhone 开发一无所知。所以我也想在 iPhone 手机上安装我相同的应用程序。以及任何一次可用的技术，为应用程序编写代码并在不同的技术中传播和执行。现在那个时候有可能吗。请帮我。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:35:25.103

您必须使用[PhoneGap](http://phonegap.com/)。

> Phonegap 让您可以使用您熟悉和喜爱的 Web 代码：HTML、CSS 和 Javascript，自由地为 iOS、Android、Blackberry、Windows Phone、Palm WebOS、Bada 和 Symbian 创建移动应用程序。

# jquery - jQuery 自动将事件处理程序注册到通过 Ajax 响应添加到 DOM 的元素上的用户操作

> ID：12382328
> 
> 赞同：6
> 
> 时间：2012-09-12T06:27:49.680
> 
> 标签：jquery, dom, jquery-plugins

对于具有许多屏幕和导航的 ajax Web 应用程序，要为 div 或链接或按钮附加事件处理程序，我们可以编写如下代码：

```
//Using $.on inside Ajax success handler

$("#container").on("click", "#selector", function(event){

}); 
```

*   如果 DOM 中不存在容器，则此方法将不起作用。要使其工作，必须使用文档或正文作为容器，性能可能不好。

*   Ajax 成功处理程序中可能有很多行代码。为了更好地组织，可以将代码移动到一个函数并在 Ajax 成功处理程序中调用该函数。但是我们必须为所有排列和组合创建许多注册事件函数。

*   注册函数代码混乱。

*   如果事件处理程序已经注册，再次注册将导致两个偶数处理程序。所以我们必须取消注册并注册（或仅在尚未附加的情况下附加） - 不确定性能问题。

有什么选择吗？

我正在考虑以下内容：

*   在一个地方为模块维护容器、目标和单击事件处理程序的映射。
*   在 ajaxComplete 全局事件处理程序中，如果 xhr.responseHTML 有容器，则将事件处理程序附加到目标元素（仅在尚未附加时附加）。

    ```
    $(document).ajaxComplete(function(e, xhr, settings){
       for(ind in clickEventListeners){eventlistner = clickEventListeners[ind];
        if($(eventlistner.container,xhr.responseHTML).length > 0){
          $(eventlistner.target).on("click",function(){
          eventlistner.processor(this);
          });
      }
     }
    }); 
    ```

优点：一个模块的所有事件处理程序都记录在一个地方。每个 ajax 成功处理程序都没有代码混乱。

缺点：我不确定是否有。

如果有任何建议，请告知。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-02-16T11:55:39.253

**更新**

将事件绑定到将动态添加的元素需要将侦听器放置在文档上，而不是 1.9+ 版本的元素上。从 Jquerys api 你可以找到这一行：

“事件处理程序仅绑定到当前选定的元素；它们必须在您的代码调用 .on() 时存在于页面上。”

因此，将事件绑定到文档并在之后放置选择器将允许实际识别此侦听器。

```
$(document).delegate( "#selector", "click", 
```

或者

```
$(document).on( "click", "#selector", 
```

示例：http: [//jsfiddle.net/2HA7d/](http://jsfiddle.net/2HA7d/)

在以前的 Jquery 版本中，可以使用 live() 函数，它实际上将侦听器放置到文档中，从而可以完全按照您的想法运行：

```
$("#selector").live("click", 
```

示例：http: [//jsfiddle.net/q3jYB/](http://jsfiddle.net/q3jYB/)

第二个示例的功能与第一个示例相同。

由于该元素尚不存在，javascript 无法为您要查找的元素添加事件侦听器。因此，当尝试为动态添加的元素添加侦听器并且您使用较新的 jquery 版本（1.9+）并使用 on() 或 delegate() 时，请将事件侦听器添加到文档中，如提供的第一个 Fiddle 所示。

**编辑：**

正如我在评论中所说的那样，如果可能的话，将事件侦听器添加到容器中也是一个非常可行的选择，并且可能会提高性能

资料来源：

[https://api.jquery.com/on/](https://api.jquery.com/on/)

[http://jquery.com/upgrade-guide/1.9/](http://jquery.com/upgrade-guide/1.9/)

[jQuery .live() 是如何工作的？](https://stackoverflow.com/questions/6801070/how-does-jquery-live-work)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-20T15:36:56.337

我和你的情况类似，试试这个，这对我来说效果很好！

*   首先在主文件中，我像这样绑定事件处理程序：

    `$('body').bind( 'gridloaded', function(e,f) { my logic } );`

*   在最后动态填充我的 DOM 树的 ajax 文件中，我在需要的地方添加触发器和我所在的元素 id，如下所示：

    `$('body').trigger('gridloaded', $(this).attr('id') );`

    `onClickButton: function(){ $("body").trigger("gridloaded", $(this).attr('id')) }`

我喜欢这种方法，因为它很干净：无论 ajax 调用需要多长时间，它总是会在正确的时间只触发一个事件。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-02-20T10:06:30.427

将事件处理程序绑定到`document`或`body`可能不是一个好主意，如果它已经存在于 DOM 中。

但是，如果元素是动态生成的（就像您的情况一样），那么您可能会将事件绑定到文档，然后维护您自己的容器、目标和单击事件处理程序堆栈，例如：

```
$(document).on("click", "#selector", function () {}) 
```

资料来源： [在 jQuery 中侦听文档级别的事件有什么缺点吗？](https://stackoverflow.com/questions/16383718/are-there-any-drawbacks-to-listen-events-on-document-level-in-jquery)

# wordpress - 如何将 wordpress 网站转换为typo3 网站？

> ID：12382336
> 
> 赞同：1
> 
> 时间：2012-09-12T06:28:21.880
> 
> 标签：wordpress, content-management-system, typo3

我已经有一个 wordpress 网站，我正在尝试将其转换为typo3。但是我找不到任何有关此的帮助或教程，请有人帮助我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:36:06.397

恐怕，对此没有简单的转换器。Typo3 是功能更强大但也更复杂的 cms 之一。

Typo3 的工作方式完全不同。

所以我担心你的进程会按照旧网站的形象创建新的 Typo3 网站——然后进行一场体面的剪切粘贴狂欢。

如果有任何扩展提供导入 Wordpess XML 导出，您可能会查看 Typo3 扩展存储库。

编辑：看看这些是否对你有任何帮助

[http://typo3.org/extensions/repository/view/timtab_import_wp](http://typo3.org/extensions/repository/view/timtab_import_wp)

[http://typo3.org/extensions/repository/view/gl_wordpress](http://typo3.org/extensions/repository/view/gl_wordpress)

[http://typo3.org/extensions/repository/view/ws_wordpressgrab](http://typo3.org/extensions/repository/view/ws_wordpressgrab)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-06T08:17:22.153

除非您对 TYPOscript 有一定的了解，否则您可能必须从头开始您的网站或让专业人士为您处理转换。

为避免复制/粘贴，您可以尝试[本教程](http://vimeo.com/64951051)，但它仍然不适用于设计和扩展。

# c# - 带有 ASP .Net Webforms 的 UrlHelper

> ID：12382339
> 
> 赞同：0
> 
> 时间：2012-09-12T06:28:44.103
> 
> 标签：c#, asp.net, .net

我需要能够在 ASP .Net Webforms 中动态地在我的网页中设置链接。我知道您可以在 ASP .Net 中动态设置路由。

我也想以与 ASP .Net MVC 中的 UrlHelper 类似的方式从 RouteCollection 生成 Urls。到目前为止，如果您可以将 ASP .Net MVC 中的 UrlHelper 与 Webforms 一起使用，我找不到任何说明。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T06:34:58.990

您可能对Scott [Hanselman 最近发表](http://www.hanselman.com/blog/ASPNETWebFormsDynamicDataFieldTemplatesForDbGeographySpatialTypesPlusModelBindersAndFriendlyURLs.aspx)的博文并[在这篇博文中介绍的](http://www.hanselman.com/blog/IntroducingASPNETFriendlyUrlsCleanerURLsEasierRoutingAndMobileViewsForASPNETWebForms.aspx)**[FriendlyUrls Nuget 包](http://nuget.org/packages/Microsoft.AspNet.FriendlyUrls)**感兴趣。

代码示例：

```
<a href='<%# FriendlyUrl.Href("~/WebForms/Edit", Item.TouristAttractionId ) %>'>Edit</a> 
```

# c# - 在整个项目中使用类中的公共字符串（翻译文件）

> ID：12382340
> 
> 赞同：2
> 
> 时间：2012-09-12T06:28:47.607
> 
> 标签：c#, localization

我目前正在开发一个不同语言的网站。我知道这不是完美的方法，但这就是它现在的工作方式：

```
public string Donkerblauw = LanguageFile.Language("Donkerblauw", taal);
public string Lichtblauw = LanguageFile.Language("Lichtblauw", taal);
public string Groen = LanguageFile.Language("Groen", taal); 
```

它没有使用当前的 taal(language) 从语言数据库中选择字符串它是在一个名为的类中声明的`BaseMasterPage`

要使用它，我使用E：

```
public partial class MasterPage : BaseMasterPage 
```

工作正常，但是当我想在其他页面中使用它时，我必须再次声明所有字符串。我尝试过静态字符串，但它们在更新之前会有延迟。

如何在不在每个页面上声明它们而不在每个页面上进行 SQL 调用的情况下使用这些字符串？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:44:30.930

如果您在页面周围使用一些静态字符串，您可以简单地将其存储在 web.Config 文件中并使用它。
否则你可以有另一个类来调用这些。

# android - 为 https android 连接创建密钥库 BKS

> ID：12382342
> 
> 赞同：1
> 
> 时间：2012-09-12T06:28:49.780
> 
> 标签：android, security, ssl, bouncycastle, keystore

我找到了描述如何为 https 连接创建和使用密钥库的[教程。](http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html)但我有一个非常菜鸟的问题：我应该把这段代码放在哪里来创建密钥库？在 openssl 命令提示符或 keytool 键提示符中。

```
 export CLASSPATH=bcprov-jdk16-145.jar
CERTSTORE=res/raw/mystore.bks
if [ -a $CERTSTORE ]; then
    rm $CERTSTORE || exit 1
fi
keytool \
      -import \
      -v \
      -trustcacerts \
      -alias 0 \
      -file <(openssl x509 -in mycert.pem) \
      -keystore $CERTSTORE \
      -storetype BKS \
      -provider org.bouncycastle.jce.provider.BouncyCastleProvider \
      -providerpath /usr/share/java/bcprov.jar \
      -storepass some-password 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T20:36:03.490

两者都不。您粘贴的代码是一个 bash 脚本。通常你会将此文件命名为**make-keystore.sh**。将此添加为第一行：

```
#!/bin/bash 
```

确保它可以在你的 linux 机器上执行

```
chmod +x 
```

像这样运行它

```
./make-keystore.sh 
```

# iphone - Unsigned Short 像素的基本绘制 * 在 iOS 上使用 OpenGLES

> ID：12382347
> 
> 赞同：0
> 
> 时间：2012-09-12T06:29:25.077
> 
> 标签：iphone, ios, opengl-es, drawing

对于我的非应用商店应用，我一直在使用私有框架 Core Surface 直接绘制到 iPhone 的屏幕上。但是，这在旧设备上可能会相当慢，因为它大量使用 CPU 进行绘图。为了解决这个问题，我决定尝试使用 OpenGLES 将像素渲染到屏幕上。

目前（我无法更改），我引用了一个名为 BaseAddress 的无符号短 * 变量，并且基本的第 3 方代码访问 BaseAddress 并使用新的像素数据对其进行更新。

我已经设置了一个 GLKViewController，并按如下方式实现了 viewDidLoad：

```
- (void)viewDidLoad {
    [super viewDidLoad];

    self.context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2];

    if (!self.context) {
        NSLog(@"Failed to create ES context");
    }

    [EAGLContext setCurrentContext:self.context];

    GLKView *view = (GLKView *)self.view;
    view.context = self.context;

    glGenBuffers(1, &screenBuffer);
    glBindBuffer(GL_ARRAY_BUFFER, screenBuffer);
    glBufferData(GL_ARRAY_BUFFER, sizeof(BaseAddress), BaseAddress, GL_DYNAMIC_DRAW);

} 
```

其中 screenBuffer 是一个实例变量。在 glkView:drawInRect: 方法中，我有以下内容：

```
- (void)glkView:(GLKView *)view drawInRect:(CGRect)rect {
    glDrawElements(GL_ARRAY_BUFFER, sizeof(BaseAddress)/sizeof(BaseAddress[0]), GL_UNSIGNED_SHORT, BaseAddress);
} 
```

不幸的是，当我运行该应用程序时，只出现一个黑屏。如果我重新使用 Core Surface，该应用程序运行良好。所以基本上，我如何使用 OpenGLES 将像素绘制到屏幕上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T09:57:02.513

我认为最好使用纹理，对于您的情况，我会尝试为 iOS 设备找到一些较旧的 ES1 模板。基本上你需要的是一个帧缓冲区和一个由你的 UIView 层组成的颜色缓冲区：

```
 glGenFramebuffers(1, &viewFramebuffer);
    glBindFramebuffer(GL_FRAMEBUFFER, viewFramebuffer);
    glGenRenderbuffers(1, &viewColorBuffer);
    glBindRenderbuffer(GL_RENDERBUFFER, viewColorBuffer);
    [context renderbufferStorage:GL_RENDERBUFFER fromDrawable:(CAEAGLLayer*)self.layer];
    glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_RENDERBUFFER, viewColorBuffer);

    glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_WIDTH, &backingWidth);
    glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_HEIGHT, & backingHeight); 
```

至于投影矩阵，我建议您使用`glOrthof(.0f, backingWidth, backingHeight, .0f, -1.0f, 1.0f);`它会使您的 GL 坐标与您的视图坐标相同。

接下来在一些初始化中生成一个纹理，绑定它并赋予它 2 ( `textureWidth = 1; while(textureWidth < backingWidth) textureWidth = textureWidth << 1;`) 的幂的维度并将其传递为 NULL 作为数据指针（全部在函数“glTexImage2D”中）

然后为与纹理相同的正方形生成顶点数组，从 (0,0) 到 (textureWidth, textureHeight) 和从 (0,0) 到 (1,1) 的纹理坐标

当您将数据获取到指针并准备好推送到纹理时，使用`glTexSubImage2D`更新它：如果您获取数据或更新整个屏幕，则只能更新纹理的一部分，使用 rect (0,0,screenWidth , 屏幕高度)

现在只需用您的纹理绘制这两个三角形..

*   请注意，纹理大小有限制：大多数活动 iOS 设备 1<<11 (2048) iPad3 1<<12
*   创建时不要忘记设置纹理参数：`glTexParameteri`
*   如果需要，请检查视网膜显示并将 CAEAGLLayer 的内容比例设置为 2

# css - li 项之间的空间

> ID：12382348
> 
> 赞同：2
> 
> 时间：2012-09-12T06:29:37.760
> 
> 标签：css, iscroll

我正在尝试使用 iscroll 创建一个可滚动的水平列表。该列表似乎工作得很好。我面临的问题是，每个 li 项目之间都有一些空间。我尝试了我所知道的一切。但我只是不能删除那些 li 项目之间的空间。请查看下面的 [演示演示](http://jsbin.com/uzucev/1/edit)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T06:36:08.380

删除 `display: inline-block;`并使用 `float:left;`

```
#scroller li {
    background: #f7f7f7; /* Old browsers */
    background: -webkit-gradient( linear, left bottom, left top, color-stop(0.1, #D8D3D3), color-stop(0.5, #FBFBFB) ); 
    float:left;
    width: 120px;
    height: 100%;
    border:none;
    margin:0px;
} 
```

[http://jsbin.com/uzucev/6/edit](http://jsbin.com/uzucev/6/edit)

希望这会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:41:10.693

将 display:table-cell 属性添加到您的 CSS

```
#scroller li {
background: none repeat scroll 0 0 #F7F7F7;
border: medium none;
display: table-cell;
height: 100%;
margin: 0;
width: 120px; 
```

}

我希望它对你有用。

# .net - 在 C# 中使用正则表达式搜索字符串

> ID：12382349
> 
> 赞同：1
> 
> 时间：2012-09-12T06:29:41.030
> 
> 标签：.net, regex

我从 HTTP 请求返回了以下字符串

```
"keyverified=yes connected=no now=1347429501 debug=Not connected and no params"; 
```

现在我想使用正则表达式提取不同的键值组合。我试过像

```
var regString = @"keyverified=([a-zA-Z0-9]+)";
        var regex = new Regex(regString, RegexOptions.Singleline);
        var match = regex.Match(str);
        foreach (Group group in match.Groups)
        {
            Console.WriteLine(group.Value);
        } 
```

因为它可以正常工作`keyverified`并`connected`给我相应的值，但是当我将 regString 更改为`@"debug=([a-zA-Z0-9]+)"`它时，它只会给我第一个单词 ie `Not`。我想提取像`Not connected and no params`. 我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:33:34.793

对于调试，您应该在正则表达式中添加空格：

```
@"debug=([a-zA-Z0-9\s]+)" 
```

您可以以更紧凑的方式编写：

```
@"debug=([\w\s]+)" 
```

考虑到如果您在调试后还有其他字段，则字段名称也将匹配，因为您在字段之间没有适当的分隔符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:38:13.967

您可以使用前瞻，因为等号之前的项目不包含空格：

```
@"debug=([A-Za-z0-9\s]+)(?=((\s[A-Za-z0-9])+=|$))" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:34:56.327

假设键可能不包含空格或`=`符号，并且值可能不包含`=`符号，您可以这样做：

```
Regex regexObj = new Regex(
    @"(?<key>  # Match and capture into group ""key"":
     [^\s=]+   # one or more non-space characters (also, = is not allowed)
    )          # End of group ""key""
    =          # Match =
    (?<value>  # Match and capture into group ""value"":
     [^=]+     # one or more characters except =
     (?=\s|$)  # Assert that the next character is a space or end-of-string
    )          # End of group ""value""", 
    RegexOptions.IgnorePatternWhitespace);
Match matchResult = regexObj.Match(subjectString);
while (matchResult.Success) {
    Console.WriteLine("Key: " + matchResult.Groups["key"].Value);
    Console.WriteLine("Value: " + matchResult.Groups["value"].Value);
    matchResult = matchResult.NextMatch();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:35:12.250

你可以试试这些：

[http://msdn.microsoft.com/en-us/library/ms228595(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/ms228595(v=vs.80).aspx)

[http://www.dotnetperls.com/regex-match](http://www.dotnetperls.com/regex-match)

# java - Nutch NoClassDefFoundError 中的错误

> ID：12382355
> 
> 赞同：0
> 
> 时间：2012-09-12T06:30:15.990
> 
> 标签：java, tomcat, nutch, web-crawler

我正在学习 nutch ，我收到了这个错误。

我不太确定如何解决这个问题

有谁知道修复这个程序的方法？

我在 OS X 山线上运行 nutch..

```
apache-nutch-1.5.1 3  bin/nutch admin db -create

bin/nutch: line 104: [: -nutch-1.5.1: binary operator expected

Exception in thread "main" java.lang.NoClassDefFoundError: 3/logs
Caused by: java.lang.ClassNotFoundException: 3.logs
at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
at java.security.AccessController.doPrivileged(Native Method)
at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
at java.lang.ClassLoader.loadClass(ClassLoader.java:247) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:33:10.270

```
java.lang.NoClassDefFoundError: 3/logs 
```

我认为`3/logs`在 java 中不是有效的类名。运行程序时，您似乎在某些地方有错字。确保没有错别字。

# php - PHP 具体 5 将变量传递给 Add.php

> ID：12382362
> 
> 赞同：0
> 
> 时间：2012-09-12T06:30:55.037
> 
> 标签：php, block, add, edit, concrete5

我正在创建一个新块，我想在添加时将定义的变量传递给块实例。

在我的控制器中，我有以下内容：

```
// declare the var
public $hasMap = 0;

public function add() {
    $this->set('hasMap', $this->generateMapNumber());
} 
```

generateMapNumber() 函数如下所示：

```
public function generateMapNumber() {
    return intval(mt_rand(1,time()));
} 
```

在我的 add.php 表单中，我有一个隐藏字段：

```
<?php $myObj = $controller; ?>
<input type="hidden" name="hasMap" value="<?php echo $myObj->hasMap?>" /> 
```

当我创建一个新块时，`hasMap`总是如此`0`，隐藏的输入值总是`0`如此。有什么建议么？谢谢！

- - 编辑 - -

从具体5文档：

```
// This...
$controller->set($key, $value)
// ... takes a string $key and a mixed $value, and makes a variable of that name 
// available from within a block's view, add or edit template. This is 
// typically used within the add(), edit() or view() function 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T18:31:07.637

在块控制器中调用`$this->set('name', $value)`会在适当的添加/编辑/查看文件中设置具有给定值的该名称的变量——您不需要从控制器对象中获取它。所以只需调用`<?php echo $hasMap; ?>`您的 add.php 文件，而不是`$myObj->hasMap`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:00:20.357

它不会是相同的值，因为该函数每次调用时都会给出不同的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T20:48:47.387

所以这是解决方案。在控制器...

```
public $hasMap = 0;

// no need for this:
// public function add() {  }

public function generateMapNumber() {
    if (intval($this->hasMap)>0) {
        return $this->hasMap;
    } else {
        return intval(mt_rand(1,time()));
    }
} 
```

然后在 add.php 文件中...

```
<?php $myObj = $controller; ?>

<input type="hidden" name="hasMap" value="<?php echo $myObj->generateMapNumber()?>" /> 
```

它完美地工作。`hasMap`在添加时，会生成一个新号码，在编辑时，从数据库中的字段中提取现有号码。

感谢所有的投入。希望对其他人有所帮助！

# ios - NSDictionary/Hash 如果内容发生了变化

> ID：12382363
> 
> 赞同：0
> 
> 时间：2012-09-12T06:30:59.773
> 
> 标签：ios, hash, nsdictionary

我想在不检查所有键/值的情况下检查字典内容是否发生了变化。背景是我的应用程序经常收到`NSUserDefaultsDidChangeNotification`由于一些额外的库访问`NSUserDefaults`. 我自己的默认值存储在默认值中的一个字典中。

在启动时从 userdefaults 读取值，但不会在本地存储，因此我无法比较它们。我正在考虑的是在启动时为所有值生成一个哈希值并将该值存储在某处，每次收到通知时，我都会再次生成哈希值并将其与在内部分发通知之前存储的哈希值进行比较。

但可能有更简单的方法？！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:22:11.583

听起来这将是最简单的方法。更长的方法是创建一个`NSMutableSet`原始值，然后创建一个`NSMutableSet`更改后的值。 `NSSet`的`minusSet:`方法然后会给你增量。但这听起来比仅仅列举字典要繁重得多......

# c++ - Pthreads、MPI 和 OpenMP 中的 C++

> ID：12382366
> 
> 赞同：2
> 
> 时间：2012-09-12T06:31:06.183
> 
> 标签：c++, c, pthreads, openmp

再会。我正在参加关于并行和分布式编程的课程，我的一项任务要求我们使用 Pthreads、MPI 和 OpenMP 等并行编程扩展以 C 语言进行编程。问题是，我对 C++ 有更多的了解，我想知道 C++ 是否也与那些并行扩展兼容？

如果 C++ 不兼容，是否有任何关于在短时间内掌握 C 的快速备忘单或建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-21T12:36:46.917

正如@Tudor 所说，它们都支持C 和C++。所有流行的编译器都支持 OpenMP。要使用 MPI，您需要安装 MPI 的任何实现，例如 OpenMPI、mpich... pthreads 是线程的 POSIX 标准，但您也可以在 Windows 下使用它（Pthreads-w32）

# apache - Apache Hive 如何在亚马逊上运行？

> ID：12382374
> 
> 赞同：-1
> 
> 时间：2012-09-12T06:31:27.387
> 
> 标签：apache, hadoop, amazon-s3, amazon-web-services, hive

我正在寻找由 Amazon 托管的 Apache Hive 的机制。我假设，它用 S3 代替 HDFS，用 EMR 代替 Hadoop MapReduce。我的假设正确吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:33:04.557

你大多是正确的。我想说在亚马逊上运行 Hive 最方便的方法是用 S3 替换 HDFS。这是实用的，因为数据存在于 S3 上，我们可以按需运行 Hadoop / Hive 集群。一些缺点是写入性能慢 - 因此进行数据转换会很慢。进行聚合 - 大部分都很好
同时还有其他配置：
在本地驱动器上构建 HDFS。
在 EBS 卷上构建 HDFS。
每一个都有他们的权衡。

# magento - magento 1.3 导出数据到 1.7

> ID：12382375
> 
> 赞同：0
> 
> 时间：2012-09-12T06:31:34.813
> 
> 标签：magento, magento-1.7

我想将数据（类别、产品、订单、客户等）从 magento 1.3.2.4 导出到 1.7.0.2 版本。

我尝试从 1.3 版本导出 CSV 文件，但关联等未正确加载

有没有办法让我通过数据库做到这一点？

提前致谢

问候，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T14:39:27.850

[Magento upgrade takes too long and never completes](https://stackoverflow.com/questions/13163847/magento-upgrade-takes-too-long-and-never-completes/13194474#13194474) Please check this url, might help you as i was successful while migrating 1.4 to 1.7

# html - 尝试修复 w3 验证器错误和警告

> ID：12382376
> 
> 赞同：1
> 
> 时间：2012-09-12T06:31:35.530
> 
> 标签：html, css, validation

在 中测试我的 html 代码时`W3 validator`，我收到了以下错误和警告消息：

第 21 行，第 23 列：第一次出现的`ID menuItem`是在这里。

```
<li id="menuItem"><a href="#visit">Ten Places to Visit</a></li> 
```

✉ 第 29 行，第 25 列：重复 ID 菜单项。

```
<li id="menuItem"><a href="#Wrigley">Wrigley Field</a></li> 
```

但是，当我尝试删除`id=""`标签的一部分时，它显示`<li menuItem>`我失去了`menuItem`.

通常应该忽略来自验证器的这种类型的错误，还是我没有正确纠正它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:38:05.587

多次使用相同的 id 无效。尝试使用`class`而不是`id`（如果您使用 id 仅调用样式）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:39:54.483

ID menuitem 在同一页面上重复出现。因此，更改使 ID 具有唯一性。

在 W3 中验证器 ID 应该是唯一的。

您可以像这样更改代码。

```
<li id="menuItem0"><a href="#visit">Ten Places to Visit</a></li>
<li id="menuItem1"><a href="#Wrigley">Wrigley Field</a></li> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T00:31:15.483

从您的代码来看，W3 验证器的投诉是正确的！您不能两次使用相同的 ID 名称，如果您确实使用了两次，您将无法覆盖另一项。W3 验证器始终跟踪所有这些以维护网站的标准和完整性。因此，您需要为每个引用使用唯一的 ID 名称标识符。试试这个：

```
<li id="menuItem"><a href="#visit">Ten Places to Visit</a></li>
<li id="menuItemA"><a href="#Wrigley">Wrigley Field</a></li> 
```

我希望这有帮助。

# eclipse - 如何在eclipse中将jboss存储库全局添加到maven？

> ID：12382377
> 
> 赞同：2
> 
> 时间：2012-09-12T06:31:37.720
> 
> 标签：eclipse, maven, configuration, jboss, repository

我安装了 Eclipse Juno 和 m2e。它被配置为使用外部 maven 安装目录。这个目录有`settings.xml`我可能应该放入配置的文件。在 Jboss 手册中说他们的存储库应该在`<profiles>`部分中描述。我有一个，`settings.xml`但它（1）被注释掉并且（2）以 jdk14 命名，而我使用的是 6 或 7。

我的问题是：

如果没有配置任何配置文件，maven 如何工作？它默认使用哪个配置文件？

如果我取消注释 1.4 配置文件并将 jboss 描述放在那里，它会被使用吗？谁决定在 Eclipse 中使用哪个配置文件？

我可以创建自己的个人资料 ID 并将其放入`<activeProfiles>`部分吗？

maven 如何知道没有任何配置文件的任何存储库？“中央存储库”在哪里描述？我可以将 jboss 存储库放在那里而不是配置文件部分吗？

**更新 1**

我创建了以下存储库条目用户级配置，但它不起作用：

```
<profiles>
    <profile>
        <id>env-dev</id>

        <activation>
            <activeByDefault>true</activeByDefault>
        </activation>

        <repositories>
            <repository>
                <id>jboss-public-repository-group</id>
                <name>JBoss Public Repository Group</name>
                <url>http://repository.jboss.org/nexus/content/groups/public/</url>
                <layout>default</layout>
                <releases>
                    <enabled>true</enabled>
                    <updatePolicy>never</updatePolicy>
                </releases>
                <snapshots>
                    <enabled>true</enabled>
                    <updatePolicy>never</updatePolicy>
                </snapshots>
            </repository>
        </repositories>
    </profile>

</profiles> 
```

即我在依赖项搜索中找不到 4.0 版本的 hibernate，只能到 3.6，这意味着只搜索中央存储库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T07:28:43.263

如果没有配置任何配置文件，maven 如何工作？

*   个人资料不是强制性的，您可能不需要。并非所有项目都需要配置文件。

如果我取消注释 1.4 配置文件并将 jboss 描述放在那里，它会被使用吗？

*   当您运行 maven 时，如果您需要指定配置文件，您应该在命令行`maven install -Pmy-profile`中进行：例如。如果您不想每次都指定配置文件，则应将其配置为默认值。您可以在 settings.xml 或 pom.xml 中创建配置文件。小心这个。如果您在 settigs.xml 中指定默认配置文件，它将是所有 Maven 项目的默认配置文件。如果您在 pom.xml 中执行此操作，它将是项目的默认设置。

    ```
    <profile>
        <id>my-profile</id>
        <activation>
            <activeByDefault>true</activeByDefault>
        </activation>
        ...
    </profile> 
    ```

谁决定在 Eclipse 中使用哪个配置文件？

*   你;-) 顺便说一下，让我们澄清一下。Maven 是需要它的人，而不是 Eclipse。如果您想使用 Eclipse 运行一些 Maven 目标，您应该创建一个 Maven“运行配置”并将您想要使用的配置文件放在“配置文件”字段中。如果你想使用命令行运行 Maven，就像我上面描述的那样。

我可以创建自己的个人资料 ID 并将其放入`<activeProfiles>`部分吗？

*   是的，`<activeProfiles>`这是另一种默认激活配置文件的方式。见[文档](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)。

# jquery - CKEditor - 抛出 404 page not found 错误

> ID：12382382
> 
> 赞同：1
> 
> 时间：2012-09-12T06:32:02.393
> 
> 标签：jquery, ckeditor, http-status-code-404, outsystems

我正在尝试将 CK 编辑器嵌入到 Outsystems 应用程序中，该编辑器在初始实例中运行良好。当我尝试编辑已经存在的内容时，它在某些情况下工作正常，然后当我编辑并保存它时突然抛出“404-page not found”错误。

1.  当此错误出现时，我无法准确找到。
2.  我仍然想知道 CKEditor 中的最大字符大小。（由于我无法找到官方的最大限制，不同的人指定了不同的计数）

有什么提示可以解决这个问题吗？

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T10:13:13.870

André Ramos 在 OutSystems 网络中提供的原始 CKEditor 组件有一些限制，即缺乏对同一页面上的多个实例的支持以及通过 AJAX 请求替换时的其他问题。

检查 António Chinita 的修改版本是否解决了您的问题（请参阅[此处](http://www.outsystems.com/NetworkForums/ViewTopic.aspx?TopicId=5953&Topic=%5b%5b%5dCKEditor%5d-Discussion#Post26870)和[此处](http://www.outsystems.com/NetworkForums/ViewTopic.aspx?TopicId=5953&Topic=%5b%5b%5dCKEditor%5d-Discussion#Post27497)）。它们在组件的讨论线程中可用。

# android - 如何在 Android 中隐藏 RSS 列表视图浏览器

> ID：12382385
> 
> 赞同：2
> 
> 时间：2012-09-12T06:32:23.807
> 
> 标签：android, listview, browser, rss, hide

我正在研究 RSS XML saxparser。我正在创建 RSS 列表视图，以便单击任何项​​目将打开 URL。但我想隐藏 RSS 选择列表视图浏览器。

我也有 RSS 列表视图并创建新的活动文件。

[看到同样类型的问题](https://stackoverflow.com/questions/12033311/how-to-hide-the-browser-address-bar) 我可以在这里做什么？

```
lv1.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view,int position, long id) {
            String temp=PostList.get(position).getUrl();
            String temp1=PostList.get(position).getGuid();
            if(temp.contains("http://"))
            {
            Intent intent = new Intent(Intent.ACTION_VIEW).setData(Uri.parse(PostList.get(position).getUrl()));
                //Intent intent = new Intent(RSSAndroidActivity.this,com.sygnet.rss.Listview.class);
                startActivity(intent);
            }else if(temp1.contains("http://"))
            {
            Intent intent = new Intent(Intent.ACTION_VIEW).setData(Uri.parse(PostList.get(position).getGuid()));
                //Intent intent = new Intent(RSSAndroidActivity.this,com.sygnet.rss.Listview.class);
                startActivity(intent);
            }else
            {
                Toast.makeText(getApplicationContext(), "please, it cant able to open the link for this Feed", Toast.LENGTH_LONG).show();
            }
        }
    }); 
```

列表视图.java

```
public class Listview extends Activity{
WebView ourBrow;
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.listview);

    ourBrow = (WebView)findViewById(R.id.wvBrowser);

    ourBrow.getSettings().setJavaScriptEnabled(true);
    ourBrow.getSettings().setLoadWithOverviewMode(true);
    ourBrow.getSettings().setUseWideViewPort(true);
    ourBrow.setWebViewClient(new ourViewClient());

//        ourBrow.loadUrl(siteslist.getWebsiteValue());

   //hiding the keyboard after using an EditText
    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(ourBrow.getWindowToken(), 0);

}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T08:07:05.323

如果您与网络浏览器没有任何关系，只需将其删除并调用新活动作为休闲活动。在此活动中，您必须使用网络视图（隐藏地址栏）

**代码：**

```
lv1.setOnItemClickListener(new OnItemClickListener() {
   public void onItemClick(AdapterView<?> parent, View view,int position, long id) {
       //call to new intent here
        Intent i = new Intent(yourContext,yourActivity.class);
        i.putExtra("URL", your url);// set your url
        yourContext.startActivity(i);       

       }
}); 
```

你的Activity.class

```
public class yourActivity extends Activity{

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.layout_web_view);
        Intent intent = getIntent();
        String url= intent.getStringExtra("URL");
        WebView mWebView= (WebView )findViewById(R.id.web_view);                
        mWebView.loadUrl(url);   
    }   
} 
```

layout_web_view.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" 
    android:id="@+id/contact_wev_view"
    >
<WebView 
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" 
    android:id="@+id/web_view"/>
    </LinearLayout> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-02T06:43:52.537

```
public class WebViewActivity extends DashBoardActivity {
/** Called when the activity is first created. */
WebView ourBrow;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.webview);

    ourBrow = (WebView)findViewById(R.id.wvBrowser);

    ourBrow.getSettings().setJavaScriptEnabled(true);
    ourBrow.getSettings().setLoadWithOverviewMode(true);
    ourBrow.getSettings().setUseWideViewPort(true);
    ourBrow.setWebViewClient(new ourViewClient());

    ourBrow.loadUrl(www.indianbloggerpost.com);

   //hiding the keyboard after using an EditText
    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(ourBrow.getWindowToken(), 0);

} 
```

# android - Android：TabActivity 已弃用，使用 Fragments？

> ID：12382389
> 
> 赞同：9
> 
> 时间：2012-09-12T06:32:40.800
> 
> 标签：android, android-layout, android-tabhost, android-tabactivity

看来 TabActivity 现在已弃用，我们需要使用 Fragments。

我尝试使用标准 Activity，但无法调用 getTabHost。

所以看来我必须使用片段。但我有点困惑这将如何工作。

我知道片段不是活动，所以它们不在清单文件中？

所以我想我不能在片段上做 startActivity 吗？

有谁知道解释 tabHost 和 Fragments 的好例子，我发现的所有例子和教程都只使用 tabactivity。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-06-22T06:57:20.217

也许您可以改用 TabLayout。

> 现在最好通过在顶部使用带有自定义“选项卡指示器”的 ViewPager 来实现选项卡。Google 的新 TabLayout 包含在 Android“M”的支持设计库版本中。

访问[使用 TabLayoutEdit PagePage History 在 Google Play Style Tabs 中使用 TabLayout 的完整教程](https://guides.codepath.com/android/google-play-style-tabs-using-tablayout)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-17T11:32:32.723

今天 Android 有一个很好的教程。[从使用标签创建滑动视图](http://developer.android.com/intl/es/training/implementing-navigation/lateral.html)开始

这是如何创建选项卡的小快照

```
@Override
public void onCreate(Bundle savedInstanceState) {
    final ActionBar actionBar = getActionBar();
    ...

    // Specify that tabs should be displayed in the action bar.
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

    // Create a tab listener that is called when the user changes tabs.
    ActionBar.TabListener tabListener = new ActionBar.TabListener() {
        public void onTabSelected(ActionBar.Tab tab, FragmentTransaction ft) {
            // show the given tab
        }

        public void onTabUnselected(ActionBar.Tab tab, FragmentTransaction ft) {
            // hide the given tab
        }

        public void onTabReselected(ActionBar.Tab tab, FragmentTransaction ft) {
            // probably ignore this event
        }
    };

    // Add 3 tabs, specifying the tab's text and TabListener
    for (int i = 0; i < 3; i++) {
        actionBar.addTab(
                actionBar.newTab()
                        .setText("Tab " + (i + 1))
                        .setTabListener(tabListener));
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-22T06:44:58.450

面对现实吧。碎片是未来。我们被引导使用它们。

我发现以下教程内容丰富，希望它们能回答您所有的“带有片段问题的标签”：

*   [JavaCodeGeeks - Android 片段选项卡示例](https://examples.javacodegeeks.com/android/core/app/fragment/android-fragment-tabs-example/)
*   [Truiton - Android 选项卡示例 - 使用 Fragments 和 ViewPager](http://www.truiton.com/2015/06/android-tabs-example-fragments-viewpager/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-17T13:30:46.460

首先 - 您可以通过 context.startActivity(....); 从片段中启动活动

其次，要了解使用片段的选项卡，只需在您的 Android Studio 上创建一个示例项目，当它要求您选择现有模板时，然后选择具有选项卡的模板。这样您将看到标准代码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-22T07:09:47.540

我认为您使用选定实现的问题。Android SDK 包含很多 View 的变体，如 ActivityList、TabActivity、ActionBarActivity 等。它们都已弃用或将被弃用。你应该问为什么？

*   在新材料中查看带有选项卡和列表的不同示例。应用程序包含主标题，如 ToolbarLayout，其中包含不同状态的 Toolbar，您可以添加 TabLayout 和其他很酷的东西。

所以回答你的问题 - 最好使用自定义和强大的视图元素，然后是主要操作视图（活动）的几个实现。当您查看元素的操作规范时，这个原因更加明显。活动不需要在视图初始化中发生。

# objective-c - 又一个 NSScanner characterSetWithCharactersInString newb

> ID：12382390
> 
> 赞同：1
> 
> 时间：2012-09-12T06:32:48.533
> 
> 标签：objective-c, nsscanner

假设我有一个字符串（“G00 X0.0000 Y0.0000”），我需要解析它的内容。这是我的代码：

```
NSCharacterSet *params = [NSCharacterSet characterSetWithCharactersInString:@"XY"];

//setup the scanner
NSScanner *scanner = [NSScanner scannerWithString:stringToBeScanned];
NSString *scanned = nil;

//scan the string
NSLog(@"%@", stringToBeScanned);
while ([scanner scanUpToCharactersFromSet:params intoString:&scanned]) {

    struct keypair code;
    code.key = [scanned characterAtIndex:0];
    code.value = [[scanned substringFromIndex:1] doubleValue];

    NSLog(@"--> %@ [%lu]= (%c, %.4f)", scanned, [scanner scanLocation], code.key, code.value);
} 
```

以及 NSLog 的输出：

```
G00 X0.0000 Y0.0000 
--> G00  [4]= (G, 0.0000) 
```

我的字符集包括“X”和“Y”，我不知道为什么我的 NSScanner 不会在“X0.0000”中扫描 - 它应该找到 Y 并根据我的从 X 到 Y 提取所有内容理解。

我可以从 scanLocation 看到扫描仪在索引 4 处停止（正确），但循环要么不继续，要么评估为假。扫描仪不应该继续循环并找到我的分隔符（从字符集中）并获取数据吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T00:25:41.087

我解决了这个问题。基本上，我收到一个带有“代码”列表的字符串，后跟与该命令/参数关联的值。每个字符串中可能有几个不同的“命令”，或者根本没有。关键是使用 scanCharactersFromSet: 和 scanUpToCharactersFromSet: 来捕获正确的配对并解析整个字符串，同时保持非常灵活。这有点难看，我知道。

这是我的代码：

```
//setup the scanner
NSScanner *scanner = [NSScanner scannerWithString:[self stringByAppendingString:@"!"]];
NSCharacterSet *codeset = [NSCharacterSet characterSetWithCharactersInString:@"GMTFIJKPRSXYZ!"];
NSString *scanned = nil;
char codechar;

//perform the first scan
[scanner scanCharactersFromSet:codeset intoString:&scanned];
if (scanned)
    codechar = [scanned characterAtIndex:0];

//scan the string
while ([scanner scanUpToCharactersFromSet:codeset intoString:&scanned]) {
    struct keypair code;
    code.key = codechar;
    code.value = [scanned doubleValue];

    NSLog(@"--> (%c, %.4f)", code.key, code.value);

    //skip over the delimeter we encountered
    [scanner scanCharactersFromSet:codeset intoString:&scanned];
    if (scanned)
        codechar = [scanned characterAtIndex:0];

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:40:42.727

`scanUpToCharactersFromSet:intoString:`扫描*到*“X”并为您提供它扫描的字符“G00”。

*请注意，它不会扫描“X”。*当您再次调用该方法时，它会查看下一个字符（“X”），注意到它是集合中的一个字符，然后停止扫描。因为它没有扫描任何字符，所以它返回`NO`.

要扫描“X”（或“Y”），您也需要使用`scanCharactersFromSet:intoString:`。

# menu - 在 Struts2 中使用 Tile 的动态菜单

> ID：12382392
> 
> 赞同：2
> 
> 时间：2012-09-12T06:33:00.123
> 
> 标签：menu, struts2, membership, tile

嗨，我需要在我的 struts2 应用程序中创建一个动态菜单，因此网站成员和来宾应该有两个不同的菜单，目前我正在使用 Struts2 和 tile 有一个基本菜单，但我不知道如何为成员更改它当他们登录时。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:05:45.170

好吧，您在这里几乎没有选择

1.  创建两个菜单集，当用户登录到系统时设置他/她的角色，并基于角色可以显示菜单项。

其他更灵活优雅且功能更强大的解决方案是使用 spring security。Spring security 带有角色系统和一些标签集，基于这些标签，您可以根据登录用户和分配给用户的角色显示和隐藏选项。

我会选择第二个，因为它更灵活，将来更容易增强。

# drupal - Drupal node_load 是否锁定节点和相关字段？

> ID：12382396
> 
> 赞同：0
> 
> 时间：2012-09-12T06:33:36.787
> 
> 标签：drupal, drupal-nodes, drupal-database

我在 Drupal 7 中并在 Drupal 根文件夹中实现自定义脚本。然后我试图用然后调用一个`node_load(1234)`节点`node_save($node)`。在这两种方法之间，我正在尝试`DELETE`一些记录（一些数据库行）。但我无法以任何我发现的方式让它工作。

场景是这样的：

```
$node = node_load($nid);
..
.. Step 1\. Some node updates like: $node->title = "New Title!";
.. Step 2\. Some row DELETIONS
..
node_save($node); 
```

然后`Step 2.`不**工作**。
`Step 2.`可能包括行删除方法，例如：

```
$deleted_row = db_delete('some_table')
          ->condition('nid', $nid)
          ->execute();
[or]
db_query("DELETE FROM {some_table} WHERE nid = %d", $nid); 
```

所以我的问题是：

*   Drupal 是否在释放之前`node_load`锁定加载的及其所有相关字段（行） ？`node``node_save`
*   有没有可能的方法来删除一个简单的数据库行（在`node_load`被调用之后）？

请有任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T13:06:14.623

没有人回答。但我自己发现答案是“不，它不锁定”。

# iphone - 有事需要处理时如何从主线程通知后台线程

> ID：12382400
> 
> 赞同：-1
> 
> 时间：2012-09-12T06:33:57.520
> 
> 标签：iphone, ios, nsthread, runloop

我正在开发一个进行图像处理并显示结果图像的应用程序。我使用 UIScrollView 让用户滚动所有图像，因为图像不是标准的 jpg 或 png，加载需要时间。所以我想使用线程加载图像，然后更新视图。

现在，我在后台线程中使用一个计时器来检查是否有需要加载的图像。但它运行得不太好。我想知道当有一些图像需要在主线程中加载或任何其他建议时，是否有办法通知后台线程？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:23:05.990

在您的类中提供一个控制滚动视图的方法，让我们调用“processImage”。在您的后台线程中，当您有图像时，将其发送到 UI 类，如下所示：

```
dispatch_async(dispatch_get_main_queue(), ^{ [uiClass processImage:theImage] } ); 
```

背景对象应该保持对 uiClass 的弱引用（在这个例子中是一个委托）。这个想法是在后台进行图像处理，但将其提供给主线程上的 UI 类。

# jquery - 如何获取 touchstart 事件相对于移动设备窗口的坐标？

> ID：12382402
> 
> 赞同：2
> 
> 时间：2012-09-12T06:34:09.977
> 
> 标签：jquery, ios, ios5, mobile, cordova

这是我的 JavaScript：

```
$("window").bind("touchstart", function ()
    {
        var org = e.originalEvent.touches[0]; 
        var x = orig.changedTouches[0].pageX;//relative position of html,body document
        var y = orig.changedTouches[0].pageY;//relative position of html,body document

        var x0 = x - window.scrollX;
        var y0 = y - window.scrollY;

        alert(x0);
        alert(y0);
    }); 
```

`x`并且`y`适用于相对于 HTML`body`元素的坐标，所以目前，我需要偏移`window.scrollX`or `window.scrollY`;

我的问题是，在滚动过程中，用户经常触摸设备，导致 x0 和 y0 实时不正确。

我尝试使用添加全屏透明覆盖 div 元素`position:fixed`，并获取相对于该元素的坐标：

```
 $("overlayDIV").bind("touchstart",.. 
```

然而，结果是一样的。

无论如何要在移动设备窗口上获取touchstart事件的绝对坐标？

**我的环境是 iOS 5.x + phoneGap/Cordova2.0 + jQuery1.8.8。**

编辑1

我已经尝试`$(window)`过 touchstart 事件。问题是无论 jQuery 元素是什么，例如`$(window)`全屏透明层，结果都是相对于`html,body`.

编辑2

根据 [http://api.jquery.com/category/events/event-object/](http://api.jquery.com/category/events/event-object/)

```
event.pageX
The mouse position relative to the left edge of the document.
event.pageY
The mouse position relative to the top edge of the document. 
```

只要我们使用 pageX 属性，返回的总是**文档的相对位置**。听起来不错，但问题是它实际上**是 html, body document 的相对位置**。

# ios - stringWithBytes：长度：编码：正在产生错误的字符串长度

> ID：12382404
> 
> 赞同：0
> 
> 时间：2012-09-12T06:34:22.787
> 
> 标签：ios, nsstring, byte

我正在尝试从目标 c 中的字节数组中生成一个字符串。在我的课堂上，我定义了以下常量 char

```
static const char HELLO_WORLD[] = {0x68,0x65,0x6c,0x6c,0x6f,0x20,0x77,0x6f,0x72,0x6c,0x64,0x0d,0x0a}; 
```

然后我在 MyClass 中有一个方法，如下所示：

```
+ (NSString *)stringFromBytes:(const void*)bytes
{
    return [[NSString alloc] initWithBytes:bytes length:(sizeof(bytes)/sizeof(bytes[0])) encoding:NSUTF8StringEncoding];
} 
```

如果我这样做调用该方法

```
[MyClass stringFromBytes:HELLO_WORLD]; 
```

我得到一个看起来像“地狱”的字符串 - 我不确定我是否正确地执行了这个长度部分，我假设这就是问题所在。关于如何使其工作的任何指导？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:21:50.947

在你的

```
+ (NSString *)stringFromBytes:(const void*)bytes 
```

方法，`bytes`只是一个指针，因此`sizeof(bytes) == 4`，它解释了为什么你会看到“地狱”。

指针没有关于它指向的结构大小的信息。您必须提供大小作为附加参数，或者使用以 NULL 结尾的 C 字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:52:36.463

做这个：

```
+ (NSString *)stringFromBytes:(const char[])charbytes length:(NSUInteger)length
{
  return [[NSString alloc] initWithBytes:charbytes length:length encoding:NSUTF8StringEncoding];
} 
```

像这样使用：

```
 NSString *str = [MyClass stringFromBytes:HELLO_WORLD length:sizeof(HELLO_WORLD)];
 NSLog(@"%@",str); 
```

# ejabberd - ejabberd 上的 BOSH 实现

> ID：12382412
> 
> 赞同：3
> 
> 时间：2012-09-12T06:34:59.703
> 
> 标签：ejabberd

我试图在 ejabberd 上启动 BOSH。我的 ejabberd.cfg 片段如下：

```
 {5280, ejabberd_http, [
                     {request_handlers, [
            {["xmpp-httpbind"], mod_http_bind}
         ]},
         captcha,
         http_bind, 
         http_poll, 
         web_admin
            ]}

http://localhost:5280/http-bind fails to open any page. 
```

我的客户从服务器得到这个响应

发送的 XML：

```
<iq to='localhost' id='uid:50502b03:00004823' type='get' x
mlns='jabber:client'><query xmlns='jabber:iq:auth'><username>anurag</username></
query></iq> 
```

收到的 XML：

```
<iq xmlns='jabber:client' from='localhost' id='uid:505
029df:00004823' type='error'><error code='503' type='cancel'><service-unavailabl
e xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/></error></iq>

Sent XML: </stream:stream>
auth failed. reason: 0
ce: 18 
```

我正在使用 gloox 库来创建客户端。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T19:43:25.460

您是否将 {mod_http_bind, []} 添加到您的模块部分？

# iphone - 在 UIWebView 上打个洞

> ID：12382413
> 
> 赞同：0
> 
> 时间：2012-09-12T06:35:01.923
> 
> 标签：iphone, ios, uiview, uiwebview

我有一个 UIView ，我有一个 UIWebView 。现在我需要在 UIWebView 的 Hole 中创建一个洞，以使 UIView 从后面可见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:16:17.700

您需要将 to 的`opaque`属性设置`UIWebview`为`NO`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T10:27:52.540

尝试在`UIWebView`

```
// Create your mask layer
CALayer* maskLayer = [CALayer layer];
maskLayer.frame = CGRectMake(0,0,yourMaskWidth ,yourMaskHeight);
maskLayer.contents = (__bridge id)[[UIImage imageNamed:@"yourMaskImage.png"] CGImage];

// Apply the mask to your uiview layer        
yourUIWebView.layer.mask = maskLayer; 
```

# installation - 用于非 Java 应用程序的 Izpack 安装程序

> ID：12382417
> 
> 赞同：0
> 
> 时间：2012-09-12T06:35:14.620
> 
> 标签：installation, izpack

可以使用 Izpack 安装程序来安装非 java 应用程序吗？

谢谢，阿卜杜勒法塔赫。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-12T16:35:48.580

它应该是。它将所有内容捆绑在一个 jar 文件中。对于安装文件的 pack 标签，调用以下命令：

```
<pack name="PROJECTPACKNAME" required="yes" preselected="yes"
        installGroups="New Application">
        <description>PROJECT install</description>
        <file src="@{DIRECTORYNAME.dir}" targetdir="$INSTALL_PATH" />
    </pack> 
```

对于 DIRECTORYNAME，您必须在构建文件中声明一个属性，即：

```
<property name="DIRECTORYNAME.dir" value="/apps/MyProjectName"/> 
```

然后在构建文件中有一个目标：

```
<target name="SftWreBundle" depends="init" description="build the software bundle">

    <taskdef name="izpack" classpath="${izpack.dir}/lib/standalone-compiler.jar" classname="com.izforge.izpack.ant.IzPackTask" />
    <izpack input="install.xml" output="${dist}/${product.short.name}-${product.version}-install.jar" 
        installerType="standard" inheritAll="true" 
        basedir="${basedir}" compression="deflate" compressionlevel="9" />
</target> 
```

您可能需要在运行此目标之前清理您的工作目录。

# c# - 如何使用javascript刷新父页面并关闭子窗口

> ID：12382419
> 
> 赞同：3
> 
> 时间：2012-09-12T06:35:19.063
> 
> 标签：c#, javascript

当我单击父页面asp.net中的按钮时，如何使用javascript刷新父页面并关闭子窗口我能够刷新父页面但我的子窗口没有关闭。我的 C# 代码是

```
 string script = @"<script>
        function RefreshParent()
        {
          window.close();
           window.opener.location.reload();
          }RefreshParent();
</script>";
        Page.ClientScript.RegisterStartupScript(this.GetType(), "ssr", script); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:22:53.207

尝试

**window.parent.location.reload();**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:40:52.783

只需在您的子窗口中尝试此代码

```
Page.ClientScript.RegisterStartUpScript(this.GetType(),
                                       "close",
       "<script language=javascript>window.opener.location.reload(true);
                      self.close();</script>"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:39:48.617

带有链接的示例：

```
<script language="Javascript">
<!-- Start
document.write('<a href="javascript:self.close()" onClick="opener.location.reload(true);">Close</a>');
// Stop -->
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:49:48.103

在刷新父窗口之前，您正在关闭子窗口。试试这个方法

```
<string script = @"<script>
            function RefreshParent()
            {
              window.opener.location.reload();
              window.close();              
              }RefreshParent();
    </script>";
            Page.ClientScript.RegisterStartupScript(this.GetType(), "ssr", script); 
```

# android - 在 android 中，如何在 ACTION_POINTER_UP 事件中获取哪个指针？

> ID：12382428
> 
> 赞同：4
> 
> 时间：2012-09-12T06:36:05.763
> 
> 标签：android, touch

你好，

在安卓中，

```
first pointer down ----> ACTION_DOWN

second pointer down ----> ACTION_POINTER_DOWN / ACTION_POINTER_1_DOWN

first / second pointer release ----> ACTION_POINTER_UP / ACTION_POINTER_1_UP 
```

那么，如何在`ACTION_POINTER_UP`事件中获得哪个指针（第一个或第二个）释放？

谢谢。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T09:31:35.490

我找到了它，可以`getActionIndex()`用来获取哪个指针，开始由 api level 8 支持。

# php - 如何打印一个名为 *（星号）的对象？

> ID：12382439
> 
> 赞同：5
> 
> 时间：2012-09-12T06:36:44.397
> 
> 标签：php, object, stdclass

如果`print_r($object)`返回

```
stdClass Object
(
    [*] => sometext
) 
```

我如何获得星号的属性，即`$object->*`？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-12T06:39:09.457

您可以像这样访问该属性

```
$object->{"*"} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T06:40:05.773

这行得通吗？

```
 print_r($object->{'*'}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T06:43:59.933

只是

```
print_r($object->{"*"}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-12T06:48:14.233

您还可以将对象转换为数组：

```
$array = get_object_vars($object);
echo $array['*']; 
```

但上面的答案更好：

```
$object->{"*"} 
```

# actionscript-3 - Flex 比较类对象和类

> ID：12382441
> 
> 赞同：2
> 
> 时间：2012-09-12T06:36:46.143
> 
> 标签：actionscript-3, apache-flex, class

问题本身可能无法准确表达我的意思，因此我将快速跳入代码。

```
var myClass:Class; 
```

我用 myClass 存储 A 类定义了我的 A 类。

```
myClass = getDefinitionByName("myPackage.A") as Class; 
```

问题是如何验证 myClass 是否存储了 A 类。以下代码段不起作用。

```
if(myClass == A){
  Alert.show("equal");
} 
```

为什么这种比较会失败？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T06:50:08.930

试试这个：

按包名比较：

```
if(getQualifiedClassName(myClass) == getQualifiedClassName(A)){
      Alert.show("equal");
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T09:00:06.790

尝试

```
if(getQualifiedSuperclassName(ClassB) == getQualifiedClassName(ClassA))
{
      Alert.show("equal");
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T09:01:44.257

如果你有 A 类和 B 类`B extends A`，你可以使用：

```
var type:String = getQualifiedClassName(A);
for each (var object:Object in describeType(B)..extendsClass) {
    if (type == object.@type.toString())
        trace("Class B instead of A");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:43:27.297

怎么样：

```
if(myClass is myPackage.A)
{
   Alert.show("equal");
} 
```

# java - Android：如何从控制台在 textview 上显示字符串

> ID：12382442
> 
> 赞同：0
> 
> 时间：2012-09-12T06:36:44.277
> 
> 标签：java, android, sqlite, textview

我正在尝试在 textview 上显示字符串。我成功地能够从数据库在控制台上打印它，但我无法弄清楚如何在不同的不同文本视图上打印所有字符串。这是我的代码：

MainActivity.java

```
public class MainActivity extends Activity implements OnClickListener {

EditText search;
Button insert;
TextView txt1, txt2, txt3, txt4, txt5;
DatabaseHandler db;
List<History> history;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    db = new DatabaseHandler(this);

    search = (EditText) findViewById(R.id.search_word);
    insert = (Button) findViewById(R.id.insert);
    txt1 = (TextView) findViewById(R.id.txt1);
    txt2 = (TextView) findViewById(R.id.txt2);
    txt3 = (TextView) findViewById(R.id.txt3);
    txt4 = (TextView) findViewById(R.id.txt4);
    txt5 = (TextView) findViewById(R.id.txt5);

    insert.setOnClickListener(this);

    history = db.getAllHistory();
}

public void onClick(View v) {
    db.addHistory(new History(search.getText().toString(), null));
    Toast.makeText(getApplicationContext(),
            "Inserted: " + search.getText().toString(), Toast.LENGTH_LONG)
            .show();
}

@Override
protected void onStart() {
    super.onStart();
    List<History> history = db.getAllHistory();
    for (History cn : history) {
        String log = "Search Strings: " + cn.getName();
        Log.d("Search Strings: ", log);
    }
}
} 
```

这是我的活动，我将我的所有数据库值带到 onStart() 函数上。现在在这里我必须在 textview 上设置来自数据库的所有数据。这是我取出每一行的 DabaseHandler 类。

数据库处理程序.java

```
public class DatabaseHandler extends SQLiteOpenHelper {

private static final int DATABASE_VERSION = 1;

private static final String DATABASE_NAME = "historyManager";

private static final String TABLE_HISTORY = "histories";

private static final String KEY_NAME = "history";

public DatabaseHandler(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
}

@Override
public void onCreate(SQLiteDatabase db) {
    String CREATE_HISTORY_TABLE = "CREATE TABLE " + TABLE_HISTORY + "("
            + KEY_NAME + " TEXT" + ")";
    db.execSQL(CREATE_HISTORY_TABLE);
}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // Drop older table if existed
    db.execSQL("DROP TABLE IF EXISTS " + TABLE_HISTORY);

    onCreate(db);
}

void addHistory(History history) {
    SQLiteDatabase db = this.getWritableDatabase();

    ContentValues values = new ContentValues();
    values.put(KEY_NAME, history.getName());

    db.insert(TABLE_HISTORY, null, values);
    db.close();
}

History getHistory(int id) {
    SQLiteDatabase db = this.getReadableDatabase();

    Cursor cursor = db.query(TABLE_HISTORY, new String[] { KEY_NAME },
            "=?", new String[] { String.valueOf(id) }, null, null, null,
            null);
    if (cursor != null)
        cursor.moveToFirst();

    History history = new History(Integer.parseInt(cursor.getString(0)),
            cursor.getString(1), cursor.getString(2));
    return history;
}

public List<History> getAllHistory() {
    List<History> historyList = new ArrayList<History>();

    String selectQuery = "SELECT  * FROM " + TABLE_HISTORY;

    SQLiteDatabase db = this.getWritableDatabase();
    Cursor cursor = db.rawQuery(selectQuery, null);

    if (cursor.moveToFirst()) {
        do {
            History contact = new History();
            contact.setName(cursor.getString(0));
            historyList.add(contact);
        } while (cursor.moveToNext());
    }

    return historyList;
}

public int updateHistory(History history) {
    SQLiteDatabase db = this.getWritableDatabase();

    ContentValues values = new ContentValues();
    values.put(KEY_NAME, history.getName());
    return db.update(TABLE_HISTORY, values, KEY_NAME + " = ?",
            new String[] { String.valueOf(history.getName()) });
}

public void deleteHistory(History history) {
    SQLiteDatabase db = this.getWritableDatabase();
    db.delete(TABLE_HISTORY, KEY_NAME + " = ?",
            new String[] { String.valueOf(history.getName()) });
    db.close();
}

public int getHistoryCount() {
    String countQuery = "SELECT  * FROM " + TABLE_HISTORY;
    SQLiteDatabase db = this.getReadableDatabase();
    Cursor cursor = db.rawQuery(countQuery, null);
    cursor.close();

    return cursor.getCount();
}
} 
```

请帮助在 textview 上打印数据。在 Log.d 上，我可以看到我所有的数据，一个接一个。但我无法打印所有数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:52:51.080

您需要制作 ListView，其中将显示来自 DB 的数据。因为您有许多从 db 获取的项目数据。我建议下一个版本：

在您创建的 xml 文件中：

```
<ListView
android:id="@+id/list_names"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
...> 
```

您需要使用下一个 xml 资源为您的列表创建适配器：

```
<TextView
android:id="@+id/text_name"
android:layout_width="fill_parent"
android:layout_height="fill_parent"> 
```

在 java 代码中：在 onCreate 中：

```
ListView list = (ListView) findViewById(R.id.list);
OurAdapter adapter = new OurAdapter(..., List<String> yourListWithName);
list.setAdapter(adapter); 
```

如果您想要更详细的代码描述，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:58:26.363

这是“谢谢你”的答案。你能告诉我如何设置我在 MainActivity onStart() 方法 (Log.d("")) 上打印的数据。如果你能给我代码，那对我来说会容易得多。” 试试这个：

```
List<String> listNames = new ArrayList<String>();//global variable

List<History> history = db.getAllHistory();
    for (History cn : history) {
         listNames.add(cn.getName());
    } 
```

或者，如果在历史字段中尝试日期，则在轻​​松排序后：

```
Map<String, Date> historyMap = new HashMap<String, Date>();
    List<History> history = db.getAllHistory();
        for (History cn : history) {
             historyMap.put(cn.getName, cn.getDate);
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T08:17:57.097

要在顶部添加最后一项，您接下来需要创建规范。内部类：

```
 class Holder implements Comparable<Holder> {
        String key;
        Double value;

        public int compareTo(Holder another) {           
              return another.value.compareTo(value);
        }
    } 
```

并如何使用他：

```
List<this.Holder> listSortforLastInTop = new ArrayList<this.Holder>(); 
```

和

```
for(...){
   Holder holder = new Holder();
   holder.key=...;
   older.value=..;
   listSortforLastInTop.add(holder);
} 
```

# hadoop - 通过 PIG 加载多个 hbase 表限定符

> ID：12382443
> 
> 赞同：1
> 
> 时间：2012-09-12T06:36:53.637
> 
> 标签：hadoop, mapreduce, hbase, apache-pig

我有一个名为 USERS 的 hbase 表，其列族名称为 USER_INFO。USER_INFO 有两个限定符 EMAIL , AGE。当我尝试通过 PIG 加载单个限定符值时，它是成功的。使用命令：

```
R = LOAD 'USERS' USING org.apache.pig.backend.hadoop.hbase.HBaseStorage('USER_INFO:EMAIL', '-loadKey') AS (key: chararray, EMAIL: chararray); 
dump R; 
```

但我无法使用这两个限定符加载表格。即电子邮件，年龄。我试过这个：

```
S = LOAD 'USERS' USING org.apache.pig.backend.hadoop.hbase.HBaseStorage('USER_INFO:AGE', 'USER_INFO:EMAIL','-loadKey') 
AS (key: chararray, AGE:chararray, EMAIL:chararray);
dump S; 
```

它在创建作业配置时出错。相反，我不知道我应该给出的命令的正确用法。请帮忙！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-26T11:30:05.027

你可以试试这个：

```
R = LOAD 'USERS' USING org.apache.pig.backend.hadoop.hbase.HBaseStorage('USER_INFO:*', '-loadKey') AS (key:chararray,qualifier:map[]); 
dump R 
```

# android - 根据日期从android中的Web服务排序listview

> ID：12382444
> 
> 赞同：0
> 
> 时间：2012-09-12T06:36:56.117
> 
> 标签：android

我有一个来自网络服务的列表视图，其中名称和日期作为每行的列表项。我需要根据 android 中的日期对这个列表视图进行排序。我该怎么做？

我使用的代码：

受保护的字符串doInBackground（字符串... args）{

……

```
 for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap

            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);
            // adding each child node to HashMap key => value
            map.put(Constants.REQUEST_ID,   webCall.parser.getValue(e, "name"));
            map.put(Constants.KEY_DATE, webCall.parser.getValue(e, "Date"));

            // adding HashList to ArrayList
            menuItems.add(map);
        }
        return null;

    }

    protected void onPostExecute(String file_url) {
        // dismiss the dialog after getting all products

        // updating UI from Background Thread
        runOnUiThread(new Runnable() {
            public void run() {
                ListAdapter adapter = new SimpleAdapter(this,menuItems, R.layout.list_item, new String[] {
                                Constants.REQUEST_ID, Constants.KEY_DATE

                                }, new int[] {
                                R.id.id, R.id.name});

                setListAdapter(adapter); 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:47:19.493

1.  从 Web 服务中检索列表项
2.  对列表进行排序`util.Arrays.sort(myArray);`
3.  显示列表

# git - git 可以忽略与模式匹配的特定行吗？

> ID：12382447
> 
> 赞同：9
> 
> 时间：2012-09-12T06:37:35.997
> 
> 标签：git

我使用 git 从网站上对 mysql 数据库转储进行版本控制。

使用--skip-extended-insert，所以每条记录都在自己的行上，它可以很好地跟踪更改。它还允许我从历史中提取旧版本的数据库并导入它们。

有没有办法告诉 git 忽略某些行或包含某些模式的行？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T08:00:06.393

## 不

Git 是基于文件的，它不会修改跟踪文件的内容来派生差异。

## 可能的替代方案

### 去除杂物

不要在您不关心的数据库转储中包含表/数据。如果它不存在造成差异，则无需采取额外步骤来忽略/纠正它。

因此，例如，如果问题是您不想备份的已删除文章，请将它们从备份过程中删除：

```
mysqldump -c -w "articles.deleted IS NULL" articles > backup.sql 
```

### 后期过程

后处理数据库转储以删除您不关心的内容。例如，这是我使用的 db dump 帮助程序脚本的摘录：

```
#!/bin/bash
mysqldump -dRC --skip-dump-date --skip-add-drop-table --default-character-set=utf8 database $@ > schema.sql
sed -i 's/ AUTO_INCREMENT=[0-9]\+//' schema.sql 
```

此示例（仅用于说明）从 create table 语句中删除自动增量值，以便它们不会在（版本控制的）schema.sql 文件中产生差异。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:53:13.090

如果 git 不能这样做，我看到的两个解决方案是：

1.  修改我用来转储数据库的脚本以删除与版本控制无关的内容。（缺点：删除其中一些内容可能会导致转储不再可用于导入）

2.  将每个数据库转储存储在其他地方（可能以某种方式在挂钩中由 commitID 命名）并版本控制修改后的版本。例如，，`cat dump.sql | grep -v "_session" >> dump.sql`但如果我可以将这样的 grep 添加到某个地方的 git，那将是理想的。

# algorithm - 求解递归的递归树法

> ID：12382448
> 
> 赞同：2
> 
> 时间：2012-09-12T06:37:37.010
> 
> 标签：algorithm, recursion, recurrence

我正在使用此链接练习递归树方法：[http](http://www.cs.cornell.edu/courses/cs3110/2012sp/lectures/lec20-master/lec20.html) ://www.cs.cornell.edu/courses/cs3110/2012sp/lectures/lec20-master/lec20.html .. 第一个示例还可以，但在第二个示例中，他将树的高度计算为 log(base 3/2) n .. 谁能告诉我他是如何计算高度的？可能是一个愚蠢的问题，但我无法理解！:|

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T08:41:27.270

让我试着解释一下。您拥有的递归公式是`T(n) = T(n/3) + T(2n/3) + n`. 它说，您正在创建一个递归树，该树在该级别分为大小为 、 和成本的两个子`n/3`树`2n/3`。`n`

如果您看到高度是由最大子树的高度（+1）决定的。这里是右子树，带有`2n/3`元素的那个将驱动高度。好的？

如果上面这句话对你来说很清楚，让我们计算高度。在高度 1 处，我们将有`n*(2/3)`元素，在高度 2 处，我们有`n*(2/3)^2`元素，......我们将继续分裂直到剩下一个元素，因此在高度`h`

```
 n*(2/3)^h <= 1
 (take log both side)
 log(n) + h*log(2/3) <= 0
 (log is an increasing function)
 h*log(3/2) >= log(n)
 h >= log(n)/log(3/2)
 h >= log3/2 (n) 
```

我建议阅读 Master Method for Recursion from [Introduction to Algorithms - CLRS](https://rads.stackoverflow.com/amzn/click/com/0262033844)。

# c# - List.FindAll() 显示空列值的错误

> ID：12382452
> 
> 赞同：0
> 
> 时间：2012-09-12T06:37:48.073
> 
> 标签：c#, .net, linq, list, findall

```
objLst = objLst.FindAll(c => c.Emp_cod.Equals(string.Empty)
                || c.Emp_cod.Equals(null)) 
```

我有一份所有员工和新员工的列表，他们的 emp_cod 值为 null。

现在，当我尝试使用上面的代码查找新员工时，它会给出对象引用错误。

Emp_cod 列是从 SQL 导入 DBML 时定义如下的字符串：

```
[Column(Storage = "_Emp_cod", DbType = "VarChar(10)")]
public string Emp_cod { get; set; } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:39:36.313

你可以试试：

```
objLst = objLst.Where(c => String.IsNullOrEmpty(c.Emp_cod)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:46:08.350

您收到错误的原因是因为您试图`Equals`在空对象上调用实例方法。您需要先检查 null ，然后检查字符串是否为空。

```
objLst = objLst.FindAll(c => c.Emp_cod != null && c.Emp_cod.Equals(string.Empty)); 
```

或者如果您可以像 Adrian 的回答那样使用[string.IsNullOrEmpty会更好。](http://msdn.microsoft.com/en-us/library/system.string.isnullorempty.aspx)

如果您想检查空、空和空格，也可以尝试[string.IsNullOrWhiteSpace ，但前提是您使用的是 .Net 4.0 或更高版本](http://msdn.microsoft.com/en-us/library/system.string.isnullorwhitespace.aspx)

```
objLst = objLst.FindAll(c => string.IsNullOrWhiteSpace(c.Emp_code)) 
```

# ruby-on-rails - 解决类和 gem 之间的命名空间冲突

> ID：12382458
> 
> 赞同：3
> 
> 时间：2012-09-12T06:38:26.943
> 
> 标签：ruby-on-rails, ruby, namespaces, rubygems, conflict

在我的 Rails 2.3 应用程序中，我发现问题源于现有 ActiveRecord 模型和我最近添加的 gem 之间的命名空间冲突。

具体来说，我试图添加`jammit`对应用程序的支持。jammit 的依赖 gem 之一 require's `'platform'`，它将一个`Platform` **模块**引入应用程序的命名空间。但是，我已经有一个具有该名称的 AR**类**，重命名它会引入许多额外的工作和可能的错误。

我想知道是否有一种相对简单的方法（使用 ruby​​ 的 metamagic 或诸如此类）来防止这种命名空间冲突，而无需重命名我的类或更改实际的 gem。谢谢。

## 编辑：

而不是在我的应用程序中重命名/包装**类** `Platform`，并且由于该**模块** `Platform`仅由另一个 gem 需要，我导致分叉两个 gem，重命名`Platform`为`XPlatform`（原始 gem 和导入它的那个），并重建它们. 这似乎奏效了[叹气]。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:22:48.363

如果无法更改名称时的条件是不可避免的

尝试将您的 activerecord 类包装在一个模块中

```
module YourModule
 class Platform < Activerecord::Base
 named_scope :your_scope, lambda {#your code here}

 end
end 
```

所以你唯一需要做的改变就是

```
YourModule::Platform.your_scope 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-02T14:06:51.787

在任何操作之前的类的顶部，您可以只创建一个别名。

新平台 = ActiveRecord::

并且只需在该类的操作中使用别名以避免命名空间冲突。

# css - 如何订购一个css文件？

> ID：12382459
> 
> 赞同：0
> 
> 时间：2012-09-12T06:38:28.083
> 
> 标签：css

我有一个超过 3000 行的 css 文件。（是的，有点多）我想按字母顺序排列它们，以便我可以轻松找到属性。Ctrl+F 让我很累，因为我有很多类似的选择器。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:42:40.220

指定 CSS 的顺序决定了哪些属性优先于其他属性。相反，我会按类别系统组织您的属性。例如，在一个部分中组合字体道具，在另一部分中设置背景道具等。这是一个例子，但不同的程序员有自己的 CSS 文件组织方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-12T17:36:05.407

当我查看我之前提出的问题时，我意识到它没有回答。因此，我现在为其他人回答。

Styleneat 非常适合组织和排序： http: [//www.styleneat.com/index.php](http://www.styleneat.com/index.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T08:13:30.187

订购 css 的最佳方式是为特定设计创建组，为布局或常用类创建一组。

我通常为布局制作 3 组：

*   **形式**：样式输入，提交，标签，容器，...
*   **排版**：颜色，链接，标题，段落，...
*   **布局**：盒子大小和样式

然后对于每个特定的设计，您在您的 css 文件中创建另一个组来覆盖旧样式或创建新样式。

# php - PHP中的数学

> ID：12382462
> 
> 赞同：0
> 
> 时间：2012-09-12T06:38:42.683
> 
> 标签：php

我是这里的初学者。我有两个问题。

这是我的查询：

```
$result = mysql_query( "select SUM(achievenum) as achieve_rows from games" );
$row = mysql_fetch_object( $result );
$total_achieve = $row->achieve_rows;

$result = mysql_query( "select SUM(achieveget) as get_rows from games" );
$row = mysql_fetch_object( $result );
$get_achieve = $row->get_rows;

$completed_rate = $get_achieve * 100 / $total_achieve; 
```

1.  如何使用一个查询而不是两个查询来制作此代码？

2.  当我显示百分比时

表明

```
Completion Rate : 32.3529411765% 
```

我需要它只显示前三个数字。

```
32.3 % 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T06:40:43.050

要修改您的 sql，请使用以下命令：

```
select 
    SUM(achievenum) as achieve_rows, 
    select SUM(achievenum) as achieve_rows 
from games 
```

并显示结果，您想先使用圆形对其进行格式化：

```
<?php 
    echo round($completed_rate,1)."%"; 
?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T06:48:18.713

查询将是：

```
select ROUND(SUM(achieveget)*100/SUM(achievenum),1) as completion_rate from games 
```

# ruby-on-rails - 从多态评论模型中查找评论的回复者

> ID：12382463
> 
> 赞同：0
> 
> 时间：2012-09-12T06:38:45.817
> 
> 标签：ruby-on-rails, polymorphic-associations

我有这种多态关联，其中用户可以有很多评论，学校可以有很多评论，并且评论可以有很多评论（或者在我的命名情况下回复）：

```
class Comment < ActiveRecord::Base
  attr_accessible :content
  has_many :replies, :as => :commentable, :class_name => "Comment" # replies to comments

  belongs_to :commentable, :polymorphic => true
  belongs_to :commentor, :class_name => "User", :foreign_key => "user_id"
end

class User < ActiveRecord::Base
  has_many :comments, :as => :commentable
  has_many :commentors, # all users who commented on a user
    :through => :comments,
    :source => :commentor
end

class School < ActiveRecord::Base
  has_many :comments, :as => :commentable
  has_many :commentors, # all users who commented on a school
    :through => :comments,
    :source => :commentor
end 
```

在用户中，我可以检索所有使用`@user.commentors`. 学校也是如此，即`@school.commentors`.

对于评论模型，我想为评论模型实现相同的目标，我可以在其中找到评论的所有评论者（或者我猜是回复者）；但是，我不知道要创建什么样的关联，因为 has_many :through 关联不会像用户和学校模型那样工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T14:16:50.327

用这个：

```
has_many :reply_commentors, :through => :replies, :source => :commentor 
```

# magento - Magento 升级 PEAR 错误

> ID：12382465
> 
> 赞同：0
> 
> 时间：2012-09-12T06:38:53.843
> 
> 标签：magento, magento-1.4

当我掌握命令时，我正在按照[http://turnkeye.com/blog/magento-upgrade-guide/上的说明进行操作](http://turnkeye.com/blog/magento-upgrade-guide/)

```
./pear upgrade -f magento-core/Mage_All_Latest-stable 
```

我得到了错误

> 警告：频道“connect.magentocommerce.com/core”已更新其协议，请使用“channel-update connect.magentocommerce.com/core”进行更新

我在网上搜索过，找不到任何与此相关的内容。

我努力了

```
./pear upgrade -f channel-update connect.magentocommerce.com/core 
```

但这不起作用。

有人可以帮忙吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:03:06.113

刚遇到这个问题，你需要运行：

```
./pear channel-update connect.magentocommerce.com/core 
```

完成后，您现在应该可以运行：

```
./pear upgrade -f magento-core/Mage_All_Latest-stable 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:13:17.967

使用 GUI - Admin-> System 中的 Magento Connect Manager 试一试有什么问题？

假设您已备份所有内容，您还可以删除 public_html 并重新安装 1.4 - 这样做没有任何可能性，因为您将有很多内容需要更新，包括您的主题，通过重新安装，您将保留您的产品、客户和订单。

# c# - 这是在 DrawableGameComponent 中有效使用 is 和 as 运算符吗？

> ID：12382469
> 
> 赞同：0
> 
> 时间：2012-09-12T06:39:11.307
> 
> 标签：c#, menu, xna

我正在学习使用 as 运算符，我的目标是创建一个选项窗口（非窗口形式），它可以：

添加选项（为了灵活性，以防我想使用 if 语句添加菜单项） 能够显示文本、纹理或类（使用类绘制功能） 通过主机 GameState 进行控制

我还没有添加用于指示已选择项目的选项，对于没有发布完整的作品，我深表歉意。我还没有将代码分类到区域中。再次抱歉！

从性能和可读性（非意大利面条代码）的角度来看，我的代码（特别是 draw 函数）是否正确使用 is 和 as 运算符？

```
public class OptionWindow : DrawableGameComponent
{
    public Dictionary<int, Option> options;
    int selectedOption;
    bool windowLoops;
    Rectangle drawRectangle;
    int spacer;
    int totalItemHeight;
    SpriteFont sf;
    SpriteBatch sb;

    public Rectangle DrawRectangle
    {
        get { return drawRectangle; }
        set { drawRectangle = value; }
    }

    public int SelectedOption
    {
        get { return selectedOption; }
        set
        {
            if (windowLoops)
            {
                if (selectedOption >= options.Count())
                    selectedOption = 0;
                if (selectedOption < 0)
                    selectedOption = options.Count() - 1;
            }
            else
            {
                if (selectedOption >= options.Count())
                    selectedOption = options.Count() - 1;
                if (selectedOption < 0)
                    selectedOption = 0;
            }
        }
    }

    public OptionWindow(Game game, bool windowLoops, SpriteFont sf, Rectangle drawRectangle)
        : base(game)
    {
        options = new Dictionary<int, Option>();
        this.windowLoops = windowLoops;
        this.sf = sf;
        DrawRectangle = new Rectangle(drawRectangle.X, drawRectangle.Y, drawRectangle.Width, drawRectangle.Height);
    }
    public void Add(object option, bool selectable, bool defaultSelection, int height)
    {
        options.Add(options.Count(), new Option(selectable, option, height));
        if (defaultSelection)
            SelectedOption = options.Count() - 1;
        UpdatePositions();
    }
    public void UpdatePositions()
    {
        UpdateTotalItemHeight();
        if (options.Count() - 1 != 0)
            spacer = (drawRectangle.Height - totalItemHeight) / (options.Count() - 1);
        for (int i = 0; i < options.Count(); i++)
        {
            if (i == 0)
                options[i].Position = new Vector2(drawRectangle.X, drawRectangle.Y);
            else
            {
                options[i].Position = new Vector2(
                    drawRectangle.X,
                    options[i - 1].Position.Y + options[i - 1].Height + spacer);
            }
        }
    }
    public void UpdateTotalItemHeight()
    {
        totalItemHeight = 0;
        for (int i = 0; i < options.Count(); i++)
        {
            totalItemHeight += options[i].Height;
        }
    }
    protected override void LoadContent()
    {
        sb = new SpriteBatch(GraphicsDevice);
        base.LoadContent();
    }
    public override void Draw(GameTime gameTime)
    {
        for (int i = 0; i < options.Count(); i++)
        {
            if (options[i].OptionObject is string)
                sb.DrawString(sf, options[i].OptionObject as string, options[i].Position, Color.White);
            if (options[i].OptionObject is Texture2D)
                sb.Draw(options[i].OptionObject as Texture2D,
                    new Rectangle(
                        (int)options[i].Position.X,
                        (int)options[i].Position.Y,
                        options[i].Height,
                        (options[i].Height / (options[i].OptionObject as Texture2D).Height) * (options[i].OptionObject as Texture2D).Width),
                        Color.White);
            if (options[i].OptionObject is DisplayObject)
                (options[i].OptionObject as DisplayObject).Draw(gameTime);
        }
        base.Draw(gameTime);
    }
}

public class Option
{
    bool selectable;
    object optionObject;
    int height;
    Vector2 position;
    public bool Selectable
    { 
        get { return selectable; }
        set { selectable = value; }
    }
    public object OptionObject
    {
        get { return optionObject; }
        set { optionObject = value; }
    }
    public int Height
    {
        get { return height; }
        set { height = value; }
    }
    public Vector2 Position
    {
        get { return position; }
        set { position = value; }
    }
    public Option(bool selectable, object option, int height)
    {
        Selectable = selectable;
        OptionObject = option;
        Height = height;
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:47:01.460

永远不建议使用`is`then `as`。通常的方法是使用以下任一方法：

*   只需使用`is`（如果您只想知道类型而不进行后续转换）
*   将结果分配给`as`变量并检查该变量是否（不是）`null`

代码分析工具[FxCop](http://www.microsoft.com/en-us/download/details.aspx?id=6544)可帮助您找到代码中的任何使用点`is`，然后`as`由于性能问题向您发出警告。

Note however that a better approach altogether might be to declare your `OptionObject` property as some abstract class with a `Draw` method. You could then derive a subclass for strings, one for `Texture2D` instances and another one for `DisplayObject` instances and just call `Draw` in your `OptionWindow.Draw` method. This would leave the decision which actual drawing operations to execute up to built-in polymorphism features of the framework.

# dynamic - 处理动态控制

> ID：12382470
> 
> 赞同：0
> 
> 时间：2012-09-12T06:39:17.927
> 
> 标签：dynamic, controls

**这是我的代码：HyperLink hl = new HyperLink(); hl.Text = "查看详情"; hl.Style("marin-top") = "20px"; 我想处理标签、超链接、文本框等动态控件的位置，但上面给出的代码给出了错误。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T09:08:05.520

您可以将信息作为文本传递，而不是这样做，例如。

```
Label lbl = new Label();
lbl.Text = "<div align='center' style='font-weight:bold;'></br>" + strText + "</div>";              
myControl.Controls.Add(lbl);

HyperLink hl = new HyperLink();
hl.Text = "<Div id='viewid' style='margin-top:20px;' align='center'>" + strText+"</Div>";
hl.NavigateUrl = "~/myPage.aspx";                
myControl.Controls.Add(hl); 
```

# python - 对python变量作用域的怀疑

> ID：12382472
> 
> 赞同：2
> 
> 时间：2012-09-12T06:39:24.350
> 
> 标签：python, scope

> **可能重复：**
> [Python 范围规则的简短描述](https://stackoverflow.com/questions/291978/short-description-of-python-scoping-rules)

我写了两个简单的函数：

```
# coding: utf-8
def test():
    var = 1 
    def print_var():
        print var 
    print_var()
    print var 

test()
# 1
# 1
def test1():
    var = 2 
    def print_var():
        print var 
        var = 3 
    print_var()
    print var 

test1()
# raise Exception 
```

相比之下，`test1()`在 之后赋值`print var`，然后引发 Exception: `UnboundLocalError: local variable 'var' referenced before assignment`，我认为在我调用 inner 的那一刻`print var`， var 的值为 2，我错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:43:09.077

是的，你在这里不正确。函数定义引入了一个新的范围。

```
# coding: utf-8
def test():
    var = 1 
    def print_var():
        print var    <--- var is not in local scope, the var from outer scope gets used
    print_var()
    print var 

test()
# 1
# 1
def test1():
    var = 2 
    def print_var():
        print var     <---- var is in local scope, but not defined yet, ouch
        var = 3 
    print_var()
    print var 

test1()
# raise Exception 
```

# php - 在 symfony2 中插入多对多关系

> ID：12382481
> 
> 赞同：1
> 
> 时间：2012-09-12T06:39:58.290
> 
> 标签：php, mysql, symfony, doctrine

我试图在我的 symfony2 项目中插入多对多关系。我已按照[Symfony2-Doctrine 中的所有步骤操作：ManyToMany 关系未保存到数据库](https://stackoverflow.com/questions/7044864/symfony2-doctrine-manytomany-relation-is-not-saved-to-database)

除了 category_id 之外，所有记录都输入到项目表中...

任何的想法 ？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:55:55.327

> “我已经在 items_categories 中有 category_id ...我应该从 items 表中删除列 category_id 吗？？”

实际上，您的 Item 实体不应具有 category_id 属性（如表），只有“类别”，例如：

```
/**
  * @var array
  *
  * @ORM\ManyToMany(targetEntity="Category", inversedBy="items")
  */
protected $categories = array(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T09:53:37.320

这是因为 category_id 不应该在 items 表中，而是在 items_categories 表中（它是多对多关系，因此 Doctrine 将创建第三个表来实现这一点）

您在 Item 实体中指定 $categories 字段（Doctrine 不会创建任何其他列，例如 category_id）。category_id 是数据库概念。在 ORM 级别上，您不使用列 - 您只使用实体属性

# amazon-s3 - Amazon IAM 用户 + 授予对 S3 的访问权限

> ID：12382482
> 
> 赞同：1
> 
> 时间：2012-09-12T06:40:00.190
> 
> 标签：amazon-s3

我有几个关于 IAM 用户和授予对 S3 的访问权限的问题。

注意：我正在使用 S3.php 与此用户一起编写文件。

1.  用户可以设置密码吗？

2.  创建用户（已完成）后，我应该使用组或用户策略来授予访问权限吗？

3.  我只希望该用户能够写入对象（具有提供全局公共读取的存储桶策略）。我怎么能授予这个权利？（用户策略）以及是否需要其他权限才能将文件放入存储桶中？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T10:14:27.367

逐点：

1.  “**用户可以设置密码吗？** ” 用户可以设置密码，但对于 API 访问，我不相信可以直接使用密码。设置密码不会*阻止*API 访问。
2.  “**我应该使用组或用户策略来授予访问权限吗？** ” 用户与组策略之间的区别只是组织问题。如果您的多个用户“出于相同原因”需要访问权限，那么创建组策略是有意义的。如果每个用户都有一组特定的需求，并且出于不重叠的原因，那么单独的用户策略更有意义。这基本上是未来管理的问题：如果未来政策要求发生变化，您是否更有可能需要对多个用户进行相同的更改，或者进行各种单独的更改？
3.  “**我只希望这个用户能够编写对象**”策略生成器可以帮助解决这个问题，但您需要知道的关键事项是：
    *   您要查找的操作类型是“s3:PutObject”。根据“写入”的实际含义，您可能还需要一些其他权限：“s3:DeleteObject”和“s3:ListBucket”是常见的额外权限。
    *   "arn" 将是：""arn:aws:s3:::bucketNameGoesHere/*"，或者用更具体的东西替换星号以将 "puts" 限制为给定前缀"

下面，我包含了一个基本策略，它可能会做你想做的事。我希望它需要一些调整才能完全符合您的需要：

```
{
  "Statement": [
    {
      "Sid": "AnyUniqueIdentifierForThePolicyStatementGoesHere",
      "Action": [
        "s3:PutObject"
      ],
      "Effect": "Allow",
      "Resource": [
        "arn:aws:s3:::YourBucketNameGoesHere/*"
      ]
    }
  ]
} 
```

希望这至少足以为您指明正确的方向。

有用的链接：

*   [http://awspolicygen.s3.amazonaws.com/policygen.html](http://awspolicygen.s3.amazonaws.com/policygen.html)
*   [http://docs.amazonwebservices.com/AmazonS3/latest/dev/UsingBucketPolicies.html](http://docs.amazonwebservices.com/AmazonS3/latest/dev/UsingBucketPolicies.html)

# java - 将这些正则表达式从 javascript 翻译成 Java

> ID：12382487
> 
> 赞同：0
> 
> 时间：2012-09-12T06:40:19.467
> 
> 标签：java, javascript, regex

我有正则表达式在 Javascript 中工作，现在我想将它们翻译成 Java：

```
 var nat_pattern2 = /^\d{8}$/;
            var nat_pattern2 = /^\d{7}\-\d{1}$/;

            var pct_pattern1 = /^\PCT\/?[A-Z]{2}?\d{4}\/\d{6}$/;
            var ing pct_pattern2 = /^\PCT[A-Z]{2}\d{10}$/;
            var pct_pattern3 = /^\P[A-Z]{2}\d{8}$/;

            var its_pattern1 = /^\ITS\/?[A-Z]{2}?\d{2}\/\d{5}$/;
            var its_pattern2 = /^\ITS[A-Z]{2}\d{7}$/;
            var its_pattern3 = /^\I[A-Z]{2}\d{7}$/; 
```

我的开头看起来像这样，但它不正确：

`Pattern pattern = Pattern.compile("/^\d{8}$/");`

你能帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:41:54.703

您不需要`/`在 Java 中使用您的正则表达式。`\d`为了成为定义正则表达式的字符串的一部分而被转义，因此它将变为`\\d`.

```
Pattern pattern = Pattern.compile("^\\d{8}$"); 
```

斜线没有特殊含义，因此也不需要转义。

```
Pattern natPattern1 = Pattern.compile("^\\d{8}$");
Pattern natPattern2 = Pattern.compile("^\\d{7}-\\d{1}$");

Pattern pctPattern1 = Pattern.compile("^PCT/?[A-Z]{2}?\\d{4}/\\d{6}$");
Pattern pctPattern2 = Pattern.compile("^PCT[A-Z]{2}\\d{10}$");
Pattern pctPattern3 = Pattern.compile("^P[A-Z]{2}\\d{8}$");

Pattern itsPattern1 = Pattern.compile("^ITS/?[A-Z]{2}?\\d{2}/\\d{5}$");
Pattern itsPattern2 = Pattern.compile("^ITS[A-Z]{2}\\d{7}$");
Pattern itsPattern3 = Pattern.compile("^I[A-Z]{2}\\d{7}$"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:19:55.707

将正则表达式从 JS 翻译成 JAVA 的要点：

*   无需环绕`/`
*   需要逃跑`\`（例如`\\.`代替`\.`）
*   无需逃避`/`（即`\/`成为`/`）
*   没有最终标志（例如`g`, `i`）

您现在可以自己翻译您的正则表达式`;)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T06:47:01.500

\ 用于在 Java 字符串中转义。因此，您必须逃避 . 所以你的字符串看起来像这样：

```
Pattern pattern = Pattern.compile("^\\d{8}$"); 
```

如前所述，不需要开头和结尾 / 。

请注意，如果你想匹配一个 \ 你必须在你的正则表达式中转义它。这意味着您可以在 Java 字符串中对其进行双重转义。要匹配 \，您必须在 Java 中连接 \\。

# php - 致命错误：调用未定义的方法 DAOtemplate_Ex::DAOparent_Ex()

> ID：12382490
> 
> 赞同：0
> 
> 时间：2012-09-12T06:40:30.110
> 
> 标签：php, mysql, class, dao

我将我们的一个客户网站转移到一家新的托管公司。
新的托管公司使用 PHP 5.3.14
我在公司的运行 PHP 5.1.6 的测试机器上测试了这个网站，一切正常。
但是，当我将站点移动到新托管公司的服务器时，它给了我以下错误：

**致命错误：在第 20 行的 /var/www/html/nna_test/data/class_core/db/DAO_gate.php 中调用未定义的方法 DAOtemplate_Ex::DAOparent_Ex()**

这是我的 DAO_gate.php

```
<?php
require_once CLASS_CORE_EX_REALDIR . 'db_extends/DAOtemplate_Ex.php';
class DAO_gate extends DAOtemplate_Ex
{
    function DAO_gate( $value1="" ) 
    {
        parent::DAOparent_Ex(); ---***LINE 20***---

        $this->m_tablename = "dtb_gate";
        $this->m_struct = array();
        $this->m_struct_foreignKey = array();
        $this->m_struct_foreignKey_target = array();

        // get: table struct.
        $this->CDB->SetQuery( "show full columns from ". $this->m_tablename );
        $this->CDB->ExecQuery();
        while( $row = $this->CDB->GetRecord() ) {
            $this->m_struct[] = $row;
        }
        $this->init();
    }
.blah
.blah
.blah    
} 
```

而DAO_gate.php扩展的DAOtemplate_Ex如下

```
<?php
// {{{ requires
require_once CLASS_CORE_REALDIR . 'db/DAOtemplate.php';

class DAOtemplate_Ex extends DAOtemplate 
{

}
?> 
```

DAOtemplate_Ex 扩展了 DAOtemplate

```
<?php
require_once CLASS_CORE_EX_REALDIR . 'db_extends/DAOparent_Ex.php';
class DAOtemplate extends DAOparent_Ex
{
    var $m_tablename;
    var $m_struct;
    var $m_struct_foreignKey;   
    var $m_struct_foreignKey_target;

    function DAOtemplate( $value1="" ) 
    {
        parent::DAOparent_Ex();

        $this->m_tablename = "";
        $this->m_struct = array();
        $this->m_struct_foreignKey = array();
        $this->m_struct_foreignKey_target = array();

        $this->CDB->SetQuery( "show full columns from ". $this->m_tablename );
        $this->CDB->ExecQuery();
        while( $row = $this->CDB->GetRecord() ) {
            $this->m_struct[] = $row;
        }
        $this->init();
    }
.blah
.blah
.blah 
} 
```

DAOparent_Ex ：

```
<?php
require_once CLASS_CORE_REALDIR . 'db/DAOparent.php';
class DAOparent_Ex extends DAOparent 
{

}
?> 
```

最后是 DAOparent ：

```
<?php
require_once CLASS_CORE_REALDIR . 'db/SC_DBFactory.php';
class DAOparent 
{
    var $CDB;
    var $m_use_sql;
    function DAOparent() 
    {
        if( empty( $value1 ) ) 
        {
            $this->CDB = SC_DBFactory::GetInstance( DB_TYPE );

            $this->CDB->SetDBType( DB_TYPE );
            $this->CDB->SetHost( DB_SERVER );
            $this->CDB->SetDBName( DB_NAME );
            $this->CDB->SetUserName( DB_USER );
            $this->CDB->SetPassword( DB_PASSWORD );
            $this->CDB->SetCharaCode( DB_ENCODING );
        } else {
            if( is_object( $value1 ) ) 
            {
                $this->CDB = $value1;
            } else {
                // error: 
                print( "connect faild." ); 
                die();
            }
        }
        $this->CDB->Connect();
        $this->m_use_sql = array( "select", "update", "insert", "delete", "begin", "rollback" );

        $this->init();
    }
    function init() 
    {

    }
.blah
.blah
.blah 
} 
```

有谁知道这个问题？
我认为这是因为空的课程。
对于发布如此长的代码，我深表歉意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:21:13.210

看了你的代码，我觉得 PHP 是对的！父类中**没有方法** `DAOparent_Ex`。

我不确定为什么它会在 PHP 5.1 中通过，也许 PHP 5.3 更严格。

你想实现什么 bij 呼叫`parent::DAOparent_Ex()`？调用`__construct`父`DAOparent_Ex()`类的？

# shell - 在zsh中寻找ALT+LeftArrowKey解决方案

> ID：12382499
> 
> 赞同：189
> 
> 时间：2012-09-12T06:41:08.020
> 
> 标签：shell, key, zsh

我最近刚从 bash 切换到 zsh，但是我想念我的`Alt`+`LeftArrowKey`和`Alt`+`RightArrowKey`一次来回一个词。

现在，如果我按`Alt`+ ，`LeftArrowKey`我会返回几个字母，然后我就卡住了。我不会再往后退，也不会像我预期的那样用`Alt`+回到行尾。`RightArrowKey`我什至不能使用箭头键转到行尾，只能到倒数第二个。无法在行上输入新字符或确实删除。

如何找回我心爱的快捷方式？

如果这很重要，我在使用终端的 Mac OS X 上。

* * *

## 回答 #1

> 赞同：350
> 
> 时间：2012-09-13T10:01:26.807

运行`cat`，然后按键以查看您的快捷方式发送的代码。
（完成后按`Ctrl`+`C`杀死`cat`。）
对我来说，（ubuntu，konsole，xterm）按`Alt`+`←</kbd> sends `^[[1;3D`, so i would put in my *.zshrc*`

```
bindkey "^[[1;3C" forward-word
bindkey "^[[1;3D" backward-word 
```

（实际上我更喜欢使用`Ctrl`+ 箭头来逐字移动，就像在 windows 或 linux gui 下的普通文本框中一样。）

相关问题：[在终结者终端模拟器中运行 Zsh 时修复 .zshrc 中的键设置（Home/End/Insert/Delete）](https://stackoverflow.com/questions/8638012)

* * *

## 回答 #2

> 赞同：258
> 
> 时间：2015-07-09T21:58:36.780

**对于使用 iTerm 的任何人，无论外壳如何**

在我看来，这里提供的所有解决方案都是倒退的。您实际上是在告诉您的 shell 侦听您在终端中设置的一些 esc 序列或其他键绑定，当您切换 shell 时会产生兼容性问题（如果您 SSH 到其他一些 shell，从 BASH 切换到 ZSH 等，您会输一些（如果不是全部）键绑定）。

大多数 shell 都有一组预先绑定的默认序列。此外，虽然它们不是 100% 一致的，但它们已经足够接近了。因此，我发现在 shell 中为特定操作创建键绑定的最简单方法是告诉您的终端应用程序绑定到跨 shell 一致的默认键绑定。

**我写了一个压缩解决方案，让您的终端响应接近本地 mac 键绑定[here](https://stackoverflow.com/questions/6205157/iterm2-how-to-get-jump-to-beginning-end-of-line-in-bash-shell/29403520#29403520)**

打开 iTerm 首选项`⌘</kbd>+`,` and navigate to the `Profiles` tab (the `Keys` tab can be used, but adding keybinding to your profile allows you to [save your profile](https://stackoverflow.com/questions/22943676/how-to-export-iterm2-profiles) and sync it to multiple computers) and `keys` sub-tab and enter the following:`

**将光标左移一个字**

> `⌥</kbd>+`←</kbd> Send Hex Codes: `0x1b 0x62```

**将光标向右移动一个单词**

> `⌥</kbd>+`→</kbd> Send Hex Codes: `0x1b 0x66```

这应该不仅在 ZSH 中为您提供所需的行为，而且在您通过 SSH 连接到运行 BASH、irb/pry、node 等的服务器时也应如此。

* * *

## 回答 #3

> 赞同：82
> 
> 时间：2013-05-07T04:37:26.800

在 OSX Mountain Lion 上将以下内容添加到 ~/.zshrc 对我有用。

```
bindkey -e
bindkey '[C' forward-word
bindkey '[D' backward-word 
```

* * *

## 回答 #4

> 赞同：41
> 
> 时间：2018-10-09T06:50:41.590

在 MacOS High Siera 10.13.6 或 Mojave 10.14.2 上并使用带有 ZSH 的 iTerm2 要从单词中移开，我必须这样说：

```
bindkey "\e\e[D" backward-word
bindkey "\e\e[C" forward-word 
```

另一种解决方案不起作用

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2016-03-10T15:49:11.750

虽然没有严格回答您的问题，但默认绑定`forward-word`和`backward-word`是`alt-f`resp。`alt-b`.

这在任何地方都有效，不需要您离开主行，并且具有很好的助记符属性（f=forward，b=back），同时也与`ctrl-f`和一致。`ctrl-b``forward-character``backward-character`

撕掉你的方向键！

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2018-03-23T10:15:56.910

为了使它对我有用，我使用[了这个答案](https://stackoverflow.com/a/31328973/644322)，但是我不得不交换代​​码（左 <-> 右）

⌥+← 发送十六进制代码：0x1b 0x66
⌥+→ 发送十六进制代码：0x1b 0x62

并将以下内容添加到我的`~/.zshrc`

```
bindkey -e
bindkey "^[b" backward-word
bindkey '^[f' forward-word 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2021-12-22T15:50:08.970

对于 iTerm，转到此屏幕截图显示的位置并选择“自然文本编辑”

[![在此处输入图像描述](../Images/17fde2644366e9418a9150058590ba02.png)](https://i.stack.imgur.com/T86uj.png)

如果您已经有一些键映射，它将在下面询问，请相应地选择不要丢失您之前设置的任何特殊绑定。但是，如果您不记得添加任何绑定或刚开始使用 iTerm（在这台机器上），您可以安全地选择“删除”

[![在此处输入图像描述](../Images/51f3a8ac895ea7d59f609cce0f2919bb.png)](https://i.stack.imgur.com/yy0YI.png)

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-03-19T15:06:11.847

在 Mavericks (10.9.4) 上，代码是 1;5... 所以为了用箭头绑定 alt 我有我的 .zshrc 使用这个：

```
bindkey "^[[1;5C" forward-word
bindkey "^[[1;5D" backward-word 
```

您可以使用 CTRL+V 然后使用您要使用的命令

在优胜美地使用 Rob 的解决方案

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-06-20T19:23:10.537

在 zsh 中，您可以使用`bindkey`命令查看键盘快捷键。

用于`bindkey`探索没有自定义键绑定可用的选项。

即`^[b` 后退一个词和`^[f`前进一个词。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-08-30T22:56:52.737

如果您在 CSI u 模式下使用 iTerm，您的绑定`.zshrc`最终将是：

```
bindkey '^[[1;3D' backward-word
bindkey '^[[1;3C' forward-word 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-01-28T09:14:26.560

如果您希望 iTerminal 尊重 Emacs 样式的快捷方式，例如 ^Mf 和 ^Mb 用于前进/后退一个单词，我发现使用此技巧的最佳方法：

[使 iTerm 以与其他操作系统相同的方式翻译“元密钥”](https://stackoverflow.com/questions/196357/making-iterm-to-translate-meta-key-in-the-same-way-as-in-other-oses)

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2022-01-05T16:31:05.230

这些键绑定在 Arch Linux 上与 Alacritty 一起使用，只需将它们添加到`~/.zshrc`文件中

```
bindkey -e

bindkey "^[[3~" delete-char                     # Key Del
bindkey "^[[5~" beginning-of-buffer-or-history  # Key Page Up
bindkey "^[[6~" end-of-buffer-or-history        # Key Page Down
bindkey "^[[H" beginning-of-line                # Key Home
bindkey "^[[F" end-of-line                      # Key End
bindkey "^[[1;3C" forward-word                  # Key Alt + Right
bindkey "^[[1;3D" backward-word                 # Key Alt + Left 
```

# android - Android中的布局问题

> ID：12382501
> 
> 赞同：0
> 
> 时间：2012-09-12T06:41:10.467
> 
> 标签：android, android-layout, layout, android-linearlayout

我在操作栏下方有一个搜索栏。它应该显示在 viewpager 标题条的上方。但是视图寻呼机标题条在此重叠。谁能指出我在这里做错了什么？

这是我的 layout.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_width="match_parent"
        android:layout_height="wrap_content">
<LinearLayout 
        android:id="@+id/search_edit_frame"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="1dip"
        android:layout_marginBottom="-5dip"
        android:orientation="horizontal"
        android:addStatesFromChildren="true"
        android:gravity="center_vertical"
        android:background="@color/searchbar_bg"
        android:baselineAligned="false" >

     <Button 
            android:id="@+id/search_go_btn"
            android:layout_marginLeft="1dip"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:drawableLeft="@android:drawable/ic_menu_search"
        />
        <EditText
            android:id="@+id/search_src_text"
            android:layout_height="wrap_content"
            android:layout_width="match_parent"
            android:layout_weight="5.0"
            android:paddingLeft="8dip"
            android:paddingRight="8dip"
            android:textColorHint="#FFFFFF"
            android:textColor="@color/white"

            android:hint="Search Products or Stores"
            android:singleLine="true" >
            <requestFocus/>
            </EditText>

        <ImageButton android:id="@+id/search_voice_btn"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@android:drawable/ic_btn_speak_now"
        />
    <android.support.v4.view.ViewPager 
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/pager"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
     tools:context=".HomeActivity">

   <android.support.v4.view.PagerTitleStrip android:id="@+id/pager_title_strip"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="bottom"
    android:background="#CCCC99"       
    android:textColor="#000"
    android:paddingTop="50dp"
    android:paddingBottom="4dp" >   
    </android.support.v4.view.PagerTitleStrip>
   </android.support.v4.view.ViewPager>
   </LinearLayout>
   </LinearLayout> 
```

我尝试将搜索栏拆分为单独的线性布局。那也不好用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:51:25.673

尝试添加`android:orientation="vertical"`到顶部 LinearLayout。我认为水平是默认设置，我如何理解您希望它们彼此下方。

# php - 如何正确构建wordpress菜单水平？

> ID：12382502
> 
> 赞同：0
> 
> 时间：2012-09-12T06:41:14.037
> 
> 标签：php, wordpress

我需要有关菜单问题的帮助，我不知道如何从这里继续。这是我构建的第一个主题。

[我有看起来像的模板：](http://www.centerwow.com/main/portfolio/112/)

[我正在尝试将其转换为主题 wordpress](http://www.centerwow.com/roei/22072012/orenramhab/)

我无法正确构建菜单希望得到帮助谢谢。

1.  在页面中，我设置了 5 个名称页面（关于、联系人、主页、服务、旅游）。

2.  在菜单中，我将名称设置为 manu 为“top_header”，然后选择所有页面（关于、联系人、主页、服务、旅游），然后按下按钮添加到菜单。

在模板中的代码lookink如下：

```
****************
 <nav>
    <div id="menu-icon">Menu <span></span></div>
    <ul class="sf-menu">
    <li class="current"><a href="index.html">home</a>
    </li>
    <li><a href="index-1.html">tours</a>
        <ul>
        <li><a href="#">Myrtle Beach</a>
        </li>
        <li><a href="#">Aruba</a>
        <ul>
           <li><a href="#">Caribbean</a>
           </li>
           <li><a href="#">Cabo San Lucas</a>
           </li>
           <li class="last-item"><a href="#">Multi-Locations</a>
           </li>
        </ul>
    </li>
    <li><a href="#">Florida</a>
    </li>
    <li><a href="#">Hawaii</a>
    </li>
    <li class="last-item"><a href="#">Cancun</a>
    </li>
    </ul>
  </li>
  <li><a href="index-2.html">hotels</a>
  </li>
  <li><a href="index-3.html">services</a>
  </li>
  <li class="last-item"><a href="index-4.html">contacts</a>
  </li>
  </ul>
  </nav>
**************** 
```

.

```
in my theme the code look as below:
****************
    header.php
        <nav id="menu-icon" ><span></span></div>
     <ul class="sf-menu">
           <li class="current"><a href="index.html"><?php wp_nav_menu( array( 'theme_location' => 'top_header' ) ); ?></a>
           </li>
         </ul>                      
 </nav>

function.php
    add_action( 'init', 'register_my_menu' );

    function register_my_menu() {
    register_nav_menu( 'primary-menu', __( 'Primary Menu', 'top_header' ) );
    }
**************** 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:19:02.577

@yossi

您的 HTML 代码和应用 CSS 中存在嵌套列表问题。

此外，由于 JS 源路径中 yossi_theme 之后不需要的 DOT (.)，您的许多 JS 没有在主题中绑定，您可以在下面查看这个...

[http://www.centerwow.com/roei/22072012/orenramhab/wp-content/themes/yossi_theme./js/superfish.js](http://www.centerwow.com/roei/22072012/orenramhab/wp-content/themes/yossi_theme./js/superfish.js)

此外，您还会发现在其他 JS SRC 路径中出现了几乎 4 到 5 次相同的问题。

而相同的 /yossi_theme/ SRC 路径在[http://www.centerwow.com/roei/22072012/orenramhab/wp-content/themes/yossi_theme/style.css中是正确的](http://www.centerwow.com/roei/22072012/orenramhab/wp-content/themes/yossi_theme/style.css)

希望这将帮助您解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T17:37:55.663

转换为导航代码：

```
<nav>
<?php wp_nav_menu( array( 'theme_location' => 'primary-menu' ) ); ?>
</nav> 
```

# nhibernate - 单个地图类中的两个表映射

> ID：12382510
> 
> 赞同：1
> 
> 时间：2012-09-12T06:41:57.647
> 
> 标签：nhibernate, fluent-nhibernate, nhibernate-mapping, fluent-nhibernate-mapping

我有一个类似这样的表结构

```
table Collection
  Id
  Name

table Product
  Id
  Name

table Item
  Id
  Collection_Id
  Product_Id 
```

我想要的是将上面的集合映射到一个名为：

```
Class Collection
  Id
  Name
  List<Product> Products 
```

我的产品类是：

```
Class Product
  Id
  Name 
```

我如何使用流利的 nhibernate 做到这一点？有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T17:21:45.340

您需要的是多对多映射。

您将需要在另一个对象的两个类上都有一个 List<> 以及流利文件中的以下映射

```
 HasManyToMany(x => x.Products)
        .Table("tblCollection_Product")
        .Inverse()
        .Cascade.All();

    HasManyToMany(x => x.Collections)
        .Table("tblCollection_Product")
        .Cascade.All(); 
```

有一篇关于你在[这里尝试做的好文章](http://massimilianopeluso.com/2011/03/28/many-to-many-mapping-using-fluent-nhibernate/)

# android - 意图不传递我的数据

> ID：12382517
> 
> 赞同：1
> 
> 时间：2012-09-12T06:42:56.827
> 
> 标签：android

我正在尝试将 2 个参数从一个活动发送到另一个活动，但由于某种原因，只有一个参数被传递。会是什么呢？

发送活动：

```
showActivity(OrderActivity.class, new Pair("CUSTOMER_ID", customerId), new Pair("CUSTOMER_TYPE", customerType)); 
```

接收活动：客户 ID 显示为 0，但类型数据已获取

```
Bundle extras = getIntent().getExtras();

    long customerId = extras.getLong("CUSTOMER_ID");
    int customerType = extras.getInt("CUSTOMER_TYPE");
    Log.d("===customer ", " id : " + customerId + "  type : " + customerType); 
```

`showActivity`看起来像这样

```
protected void showActivity(Class<? extends BaseKaizenActivity> clazz, Pair<String, Object> ... parameters) {
    Intent intent = new Intent(this, clazz);
    if (parameters != null) {
        for (Pair<String, Object> pair : parameters) {
            if (pair.second instanceof Integer) {
                intent.putExtra(pair.first, (Integer)pair.second);  
            }
            else if (pair.second instanceof Parcelable) {
                intent.putExtra(pair.first, (Parcelable)pair.second);
            }
        }
    }
    startActivity(intent);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:08:06.407

```
if (pair.second instanceof Integer) {
                intent.putExtra(pair.first, (Integer)pair.second);  
            }
            else if (pair.second instanceof Parcelable) {
                intent.putExtra(pair.first, (Parcelable)pair.second);
            } 
```

好像你忘记为 Long 写一个子句。它既不属于 if 也不属于 else if，所以没有被放入额外数据中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:10:59.427

你为什么用那个？只需使用 put 和 get 意图方法，它非常简单。例如。

```
intent.putExtra("backPressed", true);
getIntent().getBooleanExtra("backPressed", false); 
```

这是我的工作代码，没有问题。

# iphone - 如何在目标c中显示名称中带有空格的图像

> ID：12382519
> 
> 赞同：1
> 
> 时间：2012-09-12T06:43:10.447
> 
> 标签：iphone, objective-c, ipad

我想在来自 Url 的 imageview 中显示图像，它的名称中有空格......</p>

```
// NSString* imageURL = @"http://dev.squealrs.com/imaging.php/image-name.jpg?height=45&noimg=100&image=/wp-content/uploads/sqbrands/GMT-July-cover1344489425.jpg";

NSString* imageURL = @"http://dev.squealrs.com/imaging.php/image-name.jpg?height=45&noimg=100&image=/wp-content/uploads/sqbrands/Sookie Stackhouse small1343970416.jpg";

NSData* imageData = [[NSData alloc]initWithContentsOfURL:[NSURL URLWithString:imageURL]];

UIImage* image = [[UIImage alloc] initWithData:imageData];
[ImageWithspace setImage:image]; 
```

但是没有显示图像，因为未注释的 imageURL 在 imagename 中包含空格，如果我使用带注释的 imageURL，而不是在 imageview 中显示图像:( ....给我一些解决方案

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T06:46:11.333

您需要对网址进行编码：

```
NSString *encoded = [imageURL stringByAddingPercentEscapesUsingEncoding:NSASCIIStringEncoding]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:44:51.767

在使用 URL 创建 NsURL 之前，您需要对 URL 进行编码。有一个内置类可以帮助您对字符串进行编码。

下面是一个编码字符串以用于 NSURL 的示例：[NSURL Encoding in ObjC](https://stackoverflow.com/questions/1748981/nsurl-encoding-in-objc)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:48:29.613

```
 NSURL *url = [[NSURL alloc] initWithString:[myurlString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]; 
```

发生这种情况是因为 url 中的空格没有被处理，因此使用了百分比编码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:53:26.367

```
 NSString* imageURL = @"http://dev.squealrs.com/imaging.php/image-name.jpg?height=45&noimg=100&image=/wp-content/uploads/sqbrands/Sookie Stackhouse small1343970416.jpg";
NSString *spaceUrl = [[NSString stringWithFormat:imageURL] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
spaceUrl = [spaceUrl stringByReplacingOccurrencesOfString:@" " withString:@"%20"];

NSData* imageData = [[NSData alloc]initWithContentsOfURL:[NSURL URLWithString:spaceUrl]];

UIImage* image = [[UIImage alloc] initWithData:imageData]
    [ImageWithspace setImage:image]; 
```

只需复制粘贴此代码并查看。如果您仍然有问题，请随时询问

# jquery - 动态表单的服务器端解决方案

> ID：12382524
> 
> 赞同：2
> 
> 时间：2012-09-12T06:43:30.080
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-3, forms, server-side

我有一组用于提交表单的锚标记

```
foreach (var item in items)
<a  class="submitform" data-did='<%:Model.DID%>'  data-daid='<%:Model.daID%>' href="#"><%:Model.DisplayText%>
</a> 
```

单击锚点时，我将表单动态附加到它，并使用我在提交表单时需要的数据属性值填充隐藏字段

```
 $(".submitforapproval").click(function (e) {
        e.preventDefault();
        var daid = $(this).data("daid");
        var did = $(this).data("did");

        $("<form/>", { action: "/HOME/PostMethod", method: "POST", id: "temp_form" }).appendTo("body");
        $("<input/>", { class: 'jshiddenInput', type: "hidden", name: "docid", value: did }).appendTo("#temp_form");
        $("<input/>", { class: 'jshiddenInput', type: "hidden", name: "DocAID", value: daid }).appendTo("#temp_form");

        $("#temp_form").submit();

    }); 
```

我正在尝试为此开发服务器端解决方案。我认为的一种方法是`form`环绕每个锚标记并在每个表单中使用两个隐藏字段而不是`data- attributes`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T08:19:22.590

为什么所有这些 javascript 都是必需的？为什么不使用带有提交按钮的标准 HTML 表单？它在语义上似乎更正确：

```
<% foreach (var item in items) { %>
    <% using (Html.BeginForm("PostMethod", "Home", FormMethod.Post)) { %>
        <%= Html.TextBox("docid", Model.DID) %>
        <%= Html.TextBox("docAID", Model.daID) %>

        <button type="submit">
            <%: Model.DisplayText %>
        </button>
    <% } %>
<% } %> 
```

就服务器端方法而言，您可以拥有一个视图模型：

```
public class DocumentViewModel
{
    public string DocId { get; set; }
    public string DocAId { get; set; }
} 
```

然后您的 POST 控制器操作将简单地将此视图模型作为参数：

```
[HttpPost]
public ActionResult PostMethod(DocumentViewModel model)
{
    ...
} 
```

# asp.net - Visual Studio 2012 中的网站管理工具在哪里

> ID：12382529
> 
> 赞同：77
> 
> 时间：2012-09-12T06:44:14.253
> 
> 标签：asp.net, visual-studio-2012

我找不到这个按钮。

![在此处输入图像描述](../Images/27a336d5f7450c7171371c351cb30e99.png)

如果我`asp.netwebadminfiles`在 URL 中添加主机地址，则找不到该页面。

我怎样才能打开这个工具？

* * *

## 回答 #1

> 赞同：144
> 
> 时间：2012-09-12T06:52:16.947

它在项目目录的顶部菜单上

![在此处输入图像描述](../Images/c1894543b2333f43fc425aa2729d4e9e.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-08-13T08:27:13.527

此外，如果您在“asp:LoginView”上“长时间悬停”： !['长时间悬停'](../Images/7a261b790b2416248573c9621a63efba.png)

然后点击微小的'>'，你会得到：

![登录查看任务](../Images/056cf730d9fece7f806c90dafdaec6d0.png)

您可以在其中选择“管理网站”。

这将带您进入著名的网站管理工具： ![在此处输入图像描述](../Images/388e9b771fbcef501a37040bdc70ce06.png)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-26T19:19:25.017

在我使用的 Visual Studio 2012 版本中（在候选发布阶段结束时下载），我只能在顶部菜单栏中的网站菜单中访问网站管理工具，在命令“ASP.NET 配置”下'。仅当我在解决方案资源管理器中选择网站或其内容文件或文件夹之一时，网站菜单才可用。

相比之下，如果我在解决方案资源管理器中选择了解决方案，项目菜单将变为可见，而不是网站菜单，并且 ASP.NET 配置命令在那里不可用。

如果需要，请联系我获取屏幕截图。我有它们，但作为一个新用户，他们不允许我发布它们。

# c++ - MongoDB C++ 驱动程序——通过引用传递查询对象在随后使用其排序时引发错误

> ID：12382530
> 
> 赞同：0
> 
> 时间：2012-09-12T06:44:24.813
> 
> 标签：c++, mongodb, mongodb-query, mongodb-c

Windows 7 64 SP1 -- MongoDB 2.2.0-rc2 -- Boost 1.42 -- MS VS 2010 Ultimate -- C++ 驱动程序

我写了这个函数：

`void printQuery(DBClientConnection &c, std::string &dc, const Query &qu = BSONObj(), std::string sortby = "" )`

这个片段：

```
auto_ptr<DBClientCursor> cursor;
cursor = c.query(dc,qu.sort(sortby)) 
```

引发错误：

`error C2663: 'mongo::Query::sort' : 2 overloads have no legal conversion for 'this' pointer.`

`sort (const string &field, int asc=1)`应该是适用的过载。我相信这与使用`const Query&`它的成员函数有关`sort`。但是，如果我将其更改为`Query&`没有`const`，那么我的参数初始化`= BSONObj()`会引发：

`cannot convert from 'mongo::BSONObj' to 'mongo::Query &'`

如果我按值传递，那么它编译得很好。

有没有办法避免任何一个错误（除了按值传递）？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T07:04:20.897

[MongoDB 用户的](https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/qCX7B8AYiZs)David Hows向我介绍了解决方案：

而不是`const Query &qu = BSONObj()`，使用`Query &qu = Query()`.

1.  使用`const`“因为排序会改变查询对象的值 - 它被定义为常量”时出现错误。所以我放弃了它。

2.  使用 BSONObj() 作为默认值是有问题的，因为我不是“创建一个新对象，而是将一个新的 BSONObj 分配给一个 Query 对象的变量，没有创建任何新的，因此没有构造函数调用。”

所以我改用 Query() 。`if ( qu.obj == BSONObj() )`用于测试 qu 是否为空。

我的最终功能是：

`void printQuery(DBClientConnection &c, const string &dc, Query &qu = Query(), const string &sortby = "" )`

我无法使`DBClientConnection`合格的 as `const`。它`no legal conversion for 'this' pointer`在使用 c.query 和

`C2662: 'mongo::DBClientWithCommands::count' : cannot convert 'this' pointer from 'const mongo::DBClientConnection' to 'mongo::DBClientWithCommands &' Conversion loses qualifiers`

使用 c.count 时。所以我保持它不合格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T18:38:44.513

您应该对光标进行排序，而不是 on `qu`，我认为这是您的 BSON 查询。例如。

```
auto_ptr<DBClientCursor> cursor;
cursor = c.query(dc,qu).sort(sortby) 
```

查看[http://www.mongodb.org/pages/viewpage.action?pageId=133415#C%2B%2BTutorial-Sorting](http://www.mongodb.org/pages/viewpage.action?pageId=133415#C%2b%2bTutorial-Sorting)了解更多信息。

# ios - 如何在非 ARC 兼容项目中使用 ARC 兼容文件

> ID：12382540
> 
> 赞同：5
> 
> 时间：2012-09-12T06:44:58.170
> 
> 标签：ios, xcode, automatic-ref-counting, llvm

我的项目有不能在 LLVM 编译器下编译的依赖库，所以我的项目与 ARC 不兼容。

如何将与 ARC 兼容的其他第三方库和源文件包含到我的非 ARC 项目中。

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T07:01:16.323

您可以在 Build Phases 中为每个编译源添加编译器标志。您应该添加的标志是`-fobjc-arc`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:01:34.253

如果您不使用 LLVM，您的主项目将无法使用 ARC，因为它是 LLVM 3.0 功能。

如果我是你，我会让你的主项目/目标/应用程序在 LLVM 下编译，并将旧的外部依赖项包含为静态库依赖项。编译静态库后，它们是 ARC 或非 ARC 的事实并没有什么区别。

您需要迁移到包含多个 Xcode 项目的 Xcode 工作区，每个第三方库一个，并且每个项目都有静态库目标。此设置允许独立的构建设置和更大的灵活性。你会发现现在很多人为第三方创建静态库。

查看一[两篇](http://www.seriousmonster.com/mixing-arc-and-non-arc-code-with-static-libraries/)关于在 Xcode 工作区中设置静态库的[博](http://blog.slidetorock.com/using-a-static-library-in-xcode-4)文，如今这很常见。

# php - 在zend框架的视图页面中获取url参数

> ID：12382541
> 
> 赞同：2
> 
> 时间：2012-09-12T06:45:00.930
> 
> 标签：php, zend-framework

我的网址为[http://mydomain.com/contact?status=1](http://mydomain.com/contact?status=1)。如何使用 zend 框架检查状态参数是否设置并在 zend 视图中获取状态值？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T06:48:21.630

您可以在控制器中设置视图参数：like

```
$this->view->status = $this->_getParam('status');

//and in view
echo $this->status; 
```

或者

```
Zend_Controller_Front::getInstance()->getRequest()->getParam('status'); 
```

对于 flash 消息，您可以使用 FlashMessenger 助手，例如：//set up flash messenger

```
$flashMessenger = $this->_helper->FlashMessenger;
$flashMessenger->addMessage('some message here'); 
```

见这里:: [ActionHelpers](http://framework.zend.com/manual/1.12/en/zend.controller.actionhelpers.html)

# c# - 从 WSDL 生成 C#，没有“顺序”

> ID：12382543
> 
> 赞同：1
> 
> 时间：2012-09-12T06:45:17.383
> 
> 标签：c#, .net, xmlserializer, xsd.exe, service-reference

我使用 Visual C# 2010 中的“服务引用”从 WSDL 生成 C# 代码（参见屏幕截图）。

生成的代码使用`Order`参数，这让我觉得在幕后，Visual C# 正在运行`xsd.exe /order`，等等。例子：

```
[System.Xml.Serialization.XmlElementAttribute(Order=1)] 
```

由于[Mono 错误](https://bugzilla.xamarin.com/show_bug.cgi?id=2907)，我想生成没有`Order`参数的 C# 代码。
要使用`xsd.exe`（XSD 到 C#）来做到这一点，我会简单地省略`/order`参数。

但是如何`Order`从 WSDL 文件中生成 -free 代码呢？
似乎只有以下设置可用：

![在此处输入图像描述](../Images/2807f1abcfc7371ae110ce946ac1f06a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:53:57.803

正常生成代码，然后在VS中进行正则表达式搜索和替换。
将所有出现的 (Order=*)] 替换为 ]

# php - zend framework 2 viewModel 它不工作

> ID：12382544
> 
> 赞同：2
> 
> 时间：2012-09-12T06:45:17.513
> 
> 标签：php, zend-framework2

我有在 ZF2 中运行的示例专辑，对于李尔，我尝试在 ZF2 中使用一个新模块，该模块调用电子邮件，它一切正常，文件夹配置、模块、路由、控制器等。

我的问题是ZF2，无法识别我的观点在哪里。该文件夹在那里，并且 index.phtml 也在那里。但我仍然有这个错误：

> 致命错误：未捕获的异常 'Zend\View\Exception\RuntimeException' 带有消息 'Zend\View\Renderer\PhpRenderer::render: Unable to render template "emails/emails/index"; 解析器无法解析到 C:\xampp\htdocs\ZendSkeletonApplication\vendor\ZF2\library\Zend\View\Renderer\PhpRenderer.php:451 中的文件
> 
> 堆栈跟踪：
> 
> #0 C:\xampp\htdocs\ZendSkeletonApplication\vendor\ZF2\library\Zend\View\View.php(203): Zend\View\Renderer\PhpRenderer->render(Object(Zend\View\Model\ViewModel))
> 
> #1 C:\xampp\htdocs\ZendSkeletonApplication\vendor\ZF2\library\Zend\View\View.php(230): Zend\View\View->render(Object(Zend\View\Model\ViewModel))
> 
> #2 C:\xampp\htdocs\ZendSkeletonApplication\vendor\ZF2\library\Zend\View\View.php(196): Zend\View\View->renderChildren(Object(Zend\View\Model\ViewModel))
> 
> #3 C:\xampp\htdocs\ZendSkeletonApplication\vendor\ZF2\library\Zend\Mvc\View\Http\DefaultRenderingStrategy.php(128): Zend\View\View->render(Object(Zend\View\Model\ViewModel ))
> 
> #4 [内部函数]：Zend\Mvc\View\Http\DefaultRenderingStrategy->render(Ob in C:\xampp\htdocs\ZendSkeletonApplication\vendor\ZF2\library\Zend\View\Renderer\PhpRenderer.php 行 451

我认为这是因为它找不到文件夹和存档`emails\emails\index`。
有什么想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-13T03:58:09.310

您是否在模块配置中包含了 template_map 条目？在配置文件中，您应该有类似的内容来解析模板。

```
return array(
    'view_manager' => array(
        'template_map'             => array(
            'emails/emails/index' => __DIR__ . '/../views/emails/emails/index.phtml',
            'web/index/index'     => __DIR__ . '/../views/web/index/index.phtml',
            'error/404'           => __DIR__ . '/../views/error/404.phtml',
            'error/index'         => __DIR__ . '/../views/error/index.phtml',
            'layout/layout'       => __DIR__ . '/../views/layouts/welcome-page.phtml',
            'forms/registration'  => __DIR__ . '/../views/forms/registration.phtml',
            'test'                => __DIR__ . '/../views/test.phtml',
        ),
        'template_path_stack' => array(
            __DIR__ . '/../views',
        )
    )); 
```

# python - 如何将 Django 模型对象转换为字典并且仍然拥有它们的外键？

> ID：12382546
> 
> 赞同：32
> 
> 时间：2012-09-12T06:45:27.383
> 
> 标签：python, django, django-models

在我的 Django 应用程序中，如何将模型中的对象转换为包含模型对象的外键引用的字典？

当我尝试这个时：

```
from django.forms.models import model_to_dict
model_to_dict(instance, fields=[], exclude=[]) 
```

结果字典只有直接字段。我还想获取与模型对象相关的外键。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-09-12T07:21:25.720

```
obj = get_object_or_404(CustomModel,id=some_id)
my_dict = obj.__dict__ 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-06-29T02:50:38.030

我想我和你有同样的需求——我想要一个对象的简单明了的 dict 表示。发布的其他答案（在我写的时候）不会给我那个，序列化程序虽然对他们的目的很有用，但会产生带有我不想要的额外信息的输出，并且结构不方便。

虽然公认的黑客，这给了我很好的里程：

```
from django.core import serializers

def obj_to_dict(model_instance):
    serial_obj = serializers.serialize('json', [model_instance])
    obj_as_dict = json.loads(serial_obj)[0]['fields']
    obj_as_dict['pk'] = model_instance.pk
    return obj_as_dict 
```

将 django_model_object 包装在一个列表中，然后需要在解析 json 后访问项目 0，因为由于某种原因，序列化程序只能序列化模型对象的可迭代对象（奇怪）。

您需要一些额外的工具来处理任何类型的外键字段，如果我最终需要编写它，我可能会回帖（除非其他人先编辑它！）。

暂时 HTH。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-11-21T00:57:40.817

怎么样：

```
model_to_dict(instance, fields=[field.name for field in instance._meta.fields]) 
```

通过显式命名所有字段，它至少应该为您提供外键 ID（尽管我尚未验证）。

请注意，此函数不返回带有的字段`editable=False`（因为它适用于表单）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T07:03:22.613

如果您想使用相关模型，您可能需要查看[Django 序列化。](https://docs.djangoproject.com/en/dev/topics/serialization/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-03-03T23:40:00.577

其他答案都不适合我。然而，这似乎起到了作用。

```
def model_to_dict(instance, include=None, exclude=None):
    fields = instance._meta.concrete_fields
    if include is not None:
        return {f.attname: getattr(instance, f.attname) for f in fields if f.name in include}
    if exclude is not None:
        return {f.attname: getattr(instance, f.attname) for f in fields if f.name not in exclude}
    return {f.attname: getattr(instance, f.attname) for f in fields} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-03-21T21:02:54.770

我想您已经为您的案例解决了这个问题，但是我在寻找类似解决方案时发现了一些信息。我希望能够在模板中访问对象及其字段/属性。我只是在学习django。

我最终阅读的是[https://docs.djangoproject.com/en/3.0/ref/class-based-views/generic-display/](https://docs.djangoproject.com/en/3.0/ref/class-based-views/generic-display/)，它似乎能够发送对象实例或查询集对象沿着模板。然后您可以访问对象，例如`model.field`，或者即使它是外键字段，`model.foreignmodel.foreignmodelfield`。

所以它对我来说非常有用。这是在我在不同的类管理器中构建了一堆自定义的“to-dict”方法之后。这对我帮助很大。但是您必须阅读通用视图以及如何自定义它们才能真正获得所需的详细信息。

-马特

# windows - 注销 Windows 会话后，MongoDB Win 服务关闭

> ID：12382550
> 
> 赞同：0
> 
> 时间：2012-09-12T06:45:56.040
> 
> 标签：windows, mongodb, service

我在以下环境下使用 MongoDB

*   MongoDB x86 2.2
*   视窗 2003 x86

并使用开箱即用的服务安装功能安装为 Windows 服务。

现在服务已正确安装，并且工作正常。

但问题是在注销 Windows 会话时，MongoDB 服务会停止。它在日志文件中打印，如链接： http: [//pastebin.com/fkLbJ4Sv](http://pastebin.com/fkLbJ4Sv)

关于这个的任何解决方案，或者我遗漏了一些东西

**更新：**

> 我试图用 Windows 7 和 Windows 2008 R2 复制它，它不会引起问题。
> 
> 似乎仅在 Windows 2003 Server 中出现此问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T17:24:42.770

这现在是票[https://jira.mongodb.org/browse/SERVER-7031](https://jira.mongodb.org/browse/SERVER-7031)，目前未解决。

# android - Android 支持库手册下载

> ID：12382555
> 
> 赞同：29
> 
> 时间：2012-09-12T06:46:19.540
> 
> 标签：android, android-support-library

谁能告诉我如何手动安装 Android 支持库？因为我的 SDK 管理器无法找到所需的库并且包需要开发应用程序时遇到问题。但是我现在可以手动管理其他包，我找不到支持库来下载，即使官方网站显示如何通过 SDK Manager 下载但不能手动下载。如果 SDK Manager 不能像我一样正常工作怎么办？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2014-05-02T20:45:49.033

我整天都在想办法解决这个问题。终于在网上找到了合适的东西，所以我会在这里与您分享。

通过命令行：

```
android list sdk -a --extended 
```

您将收到要下载和安装的所有有效软件包的列表。您可能需要调整缓冲区大小以查看所有内容。下面的片段

```
----------
id: 84 or "source-14"
     Type: Source
     Desc: Sources for Android SDK, API 14, revision 1
----------
id: 85 or "extra-android-m2repository"
     Type: Extra
     Desc: Android Support Repository, revision 5
           By Android
           Local Maven repository for Support Libraries
           Install path: extras\android\m2repository
----------
id: 86 or "extra-android-support" <-- YOU ELUSIVE SOB
     Type: Extra
     Desc: Android Support Library, revision 19.1
           By Android
           Install path: extras\android\support
----------
id: 87 or "extra-google-admob_ads_sdk"
     Type: Extra
     Desc: Google AdMob Ads SDK, revision 11 (Obsolete)
           By Google Inc.
           AdMob Ads SDK
           Install path: extras\google\admob_ads_sdk
----------
id: 88 or "extra-google-analytics_sdk_v2"
     Type: Extra
     Desc: Google Analytics App Tracking SDK, revision 3
           By Google Inc.
           Analytics App Tracking SDK
           Install path: extras\google\analytics_sdk_v2
----------
id: 89 or "extra-google-gcm"
     Type: Extra
     Desc: Google Cloud Messaging for Android Library, revision 3 (Obsolete)
           By Google Inc.
           GCM library has been moved to Google Play Services 
```

现在：

```
android update sdk --no-ui -a --filter "extra-android-m2repository" 
```

希望这可以帮助某人。我浪费了很多时间来追踪这个人。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2016-07-15T10:58:37.803

你可以直接从 [这里下载](https://dl.google.com/android/repository/android_m2repository_r33.zip)

然后解压到 extras 文件夹

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-09-12T08:41:41.227

您可以在 Android SDK 管理器的 Extras 下找到

安装后，您将转到您的 android SDK（确保您的位置）

在那里你可以找到位置

```
<sdk>/extras/android/support/v4/android-support-v4.jar. 
```

或者

```
 <sdk>/extras/android/compatibility/v4/android-support-v4.jar.
 <sdk>/extras/android/compatibility/v7/gridlayout/
 <sdk>/extras/android/compatibility/v13/android-support-v13.jar. 
```

![在此处输入图像描述](../Images/4ffd461313d24c37aac0167966737b5c.png)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-01-09T18:54:39.270

我在下载 Android 支持存储库时遇到了类似的问题。我尝试通过 Android Studio 中的 SDK 管理器下载存储库。但是，SDK 管理器无法访问某些文件夹（我的 SDK 位于我的 C:\ 驱动器中，我需要管理员权限等...）。

我通过以下方式解决了它：

1.  启动 Android SDK 工具设置（您可以从开发者的网站下载）
2.  重新安装 Android SDK 工具（到同一文件夹）。
3.  完成第 2 步后，在退出前选择启动 SDK Manager 选项。

SDK 管理器应立即弹出。您还应该看到以前安装的软件包的列表。

4.  选择所需的包并开始下载。

[链接到 SDK 工具设置](https://developer.android.com/sdk/installing/index.html?pkg=tools)

希望这对你有用。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-11-11T10:18:07.260

`android-support-v4.jar`不再存在通过 SDK 管理器直接下载。相反，您可以使用路径 ( `\extras\android\m2repository\com\android\support\support-v4`) 中的 .aar 文件来获取 .jar 文件。

请参阅[如何将 AAR 转换为 JAR](https://stackoverflow.com/questions/21417419/how-to-convert-aar-to-jar)

**一些背景**

大多数支持库都编译到应用程序中，并通过 Google Maven 存储库分发给应用程序使用。大多数支持库都是 AAR。AAR 文件由一个 JAR 文件和一些资源文件组成。

其次，您需要通过 SDK 管理器下载 google 支持存储库。

# android - 应用程序为 Facebook 登录配置错误：Android Facebook 集成问题

> ID：12382558
> 
> 赞同：77
> 
> 时间：2012-09-12T06:46:32.893
> 
> 标签：android, facebook

我已将我的应用程序与 Facebook 集成，为此我使用 Facebook 的[Graph API](http://en.wikipedia.org/wiki/Facebook_Platform#Graph_API)。我正在检索个人资料和朋友信息。它在我的装有[Android 2.3](https://en.wikipedia.org/wiki/Android_Gingerbread) (Gingerbread) 的设备上运行良好，但最近我的客户在尝试通过我的应用程序连接到 Facebook 时遇到了问题。他的设备上有[Android 4.0](https://en.wikipedia.org/wiki/Android_Ice_Cream_Sandwich)（冰淇淋三明治）。当他点击应用程序上的按钮进入 Facebook 登录屏幕时，登录后他会收到一条消息：

> 我的应用程序为 Facebook 登录配置错误。按确定返回应用程序而不连接到 Facebook。

![脸书错误信息](../Images/1122633f3ad14acabb09074eea34bb60.png)

我不知道是什么问题与Android版本或什么有关。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2012-09-15T02:01:49.123

我在 Facebook 工作，这是一个需要解决的重要问题。这个问题的另一个答案表明禁用 SSO 非常糟糕，并且**会将您的应用程序打开给可以窃取您用户的 Facebook 凭据的恶意应用程序。**

黑客在没有 SSO 的情况下向 Facebook 启动了一个 WebView 对话框，用户必须在该对话框中输入他们的登录凭据。然后，恶意应用程序可以轻松窃取此信息。始终建议正确实施 Facebook SSO，以确保您的应用安全并保护用户的敏感数据。

在添加此错误消息之前，对话框将自动关闭而不发出警告并静默失败。我们添加了此错误消息，以直观地显示您的 Facebook 应用仪表板中的应用配置存在问题。对于 Android，如果您检查[LogCat](https://sites.google.com/site/androidhowto/how-to-1/save-logcat-to-a-text-file)，您会看到在按下“确定”后，应该会出现一条错误消息，其中将显示导致身份验证失败的更技术性描述。

例如，如果您使用我们的 Hackbook 示例并且没有在源代码中提供您自己的 APP_ID 并且没有将哈希键添加到仪表板，则在本地 SSO 对话框中按“确定”后，您将在 LogCat 中看到此错误（如果Util.ENABLE_LOG 设置为 true）：

> D/Facebook-authorize(24739)：登录失败：invalid_key：Android 密钥不匹配。您的密钥“uk3udeH7vrOGNFH2FJjdJbdWJWI”与您的应用程序设置中指定的允许密钥不匹配。[在http://www.facebook.com/developers](http://www.facebook.com/developers)检查您的应用程序设置

我们添加了视觉错误消息来帮助您。从理论上讲，*如果从*. 如果您看到此错误消息，则表示您未在[仪表板上](https://developers.facebook.com/apps)正确配置应用程序设置。
仔细检查您的 Android 类/包名称、Android 哈希键等。如果您正确执行所有操作，您将不会看到此消息。

**总之**，您收到该错误消息是因为您的应用配置存在问题，例如，仪表板中的 Android 哈希键不匹配。在 Facebook 添加此错误消息之前，对话框会启动，然后自动关闭并失败。要解决此问题，请检查您的 LogCat 是否有任何错误消息，并确保您已正确实施所有内容。您可以阅读[我们的文档](https://developers.facebook.com/docs/mobile/android/build/)以确保一切正确。不要对这个问题使用公认的答案。

您还可以关注 Facebook 开发人员报告的[外部错误报告](https://developers.facebook.com/bugs/228454167280300)以获取更多更新。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-09-23T14:24:04.333

尝试这样设置：

首先下载[OpenSSL](http://en.wikipedia.org/wiki/OpenSSL')（如果你有 64 位机器，你必须下载**openssl-0.9.8e X64**，而不是最新版本， openssl-0.9.8k X64，因为输出将无效）。提取您的文件，创建文件夹`openssl`，例如在 C:/ 中并在那里复制文件。

找到你的 keyto 路径。我的是 C:\Program Files\Java\jdk1.7.0_05\bin。

找到通往`debug.keystore`. 如果您在 Eclipse 中打开菜单*Window* -> *Preferences* -> *Android* -> *Build*，您可以看到路径是什么，您将看到**Default Debug keystore:** - 和路径。

找到通往`openssl`. 我的是 C:\openssl8e\bin/。

打开cmd并输入：

"C:\Program Files\Java\jdk1.7.0_05\bin\keytool" -exportcert -alias androiddebugkey -keystore "C:\Users\User.android\debug.keystore" | "C:\openssl8e\bin\openssl" sha1 -binary | "C:\openssl8e\bin\openssl" base64

A 然后按`Enter`。

输入密码：`android`

您将获得`debug.keystore`.

当您导出签名的[APK](http://en.wikipedia.org/wiki/APK_%28file_format%29)并为应用程序创建密钥库时，只需将 cmd debugkeystore alias 替换为您的应用程序别名，将密钥库路径替换为您为应用程序新创建的密钥库的路径，然后插入您的密码`app.keystore`，您将获得一个新的已签名应用程序的哈希密钥。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2012-09-24T20:09:15.003

Jesse Chen的回答很好。Facebooks SDK 工作正常，不要破坏它。

我再次遇到了这个问题，发现 Facebook SDK 文档已更正，现在非常好。现在指导如何调试和释放可以设置的哈希键；照它说的做。

下面是我的老故事。缺少您可以设置两个哈希键，一个用于调试，一个用于为旧的[Play Store](http://en.wikipedia.org/wiki/Google_Play)签名、发布的应用程序。

* * *

我发现问题出**在**我的 Facebook SDK 文档中。它指导我们使用调试密钥哈希并将其放入 Facebook 的应用程序配置中。哈希被引导以这种方式获得：

```
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64 
```

当您从[Eclipse](http://en.wikipedia.org/wiki/Eclipse_%28software%29)调试或运行应用程序时，这可以正常工作。

但是，如果您将应用程序发布到 Andoid Play，您必须使用自己的发布者密钥来导出签名的 .apk 文件。使用该 .apk，Facebook 应用程序控制台中的哈希不再有效！您必须像这样获取开发人员密钥的哈希：

```
keytool -exportcert -alias <developer alias> -keystore ~/.android/<developer keystore> | openssl sha1 -binary | openssl base64 
```

并将其放入 Facebook 应用程序控制台中的 Android Key Hash 中，以供您发布的应用程序使用。之后，SSO 再次为您签名的 .apk 文件正常工作。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2012-09-12T16:34:00.500

据我所知，这是一个 Facebook 问题，并且已被报告。但是，问题仍然存在。

解决此问题的一种方法（在 2.3.3 上测试）是破解 Facebook SDK，搜索 2 个**授权**方法并将**DEFAULT_AUTH_ACTIVITY_CODE**更改为**FORCE_DIALOG_AUTH**。这将禁用单点登录功能。

如果你喜欢

```
public void authorize(Activity activity, String[] permissions,
            int activityCode, final DialogListener listener) 
```

并禁用**startSingleSignOn**部分。最好不要这样做，因为最终 Facebook 会解决问题，而您只需将旧常量放回原处。

**编辑**

该解决方案引发了安全问题。检查杰西陈的答案。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2012-12-21T05:02:32.733

我遇到了同样的问题，在花了 24 小时和大量搜索之后，我们使用这种方法来解决我的问题。

1.  检查您的 Xcode 项目当前包标识符，例如：com.yourcompanyname.yourappname

2.  使用相同的 com.yourcompanyname.yourappname 包标识符在 Facebook 中创建应用程序，请参阅附件。

![在此处输入图像描述](../Images/24648e9a0214f4ae1b88324c2770e897.png)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-09-12T13:03:52.563

几分钟前我自己在 4.0.4 上遇到了这个问题，它似乎已经解决了。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-01-24T04:05:09.727

**虽然晚了，但仍然有用：**这是 corerct 的做法（对于调试密钥，请相应更改以发布）：* ***

```
keytool -exportcert -alias androiddebugkey -keystore "C:\Users\<User>\.android\debug.keystore" > <Drive letter>:\debug.txt
openssl sha1 -binary "<Drive letter>:\debug.txt" > "<Drive letter>:\debug_sha.txt"
openssl base64 -in "<Drive letter>:\debug_sha.txt" > "<Drive letter>:\debug_base64.txt" 
```

哈希在最后生成的文件中：debug_base64.txt....打开它并复制哈希。

**请记住用您选择的用户名和驱动器号替换“”**

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-12-27T10:48:05.347

当您创建密钥散列时，您最终可能会得到末尾带有等号“=”的内容，例如**ga0RGNYHvNM5d0SLGQfpQWAPGJ8=**。虽然 Facebook 很乐意接受等号作为密钥哈希的一部分，但您必须删除它才能使其正常工作。

此外，请查看[Android Facebook SDK 3.0 接受的答案，在登录时给出“remote_app_id 与存储的 id 不匹配”](https://stackoverflow.com/questions/13894006/android-facebook-sdk-3-0-gives-remote-app-id-does-not-match-stored-id-while-lo)：获取调试密钥库的密钥哈希时，使用密码“android”。否则，密钥哈希将不正确，您将收到问题中指定的错误（如果对您有帮助，请友好并在那里投票。）

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-09-20T13:34:07.797

通过确保我拥有正确的发布版本的哈希密钥，我设法解决了我在 Android 上为 Facebook 配置错误的问题。

要获取发布版本哈希密钥，请找到您用于签署应用程序的密钥并执行以下操作，插入您的密钥库别名的名称（不带括号）。如果您不知道您的别名，可以通过将您的应用导出为已签名的应用来找到此别名，别名位于向导的第二页。还要插入密钥库的路径（不带括号）。

```
keytool -exportcert -alias [Alias of your keystore] -keystore [Path to keystore] | openssl sha1 -binary | openssl base64 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-10-05T00:15:30.320

关于使用 OWN keystore 签名的应用程序： 花了几个小时解决了这个问题，我终于明白了，想为那些还在受苦的人提供一个答案：

我的步骤：我通过 eclipse 使用自己的密钥库文件（不是 debug.keystore）签署了我的应用程序。通过命令行和已知命令（keytool -exportcert -alias -keystore ~/.android/ | openssl sha1 -binary | openssl base64）我成功地收到了密钥哈希。将密钥哈希粘贴到开发仪表板中，等待几分钟 -> 仍然是相同的错误（如上述问题中所述）。我在几个 jdks 上尝试了几个不同的 keytools，等等......没有任何改变。

解决方案：我在 manifest 中打开 debuggable，在 facebook sdk 中打开 debuggable。然后我用自己的密钥库签署了 apk 并将其上传到真实设备上。我通过 USB 连接设备并打开 DDMS 透视图以查看设备上的 logcat。
我启动了我的应用程序并让错误消息出现。它打印出与 keytool 生成的密钥完全不同的密钥。我从 logcat 中获取了此密钥，将其粘贴到开发仪表板和瞧 -> 一切正常

我仍然不知道为什么会发生这种情况或导致错误密钥的原因，但这种方式对我有用。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2012-12-16T09:08:07.470

在像 ubuntu 这样的 Debian 系统上，使用在目录`keytool`下 找到的 of并像这样生成`java``/usr/lib/jvm/jdk*.*.*/bin/keytool`

```
/usr/lib/jvm/jdk1.7.0/bin/keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64 
```

通过这种方式，您可以获得真实的哈希密钥，该密钥可以放在您的 Facebook 应用哈希下。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2015-01-13T14:52:00.183

通常这个问题可以通过两个检查来解决：

*   在 facebook 控制台中标记以实时发布 facebook 配置
*   api 键不匹配

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2012-09-13T07:41:13.147

我做了一个`Toast`异常，发现它今天抛出了一个键不匹配异常，在`FB`应用程序页面中添加了键，它工作正常

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2012-09-23T14:42:43.537

几天前我遇到了同样的错误。就我而言，这是由于 Android 密钥不匹配造成的。如果它对您也有帮助，这是我修复它的方法：

在 Facebook SDK 中打开 Util.java，设置`private static boolean ENABLE_LOG = true;`. 现在运行您的应用程序并输入您的电子邮件 ID 和密码。如果密钥不匹配，Facebook 会发回签名。您将在[LogCat](https://sites.google.com/site/androidhowto/how-to-1/save-logcat-to-a-text-file)中找到此密钥（签名） 。只需复制此密钥并将其粘贴到应用仪表板中即可。那应该可以解决问题。记得设置`private static boolean ENABLE_LOG = true;`回false。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2012-10-26T20:54:11.803

也遇到了这个问题。

[只需在此处](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)转到 Facebook 开发人员入门页面

并按照步骤 4 - 命令行的事情。

为我工作。

享受。

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2012-10-31T08:13:25.940

我只是遇到了同样的问题，结果证明解决方案非常简单。当我在仪表板中创建应用程序时，我只添加了 android 调试密钥库的密钥哈希。在这种情况下，如果您通过 USB 电缆以开发人员身份安装应用程序，这一切都可以正常工作。

在 Play 商店中拥有应用程序后，您将使用生产密钥对应用程序进行签名。这也意味着，您必须像调试密钥一样获取生产密钥的密钥哈希，并将其作为第二个哈希添加到本机应用程序哈希列表中。

只是为了记住密钥哈希的工作原理：keytool -exportcert -alias -keystore ~/keys/android_keystore | openssl sha1 -二进制 | openssl base64

希望有帮助！

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2012-12-12T00:56:40.367

我有类似的问题，但对于 iOS。

解决方案是在 Facebook 开发人员仪表板上配置 Facebook 应用程序。

对于 iOS，必须做两件事：

1.  启用 Facebook 登录

2.  Bundle ID 必须与应用相同

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2012-12-17T06:52:27.147

这是一个密钥库问题。配置您的 Eclipse 以使用为其配置应用程序的相同密钥库。

# ios - iOS中的“可点击”区域应该是按钮吗？

> ID：12382562
> 
> 赞同：2
> 
> 时间：2012-09-12T06:46:57.013
> 
> 标签：ios

iOS 中的“可点击”区域应该是按钮还是只使用通用的 UIView、UIImage 等就可以了？

假设我有一个带有图标、边框、阴影等的文本块。它看起来像一个广告牌。实现它的最佳方法是什么？使用自定义 UIButton 并为其添加子视图或仅创建通用 UIView？

任何想法表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:53:40.037

您可以简单地将`UIGestureRecognizer`s 添加到您的`UIView`并处理它们。您可以在此处找到文档，并[在](http://oleb.net/blog/2012/01/gesture-recognition-on-ios-with-attention-to-detail/)[此处](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIGestureRecognizer_Class/Reference/Reference.html)找到教程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:17:17.460

可能对于包含多个子视图的视图，您想要使用`UIView`子类。虽然`UIButton`添加视图是可以的，但状态更改、启用/禁用可能会对整个视图（包括子视图）造成不稳定的影响。使用您自己的`UIView`子类将确保显示的内容不会因任何状态更改而被玩弄，从而让您完全控制。您可以覆盖

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event 
```

拦截对您的自定义视图的触摸。如果您要这样做，请记住 userInteractionEnabled 字段必须设置为 true。

附加说明：您提到阴影是您问题中的元素之一。如果您习惯`CALayer`这样做，请**绝对**避免使用 UIButton，因为它处理不同状态的层集非常复杂。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-12T07:14:15.300

如果目标区域足够大，您可以在可点击视图的顶部放置一个透明的 UIButton（将按钮类型切换为自定义，但不提供图像）以拦截点击。

# iphone - 使用 html5 开发的代码在 Iphone 上播放视频

> ID：12382567
> 
> 赞同：1
> 
> 时间：2012-09-12T06:47:05.747
> 
> 标签：iphone, asp.net, html, video

我也在台式机和手机上通过我的 asp.net 应用程序播放视频。

我有一个使用视频标签以 html 编写的代码。我将 URL 发送给用户以播放视频，它在包括 Mac 在内的桌面上也可以正常工作。我曾尝试在装有 android 操作系统的三星 Galaxy SII 手机上访问它。我的视频可以正常运行，但是当我尝试在 iPhone 上访问该 URL 时 player.aspx 可以正常加载，但它只是不播放视频。

视频为 .mp4 格式。

我在 safari 浏览器上的 IPHONE 中播放它。

谁能帮我解决这个问题。

谢谢

# android - Android 应用程序未出现在某些区域

> ID：12382571
> 
> 赞同：1
> 
> 时间：2012-09-12T06:47:25.310
> 
> 标签：android, google-play, appearance

我上个月在市场上发布了 android 应用程序。但如果我搜索，它不会出现在蒙古和中国。韩国、美国用户都可以使用，上线以来下载次数超过100次。我的应用名称是“Delden 词典”。当我在 Play 市场上搜索“Delden 词典”时，所有内容都会显示给韩国用户。来自蒙古，如果我搜索与以下结果相同的结果，则显示搜索结果为“0”。

它有什么问题？

请帮忙。

# java - 在android中获取地图上的当前位置

> ID：12382573
> 
> 赞同：3
> 
> 时间：2012-09-12T06:47:27.060
> 
> 标签：java, android, google-maps, location

我正在使用这篇文章：[在 Android 上获取用户当前位置的最简单、最可靠的方法是什么？](https://stackoverflow.com/questions/3145089/what-is-the-simplest-and-most-robust-way-to-get-the-users-current-location-in-a) 获取设备的当前位置。我的代码是：

```
locationResult = new LocationResult() {

        @Override
        public void gotLocation(Location location) {
            if (location != null) {
                latitude = location.getLatitude();
                longitude = location.getLongitude();
            }

        }
    };

    myLocation = new MyLocation();
    myLocation.getLocation(this, locationResult);
    mapController = mapView.getController();
    point = new GeoPoint((int) (latitude * 1E6), (int) (longitude * 1E6));
    mapController.animateTo(point);
    Toast.makeText(getApplicationContext(), ("Latitude = "+latitude+" Longitude = "+longitude), Toast.LENGTH_SHORT).show();
    mapController.setZoom(17);
    mapView.invalidate(); 
```

纬度和经度被声明为全局双精度类型变量。但是，运行应用程序后，我得到了蓝屏。我认为，问题是我的代码无法获得纬度和经度的值。有人可以帮我吗？谢谢 。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:11:13.347

您的问题没有让我感觉到您的代码有什么问题，但是如果您确实需要获取设备的当前位置，我可以给您一个提示。

**提示：**尝试使用位置监听器，如果您的设备位置发生变化，它将为您提供纬度和经度值。

**代码：**

您的活动

```
 LocationManager mlocManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
  LocationListener mlocListener = new MyLocationListener();
  mlocManager.requestLocationUpdates( LocationManager.GPS_PROVIDER, 0, 0, mlocListener); 
```

你的听众班

```
@Override
      public void onLocationChanged(Location loc){
       //you are getting values
        loc.getLatitude();
        loc.getLongitude();
      } 
```

清单许可

```
 <uses-permission android:name="android.permission.ACCESS_GPS"></uses-permission>
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/> 
```

# sql-server-2008 - 我们可以在没有 BIDS 的情况下安装 SSIS 引擎吗？如果是的话，在生产机器上做是个好主意吗

> ID：12382589
> 
> 赞同：1
> 
> 时间：2012-09-12T06:48:37.367
> 
> 标签：sql-server-2008, ssis, bids, dtexec

我有全新的 Windows 机器，我们计划将其用作生产机器来运行我们的 SSIS 包。我的 pacakges 在文件系统上而不是在 SQL Server 中。是否有可能我们只能在没有 BIDS 的情况下安装 SSIS 引擎。如果我们只安装 SSIS 引擎，像 dtexec 这样的实用程序会起作用吗？这是个好主意吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T08:24:09.763

在`Production`你不会开发 SSIS 包，所以你不需要 BIDS 。

```
BIDS is a plugin for Visual Studio with additional Project types that are
specific to SQL Server business intelligence. 
```

在安装 SQL 服务器时，您应该包括集成服务实例。实际上，运行您的包不需要 SSIS 运行时。 [SSIS 服务使用情况](http://www.ssistalk.com/2009/11/04/ssis-what-does-the-ssis-service-actually-do-anyway/)

看看这篇文章

[SQL Server Integration Services (SSIS) 服务的描述以及集群化 SSIS 服务的替代方法](http://support.microsoft.com/kb/942176)

`dtexec`实用程序附带 SQL Server 以运行 SQL Server 集成服务 (SSIS) 包。因此，即使没有 BIDS，此实用程序也将运行您的 SSIS 包

# javascript - 创建一个遍历窗口并获取 Titanium 中所有控件的方法？

> ID：12382592
> 
> 赞同：0
> 
> 时间：2012-09-12T06:48:42.737
> 
> 标签：javascript, dom-events, titanium-mobile

我有一个有窗口的应用程序。在那个窗口中有一个视图，并且该视图中有一个按钮。我想关闭窗口并释放窗口正在使用的内存。

那么，我们是否可以创建一个方法，该方法将遍历一个窗口并获取所有控件，以便我们可以使视图中的按钮等元素在使用后为空。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T07:53:31.647

我假设您正在尝试释放内存并希望防止内存泄漏，您可以这样做

```
//create a window
var win = Titanium.UI.createWindow({
});
win.open();

//create a view
var view = Titanium.UI.createView({
});
win.add(view)//add view to window

//create button
var button = Titanium.UI.createButton({
  });
view.add(button);//add button to view
//similarly add what ever you want according to your requirement

//this will free memory
win.remove(view);  // view & button still exist
view = null; // deletes the view and its proxy, but not the button!
button = null;//deletes the button and delete all the elements what ever you have added

//if you have inserted views/tableviewrows/buttons and other elements into an array      then nullifying it after their use like this
var SampleArray = [];
//added views,rows etc...to this SampleArray 
SampleArray = null; 
```

如需进一步参考，请点击此链接管理内存和查找泄漏： [https ://wiki.appcelerator.org/display/guides/Managing+Memory+and+Finding+Leaks#ManagingMemoryandFindingLeaks-WhenTitaniumreleasesmemory](https://wiki.appcelerator.org/display/guides/Managing+Memory+and+Finding+Leaks#ManagingMemoryandFindingLeaks-WhenTitaniumreleasesmemory)

# redis - 是否应该使用 redis 生成自动递增值？

> ID：12382598
> 
> 赞同：3
> 
> 时间：2012-09-12T06:49:23.017
> 
> 标签：redis

我正在设计一个使用 MongoDB 进行存储的应用程序。您可能知道 mongo 提供的 ObjectId 数据类型是 12 字节的十六进制。我想向我的用户展示一个对用户更友好的 ID。

我研究了几个选项，如 PHP 的 uniqid() 及其几个变体，但我不相信它们，因为随机性所带来的冲突（参见[生日问题](http://en.wikipedia.org/wiki/Birthday_problem#Probability_table)）。

对于这种操作，Redis 看起来对我很有吸引力（请参阅[INCR](http://redis.io/commands/incr)）。这要求 Web 应用程序在每次需要创建新记录时调用 redis。我在 redis 中只需要大约 15-20 个计数器，它们占用的空间很小，因此复制永远不会成为问题。此外，应用程序可以使用套接字连接到它，以避免 tcp 开销。

我想错了吗？还有什么我应该考虑的吗？

谢谢，亚历克斯

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T07:58:34.907

“应该”是一个很强烈的词……

我想说，如果你仍然保留redis，你可以将它用于计数器。您可能会发现它对其他事情也很有用。但是，如果您考虑仅为原子计数器安装和维护 redis，那似乎有点过头了。

显然，Mongo 也可以做原子计数器，来自[How to make a auto incrementing field](http://www.mongodb.org/display/DOCS/How+to+Make+an+Auto+Incrementing+Field)：

使用“计数器模型”，例如：

```
db.counters.insert({_id: "userId", next: 0});

var userCounter = db.findAndModify({
  query: {_id: "userId"},
  update: {$inc: {next: 1}}
}); 
```

您现在可以`userCounter.next`用作您的 id。

话虽如此，如果我是你，我想我会保留`_id`作为 Mongo`ObjectID`并为自动递增的 id 保留一个单独的属性。

# matlab - 是 MATLAB 中的当前 Simulink 系统模型或子系统

> ID：12382599
> 
> 赞同：1
> 
> 时间：2012-09-12T06:49:23.547
> 
> 标签：matlab, simulink, matlab-deployment

我有一个 .m 文件，我在其中对 Simulink 模型执行一些操作，并且我想检查当前使用的模型是整个模型还是子系统。是否有特定的语法或功能来检查这一点？我需要能够根据 Simulink 系统执行不同的操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T15:32:46.083

```
isEntireModel = isequal( get_param( gcs, 'Type' ), 'block_diagram' ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T03:46:00.180

您始终可以使用[bdroot](http://www.mathworks.com/help/simulink/slref/bdroot.html)获取顶级系统的名称并使用字符串比较来查看您是否有子系统：

```
sysname = 'f14/Actuator Model';
istoplevel = strcmp(bdroot(sysname), sysname); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-16T16:34:44.643

您可以在打开模型后尝试此操作，还是替换`gcs`为系统名称[确保在使用 with`load_system`或`open_system`] 之前加载它：

```
h=find_system(gcs,'FindAll',1,'SearchDepth',1,'BlockType','SubSystem');
if isempty(h)
    disp('Has Subsystems');
else
    disp('No Subsystems');
end
h=find_system(gcs,'FindAll',1,'SearchDepth',1,'BlockType','ModelReference');
if isempty(h)
    disp('Has Models');
else
    disp('No Models');
end 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-08T18:46:26.083

更简单的方法是，假设您的型号名称是 vdp，然后：

bdIsLoaded('vdp')

# android - 如何防止用户设置早于当前日期和时间的日期和时间

> ID：12382602
> 
> 赞同：3
> 
> 时间：2012-09-12T06:49:35.480
> 
> 标签：android, date, time, datepicker, timepicker

我的应用程序遇到问题。我正在尝试做一些事情来阻止用户选择已经过去的日期和时间。如果用户选择过去的日期和时间，将显示错误消息。用户将从 datePicker 和 timePicker 中选择日期和时间。有人对这样做有任何想法吗？任何帮助将不胜感激。非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:59:43.077

您可以通过广播接收器 ACTION_TIME_CHANGED 阻止用户更改日期时间。如果用户更改日期时间，则会调用广播接收器。覆盖广播接收器中的 onRecieve 方法。请确保在清单文件中定义广播接收器

```
 @Override
  public void onReceive(Context context, Intent intent) {

    // You can put conditions the changed date time is not past from the current time and show toast message.

  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:56:26.863

如果您在 edittext 中设置选择器值，您可以这样做：

```
Calendar cal = Calendar.getInstance();
                                cal.set(cal.get(Calendar.YEAR),
                                        cal.get(Calendar.MONTH),
                                        cal.get(Calendar.DAY_OF_MONTH));
                                DateFormat df = new SimpleDateFormat(
                                        "dd/MM/yyyy");
                                Date day_entered, day_valid;

                                day_entered = df.parse(your_date_edittext.getText()
                                        .toString());
                                day_valid = df.parse(df.format(cal.getTime()));
                                if (day_entered.after(day_valid)) {
                                    Toast msg = Toast
                                            .makeText(
                                                    Profile.this,
                                                    "Please Enter a valid date",
                                                    Toast.LENGTH_LONG);
                                    msg.show();
                                    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T07:30:29.127

```
if(fromdate!=null && fromdate.length()>0 && todate!=null && todate.length()>0)
   {
    try
       {
      sdf = new SimpleDateFormat("yyyy-mm-dd");
               date1 = sdf.parse(fromdate);
               date2 = sdf.parse(todate);

           Calendar cal = Calendar.getInstance();
           Calendar cal2 = Calendar.getInstance();

           cal.setTime(date1);
                 cal2.setTime(date2);

                  if(cal.after(cal2)){
                System.out.println("Date1 is after Date2");
              //  Toast.makeText(getApplicationContext(), "from Date1 is after Date2", Toast.LENGTH_SHORT).show();
               // clear the dates here........
                  }

       }
      catch(Exception e)
      {
       Log.d("pavan","in exception block ");
      } 
```

}

# delphi - 用C#处理delphi activeX控件事件

> ID：12382606
> 
> 赞同：2
> 
> 时间：2012-09-12T06:49:45.107
> 
> 标签：delphi, events, activex

我用 Delphi 实现了一个 activeX 控件。现在我想为它添加一个事件。我使用类型库编辑器来添加这样的事件。

```
procedure OnActionMethod(ActionType: Integer; x1: Integer; 
  y1: Integer; x2: Integer; y2: Integer; param1: Double); dispid 213;

TezDICOMXOnActionMethod = procedure(ASender: TObject; 
  ActionType: Integer; x1: Integer; y1: Integer; x2: Integer; y2: Integer; 
  param1: Double) of object; 
```

一切都编译得很好。

现在我构建了一个 C# 应用程序，使用该 ActiveX 控件并尝试实现一个事件处理程序。

```
private AxezDICOMax.AxezDICOMX the_ezdicom; // this is the activeX object

public void onActionHandler(object sender,long actiontype, 
    long x1, long y1, long  x2,long  y2, double param1)
{
  MessageBox.Show("abcabc" + x1.ToString() + x2.ToString());
}

private void MainForm_Load(object sender, System.EventArgs e)
{           
  the_ezdicom.OnActionMethod += new 
    AxezDICOMax.IezDICOMXEvents_OnActionMethodEventHandler(this.onActionHandler);
} 
```

但是编译器抱怨这个错误

```
Error 1  No overload for 'onActionHandler' matches delegate 
  'AxezDICOMax.IezDICOMXEvents_OnActionMethodEventHandler'
  OnActionMethodEventHandler 
```

我做错什么了？我没有`OnActionMethodEventHandler()`在我的 Delphi 源代码上找到任何地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:41:22.653

我使用 Visual Studio 的自动完成功能知道真正的方法应该是。

```
void  onActionHandler(object sender, AxezDICOMax.IezDICOMXEvents_OnActionMethodEvent e)
{
    MessageBox.Show("abc");
} 
```

# sql - 从 FitNesse 中具有单个标识列的表中获取标识值

> ID：12382607
> 
> 赞同：0
> 
> 时间：2012-09-12T06:49:44.857
> 
> 标签：sql, testing, integration-testing, fitnesse, dbfit

FitNesse/dbFit 是否支持插入到具有单个标识列的表中，然后将该值返回到变量中？

例如：

```
create table TestTable ( ID int identity(1,1) )

!|Insert|TestTable|
|ID?              |
|>>TestID         | 
```

导致以下异常：

```
System.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near ')'. 
```

还有另一种方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-16T20:54:23.993

您的问题不在于 Fitnesse，而在于 SQL 引擎。如果您在 SQL Server Management Studio 中尝试相同的查询，您将收到相同的错误。因此，鉴于您不能使用您真正需要问的问题的限制是如何在 SQL Server 中*独立于 Fitnesse*`set identity_insert on`插入没有可插入字段的记录？[这篇 StackOverflow 帖子](https://stackoverflow.com/questions/1362148/how-to-insert-into-a-table-with-just-one-identity-column-sql-express)提供了一个简单的答案：

 *```
INSERT INTO #TempTable DEFAULT VALUES 
```

有了它，现在的任务是将其映射到 Fitnesse。这是一种解决方案：

```
!|execute|CREATE TABLE #TestTable ( ID int identity(1,1) )|

!|execute|INSERT INTO #TestTable DEFAULT VALUES|

!|query|SELECT TOP 1 @@IDENTITY [ID] FROM #TestTable|
|ID?                                                |
|>>TestID                                           | 
```

Fitnesse 的 INSERT 命令不支持默认构造，因此您必须切换到更通用的 EXECUTE 命令来执行插入操作。但是，这不会返回结果，因此您无法直接收集自动插入的 ID 值。最后的查询为您提供了一种获取刚刚插入的标识值的方法。*

# iphone - 在ios中进入前台时显示黑屏

> ID：12382611
> 
> 赞同：0
> 
> 时间：2012-09-12T06:50:08.757
> 
> 标签：iphone, facebook-graph-api, background-foreground

我正在开发一个具有 facebook 集成的应用程序。应用程序前几次运行良好。如果我在 2-3 小时后从后台打开应用程序，它在前台显示黑屏。我正在授予离线访问权限。任何帮助将不胜感激...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T09:33:46.917

在项目的资源文件夹中放置一张名为“Default.png”的图片可能会对您有所帮助。

# sql-server - 无法通过分页选择每个项目类别中的“n”条记录

> ID：12382613
> 
> 赞同：0
> 
> 时间：2012-09-12T06:50:34.247
> 
> 标签：sql-server, tsql, stored-procedures

我正在尝试使用分页在每个 ItemCategoryID 中选择 5 条记录，通过下面的查询，我能够在每个类别中获得 5 条记录，但分页不起作用，因为我已声明页面大小为 10，但我得到 19 条记录和@ItemCounter TotalCount 即将达到 45 ......我不知道如何解决它..这是查询：

```
DECLARE @PageIndex int = 1
DECLARE @PageSize int = 10
DECLARE @StartRow int
DECLARE @EndRow int
SET @StartRow = (@PageSize * (@PageIndex - 1))  + 1  
SET @EndRow = @PageSize * @PageIndex + 1
DECLARE @ItemCounter int
SELECT @ItemCounter = Count(*)FROM dbo.Auctions WHERE AuctionStatus=1;
WITH Auctions AS
    (
        SELECT  ROW_NUMBER() OVER 
        (PARTITION BY ItemCategoryID  ORDER BY AuctionID) AS RowNumber,                 
            AuctionID, 
            ItemCategoryID  ,                             
            @ItemCounter TotalCount                         
            FROM Auctions                 
            WHERE                 
            AuctionStatus=1 
     )

    SELECT a.* FROM Auctions a  
    WHERE  a.RowNumber <=3 AND a.RowNumber 
    BETWEEN @StartRow AND @EndRow - 1 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:12:07.147

```
a.RowNumber <=3 AND a.RowNumber BETWEEN @StartRow AND @EndRow - 1 
```

您对此有何期待？行号必须在开始和结束之间并且**必须**小于或等于 3？什么是开始是4？任何高于 3 的 End 都无关紧要。

我将在这里做出一个信念的飞跃，并说正确说明您的问题的要求是：

*   对于每个物品类别，最多返回 4 次拍卖，其中 status = 1
*   分页结果

所以你显然有两个计数器要考虑，一个用于类别内的拍卖，一个用于分页：

```
WITH Auctions AS
(
    SELECT  ROW_NUMBER() OVER 
    (PARTITION BY ItemCategoryID  ORDER BY AuctionID) AS AuctionNumber,                 
        AuctionID, 
        ItemCategoryID                             
        FROM Auctions                 
        WHERE                 
        AuctionStatus=1 
 ),
Paging as (
  SELECT ROW_NUMBER() OVER (ORDER BY ItemCategoryID, AuctionID) as RowNumber
   , a.* 
  FROM Auctions a  
  WHERE AuctionNumber <= 3 
)
SELECT * 
  FROM Paging 
  WHERE  RowNumber BETWEEN @StartRow AND @EndRow - 1; 
```

性能可能会很差，但是没有人可以设计任何没有数据模式知识（表定义、索引等）的性能，而这些知识在问题陈述中是缺失的。

总记录数：

```
WITH Auctions AS
(
  SELECT  ROW_NUMBER() OVER 
    (PARTITION BY ItemCategoryID  ORDER BY AuctionID) AS AuctionNumber,                 
    AuctionID, 
    ItemCategoryID  ,                             
  FROM Auctions                 
  WHERE AuctionStatus=1 
)
SELECT @total = COUNT(*) 
 FROM Auctions a  
 WHERE AuctionNumber <= 3; 
```

# c# - C# 和 sql 服务器

> ID：12382619
> 
> 赞同：-2
> 
> 时间：2012-09-12T06:51:13.920
> 
> 标签：c#

我创建了一个数据库和一个包含 2 个字段 Id 和 Name 的表。现在我想在单击给出示例代码的按钮时插入值。它不工作。

```
using (SqlConnection connection = new SqlConnection(strConnection))
{
    SqlCommand command =new SqlCommand("insert into Test (Id,Name) values(5,kk);",connection);
    connection.Open();
    command.ExecuteNonQuery();
     connection.Close();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:53:08.117

字符串值应该用引号引起来。这与 C# 关系不大，更多的是与 T-SQL

试试这个，注意 kk;

```
SqlCommand command =  
      new SqlCommand("insert into Test (Id,Name) values(5,'kk');",connection);
connection.Open();
command.ExecuteNonQuery();
connection.Close(); 
```

另外我在这里假设这`Id`不是一个自动增量字段。如果是，那么您不应该填写它。

作为一个侧节点，您应该查看参数化查询以防止 SQL 注入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T06:53:55.960

在这种情况下，您需要在 kk 周围加上单引号 '

```
insert into Test (Id,Name) values(5,'kk') 
```

通常，您应该使用参数化查询

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T06:56:58.617

试试这个：

```
SqlConnection con = new SqlConnection('connection string here');    
string command = "INSERT INTO Test(Id, Name) VALUES(5, 'kk')";
SqlCommand cmd = new SqlCommand();
cmd.Connection = con;
cmd.CommandType = System.Data.CommandType.Text;
cmd.CommandText = command;
con.Open();
cmd.ExecuteNonQuery();
con.Close(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T06:58:05.963

试试这个：

```
SqlConnection conn = new SqlConnection();
SqlTransaction trans = conn.BeginTransaction();
try
{
   using (SqlCommand cmd = new SqlCommand("insert into Test (Id,Name) values(@iD, @Name)", conn, trans))
   {
      cmd.CommandType = CommandType.Text;
      cmd.AddParameter(SqlDbType.UniqueIdentifier, ParameterDirection.Input, "@iD", ID);
      cmd.AddParameter(SqlDbType.VarChar, ParameterDirection.Input, "@Name", Name);

      cmd.ExecuteNonQuery();
   }

   conn.CommitTransaction(trans);
}
catch (Exception ex)
{
   conn.RollbackTransaction(trans);
   throw ex;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T07:01:59.357

1.  字符串值应介于 ' '
2.  验证您的连接字符串

    ```
     //add your connection string between ""
            string connectionString = "";

            using (var conn = new SqlConnection(connectionString))
            using (DbCommand cmd = conn.CreateCommand())
            {
                cmd.CommandText = "INSERT INTO pdf (Id, Name) VALUES (5, 'kk')";

                conn.Open();

                conn.ExecuteNonQuery();

                conn.Close();
             } 
    ```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-12T07:06:16.297

看起来您当前的代码存在多个问题。

*   正如其他答案中所指出的，您需要用单引号将字符串值括起来。
*   您需要**启用与 SQL 服务器的远程连接。**

如果您使用的是 SQL Server 2008，请检查以下链接。

[如何在 SQL Server 2008 中启用远程连接？](http://blogs.msdn.com/b/walzenbach/archive/2010/04/14/how-to-enable-remote-connections-in-sql-server-2008.aspx)

对于 SQL Server 2005，请参见：

[如何配置 SQL Server 2005 以允许远程连接](http://support.microsoft.com/kb/914277#method1)

# android - 安卓造型设计

> ID：12382625
> 
> 赞同：0
> 
> 时间：2012-09-12T06:51:38.337
> 
> 标签：android, android-layout

我必须为我的 Android 页面创建以下样式是否可以使用（形状等）通过它进行样式设置

> ![[1]：[http://i.stack.imgur.com/5edz4.png][1]](../Images/947d6604bddd050d3a82d80f3a796816.png)

```
 if(getResources().getConfiguration().orientation==Configuration.ORIENTATION_PORTRAIT){

        ScrollView sv = (ScrollView) findViewById(R.id.scroll_vw);
        sv.setBackgroundResource(R.drawable.login_image_portrait);
    }
    else{
        ScrollView sv = (ScrollView) findViewById(R.id.scroll_vw);
        sv.setBackgroundResource(R.drawable.login_image_landscape);

    } 
```

> 目前我将它作为 Image 和运行时我寻找方向并设置 drawable 。我通过 XML 并使用自定义视图进行了很多尝试，但无法获得它（在此我必须在使用自定义视图后将编辑框和按钮放在特定位置，我只能使用我可以使用的框架没有让我控制小部件位置）

# google-chrome - Chrome 打包应用程序/pdf.js

> ID：12382626
> 
> 赞同：6
> 
> 时间：2012-09-12T06:51:49.333
> 
> 标签：google-chrome, pdf, google-chrome-extension

我正在尝试使用 chrome 23+ 开发（离线）打包应用程序，它允许用户生成和打印 pdf 文件。我尝试了各种方法来实现这一点，但没有一个真正有效。

使用这样的东西，浏览器/应用程序冻结：

```
window.html (includes pdf.js (http://code.google.com/p/jspdf/) and genpdf.js (see below)):

....
<browser src="about:blank" width="1024" height="768"></browser>

genpdf.js:

var doc = new jsPDF();
doc.text(20, 20, 'foo');
doc.text(20, 30, 'bar');
document.querySelector('browser').src = window.webkitURL.createObjectURL(new Blob([doc.output()], {type: 'application/pdf'})); 
```

这将是我显示生成的 PDF 的首选方式，但由于窗口冻结，用户无法打印它。

另一种方法是将 PDF 保存到桌面：

```
chrome.fileSystem.chooseFile({type: 'saveFile'}, function(writableFileEntry) {
    writableFileEntry.createWriter(function(writer) {
      writer.onerror = function(e) {
        console.log('writeend');
      };
      writer.onwriteend = function(e) {
        console.log('writeend');
      };
      var doc = new jsPDF();
      doc.text(20, 20, 'foo');
      doc.text(20, 30, 'bar');
      writer.write(new Blob([doc.output()], {type: 'application/pdf'}));
    }, errorHandler);
}); 
```

这有效，但桌面上的文件被锁定，直到应用程序关闭。我是否缺少任何 api-call 来释放保存的文件？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T18:33:41.813

在第二种解决方案中，我相信您应该提供缓冲区大小，以便编写者能够知道写入何时结束。

```
var docBuffer = doc.output();
writer.write(new Blob([docBuffer], {type: 'application/pdf', 'size': docBuffer.length})); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-13T22:20:31.723

[抢先看一下 wkhtmltopdf](http://code.google.com/p/wkhtmltopdf/%20wkhtmltopdf)，它使用 WebKit 引擎从 HTML+CSS 页面生成 PDF。我喜欢它，它产生与 Chromium 浏览器中显示的页面相同的像素结果。有 MS-Windows 和 Linux 的版本，我都试过了。

# android - 如何在 RatingBar 中设置星星的自定义大小

> ID：12382632
> 
> 赞同：30
> 
> 时间：2012-09-12T06:52:17.960
> 
> 标签：android, android-widget

我已经添加了样式

```
<style name="myRatingBar" parent="@android:style/Widget.RatingBar">
    <item name="android:minHeight">32dp</item>
    <item name="android:maxHeight">32dp</item>
</style> 
```

然而，我收到的不是缩放的星星：

![在此处输入图像描述](../Images/a3280dade1347fcfe0826b5fa5b75764.png)

有没有办法改变星星的大小？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2015-11-09T02:38:25.607

另一种方法是缩放小部件：

```
android:scaleX="0.5"
android:scaleY="0.5" 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-09-14T03:59:39.843

Android 不会缩放评分栏图标。当您减小时`minHeight`，`maxHeight`android 将始终裁剪图标，如图所示。它的解决方法似乎是唯一的一种解决方案，即为具有所需尺寸的星星提供您自己的图标，并将 和 设置为`minHeight`图标`maxHeight`的大小。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-12T09:20:57.043

//你也可以试试

```
<style name="myRatingBar" parent="@android:style/Widget.RatingBar.Indicator">

<style name="myRatingBar" parent="@android:style/Widget.RatingBar.Small"> 
```

**参考：** `/android-sdk/platforms/android-10/data/res/values/styles.xml`

```
<style name="Widget.RatingBar">
        <item name="android:indeterminateOnly">false</item>
        <item name="android:progressDrawable">@android:drawable/ratingbar_full</item>
        <item name="android:indeterminateDrawable">@android:drawable/ratingbar_full</item>
        <item name="android:minHeight">57dip</item>
        <item name="android:maxHeight">57dip</item>
        <item name="android:thumb">@null</item>
    </style>

    <style name="Widget.RatingBar.Indicator">
        <item name="android:indeterminateOnly">false</item>
        <item name="android:progressDrawable">@android:drawable/ratingbar</item>
        <item name="android:indeterminateDrawable">@android:drawable/ratingbar</item>
        <item name="android:minHeight">38dip</item>
        <item name="android:maxHeight">38dip</item>
        <item name="android:thumb">@null</item>
        <item name="android:isIndicator">true</item>
    </style>

    <style name="Widget.RatingBar.Small">
        <item name="android:indeterminateOnly">false</item>
        <item name="android:progressDrawable">@android:drawable/ratingbar_small</item>
        <item name="android:indeterminateDrawable">@android:drawable/ratingbar_small</item>
        <item name="android:minHeight">14dip</item>
        <item name="android:maxHeight">14dip</item>
        <item name="android:thumb">@null</item>
        <item name="android:isIndicator">true</item>
    </style> 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-10-18T17:48:52.747

你解决了你的问题。但这可能对其他人有所帮助。

我有同样的问题。我得到的所有解决方案都不适用于多种屏幕尺寸。花了几个小时后，我以以下解决方案结束。

只需获取要在运行时使用的可绘制高度并将其设置为 RatingBar。这是示例代码。

```
Drawable starDrawable = getResources().getDrawable(R.drawable.YOUR_IMAGE);
int height = starDrawable.getMinimumHeight();
LayoutParams params = (LayoutParams) ratingBar.getLayoutParams();
params.height = height;
ratingBar.setLayoutParams(params); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-05-16T22:10:51.783

也许我们可以使用另一种替代方案，即 android 提供小尺寸的评分星。将 style="@style/Widget.AppCompat.RatingBar.Small" 添加到 RatingBar。

```
 <RatingBar
                android:layout_width="100dp"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/list_item_margin"
                android:layout_marginLeft="@dimen/list_item_margin"
                android:numStars="5"
                android:isIndicator="true"
                style="@style/Widget.AppCompat.RatingBar.Small"/> 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-09-12T06:57:54.913

[看看这个](http://sochinda.wordpress.com/2012/02/09/custom-rating-bar-style-using-androids-ratingbar-small-style/)小风格的自定义评分栏。

我认为您必须对 Rating Bar 使用自定义样式。[这](http://android-helper.blogspot.in/2011/06/android-custom-ratingbar-example.html)是示例。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-06-11T07:23:25.167

您可以在 RatingBar 的 XML 代码中设置它，使用 scaleX 和 scaleY 进行相应调整。“1.0”将是正常大小，“.0”中的任何内容都会减小它，大于“1.0”的任何内容都会增加它。

您还可以参考使用该库的链接。对于自定义评分栏，单击此[链接](https://android-arsenal.com/details/1/4027)并获取自定义评分栏并享受评分栏。

```
<RatingBar
  android:id="@+id/ratingBar"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:scaleX="0.5"
  android:scaleY="0.5" /> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-12-15T17:42:13.490

这不完全是一个答案，但我想展示一个替代方案。使用一个名为[Iconify](https://github.com/JoanZapata/android-iconify)的库，它允许您在 android 应用程序上使用可缩放的矢量图标，并且通过一种简单的方法，您可以创建带有图标的超棒评分栏。

方法

```
public static String montarEstrellasValoracion(float valoration,int starSize) {
    String result="";
    float cont=1f;

    for(float i=1f;i<=valoration;i++){
        if(valoracion==0){
            break;
        }
        cont=i;
        if((cont+0.5f)>=(valoration) && valoracion!=5f){
            result+="{fa-star "+starSize+"dp} ";
            result+="{fa-star-half-o "+starSize+"dp} ";
            cont++;
            break;
        }else if((cont+0.5f)<(valoration) && (cont+1f)>(valoration) && valoration!=5f){
            result+="{fa-star "+starSize+"dp} ";
            result+="{fa-star "+starSize+"dp} ";
            cont++;
            break;
        }

        if(cont<=5){
            result+="{fa-star "+starSize+"dp} ";
        }

    }

    for(float j=cont;j<5f;j++){
        result+="{fa-star-o "+starSize+"dp} ";
    }

    if(valoration==0){
        result+="{fa-star-o "+starSize+"dp}";
    }

    return result;
} 
```

然后在 onCreate 方法上：

```
IconTextView valoracion = (IconTextView)item.findViewById(R.id.id_icon_textview); 
```

`valoracion.setText(montarEstrellasValoracion(valoration,15));` `valoracion.setTextColor(Color.parseColor("#000");`

这些图标来自另一个很棒的网站，叫做[Font Awesome](https://fortawesome.github.io/Font-Awesome/)

希望这对任何人都有帮助！

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-05-31T09:29:46.040

```
 <RatingBar
                android:id="@+id/AVL_rating"
                style="?android:attr/ratingBarStyleSmall"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@+id/ASD_cardlayout"
                android:layout_centerHorizontal="true"
                android:layout_centerVertical="true"
                android:layout_marginTop="@dimen/_10sdp"
                android:isIndicator="true"
                android:numStars="5"
                android:rating="5.0"
                android:secondaryProgressTint="@color/clr_red"
                android:stepSize="1.0" /> 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-08-16T18:09:47.727

除了 xleon 显示的缩放，设置 transformPivotX="0dp" 然后设置自定义高度。

```
android:scaleX="0.7"
android:scaleY="0.7"
android:transformPivotX="0dp"
android:height="40dp" 
```

* * *

## 回答 #11

> 赞同：-2
> 
> 时间：2018-09-21T09:38:58.817

只需将`font-size`ppt 添加到样式中：`style='font-size: 1.7vw'`

# vba - Excel 宏：如何从其他 Excel 文件中提取数据

> ID：12382634
> 
> 赞同：1
> 
> 时间：2012-09-12T06:52:19.597
> 
> 标签：vba, excel

> **可能重复：**
> [excel 宏：浏览 excel 文件并使用其工作表数据](https://stackoverflow.com/questions/12380901/excel-macro-browse-excel-file-and-use-its-worksheet-data)

总之，我想写一个脚本可以做到这一点。在当前的excel文件中，有一个宏按钮。用户可以单击按钮来浏览文件（另一个 Excel）。在该浏览的 Excel 中，几个工作表将加载到当前 Excel 工作簿中，并且将使用数据。我这样写

```
Sub Button1_Click()     ' choose LOAD path

    objFile = Application.GetOpenFilename(fileFilter:="All Files (* . *) , * . * ")   ' browse function

    ...    ' following

    Call main_function
End Sub 
```

我已经写了浏览功能。但是如何写以下部分？例如。objFile 中特定工作表的数据将在 main_function 中使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:18:58.407

虽然你想要的不是很清楚（我不确定我是否理解你的问题的意图），但我会对此有所了解。

假设您有要在 objFile 中打开的文件的名称，您可以像这样从该电子表格中提取数据 - 我只是打开选定的工作簿，然后将其中所有工作表的名称写入 A 列在按下按钮之前打开的任何工作表中。

打开一个新工作簿会导致它被带到前台 - 所以如果我在打开一本新书之前没有抓住活动工作表，然后在打开新工作簿后设置它，你最终会覆盖你刚刚在工作簿中的数据打开。

```
Sub Button1_Click()
    ' choose LOAD path
    objFile = Application.GetOpenFilename(fileFilter:="All Files (* . *) , * . * ")   ' browse function

    Set curSheet = ActiveSheet
    Set mWorkbook = Workbooks.Open(objFile)
    curSheet.Activate

    Call someFunction(curSheet, mWorkbook)
End Sub

Sub someFunction(targetSheet, srcWorkbook)
    numSheets = srcWorkbook.Sheets.Count
    For i = 1 To numSheets
        targetSheet.Cells(i, 1) = srcWorkbook.Sheets(i).Name
    Next i
End Sub 
```

# jdedwards - 如何以日期格式过滤 JDE 对象浏览器的数据？

> ID：12382637
> 
> 赞同：1
> 
> 时间：2012-09-12T06:52:27.307
> 
> 标签：jdedwards, enterpriseone

我也是 JDE 和 JDE 数据浏览器的新用户。但据我所知，JDE 数据浏览器只能让我们为我们的数据创建一些过滤条件。

假设我希望获取某个日期范围内的数据（例如：2009 年 11 月 20 日至 2012 年 8 月 9 日）。

我应该在 JDE Data 浏览器上发表什么评论？还是JDE数据浏览器不支持这个功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-22T12:45:24.297

JDE 数据浏览器和 UTB 都具有该功能。只有当您的表中有两次该字段时，您才能实现此目的。它可以通过 SQL 来实现，但是您将不得不面对数据转换，因为 JDE 存储数据的方式与其显示的不同（日期以朱利安格式存储）。

所以你的问题的答案：你不能在数据浏览器的一列上查询日期范围。

解决方法：通过 SQL 查询，但您需要进行数据转换。

祝你有美好的一天

# c# - 将标签更改为文本框以进行编辑

> ID：12382639
> 
> 赞同：0
> 
> 时间：2012-09-12T06:52:39.427
> 
> 标签：c#, asp.net, sql

先看看这个例子， [点击这里](http://www.aspdotnet-suresh.com/2012/01/editupdatedelete-user-account-details.html)。我希望您只看到他在点击编辑后如何将标签更改为文本框的示例。我想制作编辑个人资料页面，但我不想使用绑定网格视图。是否有任何可能的方法从数据库中的表中检索一些数据以显示在标签中，然后当 uset 点击编辑按钮时，标签将更改为文本框？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T06:57:57.957

为什么需要显示标签？您可以在文本框中显示它并将 IsReadOnly 或 ReadOnly 设置为 true，将样式设置为 flat 并移除边框（它会显示为标签），然后在 Edit Action 上，您可以更改此 ReadOnly/Editable 属性。

# jquery - CSS 过渡等价于 jQuery fadeIn()、fadeOut()、fadeTo()

> ID：12382640
> 
> 赞同：4
> 
> 时间：2012-09-12T06:52:41.390
> 
> 标签：jquery, css, ios, mobile, transitions

我有这个

```
$('#button1').click(function(){

    $('#header_bg').fadeTo(15, 0, function()
    {
        document.getElementById('header_bg').style.fill = '#FF0000';
    }).fadeTo('slow', 1);

    $('#header_text1').fadeOut(250);

    $('#header_text2').fadeIn(250);

}); 
```

我正在尝试提高 jQuery 重网站的移动性能（在 iOS 上）。我读过 iOS 处理 CSS 转换比 jQuery 好得多。使这些 iOS 友好的最佳方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:15:32.623

我已经写了很多关于这个 ( [http://css3.bradshawenterprises.com](http://css3.bradshawenterprises.com) ) 的文章，但简而言之，您只需添加转换属性，然后更改属性。

因此，`$('#header_text1').fadeOut(250);`您将在 CSS 中使用，而不是 ：

```
-webkit-transition: opacity 250ms ease-in-out;
-moz-transition: opacity 250ms ease-in-out;
-o-transition: opacity 250ms ease-in-out;
transition: opacity 250ms ease-in-out; 
```

，然后在你的 JS 中，

```
$('#header_text1').css({'opacity', 0}); 
```

如果您想在动画发生时运行某些内容，则有一些用于触发的 transitionEnd 事件。

这是一种完全不同的方法，但人们试图通过以下几种方式在 JS 和 CSS 之间架起一座桥梁：

[http://playground.benbarnett.net/jquery-animate-enhanced/](http://playground.benbarnett.net/jquery-animate-enhanced/)是一个很好的链接。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-12T07:16:01.730

[演示](http://jsbin.com/uyisob/2/edit) 试试这个

```
@-webkit-keyframes fadein {
from { opacity: 0; }
to { opacity: 1; }
}

@-webkit-keyframes fadeout {
    from { opacity: 1; }
    to { opacity: 0; }
}
.in, .out {
        -webkit-animation-timing-function: ease-in-out;
        -webkit-animation-duration: 705ms;
        -moz-animation-timing-function: ease-in-out;
        -moz-animation-duration: 705ms;        
}

.fade.out {
        z-index: 0;
        -webkit-animation-name: fadeout;
        -moz-animation-name: fadeout;
}

.fade.in {
        opacity: 1;
        z-index: 10;
        -webkit-animation-name: fadein;
        -moz-animation-name: fadein;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T07:20:28.873

[CSS 过渡](http://www.w3.org/TR/css3-transitions/) 是您正在寻找的东西，

这是一个很好的演示，显示图像淡入淡出效果：[http ://cssnerd.com/2012/04/03/jquery-like-pure-css3-image-fade-in/](http://cssnerd.com/2012/04/03/jquery-like-pure-css3-image-fade-in/)

这是一些演示代码：

```
<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Demo</title>
        <script src="jquery.js"></script>
        <script>
            $(document).ready(function() {
                var change = true;
                $('#ba').click(function() {
                    if(change) {
                        $('#a').css('opacity', ' 0');
                        $('#b').css('opacity', '1');
                    } else {
                        $('#a').css('opacity', '1');
                        $('#b').css('opacity', '0');
                    }

                    change = !change;

                });
            });
        </script>
        <style>
            .fadeeffect {
                -webkit-transition: opacity 250ms ease-in-out;
                -moz-transition: opacity 250ms ease-in-out;
                -o-transition: opacity 250ms ease-in-out;
                transition: opacity 250ms ease-in-out;
            }               
        </style>
    </head>
    <body>

        <button type="button" id="ba" >
            Click Me!
        </button>

        <div>
            <p id="a"class="fadeeffect">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
            <p id="b" class="fadeeffect">
                eafdsaf dsa dgsf dgadg dfg dagfadgLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
        </div>
    </body>
</html> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-07-09T08:19:51.860

从 Rich Bradshaw 的回答中，jQuery 中带有回调的淡出实现将是：

```
// This function is an alternative to jquery fadeOut.
// jQuery fadeOut changes opacity gradually, forcing the browser to refresh the page each time.
// Using CSS transitions allows the browser to use GPU to render the page, which is much faster if the DOM is big.
jQuery.fn.fadeOut = function(callback) {
    let $selector = $(this[0]);
    $selector.addClass('fadeOut');
    $selector.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",
    function(e){
        $selector.off(e);
        $selector.removeClass('fadeOut');
        $selector.css('display', 'none');
        $selector.css('opacity', 1);     // Revert back opacity since element is not displayed anymore
        if(typeof callback === 'function')
            callback();
    });
    $selector.css('opacity',0);
} 
```

当然`.fadeOut`：

```
.fadeOut {
    -webkit-transition: opacity 1000ms ease-in-out;
    -moz-transition: opacity 1000ms ease-in-out;
    -o-transition: opacity 1000ms ease-in-out;
    transition: opacity 1000ms ease-in-out;
} 
```

然后您可以照常使用：

```
$('#div').fadeOut(function() { console.log('done!') }; 
```

使用淡入淡出也可以做到这一点。

# batch-file - 我似乎无法让这个字符串批量循环，我只能得到一行输出。

> ID：12382641
> 
> 赞同：2
> 
> 时间：2012-09-12T06:52:44.387
> 
> 标签：batch-file

到目前为止我的代码：

```
for /F "tokens=*" %%A in (#opm.txt) do set str=%%A
set str=%str:~0,3%
@echo.%str% > #tags.txt 
```

基本上，我有一个巨大的清单，我试图从中获取前三个字母，但是，我现在只能从清单中得到其中一个。例如：

“鹰”这个词在名单上。最终结果应该是 EAG（最好是大写）。

有小费吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:33:33.480

如果要在 for 循环中执行多个语句，则需要使用括号：

```
for /F "tokens=*" %%A in (#opm.txt) do ( 
    set str=%%A
    set str=%str:~0,3%
    @echo.%str% > #tags.txt
) 
```

请注意，左括号与 for ... do ... 语句位于同一行。在这种情况下，您需要使用延迟扩展来操作循环内的变量（这使得用感叹号括起来的变量被原地解析）：

```
@setlocal ENABLEDELAYEDEXPANSION

for /F "tokens=*" %%A in (#opm.txt) do ( 
    set str=%%A
    set str=!str:~0,3!
    @echo.!str! >> #tags.txt
)

@endlocal 
```

另请注意，重定向语法已从 更改`>`为`>>`。`#tags.txt`每次执行语句时，单括号重定向都会覆盖。双括号重定向在文件末尾附加行（您可能希望在循环之前确保文件为空）。

如果没有外部工具，批量替换字母的大写是相当复杂的。这不是一种文本处理友好的技术。您是否考虑过**使用 Python**？

# regex - VB 中用于多行匹配的正则表达式模式

> ID：12382643
> 
> 赞同：0
> 
> 时间：2012-09-12T06:52:54.603
> 
> 标签：regex, vb.net

我已经成功地在单行中获取信息。我有一个信息列表，例如：

1 1 838028476391 4 23 36 P 1/820-01 *

2 1 838028476490 4 23 36 P 1/820-17 *

3 1 838028474271 4 23 36 P 1/820-21 *

4 1 838028476292 4 23 36 P 1/820-21 *

5 1 838028474263 4 23 36 P 1/820-23 *

6 1 838028473802 4 23 36 P 1/820-21 *

我需要每行的 12 位数字。我试过这段代码：

```
 Dim re As String
  Dim re18 As String
  re18 = "(\d{12})"
  Dim r3 As New RegExp
  r3.Pattern = re18
  r3.IgnoreCase = True
  r3.MultiLine = True

 If r3.Test(Body) Then
    Dim m3 As MatchCollection
    Set m3 = r3.Execute(Body)
    If m3.Item(0).SubMatches.Count > 0 Then
        Dim number
        For j = 1 To m3.Count
            Set number = m3.Item(j - 1)
            MsgBox ("Number: " + number)
        Next
    End If
  End If 
```

我只得到第一场比赛——即使我调试 makro 并在手表中查看 m3——也只有一场比赛。我还尝试在 \d{12} 之后使用量词 * 或 +

如何让这个 RegEx 工作？

关于RegEx，我还有另一个问题：如果我想在一个特殊单词之后匹配某些东西，我会将这个单词放在模式的开头和后面的数字或任何我想要的东西。如果我执行这个正则表达式 - 我是否得到信息或匹配包括我放在模式开头的单词？！喜欢：“BUS \d{12}”，我只想要数字，但知道 BUS 位于数字之前......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T17:05:01.107

您需要使用该`Global`选项，而不是`Multiline`. `Multiline`更改锚点 (`^`和`$`) 的行为，使它们匹配每行的开头和结尾，而不仅仅是整个文本的开头和结尾。 `Global`是告诉它查找*所有*匹配项的选项，而不仅仅是第一个匹配项。

您可能也不需要使用 SubMatches 属性。您的正则表达式只有一个捕获组，它捕获整个匹配。这意味着`m3.SubMatches`将只包含一个项目，`Item(0)`，它将与 完全相同`m3.Item(0)`。（请注意，第一组的索引是`0`，`1`与使用其他正则表达式工具时所期望的不同。）

您的第二个问题是 SubMatches 属性的来源。如果您想查找单词“BUS”后面的每个 12 位数字，您可以使用如下的正则表达式：

```
BUS\s*(\d{12}) 
```

...你会像这样从每场比赛中检索号码：

```
Set m3 = r3.Execute(Body)
For Each myMatch in m3
  MsgBox("Number: " + m3.SubMatches(0).Value)
Next 
```

[**有关更多信息，请参阅此页面**](http://www.regular-expressions.info/vb.html)。

# java - 计算递归算法的时间复杂度。

> ID：12382644
> 
> 赞同：1
> 
> 时间：2012-09-12T06:52:58.223
> 
> 标签：java, algorithm, time-complexity

我刚刚开始解决 Topcoder 算法问题，并用 Java 为 SRM 466 Div 2 LotteryTicket 问题编写了这个算法。

由于我不擅长时间复杂度，所以如果有人可以向我解释如何逐步计算该算法的时间复杂度。

```
public static String buy1(int price,int...b){
    int sum=0; String stat="IMPOSSIBLE";

    for(int i=0;i<b.length;i++)
        sum=sum+b[i];

    if(sum==price)
        return "POSSIBLE";

    if(b.length>1){
        stat=buy1(price,Arrays.copyOfRange(b,0,b.length-1));
        stat=buy1(price,Arrays.copyOfRange(b,1,b.length));
    }

    return stat;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T12:29:49.763

对于您的情况，递归关系是 (let b.length() be bn)

```
 ___________buy1(p,bn-1) (as (b,0,b.length-1) equivalent is bn-1 in number )
                    /
    buy1(p,bn) ____/
                   \
                    \___________ buy1(p,bn-1)  (as (b,1,b.length) equivalent is bn-1 in number ) 
```

所以我们的问题 n = n-1 的两个子问题因此我们的时间函数 T(n) 如下

```
 T(n)=2T(n-1)+c (For convenience lets eliminate c as it is very less compared to T(n) for this instance )
   T(n)=2[2(T(n-2))]
   T(n)=2{2[2(T(n-3))]} ===> 2poweri(T(n-i))  -------- equation(1) 
```

递归在满足基本条件时结束。假设 T(0)=c(be base condition) 这意味着 t(ni)=t(0) 用于基本条件.so i=n

代入方程（1）中的 i 值，我们得到 2power(n){t(0)}

所以我们的时间函数值将是 2power(n) 并且我们的程序复杂度等于 bigoh(2power(n))

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:06:26.397

您可以使用**递归树方法和主方法**来查找复杂性。

查看[此](http://www.cs.cornell.edu/courses/cs3110/2012sp/lectures/lec20-master/lec20.html)内容以获取有关如何解决此问题的更多想法。

作为一个额外的练习，尝试使用它来计算归并排序的复杂性。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-12T11:20:49.543

有趣的问题。让我们正确计算它；）所以我们将检查条件（总和==价格）永远不会出现的最坏情况。

首先让我们检查 b.length = 1 时的复杂性。然后你应该在循环内只使用一个“=”操作：

```
for(int i=0;i<b.length;i++) 
```

和2里面的初始化：

```
int sum=0; String stat="IMPOSSIBLE"; 
```

下一步。让我们为 N 计算这个任务。首先你需要在循环中执行 N 个“=”操作，在初始化中执行 2 个操作，在 if 中执行 2 个操作。

```
 stat=buy1(price,Arrays.copyOfRange(b,0,b.length-1));
    stat=buy1(price,Arrays.copyOfRange(b,1,b.length)); 
```

另一个操作是在递归步骤中进行的。所以我们可以针对这种情况使用循环公式，它等于：

f(n) = 4 + n + 2*f(n-1), f(1) = 3

这个方程的解是：f(n) = -6+5 * 2^nn

所以你的算法的复杂性是指数级的。O(2^n) 我忽略了所有其他操作，除了“=”，因为它们不会改变渐近复杂度。

# java - 从 Microsoft CRM 2011 Online 检索多个帐户

> ID：12382645
> 
> 赞同：0
> 
> 时间：2012-09-12T06:53:02.360
> 
> 标签：java, dynamics-crm-2011

使用 Microsoft CRM 2011 在线并使用 web 服务，我在 Main.java 中使用由 webservices 调用创建的 OrganizationServiceStub 类的以下方法。检索到的记录的输出为 -1 有人可以帮我解决我的问题。我想检索名称以“Tel”开头的帐户而不提供帐户 ID。我可以看到数据存在于 CRM 中。谢谢

```
public static void getAccountDetails(OrganizationServiceStub service, ArrayOfstring fields)
{
    try{
    ArrayOfanyType aa = new ArrayOfanyType();   
    aa.setAnyType(new String[] {"Tel"});

    ConditionExpression condition1 = new ConditionExpression();
    condition1.setAttributeName("name");

    condition1.setOperator(ConditionOperator.BeginsWith);
    condition1.setValues(aa);

    ArrayOfConditionExpression ss = new ArrayOfConditionExpression();
    ss.setConditionExpression(new ConditionExpression[] {condition1});

    FilterExpression filter1 = new FilterExpression();
    filter1.setConditions(ss);

    QueryExpression query = new QueryExpression();
    query.setEntityName("account");

    ColumnSet cols = new ColumnSet();
    cols.setColumns(fields);
    query.setColumnSet(cols);

    query.setCriteria(filter1);

    RetrieveMultiple ll = new RetrieveMultiple();
    ll.setQuery(query);

    RetrieveMultipleResponse result1 = service.retrieveMultiple(ll);

    EntityCollection accounts = result1.getRetrieveMultipleResult();

    System.out.println(accounts.getTotalRecordCount());        
} 
catch (IOrganizationService_RetrieveMultiple_OrganizationServiceFaultFault_FaultMessage e) {
    logger.error(e.getMessage());
    e.printStackTrace();
} 
catch (RemoteException e) {
    logger.error(e.getMessage());
    e.printStackTrace();
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-16T09:17:07.000

对于 Java，包含此代码片段适用于上述问题

```
ArrayOfanyType aa = new ArrayOfanyType();   
aa.setAnyType(new String[] {"555"});
ConditionExpression condition1 = new ConditionExpression();

condition1.setAttributeName("telephone1");

condition1.setOperator(ConditionOperator.BeginsWith);
condition1.setValues(aa);

ArrayOfConditionExpression ss = new ArrayOfConditionExpression();
ss.setConditionExpression(new ConditionExpression[] {condition1});

FilterExpression filter1 = new FilterExpression();
filter1.setConditions(ss);

QueryExpression query = new QueryExpression();
query.setEntityName("account");

PagingInfo pagingInfo = new PagingInfo();
pagingInfo.setReturnTotalRecordCount(true);

query.setPageInfo(pagingInfo);

OrganizationServiceStub.ColumnSet colSet = new OrganizationServiceStub.ColumnSet();
OrganizationServiceStub.ArrayOfstring cols = new OrganizationServiceStub.ArrayOfstring();

cols.setString(new String[]{"name", "telephone1", "address1_city"});

colSet.setColumns(cols);

query.setColumnSet(colSet);
query.setCriteria(filter1);

RetrieveMultiple ll = new RetrieveMultiple();
ll.setQuery(query);

OrganizationServiceStub.RetrieveMultipleResponse response = serviceStub.retrieveMultiple(ll);
EntityCollection result = response.getRetrieveMultipleResult();
ArrayOfEntity attributes = result.getEntities();

Entity[] keyValuePairs = attributes.getEntity();

for (int i = 0; i < keyValuePairs.length; i++) {
    OrganizationServiceStub.KeyValuePairOfstringanyType[] keyValuePairss = keyValuePairs[i].getAttributes().getKeyValuePairOfstringanyType();
    for (int j = 0; j < keyValuePairss.length; j++) {
         System.out.print(keyValuePairss[j].getKey() + ": ");
         System.out.println(keyValuePairss[j].getValue());
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T13:28:26.807

不确定您的`EntityCollection`对象与 SDK 中的 .Net 版本有多相似，但是您需要`ReturnTotalRecordCount`在 .Net 中的查询的 PagingInfo 中指定该`TotalRecordCount`属性才能具有值。你不能改为检查`accounts.Entities.Count`吗？

注意：我也不是 Java 人...

# iphone - NSMutableString 附加不起作用

> ID：12382654
> 
> 赞同：-1
> 
> 时间：2012-09-12T06:53:31.190
> 
> 标签：iphone, objective-c, xcode4.2

> **可能重复：**
> [Objective-C：如何将字符串附加到 NSMutableString？](https://stackoverflow.com/questions/1614481/objective-c-how-do-you-append-a-string-to-an-nsmutablestring)

我有一个 NSMutableArray。我想提取这个 NSMutable 数组的所有元素并将其附加到一个字符串中。我的以下代码不起作用。字符串不附加到变量。我也在这个项目中使用自动引用计数功能。

```
NSMutableString *theString = [NSMutableString string];

for(int i=0; i<[self.incomingMessages count]; i++) {
      id object = [self.incomingMessages objectAtIndex: i];
      [theString appendString:(NSString*)object];
}

NSLog(@"the appended string: %@", theString);
[self.incomingMessages removeAllObjects]; 
```

如何将存储的字符串附加到 theString 变量中。我犯了什么错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T06:58:17.297

做这个

```
 NSMutableString *theString = [[NSMutableString alloc]init ]; 
```

尝试打印并查看您的**对象**是否为字符串

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-12T09:58:48.560

也许你需要`theString`像这样初始化你的？

```
NSMutableString *theString = [NSMutableString stringWithString:@""]; 
```

# sass - SASS 只适用于一种风格

> ID：12382656
> 
> 赞同：0
> 
> 时间：2012-09-12T06:53:35.213
> 
> 标签：sass

有没有办法有这样的东西：

```
.class1, .class2 {
    background: green;

    :not(.class1) {
        //Only apply to .class2
        background: red;
    }
} 
```

编译为

```
.class1, .class2 { background: green; }
.class2 { background: red; } 
```

我试图不让 .class2 在其他地方有自己独立的风格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:01:39.987

不，只有使用嵌套的 Sass 才能包含，而不是排他。你看过@extend 指令吗？

```
%common-styles {
    border: 1px solid;
}

.class1 {
    @extend %common-styles;
    background: green;
}

.class2 {
    @extend %common-styles;
    background: red;
} 
```

会编译成这个（不确定这里的确切顺序，目前没有可用的 Sass）：

```
.class1 { background: green }
.class2 { background: red }
.class1, .class2 { border: 1px solid } 
```

显然不是您正在寻找的解决方案，但它是您通常在 Sass 中采用的方法。您是否有理由不能将独特的 .class2 样式与其他样式保持一致？

```
.class1, .class2 {
    background: green;
}

.class2 {
    background: red;
} 
```

或者，您可以这样做：

```
.class2 {
    background: red !important;

    &, .class1 {
        background: green;
    }
} 
```

# magento - Magento：多家商店一一上线

> ID：12382660
> 
> 赞同：0
> 
> 时间：2012-09-12T06:53:45.323
> 
> 标签：magento, magento-1.7

我在一个 magento 安装中开发了 9 个多个网站/商店。在 DEV 服务器上，它已准备就绪并且运行良好。现在我的客户想在下个月推出前三个网站，然后我们将根据前三个网站的反馈对其他网站进行一些修改。然后一一启动其他网站。

我担心的一件事是我们如何进行修改和进一步开发。因为 magento 文件和 db 是一个安装，如果我们启动前三个，这意味着我们正在启动整个系统，如果我们让 DEV 在实时站点中工作，那就不好了，因为如果有任何故障等，实时站点将会关闭。

在magento中逐个启动多个商店的最佳且合乎逻辑的程序是什么。对于这种情况，我们可以采用什么方法。

请帮忙，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T08:54:32.333

To my eyes, the fact that you have 9 different websites/stores running off the install is of minor importance. You will encounter the same issues that any dev / live Magento set-up will encounter. At the point the site launches you will need to create a second copy of your database / code for use as a development environment. With regards to the code, I would hope that you are using some kind of VCS such as Git or SVN, if you aren't you should seriously consider it.

The database is the slightly trickier side of things. It is also going to be the issue exacerbated by the fact you have 9 different websites, since you will have a lot of different configurations. There will likely be 3 different types of configuration changes to be made.

1.) A setting that needs changing for the live websites. 2.) A setting that needs changing for a future website to be launched. 3.) A setting that needs changing in order to make your development site work.

The 3rd type is the easiest to deal with. You can simply change them in the database and forget about them. These will include things like setting the base_url values in core_config_data.

The 2nd type should ideally be made with migrations rather than through the UI. If you are using Source Control these migrations would be kept in a branch that will get merged into your master branch at the point you wish to launch the website they effect (at the point the code is merged, you may have to do some tinkering with the version numbers based on how you deal with type 1.

The 1st type can be handled in one of two ways, a migration is a favourable option as it means all installs of you code dev / staging / live can be kept in sync. If needs be, simply ensuring you update your dev database at the same time as the live one, would suffice.

Some of the things you need to change won't necessarily be the easiest things to achieve through migrations, but doing so should prevent any errors from arising whereby you forget to update a single value on one of your servers.

# facebook - 使用 Graph API 从 Facebook 获取公开帖子

> ID：12382668
> 
> 赞同：0
> 
> 时间：2012-09-12T06:54:20.487
> 
> 标签：facebook, facebook-graph-api

我试图获取我对 Facebook 页面所做的帖子的评论，但它返回一个空的 JSON。

我试过这个网址：[https ://graph.facebook.com/514371788579576_526801224003299/comments](https://graph.facebook.com/514371788579576_526801224003299/comments)

之后，我尝试使用我的应用程序中的额外访问令牌参数，但它也没有工作......

知道为什么它返回一个空的 JSON 数组吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T21:02:01.887

您可以使用 FQL 评论表来获取评论。

```
select text from comment where object_id = <POST_ID> and fromid = me() 
```

# google-places-api - google 放置 api 60 多个结果

> ID：12382669
> 
> 赞同：2
> 
> 时间：2012-09-12T06:54:26.010
> 
> 标签：google-places-api, next

我正在使用地点文本搜索 api 来定位城市中的品牌商店。但一个城市有60多家这些品牌的商店。但是通过 google places api 我只得到 60 个结果，我可以使用 pagination method(page_token) 获得。 **是否可以使用 google places api 访问 60 多个结果。**

API:: 第一个请求：https://maps.googleapis.com/maps/api/place/textsearch/json?query=pizza+hut+in+bangalore&sensor=true&key=

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2018-03-06T15:29:52.287

在 Places API 中无法获得超过 60 个结果。有些人试图在 Google 问题跟踪器中提交功能请求，但 Google 拒绝了它并给出以下评论

**不幸的是，Places API 无法返回超过 60 个结果。除了技术原因（延迟等）之外，返回 60 多个结果会使 API 更像一个数据库或通用搜索引擎。我们宁愿提高搜索质量，这样用户就不需要在很长的结果列表中走得太远。**

[https://issuetracker.google.com/issues/35826799](https://issuetracker.google.com/issues/35826799)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:21:44.460

无法访问超过 60 个结果。如果您认为这是一项有用的功能，请提交[Places API - 功能请求](http://code.google.com/p/gmaps-api-issues/issues/entry?template=Places%20API%20-%20Feature%20Request)。

# android - 从android中的通话记录中删除已接听的来电

> ID：12382672
> 
> 赞同：2
> 
> 时间：2012-09-12T06:54:38.493
> 
> 标签：android

我正在使用广播接收器接收 phone_states 并检查任何呼叫（呼出/呼入）正在更改其状态`EXTRA_STATE_IDLE`，然后从通话记录中删除通话信息。据我所知，android手机状态是：

1.  `EXTRA_STATE_RINGING`
2.  `EXTRA_STATE_OFFHOOK`
3.  `EXTRA_STATE_IDLE`

我知道来电：

1.  接到来电时 -> `EXTRA_STATE_RINGING`=> `EXTRA_STATE_OFFHOOK`（接听电话后）=> `EXTRA_STATE_IDLE`（结束通话后）
2.  当来电被切断时 -> `EXTRA_STATE_RINGING`=> `EXTRA_STATE_IDLE`（结束通话后）

所以，实际上我正在清除电话状态时的通话记录历史记录`EXTRA_STATE_IDLE`。但在这个策略中，我能够清除 2\. 场景的日志历史记录，但无法清除 1\. 场景。

这是我的代码::

```
String state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);

if (state.equals(TelephonyManager.EXTRA_STATE_RINGING)){              
              Toast.makeText(context, "ringing", 20).show();

              SharedPreferences statePreference=context.getApplicationContext().getSharedPreferences("RingCallState", 0);
              SharedPreferences.Editor editor=statePreference.edit();
              editor.putBoolean("State", true);
              editor.commit();

              context.startActivity(i);
          }

          else if (state.equals(TelephonyManager.EXTRA_STATE_OFFHOOK)) {

              Toast.makeText(context, "off hook", 20).show();

              SharedPreferences statePreference=context.getApplicationContext().getSharedPreferences("RingCallState", 0);

              Log.d("statePref OFFHOOK", "state :: "+statePreference.getBoolean("State", false));

              if(!statePreference.getBoolean("State", false)) {

                  SharedPreferences out_statePreference=context.getApplicationContext().getSharedPreferences("OutCallState", 0);
                  SharedPreferences.Editor out_editor=out_statePreference.edit();
                  out_editor.putBoolean("OutState", true);
                  out_editor.commit();

              }                 
          }

          else if(state.equals(TelephonyManager.EXTRA_STATE_IDLE)){
              Toast.makeText(context, "idle", 20).show();

              SharedPreferences statePreference=context.getApplicationContext().getSharedPreferences("RingCallState", 0);

              Log.d("statePref IDLE", "state :: "+statePreference.getBoolean("State", false));

              if(statePreference.getBoolean("State", false))
                {                       
                    SharedPreferences.Editor editor=statePreference.edit();
                    editor.putBoolean("State", false);
                    editor.commit();

                    Log.d("in", "in coming :: "+incomingNumber);

                    new Handler().postDelayed(new Runnable() {
                          public void run() {
                              clearLastCallLog(context, incomingNumber);
                          }
                      }, 4000);

                }

                SharedPreferences out_statePreference=context.getApplicationContext().getSharedPreferences("OutCallState", 0);
                if(out_statePreference.getBoolean("OutState", false))
                {
                    SharedPreferences.Editor out_editor=out_statePreference.edit();
                    out_editor.putBoolean("OutState", false);
                    out_editor.commit();

                    Log.d("out", "out going :: "+outgoingNumber);

                    new Handler().postDelayed(new Runnable() {
                          public void run() {
                              clearLastCallLog(context, outgoingNumber);
                          }
                      }, 4000);
                }

          } 
```

我错过了什么......任何人都可以解释处理接听的来电有什么办法吗？有什么建议请...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:07:04.503

您可以将状态（int 值）保持为呼叫状态，一旦呼叫响铃（RINGING）将其设为 1，如果呼叫被应答（OFFHOOK）将其设为 2，如果呼叫结束（IDLE）将其设为 3。现在，每当任何一个案例触发时，都会检查最后一次通话状态，这样您就可以轻松跟踪您的 2 个场景。请记住，一旦任何通话结束并完成，请将通话状态重置为 0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:09:58.663

这是一种hack，我以前从未尝试过，但您可以尝试一下。

让我们取变量：

```
boolean isIdle=true;
boolean isOffhook=false; 
```

现在，当您进入电话处于“摘机状态”的情况时：

那里：

```
if(isIdle==true)
    isIdle=false;

isOffhook=true; 
```

现在，手机状态为“空闲”：

在开头添加这些代码：

```
if(isIdle==false && isOffhook==true){
    // case :there has been a call
    String lastCall=<get the type of call of last call,from call log of phone>; //incoming or outgoing

    if(lastCall=="incoming"){
       // last call was answered incoming call
    }
    isOffhook=false;
}
isIdle=true; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-14T12:44:59.213

解决了。虽然晚了，但它可以帮助任何人。问题是每次电话状态改变时都会调用`BroadcastReceiver`'s ，但意图会给出,的传入号码。因此，当接到电话时，来电号码变为空。`onReceive(Context context, Intent intent)``EXTRA_STATE_RINGING``EXTRA_STATE_IDLE but not for EXTRA_STATE_OFFHOOK`

# c# - C# ping 另一个 mac

> ID：12382677
> 
> 赞同：0
> 
> 时间：2012-09-12T06:55:12.420
> 
> 标签：c#

我试过这样做，但由于我是 C# 编码的新手，所以我收到了很多错误。

我的实际目的是我想 ping 一个不断从温度传感器接收数据的静态 ip。我想从家里查看数据并保存数据。

```
 using System;
    using System.Net;
    using System.Net.Sockets;

    public class Pinger
    {

        public static int GetPingTime(string host)
        {

            int dwStart = 0, dwStop = 0;

            // Create a raw socket.
            Socket socket = new Socket(AddressFamily.InterNetwork,
              SocketType.Raw, ProtocolType.Icmp);

            // Get the server IPEndPoint, and convert it to an EndPoint.
            IPHostEntry serverHE = Dns.GetHostByName(host);
            IPEndPoint ipepServer = new IPEndPoint(serverHE.AddressList[0], 0);
            EndPoint epServer = (ipepServer);

            // Set the receiving endpoint to the client machine.
            IPHostEntry fromHE = Dns.GetHostByName(Dns.GetHostName());
            IPEndPoint ipEndPointFrom = new IPEndPoint(fromHE.AddressList[0], 0);
            EndPoint EndPointFrom = (ipEndPointFrom);

            // Construct the packet to send.
            int PacketSize = 0;
            IcmpPacket packet = new IcmpPacket();
            for (int j = 0; j < 1; j++)
            {
                packet.Type = ICMP_ECHO;
                packet.SubCode = 0;
                packet.CheckSum = UInt16.Parse("0");
                packet.Identifier = UInt16.Parse("45");
                packet.SequenceNumber = UInt16.Parse("0");

                int PingData = 32;
                packet.Data = new Byte[PingData];

                for (int i = 0; i < PingData; i++)
                    packet.Data[i] = (byte)'#';

                PacketSize = PingData + 8;

                Byte[] icmp_pkt_buffer = new Byte[PacketSize];
                int index = 0;
                index = Serialize(packet, icmp_pkt_buffer, PacketSize, PingData);

                // Calculate the checksum for the packet.
                double double_length = Convert.ToDouble(index);
                double dtemp = Math.Ceiling(double_length / 2);
                int cksum_buffer_length = Convert.ToInt32(dtemp);
                UInt16[] cksum_buffer = new UInt16[cksum_buffer_length];
                int icmp_header_buffer_index = 0;

                for (int i = 0; i < cksum_buffer_length; i++)
                {
                    cksum_buffer[i] = BitConverter.ToUInt16(icmp_pkt_buffer,
                      icmp_header_buffer_index);
                    icmp_header_buffer_index += 2;
                }

                UInt16 u_cksum = CheckSum(cksum_buffer, cksum_buffer_length);
                packet.CheckSum = u_cksum;

                // Now that we have the checksum, serialize the packet again.
                byte[] sendbuf = new byte[PacketSize];
                index = Serialize(packet, sendbuf, PacketSize, PingData);

                // Start timing.
                dwStart = System.Environment.TickCount;
                socket.SendTo(sendbuf, PacketSize, 0, epServer);

                // Receive the response, and then stop timing.
                byte[] ReceiveBuffer = new byte[256];
                socket.ReceiveFrom(ReceiveBuffer, 256, 0, ref EndPointFrom);
                dwStop = System.Environment.TickCount - dwStart;
            }

            // Clean up and return the calculated ping time in seconds
            socket.Close();
            return (int)dwStop;
        }

        private static int Serialize(IcmpPacket packet, byte[] buffer,
          int packetSize, int pingData)
        {

            // (Private method for serializing the packet omitted.)
        }

        private static UInt16 CheckSum(UInt16[] buffer, int size)
        {

            // (Private method for calculating the checksum omitted.)

    }
    public class PingTest
{

    private static void Main()
    {

       int GetPingMS(string hostNameOrAddress);

    System.Net.NetworkInformation.Ping ping = new System.Net.NetworkInformation.Ping();
    return Convert.ToInt32(ping.SendAddress.RoundtripTime);

// How to call this function (IP Address).
MessageBox.Show ( GetPingMs("122.198.1.1"));

    }

    } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-31T13:01:49.517

使用此示例，因为 Microsoft 的示例尚未准备好供您使用...

[http://www.codeplanet.eu/tutorials/csharp/4-tcp-ip-socket-programmierung-in-csharp.html?start=4](http://www.codeplanet.eu/tutorials/csharp/4-tcp-ip-socket-programmierung-in-csharp.html?start=4)

在这个“德语”教程中是可用于发送 IP 的完整代码。

```
packet.Type = ICMP_ECHO;  --> ICMP_ECHO must be set with a number (8) manual
{
    private static int Serialize(IcmpPacket packet, byte[] buffer, int packetSize, int pingData)
            {
                // (Private method for serializing the packet omitted.)
            }
            private static UInt16 CheckSum(UInt16[] buffer, int size)
            {
                // (Private method for calculating the checksum omitted.)
        }
}
<--mustbe create by your own 
    private static void Main()
        {
           int GetPingMS(string hostNameOrAddress);
        System.Net.NetworkInformation.Ping ping = new System.Net.NetworkInformation.Ping();
        return Convert.ToInt32(ping.SendAddress.RoundtripTime);
    // How to call this function (IP Address).
    MessageBox.Show ( GetPingMs("122.198.1.1"));
        } 
```

我认为您永远不会到达此消息框，因为您使用“return Convert.ToInt32(ping.SendAddress.RoundtripTime);”跳转

在返回之前设置消息框..

# jquery - 如何将 json 响应从控制器发送到 jQuery 并检查它？

> ID：12382680
> 
> 赞同：2
> 
> 时间：2012-09-12T06:55:20.550
> 
> 标签：jquery, ruby-on-rails, json, response

我有这个问题：我正在控制器中检查用户电子邮件并成功发送 json 响应，如果它已经被占用并添加输入的 css 样式，我还需要阻止提交并添加一些消息。

这是我的检查电子邮件操作（使用这篇文章 - [http://paydrotalks.com/posts/45-standard-json-response-for-rails-and-jquery](http://paydrotalks.com/posts/45-standard-json-response-for-rails-and-jquery)）：

```
def checkemail
  if !User.where('email = ?', params[:email]).empty?
    format.jsonr do
      render :json => { 
        :status => :ok, 
        :message => "Success!",
      }.to_json
    end
  end
end 
```

在我的路线中：

```
 checkemail GET    /checkemail(.:format)

          match "/checkemail", to: 'edit_user#checkemail' 
```

和我的 jQuery：

```
 $('#user_email').focusout(function() {
    $.getJSON('/checkemail', { email: $('#user_email').val() }, function(data) {
        $('#user_email').addClass("error");
      });
   }); 
```

我的 HTML 输入代码：

```
 <input id="user_email" name="user[email]" size="30" type="email" value=""> 
```

来自 mime_type 初始化程序文件：

```
 Mime::Type.register_alias "application/json", :jsonr, %w( text/x-json ) 
```

**从提琴手：**

```
 Request : GET /checkemail?user@mail.com HTTP/2.0

  Response(RAW tab) : 
  Missing template edit_user/checkemail

  JSON tab is empty 
```

**问题：如何检查是否发送了 json 请求？如何防止提交表单并添加一些消息？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T08:19:06.660

为什么`format.jsonr`？对我来说似乎是一个错字。

# apache - Magento-Varnish 最佳 VCL 配置

> ID：12382683
> 
> 赞同：1
> 
> 时间：2012-09-12T06:55:32.687
> 
> 标签：apache, magento, varnish, varnish-vcl

我已经为 Magento 安装安装了带有 Apache 网络服务器的 Varnish 加速器。任何机构都可以为此建议最好的 default.vcl (/etc/varnish/default.vcl) 配置吗？任何帮助表示赞赏。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T10:39:13.283

显然你没有谷歌这个，至少在你来之前自己寻找解决方案。

当我用谷歌搜索“Magento Varnish”时，我想出了第一个链接，它是一个免费扩展，包含您需要的 default.vcl 文件：http: [//www.magentocommerce.com/magento-connect/pagecache-powered-by-清漆.html](http://www.magentocommerce.com/magento-connect/pagecache-powered-by-varnish.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-10-07T15:05:02.503

如果谷歌仍然在这里指导你：

Magento 现在确实在其 GIT 存储库的深处提供了一个默认的 VCL 文件。

对于清漆 4.x [https://github.com/magento/magento2/blob/2.3/app/code/Magento/PageCache/etc/varnish4.vcl](https://github.com/magento/magento2/blob/2.3/app/code/Magento/PageCache/etc/varnish4.vcl)

对于清漆 5.x [https://github.com/magento/magento2/blob/2.3/app/code/Magento/PageCache/etc/varnish5.vcl](https://github.com/magento/magento2/blob/2.3/app/code/Magento/PageCache/etc/varnish5.vcl)

对于清漆 6.x [https://github.com/magento/magento2/blob/777b0b0a0950b819991fda239793c91c966254be/app/code/Magento/PageCache/etc/varnish6.vcl](https://github.com/magento/magento2/blob/777b0b0a0950b819991fda239793c91c966254be/app/code/Magento/PageCache/etc/varnish6.vcl)

# java - 如何映射地图 使用 JPA？

> ID：12382688
> 
> 赞同：1
> 
> 时间：2012-09-12T06:55:40.943
> 
> 标签：java, hibernate, jpa, orm, mapping

假设我有一个具有以下字段的域对象：

```
private Map<StatType, Double> maxValues = new HashMap<StatType, Double>(); 
```

`StatType`是一个 Java 枚举。

如何使用 JPA 映射它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T07:58:13.473

另一篇可能有帮助的帖子：[Storing a Map<String,String> using JPA](https://stackoverflow.com/questions/3393649/storing-a-mapstring-string-using-jpa)。这解决了表内列到列的映射。如果您真的想将 a 存储`Map`在单个列中，我想唯一可能的解决方案是将其存储为[@Lob](http://docs.oracle.com/javaee/6/api/javax/persistence/Lob.html)。不过，在 Hibernate 中描述了这一点的另一篇 SO 帖子：[How to persist a HashMap with hibernate](https://stackoverflow.com/questions/4700150/how-to-persist-a-hashmap-with-hibernate)

# python - 在 Python 中只允许字母字符？

> ID：12382696
> 
> 赞同：0
> 
> 时间：2012-09-12T06:56:37.823
> 
> 标签：python, validation, character

我正在编写一个程序，其中一部分需要输入名称。名称只能是字母和空格（例如 John Smith），不能是 John Smith1 如果输入了无效字符，我需要程序显示错误消息并重新提问。除了验证，我什么都有。我猜它是这样的？

```
name = str(input("What is the customers name? "))
while True:
    if ??????????????????? :
        print("You have entered an invalid character. Enter only name."
        name = str(input("What is the customers name? "))
    else:
          break 
```

有人可以填写`?????`s 以使程序正常工作吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T06:59:08.847

试试[`isalpha()`](http://docs.python.org/library/stdtypes.html#str.isalpha)字符串的方法。

由于此人将输入带有空格的姓名，因此您有两种选择：

1.  按空格分割输入（使用[`split()`](http://docs.python.org/library/stdtypes.html#str.split)）
2.  利用`string.letters`

例如：

```
 >>> import string
   >>> string.letters
   'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ' 
```

将其与 a 相结合`' '`以获得允许的字符列表。由于这是家庭作业，其余的由您决定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T08:29:01.230

您可以使用`replace`字符串的方法来摆脱空格，然后使用该`isalpha()`方法。

一个例子：

```
>>> def get_name():
...     name = raw_input('name: ')    # use a simple "input" in python3
...     if not name.replace(' ', '').isalpha():
...             print('Bad name!!!')
...     else:
...             print('Good name!')
... 
>>> get_name()
name: My name
Good name!
>>> get_name()
name: Bad Nam3
Bad name!!!
>>> get_name()
name: Jon Skeet
Good name! 
```

请注意，这也适用于 python3 中的非 ascii 字母：

```
#python3
>>> get_name()
name: Accented è
Good name!
>>> get_name()
name: Bad Nam3
Bad name!!! 
```

正则表达式对于这个简单的任务来说太复杂了。也因为使用`[A-Za-z ]+`或类似不会匹配具有非 ASCII 字母的名称。并使用`\w`包括数字。

如果您不想匹配非 ASCII 字母（例如“è”），那么您可以尝试以下操作：

```
>>> def get_name():
...     name = raw_input('name: ')   #input in python3
...     try:
...             name.encode('ascii')
...     except UnicodeDecodeError:
...             print('Bad name!!!')
...             return
...     if not name.replace(' ', '').isalpha():
...             print('Bad name!!!')
...     else:
...             print('Good name!')
... 
>>> get_name()
name: Accented è
Bad name!!!
>>> get_name()
name: The nam3
Bad name!!!
>>> get_name()
name: Guido Van Rossum
Good name! 
```

最后，另一种检查方法是：

```
>>> import string
>>> def good_name(name):
...     return not set(name).difference(string.letters + ' ')
... 
>>> good_name('Guivo Van Rossum')
True
>>> good_name('Bad Nam3')
False 
```

你可以这样使用它：

```
name = raw_input('name: ')   #input in python3
if good_name(name):
   #stuff for valid names
else:
   #stuff for invalid names 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T07:00:57.777

您可能想研究[正则表达式](http://docs.python.org/library/re.html#re.match)：

```
^[A-Za-z ]*$ 
```

是一个正则表达式，仅匹配完全由 ASCII 字母和空格组成的字符串。

还允许您当前语言环境的字母：

```
^[^\W\d_]*$ 
```

这基本上是一组字母数字字符，包括重音字符（在当前语言环境中）减去数字和下划线。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T07:03:09.677

使用正则表达式，例如`[A-Za-z ]+`

如果我使用 Tim 的表达方式，它会变成这样：

```
match = re.match(r'^[A-Za-z ]*$', name )
if match :
    print("Correct name");
else:
    print("Invalid chars"); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-12T07:00:59.630

要检查 alpha 的字符串，我通常使用这个。希望这可以帮到你。

```
import re
def is_alpha_space(name):
    name_nospace = ''.join((name.split()))
    if re.search(r"\W", name_nospace) or len(name_nospace) < 1:
        return False
    return True
name = "Mark Zumkoff"
print(is_alpha_space(name))  # True
name = "Mark Zumkoff@"
print(is_alpha_space(name))  # False
name = "    "
print(is_alpha_space(name))  # False 
```

# iphone - 无法将超过 6 - 7 分钟的视频上传到 iOS 中的服务器

> ID：12382697
> 
> 赞同：1
> 
> 时间：2012-09-12T06:56:38.440
> 
> 标签：iphone, objective-c, ios, video, asihttprequest

我正在尝试使用网络服务将大文件从我的应用程序上传到网络服务器。

我正在将视频读入一个`NSData`实例并将其转换为 base64 编码的字符串。然后我将字符串传递给 web 服务。我什至尝试在上传时将视频质量降为低，但我无法在服务器上上传超过 5 分钟的视频，服务器停止响应。

当我检查来自服务器的编码数据时，它没有完全接收到它。我认为文件的大小太大以至于无法正确发送。下面是我的一些代码。我尝试了许多帖子中提到的许多选项，但仍然无法根据客户的要求正确上传视频。我已成功上传长达 4 到 5 分钟的低质量视频，但无法上传大视频。请帮帮我。

```
NSData *videoData = [NSData dataWithContentsOfURL:urlVideo];
pictureDataString = [videoData base64Encoding];

----other code 

xml = [xml stringByAppendingString:[NSString stringWithFormat:@"<BinaryData>%@</BinaryData>",pictureDataString]]; 

...other code 
```

生成我的整个 xml 后，我使用以下代码：

```
url = [NSURL URLWithString:@UploadMemory];

serviceRequest = [ASIHTTPRequest requestWithURL:url];
[serviceRequest setShouldStreamPostDataFromDisk:YES];
[serviceRequest addRequestHeader:@"Content-Type" value:@"text/xml"];
[serviceRequest appendPostData:[xml dataUsingEncoding:NSUTF8StringEncoding]];
[serviceRequest setTimeOutSeconds:86400];
[serviceRequest setDelegate:self];
[serviceRequest startAsynchronous]; 
```

我什至尝试将`NSData`实例拆分为多个部分并将单独的 XML 文件发送到服务器，这样我就可以节省时间并能够将大型视频文件上传到服务器，但我仍然无法成功。

将数据编码为 base64 需要很长时间，因此我无法拆分编码的字符串以便将多个 xml 发送到服务器。请提出一个更好的方法来做到这一点。

如果有人可以告诉我如何在 iOS 中读取二进制格式的数据文件，那么我还有一个选择，这样我就可以读取二进制拆分的视频文件，`NSData`然后将其转换为 base64encoding 以便可以工作。

非常感谢 ....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-13T16:17:08.603

你有没有机会在主线程上进行编码？如果是这样，iOS 上的看门狗计时器可能会在给定时间后确定您的应用程序已崩溃并启动您的进程。如果是这种情况，您需要在后台进程中进行编码。

# iphone - 图像质量较低不像在相册中显示

> ID：12382699
> 
> 赞同：3
> 
> 时间：2012-09-12T06:56:50.583
> 
> 标签：iphone, ios, uiimageview, camera, photolibrary

嗨，我是 iOS 新手。

我正在开发一个应用程序，它包含照片编辑功能。为此，我可以从照片库中挑选照片。我可以成功地挑选照片并将其放在 UIImageView 中。但我觉得它不是那么好。它与在相册中显示和在 UIImageView 中显示有很多不同。

我希望像显示在相册中一样显示它。我怎样才能做到这一点？

请指导我。

```
- (void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    // Access the uncropped image from info dictionary
    UIImage *originalImage = [info objectForKey:@"UIImagePickerControllerOriginalImage"];
    NSLog(@"size of originalImage is %@",NSStringFromCGSize(originalImage.size));
    editingPhotoImgVw.frame = CGRectMake(0, 0, 320,self.view.frame.size.height);
    editingPhotoImgVw.image =originalImage;
    [editingPhotoImgVw setContentMode:UIViewContentModeScaleAspectFit];
    [self.view addSubview:editingPhotoImgVw];
    [self dismissModalViewControllerAnimated:YES];
    [picker release];

} 
```

在相册中显示![在此处输入图像描述](../Images/9e7631a1f4a060d6b97eef63518dd312.png)

在应用程序中显示 ![在此处输入图像描述](../Images/67d809d26d2dbae410d185c5bab421ef.png)

更改后*[editingPhotoImgVw setContentMode:UIViewContentModeScaleAspectFit];* 进入*[editingPhotoImgVw setContentMode:UIViewContentModeScaleToFill];* 根据 iSanjay 的评论 ![在此处输入图像描述](../Images/7247ebf8fbdd00eec3f8e0def4ae431f.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:04:37.357

您正在使用图像内容模式，例如

```
[editingPhotoImgVw setContentMode:UIViewContentModeScaleAspectFit]; 
```

而不是这个尝试

```
[editingPhotoImgVw setContentMode:UIViewContentModeScaleToFill]; 
```

做这个 。

# sql-server-2008 - <在sql server中转换为<

> ID：12382703
> 
> 赞同：2
> 
> 时间：2012-09-12T06:57:10.367
> 
> 标签：sql-server-2008

我的表中有一些数据

当我使用此查询选择该数据时

```
select TblActionHistories.Comments from TblActionHistories WHERE TblActionHistories.Entity=CAST('Task' AS VARCHAR) AND EntityId=CAST(32 AS VARCHAR) 
```

一切都会好起来的

```
Task- <b>T1</b> has been added by Swapnil Sharma
Task- <b>T1</b> status changed to <b>In Progress</b> by Swapnil Sharma<br/> 
```

但现在我想要我上面的结果#分隔使用`stuff`所以我正在使用这个

```
SELECT STUFF((SELECT '#' + ISNULL(CAST(TblActionHistories.Comments AS VARCHAR(MAX)),'') FROM TblActionHistories WHERE TblActionHistories.Entity=CAST('Task' AS VARCHAR) AND EntityId=CAST(32 AS VARCHAR) for xml path ('')),1,1,'') 
```

它给了我这个

```
Task- &lt;b&gt;T1&lt;/b&gt; has been added by Swapnil Sharma#Task- &lt;b&gt;T1&lt;/b&gt; status changed to &lt;b&gt;In Progress&lt;/b&gt; by Swapnil Sharma&lt;br/&gt; 
```

您可以清楚地看到所有特殊字符。`&lt; &gt;`像<>分别转换成

请帮我解决这个问题，我希望他们以原始格式出现

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:18:16.720

好吧，我找到了 IvanG 建议的解决方案

```
SELECT STUFF((SELECT '#' + ISNULL(CAST(TblActionHistories.Comments AS VARCHAR(MAX)),'') FROM TblActionHistories WHERE TblActionHistories.Entity=CAST('Task' AS VARCHAR) AND EntityId=CAST(32 AS VARCHAR) for xml path(''), root('MyString'), type ).value('/MyString[1]','varchar(max)') ,1,1,'') 
```

参考。到这篇文章

[http://blogs.lobsterpot.com.au/2010/04/15/handling-special-characters-with-for-xml-path/](http://blogs.lobsterpot.com.au/2010/04/15/handling-special-characters-with-for-xml-path/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-12T07:14:24.713

尝试转换为 NVARCHAR 而不是 VARCHAR

```
SELECT STUFF((SELECT '#' + ISNULL(CAST(TblActionHistories.Comments AS NVARCHAR(MAX)),'') FROM TblActionHistories WHERE TblActionHistories.Entity=CAST('Task' AS NVARCHAR) AND EntityId=CAST(32 AS VARCHAR) for xml path ('')),1,1,'') 
```

# java - 通过 BufferedReader 检索数据后 List 中的重复值

> ID：12382715
> 
> 赞同：0
> 
> 时间：2012-09-12T06:58:14.383
> 
> 标签：java, list, bufferedreader

尝试一个简单的示例，我通过控制台输入数据并将它们添加到列表中。但是输入的姓氏、年龄的值在列表中重复出现。

```
private List<User> getData() throws IOException{
    User user=new User();
    List<User> userList=new ArrayList<User>();
    BufferedReader reader=new BufferedReader(new InputStreamReader(System.in));
    for(int i=0;i<2;i++){
        System.out.println("Enter name,age:");
        String values=reader.readLine();
        String[] value=values.split(",");
        user.setName(value[0]);
        user.setAge(value[1]);
        userList.add(user);
    }
    return userList;

} 
```

在打印 userList 时，列表中似乎填充了我通过控制台输入的最终值。例子，

输入姓名、年龄：`rickesh,22` 输入姓名、年龄：`john,21`

列表内容：[john 22,john 22]

```
public class User { 
    private String age;
    private String name;

    public String getAge() {
        return age;
    }
    public void setAge(String age) {
        this.age = age;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:01:01.047

在 for 循环中创建新用户。

```
private List<User> getData() throws IOException{    
List<User> userList=new ArrayList<User>();
BufferedReader reader=new BufferedReader(new InputStreamReader(System.in));
for(int i=0;i<2;i++){
    System.out.println("Enter name,age:");
    String values=reader.readLine();
    String[] value=values.split(",");
    User user=new User();
    user.setName(value[0]);
    user.setAge(value[1]);
    userList.add(user);
}
return userList;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:01:31.140

那是因为您只创建了 的一个实例`User`，并且您在每次迭代时都会不断更新它。实际上，您最终将使用与上次迭代有关的数据添加相同的实例。尝试在该循环内创建一个新`User`实例。`for`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T07:01:31.427

移动这条指令：

```
User user=new User(); 
```

到`for`循环，如下所示：

```
for(int i=0;i<2;i++){
    User user=new User();
    System.out.println("Enter name,age:");
    String values=reader.readLine();
    String[] value=values.split(",");
    user.setName(value[0]);
    user.setAge(value[1]);
    userList.add(user);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T07:08:03.850

在 for 循环中创建新的用户对象，您的问题将得到解决：

```
private List<User> getData() throws IOException{
      User user=null;
    List<User> userList=new ArrayList<User>();
    BufferedReader reader=new BufferedReader(new InputStreamReader(System.in));
    for(int i=0;i<2;i++){
        user =new User();//create new user here
        System.out.println("Enter name,age:");
        String values=reader.readLine();
        String[] value=values.split(",");
        user.setName(value[0]);
        user.setAge(value[1]);
        userList.add(user);
    }
    return userList;

} 
```

# python - Python 打印方式：使用“格式”还是百分比形式？

> ID：12382719
> 
> 赞同：96
> 
> 时间：2012-09-12T06:58:21.833
> 
> 标签：python, printing, format

在 Python 中，似乎有两种不同的方式来生成格式化输出：

```
user = "Alex"
number = 38746
print("%s asked %d questions on stackoverflow.com" % (user, number))
print("{0} asked {1} questions on stackoverflow.com".format(user, number)) 
```

有没有一种方法比另一种更受欢迎？它们是等价的，有什么区别？应该使用什么形式，尤其是对于 Python3？

* * *

## 回答 #1

> 赞同：108
> 
> 时间：2012-09-12T07:00:26.673

使用该`format`方法，特别是如果您担心 Python 3 和未来。从[文档中](http://docs.python.org/release/3.1.5/library/stdtypes.html#old-string-formatting-operations)：

> 此处描述的格式化操作以 C 的`printf()` 语法为模型。它们仅支持某些内置类型的格式。使用二元运算符意味着可能需要注意正确格式化元组和字典。由于新的 :ref:`string-formatting`语法更加灵活并且可以自然地处理元组和字典，因此建议用于新代码。但是，目前没有弃用`printf`-style 格式的计划。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2012-09-12T07:05:19.367

`.format`在Python2.6中引入

如果你需要向后兼容早期的 Python，你应该使用`%`

对于 Python3 和更新版本，您应该`.format`确定使用

`.format`比 更强大`%`。移植`%`到`.format`很容易，但反过来可能不是微不足道的

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-09-12T07:04:13.003

[文档](http://docs.python.org/py3k/library/stdtypes.html#old-string-formatting-operations)说该`format`方法是新代码的首选。不过，目前没有删除 % 格式的计划。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-12-23T07:46:17.893

您可以同时使用两者。没有人说不推荐使用 % 格式化表达式。但是，如前所述，格式方法调用更强大。另请注意，% 表达式更简洁，更容易编码。试试它们，看看最适合你的

# facebook - 使用应用访问令牌发布

> ID：12382722
> 
> 赞同：0
> 
> 时间：2012-09-12T06:58:57.290
> 
> 标签：facebook, facebook-graph-api, facebook-apps, facebook-access-token

我正在尝试使用应用程序访问令牌使用图形 API 发布提要。我正在尝试实现类似于以下 URL 中的结果：

[示例图像](http://img69.imageshack.us/img69/6963/graphapifeed.png)

我能够创建一个提要，但以下两件事我仍然无法弄清楚：

1) 将提要中的文本链接到我的应用程序。目前通过点击图片标签或名称标签，用户被重定向到图片的外部链接（用于图片标签）

2）您会在图像中注意到评论旁边有自定义链接按钮。一个说“Bonus Cash”，另一个说“Get Simoleons”。怎么做？

我目前正在使用以下图形 api 代码。为了测试它，我目前正在使用 Graph Api Explorer。

[http://graph.facebook.com/myfbid/feed?&picture=http://www.link.com/linktoimage.jpg&name=](http://graph.facebook.com/myfbid/feed?&picture=http://www.link.com/linktoimage.jpg&name=Name)名称标签&caption=标题标签&description=描述标签

如果我在上面的代码中添加链接标签，那么提要的类型会从“通过应用程序名称”更改为“通过应用程序名称共享链接”，这不是我想要实现的。我希望它说“通过应用程序名称”，就像我在上图中共享的其他应用程序一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T09:18:39.627

> 1) 将提要中的文本链接到我的应用程序。目前通过点击图片标签或名称标签，用户被重定向到图片的外部链接（用于图片标签）

如果你想让帖子链接到某个地方——那么实际上发布一个`link`（参数），而不仅仅是一张图片。

编辑：不过，屏幕截图中的“帖子”可能是为用户发布的 Open Graph 操作。那是一个完全不同的概念。在这里开始阅读：[https ://developers.facebook.com/docs/opengraph/](https://developers.facebook.com/docs/opengraph/)

> 2）您会在图像中注意到评论旁边有自定义链接按钮。一个说“Bonus Cash”，另一个说“Get Simoleons”。怎么做？

使用`actions`参数。

两者都在文档中进行了解释：[https ://developers.facebook.com/docs/reference/api/user/#posts](https://developers.facebook.com/docs/reference/api/user/#posts)

# asp.net - 是否可以在 windows8 上安装 IIS 7.5 或 7

> ID：12382733
> 
> 赞同：4
> 
> 时间：2012-09-12T07:00:07.000
> 
> 标签：asp.net, iis, iis-7, iis-6, iis-7.5

是否可以在 Windows 8 上安装 IIS 7.5 或 7？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-16T16:07:08.687

简单的答案 - 不。

稍微长一点的答案 - 由于 IIS 5.0，IIS 的版本与操作系统的版本相关联，现在它被视为操作系统组件。Windows 8 将运行 IIS 8，并且无法安装其他版本。

# asp.net-mvc - 使用 jquery 实现简单的 ajax 时遇到困难

> ID：12382740
> 
> 赞同：0
> 
> 时间：2012-09-12T07:00:34.703
> 
> 标签：asp.net-mvc, jquery, razor

我正在尝试通过在 mvc 中使用 jquery 来实现简单的 ajax。我只是想从当前页面的另一个页面加载一些内容。我的代码是这样的：

```
<div>
    <ul id="biographies">
    <li> <a href="Ajax">Ajax</a></li>
    <li> <a href="Index">Index</a>  </li>

    </ul>    

    <div id="biography">
      The ajax content will appear here...
    </div>

    <script type="text/javascript">
        $('#biographies html.ActionLink').click(function (e) {
            var url = $(this).attr('href');
            $('#biography').load(url);
            e.preventDefault();
        });
    </script>

</div> 
```

但是有一些问题如下：

1.  当我将 ajax.cshtml 文件保留在 Home 文件夹中时，找不到它的显示内容，我需要知道如何使用简单的锚标记而不是 html.actionlink 方法链接 mvc 中的内部资源。

2.  当我将 ajax.cshtml 文件保存在根目录中时，它只是移动到该页面而不是在第一页中加载内容，这是预期的。

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:28:56.430

代替

$('#biographies html.ActionLink')

和

**$('#biographies a')**

# javascript - 从 iFrame 重定向父 URL

> ID：12382742
> 
> 赞同：0
> 
> 时间：2012-09-12T07:00:36.663
> 
> 标签：javascript, html

我有一个 javascript，它在博主中创建一个 iframe，并显示一个位于不同域中的 html 页面，并且 HTML 页面中有一个按钮/图像。当有人点击按钮时，我需要将父页面重定向到另一个网站。

有什么办法可以做到吗？

```
top.location.href= 
```

不管用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:03:00.350

```
top.location = ... 
```

您无法访问 的属性`location`，但可以覆盖整个内容。

或者，只需使用链接：

```
<a href="foo" target="_top"> 
```

# c++ - C ++比较2个字符串列表

> ID：12382747
> 
> 赞同：3
> 
> 时间：2012-09-12T07:00:48.170
> 
> 标签：c++, performance, string-matching, set-intersection

在 Python 中，set 对于比较 2 个字符串列表非常方便（请参阅此[链接](http://forums.devshed.com/python-programming-11/compare-2-lists-for-same-words-certain-strings-765278.html)）。我想知道 C++ 在性能方面是否有一个好的解决方案。因为每个列表中都有超过 100 万个字符串。

这是区分大小写的匹配。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-12T07:09:24.950

数据类型`std::set<>`（通常实现为平衡树）和`std::unordered_set<>`（来自 C++11，实现为哈希）是可用的。还有一种称为`std::set_intersection`计算实际交点的便捷算法。

这是一个例子。

```
#include <iostream>
#include <vector>
#include <string>
#include <set>             // for std::set
#include <algorithm>       // for std::set_intersection

int main()
{
  std::set<std::string> s1 { "red", "green", "blue" };
  std::set<std::string> s2 { "black", "blue", "white", "green" };

  /* Collecting the results in a vector. The vector may grow quite
     large -- it may be more efficient to print the elements directly. */     
  std::vector<std::string> s_both {};

  std::set_intersection(s1.begin(),s1.end(),
                        s2.begin(),s2.end(),
                        std::back_inserter(s_both));

  /* Printing the elements collected by the vector, just to show that
     the result is correct. */
  for (const std::string &s : s_both)
    std::cout << s << ' ';
  std::cout << std::endl;

  return 0;
} 
```

笔记。如果你想使用`std::unordered_set<>`，`std::set_intersection`不能这样使用，因为它期望输入集是有序的。您必须使用 for 循环遍历较小集合并在较大集合中查找元素以确定交集的常用技术。然而，对于大量元素（尤其是字符串），基于散列的`std::unordered_set<>`可能更快。还有与 STL 兼容的实现，例如 Boost ( [`boost::unordered_set`](http://www.boost.org/doc/libs/1_51_0/doc/html/boost/unordered_set.html)) 中的实现和 Google 创建的 ([`sparse_hash_set`和`dense_hash_set`](http://code.google.com/p/sparsehash/))。对于各种其他实现和基准（包括一个用于字符串的），请参见[此处](http://incise.org/hash-table-benchmarks.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:07:11.313

如果您不需要太多性能，我建议使用 STL 中的 map/set：

```
list<string> list, list2;
...
set<string> sndList;
list<string> result;

for(list<string>::iterator it = list2.begin(); it != list2.end(); ++it)
   sndList.insert(*it);

for(list<string>::iteratir it = list.begin(); it != list.end(); ++it)
    if(sndList.count(*it) > 0)
        result.push_back(*it); 
```

否则我建议一些散列函数进行比较。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T13:42:28.190

如果它确实是`std::list`您拥有的，请对它们进行排序并使用`set_intersection`：

```
list<string> words1;
list<string> words2;
list<string> common_words;

words1.sort();
words2.sort();

set_intersection(words1.begin(), words1.end(),
                 words2.begin(), words2.end(),
                 back_inserter(common_words)); 
```

# c++ - 结构错误“未初始化的引用成员”

> ID：12382748
> 
> 赞同：1
> 
> 时间：2012-09-12T07:00:49.870
> 
> 标签：c++, struct

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:31:24.120

OK, first, you need declarations of `CMove`, `CBoard` and `CDeadline`. I added some dummy ones to allow fixing the other problems:

```
namespace game {

struct CBoard {};
struct CDeadline {};
struct CMove {};
... 
```

Then, your struct `CPlayer::GameData` needs to intialize it's `CBoard` reference, which should be `const`:

```
class CPlayer{

        struct GameData
        {
          GameData(const CBoard& board) : pBoard(board) {}
          int mBoard[8][8];
          const CBoard &pBoard;
        };
public:
    CMove Play(const CBoard &pBoard,const CDeadline &pDue);
private:
    int GainsFromMoves(struct GameData gameData);
}; 
```

Next, in your `.cc` file, you need the namespace as well as the class name when defining member functions:

```
namespace game
{
CMove CPlayer::Play(const CBoard &pBoard,const CDeadline &pDue)
{
     GameData gameData(pBoard);
     return CMove();
}
int CPlayer::GainsFromMoves(GameData gameData){

  int test = 0;

 return test;
}

} // namespace game 
```

This gets rid of the errors, at least with this simple main:

```
int main()
{
  game::CBoard b;
  game::CDeadline d;
  game::CPlayer p;
  p.Play(b, d);
} 
```

# android - 设备上找不到类异常，APP在模拟器上工作

> ID：12382762
> 
> 赞同：1
> 
> 时间：2012-09-12T07:01:34.443
> 
> 标签：android, exception, android-viewpager

**编辑：** 我有一个解决我的问题的方法，请参阅下面的答案

我已经搜索并阅读了有关此问题的所有相关问题，但没有一个对我有用。我有一个使用 ViewPager Indicator 作为库的应用程序，它有一个类应用程序。

该应用程序在模拟器上运行良好，但是当我尝试导出为已签名的 apk 时。

根据为此异常给出的答案以及我尝试过的答案，它有时会失败并出现错误“转换为 Dalvik 格式失败并出现错误 1”，或者它正确导出并在设备上崩溃。

不过有些奇怪的是，当我在模拟器上运行时，生成的 apk 为 600kb+，而当我导出为签名 apk 时，它大约为 300kb。它以某种方式没有引用库。

我尝试了什么：

1.  默认设置，只有 ViewPager 在 android 属性中被引用为库
2.  在 libs 文件夹中添加 JAR（ViewPager 指示器和支持）

任何帮助都感激不尽。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T16:59:47.483

我发现问题出在proguard上。如果您在应用程序级别有一个类，您应该告诉 proguard 将其公开。

我就是这样做的。我现在用的是ADT20，不知道老版本是不是也一样。

在文件中：**proguard-project.txt** 附加这一行（MyAPP 是类）

```
-keep public class <MyAPP> 
```

在文件中：**project.properties** 取消注释这一行

```
proguard.config=${sdk.dir}/tools/proguard/proguard-android.txt:proguard-project.txt 
```

更多信息在这里：http: [//developer.android.com/tools/help/proguard.html#configuring](http://developer.android.com/tools/help/proguard.html#configuring)

# asp.net-mvc-3 - 从数据库更新模型不更新更改的数据类型

> ID：12382763
> 
> 赞同：3
> 
> 时间：2012-09-12T07:01:47.343
> 
> 标签：asp.net-mvc-3, entity-framework-4

我将 Entity Framework 4 与 ASP.NET MVC 3 一起使用。

我有一个表，其中一个名为“ABC”的字段是较早的数据类型，`varchar(100)`我现在已将其更改为`nvarchar(256)`.

现在要在实体框架中更新它，我已经完成了以下步骤。

*   打开 .edmx
*   右键单击并选择“从数据库更新模型”
*   刷新选项卡
*   选择了我要刷新的表
*   行

但是，在“属性”窗口中执行这些步骤后，“最大长度”显示为 100。

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:19:16.287

我多次遇到这个问题。

您可以尝试删除中的`ABC`属性`edmx`并按照您提到的步骤操作。它对我有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:20:09.817

它不会更新字符串属性的 maxlength，因为存储没有更新。

您可以在商店中手动更改它，然后在 EF 设计器中按更新。或者您可以删除表格，然后重新添加它，一切都会是最新的。（这种方法的缺点是您将丢失任何自定义更改）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-17T11:20:20.820

4年后，这个问题仍然存在。我发现最简单的做法是删除 .edmx 文件并重新生成它，以获得最干净、最可靠的更新。

# javascript - 如何在html中关闭iframe弹出窗口

> ID：12382769
> 
> 赞同：1
> 
> 时间：2012-09-12T07:02:08.717
> 
> 标签：javascript, jquery, html

这是我的父页面，我从中打开一个弹出窗口

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1" runat="server">
    <title>Popup example</title>
    <script type="text/javascript">
        function OpenPop() {
            window.scrollTo(0, 0);
            var width = document.documentElement.clientWidth + document.documentElement.scrollLeft;
            var height = document.documentElement.clientHeight + document.documentElement.scrollTop;
            var layer = document.createElement("div");
            layer.style.zIndex = 2;
            layer.id = "layer";
            layer.style.position = "absolute";
            layer.style.top = "0px";
            layer.style.left = "0px";
            layer.style.height = document.documentElement.scrollHeight + "px";
            layer.style.width = width + "px";
            layer.style.backgroundColor = "black";
            layer.style.opacity = "0.75";
            layer.style.filter += ("progid:DXImageTransform.Microsoft.Alpha(opacity=75)");
            document.body.style.position = "static";
            document.body.appendChild(layer);
            var size = { "height": 220, "width": 400 };
            var iframe = document.createElement("iframe");
            var popUrl = 'popup.htm';
            iframe.name = "Logic Form";
            iframe.id = "popup";
            iframe.src = popUrl;
            iframe.style.height = size.height + "px";
            iframe.style.width = size.width + "px";
            iframe.style.position = "fixed";
            iframe.style.zIndex = 3;
            iframe.style.backgroundColor = "white";
            iframe.frameborder = "0";
            iframe.style.top = ((height + document.documentElement.scrollTop) / 2) - (size.height / 2) + "px";
            iframe.style.left = (width / 2) - (size.width / 2) + "px";
            document.body.appendChild(iframe);
        }
    </script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
        <a onclick="OpenPop();" href="#">OpenPopup</a>
    </div>
    </form>
</body> 
```

这是我的 popup.html 页面，

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script type="text/javascript">
        function closeIframe() {
            var iframe = opener.document.getElementById("popup");
            var layer = opener.document.getElementById("layer");
            iframe.parentNode.removeChild(iframe);
            layer.parentNode.removeChild(layer);
        }
    </script>
</head>
    <body>
        <h3>This is Popup</h3>
        <a onclick="closeIframe();" href="#">Close</a>
    </body>
</html> 
```

问题：在 popup.html 上，有关闭按钮，谁在调用函数来删除 iframe，但我无法关闭弹出窗口，有人帮忙吗？

**或者** 有人有更好的解决方案或例子来做这样的弹出吗？

任何帮助高度赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:15:09.047

你的`CloseIframe`方法应该是：

```
function closeIframe() {
    window.parent.ClosePop();
} 
```

并在您的主页中，在`OpenPop`方法下方，添加关闭操作，例如：

```
function ClosePop() {
    var layer = document.getElementById("layer");
    var iframe = document.getElementById("popup");
    document.body.removeChild(layer); // remove layer
    document.body.removeChild(iframe); // remove div
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:12:32.980

您可以使用[jQuery UI 对话框](http://jqueryui.com/demos/dialog/#modal-form)来显示模态弹出窗口。这将很容易处理。

还有很多 jQuery 插件可用于显示弹出窗口，如[花式框](http://fancybox.net/)、[颜色框](http://www.jacklmoore.com/colorbox)等

# mysql - mysql 枢轴/交叉表查询

> ID：12382771
> 
> 赞同：13
> 
> 时间：2012-09-12T07:02:39.013
> 
> 标签：mysql, sql, pivot

**问题 1：**我有一个具有以下结构和数据的表：

```
app_id  transaction_id  mobile_no   node_id  customer_attribute  entered_value 
100     111             9999999999  1        Q1                  2                             
100     111             9999999999  2        Q2                  1                             
100     111             9999999999  3        Q3                  4                             
100     111             9999999999  4        Q4                  3                             
100     111             9999999999  5        Q5                  2                             
100     222             8888888888  4        Q4                  1                             
100     222             8888888888  3        Q3                  2                             
100     222             8888888888  2        Q2                  1                             
100     222             8888888888  1        Q1                  3                             
100     222             8888888888  5        Q5                  4 
```

我想以以下格式显示这些记录：

```
app_id  |  transaction_id  | mobile     |  Q1  |  Q2  |  Q3  |  Q4 |  Q5  |
 100    |      111         | 9999999999 |   2  |   1  |   4  |  3  |  2   |
 100    |      222         | 8888888888 |   3  |   1  |   2  |  1  |  4   | 
```

我知道我需要使用交叉表/数据透视查询来获得此显示。为此，我根据我对它的有限知识进行了尝试。以下是我的查询：

```
SELECT app_id, transaction_id, mobile_no,
  (CASE node_id WHEN 1 THEN entered_value ELSE '' END) AS user_input1,
  (CASE node_id WHEN 2 THEN entered_value ELSE '' END) AS user_input2,
  (CASE node_id WHEN 3 THEN entered_value ELSE '' END) AS user_input3,
  (CASE node_id WHEN 4 THEN entered_value ELSE '' END) AS user_input4,
  (CASE node_id WHEN 5 THEN entered_value ELSE '' END) AS user_input5
FROM trn_user_log 
GROUP BY app_id, transaction_id, mobile_no, node_id 
```

根据这个查询，我得到了以下显示：

```
app_id  transaction_id  mobile_no   user_input1  user_input2  user_input3  user_input4  user_input5  
100     111             9999999999  2                                                                
100     111             9999999999               1                                                   
100     111             9999999999                            4                                      
100     111             9999999999                                         3                         
100     111             9999999999                                                      2            
100     222             8888888888  3                                                                
100     222             8888888888               1                                                   
100     222             8888888888                            2                                      
100     222             8888888888                                         1                         
100     222             8888888888                                                      4 
```

任何人都可以帮助我对我的查询进行适当的更改，以获取单行中的记录，而不是如上所述的多行。

**问题2：**还有一种方法可以将特定字段的值作为列的名称。正如您在上面看到的，我有`user_input1`, `user_input2`,... 作为标题。相反，我希望将值`customer_attribute`作为列的标题。

为此，我检查`NAME_CONST(name,value)`如下：

```
SELECT app_id, transaction_id, mobile_no,
NAME_CONST(customer_attribute, (CASE node_id WHEN 1 THEN entered_value ELSE '' END))
FROM trn_user_log 
```

但它给出了一个错误

```
Error Code : 1210 Incorrect arguments to NAME_CONST 
```

需要帮助。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-12T10:27:09.473

虽然@John 的静态答案效果很好，但如果您要转换的列数未知，我会考虑使用准备好的语句来获得结果：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'GROUP_CONCAT((CASE node_id when ',
      node_id,
      ' then entered_value else NULL END)) AS user_input',
      node_id
    )
  ) INTO @sql
FROM trn_user_log;

SET @sql = CONCAT('SELECT app_id, transaction_id, mobile_no, ', @sql, ' 
                  FROM trn_user_log 
                  GROUP BY app_id, transaction_id, mobile_no');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

见[SQL Fiddle with Demo](http://sqlfiddle.com/#!2/7cbde/29)

至于您的第二个，请澄清您要做什么，目前尚不清楚。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-12T07:05:28.287

添加`GROUP_CONCAT`你的`CASE`条款

```
SELECT app_id, transaction_id, mobile_no,
  GROUP_CONCAT((CASE node_id WHEN 1 THEN entered_value ELSE NULL END)) AS user_input1,
  GROUP_CONCAT((CASE node_id WHEN 2 THEN entered_value ELSE NULL END)) AS user_input2,
  GROUP_CONCAT((CASE node_id WHEN 3 THEN entered_value ELSE NULL END)) AS user_input3,
  GROUP_CONCAT((CASE node_id WHEN 4 THEN entered_value ELSE NULL END)) AS user_input4,
  GROUP_CONCAT((CASE node_id WHEN 5 THEN entered_value ELSE NULL END)) AS user_input5
FROM trn_user_log 
GROUP BY app_id, transaction_id, mobile_no 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!2/7cbde/4)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-01-12T18:03:37.583

@DarkKnightFan，对于我正在处理的任务，这是一个非常有用的问题。我继续修改@bluefin 的解决方案以解决您的第二个问题。以下代码生成您最初请求的格式，其中 customer_attribute 的值作为交叉表中的结果列标题。

相关的变化是改变：

```
' then entered_value else NULL END)) AS user_input',
      node_id 
```

对此：

```
' then entered_value else NULL END)) AS ''',
          customer_attribute,'''' 
```

完整代码：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'GROUP_CONCAT((CASE node_id when ',
      node_id,
      ' then entered_value else NULL END)) AS ''',
      customer_attribute,''''
    )
  ) INTO @sql
FROM trn_user_log;

SET @sql = CONCAT('SELECT app_id, transaction_id, mobile_no, ', @sql, ' 
                  FROM trn_user_log 
                  GROUP BY app_id, transaction_id, mobile_no');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

此外，对于浏览此问题的其他用户，如果您有很多值要尝试交叉表，您可能会遇到错误，因为 GROUP_CONCAT() 的默认最大长度为 1024 个字符。要增加将其放在准备好的语句的开头：

```
SET SESSION group_concat_max_len = value; -- replace value with an int 
```

# jsp - 在jsp中生成动态组合框

> ID：12382772
> 
> 赞同：0
> 
> 时间：2012-09-12T07:02:39.167
> 
> 标签：jsp, struts2

我在表格中有反馈参数，在另一个表格中有教师姓名。不同班级的参数和教师姓名会有所不同。根据参数编号和教师编号，我想生成组合框并希望在 Action 类中获取数据，然后将这些值（包括教师姓名和反馈参数）保存到 DB。

jsp页面就像

```
 teachers|Name1|Name2|Name3.......
        Param   |-------------------------------- 
        p1        box1 box2  box3 ..........
        p2        box1 box2  box3 ..........
        p3        box1 box2  box3 ..........   
        .
        . 
        .
        .
        .
        . 
```

如何做到这一点的任何例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:08:16.353

通常，您可以像这样动态填充组合框：

```
<html>
  <select>
  <%
    for(int i=0;i<=10;i++){
    %>
      <option value="<%=i%>"><%=i%></option>
    <%
    }
  %>
  </select>
</html> 
```

为了使用数据库中的数据执行此操作，请查看[Vlads Answer hier](https://stackoverflow.com/a/6891832/395659)，您只需在需要 cobobox 的每个表格单元格内部调用的例程中实现代码。

# django - 组合多个 Django 视图/模板

> ID：12382779
> 
> 赞同：1
> 
> 时间：2012-09-12T07:03:10.010
> 
> 标签：django, django-templates, django-views

我正在做一个网站。在主页上，我想在中间显示帖子，在页面右侧显示著名的标签。现在，帖子和标签是两个不同的应用程序，它们的视图/模板是在两个单独的函数中计算/生成的。

我怎样才能在我的主页上显示我想要的东西，让我记住它的两个不同的视图被调用了。据我了解，我只能调用一个视图来显示我的主页。

这一定是可能的，但我无法理解这一点。任何帮助都感激不尽。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T08:09:46.787

我认为您需要创建一个自定义模板标签，在这种情况下称为：[包含标签](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#inclusion-tags)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:21:52.213

您可以考虑为标签编写[自定义模板](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/)标签。这样标签逻辑就可以留在正确的应用程序中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T09:26:05.223

这取决于这些不同的应用程序如何呈现模板。如果他们只是渲染模板而不从基本模板扩展，您可以简单地使用 AJAX 将所有内容加载到您的主页中。

如果没有，那么除了为此编写自定义解决方案之外别无他法。这可能是您的视图的扩展、已经提到的自定义模板标签或根据您的确切需要的其他内容。

# ios - 如何检测 iPhone 相机屏幕上物体的移动？

> ID：12382780
> 
> 赞同：9
> 
> 时间：2012-09-12T07:03:16.560
> 
> 标签：ios, camera, detection, motion-detection

我有一个应用程序需要能够检测相机屏幕上显示的对象或图像的移动。iPhone可以做到这一点吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-12T07:09:06.893

您需要使用运动检测算法来执行此操作。

检查这些链接。他们应该可以帮助您入门。

[用于相机运动检测的快速、非常轻量级的算法？](https://stackoverflow.com/questions/4393841/fast-very-lightweight-algorithm-for-camera-motion-detection)
[如何使用 iPhone 的摄像头跟踪运动？](https://stackoverflow.com/questions/3933716/how-can-you-track-motion-using-the-iphones-camera)

# android - Robotium：我想在我的主屏幕顶部画廊部分向左滚动

> ID：12382784
> 
> 赞同：2
> 
> 时间：2012-09-12T07:03:25.897
> 
> 标签：android, automated-tests, robotium, galleryview

请查看下面的源代码：

```
public void test_Horizontalscroll() throws Exception {
        solo.sleep(3000);
        Gallery feature= (Gallery) solo.getView(R.id.featured_gallery);
        solo.clickOnView(feature);
        solo.scrollToSide(Solo.LEFT) ;
        solo.sleep(10000); 
} 
```

问题是整个屏幕不能水平滚动，而只有顶部类型的画廊（android.widget.Gallery）

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T13:46:35.960

```
// Scroll Left // Drag Right

fromX = (screenWidth/2) - (screenWidth/3);

toX = (screenWidth/2) + (screenWidth/3);

fromY = screenHeight/2;

toY = screenHeight/2;

solo.drag(fromX, toX, fromY, toY, 1);

Log.d(TAG,"Scroll Left"); 
```

我希望这段代码对你有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:43:54.083

你可以使用`solo.drag()`方法。

```
Display d =((WindowManager)activity.getApplication().getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();

solo.drag(d.getWidth() / 2 , 0, 10 , 10 , 1); 
```

只需根据您的需要更改拖动参数即可。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-17T22:20:16.020

我认为最好的使用方法是：

```
solo.scrollViewToSide(solo.getView(R.id.featured_gallery, solo.RIGHT); 
```

您将 R.id.featured_gallery 替换为您尝试滚动并使用的视图或元素的资源 ID（因为它们都是视图）

```
solo.RIGHT 
```

或者

```
solo.LEFT 
```

滚动元素。希望能帮助到你。

# android - 小部件更新无法正常工作

> ID：12382788
> 
> 赞同：2
> 
> 时间：2012-09-12T07:03:45.377
> 
> 标签：android, timer, widget, timertask, onupdate

我有一个`widget`我正在从我的应用程序更新的。正在显示`widget`现场比赛比分。当有来自服务器的更新时，`Widget`会更新，但它会在上一次更新和当前更新之间闪烁。就像分数是`12-0`，现在是`15-0`，小部件显示`15-0, 12-0, 15-0, 12-0`等等。请告诉我哪里出错了。提前致谢。

这是小部件的代码

```
import java.util.Random;

import android.app.PendingIntent;
import android.appwidget.AppWidgetManager;
import android.appwidget.AppWidgetProvider;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.RemoteViews;
import android.widget.TextView;
import android.widget.Toast;
import android.content.pm.PackageManager;

public class MyWidgetProvider extends AppWidgetProvider {

    public String team1name="";
    public String team2name="";
    public String team1score="0";
    public String team2score="0";
    public String player1;
    public String player2;
    public String nonStriker;
    public String role1;
    public String role2;

            public void onUpdate(Context context, AppWidgetManager appWidgetManager,int[] appWidgetIds) {
                super.onUpdate(context, appWidgetManager, appWidgetIds);
                final int N = appWidgetIds.length;
                Log.e(MyWidgetProvider.class.toString(), "Onupdate called for " + this);
                for (int i=0; i<N; i++) {
                    int appWidgetId = appWidgetIds[i];
                  RemoteViews remoteViews = new RemoteViews(context.getPackageName (), R.layout.widget_layout);                   
                  ComponentName thisWidget = new ComponentName(context, MyWidgetProvider.class);
                  appWidgetManager.updateAppWidget(appWidgetId, remoteViews);
            }

        }
            public void onReceive(Context context, Intent intent){
                Bundle extras = intent.getExtras();
                if (extras == null) {
                  return;
                }
                team1name = extras.getString("team1name");
                team2name = extras.getString("team2name");
                team1score = extras.getString("team1score");
                team2score=extras.getString("team2score");
                player1=extras.getString("player1");
                player2=extras.getString("player2");
                nonStriker=extras.getString("nonStriker");
                role1=extras.getString("role1");
                role2=extras.getString("role2");

                team1name=getAcronym(team1name,context);
                team2name=getAcronym(team2name,context);
                RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);

                      remoteViews.setTextViewText(R.id.team1name, team1name);
                      remoteViews.setTextViewText(R.id.team2name, team2name);
                      remoteViews.setTextViewText(R.id.team1score, team1score);  
                      remoteViews.setTextViewText(R.id.team2score, team2score); 
                        if(role1!=null && role1.equalsIgnoreCase("batsman")) {                    
                      remoteViews.setTextViewText(R.id.batsman1, player1);
                        }else if(role1!=null && role1.equalsIgnoreCase("bowler")) {
                            remoteViews.setTextViewText(R.id.bowler, player1);                          
                        }

                        if(role2!=null && role2.equalsIgnoreCase("batsman")) {                    
                              remoteViews.setTextViewText(R.id.batsman1, player2);
                                }else if(role2!=null && role2.equalsIgnoreCase("bowler")) {
                                    remoteViews.setTextViewText(R.id.bowler, player2);                          
                                }
                      remoteViews.setTextViewText(R.id.nonStriker, nonStriker);

                      Intent in = new Intent(Intent.ACTION_MAIN);
                      PackageManager manager = context.getPackageManager();
                      in = manager.getLaunchIntentForPackage("My Package name");
                      in.addCategory(Intent.CATEGORY_LAUNCHER);
                      PendingIntent pendingIntent = PendingIntent.getActivity(context,0 /* no requestCode */, in, 0 /* no flags */);
                      remoteViews.setOnClickPendingIntent(R.id.layout, pendingIntent);

                        ComponentName cn = new ComponentName(context, MyWidgetProvider.class);  
                        AppWidgetManager.getInstance(context).updateAppWidget(cn, remoteViews);

            }

            String getAcronym(String teamName,Context context){

                if(teamName==null){
                    return "";
                }
                if(teamName.equals("Australia")){
                    teamName="AUS"; 
                }
                else if(teamName.equals("Pakistan")){
                    teamName="PAK";
                }
                else if(teamName.equals("India")){
                    teamName="IND";
                }
                else if(teamName.equals("England")){
                    teamName="ENG"; 
                }   
                else if(teamName.equals("Sri Lanka")){
                    teamName="SL";
                }   
                else if(teamName.equals("South Africa")){
                    teamName="RSA";
                }
                else if(teamName.equals("West Indies")){
                    teamName="WI";
                }
                else if(teamName.equalsIgnoreCase("New Zealand")){
                    teamName="NZ";
                }
                else if(teamName.equals("Zimbabwe")){
                    teamName="ZIM";
                }
                else if(teamName.equals("Ireland")){
                    teamName="IRE";
                }               else if(teamName.equals("Afghanistan")){
                    teamName="AFG";
                }
                return teamName;
            }           

} 

and Here's the code from the application which is sending the broadcast.

                if(GameCentre){
                    watchFromHome.setText("Watch From Home");
                    intent = new Intent();
                    intent.setAction("android.intent.action.RUN");
                        intent.putExtra("team1name", data.get( "vHomeDisplayName") .get( position ));
                        intent.putExtra("team2name", data.get( "vAwayDisplayName") .get( position ));
                        intent.putExtra("team1score", data.get( "vSummary1") .get( position ));
                        intent.putExtra("team2score", data.get( "vSummary2") .get( position ));
                        intent.putExtra("player1", data.get( "vPlayerLastName1" ).get( position ));
                        intent.putExtra("player2", data.get( "vPlayerLastName2" ).get( position ));
                        intent.putExtra("nonStriker", data.get( "vNonStrikerLastName" ).get( position ));
                        intent.putExtra("role1", data.get( "vRole1" ).get( position ));
                        intent.putExtra("role2", data.get( "vRole2" ).get( position ));

                    watchFromHome.setOnClickListener(new OnClickListener(){
                        public void onClick(View v){
                            startTimer=true;
                            PlayUpActivity.context.sendBroadcast(intent);                                                   
                        }
                    });
                    if(isLiveMatch){
                        timer = new Timer();
                        timer.scheduleAtFixedRate(new TimerTask() {
                            public void run() {

                                    intent.putExtra("team1name", data.get( "vHomeDisplayName") .get( position ));
                                    intent.putExtra("team2name", data.get( "vAwayDisplayName") .get( position ));
                                    intent.putExtra("team1score", data.get( "vSummary1") .get( position ));
                                    intent.putExtra("team2score", data.get( "vSummary2") .get( position ));
                                    intent.putExtra("player1", data.get( "vPlayerLastName1" ).get( position ));
                                    intent.putExtra("player2", data.get( "vPlayerLastName2" ).get( position ));
                                    intent.putExtra("nonStriker", data.get( "vNonStrikerLastName" ).get( position ));
                                    intent.putExtra("role1", data.get( "vRole1" ).get( position ));
                                    intent.putExtra("role2", data.get( "vRole2" ).get( position ));
                                    PlayUpActivity.context.sendBroadcast(intent);   
    //                          }
                            }
                        }, 0, 5000);
                    }
                } 
```

# java - List 的 remove 方法是 raw

> ID：12382791
> 
> 赞同：7
> 
> 时间：2012-09-12T07:04:12.647
> 
> 标签：java, collections

这个问题说明了一切..

从列表的代码：

添加方法： `public boolean add(E e) { ... }`

鉴于，删除方法： `public boolean remove(Object o) { .. }`

这有什么具体原因吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-12T07:06:09.797

从[javadoc](http://docs.oracle.com/javase/6/docs/api/java/util/List.html#remove%28java.lang.Object%29)：

> 如果此列表不包含该元素，则保持不变

因此，在此处添加类型约束将毫无用处，而约束`add`确保在编译时列表包含框上所写的内容。

请注意，由于允许该方法抛出一个

> ClassCastException 如果指定元素的类型与此列表不兼容（可选）

ArrayList 实现不会抛出此异常：

```
439    public boolean remove(Object o) {
440         if (o == null) {
441             for (int index = 0; index < size; index++)
442                 if (elementData[index] == null) {
443                     fastRemove(index);
444                     return true;
445                 }
446         } else {
447             for (int index = 0; index < size; index++)
448                 if (o.equals(elementData[index])) {
449                     fastRemove(index);
450                     return true;
451                 }
452         }
453         return false;
454     } 
```

这意味着您不必在执行删除操作之前检查原始对象的类别。

# c# - 显示进度条：反过来

> ID：12382792
> 
> 赞同：0
> 
> 时间：2012-09-12T07:04:13.500
> 
> 标签：c#, wpf, multithreading, thread-safety, progress-bar

通常的做法是在 UI 线程中显示进度窗口（带有进度条）并从工作线程更新进度。

我有很多长时间的操作，它们在 GUI 线程本身中启动和运行（暂时冻结 GUI）。要求是显示所有现有长操作的进度条。通常的解决方案是将长操作作为线程移动并从那里更新进度。但我不确定这些长操作的线程安全性。

有没有办法让我们在另一个线程中显示进度窗口（所以它不会冻结），然后从主 GUI 线程本身更新进度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:11:58.723

我不知道在另一个线程中显示 ProgressBar 的解决方案，但是您可以尝试一种 hack，让系统从您的长时间运行的操作中执行其操作（更新 UI）。为此，您可以在长时间运行的操作中重复调用以下函数：

```
public static void DoEvents() {
  DispatcherFrame frame = new DispatcherFrame();
  Dispatcher.CurrentDispatcher.BeginInvoke(DispatcherPriority.Background, new DispatcherOperationCallback(delegate(object parameter) {
    frame.Continue = false;
    return null;
}), null);
  Dispatcher.PushFrame(frame);
} 
```

但请注意，这不是解决问题的好方法。最好选择合适的设计。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:17:48.067

检查这个[线程](https://stackoverflow.com/questions/3478753/making-a-splash-screen-in-c-sharp)

我认为你应该使用`Application.DoEvents()`

# java - 用于 spring 3.1 的 Jackson 1.9 配置（全局设置 dateformat）

> ID：12382793
> 
> 赞同：4
> 
> 时间：2012-09-12T07:04:14.700
> 
> 标签：java, spring-mvc, jackson, date-format

我成功地使用 Spring 3.1 mvc 来生成使用 json 作为 http 消息的 rest webservices。到目前为止，我在我的 bean 中的每个字段上设置符号以使用自定义序列化器/反序列化器并要求杰克逊以特定格式格式化我的日期。现在我想删除这个符号语法，并设置一个全局日期格式。这就是我做的

这是我的 servlet 配置

```
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx"
xmlns:mvc="http://www.springframework.org/schema/mvc"
xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd">

<context:component-scan base-package="com.test.endpoints" />

<mvc:annotation-driven>
    <mvc:message-converters register-defaults="false">
        <bean
            class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter">
            <property name="objectMapper">
                <bean class="com.test.CustomObjectMapper" />
            </property>
        </bean>
    </mvc:message-converters>
</mvc:annotation-driven>

</beans> 
```

这是类 CustomObjectMapper

```
package com.test;

import java.text.SimpleDateFormat;
import org.codehaus.jackson.map.ObjectMapper;
import org.codehaus.jackson.map.SerializationConfig.Feature;

public class CustomObjectMapper extends ObjectMapper {

    public CustomObjectMapper() {
        super();
        configure(Feature.WRITE_DATES_AS_TIMESTAMPS, false);
        setDateFormat(new SimpleDateFormat(
                "EEE MMM dd yyyy HH:mm:ss 'GMT'ZZZ (z)"));
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T08:54:09.167

将下面的 xml 添加到 mvc 配置中以全局覆盖日期序列化。

```
<mvc:annotation-driven > 
    <mvc:message-converters register-defaults="false">
        <bean     class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter" >
            <property name="objectMapper">
                <bean class="package.CustomObjectMapper"/>
            </property>
        </bean>
    </mvc:message-converters>
 </mvc:annotation-driven> 
```

并修改 CustomObjectMapper 类，如下所示。

```
import org.codehaus.jackson.map.ObjectMapper;
import org.codehaus.jackson.map.SerializationConfig.Feature;

public class CustomObjectMapper extends ObjectMapper {
    public CustomObjectMapper(){
        super.configure(Feature.WRITE_DATES_AS_TIMESTAMPS, false);
    }
} 
```

# mysql - MySQL SELECT + LEFT JOIN + IF 查询

> ID：12382795
> 
> 赞同：4
> 
> 时间：2012-09-12T07:04:25.757
> 
> 标签：mysql, select, join, if-statement

我有一个名为 category 的简单数据库表：

```
category.id category.name category.lang
1           'apple'       'en'
1           'manzana'     'es'
1           ''            'de'
1           ''            'it' 
```

多变的：

```
$default_lang = 'en';
$current_lang = 'it'; 
```

我想根据 $current_lang 进行返回 category_name 字段的查询，但是如果 category.name 为空，那么应该使用 $default_lang 中的 category.name，如下所示：

```
SELECT * FROM cat_list
    LEFT JOIN category ON cal_list.id = category.id
          AND IF(category.name = $current_lang = '', $default_lang, 'No Lang') 
```

请让我知道，我该如何修复此查询以使其正常工作？

===

好的，现在我有一个好主意：

```
SELECT * FROM cat_list LEFT JOIN category 
           ON cal_list.id = category.id 
          AND category_lang IN ($curreng_lang, $default_lang)
          AND category_name <> '' 
```

它工作正常，但如果两种语言都有名称值，我应该担心“IN”顺序吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T07:09:57.617

```
SELECT catname=
CASE name
         WHEN '' THEN (select name from Category where lang=$default_lang limit 1)
         ELSE name
      END
FROM Category where id=$current_lang 
```

说明：这里查询在select语句中使用case语句，其中外部查询使用条件“id=$current_lang”

所以在select语句中它会有name=''，所以对于

```
catname=
    CASE name
             WHEN '' THEN (select name from Category where lang=$default_lang limit 1)
             ELSE name
          END 
```

name 是 ''，所以第一个条件是什么时候应该在这里执行，它将执行查询

> （从 lang=$default_lang 限制 1 的类别中选择名称）返回名称 apple（因为语言是 'en'），这将被归类为 catname 变量。将在结果中返回

如果它会在第一次获得 name 的值 (id=$current_lang) 它将返回它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:18:51.827

是`category.name` *NULL*还是*空字符串*？

如果为*NULL*，则使用`COALESCE`（*返回列表中的第一个非 NULL 值*）

```
SELECT category.id, 
       COALESCE(category.name, $default_lang) name,
       COALESCE(category.lang, $current_lang) lang
FROM cat_list
     LEFT JOIN category 
           ON cal_list.id = category.id 
```

如果为*空字符串*，请使用`IF`

```
SELECT category.id, 
       IF(category.name = '', $default_lang,category.name) name,
       IF(category.lang = '', $current_lang,category.lang) lang
FROM cat_list
     LEFT JOIN category 
           ON cal_list.id = category.id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T09:19:37.590

user1664869，这个呢？

```
SELECT catname=CASE c1.name
       WHEN '' THEN c2.name
       ELSE c1.name
       END
FROM
Category c1
INNER JOIN Category c2 ON c1.lang=$current_lang and c2.lang=$default_lang; 
```

# c# - 模型访问会话变量？

> ID：12382807
> 
> 赞同：0
> 
> 时间：2012-09-12T07:05:24.500
> 
> 标签：c#, asp.net-mvc

我有一个模型，它有一个参考数据的下拉列表。参考数据基于当前用户。因此，用户 A 可以看到分配给他的记录，而用户 B 可以看到不同的记录。关键是，参考数据是基于userId的。

userId 在 Session 中。模型有没有办法访问会话变量？SelectionList 的创建被内置到模型中。因此，我可以将 UserId 作为参数放在构造函数中 - 但我需要在模型的所有构造函数中使用它。似乎是重复工作。我希望模型能够说，“啊，当前用户是 User1”，但它是自我。

可能的？还是我有设计缺陷？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:25:50.630

这样的事情怎么样

```
public class WibbleModelBuilder
{
   private int _userId;
   private WibbleRepository _repo;
   public WibbleModelBuilder(WibbleRepository wibbleRepository, int userId)
   {
       _repo=wibbleRepository;
       _userId=userId;
   }

   public WibbleModel Build()
   {
       var model = new WibbleModel();
       model.LookupList = _repo.GetLookupForUser(_userId);
       return model;
   }
} 
```

现在您可以在控制器中创建 WibbleModelBuilder 并将您的存储库和用户 ID 传递给构造函数。您的模型现在只是一个非常简单的数据对象

```
public class WibbleModel
{
   public IList<ReferenceData> LookupList { get; set;}
} 
```

# html - 如何在封闭的 div 内制作 gif 和两行文本？

> ID：12382811
> 
> 赞同：1
> 
> 时间：2012-09-12T07:05:39.613
> 
> 标签：html, css

我有以下[小提琴](http://jsfiddle.net/GYkBC/)

左边是 32 x 32 的图像，右边是两行文字。有人可以看看这个并告诉我哪里出错了。我需要的只是 gif 的中心和文本与封闭框架的中间对齐。

正如您从小提琴中看到的那样，我尝试了很多不同的边距组合，但似乎没有一个对我有用。

问题是因为我使用的是“显示：内联块；” 还是有其他问题？

```
<div class="server-info">
   <div style="z-index: 99; width: 32px; height: 32px;
      margin-top: 9px;
      margin-bottom: 9px;
      margin-right: 3px; display: inline-block;" id="load-icon"></div>
   <div style="display: inline-block; margin-top: 5px;
      margin-bottom: 5px; height: 40px;">XXX<br>YYY </div>
</div> 
```

CSS

```
.server-info {
    border-radius: 0.4em 0.4em 0.4em 0.4em;
    border-top: 0 none;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.65);
    color: white;
    display: inline-block;
    margin-left: 0.5em;
    padding: 0 1em;
    vertical-align: top;
    font-size: 1em;
    margin-top: 1.6em;
    padding-left: 1em;
    padding-right: 1em;
    text-align: left;
    text-transform: none;
    background: none repeat scroll 0 0 #000000;
}

#load-icon
{
    background: url("http://www.smilecarwash.com/images/ajax-loader.gif");
    background-repeat: no-repeat;
} 
```

**更新**：更正了小提琴链接-对此感到抱歉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:11:41.377

这是你要找的[http://jsfiddle.net/BcPjz/4/](http://jsfiddle.net/BcPjz/4/)

要垂直居中对齐，您需要添加`display:table-cell`和`vertical middle`到文本 div。

或者这个[http://jsfiddle.net/GYkBC/1/](http://jsfiddle.net/GYkBC/1/)

要将文本放在图像下方，请添加`display:block`到图像 div 或文本 div

# .htaccess - 什么是 .htaccess 文件。为什么我们使用这个文件。使用这个文件有什么好处？

> ID：12382830
> 
> 赞同：-3
> 
> 时间：2012-09-12T07:07:10.800
> 
> 标签：.htaccess

> **可能重复：**
> [php 中的 .htaccess 文件是什么？](https://stackoverflow.com/questions/13170819/what-is-htaccess-file-in-php)

根据我的研究，此文件用于 Url 重写。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:12:39.517

.htaccess 允许您对权限进行微观管理。Apache 通常不鼓励使用它，除非它覆盖一般行为，因为它可能会更慢（如果父文件夹不包含 .htaccess，它必须检查父文件夹的父文件夹是否有 .htaccess 直到根文件夹）。

然而，这并不意味着它不能有用，只是你必须在它的使用中委婉。一般 apache 配置适用于推土机，.htaccess 将适用于铲子。只要知道什么时候选择推土机而不是铲子，你就会没事的。

[可以在这里找到一篇关于 .htaccess 的不错的文章。](http://www.javascriptkit.com/howto/htaccess.shtml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:10:43.210

它允许您设置或修改每个目录的配置设置，而无需更改配置文件或重新启动服务器。

# c# - 以编程方式将程序集安装到 GAC 中

> ID：12382831
> 
> 赞同：6
> 
> 时间：2012-09-12T07:07:15.153
> 
> 标签：c#, .net, exception-handling, gac

我需要使用 c# 在 GAC 中安装程序集。下面是我的代码：

```
new System.EnterpriseServices.Internal.Publish().GacInstall("MyAssembly.dll"); 
```

上面的代码给出了错误：

> 需要绝对路径

但我需要在不使用静态文件路径（绝对路径）的情况下运行它。谁能告诉我这是否可能？我在项目引用中添加了对程序集的引用。我需要在 GAC 中安装这个程序集。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-12T07:13:06.053

您可以执行以下操作：

```
GacInstall((new System.IO.FileInfo("MyAssembly.dll")).FullName); 
```

或者，

```
GacInstall(System.IO.Path.GetFullPath("MyAssembly.dll")); 
```

假设该文件位于您当前的工作目录中。如果不是，那么您需要定义用于查找此 DLL 的规则（例如，它与您当前的可执行文件在同一路径中吗？）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:26:23.953

试试我想出的下面这个，让我知道这是否有效

```
Assembly assembly = Assembly.GetAssembly(typeof(Program));//Replace your Type here.
string filePath = assembly.Location; 
```

然后使用这个文件路径。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T07:14:17.370

如果您知道关于您的可执行文件的*相对*路径，请制作`DLL`

```
string executableDirectory = Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location);
string assemblyFullPath = Path.Combine(executableDirectory,
                            relativePathToAssembly); 
```

**应该**为你工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T07:10:49.113

错误本身表明，您需要提供所驻留的 dll 的完整位置路径。即路径中的 C:\myprojects\myassembly.dll

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2013-06-27T05:51:22.777

在 c# 中将“.dll”文件添加到全局程序集缓存中的简单步骤：

1.  在您的项目中，“添加引用”到要在 GAC 中安装的 .dll 文件
2.  形成参考，右键单击特定的 .dll 文件并选择“属性”
3.  将属性“复制本地”更改为“真”
4.  使用 wspBuilder 构建和部署
5.  为了验证，只需检查清单文件是否存在路径以及“C:\Windows\assembly”。

# java - 没有oracle客户端如何连接oracle数据库？

> ID：12382846
> 
> 赞同：-1
> 
> 时间：2012-09-12T07:08:55.990
> 
> 标签：java, oracle, netbeans, oracleclient

我想在没有oracle客户端的情况下连接oracle数据库。在搜索了我该怎么做之后，发现我必须使用oracle实例客户端。但是我该如何使用它呢？我找不到关于那个的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:11:47.813

Oracle 推荐的（也是最常用的）JDBC 驱动程序是[“瘦驱动程序”](http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-112010-090769.html)。它不需要在客户端上安装任何东西（并且是免费的）。

此常见问题解答可能有用：[http ://www.orafaq.com/wiki/JDBC](http://www.orafaq.com/wiki/JDBC)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:15:14.290

Oracle 客户端是可以从 oracle.com 网站轻松找到和下载的软件。它有Windows，Linux等不同的版本。安装适当的客户端后，您将能够通过指定其参数（例如主机地址，用户名，密码等）与数据库进行通信。没有它，我认为无法与之通信数据库服务器。

[http://www.orafaq.com/wiki/JDBC](http://www.orafaq.com/wiki/JDBC) 在此页面上它说：***“您必须使用适合您的 Oracle 客户端安装的 JDBC OCI 驱动程序。”*** 我从这里了解到的是，您应该在应用程序中使用 JDBC 驱动程序，但如果没有安装客户端，那将是无稽之谈。

# mysql - Mysql查询不按名称排序

> ID：12382847
> 
> 赞同：0
> 
> 时间：2012-09-12T07:08:58.443
> 
> 标签：mysql

我正在根据名称列对表进行排序，但排序不正确。

它是这样排序的：-根据字母顺序排列前 20 行，然后再次根据字母顺序排序。

这是我的查询

```
select Name,ID from tbl_book order by Name Limit 0,100 
```

这就是我得到的

```
abcd|2
bgry|3
...
...
zref|100
agtr|4
dret|10
...
... 
```

任何人都知道为什么会这样。

**更新**

```
ID int(11)
Name varchar(255) 
```

它的答案是

```
select ltrim(Name),ID from tbl_book order by 1 Limit 0,100 
```

由 TUXUDAY..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:19:18.827

试试这个查询：

```
SELECT Name, ID 
FROM  tbl_book
ORDER BY LTRIM(Name)
LIMIT 100; 
```

或者数据整理可能存在问题。也试试这个：

```
SELECT Name, ID 
FROM  tbl_book
ORDER BY LTRIM(Name) COLLATE latin1_swedish_ci 
LIMIT 100; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:12:37.927

试试喜欢

```
select name,id from tbl_book orderby name asc 
```

但是如果你想设置限制，那么你需要更新起始值并将限制值设置为常量，如 (100,20),(100,40),...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T07:20:39.067

你可以试试这个：

```
SELECT Name,ID FROM tbl_book ORDER by Name ASC LIMIT 0,100 
```

# r - OAuth2 GitHub API 令牌

> ID：12382848
> 
> 赞同：1
> 
> 时间：2012-09-12T07:09:02.697
> 
> 标签：r, api, oauth, github, token

在 github 中设置应用程序后，我有一个客户端 ID 和客户端密码，我不确定 URL 或回调 URL 是什么意思......我认为这给我带来了问题

我还有一个私人存储库，我希望应用程序可以访问...

我想访问私有仓库的方式是通过 R，所以我找到了一些可能有帮助的包，包括`ROAuth`and `oauth`，但我不太确定如何使用这些来获取令牌，因为它们往往需要一堆 URL 来发出请求，我不确定这些 URL 是什么来获取这些令牌请求。查看[http://developer.github.com/v3/oauth/](http://developer.github.com/v3/oauth/)就我对每个相应包的输入`oauth`或功能而言似乎没有太大帮助。`Oauth2Authorize`

最终目标是从私人仓库中获取文件，因为`source_url('private.repo.file.url')`它不起作用

我尝试通过 bash 使用 curl 进行基本身份验证，但找不到令牌。

任何有关如何执行此操作的演练示例将不胜感激。

PS 这是来自 r 的后续问题，[从 github 采购私人回购](https://stackoverflow.com/questions/12380491/r-sourcing-private-repos-from-github)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-14T18:51:45.173

您只需要在[https://github.com/settings/tokens](https://github.com/settings/tokens)创建一个 oAuth 令牌， 并使用如下代码通过 GitHub API 获取所需文件

```
library(RCurl)
library(devtools)
jsonRawFile <- fromJSON(getURL("https://api.github.com/repos/USERNAME/REPONAME/contents/filename.R",
       httpheader = c(Authorization = "token 38ebb0393fe1757ffde9c45d81adzzzzzzzzz",
                      "User-Agent" = "RCurl"),
       .opts = list(ssl.verifypeer = FALSE)))
source_url(jsonRawFile$download_url) 
```

Authorization header 的格式应该是严格的“token” + your_token_from_account。

# .net - 查询以选择不同的节点

> ID：12382850
> 
> 赞同：0
> 
> 时间：2012-09-12T07:09:09.753
> 
> 标签：.net, xml, linq, linq-to-xml

我需要编写一个 LINQ to XML 查询来选择具有不同 ID 的用户节点列表，这里属性 ID 在每个用户节点中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:16:48.177

```
var xmlSource = contacts.Load(@"../../Contacts.xml");

var q = from c in xmlSource.User
        where c.ID in (from c2 in xlsource.User select c.id ).distict().tolist()
        select c; 
```

你必须做这样的事情

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T07:11:48.270

以下查询

```
var grouping = elements.GroupBy(e => (string)e.Attribute("ID"))); 
```

将按属性 ID 对选定元素进行分组。

* * *

还是只需要身份证？清楚的？

```
var ids = elements.Select(e => (string)e.Attribute("ID")).Distinct(); 
```

# ruby - 如何使用 Sequel 从 SQLite3 中的时间列中提取月/年

> ID：12382855
> 
> 赞同：2
> 
> 时间：2012-09-12T07:09:30.433
> 
> 标签：ruby, sequel

我有一张这样的桌子：

```
db = Sequel.sqlite
db.create_table? :timesheets do
    primary_key :id
    String      :project
    Time        :start
end 
```

我在哪里插入这样的记录：

```
db[:timesheets].insert(:project => 'AAA', :start  => Time.now) 
```

我将如何从条目中提取“年份”？我尝试了以下方法：

```
db[:timesheets].select(:strftime.sql_function('%Y', :start)).filter(:id => 1).first
db[:timesheets].select(Sequel.extract(:month, :start)).filter(:id => 1).first
db.fetch("SELECT strftime('%Y', start) FROM timesheets;").first 
```

但它们似乎都不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T11:24:00.530

行。经过几天的头部撞击，我终于弄明白了。

`Time.now`确实以 SQLite 可以采用的标准化日期格式返回时间值。但是，如果将时区信息编码在其中，它就会变成非标准格式。

也就是说，如果`Time.now`给你 `YYYY-MM-DD HH:MM:SS.SSSSS`，那么你没关系：

```
2012-09-12 16:34:31.331394 
```

但如果它给你类似的东西 `YYYY-MM-DD HH:MM:SS.SSSSS +TimeZone`：

```
2012-09-12 16:34:31.331394+0530 
```

那么你就有麻烦了。

如果您还需要对 TimeZone 进行编码，则需要对其进行转换：

```
Time.now.xmlschema 
```

这会给你类似的东西：

```
2012-09-12T16:40:45+05:30 
```

然后 SQLite 可以智能地解析。

因此，问题中的 INSERT 语句变为：

```
db[:timesheets].insert(:project => 'AAA', :start  => Time.now.xmlschema) 
```

现在，以下查询可以正常工作：

```
db[:timesheets].select(:strftime.sql_function('%Y', :start)).filter(:id => 2)
db[:timesheets].select(:start.extract(:month)).filter(:id => 2)
db[:timesheets].fetch("SELECT strftime('%Y', start) FROM timesheets;") 
```

# android - 带有 2 个按钮布局的 Contentview 的自定义对话框 - 侦听器？

> ID：12382858
> 
> 赞同：1
> 
> 时间：2012-09-12T07:09:51.453
> 
> 标签：android, button, dialog, listener

从列表视图中，我打开一个警报对话框（3 个选项和 2 个按钮）

我有这个：

```
 LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(LAYOUT_INFLATER_SERVICE);// ass
            inflater = getLayoutInflater();
            View layout = inflater.inflate(R.layout.custom_dialog,null);
            AlertDialog.Builder builder = new AlertDialog.Builder(this);

            builder.setView(layout);
            builder.setTitle("Select");
            builder.setCancelable(true);
            builder.setSingleChoiceItems(tonos, -1,new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int item) {
                    Log.d(TAG, "Option: " + tonos[item]);
                    tone=tonos[item];

                    Button botonOK = (Button) findViewById(R.id.botOK);

                    try {
                        botonOK.setOnClickListener(new OnClickListener() {
                            public void onClick(View v) {
                                Log.d(TAG,"button ok");
                                }
                            });

                    } catch (Exception e) {
                        // TODO Auto-generated catch block
                        Log.d(TAG, "Exception " + e);
                    }

                }
            });

            alert = builder.create();
            alert.show();

    } 
```

第二个 onClick 的论点是否正确？我正在疯狂测试，但我没有找到解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:15:43.177

```
 LayoutInflater inflater = getLayoutInflater();
        View layout = inflater.inflate(R.layout.custom_dialog,null);
        AlertDialog.Builder builder = new AlertDialog.Builder(this);

        Button botonOK = (Button) layout.findViewById(R.id.botOK);
        botonOK.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                Log.d(TAG,"button ok");
            }
        });

        builder.setView(layout);
        builder.setTitle("Select");
        builder.setCancelable(true);
        builder.setSingleChoiceItems(tonos, -1,new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int item) {
                Log.d(TAG, "Option: " + tonos[item]);
                tone=tonos[item];
            }
        });

        alert = builder.create();
        alert.show(); 
```

# windows - Windows 驱动程序硬件 ID

> ID：12382866
> 
> 赞同：1
> 
> 时间：2012-09-12T07:10:09.083
> 
> 标签：windows, driver, inf

我正在使用 C# 和 WMI 做一些显示人员。我发现设备管理器中的 HardwareID 与我在 inf 文件中找到的不同。例如，我在 Inf 文件中找到：[制造商]

```
%KMDName% = KMD.Mfg

[KMD.Mfg]
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08C7
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08C8
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08C9
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08CA
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08CB
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08CC
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08CD
"Intel(R) Graphics Media Accelerator"= generic32, PCI\VEN_8086&DEV_08CE
"Intel(R) Graphics Media Accelerator"= generic32, [Manufacturer] 
```

但在设备管理器中，是

```
PCI\VEN_8086&DEV_08CF\SUBSYS00_blablabla.. 
```

Inf 文件中的 HardwareID 附加了一些内容。在最后或中间。有人解释一下吗？

我如何从 WMI 查询设备实例路径？或任何其他解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T10:22:44.820

硬件 ID 部分匹配。

总线驱动程序附加位置信息或附加序列号以消除设备实例的歧义。例如，PCI 总线驱动程序附加 PCI 插槽信息来识别卡。

# eclipse - 如何将 Android 设备与 eclipse 同步

> ID：12382867
> 
> 赞同：2
> 
> 时间：2012-09-12T07:10:09.130
> 
> 标签：eclipse, android-emulator, sync

我有一个安卓设备。如何与 Eclipse 同步以直接在移动设备中而不是在模拟器中执行代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:12:26.710

只需通过 USB 数据线将您的手机连接到您的计算机并运行您的应用程序。弹出窗口，您可以在连接的设备之间进行选择。确保您在设备中启用了调试模式。

# xslt - XSLT - 如何从 xs:date 获取本地化的日期模式字符串？

> ID：12382875
> 
> 赞同：1
> 
> 时间：2012-09-12T07:10:56.843
> 
> 标签：xslt, date, xslt-1.0, date-format

我需要转换一个包含许多 xs:date 值的 XML。

有没有比仅仅连接子字符串更好（更干净）的方法来从这些 xs:date 字段生成具有本地化日期模式的字符串？

UPD：我的意思是 xsl v1.0

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T09:26:59.053

在 XSLT 2.0 中，使用 format-date() 函数。

在 XSLT 1.0 中，考虑 exslt 日期和时间库。

# c# - DirectoryEntry() 在 .NET 4.0 中有效，但在 .NET 3.5 中无效？

> ID：12382884
> 
> 赞同：2
> 
> 时间：2012-09-12T07:11:43.490
> 
> 标签：c#, .net-4.0, exception-handling, .net-3.5, directoryservices

我有一个需要为 AD 系统中的用户运行查询的 Intranet。我正在尝试使用 DirectoryEntry() 对象进行连接，然后设置 DirectorySearcher() 并搜索用户。归结为最基本的，我的代码是这样的：

```
DirectoryEntry directoryObject = new DirectoryEntry("LDAP://RD-HQ/CN=Users,DC=rd-hq,DC=local");
DirectorySearcher ds = new DirectorySearcher(directoryObject);
ds.Filter = ("(&(objectClass=user))");
var test = ds.FindAll();
foreach (SearchResult item in test)
{
} 
```

奇怪的是，当我引用 System.DirectoryServices DLL 的 .NET4.0 版本时，这在我的开发机器上有效，但在 .NET3.5 中无效（其中 System.DirectoryServices DLL 的版本是 v2.0.0.0）。

我得到的具体错误是关于`ds.FindAll()`方法的，内容如下：

> 异常详细信息：System.DirectoryServices.DirectoryServicesCOMException：发生操作错误。

单步执行代码表明该`directoryObject`对象实际上没有在第一行正确初始化。构造函数没有失败，但所有属性都抛出异常。

有什么想法我可能做错了吗？谢谢，我意识到这是一个有点蹩脚的、模糊的问题。

* * *

解决了

好的，我设法通过使用接受用户名和密码的 DirectoryEntry() 构造函数的重载来解决这个问题：

```
DirectoryEntry directoryObject = new DirectoryEntry("LDAP://RD-HQ/CN=Users,DC=rd-hq,DC=local", "rd-hq.local\mick", "notmypassword"); 
```

我仍然不确定为什么这在 .NET3.5 版本与 .NET4.0 版本中的工作方式不同，并且很乐意将答案标记为正确，这至少可以帮助我更好地理解这些东西。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:53:55.193

> 构造函数没有失败，但所有属性都抛出异常。

当`DirectoryEntry`您访问相关属性之一时，实例将尝试绑定到目录 - 如果失败，属性访问器将引发异常。如果您尝试从调试器查看属性，也会发生这种情况。

在上面的代码中，绑定发生在`ds.FindAll()`被调用时。

显然存在绑定到目录的问题。

我很难相信 .NET Framework 版本会有所作为。我会将您的代码剥离为一个基本示例，您使用相同的代码和相同的环境用于 .NET 3.5 和 .NET 4 版本。

错误消息“发生操作错误”相当普遍，但如果您没有访问目录的权限，则可能会发生。因此，一种可能性是您的 .NET 3.5 和 .NET 4 版本在不同的身份下运行。至少这似乎是导致[此类似问题](http://forums.asp.net/t/1799622.aspx/1)的原因。

DirectoryCOMException 返回的 ErrorCode 也可能提供线索。

# android - 如何在android中使用方位平滑旋转地图视图

> ID：12382887
> 
> 赞同：11
> 
> 时间：2012-09-12T07:11:48.957
> 
> 标签：android, google-maps, geolocation

当用户改变他的方向时，我试图旋转地图视图，即如果用户左转和右转，它应该相应地旋转。我正在根据当前位置旋转地图视图，轴承旋转正确但抖动。这是代码我用于旋转

```
 public void onGPSUpdate(Location location) 
{
     boolean check=isBetterLocation(location, tempLoc);
    tempLoc=location;

     if(check){
        showLocation(location);

     }

}
isBetterLocation method is copied from google docs for better location.

private void showLocation(Location loc){
   mRotateView.rotate(-loc.getBearing());             
   } 
```

我注册了一个时间间隔为 0 且最小距离为 10 的位置更新以进行频繁更新。这里我的问题是地图视图总是抖动，谁能告诉我如何像 waze 地图这样的其他应用程序一样平滑地旋转地图视图。谢谢。 ..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T13:38:31.443

您是在尝试以平滑的方式旋转地图，例如一次旋转一度，还是在位置更新时将其从 A 度转到 B 度？

就像是

```
while (oldAngle != newAngle)
{
mapView.rotate(newAngle);
// this is where you would decied to add or subtract; 
newAngle ++ or -- ; 
} 
```

不确定这是否会完全像循环运行得很快那样工作，所以可以将其作为 asynctask 执行，并在其中添加暂停以模拟平滑旋转。

```
Double angle = Math.atan2((userstartPoint.getX() - userendPoint.getX()), userstartPoint.getY() - userendPoint.getY());
            angle = Math.toDegrees(angle);
            map.setRotationAngle(angle); 
```

所以基本上我得到起点（新位置），然后是终点（旧位置），并在其上执行 Math.atan2，如您所见。然后将其转换为度数并将其设置为我的地图旋转。现在它不会进行平滑旋转，但我不需要。在这里您可以设置自己的步进器以实现平滑旋转。除非谷歌地图已经有一个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-21T19:13:03.040

由于 Location 的方位值不是很精确，并且往往会稍微跳跃，因此您应该对方位使用过滤器。例如，将最后 5 个方位值保留在一个数组中，并使用这些值的平均值作为将地图旋转到的方位。或者使用[SensorEvent 文档](http://developer.android.com/reference/android/hardware/SensorEvent.html)中解释的过滤器- 它更易于使用并且可以更好地调整。

这将平滑地图的旋转。保持更稳定。

**编辑：**

低通滤波器的一个版本：

```
public static float exponentialSmoothing(float input, float output, float alpha) {
    output = output + alpha * (input - output);
    return output;
} 
```

像这样使用它：

```
final static float ALPHA = 0.33; // values between 0 and 1
float bearing;

// on location/bearing changed:

bearing = exponentialSmoothing(bearing, newBearing, ALPHA); 
```

`bearing`将是用于实际旋转地图的值，`newBearing`将是您从每个事件中获得的方位，并且`ALPHA`您可以通过加权新旧方位的多少来控制旋转对新方向的速度或速度考虑到结果。较小的值对旧值的权重较高，较高的值对新值的权重较高。

我希望效果更好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-15T18:13:43.623

要更改地图的方位，请使用`Camera`该类。您可以`CameraPosition`使用新方位定义新方位，并告诉相机随其中一个移动，`GoogleMap.moveCamera`或者`GoogleMap.animateCamera`如果您想要平滑移动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-28T06:21:24.043

我已经在我的应用程序中实现了这一点。我基本上所做的是，我采用了路径的最后一个和倒数第二个 LatLng 并通过使用计算方位

```
public static float getRotationAngle(LatLng secondLastLatLng, LatLng lastLatLng)
{
    double x1 = secondLastLatLng.latitude;
    double y1 = secondLastLatLng.longitude;
    double x2 = lastLatLng.latitude;
    double y2 = lastLatLng.longitude;

    float xDiff = (float) (x2 - x1);
    float yDiff = (float) (y2 - y1);

    return (float) (Math.atan2(yDiff, xDiff) * 180.0 / Math.PI);

} 
```

将此角度设置为相机位置的方位角。

注意：有时（很少）它会将地图旋转到相反的方向。我正在寻找它，但如果有人有理由请回复。

# c# - 在文件中读取和写入嵌套字典？

> ID：12382893
> 
> 赞同：0
> 
> 时间：2012-09-12T07:12:16.457
> 
> 标签：c#, .net, windows-phone-7, dictionary

我是 Windows 手机的新手。我成功地从文件中写入和读取字典。但是我一直坚持从文件中读取嵌套字典。

1.  Main_dictionary
    1.  登录（键），字典（值）`
    2.  验证（键），字典（值）
2.  Main_dictionary

我需要将公共字典下的这些值写入文件，还需要从同一个文件中读取。任何帮助。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:11:08.113

您可以按照[如何对字典进行 XML 序列化](https://stackoverflow.com/questions/3671259/how-to-xml-serialize-a-dictionary)中所述使用[XmlSerializer](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer.aspx)。[它引用了http://huseyint.com/2007/12/xml-serializable-generic-dictionary-tipi/](http://huseyint.com/2007/12/xml-serializable-generic-dictionary-tipi/)中的示例代码（不是英文，但代码很有帮助）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:43:06.920

我得到了解决方案............

public Dictionary FileRead(string Key) { Dictionary > FileResponse = new Dictionary>(); Dictionary ReturnDictionary = new Dictionary(); 尝试 { 使用 (IsolatedStorageFile isolatedStorage = IsolatedStorageFile.GetUserStoreForApplication()) { 使用 (IsolatedStorageFileStream fileReader = new IsolatedStorageFileStream(DisplayMessage.Storage_Directory,FileMode.Open, FileAccess.ReadWrite, isolatedStorage)) { DataContractSerializer datacontract = new DataContractSerializer(typeof(Dictionary>)) ; FileResponse = (Dictionary>)datacontract.ReadObject(fileReader); ReturnDictionary = FileResponse[Key]; } } } catch (Exception ex) { } return (ReturnDictionary); }

```
 public void FileWrite(string Key,Dictionary<string, string> FiletoStore)
    {
       try
        {
           using (IsolatedStorageFile isolatedStorage = IsolatedStorageFile.GetUserStoreForApplication())
            {
                Dictionary<string, Dictionary<string, string>> StoredDictionary = new Dictionary<string, Dictionary<string, string>>();
                if (!isolatedStorage.FileExists(DisplayMessage.Storage_Directory))
               {
                   using (IsolatedStorageFileStream IsolatedfileStream = new IsolatedStorageFileStream(DisplayMessage.Storage_Directory, FileMode.OpenOrCreate, isolatedStorage))
                   {
                        DataContractSerializer datacontract = new DataContractSerializer(typeof(Dictionary<string, Dictionary<string, string>>));
                       StoredDictionary.Add(Key, FiletoStore);
                       datacontract.WriteObject(IsolatedfileStream, StoredDictionary);
                      IsolatedfileStream.Close();
                    }
                }
               else
                {
                    using (IsolatedStorageFileStream IsolatedfileStream = new IsolatedStorageFileStream(DisplayMessage.Storage_Directory, FileMode.Open, isolatedStorage))
                    {
                        DataContractSerializer datacontract = new DataContractSerializer(typeof(Dictionary<string, Dictionary<string, string>>));
                       StoredDictionary.Add(Key, FiletoStore);
                       datacontract.WriteObject(IsolatedfileStream, StoredDictionary);
                      IsolatedfileStream.Close();
                   }
              }
           }
       }
       catch (Exception ex)
      {
       }
    } 
```

# c# - 从 Sharepoint 日历中获取重复项目时出现问题

> ID：12382894
> 
> 赞同：1
> 
> 时间：2012-09-12T07:12:19.170
> 
> 标签：c#, sharepoint-2010, calendar, caml, recurring-events

我想获取特定日期的所有项目。以编程方式将条目添加为重复事件，现在我需要根据用户选择的日期在每一天获取重复事件的所有实例。

例如：我在 9 月 12 日创建了 3 个重复条目，并在 9 月 21 日结束，这三个条目都有不同`TIME`的和单独的`ROOM NAME` ![日历](../Images/b57913a85ef364b6d29f8ffcbb0b0836.png)

我想根据所选日期在 12 日、13 日、14 日等到 21 日获取所有项目。

以下是我正在使用的代码来获取选定日期的所有条目，bt 我在这里遇到的问题是，**只有当我选择日期为 12thSept**以及所有**其他日期（即从 13 日到 21日）时，查询才会返回项目查询不返回任何结果**。

```
 SPQuery oQueryBookings = new SPQuery();

                            string strQuery = "";
                            oQueryBookings.ExpandRecurrence = true;
                            //oQueryBookings.Query = strQuery;
                            oQueryBookings.CalendarDate = date.Date;
                            SPListItemCollection oCollBookings = null;
                            strQuery = "<Where><And><DateRangesOverlap><FieldRef Name='EventDate' />" +
                            "<FieldRef Name='EndDate' />" +
                                       "<FieldRef Name='RecurrenceID'/>" +
                                       "<Value Type='DateTime'>" +
                                       "<Today />" +
                                       "</Value>" +
                                      "</DateRangesOverlap>" +
                                      "<Eq><FieldRef Name='Room' /><Value Type='Lookup'>" + room + "</Value></Eq>" +
                                      "</And></Where>";

oQueryBookings.ViewFields = string.Concat("<FieldRef Name='Title' />" +
                    "<FieldRef Name='EventDate' />" +
                    "<FieldRef Name='EndDate' />" +
                    "<FieldRef Name='Location' />" +
                    "<FieldRef Name='Description' />" +
                    "<FieldRef Name='fRecurrence' />" +
                    "<FieldRef Name='RecurrenceData' />" +
                    "<FieldRef Name='fAllDayEvent' />" +
                    "<FieldRef Name='LinkTitle'/>" +
                    "<FieldRef Name='Room'/>");

                            oQueryBookings.Query = strQuery;
                            oCollBookings = list.GetItems(oQueryBookings);
                            if (oCollBookings.Count > 0)
                            {
                               //Code Here
                            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T05:52:06.913

问题在于保存项目，`EventDate`&`EndDate`被保存为同一天。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T14:43:06.437

问题是您正在使用`<Today/>`. 您已经在查询中设置了 CalendarDate 属性，因此我建议您使用`<Week/>`或`<Month/>`改为获取其余项目。

# java - Java中堆栈跟踪的可选打印

> ID：12382897
> 
> 赞同：9
> 
> 时间：2012-09-12T07:12:35.143
> 
> 标签：java, exception-handling

我正在创建一个 java 应用程序，其中可能会引发异常。我在 try-catch 块中处理这些异常并打印适当的消息，以便业务用户在发生故障时不必看到丑陋的堆栈跟踪。

但是现在当我调试时，我想以这样一种方式调用 JAR 文件，它会为我打印堆栈跟踪，这样我就可以知道问题到底出在哪里。

有人可以告诉我如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-12T13:28:08.100

您可以使用[slf4j](http://www.slf4j.org/)作为外观，以便能够快速更改实现并将[logback](http://logback.qos.ch/)作为日志记录的实现。slf4j 和 logback 的结合是目前非常高效的日志系统。如果您想使用其他实现，例如 log4j、JDK 1.4 或 Jacarta Commons 日志记录，您可以将实现（绑定）的 jar 更改为您想要的。它遵循如何使用 slf4j 和 logback 的快速用户手册。

## 设置你的环境

首先，您应该导入使用 slf4j 所需的必要 jar。

*   进入[slf4j下载页面](http://www.slf4j.org/download.html)，下载slf4j-1.7.0.zip
*   解压 slf4j-1.7.0.zip
*   进入[logback下载页面](http://logback.qos.ch/download.html)，下载logback-1.0.7.zip
*   提取 logback-1.0.7.zip

**日食指南**

*   在 Eclipse 中转到您的项目并右键单击它。选择**属性**。

*   从左侧面板中选择**Java Build Path**

*   选择**库**选项卡

*   单击**添加外部罐子**

*   找到您提取的文件夹并从**logback-1.0.7**文件夹中添加**logback-core-1.0.7.jar**、**logback-classic-1.0.7.jar**和从**slf4j-1.7.0中****添加 slf4j-api-1.7.0.jar**文件夹。单击确定返回项目。

 ********Netbeans 指南**

*   转到您在 Netbeans 中的项目并右键单击它。选择**属性**。

*   从左侧面板中选择**库**

*   选择**编译**选项卡

*   单击**添加 Jar/文件夹**

*   找到您提取的文件夹并从**logback-1.0.7**文件夹中添加**logback-core-1.0.7.jar**、**logback-classic-1.0.7.jar**和从**slf4j-1.7.0中****添加 slf4j-api-1.7.0.jar****文件夹**。单击确定返回项目。

 ******> *如果您没有使用上述任何环境，您应该在类路径中手动添加上述 3 个 jar。根据您的操作系统，需要遵循不同的过程。

* * *

## 使用日志框架

首先，您应该导入所需的依赖项：

```
import org.slf4j.Logger;
import org.slf4j.LoggerFactory; 
```

您要记录的每个类都应该有一个私有记录器：

```
private final Logger logger = (Logger) LoggerFactory.getLogger(this.getClass()) 
```

通过为每个类使用单独的记录器，您可以提供更大的灵活性和更轻松地更改日志记录级别（WARN、ERROR、INFO、DEBUG）。

根据你想使用的日志级别，你应该有

```
logger.info("Your info message");

logger.error("Your error message");

logger.debug("Your debug message");

logger.warn("Your warn message"); 
```

还可以根据您的需要使用更复杂的方法调用。例如，如果您想调试并显示您应该使用的堆栈跟踪

```
logger.debug("Your debug message",e);
(e stands for a catched exception). 
```

例如：

```
try{       
   //some code  
}catch (IOException e){
   logger.debug("An IOException was thrown at this method ",e);       
   logger.error("An IOException was thrown at this method ",e); 
} 
```

> *此时无需添加任何其他配置，您就有了一个简单的日志记录系统。如果您想要更高级的配置，请阅读我在下面发布的 logback 的高级设置。

* * *

## logback 的高级设置

为了拥有更高级的日志记录系统，您应该创建一个包含所有日志记录配置的附加文件。对于这个例子，我将使用 logback.xml。有关 logback 不同文件的更多信息，请参阅[logback 配置](http://logback.qos.ch/manual/configuration.html)。

此时您应该创建一个名为 resources 的文件夹并将其添加到项目的构建路径中。

**日食指南**

*   创建一个名为 resources 的文件夹（您必须在项目中看到该文件夹​​）

*   在 Eclipse 中转到您的项目并右键单击它。选择**属性**。

*   从左侧面板中选择**Java Build Path**

*   选择**源**选项卡

*   单击**添加文件夹**

*   勾选您创建的资源文件夹，然后单击确定。单击确定返回项目。

*   此时您应该将资源文件夹视为一个包。

**Netbeans 指南**

*   创建一个名为资源的文件夹（它在项目视图中尚不可见..仅在文件视图中）

*   转到您在 Netbeans 中的项目并右键单击它。选择**属性**。

*   从左侧面板中选择**来源**

*   在 Source package 文件夹中，单击**Add Folder**。

*   选择 **资源**文件夹，然后单击确定。

*   您应该看到创建为包的文件夹。

> *文件夹的名称可以是您喜欢的任何名称。为方便起见，我将其命名为资源。

**以下适用于 Eclipse 和 Netbeans。**

> *如果您的类路径中没有以下文件，这些文件指定了日志框架中的特定设置，则在 DEBUG 中自动分配根 logger 级别。这意味着将记录所有日志记录级别。调试是更高的级别。

*   创建一个名为 logback.xml 的文件夹并将其放在资源文件夹中。
*   在 logback.xml 中放置以下标签。

    ```
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <level>INFO</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>   
        <encoder>
            <pattern>[%-5level] - %msg%n
            </pattern>
        </encoder>
    </appender>

    <appender name="FILE" class="ch.qos.logback.core.FileAppender">
        <append>false</append>
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <level>DEBUG</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %class - %msg%n
            </pattern>
        </encoder>
        <File>log/log.txt</File>
    </appender>

    <logger name="org.test" level="INFO" additivity="false">
        <appender-ref ref="STDOUT" />
    </logger>

    <logger name="org.test" level="DEBUG" additivity="false">
        <appender-ref ref="FILE" />
    </logger>

    <root level="OFF">

    </root> 
    ```

上面的配置包含 2 个不同的 appender，一个在控制台中，一个在名为 log.txt 的文件中。该文件将被放置在名为 log 的文件夹中。如果文件夹日志不存在，将自动创建。

您将使用的模式取决于您以及您的消息的信息量。在当前配置中，控制台附加程序的描述性较差，仅显示日志记录级别和消息，与包含日志记录级别、线程名称、类名、时间和消息的文件附加程序相比。值 append 设置为 false 以便在每次运行应用程序后创建一个新的日志文件。

上面的配置对同一个包使用了 2 个不同的记录器。第一个记录器仅在控制台中打印信息消息，第二个记录器将调试消息打印到文件中。这是通过使用放置在附加程序内的过滤器来实现的。

> *在记录器名称中，您可以使用类的完全限定名称或包名称。在这种情况下，我假设包结构 org.test 并将类放在这个包中。如果您具有类的完全限定名称，则日志记录配置将仅应用于该类。如果您使用包名，则该包内的所有类都将遵循上述配置。

有许多不同的方法可以使用 appenders 和 loggers，这取决于您的需求和程序的复杂性。根据您描述的情况，我相信上述解决方案可以满足您的需求。

PS 有关更多描述性定义和更高级配置，您可以参考[Logback 手册](http://logback.qos.ch/manual/introduction.html)

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-09-12T07:14:56.370

为什么不使用日志记录级别。？

**使用您的用户理解的业务代码**调试**您的技术错误和**INFO**或**ERROR 。****

 *** * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T07:18:13.163

此类事情通常由记录器和不同的日志级别处理。

您通常有 3 个日志级别，一般日志、警告和错误。当您输出时，您决定消息的级别

当你启动你的应用程序时，你会告诉你的记录器它应该显示哪个级别。对于您的用户，这将是错误的，只有最糟糕的事情应该是可见的，对于您自己，您将输出所有内容

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2012-09-12T07:20:29.477

在两个不同的位置创建两个具有相同包/名称的类

```
public class PrintStackTraceUtil
 {
 public static void printStackTrace(Throwable err)
     {
     //ignore
     }
 } 
```

和

```
public class PrintStackTraceUtil
 {
 public static void printStackTrace(Throwable err)
     {
     err.printStackTrace();
     }
 } 
```

编译你的java程序时，只把这些路径之一放在你的源路径中**************

# c# - 如何检查线程的状态

> ID：12382898
> 
> 赞同：2
> 
> 时间：2012-09-12T07:12:36.970
> 
> 标签：c#, .net, multithreading

我有 winform 应用程序，我正在尝试播放多个视频，我正在为此创建线程。我的代码是：

```
public String[,] vpath = new String[3, 7]; 
public Video[,] video = new Video[3, 7];
public static Thread[,] th = new Thread[3, 7];

public void playclick(object sender, EventArgs e)
    {
        int i, j;

        for (j = 0; j <= 7 - 1; j++)
        {
            for (i = 0; i <= 3 - 1; i++)
            {
                if (btnp[i, j].Capture)
                {
                    //play();

                    th[i, j] = new Thread(new ThreadStart(play));
                    th[i, j].IsBackground = true;
                    th[i, j].Start();
                }
            }
        }

    }

 public void play()
    {

            int i, j;
            for (j = 0; j <= 7 - 1; j++)
            {
                for (i = 0; i <= 3 - 1; i++)
                {
                    if (th[i, j].ThreadState == ThreadState.Running) // Having problem here
                    {
                        if (video[i, j].State != StateFlags.Running)
                        {
                            video[i, j].Play();
                        }
                    }
                }
            }      
    } 
```

因此，如果没有该 if 语句，它将在单键按下时运行所有视频。但我想运行线程所在的特定视频..

请帮帮我

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T08:01:21.923

ThreadState 是位掩码类型的属性（enum 有 [Flags] 属性，总是提示），所以不用==直接检查，只需要检查相关位即可：

```
if ((t.ThreadState & ThreadState.Running) == ThreadState.Running) { ... 
```

阅读[此处](http://www.albahari.com/threading/part2.aspx#_ThreadState "这里")了解 ThreadState 值的含义。通过阅读它，可能还有整篇文章或整本书（强烈推荐！），您也很可能会注意到您的方法可能不是理想的方法。虽然不知道你的确切结局，但很难建议一个确切的结局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T08:31:50.963

至于为什么你会得到一个例外，HaemEternal 在他的评论中指出了这一点。您一次只初始化一个线程，但您正在检查所有线程。`null`线程对象没有值`ThreadState`。

不过，我可以建议你完全改变你的设计吗？无需不断检查激活了哪个线程。您可以将方法的签名更改`Play()`为接受`Object`，并且可以将正确的视频传递给使用该方法的方法`Object`。

```
public void playclick(object sender, EventArgs e)
{
    int i, j;

    for (j = 0; j <= 7 - 1; j++)
    {
        for (i = 0; i <= 3 - 1; i++)
        {
            if (btnp[i, j].Capture)
            {
                //play();

                th[i, j] = new Thread(new ParameterizedThreadStart(play));
                th[i, j].IsBackground = true;
                th[i, j].Start(video[i,j]);
            }
        }
    }

}

public void play(object video)
{
    Video vid = video as Video; 
    if (vid.State != StateFlags.Running)
    {
        vid.Play();
    }        
} 
```

更好的方法是将这三个元素封装在一个包含`Video`对象、`Thread`对象和路径的对象中`string`。

如果您拥有`Video`该类，您甚至可能想要创建该类的 the`Thread`和`string`values 字段。您甚至可能希望在您的按钮上创建一个新对象类型的字段，以便每个按钮都与一个按钮相关联。这在面向对象设计中更为典型。没有理由你应该维护四个独立的大小相同的数组，每个数组都有不同的类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-31T08:40:18.747

@tar 的答案给出了一些提示，但代码是错误的（正如 @Sampath 所评论的那样）。

这来自`ThreadState`以一种可疑的奇怪方式实现的事实：通常，位掩码状态是使用例如 bit 1 来实现 state`on`和相同的 bit 来实现的`off`。事实并非如此，例如，`Running` 状态具有 0 值，而 1 值被`StopRequested`.

所以做一点检查是不明智的。

第一种方法是使用 or 语句检查状态：

```
while (t.ThreadState == ThreadState.Running ||
    t.ThreadState == ThreadState.Background)
    Application.DoEvents();
t.Join(); 
```

请记住，如果您在后台启动一个进程，您将 `ThreadState.Background`返回枚举值而不是返回`ThreadState.Running`，这就是我将两者都放入的原因。

更好更简单的方法是：

```
while (t.IsAlive)
    Application.DoEvents();
t.Join(); 
```

# .net - WebBrowser 控件有时未启用

> ID：12382903
> 
> 赞同：0
> 
> 时间：2012-09-12T07:12:56.663
> 
> 标签：.net, vb.net, winforms, webbrowser-control

我正在使用`System.Windows.Forms.WebBrowser`Control，但它在我的 PC 中运行良好。但是当我检查另一台机器时它不工作。

意味着我没有收到任何错误，但我无法在 webBrowser Control 中写入，而它在我的 PC 中运行良好。

是否需要检查任何硬件？因为两台机器具有相同的配置和相同的用户权限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T14:24:14.043

您是否在第二台机器上通过 IDE/Visual Studio 运行源代码？或者你只是编译EXE并在第二台机器上运行EXE？

另外，当您说它不起作用时，您的实际意思是什么？你的意思是，WB Control 甚至没有出现在你的表单上？或者它是否显示，但它不加载网页？您是否尝试加载网页但网页未显示？如果是这样，当您尝试在第二台机器上加载网页时收到的错误是什么？

你确定它在你的参考标签中被正确引用了吗？

您需要提供更具体和准确的详细信息，以便我们为您提供帮助，因为我们看不到您所看到的内容，因此您需要用语言表达相关部分，以便我们知道您在说“我无法在 webBrowser Control 中写入”。

让我知道，我期待着帮助你。

# java - Selenium WebDriver Java 定位两个不同的表格单元格

> ID：12382904
> 
> 赞同：0
> 
> 时间：2012-09-12T07:12:59.113
> 
> 标签：java, selenium, selenium-webdriver, html-table

我在 Java 中使用 Selenium Webdriver。我有一张桌子，我喜欢把手放在第一行的最后一个单元格和最后一行的最后一个单元格上。我设法得到其中之一

```
WebElement table =driver.findElement(By.className("dataTable"));
List <WebElement> rows = table.findElements(By.tagName("tr"));
WebElement firstrow= rows.get(0);
WebElement lastrow= rows.get(rivit.size()-1); 
List <WebElement> firstcells = firstrow.findElements(By.tagName("td"));
List <WebElement> lastcells = lastcell.findElements(By.tagName("td"));

firstcell.get(6).getText()); 
```

这是因为我两次定位 td-tags。任何提示如何很好地获得两个单元格？我的行或单元格中没有标识符。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:34:59.997

您可以使用 xpath 来获取元素：

```
WebElement lastCellInFirstRow = driver.findElement(By.xpath("table[@class='dataTable']//tr[1]//td[last()]"));
WebElement lastCellInLastRow = driver.findElement(By.xpath("table[@class='dataTable']//tr[last()]//td[last()]")); 
```

这是[xpath 规范](http://www.w3.org/TR/xpath/)。[你可以在这里](http://ponderer.org/download/xpath/)玩 xpath 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T08:48:41.697

您可以尝试使用 cssSelectors 来实现：

```
String cssLast="table[class='dataTable']>tr:first-child>td:last-child"
String cssFirst="table[class='dataTable']>tr:last-child>td:last-child" 
```

会是这样的；

```
driver.findElement(By.cssSelector(cssLast)).getText();
driver.findElement(By.cssSelector(cssFirst)).getText(); 
```

**另一种方法是使用js：**

```
String getText(cssSel){
 JavascriptExecutor js = (JavascriptExecutor) driver;
        StringBuilder stringBuilder = new StringBuilder();

stringBuilder.append("var x = $(\""+cssSel+"\");");
        stringBuilder.append("return x.text().toString();")       ;

       String res= (String) js.executeScript(stringBuilder.toString());
}

text1=getText(cssLast);
text2=getText(csscssFirst); 
```

但请始终确保您正确定位元素（例如，在 firefox 中使用 firepath、firebug 插件） ![在此处输入图像描述](../Images/25961048b1d450a176dc7f85e7a5a5d4.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-03-19T21:14:36.970

TableDriver 扩展（[https://github.com/jkindwall/TableDriver.Java](https://github.com/jkindwall/TableDriver.Java)）提供了一种很好的干净方式来处理这样的事情。如果您的表格有标题，您可以（并且应该）通过标题文本识别单元格列，但如果您没有标题，您仍然可以执行类似的操作。

```
Table table = Table.createWithNoHeaders(driver.findElement(By.className("dataTable")), 0);
WebElement firstRowLastCell = table.findCell(0, table.getColumnCount() - 1);
WebElement lastRowFirstCell = table.findCell(table.getRowCount() - 1, table.getColumnCount() - 1); 
```

# delphi - Synapse TBlockSocket 偶尔会冻结

> ID：12382905
> 
> 赞同：0
> 
> 时间：2012-09-12T07:13:04.980
> 
> 标签：delphi, tcpclient, freeze, winsock2, synapse

我创建了一个使用 TCP/IP 作为客户端与外部设备通信的应用程序。我正在使用 Synapse 库 (v40) 进行通信。然而，有时沟通会冻结。我设法使用 JclDebug 获取调用堆栈，表明尽管定义了超时，但接收数据包是问题所在。

使用的是德尔福 2009。

我能做些什么来解决这个问题吗？突触中的错误？

```
[77297094] KiFastSystemCallRet 
[006193FE] blcksock.TBlockSocket.InternalCanRead (Line 2741, "synapse\blcksock.pas") 
[0061945C] blcksock.TBlockSocket.CanRead (Line 2764, "synapse\blcksock.pas") 
[006185E5] blcksock.TBlockSocket.RecvPacket (Line 2324, "synapse\blcksock.pas") 
[0061888F] blcksock.TBlockSocket.RecvTerminated (Line 2410, "synapse\blcksock.pas")    
... my own code.. 
```

**编辑：**阻塞线是：

```
x := synsock.Select(FSocket + 1, @FDSet, nil, nil, TimeVal); 
```

Select -function 来自 winsock2 API。

**Edit2：** TimeVal 由 Synapse 代码设置：

```
var
  TimeVal: PTimeVal;
  TimeV: TTimeVal;
..
  TimeV.tv_usec := (Timeout mod 1000) * 1000;
  TimeV.tv_sec := Timeout div 1000;
  TimeVal := @TimeV;
  if Timeout = -1 then
    TimeVal := nil; 
```

原始源代码在这里：[http ://synalist.svn.sourceforge.net/viewvc/synalist/trunk/blcksock.pas?revision=154&view=markup](http://synalist.svn.sourceforge.net/viewvc/synalist/trunk/blcksock.pas?revision=154&view=markup)

使用的超时为 1000。

**Edit3：**我有两个客户端线程正在运行以与两个不同的主机通信。看起来只有另一个挂着。自周四以来，应用程序一直在运行。线程 #2 在 5 小时后挂起，但线程 #1 仍在运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-23T09:38:30.350

由于我找不到冻结的原因，我对代码进行了一些更改，现在最终以 CRLF 作为终止符而不是“>”调用 RecvTerminated，它似乎可以不停地工作。

# javascript - 如何调试 Javascript 代码或函数？

> ID：12382907
> 
> 赞同：0
> 
> 时间：2012-09-12T07:13:11.170
> 
> 标签：javascript

我有一些 Javascript 代码。
我想跟踪错误并调试它。
怎么做 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:18:03.727

过去，javascript 中的调试非常有限。您可以发布警报以指示可变状态或将信息打印到网页。在语法错误的情况下，它根本不会执行所有代码（这意味着您必须在错误之前放置警报才能知道它在哪里）。

值得庆幸的是，浏览器已经赶上了。 [Firebug和](http://getfirebug.com/)[Chrome 的开发工具](https://developers.google.com/chrome-developer-tools/docs/overview)一样非常有用，它们都使用断点、表达式评估以及一系列其他有用的工具来调试浏览器。我建议你看看这些。我相信 Internet Explorer 也有一个开发人员工具部分，但我发现这不是我喜欢的，但是你可以自由使用你需要/需要的任何东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:16:59.427

这取决于浏览器：

*   Firefox：下载[Firebug 扩展](http://getfirebug.com/)

*   Opera：使用内置的[Opera Dragonfly](http://www.opera.com/dragonfly/)

*   基于 Webkit（Chrome、Safari、Rockmelt...）：按 F12 打开内置的[Webkit 调试器](https://developers.google.com/chrome-developer-tools/docs/overview)

*   Internet Explorer 9+：按 F12 打开内置的[开发者工具](http://msdn.microsoft.com/en-us/library/ie/gg589507%28v=vs.85%29.aspx)

*   IE <=8: 安装[DebugBar](http://www.debugbar.com/)

这些工具中的大多数都可以通过以下键盘快捷键访问：

*   `CTRL`+ `SHIFT`+`I`
*   `F12`

寻找“控制台”选项卡。浏览器会打印各种错误，例如 JavaScript 错误、资源未加载错误等。要手动写入控制台，大多数浏览器都会提供`console`托管控制台功能的对象。最常用的是`console.log('text')`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T07:23:08.393

**谷歌浏览器**

F12 -> 控制台。

在代码使用中：`console.log(variables);`

# android - 使用 API 7 Android 在 WebView 中禁用缩放控制

> ID：12382910
> 
> 赞同：4
> 
> 时间：2012-09-12T07:13:15.247
> 
> 标签：android, webview, zooming

我想禁用 WebView 中的缩放控制。我正在使用此代码来隐藏控件：

```
web.getSettings().setDisplayZoomControls(false); 
```

但是这个代码可以在 API 11 之后在 Android 中使用，以及如何使用 API 7 禁用它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T17:18:42.950

检查一下：[在 Android WebView 中启用/禁用缩放](https://stackoverflow.com/questions/5125851/enable-disable-zoom-in-android-webview) 有一个实现，用于您要求实现的目标。

# drupal - 如何在我的 drupal 应用程序的每个页面中添加元关键字标签？

> ID：12382916
> 
> 赞同：1
> 
> 时间：2012-09-12T07:13:34.243
> 
> 标签：drupal, drupal-6, seo, meta-tags

我想添加一个元关键字标签，该标签必须与我的 drupal 网站中的每个页面一起提供。怎么做 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:00:35.743

[使用元标记](http://drupal.org/project/metatag)模块太容易了。
对于drupal6，我发现了这个：[Meta tags Node Type](http://drupal.org/project/nodewords_nodetype)

欢迎

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T04:36:57.693

**只需在您的template.php**文件（自定义）的顶部添加下面给出的代码。

```
drupal_set_html_head('<meta name="keywords" content="CustomKeyword" />'); 
```

完毕。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T08:13:59.260

它可能需要一些调整，但我构建了一个模块来做到这一点。

[https://github.com/SpaceBeers/Drupal-7-Meta-Tags-Module](https://github.com/SpaceBeers/Drupal-7-Meta-Tags-Module)

它还允许您设置站点范围的默认标题和描述，可以为每个节点覆盖。您可以选择显示在哪些内容类型上。

很高兴能得到一些反馈。

# asp.net-mvc - Asp.Net MVC 3：具有特殊 AD 组用户的 Intranet 应用程序？

> ID：12382917
> 
> 赞同：0
> 
> 时间：2012-09-12T07:13:38.427
> 
> 标签：asp.net-mvc, asp.net-mvc-3, active-directory, ntlm

我看到我可以创建一个使用 NTLM 身份验证的 Intranet 身份验证。这几乎是我需要的。此外，我还需要检查用户是否在 AD 中的指定组中。

有没有一种简单的方法可以做到这一点？它适用于一个非常小的 Web 应用程序（开发 8-10 天）。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T09:25:54.587

您可以使用参数将 Authorize 属性添加到相关控制器以检查组。

例如

```
 [Authorize("mydomain/admin")]
 public class MyController : Controller
 {

 } 
```

您还需要在网站上启用 Windows 身份验证。

高温高压

硅

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:34:29.950

```
var ctx = new PrincipalContext(ContextType.Domain);

var userPrincipal = UserPrincipal.FindByIdentity(ctx, IdentityType.SamAccountName, userName);

 var groups = userPrincipal.GetGroups(); 
```

在这里，您拥有所有与当前用户相关联的第一级组。如果您想更深入地检查，例如第一级组所属的组，您必须编写递归函数，该函数将遍历整个组图。

```
var ctx = new PrincipalContext(ContextType.Domain);

var groupPrincipal = GroupPrincipal.FindByIdentity(ctx, IdentityType.SamAccountName, childGroup.SamAccountName);

var currentLevelGroups = groupPrincipal.GetGroups(); 
```

使用这三行，您可以获得指定组的父组。

您可以在每个步骤中检查给定组是否是收集组的一部分，如果是，则中断并返回 true。

# qt - 在 Qt 脚本原型中声明一个信号

> ID：12382922
> 
> 赞同：0
> 
> 时间：2012-09-12T07:14:01.217
> 
> 标签：qt, scripting, prototype

我尝试在原型中声明一个信号，然后连接它是脚本功能，由于某种原因它不能像我希望的那样工作。我的代码如下。有人可以帮助我吗？

我所期望的是，一旦我`p.setText('New String')`在脚本代码中调用，因为 setText 发出 textChanged 信号，它应该调用`catchSignal(text)`已经在脚本代码中连接的插槽。

原型标题

```
#ifndef SCRIPTACTION_H
#define SCRIPTACTION_H

#include <QObject>
#include <QtScript>

class ScriptAction : public QObject , public QScriptable
{
    Q_OBJECT

 public:
    ScriptAction(QObject *parent = 0);

 signals:
    void textChanged(const QString changedString);

};

#endif // SCRIPTACTION_H 
```

班级

```
#include "scriptaction.h"
#include <QAction>

Q_DECLARE_METATYPE(QAction*)

ScriptAction::ScriptAction(QObject *parent) : QObject(parent)
{
} 
```

主班

```
#include <QApplication>
#include <QDebug>
#include <QAction>
#include "scriptaction.h"
#include <QPushButton>

Q_DECLARE_METATYPE(QAction*)

QScriptValue qAction_Constructor(QScriptContext *ctx, QScriptEngine *eng)
{
    qDebug() << "QAction is called";
    if(ctx->isCalledAsConstructor())
    {
        QObject *parent = ctx->argument(0).toQObject();
        QAction *action = new QAction("Test",parent);
        return eng->newQObject(action, QScriptEngine::ScriptOwnership);
    } else {
        return QString("invalid call. Use new Constructor");
    }
}

int main(int argc, char *argv[])
{
    QApplication app(argc,argv);
    QScriptEngine engine;
    //Evaluating a simaple expresssion
    qDebug() << engine.evaluate("1+2").toNumber();
    QPushButton button;
    QScriptValue buttonScript= engine.newQObject(&button);
    engine.globalObject().setProperty("button", buttonScript);
    engine.evaluate("button.text ='Hello Text'; button.show()");

    //QAction Prototype
    ScriptAction qsAction ;
    QScriptValue script_proto = engine.newQObject(&qsAction);
    engine.setDefaultPrototype(qMetaTypeId<QAction*>(), script_proto);
    QScriptValue ctor = engine.newFunction(qAction_Constructor , script_proto);
    QScriptValue metaObject = engine.newQMetaObject(&QObject::staticMetaObject, ctor);
    engine.globalObject().setProperty("QSAction" , metaObject);
    engine.evaluate("var p = new QSAction(button);p.textChanged.connect(catchSignal);");
    engine.evaluate("function catchSignal(text) { print ('PROTOTYPE SIGNAL IS CALLED ',text); } p.setText('New String'); " );
    return app.exec();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:15:48.540

我摆脱了这个问题，现在我看到信号被触发并且插槽被正确调用。

我所做的只是将代码移动到一个单独的脚本文件并开始使用 QScriptDebugger 来查看它的输出。然后我认为有一个错误，代码被编辑工作。

任何想要示例原型类的人，希望这将是一个很好的指南。

# pagerank - PHP pagerank API 在 9 月不工作。2012

> ID：12382923
> 
> 赞同：-2
> 
> 时间：2012-09-12T07:14:01.743
> 
> 标签：pagerank

所有的 Google Pageranks API 都不再工作了，pagerank -1。我该如何解决，是否有任何有效的 pagerank api？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T05:22:54.827

请访问： http: [//php-estudios.blogspot.com.ar/2012/08/pagerank-de-google-con-php.html](http://php-estudios.blogspot.com.ar/2012/08/pagerank-de-google-con-php.html)

Google Page Rank 2012 的简单解决方案。

# http - 如何检测来自 powerpoint 的超链接的 HTTP UA

> ID：12382925
> 
> 赞同：2
> 
> 时间：2012-09-12T07:14:08.180
> 
> 标签：http, powerpoint, agent

快速帮助.. 我有一个不是为 IE 设计的网站，因此我编写了 php 代码来读取 http ua 字符串以检查它是否存在“msie”字符串并重定向到显示相应消息的另一个页面。这种方法的问题在于，当我单击 MS powepoint 2007 中的链接时，尽管我的默认浏览器是 Chrome，但页面会重定向到另一个页面。

当我单击 powerpoint 中的超链接时，我认为 UA 被设置为“mozilla/4.0（兼容；msie 7.0；”。是否有任何其他字段可用于判断请求来自 36 分钟前的 Powerpoint · 喜欢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T14:14:27.053

PowerPoint 中一个非常烦人的错误。一种可能的解决方法是创建一个空页面，其中包含指向您要重定向到的 URL 的元重定向。每次访问此重定向页面时，只需动态替换要重定向到的 url：

```
<!DOCTYPE html>

<html>
<head>
    <title>Redirecting...</title>
    <meta http-equiv="refresh" content="0; URL=**MYREDIRECTURL**" />
</head>
<body>
    <div>
        Redirecting...
    </div>
</body>
</html> 
```

# python - 检查列表中的值

> ID：12382927
> 
> 赞同：-2
> 
> 时间：2012-09-12T07:14:12.137
> 
> 标签：python, list, loops

我有一个列表 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, T1024] 我想检查值 1。但是如果我执行...

```
if list.__contains__(1): 
```

然后我会得到1、10、T1024。有没有一种简单的方法可以做到这一点。也许使用某种类型的正则表达式。执行“包含”而不是“for”循环是否更快？

谢谢大家，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:15:55.650

不，你不会明白的。

首先，这是一个列表，而不是字典。

其次，您在此处发布的是一个 SyntaxError（除非`T1024`碰巧是您之前定义的对象的名称）。

另外，正确的成语是

```
if 1 in mylist: 
```

最后，不要`list`用作变量名。

* * *

如果您像这样定义列表，您*将得到您所看到的结果：*

```
mylist = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "T1024"] 
```

如果你检查过`"1"`这样的：

```
for item in mylist:
    if "1" in item:
        print item 
```

因为`in`运算符在应用于字符串时会检查子字符串。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T07:17:08.410

您可以使用`in`运算符检查列表成员资格：

```
if 1 in list: 
```

此外，您应该清楚列表（您所拥有的 - 值的有序集合）和字典（键值对的无序集合）之间的区别

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T07:15:59.777

你说的是字典是一个列表，要检查列表中的给定值，我会这样做：

```
if 1 in myList:
    doSomething
else:
    doSomethingElse 
```

# android - 如何在android中解析json中的htmltags

> ID：12382928
> 
> 赞同：-1
> 
> 时间：2012-09-12T07:14:14.087
> 
> 标签：android, html, json

我有一个 json 文件，其中一个 Jsonobject 包含一个 html 标签。我的问题是我无法解析该 json 对象。我怎样才能做到这一点？这是json文件的示例

```
{
"data": {
    "insert": [
        {
            "category": "Fashion",
            "blog_title": "Bold Floral Tunic Dress",
            "blog_descr": "Get the look of spring&rsquo;s bold florals with this flowy tunic dress.&nbsp; What we love about it is the bold colors and the hyper-realist print&hellip;reminiscent of the work of British designer Mary Katrantzou.&nbsp; Extra bonus?&nbsp; At this price, it&rsquo;s not just easy to wear - it&rsquo;s also easy on the wallet.$79.90&nbsp; at Zara",
            "source": "omiru",
            "rate": "7.9",
            "status": "Active",
            "blog_date": "25-04-2012 14:53",
            "last_view_date": "11-09-2012 22:19",
            "blog": "<p><img class=\"alignnone size-full wp-image-8558\" title=\"bold-floral-tunic-dress_042312\" src=\"http://www.omiru.com/wp-content/uploads/2012/04/bold-floral-tunic-dress_042312.jpg\" alt=\"bold-floral-tunic-dress_042312\" width=\"455\" height=\"583\" /><br /><span style=\"font-size: x-small;\"><br />Get the look of spring&rsquo;s bold florals with this flowy tunic dress.&nbsp; What we love about it is the bold colors and the hyper-realist print&hellip;reminiscent of the work of British designer Mary Katrantzou.&nbsp; Extra bonus?&nbsp; At this price, it&rsquo;s not just easy to wear - it&rsquo;s also easy on the wallet.<br /></span><br /><span style=\"font-size: large;\">$79.90</span><span style=\"font-size: x-small;\">&nbsp; at <a href=\"http://www.zara.com/webapp/wcs/stores/servlet/product/us/en/zara-us-S2012/199002/787510/PRINTED%2BTUNIC%2BWITH%2BCAP%2BSLEEVES\" target=\"_blank\"><span style=\"text-decoration: underline;\">Zara</span></a>.</span></p>",
            "blogid": "218",
            "comments": "50"
        },
        {
            "category": "Fashion",
            "blog_title": "April 2012 Lookbook: Urban Playground",
            "blog_descr": "This look is part of Omiru&rsquo;s April 2012 Lookbook series, which builds upon our 16-Piece April 2012 Capsule Wardrobe.&nbsp; See more information about this look.We&rsquo;re dreaming of the carefree days of childhood - of playground games, of laughter and fun, of adventure in the ordinary.&nbsp; But even if your spring days are destined to be",
            "source": "omiru",
            "rate": "8.1",
            "status": "Active",
            "blog_date": "25-04-2012 14:53",
            "last_view_date": "11-09-2012 22:19",
            "blog": "<p><img title=\"Omiru\"s April 2012 Lookbook: Urban Playground\" src=\"http://embed.polyvoreimg.com/cgi/img-set/cid/47694438/id/-wzdDuNKQ5WoEt0claUYLA/size/e.jpg\" alt=\"Omiru\"s April 2012 Lookbook: Urban Playground\" width=\"400\" height=\"400\" border=\"0\" /><br /><span style=\"font-size: x-small;\"><em>This look is part of Omiru&rsquo;s April 2012 Lookbook series, which builds upon our <a href=\"http://www.omiru.com/index.php/2012/04/02/omirus-16-piece-april-2012-capsule-wardrobe/\">16-Piece April 2012 Capsule Wardrobe</a>.&nbsp; See <a href=\"http://www.polyvore.com/omirus_april_2012_lookbook_urban/set?.embedder=101223&amp;.svc=copypaste&amp;id=47694438\" target=\"_blank\">more information about this look</a>.</em>We&rsquo;re dreaming of the carefree days of childhood - of playground games, of laughter and fun, of adventure in the ordinary.&nbsp; But even if your spring days are destined to be spent in a metropolis, you need not lose the playfulness in your style. For the urban playground, keep the simple silhouettes - updating them with more sophisticated fabrics, patterns, and colors.&nbsp; Also keep your sense of serendipity and wonder - which will help you navigate the urban playground just as well as you ruled the neighborhood playground way back when.1\. Start with a chic but comfortable foundation: an oversized cropped tee paired with a buttery pair of knee length leather shorts.&nbsp; The cropped tee works with the high rise on the short and calls attention to the leg-lengthening silhouette.<br />2\. Enough black and white with this foundation - it&rsquo;s time to add color!&nbsp; Toss on a cardigan in a bright yellow to offset the black and white of the tee and shorts.&nbsp; Bonus points for toting around a handbag in a complementary bright color - notice how the turquoise bag adds an extra dimension to the yellow, black, and white of the look.<br />3\. Finish off the look with accessories with an edge - a pair of studded gladiator sandals, a leather wrap bracelet with a skull motif, and a retro chic pair of sunglasses.&nbsp; <br /><strong><br />What do you wear to navigate the urban playground?</strong>&nbsp; Share your style in the comments!<br /></span></p>",
            "blogid": "219",
            "comments": "53"
        },
        {
            "category": "Food",
            "blog_title": "Lai Kee Dim Sum:  Novel bits and bites",
            "blog_descr": "Dim Sum $1.80 to $2 per basketThere are several hawker genres that should do well in Singapore and Dim Sum is one of them.&nbsp; The reason is very simple.&nbsp; Every customer will spend more than $3-4 per pax.&nbsp; If you survey the current hawker scene, you will see Bak Kut Teh stalls springing up all over the place.&nbsp; That is because",
            "source": "ieatishootipost",
            "rate": "8.1",
            "status": "Active",
            "blog_date": "25-04-2012 14:53",
            "last_view_date": "11-09-2012 22:19",
            "blog": "<p><a href=\"http://3.bp.blogspot.com/-ETJZGZWwUW8/T4ZVSwz5ymI/AAAAAAAAR8Y/YwZutmTZwkU/s1600/Siew+Mai.jpg\"><img src=\"http://3.bp.blogspot.com/-ETJZGZWwUW8/T4ZVSwz5ymI/AAAAAAAAR8Y/YwZutmTZwkU/s800/Siew+Mai.jpg\" alt=\"\" width=\"500\" height=\"332\" border=\"0\" /></a><br /> <span style=\"font-family: Arial,Helvetica,sans-serif; font-size: x-small;\"><em>Dim Sum $1.80 to $2 per basket</em></span><br /> <br /> There are several hawker genres that should do well in Singapore and Dim Sum is one of them.&nbsp; The reason is very simple.&nbsp; Every customer will spend more than $3-4 per pax.&nbsp; If you survey the current hawker scene, you will see Bak Kut Teh stalls springing up all over the place.&nbsp; That is because people expect to pay $5-6 at least when they eat Bak Kut Teh.&nbsp; So that is going to ensure the survival of Bak Kut Teh as a Hawker dish.&nbsp; Things like Char Kway Teow which can only sell for $3 a plate is less attractive for any aspiring hawker to take on so unless something happens and a Char Kway Teow emerges that people are willing to pay $6 for, then it really is \"<a href=\"http://ieatishootipost.sg/2010/12/end-of-char-kway-teow-ieatishootipost.html\">The End of Char Kway Teow</a>\" as we know it.<br /> <br /> But today we talk about an emerging Hawker dish.&nbsp; I guess Dim Sum is not really what people will consider a traditional Hawker food, but with increasing affluence, stalls which were initially selling only Paus would invariably be attracted to increasing their revenue by offering other Dim Sum dishes.&nbsp; With Dim Sum at the restaurants now averaging around $4-$5++ a basket, I see a big opportunity for more hawkers to offer a cheaper alternative in a coffeeshop setting.<br /> <br /> The other good thing about Dim Sum is that the food can be standardized and prepared in a central kitchen beforehand and steamed fresh at the premises when you order.&nbsp; So that allows for opportunities to expand.&nbsp; At $2 a basket, the average spend for a customer would be at least $8-$10 which essentially triples what you would earn if you sell Char Kway Teow!<br /> <br /> With more hawker Dim Sum emerging and restaurant Dim Sum getting ridiculously expensive, I am hoping to see more stalls such as Lai Kee emerging so that we can all spend a lazy morning drinking eating Dim Sum and drinking Teh C without having to pay for peanuts and ++.&nbsp;&nbsp; So, if you know of any good hawker Dim Sum stalls, please do write in and let me know so that I can build a list good Dim Sum stalls to visit.<br /> <br /> <a href=\"http://2.bp.blogspot.com/-J6lTLrdcqqw/T4ZVRLQgi6I/AAAAAAAAR8I/WWPwy_s1W4c/s1600/Dim+Sum+Selection.jpg\"><img src=\"http://2.bp.blogspot.com/-J6lTLrdcqqw/T4ZVRLQgi6I/AAAAAAAAR8I/WWPwy_s1W4c/s800/Dim+Sum+Selection.jpg\" alt=\"\" width=\"500\" height=\"500\" border=\"0\" /></a><br /> <span style=\"font-size: x-small;\"><span style=\"font-family: Arial,Helvetica,sans-serif;\"><em>Variety of Dim Sum</em></span></span><br /> <br /> The man who started Lai Kee, Ah Lai started off helping to make Dim Sum with&nbsp; relatives in Malaysia before coming out to Singapore to start his own stall.&nbsp; His first stall was at Clementi and has now expanded to four branches.&nbsp; He tells me that Dim Sum might be more lucrative but it is a lot of hard work.&nbsp; Now that he has four stalls, he has hired a few Dim Sum chefs to help hand make the Dim Sum every day at the stalls while he prepares the meat, prawn and fish pastes centrally.<br /> <br /> What I like about Lai Kee is their variety of unusual Dim Sum.&nbsp; The standard fare of Siew Mai and Har Kau are of course available and judging from the Siew Mai, the basic meat filling is very good and well marinated.&nbsp; Ah Lai pays special attention to this and uses only fresh Indonesian pork instead of frozen meat to ensure quality.&nbsp; But he has spent a lot of time thinking up new dishes as well and the wonderful thing about eating there is that you get to try something new instead of the same-o same-o.<br /> <br /> I was drawn immediately to the Century Egg dumplings because they reminded me of the marvelous breakfast I had at <a href=\"http://ieatishootipost.sg/2010/03/sim-sim-pier-7-breakfast-to-remember.html\">Sim Sim Pier</a> in Sandakan.&nbsp; Then there are other permutations and combinations of tasty morsels made from tofu, bean curd skin, meat, prawn and fish filling.&nbsp; I can\"t say that it tastes as exquisite as the Dim Sum you get at the restaurants, but the affordability, variety and pretty decent food quality certainly makes it a compelling candidate for a quick Dim Sum fix.<strong><span style=\"color: red;\"> 4/5</span></strong><br /> <br /> <br /> <a href=\"http://2.bp.blogspot.com/-_t2-e91Hjmc/T4ZVSD9tupI/AAAAAAAAR8M/HACNNC88564/s1600/Lo+Mai+Pau.jpg\"><img src=\"http://2.bp.blogspot.com/-_t2-e91Hjmc/T4ZVSD9tupI/AAAAAAAAR8M/HACNNC88564/s800/Lo+Mai+Pau.jpg\" alt=\"\" width=\"332\" height=\"500\" border=\"0\" /></a><br /> <span style=\"font-size: x-small;\"><em>鸡窝包&lt;/em><em> Ji Wo Pau (Chicken Nest Pau)$3</em></span><br /> <br /> <strong>Conclusion </strong><br /> <br /> With prices of Dim Sum in restaurants going through the roof, coffeeshop Dim Sum places like Lai Kee are offering us an attractive, affordable alternative.&nbsp; I do hope to blog more such stalls, so do write in if you know of any stalls that are serving up good, affordable Dim Sum! <br /> <br /> </p>\r\n<div class=\"separator\" style=\"clear: both; text-align: center;\"><a style=\"clear: left; float: left; margin-bottom: 1em; margin-right: 1em;\" href=\"http://4.bp.blogspot.com/-HTyoS60oDAk/T4ZVUrXe3rI/AAAAAAAAR8g/4o-6bbVAS5I/s1600/Stall.jpg\"><img src=\"http://4.bp.blogspot.com/-HTyoS60oDAk/T4ZVUrXe3rI/AAAAAAAAR8g/4o-6bbVAS5I/s200/Stall.jpg\" alt=\"\" width=\"200\" height=\"132\" border=\"0\" /></a></div>\r\n<p>Lai Kee Pau<br /> Blk 69 Bedok South Ave 3<br /> 6.30am and 9.30pm<br /> 90261698<br /> Branches:&nbsp; Clementi St 12, Blk 107 <br /> Bukit Batok St 21 Ave 6, Blk 207</p>",
            "blogid": "220",
            "comments": "51"
        }
    ],
    "lastid": "63"
},
"status": 1 
```

}

任何人请帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:18:11.683

如果要显示 HTML，可以使用 WebView。如果您需要对基本 HTML 标记的有限支持，可以使用 Html.fromHtml

# jquery - 如何将 HTML 中的滑动检测转换添加到我的应用程序中？

> ID：12382933
> 
> 赞同：0
> 
> 时间：2012-09-12T07:14:17.753
> 
> 标签：jquery, html, ios, ipad

我看到这个网站[非常有用](http://padilicious.com/code/touchevents/)，它帮助我在 iPad 上使用 HTML 制作我的第一个应用程序。我的问题是，我正在尝试在将我的页面滑动到另一个页面时添加一些过渡。

这是我的代码：

```
if ( swipeDirection == 'left' ) {
    window.location.href = 'page1.html';
} 
```

如何使用他的代码添加转换代码。我在这种领域真的很新，所以我希望你能帮助我。 **编辑：** 这是我应该添加到我的代码中的一个。[没有框架的 HTML 页面幻灯片](http://css.dzone.com/articles/html-page-slide-without)。我应该如何将它与代码结合起来？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:21:26.570

如果你喜欢你可以在 css3 中使用转换，添加你想要的文档，像这样：

```
-webkit-transform:translate(120px,0); 
```

# vb.net - MDI 设计器视图显示 HTML，而不是表单设计

> ID：12382936
> 
> 赞同：0
> 
> 时间：2012-09-12T07:14:25.013
> 
> 标签：vb.net, winforms, visual-studio-2005, windows-forms-designer

我不确定发生了什么，并且整晚都在寻找修复方法。当我双击 mdi 表单（或右键单击并选择“视图设计器”）时，出现的不是表单设计器视图，而是 html。尝试调试时，Visual Studio 显示在尝试创建表单实例时引发错误。内部异常/堆栈跟踪如下所示。

> System.InvalidOperationException 未处理 Message="创建表单时发生错误。有关详细信息，请参阅 Exception.InnerException。错误是：未注册类（来自 HRESULT 的异常：0x80040154 (REGDB_E_CLASSNOTREG)）" Source="Blah" StackTrace：在 Blah。 My.MyProject.MyForms.Create_*实例*_[T](T Instance) in 17d14f5c-a337-4978-8281-53493378c1071.vb:line 190 at Blah.My.MyProject.MyForms.get_mdiBlah() at Blah.mdiBlah.Main() in C:\Users\Home \Desktop\ClientSoftware\ClientSoftware\mdiBlah.Designer.vb：System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args) 的第 1 行 System.AppDomain.nExecuteAssembly(Assembly assembly, String[] args) 在 System.Runtime。 Hosting.ManifestRunner.Run(Boolean checkAptModel) at System.Runtime.Hosting.ManifestRunner.ExecuteAsAssembly() at System.Runtime.Hosting.ApplicationActivator.CreateInstance(ActivationContext activationContext, String[] activationCustomData) at System.Runtime.Hosting.ApplicationActivator.CreateInstance (ActivationContext activationContext) 在 System.Activator。CreateInstance(ActivationContext activationContext) 在 Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssemblyDebugInZone() 在 System.Threading.ThreadHelper.ThreadStart_Context(Object state) 在 System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state) 在系统。 Threading.ThreadHelper.ThreadStart()

此问题的一些常见修复方法是：

1.  检查并确保后面代码中的类名与设计器代码中的类名相同。查看。
2.  确保包含项目使用的所有引用。查看。
3.  不幸的是，我现在不记得其他一些事情。

我知道这可能是一个相当开放的错误。但我真的需要一些指导，希望它也可以作为未来其他人的指南。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T14:41:46.170

通过@Hans Passant，答案是：您在表单上使用了一个不再正确注册的 ActiveX 控件。重新运行其安装程序。谢谢汉斯

# powershell - Powershell远程脚本执行问题

> ID：12382938
> 
> 赞同：0
> 
> 时间：2012-09-12T07:14:41.330
> 
> 标签：powershell, powershell-remoting

我正在尝试从主机 1.2.3.3 远程执行盒子 1.2.3.4 上的 powershell 脚本

```
$cred = get-credential 
$process = get-wmiobject -query "SELECT * FROM Meta_Class WHERE __Class = 'Win32_Process'" -namespace "root\cimv2" -computername 1.2.3.4 -credential $cred 
$results = $process.Create("powershell.exe /c C:\Windows\temp\hello.ps1 arg1") 
```

我可以看到该进程正在创建（如返回值所示 0），但该进程在远程系统中立即终止（1.2.3.4）

> 我也尝试了 powershell.exe -file 选项而不是 powershell.exe /c

我尝试使用 Invoke-Command 但由于受信任的主机问题而导致效果不佳。有人可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:32:20.703

PowerShell.exe 参数以破折号开头（例如“-”），完整帮助类型：PowerShell.exe /?。

你期望会发生什么？脚本在做什么？它应该这样“死”吗？

# c# - MySQL 连接器/网络在运行简单的选择语句时在数据库服务器上执行额外的操作

> ID：12382941
> 
> 赞同：0
> 
> 时间：2012-09-12T07:14:50.737
> 
> 标签：c#, mysql-connector, newrelic

我目前正在使用[MySQL Connector/Net](http://dev.mysql.com/downloads/connector/net/)和 C# .NET Web 服务。

我正在为我的 web 服务进行性能调整，并发现我的 web 服务中的所有 mysql 调用（甚至是简单的 select 语句）都会执行一些额外的“操作”。

我正在执行这个`"select * from TABLE_ABC"`简单的选择语句，当我去

```
 [NewRelic][2] --> App Server --> Web Transactions --> click on one of the
 transactions --> "Performance breakdown" tab 
```

我看到以下细分，在数据库上完成了 3 个操作（粗体文本）。

```
(DotNet) MySql.Data.MySqlClient.MySqlConnection.Open()<br>
    (DotNet) System.Web.HttpApplication+MaterializeHandlerExecutionStep.System.Web.
HttpApplication.IExecutionStep.Execute()<br>
    (Database) TABLE_ABC - SELECT<br> 
```

**(数据库) 变量 - SHOW**
**(数据库) 排序规则 - SHOW**

```
(DotNet) System.Web.Services.Protocols.SyncSessionlessHandler.ProcessRequest()<br> 
```

**（数据库）character_set_results - SET**

```
(DotNet) WebService.MyServices.GetData()<br> 
```

执行此 select 语句的普通 PHP 代码不会显示 3 个额外的操作。

它是为 MySQL 连接器/网络设计的，还是有办法让我跳过这个？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T06:30:58.530

以防有人在寻找答案。

[在 MySQL 论坛上回答](http://forums.mysql.com/read.php?38,569351,569351#msg-569351)

# jquery - jquery 从页面中获取选择文本

> ID：12382943
> 
> 赞同：1
> 
> 时间：2012-09-12T07:14:51.887
> 
> 标签：jquery

我正在尝试为 windows 编写一个 chrome 扩展，它将任何选定的文本从页面复制到剪贴板。我正在使用 jquery 来执行 java 脚本部分。

如何在该页面中获取任何选定/突出显示的文本？换句话说，是否有一个事件侦听器，当突出显示文本的任何部分时会触发该事件侦听器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T07:16:55.517

到目前为止，我有过的最好的经验是使用**[zeroclipboard](http://code.google.com/p/zeroclipboard/)**`document.selection.createRange().text`并使用或 手动将选定的文本附加到它`window.getSelection()`

用法：[http ://code.google.com/p/zeroclipboard/wiki/Instructions](http://code.google.com/p/zeroclipboard/wiki/Instructions)

这应该给你一个好的开始：

## *[jsBin 演示](http://jsbin.com/utobes/2/edit)*

```
var highlighted;
$(document).on('mouseup', function(e){     
   if (window.getSelection) {
      highlighted  = window.getSelection();
   } else if (document.selection) {
      highlighted = document.selection.createRange();
   }        
   var selectedText = highlighted.toString() !=='' && highlighted;

   alert(selectedText); // to be added to clipboard
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T07:27:51.360

```
function getSelected() {
  if (window.getSelection) return window.getSelection();
  if (document.getSelection) return document.getSelection();
  if (document.selection) return document.selection.createRange().text;
}

document.onmouseup = function () {
  getSelected(); // => "Something you've sele..."
}; 
```

* * *

## [演示](http://jsfiddle.net/ARTsinn/mU8UE/)

# azure - Azure 辅助角色的并发连接

> ID：12382949
> 
> 赞同：1
> 
> 时间：2012-09-12T07:15:11.393
> 
> 标签：azure, tcp, connection, azure-worker-roles

我想知道在端口 21 上侦听一个实例的 azure worker 角色允许的最大并发连接数。

场景是：

我有一个工作角色实例，端口在 21 上打开，Tcplistener 在端口 21 上侦听传入连接。我已经实现了异步，这样我就可以在处理一个客户端请求时监听其他客户端请求。

在天蓝色部分，我想知道对 Worker 角色的端口 21 上的并发请求是否有任何限制。

问候， 维维克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T09:54:52.820

我想你应该先了解网络原理。一次只有一个进程可以侦听网络接口上的特定端口和协议。那么如何处理通信呢？在一个非常简单的大纲中，情况如下所示（端口号和 IP 地址是故意伪造的）：

1.  在 IP 地址 902.168.13.24 的端口 21 上有一个侦听器（并且没有其他进程可以侦听该端口，因此没有并发侦听器）
2.  连接请求来自某个其他主机到该 IP 地址和该端口。
3.  现在 21 端口被占用，没有人可以连接到它（更多的传入连接排队）
4.  在协议级别握手之后，如果连接成功，则前者将被移动到另一个（任意）套接字 - 即端口 43251
5.  端口 21 被释放以接受另一个连接。
6.  接受队列中的下一个连接。

所有这些都发生在非常低​​的协议级别，开发人员（除非正在开发网络适配器驱动程序）不会看到/关心这个端口转移。

现在真正的问题是，如何接受更多的并发连接。如果您正在开发自己的 TCP 服务器，您可以设置允许的最大连接数并自行管理这些连接（通过管理线程）。如果您使用其他第三方服务器 - 它应具有允许的最大并发连接数的可配置选项。

[您可以在此处查看](http://www.codeproject.com/Articles/13232/A-very-basic-TCP-server-written-in-C)TCP Server 的简单实现。如您所见，有一个私有字段_maxConnections，用于处理连接。

总而言之 - 到特定资源（套接字）的最大并发连接数取决于为该资源提供服务的服务器。例如，IIS8 的默认最大并发连接数限制设置为 4294967295：

![IIS 最大并发连接数](../Images/a5e850046857890560e2057d37a60016.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-02-03T16:27:54.457

每个 VM 或角色实例的限制为 500K：[https ://docs.microsoft.com/en-us/azure/azure-subscription-service-limits#networking-limits-1](https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits#networking-limits-1)

# android - Android 微调器控件

> ID：12382954
> 
> 赞同：0
> 
> 时间：2012-09-12T07:15:24.573
> 
> 标签：android, spinner

android 中是否有一个带有文本视图增量和减量按钮的简单微调器控件。按下按钮添加或减去文本视图中显示的值。我一直在寻找这样的，但一直找不到。

亲切的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:19:20.810

如果您的目标 API 高于 11，则可以使用[NumberPicker 。](http://developer.android.com/reference/android/widget/NumberPicker.html)

# ruby - 如何根据位置将一些值写入ruby中的文本文件

> ID：12382956
> 
> 赞同：2
> 
> 时间：2012-09-12T07:15:32.340
> 
> 标签：ruby, file, text, overwrite

我需要一些帮助是一些独特的解决方案。我有一个文本文件，我必须根据某个位置替换一些值。这不是一个大文件，在任何给定时间，所有行都将始终包含 5 行，长度固定。但我必须仅在某个位置专门替换某些文本。此外，我还可以在所需位置放置一些文本，并每次都用所需值替换该文本。我不确定如何实施此解决方案。我已经给出了下面的例子。

```
Line 1 - 00000 This Is Me 12345 trying
Line 2 - 23456 This is line 2 987654
Line 3 - This is 345678 line 3 67890 
```

考虑上面是我必须用来替换一些值的文件。与第 1 行一样，我必须将 '00000' 替换为 '11111'，在第 2 行中，我必须将 'This' 替换为 'Line' 或任何需要四位数字的文本。该位置在文本文件中将始终保持不变。

我有一个可行的解决方案，但这是基于位置读取文件而不是写入。有人可以根据位置给出类似的解决方案吗

**基于位置读取文件的解决方案：**

```
def read_var file, line_nr, vbegin, vend 
    IO.readlines(file)[line_nr][vbegin..vend] 
end 

puts read_var("read_var_from_file.txt", 0, 1, 3) #line 0, beginning at 1, ending at 3 
#=>308 

puts read_var("read_var_from_file.txt", 1, 3, 6) 

#=>8522 
```

我也尝试过这种写作解决方案。这可行，但我需要它根据位置或特定行中存在的文本来工作。

**探索了写入文件的解决方案：**

```
open(Dir.pwd + '/Files/Try.txt', 'w') { |f|
  f << "Four score\n"
  f << "and seven\n"
  f << "years ago\n"
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T08:53:34.297

我给你做了一个工作样本anagraj。

```
in_file = "in.txt"
out_file = "out.txt"

=begin
=>contents of file in.txt
00000 This Is Me 12345 trying 
23456 This is line 2 987654 
This is 345678 line 3 67890 
=end

def replace_in_file in_file, out_file, shreds
  File.open(out_file,"wb") do |file|
    File.read(in_file).each_line.with_index do |line, index| 
      shreds.each do |shred|
        if shred[:index]==index
          line[shred[:begin]..shred[:end]]=shred[:replace]
        end
      end
      file << line
    end
  end
end    

shreds = [
    {index:0, begin:0, end:4, replace:"11111"},
    {index:1, begin:6, end:9, replace:"Line"}
]

replace_in_file in_file, out_file, shreds

=begin
=>contents of file out.txt
11111 This Is Me 12345 trying 
23456 Line is line 2 987654 
This is 345678 line 3 67890 
=end 
```

# c - 左值无效，函数指针也一样，这个有什么用？调用函数要简单得多

> ID：12382958
> 
> 赞同：1
> 
> 时间：2012-09-12T07:15:40.707
> 
> 标签：c, pointers, function-pointers, lvalue

所以我正在练习指向函数的指针，并尝试制作这个简单的程序，这是它的一个片段。在分配地址时，它仍然给我一个错误“无效的左值”。例如，funcptr = &addnum。我也忍不住想知道这个有什么用？调用函数是不是简单多了？还是我误会了什么

```
#include <stdio.h>
int arithnum(int base);
int addnum(int base,int new);
int subnum(int base,int new);
int mulnum(int base,int new);
int divnum(int base,int new);
typedef int *ptrdef(int,int);
int arithnum(int base)
{
    char operator;
    int operand;
    ptrdef funcptr;
    printf("Enter operator: ");
    scanf("\n%c",&operator);
    printf("Enter second operand: ");
    scanf("%d",&operand);
    switch(operator)
    {
        case '+':
            funcptr = &addnum;
            break;
        case '-':
            funcptr = &subnum;
            break;
        case '*':
            funcptr = &mulnum;
            break;
        case '/':
            funcptr = &divnum;
            break;
    }
    return funcptr(base,operand);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:19:19.747

更改您的类型定义。

改变：

```
typedef int *ptrdef(int,int); 
```

到

```
typedef int (*ptrdef)(int,int); 
```

要回答您的其他问题/陈述：“函数指针似乎没用”：在您的示例中，它们的使用是微不足道的，但更有用的示例是 C++ 中的 vtables。函数指针允许基类定义函数的签名，然后子类可以用自己的实现替换这些函数指针，从而改变对象对函数的响应方式。

您还可以在 COM 模型 API 中使用它们，其中主应用程序与插件动态链接，并且它们的插件返回所请求接口的函数指针结构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:20:36.320

ITEM

```
typedef int (*ptrdef)(int,int); 
```

因为你的版本是一个返回一个的函数，`int *`而你想要一个返回一个的函数指针`int`。

* * *

只是一个提示：我知道以下不是常识，但我更喜欢`typedef`函数本身然后做

```
typedef int myfunc(int,int);
myfunc therealfunction; // bites me if I do a mistake
int therealfunction(int a, int b)
{
    // do stuff and
    return 42;
}
myfunc * funcptr = &therealfunction; 
```

如果我不小心更改了`therealfunction`.

# c++ - 具有大量案例的 switch 语句

> ID：12382959
> 
> 赞同：11
> 
> 时间：2012-09-12T07:15:42.587
> 
> 标签：c++, c, switch-statement

如果`switch`超过 5000会发生什么`case`。有什么缺点以及我们如何用更快的东西代替它？

注意：我不希望使用数组来存储案例，因为它是相同的。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-12T07:22:54.803

除了 switch/case 语句之外，没有什么特别的理由认为你想要其他任何东西（而且我确实希望它没有帮助）。编译器应该创建有效的调度代码，这可能涉及静态[稀疏]表和直接索引、二进制分支等的某种组合；它可以深入了解案例的静态值，并且应该做得很好（每次更改案例时都会即时重新调整它，而新值不适合手工制作的方法 - 例如差异很大的值当您进行了非常紧凑的数组查找时 - 可能需要重新编写代码或默默地导致内存膨胀或性能下降）。

当 C 试图赢得铁杆汇编程序员的支持时，人们真的很关心这种事情……编译器负责生成好的代码。换句话说 - 如果它没有（可测量地）损坏，请不要修复它。

更一般地说，很高兴对这种事情感到好奇并了解人们对替代方案及其性能影响的想法，但如果你*真的*关心并且性能差异可能会对你的程序产生有用的影响（特别是如果分析表明它）那么总是与您的程序进行实际工作的基准测试。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-12T08:30:49.443

作为深思熟虑的食物......以防有人可能会被旧的/错误的/低效的编译器所困，或者只是喜欢黑客攻击。

`switch`语句的内部工作由两部分组成。找到要跳转的地址，然后跳转到那里。对于第一部分，您需要使用表格来查找地址。如果案例数量增加，表会变大 - 搜索地址跳转需要时间。这是编译器尝试优化的重点，结合了多种技术，但一种简单的方法是直接使用表，这取决于案例值空间。

在餐巾纸的背面示例；

```
switch (n) {
    case 1: foo(); break;
    case 2: bar(); break;
    case 3: baz(); break;
} 
```

使用这样的代码编译器可以创建一个 jump_addresses 数组并直接通过 array[n] 获取地址。现在搜索只需要 O(1)。但是，如果您有如下开关：

```
switch (n) {
    case 10: foo(); break;
    case 17: bar(); break;
    case 23: baz(); break;
    // and a lot other
} 
```

编译器需要生成一个包含 case_id、jump_address 对和代码的表，以搜索该结构，最差实现可能需要 O(n)。（体面的编译器在完全释放这种情况时会优化地狱，通过启用它们的优化标志到一定程度，当你需要调试这种优化的代码时，你的大脑开始煎熬。）

那么问题是你能在 C 级别自己做这一切来击败编译器吗？有趣的是，虽然创建表和搜索它们似乎很容易，`goto`但在标准 C 中无法使用跳转到变量点。因此，如果您由于开销或代码结构不打算使用函数指针，则有可能卡住了...好吧，如果您不使用`GCC`. GCC 有一个非标准特性，称为[标签作为值](http://gcc.gnu.org/onlinedocs/gcc/Labels-as-Values.html)，它可以帮助您获取指向标签的指针。

要完成该示例，您可以使用“标签作为值”功能编写第二个 switch 语句，如下所示：

```
const void *cases[] = {&&case_foo, &&case_bar, &&case_baz, ....};
goto *labels[n];
case_foo:
    foo();
    goto switch_end;
case_bar:
    bar();
    goto switch_end;
case_baz:
    baz();
    goto switch_end;
// and a lot other
switch_end: 
```

当然，如果您谈论的是 5000 个案例，最好编写一段代码来为您创建此代码 - 这可能是维护此类软件的唯一方法。

作为结束语；这会改善您的日常工作吗？不会。这会提高你的技能吗？是的，根据经验，我曾经发现自己仅通过优化案例值就改进了智能卡中的安全算法。这是一个奇怪的世界。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-12T07:20:48.647

尝试将 Dictionary 类与 Delegate 值一起使用。至少它使代码更具可读性。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-08-28T20:03:37.643

大 switch 语句，通常是自动生成的，可能需要很长时间才能编译。但我喜欢编译器优化 switch 语句的想法。

拆分 switch 语句的一种方法是使用分桶，

```
int getIt(int input)
{
  int bucket = input%16;
  switch(bucket)
  {
    case 1:
      return getItBucket1(input);
    case 2:
      return getItBucket2(input);
    ...
    ...
  }
  return -1;
} 
```

所以在上面的代码中，我们将 switch 语句分成了 16 个部分。在自动生成的代码中更改存储桶的数量很容易。

此代码增加了一层间接或函数调用的运行时成本。. 但是考虑到不同文件中定义的桶，并行编译它们会更快。

# coldfusion - CF QoQ 抛出运行时错误。“列引用不是 FROM 表列表的任何表中的列。”

> ID：12382961
> 
> 赞同：2
> 
> 时间：2012-09-12T07:15:51.987
> 
> 标签：coldfusion, coldfusion-8, cfquery

在我的代码中，我首先创建了查询对象：

```
<cfset memberData = QueryNew('slug,pos,firstname,lastname,email') />
<cfset temp = QueryAddRow(memberData, #numMembers#) />
<!--- LOOP POPULATES QUERY OBJECT --->
<cfloop...</cfloop> 
```

然后，我可以通过运行以下命令（按预期输出）来验证它是否已被填充：

```
<cfoutput query="memberData">
#slug# - #pos#<br>
</cfoutput> 
```

然后我尝试查询 memberData 查询对象，一切都变得松散了。如果我运行：

```
<cfquery name="members" dbtype="query">
    SELECT slug,pos,firstname,lastname
    FROM memberData
    WHERE slug = #slug#
</cfquery> 
```

我收到此错误：

```
Query Of Queries runtime error.
The select column reference [university] is not a column in any of the tables of the FROM table list. 
```

在上面提到的输出测试中，我可以验证“大学”是 slug 列中的值之一。显然我在我的方法中遗漏了一些东西，但我对它可能是什么感到困惑。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T07:49:14.703

好吧，它并没有完全回答所提出的问题，但它已经足够接近我所需要的了：

```
<cfquery name="members" dbtype="query">
    SELECT *
    FROM memberData
    WHERE slug = '#slug#'
</cfquery> 
```

在发布之前我曾尝试`#slug#`用单引号括起来但没有成功，但这样做**加上**更改查询以`SELECT *`解决问题。对于我的内容，`*`只增加了一个检索到的值，因此减慢进程并不是真正的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-13T15:47:55.753

> 查询查询运行时错误。
> 选择列引用 [university] 不是 FROM 表列表的任何表中的列

您的错误**是**由于 where 子句中没有引号引起的，**没有别的**原因：

此表达式查找 slug 列中的值等于 CF slug 变量（字符串）中的值的行：

```
 WHERE slug = '#slug#' 
```

另一方面，此表达式意味着查找 slug 列中的值等于CF slug 变量（字符串）中命名*的列中包含的值的行：*

```
 WHERE slug = #slug# 
```

您需要更改为的最可能原因`SELECT *`是 CF 查询缓存。所以现在改回来应该可以解决问题。**并**始终`<cfqueryparam .../>`按照“Al Everett”的建议使用

# c - typedef在c中困惑

> ID：12382966
> 
> 赞同：1
> 
> 时间：2012-09-12T07:16:07.763
> 
> 标签：c

> **可能的重复：**
> [C 中的位域操作](https://stackoverflow.com/questions/1044654/bitfield-manipulation-in-c)

我看到了一些 c 代码，typedef 一个结构，比如

```
typedef struct
{
    unsigned a:1;
    unsigned b:1;
    unsigned c:1;
    unsigned rest:13;

} Interface_type; 
```

剂量是什么`unsigned a:1;`意思？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:18:05.070

```
unsigned a:1 
```

定义一个只占用 1 位的位域。

见这里：[http ://en.wikipedia.org/wiki/Bit_field](http://en.wikipedia.org/wiki/Bit_field)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T07:18:05.640

有符号变量（例如有符号整数）将允许您表示正负范围内的数字。

无符号变量，例如无符号整数，仅允许您以正数表示数字

# c# - 在 WPF 中，如何同时为具有不同情节提要的不同对象设置动画？

> ID：12382967
> 
> 赞同：0
> 
> 时间：2012-09-12T07:16:12.227
> 
> 标签：c#, wpf, animation, storyboard

假设我有两个动画方法 AnimateHorizo​​ntally 和 AnimateVertically 像这样

```
public void AnimateHorizontally(FrameworkElement element, double XMoveStart, double XMoveEnd, int milli)
        {
            BackEase eEase = new BackEase();
            Storyboard sb = new Storyboard();
            DoubleAnimation daX = new DoubleAnimation(XMoveStart, XMoveEnd, new Duration(new TimeSpan(0, 0, 0, 0, milli)));
            daX.EasingFunction = eEase;
            Storyboard.SetTargetProperty(daX, new PropertyPath("(Canvas.Left)"));
            sb.Children.Add(daX);
            element.BeginStoryboard(sb);
        }

public void AnimateVertically(FrameworkElement element, double YMoveStart, double YMoveEnd, int milli)
        {
            ElasticEase eEase = new ElasticEase();
            Storyboard sb = new Storyboard();
            DoubleAnimation daY = new DoubleAnimation(YMoveStart, YMoveEnd, new Duration(new TimeSpan(0, 0, 0, 0, milli)));
            daY.EasingFunction = eEase;
            Storyboard.SetTargetProperty(daY, new PropertyPath("(Canvas.Top)"));
            sb.Children.Add(daY);
            element.BeginStoryboard(sb);
        } 
```

当我将它应用于对象 A 时，它会从 XMoveStart 和 XMoveEnd 水平移动。如果我有一个对象 B，并且我希望对象 B 应用 ElasticEase 并垂直移动。

对象 A 和 B 上的动画应该同时流畅地开始，我该怎么做？

只需调用

```
AnimateVertically(A)
AnimateHorizontally(B) 
```

它的工作并不顺利，而且似乎它们不是同时的。任何人都可以帮忙吗？我不必使用 Storyboard，如果有其他动画方法可以完成这项工作，我也可以使用它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:18:00.513

就在这里。您只需在一个 Storyboard 中放置多个动画并设置动画的 TargetName-Property：

这是一个示例故事板。注意 TargetName-Properties：

```
 <Storyboard x:Name="FromMainToBack">
  <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleContainerGrid" Storyboard.TargetProperty="ScaleY">
    <LinearDoubleKeyFrame KeyTime="0:0:0.2" Value="0.8"/>
    <LinearDoubleKeyFrame KeyTime="0:0:1.2" Value="0.8"/>
    <LinearDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
  </DoubleAnimationUsingKeyFrames>
  <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleContainerGrid" Storyboard.TargetProperty="ScaleX">
    <LinearDoubleKeyFrame KeyTime="0:0:0.2" Value="0.8"/>
    <LinearDoubleKeyFrame KeyTime="0:0:1.2" Value="0.8"/>
    <LinearDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
  </DoubleAnimationUsingKeyFrames>

  <DoubleAnimation BeginTime="0:0:0.2" Duration="0:0:0.5" From="0" To="90" Storyboard.TargetName="planeProjectionMain" Storyboard.TargetProperty="RotationY">
    <DoubleAnimation.EasingFunction>
      <BackEase EasingMode="EaseIn"/>
    </DoubleAnimation.EasingFunction>
  </DoubleAnimation>
  <DoubleAnimation BeginTime="0:0:0.7" Duration="0:0:0.5" From="270" To="360" Storyboard.TargetName="planeProjectionBack" Storyboard.TargetProperty="RotationY">
    <DoubleAnimation.EasingFunction>
      <BackEase Amplitude="0" EasingMode="EaseOut"/>
    </DoubleAnimation.EasingFunction>
  </DoubleAnimation>
</Storyboard> 
```

# asp.net-mvc-3 - 具有剃刀语法的 HTML 扩展方法

> ID：12382969
> 
> 赞同：0
> 
> 时间：2012-09-12T07:16:16.940
> 
> 标签：asp.net-mvc-3, razor

在创建将 Razor 语法作为 MVC3 中的参数的扩展方法时遇到问题

```
@Html.Test(x=>x.UserName, () => @<div>Here goes something</div>) 
```

什么是扩展方法签名：

```
public static IHtmlString Test<TModel, TProperty>(this HtmlHelper<TModel> htmlHelper, Expression<Func<TModel, TProperty>> expression, ????????) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:42:08.573

我不相信你想要完成的事情是可能的。Razor 语法是在 HTML 页面中使用 C# 的一种方式。您已经通过调用`Html.Test`帮助程序来使用 Razor 语法。里面的一切`Html.Test(...)`都是C#。

那么为什么不使用这样的东西呢？

```
@Html.Test(x=>x.UserName, "<div>Here goes something</div>")

public static IHtmlString Test<TModel, TProperty>(this HtmlHelper<TModel> htmlHelper, Expression<Func<TModel, TProperty>> expression, string html) 
```

# javascript - 高图表 IE9 与 IE8

> ID：12382971
> 
> 赞同：0
> 
> 时间：2012-09-12T07:16:30.917
> 
> 标签：javascript, highcharts

嗨，我已经建立了一个 highchart 2.1.4 图表。工具提示在 IE9 和 IE8 中的作用不同。

![IE9](../Images/eeb2498b5da4cd38b130ece54816959a.png)

![IE8](../Images/dd914a88081c4c66203f7584c28cf08e.png)

工具提示的代码是

```
formatter: function()
                    {

                            return 'Time: ' +Highcharts.dateFormat('%H:%M:%S', this.x) + '<br/>'+
                            '<b>' + titletootip +': ' +this.y +  '</b>'+'<br/>'+
                            'Change: ' +this.point.config[2] ;

                    } 
```

我该如何解决？

谢谢。

编辑：

我已将 highcharts 升级到 2.3.1，并将 jquery 升级到 1.8.1。必须修复一个小错误，现在它可以在每个浏览器中使用。多谢你们。

现在，我想用颜色制作它..但这是另一个问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T08:17:01.677

您需要将[tooltip.useHTML](http://api.highcharts.com/highcharts#tooltip.useHTML)显式设置为 true

作为确认，在两个浏览器中尝试[这个 jsFiddle](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/tooltip/footerformat/)并检查一致性

# php - 登录后重定向到管理员/用户页面

> ID：12382972
> 
> 赞同：0
> 
> 时间：2012-09-12T07:16:35.380
> 
> 标签：php, mysql, sql

这是我的页面，它工作正常，我只想添加如何重定向页面，具体取决于帐户是管理员还是用户，请指出添加位置，如果我的 MySQL 数据库有任何想法要更改，那就是有用。

数据库：

```
id_number username password status
1         admin    admin    1
2         user     user     0

admin = 1
user = 0

            <?php 
             // Connects to your Database 
             mysql_connect("localhost", "root", "") or die(mysql_error()); 
             mysql_select_db("net25") or die(mysql_error()); 
             //Checks if there is a login cookie
             if(isset($_COOKIE['ID_my_site']))
             //if there is, it logs you in and directes you to the members page
             { 
                $username = $_COOKIE['ID_my_site']; 
                $pass = $_COOKIE['Key_my_site'];
                    $check = mysql_query("SELECT * FROM users WHERE username = '$username'")or die(mysql_error());
                while($info = mysql_fetch_array( $check ))  
                    {
                    if ($pass != $info['password']) 
                        {
                                    }
                    else
                        {
                        header("Location: main.php");
                        }
                    }
             }
             //if the login form is submitted 
             if (isset($_POST['submit'])) { // if form has been submitted
             // makes sure they filled it in
                if(!$_POST['username'] | !$_POST['pass']) {
                    die('You did not fill in a required field.');
                }
                // checks it against the database
                if (!get_magic_quotes_gpc()) {
                }
                $check = mysql_query("SELECT * FROM users WHERE username = '".$_POST['username']."'")or die(mysql_error());
             //Gives error if user dosen't exist
             $check2 = mysql_num_rows($check);
             if ($check2 == 0) {
                    die('That user does not exist in our database. <a href=register.php>Click Here to Register</a>');
                            }
             while($info = mysql_fetch_array( $check ))     
             {
             $_POST['pass'] = stripslashes($_POST['pass']);
                $info['password'] = stripslashes($info['password']);
                $_POST['pass'] = md5($_POST['pass']);
             //gives error if the password is wrong
                if ($_POST['pass'] != $info['password']) {
                    die('Incorrect password, please try again. <a href=index.php>Click Here to Log In</a>');
                }
                else 
             { 
             // if login is ok then we add a cookie 
                 $_POST['username'] = stripslashes($_POST['username']); 
                 $hour = time() + 3600; 
             setcookie(ID_my_site, $_POST['username'], $hour); 
             setcookie(Key_my_site, $_POST['pass'], $hour);  
             //then redirect them to the members area 
             header("Location: main.php"); 
             } 
             } 
             } 
             else 
            {    
             // if they are not logged in 
             ?> 
            <form action="<?php echo $_SERVER['PHP_SELF']?>" method="post"> 
             <table border='1' cellpadding='5' cellspacing='0' bordercolor='#FF9900' bgcolor="#CCFFFF"> 
             <tr><td colspan=2><h1>Login</h1></td></tr> 
             <tr><td>Username:</td><td> 
             <input type="text" name="username" maxlength="40"> 
             </td></tr> 
             <tr><td>Password:</td><td> 
             <input type="password" name="pass" maxlength="50"> 
             </td></tr> 
             <tr><td colspan="2" align="right"> 
             <input type="submit" name="submit" value="Login"> 
             </td></tr> 
             </table> 
             <br />
             <a href="/hrd/orig/register.php">Register Here</a>
            </form> 
             <?php 
             } 
             ?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T07:19:31.560

```
if ($info['status'] == '1') { // check the value of the 'status' in the db
    //go to admin area
    header("Location: admin.php");
} else {
    //go to members area
    header("Location: main.php");  
} 
```

应该做的伎俩。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:20:18.943

我会在原始行附近添加额外的重定向：

```
header("Location: main.php"); 
```

可能在这样的 if 语句中：

```
if($info['status'])
{
    header("Location: admin.php");
}
else
{
    header("Location: main.php");
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T07:29:05.650

当您在数据库中创建用户定义时，将“身份验证”定义为 0 或 1。然后当他们登录时，您可以执行类似的操作。

登录检查页面.php

```
mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("cannot select DB");
$sql="SELECT * FROM users WHERE u_name='$myusername' and p_word='$encrypted_p_word'";
$result=mysql_query($sql);
$row= mysql_fetch_array($result);
$count=mysql_num_rows($result);
$auth=$row['auth'];
if($count==1){
    if($auth==1){
        session_start();
        $_SESSION['auth']=$auth;
        $_SESSION['u_name']=$myusername;
        header("location:index.php");
    }
    elseif($auth==0){
        session_start();
        $_SESSION['auth']=$auth;
        header("location:calendar.php");
    }
}
else {
echo "Wrong Username or Password";
} 
```

在您不希望用户看到的其他页面的顶部放置类似

```
session_start();
if($_SESSION['auth']!=1){
    header("location:login.php");
} 
```

# facebook - 如何将我的 Facebook 应用重定向到 App Center？

> ID：12382973
> 
> 赞同：2
> 
> 时间：2012-09-12T07:16:36.970
> 
> 标签：facebook, facebook-apps

我有一个 Facebook 应用程序（本机 iOS 应用程序和使用 Facebook 的本机 Android 应用程序）。我希望发生以下情况：

1.  我在 Facebook.com 上搜索我的应用
2.  我在搜索结果中单击应用程序并重定向到应用程序中心[http://www.facebook.com/appcenter/my_app](http://www.facebook.com/appcenter/my_app)（以便用户获取有关我的应用程序的信息）

我无法让它工作，我总是被重定向到我在设置中的“Facebook 上的应用程序”下输入的“画布 URL”。如果我改为在设置中禁用“Facebook 上的应用程序”并搜索我的应用程序并单击它，我会收到错误消息：

```
To fix this error, please set your Canvas URL and/or Secure Canvas URL in the "App on Facebook" section of your app's settings. 
```

我该如何解决这个问题？我错过了什么？我真的很想使用应用中心。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:30:56.163

您是否提交了应用详细信息（设置下方的应用详细信息链接）？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T05:02:04.120

我今天（2012 年 10 月 22 日）检查了我的应用程序，问题似乎已由 FB 修复。当我搜索我的应用程序时，无论是否指定了画布 URL，它们都会在我搜索它们时正确地重定向到应用程序中心。

# drupal - 只需管理添加到视图

> ID：12382976
> 
> 赞同：0
> 
> 时间：2012-09-12T07:16:53.663
> 
> 标签：drupal, drupal-7, drupal-views

我有一个内容类型和滑块视图块，我只想在滑块中通过管理显示添加此内容，而当另一个用户添加此内容时，不在滑块中显示此内容

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:14:06.733

在同一个视图中创建一个新块并将其显示更改为您想要的外观并对其进行一些访问控制；
第一个块（在同一视图中）只有管理员可以看到它，第二个块授予普通用户访问权限。
在块区域使一个在另一个之上。
祝你好运

# iphone - iOS 构建系统像没有 Ruby 的 RubyMotion？或者，RubyMotion 是否适用于游戏？

> ID：12382980
> 
> 赞同：1
> 
> 时间：2012-09-12T07:17:11.360
> 
> 标签：iphone, ios, rubymotion

我是一个狂热的 Emacs 用户，想开始在 iOS 上进行开发。我曾经在使用 GNUStep 的时候写过 Objective-C，但总的来说，在它或 XCode 中效率不高。

RubyMotion 看起来最有前途，但主要是由于文本模式构建系统和 XCode 而非 Ruby 的非必要性。

我真的不想用Unity或者它的同胞这种过于巴洛克的框架，我希望能够发布到应用商店，这样越狱者使用的工具链就不起作用了。

是否有类似于 RubyMotion 的 iOS 构建工具链？如果不是，或者您的答案是编写我自己的脚本调用 xcodebuild（过去对我没有用），那么 RubyMotion 是否适用于游戏？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T16:04:16.673

RubyMotion 很棒，而且由于它可以编译为原生，它也很快。我正在开发我的第二个应用商店版本。我可能弄错了，但听起来您认为 RubyMotion 无法发布到应用商店。这里有一些关于如何的帖子：

> [http://www.iconoclastlabs.com/cms/blog/posts/submitting-rubymotion-apps-to-the-app-store](http://www.iconoclastlabs.com/cms/blog/posts/submitting-rubymotion-apps-to-the-app-store)
> 
> [http://www.iconoclastlabs.com/cms/blog/posts/updating-a-rubymotion-app-store-submission](http://www.iconoclastlabs.com/cms/blog/posts/updating-a-rubymotion-app-store-submission)

就框架而言，您可以与任何您想要的 cocopod 混合使用。所以你不受限制，已经有一些用 RubyMotion 编写的基本游戏的例子。

> [http://www.rubymotion.com/developer-center/articles/cocoapods/](http://www.rubymotion.com/developer-center/articles/cocoapods/)
> 
> [http://maniacdev.com/2012/05/example-ios-cocos2d-with-ruby-rubymotion/](http://maniacdev.com/2012/05/example-ios-cocos2d-with-ruby-rubymotion/)

现在是加入 RubyMotion 潮流的好时机，祝你好运！

# iphone - 如何重新加载 UIViewController

> ID：12382981
> 
> 赞同：6
> 
> 时间：2012-09-12T07:17:13.990
> 
> 标签：iphone, ios, xcode, ios4, iphone-sdk-3.0

我想重新加载标签栏控制器（UIViewController）中包含的所有视图。搜索后我发现我必须应用 setNeedsDisplay 方法，但我无法找到我应该在哪里应用它。也欢迎任何其他替代方案

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    .....
    .....

    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease];
    [self customToolbar];
    [self.window addSubview:tabBarController.view];
    [self.window makeKeyAndVisible];    
    return YES;
}
-(void)customToolbar
{
    //Declared view controllers and their Navigation Controller
    .....

    //Declared tab bar items
    .....    

    tabBarController = [[GTabBar alloc] initWithTabViewControllers:viewControllersArray tabItems:tabItemsArray initialTab:1];
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:27:01.827

正确的做法是将任何需要刷新的 VC 作为观察者添加到某个 NSNotificationCenter 通知名称。一旦 VC 收到此消息，只需调用一个选择器，该选择器调用`[self setNeedsDisplay]`.

将 VC 添加到 NSNotificationCenter：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector: @selector(setNeedsDisplay) name:@"ViewControllerShouldReloadNotification" object:nil]; 
```

不要忘记`removeObserver:self`在视图控制器被释放时调用。

# c# - EF Code First - 从代理获取 POCO

> ID：12382982
> 
> 赞同：3
> 
> 时间：2012-09-12T07:17:14.397
> 
> 标签：c#, .net, entity-framework, ef-code-first

问题：

**当我们需要序列化它们时，在处理动态代理时是否可以拉出底层 POCO？**

理由：

我需要使用 EF Code First 序列化（XML）我的 POCO 实体，但很快发现它`DbContext`为我的 POCO 创建了动态代理，这使得序列化变得困难。

我尝试了以下方法：

1.  在 中禁用代理创建，`DbContext`并且仅适用于纯 POCO。这允许我以任何我喜欢的方式序列化实例。唯一的问题是导航属性没有被跟踪，因此，当我想保存时，我必须手动附加所有相关实体，否则总是会创建新实体（参见代码示例）。
2.  在 POCO 上实现`ISerializable`接口以手动处理序列化。这是很多工作，不是一个可持续的解决方案。

代码示例。

```
// Attach and update tags
foreach (var tag in entity.Tags)
{
    Context.Entry(tag).State = Context.Tags.Any(t => t.ID == tag.ID)
                                    ? EntityState.Modified
                                    : EntityState.Added;
}

// Attach and update state.
Context.Entry(entity).State = Context.Resources.Any(x => x.ID == entity.ID)
                                    ? EntityState.Modified
                                    : EntityState.Added; 
```

您可以想象，当我的实体拥有更多关系时，复杂性可能会失控。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T07:58:10.780

> 当我们需要序列化它们时，在处理动态代理时是否可以拉出底层 POCO？

不，因为没有底层 POCO - 代理不是实体实例的包装器。它直接是实体实例。

您可以使用`DataContractSerializer`and[`ProxyDataContractResolver`](http://msdn.microsoft.com/en-us/library/system.data.objects.proxydatacontractresolver.aspx)序列化代理 POCO，但序列化代理实体听起来就像您正在尝试序列化启用延迟加载的实体 - 这可以序列化比您预期的要多得多，因为每个属性都将递归地延迟加载，直到没有单个未加载导航整个对象图中的属性。

在使用时，您还必须处理循环引用，方法`DataContractSerializer`是用 标记您的实体`[DataContract(IsReference = true)]`和每个可序列化的属性`[DataMember]`。

> 唯一的问题是没有跟踪导航属性

没有代理的实体也会被跟踪。跟踪取决于被附加的实体而不是被代理的实体。

> 当我想保存时，我必须手动附加所有相关实体

如果要持久化它们，则必须始终附加反序列化实体。

# sql - MS-ACCESS 查询仅匹配字符串比较中的任何 N（连续）字符

> ID：12382986
> 
> 赞同：0
> 
> 时间：2012-09-12T07:17:39.863
> 
> 标签：sql, string, ms-access, comparison

什么查询适合比较下面指定的两个表，但是 location(table1) 中只有部分字符串与 Location(table2) 匹配。

```
Location(table1)    Location(table2)
india- north        USxcs
India-west          Indiaasd
India- east         Indiaavvds
India- south        Africassdcasv
US- north           Africavasvdsa
us-west             UKsacvavsdv
uk- east            Indiacascsa
uk- south           UScssca
Africa-middle       Indiacsasca
Africa-south        Africaccc
Africa-east         UKcac 
```

1.  只有位置（table1）的第一个两个字符和位置（table2）的第一个两个字符应该匹配。请帮忙

2.  location(table1) 的任何 N（连续）个字符和 location（table2）的任何 N（连续）个字符都应该匹配。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:24:08.183

您可以`LIKE`用于模式匹配。下面的示例显示了 table1 的位置列表，该列表与 table2 的位置部分匹配

在 MSSQL 中：

```
SELECT *
FROM location_table2 a, location_table1 b
WHERE b.location LIKE a.Location + '%' 
```

在 MySQL 中：

```
SELECT *
FROM location_table2 a, location_table1 b
WHERE b.location LIKE CONCAT(a.Location, '%') 
```

在 MSAccess 中：

```
SELECT *
FROM location_table2 a, location_table1 b
WHERE a.Location LIKE LEFT(b.Location, InStr(b.Location, '-') -1) & '%' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:59:32.923

在 MSAccess 中，我将创建 2 个新查询，引入一个新列，每个表中只有位置字段的前 2 个字母，然后添加第三个查询加入这 2 个。

qry_table1：

```
select location as location1, left(location,2) as loc1 from table1 
```

qry_table2：

```
select location as location2, left(location,2) as loc2 from table2 
```

qry_join：

```
select location1, location2 
from qry_table1 inner join 
qry_table2 on 
qry_table1.loc1 = qry_table2.loc2 
```

# android - Android 4.0 在 webview 中启用 flash

> ID：12382989
> 
> 赞同：0
> 
> 时间：2012-09-12T07:17:50.700
> 
> 标签：android, flash, plugins, webview

是否有在 webview 中启用 flash 的认证方式？我有一个安装了 ICS 的三星 Galaxy S3。flash 在我的普通浏览器中工作（`Internet`图标上显示的默认浏览器）。我制作了一个布局中包含 webview 的应用程序。我在此加载相同的页面，但`webview`Flash 不起作用。我尝试在我的主要活动的 onCreate 中添加以下行：

```
WebView webView1=(WebView)findViewById(...)
webView1.getSettings().setPluginState(WebView.PluginState.ON); 
```

但不起作用。我也尝试使用`setPluginsEnabled`( [deprecated](http://developer.android.com/reference/android/webkit/WebSettings.html#setPluginsEnabled%28boolean%29) ) 但这也没有用。另外，我设置

```
android:hardwareAccelerated="true" 
```

在应用程序标签的清单文件中。但它仍然不起作用。

那么有没有人让它工作？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T06:20:51.950

这可能是与 webview 上未启用 Javascript 相关的问题吗？

myWebView.getSettings().setJavaScriptEnabled(true);

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-12T09:00:45.243

我忘记启用javascript。这样做了，它就像一个魅力。

# javascript - 获取选定的单选按钮值

> ID：12382990
> 
> 赞同：0
> 
> 时间：2012-09-12T07:17:57.267
> 
> 标签：javascript, radio-button

我在 rowdatabound 事件上动态地在 gridrow 中添加一个单选按钮。我想要特定网格行的选定单选按钮的值。

目前我正在获得价值 bt 它不会返回特定行索引的值。

请参阅我的以下代码：

```
function GetBlastid()
     {  
         var gv = document.getElementById("<%=grdOofMailProcess.ClientID%>");  
         var rbs = gv.getElementsByTagName("input");  
         var flag = 0;  
         for (var i = 0; i < rbs.length; i++)
         {  
             if (rbs[i].type == "radio")
             {  
                 if (rbs[i].checked)
                 {  
                 alert(rbs[i]);
                     flag = 1;  
                     document.getElementById('hdnBlastId').value=rbs[i].value
                     break;  
                 }  
             }  
         }
     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:23:14.250

好吧，一旦您检查了哪个单选框，请导航到其父级并获取行索引 row.rowIndex ，我无法为您提供确切的代码，因为我不知道您如何放置单选按钮，无论是直接在列下方还是具有不同的父级.

```
function GetBlastid()
 {  
     var gv = document.getElementById("<%=grdOofMailProcess.ClientID%>");  
     var rbs = gv.getElementsByTagName("input");  
     var flag = 0;  
     for (var i = 0; i < rbs.length; i++)
     {  
         if (rbs[i].type == "radio")
         {  
             if (rbs[i].checked)
             {  
             alert(rbs[i]);
//here get the parent of rbs[i] and navigate to the row to get the row index.
                 flag = 1;  
                 document.getElementById('hdnBlastId').value=rbs[i].value
                 break;  
             }  
         }  
     }
 } 
```