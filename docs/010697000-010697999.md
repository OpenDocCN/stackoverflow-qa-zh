# StackOverflow 问答 10697000-10697999

# c# - 格式异常 C#/Asp.Net/SQL

> ID：10697000
> 
> 赞同：1
> 
> 时间：2012-05-22T06:42:34.133
> 
> 标签：c#, .net, parsing

我收到错误“System.FormatException：输入字符串不正确”。

```
TextBox2.Text = objnm.rupees(Convert.ToInt64(Convert.ToDecimal(txtWOrds.Text.Trim()))); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T06:47:42.913

首先，您不需要将其转换为十进制 ( `Convert.ToDecimal`)，然后再转换为 Int64 ( `Convert.ToIn64`)。

其次，如果`txtWOrds.Text`不是数字或为空，则会出现此异常。确保它是一个数字。

第三，如果你的值是一个数字，那么你的问题就在某个地方`objnm.rupees()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T06:51:51.133

您应该检查输入以防其为空，`string.IsNullOrEmpty(txtWOrds.Text)`然后继续解析`textbox`.

此外，您应该使用`TryParse`which 评估文本是否可以解析，如果为真，您可以使用`out`此方法的参数值。

在您的情况下，如果`TextBox`为空，它可能会失败。

此外，如果它与货币/货币有关，不确定您是否需要转换为`Long`（那里似乎不匹配，请澄清。如果您想要一组特定的小数点，那么最好使用`decimal.Round`）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T06:50:59.217

删除`Convert.Int64`并仅使用`Convert.ToDecimal`（理想情况下您应该使用`decimal.TryParse`）。另外，确保输入文本框包含正确的类型（十进制）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T06:59:13.227

```
 Decimal value = default(decimal);
  bool isValid = decimal.TryParse(txtWOrds.Text.Trim(), out value);
  if (isValid)
  {
        //your code using output 'value'             
  } 
```

# php - 为什么 Symfony2 包不应该嵌入第三方库

> ID：10697003
> 
> 赞同：1
> 
> 时间：2012-05-22T06:42:44.760
> 
> 标签：php, symfony

[捆绑结构和最佳实践](http://symfony.com/doc/current/cookbook/bundles/best_practices.html)：

> 捆绑软件不应嵌入以 JavaScript、CSS 或任何其他语言编写的第三方库。

为什么我不应该创建例如[bootstrap](http://twitter.github.com/bootstrap)或[jQuery](http://jquery.com/)包？

我认为如果所有第三方 CSS 和 JavaScript 库都存在于它们自己的包中，那么维护起来会更容易。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:59:01.897

好吧，一方面，这是违反直觉的。Symfony Bundles 用于 PHP 功能包，您正在谈论捆绑前端库。

其次 - 为什么会更容易？bootstrap 和 jQuery 之类的东西一开始就是*公共资源——它们**不需要*可分发的包来实现高重用。PHP 资源*不是*公开的，因此可以从这种类型的系统中受益。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T08:19:42.197

当两个或更多包使用相同的 3rd 方库但版本不同时，就会出现混乱。您的捆绑包的用户将无法选择要包含的库，因此当时无法同时使用这两个捆绑包。

如果您的包是一个独立的应用程序，即您的应用程序的主包，则可以将它们存储在一个包文件夹中。例如，[SonataAdminBundle](https://github.com/sonata-project/SonataAdminBundle)包括 3rd 方库：bootstrap.css、qtip、famfamfam 图标。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T10:28:30.390

看看 MopaBootstrapBundle [https://github.com/phiamo/MopaBootstrapBundle](https://github.com/phiamo/MopaBootstrapBundle)它为你集成了 TwitterBootstrap 和 jQuery 库，如果你启用了 initializr 插件，它还集成了 HTML5BoilerPlate。

# asp.net - 是否可以从另一个以特定形式启动 WPF 应用程序

> ID：10697009
> 
> 赞同：1
> 
> 时间：2012-05-22T06:42:57.423
> 
> 标签：asp.net, wpf

```
private void btnRun_Click(object sender, RoutedEventArgs e) 
{ 
    Process p = new Process(); 
    p.StartInfo = new ProcessStartInfo("c://WPFApplication1.exe"); 
    p.Start(); 
} 
```

我使用这个从我的应用程序启动另一个应用程序；但我想去一个特定的表格。是否可以？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T06:50:23.473

是的，在启动进程时使用命令行参数：

```
p.StartInfo.Arguments = "formname"; 
```

然后在目标项目中，检索 *Application_Startup* 中的命令行参数，并打开表单：

```
private void Application_Startup(object sender, StartupEventArgs e)
{
    string formName = e.Args[0];
    this.StartupUri = formName;
} 
```

# iphone - 未调用 ASINetworkQueue 委托方法

> ID：10697011
> 
> 赞同：1
> 
> 时间：2012-05-22T06:43:00.453
> 
> 标签：iphone, delegates, download, asihttprequest, network-protocols

在我的应用程序中，我使用 ASINetworkQueue 方法下载文件。我有 n 个按钮，每个按钮单击不同的队列将使用多个请求创建，并开始异步下载（多次下载）。它工作正常，但我无法跟踪每个队列何时完成。我用过，

```
 [self.myQueue cancelAllOperations];
        [self.myQueue setDownloadProgressDelegate:currentProgress];
        [self.myQueue setDelegate:self];
        [self.myQueue setShowAccurateProgress:YES];
        [self.myQueue setRequestDidFinishSelector:@selector(requestFinished:)];
        [self.myQueue setQueueDidFinishSelector:@selector(queueComplete:)]; 
```

并将请求添加为，

```
 ASIHTTPRequest *request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:str]];
                            [request setDownloadProgressDelegate:currentProgress];
                            [request setShowAccurateProgress:YES];   
                            [request setDelegate:self];
                            [request shouldContinueWhenAppEntersBackground];
                            [request allowResumeForFileDownloads];
                            [request startAsynchronous];
                            [self.myQueue addOperation:request]; 
```

最后， `[self.myQueue go];` 委托方法是

```
- (void)queueComplete:(ASINetworkQueue *)queue
{
   NSLog(@"Queue completed");
} 
```

但它最后没有被调用。这里出了什么问题？任何想法？而且，如果有多个队列同时执行，我们如何区分最后哪个队列完成？

**编辑：**

```
 - (void)download{
    UIImageView *image = (UIImageView *)[mainView viewWithTag:selectedTag];
    for (UIProgressView *currentProgress in [image subviews]) {
        if ([currentProgress isKindOfClass:[UIProgressView class]]) {
            NSLog(@"Prog tag: %d",currentProgress.tag);
            if(currentProgress)
            {
                currentProgress.progress = 0.0;
                [[self myQueue] cancelAllOperations];
                [self setNetworkQueue:[ASINetworkQueue queue]];
                [[self myQueue] setDownloadProgressDelegate:currentProgress];
                [[self myQueue] setDelegate:self];
                [[self myQueue] setShowAccurateProgress:YES];
                ASIHTTPRequest *request;
                [myQueue setQueueDidFinishSelector:@selector(queueComplete:)];
                for (int h = 0; h < [urlArray count]; h++) {
                    request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:[urlArray objectAtIndex:h]]];
                    [[self myQueue] addOperation:request];
                }
                [[self myQueue] go];
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:27:35.877

在将请求添加到队列之前，您正在启动该请求。

```
[request startAsynchronous]; 
```

请求的开始只能由队列处理。所以删除该行，应该调用完整的回调。

当您有多个队列时，您应该保留对每个队列的引用。你可以把它们放在一个 NSMutableArray 中。然后在完成回调中，您可以通过检查数组中的队列来检查哪个队列已完成。

编辑：

似乎您忘记设置您的`myQueue`iVar，所以它`nil`忽略了所有方法调用。所以添加：

```
self.myQueue = [ASINetworkQueue queue]; 
```

在一个数组中有多个队列：

```
self.queues = [NSMutableArray array] // queues is a retained property
ASINetworkQueue *queue = [ASINetworkQueue queue];
[queues addObject:queue]; 
```

# asp.net - Facebook SDK - 无需身份验证即可通过 id 访问公共相册

> ID：10697015
> 
> 赞同：2
> 
> 时间：2012-05-22T06:43:11.163
> 
> 标签：asp.net, facebook, facebook-graph-api

我开发了一个 ASP.NET 网站。它将包含文本文章，其中一些将包含来自我的 Facebook 帐户的图片，超出文本。请注意，我将仅使用我帐户中的公开相册。

所以我创建了一个 sql 表并绑定了`articles`、 the`albums`和 the `photos`（实际上`IDs`是所有这些）。我已经使用了[facebook api sdk](http://csharpsdk.org/)，它是一个很棒的库。

显然，我网站的任何访问者（即使他没有 facebook 帐户）都可以在不访问 facebook 且**无需**通过 facebook进行身份验证来访问它们的情况下查看文章和**图片。****`oAuth`**

 **那么问题来了：

1）我如何获取公共相册包含的照片`album id`，`user id` **无论是否经过身份验证**？（我不知道，也许我应该使用专辑ID和用户ID以外的其他参数）

2) 如何获取公开相册的属性（名称、id 等）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:05:27.213

要检索用户相册列表，您需要向 Graph API 发出下一个 GET 请求：

```
https://graph.facebook.com/me/albums?access_token=... 
```

并检索照片列表：

```
https://graph.facebook.com/ALBUM_ID?access_token=... 
```

`user_photos`但是，未经身份验证和请求许可，您无法读取用户的相册（和照片） 。

根据[`album`](https://developers.facebook.com/docs/reference/api/album/)文档：

> 要阅读您需要的专辑
> 
> *   任何有效的访问令牌（如果它是公开的并且属于[页面）](https://developers.facebook.com/docs/reference/api/page)
> *   `user_photos`属于[用户](https://developers.facebook.com/docs/reference/api/user)的权限
> *   `friend_photos`如果它属于[用户的](https://developers.facebook.com/docs/reference/api/user)朋友的权限

所以通常你只有两种选择来达到你想要的结果：

1.  使用 Facebook 页面存储您要在现场显示的 所有[相册](https://developers.facebook.com/docs/reference/api/album/)/[照片](https://developers.facebook.com/docs/reference/api/photo/)
    *   使用[Application`access_token`](https://developers.facebook.com/docs/authentication/applications/)阅读它们。
    *   这将允许您完全绕过身份验证流程。
2.  使用您的个人帐户存储[相册](https://developers.facebook.com/docs/reference/api/album/)/[照片](https://developers.facebook.com/docs/reference/api/photo/)
    *   授权应用程序（[客户端](https://developers.facebook.com/docs/authentication/client-side)/[服务器端](https://developers.facebook.com/docs/authentication/server-side)）并授予`user_photos`权限
    *   [为您的用户扩展`access_token`](https://developers.facebook.com/roadmap/offline-access-removal/#extend_token)并存储它
    *   使用您的个人`access_token`访问您的相册/照片

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:40:06.337

如果没有访问令牌，您可以从图形 api 获得的信息很少。只需将您的浏览器引导至：`http://graph.facebook.com/YOU_USER_ID`.

您还可以检查[User object documentation中的字段/连接表，其中在](http://developers.facebook.com/docs/reference/api/user/)*Permissions*列（3rd）中显示“不需要 access_token”，您可以在没有令牌的情况下获得。

如果您想获取自己的其他数据并在您的网站上公开提供，您有两种选择：

1.  使用[服务器端身份验证流程](http://developers.facebook.com/docs/authentication/server-side/)，获取长期访问令牌（60 天），保存并在接下来的 60 天内使用它从 facebook 获取数据。然后，当它过期时，再次进行身份验证过程。只有你需要经历它，而不是你的用户，而且每 60 天只有一次。

2.  自己登录，对您的应用进行身份验证，获取所有数据并将其保存在您的数据库中，然后将其呈现给您的用户。您需要每隔一段时间更新一次。

* * *

# 编辑

服务器端身份验证流程指南有一个用 php 编写的示例。这是一个简单的示例，并未涵盖所有场景，但它是一个好的开始。

我已经在 python 和 java 中实现了这一点，但它不是很容易共享的东西，因为它跨越多个请求和状态，所以我只描述我认为你应该使用的流程：

1.  在 facebook 中，您可以访问您的画布应用程序
2.  Facebook 将使用您的画布 url 将 POST 放入 iframe
3.  在发布数据中，您将获得一个[签名的请求](http://developers.facebook.com/docs/authentication/signed_request/)，对其进行解码并检查它是否具有访问令牌，如果有，请检查它何时过期。如果一切正常，请保存该令牌并且身份验证过程结束，否则：
4.  将用户重定向到[oAuth 对话框](http://developers.facebook.com/docs/reference/dialogs/oauth/)以及您的重定向 URL 和您需要的权限。
5.  允许您自己的应用程序后，您将被重定向到带有代码参数（在查询字符串中）的“recirect_uri”。
6.  针对 facebook 服务器交换访问令牌的代码并保存令牌。
7.  然后，您可以将自己重定向到画布应用程序或停在那里。

这应该是一个长寿命的访问令牌，然后您可以使用 60 天。

至于将您的 fb 数据保存在您自己的数据库上，将数据保存在数据库上是一个非常简单的操作，这完全取决于您要保存的数据，您需要如何编码/使用它（json、xml、纯文本） ）。

例如，假设您想要显示您自己的照片，然后在您获得令牌（如上所述）后，只需通过向以下位置发出 http 请求从您的服务器查询您的照片：`https://graph.facebook.com/me/photos?access_token=XXXXXX`。您应该得到一个 json 编码的结果，对其进行迭代并将每张图片保存为您的数据库中的记录。**

# php - 如何在 CloudFoundry 上部署 PHP 应用程序？

> ID：10697018
> 
> 赞同：0
> 
> 时间：2012-05-22T06:43:20.053
> 
> 标签：php, cloud-foundry

我正在尝试在 ColudFoundry 上部署我的普通 PHP 应用程序……但我不知道我应该遵循哪些具体步骤？任何人都请帮我在 CloudFoundry 上部署它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-23T18:10:17.090

您是否尝试将 PHP 应用程序部署到 CloudFoundry.com？如果是这样，则此处未启用 PHP。PHP 支持位于[https://github.com/cloudfoundry](https://github.com/cloudfoundry)的开源项目和一些使用 Cloud Foundry 的 PaaS 提供商，例如 AppFog：[http ://appfog.com/](http://appfog.com/)

您可以通过运行来检查 PHP 是否是可用的运行时`vmc runtimes`。

有关将 PHP 应用程序部署到支持它的 Cloud Foundry 实例的一般说明： [https ://github.com/cloudfoundry/oss-docs/tree/master/vcap/php_support](https://github.com/cloudfoundry/oss-docs/tree/master/vcap/php_support)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-02T05:16:38.103

CloudFoundry.com does not have support for all that is checked into CloudFoundry.org but there are other Cloud Foundry providers that provide more cutting edge services.

[http://appfog.com/](http://appfog.com/) provides PHP and Python support built-in, as well as languages like Java, Node, and Ruby.

AppFog was also the company who contributed PHP support to Cloud Foundry and has the benefit of running in US, EU, and Asia.

# iphone - 选择查询未执行

> ID：10697029
> 
> 赞同：1
> 
> 时间：2012-05-22T06:44:33.143
> 
> 标签：iphone, sqlite

当我尝试执行选择查询时未执行。

在程序的以下代码执行停止后。

```
NSString *query = [NSString stringWithFormat:@"select * from maintable_master where din =? ",din]; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T06:46:45.897

如果 din 是整数，那么，

```
NSString *query = [NSString stringWithFormat:@"select * from maintable_master where din =%d ",din]; 
```

如果 din 是字符串，那么，

```
NSString *query = [NSString stringWithFormat:@"select * from maintable_master where din ='%@' ",din]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T06:48:58.127

din 必须给我一个 nsstring，din 的对象类型是什么

如果是 int，请将其包装在 NSString 中

# javascript - 在通过 AJAX 接收的文档中延迟 JavaScript 执行

> ID：10697036
> 
> 赞同：0
> 
> 时间：2012-05-22T06:44:55.180
> 
> 标签：javascript, jquery

我通过 AJAX 接收这个 HTML 文档：

```
 <form enctype="multipart/form-data" method="POST" action="admin.php?do=media&action=file-upload">

    <div id="uploadForm">

        <div id="fileList">

        </div>

        <a href="#" id="selectFile">[Select File]</a>
        <a href="#" id="uploadFile">[Start Upload]</a>

    </div>

</form>

<script type="text/javascript">
    // $(function(){}); not working when data loaded with ajax request
        var ajaxUpload = new plupload.Uploader({

            runtimes: 'gears, html5, flash',
            url: 'upload.php',
            browse_button: 'selectFile',

        });

        ajaxUpload.bind('Init',function(param){
            console.log(param);
            console.log($('selectFile'));
        });

        $('#uploadFile').click(function(){
            alert('Something');
        });

        ajaxUpload.init();

</script> 
```

当我将此附加到主文档时，其中的 JavaScript 将立即运行并且无法找到引用的 DOM 元素。

当我在代码上添加超时时它会起作用，但我想知道实现这一点的更好方法。

**更新**

修改以反映问题的真实意图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T06:52:12.663

以您描述的方式这是不可能的，因为 JavaScript 没有绑定到要运行的条件，因此它会立即运行。

您通过 AJAX 接收的文档中的代码应通过提供方包装在一个函数中：

```
function onDocumentReady()
{
    // your code here
} 
```

然后从加载代码：

```
// get the HTML and JavaScript in data
$('#container').append($(data));
// fire the function to let JavaScript run
onDocumentReady(); 
```

如果您有多个请求，提供方应`onDocumentReady`通过在函数名称中添加随机字母来使函数唯一，例如`onDocumentReady_123()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T06:50:24.940

将您的代码包装在 $(document).ready 中。这将确保您的 JavaScript 在加载 DOM 并且您的目标元素将在页面上可用之前不会运行：

```
$(document).ready(function() {
   var ajaxUpload = new plupload.Uploader({

        runtimes: 'gears, html5, flash',
        url: 'upload.php',
        browse_button: 'selectFile',

    });

    ajaxUpload.bind('Init',function(param){
        console.log(param);
        console.log($('selectFile'));
    });

    $('#uploadFile').click(function(){
        alert('Something');
    });

    ajaxUpload.init();
}); 
```

有关其工作原理的更多信息，请参阅[jQuery ready](http://api.jquery.com/ready/)的文档。该站点还提供有关其他有用的 jQuery 命令的信息，这些命令可能会有所帮助，我鼓励您查看并尝试那里的示例。祝你好运！

**更新：**

如果我理解正确，您将从服务器获得类似以下 HTML 的内容：

```
<!-- Pulled HTML from the server using AJAX -->
<div id="uploadForm">
    <div id="fileList">
    </div>
    <a href="#" id="selectFile">[Select File]</a>
    <a href="#" id="uploadFile">[Start Upload]</a>
</div> 
```

也许试图将它动态注入到这个：

```
<form action=""> <!-- inject HTML here --> </form> 
```

如果我的理解是正确的，那么这应该允许您注入 HTML，然后仅在 AJAX 请求完成后才运行 JavaScript，并且新的 DOM 已被注入。请记住，由于我没有您的所有代码，因此这只是一个概念示例：

```
$.ajax({ url:"/somepathtoGetData",
    success: function(data) {

        // your HTML is in the variable "data", and this injects the HTML into
          // the form element on the page
        $('form').html( data );

        // now that the DOM elements are loaded from the AJAX request, do your
         // other stuff with the uploader here

        var ajaxUpload = new plupload.Uploader({

            runtimes: 'gears, html5, flash',
            url: 'upload.php',
            browse_button: 'selectFile',

        });

        ajaxUpload.bind('Init',function(param){
            console.log(param);
            console.log($('#selectFile')); // added # for id attr
        });

        $('#uploadFile').click(function(){
            alert('Something');
        });

        ajaxUpload.init();

    }
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-22T06:52:25.503

**更新**

假设我有两个php文件，一个是main.php，有这样的代码：（不包括jQuery src，请自己添加）

```
<script type="text/javascript" charset="utf-8">

    $(document).ready(function(){
        $('#b').click(function(){
            $.post("ajax.php",
            {
                taskaction: "getFormAndJs"              
            },
            function(data){
                        $('body').append(data);
                        // $(document).trigger("ready");
            },
            "text");
            })
    });
</script>

<body>
    aaaaaaaaaaaaa
    <input type=button id="b" value="click" />
</body> 
```

另一个是ajax.php，像这样：

```
<?php

if ($_POST['taskaction'] == 'getFormAndJs') {
    echo '
        <div id="uploadForm">222</div> <input type=button id="a" value="upload" />
        <script>
        $("#a").click(function(){
            alert(123);
        })
        </script>
    ';
}

?> 
```

无论我添加

```
$(document).trigger("ready"); 
```

或不。

这看起来像你的情况吗？

# sql - 这种数据库设计是否适用于有子问题？

> ID：10697044
> 
> 赞同：1
> 
> 时间：2012-05-22T06:45:26.973
> 
> 标签：sql, database-design, sql-server-2008-r2

我有以下数据库设计：

```
Employee Table: EmployeeID, Name, OrgCode
Department Table: OrgCode, DepartName
CompleteSurvey Table: ID, RespondantID, QuestionsAnswersID
Questions Table: QuestionID, Question
Answers Table: AnswerID, Answer
QuestionsAnswers Table: ID, QuestionID, AnswerID 
```

每个问题都有不同的多项选择。除此之外，我正在考虑在问题下添加子问题。大多数

这些问题具有相同的选择，例如（同意，不同意）。我想编写显示问题的查询，包括

它的子问题及其所有选择以及每个选择中的参与者数量，即使它为零。

**我不确定问题表是否会帮助我在任何问题下插入子问题。那个设计适用吗？你有什么建议吗？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T06:52:58.670

不，没有地方可以指定子问题的父问题（或问题的子问题）。

可能的方法是： 1\. 添加一个父列问题表，您将在其中放置父问题的 id。2\. 在 Questions 表中添加一个 subquestions 列，并将 subquestion ids 存储为 array / json 。我认为这可能会使查询变得困难。3\. 创建新的表子问题 - 您创建的每个子问题都有 2 列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T06:56:30.553

在您当前的问题表中，您不能有子问题。您可以尝试使用代表子问题的 ID（例如 Question 有 ID 2，然后针对该问题的子问题有 ID 2A 或类似的东西），但这种设计可能会失败，这取决于您对 ID 的计算，您也不能确保子问题的水平。

更好的方法是为自引用关系设置[父子维度](http://technet.microsoft.com/en-us/library/ms174846.aspx)。你可能有：

> 问题表：QuestionID、Question、ParentID

其中 ParentID 是某个问题的 ID。如果它为空，则该问题不是任何问题的子问题。您可能还会看到[Employee-Manager 关系](http://www.tomjewett.com/dbdesign/dbdesign.php?page=recursive.php)的递归关系，这可以帮助您更好地理解您的问题

# php - Yii AR join 在使用 findAll 时不起作用

> ID：10697047
> 
> 赞同：2
> 
> 时间：2012-05-22T06:45:52.010
> 
> 标签：php, yii

我有两张桌子`menus`和`lang_menus`. 我的`Menus`模型如下：

```
public function relations()
{
    // NOTE: you may need to adjust the relation name and the related
    // class name for the relations automatically generated below.
    return array(
                'menulanguages'=>array(self::HAS_MANY, 'MenuLangs', 'menuId'),
    );
}
...
public function getMenus(){
        $criteria = new CDbCriteria();
        $criteria->condition = "t.clientId = ".Yii::app()->user->clientId." AND menulanguages.languageId = ".Yii::app()->user->userlanguage;

        $count = Menus::model()->with('menulanguages')->count($criteria);

        $pages=new CPagination($count);
        //Results per page
        $pages->pageSize=10;
        $pages->applyLimit($criteria);

        $menus = Menus::model()->with('menulanguages')->findAll($criteria);
        return array('menus' => $menus, 'paging' => $pages);
    } 
```

这是抛出错误`Unknown column 'menulanguages.languageId'`。错误在行中`$menus = Menus::model()->with('menulanguages')->findAll($criteria);`。

令人惊讶的是，我`$count`正确地获得了变量的值。

在查看日志时，我可以看到为 findAll 查询运行的 SQL 查询是：

```
SELECT `t`.`id` AS `t0_c0`, `t`.`clientId` AS `t0_c1`, `t`.`restaurantId` AS `t0_c2` FROM `posif_menus` `t` WHERE (t.clientId = 1 AND menulanguages.languageId = 2) LIMIT 10 
```

这意味着连接尚未发生。而正确的连接查询正在为计数值运行。难道我做错了什么 ？请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T07:41:20.847

只需使用[`together()`CActiveRecord](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#together-detail "http://www.yiiframework.com/doc/api/1.1/CActiveRecord#together-detail")或[`together`CDbCriteria 的属性](http://www.yiiframework.com/doc/api/1.1/CDbCriteria#together-detail "http://www.yiiframework.com/doc/api/1.1/CDbCriteria#together-detail")：

```
$menus = Menus::model()->with('menulanguages')->together()->findAll($criteria); 
```

或者：

```
$criteria = new CDbCriteria();
$criteria->condition = "t.clientId = ".Yii::app()->user->clientId." AND menulanguages.languageId = ".Yii::app()->user->userlanguage;
$criteria->together=true; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T06:58:48.243

试试这个.. 在 cdbcriteria 中应用连接表..

```
public function getMenus(){
        $criteria = new CDbCriteria();
        $criteria->condition = "t.clientId = ".Yii::app()->user->clientId." AND                                               menulanguages.languageId = ".Yii::app()->user->userlanguage;
        $criteria->with = array('menulanguages');

        $count = Menus::model()->count($criteria);

        $pages=new CPagination($count);
        //Results per page
        $pages->pageSize=10;
        $pages->applyLimit($criteria);

        $menus = Menus::model()->findAll($criteria);
        return array('menus' => $menus, 'paging' => $pages);
    } 
```

# php - 如何在 zf2 beta4 中使用表单？

> ID：10697066
> 
> 赞同：4
> 
> 时间：2012-05-22T06:46:57.483
> 
> 标签：php, zend-framework2

表格已在 zf2 beta4 中重新制作。zf1有很多使用形式的例子，但没有新形式的例子。请给出新表格用法的示例或链接？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-23T08:54:06.677

首先，ZF2 现在是 beta4 :)

您可以在此处查看表单代码示例：

*   [https://github.com/akrabat/zf2-tutorial](https://github.com/akrabat/zf2-tutorial)
*   [联系方式](http://git.mwop.net/?a=tree&p=PhlyContact&h=18385303734ab68998d155bcd4748e1c4375d940&hb=adb21fc533d973422e8c8cb8c9f7c906235eda68)

以及阅读手册的不安：

*   [https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.form.intro.rst](https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.form.intro.rst)
*   [https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.form.quick-start.rst](https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.form.quick-start.rst)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T06:56:39.540

DevZone 最近有一篇关于 ZF2 中新形式的帖子。这是链接到示例的电子邮件的链接。

[链接到电子邮件表单 DevZone](http://zend-framework-community.634137.n4.nabble.com/Forms-now-in-master-td4637456.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T16:30:12.283

**ZF2 Beta5 Form****的** 新酷特性[http://www.michaelgallego.fr/blog/?p=190](http://www.michaelgallego.fr/blog/?p=190)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-05T19:20:44.113

[http://blog.james-carr.org/2012/09/16/using-select-in-zend-framework-2/](http://blog.james-carr.org/2012/09/16/using-select-in-zend-framework-2/)

这是我在网上搜索时发现的，我需要忽略输入过滤器中的一些字段。我只想验证和过滤我在输入过滤器中设置的内容，而不是其他内容。

# wordpress - 想在 wordpress 编辑器中添加新的自己的按钮

> ID：10697067
> 
> 赞同：-1
> 
> 时间：2012-05-22T06:46:58.220
> 
> 标签：wordpress, wordpress-theming

我正在尝试为 wordpress 创建一个新插件。在非常高的水平上，我的要求是

1 在 tinyMCE 编辑器工具栏中添加一个自定义按钮（我们称之为 MyButton）。2 单击按钮应打开一个新的弹出 div/窗口。

我试过这段代码，但无法添加我的自定义按钮。

```
function add_more_buttons($buttons) {
  $buttons[] = 'hr';
  $buttons[] = 'del';
  $buttons[] = 'cut';
  $buttons[] = 'sup';
  $buttons[] = 'MyButton'; // Want to add my custom button
 return $buttons;
}
add_filter("mce_buttons_2", "add_more_buttons"); 
```

任何人有任何想法？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-06T14:18:06.207

要将按钮添加到 TinyMCE，您必须使用 tinyMCE 插件。

```
function add_youtube_button() {
   if ( ! current_user_can('edit_posts') && ! current_user_can('edit_pages') )
     return;
   if ( get_user_option('rich_editing') == 'true') {
     add_filter('mce_external_plugins', 'add_youtube_tinymce_plugin');
     add_filter('mce_buttons', 'register_youtube_button');
   }
}

add_action('init', 'add_youtube_button');

function register_youtube_button($buttons) {
   array_push($buttons, "|", "brettsyoutube");
   return $buttons;
}

function add_youtube_tinymce_plugin($plugin_array) {
   $plugin_array['brettsyoutube'] = get_bloginfo('template_url').'/custom/editor_plugin.js';
   return $plugin_array;
} 
```

完整的例子可以在[这里](http://brettterpstra.com/adding-a-tinymce-button)找到。还有一个按钮骨架可供下载（包括 js 和 php 文件）

# ruby - 如何在 ruby 1.9.2 中删除 csv 文件中的整行

> ID：10697071
> 
> 赞同：4
> 
> 时间：2012-05-22T06:47:24.177
> 
> 标签：ruby, csv

我正在构建一个应用程序，它从 CSV 文件中读取数据并将这些数据存储到数据库中。我从第 3 方获得的 csv 文件包含第一行中的标题，在将这些数据推送到数据库之前必须将其删除。如何以编程方式删除第一行，然后仅将值或数据推送到数据库。我使用的是 ruby​​ 1.9.2 版本，所以我不必使用“fastercsv”。我正在使用标准 CSV 库。

请帮帮我

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-22T08:11:16.900

当你这样做时：

```
CSV.open(filename, :headers => true) do |row|
  # it will use the first line as headers. now you can do:
  row['my_header_value']
end 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-22T07:08:10.373

您可以使用以下方法一次获取所有行：

```
arr_of_arrs = CSV.read("path/to/file.csv") 
```

然后您可以使用`arr_of_arrs.drop(1)`删除标题。或者您可以使用`arr_of_arrs.each_with_index`跳过第一行（标题），如下所示：

```
arr_of_arrs.each_with_index do |e, i|
  next if i == 0

  #process each row here
end 
```

# php - 更改 power point 文件的作者姓名

> ID：10697073
> 
> 赞同：0
> 
> 时间：2012-05-22T06:47:35.053
> 
> 标签：php, ms-office, powerpoint, flexbuilder

我可以使用 PHP 或任何其他语言更改 power point 文件的作者吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:11:33.993

是的，[PHPPowerPoint](http://phppowerpoint.codeplex.com/)似乎可以打开和保存 ppt 和 pptx 文档，并且可以操作文档元数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:13:14.573

您可以从菜单准备/属性更改

# iphone - 如何根据用户在加载 iCarousel CoverflowViewController 时的选择设置 currentItemView？

> ID：10697078
> 
> 赞同：1
> 
> 时间：2012-05-22T06:47:45.397
> 
> 标签：iphone, objective-c, ios, coverflow, icarousel

我有一个 RootViewController，其中我有一个 UITableViewController 点击这个表格单元格我将进入 CoverflowViewController，这里我有一个元素数组，所以我将 NUMBER_OF_ITEMS 设置为 [myArray count]; 和 viewForItemAtIndex: 方法我只是迭代数组对象并将文本分配给视图。到目前为止一切正常。

现在，在每次加载时，currentItemView 都是我的数组的第 0 个索引元素，但我需要根据之前的 RootViewController tableView 选择使我的 currentItemView 成为动态的（例如，加载时我的数组的第 5 个元素）。由于 currentItemView 是一个只读属性，我也无法为其赋值，那么我该如何实现呢？

任何帮助将不胜感激，并提前感谢！

# heap-memory - Android 应用程序的任何 DVM 工具接口（Java 等效的 JVMTI）？

> ID：10697082
> 
> 赞同：0
> 
> 时间：2012-05-22T06:47:59.403
> 
> 标签：heap-memory, stack-memory, jvmti

Eclipse 调试器仍然适用于 Android 应用程序。这让我想知道这个调试器是如何实际实现的。它是为 DVM 和 JVM 分别实现的，还是有一些公共接口可以让人们获取堆和堆栈信息？我正在尝试为我找到一个可编程接口来获取 Android 应用程序的堆快照。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T05:47:13.403

Eclipse 支持称为“Java 平台开发人员架构”(JPDA) 的调试架构，并且作为其中的一部分支持远程调试基础架构，如 JDWP（Java 调试有线协议）。有关这方面的更多详细信息，请参阅[http://www.ibm.com/developerworks/java/library/os-eclipse-javadebug/index.html](http://www.ibm.com/developerworks/java/library/os-eclipse-javadebug/index.html)。

Android 实现了 JDWP（在 Android 上以 debug 开始的应用程序具有实例化的 JDWP 线程，它侦听特定端口）协议，这就是 Eclipse 能够用来调试 Android 应用程序的东西。

不确定是否可以使用 JDWP 协议来获取 heapdump，但可以使用“am”命令“以编程方式”触发 heapdump。

这是使用 adb shell 中的命令的示例

$ adb shell 上午

或者应用程序可以执行“am”并触发堆转储。

希望这可以帮助。

# python - 创建串口时的Python错误

> ID：10697083
> 
> 赞同：1
> 
> 时间：2012-05-22T06:48:00.273
> 
> 标签：python, pyserial

我在运行 python 脚本时遇到问题。python 脚本读取一个串行端口。运行脚本时出现以下错误

```
File "C:\Python26\lib\site-packages\serial\serialwin32.py", line 268, in flushInput
 if not self.hComPort: raise portNotOpenError
 ValueError: Attempting to use a port that is not open 
```

我创建串口的python脚本是

```
ser = serial.Serial(11, 115200,timeout=1)
ser.setWriteTimeout(1)
print ser.portstr
ser.flushInput()
ser.flushOutput() 
```

我收到错误`ser.flushInput()`

谁能告诉我为什么会产生这个错误以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-01-10T19:27:06.927

试试这个让程序检查端口是否打开。

```
if ser.isOpen():
    print("Port: " + ser.portstr + " is open.\n") 
```

# symfony1 - Lucene 搜索有什么好的选择？

> ID：10697087
> 
> 赞同：-5
> 
> 时间：2012-05-22T06:48:16.660
> 
> 标签：symfony1, lucene, ms-word, converter, zend-lucene

我有成千上万的简历，我想搜索以“计算机科学”为背景的简历。

所以，我用谷歌搜索并知道 Lucene 可以完成这项工作，我需要将数据提供给 Lucene 并索引所有文档。

在搜索特定文本（例如“计算机科学”）时，它会产生与结果匹配的 CV。

为此，我需要将 MSword-93/MSword-2007/PDF 转换为文本并提供 Lucene。

我可以从 MSword2007 文档中获取文本，但无法从 MSword 2003 获取文本。

有很多 pdf 作家，但我没有任何可以做到这一点的 PDF 阅读器库。

请稍微介绍一下 PDF 阅读器库并将 ms93 文档转换为文本，或者如果 Lucene 搜索有任何替代方案，请告诉我。

谢谢，非常感谢您的回答

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T10:01:03.930

您可以使用[Apache Solr](http://lucene.apache.org/solr/)或直接使用[Tika](http://tika.apache.org/)从 PDF 和 MS Word 中提取文本并将其编入索引。两者都是 Java 项目，但您可以从 PHP 调用它们的服务器。

# grails - 域内域

> ID：10697088
> 
> 赞同：1
> 
> 时间：2012-05-22T06:48:21.637
> 
> 标签：grails, groovy

我有两个域类：-

```
class Product {
  ProductType productType
  int openingQuantity
  int unitQuantity
  Date dateCreated
  Date lastUpdated
  boolean active
  static constraints = {
    productType(blank:false,nullable:false)
    openingQuantity(blank:false, nullable:false)
    unitQuantity(blank:false, nullable:false)
    active(nullable:false)
    dateCreated()
    lastUpdated()
  }
} 
```

和

```
class ProductType {
  String name
  Date dateCreated
  Date lastUpdated

  static constraints = {
    name(nullable:false, blank:false,maxSize:50,validator: {
      return !ProductType.findByNameIlike(it)
    })
    dateCreated()
    lastUpdated()
  }
} 
```

当我在产品的 create.gsp 中时。它在下拉菜单中将 productType 显示为 id。但我的要求是在下拉列表中显示 ProductType 名称。谁能帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:14:33.980

您可以在您的 ProductType 类上覆盖 toString；

```
String toString() { name } 
```

或者，假设您使用的是默认脚手架，请更改：

```
<g:select name="productType.id"
          from="${com.ten.hp.his.pharmacy.ProductType.list()}"
          optionKey="id"
          value="${productInstance?.productType?.id}" /> 
```

通过添加`optionValue`，看起来像：

```
<g:select name="productType.id"
          from="${com.ten.hp.his.pharmacy.ProductType.list()}"
          optionKey="id"
          optionValue="name"
          value="${productInstance?.productType?.id}" /> 
```

# jquery - bxSlider - 从寻呼机中删除数字？

> ID：10697089
> 
> 赞同：1
> 
> 时间：2012-05-22T06:48:22.760
> 
> 标签：jquery, css, html, bxslider

我从这里使用 bxSlider：[http](http://bxslider.com/examples/auto-show-pager) ://bxslider.com/examples/auto-show-pager，它工作正常，但我希望使用项目符号而不是数字，所以我将它添加到 css 文件中：

```
 .bx-pager a{
  background: transparent url('/src/images/bullets.png') 0 0 no-repeat;
  padding: 0 4px;
}
.bx-pager a.pager-active{
  background-position: 0 -58px;
} 
```

它工作正常，但我似乎无法弄清楚如何删除图像..所以我留下了这个：[http ://cl.ly/223N0h251T0T251S2U2T](http://cl.ly/223N0h251T0T251S2U2T)

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T02:21:16.580

你可以这样试试：

```
.bx-pager a {
  background: transparent url('/src/images/bullets.png') 0 0 no-repeat;
  padding: 0 4px;
  text-indent: -9999px;
  }
.bx-pager a.pager-active{
  background-position: 0 -58px;
  } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:15:19.903

试试这个，

```
.bx-pager a{
  background: transparent url('/src/images/bullets.png') 0 0 no-repeat;
  padding: 0 4px;
  color: transparent;
  }
.bx-pager a.pager-active{
  background-position: 0 -58px;
  color: transparent;

  } 
```

改变就在这里 `color: transparent;`

# jquery - 设置自动宽度 - jQuery 自动完成

> ID：10697091
> 
> 赞同：3
> 
> 时间：2012-05-22T06:48:23.147
> 
> 标签：jquery, autocomplete

如何在 jQuery 自动完成选项中设置自动宽度？

```
$('#'+pmId).autocomplete('mst_get_masterinfo.php?vValid=15&vRetType=1&vCategory='+vCatCode,{
      delay:10,
      cacheLength: 0,
      width:200,// Width Option
      mustMatch:true,
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:03:22.033

我曾经使用该`open`选项来执行此操作，该选项在打开菜单后触发。

```
$('#'+pmId).autocomplete('mst_get_masterinfo.php?vValid=15&vRetType=1&vCategory='+vCatCode,{
    delay:10,
    cacheLength: 0,
    mustMatch:true,
    open: function() { 
        // After menu has been opened, set width to 100px
        $('.ui-menu')
            .width(100);
    }  
}); 
```

# hadoop - HBase 正确显示时间戳值？

> ID：10697095
> 
> 赞同：2
> 
> 时间：2012-05-22T06:48:31.433
> 
> 标签：hadoop, hbase

如果 HBase 以 long 形式存储每列的时间戳，那么当从终端上的 hbase shell 访问时它如何以正确的数字格式显示值，如果我以 long 形式存储其他值，它会以下列方式显示，`\x00\x00\x00\x00\x00\x0By\x80`除非您在 java 代码中进行转换，否则无法直接读取。或者 HBase 是否有其他数据类型来存储时间戳值？

```
 APP:APP_ID                                 timestamp=1337657056164, value=\x00\x00\x00$
 APP:APP_NAME                               timestamp=1337657056164, value=java.process
 TUW:EXCEPTION                              timestamp=1337657056164, value=0
 TUW:TUW_ID                                 timestamp=1337657056164, value=\x00\x00\x12\x08
 TUW:TUW_STATUS                             timestamp=1337657056164, value=\x00\x00\x00\x02 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T09:29:13.490

您存储在 HBase 中的任何值看起来都类似于`\x00\x00\x00\x00\x00\x0By\x80`，因为 HBase 将每个值视为一个字节数组，而不管其数据类型如何。这就是为什么您必须将这些值转换回 java 类型才能看到它们。

虽然时间戳是 Hbase 在内部用于对存储的数据进行版本控制的东西，它是“自纪元以来的以秒为单位的时间”。它也可以是我们选择的其他值。我们可以在插入数据时指定时间戳。

# c# - AppDomain.FirstChanceException 和堆栈溢出异常

> ID：10697100
> 
> 赞同：19
> 
> 时间：2012-05-22T06:48:48.747
> 
> 标签：c#

我正在使用[FirstChanceException](http://msdn.microsoft.com/en-us/library/system.appdomain.firstchanceexception.aspx)事件来记录有关任何引发的异常的详细信息。

```
static void Main(string[] args)
{
    AppDomain.CurrentDomain.FirstChanceException += (sender, eventArgs) =>
    {
        Console.WriteLine("Inside first chance exception.");
    };

    throw new Exception("Exception thrown in main.");
} 
```

这按预期工作。但是，如果在事件处理程序中抛出异常，则会发生堆栈溢出，因为该事件将递归引发。

```
static void Main(string[] args)
{
    AppDomain.CurrentDomain.FirstChanceException += (sender, eventArgs) =>
    {
        throw new Exception("Stackoverflow");
    };

    throw new Exception("Exception thrown in main.");
} 
```

如何处理事件处理程序中发生的异常？

编辑：

有一些答案表明我将代码包装在 try/catch 块中的事件处理程序中，但这不起作用，因为在处理异常之前引发了事件。

```
static void Main(string[] args)
{
    AppDomain.CurrentDomain.FirstChanceException += (sender, eventArgs) =>
    {
        try
        {
            throw new Exception("Stackoverflow");
        }
        catch
        {
        }
    };

    throw new Exception("Exception thrown in main.");
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2015-10-15T16:38:23.947

这对我有用：

```
private volatile bool _insideFirstChanceExceptionHandler;    

// ...

AppDomain.CurrentDomain.FirstChanceException += OnFirstChanceException;

// ...

private void OnFirstChanceException(object sender, FirstChanceExceptionEventArgs args)
{
    if (_insideFirstChanceExceptionHandler)
    {
        // Prevent recursion if an exception is thrown inside this method
        return;
    }

    _insideFirstChanceExceptionHandler = true;
    try
    {
        // Code which may throw an exception
    }
    catch
    {
        // You have to catch all exceptions inside this method
    }
    finally
    {
        _insideFirstChanceExceptionHandler = false;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-27T07:37:44.533

尽管这不是一个好方法，但在 VB .NET 中，您可以使用来自 VB 6 的“On Error Resume Next”语句来防止在 FirstChanceException 事件处理程序中触发异常。（我不确定 C# 是否有类似的东西）此外，你应该防止在[此处](http://malvinly.com/2012/05/25/net-4-0-and-first-chance-exceptions/)提到的事件处理程序上递归。以下是示例代码，似乎按预期工作。

```
Sub Main(args As String())
    AddHandler AppDomain.CurrentDomain.FirstChanceException, AddressOf FirstChanceExceptionEventHandler
    Throw New Exception("Exception thrown in main.")
End Sub

Private Sub FirstChanceExceptionEventHandler(ByVal source As Object, ByVal e As FirstChanceExceptionEventArgs)
    On Error Resume Next

    Dim frames As StackFrame() = New StackTrace(1).GetFrames()
    Dim currentMethod As MethodBase = MethodBase.GetCurrentMethod()
    If frames IsNot Nothing AndAlso frames.Any(Function(x) x.GetMethod() = currentMethod) Then
        Return
    Else
        Throw New Exception("Stackoverflow")
    End If
End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:11:17.457

首先使用方法而不是委托，因此方法名称将被定义

然后使用 Environment.StackTrace 检查方法是否已经在堆栈跟踪中

这是一段**未经测试**的代码：

```
static void Main(string[] args) 
{ 
    AppDomain.CurrentDomain.FirstChanceException += handleFirstChanceException;
} 

private void handleFirstChanceException(object sender, EventArgs eventArgs)
{
    if (Environment.StackTrace.Contains("handleFirstChanceException"))
        return;

    // handle
} 
```

我认为上面的方法不起作用，因为它总是包含方法名称，但是如果它出现超过 1 次，你可以计算。另外，在发布模式下编译时检查它是否没有内联，在这种情况下你有麻烦了

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:00:47.040

您链接的 MSDN 文章提出了一些建议：

> 您必须处理 FirstChanceException 事件的事件处理程序中发生的所有异常。否则，将递归引发 FirstChanceException。这可能导致堆栈溢出和应用程序终止。我们建议您将此事件的事件处理程序实现为受约束的执行区域 (CER)，以防止与基础架构相关的异常（例如内存不足或堆栈溢出）在处理异常通知时影响虚拟机。

因此，将您的函数包含在 try/catch 块中，并`PrepareConstrainedRegion`在块之前调用以避免 OutOfMemory 异常：http: [//msdn.microsoft.com/en-us/library/system.runtime.compilerservices.runtimehelpers.prepareconstrainedregions.aspx](http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.runtimehelpers.prepareconstrainedregions.aspx)

**编辑：**好吧，即使使用 try/catch 块，您仍然存在递归问题。所以......我猜你只需要调用不会引发任何异常的安全代码。该事件处理程序似乎很危险，我建议仅将其用于调试目的。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-05-22T06:52:02.523

一般来说，您可以像处理所有其他异常一样处理异常，但特别是异常呢`StackOverflow`，`OutOfMemory`它们无法在 .NET Framework 中处理。

看这里：[如何防止和/或处理 StackOverflowException？（C＃）](https://stackoverflow.com/questions/206820/how-do-i-prevent-and-or-handle-a-stackoverflowexception-c)

> 从 .NET Framework 2.0 版开始，StackOverflowException 对象无法被 try-catch 块捕获，并且默认情况下会终止相应的进程。因此，建议用户编写代码来检测和防止堆栈溢出。例如，如果您的应用程序依赖于递归，请使用计数器或状态条件来终止递归循环。

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-05-22T06:55:27.433

我认为`try {} catch (){}`在异常处理程序中添加另一个块会有所帮助

```
static void Main(string[] args) 
{ 
    AppDomain.CurrentDomain.FirstChanceException += (sender, eventArgs) => 
    { 
        try {
            throw new Exception("Stackoverflow"); 
        } catch (Exception e)
        {
           // Do something very simple not throwing an exception...
        }
    }; 

    throw new Exception("Exception thrown in main."); 
} 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2012-05-22T06:56:34.240

手动处理内部异常，例如

```
static void Main(string[] args) {
     AppDomain.CurrentDomain.FirstChanceException += (sender, eventArgs) =>
     {
         try{
         throw new Exception("Stackoverflow");} catch (Exception ex){/*manual handle*/}
     };
      throw new Exception("Exception thrown in main.");
 } 
```

# blackberry - 如何在黑莓中实现搜索功能？

> ID：10697103
> 
> 赞同：1
> 
> 时间：2012-05-22T06:48:54.753
> 
> 标签：blackberry

我想为黑莓开发一个应用程序，我想在屏幕上添加一个文本框。如果我在该文本框中输入任何单词，它应该为我提供从任何特定数据（例如联系人/任何列表）进行该搜索的适当结果那怎么可能呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-23T05:38:51.707

可能`AutoCompleteField`在黑莓中将是智能搜索的最佳选择。它从 BB5.0 及更高版本可用。它提供了一个文本字段，并按照您在文本框中输入的内容过滤数据和列表。这是代码示例

```
BasicFilteredList filterList = new BasicFilteredList();
        String[] address = { "T 115 Centro Galleria Shopping Centre, Cnr Old Collier and Walters Road Morley WA 1522", 
                "784 SEAVIEW POINT POINT COOK VIC 2674",
                "Lot 1498 Yarraman Road Wyndham Vale VIC 3795", 
                "784 3506 Witchmount Close Hillside VIC 4055",
                "6 Paas Place Williamstown VIC 4233", 
                "Lot 99 14 James Close Sunbury VIC 4502", 
                "1 Charlotte Street Clayton South VIC 4779" };

        filterList.addDataSet(1, address, "days", BasicFilteredList.COMPARISON_IGNORE_CASE);

        CustomAutoCompleteTextField autoCompleteField = new CustomAutoCompleteTextField(filterList, AutoCompleteField.LIST_EXPAND_ON_HIGHLIGHT)

        {

            public void onSelect(Object selection, int SELECT_TRACKWHEEL_CLICK) {
                 ListField _list = getListField();

             }

            //ListField _list = this.getListField();
            public void fieldChanged(Field field, int context){

            }
        };
        add(autoCompleteField); 
```

# ios - AVAudioPlayer 的 currentTime、deviceCurrentTime、playAtTime

> ID：10697106
> 
> 赞同：1
> 
> 时间：2012-05-22T06:49:04.943
> 
> 标签：ios, objective-c, avaudioplayer

我正在研究[AVAudioPlayer](https://developer.apple.com/documentation/avfoundation/avaudioplayer?language=objc)但我很困惑

*   `currentTime`,
*   `deviceCurrentTime`， 和
*   `-playAtTime:`

任何人都可以用一些示例代码来解释吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-05-09T14:59:04.970

一旦 AVAudioPlayer 被初始化，“duration”就是声音或音乐文件的长度，以秒为单位。

“currentTime”是音乐文件中从开始算起的位置，以秒为单位。您可以在播放音乐时读取 currentTime，它会告诉您音乐播放了多远。您可以在播放声音时随时设置 currentTime，它会立即从更改的时间开始播放。例如跳过 10 秒，只需写

```
myAudioPlayer.currentTime += 10.0; 
```

您可以在音频播放器暂停或未启动时设置 currentTime，这会改变音乐中下一个“播放”命令将播放的位置。

“currentDeviceTime”是完全不同的东西，它与“playAtTime”一起使用可以让你在你想要的时候开始播放，或者同时开始两个声音。

最好想象一下您手机的扬声器有一个内置时钟，它返回的时间可能与您的正常时钟不同。“currentDeviceTime”根据扬声器的时钟返回当前时间。如果你打电话

```
[myAudioPlayer startPlayAt:myAudioPlayer.currentDeviceTime + 10.0]; 
```

一个“播放”命令将在十秒后开始。currentDeviceTime 与您的音乐文件无关，它只是一个时钟。天知道为什么 Apple 不只是使用例如 dispatch_time_t ，它应该工作得很好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T06:55:06.517

`currentTime`是设置玩家当前时间的属性。所以播放器将从那时开始播放您的音频。

`deviceCurrentTime`是为播放器播放或暂停获取时间的属性。如果您有两个玩家正在播放或暂停（未停止），那么设备时间将增加，直到两个玩家都停止。如果任何一个正在播放或暂停设备时间将会增加。

`playAtTime`是一种异步播放声音的方法，从音频输出设备时间线中的指定点开始。

有关这方面的更多讨论，请参阅 Apple Document for [AVAudioPlayer](http://developer.apple.com/library/mac/#documentation/AVFoundation/Reference/AVAudioPlayerClassReference/Reference/Reference.html)，您将对这三个方面有更好的了解。

# qt - QEventLoop：没有QApplication就不能使用

> ID：10697107
> 
> 赞同：4
> 
> 时间：2012-05-22T06:49:05.457
> 
> 标签：qt, qt4, qtxml

我正在尝试针对特定架构验证 xml 文件。
所以我将模式加载到 QXmlSchema 对象中。但我得到了一些奇怪的错误。
我的代码如下所示：

```
int main() {

QUrl url("http://www.schema-example.org/myschema.xsd");

QXmlSchema schema;
if (schema.load(url) == true)
    qDebug() << "schema is valid";
else
    qDebug() << "schema is invalid";

return 1;
} 
```

当我尝试运行上述代码时，Qt 错误提示：

QEventLoop：不能在没有 QApplication的情况下使用
QDBusConnection：在 QCoreApplication 之前创建的系统 D_Bus 连接。
应用程序可能行为不端。
QEventLoop：没有QApplication就不能使用

我的 Qt Designer 版本：qt4-designer 4:4.8.1-0ubuntu4.1
我的 Qt Creator 版本：qtcreator 2.4.1-0ubuntu2

有人可以帮我解决这个问题。
谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-22T07:59:47.917

`QXmlSchema`除其他外，创建一个消息处理程序，该处理程序继承自`QObject`. 由于此消息处理程序将使用 Qt 的事件系统，因此需要一个事件循环（处理事件排队和路由的结构）。正如错误消息告诉您的那样，主事件循环是与您的`QApplication`.

`main()`如果您正在创建一个 GUI 应用程序，通常您的函数中应该有少量代码，例如：

```
int main(int argc, char *argv[])
{
  QApplication a(argc, argv);
  MainWindow w;
  w.show();

  return a.exec();
} 
```

例如，在以下构造函数中开始您的代码`MainWindow`：

```
MainWindow::MainWindow(QWidget *parent) :
  QMainWindow(parent),
  ui(new Ui::MainWindow)
{
  ui->setupUi(this);

  QUrl url("http://www.schema-example.org/myschema.xsd");

  QXmlSchema schema;
  if (schema.load(url) == true)
    qDebug() << "schema is valid";
  else
    qDebug() << "schema is invalid";
} 
```

# android - Android清单文件的权限

> ID：10697113
> 
> 赞同：1
> 
> 时间：2012-05-22T06:49:48.373
> 
> 标签：android, android-manifest

能否在java文件中赋予android manifest文件的权限。如果我们想在我们的应用程序中获得 internet() 的权限，那么我们可以在 java 文件中给出它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T06:52:26.533

不会。例如，请求的权限也用于在市场上向您展示，如果您以后可以将互联网权限添加到程序中，那就太奇怪了。

您要么需要许可（即使只是一次/有时），要么不需要。您需要在 XML 中指定。在代码中甚至没有正当理由要这样做：如果您需要互联网，则需要请求权限。就这么简单 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T06:55:13.273

它是 android 中的一个拇指规则............任何需要的权限，都将在 AndroidManifest.xml 文件中指定。Android manifest 配置、安装和运行应用程序......它是检查应用程序各种参数的集中位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T18:18:58.190

不，您不能这样做，因为所有文件和文件夹都是在开始时初始化的，因此您不能在运行时或其他源中更改任何类型的文件和文件夹

# doctrine-orm - Doctrine2 gedmo 扩展：如果指定语言环境中不存在记录怎么办？

> ID：10697115
> 
> 赞同：2
> 
> 时间：2012-05-22T06:50:07.267
> 
> 标签：doctrine-orm, translation

我已经考虑将 gedmo 用于我现在正在开发的网站，以使一些实体可翻译。我现在的问题是，如果该特定用户将其语言环境设置为法语并且并非所有可翻译实体都翻译为法语怎么办？当我尝试检索指定区域设置的实体并且某些记录不存在时会发生什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-05T08:20:44.717

答案在评论中长达一年半：
他们回退到默认语言版本。

– 开胃菜

# asp.net-mvc - 如何使用流利的 nhibernate 加密密码属性

> ID：10697119
> 
> 赞同：1
> 
> 时间：2012-05-22T06:50:16.393
> 
> 标签：asp.net-mvc, nhibernate, fluent-nhibernate

我正在尝试在我的 asp.net mvc 3 上创建一个用户类

但我怀疑使用流利方式时如何加密密码

```
public class User
{
    public virtual int Id { get; set; }

    [Required]
    public virtual string Username { get; set; }

    [Required]
    [DataType(DataType.Password)]
    public virtual string Password { get; set; }

    public virtual IList<UserGame> UserGames { get; set; }
}

public class UserMap : ClassMap<User>
{
    public UserMap()
    {
        Id(x => x.Id).GeneratedBy.HiLo("1000");
        Map(x => x.Username).Unique();
        Map(x => x.Password);
        HasMany(x => x.UserGames).Cascade.All();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T13:04:06.517

正如评论所建议的那样，对它们进行散列并使用盐，但要回答您的问题，请查看[http://nhforge.org/blogs/nhibernate/archive/2009/02/22/encrypting-password-or-other-strings- in-nhibernate.aspx](http://nhforge.org/blogs/nhibernate/archive/2009/02/22/encrypting-password-or-other-strings-in-nhibernate.aspx) 然后在您的流利映射中，例如：

```
x.Map(x => x.Password).CustomType<EncryptedString>() 
```

# java - 从语言环境到 ansi 代码页再到 java 字符集？

> ID：10697122
> 
> 赞同：3
> 
> 时间：2012-05-22T06:50:21.650
> 
> 标签：java, localization, character-encoding, locale

有没有办法从 ANSI CODEPAGE 获取 java.nio.charset.Charset 并从语言环境获取 ansi 代码页？例如，如果我有语言环境“en_US”，我想要字符集“cp1252”，所以我可以调用

```
private final Charset CS1252 = Charset.forName("cp1252"); 
```

或者当我有日语的语言环境“ja_JP”时，我想获得相应的字符集，比如

```
private final Charset CS932 = Charset.forName("ms932"); 
```

我怎样才能在java中实现这一点？所以我需要的是像 getCharsetForLocale(java.util.Locale loc) 这样的方法

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T08:58:49.390

你不能，这没有意义。实际上，任何语言都可以用几种不同的字符编码来编写，例如英语可以用：ASCII、ISO8859-1、ISO-8859-15、Windows 1252、UTF-7、UTF-8、UTF-16、UTF- 32 和很多很多，例如基本上**所有**的 Windows 代码页。

我不确定您在寻找什么，所以让我建议您这样做：

1.  如果您要保存数据，请使用 UTF-8，而不考虑语言环境。总是。是的，总是。不要担心空间，对于许多语言来说它足够高效并且磁盘空间很便宜。

2.  如果您想知道用户可能使用哪种字符编码，认为它们仅限于一种是无效的。相反，您可能会考虑使用[ICU Charset Detector检测编码（](http://icu-project.org/apiref/icu4j/com/ibm/icu/text/CharsetDetector.html)[在此处](http://userguide.icu-project.org/conversion/detection)阅读有关检测的更多信息）。

3.  如果您想知道系统的当前代码页，最简单的方法（并且它与操作系统无关！）是调用`Charset.defaultCharset()`.

下一次，请先尝试描述你的问题，你想要达到什么，你已经尝试过什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:23:27.040

我认为您正在尝试检索`Canonical Name`可以通过[`name()`](http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html#name%28%29)Charset 类的方法获得的 Charset。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:41:29.643

AFAIK，语言环境和字符集之间没有内在联系。例如，对于语言环境 en_US，您期望哪个字符集？ASCII/CP1252/MacRoman/ISO-8859-1/UTF-8/UTF-16？

对于日语，您至少可以使用 Shift JIS、CP932、EUC-JP、ISO-2022-JP 或 UTF-8 之一。

# java - 存储用户访问权限的方法

> ID：10697130
> 
> 赞同：0
> 
> 时间：2012-05-22T06:51:02.103
> 
> 标签：java, acl, user-permissions

我正在用 Java 创建一个应用程序（并使用 Mysql 作为 DBMS）。
我的应用程序。有用户，每个用户可以被允许或不允许应用程序的每个功能。有 8 种不同的静态权限。
如何为每个用户存储这些权限？
像 Unix 文件模式位（例如 0775）一样存储它是一个好主意吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T06:55:54.130

您可以以位格式存储值，例如

对于权限 1，您可以将值存储为 00000001 对于权限 2，您可以将值存储为 00000010

等等

并且您使用按位 And( `&`) 操作来映射或验证用户的权限

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T06:56:12.850

您可以在数据库中执行此操作。

## 用户表

ID

名

姓

## 用户_权利

用户身份

RIGHT_ID

## RIGHTS_TALBE

ID

姓名

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:01:45.183

众多方法中的 3 种：

1) 数据库：定义诸如管理员、管理员等角色，以便他们可以具有查看、编写角色。这些表将包含用户和分配给他们的角色。

2) 用于存储名称和角色的 xml 文件。（Tomcat 就是一个很好的例子。你可以将角色存储在 conf.xml 中）

3）如果你想抛弃db和xml ..简单的位操作也可以帮助你。 [http://vipan.com/htdocs/bitwisehelp.html](http://vipan.com/htdocs/bitwisehelp.html)

该站点解释了如何使用位操作来使用权限。

# python - django admin 自定义命令 - 将字符串列表传递给 args

> ID：10697133
> 
> 赞同：3
> 
> 时间：2012-05-22T06:51:28.047
> 
> 标签：python, django

我有一个字符串列表，我想在我的 django 自定义命令中传递给 args。

```
list = ['abc', 'def', 'ghi', etc...] 
```

如何从 python 函数中执行此操作：

```
management.call_command('commandname', args, options) 
```

我已经厌倦了传递我的 args 列表：

[1] 直接：

```
 management.call_command('commandname', list) 
```

和

[2] 作为循环：

```
 management.call_command('commandname', (abc for abc in list)) 
```

但是在输入自定义命令后两者都失败了

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-22T07:14:31.937

call_command 方法使用[任意参数列表](http://docs.python.org/dev/tutorial/controlflow.html#arbitrary-argument-lists)作为命令参数。

所以，你需要使用：

```
list = ['abc', 'def', 'ghi']
management.call_command('commandname', *list) 
```

这与以下内容相同：

```
management.call_command('commandname', 'abc', 'def', 'ghi') 
```

相关信息：

*   [*args 和 **kwargs 是什么意思？](https://stackoverflow.com/questions/287085/what-does-args-and-kwargs-mean)
*   [*args 和 **kwargs？](https://stackoverflow.com/questions/3394835/args-and-kwargs)

# java - Android/Java：来自 Spotify 的 Html 抓取、正则表达式专辑封面

> ID：10697134
> 
> 赞同：2
> 
> 时间：2012-05-22T06:51:28.967
> 
> 标签：java, android, html, regex, web-scraping

我正在做一个项目，该项目需要我从 open.spotify 抓取专辑封面的图像链接

示例： http: [//open.spotify.com/track/296mPMQavmf1vvxYrUvLN8](http://open.spotify.com/track/296mPMQavmf1vvxYrUvLN8)

在这个例子中，我正在寻找这个标签：`<img id="cover-art" src="http://o.scdn.co/image/ff3874d40abf6e6e7763e39bdb2003cf503cba10">`

作为正则表达式的输出，我想要这样：`http://o.scdn.co/image/ff3874d40abf6e6e7763e39bdb2003cf503cba10`

我一直试图让它工作一段时间，但我的解决方案总是在超过 2-3 个步骤中发生。我仍在学习正则表达式，不知道如何解决这个问题。

任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:04:07.457

通常，您不应该使用正则表达式来解析 HTML。尝试改用[JSoup](http://www.jsoup.org) - 它更实用一些。

获取 jsoup JAR，将其添加到您的项目中并执行以下操作：

```
class SpotifyTask extends AsyncTask<String, Void, List<String>> {
    @Override
    protected List<String> doInBackground(String... params) {
        ArrayList<String> res = new ArrayList<String>();
        try {
            Document doc = Jsoup.connect(params[0]).get();
            // CSS-style selectors are your new best friend when scraping!
            Elements coverArts = doc.select("img[id=cover-art]");
            for (Element coverArt : coverArts) {
                String url = coverArt.absUrl("src");
                if (!TextUtils.isEmpty(url)) {
                    res.add(url);
                }
            }
        } catch (IOException e) {
            Log.w(TAG, "Error processing document", e);
        }
        return res;
    }
    @Override
    protected void onPostExecute(List<String> result) {
        Log.i(TAG, "Do something with your links: " + result);
    }
} 
```

在您的活动中像这样开始：

```
new SpotifyTask().execute("http://open.spotify.com/track/296mPMQavmf1vvxYrUvLN8"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:03:28.487

将整个页面读入一个字符串，然后这个正则表达式应该可以解决问题：

```
id="cover-art" src="([^"]+?)" 
```

它锚定到 'id="cover-art" src="' 并读取所有内容，直到下一个 '"' 作为匹配 1。这应该只为您提供图像的 URL。

根据您的首选匹配选择，您可能会提供必要的锚标记，如下所示：

```
^.*id="cover-art" src="([^"]+?)".*$ 
```

这是必要的，因为 Java 中的一些匹配类总是希望匹配整个字符串，而第一个正则表达式不会这样做。

# git - Bitbucket 团队/组织？

> ID：10697136
> 
> 赞同：21
> 
> 时间：2012-05-22T06:51:46.690
> 
> 标签：git, bitbucket

我们有 5 个人从事相同的项目，并且在 Bitbucket 中有多个 GIT 存储库。每个用户都有自己的 Bitbucket 帐户。我正在寻找具有某种团队或组织功能的最佳实践方法，以便我们都可以在相同的存储库上工作？作为一个用例，当我克隆一个存储库时，其他用户不可能推送到同一个存储库。我希望有一些方法可以解决这个问题，而不必让每个人都使用相同的用户帐户。

我希望这得到了适当的解释。

非常感谢！

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-05-31T02:19:53.503

Bitbucket[刚刚部署了他们的 Teams 功能](http://blog.bitbucket.org/2012/05/30/bitbucket-teams/)，类似于 GitHub 的组织。

这允许您管理一个组帐户，而无需从您的帐户注销并登录到它。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-22T07:25:37.593

2012 年 5 月 30 日更新：正如[Legion在](https://stackoverflow.com/users/62066/legion)[他的回答](https://stackoverflow.com/a/10826670/6309)中提到的，[与 Bitbucket 合作](http://blog.bitbucket.org/2012/05/30/bitbucket-teams/)描述了 Bitbucket 团队，以便**创建一个共享帐户**。

* * *

原始答案（2012 年 5 月 22 日）

使用[Bitbucket 权限](http://confluence.atlassian.com/display/BITBUCKET/Repository+privacy,+permissions,+and+more)，您可以向其他用户授予对您的每个存储库的写入权限。

> 创建存储库的用户称为其所有者。
> 只有所有者才能删除存储库。您可以创建无限的 Bitbucket 公共或私有存储库。
> 
> *   所有 bitbucket 用户都可以看到公共存储库。
> *   私有存储库仅对其所有者和所有者授予权限的用户可见。这意味着未经授权的用户即使知道存储库的 URL，也无法克隆或查看私有存储库的内容。
> 
> 存储库所有者可以授予其他用户对存储库的显式访问权限。
> 所有者可以允许 5、10、25、50 或无限数量的用户访问他或她控制的存储库。
> 所有者始终算作一个用户。
> 所有者配置与每个具有访问权限的用户关联的权限。bitbucket 支持以下权限级别：
> 
> *   **阅读**查看存储库内容。所有公共存储库都会自动授予所有 bitbucket 用户读取权限。
> *   **通过直接从本地计算机上的存储库推送更改来为存储库做出贡献**。****
> ***   **admin**执行存储库所有者可以执行的所有操作，但删除存储库除外。这意味着管理员可以：
>     *   更改存储库设置。
>     *   添加、更改和删除用户权限。
>     *   授予其他用户管理员访问权限。**

# php - php数组指针异常

> ID：10697137
> 
> 赞同：5
> 
> 时间：2012-05-22T06:51:47.860
> 
> 标签：php, pointers

```
$a=array('a','b','c','d');

while(key($a)!==NULL){
  echo key($a).'=>'.current($a).'<br/>';
  next ($a);
}

prev($a);
var_dump(current($a)); 
```

为什么`var_dump`返回`false`而不是`"d"`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T07:09:56.210

这绝对是设计使然，尽管我已经梳理了 PHP 文档，但我找不到任何关于这样一个事实的参考，即一旦通过`next`数组末尾的 ing 使指针无效，您将无法再使用`prev`PHP 源代码( [`zend_hash.c`](http://lxr.php.net/opengrok/xref/PHP_TRUNK/Zend/zend_hash.c#1119)) 清楚地说明了发生了什么：

```
ZEND_API int zend_hash_move_forward_ex(HashTable *ht, HashPosition *pos)
{
    HashPosition *current = pos ? pos : &ht->pInternalPointer;

    IS_CONSISTENT(ht);

    if (*current) {
        *current = (*current)->pListNext;
        return SUCCESS;
    } else
        return FAILURE;
}

ZEND_API int zend_hash_move_backwards_ex(HashTable *ht, HashPosition *pos)
{
    HashPosition *current = pos ? pos : &ht->pInternalPointer;

    IS_CONSISTENT(ht);

    if (*current) {
        *current = (*current)->pListLast;
        return SUCCESS;
    } else
        return FAILURE;
} 
```

如您所见，`zend_hash_move_backwards_ex`（在 PHP 中映射到`prev`）在执行任何操作之前测试当前指针是否有效，`zend_hash_move_forward_ex`并将设置最后一个元素的`pListNext`值`null`。

即不像您可能期望的那样，`next`并且`prev`不要只是盲目地增加或减少 C 指针然后检查结果以返回值或 NULL，它们实际上会在增加或减少之前检查指针。

这*绝对*是文档中的一个缺陷，当然需要记录在案。正如另一个回复中提到的，您可以`end`在通过循环遍历列表使指针失效后使用转到最后一个元素。

`end()`但是，您应该能够通过在每个进程之前克隆指针，然后在到达数组末尾后使用克隆的指针来实现您想要的逻辑（无需使用）。（但如果您已经知道`prev()`在已经迭代的数组的向后导航方面被设计破坏，那么没有真正好的理由这样做）

（题外话：我很高兴看到受人尊敬的 PHP 使用[不一致的](https://softwareengineering.stackexchange.com/questions/32541/why-are-php-function-signatures-so-inconsistent) [函数名称](http://webonastick.com/php.html)的传统即使在底层 C 代码中仍然存在并且很好：`zend_hash_move_forward_ex`vs `zend_hash_move_backward*s*_ex`。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:01:07.557

```
$a=array('a','b','c','d');

while(key($a)!==NULL){
  echo key($a).'=>'.current($a).'<br/>';
  next ($a);
}

prev($a);
var_dump(current($a)); 
```

在此代码中，next 返回下一个值并前进到下一个点，并在循环结束时给出最后一个元素，但指针前进到下一个，即 null。所以你的`var_dump(current($a));`回报`false`

但

```
$a=array('a','b','c','d');

while(key($a)!==NULL){
  echo key($a).'=>'.current($a).'<br/>';
  next ($a);
}

//prev($a);
end(($a);
var_dump(current($a)); 
```

你会得到你想要的元素 d 因为它指向最后一个元素 d

# inheritance - EF：选择子类的所有实体（继承）

> ID：10697145
> 
> 赞同：1
> 
> 时间：2012-05-22T06:52:16.267
> 
> 标签：inheritance, entity-framework-4, dbcontext, database-first, table-per-hierarchy

我正在使用数据库优先方法和 DbContext。我的数据模型中有几个继承结构 (TPH)。但是 DbContext 只为基类创建一个 DbSet，而没有为子类创建一个 DbSet。我应该如何检索指定子类的所有实体？

我无法根据映射条件编写查询，因为我必须从数据模型中删除这些字段。

我可以简单地向实体类（部分类）添加一个新的 DbSet 吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-22T08:55:18.580

您可以将返回`DbSet`派生类型的新属性添加到上下文的分部类中，或者您可以`OfType<DerivedType>()`在查询代码生成器创建的集合时简单地使用运算符。

# php - 如何在 PHP 中创建链接语法

> ID：10697150
> 
> 赞同：0
> 
> 时间：2012-05-22T06:52:37.843
> 
> 标签：php, url, syntax

我有一个调用 te "$pageID" 的按钮，这样当您单击该按钮时，它将浏览到 url，并在其后附加“pageID=#”...我想将其扩展为包括“campaignID#”但是当我这样做我得到：

```
editPage.php?pageID=193%26campaignID%3D1&editPage=Edit 
```

这里的问题是 %26 和 %3D 需要是 & 和 Eqals 符号。我试过使用带斜杠：

```
<?php echo $pageID."\&campaignID\=".$campaignID; ?> 
```

但这并没有奏效，所以我尝试使用 %26 和 %3D，结果更加糟糕。有人可以帮助我使用这种语法。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T06:57:04.703

你可以使用`http_build_query()`它：

```
echo 'editPage.php?' . http_build_query(array(
    'pageID' => $pageID,
    'campaignID' => 1,
    'editPage' => 'Edit',
)); 
```

这通常可以避免应用您可能手动执行的错误编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T06:56:17.920

使用[urlencode](http://php.net/manual/en/function.urlencode.php)。

```
"editPage.php?pageID=".urlencode($pageID)."&editPage=Edit" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T06:59:27.950

```
$pageID = "123";
$campaignID = "1";
echo "editPage.php?pageID=" .$pageID. "&campaignID=" .$campaignID. "&editPage=Edit"; 
```

结果是

```
editPage.php?pageID=123&campaignID=1&editPage=Edit 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T06:59:46.753

此外，为了发现和澄清您的错误。您需要使用`&`and `=`，而不是`\&`and `\=`。

```
<?php echo $pageID . "&campaignID=" . $campaignID; ?> 
```

# javascript - 在Javascript中截断双变量？

> ID：10697156
> 
> 赞同：0
> 
> 时间：2012-05-22T06:53:09.200
> 
> 标签：javascript, jquery

> **可能重复：**
> [在 jquery 中截断十进制数不四舍五入](https://stackoverflow.com/questions/4912788/truncate-decimal-number-not-round-off-in-jquery)

我的变量上有`5.3777777`,之类的值。`4.6666666``Y`

我怎样才能截断它，以便它显示 5.3 或 5.6 而不是 JavaScript？

提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-22T06:54:42.007

在任何语言中执行此操作的标准方法是将值乘以所需精度的倒数，截断，然后再除：

```
var truncated = Math.floor(val * 10) / 10; 
```

如果您想要严格的*舍入*而不是*截断*，那么 Javascript 还具有[`Number.toFixed()`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toFixed)内置功能，可以为您执行此操作。

# ios - 协议上的内存管理

> ID：10697158
> 
> 赞同：0
> 
> 时间：2012-05-22T06:53:11.947
> 
> 标签：ios, cocoa-touch, memory-management

我正在使用协议，并且正在泄漏，这是我的代码：

```
+ (id<GMGridViewLayoutStrategy>)strategyFromType:(GMGridViewLayoutStrategyType)type
{
    id<GMGridViewLayoutStrategy> strategy = nil;

    switch (type) {
        case GMGridViewLayoutVertical:
            strategy = [[GMGridViewLayoutVerticalStrategy alloc] init];
            break;
        case GMGridViewLayoutHorizontal:
            strategy = [[GMGridViewLayoutHorizontalStrategy alloc] init];
            break;
        case GMGridViewLayoutHorizontalPagedLTR:
            strategy = [[GMGridViewLayoutHorizontalPagedLTRStrategy alloc] init];
            break;
        case GMGridViewLayoutHorizontalPagedTTB:
            strategy = [[GMGridViewLayoutHorizontalPagedTTBStrategy alloc] init];
            break;
    }

    return strategy;
} 
```

如果我做自动释放，那么它会崩溃。那么我现在该怎么办？请帮助我...谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T06:56:52.300

在你的`strategyFromType`功能

```
return [strategy autorelease]; 
```

当您调用此函数时，请使用`retain`

```
GMGridViewLayoutStrategy *strat = [[YourClassName strategyFromType:yourType] retain]; 
```

使用strat变量后

```
[strat release]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:06:51.110

```
-(id<GMGridViewLayoutStrategy>)strategyFromType:(GMGridViewLayoutStrategyType)type
{id<GMGridViewLayoutStrategy> strategy = nil;

switch (type) {
    case GMGridViewLayoutVertical:
        strategy = [[GMGridViewLayoutVerticalStrategy alloc] init];
        break;
    case GMGridViewLayoutHorizontal:
        strategy = [[GMGridViewLayoutHorizontalStrategy alloc] init];
        break;
    case GMGridViewLayoutHorizontalPagedLTR:
        strategy = [[GMGridViewLayoutHorizontalPagedLTRStrategy alloc] init];
        break;
    case GMGridViewLayoutHorizontalPagedTTB:
        strategy = [[GMGridViewLayoutHorizontalPagedTTBStrategy alloc] init];
        break;
}

return [strategy autorelease];
} 
```

在调用方..

```
GMGridViewLayoutStrategy *obj = [[YourClassName strategyFromType:yourType] retain]; 
```

使用“obj”后释放它。

# iphone - 如果我的应用程序中有两个目标，如何制作存档

> ID：10697160
> 
> 赞同：0
> 
> 时间：2012-05-22T06:53:16.237
> 
> 标签：iphone, ios, ipad, plist, archive

朋友们！

我正在创建我的应用程序的存档文件，然后创建它的 ipa 和 plist 文件以共享它。

但是如果我的应用程序中有两个目标，我无法为企业创建 plist 和 ipa 文件。我得到了图像中显示的屏幕。

![在此处输入图像描述](../Images/6d7cfa591a90fff7cd6df91e21718342.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:08:13.920

您是否为存档方案设置了配置？如果没有，请按照以下方式进行。

在运行和停止按钮旁边的工具栏中的下拉菜单中，选择编辑方案。在左侧窗格中选择存档，然后将构建配置设置为您的版本并添加存档名称，然后单击确定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:37:27.840

我得到了答案：

[http://astralbodies.net/blog/2011/03/27/xcode-4-problem-submitting-app-with-static-library/](http://astralbodies.net/blog/2011/03/27/xcode-4-problem-submitting-app-with-static-library/)

**它显示：**

1) 单击应该是您的应用程序项目的子项目的核心绘图项目。

2) 点击 Project CorePlot-CocoaTouch 并进入 Build Settings。将“跳过安装”设置为是。

3) 单击 CorePlot-CocoaTouch 目标并将“跳过安装”设置为是。

4) 单击 Build Phases 并在 Copy Headers 下，将所有 Public 和 Private 条目移动到 Project 部分。

# java - 为什么使用 FloatBuffer 而不是 float[]？

> ID：10697161
> 
> 赞同：50
> 
> 时间：2012-05-22T06:53:25.937
> 
> 标签：java, android, opengl-es

我在我的 Android 代码中使用 FloatBuffers 已经有一段时间了（从一些 opengles 教程中复制了它），但我无法准确理解这个构造是什么以及为什么需要它。

例如，我在许多人的代码和 android 教程中看到的这段代码（或类似代码）：

```
float[] vertices = ...some array...

ByteBuffer vbb = ByteBuffer.allocateDirect(vertices.length * 4); 
vbb.order(ByteOrder.nativeOrder());    // use the device hardware's native byte order
FloatBuffer fb = vbb.asFloatBuffer();  // create a floating point buffer from the ByteBuffer
fb.put(vertices);    // add the coordinates to the FloatBuffer
fb.position(0);      // set the buffer to read the first coordinate 
```

这似乎非常冗长和凌乱，据我所知，这只是一个花车数组的精美包装。

问题：

*   与任何其他类型的集合或简单的浮点数组相比，这种类型的类（ByteBuffer、FloatBuffer）的理由是什么？

*   在将其转换为 FloatBuffer 之前创建 ByteBuffer 的想法是什么？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-05-22T06:59:09.960

主要原因是性能：ByteBuffers 和其他 NIO 类在与本机代码交互时启用加速操作（通常是通过避免将数据复制到临时缓冲区的需要）。

例如，如果您正在执行大量 OpenGL 渲染调用，这非常重要。

首先创建 ByteBuffer 的原因是您想使用 allocateDirect 调用来创建*直接*字节缓冲区，这得益于加速操作。然后，您可以从中创建一个共享相同内存的 FloatBuffer。由于某种原因，FloatBuffer 本身没有 allocateDirect 方法，这就是您必须通过 ByteBuffer 的原因。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-08-24T09:38:29.450

我们在 Android 上用 Java 编写代码，但 OpenGL ES 的底层实现实际上是用 C 编写的。在我们将数据传递给 OpenGL 之前，我们需要将其转换为它可以理解的形式。Java 和本机系统可能不会以相同的顺序存储它们的字节，因此我们使用一组特殊的缓冲区类并创建一个足够大的 ByteBuffer 来保存我们的数据，并告诉它使用本机字节顺序存储数据。然后我们将其转换为 FloatBuffer 以便我们可以使用它来保存浮点数据。最后，我们将数组复制到缓冲区中。

# ruby-on-rails - 使用 route_helper 错误渲染表单

> ID：10697167
> 
> 赞同：0
> 
> 时间：2012-05-22T06:54:14.987
> 
> 标签：ruby-on-rails

我在 routes.rb 中有这些资源。主题下的评论。

```
 namespace :discuss do
    resources :topics, :as => :topic do
      resources :comments, :as => :comment
    end
  end 
```

并有 _form.html.erb

```
<%= form_for(@topic) do |f| %>

  <div class="field">
    <%= f.label :title %>
    <%= f.text_field :title %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>

<% end %> 
```

渲染此表单时出现错误 **undefined method `topics_path' for...** around line **<%= form_for(@topic) do |f| %>**

耙路线

```
discuss_topic_comment_index GET    /discuss/topics/:topic_id/comments(.:format)          discuss/comments#index
                            POST   /discuss/topics/:topic_id/comments(.:format)          discuss/comments#create
  new_discuss_topic_comment GET    /discuss/topics/:topic_id/comments/new(.:format)      discuss/comments#new
 edit_discuss_topic_comment GET    /discuss/topics/:topic_id/comments/:id/edit(.:format) discuss/comments#edit
      discuss_topic_comment GET    /discuss/topics/:topic_id/comments/:id(.:format)      discuss/comments#show
                            PUT    /discuss/topics/:topic_id/comments/:id(.:format)      discuss/comments#update
                            DELETE /discuss/topics/:topic_id/comments/:id(.:format)      discuss/comments#destroy
        discuss_topic_index GET    /discuss/topics(.:format)                             discuss/topics#index
                            POST   /discuss/topics(.:format)                             discuss/topics#create
          new_discuss_topic GET    /discuss/topics/new(.:format)                         discuss/topics#new
         edit_discuss_topic GET    /discuss/topics/:id/edit(.:format)                    discuss/topics#edit
              discuss_topic GET    /discuss/topics/:id(.:format)                         discuss/topics#show
                            PUT    /discuss/topics/:id(.:format)                         discuss/topics#update
                            DELETE /discuss/topics/:id(.:format)                         discuss/topics#destroy
                    discuss        /discuss(.:format) 
```

我的控制器 app/controllers/discuss/topics_controller.rb

```
module Discuss
  class TopicsController < ApplicationController
        def new
          @topic = Topic.new

          respond_to do |format|
             format.html # new.html.erb
             format.json { render json: @topic }
          end
        end
         ... some other actions ...
  end
end 
```

我在这张表格上做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:35:51.673

尝试替换：

```
<%= form_for(@topic) do |f| %> 
```

和：

```
<%= form_for [:discuss, @topic] do |f| %> 
```

# eclipse - Spring3.0.4兼容哪个spring security版本？

> ID：10697171
> 
> 赞同：2
> 
> 时间：2012-05-22T06:54:28.667
> 
> 标签：eclipse, spring, security, compatibility

我是 Spring 框架的新手，现在正在学习 Spring 安全性。

我正在使用：
**Eclipse 3.3 (Europa)**
**Tomcat 5.5**
**Spring 3.0.4**
**Java 1.6**

我正在开发一个*HelloWorld*应用程序。有一个控制器类和一个
dispatcher-servlet.xml 对我来说绝对没有问题。

*我的问题是什么：*
当我运行项目只是为了调用 web.xml 文件的 <welcome-file> 中存在的**index.jsp它工作****正常**

 *****但是***当我在 web.xml 文件中添加以下内容以实现 Spring 安全性时：

后`<servlet>,<servlet-mapping>,<context-param> and <listener>`

```
 <filter>  
      <filter-name>springSecurityFilterChain</filter-name>  
      <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>  
  </filter>  
  <filter-mapping>  
      <filter-name>springSecurityFilterChain</filter-name>  
      <url-pattern>/*</url-pattern>  
  </filter-mapping> 
```

现在，如果我在浏览器中运行它，输出是：

请求的资源 () 不可用。

**问题出在哪里 ？**

我认为可能存在一些兼容性问题。
因为：如果您访问 <http://static.springsource.org/spring-security/site/downloads.html>

下载选项为：
Spring Security **3.1.0** for Spring **3.0.6** AND
Spring Security **3.0.7** for Spring **3.0.6** AND
Spring Security **2.0.7** for Spring **2.0 and 2.5**

但我使用的是Spring3.0.4。那么用什么？
在这个项目中，我包含了以下 jar 文件：

spring-security-acl-2.0.7
spring-security-cas-client-2.0.7
spring-security-core-2.0.7
spring-security-openid-2.0.7

如果兼容性是一个问题，那么请帮助我将哪个配置和 Spring
Security 版本与我的 eclipse 和 Tomcat 版本一起使用？

最后一件事：
在 web.xml 中，在`<context-param>`我的代码中：

```
 <param-value>  
   /WEB-INF/dispatcher-servlet.xml,/WEB-INF/spring-security.xml  
 </param-value> 
```

这是正确的方法吗？**

# emacs - 如何从原始编码系统转换为 latin-1

> ID：10697178
> 
> 赞同：3
> 
> 时间：2012-05-22T06:54:55.783
> 
> 标签：emacs, encoding

我有一个以前用 Latin-1 编码的文件。现在，当我打开这个文件时，我只得到原始编码。那是`-t:`在状态行中。文件中可能有一些非 Latin-1 字符，至少打开其他 Latin-1 文件有效。

我只想将文件改回 Latin-1。所以我`C-x RETURN f`缓冲到`latin-1`. 但是，在保存后，我会得到不可编码的字符`\344`，即 ä，`\374`即 ü 等等。所以角色实际上在这里，但由于某种原因仍然被误解了。

* * *

通过死记硬背，我发现了一个`\237`是罪魁祸首。奇怪的是，该字符在保存时并未被识别为非 Latin-1，而是导致文件不再被识别为 Latin-1。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:19:39.607

尝试找出文件现在的编码。然后，`C-x``Return``c``the file's encoding``C-x``f``file`（即使用其编码打开文件）。然后你可以使用 latin-1 保存它。

# elasticsearch - 如何在 ElasticSearch 中使用我自己的分析器实现

> ID：10697179
> 
> 赞同：3
> 
> 时间：2012-05-22T06:54:58.167
> 
> 标签：elasticsearch, analyzer

我已经实现了自己的 Lucene Analyzer。如何将它与 ElasticSearch 一起使用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T07:49:32.227

您将需要实现 AnalysisBinderProcessor，这将使您的分析器可用于弹性搜索，而不是将其包装到弹性搜索插件中。最简单的方法是从github 上[提供的](https://github.com/imotov/elasticsearch-analysis-morphology)[众多](https://github.com/elasticsearch/elasticsearch-analysis-stempel) [示例之一开始。](https://github.com/elasticsearch/elasticsearch-analysis-icu)

# qt - 如何为我的 TreeView 项目分配不同的 URL

> ID：10697189
> 
> 赞同：0
> 
> 时间：2012-05-22T06:55:25.030
> 
> 标签：qt, qt-creator, qtreeview, qstandarditemmodel

我是 Qt 的新手。我使用 QStandard 项目模型创建了一个 Qtree 视图。现在我想将 Url 设置为我的项目。如何为树视图项目分配 url。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T11:08:20.340

您可以使用 QStandardItem 的 setData API，并使用用户定义的角色来存储 URL。

```
void QStandardItem::setData ( const QVariant & value, int role = Qt::UserRole + 1 ) 
```

# objective-c - 如何解析出每个汉字？

> ID：10697193
> 
> 赞同：2
> 
> 时间：2012-05-22T06:55:28.747
> 
> 标签：objective-c

给定一个由 X 个汉字组成的句子。我想用 Objective-C 或 C++ 解析出每个字符。

我试过了：

```
NSString * nsText = [NSString stringWithFormat:@"你好吗"];
for (int i = 0; i < [nsText length]; i++) 
{
  char current = [nsText characterAtIndex:i];
  printf("%i: %c\n", i, current);
} 
```

但我没有得到正确的字符，我得到了索引 0 = '、索引 1 = } 等。长度正确返回，等于 3。我需要 UTF8 编码才能将其显示到 UI。

任何提示都会有所帮助。谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T07:21:56.970

错了三件事。首先，`characterAtIndex:`返回 a `unichar`，它大于`char`您分配的 。你在那里丢失了信息。其次，`%c`是用于打印 ASCII 值（8 位）的格式说明符。您希望`%C`（大写“C”）打印 16 位`unichar`. 最后，`printf()`似乎不接受`%C`，所以需要`NSLog()`改用。重写，然后，我们有：

```
NSString * nsText = [NSString stringWithFormat:@"你好吗"];
for (int i = 0; i < [nsText length]; i++) 
{
    unichar current = [nsText characterAtIndex:i];
    NSLog(@"%i: %C\n", i, current);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:25:29.883

这能解决你的问题吗？

```
NSString * nsText = [NSString stringWithFormat:@"你好吗"];
for (int i = 0; i < [nsText length]; i++) {
    NSString *str = [nsText substringToIndex:i+1];
    NSString *str2 =[str substringFromIndex:i];
    NSLog(@"%@",str2);
} 
```

# c# - 当我选择下拉列表时，由于对象的当前状态，操作无效

> ID：10697194
> 
> 赞同：19
> 
> 时间：2012-05-22T06:55:30.583
> 
> 标签：c#, asp.net, telerik

## 我在 aspx 页面上有 radcombo 框，当我从中选择任何选项时，它会在“/”应用程序中给出错误“服务器错误”。

由于对象的当前状态，操作无效。说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

> 异常详细信息：System.InvalidOperationException：由于对象的当前状态，操作无效。

源错误：

> 在执行当前 Web 请求期间生成了未处理的异常。可以使用下面的异常堆栈跟踪来识别有关异常起源和位置的信息。

堆栈跟踪：

> [InvalidOperationException：由于对象的当前状态，操作无效。]
> System.Web.HttpValueCollection.ThrowIfMaxHttpCollectionKeysExceeded() +2692302 System.Web.HttpValueCollection.FillFromEncodedBytes(Byte[] bytes, Encoding encoding) +61
> System.Web。 HttpRequest.FillInFormCollection() +148
> 
> [HttpException (0x80004005): URL 编码的表单数据无效。] System.Web.HttpRequest.FillInFormCollection() +206
> System.Web.HttpRequest.get_Form() +68
> System.Web.HttpRequest.get_HasForm() +8735447
> System.Web.UI.Page.GetCollectionBasedOnMethod(Boolean dontReturnNull) +97 System.Web.UI.Page.DeterminePostBackMode() +63 System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +133

* * *

> 版本信息：Microsoft .NET Framework 版本：2.0.50727.3634；ASP.NET 版本：2.0.50727.3634 `

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-06-04T17:47:27.127

来自[http://codecorner.galanter.net/2012/06/04/solution-for-operation-is-not-valid-due-to-the-current-state-of-the-object-error/](http://codecorner.galanter.net/2012/06/04/solution-for-operation-is-not-valid-due-to-the-current-state-of-the-object-error/)

> 出现问题的原因是 Microsoft 安全更新 MS11-100 在 HTTP POST 请求期间限制了表单集合中的密钥数量。为了缓解这个问题，你需要增加这个数字。
> 
> 这可以在您的应用程序 Web.Config 部分中完成（如果该部分不存在，则`<appSettings>` 直接在下面创建该部分）。`<configuration>`将 2 行类似于以下行添加到该部分：
> 
> ```
> <add key="aspnet:MaxHttpCollectionKeys" value="2000" />
> <add key="aspnet:MaxJsonDeserializerMembers" value="2000" /> 
> ```
> 
> 上面的示例将限制设置为 2000 个键。这将解除限制，错误应该消失。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-10-22T01:57:44.230

如果您致电，可能会发生这种情况

```
 .SingleOrDefault() 
```

在具有 2 个或更多元素的 IEnumerable 上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-02T14:27:58.797

我知道这个问题的答案已经被接受，但有人在评论中询问是否有可以在 web.config 之外完成的解决方案。我有一个 ListView 产生完全相同的错误并将 EnableViewState 设置为 false 为我解决了这个问题。

# wordpress - 如何从评论模板中删除 wordpress 电子邮件和网站？

> ID：10697195
> 
> 赞同：0
> 
> 时间：2012-05-22T06:55:43.223
> 
> 标签：wordpress, comments, wordpress-theming

我正在使用默认的 wordpress 评论模板：`<?php comments_template(); ?>`

现在想删除字段**电子邮件**和**网站**- 我不希望它们被要求或显示它们......

我意识到我可以`display:none`在 css 中轻松地使用它们，但我真的很想学习如何完全删除它们。

此外，如果我`display:none`是他们 - 那么“必需”电子邮件将无法正常工作。

有谁知道如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-23T11:48:47.703

我最终使用了一些花哨的 schmancy jQuery，这样我就不必创建自己的...

```
$("input[type='checkbox']").removeAttr("checked");
$("input[type='checkbox']").css({"visibility": "hidden"}).hide(0);
$("#subscribe-blog-label").css({"visibility": "hidden"}).hide(0);
$("#subscribe-label").css({"visibility": "hidden"}).hide(0);
$("#email").val("admin@benjaminpotter.org");
$("#email").parent().children('label').children('small').css({"visibility": "hidden"}).hide(0);
$("#email").css({"visibility": "hidden"}).hide(0);
$("#url").val("");
$("#url").parent().children('label').children('small').css({"visibility": "hidden"}).hide(0);
$("#url").css({"visibility": "hidden"}).hide(0); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-22T08:15:10.907

制作自己的模板： [http ://codex.wordpress.org/Function_Reference/comments_template#Alternative_Comment_Template](http://codex.wordpress.org/Function_Reference/comments_template#Alternative_Comment_Template)

# mysql - 如何重置 MySql 表中的自动递增数/列

> ID：10697196
> 
> 赞同：14
> 
> 时间：2012-05-22T06:55:52.663
> 
> 标签：mysql, sql

item_category_id 列是 mysql 表中的自动增量值。

我需要删除所有值 & 下一次插入应该从 1 开始。如果我删除所有值并尝试插入一个新行，那么它会从 30 和 40 开始。

```
 item_category_id  item_category_name
    1                     qqq
    25                    ccc
    32                    vvv
    29                    bb
    4                     bbb
    31                    hhh
    34                    mmm
    33                    rrr 
```

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-05-22T06:57:46.420

```
ALTER TABLE TABLENAME AUTO_INCREMENT = 1 
```

如果您使用 Truncate 将删除数据并重置自动增量，而不是使用 Delete。

```
TRUNCATE TABLE TABLENAME 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-05-22T07:11:34.057

如果您使用 PHPmyAdmin 来管理您的数据库，您可以简单地

*   选择`YOUR_TABLE`
*   导航`More`
*   然后，导航到`Operations`
*   在那里您会找到一个`AUTO_INCREMENT`可以更改的字段：

![如何更改 <code>AUTO_INCREMENT</code> 值](../Images/68b9e98ebf34e0829840a2c2d3225007.png)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-05-22T07:00:23.640

[重置 MySQL 表的自动增量值](http://www.electrictoolbox.com/reset-auto-increment-value-mysql/)

```
ALTER TABLE `users` AUTO_INCREMENT = 1; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-05-04T16:29:22.910

```
SET  @num := 0;

UPDATE your_table SET id = @num := (@num+1);

ALTER TABLE your_table AUTO_INCREMENT =1; 
```

我认为这会做到

# css - 在链接下划线

> ID：10697201
> 
> 赞同：0
> 
> 时间：2012-05-22T06:56:09.820
> 
> 标签：css

`<a>`我在 html标记中有一个链接。我想强调这个链接。

```
<a href="#" > Invalid </a> 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T07:12:05.493

```
<a class="underline"> Invalid </a>

a.underline
{
text-decoration: underline;
} 
```

这应该工作！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T10:55:14.783

Mittchel 对 CSS 的看法是正确的。但是，我建议环顾四周，看看为什么需要明确告诉它要加下划线。锚标记应由默认样式下划线。因此，如果上面的 CSS 代码不起作用，请查看正在应用的 CSS，并确保您有足够的特异性点来覆盖以前的样式。

可以在这里找到一个很好的特异性入门指南： [CSS Specifity 上的细节](http://css-tricks.com/specifics-on-css-specificity/)

# c# - 在哪种情况下 .NET 窗口服务的 OnStop() 不会触发？

> ID：10697216
> 
> 赞同：1
> 
> 时间：2012-05-22T06:57:25.560
> 
> 标签：c#, .net, vb.net

我想知道在哪种情况下.NET Window Service 的 OnStop() 不会触发？

电脑突然重启、停电、关机或其他情况时会不会起火？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:29:00.320

它将在机器的服务控制管理器收到该服​​务的停止指令的情况下触发。

如果有人选择通过服务 MMC 管理单元执行停止操作（直接到您的服务或标记为依赖项的服务），或者如果有人`sc stop`在命令行发出命令（同样，或者到您的服务或依赖项）。

或者，如果机器上运行的任意程序（具有足够权限）连接到服务控制管理器并发出停止命令，则可能会发生这种情况。

> 电脑突然重启、停电、关机或其他情况时会不会起火？

*   突然重启 - 没有
*   电源故障 - 如评论中所述，显然不是。
*   关机 - 否
*   任何其他 - 如上所述

有一个接收关机事件的选项 - 请参阅[`CanShutdown`](http://msdn.microsoft.com/en-us/library/system.serviceprocess.servicebase.canshutdown.aspx)和[`OnShutdown`](http://msdn.microsoft.com/en-us/library/system.serviceprocess.servicebase.onshutdown.aspx)。您还可以处理一些电源状态更改事件（请参阅 参考资料[`OnPowerEvent`](http://msdn.microsoft.com/en-us/library/system.serviceprocess.servicebase.onpowerevent.aspx)）。

# android - 在屏幕中心对齐控件

> ID：10697219
> 
> 赞同：4
> 
> 时间：2012-05-22T06:57:45.687
> 
> 标签：android, android-layout

我有控件，我想将它们放在屏幕中心，所以我使用了以下代码

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center_vertical|center_horizontal"
    android:background="#DDDDDD">
    <TextView
        android:id="@+id/tv_un"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="10pt"
        android:textColor="#444444"

        android:layout_marginRight="9dip"
        android:layout_marginTop="20dip"
        android:layout_marginLeft="10dip"

        android:text="User Name:"/>
    <EditText
        android:id="@+id/et_un"
        android:layout_width="150dip"
        android:layout_height="wrap_content"
        android:background="@android:drawable/editbox_background"
        android:layout_toRightOf="@id/tv_un"

        android:layout_alignTop="@id/tv_un"/>
     <TextView
        android:id="@+id/tv_pw"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="10pt"
        android:textColor="#444444"

        android:layout_below="@id/tv_un"
        android:layout_marginRight="9dip"
        android:layout_marginTop="15dip"
        android:layout_marginLeft="10dip"

        android:text="Password:"/>
    <EditText
        android:id="@+id/et_pw"
        android:layout_width="150dip"
        android:layout_height="wrap_content"
        android:background="@android:drawable/editbox_background"
        android:layout_toRightOf="@id/tv_pw"
        android:layout_alignTop="@id/tv_pw"
        android:layout_below="@id/et_un"
        android:layout_marginLeft="17dip"

        android:password="true"        />
    <Button
        android:id="@+id/btn_login"
        android:layout_width="100dip"
        android:layout_height="wrap_content"
        android:layout_below="@id/et_pw"

        android:layout_marginTop="15dip"
        android:layout_marginLeft="110dip"

        android:text="Login" />
     <TextView
        android:id="@+id/tv_error"
        android:layout_width="fill_parent"
        android:layout_height="40dip"
        android:textSize="7pt"

        android:layout_below="@id/btn_login"
        android:layout_marginRight="9dip"
        android:layout_marginTop="15dip"
        android:layout_marginLeft="15dip"
        android:textColor="#AA0000"

        android:text=""/>
</RelativeLayout> 
```

但是输出变成了下图

![在此处输入图像描述](../Images/e8f63a4a0666f7ec2fd230874e09fef7.png)

无论屏幕的方向如何，任何想法如何使它们居中

最好的祝福

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-22T07:01:15.963

试试`android:layout_centerInParent = "true"`这可以解决您的问题。您可以将此属性应用于要显示在屏幕中央的任何元素。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-22T07:32:20.490

编辑了你的代码

这里是

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:layout_centerHorizontal="true"
android:background="#DDDDDD"
android:gravity="center_vertical|center_horizontal" >

<LinearLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerInParent="true"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/tv_un"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="User Name:"
            android:textColor="#444444"
            android:textSize="10pt" />

        <EditText
            android:id="@+id/et_un"
            android:layout_width="150dip"
            android:layout_height="wrap_content"
            android:layout_alignTop="@id/tv_un"
            android:layout_toRightOf="@id/tv_un"
            android:background="@android:drawable/editbox_background" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/tv_pw"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@id/tv_un"
            android:text="Password:"
            android:textColor="#444444"
            android:textSize="10pt" />

        <EditText
            android:id="@+id/et_pw"
            android:layout_width="150dip"
            android:layout_height="wrap_content"
            android:layout_alignTop="@id/tv_pw"
            android:layout_below="@id/et_un"
            android:layout_marginLeft="17dip"
            android:layout_toRightOf="@id/tv_pw"
            android:background="@android:drawable/editbox_background"
            android:password="true" />
    </LinearLayout>

    <Button
        android:id="@+id/btn_login"
        android:layout_width="100dip"
        android:layout_height="wrap_content"
        android:layout_below="@id/et_pw"
        android:layout_marginLeft="110dip"
        android:layout_marginTop="15dip"
        android:text="Login" />

    <TextView
        android:id="@+id/tv_error"
        android:layout_width="fill_parent"
        android:layout_height="40dip"
        android:layout_below="@id/btn_login"
        android:layout_marginLeft="15dip"
        android:layout_marginRight="9dip"
        android:layout_marginTop="15dip"
        android:text=""
        android:textColor="#AA0000"
        android:textSize="7pt" />
</LinearLayout> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-22T07:22:48.153

设置你的`RelativeLayout`参数：`android:layout_height="wrap_content"` 和`android:layout_width="wrap_content"`

其余的所有 XML 似乎都很好。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-22T06:59:44.500

在 layout 和 layout-land 文件夹 xml 文件中使用 android:layout_centerHorizo​​ntal="true"。希望能帮助到你。

Ps 如果您希望布局适合所有屏幕尺寸，请不要在 xml 文件中硬编码任何内容

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-09-13T08:37:47.117

你不需要`RelativeLayout`这里。您还可以使用`LinearLayouts`以下两个：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#DDDDDD"
    android:gravity="center" >
    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:orientation="vertical" >
        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:orientation="horizontal" >
        <!-- here your textViews -->
        </LinearLayout>
   </LinearLayout>
</LinearLayout> 
```

重要的是`android:layout_gravity="center"`在嵌套的`LinearLayout`.

# caliburn.micro - Caliburn.micro 在加载控件时显示繁忙指示器

> ID：10697222
> 
> 赞同：0
> 
> 时间：2012-05-22T06:57:59.087
> 
> 标签：caliburn.micro, busyindicator

我正在寻找一种在 Caliburn 加载控件时显示繁忙指示器的方法。这意味着当 caliburn 自动调用 OnInitialize-Method 时，我希望它在它加载的控件上方显示一个繁忙的指示器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T19:07:07.770

我已经通过使用协程实现了这一点。在 caliburn 的项目主页上搜索文档，有一个实现 IResult 的“ShowScreen”类。

# jpa - 在 JPA 实体中创建长类型

> ID：10697226
> 
> 赞同：0
> 
> 时间：2012-05-22T06:58:22.020
> 
> 标签：jpa, eclipse-plugin, entity

我正在尝试使用 eclipse 插件从表中生成 JPA 实体，我定义了一些 BIG INT 和 Date 列。我想为那些 BIGINT 列在实体类中输入长类型，但它生成为字符串。请帮助我如何解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T09:08:03.987

Eclipse 插件将这些列生成为字符串，这听起来真的很奇怪——检查您是否错过/误读了某些内容。

如果该列确实是数据库中的 BIG INTEGER，只需将属性字段的类型更改为 Long 就可以了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:11:47.910

我不知道长属性是什么意思，但请尝试使用 @Type 注释。示例： **@Type(type = "org.hibernate.type.LongType")**

# batch-file - 如何在詹金斯的Windows批处理命令中运行命令

> ID：10697227
> 
> 赞同：0
> 
> 时间：2012-05-22T06:58:29.837
> 
> 标签：batch-file, hudson, jenkins

我正在尝试在执行 windows 批处理命令中运行命令的构建步骤下在 Jenkins 中运行命令。

我写了 dir 作为命令运行

并且当作业在 Jenkins 中运行时，该作业由文件内容的更改触发，并显示以下错误

```
[FSTrigger] Triggered by a change to a file (<a href="triggerCauseAction">log</a>)
Building in workspace C:\Users\Pankaj\.jenkins\jobs\convert File to text form\workspace
FATAL: null
java.util.NoSuchElementException
at java.util.TreeMap$PrivateEntryIterator.nextEntry(Unknown Source)
at java.util.TreeMap$EntryIterator.next(Unknown Source)
at java.util.TreeMap$EntryIterator.next(Unknown Source)
at java.util.TreeMap.buildFromSorted(Unknown Source)
at java.util.TreeMap.buildFromSorted(Unknown Source)
at java.util.TreeMap.buildFromSorted(Unknown Source)
at java.util.TreeMap.buildFromSorted(Unknown Source)
at java.util.TreeMap.buildFromSorted(Unknown Source)
at java.util.TreeMap.buildFromSorted(Unknown Source)
at java.util.TreeMap.putAll(Unknown Source)
at hudson.EnvVars.<init>(EnvVars.java:82)
at hudson.EnvVars$GetEnvVars.call(EnvVars.java:207)
at hudson.EnvVars$GetEnvVars.call(EnvVars.java:205)
at hudson.remoting.LocalChannel.call(LocalChannel.java:45)
at hudson.EnvVars.getRemote(EnvVars.java:202)
at hudson.model.Computer.getEnvironment(Computer.java:837)
at hudson.model.Run.getEnvironment(Run.java:1883)
at hudson.model.AbstractBuild.getEnvironment(AbstractBuild.java:836)
at hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:75)
at hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:58)
at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:19)
at hudson.model.AbstractBuild$AbstractRunner.perform(AbstractBuild.java:710)
at hudson.model.Build$RunnerImpl.build(Build.java:178)
at hudson.model.Build$RunnerImpl.doRun(Build.java:139)
at hudson.model.AbstractBuild$AbstractRunner.run(AbstractBuild.java:480)
at hudson.model.Run.run(Run.java:1434)
at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:46)
at hudson.model.ResourceController.execute(ResourceController.java:88)
at hudson.model.Executor.run(Executor.java:239) 
```

请看这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T20:58:35.157

我认为您不需要将 Jenkins 安装为 Windows 服务来执行批处理命令作为构建步骤。可能的问题是，在 Windows 上，`dir`命令解释器（即`cmd.exe`）内部的命令。简而言之，这意味着在 Java 程序中，您不能简单地`dir`使用该方法运行内部命令，`java.lang.Runtime.exec("dir")`因为没有`dir.exe`(on your `PATH`) 这样的程序。您应该做的是执行命令解释器本身并将内部命令指定为参数，即`java.lang.Runtime.exec("cmd /C dir")`. 话虽如此，并意识到 Jenkins 是一个 Java 应用程序，最好使用`cmd /C dir`而不是仅仅键入`dir`在 Jenkins 的工作配置中。在内部，Jenkins 可能会使用一些第三方库来执行外部进程，例如 Apache Commons Exec（参见[http://commons.apache.org/exec/](http://commons.apache.org/exec/)），它隐藏了内部命令和“正常”命令之间的细节，但根据我的经验，并非所有版本都如此——尤其是旧版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T09:08:41.673

回答这个问题：实际上我还没有在 Jenkins 中安装 Windows 作为服务。因此，为此我们需要转到“管理 Jenkins”，然后单击“Windows 即服务”。即，将 Jenkins 安装为 Windows 服务。

# c++ - 使用 Qt 将 HTML 转换为 PDF

> ID：10697228
> 
> 赞同：4
> 
> 时间：2012-05-22T06:58:30.490
> 
> 标签：c++, qt, pdf

我正在尝试将 HTML 文件转换为 PDF。整个想法是创建一个包含许多页面的 pdf，用 HTML 文件内容填充第一个页面。目前我正在尝试这样做，代码是：

```
 #include "qprinterexample.h"
    #include <QtGui/QApplication>
    #include <QTextDocument>
    #include <QTextStream>
    #include <QFile>
    #include <QPrinter>
    #include <QDir>

   int print(){
    const int highQualityDPI = 300;
    QDir::setCurrent(QCoreApplication::applicationDirPath());

    QFile  htmlFile ("ejemplo.htm");
    if (!htmlFile.open(QIODevice::ReadOnly | QIODevice::Text)){
        return -1;
    }

    QString htmlContent;
    QTextStream in(&htmlFile);
    in >> htmlContent;

    QTextDocument *document = new QTextDocument();
    document->setHtml(htmlContent);

    QPrinter printer(QPrinter::HighResolution);
    printer.setPageSize(QPrinter::A4);
    printer.setOutputFormat(QPrinter::PdfFormat);

    printer.setOutputFileName("output.pdf");

    document->print(&printer);
    delete document;
    return 0;
}

    int main(int argc, char *argv[])
    {
        QApplication a(argc, argv);
        QPrinterExample w;
        if(print()<0) return -1;
        w.show();
        return a.exec();
    } 
```

但是当我检查输出 PDF 时，它是一个空页面，底部只有页码 1。我究竟做错了什么？

另外，我注意到在使用 QTextStream 时，它只会得到“

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T07:17:15.027

采用

```
 htmlContent=in.readAll(); 
```

代替

```
 in >> htmlContent; 
```

这应该工作！

# python - 在 PIL 中找到杯子图像的曲率？

> ID：10697230
> 
> 赞同：0
> 
> 时间：2012-05-22T06:58:35.467
> 
> 标签：python, image-processing, python-imaging-library

我正在尝试将图像粘贴到杯子上，没有，每个杯子的左侧，中间，右侧都会有静止图像，我必须显示粘贴的图像部分。现在二维屏幕上的杯子有一定的曲率，所以粘贴的图像也必须有相同的曲率。我该怎么做呢？？我想的一件事是，如果我能以某种方式找出底部的曲率，我可以保持相同的距离并通过每次裁剪来粘贴每个小部分，然后在与底部曲率相同的距离处再次粘贴？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:16:23.460

有一个名为[cylinderize](http://www.fmwconcepts.com/imagemagick/cylinderize/)的 bash 脚本使用 ImageMagick 来实现此效果。

因此，根据您的目标到底是什么，您可以只使用此脚本，也可以尝试对他们使用的算法进行逆向工程。

我认为您描述的算法可能不会产生逼真的图片。您只应用`y`方向上的扭曲而忽略方向上的扭曲`x`。

# php - 如何动态为产品添加星级

> ID：10697233
> 
> 赞同：0
> 
> 时间：2012-05-22T06:58:53.143
> 
> 标签：php, jquery, mysql, ajax

我一直在尝试为我的产品添加星级，但我一直收到错误消息。我已经从 mysql 调用了产品和评级数据，但它不起作用..我的代码在下面请帮助我

/ ******评级.php* ***** /

//这处理评级输入

```
<?php
include("db.php");
$users_ip = $_SERVER['REMOTE_ADDR'];
if($_REQUEST['value'])
{
$id = $_REQUEST['value'];
$r_id = $_REQUEST['$rid'];
$result = mysql_query("select users_ip from tbl_rating where users_ip='$users_ip'");
$num = mysql_num_rows($result);

if($num==0)
{
$query = "insert into tbl_rating (rating,rate_id,users_ip) values ('$id','$r_id','$users_ip')";
    mysql_query( $query);

    $result=mysql_query("select sum(rating) as rating from tbl_rating");
    $row=mysql_fetch_array($result);

    $rating=$row['rating'];

    $quer = mysql_query("select rating from tbl_rating");
    $all_result = mysql_fetch_assoc($quer);
    $rows_num = mysql_num_rows($quer);
    if($rows_num > 0){
    $get_rating = floor($rating/$rows_num);
    $rem =  5 - $get_rating;
    }?>

    <?php
    for($k=1;$k<=$get_rating;$k++){?>
    <div class="rating_enb" id="<?php echo $k?>">&nbsp;</div>
    <?php
    }?>
    <?php
    for($i=$rem;$i>=1;$i--){?>
    <div class="rating_dis" id="<?php echo $k?>">&nbsp;</div>
    <?php
    $k++;
    }?>   
    <div class="rating_value"><?php echo ((@$get_rating) ? @$get_rating : '0')?> /5</div>
    <div class="user_message"><?php echo $rows_num?> times rated</div>
<?php
}
else
{
    echo '<div class="rating_message">You already did it !</div>';
}
}
if(@$_REQUEST['show']) // show rating again after showing message
{
$result=mysql_query("select sum(rating) as rating from tbl_rating");
$row=mysql_fetch_array($result);

$rating=$row['rating'];

$quer = mysql_query("select rating from tbl_rating");
$all_result = mysql_fetch_assoc($quer);
$rows_num = mysql_num_rows($quer);
if($rows_num > 0){
$get_rating = floor($rating/$rows_num);
$rem =  5 - $get_rating;
}?>
<?php
for($k=1;$k<=$get_rating;$k++){?>
<div class="rating_enb" id="<?php echo $k?>">&nbsp;</div>
<?php
}?>
<?php
for($i=$rem;$i>=1;$i--){?>
<div class="rating_dis" id="<?php echo $k?>">&nbsp;</div>
<?php
$k++;
}?>   
<div class="rating_value"><?php echo ((@$get_rating) ? @$get_rating : '0')?> / 5</div>
<div class="user_message"><?php echo $rows_num?> times rated</div>
<?php
}?> 
```

/ ***** *index.php ** / //这里我想与产品一起呼应星级，但它不起作用

```
<script type="text/javascript" src="js/jquery-1.2.6.min.js"></script>

<script type="text/javascript">
// <![CDATA[   
$(document).ready(function(){   
$('#loader').hide();
$('#inner').children().click(function(){
    var a = $(this).attr("id");
    $.post("rating.php?value="+a, {
    }, function(response){
        $('#inner').fadeOut();
        $('#inner').html(unescape(response));
        $('#inner').fadeIn();
        setTimeout("hideMesg();", 2000);
    });
});   
});   

function hideMesg(){

$('.rating_message').fadeOut();
$.post("rating.php?show=1", {
}, function(response){
    $('#inner').html(unescape(response));
    $('#inner').fadeIn('slow');
});
}   
// ]]>
</script>

<?php
            $resultm=mysql_query("select * from ratesummary GROUP BY pd_id");
            $resultb=mysql_query("select sum(rating) as rating from ratesummary GROUP BY pd_id");
    $rowb=mysql_fetch_array($resultb);

$rating=$rowb['rating'];

$quer = mysql_query("select rating from ratesummary GROUP BY pd_id");
$all_result = mysql_fetch_assoc($quer);
$rows_num = mysql_num_rows($quer);

if($rows_num > 0){
$get_rating = floor($rating/$rows_num);
$rem =  5 - $get_rating;
}
else
{
$rem = 5;
}
while($rowx=mysql_fetch_array($resultm))

{
                echo '<div class="ratebox">
                <p class=product_name>#'.$rowx['pd_id'].'</p>
                <p class=product_name>'.$rowx['pd_name'].'</p>  </div>'       
                ;
            }

?>

<div id="container">

    <div id="outer">
        <div id="inner">
            <?php
            for($k=1;$k<=$get_rating;$k++){?>
            <div class="rating_enb" id="<?php echo $k?>">&nbsp;</div>
            <?php
            }?>
            <?php
            for($i=$rem;$i>=1;$i--){?>
            <div class="rating_dis" id="<?php echo $k?>">&nbsp;</div>
            <?php
            $k++;
            }?>   
            <div class="rating_value"><?php echo ((@$get_rating) ? @$get_rating :   '0')?> / 5</div>
            <div class="user_message"><?php echo $rows_num?> times rated</div>
        </div>
    </div>

</div> 
```

使用的 CSS 样式

```
 #container{
        font-family:Arial, Helvetica, sans-serif;
        width:440px;
    }
    #customForm{
        padding: 0 10px 10px;
    }
    .user_message{ margin-top:12px; color:#006600; font-family:Georgia, "Times New  Roman", Times, serif; font-size:14px; font-weight:bold;}
    #customForm label{
        display: block;
        color:#000000;
        float:left;
        width:130px;
        font-size:14px;   
        line-height: 1.4em;
    }
    #customForm input{
        width: 220px;
         float:left;
        padding: 4px;
        text-shadow: 0 -1px 1px rgba(0,0,0,0.25);
        border-bottom: 1px solid rgba(0,0,0,0.25);
        font-size: 11px;
        border: 1px solid #CCCCCC;
    }
    input#button{
        width: 244px;
         float:left;
        padding: 4px;
        text-shadow: 0 -1px 1px rgba(0,0,0,0.25);
        border-bottom: 1px solid rgba(0,0,0,0.25);
        font-size: 11px;
        border: 1px solid #CCCCCC;
    }
    #outer{ width:150px; padding:6px;
            background:#FFFFFF;
            height:18px;
            margin-top:12px;
            color:#fff;
            margin-bottom:5px;
            font-weight:bold;
            -moz-border-radius: 6px;
            font-size:12px;
            -webkit-border-radius: 6px;
            -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.6);
            -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.6);
            text-shadow: 0 -1px 1px rgba(0,0,0,0.25);
            border-bottom: 1px solid rgba(0,0,0,0.25);}

    #outer .rating_enb {
            width:16px; padding:1px;
            height:18px; float:left;
            background:#CC0000;
            margin-right:4px;   
            cursor:pointer;
        }
    #outer .rating_dis {
            width:16px; padding:1px;
            height:18px; float:left;
            cursor:pointer;
            background:#CCCCCC;               
            margin-right:4px;   
        }
    #outer .rating_dis:hover, #outer .rating_enb:hover {background:#009933;    }

    #outer .rating_value{ color:#003399; padding-top:2px; font-size:14px}
    #outer .rating_message{ color:#003399; padding-top:2px; font-size:14px} 
```

数据库模式

```
CREATE TABLE `tbl_product` (
`pd_id` int(10) unsigned NOT NULL auto_increment,
`pd_name` varchar(100) NOT NULL default '',
`pd_image` varchar(200) default NULL, 
```

主键 ( `pd_id`), ) 引擎=MyISAM 默认字符集=latin1 AUTO_INCREMENT=1007 ;

```
 CREATE TABLE `tbl_rating` (
`r_id` int(10) unsigned NOT NULL auto_increment,
`pd_id` int(10) unsigned NOT NULL default '0',
`rating` int(11) NOT NULL default '0',
`users_ip` varchar(200) NOT NULL default '0',
PRIMARY KEY  (`r_id`),
KEY `pd_id` (`pd_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=3 ; 
```

表 ratesummary 是使用 mysql create view 创建的，以将 tbl_product 与 tbl_rating

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:26:44.067

请尝试更改您的退货，例如这些行

```
 <div class="rating_value"><?php echo ((@$get_rating) ? @$get_rating : '0')?> /5</div>
    <div class="user_message"><?php echo $rows_num?> times rated</div> 
```

应该是这样的：

```
 echo "<div class='rating_value'>". ((@$get_rating) ? @$get_rating : '0')/5 ."</div>".
          "<div class='user_message'>". $rows_num . "times rated</div>"; 
```

# javascript - 使用数组从 json 中检索数据

> ID：10697238
> 
> 赞同：0
> 
> 时间：2012-05-22T06:59:09.800
> 
> 标签：javascript, json

有人可以帮助我使用以下代码：

为什么警报没有使用正确的数据触发...

```
<script>
    var data = {'A':'Apple','B':'Ball','C':'Cat','D':'dog','E':'Elephant'};
    var arr = ['B','C','A','E','D'];
    var text = "<table border=1>";
    for(var k=0; k<arr.length; k++) {
       alert(data.code);
    }
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:01:45.810

你应该警觉`data[arr[k]]`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:06:15.933

您需要使用`object[key]`语法（而不是`object.key`）来访问 的内容，`data`因为 your`key`是一个变量。

```
var data = {'A':'Apple','B':'Ball','C':'Cat','D':'dog','E':'Elephant'};
var arr = ['B','C','A','E','D'];

for (var k=0; k < arr.length; k++) {
   var key = arr[k];   // get the actual element from "arr"
   alert(data[key]);   // and then the element with that key from "data'
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:06:41.893

试试这个：

```
<script>
    var data = {'A':'Apple','B':'Ball','C':'Cat','D':'dog','E':'Elephant'};
    var arr = ['B','C','A','E','D'];
    var text = "<table border=1>";
    for(var k=0; k<arr.length; k++)
    {
       alert(data[arr[k]]);
    }
</script> 
```

# asp.net-mvc - 获取属性值（列表 ) 在 ASP.NET MVC3 中的后操作中

> ID：10697245
> 
> 赞同：2
> 
> 时间：2012-05-22T06:59:31.460
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

这是我的模型：

```
public class MyModel
{
    public List<long> NeededIds { get; set; }
    public string Name { get; set; }
} 
```

我的控制器：

```
public ActionResult Create()
{
    MyModel model = new MyModel();
    model.NeededIds = new List<long> { 1, 2, 3, 4 };
    return View(model);
}

[HttpPost]
public ActionResult Create(MyModel model)
{
    string name = model.Name;
    List<long> ids = model.NeededIds;
    return RedirectToAction("Index");
} 
```

并查看：

```
@model TestMVC.Models.MyModel

@using(Html.BeginForm()) {

<table>
    <thead>
        <tr>
            <th>
                Id
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach(long id in Model.NeededIds) { 
            <tr>
                <td>
                    @id
                </td>
            </tr>
        }
    </tbody>
</table>

@Html.ValidationSummary(true)
<fieldset>
    <legend>MyModel</legend>
    <div class="editor-label">
        @Html.LabelFor(model => model.Name)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Name)
        @Html.ValidationMessageFor(model => model.Name)
    </div>
    <p>
        <input type="submit" value="Create" />
    </p>
</fieldset>
} 
```

我`NeededIds`在 Get action 中设置，在我可以看到的视图中`NeededIds`。我在发布操作中也需要它，但在发布操作`NeededIds`中始终为空。当我在获取操作中设置属性值时，如何在发布操作中获取属性值？你的建议是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:07:06.103

您没有将您的`NeededIds`回复发布到服务器。为了使其正常工作，您可以将它们作为隐藏字段添加到表单内的 for 循环中：

```
@for (int i = 0; i < Model.NeededIds.Count(); i++) { 
    @Html.HiddenFor(model => model.NeededIds[i])
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-08T06:03:00.130

如果您使用的是布局页面，而不是简单地从布局页面中删除表单标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:10:38.300

除了 Yakimych 的回答之外，
您还保持 ids 不变.. 这意味着两件事
1\. 您可以使用数组代替列表2.您
可以保存 ids 列表/数组`TempData`并在 POST 时从那里取回它碰巧
你可以在你的 GET 处理程序中这样做

```
TempData.Add("ids",idArray); 
```

在您的 POST 处理程序中

```
var idArray = (long[])TempData["ids"]; 
```

# ajax - Zend 表单和 ajax 导致“在 haystak 中找不到”

> ID：10697246
> 
> 赞同：3
> 
> 时间：2012-05-22T06:59:31.847
> 
> 标签：ajax, zend-framework, zend-form

我有一个使用 zend 框架的项目，使用 zend_form

我的注册表中有 3 个位置字段（国家[在代码中命名为 $ostan] 城市[在代码中命名为 $shahr] 和地区[在代码中命名为 $mahal]）

我希望这三个使用 ajax 进行更新，为此我在表单中添加了一个字段，允许人们选择（例如国家/地区），一旦他们选择发送 ajax 请求，就会从服务器获取数据并附加到形式（例如在城市中）。

但是当涉及到验证时，我得到了城市和地区的这个错误（它们是 ajax ly 加载的）

```
'12' was not found in the haystack 
```

12是db表中所选城市的id号。（12 是所选选项的值，它将用于更新数据库）

这是我的表格

```
<?php
class listab_Form_NewUser extends Zend_Form
{
public function init()
{

    $q = Doctrine_Query::create()
            ->from('listab_Model_Locs l')
            ->where('l.valed = ?','0');
    $result = $q->fetchArray();

   $db = Zend_Db::factory('Pdo_Mysql', array(
   'host' => 'localhost' ,
   'username' => 'root',
   'password' => '',
   'dbname' => 'listab',
   'charset' => 'utf8'
        ));

    $this->addPrefixPath("listab_Model",'listab/Model/','decorator');
    // initialize form
    $this->setAction('/user/new')
         ->setMethod('post');

    // create text input for name 
    $user = new Zend_Form_Element_Text('username');
    $user->setLabel('نام کاربری:')
         ->setRequired()
         ->addValidator('StringLength',false,array('min'=>4,'max'=>20,
                                                    'messages'=>array(
                                                            Zend_Validate_StringLength::INVALID   => "کلمه غیر مجاز، لطفا یک کلمه صحیح وارد کنید.",
                                                            Zend_Validate_StringLength::TOO_SHORT => "'%value%' کمتر از %min% کارکتر (حداقل) است.",
                                                            Zend_Validate_StringLength::TOO_LONG  => "'%value%' بیشتر از %max% کارکتر (حداکثر).",    
                                                    )))
         ->addValidator('Regex',false,array('pattern'=>"/^[a-z0-9]+([._]{0,1})[a-z0-9]+$/",
         'messages'=> array(Zend_Validate_Regex::NOT_MATCH => 'تنها میتوانید از حروف انگلیسی و کاراکترهای جدا کننده ( underline و نقطه) استفاده کنید. به این صورت که کاراکتر های جدا کننده اول و آخر نام کاربری نمیتوانند باشند.')))
         ->addValidator("Db_NoRecordExists",false,array(
        'table' => 'users',
        'field' => 'username',
        'adapter' => $db ,
        'messages' => array(
    'noRecordFound' => "No record matching '%value%' was found",
    'recordFound'  => "نام کاربری %value% قبلا ثبت شده است."
    )));;

    $password = new Zend_Form_Element_Password('password');
    $password->setRequired()
            ->addValidator('StringLength',false,array('min'=>4,'max'=>100,
                                                    'messages'=>array(
                                                            Zend_Validate_StringLength::INVALID   => "کلمه غیر مجاز، لطفا یک کلمه صحیح وارد کنید.",
                                                            Zend_Validate_StringLength::TOO_SHORT => "'%value%' کمتر از %min% کارکتر (حداقل) است",
                                                            Zend_Validate_StringLength::TOO_LONG  => "'%value%' بیشتر از %max% کارکتر (حداکثر).",    
                                                    )))
                ->setLabel('رمز عبور:');

    $passconf = new Zend_Form_Element_Password('passconf');
    $passconf->addValidator('StringLength',false,array('min'=>4,'max'=>100,
                                                    'messages'=>array(
                                                            Zend_Validate_StringLength::INVALID   => "کلمه غیر مجاز، لطفا یک کلمه صحیح وارد کنید.",
                                                            Zend_Validate_StringLength::TOO_SHORT => "'%value%' کمتر از %min% کارکتر (حداقل) است",
                                                            Zend_Validate_StringLength::TOO_LONG  => "'%value%' بیشتر از %max% کارکتر (حداکثر).",    
                                                    )))
            ->setLabel('تکرار رمز عبور:')
            ->setRequired()
            ->addValidator('Identical', false, array('token' => 'password','messages'=>array(
                                                     'notSame' => 'دو مقدار وارد شده یکی نیستند.' )));

    $subreg = new Zend_Form_Element_Submit('subreg');
    $subreg->setLabel('ثبت نام')
           ->setOrder(100)
           ->setOptions(array('class' => 'submit'));

    $email = new Zend_Form_Element_Text('email');
    $email->setLabel('ایمیل:')
            ->setOptions(array('size' => '50'))
            ->setRequired()
            ->addValidator('EmailAddress',false,array(
                'messages'=>array(
    Zend_Validate_EmailAddress::INVALID            => "نوع ورودی غیر مجاز است. باید یک کلمه وارد کنید.",
    Zend_Validate_EmailAddress::INVALID_FORMAT     => "'%value%' یک ایمیل با فرمت استاندارد نیست.",
    Zend_Validate_EmailAddress::INVALID_HOSTNAME   => "'%hostname%' یک آدرس هاست معتبر در ایمیل'%value%'نیست.",
    Zend_Validate_EmailAddress::INVALID_MX_RECORD  => "'%hostname%' یک MX رکورد مجاز برای'%value%' نیست.",
    Zend_Validate_EmailAddress::INVALID_SEGMENT    => "'%hostname%' is not in a routable network segment. The email address '%value%' should not be resolved from public network",
    Zend_Validate_EmailAddress::DOT_ATOM           => "'%localPart%' can not be matched against dot-atom format",
    Zend_Validate_EmailAddress::QUOTED_STRING      => "'%localPart%' can not be matched against quoted-string format",
    Zend_Validate_EmailAddress::INVALID_LOCAL_PART => "'%localPart%' is no valid local part for email address '%value%'",
    Zend_Validate_EmailAddress::LENGTH_EXCEEDED    => "'%value%' exceeds the allowed length"
)))
    ->addValidator("Db_NoRecordExists",false,array(
        'table' => 'users',
        'field' => 'email',
        'adapter' => $db ,
        'messages' => array(
    'noRecordFound' => "No record matching '%value%' was found",
    'recordFound'  => "ایمیل %value% قبلا ثبت شده است."
    )));

    $jens = new Zend_Form_Element_Select('jens');
    $jens->setRequired(true)
        ->addFilter('HtmlEntities')
        ->addFilter('StringTrim')
        ->setLabel('جنسیت:');
    $jens->addMultiOption('0','انتخاب کنید');
    $jens->addMultiOption('1','مذکر');
    $jens->addMultiOption('2','مونث');
    $jens->addValidator('Regex',false,array('pattern'=>"/^(?!0$)/",
         'messages'=> array(Zend_Validate_Regex::NOT_MATCH => 'لطفا یکی از موارد را انتخاب کنید.')));

    $ostan = new Zend_Form_Element_Select('ostan');

    $ostan->setRequired(true)
        ->addFilter('HtmlEntities')
        ->addFilter('StringTrim')
        ->setAttrib('onchange', 'shahr2(\'/ajax-shahr.php\')')
        ->setLabel('استان:');   

    $ostan->addValidator('Regex',false,array('pattern'=>"/^(?!0$)/",
         'messages'=> array(Zend_Validate_Regex::NOT_MATCH => 'لطفا یکی از موارد را انتخاب کنید.')));
    $ostan->addMultiOption('0','انتخاب کنید');

    foreach($result as $key => $value){
        $ostan->addMultiOption($value['code'], $value['makan']);
    }

    $shahr = new Zend_Form_Element_Select('shahr');

    $shahr->addFilter('HtmlEntities')
        ->addFilter('StringTrim')
        ->setLabel('شهر :');   
    $shahr->addValidator('Regex',false,array('pattern'=>"/^(?!0$)/",
         'messages'=> array(Zend_Validate_Regex::NOT_MATCH => 'لطفا یکی از موارد را انتخاب کنید.')));

    $shahr->addMultiOption('0','انتخاب شهر');

    $mahal = new Zend_Form_Element_Select('mahal');
    $mahal->setValidators(array(array('Regex',false,array('pattern'=>"/^(?!0$)/",
         'messages'=> array(Zend_Validate_Regex::NOT_MATCH => 'لطفا یکی از موارد را انتخاب کنید.')))));

    $mahal->addFilter('HtmlEntities')
        ->addFilter('StringTrim')
        ->setLabel('محل:');
    $mahal->addMultiOption('0','انتخاب محل');       

    $captcha = new Zend_Form_Element_Captcha('Captcha', array(
        'captcha' => array(
        'messages'=> array('badCaptcha' => 'عبارت وارد شده صحیح نمیباشد.',
                            'missingValue'=>'این مقدار نمیتواند خالی باشد.'),
        'captcha' => 'Image',
        'wordLen' => 6,
        'timeout' => 300,
        'width'   => 300,
        'height'  => 100,
        'FontSize' => '30' ,
        'imgUrl'  => '/captcha',
        'imgDir'  => APPLICATION_PATH . '/../public/captcha',
        'font'    => APPLICATION_PATH .
                '/../public/fonts/LiberationSansRegular.ttf',
    )
));
    $captcha->setLabel('عبارت زیر را وارد کنید');

    $agree = new Zend_Form_Element_Checkbox('Select');
    $agree->setLabel('من به قوانین اعلامی سایت احترام گذاشته آنها را رعایت خواهم کرد.')
            ->setRequired(true);

    $agree->addValidator('Regex',false,array('pattern'=>"/^1$/",
         'messages'=> array(Zend_Validate_Regex::NOT_MATCH => 'قبول قوانین سایت برای ثبت نام الزامیست.')));

    $hash = new Zend_Form_Element_Hash('hash');
    $hash->setSalt('sdddd');

    $this->addElement($subreg)
         ->addElement($user)
         ->addElement($email)
         ->addElement($password)
         ->addElement($passconf)
         ->addElement($jens)
         ->addElement($ostan)
         ->addElement($shahr)
         ->addElement($mahal)
         ->addElement($captcha)
         ->addElement($hash)
         ->addElement($agree)
        ;
}  
} 
```

ajax 只是更改了表单中的选择列表，我不知道如何修复它，并且不能忘记 zend_form，我需要验证，重写验证是浪费时间

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T07:23:20.230

对于所有 Zend_Form_Element_Select 实例，您使用 java-script 在前面操作其值应禁用数组验证器中的默认值

```
$select->setRegisterInArrayValidator(false); 
```

# php - 浏览器以 Quirks 模式显示网站

> ID：10697247
> 
> 赞同：0
> 
> 时间：2012-05-22T06:59:32.610
> 
> 标签：php, browser, quirks-mode

我开始学习 OOP 和 PHP 模式，但在使用 MVC 时遇到了一些麻烦。我有以下文件：

**索引.php**

```
<?php
    include_once("controller/controller.php");

    $controller = new Controller();

    $controller->view->display();
?> 
```

**控制器.php**

```
<?php
    class Controller
    {
        public $view;

        public function __construct()
        {
            include_once("view/view.php");
            $this->view = new View();
        }
    }
?> 
```

**视图.php**

```
<?php
    class View 
    {
        public $layout = "layout/layout.html";

        public function display()
        {
            include $this->layout;
        }
    }
?> 
```

**布局.html**

```
<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dokument bez tytułu</title>
    <style>
      body {
        background-color:#0066CC;
        margin:0;
        padding:0;
      }
      #page {
        background-color:#000;
        width:960px;
        height:650px;
        margin:0 auto;
      }
    </style>
  </head>
  <body>
    <div id="page"></div>
  </body>
</html> 
```

任何人都可以解释我为什么浏览器以 Quirks 模式显示这个网站？最糟糕的是屏幕顶部的边距，这真的很烦人。我很乐意提供有关此问题和解决方案的任何信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:17:17.757

它看起来像一个有效的 HTML5 DOCTYPE。

确保您的 PHP 文件在打开之前没有任何多余的空格或换行符`<?php`。在您的文本编辑器中，确保将它们保存为*不带*BOM 的 UTF-8。在 Windows 上，默认情况下，许多文本编辑器将插入 BOM（字节顺序标记），这可能会导致垃圾作为文件的第一行发送到屏幕。DOCTYPE 之前的任何内容都会触发 quirks 模式。

另外，我认为`style`标签应该是`<style type="text/css">`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:05:38.710

~~如果您没有包含正确的 DOCTYPE 信息，则默认模式是 Quirks 模式。 `<!DOCTYPE HTML>`不会削减它。~~

[http://www.quirksmode.org/css/quirksmode.html](http://www.quirksmode.org/css/quirksmode.html)

显然我所知道的一切都是错误的，因为在阅读了这个链接之后，显然*任何*文档类型都应该触发严格模式。

[这个链接](http://hsivonen.iki.fi/doctype/)非常棒，尤其是附录，可以尝试了解跨浏览器是否在这里工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-26T12:54:18.303

把你的 php 标签放在上面。文档类型需要位于文件顶部，以使 IE 不会进入怪癖模式。

# android - Listview 项目未正确对齐

> ID：10697249
> 
> 赞同：1
> 
> 时间：2012-05-22T06:59:43.587
> 
> 标签：android, xml, android-layout

我已经在聊天屏幕上创建了，我想在左侧显示发送的消息并在右侧显示接收的消息。
为此，我创建了两个 xml，一个用于右侧，一个用于左侧，并且我已将这两个 xml 与适配器绑定。
问题是，当我发送文本时，它位于左侧，当我接收文本时，发送的文本也在右侧对齐。当我再次发送时，整个文本（聊天）在左侧对齐。

**这是我的 ArrayAdapter：**

```
private void setListAdapterL() {
    ArrayAdapter<String> adapterL = new ArrayAdapter<String>(this,
            R.layout.row_left, messages);
    mList.setAdapter(adapterL);
}

private void setListAdapterR() {
    // TODO Auto-generated method stub
    ArrayAdapter<String> adapterR = new ArrayAdapter<String>(this,
            R.layout.row_right, messages);
    mList.setAdapter(adapterR);
} 
```

****我的row_right.xml****的 xml**文件。在其他**row_left.xml 中**，只是重力发生了变化：**

 **```
<?xml version="1.0" encoding="utf-8"?>
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/text1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:gravity="right"
    android:minHeight="?android:attr/listPreferredItemHeight"
    android:paddingLeft="5dip" /> 
```

任何想法和建议将不胜感激。
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:19:43.793

为此，您必须为列表视图创建自定义适配器，而不是为左侧项目（即发送的项目）和右侧项目（即接收的项目）创建两个单独的适配器。

这意味着您已经在一个自定义适配器中管理发送/接收的消息。

例如

```
// Sample messages inside MessageActivity
void initMessages() {
  HashMap<String, String> messageSent = new HashMap<String, String>();
  messageSent.put("message", "Hi");
  messageSent.put("type", "sent");
  messageSent.put("date", "");

  HashMap<String, String> messageReceived = new HashMap<String, String>();
  messageSent.put("message", "Hello");
  messageSent.put("type", "received");
  messageSent.put("date", "");

  ArrayList<HashMap<String, String>> messages = new ArrayList<HashMap<String, String>>();
  messages.add(messageSent);
  messages.add(messageReceived);

  MessageAdapter adapter = new MessageAdapter(mContext, messages);
  setListAdapter(apater);
}

// adapter class
class MessageAdapter extends ArrayAdapter<HashMap<String, String>> {

    LayoutInflater inflater;

    public MessageAdapter(Context context, ArrayList<HashMap<String, String>> data) {
        super(context, R.layout.raw_message, data);
        inflater = (LayoutInflater) context
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder;

        if(convertView == null) {
            convertView = inflater.inflate(R.layout.raw_message, null);
            holder = new ViewHolder();
            holder.txtSent = convertView.findViewByTag("sent");
            holder.txtReceived = convertView.findViewByTag("received");
            convertView.setTag(holder);
        } else {
            holder = (ViewHolder)convertView.getTag();
        }

        HashMap<String,String> message = getItem(position);
        boolean sent = message.get("type").equals("sent");

        if(sent) {
            holder.txtSent.setVisibility(View.VISIBLE);
            holder.txtSent.setText(message.get("message"));
            holder.txtReceived.setVisibility(View.GONE);
        } else {
            holder.txtSent.setVisibility(View.GONE);
            holder.txtReceived.setText(message.get("message"));
            holder.txtReceived.setVisibility(View.VISIBLE);     
        }
    }

    class ViewHolder {
        TextView txtSent;
        TextView txtReceived;
    }
}

// raw_message.xml
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content"    
    android:padding="5dp">

    <TextView android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:tag="sent"/>

    <TextView android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:tag="received"/>

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:15:49.483

> 问题是，当我发送文本时，它位于左侧，当我接收文本时，发送的文本也在右侧对齐。当我再次发送时，整个文本（聊天）在左侧对齐。

这可能正在发生，因为每次收到新消息时，您都会为`ListView`具有新重力（左或右）的新适配器设置一个新适配器。因为新适配器包含聊天中的**所有**消息，所以它们都左对齐或右对齐。

我的建议是使用一个数据对象类来保存实际消息 + 其状态（它是接收或发送的消息）：

```
class Message {
    String actualMessage;
    int status = 0; //(for example 0 for sent messages and 1 for received messages)

    public String toString() {
       return actualMessage;
    }
} 
```

然后实现您自己的适配器并在`getView`方法中查看您拥有哪种类型的消息并将该特定行的方向设置为向左或向右。这也将允许您只更新消息列表，而不是每次都创建一个新`ArrayAdapter`对象。适配器示例：

```
public class CustomAdapter extends ArrayAdapter<Message> {

     public CustomAdapter(Context context, int resId, List<message> data) {
          super(context, resId, data);
     }

     public View getView(int position, View convertView, ViewGroup parent) {
         TextView tv = (TextView) super.getView(position, convertView, parent);
         Message msg = getItem(position);
         if (msg.status == 0) {
               tv.setGravity(Gravity.LEFT);
         } else {
               tv.setGravity(Gravity.RIGHT);
         } 
     }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:13:57.117

您面临的问题是所有您的项目总是更改为新布局。因此，每次您设置左侧布局时，所有内容都会向左侧移动，反之亦然。

您需要的是一个[自定义适配器](http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/view/List4.html)，它使您能够拥有 2 个文本视图 - 一个用于右侧，一个用于左侧。**

# jquery - RichFaces 组件丰富：输入似乎不适用于 JQuery

> ID：10697252
> 
> 赞同：0
> 
> 时间：2012-05-22T07:00:01.877
> 
> 标签：jquery, jsf, richfaces

继续使用带有 RichFaces 组件的 JQuery，我注意到当您导入其中一个 JQuery 脚本时，尤其是这个：“http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min。 js”，RichFaces 组件之一，“rich:inplaceInput”，似乎不起作用。输入出现了，但它使用的 javascript 消失了，所以无论你点击多少次，都没有任何反应。这是我的标题：

```
 <f:view>
       <html>
         <head>
              <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
              <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
              <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/base/jquery-ui.css" type="text/css" />
              <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>            
              <link rel="stylesheet" type="text/css" href="../../css/custom-styles.css" />
              <script type="text/javascript" src="../../js/customJS.js"></script>
              <a4j:loadScript src="resource:///jquery.js"/>
         </head>
       </html>
    </f:view> 
```

在正文中，我创建了一个简单的，那里有一个简单的面板和一个简单的就地输入：

```
 <rich:panel id="simplePanel" style="width:560px;height:100px;">
          <rich:inplaceInput id="sample" defaultLabel="Some text" />
      </rich:panel> 
```

仅此而已，它仅在我删除第一个脚本导入时才有效，该脚本包含“jquery.min”javascript 文件。

知道为什么会这样吗？它是 RichFaces 中的错误吗？是否有解决方法，或者只有在升级 RichFaces 之后才有可能？（我使用的是 3.3.3 版本）

感谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:17:48.857

我不熟悉 Richfaces ，但它似乎是开箱即用的 jquery

并且可以这样使用（参考版本自带jQuery）

```
<a4j:loadScript
src="resource:///org/richfaces/renderkit/html/scripts/jquery/jquery.js" /> 
```

当您尝试导入另一个`jQuery.js`文件时，会导致冲突...

看这里[避免在我的 jsf 应用程序中发生 jquery 冲突](https://stackoverflow.com/questions/4459174/avoid-jquery-conflict-in-my-jsf-application)

和这里[有 jQuery 的 Richfaces](https://community.jboss.org/thread/14877)

了解更多...

# java - FileInputStream 使用包路径

> ID：10697255
> 
> 赞同：4
> 
> 时间：2012-05-22T07:00:18.763
> 
> 标签：java, file-io

我正在尝试读取如下文件：

```
FileInputStream fileInputStream = new FileInputStream("/com/test/Test.xml"); 
```

我总是收到未找到文件的异常。我怎样才能让它工作？输入流是否采用相对路径？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-22T07:11:00.783

是的，这可以采取相对路径。

为什么你的表达不起作用？非常简单：您的路径`/com/test/Test.xml`是绝对的，因为它以 开头`/`，因此您实际上是在寻找位于`/com/test/`从根目录开始的目录中的文件。

如何解决问题？

我相信您正在尝试查找位于您的项目下的文件。因此，您可以使用相对路径，例如`./com/test/Test.xml`or `com/test/Test.xml`。这可能会有所帮助。可能是因为我不知道您当前的工作目录和文件结构是什么。您的当前目录是您在运行时所在的位置`java`。如果您从 IDE 运行，则工作目录通常是您的项目目录。

在这种情况下，我认为路径`./com/test/Test.xml`是无效的，因为文件`Test.xml`不是直接位于项目根目录下，而是位于某处`./src/resources/com/test`左右。

在这种情况下，您可能不想将文件作为文件读取，而是作为资源（位于类路径中）读取。在这种情况下使用

`getClass().getResourceAsStream("/com/test/Test.xml")`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-22T07:04:17.290

尝试使用

[class.getResourceAsStream(path)](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Class.html#getResourceAsStream%28java.lang.String)。在这种情况下，路径必须相对于包含调用此语句的类的文件夹。

```
InputStream in = getClass().getResourceAsStream("/com/test/Test.xml"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:08:01.700

试试这个，

```
String str = "Test.xml";
  File file = new File(str);
  String absolutePathOfFirstFile = file.getAbsolutePath();
  FileInputStream fileInputStream = new FileInputStream(absolutePathOfFirstFile); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:09:12.203

你的路径一定不正确。`System.getProperty("user.dir");`您可以通过使用或打印路径来检查当前目录`new File(".")`

# android - 任何人都可以告诉我为什么我得到错误：INSTALL_PARSE_FAILED_MANIFEST_MALFORMED

> ID：10697261
> 
> 赞同：0
> 
> 时间：2012-05-22T07:00:59.507
> 
> 标签：android, android-manifest, unity3d

我正在使用 java 为 unity3d 开发一个插件。我不知道为什么我 在尝试安装到我的 android 设备时突然收到**错误：INSTALL_PARSE_FAILED_MANIFEST_ MALFORMED 。**我已经在 Unity 中构建了 android。

**我用 AndroidManifest.xml 煮了我的罐子**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
      package="org.mypack.test"
      android:versionCode="1"
      android:versionName="1.0">

    <uses-sdk android:minSdkVersion="7" ></uses-sdk>
    <application android:label="@string/app_name" >
        <activity android:name=".TestActivity"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest> 
```

**在 Unity3D 中，我的 AndroidManifest.xml 是**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="com.unity3d.player" android:installLocation="preferExternal" android:versionCode="1" android:versionName="1.0">

  <supports-screens android:smallScreens="true"  android:normalScreens="true"  android:largeScreens="true" android:xlargeScreens="true" android:anyDensity="true"/>

    <uses-sdk android:minSdkVersion="7"></uses-sdk>  
    <application android:icon="@drawable/app_icon" android:label="@string/app_name"  android:debuggable="true">

      <activity android:name="com.unity3d.player.UnityPlayerProxyActivity"  android:label="@string/app_name"  android:configChanges="fontScale|keyboard|keyboardHidden|locale|mnc|mcc|navigation|orientation|screenLayout|screenSize|smallestScreenSize|uiMode|touchscreen">
          <intent-filter>
              <action android:name="android.intent.action.MAIN" />
              <category android:name="android.intent.category.LAUNCHER" />
          </intent-filter>
      </activity>

      <activity android:name="com.unity3d.player.UnityPlayerActivity" android:label="@string/app_name" android:configChanges="fontScale|keyboard|keyboardHidden|locale|mnc|mcc|navigation|orientation|screenLayout|screenSize|smallestScreenSize|uiMode|touchscreen">
      </activity>

      <activity android:name="com.unity3d.player.UnityPlayerNativeActivity" android:label="@string/app_name" android:configChanges="fontScale|keyboard|keyboardHidden|locale|mnc|mcc|navigation|orientation|screenLayout|screenSize|smallestScreenSize|uiMode|touchscreen">
          <meta-data android:name="android.app.lib_name" android:value="unity" />
          <meta-data android:name="unityplayer.ForwardNativeEventsToDalvik" android:value="true" />
      </activity>

      <activity android:name="com.unity3d.player.VideoPlayer" android:label="@string/app_name" android:configChanges="fontScale|keyboard|keyboardHidden|locale|mnc|mcc|navigation|orientation|screenLayout|screenSize|smallestScreenSize|uiMode|touchscreen">
      </activity>

      <activity android:name="com.google.ads.AdActivity" android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize">
      </activity>

    </application>
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T12:07:55.390

解决。我不知道为什么会出现这个错误。但是我再次手动逐行编写了*AndroidManifest.xml ，突然它开始工作了。*

但无法弄清楚，为什么上述文件不起作用..

# msbuild - MS Build 复制存储在 Item 中的目录列表

> ID：10697267
> 
> 赞同：7
> 
> 时间：2012-05-22T07:01:21.423
> 
> 标签：msbuild, copy, msbuild-task, msbuildcommunitytasks

我有一个文本文件，其中包含要复制到临时目录的文件的一些位置

```
---- List.txt ----
Build\Java
Build\Classes 
```

现在，我正在将此列表提取到一个项目中

```
<ReadLinesFromFile File="List.txt" >
    <Output TaskParameter="Lines"
            ItemName="DirectoryList" />
</ReadLinesFromFile> 
```

现在，为了附加完整路径并添加一些排除项，我再次将其存储到另一个 ItemGroup 中：

```
<ItemGroup>
    <PackageList Include="$(BuildPath)\%(DirectoryList.Identity)\**\*.*"
                 Exclude="$(BuildPath)\%(DirectoryList.Identity)\**\*.pdb" />
</ItemGroup>

<Copy SourceFiles="@(PackageList)" 
      DestinationFiles="@(PackageList->'$(PackageTemp)\%(SourceDirectory)\%(DirInPackage)%(RecursiveDir)%(Filename)%(Extension)')" /> 
```

问题：

实际目录 -

```
C:\Work\Build\Java\Debug
C:\Work\Build\Java\Release
C:\Work\Build\Classes\*.class 
```

O/p 中的内容

```
C:\temp\Debug
C:\temp\Release
C:\temp\*.class 
```

如何让它也复制相应的“ `Java`”和“ `Classes`”文件夹？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-29T11:17:29.580

您在脚本中错过了一些片刻。首先，您需要从`@(PackageList)`. 其次，在`Copy`设置任务时，`DestinationFiles`您应该明确指定子目录。

看一看。该票据可以根据您的需要完成工作。它包含通配符指定的所有子目录的内部结构。例如，`Java\Debug\Component1\file.ext`

```
 <Project DefaultTargets="CopyDirectories" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <PropertyGroup>
        <BuildPath>.</BuildPath>
        <SourceDirectoryListFile>Directories.txt</SourceDirectoryListFile>
        <DestinationDirectory>temp</DestinationDirectory>
    </PropertyGroup>

    <Target Name="ReadDirectoryList">
        <ReadLinesFromFile File="$(SourceDirectoryListFile)" >
            <Output TaskParameter="Lines"
                    ItemName="DirectoryList" />
        </ReadLinesFromFile>
    </Target>

    <Target Name="CopyDirectories" DependsOnTargets="ReadDirectoryList"
            Outputs="%(DirectoryList.Identity)">
        <PropertyGroup>
            <ProcessingDirectory>%(DirectoryList.Identity)</ProcessingDirectory>
        </PropertyGroup>
        <ItemGroup>
            <PackageList Include="$(BuildPath)\$(ProcessingDirectory)\**\*.*"
                         Exclude="$(BuildPath)\$(ProcessingDirectory)\**\*.pdb" />
        </ItemGroup>
        <MakeDir Directories="$(ProcessingDirectory)" />
        <Copy SourceFiles="@(PackageList)"
              DestinationFiles="@(PackageList->'$(DestinationDirectory)\$(ProcessingDirectory)\%(RecursiveDir)%(Filename)%(Extension)')" />
    </Target> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-24T12:11:02.993

Arpit，您可以使用一种相反的解决方案：在 List.txt 中保留要从副本中排除的目录。基于[此](http://social.msdn.microsoft.com/Forums/pl/msbuild/thread/be3c2d4b-dd4d-44a0-af23-8c52d43c02b5)，您可以使用 2 组目录创建您的 copyfileslist。

所以我的解决方案如下所示：

```
---- List.txt ---- dirs to be excluded --- 
Demos\AccessDatabase
Demos\ActiveDirectoryMsi
Demos\JavaToolsMsi
Demos\JavaToolsMsi\Data
Demos\LocalUserGroupsMsi
Demos\MSSQLDatabase
Demos\StringToolsMsi
Demos\SystemToolsMsi
Demos\TemplateFilesMsi
Demos\UserPrivilegesMsi
Demos\WindowsServiceMsi
Common
CustomActions
Framework
Tools
Version
WixExtensions 
```

我的 msbuild.proj：

```
<Project DefaultTargets="run" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" >
    <Target Name="run">
        <PropertyGroup>
            <BuildPath>c:\tmp\msiext\msiext-1.3\trunk\src</BuildPath>
            <PackageTemp>c:\tmp\</PackageTemp>
        </PropertyGroup>        
        <ReadLinesFromFile File="List.txt" >
            <Output TaskParameter="Lines"
                ItemName="DirectoryList" />
        </ReadLinesFromFile>
        <Message Text="DirectoryList: @(DirectoryList)" />
        <ItemGroup>
            <PackageList Include="$(BuildPath)\%(DirectoryList.Identity)\**\*.*"
                Exclude="$(BuildPath)\%(DirectoryList.Identity)\**\*.sql" />
        </ItemGroup>
        <!--<Message Text="PackageList: @(PackageList)" />-->

        <Message Text="----------------------------------------------------------------------------" />
        <CreateItem Include="$(BuildPath)\**\*.*" Exclude="@(PackageList)">
            <Output TaskParameter="Include" ItemName="NeededFiles"/>
        </CreateItem>

        <Message Text="NeededFiles: @(NeededFiles)" />
        <Message Text="----------------------------------------------------------------------------" />
        <Copy SourceFiles="@(NeededFiles)" DestinationFiles="@(NeededFiles->'$(PackageTemp)\%(RecursiveDir)\%(Filename)%(Extension)')" />
    </Target>
</Project> 
```

# linux - 为移动网站配置 Apache 的问题

> ID：10697270
> 
> 赞同：1
> 
> 时间：2012-05-22T07:01:28.827
> 
> 标签：linux, apache, mobile, web

我在为一个既有普通版本又有移动版本的网站配置 Apache 时遇到了一些麻烦。这个想法是使用移动浏览器自动将用户重定向到移动版本，如果普通台式电脑上的某人试图连接到移动版本，则将其重定向到普通网站。

现在它将移动用户正确重定向到移动网站。但它似乎无法以其他方式重定向到桌面版本。此外，当您访问网站的移动版时，它会显示默认的“It works！” 出于某种原因页面而不是移动索引页面..

这是我使用的所有配置。希望有人能够帮助我解决这个问题。提前致谢！普通网站：

```
<VirtualHost *:80>
ServerAdmin webmaster@henal.local
ServerName henal.local
ServerAlias www.henal.local

DocumentRoot /var/www/henal.local
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>

<Directory /var/www/henal.local>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    DirectoryIndex index.html
    Order allow,deny
    allow from all
</Directory>

ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
<Directory "/usr/lib/cgi-bin">
    AllowOverride None
    Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
    Order allow,deny
    Allow from all
</Directory>

ErrorLog ${APACHE_LOG_DIR}/deltionkrant/error.log

# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel debug

CustomLog ${APACHE_LOG_DIR}/deltionkrant/access.log combined

     Alias /doc/ "/usr/share/doc/"
    <Directory "/usr/share/doc/">
        Options Indexes MultiViews FollowSymLinks
        AllowOverride None
        Order deny,allow
        Deny from all
        Allow from 127.0.0.0/255.0.0.0 ::1/128
    </Directory>

 </VirtualHost> 
```

.htaccess 普通网站：

```
RewriteEngine On
    RewriteCond %{HTTP_USER_AGENT} "android|blackberry|googlebot-  mobile|iemobile|ipad|iphone|ipod|opera mobile|palmos|webos" [NC]
    RewriteRule ^$ http://m.henal.local/ [L,R=302] 
```

手机网站：

```
<VirtualHost *:80>
ServerAdmin webmaster@henal.local
ServerName m.henal.local
ServerAlias henal.local

DocumentRoot /var/www/henal.local/mobile
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>

<Directory /var/www/henal.local/mobile>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    DirectoryIndex index.html
    Order allow,deny
    allow from all
</Directory>

ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
<Directory "/usr/lib/cgi-bin">
    AllowOverride None
    Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
    Order allow,deny
    Allow from all
</Directory>

ErrorLog ${APACHE_LOG_DIR}/error.log

# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel warn

CustomLog ${APACHE_LOG_DIR}/access.log combined

     Alias /doc/ "/usr/share/doc/"
    <Directory "/usr/share/doc/">
        Options Indexes MultiViews FollowSymLinks
        AllowOverride None
        Order deny,allow
        Deny from all
        Allow from 127.0.0.0/255.0.0.0 ::1/128
    </Directory>

</VirtualHost> 
```

.htaccess 移动网站：

```
RewriteEngine On
RewriteCond %{HTTP_USER_AGENT} "!(android|blackberry|googlebot- mobile|iemobile|ipad|iphone|ipod|opera mobile|palmos|webos)" [NC]
RewriteRule ^$ http://www.henal.local/ [L,R=302] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T09:27:03.087

好的 - 所以您正在尝试在这里进行内容协商，并且您正在用户代理上进行正则表达式。除了您拥有的可重写规则之外，您还需要考虑以下事项：

1.  使用[Apache 移动过滤器](http://www.apachemobilefilter.org/)而不是正则表达式。它更准确并提供更大范围的功能
2.  您应该允许用户选择他们想要的表示/体验。因此，如果您向他们展示移动版本，那么您应该让他们选择桌面版本，因为这实际上可能是他们想要的；反之亦然。
3.  这可能有很多原因，例如他们有桌面书签，有人分享了桌面版本的 url 等等。您的内容协商技术非常基础，没有考虑任何这些用例。

考虑到这一点，具体到您的上述问题：

尝试从 RewriteCond 模式中删除引号并添加 R=302 和 L 标志以确保现在执行其他重写指令。IE：

```
RewriteCond %{HTTP_USER_AGENT} !(android|blackberry|googlebot- mobile|iemobile|ipad|iphone|ipod|opera mobile|palmos|webos) [NC,R=302,L] 
```

其次，您可能会看到默认桌面“它可以工作”，因为您正在桌面浏览器上进行测试并被重定向到桌面主机。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-11T15:24:38.403

有点切题，回应William Greenly 的“既然你的DNS 不是外部可解析的，那么你将无法使用你的手机进行测试”。

仅供参考，Pagekite ( [http://pagekite.net/](http://pagekite.net/) ) 可以很容易地将 localhost 暴露给网络，以方便通过手机在开发机器上测试东西。

HTH有人在那里。

# python - 在 Python 中对包含 Dictionary 的列表进行排序

> ID：10697274
> 
> 赞同：0
> 
> 时间：2012-05-22T07:01:49.077
> 
> 标签：python, sorting

我有一个列表，其中包含需要根据字母顺序排序的字典

```
[
    {
        'index': False,
        'definition': {
            'id': 1111111L,
            'value': u'Large Content'
        },
        'id': 1234567L,
        'name': {
            'id': 9999999999L,
            'value': u'INTRODUCTION'
        }
    },
    {
        'index': False,
        'definition': {
            'id': 22222222L,
            'value': u'Large Content'
        },
        'id': 2L,
        'name': {
            'id': 3333333333333l,
            'value': u'Abstract'
        }
    },
    {
        'index': False,
        'definition': {
            'id': 8888888888L,
            'value': u'Large Content'
        },
        'id': 1L,
        'name': {
            'id': 343434343434L,
            'value': u'Bulletin'
        }
    }
    {
        'index': False,
        'definition': {
            'id': 1113311L,
            'value': u'Large Content'
        },
        'id': 333434L,
        'name': {
            'id': 9999999999L,
            'value': u'<b>END</b>'
        }
    },
] 
```

我需要根据 ['name']['value'] 排序结果

```
Abstract
Bulletin
INTRODUCTION
END 
```

但是当我这样做时，我首先得到大写字母

```
bg = []
for n in a:
   bg = sorted(a, key=lambda n: n["name"]["value"])

INTRODUCTION
END
Abstract
Bulletin 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-22T07:03:34.340

要使排序不区分大小写，请将排序键中的所有内容都小写：

```
bg = sorted(a, key=lambda n: n["name"]["value"].lower()) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:04:13.527

因为大写字母在字典上更小。排序前删除字母大小写：

```
key=lambda n: n["name"]["value"].lower() 
```

# android - Android - .nomedia 不适用于图像

> ID：10697276
> 
> 赞同：22
> 
> 时间：2012-05-22T07:01:53.763
> 
> 标签：android, image, media

我有图像，仅由特定应用程序从 sdcard 读取，因此我想将其从图像库中隐藏。我已将 .nomedia 文件放入其中，但此文件被忽略，图像仍显示在图库中。我把它和“。”放在一起。在一开始的时候。还是行不通。有任何想法吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-07T12:33:22.783

我猜您使用的是 Android 4.0，在`.nomedia`此之前运行正常。该问题的 AOSP[错误报告](http://code.google.com/p/android/issues/detail?id=24162)解释说：

`MediaScanner`在 Android 4.0 上，遇到文件时不会忘记已编制索引的`.nomedia`文件，但如果它在第一次通过时就存在，它会尊重它。所以解决方法是简单地重命名目录。当然，如果您愿意，您可以在下次扫描后改回名称。

*更新*：我想完整的解决方案是在重命名目录后实际强制进行媒体扫描。我还没有尝试过，但是这样的事情应该可以解决问题：

```
sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse("file://" +
    Environment.getExternalStorageDirectory()))); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-01T06:56:26.987

嗯......我承认我只是在猜测，但由于它在评论中得到了+1，我会试一试作为答案。由于这是您自己的应用程序，因此请将图像文件的扩展名更改为完全独特的“.myimagefile”，并查看它是否对 Android 隐藏。同时，您知道要将哪些文件加载​​到您自己的应用程序中，以及如何保存它们。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-02T18:16:38.430

.nomedia 错误是正确的，您可以将其添加到预先存在的图像文件夹中。

您可以在创建 .nomedia 文件后通过重命名文件夹来强制图库重新索引，运行图库（“隐藏文件夹现在应该丢失了），然后将文件夹重命名为您想要的。它应该保持隐藏状态。

我只是再次这样做以确保它可以在我的手机上运行。安卓 4.0.4。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-07-17T19:16:04.887

这是我自己发现的东西：

[http://www.transformerforums.com/forum/asus-transformer-faq/17765-solved-nomedia-doesnt-work-under-honeycomb-ics.html](http://www.transformerforums.com/forum/asus-transformer-faq/17765-solved-nomedia-doesnt-work-under-honeycomb-ics.html)

但是，对该方法稍作改动：

1.  下载并安装[SDRescan](https://play.google.com/store/apps/details?id=com.bero.sdrescan&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5iZXJvLnNkcmVzY2FuIl0.)应用程序
2.  图库应用程序的清除数据
3.  清除媒体存储应用程序的数据
4.  打开从第 1 步下载的 SDRescan 应用程序

应重新扫描 SDCard，此时应忽略所有包含 .nomedia 文件的目录。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-12-10T03:29:25.810

在我的存储卡中，我有成千上万的照片，这些照片让媒体扫描仪不堪重负。然后在我存储卡的根文件夹中，从“RootFolder”重命名为“.RootFolder”

成为隐藏目录，不再使用 .nomedia

尝试这个。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-06-17T06:08:00.160

图库没有经常更新，一些缩略图仍然在视图中。为此，您需要通过以下代码重新启动手机或以编程方式更新图库。

```
 /**
 * This method is must to reflect changes on gallery, if some file is
 * deleted or moved, <b> no updation is shown on gallery till phone is
 * rebooted </b> or <i>till this method UpdateGallery(Activity activity) is
 * called</i> UpdateGallery
 */
public static void UpdateGallery(Activity activity) {
    activity.sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri
            .parse("file://" + Environment.getExternalStorageDirectory())));
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-07T12:34:49.503

该`.nomedia`文件是预防性的，而不是治疗性的（在 Android 4.0 中），它是一个错误。如果您有一个`.nomedia`文件并且其中已经有图像，Gallery 仍会搜索图像。

您需要先创建`.nomedia`文件*，然后再将*图像放入其中。

*编辑*：不扫描所有以点开头的文件夹（因为隐藏）。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-12-27T09:43:07.803

在我的三星 Galaxy Note 2 上使用 Media Storage 4.1.1，上面给出的任何技巧都不能完全发挥作用，从这个意义上说：仍然扫描包含 .nomedia 文件的目录，这会消耗大量电池（尽管结果在图库），以及名称以“。”开头的目录 仍在扫描:-(
我求助于使用“Media Scanner Root”应用程序，它允许完全禁用糟糕的媒体扫描仪。这显然是通过类似的东西实现的

```
下午禁用 com.android.providers.media/com.android.providers.media.MediaScannerReceiver
```

顺便说一句，禁用/冻结媒体存储应用程序本身会产生不好的影响，即铃声和通知的选择和绑定不再起作用（多么美妙的设计），但是当仅禁用其扫描仪组件时，仍然可以使用，例如，用于选择音调的 ES 文件资源管理器。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-06-07T11:36:56.410

您可以考虑使用 APK 扩展 Zip 库（需要 API 级别 5 或更高级别）来读取您将作为 Zip 存档的一部分安装到 SD 卡的文件。这个库的描述可以在这里找到：

[http://developer.android.com/guide/market/expansion-files.html#ZipLib](http://developer.android.com/guide/market/expansion-files.html#ZipLib)

据推测，存储在 SD 卡上的 ZIP 存档中的文件将不会被画廊显示。

此外，*如果*您的应用程序从 SD 卡*读取*（但不*写入*）图像，并且这些图像应该只对您自己的应用程序可用，并且可以在您的应用程序安装或更新时交付，那么它可能在安装时利用新的 Google Play 工具将它们合并为应用程序的*一部分是有意义的。*

我猜您将图像存储到 SD 卡是因为它们太大而无法放入您的 APK 文件中（考虑到它的 50MB 大小限制，由于缓冲问题，它甚至比某些设备的实际大小还要小）。

如果是这样，那么您可能会认为，截至 2012 年 3 月 5 日，Google Play 支持最多两个“扩展文件”的附件（到您的应用程序），每个最多 2 GB。APK 的最大容量仍为 50MB，但扩展文件将可用的总存储空间提高到 4 GB 以上。这些扩展文件由 Google 为您提供，它们保存在特定于您的应用程序的特定 SD 卡文件夹中，并且可以使用 Downloader Library 提供的 API 访问（需要 API 级别 5 或更高级别）。

以下是谷歌关于这一变化的公告：

[http://android-developers.blogspot.in/2012/03/android-apps-break-50mb-barrier.html](http://android-developers.blogspot.in/2012/03/android-apps-break-50mb-barrier.html)

以下是该设施的详细说明：

[http://developer.android.com/guide/market/expansion-files.html](http://developer.android.com/guide/market/expansion-files.html)

请注意，虽然此工具是新的，但这些库已随 Android SDK 一起提供，以用于早期的 API 级别。例如，在我的安装中，我在这里找到了 API-8 版本：

```
<Android SDK base folder>\extras\google\play_apk_expansion\ 
```

同一文件夹在其 zip_file 子文件夹中包含上述 APK 扩展 Zip 库。

我自己还没有亲自使用过这个设施，所以我只是根据引用的参考资料来描述这个。

# java - 如何实现自定义 WSDL 扩展？

> ID：10697277
> 
> 赞同：1
> 
> 时间：2012-05-22T07:02:17.860
> 
> 标签：java, web-services, wsdl

假设我在 WSDL (1.1) 文件中有一个 XML 元素，它不是来自 WSDL 规范（新的 WSDL 扩展）。在部署时（Java）我想阅读这个元素并做一些事情（例如调用 EJB）。

任何想法如何实现这一点？你会选择哪个服务器？玻璃鱼？雄猫？轴？

帮助将不胜感激；）

谢谢！

# android - Android Applicaiton - 如何获取联系人的生日

> ID：10697279
> 
> 赞同：4
> 
> 时间：2012-05-22T07:02:27.370
> 
> 标签：android, android-contacts

我正在开发一个 android 应用程序，我需要将每个联系人的生日与当前日期进行匹配，如果是肯定的，则处理一些需要完整联系人详细信息的业务逻辑。

我找到了分别阅读联系人生日或联系人本身的方法，但对如何将两者结合起来感到困惑。有人可以提供一些方向。

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-28T09:44:56.433

在网上查了一些资料后找到了答案。必须这样做的方式是：

*   获取联系人列表
*   对于每个联系人，获取contactId
*   使用contactid获取生日

以下是代码片段：

```
ContentResolver cr = getContentResolver(); //getContnetResolver()
String[] projection = new String[] { ContactsContract.Contacts._ID, ContactsContract.Contacts.DISPLAY_NAME };

Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI, projection, null, null,
            ContactsContract.Contacts.DISPLAY_NAME + " COLLATE LOCALIZED ASC");

while (cur.moveToNext()) {

   Map<String, String> contactInfoMap = new HashMap<String, String>();
   String contactId = cur.getString(cur.getColumnIndex(ContactsContract.Data._ID));
   String displayName =  cur.getString(cur.getColumnIndex(ContactsContract.Data.DISPLAY_NAME));     

    String columns[] = {
         ContactsContract.CommonDataKinds.Event.START_DATE,
         ContactsContract.CommonDataKinds.Event.TYPE,
         ContactsContract.CommonDataKinds.Event.MIMETYPE,
    };

    String where = Event.TYPE + "=" + Event.TYPE_BIRTHDAY + 
                    " and " + Event.MIMETYPE + " = '" + Event.CONTENT_ITEM_TYPE + "' and "                  + ContactsContract.Data.CONTACT_ID + " = " + contactId;

    String[] selectionArgs = null;
    String sortOrder = ContactsContract.Contacts.DISPLAY_NAME;

    Cursor birthdayCur = cr.query(ContactsContract.Data.CONTENT_URI, columns, where, selectionArgs, sortOrder); 
    if (birthdayCur.getCount() > 0) {
        while (birthdayCur.moveToNext()) {
             String birthday = birthdayCur.getString(birthdayCur.getColumnIndex(ContactsContract.CommonDataKinds.Event.START_DATE));
        }
    }
    birthdayCur.close();

   }    

    cur.close(); 
```

# android - Asterisk 1.8 忽略了来自 Android SIP 演示的 CANCEL 请求

> ID：10697282
> 
> 赞同：3
> 
> 时间：2012-05-22T07:02:38.927
> 
> 标签：android, sip, asterisk

在将标准 Android SIP 演示与星号 1.8.9.2 服务器结合使用时，我遇到了一个奇怪的问题：传入/传出呼叫工作正常，但有一件事情不工作：当我从 SIP 演示启动呼叫时，我再次关闭通话（点击“结束当前通话”按钮），通话在 SIP 演示中终止，但被叫设备仍然响铃。

我试图通过 Wireshark 记录电报来检查发生了什么，似乎不接受从 SIP 演示到星号服务器的 CANCEL 电报，看看：

```
300 08:30:39.483913 130.10.0.102    192.168.0.110   SIP/SDP 916 Request: INVITE sip:110@192.168.0.110:5060, with session description
301 08:30:39.488686 192.168.0.110   130.10.0.102    SIP 525 Status: 100 Trying
302 08:30:39.524884 192.168.0.110   130.10.0.102    SIP 541 Status: 180 Ringing
309 08:30:41.041071 130.10.0.102    192.168.0.110   SIP 370 Request: CANCEL sip:110@192.168.0.110:5060
310 08:30:41.051545 192.168.0.110   130.10.0.102    SIP 526 Status: 481 Call/Transaction Does Not Exist 
```

现在真正奇怪的事情是：如果我重复相同的操作，并且在通过“结束当前通话”按钮终止通话之前，我等待大约 ca。7 秒，CANCEL 被接受，呼叫正确终止：

```
646 08:31:05.571464 130.10.0.102    192.168.0.110   SIP/SDP 916 Request: INVITE sip:110@192.168.0.110:5060, with session description
647 08:31:05.576150 192.168.0.110   130.10.0.102    SIP 525 Status: 100 Trying
648 08:31:05.662345 192.168.0.110   130.10.0.102    SIP 541 Status: 180 Ringing
664 08:31:08.302561 130.10.0.102    192.168.0.110   SIP 389 Request: OPTIONS sip:192.168.0.110
665 08:31:08.312097 192.168.0.110   130.10.0.102    SIP 528 Status: 404 Not Found
698 08:31:13.370346 130.10.0.102    192.168.0.110   SIP 370 Request: CANCEL sip:110@192.168.0.110:5060
699 08:31:13.373570 192.168.0.110   130.10.0.102    SIP 513 Status: 487 Request Terminated
700 08:31:13.373912 192.168.0.110   130.10.0.102    SIP 497 Status: 200 OK 
```

我检查了两个CANCEL请求的内容，结构完全一样！此外，我还测试了一个带有星号 1.6 的服务器，我没有遇到这个问题，呼叫在那里正确终止！所以它让我相信它必须用星号 vers 做一些事情。1.8.

有没有人遇到过类似的问题并对我有一些有用的提示？如果需要进一步的数据进行分析，请告诉我！谢谢你的帮助，BR

阿明

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-16T19:11:35.587

我在使用 Asterisk 1.8.11.0 和 Android 2.3/4.0.3 时遇到了完全相同的问题。在 sip.conf 文件的 'general' 部分下有一个简单的解决方案，添加以下属性，其值等于 no。

```
[general]
.
.
pedantic=no 
```

我希望它也对你有用......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-23T03:22:22.507

SIP 演示只是一个演示 :) 它可能无法正确处理所有情况。它是否适用于“真正的”SIP 客户端？使用您最喜欢的软件电话应用程序进行验证。对于 Android，您可以尝试 SIPDroid。如果是，则 SIP 演示中缺少某些内容，如果不是，则可能是您的 Asterisk 配置有问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-10T18:45:35.577

不幸的是，SIPDroid 使用了另一个 SIP 堆栈，然后 Gingerbread 已本地安装。这就是为什么您没有观察到忽略 CANCEL 方法的原因。我正在使用 android SIP 堆栈与 AVSystem TR-069 ACS 服务器进行示例集成，并且有相同的观察结果。还不知道是否有任何解决方法。在此处跟踪进度：http: [//avsystem.com](http://avsystem.com)

# opengl - 画一堆CUDA/OpenCL生成的元素？

> ID：10697303
> 
> 赞同：2
> 
> 时间：2012-05-22T07:04:41.020
> 
> 标签：opengl, cuda

我是图形编程新手，需要为我们正在创建的演示添加渲染后端。我希望你们能指出我正确的方向。

**简短版本**：有没有办法向 OpenGL 发送不同元素的数据数组，而不必为每个元素分别发出绘制命令？

**长版**：我们有一个 CUDA 程序（最终将是 OpenCL），它为我们计算一堆对象的一堆数据。然后我们需要使用例如 OpenGL 来渲染这些对象。

CUDA 内核可以生成我们的顶点，并且使用 OpenGL 互操作，它可以将这些顶点推送到 OpenGL VBO 中，而不必将数据传输回主机设备内存。但问题是我们有一堆（超过一百万是我们的目标）不同的对象。看起来我们最好的选择是分配一个 VBO 并将每个对象的顶点放入其中。然后我们可以调用 glDrawArrays 并使用该 VBO 中每个元素的偏移量和长度。

*但是，*每个对象可能有可变数量的顶点（尽管场景中的总顶点可以有界。）我想避免必须从 CUDA -> CPU 每帧传输开始索引和长度的列表，特别是给定这些绘图命令会直接返回到 GPU。

有没有办法用数据打包缓冲区，这样我们就可以只调用一次 OpenGL 来渲染缓冲区，并且它可以从该缓冲区渲染许多不同的元素？

（希望我也提供了足够的信息来避免这里出现 XY 问题。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T09:03:01.057

一种方法是不要将它们理解为单独的对象，而是使它们成为使用单个绘图调用绘制的单个大对象。问题是，将对象彼此区分开来的数据是什么，这意味着您在各个调用之间更改了`glDrawArrays/glDrawElements`什么？

如果它是简单的东西，比如颜色，那么提供一个额外的每个顶点属性可能会更容易。通过这种方式，您可以使用单个绘图调用将所有对象渲染为一个大对象，并正确着色各个子对象（现在实际上仅在概念上存在）。附加属性的内存成本可能非常值得。

如果它有点复杂（比如纹理），您仍然可以使用额外的每个顶点属性来索引它，或者是纹理数组的索引（因为纹理数组应该支持 CUDA/OpenCL-硬件）或纹理坐标到单个大纹理的特定子区域（所谓的纹理图集）。

但是，如果这些对象之间的区别更复杂，例如不同的着色器或其他东西，您可能真的需要渲染单个对象并进行单独的绘制调用。但是您仍然不需要往返于 CPU。通过使用[ARB_draw_indirect](http://www.opengl.org/registry/specs/ARB/draw_indirect.txt)扩展（我认为这是自 GL 4.0 以来的核心，但可能在 GL 3 硬件（以及因此 CUDA/CL 硬件）上受支持，不知道），您可以将参数`glDrawArrays/glDrawElements`从一个额外的缓冲区（您可以像任何其他 GL 缓冲区一样使用 CUDA/CL 将其写入其中）。因此，您可以在 GPU 上组装每个单独对象的偏移长度信息，并将它们存储在单个缓冲区中。然后你做你的`glDrawArraysIndirect`循环偏移到这个单一的绘图间接缓冲区（各个对象之间的偏移现在是恒定的）。

* * *

但是，如果发出多个绘制调用的唯一原因是您想将对象渲染为单个`GL_TRIANGLE_STRIP`s 或`GL_TRIANGLE_FAN`s（或者，上帝当心，`GL_POLYGON`s），您可能需要重新考虑只使用一堆，`GL_TRIANGLES`以便您可以渲染所有对象一个draw call。使用三角形带所节省的（可能）时间和内存可能会因多次绘制调用的开销而超过，尤其是在渲染许多小三角形带时。如果您真的想使用条带或扇形，您可能需要引入退化三角形（通过重复顶点）以将它们彼此分离，即使使用单个绘制调用绘制也是如此。或者您可以查看[`glPrimitiveRestartIndex`](http://www.opengl.org/sdk/docs/man3/xhtml/glPrimitiveRestartIndex.xml)GL 3.1 引入的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:33:34.827

可能不是最优的，但你可以在整个缓冲区上制作一个 glDrawArray ......

*   如果你使用 GL_TRIANGLES，你可以用零填充你的缓冲区，并且只在你的内核中写入需要的顶点。这样，缓冲区的“空”区域将被绘制为 0 面积多边形（= 退化多边形 -> 根本不绘制）
*   如果你使用 GL_TRIANGLE_STRIP，你可以这样做，但是你必须复制你的第一个顶点才能在 (0,0,0) 和你的网格之间制作一个假三角形。

这似乎有点矫枉过正，但是：-无论如何，您都必须能够处理尽可能多的顶点-退化三角形不使用填充率，因此它们几乎是免费的（尽管顶点着色器仍在计算中）

一个可能更好的解决方案是改用 glDrawElements ：在内核中，您还为整个缓冲区生成一个索引列表，这将能够完全跳过缓冲区的区域。

# java - 如何在抽象和接口之间做出选择？

> ID：10697305
> 
> 赞同：-1
> 
> 时间：2012-05-22T07:04:56.383
> 
> 标签：java, oop

以下接口和抽象类有什么区别：

```
 public interface MyInterface
{
  public int get1();
  public int get2();
  public int get3();
}

public abstract class MyAbstract
{
public abstract int get1();
public abstract int get2();
public abstract int get3();
} 
```

面试官不相信以下答案，他想听点别的：

1.  我必须扩展 MyAbstract，然后我不能有更多的扩展，而在实现 MyInterface 的情况下，我可以继承。

2.  如果使用“实现 MyInterface”，我必须提供所有三种方法的实现，而在“扩展 MyAbstract”的情况下，我愿意发扬抽象性。

3.  设计观点：所有库都在接口上工作，而不是在抽象类上，使用接口是一种很好的设计实践，这样我在将来的任何时候都可以创建任何可以在库的某些方法中使用的类（实现 MyInterface）。（与第一点基本相同）

还能有什么？我不关心接口/抽象类等中的变量。如何决定使用哪一个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:11:37.840

如果两个类之间的关系非常肯定是“is-a”关系，则可能存在使用抽象类的情况。

如果您对所有子类都有共同的“默认行为”，那么使用抽象基类的情况会更加强烈。

但总的来说，如果您*可以*使用接口，那么您可能*应该*使用接口。

恕我直言...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:06:50.677

`abstract`将一个类与所有方法一起使用是没有意义的`abstract`——这本质上是一个接口。如果您有一些通用的基本逻辑（真实代码，而不仅仅是抽象方法），那么声明一个`abstract`类，可能实现一个`interface`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:30:16.670

当没有我应该放入的公共代码时，我选择接口。仅在可以通过子类共享某些东西的情况下-是的，我使用抽象类（模板模式）。

而且你总是可以拥有接口而不是它的子类作为抽象类。

在顶层使用界面。将所有应该实现的方法移到那里。带有接口而不是实现的程序。实现有更多的改变，接口更少。

# asp.net-mvc-4 - 如何将根节点添加到 xmloutput？

> ID：10697309
> 
> 赞同：1
> 
> 时间：2012-05-22T07:05:21.720
> 
> 标签：asp.net-mvc-4, asp.net-web-api

嗨，我是 MVC4 的新手，我正在使用 asp.net mvc4 创建 RESTFUL WebAPI。
我的 api 返回一个 xml 字符串，如下所示：

```
<ArrayOfFacilities xmlns:xsd="http://www.w3.org/2001/XMLSchema"    
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<Facilities>...</Facilities>
<Facilities>...</Facilities>
</ArrayOfFacilities> 
```

我想在上述节点之前添加一个节点来描述分页，例如

```
<wstxns1:pager>
<wstxns1:page>11</wstxns1:page>
<wstxns1:total>502</wstxns1:total>
<wstxns1:pageSize>50</wstxns1:pageSize>
<wstxns1:prevPage>http://apps.dhis2.org/dev/api/dataElements?page=10</wstxns1:prevPage>
<wstxns1:pageCount>11</wstxns1:pageCount>
</wstxns1:pager> 
```

请帮忙，谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T09:33:57.453

```
 public class AppendPagerHandler : DelegatingHandler
    {
        protected override Task<HttpResponseMessage> SendAsync(
            HttpRequestMessage request, CancellationToken cancellationToken)
        {
            return base.SendAsync(request, cancellationToken).ContinueWith(
                (task) =>
                {
                    HttpResponseMessage response = task.Result;
                    var xml = response.Content.ReadAsStringAsync().Result;
                    var newContents = xml.Substring(0, xml.IndexOf("ma\">")+4)+
                            @"<pager>
                                <page>11</page>
                                <total>502</total>
                                <pageSize>50</pageSize>
                                <prevPage>http://apps.dhis2.org/dev/api/dataElements?page=10</prevPage>
                                <pageCount>11</pageCount>
                          </pager>" + xml.Substring(xml.IndexOf("ma\">") + 4);
                    response.Content = new StringContent(newContents);
                    response.Content.Headers.ContentType = new System.Net.Http.Headers.MediaTypeHeaderValue("text/xml");
                    return response;
                }
            );
        }
    }
        GlobalConfiguration.Configuration.MessageHandlers.Add(new Mvc4WebApi.Controllers.ValuesController.AppendPagerHandler());

    public List<Facilities> Get()
    {
        var list = new List<Facilities>();
        list.Add(new Facilities { Name = "A" });
        list.Add(new Facilities { Name = "B" });
        return list;
    } 
```

# java - 可运行接口示例

> ID：10697311
> 
> 赞同：11
> 
> 时间：2012-05-22T07:05:31.270
> 
> 标签：java, multithreading

```
public class CreateThreadRunnableExample implements Runnable {

    public void run() {

        for (int i = 0; i < 5; i++) {
            System.out.println("Child Thread : " + i);

            try {
                Thread.sleep(50);
            } catch (InterruptedException ie) {
                System.out.println("Child thread interrupted! " + ie);
            }
        }

        System.out.println("Child thread finished!");
    }

    public static void main(String[] args) {

        Thread t = new Thread(new CreateThreadRunnableExample(), "My Thread");

        t.start();

        for (int i = 0; i < 5; i++) {

            System.out.println("Main thread : " + i);

            try {
                Thread.sleep(100);
            } catch (InterruptedException ie) {
                System.out.println("Child thread interrupted! " + ie);
            }
        }
        System.out.println("Main thread finished!");
    }
} 
```

在这个程序中，使用了两种不同时间的睡眠方法..,,，所以如果主线程运行时间那么子线程必须运行2次。但它只运行一次......我们采用可运行或运行的概念状态......然后当主线程结束时，2个子线程将处于就绪状态，那么为什么只有一个子线程运行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:27:31.347

首先你添加了 System.out.println("子线程中断！" + ie); 对于主线程和子线程，这是一个错字...

试试这个......两个线程都在运行（主线程和子线程）

该程序的main方法放在JVM创建的Main线程的最底层，Main方法创建另一个Runtime Stack并将子线程放入其中。

```
public class DemoThread implements Runnable {

    public void run() {

        for (int i = 0; i < 3; i++) {
            System.out.println("Child Thread ");

            try {
                Thread.sleep(200);
            } catch (InterruptedException ie) {
                System.out.println("Child thread interrupted! " + ie);
            }
        }

        System.out.println("Child thread finished!");
    }

    public static void main(String[] args) {

        Thread t = new Thread(new DemoThread ());

        t.start();

        for (int i = 0; i < 3; i++) {

            System.out.println("Main thread);

            try {
                Thread.sleep(200);
            } catch (InterruptedException ie) {
                System.out.println("Child thread interrupted! " + ie);
            }
        }
        System.out.println("Main thread finished!");
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:12:04.197

[如JavaDoc](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep%28long%29)中所述，该`sleep`方法并非 100% 时间准确：

> 公共静态无效睡眠（长毫秒）抛出 InterruptedException
> 
> 使当前执行的线程休眠（暂时停止执行）指定的毫秒数，取决于系统计时器和调度程序的精度和准确性。该线程不会失去任何监视器的所有权。

所以基本上代码有时可能会按预期工作，而其他时候则不会。

此外，您似乎只开始了 1 个孩子，那么您为什么要 2 个孩子呢？

`main`编辑：理论上是的，子线程应该在线程*睡着*时执行两次。话虽如此，正如 JavaDoc 中所解释的，该`sleep`方法执行的准确性取决于它所运行的系统，因此有时您可能会使其按预期工作，而有时则不会。因此，例如，您可能会遇到`main`线程*休眠*97 毫秒而不是 100 毫秒的情况，而子线程休眠 53 毫秒。这将导致孩子只执行一次。

另一种选择是做这样的事情： `while (currentTime <= timeNeededToElapse) { currentTime=... }`. 这会导致一个紧密的 while 循环，它可以提供更好的控制，但据我所知，它仍然不是 100% 准确的，更不用说你将消耗 CPU 周期来有效地什么都不做，所以要谨慎使用它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:08:32.497

您只启动一个子线程，那么为什么要期待两个？

关于超时，睡眠时间并不准确，因此当一个线程睡眠 100 毫秒时，另一个线程可能会或可能不会睡眠两次 50 毫秒。这是[*竞态条件*](http://en.wikipedia.org/wiki/Race_condition)的经典示例。如果您多次运行示例代码，您可能会在某些情况下看到两条子线程消息，而在其他情况下会看到一条。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-24T13:01:53.783

**试试这个**

```
 public class Test implements Runnable{

        public void run() {

            for (int i = 0; i < 5; i++) {
                System.out.println("CHILD THREAD : " + i);

                try {
                    Thread.sleep(50);
                } catch (InterruptedException ie) {
                    System.out.println("CHILD THREAD INTERRUPTED! " + ie);
                }
            }

            System.out.println("CHILD THREAD FINISHED!");
        }

        public static void main(String[] args) {

            Thread t = new Thread(new Test());

            t.start();

            for (int i = 0; i < 5; i++) {
                System.out.println("MAIN THREAD : " + i);
                try {
                    Thread.sleep(200);
                } catch (InterruptedException ie) {
                    System.out.println("CHILD THREAD INTERRUPTED! " + ie);
                }
            }
            System.out.println("MAIN THREAD FINISHED!");
        }
    } 
```

# rest - 在 grails 项目中使用 rest 插件

> ID：10697312
> 
> 赞同：0
> 
> 时间：2012-05-22T07:05:33.577
> 
> 标签：rest, grails, groovy, rest-client

我有 grails 应用程序，它工作正常，直到我安装[REST PLUGIN](http://grails.org/plugin/rest)。安装后我尝试运行我的应用程序，但由于以下原因运行失败。

```
| Loading Grails 2.0.3
| Configuring classpath.
| Environment set to development.....
| Packaging Grails application.....
| Error Error executing script RunApp: loader constraint violation: 
  loader (instance of <bootloader>) previously initiated loading for a different 
  type with name "org/w3c/dom/TypeInfo" (Use --stacktrace to see the full trace) 
```

**注意：**我使用 grails 2.0.3 和 groovy 1.8.6 和 eclipse spring 源工具套件 2.9.1

我尝试`grails> run-app --stacktrace`：

```
| Loading Grails 2.0.3
| Configuring classpath.
| Environment set to development.....
| Packaging Grails application.....
| Error Error executing script RunApp: loader constraint violation: 
  loader (instance of <bootloader>) previously initiated loading for a 
  different type with name "org/w3c/dom/TypeInfo" 
  (NOTE: Stack trace has been filtered. Use --verbose to see entire trace.)

java.lang.LinkageError: loader constraint violation: loader 
  (instance of <bootloader>) previously initiated loading for a different 
  type with name "org/w3c/dom/TypeInfo"

at com.springsource.loaded.ri.ReflectiveInterceptor.jlClassGetDeclaredMethods
  (ReflectiveInterceptor.java:123)

at com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke
  (ReflectiveInterceptor.java:1231)

at _GrailsPackage_groovy$_run_closure5_closure10.doCall
  (_GrailsPackage_groovy:121)

at com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke
  (ReflectiveInterceptor.java:1231)

at _GrailsPackage_groovy$_run_closure5_closure10.doCall
  (_GrailsPackage_groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke
  (ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod (GantMetaClass.java:133)

at _GrailsPackage_groovy$_run_closure5.doCall(_GrailsPackage_groovy:119)

at com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke
  (ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)

at com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke
  (ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16_closure18.doCall(GantBinding.groovy:185)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16_closure18.doCall(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at java_util_concurrent_Callable$call.call(Unknown Source)

at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)

at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16.doCall(GantBinding.groovy:185)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16.doCall(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)

at _GrailsPackage_groovy$_run_closure2.doCall(_GrailsPackage_groovy:61)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16_closure18.doCall(GantBinding.groovy:185)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16_closure18.doCall(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at java_util_concurrent_Callable$call.call(Unknown Source)

at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)

at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16.doCall(GantBinding.groovy:185)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16.doCall(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.processClosure(GantMetaClass.java:81)

at org.codehaus.gant.GantMetaClass.processArgument(GantMetaClass.java:95)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:128)

at RunApp$_run_closure1.doCall(RunApp.groovy:28)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16_closure18.doCall(GantBinding.groovy:185)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_c
   losure16_closure18.doCall(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at java_util_concurrent_Callable$call.call(Unknown Source)

at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)

at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16.doCall(GantBinding.groovy:185)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_
   closure16.doCall(GantBinding.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at java_util_concurrent_Callable$call.call(Unknown Source)

at gant.Gant$_dispatch_closure5.doCall(Gant.groovy:381)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at gant.Gant$_dispatch_closure7.doCall(Gant.groovy:415)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at gant.Gant$_dispatch_closure7.doCall(Gant.groovy)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at java_util_concurrent_Callable$call.call(Unknown Source)

at gant.Gant.withBuildListeners(Gant.groovy:427)

at gant.Gant.this$2$withBuildListeners(Gant.groovy)

at gant.Gant$this$2$withBuildListeners.callCurrent(Unknown Source)

at gant.Gant.dispatch(Gant.groovy:415)

at gant.Gant.this$2$dispatch(Gant.groovy) 

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at gant.Gant.invokeMethod(Gant.groovy)

at gant.Gant.executeTargets(Gant.groovy:591)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

at gant.Gant.executeTargets(Gant.groovy:590)

at com.springsource.loaded.ri.ReflectiveInterceptor.
   jlrMethodInvoke(ReflectiveInterceptor.java:1231)

| Error Error executing script RunApp: loader constraint violation: 
  loader (instance of <bootloader>) previously initiated loading for a 
  different type with name "org/w3c/dom/TypeInfo" 
```

**应用程序属性：**

```
#Grails Metadata file
#Mon May 21 10:44:15 EEST 2012
app.grails.version=2.0.3
app.name= my-application
app.servlet.version=2.4
app.version=0.1
plugins.ckeditor=3.4.0.1
plugins.crypto=2.0
plugins.email-confirmation=1.0.4
plugins.excel-import=0.3
plugins.filter=0.2
plugins.filterpane=0.7
plugins.gsec=1.0
plugins.hibernate=2.0.3
plugins.mail=0.9
plugins.navigation=1.1.1
plugins.p6spy=0.5
plugins.quartz=0.4.2
plugins.rest=0.7
plugins.tomcat=2.0.3
plugins.webflow=2.0.0 
```

**有什么帮助吗？**

**注意：**我尝试使用[REST Client Builder Plugin](http://grails.org/plugin/rest-client-builder)但我不知道如何使用它以及如何发送 json 请求正文。`any one know?`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T08:49:02.293

[REST Client Builder Plugin](http://grails.org/plugin/rest-client-builder)很容易使用，就像：

```
def test (String testName, String testDescription){
    def restBuilder = new RestBuilder()
    def restRequest = restBuilder.post(url){
        contentType "application/json"
        json {
            name = testName
            description = testDescription
        }
    }
    restRequest.json
} 
```

1- url：是您要发布请求的 url

2-名称和描述：是您将在调用此方法的网络服务器中收到的参数的名称

注意：不要忘记安装[REST Client Builder Plugin](http://grails.org/plugin/rest-client-builder)并`import grails.plugins.rest.client.RestBuilder`在您使用它的类中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T18:20:22.760

我有一个类似的问题（尽管我只需要 http-builder 库而不是插件本身）。-noreloading 选项并没有让它变得更好。

但是，正如它在这里指出的那样[http://jira.grails.org/browse/GPEXPORT-18?focusedCommentId=69307&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-69307](http://jira.grails.org/browse/GPEXPORT-18?focusedCommentId=69307&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-69307) 可以手动列出在 BuildConfig.groovy 中引用 xmlbeans 并明确排除 xmlbeans 的所有模块，例如

```
compile (group:'org.apache.poi', name:'poi', version:'3.7') {
  excludes 'xmlbeans'
}
compile (group:'org.apache.poi', name:'poi-ooxml', version:'3.7') {
  excludes 'xmlbeans'
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-19T08:12:20.497

这是 Grails 中的一个错误。Spring 加载，在 Grails 中支持热重载类的技术导致 REST Client Build 插件出现问题。

以下命令应该允许您使用插件：

> grails -noreloading 运行应用程序

# iphone - 如何在更改视图时停止视频录制

> ID：10697315
> 
> 赞同：0
> 
> 时间：2012-05-22T07:05:52.277
> 
> 标签：iphone, ios, xcode

我有一个 AVFoundation 视频录制捕获会话，它通过点击开始/停止图标来启动和停止/保存。如果在更改为备用视图之前没有通过点击停止图标手动停止录制，我需要在更改为备用视图（例如翻转视图或另一个故事板视图）时自动停止并保存录制会话。我有以下代码，但通过视图更改和备用视图继续录制。我会很感激一个特定的编码解决方案，因为我是新手。谢谢你。

```
- (void)viewDidUnload
{
    self.videoProcessor = nil;

    [self.videoProcessor stopAndTearDownCaptureSession];
    self.videoProcessor.delegate = nil;

    [super viewDidUnload];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:17:18.717

听起来您可以将代码放在`viewWillDisappear`视图控制器的方法中。

```
- (void)viewWillDisappear
{
    [super viewWillDisappear];

    [self.videoProcessor stopAndTearDownCaptureSession];
    self.videoProcessor.delegate = nil;
    self.videoProcessor = nil;
} 
```

该`viewDidUnload`方法仅在您的应用程序内存不足时调用，因此它将尝试卸载当前未显示的任何视图。

# html - 使用 apache commons 传输后文件损坏

> ID：10697317
> 
> 赞同：0
> 
> 时间：2012-05-22T07:06:06.927
> 
> 标签：html, servlets, apache-commons

我已部分成功上传文件。扩展名为.html、.jpeg、.pdf 等的文件工作正常。当涉及到 .zip、.rpm、.tar.gz 时，它不起作用。文件正在传输到所需的路径，但文件已损坏。

```
<tr>  
 <td>FileName</td>  
 <td><input type="text" name="filename" size="30"/></td>  
</tr> 
<tr>  
 <td>Select main category</td>  
 <td>  
  <select name="main">  
   <option >--Select--</option>  
   <option>aerospace</option>  
   <option>automotive</option>  
   <option>energy</option>  
   <option>icengines</option>  
   <option>wind</option>  
   <option>turbo</option>  
   <option>it</option>
   <option>training</option>  
  </select>  
 </td>  
</tr>  
<tr>  
    <td>Select sub category</td>
 <td>  
  <select name="sub">  
   <option >--Select--</option>  
   <option>internal</option>  
   <option>demo</option>  
   <option>best practice</option>  
   <option>marketing</option>  
   <option>papers & public</option>  
   <option>validation</option>  
   <option>training</option>  
  </select>  
 </td>  
</tr>  

<tr>  
 <td>Upload File</td>  
 <td><input type="file" name="file1"/></td>  
</tr> 
```

它将获取文件名以及下拉值和类型 =“文件”，文件被传输到所需的路径，但上述格式的文件已损坏（我已单独检查这些格式）。我需要所有文件存储而不会损坏。

我的小服务程序：

```
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import org.apache.commons.fileupload.FileItem;
import org.apache.commons.fileupload.disk.DiskFileItemFactory;
import org.apache.commons.fileupload.servlet.ServletFileUpload;
private String filename="";     
private String main1="";  
private String location;  
private String sub;
private File uploadFile;  
@Override
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  
try {  
PrintWriter out = response.getWriter();  

DiskFileItemFactory factory = new DiskFileItemFactory();  
ServletFileUpload fileUpload = new ServletFileUpload(factory);         
List items = fileUpload.parseRequest(request);  
Iterator ir = items.iterator();  
while(ir.hasNext()){  
FileItem item = (FileItem)ir.next();  

if(item.isFormField())
{ 

 String name = item.getFieldName();  

 if(name != null)  
 {  
 if(name.equals("userName"))
 {  
  filename = item.getString();  
 }

 else if(name.equals("main"))
 {  
  main1 = item.getString();  
 }
 else if(name.equals("sub"))
 {
     sub=item.getString();
 }
 }  
}else{  

 location = File.separator+"home"+File.separator+"adapco"+File.separator+"Desktop"+ File.separator +"output"+ File.separator +main1+File.separator+sub+File.separator+filename;
 uploadFile = new File(location);        
 long size = item.getSize();  
 if(size <= 1024*1024*1024)
 {  
  item.write(uploadFile);  
  out.println("Your File is uploaded successfully ");  
 }else{  
  out.println("Your File is not uploaded.File size should be less than 1gb");  
 }  
}  
}  
} catch (Exception e) {  
}  
}   

} 
```

# java - 开放程序的定义

> ID：10697323
> 
> 赞同：-2
> 
> 时间：2012-05-22T07:06:50.143
> 
> 标签：java, windows

操作系统：Windows 7

你能告诉我如何自动识别在后台运行的java程序，现在哪个窗口是活动的Windows？

由谷歌翻译

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T18:47:59.873

**RanRag**，感谢您的[链接](https://stackoverflow.com/questions/6391439/getting-active-window-information-in-java)

要确定哪个程序属于活动窗口，您必须：

1) 从[JNA - 下载页面下载 jna.jar 和 platform.jar](https://github.com/twall/jna/downloads)

2）将库连接到项目

3）添加代码：

```
private static class Psapi {
        static { Native.register("psapi"); }
        public static native int GetModuleBaseNameW(Pointer hProcess, Pointer hmodule, char[] lpBaseName, int size);
    }

    private static class Kernel32 {
        static { Native.register("kernel32"); }
        public static int PROCESS_QUERY_INFORMATION = 0x0400;
        public static int PROCESS_VM_READ = 0x0010;
        public static native int GetLastError();
        public static native Pointer OpenProcess(int dwDesiredAccess, boolean bInheritHandle, Pointer pointer);
    }

    private static class User32DLL {
        static { Native.register("user32"); }
        public static native int GetWindowThreadProcessId(WinDef.HWND hWnd, PointerByReference pref);
        public static native WinDef.HWND GetForegroundWindow();
        public static native int GetWindowTextW(WinDef.HWND hWnd, char[] lpString, int nMaxCount);
    }

    private static final int MAX_TITLE_LENGTH = 1024;

    public void nameApplication() {

        Psapi ps = new Psapi();
        Kernel32 kr = new Kernel32();
        User32DLL us = new User32DLL();

        char[] buffer = new char[MAX_TITLE_LENGTH * 2];
        String nameApp;

        us.GetWindowTextW(us.GetForegroundWindow(), buffer, MAX_TITLE_LENGTH);
        System.out.println("Active window title: " + Native.toString(buffer));

        PointerByReference pointer = new PointerByReference();
        us.GetWindowThreadProcessId(us.GetForegroundWindow(), pointer);
        Pointer process = kr.OpenProcess(kr.PROCESS_QUERY_INFORMATION | kr.PROCESS_VM_READ, false, pointer.getValue());
        ps.GetModuleBaseNameW(process, null, buffer, MAX_TITLE_LENGTH);
        System.out.println("Active window process: " + Native.toString(buffer););

    } 
```

# cocoa-touch - 推送通知证书生成

> ID：10697326
> 
> 赞同：0
> 
> 时间：2012-05-22T07:06:54.513
> 
> 标签：cocoa-touch, push-notification

我们成功设置并测试了沙盒推送通知证书，现在我们将测试生产证书。我们以与开发相同的方式生成它，并将苹果地址更改为正确的推送通知服务。但是，尽管我们甚至构建了用于分发的应用程序，但我们并没有以某种方式获得推动力。我还听说设备令牌应该与测试生产不同，这是什么意思？我必须在其他设备上测试吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-29T06:53:03.353

分发证书的设备令牌会有所不同，因此应用程序必须将新令牌发送到服务器（您在[didRegisterForRemoteNotificationsWithDeviceToken](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html)中收到的那个）。

还要确保您的分发 mobileprovisioning 配置文件中确实将“aps-environment”字符串设置为“production”。如果不是 - 为应用程序重新创建 mobileprovisioning 配置文件。

# c# - 具有动态列的动态列表的 Web 服务

> ID：10697330
> 
> 赞同：0
> 
> 时间：2012-05-22T07:07:16.557
> 
> 标签：c#, .net, web-services

我需要类似于 SharePoint（和 Dynamics CRM）中的列表功能，我可以在其中扩展数据库（以编程方式或从网页）并为服务生成新的 WSDL+webservice。

简化场景：创建列表“购物清单”，添加列“数量”，添加列“描述”。我现在应该能够从 Visual Studio 添加对此列表的 webervice 引用，并将其用作购物清单的硬编码 web 服务。

关于从哪里开始的任何指示？它已经存在了吗？如果它比 SharePoint 更具移动性，我会更喜欢。（是的，微软；有时我们会做不可思议的事情并迁移内容。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:14:30.203

使用[Entity Framework](http://msdn.microsoft.com/en-us/library/bb399572.aspx)和[WCF](http://msdn.microsoft.com/en-us/netframework/aa663324.aspx)，您可以轻松地为数据库发布 CRUD 接口。这也可以使用[WCF 数据服务](http://msdn.microsoft.com/en-US/library/dd728275)来完成。

# c# - 如何将焦点设置在网格的最后一行

> ID：10697334
> 
> 赞同：0
> 
> 时间：2012-05-22T07:07:57.540
> 
> 标签：c#, asp.net, .net, gridview, focus

发生网格行更新后，我需要将焦点设置在网格的最后一行。谁能帮我解决这个问题？

下面是我的gridview，

```
<asp:GridView ID="grdViewForComment" runat="server" OnRowDataBound="Row_DataBound" AutoGenerateColumns="false">
    <Columns>
        <asp:TemplateField HeaderText="Advanced search">
            <ItemTemplate>                                                         
            </ItemTemplate>
        </asp:TemplateField>
    </Columns>
</asp:GridView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T10:04:14.537

检查添加以下代码

grdViewForComment.Rows[19].Focus(); // 这里的行索引。

grdViewForComment.Rows.Count-1

# jquery - 无法读取未定义的属性“url”。jQuery 加载小部件失败

> ID：10697339
> 
> 赞同：1
> 
> 时间：2012-05-22T07:08:22.713
> 
> 标签：jquery, widget

我正在尝试在 jQuery 中构建一个小部件来处理将内容加载到页面上的某些 div。我这样做的原因是为了让我的代码保持干燥。我也许应该提到我使用 HeadJS 来加载 javascript。

这是我的小部件代码：

```
(function ($, window, document, undefined) {

    $.widget ("my.contentloader", {

        options: {

            loadingMessage: true,

            errorDiv: '#error',

            contentDiv: '#content'

        },

        _create: function () {

            $.ajax ({

                type: "POST", 

                url: self.options.url, 

                data: {limit: self.options.params.limit, offset: self.options.params.offset},

                beforeSend: function (html) {

                    // Check if loading message should be displayed

                    if (self.options.loadingMessage) {

                        $(self.options.contentDiv).html ("<div id='loading'>Loading</div>");

                    }

                },

                success: function (html) {

                    if (self.options.loadingMessage) {

                        $('#loading').remove ();

                    }

                    $(self.options.contentDiv).html (html);

                },

                error: function (html) {

                    $(self.options.errorDiv).html (html);

                }

            });

        },

        _setOption: function (key, value) {

            this.options[key] = value;

            $.Widget.prototype._setOption.apply (this, arguments);

    }

    });

})(jQuery, window, document); 
```

我在调用页面上包含了这个小部件文件和 jquery。然后我像这样使用插件：

```
 $(window).contentloader ({

  url: 'loading/content/url'

 }); 
```

问题是我收到此错误：

```
Uncaught TypeError: Cannot read property 'url' of undefined 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:16:27.133

你没有`self`在任何地方定义，所以你得到了[`window.self`](https://developer.mozilla.org/en-US/docs/Web/API/window.self)，那就是

> 对窗口对象的对象引用。

并且没有`options`属性。您应该使用`this`而不是`self`; `this`如果您需要在回调中强制执行特定操作，请执行以下操作：

```
var _this = this; // or 'var that' 
```

在定义回调和使用`_this`（或`that`）之前：

```
_create: function () {
    var _this = this;
    $.ajax ({
        // ...
        beforeSend: function (html) {
            if (_this.options.loadingMessage) {
                //... 
```

的存在是`window.self`一个`var self`糟糕的名字选择。

# javascript - Javascript中的Json MVC3对象值

> ID：10697342
> 
> 赞同：1
> 
> 时间：2012-05-22T07:08:30.377
> 
> 标签：javascript, json, asp.net-mvc-3

我正在从我的控制器发送 json 列表：

```
 public ActionResult LoadTree()
        {

            List<ListItem> list = new List<ListItem>() {
                new ListItem() { Text = "Keyvan Nayyeri" },
                new ListItem() { Text = "Simone Chiaretta" },
                new ListItem() { Text = "Scott Guthrie" },
                new ListItem() { Text = "Scott Hanselman" },
                new ListItem() { Text = "Phil Haack" },
                new ListItem() { Text = "Rob Conery" }
            };

            return new JsonResult { Data = list };
        } 
```

尝试使用以下方法在我的视图中获取列表：

```
var text =
            $.ajax({
                url: '/CourseCases/LoadTree',
                dataType: 'json',
                 data: {     },
                cache: false,
                type: 'GET',
                success: function (data) {

                }
            });
            alert(text); 
```

我只是得到[对象对象]。如何获得对象的实际值？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:13:14.777

`function $.ajax()` **不从服务器返回值**，所以`var text = $.ajax()`不会工作。您需要查看成功处理程序

```
success: function (data) {
    // data is the result of your ajax request
} 
```

我强烈建议您在[jQuery.Ajax上阅读更多内容](http://api.jquery.com/jQuery.ajax/)

> success(data, textStatus, jqXHR) 请求成功时调用的函数。该函数获得三个参数： 从服务器返回的数据，根据 dataType 参数格式化；描述状态的字符串；和 jqXHR（在 jQuery 1.4.x 中，XMLHttpRequest）对象。从 jQuery 1.5 开始，success 设置可以接受一个函数数组。每个函数都会被依次调用。这是一个 Ajax 事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:20:06.797

在成功函数中，您必须解析 json 以获取实际数据，例如

```
var jsObject = JSON.parse(data); 
```

然后访问每个项目，如 jsObject.List[0].Text 等

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:20:14.917

这里的简单问题。在您的控制器中，您实际上是将列表分配给响应数据集合中`Data` **命名的变量。**仅仅因为你的成功函数需要一个`data`参数并不意味着`Data`你在控制器中设置的值会*自动*成为`data`变量。

由于您的`Data`列表位于对象**内部**`data`：您需要执行以下操作：

```
data.Data 
```

在你的成功函数中。试试这个：

```
success: function(data) {
    alert(data.Data.length);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T14:16:01.237

首先，您必须`JsonRequestBehavior = JsonRequestBehavior.AllowGet`在`JsonResult`.

```
 public ActionResult LoadTree()
    {
      List<ListItem> list = new List<ListItem>() {
                new ListItem() { Text = "Keyvan Nayyeri" },
                new ListItem() { Text = "Simone Chiaretta" },
                new ListItem() { Text = "Scott Guthrie" },
                new ListItem() { Text = "Scott Hanselman" },
                new ListItem() { Text = "Phil Haack" },
                new ListItem() { Text = "Rob Conery" }
            };

      return new JsonResult { Data = list, JsonRequestBehavior = JsonRequestBehavior.AllowGet };
    }

    <script type="text/javascript">
      $.ajax({
        url: '/Home/LoadTree',
        dataType: 'json',
        data: {},
        cache: false,
        type: 'GET',
        success: function (data) {
          alert(data.length); // 6
          // do whatever with the data
        }
      });
    </script> 
```

# c# - 抛出额外的异常

> ID：10697346
> 
> 赞同：-3
> 
> 时间：2012-05-22T07:08:48.427
> 
> 标签：c#, exception

这是一个我在 C# 中无法弄清楚的奇怪场景：

```
try
{
    Call to database.
    If results from database are empty
          throw new Exception("No results");
}
catch(Exception ex)
{
    if (ex.Message.Equals("No results"))
        throw;
    else
        throw new Exception("Exception from database");
} 
```

正确的输出应该是：`Exception ("No results")`

然而，目前，它不断抛出 2 个异常，即`Exception("No results")`和`Exception("Exception from database")`.

更新：我尝试将'ex'作为内部异常抛出，因此' `throw new Exception("Exception from database", ex)`'。原来 ex 实际上是 ' `Exception("No results")`。

谁能向我解释为什么会这样？

谢谢！

PS：稍微调整了上面的内容。希望现在更清楚。它的“抛出”不是“返回”。对错误使用术语表示歉意。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:18:15.027

调用数据库（或处理来自数据库的结果）时出现异常。

顺便说一句，如果您在数据库中找不到某些数据，则很少有例外情况。只需返回 null 或空集合。

```
Foo GetFooById(int id)
{
   try
   {
       Call to database.
       If results from database are empty
          return null;
   }
   catch(SqlException ex)
   {   
      throw new MyDataAccessException("Cannot find foo", ex);
   }
} 
```

另一个建议 - 不要使用异常进行流量控制。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-22T07:15:17.807

我不能 100% 确定您的代码片段，但听起来您似乎有“两个”异常的原因可能是您重新抛出了原始异常。

看看这个链接，了解“throw ex”（通常情况下）和“throw”在 C# 中的区别：

[http://geekswithblogs.net/sdorman/archive/2007/08/20/Difference-between-quotthrowquot-and-quotthrow-exquot-in-.NET.aspx](http://geekswithblogs.net/sdorman/archive/2007/08/20/Difference-between-quotthrowquot-and-quotthrow-exquot-in-.NET.aspx)

# java - Twitter Streaming API：跟踪不断变化的关键字

> ID：10697349
> 
> 赞同：0
> 
> 时间：2012-05-22T07:09:06.333
> 
> 标签：java, twitter, streaming, twitter4j

我想跟踪流 API（来自 java 客户端）上不断变化的关键字，而不会在此过程中丢失推文 - 例如，如果我此时正在跟踪“keyword1，keyword2”，稍后，我想配置流 api 来跟踪说..'keyword1，keyword2，keyword3'。这给上下文增加了一些问题：

1.  Keyword3 是新添加的，所以这需要我删除现有的流连接，并使用新的关键字重新打开一个。
2.  重新连接意味着我会丢失一些关于关键字 1、关键字 2 的推文——我知道我可以使用[count](https://dev.twitter.com/docs/streaming-apis/parameters#track)关键字来检索丢失的推文（但这需要提升访问权限）。

所以，这是我在这种情况下的问题：

1.  是否可以在不重新连接的情况下跟踪新关键字？可能打开一个新的流连接（不认为 twitter 允许来自同一个 IP？），开始跟踪新连接并终止旧连接？
2.  如果我没有高级访问权限，我该如何找回丢失的推文？
3.  比如说，我有更高的访问权限，我会收到“keyword1，keyword2”丢失的推文，还是 Twitter 会因为关键字已经改变而无法给我丢失的推文？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T15:28:30.090

我相信文档说您应该使用这个新关键字打开一个新连接，并在连接后立即断开前一个连接。如果这样做正确，您不应该在此过程中丢失任何推文。

# multithreading - 有向图中循环检测的多线程算法

> ID：10697355
> 
> 赞同：11
> 
> 时间：2012-05-22T07:09:37.990
> 
> 标签：multithreading, algorithm, graph, graph-algorithm

我正在寻找一种并发算法，它可以帮助我检测有向图中的循环。

我知道顺序算法使用带有着色的 dfs，但是我认为它在多线程环境中会失败。一个有向图的例子来说明它：

A->(B, C), B-> (D), D-> (E), C-> (E), E-> (F)

```
 A
                        / \
                       B   C
                       |   |
                       D   |
                        \ /
                         E
                         |
                         F 
```

（我希望上面说清楚。图中的边都是从上到下的）

对于上述有向图，在并发执行过程中可以进行以下执行。

（我假设的配色方案是白色 - 未访问，灰色 - 未完成 dfs 执行和黑色 - 完成执行和访问）

线程 1 的 Dfs(B)，最终将 E 着色为灰色并执行 dfs(E)（导致 F）。在这完成之前，线程 2 执行 dfs(C)。它意识到 E 是灰色的，并报告了一个显然不是这种情况的循环。

我检查了 Tarjan 的算法也可以用于循环检测，但我再次认为它在多线程环境中的执行不会是正确的。

有人可以帮我解决这个问题吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T09:03:55.377

正如 Ira 所说，让每个线程使用自己的颜色。

但是，如果您有固定数量的线程，请为每种颜色使用位图。只要您的处理器支持原子位测试和设置（即 x86 上的 BTST），您就不需要锁定事件，因为每个线程都将测试和设置不同的位。

如果设置了该位，则该项目为灰色。

PS：如果您需要更多颜色，则可以使用更多位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-11T14:10:58.487

对于多线程循环检测，最好使用 Kahn 算法的变体（用于拓扑排序）而不是 DFS。这使用了以下事实：

1) 如果一个有向图是无环的，那么它至少有一个没有入边的顶点，并且至少有一个没有出边的顶点；

2）没有入边或出边的顶点不能参与循环；所以

3）如果您删除一个没有入边或出边的顶点，您将得到一个较小的有向图，其循环与原始图相同。

因此，要进行并行循环检测，您可以：

1）首先，使用并行 BFS 构建一个数据结构，跟踪每个顶点的入度和出度。

2）然后，并行地删除入度或出度为 0 的顶点。请注意，删除顶点将减少相邻节点的入度或出度。

3）当您没有要删除的顶点时，您将剩下所有涉及循环的顶点。如果没有，那么原始图是非循环的。

并行 BFS（步骤 1）和并行顶点移除（步骤 2）都可以通过并行工作队列轻松完成。在步骤 1 中，当您第一次看到一个顶点时，将一个任务添加到处理相邻顶点的队列中。在第 2 步中，当您将顶点的入度或出度减为 0 时，添加一个任务以将其从图中移除。

*请注意，如果您只删除入度为 0 的节点或*出度为 0 的节点，此算法同样有效，但并行性的机会会有所减少。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T09:59:55.973

您应该很容易找到解决循环检测问题的分布式死锁检测算法。

我知道分布式并不完全是多线程，但你仍然应该在那里找到提示。

编辑：添加了一个受限的解决方案。

# blackberry - 获取相机捕获的图像并创建位图图像

> ID：10697357
> 
> 赞同：0
> 
> 时间：2012-05-22T07:09:48.473
> 
> 标签：blackberry

原生相机应用程序退出后如何获取相机捕获的图像？

如何从现有的 SD 卡 Jpeg 图像创建位图图像？

我想将此位图添加到屏幕上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:27:29.210

```
ButtonField btn_Take_Pic = new ButtonField("Take a pic",Field.FIELD_HCENTER|FOCUSABLE)
        {
            protected boolean navigationClick(int status, int time) {
                // TODO Auto-generated method stub

                InvokeCameraScreen screen = new InvokeCameraScreen(CaptureImage.this);
                screen.addCam(); 

                UiApplication.getUiApplication().invokeLater (new Runnable() {
                    public void run()
                    {
                        //Perform screen changes here.

                        //Calling invalidate() on your screen forces the paint
                        //method to be called.
                        CaptureImage deal_Screen = new CaptureImage();
                        deal_Screen.invalidate();
                    }
                });

                return true;
            }

        }; 
```

**添加 ImagePath() 方法的正文部分**

```
 public void ImagePath(String path) {
    try
    {
        Img_path = path;

EncodedImage.createEncodedImage(imgarr,0,imgarr.length);

        Bitmap setimage = resizeBitmap(getBitmapFromFile(info.getImg_Path()),(int) (ScreenWidth *0.20),(int) (ScreenHeight *0.20));
        Img_Field.setBitmap(setimage);

    }
    catch (Exception e) {
        // TODO: handle exception
        Dialog.alert("Ex path: " + e.toString());
    }
} 
```

**实现 ImagePath 接口**

```
public interface ImagePath {

public void ImagePath(String path);
}

public class InvokeCameraScreen implements FileSystemJournalListener {
private long lastUSN;
private String resultData, imagepath;
private VerticalFieldManager addToSCreen;
private boolean isAlreadeyExcuted = true;
private byte[] imageData;
private ImagePath pathImage;

public InvokeCameraScreen(ImagePath path) {
    this.pathImage = path;
}

public void addCam() {
    isAlreadeyExcuted = true;
    getAddToSCreen().deleteAll();
    startCam();
}

private void startCam() {
    lastUSN = FileSystemJournal.getNextUSN();
    UiApplication.getUiApplication().addFileSystemJournalListener(this);
    try {
        UiApplication.getUiApplication().invokeLater(new Runnable() {
            public void run() {
                Invoke.invokeApplication(Invoke.APP_TYPE_CAMERA,
                        new CameraArguments());

            }
        });
    } catch (Exception e) {
        System.out.println("CheckinFormScreen Exception: " + e.toString());
    }
}

private void closeCamera() {
    System.out.println("Closing Cam");
    EventInjector.KeyEvent inject = new EventInjector.KeyEvent(
            EventInjector.KeyEvent.KEY_DOWN, Characters.ESCAPE, 0, 25);
    inject.post();
    try {
        Thread.sleep(500);
    } catch (Exception e) {
    }
    UiApplication.getUiApplication().removeFileSystemJournalListener(this);
    System.out.println("Done with closing cam");

}

public byte[] getImageData() {
    return imageData;
}

public void setImageData(byte[] imageData) {
    this.imageData = imageData;
}

public String getImagepath() {
    return imagepath;
}

public void setImagepath(String imagepath) {
    this.imagepath = imagepath;
}

public void fileJournalChanged() {
    try {
        closeCamera();
    } catch (Exception e) {
    }
    long USN = FileSystemJournal.getNextUSN();
    for (long i = USN - 1; i >= lastUSN && i < USN; --i) {
        FileSystemJournalEntry entry = FileSystemJournal.getEntry(i);
        if (entry == null) {
            break;
        }
        if (entry.getEvent() == FileSystemJournalEntry.FILE_ADDED) {
            String path = entry.getPath();
            if (path != null && path.indexOf(".jpg") != -1) {
                if (isAlreadeyExcuted) {
                    isAlreadeyExcuted = false;
                    resultData = "file://" + path;
                    pathImage.ImagePath(resultData);
                    // ShowUploadImage(resultData);
                    EventInjector.KeyEvent inject = new EventInjector.KeyEvent(
                            EventInjector.KeyEvent.KEY_DOWN,
                            Characters.ESCAPE, 0, 25);
                    inject.post();
                    inject.post();
                    if (Display.getWidth() == 480
                            && Display.getHeight() == 360
                            || Display.getWidth() == 360
                            && Display.getHeight() == 480) {
                        try {
                            Thread.sleep(500);
                            inject.post();
                        } catch (Exception e) {
                        }
                    }
                }
            }
            return;
        }
    }
}

public VerticalFieldManager getAddToSCreen() {
    if (addToSCreen == null) {
        addToSCreen = new VerticalFieldManager();
        addToSCreen.setPadding(10, 10, 10, 10);
    }
    return addToSCreen;
}

public void setAddToSCreen(VerticalFieldManager addToSCreen) {
    this.addToSCreen = addToSCreen;
}

private void ShowUploadImage(String path) {
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:29:13.300

尝试这个，

```
CAll Below Class Like:
      EncodedImage result = NcCamera.getInstance().getPictureTaken(); 
```

// 这是您可以在其中获取相机图像的类。

```
import java.io.OutputStream;

import javax.microedition.io.Connector;
import javax.microedition.io.file.FileConnection;
import javax.microedition.media.Manager;
import javax.microedition.media.Player;
import javax.microedition.media.control.VideoControl;

import net.rim.device.api.system.Bitmap;
import net.rim.device.api.system.EncodedImage;
import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.Graphics;
import net.rim.device.api.ui.Screen;
import net.rim.device.api.ui.UiApplication;
import net.rim.device.api.ui.component.LabelField;
import net.rim.device.api.ui.container.MainScreen;
import net.rim.device.api.ui.container.VerticalFieldManager;

public class NcCamera extends MainScreen 
{
    private VideoControl videoControl;
    private Field videoField;
    public static EncodedImage pictureTaken = null;
    private boolean initialized = false;
    private boolean result;

    public static boolean CAPTURING_DONE = true;
    public static boolean CAPTURING_CANCELED = false;

    private VerticalFieldManager main;
    private static NcCamera instance;
    CommonFunction cmn_fun;
    public static byte[] raw;

    public NcCamera() 
    {
        super(NO_VERTICAL_SCROLL);
        main = new VerticalFieldManager(USE_ALL_WIDTH | USE_ALL_HEIGHT) 
        {
            // I wan't to force the backgound to black
            public void paintBackground(Graphics g) 
            {
                g.setBackgroundColor(0x000000);
                g.clear();
            }
        };
        super.add(main);
    }
    public void add(Field field) 
    {
        main.add(field);
    }

    public EncodedImage getPictureTaken() 
    {
        return pictureTaken;
    }

    public Screen getThisScreen()
    {
        return this;
    }

    public void reset() 
    {
        pictureTaken = null;
        result = CAPTURING_CANCELED;
    }

    public boolean showDialog() 
    {
        result = CAPTURING_CANCELED;
        UiApplication.getUiApplication().invokeAndWait(new Runnable() 
        {
            public void run() 
            {
                UiApplication.getUiApplication().pushModalScreen(getThisScreen());
                if (pictureTaken != null) 
                    result = CAPTURING_DONE;
            }
        });
        return result;
    }

    public static NcCamera getInstance() 
    {
        if (instance == null) 
            instance = new NcCamera();
        return instance;
    }

    public void onDisplay() {
        if (!initialized) 
        {
            initializeCamera();
            if (videoField!=null) add(videoField);
            else {
                LabelField sorry = new LabelField("Sorry, we cannot use camera right now.") {
                    // I need to force the label to be white colored to be visible above
                    // it's underlying manager (that is black).
                    public void paint(Graphics g) {
                        int color = g.getColor();
                        g.setColor(0xffffff);
                        super.paint(g);
                        g.setColor(color);
                    }
                };
                add(sorry);
            }
            initialized = true;
        }
    }

    private void initializeCamera() 
    {
        try {
            // Create a player for the Blackberry's camera
            Player player = Manager.createPlayer("capture://video?encoding=jpeg&width=1024&height=768");

            // Set the player to the REALIZED state (see Player javadoc)
            player.realize();

            videoControl = (VideoControl) player.getControl("VideoControl");

            if (videoControl != null) 
            {
                videoField = (Field) videoControl.initDisplayMode(
                        VideoControl.USE_GUI_PRIMITIVE,
                        "net.rim.device.api.ui.Field");
                videoControl.setDisplayFullScreen(true);
                videoControl.setVisible(true);
            }

            player.start();
        } catch (Exception e) 
        {
        }
    }

    protected boolean invokeAction(int action) 
    {
        boolean handled = super.invokeAction(action);

        if (!handled)
        {
            switch (action) 
            {
            case ACTION_INVOKE: // Trackball click
            {
                takePicture();
                return true;
            }
            }
        }
        return handled;
    }

    public void takePicture()
    {       
        try {
            // Retrieve the raw image from the VideoControl and
            // create a screen to display the image to the user.
            raw = videoControl.getSnapshot(null);       

            //  SaveImageSdcard(raw);

            Bitmap img= Bitmap.createBitmapFromBytes(raw, 0, raw.length,3); 
            Constants.PICTURE_TAKEN=cmn_fun.resizeBitmap(img, 150, 150);

            // save the picture taken into pictureTaken variable
            pictureTaken = EncodedImage.createEncodedImage(raw, 0, raw.length);
            result = CAPTURING_DONE;

            close();
        } catch (Exception e) 
        {
        }
    }

    }

    public boolean keyDown(int keycode,
            int time) {
        if (keycode == 1769472) 
        { // escape pressed
            reset();
            close();
            return true;
        }
        return super.keyDown(keycode, time);
    }

} 
```

# java - Android - 获取时钟应用程序中设置的所有闹钟？（可能有多个第三方时钟应用程序）

> ID：10697360
> 
> 赞同：0
> 
> 时间：2012-05-22T07:09:52.513
> 
> 标签：java, android, android-4.0-ice-cream-sandwich, android-alarms, android-2.3-gingerbread

我想编写应用程序来显示我设备中设置的所有警报和计时器。

让我们以这种情况为例， **假设**：在我的设备中有一个系统时钟应用程序，我下载了 2 个第三方时钟应用程序。

现在可以说，我在系统时钟应用程序中设置了 3 个闹钟，并为其他第三方应用程序设置了 2 个闹钟。所以现在我总共设置了 7 (3+2+2) 个警报。我想要在我的单个应用程序中列出所有这些警报。我如何获得这份清单？我在警报管理器中搜索但没有帮助。请帮忙。先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:18:45.027

AlarmManager 不能帮助您完成此任务 - 它只是使开发人员能够以给定的时间间隔安排不同的任务（并且也重复）。

您需要检查单个应用程序是否确实通过使用[ContentProvider](http://developer.android.com/guide/topics/providers/content-providers.html)来共享它们的信息。如果是这种情况，您将能够获取他们的数据。

遗憾的是，没有统一的方法。

# c# - C# 正则表达式 - 拆分和保留拆分器

> ID：10697363
> 
> 赞同：0
> 
> 时间：2012-05-22T07:10:15.760
> 
> 标签：c#, regex, lookahead

相关： [https ://stackoverflow.com/a/2910549/194031](https://stackoverflow.com/a/2910549/194031)

我有一个像这样的字符串：

```
"abc defgh <!inc(C:\my files\abc.txt)!>kdi kdkd<!inc(C:\my files\abc.txt)!>" 
```

我想得到：

```
["abc defgh ", "C:\my files\abc.txt", "kdi kdkd", "C:\my files\abc.txt"] 
```

还有，我不想

```
"abc <!inc(C:\my files\abc.txt adf" (missing end bracket) 
```

分裂。

基于相关的问题和其他类似的答案，我需要使用前瞻，但我无法弄清楚如何在完成删除标签并且如果部分标签丢失时不拆分时使用它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:22:15.720

这可能会帮助您入门。您可能需要对其进行更多调整。

```
Regex.Split("...", @"<!inc\((?=.*?\)!>)|(?<=<!inc\(.*?)\)!>"); 
```

表达式分解

```
<!inc\(
(?=.*?\)!>)    // this is the positive lookahead to make sure that the string ')!>`
               // exists before counting this as a match
|
(?<=<!inc\(.*?) // positive look behind to make sure '<!inc(' shows up before
\)!> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:34:31.973

这是你的正则表达式

```
<!inc\((?=[^)]+\)!>)|(?<=<!inc\([^)]+)\)!> 
```

`<!inc(`当且仅当它具有匹配项时，它才会拆分（并删除）`)!>`（反之亦然）。

# javascript - 我们如何计算使用 javascript 在 asp.net 中的网格视图中选中的复选框的数量？

> ID：10697364
> 
> 赞同：1
> 
> 时间：2012-05-22T07:10:17.940
> 
> 标签：javascript, asp.net, asp.net-mvc-3

我在一次采访中问了这个问题。在 asp.net 中，我们如何检查编号。使用 javascript 的复选框。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:14:56.520

```
alert($('input:checked[type=checkbox]').length); 
```

这将在页面中显示选中复选框的数量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:51:51.540

通过使用 jquery，您可以通过此获取 html 页面上的复选框数量

```
alert($('input:checkbox').length); 
```

或者通过使用下面的jquery代码来确定完整的图片

```
var totalNoOfChkBoxes = 0;
var NoOfCheckedchkBoxes = 0;
var NoOfUnCheckedChkBoxes = 0;
$('input:checkbox').each(function () {
  if ($(this).is(':checkbox')) {
    totalNoOfChkBoxes += 1;
    if($(this).attr('value') == "on")
      NoOfCheckedchkBoxes += 1;
    else
      NoOfUnCheckedChkBoxes += 1;
   }
});
alert(totalNoOfChkBoxes);
alert(NoOfCheckedchkBoxes);
alert(NoOfUnCheckedChkBoxes); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T08:12:04.310

```
var inputs = document.getElementsByTagName("input"); 
var cbs = []; //will contain all checkboxes   
var checked = []; //will contain all checked checkboxes  
for (var i = 0; i < inputs.length; i++) {     
     if (inputs[i].type == "checkbox") {  
         cbs.push(inputs[i]);  
         if (inputs[i].checked) {  
             checked.push(inputs[i]);  
         }     
     }  
}   
var nbCbs = cbs.length; //number of checkboxes   
var nbChecked = checked.length; //number of checked checkboxes 
```

# ruby-on-rails - 登录后重定向到上一个 URL - Rails

> ID：10697373
> 
> 赞同：5
> 
> 时间：2012-05-22T07:11:21.170
> 
> 标签：ruby-on-rails, authentication

对于我正在编写的应用程序，我使用的是简单的手工验证（如 Railscast.com 上所述）。使用 Ryan Bates 的 NiftyGenerators gem 中的一些代码，我有一个身份验证模型，其中包含一些有用的身份验证方法。该模块包含在`application_controller.rb`.

我想使用的方法之一是调用`redirect_to_target_or_default`. 我知道这是我需要将用户重定向到他们通过身份验证后所在的页面，但我不知道应该在哪里调用此方法？如果有人能给我一个关于如何使用这种方法的想法，我将不胜感激。

**ControllerAuthenticaion 模块代码**

```
module ControllerAuthentication
  # Makes these methods helper methods in the controller that includes this module.
  def self.included(controller)
    controller.send :helper_method,
      :current_admin, :logged_in?,
      :redirect_to_target_or_default
  end 

  def current_admin
    @current_admin ||= Admin.find(session[:admin_id]) if session[:admin_id]
  end

  def logged_in?
    current_admin
  end

  def login_required
    unless logged_in?
      store_target_location
      redirect_to login_url,
        :alert => "You must first log in before accessing this page."
    end
  end 
  def redirect_to_target_or_default(default, *args)
    redirect_to(session[:return_to] || default, *args)
    session[:return_to] = nil
  end 
  def redirect_to_or_default(target, *args)
    redirect_to(target || default, *args)
  end 
  def store_target_location
    session[:return_to] = request.url
  end
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:27:43.350

您是否在 Ryan 的 gem 中运行了生成器？它应该已经为您生成了一个 SessionController（请参阅[链接](https://github.com/ryanb/nifty-generators/blob/master/rails_generators/nifty_authentication/templates/sessions_controller.rb)），其中还包含以下方法：

```
def create
  @session = Session.new(params[:session])
  if @session.save
    flash[:notice] = "Logged in successfully."
    redirect_to_target_or_default(root_url)
  else
    render :action => 'new'
  end
end 
```

我认为您可以在阅读此代码时了解如何使用它。:)

# svn - 拥有 Tortoise SVN 的在线存储库

> ID：10697389
> 
> 赞同：0
> 
> 时间：2012-05-22T07:12:35.273
> 
> 标签：svn, tortoisesvn

我想创建一个在线 SVN 存储库，以便一旦我在该存储库上提交代码，我就可以通过 Internet 从任何地方访问它。对此的任何帮助将不胜感激..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-22T07:23:06.127

有两种方法可以解决。

## 使用在线 svn 存储库

[这](https://www.whoishostingthis.com/compare/subversion/)是在线 svn 托管站点的一个很好的比较。

一个建议是 [https://riouxsvn.com/](https://riouxsvn.com/)

* * *

## 在您的托管解决方案上设置存储库

1.  [使用 svnadmin 命令行创建它](http://civicactions.com/blog/2010/may/25/how_set_svn_repository_7_simple_steps)。
2.  [使用 tortoisesvn 创建一个存储库](http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-repository.html)。

# java - Java 中是否有任何用于高性能 varint 和 varlong 的策略（或库）？

> ID：10697391
> 
> 赞同：1
> 
> 时间：2012-05-22T07:12:38.563
> 
> 标签：java

目前，我正在使用`DataOutput.writeLong(long)`. 这样做的问题很明显：在很多情况下多头会非常小。我想知道性能最高的 varint 实现是什么？我已经从协议缓冲区中看到了策略，并在随机长数据上进行了测试（这可能不是要测试的正确分布），我看到了相当大的性能下降（大约慢了 3-4 倍）。这是可以预料的吗？有没有什么好的策略可以在节省空间的同时尽快序列化多头？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:34:37.557

协议缓冲区编码实际上非常好，但对随机多头没有帮助 - 如果您的多头可能是小的正数或负数（假设 95% 的时间在 +/- 1000 范围内），它最有用.

此范围内的数字通常会被编码为 1、2 或 3 个字节，而普通 long 为 8 个字节。尝试在大量 long 上使用这种输入，通常可以节省 50-70% 的空间。

当然，计算这种编码有一些性能开销，但如果你使用它进行序列化，那么 CPU 时间无论如何都不会成为你的瓶颈——所以你可以有效地忽略编码成本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:17:49.173

使用标准`DataOutput`格式进行序列化和使用通用压缩算法（例如`GZIPOutputStream`压缩）如何？

# backbone.js - 如何让一个视图知道另一个视图的变化？

> ID：10697403
> 
> 赞同：4
> 
> 时间：2012-05-22T07:13:19.390
> 
> 标签：backbone.js

假设您正在制作一个音乐库应用程序。

您有一个视图，其中包含流派列表，另一个视图显示所选流派的内容。当用户点击列表上的一个流派时，另一个视图中的内容应该相应地更新。

什么是最好的方法来做到这一点，以便有最小的依赖？

除了绘制单个流派的视图之外，我还没有找到任何其他地方可以聆听鼠标点击。我可以从那里发送一个事件，但是让该事件更新绘制流派内容的另一个视图的最佳方法是什么？谁应该收听该事件、流派内容视图或其集合？

编辑：我从应用程序的路由器实例化了两个视图，我确实设法通过使视图相互了解来使其工作，但这当然不是最佳的。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-22T07:46:03.007

您可以制作一个简单的模型来保存应用程序状态，您不需要任何花哨的东西，只需要一个实现常用 Backbone 事件方法的数据包：

```
var AppState  = Backbone.Model.extend({});
var app_state = new AppState(); 
```

然后流派列表视图将侦听点击事件（正如您已经拥有的）并在有人更改时在应用状态模型上设置当前流派：

```
var Genres = Backbone.View.extend({
    //...
    choose: function(ev) {
        // This would be the click handler for the genre,
        // `.html()` is just for demonstration purposes, you'd
        // probably use a data attribute in real life.
        app_state.set({genre: $(ev.target).html() });
    },
}); 
```

单个流派的视图会监听`"change:genre"`应用状态模型上的事件，并随着流派的变化做出反应：

```
var Genre = Backbone.View.extend({
    initialize: function() {
        _.bindAll(this, 'change_genre');
        app_state.on('change:genre', this.change_genre);
    },
    //...
    change_genre: function() {
        // Refill the genre display...
    }
}); 
```

演示：http: [//jsfiddle.net/ambiguous/mwBKm/1/](http://jsfiddle.net/ambiguous/mwBKm/1/)

您可以为所需的任何数据制作模型，模型是在 Backbone 中处理数据事件的便捷方式。作为一个额外的好处，这种方法使持久化应用程序状态变得相当容易：只需添加通常的 Backbone 持久性支持即可`AppState`。

* * *

如果你只需要一个简单的事件总线来推送非数据事件，你可以使用 Backbone 的[`Events`](http://backbonejs.org/#Events)方法来构建一个简单的事件聚合器：

```
app.events = _.extend({}, Backbone.Events); 
```

然后，假设你有一个全局`app`命名空间，你可以这样说：

```
app.events.on('some-event', some_function); 
```

和

```
app.events.trigger('some-event', arg1, arg2, ...); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T04:04:01.823

我见过的最好的方法是[Derick Bailey](http://lostechies.com/derickbailey/2011/07/19/references-routing-and-the-event-aggregator-coordinating-views-in-backbone-js/)提出的方法。简而言之，您可以创建一个事件聚合器，它提供一个集中的对象来引发不同视图可以订阅的事件。这个解决方案的美妙之处在于它利用了 Backbone 现有的事件系统，实现起来非常简单。

# seo - 有没有办法为提要添加微数据类型？

> ID：10697404
> 
> 赞同：0
> 
> 时间：2012-05-22T07:13:21.280
> 
> 标签：seo, feed, microdata, schema.org

我正在一个网站上显示来自 Facebook 和 Twitter 的提要。出于 SEO 的目的，我遇到了这个出色的网站[http://schema.org/](http://schema.org/)。我通读了该网站，但没有找到将微数据添加到提要的方法。

有人知道吗？还有没有更好的方法将 SEO 添加到提要？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-29T03:14:16.023

如果您在页面上显示提要条目，您将使用 HTML。如果您使用 HTML5，则可以使用 Microdata。如果您无法更改服务器端的输出，则必须使用 JavaScript 添加微数据（如果您对使用您的微数据的搜索引擎感兴趣，那么这可能不适用于大多数搜索引擎）。

如果您从页面链接到提要，它们可能是 XML（Atom、RSS 等）格式。微数据只能与 (X)HTML5 一起使用。

如果你想使用[schema.org 词汇表](http://schema.org/)，你可以使用 Microdata、RDFa Lite、JSON-LD、……。

# .net - XSD 和 XML 验证器

> ID：10697412
> 
> 赞同：0
> 
> 时间：2012-05-22T07:14:05.693
> 
> 标签：.net, xml, vb.net, xsd, validation

我构建了一个针对 XSd 验证 xml 文件的应用程序。如果在一个节点中发生错误，它会引发异常，在该异常中我只能获得行号和行位置。如何获取该节点的最大长度值。

```
 MemoryStream xml = new MemoryStream();
            string xsd;
            XmlReaderSettings settings = new XmlReaderSettings();
            settings.ValidationType = ValidationType.Schema;
            settings.Schemas.Add("", Application.StartupPath + "\\std_imaging.xsd");
            settings.ValidationEventHandler += MyValidationEventHandler;

            var v = XmlReader.Create(filename, settings);

            while (v.Read())
            {
                string a1 = v.ValueType.Name.Length.ToString();
                string name = v.NodeType + v.Name + v.ValueType + v.Value.ToString();
            }

       public void MyValidationEventHandler(object sender, ValidationEventArgs args)
       {
             schemaResult = false;
             textBox1.Text = textBox1.Text + (Environment.NewLine + args.Message +     
             Environment.NewLine +      "Location(" + args.Exception.LineNumber + 
             "," + args.Exception.LinePosition + ")" + Environment.NewLine);
       }

    this is my code. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T13:19:26.537

不久前我遇到了同样的问题，并了解到获取特定节点的架构信息并不像人们想象的那么容易。我鼓励你看看你为什么需要这些信息，以及它是否值得花时间，因为它不是一个简单的解决方案。

如果您对此以及将来有重大需求，最好的解决方案是直接使用`IXmlSchemaInfo`对象模型，以便您可以读取任何您想要的架构信息。在接受的答案中查看以下问题和此[博客文章：](http://geekswithblogs.net/.NETonMyMind/archive/2006/05/02/76957.aspx)

[在 C# 中，如何确定元素的 XSD 定义的 MaxLength](https://stackoverflow.com/q/1595838/250725)

`IXmlSchemaInfo`它向您展示了有关对象模型的大量信息。它基本上涉及大量的类型检查和强制转换。由于您使用`XmlReader`的是 ，`SchemaInfo`应该是阅读器的一部分，因此您可以获取当前节点的架构信息。

该博客向您展示了如何读取任何节点的架构信息，实际上并没有将其绑定到验证中，但是您可以轻松地将其调整为在您的验证回调方法中工作。

```
public void MyValidationEventHandler(object sender, ValidationEventArgs args)
{
    // Using `getMaxLength` method from blog code will return a list of max 
    //  lengths.  If there is more than one, you need to decide how to handle it.
    //  It would also be a good idea to add some addition null checking
    List<int> maxLengths = getMaxLength(sender as XmlReader);

    schemaResult = false;
    textBox1.Text = textBox1.Text + (Environment.NewLine + args.Message +     
        Environment.NewLine + "Location(" + args.Exception.LineNumber + 
        "," + args.Exception.LinePosition + ")" + Environment.NewLine);

} 
```

# php - 使用php从.mdb文件中提取数据到mysql数据库

> ID：10697413
> 
> 赞同：4
> 
> 时间：2012-05-22T07:14:17.503
> 
> 标签：php, mysql, yii

> **可能重复：**
> [在 Ubuntu 上从 PHP 访问 .mdb 文件](https://stackoverflow.com/questions/9291388/access-from-php-to-mdb-file-on-ubuntu)

嗨，我正在使用 php 框架 yii 开发一个网上商店。

我想上传一个 .mdb 文件到我们的系统，并从中提取数据并插入 mysql 数据库..

反正有这样做吗？

如果有人可以帮助我，那就太好了。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-22T07:26:36.250

使用数据库源名称 (DSN) 使用 odbc_connect() 函数。或者，可以使用无 DSN 连接字符串。

**无 DSN 连接**

如果没有密码，请将用户名保留为“sa”，密码为空。

```
$conn = odbc_connect("Driver={Microsoft Access Driver (*.mdb)};Dbq=$mdb_file", $user, $password); 
```

**连接 DSN**

来自 *http://www.w3schools.com/php/php_db_odbc.asp*

打开控制面板中的管理工具图标 双击里面的数据源 (ODBC) 图标。选择系统 DSN 选项卡。单击系统 DSN 选项卡中的添加。选择 Microsoft Access 驱动程序。单击完成。在下一个屏幕中，单击选择以找到数据库。为数据库提供数据源名称 (DSN)。单击确定。

```
$conn = odbc_connect($dsn_name, $user, $password); 
```

询问：

```
$res = odbc_exec($conn, "select * from table"); 
```

列出结果：

```
while( $row = odbc_fetch_array($res) ) { 
    print_r($row); 
} 
```

更多信息：[http ://www.php.net/manual/en/ref.uodbc.php](http://www.php.net/manual/en/ref.uodbc.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:19:29.233

从 mdb 读取数据到 csv

从 csv 读取并插入 mysql

# android - 尝试使用基于 2.1 SDK 的 ICS 风格的 NumberPicker？

> ID：10697414
> 
> 赞同：0
> 
> 时间：2012-05-22T07:14:23.853
> 
> 标签：android, android-widget

我正在开发一个基于 Android 2.1 的应用程序，在我的应用程序的一个页面上，需要一个数字选择器。我们知道 android 2.1 不包含 numberpicker 控件，所以我写了一个。

我需要在 Android 2.1 上显示我的 numberpicker 版本，但是 Android 4.0 中的 ICS 样式 numberpicker，为了实现这个目标，我使用了反射，当在我的代码中，我检测到当前的 Build.VERSION.SDK_INT >= 14，我反映目标平台的数字选择器，并将其动态添加到当前视图。

我的问题是，当我在 Android 4.0 平台上运行我的应用程序时，我可以反映一个 numberpicker，但是 numberpicker 样式似乎不是 ICS 样式，为什么？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T13:34:45.557

如果您有耐心，您可能会反向移植[NumberPicker 类](http://www.devdaily.com/java/jwarehouse/android/core/java/android/widget/NumberPicker.java.shtml)。除此之外，为什么要使用反射？如果您将目标 API 设置为 15，这就是您所需要的。在您的`layout`文件夹中声明您的*备用*号码选择器。在`layout-v11`（`NumberPicker`在 API 11 Honeycomb 或更高版本中可用）声明`android.widget.NumberPicker`。为每个人提供相同的 ID，并在您的 Activity 中包含以下内容：

```
private NumberPicker mNumPicker;
private SomeView mOldNumPicker;

public void onCreate(...) {
    // Use NumberPicker
    if (android.os.Build.VERSION.SDK_INT >= 11) {
        mNumPicker = findViewById(R.id.numpicker);
    } else {
        mOldNumPicker = findViewById(R.id.numpicker);
    }
} 
```

这是您不需要反射，也不会因为访问不存在的 API 而遇到任何崩溃。从这里开始，您只需检查`if (mNumPicker == null)`并`if (mOldNumPicker == null)`确定基于此调用哪些方法。还有一个[使用 Buttons 和 EditText 的 Number Picker](http://gafurbabu.wordpress.com/2012/03/29/android-number-picker-dialog/)示例。

# c# - 通用没有静态。但是如何实现呢？

> ID：10697415
> 
> 赞同：0
> 
> 时间：2012-05-22T07:14:29.080
> 
> 标签：c#, .net, oop

请检查以下代码部分（简化版）

我关心的是`ReadPath`我需要调用我正在使用的类型的 GetPath() 的类。我怎样才能做到这一点？

```
public interface IPath
{
    string GetPath();
}

public class classA: IPath
{
    string GetPath()
    {
        return "C:\";
    }
}
public class classB: IPath
{
    string GetPath()
    {
        return "D:\";
    }
}
public class ReadPath<T> where T : IPath
{        
    public List<T> ReadType()
    {
        // How to call GetPath() associated with the context type.
    }        
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T07:18:09.923

```
public interface IPath
{
    string GetPath();
}

public class classA : IPath
{
    public string GetPath()
    {
        return @"C:\";
    }
}
public class classB : IPath
{
    public string GetPath()
    {
        return @"D:\";
    }
}
public class ReadPath<T> where T : IPath, new()
{
    private IPath iPath;
    public List<T> ReadType()
    {
        iPath = new T();
        iPath.GetPath();
        //return some list of type T

    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-22T07:21:05.120

接口是基于**实例**的。因此，如果您想这样做，请传入一个实例并使用它。

但是，有一个基于类型的概念：属性：

```
[TypePath(@"C:\")]
public class classA
{
}
[TypePath(@"D:\")]
public class classB
{
}
public class ReadPath<T>
{        
    public static List<T> ReadType()
    {
        var attrib = (TypePathAttribute)Attribute.GetCustomAttribute(
              typeof(T), typeof(TypePathAttribute));
        var path = attrib.Path;
        ...
    }        
}

[AttributeUsage(AttributeTargets.Class | AttributeTargets.Struct
    | AttributeTargets.Interface | AttributeTargets.Enum,
    AllowMultiple = false, Inherited = false)]
public class TypePathAttribute : Attribute
{
    public string Path { get; private set; }
    public TypePathAttribute(string path) { Path = path; }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-22T07:19:56.337

另一个解决方案是实例成员，但您*应该*稍微更改泛型的声明：

```
public class ReadPath<T> where T : IPath, new() //default ctor presence
{       
    T mem = new T();
    public string  ReadType()
    {
        return mem.GetPath();
    }        
} 
```

并不是说我改变了返回类型，因为不清楚你将如何适应返回`string`类型`List<T>`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:21:12.790

您对 .net/c# 编程的几个不同方面感到困惑。
静态方法（你在这里甚至没有）不能通过接口定义，所以如果你对使用静态方法感兴趣，接口不会帮助你，你只能通过反射以通用的方式执行这样的方法。

您的代码有点不清楚，很难理解为什么您的 readtype 方法返回一个列表，以及您应该如何填写此列表。

# salesforce - Salesforce PHP API - 无法查询选项列表

> ID：10697421
> 
> 赞同：0
> 
> 时间：2012-05-22T07:14:45.617
> 
> 标签：salesforce

我在我的项目中使用 Salesforce API，但有趣的事情发生了，我可以查询除选项列表之外的所有字段:(

有人可以帮我吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T11:26:35.227

通过添加需要显示的字段在 xslt 中进行更改。然后它将显示您指定的所有字段

# python - 如何在 pandas python 中显示多个图表

> ID：10697423
> 
> 赞同：2
> 
> 时间：2012-05-22T07:14:56.910
> 
> 标签：python, ipython, pandas

使用 Ipython notebook 和 pandas 模块，我有一些代码可以遍历一系列并制作一些条形图（或应该这样做）。它只生成它应该生成的最后一个图表。数据是当天和广播节目筹集的资金，我想要每天的图表。我怀疑这可能是熊猫/ipython 组合问题，但我不知道如何解决。

代码是这样的：

```
print pledge[pledge.Date==k[0]].groupby('Break')['Amount'].sum().plot(kind='bar')
kcount =0;••••••••••••••••••••
for k, v in grouped.Amount.iteritems():
    if k[0] <> kcount:
        kcount=k[0]
        print k[0];
        print pledge[pledge.Date==k[0]].groupby('Break')['Amount'].sum().plot(kind='bar') 
```

我得到的输出是

```
05/02/2012 

Axes(0.125,0.125;0.775x0.775)

05/03/2012

Axes(0.125,0.125;0.775x0.775) 

05/04/2012 

Axes(0.125,0.125;0.775x0.775)

05/05/2012 

Axes(0.125,0.125;0.775x0.775) 

05/06/2012

Axes(0.125,0.125;0.775x0.775) 
```

![条形图](../Images/69698529986424e78a708cc344e8c3ec.png)

最后一次迭代的最后只有一个图表。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T18:55:02.363

这些图中的每一个都出现在同一个子图上；pandas 在第一次`plot`调用中创建一个图形，但之后由您创建更多图形和子图。尝试在每个绘图命令之前插入`plt.figure()`(cf. )。`import matplotlib.pyplot as plt`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T12:12:45.110

你不能`print`绘制对象（或者你可以，但你只看到`Axes(...)`文本）。

IPython 应该提供一个`display()`可用的函数，您可以在每个绘图上使用它来显示它。

# mysql - MYSQL SUM 双倍结果

> ID：10697430
> 
> 赞同：1
> 
> 时间：2012-05-22T07:15:24.513
> 
> 标签：mysql, sql, sum

我有以下 SQL 但`SUM`返回意外值的..我不知道如何纠正它。

SQL：

```
SELECT 
    SUM(logs.amount*ei_relationships.itemprice) as spend, 
    SUM(log_users.amount) as recharged, 
    logs.cardid, 
    count(log_users.amount) as recharges 
FROM log_users
INNER JOIN logs ON logs.cardid = log_users.cardid
INNER JOIN ei_relationships ON ei_relationships.id = logs.ei_relationship_id
WHERE ei_relationships.event_id = 2 
GROUP BY logs.cardid 
ORDER BY recharged DESC 
```

A`ei_relationship`有很多日志，也有很多`log_users`. 我尝试了不同的东西，但无法弄清楚。

# maven - Jenkins Sonar 插件在分析过程中抛出重复的源文件错误

> ID：10697431
> 
> 赞同：0
> 
> 时间：2012-05-22T07:15:33.217
> 
> 标签：maven, jenkins, sonarqube

我已经使用 MySQL 数据库设置了声纳。我的项目是一个多模块 eclipse 项目，这意味着它有多个插件。我已经使用 Maven 建立了一个 Jenkins 构建来构建这个项目，并且还安装了 Jenkins Sonar 插件来使用声纳分析代码。所有的配置似乎都是正确的。但是，当 sonar 在构建后尝试分析此项目时，它会抱怨源代码重复并且构建失败。每个 Eclipse 插件都有 Activator.java 类，Sonar 抱怨这是重复的。我已将此类从分析中排除，但 Sonar 抱怨特定插件中的类被添加为许多其他插件的依赖项。对代码的不完整分析会导致该项目的 Sonar 中出现其他问题。就像，即使该项目在 Sonar 仪表板中可见，

任何关于将我指向正确方向的意见都会非常有帮助。

请让我知道是否需要任何其他输入以更好地理解我的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:47:39.200

IMO，您可以遵循的最佳示例是我们的 Sonar Eclipse 项目：[https](https://github.com/SonarSource/sonar-eclipse) ://github.com/SonarSource/sonar-eclipse 。这也是一个多模块的 Eclipse 项目。

在这个例子中，你想看看父模块（https://github.com/SonarSource/sonar-eclipse/tree/master/org.sonar.ide.eclipse.parent），它的目标只是定义父 POM。几乎所有事情都发生在那里。

我想你应该多亏了这个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T05:38:24.230

我能够通过删除父 pom.xml 中的*测试标签来解决这个问题。*这以某种方式导致声纳抛出重复的源错误。找出根本原因是一项乏味的任务，我不得不从头开始重建 pom.xml，逐节添加。

感谢大家的帮助。

# wpf - Windows Server 2003/2008 上的 WPF 应用程序问题

> ID：10697433
> 
> 赞同：0
> 
> 时间：2012-05-22T07:15:48.020
> 
> 标签：wpf, windows-server-2008

我在 Windows Server 2008 上部署了我的 WPF 应用程序，当我开始使用它时它工作正常。但是一段时间后，我的应用程序遇到了很多问题，例如它冻结了某些窗口/控件，而某些窗口仅最小化，最大化和关闭按钮起作用，而在某些窗口中，某些控件仅起作用，请任何人帮助我离开这个的。

谢谢，@nagaraju。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-22T09:03:36.657

在服务器环境中，您应该停用硬件渲染，因为大多数服务器的 GPU 性能非常有限。请参阅[此链接](http://blogs.msdn.com/b/jgoldb/archive/2010/06/22/software-rendering-usage-in-wpf.aspx)，第 6 项，了解如何设置。请确保启用软件渲染后报告。

# android - 带“%”符号的字符串资源

> ID：10697435
> 
> 赞同：3
> 
> 时间：2012-05-22T07:15:50.263
> 
> 标签：android, resources

我有 String.xml 并执行本地化。

在字符串标记中写入内容时，我注意到在第二个“%”符号之后附加文本会引发错误。

```
<string name="result_unlikely">Improbable 20% to 50%</string>//working

<string name="result_unlikely">Improbable 20% to 50% required</string>//not working 
```

任何的想法？

**注意**：我知道我可以在运行时编写它，但如前所述，我正在实现本地化，因此使用 string.xml 会好得多

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-22T07:19:14.957

解决了。

通过添加*formatted="false"*问题解决。

```
<string name="result_unlikely" formatted="false">Improbable 20% to 50% required</string> 
```

# android - cocos2d-x 本地化简繁体中文

> ID：10697436
> 
> 赞同：4
> 
> 时间：2012-05-22T07:16:01.700
> 
> 标签：android, iphone, localization, cocos2d-iphone, cocos2d-x

我需要区分简体/繁体中文。在 iPhone 的 cocos2d 中，我只使用“hans”和“hant”。但是在 cocos2d-x 中，我深入研究了代码，这里是 CCApplication 的代码：

```
ccLanguageType ret = kLanguageEnglish;
if ([languageCode isEqualToString:@"zh"])
{
    ret = kLanguageChinese;
}
else if ([languageCode isEqualToString:@"en"])
{
    ret = kLanguageEnglish;
}
else if ([languageCode isEqualToString:@"fr"]){
    ret = kLanguageFrench;
}
else if ([languageCode isEqualToString:@"it"]){
    ret = kLanguageItalian;
}
else if ([languageCode isEqualToString:@"de"]){
    ret = kLanguageGerman;
}
else if ([languageCode isEqualToString:@"es"]){
    ret = kLanguageSpanish;
}
else if ([languageCode isEqualToString:@"ru"]){
    ret = kLanguageRussian;
}

return ret; 
```

请注意，只有中文的“zh”（可能是简体/繁体）

那么我该如何区分它们呢？

编辑：我使用 cocos2d-x 并且需要使用 android。不只是 iPhone。米奇的答案仅适用于 iPhone。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-25T09:37:11.517

我在 cocos2D helloworld 上测试了以下代码。**我可以通过zh-Hans**和**zh-Hant**来区分简体/繁体。

第1步。在 HelloWorldLayer.m 中，需要在顶部添加这一行，否则编译失败：

```
#import <Foundation/NSLocale.h> 
```

第2步。现在，您可以获得语言。例如，

```
-(id)init{
    NSString* currentLang = [[NSLocale preferredLanguages] objectAtIndex:0] ;
    NSLog(@"Language: %@", currentLang);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-28T02:14:27.083

下面是我如何修改cocos2d-x代码来区分简体和繁体中文。注意，这是针对 cocos2d-x v3.0+ 的。

对于 iOS，修改 cocos2d_libs.xcodeproj/platform/ios/CCApplication-ios.mm

```
LanguageType Application::getCurrentLanguage()
{
    // get the current language and country config
    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    NSArray *languages = [defaults objectForKey:@"AppleLanguages"];
    NSString *currentLanguage = [languages objectAtIndex:0];

    // get the current language code.(such as English is "en", Chinese is "zh" and so on)
    NSDictionary* temp = [NSLocale componentsFromLocaleIdentifier:currentLanguage];
    NSString * languageCode = [temp objectForKey:NSLocaleLanguageCode];

    LanguageType ret = LanguageType::ENGLISH;
    if ([languageCode isEqualToString:@"zh"])
    {
       /** CHANGE THE FOLLOWING LINES */
        NSString* scriptCode = [temp objectForKey:NSLocaleScriptCode];
        NSString* countryCode = [temp objectForKey:NSLocaleCountryCode];
        // On iOS, either chinese hong kong or chinese taiwan are traditional chinese.
        if ([scriptCode isEqualToString:@"Hant"] || [countryCode isEqualToString:@"HK"] || [countryCode isEqualToString:@"TW"]) {
            ret = LanguageType::CHINESE_TRADITIONAL;  // You need to add these enum values to LanguageType
        } else {
            ret = LanguageType::CHINESE_SIMPLIFIED;  // You need to add these enum values to LanguageType
        }
    }
    else if ([languageCode isEqualToString:@"en"])
    {
        ret = LanguageType::ENGLISH;
    }
.....
..... 
```

对于 Android ，修改 cocos2d/cocos/platform/android/CCApplication-android.cpp

```
LanguageType Application::getCurrentLanguage()
{
    std::string languageName = getCurrentLanguageJNI();
    const char* pLanguageName = languageName.c_str();
    const char* languageCode = getCurrentLanguageCode();
    LanguageType ret = LanguageType::ENGLISH;

    if (0 == strcmp("zh", languageCode))
    {
        /** Change the following lines */
        if (languageName.find("TW") != std::string::npos) {
            ret = LanguageType::CHINESE_TRADITIONAL;
        } else {
            ret = LanguageType::CHINESE_SIMPLIFIED;
        }
    }
    else if (0 == strcmp("en", languageCode))
    {
        ret = LanguageType::ENGLISH;
    }
    else if (0 == strcmp("fr", languageCode))
.....
..... 
```

并修改 libcocos2d/org/cocos2dx/lib/Cocos2dxHelper.java

```
public static String getCurrentLanguage() {
    // This would return language code as well as region code, e.g. zh_CN
    return Locale.getDefault().toString();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-13T09:44:35.797

您需要在 cocos2dx android jni 中进行一些更改：在**cocos2d-x-2.xx/cocos2dx/platform/android/java/src/org/cocos2dx/lib/Cocos2dxHelper.java**中，

代替

```
return Locale.getDefault().getLanguage(); 
```

和

```
return Locale.getDefault().toString(); 
```

因此，您可以在 CCApplication::getCurrentLanguage() 中获取 zh_CN、zh_TW，此外，您必须更新 CCApplication::getCurrentLanguage() 中的实现（位于 cocos2d-x-2.xx/cocos2dx/platform/android/CCApplication.cpp） ：

```
ccLanguageType CCApplication::getCurrentLanguage()
{
    std::string languageName = getCurrentLanguageJNI();
    if (languageName.find("zh_CN") == 0) {
        return kLanguageChineseCN; // need define this value by yourself
    } else if (languageName.find("zh_TW") == 0) {
        return kLanguageChineseTW; // need define this value by yourself
    } else if (languangeName.find("en") == 0) {
        return kLanguageEnglish;
    } ...

    return kLanguageEnglish;
} 
```

# asp.net - 有没有办法将资源（CPU、RAM 使用）分隔到 IIS 或 Apache 上的虚拟目录？

> ID：10697438
> 
> 赞同：0
> 
> 时间：2012-05-22T07:16:02.950
> 
> 标签：asp.net, apache, iis, tomcat, resources

我们正在使用 ASP.NET，但有时我们的应用程序会使用大量 CPU 或 RAM 资源。我想限制每个虚拟目录/网站的资源，并在达到警报级别时获得警报。

我不知道我可以为 IIS 做到这一点，但我想知道这对 apache 等其他 Web 服务器是否可行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T16:10:03.553

在 Java 中，您不能让 Java 虚拟机对某些线程强制执行 CPU 时间限制：您能做的最好的事情就是为您创建的任何线程设置线程优先级。如果没有其他工作要做，那么一个线程将尽可能多地消耗 CPU 周期，除非它阻塞了某些东西（I/O、同步监视器等）。

使用 JMX，您可以获得有关线程的一些信息，以检测一些线程失控的情况，但您不能直接控制线程允许的 CPU 时间量。

如果您愿意重新设计您的动态内容和其他服务，您可以编写它们以使它们可以支持一个“工作单元”，该“工作单元”在某种程度上低于完整请求的工作价值，然后您可以让您的请求处理线程执行一个工作单元，然后休眠适当的时间。这样做可以减少 CPU 使用率，但也肯定会显着减慢响应时间。

如果您的用户满意，那么充分利用 CPU 有什么问题吗？也许真正解决您的问题的方法是更多或更大的硬件。

# iphone - 如何在文本字段的didendedit方法（输入文本）后重新加载tableview

> ID：10697440
> 
> 赞同：0
> 
> 时间：2012-05-22T07:16:25.633
> 
> 标签：iphone, uitableview, uitextfield, reload

我有一个表格视图，它的每一行都有文本字段。

现在在 textFieldDidEndEditing 之后：（输入一些文本之后）我正在执行一些数据库操作。

所以我又想重新加载表格。

我该怎么做。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:17:35.973

在您想重新加载表格视图的地方调用此方法

```
[tableview reloadData]; 
```

# java - 我应该同步一个静态 volatile 变量吗？

> ID：10697451
> 
> 赞同：8
> 
> 时间：2012-05-22T07:17:23.853
> 
> 标签：java, thread-safety, volatile

关于这个主题有几个问题，但大多数都绕开了这个问题，因为这不是问题的意图。

如果我的班级中有一个静态易失性：

```
private static volatile MyObj obj = null; 
```

在下面的方法中我这样做：

```
public MyObj getMyObj() {
    if (obj == null) {
        obj = new MyObj();// costly initialisation
    }
    return obj;
} 
```

我需要同步以确保只有一个线程写入该字段，还是任何写入对评估`obj == null`条件的其他线程立即可见？

换句话说： volatile 是否让您不必同步对静态变量的写入访问？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-22T07:22:30.260

您肯定需要*某种*锁定来确保只有一个线程写入该字段。无论波动如何，两个线程都可以“看到”`obj`为空，然后都开始使用您当前的代码进行初始化。

就个人而言，我会采取以下三种选择之一：

*   在类加载时初始化（知道这将是懒惰的，但不像`getMyObj`第一次调用 wait until 那样懒惰）：

    ```
    private static final MyObj obj = new MyObj(); 
    ```

*   使用无条件锁定：

    ```
    private static MyObj obj;
    private static final Object objLock = new Object();

    public static MyObj getMyObj() {
        synchronized(objLock) {
            if (obj == null) {
                obj = new MyObj();
            }
            return obj;
        }
    } 
    ```

*   以这种方式使用嵌套类来实现懒惰：

    ```
    public static MyObj getMyObj() {
        return MyObjHolder.obj;
    }

    private static class MyObjHolder {
        static final MyObj obj = new MyObj();
    } 
    ```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-22T07:21:51.663

是的，您应该绝对同步（或使用更好的成语，如[*Singleton Holder 成语*](http://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom)）。否则，您将面临多个线程多次初始化您的对象的风险（然后使用不同的实例）。

考虑这样的一系列事件：

1.  线程 A 进入`getMyObj()`并看到`obj == null`
2.  线程 B 进入`getMyObj()`并看到`obj == null`
3.  线程 A 构造 a `new MyObj()`- 我们称之为`objA`
4.  线程 B 构造一个`new MyObj()`- 我们称之为`objB`
5.  线程 A 分配`objA`给`obj`
6.  线程 B 分配`objB`给`obj`（`null`此时不再存在，因此由线程 A 分配的对 的引用`objA`被覆盖）
7.  线程A退出`getMyObj()`并开始使用`objA`
8.  线程 B 退出`getMyObj()`并开始使用`objB`

这种情况可能发生在任意数量的线程上。请注意，虽然在这里，为了简单起见，我假设了事件的严格排序，但在真实的多线程环境中，事件 1-2、3-4 和/或 7-8 可以在时间上部分或全部重叠，而不会改变结尾结果。

持有人成语的一个例子：

```
public class Something {
    private Something() {
    }

    private static class LazyHolder {
        public static final Something INSTANCE = new Something();
    }

    public static Something getInstance() {
        return LazyHolder.INSTANCE;
    }
} 
```

这保证是安全的，`INSTANCE`就像`final`. Java 内存模型保证`final`在加载包含类时，字段被初始化并正确地对任意数量的线程可见。由于`LazyHolder`is`private`并且仅由 引用，因此仅在第一次调用`getInstance()`时才会加载。`getInstance()`并且此时，`INSTANCE`在后台初始化并由 JVM 安全发布。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:23:43.523

不，您仍然需要同步访问。`volatile`允许其他线程看到一个线程对变量所做的更改。

想象以下执行流程（假设有两个线程 T1 和 T2）：

1.  obj 最初为 null。
2.  T1：如果（obj == null）：是
3.  T2：如果（obj == null）：是
4.  T1：创建一个新的 MyObj 实例并将其分配给 obj
5.  T2：还创建一个新的 MyObj 实例并将其分配给 obj

您创建了两次您希望只创建一次的对象。这不是更糟糕的情况。您最终可能会返回一个不再分配给您的变量的对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:22:23.193

该代码不是线程安全的。如果多个线程执行该函数，则可以创建多个 MyObj 实例。您需要某种形式的同步。

根本问题是这个块代码：

```
if (obj == null) {
     obj = new MyObj();// costly initialisation
} 
```

不是原子的。事实上，它距离原子化还有很长的路要走。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-22T07:29:47.450

处理此问题的另一种方法是双重检查（注意：仅适用于 Java 5 或更新版本，请参阅[此处](http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html)了解详细信息）：

```
public class DoubleCheckingSingletonExample
{
    private static final Object lockObj = new Object();

    private static volatile DoubleCheckingSingletonExample instance;

    private DoubleCheckingSingletonExample()
    {
        //Initialization
    }

    public static DoubleCheckingSingletonExample getInstance()
    {
        if(instance == null)
        {
            synchronized(lockObj)
            {
                if(instance == null)
                {
                    instance = new DoubleCheckingSingletonExample();
                }
            }
        }

        return instance;
    }
} 
```

当同时从两个线程调用 getInstance 时，两者都会首先将实例视为 null，另一个进入同步块并实例化对象。另一个将看到实例不再为空，并且不会尝试实例化它。对 getInstance 的进一步调用将看到该实例不为空，并且根本不会尝试锁定。

# database - 使用 CakePHP 2.0 在数据库中存储会话

> ID：10697456
> 
> 赞同：1
> 
> 时间：2012-05-22T07:17:45.757
> 
> 标签：database, session, cakephp-2.0

我正在使用 CakePHP 2.0，并尝试将其配置为将会话存储在数据库中。

但是，我发现[官方文档](http://book.cakephp.org/2.0/en/development/sessions.html)非常不清楚。我知道我需要在 core.php 中设置以下内容：

```
<?php
Configure::write('Session', array(
    'defaults' => 'database',
    'handler' => array(
        'model' => 'CustomSession'
    )
)); 
```

我用蛋糕的模式创建了表：

```
CREATE TABLE cake_sessions (
  id varchar(255) NOT NULL default '',
  data text,
  expires int(11) default NULL,
  PRIMARY KEY  (id)
); 
```

它仍然不起作用。我需要自己创建会话模型吗？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-27T19:46:17.837

由于您已在核心文件中将模型创建为 cake_sessions，因此您需要将表命名为 cake_sessions。cake_session 是默认模型

```
<?php
Configure::write('Session', array(
    'defaults' => 'database',
    'handler' => array(
        'model' => 'cake_sessions'
    )
)); 
```

# php - 检查链接是否已经在 PHP 中发布

> ID：10697461
> 
> 赞同：-4
> 
> 时间：2012-05-22T07:17:54.650
> 
> 标签：php, twitter

我正在运行一个基于激励的推荐网站，其中一个要求是用户发布他们的推荐链接。在用户状态页面的“步骤”中，一旦他们的链接被发布，我希望“发布你的链接”的行消失，或者有一个删除线，以表明它已经完成。

那么 - 有没有办法检查链接是否已被推文，并为该行解析不同的文本/样式？

每个推荐链接都是唯一的，因此只能由该人发布。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T07:20:16.710

这一切都在[twitter API 文档](http://dev.twitter.com/)中，您应该在发布之前阅读该文档。

`http://urls.api.twitter.com/1/urls/count.json?url=`使用您要检查推文计数的 url 编码的 URI 发出请求。

# git - 在拉取期间解决 Git 合并冲突以支持其更改

> ID：10697463
> 
> 赞同：1687
> 
> 时间：2012-05-22T07:18:07.833
> 
> 标签：git, git-merge, git-merge-conflict

如何解决 git 合并冲突以支持拉取更改？

基本上我需要从工作树中删除所有冲突的更改，而不必经历所有的冲突，`git mergetool`同时保持所有无冲突的更改。最好在拉的时候这样做，而不是之后。

* * *

## 回答 #1

> 赞同：1832
> 
> 时间：2014-02-14T11:06:57.187

```
git pull -s recursive -X theirs <remoterepo or other repo> 
```

或者，简单地说，对于默认存储库：

```
git pull -X theirs 
```

[如果您已经处于冲突状态...](http://stackoverflow.com/a/33569970/93540)

```
git checkout --theirs path/to/file 
```

* * *

## 回答 #2

> 赞同：1196
> 
> 时间：2012-05-22T07:24:00.177

您可以使用递归“他们的”策略*选项*：

`git merge --strategy-option theirs`

来自[男人](http://jk.gs/git-merge.html)：

```
ours
    This option forces conflicting hunks to be auto-resolved cleanly by 
    favoring our version. Changes from the other tree that do not 
    conflict with our side are reflected to the merge result.

    This should not be confused with the ours merge strategy, which does 
    not even look at what the other tree contains at all. It discards 
    everything the other tree did, declaring our history contains all that
    happened in it.

theirs
    This is opposite of ours. 
```

注意：正如手册页所说，“我们的”合并**策略选项与“我们的”合并****策略**非常不同。

* * *

## 回答 #3

> 赞同：665
> 
> 时间：2015-11-06T15:18:44.943

如果您已经处于冲突状态，并且您只想接受他们的*所有*内容：

```
git checkout --theirs .
git add . 
```

如果你想做相反的事情：

```
git checkout --ours .
git add . 
```

这是非常激烈的，所以在做之前确保你真的想像这样清除所有东西。

* * *

## 回答 #4

> 赞同：239
> 
> 时间：2014-08-01T12:11:25.630

好的，想象一下我刚才所处的场景：

你尝试 a `merge`，或者也许 a `cherry-pick`，但你被阻止了

```
$ git cherry-pick 1023e24
error: could not apply 1023e24... [Commit Message]
hint: after resolving the conflicts, mark the corrected paths
hint: with 'git add <paths>' or 'git rm <paths>'
hint: and commit the result with 'git commit' 
```

现在，您查看了冲突的文件，并且您真的不想保留您的更改。在我上面的例子中，文件在我的 IDE 自动添加的换行符上发生冲突。要撤消您的更改并接受他们的更改，最简单的方法是：

```
git checkout --theirs path/to/the/conflicted_file.php
git add path/to/the/conflicted_file.php 
```

与此相反（用您的版本覆盖传入的版本）是

```
git checkout --ours path/to/the/conflicted_file.php
git add path/to/the/conflicted_file.php 
```

令人惊讶的是，我无法在网上很容易地找到这个答案。

* * *

## 回答 #5

> 赞同：51
> 
> 时间：2018-01-23T11:00:32.130

答案可能会创建一个丑陋的`git pull -X theirs`合并提交，或者发出一个

> 错误：您对以下文件的本地更改将被合并覆盖：

如果您想简单地忽略对来自 repo 的文件的任何本地修改，例如在应该始终是源镜像的客户端上，请运行此命令（替换`master`为您想要的分支）：

```
git fetch && git reset --hard origin/master 
```

它是如何工作的？[`git fetch`有`git pull`但没有合并](https://stackoverflow.com/questions/292357/what-is-the-difference-between-git-pull-and-git-fetch?rq=1)。然后[`git reset --hard`](https://stackoverflow.com/questions/2530060/can-you-explain-what-git-reset-does-in-plain-english)使您的工作树与最后一次提交匹配。您对 repo 中文件的所有本地更改都将被[丢弃](https://git-scm.com/docs/git-reset#git-reset---hard)，但新的本地文件将被单独保留。

* * *

## 回答 #6

> 赞同：26
> 
> 时间：2020-05-30T02:54:03.820

如果您已经处于冲突状态，并且不想一一签出路径。你可以试试

```
git merge --abort
git pull -X theirs 
```

* * *

## 回答 #7

> 赞同：22
> 
> 时间：2015-07-14T17:43:32.530

要解决与特定分支中的版本的所有冲突：

```
git diff --name-only --diff-filter=U | xargs git checkout ${branchName} 
```

因此，如果您已经处于合并状态，并且您希望保留冲突文件的主版本：

```
git diff --name-only --diff-filter=U | xargs git checkout master 
```

* * *

## 回答 #8

> 赞同：22
> 
> 时间：2017-04-27T08:47:26.197

请注意，有时这**不起作用**：

> git checkout --我们的路径/到/文件

或者

> git checkout --他们的路径/到/文件

我这样做了，假设**HEAD 是我们的**，而**MERGE_HEAD 是他们的**

```
git checkout HEAD -- path/to/file 
```

或者：

```
git checkout MERGE_HEAD -- path/to/file 
```

在我们这样做之后，我们很好：

```
git add . 
```

如果您想了解更多，请在此处查看 torek 的精彩帖子： [git checkout --ours does not remove files from unmerged files list](https://stackoverflow.com/questions/39438168/git-checkout-ours-does-not-remove-files-from-unmerged-files-list)

* * *

## 回答 #9

> 赞同：22
> 
> 时间：2018-11-01T16:17:51.170

**VS Code（集成 Git）IDE 用户：**

如果要接受***冲突文件中的所有传入更改，***请执行以下步骤。

```
1\. Go to command palette - Ctrl + Shift + P
2\. Select the option - Merge Conflict: Accept All Incoming 
```

同样，您可以对其他选项进行操作，例如**Accept All Both、Accept All Current 等，**

* * *

## 回答 #10

> 赞同：8
> 
> 时间：2021-07-23T10:58:00.270

`git checkout --ours/theirs`不完全解决冲突。它从任一`ours/theirs`.

假设我们有一个文件`foo`，其中包含两个提交/分支/树/任何内容的更改。如果他们引入了冲突以及修改，并且我们想使用`ours`-- 解决冲突，那么 using`checkout --ours foo`将丢弃引入冲突的更改，以及修改。

# 使用 SED

## 使用他们的解决方案：

`sed -i -e '/^<<<<<<</,/^=======/d' -e '/^>>>>>>>/d' foo`

*   `-i`就地修改文件，
*   `/^<<<<<<</,/^=======/d`删除`<<<<<<<`和`=======`（我们的）之间的所有内容
*   `/^>>>>>>>/d`删除剩余的冲突标记
*   `-e`为 SED 指定多个模式
*   `foo`文件

## 使用我们的解决方案：

`sed -i -e '/^<<<<<<</d' -e '/^=======/,/^>>>>>>>/d' foo`

我制作了一个可以调用的[脚本](https://gist.github.com/CervEdin/42661710f5b8c897c3775543360fe238)`git resolve -o/-t/-b`。

## 创建自定义合并工具

您可以创建自定义合并工具。在上述`sed`脚本的基础上，您可以在您的`git-config`:

```
[mergetool "ours"]
    cmd = "sed -i -e '/^<<<<<<</d' -e '/^=======/,/^>>>>>>>/d' -- $MERGED" 
```

并称之为`git mergetool --tool=ours`

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2019-12-28T17:19:52.080

我有一个长期运行的`next-version`分支，其中删除了大量已更改的`develop`文件，已在两个分支的不同位置添加的文件等。

我想将`next-version`分支的全部内容放入`develop`一个巨大的合并提交中。

对我有用的上述命令的组合是：

```
git merge -X theirs next-version
# lots of files left that were modified on develop but deleted on next-version
git checkout next-version .
# files removed, now add the deletions to the commit
git add .
# still have files that were added on develop; in my case they are all in web/
git rm -r web 
```

这不是一个新的答案，只是结合了许多答案中的一些部分，部分是为了确保您可能需要*所有*这些答案。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2017-10-05T17:29:38.850

> 来自[https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging](https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging)
> 
> 这基本上会做一个假合并。它将以两个分支作为父分支记录一个新的合并提交，但它甚至不会查看您正在合并的分支。它只会将合并的结果记录为当前分支中的确切代码。
> 
> ```
> $ git merge -s ours mundo 
> ```
> 
> 由“我们的”战略进行的合并。
> 
> ```
> $ git diff HEAD HEAD~ 
> ```
> 
> 可以看到我们所在的分支和合并的结果没有区别。
> 
> 这通常很有用，可以基本上诱使 Git 在稍后进行合并时认为分支已经合并。例如，假设您从一个发布分支分支出来，并且已经完成了一些工作，您希望在某个时候合并回您的主分支。同时，需要将 master 上的一些错误修复移植到您的发布分支中。您可以将错误修复分支合并到发布分支中，也可以将相同的分支合并到您的主分支中（即使修复已经存在），因此当您稍后再次合并发布分支时，错误修复不会发生冲突。

如果我希望 master 反映新主题分支的更改，我发现这种情况很有用。我注意到 -Xtheirs 在某些情况下不会在没有冲突的情况下合并......例如

```
$ git merge -Xtheirs topicFoo 

CONFLICT (modify/delete): js/search.js deleted in HEAD and modified in topicFoo. Version topicFoo of js/search.js left in tree. 
```

在这种情况下，我找到的解决方案是

```
$ git checkout topicFoo 
```

来自 topicFoo，首先使用 -s ours 策略合并到 master 中，这将创建只是 topicFoo 状态的假提交。$ git merge -s 我们的主人

检查创建的合并提交

```
$ git log 
```

现在签出主分支

```
$ git checkout master 
```

合并主题分支，但这次使用 -Xtheirs 递归策略，这将为您呈现一个主分支，其状态为 topicFoo。

```
$ git merge -X theirs topicFoo 
```

# iphone - 异步图像加载

> ID：10697465
> 
> 赞同：0
> 
> 时间：2012-05-22T07:18:10.340
> 
> 标签：iphone, uitableview, ios5

我正在异步下载表格中的图像。当表格第一次出现时，不会调用 connecion:didrecieveData 但是当我向上或向下移动时，它会被调用并显示图像。好心的帮助

表视图类：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"Cell";

    customiseForVideos *cell =(customiseForVideos *) [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        [[NSBundle mainBundle] loadNibNamed:@"customiseForVideos" owner:self options:nil];
        cell=tblCell;
    }
    else{
        AsyncImageView* oldImage = (AsyncImageView*)
        [cell.contentView viewWithTag:999];
        [oldImage removeFromSuperview];

    }
    [cell.imageActivity startAnimating];

    CGRect frame;
    frame.size.width=65; frame.size.height=70;
    frame.origin.x=24; frame.origin.y=12;
    AsyncImageView* asyncImage = [[[AsyncImageView alloc]
                                   initWithFrame:frame] autorelease];
    asyncImage.tag = 999;
    NSURL* url = [NSURL URLWithString:[[videoCollection objectAtIndex:indexPath.row] videoImageUrl]];
        //NSLog(@"%@",url);
    [asyncImage loadImageFromURL:url activity:cell.imageActivity];

    [cell.contentView addSubview:asyncImage];

    if((indexPath.row%2)==0)
        cell.backgroundView = [[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"green-cell-row.png"]] autorelease];
    else{
        cell.backgroundView = [[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"blue-cell-row.png"]] autorelease];
    }
    return cell;
} 
```

AsyncImageView 类：

```
- (void)loadImageFromURL:(NSURL*)url activity:(UIActivityIndicatorView *)cellActivity {
    activityOnCell=cellActivity;
    activityOnCell.hidden=NO;
    if (self.connection!=nil) { [self.connection release]; } //in case we are downloading a 2nd image
    if (data!=nil) { [data release]; }

    NSURLRequest* request = [NSURLRequest requestWithURL:url cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:60.0];
    self.connection = [[NSURLConnection alloc] initWithRequest:request delegate:self]; //notice how delegate set to self object
    NSLog(@"%@",request);
        //TODO error handling, what if connection is nil?
}

//the URL connection calls this repeatedly as data arrives
- (void)connection:(NSURLConnection *)theConnection didReceiveData:(NSData *)incrementalData {
    if (data==nil) { data = [[NSMutableData alloc] initWithCapacity:2048]; } 
    [data appendData:incrementalData];
}

//the URL connection calls this once all the data has downloaded
- (void)connectionDidFinishLoading:(NSURLConnection*)theConnection {
    //so self data now has the complete image 
    [self.connection release];
    self.connection=nil;
    if ([[self subviews] count]>0) {
        //then this must be another image, the old one is still in subviews
        [[[self subviews] objectAtIndex:0] removeFromSuperview]; //so remove it (releases it also)
    }

    //make an image view for the image
    UIImageView* imageView = [[[UIImageView alloc] initWithImage:[UIImage imageWithData:data]] autorelease];
    //make sizing choices based on your needs, experiment with these. maybe not all the calls below are needed.
    imageView.contentMode = UIViewContentModeScaleAspectFit;
    imageView.autoresizingMask = ( UIViewAutoresizingFlexibleWidth || UIViewAutoresizingFlexibleHeight );
    [self addSubview:imageView];
    imageView.frame = self.bounds;
    [imageView setNeedsLayout];
    [self setNeedsLayout];
    activityOnCell.hidden=YES;

    [data release]; //don't need this any more, its in the UIImageView now
    data=nil;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:26:27.950

将图像加载到 TableView 中是一个常见问题。如此之多，以至于解决方案有所下降。您最好使用其中之一，然后尝试设计自己的。您将节省大量时间，通常会找到优化的解决方案，如果您需要更多功能，您可以随时进行子类化。

每次出现新图像时重新加载表格并不是最好的解决方案。当您重新加载时，如果用户正在滚动，他会失去他的位置。

使用[https://github.com/AFNetworking/AFNetworking](https://github.com/AFNetworking/AFNetworking)

这是做你需要的事情是多么容易。

```
UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0.0f, 0.0f, 100.0f, 100.0f)];

[imageView setImageWithURL:[NSURL URLWithString:@"http://i.imgur.com/r4uwx.jpg"] placeholderImage:[UIImage imageNamed:@"placeholder-avatar"]]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:22:53.290

收到图像后，您不会重新加载 tableview。采用

```
[mtableView reloadData]; 
```

在连接完成加载。如果它不是tableview所在的同一个类，那么创建另一个方法并放置重新加载表并通过委托从其他类调用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:30:38.820

有一个很棒的 3rd 方包，可以在一行代码中为您完成所有工作： [https](https://github.com/rs/SDWebImage) ://github.com/rs/SDWebImage 。

您需要做的就是导入此类别 ( `#import "UIImageView+WebCache.h"`)

然后`- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{}` **你应该用一种简单的方法设置单元格的图像：**

```
 [cell.imageView setImageWithURL:url placeholderImage:[UIImage imageNamed:@"noPic.png"]]; 
```

你完成了:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:50:52.650

使用 NSCache 临时存储图片，使用 url 作为 key，使用 NSData 作为 value。

并在 cellforRowAtIndexPath 方法中从 NSCache 对象获取值并将其分配给 imageview。它会停止闪烁并可见。

# android - 是否存在“锁定屏幕上的错误密码”操作意图？

> ID：10697466
> 
> 赞同：3
> 
> 时间：2012-05-22T07:18:12.417
> 
> 标签：android, android-intent, lockscreen

如果用户在 Android 锁定屏幕（系统锁定屏幕 - 不是我自己的应用程序中的锁定屏幕）上输入错误密码，我正在寻找一种获取通知的方法。在这种情况下是否存在被解雇的现有意图？

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T11:57:56.013

> 如果用户在 Android 锁定屏幕（系统锁定屏幕 - 不是我自己的应用程序中的锁定屏幕）上输入错误密码，我正在寻找一种获取通知的方法。在这种情况下是否存在被解雇的现有意图？

如果您`DeviceAdminReceiver`使用设备管理 API 实现了一个，它将使用[`onPasswordFailed()`](http://goo.gl/s8vUc).

* * *

## 回答 #2

> 赞同：-5
> 
> 时间：2012-05-22T07:32:06.170

您可以在 android 应用程序中创建自己的对话框来显示错误消息。下面是代码：

```
AlertDialog alertDialog = new AlertDialog.Builder(LoginActivity.this).create();
                        // Setting Dialog Title
                        alertDialog.setTitle("Error");
                        // Setting Dialog Message
                        alertDialog.setMessage("Not A User");
                        // Setting Icon to Dialog
                        alertDialog.setIcon(R.drawable.inputerror);
                        // Setting OK Button
                        alertDialog.setButton("OK",new DialogInterface.OnClickListener() 
                        {
                            public void onClick(DialogInterface dialog, int which) 
                            {
                                // Write your code here to execute after dialog
                                // closed
                                Toast.makeText(getApplicationContext(),"Not A Valid User", Toast.LENGTH_SHORT).show();
                            }
                        });
                        // Showing Alert Message
                        alertDialog.show();
                        return; 
```

# java - 使用 jar 命令创建 war 文件无法正常工作

> ID：10697472
> 
> 赞同：4
> 
> 时间：2012-05-22T07:18:37.487
> 
> 标签：java, jetty, war

大家好，我使用以下命令从我的spring项目中生成war文件。

```
D:\projectsample\webContent>jar cvf projectsample.war 
```

战争文件正在生成，但是当我使用 jettyrunner.jar 部署它时，它没有部署。我注意到在战争文件中没有类文件在 WEB-INF\class 文件夹中生成。任何人都可以建议我一个解决方案对于这个问题。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-22T07:27:33.130

“jar”命令不会创建 .class 文件，它是用于创建包的。所以你必须先编译源文件，然后使用 jar 命令。

此外，您可能需要将要包含的文件添加为参数，例如

```
jar cvf myapp.war * 
```

添加所有文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-25T13:16:05.717

如何在 Java 中创建 i.war

1.安装JDK

2.在环境中设置JAVA_HOME

3.cmd = >

4.`c:\user> Cd D:\apex_listener`

5.`D:\apex_listener> jar -cvf0 D:\apex_listener\i.war -C Y:\APPLICATION_EXPERESS\apex_4.2.2_en\apex\images .`

# imap - 使用 IMAP 传输完整数据（子文件夹） - PHP 电子邮件迁移

> ID：10697474
> 
> 赞同：0
> 
> 时间：2012-05-22T07:18:43.763
> 
> 标签：imap

我想将全部数据（所有子文件夹）从一个 imap 服务器传输到另一个，而不会丢失任何数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-05T10:58:46.003

正如 vpetersson 所提到的，它不太适合 PHP 部分，因为使用任何 imap 客户端软件也可以轻松地将电子邮件从一个 Imap 迁移到另一个 Imap 服务器，例如，Microsoft Outlook、Mozilla Thunderbird、Apple Mail 客户端和很快。你怎么能做到这一点很简单。如果您需要迁移的电子邮件帐户数量有限，这里是 Mozilla Thunderbird 的示例工作流程，您也可以在任何其他客户端上遵循相同的流程。

1.  创建一个新的 Imap 帐户，并将其命名为 Source。[确保选择 IMAP 作为协议而不是 POP]
2.  以可以连接到当前源 Imap 服务器的方式对其进行配置，并且根据该帐户中的电子邮件量和网络速度，同步所有电子邮件可能需要一段时间。
3.  同步完成后，为目标服务器创建一个新帐户，将其命名为 Target，并将其配置为 IMAP。
4.  目标帐户显然是空的，现在只需将所有文件夹从源帐户复制到目标帐户。
5.  Thunderbird 将处理所有的复制过程，并且它会自动将所有邮件上传到新服务器（作为 IMAP 帐户的默认行为）一旦完成，您将在两台服务器上完整克隆您的电子邮件帐户。

或者，如果您必须在 PHP 中执行此操作，可能是因为您有数百个电子邮件帐户并且使用上述方法不实用，请按照以下步骤操作。

你也可以使用 PHP_Imap 库，但如果你可以控制你的服务器，我会推荐使用 PEAR 的 Net_IMAP 库，它在 php statdard IMAP 库中缺少一些功能。

1.  为所有帐户和每个帐户编写一个 for 循环
2.  连接到服务器

    $imapServer = new Net_IMAP($emailHost, 143); $loggedIn = $imapServer->login($loginName , $password); if($loggedIn == true){ //代码放在这里 }

3.  查找所有文件夹

    $mBoxes = $imapServer->getMailboxes('', 0, true);

4.  对于每个文件夹

    $mBox = $imapServer->selectMailbox($folderName);

5.  查找所有消息

    $msgsList = $imapServer->getMessagesList();

6.  获取原始消息。

    foreach($msgUid){ $fullRawMail = $imapServer->getMessages($msgUid,false); }

7.  连接到目标服务器

8.  检查目标服务器是否与源服务器具有相同的文件夹，如果没有则创建一个文件夹

9.  将原始消息上传到目标服务器 [特定文件夹]。你可以使用 php 的 imap_append 函数。

    imap_append($ImapStream, $folderName, $fullRawMail , "\Seen");

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T21:14:45.600

我不确定您所说的“PHP 电子邮件迁移”是什么意思，因为我不明白 PHP 如何融入这个等式。

也就是说，有一些 MAP 迁移工具可以完成您所描述的内容。我是一个名为[YippieMove](http://www.yippiemove.com)的产品的联合创始人，它可以做到这一点，但也有其他开源替代品，比如[imapsync](http://freecode.com/projects/imapsync)。如果您花一些时间在 Google 上，您会发现更多选择。

# objective-c - 子视图中的 Push Segue

> ID：10697476
> 
> 赞同：2
> 
> 时间：2012-05-22T07:18:46.720
> 
> 标签：objective-c, xcode, ipad

是否有可能在子视图内发生推送转场？

我有一个 ipad 应用程序，左下角有一个小子视图。是否可以只在我的子视图范围内进行推送？

我现在正在尝试，但是当我进行转场时，它会在整个屏幕上显示destinationVC。

有人对如何做到这一点有任何想法吗？

我在堆栈溢出中也找不到类似的问题，可能是因为我没有正确的词...

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-22T13:40:30.070

```
UIViewController *obj = [[UIViewController alloc] init];
UINavigationController *viewCtrl = [[UINavigationController alloc] initWithRootViewController:obj];

[subview addSubView:viewCtrl.view];
NewViewController *objww = [[NewViewController alloc] init];
[viewCtrl pushViewController:objww animated:YES];
[objww release]; 
```

你可以试试这个，做任何需要改变的事情。`NewViewController`是您要推送的推送视图控制器。

# javascript - 当我单击锚标记时，jquery 就绪函数执行两次

> ID：10697477
> 
> 赞同：0
> 
> 时间：2012-05-22T07:18:53.577
> 
> 标签：javascript, jquery, html

我的代码如下：当我点击锚标签时，下面解释的函数执行了两次。我应该添加什么？还是我错过了什么？？？

```
$(document).ready(function () {
    $("a").bind('click', function (ev) {
        if ($(this).attr('title') == "delete_data") {
            _operation($(this).attr('title'), $(this).attr('id'));
        } else {
            // url to open page  
            if ($(this).attr('title') == "view_data") {
                if (childWindow) childWindow.close();
                childWindow = window.open( /*option to open window*/ );
            } else {
                if (childWindow) childWindow.close();
                childWindow = window.open( /*option to open window*/ );
            }
        }
        return false;
    });
    return false;
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:26:00.523

在我看来你想要

```
$(document).ready(function() {
  $("a").click(function(ev){         
    if($(this).attr('title') == "delete_data"){       
      _operation($(this).attr('title'),$(this).attr('id'));   
    }
    else {
      var url = ($(this).attr('title') == "view_data")?"url1":"url2"; 
      if(childWindow) childWindow.close();
      childWindow = window.open(url);            
   }                     
   return false;
  }); 
}); 
```

# svn - 用maven包含SVN中的文件版本信息

> ID：10697478
> 
> 赞同：1
> 
> 时间：2012-05-22T07:18:55.223
> 
> 标签：svn, cvs

> **可能重复：**
> [设置了@version $Id$ 的SVN Checkout](https://stackoverflow.com/questions/4835780/svn-checkout-with-version-id-set)

我们计划从 CVS 迁移到 SVN。在 CVS 中，我们使用以下 Annotations 来维护版本历史。

```
@since 0.0.1-SNAPSHOT // File revision assigned my maven 
@version $Id: <user check-in the file with time stamp> $ // Tells last user modified the file. 
```

使用 Maven 更新版本，我们将更新每个版本的快照版本。

```
mvn --batch-mode release:update-versions -DdevelopmentVersion=1.2.0-SNAPSHOT 
```

如何使用 Maven 维护文件的版本号和最近从 SVN 修改文件的用户。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:53:32.087

您可以使用[此处](http://www.startupcto.com/server-tech/subversion/setting-the-id-tag)描述的属性来执行此操作。

# iphone - 苹果存档错误

> ID：10697479
> 
> 赞同：0
> 
> 时间：2012-05-22T07:18:57.040
> 
> 标签：iphone

我正在尝试通过 xcode 中的存档将我的应用程序上传到苹果，但我遇到了这些问题：

1）iPhone/iPod touch：Info.plist：无法验证图标尺寸，未找到图标。您必须定义 CFBundleIcons、CFBundleIconsFiles、CFBundleIconFile，或提供一个默认的 Icon.png，即 57x57

2) 无法从您的应用程序中提取代码签名权利。请确保 myappname-prefix.pchmynameapp 是经过正确代码签名的有效匹配可执行文件。

我将 2 个图标和屏幕截图（视网膜和非视网膜）拖到框中，但我不知道如何解决它。还有其他问题我不知道如何解决。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:24:00.177

您必须在 plist 中指定 Icon.png 和 Icon@2x.png。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:26:45.940

第一个是您没有为您的应用程序设置图标，或者指定的图标不是给定的格式。请参阅此处有关图标的详细信息

[http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/Introduction/Introduction.html](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/Introduction/Introduction.html)

第二个是您的个人资料与您的应用程序不匹配。即您的捆绑标识符与您在配置文件中指定的应用程序名称不匹配。有关详细信息，请参阅此链接

[http://developer.apple.com/library/ios/#DOCUMENTATION/NetworkingInternet/Conceptual/RemoteNotificationsPG/ProvisioningDevelopment/ProvisioningDevelopment.html](http://developer.apple.com/library/ios/#DOCUMENTATION/NetworkingInternet/Conceptual/RemoteNotificationsPG/ProvisioningDevelopment/ProvisioningDevelopment.html)

# iphone - 我们如何使用触摸将 UIImageView 旋转 360 度？

> ID：10697481
> 
> 赞同：-3
> 
> 时间：2012-05-22T07:19:06.837
> 
> 标签：iphone, objective-c, ipad, ios5

我需要一个代码将 UIImageView 旋转 360 度，即时钟方向或反时钟方向，具体取决于触摸。

如果用户触摸 90 度角，则图像应仅旋转 90 度。就像我需要处理 90,180,270 和 360 度角。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:36:45.137

please find angle with the help of y2-y1/x2-x1 formula

tap the finger on screen then you can get touch point there. so it is x2,y2

and the center of the imageview is x1,y1

on touches end put this line in code.

```
[imageView setTransform:CGAffineTransformMakeRotation(degree*(M_PI/180.0f))]; 
```

it will work for sure.

# java - 如何使用 JAVA 从字符串中获取一个子字符串的特定值？

> ID：10697485
> 
> 赞同：0
> 
> 时间：2012-05-22T07:19:21.667
> 
> 标签：java, substring

我有一个字符串字段，格式为：

```
"TransactionID=30000001197169 ExecutionStatus=6
        additionalCurrency=KMK
    pin= 0000" 
```

所以他们没有分开一些；оr ，即使有一个空格，它们也不会被分隔。

我想获得执行状态的价值并将其放在某个字段中？如何做到这一点？

感谢帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:36:47.197

这行得通。但我不确定这是最优化的。它只是解决了你的问题。

```
 String s = "TransactionID=30000001197169ExecutionStatus=6additionalCurrency=KMKpin=0000";
    if(s!=null && s.contains("ExecutionStatus="))
    {
        String s1[] = s.split("ExecutionStatus=");
        if(s1!=null &&  s1.length>1)
        {
            String line = s1[1];
            String pattern = "[0-9]+";

              // Create a Pattern object
              Pattern r = Pattern.compile(pattern);

              // Now create matcher object.
              Matcher m = r.matcher(line);
              if (m.find( )) {
                 System.out.println("Match");
                 System.out.println("Found value: " + m.group(0) );

              } else {
                 System.out.println("NO MATCH");
              }
        }
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:21:20.887

检查是否`contains()` `ExecutionStatus=`

如果是，则将字符串拆分为`ExecutionStatus=`

现在从`array`找到第一次出现的非数字字符中获取第二个字符串并使用`substring()`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-22T07:32:12.410

在您的示例中，它们确实由空格分隔，但以下内容也应该在没有空格的情况下工作。假设您的字符串存储在`String arguments`

```
String executionStatus;
String[] anArray = arguments.split("=");
for (int i; i < anArray.length; i++)
    if (anArray[i].contains("ExecutionStatus")){
        executionStatus = anArray[++i].replace("additionalCurrency","");
        executionStatus = executionStatus.trim();
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-22T07:45:40.513

假设您的字符串中存在所有空格，则此方法有效。

```
String str = "\"TransactionID=30000001197169 ExecutionStatus=6\n" +
        "        additionalCurrency=\"KMK\"\n" +
        "    pin= \"0000\"\"";
int start = str.indexOf("ExecutionStatus=") + "ExecutionStatus=".length();
int status = 0;

if (start >= 0) {
    String strStatus = str.substring(start, str.indexOf("additionalCurrency=") - 1);
    try {
        status = Integer.parseInt(strStatus.trim());
    } catch (NumberFormatException e) {
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-22T08:31:12.350

冒着吸引“……现在你有两个问题！”的风险。评论，这可能是使用正则表达式最容易完成的（str 是上面定义的字符串）：

```
Pattern p = Pattern.compile("ExecutionStatus\\s*=\\s*(\\d+)"); // Whitespace matching around equals for safety, capturing group around the digits of the status)
Matcher m = p.matcher(str);
String status = m.find() ? m.group(1) : null; 
```

# c++ - 数字末尾的 L 有什么作用？

> ID：10697487
> 
> 赞同：5
> 
> 时间：2012-05-22T07:19:26.150
> 
> 标签：c++, long-integer

例如：

```
int one = 20;
int two = 20L;

cout << "one: " << one << " two: " << two << endl;
// one: 20 two: 20

cout << "one: " << sizeof(one) << " two: " << sizeof(two) << endl;
// one: 4 two: 4 
```

# java - 从控制台读取输出并在java中的XML文件中打印

> ID：10697493
> 
> 赞同：0
> 
> 时间：2012-05-22T07:19:55.550
> 
> 标签：java, xml

> **可能重复：**
> [我如何将 Java 控制台输出读入字符串缓冲区](https://stackoverflow.com/questions/4334808/how-could-i-read-java-console-output-into-a-string-buffer)

我知道如何读取用户的输入并将其放在 XML 文件中。示例如下：来自[http://www.mkyong.com/java/how-to-create-xml-file-in-java-dom/](http://www.mkyong.com/java/how-to-create-xml-file-in-java-dom/)

```
import java.io.File;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerException;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;

import org.w3c.dom.Attr;
import org.w3c.dom.Document;
import org.w3c.dom.Element;

public class WriteXMLFile {

    public static void main(String argv[]) {

      try {

        DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();
        DocumentBuilder docBuilder = docFactory.newDocumentBuilder();

        // root elements
        Document doc = docBuilder.newDocument();
        Element rootElement = doc.createElement("company");
        doc.appendChild(rootElement);

        // staff elements
        Element staff = doc.createElement("Staff");
        rootElement.appendChild(staff);

        // set attribute to staff element
        Attr attr = doc.createAttribute("id");
        attr.setValue("1");
        staff.setAttributeNode(attr);

        // shorten way
        // staff.setAttribute("id", "1");

        // firstname elements
        Element firstname = doc.createElement("firstname");
        firstname.appendChild(doc.createTextNode("yong"));
        staff.appendChild(firstname);

        // lastname elements
        Element lastname = doc.createElement("lastname");
        lastname.appendChild(doc.createTextNode("mook kim"));
        staff.appendChild(lastname);

        // nickname elements
        Element nickname = doc.createElement("nickname");
        nickname.appendChild(doc.createTextNode("mkyong"));
        staff.appendChild(nickname);

        // salary elements
        Element salary = doc.createElement("salary");
        salary.appendChild(doc.createTextNode("100000"));
        staff.appendChild(salary);

        // write the content into xml file
        TransformerFactory transformerFactory = TransformerFactory.newInstance();
        Transformer transformer = transformerFactory.newTransformer();
        DOMSource source = new DOMSource(doc);
        StreamResult result = new StreamResult(new File("C:\\file.xml"));

        // Output to console for testing
        // StreamResult result = new StreamResult(System.out);

        transformer.transform(source, result);

        System.out.println("File saved!");

      } catch (ParserConfigurationException pce) {
        pce.printStackTrace();
      } catch (TransformerException tfe) {
        tfe.printStackTrace();
      }
    }
} 
```

但我的问题是如何从 java 中的控制台读取输出并将其打印到指定的 XML 文件中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:26:20.367

我不确定“从控制台读取输出”到底是什么意思，但您可以使用[http://docs.oracle.com/javase/6/docs/api/java/lang/拦截对 System.out 的调用System.html#setOut%28java.io.PrintStream%29](http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#setOut%28java.io.PrintStream%29)。
如果您详细说明您要做什么，我可以更具体。

# wcf - Windows 共享文件夹 Vers WCF 或 TCP 服务器

> ID：10697502
> 
> 赞同：1
> 
> 时间：2012-05-22T07:20:31.103
> 
> 标签：wcf, tcp, directory, shared

我正在构建一个监视系统，Windows 客户端计算机必须将结果发送回服务器。目前，服务器有一个共享文件夹作为队列，客户端只需将其结果作为文件复制到共享文件夹中，供服务器读取。使用 WCF 或 TCP 而不是共享文件夹这样做有什么好处吗？（它不需要跨域或防火墙工作）

瑞克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:22:50.900

> 这样做有什么好处吗

你必须反过来问。使用文件共享是否有任何问题？如果没有，它没有坏，所以不要修理它。

# r - ggplot中的多个异常值-> alpha to outlier.color

> ID：10697504
> 
> 赞同：4
> 
> 时间：2012-05-22T07:20:39.653
> 
> 标签：r, alpha, boxplot

我想将箱线图中的异常点设置为半透明在[这里！](https://stackoverflow.com/questions/3010403/jitter-if-multiple-outliers-in-ggplot2-boxplot)他们使用“jitter”（类似的想法，不同的方法）

我的代码

```
ggplot() + 
geom_boxplot(aes(x = Sistema, y=values, linetype = Sistema), 
             data=estacado, outlier.size=1, outlier.shape=2) + 
coord_flip() + 
labs(x="Sistema", y=expression(paste("RMSD ",(ring(A))))) +
opts(legend.position="none") 
```

我的数据

```
>head(estacado)
    values   ind Sistema
1 0.310214 r24_a     R24
2 0.428232 r24_a     R24
3 0.460971 r24_a     R24
4 0.482923 r24_a     R24
5 0.492656 r24_a     R24
6 0.515591 r24_a     R24
> tail(estacado)
          values   ind Sistema
4999995 1.723030 g24_e     G24
4999996 1.718444 g24_e     G24
4999997 1.720745 g24_e     G24
4999998 1.737137 g24_e     G24
4999999 1.733106 g24_e     G24
5000000 1.738487 g24_e     G24 
```

[http://dl.dropbox.com/u/19202810/Rplot01.png http://dl.dropbox.com/u/19202810/Rplot01.png](http://dl.dropbox.com/u/19202810/Rplot01.png)

在提到的链接中，他们修改了功能`geom_boxplot`；我希望更简单`outlier.colour= alpha("black", 1/2)`的事情，但这会产生错误：

```
Error in do.call("layer", list(mapping = mapping, data = data, stat = stat,  : 
  could not find function "alpha" 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T18:34:32.077

从`ggplot2`0.9.0 版开始，该`alpha`功能已移至（当时是新的）`scales`包中。要使用它，您需要包括

```
library("scales") 
```

此外

```
library("ggplot2") 
```

在你的脚本中。

# ios - 如何创建第二个应用程序 iphone/ipad 并发布？

> ID：10697505
> 
> 赞同：-3
> 
> 时间：2012-05-22T07:20:49.013
> 
> 标签：ios, provisioning

当我已经有一个通过 iTunes Connect 发布的 iphone/ipad 应用程序时，如果我想为 iphone/ipad 制作和发布一个新的应用程序，我应该怎么做？我是否需要创建新的应用 ID 和配置文件？

对不起，如果我的问题和其他问题一样，只是我很困惑，想要一个详细的解释。对不起我的英语不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:37:58.667

Yes, you need a unique App ID for every app you publish, and the provisioning profile must use that app ID.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:42:01.453

你应该：

1.  编码您的应用程序。
2.  在 Provisioning Portal App ID 中制作。
3.  在 Provisioning Portal 分发配置文件中创建。
4.  下载分发配置文件并将其安装到您的 Xcode。
5.  使用您的分发配置文件构建和签署您的应用程序。
6.  在 iTunes Connect 中创建应用程序配置文件。
7.  上传到您的应用配置文件所需的艺术品和您的应用。
8.  等待 Apple 审核您的应用。
9.  取决于审查：
    *   应用审核成功 - 利润。
    *   应用审核失败 - 修改您的应用并重复步骤 5、7 和 8。

# oracle - 数据在另一个/同一会话中提交，无法更新行（Oracle SQL Developer）

> ID：10697507
> 
> 赞同：24
> 
> 时间：2012-05-22T07:21:02.180
> 
> 标签：oracle, oracle-sqldeveloper

当我尝试通过网格更新记录时，我偶尔会收到此错误。

```
One error saving changes to table "SCHEMA"."TABLENAME":
Row 3: Data got committed in another/same session, cannot update row. 
```

查看了OTN，但尚未给出解决方案。

试图禁用选项**在行更改时发布编辑**但仍然没有运气。

有一个通过 SQL 工作表将字段设置为**NULL**的已知解决方案，但这肯定很痛苦。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-05-22T07:55:28.283

可能是您的表是使用 NOROWDEPENDENCIES 创建的，因此关闭了行级依赖项跟踪，并且 SQL Developer 被配置为“将 ORA_ROWSCN 用于 DataEditor 插入和更新语句”。

要么取消选中 ORA_ROWSCN 选项，要么使用 ROWDEPENDENCIES 重新创建表。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-12T10:01:49.253

只需简单地运行简单的更新命令并将您的 cplmn 设置为 null。然后尝试更新你的真实价值。它肯定会奏效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-29T00:52:45.093

“保存对表“SCHEMA”的更改时出错。“TABLENAME”：第 XX 行：数据在另一个/同一会话中提交，无法更新行。”

在多行中提交更改时，SQL 开发人员收到此错误，但在提交单行时没有。

我固定去：

工具菜单 -> 首选项 -> 数据库 -> ObjectViewer

并检查：“在行更改时发布编辑”

但是，每次我导航到另一行都需要一些时间（我正在处理的数据库不到一秒）。对于我从其他帖子中可以理解的内容，每次我更改行时，我的会话中的远程数据库都会被更新（但不是所有会话）。但是，要提交到所有会话，需要显式提交。

同时，正如其他人建议的那样，我尝试：

工具菜单 -> 首选项 -> 数据库 -> ObjectViewer

取消选中“将 ORA_ROWSCN 用于 DataEditor 插入和更新语句”选项（也不要选中：“在行更改时发布编辑”）

这也有效，但速度更快。它猜测现在更新只是本地的。每次我导航到另一行时，远程数据库都不会更新。需要提交更新远程数据库，但现在没有错误。

我读到这个解决方案并不适用于所有人。在我的情况下，它适用于：

SQL 开发者版本：17.4.1.054，内部版本 054.0712

ODAC 12.2c 第 1 版和适用于 Visual Studio (12.2.0.1.0)（32 位）的 Oracle 开发人员工具 ( [http://www.oracle.com/technetwork/topics/dotnet/utilsoft-086879.html](http://www.oracle.com/technetwork/topics/dotnet/utilsoft-086879.html) )

远程数据库服务器版本：Oracle Database 11g Release 11.2.0.1.0 - 64bit Production

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-10-02T02:44:05.563

我在运行存储过程时也遇到了这个问题。我的解决方案符合上述答案。在将我想要的行更新为我想要的值之前，我添加了一个更新行，它首先将列更新为空。然后，以下行将该列更新为我想要的值。除了取消选中 ORA_ROWSCN 框外，我还这样做了。

UPDATE TEST_LOCATION SET STATUS = NULL WHERE FULL_NAME = SITE_FULL_NAME;

UPDATE TEST_LOCATION SET STATUS = CAST(STATUS_IN AS INTEGER) WHERE FULL_NAME = SITE_FULL_NAME;

# c# - 访问所选项目的可观察集合中的项目

> ID：10697513
> 
> 赞同：0
> 
> 时间：2012-05-22T07:21:37.233
> 
> 标签：c#, wpf, binding, treeview, observablecollection

我有一个使用 hiarchialdatabinding 由可观察集合填充的 WPF TreeView 我需要访问可观察集合中的项目或用于填充它的数据库。一个示例用例是用户右键单击树视图项以添加子组。我显然需要访问它的父母来添加孩子。有什么建议么？我好失落。。

我不能只编辑树视图项目本身，因为然后更改不会反映回我的数据库

数据库代码：

```
[Serializable]
public class LoginGroup
{
    public string Name { get; set; }
    public Guid ID { get; set; }
    public List<Login> LoginItems = new List<Login>();
    public List<LoginGroup> Children { get; set; }
}

public static ObservableCollection<LoginGroup> _GroupCollection = new  ObservableCollection<LoginGroup>();

public ObservableCollection<LoginGroup> GroupCollection
{
    get { return _GroupCollection; }
} 
```

树视图：

```
<TreeView x:Name="groupView" Width="211" TreeViewItem.Selected="OnTreeItemSelected" DockPanel.Dock="Left" Height="Auto" ItemsSource="{Binding GroupCollection}" >
    <TreeView.ItemTemplate>
        <HierarchicalDataTemplate ItemsSource="{Binding Path=Children}">
            <TextBlock Text="{Binding Path=Name}" />
        </HierarchicalDataTemplate>
    </TreeView.ItemTemplate>
</TreeView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:35:11.130

您可以将其`SelectedItem`转换为`LoginGroup`：

```
LoginGroup selectedGroup = (LoginGroup)groupView.SelectedItem; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:39:51.033

您应该使用 TreeView 的 ItemContainer 样式。
这是示例 TreeNode 视图模型：

```
public class TreeNode : ViewModel
{
    public TreeNode()
    {
        this.children = new ObservableCollection<TreeNode>();

        // the magic goes here
        this.addChildCommand = new RelayCommand(obj => AddNewChild());
    }

    private void AddNewChild()
    {
        // create new child instance
        var child = new TreeNode 
        { 
            Name = "This is a new child node.",
            IsSelected = true // new child should be selected
        };

        // add it to collection
        children.Add(child);

        // expand this node, we want to look at the new child node
        IsExpanded = true;
    }

    public String Name
    {
        get { return name; }
        set
        {
            if (name != value)
            {
                name = value;
                OnPropertyChanged("Name");
            }
        }
    }
    private String name;

    public Boolean IsSelected
    {
        get { return isSelected; }
        set
        {
            if (isSelected != value)
            {
                isSelected = value;
                OnPropertyChanged("IsSelected");
            }
        }
    }
    private Boolean isSelected;

    public Boolean IsExpanded
    {
        get { return isExpanded; }
        set
        {
            if (isExpanded != value)
            {
                isExpanded = value;
                OnPropertyChanged("IsExpanded");
            }
        }
    }
    private Boolean isExpanded;

    public ObservableCollection<TreeNode> Children
    {
        get { return children; } 
    }
    private ObservableCollection<TreeNode> children;

    public ICommand AddChildCommand
    {
        get { return addChildCommand; }
    }
    private RelayCommand addChildCommand;
} 
```

一些评论：

*   ViewModel 是 INotifyPropertyChanged 接口的任何基本实现。
*   RelayCommand（又名 DelegateCommand）是用于 MVVM 方法的 ICommand 实现。

这是视图：

```
<Window x:Class="WpfApplication1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525">
    <TreeView ItemsSource="{Binding}">
        <TreeView.ItemContainerStyle>
            <!-- Let's glue our view models with the view! -->
            <Style TargetType="{x:Type TreeViewItem}">
                <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
                <Setter Property="IsExpanded" Value="{Binding IsExpanded, Mode=TwoWay}" />
                <Setter Property="ContextMenu">
                    <Setter.Value>
                        <ContextMenu>
                            <!-- Here's menu item, which is responsible for adding new child node -->
                            <MenuItem Header="Add child..." Command="{Binding AddChildCommand}" />
                        </ContextMenu>
                    </Setter.Value>
                </Setter>
            </Style>
        </TreeView.ItemContainerStyle>
        <TreeView.ItemTemplate>
            <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                <TextBlock Text="{Binding Name}"/>
            </HierarchicalDataTemplate>
        </TreeView.ItemTemplate>
    </TreeView>
</Window> 
```

...和示例数据上下文初始化：

```
 public MainWindow()
    {
        InitializeComponent();
        DataContext = new ObservableCollection<TreeNode>
        {
            new TreeNode { Name = "Root", IsSelected = true }
        };
    } 
```

希望这可以帮助。

**更新**。
当然，您也必须将子节点公开为 ObservableCollection。否则，对节点集合所做的更改将不会反映。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:44:53.363

您无法反映属性的更改，因为它们无法“注意到”它们已被编辑。`LoginGroup`您需要继承`DependencyObject`或实施`INotifyPropertyChanged`

# android - Imageview 交互式水效 android

> ID：10697528
> 
> 赞同：3
> 
> 时间：2012-05-22T07:22:32.853
> 
> 标签：android

我想要像 google play shop 的一些水动态壁纸动画那样的 imageview 动画，但是，我需要 myproject 上的 imageview 中的动画波纹效果。如果你不明白我的要求，我想要 imageview 动画，如下面的代码项目示例：[http:// www.codeproject.com/Articles/1073/Interactive-water-effect](http://www.codeproject.com/Articles/1073/Interactive-water-effect)

是否有可能实现图像视图。如果可能的话怎么做？任何人对我的帮助都非常感谢！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T13:01:36.610

That project you linked (and probably anything with this effect) is going to use [OpenGL](http://developer.android.com/guide/topics/graphics/opengl.html) (not `Canvas` and `.onDraw();`). You wont be able to use an `ImageView` but you can use a `GLSurfaceView`, which shouldn't cause too much trouble. I am not an expert on the subject but the link you gave has excellent code fragments to get you started.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-22T07:36:56.680

I'm quite sure that you could achieve something like that by extending the ImageView class and messing around in the .onDraw() method, calling .invalidate() constantly and applying animations. But I'm also quite sure that it'd be awfully slow/laggy and look like hell.

I recommend using a SurfaceView to achieve such an effect.

# ruby-on-rails - select_tag 在控制器中触发另一个动作？

> ID：10697531
> 
> 赞同：0
> 
> 时间：2012-05-22T07:22:42.693
> 
> 标签：ruby-on-rails

`Submit`可以通过按下按钮或在 中选择一个项目来提交表单`select_tag`：

```
<% form_tag url_for(:action => 'create') do %>

  <%= select_tag :names, options_from_collection_for_select(@name_list, :id, :name, @name), 
     { :onchange => "this.form.submit();" } %> 

  <%= submit_tag 'Submit' %>

<% end %> 
```

是否可以在 中调用另一个控制器操作（除了`create`）`this.form.submit();`？

我想在不同的操作中处理不同的提交，而不是：

```
if params[:commit] == 'Submit'
  # from submit
else
  # from select_tag
end 
```

在同一个控制器动作中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:26:00.990

在 jQuery 中，您可以尝试以下操作：

```
:onchange => "$.post(<alternative_url>, $(this).form.serialize()); return false;" 
```

[MY EARLIER RESPONSE (not answering the question)] 在提交之前使用js设置提交输入值怎么样？

jQuery：

```
:onchange => "$(this).form.find('input[name="commit"]').val('select'); $(this).form.submit();" 
```

纯JS：

```
:onchange => "document.getElementById(<SubmitButtonId>).value = 'select'; this.form.submit;" 
```

# c# - 为什么这个方法会导致代码分析错误 CA2000: Call Dispose()

> ID：10697532
> 
> 赞同：7
> 
> 时间：2012-05-22T07:22:46.377
> 
> 标签：c#, .net, timer, code-analysis

我正在使用“Microsoft Minimal Rules”代码分析集构建我的项目，它在此方法上为我提供了 CA2000：

```
private Timer InitializeTimer(double intervalInSeconds)
{
    Timer timer = null;

    try
    {
        timer = new Timer { Interval = intervalInSeconds * 1000, Enabled = true };
        timer.Elapsed += timer_Elapsed;
        timer.Start();
    }
    catch
    {
         if (timer != null)
         {
             timer.Dispose();
         }
    }
    return timer;
} 
```

`System.Timers.Timer`这个方法只是从一个以秒为单位的间隔创建一个新的。我有三个这样的计时器正在运行（每秒一个，每分钟一个和每半小时一个）。也许最好有一个计时器并检查经过的事件处理程序是否已经过了一分钟或半小时，但我不知道，此时这更容易，它是继承的代码，我不想破坏一切然而。

这种方法让我臭名昭著

```
Warning 21  CA2000 : Microsoft.Reliability : In method 'TimerManager.InitializeTimer(double)', call System.IDisposable.Dispose on object '<>g__initLocal0' before all references to it are out of scope. 
```

现在我正在调用 Dispose 并认为这就足够了？我还在班级自己的 IDisposable 实现中处理所有计时器。

我在这里想念什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:27:14.670

您只`Dispose`在出现异常的情况下调用（BTW 永远不应该使用 catch-all 块来处理，但那是另一回事了）。在没有例外的情况下，您不处置该`Timer`对象。

添加一个`finally`块并将其移动到`Dispose`那里，或使用一个`using`块。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:29:42.893

该警告告诉您，您正在创建一个一次性对象，而不是在所有情况下都将其丢弃。如果您以其他方法正确处理它，那么您可以安全地抑制此警告（您可以使用[SuppressMessageAttribute](http://msdn.microsoft.com/en-us/library/system.diagnostics.codeanalysis.suppressmessageattribute.aspx)来做到这一点）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:42:42.387

好的，我这样编辑它：

```
private Timer InitializeTimer(double intervalInSeconds)
    {
        Timer tempTimer = null;
        Timer timer;
        try
        {
            tempTimer = new Timer();
            tempTimer.Interval = intervalInSeconds * 1000;
            tempTimer.Enabled = true;
            tempTimer.Elapsed += timer_Elapsed;
            tempTimer.Start();
            timer = tempTimer;
            tempTimer = null;
        }
        finally
        {
            if (tempTimer != null)
            {
                tempTimer.Dispose();
            }
        }
        return timer;
    } 
```

这是根据 CA2000 文档，它没有给出警告。我忽略了一个事实，即对象初始值设定项语法会创建一个可能不会被释放的临时对象。

多谢你们！

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-10-29T16:45:54.543

[我认为使用“使用”而不是“尝试/最终”参考](https://stackoverflow.com/questions/278902/using-statement-vs-try-finally)要好得多

```
private Timer InitializeTimer(double intervalInSeconds)
{
    Timer timer;
    using (var tempTimer = new Timer())
    {
        tempTimer.Interval = intervalInSeconds * 1000;
        tempTimer.Enabled = true;
        tempTimer.Elapsed += timer_Elapsed;
        tempTimer.Start();
        timer = tempTimer;
    }
    return timer;
} 
```

# backbone.js - 如何同步代表相同对象但具有不同cid的两个模型？

> ID：10697538
> 
> 赞同：1
> 
> 时间：2012-05-22T07:22:54.543
> 
> 标签：backbone.js, backbone-relational, marionette

在我的应用程序中，用户可以创建车辆。在“显示特定车辆”页面上，我有一个 Vehicle 实例（从[Backbone Relational 扩展 RelationalModel](https://github.com/PaulUithol/Backbone-relational/)）。当我改变车辆的头像时，这个模型就改变了。

在应用程序的另一个页面“显示车辆列表”中，我有一个显示用户车辆的画廊。模型（也是 Vehicle 的实例）在一个集合中。不幸的是，它们具有不同的 CID，因此当用户在显示页面中更改车辆的头像时，它们不会正确更新。

如何处理？我希望 9 号车辆在任何地方都一样。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T07:50:26.223

我将定义一个应用程序级别的 vehicleCollection (A)，您可以在其中存储从返回车辆 (B、C) 的每个请求中获得的所有车辆。由于每个vehicleId 都是相同的，因此当您循环从另一个集合获取（B，C）的结果集时，如果模型已经存在，您可以在主集合（A）中进行查找。

您很可能需要使用临时集合并从主集合中注入相关模型 (A)

如果你查看 Backbone 包附带的测试（或者只是去他们的 github 存储库），你可以清楚地看到它是如何工作的，将相同的模型添加到不同的集合中

# mobile-safari - iOS 中的 Safari - 使用共享

> ID：10697549
> 
> 赞同：2
> 
> 时间：2012-05-22T07:23:55.083
> 
> 标签：mobile-safari

Safari 屏幕底部有一个“共享”按钮，我想知道是否可以为此添加自定义共享选项？

例如，如果用户安装了一个应用程序（假设是 App1），那么当您单击该“共享”按钮时，共享选项列表中将出现“App1”。App1 应该以某种方式注册自己，以便能够做到这一点。我知道这在 Android 中是可能的。

# eclipse - Eclipse - 代码悬停/弹出窗口中的文件名

> ID：10697553
> 
> 赞同：0
> 
> 时间：2012-05-22T07:24:02.957
> 
> 标签：eclipse

当将鼠标悬停在一段代码上时，比如函数调用，Eclipse 会弹出一个包含此函数声明的小窗口。是否可以使该窗口显示定义函数的文件的名称？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:32:49.587

不要这么认为，你可以使用弹出窗口中的链接快速显示有问题的课程，所以这几乎是一回事。

# winapi - 使用 OpenGL 或 DirectX 快速比较两张图片

> ID：10697556
> 
> 赞同：2
> 
> 时间：2012-05-22T07:24:21.133
> 
> 标签：winapi, opengl, image-processing, graphics, cuda

我需要比较 2 张图片并找到与指定阈值不同的像素。现在我只是在 for 循环中以编程方式进行操作，对于 600x400 的小图片大约需要 3 秒。我想知道是否有办法使用 OpenGL、DirectX、CUDA 或类似的东西更快地做到这一点？所以它将使用 GPU 而不仅仅是 CPU。请注意，在输出中我需要一个不同像素的数组，而不仅仅是布尔值，这取决于它是否相同。

所以我在delphi中查看了源代码，它看起来像这样：

```
function TCanvas.GetPixel(X, Y: Integer): TColor;
begin
  RequiredState([csHandleValid]);
  GetPixel := Windows.GetPixel(FHandle, X, Y);
end; 
```

似乎它每次都调用 WinAPI 函数 GetPixel() 。可能这就是它如此缓慢的原因。所以现在我的问题是：有没有办法通过 WinAPI 获取整个像素数组？我正在使用具有 HBITMAP 的屏幕截图，因此将它与 WinAPI 一起使用不会有问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T16:09:20.213

由于您使用的是 delphi ，因此您可以在[TBitmap](http://docwiki.embarcadero.com/Libraries/en/Vcl.Graphics.TBitmap)中加载图像，然后使用该[`ScanLine`](http://docwiki.embarcadero.com/Libraries/en/Vcl.Graphics.TBitmap.ScanLine)属性快速访问位图的像素。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T09:07:55.640

虽然使用 OpenGL 或 Direct3D 进行此类图像操作在技术上是可行的，但这并不是它们的本意。他们正在绘制 API。CUDA 或 OpenCL 会更适合，但对于比较图像这样简单的事情来说，它们完全是矫枉过正。此外，上传开销将对性能产生负面影响。

对一个相当小的图像进行如此简单的图像操作 3s 意味着你做错了什么。我的意思是：我的笔记本电脑可以实时将全高清视频编码为 h264，这是您可以对图像执行的最复杂的任务之一。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T10:15:08.650

见鬼！您可以使用 CUDA/OpenCL 在 GPU 上执行此操作，而是您的案例说明了您可以在 GPU 上实现的并行性。例如，在 CUDA 中，您将在 GPU 上启动 600x400 线程，同时计算两个图像在每个点的像素差异。

换句话说，600 和 400 次迭代计数的两个嵌套**for 循环**将被 GPU 上的 240,000 个线程移除。线程 0 将计算点 0 处的像素差，线程 1 将计算点 1 处的像素差，依此类推。所有线程理论上将在 GPU 上并行执行。

**缺点：** 虽然GPU上的计算会比CPU上快很多，但是你还需要先将图像数据上传到GPU内存，然后将计算后的结果传回CPU内存。如果总 GPU 时间（包括计算和内存传输）小于 CPU 计算时间，那么你就赢了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T09:17:51.360

HLSL/GLSL。使用它们，您可以同时执行许多微型线程，其中一个性能较低，但它有利于像素比较。

# .net - 格式十进制 9999,99

> ID：10697559
> 
> 赞同：1
> 
> 时间：2012-05-22T07:24:39.573
> 
> 标签：.net, vb.net, formatting, decimal

是否有格式字符串将小数格式化为 000000000,00。所以前 9 位数字，如果需要，用零填充；逗号作为分数分隔符和两个分数数字。

*   0 => 00000000,00
*   12 => 00000012,00
*   987456,456 => 000987456,46

所以像 myDecimal.ToString("D9") 和 .ToString("F2")

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:34:12.797

```
String.Format("{0:000000000.00}", mydouble); 
```

你会得到一个 , 或 . 基于线程的当前区域性设置。

如果您使用：

[String.Format 方法 (IFormatProvider, String, Object[])](http://msdn.microsoft.com/en-us/library/1ksz8yb7.aspx)

您可以设置正确的格式化程序

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-22T07:35:43.253

你可以使用[`String.Format`](http://msdn.microsoft.com/en-us/library/fht0f5be.aspx)：

```
Dim d1 = 0D
Dim d2 = 12D
Dim d3 = 987456.456
Dim d1formatted = String.Format("{0:000000000.00}", d1)
Dim d2formatted = String.Format("{0:000000000.00}", d2)
Dim d3formatted = String.Format("{0:000000000.00}", d3) 
```

[http://msdn.microsoft.com/en-us/library/0c899ak8.aspx](http://msdn.microsoft.com/en-us/library/0c899ak8.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-22T07:44:09.067

```
decimal value = 0m;
Console.WriteLine(value.ToString("000000000.00", CultureInfo.CreateSpecificCulture("da-DK")));
// 000000000,00

value = 12m;
Console.WriteLine(value.ToString("000000000.00", CultureInfo.CreateSpecificCulture("da-DK")));
// 000000012,00

value = 987456.456m;
Console.WriteLine(value.ToString("000000000.00", CultureInfo.CreateSpecificCulture("da-DK")));
// 000987456,46 
```

# php - yii 框架 - 当我在表单中启用 ClientValidation 时，jquery datepicker 不起作用

> ID：10697562
> 
> 赞同：0
> 
> 时间：2012-05-22T07:25:06.550
> 
> 标签：php, jquery, jquery-ui, yii

我正在使用 yii 框架开发一个应用程序。我的一种形式还需要一个 yii 客户端验证和 jquery 日期选择器，但是当我启用我的客户端验证时 jquery 日期选择器停止工作。

页面中包含以下 js 文件：

//jquery库

[http://code.jquery.com/jquery-latest.js](http://code.jquery.com/jquery-latest.js)

//用于jquery日期选择器

“http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css” “http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery- ui.min.js"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T09:10:37.783

尝试使用 CJuiDatePicker 而不是加载外部 jquery-ui：

```
$this->widget('zii.widgets.jui.CJuiDatePicker', array(
    'model' => $model,
    'attribute' => 'model_date',
    // additional javascript options for the date picker plugin
    'options'=>array(
        'dateFormat' => 'yy-mm-dd',
    ),
    'htmlOptions'=>array(
        'id' => 'foo',
    ),
)); 
```

# xml - 如何使用 Linq to Xml 克隆 xml 元素

> ID：10697566
> 
> 赞同：4
> 
> 时间：2012-05-22T07:25:20.383
> 
> 标签：xml, linq, linq-to-xml, xelement

我想克隆一个 Xml 元素，将其插入元素列表的末尾并保存文档。有人可以解释它是如何在 linq to xml 中完成的吗

### xml

```
 <Folders>
    <Folder ID="1" Name="Music" PathValue="Root/Music" ParentId="0"></Folder>
    <Folder ID="2" Name="Rock" PathValue="Root/Rock" ParentId="1"></Folder>
  </Folders> 
```

### 语境

将 xml 元素文件夹视为磁盘上的虚拟文件夹。我想将文件夹 Rock 复制到音乐中，因此生成的 xml 应如下所示

### 结果必填

```
 <Folders>
    <Folder ID="1" Name="Music" PathValue="Root/Music" ParentId="0"></Folder>
    <Folder ID="2" Name="Rock" PathValue="Root/Rock" ParentId="0"></Folder>
    <Folder ID="3" Name="Rock" PathValue="Root/Music/Rock" ParentId="1"></Folder>
  </Folders> 
```

### 要进行的操作

1.  克隆源节点（完成#1）
2.  克隆源节点内的其他节点（不知道怎么做#2）
3.  为 #2 内的节点生成新 ID 并更改路径值（我知道该怎么做）
4.  插入**节点**#1 和来自 #2 的**节点**（不知道）

### 1

```
var source = new XElement((from folder in _xmlDataSource.Descendants("Folders").Descendants("Folder") where
wallet.Attribute("ID").Value.Equals(sourceWalletId, StringComparison.OrdinalIgnoreCase) select wallet).First());
//source is a clone not the reference to node. 
```

### 2

```
var directChildren = (from folder in _xmlDataSource.Descendants("Folders").Descendants("Folder") where folder.Attribute("PathValue").Value.Contains(sourcePathValue) select folder);
//How do i clone this 
```

### 问题

有人可以帮我解决#2 和#4 吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-22T07:39:57.467

你知道构造函数需要另一个 XElement 来创建它的副本，你试过吗？

```
var copiedChildren = from folder in _xmlDataSource.Descendants("Folders").Descendants("Folder") 
                     where folder.Attribute("PathValue").Value.Contains(sourcePathValue) 
                     select new XElement(folder); 
```

因为您已经克隆了`source`，您可以将它们插入该节点（假设它们应该是复制节点的子节点）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-22T07:40:52.363

如果你只关心复制嵌套在源元素中的元素，你可以使用这个：

```
XDocument xdoc = new XDocument("filename");
XElement source = xdoc.Root.Elements("Folder").Where(f => f.Attribute("ID") == "1").First();
XElement target = new XElement(source);
target.Add(new XAttribute("ParentId", source.Attribute("ID"));

// TODO update ID and PathValue of target
xdoc.Root.Add(target); 
```

# eclipse - java.io.FileNotFoundException: null\conf\wrapper.conf（系统找不到指定的路径）

> ID：10697571
> 
> 赞同：2
> 
> 时间：2012-05-22T07:25:30.270
> 
> 标签：eclipse, mpi, java, windows-7-x64

我一直在使用本教程[http://mpjexpress.blogspot.co.nz/2010/05/executing-and-debugging-mpj-express.html](http://mpjexpress.blogspot.co.nz/2010/05/executing-and-debugging-mpj-express.html)，**文本：***步骤 1,2,3*和**视频：***0 之间的步骤： 00 至 3:29*

**参考文件**

[![构建路径](../Images/04598bf229a8d1a7571120d6cab8042a.png)](https://i.stack.imgur.com/36fKj.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/e3kg0k2h.w0c.png)）]

**示例代码*（从教程中复制粘贴）***

```
import mpi.*;
public class HelloEclipseWorld {
vpublic static void main(String[] args) throws Exception {
MPI.Init(args) ;
int rank = MPI.COMM_WORLD.Rank();
int size = MPI.COMM_WORLD.Size();
System.out.println("I am process <"+rank+"> of total <"+
size+"> processes.");
MPI.Finalize();
}
} 
```

我已经包含了来自[http://en.sourceforge.jp/projects/sfnet_mpjexpress/downloads/releases/mpj-v0_38.zip/](http://en.sourceforge.jp/projects/sfnet_mpjexpress/downloads/releases/mpj-v0_38.zip/)的 mpi 和 mpj jar 文件（按照教程步骤）

然后我设置运行路径配置（按照教程步骤）

```
-jar ${MPJ_HOME}/lib/starter.jar 
```

我也尝试了相同的命令，但在末尾附加了 -np 4 （按照教程步骤）

```
-jar ${MPJ_HOME}/lib/starter.jar -np 4 
```

**虚拟机参数**

[![mpi 运行配置](../Images/41f4c61589d9387c5155c76926f8c957.png)](https://i.stack.imgur.com/SIwT2.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/pfpigbiv.l4h.png)）]

**MPJ_HOME 变量**

[![mpi 变量](../Images/84728527b9dc78094fe2eb2d78c44994.png)](https://i.stack.imgur.com/KF1Nm.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/rzl4e0ff.pfi.png)）]

**MPJ Express 输出**

```
 MPJ Express (0.38) is started in the multicore configuration
 I am process <3> of total <4> processes
 I am process <3> of total <4> processes
 I am process <3> of total <4> processes
 I am process <3> of total <4> processes 
```

完成所有设置后，我尝试通过 Eclipse 执行它，但出现这些错误:(

**编译器错误**

```
java.io.FileNotFoundException: null\conf\wrapper.conf (The system cannot find the path specified)
at java.io.FileInputStream.open(Native Method)
at java.io.FileInputStream.<init>(Unknown Source)
at java.io.FileInputStream.<init>(Unknown Source)
at runtime.starter.MPJRun.getPortFromWrapper(MPJRun.java:807)
at runtime.starter.MPJRun.<init>(MPJRun.java:68)
at runtime.starter.MPJRun.main(MPJRun.java:964) 
```

**Wrapper.conf 位置**

[![包装器位置](../Images/8e7e51c2f3cadc5eb5ae76f1061a5b7c.png)](https://i.stack.imgur.com/vN0vS.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/g02jjzgk.g5n.png)）]

我对为什么会出现这些错误感到有些困惑..我是打算做其他事情吗？教程没有告诉我？为了让它工作？

我究竟做错了什么？如何修复此 JRE 错误？关于mpj express上的文件“conf\wrapper.conf”？我想我遗漏了一些东西，但我已经阅读了很多资源并一遍又一遍地遵循教程......但我仍然收到 wrapper.conf 的 FileNotFoundException。

我找到了一些资源（没有回答 FileNotFoundException 问题）。

*   [mpj java 文档](http://mpj-express.org/docs/javadocs/index.html)
*   [Mpj 窗口指南](http://mpj-express.org/docs/guides/windowsguide.pdf)
*   [vub mpj](http://parallel.vub.ac.be/education/parsys/practicum.html)

如果有人对如何修复 FileNotFoundException 有任何建议，我将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:51:47.820

解决 MPJ 错误

> ```
> Error: Could not find or load main class runtime.starter.MulticoreStarter 
> ```

为了让它工作..去运行配置->类路径，在“引导程序”下单击“添加外部JARS”，只包括来自mpj的/lib/文件夹中的所有内容，这将使mpj运行，但我不确定关于如何解决编译器问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-23T00:42:07.203

在首选项菜单中，转到运行/调试 --> 字符串替换。把你的变量放在那里。在这种情况下，您不是在处理环境变量。环境变量将以完全特定于平台的方式出现在您将看到的窗口`%MJP_HOME%`和 *nix 上，`$MJP_HOME`在这种情况下，您使用 Eclipse 的字符串替换机制

你可以[在这里阅读](http://help.eclipse.org/galileo/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/preferences/run-debug/ref-string_substitution.htm)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T21:07:49.370

寻址编译器

> java.io.FileNotFoundException: null\conf\wrapper.conf (系统找不到指定的路径) 在 java.io.FileInputStream.open(Native Method) at java.io.FileInputStream.(Unknown Source) at java.io。 FileInputStream.(Unknown Source) at runtime.starter.MPJRun.getPortFromWrapper(MPJRun.java:807) at runtime.starter.MPJRun.(MPJRun.java:68) at runtime.starter.MPJRun.main(MPJRun.java:964)

我的讲师告诉我我缺少环境变量“MPJ_HOME”，运行配置 -> 环境变量 -> 新的“MPJ_HOME”（使用为 VM 参数创建的变量）

# django - 如何将对象从模型 A 复制到模型 B

> ID：10697575
> 
> 赞同：6
> 
> 时间：2012-05-22T07:25:50.663
> 
> 标签：django, django-models

我有这个模型类：

```
class Article(models.Model):
    [many fields]

class ArticleArchive(models.Model):
    [same fields as Artilce model] 
```

我想从 Article 表中获取对象并将其移动到 ArticleArchive 表中：

```
articles = Article.objects.filter(date__year=2011)
for art in articles:
    [and there moving objects] 
```

怎么做？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-22T07:32:44.453

```
articles = Article.objects.filter(date__year=2011).values()
for art in articles:
    ArticleArchive.objects.create(**art) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-08-20T11:42:07.660

为了获得更好的性能，最好使用`ArticleArchive.objects.bulk_create(...)`：

```
articles = list()
for article in Article.objects.filter(date__year=2011).values():
    articles.append(ArticleArchive(**article))
if (len(articles) > 0):
    ArticleArchive.objects.bulk_create(articles) 
```

然后，如果要从原始表中删除文章（可选）：

```
Article.objects.filter(date__year=2011).delete() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:33:37.853

我似乎无法理解您的问题的核心，但您可以在循环中简单地执行此操作：

```
obj, created = ArticleArchive.objects.get_or_create( your fields ) 
```

# javascript - 如何比较经过的时间？

> ID：10697579
> 
> 赞同：0
> 
> 时间：2012-05-22T07:26:10.447
> 
> 标签：javascript, jquery

我正在制作一个简单的 jQuery 游戏，分数是从开始到结束所经过的时间。目前我正在将经过的时间添加到一个简单的 div 中：

```
var elapsedTime = new Date().getTime() - startTime;
$('.score').html('"<div>" + elapsedTime + "</div>"'); 
```

有没有办法让我将最新的 elaspedTime 与以前的 elaspedTime 进行比较以保持更快的时间/更低的数字？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:28:05.300

将返回两次中的最低值：

```
Math.min(lastElapsedTime, newElapsedTime) 
```

对于您的代码，您可能想要...

```
elapsedTime = Math.min(elapsedTime, new Date().getTime() - startTime); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:29:17.667

将这些分数添加到数组中，然后排序。

```
var scores = [];
scores.push(elapsedTime1);
scores.push(elapsedTime2);
scores.push(elapsedTime3);

//sort it
scores.sort();
// if you want reverse order
scores.reverse();

//get the max and min, but if you have sorted already, that's not necessary.
var min = Math.min.apply(null, scores);
var max = Math.max.apply(null, scores); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:34:45.277

您应该回读以前的时间并将其与新计算的时间进行比较。

```
var current_time = $('.score').text();
var elapsedTime = new Date().getTime() - startTime;
if (elapsedTime < current_time) {

   // do stuff
} 
```

# anchor - 阻止在 IE中打开页面

> ID：10697585
> 
> 赞同：3
> 
> 时间：2012-05-22T07:26:36.840
> 
> 标签：anchor

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:32:41.067

# c# - 尝试将字符串转换为 MarketDataIncrementalRefresh

> ID：10697586
> 
> 赞同：2
> 
> 时间：2012-05-22T07:26:37.857
> 
> 标签：c#, quickfix, fix-protocol

我有一个带有`FIX messages`（所有这些和 MarketDataIncrementalRefresh（类型 X））的文本文件，我正在尝试找到一种方法使用`QuickFIX`in从.`C#``MarketDataIncrementalRefresh``strings`

有什么建议么？

这是一行的示例：

> 1128=9 9=263 35=X 49=CME 34=10568699 52=20110110205433535 75=20110110 268=2 279=1 22=8 48=812201 83=1243518 107=GEZ2 22730=1 27115=27115=3 205433000 336=2 346=14 1023=1 279=122=8 48=812201 83=1243519 107=GEZ2 269=1270=9826.0 271=453 273=205433000 336=2 3416=21 1023=3=

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T15:32:03.763

基本上这是它的完成方式：

```
string line = sr.ReadLine();
QuickFix42.MessageFactory fac = new QuickFix42.MessageFactory();
QuickFix.MsgType msgType = QuickFix.Message.identifyType(line);
QuickFix.Message message = fac.create("", msgType.getObject() as string);
message.setString(line, false); 
```

工厂在给定消息后创建正确的消息类型，因此在这种情况下，由于类型为 {X}，QuickFix.Message 消息是指向 MarketDataIncrementalRefresh 的指针，然后 message.setString 从给定字符串设置其余的道具。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T09:11:57.133

在Java中你可以使用

`MessageUtils.parse(MessageFactory messageFactory, DataDictionary dataDictionary, java.lang.String messageString)`

[看这里。](http://www.quickfixj.org/quickfixj/javadoc/1.5.1/quickfix/MessageUtils.html)

Message 对象本身，[请参见此处](http://www.quickfixj.org/quickfixj/javadoc/1.5.1/quickfix/Message.html#fromString%28java.lang.String,%20quickfix.DataDictionary,%20quickfix.DataDictionary,%20boolean%29)使用构造函数：

```
Message(java.lang.String string, DataDictionary dd, boolean validate) 
```

或 fromString 方法：

```
fromString(java.lang.String messageData, DataDictionary sessionDictionary, DataDictionary applicationDictionary, boolean doValidation) 
```

您应该能够为 quickfix/n 找到类似的东西

我只找到[了这个](http://www.quickfixengine.org/quickfix/doc/html/class_f_i_x_1_1_message.html)，它只允许您使用构造函数从字符串构建消息。如果您在选择的 API 中找不到上述等效项，那么这应该会起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-23T06:58:14.453

我想执行相同的转换，但`setString`在`QuickFix.Message`. 我正在使用`QuickFIXn`. 我搜索了更多并检查了更多`methods`并`Message`找到了一种方法。您可以使用`Message.FromString`如下方法。

如果您不想使用，`DataDictionary`则只需将其传递为`null`.

```
string strMsg = "8=FIX.4.49=54735=AE34=4";

var dataDictionary = new QuickFix.DataDictionary.DataDictionary();
dataDictionary.Load("../../../spec/fix/FIX44.xml");

var tradeCaptureReport = new QuickFix.FIX44.TradeCaptureReport();
tradeCaptureReport.FromString(strMsg, false, dataDictionary, dataDictionary, _defaultMsgFactory); 
```

# google-apps - 应用与谷歌应用程序集成的自己的应用程序

> ID：10697587
> 
> 赞同：0
> 
> 时间：2012-05-22T07:26:39.433
> 
> 标签：google-apps, google-account

我想开发一个可以集成到谷歌应用程序帐户的网络应用程序（换句话说，它应该出现在谷歌应用程序服务面板中），我不想通过市场和谷歌引擎实现它，有什么办法吗？谢谢~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-02T12:14:21.897

是的，您可以使用[Google Apps Extensions Console](https://developers.google.com/google-apps/extensions-console/)并使该应用程序仅在您的域中可用。

# iphone - 通过 StoryBoard 实现的静态 TableView

> ID：10697592
> 
> 赞同：0
> 
> 时间：2012-05-22T07:27:07.430
> 
> 标签：iphone, objective-c, xcode

我通过使用 UITableViewController 从情节提要设计了一个长的静态表格视图。我已将 .h 和 .m 文件分配给 UITableViewController 并从 .m 文件中删除了所有数据源和委托函数，但是当我滚动我的 tableview 时它崩溃了。不知道怎么样。请如果有人知道帮助我解决这个错误。提前致谢 ：-）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-24T09:43:59.307

我尝试使用情节提要创建长静态 TableView，它对我来说工作正常。您可以参考以下链接。

[http://www.techotopia.com/index.php/Using_an_Xcode_Storyboard_to_Create_a_Static_Table_View](http://www.techotopia.com/index.php/Using_an_Xcode_Storyboard_to_Create_a_Static_Table_View)

# html - 当您使用某些 3rd 方 css 框架时，关于如何在您的网页中显示用户输入 html 的任何想法

> ID：10697596
> 
> 赞同：0
> 
> 时间：2012-05-22T07:27:22.333
> 
> 标签：html, css, web

我有一个问题，在我的网站上，我允许用户上传 html（可能具有某种风格），而我的网页位于某些 css 框架下，这意味着我很难进行 css 重置。那么在我的页面上显示这些用户输入的 html 的最佳方式是什么？我想将这些 html 放入一个独立的页面并在 iframe 中显示，但想看看是否有更好的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:35:34.810

您可以将 html 放在一个特殊的 div 中，其 id 为“user-input”，并仅在该 div 上执行 css 重置。但是当然用户输入的css在他们的css规则中也需要'#user-input'，或者这个html应该使用内联样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-21T09:30:01.370

iframe 绝对是做到这一点的方法：最终您想模拟 html 在客户浏览器中的外观，因此确保这种隔离的最佳方法是在框架/单独的窗口中。您拥有的另一个好处是，您甚至可以托管来自不同域的这些上传的 html，然后您不必担心用户会尝试创建一些流氓 html 来访问您的域上他们不应该访问的内容。 ..

# mysql - 获取两个表的 MIN

> ID：10697607
> 
> 赞同：1
> 
> 时间：2012-05-22T07:28:04.520
> 
> 标签：mysql, sql

我正在尝试从两个表中获取 MIN 值（一个返回值）。

以下mysql结构+数据：

`table_master`

```
`ID` (Unique) | `Amount`

1 | 5.8
2 | 22.1
3 | 44.22 
```

* * *

`table_variants`

```
`table_master_ID` | `Amount`

1 | 4.11
1 | 5.12
1 | 
1 |
2 | 9.22
3 | 
```

* * *

使用此查询：

```
SELECT table_master.Amount, table_variants.Amount 
FROM table_master 
LEFT JOIN table_variants ON table_master.ID = table_variants.table_master_ID 
WHERE table_master.ID = 1 
```

我得到这样的东西：

```
5.8 | 4.11
5.8 | 
5.8 | 5.12
... 
```

现在我需要两个表的 MIN`Amount`值。 `ID`of`table_master`是唯一的，数据输入`table_variants`是可选的。

我怎样才能做到这一点？我正在尝试`MIN()`但`CASE()`没有成功。

有什么提示吗？

蒂亚！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:32:16.323

```
SELECT MIN(t.Amount) FROM
(SELECT Amount FROM table_master WHERE ID = 1
 UNION SELECT Amount FROM table_variants WHERE table_master_ID = 1) AS t 
```

[MySQL UNION 语法](http://dev.mysql.com/doc/refman/5.0/en/union.html)

```
SELECT MIN(LEAST(table_master.Amount, table_variants.Amount))
FROM table_master 
LEFT JOIN table_variants ON table_master.ID = table_variants.table_master_ID 
WHERE table_master.ID = 1 
```

[MySQL 最小函数](http://dev.mysql.com/doc/refman/5.5/en/comparison-operators.html#function_least)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:33:39.290

尝试

```
SELECT MIN( CASE WHEN table_master.Amount<= table_variants.Amount AND table_variants.Amount IS NULL THEN table_master.Amount ELSE table_variants.Amount END) 
FROM table_master 
LEFT JOIN table_variants ON table_master.ID = table_variants.table_master_ID 
WHERE table_master.ID = 1 
```

[这显示了它是如何工作的](http://sqlfiddle.com/#!2/3d8e2/3)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:34:24.997

您可以使用 UNION 来实现这一点：

```
SELECT  "min from table1", MIN( Amount ) FROM table_master
UNION 
SELECT  "min from table2", MIN( Amount ) FROM table_variants 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:36:07.307

试试这个 -

```
SELECT LEAST(MIN(a.amount), MIN(b.value)) 
FROM table_master a, table_variants b
WHERE a.id = b.table_master_ID
AND a.id = 1; 
```

# iphone - 为 iPhone 存储共享数据

> ID：10697611
> 
> 赞同：1
> 
> 时间：2012-05-22T07:28:50.677
> 
> 标签：iphone, ios

我有一个问题：如何在应用程序 B 中获取应用程序 A 的操作结果？此外，可以删除应用程序 A，但应保存结果。数据代表一小组数字。据我所知，ios具有将数据保存在不依赖于应用程序的存储中的能力。或者，可能有用于存储数据的在线服务（例如游戏内购买）。（适用于 ios 4.x 及更高版本）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:35:07.013

你理解（有点）不正确。您的应用程序可以在其自己的沙箱之外本地保存的唯一内容是钥匙串中的安全设置。删除应用程序后，您的沙箱将被完全删除，因此您需要确保将数据存储在其他地方。由于您的目标是低于 iOS 5（这对 iCloud 来说很痛苦），因此最好的方法是将其存储在 Web 服务器上。

# java - 编译时克隆方法和可克隆接口如何相互关联？

> ID：10697614
> 
> 赞同：0
> 
> 时间：2012-05-22T07:29:04.593
> 
> 标签：java, oop, late-binding

如果你实现了一个接口，编译器会要求你提供这些方法的实现。`Cloneable`但是在调用覆盖的 clone() 方法的情况下，编译器如何知道在类声明中没有提到特定的接口（在这种情况下）。编译器如何将此映射告诉用户 CloneNotSupported ？它与后期绑定有关吗？

我认为 JVM 有关于方法区域中每个类的信息，比如它正在扩展什么类以及它正在实现什么接口。所以调用 clone() 方法将检查那些存储的关于类的元数据，并发现它`Cloneable`不在那个接口列表中？这是接近正确答案的地方吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:31:42.003

你说对了。基本上，该`Object.clone()`方法执行以下操作：

```
if (!(this instanceof Cloneable)) {
    throw new CloneNotSupportedException(); 
} 
```

[javadoc](http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#clone%28%29)对此进行了解释：

> 首先，如果该对象的类没有实现接口 Cloneable，则抛出 CloneNotSupportedException。

请注意，编译器与此无关。这一切都发生在运行时。

# javascript - 在我的 Web 应用程序上模拟浏览器缓存

> ID：10697618
> 
> 赞同：0
> 
> 时间：2012-05-22T07:29:23.033
> 
> 标签：javascript, html

所以我有一个网站，我想建立一个机制来模拟浏览器缓存。意思是，例如，我可以以低成本获得页面包含的所有图像，但不能通过其他协议的 http 请求。我希望能够将这些图像（我领先的图像）保存在浏览器的内存中（indexDB、applicationCache 等），然后当我渲染页面时不是从 http 加载它们，而是从我的缓存中加载它们。

注释：1）我更喜欢一种不需要更改 .html 和 src 属性的方式 2）我还可以提前获取整个页面，而不仅仅是照片，还可以进行一些操作。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:32:52.003

您可以使用[PersistJS](http://pablotron.org/software/persist-js/)，它将不同的浏览器存储功能抽象到一个通用接口中。类似于 localStorage 并有多个后端（如 cookie、闪存等）。您可以将它们存储在这里并检查它们是否存在于此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:45:45.523

阅读有关 html5 缓存的本[教程。](http://www.html5rocks.com/en/tutorials/appcache/beginner/)您需要创建缓存清单文件并将图像路径写入清单文件的#cache 部分。将文件的引用放在每个 .html/.htm 文件头中。

# c# - 使用列表时出现 WCF 错误，错误代码：10054

> ID：10697621
> 
> 赞同：0
> 
> 时间：2012-05-22T07:29:42.893
> 
> 标签：c#, wcf

使用 List 时出现 WCF 错误：

> “无法从传输连接读取数据：现有连接被远程主机强行关闭”，同时尝试从 WCF 服务返回列表。

请注意；1.我的业务对象银行设置为 KnownTypeAttribute 像`[ServiceKnownType(typeof(ProjectName.Bo.Bank))]`

1.  我可以从 WCF 服务返回对象银行

2.  我的内部异常错误层次结构类似于异常：底层连接已关闭：接收时发生意外错误。

InnerException：无法从传输连接读取数据：现有连接被远程主机强行关闭

InnerException：一个现有的连接被远程主机强行关闭

1.  我试过了`[ServiceKnownType(typeof(System.Collections.IList))]`

简而言之，当 WCF 客户端尝试接收时，我遇到了错误，`return List<Bank>`请任何人提出一些建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:36:19.990

not realy sure about it, but shouldnt you use generic interface when returning generic class? [IList<T>](http://msdn.microsoft.com/en-us/library/5y536ey6) instead of IList..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-23T05:42:21.383

解决了！！这是一个 ServiceKnownType 问题。在已知类型加载器中，我们必须添加运行时类型，例如；

```
Type aaa =  Type.GetType("System.Collections.Generic.List`1[[ProjectName.BusinessObjects.Bank, ProjectName.BusinessObjects, Version=4.0.0.0, Culture=neutral, PublicKeyToken=null]]"); 
```

knownTypes.Add(aaa);

任何有同样问题的人都可以试试这个。它在我的环境中工作！

# java - Jersey - 使用 Jackson 生成 JSON 字符串

> ID：10697626
> 
> 赞同：2
> 
> 时间：2012-05-22T07:29:50.023
> 
> 标签：java, json, jersey, jax-rs

当我想在我的服务中返回带有`@Produces(MediaType.APPLICATION_JSON)`注释的 JSON 时，它适用于 POJO。（我正在使用杰克逊，如泽西的文档中所述）。

但是如果我返回一个简单的字符串，结果并不是我所期望的。返回的 String 但没有引号来封装它；因此，我无法使用 JQuery 在我的 JavaScript 客户端中解析它。

这是正常行为吗？有没有办法在结果中添加引号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:45:08.113

您可以简单地构造`JSONObject`：

```
 JSONObject myObject = new JSONObject();
 myObject.JSONObject myObject = new JSONObject();
 try {
   myObject.put("name", "Agamemnon");
   myObject.put("age", 32);
 } 
 catch (JSONException ex) {
   LOGGER.log(Level.SEVERE, "Error ...", ex);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-03T18:33:33.767

JSONObject 类可用于创建要转换为 JSON 的对象。

```
 JSONObject json = new JSONObject();
 try {
   json.put("name", "Bob");
 } catch (JSONException ex) {
   ...
 } 
```

# jquery - 避免加载/自定义 jQuery 选项卡时闪烁

> ID：10697627
> 
> 赞同：0
> 
> 时间：2012-05-22T07:29:57.153
> 
> 标签：jquery, tabs, flicker

我正在使用一些 jQuery 在页面上制作标签。我的问题是，如果你的连接有点糟糕，那么被脚本隐藏的区域会在隐藏之前闪烁并显示出来。

如果有人可以帮助我修改此脚本以避免这种情况，我将非常感激，它看起来像这样：

```
jQuery(document).ready(function($){

$('ul.tabs').each(function(){
// For each set of tabs, we want to keep track of
// which tab is active and it's associated content
var $active, $content, $links = $(this).find('a');

// Use the first link as the initial active tab
$active = $links.first().addClass('active');
$content = $($active.attr('href'));

// Hide the remaining content
$links.not(':first').each(function () {
    $($(this).attr('href')).hide();
});

  // Bind the click event handler
  $(this).on('click', 'a', function(e){
    // Make the old tab inactive.
    $active.removeClass('active');
    $content.hide();

    // Update the variables with the new link and content
    $active = $(this);
    $content = $($(this).attr('href'));

    // Make the tab active.
    $active.addClass('active');
    $content.show();

    // Prevent the anchor's default click action
    e.preventDefault();
});
});
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:39:29.010

```
.ul.tabs {display:none} 
```

并在准备好的时候展示它

```
jQuery(document).ready(function($){ $('ul.tabs').show()} 
```

# python - 使用 python 字典时没有生成输出

> ID：10697628
> 
> 赞同：-1
> 
> 时间：2012-05-22T07:30:03.203
> 
> 标签：python, dictionary, pattern-matching, default-value, string-matching

我正在尝试匹配两个 txt 文件，然后将匹配位置的索引保存在名为 tmp 的 python 字典中。

现在我正在尝试根据字典打印开始索引和结束索引之间的内容..

字典中缺少一些键/值，所以我使用默认值但是现在当我尝试使用 line[s:e] 打印所需的结果时，它给了我一个空白输出

虽然有默认值..

希望我能解释一下自己..

请看代码..

代码类型 = Python

```
 import re

 content_file = open('/Users/ashishyadav/Downloads/pdfminer-20110515/samples/te.txt',"r")
 product_file = open('/Users/ashishyadav/Desktop/AQ/te.txt',"r")
 output = open("output.txt" , "w")
 line = content_file.read().lower().strip()
 tmp = {}
 default=99
 for k in tmp:
    tmp[k]=default

 prev=''
 for prod in product_file:
   for match in re.finditer(prod.lower().strip(), line):
           prod = prod.replace("\r","")
           prod = prod.replace("\n","")
           if(prev!=''):
                   tmp[prev,'end_index']=match.start()
           tmp[prod,'start_index']=match.start()
           s=match.start()
           e=match.end()
           prev=prod
           #print >>output, match.group(),"\t",
           #print >>output, '%d:%d' % ( s, e),"\n",        
           #print >>output, tmp,"\n" 
```

^^这是将索引位置保存到名为 tmp 的字典中

```
 from collections import defaultdict
 tmp = defaultdict(lambda:99,tmp)
 print tmp
 print tmp[('Steakhouse Filet Salad', 'end_index')]
 print tmp[('FRIED PICKLES', 'end_index')]
 print tmp[('TEXAS T-BONE', 'end_index')] 
```

Steakhouse Filet Salad 的默认值现在是 99，因为它不在字典中

```
 for prod in product_file:
    for match in re.finditer(prod.lower().strip(), line):
        prod = prod.replace("\r","")
            prod = prod.replace("\n","")
            print line[s:tmp[(prod,'end_index')]] 
```

此打印行 [s:tmp[(prod,'end_index')]] 之前给出了一个 keyerror 但现在默认值为 99 它应该接受它并给我一些结果但没有生成输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:47:51.810

是什么`s`意思`line[s:tmp[(prod,'end_index')]]`？追溯其定义并考虑下一个 Python 行为：

```
>>> l = [1,2,3]
>>> print l[10:1]
[] 
```

现在您应该能够找到您的错误。

# netty - 如何在 Netty 4 中使用 RXTX？

> ID：10697629
> 
> 赞同：3
> 
> 时间：2012-05-22T07:30:05.843
> 
> 标签：netty, rxtx

我正在尝试将 Netty 4 与 RXTX 一起使用（如果我做对了，它不会正式出现在 Netty 3.x 中）。

我想我已经正确设置了管道工厂，但是当一些数据发送到串口时我没有得到任何事件（我已经用 CoolTerm 确认有一些数据定期从我的设备进来）。

下面是我用于测试的代码（`serialPort`类似于`/dev/tty.usbserial-A100MZ0L`（这是一个 FTDI 设备）的代码：

```
// Configure the client.
final ExecutorService executorService = Executors.newCachedThreadPool();
RxtxChannelFactory rxtxChannelFactory = new RxtxChannelFactory(executorService);
ClientBootstrap bootstrap = new ClientBootstrap(rxtxChannelFactory);

// Set up the pipeline factory.
bootstrap.setPipelineFactory(new ChannelPipelineFactory() {
    public ChannelPipeline getPipeline() throws Exception {
        // Create and configure a new pipeline for a new channel.
        ChannelPipeline pipeline = Channels.pipeline();
        pipeline.addLast("framer", new DelimiterBasedFrameDecoder(8192, Delimiters.lineDelimiter()));
        pipeline.addLast("decoder", new StringDecoder());
        pipeline.addLast("encoder", new StringEncoder());
        pipeline.addLast("logger", new LoggerHandler());
        return pipeline;
    }
});

// Start the connection attempt.
ChannelFuture future = bootstrap.connect(new RxtxDeviceAddress(serialPort));

// Wait until the connection is made successfully.
Channel channel = future.awaitUninterruptibly().getChannel();

BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));

boolean exit = false;
while (!exit) {
    try {
        String line = reader.readLine();
        if ("exit".equals(line)) {
            exit = true;
        }
    } catch (IOException e) {
        // ignore
    }
}

// Close the connection.
channel.close().awaitUninterruptibly();

// Shut down all thread pools to exit.
bootstrap.releaseExternalResources(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-23T06:51:10.960

终于让它工作了。

事实证明，我遇到了两个不同的问题：

1.  该程序未正确检查/报告异常，
2.  `gnu.io`我在报告错误时遇到了问题`gnu.io.PortInUseException: Unknown Application`；原来[我之前写过关于这个](http://www.jerome-bernard.com/blog/2011/11/18/serial-ports-on-mac-os-x/)的博客（我的博客帮助自己——第一次），忘记将*修复程序*应用到我的笔记本电脑上。

所以简而言之，不要忘记创建一个`/var/lock`目录并让它对运行程序的用户可写。

如果有人对如何检查我得到的异常并适当地通知运行程序的用户有任何建议，那就太好了:-)

# vb.net - 从其他线程读取复选框状态

> ID：10697630
> 
> 赞同：0
> 
> 时间：2012-05-22T07:30:07.760
> 
> 标签：vb.net, multithreading

基本上是[这个](https://stackoverflow.com/questions/9266908/reading-checkbox-status-from-another-thread)问题，但是对于 VB.net。我需要`CheckBox`从另一个线程而不是主线程检查状态。链接问题的解决方案包含 C# 代码。在线翻译无法产生可理解的结果。

我的代码（精简到基本部分）：

```
Public Class UI
    'UI contains CheckBox1.
End Class

Public Class Worker
    Public Sub Input()
        Dim thrMyThread As New System.Threading.Thread(AddressOf Run)
        thrMyThread.Start()
    End Sub

    Public Sub Run()
        If UI.CheckBox1.Checked = True
            MsgBox("True")
            ShellandWait("application.exe")
        Else
            MsgBox("False")
            ShellandWait("application.exe")
        End If
    End Sub

End Class 
```

`ShellandWait`是一个自定义函数，它启动一个进程并等待它退出。因为`ShellandWait`我需要另一个线程来保持我的 UI 响应。

**更新**
我确实找到了解决方法，`Public`方法是在 Worker Class 的开头定义一个布尔变量，它代表`UI.CheckBox`. 所以：

```
Public Class Worker
    Public cB As Boolean = UI.CheckBox.Checked
    ... 'Rest of Code
    Public Sub Run()
        If cB = True
            MsgBox("True")
            ShellandWait("application.exe")
        Else
            MsgBox("False")
            ShellandWait("application.exe")
        End If
    End Sub
End Class 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:13:05.013

这应该有效。此代码将使您能够从工作线程访问 GUI。

```
Public Delegate Function GetCheckBoxChekedDelegate(cb As CheckBox) As Boolean

Public Function GetCheckBoxChekedFunction(cb As CheckBox) As Boolean
    Return cb.Checked
End Function

Public Function GetChecked(cb As CheckBox) As Boolean
    If cb.InvokeRequired Then

        Dim del As GetCheckBoxChekedDelegate
        del = AddressOf GetCheckBoxChekedFunction

        Dim parArray() As Object = {cb}

        Return CBool(cb.Invoke(del, parArray))
        'Return CBool(cb.Invoke(del, New Object() {cb}))
        'Return CBool(cb.Invoke(del, {cb}))

    Else
        Return cb.Checked

    End If
End Function 
```

您可以使用*GetChecked*函数来获取复选框的选中状态，该函数将在主线程和工作线程上工作。

当从工作线程调用*GetChecked函数时，* *InvokeRequired*将返回 true，因此在函数*GetCheckBoxChekedFunction*中读取*cb.Checked*值，该函数由*cb.Invoke(del, {cb})*命令**在主线程上调用。**

# tfs - Team Foundation Server 2010 中的构建日志位于何处？

> ID：10697631
> 
> 赞同：3
> 
> 时间：2012-05-22T07:30:09.010
> 
> 标签：tfs, build

我正在寻找 TFS 工作流日志的物理位置。不是 MSBuild 日志，而是您单击“查看日志”时看到的日志。

我在其他论坛上读到日志存储在 SQL 数据库中。但它是哪个数据库，具体是什么表？

谢谢。希望有人知道这个问题的答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-20T17:45:19.230

整个构建日志可以在 Tbl_BuildInformation 的**Tfs_YourTeamProjectCollection**数据库中**找到**。Tbl_BuildInformation**表**包含自引用条目以保存构建日志层次结构，并且所有构建信息都保存在 XML 中。信息保存为不同的节点类型，对应于不同的构建活动。

如果您有兴趣沿着这条路线走下去，我会在我的[***博客***](http://paulselles.wordpress.com/2013/11/15/tfs-build-log-querying-build-log-data/)中详细介绍。在这里发帖有点多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T16:56:05.497

您可以使用 TFS Web 访问链接查看日志文件。有关详细信息，请参阅此 MSDN 帖子。我刚刚使用了这个技巧，这太棒了。 [http://social.msdn.microsoft.com/Forums/en/tfsbuild/thread/14ce49ea-f61a-45e2-be32-beffc81ce415?prof=required](http://social.msdn.microsoft.com/Forums/en/tfsbuild/thread/14ce49ea-f61a-45e2-be32-beffc81ce415?prof=required)

> 查看日志的另一种方法是通过 Web 访问（右键单击构建输出选项卡并选择“复制完整路径”并将其粘贴到浏览器中）并且日志确实会被下载，因此您可以快速向下滚动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T09:16:42.797

构建日志是完整的不同视图，默认情况下可以在 [构建位置][构建名称]\logs 目录下找到。

`tbl_Build`您可以通过查询数据库中的表从数据库中检索日志位置列表`Tfs_<CollectionName>`，例如：

```
 SELECT [BuildId],[StartTime],[FinishTime],[LogLocation]
   FROM [Tfs_DefaultCollection].[dbo].[tbl_Build] 
```

# c# - 如何使用 NHIbernate ICriteria 隐藏某些字段？

> ID：10697632
> 
> 赞同：0
> 
> 时间：2012-05-22T07:30:12.583
> 
> 标签：c#, nhibernate, nhibernate-criteria

这是我正在处理的一个场景：现在我们有一个 SQL 语句，如下所示：

```
SELECT a.ID,a.MsgNumber,CASE WHEN @HasAccess=1 THEN Title ELSE '*********' END AS Title FROM Messages 
```

我们希望操作员能够看到消息是否在系统中注册，但如果他们未经授权则看不到标题。

我正在更改这部分代码，以便我们可以使用 NHibernate 标准来生成相同的结果（因此我们可以根据用户选择的过滤器生成动态查询）。我知道我可以使用投影从标准中获取一些字段或常量值，但无法弄清楚我应该如何将它们组合起来做我想做的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:24:18.273

看起来@HasAccess 是您的代码传入的参数，而不是由数据库确定的值。如果是这样，那么做您想做的最简单的方法是根据您将在查询中传递的值修改代码中的条件，例如：

```
var projections = Projections.ProjectionList()
        .Add(Projections.Id())
        .Add(Projections.Property("MsgNumber"))
        .Add(hasAccess ? Projections.Property("Title") : Projections.Constant("*********"));

var criteria = session.CreateCriteria<Message>()
        .Add(... your restrictions ...)
        .SetProjection(projections)
        .List<object[]>(); 
```

但是，如果 @HasAccess 是由您的数据库以某种方式确定的，那么您可以使用：

```
Projections.Conditional(Restrictions.Eq("HasAccess", 1),
    Projections.Property("Title"),
    Projections.Constant("*********")) 
```

假设您可以通过某种方式将 HasAccess 纳入您的标准

# c++ - 与 MinGW 互锁的单链表 (SList)

> ID：10697633
> 
> 赞同：3
> 
> 时间：2012-05-22T07:30:14.110
> 
> 标签：c++, winapi, mingw

当我尝试将我的 Win32 代码从 Microsoft 工具链移植到 MinGW 时，大多数代码都能正常编译，但很少有例外。MinGW 中似乎缺少的一个特定 API 是[SList API](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684121%28v=vs.85%29.aspx)（包括 InitializeSListHead、InterlockedPushEntrySList） - 当我编译我的源代码时，我收到关于未定义这些函数的错误。我该怎么做才能让这个 API 在 MinGW 下可用？是否有一些我可以更新的 Win32 SDK 或类似的东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T14:06:05.997

当前的 MinGW（基于 GCC 4.6.2）已经包含 SList API，但您需要通过[定义预处理器值 _WIN32_WINNT](http://msdn.microsoft.com/en-us/library/aa383745%28v=vs.85%29.aspx#setting_winver_or__win32_winnt) =0x0501 或更高（这表示带有 SP1 的 Windows Server 2003、Windows XP ）来表明您正在为支持它的 Windows 目标进行编译与 SP2）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T11:12:37.797

访问[http://equation.com](http://equation.com)并使用最新的 gcc 4.8+ 下载他们完美的 MinGW 构建

从 winbase.h（在等式的 MinGW/include 中）：

```
#if defined(_SLIST_HEADER_) && !defined(_NTOSP_)
  WINBASEAPI VOID WINAPI InitializeSListHead(PSLIST_HEADER ListHead);
  WINBASEAPI PSLIST_ENTRY WINAPI InterlockedPopEntrySList(PSLIST_HEADER ListHead);
  WINBASEAPI PSLIST_ENTRY WINAPI InterlockedPushEntrySList(PSLIST_HEADER ListHead,PSLIST_ENTRY ListEntry);
  WINBASEAPI PSLIST_ENTRY WINAPI InterlockedFlushSList(PSLIST_HEADER ListHead);
  WINBASEAPI USHORT WINAPI QueryDepthSList(PSLIST_HEADER ListHead);
#endif /* _SLIST_HEADER_ && !_NTOSP_ */ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T09:25:00.757

`QueryDepthSList();` 4.7.1 标头中缺少。其他功能在那里。

# excel - Excel 自动设置日期条件格式

> ID：10697637
> 
> 赞同：-1
> 
> 时间：2012-05-22T07:30:42.143
> 
> 标签：excel, date, conditional-formatting

Excel 中的条件格式有没有办法从原始参考列中引用一整列？

例如，我希望 E 列引用 C 列，这样如果 E 列中的日期比 E 列中的日期晚 2 天，它将变为绿色。我希望能够尽快做到这一点。

问题是，现在即使每行的 E 到 C 列的功能相同，我也必须一一进行。反正有没有将整个 E 列与 C 列相匹配？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:39:48.677

Excel中有一个叫做自动填充的功能。自动填充功能使您只需单击几下即可自动将您的功能填充到整列中。

![在此处输入图像描述](../Images/17612ca105c24205b9efd574ad4d2a76.png)[教程链接](http://spreadsheets.about.com/od/excel101/ss/freeze_pane_3.htm)

自动填充示例：

1.  在单元格 A1 中输入 1
2.  在单元格 A2 中写入 =(A1+1)
3.  选择单元格区域 A2:A10
4.  单击功能区中的“填充”（见图）
5.  选择向下
6.  现在 A1:A10 列中有数字 1-10

您可以使用此功能在整列中添加具有您的功能的单元格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T09:02:54.490

您可以在列中的第一个单元格上使用条件格式，并使用格式刷将其复制到列的其余部分。使用像 '=B1=A1+2' 这样的公式作为第一个单元格的条件。确保公式中没有美元符号！

或者，您可以使用管理规则将它们应用于范围。看看下面的图片。我不能在这里发布它们，因为我还没有足够的学分:-)

[http://i.stack.imgur.com/FA3o9.jpg](http://i.stack.imgur.com/FA3o9.jpg)

[http://i.stack.imgur.com/qYcvQ.jpg](http://i.stack.imgur.com/qYcvQ.jpg)

# http - 是否可以在使用 HTTPS 的整个正文之前很久发送 HTTP-Header

> ID：10697638
> 
> 赞同：1
> 
> 时间：2012-05-22T07:30:55.127
> 
> 标签：http, https, header, webserver

我听说您（在某些情况下）可以通过在整个 HTTP 正文准备好之前将 HTTP 标头发送回客户端来防止超时。

我知道使用 gzip 是不可能的……但是这可能使用 HTTPS 吗？

我在一些帖子中读到 HTTPS 的*安全*部分是在传输层 (TLS/SSL) 中完成的——因此它应该是可能的，对吧？

很抱歉在这里混合 gzip - 这是一个完全不同的级别 - 我知道......它可能比举个例子更令人困惑；）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T09:11:50.490

在 HTTP 1.1 中，可以在响应正文的准备完成之前发送响应标头。为此，通常使用分块编码。

一些服务器还通过不指定内容长度并通过关闭连接来指示流的结束来按原样流式传输数据，但这是一种非常残酷的处理方式（分块编码专为在数据完全可用之前发送数据而设计）。

由于 HTTP(S) 是通过 SSL/TLS 通道运行的 HTTP，因此 TLS 不会以任何方式影响上述行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:41:08.943

是的，你可以这样做。HTTPS 只是基于 TLS/SSL 传输的 HTTP，HTTP 协议完全相同。

# android - 在 Eclipse 调试视图中显示“所有实例”缺失

> ID：10697639
> 
> 赞同：0
> 
> 时间：2012-05-22T07:30:58.120
> 
> 标签：android, eclipse, debugging, instances

几天前，当我在 Eclipse 下调试一个 Android 项目时，我发现了一些很棒的功能：“所有实例...”和“实例计数”。我想与其他同事分享我的发现，但他们都没有在他们的 eclipse 安装中拥有这个功能（我们都使用 eclipse 3.7）。

现在更奇怪的是我也缺少这个功能。

据我所知，此功能是在 3.3 版的 eclipse 中构建的，并且可用于使用 Java 1.6 及更高版本的项目，如此[处](http://eclipse.dzone.com/news/tips-and-tricks-debugging-ecli)和[此处](http://sandipchitale.blogspot.com/2011/05/eclipse-show-all-instances-of-selected.html)所述（我们使用的是 1.6）。

[请参阅此链接](http://eclipse.dzone.com/news/tips-and-tricks-debugging-ecli)的底部以了解我正在谈论的功能。它甚至在选项中有自己的快捷方式（ctrl+shift+n），所以我认为必须有一种方法可以再次使用它。

我在调试和调试器处于“停止”状态时一直在寻找它。

任何人都可以帮助我将 Eclipse 置于正确的视图/透视/状态以再次查看此功能？

**编辑**

这是来自 Eclipse 帮助页面的文档条目：[链接](http://help.eclipse.org/helios/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fviews%2Fshared%2Fref-allinstances.htm)

感谢您的任何建议，卡曼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-23T05:54:12.367

经过一番挖掘，我得出以下结论：

DalvikVM 不支持“实例检索”。

在**EDIT**部分中提到的 Eclipse 帮助页面上，它写道：

> 仅当您当前使用的 Java 虚拟机支持实例检索时，此命令才可用。

也许有一个选项可以在 DalvikVM 中启用此选项，但不幸的是我对此表示怀疑。此外，在手机上进行调试时，缺少“拖放到帧”功能。

# java - 解密时无法删除 0

> ID：10697640
> 
> 赞同：1
> 
> 时间：2012-05-22T07:31:37.167
> 
> 标签：java, aes

我用 Java 编写了 2 个函数来加密和解密消息。我选择 AES/CBC/PKCS7Padding 作为参数。加密时，我的函数无法添加正确的填充（作为 PKCS7Padding，它不应该添加 0 来填充我的消息），因此在解密时我无法删除消息末尾的 0。使用代码，我的问题会更加清晰

```
 public static  byte[] encryptStringToData(String message, String key){
        // transform the message from string to bytes
        byte[] array_to_encrypt, bkey;
        try {
            array_to_encrypt = message.getBytes("UTF8");
            bkey = key.getBytes("UTF8");
        } catch (UnsupportedEncodingException e1) {
            array_to_encrypt = null;
            bkey = null;
            return null;
        }

        bkey = Arrays.copyOf(bkey, 32);
        BlockCipher engine = new AESEngine();
        engine.init(true, new KeyParameter(bkey, 0, 32));
        PKCS7Padding pad = new PKCS7Padding() ;

        BufferedBlockCipher c = new PaddedBufferedBlockCipher(new CBCBlockCipher(engine),pad); 

        c.init(true, new ParametersWithIV(new KeyParameter(bkey), new byte[16]));

        byte[] encrypted_array = new byte[c.getOutputSize(array_to_encrypt.length)];

        int outputLen = c.processBytes(array_to_encrypt, 0, array_to_encrypt.length, encrypted_array, 0);
        try
        {
            c.doFinal(encrypted_array, outputLen);
        }
        catch (CryptoException ce)
        {
            System.err.println(ce);
            System.exit(1);
        }
        return encrypted_array; 
    }

public static  String decryptDataToString(byte[] message, String key){
        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());
        String decrypted =""; 
        try { 
            byte[] keyBytes = key.getBytes("UTF8"); 

            BlockCipher engine = new AESEngine();
            BufferedBlockCipher c = new PaddedBufferedBlockCipher(new CBCBlockCipher(engine));
            keyBytes = Arrays.copyOf(keyBytes, 32); // use only first 256 bit

            c.init(false, new ParametersWithIV(new KeyParameter(keyBytes), new byte[16]));
            byte[] cipherText = new byte[c.getOutputSize(message.length)];

            int outputLen = c.processBytes(message, 0, message.length, cipherText, 0);
            c.doFinal(cipherText, outputLen);
            decrypted = new String(cipherText,"UTF8");
        }
        catch (CryptoException ce)
        {
            System.err.println(ce);
            System.exit(1);
        } catch (UnsupportedEncodingException e) { 
            e.printStackTrace();
        }

        return decrypted;

    } 
```

结果（十六进制输出）

克莱尔消息：3132333435 大小：5 加密消息：561dd9f43ec183fe351776a46276991c 大小：16 解密消息：31323334350000000000000000000000 大小：16

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:41:15.867

您应该查看[如何开始使用 BouncyCastle？](https://stackoverflow.com/questions/885485/how-do-i-get-started-using-bouncycastle) 删除多余字节的代码是：

```
if (outputLength == output.length) {
    return output;
} else {
    byte[] truncatedOutput = new byte[outputLength];
    System.arraycopy(
            output, 0,
            truncatedOutput, 0,
            outputLength
        );
    return truncatedOutput;
} 
```

并在您的代码中转换为：

```
outputLen += c.doFinal(cipherText, outputLen);
if (outputLen == cipherText.length) {
    decrypted = new String(cipherText,"UTF8");
} else {
    byte[] truncatedOutput = new byte[outputLen];
    System.arraycopy(
            cipherText, 0,
            truncatedOutput, 0,
            outputLen 
        );
    decrypted = new String(truncatedOutput,"UTF8");
} 
```

# batch-file - 使用...更改打开的文件 regedit

> ID：10697641
> 
> 赞同：2
> 
> 时间：2012-05-22T07:31:39.727
> 
> 标签：batch-file, regedit, open-with

我有一个用户，无法与 AutoCAD 相处，所以他转回了 InterCAD。他不太懂计算机，所以现在当他尝试通过双击打开 DWG 文件（AutoCAD 原生文件扩展名）时，他的寄存器设置会寻找 AutoCAD 程序来打开它。

我知道我们可以调整 .dwg 文件的寄存器设置，以使用 InterCAD 而不是 AutoCAD 自动打开文件。

我对调整注册表项并不太熟悉，当我这样做时，我喜欢使用批处理脚本自动执行此操作。

执行此操作的最佳程序是什么，我担心我会错过一个键或者以下是我需要调整的唯一键

```
HKEY_CLASSES_ROOT\.dwg\OpenWithprogids 
```

在 Intercad.exe 中执行 Intercad 的扩展

我如何成功地达到我想要的结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T10:31:39.547

您需要编辑的关键是这个：

`HKEY_CLASSES_ROOT\dwgfile\shell\open\command`

它控制文件打开的程序。

要在批处理文件中执行此操作，请使用以下命令：

`reg add HKCR\dwgfile\shell\open\command /v "" /d "programpath.exe" /f`

希望这可以帮助。

# regex - 我们什么时候真正使用 Trie？

> ID：10697647
> 
> 赞同：15
> 
> 时间：2012-05-22T07:32:08.213
> 
> 标签：regex, algorithm, optimization, data-structures, trie

我开始阅读有关 Trie 的信息。我还从这里的朋友那里得到了参考：[Trie 教程](https://stackoverflow.com/questions/10684646/looking-for-a-good-introduction-on-trie/10685469#comment13868291_10685469)

我不清楚以下几点：
似乎继续使用 Trie 假设所有将成为搜索空间并用于构建 Trie 的输入字符串都以*不同的单词边界*分隔。
例如，我见过的所有示例教程都使用输入，例如：

```
S={ball, bid, byte, car, cat, mac, map etc...} 
```

然后我们构建特里树`S`并进行搜索（非常快）
我的问题是：我们最终是如何`S`开始的？
我的意思是在开始阅读尝试之前，我想象这`S`将是一个任意长的文本，例如`Shakespeare`一段。

然后使用 Trie，我们可以非常快速地找到东西。
但似乎情况并非如此。

这里的假设是输入段落（`Shakespeare`例如）首先被预处理提取所有单词以获得`S`？

所以如果一个人想要搜索模式（就像你在谷歌上搜索并看到所有页面在你的搜索查询中也有空格一样），那么 Trie 不合适吗？
我们什么时候可以知道 Trie 是否是我们可以实际使用的数据结构？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-22T07:48:27.967

如果您有一个固定的字典，您想快速查找，尝试是很有用的。与哈希表相比，大型字典可能需要更少的存储空间，但查找时间可能更长。我使用它的一个例子是将 URL 映射到 Web 服务器上的操作，如果可能存在基于前缀的功能继承。在这里递归一个 trie 可以适当地查找需要为特定 url 调用的所有方法。存储字典也很有效。

对于进行文本搜索，您通常会使用具有权重的词法标记向量（可能基于出现频率）来表示文档，然后针对该词进行搜索以获得针对特定搜索向量的文档排名。有许多标准库可以做到这一点，我建议使用而不是自己编写 - 特别是用于删除停用词、处理同义词和词干。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:39:11.600

我们可以使用尝试在线性时间内进行子字符串搜索，而无需每次都对字符串进行预处理。你可以得到一个关于后缀树生成的最佳教程 [@Ukkonen 的简单英语的后缀树算法？](https://stackoverflow.com/questions/9452701/can-someone-please-explain-ukkonens-suffix-tree-algorithm-in-plain-english/9513423#9513423)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-22T08:26:08.183

正如其他示例所说，trie 很有用，因为它提供了快速的字符串查找（或更一般地，查找任何序列）。我使用过的一些示例：

*   [我对这个问题的回答](https://stackoverflow.com/questions/10255642/membership-testing-in-a-large-list-that-has-some-wildcards/10256493#10256493)使用（稍微修改的）trie 来匹配句子：它是基于单词序列而不是字符序列的 trie。（该问题的其他答案可能更清楚地证明了这种尝试。）
*   我还在一个游戏中使用了 trie，该游戏有大量带有名称的房间（总数和名称是在运行时定义的），这些名称中的每一个都必须是唯一的，并且必须能够搜索一个给定名字的房间。也可以使用哈希表，但在某些方面，使用字符串时 trie 更易于实现且速度更快。（我的 trie 实现最终是大约 50 行 C。）

[trie](/questions/tagged/trie "显示标记为“trie”的问题")标签可能还有更多示例。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-22T12:45:28.520

有多种使用尝试的方法。典型的例子是一个查找，例如您提供的那个。然而，Tries 也可以用来完全索引一个完整的文本。要么使用 Ukkonen 后缀树算法来生成后缀树，要么通过存储后缀来显式构造后缀树（比 Ukkonens 算法慢得多，但也简单得多）。由于这是预处理，因此只需要在速度不是那么关键的情况下进行一次。

为此，您只需获取文本，插入全文，然后切掉第一个字母，插入生成的文本，切掉第二个字母，插入...

因此，如果我们有文本“The Text”，我们将插入以下集合：

```
{"The Text", "he Text", "e Text", " Text", "Text", "ext", "xt", "t"} 
```

在生成的后缀 trie 中，我们可以轻松搜索任何类型的前缀。这也是节省空间的，因为我们不需要存储整个字符串，因为公共前缀只存储一次。

如果您需要有效地存储更长的字符串空间，最好不仅将前缀存储在一起，而且还存储后缀。在这种情况下，您可以构建一个有向无环词图 (DAWG)，它与概念中的 trie 非常相似。

因此，这种意义上的 trie 允许查找任意子字符串，包括部分单词。如果您只对存储单词感兴趣，则应使用不同的数据结构，例如倒排列表（如果顺序很重要）或基于向量空间的检索算法（如果单词顺序无关紧要）。

# python - 队列仍然未知或只是不知道如何调用它们

> ID：10697651
> 
> 赞同：1
> 
> 时间：2012-05-22T07:32:18.040
> 
> 标签：python, google-app-engine

我在 python GAE 应用程序中添加了一个新队列，并想向其中添加任务，但`UnknownQueueError`在运行测试时总是得到一个。另一方面，我看到 GAE 管理控制台（本地和远程）中存在队列。所以问题是（1）当我将任务添加到队列时我会错过什么吗？(2) 如果没有，那么我如何在测试中运行自定义队列？

这是我的 queue.yaml

`queue: - name: requests rate: 20/s bucket_size: 100 retry_parameters: task_age_limit: 60s`

我的python调用如下：

`taskqueue.add(queue_name="requests", url=reverse('queue_request', kwargs={"ckey":ckey}))`

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:16:04.867

如果您正在运行 unitest 并使用 init_taskqueue_stub() ，则需要在使用 root_path 参数调用它时传递 queue.yaml 的路径。

# iphone - 应用程序因 NSInvalidArgumentException 而崩溃

> ID：10697653
> 
> 赞同：0
> 
> 时间：2012-05-22T07:32:27.323
> 
> 标签：iphone, objective-c, ios5, uiwebview, uiscrollview

我创建了一个 pdf 文件，并将其存储在本地数据库中。当我在我的 webview 中加载该 PDF 时，它已成功加载，但是当我向下滚动并即将到达最后一页时，我的应用程序崩溃了（这仅在 iOS4 中的 iOS5 中发生，它运行良好）：

> 终止应用程序由于未捕获的异常'NSInvalidArgumentException'，原因： - [__ NSArrayM insertObject：atIndex：]：对象不能是零”第一掷调用堆栈：
> （0x35b0088f 0x33724259 0x35a551d7 0x335a2307 0x335a29bf 0x335a2d4d 0x335a2e29 0x3325acc5 0x332298ef 0x33325cab 0x333251ff 0x33302637 0x33292d65 0x334c3479 0x3320ef55 0x3320daa3 0x3321a7e9 0x3321a627 0x3321a1f5 0x33200695 0x331fff3b 0x337f222b 0x35ad4523 0x35ad44c5 0x35ad3313 0x35a564a5 0x35a5636d 0x337f1439 0x3322ecd5 0x2fe3
> 接收到异常信号“ 98ABRT” 0x2f）数据格式化程序暂时不可用，将在“继续”后重试。（找不到 dlopen 函数，所以无法加载共享库。）

当我搜索时，我得到了[这个](https://stackoverflow.com/questions/10447871/app-crash-diskimagecache-could-not-resolve-the-absolute-path-of-the-old-dire)链接。他们说是iOS的问题还是其他问题？

```
NSURL *targetUrl = [NSURL fileURLWithPath:webViewStr];
NSURLRequest *request = [NSURLRequest requestWithURL:targetUrl];
[webView loadRequest:request]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T08:07:54.837

它不适用于 IOS5 的原因是 IOS 5 不支持 javascript。您可以使用 webView.scrollView 浏览您的 Pdf，而不是使用 CGPointMake(x, y)

读这个[所以回答](https://stackoverflow.com/questions/8039367/navigating-a-pdf-using-uiwebview-not-working-in-ios-5/8296107#8296107)

# c# - 如何使用 ASP.NET MVC3 在表中显示 Azure Blob 存储中的所有图像？

> ID：10697657
> 
> 赞同：1
> 
> 时间：2012-05-22T07:32:39.010
> 
> 标签：c#, asp.net-mvc-3, azure-storage

如标题所述。如何使用 ASP.NET MVC3 在表中显示 Azure Blob 存储中的所有图像？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:36:28.943

You may take a look at the [documentation](https://www.windowsazure.com/en-us/develop/net/how-to-guides/blob-storage/) which explains in great details how to achieve different operations with Azure Blob Storage. More specifically checkout the [*How to List the Blobs in a Container*](https://www.windowsazure.com/en-us/develop/net/how-to-guides/blob-storage/#list-blob) and [*How to Download Blobs*](https://www.windowsazure.com/en-us/develop/net/how-to-guides/blob-storage/#download-blobs) sections.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:40:09.083

一种快速而肮脏的方法可以是

```
var accnt = CloudStorageAccount.parse("");//ur accnt string
var client = accnt.CreateCloudBlobClient();
var blobs = client.GetContainerRefrence(""/*container name*/).ListBlobs();
var urls = new List<string>();
foreach(var blob in blobs)
{
string url = "base host"+blob.uri.AbsoluteUri;
urls.Add(url);
}
//now display it the way you want 
```

# javascript - 使用 expressjs 3 强制 SSL

> ID：10697660
> 
> 赞同：27
> 
> 时间：2012-05-22T07:32:42.613
> 
> 标签：javascript, node.js, ssl, https, express

我正在运行一个没有代理并使用 SSL 的 node.js express 3 服务器。

我试图弄清楚如何强制所有连接通过 https。

谷歌搜索向我展示了这一点：

[https://groups.google.com/forum/#!topic/express-js/Bm6yozgoDSY](https://groups.google.com/forum/#!topic/express-js/Bm6yozgoDSY)

> 目前没有办法强制 https 重定向，尽管这看起来有点奇怪。我们有一个仅限 https 的应用程序，我们只有一个简单的 ~4 行节点 http 服务器来重定向，没什么花哨的

这是我需要的，但他没有说那 4 行是什么。

我们如何做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2012-05-23T08:01:39.913

当只有一个可以完美地完成工作时，我真的不明白启动两台服务器的意义。例如，通过在服务器文件中添加一个简单的中间件：

```
app.use(function(req, res, next) {
  if(!req.secure) {
    return res.redirect(['https://', req.get('Host'), req.url].join(''));
  }
  next();
}); 
```

这会将任何非安全请求重定向到相应的 HTTPS 页面。例如，`http://example.com/`到`https://example.com/`和`http://example.com/foo?bar=woo`到`https://example.com/foo?bar=woo`。这绝对是我所期望的行为。也许您应该按主机过滤它，因此它仅重定向到您拥有并安装了正确证书的域。

如果您的应用程序在 Nginx 等另一台服务器后面运行，您可能需要添加配置参数`app.set('trust proxy', true)`。或者，更好的是，让 Nginx 自己进行重定向，这将比任何 Node.js 应用程序更有效。

**编辑：**根据我的基准，`join`比`+`连接字符串要快一点。没什么戏剧性的，但每次胜利都是胜利……

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T09:43:31.870

您应该创建第二个服务器监听 80 并使用 301 标头重定向到您的 https 服务器：

```
var express = require('express');
var app = express();

app.get('/', function(req, res, next){
  res.redirect('https://' + app.address().address)
});

app.listen(80); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-17T23:12:13.113

我遇到了类似的问题，重定向解决方案不适合我，因为本质上我想摆脱浏览器的不安全警告，

因此，我没有重定向每条消息，而是：

```
app1 = new express()
app1.get('/', function(req, res) {
res.sendFile(path.join(__dirname + '/redirect.html')); 
```

}); app1.listen(80, function(){'重定向服务器运行在 80 端口'})

在redirect.html 中只是一个重定向html 文件：

```
<meta http-equiv="refresh" content="0; URL='https://my-site.com'" /> 
```

当然，当你想要重定向所有路由时，这不适用于复杂的情况，但对我来说，我只想将我的主页重定向到我的 https 主页并摆脱浏览器的不安全警告。希望这对某人有帮助！

# oracle - 连接到两个不同的数据库并使用 shell 脚本比较表结果

> ID：10697667
> 
> 赞同：1
> 
> 时间：2012-05-22T07:32:58.430
> 
> 标签：oracle, shell

我的任务是将数据从一个数据库复制到另一个数据库。我没有创建 DB Link 的权限。所以，我在 shell 脚本中使用 COPY 命令完成了这项任务。但是现在，我需要比较数据库之间的记录数。我曾经手动执行此操作。但现在，我想自动化这个。

据我所知，Sqlplus 允许我一次连接到一个数据库。但我想要类似的东西

```
sqlplus -s un/pwd@sid <<EOF
 SELECT count(*) FROM table1 WHERE column1 = 'abc'  -- first database
 UNION ALL
 SELECT count(*) FROM table1 WHERE column1 = 'abc';  -- second database
exit
EOF 
```

是否可以省略 sqlplus 字符串并将其添加到查询中？

谢谢，萨维莎

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T08:01:31.107

您可能希望使用 sqlplus 替换变量来存储查询结果： [http ://docs.oracle.com/cd/B19306_01/server.102/b14357/ch5.htm#sthref1114](http://docs.oracle.com/cd/B19306_01/server.102/b14357/ch5.htm#sthref1114)

这些变量对于 SQL*Plus 实例是全局的，因此它们在连接到另一个数据库时会保留它们的值。

例子：

```
SQL> variable var1 number
SQL> variable var2 number
SQL> conn a/b@ccc
Connected.
SQL> begin
  2  select 1111 into :var1 from dual;
  3  end;
  4  /

PL/SQL procedure successfully completed.

SQL> print var1

      VAR1
----------
      1111

SQL> conn a/b@ddd
Connected.
SQL> print var1

      VAR1
----------
      1111

SQL> begin
  2  select 2222 into :var2 from dual;
  3  end;
  4  /

PL/SQL procedure successfully completed.

SQL> print :var2

      VAR2
----------
      2222

SQL> 
```

我们也可以这样看到它们：

```
SQL> print :var2 :var1

      VAR2
----------
      2222

      VAR1
----------
      1111

SQL> 
```

并在 PL/SQL 中使用它们：

```
SQL> set serveroutput on
SQL> declare
  2  v1 number := :var1;
  3  v2 number := :var2;
  4  begin
  5     dbms_output.put_line('The difference is: '||to_char((v2-v1)));
  6  end;
  7  /
The difference is: 1111

PL/SQL procedure successfully completed.

SQL> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T08:08:30.617

你可以像这样赶时间：

一个 sql 文件，我们将其命名为 tmp.sql：

```
select count(*) from user_tables;
--SELECT count(*) FROM table1 WHERE column1 = 'abc';
exit; 
```

一个 sh 文件，我们将其命名为 tmp.sh：

```
echo pass1 | sqlplus -s user1@sid1 @tmp.sql
echo pass2 | sqlplus -s user2@sid2 @tmp.sql 
```

`./tmp.sh`会输出类似：

```
Enter password:

  COUNT(*)
----------
      1717

Enter password:

  COUNT(*)
----------
        68 
```

(chmod +x tmp.sh)

这些脚本可以改进，但这可以是一个开始。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T10:32:08.920

COPY 命令在 SQL*Plus 中已被弃用，并且有很多限制。

数据泵将是处理这种情况的一种更强大的方法。

# mysql - mysql选择别名不起作用

> ID：10697668
> 
> 赞同：1
> 
> 时间：2012-05-22T07:32:59.787
> 
> 标签：mysql, select

我的 select 语句有问题，当运行 title_two 和 author_two 时，下一个标题值没有正确填充。相反，它们打印出与 b.title 和 b.author 相同的内容。我尝试将它们声明为

```
 `B.title AS title_two`.   

  SELECT R.bookone, B.title, B.author,
     R.booktwo, B.title title_two, B.author author_two, 
    R.relation, R.relationlike, R.relationdislike 
    FROM relationships R 
    INNER JOIN books B ON R.bookone = B.bookid; 
```

有两张桌子

具有以下内容的关系-relationshipid、bookone、booktwo、relation、relationlike、relationdislike

然后是 bookid、title、author、publisher 的书

bookone 和 booktwo 是引用 bookid 的外键，我想要实现的是拥有它，这样当用户单击链接时，它会显示该书与其他书的所有关系

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:37:39.490

Use Quotes while using alias

```
 SELECT R.bookone, B.title, B.author,
     R.booktwo, B.title as 'title_two', B.author as 'author_two', 
    R.relation, R.relationlike, R.relationdislike 
    FROM relationships R 
    INNER JOIN books B ON R.bookone = B.bookid; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:38:01.203

You need to join on books one more time. Something like:

```
 SELECT R.bookone, B1.title, B1.author,
    R.booktwo, B2.title title_two, B2.author author_two, 
    R.relation, R.relationlike, R.relationdislike 
    FROM relationships R 
    INNER JOIN books B1 ON R.bookone = B1.bookid
    INNER JOIN books B2 ON R.booktwo = B2.bookid 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:39:08.853

他们正在做他们应该做的事情。author_two 应与 B.author 相同，title_two 应与 B.title 相同。他们只是别名。

此外，从一个表中两次请求同一列不会得到表中的下一个结果——它只会返回同一列两次。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-08-09T02:11:39.570

如果别名在您的查询中不起作用，请检查您是否包含

> useOldAliasMetadataBehavior=true

在 JDBC 连接字符串中。

[https://bugs.mysql.com/bug.php?id=33966](https://bugs.mysql.com/bug.php?id=33966)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-05-22T07:37:40.037

The correct format is: `ColName` as `NewColName`

```
SELECT R.bookone as `BookOne`
  , ...
FROM relationships R 
INNER JOIN books B ON R.bookone = B.bookid; 
```

or simply ( without AS)

```
SELECT R.bookone `BookOne`
  , ...
FROM relationships R 
INNER JOIN books B ON R.bookone = B.bookid; 
```

# webdriver - Selenium WebDriver - 如何验证多行文本

> ID：10697678
> 
> 赞同：6
> 
> 时间：2012-05-22T07:33:49.413
> 
> 标签：webdriver, verify, multiline

我有一个包含以下内容的 html 页面：

```
 <center> 
          This is Login page. 
          <br> 
          Please click below link to Login.
          <br> 
          <a href="xxx">Login</a> 
    </center> 
```

如何使用一个 webdriver 命令验证上述所有静态文本？

我尝试了这些，但都不起作用:(

```
driver.findElement(By.xpath("//*[contains(.,'This is Login page.<br>Please click below link to Login')]"))
driver.findElement(By.xpath("//*[contains(.,'This is Login page.\nPlease click below link to Login')]")) 
```

有人知道该怎么做吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-22T08:50:03.260

你可以做：

```
webDriver.findElement(By.id("<ID of center tag>")).getText().contains("This is Login page.Please click below link to Login.Login"); 
```

随意使用您选择的定位器而不是 By.id。

基本上任何 WebElement 的 getText() 都会返回节点的文本内容，去掉所有的 HTML 标记和注释。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T09:02:11.773

这比 Selenium 更像是 XPath 的限制。

我不明白你为什么在那里使用全局 XPath 选择器，更好的 XPath 选择器应该是：

```
By.XPath("//center"); 
```

如果它是页面上唯一的“中心”标签，甚至：

By.XPath("//center[contains(text(), '这是一个登录页面'")

如果您通过代码而不是在 XPath 中盲目地搜索它，那么 /r 和 /n 字符将被保留。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-11-26T19:19:35.507

How to find the texts if the texts has space inbetween them.

```
 <br> 
        <br/>
      Please click below link to Login.
      <br> 
      <a href="xxx">Login</a> 
</center> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2018-10-30T21:10:43.497

您可以使用“\n”

```
return getText(supportText).contains("Information:" + "\n" +
    "This page is for use by the TECHNICAL TEAM only. Following links will be active, only if you have access (subscription) to those modules."); 
```

# javascript - css 列在每列上获取顶部元素

> ID：10697680
> 
> 赞同：-3
> 
> 时间：2012-05-22T07:34:05.543
> 
> 标签：javascript, jquery, css

例如，我有一个包含段落的 html 页面。就像这样：

```
<html>
<head><title>Paragraphs</title></head>
<body>
<p> Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren</p> <br/>
<p> Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren</p> <br/>
<p> Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren</p> <br/>
<p> Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren</p> <br/>
<p> Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren Lorem Lorem Lorem Loren</p> <br/>
</body>
</html> 
```

我想在列中显示它，所以我使用了 columns-width，columns-gap。问题是，我如何知道每列最顶部的元素。我已经设法获取特定列的元素。我想知道下一列的元素是什么。

这是 jsFiddle： http: [//jsfiddle.net/yQxC2/11/](http://jsfiddle.net/yQxC2/11/) 我的问题是我如何知道第一列、第二列等最上面的元素。对困惑感到抱歉。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:46:24.253

对于您的标签，我看到您使用 jQuery。

使用每个：

```
$(document).ready(function(){
    $("p").each(function() {
        alert(this.childNodes[0]); 
    });
}); 
```

# javascript - 由于异步图像加载，图像的宽度和高度为零

> ID：10697684
> 
> 赞同：4
> 
> 时间：2012-05-22T07:34:21.940
> 
> 标签：javascript, jquery, asynchronous

我有一个很长的`base64`类型字符串，我想设置为`src`图像的

```
 $('#img').attr('src',base64data)
 console.log('height - ' $('#img').height());
 console.log('width - ' $('#img').height()); 
```

看起来我回来`0`了。当然，如果我等一会儿，我会得到合适的高度。`height``width`

问题是`.attr()`没有回调，我将如何在`src`设置属性后获取高度和宽度而不`0`返回。（我想我得到 0 因为 Jquery 的变化是异步发生的，但我不能太确定）

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-22T07:36:26.853

```
$('#img').one('load', function() {
   console.log('height - ' $(this).height());
   console.log('width - ' $(this).width());
})
.attr('src',base64data);

/* if this image is already cached load event couldn't be fired:
 * then look for "complete" status and trigger load event 
 */
if ($('#img').get(0).complete) {
   $('#img').trigger('load');
} 
```

在获取之前`width`，`height`您需要等待`load`事件。请注意，我使用`one()`了方法，因为如果图像已被缓存，则不应触发该`load`事件两次

# linux - 使用 SPIDEV 访问 SPI 设备

> ID：10697689
> 
> 赞同：2
> 
> 时间：2012-05-22T07:34:36.433
> 
> 标签：linux, linux-device-driver, embedded-linux, spi

我想使用 SPIDEV 驱动程序访问嵌入式 Linux 系统上的 SPI 设备（Avago Tech 的光学鼠标设备）。该设备连接到 SPI0。

我在 menuconfig >“设备驱动程序”>“SPI”中启用了 SPI 和“用户模式 ​​SPI 设备驱动程序支持”。

我将代码添加到 board.c 文件

```
static struct spi_board_info spidev_board_info[] {
    {
        .modalias = "spidev",
        .max_speed_hz = 1000000,
        .bus_num = 1,
        .chips_select = 0,
        .mode = SPI_MODE_3,
    },
    {
        .modalias = "spidev",
        .max_speed_hz = 1000000,
        .bus_num = 1,
        .chips_select = 1,
        .mode = SPI_MODE_3,
    },
};
spi_register_board_info(spidev_board_info, ARRAY_SIZE(spidev_board_info)); 
```

我尝试将 500000 和 1000000 作为 max_speed_hz （1Mhz 是传感器允许的最高值）。SPI_MODE_3 是正确的，在数据​​表上检查。bus_num = 1 应该正确，因为它指的是 SPI0（出于好奇，我也尝试过 = 0）。

我检查了电气连接，一切正常。

内核编译并且映像正确启动，但我在 /sys/class/spidev/ 中找不到任何设备（在 /sys/bus/spi/... 中都没有）。在系统引导期间也不会出现对 SPI 的引用。

关于问题出在哪里的任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-23T12:27:21.903

我认为使用 Atmel 板，您应该使用 at91_add_device_spi 函数注册设备。那么它将是：

```
at91_add_device_spi(spidev_board_info, ARRAY_SIZE(spidev_board_info)); 
```

至少你必须确保你的板支持文件调用了这个函数，`board-sam9x5ek.c`以便初始化 SPI 主控制器。如果这样做，您上面建议的初始化是正确的。

# asp.net - 在服务器端存储 asp.net 视图状态后，浏览器后退按钮的行为是否相同？

> ID：10697697
> 
> 赞同：0
> 
> 时间：2012-05-22T07:35:05.933
> 
> 标签：asp.net, viewstate

如果我们将视图状态存储在数据库中，后退按钮的行为方式是否相同。意味着如果用户在第 3 步的第 1 步中填写了一些数据并转到第二页，但想要更改第一页上的某些内容所以点击返回按钮，他会看到他填写的相同信息吗？或者它将是空白的？

请说清楚。

有没有关于何时进入服务器端视图状态的文章？

谢谢。

# putty - PuTTY 致命错误：“没有可用的支持的身份验证方法”

> ID：10697711
> 
> 赞同：7
> 
> 时间：2012-05-22T07:35:49.787
> 
> 标签：putty, fatal-error

腻子致命错误：

```
No supported authentication methods available 
```

当我尝试登录生产服务器时，出现上述错误。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2019-02-01T02:55:53.393

编辑文件

```
sudo vi /etc/ssh/sshd_config 
```

设置密码验证是 [![在此处输入图像描述](../Images/7dd5b738b2e27a8e89716e6aaaecd5fb.png)](https://i.stack.imgur.com/fcu3q.png)

然后重启服务器

```
sudo service ssh restart
sudo service sshd restart 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-09T12:59:33.390

我认为您的私钥文件格式与腻子不兼容，因为腻子使用其本机格式。

详情：[http ://tartarus.org/~simon/putty-snapshots/htmldoc/Chapter10.html#errors-no-auth](http://tartarus.org/~simon/putty-snapshots/htmldoc/Chapter10.html#errors-no-auth)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-06-21T00:24:31.313

在我执行以下步骤后，它对我有用：

1- 下载 Puttygen ( [https://www.puttygen.com/download-putty](https://www.puttygen.com/download-putty) )

2- 打开 PUttyGen，然后从以下位置加载私钥：

C:\Users[用户名]\Chapter6.vagrant\machines\default\virtualbox

3-用新名称保存新的私钥。

4- 打开 Putty，转到 Connection > SSH > Auth > 并添加新的私钥

5- 现在使用 127.0.0.1 和 2222 连接

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:44:27.490

您是否仍然可以访问服务器（可能是打开的 shell？）查看 `/var/log/messages`更多详细信息。这可能与您的 PAM 配置有关。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-14T15:01:59.837

如果您已将公钥保存在外部驱动器上且未连接，则 putty 将在连接到远程服务器时抛出此错误。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-01-17T04:55:02.687

1.编辑 /etc/ssh/sshd_config 文件。2.将 PasswordAuthentication 和 ChallengeResponseAuthentication 更改为 yes。3a。重启 ssh /etc/init.d/ssh 重启。或 3b。最好使用 service sshd restart

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-12-17T03:56:32.833

通过 Puttygen 解决

我在 Windows 系统上，它不支持直接 shell 访问，如 linux 或 macOS。

1.  下载 Puttygen。
2.  将 .pem 密钥加载到 puttygen
3.  另存为私钥
4.  使用此密钥登录 ec2 实例

PS：另外，如果 SSH 要求登录/用户名 - 输入 ubuntu 或 admin

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-06-15T03:47:14.240

你更改文件夹权限了吗？我在本周遇到了这个问题，所以我发现导致我更改文件夹（名称是 ec2-user）权限的错误。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-06-01T10:16:47.803

如果您正在使用云服务并尝试使用 ssh 连接服务器，则不要以 ec2-user 身份登录用户名，默认用户名是 ubuntu forubuntu 服务器。

![](../Images/1d65c00a56ac2ceed0fb6eaff1d84232.png)

# c# - 当我单击asp.net mvc3中的链接时如何发送隐藏参数

> ID：10697712
> 
> 赞同：-1
> 
> 时间：2012-05-22T07:35:51.553
> 
> 标签：c#, html, asp.net-mvc-3, hyperlink, action

嗨，我正在使用 mvc3，并且我的站点中有一个链接，该链接当前通过
了一个参数，如下所示

```
<a href="/Call/@Model.id">Link To Call</a> 
```

如您所见，我正在向我的 Action 传递一个**id**，现在我
需要传递另一个参数，但我不想更改
链接的路线和当前情况，我可以发送一些隐藏的东西吗？
我的链接看起来一样

> 我试图做到这一点，**`Html.ActionLink`** 但它不起作用

请帮我 。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:58:41.553

实现这一点的最简单方法是语义化 => 使用 HTML`<form>`而不是链接。这样，所有输入字段值（包括隐藏的值）都将自动发送，您无需使用任何 javascript 来制作锚点的 href。所以锚点变成了表单的提交按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:38:38.100

是的，您可以将其作为查询字符串传递

```
<a href="/Call/@Model.id?parm="+ somevalue>Link To Call</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:50:35.537

链接触发`Http Get`请求，并且您想要随`Get`请求一起发送的任何数据都被塞入查询字符串中。如果隐藏字段是动态的，您可以在超链接的单击事件上将数据附加到查询字符串，例如

```
$('#linkId').live('click', function(){
   var href = $(this).attr('href');
   href += "?param1=" + $("#hidden1").val() + "&param2=" + $("#hidden2").val();
   $(this).attr('href',href);
   return true; 
}); 
```

上面的代码将从隐藏字段中读取值并通过 url 发送它们。如果您不希望这样，您必须更改您的 UI 以使用表单或执行 ajax 请求。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:54:09.217

我会做这样的事情，因为你的隐藏字段是动态的：

为您的链接添加一个类：

```
<a class="link-call" href="/Call/@Model.id">Link To Call</a> 
```

**请注意**，您的 href 应该类似于

```
href="@Url.Action("Index", "Call", { id  = @Model.id })" 
```

然后，使用 jQuery，您可以轻松地填充您的链接并发出该请求。

```
$(function() {

    $(".link-call").click(function(evt) {

        evt.preventDefault; // don't jump to /Call/2 automatically

        var url = $(this).attr("href") + "?"; // this will hold /Call/2?

        // append your hidden fields
        url += "hf1=" + $("#hf_001").val();
        url += "&hf2=" + $("#hf_002").val();
        url += "&hf3=" + $("#hf_003").val();

        // make the call
        document.location.href = url;
    });

}); 
```

你的控制器可能看起来像这样

```
public ActionResult Index(int id, string hf1, string hf2, string hf3)
{

} 
```

如果您的路线有，`ID`您可以从路线中获取 ID 值，而无需在方法中传递它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-22T07:57:15.673

我不认为你可以在不编辑 uri 的情况下做你在 GET 请求中要求的事情。我认为在 GET 请求的正文中使用发布数据在技术上是可行的，但不建议这样做。如果您确实选择编辑 uri，那么您将需要编辑操作上的参数列表以反映这些更改。

最好将此包裹在一个表单中并提交该表单。

# slickgrid - SlickGrid drag and sort on same cell

> ID：10697719
> 
> 赞同：0
> 
> 时间：2012-05-22T07:36:10.473
> 
> 标签：slickgrid

My question is if it is possible or someone has a good tutorial for making a SlickGrid row able to drag and drop somewhere but at the same be able to sort the grid aswell. Something like how 2 jquery connected sortables work.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T10:44:27.510

SlickGrid gtihub 在这里有一个非常好的例子。 [http://mleibman.github.io/SlickGrid/examples/example9-row-reordering.html](http://mleibman.github.io/SlickGrid/examples/example9-row-reordering.html)

# linux - Find value from one csv in another one (like vlookup) in bash (Linux)

> ID：10697724
> 
> 赞同：2
> 
> 时间：2012-05-22T07:36:38.057
> 
> 标签：linux, bash, csv, compare, vlookup

I have already tried all options that I found online to solve my issue but without good result.

Basically I have two csv files (pipe separated):

**file1.csv:**

```
123|21|0452|IE|IE|1|MAYOBAN|BRIN|OFFICE|STREET|MAIN STREET|MAYOBAN|

123|21|0453|IE|IE|1|CORKKIN|ROBERT|SURNAME|CORK|APTS|CORKKIN|

123|21|0452|IE|IE|1|CORKCOR|NAME|HARRINGTON|DUBLIN|STREET|CORKCOR| 
```

**file2.csv:**

```
MAYOBAN|BANGOR|2400

MAYOBEL|BELLAVARY|2400

CORKKIN|KINSALE|2200

CORKCOR|CORK|2200

DUBLD11|DUBLIN 11|2100 
```

I need a linux bash script to find the value of pos.3 from file2 based on the content of pos7 in file1.

Example:

```
file1, line1, pos 7: MAYOBAN
find MAYOBAN in file2, return pos 3 (2400) 
```

the output should be something like this:

```
**2400**

**2200**

**2200**

**etc...** 
```

Please help Jacek

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T07:53:31.283

一点方法，远非完美：

```
DELIMITER="|"

for i in $(cut -f 7 -d "${DELIMITER}" file1.csv ); 
do 
    grep "${i}" file2.csv | cut -f 3 -d "${DELIMITER}"; 
done 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T14:59:59.773

这将起作用，但由于必须对输入文件进行排序，因此输出顺序将受到影响：

```
join -t '|' -1 7 -2 1 -o 2.3 <(sort -t '|' -k7,7 file1.csv) <(sort -t '|' -k1,1 file2.csv) 
```

输出如下所示：

```
2200
2200
2400 
```

这是没用的。为了获得有用的输出，请包含键值：

```
join -t '|' -1 7 -2 1 -o 0,2.3 <(sort -t '|' -k7,7 file1.csv) <(sort -t '|' -k1,1 file2.csv) 
```

然后输出如下所示：

```
CORKCOR|2200
CORKKIN|2200
MAYOBAN|2400 
```

**编辑：**

这是一个 AWK 版本：

```
awk -F '|' 'FNR == NR {keys[$7]; next} {if ($1 in keys) print $3}' file1.csv file2.csv 
```

这循环通过 file1.csv 并为字段 7 的每个值创建数组条目。只需引用数组元素即可创建它（具有空值）。`FNR`是当前文件`NR`中的记录号，是所有文件中的记录号。当它们相等时，正在处理第一个文件。该`next`指令读取下一条记录，创建一个循环。当`FNR == NR`不再为真时，处理后续文件。

所以 file2.csv 现在被处理，如果它有一个字段 1 存在于数组中，那么它的字段 3 被打印出来。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-08-31T06:54:39.983

您可以使用米勒（[https://github.com/johnkerl/miller](https://github.com/johnkerl/miller)）。

从 input01.txt 开始

```
123|21|0452|IE|IE|1|MAYOBAN|BRIN|OFFICE|STREET|MAIN STREET|MAYOBAN|
123|21|0453|IE|IE|1|CORKKIN|ROBERT|SURNAME|CORK|APTS|CORKKIN|
123|21|0452|IE|IE|1|CORKCOR|NAME|HARRINGTON|DUBLIN|STREET|CORKCOR| 
```

和 input02.txt

```
MAYOBAN|BANGOR|2400
MAYOBEL|BELLAVARY|2400
CORKKIN|KINSALE|2200
CORKCOR|CORK|2200
DUBLD11|DUBLIN 11|2100 
```

并运行

```
mlr --csv -N --ifs "|" join  -j 7 -l 7 -r 1 -f input01.txt then cut -f 3 input02.txt 
```

你将会有

```
2400
2200
2200 
```

一些注意事项：

*   `-N`设置没有标题的输入和输出；
*   `--ifs "|"`设置输入字段分隔符；
*   `-l 7 -r 1`设置输入文件的连接字段；
*   `cut -f 3``3`从连接输出中提取命名的字段

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-27T04:38:57.380

```
cut -d\| -f7 file1.csv|while read line
do 
  grep $line file1.csv|cut -d\| -f3
done 
```

# c# - 不使用方法的返回值是一种好习惯吗？

> ID：10697725
> 
> 赞同：1
> 
> 时间：2012-05-22T07:36:39.380
> 
> 标签：c#

这是我的方法：

```
 public static bool ValidateAddressCount(ref long o_addressCount)
    {
  // o_addressCount is modified here
  //return true or false
   } 
```

当我不在乎方法返回什么时，我遇到了一些情况，我只需要 o_adressCount 以下列方式使用此方法是否是一个好习惯：

```
 long addressCount =  0;
  ValidateAddressCount(ref addressCount); //without assigning the returned value to any variable
  //use address count 
```

另外，谁能解释为什么这在.net中有效？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T07:38:23.673

由开发商决定。里面没有硬性规定。

像`bool int.TryParse(string s, out int a){}`

当我们传递一个要转换为`int`值的值时，它会返回一个`bool`值并使用 out 变量发送转换后的值。

有时我们需要检查它是否已经转换。这就是我们使用返回值的地方。

```
string str = "1";
int a = 0;

if(int.TryParse(str, out a))
    MessageBox.Show("Converted");
else
    MessageBox.Show("Not Converted"); 
```

Tryparse 可以简单地用作

```
bool b = int.TryParse(str, out a); 
```

假设返回的布尔值对我没有用。那么为什么要通过创建一个变量（`b`）来浪费内存，给它一个值而不使用它。所以我会把它写成

```
int.TryParse(str, out a); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-22T07:40:34.557

为什么它很容易：

```
long addressCount =  0;
ValidateAddressCount(ref addressCount); 
```

与

```
long addressCount =  0;
true; 
```

Any`<expression> ;`是一个有效的陈述。

这里有一个有效的问题：

*   为什么这个很可能是错误的语法没有警告？

因为通常忽略返回值不是一个好习惯。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:38:40.127

这是有效的，因为您使用 声明了一个方法`return-value`，这意味着您**可能**需要关心它`return-value`，但这不是强制性选项。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-22T07:40:43.390

当调用方法想要在传递的参数中更改被调用方法时使用 ref/out。

否则，使用 ref/out 不是一个好的选择。

如果要从被调用的方法返回多个值，则应使用动态对象/元组。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-22T07:42:55.553

您不必使用该方法的结果，您可以调用它以获得它的副作用。`ref`但是，如果可以的话，最好避免使用。在你的情况下，你可以 return `long?`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-22T07:45:00.077

不，您不需要分配返回值..但在我看来，`validateSomething(object)`如果对象有效与否，方法应该有一个返回值，并且检查返回值应该很重要。

如果该方法对对象做了某些事情，它不应该被称为 just `validateSomething(object)`，但是`validateAndChangeSomething(object)`......现在它正在混淆它正在做什么以及验证的主要输出是什么：返回值或修改后的对象..

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-05-22T08:06:19.227

虽然您所写的内容有效，但我认为您的方法在做什么并不是特别明显。

自从我第一次开始编码以来，事情已经发生了一些变化，但我相信现在最好的做法是先让你的代码对人类可读，然后如果你真的不得不做一些意想不到的事情，那就把它注释掉。

考虑到这一点，我会调整您的代码以提供一个属性来获取计数并修改该方法，以便您不需要参数。

我知道这并不能回答您问题的“使用方法并忽略返回类型”部分，但我认为这对您当时所做的事情是主观的。

# ios - iOS 和低功耗蓝牙

> ID：10697728
> 
> 赞同：1
> 
> 时间：2012-05-22T07:36:49.960
> 
> 标签：ios, ios5, core-bluetooth, bluetooth-lowenergy

我知道在 iOS 方面对蓝牙有很多限制。我想了解更多关于低功耗蓝牙 (LE) 和 Apple 从 iOS 5.0 及更高版本提供的 CoreBluetooth 框架的信息。

1.  我可以使用 Core Bluetooth Framework 将任何蓝牙 LE 设备连接到 iOS 设备吗？
2.  生产中是否有任何蓝牙 LE 设备，它带有一个三轴加速度计和一个陀螺仪，我可以像人机接口设备一样使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T19:48:23.843

Sagar，也许你可以解释一下你想做什么。

任何 BT4.0 LE 设备都可以使用 CoreBluetooth 框架与 iOS 应用程序连接和通信。

CC2540 开发套件确实包含一个带有加速度计的遥控钥匙，它没有陀螺仪。

套件随附的 USB 加密狗用于从 PC/Mac 与 fob 进行通信，您不需要它来与 iOS 设备进行通信。

# android - Minimum SDK to be used for setting up actionbarsherlock in android

> ID：10697730
> 
> 赞同：0
> 
> 时间：2012-05-22T07:36:49.847
> 
> 标签：android, actionbarsherlock

I want to use Actionbarsherlock in my application, which version of Android SDK is required to setup for it? Can you please provide me real time examples which uses Actionbarsherlock, also please provide me some sample example links which shows how to implement Actionbarsherlock in simple android application

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:46:01.467

请查看 [http://actionbarsherlock.com/上的文档](http://actionbarsherlock.com/)

由于该库是兼容性库的扩展，我相信您可以将 android:minSdkVersion 设置为 4。

无论我的应用程序的目标版本是什么，我总是使用最新的 SDK (4.x)。你的问题有点含糊。当您开始或遇到问题时，我建议您提出更具体的问题。

# java - 重复打印

> ID：10697735
> 
> 赞同：1
> 
> 时间：2012-05-22T07:37:23.530
> 
> 标签：java, command, irc, bots

不太确定给它起什么名字，抱歉，如果它有误导性

```
for(int i=0; i < stockArr.length; i++)
{
    if(source.contains(stockArr[i]))
    {
        if (param.equalsIgnoreCase("!auth")) 
        {
            Class24_Sub2_Sub3_Sub1.freeAuth = true;
            System.out.println("[614 TEAM]: You have been granted a trial auth.");
            TCPRequestManager.doMsg(c.getHomechannel(),
                                    Class51.loginUsername.toLowerCase() +" has been given a trial auth!");
        }
     } 
```

}

它读取数组以查找您的名字是否存在，如果为真，它将继续执行命令，但问题是如果它找到超过 1 个名称，它将多次执行该命令

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:45:24.227

你应该更换

```
for(int i=0; i < stockArr.length; i++) 
```

和

```
for(int i=0; i < stockArr.length && !Class24_Sub2_Sub3_Sub1.freeAuth; i++) 
```

# graphics - 帧缓冲区大小

> ID：10697737
> 
> 赞同：0
> 
> 时间：2012-05-22T07:37:29.677
> 
> 标签：graphics

帧缓冲区是否包含深度缓冲区信息，或者只是图形应用程序中的颜色缓冲区信息？对于 Windows 上的 gui 来说，它们是帧缓冲区吗？它是同时保存颜色缓冲区 + 深度信息还是只保存颜色信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:41:41.383

如果您谈论的是 Linux 中的内核级帧缓冲区，它会设置分辨率和颜色深度。这是[常见的帧缓冲模式](http://en.wikipedia.org/wiki/VESA_BIOS_Extensions#Other_commonly_available_modes)列表；请注意，模式由分辨率和颜色深度决定。`vga=...`您可以通过在引导加载程序 ( )中将命令行参数传递给内核来覆盖帧缓冲区。

与 Linux 不同，在 Windows 上，图形子系统是操作系统的一部分。我不*认为*（如果我错了，请有人纠正我）在最新的 Windows 中支持非 VGA 输出设备，因此帧缓冲区已被弃用/不可用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T09:10:12.777

对于实时 3D，“标准”缓冲区是 RGBA 格式的颜色缓冲区，每个组件 1 个字节，以及深度缓冲区，每个组件 3 个字节。每个片段有一个样本（即，如果您有 8x 抗锯齿，则每个像素将有 8 种颜色和 8 个深度样本）

现在，许多应用程序使用额外的自定义缓冲区。它们通常称为 g 缓冲区。这些可以包括：对象 ID、材质 ID、反照率、光泽度、法线、切线、副法线、AO 因子、影响片段的大多数进光等。在 1080p 和 4xMSAA 以及双缓冲或三缓冲时，这可能需要大量内存，因此所有这些信息通常都尽可能紧密地打包。

# mdx - 选择维度中的其他层次结构

> ID：10697740
> 
> 赞同：1
> 
> 时间：2012-05-22T07:37:41.873
> 
> 标签：mdx, mondrian

我用谷歌搜索了错误消息和其他各种关键字，但没有发现任何与我自己的问题足够相似的东西可以应用它。

在我的架构中，我有以下维度：

```
<Dimension name="Chip">
  <Hierarchy hasAll="true" primaryKey="chip_id">
    <Table name="chip"/>
    <Level name="Reference Designator" column="ux" type="Integer"/>
    <Level name="Pad" column="pad" type="Integer"/>
    <Level name="Chip" column="chip" type="Integer"/>
  </Hierarchy>
  <Hierarchy name="Flash Pack Hierarchy" hasAll="true" primaryKey="chip_id">
    <Table name="chip"/>
    <Level name="Flash Pack" column="fp" type="Integer"/>
    <Level name="Pad" column="pad" type="Integer"/>
    <Level name="Chip" column="chip" type="Integer"/>
  </Hierarchy>
  <Hierarchy name="Bank Hierarchy" hasAll="true" primaryKey="chip_id">
    <Table name="chip"/>
    <Level name="Bank" column="bank" type="Integer"/>
    <Level name="Chip" column="chip" type="Integer"/>
  </Hierarchy>
</Dimension> 
```

和立方体：

```
<Cube name="Chip Facts">
  <Table name="chip_facts"/>
  <DimensionUsage name="Machine" source="Machine" foreignKey="machine_id"/>
  <DimensionUsage name="Card" source="Card" foreignKey="card_id"/>
  <DimensionUsage name="Chip" source="Chip" foreignKey="chip_id"/>
  <DimensionUsage name="Failure" source="Failure" foreignKey="failure_id"/>
</Cube> 
```

我可以查询：

```
select
  [Chip].[Reference Designator].members on columns
from [Chip Facts] 
```

但不是：

```
select
  [Chip].[Flash Pack].members on columns
from [Chip Facts] 
```

我得到：

> 原因：mondrian.olap.MondrianException: Mondrian Error:MDX object '[Chip].[Flash Pack]' not found in cube'Chip Facts'

如何选择其他层次结构？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T08:13:56.463

也许：

```
select [Chip].[Flash Pack Hierarchy].[Flash Pack].members on 0 from [Chip Facts] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T17:43:19.637

第一个层次结构没有名称，这是默认层次结构。第二个层次是[Flash Pack Hierarchy]，名称是必需的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:06:12.127

语法 mondrian Olap 多维数据集

```
select {[Measures.qty1],..} on rows,
{[dimension.heirrarchy].members} on columns
from cube 
```

# c# - EF: Duplicate Key on insert

> ID：10697741
> 
> 赞同：0
> 
> 时间：2012-05-22T07:37:55.527
> 
> 标签：c#, entity-framework

I Have the follwing Code:

```
public bool AddLeaveFormApprovers(List<LeaveFormApprovers> listToAdd)
{
    bool returnValue=false;
    try
    {
        using (LeaveRegulationEntities db = new LeaveRegulationEntities(ConnectionStringHelper.GetConnectionString(DaConstants.LeaveRegulationEntities)))
        {
            foreach(LeaveFormApprovers approvers in listToAdd)
            {
                approvers.AssignedLeave = db.AssignedLeave
                   .FirstOrDefault(a => a.AssignedLeaveID == approvers.AssignedLeave.AssignedLeaveID);
                approvers.LeaveFormApproverSys = db.LeaveFormApproverSys
                   .FirstOrDefault(a => a.LeaveFormApproverID == approvers.LeaveFormApproverSys.LeaveFormApproverID);
                db.LeaveFormApprovers.AddObject(approvers);
            }                    
            db.SaveChanges();
        }
        returnValue = true;
    }
    catch (Exception ex)
    {
        _Exceptions.ManageExceptions(ex);
    }
    return returnValue;
} 
```

The List of `List<LeaveFormApprovers>` is loaded from another context for that i'm getting the objects in the current context:

```
approvers.AssignedLeave = db.AssignedLeave
    .FirstOrDefault(a => a.AssignedLeaveID == approvers.AssignedLeave.AssignedLeaveID);
approvers.LeaveFormApproverSys = db.LeaveFormApproverSys
    .FirstOrDefault(a => a.LeaveFormApproverID == approvers.LeaveFormApproverSys.LeaveFormApproverID); 
```

I'm getting the following error:

> Violation of PRIMARY KEY constraint 'PK_*LeaveFor*_B29C651847BE14B9'. Cannot insert duplicate key in object 'dbo.LeaveFormApproverSys'.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T08:59:20.027

在生成`listToAdd`尝试附加的查询中`AsNoTracking()`。这应该会停止 EF 跟踪实体并稍后尝试重新插入它。

# java - 加载 xlsx 包时出错

> ID：10697744
> 
> 赞同：3
> 
> 时间：2012-05-22T07:38:00.423
> 
> 标签：java, r, xlsx

昨天我们迁移到我们公司的 Windows 7，还更新了 java 包和 R（到 2.14）。

然后我尝试加载 xlsx 包，因为我非常依赖它，但我收到以下错误：

```
Error : .onAttach in attachNamespace()
Error: .jnew("org/apache/poi/xssf/usermodel/XSSFWorkbook") 
```

我尝试了以下方法，但没有奏效：

```
Sys.setenv(PATH=paste(Sys.getenv("PATH"),"C:\\Program Files (x86)\\Java\\jre6\\bin\\client",collapse=';')) 
options(java.parameters = "-Xmx1000m") 
```

因为我从不使用java，所以我不知道我能做什么。你能帮助我吗？

谢谢！

> sessionInfo() R 版本 2.14.1 (2011-12-22) 平台：i386-pc-mingw32/i386 (32-bit)
> 
> 语言环境：[1] LC_COLLATE=German_Austria.1252 LC_CTYPE=German_Austria.1252
> [3] LC_MONETARY=German_Austria.1252 LC_NUMERIC=C
> [5] LC_TIME=German_Austria.1252
> 
> 附加的基础包：[1] stats graphics grDevices utils datasets methods base
> 
> 其他附加包：[1] xlsxjars_0.4.0 rJava_0.9-3
> 
> 通过命名空间加载（未附加）：[1] tools_2.14.1 xlsx_0.4.2

* * *

有趣的是，XLConnect 包加载没有问题。编辑：好的，它加载没有问题，但加载工作簿不起作用：

```
Error: NoSuchMethodError (Java): org.apache.xmlbeans.XmlOptions.setSaveAggressiveNamespaces()Lorg/apache/xmlbeans/XmlOptions; 
```

所以也许这真的不是Java问题。但我不想将我所有的代码都重写到 XLConnect！

没有人知道我可以尝试什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-28T00:10:39.373

我遇到了完全相同的错误并找到了解决方法。如果您指定网络上的库位置以将包安装到其中，则会发生错误。

```
## Example where error occurs: 
install.packages('xlsx', lib='\\network\R\library')
library('xlsx', lib='\\network\R\library')) 
```

但是，如果您在 R 中更改包安装的默认位置，那么您应该能够调用包库而不会出现错误。也就是说，只需键入 install.packages('xlsx')，并让包自动安装到其默认位置，就可以让包正常工作。

# php - Extending facebook access token after 60 days

> ID：10697746
> 
> 赞同：10
> 
> 时间：2012-05-22T07:38:07.303
> 
> 标签：php, jquery, facebook, authorization, deprecated

Is it possible to extend the 60 day access token? I read somewhere that when a user visits your site it can be extended? (for another 60 days)? Will this be the same token or a new token entirely?

I basically want offline_access like it used to be. I have a small jquery script that displays the user's facebook wall on their own site.

I also read this:

""You will need to get the user to reauthenticate again within 60 days to grab a new token." --- nope. As long as there is publish_stream permitted - you don't need user's tokens ever. Until user deletes the application from apps list - you can post the messages, even after 100 years. So, no, there is no reason to persist any token additionally to application key and secret – zerkms Apr 5 at 9:02"

Is this true? Obviously I do not need publish permissions, I only want read stream permissions.

--Update:

Quote from FB:

"If you would like to refresh a still valid long-lived access_token, you will have to get a new short-lived user access_token first and then call the same endpoint below. The returned access_token will have a fresh long-lived expiration time, however, the access_token itself may or may not be the same as the previously granted long-lived access_token"

So how exactly do you get an entirely new token? FB.login method simply returns the existing (non-expired) token. Any ideas?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-24T05:50:15.050

为了延长访问令牌到期日期的使用，

```
https://graph.facebook.com/oauth/access_token?             
client_id=APP_ID&
client_secret=APP_SECRET&
grant_type=fb_exchange_token&
fb_exchange_token=EXISTING_ACCESS_TOKEN 
```

有关更多详细信息，请查看[http://developers.facebook.com/roadmap/offline-access-removal/](http://developers.facebook.com/roadmap/offline-access-removal/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T09:46:51.677

不可以。您不能延长通证超过 60 天，您只能延长短期通证，当您这样做时，您会得到一个长期通证，即 60 天。

您也可以拥有所有权限，但除非您拥有有效的访问令牌，否则您无法发出 api 请求（好吧，您可以但会遇到异常）。

我不确定你是如何获得 60 天令牌的，如果它是客户端（然后扩展它）还是服务器端，但根据[删除 offline_access 权限](http://developers.facebook.com/roadmap/offline-access-removal/)官方帖子：

> **场景 3：服务器端 OAuth 开发者**
> 
> ...
> 
> 如果在该用户仍有有效的长寿命用户 access_token 时进行调用，则第二次调用返回的用户 access_token 可能相同或可能已更改，但在任何一种情况下，到期时间都将设置为 long到期时间。

或者

> **场景 4：客户端 OAuth 和通过新端点延长 Access_Token 过期时间**
> 
> ……
> 
> 请注意，端点只能用于扩展短期用户 access_tokens。如果您传递具有长期过期时间的 access_token，端点将简单地将相同的 access_token 传递回您，而不会更改或延长过期时间。
> 
> ...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-25T07:03:14.567

您可以使用 PHP SDK 使用以下代码

```
$extendedToken = $facebook->setExtendedAccessToken();
$token = $facebook->getAccessToken();
print_r($token); 
```

在用户登录并为您提供所需的权限后。在简单地使用 Graph API 调用之后，您还可以检索其他扩展访问令牌，例如 Page

```
$facebook->api('<PAGE_ID>?fields=access_token'); 
```

这将返回页面的扩展访问令牌。前提是您已请求 manage_page 权限。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T02:47:22.340

Sujathan 是正确的 - 有一个 Facebook 页面记录了更改后的操作：http: [//developers.facebook.com/roadmap/offline-access-removal/](http://developers.facebook.com/roadmap/offline-access-removal/)

向以下 url 发送获取请求：

```
https://graph.facebook.com/oauth/access_token?client_id=APP_ID&client_secret=APP_SECRET&grant_type=fb_exchange_token&fb_exchange_token=EXISTING_ACCESS_TOKEN 
```

此外，看起来这是重复的：[How to extend access token validation since offline_access deprecation](https://stackoverflow.com/questions/8982025/how-to-extend-access-token-validity-since-offline-access-deprecation)

# servicestack - 使用 ServiceStack 调用了错误的 Rest 服务

> ID：10697747
> 
> 赞同：1
> 
> 时间：2012-05-22T07:38:08.193
> 
> 标签：servicestack

在过去的一个月里，我注意到一个奇怪的行为，即使用服务堆栈调用了错误的 REST 服务。

一切似乎都在工作，然后当我添加一个新的 REST 服务时，我的工作 REST 服务无法正常工作（即调用了错误的 REST 服务）。

我将解释我如何拥有服务的数据合同，这可以解释我遇到问题的原因。

我最初有：

```
[DataContract(Name = "MyService", Namespace = "")]
[RestService("/api/v1/dvbs/{ServiceName}", "GET", "application/xml")]
public class GetServiceDto
{
    [DataMember(Name = "SessionId", Order = 1)]
    public string SessionId { get; set; }
    [DataMember(Name = "UserName", Order = 2)]
    public string UserName { get; set; }
    [DataMember(Name = "ServiceName", Order = 3)]
    public string ServiceName { get; set; }
} 
```

当我在所有调用中传递相同的数据（sessionid、用户名和服务名）时，任何新服务都以：

```
[DataContract(Name = "MyService", Namespace = "")]
[RestService("/api/v1/dvbs/{ServiceName}/tuners", "GET", "application/xml")]
public class GetTunersDto : GetServiceDto
{
} 
```

正如我所提到的，这一切都很好，但是当我添加一个新服务时，当我调用“api/v1/dvbs/{ServiceName}”服务“api/v2/dvbs/{ServiceName}/tuners”将被调用。

我删除了继承关系，以便我拥有：

```
[DataContract(Name = "MyService", Namespace = "")]
[RestService("/api/v1/dvbs/{ServiceName}/tuners", "GET", "application/xml")]
public class GetDvbConfigTunersDto
{
    [DataMember(Name = "SessionId", Order = 1)]
    public string SessionId { get; set; }
    [DataMember(Name = "UserName", Order = 2)]
    public string UserName { get; set; }
    [DataMember(Name = "ServiceName", Order = 3)]
    public string ServiceName { get; set;}
} 
```

现在工作正常。

奇怪的是它工作正常，只有当我稍后添加新服务时才会出现错误的映射。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T19:56:33.070

每个服务只能有 1 个请求 DTO，并且继承请求 DTO 继承属性路由，这使得**GetTunersDto继承与****GetServiceDto**相同的路由，后者使用冲突和不明确的路由填充 ServiceStack。

解决方案是不要在 DTO（尤其是请求 DTO）上使用继承。

# javascript - 如何使用 requestAnimationFrame 调用我的 js 原型？

> ID：10697748
> 
> 赞同：3
> 
> 时间：2012-05-22T07:38:10.053
> 
> 标签：javascript

我想使用 requestAnimationFrame 无限地调用我的方法动画。但是，我使用的方法似乎不起作用..这是我的代码..

```
<html>
    <head>
        <meta charset="utf-8">

        <script>
function object(){
    this.index = 0;
}

object.prototype.animate = function(){
    alert("vimak");
    window.webkitRequestAnimationFrame( self.animate);
}
me = new object();
me.animate();

        </script>

    </head>

    <body>
    </body>
</html> 
```

它给了我以下错误。未捕获的错误：TYPE_MISMATCH_ERR：DOM Exception 17

我该如何解决 ？

**编辑版本**

```
<html>
    <head>
        <meta charset="utf-8">

        <script>
function object(){
    this.index = 0;
}

object.prototype.animate = function(){

    var that = this;console.log(that);
    window.webkitRequestAnimationFrame( that.animate);
}
me = new object();
me.animate();

        </script>

    </head>

    <body>
    </body>
</html> 
```

输出是

对象 requestAnimationFrame.html:12 窗口 requestAnimationFrame.html:12 未捕获错误：TYPE_MISMATCH_ERR：DOM 异常 17

我如何使这项工作？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-05-22T08:13:20.627

您必须考虑（调试）该上下文的含义`self`。

使用局部变量绑定原始上下文：

```
var that = this;
window.webkitRequestAnimationFrame( function() { that.animate(); } ); 
```

或使用以下`bind`功能：

```
window.webkitRequestAnimationFrame( this.animate.bind(this) ); 
```

# xcode - xcode calculator app method

> ID：10697750
> 
> 赞同：0
> 
> 时间：2012-05-22T07:38:16.763
> 
> 标签：xcode, calculator

I'm doing a calculator app base on a online tutorial, itunes.apple. com/itunes-u/ipad-iphone-application- development/ id473757255 (tut 2)

I followed every step closely and all was fine, until the finishing step of a method call performOperation. When I build and run, the numbers and enter function work fine. Only the operation method is not working. So I presume that the main trouble is with the operation method.

BrainCalculator.h

```
@interface CalculatorBrain : NSObject

-(void) pushOperand: (double)operand;
-(double) performOperation: (NSString*) operation;

@end 
```

BrainCalculator.m

```
#import "CalculatorBrain.h"
@interface CalculatorBrain()
@property (nonatomic, strong) NSMutableArray* _operandStack;

@end

@implementation CalculatorBrain
@synthesize _operandStack;
-(NSMutableArray *)operandStack
{
    if (!_operandStack){
        _operandStack= [[NSMutableArray alloc ]init];
    }

    return _operandStack;
}

-(void)pushOperand:(double)operand{
    NSNumber *operandObject = [NSNumber numberWithDouble:operand];
    [self.operandStack addObject:operandObject];
}

-(double)popOperand{
    NSNumber *operandObject= [self.operandStack lastObject];
    if (operandObject) [self.operandStack removeLastObject];    
    return [operandObject doubleValue];
}   

-(double)performOperation:(NSString *)operation
{
    double result = 0;

    if ([operation isEqualToString:@"+"]){
        result=[self popOperand] + [self popOperand];
    }else if ([@"*" isEqualToString:operation]){
        result = [self popOperand] * [self popOperand];
    }else if ([operation isEqualToString:@"-"]){
        double subtrahend = [self popOperand];
        result = [self popOperand] - subtrahend;
    }else if( [operation isEqualToString:@"/"]){
        double divisor = [self popOperand];
        if (divisor) result = [self popOperand] / divisor;
    }
    [self pushOperand:result];
    return result;
}

@end 
```

Initially, it seem to me that the performOperation method was pretty fishy, so I tried fiddling the

```
 }else if ([@"*" isEqualToString:operation]){ 
```

to

```
}else if ([operation isEqualToString:@"*"]){ 
```

hoping it would work, but sadly it didn't.

Just for additional information

viewcontroller.m

```
#import "CalculatorViewController.h"
#import "CalculatorBrain.h"

@interface CalculatorViewController ()
@property (nonatomic) BOOL userIsInTheMiddleOfEnteringANumber;
@property (nonatomic, strong) CalculatorBrain *brain;
@end

@implementation CalculatorViewController
@synthesize display;
@synthesize userIsInTheMiddleOfEnteringANumber;
@synthesize brain= _brain;  

-(CalculatorBrain*)brain
{
    if(!_brain)_brain = [[CalculatorBrain alloc]init];
    return _brain;
}

- (IBAction)digitPressed:(UIButton *)sender {

    NSString * digit= [ sender currentTitle];
    if (userIsInTheMiddleOfEnteringANumber){
        self.display.text = [self.display.text stringByAppendingString:digit];
    }
    else{
        self.display.text=digit;
        self.userIsInTheMiddleOfEnteringANumber = YES;
    }

} 

- (IBAction)enterPressed {
    [self.brain pushOperand:[self.display.text doubleValue]];
    self.userIsInTheMiddleOfEnteringANumber = NO;  

}

- (IBAction)operationPressed:(UIButton *)sender {
    if (self.userIsInTheMiddleOfEnteringANumber){
        [self enterPressed];
    }
    NSString *operation = [sender currentTitle];
    double result = [self.brain performOperation:operation];
    self.display.text = [NSString stringWithFormat:@"%g", result];
}   

@end 
```

help will be greatly appreciated as I'm practising xcode to prepare myself for my final year major project.

# c# - 如何使用对 Azure 表存储的单个查询来检索多种类型的实体？

> ID：10697752
> 
> 赞同：6
> 
> 时间：2012-05-22T07:38:22.923
> 
> 标签：c#, azure, nosql, azure-table-storage

我正在尝试了解 Azure 表存储如何工作以创建 facebook 样式的提要，但我一直坚持如何检索条目。

[（我的问题与https://stackoverflow.com/questions/6843689/retrieve-multiple-type-of-entities-from-azure-table-storage](https://stackoverflow.com/questions/6843689/retrieve-multiple-type-of-entities-from-azure-table-storage)几乎相同，但答案中的链接已损坏。）

**这是我的预期方法：**

1.  为我的应用程序中的所有用户创建一个个人提要，其中可以包含不同类型的条目（通知、状态更新等）。我的想法是将它们存储在按每个用户的分区键分组的 Azure 表中。

2.  检索同一分区键中的所有条目，并根据条目类型将其传递到不同的视图。

> **如何在保持其独特属性的同时查询相同基本类型的所有类型的表存储？**

需要一个类型化的`CloudTableQuery<TElement>`实体，如果我指定`EntryBase`为通用参数，我不会获得特定于条目的属性 ( `NotificationSpecificProperty`, `StatusUpdateSpecificProperty`)，反之亦然。

**我的实体：**

```
public class EntryBase : TableServiceEntity
{
    public EntryBase()
    {

    }
    public EntryBase(string partitionKey, string rowKey)
    {
        this.PartitionKey = partitionKey;
        this.RowKey = rowKey;
    }
}

public class NotificationEntry : EntryBase
{
    public string NotificationSpecificProperty { get; set; }
}

public class StatusUpdateEntry : EntryBase
{
    public string StatusUpdateSpecificProperty { get; set; }
} 
```

**我对提要的查询：**

```
List<AbstractFeedEntry> entries = // how do I fetch all entries?

foreach (var item in entries)
{

    if(item.GetType() == typeof(NotificationEntry)){

        // handle notification

    }else if(item.GetType() == typeof(StatusUpdateEntry)){

        // handle status update

    }

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-13T12:48:57.190

终于有官方方法了！:)

查看 Azure 存储团队博客的此链接中的 NoSQL 示例：

[Windows Azure 存储客户端库 2.0 表深入了解](https://docs.microsoft.com/en-us/archive/blogs/windowsazurestorage/windows-azure-storage-client-library-2-0-tables-deep-dive)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T15:03:52.870

有几种方法可以解决这个问题，你如何做到这一点取决于你的个人喜好以及潜在的性能目标。

*   创建一个代表所有查询类型的合并类。如果我有 StatusUpdateEntry 和 NotificationEntry，那么我只需将每个属性合并到一个类中。序列化程序将自动填写正确的属性并将其他属性保留为空（或默认值）。如果您还在实体上放置“类型”属性（在存储中计算或设置），则可以轻松打开该类型。因为我总是建议在应用程序中从表实体映射到您自己的类型，所以这也可以正常工作（该类仅用于 DTO）。

例子：

```
[DataServiceKey("PartitionKey", "RowKey")]
public class NoticeStatusUpdateEntry
{
    public string PartitionKey { get; set; }   
    public string RowKey { get; set; }
    public string NoticeProperty { get; set; }
    public string StatusUpdateProperty { get; set; }
    public string Type
    {
       get 
       {
           return String.IsNullOrEmpty(this.StatusUpdateProperty) ? "Notice" : "StatusUpate";
       }
    }
} 
```

*   覆盖序列化过程。您可以通过挂钩 ReadingEntity 事件自己执行此操作。它为您提供原始 XML，您可以根据需要选择序列化。Jai Haridas 和 Pablo Castro 提供了一些示例代码，用于在您不知道类型时读取实体（包括在下面），您可以调整它以读取您知道的特定类型。

这两种方法的缺点是，在某些情况下，您最终会提取比您需要的更多的数据。您需要权衡您真正想要查询一种类型与另一种类型的程度。请记住，您现在可以在表格存储中使用投影，这样还可以减少线格式大小，并且当您有更大的实体或许多要返回的实体时，可以真正加快速度。如果您只需要查询一种类型，我可能会使用 RowKey 或 PartitionKey 的一部分来指定类型，这样我就可以一次只查询一种类型（您可以使用属性，但是这对于查询目的不如 PK 或 RK 有效）。

编辑：正如 Lucifure 所指出的，另一个不错的选择是围绕它进行设计。使用多个表、并行查询等。当然，您需要权衡超时和错误处理的复杂性，但根据您的需要，它也是一个可行且通常也是不错的选择。

读取通用实体：

```
[DataServiceKey("PartitionKey", "RowKey")]   
public class GenericEntity   
{   
    public string PartitionKey { get; set; }   
    public string RowKey { get; set; } 

    Dictionary<string, object> properties = new Dictionary<string, object>();   

    internal object this[string key]   
    {   
        get   
        {   
            return this.properties[key];   
        }   

        set   
        {   
            this.properties[key] = value;   
        }   
    }   

    public override string ToString()   
    {   
        // TODO: append each property   
        return "";   
    }   
}   

    void TestGenericTable()   
    {   
        var ctx = CustomerDataContext.GetDataServiceContext();   
        ctx.IgnoreMissingProperties = true;   
        ctx.ReadingEntity += new EventHandler<ReadingWritingEntityEventArgs>(OnReadingEntity);   
        var customers = from o in ctx.CreateQuery<GenericTable>(CustomerDataContext.CustomersTableName) select o;   

        Console.WriteLine("Rows from '{0}'", CustomerDataContext.CustomersTableName);   
        foreach (GenericEntity entity in customers)   
        {   
            Console.WriteLine(entity.ToString());   
        }   
    }  

    // Credit goes to Pablo from ADO.NET Data Service team 
    public void OnReadingEntity(object sender, ReadingWritingEntityEventArgs args)   
    {   
        // TODO: Make these statics   
        XNamespace AtomNamespace = "http://www.w3.org/2005/Atom";   
        XNamespace AstoriaDataNamespace = "http://schemas.microsoft.com/ado/2007/08/dataservices";   
        XNamespace AstoriaMetadataNamespace = "http://schemas.microsoft.com/ado/2007/08/dataservices/metadata";   

        GenericEntity entity = args.Entity as GenericEntity;   
        if (entity == null)   
        {   
            return;   
        }   

        // read each property, type and value in the payload   
        var properties = args.Entity.GetType().GetProperties();   
        var q = from p in args.Data.Element(AtomNamespace + "content")   
                                .Element(AstoriaMetadataNamespace + "properties")   
                                .Elements()   
                where properties.All(pp => pp.Name != p.Name.LocalName)   
                select new   
                {   
                    Name = p.Name.LocalName,   
                    IsNull = string.Equals("true", p.Attribute(AstoriaMetadataNamespace + "null") == null ? null : p.Attribute(AstoriaMetadataNamespace + "null").Value, StringComparison.OrdinalIgnoreCase),   
                    TypeName = p.Attribute(AstoriaMetadataNamespace + "type") == null ? null : p.Attribute(AstoriaMetadataNamespace + "type").Value,   
                    p.Value   
                };   

        foreach (var dp in q)   
        {   
            entity[dp.Name] = GetTypedEdmValue(dp.TypeName, dp.Value, dp.IsNull);   
        }   
    }   

    private static object GetTypedEdmValue(string type, string value, bool isnull)   
    {   
        if (isnull) return null;   

        if (string.IsNullOrEmpty(type)) return value;   

        switch (type)   
        {   
            case "Edm.String": return value;   
            case "Edm.Byte": return Convert.ChangeType(value, typeof(byte));   
            case "Edm.SByte": return Convert.ChangeType(value, typeof(sbyte));   
            case "Edm.Int16": return Convert.ChangeType(value, typeof(short));   
            case "Edm.Int32": return Convert.ChangeType(value, typeof(int));   
            case "Edm.Int64": return Convert.ChangeType(value, typeof(long));   
            case "Edm.Double": return Convert.ChangeType(value, typeof(double));   
            case "Edm.Single": return Convert.ChangeType(value, typeof(float));   
            case "Edm.Boolean": return Convert.ChangeType(value, typeof(bool));   
            case "Edm.Decimal": return Convert.ChangeType(value, typeof(decimal));   
            case "Edm.DateTime": return XmlConvert.ToDateTime(value, XmlDateTimeSerializationMode.RoundtripKind);   
            case "Edm.Binary": return Convert.FromBase64String(value);   
            case "Edm.Guid": return new Guid(value);   

            default: throw new NotSupportedException("Not supported type " + type);   
        }   
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T16:20:47.423

当然，另一种选择是每个表只有一个实体类型，并行查询表并合并按时间戳排序的结果。从长远来看，这可能被证明是在可扩展性和可维护性方面更谨慎的选择。

或者，您将需要使用“dunnry”概述的某种通用实体，其中不显式键入非常见数据，而是通过字典保存。

我编写了一个备用 Azure 表存储客户端 Lucifure Stash，它支持对 azure 表存储的额外抽象，包括**持久化到字典/从字典持久**化，如果这是您想要追求的方向，它可能适用于您的情况。

Lucifure Stash 支持 > 64K 的大型数据列、数组和列表、枚举、复合键、开箱即用的序列化、用户定义的变形、公共和私有属性和字段等。它可在[http://www.lucifure.com](http://www.lucifure.com) 或通过 NuGet.com 免费供个人使用。

[编辑：现在在CodePlex](http://lucifurestash.codeplex.com/)开源

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-10T22:12:11.497

使用[DynamicTableEntity](http://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.table.dynamictableentity_members.aspx)作为查询中的实体类型。它有一个您可以查找的属性字典。它可以返回任何实体类型。

# math - 取消旋转矩阵中的角度

> ID：10697755
> 
> 赞同：1
> 
> 时间：2012-05-22T07:38:30.347
> 
> 标签：math, matrix, rotational-matrices

假设我有一个旋转矩阵，用于旋转 3D 模型。在将其应用于模型之前，是否可以将旋转矩阵的偏航设置为零？

问候，亚当。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T10:44:49.433

**RotMatrix** = ***R***（偏航）***R**（俯仰）***R**（滚动）

为了消除偏航因子，我们可以在负偏航矩阵上左乘这个矩阵

**RotMatrixNew** = ***R** (-yaw)******R**（偏航）***R**（俯仰）***R**（滚动）= ***I* **** *R* *（俯仰）***R**（滚动）= **R**（俯仰）***R**（滚动）**

 **如果之前不知道偏航角，则可以计算为

偏航 = ArcTan2(RotMatrix[2][1], RotMatrix[1][1])**

# php - PHP preg_match_all 在匹配的项目上运行 php 函数

> ID：10697756
> 
> 赞同：3
> 
> 时间：2012-05-22T07:38:32.147
> 
> 标签：php, template-engine, preg-match-all

我不确定术语，所以我提前道歉。

我正在尝试创建一个 PHP 模板引擎，它将查询一个字符串`<ZONE header>`，`</ZONE header>`它会在两者之间提取所有内容，然后运行一个 php 函数来查看标头是否存在。如果标题存在，它将显示介于两者之间的内容，如果标题不存在，它将删除介于两者之间的内容。

# 这是一个例子：

```
$string = "
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
<ZONE header><img src="images/header.jpg" /></ZONE header>
<p>Nam sollicitudin mattis nisi, eu convallis mi tincidunt vitae.</p>
"; 
```

理想情况下，该函数将删除`<ZONE header><img src="images/header.jpg" /></ZONE header>`，然后它将运行我创建的 php 函数，该函数`header()`检查数据库中是否存在“标题”，如果存在，它将显示内部的所有内容`<ZONE header></ZONE header>`，如果不存在，它将删除它从字符串。

## 如果“标题”存在：

```
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
<img src="images/header.jpg" />
<p>Nam sollicitudin mattis nisi, eu convallis mi tincidunt vitae.</p> 
```

## 如果“标题”不存在：

```
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
<p>Nam sollicitudin mattis nisi, eu convallis mi tincidunt vitae.</p> 
```

* * *

## 这是我正在使用但卡住的内容：

```
 preg_match_all("|\<ZONE_header>(.*)\<\/ZONE_header>|isU", $string, $zone, PREG_SET_ORDER);

        if (isset($zone) && is_array($zone)) {
            foreach ($zone as $key => $zoneArray) {
                if ($key == 0) { 
                    $html = $zoneArray[1];
                    if ($html != "") {
                        if (header() != "") {
                            $html = str_replace($zoneArray[0], NULL, $html);
                        }
                    }                       
                }
            }
        }

        echo $html; 
```

有什么想法、想法、建议吗？感谢您的任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T08:04:18.967

请注意，我将您的`header()`功能替换为`get_header()`.

```
$string = preg_replace_callback('/<ZONE header>(.+)<\/ZONE header>/', 'replace_header', $string);

function replace_header($matches) {
  return get_header() ? $matches[1] : '';
} 
```

请参阅[`preg_replace_callback`](http://php.net/manual/en/function.preg-replace-callback.php).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T08:12:40.487

像这样 ？

```
$string = '
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
<ZONE header><img src="images/header.jpg" /></ZONE header>
<p>Nam sollicitudin mattis nisi, eu convallis mi tincidunt vitae.</p>
';
$pattern="#<ZONE header[^>]*>(.+)</ZONE header>#iU"; 

preg_match_all($pattern, $string, $matches);
if (strlen($matches[0][0])==0){
    $string=strip_tags($string,"<p>");
}
else{
    $string=strip_tags($string,"<p><img>");

}
echo $string; 
```

# python - Python 正则表达式 split() 字符串

> ID：10697757
> 
> 赞同：4
> 
> 时间：2012-05-22T07:38:33.940
> 
> 标签：python, regex, string, split

我对python中的正则表达式很陌生。我有以下字符串，想将它们分成五类。我只是使用 split() 但它只会根据空格进行拆分。

```
s = "1 0 A10B 1/00 Description: This is description with spaces"
sp = s.split()
>>> sp
["1", "0", "A10B", "1/00", "Description:", "This", "is", "description", "with", "spaces"] 
```

如何编写正则表达式以使其像这样拆分：

```
 ["1", "0", "A10B", "1/00", "Description: This is description with spaces"] 
```

有人可以帮忙吗？谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-22T07:41:32.953

您可以简单地指定拆分数量：

```
s.split(' ', 4) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:46:01.093

第二个参数`split()`是要执行的最大拆分数。如果将此设置为 4，则剩余的字符串将是列表中的第 5 项。

```
 sp = s.split(' ', 4) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:45:08.313

不是一个完美的解决方案。但首先。

```
>>> sp=s.split()[0:4]
>>> sp.append(' '.join(s.split()[4:]))
>>> print sp
['1', '0', 'A10B', '1/00', 'Description: This is description with spaces'] 
```

# c# - 如何确定 WPF 窗口控件在另一个进程中的位置？

> ID：10697762
> 
> 赞同：0
> 
> 时间：2012-05-22T07:38:44.887
> 
> 标签：c#

如何确定 WPF 窗口控件在另一个进程中的位置？以下代码返回source=null，因此无法遍历所有控件来查找和确定控件位置。

```
Process[] procs = Process.GetProcesses();
        foreach(Process p in procs)
        {
            if (p.MainWindowHandle != null)
            {
                StringBuilder sb = new StringBuilder(257);
                RealGetWindowClass(p.MainWindowHandle, sb, 256);
                if(sb.ToString().StartsWith("HwndWrapper"))
                {
                    System.Windows.Interop.HwndSource source = System.Windows.Interop.HwndSource.FromHwnd(p.MainWindowHandle);
                    EnumVisual(source.RootVisual);
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:51:51.277

我正在使用[Project White](http://white.codeplex.com)进行自动化。通过这个项目，您可以找到 WinForms 和 WPF 窗口并访问它们的属性，看看吧！这样您就不需要使用低级 Windows API。

# vim - 为什么 cscope 不在头文件中搜索定义？

> ID：10697765
> 
> 赞同：1
> 
> 时间：2012-05-22T07:38:57.727
> 
> 标签：vim, cscope

我使用以下命令生成我的 cscope 数据库：

```
tmpfile=$(mktemp)
find dir1/ dir2/ dir3/ -type f -regex ".*\.\([chlysS]\(xx\|pp\)*\|cc\|hh\|inl\|inc\|ld\)$" -print > $tmpfile
cscope -q -b -U -i $tmpfile -f cscope.out 
```

进入 vim，a`:cs f g myfunction`只引导我到 C 文件中的定义，以及头文件中的定义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-01T14:53:03.317

确保您使用正确的术语。在 C 中，通常函数*定义*放在 C 文件中，而*声明*放在头文件中。

cscope 命令 fg（查找*定义*）应该正确地将您带到函数*定义*。如果您实际上在头文件中有定义（例如内联函数），则查找定义命令也会将您带到那里。如果不是这种情况，您应该向 cscope 团队提交错误报告。

遗憾的是，Cscope 不提供仅显示*声明*的功能。您可以使用查找符号命令 (fs)，但如果从代码中的许多位置调用该函数，这可能会显示很多结果。

您可以使用 ctags，它通常可以让您从声明或定义中进行选择。我通常在我的项目中混合使用 cscope 和 ctags，因为它们都没有提供我想要的*所有功能。*

# windows - 在 Windows 应用程序中将文本框背景颜色更改为焦点

> ID：10697766
> 
> 赞同：2
> 
> 时间：2012-05-22T07:39:00.987
> 
> 标签：windows, winforms, forms

在 Windows 窗体中，我需要将文本框 BackColor 更改为焦点。我想在每个文本框或控件焦点上执行此操作。

当此文本框的 textbox1 BackColor 的焦点应该更改并且现在我按 Tab 键时，焦点转到下一个文本框 (textbox2) 现在 textbox2 的 BackColor 应该更改并且 textbox1 BackColor 应该更改回默认颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-01-25T08:10:32.937

看看 C# 解决方案：

```
//Properties declaration
private System.Drawing.Color NormalColor = System.Drawing.Color.FromArgb(50, 82, 110);
private System.Drawing.Color FocusColor = System.Drawing.Color.FromArgb(42, 65, 84);

// Else where in the Constructor
textBox_Username.Enter += EnterEvent;
textBox_Password.Enter += EnterEvent;
textBox_Username.Leave += LeaveEvent;
textBox_Password.Leave += LeaveEvent;

// Outside the Constructor
private void EnterEvent(object sender, EventArgs e)
{
    if (sender is TextBox)
        ((TextBox)sender).BackColor = FocusColor;
}

private void LeaveEvent(object sender, EventArgs e)
{
    if (sender is TextBox)
        ((TextBox)sender).BackColor = NormalColor;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:41:44.217

在名为[**GotFocus的文本框事件上**](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.gotfocus.aspx)

```
Private Sub TextBox1_GotFocus(ByVal sender As Object, _
    ByVal e As System.EventArgs) Handles TextBox1.GotFocus

    textbox1.backcolor = color.red

End Sub 
```

在名为[**LostFocus的文本框事件上**](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.lostfocus.aspx)

```
Private Sub TextBox1_LostFocus(ByVal sender As Object, _
    ByVal e As System.EventArgs) Handles TextBox1.LostFocus

    textbox1.backcolor = color.white

End Sub 
```

# 3d - 在 3D 中找到由 3 个点构成的角度

> ID：10697771
> 
> 赞同：0
> 
> 时间：2012-05-22T07:39:27.753
> 
> 标签：3d, point, angle

正如标题所说，我需要一种算法来计算 3D 空间中 3 个点 A(x,y,z) 所形成的角度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:47:32.430

你也可以使用三角定律。你有点的坐标，所以你需要找到这些点构成的“三角形”每一边的长度（使用“勾股定理”）。然后你可以使用“余符号定律”来找到角度的度量。你只需要对余弦定律和勾股定理进行一些数学搜索，就可以弄清楚如何实现它。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-22T07:46:20.110

您应该使用两个向量，并使用标量积公式，您应该能够找到它。但我们不是来解决家庭作业的。

# android - 如何在我的 Android 应用中设置多个通知？

> ID：10697775
> 
> 赞同：0
> 
> 时间：2012-05-22T07:39:38.303
> 
> 标签：android, notifications

我刚刚在我的 android 应用程序中添加了通知功能，但现在我正在寻找来自该应用程序的多个通知，比如说在大约 15 分钟的重复周期内......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T09:36:46.097

您可以随时从您的应用程序中触发多个通知，但用户不会对此感到太满意，因此请明智地使用它

# android - 在开发过程中如何通过客户端测试android应用程序？

> ID：10697780
> 
> 赞同：0
> 
> 时间：2012-05-22T07:40:04.447
> 
> 标签：android, distribution, apk

嗨，我是 android 开发的新手。我正在创建一个应用程序。我需要将示例应用程序发送给客户端以进行测试。在 iPhone 开发中，我们可以使用 TestFlightApp 向客户端发送 .ipa 文件。有没有办法为Android应用程序测试做这种类似的方式。

请在这个问题上帮助我。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:41:13.187

每次构建应用程序时，都会在项目的 bin 文件夹中创建一个 apk 文件。您可以将该文件用于测试目的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:50:33.120

右键单击您的应用程序项目文件夹

向下滚动到 Android 工具

单击：导出为已签名的 Android 应用程序

使用位于 sdk 文件夹中的调试密钥对应用程序进行签名，密码密钥：android

你会得到一个调试签名的 apk 准备安装在任何设备上。

要跟踪您的 apk，您可以创建一个字符串变量并将其用作构建标签，这样您就不会被多个 apk 混淆。

我正在我的项目中这样做，您也可以创建一个未签名的 apk，但我不知道您是否能够将它安装在真实设备上。

有些人使用 maven 来构建 apk，但它更复杂。

# qt - Qt 自定义上下文菜单

> ID：10697783
> 
> 赞同：1
> 
> 时间：2012-05-22T07:40:09.910
> 
> 标签：qt, qt-creator, qtreeview, qt-contextmenu

我正在创建一个由树视图和 web 视图组成的 Qt 应用程序。当单击树视图中的项目时，它应该加载相应的 url。**它工作正常**。当我右键单击该项目时，将出现一个自定义上下文菜单，它将在新的 web 视图中打开它。**这也行得通**。但是我的问题是，当我右键单击树视图项目时，我的上下文菜单会出现，如果在弹出菜单之外单击它，则会加载该项目的 url。如何解决这个..帮助我的朋友..

这是我的编码：

```
 QStandardItem *rootItem         =  new QStandardItem("Google");
    QStandardItem *stackItem        =  new QStandardItem("Stack Overflow");
    QStandardItem *yahooItem        =  new QStandardItem("Yahoo");

    rootItem->appendRow(stackItem);
    standardModel->appendRow(rootItem);
    standardModel->appendRow(yahooItem);

***// private slot for loading the url if a treeview item is clicked:***

void MainWindow::treeViewClicked(const QModelIndex &index)
{
    str = index.data().toString();

    if(!(str.isEmpty()) && str=="Google")
    {
        url  = "http://www.google.com";
    }

    else if (!(str.isEmpty()) && str == "stack Overflow")
    {
        url = "http://www.stackoverflow.com";
    }

    else if (!(str.isEmpty()) && str == "Yahoo")
    {
        url = "http://www.yahoo.com";
    }

    WebView *wv = dynamic_cast<WebView *>(ui->tabWidget->currentWidget());
    wv->load(QUrl(url));
    ui->tabWidget->setTabText(ui->tabWidget->currentIndex(),str);

    treeView->setModel(standardModel);

**//Creating custom context menu for QtreeView:**

void MainWindow::showContextMenu(const QPoint& point)
{
    QList<QAction *> actions;
    if(treeView->indexAt(point).isValid())
    {
        actions.append(m_treeViewAction);
    }

    else if(actions.count() > 0)
    {
        QMenu::exec(actions, MainWindow::treeView->mapToGlobal(point));
        QModelIndex index = treeView->indexAt(point);
        QStandardItem *item = standardModel->itemFromIndex(index);
        treeView->setCurrentIndex(index);
        treeViewClicked(index);
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T13:51:42.530

据我所知，您描述的情况是视图中上下文菜单的标准：当您右键单击时，该项目也被选中。

如果你想要另一种行为，你必须实现`mousePressEvent`并实现你想要实现的行为。

这里有一个提示：

```
void MyTreeView::mousePressEvent ( QMouseEvent * event )
{
     if (event->button() == Qt::LeftButton) {
       // set the current item based on event->pos() / deselect if no item
     }
     else if (event->button() == Qt::RightButton) {
       // show context menu for the item / different context menu if no item
     }
} 
```

是的，您必须派生 QTreeView 类并自己创建一个。

我很久以前就这样做了，我记得这是起点。我现在不记得是否必须重新实现所有四个基本鼠标事件：按下、释放、移动和双击，因为它们是内部相关的。

# uuid - 将设备标识符存储在 iOS 应用程序的钥匙串中是个好主意吗

> ID：10697786
> 
> 赞同：1
> 
> 时间：2012-05-22T07:40:32.127
> 
> 标签：uuid, keychain, mac-address

作为 Apple 在 iOS 5 中弃用的 uniqueIdentifier，我正在考虑使用 CFUUIDCreate 函数来创建 UUID。但是当我每次调用 CFUUIDCreate 时，它​​都会创建新的 UUID。所以我的计划是在应用程序第一次启动时使用 CFUUIDCreate 并将其存储在 NSUserDefaults 中。因此，如果用户删除或重新安装应用程序，UUID 将被删除。所以我想知道是否可以将生成的 UUID 存储在钥匙串中。所以我的问题是

1）如果我删除应用程序，那么 UUID 是否会出现在钥匙串中？2）将它存储在钥匙串中是个好主意吗？

我看了一下[gekitz](https://github.com/gekitz/UIDevice-with-UniqueIdentifier-for-iOS-5)

但我只想使用设备的 MAC 地址，那么 Apple 是否允许开发人员检索设备的 MAC 地址？

非常感谢任何帮助。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-23T20:10:43.377

是的，但也设置

```
[keychain setObject:(id)kSecAttrAccessibleAlwaysThisDeviceOnly forKey:(id)kSecAttrAccessible]; 
```

# jquery - 如何使用选择标签工作 jquery 自动完成？

> ID：10697792
> 
> 赞同：0
> 
> 时间：2012-05-22T07:40:57.617
> 
> 标签：jquery, jquery-autocomplete

如何使用选择标签工作 jquery 自动完成？

HTML

```
<input type="text" id="search" onkeydown="autoCompleteByTag(this)"  name="data[search]" class="ui-autocomplete-input" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true">

<select id="search_type"  onchange="autoCompleteByTag(this)" name="data[search_type]">
<option value="new">New</option>
<option value="old">Old</option>
</select> 
```

此处`input#search`字段自动完成工作正常，但如何`input`使用选择框自动完成此标签。即当 onchange 时`select#search_type`，需要在`input#search`字段中完成自动完成功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T08:14:26.697

只看代码，我不确定你想要实现什么。jQuery 中自动完成功能背后的想法是在您查看一长串可能的输入元素时加快输入速度。例如查找英国地名或足球队等，这将有一个 SELECT 下拉列表，导航起来很麻烦。

如果 SELECT 下拉菜单中只有两个元素，那么自动完成不是最佳解决方案。如果您有更多元素并且显示的代码只是一个示例，那么您再次需要更加具体。

我将在此不遗余力地建议您尝试使用 SELECT 下拉框来限制从该输入类型派生的输入值，并使用自动完成来加快选择过程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T13:58:27.610

它可以通过函数来​​完成

html

```
<select id="search_type"  onchange="changeOnType()" name="data[search_type]"> 
```

Javascript

```
function changeOnType() {
    $('#search').autocomplete( "search",  $('#search').val() );
} 
```

所以`input#search`从这里触发，自动完成列表将在字段`changeOnType()` 中下拉`input#search`

# c# - 在C#中提取文件夹中的所有gz文件

> ID：10697793
> 
> 赞同：0
> 
> 时间：2012-05-22T07:40:58.567
> 
> 标签：c#, batch-file, gzip

我正在开发一个应用程序，需要在文件夹中提取 gz 文件。

我需要的是 ac# 脚本，它可以循环给定文件夹中的所有 gz 文件并将它们提取到同一个文件夹中。

我知道有一些库可以做到这一点，但我无法让它们为 gz 工作，但我让它们为 zip 工作。

或者如果有任何其他相同的解决方案，即是否可以创建批处理脚本，可以使用 WinRar 命令行实用程序来实现相同的目的。如果可能的话，我不知道只是一个想法。

注意：我想我必须放弃第二个选项——WinRar 命令只能处理 RAR 文件。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:47:10.773

使用 winrar 的“unrar”命令行免费软件将此作为批处理文件尝试：

```
@REM ------- BEGIN demo.cmd ----------------
@setlocal
@echo off
set path="C:\Program Files\WinRAR\";%path%
for /F %%i in ('dir /s/b *.gz') do call :do_extract "%%i"
goto :eof

:do_extract
echo %1
mkdir %~1.extracted
pushd %~1.extracted
unrar e %1
popd

REM ------- END demo.cmd ------------------ 
```

礼貌：[http ://www.respower.com/page_tutorial_unrar](http://www.respower.com/page_tutorial_unrar)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:50:52.460

我可以建议如下：

```
using System;
using System.IO;
using System.Linq;

class Program
{
    static void Main(string[] args)
    {

        try
        {
            var files = from file in Directory.EnumerateFiles(@"c:\something",
                            "*.gz", SearchOption.AllDirectories)
                        select new
                        {
                            File = file,
                        };

            foreach (var f in files)
            {
                Process.Start("c:\winrar.exe", f.File);
            }
            Console.WriteLine("{0} files found and extracted!", 
                files.Count().ToString());
        }
        catch (UnauthorizedAccessException UAEx)
        {
            Console.WriteLine(UAEx.Message);
        }
        catch (PathTooLongException PathEx)
        {
            Console.WriteLine(PathEx.Message);
        }
    }
} 
```

> 注意：请自行将路径和 winrar.exe 参数替换为正确的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-24T07:34:08.007

我解决了。感谢 MichelZ 为我们指明了方向。我得到了 7-zip 命令行版本来帮我解决问题。

```
@REM ------- BEGIN demo.cmd ----------------
@setlocal
@echo off
set path="C:\Program Files\7-Zip\";%path%
for /F %%i in ('dir /s/b *.gz') do call :do_extract "%%i"
for /F %%i in ('dir /s/b *.zip') do call :do_extract "%%i"
goto :eof

:do_extract
pushd %~dp1
7z e %1 -y
popd
REM ------- END demo.cmd ------------------ 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2016-09-28T11:40:01.447

```
@setlocal
@echo off
set path="C:\Program Files\WinRAR\";%path%
for /F %%i in ('dir /s/b *.gz') do call :do_extract "%%i"
goto :eof

:do_extract
echo %1
mkdir %~1.extracted
pushd %~1.extracted
Winrar e %1
popd 
```

# c# - 在 SQL 端更改存储过程返回的表名

> ID：10697804
> 
> 赞同：1
> 
> 时间：2012-05-22T07:41:47.857
> 
> 标签：c#, sql, sql-server

我编写了一个返回 2 个表的存储过程：

```
select * 
from workers

select *
from orders 
```

我从我的 C# 应用程序中调用这个存储过程，并得到一个`DataSet`包含两个表的表，一切正常。

我的问题是如何**在 SQL Server 端**更改表名，以便在 C# 端我能够通过名称（而不是`Tables[0]`）访问它：

```
myDataSet.Tables["workers"]... 
```

我试图在谷歌中寻找答案，但找不到。也许搜索关键字不够。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T08:01:41.770

您实际上无法从服务器端执行任何操作来影响这些表名 - 这些名称仅存在于客户端的 ADO.NET 代码中。

你**可以**做的是在客户端 - 添加表映射 - 比如：

```
SqlDataAdapter dap = new SqlDataAdapter(YourSqlCommandHere);
dap.TableMappings.Add("Table", "workers");
dap.TableMappings.Add("Table1", "orders"); 
```

这会将`Table`（第一个结果集）“重命名”为`workers`和`Table1`（第二个结果集）`orders`在您实际填充数据之前。所以在调用之后

```
dap.Fill(myDataSet); 
```

然后，您将拥有`myDataSet.Tables["workers"]`并`myDataSet.Tables["orders"]`可供您使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T08:01:20.683

[TDS 协议文档](http://www.freetds.org/tds.html)（用于从 SQL Server 返回结果的协议）没有提到“结果集名称”。因此，您能够访问 ADO.net 中的结果集的唯一方法是通过您的示例中提到的数字。

# android - 如何实现没有活动的应用程序？

> ID：10697806
> 
> 赞同：0
> 
> 时间：2012-05-22T07:41:50.517
> 
> 标签：android, android-activity

> **可能重复：**
> [在没有活动的情况下启动 android 应用程序](https://stackoverflow.com/questions/8497885/start-android-application-without-activity)

我想为其他应用程序做一个下载工具。它总是在后台运行。所有代码都在服务中。所以不需要UI。我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:44:51.900

您仍然可以拥有一个 Activity 只是**不在您的 manifest 中声明一个意图过滤器**，这样用户就永远无法从菜单启动您的应用程序，因此除非您选择显示它，否则永远看不到 Activity。更进一步，您也可以将 Activity 主题设为透明，这样如果将其放在前面，它就不会显示任何内容。

要查看的示例是动态壁纸应用程序。

[http://developer.android.com/resources/samples/CubeLiveWallpaper/index.html](http://developer.android.com/resources/samples/CubeLiveWallpaper/index.html)

^ 忽略实际的壁纸位，但请注意该应用程序没有 Activity

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:45:36.000

您可以创建一个`BroadcastReceiver`将启动您的并从清单文件`Service`中删除的。`Activity`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:46:43.900

```
 <activity android:name=".StarterActivity">
     <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
  </activity> 
```

操作 MAIN 和类别 LAUNCHER 启动应用程序，因此`<intent-filter>`从`<application>`. 然后您的应用程序将不会显示在应用程序列表中。

# linux-kernel - ARM linux：进程地址空间

> ID：10697808
> 
> 赞同：1
> 
> 时间：2012-05-22T07:42:00.390
> 
> 标签：linux-kernel, arm, embedded-linux

我正在使用带有 ARM cortex_A9_MPCORE 处理器的开发板（雪球），运行带有 3.0.8+ 内核的 linux。我使用 GDB 和 openocd 进行调试。

我正在寻找一种方法来查找用户模式进程的地址空间，尤其是文本段和用户模式堆栈。

首先，我查看了 /proc/"PID"/maps，例如，我正在为一个正在运行的进程获取此输出：

```
# cat /proc/1124/maps
00008000-000d5000 r-xp 00000000 b3:02 181        /system/bin/lbsd
000d5000-000f8000 rw-p 000cd000 b3:02 181        /system/bin/lbsd
000f8000-0014a000 rw-p 00000000 00:00 0          [heap]
0014a000-0014c000 rw-p 00000000 00:00 0          [heap]
.
.
.
b0001000-b0009000 r-xp 00001000 b3:02 183        /system/bin/linker
b0009000-b000a000 rw-p 00009000 b3:02 183        /system/bin/linker
b000a000-b0015000 rw-p 00000000 00:00 0 
bea00000-bea21000 rw-p 00000000 00:00 0          [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0          [vectors] 
```

然后使用 GDB，我编写了一个脚本，从 init_task 开始解析板上运行的任务列表，对于每个任务，它获取在 task_struct 中找到的 mm_struct 的值，然后提取 start_code、end_code 和 start_stack 的值。最后，脚本解析 mmap 指向的不同内存区域。该脚本在开发板处于调试状态时运行，Cortex a9 的两个内核都已停止

这是与上述相同过程的 GDB 脚本的输出：

```
taskaddr 0xdf29f140
Name: lbsd
mm start text 8000
mm end text d4ba4
mm start stack bee63df0
####MEMORY REGIONS#####
vm_start 0x8000
vm_end 0xd5000
vm_flags 0x8001875
-----------------------
vm_start 0xd5000
vm_end 0xf8000
vm_flags 0x8101873
-----------------------
vm_start 0xf8000
vm_end 0x14a000
vm_flags 0x100073
-----------------------
vm_start 0x14a000
vm_end 0x14c000
vm_flags 0x100073
-----------------------
.
.
.
-----------------------
vm_start 0xb0001000
vm_end 0xb0009000
vm_flags 0x8000875
-----------------------
vm_start 0xb0009000
vm_end 0xb000a000
vm_flags 0x8100873
-----------------------
vm_start 0xb000a000
vm_end 0xb0015000
vm_flags 0x100073
-----------------------
vm_start 0xbee42000
vm_end 0xbee64000
vm_flags 0x100173
-----------------------
vm_start 0xffff0000
vm_end 0xffff1000
vm_flags 0x40c0055
----------------------- 
```

除了堆栈之外，内存区域与所使用的两种方法都匹配，在 /proc 方法的输出中，它从 bea00000 开始，而在 mm_struct 的 start_stack 字段中，它位于 bee63df0，vm_struct 指向的内存区域指示 bee42000。有人可以解释这些值的区别吗？

我的第二个问题是关于 00008000 和 000d5000 之间的第一个内存区域的值，它对应于进程的文本部分。我注意到很多进程共享这些地址。内核如何设法获得文本内存区域的真实地址？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T17:01:05.177

在 ARM 上，堆栈向下增长。这意味着堆栈从更高的地址开始。这在设置了位`vm_flags`的堆栈中可见。`vma``VM_GROWSDOWN`

堆栈`vma`有一个`vm_end`of `0xbee64000`，正好比`start_stack`of高 528 个字节`0xbee63df0`。发生这种情况是因为在同一个 VMA 的堆栈顶部之上有一些东西：命令行、环境和辅助向量。

我不知道为什么堆栈（只有它）位于不同的地址`/proc/<pid>/maps`。查看内核源代码，我看到 a`vma`可以显示为`[stack]`当且仅当`start_stack`在其中时，所以如果`start_stack`当您查看 时 相同`/proc/<pid>/maps`，则`vma`不能将其标记为`[stack]`。我能想到的唯一解释是它来自您的可执行文件的不同运行，并且除了堆栈之外的所有内容都禁用了地址布局随机化。

* * *

现在是第二个问题。

当您的进程正在运行时，硬件使用页表从虚拟地址（例如`0x8000`）映射到页面的物理地址。内核也可以这样做；它有一个指向根页表 ( `pgd`) 的指针，用于它的`mm_struct`. 一旦它有了物理页码 ( `pfn`)，它就可以到达对应的`struct page`. 有大量的宏和函数可以完成所有这些操作。

但是可能缺少一页。例如，您的可执行文件的其中一个页面可能还没有出错。页表中该页的条目将显示为缺失。内核然后查看相应的`vma`，它给出了 中的偏移量，`vma`有足够的信息从某处获取页面，并将其插入页表中。

# objective-c - cell.textLabel 的内阴影

> ID：10697811
> 
> 赞同：0
> 
> 时间：2012-05-22T07:42:02.543
> 
> 标签：objective-c, xcode, uitableview

如何将内部阴影设置为 cell.textLabel？

像这样：

```
cell.textLabel.innerShadow = xyz(2, 2, #000000); 
```

要不然是啥？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:52:11.603

它比内部阴影要复杂一些。您基本上必须自己绘制并遮盖文本之外的区域。

你可以看看[这个问题](https://stackoverflow.com/questions/2169119/inner-shadow-in-core-graphics)的内部阴影部分和[这个问题](https://stackoverflow.com/questions/7447256/get-cgpath-from-text)来获取文本的路径。然后你把它们拼凑在一起，这样你就可以用你的文本路径来绘制和掩盖内部阴影。

# iphone - 如何更改 UITextview 文本中特殊字符的字体颜色

> ID：10697812
> 
> 赞同：0
> 
> 时间：2012-05-22T07:42:06.787
> 
> 标签：iphone, ios, nsstring, nsregularexpression

我正在使用此代码在 UITextview 中显示一些文本...在 ViewDidLoad 方法中

```
self.fontSize = 23.0;
  for(NSUInteger idx = 0; idx < [delegatee.allSelectedVerseEnglish count]; idx++) {
        [combined appendFormat:@"  %d %@", 
         idx + 1, 
         [delegatee.allSelectedVerseEnglish objectAtIndex:idx]];

    };

    maintextview.text =combined;
    maintextview.textColor= [UIColor colorWithRed:0.376f green:0.282f blue:0.173f alpha:1.0f];

    maintextview.font = [UIFont fontWithName:@"Georgia" size:self.fontSize]; 
```

`combined`有包含数字宪章的文本，我如何识别数字字符并将棕色和更改字体更改为仅数字字符的格鲁吉亚粗体。是否可以使用 NSSanner 或 NSregular 表达式或类似的东西？这该怎么做？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:45:20.837

您不能在常规文本视图上执行此操作。它不允许格式化（尽管这是许多开发人员非常需要的功能）。您需要做的是将 Core Text 和 NSAttributedString 与自定义视图一起使用。但是，如果您需要使用选择或使其可编辑，这将非常困难。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T08:11:51.970

替代选项是制作一个 HTML 页面并放置 web 视图而不是 TextView。

它可以节省您的时间。

# android - 在 Android 中完成 Activity 时出现空指针异常

> ID：10697820
> 
> 赞同：1
> 
> 时间：2012-05-22T07:43:25.120
> 
> 标签：android, nullpointerexception, android-activity

我有一个 Activity，它具有基于网格视图和全页画廊视图的两种不同布局，当用户单击网格视图中的图像时，它会进入全屏画廊。当用户在全屏图库中并单击后退按钮时，它会返回到网格视图。最后，如果用户再次单击返回按钮，我希望 Activity 终止。

这是我在按下后退按钮时处理切换视图的方法，除了完成活动外，它工作得很好。我在调用finish() 的行上有空指针异常。我该如何处理？

```
@Override
public void onBackPressed() {

    ViewPager mPager = (ViewPager) findViewById(R.id.gallery_view);

    if(mPager.getVisibility() == View.VISIBLE){

        setContentView(R.layout.thumbnail_gallery);
        GridView g = (GridView) findViewById(R.id.myGrid);
        g.setAdapter(new GridGallery(this));

        return;

    }else {
        finish();
        return;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:48:58.033

我`NullPointerException`终于找到了原因。方法`findViewById`导致它。我没有检查布局的可见性，而是使用了一个布尔变量来检查它。基本上，当我将内容视图设置为布局时，我将此变量分配为 true，然后当我切换视图时，我还将布尔变量切换为 false。它工作得很好。

```
@Override
public void onBackPressed() {

    if(isGalleryVisible) {

        setContentView(R.layout.thumbnail_gallery);
        GridView g = (GridView) findViewById(R.id.myGrid);
        g.setAdapter(new GridGallery(this));
        isGalleryVisible = false;
        return;
    } else {
        finish();
        return;
    }
} 
```

在我切换视图的地方，我将其分配为 true。看看下面。

```
GridView g = (GridView) findViewById(R.id.myGrid);
g.setAdapter(new GridGallery(context));
isGalleryVisible = false;
g.setOnItemClickListener(new OnItemClickListener() {

  public void onItemClick(AdapterView<?> parent, View v, int position, long id) {
     myPagerAdapter = new MyPagerAdapter(context);
     pager = (ViewPager) findViewById(R.id.gallery_view);
     pager.setAdapter(myPagerAdapter);
     pager.setCurrentItem(position);
     isGalleryVisible = true;
  }
}); 
```

# java - Eclipse 的 UML 插件 - 类图和 Java 代码生成 - Indigo/Juno

> ID：10697824
> 
> 赞同：13
> 
> 时间：2012-05-22T07:43:35.850
> 
> 标签：java, eclipse, eclipse-plugin, uml

我正在寻找 Eclipse 的 UML 插件。我知道这个问题已经被问过好几次了，但大多数都是几年前的问题。根据我的阅读，我会说大多数人更喜欢 eUML2，但这官方只支持 Helios。

到目前为止，我正在使用 argoUML，但至少可以说，没有撤消按钮确实是一个可用性噩梦。此外，我更喜欢集成到 Eclipse 中。

我想要的是：

*   免费/开源
*   积极开发的工具（支持 Indigo，计划支持 Juno）
*   在 Eclipse 中轻松安装
*   类图
*   从图表生成 Java 代码
*   实现完成后更新类图（往返）

什么会很好：

*   其他图，对我来说最重要的是序列图和用例图

如果实际上没有合适的 Eclipse 插件，那么如果您能指出其他免费/开源和基于 linux 的工具以及您使用哪个工作流程来完成上述要求，我会很高兴。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T06:07:18.683

我肯定会选择[ObjectAid](http://www.objectaid.com/)。

它支持直接从 Eclipse 中的代码拖放类和包。无需为您的建模打开另一个应用程序。

当您在另一个项目中编写/开发 Java 代码时，模型文件 (*.ucls) 可以保存在 eclipse 中的单独项目中。所有这些都可以在一个 Eclipse 会话中完成。

只想强调拖放。我只是喜欢它！

我正在使用 Eclipse Juno。

我尝试了其他建模工具，但没有得到我想要的。

PS 创建类图是免费的，但需要评估许可证才能创建序列图。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-24T09:13:20.237

现在我将使用 Green UML 或 UML Lab。Green UML 满足了我所要求的所有要点，除了我不能百分百确定它是否非常积极地开发。但最后一次更新是从 2011 年 11 月开始的。它只支持类图，但这对我来说没问题。可以在[这里](http://green.sourceforge.net/)找到。

除此之外，我将尝试 UML Lab 的学术版本，因为它看起来更有前途，但不免费是一个缺点。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-22T20:27:27.540

[Papyrus](http://www.eclipse.org/modeling/mdt/papyrus/)可能是最好的选择。它正在积极开发，是一个行业支持的项目。它不具有代码生成功能，因为 uml 模型存储为 emf 模型，因此您可以使用[acceleo](http://www.eclipse.org/acceleo/)进行代码生成。也不支持往返（代码更新后图表的更新）。但它确实支持许多其他 UML 图。

我尝试了许多开源工具，实际上没有发现可以在 eclipse 中使用，所以我使用 Visual Paradigm for UML，社区版。不是免费的，不会做你想做的事，但出于建模目的，它远高于任何 eclipse 插件。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-23T09:21:13.577

最好的是用于 Java 代码生成的 Omondo EclipseUML，因为我可以建模但也可以手动编写代码。我从不松动我的模型，因为与其他仅从模型到代码工作的工具相反，多次迭代是可能的。

Accelero 代码生成太复杂，代码不是很好。它需要在生成后手动修复。如果有多个包，则不生成包之间的关系。我会说 accelero 有利于生成单个类图代码，但是一旦你在一个包或多个包中有多个图表，那么最好不要使用这个插件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-28T08:46:26.620

我一直在寻找支持反转和绘制序列图的 UML 往返工程工具。重点是序列图，因为大多数工具可以帮助处理类图，而不是序列图。

在免费或便宜的工具中：我尝试过 Papyrus、Modisco、Modelio、ObjectAid - 前 3 个对于一些基本的反转来说有点过于复杂，往往会问太多问题来定位源代码和库，而且都有点笨拙，而且他们没有对序列图有很大帮助。即使在最近的日食 (Luna) 中，ObjectAid 也能很好地工作。序列图具有廉价许可证。可悲的是 - 他们都不理解 Spring 注释（例如 @autowire）。

在 EA、Sparx、Magic Draw、UML Lab (Yatta) 等大型且昂贵的工具中——我不喜欢它们，我发现它们对于它们提供的东西来说太贵了。此外，复杂的反向代码（无休止的搜索源路径问题）。Magic 和 Modelio 无法反转和自动生成序列图。

这些昂贵工具的替代品是 Altova UModel，它作为独立工具或 eclipse 插件工作（我独立于 eclipse 使用它，安装速度更快，提供带代码功能的同步图）。它是唯一可以打开 eclipse 项目扩展的工具（不询问类路径，但是找不到 maven 库）并且不支持 Spring 注释。Java 7 不受官方支持，但它可以工作（一些罕见的泛型有小例外）。如果他们添加：完整的 java 7 支持、spring 支持、打开整个 eclipse 工作区并支持 pom/maven 库，那将是最好的往返工程工具。

我最终使用了 ObjectAid，它免费/便宜，而且做得很好（除了 spring autowire），缺少通信图，这在 Altova 中是件好事。

HTH某人...

PS：我有时使用MyEclipse Pro，年费不错，它可以从上面做一些事情，您需要查看试用版以及UML是否适合商业文档（太多的盒子/包使图表混乱）。

# linux - 在linux中编辑vmlinuz文件

> ID：10697826
> 
> 赞同：2
> 
> 时间：2012-05-22T07:43:46.960
> 
> 标签：linux, installation, boot

我是 linux 新手。我想从 vmlinuz 文件（RHEL6.0）中编辑“此内核需要 x86-64 CPU，但仅检测到 i686 CPU。无法启动 - 请使用适合您的 CPU 的内核”如果可以编辑此消息，任何人都可以建议一种修改消息的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:50:45.647

该消息位于linux 内核源代码的[/arch/.../boot/cpu.c中。](http://lxr.free-electrons.com/source/arch/x86/boot/cpu.c)您可以修改它，[重新编译内核](http://linuxfocus.berlios.de/English/July2002/article252.shtml)并安装新内核。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:50:54.587

你可以grep这个字符串的内核源代码，并用你想要的任何东西替换它，然后重新编译你的内核。通常直接在二进制文件中替换字符串（尽管在技术上是可能的），尤其是对于内核来说是一个非常糟糕的主意

# asp.net-mvc-3 - 如何将任何 id 传递给 [HttpGet] ActionResult 中的 linq join 以进行编辑

> ID：10697827
> 
> 赞同：0
> 
> 时间：2012-05-22T07:43:57.363
> 
> 标签：asp.net-mvc-3, linq

我正在 MVC3 上制作一个 Web 应用程序，并且我正在使用 linq 与数据库进行通信。

我制作了一个复选框列表，用户可以在其中根据自己的选择选择一些选项，并将其保存在数据库表中。问题出在编辑部分。

**整个场景是这样的：**

用户可以注册为餐厅老板或汽车旅馆老板，我已将不同的 Business_Type_Id 分配为 1 和 2 以区分这两者，我为餐厅业务类型分配了“2”，并将美食与特定业务类型映射到相同的“Cuisines”表，通过将“BusinessType”列添加到表中。用户将为其业务分配一个 Business_Id。我提供了一个复选框列表，它从我提供了美食列表的数据库表“Cuisines”中生成其选项。从前端，用户可以根据他们在餐厅提供的选​​择来选择多种美食。选择可能因一个餐厅所有者而异，因此我将每个餐厅所有者的选定值存储在“

**这是我在控制器中使用的 linq 连接代码：**

```
[HttpGet]
public ActionResult Edit(int id)
{
    using (var chkl = new BusinessEntities())
    {
        var data = (from CuisinesData in chkl.Cuisines
                join BusinessCuisineMappingData in chkl.BusinessCuisineMapping
                on new { CuisinesData.Id, id } equals new { BusinessCuisineMappingData.CuisinesId, BusinessCuisineMappingData.BusinessId }
                where CuisinesData.BusinessTypeId == 2
                select new CusinesDTO
                {
                    Id = CuisinesData.Id,
                        Name = CuisinesData.Name,
                        IsSelected = BusinessCuisineMappingData.CuisinesId == null ? false : true
                }).Distinct().ToList();
                ViewBag.CuisineList = data;
     }
     return View();
} 
```

**这是我的 DTO 课程：**

```
public class CusinesDTO
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public bool IsSelected { get; set; }
    } 
```

我想将“id”与我的 LINQ 连接中的“BusinessCuisineMappingData.BusinessId”字段相匹配，我通过 [HttpGet] Actionresult Edit(int id) 获得该字段。当我尝试实现它时，它会提示我一个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T14:21:56.647

您不能在联接中使用局部变量。但是，您可以在 Where 子句中使用它。所以如果你这样做

```
join ...
on CuisinesData.Id equals BusinessCuisineMappingData.CuisinesId
...
where BusinessCuisineMappingData.BusinessId == id 
```

你会有同样的效果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T09:35:50.400

> “join 子句中的表达式类型不正确。调用‘Join’时类型推断失败”

这表明您两侧的类型`JOIN`不相等。你得到一个编译器错误；`JOIN`检查子句两边的类型应该相对容易。

编辑：重读你放的东西，我认为下面是你想要做的：

```
[HttpGet]
public ActionResult Edit(int id)
{
    using (var chkl = new BusinessEntities())
    {
        var data = (from CuisinesData in chkl.Cuisines
                    join BusinessCuisineMappingData in chkl.BusinessCuisineMapping
                    on CuisinesData.Id equals BusinessCuisineMappingData.CuisinesId
                    where CuisinesData.BusinessTypeId == id
                    select new CusinesDTO
                    {
                        Id = CuisinesData.Id,
                        Name = CuisinesData.Name,
                        IsSelected = BusinessCuisineMappingData.CuisinesId == null ? false : true
                    }).Distinct().ToList();
                    ViewBag.CuisineList = data;
    }
    return View();
} 
```

# python - 用于 Lexing Python 的资源

> ID：10697828
> 
> 赞同：3
> 
> 时间：2012-05-22T07:44:03.090
> 
> 标签：python, lexical-analysis

作为一个教育练习，我已经着手用 Python 编写一个 Python 词法分析器。最终，我想实现一个可以自行运行的简单 Python 子集，所以我希望这个词法分析器用一个相当简单的 Python 子集编写，并尽可能少地导入。

我发现的涉及词法分析的教程，例如[kaleidoscope](http://llvm.org/docs/tutorial/LangImpl1.html#lexer)，向前看一个字符以确定接下来应该出现什么标记，但我担心这对于 Python 来说是不够的（一方面，只看一个你无法区分的字符分隔符或运算符，或在标识符和关键字之间；此外，处理缩进对我来说就像一头新野兽；除此之外）。

我发现这个[链接](http://docs.python.org/py3k/reference/lexical_analysis.html)很有帮助，但是，当我尝试实现它时，我的代码很快就开始看起来很丑陋，有很多`if`语句和案例，而且它似乎不是“正确”的方法.

是否有任何好的资源可以帮助/教我 lex 这种代码（我也想完全解析它，但首先是正确的？）？

我不喜欢使用解析器生成器，但我希望生成的 Python 代码使用 Python 的一个简单子集，并且是合理的自包含的，这样我至少可以梦想拥有一种可以自我解释的语言。（例如，根据我对这个[示例](http://www.dabeaz.com/ply/example.html)的理解，如果我使用 ply，我将需要我的语言来解释 ply 包以及解释自身，我想这会使事情变得更复杂）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:52:15.927

查看[http://pyparsing.wikispaces.com/](http://pyparsing.wikispaces.com/)也许您发现它对您的任务很有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:56:32.493

我过去曾在类似项目中使用过传统的[flex/lex](https://github.com/westes/flex)和[bison/yacc](http://www.gnu.org/software/bison/)。我也使用过[ply](http://www.dabeaz.com/ply/) (python lex yacc)，我发现这些技能可以从一种技能转移到另一种。

因此，如果您以前从未编写过解析器，我会使用 ply 编写您的第一个解析器，您将学到一些对以后项目有用的技能。

当你让你的层解析器工作时，你可以手工制作一个作为教育练习。根据我的经验，手工编写词法分析器和解析器很快就会变得非常混乱 - 因此解析器生成器的成功！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:54:00.030

考虑查看 PyPy，一个基于 python 的 python 实现。它显然也有一个 python 解析器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T08:36:10.427

这个简单的基于正则表达式的词法分析器已经为我服务了几次，非常好：

```
#-------------------------------------------------------------------------------
# lexer.py
#
# A generic regex-based Lexer/tokenizer tool.
# See the if __main__ section in the bottom for an example.
#
# Eli Bendersky (eliben@gmail.com)
# This code is in the public domain
# Last modified: August 2010
#-------------------------------------------------------------------------------
import re
import sys

class Token(object):
    """ A simple Token structure.
        Contains the token type, value and position. 
    """
    def __init__(self, type, val, pos):
        self.type = type
        self.val = val
        self.pos = pos

    def __str__(self):
        return '%s(%s) at %s' % (self.type, self.val, self.pos)

class LexerError(Exception):
    """ Lexer error exception.

        pos:
            Position in the input line where the error occurred.
    """
    def __init__(self, pos):
        self.pos = pos

class Lexer(object):
    """ A simple regex-based lexer/tokenizer.

        See below for an example of usage.
    """
    def __init__(self, rules, skip_whitespace=True):
        """ Create a lexer.

            rules:
                A list of rules. Each rule is a `regex, type`
                pair, where `regex` is the regular expression used
                to recognize the token and `type` is the type
                of the token to return when it's recognized.

            skip_whitespace:
                If True, whitespace (\s+) will be skipped and not
                reported by the lexer. Otherwise, you have to 
                specify your rules for whitespace, or it will be
                flagged as an error.
        """
        # All the regexes are concatenated into a single one
        # with named groups. Since the group names must be valid
        # Python identifiers, but the token types used by the 
        # user are arbitrary strings, we auto-generate the group
        # names and map them to token types.
        #
        idx = 1
        regex_parts = []
        self.group_type = {}

        for regex, type in rules:
            groupname = 'GROUP%s' % idx
            regex_parts.append('(?P<%s>%s)' % (groupname, regex))
            self.group_type[groupname] = type
            idx += 1

        self.regex = re.compile('|'.join(regex_parts))
        self.skip_whitespace = skip_whitespace
        self.re_ws_skip = re.compile('\S')

    def input(self, buf):
        """ Initialize the lexer with a buffer as input.
        """
        self.buf = buf
        self.pos = 0

    def token(self):
        """ Return the next token (a Token object) found in the 
            input buffer. None is returned if the end of the 
            buffer was reached. 
            In case of a lexing error (the current chunk of the
            buffer matches no rule), a LexerError is raised with
            the position of the error.
        """
        if self.pos >= len(self.buf):
            return None
        else:
            if self.skip_whitespace:
                m = self.re_ws_skip.search(self.buf, self.pos)

                if m:
                    self.pos = m.start()
                else:
                    return None

            m = self.regex.match(self.buf, self.pos)
            if m:
                groupname = m.lastgroup
                tok_type = self.group_type[groupname]
                tok = Token(tok_type, m.group(groupname), self.pos)
                self.pos = m.end()
                return tok

            # if we're here, no rule matched
            raise LexerError(self.pos)

    def tokens(self):
        """ Returns an iterator to the tokens found in the buffer.
        """
        while 1:
            tok = self.token()
            if tok is None: break
            yield tok

if __name__ == '__main__':
    rules = [
        ('\d+',             'NUMBER'),
        ('[a-zA-Z_]\w+',    'IDENTIFIER'),
        ('\+',              'PLUS'),
        ('\-',              'MINUS'),
        ('\*',              'MULTIPLY'),
        ('\/',              'DIVIDE'),
        ('\(',              'LP'),
        ('\)',              'RP'),
        ('=',               'EQUALS'),
    ]

    lx = Lexer(rules, skip_whitespace=True)
    lx.input('erw = _abc + 12*(R4-623902)  ')

    try:
        for tok in lx.tokens():
            print(tok)
    except LexerError as err:
        print('LexerError at position %s' % err.pos) 
```

# mysql - MySql 日期之间：奇怪的行为

> ID：10697835
> 
> 赞同：0
> 
> 时间：2012-05-22T07:44:35.087
> 
> 标签：mysql, date, between

我的 mysql 数据库存在阻塞问题。

我有一个带有 MySql 数据库的 php 网站。一切正常。

我只是将一个旧数据库服务器的 sql 转储放到新的数据库服务器上，因为在这个新服务器上我有一个奇怪的行为：

像这样的查询：

```
select * from toto where date(myDateField) between '2001-01-01' and '2012-01-01'; 
```

不工作。我的意思是它不返回任何结果（也没有错误）。

如果我执行以下操作：

```
select * from toto where myDateField between '2001-01-01' and '2012-01-01'; 
```

有用。

我试着看看在我的新服务器上我的 mysql 系统变量是否不同，但看起来都一样。奇怪的是，上周我已经在这台新服务器上进行了另一个转储，一切正常。现在我不知道。

我不能去修改我所有的 php 文件，因为该网站在其他服务器上运行良好。我只是想找到问题和解释。

有人对此有任何提示吗？

更新：

我做了更多的测试。我在同一台服务器上有 2 个数据库。在第一个（创建一个较旧的转储）上一切都很好。在第二个（使用最近的转储文件创建）我遇到了问题。

所以我真的不知道可能是什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:50:50.933

首先检查您在服务器中获取的格式

```
select date(myDateField) from toto 
```

根据条件之间的格式使用...日期格式可能会从服务器更改为服务器，即 dd//mm//yyyy 或 yy//mm/dd 检查...。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-23T08:00:58.290

我终于设法使它工作。我在不同的 linux 发行版上安装了相同的转储，现在它可以工作了。之前我有 Gentoo，现在我有 Ubuntu。所以Gentoo一定有问题。

# mule - 带有消息丰富器的 mule JDBC

> ID：10697836
> 
> 赞同：1
> 
> 时间：2012-05-22T07:44:37.717
> 
> 标签：mule

我想丰富一些变量。这是我的场景，我的客户 pojo 具有 id、用户名、密码。而我只在客户 pojo 上传递 ID，而在丰富器上，我从客户 pojo 读取 ID 值并从数据库中获取用户名和密码并附加该 pojo。请任何人帮助我如何解决这个问题...

```
</cxf:jaxws-service>
                <logger level="INFO" doc:name="Logger"/>
                <enricher doc:name="Message Enricher">           
                    <jdbc:outbound-endpoint exchange-pattern="one-way" queryKey="selectData" connector-ref="jdbcConnector" doc:name="Database (JDBC)">
                        <jdbc:query key="selectData" value="SELECT Username, Password from Credentials where ModuleId=101"/>
                    </jdbc:outbound-endpoint>
                    <enrich target="#[variable:Username]" source="#[groovy:payload.Username]"/>                        
                </enricher>
                 <logger level="INFO" message="Username #[groovy:payload]" /> 
```

如何从数据库中读取值并附加我的客户 Pojo。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T15:25:10.530

JDBC outbound 用于写入数据库，inbound 用于读取。

所以使用 a`jdbc:inbound-endpoint`而不是 a `jdbc:outbound-endpoint`。

# javascript - how to embed base64 image format in raphael paper.image

> ID：10697838
> 
> 赞同：1
> 
> 时间：2012-05-22T07:44:42.370
> 
> 标签：javascript, ipad, raphael

i am converting image file into base64 in server side and writing that base64 into txt file in client side(ipad). now i need to place that base encode format in raphael paper.image(src,height.width) to have an background image. pl help me.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T08:55:53.663

Here is a live example on [JSBin](http://jsbin.com/acaloc/6/edit)

# javascript - JavaScript：按索引交换数组值

> ID：10697841
> 
> 赞同：1
> 
> 时间：2012-05-22T07:44:52.413
> 
> 标签：javascript, arrays, swap

我正在尝试使用 jQuery 对一些元素的排序进行动画处理，并且我的排序图定义如下：

```
var mapping = [
  [0, 5],
  [1, 4],
  [2, 3],
  [3, 2],
  [4, 1],
  [5, 0]
]; 
```

`mapping[0][0]`是元素的索引并且`mapping[0][1]`是目标索引。

我的解决方案基本上是这样的：

```
var elements = [1, 2, 3, 4, 5, 6];

for (var i = 0; i < elements.length; i++) {
  var clone1 = elements[mapping[i][0]];
  var clone2 = elements[mapping[i][1]];

  elements[mapping[i][0]] = clone2;
  elements[mapping[i][1]] = clone1;
}

console.log(elements); 
```

问题是，我正在处理我正在修改的对象，并且这些操作会自行撤消；我没有反转数组，而是返回相同的数组。

我如何在 JavaScript 中交换这样的元素？这是代码的[JSFiddle 示例](http://jsfiddle.net/tdJNC/)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T08:00:33.850

```
// [source, target]
var mapping = [
  [0, 5],
  [1, 4],
  [2, 3],
  [3, 2],
  [4, 1],
  [5, 0]
];

var elements = [1, 2, 3, 4, 5, 6];

function swapElements(elements, mapping) {
    var tmp = new Array(elements.length);
    for(var i = 0, l = mapping.length; i < l; i++) {
        tmp[mapping[i][1]] = elements[mapping[i][0]];
    }
    for(var i = 0, l = elements.length; i < l; i++) {
        elements[i] = tmp[i];
    }
}

swapElements(elements, mapping);

console.log(elements);​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-25T19:37:22.753

访问器功能的一些功能乐趣

```
var at = function(arr) { return function(i) { return arr[i] } };
[5,4,3,2,0,1].map( at(['a','b','c','d','e','f']) ) 
```

这将返回 ['f','e','d','c','a','b']

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:53:18.250

您从 0 到 5 和从 5 到 0 再次交换元素两次 :) 尝试

```
for (var i = 0; i < elements.length / 2; i++) 
```

会没事的。

[看这里](http://jsfiddle.net/tdJNC/1/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:55:52.437

您在循环期间更改数组。每对交换两次，所以结果是一样的。您可能需要另一个 arr 来存储映射值：

```
var result = [];
for(var i = 0; i<mapping.length; i++){
    result[mapping[i][0]] = elements[mapping[i][1]];
}
console.log(result); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-22T07:55:59.513

只需定义一个临时数组：

```
var elements = [1, 2, 3, 4, 5, 6];
var temp = [];
for (var i = 0; i < elements.length; i++) {
  temp.push(elements[mapping[i][1]]);
}
elements = temp; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-22T08:18:59.083

如果您只是想反转列表，Just_Mad 的答案是正确的。但是，如果您希望能够处理任何映射配置，您将需要一种不同的方法。

如果您不关心内存空间，您可以遍历映射列表并将索引“mapping [i] [0]”处的元素复制到索引“mapping [i] [1]”处的新数组。然后只需返回新数组。这应该处理您放入系统的任何映射（您只需决定是否以及如何处理留下空白和/或覆盖空格的映射）

# python - 一个表单可以有两个提交按钮吗？

> ID：10697843
> 
> 赞同：3
> 
> 时间：2012-05-22T07:44:59.610
> 
> 标签：python, html, web2py

我正在使用 web2py 编写一个类似 app 的搜索引擎。是否可以为一个表单实现两个提交按钮，例如谷歌有两个按钮“搜索”和“我感觉很幸运”。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T14:48:31.050

像这样的东西：

```
def search():
    form = FORM(INPUT(_type='text', _name='keywords'),
        INPUT(_type='submit', _value='Search'),
        INPUT(_type='submit', _value="I'm feeling lucky", _name='lucky'),
        _method='get')
    if request.vars.keywords:
        if request.vars.lucky:
            [code to return "I'm feeling lucky" results]
        else:
            [code to return regular results]
    return dict(form=form) 
```

为“我感觉很幸运”提交按钮命名会导致其值与表单一起提交，因此您可以在提交的变量中检查它的存在，并在这种情况下有条件地返回不同的响应。

注意，`FORM()`助手默认使用 post 方法，但是因为这是一个搜索表单，所以上面使用了 get 方法。

您还可以在视图中手动构建表单，而不是使用`FORM()`帮助程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:56:36.080

是的，传入请求中可能是按下按钮的名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-11T17:37:16.113

供参考：[https](https://groups.google.com/forum/#!topic/web2py/a0hoswzJBYY)`SQLFORM.factory` ://groups.google.com/forum/#!topic/web2py/a0hoswzJBYY 在使用助手而不是助手时有一个解决方案`FORM`。

# pid - 180度偏航角不连续如何处理

> ID：10697844
> 
> 赞同：5
> 
> 时间：2012-05-22T07:44:59.780
> 
> 标签：pid, gyroscope, euler-angles

我正在研究车辆控制并使用 9DOF 传感器（加速度计、磁力计和陀螺仪）。对于偏航角，我在 pi rad 处存在不连续性问题。（180 度）。我正在使用 PID 控制器控制车辆，当车辆转弯超过 180 度时，标志突然改变（从 180 到 -180），这使得控制器行为怪异。当它转动超过-180度时也会出现同样的问题。

作为方法，我使用方向余弦矩阵来计算欧拉角。（Sparkfun 传感器的推荐方法。）

我的问题是我应该使用什么样的方法？在使用PID控制器控制偏航角的情况下如何处理这种不连续性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T20:36:52.147

我有同样的问题，我正在做以下事情：

```
#define MOD(a) ((a > 180.0) ? (a - 360.0) : ((a < -180.0) ? (a + 360.0) : a)) 
```

用这样的公式可以简单地将2个角度的差放回-180d/+180d。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-06T07:52:48.570

这是你的问题吗？

```
After desired angle changes it's sign(ie. 180->-180) 
then suddenly control input(ie. P * error) becomes bigger. 
```

例如。

```
--------------------------------
|  desired  |  real  |  error  |
|-----------|--------|---------|
|    170    |   160  |   10    |
|   -170    |   160  |  -330   |
-------------------------------- 
```

如果你的问题和我理解的一样，这个怎么样？在我们开始之前，请注意**假设每个角度值都在 [-pi,pi] 的范围内。**

```
error = desired - real;
if(error > 180)
   error = error - 360;
else if(error < -180)
   error = error + 360;
else
   error = error;//do nothing 
```

这种方法总是选择一个方向，使控制输入变小。（你知道方向有两种选择）

# java - 嵌套 forEach 循环 (JSTL/JSF)

> ID：10697846
> 
> 赞同：3
> 
> 时间：2012-05-22T07:45:05.710
> 
> 标签：java, jsf, jstl

我是新手，目前正在编辑朋友的现有代码，我只是想知道是否有一种简单的方法可以在 JSTL/JSF 中为类似于此的 Java 代码执行嵌套 for 循环：

```
blocks=0;
for(vElement=0; blocks<19; vElement++){
   for(hElement=0; exit<1; hElement++){
      System.out.println(blocks);
      if(blocks!=18){
          blocks++;
      } else{
          exit = 1;
      }
   }
   System.out.println("\n");
} 
```

输出将是这样的：

```
0   1   2   3   4   5   6
7   8   9   10  11  12  13
14  15  16  17  18 
```

我在这里看到的一切都与 Backing Bean 有关（我真的不需要这个）。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T07:57:29.137

```
<c:forEach var="i" begin="0" end="2">
  <c:forEach var="j" begin="0" end="6">
     <c:if test="${(i*7 + j) <=18}">
                       <c:out value="${(i*7 + j)}" />
     </c:if>
  </c:forEach>
  <br />
</c:forEach> 
```

注：未测试

克隆[BalusC 的请求](http://java.net/jira/browse/JAVASERVERFACES-2240)我也添加了[新请求](http://java.net/jira/browse/JAVASERVERFACES-2423)

**另见**

*   [for-in-jsf](https://stackoverflow.com/questions/5258033/for-in-jsf/)

# javascript - 如何将方法导出到另一个模块

> ID：10697851
> 
> 赞同：1
> 
> 时间：2012-05-22T07:45:23.370
> 
> 标签：javascript, node.js

我有对象从事件扩展：

```
var A = function () {
    EventEmitter.call(this);
};

inherits(A, EventEmitter);

var a = module.exports =  Object.create(new A());

A.prototype.method = module.exports = function f(arg1,arg2){} 
```

在我制作的另一个模块上：

```
var controller = require('./filename');

function main(){
    controller.f(arg1,arg2);
} 
```

我猜需要/导出的东西是错误的，但我找不到什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-26T23:56:44.243

尝试这个：

```
var A = function() {
    EventEmitter.call(this);
};

inherits(A, EventEmitter);

var a = module.exports = new A();

A.prototype.f = function(arg1, arg2) {
    console.log("Hello, world!");
} 
```

你的愚蠢是重新分配`module.exports`第二种类型。这应该做你想做的；即，模块的导出是 的实例`A`，因此`require('./controller')`返回`A`实例，您可以调用`f(arg1, arg2)`它。

顺便说一句，这`Object.create()`是无关紧要的。

# c++ - 许多派生类使用的函子在哪里定义？

> ID：10697854
> 
> 赞同：1
> 
> 时间：2012-05-22T07:45:31.070
> 
> 标签：c++

我的代码中的一个常见场景是我得到了一个被层次结构中的许多类使用的**函子。**

为了让所有类都可以访问它并保持 DRY，我通常将它定义为我的基类的受保护内部结构，如下所示：

```
class Base
{
protected:
    struct CommonFunctor
    {
        bool operator()()
        {
            return true;
        }
    };
};

class DerivedA : public Base
{
    void FooA()
    {
        bool test = CommonFunctor()();
    }
};

class DerivedB : public Base
{
    void FooB()
    {
        bool test = CommonFunctor()();
    }
}; 
```

我不喜欢这个解决方案，因为它用许多小的仿函数使我的基类变得混乱，这些仿函数只是内部的，即使公众无法访问它们，它们也会降低我的基类的可读性。

**你知道这种情况的任何其他解决方案吗？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T05:59:24.730

只需在新文件 ( `BaseClassFunctors.cpp`+ `BaseClassFunctors.h`) 中实现您的仿函数。将它们放在您的命名空间中，并带有可选的子命名空间（例如命名空间 main.internal）。

现在您将头文件包含在您想要的任何派生类中，而不会弄乱基类头。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T08:43:31.103

您可以在其他地方实现函子并仍然将其保留为 Base 的成员：

```
class Base
{
protected:
    struct CommonFunctor;
};   

struct Base::CommonFunctor
{
    bool operator()()
    {
        return true;
    }
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T07:47:36.657

尽管我（显然，其他所有人）讨厌多重继承，但它在这里会派上用场。

只需创建一个包含所有仿函数的第二个类，并在派生自 的子类中`Base`继承这两个`Base`类和这个新类。

# aptana - 如何在 Aptana 中搜索函数的用法？

> ID：10697855
> 
> 赞同：4
> 
> 时间：2012-05-22T07:45:33.170
> 
> 标签：aptana, pydev

`PyCharm`可以搜索特定函数的用法，以查看它在应用程序中的其他位置。

这样的事情是否也在实施`Aptana Studio 3.1.2 (PyDev)`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-23T00:48:54.250

是的，您可以使用 Ctrl+Shift+G 来查找参考。请参阅： http: [//pydev.org/manual_adv_keybindings.html](http://pydev.org/manual_adv_keybindings.html)

# firefox - 为什么 Flattr 弹出窗口会覆盖 Firefox 中的按钮？

> ID：10697857
> 
> 赞同：0
> 
> 时间：2012-05-22T07:45:38.580
> 
> 标签：firefox, flattr

我已经在我的网站上手动实现了[Flattr](http://flattr.com/)按钮。

在 Firefox (Windows) 中，“弹出”覆盖了按钮，因此无法按下它。

任何其他浏览器都会在正确的位置呈现弹出窗口。有人可以证实这一点吗？还是我网站上的冲突？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T07:40:48.437

由于您没有提及哪个网站是您的，所以我只能推测其原因，如果我这样做了，那么我认为您的 body-element 没有从浏览器的左上角开始，因此定位由于浏览器无法正确考虑偏移正文元素，弹出窗口失败。

我们有报道称人们在例如遇到这个问题。WordPress 在用户登录时显示的管理栏将整个站点向下推 20 像素或其他东西，并使弹出窗口的位置为 20 像素。对您来说可能是类似的事情 - 您登录的是 Firefox 而不是其他浏览器？

据我所知，这个限制没有解决方法 - 例如。jQuery[也无法解释它](http://api.jquery.com/offset/)。

[好东西：如果您的布局有一个带有偏移量的主体或其他使弹出不适合您的东西，您可以通过在 button 的设置中](http://developers.flattr.net/button/)设置 popout 0 来禁用它。

# php - PHP 命名空间和继承

> ID：10697860
> 
> 赞同：0
> 
> 时间：2012-05-22T07:45:47.547
> 
> 标签：php, inheritance, namespaces

我想扩展标准`PDO`类。所以我有：

```
namespace Example;

class NewPDO extends PDO {} 
```

但我收到以下错误：

**致命错误：在第****4**行的**/home/hdocs/lab/index.php**中找不到类 'Example\PDO'

 **我知道那是因为`PDO`类不在`Example`命名空间内。
我该如何解决？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-22T07:47:44.977

`PDO`在全局命名空间中，你应该`\`在它之前添加。

```
namespace Example;

class NewPDO extends \PDO {} 
```**

# java - Eclipse Tomcat 严重：加载 WebappClassLoader 时出错

> ID：10697866
> 
> 赞同：1
> 
> 时间：2012-05-22T07:46:17.333
> 
> 标签：java, eclipse, tomcat6

Tomcat 在 Eclipse 上成功启动，但是任何涉及 Servlet 的操作都会给出以下错误。

我怀疑问题是 TomCat 在 WEB-INF 文件夹中查找类，尽管我不知道 Eclipse 在哪里编译和隐藏它们（不确定）。我该如何解决？

```
SEVERE: Error loading WebappClassLoader
  context: /MyEclipseProject
  delegate: false
  repositories:
    /WEB-INF/classes/
----------> Parent Classloader:
org.apache.catalina.loader.StandardClassLoader@3344c133
 servlet.StartServlet
java.lang.ClassNotFoundException: servlet.StartServlet
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1680)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1526)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1128)
    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:827)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
    at java.lang.Thread.run(Unknown Source) 
```

已经阅读：

[在 Tomcat 中加载 WebappClassLoader 时出错](https://stackoverflow.com/questions/2954060/error-loading-webappclassloader-in-tomcat)

[抛出日食异常](https://stackoverflow.com/questions/7195102/eclipse-exception-thrown)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T03:52:58.040

编译后的类文件位于 $user.dir/webContent/WEB_INF/classes 文件夹下。如果那里没有类，我建议您从 tomcat 服务器中删除该项目，然后清理您当前的项目。最后，再次在服务器上运行您的项目（jsp 等）。我希望这将有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-22T08:58:07.260

请从您的项目构建路径中删除 tomcat 服务器运行时库，然后重新添加 tomcat 服务器。现在运行，我猜它应该可以解决你的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-05T09:01:04.173

我也遇到了同样的问题，在“lib”文件夹中添加了所有 jar 之后，它现在可以正常工作了

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-17T10:25:20.813

*   清理你的项目
*   刷新它
*   重新部署它

我尝试了这些步骤，我的应用程序正常工作:)

# javascript - 将选择字段的值克隆到 span 或任何其他 html 元素中

> ID：10697869
> 
> 赞同：0
> 
> 时间：2012-05-22T07:46:25.413
> 
> 标签：javascript, jquery

![在此处输入图像描述](../Images/4adb3bbdd87d63d5c2c5a2650f387463.png)

这是我在应用程序中的字段，我需要将此值克隆到一些 span 元素或任何其他 html 元素中，因此它将是我从选择器中选择的日期的克隆：

```
<select id="massmedium_register_date_1i" name="massmedium[register_date(1i)]"></select>
<select id="massmedium_register_date_2i" name="massmedium[register_date(2i)]"></select>
<select id="massmedium_register_date_3i" name="massmedium[register_date(3i)]"></select> 
```

前任：

我选择：`15 - 06 - 1982`

克隆到：

```
<span class="date">15</span><span class="date">06</span><span class="date">1982</span> 
```

欢迎任何帮助。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T07:53:51.543

这会给你日期

```
var d = $('#massmedium_register_date_1i').val(); 
```

然后就可以写了

```
var span = '<span class="date">' + d +'</span><span class="date">06</span><span class="date">1982</span>
'; 
```

比附加它

```
$('body').append(span); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:55:45.520

像这样的东西应该工作：

```
var

day = $('#massmedium_register_date_1i').val(),
month = $('#massmedium_register_date_2i').val(),
year = $('#massmedium_register_date_3i').val()

// Then put this inside your event
var markup = '<span class="day">'+ day +'</span>' +
  '<span class="month">'+ month +'</span>' +
  '<span class="year">'+ year +'</span>'

$(markup).appendTo('#yourContainer') 
```

# android - 如何从原生 android contactdetails 页面启动我自己的应用程序？

> ID：10697870
> 
> 赞同：0
> 
> 时间：2012-05-22T07:46:26.100
> 
> 标签：android, android-layout, android-intent, android-widget

我正在从 android 市场获取一个应用程序的参考，实际上我想要一个类似的界面，所以实际问题是这样的，请参阅-->

第 1 步。）我们在 android 手机中有我们的本地联系人列表，请看附件中的屏幕截图---->

![在此处输入图像描述][1]

step2.) 现在我从这个联系人列表中选择一个特定的联系人 假设我选择了 xyz，所以我们将到达以下页面，请参阅---->！[在此处输入图像描述][2] 单击联系人页面。在此页面上，呼叫移动选项是 Android 手机的默认选项，但之后有第二行带有 Walkie-talkie 选项，这是应用程序开发人员现在自定义的选项，当您单击该对讲机时它开始您的应用程序屏幕截图附加为----->

点击对讲机！[在此处输入图像描述][3]

现在它登陆应用程序。

现在问题是我应该在哪里进行更改以添加对讲机的选项来启动您自己的应用程序。就像在这里，他们在联系方式页面上给了对讲机我想为我的应用程序提供的类似选项，那么我应该在哪里提供这个选项？

1）我们不能在操作系统文件中进行更改，因为它是应用程序。2) android-manifest.xml 文件中必须有一些选项来提供这个选项，即放置一个新行以从 android Native Contact Details Page 启动我们自己的应用程序。我试着用谷歌搜索它，但想不通。

3）看到有与本地电话或短信交互的意图，例如仅在点击呼叫电话时发送短信，我们可以这样做将其移动到我们的应用程序，例如如果您点击呼叫移动然后我们能够提供诸如查看 -----> 之类的选项

```
 <activity
        android:name=".KVSMSLiteActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
        <intent-filter android:label="Send Voice SMS">
            <action  android:name="android.intent.action.CALL_PRIVILEGED"/>
            <category android:name="android.intent.category.DEFAULT" />
            <data android:scheme="tel" />
        </intent-filter>
        <intent-filter android:label="Send Voice SMS">
            <action  android:name="android.intent.action.SENDTO"/>
            <category android:name="android.intent.category.DEFAULT" />
            <data android:scheme="sms" />
            <data android:scheme="smsto" />
        </intent-filter>
        </activity> 
```

像这样在这里输入代码....点击通话手机

如果您单击拨号，它将转到 android 本地电话呼叫，如果您单击发送语音短信，那么它将转到我的应用程序，他们所做的就是在 android-manifest.xml 文件中看到的邮件活动，他们放置了这个选项—— -->

所以你能建议我如何在android原生调用移动行之后放置一个新行.....？![在此处输入图像描述][4]最后如何做到这一点

感谢您抽出时间.....:-)

问候，纳伦德拉。

# silverlight - Silverlight 4.0 - 内存崩溃，显示 20.000 个数据

> ID：10697875
> 
> 赞同：0
> 
> 时间：2012-05-22T07:46:50.890
> 
> 标签：silverlight, memory, gantt-chart

我有一个 radiantQ 甘特图控件和从 wcf 服务接收到的 20.000 个数据来显示。当要显示的数据较少时，它就像一个魅力。但我需要显示 20.000 条记录并且所有浏览器都冻结。有没有办法解决这个问题？增加隔离存储可能有效吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T06:34:39.593

应用程序在渲染模式下是否崩溃（当您在 UI 上显示数据时）？- 您可以使用虚拟化模式。您可以尝试再创建一个线程（任务或使用后台工作者）并以“堆栈”模式将部分数据显示到 UI。不要在第一步加载所有数据。它应该工作。我试过这样做：从服务中加载 1000 多个数据项并将其显示在 UI 上。

应用程序在从服务接收数据的过程中是否崩溃（当您调用服务方法时）？- 您应该配置您的服务。增加最大接收消息大小等。这取决于您使用的服务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T13:46:45.103

@哈利尔易卜拉欣，

请联系 RadiantQ 技术支持，我们将为您提供有关如何使用大量数据优化甘特图使用的提示。

# facebook - fb 应用程序 - 邀请朋友加入此应用程序按钮

> ID：10697876
> 
> 赞同：0
> 
> 时间：2012-05-22T07:46:54.243
> 
> 标签：facebook

我开发了小型 fb 应用程序（也可以在单独的域上和 app.facebook.com 上使用），我想加入类似“邀请我的朋友加入这个应用程序”按钮（不知道这个的确切名称所以我用引号）。我怎样才能做到这一点？我正在使用 fb php sdk 并且不想使用 fbml 因为我看到它已贬值。非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T09:36:03.990

您可以使用[Javascript SDK](https://developers.facebook.com/docs/reference/javascript)打开[请求对话框](https://developers.facebook.com/docs/reference/dialogs/requests/)。

使用此对话框，用户可以选择将向其发送请求的朋友。这很容易，（基本）代码应该是这样的：

```
window.fbAsyncInit = function() {
    FB.init({
        appId: "YOUR_APP_ID",
        status: true,
        cookie: true
    });

    // Additional initialization code here
};

// Load the SDK Asynchronously
(function(d){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all.js";
    ref.parentNode.insertBefore(js, ref);
}(document));

function invite() {
    FB.ui({
        method: "apprequests",
        message: "Check out my great app"
    }, inviteCallback);
}

function inviteCallback(response) {
    console.log(response);
} 
```

# php - 在 php 字符串中指定图像高度和宽度

> ID：10697880
> 
> 赞同：1
> 
> 时间：2012-05-22T07:47:06.330
> 
> 标签：php, html, image, socialengine

我有一个链接图像，我需要为它指定由 php 字符串生成的高度和宽度 html 属性。我已经研究过使用 getimagesize 但它看起来不像我需要的。我目前正在使用社交引擎。

这是我拥有的调用图像链接的字符串。

`<?php echo $this->htmlLink($item->getHref(), $this->itemPhoto($item, 'null'), array('class' => '')) ?>`

输出html之类的东西`<a href="#"><img src="#" class="null"/></a>`

我需要修改 php 以创建一个指定为 110px x 110px 的图像，即`<a href="#"><img src="#" class="null" width="110" height="110"/></a>`

谁能给我一个如何编写字符串的示例？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-23T02:11:22.027

你必须使用这个：

```
<?php echo $this->htmlLink(
    $item->getHref(), 
    $this->itemPhoto(
        $item, 
        'null', 
        null, 
        array('width' => '110px', 'height' => '110px')), 
    array('class' => '')
) ?> 
```

即为`itemPhoto`函数添加第四个参数数组。

Socialengine 是 Zend 框架的扩展。您应该尝试检查 等函数的定义`itemPhoto`以`htmlLink`自定义它们。例如`itemPhoto`可以在这里找到 - \application\modules\Core\View\Helper\ItemPhoto.php

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-22T07:52:29.670

最后一个参数用于那个，不是吗？

```
$this->htmlLink(
  $item->getHref(), 
  $this->itemPhoto($item, '', '', array('width' => 110, 'height' => 110)),
  array('class' => '')
); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T08:05:43.033

**方法1：** 只需为空类添加样式

```
<?php echo $this->htmlLink($item->getHref(), $this->itemPhoto($item, 'null'), array('class' => '')) ?> 
```

作为：

```
.null {
  height: 110px;
  width: 110px;
} 
```

* * *

**方法2：** 或者您可以将内联样式属性传递为：

```
<?php echo $this->htmlLink($item->getHref(), $this->itemPhoto($item, 'null'), array('class' => '', 'style' => 'height: 110px; width: 110px')) ?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T07:57:58.580

我看不到函数 htmlLink() 背后的内容，但我想由于您传递的那些元素的名称，您可以编写。

```
echo '<a href="'.$item->getHref().'"><img src="'.$this->itemPhoto($item, 'null').'" class="null" width="110" height="110"/></a>'; 
```

但是以太发布该功能或只是尝试错误！

# html - CSS/HTML - 在 2 个包装器内放置页脚

> ID：10697883
> 
> 赞同：0
> 
> 时间：2012-05-22T07:47:16.753
> 
> 标签：html, alignment, footer

我在放置页脚时遇到了一些问题。它应该漂浮在 2 个并排的列之上（[http://imgur.com/dfiT1](http://imgur.com/dfiT1)）。现在的问题是，它需要很好地对齐，以便 2 列的边框与页脚的 2 部分的边框对齐，并且，它需要在两列上都有 100px 的最小边距，这样当页面内容很少或很多时，页脚不会浮动在任一列的内容之上。

我已经尝试通过使用额外的包装器、clearfix、jquery 来调整高度来与同事解决这个问题，但我们似乎找不到解决方案。

所以简而言之：页脚需要在大小分辨率中保持相同的位置，两列的边距顶部最小

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T15:06:33.567

在我看来，最好的解决方案是将页脚放在两列之外。但我知道有时有些限制是您无法更改的，因此可能的解决方案是：

HTML

```
 <div class="wrapper"><div id="column1" class="column">
         <div class="content">
     Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nisl purus, lobortis et adipiscing non, vestibulum et tortor. Praesent aliquam placerat enim sit amet blandit. In ipsum dui, accumsan at hendrerit nec, tempus in augue. Etiam molestie, orci a feugiat tempus, nunc quam posuere libero, et ultrices libero sem porta arcu. Donec varius, massa at feugiat accumsan, mi lacus aliquam arcu, id faucibus arcu felis et sapien. Praesent sit amet tortor nibh. Nam mollis, ante quis iaculis fringilla, ante sapien dignissim ligula, in dignissim urna nisl ut ante. Mauris eget diam justo, nec tempor justo. Donec vel eros eget risus rhoncus dapibus. Nullam at felis faucibus orci molestie feugiat sit amet ut augue. Vestibulum at tellus tortor, non tempus quam. Phasellus adipiscing ante a purus congue ultrices in non justo. Ut ullamcorper porttitor quam, sit amet tincidunt mauris hendrerit at.
         </div>
         <div class="footer">
             Donec facilisis accumsan nisl
         </div>
     </div><div id="column2" class="column">
         <div class="content">
             Aenean pharetra sagittis ipsum, vitae pulvinar nunc aliquet ut. Fusce sit amet elit dui, a vulputate risus. Maecenas in laoreet tortor.
         </div>
         <div class="footer">
             Pellentesque malesuada ligula eget justo
         </div>
     </div>
 </div> 
```

CSS

```
 html, body, .wrapper {
   margin:0;
   border:0;
   outline:0;
 }

 .column {
   display:inline-block;
   margin:0;
   padding:0;
   vertical-align:top;
 }

 #column1 {
   width: 30%;
   background-color:teal;
 }

 #column2{
   width: 70%;
   background-color:coral;
 }

 .wrapper{
   position: relative;
   background-color: black;
   padding-bottom: 200px;
 }

 .footer {
   position: absolute;
   bottom: 50px;
   background-color: silver;
 }

 #column1 .footer {
   right: 70%;
 }

 #column2 .footer {
   left: 30%;
 } 
```

[现场演示](http://result.dabblet.com/gist/2769559)

会有其他解决方案，但这个对我来说似乎是最简单的，因为页脚的高度是恒定的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:58:43.760

尝试添加 min-height: 100%; 到两列，并将它们放在同一个div中。

# android - 安卓搜索栏

> ID：10697894
> 
> 赞同：1
> 
> 时间：2012-05-22T07:47:59.017
> 
> 标签：android, seekbar

我`seekbar`在安卓中使用。我在`string.xml`我想要的数组中创建了一个数组，当我移动搜索栏时，只要我移动搜索栏，就应该在文本视图上打印数组的值，文本视图上的值应该被更改。

这是我的代码 -

**Java 文件**

```
public class SliderActivity extends Activity 
{
    SeekBar seekbar;
    TextView txt1,txt2;
    String item[];
    int count=0;
    File file;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_PROGRESS);
        setContentView(R.layout.main);
        item=getResources().getStringArray(R.array.myArray);
        seekbar=(SeekBar)findViewById(R.id.seekBar1);
        txt1=(TextView)findViewById(R.id.textView1);
        txt2=(TextView)findViewById(R.id.textView2);
        seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener()
        {
            public void onStopTrackingTouch(SeekBar bar)
            {
                txt2.setText("seekbar has been stop");
            }
            public void onStartTrackingTouch(SeekBar bar)
            {
                txt2.setText("seekbar has started");
            }
            public void onProgressChanged(SeekBar bar,int paramInt, boolean paramBoolean)
            {
                txt1.setText("");
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T08:08:11.487

Considering you have five elements in your array, Do something like this.

```
seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {

    public void onProgressChanged(SeekBar seekBar, int progress,
        boolean fromUser) {
        if (progress <= 20) {

            speed.setText("your Text");
        } else if (progress >= 21 && progress <= 40) {

            speed.setText("your Text");
        } else if (progress >= 41 && progress <= 60) {

            speed.setText("your Text");
        } else if (progress >= 61 && progress <= 80) {

            speed.setText("your Text");
        } else if (progress >= 81 && progress <= 100) {
            speed.setText("your Text");
        }
    }

    public void onStartTrackingTouch(SeekBar arg0) {
        // TODO Auto-generated method stub

    }

    public void onStopTrackingTouch(SeekBar seekBar) {
        // TODO Auto-generated method stub

    }

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T08:00:29.483

您可以使用`seekBar.setMax(max)`where max is = 到数组中的项目编号

并`paramInt`从数组中获取项目

# iphone - 在 JSON 解析中，我在动态解析时遇到问题

> ID：10697898
> 
> 赞同：0
> 
> 时间：2012-05-22T07:48:19.017
> 
> 标签：iphone

JSON解析后我无法准确输出。

`strURLRootView`是`NSString`“ **RootViewController.m”**类的对象...

```
strURLRootView = txt_EnterURL.text; 
```

`strURLRank`也是**“CheckRank_ViewController.m”**类的`NSString`对象...

 **```
strURLRank = strURLRootView;

-(void)viewDidLoad

{

    [self startJSONParsing];

    [super viewDidLoad];
}

-(void)startJSONParsing

{

    responseData = [[NSMutableData data] retain];
    ArrData = [NSMutableArray array];

    NSString *stringWithoutSpaces = [NSString stringWithFormat:@"http://lsapi.seomoz.com/linkscape/url-metrics/%@%2fblog?AccessID=member-10fd5cb877&Expires=1365850483&Signature=m%2F7hZu1y7Sa00NGLFKHYY%2FO3TB4%3D",strURLRank]; 
```

如果我使用

@"http://lsapi.seomoz.com/linkscape/url-metrics/www.yahoo.com%2fblog?AccessID=member-10fd5cb877&Expires=1365850483&Signature=m%2F7hZu1y7Sa00NGLFKHYY%2FO3TB4%3D"

这个 URL 静态地给出准确的输出。

```
 NSLog(@"stringWithoutSpaces is:--> %@\n\n",stringWithoutSpaces);

    NSURLRequest *request1 = [NSURLRequest requestWithURL:

                             [NSURL URLWithString:stringWithoutSpaces]];
    NSLog(@"request1 is:--> %@\n",request1);

    [[NSURLConnection alloc] initWithRequest:request1 delegate:self];

}

(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response

{

    [responseData setLength:0];

}

(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data

{

    [responseData appendData:data];

}

(void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error

{

    NSLog(@"Error occured at the time of parsing...");

}

(void)connectionDidFinishLoading:(NSURLConnection *)connection

{

    [connection release];
    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    [responseData release];

    results = [responseString JSONValue];

    lbl_RootDomain.text = [results objectForKey:@"upl"];
    lbl_URL.text = [results objectForKey:@"uu"];
    lbl_Title.text = [results objectForKey:@"ut"];
    lbl_SubDomain.text = [NSString stringWithFormat:@"%f",[[results objectForKey:@"fmrp"] floatValue]];
    lbl_MozRank.text = [NSString stringWithFormat:@"%f",[[results objectForKey:@"umrp"] floatValue]];
    lbl_DomainAutho.text = [NSString stringWithFormat:@"%d",[[results objectForKey:@"pda"] intValue]];
    lbl_XternalLinks.text = [NSString stringWithFormat:@"%d",[[results objectForKey:@"ueid"] intValue]];
    lbl_Links.text = [NSString stringWithFormat:@"%d",[[results objectForKey:@"uid"] intValue]];
    lbl_PageAutho.text = [NSString stringWithFormat:@"%f",[[results objectForKey:@"upa"] floatValue]];

    NSLog(@"results data is:--> %@",results);

    NSString *str = [NSString stringWithFormat:@"Root Domain: %@\n URL: %@\n Title: %@\n Subdomain mozRank: %@\n MozRank: %@\n Domain Authority: %@\n External Links: %@\n Links: %@\n Page Authority: %@\n",lbl_RootDomain.text,lbl_URL.text,lbl_Title.text,lbl_SubDomain.text,lbl_MozRank.text,lbl_DomainAutho.text,lbl_XternalLinks.text,lbl_Links.text,lbl_PageAutho.text];

    NSLog(@"mail data is:--> \n\n %@",str);
} 
```

我在编码中没有得到确切的问题。如果我在编码方面错了，请告诉我出了什么问题。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:03:46.827

检查 strURLRank 不为空后，然后使用下面的代码...

```
NSString *stringWithoutSpaces = [NSString stringWithFormat:@"http://lsapi.seomoz.com/linkscape/url-metrics/%@%2fblog?AccessID=member-10fd5cb877&Expires=1365850483&Signature=m%2F7hZu1y7Sa00NGLFKHYY%2FO3TB4%3D",strURLRank];

NSString *urlString=[self trimString:stringWithoutSpaces]; 
```

以及使用 urlString .....

以下方法在您的 .m 文件中定义...

```
-(NSString*) trimString:(NSString *)theString {
    NSString *theStringTrimmed = [theString stringByTrimmingCharactersInSet: [NSCharacterSet whitespaceAndNewlineCharacterSet]];
    return theStringTrimmed;
} 
```

希望这对你有帮助.... :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-23T06:35:23.143

......... Maulik Trambadiya 解决方案 .........................

```
-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    [responseData setLength: 0];
}

-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{   
    [responseData appendData:data];
}

-(void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error
{
    [connection release];
    [responseData release];

}

-(void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    responseData = nil;
    NSLog(@"%@",responseString);
    SBJsonParser *parser = [[[SBJsonParser alloc] init] autorelease];
    NSDictionary *responseDict = [parser objectWithString:responseString];
    NSLog(@"%@",responseDict);
    [responseDict retain];    
}

- (NSString*) _formEncodeString: (NSString*) string
{
    NSString* encoded = (NSString*) CFURLCreateStringByAddingPercentEscapes(kCFAllocatorDefault,
                                                                            (CFStringRef) string, NULL, CFSTR("!*'();:@&=+$,/?%#[]"), kCFStringEncodingUTF8);
    return [encoded autorelease];
}

- (void)viewWillAppear:(BOOL)animated
{

    responseData = [[NSMutableData data] retain];
    ArrData = [NSMutableArray array];
    NSString *strURLRank=@"www.gmail.com";
    NSString *str=@"%2fblog?AccessID=member-10fd5cb877&Expires=1365850483&Signature=";
    NSString *str1=@"m%2F7hZu1y7Sa00NGLFKHYY%2FO3TB4%3D";
    NSString *stringWithoutSpaces = [NSString stringWithFormat:@"http://lsapi.seomoz.com/linkscape/url-metrics/%@",strURLRank];
    NSLog(@"%@",stringWithoutSpaces);

    stringWithoutSpaces=[NSString stringWithFormat:@"%@%@%@",stringWithoutSpaces,str,str1];

  //  stringWithoutSpaces=[stringWithoutSpaces stringByReplacingOccurrencesOfString:@" " withString:@"%20"];
   // stringWithoutSpaces = [stringWithoutSpaces stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
    NSLog(@"%@",stringWithoutSpaces);

    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:stringWithoutSpaces]];
    NSLog(@"%@",request);
   [[NSURLConnection alloc] initWithRequest:request delegate:self];

    [super viewWillAppear:animated];
} 
```

...... Maulik Trambadiya 解决方案完成............**

# biztalk - 如何使用 BizTalk 创建带有来自查询的标题和行的平面文件？

> ID：10697899
> 
> 赞同：0
> 
> 时间：2012-05-22T07:48:19.373
> 
> 标签：biztalk, biztalk-2010

我是 BizTalk 的新手，我正在设法创建从 Oracle 到平面文件的普通接口。

但是我们的大多数接口会是一个标题与不同长度的行的组合。

例如，查询将是...

```
select oh.id, oh.name, ol.lineNo, ol.qty_ordered, ol.qty_shipped, ol.price 
from header oh, line ol 
```

这将导致类似于此的平面文件...

```
oh.id       |  oh.name
ol.lineNo   |  ol.qty_ordered  |  ol.qty_shipped  |  ol.price
ol.lineNo   |  ol.qty_ordered  |  ol.qty_shipped  |  ol.price
ol.lineNo   |  ol.qty_ordered  |  ol.qty_shipped  |  ol.price
oh.id       |  oh.name
ol.lineNo   |  ol.qty_ordered  |  ol.qty_shipped  |  ol.price
ol.lineNo   |  ol.qty_ordered  |  ol.qty_shipped  |  ol.price 
```

我确信这对 BizTalk 来说不是一个奇怪的设置，但我不知道如何调用它，所以我无法真正用谷歌搜索它。到目前为止，我似乎在创建允许线条如此不同的模式和映射时遇到问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:57:40.273

我建议使用 BizTalk 架构向导[msdn](http://msdn.microsoft.com/en-us/library/aa559306)

注意：我只对平面文件做了一点工作`BizTalk`，但我发现 [codeproject](http://www.codeproject.com/Articles/13706/Creating-Flat-File-schemas-using-the-BizTalk-Serve)上的文章对初学者很有用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T10:43:09.397

如果我对您的理解正确（我假设您需要一个用于映射器的架构），您需要一个类似于

```
 <?xml version="1.0" encoding="utf-16"?>
<xs:schema xmlns="http://BizTalk_Server_Project1.FlatFileSchema1" xmlns:b="http://schemas.microsoft.com/BizTalk/2003" targetNamespace="http://BizTalk_Server_Project1.FlatFileSchema1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:appinfo>
      <schemaEditorExtension:schemaInfo namespaceAlias="b" extensionClass="Microsoft.BizTalk.FlatFileExtension.FlatFileExtension" standardName="Flat File" xmlns:schemaEditorExtension="http://schemas.microsoft.com/BizTalk/2003/SchemaEditorExtensions" />
      <b:schemaInfo standard="Flat File" codepage="65001" default_pad_char=" " pad_char_type="char" count_positions_by_byte="false" parser_optimization="speed" lookahead_depth="3" suppress_empty_nodes="false" generate_empty_nodes="true" allow_early_termination="false" early_terminate_optional_fields="false" allow_message_breakup_of_infix_root="false" compile_parse_tables="false" root_reference="Sales" wrap_char_type="char" default_wrap_char="&quot;" />
    </xs:appinfo>
  </xs:annotation>
<xs:element name="orders">
        <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" name="order">
        <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="1" minOccurs="1" name="orderheader">
        <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="1" minOccurs="1" name="ohID"/>
        <xs:element maxOccurs="1" minOccurs="1" name="ohName"/>
        </xs:sequence>
        </xs:complexType>
    </xs:element>
        <xs:element maxOccurs="1" minOccurs="1" name="orders">
        <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="1" minOccurs="1" name="ohLineNo"/>
        <xs:element maxOccurs="1" minOccurs="1" name="ohQuantityOrdered"/>
        <xs:element maxOccurs="1" minOccurs="1" name="ohQuantityShipped"/>
        <xs:element maxOccurs="1" minOccurs="1" name="ohPrice"/>
        </xs:sequence>
        </xs:complexType>
    </xs:element>
        </xs:sequence>
        </xs:complexType>
        </xs:element>
        </xs:sequence>
        </xs:complexType>
        </xs:element></xs:schema> 
```

然后根据您的结果使用映射器构建？

# wpf - WPF 在视图中更改 ViewModel 属性

> ID：10697903
> 
> 赞同：1
> 
> 时间：2012-05-22T07:48:38.873
> 
> 标签：wpf, mvvm, viewmodel

我有一个 WPF DataGrid，其中包含几个包含复选框的模板列。如果我按下特定复选框，则必须设置另一个复选框的来源。

我有一个带有名为 Property 的属性的 Viewmodel（是的，我知道 :)），并且该属性具有“可见”属性。如果我选中“强制”复选框，我希望设置“可见”值，因此也设置可见复选框，但不知何故这不起作用。

这是我的代码：

```
 <toolkit:DataGridTemplateColumn Header="Mandatory" IsReadOnly="False">
        <toolkit:DataGridTemplateColumn.CellTemplate>
            <DataTemplate>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <CheckBox IsChecked="{Binding Path=Mandatory,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        <CheckBox.Style>
                            <Style TargetType="{x:Type CheckBox}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Path=MandatoryDB}" Value="True">
                                        <Setter Property="IsEnabled" Value="False" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Path=MandatoryDB}" Value="False">
                                        <Setter Property="IsEnabled" Value="True" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </CheckBox.Style>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Checked">
                                <ei:ChangePropertyAction TargetObject="{Binding UpdateSourceTrigger=PropertyChanged}" PropertyName="ReadOnly" Value="False" />
                                <ei:ChangePropertyAction TargetObject="{Binding NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}" PropertyName="Visible" Value="True" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </CheckBox>
                </StackPanel>
            </DataTemplate>
        </toolkit:DataGridTemplateColumn.CellTemplate>
    </toolkit:DataGridTemplateColumn> 
```

谢谢，乔尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T08:03:34.470

我认为您要做的是通过您的视图来驱动您的业务逻辑，这是一种可怕的反模式。您需要做的是，当“强制”复选框的值发生更改时，您的视图模型需要相应地设置其他属性并提醒您的视图发生了更改（`INotifyPropertyChanged`）。

您的视图不应设置任何视图模型属性，它应该只读取它们并传递用户输入，您的视图需要控制的唯一其他东西是转换器和其他仅查看项目。

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T09:01:12.803

看看这是否可以帮助你。

假设您想在 Datagrid 中显示 yes、no 和 ans。为此，请找到下面的示例代码。

```
<DataGrid AutoGenerateColumns="False" ItemsSource="{Binding Coll}">
    <DataGrid.Columns>
        <DataGridTemplateColumn Header="Yes">
            <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                    <CheckBox Width="50"
                              Height="50"
                              IsChecked="{Binding Yes,
                                                  Mode=TwoWay,
                                                  UpdateSourceTrigger=PropertyChanged}" />
                </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>
        <DataGridTemplateColumn Header="No">
            <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                    <CheckBox Width="50"
                              Height="50"
                              IsChecked="{Binding No,
                                                  Mode=TwoWay,
                                                  UpdateSourceTrigger=PropertyChanged}" />
                </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>
        <DataGridTemplateColumn Header="Ans">
            <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                    <Rectangle Width="100"
                               Height="50"
                               RadiusX="25"
                               RadiusY="25">
                        <Rectangle.Style>
                            <Style TargetType="{x:Type Rectangle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Ans}" Value="true">
                                        <Setter Property="Fill" Value="Green" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Ans}" Value="false">
                                        <Setter Property="Fill" Value="Red" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Rectangle.Style>

                    </Rectangle>
                </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>
    </DataGrid.Columns>
</DataGrid> 
```

后面的代码

```
 public partial class YesNoTest : Window
    {
        public YesNoTest()
        {
            InitializeComponent();
            if (Coll == null)
            {
                Coll = new ObservableCollection<Anss>();
                for (int index = 0; index < 10; index++)
                {
                    Coll.Add(new Anss() { Yes = false, No = false, Ans = true });
                }
            }

            this.DataContext = this;
        }

        private ObservableCollection<Anss> _coll;

        public ObservableCollection<Anss> Coll
        {
            get { return _coll; }
            set { _coll = value; }
        }

    }

    public class Anss : INotifyPropertyChanged
    {
        private bool _Yes;

        public bool Yes
        {
            get
            {
                return _Yes;
            }
            set { _Yes = value; OnChanged("Yes"); OnChanged("Ans"); }
        }

        private bool _No;

        public bool No
        {
            get
            {
                if (_No == true)
                    Yes = false;
                return _No;
            }
            set { _No = value; OnChanged("No"); OnChanged("Ans"); }
        }

        private bool _Ans;

        public bool Ans
        {
            get
            {
                if (Yes == true)
                    _Ans = true;
                else
                    _Ans = false;
                return _Ans;
            }
            set { _Ans = value; OnChanged("Ans"); }
        }

        public event PropertyChangedEventHandler PropertyChanged;
        public void OnChanged(string name)
        {
            if (PropertyChanged != null)
                PropertyChanged(this, new PropertyChangedEventArgs(name));
        }
    } 
```

# android - 获取android webview中每个页面的url地址

> ID：10697905
> 
> 赞同：0
> 
> 时间：2012-05-22T07:48:46.050
> 
> 标签：android, webview

嗨，我是 android 新手，我正在做一个 web 应用程序，在这里我有一个 webview 我想获取每个页面的 url 地址，以便我使用 webview.getUrl(); 我得到了那个页面的地址，但我没有得到其他页面的网址，现在找到 url 我如何在 android 中找到每个页面的地址，如果有必要我可以发布我的代码。

```
package com.k.l;

 import java.net.URL;

    public class FregnhjActivity extends Activity implements OnTouchListener, Handler.Callback {

private static final int CLICK_ON_WEBVIEW = 1;
private static final int CLICK_ON_URL = 2;

private final Handler handler = new Handler(this);

private WebView webView;
private WebViewClient client;
Bundle link=new Bundle();
String idyoutube="";
String webUrl="";
String url="http://m.youtube.com/";

@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

webView = (WebView)findViewById(R.id.web);
webView.setOnTouchListener(this);

client = new WebViewClient(){ 
    @Override public boolean shouldOverrideUrlLoading(WebView view, String url) { 
        handler.sendEmptyMessage(CLICK_ON_URL);

        return false;
    } 

    @Override
    public void onPageStarted(WebView view, String url, Bitmap favicon) {
        // TODO Auto-generated method stub

         webUrl = webView.getUrl();
        System.out.println("###nasjkxbsa99999999"+webUrl);

        super.onPageStarted(view, url, favicon);

    }
}; 

webView.setWebViewClient(client);
webView.setVerticalScrollBarEnabled(false);
webView.loadUrl(url);

webView.getSettings().setJavaScriptEnabled(true);
}

public boolean onTouch(View v, MotionEvent event) {
if (v.getId() == R.id.web && event.getAction() == MotionEvent.ACTION_DOWN){
    handler.sendEmptyMessageDelayed(CLICK_ON_WEBVIEW, 500);
}
return false;
}

public boolean handleMessage(Message msg) {

if (msg.what == CLICK_ON_URL){
    handler.removeMessages(CLICK_ON_WEBVIEW);

    return true;
}
if (msg.what == CLICK_ON_WEBVIEW){
    Toast.makeText(this, "WebView clicked", Toast.LENGTH_SHORT).show();

    webUrl = webView.getUrl();
    System.out.println("sammmmm"+webUrl);

    int start=webUrl.indexOf('?');
   int end=webUrl.indexOf('v');
   String yutube=webUrl.substring(start-1,end+1);

   int ids=webUrl.indexOf('=');
   idyoutube=webUrl.substring(ids+1);

    return true;
}
return false;
}
} 
```

我在页面完成方法上使用它只加载第一页的地址，之后的下一页没有显示

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T08:21:39.080

```
WebView webView webView = (WebView) findViewById(R.id.webView);
webView.loadUrl("https://www.google.co.in/");
webView.getSettings().setJavaScriptEnabled(true);
webView.setWebViewClient(new WebViewClient() {
@Override
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
                Log.i("shouldOverrideUrlLoading", url);
                return super.shouldOverrideUrlLoading(view, url);
            }

        }); 
```

试试看。。希望对你有帮助。。

# python - 如何在 Python 中复制 Window 的 subst 命令？

> ID：10697909
> 
> 赞同：4
> 
> 时间：2012-05-22T07:49:20.387
> 
> 标签：python, windows, mapped-drive, subst

我正在尝试在我的 Windows 设置上映射一个虚拟驱动器，我正在使用的工具之一不喜欢文件名中的空格。

在命令行上，我会执行以下操作

```
subst l: "c:\Program Files\Complier\version 6.0\bin" 
```

我试图在 Python 中复制该功能，但没有成功。我开始使用直接`os.execl()`执行`subst`命令，但是报了无效参数错误。

SO上的一些其他解决方案建议直接使用Win32API。

顺便说一句，我在 Windows 上使用 Python 2.7.3。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T10:02:44.323

您可以直接调用 Windows API。请注意，您需要在此处传递 unicode 字符串，或者您可以在函数上设置 argtypes 以获得类型安全的行为。

```
from ctypes import windll, c_int, c_wchar_p
DefineDosDevice = windll.kernel32.DefineDosDeviceW
DefineDosDevice.argtypes = [ c_int, c_wchar_p, c_wchar_p ]

# Create a subst. Check the return for non-zero to mean success
if DefineDosDevice(0, "T:", "C:\\Temp") == 0:
    raise RuntimeError("Subst failed")

# Delete the subst.
if DefineDosDevice(2, "T:", "C:\\Temp") == 0:
    raise RuntimeError("Couldn't remove subst") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:52:20.653

理想情况下，您应该正确使用[`popen`](http://docs.python.org/library/subprocess.html)和引用参数。您也可以尝试截断路径`C:\Progra~1`。

# iphone - 如何在 XCode 4.3.2 中创建新的表格视图？

> ID：10697910
> 
> 赞同：0
> 
> 时间：2012-05-22T07:49:23.040
> 
> 标签：iphone, uitableview, xcode4.3

听起来可能是个愚蠢的问题，但我根本找不到在 XCode 4.3.2 中添加子类的功能了。我敢肯定，在 XCode 的先前版本中，我可以在实际按下对话框中的 Create 按钮之前选择视图的子类。当我最初创建我的项目时，我没有使用故事板。这是问题吗？谢谢，勒内

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T07:55:59.557

`File`> `New`> `Files`> `Cocoa Touch`> `Objective-C class`> `Next`>`Subclass of ...`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T07:57:23.177

好的，我自己找到了答案：File / New File / Cocoa Touch，Objective-C Class，UITableViewController 的子类，并为用户界面设置 Option With XIB。

# cherrypy - 如何访问 CherryPy 中的所有活动会话

> ID：10697912
> 
> 赞同：1
> 
> 时间：2012-05-22T07:49:29.460
> 
> 标签：cherrypy

我想限制以管理员身份登录的会话数（限制为 1）。

我只想浏览活动会话列表并检查它们是否以管理员身份登录。这样我就不必跟踪登录、注销、会话到期。不幸的是，似乎没有明显的方法可以做到这一点。

我知道存在并发问题，但是围绕代码创建一个简单的锁就足够简单了。

使用cherrypy 3.2。我正在使用内存会话存储。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T08:16:33.777

找到了使用一些 CherryPy 内部结构的方法：

```
for id, session in cherrypy.session.cache.items():
  if session[0].get("login") == "admin":
    admin_count += 1 
```

其中“登录”是任何会话参数。

# android - 为什么自定义图像视图的 findviewbyId 返回 null

> ID：10697915
> 
> 赞同：0
> 
> 时间：2012-05-22T07:49:37.457
> 
> 标签：android

使用它，我可以通过给出缩放限制和边界限制来拖动和缩放屏幕中的图像视图。但我想要它用于多个图像。为此，我在 main.xml 中使用了自定义视图。但问题是它的 findviewbyId 返回 null。什么可能是问题吗？我在这里想念什么？请帮助 PS：- 我是一个 2 个月大的 android 开发人员

```
 NewzoomlimitActivity .java

    public class NewzoomlimitActivity extends Activity
    {
        /** Called when the activity is first created. */
        int h, w;

        @Override
        public void onCreate( Bundle savedInstanceState )
        {
            super.onCreate( savedInstanceState );

            Display display = getWindowManager().getDefaultDisplay();
            h = display.getHeight();
            w = display.getWidth();

            CustomTouchImageView  img1 = new CustomTouchImageView( NewzoomlimitActivity.this);

            CustomTouchImageView  img11 = new CustomTouchImageView( NewzoomlimitActivity.this);

            CustomTouchImageView img = ( CustomTouchImageView ) findViewById(R.id.gIFView1  );

            Bitmap snoop = BitmapFactory.decodeResource( getResources(), R.drawable.ic_launcher );

            if ( null == img )
            {
                Log.e( "img", "img is null" );
            }

            else
            {
                img.setImage( snoop, w, h );
            }

            //img1.setImage( snoop, w, h );
            //img11.setImage( snoop, w, h );
            img.setImage( snoop, w, h );
            //setContentView( img1 );
           // setContentView( img11 );
           setContentView( R.layout.main );

        }
    }

    main.xml
    ---------

     <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/hello" />

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:orientation="vertical" >

            <com.coders.vimek.CustomTouchImageView
                android:id="@+id/gIFView1"
                android:layout_width="fill_parent"
                android:layout_height="match_parent"
                android:layout_gravity="left" 
                android:src="@drawable/icon"
                />
               <com.coders.vimek.CustomTouchImageView
                android:id="@+id/gIFView2"
                android:layout_width="fill_parent"
                android:layout_height="match_parent"
                android:layout_gravity="left" 
                android:src="@drawable/ic_launcher"
                />
        </LinearLayout>

    </LinearLayout>

    CustomTouchImageView .java
    -----------------------------
    public class CustomTouchImageView extends ImageView
    {

        private static final String TAG         = "Touch";
        Matrix                      matrix      = new Matrix();
        Matrix                      savedMatrix = new Matrix();

        // We can be in one of these 3 states
        static final int            NONE        = 0;
        static final int            DRAG        = 1;
        static final int            ZOOM        = 2;
        int                         mode        = NONE;

        int                         marg_left   = 80, marg_right = 80, marg_top = 100, marg_botom = 130, win_w, win_h;
        Bitmap                      bmp_picture;

        // Remember some things for zooming
        PointF                      start       = new PointF();
        PointF                      mid         = new PointF();
        float                       oldDist     = 1f;

        Context                     context;

        /*
         * public TouchImageView(Context context, AttributeSet attributeSet) {
         * super(context, attributeSet);
         * 
         * //TODO: }
         */

        public CustomTouchImageView( Context context )
        {
            super( context );
            super.setClickable( true );
            this.context = context;
            init();

        }

        public CustomTouchImageView( Context context, AttributeSet attrs )
        {
            super( context, attrs );
            super.setClickable( true );
            this.context = context;
            init();
            return;
        }

        public CustomTouchImageView( Context context, AttributeSet attrs, int defStyle )
        {
            super( context, attrs, defStyle );
            super.setClickable( true );
            this.context = context;
            init();
        }

        private void init()
        {
            matrix.setTranslate( 1f, 1f );
            setImageMatri(angry) matrix );
            setScaleType( ScaleType.MATRIX );

            setOnTouchListener( new OnTouchListener()
            {

                @Override
                public boolean onTouch( View v, MotionEvent rawEvent )
                {
                    WrapMotionEvent event = WrapMotionEvent.wrap( rawEvent );

                    // Dump touch event to log
                    // if (Viewer.isDebug == true){
                    // dumpEvent(event);
                    // }

                    // Handle touch events here...
                    switch ( event.getAction() & MotionEvent.ACTION_MASK )
                    {
                    case MotionEvent.ACTION_DOWN:
                        savedMatrix.set( matrix );
                        start.set( event.getX(), event.getY() );
                        Log.d( TAG, "mode=DRAG" );
                        mode = DRAG;
                        break;
                    case MotionEvent.ACTION_POINTER_DOWN:
                        oldDist = spacing( event );
                        Log.d( TAG, "oldDist=" + oldDist );
                        if ( oldDist > 10f )
                        {
                            savedMatrix.set( matrix );
                            midPoint( mid, event );
                            mode = ZOOM;
                            Log.d( TAG, "mode=ZOOM" );
                        }
                        break;
                    case MotionEvent.ACTION_UP:
                        int xDiff = ( int ) Math.abs( event.getX() - start.x );
                        int yDiff = ( int ) Math.abs( event.getY() - start.y );
                        if ( xDiff < 8 && yDiff < 8 )
                        {
                            performClick();
                        }

                    case MotionEvent.ACTION_POINTER_UP:

                        // //////////////////////////////////////

                        // You need this first:

                        double max_zoom = 3,
                        min_zoom = 0.4;

                        float f[] = new float[ 9 ];
                        matrix.getValues( f );

                        if ( null == bmp_picture )
                        {
                            Log.e( "bmp_picture", "bmp is null" );
                        }
                        /*
                         * else if ( null == bmp_picture.getWidth() ) {} else if (
                         * null == bmp_picture ) {}
                         */
                        else
                        {
                            if ( f[ 0 ] > max_zoom )
                            {
                                matrix.postScale( ( float ) max_zoom / f[ 0 ], ( float ) max_zoom / f[ 0 ], mid.x, mid.y );
                            }
                            if ( f[ 0 ] < min_zoom )
                            {
                                matrix.postScale( ( float ) min_zoom / f[ 0 ], ( float ) min_zoom / f[ 0 ], mid.x, mid.y );
                            }

                            if ( -f[ 2 ] > ( bmp_picture.getWidth() * f[ 0 ] - marg_left ) )
                            {
                                matrix.postTranslate( -( f[ 2 ] + bmp_picture.getWidth() * f[ 0 ] ) + marg_left, 0 );
                            }
                            if ( -f[ 5 ] > ( bmp_picture.getHeight() * f[ 0 ] - marg_top ) )
                            {
                                matrix.postTranslate( 0, -( f[ 5 ] + bmp_picture.getHeight() * f[ 0 ] ) + marg_top );
                            }

                            if ( f[ 2 ] > win_w - marg_right )
                            {
                                matrix.postTranslate( -( f[ 2 ] - win_w + marg_right ), 0 );
                            }

                            if ( f[ 5 ] > win_h - marg_botom )
                            {
                                matrix.postTranslate( 0, -( f[ 5 ] - win_h + marg_botom ) );
                            }
                        }

                        // //////////////////////////////////////

                        mode = NONE;
                        Log.d( TAG, "mode=NONE" );
                        break;
                    case MotionEvent.ACTION_MOVE:
                        if ( mode == DRAG )
                        {
                            // ...
                            matrix.set( savedMatrix );
                            matrix.postTranslate( event.getX() - start.x, event.getY() - start.y );
                        }
                        else if ( mode == ZOOM )
                        {
                            float newDist = spacing( event );
                            Log.d( TAG, "newDist=" + newDist );
                            if ( newDist > 10f )
                            {
                                matrix.set( savedMatrix );
                                float scale = newDist / oldDist;
                                matrix.postScale( scale, scale, mid.x, mid.y );
                            }
                        }
                        break;
                    }
                    setImageMatri(angry) matrix );
                    return true; // indicate event was handled
                }

            } );

        }

        public void setImage( Bitmap bm, int displayWidth, int displayHeight )
        {
            super.setImageBitmap( bm );
            Log.e( "win_w", "2" );
            bmp_picture = bm;

            win_h = displayHeight;
            win_w = displayWidth;
            Log.e( "win_h", String.valueOf( win_h ) );

            Log.e( "win_w", String.valueOf( win_w ) );

            float scale;
            if ( ( displayHeight / bm.getHeight() ) >= ( displayWidth / bm.getWidth() ) )
            {
                scale = ( float ) displayWidth / ( float ) bm.getWidth();
            }
            else
            {
                scale = ( float ) displayHeight / ( float ) bm.getHeight();
            }

            savedMatrix.set( matrix );
            matrix.set( savedMatrix );
            matrix.postScale( scale, scale, mid.x, mid.y );
            setImageMatri(angry) matrix );
            // Center the image
            float redundantYSpace = ( float ) displayHeight - ( scale * ( float ) bm.getHeight() );
            float redundantXSpace = ( float ) displayWidth - ( scale * ( float ) bm.getWidth() );
            redundantYSpace /= ( float ) 2;
            redundantXSpace /= ( float ) 2;
            savedMatrix.set( matrix );
            matrix.set( savedMatrix );
            matrix.postTranslate( redundantXSpace, redundantYSpace );
            setImageMatri(angry) matrix );
        }

        /** Show an event in the LogCat view, for debugging */
        @SuppressWarnings( "unused" )
        private void dumpEvent( WrapMotionEvent event )
        {
            String names[] =
                { "DOWN", "UP", "MOVE", "CANCEL", "OUTSIDE", "POINTER_DOWN", "POINTER_UP", "7?", "8?", "9?" };
            StringBuilder sb = new StringBuilder();
            int action = event.getAction();
            int actionCode = action & MotionEvent.ACTION_MASK;
            sb.append( "event ACTION_" ).append( names[ actionCode ] );
            if ( actionCode == MotionEvent.ACTION_POINTER_DOWN || actionCode == MotionEvent.ACTION_POINTER_UP )
            {
                sb.append( "(pid " ).append( action >> MotionEvent.ACTION_POINTER_ID_SHIFT );
                sb.append( ")" );
            }
            sb.append( "[" );
            for ( int i = 0; i < event.getPointerCount(); i++ )
            {
                sb.append( "#" ).append( i );
                sb.append( "(pid " ).append( event.getPointerId( i ) );
                sb.append( ")=" ).append( ( int ) event.get(angry) i ) );
                sb.append( "," ).append( ( int ) event.getY( i ) );
                if ( i + 1 < event.getPointerCount() )
                    sb.append( ";" );
            }
            sb.append( "]" );
            Log.d( TAG, sb.toString() );
        }

        /** Determine the space between the first two fingers */
        private float spacing( WrapMotionEvent event )
        {
            float x = event.get(angry) 0 ) - event.get(angry) 1 );
            float y = event.getY( 0 ) - event.getY( 1 );
            return FloatMath.sqrt( x * x + y * y );
        }

        /** Calculate the mid point of the first two fingers */
        private void midPoint( PointF point, WrapMotionEvent event )
        {
            float x = event.get(angry) 0 ) + event.get(angry) 1 );
            float y = event.getY( 0 ) + event.getY( 1 );
            point.set( x / 2, y / 2 );
        }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:53:47.547

您应该在“onCreate”中的应用程序开始时调用 setContentView

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T07:51:43.647

你在打电话

```
findViewById() 
```

之前

```
setContentView( R.layout.main ); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T07:51:44.930

您应该首先调用 setContentView 方法，然后通过调用 findViewById 尝试找到指定的 View

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-22T11:35:31.403

setContentView(R.layout.main) 应该总是在之后调用

```
super.onCreate( savedInstanceState ); 
```

在 onCreate 方法中。

# networking - 在两台相邻计算机之间传输文件的最快方法

> ID：10697918
> 
> 赞同：3
> 
> 时间：2012-05-22T07:50:16.113
> 
> 标签：networking, file-upload, file-io, ftp, file-transfer

我有两台相邻的计算机，都运行最新版本的 Ubuntu。两台电脑都有：

*   多个 USB 2.0 端口
*   RJ-45 连接
*   5400RPM硬盘
*   Express Card卡槽
*   PCMCIA II 型

我想在设定的时间段内传输尽可能多的数据。

1.  在不交换硬盘驱动器的情况下在两台计算机之间传输数据的最快*物理介质是什么？*

2.  传输高熵数据的最快协议（不一定基于 TCP/IP）是什么？如果是 TCP/IP，需要调整什么以获得最佳性能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T08:16:19.487

首先，RJ-45 不是一种介质，而只是一种连接器类型。因此，您的以太网连接可以介于 10BASE-T (10 Mbit) 和 10GBASE-T (10 Gbit) 之间。使用以太网，链路速度由双方支持的最低通用速度等级定义。

**USB 高速**模式指定为 480 Mbit/s (60 MByte/s)，但由于协议开销，典型的最大速度接近 ( **40 MByte/s )。**此速度仅适用于直接 USB 主机到客户端的连接，但您有 2 个 USB 主机，因此您需要在中间使用某种设备来处理客户端部分。我想这也会降低可实现的数据速率。

有了**以太网**，您就拥有了一个简单的即插即用技术和一个众所周知的（套接字）API。传输速度取决于链接类型：

最大限度。TCP/IP 数据传输率（取自[此处](http://wiki.networksecuritytoolkit.org/nstwiki/index.php/LAN_Ethernet_Maximum_Rates,_Generation,_Capturing_&_Monitoring)）：

*   快速以太网（100Mbit）：**11.7 MByte/s**
*   千兆以太网（1000Mbit）：**117.6 MByte/s**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T08:22:25.030

USB 2.0 规范导致 480 Mbit/s 的速率，即 60 MB/s。

以太网取决于所使用的网卡 (NIC)，并在较小程度上取决于所使用的布线。如果两个 NIC 都是 1Gbit/s，它们都将自动协商为 1 Gbit/s，转换为 125 MB/s。如果一个或两个 NIC 仅支持 100 Mbit/s，那么它们将自动协商为 100 Mbit/s，您的速度将为 12.5 MBytes/s。

无线也是一个选项，802.11n 支持高达 600 Mb/s (75 MB/s) - 比 USB 2.0 更快。

USB 3.0 是最新的 USB 规范，最高支持 5 Gb/s (625 MB/s)。

当然，实际吞吐量会有所不同，并取决于许多其他因素，例如布线、干扰、延迟等。

TCP 与 UDP 协议取决于您需要的连接类型以及您的应用程序处理丢弃数据包的能力等。TCP 建立初始连接的初始成本较高，但传输是可靠的，并且对于长时间运行的事务可能会转向成为最快的。UDP 创建连接的成本更低，但您可能丢弃了数据包。

最大传输单元 (MTU) 是一个可以对基于 IP 的网络产生重大影响的参数。选择正确的 MTU 取决于几个因素。互联网上有很多关于这方面的文章。

其他调整是基本的，比如关闭已知的聊天应用程序、如果你在 Windows 上的 netbios 服务等（谷歌上有很多点击以加速 tcp）。

# php - 在 Android 中加密图像以发送到 PHP 服务器

> ID：10697923
> 
> 赞同：-1
> 
> 时间：2012-05-22T07:50:34.757
> 
> 标签：php, android, encryption, aes

**我所拥有的：** 我在 SD 卡上有一些图像，要发送到 PHP 服务器。

**我想要什么：** 我想在发送到服务器之前加密这些图像。对于应用程序的每个用户，都会有一个唯一的密钥，该密钥将用于 Android 端的加密和 PHP 服务器端的解密。

请指导我如何进行加密以及如何将这些加密图像发送到服务器。我可以将简单的图像发送到服务器（使用多部分等）。但是应该如何加密然后将图像发送到服务器？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-22T07:57:13.543

我可以给你写一些简单的步骤来实现这一点：

1.  将您的图像转换为字节数组。读[这个](http://www.talkandroid.com/android-forums/android-development-answers-tutorials-code-snippets/2189-image-file-png-jpg-byte-array-viceverca.html)
2.  将该字节数组转换为 Base64 字符串。读[这个](http://developer.android.com/reference/android/util/Base64.html)
3.  [使用此](http://www.androidsnippets.com/encryptdecrypt-strings)示例代码加密 Base64 字符串
4.  使用 ksoap 或 json 将加密的字符串发送到您的服务器

**如果你在服务器上反转这个过程，你会得到你的图像。* 太棒了！:)

# asp.net-mvc - ASP.NET - 无法映射路径“/myappname”

> ID：10697927
> 
> 赞同：3
> 
> 时间：2012-05-22T07:50:46.100
> 
> 标签：asp.net-mvc, configuration, windows-server-2008, iis-7.5

尝试在 Windows Server 2008 R2 上的 IIS 7.5 中设置新应用程序时，我遇到了这个非常烦人的错误。

我在 IIS 7.5 的默认网站下添加一个新应用程序*myappname*

我将应用程序的应用程序池设置为*ASP.NET v4.0*

我尝试从在同一服务器、不同网站上运行的另一个应用程序复制文件，但它仍然失败，所以我认为它与 web.config 设置没有任何关系。

如果我浏览到*http://localhost/myappname*（或浏览到该应用程序下的任何文件/路径），我会收到以下错误：

> ## “/myappname”应用程序中的服务器错误。
> 
> 无法映射路径“/myappname”。说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。
> 
> 异常详细信息：System.InvalidOperationException：无法映射路径“/myappname”。
> 
> 源错误：
> 
> 在执行当前 Web 请求期间生成了未处理的异常。可以使用下面的异常堆栈跟踪来识别有关异常起源和位置的信息。
> 
> 堆栈跟踪：
> 
> ```
> [InvalidOperationException: Failed to map the path '/myappname'.]
> System.Web.HttpRuntime.HostingInit(HostingEnvironmentFlags hostingFlags, PolicyLevel policyLevel, Exception appDomainCreationException) +336
> 
> [HttpException (0x80004005): Failed to map the path '/myappname'.]
> System.Web.HttpRuntime.FirstRequestInit(HttpContext context) +11700992
> System.Web.HttpRuntime.EnsureFirstRequestInit(HttpContext context) +141
> System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context) +4869221 
> ```

我真的不明白。ALSO - 如果我进入“编辑应用程序”对话框，并使用“测试设置”按钮，则会出现错误：

“执行此操作时出错。详细信息：应用程序路径无效”

这是BS，因为我使用`...`按钮浏览路径选择了路径。

**此外，当我在服务器上的其他一些工作**网站上使用“测试设置”按钮时，也会发生同样的错误，所以我不知道该怎么做以及它是否相关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T15:07:52.667

您的问题并不清楚。我可以建议以下解决方案。尽力而为

1.检查您的应用程序池是否在集成模式下运行。
2.如果您映射了默认路由，请尝试右键单击 IIS 中的应用程序 => 管理应用程序 => 浏览
3.尝试添加 RegisterRoutes(RouteTable.Routes); 在 global.asax 的 Application_Start() 中

# eclipse - 与项目相关的组选项卡

> ID：10697936
> 
> 赞同：6
> 
> 时间：2012-05-22T07:51:27.487
> 
> 标签：eclipse, grouping

在 Eclipse 中打开多个项目时，我发现无法区分与关联项目相关的选项卡会让人感到困惑。

是否可以根据选项卡关联的项目对选项卡进行分组？

图片（如果有人怀疑我的意思是什么标签）：

![](../Images/f07f2a3a62edd6978fb153b436ef0550.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-23T18:06:14.817

我也在寻找相同的解决方案，在 Mylyn（一个 Eclipse 插件）中找到了它。我已经使用了一段时间，觉得它也适合你。

请访问[此教程链接](http://www.vogella.com/tutorials/Mylyn/article.html)以获得领先优势。

关于 Mylyn 的一些附加信息[（来源）](http://wiki.eclipse.org/index.php/Mylyn/FAQ)

Mylyn 是 Eclipse 的一个以任务为中心的界面，它使处理非常大的工作区与处理小型工作区一样容易。Mylyn 使用跟踪您正在处理的任务的机制扩展了 Eclipse。

Mylyn 监控您在这些任务上的工作活动，以识别与手头任务相关的信息。Mylyn 监视 Eclipse 并在任务上下文中捕获您的交互。系统工件（例如文件、类型、方法和字段）会根据您与它们交互的最近时间和频率来分配感兴趣程度。这会导致在 Eclipse 中从视图中过滤掉不感兴趣的元素，从而使您能够专注于重要的事情。

# javascript - 未捕获的类型错误：无法读取属性“barcodeScanner”

> ID：10697937
> 
> 赞同：0
> 
> 时间：2012-05-22T07:51:29.170
> 
> 标签：javascript, android, jquery-mobile, cordova

我正在使用barcodescanner.js 来扫描二维码。我已下载 CaptureActivity android 库并将其附加到我的项目中

但是当我调用以下代码时

```
window.plugins.barcodeScanner.scan(scannerSuccess, scannerFailure); 
```

它给了我一个错误

```
 Uncaught TypeError: Cannot read property 'barcodeScanner' of undefined at file:///android_asset/www/html/scan.html:83 
```

它昨天工作正常，但今天给我一个错误。有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T09:35:17.760

在 index.html 中，您是否引用了正确的 javascript？就我而言，我有这个：

```
<script type="text/javascript" charset="utf-8" src="phonegap-1.4.1.js"></script> 
```

当我应该写这个（cordova-xxx而不是phonegap-xxx）时：

```
<script type="text/javascript" charset="utf-8" src="cordova-1.7.0.js"></script> 
```

检查您的资产文件夹并引用正确的文件夹。这解决了我的问题。

# c# - C# 中 Open/SaveFileDialog 中的应用程序链接项

> ID：10697940
> 
> 赞同：4
> 
> 时间：2012-05-22T07:51:46.643
> 
> 标签：c#, windows, api, windows-7, openfiledialog

显示打开文件对话框时，我想在 Vista/7 的左侧窗格中显示“应用程序，链接链接”类别。Visual Studio 在打开项目文件时也会这样做。

## ![附加链接](../Images/dcabed4082bf831edb2f4654457bce0c.png)

如何使用 C# 中的标准 OpenFileDialog-Object 执行此操作？顺便说一句，我正在使用 WPF，但我认为在这种情况下这并不重要。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T08:02:59.303

你需要使用[`FileDialog.CustomPlaces`](http://msdn.microsoft.com/en-us/library/system.windows.forms.filedialog.customplaces.aspx). 该 MSDN 链接包含一些示例代码，可以帮助您进行操作。最终，这是包装[IFileDialog::AddPlace](http://msdn.microsoft.com/en-us/library/windows/desktop/bb775946.aspx)公开的本机功能。

# hibernate-envers - Hibernate Envers：跟踪 OneToMany 关系拥有方的修订

> ID：10697945
> 
> 赞同：3
> 
> 时间：2012-05-22T07:51:55.083
> 
> 标签：hibernate-envers

我有两个经过审计的实体 A 和 B。实体 A 拥有实体 B 的集合（注释为一对多关系）。将 A 的新实例插入数据库时​​，A 和 B 的所有行都处于同一修订版（假设是修订版 1）。然后，对 A 的更新仅影响实体 B 的实例（级联类型为合并）。因此更新后，实体 A 仍处于修订版 1，而 B 的实体处于修订版 2（审计表中的新 MOD 条目）。

问题是当我检索 A 的所有修订时，我希望得到 2 个修订作为回报：一个用于创建，一个用于修改 B 的拥有集合。在 ManyToMany 的情况下我可以得到这种行为，但我可以不要让它与 OneToMany 关系以相同的方式工作。

（我使用的是 Hibernate 3.6.10-Final）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T11:57:39.187

我通过在相当于您的 A 实体上添加隐藏的 lastUpdated 日期字段解决了我的问题。

```
@Entity
public class A {
    private Date lastModified;
    @OneToMany(mappedBy = "a", cascade = CascadeType.ALL )
    private List<B> blist;
    public void touch(){
        lastModified=new Date();
    }
} 
```

在相关实体（如您的 B 字段）中，我添加了以下内容：

```
public class B {
    @ManyToOne
    private A a; 

    @PreUpdate
    public void ensureParentUpdated(){
        if(a!=null){
            a.touch();
        }
    }
} 
```

这可确保每当将修订添加到 B 时，都会将修订添加到 A。

# xcode - Xcode、IntelliJ Idea 和 Phonegap（又名 Cordova）的 gitignore 模板

> ID：10697947
> 
> 赞同：7
> 
> 时间：2012-05-22T07:52:04.943
> 
> 标签：xcode, git, cordova

有没有人有一个使用 Xcode 和 PhoneGap 进行 iPhone 开发的良好预卷 gitignore 文件？

目前我正在使用：

```
.idea
.DS_Store
*.swp
*~.nib

build/
adhoc/

.xcodeproj/ !*.xcodeproj/project.pbxproj

*.mode1v3
*.mode2v3

build/

xcuserdata 
```

但我不确定这是否理想。例如，更新 Phonegap 有点搞砸了很多事情。此外，如果另一个开发人员只是使用 Xcode 构建项目，那么 git 会进行一些更改。

奇怪的是，Xcode 不在此列表中：[https ://github.com/github/gitignore](https://github.com/github/gitignore)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T20:25:56.733

我最终得到了这个 .gitignore 配置，它运行良好：

```
.idea
.DS_Store
*.swp
*~.nib

build/
adhoc/

.xcodeproj/ !*.xcodeproj/project.pbxproj

*.mode1v3
*.mode2v3

build/

xcuserdata 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-30T04:50:40.650

这是我几年前[为 Xcode iOS 和 OSX 项目](http://blog.illuminex.com/2009/10/better-sample-gitignore-file-for-xcode.html)制作的示例 .gitignore 的更新版本，它从存档中排除了不需要存档的各种内容，并且您可能不会经常遇到或在它们滑过时注意到它们. 它旨在相当全面。它包括来自各种编辑器的临时文件和来自 Xcode 及其祖先的用户首选项文件。（您可能不会经常遇到这些问题，但它们会时不时地出现在根深蒂固的项目中，或者如果您与喜欢不同编辑器的新团队成员一起工作。）

# Xcode iOS 和 OSX 项目的示例 .gitignore

```
# Mac OS X Finder and whatnot 
.DS_Store
.Trashes

# Sparkle distribution Private Key
dsa_priv.pem

# Xcode (and ancestors) per-user config 
*.mode1
*.mode1v3
*.mode2v3
*.perspective
*.perspectivev3
*.pbxuser

#  Whitelist the Xcode defaults
!default.mode1
!default.mode1v3
!default.mode2v3
!default.perspective
!default.perspectivev3
!default.pbxuser

# Xcode 4 - Deprecated classes
*.moved-aside

# Xcode gcc 
*.hmap

#JetBrains AppCode
.idea/

# Generated files
VersionX-revision.h

# build products 
xcuserdata/
DerivedData/
build/
adhoc/
*.[oa]

# CocoaPods
Pods/

# Other source repository archive directories 
.hg
.svn
CVS

# automatic backup files
*~.nib
*.swp
*.lock
*~
*(Autosaved).rtfd/
Backup[ ]of[ ]*.pages/
Backup[ ]of[ ]*.key/
Backup[ ]of[ ]*.numbers/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-27T06:52:15.347

你也可以使用 Joe Blau 的 gitignore.io

通过网络接口[https://www.gitignore.io/](https://www.gitignore.io/)

或者通过安装 CLI 工具，它非常简单快捷，只需在终端上键入以下内容：

Linux：
`echo "function gi() { curl -L -s https://www.gitignore.io/api/\$@ ;}" >> ~/.bashrc && source ~/.bashrc`

操作系统：
`echo "function gi() { curl -L -s https://www.gitignore.io/api/\$@ ;}" >> ~/.bash_profile && source ~/.bash_profile`

然后你可以只输入`gi`你需要 gitignore 标准的所有平台/环境元素。

**例子！**
假设您正在处理一个包含 grunt 的节点项目，并且您在 linux 上使用 webstorm，那么您可能需要输入：（
`gi linux,webstorm,node,grunt > .gitignore`创建一个全新的文件）
或
`gi linux,webstorm,node,grunt >> .gitignore`（将新规则附加/添加到现有文件)

砰，你可以走了

# android - Android+Phonegap：尝试在没有有效媒体播放器的情况下调用 getDuration

> ID：10697949
> 
> 赞同：2
> 
> 时间：2012-05-22T07:52:13.727
> 
> 标签：android, html, cordova, android-mediaplayer

我在 LogCat 中收到此错误。

相同的网络应用程序代码在 iOS 上运行，但我在 Android 上收到此错误

```
Attempt to call getDuration without a valid mediaplayer 
```

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-23T14:09:27.230

添加一个变量`mIsPreparedForPlayback`并将其设置为准备好的：

```
mMediaPlayer.setOnPreparedListener(this);

//...

public void onPrepared(final MediaPlayer player) {
    mIsPreparedForPlayback = true;
} 
```

然后你在尝试得到它之前检查它。

# android - Android - Ignition 库 - 未绑定的类路径变量错误

> ID：10697960
> 
> 赞同：0
> 
> 时间：2012-05-22T07:53:20.560
> 
> 标签：android, maven

所以我下载了使用 Maven 构建的[点火库](https://github.com/kaeppler/ignition)，并作为项目导入到 Eclipse 中。

但是，所有的库和示例代码在项目名称前都有一个红色的感叹号，并且无法编译。“问题”控制台显示构建路径存在一些问题，并且有很多“**未绑定的类路径变量：'M2_REPO'...** ”条目。我看到他们指向一些 jar 文件。

请告诉我如何摆脱这些错误并修复项目以便编译？

![在此处输入图像描述](../Images/9bae40f9186eff651f7b2412347aef7c.png)

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:41:39.490

将类路径变量添加`M2_REPO`到您的项目中：

![在此处输入图像描述](../Images/2d18b7acd06aac3cc3d8709823ab8511.png)

看起来您使用经典方式将项目导入工作区（文件->导入...->常规->将现有项目导入工作区），如果我记得，这就是 Eclipse 要求固定名称类路径 varlable 的原因`M2_REPO`。

如果 Android 项目正确 mavenized，您应该安装两个 Eclipse 插件（m2e 和 m2e-android）并将项目导入为 maven 项目（文件 -> 导入 ... -> Maven -> 现有 Maven 项目），这不需要类路径变量`M2_REPO`。

希望这是有道理的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T13:00:37.173

您可以通过 Maven 命令“eclipse:configure-workspace”添加 M2_REPO 类路径变量</p>

```
mvn -Declipse.workspace="your Eclipse Workspace" eclipse:configure-workspace 
```

# jfreechart - 如何删除 jfreechart 图表面板的标题空间？

> ID：10697961
> 
> 赞同：3
> 
> 时间：2012-05-22T07:53:22.103
> 
> 标签：jfreechart, title

嗨，我是 jfreechart 的新手。

我想删除为 jfreechart 中线图图表面板标题分配的空间。

因为我需要设置图表面板的高度和宽度，其边框为包含图表面板的顶部面板的 10 像素。

请帮助我..

提前致谢..

![在此处输入图像描述](../Images/0a4a9e5d3c6a9773b39ed595933e8853.png)

在上图中，我提到应该删除图表顶部（标题空间）。所以我不想在那里留下任何空间。

如果我没有给出任何标题，则显示该图表会占用该空间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T11:58:09.260

将空字符串分配给 Create* ***** ***** *Chart() 函数中的标题参数。

狐狸示例：

```
final JFreeChart result = ChartFactory.createTimeSeriesChart(
        "",  //Empty title
        "Time", 
        "Value",
        dataset, 
        true, 
        true, 
        false
    ); 
```

# java - 如何在maven插件中处理项目源

> ID：10697964
> 
> 赞同：6
> 
> 时间：2012-05-22T07:53:26.243
> 
> 标签：java, maven, maven-plugin

我正在编写一个基本上应该执行以下操作的 maven 插件：

1.  处理构建的项目的所有类
2.  创建一个描述部分源代码的文件
3.  将该文件添加到构建的 jar 中（作为目录`MANIFEST`中的附加文件或作为新文件`META-INF`）

因为我只是在创建 maven 插件方面迈出第一步，所以这是我的（可能是愚蠢的）问题：

*如何从构建项目时执行的插件访问项目的源代码（最好的方法：作为构建路径上的包，我可以轻松处理）？*

到目前为止，我唯一的方法是获取项目的源代码，例如

```
// assuming the project exists (to exclude instance checks etc.)
MavenProject project = (MavenProject) getPluginContext().get("project");
String projectSource = project.getSourceDirectory(); 
```

然后用文件操作处理这个目录的内容。但这对我来说似乎很丑陋，以至于我很确定存在更好的解决方案（我只是无法通过 google、maven 页面和 stackoverflow 找到它）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-22T08:10:32.673

例如，您知道[Mojo API](http://maven.apache.org/developers/mojo-api-specification.html)，其中包含有关当前项目的信息。这可以简单地由丛包含通过使用适当的标记自动注入，如下所示：

```
public class WhatEverMojo extends AbstractMojo {

    /**
     * The Maven project.
     *
     * @parameter expression="${project}"
     * @required
     * @readonly
     */
    private MavenProject project;
} 
```

可能是我误解了你的问题，但我建议阅读[插件开发简介](http://maven.apache.org/plugin-developers/index.html)。

[更新：查看apt-maven-plugin](http://svn.codehaus.org/mojo/tags/apt-maven-plugin-1.0-alpha-4/src/main/java/org/codehaus/mojo/apt/ProcessMojo.java)等其他插件可能会有所帮助：

类似以下内容可能会有所帮助：

```
/**
 * The source directories containing the sources to be processed.
 * 
 * @parameter expression="${project.compileSourceRoots}"
 * @required
 * @readonly
 */
private List<String> compileSourceRoots; 
```

完整的[源代码可通过 SVN 获得](http://svn.codehaus.org/mojo/tags/apt-maven-plugin-1.0-alpha-4/src/main/java/org/codehaus/mojo/apt/)，您可以在其中深入了解。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-08-06T15:55:40.170

现在注入的语法`MavenProject`是：

```
@Parameter(defaultValue = "${project}", required = true, readonly = true)
MavenProject project; 
```

您必须为`maven-project`插件的 pom 添加依赖项：

```
<dependency>
    <groupId>org.apache.maven</groupId>
    <artifactId>maven-project</artifactId>
    <version>2.0.6</version>
</dependency> 
```

然后管理源文件我不确定，但似乎首选的答案是使用文件系统 API 针对`MavenProject.getSourceDirectory()`. 我不知道你会期望核心 maven 告诉你什么以外的来源。当然，对于某些类型的项目，其他插件（例如用于编译 java 的插件）可能具有更复杂的域模型。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-09-07T07:38:08.323

我使用静态字段，因为在一次运行中，类只加载一次到类加载器中。

```
private static final Set<MavenProject> proceeded = new HashSet<MavenProject>();

@Override
public void execute() throws MojoExecutionException {
    MavenProject project = (MavenProject) getPluginContext().get("project");
    if (proceeded.contains(project)) {
        getLog().info("Already done in this run.");
        return;
    } else {
        proceeded.add(project);
    } 
```

# qt - 将 Qt3 移植到不同的操作系统

> ID：10697973
> 
> 赞同：0
> 
> 时间：2012-05-22T07:54:07.190
> 
> 标签：qt, porting

我必须将使用 Qt3 库的应用程序移植到新的嵌入式操作系统。如果尚未选择操作系统，但知道它不是 Linux/Windows，那么移植程序的一般方式是什么？我的意思是应该更改哪些文件，哪些文件是独立的并且可以保持原样？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T15:23:35.967

如果不是 Linux 或 Windows，您可能会被拒之门外。Qt 高度依赖于可用于构建的库。然而，这不是否定的，它已被移植到 Symbian，显然不是 Linux 或 Windows。不过，最重要的是它是由诺基亚移植的，诺基亚拥有大量的时间和大量的开发人员，而这些 X 是相当大的数字。

从获取 Qt 无处不在的源代码开始，计算出您需要哪些位以及不需要哪些位。如果平台有 gcc/g++/另一个相当好理解的 C++ 编译器，那么你很幸运，你应该能够根据需要构建这些位。Qt 确实依赖于标准库，因此请确保它们也以某种形式可用于平台，并且它确实为某些组件使用了一些非标准库，因此您需要知道您正在处理 Qt 的哪些方面. 您应该能够从那里获得某种工具链。

不过，我会坚持使用 Qt 支持的平台，如果您不走寻常路，那么您正在考虑增加开发时间并且几乎没有有用的支持。

# java - 在许多客户端和服务器上生成真正的全球唯一 ID

> ID：10697975
> 
> 赞同：12
> 
> 时间：2012-05-22T07:54:59.060
> 
> 标签：java, javascript, flash, guid

# 概括

Flash 和/或 javascript 客户端中真正的全球唯一 ID。*我可以使用当前浏览器/闪存中可用的 RNG 来执行此操作，还是必须构建具有服务器端随机性的复合 ID？*

# 细节

我需要为对象生成全局唯一标识符。我有多个用 java 编写的服务器端“系统”，需要能够交换 id；这些系统中的每一个都有一组 flex/javascript 客户端，它们实际上为新对象生成 ID。我需要在一组不相关的系统中保证全局唯一性；例如，我需要能够合并/同步两个独立系统的数据库。我必须保证这些 id 之间永远不会发生冲突，并且一旦创建，我就不需要更改对象的 id。我需要能够在 Flash 和 javascript 客户端中生成 id，而无需为每个 id 联系服务器。只要不经常联系服务器，依赖于某些服务器提供的种子或系统 ID 的解决方案就可以了。最好采用完全断开连接的解决方案。同样，不需要预先注册系统的解决方案比依赖中央机构（如 MAC 地址中的 OUI）的解决方案更可取。

我知道显而易见的解决方案是“使用 UUID 生成器”，例如闪存中的 UIDUtil。此函数明确否认全局唯一性。一般来说，我担心依靠 PRNG 来保证全局唯一性。

# 建议的解决方案

## 完全依赖客户端中的*安全*随机数生成器。

Flash 11+ 有[flash.crypto.generateRandomBytes](http://help.adobe.com/en_US/FlashPlatform/beta/reference/actionscript/3/flash/crypto/package.html#generateRandomBytes())；Javascript 有 window.crypto 但它是相当新的并且在 IE 中不受支持。有像[sjcl](http://bitwiseshiftleft.github.com/sjcl/doc/symbols/sjcl.random.html)这样使用鼠标添加熵的解决方案。

我知道给定一个完美的 RNG，2 ^(122)随机 UID 的碰撞可能性很小，但我担心我实际上不会在 javascript 或 flash 客户端中获得这种程度的随机性。我进一步担心，即使是加密 RNG 的典型用例也与我的不同：对于会话密钥等，只要攻击者无法预测冲突，冲突是可以接受的。就我而言，碰撞是完全不可接受的。 *我真的应该依赖安全 RNG 的原始输出来获取唯一 ID 吗？*

## 生成包含系统 ID、会话 ID 和对象 ID的*复合ID。*

一个明显的实现是在服务器安装时创建一个系统 UUID，保留每个客户端登录会话 ID（例如，在数据库中），然后将系统和会话 ID 发送到客户端，客户端将保留每个会话计数器. uid 是三元组：系统 ID、会话 ID、客户端计数器。

我可以想象直接连接这些或使用加密哈希对它们进行散列。我担心散列本身可能会引入冲突，特别是如果散列的输入与输出的大小大致相同。但是散列会掩盖系统 id 和可能泄漏信息的计数器。

另一个解决方案不是在安装时生成系统 ID，而是有一个中央注册表来分发唯一的系统 ID，有点像 DOI 所做的。然而，这需要更多的协调，但我想这是真正保证全球唯一性的唯一方法。

# 关键问题

*   随机还是基于复合？
*   包括系统ID？
*   如果系统 ID：生成随机系统 ID 或使用中央注册表？
*   包括时间戳或其他随机数？
*   散列还是不散列？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-22T13:10:50.133

最简单的答案是使用为每个客户端递增的服务器分配的客户端 ID，以及为每个客户端上的每个片段递增的每个客户端上的值。客户端 ID 和片段 ID 对成为该内容的全局唯一 ID。

另一种简单的方法是在服务器上生成一组唯一的 ID（比如一次 2k），然后将它们批量发送给每个客户端。当客户端用完 ID 时，它会联系服务器以获取更多信息。

客户端 ID 应存储在所有服务器均可访问的中央存储库中。

它可能有助于查看用于在对等环境中唯一标识和定位片段的[分布式散列方法。](http://en.wikipedia.org/wiki/Distributed_hash_table)考虑到您有一个可以干预以断言唯一性的服务器，这可能有点过头了。

要回答您的问题，您需要确定增加系统 ID、nonce 或哈希的复杂性会带来的好处。

**系统 ID：** 系统 ID 通常用于唯一标识域内的系统。因此，如果您不关心用户是谁，或者打开了多少会话，而只想确保您知道设备是谁，那么请使用系统 ID。这在以用户为中心的环境（例如 JavaScript 或 Flash）中通常不太有用，在这些环境中，用户或会话可能是相关的。

**随机数：** 随机数/盐/随机种子将用于混淆或以其他方式打乱 ID。当您不希望其他人能够猜测 ID 的原始值时，这一点很重要。如果有必要，最好使用私有加密密钥对 ID 进行加密，并将公共解密密钥传递给需要读取 ID 的每个消费者。

**时间戳：**考虑到客户端时钟的可变性（即您不能保证它遵循任何时间或时区），时间戳将需要被视为此应用程序的伪随机值。

**哈希：**虽然哈希通常（ab）用于创建唯一键，但它们的真正目的是将一个大的（可能是无限的）域映射到一个更小、更易于管理的域。例如，MD5 通常用于从时间戳、随机数和/或 nonce 数据生成唯一 ID。实际发生的是 MD5 函数将无限范围的数据映射到 2^128 种可能性的空间中。虽然这是一个巨大的空间，但它不是无限的，所以逻辑告诉你（即使只是理论上）将有相同的哈希分配给两个不同的片段。另一方面，完美哈希尝试为每条数据分配一个唯一标识符，但是如果您只是为每个客户端片段分配一个唯一标识符，那么这完全没有必要。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-07T20:57:00.757

中间立场建立在@ping 的回答之上：

1.  使用客户端名称、高分辨率时间和可选的其他一些伪随机种子
2.  散列数据以生成 UID（或者，直接使用 UUID）
3.  将结果记录到中央服务器以输入数据库
4.  将任何冲突视为突出标记的错误，而不是需要特殊代码的情况。

使用 UUID 或相当长的哈希，重复或为零的机会。所以要么：

A）在应用程序的整个生命周期中，您不会得到重复，生活是美好的。B) 几十年后你会看到一个重复的，或者可能是两个（怪异的！）。手动干预以处理这些情况；如果您使用客户端运行服务器，则可以负担得起。C) 如果您遇到第三次冲突，则代码存在根本性错误，可以对此进行调查并采取措施避免重复。

这样，ID 在客户端生成，与服务器的联系是单向的并且在操作上是非关键的，种子不必是随机的，散列模糊了 ID 的来源，因此避免了构造冲突，并且您可以确信没有发生碰撞。（如果您测试该碰撞检测代码！）在这种情况下，即使是 UUID 也足够了。

散列增加冲突可能性的唯一方法是原始种子信息中的信息内容接近散列的大小。这是极不可能的，但如果属实并且您仍在考虑微陨石，只需增加散列值的大小即可。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-28T12:52:07.230

一些快速而肮脏的东西，也可能不适合您的用例——

使用 Java 的 UUID 并将其与诸如 clientName 之类的东西耦合。这应该可以解决`multiple client and multiple server`问题。

这背后的基本原理是在同一纳秒内获得 2 个调用的可能性很低，请参阅下面提供的链接。现在，通过将 clientName 与 UUID 耦合，您可以确保跨客户端的唯一 ID，并且应该只处理同一客户端在同一纳秒内调用两次的用​​例。

您可以编写一个 java 模块来生成 ID，然后让 Flash 与该模块通信。供您参考，您可以参考——
[使用 UUID 生成唯一 id 真的是唯一的吗？](https://stackoverflow.com/questions/5728205/is-unique-id-generation-using-uuid-really-unique)
[让 java 和 flash 互相交谈](https://stackoverflow.com/questions/77598/getting-java-and-flash-to-talk-to-each-other)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-25T15:34:11.570

我的两分钱..每个服务器锁定一个数据库表并从中获取一个 id，然后递增它。这将是服务器的唯一 ID。

每个连接的客户端都会得到这个 id，再加上服务器发出的唯一标识符。此唯一密钥对于此服务器必须是唯一的，但另一个服务器可能会向不同的客户端发出相同的 id。

最后，每个客户端都会为每个请求生成一个唯一的 id。

将这三者结合起来将**保证**在整个系统中具有真正唯一的全局 id，最终的 id 将类似于：

```
[server id][client id][request id] 
```

# xcode - 如何查看拖动粘贴板中有多少个文件？

> ID：10697979
> 
> 赞同：0
> 
> 时间：2012-05-22T07:55:32.960
> 
> 标签：xcode, cocoa, drag-and-drop, nsdragginginfo

我有一个只允许拖动单个文件的拖动操作，我想在“draggingEntered”上捕获它，如下所示：

```
- (NSDragOperation)draggingEntered:(id<NSDraggingInfo>)sender {
  if ([[sender draggingPasteboard] count]] == 1) {
    return NSDragOperationCopy;
  }
  else {
    return NSDragOperationNone;
  }
} 
```

但是**count**不是有效的方法或属性，但我不知道用什么替换它，那么这是查看 draggingPasteboard 上有多少项目的最佳方法？**我应该使用propertyListForType: NSFilenamsPboardType**之类的东西在 draggingPasteboard 上获取文件名数组，然后获取它的索引，还是有更聪明的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:42:44.007

如果你想使用 count 你需要使用`pasteboardItems`which is items 数组来响应计数。

可以这样做：

```
- (NSDragOperation)draggingEntered:(id<NSDraggingInfo>)sender {

    if([[[sender draggingPasteboard] pasteboardItems] count] == 1) {
        return NSDragOperationCopy;
    }
    else {
        return NSDragOperationNone;
    }
} 
```

# c++ - 挂钩资源管理器拖放失败

> ID：10697991
> 
> 赞同：0
> 
> 时间：2012-05-22T07:56:09.950
> 
> 标签：c++, drag-and-drop, hook, ole

大图：我试图在资源管理器的拖放中注入我自己的包装器。我的代码被注入资源管理器，我尝试用我自己的替换放置目标。

为了做到这一点，我正在做：

1.  查找所有资源管理器窗口（使用 EnumWindows 并检查每个窗口的进程关联）。
2.  对于每个窗口，我都运行以下（什么都不做）代码：

> IDropTarget* lpDT = (IDropTarget *)GetProp(hwnds[i], L"OleDropTargetInterface"); //获取现有的放置目标
> 
> HRESULT res1 = ::RevokeDragDrop(hwnds[i]); //撤销现有的放置目标
> 
> HRESULT res2 = ::RegisterDragDrop(hwnds[i], lpDT); //并重新注册放置目标

目前，代码不会更改放置目标。我只是取消注册并重新注册同一个目标。

在所有资源管理器窗口上运行它后，我得到 res1 == "该应用程序调用了一个为不同线程编组的接口。" 对于我找到的每个窗口。

如果我忽略错误（仅用于测试）并继续进行替换，则资源管理器将停止在桌面上拖动文件（仅更改图标位置）。顺便说一句，令人惊讶的是，在 2 个不同文件夹之间拖动文件仍然有效。

我的代码从资源管理器线程（注入资源管理器）运行。

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-23T17:33:58.317

GetProp 返回一个指向放置目标的指针，而不关心它的编组（纯指针）。[正如在这个](https://stackoverflow.com/questions/10721269/what-does-ole-the-application-called-an-interface-that-was-marshalled-for-a-dif)答案中向我指出的那样，虽然我得到了一个指向放置目标的指针，但它并没有真正编组到我的线程。我可以告诉你，在指针上调用 revokeDragDrop（即使它并不真正属于我的线程）会弄乱放置目标，然后失败。

由于我无法从持有它的其他线程获得放置目标，因此我放弃了这一点并采取了替代路线。

# magento - 在 magento1.6 中使用邮政编码的地址查找器

> ID：10697993
> 
> 赞同：0
> 
> 时间：2012-05-22T07:56:22.370
> 
> 标签：magento, street-address, zipcode

在网上搜索并看到 PAF 文件不是免费的后，我猜没有办法做到这一点.. 但是.. 有没有人知道可以找到带有邮政编码的地址列表的免费系统。在我看来很奇怪，无论您在地图上单击何处，谷歌都可以显示所有地址。它知道邮政编码区域的范围，但似乎无法列出所有这些地址。

我需要一个免费的解决方案。我知道任何地方的邮政编码，并且他们的销售人员在 stackoverflow 中非常活跃，但我付不起他们在这个项目上的价格。

这个项目只需要英国和印度的邮政编码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T15:45:50.933

如果我理解正确，您正在寻找某个邮政编码内所有可邮寄地址的列表/数据库？那正确吗？这将很难找到，至少是免费的。我知道您不需要美国数据，但出于对隐私的考虑，美国邮政服务局不允许提供此类信息，即使是收费的，也不能作为参考。我假设其他国家也有类似的政策。

我在一家名为 SmartyStreets 的美国地址验证服务公司工作，所以我对此有一些经验。您提到的第三方服务已经从各种来源汇总了自己的列表，并且可以为特定邮政编码生成“饱和”邮件列表。但是，由于生成和维护这些列表所涉及的成本，我怀疑您是否会免费找到此类列表。

# iphone - 使用 TapGestureRecognizer 获取坐标 x 和 y

> ID：10697994
> 
> 赞同：1
> 
> 时间：2012-05-22T07:56:26.147
> 
> 标签：iphone, objective-c, geometry, core-graphics, uitapgesturerecognizer

我使用 UITapGestureRecognizer 导出屏幕上手指的 x 和 y 坐标。我能怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T08:02:18.027

```
-(void) handleTapGesture:(UIGestureRecognizer *) sender {

    CGPoint tapPoint = [sender locationInView:someView];
    int tapX = (int) tapPoint.x;
    int tapY = (int) tapPoint.y;
    NSLog(@"TAPPED X:%d Y:%d", tapX, tapY);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T08:26:56.620

获取接触点的最佳方法之一是来自 CCTouchMoved，如下所示，并全局声明变量，以便您也可以将其用于其他人。

声明“CGPoint *touchLocation;” 在你的头文件中。

```
-(void)ccTouchMoved:(UITouch *)touch withEvent:(UIEvent *)event{
//get locations of touch
touchLocation = [touch  locationInView:[touch view]];
NSLog(@"Touch Points are %f, %f", touchLocation.x, touchLocation.y); 
```

}

# python - python中的线性规划？

> ID：10697995
> 
> 赞同：37
> 
> 时间：2012-05-22T07:56:30.387
> 
> 标签：python, linear-programming

我需要建立一个线性规划模型。这是我正在使用的不等式（例如）：

```
6x + 4y <= 24
x + 2y <= 6
-x + y <= 1
y <= 2 
```

我需要找到这些不等式所描述的区域，并在图形中对其进行着色，并跟踪该区域边界线的顶点，并以不同的颜色绘制边界线。有关我正在寻找的示例，请参见下图。

![交点的图像](../Images/a6ba600e74915a4e117e76c0092d55e6.png).

我正在使用 Python 3.2、numpy 和 matplotlib。Python中有更好的线性编程模块吗？

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2012-05-22T16:06:12.507

**更新：**在过去的 4 年里，答案已经有些过时了，这里有一个更新。你有很多选择：

*   如果您不必*使用*Python，那么在**建模语言**中执行此操作会容易得多，请参阅[Any good tools to solve integer programs on linux？](https://stackoverflow.com/a/10668020/341970)

*   这些天我个人通过它的 Python API使用**[Gurobi 。](http://www.gurobi.com/documentation/)**它是一个商业的、封闭源代码的产品，但对学术研究是免费的。

*   使用**[PuLP](https://pypi.org/project/PuLP/)**，您可以创建[MPS](https://en.wikipedia.org/wiki/MPS_%28format%29)和[LP 文件](http://lpsolve.sourceforge.net/5.1/lp-format.htm)，然后通过其命令行界面使用 GLPK、COIN CLP/CBC、CPLEX 或 XPRESS 解决它们。这种方法有其优点和缺点。

*   Google的**[OR-Tools](https://developers.google.com/optimization)**是一个用于优化的开源软件套件，专为解决世界上最棘手的车辆路线规划、流程、整数和线性规划以及约束规划问题而调整。

*   **[Pyomo](https://www.pyomo.org/)**是一种基于 Python 的开源优化建模语言，具有多种优化功能。

*   SciPy 提供线性编程：**[scipy.optimize.linprog](https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.linprog.html)。**（我从未尝试过这个。）

*   显然，**[CVXOPT](https://cvxopt.org)**为 GLPK提供了[Python 接口](https://cvxopt.org/install/index.html#standard-installation)，我不知道。我已经使用[GLPK](https://www.gnu.org/software/glpk/glpk.html) 8 年了，我强烈推荐 GLPK。[CVXOPT](https://cvxopt.org/examples/index.html)的例子和教程看起来很不错！

*   **[您可以在GLPK/Python](https://en.wikibooks.org/wiki/GLPK/Python)**下的 Wikibook 中找到其他可能性 **。**请注意，其中许多不一定仅限于 GLPK。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-05-22T09:42:35.493

我推荐使用[cvxopt](https://cvxopt.org/)包来解决 Python 中的凸优化问题。[此处](https://cvxopt.org/examples/tutorial/lp.html)的 cvxopt 文档中有一个用于线性程序的 Python 代码的简短示例。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2017-07-25T20:16:15.637

其他答案在提供求解器列表方面做得很好。然而，只有 PuLP 被提到作为一个 Python 库来制定 LP 模型。

另一个不错的选择是[Pyomo](http://www.pyomo.org/)。像 PuLP 一样，您可以将问题发送给任何求解器，然后将解决方案读回 Python。您还可以操纵求解器参数。我和一位同学在 2015 年比较了 PuLP 和 Pyomo 的性能，我们发现 Pyomo 生成相同问题的 .LP 文件的速度比 PuLP 快几倍。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-05-23T02:11:55.947

唯一一次使用图来解决线性程序是用于家庭作业问题。在所有其他情况下，线性规划问题通过矩阵线性代数解决。

至于 Python，虽然有一些纯 Python 库，但大多数人使用带有 Python 绑定的本机库。有大量用于线性规划的免费和商业库。有关详细列表，请参阅Wikipedia 中的线性规划或 OR/MS Today 中的[线性](https://en.wikipedia.org/wiki/Linear_programming#Solvers_and_scripting_.28programming.29_languages)[规划软件调查](http://www.informs.org/ORMS-Today/Public-Articles/June-Volume-38-Number-3/Software-Survey-Linear-Programming)。

免责声明：我目前在 Gurobi Optimization 工作，之前曾在提供 CPLEX 的 ILOG 工作。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-10-02T06:48:40.223

为了解决线性规划问题，您可以使用 SciPy 中的[scipy.optimize.linprog](http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.linprog.html#scipy.optimize.linprog)模块，该模块使用 Simplex 算法。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-09-27T18:28:56.390

我会推荐使用[PuLP](https://pypi.python.org/pypi/PuLP/1.1) python 包。它有一个很好的界面，你可以使用不同类型的算法来解决 LP。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-11-02T18:04:39.857

lpsolve 对我来说是最简单的。无需安装单独的求解器。它包含在包装中。