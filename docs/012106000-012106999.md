# StackOverflow 问答 12106000-12106999

# ios - Apple 询问我是否在我的新提交应用程序中包含加密的原因是什么？

> ID：12106009
> 
> 赞同：1
> 
> 时间：2012-08-24T08:49:04.123
> 
> 标签：ios, encryption, app-store-connect

当 iOS 开发者在 iTunes Connect 中提交他们的新应用时，Apple 每次都会询问开发者是否在应用中包含了一些加密。

为什么苹果如此重视这一点？

**补充：** 如果我在我的应用程序中包含**Security.framework**，我是否应该选中以下问题的复选框：如果我在我的应用程序中添加了加密内容？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T08:54:18.643

可能与美国的出口限制有关。

我发现[这个 SO Q&A](https://stackoverflow.com/questions/2128927/using-ssl-in-an-iphone-app-export-compliance)指向[这个博客](http://tigelane.blogspot.co.il/2011/01/apple-itunes-export-restrictions-on.html)，其中详细说明了如何获得许可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T08:53:38.770

这是为了遵守美国出口加密产品的法律。您无法向某些国家/地区（例如伊朗、利比亚和其他国家/地区）运送具有高度加密功能的产品。虽然......这不是一个真正的编程问题。

# c# - System.Security.Cryptography.CryptographicException：密钥集不存在

> ID：12106011
> 
> 赞同：58
> 
> 时间：2012-08-24T08:49:24.780
> 
> 标签：c#, x509certificate

当我制作 x509 证书来加密和解密消息时，我收到了一些错误信息，无法解决这个问题。有人能碰巧解决这个错误吗？谢谢。

说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

异常详情：

> System.Security.Cryptography.CryptographicException: 密钥集不存在。</p>
> 
> 源错误：
> 
> 第 53 行：使用 (RSACryptoServiceProvider rsaProviderDecrypt = (RSACryptoServiceProvider)cerDecrypt.PublicKey.Key) 第 54 行：
> { 第 55 行：plainHashBytes = rsaProviderDecrypt.Decrypt(encryptedHashBytes, false); 第 56 行：
> rsaProviderDecrypt.Clear(); 第 57 行：
> rsaProviderDecrypt.Dispose();
> 
> 源文件：E:\PayUSite\PayMvcApp\Controllers\HashMessageController.cs 行：55
> 
> 堆栈跟踪：
> 
> [CryptographicException：密钥集不存在。]
> System.Security.Cryptography.CryptographicException.ThrowCryptographicException(Int32 hr) +41
> System.Security.Cryptography.RSACryptoServiceProvider.DecryptKey(SafeKeyHandle pKeyContext, Byte[] pbEncryptedKey, Int32 cbEncryptedKey, Boolean fOAEP, ObjectHandleOnStack ohRetDecryptedKey) +0
> System.Security.Cryptography .RSACryptoServiceProvider.Decrypt(Byte[] rgb, Boolean fOAEP) +579

**源代码：**

```
string docFile = Server.MapPath("~/docx/DirectAccess_StepByStep.doc");
HashAlgorithm hash = HashAlgorithm.Create("SHA1");
byte[] hashedBytes;
using (FileStream fs = new FileStream(docFile, FileMode.Open))
{
    //compute message hash value
    hashedBytes = hash.ComputeHash(fs);
    hash.Dispose();
    fs.Close();
}

string hashedString = Convert.ToBase64String(hashedBytes);

//encrypt message digest
string priKeyFile = Server.MapPath("~/certificate/WosMiddle.pfx");
X509Certificate2 certEncrypt = new X509Certificate2(priKeyFile, "123456");
byte[] encryptedHashBytes;
using (RSACryptoServiceProvider rsaProviderEncrypt = (RSACryptoServiceProvider)certEncrypt.PrivateKey)
{
    encryptedHashBytes = rsaProviderEncrypt.Encrypt(hashedBytes, false);
    rsaProviderEncrypt.Dispose();
}

//decrypt message digest
string pubKeyFile = Server.MapPath("~/certificate/WosMiddle-pubkey.cer");
X509Certificate2 cerDecrypt = new X509Certificate2(pubKeyFile);
byte[] plainHashBytes;
using (RSACryptoServiceProvider rsaProviderDecrypt = (RSACryptoServiceProvider)cerDecrypt.PublicKey.Key)
{
    //***will throw error message here...***
    plainHashBytes = rsaProviderDecrypt.Decrypt(encryptedHashBytes, false);
    rsaProviderDecrypt.Dispose();
}

//verify message whether was modified
string docFile2 = Server.MapPath("~/docx/DirectAccess_StepByStep.doc");
HashAlgorithm hash2 = HashAlgorithm.Create("SHA1");
byte[] hashedBytes2;
using (FileStream fs2 = new FileStream(docFile2, FileMode.Open))
{
    //compute message hash value
    hashedBytes2 = hash.ComputeHash(fs2);
    fs2.Close();
}

//compare hash value
bool isEqual = plainHashBytes.SequenceEqual(hashedBytes2); 
```

* * *

## 回答 #1

> 赞同：135
> 
> 时间：2014-01-15T21:42:54.407

这个问题很老，但是对于在继续使用的同时寻找解决方案的人来说`Encrypt`，`Decrypt`这是我设法解决此错误的方法：

基础是我的证书通过双击`.pfx`文件并选择商店以错误的方式安装。

# 安装证书的错误方法

*1.*双击证书：

![证书文件](../Images/c0b2f196e6e6833288066c9d4667a5bb.png)

*2.*向导打开，点击下一步按钮：

![向导 0](../Images/47c9a918a1ac364bbc18d6ddde4ac07f.png)

*3.*向导显示证书位置，单击下一步按钮：

![向导 1](../Images/1e56bfd4bc44d372ea678a3bc24af701.png)

*4.*输入密码然后点击下一步：

![向导 2](../Images/d5a1a602b8f7765a7c4804ad98179093.png)

*5.*选择店铺然后点击下一步：

![向导 3](../Images/614b3222ae221613bb9ea2f497975e0f.png)

*6.*向导显示证书信息，点击**完成**按钮

![巫师 4](../Images/7c5c4bc92d490820f5ce36b79b3d4de4.png)

*7.*成功对话框显示：

![巫师 5](../Images/60386b9f052cca3c2e87965081aa98f3.png)

## 所以此时我遇到了错误**"Keyset does not exist"**。

* * *

# 为了解决这个问题，我以这种方式进行（正确的方式）

*1.*执行微软管理控制台（mmc.exe）：

![执行 mmc](../Images/87daa056ffaa563a5cc0568970b4a189.png)

*2.*一个空白的MMC实例显示：

![mmc 显示](../Images/9231b9e750fb820dcbc96aa4321c828a.png)

*3.*单击文件->添加/删除管理单元...

![添加管理单元](../Images/94e2b62a0209d047d9b2666fff6990bb.png)

*4.*选择证书管理单元并单击**添加**按钮：

![添加证书管理单元](../Images/d744b43e64d360fd9d666d8fb13d64b2.png)

*5.*选择***计算机帐户***，然后单击**下一步**按钮：

![选择计算机帐户](../Images/9fe016b5853648677265763a53da3e4d.png)

*6.*选择***本地计算机***，然后单击**完成**按钮：

![选择本地计算机](../Images/f88bf64ee9d7ecc4f69dae291c59d3b4.png)

*7.*现在添加了证书管理单元，单击**OK**按钮：

![证书管理单元显示](../Images/97f68b67685de805c27d427c980df367.png)

*8.*选择个人商店，然后右键选择**导入**：

![选择个人商店并导入](../Images/ce015b6971f88ca03ac4f4c2d535bf10.png)

*9.*浏览证书，点击下一步：

![浏览证书](../Images/e33a3825d8ec9ca6b56c711618a301a7.png)

*10.*输入密码，然后点击**下一步**按钮：

![在此处输入图像描述](../Images/748a8e52515bdf533dd9ad8f71a8f2f6.png)

*11.*自动选择证书存储：

![自动选择商店](../Images/dfe86f136eb78ba76dd6c21a023b660f.png)

*12*、证书信息显示：

![证书信息](../Images/413473911e2463ca62a8f77b118135fd.png)

*13.*成功对话框消息显示：

![在此处输入图像描述](../Images/5988ab847450bf8dbfb40efbf18dd6aa.png)

*14.*刷新 MMConsole 以显示证书：

![刷新mmc](../Images/298674929989866b729755f2c7688ebf.png)

*15.*右键单击​​证书，然后单击**Manage Private Keys...**：

![管理私钥](../Images/26cd2f8f704961f729cf4712311c4c68.png)

*16.*添加池标识或 IIS 用户在我的情况下，我添加了 IIS_IUSRS：

![添加 iis_iusrs](../Images/0e5e5a7e261aaf722fd49d50352c9044.png)

*17.*用户已添加，点击**确定**按钮：

![用户添加](../Images/ca9b38c9de65277b50327254e4d26f54.png)

## 它完成了密钥集现在确实**存在**！

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-24T09:44:55.813

应用程序可能正在尝试写入以下文件夹路径：C:\Documents and Settings\All Users\Application Data\Microsoft\Crypto\RSA\MachineKeys

如果您的应用程序使用模拟或使用 IUSR_MACHINENAME 用户，则配置 MachineKeys 文件夹 sercurities 并为用户提供读取和执行、列出文件夹内容、读取、写入。如果这不起作用，请尝试为所有人用户提供相同的权限。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-11-26T17:55:52.763

我确实遇到了同样的问题。该消息并不理想，在我的情况下，我的用户没有访问私钥的权限。您可以使用以下步骤解决此问题：

1.  打开mmc
2.  添加证书管理单元
3.  选择您要使用的证书
4.  右键单击它并选择“所有任务”/“管理私钥...”
5.  将您的用户添加到授权用户列表并允许“完全控制”

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2018-03-26T20:45:37.063

我收到与 OP 相同的错误：“System.Security.Cryptography.CryptographicException：密钥集不存在”

解决方案（对我来说）是：Visual Studio 需要（以管理员身份运行）

正如向我解释的那样（YMMV），VS 需要以管理员身份运行，以便从密钥库中提取证书私钥，以便与 keyvault 协商身份验证/握手。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2019-08-23T06:32:00.023

尝试以管理员身份运行 vs。为我工作

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-08-24T10:28:30.743

我相信在使用加密和解密时，它需要一个用于加密的公钥和一个用于解密的私钥。所以它失败了，因为你试图在没有私钥的情况下解密，这会导致异常。

您确实应该使用 [SignData](http://msdn.microsoft.com/en-us/library/9tsc5d0z.aspx)方法创建签名并[使用 VerifyData](http://msdn.microsoft.com/en-us/library/55yk5665.aspx)进行验证。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-09-16T19:21:39.810

在尝试签署 SAML 响应时，当我没有将证书中的 PrivateKey 加载到我的 signedXmlElement 的 SigningKey 中时，我遇到了这个错误。

```
signedElement.SigningKey = myCertificate.PrivateKey; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-09-30T17:55:00.487

在我的情况下，私钥存储在`"C:\ProgramData\Microsoft\Crypto\Keys"`而不是 machinekeys 文件夹中 - 您可以使用 certutil 检查以找出将成为私钥的“唯一容器名称”。

我现在扫描加密目录以找到匹配项。通过该匹配，我可以在适当的文件上设置正确的 ACL

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-08-31T11:47:29.497

.Net 在此处创建临时证书文件“..\Microsoft\Crypto\RSA\MachineKeys”。可能是证书文件仍然锁定了另一个进程。尝试重新启动应用程序，然后重新启动电脑。如果问题解决了，您需要手动创建 .pfx 文件，然后在您的电脑上加载证书应用程序。

# qt - 滑块中的分数问题主要是

> ID：12106012
> 
> 赞同：0
> 
> 时间：2012-08-24T08:49:25.457
> 
> 标签：qt, slider, vtk, fractions

我在代码中的某个地方遇到了这个问题，当我尝试添加一个分数时，代码只是忽略了该部分并表现得好像它不存在一样。我将在这里放一些我的代码示例。

例如在我的 vtkBMPReader 中：

```
 vtkBMPReader *bmp= vtkBMPReader::New();
    bmp->SetDataByteOrderToLittleEndian();
    bmp->SetFilePrefix ("/home/matt/Desktop/ouBMP/exemplo");
    bmp->SetFilePattern("%s%d.bmp");
    bmp->SetFileNameSliceSpacing(1);
    bmp->SetNumberOfScalarComponents(3);
    bmp->SetDataOrigin(0,0,0);
    bmp->SetDataSpacing(0.011741683,0.005865103,0.047244094);//here it should be (6/511,6/1023,6/127)
    bmp->SetDataExtent(0,511,0,1023,1,128);
    bmp->Update(); 
```

和这里：

```
// Function to transform the slider scale from pixel to mm
void planevolume::mm()
{
    // Set the sliders ranges and connections
    // X Slider
      double xvalue=ui->lcdNumber->value();
      ui->Slider->setValue(xvalue/(256/3));//here it does not work
      ui->Slider->setRange(xmin, xmax/(512/6), 1.0/(512/6));
      ui->Slider->setScale(xmin, (xmax+1)/(256/3), ((xmax+1)/16)/(256/3));//the last member does not work
      connect(ui->Slider, SIGNAL(valueChanged(double)), ui->lcdNumber, SLOT(display(double)));

    // Y Slider
      double yvalue=ui->lcdNumber_2->value();
      ui->Slider_2->setValue(yvalue/(512));//as here
      ui->Slider_2->setRange(ymin, ymax/(1023/2), 1.0/(1023/2));
      ui->Slider_2->setScale(ymin, (ymax+1)/512, (((ymax+1)/16)/512));//as here
      connect(ui->Slider_2, SIGNAL(valueChanged(double)), ui->lcdNumber_2, SLOT(display(double)));

    // Z Slider
      double zvalue=ui->lcdNumber_3->value();
      ui->Slider_3->setValue(zvalue/(64/3));//as here
      ui->Slider_3->setRange(zmin, zmax/(127/6), 1.0/(127/6));
      ui->Slider_3->setScale(zmin, (zmax+1)/(64/3),(((zmax+1)/16)/(64/3)));//as here
      connect(ui->Slider_3, SIGNAL(valueChanged(double)), ui->lcdNumber_3, SLOT(display(double)));
} 
```

但在这个类似的情况下，它确实有效！

```
// Function to transform the slider scale from mm to pixel
void planevolume::pixel()
{
// Set the sliders ranges and connections
// X Slider
  double xvalue=ui->lcdNumber->value();
  ui->Slider->setValue(xvalue*(256/3));//here it works!!
  ui->Slider->setRange(xmin, xmax, 1.0);
  ui->Slider->setScale(xmin, xmax+1, (xmax+1)/16);
  connect(ui->Slider, SIGNAL(valueChanged(double)), ui->lcdNumber, SLOT(display(double)));

// Y Slider
  double yvalue=ui->lcdNumber_2->value();
  ui->Slider_2->setValue(yvalue*512);//here it works!!
  ui->Slider_2->setRange(ymin, ymax, 1.0);
  ui->Slider_2->setScale(ymin, ymax+1, (ymax+1)/16);
  connect(ui->Slider_2, SIGNAL(valueChanged(double)), ui->lcdNumber_2, SLOT(display(double)));

// Z Slider
  double zvalue=ui->lcdNumber_3->value();
  ui->Slider_3->setValue(zvalue*(64/3));//here it works!!
  ui->Slider_3->setRange(zmin, zmax, 1.0);
  ui->Slider_3->setScale(zmin, zmax+1, (zmax+1)/16);
  connect(ui->Slider_3, SIGNAL(valueChanged(double)), ui->lcdNumber_3, SLOT(display(double))); 
```

}

如果有人知道我能做什么，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:03:36.257

我只需在所有数字上添加 .0 就可以了。

# java - 公共嵌套类中的静态最终字段

> ID：12106017
> 
> 赞同：18
> 
> 时间：2012-08-24T08:49:31.840
> 
> 标签：java, eclipse

我有这样的代码：

```
public class Foo {
    public class Bar implements Parcelable {
        public static final Parcelable.Creator<Type> CREATOR =
                   new Parcelable.Creator<Type>() {
                   @Override
                   ....
        }
    }
} 
```

日食 说：

```
The field CREATOR cannot be declared static in a non-static inner type, unless 
initialized with a constant expression 
```

请告诉我它是什么？我认为这是因为我有一个嵌套类，但我不知道如何纠正错误。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-24T08:59:59.917

内部类（非静态嵌套类）不能有任何静态方法。因为

`An inner class is implicitly associated with an instance of its outer class, it cannot define any static methods itself.`

对于外部类`Foo`，您可以像这样访问静态方法`test()`：

```
Foo.test(); 
```

对于静态内部类`Bar`，您可以像这样访问其静态方法`innerTest()`：

```
Foo.Bar.innerTest(); 
```

但是，如果`Bar`不是`static`，则现在没有引用方法的静态方式`innerTest()`。非静态内部类与其外部类的特定实例相关联。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T08:53:56.670

内部类不能有静态方法...如果你想拥有它，你还需要将 Bar 定义为静态方法。

否则，该字段必须声明为非静态。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T08:55:09.003

虽然不知道为什么，Java 禁止内部类中的静态字段和方法。解决这个问题的唯一方法是声明一个静态内部类；或者当然您可以使嵌套类中的字段为非静态字段。

# html - 如何在 HTML5 中轻松淡入淡出（更改）40 张图像？例如制作灯光动画

> ID：12106019
> 
> 赞同：2
> 
> 时间：2012-08-24T08:49:32.173
> 
> 标签：html, animation, image, frames

例如，我有 40 张略有不同的图像。基本上，这是动画的帧。我所需要的就是让它们通过悬停时的淡入淡出相互改变。

示例：-用户用他的指针悬停图像 --> 动画开始 img1..img2..img3..img4..img5.............img40（然后每张图像显示 0.20 秒另一个出现，然后图像卡在最后一帧上）-用户将指针移开->动画以相同的方式返回到第一帧。

有没有一个好工具可以轻松制作这样的动画？并使最终图像尺寸足够小..

谢谢

# subquery - 在子查询中使用 ST_DWithin (PostGIS)

> ID：12106025
> 
> 赞同：1
> 
> 时间：2012-08-24T08:49:49.960
> 
> 标签：subquery, postgis

我有一个带点的几何表。所有点都有唯一的 ID。现在我想进行查询，选择一个点（id 为 34567）并围绕该点进行 5 公里的缓冲区分析。我的目标是选择距离所选点超过 5 公里的所有点。所有数据都存储在一张表中。

我尝试了以下方法，

```
SELECT D.id, D.geometry, S.id, S.geometry
FROM points AS D, points AS S
WHERE not ST_DWithin(D.geometry, S.geometry, 5000) AND D.id not like '34567' 
```

但是查询永远运行。

我究竟做错了什么？

所有答案表示赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-28T08:21:49.820

最初编写的查询是回答这个问题的一种非常低效的方式，因为它本质上涉及空间自连接，而实际上，OP 只想知道距离 id=34567 的单点超过 5 公里的点. 如果您想为每个点查找距离所有其他点超过 5 公里的所有点，则将使用自连接，这本质上是一个 0(n^2) 操作。

对原始查询的解释将显示一个嵌套循环，其中包含两个全序列扫描（即点 A 和点 B）以及 ST_DWithin 的空间连接。

查询可以更好地写为

```
SELECT count(S.id) FROM points AS S WHERE not ST_Dwithin(S.geometry, 
(select geometry from points where id=34567), 5000); 
```

假设在 id 上有一个索引，在几何上有一个空间索引。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-13T17:32:29.207

感谢约翰·巴萨。我是新手，但 PostGIS 手册中的所有示例都将*几何*特征作为文本包含在内，这在日常生活中不太实用。问题是结果还将返回作为参考的点（34567）。所以设置距离为0，返回原点，或者count=1。我想最快的解决方案是做一个`EXCEPT`：

```
SELECT S.id, S.geometry FROM points AS S WHERE not ST_Dwithin(S.geometry, 
(select geometry from points where id=34567), 5000)
EXCEPT
SELECT S.id from POINTS where id=34567 
```

但是你必须放`id`两次，这对我来说也不是很有效。

# iphone - 如何更改“添加联系人”按钮的颜色？

> ID：12106028
> 
> 赞同：3
> 
> 时间：2012-08-24T08:49:53.970
> 
> 标签：iphone, xcode

我想以编程方式更改“添加联系人”按钮的颜色？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-27T12:06:14.633

使用 UIButton 的属性 tintColor：

```
UIButton* addButton = [UIButton buttonWithType:UIButtonTypeContactAdd];
addButton.tintColor = [UIColor whiteColor]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-24T08:53:01.540

确保按钮类型是自定义的。然后执行以下操作将带回那些圆角：

```
[self.myButton.layer setCornerRadius:8.0f];
[self.myButton.layer setMasksToBounds:YES];
[self.myButton.layer setBorderWidth:1.0f];
[self.myButton.layer setBorderColor:[[UIColor whiteColor] CGColor]];
self.myButton.backgroundColor = [UIColor redColor]; 
```

虽然，就个人而言，我是纯色渐变按钮的忠实粉丝......而且，背景颜色没有不同的状态，而背景图像有：

```
[self.myButton setBackgroundImage:[UIImage imageNamed:@"gradient.png"] forState:UIControlStateNormal]; 
```

使用图像，您的按钮会随着选择变暗（或者您可以为每个状态提供不同的背景图像以执行不同的操作）。背景颜色不会发生这种情况，背景将始终保持不变，只有您的按钮标签会根据状态发生变化。

# nhibernate - 如何在 HQL 中为包含组件的类编写插入查询？

> ID：12106029
> 
> 赞同：0
> 
> 时间：2012-08-24T08:49:55.963
> 
> 标签：nhibernate, hql

我正在尝试`INSERT INTO ... SELECT ...`用 HQL 编写查询。但是，我插入的类包含`<component>`映射中的项目。例如，我的类定义可能是：

```
public class X
{
    public virtual string A { get; set; }
    public virtual string B { get; set; }
    public virtual Y C { get; set; }
}
public class Y
{
    public virtual string C1 { get; set; }
    public virtual string C2 { get; set; }
} 
```

和一个可能的映射：

```
<class name="X">
    <id type="int"><generator class="identity"/></id>
    <property name="A" />
    <property name="B" />
        <component name="C">
            <property name="C1" column="C1" />
            <property name="C2" column="C2" />
        </component>
    </component>
</class> 
```

如何在 HQL 中为此类编写插入查询？我试过：

```
session.CreateQuery("INSERT INTO X(A, B, C1, C2) SELECT A, B, 'foo', 'bar' FROM X data")
       .ExecuteUpdate(); 
```

这给出了错误：

```
NHibernate.QueryException : could not resolve property: C1 of: X
[INSERT INTO X(A, B, C1, C2) SELECT A, B, "foo", "bar" FROM X data] 
```

我也试过：

```
session.CreateQuery("INSERT INTO X(A, B, C) SELECT A, B, :C FROM X data")
       .SetParameter("C", new Y() { C1 = "foo", C2 = "bar" });
       .ExecuteUpdate(); 
```

这给出了错误：

```
NHibernate.HibernateException : Could not determine a type for class: Y 
```

我也试过：

```
session.CreateQuery("INSERT INTO X(A, B, C.C1, C.C2) SELECT A, B, 'foo', 'bar' FROM X data")
       .ExecuteUpdate(); 
```

这给出了错误：

```
NHibernate.Hql.Ast.ANTLR.QuerySyntaxException : Exception of type 'Antlr.Runtime.MismatchedTreeNodeException' was thrown. near line 1, column 21 
[INSERT INTO X(A, B, C.C1, C.C2) SELECT A, B, "foo", "bar" FROM X data] 
```

还有其他建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:07:06.033

HQL 是关于检索实体，而不是关于检索记录或插入记录。

在使用 NHibernate 时，您不应该考虑记录和记录集，而应该考虑实体。所以，如果你想使用 NHibernate 在数据库中插入一些东西，你必须创建一个实体的实例，并使用 NHibernate 的 ISession 将该实体保存到数据库中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T10:19:49.973

所以答案是

```
session.CreateSQLQuery("INSERT INTO X(A, B, C1, C2) SELECT A, B, 'foo', 'bar' FROM X data")
       .ExecuteUpdate(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T12:36:37.807

正如 Frederik Gheysels 已经回答的那样，您应该通过 NHibernate 会话对象创建和保存新实体。如果您要插入很多实体，我建议您使用无状态会话对象来加快速度。

```
using (IStatelessSession statelessSession = sessionFactory.OpenStatelessSession())
using (ITransaction transaction = statelessSession.BeginTransaction())
{
    foreach (var entity in entities)
        statelessSession.Insert(entity);

    transaction.Commit();
} 
```

这可能不是一个可衡量的改进，具体取决于您插入的数据量。在我当前的项目中，我可以使用无状态会话在不到一秒的时间内批量插入大约 16000 个实体。

# iphone - 当表格重新出现时，UITableView 不会自动取消选择选定的行

> ID：12106032
> 
> 赞同：50
> 
> 时间：2012-08-24T08:50:07.423
> 
> 标签：iphone, objective-c, ios, cocoa-touch, uitableview

通常，当用户从详细视图中弹出时，a 中的选定行`UITableView`会通过动画取消选择。

但是，在我有一个`UITableView`嵌入的情况下，我必须像这样`UIViewController`手动执行它`viewWillAppear`：

```
-(void)viewWillAppear:(BOOL)animated{
    [super viewWillAppear:animated];
    // For some reason the tableview does not do it automatically
    [self.tableView deselectRowAtIndexPath:self.tableView.indexPathForSelectedRow 
                                  animated:YES];  
} 
```

为什么会这样以及如何解决？

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2012-08-24T09:14:16.653

当您的主 ViewController 来自[UITableViewController](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewController_Class/Reference/Reference.html)类型时，它具有默认情况下[的属性](https://developer.apple.com/library/ios/documentation/uikit/reference/UITableViewController_Class/Reference/Reference.html#//apple_ref/occ/instp/UITableViewController/clearsSelectionOnViewWillAppear) - 因此它将自动清除选择。`clearsSelectionOnViewWillAppear``YES`

此属性不适用于[UITableView](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html)，我想这是因为它也没有`ViewWillAppear`方法。

[UIViewController](http://developer.apple.com/library/ios/documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/cl/UIViewController)不需要这个属性，因为它原本`UITableView`没有。

结论：当你不使用`UITableViewController`.

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2012-08-24T09:40:06.067

取消选择`didSelectRowAtIndexPath`而不是`viewWillAppear`：

```
- (void)tableView:(UITableView *)tableView
                  didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
     //show the second view..
     [tableView deselectRowAtIndexPath:indexPath animated:YES]; 
 } 
```

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2015-06-23T13:28:41.000

在 swift 中，您可以在您的`viewWillAppear`

```
if let indexPath = tableView.indexPathForSelectedRow() {
    tableView.deselectRowAtIndexPath(indexPath, animated: true)
} 
```

在 swift 2 中，它没有括号：

```
if let indexPath = tableView.indexPathForSelectedRow {
    tableView.deselectRowAtIndexPath(indexPath, animated: true)
} 
```

在 Swift 4（和 3？）中，函数名被清理了：

```
if let indexPath = tableView.indexPathForSelectedRow {
    tableView.deselectRow(at: indexPath, animated: true)
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-24T09:02:02.240

我不认为取消选择选定的行是自动的......我通常在推送到下一个视图之前这样做

```
- (void)tableView:(UITableView *)tableView 
        didSelectRowAtIndexPath:(NSIndexPath *)indexPath{

    [tableView deselectRowAtIndexPath:indexPath animated:YES];
    // to do other things
    [self.navigationController pushViewController:yourNextViewController animated:YES];
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-24T08:52:07.240

没有错——取消选择突出显示的行始终是“手动”的。如果您查看 Apple 的示例代码，您会看到相同的内容。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-09-24T16:59:05.977

在斯威夫特 3 / 4

```
func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
    tableView.deselectRow(at: indexPath, animated: true)
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-05-22T12:41:05.903

如果在 的子类中未清除表视图选择`UITableViewController`，尽管设置为 true，但如果您覆盖该方法`clearsSelectionOnViewWillAppear`，请确保调用超类版本。`[UIViewController viewWillAppear:animated]`

如果调用该方法的超级版本失败，则 的值`clearsSelectionOnViewWillAppear`将不起作用，因为清除表视图选择的工作实际上是在`UITableViewController`的实现中执行的`viewWillAppear`。

如果您的视图控制器没有从您那里继承，`UITableViewController`您将需要在`viewWillAppear`.

# c# - DbCommand - 如何提供特定于提供者的属性

> ID：12106034
> 
> 赞同：0
> 
> 时间：2012-08-24T08:50:13.043
> 
> 标签：c#, .net, ado.net

在您的旧 ADODB.Command 对象上，有一个 Properties 成员采用“提供者特定”属性。

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms675257(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms675257(v=vs.85).aspx)

这如何在 ADO.NET 中实现？

具体来说，我希望为 ADSDSOObject 提供程序 (LDAP) 提供超时，因为我们的 AD 中几乎有无数个对象，并且许多查询超时。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:28:16.960

您是否尝试过：[DbCommand.CommandTimeout](http://msdn.microsoft.com/en-us/library/system.data.common.dbcommand.commandtimeout.aspx)？

# javascript - 是否可以设置 jqmath 样式 - 在网页上使用另一种字体显示

> ID：12106035
> 
> 赞同：0
> 
> 时间：2012-08-24T08:50:16.040
> 
> 标签：javascript, css, fonts, google-webfonts, jqmath

我以前使用 mathjax 在网站上生成数学。我无法设置 mathjax 的样式，这使得设计很糟糕（网站有一种字体，而 mathjax 带有另一种字体（stix）。

JQ Math 是一个不错的选择吗？是否可以设置 jqmath 输出的样式以匹配我在网站上使用的字体？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T02:16:54.437

加载该文件后，只需使用普通 CSS 覆盖 jqmath-0.2.0.css 中的任何规则，例如：

```
math, fmath, .fm-math, fmath mo, .fm-mo, .ma-sans-serif
    { font-family: McLaren, 'Cantora One', sans-serif } 
```

有关更多 jqMath CSS 示例和信息，请参阅[How to left align elements in a jqmath table](https://stackoverflow.com/questions/10965767/how-to-left-align-elements-in-a-jqmath-table)和[jqMath highlight box like bbox in MathJax/MathJs](https://stackoverflow.com/questions/11805054/jqmath-highlight-box-like-bbox-in-mathjax-mathjs)。

# xml - Eclipse XML 格式化程序插入不需要的换行符

> ID：12106037
> 
> 赞同：3
> 
> 时间：2012-08-24T08:50:21.603
> 
> 标签：xml, eclipse, formatter

Eclipse 版本：Indigo 服务版本 2

我无法让我的 XML 格式化程序正确完成这项工作。

当我将格式化程序应用于此

```
<execution>
<id>compile</id>
<phase>compile</phase>
<goals>
<goal>compile</goal>
</goals>
</execution> 
```

我明白了

```
<execution>

    <id>
compile
    </id>

    <phase>
compile
    </phase>

    <goals>

        <goal>
compile
        </goal>
    </goals>

</execution> 
```

我希望它的格式如下：

```
<execution>
    <id>compile</id>
    <phase>compile</phase>
    <goals>
        <goal>compile</goal>
    </goals>
</execution> 
```

我尝试了不同的选项，`XML -> XML Files -> Editor`但似乎都没有。
谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:21:59.357

问题出在 Android 编辑器中，那是我的默认 XML 编辑器。

解决此问题的两个选项：

*   使用 Eclipse XML 编辑器`Open With -> XML Editor`
*   禁用“标准 Android XML 样式”`Android -> Editors`

# jsf-2 - 删除 JSF 错误消息

> ID：12106038
> 
> 赞同：0
> 
> 时间：2012-08-24T08:50:21.533
> 
> 标签：jsf-2, primefaces

我正在使用带有 primefaces 3.3.1 的 JSF 2。

我在我的 template.xhtml 页面中使用了表单标签，并将我的所有页面都包含在其中。所以所有页面都在同一个表单下。我的场景是：我有两个面板，一个是客户搜索面板，另一个是客户搜索结果面板。客户搜索面板包含一些文本框和一个命令按钮。在该文本框中，我将提供有关客户的一些输入，然后单击命令按钮。之后，我必须加载包含一个带有搜索结果的数据表的客户搜索结果面板。

最初我将只加载客户搜索面板。单击命令按钮后，只有我会加载客户搜索面板。在我的客户搜索面板的那个命令按钮中，我在更新属性中给出了客户搜索结果面板的 ID。像

```
<p:commandButton value="click" action="#{bean.action}" update="cust_search_panel"/> 
```

当我按下命令按钮时，jsf 说“找不到标识符为 cust_search_panel 的组件”。因为最初我不会加载客户搜索结果面板，因此 id 将不存在。

使用 primefaces 2.2.1 时没有问题，因为如果组件不在表单中，那么他们将添加信息消息，说明“找不到标识符为 cust_search_panel 的组件”。但在 primefaces 3.3.1 中，他们将该信息消息更改为错误消息。所以现在我的页面没有因为这个错误而被加载。

当我们收到诸如“找不到标识符为 cust_search_panel 的组件”之类的消息时，如果可以从 facescontext 中删除该错误消息，那么我的页面将正确加载吗？

除了这个，我还没有找到任何解决方案。谁能帮我解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T12:41:27.047

我不知道任何其他简单的解决方案。但这应该有效：

从您的操作方法更新组件并删除按钮上的更新属性。

```
if (context.getViewRoot().findComponent("myForm:cust_search_panel") != null){
     RequestContext.getCurrentInstance().update("cust_search_panel");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T12:43:40.937

你试过吗

```
<p:commandButton value="click" action="#{bean.action}" update=":cust_search_panel"/> 
```

?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-25T11:15:33.740

引用不存在的元素是错误的，JSF 应该显示错误。如果 JSF 允许加载页面，这将导致 JavaScript 错误。

处理这个问题的正确方法是引用父元素。因此，在您的情况下，您应该渲染面板并隐藏数据表。命令按钮应该更新包含数据表的面板。

例子：

```
<p:commandButton value="click" action="#{bean.action}" update="cust_search_panel"/>

<your-container id="cust_search_panel">
    <p:dataTable rendered="#{bean.someCondition" .../>
</your-container> 
```

# php - 排序价格而不用 sql

> ID：12106040
> 
> 赞同：0
> 
> 时间：2012-08-24T08:50:40.063
> 
> 标签：php, mysql

我正在做一个票价表。除了一个小问题，它完美地工作，价格以错误的顺序出现，这是我到目前为止所拥有的：

```
$totalresult = mysql_query("select * from ticket_pricing  WHERE (service_id='".mysql_real_escape_string($_POST['service_id'])."') and (boarding_point='".mysql_real_escape_string($_POST['boarding_point'])."') order by ticket_type DESC") or die(mysql_error());

while($row = mysql_fetch_array($totalresult)){ 
    if(strtolower($row['ticket_type']) === "single"){
        if (!$a++){  
                    echo($row['ticket_type']);
            $a++;
        }
    ?>
    <span>
        <?php echo($row['price']);?>
    </span>                 
    <?php
    }
    if(strtolower($row['ticket_type']) === "return"){
        if (!$b++){  
                    echo("<br />" . $row['ticket_type']);
            $b++;
        }
    ?>
    <span>
        <?php echo($row['price']);?>
    </span>                 
    <?php
    }   
    if(strtolower($row['ticket_type']) === "period"){
        if (!$c++){  
                    echo("<br />" . $row['ticket_type']);
            $c++;
        }
    ?>
    <span>
        <?php echo($row['price']);?>
    </span>                 
    <?php
    }           
    if(strtolower($row['ticket_type']) === "group"){
        if (!$d++){  
                    echo("<br />" . $row['ticket_type']);
            $d++;
        }
    ?>
    <span>
        <?php echo($row['price']);?>
    </span>                 
    <?php
    }                                   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T08:57:44.797

为什么不使用价格作为第二种排序方法进行两次排序呢？

```
 $totalresult = mysql_query("select * from ticket_pricing  
     WHERE (service_id='".mysql_real_escape_string($_POST['service_id'])."') 
     and (boarding_point='".mysql_real_escape_string($_POST['boarding_point'])."') 
     order by ticket_type DESC, price ASC") or die(mysql_error()) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T08:58:12.083

我不得不说在mysql中对价格进行排序，这样会更容易、更快、更高效。是否有特定原因您不想在 sql 中进行排序？

当然，您可以通过ticket_type DESC、价格ASC/DESC 进行订购。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:57:45.137

我[同意 sammaye](https://stackoverflow.com/users/383478/sammaye)的建议，但我会回答这个问题，因为它可以用于一些不支持多个订单文件的自定义 D 基或 C 基系统。

所以你可以用数组排序来做到这一点：

```
$totalresult = mysql_query("select * from ticket_pricing  WHERE (service_id='".mysql_real_escape_string($_POST['service_id'])."') and (boarding_point='".mysql_real_escape_string($_POST['boarding_point'])."') order by ticket_type DESC") or die(mysql_error());

   $results = array();//instanciate array
    while($row = mysql_fetch_array($totalresult)){ 
        $type = $row['ticket_type'];//get current type to preserve type order
        $price = $row['ticket_price'];//get the current price to sort by price
        if(!is_array($results[$type])){
            $results[$type]=array();//current type is new
        }
        $results[$type][$price] = $row;//store entire row datas     
    }

    $types = array_keys($results);
    $nb = count($types);
    for($i=0;$i<$nb;$i++){//get the current type, preserving group
        $type = $types[$i];
        $prices = array_keys($results[$types]);//extract prices of the group
        asort($prices);//sort prices ASC
        //arsort($prices);//sort price DESC
        foreach($prices As $price){
            $row = $results[$types][$price];//now you can get you'r datas and start you'r process
        }
    } 
```

# visual-studio-2010 - Visual Studio 不支持源代码管理项目

> ID：12106041
> 
> 赞同：4
> 
> 时间：2012-08-24T08:50:40.957
> 
> 标签：visual-studio-2010, version-control

我正在尝试在 VS 2010 中打开一个项目，但在打开它时出现错误。谁能告诉这个错误是什么意思？

> 该项目处于源代码控制之下。此版本的 Visual Studio .net 不支持源代码控制项目。对此项目所做的任何更改都不会传播到源代码

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-16T09:27:27.563

C:\Users\YourName\AppData\Local\Microsoft\Team Foundation\4.0\Cache\VersionControl.config

已损坏。删除它现在一切正常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-24T08:55:42.887

这意味着：

1.  该项目受源代码控制
2.  如果您进行任何更改，VS 不会将它们传播到源代码管理
3.  如果您需要提交对源代码管理的更改，则需要以自己的方式进行。

**但是**，如果您只想运行项目，或者只是查看代码，或者不想与它协作，则应该忽略此消息。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-24T09:00:27.620

此问题的解决方案是在命令提示符处找到您的 Visual Studio 2008 开发环境可执行文件（默认位于 C:\Program Files (x86)\Microsoft Visual Studio 9.0\Common7\IDE\devenv.exe）并键入：

devenv /resetskippkgs

也许，这会帮助你，看看这个...... [“此安装不支持项目类型”错误](https://stackoverflow.com/questions/336235/the-project-type-is-not-supported-by-this-installation-error)

[Visual Studio 2008 上的 asp.net mvc 1.0“不支持项目类型”](https://stackoverflow.com/questions/1404104/asp-net-mvc-1-0-project-type-is-not-supported-on-visual-studio-2008)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T08:54:48.147

您正在使用 Visual Studio **Express**，它不支持加载项，因此不支持源代码管理加载项。

这里有一个类似的问题： [Visual Studio Express 的源版本控制](https://stackoverflow.com/questions/30835/source-versioning-for-visual-studio-express)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-24T08:56:56.227

这意味着您打开的解决方案受版本控制，例如 Team Foundation Server (TFS)。要使用版本控制功能，您需要特殊版本的 Visual Studio。

看起来（基于错误消息的假设）您可以使用项目中的源代码，您可以构建和启动程序，但您不能提交对版本控制存储库所做的任何更改。

关于 TFS 的维基百科页面很好地解释了 TFS 的含义：[http ://en.wikipedia.org/wiki/Team_Foundation_Server](http://en.wikipedia.org/wiki/Team_Foundation_Server)

如果您自己使用代码，那应该不是问题。如果您从事团队项目，使用 TFS 作为版本控制系统，则必须升级到另一个 VS 版本。

也许这个堆栈溢出线程可以帮助你一点：[Connect Visual Studio 2010 Professional to TFS](https://stackoverflow.com/questions/2633262/connect-visual-studio-2010-professional-to-tfs)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-24T08:57:14.350

我假设这意味着您使用的是 express 版本，并且您没有获得集成的源代码控制。

需要更多信息，例如确认上述内容并了解项目所在的源代码控制类型。

# python - 使用 Django 编写帮助文本

> ID：12106043
> 
> 赞同：0
> 
> 时间：2012-08-24T08:50:44.787
> 
> 标签：python, html, database, django, templates

如何将帮助文本放入模板中，以便用户可以轻松地以正确的格式输入数据？例如，一个 DateTimeField ...我如何放置字段的格式，例如 (YYYY-MM-DD HH:MM:SS) 而不会影响默认错误列表的空间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T08:54:45.203

您可以[指定表单字段](https://docs.djangoproject.com/en/dev/ref/forms/fields/#help-text)的 help_text ，或[指定模型字段的 help_text](https://docs.djangoproject.com/en/dev/ref/models/fields/#help-text)。它根本不应该影响错误处理。

# linux - 在 Linux 中编译 GLSL 着色器时出错

> ID：12106044
> 
> 赞同：1
> 
> 时间：2012-08-24T08:50:45.247
> 
> 标签：linux, compiler-errors, glsl, shader

我最近在我的 Windows 机器上使用 OpenGL 编写了一个基本的渲染引擎，一切都运行良好。不幸的是，当我试图将它带到运行 Ubuntu 12.04 的笔记本电脑上时，出现了一些复杂情况，最初是链接设置和库是问题，但我设法解决了所有问题，我目前的问题是编译 GLSL 着色器，当我编译了顶点着色器和片段着色器，我收到以下错误。

'0:2(14): 预处理器错误：语法错误，意外标识符，期待 NEWLINE
'

这是我的顶点着色器中的代码。

```
#version 330 core

layout(location = 0) in vec3 position;
layout(location = 1) in vec2 uv;
layout(location = 2) in vec3 normal;

struct DirectionalLight{
    vec3 direction;
    vec3 color;
    vec3 ambient;
};

uniform mat4 modelMatrix;
uniform mat4 viewMatrix;
uniform mat4 projectionMatrix;
uniform DirectionalLight dLight;

out vec2 iUv;
out vec3 iPosition;
out vec3 iNormal;
out vec3 lightDir;

void main()
{
    iUv = uv;
    iPosition = vec3(viewMatrix * modelMatrix * vec4(position,1));
    iNormal = normal;
    lightDir = vec3(normalize(viewMatrix * vec4(dLight.direction, 0)));

    gl_Position =  projectionMatrix * viewMatrix * modelMatrix * vec4(position,1);
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-24T12:24:08.917

1.  尝试在着色器程序的末尾添加更多新的空白行。
2.  尝试使用文本编辑器 (Ubuntu) 创建代码的新副本。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-10-24T07:39:24.383

在我的情况下改变

```
#version 330 core 
```

至

```
#version 330 
```

帮助。

# css - 在 IE 中的 div 之间的 html 不需要的空间，但在 chrome 中没有

> ID：12106046
> 
> 赞同：0
> 
> 时间：2012-08-24T08:50:56.090
> 
> 标签：css, html, space

感谢您阅读本文。

我目前在 IE 中使用这个网站[http://ukshinwakai.org/uks/我在页脚和页眉之间有空间。](http://ukshinwakai.org/uks/)有人可以告诉我如何解决这个问题！？

这是html

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
<meta name="description" content="Welcome to United Kingdom Shinwakai official website" >
<meta name="keywords" content="Shinwakai, UK Shinwakai, Jack Poole, Aikido, Marill Poole, 7th Dan Aikido, Yoshinkan, Aikido Buckinghamshire" >
<meta name="robots" content="index, follow" >
<meta name="author" content="Adam Lisik Web Design" >
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
<title>Home Page UK Shinwakai</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="js/superfish.js"></script>
<script type="text/javascript" src="js/supersubs.js"></script>
<script type="text/javascript">
//<![CDATA[
    $(document).ready(function(){ 
        $("ul.sf-menu").supersubs({ 
            minWidth:    5,  
            maxWidth:    17,
            extraWidth:  1   
        }).superfish();
    }); 
//]]>
</script>

<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div class="main">
    <div class="logo">
    <img src="images/banner.gif" alt="UK Shinwakai" width="991" height="203" />
    </div>
    <div class="content">
        <div class="bread">
        <p>You are here: <a href="index.php">Home</a></p>
        </div>
        <div class="menu">
            <ul class="sf-menu sf-vertical">
                <li class="current"><span class="style3"><a href="index.php">Home</a></span></li>
                <li class="current"><a href="#">About the Association</a>
                    <ul>
                        <li><a href="ukshistory.php">Association History</a></li>
                        <li><a href="membership.php">Membership of the Association</a></li>
                        <li><a href="#">Heads of Shinwakai</a>
                            <ul>
                                <li><a href="jack.php">Sensei Jack Poole</a></li>
                                <li><a href="marill.php">Sensei Marill Poole</a></li>
                                <li><a href="les.php">Sensei Les White</a></li>
                                <li><a href="roy.php">Sensei Roy Sheppard</a></li>
                                <li><a href="john.php">Sensei John Jenkin</a></li>
                                <li><a href="keith.php">Sensei Keith Holland</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Who We Are!</a>
                            <ul>
                                <li><a href="equal.php">Equal Opportunities</a></li>
                                <li><a href="constitution.php">Constitution</a></li>
                                <li><a href="children.php">Children in Aikido</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a href="#">Association Dojos</a>
                    <ul>
                        <li><a href="#">Koshinkan Aikido Society</a>
                            <ul>
                                <li><a href="k_brix.php">Brixham Dojo</a></li>
                                <li><a href="k_sutton.php">Sutton Dojo</a></li>
                            </ul>
                        <li><a href="#">Kurai Aikido</a>
                            <ul>
                                <li><a href="k_chelms.php">Chelmsford Dojo</a></li>
                                <li><a href="k_yeading.php">Yeading Dojo</a></li>
                            </ul>
                        </li>
                        <li><a href="#">UK Shinwakai Aikido</a>
                            <ul>
                                <li><a href="beaconsfield.php">Beaconsfield Dojo</a></li>
                                <li><a href="huddersfield.php">West Yorkshire Dojos</a></li>
                                <li><a href="maidenhead.php">Maidenhead Dojo</a></li>
                                <li><a href="manjuji.php">Manju-ji Dojo</a></li><li><a href="sano.php">Sano Dojo</a></li>
                                <li><a href="sanobudokan.php">Sano Budokan Dojo</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Traditional Aikido Ryu</a>
                            <ul>
                                <li><a href="ashford.php">Ashford Dojo</a></li>
                            </ul>
                        </li>
                    </ul>
            <li class="style3"><a href="#">News</a>
                <ul>
                    <li><a href="uknews.php">Association News</a></li>
                    <li><a href="babnews.php">BAB News</a></li>
                    <li><a href="othernews.php">BBC News &amp; Weather</a></li>
                </ul>
            </li>
            <li><a href="contact.php">Contact the Association</a></li>
            <li><a href="photo.php">Photo Gallery</a></li>
            <li><a href="links.php">Links</a></li>
            <li><a href="http://www.ukshinwakaiaikido.org.uk">To UK Shinwaikai Aikido</a></li>
            </ul>
        </div>
        <div class="pagecontent">
         <?php include 'edit/index/index.php';?>
        <!-- AddThis Button BEGIN -->
<a class="addthis_button" href="http://www.addthis.com/bookmark.php?v=250&amp;username=ukshinw1"><img src="http://s7.addthis.com/static/btn/v2/lg-share-en.gif" width="125" height="16" alt="Bookmark and Share" class="c2" /></a> <script type="text/javascript">
//<![CDATA[
var addthis_config = {"data_track_clickback":true};
//]]>
</script> <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=ukshinw1">
</script> <!-- AddThis Button END --></p>
            </div>
        </div>
        <div class="footer">
            <p>Copyright &copy; ukshinwakai.org&#44 ukshinwakaiassociation.org.uk &amp; ukshinwakaiaikido.org.uk. All Rights Reserved.
        <a href="http://www.adamlisik.co.uk">Web Design Huddersfield</a>    </p>
    </div>
</div>
</body>
</html> 
```

和 CSS [http://ukshinwakai.org/uks/style.css](http://ukshinwakai.org/uks/style.css)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T08:55:36.990

首先，添加 doctype（在代码之上）

[http://validator.w3.org/docs/help.html#faq-doctype](http://validator.w3.org/docs/help.html#faq-doctype)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T08:59:57.843

使用`*{margin:0, border:0}`和正确的 DOCTYPE。

# javascript - javascript无法隐藏里面的按钮

> ID：12106047
> 
> 赞同：2
> 
> 时间：2012-08-24T08:50:57.650
> 
> 标签：javascript, html, jquery-ui, jsf-2, primefaces

我想在提交对话框时隐藏我的图标/按钮...当我将图标/按钮放在里面时，我的代码停止工作`<h:form>`

这是我的图标的代码

```
<h:outputLink id="loginLink" value="javascript:void(0)"
                onclick="dlg.show()">
            <p:graphicImage value="/images/logo.png" />
</h:outputLink> 
```

这是对话框的代码

```
<p:dialog id="dialog" header="Login" widgetVar="dlg">
    <h:form>
        <p:commandButton value="Login"
                oncomplete="handleLoginRequest(xhr, status, args)" />
    </h:form>
</p:dialog> 
```

现在这是我的脚本

```
<script type="text/javascript">
function handleLoginRequest(xhr, status, args) {
        dlg.hide();
    jQuery('#loginLink').fadeOut();
    alert("This is working fine");
}
</script> 
```

这样一切正常..`alert("This is working fine");`工作正常，我的图标也消失了....

但是当我将我的图标放在里面时，`<h:form></h:form>`图标不会淡出（脚本工作正常但无法到达我的图标里面`<h:form>`

前任：

```
<h:form>
    <h:outputLink id="loginLink" value="javascript:void(0)"
            onclick="dlg.show()">
        <p:graphicImage value="/images/logo.png" />
    </h:outputLink>
</h:form> 
```

这样我就面临问题:(

PS：使用`<h:form>`对我来说是必须的，因为我要把我的代码放在`<p:menuitem>`需要放在里面的地方`<h:form>`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:22:47.700

感谢您的回复:) 下面的代码对我来说很好

```
<h:form id="loginForm"> 
```

在 JavaScript 中

`jQuery('#loginForm').fadeOut();`

（#id of`form`代替 #id of `button/link`）

这样我可以隐藏带有图标/按钮的完整表单......

实际上，当我放置按钮/链接时，按钮`<h:form>`id 内的图标对 javaScript 不可见

当我给 id`<h:form>`并隐藏整个表单而不是单个组件（按钮）时，它对我来说很好:)

我会试试这个，`<p:menutem/>`希望它在那里能正常工作......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-25T10:45:55.213

您可以仅使用以下命令仅隐藏表单中的元素，而不是隐藏完整的表单：

```
<h:form id="loginForm">
    <h:outputLink id="loginLink" />
</h:form>

<script type="text/javascript">
    function handleLoginRequest(xhr, status, args) {
        dlg.hide();
        $("[id='loginForm:loginLink']").fadeOut();
    }
</script> 
```

在上面的例子中，jQuery 对 id 中的“:”进行了转义。

您还可以使用 JSF 的绑定：

```
<h:form>
    <h:outputLink binding="#{loginLink}"/>
</h:form>

<script type="text/javascript">
    function handleLoginRequest(xhr, status, args) {
        dlg.hide();
        $("[id='#{loginLink.clientId}']").fadeOut();
    }
</script> 
```

选择你的选择;-)

# vb.net - VS.Net 2008 中的“异步处理 = true”和 Quickwatch / Watch 问题

> ID：12106049
> 
> 赞同：3
> 
> 时间：2012-08-24T08:51:07.100
> 
> 标签：vb.net, debugging, visual-studio-2008, asynchronous, sqlconnection

我最近在尝试使用 VS.Net 2008 中的 Quickwatch 或 Watch 检查属性值时遇到了一个问题。经过一番调查，发现 SqlConnections 的连接字符串上有“Asynchronous Processing=true”（到 MSSQL 2008 server) 导致在第一个查询似乎成功完成后，调试器中的属性评估超时。

以下内容有望阐明我的问题（注意您需要更改数据源名称才能运行它）：

```
Imports System.Data.SqlClient

Public Class Thing
    Private Function DoSqlQuery() As Integer
        Using conn As New SqlConnection("Data Source=MYSERVER;Initial Catalog=master;Integrated Security=SSPI;Asynchronous Processing=true;")
            conn.Open()

            Using cmd As New SqlCommand("SELECT COUNT(*) FROM sys.tables", conn)
                Return DirectCast(cmd.ExecuteScalar(), Integer)
            End Using
        End Using
    End Function

    Public ReadOnly Property Value() As Integer
        Get
            Return DoSqlQuery()
        End Get
    End Property

    Public ReadOnly Property Value2() As Integer
        Get
            Return DoSqlQuery()
        End Get
    End Property

    Public Shared Sub Main()
        Dim t As New Thing
        t = t ' Put a breakpoint here.
    End Sub
End Class 
```

在行上放一个断点`t = t`，然后是 Quickwatch（或添加一个 Watch），然后展开`t`以查看属性值。经过长时间的延迟（大约 10 到 20 秒）后，扩展完成，两个属性值中只有一个可用 - 例如

![两个属性值中只有一个可用](../Images/b4b480db0bde6adec36cd93e8ff418f3.png)

现在，如果将连接字符串更改为 remove`Asynchronous Processing=true;`或将该属性的值更改为`false`，则一切正常。

我很想知道是否有人遇到过这个问题并且可以提供解决方法，而不是从连接字符串中删除属性。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:33:53.587

这似乎是 Visual Studio 2008 中的一个错误 - 虽然它可能没有什么安慰，但它似乎已在 Visual Studio 2010（和 2012）中得到解决。

# joomla2.5 - 为表单中输入的每一行选择可以阅读文档的用户

> ID：12106054
> 
> 赞同：0
> 
> 时间：2012-08-24T08:51:13.680
> 
> 标签：joomla2.5, joomla-extensions

我制作了一个应用程序，在其中上传所有用户都可以看到的文件。我为此使用了 Joomla Fabrik。

现在对于我上传的每个文件/行，我想选择可以看到该文件的用户。这些用户必须能够通过单击某个复选框来确认他们已阅读文件，以便我可以检查每个人是否都阅读了该文件。

请帮忙，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:26:59.513

这个解决方案是一个相当基本的解决方案，作为一个权限表。

用列创建一个新表（我的只是一个例子） FILE_IDENTIFICATOR USER_IDENTIFICATOR CAN_READ HAVE_READ

此表将包含文件用户关联。如果用户可以读取文件，只需将 CAN_READ 设置为 true。如果用户已检查他是否已阅读，请将 HAVE_READ 设置为 true（默认情况下 HAVE_READ 应为 false）。FILE_IDENTIFICATOR 和 USER_IDENTIFICATOR 取决于您的系统实现。每次您向用户授予文件访问权限时，都可以将行添加到此表中，或者您可以添加所有用户-文件关联（认为这可能会导致表变大）。

这是一种简单的方法，仅使用表访问操作，但您必须对检查 CAN_READ 和 HAVE_READ 标志并添加文件用户关联的工作流程进行建模。

# javascript - 在 Ext JS 4 MVC 应用程序中，应该由什么负责加载商店？

> ID：12106055
> 
> 赞同：6
> 
> 时间：2012-08-24T08:51:16.590
> 
> 标签：javascript, model-view-controller, extjs4, extjs-mvc

考虑一个具有自定义过滤逻辑和不同加载模式的复杂应用程序；隐藏时延迟加载，隐藏时不加载，但在显示时加载并在修改自定义过滤器时重新加载等。

mvc 应用程序的哪一部分应该负责加载，以及如何将它们全部连接起来？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-24T16:50:42.067

当我开始使用 MVC 时，我从未从 Sencha 那里找到明确的答案，但我可以告诉你我为一些应用程序成功做了什么。

我根据它们的使用方式创建和加载我的商店。对我来说，这似乎分为三个不同的类别：

1.  适用于整个应用的商店

2.  适用于所有视图实例的存储

3.  绑定到单个视图*实例的商店*

**1\. 适用于整个应用的商店**

我通常有一个“主”控制器来处理我的应用程序的框架，比如键盘导航、主菜单等。

属于上述第一类的商店位于此“主”控制器的`stores`数组中。如果这些商店不依赖于另一家商店，那么我只需制作它们`autoLoad: true`并完成它们。但是在它们依赖于另一个存储数据的情况下，我会向父存储添加一个侦听器，以在父`onLoad`事件中加载依赖存储。

我发现属于第一类的一些商店的一个例子是我在整个应用程序的组合框中使用的参考商店，通常在许多不同类型的视图中。这些通常配置有`autoLoad: true`，然后我再也不会为该用户的会话加载它们。每当我需要一个使用参考存储的组合框时，我都可以这样设置：

```
{
    xtype: 'combobox',
    allowBlank: false,
    forceSelection: true,
    store: Ext.getStore('SomeReferenceStore'),
    queryMode: 'local', // this makes sure the store doesn't reload
    valueField: 'id',
    displayField: 'name'
} 
```

举两个都属于第一类的商店的例子，其中一个依赖于另一个：

在我的一个应用程序中，我拥有动态数量的用户权限，当用户登录应用程序时，我需要获取不同的权限并修改`User`模型以包含每个不同权限的布尔字段：

```
Ext.define('MyApp.controller.Main', {
    extend: 'Ext.app.Controller',

    models: [
        'User', 
        'Reference',
        // etc...
    ],

    stores: [
        'CurrentUser', 
        'PermissionRef', // this is "autoLoad: true"
        // etc...
    ],

    init: function() {
        var me = this;       

        // update the user model and load the user
        me.getPermissionRefStore().on('load', function(store, records) {
            var model = me.getUserModel(),
                fields = model.prototype.fields.getRange();

            // append the permissions onto the User model fields
            Ext.each(records, function(permission) {
                fields.push({
                    name: permission.get('name'), 
                    type: 'bool',
                });
            });

            // update the user model with the permission fields
            model.setFields(fields);

            // load the current user
            me.getCurrentUserStore().load();

            // other stuff...

        });

        // other stuff...

    }

}); 
```

有了这个，每当我需要对用户的引用以及他有哪些可用权限时，我只需调用：

```
var user = Ext.getStore('CurrentUser').first(); 
```

有时，视图也将依赖于正在加载的商店。例如，我的主菜单项由数据库表确定，在这种情况下，我将以`onLoad`相同的方式包含一个侦听器（在控制器的`init`函数内部）：

```
// create the menu once we know what menu items are available
me.getMenuStore().on('load', function(store) {
    me.getViewport().add(Ext.widget('mainpanel'));            
}); 
```

本身将`MyApp.store.Menu`配置为`autoLoad: true`.

**2\. 适用于所有视图实例的存储**

我像第一个类别一样创建和加载这些，只是我将它们放在特定*视图*控制器的`stores`数组中，而不是“主”控制器`stores`数组中。

然后这是相同的基本概念，`autoLoad: true`如果它们依赖于另一家商店的数据，则有些不是。

对于那些不是`autoLoad: true`它们的人，它们会被加载到控制器`init`函数内部的某个地方，或者是某些事件被触发的结果。

**3\. 绑定到单个视图*实例的商店***

在这里，我可能会反对 MVC 粒度，但是对于应用到单个视图实例的存储来说，确实没有比在视图本身内部更好的地方了。

在大多数情况下，我什至没有将这些商店放在视图控制器的`stores`数组中。`initComponent`我只是在视图的函数中创建并加载它们。因此，当视图被销毁时，不再有对 store 的引用，因此 store 也将被销毁。这有助于减少可以多次创建的商店的资源。

例如，假设您有一个`MyApp.view.UnicornWeightGrid`扩展 a`gridpanel`并显示独角兽随时间逐渐增加的权重的 a。用户可以`UnicornWeightGrid`为领域中的所有独角兽打开一个用于比较和交叉引用的目的。的不同实例与 的实例一样`UnicornWeightStore`多`UnicornWeightGrid`。

视图可以这样定义：

```
Ext.define('MyApp.view.UnicornWeightGrid', {
    extend: 'Ext.grid.Panel',
    alias: 'widget.unicornweight',
    requires: [
        'MyApp.model.UnicornWeight'
    ],
    closable: true,    
    initComponent: function() {
        var me = this;

        me.store = Ext.create('Ext.data.Store', {
            model: 'MyApp.model.UnicornWeight',
            proxy: {
                type: 'ajax',
                url: 'unicorns/weight',
                extraParams: {
                    name: me.unicornName
                }
            }
        });

        me.store.load();
    });
}); 
```

然后，每当我们想获得不`UnicornWeightGrid`同时，我们可以简单地调用：

```
var grid = Ext.widget('unicornweight', {
    unicornName: someUnicornNameVariable
});

myTabPanel.add(grid); 
```

我需要的任何`onLoad`在视图中定义的商店的侦听器，我也附加在视图中。所以我真的不需要其他任何地方的参考。

尽管如此，这绝不是设置商店的唯一方法。

我发现这是在创建几个不同的 ExtJS “MVC”应用程序时始终如一地处理商店的最可行的方法，但有时在“特殊”情况下我也会以不同的方式做。

您应该记住，“MVC”是一种非常松散的设计模式，它在我使用过的几乎每一个框架中都有不同的定义和实现。所以你几乎可以做任何最适合你的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T16:18:23.737

您应该将逻辑加载到将显示此商店的网格控制器中的商店。我把它们放在`afterrender`事件的处理程序中。

# jquery - 如何将所选课程添加到主页（href="/"）

> ID：12106058
> 
> 赞同：1
> 
> 时间：2012-08-24T08:51:20.767
> 
> 标签：jquery, menu, selecteditem, pathname

好吧，我可以`li`通过使用将所选类添加到菜单中的父项

```
$(function(){
   var path = location.pathname.substring(1);
   if ( path )
     $('#main-menu a[href$="' + path + '"]').parent('li').addClass('selected');
}); 
```

但它不适用于我的主页`href="/"`。我如何更改此功能以在其处于活动状态时**将所选课程添加**到主页？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T08:53:26.477

**根据有关您的 URL 格式的新信息进行**编辑，我会这样做：****

 **```
$(function() {
    $('#main-menu a').filter(function() {
        return this.href === location.href;
    }).parent('li').addClass('selected');
}); 
```

使用该`.filter`函数并比较`.href` *属性*会检查完整的 URL，而不是可能出现在`href` *属性*中的相对 URL 。**

# symfony - 我应该把上传功能放在哪里 - Symfony2

> ID：12106059
> 
> 赞同：0
> 
> 时间：2012-08-24T08:51:22.013
> 
> 标签：symfony

我正在阅读并尝试应用[这篇关于 File Uploads](http://symfony.com/doc/current/cookbook/doctrine/file_uploads.html)的文章，但是有一个问题。据说这是：

```
if ($form->isValid()) {
    $em = $this->getDoctrine()->getEntityManager();

    $document->upload();

    $em->persist($document);
    $em->flush();

    $this->redirect(...);
} 
```

应该进入控制器，这里是`upload`函数的定义

```
public function upload()
{
    // the file property can be empty if the field is not required
    if (null === $this->file) {
        return;
    }

    // we use the original file name here but you should
    // sanitize it at least to avoid any security issues

    // move takes the target directory and then the target filename to move to
    $this->file->move($this->getUploadRootDir(), $this->file->getClientOriginalName());

    // set the path property to the filename where you'ved saved the file
    $this->path = $this->file->getClientOriginalName();

    // clean up the file property as you won't need it anymore
    $this->file = null;
} 
```

但是我应该把这个放在哪里？我在控制器中尝试了调用它的操作并发生错误 -`Fatal error: Call to undefined method...`我还尝试将它放在不同的类和文件中，并使用 use 添加其命名空间，但错误仍然存​​在。你能告诉我错误在哪里吗？:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T08:59:07.510

如果您仔细查看代码，您会发现上传是作为文档对象的函数调用的：

```
$document->upload(); 
```

所以，这就是它应该去的地方，在你的 Document 实体类中

# php - 从 iis7 中的 wordpress URL 中删除 index.php

> ID：12106064
> 
> 赞同：10
> 
> 时间：2012-08-24T08:51:40.160
> 
> 标签：php, wordpress, iis-7, url-rewriting, permalinks

我想从 url 中删除 index.php ，我正在使用 wordpress 和 iis7 。我怎样才能做到这一点

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-09-27T12:16:27.280

使用这个 web.config

*（web.config是IIS相当于apache webservers中的.htaccess文件，可以在根目录下找到，如果没有，需要自己创建一个。）*

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
<system.webServer>
 <defaultDocument>
     <!-- Set the default document -->
      <files>
        <remove value="index.php" />
        <add value="index.php" />
      </files>
    </defaultDocument>
        <httpErrors errorMode="Detailed"/>
    <rewrite>
        <rules>
            <rule name="wordpress" patternSyntax="Wildcard">
                <match url="*" />
                    <conditions>
                        <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                        <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
                    </conditions>
                <action type="Rewrite" url="index.php" />
            </rule>
        </rules>
    </rewrite>
</system.webServer>
</configuration> 
```

然后在永久链接页面中，设置“自定义结构”并给出值`/%postname%/`

请注意，**需要安装特定于 IIS 版本的 URL 重写模块**才能运行（感谢@Spikolynn 在下面的评论）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-16T10:34:17.083

在您使用 Windows Azure 网站的情况下，另一个非常快速的解决方案是使用`Microsoft WebMatrix`登录到您的网站并创建一个 web.config 文件[，正如本文指出的那样](http://www.bousie.co.uk/blog/pretty-wordpress-permalinks-on-azure/)。这样就解决了。无需自己安装`URL Rewrite extension`或类似的东西。MS Webmatrix 似乎很容易解决这个问题。

# android - 如何处理 phonegap 中的图像损坏或截断错误

> ID：12106066
> 
> 赞同：2
> 
> 时间：2012-08-24T08:51:55.690
> 
> 标签：android, jquery, html, jquery-mobile, cordova

在 Firefox 中处理 localhost 时出现错误“图像损坏或截断”，但服务器上的同一页面不会产生此类错误。我已使用同一页面使用 phonegap 开发 android 应用程序并加载图像我的应用程序被终止，“强制退出”。

我使用以下代码嵌入了图像：-

```
$("#logo").attr('src', 'url'); 
```

html代码如下：

```
<img style="width:190px; height: 145px; margin-top: 0%;" id="logo"/> 
```

仅显示某些图像时会发生此类错误，其余部分可以正常工作。请提及处理此类图像的此错误的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T08:58:06.890

您可以尝试将 jQuery 错误处理程序附加到图像元素。

```
$('#logo').error(function() {
    alert('An error occurred when loading the image!.')
}).attr("src", URL); 
```

您可以将调用链接到`.error()`和`attr()`，这样您就不必执行两个命令。

当该元素上出现 JavaSctipt 错误时，将触发错误回调。

取自[jQuery 文档](http://api.jquery.com/error/)-

> 错误事件被发送到由文档引用并由浏览器加载的元素，例如图像。如果元素未加载，则调用它。

关于您的问题的一些更多相关信息（在本地工作） -

> **必须在浏览器触发错误事件之前附加事件处理程序**，这就是示例在附加处理程序后设置 src 属性的原因。此外，当页面在本地提供时，错误事件可能不会正确触发；**error 依赖于 HTTP 状态码，如果 URL 使用 file: 协议，一般不会触发。**

# time - Jboss集群复制时间

> ID：12106071
> 
> 赞同：1
> 
> 时间：2012-08-24T08:52:08.747
> 
> 标签：time, jboss, load-balancing, session-replication

我正在为我的应用程序使用集群设置，其中我使用 mod_cluster 作为负载平衡器，使用 Jboss 作为应用程序服务器。基本上，每当一个节点发生故障时，都需要一些时间（在我的情况下是 10-15 秒）将整个会话复制到另一个节点即使它立即将请求转发到新节点，但复制整个会话至少需要 10 秒，如果我尝试在 10 秒之前访问该应用程序，则页面显示会话已过期但如果我尝试在 10 秒后访问它秒它工作得很好。所以基本上想知道为什么即使我的会话只有1个字符的变量，为什么要花这么多时间，我怎样才能最小化这个时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T14:55:05.353

你的 AS 版本是多少？过去 AS7 的早期版本存在一些问题：[https ://issues.jboss.org/browse/AS7-1755](https://issues.jboss.org/browse/AS7-1755)

# sql - 是否存在关于 ActiveRecord 关系的困惑？方法，尤其是限制和偏移

> ID：12106074
> 
> 赞同：4
> 
> 时间：2012-08-24T08:52:22.903
> 
> 标签：sql, ruby-on-rails, activerecord, ruby-on-rails-3.2

我正在运行 Rails 3.2.8 和 ruby​​ 1.9.3p194。

我试图更好地理解究竟是如何存在的？方法在 activerecord 中起作用。我得到了一些我不明白的奇怪结果......为了清楚起见，我将在这里简化我的代码。

想象一下，我有一个包含用户列表的用户模型。

1 安迪，男
2 杰克，男
3 凯茜，女
4 迈克，男

我有男性的范围，所以：

```
User.male => [#< User id: 1, name: Andy, gender: male>, #< User id: 2, name: Jake, gender: male>, #< User id: 4, name: Mike, gender: male>] 
```

好的。现在：

```
a = User.find 1 => #<User id: 1, name: Andy, gender: male>  
b = User.find 2 => #<User id: 2, name: Jake, gender: male> 
c = User.find 3 => #<User id: 3, name: Cathy, gender: female> 
d = User.find 4 => #<User id: 4, name: Mike, gender: male> 

User.male.exists?(a) => true  
User.male.exists?(b) => true  
User.male.exists?(c) => false  
User.male.exists?(d) => true 
```

好的，这是有道理的。然而：

```
User.male.limit(1) => [#<User id: 1, name: Andy, gender: male>]

User.male.limit(1).exists?(a) => true  
User.male.limit(1).exists?(b) => true  
User.male.limit(1).exists?(c) => false  
User.male.limit(1).exists?(d) => true 
```

为什么存在？（b）和存在？（d）返回true？是不是因为限制实际上并没有改变仍然是所有男性用户的查询，并且限制（1）只是一个显示的东西？我可以买这个，但是如果我只想存在，那么正确的查询是什么？（a）返回true，其他一切都返回false？

好的，现在这真的让我完全困惑：

```
User.male.limit(1).offset(1) => [#<User id: 2, name: Jake, gender: male>]  

User.male.limit(1).offset(1).exists?(a) => false
User.male.limit(1).offset(1).exists?(b) => false
User.male.limit(1).offset(1).exists?(c) => false
User.male.limit(1).offset(1).exists?(d) => false 
```

为什么这里的一切都返回假？我想要存在？（b）返回真，我完全不知道为什么它不存在。如果有人能启发我，我将不胜感激。我浏览了文档无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:42:06.483

`User.male`添加 where 子句“性别 = 男性”

`.exists?(a)`添加一个额外的子句“id = 1”

`limit 1``limit 1`只需在 where 子句之后添加一个。

所以`User.male.limit(1).exists?(a)`会生成 `SELECT 1 FROM`用户`WHERE`用户`.`id`= 1 AND (gender =`男`) LIMIT 1`

所以之所以`.exists?(x)`起作用，是因为它将 id 添加到 where 子句中，从而选择了相关记录。

也`offset(1)`不起作用，因为当您放置时您只会获得 1 条匹配的记录，`exists?(x)`并向其添加偏移量（1）意味着它应该在该记录之后查找记录。

# c# - 使用 dotCover 和 TeamCity 可视化测试覆盖率的变化

> ID：12106077
> 
> 赞同：1
> 
> 时间：2012-08-24T08:52:43.373
> 
> 标签：c#, .net, teamcity, code-coverage, dotcover

有什么方法可以可视化两次构建之间 dotCover/TeamCity 中测试代码覆盖率的变化？今天我们能够看到与之前构建相比的整体变化（例如 70% -> 70.1%），但是确定添加或删除了哪些代码测试行是一个繁琐的过程。并排查看具有不同覆盖范围的文件会非常好。

我更喜欢 dotCover/TeamCity 的解决方案，但对其他可能性持开放态度。

# iphone - 如何在用户水平滚动时禁用垂直滚动？

> ID：12106078
> 
> 赞同：2
> 
> 时间：2012-08-24T08:52:46.903
> 
> 标签：iphone, ios, uiscrollview, uiscrollviewdelegate

我有`UIScrollView`一个`UIView`。我正在使用我`UIScrollView`的 pagingEnabled 模式。我不想让用户同时双向滚动。我的意思是，如果用户开始水平滚动，我想禁用垂直滚动，反之亦然。我怎样才能做到这一点？

谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-24T08:55:48.247

尝试使用 UIScrollView 的属性 directionalLockEnabled

```
 directionalLockEnabled A Boolean value that determines whether
 scrolling is disabled in a particular direction

 @property(nonatomic, getter=isDirectionalLockEnabled) BOOL
 directionalLockEnabled Discussion If this property is NO, scrolling is
 permitted in both horizontal and vertical directions. If this property
 is YES and the user begins dragging in one general direction
 (horizontally or vertically), the scroll view disables scrolling in
 the other direction. If the drag direction is diagonal, then scrolling
 will not be locked and the user can drag in any direction until the
 drag completes. The default value is NO

 Availability Available in iOS 2.0 and later. Declared In
 UIScrollView.h 
```

# mysql - 从另一个表更新一个表并抓取不匹配的行

> ID：12106082
> 
> 赞同：0
> 
> 时间：2012-08-24T08:53:12.810
> 
> 标签：mysql, sql, database

我有一家吉他店，还有一个与之配套的网站。

许多其他持续存在的问题包括供应商的价格变化，因此我试图通过将每个价目表上传到我的数据库中的预先格式化的表中，然后通过 sku 相应地更新行来将产品同步到供应商价目表。

所以，拿 Gibson 吉他来说，我有一张桌子`products`和一张桌子`PriceList_gibson`，看起来像这样（简化）：

```
**Products:**
id    |    sku    |    description    |    cost     .... more fields

**PriceList_gibson**
id    |    sku    |    description    |    trade    .... more fields 
```

我有一个看起来像这样的网络方法：

```
<System.Web.Services.WebMethod()> _
Public Shared Function syncPrices(supplierId, tableName)

    Try
        Common.changeData("UPDATE " & tableName & " p, products pp SET pp.rrp= p.rrp, pp.cost= p.trade,  pp.upc= CASE WHEN p.upc <> '' THEN  p.upc ELSE  pp.upc END WHERE pp.sku= p.sku AND pp.supplier ='" & supplierId & "'")
        Return "success|Prices Synced"
    Catch ex As Exception
        Return "error|" & ex.ToString
    End Try

End Function 
```

关键部分是分解后的 SQL 语句，如下所示：

```
UPDATE " & tableName & " p, products pp 
     SET 
         pp.rrp= p.rrp,  
         pp.cost= p.trade, 
         pp.upc= CASE WHEN p.upc <> '' THEN  p.upc ELSE  pp.upc END 
     WHERE pp.sku= p.sku AND pp.supplier ='" & supplierId & "' 
```

显然`tableName`和`supplierId`是从调用此函数传入的变量，并确定我们正在处理的供应商价格，因此，要查看数据库中的哪些产品。

这很好用，它将`sku`产品表中的`sku`字段与供应商价目表中的字段匹配，并相应地更新价格相关字段，如果可用，还更新 UPC。

有两种情况没有处理：

*   如果产品停产，`sku`将找不到匹配项，因为该项目已从价目表中删除，但可能仍保留在`products`表中
*   如果 a`sku`被错误地输入到`products`表中，匹配将失败。

所以，我想要做的是获取与正在更新的供应商价目表匹配但未出现在价目表中`supplierId`的项目列表。`products`

我当然可以通过循环记录来做到这一点，但是我将如何使用 1 条 sql 语句来做到这一点，或者更好的是，将其合并到上面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:00:46.160

**编辑：**要获取存在`product`但不存在于`" & tableName & "`...中的行

```
SELECT
  *
FROM
  product                 pp
LEFT OUTER JOIN
  " & tableName & "       p
    ON p.sku= pp.sku
WHERE
  pp.supplier = '" & supplierId & "'
  AND p.sku IS NULL 
```

或者...

```
SELECT
  *
FROM
  product
WHERE
  supplier = '" & supplierId & "'
  AND NOT EXISTS (SELECT * FROM " & tableName & " WHERE sku = product.sku) 
```

# matlab - 找到低通滤波器的截止频率的函数（在matlab中）

> ID：12106088
> 
> 赞同：2
> 
> 时间：2012-08-24T08:53:35.290
> 
> 标签：matlab, frequency, lowpass-filter

我想找到很多低通滤波器的截止频率。因此，我想要一个可以为我做到这一点的功能。我可以制作一个波特图并找到 -3dB 的频率，但这既无聊又耗时。有人知道我如何自动执行此过程吗？我正在尝试

```
[mag,phase] = bode(sys) 
```

但失败了。我该怎么办？

我有滤波器系数`a`，`b`可用。当我离散化变换函数时，我尝试使用一些不同的技术，因此我希望根据经验从 EKV 中获得截止频率：

```
y_k = b(1)*x_k + b(2)*x_{k-1} – a(2)*y_{k-1} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T14:13:43.597

您可以在 LTI 对象（传输函数等）上使用[带宽命令：](http://www.mathworks.com/help/toolbox/control/ref/bandwidth.html)

```
G = tf(1, [1 1])
bandwidth(G)

ans =

    0.9976 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-24T14:42:38.137

如果您没有控制系统工具箱，您可以这样做：

```
% some filter
[b, a] = butter(5, 0.6);

% Determine frequency response
[h, w] = freqz(b, a, 2048);

% linear approximation of 3 dB cutoff frequency
ind = find(abs(h) < sqrt(1/2), 1, 'first');
slope = (abs(h(ind)) - abs(h(ind - 1))) / (w(ind) - w(ind - 1));
w_3dB = ( sqrt(1/2) - abs(h(ind - 1)) + slope * w(ind - 1) ) / slope;

% check result
figure; plot(w,abs(h))
hold on;
plot(w_3dB, sqrt(1/2), 'rx'); 
```

Addmitedly，您将需要 DSP Toolbox for `freqz()`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-28T19:40:10.047

matlab中有一个函数可以给你你的截止频率，它叫做'freqz'

如果您已经知道您的滤波器系数“a”和“b”。然后 freqz 提供两个变量输出。一个变量存储复数幅度增益，另一个变量存储归一化频率。基本上，您需要做的就是运行一个循环，找到最接近您的通带增益负 3dB 的增益。然后读出你的频率变量的相应指数，你就有了答案。

# javascript - JavaScript charAt() 不喜欢不为零的用户输入

> ID：12106097
> 
> 赞同：3
> 
> 时间：2012-08-24T08:54:11.030
> 
> 标签：javascript, html

这可能是一个愚蠢的问题或错字，但我还是要问......我有以下表格，当提交表格时，我想检查所有的值`input type="number"`并确保用户是否有一些原因是在输入的开头放置一个零，例如 01、025、0100，只要值不为零，就可以删除第一个零。使用 jQuery 选择器让一段简单的 JavaScript 变得更加容易。请注意，这里的所有文本框`type="number"`都不是`type="text"`，请注意我的输入

![在此处输入图像描述](../Images/dc8e7c7e8797001ceb653be217e3979f.png)

这是我的代码：

```
$('input[type=number]').each(function(){
    // only if the string is not zero
    if(this.value.charAt(0) == "0" && this.value != "0"){
        this.value = this.value.substring(1);
    }   
}); 
```

然而，当我回来完全测试我的表格时，我注意到我的代码不起作用！所以我添加了以下内容以写入控制台以检查发生了什么：

`console.log("typeof:" + typeof(this.value) + " " + this.id + " char:" + this.value.charAt(0) + " val:" + this.value )`

这给了我以下输出，请注意最后 4 个不具有零值的项目：

![在此处输入图像描述](../Images/900ab37691c931d8c19a59a8994c8755.png)

`this.value.charAt(0)`当用户更改默认值零时，为什么我没有收到？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:03:57.283

您的值中似乎有空格。在比较之前修剪它（例如使用[jquery](http://api.jquery.com/jQuery.trim/)，或者如果您不想为此包含 jquery ，[请参见此处）：](https://stackoverflow.com/questions/498970/how-do-i-trim-a-string-in-javascript)

```
$('input[type=number]').each(function(){
    // only if the string is not zero
    var myval = $.trim(this.value);
    this.value = myval.replace(/^[0]+/g,"");

}); 
```

上述解决方案删除了​​任意前导零，该部分取自[this answer to a similar question](https://stackoverflow.com/a/1265228/671366)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-24T09:01:34.283

这可以减少一些：

```
$('input[type=number]').each(function() {
    this.value = this.value.replace(/^\s*0+(?=\d)/, '');
}); 
```

这将删除任何前导零，即使有前导空格（这可能是你的问题）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T08:58:48.263

看起来由于某种原因前面有空格 - 在您的零检查之前使用 jQuery 的修剪功能以确保您已经消除了空格。

# c - 如何在 Microchip C30 编译器中创建指向常量数组的指针数组

> ID：12106103
> 
> 赞同：1
> 
> 时间：2012-08-24T08:54:20.970
> 
> 标签：c, microchip

我正在尝试创建一个包含指向常量数组的指针的数组。我在 MPLABX 中使用 C30 V3.31，我正在尝试使用 PIC24FJ128GA310 为我的 LCD 创建分段映射。这个想法是将所有 LCD 数字放在常量数组中，然后有一个数组包含指向 LCD 的所有数字的指针，以便于访问。代码段如下所示：

```
enum SEGS 
 {    
   SEG_1A = COM0 |0 , SEG_1B = COM0 |53, SEG_2A = COM0 |33, SEG_K1 = COM0 |44,
   SEG_K2 = COM0 |22, SEG_K8 = COM0 |21, SEG_4A = COM0 |62, SEG_4B = COM0 |61,      
   SEG_5A = COM0 |60, SEG_5B = COM0 |59, SEG_6A = COM0 |58, SEG_6B = COM0 |50,     
   SEG_7A = COM0 |61, SEG_7B = COM0 |48, SEG_8A = COM0 |59, SEG_8B = COM0 |26,    
   SEG_9A = COM0 |25, SEG_9B = COM0 |24, SEG_10A= COM0 |23, SEG_10B= COM0 |45,    
   SEG_2B = COM0 |52, SEG_3A = COM0 |32, SEG_3B = COM0 |51, SEG_S3 = COM0 |24 
 } 

 const BYTE DIGIT1[] = {SEG_1A,SEG_1B,SEG_1C,SEG_1D,SEG_1E,SEG_1F,SEG_1G}; 
 const BYTE DIGIT2[] = {SEG_2A,SEG_2B,SEG_2C,SEG_2D,SEG_2E,SEG_2F,SEG_2G}; 
 const BYTE DIGIT3[] = {SEG_3A,SEG_3B,SEG_3C,SEG_3D,SEG_3E,SEG_3F,SEG_3G}; 
 const BYTE DIGIT4[] = {SEG_4A,SEG_4B,SEG_4C,SEG_4D,SEG_4E,SEG_4F,SEG_4G}; 
 const BYTE DIGIT5[] = {SEG_5A,SEG_5B,SEG_5C,SEG_5D,SEG_5E,SEG_5F,SEG_5G}; 
 const BYTE DIGIT6[] = {SEG_6A,SEG_6B,SEG_6C,SEG_6D,SEG_6E,SEG_6F,SEG_6G}; 
 const BYTE DIGIT7[] = {SEG_7A,SEG_7B,SEG_7C,SEG_7D,SEG_7E,SEG_7F,SEG_7G}; 
 const BYTE DIGIT8[] = {SEG_8A,SEG_8B,SEG_8C,SEG_8D,SEG_8E,SEG_8F,SEG_8G}; 
 const BYTE DIGIT9[] = {SEG_9A,SEG_9B,SEG_9C,SEG_9D,SEG_9E,SEG_9F,SEG_9G}; 
 const BYTE DIGIT10[] = {SEG_10A,SEG_10B,SEG_10C,SEG_10D,SEG_10E,SEG_10F,SEG_10G}; 

 const BYTE * const Digits[] ={ 
 DIGIT1,DIGIT2,DIGIT3,DIGIT4,DIGIT5,DIGIT6,DIGIT7,DIGIT8,DIGIT9,DIGIT10}; 

 enum DIGITS {DIG1,DIG2,DIG3,DIG4,DIG5,DIG6,DIG7,DIG8,DIG9,DIG10}; 

 //... FUNCTIONS
 void DisplayDigit2(BYTE idx,BYTE Mask) 
 {    
      BYTE digit = *Digits[idx];    
      for(i=0; i<8;i++){        
           DisplaySeg(digit,(Mask&1));        
           Mask >>=1;    
      } 
 } 

 void DisplaySeg(BYTE segcode,BOOL state) 
 {    
      BYTE mapbyte,com,bitmap,index;    
      com = (segcode&0xC0)>>6;    
      segcode = (segcode & 0x3F);    
      index = segcode/16;    
      mapbyte = (com * 4) + index;    
      bitmap = (segcode%16);    
      if (state)        
           lcdvals[mapbyte] |= (1<<bitmap);    
      else        
           lcdvals[mapbyte] &= ~(1<<bitmap); 
 } 
 ... 
 //Calling the function 
 DisplayDigit2(DIG1,ONE); 
```

谁能帮我确认我做对了吗？代码编译没有任何错误或警告，我可以在监视窗口中看到所有变量和指针，但函数 DisplayDigit2() 没有完全执行。

当我单步执行时，调试器在第一行停止，

```
 BYTE digit = *Digits[idx]; 
```

并且简单在状态栏中显示此消息“用户程序已停止”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T17:27:09.357

你提到

> 字节数 = *Digits[idx];

我认为您正在尝试访问 Digits[0] 这将是 DIGIT1[] 数组。您想在其中使用 for 循环访问所有 7 个值。如果是这样，分配 BYTE digit = *Digits[idx] 可能不起作用。尝试

> 字节 * 数字 = 数字[idx]

因此，您将 Digits[0] 内的指针分配给本地指针。您还需要调整 DisplaySeg 代码。另外，我不确定您声明时会发生什么

> 常量字节 * 常量数字[]

只是，

> 常量字节 * 数字[]

应该足够了。:)

希望它可以帮助阿迪亚

# jquery - 如何将 CSS 应用于在 jQuery 对话框中打开的 HTML 页面？

> ID：12106104
> 
> 赞同：0
> 
> 时间：2012-08-24T08:54:25.347
> 
> 标签：jquery, asp.net, css, jquery-dialog

我有一个包含所有 div 和 CSS 的 HTML 页面，该页面通过 jQuery 对话框显示在 ASPX 页面中。我已将我的 CSS 应用到 ASPX 页面和 HTML 页面，但仍未应用 CSS。

我有以下代码：

```
<script type="text/javascript">

    $(function () {
        $('#Dialog').dialog({
            autoOpen: false, width: 800, height: 600, modal: true            
        });
    });

    $('.mosaic-overlay').live('click', function (e) {
        var url = $(this).attr('href');

        alert(url);

        $('#Dialog').html('').dialog('open').load(url);

        //        .load(url);
        e.preventDefault();
    });
</script> 
```

如何动态地将 CSS 应用到我的 HTML 页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T08:56:48.950

您可能已经在页面上加载了您的 CSS。
调用[load](http://api.jquery.com/load/)加载内容并将其设置为元素的 innerHtml。将应用您页面上的所有 CSS 规则。

或者，所需的 CSS 可能是您从 url 加载的 html 的一部分。
这些 CSS 规则将在您的内容显示之前创建和应用。这种方法会比已经在您的页面中拥有 CSS 慢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T08:56:59.763

要动态设置 css，JQuery 有一个 css 方法 - 请参见此处...

[http://api.jquery.com/css/](http://api.jquery.com/css/)

# c# - 当过滤文本具有单引号时，行过滤失败

> ID：12106105
> 
> 赞同：0
> 
> 时间：2012-08-24T08:54:28.823
> 
> 标签：c#, datatable, rowfilter

正如我的倾斜清楚地提到的那样，我正在尝试使用包含单引号的过滤器文本来过滤数据表。

我的陈述如下

```
dgURComments.ItemsSource).ToTable().Select("URComments = '" + txtComments.Text.Trim() + "'"); 
```

我该如何克服呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:02:12.023

而不是摆弄`DataTable.Select`我会使用[`Linq-To-DataSet`](http://msdn.microsoft.com/en-us/library/bb386977)：

```
IEnumerable<DataRow> rows =  tbl.AsEnumerable()
       .Where(r => r.Field<String>("URComments") == txtComments.Text.Trim()); 
```

如果您需要过滤结果中的 DataTable，您可以使用`CopyToDataTable`

```
DataTable tblFiltered = rows.CopyToDataTable(); 
```

[最低要求是`System.Core.dll`对`System.Linq`. 默认情况下，如果您创建新的 Visual C# 2008 项目，则会提供这些。`LINQ to DataSet`还需要引用`System.Data.dll`and`System.Data.DataSetExtensions.dll`和 using 指令。]

# javascript - 无法在 iPhone / iPad 上延迟两个 JavaScript 操作

> ID：12106106
> 
> 赞同：0
> 
> 时间：2012-08-24T08:54:30.390
> 
> 标签：javascript, jquery, ios, html, spinner

我显示一个加载微调器，以在设备每次旋转后重新加载自定义 pdf 阅读器（在 html 5 中）。它在 android 设备上运行良好，当我在桌面设备上模拟旋转时，但在 iPad 上，我看不到微调器，就好像显示微调器/重新加载 pdf 阅读器/隐藏微调器的操作在“一枪”。我试图延迟 pdf 重新加载，直到显示微调器，但它是同一件事。以下是动作顺序：

```
window.onorientationchange = function() {
           launchSpinnerThenRotate();
}

function launchSpinnerThenRotate(){
    alert(" i'll launchSpinnerThenRotate");
    showSpinner();
    setTimeout(rotatePdfReader(),1000);
} 
```

我已经尝试过 js 和 jquery 函数来显示/隐藏微调器总是具有相同的效果

```
function showSpinner(){
    //$('#pdfReaderSpinner').css("visibility" , "visible");
    document.getElementById('pdfReaderSpinner').style.visibility = "visible";
    document.getElementById('pdfReaderSpinner').style.zIndex = 100000000;
} 
```

我不认为问题出在微调器上，我可以在页面第一次启动时正确显示它，但我必须在 document.ready 函数中显示微调器：

```
$(document).ready(function() { 
    var target = document.getElementById('loadingSpinner');
    spinner = new Spinner({top: 0, left: 0,color:'red'}).spin(target);
    showSpinner();
});

$(window).load(function(){
    initPdfReader();
    hideSpinner();
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T08:56:29.867

更改此行：

```
setTimeout(rotatePdfReader(),1000); 
```

对此：

```
setTimeout(rotatePdfReader,1000); 
```

您想将对该函数的引用传递给 setTimeout，以便可以在 1 秒内调用它。目前，您正在将函数的结果传递给 setTimeout。

# objective-c - NSString 分配/释放/保留

> ID：12106110
> 
> 赞同：4
> 
> 时间：2012-08-24T08:54:46.727
> 
> 标签：objective-c, memory-management

`a`是 的一个实例`NSString`。我想如果我在释放它后打印一个字符串，它会使应用程序崩溃。相反，它返回了分配给它的正确值。我的问题是，即使在释放对象之后，我们还能获得它的值吗？如果不是，为什么我能够看到 的值`a`，即使在它被释放之后？

**。H**

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController
{
    NSString *a;
}

@end 
```

**.m**

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    a=[[NSString alloc]initWithString:@"abc"];

    // Do any additional setup after loading the view, typically from a nib.
}

- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

    NSLog(@"String %@",a);
    [a release];
    NSLog(@"release %@",a);
    [a retain];
    NSLog(@"retain %@",a); 
} 
```

**输出：-**

```
2012-08-24 14:15:49.501 a[1176:f803] string abc
2012-08-24 14:15:53.404 a[1176:f803] release abc
2012-08-24 14:15:55.325 a[1176:f803] retain abc 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:03:09.310

释放任何对象意味着调用者已经完成了它。发布后，尝试访问该对象的结果是未定义的——可能是崩溃，可能是其他人保留了该对象并且它可以正常工作而不会崩溃，也可能是完全不同的事情。

所以，如果你释放一个对象，你不应该尝试在你之前保留（初始化、复制）它的相同范围内访问它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-24T09:29:01.413

`@"abc"`是一个常数，所以它永远不会被释放

感到不同：

```
a = [[NSString alloc] initWithFormat:@"%d", 123]; 
```

它给我崩溃或**释放主**输出，因为它指的是一些内存块

# video - Drupal 7 使用 MediaElement.js 查看幻灯片和媒体 标签

> ID：12106112
> 
> 赞同：0
> 
> 时间：2012-08-24T08:54:49.977
> 
> 标签：video, drupal-7, views, slideshow, mediaelement.js

我有一个简单的drupal 网站，我在该网站上出色地制作了工作视图幻灯片。在其他一些页面上，我通过 MediaElement.js 和 Media drupal 模块通过标签包含了一些带有视频的块。

一切都很好！但是，只要我`<video>`在同一页面上放置视图幻灯片和标签，视频就可以正常工作，但幻灯片不再显示，它只显示视图的第一个结果集。

有没有人尝试过这个问题？我很确定（但可能是错的！）这是一个 javascript 被一个模块（MediaElement.js）占用而没有回到另一个模块（实际上 Views Slideshow 使用 jQuery.cycle）的问题，但我无法得到它工作！

谢谢阅读 ;）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:37:21.177

该死...

如果有人谈到这一点，那只是因为在 /sites/all/libraries/mediaelement 文件“mediaelement.js”不应该在这个根目录中，但是你必须提取所有文件和文件夹，所以 mediaelement.js 在“构建”子目录（所以 /sites/all/libraries/mediaelement/mediaelement.js）。

希望它有帮助，像往常一样！

# charts - 如何在谷歌图表中带来3D效果？

> ID：12106116
> 
> 赞同：4
> 
> 时间：2012-08-24T08:55:17.573
> 
> 标签：charts, google-visualization, bar-chart, jsapi

在[谷歌图表](https://google-developers.appspot.com/chart/interactive/docs/gallery/piechart)中，对于饼图，只需添加即可轻松带来 3D 视图`'is3D':true`。但是我们如何能够获得条形图、柱形图和组合图的 3D 效果，如本[演示所示](http://s3.amazonaws.com/nettuts/677_google/LiveDemo.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:26:11.773

Since I can find the 3D option in [Visualization: Column Chart (Old Version)](https://google-developers.appspot.com/chart/interactive/docs/gallery/columnchart_old) and base on the [answer](http://goo.gl/ARscg).

Looks like the 3D option of column chart (and others) is not available with new version of `Core Charts`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-19T09:49:13.947

```
is3D: true 
```

不幸的是，它不适用于柱形图。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-28T20:47:25.067

还需要将“corechart”替换为“columnchart”

```
google.load("visualization", "1", { packages: ["columnchart"] });
google.setOnLoadCallback(drawChart); 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2013-04-14T10:24:57.810

添加以下内容：

```
is3D: true 
```

例如：

```
var options = {
    title: 'My Pie Chart',
    is3D: true
}; 
```

# android - Android 应用程序无法连接到 Web 服务

> ID：12106117
> 
> 赞同：0
> 
> 时间：2012-08-24T08:55:17.593
> 
> 标签：android

我是 Android 应用程序的新手。我正在使用的代码在另一台装有 Linux 的计算机上工作。但是在我的电脑上有 Windows 7 并且代码不起作用。它无法连接到网络服务。请帮我。

这是代码：

```
package com.example.marport;

import java.io.IOException;

import org.ksoap2.SoapEnvelope;
import org.ksoap2.SoapFault;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;
import org.xmlpull.v1.XmlPullParserException;

import android.app.Activity;
import android.os.Bundle;
import android.widget.EditText;

public class Giriscikis extends Activity {

    final static String NAMESPACE = "http://webservice.marport.dcat.com/";
    final static String METHOD_NAME = "gateOut";
    final static String METHOD_NAME2 = "gateIn";
    final static String SOAP_ACTION = "http://webservice.marport.dcat.com/gateOut";
    final static String SOAP_ACTION2 = "http://webservice.marport.dcat.com/gateIn";
    final static String URL = "http://192.168.1.164:8070/test/services/MarportWebServicePort";

    private EditText cikis;
    private EditText giris;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.giriscikis);

        cikis = (EditText) findViewById(R.id.etCikis);
        giris = (EditText) findViewById(R.id.etGiris);

        SoapObject Request=new SoapObject(NAMESPACE,METHOD_NAME);
        SoapObject Request2 = new SoapObject(NAMESPACE, METHOD_NAME2);

        SoapSerializationEnvelope soapEnvelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
        SoapSerializationEnvelope soapEnvelope2 = new SoapSerializationEnvelope(SoapEnvelope.VER11);

        soapEnvelope.dotNet = false;
        soapEnvelope2.dotNet = false;

        soapEnvelope.setOutputSoapObject(Request);
        soapEnvelope2.setOutputSoapObject(Request2);

        HttpTransportSE aht = new HttpTransportSE(URL);

        try {
            aht.call(SOAP_ACTION, soapEnvelope);
            aht.call(SOAP_ACTION2, soapEnvelope2);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (XmlPullParserException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        try {
            SoapPrimitive result=(SoapPrimitive) soapEnvelope.getResponse();
            SoapPrimitive result2 = (SoapPrimitive) soapEnvelope2.getResponse();
            giris.setText(result2.toString());
            cikis.setText(result.toString());
        } catch (SoapFault e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

} 
```

以下是例外情况：

```
08-24 08:25:40.928: E/AndroidRuntime(631): FATAL EXCEPTION: main
08-24 08:25:40.928: E/AndroidRuntime(631): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.marport/com.example.marport.Giriscikis}: android.os.NetworkOnMainThreadException
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.os.Handler.dispatchMessage(Handler.java:99)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.os.Looper.loop(Looper.java:137)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.ActivityThread.main(ActivityThread.java:4745)
08-24 08:25:40.928: E/AndroidRuntime(631):  at java.lang.reflect.Method.invokeNative(Native Method)
08-24 08:25:40.928: E/AndroidRuntime(631):  at java.lang.reflect.Method.invoke(Method.java:511)
08-24 08:25:40.928: E/AndroidRuntime(631):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
08-24 08:25:40.928: E/AndroidRuntime(631):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
08-24 08:25:40.928: E/AndroidRuntime(631):  at dalvik.system.NativeStart.main(Native Method)
08-24 08:25:40.928: E/AndroidRuntime(631): Caused by: android.os.NetworkOnMainThreadException
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1117)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:84)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.io.IoBridge.connectErrno(IoBridge.java:144)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.io.IoBridge.connect(IoBridge.java:112)
08-24 08:25:40.928: E/AndroidRuntime(631):  at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)
08-24 08:25:40.928: E/AndroidRuntime(631):  at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:459)
08-24 08:25:40.928: E/AndroidRuntime(631):  at java.net.Socket.connect(Socket.java:842)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpConnection.<init>(HttpConnection.java:76)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpConnection.<init>(HttpConnection.java:50)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:341)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:87)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:315)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpEngine.connect(HttpEngine.java:310)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:289)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:239)
08-24 08:25:40.928: E/AndroidRuntime(631):  at libcore.net.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:80)
08-24 08:25:40.928: E/AndroidRuntime(631):  at org.ksoap2.transport.ServiceConnectionSE.connect(ServiceConnectionSE.java:76)
08-24 08:25:40.928: E/AndroidRuntime(631):  at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:146)
08-24 08:25:40.928: E/AndroidRuntime(631):  at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:95)
08-24 08:25:40.928: E/AndroidRuntime(631):  at com.example.marport.Giriscikis.onCreate(Giriscikis.java:53)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.Activity.performCreate(Activity.java:5008)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
08-24 08:25:40.928: E/AndroidRuntime(631):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
08-24 08:25:40.928: E/AndroidRuntime(631):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T08:59:09.137

应用力停止，因为..

```
Caused by: android.os.NetworkOnMainThreadException 
```

**当应用程序尝试在其主线程上执行网络操作时引发的异常。** 查找有关此[NetworkOnMainThreadException的更多信息](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)

**解决方案：**

使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)并将您的网络相关操作放入`doInVBackground()`其中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T08:57:25.727

您正在主 UI 线程上的该 Activity 中执行一些网络活动。每当您的构建目标设置为蜂窝或更高时，这将引发异常。要修复它，请将网络操作移至 AsyncTask。

例子 ：

```
public class MyAsyncTask extends AsyncTask<Void, Void, Result>{
                    private Activity activity;
                    private ProgressDialog progressDialog;

        public MyAsyncTask(Activity activity) {
                        super();
            this.activity = activity;
        }

        @Override
        protected void onPreExecute() {
        super.onPreExecute();
            progressDialog = ProgressDialog.show(activity, "Loading", "Loading", true);
        }

        @Override
        protected Result doInBackground(Void... v) {
        //do your stuff here
        return null;

        }

        @Override
        protected void onPostExecute(Result result) {
            progressDialog.dismiss();
            Toast.makeText(activity.getApplicationContext(), "Finished.", 
                    Toast.LENGTH_LONG).show();
        }
} 
```

从活动中调用它：

```
MyAsyncTask task = new AsyncTask(myActivity.this);
task.execute(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:05:12.733

您是否尝试过禁用 Windows 7 防火墙？

教奶奶吸鸡蛋（有时对奶奶有帮助）=> [http://windows.microsoft.com/en-US/windows-vista/Turn-Windows-Firewall-on-or-off#](http://windows.microsoft.com/en-US/windows-vista/Turn-Windows-Firewall-on-or-off#)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:01:18.573

您可以通过在 setcontentview 行之后添加它来解决它：

```
 StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
        StrictMode.setThreadPolicy(policy); 
```

不过我不推荐它，如果你已经完成了代码测试，请使用 AsyncTask。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-24T08:57:23.300

听起来您正试图在 UI 线程中发出 http 请求。从 Android 3.0 开始，您必须将您的请求放在另一个线程中。

看到那个帖子：[HonyComb 和 DefaultHttpClient](https://stackoverflow.com/questions/4821845/honycomb-and-defaulthttpclient)

我还建议你使用 try/catch。

# c++ - 使用 set_difference 算法找不到错误

> ID：12106119
> 
> 赞同：-1
> 
> 时间：2012-08-24T08:55:20.803
> 
> 标签：c++, stl, operator-overloading, set-difference, stdset

我有：

**“对象.h”**

```
namespace objectNS
{
    class object
    {
    public:
        int m_number;
        bool operator== (const object& object) const;
        bool operator< (const object& object) const;
    };
    class compare
    {
    public:
        bool operator ()(const object*, const object*) const;
    };
} 
```

**“对象.cpp”**

```
#include "object.h"
typedef objectNS::object OBJECT;
bool OBJECT::operator== (const object &object) const
{
    return this->m_number == object.m_number;
}

bool OBJECT::operator< (const object &object) const
{
    return this->m_number < object.m_number;
}

bool objectNS::compare::operator() (const object* obj1, const object* obj2) const
{
    return obj1->m_number > obj2->m_number;
} 
```

我有一些适用于对象的**功能**，

```
void f(void)
{
    set<Compound_object*> detectedObjects;
    set<Compound_object*> deleteFromTrackedObjects;
    set_difference(detectedObjects.begin(), detectedObjects.end(), this->m_trackedObjects.begin(), this->m_trackedObjects.end(), inserter(addToTrackedObjects, addToTrackedObjects.end()));
} 
```

**问题描述：** 我实现了`operator<`and ，`operator==`通过它来执行两个实例的比较*，`m_number`*但是当集合`detectedObjects`和`trackedObjects`包含相同`m_number`的元素时，`std::set_difference`返回*所有*元素而不是预期的空结果集。

我什至尝试将函数对象`compare`作为模板参数提供给集合，但结果我得到了很多编译器错误`=`并且`!=`没有正确定义。

我想知道是什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:27:31.040

我看不出为什么要存储指向对象的指针而不是对象本身的充分理由。

要使用比较器，您需要确保为*所有*设置实例提供相同的比较器类型，*并且*`set_difference`：

```
set<Compound_object*, compare> m_trackedObjects;

set<Compound_object*, compare> detectedObjects;
set<Compound_object*, compare> deleteFromTrackedObjects;
set_difference(detectedObjects.begin(), detectedObjects.end(),
    this->m_trackedObjects.begin(), this->m_trackedObjects.end(),
    inserter(addToTrackedObjects, addToTrackedObjects.end()),
    compare()); 
```

# java - 使用 @EmbeddedId 映射时出现 Eclipse 错误

> ID：12106124
> 
> 赞同：14
> 
> 时间：2012-08-24T08:55:30.447
> 
> 标签：java, eclipse, hibernate, jpa, composite-key

我有一个带有复合键的实体，所以我使用 @Embeddable 和 @EmbeddedId 注释。可嵌入类看起来像这样：

```
@Embeddable
public class DitaAdminAccountSkillPK implements Serializable {

  @ManyToOne
  @JoinColumn(name = "admin_id")
  private DitaAdmin admin;

  @ManyToOne
  @JoinColumn(name = "account_id")
  private DitaAccount account;

  //constructor, getters, setters...
} 
```

以及使用它的实体：

```
@Entity
public class DitaAdminAccountSkill {

  @EmbeddedId
  private DitaAdminAccountSkillPK id;

  //constructor, getters, setters...
} 
```

现在我想将实体映射到另一个实体中，如下所示：

```
@OneToMany(fetch = FetchType.LAZY, mappedBy = "id.admin")
private List<DitaAdminAccountSkill> accountSkills; 
```

注意**mappedBy = "id.admin"使用****DitaAdminAccountSkill**的**id**字段引用**DitaAdminAccountSkillPK中的****admin**字段。

 ******这编译并运行得很好。但是，在 Eclipse 中显示错误： **在属性“accountSkills”中，“映射者”值“id.admin”无法解析为目标实体上的属性。**

请注意，这是一个**JPA 问题**，这意味着 JPA 方面正在抱怨。现在，我知道我可以改用@IdClass，但我只是想知道为什么它认为这是一个错误。或者我做错了什么？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-24T11:34:15.313

根据[JPA 2.0 规范](http://download.oracle.com/otn-pub/jcp/persistence-2.0-fr-eval-oth-JSpec/persistence-2_0-final-spec.pdf)的第 11.1.15 节：*不支持在嵌入式 id 类中定义的关系映射。*但是，您正在使用的 JPA 实现**可能会**支持这一点，即使标准本身并未正式支持它。

如果这里是这种情况，您可能希望在 Eclipse 中的`Window -> Preferences -> Java Persistence -> JPA -> Errors/Warnings -> Attributes -> Cannot resolve attribute name`.

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-10-24T02:15:04.210

就我而言，直到我将以下设置为`Ignore`：

```
Project Facets > JPA > Errors/Warnings > Type > Mapped Java Class is a member class 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-22T21:22:29.690

以为我会发布我发现的符合 JPA 2.0 规范并且似乎以相同方式运行的解决方案。

首先，可以在此处找到 JPA 2.0 规范：[JSR-000317 Persistence Specification for Eval 2.0 Eval](http://download.oracle.com/otndocs/jcp/persistence-2.0-fr-eval-oth-JSpec/)。相关部分将是 2.4.1“对应于派生身份的主键”

这是使用您指定的类的示例：

嵌入式 ID 类：

```
@Embeddable
public class DitaAdminAccountSkillPK implements Serializable {

    //No further annotations are needed for the properties in the embedded Id.

    //Needs to match the type of the id of your DitaAdmin object. I added 'Id' to the end of the property name to be more explicit.
    //Making the assumption here that DitaAdmin has a simple Integer primary key.
    private Integer adminId;

    //Needs to match the type of the id of your DitaAccount object. I added 'Id' to the end of the property name to be more explicit.
    //Making the assumption here that DitaAccount has a simple Integer primary key.
    private Integer accountId;

    //I'm adding a third property to the primary key as an example
    private String accountName;

    //constructor, getters, setters...

    //hashCode() and equals() overrides
} 
```

“从属”实体类：

```
@Entity
public class DitaAdminAccountSkill {

    @EmbeddedId
    //Any overrides to simple Id properties should be handled with an attribute override
    @AttributeOverride(name = "accountName", column = @Column(name = "account_name"))
    private DitaAdminAccountSkillPK id;

    //MapsId refers to the name of the property in the embedded Id
    @MapsId("adminId")
    @JoinColumn(name="admin_id")
    @ManyToOne
    private DitaAdmin admin;

    @MapsId("accountId")
    @JoinColumn(name="account_id")
    @ManyToOne
    private DitaAccount account;

    //constructor, getters, setters...
} 
```

“父”实体类：

```
public class DitaAdmin {

    @Id
    private Integer id;

    //...

    //Now your mappedBy attribute can refer to the admin object defined on DitaAdminAccountSkill which is also part of the Primary Key
    @OneToMany(fetch = FetchType.LAZY, mappedBy="admin")
    private List<DitaAdminAccountSkill> accountSkills;

    //...
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-03-16T20:59:38.760

在尝试任何以前的解决方案之前，首先检查您的`persistence.xml`并确保`exclude-unlisted-classes`设置为`true`或您的所有映射类都列在您的`persistence-unit`.

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-09-25T14:21:01.017

Preferences -> Java Persistence -> JPA -> Errors/Warnings -> Attribute -> Embedded ID classes 不应该包含关系映射：（忽略）******

# inheritance - 带有默认继承的 Doctrine2 + Symfony2

> ID：12106134
> 
> 赞同：0
> 
> 时间：2012-08-24T08:55:54.110
> 
> 标签：inheritance, symfony, reference, doctrine-orm

我目前正在制作一个模型，但还不能让我很满意。我得到了一组具有单继承的对象，它们引用了另一个对象：

```
class Category
{
    /** @MongoDB\Id(strategy="auto") */
    protected $id;

    /** @MongoDB\Int */
    protected $categoryId;

    /** @MongoDB\String */
    protected $title;
}

class ProductTypeOne extends BaseProductType
{
    /** @MongoDB\Id(strategy="auto") */
    protected $id;

    /** @MongoDb\ReferenceOne(targetDocument="Category") */
    private $category;     

} 
```

我目前面临的问题是，当我创建一个对象 ProductTypeOne 时，我实际上知道它将引用哪个类别 - 这个 ProductType 总是相同的。

我可以设置一个修复参数，例如`category_id = 1`- 但 Sf2 和 Doctrine2 中的体系结构不允许我从我的实体（文档，因为我使用 MongoDB）中查询类别对象。

```
class ProductTypeOne 
{

    private $category_id = 5;

    public method getCategory()
    {   
       /** how to query the CategoryObject with ID=5? */
    }
} 
```

打开任何输入，在此先感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T16:34:14.360

那么试试这个：

```
class ProductTypeOne extends BaseProductType
{

    static $DEFAULT_CATEGORY = 5;

    // rest of the code

} 
```

在插入时[在控制器中]，您设置类别：

```
$product = new ProductTypeOne;

// do whatever you need to fill the instance

$product -> setCategory(
    $this -> getDoctrine() -> getRepository('Category') -> findOneById( ProductTypeOne::$DEFAULT_CATEGORY )
);

// persist $product, beer time 
```

另一种方法是编写 custom `ProductTypeOneRepository`，并在其方法中注入类别。

# objective-c - ASIHTTPRequest 和西里尔字母

> ID：12106135
> 
> 赞同：0
> 
> 时间：2012-08-24T08:55:54.650
> 
> 标签：objective-c, xcode, networking, request, asihttprequest

美好的一天，我正在使用 ASIHTTPRequest，但我在请求中遇到了西里尔字母的问题。

我有这个要求：

```
self.getUsersFromSearchRequest = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"%@&text=%@&count=20", SEARCH_FOR_USER, searchBar.text]]];
[self.getUsersFromSearchRequest setDelegate:self];
[self.getUsersFromSearchRequest startAsynchronous]; 
```

在此之后我有**requestFinished:**和**requestFailed:**方法：

```
 - (void)requestFinished:(ASIHTTPRequest *)request {
    self.dictionary = [NSJSONSerialization JSONObjectWithData:[request responseData] options:NSJSONWritingPrettyPrinted error:nil];

    if([request isEqual:self.getUsersFromSearchRequest]) {
        if ([[self.dictionary objectForKey:@"response"]  isKindOfClass:[NSArray class]]) {

            self.resultSearchUser = [self.dictionary objectForKey:@"response"];
            [self.searchDisplayController.searchResultsTableView reloadData];
        }
        self.searchResultsTable.hidden = NO;
        [MBProgressHUD hideHUDForView:self.view animated:YES];
    }
}

- (void)requestFailed:(ASIHTTPRequest *)request {
    UIAlertView *alertView = [[UIAlertView alloc]initWithTitle:NSLocalizedString(@"Internet Connection Error Alert Title", @"This is the Internet Connection Error Alert Title") message:NSLocalizedString(@"Internet Connection Error Alert Message Text", @"This is the Internet Connection Error Alert Message Text") delegate:nil cancelButtonTitle:NSLocalizedString(@"Internet Connection Error Alert Cancel Button Title", @"This is the Internet Connection Error Alert Cancel Button Title") otherButtonTitles:nil];
    [alertView show];
} 
```

当我在搜索文本字段中输入拉丁字母时，一切正常，但在我输入西里尔字母后，我立即输入**requestFailed:**。怎么了？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T08:58:24.070

问题解决了！您必须对 URL 字符串进行编码！像这样：

```
self.getUsersFromSearchRequest = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:[[NSString stringWithFormat:@"%@&text=%@&count=20", SEARCH_FOR_USER, searchBar.text] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]]; 
```

# google-drive-api - 如何更改 Google 原生文档中的元数据语言

> ID：12106138
> 
> 赞同：1
> 
> 时间：2012-08-24T08:55:56.733
> 
> 标签：google-drive-api

我可以使用 API Drive 2.0 将本地 Google 文档创建到 Google Drive。

但是，我无法更改语言正文文件。我认为 TargetLanguage 和 SourceLanguage 属性有其他目标，它们不允许 SDK 参考中的值。

例如，Google 原生文档的默认语言是“英语”。我想通过 API 更改为“荷兰语”或“法语”。

Google Drive 界面可以使用此选项：文件 > 语言 > [选择您的语言]。

你可以帮帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T13:09:37.550

Google Drive API的`targetLanguage`and`sourceLanguage`参数不能用于更改 Google Document 设置`File > Language > [Choose your language]`

`File > Language > [Choose your language]`更改 Google 文档中集成拼写检查的语言，而`targetLanguage`并且`sourceLanguage`用于文件内容的翻译。

不幸的是，现在无法更改`File > Language > [Choose your language]`使用 Drive API。

# c# - 在 C# 中，使用自定义源时出现文本框问题

> ID：12106140
> 
> 赞同：2
> 
> 时间：2012-08-24T08:56:02.997
> 
> 标签：c#, autocomplete, textbox

在 c# 中，我有来自 listView 的带有自动完成源的文本框。当我键入密钥时，文本框会填充建议。当我从列表中选择任何一个建议的文本时，它的工作正常。但是，当我尝试使用键盘（向下箭头）在填充列表中向下移动时，文本框的文本将替换为列表中的第一项。我无法移至列表中的第二项。

```
private void textbox1_TextChanged(object sender, EventArgs e)
{
    if (textbox1.Text != "")
    {
        TreeNode treeNode = TreeNode;
        string text = textbox1.Text;
        Boolean isContain = false;

        foreach (TreeNode subNode in treeNode.Nodes)
        {
            if (subNode.Name.StartsWith(text))
            {
                if (subNode.Name.StartsWith(text))
                    suggestStageName.Add(subNode.Name);
                isContain = true;
                if (subNode.Name.Equals(textbox1.Text))
                   do corresponding event
            }
        }
        if (isContain)
        {
            textbox1.AutoCompleteCustomSource = suggestStageName;
            textbox1.AutoCompleteMode = AutoCompleteMode.Suggest;                 
            textbox1.AutoCompleteSource = AutoCompleteSource.CustomSource;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:06:41.237

此段不应位于 textChanged 事件内。您应该只分配一次。

```
textbox1.AutoCompleteCustomSource = suggestStageName;
textbox1.AutoCompleteMode = AutoCompleteMode.Suggest;                 
textbox1.AutoCompleteSource = AutoCompleteSource.CustomSource; 
```

编辑：

尝试这个：

```
private void Form1_Load(object sender, EventArgs e)
{

    AutoCompleteStringCollection suggestStageName = new AutoCompleteStringCollection();

    foreach (TreeNode subNode in treeNode.Nodes)
    {
        suggestStageName.Add(subNode.Name);
    }

    textBox1.AutoCompleteCustomSource = suggestStageName;
    textBox1.AutoCompleteMode = AutoCompleteMode.SuggestAppend;
    textBox1.AutoCompleteSource = AutoCompleteSource.CustomSource;

} 
```

并将 textChanged 事件留空。自动完成将为您完成所有工作。

# gcc - “g++ -MMD”是否比包含扫描更好？

> ID：12106141
> 
> 赞同：6
> 
> 时间：2012-08-24T08:56:09.120
> 
> 标签：gcc, include, dependencies, icc

在查看构建系统时，其中很多（SCons、bjam、cmake、Tundra 等）都有内置的#include 扫描器。然而 gcc 和 icc 提供了一个`-MMD`（或`-MD`）选项，它输出 C++ 文件所依赖的头文件的名称。

`-MMD`依赖选项似乎是可靠的。如果将 a 添加`#include`到 C 文件中，它的时间戳会发生变化，因此构建系统会重新编译它。如果将 a 添加`#include`到头文件，它的时间戳会改变，并且会重新编译所有受影响的 C 文件。

包括扫描系统中断，但`-MMD`在我看来是健壮的。哪个最好，为什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-24T15:59:46.077

`-MMD`是最好的，因为你给出的原因等等。

让编译器输出依赖项作为正常编译过程的一部分可确保完全相同的一组编译器选项（例如`-I`路径和宏）在编译和查找依赖项时生效。与确保两个单独的工具使用相同的选项相比，这更少冗余且更不容易出错。

# dump - 如何在维基百科转储中查找信息

> ID：12106142
> 
> 赞同：0
> 
> 时间：2012-08-24T08:56:09.463
> 
> 标签：dump, wikipedia

我会道歉，因为我对 SQL 很陌生。

我想避免爬取维基百科，所以我开始寻找其他方法。DBPedia 似乎是一个可能的解决方案，但在寻找从哪里开始一个小时后，我转身回到维基百科转储。

我的问题是如何在转储中找到我想要的东西？我需要哪些转储来查找特定信息？那里有很多垃圾场，它们有助于结构的不同部分。我是否需要全部下载才能获得 100 兆字节的数据？

我已经查看了 Mediawiki 数据库结构，但这并没有太大帮助。

有没有人做过类似的事情？我对 wiki 关于运动员等的表格特别感兴趣。是否有某种方法可以跟踪特定 wiki 转储中的哪些信息或链接相关信息？

编辑：我正在尝试获取所有运动的运动员名单，包括姓名、年龄、运动、奖牌......等等......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T16:26:28.617

维基百科（或其转储）并不真正包含您正在寻找的结构化信息。如果您想了解某个运动员获得了哪些奖牌，您可以尝试解析该运动员的文章以找到用于奖牌的模板。但是这样做很可能很困难，因为模板通常不是标准化的并且会随着时间而变化。

我认为 DBPedia 会更好地满足您的需求。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-10-03T19:05:38.913

有同样的问题......在我生命中的这个确切时刻。我花了一些时间 - 答案是 -> 没有页面可以让您预览数据转储，以便您可以在下载整个巨大的猛犸数据库集之前查看其中的一小部分 - 顺便说一下在任何普通的文本应用程序中解析都是一个大问题。如果您可以访问终端，请使用“cat”命令查看里面的内容 - 迄今为止最快的方式。

我知道我想找到什么——一个包含 pageId 和 Titles 的转储——没有关于哪个转储包含它的信息。所以我不得不搜索搜索搜索-> 什么都没有.. 然后我只需要下载 10-15 个不同类型的转储来打开它们，看看我是否可以使用它。

结果是转储：enwiki-latest-page.sql.gz 包含所有 pageId 和 eng 的标题。维基百科。这通常是一个有用的转储，因为您可以从 pageId 请求任何 wikipage 的所有文本和内容，并且您可以使用标题来了解此 pageId 是什么的 Id。

# php - php 从多维数组中提取一些值

> ID：12106143
> 
> 赞同：-2
> 
> 时间：2012-08-24T08:56:12.670
> 
> 标签：php, arrays, multidimensional-array

我有一个多维数组，它有 2-3 个级别，所以我需要从这个数组中提取一些数据，我尝试了很多方法，但我无法使用它

这是具有 2 个用户详细信息的数组

```
Array (
    [success] => 1
    [anchor] => Bc-kqkaweL94QMZsAUZWpfAuzZakev32
    [firstPage] => 1
    [lastPage] =>
    [entry] => Array (
        [0] => Array (
            [id] => 6518718:User:10097
            [author] => 0aiffjmq4vwke
            [createdDate] => 2012-08-24T00:06:10.851Z
            [email] => holmesbilly79@yahoo.com
            [fullName] => Billy Ray Holmes
            [gender] => m
            [birthdate] => 1975-06-17
            [state] => member
            [isOwner] =>
            [isAdmin] =>
            [isMember] => 1
            [isBlocked] =>
            [location] => Shreveport, LA, US, 71108
            [profileQuestions] => Array (
                [0] => Array (
                    [question] => q4
                    [answer] => Array (
                        [question] => Dating
                        [type] => select
                        [choices] => Yes,No
                        [answer] => Yes
                        [private] =>
                    )
                )
            )
        )
        [1] => Array (
            [id] => 6518718:User:10095
            [author] => 3oz2jdmjyocth
            [createdDate] => 2012-08-23T23:43:40.865Z
            [email] => vaguy83_2008@yahoo.com
            [fullName] => Thomas
            [gender] => m
            [birthdate] => 1983-06-20
            [state] => member
            [isOwner] =>
            [isAdmin] =>
            [isMember] => 1
            [isBlocked] =>
            [location] => US
            [profileQuestions] => Array (
                [0] => Array (
                    [question] => q4
                    [answer] => Array (
                        [question] => Dating
                        [type] => select
                        [choices] => Yes,No
                        [answer] => Yes
                        [private] =>
                    )
                )
            )
        )
    )
    [resources] => Array (
        [3oz2jdmjyocth] => Array (
            [fullName] => Thomas
            [url] => http://MyChatterBook.ning.com/profile/Thomas
        )
        [0aiffjmq4vwke] => Array (
            [fullName] => Billy Ray Holmes
            [url] => http://MyChatterBook.ning.com/profile/BillyRayHolmes
        )
    )
) 
```

从这个数组中，我需要获取电子邮件地址全名约会答案，.. 任何人都可以知道如何使用 php 执行此操作，再次感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:00:06.443

您是否尝试过嵌套的 foreach 循环？IE

```
foreach($arrays as $array)
 {
      foreach($array as $rows)
       {
         #print your rows here etc
       }
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:00:18.230

简单，跟随数组

```
$array['entry'][0]['email'] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T09:00:18.700

你试过什么？您是否尝试过 $data[0][email] 来提取电子邮件？您能否提供一个脚本剪辑器，说明您如何尝试从数组内部访问这些数据？谢谢

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-24T09:22:34.947

试试这个：

```
foreach( $result['entry'] as $entry ) {
    echo $entry['fullName'];
    echo $entry['email'];
    foreach( $entry['profileQuestions'] as $question ) {
        if( $question['answer']['question'] == 'Dating' ) {
            echo $question['answer']['answer'];
        }
    }
} 
```

# java - 由于用户看不见的字符串，生成随机“密钥”

> ID：12106147
> 
> 赞同：3
> 
> 时间：2012-08-24T08:56:41.007
> 
> 标签：java, string, random, key, invisible

我正在寻找在java（在windows上）中执行以下当前任务的最佳方法：

**由于用户输入的特定字符串，在程序“内部”创建一个随机的其他字符串/键（字母数字），并且用户不可见。**

如果我们输入相同的字符串，则密钥必须相同。

所以基本上，我看到了如何制作一个随机字符串，但我想确保这个程序的用户无法找到内部返回的密钥（我实际上然后使用这个密钥来加密数据，因此我不'不希望简单的用户访问此密钥）。

我怎样才能做到这一点？您能否向我展示一个正确解决方案的运行代码示例？

**编辑**：我要求用户输入的相同字符串具有相同的密钥，因为我需要知道这个生成的密钥，以便下次在我的计算机上使用另一个客户端。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:36:18.483

我真的不太了解您的用例，无法从安全角度提出建议。但是，要直接解决从用户提供的输入生成可重现密钥的问题，您可以使用基于密码的密钥派生，其中我们将用户提供的输入视为密码（编辑为完整示例）：

```
import java.security.NoSuchAlgorithmException;
import java.security.spec.InvalidKeySpecException;
import java.security.spec.KeySpec;

import javax.crypto.Cipher;
import javax.crypto.SecretKey;
import javax.crypto.SecretKeyFactory;
import javax.crypto.spec.IvParameterSpec;
import javax.crypto.spec.PBEKeySpec;
import javax.crypto.spec.SecretKeySpec;

import sun.security.provider.SecureRandom;

public class DerivationExample {

  private static SecretKey makeKeyFromUserInput(String userInput, byte[] salt)
      throws NoSuchAlgorithmException, InvalidKeySpecException {

    SecretKeyFactory factory = SecretKeyFactory
        .getInstance("PBKDF2WithHmacSHA1");
    KeySpec keySpec = new PBEKeySpec(userInput.toCharArray(), salt, 1024, 256);
    byte[] derivedKey = factory.generateSecret(keySpec).getEncoded();
    return new SecretKeySpec(derivedKey, "AES");
  }

  public static void main(String[] args) throws Exception {
    String userInput = "foo";

    // PBKDF2 standard recommends at least 64-bit salt
    // Note: you want to randomly generate this elsewhere and keep it constant
    byte[] salt = new byte[8];
    new SecureRandom().engineNextBytes(salt);

    SecretKey derivedKey = makeKeyFromUserInput(userInput, salt);

    Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
    cipher.init(Cipher.ENCRYPT_MODE, derivedKey, new IvParameterSpec(
        new byte[16]));

    String plaintext = "Hello, World!";
    byte[] cipherText = cipher.doFinal(plaintext.getBytes());

    // Derive key again to demonstrate it is the same
    SecretKey derivedKey2 = makeKeyFromUserInput(userInput, salt);
    cipher.init(Cipher.DECRYPT_MODE, derivedKey2, new IvParameterSpec(
        new byte[16]));

    byte[] plainText = cipher.doFinal(cipherText);
    // Prints "Hello, World!"
    System.out.println(new String(plainText));
  }
} 
```

如果盐保持不变，则生成的密钥将是可重现的。在需要生成相同密钥的任何其他设备之间共享盐。

**注意：**您需要安装不受限制的策略文件（请参阅[本页](http://www.oracle.com/technetwork/java/javase/downloads/index.html)底部）才能使本示例正常工作。

请记住，由“安全”点点滴滴组成的安全系统不能保证从整体上看是安全的。我们只看到了您的一小部分要求，因此我们的建议应该持保留态度（不是双关语）。要获得更完整的答案，我们需要了解您尝试保护的端到端流程。

但是，由于 StackOverflow 不是设计安全系统的地方，您可能需要在其他地方寻求帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-24T09:01:21.867

也许是盐渍哈希函数？

获取用户输入，添加一些秘密输入，然后对事物进行哈希处理。

（没有秘密输入，用户可以自己弄清楚如何创建它）。

当然，这个字符串根本不是随机的。具有这种可重复性的要求排除了随机性。但是，这些字符串不会有可辨别的模式，所以它看起来是“随机的”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:10:21.730

如果您只期望相对少量的输入，您可以使用字符的 unicode 和 Random 来生成随机数，但将所有结果存储在地图中。这样，如果已经生成值，您就不会重复生成值，而是使用缓存的值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:01:25.047

我不太确定你想要实现什么，但我认为你可以使用哈希来加密你的字符串。

也许此链接可以提供帮助：[如何生成 MD5 哈希？](https://stackoverflow.com/questions/415953/generate-md5-hash-in-java)

在散列字符串之前先“加盐”字符串会更好。

# c - 为什么 C 中的字符串函数在使用 char 而不是 unsigned char 的数组上工作？

> ID：12106155
> 
> 赞同：11
> 
> 时间：2012-08-24T08:57:02.687
> 
> 标签：c, string

在`C`标准库函数中，字符串的元素是`char`s。是否有充分的理由决定它而不是`unsigned char`？

使用`unsigned char`8 位字符串有一些优点，虽然很小：

*   它更直观，因为我们通常将 ASCII 代码记忆为无符号值，并且在处理二进制数据时，我们更喜欢无符号的 0x00 到 0xFF 范围，而不是处理负数。所以我们必须投。
*   使用无符号整数可能更快/更有效，或者在某些处理器上生成更小的代码。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-24T09:26:25.173

C 提供了三种不同的字符类型：

*   `char`表示一个字符（C 也将其称为“字节”）。
*   `unsigned char`表示字节大小的位模式，或无符号整数。
*   `signed char`表示一个字节大小的有符号整数。

它是`char`有符号类型还是无符号类型是实现定义的，所以我认为这个问题相当于“为什么`char`存在这种可能有符号的类型？” 或“为什么 C 不需要`char`无符号？”。

首先要知道的是，Ritchie 在 1971 年将“char”类型添加到 B 语言中，而 C 从那里继承了它。在此之前，B 是面向字的而不是面向字节的（[这个人自己也是这么说的](https://www.bell-labs.com/usr/dmr/www/chist.html)，请参阅“B 的问题”。）

完成后，我的两个问题的答案可能是 C 的早期版本没有无符号类型。

一旦`char`建立了字符串处理函数，将它们全部更改为`unsigned char`将是一个严重的破坏性更改（即几乎所有现有代码都将停止工作），而 C 几十年来试图培养其用户群的方法之一是主要是避免灾难性的不兼容变化。所以 C 做出这样的改变是令人惊讶的。

鉴于这`char`将是字符类型，并且（如您所见）它是无符号的很有意义，但是已经存在许多对 char 进行签名的实现，我想使 char 的签名implementation-defined 是一个可行的折衷方案——现有代码将继续工作。如果它`char`仅用作字符而不用于算术或顺序比较，它也可以移植到`char`无符号的实现中。

与 C 的一些古老的实现定义的变体不同，实现者仍然选择有符号字符（英特尔）。C 标准委员会不禁观察到有些人似乎出于某种原因坚持使用签名字符。无论这些人的原因是什么，当前的还是历史的，C 必须允许它，因为现有的 C 实现依赖于它被允许。因此，强制`char`无符号在可实现目标列表中远低于强制`int`成为 2 的补码，而 C 甚至没有做到这一点。

一个补充问题是“为什么英特尔仍然指定`char`在其 ABI 中签名？”，我不知道答案，但我猜他们从来没有机会在没有大规模中断的情况下做其他事情。也许他们甚至喜欢他们。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-24T09:17:01.243

好问题。由于该标准没有定义`char`为无符号或有符号（这留给实现），我猜这个偏好`char`来自两个角度：

*   `char`键入所需的时间少于`unsigned char`，从而使字符串操作函数的原型更易于阅读和使用。
*   由于最初的 ASCII 规范是 7 位的，因此对于 C 规范而言，有效值是在 0 到 127 还是 0 到 255 范围内都无关紧要。8 位字符集的标准化已经发生了很久。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-24T09:26:17.490

的签名`char`是实现定义的。

对于您所描述的问题，一个更简洁的解决方案是强制要求plain`char`必须是未签名的。

plain`char`可能是已签名或未签名的原因部分是历史原因，部分与性能有关。

C 的早期版本没有无符号类型。由于 ASCII 仅涵盖 0 到 127 的范围，因此假设制作`char`有符号类型没有特别的缺点。一旦做出决定，一些程序员可能已经编写了依赖于它的代码，后来的编译器将其保留`char`为有符号类型以避免破坏此类代码。

引用1975 年的[C 参考手册，即 K&R1 出版前 3 年：](http://cm.bell-labs.com/cm/cs/who/dmr/cman.pdf)

> 字符（已声明，以下称为`char`）是从 ASCII 集中选择的；它们占据 8 位字节的最右边 7 位。也可以将`char`s 解释为带符号的 2 的补码 8 位数字。

EBCDIC 需要 8 位 unsigned `char`，但显然当时还不支持基于 EBCDIC 的机器。

至于性能，`char`在许多情况下， type 的值被隐式转换为`int`（假设`int`可以表示 type 的所有值，`char`通常是这种情况）。这是通过“整数促销”完成的。例如，这个：

```
char ch = '0';
ch ++; 
```

不只是执行 8 位增量。它将`ch`from的值转换`char`为`int`，将结果加 1，并将总和从 转换回`int`以`char`将其存储在 中`ch`。（编译器可以生成任何可证明达到相同效果的代码。）

将带符号的 8 位转换为带符号`char`的 32 位`int`需要符号扩展。将 8 位无符号`char`转换为 32 位有符号`int`需要对目标的高 24 位进行零填充。（这些类型的实际宽度可能会有所不同。）根据 CPU 的不同，其中一种操作可能比另一种更快。在某些 CPU 上，进行普通`char`签名可能会导致生成的代码更快。

（我不知道这种影响的大小。）

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-24T09:08:44.223

不，没有充分的理由。char 的符号是实现定义的，也没有任何充分的理由。不存在使用负数索引的任何类型的符号表。

我认为这一切都源于错误的、奇怪的假设，即有 8 位整数，然后有“字符”，其中“字符”是某种神奇而神秘的东西。

这只是 C 标准的许多非理性缺陷之一，从恐龙在地球上行走的时代继承下来。char 的神秘符号没有给语言增加任何东西，除了可能由隐式整数提升引起的与符号相关的错误。

**编辑：**

很可能他们让 char 被签名是因为他们希望它的行为与其他整数类型一样：short、int、long，这些都由标准保证在默认情况下总是被签名。

> 使用无符号整数可能更快/更有效，或者在某些处理器上生成更小的代码。

你最终得到什么类型并不完全直观。每当您在表达式中使用 char 作为操作数时，它总是会被提升为 int。类似地，常量字符 'a'、'\n' 等是 int 类型，而不是 char。C 语言强制编译器根据隐式提升规则（称为“整数提升”和“通常的算术转换”/“平衡”）提升类型。

一旦升级完成，编译器可以将类型优化为最有效的类型，前提是它可以证明优化不会改变结果。

如果您有此代码：

```
char a = 'a';
char b = 'b';
char c = a + b; 
```

字里行间有很多不为人知的事情。首先，文字“a”和“b”被默默地截断`int`为有符号/无符号字符。然后在表达式`a + b`中，a 和 b 都被整数提升规则隐式提升为`int`类型。加法是在两个上执行的`int`。然后将结果静默截断回有符号/无符号字符。

如果编译器可以证明优化不会影响上述任何模糊性，它可能会将其全部替换为理智的 8 位操作。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-08-24T09:20:53.577

有以下三种相关类型：

*   `signed char`, 旨在存储小的有符号整数
*   `unsigned char`, 旨在存储小的无符号整数
*   `char`, 旨在存储字符

我认为您真正想知道的是为什么不是`char`无符号类型？

曾经有一段时间[C 没有无符号类型](http://cm.bell-labs.com/cm/cs/who/dmr/cman.pdf)[1]。`char`被描述为已签名（请参阅第 4 页），但即使在那个时候，“符号传播功能在其他实现中消失了”，因此它的行为已经在地方签名，在其他地方未签名。而且我认为实现选择只是反映了对他们来说最简单的方法（例如，在 PDP-11 上，第一个 C 实现是针对它进行`MOVB`符号扩展的，我不记得有一种方法可以移动字节到一个字没有得到符号扩展）。

如今，我知道的大多数实现都在使用 signed `char`。我所知道的唯一一个未签名`char`的是来自 IBM 的那些是支持 EBCDIC 授权的（基本字符集中字符的字符代码必须是正数，并且 EBCDIC 大部分都在 128 以上）。

[1][使用指针代替...](http://cm.bell-labs.com/cm/cs/who/dmr/chist.pdf)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-24T09:05:25.497

因为标准没有将 char 定义为有符号字符

# html - 向下滚动时，文本移动到页面的一侧

> ID：12106168
> 
> 赞同：-1
> 
> 时间：2012-08-24T08:58:11.647
> 
> 标签：html, css, twitter-bootstrap

在多个容器内使用 span 时，文本会移动到页面的一侧。

编辑：这应该不再是最新版本的引导程序中的问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T10:04:21.467

在 Bootstrap 文档网站上，他们`.span3 { min-height: 1px; }`用来防止列崩溃。

> **编辑：**自 Bootstrap 2.1.1 以来，这不再相关。他们默认修复了它：`[class*="span"] { min-height: 1px; }`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:27:31.170

放置 span.span3 {float:left} 和 span.span9 {float:right} 确保其他属性不会覆盖这些属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:55:09.723

我会坦率地承认我对响应式设计或 Twitter 引导程序知之甚少，但你的问题是词缀类。

当您向下滚动时，菜单 ul 的类从“affix-top”变为“affix”，其位置为固定，这意味着菜单没有宽度，因此主要内容浮动在它的顶部.

我假设固定位置是这样菜单在窗口中保持不变的位置。

一个快速的解决方法是给“affix-top”类一个固定的位置，然后给主内容一个边距，这样它就位于菜单的右侧。

# jquery - 等待触发器完成以使用 jquery 启动另一个触发器

> ID：12106170
> 
> 赞同：1
> 
> 时间：2012-08-24T08:58:12.150
> 
> 标签：jquery

我有类似的东西：

```
$('#test').bind('go', function(event, top, left,w,h) {
  $('#test').animate({left: left, top : top, width: w,height: h},1000,function() {
     $('#test').animate({left: 0, top :0, width: w,height: h},1000)  ;      
  })
});

$('#test').trigger('go', [150, 200,100,80]);
$('#test').trigger('go', [250, 200,100,80]);
$('#test').trigger('go', [350, 200,100,80]); 
```

但是第二个和第三个触发器在第一个触发器结束之前开始。我希望下一个 main.trigger 在上一个完成时启动。

试试看：http: [//jsfiddle.net/9NLrR/6/](http://jsfiddle.net/9NLrR/6/)

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:17:28.150

您可以使用维护变量值来玩

```
var trigger=0;

main.bind('go', function(event, top, left,w,h,triggervalue) {

   if(triggervalue==trigger)
   { 
    bidule.animate({left: left, top : top, width: w,height: h},1000);
    trigger++;
   }

}

main.trigger('go', [150, 200,100,80,1]);
main.trigger('go', [250, 200,100,80,2]);
main.trigger('go', [350, 200,100,80,3]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:34:47.333

测试这个：

```
<div style="height:100px; width:100px; background-color:red; position:absolute;" id="test"></div>​ 
```

和脚本：

```
<script type="text/javascript">
    $('#test').bind('go', function(event, top, left,w,h) {
        $('#test').animate({left: left, top : top, width: w,height: h},1000);  
        $('#test').animate({left: 0, top : 0, width: w,height: h},1000);     
    });

    $('#test').trigger('go', [150, 200,100,80]);
    $('#test').trigger('go', [250, 200,100,80]);
    $('#test').trigger('go', [350, 200,100,80]);
</script> 
```

# ios - ios：observeValueForKeyPath 后崩溃

> ID：12106174
> 
> 赞同：0
> 
> 时间：2012-08-24T08:58:35.503
> 
> 标签：ios, ipad

我在我的代码中发现了一个奇怪的错误，但我无法随时重现它。有时，我的 iPad 应用程序因以下键路径错误而崩溃：

```
Keypath contentSize changed 
*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: '<UIWebDocumentView: 0x1c9fce00; frame = (0 0; 1034 75); text = 'coucou'; opaque = NO; userInteractionEnabled = NO; layer = <UIWebLayer: 0x1daa9760>>: An -observeValueForKeyPath:ofObject:change:context: message was received but not handled.
Key path: contentSize
Observed object: <UITextView: 0x1da83e60; frame = (32 32; 1034 198); text = 'coucou'; layer = <CALayer: 0x1dad2650>; contentOffset: {0, -62}>
Change: {
kind = 1;
new = "NSSize: {1034, 75}";
} 
```

这是处理 keypath 观察的代码：

```
-(void) observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context 
{
if (object != textViewCurrentlyEditing)
    return;
NSLog(@"Keypath %@ changed", keyPath);
UITextView *tv = object;
UIObject *selected = (__bridge UIObject *)context;
[self updateTextViewAlign:tv forObject:selected];
} 
```

这是我附上它的地方：

```
UITextView *tv = [[UITextView alloc] initWithFrame:button.frame]; 
[tv addObserver:self forKeyPath:@"contentSize" options:(NSKeyValueObservingOptionNew) context:(void *)selected];
textViewCurrentlyEditing = tv; 
```

'selected' 是 UIObject 类型。

我不在代码中的任何地方使用 UIWebLayer。为什么从 UITextView 到 UIWebLayer 的对象突变？我在做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:17:17.597

试试这个：

在你的 .h 文件，即@interface 文件中，声明 UITextView *tv; 然后在需要的地方编写此代码。

```
if(tv)[tv release];
tv = [[UITextView alloc] initWithFrame:button.frame]; 
```

此方法将始终帮助您避免陷入任何内存损坏问题。我只是希望它对你有用。祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T11:16:31.140

我想我可能已经通过这篇文章找到了解决方案：[https ://stackoverflow.com/a/4134583/1128754](https://stackoverflow.com/a/4134583/1128754)

我在“removeFromSuperview”之前添加了“removeObserver”。

```
 [tv removeObserver:self forKeyPath:@"contentSize"]; 
```

# matlab - 在matlab中使矩阵'n'时间变大

> ID：12106175
> 
> 赞同：5
> 
> 时间：2012-08-24T08:58:40.553
> 
> 标签：matlab, matrix-multiplication

我有一个这样的矩阵

```
1 2 3 4 
2 3 4 5
3 4 5 6 
```

在matlab中是否有任何**函数**可以使行n次和列m次我的意思是例如对于n = 2和m = 3，结果是：

```
1 1 1 2 2 2 3 3 3 4 4 4 
1 1 1 2 2 2 3 3 3 4 4 4 
2 2 2 3 3 3 4 4 4 5 5 5 
2 2 2 3 3 3 4 4 4 5 5 5 
3 3 3 4 4 4 5 5 5 6 6 6 
3 3 3 4 4 4 5 5 5 6 6 6 
```

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-24T09:03:39.210

您可以使用 kronecker 产品：

```
 A=[1 2 3 4;5 6 7 8;9 10 11 12];
 kron(A,ones(2,3))
ans =
     1     1     1     2     2     2     3     3     3     4     4     4
     1     1     1     2     2     2     3     3     3     4     4     4
     5     5     5     6     6     6     7     7     7     8     8     8
     5     5     5     6     6     6     7     7     7     8     8     8
     9     9     9    10    10    10    11    11    11    12    12    12
     9     9     9    10    10    10    11    11    11    12    12    12 
```

有关更多信息，您可以查看维基百科：

[http://en.wikipedia.org/wiki/Kronecker_product](http://en.wikipedia.org/wiki/Kronecker_product)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T14:52:15.733

这是我的解决方案：

```
%------------------data-----------------
>> mat = [1 2 3 4;2 3 4 5;3 4 5 6]
mat =
     1     2     3     4
     2     3     4     5
     3     4     5     6
>> [m,n] = deal(3,2)
m =
     3
n =
     2
%----------------solution----------------
>> col = meshgrid(1:size(mat,2),1:m);
>> row = meshgrid(1:size(mat,1),1:n);
>> mat(row,col)
ans =
     1     1     1     2     2     2     3     3     3     4     4     4
     1     1     1     2     2     2     3     3     3     4     4     4
     2     2     2     3     3     3     4     4     4     5     5     5
     2     2     2     3     3     3     4     4     4     5     5     5
     3     3     3     4     4     4     5     5     5     6     6     6
     3     3     3     4     4     4     5     5     5     6     6     6 
```

# c# - 使用 nant 在 c#.net 中运行 bat 文件

> ID：12106181
> 
> 赞同：-1
> 
> 时间：2012-08-24T08:59:21.893
> 
> 标签：c#, .net, nant

我为 ex(ex.bat) 创建了一个批处理文件

是否可以通过 nant c#.net 代码运行批处理文件

问题 1：我需要创建将参数传递给通过 ant 生成的 xml 文件

问题2：我需要通过c#.net代码访问

等待您的宝贵意见

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:02:05.887

```
< target name="run-command">
   < exec program="ConsoleTest.exe" basedir="${test.dir}">
     < arg value="-cp" />
   < /exec>
 < /target> 
```

[http://nant.sourceforge.net/release/latest/help/tasks/exec.html](http://nant.sourceforge.net/release/latest/help/tasks/exec.html)

从[答案](https://stackoverflow.com/a/663238/649524)

# dynamics-crm - 微软动态 CRM 定制

> ID：12106183
> 
> 赞同：1
> 
> 时间：2012-08-24T08:59:29.813
> 
> 标签：dynamics-crm

我们创建了新的自定义实体。假设 entity_abc。

现在对于那个实体，我已经创建了新记录。此实体显示在 xyz 安全角色下。

现在我已经为 pqr 和 def 用户分配了 xyz 安全角色。

因此 pqr 用户也可以看到该记录 pqr 用户也可以在 entity_abc 下创建新记录，但 def 用户无法编辑该记录，def 用户无法创建新记录。系统抛出错误。“拒绝访问。”

先谢谢了。问候， Vatsal Thakker

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:04:14.540

我需要更多关于您的角色和用户配置的信息。

一种可能性：您是否将安全角色直接分配给两个用户或通过他们的团队？

如果团队中存在所需角色，但个人用户记录中没有，您可能会遇到问题。

# php - 将 div 包裹在超链接（标签）周围

> ID：12106185
> 
> 赞同：-2
> 
> 时间：2012-08-24T08:59:52.957
> 
> 标签：php, javascript, jquery

我有一个包含多个链接的文本。一个链接看起来像

```
<a href="http://www.mydomain.com/files/test1.pdf" target="_blank">My link</a> 
```

首先，我想将`div`标签包裹在所有`href`标签上，但`href`前提是以`http://www.mydomain.com/files/`. 所以上面的链接（因为它以那个前缀开头）应该变成

```
<div class="myLink">
   <a href="http://www.mydomain.com/files/test1.pdf" target="_blank">My link</a>
</div> 
```

然后根据**文件扩展名**（ 的结尾字符`href`）在链接之前添加图像，使其变为

```
<div class="myLink">
   <img src="pdf_file_icon.png" alt="File type icon" />
   <a href="http://www.mydomain.com/files/test1.pdf" target="_blank">My link</a>
</div> 
```

并且可以选择在链接之后添加一些我的文本，以便最终版本变为

```
<div class="myLink">
   <img src="pdf_file_icon.png" alt="File type icon" />
   <a href="http://www.mydomain.com/files/test1.pdf" target="_blank">My link</a>
   <span class="fileSize">1.3 Mb</span>
</div> 
```

我需要**PHP**和**JavaScript/jQuery的解决方案** *（我认为 jQuery 因为它的选择器功能而更容易？）*。

* * *

我想要得到的是从常规[文本链接](http://www.google.com)移动到这样的东西（不要打扰文件大小，它是预先计算好的，所以它就像任何其他常规/虚拟文本一样）

![在此处输入图像描述](../Images/75114fce433ec0d5e4c094a161ab3873.png)

## 编辑#1

**这是我在PHP**中的尝试

 **```
$regexp = "<a\s[^>]*href=(\"??)(http:\/\/www\.mydomain\.com\/files\/[^\" >]*?)\\1[^>]*>(.*)<\/a>";
$text = preg_replace("/$regexp/siU", "<div class=\"fileAttachment\"><img src=\"pdf_file_icon.png\" alt=\"File type icon\" /><a href=\"$2\" target=\"_blank\">$3</a></div>", $text); 
```

但我不确定如何立即检查文件扩展名并根据它插入适当的图像（pdf_file_icon.png）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:09:43.620

因为有点无聊，这里有一个jQuery实现：

```
$('a[href^="http://www.mydomain.com/files"]')
    .each(function() {
        var t = $(this);
        var href = $(this).attr('href');
        var ext = href.substring(href.lastIndexOf('.') + 1);
        t.wrap('<div class="mylink"></div>');
        switch (ext) {
            case 'pdf': 
               t.before('<img src="pdf_file_icon.png" alt="File type icon" />'); 
               break;
            // Add more types here
        }
        t.after('<span class="fileSize">1.3 Mb</span>');
    }
);​ 
```

[http://jsfiddle.net/AK9nG/](http://jsfiddle.net/AK9nG/)

当然要在 PHP 中完成，您可以直接编辑 HTML 吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:22:47.170

这是一个php解决方案。你必须自己做文件大小的事情。易于添加。

我不使用 preg replace 的原因是因为它保持可读性，除非你翻译 > 100kb 的文本文件，否则它足够快，并且便于调试。

```
$rawhtml = 'your html file here<a href="http://www.go.com">test</a> and <a href="http://www.do.com/where.pdf">test</a>';
// Explode at every <a tag
$explodedhtml = explode("<a ",$rawhtml);
// Loop through everything
foreach($explodedhtml as $piece)
    {
    // Does our piece contain href?
    if(strpos($piece,"href=") !== false)
        {
            // Extract the url
        $href = substr($piece,strpos($piece,'href=')+6,((strpos($piece,'"',7))-(strpos($piece,'href=')+6)));
        // easy debug
        //echo $href . "<BR>";
            // Does it end in pdf?
        if(substr($href,strlen($href)-4,strlen($href)) === ".pdf")
            {
                    // add all the stuff we want for a pdf file
            $filezie = filsizecomputingfunction();// Put here your filesize thingymejig
            $piece = implode("</a>$filesize</div>",explode("</a>",$piece));// Add filesize here
            $pieces[] =  '<div class="myLink"><img src="pdf_file_icon.png" alt="File type icon" /><a '.$piece;
            }
            // It isn't a pdf...
        else
            {
                    //Just add our closing divs... after the closing tag
            $piece = implode("</a></div>",explode("</a>",$piece));
                    // add to array, add div class and our opening tag
            $pieces[] =  '<div class="myLink"><a '.$piece;          
            }
        }
    // Nothing to detect, just shove it in our array.
    else
        {
        $pieces[] = $piece;
        }
    }
Return to our basic variable so we can work with it in the displaying thingymejig.
$rawhtml = implode('',$pieces); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:05:34.670

您可以将文件图标作为元素本身的背景图像，然后使用 css 根据文件扩展名应用样式：

```
a[href$=".pdf"] {
  display: block;
  border: 1px solid salmon;
  background: lighblue url('pdf-icon.png') no-repeat;
  /* etc... */
} 
```**

# javascript - 禁用 iphone 中的 vimeo 播放暂停按钮

> ID：12106186
> 
> 赞同：1
> 
> 时间：2012-08-24T08:59:55.757
> 
> 标签：javascript, iphone, html, vimeo

我在我的项目中嵌入了一个 webview 我正在播放我的 vimeo 播放器。当我启动我的项目时，播放器会自动启动。直到现在一切都很好。现在，我想禁用播放器中出现的控件。我正在`froogaloop.js`使用嵌入视频。这可能吗？如果是这样，我该怎么做。因为在 vimeo api 文档中没有写任何关于禁用控件的内容。如果您需要查看代码，请告诉我。

# telerik - 如何从 RadGrid_ItemDataBound 上的 javascript 获取结果

> ID：12106200
> 
> 赞同：1
> 
> 时间：2012-08-24T09:00:58.323
> 
> 标签：telerik, radgrid, rad-controls

大家好，我有一个名为**ApprovalStatus**的文件。如果这是**N**，我想显示一个弹出窗口，显示您是否要批准该员工。如果**好的**，我想编辑并将状态更新为**Y**，然后允许用户编辑选定的行。

这是我写的

```
protected void RadGrid2_ItemDataBound(object sender, GridItemEventArgs e)
    {
        int iPagecount = RadGrid2.MasterTableView.CurrentPageIndex;
        if (e.Item is GridDataItem)
        {
            if (iPagecount == 0)
            {
                if (e.Item.ItemIndex != 0)
                {
                    GridDataItem item = (GridDataItem)e.Item;
                    ImageButton imageButton = (ImageButton)item["imgEdit"].Controls[0];
                    imageButton.Visible = false;
                    //imageButton.ImageUrl = "images/MailOk.png";
                }
                else
                {
                    GridDataItem item = (GridDataItem)e.Item;
                    ImageButton imageButton = (ImageButton)item["imgEdit"].Controls[0];
                    imageButton.Visible = true;
                }
            }
            else
            {
                GridDataItem item = (GridDataItem)e.Item;
                ImageButton imageButton = (ImageButton)item["imgEdit"].Controls[0];
                imageButton.Visible = false;

            }
        }

        if (e.Item is GridEditableItem && e.Item.IsInEditMode)
        {
            GridEditableItem item = e.Item as GridEditableItem;
            mlocal_strStoredProcName = StoredProcNames.Gender_uspGenderGetList;
            oEmployeePersonalData.Select(out mlocal_ds, mlocal_strStoredProcName);
            Label lblStatus = (Label)item.FindControl("lblApprovalStatus1");
            if (lblStatus.Text == "Y")
            {
                if (!e.Item.OwnerTableView.IsItemInserted)
                {
                    Label LBL1 = (Label)item.FindControl("lblMaritalStatus");
                    RadComboBox rdcmbGender = (RadComboBox)item.FindControl("rdcbGender");
                    rdcmbGender.DataSource = mlocal_ds;
                    rdcmbGender.DataTextField = TablesAndColumns.tblGender_GenderDesc;
                    rdcmbGender.DataValueField = TablesAndColumns.tblGender_GenderTypeID;
                    rdcmbGender.SelectedValue = (string)DataBinder.Eval(e.Item.DataItem, "MaritalTypeID").ToString();
                    //rdcmbGender.SelectedValue = LBL1.Text;
                    rdcmbGender.DataBind();

                    mlocal_strStoredProcName = USADAO.StoredProcNames.PayFrequency_uspPayFrequencySelect;
                    oEmployee.FedTaxID = Session["FedTaxID"].ToString();
                    oEmployee.Select(out mlocal_ds, mlocal_strStoredProcName);
                    RadComboBox ddlPayFrequencytype = (RadComboBox)item.FindControl("rdcbPayFrequency");
                    ddlPayFrequencytype.DataSource = mlocal_ds;
                    ddlPayFrequencytype.DataTextField = "PayFrequencyDesc";
                    ddlPayFrequencytype.DataValueField = "PayFrequencyType";
                    ddlPayFrequencytype.DataBind();
                    ddlPayFrequencytype.Enabled = false;
                    mlocal_ds.Clear();
                    RadDatePicker radDtStartDate = item.FindControl("radDtStartDate") as RadDatePicker;
                    RadDatePicker radDtEndDate = item.FindControl("radDtEndDate") as RadDatePicker;

                    strDate = radDtStartDate.SelectedDate.Value;
                    EndDt = radDtEndDate.SelectedDate.Value;
                }
            }
            else
            {

                rdwndwPersonal.RadConfirm("Are you sure?", "confirmCallBackFn", 300, 100, null, "My Confirm");  // Here If **OK** was clicked I would like to set **e.Item.Edit = true;** if cancel was clicked I would like to set **e.Item.Edit = false;**
            }
        }
    } 
```

但是我无法按要求实现有人可以帮助我。

# c - 在 SUSE linux 中找不到 omp.h 头文件

> ID：12106204
> 
> 赞同：1
> 
> 时间：2012-08-24T09:01:20.330
> 
> 标签：c, openmp, header-files, suse

我想在 Suse linux 中执行一个简单的 OPENMP 程序，当我使用命令“ **gcc -openmp example.c -O example** ”编译它时，它会给出错误“ **omp.h header not found** ”。如何包含这个头文件以便我可以执行这个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:16:55.660

> 当我用命令“gcc -openmp example.c -O example”编译它时

您的错误是在 GCC 中启用 OpenMP 处理的标志是`-fopenmp`而不是`-openmp`. `-fopenmp`路径会自动添加到`omp.h`包含路径列表中。

至于实际`omp.h`文件的位置 - 它通常与库文件夹中的其他支持文件一起放置。在基于 RedHat 的发行版上，它在`/usr/lib/gcc/<arch>-redhat-linux/<version>/include/omp.h`哪里`<arch>`是架构（例如`x86_64`）并且`<version>`是 GCC 版本（例如`4.4.4`）。其他发行版可能会选择不同的位置。

还有一件事 - 指定输出可执行文件的选项是`-o`(small letter `O`)。`-O`（大写字母`O`）启用对编译代码的一些基本优化。

# asp.net - 我可以为 WPF 和 MVC 使用相同的模型项目吗

> ID：12106207
> 
> 赞同：0
> 
> 时间：2012-08-24T09:01:25.440
> 
> 标签：asp.net, .net, wpf

我想开发 2 个应用程序，一个是 WPF 窗口应用程序和 ASP.Net MVC 应用程序。

因此，我们确实为这两个应用程序提供了相同的数据访问层和业务层。

所以我们可以为这两个应用程序使用相同的模型。

注意：担心的不是DAL，而是我的模型项目。

模型项目包含实体。

我的实体包含与 WPF 相关的功能，例如 InotifyPropertychanged、observablecollection。

如果我为 MVC 使用相同的实体，它真的是开销吗？

帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:09:10.150

该模型将引发所有这些未被侦听的事件 - 维护调用列表和检查是否有侦听器会产生一些开销。所有这些都可能是非常小的开销——可能不值得担心。

真正的问题是适用性 - WPF 和 MVC 非常不同，您使用它们开发的应用程序肯定是不同的。这意味着您需要将模型更改为适合其中一个或另一个，但是在某些情况下，如果不是不可能的话，使其演变为适合两者可能会非常棘手。

您应该有一个与 MVC 不同的 WPF 视图模型，因为一个模型不太可能同时适用于两者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:12:58.617

对的，这是可能的。您可以隔离您的域模型并在这两种情况下使用它。但是，您不应该将特定的相关技术内容放入您的实体中。

我的建议是面向服务的应用程序。使用 WCF、REST 或类似服务来处理模型，并且两者（桌面和 Web）都使用这些服务来检索他们需要用于演示的数据。您将封装您的域模型，因此它不会了解您的演示技术。

然后，您可以从您的服务中获取数据，并根据您的演示文稿的层技术构建您自己的模型对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:12:34.490

可以使用包含实体的模型项目。关于开销，选择将是存储库模式的实现和使用。如果您想使用相同的模型项目，请参阅[WPF 应用程序框架（WAF）](http://waf.codeplex.com/)一文。

# jquery - 浮动 div 之上的绝对定位 div

> ID：12106208
> 
> 赞同：0
> 
> 时间：2012-08-24T09:01:31.803
> 
> 标签：jquery, css

我在一个相对的父 div 中有两个 div。其中一个子 div 是浮动的，另一个是绝对的，因为我需要它们重叠。当浮动div向左滑动并消失时，我让jQuery从右侧滑动绝对div包围这两个元素？

```
 #part-one {  
       float:left;

    }

    #part-two {
       clear:both;    
       position:absolute;
       top:0;
    }

<div class="slider">
    <div id="part-one"></div>
    <div id="part-two"></div>
</div>

$('.next').click(function(){
   $("#part-one").hide('slide', { direction: "left" }, 1000);
   $("#part-two").hide('slide', { direction: "right" }, 1000);
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:35:26.567

“父 div 不环绕绝对值，而它使用浮动 div”

我猜这个链接[How to make the wrapping div element with relative position match child elements height?](https://stackoverflow.com/questions/6319500/how-to-make-the-wrapping-div-element-with-relative-position-match-child-elements) 和你说的类似。

# jquery - jQuery cookie 没有过期

> ID：12106210
> 
> 赞同：2
> 
> 时间：2012-08-24T09:01:32.923
> 
> 标签：jquery, cookies

不知道为什么我的 cookie 没有过期 - 代码提醒但 cookie 没有过期。

我希望能够在用户选择一个单选按钮时使 v1st cookie 过期

```
var my_cookie_value = $.cookie('preferences');
var autoTimer = null
var perfVal =  my_cookie_value.substring(0,1);

 $(function($) {
    if (my_cookie_value == null) { 
        $('#main a').click(function() {
            if($(this).attr("id") != "pB") {
            $.cookie('preferences', 'YYY', { expires: 365, path: '/', domain: '.mydomain.com'}); 
            }
            });

         $('#pB').click(function() {
         $.cookie('preferences', 'YYN', { expires: 365, path: '/', domain: '.mydomain.com'});
         });

//expiring cookies
        var perfVal =  my_cookie_value.substring(0,1);
          if (perfVal == "N") {
          $.cookie('v1st', null, {path: '/', domain: '.mydomain.com'});
         //alert('delete v1st');
        }
     }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T08:57:23.027

以上所有方法都有效，但我刚刚发现我试图删除的 cookie 正在被网络服务器在它过期后立即重置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:43:19.790

如果 cookie 不再使用，您可以直接删除它：

删除 cookie 的代码：

```
// returns false => No cookie found
// returns true  => A cookie was found
$.removeCookie('the_cookie'[, options]); 
```

注意：删除 cookie 时，您必须传递与设置 cookie 完全相同的路径、域和安全选项，除非您依赖默认选项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:27:39.200

尝试这样做：

```
$.cookie('v1st', null); 
```

# iphone - 在 iOS 中切换视图

> ID：12106212
> 
> 赞同：0
> 
> 时间：2012-08-24T09:01:34.673
> 
> 标签：iphone, view, navigation

我的故事板中有 3 个视图控制器，例如`Page1`、`Page2`和`Page3`。两者`Page1`和`Page2`都被推到`Page3`。我想要做的是当`Page3`点击返回按钮时，视图将 100% 返回`Page1`并且永远不会返回`Page2`。我现在使用的代码是

```
[self.navigationController popViewControllerAnimated:YES]; 
```

什么会回到它来自的页面有什么办法吗？我想修复它回来的页面，但不弹出回到它的来源。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T07:18:31.160

你应该使用

```
[self.navigationController popToRootViewControllerAnimated:true]; 
```

*如果Page1*是根目录，它将完美地为您工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T11:00:15.557

您应该创建带有后退按钮的自定义导航控制器，然后单击后退按钮编写我的代码以导航到`page 1`

在文件中拖动一个导航栏`.xib`并在其上放置一个后退按钮，

后退按钮上的代码片段，

```
-(void)BackButtonClick
{
  YourView *Obj = [[YourView alloc] initWithNibName:@"YourView" bundle:nil];
  [self.navigationController popViewController:Obj animated:YES];
  [Obj release];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T12:10:40.553

试试这个代码，

```
- (NSArray *)popToViewController:(UIViewController *)viewController animated:(BOOL)animated

 NSInteger currentIndex = [self.navigationController.viewControllers indexOfObject:self];
if( currentIndex-2 >= 0 ) 
{
   [self.navigationController popToViewController:[self.navigationController.viewControllers objectAtIndex:currentIndex-2] animated:YES];
} 
```

# sql - 更改 SQL 文件中的三个变量而不显式打开它

> ID：12106216
> 
> 赞同：0
> 
> 时间：2012-08-24T09:01:43.757
> 
> 标签：sql, automation, installation, windows-installer, editing

为了澄清我的问题的含义并提供一些背景信息，我和我的同事正在开发一个 msi 包（使用 WiX 3.5 开发），它可以使用我们的软件自动安装和配置终端。然而，我们技术说明中的一点表明，当时需要根据用户要求打开和更改一个 sql 文件，因此我们无法硬编码。

获取我们需要的变量是没有问题的，setup 可以导出一个 settings.ini 文件或任何保存我们需要的值的文件，问题是自动将这些值直接移动到一个 sql 文件中，尽可能少的用户交互。我们客户公司的员工不是软件人，所以我们需要想办法。

“SET”部分是安装时需要更新的字段：

```
DECLARE @Galaxy varchar(32)
SET @Galaxy = 'foo'
DECLARE @IPAddress varchar(15)
SET @IPAddress = 'foo'
DECLARE @Project varchar(32)
SET @Project = 'foo' 
```

任何见解都会非常有帮助，SQL 不是我通常的工作领域。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:02:20.420

根据您的要求，我得出结论，需要在每个终端上安装 SQL Server 客户端。因此 sqlcmd 可用，您可以使用该`:setvar`机制在执行脚本之前设置值。

请参阅[此示例](http://www.simple-talk.com/sql/sql-tools/the-sqlcmd-workbench/)，其中 :setvar 直接在 .sql 脚本中使用。使用 评估变量`$(variablename)`。这些变量也可以在命令行上设置（[变量优先级部分](http://msdn.microsoft.com/en-us/library/ms162773.aspx)），因此无需修改 .sql 文件。

# ios - 如何创建保留在 ipad 上的多列表头

> ID：12106222
> 
> 赞同：1
> 
> 时间：2012-08-24T09:02:02.823
> 
> 标签：ios, uitableview, storyboard

我有一个使用故事板从 UITableView 子类化的类，但我想根据所附图像定制 tableview。任何想法我怎样才能实现它？

谢谢你的帮助。 ![在此处输入图像描述](../Images/0ec0feabd46a317d0e254a6dc16e42bf.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:16:22.433

您也可以将 UILabel 添加到 UIView，然后只需将该 UIView 添加为 UITableView 的子视图。在 CGRectMake() 期间添加 UIView 时，只需传入负 Y 坐标；

然后你应该设置好，表头会随着 UITableView 滚动。

```
// for table header that scrolls with the table
[myTableView addSubview:tableHeaderView]; 
```

如果您不希望表格标题与表格一起滚动，那么您可以将 UIView 添加为视图控制器视图的子视图，而不是将 UIView 添加到 UITableView，即与 UITableView 处于同一级别：

```
// for non scrolling table header
[self.view addSubview:myTableView];
[self.view addSubview:tableHeaderView]; 
```

# perl - 使用 fcgiwrap 的 nginx 服务器上的 CGI 回复错误

> ID：12106224
> 
> 赞同：6
> 
> 时间：2012-08-24T09:02:08.743
> 
> 标签：perl, fastcgi, otrs

我有一个**在 debian wheezy 上运行的 nginx 服务器**。我正在安装**OTRS**。但是我们旧的**perl-fcgi 包装器**干扰了其他一些重要的过程，所以我们决定选择**fcgiwrap 包**：[http ://www.haschmi.de/de/otrs/otrs-on-nginx.html](http://www.haschmi.de/de/otrs/otrs-on-nginx.html)

所以我删除了旧的包装器并安装了新的包装器。旧包装纸有

```
fastcgi_pass 127.0.0.1:8999; 
```

和新的

```
fastcgi_pass unix:/var/run/fcgiwrap.socket; 
```

这是完整的配置

```
server {
   listen ip:80;

    server_name support.test.com;

    root /opt/otrs/var/httpd/htdocs;

    index index.html;
    location /otrs-web {
        gzip on;
        alias /opt/otrs/var/httpd/htdocs;
    }

   location ~ ^/otrs/(.*\.pl)(/.*)?$ {
   #try_files $uri =404;
    gzip off;
    fastcgi_pass unix:/var/run/fcgiwrap.socket;
    fastcgi_index index.pl;
    fastcgi_param SCRIPT_FILENAME /opt/otrs/bin/fcgi-bin/$1;

    fastcgi_param QUERY_STRING $query_string;
    fastcgi_param REQUEST_METHOD $request_method;
    fastcgi_param CONTENT_TYPE $content_type;
    fastcgi_param CONTENT_LENGTH $content_length;
    fastcgi_param GATEWAY_INTERFACE CGI/1.1;
    fastcgi_param SERVER_SOFTWARE nginx;
    fastcgi_param SCRIPT_NAME $fastcgi_script_name;
    fastcgi_param REQUEST_URI $request_uri;
    fastcgi_param DOCUMENT_URI $document_uri;
    fastcgi_param DOCUMENT_ROOT $document_root;
    fastcgi_param SERVER_PROTOCOL $server_protocol;
    fastcgi_param REMOTE_ADDR $remote_addr;
    fastcgi_param REMOTE_PORT $remote_port;
    fastcgi_param SERVER_ADDR $server_addr;
    fastcgi_param SERVER_PORT $server_port;
    fastcgi_param SERVER_NAME $server_name;
   }
} 
```

当我访问我们的 OTRS 时，一切正常。但是当我提交登录表单时，我得到了

```
An error occurred while reading CGI reply (no response received) 
```

有什么想法有什么问题吗？我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-07T14:28:26.363

当前的 Ubuntu 代表 (12.04) 不包括正确的 fcgiwrap 版本。

您需要直接从[https://github.com/gnosek/fcgiwrap](https://github.com/gnosek/fcgiwrap)编译 fcgiwrap并使用 -f 选项来运行包装器。它将导致 err_log 被重定向到服务器 error.log。要更改 fcgiwrap 启动选项，请编辑**/etc/init.d/fcgiwrap**并取消注释/修改以下行：

```
DAEMON_OPTS="-f" 
```

在此之后重新启动 fcgiwrap：

```
service fcgiwrap restart 
```

# java - 打包的 Java 应用程序在 Windows 7 上以 Windows XP 兼容模式运行得更快

> ID：12106225
> 
> 赞同：10
> 
> 时间：2012-08-24T09:02:10.187
> 
> 标签：java, windows-7-x64

根据我的一些客户的说法，Java 应用程序在 Windows 7 上以 Windows XP 兼容模式运行得更快，但为什么呢？

我自己似乎没有问题，但他们发现应用程序似乎正在消耗 100% cpu 而什么都不做，只需将 exe 或调用 java 的批处理文件的属性设置为 Windows XP 兼容模式即可修复它，如何可以吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:44:35.017

没有明确的答案，只是一种在现场诊断到底发生了什么的方法。

您必须确认哪个进程正在消耗 CPU 以及它到底在做什么，例如通过监控系统调用完成：像[Process Explorer](http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx)和[Process Monitor这样的](http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx)*sysinternals*工具应该会提供有关可能出错的线索。至少，您可以将执行配置文件与没有 XP 兼容模式进行比较。

由于问题可能来自 Java 应用程序本身，您应该尝试使用[Netbeans Profiler](http://profiler.netbeans.org/)等工具进行 JVM 分析。也许代码依赖于一些旧的 Windows XP 特定的东西，如在 Windows 7 中不再存在或已更改的目录结构或环境变量（但您在自己的安装中保留/重新应用）......导致不正确的错误处理和无限循环例如重试次数。

本机 Windows 分析器也可能是一种选择，但如果没有 JVM 源代码，以及由于 JIT 而关注 Java 代码时，分析起来就太困难了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T16:47:02.923

没有直接的解决方案，但是您的问题非常开放。

如果您的客户可以始终如一地重现这一点，您可能会看到他们是否愿意向您发送[远程协助请求](http://technet.microsoft.com/en-us/library/bb457004.aspx)，让您进入他们的桌面。然后至少您可以看到问题的实际效果，并尝试使用其他人提到的工具在他们的机器上进行调试。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-03T05:04:35.383

这是因为内部任务的切换。与 Windows 7 相比，Windows Xp 在兼容模式下的任务切换更多。这也可能是由于防火墙的原因。检查 Windows 7 中的防火墙状态。

# android - 如何检测软键盘输入法会覆盖整个屏幕？

> ID：12106228
> 
> 赞同：3
> 
> 时间：2012-08-24T09:02:14.813
> 
> 标签：android, android-softkeyboard

我正在创建一个应用程序，用户可以在其中单击选项卡并以编程方式显示软键盘。但是，如果它要覆盖整个屏幕（如提取的 EditText），我不想显示软键盘，如下所示：

![在此处输入图像描述](../Images/6943ffb6f7515c23c8fcf70599cf9de3.png)

检测屏幕方向可能会有所帮助，但平板电脑上的 AFAIK，即使在横向上，软键盘也不会覆盖整个屏幕。那么还有其他方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T13:04:21.110

不确定它是否适合您，但也许您可以[禁用全屏软输入](https://stackoverflow.com/q/4336762/1023092)，而不是弄清楚检测部分。

# salesforce - 如何复制标准 Salesforce 按钮？

> ID：12106229
> 
> 赞同：0
> 
> 时间：2012-08-24T09:02:16.140
> 
> 标签：salesforce

我有一个带有相关列表的`Case`对象页面布局。我想复制 的按钮和 的按钮，它们都是标准按钮。`Case Comments``Emails``New``Case Comments``Send an Email``Emails`

通过重复，我的意思是我想复制它们并将它们简单地添加到页面的最顶部，在那里它们可以坐在`Edit`,`Delete`和`Close Case`按钮旁边。

这可能吗？如果没有，我如何使用自定义按钮触发新电子邮件或新案例评论？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:54:02.410

是的，这是可能的。只需转到 Case 对象设置并创建一个新的自定义按钮：

*   标签：新案例（或其他）
*   显示类型：详情页按钮
*   行为：执行 JavaScript
*   内容来源：Onclick JavScript

对于代码区域，添加以下命令：

*   选择字段类型：$Action
*   插入字段：您的对象

代码将自动插入。像这样把它放到 javascript window.open 函数中：

```
window.open("{!URLFOR($Action.Case.NewCase)}"); 
```

Noe 只需保存它并将新按钮插入到您的标准页面布局中。

# lauterbach - TRACE32，PPC5646C 的 System.up 命令不起作用

> ID：12106230
> 
> 赞同：0
> 
> 时间：2012-08-24T09:02:20.320
> 
> 标签：lauterbach

你能帮我解决一个错误吗，我在 TRACE32 Lauterbach 调试器的命令 SYStem.up 之后得到。它给了我一个错误代码：“emulation pod configuration error”

我将不胜感激任何提示！

谢谢

亚历山大

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T07:32:59.077

此错误可能有三个来源： SYStem 窗口中的 CPU 选择与目标上的 CPU 不匹配。检查选择是否与目标上的处理器匹配。如果可用，请尝试使用自动检测（PPC..XX 选择）。CPU 检测失败。检查与目标的 JTAG 连接。使用的调试器软件版本不支持目标上的 CPU。在大多数情况下，“区域”窗口中会提供附加信息。

查看 Lauterbach 网站以获取适用于您的 CPU 的任何软件更新。

# sql-server-2008 - 如何从 SQL Server 2008 连接到远程 sql server

> ID：12106231
> 
> 赞同：0
> 
> 时间：2012-08-24T09:02:22.100
> 
> 标签：sql-server-2008, linked-server

我正在使用 SQL Server 2008。我必须访问由第三方维护的公司门户数据库。

他们给了我登录详细信息。请解释如何连接到他们的数据库。我不能在这里发布链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:11:28.013

您应该能够为此使用[链接服务器](http://msdn.microsoft.com/en-us/library/ms188279.aspx)功能。

它用于：

> 配置链接服务器以使 SQL Server 数据库引擎能够针对 SQL Server 实例之外的 OLE DB 数据源执行命令。

# facebook - 提要对话框消息不起作用

> ID：12106233
> 
> 赞同：1
> 
> 时间：2012-08-24T09:02:48.710
> 
> 标签：facebook, facebook-javascript-sdk

我正在使用 Facebook 的“发布到您的墙上”弹出窗口在用户墙上发布消息。它显示了一个文本区域，用户可以在其中编写消息。我想在该文本区域中放置自定义文本；现在它有一个水印，上面写着“写一些东西......”。我需要更换那个。

我正在使用与[https://developers.facebook.com/docs/channels/](https://developers.facebook.com/docs/channels/)相同的代码：

```
FB.init({ 
        appId:'YOUR_APP_ID', cookie:true, 
        status:true, xfbml:true 
     });

     FB.ui({ method: 'feed', 
        message: 'Facebook for Websites is super-cool'}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:14:48.220

```
FB.ui(
  {
    method: 'feed',
    name: 'Facebook Dialogs',
    link: 'https://developers.facebook.com/docs/reference/dialogs/',
    message: 'Dialogs provide a simple, consistent interface for applications to interface with users.'
  }); 
```

添加链接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T12:04:44.843

根据[本次 facebook 平台更新](http://developers.facebook.com/blog/post/510/)，自 7 月 12 日起不再支持*message字段。*

# c# - PayPal SOAP API 响应需要手动解析

> ID：12106242
> 
> 赞同：2
> 
> 时间：2012-08-24T09:03:31.753
> 
> 标签：c#, visual-studio-2010, soap, paypal

我目前正在开发一个 Web 项目，其中包括将 PayPal 的 Express Checkout 实施为支付服务。该项目使用 C#，我使用 Visual Studio 2010 和 PayPal API 的 SOAP 版本。我使用的 API 版本是 91.0（尝试将其切换到其他版本，但问题仍然存在），我正在沙箱中进行开发。

在 SOAP API 开发人员指南中，我找到了 WSDL 以将我的项目中的服务作为 Web 参考导入。我可以完成 Express Checkout 付款流程的每一步。发出请求是在公园里散步，但使用来自服务的响应却不是。

由于某种原因，响应中的数据字段没有像我期望的那样自动填写。所有有用的字段都是空的。因此，我必须手动解析响应中的 XML 字符串以获取我需要的数据，而不仅仅是访问正确的对象。不用说，我不想这样工作。

支付流程最后一步的快速示例（DoExpressCheckout）：

```
PayPalAPIAASoapBinding apiaa = new PayPalAPIAASoapBinding();
apiaa.RequesterCredentials = ... ;

DoExpressCheckoutPaymentReq decreq = new DoExpressCheckoutPaymentReq();
decreq.DoExpressCheckoutPaymentRequest = new DoExpressCheckoutPaymentRequestType();
/* Filling in all the fields required */

DoExpressCheckoutPaymentResponseType decres = apiaa.DoExpressCheckoutPayment(decreq); 
```

decres 对象通常有一个字段 DoExpressCheckoutPaymentResponseDetails ，其中包含我需要的所有详细信息。根据手册和我的期望，例如，我应该能够读取响应中返回的令牌，如下所示：

```
string token = decres.DoExpressCheckoutPaymentResponseDetails.Token; 
```

相反， DoExpressCheckoutPaymentResponseDetails 字段为空，我得到了这样的令牌：

```
string token = decres.Any.ChildNodes[0].InnerText; 
```

我没有从 PayPal 服务收到任何错误代码。

更奇怪的是当我使用 TransactionSearch 函数查找多个交易时。假设函数返回 50 笔交易。49 笔交易填写在正确的对象中，人们在阅读 API 文档后可以找到它们。然而，第一个事务不是，必须从响应中的 Any 字段手动解析。

有没有人遇到过相同或类似的问题？

Fyi：我习惯于用 PHP 编写 Web 应用程序。根据特定需求，我在 C# 中执行此操作。这是标准的 C# 或 Visual Studio 行为（怀疑）还是我在 Visual Studio 中以错误的方式执行/配置 SOAP 服务的一个方面？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-16T06:04:44.617

已解决：解决方案是停止使用旧版“网络参考”，改用较新的标准服务参考。

我的大部分代码都可以在新的服务参考中正常工作，我只需要设置 Web.config 并更改创建服务实例的方式。

返回新的 PayPalAPIAAInterfaceClient("PayPalAPIAA"); 取代了 PayPalAPIAASoapBinding。

原帖如下......

我支持这个问题，这与无效的凭据、失败的事务或不匹配的 API 版本无关。我做的一切都是正确的，响应确实包含一个令牌，但它进入 anyField 变量而不是它所属的位置。

在我从 VS 2008 .Net 3.5 升级到 VS 2010 .Net 4 后，这个错误引起了它的丑陋。我怀疑这个错误不在 PayPal 方面，而是在 .Net 4 XML Parsing 中的一个错误。

令牌应该在这里进入令牌属性...

```
[System.CodeDom.Compiler.GeneratedCodeAttribute("System.Xml", "4.0.30319.233")]
[System.SerializableAttribute()]
[System.Diagnostics.DebuggerStepThroughAttribute()]
[System.ComponentModel.DesignerCategoryAttribute("code")]
[System.Xml.Serialization.XmlTypeAttribute(Namespace="urn:ebay:api:PayPalAPI")]
public partial class SetExpressCheckoutResponseType : AbstractResponseType {

    private string tokenField;

    /// <remarks/>
    [System.Xml.Serialization.XmlElementAttribute(Order=0)]
    public string Token {
        get {
            return this.tokenField;
        }
        set {
            this.tokenField = value;
        }
    }
} 
```

相反，它最终在这里......

```
[System.Xml.Serialization.XmlAnyElementAttribute()]
        public System.Xml.XmlElement Any {
            get {
                return this.anyField;
            }
            set {
                this.anyField = value;
            }
        } 
```

我也许可以在 Reference.cs 文件中修复这个问题，但是一旦我更新了 Web 服务引用，我的修复就会被覆盖。

这是其他有同样问题的人，但他们的解决方案对我不起作用。 [https://www.x.com/developers/paypal/forums/soap/paypal-api-aa-and-net-wcf-undeserialized-fields](https://www.x.com/developers/paypal/forums/soap/paypal-api-aa-and-net-wcf-undeserialized-fields)

帮助！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T22:13:58.703

具体很难说。通常，这些字段在事务失败时为空，并在事务成功时出现。

`decres.Ack`打电话后查`DoExpressCheckoutPayment`吗？如果`decres.Ack`是`AckCodeType.Success`或`AckCodeType.SuccessWithWarning`，则事务成功，您应该期望`DoExpressCheckoutPaymentResponseDetails`被填充。否则，交易失败，字段将为空。

# emacs - Emacs yasnippet 镜像/转换

> ID：12106247
> 
> 赞同：1
> 
> 时间：2012-08-24T09:03:56.807
> 
> 标签：emacs, yasnippet

我编写了这个片段来在 Java 源代码中插入一个新变量：

```
# -*- mode: snippet -*-
# name: variable
# key: v
# --
$1 ${1:$(java-default-variable-name text)} = new $1($2);
$0 
```

它根据类型声明并创建一个变量，例如

```
AtomicInteger-> AtomicInteger ai = new AtomicInteger(); 
```

缺少的是，如果我不喜欢默认变量名，我不能在代码段中提供另一个变量名。我试着写：

```
$1 ${2:$(java-default-variable-name $1)} 
```

或者

```
$1 ${2:`(java-default-variable-name $1)`} 
```

但它不起作用。有没有办法将字段 $1 转换为字段 $2？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T10:53:28.860

我不知道 java-default-variable-name 的确切上下文 - 我假设它需要一个字符串并返回另一个字符串？

如果是这样，我认为这大致就是您所追求的：

```
$1 ${2:varname$(let* ((end (- (point) 1))
           (start (save-excursion (backward-word) (point)))
           (type (buffer-substring start end)))
         (if (equal yas/text "varname")
            (java-default-variable-name type)
            yas/text))} = new $1($3); 
```

$0

# mysql - 从 XML 数据创建 SQL 表

> ID：12106250
> 
> 赞同：0
> 
> 时间：2012-08-24T09:03:58.887
> 
> 标签：mysql, xml

我有一个包含一些数据的 XML 文件，如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<countries>
    <country id="Canada">
        <location>
            <code>CAXX0001</code>
            <name>Abbotsford</name>
        </location>
        <location>
            <code>CAXX0002</code>
            <name>Agassiz</name>
        </location>
    </country>
    <country id="Belgium">
        <location>
            <code>BEXX0001</code>
            <name>Anderlecht</name>
        </location>
    </country>
</countries> 
```

我需要使用其中的数据来创建具有以下字段的数据库表（MYSQL 5.1）

**countryName：（**从country标签的id属性读取），
**locationCode：（**从code子标签的值读取），
**locationName：（**从name子标签的值读取）

任何有关 SQL 语法的帮助将不胜感激。
谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T17:45:36.190

谢谢。我找到了使用 LOAD XML INFILE 方法的解决方案

http://grox.net/doc/mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-xml

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-19T15:42:04.320

使用 PHP 来执行此操作。这真的很简单。:-)

```
$info = file_get_contents( "./MyFile.xml" );
$info = htmlspecialchars_decode( $info );
$xml = simplexml_load_string( $info );
$json = json_encode( $xml );
$array = json_decode( $json, true ); 
```

所以基本上，你首先获取 XML，然后删除任何特殊字符（有时 XML 会以 &-lt-;column&-gt-; 的形式出现。（当然要减去破折号！）所以你使用特殊字符解码来摆脱那些留下诸如“<column>”之类的东西。然后使用简单的 XML 将字符串加载到 XML 数组中。然后使用 json_encode 将 XML 转换为 JSON。然后使用 json_decode 转换 JSON数组回到关联数组。一旦你以这种形式拥有它，你就可以使用 FOREACH 命令来迭代数组。我注意到这似乎总是使你迭代的数组在数组中有两个东西: NewDataSet 和 Table. 所以我总是这样做：

```
 foreach( $array['NewDataSet']['Table'] as $k=>$v ){
      .   .   .
 } 
```

它也可以有空白阵列卡在那里。这些是没有价值的东西。所以一个 INSERT 命令看起来像这样：

```
foreach( $array["NewDataSet"]["Table"] as $k=>$v ){
    $sql = "insert into categories (";
    $val = "values (";
    foreach( $v as $k1=>$v1 ){
        $sql .= "$k1,";

        if( is_numeric($v1) ){ $val .= "$v1,"; }
            else if( is_array($v1) ){ $val .= "'',"; }
            else { $val .= "'$v1',"; }
        }

    $sql = substr( $sql, 0, -1 ) . ") " . substr( $val, 0, -1 ) . ")";
    $s = dosql( $sql );
    } 
```

但是你可以改变一些东西来做一个 CREATE TABLE 命令。例如，以下内容来自一个网站，其中一切都通过 XML 完成

```
<BrandUpdate>
<Input>
<param name="CustomerNumber" maxlength="5" type="xs:numeric-string">Customer Number</param>
<param name="UserName" maxlength="50" type="xs:string">User Name</param>
<param name="Password" maxlength="15" type="xs:string">Password</param>
<param name="Source" maxlength="8" type="xs:string">Description of source using service</param>
</Input>
<Output>
<DataSet>
<xs:schema id="NewDataSet">
<xs:element name="NewDataSet" msdata:IsDataSet="true" msdata:UseCurrentLocale="true">
<xs:complexType>
<xs:choice minOccurs="0" maxOccurs="unbounded"><xs:element name="Table">
<xs:complexType>
<xs:sequence>
<xs:element name="BRDNO" type="xs:decimal" minOccurs="0" MaxLength="4,0" Description="Brand Id"/>
<xs:element name="BRDNM" type="xs:string" minOccurs="0" MaxLength="50" Description="Brand Name"/>
<xs:element name="BRDURL" type="xs:string" minOccurs="0" MaxLength="50" Description="Brand URL"/>
<xs:element name="ITCOUNT" type="xs:int" minOccurs="0" Description="Count of Brand Items"/>
</xs:sequence>
</xs:complexType>
</xs:element>
</xs:choice>
</xs:complexType>
</xs:element></xs:schema>
</DataSet>
</Output>
</BrandUpdate> 
```

如您所见 - 设置 CREATE TABLE 命令的所有信息都已经存在。您所要做的就是访问 MySQL 网站，了解如何布局 CREATE TABLE 命令，然后使用 FOREACH 命令循环遍历数组并设置命令以创建表条目。您要做的最后一件事是执行 MySQL 命令。

我在使用 MySQLi 时使用以下内容。这很简单但有效

```
################################################################################
#   dosql(). Do the SQL command.
################################################################################
function dosql( $sql )
{
    global $mysqli;

    echo "SQL = $sql\n";
    $res = $mysqli->query( $sql );
    if( !$res ){
        $ary = debug_backtrace();
        if( isset($ary[1]) ){ $a = $ary[1]['line']; }
            else if( isset( $ary[0]) ){ $a = $ary[0]['line']; }
            else { $a = "???"; }

        echo "ERROR @ " . $a . " : (" .  $mysqli->errno . ")\n" . $mysqli->error . "\n\n";
        echo "SQL = $sql\n";
        exit;
        }

    if( preg_match("/insert/i", $sql) ){ return $mysqli->insert_id; }
    if( preg_match("/delete/i", $sql) ){ return true; }
    if( !is_object($res) ){ return null; }

    $cnt = -1;
    $ary = array();
    $res->data_seek(0);
    while( $row = $res->fetch_assoc() ){
        $cnt++;
        foreach( $row as $k=>$v ){ $ary[$cnt][$k] = $v; }
        }

    return $ary;
} 
```

我通过以下方式打开连接：

```
echo "Establishing a connection to the database...please wait.\n";
$mysqli = new mysqli( "<HOST>", "<USR>", "<PWD>", "<TABLE>" );
if( $mysqli->connect_errno ){
    echo "Failed to connect to MySQL: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
    exit;
    } 
```

我希望这对你有所帮助。:-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:06:50.527

使用 Python SAX 解析器来处理 XML 文件。

# xml - 如果元素存在于一组范围中，如何在 XML 模式中定义它

> ID：12106256
> 
> 赞同：0
> 
> 时间：2012-08-24T09:04:14.123
> 
> 标签：xml, xsd

我如何在 XML 模式中定义一个元素，例如

元素 A 只能出现在 1-100 400-450 600-700 之间。
在验证时必须拒绝这些范围以外的值

感谢您的快速回复我尝试过这种方式

`<xs:element name="verification">`
`<xs:simpleType>`
`<xs:union>`

```
<xs:simpleType>
 <xs:restriction base="xs:integer">
  <xs:minInclusive value="1" />
  <xs:maxInclusive value="100" />
 </xs:restriction>
</xs:simpleType>

<xs:simpleType>
 <xs:restriction base="xs:integer">
  <xs:minInclusive value="200" />
  <xs:maxInclusive value="250" />
 </xs:restriction>
</xs:simpleType>

<xs:simpleType>
 <xs:restriction base="xs:integer">
  <xs:minInclusive value="600" />
  <xs:maxInclusive value="610" />
 </xs:restriction>
</xs:simpleType>

</xs:union> 
```

`</xs:simpleType>`
`</xs:element>`

但它也无法接受 125 和 500 之类的值，也没有显示验证错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:35:12.040

为每个值范围定义整数 one 的三个子类型（使用 minInclusive 和 maxInclusive），然后定义一个类型，它是这三个的并集。

# c# - DetailsView - 调用 javascript 函数的“编辑”按钮

> ID：12106257
> 
> 赞同：1
> 
> 时间：2012-08-24T09:04:26.743
> 
> 标签：c#, jquery, asp.net, detailsview

我有许多 DetailsView-Controls，我用一个简单的 jQuery 函数来切换它们的可见性。粗略的轮廓：用户点击“个人”链接，包含“个人”的详细信息视图出现，而所有其他详细信息视图`<divs>`消失。所有这些的默认状态`<divs>`都是隐藏的。

现在出现了以下问题：一旦用户按下DetailsView-Control 的生成的EDIT 按钮，页面就会得到回发，并且所有的div 都被再次隐藏。

我看到以下可能性（也许你看到更多？）：

1.  更改 jQuery 函数，即 s 需要显式隐藏
2.  不要让编辑按钮自动创建，而是为每个 DV 添加一个自定义按钮（带有`'onclick=javascript: ...'`），这意味着我还需要添加“更新”和“取消”按钮
3.  找到一种方法将`'onclick=javascript: ...'`-property 添加到现有的 EDIT 按钮

当然我更喜欢#3 ;)，或者也许有人有更好的主意？#1 的问题是我的 jQuery 有点“不太好”，#2 的问题是我必须为相当多的 DV 创建这些按钮/功能。

提前致谢！:)

* * *

编辑; 顺便说一下，这里是控制我的 jQuery 片段

```
<script type="text/javascript">
    function toggleVisibility(newSection) {

        $(".details_container").not("#" + newSection).hide();
        $("#" + newSection).show();
    }
</script> 
```

我所有要控制的 div 都属于“details_container”类。也许有两行代码可以添加某种“this-is-my-active-div”，这很容易做到吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:21:37.557

你能提供这个按钮的aspx代码吗？

假设它是 ImageButton`RowDataBound`事件

```
 ((ImageButton)e.Row.Cells[0].Controls[0]).Attributes.add("onclick", "return YourFunction();"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:28:43.390

如果你只需要关心显示和隐藏 div，我建议设置一个全局变量来知道哪个 div 是可见的......例如 public ind VisibleDivId=1 //这意味着第一个 div 是可见的。（将其设置为 Public )

在编辑按钮单击事件上设置变量值。即如果单击第二个 DetailsView 的编辑，则设置 VisibleDivId=2

在 Body Load 中调用 Javascript 函数来显示隐藏 Divs

```
function ShowHide()
{

var DivId=<%=VisibleDivId %>
//Code to Show Hide Div.

} 
```

**否则** 您也可以从编辑事件中调用 Javascript 函数

```
Page.ClientScript.RegisterStartupScript(GetType(), "Key", "ShowHide();", true); 
```

# java - Log4j FileAppender 重新创建已删除的文件

> ID：12106258
> 
> 赞同：5
> 
> 时间：2012-08-24T09:04:29.437
> 
> 标签：java, log4j, fileappender

我在我正在从事的项目中使用 Log4j 作为日志记录框架。我有以下情况： Log4j 被配置为将日志写入日志文件。在某些时候，此日志文件被复制到另一个目的地并被删除。日志框架继续工作，但日志没有写入日志文件，因为它被删除了。有没有办法告诉 Log4j 重新创建文件并继续将日志写入日志文件。

最好的问候，拉希德

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-07-30T11:53:47.420

我浏览了`log4j`. 初始化 FileAppender/RollingFileAppender 时，`FileOutputStream`会创建一个指向该文件的实例。创建一个新`FileDescriptor`对象来表示此文件连接。这就是原因，其他解决方案（例如通过 Cron 监视文件和通过覆盖在附加方法中创建文件）对我不起作用，因为新文件描述符已分配给新文件。Log4j Writer 仍然指向旧的 FileDescriptor。

解决方案是检查文件是否存在，如果不存在，则调用 FileAppender 类中的 activeOptions 方法。

```
package org.apache.log4j;

import java.io.File;
import org.apache.log4j.spi.LoggingEvent;

public class ModifiedRollingFileAppender extends RollingFileAppender {

    @Override 
    public void append(LoggingEvent event) {
        checkLogFileExist();
        super.append(event);
    }

    private void checkLogFileExist(){
        File logFile = new File(super.fileName);
        if (!logFile.exists()) {
            this.activateOptions();
        }
    }
} 
```

最后将其添加到 log4j.properties 文件中：

```
log4j.rootLogger=DEBUG, A1
log4j.appender.A1=org.apache.log4j.ModifiedRollingFileAppender
log4j.appender.A1.File=/path/to/file
log4j.appender.A1.layout=org.apache.log4j.PatternLayout
log4j.appender.A1.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss,SSS} %p %c{1}: %m%n

//Skip the below lines for FileAppender
log4j.appender.A1.MaxFileSize=10MB
log4j.appender.A1.MaxBackupIndex=2 
```

**注意**：我已经为 log4j 1.2.17 测试过这个

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:23:45.053

确保您可以在 log4j 文件中声明这一行

```
 log4j.appender.rollingFile.File=D:/myapp/mylog.log 
```

如果您已经声明了它，您可以随意删除或替换日志文件。然后重新运行程序并在此路径中创建新的日志文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T09:27:10.010

我研究了log4j的来源，发现log4j无法创建新的日志文件，它只是在删除日志文件时将错误消息打印到system.err

```
 /** 
     This method determines if there is a sense in attempting to append. 

     <p>It checks whether there is a set output target and also if 
     there is a set layout. If these checks fail, then the boolean 
     value <code>false</code> is returned. */  

  protected   boolean checkEntryConditions() {  
    if(this.closed) {  
      LogLog.warn("Not allowed to write to a closed appender.");  
      return false;  
    }  

    if(this.qw == null) {  
      errorHandler.error("No output stream or file set for the appender named ["+  
            name+"].");  
      return false;  
    }  

    if(this.layout == null) {  
      errorHandler.error("No layout set for the appender named ["+ name+"].");  
      return false;  
    }  
    return true;  
  } 
```

我认为有两种解决方法

1.  创建另一个 cron 线程来监控日志文件
2.  在getLog或getInstance(singleton)中添加判断，检查日志文件是否存在，如果不存在则init log4j

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-24T12:33:27.940

试试这门课

```
package wodong.test;
import java.io.File;
import java.io.IOException;

import org.apache.log4j.FileAppender;
import org.apache.log4j.spi.LoggingEvent;

public class LastFileAppender extends FileAppender {
    @Override
    public void append(LoggingEvent event) {
        checkLogFileExist();
        super.append(event);
    }
    private void checkLogFileExist(){
        File logFile = new File(super.fileName);
        if (!logFile.exists()) {
            try {
                logFile.createNewFile();
            } catch (IOException e) {
                System.out.println("Error while create new log file.");
            }
        }
    }
} 
```

还要编辑 log4j 配置文件

```
log4j.appender.R=wodong.test.LastFileAppender 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-25T15:57:30.093

试试这个。我现在没有Linux机器，所以我不确定它是否可以解决性能问题。

```
package wodong.test;
import java.io.File;
import java.io.IOException;

import org.apache.log4j.FileAppender;
import org.apache.log4j.spi.LoggingEvent;

public class LastFileAppender extends FileAppender {
    @Override
    public void append(LoggingEvent event) {

        checkLogFileExist();
        super.append(event);
    }

    private void checkLogFileExist() {
        if (qw == null) {
            File logFile = new File(super.fileName);
            if (!logFile.exists()) {
                try {
                    logFile.createNewFile();
                } catch (IOException e) {
                    System.out.println("Error while create new log file.");
                }
            }
        }
    }
} 
```

# android - sqlite cursor.close 需要太多时间

> ID：12106260
> 
> 赞同：0
> 
> 时间：2012-08-24T09:04:37.173
> 
> 标签：android, sqlite

我的代码有一些 sqlite 运算符。我执行一个 sql，它有**500 行**。执行和获取行需要很短的时间，但是当我调用`cursor.close()`函数时，需要**10 秒**。

我怎样才能减少这个时间消耗？

```
Cursor cursor = database.rawQuery(sql, null);
while(cursor.moveToNext()){
     String str1 = cursor.getString(0);
     String str2 = cursor.getString(1);
     System.out.println(str1+" and "+str2);
}
cursor.close();  // this line takes 13 seconds. but above code takes only 200 ms 
```

代码是这样的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:23:55.940

我建议你使用`startManagingCursor(Cursor c)`活动类的方法。让活动根据活动生命周期为您处理光标..

表单文档[StartManagingCursor](http://developer.android.com/reference/android/app/Activity.html#startManagingCursor%28android.database.Cursor%29) ...

```
public void startManagingCursor (Cursor c)
Since: API Level 1 
```

**此方法已弃用。** 将新的 CursorLoader 类与 LoaderManager 一起使用；这也可以通过 Android 兼容包在旧平台上使用。

此方法允许活动根据活动的生命周期为您管理给定游标的生命周期。也就是说，当活动停止时，它会自动在给定的光标上调用 deactivate()，当它稍后重新启动时，它会为你调用 requery()。当活动被销毁时，所有托管游标将自动关闭。

如果您的目标是**HONEYCOMB**或更高版本，请考虑改用`LoaderManager`，可通过`getLoaderManager()`.

# android - onclick后切换按钮颜色

> ID：12106262
> 
> 赞同：0
> 
> 时间：2012-08-24T09:04:53.317
> 
> 标签：android

我有几个按钮。我希望当我点击任何一个按钮时，它的颜色应该改变，其他按钮应该保持不变。下次当我点击其他按钮时，它的颜色应该改变，其他保持不变（或按默认状态），等等。这是我的代码

```
switch(v.getId())
{
case R.id.bt1:
bt11.getBackground().setColorFilter(Color.CYAN,PorterDuff.Mode.Multiple);
bt12.setBackgroundResource(android.R.drawable.btn_default);
break;

case R.id.bt2:
bt12.getBackground().setColorFilter(Color.CYAN,PorterDuff.Mode.Multiple);
bt11.setBackgroundResource(android.R.drawable.btn_default);
break;
} 
```

但是当我第一次按下按钮 bt11 时，它的颜色变成青色，当我按下 bt12 时，它的颜色变成青色，第一个按钮，即 bt11 进入默认状态，但下次一切都出错了，两个按钮都保持青色

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:18:29.810

尝试

```
button.setBackgroundColor( android.graphics.Color.GREEN); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:39:57.763

试试这个，你的代码中的问题是你在按钮的 bg 属性上放置了一个颜色过滤器，即使你更改了 bg，它也会保留，而不是在 imgand 上设置过滤器并将其设置为 bg fr btn

```
 switch(v.getId())
    {
    case R.id.bt1:
        Drawable d=b11.getBackground();
        d.setColorFilter(Color.CYAN,PorterDuff.Mode.MULTIPLY);

        b11.setBackgroundDrawable(d);
        b12.setBackgroundResource(android.R.drawable.btn_default);
    break;

    case R.id.bt2:
    //b2.getBackground().setColorFilter(Color.CYAN,PorterDuff.Mode.MULTIPLY);
    Drawable dd=b12.getBackground();
    dd.setColorFilter(Color.CYAN,PorterDuff.Mode.MULTIPLY);

    b12.setBackgroundDrawable(dd);
    b11.setBackgroundResource(android.R.drawable.btn_default);
    break;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:44:16.360

“下次一切都出错了，两个按钮都保持青色”，因为当您单击其他按钮时，您只是更改了其他按钮背景，但我猜颜色保持不变。您还必须更改背景颜色。

```
switch(v.getId())
{
case R.id.bt1:
bt11.getBackground().setColorFilter(Color.CYAN,PorterDuff.Mode.Multiple);
bt12.setBackgroundResource(android.R.drawable.btn_default);
bt12.setBackgroundColor(Black);
break;

case R.id.bt2:
bt12.getBackground().setColorFilter(Color.CYAN,PorterDuff.Mode.Multiple);
bt11.setBackgroundResource(android.R.drawable.btn_default);
bt11.setBackgroundColor(Black);
break;
} 
```

# opencv - 同步多个摄像头以提高帧率

> ID：12106263
> 
> 赞同：0
> 
> 时间：2012-08-24T09:04:55.450
> 
> 标签：opencv, frame-rate

我一直在阅读有关从多个摄像头读取帧的信息，但似乎到处有人试图同时从多个摄像头抓取帧以用于不同目的（如立体视觉），但我找不到在产生具有提升帧速率的组合视频流的时间略有不同。

一般来说，这似乎是一项相当危险的工作，但我的设置非常特殊，因此我可以轻松地重新调整框架彼此：摄像机和舞台几乎完全垂直并且彼此非常接近，而舞台实际上是一个平面所以基本上视差不是问题。

我已经阅读了有关使用 OpenCV 和多线程的信息（尽管我怀疑我不需要线程，因为过程的顺序性）。有没有人已经尝试过做这样的事情？FTR，我的相机是三台 PS3 Eye，我需要高分辨率（VGA）和高帧率（一台相机在 Linux 下以 VGA 分辨率提供 30 fps）。

# objective-c - 应用程序在 iPad 1 上崩溃，而不是在 iPad 2 或第三代上

> ID：12106264
> 
> 赞同：0
> 
> 时间：2012-08-24T09:04:56.610
> 
> 标签：objective-c, ios, ipad, ios-simulator

我目前正在开发一个通过 Ad Hoc 分发的企业应用程序。我们已经在 iPad 2 和 3rd Gen 上测试了该应用程序，它运行良好，在模拟器中也是如此，但在客户端 iPad 1 上它不断终止。

iOS 版本 5.1.1 Xcode 版本 4.4.1

iPad 2+3 有更多的内存和 CPU 能力，这可能是导致应用程序终止的原因。

有什么方法可以检查吗？/ 优化应用程序以在 iPad 1 上正常工作。

任何建议似乎都是一个非常不寻常的错误。有没有办法让模拟器表现得像 iPad 1。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:14:15.613

听起来你确实有记忆问题。您是否尝试过在 Instruments 中运行您的应用程序并查看内存分配/泄漏？这将使您了解可以在哪里减少内存占用。

显然，您的内存需求取决于应用程序，但对于某种数据驱动的应用程序（不是游戏），我可能希望将分配保持在 10 MB 以下。

在 Instruments 中测试您的应用程序应该**始终**是您工作流程的一部分（编译时应将警告作为错误并打开静态分析器）。

# performance - 高效计算大相似度矩阵

> ID：12106265
> 
> 赞同：1
> 
> 时间：2012-08-24T09:05:01.273
> 
> 标签：performance, math, matrix, similarity

在我目前正在工作的一个项目中，大约有 200,000 个用户。对于这些用户中的每一个，我们定义了与其他用户的相似性度量。这会产生一个 200000x200000 的相似度矩阵。有点大。计算每个条目的简单方法（在 Ruby 中）需要几天时间。

我可以采用哪些策略来使计算矩阵字段变得可行？我应该把这个野兽放在什么数据存储中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T11:33:47.463

这里有一些零碎的答案，您告诉我们的内容仍然存在太多空白，无法提供一个好的答案，但是您可以自己填写。从您告诉我们的所有内容来看，我认为您的任务的主要部分不是有效地计算大型相似度矩阵，我认为主要部分是有效地从这样的矩阵中检索值并有效地更新矩阵。

正如我们已经确定的矩阵是稀疏和对称的；知道稀疏程度会很有用。这大大减少了存储需求，但我们不知道减少了多少。

您已经告诉我们一些关于用户资料更新的信息，但是您的相似度矩阵是否必须经常更新？我的期望（另一个假设）是，当用户修改他/她的个人资料时，相似性度量不会快速或急剧变化。据此，我假设使用过时几分钟（甚至几个小时）的相似性度量不会造成任何严重伤害。

我认为所有这些都将我们带入了数据库领域，它应该支持快速访问您指定的卷的存储相似性度量。我希望以适合您的需求和计算机能力可用性的时间间隔对这些措施进行批量更新，并且只对配置文件已更改的用户的措施进行更新。

至于第一个版本的相似度矩阵的初始创建，那么如果在后台需要一周的时间，你只需要做一次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:11:04.737

该度量可能是对称的，因此您只需将一半的矩阵存储在数据库中。但这并没有多大帮助。如果你有很多对，你也可以避免存储所有测量为零的对。

仅存储将实际显示的数据，例如每个用户的前 10 个最接近的用户。

并即时计算所有其他用户对的相似性度量。

仍然听起来像是保持最新状态的噩梦，甚至可能不存储任何东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:22:38.420

您可能不需要所有对，所以我会选择稀疏矩阵表示。至于计算本身，您可以使用[Kd 树](http://en.wikipedia.org/wiki/K-d_tree)或[八叉树](http://en.wikipedia.org/wiki/Octree)（或该家族中的任何东西）或任何其他类型的空间划分方法，具体取决于您的特征集的属性（根据它计算相似度）和您的相似度度量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-04-25T05:53:16.780

存储矩阵，尤其是基于它计算任何东西是一场噩梦。很可能，您的相似性度量使用浮点数（4 字节）。这意味着未压缩的存储大小为 200000**2 * 4 字节= 160 GB。

这个问题有四个概念性的解决方案。

**数据压缩**：

*   最简单：使用 char 作为数据类型（信息丢失，将大小减小 4 倍 - 不要忘记将数据缩放到新范围！）
*   使用对称性：只存储一半的矩阵。但随后对其进行操作就变成了一场噩梦
*   使用[压缩算法](https://en.wikipedia.org/wiki/Data_compression)。亲：总是可以应用的。缺点：会使任何操作变慢。

**数据缩减**：您可以对用户进行聚类，然后为聚类构建相似度矩阵。如果您的集群每个大小为 200，那么您将只有一个 1000x1000 矩阵，因此只需要 4MB 来存储它。可能还有其他好处，例如速度和鲁棒性。

**水平缩放**：使用大机器。[亚马逊有一个 2TB 内存](https://aws.amazon.com/de/about-aws/whats-new/2016/05/now-available-x1-instances-the-largest-amazon-ec2-memory-optimized-instance-with-2-tb-of-memory/)，只要 3970 美元 ;-)

**垂直缩放**：构建块矩阵，这些块矩阵是可以处理的大矩阵块。

# twitter-bootstrap - 我的机器上的引导示例导航栏异常

> ID：12106268
> 
> 赞同：0
> 
> 时间：2012-08-24T09:05:13.647
> 
> 标签：twitter-bootstrap, notepad++

我从官方示例中复制了完全相同的代码`http://twitter.github.com/bootstrap/examples/starter-template.html`。

但是在我的机器上，导航栏和内容之间的空间增加了 20px。我上传了图片。

![在此处输入图像描述](../Images/aef4a62211e3ed0b48e25b01809cb4aa.png)

我尝试将其更改为`body { padding-top:40px; }`，在电脑上没问题，但 20px 再次出现在移动设备上。所以我无法找出原因。请帮帮我。

[编辑：你可以在http://sheldon.sinaapp.com/stackoverflow](http://sheldon.sinaapp.com/stackoverflow)上看到我的页面

**真正的原因！！！**

Windows 上的某些编辑器将添加`BOM`到文件的开头。它是不可见的，用于通知编辑器它是 utf-8 编码的。

有关 的更多详细信息`BOM`，请参阅[字节顺序标记（wiki）](http://en.wikipedia.org/wiki/Byte_order_mark)

在记事本++中，您可以使用`Encoding -> Encode in utf-8 without BOM`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:36:43.733

好的 - 我已经解决了这个问题。`<!DOCTYPE html>`在声明之前有一行空格。如果您删除此行并移至`<!DOCTYPE html>`第 1 行，您将可以正常工作！

我已经设法在这里重现问题：

带空格的版本 ( [http://jsfiddle.net/TW9JP/](http://jsfiddle.net/TW9JP/) )

没有空格的版本 ( [http://jsfiddle.net/z8DQB/](http://jsfiddle.net/z8DQB/) )

# java - java和tomcat

> ID：12106273
> 
> 赞同：0
> 
> 时间：2012-08-24T09:05:30.160
> 
> 标签：java, tomcat

我对tomcat身份验证有疑问。我想使用昵称和密码验证来自 java 应用程序的用户我试图向 j_security_check 发帖，但这不起作用。谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:17:03.523

这家伙的博客有一个文件链接，里面有一些 java 表单登录示例，也许它们会对你有所帮助。

[Java 表单登录示例](http://javaevangelist.blogspot.co.uk/2011/06/login-page-examples-jsecuritycheck.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:20:21.100

进行上述基本身份验证的最简单方法是执行以下操作：

1) 在您的 TOMCAT_ROOT 中，有一个目录“conf”，其中包含一个名为 tomcat-users.xml 的文件。向此文件添加用户和角色，例如：

```
<tomcat-users>
  [...]
  <role rolename="authuser"/>
  <user username="user" password="password" roles="authuser"/>
</tomcat-users> 
```

2) 在您的应用程序中，您必须引用定义的角色来限制对资源的访问。为此，请将以下代码添加到您的 WEB-INF/web.xml：

```
<security-constraint>
  <web-resource-collection>
      <web-resource-name>Restrict everything</web-resource-name>
      <url-pattern>/*</url-pattern>
  </web-resource-collection>
  <auth-constraint>
      <role-name>authuser</role-name>
  </auth-constraint>
</security-constraint>
<login-config>
    <auth-method>BASIC</auth-method>
</login-config> 
```

3）重新启动tomcat，重建您的应用程序并重新部署它。

# ios - iOS 应用提交流程 - 为第三方提交应用

> ID：12106279
> 
> 赞同：0
> 
> 时间：2012-08-24T09:05:50.277
> 
> 标签：ios, app-store

我最近一直在阅读大量有关此主题的 Apple 文档和 SO 问题，我只能说我的脑海中充满了诸如捆绑 ID、应用 ID、证书之类的概念......但我需要你的帮助来澄清. 我有一个苹果开发者证书，用于为第三方开发应用程序。为临时分发创建了几个配置文件，以便让客户端测试应用程序。它使用 iOS 通配符 AppID 签名，一切正常。现在上传应用程序的日子越来越近了，我想更改捆绑ID。所以，第一个问题：

*   如果捆绑 ID 更改，客户端是否能够使用我之前提供的相同配置文件来测试应用程序？

为了提交应用程序，必须在 iTunes Connect 中创建新记录。可以从这个平台管理营销和销售的东西：

*   由于申请是针对客户的，是否应该通过客户的苹果账户提交？他会创建一个有权为我管理应用程序的用户，我可以提交使用我自己创建的分发配置文件签名的应用程序，对吗？

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:37:50.973

“**如果捆绑 ID 更改，客户端是否能够使用我之前提供的相同配置文件测试应用程序？** ”

我可能错了，但是在使用 Test Flight 之后，我开始意识到，之所以可以将应用程序放在设备上，是因为配置文件将某些设备 ID 标记为该“组”的一部分。您的配置文件就像一个组，如果您的设备 ID 不属于该组，那么您无法将应用程序放在您的设备上。

对于测试，您应该使用 Test Flight，它允许您通过无线方式发送苹果二进制文件（假设您已将客户端的设备 ID 添加到您的配置文件并在 Xcode 中刷新了您的配置文件）

“**由于申请是针对客户的，是不是应该通过客户的苹果账户提交？** ”

如果您的客户同意使用您自己公司的名称，那么您可以使用您的 Apple ID 提交该应用程序。否则，他可能需要将您添加到他的 iOS 开发者帐户中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T22:39:49.787

如果客户拥有应用程序，希望被列为应用程序的卖方，并希望控制应用程序（描述、可用性、价格），则应使用客户捆绑 ID 和分发在客户帐户下提交应用程序使用客户的 iOS 开发者帐户创建的证书。

# c# - 从 htmldocument 中删除 html 节点：HTMLAgilityPack

> ID：12106280
> 
> 赞同：13
> 
> 时间：2012-08-24T09:05:50.660
> 
> 标签：c#, collections, iteration, html-agility-pack, dom

在我的代码中，我想删除没有 src 值的 img 标签。我正在使用**HTMLAgilitypack 的 HtmlDocument**对象。我正在寻找没有 src 值的 img 并试图将其删除.. 但它给了我错误 Collection was modified; 枚举操作可能无法执行。任何人都可以帮助我吗？我使用的代码是：

```
foreach (HtmlNode node in doc.DocumentNode.DescendantNodes())
{
    if (node.Name.ToLower() == "img")
    {                            
           string src = node.Attributes["src"].Value;
           if (string.IsNullOrEmpty(src))
           {
               node.ParentNode.RemoveChild(node, false);    
           }
   }
   else
   {
             ..........// i am performing other operations on document
   }
} 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-30T16:06:19.077

您似乎正在使用`HtmlNode.RemoveChild`方法在枚举期间修改集合。

要解决此问题，您需要通过调用 eg[`Enumerable.ToList<T>()`](http://msdn.microsoft.com/en-us/library/bb342261.aspx)或将节点复制到单独的列表/数组中[`Enumerable.ToArray<T>()`](http://msdn.microsoft.com/en-us/library/bb298736.aspx)。

```
var nodesToRemove = doc.DocumentNode
    .SelectNodes("//img[not(string-length(normalize-space(@src)))]")
    .ToList();

foreach (var node in nodesToRemove)
    node.Remove(); 
```

如果我是对的，问题就会消失。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-08-31T05:46:13.290

我所做的是：

```
 List<string> xpaths = new List<string>();
    foreach (HtmlNode node in doc.DocumentNode.DescendantNodes())
    {
                        if (node.Name.ToLower() == "img")
                        {
                            string src = node.Attributes["src"].Value;
                            if (string.IsNullOrEmpty(src))
                            {
                                xpaths.Add(node.XPath);
                                continue;
                            }
                        }
    }

    foreach (string xpath in xpaths)
    {
            doc.DocumentNode.SelectSingleNode(xpath).Remove();
    } 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-01-25T11:34:43.247

```
var emptyImages = doc.DocumentNode
 .Descendants("img")
 .Where(x => x.Attributes["src"] == null || x.Attributes["src"].Value == String.Empty)
 .Select(x => x.XPath)
 .ToList(); 

emptyImages.ForEach(xpath => { 
      var node = doc.DocumentNode.SelectSingleNode(xpath);
      if (node != null) { node.Remove(); }
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-05-22T11:14:25.290

```
var emptyElements = doc.DocumentNode
    .Descendants("a")
    .Where(x => x.Attributes["src"] == null || x.Attributes["src"].Value == String.Empty)
    .ToList();

emptyElements.ForEach(node => {
    if (node != null){ node.Remove();}
}); 
```

# web-services - SugarCRM - 为 get_entry_list 指定字段

> ID：12106282
> 
> 赞同：1
> 
> 时间：2012-08-24T09:05:55.823
> 
> 标签：web-services, sugarcrm

我想收到 SugarCRM 中机会的两个字段 firstname_c 和 email_c。

我试过了

```
$params = array('session' => $session,
    'module_name' => 'Opportunities',
    'query' => "opportunities_cstm.external_opportunity_id_c = '".$customer."'",
    'select_fields' => array('name'=>'firstname_c', 'email'=>'email_c'),
    'order_by' => '',
    'deleted' => 0
);

$result = $soapclient->call('get_entry_list', $params); 
```

但是： select_fields 似乎被忽略了，我收到了所有字段。访问我需要的变量的唯一方法是使用：

```
$firstname = $result['entry_list'][0]['name_value_list'][34]['value'];
$email = $result['entry_list'][0]['name_value_list'][32]['value']; 
```

...这很糟糕，因为数字（即 34 和 32）一直在变化。

如何解决？

非常感谢，大卫

PS：我也试过...

```
'select_fields' => array('firstname_c', 'email_c'), 
```

...没有任何成功。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:31:54.510

```
'select_fields' => array('field', 'field') 
```

对我有用，但我没有尝试使用 _c 自定义字段。

您是否还收到肥皂响应中的 _c 字段？

# java - 有关 Java Servlet 的详细线程安全问题

> ID：12106283
> 
> 赞同：2
> 
> 时间：2012-08-24T09:05:56.703
> 
> 标签：java, servlets, thread-safety

我目前必须使特定的 Java servlet 实现线程安全。代码不是我写的，我也没有参与它的设计或任何事情。我“只是”必须使它成为线程安全的:)

我不是线程安全的初学者，但也不是专业人士。Servlet 对我来说（或多或少）是全新的。我已经完成了一些教程并了解了有关 servlet 的基础知识，但仅此而已。我能找到的所有关于使 servlet 线程安全的教程都相当肤浅，而且我还有一些未解决的问题，我似乎无法找到答案。一些帮助将不胜感激。

1.）据我了解，HttpServletRequests 和 HttpServletResponses 不在不同的线程之间共享，所以我不需要同步它们的读写访问（这是正确的吗？）。但是 HttpServletRequestWrappers 等呢？

2.) 我必须同步对 getServletContext() 返回的 ServletContext 对象的访问，尤其是在我使用 setAttribute() 时，对吧？

3.) HttpServletRequests 有一个 getCookies() 方法。这些 Cookie 是否可能在不同的请求之间共享，或者每个请求都有自己的 Cookie 对象（即使它们代表相同的“真实”cookie）？换种方式问：我是否必须同步对返回的 cookie 对象的访问？

感谢您花时间阅读我的问题。我期待着你的回答:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:26:02.507

1.  Your understanding is correct. Actually thread is created for each request. So `HttpServletRequest` and `HttpServletResponse` are local to thread. So no sharing of these two. You do not need to synchronize them. `HttpServletRequestWrapper` and `HttpServletResponseWrapper` are the classes which provide a convenient implementation of the `HttpServletRequest` and `HttpServletResponse` interfaces respectively. You do not need to worry about them in synchronization context.

2.  Definitely you have to provide synchronization for `ServletContext object returned by getServletContext()` because it is shared between servlets in your application.

3.  As `HttpServletRequest` is local to thread created by container to serve the request. So cookies are also local to that thread and those are not shared. So no need to provide synchronization to cookies.

Few concepts :

1.  Servlets are always singlton in your application. i.e. only one object is created.
2.  For each request a different thread is created(actually obtained from Thread Pool). Following things are local to thread : `HttpServletRequest`, `HttpServletResponse`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:09:44.463

Servlet 不是线程安全的，因为应用程序服务器可以维护 Servlet 的单个实例或实例池，并在多个传入请求之间共享它们。因此，servlet 不应该有任何状态（即 servlet 对象级变量不是线程安全的）。Servlet 规范以前有`SingleThreadModel`接口来强制给定的 servlet 是线程安全的，但我猜自 2.3 以来已被弃用。

回应：

1.  对，这些是 doGet 和 doPost 等 HTTP 方法的参数，因此无需同步对这些方法的访问。

2.  正确，因为 getServletContext() 返回一个上下文级对象，所有 servlet 和运行给定 servlet 的所有线程都可以访问该对象。

3.  每个请求都带有自己的一组 cookie。同样，这是从方法参数 HttpServletRequest 获得的，因此访问不需要同步。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T09:23:13.830

当您使 servlet 线程安全时，您很少需要同步。Servlet 从一开始也应该是线程安全的，因为单个 Servlet 实例可能被多个用户使用。此外，您不能相信只有一个 servlet 实例，除非您的 servlet 容器指定始终只有一个。

1）处理请求和响应对象时不需要同步，因为一次只有一个线程可以处理一个请求。

2) 您应该尝试以一种无需在 servlet 内的 ServletContext 中设置任何值的方式来设计您的应用程序。通常 ServletContext 在启动时被初始化，然后被 servlet 或过滤器用作只读。我不确定它是否应该是线程安全的，但是如果你在同一个请求中设置多个值，那么无论如何你都必须同步，这样读取这些值的 servlet 就不会被弄乱。但这是基本的线程安全问题，与 servlet 无关。

3) cookie 不需要同步，因为它们处理当前请求并且只有一个线程可以完成。

新的 servlet 容器允许异步模型，其中多个线程可能处理单个请求，但一次仍然是一个线程。

# android - 如何使用 Dom Parsing 解析 XML 文件？

> ID：12106287
> 
> 赞同：-1
> 
> 时间：2012-08-24T09:06:09.570
> 
> 标签：android, domparser

我的问题是我正在使用 Dom Parsing 来解析下面的 xml 文件，但这给了我 NullPointerException 的错误。

任何帮助，将不胜感激。

MainActivity.java

```
public class MainActivity extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        ScrollView mScrView1 = new ScrollView(this);

        /** Create a new layout to display the view */
        LinearLayout layout = new LinearLayout(this);
        layout.setOrientation(1);

        /** Create a new textview array to display the results */
        TextView id[];
        TextView published[];
        TextView content[];
        TextView title[];

        TextView mediacontent[];
        TextView mediathumbnail[];

        try {

            URL url = new URL(
                    "http://gdata.youtube.com/feeds/api/users/estudiosabiertostv/uploads");
            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
            DocumentBuilder db = dbf.newDocumentBuilder();
            Document doc = db.parse(new InputSource(url.openStream()));
            doc.getDocumentElement().normalize();

            NodeList nodeList = doc.getElementsByTagName("entry");

            /** Assign textview array length by arraylist size */
            id = new TextView[nodeList.getLength()];
            published = new TextView[nodeList.getLength()];
            content = new TextView[nodeList.getLength()];
            title = new TextView[nodeList.getLength()];
            mediacontent = new TextView[nodeList.getLength()];
            mediathumbnail = new TextView[nodeList.getLength()];

            for (int i = 0; i < nodeList.getLength(); i++) {

                Node node = nodeList.item(i);

                id[i] = new TextView(this);
                published[i] = new TextView(this);
                content[i] = new TextView(this);
                title[i] = new TextView(this);

                Element fstElmnt = (Element) node;

                NodeList idList = fstElmnt.getElementsByTagName("id");
                Element idElement = (Element) idList.item(0);
                idList = idElement.getChildNodes();
                id[i].setText("Id is = "
                        + ((Node) idList.item(0)).getNodeValue());

                NodeList publishedList = fstElmnt
                        .getElementsByTagName("published");
                Element publishedElement = (Element) publishedList.item(0);
                publishedList = publishedElement.getChildNodes();
                published[i].setText("published is = "
                        + ((Node) publishedList.item(0)).getNodeValue());

                NodeList contentList = fstElmnt.getElementsByTagName("content");
                Element contentElement = (Element) contentList.item(0);
                contentList = contentElement.getChildNodes();
                content[i].setText("content is = "
                        + ((Node) contentList.item(0)).getNodeValue());

                NodeList titleList = fstElmnt.getElementsByTagName("title");
                Element titleElement = (Element) titleList.item(0);
                titleList = titleElement.getChildNodes();
                title[i].setText("title is = "
                        + ((Node) titleList.item(0)).getNodeValue());

                NodeList nodeList1 = fstElmnt.getElementsByTagName("media:group");
                System.out.println("Size is:- " +nodeList1.getLength());

                for (int j = 0; j < nodeList1.getLength(); j++) {
                    Node node1 = nodeList1.item(j);
                    mediacontent[j] = new TextView(this);
                    mediathumbnail[j] = new TextView(this);
                    Element secondElmnt = (Element) node1;
                    NodeList mediacontentList = secondElmnt.getElementsByTagName("media:content");
                    Element mediacontentElement = (Element) mediacontentList.item(0);
                    mediacontentList = mediacontentElement.getChildNodes();
                    mediacontent[j].setText("mediacontent is = "
                            + ((Node) mediacontentList.item(0)).getNodeValue());
                    layout.addView(mediacontent[j]);
                }

                layout.addView(id[i]);
                layout.addView(published[i]);
                layout.addView(content[i]);
                layout.addView(title[i]);
            }
        } catch (Exception e) {
            System.out.println("XML Pasing Excpetion = " + e);
        }

        /** Set the layout view to display */

        mScrView1.addView(layout);
        setContentView(mScrView1);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T11:46:47.343

尝试这个：

```
public class DomParserSampleActivity extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        ScrollView mScrView1 = new ScrollView(this);

        /** Create a new layout to display the view */
        LinearLayout layout = new LinearLayout(this);
        layout.setOrientation(1);

        /** Create a new textview array to display the results */
        TextView id[];
        TextView published[];
        TextView content[];
        TextView title[];

        TextView mediacontent[];
        TextView mediathumbnail[];

        try {
            URL url = new URL(
                    "http://gdata.youtube.com/feeds/api/users/estudiosabiertostv/uploads");
            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
            DocumentBuilder db = dbf.newDocumentBuilder();
            Document doc = db.parse(new InputSource(url.openStream()));
            doc.getDocumentElement().normalize();

            NodeList nodeList = doc.getElementsByTagName("entry");

            /** Assign textview array length by arraylist size */
            id = new TextView[nodeList.getLength()];
            published = new TextView[nodeList.getLength()];
            content = new TextView[nodeList.getLength()];
            title = new TextView[nodeList.getLength()];
            mediacontent = new TextView[nodeList.getLength()];
            mediathumbnail = new TextView[nodeList.getLength()];

            for (int i = 0; i < nodeList.getLength(); i++) {

                Node node = nodeList.item(i);

                id[i] = new TextView(this);
                published[i] = new TextView(this);
                content[i] = new TextView(this);
                title[i] = new TextView(this);

                Element fstElmnt = (Element) node;

                NodeList idList = fstElmnt.getElementsByTagName("id");
                Element idElement = (Element) idList.item(0);
                idList = idElement.getChildNodes();
                id[i].setText("Id is = "
                        + ((Node) idList.item(0)).getNodeValue());

                Log.v("TAG","id: "+idList.item(0).getNodeValue());

                NodeList publishedList = fstElmnt
                        .getElementsByTagName("published");
                Element publishedElement = (Element) publishedList.item(0);
                publishedList = publishedElement.getChildNodes();
                published[i].setText("published is = "
                        + ((Node) publishedList.item(0)).getNodeValue());

                Log.v("TAG","published: "+publishedList.item(0).getNodeValue());

                NodeList contentList = fstElmnt.getElementsByTagName("content");
                Element contentElement = (Element) contentList.item(0);
                contentList = contentElement.getChildNodes();
                content[i].setText("content is = "
                        + ((Node) contentList.item(0)).getNodeValue());

                Log.v("TAG","content: "+contentList.item(0).getNodeValue());

                NodeList titleList = fstElmnt.getElementsByTagName("title");
                Element titleElement = (Element) titleList.item(0);
                titleList = titleElement.getChildNodes();
                title[i].setText("title is = "
                        + ((Node) titleList.item(0)).getNodeValue());

                Log.v("TAG","titulo: "+titleList.item(0).getNodeValue());

                NodeList nodeList1 = fstElmnt
                        .getElementsByTagName("media:group");

                for (int j = 0; j < nodeList1.getLength(); j++) {
                    Node node1 = nodeList1.item(j);
                    mediacontent[j] = new TextView(this);
                    mediathumbnail[j] = new TextView(this);

                    Element secondElmnt = (Element) node1;

                    NodeList mediacontentList = secondElmnt
                            .getElementsByTagName("media:content");
                    Element mediacontentElement = (Element) mediacontentList
                            .item(0);
                    mediacontent[j].setText("mediacontent url is = "
                            + mediacontentElement.getAttribute("url"));

                    Log.v("TAG","MEDIACONTENT: "+mediacontentElement.getAttribute("url"));

                    NodeList mediathumbnailList = secondElmnt
                            .getElementsByTagName("media:thumbnail");
                    Element mediathumbnailElement = (Element) mediathumbnailList
                            .item(0);
                    mediathumbnail[j].setText("mediathumbnail url is = "
                            + mediathumbnailElement.getAttribute("url"));

                    Log.v("TAG","MEDIATHUMBNAIL: "+mediathumbnailElement.getAttribute("url"));

                    layout.addView(mediacontent[j]);
                    layout.addView(mediathumbnail[j]);
                }

                layout.addView(id[i]);
                layout.addView(published[i]);
                layout.addView(content[i]);
                layout.addView(title[i]);

            }
        } catch (Exception e) {
            e.printStackTrace();
        }

        /** Set the layout view to display */

        mScrView1.addView(layout);
        setContentView(mScrView1);
    }
} 
```

不要忘记在线程中这样做或失败，请在 onCreate() 之后使用这些行

```
 StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()
.permitAll().build();
    StrictMode.setThreadPolicy(policy); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:27:13.497

try this

create a new class XMLParser

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.StringReader;
import java.io.StringWriter;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLConnection;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;

import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;

import android.util.Log;

public class XMLParser {

    public String getXmlFromUrl(String urll) {
        String response = "";
        try {
            URLConnection conn = null;
            InputStream inputStream = null;
            URL url = new URL(urll);
            conn = url.openConnection();
            conn.setConnectTimeout(10000);
            HttpURLConnection httpConn = (HttpURLConnection) conn;
            httpConn.setRequestMethod("GET");
            httpConn.setConnectTimeout(10000);
            httpConn.connect();
            if (httpConn.getResponseCode() == HttpURLConnection.HTTP_OK) {
                inputStream = httpConn.getInputStream();
            }
            BufferedReader in = new BufferedReader(new InputStreamReader(inputStream));
            StringWriter writer=new StringWriter();
            String line="";
            while ( null!=(line=in.readLine())){
                writer.write(line); 
            }
            response =writer.toString(); 
            }
        catch (Exception e) {
            // TODO: handle exception
        }
        return response;
    }

    public Document getDomElement(String xml) {
        Document doc = null;
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();

        try {

            DocumentBuilder db = dbf.newDocumentBuilder();

            InputSource is = new InputSource();
            is.setCharacterStream(new StringReader(xml));
            doc = db.parse(is);

        } catch (ParserConfigurationException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (SAXException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (IOException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        }
        // return DOM
        return doc;
    }

    public String getValue(Element item, String str) {
        NodeList n = item.getElementsByTagName(str);
        return this.getElementValue(n.item(0));
    }

    public final String getElementValue(Node elem) {
        Node child;
        if (elem != null) {
            if (elem.hasChildNodes()) {
                for (child = elem.getFirstChild(); child != null; child = child
                        .getNextSibling()) {
                    if (child.getNodeType() == Node.TEXT_NODE || child.getNodeType() == Node.CDATA_SECTION_NODE) {
                        return child.getNodeValue();
                    }
                }
            }
        }
        return "";
    }
} 
```

your xml for example

```
<results>
   <result>
     <title>title1</title>
     <description>description1</description>
     <lien>lien1</lien>
   </result>
   <result>
     <title>title2</title>
     <description>description2</description>
     <lien>lien2</lien>
   </result>
</results> 
```

and, to use it in your Activity

```
final String KEY_ITEM = "result"; // parent node
final String KEY_TITLE = "title";
final String KEY_DESC = "description";
final String KEY_LINK = "lien";

XMLParser parser = new XMLParser();
String xml = parser.getXmlFromUrl("YourXmlURL"); // getting XML
Document doc = parser.getDomElement(xml); // getting DOM element

NodeList elements = doc.getElementsByTagName(KEY_ITEM);
List<String> title= new ArrayList<String>(); // or other type
List<String> descp= new ArrayList<String>();
Element e;

for (int i = 0; i < elements.getLength(); i++) {
    e = (Element) elements.item(i);
    title.add(parser.getValue(e, KEY_TITLE));
    descp.add(parser.getValue(e,KEY_DESC));
} 
```

# jquery-mobile - 从 jQuery Mobile 中的可折叠集中删除图标

> ID：12106288
> 
> 赞同：2
> 
> 时间：2012-08-24T09:06:11.867
> 
> 标签：jquery-mobile

我一直在尝试通过将 中的属性设置为 来从可折叠集中删除图标`data-iconpos="none"`，`div`但`collapsible-set`没有运气。它会删除它，但仍会留下某种阴影。

![在此处输入图像描述](../Images/f036c30cfcabf9cde74fc2f65505b956.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-12T11:43:18.900

唯一的解决方案是使用 CSS，尝试向可折叠对象添加一个类，例如：`class='listItemNoIcon'`

在您的 HTML 文件中添加以下内容：

```
<div  class='listItemNoIcon' data-role='collapsible' data-collapsed='false'>
</div> 
```

并将其添加到您的 css 文件中：

```
.listItemNoIcon .ui-icon
{

 display: none;

} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-01-20T14:52:46.877

使用 jQuery Mobile 1.4.0，您还可以将`data-collapsed-icon`和`data-expanded-icon`属性设置为`false`.

```
<div data-role="collapsible" data-collapsed-icon="false" data-expanded-icon="false" data-theme="a">
     <h2>My Account</h2>

    <ul class="ui-listview mainNav" data-role="listview" data-theme="a">
        <li data-icon="carat-r"> <a href="#">Manage Account</a>

        </li>
        <li data-icon="carat-r"> <a href="#">Edit Profile</a>

        </li>
        <li data-icon="carat-r"> <a href="#">Upload Profile Picture</a>

        </li>
    </ul>
</div> 
```

[jsFiddle](http://jsfiddle.net/fnVK9/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-27T15:32:16.217

请注意，上述解决方案将隐藏可折叠字段集中的所有图标。

要确保只隐藏可折叠标题中的图标，请使用以下命令：

```
.ui-collapsible-heading .ui-icon {
    display: none;
} 
```

由于 jquery mobile 将类“ui-collapsible-heading”添加到可折叠字段集中的标题中。

应该工作直到 jquery mobile 决定改变一些东西;）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-18T15:03:32.077

使用 JQM 1.4.0rc1，这似乎仍然存在一些问题。我必须在我的 PageShow 事件中使用以下 Javascript 逻辑来完全隐藏图标：

```
$('#MyList').find('a.ui-collapsible-heading-toggle').each(function() {
    $(this).removeClass('ui-btn-icon-right');
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-30T20:13:28.263

最好的办法是不需要任何图标的 Li 元素，请执行以下操作

```
$(<your-li-elment>).find("span.ui-icon').remove() 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-02-18T12:02:11.620

以 Demnogonis 所写的内容为基础，`data-collapsed-icon="noicon"`并将`data-expanded-icon="noicon"`该类添加`ui-nodisc-icon`到可折叠的父级中，这对我有用。否则剩下一个空圆圈。

[http://view.jquerymobile.com/master/demos/icons/](http://view.jquerymobile.com/master/demos/icons/) 搜索：取出光盘

使用 JQM 1.4.5

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-03-27T18:00:14.427

给你的可折叠集一个 id 然后你可以做以下

```
#myId >.ui-icon
{

 display: none;

} 
```

此 CSS 会查看可折叠集中所有具有 .ui-icon 类的元素，并将它们的显示设置为无

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-06-29T07:40:01.680

您可以使用 CSS 或覆盖 JQM javascript。

1.  CSS

    .ui-collapsible-heading .ui-icon { 显示：无；}

2.  覆盖此行的 JQM 搜索：collapsedIcon = $el.jqmData("collapsed-icon") || o.collapsedIcon || “加”; 替换为：collapsedIcon = ($el.jqmData("collapsed-icon") =="none")? 假：（o.collapsedIcon ||“加号”）；

并在 html 中添加此属性 data-collapsed-icon="none" 如下所示

```
 <li data-role="collapsible" data-inset="false"  data-collapsed-icon="none" data-icon="false">
       <h3>Section 1</h3>
       <p>I'm the collapsible set content for section 1.</p>
 </li> 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2012-08-24T11:49:39.070

jQM [1.1.1 data-attribute reference](http://jquerymobile.com/demos/1.1.1/docs/api/data-attributes.html)提到 Collapsible 集的 data-iconpos 属性的可能值是：

> 离开 | 对 | 顶部 | 底部 | 正文

因此，也许唯一的解决方法是使用自定义 CSS 的解决方案。

# objective-c - 单击导航按钮时，将第二个视图控制器值的项目插入表中

> ID：12106298
> 
> 赞同：0
> 
> 时间：2012-08-24T09:06:54.993
> 
> 标签：objective-c, cocoa-touch, uitableview, uinavigationcontroller

我有`Tableview`作为我的`mainViewcontroller`和添加的按钮`Navigation Bar`。

单击按钮时，它会推送到第二个 viewController( `UIViewController`)，并提示用户输入要插入到表中的值。

谁能帮我做到这一点？**我在做可可触摸（iphone）**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:33:00.710

在 AppDelegate.h 中编写此代码

```
@property (retain, nonatomic) NSString *string; 
```

在 AppDelegate.m 中编写此代码

```
@synthesize string; 
```

当您将去第二个视图时，将字符串提供给 AppDelegate 类实例。

```
 AppDelegate *appDelegate = (AppDelegate *)[UIApplication sharedApplication].delegate

 appDelegate.string = [textField text]; 
```

当您回到主视图控制器时，您需要重新加载表视图的数据，您将此代码写入 ViewWillAppear 方法。

```
 AppDelegate *appDelegate = (AppDelegate *)[UIApplication sharedApplication].delegate

[tableArray addObject:appDelegate.string];
[tableName reloadData]; 
```

# machine-learning - 数量 格拉斯哥大学 wt2g 收藏中的标签

> ID：12106300
> 
> 赞同：-1
> 
> 时间：2012-08-24T09:06:57.850
> 
> 标签：machine-learning, information-retrieval

根据该网站： http: [//ir.dcs.gla.ac.uk/test_collections/access_to_data.html](http://ir.dcs.gla.ac.uk/test_collections/access_to_data.html)，格拉斯哥大学有偿分发 wt2g 收藏。这个集合基本上是由几个解析的网页组成的。我很好奇 wt2g 集合有多少标签。这将帮助我估计收藏中的文件数量，这将进一步确定我是否应该购买该收藏。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-28T11:25:41.200

根据[这篇](http://trec.nist.gov/pubs/trec8/papers/acsys.pdf)文章，WT2g 集合中有 25 万页。但是[这个](http://www.ccs.neu.edu/home/jaa/IS4200.12S/projects/Project2PR.html)页面的信息，意味着该集合中有18万页。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T14:47:09.967

WT2G 语料库中的文档数为 247491。

# javascript - 一个 WebSocket 请求应该有多大？

> ID：12106301
> 
> 赞同：0
> 
> 时间：2012-08-24T09:06:59.973
> 
> 标签：javascript

可能有一个大小，请求被拆分。由于我必须在请求中使用字符串，因此带有字符数的答案会很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:12:38.887

协议本身（参见[RFC 6455](https://www.rfc-editor.org/rfc/rfc6455#page-27)）支持高达 2^64 个八位字节的有效负载长度。

单个请求确实被拆分为“帧”，但协议实现会自动将它们重新组合在一起，并将整个请求作为单个请求呈现给 WebSocket API。

# javascript - 如何检测 iframe 脚本何时执行？

> ID：12106302
> 
> 赞同：1
> 
> 时间：2012-08-24T09:07:00.847
> 
> 标签：javascript, jquery, html, iframe

例如：我有一个带有 iframe 的主页，我的 iframe 包含一个按钮。当我按下 iframe 内的按钮时，会执行一些脚本，并更改​​ iframe 的设计。文本出现和其他东西。

如何检测 iframe 脚本何时运行？（或者按钮被按下了？）

**iframe 来自不同的域。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:11:17.603

如果 iframe 的内容来自与外部页面不同的域，那么您不能 - 浏览器故意阻止您了解 iframe 内部发生的事情。但是，您可以做的是抓取框架所指向的 URL（如果它发生更改）。

如果它在同一个域中运行，您可以通过 iframe 的 document 属性访问 iframe 中的元素，其方式几乎与通常相同

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:15:41.443

如果主页面和 iframe 在同一个域中，可以让 iframe 中的 javascript 调用函数或访问父框架的元素。

所以在 iframe 脚本的最后你可以做

```
parent.script_is_finished(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:29:31.357

如果您可以控制 iframe 中的脚本，则可以使用[`window.postMessage`](https://developer.mozilla.org/en-US/docs/DOM/window.postMessage)它与您的主页进行通信，即使它们位于不同的域中。

对此的支持**[仅限](https://stackoverflow.com/questions/6036418/what-browsers-support-the-window-postmessage-call-now)**于 FF3+、IE8+、Chrome、Safari(5?)、Opera10+

这是**[关于 html5demos 的演示](http://html5demos.com/postmessage2)**。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:35:17.807

`iframe`作为对来自不同域的事实的更新：

**简短回答：**不。您无法检测到`iframe`来自另一个域的点击。

**更长但仍然简短的答案：**您不能更改的原因与您可以更改内容的原因相同——**除非**在同一域中，否则`iframe`这将是一个安全风险。您根本无法跟踪来自不同域的用户活动。**`iframe``iframe`**

 **对不起，但我希望这有帮助！**

# java - 如何在javacv中获取提取对象的x，y坐标？

> ID：12106307
> 
> 赞同：9
> 
> 时间：2012-08-24T09:07:33.653
> 
> 标签：java, opencv, image-processing, javacv

目前我正在开发图像处理项目，我正在使用 javacv 开发图像处理组件。我能够提取图像中一些有趣的部分，现在我需要读取这些对象的 x 和 y 坐标。这是我提取的图像

![在此处输入图像描述](../Images/b71edbf78c5903a511ce42f917dbf3e5.png)

我需要识别这些对象并在这些对象周围画出正方形。我浏览了一些教程并尝试使用以下代码识别对象。

```
 IplImage img="sourceimage";
    CvSize sz = cvSize(img.width(), img.height());
    IplImage gry=cvCreateImage(sz, img.depth(), 1);
    cvCvtColor(img, gry, CV_BGR2GRAY);
    cvThreshold(gry, gry, 200, 250, CV_THRESH_BINARY);

    CvMemStorage mem = CvMemStorage.create();
    CvSeq contours = new CvSeq();
    CvSeq ptr = new CvSeq();
    cvFindContours(gry, mem, contours, Loader.sizeof(CvContour.class) , CV_RETR_CCOMP, CV_CHAIN_APPROX_SIMPLE, cvPoint(0,0));

    CvRect boundbox;

    for (ptr = contours; ptr != null; ptr = ptr.h_next()) {
        boundbox = cvBoundingRect(ptr, 0);
        if(boundbox.height()>10||boundbox.height()>10){
            cvRectangle( gry, cvPoint( boundbox.x(), boundbox.y() ), cvPoint( boundbox.x() + boundbox.width(), boundbox.y() + boundbox.height()),CvScalar.BLUE, 0, 0, 0 );
            System.out.println(boundbox.x()+", "+boundbox.y());
        }
    }
    cvShowImage("contures", gry);
    cvWaitKey(0); 
```

但它不会在对象周围绘制为矩形。我想知道我是否可以使用 cvFindContours 方法来识别这些对象？请问有人可以解释如何使用 javacv/opencv 归档我的目标吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-01T09:49:15.597

尝试通过以下代码，它将为您的问题提供答案。

```
 IplImage img=cvLoadImage("pathtosourceimage");
    CvSize cvSize = cvSize(img.width(), img.height());
    IplImage gry=cvCreateImage(cvSize, img.depth(), 1);
    cvCvtColor(img, gry, CV_BGR2GRAY);
    cvThreshold(gry, gry, 200, 255, CV_THRESH_BINARY);
    cvAdaptiveThreshold(gry, gry, 255, CV_ADAPTIVE_THRESH_MEAN_C, CV_THRESH_BINARY_INV, 11, 5);

    CvMemStorage storage = CvMemStorage.create();
    CvSeq contours = new CvContour(null);

    int noOfContors = cvFindContours(gry, storage, contours, Loader.sizeof(CvContour.class), CV_RETR_CCOMP, CV_CHAIN_APPROX_NONE, new CvPoint(0,0));

    CvSeq ptr = new CvSeq();

    int count =1;
    CvPoint p1 = new CvPoint(0,0),p2 = new CvPoint(0,0);

    for (ptr = contours; ptr != null; ptr = ptr.h_next()) {

        CvScalar color = CvScalar.BLUE;
        CvRect sq = cvBoundingRect(ptr, 0);

            System.out.println("Contour No ="+count);
            System.out.println("X ="+ sq.x()+" Y="+ sq.y());
            System.out.println("Height ="+sq.height()+" Width ="+sq.width());
            System.out.println("");

            p1.x(sq.x());
            p2.x(sq.x()+sq.width());
            p1.y(sq.y());
            p2.y(sq.y()+sq.height());
            cvRectangle(img, p1,p2, CV_RGB(255, 0, 0), 2, 8, 0);
            cvDrawContours(img, ptr, color, CV_RGB(0,0,0), -1, CV_FILLED, 8, cvPoint(0,0));
            count++;

    }

    cvShowImage("contures",img);
    cvWaitKey(0); 
```

这是我为您的给定图像得到的输出。

![在此处输入图像描述](../Images/08d587db9c5edb421863860cec90bde9.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-26T09:58:26.343

cvFindContours 是您问题的正确解决方案。
而且我已经验证它适用于您的图像。
![这是我的实验](../Images/7d2bae3968551050016ae41e1a1ba8cc.png)

你里面有 System.out.println，输出是什么？

cvFindContours 使用起来可能很棘手，我已经将它包装成一个[更通用的 C++ 函数](https://github.com/vinjn/vOpenCV/blob/master/BlobTracker.cpp#L37)。我还使用一个[名为 vBlob 的类](https://github.com/vinjn/vOpenCV/blob/master/Blob.h#L21)来描述 cvFindContours 检测到的**对象**。从我从您的 java 代码中看到的，java 版本 API 与 C/C++ 版本非常相似。所以重写它并不难。

附言。阿斯特给出了正确的答案。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-27T05:57:25.117

您知道该功能在**黑色**背景上`findContours`找到**白色**轮廓吗？

 **只需`bitwise_not`对您的图像执行（或 JavaCV 中的类似操作），然后在此之后 apply `findContours`。这实际上可以解决您的问题。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-27T23:55:39.870

**无需第三方库！**您正在寻找可以在 OpenCV 中使用称为[边界框](http://docs.opencv.org/doc/tutorials/imgproc/shapedescriptors/bounding_rects_circles/bounding_rects_circles.html)的技术来实现：

![在此处输入图像描述](../Images/e80ad6ebb13277fc3fb72d61a14fac5f.png)

诀窍是用来[`cvFindContours()`](http://opencv.willowgarage.com/documentation/structural_analysis_and_shape_descriptors.html#findcontours)检索轮廓，然后[`cvApproxPoly()`](http://opencv.willowgarage.com/documentation/structural_analysis_and_shape_descriptors.html#approxpoly)改进结果。请注意，您必须使用`cvNot()`因为`cvFindContours()`搜索**白色**轮廓来反转输入图像的颜色。

*   [在这篇文章](http://www.aishack.in/2010/01/an-introduction-to-contours/)中有一个很好的轮廓介绍。
*   有一个[Java 演示](http://askhackeryoda.blogspot.com.br/2012/06/detect-objects.html)，它实现了一个版本的边界框来检测车牌。

顺便`cvMinEnclosingCircle()`将圆心返回为`CvPoint2D32f`。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-29T11:25:07.697

我正在使用 c++ api，但我认为 javacv 中也应该有一些名为 drawContours 或 cvDrawContours 的函数，它使用 findContours 的输出。**

# javascript - Javascript 电子邮件验证不起作用

> ID：12106309
> 
> 赞同：-5
> 
> 时间：2012-08-24T09:07:46.090
> 
> 标签：javascript, email-validation

我的代码有什么问题？我找不到解决方案。

```
var re = "/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/";

var email= document.getElementById("email").value;

if (re.test(email) == false) {  
    document.getElementById("email").focus();
    return false;
} 
```

双引号引起的问题，谢谢！由于我的声誉，我不能投票:-(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T11:53:05.960

就像suresh建议的那样，您应该删除正则表达式字符串周围的引号（“）。所以您的第一行应该是：

```
var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/; 
```

我在下面制作了一个工作示例：

```
<script>
function test()
{
  var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]    {1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  var email= "test@somedomain.com";

  if (re.test(email) == false) {  
    alert("invalid email address");
    return;
  }
  alert("valid address");
}
</script>
<button onclick="test()">TEST</button> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-24T09:29:58.447

让我们试试这个对我来说很聪明

```
 function IsEmail(email) {
                var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return regex.test(email);
             }

if(!IsEmail(mailString)){
                $("#somediv").text(" Email should be valid ");
                return false;
                } 
```

# asp.net - 从文本框和标签提交按钮后清除数据

> ID：12106310
> 
> 赞同：0
> 
> 时间：2012-08-24T09:07:49.387
> 
> 标签：asp.net, vb.net

如果 id 或手机不正确，我有一个 web 表单，要求提供手机号码和 id。网页将显示一个错误标签，在此错误标签之后，如果我输入了正确的信息，则此表单将不再可见，并且新的 div 将在另一个显示中可见。所以这里的问题是当客户在输入错误信息后输入新信息时，如果他点击返回标签仍然出现并且文本框 2，我已将这些元素设置为：

```
lblfailedresponce.Text = ""  // 1rsst text box 
txtMobilePhone.Text = ""     //2nd text box
TransactionID.Text = ""      // label 
```

但它没有用，它们仍然出现。那么提交按钮中的代码是什么，我必须清除缓存或不可见表单中的字段？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T15:09:28.847

如果这是一个缓存问题，那么您可以添加`Response.Cache.SetCacheability(HttpCacheability.NoCache)`到您的页面加载中。这将使浏览器不会缓存页面。

另一种选择是您可以将错误标签设置为`visible=false`，然后使其在检查错误的代码中可见。但是之后的下一次加载错误标签将不会显示为可见。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:41:48.030

```
<script> 
    $(document).ready(function() {
    // clear error label if the user clicks on the text box.
        $('#txtMobilePhone').click(function(){
            if('#lblfailedresponce').val()!=null)
            {
                 $('#lblfailedresponce').val()='';
            }
            $('#txtMobilePhone').val()='';
            $('#TransactionID').val()='';
        });

        $('#TransactionID').click(function(){
            if('#lblfailedresponce').val()!=null)
            {
                 $('#lblfailedresponce').val()='';
            }
            $('#txtMobilePhone').val()='';
            $('#TransactionID').val()='';
        });
    });

</script> 
```

这是一个可以达到目的的脚本。请在页面底部使用它，看看它是如何工作的。希望这会对您有所帮助。

我假设文本框的元素 ID 及其名称是相同的。如果不是，请更改它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:11:52.737

使用以下代码

```
txtMobilePhone.Text = String.Empty;
lblfailedresponce.Text = String.Empty; 
```

# android - 单选按钮充当复选框

> ID：12106313
> 
> 赞同：1
> 
> 时间：2012-08-24T09:08:10.303
> 
> 标签：android

您好，我正在开发 android 应用程序，我的应用程序上有几个单选按钮，当我单击单选按钮时，它可以执行我想要的操作，即显示网页，但是当我单击另一个单选按钮时，它充当检查盒子。这是我的代码：

```
RadioButton webss = (RadioButton) findViewById (R.id.studentsite);
    RadioButton webst = (RadioButton) findViewById (R.id.staffsite);
    RadioButton webbaak = (RadioButton) findViewById (R.id.baak);
webss.setOnClickListener(new RadioButton.OnClickListener()
    {
        public void onClick(View v)
            {
            callintent(v);
            }
    });

    webst.setOnClickListener(new RadioButton.OnClickListener()
    {
        public void onClick(View v)
            {
            callintent(v);
            }
    });

    webbaak.setOnClickListener(new RadioButton.OnClickListener()
    {
        public void onClick (View v)
            {
            callintent(v);
            }
    });
public void callintent(View view) 
{
    Intent intent = null;
    switch (view.getId())
    {
        case R.id.studentsite:
            intent = new Intent(Intent.ACTION_VIEW,
            Uri.parse("http://studentsite.gunadarma.ac.id"));
            startActivity(intent);
            break;
        case R.id.staffsite:
            intent = new Intent(Intent.ACTION_VIEW,
            Uri.parse("http://staffsite.gunadarma.ac.id"));
            startActivity(intent);
            break;
        case R.id.baak:
            intent = new Intent(Intent.ACTION_VIEW,
            Uri.parse("http://baak.gunadarma.ac.id"));
            startActivity(intent);
            break;
default:
            break;
    } 
```

你有什么可以修复这些代码吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:10:41.753

无论何时检查一个，您都需要将所有RadioButtons放入您的布局文件中，`RadioGroup` 只要检查一个，就会自动取消选中其他方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:14:56.800

您需要在 xml 文件中的标记内添加这些单选按钮。像这样。 `<RadioGroup> <RadioButton/> <RadioButton/> </RadioGroup>`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:14:59.237

使用无线电组。[这](http://www.mkyong.com/android/android-radio-buttons-example/)是一个很好的例子。

# branch - Perforce，如何将更改集成到另一个分支？

> ID：12106321
> 
> 赞同：15
> 
> 时间：2012-08-24T09:08:55.807
> 
> 标签：branch, perforce, branching-and-merging

我有主干和一个发布分支。如果我修复了发布分支中的错误，我绝对应该将修复集成回主干。但是，我没有找到专门用于集成这样一个单一更改列表的命令；我错过了什么？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-08-27T20:27:27.107

例如，要集成变更列表 100，您可以使用：

```
p4 merge //releasebranch/...@=100 //trunk/...
p4 resolve
p4 submit 
```

（如果你有一个旧的 Perforce 服务器，你将不得不使用 'integ' 而不是 'merge'。）

请注意，在此上下文中，“@=100”与“@100,100”的含义相同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-09-07T12:02:05.753

我用过这个：

```
p4 integrate -c 625466 //SrcPath/...@622912,@622912 //DestPath/... 
```

其中 CL 622912 是我们要集成的，CL 625466 是新的 CL。

# ruby-on-rails - 如何在邮件身份验证中添加用户确认？

> ID：12106324
> 
> 赞同：0
> 
> 时间：2012-08-24T09:09:07.023
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有身份验证过程，但它会在注册时保存用户，并且一旦注册完成就可以登录。我想向用户发送邮件以确认帐户，然后他必须能够登录。如何在我现有的身份验证系统中添加此功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:33:14.053

有一个很好的 gem 可以帮助您进行用户身份验证工作流程。可以在这里找到设计：[http ://rubygems.org/gems/devise](http://rubygems.org/gems/devise)

但是如果你想开发自己的认证系统，你需要将用户保存在数据库中，并使用一个列来管理注册状态（例如注册/确认）。

要向用户发送电子邮件，请查看 action mailer 文档页面： http: [//guides.rubyonrails.org/action_mailer_basics.html](http://guides.rubyonrails.org/action_mailer_basics.html)

# java - 获取 Lucene 查询的所有结果

> ID：12106335
> 
> 赞同：0
> 
> 时间：2012-08-24T09:09:42.550
> 
> 标签：java, lucene

我使用`3.5.0`Lucene 版本。

我正在这样寻找。

```
final TopDocs docs = searcher.search(finalQuery, resultSize); 
```

但我不想指定结果大小；相反，我想要所有匹配的结果。

其中一种方法是将索引中的记录总数作为 resultSize。

有没有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:22:15.077

由于 Lucene 内部的处理方式，使用足够大的`resultSize`. 如果您执行其他任何操作，您将不会节省任何内存，并且结果以内存优化的方式返回，实际上没有加载任何文档。

# jboss - 如何访问 JBoss 5.1 GA 的 MBean？

> ID：12106339
> 
> 赞同：0
> 
> 时间：2012-08-24T09:09:53.697
> 
> 标签：jboss, jmx, mbeans

我想用我的 POJO 类访问 JBoss 服务器的 mbean。[我在这些站点上](http://middlewaremagic.com/jboss/?page_id=655)了解了 mbean 。但我并不满意。有没有什么方法可以使用 java 类访问 JBoss 服务器的 mbean 以及如何应用这些 mbean？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T15:14:49.797

要获得对本地 JBoss MBean 服务器的引用，最简单的方法是使用 MBeanServerLocator。检查此链接：[https ://community.jboss.org/wiki/HowCanIGetAReferenceToTheMBeanServer](https://community.jboss.org/wiki/HowCanIGetAReferenceToTheMBeanServer)

如果你想访问远程 JBoss MBean 服务器，那么你可以使用：

1.  JMXConnectionFactory [http://docs.oracle.com/javase/1.5.0/docs/api/javax/management/remote/JMXConnectorFactory.html](http://docs.oracle.com/javase/1.5.0/docs/api/javax/management/remote/JMXConnectorFactory.html)或
2.  RMI 适配器[http://docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/Connecting_to_the_JMX_Server-Connecting_to_JMX_Using_RMI.html](http://docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/Connecting_to_the_JMX_Server-Connecting_to_JMX_Using_RMI.html)

如果你用谷歌搜索，你可以找到每种方法的大量示例。

# ios - 隐藏覆盖 UITableVIew 的 UIKeyboard 时过渡不流畅

> ID：12106341
> 
> 赞同：1
> 
> 时间：2012-08-24T09:09:59.100
> 
> 标签：ios, uitableview, uikeyboard

我一直在关注这个苹果教程，关于在显示时覆盖字段的键盘：

[http://developer.apple.com/library/ios/#DOCUMENTATION/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html](http://developer.apple.com/library/ios/#DOCUMENTATION/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html)

一切正常，除了隐藏键盘时，我`UITtableView`只是调整大小，可以说切割到适当的尺寸，没有平滑的过渡。使用的时候`UITableViewController`，这个效果平滑多了，可以清楚的看到如何向下滚动查看，而不是立即缩小。

对此有什么建议吗？

编辑：

我会尽量准确一点。当用户点击其中一个文本字段时，将显示键盘并调用此方法：

```
- (void) keyboardWasShown: (NSNotification*) keyboardNotification {
 NSDictionary *userInfo = [keyboardNotification userInfo];
 CGSize size = [[userInfo valueForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;
 UIEdgeInsets insents = UIEdgeInsetsMake(0, 0, size.height - 44, 0); // 44 because keyboard goes over toolbar 

 self.revisionTableView.contentInset = insents;
 self.revisionTableView.scrollIndicatorInsets = insents;
} 
```

完成编辑后，我点击键盘和键盘隐藏上的完成按钮。在此期间调用此方法：

```
 - (void) keyboardWillHide: (NSNotification*) keyboardNotification {
 UIEdgeInsets insents = UIEdgeInsetsZero;
 self.revisionTableView.contentInset = insents;
 self.revisionTableView.scrollIndicatorInsets = insents;
} 
```

虽然一切都恢复到以前的状态，但过渡并不顺利，就像我在使用时点击键盘上的完成按钮一样`UITableViewController`。

# javascript - 选择 p 文本 jquery

> ID：12106342
> 
> 赞同：1
> 
> 时间：2012-08-24T09:09:58.917
> 
> 标签：javascript, jquery, select, text

我正在从 mysql 中检索数据，就像这种结构 =>

```
echo "<table id='postI" . $chat_row['id'] . "'>";
echo "<tr>";
      echo "<td><p class='post_author'>" . $chat_row['user_name'] . "</p><a href='javascript: void(0)' class='edit_post_a'><div class='edit_post'></div></a></td>";
echo "</tr>";
echo "<tr>";
      echo "<td><p class='posted_on'>" . $chat_row['posted_on'] . "</p></td>";
echo "</tr>";
echo "<tr>";
      echo "<td><br></td>";
echo "</tr>";
      echo "<tr>";
echo "<td><p class='posted_msg'>" . $chat_row['message'] . "</p></td>";
      echo "</tr>";
echo "</table>"; 
```

`id`我可以用这个表达式得到表格=>

```
$(".edit_post_a").bind("click",function(){
    var tb_id = $(this).closest("table").attr("id"); //  works , gets the id of the table
    alert($(tb_id + ".posted_msg").text()); // don't work, gets nothing , just alert box 
    }); 
```

我的问题是想知道第三个的文本`p`，我试过了=>

```
alert($("#" +tb_id + ".posted_msg").text());
alert($("#" +tb_id).find("p").last().text());
alert($("#" +tb_id + " p:nth-child(3)").text()); 
```

没有任何效果，得到空的警报框，我不知道出了什么问题？我该如何解决？谢谢

HTML 代码 =>

```
<table id='postI245'>
<tr>
    <td><p class='post_author'>USER</p><a href='javascript: void(0)' class='edit_post_a'><div class='edit_post'></div></a>
    </td>
</tr>
<tr>
    <td><p class='posted_on'>DATE</p></td>
</tr>
<tr>
    <td><br></td>
</tr>
<tr>
    <td><p class='posted_msg'>MSG</p></td>
</tr>
</table> 
```

等等 ...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:13:04.337

您的选择器没有选择任何内容，您应该添加`#`以按 id 选择元素。

```
var txt = $('#'+tb_id + " .posted_msg").text(); 
```

或者：

```
var txt = $(this).closest("table").find("p:eq(2)").text() 
```

# javascript - 删除部分 JSON

> ID：12106343
> 
> 赞同：1
> 
> 时间：2012-08-24T09:10:14.067
> 
> 标签：javascript, jquery, json

这是从我的服务器返回的 JSON。

```
"[{"description":"A user","name":"test","type":"user"}]" 
```

我想删除外部双引号。这意味着我想要 JSON 作为

```
[{"description":"A user","name":"test","type":"user"}] 
```

我怎样才能做到这一点？请帮忙。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:12:07.970

您想将 JSON 转换为 JS 对象吗？如果是这样，你会这样做`JSON.parse(json)`。如果您需要 IE7 支持，则必须包含 JSON 的 polyfill，因为 IE7 不支持它。

您可以在此处获取当前的 JSON polyfill：[https ://github.com/douglascrockford/JSON-js/blob/master/json2.js](https://github.com/douglascrockford/JSON-js/blob/master/json2.js)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-24T09:18:26.433

由于来自服务器的响应不是有效的 JSON，您必须将其作为文本请求、修复它并将其解析为 JSON。[在ajax](http://api.jquery.com/jQuery.ajax/)调用`dataType: 'text'`中的选项中使用。

使用`substr`方法剪切第一个和最后一个字符：

```
data = data.substr(1, data.length - 2); 
```

然后你可以解析JSON：

```
var obj = $.parseJSON(data); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-24T09:17:06.823

要从字符串中删除第一个和最后一个字符：

```
var fixed_string = string.substring(1, string.length - 1); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:50:22.207

var str = '[{"description":"A user","name":"test","type":"user"}]';

var data = (new Function("return" +s))(); 控制台.log(f);

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-25T04:37:07.970

在您的情况下，来自服务器的响应是一个 json 字符串，您必须将其转换为 json 对象

```
var str = '[{"description":"A user","name":"test","type":"user"}]'; 
str = eval('('+str+')');
console.log(str[0].name) //this will give test 
```

希望这可以帮助。

# c++ - 使用 x 关闭程序时内存泄漏

> ID：12106349
> 
> 赞同：1
> 
> 时间：2012-08-24T09:10:35.233
> 
> 标签：c++, memory-leaks

可能是一个愚蠢的问题，但如果我创建一个动态创建对象等的控制台应用程序，我确保在关机时释放内存。如果用户使用窗口上的“x”按钮关闭应用程序会发生什么？会有内存泄漏，如果是，我该如何预防？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:14:40.413

不，不会有任何内存泄漏。

当用户关闭您的应用程序时，运行您的应用程序的进程就会终止。一旦进程终止，操作系统（OS）就会简单地回收它分配给该进程的所有内存。

请注意，对于操作系统而言，内存是否被应用程序泄漏并不重要，它只是回收分配给进程的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:13:19.540

该应用程序将被简单地杀死。在这种情况下，内存泄漏并不会真正发生，因为操作系统会为您进行清理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:13:42.567

除非你有一个嵌入式（或有缺陷的）操作系统，否则你不需要做任何事情。

如果您确实有嵌入式（或有缺陷的）操作系统，则需要严格跟踪所有内存分配并确保有相应的空闲。对于有缺陷的操作系统，您应该另外向该操作系统的提供者投诉

# javascript - 是什么触发了浏览器中的弹出窗口阻止程序？

> ID：12106351
> 
> 赞同：5
> 
> 时间：2012-08-24T09:10:48.700
> 
> 标签：javascript, popup

浏览器中的拦截器在什么情况下会激活，在什么情况下不会？

您是否可以在链接上使用 onclick 事件来触发弹出窗口（target = _blank 除外），或者这总是会触发阻止程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-26T22:43:46.763

大多数弹出窗口阻止程序是在从用户操作间接启动弹出窗口时触发的。

当用户单击时会触发一些弹出窗口阻止程序，但大多数不会。基本上，如果在单击处理程序（或它调用的代码）中触发弹出窗口，您通常没问题。

如果可能的话，我建议完全避免弹出窗口。除了少数例外，它们往往会破坏用户体验。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-26T22:50:28.923

这是关于弹出窗口的非常详细的[答案。](http://answers.google.com/answers/threadview/id/400557.html)是的，您可以使用 onclick 事件来触发弹出窗口，这通常是广告公司赚钱的方式——他们跟踪您的点击以知道您已经看到了弹出广告并对其进行计数，以便将弹出窗口发送给您的人获得资金.

这里还有[一篇](http://computer.howstuffworks.com/internet/basics/pop-up-blocker.htm)关于弹出窗口阻止程序如何工作的非常详细的文章。

# sql - 如何为元胞数组的内容编写 SQL 查询？

> ID：12106352
> 
> 赞同：1
> 
> 时间：2012-08-24T09:10:49.577
> 
> 标签：sql, matlab

如果这应该是相当明显的，请道歉！如果我有一个键的单元格数组 - 我应该如何最好地针对数据库查询这些？

例如，如果我有单元格数组：

```
Names = { 'Jon', 'Peter', 'Paul' }; 
```

我是否必须以以下形式编写 SQL：

```
select *
from x
where name = 'Jon' or name = 'Peter' or name = 'Paul'; 
```

或者是否有某种形式的写法：

```
select *
from x
where name = {Names}; 
```

虽然我可以编写一个函数来生成 where 子句，但这感觉远非理想！

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:14:14.580

您可以使用`IN`

```
SELECT *
FROM   x
WHERE  name IN ('Jon', 'Peter', 'Paul') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:16:04.973

我至少可以想到两种方法：

在 where 子句中，您可以使用：“in ('Jon','Peter')”

或者，如果您有要在表中查询的名称，只需使用“其中名称（从 [带有名称的表中选择名称]）”

希望有帮助。

# javascript - 禁用永久活动状态

> ID：12106355
> 
> 赞同：13
> 
> 时间：2012-08-24T09:11:05.753
> 
> 标签：javascript, css

我有一个链接，如果你拖动这个链接然后松开，链接会保持他的活动状态。

示例：http: [//jsfiddle.net/Ek43k/3/](http://jsfiddle.net/Ek43k/3/)

```
<a href="javascript:void(0);" id="foo" >Drag me</a> 
```

```
#foo:active{
    color:red;
} 
```

我怎样才能防止这种情况？

（仅在 IE 和 FF 中）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-28T17:04:13.333

这是 Firefox 中的一个已知错误，请参阅[https://bugzilla.mozilla.org/show_bug.cgi?id=193321](https://bugzilla.mozilla.org/show_bug.cgi?id=193321)

该错误具有多次报告的开关状态；该行为是非标准的和特定于浏览器的。

你**可以**为它构建一个解决方法，但你被javascript困住了。经过大量搜索，我确定除非您在特权模式下运行（即您的代码在扩展中），否则您不能直接影响伪选择器状态。这意味着您只需要添加/删除类名：

```
<a href="#" onmousedown="this.className = '';" ondragend="this.className = 'inactive';" id="foo" >Drag me</a> 
```

试试看：http: [//jsfiddle.net/frsRS/](http://jsfiddle.net/frsRS/)

如果你**有**特权模式，你可以使用 Firebug 在他们的 CSS 面板中使用的方法，使用`inIDOMUtils.setContentState`

```
var node = document.getElementById("foo");
var domUtil = Components.classes["@mozilla.org/inspector/dom-utils;1"].getService(Components.interfaces.inIDOMUtils);
domUtil.setContentState( node , 1); 
```

**编辑**

这是用于绑定跨浏览器委托而不是将 javascript 内联的特定代码（此处显示用于演示目的，但通常是不好的做法）

```
function addEvent(ele, evnt, funct) {
  if (ele.addEventListener) // W3C
    return ele.addEventListener(evnt,funct,false);
  else if (ele.attachEvent)  // IE
    return ele.attachEvent("on"+evnt,funct);
}
addEvent(document.body, 'mousedown', function (e) {        
    if(e.target.tagName == 'A') e.target.style.color = '';

});
addEvent(document.body, 'dragend', function (e) {
    if(e.target.tagName == 'A') e.target.style.color = 'blue';
}); 
```

试试看：http: [//jsfiddle.net/HYJCQ/](http://jsfiddle.net/HYJCQ/)

这使用元素的样式而不是 css 类，您可以根据需要换出方法。

Supr 建议的另一种方法是从 DOM 中删除并立即重新添加元素。您也可以使用委托来完成此操作：

```
function addEvent(ele, evnt, funct) {
  if (ele.addEventListener) // W3C
    return ele.addEventListener(evnt,funct,false);
  else if (ele.attachEvent)  // IE
    return ele.attachEvent("on"+evnt,funct);
}
addEvent(document.body, 'dragend', function (e) {
    if(e.target.tagName != 'A') return;
    var parent = e.target.parentNode;
    var sib = e.target.nextSibling;
    parent.insertBefore(
        parent.removeChild(e.target),
        sib
    );
}); 
```

试试看：http: [//jsfiddle.net/ymPfH/](http://jsfiddle.net/ymPfH/)

使用委托的两种方法都比循环元素更好——这样，脚本将应用于`a`加载后添加到页面的任何标签（类似于 jQuery`live`或`on`方法的工作方式）。

**文档**

*   Bugzilla 条目 - [https://bugzilla.mozilla.org/show_bug.cgi?id=193321](https://bugzilla.mozilla.org/show_bug.cgi?id=193321)
*   在 MDN ( ) 上拖放`ondragend`- [https://developer.mozilla.org/en-US/docs/Drag_and_Drop](https://developer.mozilla.org/en-US/docs/Drag_and_Drop)
*   `inIDOMUtils`- [https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/inIDOMUtils](https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/inIDOMUtils)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-31T11:33:40.350

从 DOM 树中分离并重新附加链接以禁用其活动状态。当拖动结束时执行此操作并且您[得到了这个](http://jsfiddle.net/Ek43k/86/)：

```
$('a').on('dragend',function(){
    var $this   = $(this),
        $parent = $this.parent(),
        $next   = $(this.nextSibling); // $.next() doesn't include text
    $this.detach().insertBefore($next);     
}); 
```

无需弄乱您的 HTML 或 CSS 或取消`:active`. 似乎在 FF 和 IE 中都可以使用。

* * *

**编辑：**我通常不会为 DOM 处理编写纯 Javascript，因此它的质量可能不是一流的，但[这里没有 jQuery](http://jsfiddle.net/Ek43k/83/)：

```
(function(){
    var previousOnload = window.onload || function noop(){};

    window.onload = function (){

        // Call any previously added onload callbacks
        previousOnload();

        // Add deactivator to each <a> element
        var elements = document.getElementsByTagName('a');
        for (var i=0; i<elements.length; i++){
            elements[i].ondragend = deactivate;
        }

        function deactivate(){
            var parent   = this.parentNode,
                position = this.nextSibling;
            parent.removeChild(this);
            // Using insertBefore instead of appendChild so that it is put at the right position among the siblings
            parent.insertBefore(this, position);
        }
    };

})(); 
```

我处理了一些想到的问题，使其完全即插即用。在 Opera、Chrome、Firefox 和 Internet Explorer 中测试。

* * *

**编辑 2：**受 Chris 启发，另一种应用修复方法是`ondragend`直接使用属性连接`deactivator`（未测试）：

```
<head>
    <script>
        function deactivate(){
            var parent   = this.parentNode,
                position = this.nextSibling;
            parent.removeChild(this);
            // Using insertBefore instead of appendChild so that it is put at the right position among the siblings
            parent.insertBefore(this, position);
        }
    </script>
</head>
<body>
    <a href="#" ondragend="deactivate()">Drag me</a>
<body> 
```

缺点是它需要`ondragend`在每个链接上手动/显式指定带有 javascript 的属性。我想这是一个偏好问题。

* * *

**最终（？）编辑：**请参阅这些代表/现场版本的评论和克里斯的回答。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-01T10:04:25.483

如果 jQuery 是一个选项，我认为这段代码至少在 FF 中有效：http: [//jsfiddle.net/Ek43k/89/](http://jsfiddle.net/Ek43k/89/)

HTML

```
<a href="#" id="foo" class="inactive" >Drag me</a> 
```

CSS

```
.inactive:active{color:red;}
.active:active{color:blue;} 
```

jQuery

```
$('body').on('mousedown', 'a.inactive', function() {
    $(this).on('mousemove', function() {
        $(this).removeClass().addClass('active');
    });
});

$('body').on('mousedown', 'a.active', function() {
    $(this).removeClass().addClass('inactive');
}); 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2012-08-31T10:52:49.207

只需添加这个 CSS：

```
#foo:hover {
    color: green;
} 
```

# orchardcms - 将 DisplayChildren(model) 存储在字符串变量中以供以后修改

> ID：12106363
> 
> 赞同：0
> 
> 时间：2012-08-24T09:11:31.907
> 
> 标签：orchardcms

在 Orchard 中，我可以看到菜单是在 MenuItem.cshtml 中输出的，带有 DisplayChildren(model) 行。

我想获取这个 html 输出并运行 xslt 转换来更改结构。

如何将菜单项作为 html 获取并将其存储在局部变量中（而不是将其直接输出到流中）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-25T02:39:50.057

```
var html = DisplayChildren(model); 
```

是的，就是这么简单。它会给你一个`IHtmlString`，`ToString()`如果你需要，你可以。但是xslt？8|

# javascript - 嵌套同名Divs，一键选择正确

> ID：12106364
> 
> 赞同：0
> 
> 时间：2012-08-24T09:11:34.113
> 
> 标签：javascript, jquery

我有一个问题，我有同一个类的嵌套 div。例如，我在 Panel 内部有类似 Panel 的东西。但是，当我单击第一个面板内的面板时，它是第一个触发

```
 $(".panel").click 
```

功能。但是，我需要以某种方式深入到鼠标实际单击的面板。换句话说，如果我有以下代码：

```
 <div class="panel"> //first panel
      <div class="panel"> //second panel
      </div>
 </div> 
```

当我希望第二个面板触发点击时，我改为让父面板触发点击。考虑到第二个面板被包裹在第一个面板中，这是有道理的。但是，我想知道是否有办法解决这个问题？理论上，我正在编写的代码可以在其他面板中包含无限数量的面板。有没有办法一直钻到鼠标点击的面板？（不是包含面板）

编辑：

这是整个代码段：

```
<style type="text/css">
body
{
    height: 700px;

}
.gridSegment
{
            width: 50%;
    height: 50%;
    float: left;
    outline: 2px solid black;
}
</style>

<script type="text/javascript">
$(document).ready(function(){
    var lastID = 10;
     $(".gridSegment").dblclick(function(){
         console.log($(this).attr("ID"));
         lastID++;
         $(this).append("<div class='gridSegment' id='" + lastID + "'></div>");
         lastID++;
         $(this).append("<div class='gridSegment' id='" + lastID + "'></div>");
         lastID++;
         $(this).append("<div class='gridSegment' id='" + lastID + "'></div>");
         lastID++;
         $(this).append("<div class='gridSegment' id='" + lastID + "'></div>");
         return false;

     });
});
</script>
</head>
    <body>
    <div class='gridSegment'>
        <div class='gridSegment' id ="1"></div>
        <div class='gridSegment' id ="2"></div>
        <div class='gridSegment' id ="3"></div>
        <div class='gridSegment' id ="4"></div>
    </div>

</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:15:23.447

> 在 jsFiddle 上查看这个[示例（打开你的 JavaScript 控制台）](http://jsfiddle.net/wCLZR/1/)
> *（请原谅丑陋的颜色 - 我是程序员而不是设计师；）。*

```
$(function(){
    $('.panel').on('click',function(e){
       console.log($(this));
       return false;
    });
});​ 
```

您所要做的就是在捕获单击以停止事件冒泡回到包含元素时返回 false。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T11:02:40.457

我冒昧地稍微更改了您的代码（仅用于示例）。主要是循环，我还更改了`id`属性以添加更多信息 - 您现在可以准确地看到您所处的级别。如果您觉得它适合您的需求，那么您可以通过各种方式将它应用到您的应用程序中。

您在评论中提到该`.live()`功能解决了您的问题，但是从 jQuery 1.7 开始不推荐使用此功能，建议使用该`delegate()`功能代替`live()`如果您不能使用`on()`. 所以这是我使用该`delegate()`功能的解决方案。

如您所见，语法相似，只是我们将回调附加到容器元素并指定要使用的内部选择器 - 在我们的例子中，它是任何`.gridSegment`元素。

```
$("#body").delegate(".gridSegment", "dblclick", function() {
     var $thisCached = $(this);
     console.log($thisCached,$(this).parent());
     var lastId = $thisCached.attr("id");
     var limit = 4;
     var counter = 1;
     while(counter <= limit){
       var newId = lastId + '_' + counter;
       counter++;    
       $thisCached.append("<div class='gridSegment' id='" + newId + "'></div>");         
     }
     return false;
}); 
```

**请注意，我的包装器是一个ID 为 body的*元素***

### [jsFiddle 示例](http://jsfiddle.net/wCLZR/9/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:14:04.453

使用身份证

```
<div class="panel" id="panel_1">
    <div class="panel" id="panel_2">
... 
```

或使用 data-* 属性

```
<div class=panel data-pid=1> 
```

然后

```
$('.panel').click(function(){
   alert('panel id is: '+$(this).attr('data-pid'));
}) 
```

# java - Oracle Webcenter Spaces 和 Internet Explorer 9

> ID：12106365
> 
> 赞同：4
> 
> 时间：2012-08-24T09:11:36.523
> 
> 标签：java, oracle, oracle-adf, webcenter

我正在开发一个 WebCenter Spaces 应用程序，并在跨浏览器测试过程中观察到一些奇怪的行为：

当使用 Internet Explorer 8 访问该站点时，Spaces 很可能会插入以下元标记：

```
<meta http-equiv="X-UA-Compatible" content="IE=8.0"> 
```

使用 Internet Explorer 9 访问它时，启用了兼容性视图，但是，添加了以下标记：

```
<meta http-equiv="X-UA-Compatible" content="IE=7.0"> 
```

这强制要求实际使用兼容性视图。雪上加霜的是，会弹出一个警告对话框，通知用户必须禁用兼容性视图才能使用该应用程序。

当兼容性视图被禁用时，Spaces 会发送一个在这种情况下完全不执行任何操作的标签：

```
<meta http-equiv="X-UA-Compatible" content="IE=9.0"> 
```

为什么不按一般原则将这个标签发送到 IE9？然后这将禁用兼容模式并正确呈现页面，或者不是？如何自定义 WebCenter Spaces 以正确支持 IE9？

版本信息：目前使用 WebCenter 11.1.1.6，但我们将迁移到 11.1.1.5（不要问）——我正在 Windows Server 2008 R2 Standard x64 上使用 IE9 进行测试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T13:21:54.833

很遗憾，但 ADF 确实在 User-Agent 标头中添加了`X-UA-Compatible`基于属性的标签。`MSIE`据我所知，覆盖此行为的唯一方法是使用 servlet 过滤器。您可以在其中通过User-Agent中的属性确定IE引擎版本`Trident`并设置适当的`X-UA-Compatible`标签。我们成功地将以下代码用于 servlet 过滤器：

```
public void doFilter(ServletRequest request, ServletResponse response, 
        FilterChain filterChain) throws IOException, ServletException {

    HttpServletRequest httpReq = (HttpServletRequest)request;
    String ua = httpReq.getHeader("User-Agent");

    Pattern patternEngineIE = Pattern.compile(".*Trident/(\\d).*");
    Matcher mEngineIE = patternEngineIE.matcher(ua);

    if (mEngineIE.find()) {
        int versionEngineIE = Integer.parseInt(mEngineIE.group(1));
        switch (versionEngineIE) {
        case 4:
            ua = ua.replaceAll("MSIE 7.0", "MSIE 8.0");
            response.addHeader("X-UA-Compatible", "IE=8");
            break;
        case 5:
            ua = ua.replaceAll("MSIE 7.0", "MSIE 9.0");
            response.addHeader("X-UA-Compatible", "IE=9");
            break;
        case 6:
            ua = ua.replaceAll("MSIE 7.0", "MSIE 10.0");
            response.addHeader("X-UA-Compatible", "IE=10");
            break;
        }
    }

    httpReq.addHeader("User-Agent", ua);
    filterChain.doFilter(httpReq, response);
} 
```

因此，我们通过属性来确定 IE 版本`Trident`，IE8 为 4，IE9 为 5，即使是兼容模式也是如此。但是在兼容模式下 IE8 和 IE9 添加`MSIE 7.0`了我们替换到`MSIE 8.0`或`MSIE 9.0`基于引擎版本的属性。

# java - 使用两个音频线程时的音频故障

> ID：12106372
> 
> 赞同：0
> 
> 时间：2012-08-24T09:11:58.453
> 
> 标签：java, audio, xuggler

我使用一个线程绘制波形，另一个线程播放音频。唯一的问题是我在播放时有音频卡顿，它来自 decodeAudio 过程：audioCoder.decodeAudio(samples, packet, offset);

这是我的波形绘图课：

```
public class DrawWaveform extends Thread{
    String f;
    int n;
    DrawWaveform(final String file, final int nstream)
    {
        this.setPriority(10);
        f = file;
        n = nstream;
    }
    public void run() {

        stopThread = false;
        {
            IContainer container = IContainer.make();

            container.open(f, IContainer.Type.READ, null);

            // query how many streams the call to open found
            int numStreams = container.getNumStreams();
            int count = 0;
            IStreamCoder audioCoder = null;
            int audioStreamId = -1;

            for (int i = 0; i < numStreams; i++)
            {
                  // Find the stream object
                  IStream stream = container.getStream(i);
                  // Get the pre-configured decoder that can decode this stream;
                  IStreamCoder coder = stream.getStreamCoder();

                  //si le premier élément est audio alors t = true sinon t = false
                  if (coder.getCodecType() == ICodec.Type.CODEC_TYPE_AUDIO)
                  {
                      if (count == n)
                      {
                          //on commence la lecture an plein milieu du son
                          //container.seekKeyFrame(i, dur/2, container.SEEK_FLAG_BYTE);
                          format = coder.getSampleFormat();

                          audioCoder = coder;
                          audioStreamId = i;

                          break;
                      }
                      count += 1;
                  }
             }
            if (audioCoder.open() < 0)
                throw new RuntimeException("could not open audio decoder for container: "+f);

            int sr = container.getStream(audioStreamId).getStreamCoder().getSampleRate();
            zoomFactor = (int) Math.round(220.*sr/11630.);

            long dur = container.getDuration();//en microsecondes
            samples = new int[(int)(dur*sr/(1000*1000))];
            //openJavaSound(audioCoder);

            /*
             * Now, we start walking through the container looking at each packet.
             */
            IPacket packet = IPacket.make();
            //on parcours tout le fichier f
            while(container.readNextPacket(packet) >= 0 && !stopThread)
            {

                      /*
                       * Now we have a packet, let's see if it belongs to our audio stream
                       */
                      //on s'assure que le packet lu correspond au bon stream
                      if (packet.getStreamIndex() == audioStreamId)
                      {
                        /*
                         * We allocate a set of samples with the same number of channels as the
                         * coder tells us is in this buffer.
                         *
                         * We also pass in a buffer size (1024 in our example), although Xuggler
                         * will probably allocate more space than just the 1024 (it's not important why).
                         */
                        IAudioSamples samples = IAudioSamples.make(1024, audioCoder.getChannels());

                        /*
                         * A packet can actually contain multiple sets of samples (or frames of samples
                         * in audio-decoding speak).  So, we may need to call decode audio multiple
                         * times at different offsets in the packet's data.  We capture that here.
                         */
                        int offset = 0;

                        /*
                         * Keep going until we've processed all data
                         */
                        while(offset < packet.getSize())
                        {
                          //if i remove this line, no more audio glitches
                          int bytesDecoded = audioCoder.decodeAudio(samples, packet, offset);
                          if (bytesDecoded < 0)
                            throw new RuntimeException("got error decoding audio in: " + f);
                          offset += bytesDecoded;

                          /*
                           * Some decoder will consume data in a packet, but will not be able to construct
                           * a full set of samples yet.  Therefore you should always check if you
                           * got a complete set of samples from the decoder
                           */
                          if (!stopThread)
                          if(samples.isComplete())
                          {
                            makeWaveform(samples);

                            currentPlayTime += samples.getNumSamples();
                            //System.out.println("max = "+48000*container.getDuration()/1000000 + " current = "+currentPlayTime);
                          }
                        }
                      }
                      else
                      {
                        /*
                         * This packet isn't part of our audio stream, so we just silently drop it.
                         */

                      }
                  }

         }
         }
    } 
```

如果我删除所需的 decodeAudio 线，我也会删除故障。

我试图改变线程的优先级，但没有运气。我也尝试更改缓冲区大小，相同。

那么，有没有办法避免这种情况？

谢谢一堆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:34:50.730

只是检查一下：你确定`decodeAudio`是罪魁祸首（使用分析，或其他东西）？如果不是，如果您解码音频但不绘制波形会发生什么？

# java - 什么 Maven Artefact 拥有 PowerMock.mockStaticPartial？

> ID：12106377
> 
> 赞同：1
> 
> 时间：2012-08-24T09:12:17.060
> 
> 标签：java, maven, mocking, mockito, powermock

一些 Powermock/Mockito 文章提到了一种`PowerMock.mockStaticPartial`方法的使用——唯一的问题是我在任何地方都找不到它！

有谁知道这存在/存在于哪个工件和版本中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:19:15.350

我认为这种方法是从[API 1.2](http://powermock.googlecode.com/svn/docs/powermock-1.2/apidocs/org/powermock/api/easymock/PowerMock.html)开始的。检查[PowerMock wiki](http://code.google.com/p/powermock/wiki/GettingStarted) Maven 设置，每个部分都有依赖项。依赖项是 1.4.12 版本，因此它们应该包括*mockStaticPartial*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:19:40.973

它肯定在 v1.4.11 的 powermock-api-easymock 中，请参阅[powermock-api-easymock-1.4.11.jar](http://www.jarvana.com/jarvana/view/org/powermock/powermock-api-easymock/1.4.11/powermock-api-easymock-1.4.11.jar!/org/powermock/api/easymock/PowerMock.class?classDetails=ok)了解 Maven/Ivy 详细信息和 .jar 本身的视图。

Maven依赖是：

```
<dependency>
   <groupId>org.powermock</groupId>
   <artifactId>powermock-api-easymock</artifactId>
   <version>1.4.11</version>
</dependency> 
```

如果您也在使用 Mockito，您应该了解 Mockito 和 PowerMock 之间的版本兼容性，请参阅[http://code.google.com/p/powermock/wiki/MockitoUsage13](http://code.google.com/p/powermock/wiki/MockitoUsage13)了解哪些版本可以一起使用。

# android - Google play lvl 总是返回 LICENSED

> ID：12106379
> 
> 赞同：2
> 
> 时间：2012-08-24T09:12:20.527
> 
> 标签：android, android-lvl

我知道这个问题被问了好几次，但我已经尝试了很多来解决我的问题，但没有成功。

我的用例是：

*   我已经在 google play 上上传了一个 apk（作为草稿但已激活）
*   我的手机上有同样的 apk
*   我已使用我的发布商帐户在手机上登录
*   我已经在我的控制台 google play 中设置了 NOT_LICENSED 响应。

但我总是得到许可代码响应。

知道我可能错在哪里吗？

谢谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T15:44:12.010

在 Android 开发者文档的[服务器响应代码表](http://developer.android.com/guide/google/play/licensing/licensing-reference.html)中，您会找到以下对 LICENSED 响应的描述：

> 该应用程序已授权给用户。用户已购买应用程序或**应用程序仅作为草稿存在**。[强调我的]

因此，您获得该代码的原因似乎列在您的第一个要点中：您的 apk 仅作为草稿存在。

您也可以参考[this other similar question](https://stackoverflow.com/questions/6365118/market-licensing-example-always-getting-licensed)。

# javascript - 固定元素通过时如何滚动父元素内的元素？

> ID：12106380
> 
> 赞同：7
> 
> 时间：2012-08-24T09:12:21.223
> 
> 标签：javascript, jquery

这对于我的 jQuery / javascript 知识来说有点太棘手了，所以我很抱歉说我还没有真正尝试过任何东西。我需要一些提示才能指出正确的方向！

问题是我的页面上有一个固定元素，当向下滚动时，这个元素将进入不同的包装器，而在那个包装器中，我需要一个较小的子元素来“捕捉”到我的固定元素，而它在元素中。

有点难以解释，我在这里做了一个静态模型：

[http://jsfiddle.net/ycmYc/](http://jsfiddle.net/ycmYc/)

当“固定购物车按钮”达到价格时，我需要它附加并使用购物车按钮滚动，只要它在价格“产品 div”内。当它离开并进入下一个时，价格应该保持在其产品的底部，然后当用户通过向上滚动到达它时再次捕捉到购物车按钮。

好吧，再一次，很抱歉没有尝试任何东西，但我迷路了。如果我不得不在没有任何帮助的情况下这样做，我想我会选择 waypoints.js，但感觉远非最佳。

非常感谢任何帮助！

固定元素将始终具有相同的位置，所以我猜可以使用从浏览器顶部的偏移量，而不是跟踪它的位置。总是有东西;）

更新：

我自己一直在研究它，让它向下而不是向上工作：

应该澄清我的意思：

[http://retype.se/temp/scrolltest/test.html](http://retype.se/temp/scrolltest/test.html)

当按价格滚动时，它会向下连接按钮并在离开容器时松开。我现在的问题是让它捕捉到它并在向上滚动时滚动回原来的位置:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:06:34.943

你想要这样吗？

[http://jsfiddle.net/ycmYc/39/](http://jsfiddle.net/ycmYc/39/)

唯一的结果： http: [//fiddle.jshell.net/ycmYc/39/show/light/](http://fiddle.jshell.net/ycmYc/39/show/light/)

![在此处输入图像描述](../Images/52f447cfa504a49018779b43d70baae5.png)

更新：

这个怎么样？

[http://jsfiddle.net/ycmYc/93/](http://jsfiddle.net/ycmYc/93/)

唯一的结果： http: [//fiddle.jshell.net/ycmYc/93/show/light/](http://fiddle.jshell.net/ycmYc/93/show/light/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:33:36.410

这只是一个脑残，但也许它会让事情顺利进行（抱歉，没有时间玩小提琴）。但我有一个想法，也许是试图在光学上作弊。

我的意思是，要计算所有价格 div 的绝对位置，隐藏它们，当购物车 div 通过滚动到达该位置时，显示 x 像素滚动量的价格 div（或通过 z-indexes 通过制作背景，而不是确定什么更适合你）。

希望这会有所帮助，也许我今天有时间编写脚本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:33:44.040

这有点取决于约束。`window.pageYOffset`您可以使用：或来检测窗口的滚动位置 `document.documentElement.scrollTop`。

如果 div 大小相同，您可以轻松计算出按钮位于哪个 div 以及`position: fixed`旁边的价格。

# python - Django - i18n.set_language() 可以存储在用户配置文件中吗

> ID：12106385
> 
> 赞同：3
> 
> 时间：2012-08-24T09:12:37.777
> 
> 标签：python, django, internationalization, django-users

当用户选择一种语言时，我想[`i18n.set_language()`](https://docs.djangoproject.com/en/1.3/topics/i18n/internationalization/#the-set-language-redirect-view)将该语言存储到最终可用的[用户配置文件中。](https://docs.djangoproject.com/en/dev/topics/auth/#storing-additional-information-about-users)

Django 也应该使用它来[发现](https://docs.djangoproject.com/en/1.0/topics/i18n/#how-django-discovers-language-preference)我的语言。

这是个好主意吗 ？如果是，我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-24T09:27:31.990

1.  **请参阅[如何从外部 Django 应用程序覆盖视图 -> 如何在不分叉的情况下覆盖 -> 覆盖视图](http://blog.yourlabs.org/post/19777151073/how-to-override-a-view-from-an-external-django-app)**以使“i18n.set_language() 将语言存储到最终可用的用户配置文件中”

2.  **复制[django-user-accounts 中间件](https://github.com/pinax/django-user-accounts/blob/master/account/middleware.py#L7)**并更改`get_language_for_user`.

3.  **将中间件放在 之后`django.middleware.locale.LocaleMiddleware`**，因为这会根据请求设置默认语言，因此对于匿名访问者仍然有用，因此您希望在您自己的中间件之前执行它。

# ms-project-server-2010 - 错误 TF82039 的 MS 项目

> ID：12106388
> 
> 赞同：1
> 
> 时间：2012-08-24T09:12:39.907
> 
> 标签：ms-project-server-2010

我已经搜索过这个案例，但我找不到任何解决方案来解决它。

目前，我使用MS Project 2010，连接到TFS 2010。昨天，它仍然连接成功。但是今天出现错误：“TF82039：Team Foundation 无法修改项目计划。”

以下是我连接到 TFS 的步骤：

1.  创建新的 1 个空白项目。

2.  在团队选项卡上，单击“选择团队项目”

3.  选择 1 个团队项目。

4.  单击连接 -> 出现 1 个带有上述错误消息的弹出窗口。

请帮我解决这个错误。

非常感谢。

# ios - CLLocationManager - 计算 iPhone 上的实时速度

> ID：12106394
> 
> 赞同：6
> 
> 时间：2012-08-24T09:12:56.663
> 
> 标签：ios, real-time, cllocationmanager

如何计算设备上的实时速度？我用谷歌搜索了很多，但我得到的只是在完成旅程后计算距离和速度。我可以在运行时计算速度吗？

建议将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:54:39.100

这里`CLLocationManager`的类提供不同的位置字段，如纬度、经度、准确性和速度。

我用它`CoreLocationController`来更新位置，我称之为波纹管方法，你可以在**- (void)locationUpdate:(CLLocation *)location** 方法中获得当前速度，如下所示

```
 - (void)locationUpdate:(CLLocation *)location
{
     NSString *currentspeed = [NSString stringWithFormat:@"SPEED: %f", [location speed]];
} 
```

或者下面是委托方法

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation
{
    NSLog(@"in update to location");
    NSString *currentspeed = [NSString stringWithFormat:@"SPEED: %f", [newLocation speed]];
} 
```

您也可以从此链接获取示例... [http://www.vellios.com/2010/08/16/core-location-gps-tutorial/](http://www.vellios.com/2010/08/16/core-location-gps-tutorial/)

我希望这对你有帮助...... :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:54:50.387

有一个委托`CLLocationManagerDelegate`将其添加到您的控制器头文件中。

初始化位置管理器并设置委托，您在其中实现位置管理器的委托方法，如下所示

```
self.locationManager = [[CLLocationManager alloc] init];
self.locationManager.delegate = self; // send loc updates to current class 
```

你可以在你的课堂上写方法

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
    NSLog(@"Location Speed: %f", newLocation.speed);
} 
```

就是这样，您将通过上述方法以速度获取您的位置更新，并且它将尽可能频繁地触发。

# jquery - 使用 strophejs 创建 xmpp pubsub 节点

> ID：12106404
> 
> 赞同：1
> 
> 时间：2012-08-24T09:13:21.943
> 
> 标签：jquery, xmpp, openfire, strophe

我在 html 中创建一个 pubsub 相关应用程序，我必须在其中创建一个 pubsub 节点。我在“使用 JavaScript 和 jQuery 的专业 XMPP 编程”中看到了如何创建阳极。但是在书中节点是在没有给出其名称的情况下创建的。我知道我们左右两边都做。但我无法按指定名称创建节点。在书中正常运行的创建节点的实际代码是：

```
var createiq = $iq({to: Together.service, type: "set"})
          .c('pubsub', {xmlns: Together.NS_PUBSUB})
          .c('create'); 
```

我已经修改它以创建具有名称的节点：

```
 var createiq = $iq({to:Together.service,
                type:"set",
                })
                .c('pubsub', {xmlns: Together.NS_PUBSUB})
                .c('create',{node:'asdfghjkl'}); 
```

如果有人使用 xmpp 和 strophe 创建了一个 pubsub 节点，那么请帮助我...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-21T20:34:56.930

某些浏览器抱怨您不需要逗号：

```
var createiq = $iq({to:Together.service,
            type:"set"
            })
            .c('pubsub', {xmlns: Together.NS_PUBSUB})
            .c('create',{node:'asdfghjkl'}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T18:06:20.347

Strophe 已经存在插件来执行 PubSub：

*   “官方” strophe 插件：[https ://github.com/metajack/strophejs-plugins](https://github.com/metajack/strophejs-plugins)
*   我自己的收藏，[https://github.com/ggozad/strophe.plugins/](https://github.com/ggozad/strophe.plugins/)

# ios - dispatch_async 中的 NSDateFormatter

> ID：12106406
> 
> 赞同：0
> 
> 时间：2012-08-24T09:13:40.990
> 
> 标签：ios

我对如何在 dispatch_async 中使用 NSDateFormatter 感到有点困惑。我已经读到它不是线程安全的，但这是否意味着我每次在 dispatch_async 中使用它时都必须创建它的新实例，或者我可以将它用作静态代码，如下面的代码所示？由于它是一个串行队列，我猜它不能同时从多个地方访问？

```
dispatch_async(video_sync_request_operation_processing_queue(), ^{

    static NSDateFormatter *dateFormatter = nil;
    if (!dateFormatter) {
        dateFormatter = [[NSDateFormatter alloc] init];
        [dateFormatter setLocale:[[NSLocale alloc] initWithLocaleIdentifier:@"en_US_POSIX"]];
        [dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss'Z'"];
        [dateFormatter setTimeZone:[NSTimeZone timeZoneWithName:@"UTC"]];
    }

    ...

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:16:34.977

1.  如果是串行队列你不应该担心线程安全，因为这些任务永远不会同时工作。

2.  如果您想在并发线程上使用不是线程安全的类实例，您应该为您将使用它的实例专门创建一个串行队列。

# visual-studio-2010 - 无法安装 Nuget 包管理器

> ID：12106409
> 
> 赞同：10
> 
> 时间：2012-08-24T09:13:59.390
> 
> 标签：visual-studio-2010, nuget, windows-7-x64

我在 Windows 7（64 位）上使用 VS2010。尝试从 VS 的“扩展管理器”安装“Nuget 包管理器”时失败。下载有效，但后来我卡在安装进度条上。在查看 Windows 的任务管理器时，您可以看到安装程序不断启动“vsixinstaller.exe”进程的新实例。它一直持续到计算机最终崩溃。

直接启动文件“NuGet.Tools.vsix”时会发生相同的行为。

我已经在网上搜索了解决方案，但找不到任何有用的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-03T16:46:46.073

我今天收到了同样的行为，所以我决定打开 Process Monitor 进行调查。

你猜怎么着......进程监视器给出了相同的行为。然后灯泡熄灭了...... :)

**答**：我以前在我的笔记本电脑上拥有管理员权限，但在新年伊始，这些权限就被删除了。出于某种原因，当这些程序使用不在管理员组中的凭据时，它们会递归调用自己而不是失败、超时或报告访问被拒绝等。

请确保您在以管理员身份启动 VS 后尝试更新。

我也会将此反馈提供给[nuget 支持线程](http://nuget.codeplex.com/workitem/2327)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-06T02:22:50.003

通过在 SP1 下使用管理员安装 Nuget 进行修复。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T16:32:20.630

我在 NuGet Docs [Known Issues](http://docs.nuget.org/docs/reference/known-issues)找到了解决方案。安装他们推荐的修补程序，即使我有 SP1。它包括 KB2581019。

# http - Web 服务器的连接数限制

> ID：12106411
> 
> 赞同：2
> 
> 时间：2012-08-24T09:14:04.687
> 
> 标签：http, web-applications, request, httprequest

我想知道如何找到 Web 服务器的“连接数限制”。
我遇到的大多数情况都限制为 6 个连接（这意味着我可以有 6 个连接到该网络服务器同时工作）。
我可以通过 HTTP 发送任何请求吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:16:18.323

你能更精确一点吗？什么样的服务器？任何 ？适用于哪个操作系统？

如果是 Apache http 服务器，你应该查看设置文件（在 Linux 下应该是**/etc/httpd/conf/httpd.conf ）。**搜索**MaxClients**选项。例如，我在家里使用一个小型 apache 服务器，它可以同时处理 300 个请求（连接）。

**编辑：** 我认为您将无法获得服务器规格。您应该尝试重载它以猜测其限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T21:51:06.910

HTTP 标准中没有这样的东西，它旨在尽可能地隔离 HTTP 请求。可能有一种特定于服务器的方式来查询它。

根据您服务器的架构，接受的 TCP 连接数量可能比生成 HTTP 响应的工作线程多得多，因此您需要问自己到底对什么感兴趣，然后使用 jmeter 对其进行测量。

# qt - Vtk 渲染除 qvtkwidget 之外的另一个窗口

> ID：12106412
> 
> 赞同：2
> 
> 时间：2012-08-24T09:14:04.420
> 
> 标签：qt, render, vtk

我有一个小问题，我认为这很容易得到解决方案，但我已经到了尝试一切但仍然无法正常工作的地步。我确定这很简单，所以我正在寻求帮助，因为我自己无法弄清楚。

我在中央小部件上有一个 qvtkwidget，它没有问题。

问题是每次我运行程序时，它都会将另一个框从界面中分离出来。

这是我的代码中对这个问题很重要的部分。

```
// Create renderer
  ren= vtkRenderer::New();
    ren->AddActor(outlineActor);
    ren->SetBackground(0.1,0.1,0.3);

// Drawing some X,Y,Z axes
  axes= vtkCubeAxesActor2D::New();
    //more stuff
    ren->AddViewProp(axes);
    ren->ResetCamera();

// Create a window for the renderer
  renWin= vtkRenderWindow::New();
    renWin->AddRenderer(ren);

// Set an user interface interactor for the render window
  iren= vtkRenderWindowInteractor::New();
    iren->SetRenderWindow(renWin);

  style = vtkInteractorStyleTrackballCamera::New();
    iren->SetInteractorStyle(style);

// Create a inicial camera view
vtkCamera *inicam= ren->GetActiveCamera();
  inicam->Zoom(1);
  inicam->SetViewUp(0, 0, 0);
  inicam->Azimuth(45);
  ren->ResetCameraClippingRange();

// Start the initialization and rendering
    renWin->Render();

// Assign the rendering window to the qvtkwidget
  ui->qvtkWidget->SetRenderWindow(renWin); 
```

如果有人对此有任何想法，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-07-26T11:55:53.840

QVTKWidget 已经有一个交互器。所以改用那个：

```
 auto interactorStyle = vtkSmartPointer<TestInteractorStyle>::New();

    QVTKInteractor* interactor = widget->GetInteractor();

    interactor->SetInteractorStyle(interactorStyle); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-28T09:51:38.670

看到这个例子后，我得到了它的工作。

```
 ui->qvtkWidget->GetRenderWindow()->AddRenderer(ren); 
```

# java - 使用片段的 SherlockActionBar 中的进度条圈

> ID：12106413
> 
> 赞同：1
> 
> 时间：2012-08-24T09:14:09.607
> 
> 标签：java, android, android-fragments, actionbarsherlock, android-progressbar

我有一个`SherlockFragmentActivity`使用 tabhost 和 viewpager。打电话 `requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);`

在 fragmentactivity 中创建`spinner`, 并调用 `setSupportProgressBarIndeterminateVisibility(false);`

不会禁用它。我似乎也无法`getActivity().setSupportProgressBarIndeterminateVisibility(false);` 从片段中调用；

我得到错误`"The Method setSupportProgressBarIndeterminateVisibility(boolean) is undefined for the type FragmentActivity."`

我做错了什么，有人可以告诉我如何在片段中正确使用它吗？我希望能够在我的异步任务预执行中创建进度条并在执行后停止它。

我正在使用`2.2 emulator`和导入`import com.actionbarsherlock.view.Window;`而不是 android.view 之一。

[编辑] 我刚刚确认在 4.1 模拟器中使用 setProgressBarIndeterminateVisibility 有效。无论如何，我需要在 2.2 中完成这项工作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T00:44:25.697

“我似乎也无法调用 getActivity().setSupportProgressBarIndeterminateVisibility(false); 从片段中；”

您需要调用 getSherlockActivity() 而不是 getActivity()。

“我正在使用 2.2 模拟器并导入 import com.actionbarsherlock.view.Window; 而不是 android.view 之一。”

另外一个，没有发现那个导入并且遇到了修复我的错误的这篇文章 - 之前没有在 Gingerbread 中显示进度指示器，非常感谢:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-16T20:52:25.790

这对我来说很完美：

```
getActivity().setProgressBarIndeterminate(true);
ProgressDialog progressDialog = new ProgressDialog(getActivity()); 
progressDialog.show(getActivity(), "This is", " a message..."); 
```

愿你帮忙；）

# java - 如何使用 Firebird 的 jaybird JDBC 驱动程序将绑定值设置为 NULL？

> ID：12106422
> 
> 赞同：2
> 
> 时间：2012-08-24T09:14:55.507
> 
> 标签：java, jdbc, firebird, jaybird

在绑定`null`到`PreparedStatement`Firebird 的 jaybird JDBC 驱动程序时，我遇到了一些极端情况。这是一个示例语句：

```
Class.forName("org.firebirdsql.jdbc.FBDriver");

// Observe the "local" in the connection string!
Connection con = DriverManager.getConnection(
    "jdbc:firebirdsql:local:C:/data/firebird/test.db", "TEST", "TEST");

// With this connection, I'm not able to reproduce the issue:
Connection con1 = DriverManager.getConnection(
    "jdbc:firebirdsql:localhost:C:/data/firebird/test.db", "TEST", "TEST");

PreparedStatement stmt = con.prepareStatement(
  "SELECT cast(? as varchar(1)) FROM rdb$database");
stmt.setObject(1, null);
ResultSet rs = stmt.executeQuery();
rs.next();
System.out.println(rs.getString(1));
System.out.println(rs.wasNull()); 
```

上述程序的输出是

```
>
> false 
```

第一行是一个空字符串。真的应该是

```
> null
> true 
```

更改此行...

```
stmt.setObject(1, null); 
```

...进入任何这些行...

```
stmt.setString(1, null);
stmt.setNull(1, Types.VARCHAR); 
```

……也无济于事。一种解决方法是在 SQL 语句中内联`null`文字，而不是将它们绑定到准备好的语句。我错过了什么？

**细节：**

*   数据库：火鸟 WI-V2.5.1.26351
*   JDBC驱动：jaybird-2.2.0
*   Java版本：JDK 1.6.0_24
*   操作系统：Windows 7 x64
*   JDBC 连接字符串：见上文。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T15:47:09.527

我无法在*Windows 7 x64上的**Jaybird 2.2.0*和*Firebird 2.1.3（32 位）*上重现该问题。复制粘贴源代码并运行它会产生预期的输出。

 *附上截图以防万一：

![在此处输入图像描述](../Images/77e90b55628a9f2fa599f9f94bf005f2.png)

**更新**

*在Windows XP*上的*Jaybird 2.2.0*和*Firebird 2.5.1（32 位）*上测试，仍然无法重现该问题 -> 输出与预期完全相同。

 ** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-25T09:05:29.427

显然，这是 JDBC 驱动程序中的一个错误：

[http://tracker.firebirdsql.org/browse/JDBC-271](http://tracker.firebirdsql.org/browse/JDBC-271)

它仅在使用这种连接 URL 时出现：

```
// Observe the "local" in the connection string!
Connection con = DriverManager.getConnection(
    "jdbc:firebirdsql:local:C:/data/firebird/test.db", "TEST", "TEST"); 
```

不是这种：

```
// With this connection, I'm not able to reproduce the issue:
Connection con1 = DriverManager.getConnection(
    "jdbc:firebirdsql:localhost:C:/data/firebird/test.db", "TEST", "TEST"); 
```**

# linux - 如何从标签恢复主干合并

> ID：12106432
> 
> 赞同：1
> 
> 时间：2012-08-24T09:15:32.973
> 
> 标签：linux, svn

在我上次发布后，我用一个

```
svn copy https://svn.abc.com/svn/project/trunk https://svn.abc.com/svn/project/tags/release_20120722 -m "Tagging the release of feature" 
```

如果我将一些我不想要的东西合并到主干，我需要恢复到这个标签，我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:21:17.563

你需要像这样创建 revert diff`svn diff https://svn.abc.com/svn/project/trunk https://svn.abc.com/svn/project/tags/release_20120722 > tmp.diff`并用它来修补你的树干`patch -p0 -i tmp.diff`。

# module - Appcelerator Titanium 模块 - 验证问题，未经许可的模块

> ID：12106437
> 
> 赞同：0
> 
> 时间：2012-08-24T09:15:54.123
> 
> 标签：module, titanium, appcelerator, appcelerator-mobile

我在 appcelerator 市场中找到了一个允许旋转手势的模块，称为手势识别器，但不幸的是，当我去购买时，它现在已被删除，但看起来开发人员也在 github 上发布了该模块作为“骨架”版本：

[https://github.com/atsusy/Gesture-Recognizer](https://github.com/atsusy/Gesture-Recognizer)

现在我按照自述文件上的说明构建了为我创建模块的项目，将其放入应用程序时，虽然我收到以下错误消息和红屏：

```
Verification issue
Unlicensed module(s) detected.
You must be a subscriber to use one or more of the modules included with this project 
```

有什么我错过的东西吗？我该如何解决这个问题？抱歉，我对 github 和模块一无所知，所以如果我不应该尝试在我的应用程序中使用它，我很抱歉，但是如果有人可以帮助解释如何以及是否允许我让它工作？

ps 现在找不到的市场链接的原始链接是：[https ://marketplace.appcelerator.com/http-status/?1894758329](https://marketplace.appcelerator.com/http-status/?1894758329)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-07-24T07:10:19.707

您需要按照以下步骤操作：

1.  打开终端并运行“uuidgen”</li>
2.  复制您在终端上看到的代码
3.  打开 tiapp.xml，将“guid”标签中的内容替换为您复制的代码。
4.  在 Titanium Studio 中，执行 Project –> Clean
5.  跑

概念是更改清单中提到的模块的 GUID。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T12:47:49.687

If you have the source code, just go the the manifest file, change the guid in the manifest to a new one, and build the module again. Probably better to increase the version and include it in your project again. Clean and build and it will work.

I guess the Titanium studio checks if you have licence for the modules you use. In case a module is on the marketplace with the same guid and you have no licence for that, it triggers it as unlicensed module.

# java - 摆动 Mvc 模型

> ID：12106440
> 
> 赞同：3
> 
> 时间：2012-08-24T09:16:11.100
> 
> 标签：java, swing

我尝试使用 Swing 创建一个 MVC 应用程序。我对实施以及事情应该如何感到困惑。我的意思是：

1.  我有 Gui，它是所有逻辑发送到名为控制器的类的视图，我有一个模型，其中有模型属性。（我读过 MVC 就是这样的）

2.  我创建了一些随机代码，并输入了我想要的代码数量并将其传输`ActionListener`到一个名为控制器的类。在方法中使用控制器类上的按钮生成的随机码。生成随机代码，然后我想将它们保存在数据库中。我很困惑如何将生成的代码保存在数据库中。我应该在 Class Named Controller 中创建一个方法以便我可以从那里保存它们吗？或者另一个不同的类保存更新查找............方法？如果是，那么为什么我要创建具有模型属性的模型类？以及如何使用 Model 类。如果我必须使用 Model 类，或者我只需要拥有这个类，那么剩下的就是了解如何使用它。如果模型类有什么用？s 只是与属性一起存在并在其他地方保存一些吗？通常使用什么方法以便我对 MVC 模式感到满意？我很困惑吗？我忘记告诉我使用 Hibernate 的任何帮助。谢谢ps。我也读过这个 [http://java.sun.com/products/jfc/tsc/articles/architecture/](http://java.sun.com/products/jfc/tsc/articles/architecture/) 但我不明白。

    ```
    public class code(){// this is the Model
        private int i;
        public void setter(int i){
            this.i=i;
        }

        public int getter(){
            return i;
        }

        public String generateStringInt() {
            return new BigInteger(190, random).toString(32);
        }

        // what ever i want to create with the int i variable i will do it on this class?
        ///then i will pass it on the controller to sent it on the view  
        //OR save if i want to save it.?Is this way of thinking right?
        //Or is there any other way to do it ?
        /// if i have a Button and press it from the View it will generate this method?or
        // i have to do it else?
        public String generateStringInt() {
            return new BigInteger(190, random).toString(32);
        }

     }

     //then if i want to save i can just do it like 
     //session.save(object) or is there any other way? 
    ```

现在好些了吗？谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T09:42:56.880

让我为你打破这个......

`Model`- 业务逻辑和数据

`View` - 模型输出的显示

`Controller`- 执行操作的位置。

`Swing`在 java 中是基于`MVC`. 它也称为`PLAF`（可插拔外观和感觉）

使用这种 MVC 架构的优点是，您可以保持**相同的模型并不断更改视图。**

**例如：**

有一个运行你的计算器程序的模型。

现在采用这个模型，然后使用 Swing 或 JSP 来反映输出，一个对应`desktop`另一个`web`。

**在 Swing 应用程序的情况下，MVC 的顺序是这样的**......

```
Action is done on the Controller
Controller tells the Model about it
Model make necessary changes, according to the Action
Controller informs the change in state of Model to the View
View will update itself. 
```

**在 Web 应用程序的情况下，MVC 的顺序是这样的......**

```
Action is done on the Controller
Controller tells the Model about it
Model make necessary changes, according to the Action
Now Controller informs View and Also make the Changes reflect in View 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-09T09:23:03.150

嗨，我有同样的问题，这里是一个非常简单易用的教程，并且了解所有内容

[http://www.leepoint.net/notes-java/GUI/structure/ui-model-communication.html](http://www.leepoint.net/notes-java/GUI/structure/ui-model-communication.html)

那么这个

[http://www.leepoint.net/notes-java/GUI/structure/30presentation-model.html](http://www.leepoint.net/notes-java/GUI/structure/30presentation-model.html)这是我认为最好的方法。

# tcl - 有关 TCL-OO 的资源（TCL 中的面向对象编程）

> ID：12106444
> 
> 赞同：5
> 
> 时间：2012-08-24T09:16:40.647
> 
> 标签：tcl

我正在实习，实习需要我学习和练习 TCL - OO，所以我一直在寻找关于 TCL - OO 的教程、示例、书籍，但我找不到任何东西，所以如果有人能给我一些，我将不胜感激关于 TCL - OO 的好建议。

我在网上做了一些研究，发现了这些材料

链接： [http ://www.tcl.tk/cgi-bin/tct/tip/257](http://www.tcl.tk/cgi-bin/tct/tip/257)

书：TCL/TK a developer's guide 3rd edition by clif Flynt - 只有 2 章关于 TCL - OO

所以除了这两个参考资料之外，如果有人可以用额外的材料指导我，那将是非常好的提前谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-08-06T14:28:15.467

有点晚了，但是...

有一个教程我发布到[http://www.magicsplat.com/articles/oo.html](http://www.magicsplat.com/articles/oo.html)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-24T15:45:57.007

披露：我编写了 TclOO（在设计和测试方面得到了其他人的很多帮助）。

* * *

## 简单的开始

TclOO 允许非常简单的使用，但是当您开始使用它的大部分功能时会变得非常复杂。这是一个快速示例：

```
# Make a class
oo::class create Example {
    variable x      ;# Not the same as [variable] in a namespace!
    constructor {} {
        set x 1
    }
    method bar {} {
        return [incr x]
    }
}

Example create foo  ;# Make an instance
puts [foo bar]      ;# Call the instance to get 2
puts [foo bar]      ;# Call the instance to get 3
puts [foo bar]      ;# Call the instance to get 4
foo destroy         ;# Kill the instance 
```

编写一个类非常简单，上面的内容足以让你做很多事情。有一些基本功能没有列出：`superclass`让你命名一个类的父类，它默认`oo::object`是所有对象的类；`forward`让您将方法调用分派给另一个命令，一种简单的委托；`destructor`让您编写在对象消失时调用的内容；doing`Example new`会在不命名的情况下创建一个对象，创建的对象的名称是调用它的结果；当前对象的名称是在`self`方法内部调用的结果。

构造函数和方法可以像基本的 Tcl`proc`命令一样接受参数。析构函数不能。

## 更复杂

对象可以是`rename`d ，就像任何其他 Tcl 命令一样，并且在`info object`和`info class`. 您可以使用`oo::objdefine`. 每个对象都有一个私有命名空间，您可以使用它来存储状态（`x`上面示例中的变量所在的位置）。

如果方法的名称不是以小写字母开头（严格来说，这取决于它是否匹配 glob 模式“<code>[az]*”），则默认情况下不会导出方法。如果您愿意，可以更改此设置。

类本身就是对象（的实例`oo::class`），这就是为什么它们是通过调用创建的`oo::class create`；*它们的*构造函数将您提供的脚本传递给命令`oo::define`，该命令负责定义类的行为。`create`和`new`方法就是这样：创建这些类实例的类上的方法（分别命名/未命名）。

您可以使用多重继承。和混合。和过滤器。并添加一个调度处理程序来处理调用未知方法的尝试。

您可以`oo::class`对自身进行子类化，以定义制作和管理对象的新方法。

您可以在运行时更改任何对象的类（除了`oo::object`and `oo::class`；出于理智的原因，它们被特别锁定）。

…</p>

是的，我是 TclOO 的作者，但我仍在探索我的创作能做什么。我已经非常努力地确保它几乎可以满足您的任何要求。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-24T11:42:44.890

您拥有的链接是包含在 Tcl 8.6 中的新 OO 支持，该支持仍在开发中，此 OO 子系统上的资源可能更难找到，虽然它可以按原样使用，但我相信它的目标更多是作为其他 OO 包的基础。

对于 Tcl 8.5 和更早版本，有许多“附加”OO 包，[这里](http://www.tcl.tk/about/oo.html)是一个很好的起点。我过去使用过 incr_Tcl 和 XOTcl，您应该能够找到关于它们的合理数量的信息，它们的主页上有在线手册、教程和示例。

# c# - 二进制序列化对象作为文件的压缩级别

> ID：12106449
> 
> 赞同：0
> 
> 时间：2012-08-24T09:16:56.950
> 
> 标签：c#, winforms, serialization, binary, compression

在我的应用程序中，我有一个从一些 XML 文件创建的相当大的对象。xml 文件大小约为 30MB，我从这个 xml 文件中的二进制序列化对象将是 8~9MB。有趣的是，如果我用例如 WinRar 压缩这个二进制文件，它将只有 1~2MB。

有没有办法增加对象本身的压缩级别？或者我应该通过手动编写代码来使用另一种压缩级别，以便在保存或解压缩之后再加载回程序之前压缩文件？

以防万一，这是我用来将对象另存为文件的代码：

```
 public static bool SaveProject(Project proj, string pathAndName)
    {
        bool success = true;
        proj.FileVersion = CurrentFileVersion;

        try
        {
            IFormatter formatter = new BinaryFormatter();
            Stream stream = new FileStream(pathAndName, FileMode.Create, FileAccess.Write, FileShare.None);
            formatter.Serialize(stream, proj);
            stream.Close();
        }
        catch (Exception e)
        {
            MessageBox.Show("Can not save project!" + Environment.NewLine + "Reason: ", "Error",
                            MessageBoxButtons.OK, MessageBoxIcon.Exclamation);

            success = false;
        }

        return success;
    } 
```

**更新** 我试图通过添加 a 来更改我的代码，`GZIPSTREAM`但它似乎没有做任何事情！或者也许我的实现是错误的？

```
public static bool SaveProject(Project proj, string pathAndName)
{
    bool success = true;
    proj.FileVersion = CurrentFileVersion;

    try
    {
        IFormatter formatter = new BinaryFormatter();
        var stream = new FileStream(pathAndName, FileMode.Create, FileAccess.Write, FileShare.None);
        var gZipStream = new GZipStream(stream, CompressionMode.Compress);
        formatter.Serialize(stream, proj);
        stream.Close();
        gZipStream.Close();
    }
    catch (Exception e)
    {
        MessageBox.Show("Can not save project!" + Environment.NewLine + "Reason: ", "Error",
                        MessageBoxButtons.OK, MessageBoxIcon.Exclamation);

        success = false;
    }

    return success;
}

public static Project LoadProject(string path)
{
    IFormatter formatter = new BinaryFormatter();
    Stream stream = new FileStream(path, FileMode.Open, FileAccess.Read, FileShare.Read);
    var gZipStream = new GZipStream(stream, CompressionMode.Decompress);
    var obj = (Project)formatter.Deserialize(gZipStream);
    stream.Close();
    gZipStream.Close();

    if (obj.FileVersion != CurrentFileVersion)
    {
        throw new InvalidFileVersionException("File version belongs to an older version of the program.");
    }

    return obj;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T09:19:55.383

`FileStream`用[`DeflateStream`](http://msdn.microsoft.com/en-us/library/system.io.compression.deflatestream.aspx)with包裹你`CompressionMode.Compress`- 将它传递给序列化程序。然后反序列化，将 a 包裹`FileStream`在`DeflateStream`with 中`CompressionMode.Decompress`。

请注意`Close`，您应该使用`using`语句而不是显式调用，例如

```
using (FileStream fileStream = ...)
using (DeflateStream deflateStream = new DeflateStream(fileStream, 
                                                      CompressionMode.Compress))
{
    formatter.Serialize(deflateStream, proj);
} 
```

您可以[`GZipStream`](http://msdn.microsoft.com/en-us/library/system.io.compression.gzipstream)以相同的方式使用 - 尝试两者，看看哪个可以为您提供更好的压缩（或更好的性能，如果您关心的话）。

请注意这种方法如何将序列化方面与压缩方面分开，将两者组合在一起，同时保持良好的关注点分离。序列化代码只是写入流而不关心数据会发生什么，而压缩代码只是压缩给出的内容而不关心数据的含义。

# ruby - Ruby + watir-webdriver Selenium Grid2 异常

> ID：12106452
> 
> 赞同：0
> 
> 时间：2012-08-24T09:17:03.797
> 
> 标签：ruby, selenium-rc, selenium-webdriver, watir-webdriver, selenium-grid

使用 selenium-server-standalone-2.18.0.jar。在同一主机上运行集线器和节点。在单独的主机上运行客户端代码

在集线器控制台中，我可以看到其中一个节点连接了 5 个 firefox 图标。当我运行我的客户端代码时，我看到其中一个 firefox 图标被带走，就好像集线器已向连接的节点发出请求一样。我在集线器日志中看不到任何错误。我正在使用 ruby​​ + watir-webdriver 启动浏览器，如下所示：

```
capabilities = WebDriver::Remote::Capabilities.firefox
b=Watir::Browser.new(:remote, :url => "http://[remote-host]:4444/wd/hub", :desired_capabilities => capabilities) 
```

我收到的错误是：

```
from (irb):52>> b=Watir::Browser.new(:remote, :url => "http://[remote-host]:4444/wd/hub", :desired_capabilities => capabilities)
Selenium::WebDriver::Error::UnknownError: Error forwarding the new session new session request for webdriver should contain a location header with the session. (org.openqa.grid.common.exception.GridException)
from [remote server] org.openqa.grid.web.servlet.handler.RequestHandler(RequestHandler.java):151:in `process'
from [remote server] org.openqa.grid.web.servlet.DriverServlet(DriverServlet.java):81:in `process' from [remote server] org.openqa.grid.web.servlet.DriverServlet(DriverServlet.java):67:in `doPost'
from [remote server] javax.servlet.http.HttpServlet(HttpServlet.java):727:in `service'
from [remote server] javax.servlet.http.HttpServlet(HttpServlet.java):820:in `service'
from [remote server] org.openqa.jetty.jetty.servlet.ServletHolder(ServletHolder.java):428:in `handle'from [remote server] org.openqa.jetty.jetty.servlet.WebApplicationHandler(WebApplicationHandler.java):473:in `dispatch' from [remote server] org.openqa.jetty.jetty.servlet.ServletHandler(ServletHandler.java):568:in \`handle'
from [remote server] org.openqa.jetty.http.HttpContext(HttpContext.java):1530:in `handle'
from [remote server] org.openqa.jetty.jetty.servlet.WebApplicationContext(WebApplicationContext.java):633:in `handle' from [remote server] org.openqa.jetty.http.HttpContext(HttpContext.java):1482:in `handle'
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T19:24:14.950

嗨，你解决了吗？我知道你发帖已经半年了，但我想问题可能出在你的能力变量上......

这是我如何让它工作的 - 请记住，我正在使用带有 Watir-webdriver 和 Selenium Grid2 的 Cucumber：

在我的例子中，我使用了一个名为 browser_name 的 env.rb 变量。它是这样设置的：

```
def browser_name
  (ENV['BROWSER'] ||= 'firefox').downcase.to_sym
end 
```

然后在 env.rb 文件中

```
Before do
    @browser = Watir::Browser.new(:remote, :url=>"http://[mygridhubhost]:4444/wd/hub", :desired_capabilities=> browser_name) 
```

所以开始测试，在它运行之前它设置了带有 browser_name 的网格，在这种情况下它默认为 firefox....

无论如何，它对我有用。我也在使用 Selenium Grid 2 版本 2.31

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-26T13:47:03.253

Selenium Grid 在 2.21.0 中修复了很多问题。您应该尝试使用较新的 JAR 运行。

# perl - 在 Perl 中 typeglobs 可以作为参考的原因

> ID：12106455
> 
> 赞同：5
> 
> 时间：2012-08-24T09:17:07.410
> 
> 标签：perl, reference, dereference, perl-data-structures

抱歉，问题可能不清楚，但我在问，因为我不喜欢在不了解我正在阅读的内容的情况下阅读某些内容。

这是*“Programming Perl”*的片段：

> **由于您取消引用某事物的方式始终表明您正在寻找哪种类型的参照物**，因此可以像使用引用一样使用 typeglob，尽管 typeglob 包含多个不同类型的参照物。所以 `${*main::foo}`和`${\$main::foo}`都访问相同的标量变量，尽管后者更有效。

对我来说，这似乎是错误的，如果是这样的话，那就对了：

> 您可以使用 typeglob 而不是标量变量，因为引用始终是标量，编译器知道您需要什么。

从本书的正文中，读者可以假设引用可以不是标量变量（即符号表中的标量条目）。一旦我看到一个警告：`use of array as a reference is deprecated`，所以在我看来，很久以前“Programming Perl”中的这一段是有意义的，因为引用不仅可以是标量，而且在新的第 4 版中它根本没有改变以符合现代 Perl .

我检查了这本书的勘误页，但一无所获。

我的假设正确吗？如果不是，那么有人会很乐意解释，我错了。

先感谢您。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-24T09:34:46.410

不。它的意思是，与普通引用不同，typeglob 同时包含多种类型的东西。但是您取消引用它的方式表明您想要哪种类型的东西：

```
use strict;
use warnings;
use 5.010;

our $foo = 'scalar';
our @foo = qw(array of strings);
our %foo = (key => 'value');

say ${ *foo };                  # prints "scalar"
say ${ *foo }[0];               # prints "array"
say ${ *foo }{key};             # prints "value" 
```

您不需要特殊的“typeglob 取消引用语法”，因为正常的取消引用语法已经指示您要取消引用 typeglob 的哪个槽。

请注意，这不适用于`my`变量，因为词法变量与类型团无关。

旁注：“数组作为参考”警告与此无关。它指的是这样的语法：（`@array->[0]`含义相同`$array[0]`）。那从来都不是有效的语法；它意外地滑入 Perl 5 解析器，并在 Larry 注意到后被弃用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:33:31.190

尽管这并不能完全回答您的问题，但我可以尝试告诉您我对 typeglobs 的体验

它们比标量和引用更具动态性，因为使用 typeglob 是一种告诉编译器“这里有一个提示，你自己猜猜你要用它做什么”的方式

引用始终具有严格的类型和目标。typeglob 可能只包含一个字符串，表明它应该指向某个变量（名称）或文件句柄（如 STDOUT）或其他一些值，可以通过该字符串访问

有一些 perlish hack 可以完成一些奇怪的事情，只有 typeglobs 才有可能，所以我认为即使在现代 perl 中它们也很重要

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-27T09:46:29.810

图示的 PerlGuts 是了解 Perl 内部结构的一种易于访问的方式。

[http://www.cpan.org/authors/id/GAAS/illguts-0.09.pdf](http://www.cpan.org/authors/id/GAAS/illguts-0.09.pdf)

到目前为止给出的答案都说明了正在发生的事情，但是学习 perl 如何存储变量会让您看到答案实际上非常简单，类比实际上不如实现清晰。

PS：你想要理解是值得称赞的——它会让你对未来有好处:)

# java - Java android 激光条码扫描器

> ID：12106456
> 
> 赞同：1
> 
> 时间：2012-08-24T09:17:15.430
> 
> 标签：java, android, usb, barcode

我正在尝试开发一个能够读取条形码（1d 不是 qr）的应用程序。真正的问题是，常见的条码阅读器软件非常有用，但它们似乎太慢，无法作为一个非常频繁和常见的功能使用（这些条码相当长，20-30 位数字，对于 zxing 之类的应用程序来说似乎太大了）。所以我需要使用物理激光条码扫描仪，但我不知道从哪里开始。我还有一个旧的激光条码扫描仪可以测试。据我从该设备手册中了解到，它不需要任何驱动程序只将数据作为字符串发送到键盘的缓冲区，但我无法使其工作。我找到的所有手册都侧重于二维码和基于软件的扫描。任何想法或链接都会有帮助，我可以用来了解这些事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:26:54.487

I have just (yesterday) successfully tested the following combination:

Nexus 7 +

USB OTG cable ( [[Aftermarket Product] Brand New Micro USB Host Mode OTG Cable Flash Drive SD T-Flash Card Adapter FOR Samsung GT-i9100 i9100 Galaxy S II 2 GT-N7000 Galaxy Note](http://www.amazon.co.uk/gp/product/B005FUNQXS/ref=as_li_ss_tl?ie=UTF8&camp=1634&creative=19450&creativeASIN=B005FUNQXS&linkCode=as2&tag=tonpus-21) ) +

USB laser barcode scanner (available here: [USB Automatic Barcode Scanner Scanning Barcode Bar-code Reader with Hands Free Adjustable Stand (Black)](http://www.amazon.co.uk/gp/product/B005DJS29O/ref=as_li_ss_tl?ie=UTF8&camp=1634&creative=19450&creativeASIN=B005DJS29O&linkCode=as2&tag=tonpus-21) ).

Works great !! However, sometimes the apps themselves are a bit slow on taking keyboard data (as they don't expect it to arrive so fast), so just be wary of that.

I rooted my N7 ... but I'm not sure if that's necessary.

Should have mentioned.... not sure about how draining on the battery it is so do watch out for that.

# iphone - Foursqaure2 API V2 登录错误

> ID：12106465
> 
> 赞同：1
> 
> 时间：2012-08-24T09:17:53.120
> 
> 标签：iphone, foursquare

我正在尝试使用foursquare api登录foursquare。它显示登录页面，但当我尝试输入用户名或密码时崩溃。几天前它运行良好，但突然停止工作。

```
Server responded with:400, bad request
2012-08-24 14:44:25.227[1962:17903] contant data {"error":"invalid_grant"}
2012-08-24 14:44:25.228[1962:17903] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFDictionary setObject:forKey:]: attempt to insert nil value (key: foursquare_access_token)' 
```

请帮我 。为什么会出现这个错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T20:56:07.073

Foursquare 登录页面现在返回来自 Facebook 网站的请求。因此，您可以使用 FB 凭据登录 Foursquare。

其中一个响应破坏了**Foursquare2**逻辑 [https://s-static.ak.facebook.com/connect/xd_arbiter.php?version=10#cb=xxx&origin=https%3A%2F%2Ffoursquare.com%2Fxxx&domain=foursquare。 com&relation=parent&frame=xxx&](https://s-static.ak.facebook.com/connect/xd_arbiter.php?version=10#cb=xxx&origin=https%3A%2F%2Ffoursquare.com%2Fxxx&domain=foursquare.com&relation=parent&frame=xxx&)**错误=unknown_user**

Foursquare2 在响应中寻找“error=”。如果找到它，它会执行委托回调。

要修复它，请替换您的 ' webView:shouldStartLoadWithRequest:navigationType:'

在 Foursquare2.m 中

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType {
    NSString *url =[[request URL] absoluteString];

    if ([url rangeOfString:@"facebook.com"].location != NSNotFound)
        return YES; //ignore Facebook authentication

    if ([url rangeOfString:@"code="].length != 0) {

        NSHTTPCookie *cookie;
        NSHTTPCookieStorage *storage = [NSHTTPCookieStorage sharedHTTPCookieStorage];
        for (cookie in [storage cookies]) {
            if ([[cookie domain]isEqualToString:@"foursquare.com"]) {
                [storage deleteCookie:cookie];
            }
        }

        NSArray *arr = [url componentsSeparatedByString:@"="];
        [delegate performSelector:selector withObject:[arr objectAtIndex:1]];
        [self cancel];
    }else if ([url rangeOfString:@"error="].length != 0) {
        NSArray *arr = [url componentsSeparatedByString:@"="];
        [delegate performSelector:selector withObject:[arr objectAtIndex:1]];
        FourSquareLog(@"Foursquare: %@",[arr objectAtIndex:1]);
    } 
    return YES;
} 
```

注意一个新的

```
if ([url rangeOfString:@"facebook.com"].location != NSNotFound)
    return YES; //ignore Facebook authentication 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:26:29.440

Get yout own key consumer key and secret for application on [oauth](http://foursquare.com/oauth/)

After having consumer key and secret for application update or replace in

```
 Constants.h file of your poject 
```

# java - 无法使用我的设备运行我的应用程序

> ID：12106466
> 
> 赞同：0
> 
> 时间：2012-08-24T09:17:59.283
> 
> 标签：java, android, eclipse, driver

我有 Windows 7 32 位，我正在尝试使用设备来运行我的应用程序，我在该[**链接**](http://androidforums.com/samsung-captivate/123644-captivate-usb-drivers-links-here.html)中为 samsung captivate（那是我的设备）安装了 USB 驱动程序 adb ，它说安装成功，但在尝试运行我的在我的设备中的应用程序，Eclipse 不识别我的设备（它通过 USB 连接）。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:24:28.957

请检查手机是否设置了USB调试。

在手机中转到：设置 -> 应用程序 -> 开发 -> USB 调试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:29:22.730

`adb`与设备的连接变化无常。尝试运行以下命令：

```
adb kill-server
adb devices 
```

有时需要多次尝试才能连接。（我的经验是在 OS X 上，Windows 可能有点不同。）

# raphael - 拉斐尔 getPixelColour

> ID：12106477
> 
> 赞同：0
> 
> 时间：2012-08-24T09:18:35.793
> 
> 标签：raphael

我有一种 rgb 值为 17、30、62 的颜色。我用这种颜色对矩形进行了线性渐变填充。在将鼠标悬停在矩形上时，我想更改文本框中的颜色值。是否有任何函数或比率可以以编程方式增加和减少 RGB 值然后我可以用 Raphael.rgb 恢复颜色

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T16:07:02.200

Raphael 无法帮助您获得指定像素的颜色，因为它只处理矢量图形 (SVG/VML)。渲染由浏览器完成。

在颜色选择器示例中，颜色是从圆圈中的坐标获得的——选择器事先知道它会在指定点找到哪种颜色。它**不**检查光标下像素的颜色。

如果您有一个具有已知边缘颜色的线性渐变，则可以通过线性插值来计算任何点的渐变颜色（除非涉及一些透明度）。找到梯度的两个锚点的距离，估计到每个锚点的相对距离，并使用这些系数组合颜色。

# javascript - 将任意对象传递给 Coffeescript 的匿名函数

> ID：12106478
> 
> 赞同：1
> 
> 时间：2012-08-24T09:18:36.510
> 
> 标签：javascript, coffeescript

当我运行以下 Coffeescript 代码时：

```
@sum = (x, y) -> x + y 
```

我得到这个编译的Javascript：

```
(function() {

    this.sum = function(x, y) {
        return x + y;
    };

}).call(this); 
```

Coffeescript 中有没有办法用任意对象替换`this`in之类的东西？`.call(this)``myObject`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:26:57.130

```
myobj.sum = (x, y) -> x + y 
```

应该编译为（**更新**：请参阅 Rob W 的编译选项答案）：-

```
myobj.sum = function(x, y) {
  return x + y;
}; 
```

这不是你想要的吗？因此，您可以进一步使用`myobj.sum a, b`

完整的代码..

```
myobj = {}
myobj.sum = (x, y) -> x + y

alert(myobj.sum 10,4) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:34:30.567

`(function() {`并且`}).call(this);`不是编译的结果`@sum = ...`，而是由`coffee`可执行文件添加的。[这](http://coffeescript.org/#try%3a%40sum%20%3D%20%28x%2C%20y%29%20-%3E%20x%20%2B%20y)是编译的实际结果：

```
this.sum = function(x, y) {
  return x + y;
}; 
```

要获得不同/所需的输出，请使用[以下代码](http://coffeescript.org/#try%3a%28-%3E%20%0A%20%20@sum%20=%20%28x,%20y%29%20-%3E%20x%20+%20y%0A%29.call%20@)`coffee -b -c`运行（`coffee -bc`或`coffee --bare --compile`）：

```
(-> 
  @sum = (x, y) -> x + y
).call WHATEVER 
```

变成

```
(function() {
  return this.sum = function(x, y) {
    return x + y;
  };
}).call(WHATEVER); 
```

# c - 当 malloc 失败时，如何在没有 exit() 的情况下结束连续代码？

> ID：12106479
> 
> 赞同：0
> 
> 时间：2012-08-24T09:18:36.777
> 
> 标签：c, malloc

在开发手机App时（**内存有限2Mb以下**），`malloc()`失败时，我添加了回调向UI报告错误，但是后续代码仍然需要检查返回值`malloc()`，这可能会导致很多脏代码（检查返回的内存是不是分配失败导致`NULL`的返回码）。`false`有没有一种优雅的方法来终止连续代码而不用 exit() 整个应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:30:53.370

您的意思是“内存分配失败后是否有一种优雅的方式可以继续”？

是的，有，但很难做到正确。通过玩`setjmp`and`longump`你可以给自己一些类似于 try/catch 的紧急恢复系统，但是当你传递调用堆栈时你必须**非常**小心地清理。

此外，在您的清理开始实际清理分配的内存之前，对 malloc 的任何后续调用都可能失败。

大多数情况下，优雅将涉及确保您将错误状态传递回调用堆栈，并在任何地方处理它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:41:25.053

所以你想通过一些弹出窗口通知用户然后终止？

我不知道您使用的是什么库 - 在 win32 中这很容易，因为模态窗口有自己的消息循环，因此您不需要退出启动模态对话框的函数。

无论如何，您在模态对话框完成后调用退出。如果你想要一些真正的清理逻辑——这很难，而且我认为这与整个程序结构和设计有关。

**更新**：
顺便说一句，如果内存真的很低，即使弹出窗口可能会失败。

# teamcity - 是否可以限制某些构建配置的构建队列？

> ID：12106480
> 
> 赞同：3
> 
> 时间：2012-08-24T09:18:46.270
> 
> 标签：teamcity, teamcity-7.0

我正在尝试制定一个有效的设置，以确保编译和部署构建优先于运行测试。我有一个包含两个构建配置的代理：

*   构建、部署、高级测试（5 分钟）
*   单元测试、集成测试、冒烟测试（15 分钟）

我已经配置了触发器，以便每次在 VCS 中发生提交时都会运行构建项目。我想做的是将测试项目排队以较低优先级运行。但是，如果在很短的时间（几分钟）内进行了多次提交，我现在确实想排队很多测试项目。

例如，这是我想要实现的：

*   12:00 提交
*   12:02 提交
*   12:08 提交

构建/部署配置开始于：

*   12:00（预计 5 分钟）
*   12:05（预计 5 分钟）
*   12:10（预计 5 分钟）

测试项目开始于：

*   12:15（前 15 分钟）

测试项目仅使用最新部署的代码运行一次。我不想将测试项目排队 3 次。

实际上，我只想在代理空闲且已提交未经测试的更改时运行测试项目。这可能吗？如果是这样，实现它的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T11:04:42.380

对于批量频繁提交，您可以在 VCS 触发器设置中使用“安静期模式”，请在[此处](http://confluence.jetbrains.net/display/TCD7/Configuring+VCS+Triggers#ConfiguringVCSTriggers-QuietPeriodSettings)阅读。为了避免在队列中的配置现在触发构建 - 在 VCS 触发器设置中禁用复选框“在每次签入时触发构建”。

要管理构建队列优先级，请单击“构建队列”链接，然后单击“配置构建优先级”。在这个地方，您可以管理优先级。[在此处](http://confluence.jetbrains.net/display/TCD7/Ordering+Build+Queue#OrderingBuildQueue-ManagingBuildPriorities)阅读有关此内容的更多信息。

注意：您应该具有系统管理员角色。

# apache-pig - Pig：将 FOREACH 运算符应用于包中的每个元素

> ID：12106481
> 
> 赞同：6
> 
> 时间：2012-08-24T09:18:48.057
> 
> 标签：apache-pig

示例：我有一个关系“类”，有一个嵌套的学生包：

```
class: {teacher_name: chararray,students: {(firstname: chararray, lastname: chararray)} 
```

我想对每个学生执行一个操作，同时保持全局结构不变，即获得：

```
class: {teacher_name: chararray,students: {(fullname: chararray)} 
```

对于每个学生，fullname = CONCAT(firstname, lastname)

我的理解是嵌套的 FOREACH 不是我的解决方案，因为它仍然只为每个输入元组生成 1 条记录，而我想要在每个包项中应用的东西。

使用 UDF 很容易做到，但想知道是否可以在纯 Piglatin 中做到这一点

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-25T20:45:57.183

在 PIG 0.10 中，可以不使用 UDF，因为 FOREACH 可以嵌套在 FOREACH 中。这是一个例子：

```
inpt = load '~/pig/data/bag_concat.dat' as (k : chararray, c1 : chararray, c2 : chararray);
dump inpt;
1   q   w
1   s   d
2   q   a
2   t   y
2   u   i
2   o   p

bags = group inpt by k;
describe bags;

bags: {group: chararray,inpt: {(k: chararray,c1: chararray,c2: chararray)}}

result = foreach bags {
    concat = foreach inpt generate CONCAT(c1, c2); --it will iterate only over the records of the inpt bag
    generate group, concat;
};
dump result;

(1,{(qw),(sd)})
(2,{(qa),(ty),(ui),(op)}) 
```

# c++ - 销毁从函数返回的堆栈上的对象

> ID：12106482
> 
> 赞同：0
> 
> 时间：2012-08-24T09:18:51.647
> 
> 标签：c++, valgrind

下面的代码真的很危险吗？doSmth 返回 vector 的对象，该对象应该从`cont`( `doSmth`) 复制，然后存储在 function 范围内的堆栈中`test`。因此，我相信它只会在从`test`.

```
struct MyData
{
  double m_i;
};

std::vector<MyData> doSmth()
{
  std::vector<MyData> cont(10);
  return cont;
}

void test()
{
  MyData& oneElement = doSmth()[0];
  std::cout << oneElement.m_i << std::endl;
} 
```

然而 valgrind 的想法不同：

```
Invalid read of size 8
<line 1 in test function oneElement>
Address 0x101281db8 is 8 bytes inside a block of size 72 free'd
std::vector<BlockInfo, std::allocator<BlockInfo> >::~vector() (stl_vector.h:314)
<line 2 in test function> 
```

这是我的逻辑问题还是 valgrind 谎言？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:21:58.460

返回值在完整表达式的末尾被销毁，即在函数的第一个分号处`test`。在这一点上，`oneElement`成为一个悬垂的参考。

您可以通过将返回值绑定到 const 引用来延长其生命周期：

```
void test()
{
    std::vector<MyData> const & r = doSmth();
    MyData const & oneElement = r[0];
    std::cout << oneElement.m_i << std::endl;
} 
```

在上述情况下，返回值在函数结束时被销毁。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-24T09:50:37.610

代码具有未定义的行为。的返回值`doSmth`是一个临时值，它在完整表达式的末尾被破坏。您调用`operator[]`它，它会返回对临时内部数据的引用。临时销毁后，引用悬空，任何使用它都是未定义的行为。

Valgrind 的抱怨是对的。

# c# - 如何从 PropertyChangedCallback 方法中找到用户控件中的控件？

> ID：12106484
> 
> 赞同：0
> 
> 时间：2012-08-24T09:19:02.273
> 
> 标签：c#, silverlight

我在 MyControl.cs 中有这段代码：

```
public static myMethod(DependencyObject d, DependencyPropertyChangedEventArgs e)
{
    MyControl control = d as MyControl;
    AnotherControl a = control.Findname("blabla") as AnotherControl;
} 
```

问题是代码*control.Findname("blabla")*返回 null，尽管名为“blabla”的控件存在于我的用户控件的 XAML 中。如何访问它？

通过 control.blabla 访问它不是解决方案，因为我有名为 blabla1、blabla2、blabla3 的控件，我必须在循环中修改它们。

编辑：也许一切都发生在 WP7 环境中是相关的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-25T09:52:09.497

好的，我得到了答案： [http ://abubakar-dar.blogspot.com/2010/09/find-control-inside-silverlight.html](http://abubakar-dar.blogspot.com/2010/09/find-control-inside-silverlight.html)

# android - 通过动态菜单打开对话框

> ID：12106488
> 
> 赞同：0
> 
> 时间：2012-08-24T09:19:19.403
> 
> 标签：android, menu, dialog

当我在动态创建的菜单中单击项目：“关于”时，如何打开具有某些 html 格式和超文本链接支持的对话框（在默认浏览器中打开该链接）？另外，我如何制作 SHARE 功能，这样如果有人点击：“SHARE”项目，它会共享指向该 APK 的链接，还是通过蓝牙发送？

这就是我在 MainActivity 中的内容：

```
private static final int NEW_MENU_ID=Menu.FIRST+1;
@Override
    public boolean onCreateOptionsMenu(Menu menu) {
        super.onCreateOptionsMenu(menu);

        menu.add(0, NEW_MENU_ID, 0, "ABOUT");
        menu.add(0, NEW_MENU_ID, 0, "SHARE");

        return true;
    } 
```

这就是它的样子： ![模板](../Images/6e04c85fa487a9db454b8d5526a56a87.png)

感谢帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:33:23.350

实际上，有两个完全不同的大问题和太少的代码。

首先，您应该在 onCreateOptionsMenu 中提供不同的选项 id（让它们成为 ID_ABOUT == 0 和 ID_SHARE == 1）覆盖 [onOptionsItemSelected()](http://developer.android.com/reference/android/app/Activity.html#onOptionsItemSelected%28android.view.MenuItem%29)，如下所示：

```
@Override
public boolean onOptionsItemSelected (MenuItem item) {
    switch(item.getItemId()) {
    case ID_ABOUT:
        handleAbout();
        break;

    case ID_SHARE:
        handleShare();
        break;
    }
} 
```

不应定义 handleAbout() 和 handleShare() （这是您的问题）：

*   关于：可能，最简单的方法是创建仅包含一个[WebView](http://developer.android.com/reference/android/webkit/WebView.html)的附加活动。第一个活动将从 handleAbout() 开始 AboutActivity;
*   分享：这是很常见的任务。请参阅[此处](http://developer.android.com/training/sharing/shareaction.html)的 android 文档，例如，到 [这个问题](https://stackoverflow.com/questions/4431386/android-share-intent-chooser)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:34:12.370

```
1\. how could I open dialog with some html formatting and hypertext link support (open that link in default browser), when I click on item: "ABOUT" in my dynamically created menu? 
```

看看这个 SO Question: [Android hyperlinks on TextView in custom AlertDialog not clickable](https://stackoverflow.com/questions/12069811/android-hyperlinks-on-textview-in-custom-alertdialog-not-clickable/12070751#12070751)

```
2\. how I can make SHARE function, so that if anybody click on: "SHARE" item, it will either share link to that APK, or send it over bluetooth? 
```

将**Android Intent**与`Intent.ACTION_SEND`. 它将在处理 SHARE Intent 的设备上的可用应用程序上共享 .apk 文件的链接。

并通过蓝牙发送 APK .. 要么使用相同的**Intent**操作，`ACTION_SEND`要么您必须实现蓝牙文件传输代码..

看看这个 SO Question: [bluetooth file transfer in android](https://stackoverflow.com/questions/4573761/bluetooth-file-transfer-in-android)

# visual-studio-2008 - 我的构建无法在未安装 Visual Studio 的机器上运行

> ID：12106490
> 
> 赞同：0
> 
> 时间：2012-08-24T09:19:33.967
> 
> 标签：visual-studio-2008, winapi, visual-c++, api-hook

大家好，我已经通过挂钩两个函数开发了一个版本，即 1) NtCreateFile 和 2) NtSetInformationFile 用于监视 File Raname、Delete、Create。它在安装了 Visual Studio 的 Windows-7 32 和 64 位上工作正常，但如果没有安装 Visual Studio，它就不能正常工作。请帮助我。我的代码如下

```
#include "stdafx.h"
#include <windows.h>
#include "MinHook.h"
#include <Winternl.h>
#include <stdio.h>
#include <shlwapi.h>
#include <tchar.h>
#include <string.h>

#if defined _M_X64
#pragma comment(lib, "libMinHook.x64.lib")
#elif defined _M_IX86
#pragma comment(lib, "libMinHook.x86.lib")
#endif

#define FILE_SUPERSEDED                         0x00000000
#define FILE_OPENED                             0x00000001
#define FILE_CREATED                            0x00000002
#define FILE_OVERWRITTEN                        0x00000003
#define FILE_EXISTS                             0x00000004
#define FILE_DOES_NOT_EXIST                     0x00000005

#define FILE_RENAMED 10
#define FILE_DELETED 13
#define FILE_MODIFIED 19

enum OBJECT_INFORMATION_CLASS 
{ 
ObjectNameInformation = 1
};

struct MOUNTMGR_TARGET_NAME 
{
USHORT DeviceNameLength; 
WCHAR DeviceName[1]; 
};

struct MOUNTMGR_VOLUME_PATHS 
{ 
ULONG MultiSzLength; 
WCHAR MultiSz[1];
};

struct FILE_NAME_INFORMATION 
{ 
ULONG FileNameLength;
WCHAR FileName[1];
};

union ANY_BUFFER 
{
WCHAR Buffer[USHRT_MAX];
MOUNTMGR_TARGET_NAME TargetName;
MOUNTMGR_VOLUME_PATHS TargetPaths;
FILE_NAME_INFORMATION NameInfo;
UNICODE_STRING UnicodeString;
};

typedef struct _FILE_RENAME_INFORMATION 
{
BOOLEAN ReplaceIfExists;
HANDLE  RootDirectory;
ULONG   FileNameLength;
WCHAR   FileName[1];
} FILE_RENAME_INFORMATION, *PFILE_RENAME_INFORMATION;

extern "C" NTSYSAPI NTSTATUS NTAPI NtQueryObject(HANDLE Handle OPTIONAL, OBJECT_INFORMATION_CLASS ObjectInformationClass, PVOID ObjectInformation OPTIONAL, ULONG ObjectInformationLength, PULONG ReturnLength OPTIONAL);

extern "C" NTSYSAPI NTSTATUS NTAPI NtCreateFile(PHANDLE FileHandle, ACCESS_MASK DesiredAccess, POBJECT_ATTRIBUTES ObjectAttributes,
                                 PIO_STATUS_BLOCK IoStatusBlock, PLARGE_INTEGER AllocationSize, ULONG FileAttributes,
                                 ULONG ShareAccess, ULONG CreateDisposition, ULONG CreateOptions, PVOID EaBuffer, ULONG EaLength);

extern "C" NTSYSAPI NTSTATUS NTAPI NtSetInformationFile(HANDLE FileHandle, PIO_STATUS_BLOCK IoStatusBlock, PVOID FileInformation,
                                         ULONG Length, FILE_INFORMATION_CLASS FileInformationClass);

//AnsiToUnicode Function ;
HRESULT __fastcall AnsiToUnicode(LPCSTR pszA, LPOLESTR* ppszW)
{
ULONG cCharacters;
DWORD dwError;

if (NULL == pszA)
{
    *ppszW = NULL;
    return NOERROR;
}
cCharacters =  strlen(pszA) + 1;

*ppszW = (LPOLESTR) CoTaskMemAlloc(cCharacters*2);
if (NULL == *ppszW)
    return E_OUTOFMEMORY;

// Covert to Unicode.
if (0 == MultiByteToWideChar(CP_ACP, 0, pszA, cCharacters, *ppszW, cCharacters))
{
    dwError = GetLastError();
    CoTaskMemFree(*ppszW);
    *ppszW = NULL;
    return HRESULT_FROM_WIN32(dwError);
}
return NOERROR;
}

//UnicodeToAnsi Function;
HRESULT __fastcall UnicodeToAnsi(LPCOLESTR pszW, LPSTR* ppszA)
{
ULONG cbAnsi, cCharacters;
DWORD dwError;

if (pszW == NULL)
{
    *ppszA = NULL;
    return NOERROR;
}
cCharacters = wcslen(pszW) + 1;  
cbAnsi = cCharacters*2;

*ppszA = (LPSTR) CoTaskMemAlloc (cbAnsi);
if (NULL == *ppszA)
    return E_OUTOFMEMORY;

// Convert to ANSI.
if (0 == WideCharToMultiByte(CP_ACP, 0, pszW, cCharacters, *ppszA, cbAnsi, NULL, NULL))
{
    dwError = GetLastError();
    CoTaskMemFree(*ppszA);
    *ppszA = NULL;
    return HRESULT_FROM_WIN32(dwError);
}
return NOERROR;
}

char *replace(const char *s, const char *old, const char *newstr)
{
char *ret = NULL, *sr = NULL;
size_t i, count = 0;
size_t newlen = strlen(newstr);
size_t oldlen = strlen(old);

if (newlen != oldlen)
{
    for (i = 0; s[i] != '\0'; ) 
    {
        if (memcmp(&s[i], old, oldlen) == 0)
            count++, i += oldlen;
        else
            i++;
    }
}
else
    i = strlen(s);
ret = (char*) malloc(i + 1 + count * (newlen - oldlen));

if (ret == NULL)
    return NULL;

sr = ret;
while (*s)
{
    if (memcmp(s, old, oldlen) == 0)
    {
        memcpy(sr, newstr, newlen);
        sr += newlen;
        s += oldlen;
    }
    else
        *sr++ = *s++;
}
*sr = '\0';
return ret;
}

void GetFileNameFromVolumeName(wchar_t * VolumeName, wchar_t * FilePath)
{
wchar_t *Ptr = NULL ;
if ((Ptr = StrStrIW(VolumeName, L"\\device\\mup"))!= NULL)
{ 
    wcscpy(FilePath, Ptr + 11);
    return;
}
if ((Ptr = StrStrIW(VolumeName, L"\\??\\UNC"))!= NULL)
{
    wcscpy(FilePath, Ptr + 7);
    return;
}   
if ((Ptr = StrStrIW(VolumeName, L"\\??\\"))!= NULL)
{
    wcscpy(FilePath, Ptr + 4);
    return;
}
}

void GetFileNameFromDeviceName (wchar_t * DevicePath,wchar_t * FilePath)
{
int i, j = 0;
DWORD  test, mydrives = 100;
wchar_t *lpBuffer = new wchar_t[100];
wchar_t *lpTargetPath = new wchar_t[1000];
wchar_t *drives = new wchar_t[26];
wchar_t *str1 = new wchar_t[512] ;

wchar_t *pch;
test = GetLogicalDriveStringsW(mydrives, lpBuffer);

if (test != 0)
{
    for (i = 0; i < 100; i += 4)
    {
        wsprintf(drives + j,L"%c:", lpBuffer[i]);
        if (wcslen(drives + j) == 0) break;
        QueryDosDeviceW((LPCWSTR)drives + j, lpTargetPath, 1000);

        if ((pch = StrStrIW(DevicePath, lpTargetPath)) != NULL)
        {
            wcscpy(str1, drives + j);
            wcsncat(str1, DevicePath + wcslen(lpTargetPath), wcslen(DevicePath) - wcslen(lpTargetPath));
            wcscpy(FilePath, str1);
            delete drives;
            delete str1 ;
            break;
        }
        j+= 2;
    }
    delete lpBuffer;
    delete lpTargetPath;
}
}

void GetFilePath(HANDLE hFile, wchar_t *filename)
{
static ANY_BUFFER nameFull, nameRel, nameMnt;
ULONG returnedLength; 
NTSTATUS status;
status = NtQueryObject(hFile, ObjectNameInformation, nameFull.Buffer, sizeof(nameFull.Buffer), &returnedLength);
wchar_t *ptr = wcschr(nameFull.UnicodeString.Buffer, L'\\');

if (StrStrIW(ptr, L"device\\mup") == NULL)
    GetFileNameFromDeviceName(ptr, filename);
else
    GetFileNameFromVolumeName(ptr, filename);
}

typedef NTSTATUS(WINAPI *NtCreateFileNext)(PHANDLE FileHandle, ACCESS_MASK DesiredAccess, POBJECT_ATTRIBUTES ObjectAttributes,
                                       PIO_STATUS_BLOCK IoStatusBlock, PLARGE_INTEGER AllocationSize, ULONG FileAttributes,
                                       ULONG ShareAccess, ULONG CreateDisposition, ULONG CreateOptions, PVOID EaBuffer, ULONG EaLength);

NtCreateFileNext Real_NtCreateFileData = NULL;

NTSTATUS WINAPI NtCreateFileCallback(PHANDLE FileHandle, ACCESS_MASK DesiredAccess, POBJECT_ATTRIBUTES ObjectAttributes,
                                 PIO_STATUS_BLOCK IoStatusBlock, PLARGE_INTEGER AllocationSize, ULONG FileAttributes,
                                 ULONG ShareAccess, ULONG CreateDisposition, ULONG CreateOptions, PVOID EaBuffer, ULONG EaLength)
{
LPSTR  buff = NULL ;
HRESULT res = 0;
LPOLESTR AnsiToUniBuf = {0};
NTSTATUS status;
POBJECT_ATTRIBUTES OAttributes ; 

status = Real_NtCreateFileData(FileHandle, DesiredAccess, ObjectAttributes, IoStatusBlock, AllocationSize, FileAttributes, ShareAccess, CreateDisposition, CreateOptions, EaBuffer, EaLength);

char * buffer = new char [MAX_PATH];
char * buff2  = new char [MAX_PATH];
wchar_t  *FileCreated = new wchar_t[512];

if (IoStatusBlock->Information == FILE_CREATED)
{
    GetFileNameFromVolumeName(ObjectAttributes->ObjectName->Buffer, FileCreated); 
    MessageBoxW(NULL, FileCreated, L"Created", MB_OK);

    /*UnicodeToAnsi( ObjectAttributes->ObjectName->Buffer, &buff);
    for (int i = 0 ; i < strlen(buff) ; i++)
    {
        buff2[i] = tolower(buff[i]);
    }
    buffer = replace(buff2, "\\??\\c:", "\\??\\d:");
    AnsiToUnicode(buffer,&AnsiToUniBuf); 
    wcscpy(ObjectAttributes->ObjectName->Buffer, AnsiToUniBuf);*/
}
delete buffer;
delete buff2;
delete FileCreated;
return status;
}

typedef NTSTATUS(WINAPI *NtSetInformationFileNext)(HANDLE FileHandle, PIO_STATUS_BLOCK IoStatusBlock, PVOID FileInformation,
                                               ULONG Length, FILE_INFORMATION_CLASS FileInformationClass);

NtSetInformationFileNext Real_NtSetInformationFileData = NULL;

NTSTATUS WINAPI NtSetInformationFileCallback(HANDLE FileHandle, PIO_STATUS_BLOCK IoStatusBlock, PVOID FileInformation,
                                         ULONG Length, FILE_INFORMATION_CLASS FileInformationClass)
{
wchar_t  * renfrom = new wchar_t[512];

if (FileInformationClass == FILE_DELETED)
{
    memset(renfrom, 0, sizeof(wchar_t)*512);
    GetFilePath(FileHandle,renfrom);
    MessageBoxW(NULL, renfrom, L"Deleted File", MB_OK);
}

if (FileInformationClass == FILE_RENAMED)
{   
    memset(renfrom, 0, sizeof(wchar_t)*512);
    FILE_RENAME_INFORMATION *pInfo = NULL;
    pInfo=(PFILE_RENAME_INFORMATION)FileInformation;
    GetFilePath(FileHandle,renfrom);
    MessageBoxW(NULL, renfrom, L"Renamed From", MB_OK);
    memset(renfrom, 0, sizeof(wchar_t)*512);
    GetFileNameFromVolumeName(pInfo->FileName, renfrom);
    MessageBoxW(NULL, renfrom, L"Renamed To", MB_OK);   
}

if (FileInformationClass == FILE_MODIFIED)
{
    memset(renfrom, 0, sizeof(wchar_t)*512);
    GetFilePath(FileHandle,renfrom);
    MessageBoxW(NULL, renfrom, L"Modified File", MB_OK);
}

delete renfrom;
return Real_NtSetInformationFileData(FileHandle, IoStatusBlock, FileInformation, Length, FileInformationClass);
}

//DllMain Function 
BOOL APIENTRY DllMain(HMODULE hModule, DWORD  ul_reason_for_call, LPVOID lpReserved)
{
//HINSTANCE hwnd = LoadLibraryA("ntdll.dll");
//if (hwnd != NULL)
//{
//  Actual_NtCreateFileData = (NtCreateFileNext)GetProcAddress(hwnd, "NtCreateFile");
//  //Actual_NtSetInformationFileData = (NtSetInformationFileNext)(hwnd, "NtSetInformationFile");
//}

switch (ul_reason_for_call)
{
case DLL_PROCESS_ATTACH:
    if (MH_Initialize() != MH_OK)
    {
        MessageBoxW(NULL, L"Failed Initialize", L"Info!", MB_ICONWARNING|MB_OK);    
    }
    if (MH_CreateHook(&NtCreateFile, &NtCreateFileCallback, reinterpret_cast<void**>(&Real_NtCreateFileData)) != MH_OK)
    {
        MessageBoxW(NULL, L"Failed CreateHook NtCreateFile", L"Info!", MB_ICONWARNING|MB_OK);
    }
    if (MH_EnableHook(&NtCreateFile) != MH_OK)
    {
        MessageBoxW(NULL, L"Failed EnableHook NtCreateFile", L"Info!", MB_ICONWARNING|MB_OK);
    }
    if (MH_CreateHook(&NtSetInformationFile, &NtSetInformationFileCallback, reinterpret_cast<void**>(&Real_NtSetInformationFileData)) != MH_OK)
    {
        MessageBoxW(NULL, L"Failed CreateHook NtSetInformationFile", L"Info!", MB_ICONWARNING|MB_OK);
    }
    if (MH_EnableHook(&NtSetInformationFile) != MH_OK)
    {
        MessageBoxW(NULL, L"Failed EnableHook NtSetInformationFile", L"Info!", MB_ICONWARNING|MB_OK);
    }
    break;

case DLL_PROCESS_DETACH:
    if (MH_Uninitialize() != MH_OK)
    {               
    }
    if (MH_DisableHook(&NtCreateFile) != MH_OK)
    {
    }
    if (MH_DisableHook(&NtSetInformationFile) != MH_OK)
    {
    }
    break;
}
return TRUE;
} 
```

上面的代码构建良好，如果尝试在安装了 Visual Studio 的 Windows-7 32/64 位上的资源管理器进程中注入此 dll，则在构建后它正在注入并且工作正常，但它没有在 Windows 的任何进程中注入-7 未安装 Visual Studio 的 32/64 位机器。请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-25T13:39:47.123

在不工作的机器上运行[Dependency Walker 。](http://www.dependencywalker.com/)这将向您显示缺少哪些 DLL：

[http://www.dependencywalker.com](http://www.dependencywalker.com/)

# webforms - 如何使用 IIS 从本地网络访问网站（网络表单）

> ID：12106492
> 
> 赞同：2
> 
> 时间：2012-08-24T09:19:39.233
> 
> 标签：webforms, web-hosting

我在 webmatrix 中使用 Web 表单创建了一个网站，该网站在本地主机中运行良好。

但我想使用 IIS 从本地网络访问它。

请帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-17T07:44:21.267

为此，您应该首先在您的 PC 中运行 IIS 服务器。

要启用 IIS，请参考以下链接。

[http://www.codeproject.com/Tips/365704/Install-IIS-on-Windows-7](http://www.codeproject.com/Tips/365704/Install-IIS-on-Windows-7)

然后您应该将 Web 应用程序（您的应用程序）添加到 IIS。

要将您的站点添加到 IIS，请参阅以下链接。

[http://www.hosting.com/support/iis7/create-new-sites-in-iis-7/](http://www.hosting.com/support/iis7/create-new-sites-in-iis-7/)

它还需要 web.conf

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T02:39:34.240

我假设 IIS 支持该代码并且当您转到浏览器并键入 localhost 时它可以正常工作。您必须打开命令提示符并键入“ipconfig”并获取本地计算机的 IP 地址。接下来，您打开您在防火墙中使用的端口，然后转到网络上的另一台计算机并键入运行该站点的计算机的 ip。希望这对其他人有帮助，因为我知道这已经很晚了:)

# android - 通过意图打开 vCard

> ID：12106493
> 
> 赞同：4
> 
> 时间：2012-08-24T09:19:42.943
> 
> 标签：android, vcf-vcard

我想通过意图在 android 联系人中打开 vCard。我有包含在字符串中的 vCard：

```
BEGIN:VCARD
N:Zai;Alex;
TITLE:
TEL:7867843312346
ORG:Platinum tech
URL:http://google.com
EMAIL:
END:VCARD 
```

我尝试打开它：

```
String uri = adapter.getItem(position).getVcard().toString();
Intent i = new Intent();
i.setAction(android.content.Intent.ACTION_VIEW);   
i.setDataAndType(Uri.parse(adapter.getItem(position).getResult().toString()),"text/x-vcard");
startActivity(i); 
```

但它与日志崩溃：

08-24 12:18:27.686: E/AndroidRuntime(11811): 致命异常: main 08-24 12:18:27.686: E/AndroidRuntime(11811): android.content.ActivityNotFoundException: 找不到处理 Intent { act =android.intent.action.VIEW 数据=BEGIN:VCARD

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-11T14:08:11.070

当您为您的意图设置数据时，它必须是正确的 Uri，而不仅仅是您的 vCard 的 Uri.parse。但不要害怕，因为可以将您的 vCard 放入 Uri 而无需创建文件。您可以使用 Base64（Android 方便地内置，因此导入 android.util.Base64）对 vCard 进行编码并将其作为 Uri 放入，如下所示：

```
i.setDataAndType(Uri.parse("data:text/x-vcard;base64," + Base64.encodeToString(theStringContainingYourVcard.getBytes()),"text/x-vcard"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:33:17.323

我相信 uri 应该指向一个文件 uri 。
`Uri.parse`将不知道如何解析您传递的 vcard 字符串。用 Vcard 数据创建一个文件，然后使用 Uri.fromFile(file) 然后在 setDataAndType 中使用这个 uri

# google-drive-api - 如何报告 Google Drive/Google Docs 的错误？

> ID：12106497
> 
> 赞同：22
> 
> 时间：2012-08-24T09:20:04.960
> 
> 标签：google-drive-api

我想报告一些问题，但我不确定这是否是正确的地方？是否有 Google Drive/Google Docs bugtracker？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-24T09:31:24.060

这不是 Google Bugtracker。

对于 Google 文档，请查看此页面：

[https://support.google.com/docs/bin/static.py?hl=en&page=known_issues.cs](https://support.google.com/docs/bin/static.py?hl=en&page=known_issues.cs)

对于 Google Drive 这个：

[http://support.google.com/drive/bin/static.py?hl=en&page=known_issues.cs](http://support.google.com/drive/bin/static.py?hl=en&page=known_issues.cs)

这些页面上是已知问题的链接。如果您的资料不在那里，您可能需要转到页面上链接的帮助论坛并在那里提出问题：

[https://productforums.google.com/forum/#!forum/drive](https://productforums.google.com/forum/#!forum/drive)

如果您使用的是 google apps 脚本，您可以在此处报告 google drive SDK 问题：[https ://code.google.com/p/google-apps-script-issues/issues/list](https://code.google.com/p/google-apps-script-issues/issues/list)

# c# - 将本地数据库缓存与条件同步

> ID：12106498
> 
> 赞同：0
> 
> 时间：2012-08-24T09:20:06.020
> 
> 标签：c#, visual-studio-2008, compact-framework, windows-mobile-6.5, motorola

为了在我的手持应用程序和后端应用程序之间同步数据，我将 WCF 服务库与本地数据库缓存一起使用（如此[处](http://msdn.microsoft.com/en-us/library/bb882690.aspx)和[此处](http://mobileworld.appamundi.com/blogs/andywigley/archive/2008/12/08/building-a-sync-services-for-ado-net-solution-for-mobile-devices.aspx)所述）。

同步有效。

手持设备的用户只需要数据的一个子集。但是，在设置本地数据库缓存时，我只能选择整个表进行同步（并且所有来自后端的新增量数据都被拉到手持设备上）。

是否可以为同步添加条件，例如仅选择分配给手持设备用户的路线？也许本地数据库缓存有这个功能，但我没有找到。

替代解决方案：

1.  我查看了生成的 .cs 文件并查看了 SQL。也许我可以修改那个 SQL 以包含一个参数？但这感觉就像一个黑客。
2.  或者，我可以编写自己的具有用户参数的 WCF 服务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:48:37.060

我认为您也可以尝试 SQL Server 发布服务，您可以在其中添加一些条件同步

# sql-server - T Sql Case 使用 between in case when with where 子句

> ID：12106499
> 
> 赞同：1
> 
> 时间：2012-08-24T09:20:06.167
> 
> 标签：sql-server, case, where

试图`WHERE BETWEEN`用 a 做 a `CASE WHEN`：

```
SET @Qtr1 = datepart(MONTH,@dt1)
select 
SUM(QtyInvoiced) as QtrCase
,CustName
,Town
,Rep
from SalesSumNew 
where
FinMonth between
case when @Qtr1 between '1' and '3' THEN '10' and '12'
,case when @Qtr1 between '4' and '6' THEN '1' and '3'
,case when @Qtr1 between '7' and '9' THEN '4' and '6'
,case when @Qtr1 between '10' and '12' THEN '7' and '9'
end
group by CustName, Town, Rep
order by Town 
```

结果错误：

> *消息 156，级别 15，状态 1，第 57 行
> 关键字“和”附近的语法不正确。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:26:01.530

You can't do that.

Try calculating the range using maths and mod : something like...

```
where FinMonth between 
((((2+@qtr1)/3)+2)*3)%12+1,
and
((((2+@qtr1)/3)+2)*3+2)%12+1 
```

And if your FinMonth is really a string field, then '10','11','12' are all between '1' and '3'

# wsdl - 在 JAX-WS 中隐藏 WSDL

> ID：12106500
> 
> 赞同：1
> 
> 时间：2012-08-24T09:20:15.560
> 
> 标签：wsdl, jax-ws

我正在使用 JAX-WS 来构建和部署 Web 服务。

一切正常，但是我需要隐藏 WSDL。换句话说，如果用户访问以下 URL： http: [//foo.com/wm-ws/WMService2?wsdl](http://foo.com/wm-ws/WMService2?wsdl)，我不想显示 WSDL。

我读到我们可以使用 @WSDL 注释所以我这样做如下：

```
@WebService(serviceName = "WMService2",
        targetNamespace = "http://test.wmservice.soap/",
        portName = "WMService2")
@WSDL(exposed = false)

public class WMService2
{
  ...
} 
```

但这并没有改变任何东西.. WSDL 仍在显示。我见过创建过滤器的解决方法，但我认为这是一种矫枉过正的做法。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-12T17:39:21.517

对于初学者，您的客户端可能会在运行时需要 WSDL。可以使用手工制作的客户端代码或包含 WSDL 的本地副本（这在 EE 环境中需要一点魔法，即将 WSDL 打包到您的工件中并在您的 wsimport 中指定一个 wsdl-location （如果需要，我可以提供更多信息；这也是一个有效的解决方案：[JAX-WS 客户端：访问本地 WSDL 的正确路径是什么？](https://stackoverflow.com/questions/4163586/jax-ws-client-whats-the-correct-path-to-access-the-local-wsdl)）。这解释了有关依赖关系的更多信息，但让它可用于互操作性：[为什么 Java 客户端在运行时需要 WSDL？](https://stackoverflow.com/questions/11712178/why-is-wsdl-required-for-java-client-at-runtime)

话虽如此，听起来您实际上想要完成的是限制对 Web 资源的访问，这可以通过 web.xml 轻松完成。具体来说，您可以添加安全约束，

```
<security-constraint>
    <web-resource-collection>
        <url-pattern>*?wsdl</url-pattern>
    </web-resource-collection>
    <auth-constraint>
        <role-name>*</role-name>
    </auth-constraint>
</security-constraint> 
```

**尽管这意味着您必须在容器中设置身份验证并在客户端中进行身份验证**（您的容器是什么？客户端？）。url-pattern 可以是任何东西，而 role-name * 表示任何经过身份验证的用户都可以访问该资源。

关于安全约束：[http ://docs.oracle.com/cd/E19798-01/821-1841/bncbk/index.html](http://docs.oracle.com/cd/E19798-01/821-1841/bncbk/index.html)

# performance - 具有爬取能力的云负载测试工具

> ID：12106501
> 
> 赞同：2
> 
> 时间：2012-08-24T09:20:17.373
> 
> 标签：performance, testing, cloud, jmeter, load-testing

我需要浏览某个网站上的瓶颈页面。我试图找到一个云负载测试工具，它可以从主页开始并下降 1 级到所有链接，但我找不到这样的工具。基本上，我需要的是插入 URL，然后脚本会使用 10 或 20 个用户测试从我插入的页面链接的每个页面。这将为我提供网站上大多数页面的加载时间的基本视图。

有人熟悉这样的工具吗？我能找到的最接近的东西是 jcrawl，但它需要安装 jakarta ant、服务器配置等等，而且我认为我需要的是非常基本的，不应该需要几个小时来编写脚本和配置。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T22:34:53.657

[您可以使用JMeter](http://jmeter.apache.org/)来实现这一点（JMeter 可以说是最好的免费和开源负载测试工具）。您可以发出一个请求并使用正则表达式提取器来解析响应，提取任何 href 值，然后有一个循环遍历找到的每个 url。

下面是一个 JMeter 测试计划，它完全符合您的要求。只需将此 xml 复制到文本文件中并将其另存为 something.jmx。在 JMeter 中打开它并将演示主机名更改为您自己的站点（不要向其他人发送垃圾邮件，这是不好的形式）。CTRL-R 运行。

对于更多用户（线程）或迭代（循环），只需单击线程组名称并将值更改为您需要的值。

非常模糊的建议：不要在一台 PC 上使用超过 300 个线程。

如果您想在“云”上运行它，请租用 Amazon AWS 机器，[安装 jmeter](http://jmeter.apache.org/download_jmeter.cgi)，将此 jmx 文件复制到它上面，然后使用以下命令从命令行运行它：

`$ cd /to/where/jmeter/is/apache-blah/bin/`

`$ ./jmeter -n -t /path/to/my/testplan.jmx -l /where/to/put/results.jtl`

演示爬网测试计划：

```
<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="2.3">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="crawl" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">false</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie Manager" enabled="true">
        <collectionProp name="CookieManager.cookies"/>
        <boolProp name="CookieManager.clearEachIteration">false</boolProp>
      </CookieManager>
      <hashTree/>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Thread Group Name" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">startnextloop</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1346172541000</longProp>
        <longProp name="ThreadGroup.end_time">1346172541000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="homepage" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">www.bbc.co.uk</stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <boolProp name="HTTPSampler.monitor">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="TestPlan.comments">enter YOUR SITE in the Server Name field</stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="urls" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">urls</stringProp>
            <stringProp name="RegexExtractor.regex">&lt;a href=&quot;http:\/\/www.bbc.co.uk([^&quot;]+)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default">NOTFOUND</stringProp>
            <stringProp name="RegexExtractor.match_number">-1</stringProp>
          </RegexExtractor>
          <hashTree/>
          <ConstantThroughputTimer guiclass="TestBeanGUI" testclass="ConstantThroughputTimer" testname="Constant Throughput Timer" enabled="true">
            <doubleProp>
              <name>throughput</name>
              <value>6.0</value>
              <savedValue>0.0</savedValue>
            </doubleProp>
            <stringProp name="calcMode">this thread only</stringProp>
            <stringProp name="TestPlan.comments">Each thread makes 6 requests every minute (if it completes in time)</stringProp>
          </ConstantThroughputTimer>
          <hashTree/>
        </hashTree>
        <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="ForEach Controller" enabled="true">
          <stringProp name="ForeachController.inputVal">urls</stringProp>
          <stringProp name="ForeachController.returnVal">url</stringProp>
          <boolProp name="ForeachController.useSeparator">true</boolProp>
        </ForeachController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="foundUrl" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">www.bbc.co.uk</stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">${url}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <boolProp name="HTTPSampler.monitor">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="TestPlan.comments">enter YOUR SITE in the Server Name field</stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <GaussianRandomTimer guiclass="GaussianRandomTimerGui" testclass="GaussianRandomTimer" testname="Gaussian Random Timer" enabled="true">
              <stringProp name="ConstantTimer.delay">300</stringProp>
              <stringProp name="RandomTimer.range">500.0</stringProp>
            </GaussianRandomTimer>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
        <boolProp name="ResultCollector.error_logging">false</boolProp>
        <objProp>
          <name>saveConfig</name>
          <value class="SampleSaveConfiguration">
            <time>true</time>
            <latency>true</latency>
            <timestamp>true</timestamp>
            <success>true</success>
            <label>true</label>
            <code>true</code>
            <message>true</message>
            <threadName>true</threadName>
            <dataType>true</dataType>
            <encoding>false</encoding>
            <assertions>true</assertions>
            <subresults>true</subresults>
            <responseData>false</responseData>
            <samplerData>false</samplerData>
            <xml>false</xml>
            <fieldNames>true</fieldNames>
            <responseHeaders>false</responseHeaders>
            <requestHeaders>false</requestHeaders>
            <responseDataOnError>false</responseDataOnError>
            <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
            <assertionsResultsToSave>0</assertionsResultsToSave>
            <bytes>true</bytes>
            <hostname>true</hostname>
            <threadCounts>true</threadCounts>
          </value>
        </objProp>
        <stringProp name="filename"></stringProp>
      </ResultCollector>
      <hashTree/>
      <ResultCollector guiclass="StatVisualizer" testclass="ResultCollector" testname="Aggregate Report" enabled="true">
        <boolProp name="ResultCollector.error_logging">false</boolProp>
        <objProp>
          <name>saveConfig</name>
          <value class="SampleSaveConfiguration">
            <time>true</time>
            <latency>true</latency>
            <timestamp>true</timestamp>
            <success>true</success>
            <label>true</label>
            <code>true</code>
            <message>true</message>
            <threadName>true</threadName>
            <dataType>true</dataType>
            <encoding>false</encoding>
            <assertions>true</assertions>
            <subresults>true</subresults>
            <responseData>false</responseData>
            <samplerData>false</samplerData>
            <xml>false</xml>
            <fieldNames>true</fieldNames>
            <responseHeaders>false</responseHeaders>
            <requestHeaders>false</requestHeaders>
            <responseDataOnError>false</responseDataOnError>
            <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
            <assertionsResultsToSave>0</assertionsResultsToSave>
            <bytes>true</bytes>
            <hostname>true</hostname>
            <threadCounts>true</threadCounts>
          </value>
        </objProp>
        <stringProp name="filename"></stringProp>
      </ResultCollector>
      <hashTree/>
    </hashTree>
  </hashTree>
</jmeterTestPlan> 
```

# variables - 引用 Qt Creator 中项目目录的变量？

> ID：12106502
> 
> 赞同：12
> 
> 时间：2012-08-24T09:20:18.327
> 
> 标签：variables, path, project, qt-creator

我正在开发一个跨平台的 Qt 应用程序，并且路径在 Mac OS X 和 Windows 上是不同的。由于该项目位于外部硬盘驱动器上，因此驱动器号在 Windows 上也会偶尔更改。

出于这个原因，我想使用一个变量来引用项目目录，最好是一个内置的。特别是，是否有这样的变量可用于：

*   .pro 文件？
*   构建设置（在“项目”选项卡中）？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-27T05:59:00.573

要完成@Bill 的回答，在构建设置中引用源路径的方法是使用`%{sourceDir}`.

`%{buildDir}`也可用。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-07-18T06:11:09.633

由于我很难找到它，所以我在这里添加它。

除了`%{sourceDir}`and之外，`%{buildDir}`您还可以使用and来引用项目目录中的特定文件和文件夹。`%{CurrentDocument:Path}``%{CurrentDocument:FilePath}``%{CurrentProject:Path}`

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-24T14:04:33.487

内置的[_PRO_FILE_PWD_](http://doc.qt.io/qt-5/qmake-variable-reference.html#pro-file-pwd)变量包含包含正在使用的项目文件的目录的路径。该变量可能对您有用。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-05-07T12:22:11.747

Windows 上的 $$_PRO_FILE_PWD_ 存在问题，因为它始终包含正斜杠。您需要使用 shell_path 修复斜线。

```
 $$shell_path($$_PRO_FILE_PWD_) 
```

# video - JQuery Mobile 打开页面内的视频链接

> ID：12106511
> 
> 赞同：1
> 
> 时间：2012-08-24T09:20:53.610
> 
> 标签：video, jquery-mobile, youtube, html5-video

我正在使用 JQuery Mobile 1.1.1 版

链接到 YouTube 视频时，我有一个链接列表。

```
<ul>
<li><a href="link to youtube video">See Video</a></li>
</ul> 
```

我的问题是，当它打开视频页面时，我无法返回该页面，因为没有“后退”按钮并且它不再位于 JQM 页面内。

我怎样才能打开它，以便它有一个返回按钮以返回到具有关闭方式的页面，这样我就可以在不重新启动它的情况下返回应用程序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T15:39:51.093

我建议使用 YouTube 的 IFRAME 嵌入方法：

它可以像这样设置一样简单`<iframe>`：

```
<iframe id="player" type="text/html" width="640" height="390"
  src="http://www.youtube.com/embed/u1zgFlCw8Aw?enablejsapi=1&origin=http://example.com"
  frameborder="0"></iframe> 
```

但您也可以使用 YouTube API，有关更多信息，请参阅这些文档：[https ://developers.google.com/youtube/iframe_api_reference](https://developers.google.com/youtube/iframe_api_reference)

> IFrame 播放器 API 允许您在您的网站上嵌入 YouTube 视频播放器并使用 JavaScript 控制播放器。与 Flash 和 JavaScript 播放器 API 不同，两者都涉及在您的网页上嵌入 Flash 对象，IFrame API 将内容发布到您网页上的标签。这种方法比以前可用的 API 提供了更大的灵活性，因为它**允许 YouTube 为不支持 Flash 的移动设备提供 HTML5 播放器而不是 Flash 播放器。**
> 
> *src：以上链接*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T15:34:23.413

`HTML`您可以使用新标签在页面中嵌入视频播放器。[`<video>`](http://www.w3schools.com/html5/tag_video.asp) `HTML5`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T04:53:30.177

@Jasper 是正确的，使用 iframe 嵌入是从移动网站播放视频的最佳方式。没有讨论的是其他内容。这是 jquery mobile 1.2.0 中新弹出功能的精彩演示（截至 2012 年 10 月）：

[http://jquerymobile.com/demos/1.2.0/docs/pages/popup/popup-iframes.html](http://jquerymobile.com/demos/1.2.0/docs/pages/popup/popup-iframes.html)

# python - 短变量名有什么好处吗？

> ID：12106515
> 
> 赞同：17
> 
> 时间：2012-08-24T09:21:10.690
> 
> 标签：python, interpreted-language

通过在像 python 这样的语言中使用较短的变量名，有什么可以在记忆和速度方面获得的吗？

如果是这样，在什么样的情况下考虑这个是合理的？

**笔记**

我绝不提倡短变量名，我只是想知道，请**（重新）阅读**这个问题。

**注意 2** 请，我确实理解描述性变量名称的值。我已经查看了足够多的代码来更喜欢描述性名称而不是较短的名称，并理解它的价值。一个普通的“否”并没有真正的帮助。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-24T09:23:49.563

不不不不不不

# 不。

使用易读的名称，而不是短名称。性能差异绝对可以忽略不计。

* * *

```
$ python -m timeit "i = 5" "i *= i"
10000000 loops, best of 3: 0.0938 usec per loop

$ python -m timeit "is_there_anything_to_be_gained_from_short_variable_names = 5" "is_there_anything_to_be_gained_from_short_variable_names *= is_there_anything_to_be_gained_from_short_variable_names"
10000000 loops, best of 3: 0.0927 usec per loop 
```

具有讽刺意味的是，当在这台 PC 上测量时，长变量名称因此每次执行的测量速度快约 0.001 微秒。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-08-24T09:56:19.597

“like python”存在问题，因为并非所有解释语言都是相同的。

使用纯解释语言，它比使用具有预编译步骤的 Python 产生更大的影响。严格来说，这不是语言差异（您可以有一个预编译的 Javascript 引擎，也可以有一个不预编译的 Javascript 引擎），但它确实会影响这个问题的答案。

延伸“像 python”以包含每种解释语言，我会说答案是“是的，对于其中一些，至少在某些时候”。下一个问题是“多少”。

从 1997 年到 1998 年初，我正在编写一些相当复杂的 javascript 代码，这些代码利用了 Netscape Navigator 4 和 Internet Explorer 4 的一些新功能。这是一个巨大的 javascript 文件，当时拨号盛行。意味着每千字节都以站点速度计。

出于这个原因，我们使用了 minimiser 脚本。这样做的主要目的是将变量重写为更短（`lastHeight`变得`a`，`userSel`becmomes`b`等等）。

它不仅减少了下载时间，而且还使较重的功能之一明显更快。但只有当你是一个整天都在看其他东西的人时才有意义，这几乎意味着我和另一位同事。

所以是的，如果我们将 Javascript 归入“like python”类别，就解释而言，那么它可以在以下条件下产生影响：

1.  它在 Pentium、Pentium Pro 和 486s 上运行（当时 Pentium II 已经推出，但我们没有）。我在项目的中途得到了一台新机器，这意味着我从 133MHz 到 166MHz。
2.  这是一个相当大的令人讨厌的循环（大部分脚本没有明显的区别）。
3.  它在 15 年前的脚本引擎上运行，此后脚本引擎性能没有任何改进。

它仍然没有那么大的区别。

我们可以假设，其他一些解释性语言也受到同样微小的影响。

即使在 1997 年，如果不是它巧合地给了我另一个优势，我也不会打扰，而且我当然没有在最小化版本上工作。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-24T09:24:01.283

如果您通过“Python 之类的语言”这句话来表示解释性语言，那么是的，它会有所作为，因为解析可能需要更长的时间。我想说的区别是不明显的。

不过，我完全同意 nightcracker。不要这样做。使您的代码对人类可读。让解析器/编译器处理机器的可读性。

记住优化规则：

1.  不要这样做。
2.  （仅限专家）不要这样做。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-24T09:25:49.200

您应该**只**对短循环索引和短寿命的变量使用短变量名。

否则使用描述性名称，但不要过度使用，请不要使用[匈牙利符号](http://en.wikipedia.org/wiki/Hungarian_notation)。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-24T09:26:26.820

几乎没有。诚然，当 python 预编译您的脚本时，它可能会减慢第一次查找变量名称的速度。但是，由于短变量名导致的混淆所花费的时间通常远远超过脚本执行所节省的时间。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-08-25T12:37:38.177

根据 orlps 的回答，我认为 Python 类使用字典进行查找，所以我想知道在这方面是否有任何优势。

```
import timeit

A = """
class A_CLASS_WITH_A_LONG_NAME:
    def a_function_with_a_long_name(self):
        return 1

A_CLASS_WITH_A_LONG_NAME().a_function_with_a_long_name()
"""

B = """
class A:
    def a(self):
        return 1

A().a()
"""

print(timeit.timeit(stmt = A, number = 1000000))
print(timeit.timeit(stmt = B, number = 1000000)) 
```

我们得到数据：

*   长 = 12.362802280999858
*   短 = 11.445085418999952

这大约有 8% 的不同。

在模块 ( `number = 100000000`) 内运行，而不是使用`timeit`：

*   长 = 24.87908697128296
*   短 = 24.695187091827393

这大约有 1% 的差异。

`timeit`我会得出结论，内联代码或分析器的复杂性可能存在差异（`timeit`似乎慢了大约 50 倍），但 Cpython 似乎在优化任何差异方面做得很好。我不能说这对于一个有更多成员的班级是否仍然适用，因为`dict`会有更多的桶。

# c# - 无法从十进制转换为 Int32

> ID：12106522
> 
> 赞同：2
> 
> 时间：2012-08-24T09:21:41.907
> 
> 标签：c#, oracle

谁能告诉我为什么，从 Oracle 数据库读取时，我收到以下错误：

```
Object of type 'System.Decimal' cannot be converted to type 'System.Int32'. 
```

当我将**对象类型的变量（** **oValue**）传递给函数时，就会发生这种情况。我已经尝试过强制转换、转换、取消检查、截断，几乎整个 sha-bang，但没有任何效果。这是代码失败的地方：

 **```
PropertyInfo property = Objects[0].GetType().GetProperty(sProperty);
property.SetValue(Objects[0], oValue, null); 
```

任何帮助将非常感激。

编辑：这是我迄今为止尝试过的：

`(int)oValue`, `Convert.ToInt32(oValue)`, `Math.Truncate((decimal)ovalue)`, `Decimal.Truncate((decimal)oValue)`, `Decimal.ToInt32((decimal)oValue)`, 和使用`unchecked {}`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:26:12.663

放：-

```
property.SetValue(Objects[0],Decimal.ToInt32(Convert.ToDecimal(oValue)) , null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:24:09.363

您已经存储了整数类型的 oracle 过程，并在代码 Ado.net 中传递了十进制类型的参数。

您可以转换参数值

```
decimal value = ...;
int convertedValue = Convert.ToInt32(value); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:26:16.837

正如该属性所期望的那样，`Int32`您不应将`Double`值传递给它。

装箱后的值只能拆箱为完全相同的类型，因此请拆箱，转换为整数并装箱：

```
oValue = (int)((Decimal)oValue); 
```

如果您可以`Int32`从一开始就使价值成为可能，那当然会更好。**

# php - 使用 CodeIgniter 目录映射助手

> ID：12106530
> 
> 赞同：2
> 
> 时间：2012-08-24T09:22:01.307
> 
> 标签：php, codeigniter

我试图弄清楚如何在 CodeIgniter 中使用这个 directory_map 函数。在此处查看手册以获取更多详细信息：http: [//codeigniter.com/user_guide/helpers/directory_helper.html](http://codeigniter.com/user_guide/helpers/directory_helper.html)

这是我的工作（有点），结果如下：

```
$this->load->helper('directory');
$map = directory_map('textfiles/');

$index = '';

foreach ($map as $dir => $file) {
  $idx .= "<p> dir: {$dir} </p> <p> file: {$file} </p>";
} #foreach

return $idx; 
```

我的测试环境目录和文件结构：

```
one [directory]
  subone [sub-directory]
    testsubone.txt [file-in-sub-directory]
  testone.txt [file-in-directory-one]
three [directory]
  testthree.txt [file-in-directory-three]
two [directory]
  testing [sub-directory]
    testagain.txt [file-in-sub-directory-testing]
  test.txt [file-in-directory-testing]
test.txt [file] 
```

这是我认为的输出结果：

```
dir: 0
dir: two
file: Array
dir: three
file: Array
dir: 1
file: test.txt
dir: one
file: Array 
```

正如您在此结果中看到的那样，并未列出所有目录或文件，有些目录或文件显示为数组。

文件助手中还有一个叫做“get_filenames”的函数。也许它可以以某种方式与 directory_map 一起使用。

另外，我收到以下错误：

```
A PHP Error was encountered
Severity: Notice
Message: Array to string conversion
Filename: welcome.php
Line Number: # 
```

任何帮助将不胜感激。谢谢你=)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:57:22.017

你的问题是你试图打印出一个多维数组。

您应该尝试这样做：
使用深度计数[http://codepad.org/y2qE59XS](http://codepad.org/y2qE59XS)

```
$map = directory_map("./textfiles/");

function print_dir($in,$depth)
{
    foreach ($in as $k => $v)
    {
        if (!is_array($v))
            echo "<p>",str_repeat("&nbsp;&nbsp;&nbsp;",$depth)," ",$v," [file]</p>";
        else
            echo "<p>",str_repeat("&nbsp;&nbsp;&nbsp;",$depth)," <b>",$k,"</b> [directory]</p>",print_dir($v,$depth+1);
    }
}

print_dir($map,0); 
```

编辑，另一个没有深度计数的版本： http: [//codepad.org/SScJqePV](http://codepad.org/SScJqePV)

```
function print_dir($in)
{
    foreach ($in as $k => $v)
    {
        if (!is_array($v))
            echo "[file]: ",$v,"\n";
        else
            echo "[directory]: ",$k,"\n",print_dir($v);
    }
}

print_dir($map); 
```

请更具体地说明您想要的输出。

编辑评论
这一个保持路径跟踪[http://codepad.org/AYDIfLqW](http://codepad.org/AYDIfLqW)

```
function print_dir($in,$path)
{
    foreach ($in as $k => $v)
    {
        if (!is_array($v))
            echo "[file]: ",$path,$v,"\n";
        else
            echo "[directory]: ",$path,$k,"\n",print_dir($v,$path.$k.DIRECTORY_SEPARATOR);
    }
}

print_dir($map,''); 
```

最后编辑
返回函数[http://codepad.org/PEG0yuCr](http://codepad.org/PEG0yuCr)

```
function print_dir($in,$path)
{
    $buff = '';
    foreach ($in as $k => $v)
    {
        if (!is_array($v))
            $buff .= "[file]: ".$path.$v."\n";
        else
            $buff .= "[directory]: ".$path.$k."\n".print_dir($v,$path.$k.DIRECTORY_SEPARATOR);
    }
    return $buff;
} 
```

# python - 跟踪进程及其子进程使用的网络带宽

> ID：12106535
> 
> 赞同：0
> 
> 时间：2012-08-24T09:22:24.993
> 
> 标签：python, linux, process, network-programming, bandwidth

我很清楚以前有人问过这个问题的变体，但我仍然没有找到特别好的答案。

我要做的是编写一个 Python 脚本，该脚本将测量当前的带宽使用情况以及进程及其所有子进程上传/下载的总字节数，如果这些值中的任何一个超过用户定义的阈值，则将其终止。其目的是限制备份客户端的网络使用。

我考虑了几个测量进程带宽的选项：

*   [`bwmon`](http://thp.io/2010/bwmon/)完全*符合*我的要求，但令人沮丧的是，它以目前的形式对我不起作用。问题是它依赖于读取`bytes=`和`packets=`字段`/proc/net/ip_conntrack`来测量带宽。出于某种原因，这些字段对我来说根本不存在——我怀疑它可能是为了做不同的内核版本。

*   目前我发现的最可行的解决方案是`strace -e trace=recvfrom,sendto -p <PID>`根据[这个建议](https://stackoverflow.com/q/889229/1461210)解析输出。但是，这有点混乱并引发了令人讨厌的权限问题 - 为了附加到我需要的现有进程`sudo strace`，我更愿意避免从脚本中以超级用户权限运行 shell 命令。

我想知道是否有人有更优雅的建议？

我对 的内容不是很熟悉`/proc`，但是如果有一些其他日志文件会列出数据包大小和计数，那么我也许可以修改`bwmon`为使用它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:30:16.170

不是与编程相关的答案，而是：尝试这样做：

```
sudo modprobe ip_conntrack
sysctl -w net.netfilter.nf_conntrack_acct=1 
```

全局启用模块和 sysctl 设置是特定于发行版的，但至少在您重新启动之前，`bwmon`如果需要`bytes`并且`packets`在`/proc/net/ip_conntrack`.

基于[http://ubuntuforums.org/showthread.php?t=2046187](http://ubuntuforums.org/showthread.php?t=2046187)和[http://forums.gentoo.org/viewtopic-p-6677939.html](http://forums.gentoo.org/viewtopic-p-6677939.html)（最终在 Google 上）。

# python-sphinx - 如何收集 Sphinx 中的所有外部链接？

> ID：12106539
> 
> 赞同：2
> 
> 时间：2012-08-24T09:22:40.470
> 
> 标签：python-sphinx

我必须在手册中放置一些外部链接，并且希望在（部分甚至整本书的末尾，不重要）有一个所有链接的列表，而不是手动重复它们。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:44:18.403

这是带有参考书目的文档的摘录（渲染版本在[这里](http://packages.python.org/pyteomics/api/achrom.html)）：

```
Several attempts were made in order to improve the accuracy of prediction by
the additive model (for a review of the field we suggest to read [#Baczek]_
and [#Babushok]_). The two implemented in this module are the logarithmic
length correction term described in [#MantLogLen]_ and additional sets of
retention coefficients for terminal amino acid residues [#Tripet]_.
<...>

References
----------
<...>
.. [#Babushok] Babushok, V. I.; Zenkevich, I. G. `Retention Characteristics of
   Peptides in RP-LC: Peptide Retention Prediction.
   <http://dx.doi.org/10.1365/s10337-010-1721-8>`_
   Chromatographia, 2010, 72 (9-10), 781-797.
<...>

.. [#Tripet] Tripet, B.; Cepeniene, D.; Kovacs, J. M.; Mant, C. T.; Krokhin,
   O. V.; Hodges, R. S. `Requirements for prediction of peptide retention time
   in reversed-phase high-performance liquid chromatography:
   hydrophilicity/hydrophobicity of side-chains at the N- and C-termini of
   peptides are dramatically affected by the end-groups and location.
   <http://dx.doi.org/10.1016/j.chroma.2006.12.024>`_
   Journal of chromatography A, 2007, 1141 (2), 212-25. 
```

# android - OpenCV 读取 YUV 缓冲区时出错

> ID：12106540
> 
> 赞同：3
> 
> 时间：2012-08-24T09:22:46.530
> 
> 标签：android, opencv, buffer, resolution, yuv

我正在尝试使用 OpenCV v2.4 通过 Android 手机（三星 Galaxy S3）的摄像头获取高分辨率未压缩图像。我使用 VideoCapture.set(Highgui.CV_CAP_PROP_FRAME_WIDTH, width) 设置宽度和高度，高度相同，但是每当我进入中高分辨率时，就会开始出现以下错误：

```
ERROR reading YUV buffer: width=1600, height=1200, size=2880000, receivedSize=1036800 
```

我猜这意味着缓冲区不够大，无法存储所有数据，我理解，但必须有某种方法来分配更大的缓冲区。有谁知道如何，或任何解决方法？

谢谢！

# javascript - 使用动态变量从 tr 访问子 td

> ID：12106543
> 
> 赞同：0
> 
> 时间：2012-08-24T09:22:48.583
> 
> 标签：javascript, jquery, parent-child

我遇到了一个问题，我需要使用 jquery .eq() 函数访问`<td>`。`<tr>`下面是提到的代码，请看一下。

```
var foundElement = 3;

var values = $(this).children("td:nth-child('" + foundElement + "')").map(function () {... 
```

上面的语句给出了在语句之间使用“foundElement”作为变量的错误。请为此提供替代解决方案或声明。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:27:18.723

您不需要在`foundElement`.

选择器应该是：

```
td:nth-child(3) 
```

或在具有变量替换的字符串中：

```
$(this).children("td:nth-child(" + foundElement + ")")... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T11:11:54.203

这是您的替代方式解决方案......演示链接如下：

**演示：** [http ://codebins.com/bin/4ldqp82](http://codebins.com/bin/4ldqp82)

**HTML：**

```
<table cellspacing="3" cellpadding="5" border="1">
  <tr>
    <th>
      col 1
    </th>
    <th>
      col 2
    </th>
    <th>
      col 3
    </th>
    <th>
      col 4
    </th>
    <th>
      col 5
    </th>
  </tr>

  <tr>
    <td>
      data cell 11
    </td>
    <td>
      data cell 21
    </td>
    <td>
      data cell 31
    </td>
    <td>
      data cell 41
    </td>
    <td>
      data cell 51
    </td>
  </tr>

  <tr>
    <td>
      data cell 12
    </td>
    <td>
      data cell 22
    </td>
    <td>
      data cell 32
    </td>
    <td>
      data cell 42
    </td>
    <td>
      data cell 52
    </td>
  </tr>

  <tr>
    <td>
      data cell 13
    </td>
    <td>
      data cell 23
    </td>
    <td>
      data cell 33
    </td>
    <td>
      data cell 43
    </td>
    <td>
      data cell 53
    </td>
  </tr>
</table> 
```

**jQuery**

```
$(function() {
    $("table tr").each(function() {
        //Check If TD Exists...Then..
        if ($(this).children("td").length > 0) {
            var foundElement = 3;
            alert($(this).children("td:nth-child(" + foundElement + ")").text());
        }
        //OR Alternate Way is
        //Check If TD Exists...Then..
        /*if($(this).find("td").length>0){
                var nthElement=3;
                alert($(this).find("td:eq("+(nthElement-1)+")").text());
       }*/

    });
}); 
```

**演示：** [http ://codebins.com/bin/4ldqp82](http://codebins.com/bin/4ldqp82)

# html - css 类 iframe 或独立

> ID：12106545
> 
> 赞同：0
> 
> 时间：2012-08-24T09:22:57.833
> 
> 标签：html, css, iframe

我想要一个不同的 CSS 属性（溢出），这取决于页面是显示在（Facebook）iframe 内还是单独显示。

我知道我可以添加一点 Javascript ( `if (top === window) {...}`)，但我认为纯 CSS 解决方案会更整洁。

那么有没有办法让 CSS 选择器仅在页面位于 IFrame 内时才匹配？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:25:51.267

不，没有。

CSS 仅对当前文档进行操作。

# java - Json - 奇怪的关键异常？

> ID：12106552
> 
> 赞同：0
> 
> 时间：2012-08-24T09:23:20.747
> 
> 标签：java, json, jackson

我有一个`LinkedHashMap<MyKey, MyValue>`，MyKey 和 MyValue 是 POJO。

MyKey 是一个具有 getter 和 setter 的 bean，它还具有覆盖的 hashcode() 方法。我在某处读到 Map 将使用对象的 hashcode() 来形成密钥，所以如果我从 Json 写...它到底是如何读取它的？

在 MyKey 我定义了以下功能：

```
@JsonCreator
    public static MyKey fromJSON(String val) throws JsonParseException, JsonMappingException, IOException {
        ObjectMapper mapper = new ObjectMapper();
        MyKey a = mapper.readValue(val,MyKey .class);
        return a;
    } 
```

序列化的 Json 字符串为 {"MyKey@3":{MyValue.. json string}}。

我得到以下异常跟踪：

```
at org.codehaus.jackson.map.JsonMappingException.from(JsonMappingException.java:163)
    at org.codehaus.jackson.map.deser.StdDeserializationContext.weirdKeyException(StdDeserializationContext.java:234)
    at org.codehaus.jackson.map.deser.StdKeyDeserializer.deserializeKey(StdKeyDeserializer.java:34)
    at org.codehaus.jackson.map.deser.MapDeserializer._readAndBind(MapDeserializer.java:223)
    at org.codehaus.jackson.map.deser.MapDeserializer.deserialize(MapDeserializer.java:165)
    at org.codehaus.jackson.map.deser.MapDeserializer.deserialize(MapDeserializer.java:25)
    at org.codehaus.jackson.map.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:252)
    at org.codehaus.jackson.map.deser.SettableBeanProperty$MethodProperty.deserializeAndSet(SettableBeanProperty.java:356)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:494)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserialize(BeanDeserializer.java:368)
    at org.codehaus.jackson.map.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:77)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserializeWithType(BeanDeserializer.java:423)
    at org.codehaus.jackson.map.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:250)
    at org.codehaus.jackson.map.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:595)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:472)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserialize(BeanDeserializer.java:368)
    at org.codehaus.jackson.map.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:77)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserializeWithType(BeanDeserializer.java:423)
    at org.codehaus.jackson.map.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:250)
    at org.codehaus.jackson.map.deser.SettableBeanProperty$MethodProperty.deserializeAndSet(SettableBeanProperty.java:356)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:494)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserialize(BeanDeserializer.java:368)
    at org.codehaus.jackson.map.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:77)
    at org.codehaus.jackson.map.deser.BeanDeserializer.deserializeWithType(BeanDeserializer.java:423)
    at org.codehaus.jackson.map.deser.StdDeserializerProvider$WrappedDeserializer.deserialize(StdDeserializerProvider.java:460)
    at org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2395)
    at org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1595) 
```

我应该如何解决这个问题？如果可能的话，我宁愿不注册 json 序列化器或反序列化器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T15:38:07.943

好吧，也许异常消息不是很清楚，但实际发生的是你得到了一个被捕获的 StackOverFlow，而杰克逊却抛出了一个奇怪的KeyException。

The problem is your JsonCreator: you can't use the ObjectMapper in your method because that will simply call the JsonCreator again and again and again. What you should do instead is something like the following:

```
@JsonCreator
public static MyKey fromJSON(String val) throws JsonParseException, JsonMappingException, IOException {
    return new MyKey(val);
} 
```

**Update**: Since it didn't appear to be clear I'll try to explain a bit more the control flow.

What happens in this case is that the databinding functionnality of Jackson (with ObjectMapper) gets called recursively. The fromJSON is called during databinding because it is annotated with JsonCreator; any time you try to create an instance of MyKey with Jackson that method will be called. So, when you try

```
MyKey a = mapper.readValue(val,MyKey .class); 
```

Jackson will call fromJSON, because that's how it knows to create MyKey.

As a rule of thumb, I avoid using Jackson functionality inside of methods that have annotations for Jackson, that's just asking for trouble. When you do you need to be extra careful because of the implicit recursion like this one.

# android - Android - 是否安装了 opencv 管理器和 OpenCV 二进制包

> ID：12106553
> 
> 赞同：0
> 
> 时间：2012-08-24T09:23:22.583
> 
> 标签：android, opencv, android-package-managers

如何检查（Android 代码）opencv 管理器和相应的 OpenCV 二进制包是否已安装在 android 设备中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-25T17:25:55.013

看看这个 SO 讨论：

[Android在安装期间检查依赖应用程序？](https://stackoverflow.com/questions/2518818/android-check-for-dependent-application-during-installation)

只需检查是否安装了所需的应用程序。

# c# - 在 Silverlight 中扩展二进制控件

> ID：12106557
> 
> 赞同：1
> 
> 时间：2012-08-24T09:23:54.947
> 
> 标签：c#, wpf, silverlight

我有一个二进制 Silverlight 控件（一些带有自定义内容的框）。现在我想在该控件的顶部添加一个标题。当我创建自定义 silverlight 控件并尝试继承二进制文件时，我不知道如何在 XAML 中添加标题。是否可以？我知道我可以创建一个自定义控件，`TextBlock`里面可以包含二进制文件。但是我在一个相当大的项目中工作，需要进行太多更改。在我的情况下（如果可能的话）我只会将 XAML 中的控件名称从 MyBinaryControl 更改为 MyBinaryControlExtended :)

感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T13:38:50.183

对于自定义控件，您需要`Style`使用[`Template`](http://msdn.microsoft.com/en-us/library/system.windows.controls.control.template.aspx)in设置新的默认值`Themes/Generic.xaml`，这意味着在继承的情况下，您需要获取新的默认模板并将其合并到那里。

> 我知道我可以创建一个自定义控件，其中可以包含 TextBlock 和二进制文件。但是我在一个相当大的项目中工作，需要进行太多更改。

如果您创建一个`UserControl`类似的并创建并绑定所有需要的依赖属性，那么这些属性将不会比自定义控制案例更有效。此外，您不需要复制整个模板。

# tridion - 复合模板的最佳实践是什么？

> ID：12106559
> 
> 赞同：1
> 
> 时间：2012-08-24T09:23:56.377
> 
> 标签：tridion, tridion-2011

是否有与复合模板最佳实践相关的链接/博客/文档（对于 Tridion 2011 SP1）？

具体来说，我们想知道如何在页面模板中更有效地写出组件模板，而不需要太多的硬编码。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-24T12:55:39.497

# 开箱即用的示例

Tridion 附带的默认 Dreamweaver 页面设计 (DWT) 呈现组件演示文稿，如下所示：

```
<!-- TemplateBeginRepeat name="Components" -->
  <div>@@RenderComponentPresentation()@@</div>
<!-- TemplateEndRepeat --> 
```

这可能是你能得到它的最简单的方法。

# 在 C# 中拆分

然而，大多数实现很快就会需要一些更现实的东西，并且它们采用两步方法：

1.  将组件表示拆分为多个数组的 C# TBB
2.  一个 DWT TBB，然后依次迭代这些数组中的每一个

步骤 1 中的拆分通常基于组件模板的名称完成。

```
var page = (Page)engine.GetObject(package.GetByName(Package.PageName));
var lists = new Dictionary<string, List<ComponentPresentation>>();

foreach (comm.ComponentPresentation cp in page.ComponentPresentations)
{
    var ct = cp.ComponentTemplate.Title.Replace(" ", "");
    if (!lists.ContainsKey(ct))
        lists.Add(ct, new List<ComponentPresentation>());
        lists[ct].Add(new ComponentPresentation(cp.Component.Id,
                                                cp.ComponentTemplate.Id));
    }

foreach (string token in lists.Keys)
{
    var item = package.CreateStringItem(ContentType.ComponentArray, 
                               ComponentPresentationList.ToXml(lists[token]));
    package.PushItem(token + "Components", item);
} 
```

*上面的 C# 是 Nuno Linhares 提供的一个实现的简化版本*

然后 DWT 依次遍历每个数组，将其放在页面 HTML 中的正确位置：

```
<div class='main'>
  <!-- TemplateBeginRepeat name="ArticleSummary" -->
    @@RenderComponentPresentation()@@
  <!-- TemplateEndRepeat -->
</div>

<byline>
  <!-- TemplateBeginRepeat name="SeeAlso" -->
    @@RenderComponentPresentation()@@
  <!-- TemplateEndRepeat -->
</byline> 
```

但是您基于组件模板的元数据字段拆分组件表示的情况可能更现实。有时，这些划分规则的数量似乎与实施者一样多，其中许多同样有效。

Dominic 在这里给出了一个很好的实现示例：[http](http://code.google.com/p/tridion-practice/wiki/PartitionComponentPresentations) ://code.google.com/p/tridion-practice/wiki/PartitionComponentPresentations 。在他的例子中，有一个简单的描述符语言来确定每个组件表示进入哪个分区。

# DWT 中的过滤

如果您不想编写任何 C# TBB，您也可以在 DWT 中使用`TemplateBeginIf`'s完成相同的操作

```
<!-- TemplateBeginRepeat name="Components" -->
  <!-- TemplateBeginIf cond="ComponentTemplate.Title=='Promo Content'" -->
    @@RenderComponentPresentation()@@
  <!-- TemplateEndIf -->
<!-- TemplateEndRepeat --> 
```

尽管这工作得很好，但它确实会导致 DWT 中有更多的逻辑。如果这是您希望采用的方法，那么 Tridion 可以使用模板语言，使这种布局和逻辑的组合更加自然，例如[Razor Mediator](http://code.google.com/p/razor-mediator-4-tridion/)（Ram S 也提到过）和[XSLT Mediator](http://sdltridionworld.com/community/extension_overview/xsltmediator.aspx)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-24T11:00:22.880

如果您使用 Razor，下面的链接可能会有用

[http://blog.building-blocks.com/razor-templating-sdl-tridion-2011](http://blog.building-blocks.com/razor-templating-sdl-tridion-2011)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-24T12:31:20.797

如何在页面上输出组件表示内容的高级概念对于复合模板和老式 VBScript 模板非常相似。

一种方法是使用 .NET 编写一个 TBB，它获取页面上的所有组件表示 (CP)，并将它们分组到不同的组件表示集合中，然后可以通过使用每个页面区域的 DWT 页面布局对其进行迭代.

您编写的用于对 CP 进行分组的 TBB 可以使用您想要定义组的任何标准。就我个人而言，我使用组件模板 (CT) 上的元数据来为某些页面区域标记它们，但您同样可以使用 CT 或模式名称，或组件中的其他值，或存储组件的文件夹上的元数据。

# objective-c - _UIFallbackPresentationViewController

> ID：12106562
> 
> 赞同：7
> 
> 时间：2012-08-24T09:24:03.113
> 
> 标签：objective-c, ios, uiwebview, uimenucontroller

当我关闭通过在 iPhone 上的 UIWebView 中点击 UIMenuController 上的定义打开的字典时，我不断收到以下错误：-

```
Unbalanced calls to begin/end appearance transitions for <_UIFallbackPresentationViewController: 0x10ab9640>. 
```

在此错误之后，UIMenuController 将停止显示在任何 UIWebView 中。

有什么想法吗？

**更新：**错误实际上是在打开字典视图时出现的，而不是在关闭它时。

**更新 2：**错误是应用程序范围的。任何有可选文本的地方（即 webview、textview 等）我只能使用一次定义字典。出现此错误，然后我必须退出应用程序并重新启动它才能使用字典。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T00:29:28.800

终于找到了这个问题的答案。当系统呈现字典时，它的窗口会获得焦点（请参阅 UIWindow 中的 makeKeyAndVisible:），这很棒。当关闭保存字典的窗口没有正确地给主应用程序窗口返回焦点时，问题就出现了。

如果您在字典出现之前和之后打印出 [UIApplication sharedApplication].keyWindow，那么您将看到在您的应用程序窗口是 keyAndVisible 之前和之后它是一个不同的窗口。对我来说，我有一个单独的应用程序消息窗口，它位于状态栏的顶部，这就是字典被解散后的 keyAndVisible 。

因此，我所要做的就是在我的 UIWindow 子类中有以下覆盖方法错误地接收到焦点：

```
- (void) makeKeyWindow {
  AppDelegate * appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
  [appDelegate.window makeKeyAndVisible];
} 
```

如果您没有自己的 UIWindow 来获得焦点，我不确定这对那些人来说将如何工作，但绝对最坏的情况是您可以添加一个虚拟 UIWindow 来接收焦点并从上面添加完全相同的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T00:32:25.743

错误消息建议您开始转换，但缺少对相应 end 方法的调用。

*   您是否尝试过在没有动画的情况下进行过渡？( `animated: NO`)

*   有时在使用 switch 语句并忘记`break;`

*   如果您正在执行序列，请执行它`-viewDidAppear`而不是`-viewWillAppear`

希望它有所帮助！:)

# c# - 接口成员的属性不起作用

> ID：12106566
> 
> 赞同：18
> 
> 时间：2012-08-24T09:24:12.733
> 
> 标签：c#, interface, annotations, attributes

在我的应用程序中，有几个模型需要`Password`属性（例如，`Registration`模型`ChangePassword`）。该`Password`属性具有类似`DataType`和的属性`Required`。因此，为了确保可重用性和一致性，我创建了：

```
interface IPasswordContainer{
    [Required(ErrorMessage = "Please specify your password")]
    [DataType(DataType.Password)]
    string Password { get; set; }
} 
```

和

```
class RegistrationModel : IPasswordContainer {
    public string Password { get; set; }
} 
```

不幸的是，这些属性不起作用。

然后我尝试将接口更改为一个类：

```
public class PasswordContainer {
    [Required(ErrorMessage = "Please specify your password")]
    [DataType(DataType.Password)]
    public virtual string Password { get; set; }
} 
```

和

```
public class RegistrationModel : PasswordContainer {
    public override string Password { get; set; }
} 
```

现在它正在工作。为什么会这样？

**为什么属性从类继承时有效，但从接口继承时无效？**

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-08-24T09:27:14.253

接口属性上的属性不会继承到类，您可以将接口设置为抽象类。

从微软找到[答案](http://social.msdn.microsoft.com/Forums/en-US/adonetefx/thread/1748587a-f13c-4dd7-9fec-c8d57014632c/)：

> 产品团队不想实现这个功能，主要有两个原因：
> 
> *   与 DataAnnotations.Validator 的一致性
> *   与 ASP.Net MVC 中的验证行为一致
> *   棘手的场景：一个类实现了两个具有相同属性但属性冲突的接口。哪个属性优先？

# version - 如何找出正在运行的 Sybase 版本

> ID：12106570
> 
> 赞同：41
> 
> 时间：2012-08-24T09:24:33.660
> 
> 标签：version, sap-ase

我想知道当前在我的机器上运行的 Sybase 的确切版本。

请让我知道如何获取此信息？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-08-24T09:28:40.267

有两种方法可以了解 Sybase 版本，

1) 使用此系统过程获取有关 Sybase 版本的信息

```
> sp_version
> go 
```

2) 使用此命令获取 Sybase 版本

```
> select @@version
> go 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-08-24T09:27:37.470

运行此命令：

```
select @@version 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-02-07T15:42:11.977

1）从操作系统级别（UNIX）：-

```
dataserver -v 
```

2）来自 Syabse isql：-

```
select @@version
go

sp_version
go 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-10-03T07:16:27.973

尝试运行以下命令（适用于 windows 和 linux）

```
isql -v 
```

# excel - 如何在excel中检查字符串之前或之后的空格

> ID：12106576
> 
> 赞同：12
> 
> 时间：2012-08-24T09:24:53.303
> 
> 标签：excel

我有一列包含分布在几行中的值。一些值在值的前面或末尾有一个空格。有没有一种简单的方法可以在 Excel 工作表中找出此类事件。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-24T09:35:34.397

假设您在 A 列中有数据，您可以在从第 1 行开始的任何列中输入以下公式并向下拖动以识别空格

`=IF(OR(LEFT(A1,1)=" ",RIGHT(A1,1)=" "),TRUE,FALSE)`

TRUE 将识别带有前导或尾随空格的数据

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-05-25T21:30:55.387

就在这里。所以原来的长度是

```
=len(A1) 
```

正确的？如果修剪它并返回不同的长度，则值的开头或结尾都有一个空格，这将是-

```
=if(len(A1)-len(trim(A1))>0,"yes","no") 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-24T09:35:48.780

你想在单独的列中检查吗？如果是这样，请尝试将其添加到数据旁边的列中（或您想要的任何位置，只要您引用该列）：

```
=IF(LEN(A1)-LEN(TRIM(A1))>0,"SPACE!","") 
```

这将进入 cell `B1`。请注意，这还将捕获字符串之前/之后具有多个空格的实例。但是，正如@YograjGupta 所提到的，如果字符串中有连续的空格，这也将返回true。

![在此处输入图像描述](../Images/1d41d66130f440b04d4072109d38d0b9.png)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-12-11T03:13:43.210

如果这篇文章中的其他答案都不起作用，但 Sachin Pandit 的“CODE(160)”公式确实有效，那么您实际上并没有像 [CODE(32)] 这样的“空格”，而是一些不间断的空格。要处理单词之间有双（或更多）CODE(32) 空格的文本，您可以使用以下公式：

```
=IF(OR(LEFT(SUBSTITUTE(A1,"  ",""),1)=" ",RIGHT(SUBSTITUTE(A1,"  ",""),1)=" "),TRUE,FALSE) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-10-31T03:46:37.547

除了下面的代码，其余没有工作 - 这是只找到前导空格，

```
=IF(CODE(LEFT(<reference cell>,1))=160,"Leading Space","No Leading space") 
```

# c# - 使用 Linq 构建组合框 - 由于同一键的多个条目而出现错误

> ID：12106577
> 
> 赞同：0
> 
> 时间：2012-08-24T09:24:54.683
> 
> 标签：c#, linq, distinct-values

我尝试从 tblAccomodation 获取所有邮政编码的列表以放入组合框中。

例如
8630 - Veurne
8660 - De Panne
8670 - Koksijde

这是两张表之间的关系： tblCity.ID = tblAccomodation.CityID

TblCity 包含 (ID, Zipcode, Name, UpName, StructCode) TblAccomodation 包含 (ID, CityID, Name, .....)

当然，有多个具有相同 CityID 的住宿，所以我尝试使用 DISTINCT()。但它不起作用。

```
public static Dictionary<int, string> getPostals()
{
    Dictionary<int, string> Zipcodes = new Dictionary<int, string>();

    var AllAccomodations = (from oAccomodation in new DBReservationDataContext().tblAccomodations
                          orderby oAccomodation.Name ascending
                          select oAccomodation).ToList();

    foreach (tblAccomodation item in AllAccomodations.Distinct())
    {
        Zipcodes.Add(item.CityID, clsCities.getCityInfo(item.CityID, "Zipcode") + ' ' + clsCities.getCityInfo(item.CityID, "UpName"));
    }
    return Zipcodes;
} 
```

我需要改变什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:28:03.200

`Distinct`比较`oAccomodation`对象，你需要的是 CityID 的比较

您可以使用[morelinq](http://code.google.com/p/morelinq/)的[DistinctBy](http://code.google.com/p/morelinq/source/browse/MoreLinq/DistinctBy.cs?r=f4c39a771d712a568467eaa31840cc22e07a5ed0)，因为您已经`AllAccomodations`在内存中。

```
foreach (tblAccomodation item in AllAccomodations.DistinctBy(x=>x.CityID)) 
```

或者

```
foreach (tblAccomodation item in AllAccomodations.GroupBy(x => x.CityID)
                                                 .Select(g => g.First())) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:36:11.167

```
 public static Dictionary<int, string> getPostals()
    {
        Dictionary<int, string> oZipcodes = new Dictionary<int, string>();

        DBReservationDataContext oDBConnection = new DBReservationDataContext();

        var vAllCities = (from oCity in oDBConnection.tblCities
                          where (from oAccomodation in oDBConnection.tblAccomodations
                                 select oAccomodation.CityID).Contains(oCity.ID)
                          select oCity).Distinct();

        foreach (tblCity item in vAllCities)
        {
            oZipcodes.Add(item.ID, clsCities.getCityInfo(item.ID, "Zipcode") + ' ' + clsCities.getCityInfo(item.ID, "UpName"));
        }
        return oZipcodes;
    } 
```

# android - 检测 ViewPager 的点击和释放

> ID：12106578
> 
> 赞同：0
> 
> 时间：2012-08-24T09:25:02.823
> 
> 标签：android

`ScrollView`我在 a和 a之间有冲突`ViewPager`。

我正在尝试按照以下方式做一些事情

```
If user clicks ViewPager:
   Disable ScrollView

If user releases ViewPager:
   Enable ScrollView 
```

我已经让禁用/启用代码工作，但我无法让点击/释放代码工作。

我试过使用`OnTouch`，所以..

```
pager.setOnTouchListener(new OnTouchListener() {

    public boolean onTouch(View v, MotionEvent event) {

        if (event.getAction() == MotionEvent.ACTION_DOWN){
            scroller.setScrollingEnabled(false);
        }

        if (event.getAction() == MotionEvent.ACTION_UP){
            scroller.setScrollingEnabled(true);
        }

        return true;
    }
}); 
```

..但这似乎禁止 ViewPager 左右滚动。我用错了吗？

是否有任何其他替代方法来检测新闻和发布？此外，我正试图让它在 Android 2.1 及更高版本上运行，因此`OnDrag`似乎不兼容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:32:21.563

OnTouch() 方法返回到 OnTouchListener 接口的值说明：

> 如果侦听器已经消费了事件，则为 true，否则为 false。

[OnTouchListener 文档](http://developer.android.com/reference/android/view/View.OnTouchListener.html)

尝试仅对 ACTION_DOWN 或 ACTION_UP 类型的操作返回 true，否则返回 false。

# javascript - 在缩略图图库中显示图像

> ID：12106580
> 
> 赞同：1
> 
> 时间：2012-08-24T09:25:08.777
> 
> 标签：javascript, jquery, xml, xml-parsing

在这里，我正在尝试创建一个图片库：http: [//jsfiddle.net/5wETg/62/](http://jsfiddle.net/5wETg/62/)。

```
var xml = "<rss version='2.0'><channel> <image>http://www.nikon.com/swf/img/thumbnail_ophthalmic_lenses.png</image> <image>http://www.nikon.com/swf/img/thumbnail_ophthalmic_lenses.png</image> <image>http://www.nikon.com/swf/img/thumbnail_ophthalmic_lenses.png</image> <limage>http://images1.videolan.org/images/largeVLC.png</limage> <limage>http://images1.videolan.org/images/largeVLC.png</limage> <limage>http://images1.videolan.org/images/largeVLC.png</limage>   </channel></rss>",

xmlDoc = $.parseXML( xml ),
$xml = $( xmlDoc ),
$image= $xml.find( "image" );
$limage = $xml.find("limage");

$( "#thumbs" ).append( $image.map(function(){
        return $('<img>', {className: 'thumbnails', src:$(this).text()})[0];
    })

        $( "#panel" ).append( $image.map(function(){
        return $('<img>', {className: 'largeimages', src:$(this).text()})[0];
    })
); 
```

我必须同时显示缩略图和较大的图像，但是有问题图像没有显示。我需要帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-26T12:54:42.053

有几个问题：

*   第一个`append()`没有正确关闭（你错过了关闭`)`）；
*   您正在使用`image`数组而不是`limage`更大的图像。

这是一个有效的**[演示](http://jsfiddle.net/L7yKp/)**。

# gdb - 使用 gdb 调试 pthread

> ID：12106581
> 
> 赞同：0
> 
> 时间：2012-08-24T09:25:10.447
> 
> 标签：gdb, pthreads, mutex, conditional-breakpoint

我正在尝试调试一个非常罕见的死锁，并且我已将其范围缩小到 pthread_mutex 的问题，它是类型 1（递归）。我想追踪这个互斥锁的来源，因为我们所有的代码都使用普通的互斥锁，我认为检测互斥锁类型 == 何时递归以追溯它是有意义的。

我尝试在 pthread_mutex_lock 中设置手动断点，通过堆栈指针取消引用 pthread_mutex_t 等以检查其类型，但这被称为数百万次，并且需要永远捕捉互斥类型 == 递归的情况。

我还尝试插入一个库并替换 pthread_mutex_lock 以使在互斥锁类型上设置断点成为可能，但这没有得到任何命中（不相信这是捕获所有对 pthread_mutex_lock 的调用）

我觉得gdb中必须有一种方法可以为每当使用递归类型的互斥锁调用pthread_mutex_lock时设置观察点/条件断点？

对上述任何帮助将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-25T17:08:10.683

> 我已将其缩小到 pthread_mutex 的问题，它是类型 1（递归）......
> 我想追踪这个互斥锁的来源，因为我们所有的代码都使用普通的互斥锁

大概您已经以某种方式确定您的线程在`pthread_mutex_lock`尝试锁定递归互斥锁时被阻塞，并且您不知道谁持有这个互斥锁，以及为什么。

导致的堆栈跟踪应该*准确地*`pthread_mutex_lock`告诉您哪些代码正在尝试锁定该互斥锁，这是您理解问题所需要知道的全部内容。

 *我不明白您为什么要在锁定该互斥锁的行为中“捕获” pthread_mutex_lock，因为在检测到死锁后查看堆栈可能*不会*为您提供更多信息。

一般来说，尝试用 GDB 调试互斥锁问题是徒劳的——设置断点（甚至只是附加 GDB）的行为会在一定程度上改变操作的时间，以至于在 GDB 下运行时大多数问题都不会出现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:38:07.597

你可以试试：

```
(gdb) conditional yourbreakpointid mutex.__m_kind==PTHREAD_MUTEX_RECURSIVE 
```

`mutex`作用域中互斥锁的名称和`yourbreakpointid`您在函数中放置的断点的 id在哪里。

__m_kind 可能会根据实现更改名称，如果这个不起作用，请搜索您的分发标头 (pthread.h)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:32:37.527

您可以使用观察点代替`gdb`断点*

# .net - Protobuf.net 和 WCF 自托管收到空请求？

> ID：12106584
> 
> 赞同：1
> 
> 时间：2012-08-24T09:25:18.247
> 
> 标签：.net, wcf, iis, protobuf-net, self-hosting

我有一个 WCF 服务，我在 IIS7 和 selfhost 中托管，并且使用默认的 serlizer 它在两者中都很好用。

运行 protobuf.net 端点时，它对 IIS7 主机非常有效，但是当对 selfhost 运行时，我只是在第一个服务方法中得到 null 作为请求？

我应该去哪里看？你需要什么来帮助我解决这个问题？

此致

**编辑1：App.config（selfhost）**

```
 <system.serviceModel>
  <diagnostics>
    <messageLogging logEntireMessage="true" logMalformedMessages="true"
      logMessagesAtTransportLevel="true" />
  </diagnostics>
  <extensions>
    <behaviorExtensions>
      <add name="protobuf" type="ProtoBuf.ServiceModel.ProtoBehaviorExtension, protobuf-net, Version=2.0.0.480, Culture=neutral, PublicKeyToken=257b51d87d2e4d67"/>
      <add name="customBehaviorExtension_Integration" type="MyApp.ServiceImplementation.CustomRequestInterceptorBehaviorExtension_Integration, MyApp.ServiceImplementation"/>
      <add name="customBehaviorExtension_ClientService" type="MyApp.ServiceImplementation.CustomRequestInterceptorBehaviorExtension_ClientService, MyApp.ServiceImplementation"/>
    </behaviorExtensions>
  </extensions>
  <serviceHostingEnvironment multipleSiteBindingsEnabled="true"/>
  <behaviors>
    <serviceBehaviors>
      <behavior name="MyApp.ServiceImplementation.MyAppIntegration_Behavior">
        <dataContractSerializer maxItemsInObjectGraph="2147483647"/>
        <serviceDebug includeExceptionDetailInFaults="true"/>
        <serviceMetadata httpGetEnabled="true"/>
        <customBehaviorExtension_Integration/>
      </behavior>
      <behavior name="MyAppClientService.CustomValidator_Behavior">
        <dataContractSerializer maxItemsInObjectGraph="2147483647"/>
        <serviceDebug includeExceptionDetailInFaults="true"/>
        <serviceMetadata httpGetEnabled="true"/>
        <customBehaviorExtension_ClientService/>
        <serviceThrottling maxConcurrentCalls="2000" maxConcurrentSessions="2147483647" maxConcurrentInstances="2000"/>
        <serviceCredentials>
          <clientCertificate>
            <authentication certificateValidationMode="PeerOrChainTrust"/>
          </clientCertificate>
          <userNameAuthentication userNamePasswordValidationMode="Custom" customUserNamePasswordValidatorType="MyApp.ServiceImplementation.CustomUsernamePasswordValidator, MyApp.ServiceImplementation"/>
        </serviceCredentials>
        <serviceAuthorization principalPermissionMode="Custom" serviceAuthorizationManagerType="MyApp.ServiceImplementation.CustomServiceAuthorizationManager, MyApp.ServiceImplementation">
          <authorizationPolicies>
            <add policyType="MyApp.ServiceImplementation.CustomAuthorizationPolicy_ClientService, MyApp.ServiceImplementation"/>
          </authorizationPolicies>
        </serviceAuthorization>
      </behavior>
      <behavior name="MyApp.ServiceImplementation.HL7Service_Behavior">
        <serviceDebug includeExceptionDetailInFaults="true"/>
        <serviceMetadata httpGetEnabled="true" externalMetadataLocation="..\Schema\HL7\DIPS\IHl7Service.wsdl"/>
        <customBehaviorExtension_Integration/>
      </behavior>
    </serviceBehaviors>
    <endpointBehaviors>
      <behavior name="protoEndpointBehavior">
        <protobuf/>
      </behavior>
    </endpointBehaviors>
  </behaviors>
  <services>
    <service behaviorConfiguration="MyApp.ServiceImplementation.MyAppIntegration_Behavior" name="MyApp.ServiceImplementation.MyAppIntegration">
      <endpoint binding="basicHttpBinding" bindingConfiguration="BasicMyAppIntegration" bindingNamespace="MyApp.ServiceImplementation" contract="MyApp.ServiceContracts.IMyAppIntegration"/>
      <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
      <host>
        <baseAddresses>
          <add baseAddress="http://localhost:8003/MyApp5Service/Integration"/>
        </baseAddresses>
      </host>
    </service>
    <service behaviorConfiguration="MyAppClientService.CustomValidator_Behavior" name="MyApp.ServiceImplementation.MyAppClientService">
      <endpoint binding="netTcpBinding" bindingConfiguration="netTcpRegular" address="Regular" bindingNamespace="http://MyApp.ServiceContracts/2007/11" contract="MyApp.ServiceContracts.IMyAppClientService"/>
      <endpoint binding="netTcpBinding" behaviorConfiguration="protoEndpointBehavior" bindingConfiguration="netTcpRegular" address="Proto" bindingNamespace="http://MyApp.ServiceContracts/2007/11" contract="MyApp.ServiceContracts.IMyAppClientService"/>

      <endpoint binding="netTcpBinding" bindingConfiguration="netTcpWindowMessageSecurity" address="Windows" bindingNamespace="http://MyApp.ServiceContracts/2007/11" contract="MyApp.ServiceContracts.IMyAppClientService"/>
      <host>
        <baseAddresses>
          <add baseAddress="net.tcp://localhost:8001/MyApp5Service/Client/"/>
          <add baseAddress="http://localhost:8002/MyApp5Service/Client"/>
        </baseAddresses>
      </host>
    </service>
    <service behaviorConfiguration="MyApp.ServiceImplementation.HL7Service_Behavior" name="MyApp.ServiceImplementation.HL7Service">
      <endpoint binding="basicHttpBinding" bindingConfiguration="BasicBindingHL7" contract="IHL7Service"/>
      <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
      <host>
        <baseAddresses>
          <add baseAddress="http://localhost:8004/MyApp5Service/Hl7"/>
        </baseAddresses>
      </host>
    </service>
  </services>
  <bindings>
    <netTcpBinding>
      <binding name="netTcpCertificate" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="infinite" sendTimeout="01:00:00" transactionFlow="false" transferMode="Buffered" transactionProtocol="OleTransactions" hostNameComparisonMode="StrongWildcard" listenBacklog="1000" maxBufferPoolSize="2147483647" maxBufferSize="2147483647" maxConnections="200" maxReceivedMessageSize="2147483647">
        <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>
        <reliableSession ordered="true" inactivityTimeout="infinite" enabled="false"/>
        <security mode="TransportWithMessageCredential">
          <transport clientCredentialType="Certificate"/>
          <message clientCredentialType="UserName"/>
        </security>
      </binding>
      <binding name="netTcpWindowMessageSecurity" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="infinite" sendTimeout="01:00:00" transactionFlow="false" transferMode="Buffered" transactionProtocol="OleTransactions" hostNameComparisonMode="StrongWildcard" listenBacklog="1000" maxBufferPoolSize="2147483647" maxBufferSize="2147483647" maxConnections="200" maxReceivedMessageSize="2147483647">
        <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>
        <reliableSession ordered="true" inactivityTimeout="infinite" enabled="false"/>
        <security mode="Message">
          <message clientCredentialType="Windows"/>
        </security>
      </binding>
      <!---->
      <binding name="netTcpRegular" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="infinite" sendTimeout="01:00:00" transactionFlow="false" transferMode="Buffered" transactionProtocol="OleTransactions" hostNameComparisonMode="StrongWildcard" listenBacklog="1000" maxBufferPoolSize="2147483647" maxBufferSize="2147483647" maxConnections="200" maxReceivedMessageSize="2147483647">
        <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>
        <reliableSession ordered="true" inactivityTimeout="infinite" enabled="false"/>
        <security mode="None">
          <transport clientCredentialType="None"/>
        </security>
      </binding>
    </netTcpBinding>
    <customBinding>
      <binding name="UsernamePasswordOverHttp">
        <textMessageEncoding messageVersion="Soap11"/>
        <security authenticationMode="UserNameOverTransport" messageSecurityVersion="WSSecurity10WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10" allowInsecureTransport="true"/>
        <httpsTransport/>
      </binding>
    </customBinding>
    <basicHttpBinding>
      <binding name="BasicMyAppIntegration" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="infinite" sendTimeout="01:00:00" allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" maxBufferSize="2147483647" maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647" messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered" useDefaultWebProxy="true">
        <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>
        <security mode="None"/>
      </binding>
      <binding name="BasicBindingHL7" allowCookies="true" closeTimeout="04:00:00" openTimeout="04:00:00" receiveTimeout="04:00:00" sendTimeout="04:00:00" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" maxBufferSize="2147483647" maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647" messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true">

        <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>
        <security mode="None">
          <transport clientCredentialType="None"/>
        </security>
      </binding>
    </basicHttpBinding>
  </bindings>
</system.serviceModel> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T07:25:07.780

看起来像是客户端的简单配置问题（单独发送）；*未*使用的一件有趣的事情（根本在客户端配置中）是`protoEndpointBehavior`定义在`<endpointBehaviors>`：

```
<endpoint
  address="...(omitted).../Proto"
  behaviorConfiguration="BasicBehavior"
  ...(omitted)...
  name="SelfHostProto_RegularLogin"/> 
```

如果我们将其更改`BasicBehavior`为`protoEndpointBehavior`然后*一切正常*。消息被正确发送和接收。

# c# - 如何：运行线程循环的最佳方法是在每个结束时更新 UI？

> ID：12106590
> 
> 赞同：0
> 
> 时间：2012-08-24T09:25:46.220
> 
> 标签：c#, multithreading, .net-4.0

这里是一个建筑问题。

我有一个需要发送到 Web 服务并在数据库中创建的列表（通过列表视图选择）。我希望能够一次更新一个，然后使用返回的 ID 更新进度条、列表视图和本地列表，而不锁定 uithread（虽然我将锁定列表视图/搜索控件等，但它们只需要能够以不同的形式完成其他任务）。

此刻我考虑了以下内容（对大多数人来说都是新的）

后台工作人员 - 这里唯一的问题是 progressChanged 只返回一个 int 所以我发现很难返回我需要的所有信息。

任务 - 当我只需要返回一个对象然后处理该信息时（例如从本地数据库获取列表然后填充列表视图，效果很好），我正在使用这些。我不知道如何生成一个线程，该线程依次执行循环并在每次传递结束时更新 UI 线程。

parallel.foreach - 不要认为这适用于 Web 服务元素。

到目前为止我尝试过的所有东西，要么锁定 UI，要么得到跨线程异常。

我想我正在寻找可以让我这样做的东西

```
createUsers(ref List<users> _users)
{
    foreach(user _u in _users)
    {
        //call webservice and update - it returns an ID or null
        string newID = webCreate(_u);
        if (newID != null)
        {
            ListViewItem lvi = listview1.FindText(_u.ListID);
            lvi.SubItems[5].Text = newID;
            _u.newID = newID;
        }
        else
        {
            lvi.SubItems[5].Text = "Error";
        }
        progressbar.value++
    }
} 
```

.net 4.0 中似乎有很多线程选项，我只是想不出哪一个最适合我。任何指针都会很棒。

谢谢，皮特。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:31:55.303

如果您的创建用户在单独的线程中运行。有你的表格，有一个更新状态栏

```
delegate void updStatusbar(int i);
public UpdateStatusBar(int i)
{
  if (Statusbar1.InvokeRequred)
  {
    updStatusbar c = UpdateStatusBar;
    this.Invoke(c,new object[] {i});
  }
  else
    Statusbar1.value=i;
  }
} 
```

现在您可以从任何地方、线程或其他地方调用 updatestatusbar，它会自行解决。

# c# - 如何在c#中为gridview分配多项选择（复选框）

> ID：12106591
> 
> 赞同：0
> 
> 时间：2012-08-24T09:25:46.943
> 
> 标签：c#

我们需要通过复选框在gridview上进行多项选择，我们该怎么做呢？在 C# 中给我这个问题的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:30:45.773

尝试使用此代码

```
asp:GridView ID="GridView1" runat="server">
 <Columns>
   <asp:TemplateField HeaderText="Select">
    <ItemTemplate>
       <asp:CheckBox ID="chkSelect" runat="server" />
    </ItemTemplate>
    <HeaderTemplate>
    </HeaderTemplate>
   </asp:TemplateField>
 </Columns>
</asp:GridView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:35:07.430

试试这个链接： http: [//www.codeproject.com/Articles/14437/Extending-GridView-by-allowing-Multiple-Selections](http://www.codeproject.com/Articles/14437/Extending-GridView-by-allowing-Multiple-Selections)

唯一说：像这样，但是我们用c#.net，这怎么能用c#.net

更新：

试试这个： http: [//www.codeproject.com/Articles/11207/Selecting-multiple-checkboxes-inside-a-GridView-co](http://www.codeproject.com/Articles/11207/Selecting-multiple-checkboxes-inside-a-GridView-co)

# javascript - 性能问题：通用选择器与单独绑定

> ID：12106595
> 
> 赞同：0
> 
> 时间：2012-08-24T09:25:58.550
> 
> 标签：javascript, jquery, performance

所以在我的页面中，我将插入一系列元素，比如说类名“元素”，但其中一些将被禁用，这将获得额外的类“禁用”。现在我想将一个点击事件绑定到所有非禁用元素，我只是想知道性能方面是否最好只写

```
$(".element:not(.disabled)") .live("click",function() { ... 
```

还是应该在插入每个元素时将点击事件绑定到它们？

ps 我知道 .on 已经取代了 .live，但现在我使用的是 1.6.2 版本，所以无法更改

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:32:09.000

一般经验法则：在您确定某事为性能问题之前不要进行优化。

如果页面上有一万个元素，您可能会注意到`:not()`选择器*有点慢*，但是如果页面上有一万个元素，则说明您的设计存在严重问题。

我怀疑页面上有少量（>1 和 <100）元素，在这种情况下，选择器会执行得很好！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-24T09:34:50.817

首先，你不应该再使用`.live()`它，因为它已被所有版本的 jQuery 弃用。我建议这样做：

```
$(document).on('click', '.element:not(.disabled)', function() {...}); 
```

这应该没有什么性能问题，因为与选择器的比较仅在发生单击时发生，并且当比较完成时，仅检查目标的类名是一个相当简单的比较。

此外，由于单击是在用户时间内发生的用户操作，并且选择器比较根本不复杂，因此任何延迟都不太可能引起注意（我们在这里最多讨论毫秒）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T09:33:47.173

如果您没有注意到性能问题，则不需要修复它！

我个人会附加点击事件，然后对它们进行检查。像这样：

```
$(".element").on("click",function() { 
  var $this = $(this);
  if ($this.hasClass("disabled")) return;

  //Continue here
}); 
```

此外，您应该使用`.on`而不是`.live`现在已弃用。[文档](http://api.jquery.com/on/)。

# python - 带有 Unicode 的 Python 正则表达式的 BackReference

> ID：12106596
> 
> 赞同：1
> 
> 时间：2012-08-24T09:25:58.677
> 
> 标签：python, regex, unicode, utf-8

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:43:48.107

通过在它之前添加一个将字符串`\1`转换为原始字符串：`r`

```
output=p.sub(u'<a href="'+ URL +r'">\1</a>',content) 
```

这可以防止 1 被解释为反向引用的 1。证明：

```
# -*- coding: utf-8 -*-
import re
KEYWORD = u"英語"
URL = u"http://www.google.com/"
content = u"和製英語（わせいえいご）とは、日本で作られた英語風の日本語語彙のことである。"
p=re.compile(u'('+ KEYWORD +u')(?!(([^<>]*?)>)|([^>]*?</a>))',re.UNICODE)
print p.sub(u'<a href="'+ URL +'">\1</a>',content)
print p.sub(u'<a href="'+ URL +r'">\1</a>',content) 
```

印刷

```
和製<a href="http://www.google.com/"></a>（わせいえいご）とは、日本で作られた<a href="http://www.google.com/"></a>風の日本語語彙のことである。
和製<a href="http://www.google.com/">英語</a>（わせいえいご）とは、日本で作られた<a href="http://www.google.com/">英語</a>風の日本語語彙のことである。 
```

只有后者有效（英语在谷歌链接内）。

# java - Wrapping synchronous calls in an asynchronous version

> ID：12106605
> 
> 赞同：0
> 
> 时间：2012-08-24T09:26:22.980
> 
> 标签：java, design-patterns, user-interface

I have an application that I'm trying to restructure to use the MVC architecture. The GUI kicks off several long running function calls that would block the interface if I don't detach them from the GUI thread.

Now I was wondering whether wrapping the objects of the controller that have such long running functions into another version that just detaches the current call to a thread pool would be a good idea? Is there any pattern for this sort of problem?

**EDIT** Maybe I should provide a sample. Currently my code is littered with the following:

```
env.getScheduledExecutor().execute(new Runnable() {
  public void run() {
    backend.someLongRunningMethod();
  }
}); 
```

Now I' wondering whether I should wrap the `Backend` into something like a `BackendFacade` class that will just wrap any function call into a runnable and schedule it to the executor.

It is worth noticing that most times the methods return `void` or I don't care anyway. In the rare cases that I need to get the value back I'll just use `Future`. It should not really be a huge change since I already decouple threads at some point but I'd like to consolidate how it is done across the whole project.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:28:41.437

这听起来很像某种异步调用。通常不同的框架对此有不同的支持

> @Async // Servlets/Springs 可以。GUI也应该有

如果您的框架不允许这样做，那么我看不出让线程池这样做有什么问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:33:31.153

从同步到异步始终是一个彻底的设计更改，因为现在后台任务需要将结果**推**送到适当的位置，而不是等待结果并实际上**拉取它。**最后，这看起来很像任何其他 Swing Listener。您可以发明自己的回调接口，并在传递给后台任务的实例中实现。该任务将调用该实例上的“结果就绪”方法，该方法将调用结果处理代码。

 **还有这个`SwingWorker`类，但它没有实现线程池。每个实例都将使用一个新线程。**

# algorithm - 模式匹配算法 - 一维的见证表构造

> ID：12106611
> 
> 赞同：-1
> 
> 时间：2012-08-24T09:26:29.093
> 
> 标签：algorithm, pattern-matching

我理解使用见证表算法的长度为 n 的文本 T 和长度为 m 的模式 P 的模式匹配算法是线性的。

我也知道如何在 m^2 时间内构建见证表，但是有一个 O(m) 的算法来构建我不理解的表。

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-28T20:06:45.857

也许你的意思是[第一](http://u.cs.biu.ac.il/~amir/AlgII/wt-set1.html) [部分第二部分 - 正确性](http://u.cs.biu.ac.il/~amir/AlgII/wt-set2.html)

作者：Amihood Amir 计算机科学教授。

（这个数据不是我的）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T10:11:29.947

你最好看[这里](http://www.cs.bgu.ac.il/~dekelts/sa12/lec05.pdf)

有关于 KMP 算法和运行时分析的解释。

# javascript - how to find that atleast one checkbox is checked or not using javascript

> ID：12106612
> 
> 赞同：0
> 
> 时间：2012-08-24T09:26:31.713
> 
> 标签：javascript, checkbox

I have tried so many options, but nothing has worked.

The main problem is that I have so many check boxes all are generated through php loop, so they have same name and id. I want to check that on submit of that form that at least one should be checked. I have tried so many function so not sure which should be pasted here. So it is better that some one suggest me some fresh answer.

```
function Validate_Checkbox()
{
    var chks=document.getElementsByTagName('input');   
    var hasChecked = false;
    for (var i = 0; i < chks.length; i++)
    {
        if (chks[i].checked)
        {
            hasChecked = true;
            break;
        }
    }
    if (hasChecked == false)
    {
        alert("Please select at least one checkbox..!");

        return false;
    }

    return true;
} 
```

It is called as `onsubmit="return Validate_Checkbox()"` in form tag.

Basically I am looking for a JavaScript function.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:36:39.250

好吧，您的代码可以满足您描述的目的。它可能更短，但没有明显的问题。

缩短版

```
function validate_checkbox() {
    var cbs = document.getElementsByTagName('input');
    for (var i=0, len = cbs.length; i < len; i++)
        if (cbs[i].type.toLowerCase() == 'checkbox' && cbs[i].checked)
            return true;
    alert("Please check at least one checkbox");
    return false;
} 
```

更短的版本（如果你不关心旧的 IE）

```
function validate_checkbox() {
    var checked = document.querySelectorAll('input[type=checkbox]:checked').length;
    if (!checked) alert("Please select at least one checkbox");
    return !!checked;
} 
```

笔记：

1) ID 必须是唯一的 - 您不能在多个元素中重复 ID

2) 在 JavaScript 中，最好将左花括号放在同一行，而不是下一个

3) 避免大写函数，除非你打算实例化它们

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:37:44.123

如果您有其他类型的输入（如`text`或`submit`按钮），您的代码将失败。首先，您必须检查这是否是复选框。

```
if (chks[i].type=="checkbox" && chks[i].checked) 
```

或者如果你使用 jQuery，事情会更容易

```
if ($('input:checked').length < 1){
  //Nothing checked
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T23:06:05.760

为什么只在提交时检查它？我使用 Mootools 编写了一个函数，该函数在每个复选框上调用 onchange，并检查同一 div 中的每个复选框。如果没有选中其他复选框，则用户不能取消选中最后一个选中的复选框。

```
<input type='checkbox' onChange='validateCheckboxes(this)' name='name' value='val' > 
```

* * *

```
 function validateCheckboxes(elem){
                    var checked = elem.checked;
                    elem.getParent().getElements("input[type=checkbox]").each(function(e){checked += e.checked});
                    if(checked == 0){
                        elem.checked = 1;
                    }
                } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:38:54.300

功能似乎很好。你确定它会被调用吗？尝试使用 firefox "Firebug" 对其进行调试。打开 firebug->script 然后在这个函数上设置断点。

# mysql - 选择每位球员的最佳得分

> ID：12106613
> 
> 赞同：1
> 
> 时间：2012-08-24T09:26:35.993
> 
> 标签：mysql, select, group-by, max, sql-order-by

我有一个名为的表，`Scores`其中包含列：`id`、`player_id`、`value1`、和。`value2``value3``date`

该表具有以下内容：

```
+------+-----------+--------+--------+--------+------------+
|  id  | player_id | value1 | value2 | value3 |    date    |
+------+-----------+--------+--------+--------+------------+
|   1  |     1     |   10   |    0   |   0    | 2012-08-02 |
+------+-----------+--------+--------+--------+------------+
|   2  |     2     |   15   |    1   |   0    | 2012-08-03 |
+------+-----------+--------+--------+--------+------------+
|   3  |     3     |    9   |    0   |   0    | 2012-08-04 |
+------+-----------+--------+--------+--------+------------+
|   4  |     1     |   11   |    0   |   0    | 2012-08-05 |
+------+-----------+--------+--------+--------+------------+
|   5  |     2     |   16   |    2   |   0    | 2012-08-06 |
+------+-----------+--------+--------+--------+------------+
|   6  |     2     |   15   |    0   |   0    | 2012-08-07 |
+------+-----------+--------+--------+--------+------------+ 
```

我正在尝试获取一个查询，该查询返回按“value1，value2，value3”中的值排序的每个玩家的最佳高分。value1 为重要性较高的字段，value2 为中等重要性，value3 为次要的字段，例如：

```
value1 = 15                              value1 = 15
value2 = 1       is greater than ->      value2 = 0
value3 = 0                               value3 = 1 
```

我需要的查询的预期结果是：

```
+------+-----------+--------+--------+--------+------------+
|  id  | player_id | value1 | value2 | value3 |    date    |
+------+-----------+--------+--------+--------+------------+
|   5  |     2     |   16   |    2   |   0    | 2012-08-06 |
+------+-----------+--------+--------+--------+------------+
|   4  |     1     |   11   |    0   |   0    | 2012-08-05 |
+------+-----------+--------+--------+--------+------------+
|   3  |     3     |    9   |    0   |   0    | 2012-08-04 |
+------+-----------+--------+--------+--------+------------+ 
```

我正在尝试使用**MAX**、**DISTINCT**、**GROUP BY**和子查询，但我没有得到正确的结果。基本上它是下一个查询，但选择每个“组”的第一行：

```
SELECT id, player_id, value1, value2, value3
   FROM scores
   ORDER BY value1 DESC, value2 DESC, value3 DESC 
```

------**编辑 1** --------

**eggyal 的回答**效果很好，但也许性能不太好。我需要将他的解决方案与大型数据库进行基准测试，以检查响应时间。

我有一个想法（和可能的解决方案）。该解决方案包括添加新的**布尔列**，该列表示该分数是否是该玩家的最佳分数。这样，当我将新分数添加到数据库中时，我需要检查新分数是否优于该玩家的最佳旧分数，如果是我需要在旧的最佳分数中将标志标记为假，在新分数。这为我提供了一种直接检索每个玩家的最佳分数的方法（简单查询，如`SELECT ... FROM .... ORDER BY`）。

------**编辑 2** --------

**weicap 的回答**是最快的解决方案。我不知道为什么，但他的查询比**eggyal 的查询**快两倍。

------ **EDIT 3** -------- 我错了，如果之前缓存了查询，weicap 的查询会更快，如果不是，查询需要十秒或更长时间。相反，weicap 的回答总是需要 300-400 毫秒来处理 80.000 行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T09:45:47.830

对于每个`value`，您可以获得[分组最大值](http://dev.mysql.com/doc/en/example-maximum-column-group-row.html)：

```
SELECT * FROM Scores NATURAL JOIN (
  SELECT player_id, value1, value2, MAX(value3) value3 FROM Scores NATURAL JOIN (
  SELECT player_id, value1, MAX(value2) value2         FROM Scores NATURAL JOIN (
  SELECT player_id, MAX(value1) value1                 FROM Scores
    GROUP BY player_id) t
    GROUP BY player_id) t
    GROUP BY player_id) t
ORDER BY value1 DESC, value2 DESC, value3 DESC 
```

在[sqlfiddle](http://sqlfiddle.com/#!2/97ad7/1/0)上查看。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-24T10:22:54.823

你可以试试这个

```
SELECT player_id,
  (SELECT value1
   FROM Scores b where a.player_id=b.player_id  ORDER BY value1 DESC, value2 DESC, value3 DESC limit 1) as value1,
  (SELECT value2
   FROM Scores b where a.player_id=b.player_id  ORDER BY value1 DESC, value2 DESC, value3 DESC limit 1) as value2,
  (SELECT value3
   FROM Scores b where a.player_id=b.player_id  ORDER BY value1 DESC, value2 DESC, value3 DESC limit 1) as value3

FROM Scores a GROUP BY player_id order by value1 DESC, value2 DESC, value3 DESC 
```

或类似的东西

```
SELECT * FROM Scores a 

where id =(SELECT id
   FROM Scores b where a.player_id=b.player_id  ORDER BY value1 DESC, value2 DESC, value3 DESC limit 1)

GROUP BY player_id order by value1 DESC, value2 DESC, value3 DESC 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-26T11:00:39.297

尝试添加一个索引`(player_id, value1, value2, value3)`，然后这个查询：

```
SELECT
    s.*
FROM 
        Scores AS s
    JOIN
        ( SELECT DISTINCT
              player_id
          FROM 
              Scores
        ) AS p
      ON s.id =
         ( SELECT
               id
           FROM 
               Scores AS b
           WHERE
               b.player_id = p.player_id
           ORDER BY
               value1 DESC, value2 DESC, value3 DESC
           LIMIT 1
         ) 
ORDER BY
    s.value1 DESC, s.value2 DESC, s.value3 DESC ; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:31:46.913

你的实际分数是：1000、1510、900 等等……你明白了吗？就像十进制数字一样，单个数字的位置很重要。您可以将 3 个值转换为单个值以按其分组，并且可以即时估计它（在查询中），也可以预先计算它（在将其写入表之前）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-24T09:38:53.093

您使用什么语言（SQL 除外）？如果 SQL 可以对其进行排序，那将是最简单的，但我认为这是不可能的。如果您使用的是 PHP，那么您可以将它放在一个 for 循环中，向数组添加一个索引，例如“bestScore”，然后像这样单独检查每个分数：

```
//Extract Data Here
for($outI=0;$outI<count($scores);$outI++){
    $scores[$outI]['bestScore'] = 0;
    for($innI=0;$innI<=3;$innI++){
        if ($scores[$outI]['value' . $innI+1] > $scores[$outI]['bestScore'])
            $scores[$outI]['bestScore'] = $scores[$outI]['value' . $innI+1];
    }
    echo 'The best score for ' . $scores[$outI]['player_id'] . ' was ' . $scores[$outI]['bestScore'] . '.<br />';
} 
```

如果它按预期工作，它应该列出每个玩家的最佳分数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-24T10:04:11.120

假设你的最大疼痛可以是 16 试试这个，

```
Select Scores.* from Scores, (SELECT player_id,max(17*17*value1+17*value2+value3) 
as max_score  FROM Scores group by player_id)t where 
(17*17*value1+17*value2+value3) = t.max_score and Scores.player_id=t.player_id 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-08-24T09:51:44.527

```
SELECT * FROM (
SELECT id, player_id, value1, value2, value3, `date`
   FROM scores
   ORDER BY value1 DESC, value2 DESC, value3 DESC
) x 
GROUP BY player_id
order by value1 DESC, value2 DESC, value3 DESC 
```

# html - Rails form_tag not showing

> ID：12106625
> 
> 赞同：6
> 
> 时间：2012-08-24T09:27:13.180
> 
> 标签：html, ruby-on-rails

I am following this simple tutorial [http://railscasts.com/episodes/37-simple-search-form](http://railscasts.com/episodes/37-simple-search-form) which seems to be great but, my form tag doesnt seem to work. Here is my html code! The form tag doesnt even show up.

```
<h1>Listing applications</h1>

<% form_tag applications_path do %>
    <p>
        <%= text_field_tag :search %>
        <%= submit_tag "Search" %>
    </p>
<% end %>

<table>
  <tr>
    <th>Name</th>
    <th>Enviroment</th>
    <th>Applicationurl</th>
    <th>Server</th>
    <th>Additional Servers</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @applications.each do |application| %>
  <tr>
    <td><%= application.name %></td>
    <td><%= application.date %></td>
    <td><%= application.size %></td>
    <td><%= application.author %></td>
    <td><%= application.addi_servers %></td>
    <td><%= link_to 'Show', application %></td>
    <td><%= link_to 'Edit', edit_application_path(application) %></td>
    <td><%= link_to 'Destroy', application, confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Application', new_application_path %> 
```

And I have only one model, "Application"

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-24T09:36:00.640

根据[指南](http://guides.rubyonrails.org/form_helpers.html)，您需要一个`=`之前`form_tag`

```
<%= form_tag("/search", :method => "get") do %>
  <%= label_tag(:q, "Search for:") %>
  <%= text_field_tag(:q) %>
  <%= submit_tag("Search") %>
<% end %> 
```

# c# - 如何用多个单词搜索sql数据库

> ID：12106627
> 
> 赞同：0
> 
> 时间：2012-08-24T09:27:12.943
> 
> 标签：c#, sql-server, ado.net, search-engine

我有用户的 SQL Server 数据库，现在我想为这个表做简单的搜索算法。我的目标是制作可以组合搜索多个单词的算法，所以我尝试了这种策略：当按下搜索按钮时，方法首先从搜索字符串中提取单个单词，然后将它们作为参数插入到`SqlCommand` `CommandText`.

它适用于一个单词，但当我输入多个单词时它会卡住。这是代码示例：

```
private void btnSearchUsers_Click(object sender, EventArgs e)
{
             command = new SqlCommand();
             adapter = new SqlDataAdapter();
             dataset = new DataSet();
            try
            {
                User.connection.Open();
                command.CommandText = "SELECT * FROM tbl_Users WHERE userActive = 1";
                if (!String.Empty.Equals(tboxInputUsers.Text))
                {
                    command.CommandText += " AND";
                    string[] words = tboxInputUsers.Text.Split(' ');
                    string id = "id";

                    foreach (string word in words)
                    {
                        id += "a";
                        command.CommandText += String.Format(" userUsername LIKE @{0} OR userName LIKE @{0} OR userSurname LIKE @{0}", id);
                        command.Parameters.AddWithValue(String.Format("@{0}", id), word);
                    }
                }
                command.Connection = User.connection;
                adapter.SelectCommand = command;

                adapter.Fill(dataset);
            }
            catch (SqlException ex)
            {
                MessageBox.Show(ex.Message, Application.ProductName, MessageBoxButtons.OK, MessageBoxIcon.Information);
            }
            finally
            {
                if (ConnectionState.Open.Equals(User.connection.State)) Korisnik.connection.Close();
            }
            DataTable table = new DataTable();
            table = dataset.Tables[0];

            dgvUsers.DataSource = table;
            dgvUsers.Columns[0].Visible = false;
} 
```

当我进入调试模式并输入两个单词时，command.Parameters 显示它有 2 个参数，但它仍然崩溃。任何见解有什么问题？

谢谢！

== 编辑 ==

我得到这种类型

> *SqlException：'userUsername' 附近的语法不正确*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:38:05.380

在执行命令之前打印命令，然后尝试手动执行。这通常会突出 SQL 命令的语法问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:33:16.510

我尚未完全理解您的代码，但乍一看我说：
您需要在命令文本周围加上括号，并且需要添加 OR 逻辑运算符

```
command.CommandText += String.Format(" (userUsername LIKE @{0} OR userName LIKE @{0} OR userSurname LIKE @{0}) OR ", id); 
```

当然退出循环你需要删除最后的 OR

```
command.CommandText = command.CommandText.Substring(0, command.CommandText.Length - 4); 
```

我将尝试使用简单的字符串重写您的代码

```
string sqlText = "SELECT * FROM tbl_Users WHERE userActive = 1"; 
if (!String.Empty.Equals(tboxInputUsers.Text)) 
{ 
    // It's important to add an open parenthesis here to get a correct logic
    // All activeusers with names like words
    sqlText += " AND ("; 
    string[] words = tboxInputUsers.Text.Split(' '); 
    string id = "id"; 

    foreach (string word in words) 
    { 
        id += "a"; 
        sqlText += String.Format(" (userUsername LIKE @{0} OR " + 
                                   "userName LIKE @{0} OR " + 
                                   "userSurname LIKE @{0}) OR ", id); 
        command.Parameters.AddWithValue(String.Format("@{0}", id), word); 
    } 
    // We are sure that there is at least one word, so we can  remove the excess OR and close
    // the opening parenthesis following the AND
    sqlText = sqlText(0, sqlText.Length - 4);
    sqlText += ")";
}
command.CommandText = sqlText; 
```

# c# - ListView's empty markup can't work with SetWindowTheme and AutoResizeColumns

> ID：12106631
> 
> 赞同：1
> 
> 时间：2012-08-24T09:27:21.493
> 
> 标签：c#, c, winforms, listview, pinvoke

I try to add an empty markup to a `ListView`, but when I use `SetWindowTheme` or `AutoResizeColumns`, the markup disappears. Here's an example:

```
internal static class ExtensionMethods
{
    public static void SetDoubleBuffered(this ListView listview, bool value)
    {
        PropertyInfo pi = typeof(ListView).GetProperty("DoubleBuffered", BindingFlags.NonPublic | BindingFlags.Instance);
        pi.SetValue(listview, value);
    }

    public static void SetWindowTheme(this ListView listview, string pszSubAppName, string pszSubIdList)
    {
        NativeMethods.SetWindowTheme(listview.Handle, pszSubAppName, pszSubIdList);
    }
}

internal static class NativeMethods
{
    public const Int32 WM_NOTIFY = 0x004e;
    public const Int32 WM_LBUTTONDBLCLK = 0x0203;
    public const Int32 WM_USER = 0x0400;
    public const UInt32 LVN_FIRST = unchecked(0u - 100u);
    public const UInt32 LVN_GETEMPTYMARKUP = LVN_FIRST - 87;
    public const Int32 L_MAX_URL_LENGTH = 2084;

    [StructLayout(LayoutKind.Sequential)]
    public struct NMHDR
    {
        public IntPtr hwndFrom;
        public IntPtr idFrom;
        public UInt32 code;
    }

    [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
    public struct NMLVEMPTYMARKUP
    {
        public NMHDR hdr;
        public UInt32 dwFlags;

        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = L_MAX_URL_LENGTH)]
        public String szMarkup;
    }

    [DllImport("uxtheme.dll", CharSet = CharSet.Unicode)]
    public static extern Int32 SetWindowTheme(IntPtr hWnd, String pszSubAppName, String pszSubIdList);
}

public partial class MainForm : Form
{
    private ListView listView1 = new ListView();

    public MainForm()
    {
        InitializeComponent();

        this.Controls.Add(listView1);

        listView1.Dock = DockStyle.Fill;
        listView1.View = View.Details;
        listView1.Columns.Add("Test");

        listView1.SetDoubleBuffered(true);

        // listView1.SetWindowTheme("Explorer", null);
        // listView1.AutoResizeColumns(ColumnHeaderAutoResizeStyle.HeaderSize);
    }

    protected override void WndProc(ref Message m)
    {
        switch (m.Msg)
        {
            case NativeMethods.WM_NOTIFY:
                var nmhdr = (NativeMethods.NMHDR)m.GetLParam(typeof(NativeMethods.NMHDR));
                switch (nmhdr.code)
                {
                    case NativeMethods.LVN_GETEMPTYMARKUP:
                        if (Control.FromHandle(nmhdr.hwndFrom) == listView1)
                        {
                            var markup = (NativeMethods.NMLVEMPTYMARKUP)m.GetLParam(typeof(NativeMethods.NMLVEMPTYMARKUP));
                            markup.szMarkup = "This is an empty ListView.";
                            Marshal.StructureToPtr(markup, m.LParam, false);
                            m.Result = new IntPtr(1);
                            return;
                        }
                        break;
                }
                break;
        }
        base.WndProc(ref m);
    }
} 
```

This works. But if I uncomment either line of

```
 // listView1.SetWindowTheme("Explorer", null);
    // listView1.AutoResizeColumns(ColumnHeaderAutoResizeStyle.HeaderSize); 
```

the empty markup disappears. How do I set empty markup while using `SetWindowTheme` and `AutoResizeColumns`?

**Update**

I wrote an example of C version that confirms the empty mark can work with `SetWindowTheme` and something like `AutoResizeColumns` in Win32 level. But why not C#?

```
#define _CRT_SECURE_NO_DEPRECATE
#define WIN32_LEAN_AND_MEAN
#define STRICT

#include <tchar.h>
#include <Windows.h>
#include <windowsx.h>
#include <CommCtrl.h>
#include <Uxtheme.h>

#pragma comment(lib, "uxtheme.lib")
#pragma comment(linker, "\"/manifestdependency:type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='*' publicKeyToken='6595b64144ccf1df' language='*'\"")

LRESULT CALLBACK WindowProc(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam);
BOOL MainWindow_OnCreate(HWND hWnd, LPCREATESTRUCT lpCreateStruct);
void MainWindow_OnDestroy(HWND hWnd);
void MainWindow_OnSize(HWND hWnd, UINT state, int cx, int cy);
void MainWindow_OnPaint(HWND hWnd);
LRESULT MainWindow_OnNotify(HWND hWnd, int idFrom, LPNMHDR pnmhdr);

#define ID_LISTVIEW 100

int APIENTRY _tWinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPTSTR lpCmdLine, int nCmdShow)
{
  WNDCLASSEX wcex = { 0 };
  HWND hWnd;
  BOOL ret;
  MSG msg;

  wcex.cbSize = sizeof(wcex);
  wcex.lpfnWndProc = WindowProc;
  wcex.hInstance = hInstance;
  wcex.hIcon = (HICON)LoadImage(NULL, IDI_APPLICATION, IMAGE_ICON, 0, 0, LR_SHARED);
  wcex.hCursor = (HCURSOR)LoadImage(NULL, IDC_ARROW, IMAGE_CURSOR, 0, 0, LR_SHARED);
  wcex.lpszClassName = TEXT("MainWindow");

  if (!RegisterClassEx(&wcex))
  {
    return 1;
  }

  hWnd = CreateWindow(wcex.lpszClassName, TEXT("Win32Test"), WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, HWND_DESKTOP, NULL, hInstance, NULL);
  if (!hWnd)
  {
    return 1;
  }

  ShowWindow(hWnd, nCmdShow);
  UpdateWindow(hWnd);

  while ((ret = GetMessage(&msg, NULL, 0, 0)) != 0)
  {
    if (ret == -1)
    {
      return 1;
    }
    TranslateMessage(&msg);
    DispatchMessage(&msg);
  }

  return msg.wParam;
}

LRESULT CALLBACK WindowProc(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam)
{
  switch (uMsg)
  {
    HANDLE_MSG(hWnd, WM_CREATE, MainWindow_OnCreate);
    HANDLE_MSG(hWnd, WM_DESTROY, MainWindow_OnDestroy);
    HANDLE_MSG(hWnd, WM_SIZE, MainWindow_OnSize);
    HANDLE_MSG(hWnd, WM_PAINT, MainWindow_OnPaint);
    HANDLE_MSG(hWnd, WM_NOTIFY, MainWindow_OnNotify);
  default:
    return DefWindowProc(hWnd, uMsg, wParam, lParam);
  }
}

BOOL MainWindow_OnCreate(HWND hWnd, LPCREATESTRUCT lpCreateStruct)
{
  HWND h_listview = CreateWindowEx(WS_EX_CLIENTEDGE, WC_LISTVIEW, NULL, WS_CHILD | WS_VISIBLE, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, hWnd, (HMENU)ID_LISTVIEW, GetModuleHandle(NULL), NULL);
  LVCOLUMN lvc = { 0 };

  SetWindowTheme(h_listview, TEXT("Explorer"), NULL);
  ListView_SetExtendedListViewStyle(h_listview, LVS_EX_DOUBLEBUFFER);
  ListView_SetView(h_listview, LV_VIEW_DETAILS);
  lvc.mask = LVCF_TEXT;
  lvc.pszText = TEXT("Column 1");
  ListView_InsertColumn(h_listview, 0, &lvc);
  ListView_SetColumnWidth(h_listview, 0, LVSCW_AUTOSIZE_USEHEADER);

  return TRUE;
}

void MainWindow_OnDestroy(HWND hWnd)
{
  PostQuitMessage(0);
}

void MainWindow_OnSize(HWND hWnd, UINT state, int cx, int cy)
{
  MoveWindow(GetDlgItem(hWnd, ID_LISTVIEW), 11, 11, cx - 22, cy - 22, TRUE);
}

void MainWindow_OnPaint(HWND hWnd)
{
  PAINTSTRUCT ps;

  BeginPaint(hWnd, &ps);

  FillRect(ps.hdc, &ps.rcPaint, GetSysColorBrush(COLOR_3DFACE));

  EndPaint(hWnd, &ps);
}

LRESULT MainWindow_OnNotify(HWND hWnd, int idFrom, LPNMHDR pnmhdr)
{
  switch (pnmhdr->code)
  {
  case LVN_GETEMPTYMARKUP:
    {
      if (pnmhdr->hwndFrom == GetDlgItem(hWnd, ID_LISTVIEW))
      {
        NMLVEMPTYMARKUP *pmarkup = (NMLVEMPTYMARKUP *)pnmhdr;
        _tcscpy(pmarkup->szMarkup, TEXT("This is an empty ListView."));
        return TRUE;
      }
      return FORWARD_WM_NOTIFY(hWnd, idFrom, pnmhdr, DefWindowProc);
    }
  default:
    return FORWARD_WM_NOTIFY(hWnd, idFrom, pnmhdr, DefWindowProc);
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T10:52:49.580

我可以移动

```
 listView1.SetWindowTheme("Explorer", null);
    listView1.AutoResizeColumns(ColumnHeaderAutoResizeStyle.HeaderSize); 
```

into`Form`的`Load`事件。这有效，但我不知道为什么。

我也可以覆盖`OnHandleCreated`，并将这两行移到`OnHandleCreated`. 我也不知道为什么。

# xcode - 入门：Xcode 中没有 phonegap 模板

> ID：12106639
> 
> 赞同：1
> 
> 时间：2012-08-24T09:27:41.993
> 
> 标签：xcode, cordova, xcode4.3

我已经从 Apple Store 安装了 Xcode，并从 PhoneGap 运行了 PhoneGap 安装程序 libs/ios。现在，打开 XCode 时，我看不到 Phonegap 模板![Xcode](../Images/81d28d5c8af0bb4a15c39142cbb1c2de.png)

我应该得到的是下面的图片。知道我做错了什么吗？我对phoneGap很陌生

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:42:58.997

你用的是Phonegap 2.0吗？他们在 Phonegap 2.0 中删除了这个模板。现在您需要使用命令行来创建一个新的应用程序，但它非常简单并[在此处](http://docs.phonegap.com/en/2.0.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iOS)进行了描述。

# javascript - 背景顶部滚动上的渐变淡化文本

> ID：12106641
> 
> 赞同：4
> 
> 时间：2012-08-24T09:27:49.643
> 
> 标签：javascript, html, css, linear-gradients

一直在寻找一种方法来淡化顶部和底部的滚动。我知道您在顶部和底部使用 2 png 的方式，问题是只有在纯色页面上滚动时似乎才有用。但我希望它发生在有背景图像的页面上..

有任何想法吗？如果它甚至可能？JS、HTML5、CSS？

这是一张图片来描述效果：

[![渐变文字滚动](../Images/babb19633ec658481c024c446f4d4bc9.png)](https://i.stack.imgur.com/HXDpa.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-25T02:18:39.203

这可能是您正在寻找的。

![在此处输入图像描述](../Images/8fe2dfd618639293943f62cfeb43d818.png)

### 演示

[JSFiddle](http://jsfiddle.net/x2K4H/)

### HTML

```
<div class="wrap">
    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus. Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Nam quam nunc, blandit vel, luctus pulvinar, hendrerit id, lorem. Maecenas nec odio et ante tincidunt tempus. Donec vitae sapien ut libero venenatis faucibus. Nullam quis ante. Etiam sit amet orci eget eros faucibus tincidunt. Duis leo. Sed fringilla mauris sit amet nibh. Donec sodales sagittis magna.</p>
    <div class="fader"></div>
</div>​ 
```

### CSS

```
.wrap {
    position: relative;
    background: url(http://lorempixel.com/output/fashion-q-c-640-480-3.jpg);
    font-family: Helvetica, 'Helvetica Neue', sans-serif;
}

.wrap p {
    color: white;
}

.fader {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 30%, rgba(0,0,0,0) 70%, rgba(0,0,0,0.7) 100%);
    background: -webkit-linear-gradient(top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 30%, rgba(0,0,0,0) 70%, rgba(0,0,0,0.7) 100%);
    background: -moz-linear-gradient(top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 30%, rgba(0,0,0,0) 70%, rgba(0,0,0,0.7) 100%);
    pointer-events: none;
} 
```

编辑：添加`pointer-events: none`到 CSS 以允许正常的文本选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:48:21.287

这是我尝试过并且似乎有效的方法：

```
<html>
<head>
    <title></title>
    <style type="text/css">
        div.bg 
        {
            position: absolute;
            top: 0px;
            left: 0px;
            z-index: 0;
            width: 800px;
            height: 600px;
            background: url([your_background_image]);
        }

        div.txt 
        {
            position: absolute;
            top: 0px;
            left: 50px;
            z-index: 2;
            width: 700px;
            height: 600px;
            font-family: Arial;
            font-size: 30px;
            color: #FFFFFF;
            font-weight: bold;
        }

        div.fader_in
        {
            position: absolute;
            top: 0px;
            left: 0px;
            z-index: 4;
            width: 800px;
            height: 100px;
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#000000', endColorstr='#FFFFFF'); /* for IE */
            background: -webkit-gradient(linear, left top, left bottom, from(#000000), to(#FFFFFF)); /* for webkit browsers */
            background: -moz-linear-gradient(top,  #000000,  #FFFFFF); /* for firefox 3.6+ */ 
            opacity: .5;
            -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
        }

        div.between
        {
            position: absolute;
            top: 100px;
            left: 0px;
            z-index: 4;
            width: 800px;
            height: 400px;
            background: #FFFFFF;
            opacity: .5;
            -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
        }

        div.fader_out
        {
            position: absolute;
            top: 500px;
            left: 0px;
            z-index: 4;
            width: 800px;
            height: 100px;
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFF', endColorstr='#000000'); /* for IE */
            background: -webkit-gradient(linear, left top, left bottom, from(#FFFFFF), to(#000000)); /* for webkit browsers */
            background: -moz-linear-gradient(top,  #FFFFFF,  #000000); /* for firefox 3.6+ */ 
            opacity: .5;
            -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
        }
    </style>
</head>
<body>
    <div class="bg">
    </div>
    <div class="txt">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </div>
    <div class="fader_in"></div>
    <div class="between"></div>
    <div class="fader_out"></div>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-25T11:33:23.247

有趣的问题......令人讨厌的是，不可能以一种不会导致可用性问题的好方法来做到这一点 - 即就像将不透明蒙版应用于实际文本层一样。但是，您可以使用一些繁重的 JavaScript/Canvas 来实现它，或者您可以使用这种疯狂的方法*（这只有在您可以将背景图像`background-attachment`设置为时才有效`fixed`）*：

![在此处输入图像描述](../Images/604d47c2438fc3502bee63598023b7db.png)

```
<!DOCTYPE html>
<html>
<head>
<title></title>
<style type="text/css">

  body {
    background: url(http://maxcdn.crazyleafdesign.com/blog/wp-content/uploads/2008/09/cool-wallpapers-for-designers-29.jpg) fixed;
  }

  #scrollable {
    position: relative;
    width: 400px;
    height: 200px;
    margin: 50px;
  }

  #scrollable .viewport {
    position: relative;
    overflow: auto;
    width: 100%;
    height: 100%;
  }

  #scrollable .text {
    color: #fff;
  }

  #scrollable .text p {
    margin: 0; padding: 0; margin-bottom: 20px;
  }

  #scrollable .top {
    position: absolute; left: 0; top: 0; right: 0; height: 40px;
  }

  #scrollable .bot {
    position: absolute; left: 0; bottom: 0; right: 0; height: 40px;
  }

  #scrollable .top div, #scrollable .bot div {
    position: relative;
    background: url(http://maxcdn.crazyleafdesign.com/blog/wp-content/uploads/2008/09/cool-wallpapers-for-designers-29.jpg) fixed;
    height: 2px;
    border: 0;
  }

  #scrollable .l01 { opacity: 1; }
  #scrollable .l02 { opacity: 0.95; }
  #scrollable .l03 { opacity: 0.9; }
  #scrollable .l04 { opacity: 0.85; }
  #scrollable .l05 { opacity: 0.8; }
  #scrollable .l06 { opacity: 0.75; }
  #scrollable .l07 { opacity: 0.7; }
  #scrollable .l08 { opacity: 0.65; }
  #scrollable .l09 { opacity: 0.6; }
  #scrollable .l10 { opacity: 0.55; }
  #scrollable .l11 { opacity: 0.5; }
  #scrollable .l12 { opacity: 0.45; }
  #scrollable .l13 { opacity: 0.4; }
  #scrollable .l14 { opacity: 0.35; }
  #scrollable .l15 { opacity: 0.3; }
  #scrollable .l16 { opacity: 0.25; }
  #scrollable .l17 { opacity: 0.2; }
  #scrollable .l18 { opacity: 0.15; }
  #scrollable .l19 { opacity: 0.1; }
  #scrollable .l20 { opacity: 0.05; }

</style>
</head>
<body>
  <div id="scrollable">
    <div class="viewport">
      <div class="text">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse et blandit ligula. Vestibulum sodales porttitor sollicitudin. Etiam turpis purus, tincidunt rhoncus interdum ut, mollis vitae mi. Nulla a mauris et orci scelerisque egestas a nec metus. Cras a massa id quam vehicula sodales. Etiam aliquam justo eu ligula volutpat blandit. Sed sagittis, arcu ut pulvinar blandit, purus mauris euismod felis, eget rutrum nunc arcu vitae augue. Cras magna quam, consectetur at lobortis quis, interdum eget tortor.</p>
        <p>Pellentesque tincidunt molestie urna, ut lacinia justo cursus a. Nunc mauris sem, dignissim id mollis vel, adipiscing nec purus. Fusce feugiat sem et neque cursus pretium. Curabitur tellus nunc, blandit sit amet aliquam tempus, scelerisque eu nulla. Vestibulum imperdiet nunc nec purus dignissim vitae suscipit orci pharetra. Mauris sit amet ante sit amet odio ultricies interdum auctor sit amet nibh. Integer ut sem leo, at vulputate felis. Mauris sit amet neque tortor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>
        <p>Mauris lectus leo, luctus non malesuada vitae, facilisis vitae est. Maecenas sed neque lorem, vitae dignissim ante. Cras non lectus sed orci ornare ultricies at ac lectus. Donec quis quam mi, id ornare mauris. Praesent aliquet turpis hendrerit dui fringilla ullamcorper. Morbi facilisis urna non dui bibendum non semper neque dignissim. Vestibulum non pretium justo. Phasellus magna velit, commodo ut facilisis et, hendrerit vitae sem. Curabitur commodo eros a dolor sagittis egestas. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      </div>
    </div>
    <div class="top">
      <div class="l01"></div><div class="l02"></div><div class="l03"></div>
      <div class="l04"></div><div class="l05"></div><div class="l06"></div>
      <div class="l07"></div><div class="l08"></div><div class="l09"></div>
      <div class="l10"></div><div class="l11"></div><div class="l12"></div>
      <div class="l13"></div><div class="l14"></div><div class="l15"></div>
      <div class="l16"></div><div class="l17"></div><div class="l18"></div>
      <div class="l19"></div><div class="l20"></div>
    </div>
    <div class="bot">
      <div class="l20"></div><div class="l19"></div><div class="l18"></div>
      <div class="l17"></div><div class="l16"></div><div class="l15"></div>
      <div class="l14"></div><div class="l13"></div><div class="l12"></div>
      <div class="l11"></div><div class="l10"></div><div class="l09"></div>
      <div class="l08"></div><div class="l07"></div><div class="l06"></div>
      <div class="l05"></div><div class="l04"></div><div class="l03"></div>
      <div class="l02"></div><div class="l01"></div>
    </div>
  </div>
</body>
</html> 
```

但是，我不建议使用迄今为止发布的任何这些方法（包括我的），因为它们都会干扰文本选择和滚动条，因为文本上方的浮动层。这可能会导致各种可用性问题，并且基本上只会惹恼您的用户……这不是大多数网站的目标；）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T22:00:56.513

您可以在顶部和底部使用与您的背景颜色相匹配的透明灰色渐变图像： [http ://www.cssplay.co.uk/menu/fade_scroll.html](http://www.cssplay.co.uk/menu/fade_scroll.html)

# c# - 模式弹出窗口中的 TabContainer

> ID：12106642
> 
> 赞同：1
> 
> 时间：2012-08-24T09:27:52.733
> 
> 标签：c#, asp.net, ajax, ajaxcontroltoolkit

我正在尝试在 AJAX 模式弹出窗口中使用 ajaxToolkit:TabContainer。问题是我在 Internet Explorer 8 中遇到了一个 javascript 错误。它在 Internet Explorer 9 和 Firefox 中确实有效！

```
htmlfile: Can't move focus to the control because it is invisible, not enabled, or of a type that does not accept the focus. 
```

如果我默认显示模式弹出窗口，或者如果我删除了 ajaxToolkit:TabContainer 中的所有 ajaxToolkit:TabPanel 元素，我不会收到错误消息。

TabContainer 上是否有以某种方式不设置焦点的选项？

这是一个可用于重现 test.aspx 问题的示例

```
<asp:UpdatePanel ID="upSystem" runat="server" UpdateMode="Conditional">
    <ContentTemplate>
        <h2>Test</h2>

        <asp:Button ID="cmdPopup" runat="server" CssClass="button btn" Text="Neuen Eintrag erfassen" OnClick="CmdPopupOpen" />

            <asp:Panel ID="panList" runat="server"  CssClass="modalPopup" Width="500px">

                <asp:UpdatePanel ID="upDetail" runat="server" UpdateMode="Conditional">
                    <ContentTemplate>

                            <asp:UpdatePanel ID="upData" runat="server" UpdateMode="Conditional">
                                <ContentTemplate>
                                        <br />
                                        <div class="modal">
                                        <div id="divHeader" runat="server" class="modal-header"><h2 class="messageboxh2">Task Messages</h2></div>

                                        <div class="modal-body">
                                            <asp:Label ID="Label1" runat="server" Text="Task Typ: " />
                                            <asp:DropDownList ID="ddlTaskType" runat="server">

                                            </asp:DropDownList>
                                        <br /><br />
                                       <ajaxToolkit:TabContainer ID="tConNew" runat="server" Height="150px" 
                                              >
                                            <ajaxToolkit:TabPanel runat="server" ID="tPanInstant" HeaderText="Sofort" >
                                                <ContentTemplate>
                                                </ContentTemplate>

                                            </ajaxToolkit:TabPanel>

                                        </ajaxToolkit:TabContainer>
                                </ContentTemplate>
                            </asp:UpdatePanel>     
                        <div class="modal-footer">
                                <br/>
                                <asp:Button ID="cmdClose" runat="server" CssClass="btn" Text="Abbrechen" />
                                <asp:Button ID="cmdSave" runat="server" CssClass="btn" Text="Speichern" onclick="MpeSave" />
                        </div>
                        </div>
                    </ContentTemplate>
                </asp:UpdatePanel>
            </asp:Panel>

            <ajaxToolkit:ModalPopupExtender ID="mdlPopup" runat="server" 
                    TargetControlID="lblDummyUpload"
                    PopupControlId="panList" 
                    BackgroundCssClass="modalBackground" 
                    PopupDragHandleControlID="divHeader" 
                    RepositionMode="None" 
                    CancelControlID="cmdClose"
                     />

            <asp:Button id="lblDummyUpload" runat="server" style="display:none" />  

    </ContentTemplate>        
</asp:UpdatePanel> 
```

和 test.aspx.cs

```
 public partial class test : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

    }

    protected void MpeSave(object sender, EventArgs e)
    {
        mdlPopup.Hide();
    }

    protected void CmdPopupOpen(object sender, EventArgs e)
    {
        mdlPopup.Show();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T09:04:36.740

我可以按照此处的建议使用旧版本的 AJAX 控制工具包来“修复”该错误：http: [//ajaxcontroltoolkit.codeplex.com/workitem/27051](http://ajaxcontroltoolkit.codeplex.com/workitem/27051)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:37:00.057

如前所述，它本身是 AjaxToolkit 内部的错误。AjaxToolkit 的最新版本（2012 年 9 月）未修复此错误，因此请等待更新。

没有此错误的稳定 AjaxToolkit 版本是 2011 年 7 月。

# android - android上的Achartengine - 多个Y轴

> ID：12106645
> 
> 赞同：5
> 
> 时间：2012-08-24T09:28:05.447
> 
> 标签：android, achartengine

在 android 上使用 achartengine 很难让多个 Y 轴显示在图表上。我试图在这里复制“多温度图表”演示中所做的事情：[http ://code.google.com/p/achartengine/source/browse/trunk/achartengine/demo/org/achartengine/chartdemo/demo/ chart/MultipleTemperatureChart.java](http://code.google.com/p/achartengine/source/browse/trunk/achartengine/demo/org/achartengine/chartdemo/demo/chart/MultipleTemperatureChart.java)但它不会在右侧显示 Y 轴，也不会显示我想要显示的 Yaxis 标签。

任何想法我的代码可能做错了什么：

```
 mCurrentCostSeries = new XYSeries(costTitle);
    mCurrentEffSeries = new XYSeries(effTitle);

    mDataset.addSeries(mCurrentCostSeries);
    mDataset.addSeries(mCurrentEffSeries);

    int[] colors = new int[] { Color.RED, Color.YELLOW };
    PointStyle[] styles = new PointStyle[] { PointStyle.POINT, PointStyle.DIAMOND };
    mRenderer = new XYMultipleSeriesRenderer(2);
    setRenderer(mRenderer, colors, styles);
    int length = mRenderer.getSeriesRendererCount();
    for (int i = 0; i < length; i++) {
      XYSeriesRenderer r = (XYSeriesRenderer) mRenderer.getSeriesRendererAt(i);
      r.setLineWidth(3f);
    }

    mRenderer.setApplyBackgroundColor(true);
    mRenderer.setBackgroundColor(Color.argb(100, 50, 50, 50));

    mRenderer.setAxesColor(Color.LTGRAY);
    mRenderer.setZoomButtonsVisible(true);
    mRenderer.setPointSize(10);

    mRenderer.setChartTitle("Fuel Efficiency and Cost");

    mRenderer.setShowGrid(true);
    mRenderer.setXLabelsAlign(Align.RIGHT);
    mRenderer.setYLabelsAlign(Align.RIGHT);

    mRenderer.setYTitle(cunits,0);

    mRenderer.setLabelsColor(Color.WHITE);
    mRenderer.setXLabelsColor(Color.GREEN);
    mRenderer.setYLabelsColor(0, colors[0]);
    mRenderer.setYLabelsColor(1, colors[1]);

    mRenderer.setYTitle(dunits, 1);        // these lines SHOULD set the second Y axis 
    mRenderer.setYAxisAlign(Align.RIGHT, 1);// (series=1) but have no effect.
    mRenderer.setYLabelsAlign(Align.LEFT, 1); 
```

我使用的是时间序列图而不是演示使用的三次线图，但其他情况应该几乎相同。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T09:49:33.157

确保为第二个系列分配一个单独的比例编号。例如，以`mCurrentEffSeries`这种方式初始化，它将起作用：

```
mCurrentEffSeries = new XYSeries(effTitle, 1); 
```

# asp.net-mvc - 如何在url中传递多个参数

> ID：12106649
> 
> 赞同：1
> 
> 时间：2012-08-24T09:28:22.573
> 
> 标签：asp.net-mvc, visual-studio-2010

如何将多个参数从视图传递到 url 中的控制器。这是我的 url，options.parentId 是一个参数。我需要传递多个值，如何将多个值从视图传递到 url 中的控制器。("/ProjectRoles/project_module_functions_leftdisplay", options.parentid)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:29:23.390

您可以使用 Url.Action 助手：

```
@Url.Action("project_module_functions_leftdisplay", "ProjectRoles", new 
{ 
    parentid = options.parentid, 
    somethingelse = options.somethingelse 
}) 
```

或者，如果您在操作链接中调用控制器：

```
@Html.ActionLink(
    "click me", 
    "project_module_functions_leftdisplay", 
    "ProjectRoles", 
    new { 
        parentid = options.parentid, 
        somethingelse = options.somethingelse 
    }, 
    null
) 
```

或者如果您使用的是 HTML `<form>`：

```
@using (Html.BeginForm("project_module_functions_leftdisplay", "ProjectRoles", new { parentid = options.parentid, somethingelse = options.somethingelse }))
{
    ...
} 
```

或者如果我误解了你的问题并且`options`是一个 javascript 变量::

```
<script type="text/javascript">
    var options = ...
    var url = '@Url.Action("project_module_functions_leftdisplay", "ProjectRoles", new { parentid = "__parentid__", somethingelse = "__somethingelse__" })';
    url = url
        .replace('__parentid__', encodeURIComponent(options.parentid))
        .replace('__somethingelse__', encodeURIComponent(options.somethingelse));

    // ... use the url here
</script> 
```

根据您的具体情况和您想要实现的目标，可能还有其他更好的方法。

# java - GoogleDrive api 快速入门配置授权

> ID：12106650
> 
> 赞同：1
> 
> 时间：2012-08-24T09:28:29.877
> 
> 标签：java, google-drive-api

我正在尝试使用 google drive api 从我的驱动器中获取文件，但我似乎无法让这个快速入门工作。

[https://developers.google.com/drive/quickstart](https://developers.google.com/drive/quickstart)

我正在使用 java 示例。当我尝试这个时，我得到 3 个错误。

```
 String url = flow.newAuthorizationUrl().setRedirectUri(REDIRECT_URI).build(); 
```

建造（）; //不存在

```
 GoogleCredential credential = new GoogleCredential().setFromTokenResponse(response); 
```

找到所需的令牌响应 googletokenresponse

```
 Drive service = new Drive.Builder(httpTransport, jsonFactory, credential).build(); 
```

没有为（HttpTransport、JsonFactory、GoogleCredential）找到合适的构造函数。

我使用了在示例页面上下载的 jars。

如何验证用户身份以便使用云端硬盘服务？

是否有另一个可以正常工作的快速入门？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T17:31:39.057

您可能缺少可以从[这里](http://code.google.com/p/google-api-java-client/wiki/Setup)下载的核心客户端库依赖项。我们将更新快速入门指南以提及它。

下载所需的依赖项后，除了 Drive API .jar 之外，您还需要将这些额外的依赖项添加到您的项目中：

```
google-api-client-1.10.3-beta.jar
google-oauth-client-1.10.3-beta.jar
google-http-client-1.10.3-beta.jar
commons-logging-1.1.1.jar
gson-2.1.jar
guava-11.0.1.jar
httpclient-4.0.3.jar
httpcore-4.0.1.jar
jackson-core-asl-1.9.4.jar
jsr305-1.3.9.jar
protobuf-java-2.2.0.jar
xpp3-1.1.4c.jar 
```

快速入门示例依赖于 google-api-java-client 版本 1.10.3-beta，请确保下载此版本。

# c++ - C++ 中的队列实现中的错误检查

> ID：12106655
> 
> 赞同：1
> 
> 时间：2012-08-24T09:28:42.613
> 
> 标签：c++, algorithm

我正在阅读 Robert Sedwick 在 C++ 中的算法中的 FIFO 队列数组实现。队列的内容是数组中“头”和“尾”之间的所有元素，考虑到结束时回绕回 0遇到数组。如果“头”和“尾”相等，则认为队列为空；但是如果“put”会使 then 相等，那么我们认为它是满的。我们使数组 1 的大小大于客户端期望在队列中看到的最大元素数，以便我们可以增强该程序以进行错误检查。

```
template <class Item>
class QUEUE
  {
    private:
      Item *q; int N, head, tail;
    public:
      QUEUE(int maxN)
        { q = new Item[maxN+1]; 
          N = maxN+1; head = N; tail = 0; }
      int empty() const
        { return head % N == tail; }
      void put(Item item)
        { q[tail++] = item; tail = tail % N; }
      Item get()
        { head = head % N; return q[head++]; }
  }; 
```

我的问题是为什么作者在文本中提到的分配数组 1 大于指定用于进行错误检查的用户。我不知道分配 1 大于用户请求将如何帮助我们进行错误检查？请帮助我提供示例代码。

感谢您的时间和帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:38:42.600

因为如果数组的大小与插入最后一个元素的最大元素数相同，则将导致`tail`等于`head`，并且您将无法仅通过比较来区分空队列和完整队列`head`和`tail`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:40:33.723

我认为，如果没有额外的单元格，就无法区分具有 maxN 个元素的队列和一个空队列，因为在这两种情况下，头和尾将在同一个等价类中以 maxN 为模。

所以，我想错误处理可以在 put 之后立即进行，以检查是否不满足空标准（这意味着超出了容量）：

```
void put(Item item)
{
  q[tail++] = item;
  tail = tail % N;
  // check that capacity is not exceeded.
  if (head % N == tail)
    throw;
} 
```

同样在 get 开始时，检查队列是否为空。

是否有意义？

# c# - 检查打开的窗口是否已关闭

> ID：12106657
> 
> 赞同：4
> 
> 时间：2012-08-24T09:28:52.230
> 
> 标签：c#, wpf, sql-server

我有一个主窗口，即应用程序启动窗口。在该窗口中，有一个`Repeater`绑定到 a 的控件`SQL Database`和一个用于打开新窗口的按钮。

新窗口有一个方法可以将数据插入到`SQL Database`第一个窗口的`Repeater`控件读取的窗口中。

中继器有一种`RepeaterRefresh()`方法可以强制它重新绑定到`SQL Database`，从而显示添加的任何内容。

我如何能够将`Close()`第二个窗口的事件绑定到该`RepeaterRefresh()`方法，以便数据自动显示在转发器上。

我读过[这个](http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/c521ac47-7326-483a-be60-42de0e355711/)、[这个](https://stackoverflow.com/questions/8210807/can-we-know-if-a-window-has-been-closed-by-the-user-or-code-on-wpf) [和这个](https://stackoverflow.com/questions/1175991/how-can-you-determine-whether-a-form-has-been-closed-by-the-user-or-by-your-code)，但我仍然觉得我的问题不相关。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-24T10:01:25.430

为什么不简单地将处理程序添加到[Closing](http://msdn.microsoft.com/en-us/library/system.windows.window.closing(v=vs.100))或[Closed](http://msdn.microsoft.com/en-us/library/system.windows.window.closed(v=vs.100))事件：

```
private void ShowChildWindow()
{
    Window childWindow = new ChildWindow();
    childWindow.Closed += ChildWindowClosed;
    childWindow.Show();
}

private void ChildWindowClosed(object sender, EventArgs e)
{
    ((Window)sender).Closed -= ChildWindowClosed;
    RepeaterRefresh();
} 
```

# osx-mountain-lion - 在 Mountain Lion 中添加命令行工具

> ID：12106659
> 
> 赞同：0
> 
> 时间：2012-08-24T09:28:56.533
> 
> 标签：osx-mountain-lion, toolchain

我正在尝试安装[astyle](http://astyle.sourceforge.net/)，我想知道如何将其添加到工具链中？我想以与使用“ls”、“vim”、“git”等相同的方式访问此工具。

我一直在搜索谷歌，但我找不到任何与该主题相关的内容。

# android - 当我使用 LocationManager 时，我没有在 Android 上收到“正在搜索 GPS”通知

> ID：12106666
> 
> 赞同：0
> 
> 时间：2012-08-24T09:29:40.673
> 
> 标签：android, gps, notifications, locationmanager, locationlistener

我正在使用 Ravi Tamada 的以下 Android 类 GPSTracker。该位置按预期工作 - 我得到了用户位置的纬度和经度......但是我似乎无法在通知栏中收到“搜索 GPS”通知......（通知图标在状态栏中都没有闪烁课程...）

知道为什么吗？

```
public class GPSTracker extends Service implements LocationListener {

private final Context mContext;

// flag for GPS status
boolean isGPSEnabled = false;

// flag for network status
boolean isNetworkEnabled = false;

// flag for GPS status
boolean canGetLocation = false;

Location location; // location
double latitude; // latitude
double longitude; // longitude

// The minimum distance to change Updates in meters
private static final long MIN_DISTANCE_CHANGE_FOR_UPDATES = 1; // 10 meters

// The minimum time between updates in milliseconds
private static final long MIN_TIME_BW_UPDATES = 1000 * 60 * 1; // 1 minute

// Declaring a Location Manager
protected LocationManager locationManager;

public GPSTracker(Context context) {
    this.mContext = context;
    getLocation();
}

public Location getLocation() {
    try {
        locationManager = (LocationManager) mContext
                .getSystemService(LOCATION_SERVICE);

        // getting GPS status
        isGPSEnabled = locationManager
                .isProviderEnabled(LocationManager.GPS_PROVIDER);

        // getting network status
        isNetworkEnabled = locationManager
                .isProviderEnabled(LocationManager.NETWORK_PROVIDER);

        if (!isGPSEnabled && !isNetworkEnabled) {
            // no network provider is enabled
        } else {
            this.canGetLocation = true;
            // First get location from Network Provider
            if (isNetworkEnabled) {
                locationManager.requestLocationUpdates(
                        LocationManager.NETWORK_PROVIDER,
                        MIN_TIME_BW_UPDATES,
                        MIN_DISTANCE_CHANGE_FOR_UPDATES, this);
                Log.d("Network", "Network");
                if (locationManager != null) {
                    location = locationManager
                            .getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
                    if (location != null) {
                        latitude = location.getLatitude();
                        longitude = location.getLongitude();
                    }
                }
            }
            // if GPS Enabled get lat/long using GPS Services
            if (isGPSEnabled) {
                if (location == null) {
                    locationManager.requestLocationUpdates(
                            LocationManager.GPS_PROVIDER,
                            MIN_TIME_BW_UPDATES,
                            MIN_DISTANCE_CHANGE_FOR_UPDATES, this);
                    Log.d("GPS Enabled", "GPS Enabled");
                    if (locationManager != null) {
                        location = locationManager
                                .getLastKnownLocation(LocationManager.GPS_PROVIDER);
                        if (location != null) {
                            latitude = location.getLatitude();
                            longitude = location.getLongitude();
                        }
                    }
                }
            }
        }

    } catch (Exception e) {
        e.printStackTrace();
    }

    return location;
}

/**
 * Stop using GPS listener
 * Calling this function will stop using GPS in your app
 * */
public void stopUsingGPS(){
    if(locationManager != null){
        Log.d("loc stopped", "yeap!");
        locationManager.removeUpdates(GPSTracker.this);
    }
}

/**
 * Function to get latitude
 * */
public double getLatitude(){
    if(location != null){
        latitude = location.getLatitude();
    }

    // return latitude
    return latitude;
}

/**
 * Function to get longitude
 * */
public double getLongitude(){
    if(location != null){
        longitude = location.getLongitude();
    }

    // return longitude
    return longitude;
}

/**
 * Function to check GPS/wifi enabled
 * @return boolean
 * */
public boolean canGetLocation() {
    return this.canGetLocation;
}

/**
 * Function to show settings alert dialog
 * On pressing Settings button will lauch Settings Options
 * */
public void showSettingsAlert(){
    AlertDialog.Builder alertDialog = new AlertDialog.Builder(mContext);

    // Setting Dialog Title
    alertDialog.setTitle("GPS is settings");

    // Setting Dialog Message
    alertDialog.setMessage("GPS is not enabled. Do you want to go to settings menu?");

    // On pressing Settings button
    alertDialog.setPositiveButton("Settings", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,int which) {
            Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);
            mContext.startActivity(intent);
        }
    });

    // on pressing cancel button
    alertDialog.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) {
        dialog.cancel();
        }
    });

    // Showing Alert Message
    alertDialog.show();
}

@Override
public void onLocationChanged(Location location) {
    Log.d("LOC Changed", Double.toString(location.getLatitude()) + ", " + Double.toString(location.getLongitude()));
}

@Override
public void onProviderDisabled(String provider) {
}

@Override
public void onProviderEnabled(String provider) {
}

@Override
public void onStatusChanged(String provider, int status, Bundle extras) {
}

@Override
public IBinder onBind(Intent arg0) {
    return null;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T15:10:33.533

默认情况下，我使用的是 NETWORK_PROVIDER ...这就是为什么我从未收到 GPS 通知的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T15:13:20.903

使用此代码：

```
Intent intent = new Intent(android.content.Intent.ACTION_VIEW,
                Uri.parse("http://maps.google.com/maps/?daddr=My+street+address"));                                     
                    intent.setClassName("com.google.android.apps.maps", "com.google.android.maps.MapsActivity");
                    startActivity(intent); 
```

# android - 当按下后退按钮时，底层活动中调用的方法是什么？

> ID：12106670
> 
> 赞同：0
> 
> 时间：2012-08-24T09:30:02.013
> 
> 标签：android, android-activity, adapter

现在在我的应用程序中，我在 listView 的 onItemLongClickListener() 上调用了另一个活动。我在下一个活动中编辑了数据，点击保存按钮我更新了数据库并完成了活动。**如何让列表自动刷新？我在 OnStart 和 OnResume 事件中的适配器上使用了 notifyDataSetChanged。它似乎不起作用。谁能建议我我能做什么？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:42:12.750

Android 2.0 API 引入了 onBackPressed() 方法，建议重写该方法：

```
 @Override
    public void onBackPressed() {
        return;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:34:48.703

```
@Override   
    public boolean onKeyUp(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {
           //Back button pressed
    }
       return true;
} 
```

# maven - Maven私有内部仓库

> ID：12106671
> 
> 赞同：1
> 
> 时间：2012-08-24T09:30:08.327
> 
> 标签：maven, maven-2, maven-3, maven-plugin, artifactory

我使用“Artifactory”创建了一个 Maven 本地存储库。我想将项目依赖项添加到这个本地存储库（我的本地 .m2 文件夹中的所有依赖项），我可以用 Artifactory 做到这一点吗？如果可以，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T20:18:10.210

依赖项将在您的 maven 项目的第一次运行时添加到 Artifactory（它们将从 Artifactory 预配置的远程存储库之一中获取）。

# c# - 判断活动窗口是否为WPF窗口

> ID：12106672
> 
> 赞同：3
> 
> 时间：2012-08-24T09:30:08.597
> 
> 标签：c#, .net, wpf, winforms

我有一个 UI 线程的活动窗口`GetActiveWindow`。如果它是 WPF 弹出窗口，我需要关闭窗口。

如何确定窗口是否是 wpf 窗口？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T09:35:55.113

使用`HwndSource`.

[http://msdn.microsoft.com/en-us/library/system.windows.interop.hwndsource.fromhwnd.aspx](http://msdn.microsoft.com/en-us/library/system.windows.interop.hwndsource.fromhwnd.aspx)

如下：

```
IntPtr hwnd = GetActivewWindow();

HwndSource hwndsrc = HwndSource.FromHwnd(hwnd);

// Use any variation on this code

if (hwndsrc != null && hwndsrc.RootVisual != null)
{
    Window window = hwndsrc.RootVisual as Window;

    if (window != null)
    {
        window.Close();
    }

    // UPDATE: I've added looking for a "Popup" window as well
    // because your question mentions "pop up window"...but
    // not sure if you meant a top-level Window, or a Popup...
    // ....Popup windows have HWND too!

    Popup popupwindow = hwndsrc.RootVisual as Popup;

    if (popupwindow != null)
    {
        popupwindow.IsOpen = false;
    }
} 
```

# actionscript-3 - 如何找到xml的标签名称？

> ID：12106674
> 
> 赞同：0
> 
> 时间：2012-08-24T09:30:14.617
> 
> 标签：actionscript-3, apache-flex, tags

我正在尝试构建一个库项目，它将动态调用一些 xml 数据。这个 xml 数据可能包含一个按钮，然后将一个按钮添加到库项目中。谁能帮我找到 xml 数据的标签名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:50:58.713

要使用 E4X 查找 XML 节点的名称，请使用 name() 函数。

```
var xml:XML = new XML("<root><content>Stuff</content></root>");
trace(xml.child(0).name());
// Output: 'content' 
```

棘手的部分通常是导航到正确的节点。E4X 导航的基础知识太复杂了，这里就不多说了。您可以查看 Adob​​e 文档：[http](http://help.adobe.com/en_US/ActionScript/3.0_ProgrammingAS3/WS5b3ccc516d4fbf351e63e3d118a9b90204-7e72.html) ://help.adobe.com/en_US/ActionScript/3.0_ProgrammingAS3/WS5b3ccc516d4fbf351e63e3d118a9b90204-7e72.html或 Google [E4X](https://www.google.co.uk/search?q=ECMAScript%20for%20XML)。

还有许多与此类似的其他问题。例如，这里：[How do I retrieve the node name from XML in Flex / Actionscript](https://stackoverflow.com/questions/5163232/how-do-i-retrieve-the-node-name-from-xml-in-flex-actionscript)

# javascript - 在按钮单击时获取 tinyMCE 编辑器实例

> ID：12106679
> 
> 赞同：2
> 
> 时间：2012-08-24T09:30:32.753
> 
> 标签：javascript, jquery, tinymce

编辑：添加了一个小提琴示例 - [http://fiddle.tinymce.com/EZbaab/2](http://fiddle.tinymce.com/EZbaab/2)

我目前有一个页面，上面有一个 tinyMCE 实例和三个继承它的单独文本区域。

我有一个自定义菜单，上面有可单击的子菜单项（使用 Django 生成），单击时将内容插入当前活动的 tinyMCE 编辑器（textarea）。问题是，无论点击了哪个编辑器工具栏，都会发生这种情况。因此，例如，如果我单击顶部编辑器的工具栏项，但关注底部编辑器，则文本将粘贴到底部编辑器中。

当单击菜单项时，我需要强制单击工具栏的编辑器成为焦点（这发生在默认按钮，如粗体、斜体、下划线，但不适用于我的自定义菜单项）

或者我需要将单击的编辑器的实例 ID 传递到以某种方式粘贴到文本中的函数中。困难在于我很难在文档中找到对这两个任务的任何引用。

tinyMCE 初始化代码：

```
tinyMCE.init({
    forced_root_block : false,
    force_br_newlines : true,
    force_p_newlines : false,
    mode : "textareas",
    theme : "advanced",
    plugins : "contextmenu,paste,save,-stdpara",
    theme_advanced_buttons1 : ",bold,italic,underline,cleanup,|,undo,redo,|,cut,copy,paste,|,stdpara",
    theme_advanced_buttons2 : "",
    theme_advanced_toolbar_location : "top",
    theme_advanced_toolbar_align : "left",
    force_br_newlines : true,
    force_p_newlines : false,
    forced_root_block : '',
}); 
```

（其中 stdpara 是我的自定义菜单插件）：

菜单代码（去掉 django 并添加了一些随机数据：

```
tinymce.create('tinymce.plugins.StandardParagraphPlugin', {
    createControl: function(n, cm) {
        switch (n) {
            case 'stdpara':
                var c = cm.createSplitButton('stdparagraph', {
                    title : 'Standard Paragraph',
                image : 'img/para.png',
                });

                c.onRenderMenu.add(function(c, m) {
                    m.add({title : 'Standard Paragraphs', 'class' : 'mceMenuItemTitle'}).setDisabled(1);
                    category_menu = m.addMenu({title : 'Some Title'});
                    category_menu.add({title : 'Some sub-title', onclick : function() { tinyMCE.activeEditor.execCommand('mceInsertContent',false,'The Text') }); 
                    }});
                return c;
            }
        return null;
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T12:32:26.827

> 当单击菜单项时，我需要强制单击工具栏的编辑器成为焦点（这发生在默认按钮，如粗体、斜体、下划线，但不适用于我的自定义菜单项）

这是正确的，但问题出在这

```
tinyMCE.activeEditor.execCommand('mceInsertContent',false,'The Text') 
```

这将在活动编辑器上执行命令。`tinyMCE.activeEditor`例如，当用户单击编辑器时会重置。

最好解决下拉列表所属的编辑器。这有点棘手，看起来也不是很优雅，但只要 tinymce 不更改按钮逻辑和命名，它就可以证明 tinymce 的更新。在这里查看我的 tinymce 小提琴：http: [//fiddle.tinymce.com/IZbaab/1](http://fiddle.tinymce.com/IZbaab/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T07:29:51.190

对于未来的疑难解答

createControl(n, cm) 的第二个参数 - 所以，'cm' 参数 - 是 contentManager。

要获取当前编辑器，您只需调用`cm.editor`

要插入内容：`cm.editor.execCommand('mceInsertContent', false, 'my text')`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-12T13:00:17.260

不知道它是否有帮助，但我选择了相应的文本字段，例如：

```
tinyMCE.get('yourtextareaid').execCommand('mceInsertContent', false, 'bla'); 
```

# c# - 如何在 C# 中使用子字符串从组合框中获取值

> ID：12106683
> 
> 赞同：2
> 
> 时间：2012-08-24T09:30:46.450
> 
> 标签：c#, combobox

我有一个组合框，其中包含以下项目字符串：

```
1 .  Apple
2 .  Banana
3 .  Mango 
```

1,2,3 是类别 ID，Apple、Banana、Mango 是类别名称。

我想使用类别名称从组合框中知道类别 ID，类别名称是组合框项目的子字符串。

例子：

我想知道香蕉的类别 ID。这是2。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:40:12.710

将此代码用于应该在您选择了 comboBox 中的项目之后的事件：

```
 string []str;
        str = comboBox1.Text.Split(' ');
        string categoryId = str[0]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-24T09:43:03.310

试试下面的代码。它将给出`CategotyId`所选类别的。

```
private void ComboBox1_SelectedIndexChanged(object sender, System.EventArgs e) {
    string selectedText = comboBox1.SelectedText;
    string categoryId  = selectedText.Substring(0, selectedText.IndexOf(" "));

    MesasgeBox.Show(categoryId);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-24T09:43:11.383

```
 foreach (object item in cmb.Items)
    {
      string[] str = item.ToString().split(new char[] {' '}
, StringSplitOptions.RemoveEmptyEntries);
      if(str[1] == "Banana")
      {
           Console.Write(str[0]);
      }
    } 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-24T10:55:52.743

@Pranay Rana 你的回答帮助了我：我这样写了我的方法

```
private string get_Godown_id(string godown_name)
    {
        foreach (object item in cb_send_to.Items)
        {
            if (item.ToString().Split('.')[1].Trim() == godown_name)
            {
                return (item.ToString().Split('.')[0]);
            }
        }
        return "";
    } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-26T07:18:55.797

```
foreach (object item in cb_send_to.Items)
    {
        if (item.ToString().Split('.')[1].Trim() == godown_name)
        {
            return (item.ToString().Split('.')[0]);
        }
    } 
```

# html - 在 Html.ActionLink() 中使用 /test#test

> ID：12106685
> 
> 赞同：1
> 
> 时间：2012-08-24T09:30:53.367
> 
> 标签：html, asp.net-mvc

例子：

我有一个网页 www.test.com/，然后如果我点击一个链接，例如`<a href="#test">`，页面将跳转到 ID 为“test”的元素的任何位置。是否可以在 Html.ActionLink() 中实现相同的功能。显然，我可以保持相同的格式，但是在带有#id 的页面之间导航时，我也需要它来工作。

所以我在找可以放的东西`Html.ActionLink("Text", "Action", "Controller", "id")`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:38:26.453

您必须使用片段参数：

```
public static MvcHtmlString ActionLink(
  this HtmlHelper htmlHelper,
  string linkText,
  string actionName,
  string controllerName,
  string protocol,
  string hostName,
  string fragment,
  Object routeValues,
  Object htmlAttributes
) 
```

[http://msdn.microsoft.com/en-us/library/dd460522.aspx](http://msdn.microsoft.com/en-us/library/dd460522.aspx)

# android - ListFragment 中的膨胀视图

> ID：12106686
> 
> 赞同：0
> 
> 时间：2012-08-24T09:30:57.760
> 
> 标签：android, android-listview, android-fragments

我的应用程序中有一个 ListFragment Activity，在其中，我不会覆盖 oncreateview。我想在第一次显示该列表时从 xml 扩展视图。目前我正在尝试在 onActivityCreated 方法上对其进行充气，并使用：

```
LayoutInflater layoutInflater = (LayoutInflater)getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View view=layoutInflater.inflate(R.layout.my_view,null); 
```

这样做的正确方法是什么？

# android - 更改 .org.eclipse.sequoyah 的文件夹位置

> ID：12106687
> 
> 赞同：0
> 
> 时间：2012-08-24T09:30:58.673
> 
> 标签：android, eclipse

我是一名安卓开发者，刚买了一台新电脑。在此我开始将我的用户文件夹移动到另一个驱动器，到目前为止一切正常。

但是现在我遇到了这个问题，当我启动 Motodev 或 eclipse 并打开一个非空的工作区时，我猜 sequoyah 会创建一个名为“.org.eclipse.sequoyah”的文件夹。

我找不到任何可以改变它的地方。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T11:38:55.610

简短的回答是您无法更改文件夹。

问题是 sequoyah 正在使用`org.eclipse.core.runtime.Platform.getUserLocation()`它没有返回环境变量`%USERPROFILE%`，这是 JVM 中的一个错误，大约 6 年没有修复。

# hibernate - 当条目在数据库中或不在数据库中时出现 Hibernate ConstraintViolationException

> ID：12106691
> 
> 赞同：0
> 
> 时间：2012-08-24T09:31:03.317
> 
> 标签：hibernate

我得到一个

```
org.hibernate.exception.ConstraintViolationException: Duplicate entry X for key 'PRIMARY' 
```

造成的

```
Caused by: com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Duplicate entry X for key 'PRIMARY' 
```

我正在做线程工作（有4个线程），逻辑如下：检查数据库中是否有东西（通过主键），如果它得到它并修改对象，否则创建一个新对象。我认为问题在于，当另外两个线程使用同一个对象并且它不在数据库中时，他们都想创建它并且保存会导致违规。令我困惑的是，我已经覆盖了 hashCode 和 equals 方法，当我捕获异常并查询数据库时，JVM 中的对象和数据库中的对象是相等的。这是否意味着不应该发生异常？

更让我困惑的是，有时当我查询数据库时，我会`null`返回。

我尝试创建一个锁，然后对其进行同步，这样如果一个线程正在处理具有相同 id 的对象，那么另一个线程将让第一个线程完成，但这并没有让它变得更好。

我还尝试使用以下代码重新创建场景，但我运行得很好。

```
 public static void main(String[] args) throws Exception {
            ThreadPoolExecutor executionPool = new ThreadPoolExecutor(4, 4, 9999, TimeUnit.HOURS, new LinkedBlockingQueue<Runnable>());
            final Dao dao = new Dao();
            TestIdentity t1 = new TestIdentity(1, "aaa", false);
            dao.saveObject(t1);
            TestIdentity t2 = new TestIdentity(1, "aaa", true);
            dao.saveObject(t2);
            dao.saveObject(t1);
            dao.saveObject(t2);
            final Wrapper w1 = new Wrapper(t1);
            final Wrapper w2 = new Wrapper(t2); 
            Runnable runnable1 = new Runnable() {
                public void run() {
                    while(true) {
                        w1.work(dao);
                    }
                }
            };

            Runnable runnable2 = new Runnable() {
                public void run() {
                    while(true) {
                        w2.work(dao);
                    }
                }
            };

            executionPool.submit(runnable1);
            executionPool.submit(runnable2);
        }
private static class Wrapper {
        TestIdentity t;

        public Wrapper(TestIdentity t) {
            this.t = t;
        }
        public void work(Dao dao) {

            TestIdentity t2 = new TestIdentity(t.getId(), t.getField(), t.isBit());

            dao.saveObject(t2);
            t.setBit(true);
            dao.saveObject(t2);
            t.setBit(false);
        }
    } 
```

哪个使用类

```
@Entity
@Table(name="cycling_scraped.test_identity")
public class TestIdentity {
    int id;
    String field;
    boolean bit;
    public TestIdentity() {
        super();
    }
    public TestIdentity(int id, String field, boolean bit) {
        super();
        this.id = id;
        this.field = field;
        this.bit = bit;
    }
    @Id
    @Column(name="pk_id")
    public int getId() {
        return id;
    }
    public void setId(int id) {
        this.id = id;
    }
    @Column(name="field")
    public String getField() {
        return field;
    }
    public void setField(String field) {
        this.field = field;
    }
    @Column(name="bit")
    public boolean isBit() {
        return bit;
    }
    public void setBit(boolean bit) {
        this.bit = bit;
    }
    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        result = prime * result + (bit ? 1231 : 1237);
        result = prime * result + ((field == null) ? 0 : field.hashCode());
        result = prime * result + id;
        return result;
    }
    @Override
    public boolean equals(Object obj) {
        if (this == obj)
            return true;
        if (obj == null)
            return false;
        if (getClass() != obj.getClass())
            return false;
        TestIdentity other = (TestIdentity) obj;
        if (bit != other.bit)
            return false;
        if (field == null) {
            if (other.field != null)
                return false;
        } else if (!field.equals(other.field))
            return false;
        if (id != other.id)
            return false;
        return true;
    }
    @Override
    public String toString() {
        return "TestIdentity [id=" + id + ", field=" + field + ", bit=" + bit
                + "]";
    }

} 
```

和表

```
CREATE TABLE test_database.test_identity (
    pk_id INT NOT NULL PRIMARY KEY,
    field VARCHAR(100),
    bit BIT
); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T13:14:16.500

我在您的代码中看不到任何同步块/方法。

没有任何东西被锁定以进行同步访问。

引发 db 异常是因为您似乎无法在不指定主键或不执行 PK 自动递增字段的情况下添加记录。完成后，您可以在 ID 上添加 @GeneratedValue。

# html - Google Map API 问题，寻求支持

> ID：12106692
> 
> 赞同：1
> 
> 时间：2012-08-24T09:31:16.507
> 
> 标签：html, google-maps

我用谷歌地图写了一段代码来实现定位和GPS功能。但是导航路线总是显示不出来，不知道哪里错了？寻求帮助。谁能帮助我？谢谢！

javascript代码

```
<script type="text/javascript">  

$( "#map-page" ).live( "pageinit", function() {  

    var directionsDisplay;  
    var directionsService = new google.maps.DirectionsService();  
    var map;  
    var salon = new google.maps.LatLng(22.981666,120.194301);  
    var defaultLatLng = new google.maps.LatLng(22.983587,120.22599);  // Default to Hollywood, CA when no geolocation support  

    if ( navigator.geolocation ) {  
        function success(pos) {  
            // Location found, show map with these coordinates  
            drawMap(new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude));  
            calcRoute(new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude));      
        }  

        function fail(error) {  
            console.log(error);  
            drawMap(defaultLatLng);  // Failed to find location, show default map  
        }  

        // Find the users current position.  Cache the location for 5 minutes, timeout after 6 seconds  
        navigator.geolocation.getCurrentPosition(success, fail, {maximumAge: 500000, enableHighAccuracy:true, timeout: 6000});  
    } else {  
        drawMap(defaultLatLng);  // No geolocation support, show default map      
    }  

    function drawMap(latlng) {  

        directionsDisplay = new google.maps.DirectionsRenderer();  

        var myOptions = {  
            zoom: 10,  
            center: latlng,  
            mapTypeId: google.maps.MapTypeId.ROADMAP  

        };  

        map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);  
        directionsDisplay.setMap(map);  
        // Add an overlay to the map of current lat/lng  

        var marker = new google.maps.Marker({  
            position: latlng,  
            map: map,  
            title: "Greetings!"  
        });  

        var marker = new google.maps.Marker({  
            position:new google.maps.LatLng(22.981666,120.194301),  
            map:map,  
            title:"the salon"  
        });  
    }  

    function calcRoute(latlng) {  
    var start = latlng;  
    var end = new google.maps.LatLng(22.981666,120.194301);  
    var request = {  
        origin:start,  
        destination:end,  
        travelMode: google.maps.TravelMode.DRIVING  
    };  
    directionsService.route(request, function(response, status) {  
        if (status == google.maps.DirectionsStatus.OK) {  
        directionsDisplay.setDirections(response);  
    }  
  });  
}  

});  

    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T01:43:14.827

我发现这段代码是错误的

```
 if ( navigator.geolocation ) {    
    function success(pos) {    
        // Location found, show map with these coordinates    
        drawMap(new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude));    
        calcRoute(new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude));        
    }    

    function fail(error) {    
        console.log(error);    
        drawMap(defaultLatLng);  // Failed to find location, show default map    
    }    

    // Find the users current position.  Cache the location for 5 minutes, timeout after 6 seconds    
    navigator.geolocation.getCurrentPosition(success, fail, {maximumAge: 500000, enableHighAccuracy:true, timeout: 6000});    
} else {    
    drawMap(defaultLatLng);  // No geolocation support, show default map        
} 
```

我直接

```
// Location found, show map with these coordinates    
drawMap(defaultLatLng);  
calcRoute(defaultLatLng); 
```

# c - 如何在 C 预处理器宏中使用 #？

> ID：12106697
> 
> 赞同：2
> 
> 时间：2012-08-24T09:31:37.340
> 
> 标签：c, c-preprocessor

我正在尝试在宏中使用预处理器指令？这可以/如何实现？

```
#define     HTTP_REQUEST_RETURN_ERROR(error)    *errCode = error;
                                                 #ifdef DEBUG
                                                        LeaveCriticalSection(&debugOutputLock);
                                                 #endif
                                                 return NULL 
```

在此先感谢，乔里。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-24T09:48:50.080

当然，您也可以使用不同的定义两次定义宏：

```
#if defined DEBUG
#define HTTP_REQUEST_RETURN_ERROR(error) do { *errCode = error;\
                                          LeaveCriticalSection(&debugOutputLock);\
                                          return NULL;\
                                         } while(0)
#else
#define HTTP_REQUEST_RETURN_ERROR(error) do { *errCode = error;\
                                           return NULL;\
                                         } while(0)
#endif 
```

`if`这可以确保避免[xdazz](https://stackoverflow.com/a/12106784/28169)使用的（可优化的）运行时。它还将宏体包装在典型的`do ... while`中，使其看起来像一个语句。

**更新**：为了澄清，C 中的多语句宏通常被包装在一个`do ... while(0)`循环中（在宏定义中），因为这会使整个文本变成一个语句。这使得宏的使用可以很好地与范围和分号一起使用。

例如，考虑一下：

```
if(httpRequestFailed())
  HTTP_REQUEST_RETURN_ERROR(404);
else
  processResults(); 
```

如果没有，上述将是一个语法错误，因为在和`do ... while(0)`之间会有多个语句。只是在宏扩展中添加大括号不是很干净，因为像上面这样理想的类似语句的用法会导致扩展`if``else`

```
if(httpRequestFailed())
  { ... /* code omitted */ }; 
```

这不是很干净，代码范围后面的大括号通常不跟分号。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-24T09:32:59.670

您不能将预处理器指令嵌套在`#define`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:36:19.047

定义`DEBUG`然后使用正常的 if 语句。

```
#define DEBUG 0

#define HTTP_REQUEST_RETURN_ERROR(error)  *errCode = error;
                                          if (DEBUG) LeaveCriticalSection(&debugOutputLock);
                                          return NULL 
```

# java - 从 Outlook 检索电子邮件附件

> ID：12106698
> 
> 赞同：2
> 
> 时间：2012-08-24T09:31:43.880
> 
> 标签：java, outlook

我有一个要求，当我向我的客户发送一些电子邮件时事通讯并且我从 Outlook 发送电子邮件时，我收到了更多退回的电子邮件。退回的电子邮件来自“邮件传递子系统”，并且有一些附件。在那个附件中，有我的原始邮件。我想通过 java 提取原始电子邮件。我想知道任何可行的解决方案

非常感谢这方面的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T12:41:40.567

对于**Exchange Server 2007+**，您可以使用 Microsoft [Java EWS API](http://archive.msdn.microsoft.com/ewsjavaapi)或[直接与 EWS](http://msdn.microsoft.com/en-us/library/exchange/dd877045%28v=exchg.140%29.aspx)对话。请参阅[相关的 SO 帖子](https://stackoverflow.com/q/6585994/175679)。

您必须使用 .NET 通过[VSTO](http://msdn.microsoft.com/en-us/office/hh133430.aspx)直接与 Outlook 集成。

# iphone - 如何阅读此 iphone 应用程序崩溃日志

> ID：12106709
> 
> 赞同：1
> 
> 时间：2012-08-24T09:32:21.697
> 
> 标签：iphone, objective-c, debugging, crash-reports

当我单击弹出视图控制器的按钮时，我的应用程序（名为 MyLittleApplication）随机崩溃。我可以在崩溃日志中使用一些帮助（找出我应该从哪里开始寻找）：

```
Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0x600332e0
Crashed Thread:  0

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   libobjc.A.dylib                 0x351faf78 objc_msgSend + 16
1   Foundation                      0x37d0a74c NSKVOPendingNotificationCreate + 216
2   Foundation                      0x37d0a652 NSKeyValuePushPendingNotificationPerThread + 62
3   Foundation                      0x37cfc744 NSKeyValueWillChange + 408
4   Foundation                      0x37cd3848-[NSObject(NSKeyValueObserverNotification) willChangeValueForKey:] + 176
5   Foundation                      0x37d55a14 _NSSetPointValueAndNotify + 76
6   UIKit                           0x311f825a -[UIScrollView(Static) _adjustContentOffsetIfNecessary] + 1890
7   UIKit                           0x31215a54 -[UIScrollView setFrame:] + 548
8   UIKit                           0x31215802 -[UITableView setFrame:] + 182
9   POViO                           0x000fcac8 0xf8000 + 19144
10  UIKit                           0x31211b8e -[UIViewController _setViewAppearState:isAnimating:] + 138
11  UIKit                           0x3126b8a8 -[UIViewController beginAppearanceTransition:animated:] + 184
12  UIKit                           0x3121490c -[UINavigationController _startTransition:fromViewController:toViewController:] + 832
13  UIKit                           0x312144fc -[UINavigationController _startDeferredTransitionIfNeeded] + 244
14  UIKit                           0x3125e8e4 _popViewControllerNormal + 184
15  UIKit                           0x3125e712 -[UINavigationController _popViewControllerWithTransition:allowPoppingLast:] + 386
16  UIKit                           0x31242bba -[UINavigationController popToViewController:transition:] + 626
17  POViO                           0x001074e6 0xf8000 + 62694
18  CoreFoundation                  0x374553f6 -[NSObject performSelector:withObject:withObject:] + 46
19  UIKit                           0x311eae00 -[UIApplication sendAction:to:from:forEvent:] + 56
20  UIKit                           0x311eadbc -[UIApplication sendAction:toTarget:fromSender:forEvent:] + 24
21  UIKit                           0x311ead9a -[UIControl sendAction:to:forEvent:] + 38
22  UIKit                           0x311eab0a -[UIControl(Internal) _sendActionsForEvents:withEvent:] + 486
23  UIKit                           0x311eb442 -[UIControl touchesEnded:withEvent:] + 470
24  UIKit                           0x311e9924 -[UIWindow _sendTouchesForEvent:] + 312
25  UIKit                           0x311e9312 -[UIWindow sendEvent:] + 374
26  UIKit                           0x311cf68e -[UIApplication sendEvent:] + 350
27  UIKit                           0x311cef34 _UIApplicationHandleEvent + 5820
28  GraphicsServices                0x33c11224 PurpleEventCallback + 876
29  CoreFoundation                  0x374cf51c __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 32
30  CoreFoundation                  0x374cf4be __CFRunLoopDoSource1 + 134
31  CoreFoundation                  0x374ce30c __CFRunLoopRun + 1364
32  CoreFoundation                  0x3745149e CFRunLoopRunSpecific + 294
33  CoreFoundation                  0x37451366 CFRunLoopRunInMode + 98
34  GraphicsServices                0x33c10432 GSEventRunModal + 130
35  UIKit                           0x311fdcce UIApplicationMain + 1074
36  MyLittleApplication                 0x000f90ae 0xf8000 + 4270
37  MyLittleApplication                 0x000f9048 0xf8000 + 4168 
```

我怀疑它与`UIDeviceOrientationDidChangeNotifications`我使用的 notificationCenter 有关。这是真的还是我看错了方向？
我打电话

```
[notificationCenter removeObserver:self name:UIDeviceOrientationDidChangeNotification object:nil] 
```

在`viewDidUnload`，这应该足够了吗？

你能告诉我应该开始寻找什么错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:37:07.267

这是一个堆栈跟踪，您可以看到崩溃发生时调用的方法堆栈。您从底部开始，一直到顶部并从您的应用程序中搜索方法调用（堆栈跟踪也包括来自框架的调用（例如`-[UIScrollView(Static) _adjustContentOffsetIfNecessary]`））。
来自您的应用程序的最顶层方法调用可能是您的错误的原因，您可以看到系统随后尝试了什么。

在您的情况下，您似乎调用`popToViewController`并且 iOS 框架尝试为从一个`UIViewController`到下一个的过渡设置动画。表格视图设置其框架并滚动到 contentOffset 似乎存在问题。

这很可能是由内存错误引起的。`Exception Type: EXC_BAD_ACCESS (SIGSEGV)`
你通过检查EXC_BAD_ACCESS 得到这个提示很可能是一个提示，你试图访问一个不在内存中的东西 -> 已经释放。

一般来说，我建议在 Xcode 中激活 exveption 断点：你设置了异常断点吗？

*   到断点编辑器窗格
*   点击左下角的 x
*   选择添加异常断点

现在，如果发生异常，您应该会看到堆栈跟踪。Xcode 应该在崩溃发生的那一行。

您应该熟悉的第二件事是 Instruments 中的僵尸模式。[你可以在这个视频](https://www.youtube.com/watch?v=LQtPr8bkB3g)
中找到僵尸模式的一个很好的介绍。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:40:24.380

在你的情况下，你可以看到你有一个`EXC_BAD_ACCESS (SIGSEGV)`. 这意味着您正在尝试访问不在这里的东西，或者至少在这里但不再存在的东西。如果您可以复制错误，请尝试使用 Instruments 的 Zombies 模式，它会告诉您它期望访问的内容。这个问题的解决方案通常是你过早地释放了你仍然需要的资源。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T20:18:40.003

你可能想在方法中抛出一些 NSLog 语句，这样你就可以知道哪里出了问题。有时这些 iOS 消息可能有点神秘。

# android - 从进度对话框隐藏进度微调器，android

> ID：12106712
> 
> 赞同：2
> 
> 时间：2012-08-24T09:32:44.697
> 
> 标签：android, android-widget

有没有办法在运行时隐藏或停止进程对话框中的进度微调器？

我不想隐藏或关闭进程对话框。

```
public void onReceivedError(WebView view, int errorCode, String description, String     failingUrl) {
    //progressBar.setProgressStyle(some_style);
    progressBar.setMessage("Unable to connect");                                                  
    iferror=true;      
    super.onReceivedError(view, errorCode, description, failingUrl);
} 
```

![在此处输入图像描述](../Images/254483afacf1fe902de6b8cba8b7e405.png)

找不到可以做到这一点的风格。

# objective-c - 计算浮点值的错误objective-c

> ID：12106714
> 
> 赞同：0
> 
> 时间：2012-08-24T09:32:52.560
> 
> 标签：objective-c, ios5

有谁知道计算浮点值的错误（在我的情况下，货币值从文本转换为浮点数）。我一直在模拟器上测试它，所有计算值都是正确的。然后在 iphone 设备本身上进行测试，每个值显示 0.59 以上。在 iPad 设备上，我在每个值上只增加了 0.15。

这是我的代码

```
- (void)viewDidLoad
{
    [super viewDidLoad];

// current account balance from Coredata Dataset
if (!self.FSDataSet.konto || [self.FSDataSet.konto isEqualToString:@""]) {
    self.txtKontostand.text = @"Nicht möglich!";
} else {
    // fetch request for current changes of currency values
    NSFetchRequest *fetchRequestFahrschueler = [NSFetchRequest fetchRequestWithEntityName:NSStringFromClass([FSKontoUnterTab class])];
    NSPredicate *predicateKundenNr = [NSPredicate predicateWithFormat:@"kundennr == %@", self.FSDataSet.kundennr];
    fetchRequestFahrschueler.predicate = predicateKundenNr;

    // put datasets in array
    NSArray *ergebnisFahrschueler= [[[CoreDataHelper sharedInstance] managedObjectContext] executeFetchRequest:fetchRequestFahrschueler error:nil];

    // variables to calculate the new account balance
    CGFloat soll;
    CGFloat haben;
    CGFloat konto;

    // account balance string converting to a flot value
    // comma replace with point
    NSString *kontostand = [self.FSDataSet.konto stringByReplacingOccurrencesOfString:@"," withString:@"."];
    CGFloat testKonto = kontostand.floatValue;

    // NSArray Iterator workaround
    // loop array and assign current dataset from entity (the managed object class)

    for (NSInteger i = 0; i < [ergebnisFahrschueler count]; i++) {
        FSKontoUnterTab *myset = [ergebnisFahrschueler objectAtIndex:i];

        CGFloat gesamtpreis = [myset.preis stringByReplacingOccurrencesOfString:@"," withString:@"."].floatValue;

        // positive currency values
        CGFloat aktHaben = [myset.bar stringByReplacingOccurrencesOfString:@"," withString:@"."].floatValue;
// calculate

        soll = soll + gesamtpreis;
        haben = haben +aktHaben;

    }
    //konto = soll-haben;
    konto = (testKonto - soll)+haben;

    // convert back to string and display in textfield
    self.txtKontostand.text = [[NSString stringWithFormat:@"%.2f", konto] stringByReplacingOccurrencesOfString:@"." withString:@","];
} 
```

# c - POSIX 数据类型的格式说明符

> ID：12106719
> 
> 赞同：1
> 
> 时间：2012-08-24T09:33:11.013
> 
> 标签：c, gcc, posix

我想知道 POSIX 数据类型的格式说明符是什么。我想使用 printf() 打印它。

```
 uint32_t some_long = 10;
   uint16_t some_short = 20; 
```

对于以下数据类型，请告诉我格式说明符

```
int8_t,uint8_t,int16_t  
uint16_t,int32_t,uint32_t   
sa_family_t,socklen_t
in_addr_t,in_port_t 
u_char,u_short  
u_int,u_long 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:36:15.240

使用类似的东西：

```
printf("%"PRIu32, some_long); 
```

同样，您可以使用`PRIu8`,`PRId16`等`PRIu64`。此外，这些不是 POSIX 特定的，它们是标准的。

`sa_family_t`您需要为您提到的其他类型（如）制作自己的打印例程。

# html - HTML+CSS 中的时间线示例，如 Facebook 的时间线

> ID：12106720
> 
> 赞同：2
> 
> 时间：2012-08-24T09:33:11.847
> 
> 标签：html, css, facebook

我正在尝试创建一个类似于 Facebook 时间线的时间线，即我想要一个具有两列的时间线，我可以在其中将元素放置在左侧和右侧。

为此，我从以下代码开始，但它没有按预期工作：

```
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
  </head>
  <body>
    <ul>
      <li>Test 123</li>
      <li style="float:left">Foobar</li>
      <li>Another test</li>
    </ul> /*This line was missing*/
  </body>
</html> 
```

中间的元素不显示在左侧，最后一个元素浮动到中间的元素。

有人知道如何创建类似于 Facebook 的时间线吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T11:20:28.497

对我来说似乎是一个非常直接的解决方案！把它推到你的编辑器里。更多帮助只是问

```
<html>
<head>
    <title></title>
</head>

<style>
body {
    margin:0px;
}
.wrap {
    width:600px;
    height:100%px;
    background:grey;
    margin:auto;
}
.left{
    margin-left:0px;
    width:290px;
    height:200;
    background-color:blue;
}
.right {
    margin-left:310px;
    width:290px;
    height:200;
    background-color:red;
}
</style>

<body>

<div class="wrap">

    <div class="left"></div>
    <div class="right"></div>
    <div class="left"></div>
    <div class="right"></div>

</div>

</body>
</html> 
```

如果您想对其进行样式设置，只需学习如何制作 css 形状

```
.right {
   width: 290px; 
   height: 300px; 
   margin-left:315px;
   background: purple;
   -moz-border-radius: 2px; 
   -webkit-border-radius: 2px; 
   border-radius: 2px;
}
.right:before {
   content:"";
   position: absolute;
   width: 0;
   height: 0;
   border-top: 7px solid transparent;
   border-right: 10px solid purple;
   border-bottom: 7px solid transparent;
   margin: 13px 0 0 -10px;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T10:28:24.893

facebook 设计师使用以下策略：

```
<ol>
   <li class="twoCol" data-side="l|r">
          your box
      <i></i>
   </li>
</ol> 
```

看起来像

```
LI {
    display: block;
    margin-bottom: 15px;
    position: relative;
    z-index: 2; 
}

 LI[data-side="l"] {
    clear: left;
    float: left; 
}

LI[data-side="r"] {
    clear: right;
    float: right; 
}

.twoCol[data-side="l"] I {
     background-image: url("...");
     background-position: -790px -4px;
}
.twoCol[data-side="r"] I {
    background-image: url("...");
    background-position: -770px -4px;
}

.twoCol I {
    background-repeat: no-repeat;
    background-size: auto auto;
    left: auto;
    right: -18px; 
}

I {
    height: 15px;
    left: -18px;
    position: absolute;
    top: 20px;
    width: 19px;
    z-index: 3; 
}

.twoCol[data-side="l"] + .twoCol[data-side="r"] > I, 
.twoCol[data-side="r"] + .twoCol[data-side="l"] > I {
    top: 40px; 
} 
```

[我在这里](http://www.portablehtml.com/2012/09/how-to-build-facebook-timeline-with.html)解释了它是如何工作的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T10:27:23.993

有一个用于创建 timline 的 Javascript 工具，请查看[http://timeline.verite.co/](http://timeline.verite.co/)

# google-apps-script - GAS：在函数中使用全局变量的问题

> ID：12106723
> 
> 赞同：1
> 
> 时间：2012-08-24T09:33:15.207
> 
> 标签：google-apps-script

我尝试在我的函数中使用全局变量，见下文。我可以在我的 func1 中使用全局变量来存储一个值，例如。77，好的。在 func2 中，我尝试使用存储在全局变量中的当前值，但结果未定义。

任何建议如何让这个工作？

```
doGet() {
    ...
    var buttonValue;
    ...

func1(e,buttonValue) {
    ...
    buttonValue = size;
    throw buttonValue;
    --> buttonValue ok!
    ...
}

func2(e,buttonValue) {
    ...
    throw buttonValue;
    --> buttonValue undefined!
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:04:25.690

你不能这样做。全局变量的值不能在处理函数等中更改。使用[CacheService](https://developers.google.com/apps-script/class_cacheservice)存储具有全局范围的值

这是一个代码示例：

```
function func1(){
  CacheService.getPrivateCache().put('var_name', 'var_value');
}

function func2(){
  var var_value = CacheService.getPrivateCache().get('var_name');
} 
```

# mysql - MySQL，复制表文件会导致“错误 1017（HY000）：找不到文件：”即使它在那里

> ID：12106727
> 
> 赞同：13
> 
> 时间：2012-08-24T09:33:16.360
> 
> 标签：mysql

我想将数据库表从我的生产服务器复制到本地测试机器，以便我可以执行测试 om（副本）真实数据。

我停止了mysql并删除了所有的frm、MYD和MYI文件。在此处启动 mysql 并查询显示表会给出一个空的结果集。然后我关闭了mysql并从服务器复制了所有的frm、MYD和MYI文件。启动 mysql 时“显示表”按预期显示表但尝试查询它们我收到错误消息

> 错误 1017 (HY000): 找不到文件: './WhateverTableIQuery.frm' (errno: 13)

但是 WhatTableIQuery.frm 文件在光盘上，并且与服务器上的文件相同。

关于可能是什么问题的任何想法？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-08-24T11:21:03.853

我建议尝试两件事：

**1.检查权限**

确保您的 MySQL 数据目录及其中的所有文件都归 mysql 用户和 mysql 组所有。如果您以 root 用户身份将文件复制到本地测试机器上，则情况可能并非如此：

```
chown -R mysql:mysql your-mysql-data-dir-here 
```

**2.修复损坏的表**

使用[mysqlcheck](http://dev.mysql.com/doc/refman/5.5/en/mysqlcheck.html)检查损坏的表并修复它们，如果它发现任何：

```
mysqlcheck -u root -p --auto-repair --all-databases 
```

如果在那之后你仍然不能使用这些表，那就试试 mysqldump 吧！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-27T04:47:17.223

在使用 frm 和 MYD 文件恢复 MySQL 数据库后，我遇到了同样的问题。花了几个小时后，我观察到我已将数据库目录配置为仅对 mysql 用户具有读写权限但没有执行权限。给数据库目录添加执行权限后，问题就解决了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-08T19:12:12.927

几分钟前我确实遇到了同样的问题，我花了几分钟才意识到我没有足够的权限来访问我想要导入的 .sql 文件。

为了摆脱这个问题，你可以将文件移动到你知道你可以访问的地方（与你当前的用户一起）。（例如~/Home_directory）。

我希望我能帮助一些像我一样在寻找答案的孤独灵魂。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-05T03:03:22.423

我有同样的问题并这样做了......

*   删除迁移文件夹
*   删除 _migrationhistory 表
*   启用、添加和更新迁移

我确信有更好的方法来解决这个问题，但是它对我有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-11-24T21:20:23.083

我更改了 mysql-data-directory 以及`<table>.frm`文件的权限。
如果以 root 用户身份使用：

*   chmod 600 mysql 数据目录 chmod 600
*   mysql-数据目录/tableOfData.frm

如果以非 root 用户身份使用：

*   chmod 660 mysql 数据目录
*   chmod 660 mysql-数据目录/tableOfData.frm

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-02-26T09:19:57.353

如果表不存在，此错误“一般错误：1017 找不到文件”也发生在带有 WAMP 的 Windows 上。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-04-13T11:16:04.277

尝试以下操作：

*   修复整个数据库
*   将权限更改为 mysql:mysql
*   重启mysql服务

其中之一将起作用。

# jquery - Jquery：找到一个表格行，淡出然后淡入

> ID：12106729
> 
> 赞同：1
> 
> 时间：2012-08-24T09:33:26.703
> 
> 标签：jquery

```
function fncFadeRowIntoTable(pTable,pColumn,pValue, pHtml) {
// Add a row to a table in the correct place, by comparing the contents of the column passed (starts 0).
// This assumes that the table is already sorted
var counter = 0; // so we know when we've reached the end
//
pValue = rtrim(pValue);

$('#'+pTable).find('tbody tr').each(function() {
    counter++;
    if (rtrim($(this).find('td:eq('+pColumn+')').attr('id')) == pValue) { 
    //  Have we found a cell equal to the the value passed. If so, then remove the row and replace
        var $wsRow = $(pHtml);
        $wsRow.hide();
        $(this).fadeOut(1000,function() { 
            $wsRow.insertAfter($(this)).hide();
            $(this).remove();
            $wsRow.fadeIn(1000).css('display', 'table-row');
        });
        return false; // break out of each() since we're done
    }
    if (rtrim($(this).find('td:eq('+pColumn+')').attr('id')) >= pValue) { 
    //  Have we found a cell greater than the value passed
        var $wsRow = $(pHtml);
        $wsRow.hide();
        $(this).before($wsRow);
        $wsRow.fadeIn(1000).css('display', 'table-row');
        return false; // break out of each() since we're done
    }
    // Handle case where we've reached the end, but we're still in the loop.
    // This means the new row is alphabetically last, so insert after
    if ($(this).closest('#'+pTable).find('tbody tr').length === counter ) {
        var $wsRow = $(pHtml);
        $wsRow.hide();
        $(this).after($wsRow);
        $wsRow.fadeIn(1000).css('display', 'table-row');
    }
});
// Handle empty table;
if ($('#'+pTable).find('tbody tr').size() == 0) {
        var $wsRow = $(pHtml);
        $wsRow.hide();
        $wsRow.appendTo('#'+pTable+' tbody');
        $wsRow.fadeIn(1000).css('display', 'table-row');
}
} 
```

我有一个函数，用于根据匹配单元格的内容来更新表中的行。它将插入新行或更新现有行。

上面的部分替换了匹配的行。我想要实现的是先淡出现有行，然后淡入新行。

我得到的是新行立即可见，然后旧行淡出。.hide() 似乎没有效果，但是，我知道 .hide() 在我插入一行时正在工作。

我已经将 .hide() 单独尝试为 $wsRow.hide(); 也如： $wsRow.insertAfter($(this)).hide(); 或如上所示，在这两个地方。

任何想法我做错了什么请。

注意：
**pHtml 是一个完整的行；即“tr.../tr”数据。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T11:32:51.953

您的代码在 Chrome 和 IE8 中适用于我，现有行淡出然后新行淡入 - [http://jsfiddle.net/x3JYz/1/](http://jsfiddle.net/x3JYz/1/)。

您是否有任何其他可能干扰的代码？

# php - AS3 到 PHP 到 Mysql

> ID：12106735
> 
> 赞同：0
> 
> 时间：2012-08-24T09:33:37.790
> 
> 标签：php, mysql, actionscript-3, actionscript

我需要一点帮助，通过 PHP 和 AS3 从 mysql 获取数据。

我已经更改了几次代码

此处为 AS3 代码

```
function requestData():void {

var variables:URLVariables = new URLVariables();
var varSend:URLRequest = new URLRequest("http://www.bestlincs.co.uk/forum/iphone.php");
varSend.method = URLRequestMethod.POST;
varSend.data as String;

urlLoader.dataFormat = URLLoaderDataFormat.TEXT;
urlLoader.addEventListener(Event.COMPLETE, completeHandler);

    function completeHandler(evt:Event):void{
        var urlLoader:URLLoader = evt.target as URLLoader;
        var resultData:String = urlLoader.data as String;

        if (resultData == "") {
            output_txt.text = "No data coming through";
        } else {
            output_txt.condenseWhite = true;
            output_txt.htmlText = "" + resultData;
        }
    }

urlLoader.load(varSend);

}
requestData();
stop(); 
```

PHP 代码在这里

```
<?

include "../lib/forumconnect.php";

$query = mysql_query("SELECT * FROM posts WHERE post_owner='0'");
$body="";

while($row = mysql_fetch_array($query))
{
    $body.=$row['post_body']."<br>";    
}

echo "returnBody=".strip_tags($body);
echo "returnBody=".strip_tags($body);

mysql_close();
exit();

?> 
```

现在我得到了错误

场景 1，图层“图层 1”，第 1 帧，第 9 行 1120：访问未定义的属性事件。场景 1，图层“图层 1”，第 1 帧，第 26 行 1120：访问未定义的属性 varLoader。

请任何人都可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:41:46.920

错误消息说明了一切。

`returnBody`中没有调用属性`event.target.data`。

你应该看看这个

```
var urlLoader:URLLoader = event.target as URLLoader;
var resultData:String = urlLoader.data as String; 
```

所以你的函数变成了这样：

```
function completeHandler(evt:Event):void{
    var urlLoader:URLLoader = evt.target as URLLoader;
    var resultData:String = urlLoader.data as String;
    if (resultData == "") {
        output_txt.text = "No data coming through";
    } else {
        output_txt.condenseWhite = true;
        output_txt.htmlText = "" + resultData;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:39:37.657

使用“&”允许 Flash 播放器获取变量。

```
echo "&returnBody=".strip_tags($body); 
```

编辑（示例）：

```
 public static var l:URLLoader = new URLLoader;
        public static var vars:URLVariables = new URLVariables();
        public static var req:URLRequest;

        public static function $req() {
            req = new URLRequest("sitelink");
            l.dataFormat = URLLoaderDataFormat.TEXT;
            l.addEventListener(Event.COMPLETE, $req_done);
            vars.someVar = "value";
            req.method = URLRequestMethod.POST;
            req.data = vars;
            l.load(req);
        }
        private static function $req_done(e:Event) {
            l.removeEventListener(Event.COMPLETE, $req_done);
            var $g:* = l.data;
            trace($g);
        } 
```

# oop - 设计模式 - 文件生成和选项

> ID：12106736
> 
> 赞同：0
> 
> 时间：2012-08-24T09:33:40.110
> 
> 标签：oop, design-patterns

我有一个生成文本文件的类。

这是一个非常简单的类，具有以下方法：

创建文件，打开文件关闭文件保存文件写入文件等

在将文本写入文件时，我会使用一些选项，例如字体大小、颜色和最大字数。

这些选项被传递给构造函数。

我应该把这个类分成两个单独的类：

文件制作者文件制作者选项

并使用 fileMakerOptions 对象负责文本大小等并传递给 fileMaker 的构造函数？

或者最好让文件制作器封装与制作文件相关的所有内容，包括样式选项

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:39:44.130

如果你的课很简单。如果只有几个选项。那么不，你不应该创建新类。过度重构是非常糟糕的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:56:58.840

就您要处理的选项数量而言，您应该提供有关您的主要类职责的更多信息。无论如何-创建新的附加实例的一般想法是从您的主要“类”责任中删除处理责任的选项。

对我来说，我决定，如果选项数量大于 4-5 - 然后我创建单独的选项实体。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T10:25:30.160

我只在现有类变得太难或获取太多函数属性时或当我事先知道它将被扩展很多时才拆分类。

在您的情况下，这取决于功能/属性的复杂性和数量。

# jsp - “无法解析为类型” TOMCAT - JSP

> ID：12106745
> 
> 赞同：1
> 
> 时间：2012-08-24T09:34:19.620
> 
> 标签：jsp, tomcat, web-applications

我已经使用 JSP 和 Tomcat 服务器构建了一个 Web 应用程序。它在本地主机上工作得很好。然后我将它部署在另一台服务器上，当尝试运行它时，我收到以下错误消息。

```
 org.apache.jasper.JasperException: Unable to compile class for JSP: 

An error occurred at line: 221 in the jsp file: /index.jsp
"SearchFiles" cannot be resolved to a type 
```

位于子文件夹中的每个类都会发生这种情况。正如我在互联网上搜索的那样，这是一个常见的错误，但我还没有找到任何解决方案。

不得不提的是，本地Tomcat的版本是7，而远程服务器的版本是6，这可能是问题的原因。事实是我没有更新它的权利。

我也尝试过对tomcat的server.xml和ROOT.xml文件做一些修改，但效果不佳。

请提供一些帮助，这是我完成论文所需的最后一件事！

# java - 为什么 return 不退出 Java 中的函数？

> ID：12106746
> 
> 赞同：-2
> 
> 时间：2012-08-24T09:34:28.980
> 
> 标签：java, function, conditional-statements

我在 Java 中遇到了这个函数的问题。我不明白为什么`lastNodeAttributes==null`真正的执行何时会跳转到`return null;`应有的位置，但是在那之后，它不是从函数返回，而是直接跳转到`return fight...;`最后。为什么第一个返回不退出但执行跳转到第二个条件部分返回？这怎么可能？请解释原因显然我不明白java的基础知识是如何工作的。

```
public Node undo() {
    Node lastNode=fight.getLastChild();
    NamedNodeMap lastNodeAttributes = lastNode.getAttributes();
    if(lastNodeAttributes == null) { return null; }
    else { 
        String lastNodeFighter = lastNodeAttributes.getNamedItem("fighter")
                                 .getNodeValue();
        String lastNodePoints = lastNodeAttributes.getNamedItem("points")
                                .getNodeValue();
        if(Integer.parseInt(lastNodeFighter) == 1) {
            fighter1score-=Integer.parseInt(lastNodePoints);    
        }
        else { fighter2score -= Integer.parseInt(lastNodePoints); }
        return fight.removeChild(fight.getLastChild());
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:54:01.927

首先开始调试您的应用程序。一个很好的调试教程可以在这里找到：[http ://www.vogella.com/articles/EclipseDebugging/article.html](http://www.vogella.com/articles/EclipseDebugging/article.html)

验证 lastNodeAttributes 是否真的为空。还要检查，如果该方法执行了两次，在第一种情况下 lastNodeAttributes 为空，而在第二种情况下则不是。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:57:16.057

你描述的是不可能的。return 语句确实总是返回所声明的内容。*为什么您可能会在调试器中*看到此行为，有几种可能性

 **   您不是在调试您认为正在调试的代码。调试器可能正在加载与您想象的不同的类。尝试清理并重新编译您的代码并再次调试它。
*   代码在发布模式下编译，并切换了您的语句。在发布模式下使用优化代码进行调试有时会导致调试器关闭，从而使错误语句显示为在调试器中执行的语句比实际执行的语句多。您确定您正在调试的代码未优化。
*   如果您不仔细考虑，线程问题也会导致奇怪的跳转。如果您在 return 语句和多个线程运行中都有断点，那么一个线程可能会遇到第一个 return，然后另一个线程可能会遇到第二个 return。没错，这就是调试多线程应用程序的工作方式。

检查实际返回值也将确认确实只`return`执行了一条语句。通过在调用者而不是被调用者处放置断点来做到这一点

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-24T10:33:22.433

Return does exit the method. check that you're using the latest compiled class. Try to do a clean build. Start debugging from the first line making sure that you're not running the same method twice. In case of doubt, add a system.out in the beginning of your class to make sure you're checking the right class version*

# html - 当我从浏览器缩小时，我的网站布局完全移动到浏览器屏幕的左上角？

> ID：12106752
> 
> 赞同：3
> 
> 时间：2012-03-06T17:58:58.200
> 
> 标签：html, css, browser, layout

当我从浏览器缩小时，我的网站布局完全移动到浏览器屏幕的左上角？

当我检查一些网站时，比如 yahoo.com 并从浏览器中缩小。它停留在中心。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-23T19:17:06.773

我知道这个问题有点老了，但也许它可以帮助其他人。

## 布局贴在左边

我猜你的布局粘在左边，因为它没有居中。如果要使布局的元素居中，则必须使用以下 css 代码：

```
.my_element{
  margin: 0 auto;
} 
```

这意味着“顶部和底部的像素为 0，左右的像素数量相同”（水平居中）。

但要小心，如果元素没有宽度，则不能使用此“技巧”：

```
.my_element{
  margin: 0 auto;
  width: 300px;
} 
```

这是关于 jsfiddle的[**演示。**](http://jsfiddle.net/jmaylin/UL3uf/)在这个例子中，每个元素都是水平居中的。

但我们可以做得更好。在[**第二个演示**](http://jsfiddle.net/jmaylin/Vhf9x/)中，我们添加了一个包含每个元素的**包装器**，我们只需将其居中即可。

## 布局坚持顶部

如果你不希望你的布局粘在顶部，你只需要在第一个 div 上设置一个**margin-top** ，这是我们示例中的**包装器：**

```
.wrapper{
  margin-top: 20px;
} 
```

请注意，英语不是我的母语，如果您发现一些错误，请告诉我。

# java - 在java中删除字符串末尾的空格

> ID：12106757
> 
> 赞同：11
> 
> 时间：2012-08-24T09:34:55.553
> 
> 标签：java, string, spaces

> **可能重复：**
> [从 Java 字符串中去除前导和尾随空格](https://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string)

当我将数据导入应用程序时，我需要去掉某些字符串末尾的空格，而不是开头的空格，所以我不能使用 trim()... 我设置了一个方法：

```
public static String quitarEspaciosFinal(String cadena) {
    String[] trozos = cadena.split(" ");
    String ultimoTrozo = trozos[trozos.length-1];
    return cadena.substring(0,cadena.lastIndexOf(ultimoTrozo.charAt(ultimoTrozo.length()-1))+1);
    } 
```

其中 cadena 是我必须转换的字符串...

所以，如果 cadena = " 1234 " 这个方法会返回 " 1234" ...

我想知道是否有更有效的方法来做到这一点......

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-24T09:36:55.167

您可以`replaceAll()`在字符串上使用方法，使用正则表达式`\s+$`：

```
return cadena.replaceAll("\\s+$", ""); 
```

如果您只想删除实际空格（不是制表符也不是新行），请用`\\s`正则表达式中的空格替换。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-24T09:42:44.437

```
 String s = "   this has spaces at the beginning and at the end      ";
    String result = s.replaceAll("\\s+$", ""); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-08-24T09:57:38.337

[Apache Commons 库](http://commons.apache.org/lang/)有相应的方法[`stripEnd`](http://commons.apache.org/lang/api-3.1/org/apache/commons/lang3/StringUtils.html#stripEnd%28java.lang.String,%20java.lang.String%29)。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-08-24T09:38:54.613

```
 public static String replaceAtTheEnd(String input){
    input = input.replaceAll("\\s+$", "");
    return input;
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2012-08-24T10:06:35.083

我会这样做：

```
public static String trimEnd(String s)
{
    if ( s == null || s.length() == 0 )
        return s;
    int i = s.length();
    while ( i > 0 &&  Character.isWhitespace(s.charAt(i - 1)) )
        i--;
    if ( i == s.length() )
        return s;
    else
        return s.substring(0, i);
} 
```

It's way more verbose than using a regular expression, but it's likely to be more efficient.

# java - Java 客户端/服务器实现

> ID：12106765
> 
> 赞同：0
> 
> 时间：2012-08-24T09:35:13.883
> 
> 标签：java, client-server

我必须制作一个涉及客户端/服务器架构的大学项目。

应该有一个服务器，客户端可以登录并搜索或保存一些东西。

实现这样的东西的最佳方法是什么？

我认为可以使用 RMI 或 ServerSockets 甚至 WebServices 来完成，但是实现这个项目的最简单方法是什么？

使用 Web Sevrvices 我认为身份验证/会话处理可能会很麻烦，使用 ServerSockets 我已经完成了一些测试，其中我传递了一些自定义序列化对象，但在我看来这不是一个好方法。

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:39:46.647

由于这是一个大学项目，我不会发布解决方案，但会给你一个好的方向。

最基本的方式（对于大学项目来说可能是一件好事，并且为了理解整个事情......）将是服务器在他的主线程中侦听 ServerSocket 上的请求以连接到服务器，然后为每个（正确）请求（您需要以某种方式指定在这种情况下什么是正确的）使用连接到客户端的套接字启动一个新线程。此线程应托管在某种列表中或服务器主线程中的任何内容中...

更新：

因此，如果此服务器为其客户端提供不同的功能，这当然是我们的服务器代码中的方法，您可以指定在新客户端连接时创建的对象（我从现在开始调用这些“ClientServerConnection”，并运行在它自己的线程中）以服务器对象传递给它的方式，因此，如果“ClientServerConnection”之一获得一个请求，他们可以调用服务器对象上的匹配方法并向客户端提供相应的响应...

这里有一些伪代码：

在服务器中：

```
//request for Connection came in 
ClientServerConnection csc = new ClientServerConnection(this, "and everything you need, at least client IP for connecting the socket");
csc.run(); //running in its own thread, of cause ClientServerConnection should extend Thread
connectionList.add(csc); //a list of the connections the Server holds 
```

在客户端服务器连接中：

```
//A request to the use a functionality of the Server come in, in the easiest way you are sending a String, and than trying to match it here
if(recievedString=="doWhatever"){
Server server.doWhatever(); //calling the according method on the Server Object you passed by creation of the ClientServerConnection Object
//now return something to the client, according to whatever the Method did 
}else if(recievedString=="doSomethingElse"){
//same again, according to whatever the now requested method does
}else{
//the client requested something you do not provide, need some sort of handling here
} 
```

希望我做对了，这会有所帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:38:51.963

我认为 RMI 是最简单的解决方案，因为您定义了所有接口并且不必关心用于通信的协议。

您还可以将 Web 服务与 SOAP 一起使用，它也是一个 RPC（远程过程调用）接口。

但是通过使用 Socket 和 ServerSocket，您将学习如何从头开始构建服务器/客户端软件，了解这一点非常重要（因为这是基础知识）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:40:12.937

“容易”是一个主观的东西，取决于你已经有什么经验。如果您有 Java 相关技术方面的经验，您可以选择像 Servlets、JSP 和 JQuery 这样的技术堆栈，并使用 GAE 使事情变得简单，避免您提到的“麻烦”方面。GAE 是一个平台即服务，因此您不必担心这些事情，因为 google 负责身份验证、缩放等。如果您喜欢的话，您也可以将 GAE 与 PHP 一起使用。

# c# - 绑定到转换为字典的 ICollectionView

> ID：12106766
> 
> 赞同：0
> 
> 时间：2012-08-24T09:35:16.407
> 
> 标签：c#, wpf, mvvm, binding, converter

由于我对 WPF 和 MVVM 很陌生，这可能是非常明显和微不足道的事情，所以请耐心等待。

无论如何，我有一个具有这些属性的视图模型：

```
class ViewModel : INotifyPropertyChanged {
    ICollectionView Items; // a list of Items object, wraps _items field, each Item has a Date property
    string Filter; // a filter key, wraps _filter field and calls ApplyFilter() as it is changed
    void ApplyFilter(); // based on the filter key, _items.Filter gets set to some predicate
} 
```

属性在设置时引发 PropertyChanged 事件以及所有常见的 MVVM 内容。在视图中，我有一个简单的 ItemsControl，它绑定到 Items 属性，以及一些花哨的数据模板来显示每个 Item。

已请求显示按天分组的项目，以便您看到每天的日期标题以及其 Date 属性与标题中的日期相对应的项目列表。

由于这严格来说是一个显示问题，因此我决定保留视图模型，但使用转换器将 ICollectionView 项转换为字典，其中键是日期，集合是具有该日期的项的子集。

ItemsControl 现在有一个 StackPanel 和一个 TextBlock 来显示日期标题（字典键）和另一个 ItemsControl，它基本上是旧版本的副本，它只列出了项目（字典值）。

视图渲染得很好，但过滤器不再起作用。由于控件绑定到项目，并且 ICollectionView 实现了 INotifyCollectionChanged，我希望过滤器在更改项目列表时工作，并且转换器将重新运行以重建字典。好吧，事实并非如此。更改过滤器确实调用 ApplyFilter()，并且 _items.Filter 被设置为所需的谓词，但视图永远不会改变。我也尝试过从 ApplyFilter 调用 Items 的 PropertyChanged，但这也不起作用。

显然，我设计的这个应该如何工作的场景是错误的，老实说，我没有想法，除了创建将日期和项目列表作为属性的新对象，然后使用 VM 中的列表。但是，正如我所说，在我看来，这完全是一个视图问题，所以模型只需要提供一个项目列表，视图的责任就是决定如何呈现它们。

非常感谢任何帮助，并在此先感谢您。

编辑：现在我在想，如果我要更改 _filter.Filter，那么项目的 PropertyChanged 事件实际上永远不会引发，因为它实际上没有改变（内部结构已经改变，但项目本身仍然是相同的ICollectionView）。因此，转换器不再被触发。

如果是这种情况，我该如何触发转换器？在执行 ApplyFilter() 之后提高 Items 的 PropertyChanged 也没有做任何事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:30:10.180

也许使用 ListView 而不是简单的 ItemsControl+converter 是更好的主意？ListView 有很多不错的功能。如虚拟化、分组等。您所要做的就是修改您的ICollectionView分组属性并应用模板（GroupStyle）

至于您的问题，您当前的行为对我来说很有意义。如果你想重新运行转换器，你应该创建新方法 RefreshBinding() 并做这样的事情；

```
var referenceCopy = Items;
Items = null;//make sure INotifyPropertyCHanged is fired.
Items = referenceCopy; //converter should be called again. 
```

在您需要重新运行转换器后，您将调用它。但老实说，只需使用 ICollectionView+Grouping 属性和 ListView。或者您可以自己实现 ListView 功能。使用转换器似乎不是一个好的解决方案。

# html - 手风琴 h3 文本在 IE 中消失

> ID：12106773
> 
> 赞同：0
> 
> 时间：2012-08-24T09:35:49.467
> 
> 标签：html, jquery-ui, css, accordion

请在 IE 中查看此[DEMO 。](http://jsfiddle.net/fTmxc/3/)菜单项名称在 IE 中不可见。它在所有其他浏览器中都能完美运行。

任何的想法？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:41:46.293

您正在寻找旋转=3

[http://jsfiddle.net/fTmxc/11/](http://jsfiddle.net/fTmxc/11/)

```
filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3)
            progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff999999, endColorstr=#ffcccccc);  
-ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"
            "progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff999999, endColorstr=#ffcccccc)"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:40:47.217

这是因为您使用 CSS3 变换来旋转文本。

IE 6、7、8 不支持。要使其在 ie9 中工作，您需要添加以下代码

```
-ms-transform: rotate(-90.0deg); 
```

您可以查看此网站以使其在旧版浏览器中运行 [http://www.aquim.com/web-article-226.html](http://www.aquim.com/web-article-226.html)

# .net - 当 Oracle 列名有空格时，ODP.NET 中的 OracleBulkCopy 不起作用

> ID：12106777
> 
> 赞同：1
> 
> 时间：2012-08-24T09:36:01.710
> 
> 标签：.net, oracle, bulkinsert, odp.net, data-migration

我正在使用 OracleBulkCopy 类将数据从 C# DataTable 移动到 Oracle Server。只要 Oracle 中的列名中没有空格，一切都很好。（数据表中的列名没有空格。）

我在 Oralce 表中有一个“修改者”列。当我尝试在列名中映射它时，以下都不起作用：

bulkCopy.ColumnMappings.Add("columnnameindatatable", "修改者"); bulkCopy.ColumnMappings.Add("columnnameindatatable", "\"修改者\""); - 添加报价 bulkCopy.ColumnMappings.Add("columnnameindatatable", "MODIFIED BY"); - 全部大写 bulkCopy.ColumnMappings.Add("columnnameindatatable", "\"MODIFIED BY\""); - 全部大写；添加报价

我收到“修改者：无效标识符”或著名的“列映射无效”错误。

# drupal-7 - Drupal 7 安全问题

> ID：12106780
> 
> 赞同：0
> 
> 时间：2012-08-24T09:36:13.663
> 
> 标签：drupal-7, security

1] 我有我的帐户页面，登录后可以访问。现在我已经登录访问“我的帐户”页面并退出。

现在，当我单击浏览器后退按钮时，我可以访问“我的帐户”页面。这不是真的。当我刷新该页面时，它会重定向到主页，或者您无权访问此页面。但是在后退浏览器按钮上它不起作用。

2]当用户登录时使用“Web Developer Tool”获取cookie信息并将其保存在记事本中。删除所有cookie信息并关闭浏览器。现在打开浏览器并手动添加早期存储的cookie详细信息现在访问url用户已经登录在使用该 cookie 信息时。这不应该发生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T15:10:58.847

1.  它在浏览器缓存中——不知道 Drupal 能做些什么。

2.  这就是会话 cookie 的工作方式。同样，我不确定 Drupal 对此能做些什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:20:32.603

它是缓存页面的浏览器。如果您点击返回按钮，则页面将从浏览器缓存中加载，而不是再次点击服务器。由于此页面不是从服务器加载的，因此您会看到该页面的最后状态。

我确信 drupal 或任何其他脚本都无法做到这一点。

# c - C 到 arm 汇编代码转换

> ID：12106783
> 
> 赞同：3
> 
> 时间：2012-08-24T09:36:18.263
> 
> 标签：c, assembly, arm

我已经用 c 编写了一个程序并将其转换为 arm 汇编，现在我在理解汇编代码中生成的一些指令时遇到了问题。C程序的一部分是：

```
#define MAX_DIGIT 1024
int main()
{
    int fd[MAX_DIGIT];
    int xLen = 0;
    int sd[MAX_DIGIT];
    int yLen = 0;

    int result[6*MAX_DIGIT];

    // Take input for two numbers
    takeInput(fd, &xLen);
    takeInput(sd, &yLen);   
        ...
        ...
        ...
}
...
...
...

void takeInput(int digit[], int *length)
{
    char c;
    if((c=getchar()) != '\n' && *length <= MAX_DIGIT){
        takeInput(digit, length);
        digit[*length] = c - '0';
        (*length)++;
    }else return;
} 
```

我已使用 gnu arm 工具链将此 c 代码转换为 arm 汇编代码。生成的汇编代码的一部分是：

```
main:
    @ args = 0, pretend = 0, frame = 32788
    @ frame_needed = 1, uses_anonymous_args = 0
    mov ip, sp
    stmfd   sp!, {fp, ip, lr, pc}
    sub fp, ip, #4
    sub sp, sp, #32768
    sub sp, sp, #20       @Why subtracted 20? 

    mvn r3, #4096
    sub r3, r3, #3
          @What r3 storing and Why took NOT of r3 and again subtract 3 from it?
    mov r2, #0
    sub r0, fp, #12
    str r2, [r0, r3]
    mvn r3, #8192
    sub r3, r3, #7
    mov r2, #0
    sub r1, fp, #12
    str r2, [r1, r3]
    sub r2, fp, #4096
    sub r2, r2, #12
    sub r3, fp, #4096
    sub r3, r3, #12
    sub r3, r3, #4
    mov r0, r2
    mov r1, r3
    bl  takeInput
    sub r2, fp, #8192
    sub r2, r2, #12
    sub r2, r2, #4
    sub r3, fp, #8192
    sub r3, r3, #12
    sub r3, r3, #8
    mov r0, r2
    mov r1, r3
    bl  takeInput
    mvn r3, #32768
    sub r3, r3, #11
    mov r2, #1
    sub ip, fp, #12
    str r2, [ip, r3] 
```

我在评论中的汇编代码本身中标记了我的点。谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-24T10:55:05.480

立即数（在指令的一部分中编码的常数）只能具有某些值，因为编码它们的字段只有几个位。当编译器想要加载一个不能用立即值编码的值的寄存器时，它会加载部分值，然后使用算术来完成它。

不同的 ARM 指令中有不同的立即数编码，但这里以 ARM 体系结构参考手册 ARMv7-A 和 ARMv7-R 版本中的一种为例。“ARM 指令中的修改立即常数”被编码为 12 位。四位指定旋转，八位是值的文字位。四位形成一个二进制数字，向右旋转量是该数字的两倍。例如，如果四位是0011，即三，则旋转量为六位。

因此，如果四个旋转位是 0011，八个字面位是 10011101，则该值是通过在 32 位字段内将 10011101 旋转六个位形成的。所以 0000 0000 0000 0000 0000 0000 1001 1101 右移六位，产生 0110 0100 0000 0000 0000 0000 0000 0010 或 0x64000002。

显然，12 位不能编码所有可能的 32 位值。编译器在您的示例中想要的值之一是 32748，即 0x7fec。我们不能从任何位置（或者，更具体地说，偶数索引位置）的八位中形成 0x7fec。

# android - 在 PhoneGap 中从 Android 到 iOS

> ID：12106786
> 
> 赞同：2
> 
> 时间：2012-08-24T09:36:22.953
> 
> 标签：android, ios, cordova, porting

PhoneGap 是如何工作的？（我还在浏览他们的所有常见问题，等等。）我下载了 andriod sdk 并安装了 PhoneGap 的东西，还让 Hello World 在 Android 模拟器上运行。现在我如何移植它以在 iPhone 上进行实际测试？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T10:03:51.043

使用 PhoneGap，您只需使用 HTML/CSS/JavaScript 即可完成所有工作。PhoneGap 对不同的架构有不同的构建，您的项目只是您想要的架构的 WebView。很简单，如果您需要为 iOS 移植 PhoneGap 应用程序，您需要下载 XCode 的项目模板并将所有 HTML/CSS/JS 代码移动到项目中。请记住，PhoneGap 的可移植性仅仅是因为 WebView 和针对不同手机的可靠 JS 接口。您实际上不需要知道PhoneGap 下的内容，只需使用WWW 技术即可。

# excel - 将字符串转换为布尔运算符（<、<=、>、>=）

> ID：12106787
> 
> 赞同：1
> 
> 时间：2012-08-24T09:36:28.453
> 
> 标签：excel, casting, excel-formula, boolean-expression

在 cell`A1`中，可以有`<`, `<=`, `>`or `>=`(of string)。

在单元格`B1`中，有阈值的 int 值。

从`A3`，有 int 的值。

```
+---+-----+----+
|   | A   | B  |
+---+-----+----+
| 1 | <   | 15 |
| 2 |     |    |
| 3 | 10  |    |
| 4 | 20  |    |
| 5 | ... |    |
+---+-----+----+ 
```

当且仅当它尊重布尔运算符 ( ) 和阈值 ( ) 时，才`A3`应复制 in的值。否则，应该是。当然，对于/ ，/等也是如此。`B3``A1``B1``B3``#N/A``A4``B4``A5``B5`

在该示例中，`B3`应该是`10`和`B4`应该是`#N/A`，因为 10 小于 15，但 20 不是。

这是我创建的一个公式，效果很好，但有点长（这是 for `B3`）：

```
=IF($A$1 = "<"; IF($A3 < $B$1; $A3; NA()); IF($A$1 = "<="; IF($A3 <= $B$1; $A3; NA()); IF($A$1 = ">"; IF($A3 > $B$1; $A3; NA()); IF($A3 >= $B$1; $A3; NA())))) 
```

以更消化的方式相同：

```
=IF(
    $A$1 = "<";
    IF($A3 < $B$1;$A3; NA());
    IF(
        $A$1 = "<=";
        IF($A3 <= $B$1; $A3; NA());
        IF(
            $A$1 = ">";
            IF($A3 > $B$1; $A3; NA());
            IF($A3 >= $B$1; $A3; NA())
        )
    )
) 
```

有没有更方便的方法来完成这项工作？从字符串转换为运算符会很棒，但是，是的，我不知道任何能够做这种事情的编程语言`:)`理想情况下，它应该是`=IF($A3 $A$1 $B$1; $A3; NA())`......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T10:49:34.527

试试这个公式

```
=IF(COUNTIF(A3,$A$1&$B$1),A3,NA()) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T10:11:54.543

请注意，这完全基于[这篇文章](http://www.pcmag.com/article2/0,2817,2212496,00.asp)，但它似乎适合这里。有两种方法可以做到这一点：使用命名范围和 UDF。这两种方式基本上都利用了 Excel 的“隐藏”评估功能。

**命名范围**

要使用命名范围，您需要定义一个名称（在本例中，我使用`Compare`了 ）并为其分配以下值（请注意，这都是相对于我的工作表中的范围，因此您可能需要调整）：

```
=EVALUATE("IF(" & A3 & $A$1 & $B$1 &"," & A3 & ",NA())") 
```

请注意，范围似乎会自动更新，并以工作表名称为前缀。

![在此处输入图像描述](../Images/47ae27f972e41fa643e7e2257f0bd0a6.png)

**UDF**

将以下内容添加为 UDF：

```
Function Evalu(ByVal S As String) As String
  Evalu = Evaluate(S)
End Function 
```

然后输入以下公式：

```
=INT(IFERROR(Evalu("IF(" & A3 & $A$1 & $B$1 &"," & A3 & ",NA())"),NA())) 
```

double`NA()`有点笨拙，但是 Evalu 函数返回 #VALUE 错误而不是 #N/A，因此这笨拙地强制出现您想要的错误。此外，该函数返回一个字符串，因此您需要将结果转换为整数。我有点喜欢第一种方法:)

![在此处输入图像描述](../Images/3deab796f6399056ef5b7e06fbd8c362.png)

# ruby - 在 Rails 3.2 中编写 onchange 函数

> ID：12106788
> 
> 赞同：0
> 
> 时间：2012-08-24T09:36:28.640
> 
> 标签：ruby, ruby-on-rails-3.2

我想处理选择框中更改的选定值的事件。

```
<%=  select_tag "vehicle", options_from_collection_for_select(@vid,"id","id"), :prompt => "Select vehicle" %> 
```

由于在 rails 3.1 中不推荐使用 remote_function，我想知道如何编写 :onchange 事件，并且我想用 ruby​​ 而不是 JavaScript 编写。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:08:04.547

只需将您的代码更改为此

```
<%=  select_tag "vehicle", options_from_collection_for_select(@vid,"id","id"), :prompt => "Select vehicle", :onchange => "my_function();" %> 
```

这将完成这项工作

# hadoop - 在新的 Hadoop API 中替换 TextInputFormat

> ID：12106796
> 
> 赞同：0
> 
> 时间：2012-08-24T09:36:56.347
> 
> 标签：hadoop, mapreduce

新 Hadoop API 中 TextInputFormat 的替换是什么？

当我使用 TextInputFormat 时，我收到警告说它已被弃用，我需要一个输入文件类型，它将文件中的每个 \n 终止行视为一个单独的值。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-25T05:23:10.770

我的猜测是您正在使用 mapred 包中的那个。mapreduce 包中的那个是要使用的。

# listview - 在 WinJS 中更改 ListView 选择模板

> ID：12106797
> 
> 赞同：4
> 
> 时间：2012-08-24T09:37:01.313
> 
> 标签：listview, selection, winjs

我想更改 ListView 项目的默认选择模板。默认情况下，3 像素宽的灰色边框应用于当前选定的项目：

![在此处输入图像描述](../Images/9b683241f41a49b77b00d98a17397f29.png)

我确实在 ui.js 中发现 _selectionTemplate 属性在内部设置为默认边框：

```
var selectionBorder = createNodeWithClass(WinJS.UI._selectionBorderContainerClass);
selectionBorder.appendChild(createNodeWithClass(WinJS.UI._selectionBorderClass + " " + WinJS.UI._selectionBorderTopClass));
selectionBorder.appendChild(createNodeWithClass(WinJS.UI._selectionBorderClass + " " + WinJS.UI._selectionBorderRightClass));
selectionBorder.appendChild(createNodeWithClass(WinJS.UI._selectionBorderClass + " " + WinJS.UI._selectionBorderBottomClass));
selectionBorder.appendChild(createNodeWithClass(WinJS.UI._selectionBorderClass + " " + WinJS.UI._selectionBorderLeftClass));

this._selectionTemplate = [];
this._selectionTemplate.push(createNodeWithClass(WinJS.UI._selectionBackgroundClass));
this._selectionTemplate.push(selectionBorder);
this._selectionTemplate.push(createNodeWithClass(WinJS.UI._selectionCheckmarkBackgroundClass));
var checkmark = createNodeWithClass(WinJS.UI._selectionCheckmarkClass);
checkmark.innerText = WinJS.UI._SELECTION_CHECKMARK;
this._selectionTemplate.push(checkmark); 
```

但是，由于 _selectionTemplate 是私有的，因此修改 _selectionTemplate 属性本身似乎违背了 ListView 的设计。修改此默认选择模板是否有更好的解决方法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-24T18:39:14.700

覆盖默认模板使用的 CSS 类。例如，这会将边框更改为红色：

```
.win-listview .win-container:hover{
    outline: rgba(255, 0, 0, 0.3) solid 3px;
} 
```

# java - 与迭代次数无关的性能测试

> ID：12106799
> 
> 赞同：3
> 
> 时间：2012-08-24T09:37:05.287
> 
> 标签：java, performance

试图回答这张票：[instanceof 和 Class.isAssignableFrom(...) 有什么区别？](https://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom)

我做了一个性能测试：

```
class A{}
class B extends A{}

A b = new B();

void execute(){
  boolean test = A.class.isAssignableFrom(b.getClass());
  // boolean test = A.class.isInstance(b);
  // boolean test = b instanceof A;
}

@Test
public void testPerf() {
  // Warmup the code
  for (int i = 0; i < 100; ++i)
    execute();

  // Time it
  int count = 100000;
  final long start = System.nanoTime();
  for(int i=0; i<count; i++){
     execute();
  }
  final long elapsed = System.nanoTime() - start;
System.out.println(count+" iterations took " + TimeUnit.NANOSECONDS.toMillis(elapsed) + "ms.);
} 
```

这给了我：

*   **A.class.isAssignableFrom(b.getClass())** **：** 100000 次迭代耗时15 毫秒
***   **A.class.isInstance(b)** : 100000 次迭代耗时**12ms***   **b instanceof A** : 100000 次迭代耗时**6ms****

 **但是玩迭代次数，我可以看到性能是恒定的。对于 Integer.MAX_VALUE ：

*   **A.class.isAssignableFrom(b.getClass())** **：** 2147483647 次迭代耗时15 毫秒
***   **A.class.isInstance(b)** : 2147483647 次迭代耗时**12ms***   **b instanceof A** : 2147483647 次迭代耗时**6ms****

 **认为这是一个编译器优化（我用 JUnit 运行了这个测试），我把它改成了：

```
@Test
public void testPerf() {
    boolean test = false;

    // Warmup the code
    for (int i = 0; i < 100; ++i)
        test |= b instanceof A;

    // Time it
    int count = Integer.MAX_VALUE;
    final long start = System.nanoTime();
    for(int i=0; i<count; i++){
        test |= b instanceof A;
    }
    final long elapsed = System.nanoTime() - start;
    System.out.println(count+" iterations took " + TimeUnit.NANOSECONDS.toMillis(elapsed) + "ms. AVG= " + TimeUnit.NANOSECONDS.toMillis(elapsed/count));

    System.out.println(test);
} 
```

但性能仍然与迭代次数“无关”。有人可以解释这种行为吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-24T09:40:02.757

1.  一百次迭代不足以进行热身。默认编译阈值为 10000 次迭代（一百倍以上），因此最好至少超过该阈值。
2.  一旦编译被触发，世界就不会停止；编译在后台进行。这意味着它的效果只有在稍有延迟后才会开始显现。
3.  有足够的空间来优化您的测试，以使整个循环折叠成最终结果。这将解释常数。

无论如何，我总是通过让外部方法调用内部方法大约 10 次来进行基准测试。内部方法根据需要进行大量迭代，例如 10,000 次或更多，以使其运行时间上升到至少几十毫秒。我什至不打扰，`nanoTime`因为如果微秒精度对您很重要，那只是测量时间间隔太短的标志。

当您这样做时，您可以让 JIT 在替换解释版本后轻松执行内部方法的编译版本。另一个好处是您可以确保内部方法的时间正在稳定。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-24T09:43:00.570

如果你想对一个简单的函数做一个真正的基准测试，你应该使用一个微基准测试工具，比如[Caliper](http://code.google.com/p/caliper/)。尝试制作自己的基准会简单得多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T09:49:56.933

JIT 编译器可以消除没有任何作用的循环。这可以在 10,000 次迭代后触发。

我怀疑你正在计时的是JIT需要多长时间才能检测到循环没有做任何事情并将其删除。这将比进行 10,000 次迭代所需的时间稍长。****

# javascript - jquery只显示孩子

> ID：12106801
> 
> 赞同：0
> 
> 时间：2012-08-24T09:37:09.047
> 
> 标签：javascript, jquery

我有一个问题：为了简单起见，我在 div 上使用类，我想在单击后显示一个隐藏的 div，但只在那个 div 上，问题是它显示在所有 div 上，我似乎无法得到它工作，这是一个有问题的jsfiddle：http: [//jsfiddle.net/cWNvT/](http://jsfiddle.net/cWNvT/)

HTML：

```
<div class="left">
    <a href="#" class="edit-click">Edit</a>
    <div class="edit">
        <p>edit here</p>
    </div>
</div>
<div class="left">
    <a href="#" class="edit-click">Edit</a>
    <div class="edit">
        <p>edit here</p>
    </div>
</div>
<div class="left">
    <a href="#" class="edit-click">Edit</a>
    <div class="edit">
        <p>edit here</p>
    </div>
</div> 
```

JavaScript：

```
$(document).ready(function() {
    $('.edit').hide();
    $('.left a.edit-click').click(function() {
        $('.left').children().show();
    });
});​ 
```

有人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:39:51.727

**试试这个工作[小提琴](http://jsfiddle.net/cWNvT/2/)。**

```
$(document).ready(function() {
 $('.edit').hide();
 $('.left a.edit-click').click(function(){
    $(this).parent().children().show();
 });
}); 
```

我所做的只是使用`$(this).parent()`而不是使用您的`$(".left")`选择器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:38:54.973

尝试仅查找单击元素的父元素，并使用其子元素：

[http://jsfiddle.net/cWNvT/1/](http://jsfiddle.net/cWNvT/1/)

```
$(document).ready(function() {
   $('.edit').hide();
   $('.left a.edit-click').click(function(){
       $(this).closest(".left").children().show();
   });
 });
​ 
```

`$(".left")``.left`选择文档中所有具有类的元素。`$(this).closest(".left")`找到具有类的单击链接的第一个父级`.left`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T09:40:47.180

将您的代码更改为：

```
$('.left a.edit-click').click(function(){
    $(this).next('.edit').show();
}); 
```

[http://jsfiddle.net/cWNvT/3/](http://jsfiddle.net/cWNvT/3/)

# .net - ORM 将数据映射到对象

> ID：12106802
> 
> 赞同：0
> 
> 时间：2012-08-24T09:37:26.457
> 
> 标签：.net, orm

已使用存储过程开发了一个内部 vb.net ORM，以获取数据以填充复杂层次结构中的各个对象。我们已经从每个映射操作的存储过程转移到在运行时构建并执行的动态 sql，这应该会增加功能和性能。每个类都有自己的映射代码，说明属性到 db 列映射、表、基数等。

我的问题是，由于对象模型的复杂性，由 ORM/映射器代码构建的对象可能会调用比需要更多的数据，从而影响性能。

**这是对象模型或 ORM 或两者都有问题吗？**

**有人可以提出一个设计模式/想法来帮助管理这个问题吗？**

我的第一个想法是，我们应该在输出映射类中有额外的功能来控制检索数据的深度，但我不知道如何干净地实现这一点。关于这个主题的任何想法或想法都将受到极大的欢迎。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:42:08.537

[像 Hibernate 这样的 ORM 使用“Lazy Fetch”策略](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching)处理这种情况，其中与任何深度的对象关联保持原样，但层次结构中的对象在第一次访问时会按需获取。您可能想查看[代理模式](https://en.wikipedia.org/wiki/Proxy_pattern)以了解如何完成此操作。

# c - 开发与内核通信的应用程序

> ID：12106810
> 
> 赞同：-1
> 
> 时间：2012-08-24T09:37:59.677
> 
> 标签：c, linux, kernel, kernel-module

我正在开发一个用于执行链表操作的应用程序（用户空间）。

我想开发一个具有链表操作功能的内核模块（A）。并且应用程序（用户空间）获取一些输入值进行处理，这些值应该通过 kernelmodule(A) 中的函数进行处理。

1.  如何从用户空间向内核模块输入值。
2.  如何将内核模块 (A) 的结果发送到我的用户空间应用程序？
3.  如何从应用程序调用内核模块 (A) 中的函数和变量。

我的应用程序可以是c程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:13:44.320

您可以创建一个字符驱动接口来向内核空间发送值，使用 ioctl 函数将用户空间数据指针发送到内核空间。在内核空间使用 copy_from_user() 将用户数据复制到内核空间。

在链表操作的情况下，结果可以是成功或失败，可以作为内核ioctl函数的返回值返回

对于调用函数，您可以发送信息以识别要调用的函数，如第一段所述

# regex - 正则表达式数值范围

> ID：12106815
> 
> 赞同：0
> 
> 时间：2012-08-24T09:38:13.727
> 
> 标签：regex, sed, grep

我有一个文本文件，我想在其中找到一些代码，每个代码由 3 个数字 + 7 个大写字母组成。示例：374ANSKJDS；3UKRHDPO；99RWLFOPE 我的问题是如何使用 grep 或 sed 按数字范围查找这些代码？例如，我想查找从 750 到 900 的代码？

谢谢

**编辑**

**既然我是使用 grep 完成的，谢谢大家，有人可以在 windows 下使用 awk 给出命令吗？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:47:21.717

您无法使用正则表达式比较数字的值。但是，您可以通过指定多个模式来解决此问题。对于您指定的时间间隔 (750-900)，您可以使用以下正则表达式：

```
(7[5-9][0-9]|8[0-9][0-9]|900)[A-Z]{7} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:50:35.293

你可以使用这种正则表达式

```
((7[5-9][0-9])|(8[0-9][0-9])|(900))[A-Z]{7} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T09:51:00.283

您可以使用以下方法匹配所有这些：

```
\d{1,3}[A-Z]{7} 
```

由于您想匹配一个范围，您需要`\d{1,3}`为每个范围用其他东西替换部分。因为正则表达式适用于字符串，[所以您不能编写](http://www.regular-expressions.info/numericranges.html)**[750-900]**之类的内容来匹配范围。因此，对于范围 [750-900]，请使用：

```
(7[5-9]\d|8\d\d|900)[A-Z]{7} 
```

# jquery - 带有自定义 Flickr API 调用的 getJson 生成解析错误

> ID：12106818
> 
> 赞同：1
> 
> 时间：2012-08-24T09:38:18.390
> 
> 标签：jquery, ajax, api, getjson, flickr

我昨晚大部分时间都在针对 Flickr API 尝试 JQuery 中的“getJSON”方法。我设法查看了 JQuery 文档中的一些示例并设法使它们工作，但是从我的自定义 API 调用中读取 JSON 的尝试失败了。

片段：

这有效：

```
 //JQuery Flickr example code - works!
  $.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?&format=json",
  function(data) {
    $.each(data.items, function(i,item){
      alert(item.media.m);
      if ( i == 3 ) return false;
    });
  }); 
```

**这失败了！**

```
 //Custom Flickr API Call - nothing?fail?
  $.getJSON("http://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=c258d8ae4c29bb74da198c6ac3874671&text=Mclaren&per_page=3&format=json&callback=?&nojsoncallback=1",
  function(data) {

    alert(data);

  }).error(function(jqXHR, textStatus, errorThrown) { alert(textStatus + errorThrown); }); 
```

第二个 API 调用是有效资源，它在浏览器/提琴手中工作，我可以看到 JSON 内容，但在我的 JS 代码中引发了错误

```
"parsererrorError: jQuery18007627279118169099_1345796861535 was not called". 
```

此时我被卡住了，最终我的最终目标是处理返回的 JSON 并迭代嵌套数组中的每个“照片”对象，以便我可以在迭代期间轻松访问它们的子属性，如下所示：

[照片实例].id

[照片实例].owner

[照片实例].secret 等...

任何帮助将不胜感激。

**参考：** [http ://www.flickr.com/services/api/response.json.html](http://www.flickr.com/services/api/response.json.html)

**注意**：所有 API 密钥都用于测试目的，很快就会被销毁。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:40:49.307

来自[Jquery 文档](http://api.jquery.com/jQuery.getJSON/)：

> 如果 URL 包含字符串“callback=?” （或类似的，由服务器端 API 定义），请求被视为 JSONP。有关详细信息，请参阅 $.ajax() 中对 jsonp 数据类型的讨论。

由于您的 URL 包含`callback=?`，jQuery`getJSON`函数正在等待（动态指定的）回调调用，JSONP 样式。但正如您`nojsoncallback`在 URL 中指定的那样，服务器会发送您提供的文档中指定的标准 JSON 内容：

> 如果您只想要没有函数包装器的原始 JSON，请将值为 1 的参数 nojsoncallback 添加到您的请求中。

Remove the `callback=?` from you URL and you should be fine.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-05T17:34:04.720

Add &nojsoncallback=1 at the end

[https://api.flickr.com/services/feeds/photos_public.gne?format=json&nojsoncallback=1](https://api.flickr.com/services/feeds/photos_public.gne?format=json&nojsoncallback=1)

# ios - IOS，应用程序尝试退出时出现奇怪的崩溃。

> ID：12106821
> 
> 赞同：1
> 
> 时间：2012-08-24T09:38:20.770
> 
> 标签：ios, crash

请参阅来自苹果应用商店的以下崩溃，对以下问题感到困惑。

1.  应用程序何时会尝试退出并在此类调用堆栈中崩溃？
2.  哪些情况会以这种方式导致应用崩溃？

任何讨论或建议将不胜感激，在此先感谢。

```
Hardware Model:      iPhone3,3
Process:         ScoutFree [2276]
Path:            /var/mobile/Applications/BD0A91F2-DEA3-439C-B8A0-4CB695CEF735/MyApp.app/MyApp
Identifier:      ScoutFree
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-08-14 16:31:38.700 -0400
OS Version:      iPhone OS 5.1.1 (9B206)
Report Version:  104

Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0xff6ca1f8
Crashed Thread:  0

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   ???                               0xff6ca1f8 0 + -9657864
1   libsystem_c.dylib                 0x349534f8 exit
2   UIKit                             0x31746fe6 -[UIApplication _terminateWithStatus:]
3   UIKit                             0x3174389a -[UIApplication _handleApplicationSuspend:eventInfo:]
4   UIKit                             0x316d3efa -[UIApplication handleEvent:withNewEvent:]
5   UIKit                             0x316d3562 -[UIApplication sendEvent:]
6   UIKit                             0x316d2f36 _UIApplicationHandleEvent
7   GraphicsServices                  0x31347226 PurpleEventCallback
8   CoreFoundation                    0x30f8551e __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__
9   CoreFoundation                    0x30f854c0 __CFRunLoopDoSource1
10  CoreFoundation                    0x30f8430e __CFRunLoopRun + 1366
11  CoreFoundation                    0x30f074a0 CFRunLoopRunSpecific
12  CoreFoundation                    0x30f07368 CFRunLoopRunInMode
13  GraphicsServices                  0x31346434 GSEventRunModal
14  UIKit                             0x31701cd0 UIApplicationMain
15  ScoutFree                         0x000739f8 -[TelenavNavigatorAppDelegate application:didFinishLaunchingWithOptions:] (TelenavNavigatorAppDelegate.m:312)
16  ScoutFree                         0x00003384 0x00003384 (in MyApp) 
```

# html - 动态内容高度

> ID：12106823
> 
> 赞同：0
> 
> 时间：2012-08-24T09:38:24.763
> 
> 标签：html, css, dynamic, height

> **可能重复：**
> [使 div 的高度随内容扩展](https://stackoverflow.com/questions/1709442/make-divs-height-expand-with-its-content)

在[我的网站上](http://www.storylinedesign.be/sites/modu/ploegen/)，您可以看到我将页面的页脚固定在底部。由于我们的赞助商，它需要始终可见，这就是我修复它的原因。

现在的问题是部分内容隐藏在页脚后面。我可以通过在 css 中为 .container_12 div 添加一个大的高度来解决这个问题，如下所示：

`.container_12 { height: 1500px; margin-left: auto; margin-right: auto; width: 960px; }`

但这不是一个合适的解决方案：对于只有少量内容的页面，它太高了，并且能够一直向下滚动，从而使内容区域全黑；当页面将来增长时，1500px 的高度可能会变得不够。

不管怎样，我只是想让它适合，但不知道该怎么做。

我希望有人能帮助我！

干杯伙计们

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T11:29:14.320

我看到的最快的方法是添加`margin-bottom: 360px;`到`.container_12`

# cuda - “Cuda 设备”和 GPU 有什么区别？

> ID：12106825
> 
> 赞同：0
> 
> 时间：2012-08-24T09:38:27.173
> 
> 标签：cuda, gpu

我在这个链接上阅读了一篇关于 CUDA 的教程。

```
http://geco.mines.edu/tesla/cuda_tutorial_mio/index.html 
```

在本教程中，它称为“CUDA 设备”。什么是“CUDA 设备”？每个 GPU 都是“CUDA 设备”吗？反之亦然？如果不是，请命名一个“CUDA 设备”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:51:48.820

“CUDA 设备”是可以支持 CUDA 的单单元设备。理论上它可以是任何东西。令我惊讶的是，还没有高效的 CUDA-on-CPU 驱动程序 :( 但是，目前，唯一可以这样做的设备是从 GF8000 系列开始的 NVIDIA GPU。

但是请注意，双卡（例如 GTX690）提供两个 CUDA 设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:42:27.530

CUDA 设备是支持 CUDA 的 nVidia 设备。并非每个 GPU 都是 CUDA 设备。我不知道每个 CUDA 设备是否都是 GPU，它可能是，也可能不是。例如，AMD GPU 不支持 CUDA，但它们支持 OpenCL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:45:32.597

CUDA 设备是指支持 CUDA 的设备。它也可以是支持 CUDA 的 GPU 或其他设备。有关 CUDA 设备的更多信息，请访问：http: [//developer.nvidia.com/cuda-gpus](http://developer.nvidia.com/cuda-gpus)

# liferay - Liferay - 在模板中获取文件大小

> ID：12106827
> 
> 赞同：1
> 
> 时间：2012-08-24T09:38:37.890
> 
> 标签：liferay, liferay-6, filesize, liferay-velocity

是否可以从速度模板中的文档库中获取文件的大小？

我有一个包含重复文件的内容结构和一个非常简单的模板，如下所示：

```
#foreach($f in $file.siblings)
    <a href="$f.getData()">download</a>
#end 
```

,`$f.getType()`返回值：`document_library`。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T15:23:04.517

`$f`不幸的是，不能从Liferay 注入到您的模板中的变量直接访问此信息。对于 Liferay 6.1，`$f.data`以以下形式保存文档的 url：

```
/documents/[group-id]/[folder-id]/[file-name] 
```

幸运的是，我们可以通过这个破解我们的方式并通过使用服务 API 来获取实际文件，这要归功于 Velocity 模板中的`$serviceLocator`. 要使此变量可用，您必须`portal-ext.properties`通过配置以下属性来启用它：

```
#
# Input a comma delimited list of variables which are restricted from the
# context in Velocity based Journal templates.
#
journal.template.velocity.restricted.variables= 
```

启用此功能后，我们可以调用正确的服务来`FileEntry`根据文档 URL 中的部分检索对象。然后我们也有大小：

```
#set($url = $f.data)
#set($parts = $stringUtil.split($url, "/"))

#set($group_id = $getterUtil.getLong($parts.get(2)))
#set($folder_id = $getterUtil.getLong($parts.get(3)))
#set($doc_name = $parts.get(4))

#set($docService = $serviceLocator.findService("com.liferay.portlet.documentlibrary.service.DLAppLocalService"))
#set($fileEntry = $docService.getFileEntry($group_id, $folder_id, $doc_name))

The file size is: $fileEntry.size 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-24T11:07:05.253

这不起作用，因为您必须转义 de url 试试这个。

```
#set($url = $httpUtil.decodeURL($ficheiro.getData(), true))
#set($parts = $stringUtil.split($url, "/"))

#set($group_id = $getterUtil.getLong($parts.get(2)))
#set($folder_id = $getterUtil.getLong($parts.get(3)))
#set($doc_name = $parts.get(4))

#set($docService = $serviceLocator.findService("com.liferay.portlet.documentlibrary.service.DLAppLocalService"))

#set($fileEntry = $docService.getFileEntry($group_id, $folder_id, $doc_name))

The file size is: $fileEntry.size 
```

# php - Jquery 加载屏幕通过 PHP 覆盖大型 mysql 查询？

> ID：12106829
> 
> 赞同：3
> 
> 时间：2012-08-24T09:38:41.217
> 
> 标签：php, jquery, mysql, loading, large-query

我正在为我的客户使用一个报告工具，如果它们已经存在 X 天，它基本上会即时重建报告。

问题是报告是用 PHP 重建的，其中一些可能非常大，这意味着 20-40 秒的加载时间。

目前，它只是在执行查询时挂起页面。

然而，我想要做的是在查询开始之前将某种 jquery 加载覆盖放置到页面中，然后当查询完成时，重定向到另一个页面（将显示结果）。

我是否认为只要在运行查询之前将 html 加载到页面中，加载屏幕应该会显示，然后一旦查询完成，我可以放置另一位 HTML 来对另一个页面进行元刷新（显然，标头重定向是不可能的，因为标头已经发送）。

如果这是正确的，任何人都可以推荐任何基于 jquery 的加载插件吗？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:45:56.263

不太清楚，你写的意思

> 我是否认为只要在运行查询之前将 html 加载到页面中，加载屏幕应该会显示，然后一旦查询完成，我可以放置另一位 HTML 来对另一个页面进行元刷新（显然，标头重定向是不可能的，因为标头已经发送）。

但是让我告诉你，我们之前做了什么：

通过单击耗时 XLS-Export 的导出按钮，会显示一个模式叠加层，并发送导出请求。从那一刻起，JS 就一直在寻找具有特定名称的 cookie。在服务器端生成导出，并在完成后将 cookie 与 XLS 数据一起发送。JS 识别了发送的 cookie 并隐藏了覆盖。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:43:19.360

您应该使用 PHP 函数 flush() 查看将输出刷新到屏幕。它会给用户一个指示，表明某些事情正在实际发生。有很多教程和代码片段向您展示如何使用 flush() 设置 JS/JQuery 进度条。一个例子：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
    <title>Progress Bar</title>
</head>
<body>
<!-- Progress bar holder -->
<div id="progress" style="width:500px;border:1px solid #ccc;"></div>
<!-- Progress information -->
<div id="information" style="width"></div>
<?php
// Total processes
$total = 10;

// Loop through process
for($i=1; $i<=$total; $i++){
    // Calculate the percentation
    $percent = intval($i/$total * 100)."%";

    // Javascript for updating the progress bar and information
    echo '<script language="javascript">
    document.getElementById("progress").innerHTML="<div style=\"width:'.$percent.';background-color:#ddd;\">&nbsp;</div>";
    document.getElementById("information").innerHTML="'.$i.' row(s) processed.";
    </script>';

    // This is for the buffer achieve the minimum size in order to flush data
    echo str_repeat(' ',1024*64);

    // Send output to browser immediately
    flush();

    // Sleep one second so we can see the delay
    sleep(1);
}

// Tell user that the process is completed
echo '<script language="javascript">document.getElementById("information").innerHTML="Process completed"</script>';
?>
</body>
</html> 
```

# python - 如何通过 ajax 启动/停止扭曲的 TCP 连接并获取连接状态

> ID：12106833
> 
> 赞同：1
> 
> 时间：2012-08-24T09:38:49.107
> 
> 标签：python, ajax, twisted, modbus

在扭曲的应用程序中，我想通过 ajax POST 启动/停止 tcp 连接（到 modbus）。我有一个标题为连接或断开连接的按钮，具体取决于连接状态。

现在我的代码看起来像：

```
class ConnectHandler(Resource):

    modbus_connection = None

    def try_disconnect(self):
        log.msg('Disconnecting...')
        try:
            self.modbus_connection.disconnect()
        except:
            log.err()
        return self.modbus_connection.state

    def try_connect(self):
        try:
            framer = ModbusFramer(ClientDecoder())
            reader = DataReader()
            factory = ModbusFactory(framer, reader) # inherits from ClientFactory
            self.modbus_connection = reactor.connectTCP(ip, 502, factory)
        except:
            log.err()
        return str(self.modbus_connection.state)

    def render_POST(self, request):
         if self.modbus_connection and \
            self.modbus_connection.state == 'connected':
            return self.try_disconnect()
        else:
            return self.try_connect() 
```

现在我在连接开始时得到“连接”，在停止连接时得到“连接”。我想等待响应，直到连接建立或取消并返回连接状态（连接或断开+可选的错误描述）。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T19:34:04.350

如果您改用端点 API，您将获得一个 Deferred 返回，一旦建立连接并且该协议实例已创建并连接，就会与连接的协议实例一起触发：

```
from twisted.internet.endpoints import TCP4ClientEndpoint

e = TCP4ClientEndpoint(reactor, ip, 502)
d = e.connect(factory)
def connected(protocol):
    print 'Connection established, yay.'
    # Use `protocol` here some more if you want,
    # finish the response to the request, etc
d.addCallback(connected) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T10:29:18.507

延迟响应通常是`defer`从`render`您所等待的任何方法调用的方法中返回 a 的问题。在这种情况下，我认为您需要为 modbus 连接设置客户端协议，以在调用之前以某种方式调用延迟传递给它`reactor.connectTCP`。

您是否已放弃使用您在上一个问题中提到的 websockets？
[如何通过 modbus/TCP 异步读取数据并将其发送到 Web](https://stackoverflow.com/q/12053599/267781)

在我看来，Websockets 似乎是一种从本质上代理浏览器和 modbus 服务器之间连接的有效方法。

# c# - 使用 LINQ to XML 在 DDL 中加载值

> ID：12106839
> 
> 赞同：1
> 
> 时间：2012-08-24T09:39:06.410
> 
> 标签：c#, linq, linq-to-xml

我想使用 XML 文件在 DDL 中显示值，并且我正在使用 LINQ to XML

```
 <countrys>
  <country>
    <name>India</name>
    <state>
      <text>Maharashtra</text>
      <text>Kashmir</text>
      <text>Goa</text>
    </state>
  </country>
  <country>
    <name>Sri lanka</name>
    <state>
      <text>Kanady</text>
      <text>Colombo</text>
      <text>Galle</text>
    </state>
  </country>
  <country>
    <name> Australia</name>
    <state>
      <text>Sydney</text>
      <text>Perth</text>
      <text>Melbourne</text>
    </state>
  </country>
  <country>
    <name>South Africa</name>
    <state>
      <text>Capetown</text>
      <text>Johanusburg</text>
      <text>Durban</text>
    </state>
  </country>
</countrys>

     public static IEnumerable bindstate()
        {
            var state = from b in getdata().Descendants(("state"))
                        orderby (string) b.Element("text")
                        select (string) b.Element("text");
            return state;

        } 
```

但我没有得到所有的州我只得到每个国家的第一个州我怎样才能得到所有的州？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:47:39.023

您可以[`SelectMany`](http://msdn.microsoft.com/en-us/library/bb534336.aspx)为此使用：

```
var state = from b in getdata().Descendants("state")
                               .SelectMany(state => state.Elements("text"))
            orderby (string) b
            select (string) b; 
```

在此示例中，从每个元素中`SelectMany`选择元素并将它们展平为一个序列。`"text"``"state"`

# php - 在PHP中提取没有外部标签的某个标签中的Html内容

> ID：12106841
> 
> 赞同：1
> 
> 时间：2012-08-24T09:39:08.623
> 
> 标签：php, web-scraping, domdocument, html

我想检索某个标签中的 html 代码。我知道 DomDocument 可以做到这一点。但是，如果我想提取没有外标签的内容，如何实现呢？

例如，

```
$html = '<div><span>Hello world!</span><br><p>some other text</p></div>';    
$doc = new DOMDocument;
$doc->loadHTML($html);
echo $doc->saveXML($doc->getElementsByTagName('div')->item(0)); 
```

这将输出，

```
<div>
    <span>Hello world!</span>
    <br>
    <p>some other text</p>
</div> 
```

我想要它没有外部 div 标签。我尝试了节点值，但它剥离了所有标签。

```
$html = '<div><span>Hello world!</span><br><p>some other text</p></div>';    
$doc = new DOMDocument;
$doc->loadHTML($html);
$node = $doc->getElementsByTagName('div')->item(0);
echo $node->nodeValue; 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:47:45.603

好吧，PHP innerHTML 实现怎么样：

```
<?php 
$html = '<div><span>Hello world!</span><br><p>some other text</p></div>';    
$doc = new DOMDocument;
$doc->loadHTML($html);
$node = $doc->getElementsByTagName('div')->item(0);
echo DOMinnerHTML($node);

function DOMinnerHTML($element) 
{ 
    $innerHTML = ""; 
    $children = $element->childNodes; 
    foreach ($children as $child) 
    { 
        $tmp_dom = new DOMDocument(); 
        $tmp_dom->appendChild($tmp_dom->importNode($child, true)); 
        $innerHTML.=trim($tmp_dom->saveHTML()); 
    } 
    return $innerHTML; 
} 
?> 
```

# visual-studio - Visual C++ IDE：添加自定义上下文敏感助手

> ID：12106842
> 
> 赞同：1
> 
> 时间：2012-08-24T09:39:15.293
> 
> 标签：visual-studio, ide, context-sensitive-help

我希望能够获得 Visual Studio IDE 中 OpenCV 函数的上下文相关帮助（即在编辑器中按 F1）。Visual Studio 是否支持添加自定义帮助源，如果支持，如何添加？

谢谢！

# c# - 从不同类中的方法访问 ArrayList

> ID：12106843
> 
> 赞同：2
> 
> 时间：2012-08-24T09:39:15.777
> 
> 标签：c#

我正在做我在大学以外的第一个项目。我有两节课。在第一个中，我有一个将字符串添加到数组列表的方法。在第二个类中，我想从前一个类中的方法访问 arrayList，并获取它的元素。

我怎么能那样做？谢谢你的帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:40:49.593

您可以将 ArrayList 作为第一个类中的静态属性公开，然后您可以从第二个类访问该属性。

```
public class First
{
    public static ArrayList MyList { get; set; }
}

public class Second
{
    public void SomeMethod()
    {
        //First.ArrayList will give you access to that class
    }
} 
```

最好**不要使用 ArrayList**（如果您使用的是 .Net 2.0 或更高版本），而是使用类型安全的[List](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:42:33.140

除非您使用的是 .NET 1.1，否则我会避免`ArrayLists`使用它们的强类型对应物[`List<T>`](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)。

您需要[`public`](http://msdn.microsoft.com/en-us/library/yzh058ae.aspx)在类 1 中创建该方法。然后您可以从类 2 访问它（如果是，[`static`](http://msdn.microsoft.com/en-us/library/98f28cdx.aspx)或者如果您有类 1 的实例）。

例如：

```
public class Class1{
    public List<String> getList()
    {
        // create the list and return it
    }
}

public class Class2{
    Class1 firstClass{ get;set; }
    void foo()
    {
        // now you can access the List<String> of class1 via it's instance
        List<String> list = firstClass.getList();
        foreach(String s in list)
        {
            // do something
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:44:59.423

最好的选择是使用一个只读属性来公开数组列表，如下所示：

```
class MyClass
{
    private ArrayList FArrayList;
    public ArrayList ArrayList { get { return FArrayList; } }

    ... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:55:39.107

试试这个..

```
public class First
{
    public ArrayList MyList;
    public First()
    {
       MyList = new ArrayList();
    }
    public void AddString(string str)
    {
       MyList.Add(str);
    }
}
public class Second
{
    public void someMethod()
    {
       First f = new First();
       f.AddString("test1");
       f.AddString("test2");
       f.AddString("test3");
       ArrayList aL = f.MyList; // you will get updated array list object here.
    }
} 
```

# git - 如何在本地将一个 git 远程拉到另一个远程

> ID：12106844
> 
> 赞同：0
> 
> 时间：2012-08-24T09:39:16.777
> 
> 标签：git

这是我第一次使用 git 运行项目，所以我将描述我的设置以及我正在尝试做的事情。希望有人能够告诉我如何做我想要实现的目标，或者如何以更标准的方式进行不同的设置。

我有一个开发网站，我在上面创建了一个存储库。我将该存储库的裸版本克隆到服务器上，并将裸版本的存储库克隆到我们的本地计算机上。

所以我的过程是，从裸存储库（名为远程源）中提取以确保一切都是最新的。对我的本地工作副本进行更改。提交更改然后推送到原点。

所以我们有一个裸存储库，可以跟踪我们在本地所做的所有更改。

然后我想将这些更改从原始网站拉到开发网站（存储库已被命名为我机器上的远程开发人员）

我想我能做的就是从我的本地机器从源端拉到开发端，因为它们都有远程别名，但要么是不可能的，要么我没有找到正确的语法。我需要做的是通过 ssh 进入 dev 存储库并将更改拉到那里。

能够以这种方式使用遥控器将允许我拉到开发，确保一切都在服务器上正常工作，然后将实时域设置为远程并拉到那里。

我这样做的原因是在我的研究中每个人都一直告诉我你应该只推送到一个裸存储库，所以我为每个人设置了一个裸存储库，以便我们可以拉到不同的位置。

这个设置有意义吗？有没有办法轻松实现我想要做的事情？是否有更有效或更标准的设置方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:59:25.260

我没有得到所有东西，但你基本上有两个遥控器，`dev`和`origin`. 我想，你想要的是把代码`origin`推送到`dev`.

`originbranch`所以你可以根据`origin`你想要的（ ）创建分支`desiredbranch`：`git branch --track originbranch origin/desiredbranch`

然后同样来自`dev`：`git branch --track devbranch dev/desiredbranch`

为了确保您正在处理它：`git checkout devbranch`

然后合并它： `git merge originbranch`

最后将其推送到`dev`：`git push dev`

我想这就是你想要做的。

# valgrind - valgrind：以下摘要说明了什么

> ID：12106845
> 
> 赞同：1
> 
> 时间：2012-08-24T09:39:18.803
> 
> 标签：valgrind, segmentation-fault

首先看看我的代码。它在在线法官上给出运行时错误（sigsegv），但在我的计算机上工作得很好。请帮我找出错误。

约束是：

0< t1 <1000000

0< 数量 <100000000

```
#include<stdio.h>

#include<malloc.h>

int *a;

int main()

{

   a = malloc(sizeof(int)*100000000);

   int  t=3,j,k1,k=1,n=0,i,t1,num;

   for(i=1;i<10000;i++)

      {

                  // m=i*i;

                   n=n+t;

                   for(j=i*i;j<=n;j++)

                                    a[j]=k;

                   k++;

                   t=t+2;

     }

  scanf("%d",&t1);

   for(k1=0;k1<t1;k1++)

   {

        scanf("%d",&num);

        printf("%d\n",a[num]);

   }

  free(a);

  //getch();

   return 0;

} 
```

我使用 valgrind 运行了这个简单的代码。它给出了以下输出，我是 valgrind 的新手，所以请告诉我这是什么意思。

```
singu@singu-Studio-1450 ~ $ valgrind --leak-check=yes ./doors
==4732== Memcheck, a memory error detector
==4732== Copyright (C) 2002-2010, and GNU GPL'd, by Julian Seward et al.
==4732== Using Valgrind-3.6.1 and LibVEX; rerun with -h for copyright info
==4732== Command: ./doors
==4732== 
==4732== Warning: set address range perms: large range [0x51c3040, 0x1cf3b440)     (undefined)
==4732== Invalid write of size 4
==4732==    at 0x400662: main (doors.c:16)
==4732==  Address 0x1cf3b440 is 0 bytes after a block of size 400,000,000 alloc'd
==4732==    at 0x4C28FAC: malloc (vg_replace_malloc.c:236)
==4732==    by 0x400605: main (doors.c:6)
==4732== 
^C==4732== 
==4732== HEAP SUMMARY:
==4732==     in use at exit: 400,000,000 bytes in 1 blocks
==4732==   total heap usage: 1 allocs, 0 frees, 400,000,000 bytes allocated
==4732== 
==4732== LEAK SUMMARY:
==4732==    definitely lost: 0 bytes in 0 blocks
==4732==    indirectly lost: 0 bytes in 0 blocks
==4732==      possibly lost: 0 bytes in 0 blocks
==4732==    still reachable: 400,000,000 bytes in 1 blocks
==4732==         suppressed: 0 bytes in 0 blocks
==4732== Reachable blocks (those to which a pointer was found) are not shown.
==4732== To see them, rerun with: --leak-check=full --show-reachable=yes
==4732== 
==4732== For counts of detected and suppressed errors, rerun with: -v
==4732== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 4 from 4) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:26:38.613

Valgrind 在这里基本上告诉你两件事：

1° 您正在写入未分配的内存位置。这就是`invalid write`消息的意义。此写入大小为 4（整数），发生在 door.c 的第 16 行。
这可能是您的分段错误的原因。我的猜测是，对于 j 的某些值，您的 a[j] 超出了数组的范围，因此您要正确检查（更具体地说，请记住数组是 0 索引的，因此数组的范围 a大小为 s 的为 a[0] 到 a[s-1])。
你应该打印j并检查它是否小于10,000，看看是否有问题。

2° 退出时，您完成了 1 次分配，但 0 次空闲，因此您没有释放分配的 400,000 字节。但是，在退出时您仍然有一个指针，所以它是`still reachable`.

# ios - 团队成员无法下载分发配置

> ID：12106846
> 
> 赞同：0
> 
> 时间：2012-08-24T09:39:23.677
> 
> 标签：ios

我是`Team Member`我们公司 iOS 项目的一名成员。我为公司完成了一个应用程序的开发，即将提交到应用程序商店。问题是我无法下载该应用程序的分发配置文件。每当我进入 iOS Provisioning Portal 中的 Provisioning 选项卡时，我所看到的都是该公司制作的每个应用程序的 Development Provision。没有分发选项卡，所以我真的不知道在哪里可以下载分发条款。

我在某处读到团队成员只能下载配置文件。那么，如果“分发”选项卡甚至不可见，我在哪里可以下载分发条款？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:02:24.167

您需要获得作为*团队代理*的凭据。然后将出现分发选项卡，并可用于创建新的配置文件。

或者，您的*团队代理*可以在 Apple 开发人员网站的会员中心/人员部分为您提供*管理员*权限。

~~或者，您的*团队代理*或*团队管理员*可以下载配置文件并将其通过电子邮件发送给您。~~[**未测试**]

此外，*管理员*可以邀请另一个人成为*管理员*。在 Apple 开发者网站上，进入*Member Center - People - Invitations*，点击*Invite Person*，在那里你可以指定角色，其中包括*Admin*。

[以下是所有开发人员计划角色的概述](https://developer.apple.com/membercenter/help.action?programType=iphone)。

# objective-c - 在 UITableView 中显示字典数组

> ID：12106849
> 
> 赞同：1
> 
> 时间：2012-08-24T09:39:39.467
> 
> 标签：objective-c, ios

我是新手，所以请不要打我谢谢...我有以下字典

```
 NSMutableArray *array;
           NSDictionary *dict,*dict1; 
```

viewdidload 方法

```
 array=[NSMutableArray array];
           dict=[NSDictionary dictionaryWithObjectsAndKeys:@"12.00",@"Tomato"];
           [array addObject:dict];

           dict1=[NSDictionary dictionaryWithObjectsAndKeys:@"75.00",@"Cauliflower"];
           [array addObject:dict1]; 
```

我想以 uitableview 格式显示以下项目

番茄 12.00

花椰菜 75.​​00

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:47:13.463

像这样创建数据。

```
 array=[NSMutableArray array];
   dict=[NSDictionary dictionaryWithObjectsAndKeys:@"12.00",@"price",@"Tomato",@"name", nil];
   [array addObject:dict];

  dict1=[NSDictionary dictionaryWithObjectsAndKeys:@"75.00",@"price",@"Cauliflower",@"name", nil];
   [array addObject:dict1]; 
```

然后显示在您的 tableView 上

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *MyIdentifier = @"MyIdentifier";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:MyIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:MyIdentifier] ;
    }
    cell.textLabel.text = [NSString stringWithFormat:@"%@  %@",[[array objectAtIndex:0]objectForKey:@"name"],[[array objectAtIndex:0]objectForKey:@"price"] ];
  return cell;
} 
```

# android - 如何获取文本视图可以在Android中显示的数字行

> ID：12106852
> 
> 赞同：0
> 
> 时间：2012-08-24T09:39:46.603
> 
> 标签：android, textview

我想知道 textView 可以显示的数字行。我可以在一行中获取数字字符

```
int maxVisibleChars =  textView.getPaint().breakText(text,
                    true, textView.getMeasuredWidth(), null); 
```

但我不知道我的 textView 可以正常显示多少行，因为我的 textView 调整大小取决于屏幕分辨率。
我需要知道这一点。谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-24T09:50:08.900

我使用这段代码来检查我的文本视图中有多少行，

**MainActivity.java**

```
import android.app.Activity;
import android.os.Bundle;
import android.view.ViewTreeObserver;
import android.view.ViewTreeObserver.OnGlobalLayoutListener;
import android.widget.TextView;

public class MainActivity extends Activity {

    TextView textView;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        textView = (TextView) findViewById(R.id.textView1);
        int totalLines = textView.getLineCount();

        ViewTreeObserver vto = this.textView.getViewTreeObserver();
        vto.addOnGlobalLayoutListener(new OnGlobalLayoutListener() {

            public void onGlobalLayout() {
                ViewTreeObserver obs = textView.getViewTreeObserver();
                obs.removeGlobalOnLayoutListener(this);
                System.out.println("Line Count is : " + textView.getLineCount());

            }
        });

    }
} 
```

**activity_main.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="300dp"
        android:layout_height="500dp"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:text="I have a full-screen TextView holding a long Spanned that requires scrolling. The TextView&apos;s getLineCount() gives me the total number of lines used for the entire block of text but I&apos;d like to know how many lines of text are currently visible on the screen. "
        android:textAppearance="?android:attr/textAppearanceLarge" />

</RelativeLayout> 
```

如果您使用带有滚动的 Textview 并且您需要知道屏幕上显示的行数（不是总行数），

```
int height    = myTextView.getHeight();
int scrollY   = myTextView.getScrollY();
Layout layout = myTextView.getLayout();

int firstVisibleLineNumber = layout.getLineForVertical(scrollY);
int lastVisibleLineNumber  = layout.getLineForVertical(scrollY+height); 
```

# security - 哪个网络浏览器不会将我的隐私信息发送到我正在访问的网站？

> ID：12106853
> 
> 赞同：0
> 
> 时间：2012-08-24T09:39:50.840
> 
> 标签：security, browser, privacy

我想对我正在访问的网站完全匿名。

我在各种博客上读到，浏览器可以在未经我许可的情况下在访问网站时发送我的位置、MAC 地址和我的计算机的各种其他标识。

谷歌及其智能工程师是否有可能以某种方式确定我之前在 Google Checkout 上进行过交易的计算机。可能是通过 MAC 地址或谷歌的谷歌浏览器的其他魔法。

是否有任何可用的网络浏览器向网站发送最少的个人信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T11:05:45.990

如果您不信任 Google，请不要使用 Google Chrome。最新版本的 Internet Explorer 的安全性还可以，他们正在与 Google 争夺隐私权。用那个。（没有扩展的 Firefox 与其他两个使用的沙盒技术并不真正匹配，并且默认使用 Google 搜索，因为这是他们的资金来源）。

MAC 地址在 Internet 上不可见，除非您使用没有隐私扩展的 IPv6。您*可能*没有 IPv6。似乎自 Windows XP 以来已启用隐私扩展。也许有些东西要检查。

您可能会担心 Google 的战争驾驶计划。这应该只识别MAC地址，所以风险不大。谷歌会因为自己做这件事而被钉死在十字架上，也就是说，目前成本/收益真的不会叠加——但是如果他们想这样做，一个足够小的第三方可以侥幸逃脱他们的数据库。

网站需要知道一个*IP*地址才能与之通信。您的 IP 地址将显示您的 ISP，以及（在非移动网络上）您的大致位置。（一般来说，移动网络的运行和监管都不是很好。他们经常强迫您通过自己的代理。过去，众所周知，他们会添加包含您的电话号码的 HTTP 标头！）。有研究提出了进一步缩小位置范围的方法。其中最广泛有效的将非常具有侵入性和可见性，因此您可以确信 Google 没有使用它们。

如果你不得不问，那么你的 IPv4 地址不是静态的。除非你在大学宿舍。所以它不能用作浏览器的永久标识符。

然而， IPv6*网络前缀*旨在是静态的。它将相当于静态 IPv4 地址。一种缓解措施是，虽然它可以用来识别家庭，但 IPv6 的原因是 IP 设备的激增。如今，识别单个设备或用户的可能性要小得多，因为每个家庭往往不止一台。

（移动连接更有可能使用 IPv6。移动*设备*的文档记录较少。如果您自己找不到，那么最安全的做法是假设任何智能手机都有一个 IPv6 地址来识别设备，即没有隐私扩展。我想说移动 USB 加密狗应该没问题，但是移动网络显然包含太多违反层的组件，以至于“标准”网络知识不一定有帮助）。

从理论上讲，如果你有一个*开放*的无线网络——许多 ISP 将它们构建到路由器中并允许其他客户使用它——假设一个 Wardriver 也可以获取 IP 地址。在欧洲，我认为任何大公司都会因此而被击落。在美国，公众可能会强烈反对，但不一定有任何法律回应。我最好的猜测是，如果谷歌最初使用它，它现在就会出现......但是一旦他们感觉/感觉到他们已经整理了最后的混乱，并且一旦具有静态的、全球唯一的 IPv6 前缀的开放网络成为更常见...比方说，我认为您必须将其视为威胁模型的一部分。

所以我认为，对于 IPv6 过渡对隐私的实际影响，即使有隐私扩展，也存在一些合理的担忧。即使对于欧盟居民和企业来说，IPv6 地址也会被默认记录下来，而立法者并没有真正跟上世界的步伐。（“欧盟 cookie 法”被广泛认为是轻蔑的。部分是因为即使是*隐私监管机构自己的网站*的实际效果，也是为了惹恼人们启用 cookie。以前您可以在每次会话结束时禁用或清除 cookie 进行浏览 [。http ://sourcejedi.blogspot.co.uk/2012/07/how-to-block-cookie-popups-without.html](http://sourcejedi.blogspot.co.uk/2012/07/how-to-block-cookie-popups-without.html)）。

[人们可以使用带有TorButton 扩展](https://addons.mozilla.org/en-US/firefox/addon/2275)的 Firefox 隐藏他们的 IP 地址。第二个代价是 Tor 出口节点可以拦截你的所有流量——所以除非你坚持使用 HTTPS（HTTPSEverywhere 扩展会有所帮助），否则你正在增加你的*安全*漏洞。第三个价格是它没有那么快，尽管它应该会变得更好。对于您的情况，我*不会*推荐它 - 即作为一种隐私保护，您可以安全地应用于您的所有通信，并且不需要太多的技术知识。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:48:23.387

那不是您需要的特定浏览器，而是代理。

没有浏览器可以隐藏此信息，因为如果他们这样做了，服务器将不知道该回复谁。

另一方面，代理充当中介，因此谷歌或任何东西看到的唯一东西就是代理，而不是它背后的计算机。

此外，它应该与 cookie 禁用（或只是私人导航）结合使用。任何最近的浏览器都提供此服务。

# sql - 选择列影响执行计划？

> ID：12106855
> 
> 赞同：2
> 
> 时间：2012-08-24T09:39:53.217
> 
> 标签：sql, sql-server, sql-server-2008, tsql, sql-execution-plan

我有一个这样的查询。它有一个使用我期望的索引的执行计划，直到 SELECT 返回的数据量（即字符数）超过边界。那时，计划不再使用索引，查询速度慢了 100 多倍。

如果我使用`NVARCHAR(203)`，它很快。`NVARCHAR(204)`是缓慢的。此外，当它不使用索引时，它会完全烧毁 CPU。至少在我看来这是一个数据大小问题，但我正在寻找任何见解。

我已将 oldValueString 和 newValueString 更改为 NVARCHAR(255) 并且情况有所好转，但我仍然无法查询所有列而不会丢失计划中的索引。

```
SELECT
   [Lx_AuditColumn].[auditColumnPK],
   CONVERT(NVARCHAR(204), [Lx_AuditColumn].[newValueString])
FROM
   [dbo].[Lx_AuditColumn] [Lx_AuditColumn],
   [dbo].[Lx_AuditTable] [Lx_AuditTable]
WHERE
   [Lx_AuditColumn].[auditTableFK] = [Lx_AuditTable].[auditTablePK]
AND
   [Lx_AuditTable].[createdDate] >=  @P1
AND
   [Lx_AuditTable].[createdDate] <=  @P2
ORDER BY
   [Lx_AuditColumn].[auditColumnPK] DESC 
```

这是表的基本结构（我消除了一些索引和 FK 约束）。

```
CREATE TABLE [dbo].[Lx_AuditTable]
(
   [auditTablePK] [int] NOT NULL IDENTITY(1, 1) ,
   [firmFK] [int] NOT NULL ,
   [auditMasterFK] [int] NOT NULL ,
   [codeSQLTableFK] [int] NOT NULL ,
   [objectFK] [int] NOT NULL ,
   [projectEntityID] [int] NULL ,
   [createdByFK] [int] NOT NULL ,
   [createdDate] [datetime] NOT NULL ,
   CONSTRAINT [Lx_PK_AuditTable_auditTablePK] PRIMARY KEY CLUSTERED
   (
      [auditTablePK]
   ) WITH FILLFACTOR = 90
)
GO

CREATE INDEX [Lx_IX_AuditTable_createdDatefirmFK]
   ON [dbo].[Lx_AuditTable]([createdDate], [firmFK])
   INCLUDE ([auditTablePK], [auditMasterFK])
   WITH (FILLFACTOR = 90, ONLINE = OFF)
GO

CREATE TABLE [dbo].[Lx_AuditColumn]
(
   [auditColumnPK] [int] NOT NULL IDENTITY(1, 1) ,
   [firmFK] [int] NOT NULL ,
   [auditTableFK] [int] NOT NULL ,
   [accessorName] [nvarchar] (100) NOT NULL ,
   [dataType] [nvarchar] (20) NOT NULL ,
   [oldValueNumber] [int] NULL ,
   [oldValueString] [nvarchar] (4000) NULL ,
   [newValueNumber] [int] NULL ,
   [newValueString] [nvarchar] (4000) NULL ,
   [newValueText] [ntext] NULL ,
   CONSTRAINT [Lx_PK_AuditColumn_auditColumnPK] PRIMARY KEY CLUSTERED
   (
      [auditColumnPK]
   ) WITH FILLFACTOR = 90 ,
   CONSTRAINT [Lx_FK_AuditColumn_auditTableFK] FOREIGN KEY
   (
      [auditTableFK]
   ) REFERENCES [dbo].[Lx_AuditTable] (
      [auditTablePK]
   )
)
GO

CREATE INDEX [Lx_IX_AuditColumn_auditTableFK]
   ON [dbo].[Lx_AuditColumn]([auditTableFK])
   WITH (FILLFACTOR = 90, ONLINE = OFF)
GO 
```

好的：

![在此处输入图像描述](../Images/f57f6d6d4a36c980cffaf84c74da8e56.png)

坏的：

![在此处输入图像描述](../Images/872dd67c71b8ccda310c48f549b16f7c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:53:47.273

使用此设置 - 在不详细了解表结构的情况下（还） - 您绝对应该：

*   在您的表 dbo.Lx_AuditColumn 上有一个**良好**`INT IDENTITY`的聚集索引（类似 a的东西几乎是完美的）
*   一个非聚集索引`Lx_AuditColumn.auditTableFK`来加速 JOIN 和参照完整性检查
*   上的非聚集索引`Lx_AuditColumn.AuditColumnPK`（当然，除非那已经是聚集的 PK！）
*   非聚集索引`Lx_AuditTable.CreatedDate`

另外：您应该使用正确的 ANSI/ISO 标准`INNER JOIN`语法（而不是仅使用逗号分隔的表列表来选择 - 请参阅[要踢的坏习惯：使用旧式 JOIN](https://sqlblog.org/2009/10/08/bad-habits-to-kick-using-old-style-joins)获取有关此主题的背景信息） - 使用此查询：

```
SELECT
   [Lx_AuditColumn].[auditColumnPK],
   CONVERT(NVARCHAR(204), [Lx_AuditColumn].[newValueString])
FROM
   [dbo].[Lx_AuditColumn] [Lx_AuditColumn]
INNER JOIN
   [dbo].[Lx_AuditTable] [Lx_AuditTable] ON [Lx_AuditColumn].[auditTableFK] = [Lx_AuditTable].[auditTablePK]
WHERE
   [Lx_AuditTable].[createdDate] >=  @P1
   AND
   [Lx_AuditTable].[createdDate] <=  @P2
ORDER BY
   [Lx_AuditColumn].[auditColumnPK] DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-26T06:07:35.300

我将 oldValueString 和 newValueString 更改为 NVARCHAR(255) 并且情况有所好转。但是，在我用缩短的列强行重新创建表之后，事情才恢复“正常”。我添加了一个伪造的 nvarchar(10) 列，使用设计模式将其转换为 int（即强制设计器创建新表并复制数据），然后删除额外的列。也许弹跳服务器或其他东西可以解决这个问题，但我能够像这样在不弹跳服务器的情况下做到这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T19:07:05.483

虽然我无法为这个问题提供一个优雅的解决方案（除了尝试索引、统计、索引视图等常用方法），但我可以破解这个问题：

将查询转换为使用`JOIN`语法并应用提示：

```
INNER HASH JOIN ... 
```

这将强制哈希连接也修复连接顺序。

这不好，因为 SQL Server 不能再适应不断变化的架构和数据。

# html - 如何为在桌面通知中创建的 Dom 添加事件处理程序？

> ID：12106862
> 
> 赞同：1
> 
> 时间：2012-08-24T09:40:10.713
> 
> 标签：html, google-chrome-extension

我在 Chrome 上使用桌面通知 API，我将一个文本框插入到使用创建的通知弹出窗口中`window.webkitNotifications.createHTMLNotification(...`，并绑定`keypress`事件。

当弹出窗口出现时，我输入了一些字符，但事件处理程序`keypress`不起作用。那么，如何让它发挥作用呢？

# .net - XmlTypeMapping 和 XmlMembersMapping 的区别？

> ID：12106865
> 
> 赞同：2
> 
> 时间：2012-08-24T09:40:12.657
> 
> 标签：.net, mono, xml-serialization

[XmlTypeMapping](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmltypemapping.aspx)和[XmlMembersMapping](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlmembersmapping.aspx)是[XmlMapping](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlmapping.aspx)的两个子类。

它们之间有什么区别？
特别是，任何想法为什么下面的 Mono[代码](http://git.neteril.org/mcs/plain/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs)分别处理两者？

```
 if (_typeMap is XmlTypeMapping)
        {
            if (_format == SerializationFormat.Literal)
                return ReadRoot ((XmlTypeMapping)_typeMap);
            else
                return ReadEncodedObject ((XmlTypeMapping)_typeMap);
        }
        else
            return ReadMessage ((XmlMembersMapping)_typeMap); 
```

# coldfusion - 从客户端上传文件到服务器显示路径不正确：tmp\neotmp3547547292957915297.tmp

> ID：12106866
> 
> 赞同：1
> 
> 时间：2012-08-24T09:40:20.370
> 
> 标签：coldfusion

我想使用 ColdFusion 将文件（无论文件类型）上传到服务器。所以我尝试了以下几行：

```
<cfform action="form.cfm" enctype="multipart/form-data" method="post">
    <input type="file" name="ScanCopyofthequotation" />
    <input type="submit" value="Submit" name="submit" />
</cfform>

<cfif isdefined("form.submit")>
    <cffile
        action="UPLOAD"
        filefield="Form.ScanCopyofthequotation"
        destination="C:\Inetpub\wwwroot\Devlopment\Mani\Backup\"
        nameconflict="MAKEUNIQUE">
</cfif> 
```

它上传很好。但是在显示它选择的路径时，`<input type="file" ...>` 它会显示以下路径 *C:\ColdFusion9\runtime\servers\coldfusion\SERVER-INF\temp\wwwroot-tmp\neotmp3547547292957915297.tmp*

我试图解决这个问题。但是失败了。有人可以帮忙显示确切的路径吗？

* * *

我有一个 ColdFusion 表格：

```
<cfif not IsDefined("form.Submit")> 
    <cfform action = "cfmail.cfm" enctype="multipart/form-data" method="POST"> 
       ScanCopy :   <cfinput type="file" name="scancopy">
    <cfform> 
<cfelse> 
   <cfoutput> Scancopy : #scancopy#</cfoutput>
</cfif> 
```

我试图打印我正在上传的文件，但是在打印该文件名时，我得到以下文件路径：

```
C:\ColdFusion9\runtime\servers\coldfusion\SERVER-INF\temp\wwwroot-tmp\neotmp3547547292957915297.tmp 
```

我也试过cfdump。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T10:27:58.163

这将为您提供服务器上上传文件的目录、名称和扩展名。

```
<cfdump var="#cffile.serverDirectory##cffile.serverFile#" /> 
```

在您的 CFFILE 标签之后添加它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:58:01.563

所以你的文件上传到你的`destination`路径。您可以从中获取的文件名`cffile.ServerFile`. 通过连接两者，您将获得完整路径。

# iphone - 如何使用高度超过单元格高度的单元格背景图像？

> ID：12106872
> 
> 赞同：1
> 
> 时间：2012-08-24T09:40:46.423
> 
> 标签：iphone, ios, ipad, uitableview, custom-cell

我面临一个问题，以高于单元格高度的高度显示单元格选择的图像。

这是示例：

![在此处输入图像描述](../Images/338dfbe8dc05beecca18f6611c3b0ab2.png)

所以在这里，我的单元格高度是 44，但选定的单元格背景图像高度是 50。

我试图设置单元格选择的背景图像，并通过将新的图像视图添加到单元格作为子视图。但是这样做会使单元格被选中并且图像正在缩放以填充单元格高度的大小。因此该箭头出现在单元格内并且图像被挤压。

我尝试的第二种方法是使用按钮分隔箭头图像，但该选项对我也不起作用。如果我采用这种方法，则不会显示该按钮。在这里，我认为该部分与表格视图的下一行重叠。

请建议我如何解决这种情况。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:48:43.103

我想您可以使用`Clip Subviews`单元格或实际表格的属性。您只需将`UIImageView`其放入单元格中（不确定是否可以将其分配为背景属性，但您可以尝试）并将其高度设置为大于单元格高度。但唯一的问题是您可能会遇到图像重叠的情况。您可以尝试通过设置实际索引将视图放置在选定状态的位置来解决它。

嗯，测试了一下。看看这段代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellId = @"cellIdentifier";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId];
    if (!cell) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId] autorelease];
        cell.clipsToBounds = NO;
        cell.textLabel.textColor = [UIColor whiteColor];
        cell.textLabel.backgroundColor = [UIColor clearColor];
        cell.selectionStyle = UITableViewCellSelectionStyleNone;

        CGRect frame = cell.bounds;
        UIImageView *background = [[UIImageView alloc] initWithFrame:frame];
        background.image = [UIImage imageNamed:@"CellBackground"];
        cell.backgroundView = background;
        [background release];

        frame.size.height = 50.0;
        UIImageView *selected = [[UIImageView alloc] initWithFrame:frame];
        selected.tag = 13;
        selected.image = [UIImage imageNamed:@"CellSelectedBackground"];
        [cell insertSubview:selected atIndex:1];
        selected.hidden = YES;
        [selected release];
    }
    cell.textLabel.text = [NSString stringWithFormat:@"cell %d", indexPath.row];

    return cell;
} 
```

这里的主要内容是`cell.clipsToBounds = NO;`和`[cell insertSubview:selected atIndex:1];`。但是为单元创建子类并在此处处理所有内容和选择会更好。尽管从您的图片中可以看出，您已经在使用子类单元格了:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-26T06:00:27.273

感谢您的所有回复。我已经解决了这个问题，代码在这里：

```
 - (id)initWithStyle:(UITableViewCellStyle)style
        reuseIdentifier:(NSString *)reuseIdentifier
    {
      self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];

      if (self) {
        // Initialization code

        [self setClipsToBounds:NO];

       // selected background image view
        if (self.selectedBgImageView == nil) {

    //     w 302  :  h 50
          self.selectedBgImageView = [[UIImageView alloc]
                                      initWithFrame:CGRectMake(0, -5, 302, 50)];
        }
      [self.selectedBgImageView setContentMode:UIViewContentModeScaleToFill];    
        [self.contentView addSubview:self.selectedBgImageView];
}

- (void)setSelected:(BOOL)selected animated:(BOOL)animated
{
  [super setSelected:selected animated:animated];

  // Configure the view for the selected state

  // child count label
  [self.childCountLabel setBackgroundColor:
    [UIColor colorWithPatternImage:
    [UIImage imageNamed:@"btn_contacts_network_total"]]];

  // selected background image view
  if (self.indentationLevel % 2 == 0) {

    [self.selectedBgImageView setImage:
     [UIImage imageNamed:@"img_contacts_network_expand_box_tier1"]];
  }
  else {

    [self.selectedBgImageView setImage:
     [UIImage imageNamed:@"img_contacts_network_expand_box_tier2"]];
  }

  [self.selectedBgImageView setContentMode:UIViewContentModeScaleToFill];
//  [self.con:selectedBgImageView];
} 
```

在那里我发现设置框架是一个问题，我不知道这种奇怪的框架原点计算的原因。但不知何故，它对我有用，并且按照要求完美地工作。

如果有人知道这种行为背后的原因，请指导我。

# iphone - 如何通过 UITableview 中的上述自定义 UITextFiled.text 验证自定义单元格中的 UITextField.text 不大于？

> ID：12106875
> 
> 赞同：-1
> 
> 时间：2012-08-24T09:40:48.933
> 
> 标签：iphone, objective-c, ios, uitableview

我在 CustomCell 中有一个 UITextFiled。然后我在 ProductDelivery 类的 UITableView 中加载这些单元格。我正在为 UITextField *txtQty CellForRowAtIndexPath 方法分配一些初始值。

我的问题是我想验证用户在 UITextField 中输入的值不能大于以上单元格 UItextField 的值。

当用户在 UITextField CustomCell 类 DidEndEding 方法类中输入值但我希望在 UITableView 类中有这个值，即产品交付。所以我可以验证它并用新值重新加载 UITableView。有人可以帮我解决这个问题吗？

```
@interface ProductDeliveryCell : UITableViewCell<UITextFieldDelegate>
@property(nonatomic,retain)IBOutlet UITextField *txtQty;
@end

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"ProDeliveryCell";
    cell =(ProductDeliveryCell*) [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell==nil) 
{

        NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"ProductDeliveryCell" owner:self options:nil];
        cell = [topLevelObjects objectAtIndex:0]; 
    }
 cell.txtQty.text=del.Qty;
return cell;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T10:08:41.877

最好的方法是将所有输入的值存储在一个特殊的字典中。您应该创建`NSMutableDictionary`放置价值观的地方。并且`UITextField`您的单元格中的每个都应该将其自己的标签设置为`indexPath.row`值（在`tableView:cellForRowAtIndexPath:`消息中）。现在在`textField:didEndEditing`消息中，您应该使用如下代码存储输入的值：

```
[valuesDictionary setValue:textField.text forKey:[NSString stringWithFormat:@"field%02d", textField.tag]]; 
```

因此，您可以随时检查任何输入的值。只需获取已编辑文本字段的标签并`[NSString stringWithFormat:@"field%02d", tag-1]`从字典中选择键的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T10:12:03.167

现在在变量中输入时保存 textField 值说 currentValue;

在这件事上使用 UITextFieldDelegates。检查输入的值是否大于上面输入的值

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
    if(currentValue > 0)//(!(currentValue == 0)) //intially it will be zero
    {
       if([textField.text intValue] > currentValue)
       {
             //message value greater
             textField.text = [textField.text substringToIndex:[textField.text length] - 1]; //remove last number entered
        }
     }
} 
```

保存新值

```
- (void)textFieldDidEndEditing:(UITextField *)textField
{
  currentValue = [textField.text intValue]; //save new Value
} 
```

# c++ - C++中的队列性能分析

> ID：12106878
> 
> 赞同：0
> 
> 时间：2012-08-24T09:41:06.400
> 
> 标签：c++, algorithm

以下是 Robert Sedwick 在队列中的 C++ 算法的文本片段。

> 尽管无论使用什么规则删除，涉及待处理工作队列的许多应用程序都能正常运行，但总体运行时间或其他资源使用可能取决于规则。当此类应用程序涉及对包含大量项目的数据结构进行大量“插入”和“删除”操作时，性能差异至关重要。

我的问题是我们有删除规则，例如后进先出队列删除后进后出，队列是先进先出，但它与插入大量项目有何关系，如上段所述。任何人都可以重新措辞以上段落以有一个清晰的理解。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:47:17.323

我认为作者的意思是，您可以简单地使用 FIFO 或 LIFO 队列，但在某些情况下，通过使用首先处理队列中资源密集的项目的算法可以获得更好的性能。

以机场为例。很多行李箱都在办理登机手续的部门。您可以按照它们进入的顺序（FIFO）将它们存储在飞机中，或者您可以先放入大的，然后再存储小的，这样可以更好地使用存储空间。

# android - 即使它没有在 Android 中创建，如何返回到另一个 Activity？

> ID：12106884
> 
> 赞同：0
> 
> 时间：2012-08-24T09:41:51.187
> 
> 标签：android

假设我有两个活动。
活动 A 和活动 B，而活动 A 是主要活动。
Activity A 中有一个按钮将转到 Activity B。
因此，Activity A -> 单击 -> Activity B 然后单击返回按钮，它将返回到 Activity A。
但是，还有另一个故事，我将有一个GCM 通知。
当点击通知时，会立即转到Activity B。
但问题是：

1.  如果应用程序已经运行，当我单击通知并转到活动 B，然后单击返回按钮时，它将正确返回活动 A。
2.  如果我杀死应用程序，然后单击通知并转到活动 B，然后单击返回按钮，它将转到主屏幕。但问题是我希望它会回到活动 A。

如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:44:21.660

覆盖您的 onBackPressed 方法并使用意图启动活动 A。

```
@Override
public void onBackPressed() {
    // TODO Auto-generated method stub
    super.onBackPressed();
        // Start Activity A heres
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:50:03.793

```
@Override
public void onBackPressed() {
// Don't forget to remove super.onBackPressed()
startActivity(new Intent(ActivityB.this,ActivityA.class));

} 
```

# twitter - Twitter API 1.1：流式 API 和 OAuth

> ID：12106887
> 
> 赞同：4
> 
> 时间：2012-08-24T09:42:11.883
> 
> 标签：twitter, twitter-oauth

根据已发布的 Twitter API 1.1（[此处](https://dev.twitter.com/blog/changes-coming-to-twitter-api)）：当前 Streaming API 支持 OAuth 和基本身份验证（[此处](https://dev.twitter.com/docs/auth)）；这会保留，还是使用基本身份验证的应用程序也需要使用 OAuth？问这个是因为不知道宣布的更改会影响 Streaming API。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T12:31:43.370

我[在同一个地方](https://dev.twitter.com/discussions/10262)看到，基本身份验证不会被流 API 永远接受（现在唯一支持它的）。因此，他们何时将其完全关闭只是时间问题。

# android - 使用 Loader 发出多个 HTTP 请求

> ID：12106892
> 
> 赞同：0
> 
> 时间：2012-08-24T09:42:25.510
> 
> 标签：android, asynchronous

我阅读了 的文档，`Loader`上面写着 a`LoaderManager`可以有多个可以通过 id 识别的加载器。但是我有一个困惑，如果我想`HTTP requests`异步制作 5 个或 6 个，我该如何使用多个加载器来实现这一点。我在想的是每次我想做一个新的`HTTP request`，我都会得到一个`instance`正在实施的新类`AsyncTaskLoader`。一个例子将不胜感激。

# css - 显示：表格单元格在 IE9 中不起作用？

> ID：12106894
> 
> 赞同：5
> 
> 时间：2012-08-24T09:42:32.113
> 
> 标签：css

我有一个表格，我在其中使用 CSS 显示属性来更改布局。对于全尺寸浏览器，我使用“block”，对于较小的浏览器，我使用“table-cell”。它在 Firefox、Safari 和 Chrome 中运行良好，但不知何故 IE9 似乎把它搞砸了……当我使用 Firebug 等调试页面时，很明显，除了 IE 之外的所有浏览器都将 display:table-cell 更改为显示：堵塞。但是 IE 卡在 display:block 上，即使 CSS 文件明确指出它应该是表格单元格。

IE9 中的“table-cell”是否存在任何已知问题或任何已知的解决方法？

编辑：问题不在于表格单元格，而在于表格单元格上的 Display:block 。

我遇到的问题可以在这里找到：[http](http://css-tricks.com/examples/ResponsiveTables/responsive.php) ://css-tricks.com/examples/ResponsiveTables/responsive.php 在 Chrome/Firefox 中打开并调整浏览器窗口的大小 - 表格是响应式的并且更改为窄设计。在 IE9 中打开并调整大小 - 表格是静态的，不会改变。

EDIT2：在前面的示例中，响应部分被 IE 注释掉，因为创建者知道它会很乱。尽管如此，我希望能够创建这种在 IE 中也可以使用的设计，所以我需要做一些解决方法来让它工作。

这是一个 JSFiddle，它显示了 IE9 在包含响应部分时如何弄乱响应表：http: [//jsfiddle.net/2Mt37/](http://jsfiddle.net/2Mt37/)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-27T10:49:32.840

我从@thirtydot 写的旧线程中找到了答案

> 我应用了**float: left** to stuff。它有点工作。

[如何使“显示：块”在 IE 中的 <td> 上工作？](https://stackoverflow.com/questions/5091503/how-can-i-make-display-block-work-on-a-td-in-ie)

正如他所说，它*有点*工作...... IE9 停止渲染一切疯狂的东西，但仍有一些事情要做以使其看起来更好。但是这个答案已经足够好了，我可以自己解决其余的问题......

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-24T10:01:39.487

X-UA-Compatible 元标记允许网页作者选择页面应呈现为哪个版本的 Internet Explorer。

这些是您的选择：

```
"IE=5"
"IE=EmulateIE7"
"IE=7"
"IE=EmulateIE8"
"IE=8"
"IE=EmulateIE9
"IE=9"
"IE=edge" which tells Internet Explorer to use the highest mode available to that version of IE.

But I recommend you to use this one:

    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"> 
```

chrome=1 用于 Google 的 Chrome Frame，它是一个开源浏览器插件。安装了该插件的用户在浏览器中打开页面时可以访问 Google Chrome 的开放网络技术和快速的 JavaScript 引擎。它增强了您在 Internet Explorer 中的浏览体验，让您可以访问最新的 HTML5 功能以及 Google Chrome 的性能和安全功能。

# html - 隐藏的输入字段会影响 SEO 吗？

> ID：12106899
> 
> 赞同：0
> 
> 时间：2012-08-24T09:42:46.310
> 
> 标签：html, seo

如果我在表单中隐藏了输入字段，我可以将它们扔到任何地方，还是 SEO 会为此“惩罚”我？

例子：

```
...
<td>text</td>
<input type='hidden' />
<td>more text</td>
....
<td>text<input type='hidden' /></td>
<td>more text</td>
.... 
```

..不仅仅是表格中的任何地方，而是页面中的任何地方，如果它被隐藏，你把它放在哪里有关系吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:46:59.400

**不是形式没有。**

Google 知道并希望人们以多种形式使用隐藏的输入字段！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-25T09:32:07.017

Google 建议您必须隐藏您的代码，但不要对网站访问者隐藏网站内容。示例如果您的网站比访问者打开，则必须看到您的内容。

# symfony1 - 无法在 symfony 撇号 cms 中打开链接

> ID：12106900
> 
> 赞同：1
> 
> 时间：2012-08-24T09:42:53.690
> 
> 标签：symfony1, content-management-system, apostrophe

我完全按照撇号手册中的步骤在 Symfony 中重新安装了撇号插件。无需修改 vhost.sample。仅编辑 /etc/apache2/httpd.conf 文件以包含 ServerName localhost。现在我可以完美地获得索引页了。但无法打开任何链接。给出页面未找到错误。Mod_Rewrite 已启用。我是 Symfony 和撇号的新手。

# python - Django：时区不是 JSON 可序列化的

> ID：12106905
> 
> 赞同：0
> 
> 时间：2012-08-24T09:43:04.330
> 
> 标签：python, django, serialization

我正在通过像 GMT +4:30 这样的时区

这就是我序列化字典的方式

```
json = {}

json['timezone'] = form.cleaned_data['timezone']
from django.utils import simplejson
getjson  = simplejson.dumps(json) 
```

我得到了

```
<GlobalVariable: GMT +4.30> is not JSON serializable 
```

我如何序列化它，任何想法....？

确保在 forms.py 我正在定义我的时区字段，例如

```
timezone = forms.ModelChoiceField(label="Status", queryset=GlobalVariable.objects.all(), widget=forms.Select(attrs={'class':'selector'})) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T10:09:02.057

```
>>> from django.utils import simplejson
>>> from django.core.serializers.json import DjangoJSONEncoder
>>> a = simplejson.dumps(json, cls=DjangoJSONEncoder)
>>> a
'{"timezone": "GMT + 4.30"}' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:47:56.753

也许你可以尝试重命名你的 var ：

```
timezone = {'timezone': 'GMT +4:30'}
getjson  = simplejson.dumps(timezone) 
```

我没有尝试过使用 Django，但是使用 Python 的 json 模块没有问题。

# asp.net - 如何同时更新 2 个表格中的字段

> ID：12106912
> 
> 赞同：2
> 
> 时间：2012-08-24T09:43:38.997
> 
> 标签：asp.net, database, ms-access, ado.net, sql-update

我必须在访问数据库中使用表格

用户

*   用户身份
*   用户名
*   用户激活

用户信息

*   用户信息
*   用户实名
*   用户电话

然后我从一些 asp:text 字段获取信息到更新处理程序，我知道如何为一个表执行此操作，但不是为 2 个。

通常我用这个

```
 Dim strSQL As String = ""
    strSQL = "" & _
    "UPDATE Userinfo " & _
    "SET userrealname = @therealname, userphone = @theuserphone " & _
    "WHERE userinfoid =" & Session("theeditid") & ""

    Using connection As OleDbConnection = New OleDbConnection(ConfigurationManager.ConnectionStrings("ConnStr").ConnectionString)
        Using updatecmd As OleDbCommand = New OleDbCommand(strSQL, connection)
            updatecmd.CommandType = CommandType.Text
            updatecmd.Parameters.AddWithValue("@therealname", OleDbType.VarChar).Value = TextBox1.Text
            updatecmd.Parameters.AddWithValue("@theuserphone", OleDbType.VarChar).Value = CKEditor1.Text
            Try
                updatecmd.Connection.Open()
                Dim i As Integer = CInt(updatecmd.ExecuteNonQuery())
                If i = 0 Then
                    Session("editsucces") = "NoMatch" 'no rows were updated because none matched the criteria
                End If
            Catch ex As Exception
                Session("editsucces") = "DBerror" 'Something went wrong, such as the database was unavailable
            End Try
        End Using
    End Using 
```

所以我现在的问题是，如何从用户表中添加字段！？user.userid 与 userinfo.userinfoid 中的数字相同。

编辑…………编辑…………编辑…………编辑…………编辑…………编辑…… ........编辑

所以这段代码没问题，还是你建议我改变一些！？

```
Dim strSQL As String = ""
    strSQL = "" & _
    "UPDATE Users INNER JOIN Userinfo ON Users.UserID = Userinfo.UserID " & _
    "SET Users.Username = [@uname], Users.Password = [@upass], Users.UserActiv = [@uactiv], Userinfo.UserRealName = [@urname], Userinfo.UserEmail1 = [@umail], Userinfo.UserDOB = [@udob], Userinfo.UserPhone1 = [@uphone1], Userinfo.UserPhone2 = [@uphone2], Userinfo.UserPhone3 = [@uphone3], Userinfo.UserYear = [@uyear], Userinfo.UserSick = [@usick] " & _
    "WHERE Users.UserID = [@uid]"

    Using connection As OleDbConnection = New OleDbConnection(ConfigurationManager.ConnectionStrings("ConnStr").ConnectionString)
        Using updatecmd As OleDbCommand = New OleDbCommand(strSQL, connection)
            updatecmd.CommandType = CommandType.Text
            updatecmd.Parameters.AddWithValue("@uname", OleDbType.VarChar).Value = userinput1.Text
            updatecmd.Parameters.AddWithValue("@upass", OleDbType.VarChar).Value = userinput2.Text
            updatecmd.Parameters.AddWithValue("@uactiv", OleDbType.VarChar).Value = "Y"
            updatecmd.Parameters.AddWithValue("@urname", OleDbType.VarChar).Value = userinput3.Text
            updatecmd.Parameters.AddWithValue("@umail", OleDbType.VarChar).Value = userinput4.Text
            updatecmd.Parameters.AddWithValue("@udob", OleDbType.VarChar).Value = userinput5.Text
            updatecmd.Parameters.AddWithValue("@uphone1", OleDbType.VarChar).Value = userinput6.Text
            updatecmd.Parameters.AddWithValue("@uphone2", OleDbType.VarChar).Value = userinput7.Text
            updatecmd.Parameters.AddWithValue("@uphone3", OleDbType.VarChar).Value = userinput8.Text
            updatecmd.Parameters.AddWithValue("@uyear", OleDbType.VarChar).Value = userinput9.Text
            updatecmd.Parameters.AddWithValue("@usick", OleDbType.VarChar).Value = usertextarea.Text
            Try
                updatecmd.Connection.Open()
                Dim i As Integer = CInt(updatecmd.ExecuteNonQuery())
                If i = 0 Then
                    Session("editsucces") = "NoMatch" 'no rows were updated because none matched the criteria
                End If
            Catch ex As Exception
                Session("editsucces") = "DBerror" 'Something went wrong, such as the database was unavailable
            End Try
        End Using
    End Using

    Response.Redirect("default.aspx", False) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:50:03.960

据了解，我认为 user 和 userinfo 表之间存在一一对应的关系。（考虑到 user.userid 与 userinfo.userinfoid 相同，它们似乎是各自表中的主键）。因此，这两个表应该合并为一个表。

现在，如果您想更新两个表中的列，您将在每个表上运行两个更新语句。如果要确保原子性，可以在单个事务中运行两个更新语句。这有意义还是我错过了什么？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:58:54.837

应该可以创建一个连接来更新两个表。例如：

```
sSQL = "UPDATE [User] INNER JOIN userinfo " _
& "ON User.UserID = userinfo.userinfoid SET " _
& "[User].UserName = [uname], userinfo.userrealname = [urname] " _
& "WHERE [User].UserID = [uid]"

cmd.ActiveConnection = cn
cmd.CommandText = sSQL
cmd.CommandType = adCmdText
cmd.Parameters.Append cmd.CreateParameter( _
    "uname", adVarChar, adParamInput, 50, "user name")
cmd.Parameters.Append cmd.CreateParameter( _
    "urname", adVarChar, adParamInput, 50, "user real name")
cmd.Parameters.Append cmd.CreateParameter( _
    "uid", adInteger, adParamInput, , 2)
cmd.Execute 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-24T14:29:11.360

你应该使用事务。以原子方式在数据库中进行许多更改是常见的方法。您的案例的好例子[http://www.dreamincode.net/forums/topic/186402-transaction-on-access-database-adonet/](http://www.dreamincode.net/forums/topic/186402-transaction-on-access-database-adonet/)

```
Using con As New OleDbConnection(ConfigurationManager.ConnectionStrings("ConnStr").ConnectionString)
  Dim cmd As New OleDbCommand("", con)
  Dim tra As OleDbTransaction = Nothing
  Dim ct1 As String = ""
  Dim ct2 As String = ""

  Try
    con.Open()
    tra = con.BeginTransaction
    cmd.Transaction = tra

    strSQL = "" & _
    "UPDATE User " & _
    ' set fields needed to update in table USER
    "WHERE userid =" & Session("theeditid") & ""
    cmd.CommandText = strSQL
    ' set parameters for user update
    cmd.ExecuteNonQuery()

    strSQL = "" & _
    "UPDATE Userinfo " & _
    "SET userrealname = @therealname, userphone = @theuserphone " & _
    "WHERE userinfoid =" & Session("theeditid") & ""
    cmd.CommandText = strSQL
    cmd.Parameters.Clear()

    ' set parameters for userinfo update
    cmd.ExecuteNonQuery()

    ' Complete transacton
    tra.Commit()

    ' i think here should be closing cmd

    Catch ex As Exception
      MsgBox("The data could not be saved.", MsgBoxStyle.Critical, "Error")
      Try : tra.Rollback() : Catch : End Try
    End Try
End Using 
```

# windows-8 - 如何在 Windows 8 应用程序中指定文化的根本变化

> ID：12106919
> 
> 赞同：2
> 
> 时间：2012-08-24T09:43:57.077
> 
> 标签：windows-8

来自 App.cs 中的 OnLaunched

这是工作...

```
Windows.Globalization.ApplicationLanguages.PrimaryLanguageOverride = "da-DK"; 
```

但这些都不是……

```
System.Globalization.CultureInfo.DefaultThreadCurrentUICulture = new System.Globalization.CultureInfo("da-DK");
System.Globalization.CultureInfo.DefaultThreadCurrentCulture = new System.Globalization.CultureInfo("da-DK"); 
```

我没有反映它，但后者不应该一样好吗？

我在这里遗漏了一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-27T12:03:51.640

两者的区别在于`System.Globalization.CultureInfo.DefaultThreadCurrentCulture = new System.Globalization.CultureInfo("da-DK");` 定义**新创建线程**的默认区域性。这意味着已经在运行的线程不受它的影响。要更改已运行线程的文化，您需要使用该`System.Globalization.CultureInfo.CurrentCulture`运行线程内的属性。

```
Windows.Globalization.ApplicationLanguages.PrimaryLanguageOverride = "da-DK"; 
```

范围更广，也会修改已经运行的线程。但它更多地被用作应用程序中的“语言选择”，而不是替代 CultureInfo（它不仅用于语言，还用于转换、度量、格式化等）

# flash - Flash as2 碰撞优化

> ID：12106920
> 
> 赞同：3
> 
> 时间：2012-08-24T09:44:03.107
> 
> 标签：flash, actionscript-2

现在我正在做一个 as2 项目，该项目需要在任何给定时间出现在屏幕上的大量子弹和敌人。问题是，要让每颗子弹正确碰撞，我必须遍历每个敌人以查看距离是否在范围内。每帧循环遍历每个敌人的每个子弹确实是加起来，我的帧速率受到了打击。还有其他方法可以进行此类检查吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:49:50.170

我用于此类碰撞的最佳方法是二叉树方法。

您首先要为包含所有敌人的敌人创建一个外壳，每一帧子弹都会使用简单的命中测试检查它们是否与外壳发生碰撞。然后你需要开始将敌人分成子炮弹，主炮弹将包含两个炮弹，每个炮弹将包含两个炮弹，依此类推。然后，一旦你检查子弹是否击中了主炮弹，你检查它是否击中了 sub-shell-1，如果它已经消灭了一半可能的敌人。然后您继续查看它是否已击中 sub-shell-1-1，如果没有，则它已击中 sub-shell-1-2，无需检查，您再次消除了当前可能性的一半，仅一次命中测试。

:)

# sharepoint - SharePoint 2010 - “企业关键字”字段的托管属性是什么？

> ID：12106926
> 
> 赞同：1
> 
> 时间：2012-08-24T09:44:29.750
> 
> 标签：sharepoint, sharepoint-2010

我有包含企业关键字网站列的页面库。如果我正在加载企业关键字列包含“主页”的页面，那么我想获取在其企业关键字列中具有相同值的所有其他页面的列表。

我正在尝试编写一个 KeyWordQuery 来搜索企业关键字的分类字段。但我不确定哪个是它的托管属性。我找到了一个名为“TaxKeyword”的爬网属性，但它没有映射到任何托管属性。

有人可以帮我弄这个吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-26T20:46:43.580

它是您正在寻找的“标签”映射属性吗？我相信“标签”映射的属性将从企业关键字列返回值。

# silverlight - 将（MVVM）模型类列表传递给Web服务的最佳实践是什么

> ID：12106929
> 
> 赞同：0
> 
> 时间：2012-08-24T09:44:54.180
> 
> 标签：silverlight, web-services, mvvm

我有一个自定义类的列表，它是 mvvm 模式中的模型。我需要在 DB 中插入列表数据。那么任何人都可以建议将此列表传递给网络服务的最佳方式是什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:58:48.750

如果列表不是太大，您可以尝试将列表序列化并“按原样”发送。如果它太大，您的服务的 MaxReceivedMessageSize 和 maxBufferSize 属性可能会出现问题，您应该将它们设置得尽可能大。当然，我假设您在双方（客户端和服务器）都有相同的模型来序列化和反序列化它。

要减少您发送的数据大小，您可以尝试使用 TCP 绑定而不是 HTTP。

如果它仍然太大，您可能必须将列表分块并通过多次调用相同的服务来发送它。

在许多情况下，我也做了几种解决方法。例如，如果您只需要更新仅更改几个字段的对象列表，我会使用创建一个新的 object-id + 新值列表并在服务器端进行更改，而不是更改客户端中的所有内容，然后将其发送到服务器。

希望这可以帮助你;-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-25T03:54:44.460

我们公开一个发送和接收 DTO 的 WCF 服务，然后在 Silverlight 中创建一个服务引用。我们在 Silverlight 中使用 EmitMapper 将模型类映射到代理生成的 DTO。

更新了代码示例。

服务器端的 DTO 类：

```
public class CompanyDTO
{
    public string Name
    {
        get;
        set;
    }
} 
```

WCF服务接口：

```
[ServiceContract]
public interface IUpdateService
{
    [OperationContract]
    void InsertCompanies(List<CompanyDTO> companies);
} 
```

WCF服务实现：

```
public class UpdateService : IUpdateService
{
    public void InsertCompanies(List<CompanyDTO> companies)
    {
        // insert stuff into database
    }
} 
```

Silverlight 中的模型类：

```
public class Company
{
    public string Name
    {
        get;
        set;
    }
} 
```

调用代理：

```
public MainPageViewModel()
{
    var company = new Company { Name = "Amalgamated Co." };
    var companyDTO = EmitMapper.ObjectMapperManager.DefaultInstance
            .GetMapper<Company, UpdateServiceProxy.CompanyDTO>().Map(company);

    UpdateServiceProxy.IUpdateService client = new UpdateServiceProxy.UpdateServiceClient();
    client.BeginInsertCompanies(
            new ObservableCollection<UpdateServiceProxy.CompanyDTO> { companyDTO }, null, null);
} 
```

[发射映射器可在此处获得](http://emitmapper.codeplex.com)

# c# - 如何在插入查询中将图像名称作为参数

> ID：12106935
> 
> 赞同：3
> 
> 时间：2012-08-24T09:45:30.520
> 
> 标签：c#, .net, sql, sql-server, tsql

我在如何给出从硬编码值中选择的图像名称时遇到了麻烦，如下所示。

```
cmd = new SqlCommand("insert into Images(Image)", conn);
cmd.CommandType = CommandType.Text;
cmd.Parameters.Add("@img", SqlDbType.Image).Value = img; 
```

它在第一行抛出异常，它说

> *")" 语法不正确。*

我只想将`img`第 3 行中的值放入`Images`具有 3 列的表中`viz Id`，`Name`并且`Image`。我想将数据类型插入`image(img)`到`Image`列中`image`。

请帮我 ：（

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-24T09:46:38.647

`INSERT`您的语法无效。试试这个，

```
cmd = new SqlCommand("insert into Images([Image]) VALUES (@img)", conn);
cmd.CommandType = CommandType.Text;
cmd.Parameters.Add("@img", SqlDbType.Image).Value = img; 
```

还有一件事，`img`必须是字节数组。

# linux - ulimit -t Linux

> ID：12106939
> 
> 赞同：0
> 
> 时间：2012-08-24T09:45:55.937
> 
> 标签：linux, ulimit

我在 Eclipse-Ubuntu 上写了两个简单的程序来测试 ulimit 终端命令（附上他们的二进制文件）++++++++++++++++++++++++++++++ ++ 迭代器

```
#include<iostream>
using namespace std;
int main(){
for(long long i = 0;;i++)
cout << i << endl;
return 0;
} 
```

++++++++++++++++++++++++++++++++++ 定时器

```
#include<iostream>
#include<time.h>
using namespace std;
clock_t start;
int main(){
start = clock();
for(long long i = 0;;i++)
cout << i << " in " << (double)(clock()-start)/(double)CLOCKS_PER_SEC << "seconds" << endl;
return 0;
} 
```

++++++++++++++++++++++++++++++++++ 测试计时器

```
+ulimit -t 0; '[PATH]\timer 
```

**输出结束**

```
116997 in 1.06seconds
Killed

'+ulimit -t 1; '[PATH]\timer 
```

**输出结束**

```
102501 in 0.96seconds
Killed

'+ulimit -t 2; '[PATH]\timer 
```

**输出结束**

```
[TEST 1]133073 in 1.19seconds
Killed
[TEST 2]101894 in 1seconds
Killed
[TEST 3]100950 in 0.96seconds
Killed
[TEST 4]126723 in 1.13seconds
Killed
[TEST 5 after opening a new terminal session]229302 in 2.14seconds
Killed

'+ulimit -t 5; '[PATH]\timer 
```

**输出结束**

```
**[TEST 1]219295 in 1.99seconds
Killed**
**[TEST 2 ater opening a new session]603088 in 5.47seconds
Killed** 
```

++++++++++++++++++++++++++++++++++ 测试迭代器

```
+ulimit -t 0; '[PATH]\iterator' 
```

**输出结束**

```
200412
Killed

+ulimit -t 1; '[PATH]\iterator' 
```

**输出结束**

```
199462
Killed

+ulimit -t 2; '[PATH]\iterator' 
```

**输出结束**

```
206111
Killed

+ulimit -t 5; '[PATH]\iterator' 
```

**输出结束**

```
244284
Killed 
```

你认为是什么问题？似乎新的终端会话设置了新的时间限制提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T09:57:38.497

在 GNU/Linux 上，可以在`/etc/security/limits.conf`配置文件中为所有会话设置 cpu 限制，前提是您在`pam`配置中提及 pam_limits.so

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T10:32:38.443

这是正确的。ulimit 适用于当前 shell 的后代，而不是不相关的进程。

# android - 带点的 EditText

> ID：12106941
> 
> 赞同：-1
> 
> 时间：2012-08-24T09:45:59.167
> 
> 标签：android, android-edittext

```
final EditText Edt= new EditText(this);
Edt.setLayoutParams(new TableRow.LayoutParams(100,30));
Edt.setHorizontallyScrolling(true);
Edt.setPadding(5, 0, 0, 0);
Edt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 15);
Edt.setInputType(InputType.TYPE_CLASS_NUMBER);
Edt.setTypeface(Typeface.DEFAULT); 
```

我想在 java 代码中允许 EditText 中的 .(dot) ，怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T12:38:59.950

可能下面的代码对您有用：

Edt.setSingleLine();

这将显示一行文本，直到 EditText 宽度，它会删除多余的文本并将 .(dot) 替换为该文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-29T10:29:49.817

对于仍然对此感兴趣的任何人：

```
 Edt.setInputType(InputType.TYPE_CLASS_NUMBER | InputType.TYPE_NUMBER_FLAG_DECIMAL); 
```

现在 EditText 只允许数字和点。

# android - 如何以编程方式截取根视图的屏幕截图并将其设置回android中该布局的背景？

> ID：12106943
> 
> 赞同：0
> 
> 时间：2012-08-24T09:46:12.927
> 
> 标签：android, bitmap, screenshot

我需要截取我活动的主要布局的屏幕截图，然后再次将其设置为该布局的背景。我正在使用以下代码。

```
Bitmap bitmap;
       View v1 = getWindow().getDecorView().findViewById(android.R.id.content);
       v1.setDrawingCacheEnabled(true);
       bitmap = Bitmap.createBitmap(v1.getDrawingCache());
       v1.setDrawingCacheEnabled(false); 
```

以下代码用于将其设置为背景

```
Drawable dr=new BitmapDrawable(getResources(), bitmap);
                        mLinearLayout.setBackgroundDrawable(dr); 
```

但是当我设置它时，图像会向下滑动。我的意思是每次截屏和设置时它都会向下缩小。谁能告诉我这个问题。

请建议一些示例代码。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:09:18.250

一个小小的改变就让它发生了。

```
Bitmap bitmap;
       View v1 = RootView;
       v1.setDrawingCacheEnabled(true);
       bitmap = Bitmap.createBitmap(v1.getDrawingCache());
       v1.setDrawingCacheEnabled(false); 
```

# php - 将标签分配给 PHP 生成表中的第一列

> ID：12106946
> 
> 赞同：0
> 
> 时间：2012-08-24T09:46:37.273
> 
> 标签：php, html, charts, html-table

使用不同的函数从 PHP 查询生成表。我正在尝试使用灯丝 jQuery 可视化插件生成图表。几乎在那里，但似乎我需要标记第一列中的每个值，`<th>`以便图表正确地将其识别为标题。我认为我需要根据“如果列号为 1，附加`<th>`到它”来添加一个 if 语句，但不确定这将在下面的代码中的位置。有任何想法吗？

```
function SQLResultTable($Query)
{
    $host = "localhost";
$user = "root";
$pass = "";
$db = "Quality_Monitoring";
    $link = mysql_connect($host, $user, $pass) or die('Could not connect: ' . mysql_error());      //build MySQL Link
    mysql_select_db($db) or die('Could not select database');        //select database
    $Table = "";  //initialize table variable

    $Table.= "<table id='Table1' border='1' style=\"border-collapse: collapse; text-align: center; font-size: 10px; cellspacing: 5px; \">"; //Open HTML Table

    $Result = mysql_query($Query); //Execute the query
    if(mysql_error())
    {
        $Table.= "<tr><td>MySQL ERROR: " . mysql_error() . "</td></tr>";
    }
    else
    {
        //Header Row with Field Names
        $NumFields = mysql_num_fields($Result);
            $Table.="<thead>";
        $Table.= "<tr style=\"background-color: #000066; text-align: center; color: #FFFFFF;\">";

        for ($i=0; $i < $NumFields; $i++)
        {   
        if($i==0){  
            $Table.= "<th>" . "</th>";}
            else {
            $Table.= "<th>" . mysql_field_name($Result, $i) . "</th>";
            }

        }

        $Table.= "</tr>";
    $Table.="</thead>";
        //Loop thru results
        $RowCt = 0; //Row Counter
        while($Row = mysql_fetch_assoc($Result))
        {
            //Alternate colors for rows
            if($RowCt++ % 2 == 0) $Style = "background-color: #CCCCCC;";
            else $Style = "background-color: #FFFFFF;";

            $Table.= "<tr style=\"$Style\">";
            //Loop thru each field
            foreach($Row as $field => $value)
            {
                $Table.= "<td>$value</td>";
            }
            $Table.= "</tr>";
        }
       // $Table.= "<tr style=\"background-color: #000066; color: #FFFFFF;\"><td colspan='$NumFields'>Query Returned " . mysql_num_rows($Result) . " records</td></tr>";
    }
    $Table.= "</table>";

    return $Table;

}

?> 
```

我知道我应该使用 MYSQLI 或其他什么，我很快就会解决这个问题，只需要启动并运行这个原型。非常感谢任何帮助。

它生成的表是这样的：

```
<table id="Table1" border="1" style="border-collapse: collapse; text-align: center; font-size: 10px; cellspacing: 5px; ">
<thead>
<tr style="background-color: #000066; text-align: center; color: #FFFFFF;">
</thead>
<tbody>
<tr style="background-color: #CCCCCC;">
<td>Alex O Halloran</td>
<td>2</td>
<td>5</td>
<td>2.5</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr style="background-color: #FFFFFF;">
<td>Christopher Fox</td>
<td>1</td>
<td>3</td>
<td>3.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr style="background-color: #CCCCCC;">
<td>Dan McCrory</td>
<td>2</td>
<td>3</td>
<td>1.5</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr style="background-color: #FFFFFF;">
<td>Jacob Desborough</td>
<td>1</td>
<td>1</td>
<td>1.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr style="background-color: #CCCCCC;">
<td>Katy Hill</td>
<td>5</td>
<td>7</td>
<td>1.4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table> 
```

在此示例中，我需要将名称标记为`</th>`- 希望这有助于澄清我所追求的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T10:07:06.203

您可以尝试使用：

```
$first = true;
foreach($Row as $field => $value) {
    if ($first) {
        $Table .= "<th>$value</th>";
        $first = false;
    } else {
        $Table.= "<td>$value</td>";
    }
} 
```

如果我误解了你的问题，请告诉我

# debugging - 即使调试设置正确，也无法在 code::blocks 中使用断点，linux

> ID：12106948
> 
> 赞同：0
> 
> 时间：2012-08-24T09:46:41.013
> 
> 标签：debugging, codeblocks

我一直在尝试调试使用 code::blocks 制作的控制台游戏端口中的错误。但是断点不会停在我设置的断点处。我环顾网络并确保 -g 已检查并且 -s 已关闭。我也在这里检查过，找不到与我的错误完全相同的东西。在设置断点之前，一切似乎都运行良好。我正在使用 Linux Mint 进行开发。这是日志：

```
Building to ensure sources are up-to-date
Build succeeded
Selecting target: 
Debug
Adding source dir: /home/jake/C++ Projects/TichHoe2/
Adding source dir: /home/jake/C++ Projects/TichHoe2/
Adding file: bin/Debug/TichHoe2
Starting debugger: 
done
Registered new type: wxString
Registered new type: STL String
Registered new type: STL Vector
Setting breakpoints
Debugger name and version: GNU gdb (Ubuntu/Linaro 7.4-2012.02-0ubuntu2) 7.4-2012.02
Error in re-setting breakpoint 2: Function "/home/jake/C++     Projects/TichHoe2/Board.h:108" not defined. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T08:57:01.013

如果您的构建路径中有空格（在您的情况下为“c++ 项目”），则会发生此错误。只需重命名该目录或将项目移动到路径中没有空格的地方。

原因：参考此链接：[http ://wiki.codeblocks.org/index.php?title=Debugging_with_Code::Blocks#Path_with_spaces](http://wiki.codeblocks.org/index.php?title=Debugging_with_Code::Blocks#Path_with_spaces)

您可能需要再次清理和构建您的项目

# r - 生成一个序列，该序列是 R 中另一个向量的递增部分

> ID：12106949
> 
> 赞同：2
> 
> 时间：2012-08-24T09:46:47.847
> 
> 标签：r, vector, sequence

首先，对不起标题。我试图找到一个合适的标题。
我的“问题”是我有一个向量，比如 1-5，我想从中创建一个新向量。1, 1,2 , 1,2,3
, 1,2,3,4, 1,2,3,4,5

因此，对于每一轮，都包括一个来自基线向量的新数字，直到它到达终点。我有一种感觉，应该可以用 seq ...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T13:02:02.667

请参阅`?sequence`（来自联机帮助页）：

`nvec`为序列的每个元素`seq_len(nvec[i])`创建。这些被连接起来并返回结果。

例子：

```
sequence(1:5)
[1] 1 1 2 1 2 3 1 2 3 4 1 2 3 4 5 
```

# java - 在 Java EE 5（JBoss）平台上启动计划任务的正确方法是什么？

> ID：12106951
> 
> 赞同：6
> 
> 时间：2012-08-24T09:47:06.577
> 
> 标签：java, jboss, java-ee-5

我需要运行一个简单的计划任务，该任务将每 200 毫秒启动一次并执行一些简单的操作。

`Executors.newSingleThreadScheduledExecutor()`在 JBoss 上获取预定执行器服务的正确方法是什么？

据说不推荐在 Java EE 平台上生成非托管线程。看来这个线程将是一个不受管理的线程。

另一方面，我不想为这样简单的事情声明 MBean 等。

*编辑*

有一些东西，`org.jboss.resource.work.JBossWorkManager`但我找不到计划工作的例子。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T09:50:39.240

调用`Executors.newSingleThreadScheduledExecutor()`并不可怕，但最好在 EE 容器中避免它。在 Java EE 5 中[使用`TimeoutService`](http://docs.oracle.com/javaee/5/tutorial/doc/bnboy.html)：

```
@Stateless
public class TimerSessionBean implements TimerSession {
    @Resource
    TimerService timerService;

    public void startTimer() {
        Timer timer = timerService.createTimer(200, "Created new timer");
    }

    @Timeout
    public void timeout(Timer timer) {
        logger.info("Timeout occurred");
    }
} 
```

在 Java EE 6 中，您有方便的[`@Schedule`注解](http://docs.oracle.com/javaee/6/api/javax/ejb/Schedule.html)。

# javascript - 如何动态更改悬停和按下的 extjs 按钮的背景

> ID：12106952
> 
> 赞同：3
> 
> 时间：2012-08-24T09:47:06.450
> 
> 标签：javascript, jquery, css, extjs, extjs4

嘿那里，

我需要能够动态更改按钮的不同状态（正常、悬停、按下）的背景颜色。

到目前为止我想出的是以下内容：http: [//jsfiddle.net/suamikim/c3eHh/](http://jsfiddle.net/suamikim/c3eHh/)

```
Ext.onReady(function() {
    function updateBackground() {
        var theWin = win || this, // neccessary because of the call from the afterrender-event
            btn = theWin.down('#btnTest'),
            bckgr = theWin.down('#btnBckgr').getValue(),
            bckgrHover = theWin.down('#btnBckgrHover').getValue(),
            bckgrPressed = theWin.down('#btnBckgrPressed').getValue();

        // Set normal background as button-style
        // Should be ok
        $('#' + btn.id).css('background', bckgr);

        // Toggle background when hover-state changes
        // Are there any downsides if this function gets called everytime the updateBackground-method is called? Do i have to dispose anything before binding the functions again?
        $('#' + btn.id).hover(function() {
                $('#' + btn.id).css('background', bckgrHover);
            }, function() {
                $('#' + btn.id).css('background', bckgr);
            }
        );

        // Set the background for pressed button as document style
        // Problems:
        //     - Pollutes the document-header if called multiple times...
        //     - Background does not change anymore on hover for pressed button because of the !important, but without important it wouldn't show the pressed background at all...
        $('<style type="text/css"> #' + btn.id + '.x-btn-pressed { background: ' + bckgrPressed + ' !important } </style>').appendTo('head');
    };

    // Create a window with the propertygrid
    var win = Ext.create('Ext.window.Window', {
        width: 800,
        height: 200,
        layout: 'fit',

        tbar: {
            defaultType: 'textfield',
            defaults: {
                listeners: {
                    blur: updateBackground
                }
            },
            items: [
                'Background (CSS):', { itemId: 'btnBckgr', value: '#77ABD8' },
                'Background hover (CSS):', { itemId: 'btnBckgrHover', value: '#CC1C1C' },
                'Background pressed (CSS):', { itemId: 'btnBckgrPressed', value: '#7D4FC6' }
            ]
        },

        items: [{
            xtype: 'button',
            itemId: 'btnTest',
            text: 'test button',
            enableToggle: true
        }],

        listeners: {
            'afterrender': updateBackground
        }
    }).show();
}); 
```

这基本上有效，但我还有一些问题：

### 1)

每次调用updateBackground方法时都可以调用jquery的悬停功能吗？

根据 jquery-doc ( [http://api.jquery.com/hover/](http://api.jquery.com/hover/) )，此函数将 2 个给定函数绑定到给定元素的 mouse-enter- & mouse-leave-events。

这是否意味着每次我调用它时它都会绑定新函数，还是更新已经绑定的函数，还是在绑定新函数之前自动处理已经绑定的函数......

简而言之：我是否必须在绑定新函数之前处理任何内容？ $.hover 的功能？

### 2)

我将按下状态的样式设置为文档样式，这意味着如果经常调用 updateBackground 函数（每次在我的测试用例中一个文本字段触发模糊事件），文档标题就会被污染。

有没有更好的方法来实现相同的目标，或者我可以在添加新样式之前删除已经设置的样式？

### 3)

由于按下样式中的 !important 标志，如果按下按钮，则不会出现悬停状态的背景。我不能只删除这个标志，因为没有它，按下状态的背景将无法正确显示......有什么解决方案吗？

一般来说，我愿意接受关于如何以完全不同的方式解决这个问题的每一个建议。

谢谢，

米克

* * *

### 编辑：

上面的代码只是一个例子。实际上，除了按钮之外，我还需要能够更改其他 ext 控件的背景属性（面板、复选框、...），但我认为我可以自己为其他控件采用按钮的工作解决方案。

请记住这一点，不要在按钮上过多地指定答案。它应该尽可能通用...

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-25T01:37:32.813

使用一些更具体的 css 选择器，您可以利用 Ext 的 pressCls 和 overCls 配置。 [http://docs.sencha.com/ext-js/4-1/#!/api/Ext.button.Button-cfg-pressedCls](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.button.Button-cfg-pressedCls) [http://docs.sencha.com/ext-js/4-1/ source/Button2.html#Ext-button-Button-cfg-overCls](http://docs.sencha.com/ext-js/4-1/source/Button2.html#Ext-button-Button-cfg-overCls)

```
.x-btn.my-over {
    background: blue;
}
/*Ext is not consistent */
.x-btn.x-btn-my-pressed {
    background: red;
}

new Ext.button.Button({
    overCls : 'my-over',
    pressedCls : 'my-pressed',
    //needs to be true to have the pressed cls show
    enableToggle : true,
    text : 'My button',
    renderTo : Ext.getBody(),
}) 
```

* * *

编辑以获得更动态、更通用的解决方案

```
 Ext.define('DynamicStyleState', {
    alias : 'plugin.dynamicStyleState',
    extend : Ext.AbstractPlugin,
    /**
     * @cfg
     */
    elementProperty : 'el',

    /**
     * @property
     */
    pressed : false,

    init : function(component) {
        this.component = component;
        this.component.on('afterrender', this._onAfterrender, this);
    },

    /**
     * @protected
     */
    clearStyle : function() {
        this.el.setStyle({
            background : ''
        });
    },
    /**
     * @protected
     * meant to be overriden
     */
    getHoverStyle : function() {
        return {
            background : 'blue'
        };
    },
    /**
     * @protected
     * meant to be overriden
     */
    getPressedStyle : function() {
        return {
            background : 'red'
        };
    },

    _onAfterrender : function() {
        this.el = this.component[this.elementProperty];
        this.el.hover(this._onElementMouseIn, this._onElementMouseOut, this);
        this.el.on('click', this._onElementClick, this);
    },

    _onElementMouseIn : function() {
        if(!this.pressed) {
            this.el.setStyle(this.getHoverStyle());
        }
    },

    _onElementMouseOut : function() {
        if(!this.pressed) {
            this.clearStyle();
        }
    },

    _onElementClick : function(e) {
        this.pressed = !this.pressed;
        if(this.pressed) {
            this.el.setStyle(this.getPressedStyle());
        } else {
            //mimic mouse in
            if(e.within(this.el)) {
                this.el.setStyle(this.getHoverStyle());
            }
        }
    }
}); 
```

由于您想要的不仅仅是按钮，因此它应该适用于任何组件。

这是一个示例用法：

```
 var headerHoverColor = new Ext.form.field.Text({
    fieldLabel : 'Header hover color',
    value : 'orange',
    renderTo : Ext.getBody()
});

var headerPressedColor = new Ext.form.field.Text({
    fieldLabel : 'Header pressed color',
    value : 'black',
    renderTo : Ext.getBody()
})

new Ext.panel.Panel({
    plugins : {
        ptype : 'dynamicStyleState',
        elementProperty : 'body'
    },
    header : {
        plugins : {
            ptype : 'dynamicStyleState',
            getHoverStyle : function() {
                return {
                    background : headerHoverColor.getValue()
                }
            },
            getPressedStyle : function() {
                return {
                    background : headerPressedColor.getValue()
                }
            }
        }
    },
    height : 300,
    width : 300,
    renderTo : Ext.getBody(),
    title : 'Panel'
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-27T13:15:01.027

好的，我刚刚找到了一个解决方案，它应该涵盖上述所有问题：

我将`pressed`和`hovered`样式都直接添加到标题中。

为了确保标题不会被污染，我只需`jQuery`在添加新元素之前使用 ' detach-function 从标题中动态删除样式元素。

[工作示例](http://jsfiddle.net/suamikim/c3eHh/1/)

以及背景动态变化的代码：

```
function updateBackground() {
    var theWin = win || this, // neccessary because of the call from the afterrender-event
    btn = theWin.down('#btnTest'),
    bckgr = theWin.down('#btnBckgr').getValue(),
    bckgrHover = theWin.down('#btnBckgrHover').getValue(),
    bckgrPressed = theWin.down('#btnBckgrPressed').getValue();

    // Set normal background as button-style
    // Should be ok
    $('#' + btn.id).css('background', bckgr);

    // Set the background for hovered and pressed button as document style
    // Remove style-element if it already exists to not pollute the document-head
    $('head style:contains("' + btn.id + ':hover")').detach();
    $('<style type="text/css"> #' + btn.id + ':hover { background: ' + bckgrHover + ' !important } </style>').appendTo('head');

    $('head style:contains("' + btn.id + '.x-btn-pressed")').detach();
    $('<style type="text/css"> .x-body #' + btn.id + '.x-btn-pressed { background: ' + bckgrPressed + ' !important } </style>').appendTo('head');
}; 
```

似乎对我有用，但我仍然愿意对此提出任何建议/改进！

谢谢。

# java - 获取请求 xml 的 Groovy 脚本

> ID：12106955
> 
> 赞同：1
> 
> 时间：2012-08-24T09:47:14.390
> 
> 标签：java, xml, parsing, groovy, soapui

我可以使用 Groovy 脚本获取响应 xml。我需要获取请求 XML，因为我需要在我的肥皂 ui 测试中添加“断言脚本”。

我正在使用以下代码来获取响应 xml

```
def response = new XmlHolder(messageExchange.responseContentAsXml) 
```

但我不确定如何获取 SOAPUI 的请求 xml。谁能帮我获取 SOPAUI 的请求 xml？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-26T06:06:45.733

要将请求内容作为字符串获取，您可以使用

```
testRunner.testCase.testSteps["Name of your teststeup"].testRequest.response.getRequestContent() 
```

有关 SoapUI API 的更多信息，[请访问 http://www.soapui.org/apidocs/index.html?overview-summary.html](http://www.soapui.org/apidocs/index.html?overview-summary.html)。查看 Request 和 Response 类，特别是它们提供的方法和属性

# linux - Rsync - 似乎没有发生变化

> ID：12106958
> 
> 赞同：-1
> 
> 时间：2012-08-24T09:47:20.163
> 
> 标签：linux, bash, backup, rsync

我有一个脚本，我每晚在我的网络服务器上运行，将所有内容从实时存储复制到后台存储。我目前正在测试，但它并没有按照我需要的方式工作 - 基本上我需要将实时存储的完整副本复制到备份存储，因此实时存储中的任何更改都会显示在备份存储中。什么不起作用是如果有人在备份存储中进行更改，这些应该被实时数据覆盖？

它似乎不起作用 - 我对 rsync 开关做错了吗？让你知道它大约有 300G 的数据被复制

谢谢

```
 #!/bin/bash

#Nightly RYSNC backup script

RSYNC=`which rsync`
SOURCE="/mnt/sdb1"
TARGET="/mnt/sdc1"
MAIL_ADDR="user@example.com"
OPTS="-vaz --exclude=/sdb1/lost+found --exclude=/sdb1/home/temp --exclude=/sdb1/temp/_tmp"

cat /dev/null > /tmp/rsync-errors.txt

nohup $RSYNC $OPTS $SOURCE $TARGET >> /var/log/rsync-raw-out.txt 2>> /tmp/rsync-errors.txt

if [ -s '/tmp/rsync-errors.txt' ]; then
   mail -s "Errors on $HOSTNAME" < /tmp/rsync-errors.txt $MAIL_ADDR
else
   echo "Successful, no errors reported." | mail -s "Nightly Report for $HOSTNAME" $MAIL_ADDR
fi 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T15:21:51.727

你试过了吗：

```
rsync -avz --delete 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T20:05:26.453

您可能想研究一个名为“rbme”的程序

[http://sourceforge.net/projects/rbme/](http://sourceforge.net/projects/rbme/)

它对 rsync 进行了包装，并通过首先在最后一个备份中进行硬链接，然后在其之上进行 ryncing 来创建一个新的“每日”备份。它 /appears/ 好像您有一个归档完整备份，但只占用磁盘空间进行实际更改。

它还内置了日志记录和电子邮件功能。

# php - PHP 标头未重定向到 home.php

> ID：12106960
> 
> 赞同：0
> 
> 时间：2012-08-24T09:47:21.313
> 
> 标签：php

我正在尝试使标题重定向，它就像 2 天前一样工作，我不知道我做了什么来打破它。它现在只是重新加载页面但启动会话。

这是代码，

```
<?php

if(isset($_SESSION['id']))

{
 header("Location: home.php");
}

require_once 'global.php';

?>

<head>
 <title>BookWizard - Join Now!</title>

<meta charset="utf-8" />
    <meta name="description" content="FORMETER jQuery plugin" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Marmelad">
    <link rel="stylesheet" href="/_secure/stylesheets/style.css" />
    <link rel="stylesheet" href="css/formeter.1.0.css" />
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js">
                  </script><![endif]-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">

    </script>
    <script src="javascript/formeter.1.0.min.js"></script>
    <script>
        $(function(){
            $('#percentage').formProgress({
                'speed' : 800,
                'style' : 'green',
                'bubble' : true,
                'selector' : '.recommended'
            });
        });
    </script>
</head>
<body>
    <header>
        <a class="logo" href="index.html"><!-- --></a>
    </header>
    <div id="wrapper">

        <div class="clear"></div>
        <div id="container">

            <div id="registercontainerno">

         <img src="images/logo.png" class="frontpagelogo">

   <div class="meter" style="position:absolute; margin-left: 50px; margin-top: 20px;">
                    <div id="percentage" data-percent=""></div>
                </div>

      <br><br><br><br>

            <h2 class="paragraphf">BookWizard Information</h2>

<?php
if(isset($_POST['password']))
{
$firstname = mysql_real_escape_string($_POST['firstname']);
$email = mysql_real_escape_string($_POST['email']);
$username = mysql_real_escape_string($_POST['username']);
$password = ($_POST['password']);

$lastname = mysql_real_escape_string($_POST['lastname']);
if(mysql_num_rows(mysql_query("SELECT * FROM users WHERE username='$username'")) == 0) {
mysql_query("INSERT INTO users (firstname, email, avatar, password, username, lastname)
  VALUES ('$firstname', '$email', 'http://book-wizard.net/images/default.png',   
 '$password',   '$username', '$lastname')");
$_SESSION['id'] = $username;
Header('Location: home.php');
}
else {
echo "Error, Please try again later.";
die();
}
}
?>

            <form method="post">
<img src="/images/regi.jpg" align="right" style="margin-top: -100px; margin-right:
10px; border-radius: 5px;">
                <p class="paragraphf">
                    <label>Username</label>
                    <input type="text" name="username" class="recommended" />
                </p>
                <p class="paragraphf">
                <label>Password</label> 

 <input type="password" name="password" class="recommended" />      

                <h2 class="paragraphf">Personal Information</h2>
                <p class="paragraphf">
                    <label>First name</label>
                    <input type="text" name="firstname" class="recommended" />
                </p>
                <p class="paragraphf">
                    <label>Last name</label>
                    <input type="text" name="lastname" class="recommended" />
                </p>

                <h2 class="paragraphf">Contact Information</h2>
                <p class="paragraphf">
                <label>Email Address</label>
        <input type="text" name="email" class="recommended" />

                <p class="input_bg">
    <input type="submit" value="SIGN UP" class="buttonr blue"><a href="index.php"  

 class="buttonr orange">CANCEL</a>
                    <br><br>
                </p>
            </form>

            <div class="clear"></div>

        </div> <!-- END container -->
    </div> <!-- END wrapper -->

    </body>
</html> 
```

在 global.php 中它确实有一个 session_start();... 不确定问题：S

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:48:16.177

在这段代码之前，您是否在页面顶部包含 session_start() ：

```
if(isset($_SESSION['id']))
{
 header("Location: home.php");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T11:12:13.557

似乎您想将所有还没有会话（第一次访问）的用户重定向到`home.php`，但这不是要走的路。您无法`$_SESSION`在通过调用填充之前检查变量`session_start()`，并且在调用 session_start() 之后，您将始终在变量中拥有一个会话 ID。

您可以做的是在脚本开始时建立一个会话，然后检查是否已经设置了某个变量。

```
session_start();
if (!isset($_SESSION['already_been_here']))
{
  $_SESSION['already_been_here'] = true;
  header('Location: home.php', true, 303);
  exit;
} 
```

重定向后不要忘记调用exit，否则脚本会继续执行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:54:59.177

**移动`require_once 'global.php';`到页面顶部。**

您需要先调用`session_start()`，然后才能使用会话变量！

```
<?php
  require_once 'global.php';

  if(isset($_SESSION['id']))
  {
    header("Location: home.php");
  }
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-24T09:49:57.493

`require_once 'global.php';`应该在顶部，因为有`session_start()`.

```
require_once 'global.php';
if(isset($_SESSION['id'])) {
 header("Location: home.php");
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-24T09:50:26.780

包括`global.php`在其他任何事情之前，如果那是您保留`session_start`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-24T11:27:13.780

如果您更改这些行怎么办：

```
{
 header("Location: home.php");
} 
```

用这些：

```
{
 header("Location: home.php");
 exit();
} 
```

?

# c# - XmlSerializer 空引用异常出现在 .NET 4.0 但不在 .NET 4.5

> ID：12106961
> 
> 赞同：0
> 
> 时间：2012-08-24T09:47:30.983
> 
> 标签：c#, xml-serialization

我有一个奇怪的例外：

> System.InvalidOperationException：生成 XML 文档时出错。---> System.NullReferenceException：对象引用未设置为对象的实例。在 Microsoft.Xml.Serialization.GeneratedAssembly.XmlSerializationWriterRules.XSArrayInfo.get_Item(Object a, Int32 i) 在 Microsoft.Xml.Serialization.GeneratedAssembly.XmlSerializationWriterRules.Write5_SearchAndReturnRules(String n, String ns, Object o, Boolean isNullable, Boolean needType) 在Microsoft.Xml.Serialization.GeneratedAssembly.XmlSerializationWriterRules.Write6_SearchAndReturnRules(Object o)
> --- 内部异常堆栈跟踪结束 ---
> 在 System.Xml.Serialization.XmlSerializer.Serialize(XmlWriter xmlWriter, Object o, XmlSerializerNamespaces namespaces, String encodingStyle, String id) at System.Xml.Serialization.XmlSerializer.Serialize(TextWriter textWriter, Object o, XmlSerializerNamespaces namespaces) 在 MergeExcelFilesForm.SaveSearchRulesToFile （StreamWriter 流）

```
 using (var streamWriter = new StreamWriter(saveFileDialog.FileName))
 {
       SaveSearchRulesToFile(streamWriter);
 }

 public void SaveSearchRulesToFile(StreamWriter stream)
 {
       var rules = GetRules();
       var rulesSerializer = new XmlSerializer(rules.GetType());
       rulesSerializer.Serialize(stream, rules);
 } 
```

序列化类非常简单，没有特殊属性（只给出主类，不要认为子类很重要，因为它们更简单）：

```
 public class Rules
 {
    public List<SearchRule> SearchRules { get; set; }
    public List<CopyRule> CopyRules { get; set; }
    public int SourceHeaderRow { get; set; }
    public int DestinationHeaderRow { get; set; }
 } 

public class SearchRule
{
    public HeaderItem SearchFor { get; set; }
    public HeaderItem SearchIn { get; set; }

    public SearchRule()
    {            
    }

    public SearchRule(int indexFor, int indexIn)
    {
        SearchFor = new HeaderItem(indexFor);
        SearchIn = new HeaderItem(indexIn);
    }
}

public class HeaderItem
{
    public HeaderItem()
    {            
    }

    public HeaderItem(int columnIndex, string displayName)
    {
        ColumnIndex = columnIndex;
        DisplayName = displayName;
    }

    public HeaderItem(int columnIndex) : this(columnIndex, columnIndex.ToString())
    {            
    }

    public string DisplayName { get; set; }
    public int ColumnIndex { get; set; }

    public override string ToString()
    {
        return DisplayName;
    }
} 
```

现在有趣的部分 - 安装 .NET 4.5 时它运行良好，如果目标机器上只有 .NET 4.0 则失败，目标平台是 .NET 4.0。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T10:09:00.310

您可以使用以下命令调试 XML 序列化进程：

```
<system.diagnostics>
    <switches>
        <add name="XmlSerialization.Compilation" value="1" />
    </switches>
</system.diagnostics> 
```

生成的源类位于本地临时文件夹中。因此，您可以轻松地逐步完成解析内容，并可能在您的 XML 文件中检测到问题。

# haskell - 跨多个字段的验证

> ID：12106964
> 
> 赞同：7
> 
> 时间：2012-08-24T09:47:46.537
> 
> 标签：haskell, yesod, digestive-functors

我正在尝试了解应用程序表单，并且一直想知道如何实现一个表单来验证依赖于其他字段的字段。例如具有`password`和`confirm_password`字段的注册表单，我想验证它`password == confirm_password`。

我可以在表单运行后在处理程序中完成，但这意味着丢失错误消息。

*编辑：*忘了提，我主要使用 Yesods 应用形式，但它们似乎非常接近消化功能

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-24T10:37:59.813

您使用的是什么类型的表单系统？您可以使用 轻松做到这一点`digestive-functors`，这是我的其中一个注册表单的示例：

```
registrationForm =
    Registration
      <$> "username" .: text Nothing
      <*> "password" .: passwordConfirmer
  where passwordConfirmer =
          validate fst' $ (,) <$> ("p1" .: text Nothing)
                              <*> ("p2" .: text Nothing)
        fst' (p1, p2) | p1 == p2  = Success p1
                      | otherwise = Error "Passwords must match" 
```

在这里，您可以看到我使用`passwordConfirmer`表单字段为我的“密码”字段生成了一个值。该字段使用 2 个文本字段并将它们放入一个元组中，但在验证后它只需要`fst`元素（虽然它可能需要`snd`，但我们保证它们是相等的！）。

我的`Registration`类型是：

```
data Registration = Registration
    { regUserName :: Text
    , regPassword :: Text
    } 
```

# jquery - 选择具有特定内容的元素作为直接子节点

> ID：12106970
> 
> 赞同：1
> 
> 时间：2012-08-24T09:48:09.913
> 
> 标签：jquery

我想选择具有特定文本的每个单元格作为内容。我这样做：

```
$("td:contains('Some Text')") 
```

但在以下标记中，该表达式找到两个`td`s：

```
<table>
  <tr>
    <td>
      <table>
        <tr>
          <td>Some Text</td>
        </tr>
      </table>
    </td>
  </tr>
</table> 
```

我只想要实际包含文本的单元格，而不是包含包含其中一个单元格中的文本的表格的单元格。

**如何修改我的选择器以到达那里？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-24T09:51:27.713

试试这个：

```
$("td:not(:has(*)):contains('Some Text')") 
```

[小提琴](http://jsfiddle.net/MJCCv/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:53:48.850

```
$("td").filter(function() {
    return $(this.childNodes).filter(function() {
        return this.nodeType === 3 && this.nodeValue.indexOf("Some Text") > -1;
    }).length;
}); 
```

[http://jsfiddle.net/bFUEJ/1/](http://jsfiddle.net/bFUEJ/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-24T09:51:39.217

如果您只想通过更改选择器来完成此操作，您总是可以这样做`$("table table td:contains('Some Text')")`

演示：http: [//jsfiddle.net/bFUEJ/](http://jsfiddle.net/bFUEJ/)

更好的选择是给内部表一个 ID。

```
<table>
  <tr>
    <td>
      <table id="innerTable">
        <tr>
          <td>Some Text</td>
        </tr>
      </table>
    </td>
  </tr>
</table>

//JS
$('#innerTable').find("td:contains('Some Text')"); 
```

# extjs - extjs 4 getLastSeletedCell 在网格中

> ID：12106971
> 
> 赞同：0
> 
> 时间：2012-08-24T09:48:14.803
> 
> 标签：extjs, selection, cell

我在 extjs 4 中的网格上工作，如果有人在同一个单元格上单击了多次，我想显示一个编辑器。现在我有一个问题，如果最后一个选定的单元格已更改，我找不到像 grid.getSelectionModel().getLastSeletedCell() 这样的方法来检查 beforechange 事件。

我尝试了 grid.getSelectionModel().getCurrentPosition() 和 getSelection 但都返回 null 只有 grid.getSelectionModel().getLastSelected() 返回记录，但在这种情况下我只能检查行而不是选择的列。有没有人知道如何检查是否有人在同一个单元格上点击了多次？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T11:43:01.223

我觉得，在使用带有网格的 cellSelectionModel 时，可以使用以下方式找到选定的单元格。

```
grid.getSelectionModel().getSelectedCell(); 
```

您需要存储选择的一些如何执行您的操作。

# delphi - 如何在参数化查询中使用 IS NULL (Delphi)

> ID：12106973
> 
> 赞同：5
> 
> 时间：2012-08-24T09:48:17.643
> 
> 标签：delphi, parameters, isnull

我得到这样的陈述：

```
SELECT * From Table WHERE Feld IS NULL
SELECT * From Table WHERE Feld IS NOT NULL 
```

现在我想知道如何参数化这个查询：

```
SELECT * From Table WHERE Feld IS :Value 
```

由于我不能将“NOT NULL”传递给参数，我认为这根本不可能——但也许有人知道解决方案？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-24T09:58:07.607

你可以尝试这样的事情（用 Firebird 2.5 测试）：

```
SELECT * FROM TABLE WHERE (IIF(FIELD IS NULL, 'Y', 'N') = :IS_NULL) 
```

然后将`'Y'`或传递`'N'`给`IS_NULL`参数。

根据您使用的数据库，您可能需要`IIF`用一个`CASE`或类似的构造替换。

# android - 带有活动组的 tabview 实现，其中子活动中的 onKeyDown 和 list.setOnItemClickListener 在 Android 中不起作用

> ID：12106976
> 
> 赞同：0
> 
> 时间：2012-08-24T09:48:33.737
> 
> 标签：android

在我的代码中，我使用活动组实现了选项卡视图，以便该选项卡将在我的所有嵌套视图中可见。但是当我转到包含列表视图的嵌套视图时。当我从列表视图应用程序中选择项目时崩溃。并且应用程序在按下后退按钮时崩溃。

```
 //Code of listview selection
  list.setOnItemClickListener(new OnItemClickListener() {
       public void onItemClick(AdapterView<?> parent, View view,
           int position, long id) 
       {

           String selectedFromList = (String) (list.getItemAtPosition(position));
            FourthGroup.group.back();

       }
     });
 //Code of back button

  @Override
   public boolean onKeyDown(int keyCode, KeyEvent event)
   {
     if(keyCode == KeyEvent.KEYCODE_BACK)
        {
           FourthGroup.group.back();
            return true;
        }
      return super.onKeyDown(keyCode, event);
   } 
```

下面是listview项目选择上的logcat

```
 08-24 11:19:47.605: ERROR/AndroidRuntime(11282): Uncaught handler: thread main exiting due to uncaught exception
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282): java.lang.ClassCastException: com.android.YouSaidIt.EditProfile
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at com.android.YouSaidIt.FourthGroup.back(FourthGroup.java:46)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at com.android.YouSaidIt.FilterCountry$1.onItemClick(FilterCountry.java:123)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at android.widget.AdapterView.performItemClick(AdapterView.java:284)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at android.widget.ListView.performItemClick(ListView.java:3606)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at android.widget.AbsListView$PerformClick.run(AbsListView.java:1751)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at android.os.Handler.handleCallback(Handler.java:587)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at android.os.Handler.dispatchMessage(Handler.java:92)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at android.os.Looper.loop(Looper.java:123)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at android.app.ActivityThread.main(ActivityThread.java:4363)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at java.lang.reflect.Method.invokeNative(Native Method)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at java.lang.reflect.Method.invoke(Method.java:521)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
   08-24 11:19:47.685: ERROR/AndroidRuntime(11282):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:10:49.020

我不认为你应该使用`list.getItemAtPosition(position)`. 它返回视图 AFAIK 而不是字符串。而是使用该位置，然后使用该位置从光标获取数据。

# java - 如何查看我的 Eclipse 版本？

> ID：12106980
> 
> 赞同：52
> 
> 时间：2012-08-24T09:48:43.087
> 
> 标签：java, eclipse, eclipse-plugin, eclipse-rcp, eclipse-cdt

如何找出我的系统上当前安装的 Eclipse 版本？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-24T09:56:08.027

`.eclipseproduct`在产品安装文件夹中打开。或者打开`Configuration\config.ini`并检查属性`eclipse.buildId`是否存在。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-08-24T09:49:15.920

`Help -> About Eclipse Platform`

对于 Eclipse Mars - 您可以检查`Eclipse -> About Eclipse`或`Help -> Installation Details`，然后您应该会看到版本：

[![在此处输入图像描述](../Images/2a39de2ce792dc69e3c23e9fff0185d5.png)](https://i.stack.imgur.com/chJDj.png)

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2012-08-24T09:50:44.343

去`Help -> About Eclipse Sdk`

![在此处输入图像描述](../Images/92a2950cca91ea4890b2a8b7ffc033a9.png)

![在此处输入图像描述](../Images/d31e460b31c7b2832ae9ae6c9cdf1d90.png)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-08-24T09:54:15.813

转到安装 eclipse 的文件夹，然后打开 readme 文件夹，然后打开 readme txt 文件。在这里，您将找到您需要的所有信息。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2018-04-03T22:09:57.770

我相信您可以找到每个基于 Eclipse 的软件产品的 Eclipse 平台版本。

1.  打开**安装详细信息**：

    *   转到帮助 => 关于 => 安装详细信息。
    *   或帮助 => 安装新软件... => 单击**已安装的内容？**关联。
2.  选择**插件**选项卡 => 输入*org.eclipse.platform* => 检查**版本**列。

3.  [您可以在https://wiki.eclipse.org/Older_Versions_Of_Eclipse](https://wiki.eclipse.org/Older_Versions_Of_Eclipse)上匹配版本代码和版本名称

例如，查看 GitEye（Git GUI 客户端） [![GitEye 安装细节](../Images/79f3c88d6d616277187a655b36c9049d.png)](https://i.stack.imgur.com/v4LQb.png)

或结帐 DBBeaver（数据库管理器）：

[![在此处输入图像描述](../Images/5b35f7baee76c1a79dd9551d2599a478.png)](https://i.stack.imgur.com/MWiGm.png)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-10-09T06:39:26.683

我遇到了同样的问题，但是当我们打开我们的 eclipse 软件时，我们会自动看到 eclipse 版本和工作区位置，如下图所示 [![在此处输入图像描述](../Images/7100021037e0638fade7cc8efae805e9.png)](https://i.stack.imgur.com/LAL5R.png)

# visual-studio - Visual Studio 源窗口和 Bootcamp 键盘映射

> ID：12106981
> 
> 赞同：0
> 
> 时间：2012-08-24T09:48:44.703
> 
> 标签：visual-studio, keyboard-shortcuts, remap, bootcamp

所以我最近给自己买了一台 MacBook Air，我刚刚在训练营中安装了 Visual Studio 2012。现在的问题是由于某种原因，键盘布局中缺少键 }。{ 键被映射为 ctrl + alt + 7，并且由于 ctrl + alt + 0 没有映射到任何我下载的[Microsoft Keyboard Layout Creator](http://msdn.microsoft.com/en-us/goglobal/bb964665.aspx)并将 } 重新映射到该组合键。这适用于除 Visul Studio 源窗口之外的所有应用程序。

谁能告诉我解决这个问题的方法？或者也许其他一些没有这个问题的程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:52:40.257

自己找到原因了。默认情况下，键绑定在 Visual Studio 中已映射为 view.ViewCode，因此我进入工具 -> 选项 -> 环境 -> 键盘并删除了该键绑定，我的 } 现在可以正常工作了！

# c++ - QT/C++、OS X：退出应用程序时替代 hide()，以便应用程序继续运行并在单击停靠栏中的图标后再次显示

> ID：12106982
> 
> 赞同：1
> 
> 时间：2012-08-24T09:48:46.093
> 
> 标签：c++, macos, qt

我在 Mac OS X 上使用 QT 和 c++。关闭我的应用程序时，我使用**hide()**来保持我的应用程序运行并隐藏窗口。

**但是之后，当我在Dock**中单击我的应用程序的图标时，它就不再显示了。

[我在这里](http://qt-project.org/forums/viewthread/2416)读到使用以下代码而不是 hide() 应该可以解决此问题：

```
ProcessSerialNumber pn;
GetFrontProcess (&pn);
ShowHideProcess(&pn,false); 
```

但我不知道如何使用该代码：s 有人可以解释如何使用该代码，或者如何解决我的问题吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-05-27T17:50:39.230

您可以在 Qt 应用程序中编译 Objective-C，然后执行以下操作：

将此添加到您的**.pro**文件中：

```
macx {

    LIBS += -framework Foundation
    LIBS += -framework AppKit

    OBJECTIVE_SOURCES += objectivec.mm
    HEADERS +=  objectivec.h
} 
```

创建一个名为**objective.h**的文件：

```
#ifndef __ObjectiveC_h_
#define __ObjectiveC_h_

class ObjectiveC
{
public:
    static void HideWindow();
};

#endif 
```

另一个叫做**objective.mm**：

```
#include "objectivec.h"
#import <Foundation/Foundation.h>
#import <AppKit/AppKit.h>
#import <CoreData/CoreData.h>

void ObjectiveC::HideWindow()
{
    [NSApp hide:nil];
} 
```

然后在任何你喜欢的地方使用它：

```
#ifdef Q_OS_MAC
   #include "objectivec.h"
#endif

#ifdef Q_OS_MAC
   ObjectiveC *obc = new ObjectiveC();
   obc->HideWindow();
#endif 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T15:05:58.643

您正在谈论的代码是本机 OSX API。我在外国领土，但我将尝试在这里创造魔法：

为了`ProcessSerialNumber`

```
//either
#include <Carbon/Carbon.h> 
#include <Cocoa/Cocoa.h> 
```

为了`GetFrontProcess (&pn);`

[文档](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man3/Mac__Processes.3pm.html)：

> GetFrontProcess 函数返回在前台运行的进程的进程序列号。如果检测到错误，则返回“undef”。

签名：

```
 //carbon or cocoa
 OSErr GetFrontProcess (ProcessSerialNumber *PSN); 
```

为了`ShowHideProcess(&pn,false);`

签名：

```
 #include <Carbon/Processes.h> //carbon only?
 OSErr ShowHideProcess(const ProcessSerialNumber *psn, Boolean visible) 
```

# python - 数字和，Python

> ID：12106989
> 
> 赞同：4
> 
> 时间：2012-08-24T09:49:02.730
> 
> 标签：python, python-3.x

我需要编写一个代码来计算一个数字的数字之和，这些是问题的确切文本：数字 n 的数字和是它的数字之和。编写一个递归函数 digitalSum(n)，它接受一个正整数 n 并返回其数字和。例如，digitalSum(2019) 应该返回 12，因为 2+0+1+9=12。这是我写的代码：

```
def digitalSum(n):
   L=[] 
   if n < 10:
      return n
   else:
      S=str(n)
      for i in S:
         L.append(int(i))
      return sum(L) 
```

这些代码工作正常，但它不是递归函数，我不允许将任何 int 更改为 str。你能帮帮我吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-24T09:54:15.797

试试这个：

```
def digitalSum(n):
    if n < 10 :
        return n
    return n % 10 + digitalSum( n // 10 ) 
```

**编辑：**该算法背后的逻辑是，对于递归函数的每次调用，我们都会去掉数字的最后一位并将其添加到总和中。首先我们获得最后一位数字，`n % 10`然后我们再次调用该函数，传递最后一位数字被截断的数字：`n // 10`。我们只有在达到一位数时才会停下来。在我们停止之后，当递归调用返回时，以相反的顺序计算数字的总和。

数字 12345 的示例：

```
5 + digitalSum( 1234 )
5 + 4 + digitalSum( 123 )
5 + 4 + 3 + digitalSum( 12 )
5 + 4 + 3 + 2 + 1 <- done recursing
5 + 4 + 3 + 3
5 + 4 + 6
5 + 10
15 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-24T09:53:56.633

这是家庭作业，所以我没有写太多代码。递归可以通过以下方式使用：

*   获取第一个（或最后一个）数字
*   将其余部分格式化为较短的数字
*   将数字和*较短数字的数字和相加*（递归！）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-24T09:56:55.500

这更多是与算法有关的问题。

这是你的答案：

```
def digit_sum(a):
    if a == 0:
        return 0
    return a % 10 + digit_sum(a/10) 
```

如果您不明白它为什么起作用，请告诉我，我会提供解释。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-24T09:51:07.100

一些提示：

1.  您可以在 Python 中定义内部函数
2.  您可以使用模数运算符（查找其语法和用法）以获得良好的效果，here
3.  无需使用适当的递归解决方案构建显式列表表示

**编辑**以上作为一般答案有点“糟糕”，如果其他人在非家庭作业环境中遇到这个问题怎么办？然后堆栈溢出失败......

所以，这就是我将如何实现它，*您*需要决定是否应该继续阅读。:)

```
def digitalSum(n):
  def process(n, sum):
    if n < 10:
      return sum + n
    return process(n / 10, sum + n % 10)
  return process(n, 0) 
```

这可能有点太多了，但即使在学习情况下，获得一个答案也是有启发性的。

我的解决方案比某些解决方案更冗长，但它对[尾调用优化编译器](http://en.wikipedia.org/wiki/Tail_call)也更友好，我认为这是一个特性。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-24T09:57:37.180

```
def digital_sum(number):
    if number < 10: 
        return number
    else:
        return number % 10 + digital_sum(number / 10) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-04-25T04:19:12.983

```
def sumofdigits(a):
    a = str(a)
    a = list(a)
    b = []
    for i in a:
        b.append(int(i))
        b = sum(b)
    if b > 9:
        return  sumofdigits(b)
    else:
        return b
print sumofdigits(5487123456789087654) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-06-23T13:24:12.117

对于寻找非递归方式的人，

解决方案1：使用公式，

```
digits = int(input())
res = (digits * (digits + 1) // 2) 
```

解决方案 2：使用基本语法

```
numbers = [6, 5, 3, 8, 4, 2, 5, 4, 11]

total = numbers[0]
print(f'{total}')
for val in numbers[1:]:
    print(f'{total} + {val} = {total + val}')
    total += val 
```

给

```
6
6 + 5 = 11
11 + 3 = 14
14 + 8 = 22
22 + 4 = 26
26 + 2 = 28
28 + 5 = 33
33 + 4 = 37
37 + 11 = 48 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2015-11-07T11:19:43.053

您仍然可以在 O(log10 n) 中执行此操作...取消所有加到 9 的数字，然后如果没有剩余数字，则 9 是答案，否则将所有遗漏的数字相加...

`def rec_sum_Reduce(n) : ans = 0 for i in map(int,str(n)) : ans = 1+(ans+i-1)%9 return ans`

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2012-08-24T19:32:14.237

定义 drs_f(p):

```
 drs = sum([int (q) for q in str(p)])
 while drs >= 10:
     drs = sum([int(q) for q in str(drs)])
return drs 
```

* * *

## 回答 #10

> 赞同：-3
> 
> 时间：2012-08-24T09:55:22.363

```
def digitalSum(n):
   if n < 10:
      return n
   else:
      return ??? 
```

第一部分来自您现有的代码。这 ？？？是您需要解决的部分。它可以去掉一个数字`n`并将其添加到剩余数字的 digitalSum 中。

你并不真的需要`else`，但我把它留在那里所以代码结构看起来一样

# python - cStringIO，读取块中的字节直到EOF？

> ID：12106990
> 
> 赞同：0
> 
> 时间：2012-08-24T09:49:07.247
> 
> 标签：python, xml-rpc

我想一次读取一个 1MB 的字符串，然后通过 XMLRPC 上传，这是最好的方法吗？有什么我需要注意的吗？

```
while data.read(1048576) != None:
    data.seek(1048576, 1)
    if not rpc_srv.chunk_upload(tf_uuid, data_chunk):
        raise Exception('Failed to upload data.') 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:52:32.670

您可以将[`iter()`函数](http://docs.python.org/library/functions.html#iter)与哨兵一起使用来简化循环：

```
for data_chunk in iter(lambda: data.read(1048576), ''):
    if not rpc_srv.chunk_upload(tf_uuid, data_chunk):
        raise Exception('Failed to upload data.') 
```

不需要`.seek()`，`.read()`调用已经更新了位置。

# xcode - Xcode main.m Sigabrt

> ID：12106996
> 
> 赞同：0
> 
> 时间：2012-08-24T09:49:45.087
> 
> 标签：xcode

我试图制作一个应用程序，每次我尝试模拟该应用程序时都会出现此错误消息。

这是什么意思 ？

```
Thread 1:Signal SIGABRT 
```

它出现在

```
 {
    @autoreleasepool {
        return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));
    }
} 
```

每次我尝试模拟我的应用程序时都会出现？它根本不会让我模拟我的应用程序？？？

请帮帮我 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T10:32:00.380

在你的模拟器中

```
Simulator --> reset the content and rules.... (or renitialiser le contenu et les regles...) 
```

然后关闭模拟器

做一个`clean`你的项目，`run`它