# StackOverflow 问答 10023000-10023999

# vim - vim: 高亮 pbs 脚本

> ID：10023001
> 
> 赞同：2
> 
> 时间：2012-04-05T05:16:15.373
> 
> 标签：vim, syntax, highlight

我试图弄清楚如何让我的 PBS 脚本用 vim 以 bash 格式突出显示。PBS 脚本只是 bash 脚本，它们不以 clasic shebang 开头，但用于集群计算机上的排队系统。必须有一种方法可以为任何看起来像这样的东西加上别名`:set syntax=sh`——而不必键入它，对吧？这是一个简单的 PBS 脚本示例。

```
####Parameterized PBS Script ####
#PBS -S /bin/bash
#PBS -l walltime=00:05:00
#PBS -l nodes=1
#PBS -o /users/me/jobOuts/${PBS_JOBNAME}_${PBS_JOBID}.o
#PBS -j oe
#PBS -M my_email@my.org
#PBS -m abe

START=$(date +%s)

cd $PBS_O_WORKDIR
echo `pwd`

sleep 10
END=$(date +%s)

S=$(( $END - $START ))
((h=S/3600))
((m=S%3600/60))
((s=S%60))
TOTALTIME=`printf "%dh:%dm:%ds\n" $h $m $s` 
```

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T08:12:35.410

将这些行添加到您的`.vimrc`：

```
filetype on
syntax on
au BufRead,BufNewFile *.PBS            set filetype=sh 
```

并阅读`:h autocommand`，值得花时间。

# c# - 如何在任何进程（.exe）前获得通知。记事本在 C# 中退出？

> ID：10023008
> 
> 赞同：0
> 
> 时间：2012-04-05T05:17:06.537
> 
> 标签：c#, process

如何在任何进程（.exe）前获得通知。记事本在 C# 中关闭？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-05T05:27:26.460

`System.Diagnostics.Process`最简单的方法是为要监视的记事本进程创建一个：

```
 Process p = Process.GetProcessesByName("notepad.exe").First();
  p.Exited += (sender, args) => Debug.WriteLine("Process has exited!"); 
```

从理论上讲，您可以对所有正在运行的进程（使用`Process.GetProcesses()`）执行此操作，但这不会使您能够收到任何 FUTURE 进程的通知，只有在您开始监视时正在运行的进程。

一个更底层的解决方案可以为您提供有关正在关闭的任何进程/窗口的信息，它是使用 CBT Hooks，[此处](http://msdn.microsoft.com/en-us/magazine/cc188966.aspx#S3)提供了一个 .NET 包装器，但这需要更多的手动管理，因为它为您提供了有关关闭 Win32 窗口的信息，不仅仅是流程。

# c++ - 在 C++ 中读取日期中的月份部分

> ID：10023011
> 
> 赞同：0
> 
> 时间：2012-04-05T05:17:10.903
> 
> 标签：c++, function, datetime, date, datetime-format

我有两个日期，即文件创建日期和系统日期，它们都是 int 格式

```
 "20120304","20120404" which is something like YYYYMMDD. 
```

我只想获取这两个日期的 MM 部分，这两个日期是从函数作为整数返回的。

请提出一些例子

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T05:20:01.707

因为它是 `int`类型使用`int mm=(yyyymmdd/100)%100`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:19:07.743

如果它们始终采用 format `YYYYMMDD`，则将 [4] 处的子字符串设为长度 2。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:36:22.507

虽然我更喜欢@keety 的回答，但还有另一种方法。你可以使用字符串流：

例如：

```
#include <sstream>

int i = 5;
std::string s;
std::stringstream out;
out << i;
s = out.str(); 
```

因此，在您将字符串作为`YYYYMMDD`字符串变量之后。 `substr(4,2)`将是你的一个月。您可以稍后`strtol`用于转换回整数。

# python - 我可以切换这个函数 vanilla.count()

> ID：10023013
> 
> 赞同：1
> 
> 时间：2012-04-05T05:17:44.117
> 
> 标签：python, class, function

我想知道是否可以写`count(vanilla)`而不是`vanilla.count()`？它类似于`len(list)`但我想做`len(myclass)`。是否可以在我的用户定义类上实现这样的功能？下面只是我写的一个虚拟课程来问这个问题。谢谢你。

```
 class IceCream():
    # Flavor is a string
    # Toppings is a list of strings
    def __init__(self, flavor, toppings, ):
        self.name = flavor
        self.toppings = toppings
    # Return the number of toppings
    def count(self):
        return len(self.toppings)
    def __str__(self):
        return "{0} flavor ice cream".format(self.name)

vanillaToppings = ['chocolate chips', 'fudge', 'penuts']
vanilla = IceCream('Vanilla', vanillaToppings)
print(vanilla, 'with', vanilla.count(), 'kind of toppings!')
# Is it possible? If so, how do I do it?
# print(vanilla, 'with', len(vanilla), 'kind of toppings!') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T05:21:31.620

使用python的一种[特殊方法](http://www.rafekettler.com/magicmethods.html)怎么样：[`__len__`](http://docs.python.org/reference/datamodel.html#object.__len__)？

> 调用以实现内置函数 len()。应该返回对象的长度，整数 >= 0。

```
class IceCream():
    # Flavor is a string
    # Toppings is a list of strings
    def __init__(self, flavor, toppings):
        self.name = flavor
        self.toppings = toppings

    # Return the number of toppings
    def __len__(self):
        return len(self.toppings)

    def __str__(self):
        return "{0} flavor ice cream".format(self.name)

vanillaToppings = ['chocolate chips', 'fudge', 'penuts']
vanilla = IceCream('Vanilla', vanillaToppings)
print(vanilla, 'with', len(vanilla), 'kind of toppings!') 
```

我猜想在这种情况下*计数*和*长度*的含义是可以互换的，那么为什么不使用熟悉的东西呢？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T05:23:53.350

`len()`是一个函数，它获取传递的任何内容的长度。因此，您可以编写一个`count()`传递对象并对其进行计数的函数（但是您定义“计数”）。

该`len()`函数调用`__len__()`实例上的特殊方法 。你可以定义一个类似的接口，`count()`以便那些想要使用你的函数的人可以在他们自己的类上定义一个特殊的方法供`count()`. （不要用两个前导和两个尾随下划线命名它；这是为 Python 保留的。我建议使用单个前导和尾随下划线。）然后您只需在自己的对象上实现该接口。

所以是这样的：

```
def count(obj):
    return obj._count_()

class IceCream(object):
    def _count_(self):
        return len(self.toppings) 
```

miku 建议只`__len__()`在您的班级上实施并使用`len()`. 这也是一个很好的解决方案，但它可能会产生其他容器或迭代器方法可用的印象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T05:40:31.207

请参阅[http://docs.python.org/reference/datamodel.html](http://docs.python.org/reference/datamodel.html)您可以实现哪些魔术方法。你想要的是`def __len__(self): return len(self.toppings)`

然后你可以使用`len(yourinstance)`来获取该函数的返回值。

但是，您**不能**这样做`count(yourinstance)`；至少不是以干净的方式。

* * *

不干净的方式是这样的：

```
def count(instance):
    return instance.count() 
```

我没有使用`__count__`as`__*__`被认为是为官方 python 保留的东西，例如`__len__`. 但是无论如何，请忘记水平线以下几行的所有内容-您真的不想这样做。`__len__`为之使用。

# ant - 如果是 ANT，如何将 Classpath 传递给子 build.xml

> ID：10023020
> 
> 赞同：1
> 
> 时间：2012-04-05T05:18:53.103
> 
> 标签：ant, build

我在 Eclipse 中创建了一个 EAR 项目以部署在 JBoss 上。在那里我创建了 4 个项目，一个 EAR，一个 Hibernate 项目（数据层），一个 EJB 项目（业务层）和一个动态 Web 项目（Web 项目）。MBS(EAR) -MBSData -MBSEjb -MBSWeb

我正在为这个项目创建 ANT build.xml。我从每个项目中创建了单独的 build.xml。我将为 MBS(EAR) 项目创建 build.xml，在这个 build.xml 中，我将调用子 build.xml

```
<target name="build" description="build all projects in reference to this project">
    <ant antfile="build.xml" dir="${MBSData.location}" inheritAll="true" target="build"/>
</target> 
```

由于在每个 build.xml 中 jboss_runtime_classpath 都是重复的，我想把它放在一个地方。所以我想知道如何将这个类路径传播到子 build.xml？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:15:57.867

在 build.xml 中定义类路径并将其[导入](http://ant.apache.org/manual/Tasks/import.html)每个位置的一种选择。这在 ant 1.8 中可用。（可能在早期版本中可用。请参阅@Oers 的评论）

我不建议定义单个类路径并在任何地方使用它。每个项目都应该有明确定义的编译时依赖和运行时依赖（比如测试或使用 ant 运行应用程序）。拥有一个在任何地方都可以重用的大类路径将导致一个区域的代码（比如 GUI）使用另一个区域的代码（比如持久性）

# matlab - H.264 的 DCT 实施

> ID：10023023
> 
> 赞同：1
> 
> 时间：2012-04-05T05:19:19.263
> 
> 标签：matlab, video, image-processing, h.264, dct

我正在为 H.264 的视频实施 DCT。我已经阅读了几本书，并遵循了他们指定的系数。尽管如此，当我做 IDCT 时，我似乎并没有得到正确的图像。请帮助我提供任何类型的信息。谢谢！我的代码是：

```
clear all;
clc;

%% DCT, IDCT

image=imread('foreman_166.gif');
figure(1);
imshow(image);title('Original image');

%taking the luminance value of the image
image_ycbcr=rgb2ycbcr(image);
%luminance=image_ycbcr(:,:,1);
luminance=double(image_ycbcr(:,:,1));

[M N]=size(luminance);
dctmat=[1 1 1 1;2 1 -1 -2;1 -1 -1 1;1 -2 2 -1];
dct_mat=dctmat(:);    %16*1 matrix
%idctmat=inv(dctmat);
%idctmat=[1 1 1 0.5;1 0.5 -1 -1;1 -0.5 -1 1;1 -1 1 -0.5];
idctmat=[1 1 1 1;1 0.5 -0.5 -1;1 -1 -1 1;0.5 -1 1 -0.5];
%idctmat=uint8(idctmat);
idct_mat=idctmat(:);  %16*1 matrix
dctimage=zeros(M,N);  % dct of the image
idctimage=zeros(M,N);
c=ones(1,16);
transformedblock=ones(4,4);
a=1/2;b=(2/5)^0.5;d=1/2;
scaling_mat=[a^2 a*b/2 a^2 a*b/2;a*b/2 b^2/4 a*b/2 b^2/4; a^2 a*b/2 a^2 a*b/2;a*b/2 b^2/4 a*b/2 b^2/4];
inv_scalingmat=[a^2 a*b a^2 a*b; a*b b^2 a*b b^2; a^2 a*b a^2 a*b; a*b b^2 a*b b^2];

%dft for 4*4 blocks
for i=1:4:M
    for j=1:4:N

        block=luminance(i:i+3,j:j+3);
        b=block(:);  %16*1 matrix
        %b=b-mean(b);  %shifting mean to 0
%         for l=1:16
%             c(l)=dct_mat(l)*b(l); % c=1*16, X=Hx X=c
%         end
%         transformedblock(:,1)=c(1:4);
%         transformedblock(:,2)=c(5:8);
%         transformedblock(:,3)=c(9:12);
%         transformedblock(:,4)=c(13:16);
%              
       %transformedblock=dctmat*block;         %X=Hx
       transformedblock=dctmat*block*dctmat';  %tranformed block
       transformedblock=transformedblock*scaling_mat;
       %transformedblock=transformedblock*diag([1/4,1/5,1/4,1/5]);
       dctimage(i:i+3,j:j+3)=transformedblock;      

    end
end

figure(2);
imshow((abs(dctimage)));title('dct of the image');

dctimage(abs(dctimage)<10) = 0;
%inverse dct
for i=1:4:M
    for j=1:4:N

        block=dctimage(i:i+3,j:j+3);
%         b=block(:); %16*1 matrix
%         %b=b-mean(b);  %shifting mean to 0
%         for l=1:16
%             c(l)=idct_mat(l)*b(l); % c=1*16, X=Hx X=c
%         end
%         invtransformedblock(:,1)=c(1:4);
%         invtransformedblock(:,2)=c(5:8);
%         invtransformedblock(:,3)=c(9:12);
%         invtransformedblock(:,4)=c(13:16);
%         
        %invtransformedblock=idctmat*block;
        invtransformedblock=idctmat'*(block*inv_scalingmat)*idctmat;  %tranformed block
        idctimage(i:i+3,j:j+3)=invtransformedblock;      

    end
end

figure(3);
imshow(idctimage,[0 255]);title('inverse DCT image'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-04T16:16:03.890

这很简单，只需转换它：

```
transformedblock=transformedblock*scaling_mat; 
```

和

```
invtransformedblock=idctmat'*(block*inv_scalingmat)*idctmat; 
```

对此：

```
transformedblock=transformedblock.*scaling_mat;
invtransformedblock=idctmat'*(block.*inv_scalingmat)*idctmat; 
```

# iphone - 如果使用 UIImagePickerControllerSourceTypeCamera 从相机拍摄，则未检测到图像

> ID：10023027
> 
> 赞同：1
> 
> 时间：2012-04-05T05:19:34.733
> 
> 标签：iphone, uiimagepickercontroller

我正在从相机中获取图像（利用`UIImagePickerController`）并将其保存到文档目录中。

然后我在不同的视图控制器中获取这些图像以获取面部部分，使用`CIDetector API`and `CIfacefeature API`。

问题是尽管我能够正确获取图像，但它根本没有检测到面部。如果我将相同的图像存储在它检测到的主包中。

不知道问题出在哪里？？？。我已经尝试了一切。可能是问题出在`UIImage`或可能是图像保存在文档目录或相机中的格式。

请帮忙。我会很感激你的。

```
- (void) imagePickerController:(UIImagePickerController *)picker       didFinishPickingMediaWithInfo:(NSDictionary *)info
{
   UIImage *image = [info objectForKey:UIImagePickerControllerOriginalImage];
   NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, 
                                                         NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString* path = [documentsDirectory stringByAppendingPathComponent: 
                      [NSString stringWithString: @"SampleImage.jpg"] ];
    NSData* data = UIImageJPEGRepresentation(image, 0);
    [data writeToFile:path atomically:YES];
    [picker  dismissModalViewControllerAnimated:YES];
    FCVC *fcvc = [[FCVC alloc] initwithImage:image];

    [self.navigationController pushViewController:fcvc animated:YES];
} 
```

在 FCVC 的 ViewDidLoad 中，我通过传递调用以下函数：

```
-(void)markFaces:(UIImage *)pic 
{
    CIImage* image = [CIImage imageWithCGImage:pic.CGImage];
    CGImageRef masterFaceImage;

    CIDetector* detector = [CIDetector detectorOfType: CIDetectorTypeFace
                                          context:nil options:[NSDictionary dictionaryWithObject:CIDetectorAccuracyHigh forKey:CIDetectorAccuracy]];

// create an array containing all the detected faces from the detector    
   NSArray* features = [detector featuresInImage:image];
   for(CIFaceFeature* faceFeature in features)
   {       
        masterFaceImage  =  CGImageCreateWithImageInRect(facePicture.CGImage,CGRectMake(faceFeature.bounds.origin.x,faceFeature.bounds.origin.y, faceFeature.bounds.size.width,faceFeature.bounds.size.height));
   }
   self.masterExtractedFace = [UIImage imageWithCGImage:masterFaceImage];
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T12:06:02.020

一个简单的解决方法是，如果您始终以纵向方式使用相机，请添加以下小片段：

```
NSDictionary* imageOptions = [NSDictionary dictionaryWithObject:[NSNumber numberWithInt:6] forKey:CIDetectorImageOrientation];
NSArray* features = [detector featuresInImage:image options:imageOptions]; 
```

如果您需要动态确定您的方向，请找出您所处的方向。

查看`kCGImagePropertyOrientation`

# svn - 没有服务器的SVN工作副本合并

> ID：10023028
> 
> 赞同：0
> 
> 时间：2012-04-05T05:19:43.017
> 
> 标签：svn, merge

在 Subversion 中，如何在工作副本之间合并，从主干到分支，而不与服务器通信（两者都是最新版本，没有本地更改）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:04:40.157

Merging in Subversion means that you want to merge the changes from revision `xyz` to revision `xyz + i` on the branch `branch_abc` to the current state of the trunk. That means, that you are only able to do that, if you know the difference between `xyz` and `xyz + i` and that is only known to the server.

So, no, there is no way to do the merge only locally (without connection to the server).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:09:29.070

从 svn-book 看起来你不能：

> `2\. merge sourceWCPATH1@N sourceWCPATH2@M [WCPATH]`
> 
> `3\. merge [-c M[,N...] | -r N:M ...] SOURCE[@REV] [WCPATH]`
> 
> `2\. In the second form, the URLs corresponding to the source working copy paths` `define the sources to be compared. The revisions must be specified.`
> 
> `3\. In the third form, SOURCE can be either a URL or a working copy path` `(in which case its corresponding URL is used).`

文档说即使您引用磁盘上的副本，它仍然会尝试进入存储库。

我尝试按照您的建议进行合并（上面的第二种形式），并且在连接时可以正常工作，但是当我断开连接时：

```
dev_6 zyoung$ svn merge --reintegrate ../dev@11
svn: OPTIONS of 'http://foo.unfuddle.com/svn/foo_personal/dev': Could not resolve hostname `foo.unfuddle.com': Host not found (http://foo.unfuddle.com) 
```

我希望这有帮助，

# regex - 如何找出这个 GREP 正则表达式模式？

> ID：10023032
> 
> 赞同：0
> 
> 时间：2012-04-05T05:20:18.353
> 
> 标签：regex, grep, pattern-matching

在大型 html 文件中的某处：

```
<td headers="fee" style="cursor:pointer;" onclick="toggle('detailinfo088180');">
            $675.00 
        </td>

blabla<br><em>$650</em>">blabla/a>
    </td>
  </tr> 
```

我只需要在 grep 命令后输入“675.00”号码。我尝试了一些像 $[0..9].* 这样的正则表达式，但它不起作用。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:31:09.093

尝试这个

```
grep -e "\$[0-9]\{1,\}\.[0-9]\{2\}" 
```

我放了“$”来更好地匹配模式，你可以在 grep 匹配后删除它，管道另一个操作。

如果您只需要提取数字，也许您可​​以决定不使用 grep 而是使用 perl：

```
perl -ne '/\$([0-9]+\.([0-9]+))/ && print "$1\n"' < yourfile 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T05:31:14.863

您想使用连字符`-`而不是`..`表示范围。您还需要转义`$`文字，因为否则它意味着行尾。

这应该看到它： `grep "\$[0-9]+"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:25:07.963

这可以从“”的内部 HTML 中提取数字：

/[0-9.]+/

问题的另一部分是获取包含价格的 HTML。这是一个更完整的示例：

```
<html>
<head>
<script>
    function toggle(e,id) { 
        val = parseFloat(e.innerHTML.match(/[0-9.]+/));
        // Another method:
        // val = parseFloat(e.innerHTML.match(/\$([0-9.]+)/)[1]);
        alert(val);
    }
</script>
</head>
<body>

<table border=1><tr>
<td headers="fee" style="cursor:pointer;" onclick="toggle(this,'detailinfo088180');">
   $675.04 
</td>

blabla<br><em>$650</em>">blabla/a>
    </td>
  </tr>

</table>
</body>
</html> 
```

请注意以下事项：

*   该`toggle()`函数需要一个额外的参数，即实际点击的元素。（假设您希望从单击的元素中提取价格）
*   我提供了另一个更严格的正则表达式（必须在数字前面有一个“$”），以防这是您需要的。该表达式使用捕获 (" `(..)`") 来匹配字符串并提取字符串的一部分而不是整个字符串。

如果您想了解更多关于正则表达式如何工作的信息，请[在此处](http://www.w3schools.com/jsref/jsref_obj_regexp.asp)尝试。或谷歌。

# marklogic - 在marklogic中获取'N'条记录

> ID：10023033
> 
> 赞同：1
> 
> 时间：2012-04-05T05:20:21.307
> 
> 标签：marklogic

我的 MarkLogic 服务器数据库中有大约**53,00,000 个**文档，每个文档包含一条记录。
请告诉我如何在 MarkLogic 中获得 N 条记录。

我不想使用搜索 API。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T11:20:27.583

如果您只想获取数据库中的前 N ​​个文档，无论它们是什么，您都可以这样做：

```
(/node())[1 to $n] 
```

假设您已经定义了一个变量 $n。如果你想使用一些搜索条件，你可以这样做：

```
cts:search(fn:doc(), cts:do-some-search-here())[1 to $n] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:00:41.250

你只是想清点文件吗？

```
xdmp:estimate(doc()) 
```

请参阅[http://community.marklogic.com/try/ninja/index](http://community.marklogic.com/try/ninja/index)以获得将引导您完成其中一些的教程。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-12T05:53:49.600

类似于 Dave Cassel 的回答，您也可以使用：

```
doc()[$start to $end] 
```

甚至更好：

```
collection()[$start to $end] 
```

或者为了完全符合 XQuery：

```
collection()[position() = ($start to $end)] 
```

高温高压

# smarty - smarty中的串联

> ID：10023042
> 
> 赞同：25
> 
> 时间：2012-04-05T05:21:17.153
> 
> 标签：smarty

我想将从这两个变量的连接中获得的值分配给一个字符串。

```
{assign var="url" value="{$WS_PATH}aircraft_images/{$images[i].image}"} 
```

请让我知道我们如何在 smarty 中做到这一点。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-04-15T07:42:06.500

其中之一应该工作：

```
{assign var="url" value=$WS_PATH|cat:"aircraft_images/"|cat:$images[i].image} 
```

或者

```
{assign var="url" value="`$WS_PATH`aircraft_images/`$images[i].image`"} 
```

我不确定 $images[i].image 是否会被正确解析，您可能必须先将其 {assign} 到另一个变量

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-04-05T06:00:20.517

你已经[`assign`](http://www.smarty.net/docs/en/language.function.assign.tpl)正确使用了。

一个简化的示例可能如下所示：

你的phpfile.php：

```
$tpl = new Smarty;
$tpl->assign('var1','Hello');
$tpl->assign('var2','World');
$tpl->display('yourtemplate.tpl'); 
```

你的模板.tpl：

```
...
<body>
{assign var="url" value="{$var1} - and - {$var2}"}
{$url}
</body> 
```

...将导致输出：

```
Hello - and - World 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-11-23T12:04:50.623

这样的表达式可以解决问题：

```
{$product1_photo = "{$smarty.const.IMG_URL}/{$pInfo.PhotoName}"} 
```

# c# - 在 Windows 窗体中启用滚动条

> ID：10023043
> 
> 赞同：18
> 
> 时间：2012-04-05T05:21:17.227
> 
> 标签：c#, winforms

我正在开发一个 Windows 窗体应用程序。在我的应用程序中，我将控件锚定到表单，以便可以最大化表单并相应地安排控件。此应用程序应支持不同的 DPI 值。

我已将一些控件的锚点设置为底部、右侧和右下角。窗体的 AutoScroll 属性设置为 true。当 DPI 值为默认 (96) 时，控件按预期工作。但问题是，如果屏幕以更高的 DPI（如 120）加载，即使启用了表单滚动条，也无法看到锚定在底部和右下角的控件。

有人可以就这个问题给我建议吗？

问候， 埃兰加

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-08-27T13:27:48.040

`AutoScroll = True`在表单属性中设置

![在表单上设置 AutoScroll = true](../Images/98e5b93924a2cc0136c9709e59ebd85c.png)

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-10-13T09:19:50.940

创建一个`Panel`被调用的`panel`，然后执行以下操作：

```
panel1.autoscroll  = true;
panel1.BorderStyle = BorderStyle.FixedSingle; 
```

使用此方法设置滚动宽度和高度：

```
panel1.SetAutoScrollMargin(int x,int y); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2017-10-28T15:41:20.087

这是一个旧帖子，但问题仍在继续，相关帖子不断出现`SO`！

我在这里做 necro 的事情，而不是仅仅因为它是我的[谷歌搜索的顶部而解决一个更新的问题](https://www.google.co.uk/search?q=.net+windows+forms+scrollbar+not+visible)

问题很简单：**“为什么我的屏幕上不会出现该死的滚动条[`ScrollableControl`](https://msdn.microsoft.com/en-us/library/system.windows.forms.scrollablecontrol(v=vs.110).aspx)？”**

但*不可能有具体的、确定的答案*。因为原因是多方面的。因为滚动条是否出现在控件上取决于：

*   不仅取决于它自己的属性设置
*   还要根据它的父控件的状态
*   以及任何子控件的状态。

在奶牛回家之前，很容易陷入随机旋转道具值的陷阱。或者去 i/webs &希望找到一些`SO`foos。但是哦，亲爱的。以下是一些相关的`SO`帖子，其中提出了各种各样的提案：

[水平滚动条在 DataGridView 上不可见](https://stackoverflow.com/questions/5218819/horizontal-scrollbar-is-not-visible-on-datagridview)

[我的文本框上没有显示水平滚动条](https://stackoverflow.com/questions/36803301/horizontal-scrollbar-not-showing-on-my-textbox)

[如何在 Windows 窗体中设置滚动条](https://stackoverflow.com/questions/12313442/how-to-set-scroll-bar-in-windows-form)

[当包含的控件太大时，如何使滚动条出现在可调整大小的面板中？](https://stackoverflow.com/questions/1222830/how-to-make-scrollbars-appear-in-a-resizable-panel-when-the-contained-control-is)

[c# 中的可滚动表单，AutoScroll=true 不起作用](https://stackoverflow.com/questions/17789197/scrollable-form-in-c-autoscroll-true-doesnt-work)

[如何在 VB.Net 的面板中获取滚动条？](https://stackoverflow.com/questions/12507228/how-to-get-scrollbar-in-panel-in-vb-net)

有`VS-designer`属性页面的屏幕截图（如这里）甚至一些基于代码的极端解决方案......我的最爱：

[在 .NET 中将垂直滚动条添加到面板](https://stackoverflow.com/questions/6090558/add-vertical-scroll-bar-to-panel-in-net)

[如何在 Visualbasic.net 中添加 Vscroll 控件以形成窗体？](https://stackoverflow.com/questions/5817251/how-to-add-vscroll-control-to-form-in-visualbasic-net)

/叹气/

* * *

## 一个普遍的答案

..以*最小的*github 解决方案的形式来探索一些 .NET 滚动条的巫术：

[https://github.com/violet313/TestWinForms/tree/Test1-Body-Panel](https://github.com/violet313/TestWinForms/tree/Test1-Body-Panel)

这是`Visual Studio 2015`使用`.NET4.52 framework`.

在解决方案中，我试图创建一个响应要显示的一些动态文本数据的表单。这是我最终寻求的基本布局：

```
--------------------------------------------------
|      fixed-size form header       |            | 
------------------------------------|   side     |
|                                   |   panel    |
|      dynamic content panel        |   stuff    |
|                                   |            |
--------------------------------------------------
|      fixed-size form trailer                   |               
-------------------------------------------------- 
```

我希望表格：

*   不能由用户调整大小
*   通过以下方式响应动态内容：

    *   尽可能缩小到预先确定的最小表格尺寸。
    *   长大到预定的最大表格尺寸；然后在动态内容面板上提供适当的滚动条。

抓住它，检查每个（从 95dccc5 开始只有 9 个）提交，然后以理智和渐进的方式测试*你的*需求。每当您进行可疑的状态更改时，请务必进行分支。

Irl：也许我是个笨蛋，但我花了一个多小时阅读 MSDN，试图（&failing）找出 .NET 表单控制属性的意外情况。以这种方式进行结构化的试错只花了我 20 分钟就得到了我想要的东西。

* * *

`y~bwc`

> 我知道这是一个 **yeaz〜但谁在乎呢？**但我必须离开我的胸膛。呵呵：
> 
> grrr。不得不揭开并回答这个问题是因为我需要有利可图地承担微软的合同工作。paymasters 可能相对（从开发人员的观点）非技术性，并且阅读了很多东西，包括：快速、简单、直接、安全等，给人的印象是 .NETish 是在公园。我的问题是，我很难合理地解释为什么他们可能需要为 n 天的工作付钱给我，以便让一个简单的滚动条出现在响应式表单上。
> 
> 在这种情况下，我从来没有走那么远。哈哈。我花了几个小时涉足 MSDN 的废话，试图让它发生。然后打了个哈欠，放弃了，继续务实的实施。这被接受了。但现在是结束了，我是一个不能让事情发生的强迫症傻瓜。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-04-26T16:43:19.917

我正在阅读[此页面](https://www.telerik.com/blogs/winforms-scaling-at-large-dpi-settings-is-it-even-possible-)，我可以说它为您的问题提供了一个准确而简单的解决方案！

我对其进行了测试，它对我来说效果很好。

操作说明：

1.  将清单文件添加到您的项目（**项目**-->**新项目** --> 选择清单类型）
2.  将以下 XML 添加到您的 app.manifest（可能是另一个名称）中：

```
<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0" xmlns:asmv3="urn:schemas-microsoft-com:asm.v3" >
   <asmv3:application>
        <asmv3:windowsSettings xmlns="http://schemas.microsoft.com/SMI/2005/WindowsSettings">
             <dpiAware>true</dpiAware>
        </asmv3:windowsSettings>
   </asmv3:application>
</assembly> 
```

3.  将以下 C# 代码添加到调用组件初始化 ( `InitializeComponent();`)的类中

```
[DllImport("shcore.dll")]
static extern int SetProcessDpiAwareness(_Process_DPI_Awareness value);

enum _Process_DPI_Awareness
{
    Process_DPI_Unaware = 0,
    Process_System_DPI_Aware = 1,
    Process_Per_Monitor_DPI_Aware = 2
} 
```

4.  现在只需在初始化组件方法上方添加此代码行（默认情况下`InitializeComponent();`）

```
SetProcessDpiAwareness(_Process_DPI_Awareness.Process_DPI_Unaware); 
```

# c# - 从嵌套/基类更改属性时，链接嵌套类之间的属性以具有相同的值

> ID：10023050
> 
> 赞同：0
> 
> 时间：2012-04-05T05:21:45.543
> 
> 标签：c#, class, properties, nested, variable-assignment

假设：

```
class BaseClass
{
    public string MyProperty { get; set; }
    public NestedClass_ NestedClass;
    internal class NestedClass_ : BaseClass
    {
        public string MyNestedProperty { get; set; }
    }
} 
```

现在，让我们这样说：

```
var baseClass = new BaseClass();
baseClass.NestedClass.MyNestedProperty = "Value applied from nested class"; 
```

`baseClass.MyProperty`更改时可以做些什么来应用相同的值`baseClass.NestedClass.MyNestedProperty`吗？

而相反的情况呢：

```
var baseClass = new BaseClass();
baseClass.MyProperty = "Value applied from base class"; 
```

`baseClass.NestedClass.MyNestedProperty`更改时可以做些什么来应用相同的值`baseClass.MyProperty`吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T17:53:46.283

找到了方法...

```
class BaseClass
{
    private string _myProperty;

    public string MyProperty
    {
        get { return _myProperty; }
        set
        {
            _nestedClass.MyNestedProperty = value;
            _myProperty = value;
        }
    }

    private NestedClass_ _nestedClass = new NestedClass_();

    private class NestedClass_
    {
        public string MyNestedProperty { get; set; }
    }

    public string MyNestedProperty
    {
        get { return _nestedClass.MyNestedProperty; }
        set
        {
            MyProperty = value;
            _nestedClass.MyNestedProperty = value;
        }
    }
} 
```

# windows - 自动网页截图

> ID：10023052
> 
> 赞同：1
> 
> 时间：2012-04-05T05:21:51.877
> 
> 标签：windows, browser, screenshot, autoit, webpage-screenshot

我们有一台用于 CSS coder 的 PC，有 17 个不同的浏览器版本。我想知道是否可以编写一个自动截图脚本。

算法：

1.  脚本获取要检查的 URL。
2.  脚本打开浏览器，截取屏幕截图，保存它，如果需要，向下滚动以制作其他屏幕截图，直到覆盖整个页面。

AutoIt 的 API 简单且面向 Windows。使用 AutoIt，我如何：

1.  打开网络浏览器？
2.  将 URL 传递给它？
3.  制作屏幕截图并将其保存到文件系统？
4.  定义是否需要滚动？
5.  按显示器大小滚动页面（这样整个页面都被覆盖了）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:33:47.697

在相当复杂的场景的早期阶段（例如登录 -> 转到页面 -> 单击一个项目），您可能想要查看[Selenium](http://seleniumhq.org/)！文档也被翻译成几种语言。

如果您的网站不在防火墙后面（即生产环境），[Browsershots](http://www.browsershots.org)也可以工作。有[类似的服务](http://designm.ag/resources/cross-browser-testing/)（无从属关系）值得考虑。

# php - 在蛋糕 php 链接中写入两个跨度标签或两个元素

> ID：10023054
> 
> 赞同：0
> 
> 时间：2012-04-05T05:22:04.737
> 
> 标签：php, cakephp, cakephp-1.3

如何在 cakephp 的 cake php 链接中写入两个 span 标签或两个元素？

例如

```
<?php
$title = '$this->Html->tag('span', 'Test Title', array('style' => 'color:blue'))';
$status = '$this->Html->tag('span', '  (New) ', array('style' => 'color:black'))';

echo $this->Html->link( $title.$status, 'people/video'.$person['video']['id'], 'target' => '_blank'));
?> 
```

这样我就可以输出

```
<a href="people/video/765" target ="_blank" ><span style="color: blue">Test Title</span><span style="color: #000000;"> (New) </span> </a> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:55:29.900

`$this->Html->link()`自动转义导致 HTML 呈现为特殊字符的特殊字符。您可以设置`escape`选项`$this->Html->link()`to`false`来完成想要的，[请参阅手册了解更多选项](http://book.cakephp.org/2.0/en/core-libraries/helpers/html.html#HtmlHelper%3a%3alink)。

您更新的代码如下所示。我删除了引号`$title`并`$status`包裹`'target' => '_blank'`在一个数组中，您不能以在原始代码中使用它们的方式使用键 => 值对。之前它可能是数组结构的一部分，因为该行末尾有一个多余的括号。

```
<?php
  $title = $this->Html->tag('span', 'Test Title', array('style' => 'color:blue'));
  $status = $this->Html->tag('span', '  (New) ', array('style' => 'color:black'));

  echo $this->Html->link( $title.$status, 'people/video/'.$person['video']['id'], array('target' => '_blank', 'escape' => false));
?> 
```

# android - 如何从选项卡主机内的活动中找到选项卡主机内视图的viewbyid？

> ID：10023058
> 
> 赞同：0
> 
> 时间：2012-04-05T05:22:28.147
> 
> 标签：android, android-layout, android-tabhost

我正在尝试检索一个视图，但它一直返回 null，我该如何找到它？

```
public class TripDailyItinerary extends Activity {
ViewGroup layout;
View v;

@Override
protected void onCreate(Bundle savedInstanceState) {
// TODO Auto-generated method stub
super.onCreate(savedInstanceState);
setContentView(R.layout.html_content);  
TextView content = (TextView) findViewById(R.id.htmlContent);
layout = (ViewGroup) findViewById(R.layout.trip_content);
v = (View) layout.findViewById(R.id.bg); //where the error is

JSONObject reservation;
int resNumber = ((MyApp) this.getApplication()).getResNum();
String dailyitinerary = "";

try {
reservation = ((MyApp) this.getApplication()).getJSON().getJSONObject("response").getJSONArray("reservations").getJSONObject(resNumber);
dailyitinerary = reservation.getString("dailyitinerary");
} catch (JSONException e) {
// TODO Auto-generated catch block
e.printStackTrace();
}
content.setText(Html.fromHtml(dailyitinerary));
}

} 
```

我在 v = (view) .... 等处不断收到 NullPointerException。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:59:11.413

```
layout = (ViewGroup) findViewById(R.layout.trip_content);
v = (View) layout.findViewById(R.id.bg); //where the error is 
```

用下面替换上面的两行

```
LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
view view = inflater.inflate(R.layout.R.layout.trip_content,null);
TextView name = (TextView) view.findViewById(R.id.bg); 
```

TextView 也可以用您的控件替换为 ImageView 和任何其他控件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-25T11:52:37.923

用这个 ：

```
ViewGroup parent = (ViewGroup)findViewById(R.id.trip_layout);
LayoutInflater inflater =  (LayoutInflater)getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View myView = inflater.inflate(R.layout.trip_content,parent); 
```

如果要添加 TextView

`TextView content = (TextView)myView.findViewById(R.id.htmlContent);`

因为`null`发出警告..

`R.id.trip_layout`是您的 XML Layout 的父布局。

# inversion-of-control - 控制反转：它不仅仅是接口吗？

> ID：10023062
> 
> 赞同：1
> 
> 时间：2012-04-05T05:22:40.253
> 
> 标签：inversion-of-control

所以我一直在阅读它，我遇到的每个例子都用这样的方式解释这个概念：

**原文**：

```
A ---> B 
```

**国际奥委会**：

```
A ---> :I: ---> B ---> C , etc 
```

`A`最初`B`直接从哪里消费一些东西。在**IoC** `A`中，使用一个接口，该接口`B`是许多可能的实现之一。

这真的是控制反转的全部吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:44:52.743

这就像说面向对象是 A:B。没有 IoC 不是你所说的，它有一些目的，实现其目的的方法之一就是像你提到的那样工作。如果您看到[wiki 文章](http://en.wikipedia.org/wiki/Inversion_of_control)，它使用了一些基本模式（实际上比 wiki 提到的更多）：

> ```
> using a factory pattern
> using a service locator pattern
> using a constructor injection
> using a setter injection
> using an interface injection
> using a contextualized lookup 
> ```

此外，[依赖注入](http://en.wikipedia.org/wiki/Dependency_Injection)是执行 IoC 时涉及的常见概念之一。我想如果您阅读 Martin Fowler 的详细文章：“ [Inversion of Control Containers and the Dependency Injection pattern](http://martinfowler.com/articles/injection.html) ”，您可以更好地理解它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:27:28.340

显然不是。维基[百科的文章](http://en.wikipedia.org/wiki/Inversion_of_control)比这里的任何人想说的都多。

# jquery - 需要视频来处理 3 个样式表 - 目前视频从较小的 div 中溢出

> ID：10023068
> 
> 赞同：0
> 
> 时间：2012-04-05T05:24:04.253
> 
> 标签：jquery, css, html, html5-video

嗨，我有一个专为宽屏设计的页面，所以我创建了 css 样式表来调整 imgs 等的大小以适用于 2 个较小的尺寸，但视频组件保持不变。关于我将如何解决这个问题的任何建议。

网址可以在这里找到[http://tinyurl.com/6q4pz92](http://tinyurl.com/6q4pz92)

我正在尝试使用 html 5 视频，这是我的代码

```
 <!-- styles for html 5 video -->
            <link href="video-js/video-js.css" rel="stylesheet">
           <video id="sms1_video"class="video-js vjs-default-skin" controls
         preload="auto" width="900" height="600" poster="images/sms/AnimationScreen_SMSXMAS.jpg"
        data-setup="{}">
           <source src="images/interactive/SMS_2011ChristmasAnimation.mp4" type="video/mp4" /><!-- MPEG4 for Safari -->
            <source src="images/interactive/SMS_2011ChristmasAnimation.webm" type="video/webm" /> 
             </video> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-10T18:55:33.447

您在 html 元素中声明宽度和高度：

```
 <video id="sms1_video"class="video-js vjs-default-skin" controls
     preload="auto" width="900" height="600" poster="images/sms/AnimationScreen_SMSXMAS.jpg"
    data-setup="{}"> 
```

无论您在 CSS 中添加什么内容，视频都将保持 900 x 600。

**相反：**将其更改为 width=100% 并删除高度组件。然后，您可以在 CSS 中对视频和大小进行包装。

有关完整说明，请参阅此有用的教程：

[http://www.netmagazine.com/tutorials/create-fluid-width-videos](http://www.netmagazine.com/tutorials/create-fluid-width-videos)

**编辑：** 您的网站有以下代码：

```
<div class="videowrapper"><video id="sms1_video" class="video-js vjs-default-skin" controls="" preload="auto" width="100%" poster="images/sms/AnimationScreen_SMSXMAS.jpg" data-setup="{}">
       <source src="images/interactive/SMS_2011ChristmasAnimation.mp4" type="video/mp4"><!-- MPEG4 for Safari -->
       <source src="images/interactive/SMS_2011ChristmasAnimation.ogv" type="video/ogg"> <!-- Ogg Theora for Firefox 3.1b2 -->
        <source src="images/interactive/SMS_2011ChristmasAnimation.webm" type="video/webm"> 
         </video>
</div> 
```

在`<div class="videowrapper">`css中需要一些宽度或高度。您可以使用媒体查询将其设置为根据浏览器大小调整大小。

# ios - 我可以在 iOS 中为文件设置任意属性吗？

> ID：10023070
> 
> 赞同：4
> 
> 时间：2012-04-05T05:24:36.563
> 
> 标签：ios, file

我正在实现一些管理简单文件（如文本文件）的代码，我想在文件中添加一些信息，例如位置、标签等，而不在文本文件上编写额外的文本。

我认为最简单的方法是在文件属性中添加额外的信息，但我不确定这是否可能。

我一直在玩 NSURL `setResourceValue:forKey:error:`，但似乎只有 NSURL 的预定义键实际上会向文件的属性写入一些内容。所以：

```
NSURL *fileURL; //suppose this points to something
NSError *error;
id resourceValue;

[fileURL setResourceValue:@"recorded string" forKey:@"testingkey" error:&error];
[fileURL getResourceValue:&resourceValue forKey:@"testingkey" error:&error]; 
```

在上面的代码中，functions`setResourceValue:forKey:error:`和`getResourceValue:forKey:error:`return`YES`都表示成功，但最终的值为`resourceValue`nil，这可能意味着该值实际上没有被记录。

那么，有没有办法在 iOS 中为文件设置我自己的属性？如果不是，那么在不修改文件本身的情况下，将额外信息同化到文件中的好（简单）方法是什么？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-06T17:28:09.827

这是对这个问题的补充：[extended-file-attributes](http://nshipster.com/extended-file-attributes/)

本文详细分析了如何解决既不改变原始文件内容，又要在文件中写入一些信息的问题。

你可以这样使用：

```
#include <sys/xattr.h>

    if (!&NSURLIsExcludedFromBackupKey) {
        // iOS <= 5.0.1
        const char *filePath = [[URL path] fileSystemRepresentation];
        const char *name = "com.apple.MobileBackup";
        u_int8_t value = 1;
        int result = setxattr(filePath, name, &value, sizeof(value), 0, 0);
    } else {
        // iOS >= 5.1
        NSError *error = nil;
        [URL setResourceValue:@YES
                       forKey:NSURLIsExcludedFromBackupKey
                        error:&error];
    } 
```

# c# - 使用 MVVM 在 XAML 中禁用 Telik 网格中的特定列

> ID：10023072
> 
> 赞同：2
> 
> 时间：2012-04-05T05:24:48.707
> 
> 标签：c#, wpf, xaml, telerik

我正在使用 WPF 应用程序，在该应用程序中，我正在使用 Telerik 网格，并且我正在使用 MVVM mpdel 在 yjay 网格中绑定数据。我想根据我的布尔值**禁用**或**灰显该网格中的特定列。**我将该 GridViewDataColumn 的**IsEnabled**属性设置为 false，但它不会受到该列的影响....

请问谁能告诉我这个问题的解决方案？

提前致谢....

我禁用网格列的代码是：

```
 <telerik:GridViewDataColumn Width="40" IsFilterable="False"  HeaderTextAlignment="Center" Header="Max" DataMemberBinding="{Binding Constraint.MaxCountConstraint, Mode=TwoWay}" IsEnabled="{Binding MyBoolValue}" Tag="Exclude" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T01:39:55.163

新的[IsReadOnlyBinding](http://www.telerik.com/help/silverlight/gridview-read-only-rows-cells.html)应该可以解决问题。

```
<telerik:GridViewDataColumn Width="40" IsFilterable="False"  HeaderTextAlignment="Center" Header="Max" DataMemberBinding="{Binding Constraint.MaxCountConstraint, Mode=TwoWay}" IsReadOnlyBinding="{Binding MyBoolValue}" Tag="Exclude" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:15:42.457

就在昨天，我被这个咬了。我的问题在于内置的 WPF DataGrid，但我认为这是相同的根本原因。

基本问题是您的 GridViewDataColumn 是一个虚拟构造。它实际上并没有显示在屏幕上。显示的是其中的数据 - 标题的单元格，数据的单元格等。这意味着 GridViewDataColumn 不是它所在窗口的可视化树的一部分，因此绑定到默认视图的 DataContext失败。如果您查看 Visual Studio 的“输出”窗格，您将看到此绑定错误。

我在[Thomas Levesque 的博客](https://tomlev2.wordpress.com/2011/03/21/wpf-how-to-bind-to-data-when-the-datacontext-is-not-inherited/)中找到了解决方案，虽然有点 hack，但效果很好。它涉及创建一个名为的小类，`BindingProxy`它是`Freezable`一个 WPF 基类，它允许数据上下文超越可视层次结构。您在视图中创建一个`BindingProxy`静态资源并将其绑定到您的数据上下文，然后将您的 GridViewDataColumn 绑定到代理。

查看链接，我几乎逐字复制了代码示例，它就像一个魅力。

# c++ - 在 64 位机器中分配 32 位整数数组

> ID：10023079
> 
> 赞同：1
> 
> 时间：2012-04-05T05:25:46.960
> 
> 标签：c++, memory-management

我有一台 64 位 i7 机器。假设我为 n 个 32 位整数分配内存。分配中实际使用了多少物理寄存器：n 还是 n/2？

我尝试编写以下简单程序来找出答案。

```
#include <iostream>
#include <cstdlib>

using namespace std;

int main (int argc, char *argv[]) {
    int a[4];
    cout << &a[0] << "\t" << &a[3] << endl;
    cin.ignore (1);
    return 0;
} // End main () 
```

输出是：

```
0018FA04        0018FA10 
```

他们似乎比他们应该的距离更远。为什么地址不是 04 和 07？这是否意味着系统实际上分配了四个（或更多）整数，而不是将四个 32 位整数打包到两个 64 位寄存器中？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-05T05:29:02.233

每个 int 为 32 位（4 个字节）。其中 3 个占 12 个字节。0x0018FA10 - 0x0018FA04 = 12。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T05:32:05.810

这是布局：

```
a[0]; // 0018FA04 00 00 00 00
a[1]; // 0018FA08 00 00 00 00
a[2]; // 0018FA0C 00 00 00 00
a[3]; // 0018FA10 00 00 00 00 
```

它与寄存器大小无关。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-05T06:03:39.270

> 我有一台 64 位 i7 机器。假设我为 n 个 32 位整数分配内存。分配中实际使用了多少物理寄存器：n 还是 n/2？

64 位 i7 机器是 x86_64 架构。

在这个架构上，一个 32 位整数数组将被完全打包分配，这意味着数组的大小将是 4n 字节。

如果物理寄存器是指机器字，并且您认为机器字在 x86_64 上是 64 位的，那么它将使用 n/2 个机器字。

我不会使用物理寄存器这个词，这可能会与 cpu 寄存器混淆，这不是分配数组的地方（除非非常小并且优化器是积极的）。

> 他们似乎比他们应该的距离更远。为什么地址不是 04 和 07？这是否意味着系统实际上分配了四个（或更多）整数，而不是将四个 32 位整数打包到两个 64 位寄存器中？

因为体系结构是**字节寻址的**而不是**字寻址的**。正如预期的那样，它们相隔 12**个字节。**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-05T05:36:09.920

首先，用于`sizeof(int)`了解系统上的*int*宽度。然后`sizeof(int) * N`应该给出你的数组占用的字符数。除非存在我称之为奇怪的系统（因为奇怪的对齐或填充我认为已经对齐的数据......**编辑**虽然 64 位系统可能更喜欢对齐 32 位数据填充它们与额外的 32 位，这听起来几乎合乎逻辑）它应该是`sizeof(int) * 4 == sizeof(a)`提供的具体示例中的内容。当然，数组*a*很可能没有保存在任何 CPU 寄存器中，而是在*main*函数的堆栈上。

**编辑**

例如，

```
#include <iostream>
#include <cstdlib>

using namespace std;

int main (int argc, char *argv[]) {
    int a[4];
    cout << &a[0] << "\t" << &a[3] << endl;
    cout << sizeof(int) << " " << sizeof(a) << endl;
    cin.ignore (1);
    return 0;
} // End main () 
```

在使用 Sun CC -m64 编译的 sparc 机器上，给出了

```
ffffffff7ffff748        ffffffff7ffff754
4 16 
```

# php - 如何在 PHP 构造函数中初始化图片“blob”类型

> ID：10023083
> 
> 赞同：2
> 
> 时间：2012-04-05T05:26:08.923
> 
> 标签：php, blob

我有课，我想初始化存储带有“blob”类型的图片的列，但我不确定如何？看一下代码的纬度行

```
 public function __construct( $data=array() ) {
    if ( isset( $data['id'] ) ) $this->id = (int) $data['id'];
    if ( isset( $data['date'] ) ) $this->date= (int) $data['date'];
    if ( isset( $data['topic'] ) ) $this->topic = preg_replace ( "/[^\.\,\-\_\'\"\@\?\!\:\$ a-zA-Z0-9()]/", "", $data['topic'] );
    if ( isset( $data['author'] ) ) $this->author = preg_replace ( "/[^\.\,\-\_\'\"\@\?\!\:\$ a-zA-Z0-9()]/", "", $data['author'] );
    if ( isset( $data['content'] ) ) $this->content = $data['content'];
    if ( isset( $data['picture'] ) ) $this->picture ="Here sholud be the Type" $data['picture'];
  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T05:37:11.330

在 PHP 中，二进制数据也存储在字符串中。

所以只需初始化它`$this->picture = $data['picture'];`

# c# - 在 asp.net 中的 facebook 上共享照片和视频

> ID：10023084
> 
> 赞同：1
> 
> 时间：2012-04-05T05:26:16.723
> 
> 标签：c#, asp.net

我必须在 facebook 上分享我为此编写了以下代码的照片

```
 try
        {

            labelSteps_1_2.Text = "<a name=\"fb_share\" type=\"button\"></a>" +
                "<script " +
                "src=\"http://static.ak.fbcdn.net/connect.php/js/FB.Share\" " +
                "type=\"text/javascript\"></script>";

            HtmlMeta tag = new HtmlMeta();
            tag.Name = "title";
            tag.Content = "This is the Title";
            Page.Header.Controls.Add(tag);

            HtmlLink link = new HtmlLink();
            link.Href = "http://admin.bizofair.com/UploadOffers/O_O11090004_14032012053503_183_183.jpeg";
            link.Attributes["rel"] = "image_src";
            link.Style.Add("color", "red");
            Page.Header.Controls.Add(link);

        }
        catch (Exception ex)
        {
            // Handle the exception
        } 
```

在页面加载时，但它没有显示图像，当我在 facebook 开发人员的 facebook 调试器中粘贴我的图像的 url 时，它给出了错误 必须修复的错误

无法下载：无法从 URL 检索数据。

# blackberry - 如何创建标签字段数组

> ID：10023085
> 
> 赞同：-1
> 
> 时间：2012-04-05T05:26:37.550
> 
> 标签：blackberry

我有`n`一些数据必须添加到标签字段中，而标签字段又必须添加到 hfm。我将单个数据设置为标签字段：

```
final LabelField desc = new LabelField("", LabelField.FOCUSABLE);
final LabelField desc1 = new LabelField("", LabelField.FOCUSABLE);

    Vector data = (Vector) listEvent.get(keys);
    for (int i = 0; i < data.size(); i++) {
       EventData ee = (EventData) data.elementAt(i);

    String Summary=    ee.getSummary();
     if (time.getText().equals(sTime)) {
                                                                                                             desc.setText(Summary);
     }
    else{
                 desc1.setText(Summary);

    }
}
    HorizontalFieldManager horizontalFieldManager_left18 = new HorizontalFieldManager() {

                 horizontalFieldManager_left18.add(desc1);
                 vfm.add(horizontalFieldManager_left18);
                    vfm.add(new SeparatorField());

    HorizontalFieldManager horizontalFieldManager_left17 = new HorizontalFieldManager() {

                 horizontalFieldManager_left17.add(desc);
                 vfm.add(horizontalFieldManager_left17);
                    vfm.add(new SeparatorField()); 
```

在上面的代码中，我循环遍历向量并将数据设置为稍后`labelfield`添加标签。`hfm`

现在的情况是矢量数据有多个汇总数据，并且数据被覆盖`labelfield`，我需要将`n`汇总数据的数量保留到标签字段中并添加到新的`hfm`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:37:40.300

我认为您是黑莓的新手；欢迎来到BB开发；

> 尝试这样做：

```
public class Abc extends MainScreen
{
private LabelField labelField[];
public Abc() 
{
    createGUI();
}
private void createGUI() 
{
    int size=10;
    labelField=new LabelField[size];//Here put your size; i.e., "data.size()"

    for(int i=0;i<size;i++)
    {
        labelField[i]=new LabelField("LabelField: "+(i+1), Field.FOCUSABLE);
        add(labelField[i]);
    }
}
} 
```

# mysql - html5和mysql之间的直接连接

> ID：10023087
> 
> 赞同：3
> 
> 时间：2012-04-05T05:26:54.380
> 
> 标签：mysql, html

我是 HTML5 的新手。我知道这是一个愚蠢的问题，但我听说过 mysql 和 html5 之间使用 php 的连接。但是我们可以在没有 php 的情况下在两者之间进行直接连接吗？如果是，请用您的建议和教程指导我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T05:32:06.520

好吧，您将无法使用 html5 直接连接到它，因为它在客户端运行。这意味着 html5 的代码（很可能是某种形式的 javascript）将在客户端上运行，但您的 mysql 系统在另一台服务器上。通常，您不会直接向网络开放对数据库的访问（出于安全原因）。

另一方面，正如其他海报所提到的，您可以在服务器端运行 javascript。不过，我不确定您为什么要这样做，因为 php 可能是更强大且更适合此类操作的工具。

不过，正如您所提到的，您可以使用 php 来完成。查看[http://us3.php.net/manual/en/function.mysql-connect.php](http://us3.php.net/manual/en/function.mysql-connect.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T05:32:19.573

单独的 HTML 不会让您连接到 mysql DB。但是，是的，服务器端 javascript 可以帮助您实现您想要做的事情。有 node.js 模块可用于连接和查询 mysql DB。你必须安装 node.js，然后你可以用 Javascript 编写后端。

[https://github.com/joyent/node/wiki/modules#wiki-db-mysql](https://github.com/joyent/node/wiki/modules#wiki-db-mysql)

# java - 在浏览器刷新中刷新检票面板

> ID：10023100
> 
> 赞同：2
> 
> 时间：2012-04-05T05:29:13.243
> 
> 标签：java, wicket, page-refresh, browser-refresh

我正在研究一个薪酬角色系统，一旦用户刷新浏览器，我需要刷新该页面中可用的统计信息（统计信息应从数据库中获取并显示）。但是现在它不能正常工作，因为页面刷新中的java代码没有被调用，而是用以前的数据加载缓存的页面。我尝试添加以下代码来修复它，但效果不佳。

```
@Override
protected void setHeaders(WebResponse response) { 
    response.setHeader("Cache-Control",
            "no-cache, max-age=0,must-revalidate, no-store");
} 
```

任何人都知道解决这个问题？谢谢！
这是初始代码

ManageCredits.html

```
 <wicket:head>
  <wicket:link>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
  </wicket:link>
</wicket:head>
<wicket:panel xmlns:wicket="http://wicket.apache.org/">
        <div class="offercount-container round-border">
        <div class="manage-credits-lbl"><span>Manage Credits</span></div>

                <div>
                <ul>
                     <li>Balance amout:<span wicket:id="balanceAmtLbl" >0</span></li>
                     <li>Number if transactions<span wicket:id="transactionLbl" >0</span></li>
                   </ul>
                </div>
        </div>
</wicket:panel> 
```

ManageCredits.java

```
 import com.payrole.service.Offer;
import com.payrole.service.OfferService;
import com.payrole.service.ServiceLocator;
import com.payrole.wicket.PayroleLabel;
import java.text.Format;`enter code here`
import org.apache.wicket.markup.html.panel.Panel;

public class OfferFanSummaryPanel extends Panel{      
        private long balance;
        private long transactionCount;

        public OfferFanSummaryPanel(String id){
            super(id);
        }
        public OfferFanSummaryPanel(String id, Offer offer) {
                super(id);
                balance = (client.getBalance()==null) ? 0 : client.getBalance();
                transactionCount = (client.getTransactionCount()==null) ? 0 : client.getTransactionCount();
                initTransactionSummary();              
        }
        private void initTransactionSummary(){
                PayroleLabel balanceAmtLbl = new PayroleLabel("balanceAmtLbl", String.valueOf(balanceAmt), PayroleLabel.NUMBER);
                add(balanceAmtLbl);
                PayroleLabel transactionLbl = new PayroleLabel("transactionLbl", String.valueOf(transaction), PayroleLabel.NUMBER);
                add(transactionLbl);                
        }     
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T08:31:57.030

您必须使用动态模型。例如，如果你使用类似的东西

```
add(new Label("name", Model.of(person.getName())); 
```

您将始终显示相同的字符串：您为标签提供`person.getName()`. 相反，您必须使用模型实现来计算每个渲染请求的值，例如`PropertyModel`或`AbstractReadOnlyModel`覆盖`getObject()`。

Wicket 只在您的页面上创建一次组件，并且每个请求都要求组件自己呈现。我猜你的代码没有被调用，因为它在构造函数或`onInitialze()`组件（页面，面板）中。

如果这还不够清楚，请发布一些关于您正在做什么的代码。

编辑：正如猜测的那样，您正在使用静态模型（具有固定值的模型，而不是在每个渲染请求上计算其值的模型）。我没有在您的代码中看到 emailFanCount 和 openCount 来自哪里，但假设这些是通过某种方式计算出来的。尝试在您的任何一个对象（客户端，..）上使用 PropertyModel，或者，`public String getXXX() {}`向您的面板添加一个并构造类似于此的标签：

```
Label label = new Label("someID", new PropertyModel(this, "XXX")); 
```

`this`小组在哪里。

在[Wicket Wiki](https://cwiki.apache.org/WICKET/working-with-wicket-models.html#WorkingwithWicketmodels-DynamicModels)中查看解释

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:09:20.060

在您的 HTML 中，在`<head>`tag 中添加这些行：

```
 <meta http-equiv="cache-control" content="no-cache"/>
  <meta http-equiv="pragma" content="no-cache" />
  <meta http-equiv="expires" content="-1" /> 
```

这将强制浏览器从服务器检索详细信息。您还可以在每次刷新页面时实现 url 重写以从服务器获取数据。希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T07:47:23.620

使用元标记并不能确保中间代理不会缓存页面。尝试将“Cache-Control”标头与 HTTP 1.0 标头以及所有浏览器和代理支持的“Expires”结合使用。

来自[维基百科](http://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Avoiding_caching)：

> 此标头字段 (Cache-Control) 是 HTTP 1.1 版的一部分，并且被某些缓存和浏览器忽略。可以通过将 Expires HTTP 版本 1.0 标头字段值设置为早于响应时间的时间来模拟它。

[Here](http://www.web-caching.com/mnot_tutorial/how.html)你有一个关于HTTP缓存的好教程。

# sql - 无法在具有唯一索引的对象“dbo.MSmerge_contents”中插入重复的键行

> ID：10023109
> 
> 赞同：0
> 
> 时间：2012-04-05T05:30:14.067
> 
> 标签：sql, sql-server-2008, indexing, replication, merge-replication

我们在 1 个发布者和 12 个订阅者之间配置了合并复制，所有订阅者都拥有 SQL Server 2008 R2

在其中一个订阅中，我遇到了错误

```
Error messages:
The merge process could not replicate one or more UPDATE statements to the 'Subscriber' because a stored procedure failed to execute. Troubleshoot by using SQL Profiler. (Source: MSSQL_REPL, Error number: MSSQL_REPL-2147200989)
Get help: http://help/MSSQL_REPL-2147200989
Cannot insert duplicate key row in object 'dbo.MSmerge_contents' with unique index 'nc2MSmerge_contents'. (Source: MSSQLServer, Error number: 2601)
Get help: http://help/2601 
```

在错误中提到“ `Cannot insert duplicate key row in object 'dbo.MSmerge_contents' with unique index 'nc2MSmerge_contents'`”我检查了`nc2MSmerge_contents`索引脚本，但没有为索引指定唯一约束

```
CREATE NONCLUSTERED INDEX [nc2MSmerge_contents] ON [dbo].[MSmerge_contents] 
(
    [generation] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO 
```

下面是表结构

![在此处输入图像描述](../Images/4ae012adf76c978bf3fedfaf15998f65.png)

我需要在不删除/重新创建订阅的情况下解决此问题。谁能帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-10T11:39:34.853

问题是数据库和索引已损坏。在以下链接之后修复

[https://dba.stackexchange.com/questions/16113/unique-index-corrupted-sql-select-query-returns-single-row-but-create-unique-in](https://dba.stackexchange.com/questions/16113/unique-index-corrupted-sql-select-query-returns-single-row-but-create-unique-in)

# ajax - 试图让 Ajax 表单仅在 jQuery 验证后提交

> ID：10023110
> 
> 赞同：0
> 
> 时间：2012-04-05T05:30:21.243
> 
> 标签：ajax, validation, jquery, jquery-mobile

我似乎无法弄清楚如何让我的 Ajax 表单仅在 jQuery 验证功能发生时提交。这是我的代码...

[http://jsfiddle.net/gbaH7/16/](http://jsfiddle.net/gbaH7/16/)

这是我正在使用的验证插件，[http://bassistance.de/jquery-plugins/jquery-plugin-validation/](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:39:46.393

这段代码：

```
$("#contactForm").validate({
    submitHandler: function(form) {
        console.log("Call Login Action");
    }
}); 
```

应该在里面`$(document).ready(function() {`。为我工作。

# c# - 即使使用 try..catch 块，应用程序也会崩溃

> ID：10023116
> 
> 赞同：0
> 
> 时间：2012-04-05T05:31:14.843
> 
> 标签：c#, c++, debugging

我有一个 C++ 和 C# 应用程序（它们都在同一个项目中）。在某些情况下（每次都无法重现）应用程序崩溃，我看不出有任何原因导致崩溃。

我在每个可能导致崩溃的地方添加了一个 try..catch 块——我什至在应该捕获异常的“Program.cs”代码中添加了一个 try..catch——但没有任何帮助。

我怎样才能找到问题？我应该从哪里开始？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T05:42:33.840

使用带有[-ma](http://technet.microsoft.com/en-us/sysinternals/dd996900)、-e、-t 选项的 procdump。当应用程序崩溃时，它应该生成一个转储文件。在您最喜欢的调试器（VS2010 或 WinDbg）中打开它。然后检查调用堆栈以获取线索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:37:13.297

尝试调试（不运行）应用程序，它会在您的应用程序中找到错误。如果您使用的是 Visual Studio 2010，请按 F5。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:43:41.027

请使用日志管理器。在每个执行点（例如函数的开始和结束），将信息写入 .txt 文件或数据库。当然，你可以找到问题所在。

# mysql - SELECT WHERE IN（子查询）慢

> ID：10023117
> 
> 赞同：0
> 
> 时间：2012-04-05T05:31:17.067
> 
> 标签：mysql, performance, select, subquery, where-clause

我已经尝试过[这里](https://stackoverflow.com/questions/6135376/mysql-select-where-field-in-subquery-extremely-slow-why)的解决方案，但它不起作用。

我的桌子是这样的：

```
 `Index`  uid   dept
...........................
      1    001   dept1
      2    001   dept2
      3    001   dept3
      4    002   dept2
      5    002   dept3
      6    002   dept4
      7    003   dept1
      8    003   dept5
      9    004   dept1
      10   004   dept6 
```

我想检索具有特定`dept`. 也就是说，如果我想检索`dept1`，我想检索除 uid=002 之外的所有行，因为没有`dept1`uid=002。

即使使用索引，查询字符串也很慢：

```
SELECT id FROM table WHERE uid IN
(SELECT uid WHERE dept='dept1') 
```

我以前没有使用 WHERE IN 的版本如下：

> 首先检索所有带有 dept=dept1 的 uid。
> 然后对在第一个查询中检索到的所有 uid 使用 for 循环。

对于在第一个查询中检索到的少量 (100) 行，此方法非常快。但是，这似乎不是一个好的解决方案，因为它会创建很多查询（每个查询都非常快）。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-05T05:38:56.197

试试这个：

```
select a.id from Table1 a
inner join Table1 b on a.uid = b.uid and b.dept = 'dept1'; 
```

演示：[http ://sqlfiddle.com/#!2/05774/4](http://sqlfiddle.com/#!2/05774/4)

# ruby-on-rails-3 - heroku中的应用程序错误

> ID：10023132
> 
> 赞同：1
> 
> 时间：2012-04-05T05:33:01.970
> 
> 标签：ruby-on-rails-3, heroku

我创建了示例 Rails 应用程序并部署到 heroku 中。Rails 版本是 3.1.3 Ruby 版本 1.8.7-p352，Ruby gem 版本 1.8.21。

将 Rails 推送到 Heroku 后，当我单击 heroku URL 时，会在网页中显示以下错误消息。

> 应用程序错误
> 
> 应用程序发生错误，无法提供您的页面。请稍后重试。
> 
> 如果您是应用程序所有者，请查看您的日志以获取详细信息。

我在终端中检查了我的日志，显示错误如下：

```
2012-04-05T05:08:36+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:11:in `block in <main>'
2012-04-05T05:08:36+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `instance_eval'
2012-04-05T05:08:36+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:1:in `new'
2012-04-05T05:08:36+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:1:in `<main>'
2012-04-05T05:08:36+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `initialize'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/rack/adapter/loader.rb:36:in `eval'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/rack/adapter/loader.rb:36:in `load'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/controllers/controller.rb:175:in `load_rackup_config'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/runner.rb:177:in `run_command'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/controllers/controller.rb:65:in `start'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/runner.rb:143:in `run!'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/bin/thin:6:in `<top (required)>'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/bin/thin:19:in `load'
2012-04-05T05:08:36+00:00 app[web.1]:   from /usr/ruby1.9.2/bin/thin:19:in `<main>'
2012-04-05T05:08:37+00:00 heroku[web.1]: Process exited with status 1
2012-04-05T05:08:37+00:00 heroku[web.1]: State changed from starting to crashed
2012-04-05T05:19:58+00:00 heroku[web.1]: State changed from crashed to created
2012-04-05T05:19:58+00:00 heroku[web.1]: State changed from created to starting
2012-04-05T05:20:02+00:00 heroku[web.1]: Starting process with command `thin -p 13221 -e production -R /home/heroku_rack/heroku.ru start`
2012-04-05T05:20:06+00:00 app[web.1]: /app/.bundle/gems/ruby/1.9.1/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_specification.rb:71:in `rescue in establish_connection': Please install the postgresql adapter: `gem install activerecord-postgresql-adapter` (pg is not part of the bundle. Add it to Gemfile.) (RuntimeError)
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_specification.rb:68:in `establish_connection'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_specification.rb:60:in `establish_connection'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_specification.rb:55:in `establish_connection'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/rub
y/1.9.1/gems/activerecord-3.1.3/lib/active_record/railtie.rb:69:in `block (2 levels) in <class:Railtie>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/lazy_load_hooks.rb:43:in `block in run_load_hooks'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/lazy_load_hooks.rb:42:in `each'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/lazy_load_hooks.rb:36:in `instance_eval'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/lazy_load_hooks.rb:36:in `execute_hook'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/lazy_load_hooks.rb:42:in `run_load_hooks'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activerecord-3.1.3/lib/active_record/base.rb:2190:in `<top (required)>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/app/models/product.rb:1:in `<top (required)>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:240:in `require'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:240:in `block in require'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:240:in `require'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:225:in `load_dependency'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:348:in `require_or_load'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:181:in `block in const_missing'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:489:in `load_missing_constant'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:179:in `each'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/inflector/methods.rb:123:in `each'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/inflector/methods.rb:123:in `constantize'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:179:in `const_missing'
2012-04-05T05:20:06+00:00 app[web.1]:
    from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/inflector/methods.rb:124:in `block in constantize'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/core_ext/string/inflections.rb:43:in `constantize'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/actionpack-3.1.3/lib/action_controller/metal/params_wrapper.rb:128:in `inherited'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/actionpack-3.1.3/lib/abstract_controller/railties/routes_helpers.rb:7:in `block (2 levels) in with'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/actionpack-3.1.3/lib/action_controller/metal/params_wrapper.rb:167:in `_set_wrapper_defaults'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/actionpack-3.1.3/lib/action_controller/metal/params_wrapper.rb:148:in `_default_wrap_model'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/actionpack-3.1.3/lib/action_controller/railties/paths.rb:7:in `block (2 levels) in with'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/app/controllers/products_controller.rb:1:in `<top (required)>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:240:in `require'
2012-04-05T05:20:06+00:00 app[web.1]:   f
rom /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:240:in `block in require'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:225:in `load_dependency'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:240:in `require'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:348:in `require_or_load'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:302:in `depend_on'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:214:in `require_dependency'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/engine.rb:417:in `block (2 levels) in eager_load!'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/engine.rb:416:in `each'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/engine.rb:416:in `block in eager_load!'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/engine.rb:414:in `each'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/engine.rb:414:in `eager_load!'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/initializable.rb:30:in `instance_exec'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/application/finisher.rb:51:in `block in <module:Finisher>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/initializable.rb:30:in `run'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/initializable.rb:55:in `block in run_initializers'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/initializable.rb:54:in `each'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/initializable.rb:54:in `run_initializers'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/application.rb:96:in `initialize!'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/railties-3.1.3/lib/rails/railtie/configurable.rb:30:in `method_missing'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/config/environment.rb:5:in `<top (required)>'
2012-04-05T05:20:06+00:00 app[web.1]:   from <internal:lib/rubygems/custom_require>:29:in `require'
2012-04-05T05:20:06+00:00 app[web.1]:   from <internal:lib/rubygems/custom_require>:29:in `require'
2012-04-05T05:20:06+00:00 app[web.1]:   from config.ru:3:in `block (3 levels) in <main>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:23:in `block (3 levels) in <main>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:23:in `eval'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `instance_eval'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `initialize'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:120:in `new'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:120:in `map'
2012-04-05T05:20:06+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:18:in `block (2 levels) in <main>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `instance_eval'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `initialize'
2012-04-05T05:20:06+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:11:in `new'
2012-04-05T05:20:06+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:11:in `block in <main>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `instance_eval'
2012-04-05T05:20:06+00:00 app[web.1]:   from /app/.bundle/gems/ruby/1.9.1/gems/rack-1.3.6/lib/rack/builder.rb:51:in `initialize'
2012-04-05T05:20:06+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:1:in `new'
2012-04-05T05:20:06+00:00 app[web.1]:   from /home/heroku_rack/heroku.ru:1:in `<main>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/rack/adapter/loader.rb:36:in `eval'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/rack/adapter/loader.rb:36:in `load'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/controllers/controller.rb:175:in `load_rackup_config'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/controllers/controller.rb:65:in `start'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/runner.rb:177:in `run_command'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/lib/thin/runner.rb:143:in `run!'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/lib/ruby/gems/1.9.1/gems/thin-1.2.6/bin/thin:6:in `<top (required)>'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/bin/thin:19:in `load'
2012-04-05T05:20:06+00:00 app[web.1]:   from /usr/ruby1.9.2/bin/thin:19:in `<main>'
2012-04-05T05:20:08+00:00 heroku[web.1]: Process exited with status 1
2012-04-05T05:20:08+00:00 heroku[web.1]: State changed from starting to crashed 
```

我正在使用 MySQL 数据库。我可以使用 Mysql 数据库运行 rails 应用程序吗？如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:39:28.443

您缺少 gemfile 中的姿势 gem

```
gem "pg" 
```

是你需要的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T11:49:18.210

Heroku 提供了开箱即用的 PostgreSQL，因此出现了关于`pg`gem 的错误。你有两个选择。

1.  调整您的应用程序以使用 PostgreSQL，如果您使用诸如 ActiveRecord 之类的 ORM 并假设您没有使用自定义 SQL，这应该不会那么难，或者

2.  转而使用其中一种 MySQL 附加组件，例如[ClearDB](https://addons.heroku.com/cleardb)或[Amazon RDS](https://addons.heroku.com/amazon_rds)。

# solr - 带有空格的 Solr 通配符查询

> ID：10023133
> 
> 赞同：21
> 
> 时间：2012-04-05T05:33:07.577
> 
> 标签：solr, wildcard

我有一个通配符查询，看起来像：

```
q=location:los a* 
```

我希望它与“los angeles”和“los altos”相匹配。像这样的查询：

```
q=los* 
```

工作得很好，但是一旦我添加空格，我就没有结果。如何在通配符查询中使用空格？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-01-20T16:05:04.067

我最近自己也遇到过这个问题，看来您需要做的就是避开查询中的空格。Solr 会将您的原始查询解释为如下所示：

```
location:los id:a* 
```

（假设“id”是您的默认搜索字段）

但是，如果您要将查询编写为：

```
location:los\ a* 
```

然后它最终会被解析为：

```
location:los a* 
```

以上应该会产生您想要的结果（假设您的数据已正确编入索引）。

**提示：**弄清楚这一切很简单。只需添加`&debugQuery=on`到您在提交查询时使用的 url 的末尾，以查看 Solr 是如何解析它的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-05-03T06:02:27.997

使用复杂查询解析器解决您的问题：

```
q={!complexphrase inOrder=true}location:"los a*" 
```

要了解有关复杂短语查询解析器的更多信息，请查看此链接！ [https://cwiki.apache.org/confluence/display/solr/Other+Parsers#OtherParsers-ComplexPhraseQueryParser](https://cwiki.apache.org/confluence/display/solr/Other+Parsers#OtherParsers-ComplexPhraseQueryParser)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-12T23:32:44.713

如果您仅将 solr 前缀查询插件用于后缀上的通配符，我可能会建议您使用它，因为我们是[http://lucene.apache.org/solr/4_0_0/solr-core/org/apache/solr/search/PrefixQParserPlugin。 html](http://lucene.apache.org/solr/4_0_0/solr-core/org/apache/solr/search/PrefixQParserPlugin.html)

示例用法

```
http://localhost:8983/solr/collection/select?q={!prefix%20f=name}Bob%20Smi 
```

将匹配 "Bob Smith" 或 "Bob Smit" 但不会转换为 ("Bob" OR "Smi*") 的检查，如果您使用第一个解决方案，您可能会按照以下方式考虑`q=name:Bob%20Smi*`

希望这对您或其他正在寻找简单解决方案的人有所帮助，因为在我找到这个之前，我已经把头撞在墙上好几个小时了！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-05T07:22:16.487

在没有看到您的配置的情况下，我会说使用 KeywordTokenizerFactory，因为您现在可能会在空白处进行标记。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-01-21T13:05:48.630

为我工作

```
<fieldtype name="text_like" class="solr.TextField">
    <analyzer type="index">
        <tokenizer class="solr.NGramTokenizerFactory" minGramSize="3" maxGramSize="1000"/>
        <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
    <analyzer type="query">
        <tokenizer class="solr.LowerCaseTokenizerFactory"/>
    </analyzer>
</fieldtype> 
```

和查询`field:*some\ phrase*`（在 java 文字中，需要将 \ 转义为 \\）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-05T07:29:53.663

查询（假设您有空格标记器）： q=location:los a* 表示您使用单词“los”和以“a”开头的单词搜索文档

Solr（据我所知）无法确定一个词（或术语）是否出现在另一个之前。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-29T08:25:27.560

我认为你应该使用这样的配置

```
 <fieldType name="text" class="solr.TextField" positionIncrementGap="100">
     <analyzer type="index">
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <filter class="solr.LowerCaseFilterFactory" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="(\s+)" replacement=""   replace="all" />
    </analyzer>
  </fieldType> 
```

并且您必须将搜索的输入关键字处理为删除空格

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-08-18T09:36:32.267

我在我的项目中遇到了同样的问题。当我搜索一个单词和空格时，我没有得到结果。所以我在索引和查询时用连字符“-”替换了空格。下面是我曾经这样做的 schema.xml 片段：

```
<fieldType name="text_ci" class="solr.TextField" positionIncrementGap="100">
<analyzer type="index">
<tokenizer class="solr.NGramTokenizerFactory" minGramSize="2" maxGramSize="250"/>
<filter class="solr.LowerCaseFilterFactory"/>
  <filter class="solr.TrimFilterFactory" />
    <filter class="solr.PatternReplaceFilterFactory"
            pattern="([/\s+])" replacement="-" replace="all"
    />
</analyzer>
<analyzer type="query">
<tokenizer class="solr.EdgeNGramTokenizerFactory" minGramSize="2" maxGramSize="250"/>
<filter class="solr.LowerCaseFilterFactory"/>
 <filter class="solr.TrimFilterFactory" />
    <filter class="solr.PatternReplaceFilterFactory"
            pattern="([/\s+])" replacement="-" replace="all"
    />
</analyzer>
</fieldType> 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-03-24T06:52:25.483

用过这个

```
q=location:los/ a* 
```

代替

```
q=location:los a* 
```

# java - 如何将 Wikia 链接放入 Android 中的列表视图，也许 MediaWiki API 会有所帮助，但我不确定该去哪里

> ID：10023134
> 
> 赞同：1
> 
> 时间：2012-04-05T05:33:24.593
> 
> 标签：java, android, listview, mediawiki, listactivity

我正在创建一个基于塞尔达传说的 Android 应用程序，我想链接到位于以下位置的塞尔达视频游戏的 Wikia 页面：http: [//zelda.wikia.com/wiki/Category](http://zelda.wikia.com/wiki/Category:Games) :Games ；我想知道是否有办法获取每个游戏的页面名称并将它们导入我的 Android 应用程序中的列表视图。我目前这样做的方式是将游戏名称直接编码到应用程序本身中，但如果我能这样做，它会为我提取名称，那么我就不必每次新游戏到来时都更新出来，这样就可以节省所有这些名字的硬编码。我到目前为止的代码如下：

```
 package com.lvlup.kikurself.zeldatest;

    import android.app.ListActivity;
    import android.content.Intent;
    import android.os.Bundle;
    import android.view.View;
    import android.widget.AdapterView;
    import android.widget.ArrayAdapter;
    import android.widget.ListView;
    import android.widget.AdapterView.OnItemClickListener;

    public class zeldaGames extends ListActivity {
        public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        String[] values = new String[] { "The Legend of Zelda", "Zelda II: The
         Adventure of Link", "The Legend of Zelda: Ocarina of Time",};
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
        android.R.layout.simple_list_item_1, values);
        setListAdapter(adapter);
        final ListView zeldaList = getListView();

        zeldaList.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View v, int position, long thisID)
      {
         Object o = (zeldaList.getItemAtPosition(position));
         String gameName_temp = (o.toString());

         Intent newIntent = new Intent(v.getContext(), gameDisp.class);
         newIntent.putExtra("tempG", gameName_temp);
         startActivity(newIntent);

    }
    }); 
```

非常感谢任何帮助，感谢您花时间阅读本文。

我一直在查看 MediaWiki API 并发现了这一点：

```
 http://zelda.wikia.com/api.php?action=query&list=categorymembers&cmtitle=Category:Games&cmlimit=500 
```

这将列出游戏，但它是 xml 格式我仍然对如何让游戏标题进入我的列表感到困惑。请帮助或指出我正确的方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T05:20:24.263

最好的办法是使用`HTML Parser`和解析您需要显示的内容。

这是Java实现`HTML Parser`

[http://htmlparser.sourceforge.net/](http://htmlparser.sourceforge.net/)

另一个

[http://jtidy.sourceforge.net/](http://jtidy.sourceforge.net/)

您需要寻找对于每个游戏页面来说都是不变的`<div class="category-gallery">`特定内容。`DIV`

在那里面`DIV`，每个游戏都列在另一个里面`DIV`

```
<div class="category-gallery-item category-gallery-item-image"> 
```

其中包含名称、URL、图像等内容...

```
<a title="The Legend of Zelda: Skyward Sword" href="/wiki/The_Legend_of_Zelda:_Skyward_Sword">
<img alt="The Legend of Zelda: Skyward Sword" src="http://images3.wikia.nocookie.net/__cb51062/zelda/images/thumb/b/b9/Characters_%28Skyward_Sword%29.png/130px-77%2C1066%2C0%2C874-Characters_%28Skyward_Sword%29.png">
<span class="details">The Legend of Zelda: Skyward Sword</span>
</a> 
```

从这里你可以解析你需要的东西。这也足够快，因此无需担心性能。

# c# - 使用 silverlight xap 输出打包 xml 文件

> ID：10023135
> 
> 赞同：0
> 
> 时间：2012-04-05T05:33:37.997
> 
> 标签：c#, silverlight

我有一个产生`dll`输出的 Silverlght 库项目。该项目使用 xml 文件进行解析等。
还有第二个项目引用 Dll 项目以获取构建`dll`文件并打包到 xap 中。
但是，当我运行我的 silverlight Web 应用程序项目时，它给我一个错误，没有找到 xyz.xml 文件
我需要更改 .xml 文件的哪些属性，以便它与 xap 文件中的 dll 一起使用？

**编辑**

在 Windows 资源管理器中查看时，将 Build 操作设置为 Embedded Resource 会将timing.xml 作为 bin/Debug 文件夹中的单独文件。
将 Build 操作设置为 Resource 不会将 Timing.xml 作为 bin.Debug 文件夹中的单独文件，而只是一个`dll`. 我不知道它是否以这种方式与.dll文件一起打包，但它仍然不在之后准备的.xap文件中。

产生 dll 的项目被另一个产生 xap 的项目引用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:03:31.360

如果将 .xml 文件的构建操作设置为`Content`，则该文件将包含在应用程序包中，而不会将其嵌入到项目程序集中。`Resource`build 操作会将文件嵌入到项目程序集中。

[资源文件](http://msdn.microsoft.com/en-us/library/cc296240%28v=vs.95%29.aspx)。

# css - 在Sass中将变量设置为@mixin？

> ID：10023136
> 
> 赞同：19
> 
> 时间：2012-04-05T05:34:05.643
> 
> 标签：css, variables, sass, mixins

有没有办法设置`@include mixin();`变量？我试过这个

```
@mixin bg-gradient($fallback, $type, $positionX, $positionY, $from, $from-percent, $to, $to-percent){
    background: $fallback;
    background: -webkit-#{$type}-gradient($positionX $positionY, $from $from-percent, $to $to-percent);
    background:    -moz-#{$type}-gradient($positionX $positionY, $from $from-percent, $to $to-percent);
    background:         #{$type}-gradient($positionX $positionY, $from $from-percent, $to $to-percent);
}

$navBg: @include bg-gradient(#eee, radial, top, center, #999, 0%, #555, 100%);
body { $navBg; } // it gave me an error 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-04-05T05:46:26.690

我不知道有什么特别的方法可以做到这一点，但如果你只是想在那种特定类型的渐变上干燥你的设置，你可以为它写一个包装混合：

```
@mixin navBg() {
    @include bg-gradient(#eee, radial, top, center, #999, 0%, #555, 100%);
}
body { @include navBg; } 
```

**编辑**：

[这](http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#variables_)是 SASS 变量支持的数据类型列表。既不包括 mixin 调用，也不包括它们的结果（整个 CSS 规则）。我还尝试将 include 视为字符串并对其进行插值，但这仅适用于最终结果 CSS，不适用于进一步的指令。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-02-11T16:03:51.327

如果您尝试将返回值设置为 SASS 变量，则需要使用 @function，而不是 @mixin。这让我挂了一会儿，不知道@function。例如...

```
@function font($font-size, $line-height: 1.4, $font-family: Arial) {

    @if $line-height == 1.4 {
        $line-height: round($line-height*$font-size);
    }

    @return #{$font-size}/#{$line-height} $font-family;
}

$font-medium: font(20px); 
```

顺便说一句，虽然这并没有解决这个用户正在寻找的确切内容，但这是互联网搜索中唯一弹出的关于将 var 设置为 mixin 的内容，所以我想在这里分享这个让其他人知道该怎么做如果出现这种情况。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-17T21:44:20.230

```
@mixin gradient ($place, $bcolor1, $bcolor2){`<br>`
  background-image: linear-gradient($place, $bcolor1, $bcolor2)`<br>`
  background-image: -o-linear-gradient($place, $bcolor1, $bcolor2)`<br>`
  background-image: -moz-linear-gradient($place, $bcolor1, $bcolor2)`<br>`
  background-image: -webkit-linear-gradient($place, $bcolor1, $bcolor2)`<br>`
  background-image: -ms-linear-gradient($place, $bcolor1, $bcolor2)`<br>`
}

body{
  @include gradient(bottom, #F90000 18%, #FF4C4C 66%)
} 
```

# c# - 在 log4net 中禁用特定级别

> ID：10023138
> 
> 赞同：4
> 
> 时间：2012-04-05T05:34:08.327
> 
> 标签：c#, log4net-configuration

我必须使用 log4net 在我的项目中禁用跟踪级别。我用谷歌搜索了它，但它对我没有帮助。那么任何人都可以帮我解决如何仅关闭跟踪级别以及所有特定级别关闭 log4net 中的日志记录吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-05T05:57:35.347

您可以将 LevelMatch 过滤器与 AcceptOnMatch = false 一起使用。这样，它将从日志记录中排除选定的级别。

```
<filter type="log4net.Filter.LevelMatchFilter">
    <AcceptOnMatch value="false" />
    <LevelToMatch value="TRACE" />
</filter> 
```

# sql - 如何从另一个表更新记录

> ID：10023139
> 
> 赞同：0
> 
> 时间：2012-04-05T05:34:13.240
> 
> 标签：sql, sql-server, sql-update

表格1

```
ID     Loc
-----------
001    null
002    null
003    PYD
004    null
.... 
```

表2

```
ID     Loc
-----------
001    TMB
002    null
003    PYD
004    SHD
.... 
```

我想从 table2 更新 table1。我需要这样的东西：

```
update table1 set LoC = Select LoC from table2 
```

和预期的输出：

表格1

```
ID     Loc
-----------
001    TMB
002    null
003    PYD
004    SHD
.... 
```

如何从 table2 更新 table1？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T05:40:44.847

尝试类似：

```
update t
 set t.loc = t2.loc
 from table1 t
 inner join table2 t2 on t.id =t2.id 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T05:38:37.313

```
update table1 set LoC = (Select LoC from table2 where table2 .ID =  table1 .ID) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T05:39:36.253

那是你需要的吗？

```
update table1
set Loc = t2.Loc
from table1 t1 join table2 t2
   on t1.ID = t2.ID 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-05T05:52:38.757

```
update table1
set Loc = table2.Loc
from table2
where table1.ID = table2.ID 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-05T05:38:40.870

您可以使用连接。

```
update t1 set t1.Loc=t2.Loc
From Table1 t1 inner join Table2 t2
on t1.Id=t2.Id 
```

# jquery - 使用带有 jquery 对话框的 CSS3Pie 时，圆角在 IE 中无法正常工作

> ID：10023140
> 
> 赞同：0
> 
> 时间：2012-04-05T05:34:26.277
> 
> 标签：jquery, html, jquery-ui, jquery-dialog, css3pie

我正在使用 jquery ui 对话框和 css3pie 来使边框半径在 IE8 中工作。以下是我拥有的 html 代码片段：

```
<!DOCTYPE  HTML>
<html>
    <head>
        <title>test</title>
        <script src="js/jquery-1.7.1.min.js"></script>
        <link rel="stylesheet" type="text/css" href="styles/themes/base/jquery.ui.all.css" />
        <script src="js/jquery.ui.core.min.js"></script>
        <script src="js/jquery.ui.widget.min.js"></script>
        <script src="js/jquery.ui.button.min.js"></script>
        <script src="js/jquery.ui.mouse.min.js"></script>
        <script src="js/jquery.ui.position.min.js"></script>
        <script src="js/jquery.ui.resizable.min.js"></script>
        <script src="js/jquery.ui.dialog.min.js"></script>
        <script>

            function btnclick(){
                $("#confirmation").dialog({
                    resizable : false,
                    modal : true,
                    buttons : {
                        "Yes" : function() {
                            $(this).dialog("close");
                        },
                        "No" : function() {
                            $(this).dialog("close");
                        }
                    }
                });
            }

        </script>
        <style>
            .ui-button {
                border-radius: 3px;
                behavior: url(pie.htc);
            }
        </style>
    </head>
    <body>
        <button onclick="btnclick()">Click</button>
        <div id="confirmation" title="Confirmation" style="display: none">
            Are you sure you want to Continue?
        </div>
    </body>
</html> 
```

我想为“是”和“否”按钮提供 3px 的边框半径。当我首先打开弹出窗口时，圆角在 IE 8 中变得很好。但是当我在关闭后再次打开它时，这就是我得到的：

![IE中的对话框错误](../Images/809ffc9d3c06a5639d6bed3f2c59e358.png)

知道如何解决这个问题吗？提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:36:26.220

```
 <style>
        .ui-button {
            border-radius: 3px;
            -ms-border-radius: 3px;
            behavior: url(pie.htc);
        }
    </style> 
```

# java - “增强” for 循环与“传统” for 循环的性能？

> ID：10023141
> 
> 赞同：1
> 
> 时间：2012-04-05T05:34:35.300
> 
> 标签：java

Java 5 带来了“增强” for 循环的添加，提供了更好的语法，更简洁，程序员更不容易出错或语法错误。此外，它似乎更易于使用。

但是，我听说“增强的” for 循环也可以提高性能。这是真的吗，如果是的话，两种循环方式之间的性能差异是什么？

# url - URL 重写模块问题/问题

> ID：10023142
> 
> 赞同：0
> 
> 时间：2012-04-05T05:34:50.490
> 
> 标签：url, iis, module, rewrite

我的任务是为 IIS 7.5 中的 .Net MVC 站点创建一些重写规则。我安装了 Url Rewrite Module，并配置了一些非常简单的规则，但没有成功。

所以我的第一个问题是，IIS 以什么顺序处理传入的 url？是传入 URL --> URL 重写 --> 重写 URL --> .Net MVC 路由管理器获取更新的 URL？

如果不是，那么它按什么顺序处理它，我怎样才能让 URL Rewrite 先处理 URL？

有一个复选框，上面写着“记录重写的 URL”，这个记录到 IIS 日志还是其他什么？

这是我创建的重写入站规则：

```
Pattern: (.*)/fin/(.*)
Rewrite URL: {R:1}/fi/{R:2} 
```

任何帮助是极大的赞赏。

**更新：2012 年 4 月 5 日** 我仍然无法让它在系统上运行。我尝试通过 Localhost 来消除代理和负载平衡，但它仍然无法正常工作。我将它安装到另一台机器上，它就像一个冠军。任何建议将不胜感激。

** 更新：2012 年 4 月 6 日** 我仍然没有找到问题所在，但我想知道我的 MVC 应用程序的 web.config 是否导致任何问题。看起来 web.config 中的这些语句是否会导致这种情况？：

```
<system.webServer>
<validation validateIntegratedModeConfiguration="false"/>
<modules runAllManagedModulesForAllRequests="true">
  <remove name="WebDAVModule" />
</modules> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T12:48:16.667

射线，

您对重写过程步骤是正确的。在将请求传递给适当的 asp.net 应用程序之前，IIS 将首先重写 URL。

但是，在路由中使用 IIS 重写时要小心，因为它们可以相互竞争。特别是如果 IIS 以您未曾预料到的方式重写 URL。对我来说，像这样的案例证明 Jeff Atwood 在写博客时是对的：

[有些人在遇到问题时会想“我知道，我会使用正则表达式”。现在他们有两个问题。](http://www.codinghorror.com/blog/2008/06/regular-expressions-now-you-have-two-problems.html).

一般来说，我会错误地使用通过 IIS 重写的路由，并且只会使用 IIS 重写来强制执行一般规则，例如建立规范域（www 与无 www）、强制使用小写 url 或在 URL 上强制使用尾部斜杠.

你的问题似乎比这更具体。在对问题采取霰弹枪（如 URL 重写）之前，我会用尽所有路由选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-11T18:36:46.010

2012 年 4 月 11 日更新

URL 重写模块实际上已正确安装。做了一些非常基本的测试，他们奏效了。发现我的规则的正则表达式不正确（有一个额外的斜杠），我需要执行 IISReset。如果其他人发现这篇文章，请确保您的重定向规则是正确的，并做一个非常简单的基本测试来验证它的工作原理。

# objective-c - 如何将 NSRange 或 NSMax X 与 NSRect 一起使用

> ID：10023143
> 
> 赞同：0
> 
> 时间：2012-04-05T05:35:07.247
> 
> 标签：objective-c, xcode, cocoa

当我的 x 和 y 坐标等于鼠标坐标时，如何在绘制 NSMakeRect 时设置边界。我不希望我的 NSRect 被画出某个坐标

```
NSMakeRect(mouseLoc.x, mouseLoc.y, 50, 50); 
```

我是否创建一个范围或最大 x 和 y 值，如果是，我如何将其合并到我的 MakeRect 中？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:48:14.180

如果您正在构建 64 位，则`NSRect`ed`typedef`为`CGRect`. 您可以执行以下操作：

```
CGRect oldRect; // This is the rectangle's previous position saved somewhere
CGRect newRect = NSMakeRect (mouseLoc.x, mouseLoc.y, 50, 50);
if (CGRectContainsRect (constrainingRect, newRect))
{
    oldRect = newRect;
} 
```

所以你构造了一个新的矩形，看看它是否包含在更大的边界矩形中，如果是的话，用新的替换旧的。否则，再次使用旧的。

# actionscript-3 - as3 Adob e 设备 TouchEvent 测试

> ID：10023146
> 
> 赞同：0
> 
> 时间：2012-04-05T05:35:51.817
> 
> 标签：actionscript-3, air, device

你能在 Adob​​e Device Central 上测试 touchEvent，谷歌它找不到任何信息。我知道您可以进行多点触控，但单点触控似乎不起作用......有什么建议吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:07:28.267

您需要设置 Multitouch.inputMode=MultitouchInputMode.TOUCH_POINT;

[http://help.adobe.com/en_US/FlashPlatform/beta/reference/actionscript/3/flash/ui/Multitouch.html#inputMode](http://help.adobe.com/en_US/FlashPlatform/beta/reference/actionscript/3/flash/ui/Multitouch.html#inputMode)

不在调试器中显示鼠标单击事件，因为触摸点在设备上运行时会注册它们。

另请注意，您可以使用鼠标单击事件，即使在启用多点触控模式后仍然可以正常工作：

```
 addEventListener(TouchEvent.TOUCH_BEGIN, touchBeginHandler);
            addEventListener(MouseEvent.CLICK, touchBeginHandler); 
```

# json - 从 Google Places API 获取 JSON 文件

> ID：10023153
> 
> 赞同：3
> 
> 时间：2012-04-05T05:36:29.520
> 
> 标签：json, jquery, jsonp, google-places-api

我正在尝试使用 Places API，最初尝试使用来自 jQuery 的 $.ajax，但我一直在文件的第一个元素上收到意外的令牌错误。但是我意识到你不能从 Places API 中获取 JSONP。因此，下面是它返回的示例，我一生都无法将 id 打印到控制台（对于初学者）...有人可能会指出我正确的方向吗？

从 Places 返回的 JSON：

```
{
   "html_attributions" : [],
   "results" : [
      {
         "geometry" : {
            "location" : {
               "lat" : 33.7862590,
               "lng" : -117.8531270
            }
         },
         "icon" : "http://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",
         "id" : "5be9a13a28635cf8fd2ef3c62c24d51277a4ba58",
         "name" : "Kimmies Coffee Cup",
         "rating" : 3.30,
         "reference" : "CnRpAAAANKLoOHJ1STFaFavIPjm2bpMDneGTv0AXfixyl-koF7KSK-lQSldk3c01RFJu9Gf62zXnRScte-dkPCBU8KuxCo7AMctfuaIhNkPE8RKENF9HeMlkuEg-Scp97--1VWJvjpNQjc6xRvdXsbf7V8NrSRIQnXjZBKbrSeSg2sTwBosKghoUEFlNDIN5cnVbn5n7aNtwycord-E",
         "types" : [ "restaurant", "food", "establishment" ],
         "vicinity" : "190 S Glassell St # B, Orange"
      }
      ]
} 
```

这就是我正在尝试的，但显然我不能再使用它了......

```
 $(document).ready(function () {
    $.ajax({
      url: 'https://maps.googleapis.com/maps/api/place/search/json',
      dataType: 'jsonp',
      type: 'GET',
      data: {
        location: '33.787794,-117.853111',
        radius: 100,
        name: 'coffee',
        key: 'KEY_HERE',
        sensor: false,
      },
      success: function(data) {
        console.log(data.results[0].id);
    }
  });
}); 
```

任何建议都会很棒，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:55:11.503

jQuery 有一个 parseJSON 方法，它将从 JSON 创建一个 javascript 对象。

一旦你有了这个对象

obj.results 将返回结果数组。

results[0].id 将为您提供第一个结果的 id。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:47:28.503

当您使用数据类型 json 而不是 jsonp 时，结果是什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:49:00.640

您不需要 for 循环来打印 id。您可以删除它然后尝试。另外，不确定什么是“myResult”。它似乎没有在任何地方定义。

# php - 有没有办法在不按下提交按钮的情况下自动触发提交？

> ID：10023154
> 
> 赞同：1
> 
> 时间：2012-04-05T05:36:31.643
> 
> 标签：php, javascript, jquery, html

我正在尝试自动提交表单而无需按下提交按钮。我想要实现的是，一个页面获取信息，处理该信息，然后将其重定向到另一个页面。

到目前为止，我对重定向的方法：-

```
<form action='<?php echo $url;?>' method='post'>
    <input type='hidden' name='hiddenInfo' value='<?php echo $myInfo;?>'/>
</form>
<?php
header("Location:$url"); 
```

我知道上面的代码不起作用，但我只是想展示我的方法是什么。甚至可以在没有任何事件处理程序的情况下自动提交数据。

到目前为止，我试图避免`<meta http-equiv="refresh" content="0;url=http://www.mysite.com/info/"/>`.

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-05T05:40:20.807

你不能在准备好的文件上使用[$().submit()吗？](http://api.jquery.com/submit/)

```
$(function() { $("form").submit(); }); 
```

或者：

```
$(function() { $("#formid").submit(); }); 
```

或者：

```
$(function() { $("form:first").submit(); }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-15T06:13:04.337

IF you are php programmer then you might not want any javascript answer. the best solution to this is

1.USE A PROXY like paros or HTTP analyser they will give u the insight how site's form is structued

2.notE down the forms POST OR GET VALUE SYNTAX FROM THE HTTP analyzer or paros proxy.

read this tutorial it is the best tutorial out there

[http://www.html-form-guide.com/php-form/php-form-submit.html](http://www.html-form-guide.com/php-form/php-form-submit.html)

4.change the content of $_post or $_get according to their structure which you have noted down in

paros or HTTP analyser

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:43:13.947

```
<form action='<?php echo $url;?>' method='post' id="myform">
    <input type='hidden' name='hiddenInfo' value='<?php echo $myInfo;?>'/>
</form>
$(function() { $("#myform").submit(); }); 
```

试试这个，可能有不止一个表格，所以在那个表格里放一些 id..

# c# - 隐藏 DateTimePicker 的文本和用户控件调整大小

> ID：10023158
> 
> 赞同：8
> 
> 时间：2012-04-05T05:36:58.820
> 
> 标签：c#, .net, winforms, user-controls, datetimepicker

我有一个用户控件，它的 DateTimePicker 覆盖了单行文本框 (Tb)
，覆盖了 DateTimePicker 的文本部分。文本框 Tb（**绿色**）被锚定（LTRB）。

![日期选择器覆盖有文本框](../Images/05048a74d383486537407ca13fcf0b28.png)

调整用户控件的大小时会出现问题。
覆盖的日期时间选择器显示在文本 Tb 后面。

![覆盖的 datetimepicker 显示在绿色文本框 Tb 后面。](../Images/6cf7ddfec08eef3cdaa5c3fba80597fc.png)

当前用户控件为 242(W) x 20(H) 。将控件的大小调整为低于 100 (Width) 时会出现问题。

我尝试了将 CustomFormat 设置为“”的空白文本，但用户控件支持许多 datetimepicker 功能，因此这不是一个选项。

我试图在用户控件上设置最小尺寸，但这也不起作用。

**编辑：**
该控件已在少数应用程序中使用。在这些应用程序中，控件的最小尺寸为 90X20，而我们现在设置的最小尺寸为 97x20。
进行更改后，VS Designer 会将现有控件的大小调整为 97x20 吗？
如何实现这种效果（重新调整为 97x20）？

**添加最小尺寸后编辑******代码****

```
namespace WindowsFormsApplication1
{
    partial class CDatePicker
    {
        private System.ComponentModel.IContainer components = null;

        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Component Designer generated code

        private void InitializeComponent()
        {
            this.splitContainer1 = new System.Windows.Forms.SplitContainer();
            this.datepanel = new System.Windows.Forms.Panel();
            this.datetxt = new System.Windows.Forms.TextBox();
            this.dateTimePicker1 = new System.Windows.Forms.DateTimePicker();
            this.timepanel = new System.Windows.Forms.Panel();
            this.timetxt = new System.Windows.Forms.TextBox();
            ((System.ComponentModel.ISupportInitialize)(this.splitContainer1)).BeginInit();
            this.splitContainer1.Panel1.SuspendLayout();
            this.splitContainer1.Panel2.SuspendLayout();
            this.splitContainer1.SuspendLayout();
            this.datepanel.SuspendLayout();
            this.timepanel.SuspendLayout();
            this.SuspendLayout();
            // 
            // splitContainer1
            // 
            this.splitContainer1.Dock = System.Windows.Forms.DockStyle.Fill;
            this.splitContainer1.Location = new System.Drawing.Point(0, 0);
            this.splitContainer1.Name = "splitContainer1";
            // 
            // splitContainer1.Panel1
            // 
            this.splitContainer1.Panel1.Controls.Add(this.datepanel);
            this.splitContainer1.Panel1MinSize = 105;
            // 
            // splitContainer1.Panel2
            // 
            this.splitContainer1.Panel2.Controls.Add(this.timepanel);
            this.splitContainer1.Size = new System.Drawing.Size(236, 20);
            this.splitContainer1.SplitterDistance = 178;
            this.splitContainer1.SplitterWidth = 1;
            this.splitContainer1.TabIndex = 0;
            // 
            // datepanel
            // 
            this.datepanel.Anchor = ((System.Windows.Forms.AnchorStyles)((((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom) 
            | System.Windows.Forms.AnchorStyles.Left) 
            | System.Windows.Forms.AnchorStyles.Right)));
            this.datepanel.Controls.Add(this.datetxt);
            this.datepanel.Controls.Add(this.dateTimePicker1);
            this.datepanel.Location = new System.Drawing.Point(0, 0);
            this.datepanel.Margin = new System.Windows.Forms.Padding(0);
            this.datepanel.Name = "datepanel";
            this.datepanel.Size = new System.Drawing.Size(175, 20);
            this.datepanel.TabIndex = 0;
            // 
            // datetxt
            // 
            this.datetxt.BackColor = System.Drawing.Color.Gainsboro;
            this.datetxt.BorderStyle = System.Windows.Forms.BorderStyle.FixedSingle;
            this.datetxt.Location = new System.Drawing.Point(0, 0);
            this.datetxt.MinimumSize = new System.Drawing.Size(60, 20);
            this.datetxt.Name = "datetxt";
            this.datetxt.Size = new System.Drawing.Size(71, 20);
            this.datetxt.TabIndex = 3;
            this.datetxt.Text = "date";
            // 
            // dateTimePicker1
            // 
            this.dateTimePicker1.Dock = System.Windows.Forms.DockStyle.Fill;
            this.dateTimePicker1.Format = System.Windows.Forms.DateTimePickerFormat.Short;
            this.dateTimePicker1.Location = new System.Drawing.Point(0, 0);
            this.dateTimePicker1.Margin = new System.Windows.Forms.Padding(0);
            this.dateTimePicker1.MinimumSize = new System.Drawing.Size(65, 20);
            this.dateTimePicker1.Name = "dateTimePicker1";
            this.dateTimePicker1.Size = new System.Drawing.Size(175, 20);
            this.dateTimePicker1.TabIndex = 2;
            this.dateTimePicker1.Value = new System.DateTime(2012, 11, 15, 0, 0, 0, 0);
            // 
            // timepanel
            // 
            this.timepanel.Controls.Add(this.timetxt);
            this.timepanel.Dock = System.Windows.Forms.DockStyle.Fill;
            this.timepanel.Location = new System.Drawing.Point(0, 0);
            this.timepanel.Margin = new System.Windows.Forms.Padding(0);
            this.timepanel.Name = "timepanel";
            this.timepanel.Size = new System.Drawing.Size(57, 20);
            this.timepanel.TabIndex = 0;
            // 
            // timetxt
            // 
            this.timetxt.Dock = System.Windows.Forms.DockStyle.Fill;
            this.timetxt.Location = new System.Drawing.Point(0, 0);
            this.timetxt.Name = "timetxt";
            this.timetxt.Size = new System.Drawing.Size(57, 20);
            this.timetxt.TabIndex = 1;
            this.timetxt.Text = "time";
            this.timetxt.TextAlign = System.Windows.Forms.HorizontalAlignment.Center;
            // 
            // CDatePicker
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.AutoSize = true;
            this.Controls.Add(this.splitContainer1);
            this.MaximumSize = new System.Drawing.Size(236, 20);
            this.MinimumSize = new System.Drawing.Size(100, 20);
            this.Name = "CDatePicker";
            this.Size = new System.Drawing.Size(236, 20);
            this.splitContainer1.Panel1.ResumeLayout(false);
            this.splitContainer1.Panel2.ResumeLayout(false);
            ((System.ComponentModel.ISupportInitialize)(this.splitContainer1)).EndInit();
            this.splitContainer1.ResumeLayout(false);
            this.datepanel.ResumeLayout(false);
            this.datepanel.PerformLayout();
            this.timepanel.ResumeLayout(false);
            this.timepanel.PerformLayout();
            this.ResumeLayout(false);

        }

        #endregion

        private System.Windows.Forms.SplitContainer splitContainer1;
        private System.Windows.Forms.Panel datepanel;
        private System.Windows.Forms.TextBox datetxt;
        private System.Windows.Forms.DateTimePicker dateTimePicker1;
        private System.Windows.Forms.Panel timepanel;
        private System.Windows.Forms.TextBox timetxt;
    }
} 
```

编辑：添加最小尺寸后，它看起来更好，但当控件调整为最小尺寸并重建项目时，日历下拉菜单消失。
此外，文本框不会保持锚定在日历按钮附近。

编辑：为上面添加的图片..日历消失了。

![日期日历消失](../Images/054d7aca009452b97c2d19dffc13af1d.png)

**编辑**：哦，我又错过了一件事，日期字段和时间字段都是可折叠的。这就是拆分容器存在的原因。最小尺寸计算也必须意识到这一点。（我猜 2 个不同的最小尺寸取决于时间场的可见性。）

**问题：**

a）如何防止用户控件调整大小超过某个最小限制以避免上述问题？（pic1 似乎是想法大小）

b）我可以绘制 datetimepicker 使得文本被空白并且我们只看到
日历下拉按钮吗？如果是这样，我还需要处理调整大小事件吗？

c) 我怎样才能不断调整文本框的大小，使其始终覆盖 DTP 的日期文本部分。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-07T15:18:27.127

你有一个简单的问题和一个难题。从屏幕截图中可以明显看出这个简单的问题。DateTimePicker 未正确调整大小，请注意下拉按钮如何在右侧被剪裁。UserControl 太奇怪了，无法真正查明问题，但我认为它是 datePanel。您正在使用 Anchor.Right 而不是 Dock.Fill。

难题在于下拉按钮会根据可用于呈现 DTP 内容的空间量动态调整自身大小。至少在 Windows 7 上，早期版本使用不同的渲染策略。遗憾的是，VisualStyles api 不会返回按钮的实际大小。处理它的唯一体面方法是确保文本框足够大以覆盖图标，因此只有下拉箭头可见。

我不能对 UserControl 做太多事情，我将提出一个更简单的解决方案，它仅派生自 DateTimePicker 类并在其中嵌入一个 TextBox。在运行时也便宜*很多：*

```
using System;
using System.Drawing;
using System.Windows.Forms;
using System.Windows.Forms.VisualStyles;
using System.Runtime.InteropServices;

class MyDateTimePicker : DateTimePicker {
    private TextBox editbox;
    private int buttonWidth;

    public MyDateTimePicker() {
        editbox = new TextBox();
        editbox.BorderStyle = BorderStyle.None;
        editbox.BackColor = Color.Gold;   // debugging
        this.Controls.Add(editbox);
    }

    public override Font Font {
        get { return base.Font; }
        set { base.Font = editbox.Font = value; }
    }

    protected override void OnResize(EventArgs e) {
        if (buttonWidth == 0) measureButtonWidth();
        var margin = (this.ClientSize.Height - editbox.PreferredHeight) / 2;
        editbox.Location = new Point(margin, margin);
        editbox.Width = this.ClientSize.Width - margin - buttonWidth;
        base.OnResize(e);
    }

    private void measureButtonWidth() {
        if (!Application.RenderWithVisualStyles) buttonWidth = 21;   // TODO: measure
        else {
            var renderer = new VisualStyleRenderer("DATEPICKER", 3, 1);
            using (var gr = CreateGraphics()) {
                buttonWidth = renderer.GetPartSize(gr, ThemeSizeType.True).Height;
            }
        }
    }

    protected override void Dispose(bool disposing) {
        if (disposing) editbox.Dispose();
        base.Dispose(disposing);
    }
} 
```

OnResize 覆盖负责保持 TextBox 的正确大小。添加处理 editbox.Text 属性所需的任何代码。唯一没有注意的细节是禁用视觉样式时下拉按钮的大小。这些天不常见，但仍有可能。关闭机器上的主题并调整硬编码大小，使其与外观相匹配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-08T21:48:08.877

我认为您不会通过将 DateTimePicker 与文本框重叠来获得好的结果。总会有调整大小和聚焦的问题。

我会使用以下选项之一：

*   [使用像 DevExpress PopupContainerEdit](http://documentation.devexpress.com/#WindowsForms/clsDevExpressXtraEditorsPopupContainerEdittopic)这样的第三方控件。然后，您可以弹出标准的 Windows 窗体 MonthCalendar 并根据需要自定义显示的文本。我确信 Telerik 等提供了类似的控件。
*   从代码项目之类的地方使用或自定义类似的下拉容器控件。至少有两个你可以用作灵感：

    *   [下拉容器](http://www.codeproject.com/Articles/32170/DropDownContainer-Custom-DropDown-Container-Using)
    *   [创建自定义下拉菜单](http://www.codeproject.com/Articles/35068/Creating-a-Custom-DropDown-Control)
*   您甚至可以在代码项目中调整我的[颜色选择器](http://www.codeproject.com/Articles/1484/NET-Color-Picker-Controls)的下拉部分

最后一个选项，它会给你更多的灵活性，是从 Windows 窗体迁移到 WPF。创建这样的自定义控件要容易得多（无论如何，在陡峭的学习曲线之后）。

# facebook - 检索使用 FQL 发布的所有评论？

> ID：10023179
> 
> 赞同：2
> 
> 时间：2012-04-05T05:38:58.203
> 
> 标签：facebook, facebook-fql

我有一个网站并在我的所有网页上放置了社交插件。我想要的是通过我的 APPID 检索在我的网站上发布在不同页面上的所有评论

```
 https://graph.facebook.com/fql?q=SELECT xid from comments_info where app_id=myappid 
```

我已经在[Facebook 开发者页面尝试了这个带有 accesstoken 的 url](http://developers.facebook.com/tools/explorer)

我得到的输出是

```
{
     "data": [
     ]
} 
```

我尝试查询此内容以获取使用我的 appid 发布的最新评论，但这不起作用。我不想从一个特定的网页中获取评论，而是从我的域的所有页面中获取评论，在这些页面中，用户使用了我的 appid 附带的社交插件来发表评论。

任何人都有解决方案？

# c - 在这种情况下，数组索引中的字符表示如何工作？

> ID：10023180
> 
> 赞同：2
> 
> 时间：2012-04-05T05:39:09.543
> 
> 标签：c, arrays, char

我是 C 的初学者，我有这样的代码：

```
#include <stdio.h>
main()
{
    int i;
    int ndigit[10] = { [9] = 5 };
    printf("%d\n",++ndigit['9']);
} 
```

这会打印出类似这样的值：

```
-1074223011 
```

但是当我将声明更改为：

```
++ndigit['9'-'0'] 
```

它正在正确打印值

```
6 
```

我想知道为什么需要添加`-0`我的索引以使其正常工作？为什么只是提到`++ndigit['9']`，对我没有帮助？

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-05T05:43:48.473

如果要访问数组中的第 10 个元素，请执行以下操作：

```
array[9] 
```

如果要访问索引处具有数字`9`+ 1 的字符常量值的元素，请执行以下操作：

```
array['9'] 
```

由于定义了 ASCII（以及 C 使用的所有其他字符编码方案，请参阅 Wiz 的注释）的方式，表达式`'9' - '0'`实际上等于 9，在这种情况下这可能会使您感到困惑。

# wpf - WPF MVVM 模式 ObservableCollection

> ID：10023190
> 
> 赞同：1
> 
> 时间：2012-04-05T05:40:05.283
> 
> 标签：wpf, mvvm, observablecollection

由于 mvvm 模式，模型不应该对 ViewModel 有任何了解。

如果我在其中一个模型中创建一个**ListBox**字段怎么办？看起来不错。但下一步我必须将此值绑定到 ModelView 中的 ObservableCollection。

我可以做这个：

var myCollection = new ObservableCollection (myList);

但在这种情况下，我失去了 OC 的所有优势。这个集合是静态的，插入或更新都不会反映在与这个集合相关的我的视图中。

有什么想法吗 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:01:32.850

您通常使用 ObservableCollection，因为它会自动更新接口。我认为您正在以错误的方式做某事。在您的 ViewModel 中，您拥有带有元素列表的 ObservableCollection，您可以使用普通列表或元素数组对其进行初始化。你不应该用你的 ListBox 来初始化你的 OC。在你必须在你的视图中绑定它之后。当您在 OC 中添加元素时，视图将更新。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:04:42.167

你打电话时

```
var myCollection = new ObservableCollection (ListBox) 
```

您正在将 myList 的值复制到 ObservableCollection 中。这里没有任何东西会更新 ListBox 列表。

如果这是您想要的效果，您可能希望使用以下命令更新您的 ViewModel：

```
///...
var myCollection = new ObservableCollection (ListBox)
myCollection.CollectionChanged += (sender, args) => RefreshListBox(myCollection);
///...
private void RefrehListBox(ObservableCollection<...> collection){
 //Refresh ListBox with collection
} 
```

这样，每次 ObservableCollection 更新时，您都会将底层模型与更改同步。

# asp.net - asp.net 应用程序的 url 名称

> ID：10023191
> 
> 赞同：0
> 
> 时间：2012-04-05T05:40:19.527
> 
> 标签：asp.net

```
 protected void Button_Click(object sender, CommandEventArgs e)
        {
            Response.Redirect("PageName.aspx?name=" + e.CommandArgument.ToString());
        } 
```

例如，此代码生成一个页面，例如

www.mypage/PageName.aspx?name=12

是数据库，id 号 12 属于一个名为 x 的名称

我希望我的结果看起来像这样

www.mypage/PageName.aspx?name=x

我应该在哪里进行更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:43:14.497

我假设 CommandArgument 包含 ID？您可以查找相应的名称并将其添加到查询字符串中：

```
protected void Button_Click(object sender, CommandEventArgs e)
{
    string name = ........

    Response.Redirect("PageName.aspx?name=" + HttpUtility.UrlEncode(name));
} 
```

# winforms - WinForms ProgressBar 内存泄漏

> ID：10023202
> 
> 赞同：1
> 
> 时间：2012-04-05T05:41:15.103
> 
> 标签：winforms, memory-leaks, progress-bar

似乎*垃圾收集*器没有清理与控件相关的资源，它导致我的*WinForms应用程序的**用户对象*`ProgressBar`数量不断增长（在任务管理器中看到）。

 **这是一个示例代码：

```
private void button1_Click(object sender, EventArgs e)
{
    GC.Collect();
    GC.WaitForPendingFinalizers();
    GC.Collect();
    panel1.Controls.Clear();
    Random rnd = new Random((int)DateTime.Now.Ticks);
    ProgressBar pB = new ProgressBar() { Value = rnd.Next(0, 100) };
    panel1.Controls.Add(pB);
} 
```

`Button`单击 时，用户对象的数量增加*2-3*。当*用户对象*的数量变为 10000时，`Exception`抛出一个。如何防止*用户对象*的增长？

> 请原谅任何拼写或语法错误，英语不是我的第一语言

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T05:50:42.653

`.Dispose()`在清除面板之前，您可能需要调用旧的进度条。

```
foreach (Control c in panel1.Controls)
    c.Dispose(); 
```**

# scala - 在 .sbt 文件中添加任务依赖项

> ID：10023205
> 
> 赞同：3
> 
> 时间：2012-04-05T05:41:33.177
> 
> 标签：scala, build, dependencies, sbt

在我的 build.sbt 文件中，我有两个自定义任务：

```
TaskKey[Unit]("aaa") := {
  println("aaa")
} 

TaskKey[Unit]("bbb") := {
  println("bbb")
} 
```

如何在它们之间添加依赖关系？例如，我想`aaa`依赖`bbb`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T05:48:59.403

来自[https://github.com/harrah/xsbt/wiki/Tasks](https://github.com/harrah/xsbt/wiki/Tasks)

要依赖某些任务的副作用而不使用它们的值并且不做额外的工作，请对一系列任务使用dependOn。定义任务键（<<= 左侧的部分）必须是 Unit 类型，因为没有返回值。

```
unitTask <<= Seq(stringTask, sampleTask).dependOn 
```

要在不使用其值的情况下将依赖项添加到现有任务，请在任务上调用 dependsOn 并提供要依赖的任务。例如，这里的第二个任务定义修改了原来的要求 string-task 和 sample-task 首先运行：

```
intTask := 4

intTask <<= intTask.dependsOn(stringTask, sampleTask) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:49:49.717

```
val aaa = TaskKey[Unit]("aaa", "First")
val bbb = TaskKey[Unit]("bbb", "Second")

bbb := { println("bbb") }
aaa := bbb map { _ => println("aaa") } 
```

# javascript - 在 InternetExplorer 中输入文本导致换行

> ID：10023206
> 
> 赞同：0
> 
> 时间：2012-04-05T05:41:44.647
> 
> 标签：javascript, html, css

我有个问题。要求是有一个名为“金额”的字段，其长度不应超过 13 个字符。如果超过，则文本将以红色突出显示。

一切正常，但是当我在文本框中输入超过 20 个字符时，文本框会换行。文本框位于 TD 内。

有人可以指导我如何避免破坏形式吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:23:49.747

尝试使用 a`maxlength="13"`来避免该刹车。

# javascript - 如何在发送表单之前使用 javascript 验证基于 javascript 的表单复选框

> ID：10023208
> 
> 赞同：1
> 
> 时间：2012-04-05T05:42:18.920
> 
> 标签：javascript, forms, validation, checkbox

嗨，我的网站上有一个联系表格，在这个表格中我有一个 javascript 复选框按钮。

这是我的表单的结束代码：这个 div 标签是我的复选框：

```
<p><label for="agree">(*) I agree whit the transport terms and conditions:</label><div id="cb"></div></p>
<p>hi
<input name="Submit / Send" type="submit" class="submit" id="Submit / Send" tabindex="370" value="Submit / Send" />
<p id="error_zone" style="visibility:hidden;">Errors: There are some errors in the form. Please correct them.</p>
</p> 
```

这是 javascript 文本按钮：

```
<script type="text/javascript">
    var cbh = document.getElementById('cb');
    var val = '1';
    var cap = '';

    var cb = document.createElement('input');
    cb.type = 'checkbox';
    cbh.appendChild(cb);
    cb.name = val;
    cb.value = cap;
    cbh.appendChild(document.createTextNode(cap));
</script> 
```

我也对我的其他表单元素使用 spry 验证。我想用 javascript 验证复选框以创建验证码复选框！是否可以让弹出验证按摩而不干扰快速验证？！重要的是，如果关闭了 javascript，则表单将无法再提交。

希望可以有人帮帮我。谢谢你的时间！

我正在尝试实现这一点：[http ://uxmovement.com/forms/captchas-vs-spambots-why-the-checkbox-captcha-wins/](http://uxmovement.com/forms/captchas-vs-spambots-why-the-checkbox-captcha-wins/)

spry 验证的片段：

```
<script type="text/javascript">
var errorsOnSubmit = function(form){
 var ret = Spry.Widget.Form.validate(form);
 var errorZone= document.getElementById('error_zone');
 if (!ret){
      errorZone.style.visibility = 'visible';
      errorZone.style.backgroundColor = 'red';
 }else{
      errorZone.style.visibility = 'hidden';
 }
 return ret;
}
</script>
<script type="text/javascript">
var spryselect1 = new Spry.Widget.ValidationSelect("spryselect1", {isRequired:false,  invalidValue:"1", validateOn:["blur", "change"]});
var spryselect2 = new Spry.Widget.ValidationSelect("spryselect2", {isRequired:false, invalidValue:"1", validateOn:["blur", "change"]});
var spryselect3 = new Spry.Widget.ValidationSelect("spryselect3", {isRequired:false, invalidValue:"1", validateOn:["blur", "change"]}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:53:35.837

创建元素后，为复选框提供一个 ID

```
cb.type = 'checkbox';
cb.id = 'mycheckbox';
cbh.appendChild(cb); 
```

现在，您可以选择使用的元素`document.getElementById('mycheckbox')`并对其进行验证。

这是验证复选框的片段

```
var myform = document.forms("yourformname");
myform.onsubmit = function() {

    //validate the checkbox
    var checkb = document.getElementById('mycheckbox');
    if(checkb.checked != true) { 
       alert('not checked');
    }

    //rest of the validation
}; 
```

### 更新1：

尚未测试，但应该可以工作

```
var errorsOnSubmit = function(form){

  //validate the checkbox
  var checkb = document.getElementById('mycheckbox');
  if(checkb.checked != true) { 
     alert('not checked');
  }

 var ret = Spry.Widget.Form.validate(form);
 var errorZone= document.getElementById('error_zone');
 if (!ret){
      errorZone.style.visibility = 'visible';
      errorZone.style.backgroundColor = 'red';
 }else{
      errorZone.style.visibility = 'hidden';
 }
 return ret;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:40:15.617

你可以试试这个代码

```
function agree() {
if (document.getElementById("cb").checked){
alert("checked");
document.getElementById("Send").setAttribute(disabled,"false");
document.getElementById(seny).
}else{
alert("unchecked");
document.getElementById("Send").disabled="true";
}
}

<p>
            <input type="checkbox" id="cb" onclick="javascript:agree();">
            <label for="agree">
                (*) I agree whit the transport terms and conditions:
            </label>
        </p>
        <p id="seny">
            <input disabled="disabled" name="Send" type="submit" class="submit"
                id="Send" tabindex="370" value="Submit / Send" />
        </p> 
```

# android - ACTION_BOOT_COMPLETED 的任何替代方案？一旦手机开机，我就需要一个 Intent/Action(/workaround)

> ID：10023209
> 
> 赞同：2
> 
> 时间：2012-04-05T05:42:28.973
> 
> 标签：android, android-intent

假设我有一个 WelcomeActivity。它所做的只是在手机开机后向您显示一个欢迎屏幕。我通过扩展 ACTION_BOOT_COMPLETED 的 BroadcastListener 成功地实现了这一点。

问题：手机需要一段时间才能完全启动，即发送 BOOT_COMPLETED 意图。所以在我看到我的欢迎活动之前，我可以看到我的手机默认主屏幕显示的整个过程，网络、wifi 和 gps 检测和配置，消息通知/状态栏向我显示收件箱中的新消息等等等

我不想等这么久。我并不是说我想压制这种真正的 android 系统行为。我要说的是，手机一启动就显示 MyActivity 并让手机以它的方式在后台启动。

是的，我知道操作系统需要启动并达到稳定状态才能启动 DVM，从而启动我的应用程序。我的问题是是否有任何其他真正的 SDK（无根）方式可以早一点（尽快）开始我的活动，而不是等到 BOOT_COMPLETED 被触发？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:51:26.577

我会说很可能不会（不包括自定义 rom）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:07:33.257

这是一个黑客工作，但实际上我一直在使用 BOOT_COMPLETED 和另一个接收器 WifiManager.SCAN_RESULTS_AVAILABLE_ACTION 并注意到 wifimanager 在启动完成之前就已经启动了。显然，如果他们关闭了 wifi 和 3g，那将毫无用处。

我认为你最好的选择是为 android.intent.action.PHONE_STATE 设置一个广播接收器。我没有尝试过，但我猜它是较早被解雇的人之一。如果这确实是启动或只是手机状态的变化，请确保添加一个布尔值跟踪。

# python - 从 QueryDict 中提取项目

> ID：10023213
> 
> 赞同：22
> 
> 时间：2012-04-05T05:43:00.423
> 
> 标签：python, django

我有一个如下所示的查询字典：

```
<QueryDict: {u'{"content":"aa","id":"1"}': [u'']}> 
```

我将如何提取`id`？

我试过做`queryDictExample.get("id")`，但没有奏效。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-04-05T06:15:14.640

看起来您的客户正在发布 JSON 而不是格式编码的数据。而不是访问`request.POST`，使用`request.body`（`request.raw_post_data`在 1.3 或更低版本中）并使用`json.loads()`转换为字典。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-12-30T19:41:39.033

也许这并不完全适用于你。但是当我搜索这个时，你的问题是第一个 Stackoverflow 问题。

我只是想在 Django 中获取基本的 POST 数据。因此，仅使用 GET 对我来说效果很好。正如其他人所说，更好地格式化创建查询的任何脚本可能会更容易。

基本上我有一个 AJAX 向 Django 发帖，POST 看起来有点像这样：

```
params = name=somename&data=abcdefg
http.send(params); 
```

然后在我的 view.py 中，我这样做了：

```
def somefuntion(request):
    if request.method == 'POST':
        log.info('POST applied')
        alldata=request.POST
        log.debug(alldata)
        data = alldata.get("data", "0")
        name = alldata.get("name", "0")
        log.info("POST name: " + name)
        log.info("POST data: " + data) 
```

alldata 的输出是：

```
<QueryDict: {u'data': [u'abcdefg'], u'name': [u'somename']}> 
```

并且 get 命令给出：

```
name: somename
data: abcdefg 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-07-15T12:45:48.050

这适用于多个值：

```
dict(MyDict.lists()) 
```

字典键是查询变量，字典值是查询值的列表。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-08-27T15:21:06.467

您可以使用 -`request.data.get("content")`如果在前端（jQuery，Angular）中您没有使用过，这将直接为您提供数据`JSON.stringify(data)`。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2020-07-25T17:21:32.323

最近遇到了类似的情况，其中来自 POST 调用的数据是`QueryDict`形式的，我能够使用访问特定键的值

```
qdict.get(keyname) 
```

我也能够迭代使用`QueryDict.items()`来获取键和值的元组

```
for q in qdict.items():
    print(q) 
```

请注意，它`QueryDict`是的子类，`Dictionary`因此所有标准方法`Dictionary`也可以在`QueryDict`.

有关 djangoproject 文档的更多信息 [https://docs.djangoproject.com/en/3.0/ref/request-response/#django.http.QueryDict](https://docs.djangoproject.com/en/3.0/ref/request-response/#django.http.QueryDict)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-12-19T05:30:39.137

这也适用于列表值：

```
dict_ = {k: qdict.getlist(k) if len(qdict.getlist(k))>1 else v for k, v in qdict.items()} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-02-09T20:50:59.867

我刚刚遇到了同样的问题。当我试图将我的请求数据保存在 request.POST 而不是 request.body 时，就会发生这种情况。我正在使用 Django 和已配置为使用 request.POST 的受信任后端路由

为了使用 fetch API 在 request.POST 中发送数据，我必须使用 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' 将我的 JSON 字符串化数据转换为上述格式。

在学习如何从 Daniel 的回答中序列化数据时，我遇到了 $.param(data)，这是一个 jquery 函数，它应该为您正确格式化它。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2012-04-05T06:14:12.083

您可以在查询字典上使用 values_list，即： `MyDict.values_list('id')`- 它将返回带有 id 的列表列表。要返回 id 列表，请使用 MyDict.values_list('id', flat=True)

有用的链接：

[https://docs.djangoproject.com/en/1.4/ref/models/querysets/#values-list](https://docs.djangoproject.com/en/1.4/ref/models/querysets/#values-list)

[https://docs.djangoproject.com/en/1.4/ref/models/querysets/#values](https://docs.djangoproject.com/en/1.4/ref/models/querysets/#values)

# android - 在发布前使用 android 测试 LVL 时如何获得未许可

> ID：10023215
> 
> 赞同：1
> 
> 时间：2012-04-05T05:43:04.643
> 
> 标签：android, android-lvl

所以我一直在为此奋斗一段时间，我需要你的帮助。我将许可代码添加到我的应用程序中，上传了应用程序但没有发布它。所以我认为它现在被称为“草案”。我需要在提供许可之前对其进行测试。我在手机中使用我的谷歌帐户（发布者帐户），因此不涉及测试帐户。

当在我的设备上运行应用程序（通过 eclipse 到设备）时，它总是获得许可代码，因此它是成功的。我想测试“未获得许可”的情况。我去了编辑配置文件并使静态代码未获得许可。但是，我仍然不断获得“许可OK”。我尝试删除该应用程序，然后重新运行它，但答案相同。

PLEAAAAE 帮帮我，我怎样才能测试所有条件？我一遍又一遍地收到相同的状态码谢谢

任何人？Comon，必须有人成功测试 LVL。至少指出我如何调试问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:15:25.550

只是想确定一件事...您上传了应用程序但没有发布..所以它保存在您的草稿中。但是您是否单击了apk文件附近的激活按钮（上传时）。也许你可能忘记这样做了.. 请检查一次。然后尝试...

祝一切顺利

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T23:27:01.777

我找到了答案。我想您必须使用您使用手机登录的第一个帐户运行该应用程序并将其作为测试帐户添加到网站。希望它可以帮助某人

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-26T04:57:49.367

是的，这对我有用。添加 google talk 使用的帐户。据我所知，您必须擦除手机才能更改该帐户。

还要在测试之间等待一分钟。

# jquery - 动画不能在 IE 中工作，但在 Firefox 中工作

> ID：10023223
> 
> 赞同：0
> 
> 时间：2012-04-05T05:43:55.257
> 
> 标签：jquery, css

嗨，我为背景图像设置了动画。在 Firefox 中它工作正常，但在 IE 上它给了我错误`$(header.css(...) is null or not an object)`。这是我的代码

```
var $header = $(".overlayBox");
$header.css("backgroundPosition", "0 0");

var bgScroll = function() {

    **var current = parseInt($header.css("backgroundPosition").split(" ")[1]),   //This is the line that IE is mentioning**      
    newBgPos = "0 " + (current - 1) + "px";
    //Finally we set the new background-position using jQuery's css() method.
    $header.css("backgroundPosition", newBgPos);

} //end of bgScroll()

setInterval(function() { bgScroll() }, 75); 
```

为什么它在 IE 中不起作用？我也在使用覆盖。在 Firefox 中，当我单击覆盖时，覆盖消失。但是在 IE 上，当我点击覆盖时，什么也没有发生。这是这个的代码

```
// close it when closeLink is clicked
$('a.closeLink').click( doOverlayClose );    

function doOverlayOpen() {

    //set status to open
    isOpen = true;
    showOverlayBox();
    ...
    addEvents();

    // dont follow the link : so return false.
    return false;

} //end of doOverlayOpen()

function doOverlayClose() {

    //set status to closed
    isOpen = false;
    var test = $(".overlayBox");
    $('.overlayBox').css( 'display', 'none' );   

    $('.bgCover').animate({         //This is not working in IE
        opacity:0
    }, null, null, function() {
        $(this).hide();
    });

} //end of doOverlayClose()

function addEvents() {     //Now working in IE

    //Click out event!
    $(".bgCover").click(function(){
        doOverlayClose();
    });

    //Press Escape event!
    $(document).keypress(function(event){

        // IF Esc key press and popup is visible
        if (event.keyCode==27 && isOpen==true) {
            doOverlayClose();
        }
    }) ;

} //end of addEvents() 
```

我还在我的 div 中添加了关闭链接，例如

```
<div class="bgCover">&nbsp;</div>
<div class="overlayBox" style="background-image: url(../images/header.jpg)" >

    <div class="overlayContent">

        <a href="javascript:void()" class="closeLink">Close</a>
        ....

    </div>

</div> 
```

当我在 IE 中单击关闭链接时，该`$('.overlayBox').css( 'display', 'none' );`行工作但 bgcover 仍然存在，意味着`$('.bgCover').animate({})`行不工作。为什么这在 IE 中不起作用:(。请帮忙。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:25:27.890

这可能是 hide() 的问题，您可以尝试使用：

```
 $('.bgCover').animate({         //This is not working in IE
        opacity:0
    }, null, null, function() {        
          $(this).attr("style", "display: none"); 
    }); 
```

希望有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T08:07:17.877

修复背景位置

```
if ($.browser.msie) {

        current = parseInt($header.css("backgroundPositionY"));

} else {

        current = parseInt($header.css("backgroundPosition").split(" ")[1]);

} 
```

覆盖修复

```
showOverlayBox();

if ($.browser.msie) {

    $('.bgCover').css("opacity", 0.5);

} else {

    $('.bgCover').css({

        opacity:0

    }).animate( {

        opacity:0.5,
        backgroundColor:'#000'

    }); //end of animate

} 
```

然后代码开始似乎在两种浏览器上都有效。我不知道 doOverlayOpen() 方法中的 animate() 在代码上创建了什么效果，因此事件以及 bgCover 并没有消失。好吧，这段代码至少对我有用。谢谢

# javascript - 对这种 javascript 模式感到困惑

> ID：10023226
> 
> 赞同：8
> 
> 时间：2012-04-05T05:44:24.487
> 
> 标签：javascript

遇到以下代码行，但无法理解。

这是什么 (/ *...* /)(this); javascript中的用途？这个模式有名字吗？

代码如下：

```
//Move.js
(function(exports){
  exports.Move = function(){

  };
})(this); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T05:48:11.297

此模式是“[立即调用函数表达式](http://benalman.com/news/2010/11/immediately-invoked-function-expression/)”。简而言之，它只是一个立即执行的函数。最后`this`是一个要发送到内部函数的参数，该函数将被访问为`exports`

```
(function(exports){

    //that was "this" outside, is now "exports" in here

}(this)); 
```

在您的示例中，我们可以假设无论`this`是什么，它都是一些已添加`Move`方法的对象。

有些人还将这种模式称为“[模块模式](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth)”，因为它创建了一个“包含的环境”，因此由于新的功能范围，其中的东西对它不可见。换句话说，里面的东西都能看到外面，但外面只能看到里面让它看到的东西

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-05T05:46:14.517

该模式只是在执行时`exports`分配给。`this`

假设全局作用域和浏览器一样，`this`都会指向该`window`对象。

考虑到这些假设，`window.Move`应该包含在该 IIFE（立即调用函数表达式）内部分配的函数。

如果在`this`is *not* `window`的不同上下文中调用此函数，它将将该方法分配给`this`外部环境中的任何内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T05:55:36.183

这种模式称为“模块模式”。有各种子模式，这个使用了增强模块模式。

> 首先，我们导入模块，然后添加属性，然后导出它。这是一个示例，从上面扩充我们的 MODULE：

有关此模块模式的更多信息，请查看[http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth)

有关一般 Javascript 模式的更多信息，请查看 [http://addyosmani.com/resources/essentialjsdesignpatterns/book/](http://addyosmani.com/resources/essentialjsdesignpatterns/book/)

# sql - 使用查询删除记录

> ID：10023228
> 
> 赞同：0
> 
> 时间：2012-04-05T05:44:40.827
> 
> 标签：sql, sql-server-2005

我面临需要从表中删除记录的情况。

场景是：第一个表有一些日期值，第二个表只包含年终（日期）记录。如果第一个表的值不在第二个表中，我需要从第一个表中删除此记录。

**以下是第一个表中的日期值**

```
2009-06-30 00:00:00.000
2009-12-31 00:00:00.000
2011-11-30 00:00:00.000
2011-12-31 00:00:00.000 
```

**以下是第二个表中的日期值**

```
2005-12-31 00:00:00.000
2006-12-31 00:00:00.000
2007-12-31 00:00:00.000
2009-12-31 00:00:00.000 
```

在比较两个表时，第一个表的日期值（'2011-12-31 00:00:00.000'）不在第二个表中。因此我需要在第一个表中单独删除这条记录。

我正在使用以下查询，但没有得到所需的结果。

**使用的查询**

```
Select tmp.* from #temp tmp
Inner Join #temp1 tmp1
On tmp.Val_DT != tmp1.ye_dt
Where DATEPART(mm,tmp.Val_dt) = 12 
```

**注意：** 第二个表仅包含年终日期。

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:56:59.597

这应该很简单

```
Delete from Table1 where Table1DateField not in (select Table2DateField from Table2) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:59:38.380

通过使用这个

```
select CONVERT(varchar(8),GETDATE(),5) 
```

您可以获得该日期的 varchar 字符串，即`05-04-12`您可以将您的日期作为这种格式的 varchar 字符串进行比较，并轻松删除记录。

# php - mysql_fetch_assoc 里面的 if then 语句

> ID：10023233
> 
> 赞同：-1
> 
> 时间：2012-04-05T05:45:23.807
> 
> 标签：php, mysql, if-statement

所以，我还是 php 编码的新手，还在学习等等。所以，如果之前有人问过这个问题，我很抱歉。我把这个写在我的头上，所以任何错误，再次，对不起。

我想从数据库中提取信息，如果是数字则显示文本。所以，我认为这样的事情会起作用（我必须用特定的单词检查 1 - 12）：

```
 if(mysql_fetch_assoc($result) == 1){
 echo "student";
 }else
  "generic error"; 
```

或者因为我必须做 1 - 12

```
if($row_members['ulevel'] == 1){
echo "Student";
}else
"generic error"; 
```

当用户注册时，他们被分配了一个号码作为插入的一部分，所以不应该有任何错误。所以我想这是一个多部分的问题。如何创建语句来检查 ulvel 并将其打印为文本。1 是观察者，12 是管理员。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T05:55:37.600

mysql_fetch_assoc() 不返回整数值，它返回字符串的关联数组。

要检查状态，您可以简单地将表达式放在 if 表达式中。

```
$row = mysql_fetch_assoc($result);
if($row['ulevel'] == 1){
 echo "student";
} else
  "generic error"; 
```

如果您在多行之间进行检查

```
while($row = mysql_fetch_assoc($result)) {
    if($row['ulevel'] == 1){
     echo "student";
    } else
      "generic error";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:52:51.650

一种方法可能是：

```
while($row = mysql_fetch_array($res)) {  
  if(is_int($row['ulevel'))  /* Or you can some other logic ex: 
                                $row['ulevel'] < 12 */
     print "Student";  
   else     
      print "Generic error!"  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:57:01.187

```
mysql_fetch_assoc($result) == 1 
```

不会工作，因为 mysql_fetch_assoc 返回一个数组，所以你正在检查数组是否 == 1，它永远不会。

假设该表包含一个名为 ulevel 的字段，它是 int 类型的，并且假设您已经在一个名为 $results 的结果集中执行了查询：

```
while($result = mysql_fetch_assoc($results)){
  if($row["ulevel"] == 1){
    echo "student"
  }
  else if($row["ulevel"] == 2){//do something else

  }
  .....
  else{
    echo "Generic Error";
  }
} 
```

更好的解决方案是将不同的用户类型存储在一个数组中：

```
$user_levels = array(1=>"Student",2=>"another".....); 
```

那么你可以这样做：

```
echo $user_levels[$result["u_level"]]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T06:05:51.673

`mysql_fetch_assoc($result)`获取一个关联数组，因此将其与 1 进行比较是行不通的。如果您的意思是它不应该为 null，您可以使用 is_null 函数。

如果要检查数组中的所有元素是否为数字，则可以使用循环遍历数组，如下所示

```
while($row=mysql_fetch_assoc($result))
{    foreach ($row as $value) {
       if($value>=1 && $value<=12)
     {echo("student");

    }

    else 
    echo("Generic error");
    }

 } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-05T06:14:16.297

试试这个

```
 while($row=mysql_fetch_assoc($result))
 {    
      if(in_array(1 , $row)){
         echo 'student';
         echo '<br>';  
      }else if(in_array(12,$row)){
         echo 'Admin';
         echo '<br>';  
      }else{
         echo 'Else';
         echo '<br>';  
      }

 } 
```

# python - python输入被读取错误？

> ID：10023234
> 
> 赞同：1
> 
> 时间：2012-04-05T05:45:25.033
> 
> 标签：python, user-interface, controls

我的问题是，在 python 第一次读取原始输入之后，它随后不再正确读取输入。我已经尝试了很多东西，但我似乎无法得到它。我究竟做错了什么？

```
file_path = 'C:\\Users\\Neo\\My Documents\\Python Scripts\\FTC Scouting\\sample.txt'
file = open(file_path, 'r')
Team_Numbers = []

tNum = 'Team Number: '
tName = 'Name: '
ui = ''

def list_teams(n):
    count = 0
    if n == '1':
        for line in file:
            check = line.find(tNum)
            if not check == -1:        
                print line[len(tNum):]    #prints everything after the Team Number: 
            count += 1

    elif n == 2:
        for line in file:
            check = line.find(tName)
            if not check == -1:
                print line[len(tName):]    #prints everything after the Team Number: 
            count += 1

while not ui == 'end':

    ui = raw_input('1: to list Team Numbers\n2: to list Names\n')
    list_teams(ui)

file.close() 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-05T05:47:21.887

Python 是强类型的。

```
elif n == '2': 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-05T06:03:55.157

它正在阅读您的*输入*。只是当你读过一次文件时，你就完成了；下次您对其进行迭代时，该文件不会神奇地从头开始再次读取。所以你的`for line in file:`作品一次又一次，因为结束后文件中没有任何内容！要解决此问题，只需将其放在函数`file.seek(0)`的末尾即可；`list_teams()`这会将文件重置为开头。

可能还有其他问题（Ignacio 发现了一个错误并且还有其他优化要进行）但这可能是您的直接问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:05:54.813

You might take a re-look of code to make it more Pythonic, reduce redundancy and add readability

First Your repetitive code block which you can easily overcome by using `list` or dictionary or named tuples, just an example with `list`

```
keys = ['Team Number: ', 'Name: ']
def list_teams(n):
    count = 0
    try:
        for line in file:
            check = line.find(keys[n])
            if not check == -1:        
                print line[len(keys[n]):]    #prints everything after the Team Number: 
            count += 1
except IndexError:
    None #Or Any appropriate Error Checking 
```

Now the second part. Instead of using find and then indexing, you can simply use `string.partition`

```
keys = ['Team Number: ', 'Name: ']
def list_teams(n):
    count = 0
    try:
        for line in file:
            print line.partition(keys[n])[2]
            count += 1
except IndexError:
    None #Or Any appropriate Error Checking 
```

And finally it seems, multiple calls to list_teams would fail, as because you are reacing the end. One solution would be

```
keys = ['Team Number: ', 'Name: ']
def list_teams(n):
    count = 0
    with open(file_path,'r') as f:
        try:
            for line in file:
                print line.partition(keys[n])[2]
                count += 1
    except IndexError:
        None #Or Any appropriate Error Checking 
```

Alternatively you can always seek to the beginning before reading the file.

```
keys = ['Team Number: ', 'Name: ']
def list_teams(n):
    file.seek(0)
    count = 0
    try:
        for line in file:
            print line.partition(keys[n])[2]
            count += 1
except IndexError:
    None #Or Any appropriate Error Checking 
```

# iphone - MKMapKit 错误：MKMapPointsPerMeterAtLatitude EXC_BAD_ACCESS

> ID：10023238
> 
> 赞同：0
> 
> 时间：2012-04-05T05:46:11.113
> 
> 标签：iphone, mkannotation, mapkit

这个错误是什么意思？

```
MKMapPointsPerMeterAtLatitude EXC_BAD_ACCESS
```

当我尝试将新的 MKAnnotation 添加到 MKMapView 时，它会发生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-10-19T02:45:24.737

*OP的解决方案。*

> 问题一直是：我在某个区域生成随机坐标。所以，我的号码有错误的数据类型。不是“100”。（CGFloat），但“100”（NSUInteger）。所以 100/1000 是 0，而不是 0.1 (100./1000)。在这个糟糕的数学系统返回地球上从未存在过的坐标之后。

# django - 使 BooleanField 在 Django 中显示更大的复选框

> ID：10023241
> 
> 赞同：6
> 
> 时间：2012-04-05T05:46:30.327
> 
> 标签：django, checkbox, resize, boolean, field

所以我正在使用 Django 模板、表单等创建一个网站。我注意到的一件事是我通过 BooleanFields 创建的复选框太小了。知道如何使事情变大吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-05T06:11:30.303

您可以尝试使用 css 执行此操作，但这非常困难：[http ://www.456bereastreet.com/lab/form_controls/checkboxes/](http://www.456bereastreet.com/lab/form_controls/checkboxes/)

当您在 css 中创建一个类时，您可以使用小部件将其添加到您的输入中，例如：

```
field = forms.BooleanField(widget=forms.CheckboxInput(attrs={'class':'your_class'})) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-10-19T05:45:50.143

我发现下面更容易并且对我有用：

```
class Meta:
        ...
        widgets = {
            'my_checkbox': forms.CheckboxInput(attrs={'style':'width:20px;height:20px;'}),
        } 
```

# iphone - PDF 文本 字体大小 增减

> ID：10023243
> 
> 赞同：1
> 
> 时间：2012-04-05T05:46:33.253
> 
> 标签：iphone, objective-c, ipad

我必须在我的 iPad 应用程序中集成 PDF 文件。那么现在，是否可以增加 - 减少该 PDF 文档的字体大小。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T05:50:53.443

无法增加或减少 PDF 的字体大小，但您可以放大或缩小页面，因为 pdf 作为图像打开。

如果您使用的是 ePub 文件格式，那么您可以增大或减小字体大小，因为它是以 HTML 格式打开的。

# html - 禁用 iframe 的 javascript

> ID：10023246
> 
> 赞同：-2
> 
> 时间：2012-04-05T05:46:44.407
> 
> 标签：html, iframe

我有这个 iframe 和一个 youtube 视频作为来源。但它不加载：

```
document.getElementById("blank").style.display="block";

<div id="blank" style="display:none; position:absolute; top:100px; left:100px; width:600px; height:400px;">
                <iframe title="YouTube video player" type="text/html"  width="240px" height="349px" src="http://www.youtube.com/watch?v=bGNIYEYWxm0" frameborder="0"></iframe>
</div> 
```

我尝试禁用内部的 javascript... I 框架，应该可以看到，但我不希望它被用户查看或触发

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:09:31.383

我还没有测试过，但我想 YouTube 的网络服务器可能正在发送 X-FRAME-OPTIONS: DENY 标头，它明确禁止您的浏览器在 iframe 中显示其内容。对此您无能为力，但如果您想将 YouTube 视频放在 iframe 中，您可能需要阅读以下内容：[https ://developers.google.com/youtube/iframe_api_reference](https://developers.google.com/youtube/iframe_api_reference)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:09:53.693

您无法查看该页面，因为它已被 YouTube 在标头 ( `X-Frame-Options`) 中禁用。

如果您想在您的页面中包含此 YouTube 视频，您应该使用此代码（由 youtube 提供）：

```
<object style="height: 390px; width: 640px"><param name="movie" value="http://www.youtube.com/v/F8V9Wbk_a1s?version=3&feature=player_detailpage"><param name="allowFullScreen" value="true"><param name="allowScriptAccess" value="always"><embed src="http://www.youtube.com/v/F8V9Wbk_a1s?version=3&feature=player_detailpage" type="application/x-shockwave-flash" allowfullscreen="true" allowScriptAccess="always" width="640" height="360"></object> 
```

对于你的第二个问题：

当您抛出错误但您无法使用 JavaScript 从另一个来源访问 iframe 时，JavaScript 将停止。

# android - 从 ListView 中获取选定的字符串

> ID：10023247
> 
> 赞同：2
> 
> 时间：2012-04-05T05:46:45.290
> 
> 标签：android

我的项目中有 ListView，它的 ListItems 像这样的 String 形式，

到今天完成任务
分配项目给开发人员
会议取消

如果单击 ListView 中的任何一项，则意味着我希望该特定字符串应显示在我的 EditText 中（即，如果单击会议取消，我需要此特定字符串显示在 EditText 中）。任何人都可以指导我，这就是我的方式'我正在尝试在此处实现。在此输入代码在此先感谢。

final ListView listView = (ListView) findViewById(R.id.taskListDesc); listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {

```
 @Override
        public void onItemClick(AdapterView<?> adapter, View view, int selectedItem,
                long arg3) {

            System.out.println(adapter.getItemAtPosition(selectedItem));

            Intent intent = new Intent(getApplicationContext(),
                    ViewTaskActivity.class);
            startActivity(intent);
        }
    });
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-05T05:57:03.170

```
ArrayAdapter<String> adapter;

adapter=new ArrayAdapter<String>(this,android.R.layout.simple_spinner_dropdown_item, profielNames); 
setListAdapter(adapter);

 @Override
 protected void onListItemClick(ListView l, View v, int position, long id) {

  super.onListItemClick(l, v, position, id);

  // Get the data associated with selected item
  Object item = l.getItemAtPosition(position);
  String myitem = item.toString();
  edittxt.setText("Selected item is :"+ myitem); // You can Set EditText from Here.
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T08:44:53.013

你甚至可以试试这个......

```
public class ExampleActivity extends Activity {

String str_arr[] = {"A", "B", "C"};

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    ListView listView = (ListView) findViewById(R.id.listView1);

    listView.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, str_arr));

    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> adapter, View view, int position,
                long id) {
            // TODO Auto-generated method stub
            Object o = adapter.getItemAtPosition(position);
            String str_text = o.toString();

            Intent intent = new Intent(ExampleActivity.this, NewExample.class);
            intent.putExtra("StrValue", str_text);
            startActivity(intent);
        }

    });
 }
 } 
```

* * *

```
public class NewExample extends Activity {

EditText editText;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.newmain);

    editText = (EditText) findViewById(R.id.editText1);

    String value = getIntent().getStringExtra("StrValue").toString();

    editText.setText(value);
}

} 
```

希望这可以帮助.......

Njoy编码......

# facebook - Facebook Open id 端点的 url 是什么？

> ID：10023249
> 
> 赞同：0
> 
> 时间：2012-04-05T05:47:01.077
> 
> 标签：facebook, openid, endpoint

[https://www.google.com/accounts/o8/id](https://www.google.com/accounts/o8/id)这是 google 的开放 id 端点。我知道 facebook 没有开放的 id 端点。有什么方法可以使用 facebook 凭据登录我的网站？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:55:15.167

您可以使用 facebook 登录，但不能在您的网站中使用 facebook 凭据。

# php - 带有元标签的 Facebook 分享按钮

> ID：10023250
> 
> 赞同：-1
> 
> 时间：2012-04-05T05:47:02.747
> 
> 标签：php, facebook

我在页面上显示了多个产品的列表。我想为每个按钮单独提供 facebook 分享按钮。当用户分享这样的产品时，只有该特定产品的图像和描述应该出现在 facebook 分享中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T05:54:09.267

在您提到该页面中所有产品列表的页面中，您编写了 mane facebook 共享按钮代码，我认为您使用的是相同的代码。

```
<a name="fb_share" type="icon_link" 
   share_url="YOUR_URL">fb Share</a> 
<script src="http://static.ak.fbcdn.net/connect.php/js/FB.Share" 
        type="text/javascript">
</script> 
```

在此代码中有一个属性，即`share_url`您将产品页面 url 放在该属性中，它将在 facebook 上共享产品图像和产品描述。

# .net - 联合数据表 C#

> ID：10023251
> 
> 赞同：0
> 
> 时间：2012-04-05T05:47:16.730
> 
> 标签：.net, ado.net, datatable

我有一个数据表列表。将它们组合到单个数据表中的最有效方法是什么？这些数据表中的每一个的架构都不同，并且这些表的行数可能会有所不同。

IE

*   表 1 有 A、B 列

*   表 2 有 C、D 列

*   表 3 有 E、F 列

我的输出应该是一个包含所有上述列的结果表，并且应该包含所有行。

几行代码就可以实现吗？可以选择 LINQ 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:53:13.763

用了`Merge`方法。请参阅[http://msdn.microsoft.com/en-us/library/fk68ew7b.aspx](http://msdn.microsoft.com/en-us/library/fk68ew7b.aspx)。

* * *

根据您的评论更新。如果每个表中只有两列，则无法`Merge`按预期使用该方法。

要执行您想要的操作，您需要在每个表上都有一个主键。当一行在表之间有一个共同的标识符时，列将被合并，而不是添加一行。例如，如果 RowId 1 在 Table1 和 Table 2 中，您将得到 RowId 1；A、B、C、D、空、空。如果 RowId 2 仅在 Table1 中，那么您将获得 RowId2；A，B，空，空，空，空。

> *http://msdn.microsoft.com/en-us/library/system.data.missingschemaaction.aspx*
> 
> 用户可以在每个 DataTable 上显式设置主键约束。这可确保与现有记录匹配的传入记录被更新而不是追加。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T19:05:50.213

解决我上面的问题：

```
 DataColumn[] keys = new DataColumn[1];

                DT.Columns.Add(primaryColumn, typeof(System.Int32));
                for (int i = 0; i < DT.Rows.Count; i++)
                {
                    DT.Rows[i][primaryColumn] = i;
                }
                keys[0] = DT.Columns[primaryColumn];
                mapDT.PrimaryKey = keys;

                tables.Add(DT); 

    private static DataTable MergeDataTables(List<DataTable> tables, string keyColumn)
    {
        DataTable mergedTable = new DataTable();

        foreach (DataTable dt in tables)
            mergedTable.Merge(dt);

        mergedTable.PrimaryKey = null;

        mergedTable.Columns.Remove(keyColumn);

        return mergedTable;
    } 
```

希望有帮助。

# .htaccess - 在两个域中使用 .htaccess 将流量从一个域重定向到另一个域的问题

> ID：10023255
> 
> 赞同：0
> 
> 时间：2012-04-05T05:48:03.510
> 
> 标签：.htaccess, redirect

我认为我想做的事情比我最初想象的要复杂。第一部分很简单：我正在使用 .htaccess 将移动浏览器重定向到不同域上网站的“移动”版本。这是“非移动”站点根目录中 .htaccess 的内容：

```
RewriteEngine on
RewriteCond %{HTTP_USER_AGENT} android.+mobile|iphone [NC]
RewriteRule ^(.*)$ http://m.domain.tld%{REQUEST_URI} [R] 
```

第二部分增加了一些复杂性。我在移动域上使用 .htaccess 将大多数请求重定向到根目录中的 index.php。以下是移动网站根目录中 .htaccess 的内容：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^(.+) - [PT,L]
RewriteCond %{REQUEST_URI} !=/favicon.ico
RewriteRule ^(.*) index.php 
```

当发送到非移动站点的请求仅包含域名时，这一切都按预期工作：

```
http://www.domain.tld 
```

被重定向到

```
http://m.domain.tld 
```

没有问题。

此外，如果移动浏览器加载

```
http://m.domain.tld/abc 
```

它按预期工作：移动域根目录中的 index.php 已加载，它解析请求 URL，并将值“abc”分配给变量。

但是，当我尝试导航到

```
http://www.domain.tld/abc 
```

在移动浏览器中。这导致**非移动**文件，

```
http://www.domain.tld/abc/index.php 
```

被加载到浏览器中，**由*移动*域中**的 CSS 格式化。我想要执行的初始重定向未执行，但显然，后续请求（如 CSS 文件的请求）**正在**被重定向。两个域都是同一服务器上的虚拟主机。

任何人都可以通过我正在尝试做的事情并提供解决方案吗？

谢谢，戴夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T03:14:21.543

我想通了。问题是 www.domain.tld 上的目录 /abc 中没有 .htaccess 来重定向移动浏览器。我想我期待 Apache 神奇地忽略 /abc 目录存在的事实，并通过 vhost 根目录中的 .htaccess 处理所有请求。

因此，请求`http://www.domain.tld/abc`没有被重定向。并且正在应用“移动格式”，因为虽然地址栏显示“http://www...”，但对该资源的请求来自“http://m...”，并且 CSS 文件存在在移动域上。

# actionscript-3 - 制作回合制RPG游戏，关于结构的一些问题。动作脚本 3

> ID：10023258
> 
> 赞同：0
> 
> 时间：2012-04-05T05:48:26.860
> 
> 标签：actionscript-3

这里的第一个问题:)（“AS3”）

首先，如何从另一个类访问变量？
你看，我的“数据库”目前在一个单一的类中，当我称之为“scene_battle”时我需要访问它。编写此代码的最佳方法是什么？我想正确获取类的变量，而不是实例变量，因为我什至不需要此类的实例，因为它只是一个数据库。

其次，关于我的游戏的 OOP 结构的一个更普遍的问题。目前，它是这样的：

`scene_battle`调用`player`和`enemy`。玩家和敌人从我的数据库中获取数据。基本上，我只是重复我的玩家类的一个实例，它会有一个基于游戏方的 ID。

如果你能给我一些关于代码的一般或有用的提示，比如封装一些东西，我将非常感激。先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T16:02:43.783

> 首先，如何从另一个类访问变量？

- 如果你想要一个通用类作为值的引用，你可以使用类的实例或静态类，两者都一样好。

> 我想正确获取类的变量，而不是实例变量，因为我什至不需要此类的实例，因为它只是一个数据库。

- 如果您像在 C++ 中那样引用获取指针，则无需担心，除非您使用 new 关键字，否则所有与另一个对象相等的对象都将是指针。

> scene_battle 调用玩家和敌人。玩家和敌人从我的数据库中获取数据。基本上，我只是重复我的玩家类的一个实例，它会有一个基于游戏方的 ID。

-我之前已经实现了回合制游戏，这就是我的做法，请记住，这并不是最好的实现。

```
BattleManager
    Members:
    -BattleScenario (this contains all the meta data for your battle scenario, teams, map location, any modifiers that are related to a battle)
    -Teams (this is a list of Team classes wich have players)
    -TeamSequence(this is a list of team wich will be populated from Teams and will control the flow of the battle)
    Functions:
    -StartBattle
    -EndBattle
    -GiveTeamTurn (this function gets the TeamSequence and calls ActTurn on the Class Team and removes the team from the TeamSequence list)
    -RepopulateTeamSequence(when the TeamSequence is empty this is called to repopulate the TeamSequence)

Team
    Members:
    -Players (this is a list of players)
    Functions:
    -ActTurn (this function calls a player that is still able to act during the turn, and tells him to act, this is where you prompt the user for actions or use your AI) 
```

这只是大行，他们的很多东西在这里没有展示，你必须实现。还要小心很多回调会被触发，例如当玩家完成表演并回电给其团队说它在本回合完成并且该团队应该为团队的另一个成员调用 ActTurn 直到它完成，团队也是如此，一旦团队中的每个玩家完成本回合，就会触发对 Battlemanager 的回调。

希望这会有所帮助，GL！

# html - 如何将 div 对齐到另一个 div 的底部

> ID：10023259
> 
> 赞同：0
> 
> 时间：2012-04-05T05:48:34.283
> 
> 标签：html, css

我想让 3 个子 div 对齐到他父母的底部，我尝试过使用 margin-top 但它移动了洞的东西。

```
<div style="border:1px solid red;width:200px;height:100px;">

<div style="height:72px;width:96px;margin:9px;">

<div style="background-color:red;height:47px;text-align:center;">This div</div>

</div>

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:05:35.933

you can add the third div into the #child div.

```
<div id="parent">
   <div id="child">
      content
   </div>
</div>

#parent {
   position: relative;
   width: 200px;
   border: 1px solid red;
   height: 100px;
 }
#child {
   position: absolute;
   bottom: 0;
   left: 0;
   width: 100%;
   height: 50px;
   background-color: red;
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:51:05.130

**将父 div**样式设置为子*div*`position: relative;`并使用。`position: absolute; bottom: 0;`

# beta - FB 推荐栏是否仍处于测试阶段？

> ID：10023260
> 
> 赞同：1
> 
> 时间：2012-04-05T05:48:39.250
> 
> 标签：beta, facebook-recommendations

根据stackoverflow上的答案，这个新的社交插件（http://developers.facebook.com/docs/reference/plugins/recommendationsbar/）几个月前仍处于测试阶段。

我实现了它，它对我作为应用程序管理员和测试用户非常有用，但对其他人不可见。FB 文档没有明确说明它是否已准备好迎接黄金时段（或何时上线）。

# javascript - 如何分割两个元素之间的剩余高度？

> ID：10023264
> 
> 赞同：0
> 
> 时间：2012-04-05T05:49:22.550
> 
> 标签：javascript, jquery, html, jquery-ui, layout

这是一个相当普遍的问题，我还没有找到一个优雅的解决方案：

我在一个 div 中有几个块元素（比如说 4 个）。一个非常简单的垂直布局。

前两个元素具有固定的高度。剩下的两个元素应该分割剩余的空间（即body-height - first-element-height - second-element-height）。

我知道我可以只计算尺寸，但是有没有一种优雅的方法来实现这一点？

我想要一个使用本机浏览器功能（它是一个仅在现代 Firefox/Chrome 版本上运行的内部应用程序，所以前沿是可以的）或 jQuery/jQuery UI（我们已经使用它）的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:10:55.140

您可以使用 jQuery 来计算高度。

假设我们有：

```
<div id="parent" style="height:300px; background-color: red;">
    <div id="first" style="height:100px; background-color: blue;">
    </div>
    <div id="second" style="height:100px;  background-color: #c6c6c6;">
    </div>

    <div id="third" style="background-color: #75ac19;" ></div>
    <div id="fourth" style="background-color: black;"></div>
</div>

<script type="text/javascript">
  var parrentHeight= $("#parent").height();
  var firstBlock = $("#first").height();
  var secondBlock = $("#second").height();
  var remainingHeight = parrentHeight - (firstBlock + secondBlock);
  $("#third, #fourth").height(remainingHeight / 2);
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:52:00.113

使用 CSS3 flexbox 布局：[http ://www.html5rocks.com/en/tutorials/flexbox/quick/](http://www.html5rocks.com/en/tutorials/flexbox/quick/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:52:09.747

使用百分比值 xx(%) 而不是 xx(px) 作为高度和宽度。

# javascript - 当有人关闭浏览器或在 php 和 javascript 中离开我的网站时，将用户状态设置为离线

> ID：10023265
> 
> 赞同：2
> 
> 时间：2012-04-05T05:49:24.820
> 
> 标签：javascript, offline, status

当用户离开我的网站或关闭浏览器选项卡或浏览器窗口时，我们如何在 usermaster.is_online 中将用户的脱机状态设置为 0，但当他刷新页面或单击链接时却不行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:00:26.017

我在 php 手册中查看了一些用于处理客户端状态的函数，例如 connection_aborted 和 connection_status，如果它们可以帮助您 [http://www.php.net/manual/en/function.connection-aborted.php ，您可以使用以下链接进行验证](http://www.php.net/manual/en/function.connection-aborted.php)

# java - 实现自己的LinkedList

> ID：10023267
> 
> 赞同：3
> 
> 时间：2012-04-05T05:49:37.973
> 
> 标签：java, linked-list

我正在实施我自己的`LinkedList`. 我有一个类，它只`MyLinkedLlist`在内部调用并且已经实现。此外，我还有一个抽象类，其中包含我所有其他必要的功能。抽象类原型是：`MyLinkedList``size()``iterator()``LinkedList`

```
public abstract class MyAbstractSequentialList implements List 
```

我想知道我是否需要`equals()`在我的抽象类中实现方法，或者因为我继承它已经为我实现了`List`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T05:52:02.587

列表是一个接口。因此，不会有任何默认实现。如果需要，您可以选择实施一个。请注意，如果您覆盖 equals，您也必须覆盖 hashcode。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-31T04:27:28.647

`List`是一个接口，所以如果你想自己实现，`LinkedList`那么你必须重写意味着实现`equals()`，因为如果你正在实现接口，那么你也必须实现它的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T05:52:29.257

**List**是一个接口，并且**equals()**没有在**List**中实现，因为任何接口中的所有方法都应该是抽象的。

所以你必须在你的抽象类中实现**equals()方法。**如果没有，您必须在任何扩展您的抽象类的子类中实现它。

# delphi - x64 与 Crystal Reports 和 Delphi XE2

> ID：10023270
> 
> 赞同：0
> 
> 时间：2012-04-05T05:50:27.670
> 
> 标签：delphi, crystal-reports, report

谁能给我有关与 Delphi 和 x64 平台兼容的 Crystal Reports 版本的信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T09:02:56.500

参考文章可能是[这一篇](http://scn.sap.com/thread/1161923)。

简而言之，Crystal Report XI R2 是包含 RDC SDK 的最后一个 CR 版本——也就是说，能够与 Delphi 一起工作。

并且较旧的 CR 运行时（那些使用 Delphi VCL，即在 CR XI r2 之前）与 Windows 2008 不兼容（至少没有 hack）。

简而言之，SAP（多年来）的官方声明是将 Delphi 应用程序切换到 Java 或 .Net。一种解决方法可能是创建一个从 Delphi 代码调用的 .Net 表单……所以在这种情况下，使用 Delphi XE2 x64 或 x86 并不重要……

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T08:06:03.643

我会说基于：[http ://www.businessobjects.com/products/reporting/crystalreports/vcl/default.asp](http://www.businessobjects.com/products/reporting/crystalreports/vcl/default.asp)

水晶报表十一

但是 - 2008、2008 R2 和 2011 报告都是向后兼容的（不支持一些新功能，但报告本身会运行）。

# html - 屏幕元素被地图挡住了？

> ID：10023271
> 
> 赞同：0
> 
> 时间：2012-04-05T05:50:40.457
> 
> 标签：html, css, mobile-application

我正在使用phonegap制作一个移动应用程序。也就是说，这一切都是用 HTML、CSS 和 JavaScript 完成的。

这是一页的正文：

```
<p><a style="text-decoration:none" href="index.html">Home</a></p>

    <div id="map_canvas" style="width:100%; height:100%"></div>

<div id="bottombar">
        <p>Hello</p>
</div> 
```

map_canvas div 是谷歌地图。问题是它会自动拉伸到屏幕底部并挡住我放在它下面的任何东西，例如显示“Hello！”的 div。

我对 html 和 css 有点陌生。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:56:10.097

您将地图的高度设置为 100%，因此它占据了 100% 的屏幕并将其他内容向下推。

尝试将“高度：100%”的部分更改为较小的数字。

我刚刚尝试使用以下 CSS 并且它有效：

```
<style type="text/css">
  html, body, #map_canvas {
    margin: 0;
    padding: 0;
    height: 90%;
  }
</style> 
```

# c - 合并 2 个或更多 TCP/IP 数据包中的数据

> ID：10023278
> 
> 赞同：0
> 
> 时间：2012-04-05T05:51:05.623
> 
> 标签：c, winapi, visual-c++

我应该从服务器获取一些 XML 数据说，

```
 <?xml><a></a><?xml><a></a><?xml><a></a><?xml><a></a> 
```

假设按以下顺序接收数据包

```
 <?xml><a>
     </a><?xml><a></a><?xml>
     <a></a> 
```

如何制定解析此类数据的逻辑？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-07T03:56:53.013

简短的回答是您不必担心订单；TCP 为您处理重组。

TCP 是一种流协议，每个数据包都包含一个序列号，允许网络堆栈以正确的顺序重新组合传入的数据包。它还将自动重新发送在传输过程中丢失或损坏的任何数据包。但是，与一次传输完整消息的 UDP 不同，TCP 只是一直发送数据直到连接关闭，没有协议级别的单个消息概念。

我认为您的问题不是关于订购，而是关于知道您何时收到所有数据。通常有两种方法可以解决这个问题。

首先，服务器可以在发送完数据后关闭连接。客户端发出请求，累积响应直到连接关闭，然后将它收到的所有数据传递给应用程序。

其次，应用程序可以通过标记每条消息的结尾或通过在每条消息的开头插入字节数来构建数据本身。接收器等待指定数量的字节到达并将它们传递给应用程序。

实际上还有第三种方法，但它容易出错并且通常被认为是不好的做法：客户端可以简单地等待直到它停止接收数据一段时间，假设超时表示消息结束。但这可能会在客户端等待超时时造成不必要的延迟，并且如果网络中存在较大的延迟，它也可能过早地指示消息结束。您应该将其视为一种故障保护，如果服务器在消息中间“消失”，则可以防止客户端挂起，或者如果其他方法都不起作用，您可以将其用作最后的手段。但是它很有可能会间歇性地失败，所以不要告诉任何人你从我这里听到的。:-)

祝你好运！

# java - 用多态参数覆盖方法

> ID：10023279
> 
> 赞同：3
> 
> 时间：2012-04-05T05:51:18.227
> 
> 标签：java, polymorphism, observer-pattern, subject-observer

我有一个`Subject`具有以下方法的接口（称为）：

```
public void addObserver(Observer o); 
```

然后我有另一个扩展`Subject`名为`TimerSubject`. 这个接口是一个更具体的版本`Subject`，用于计时。它还有一些其他的杂项方法。

还有两个对应的接口`Observer`， 和`TimerObserver`。`TimerObserver`延伸`Observer`。

当一个类实现`TimerSubject`时，它必须重写接口中的`addObserver()`方法`Subject`。看起来像这样：

```
@Override
public void addObserver(**Observer e**) {
    observers.add(e);
} 
```

问题是，我需要接受 a`TimerObserver`而不是 的方法`Observer`，它看起来像这样：

```
@Override
public void addObserver(**TimerObserver e**) {
    observers.add(e);
} 
```

这不起作用，因为参数与被覆盖的方法的参数不同。

那么有没有办法用多态的参数覆盖一个方法呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-11T19:38:42.727

我不得不做一次这样的事情，我最终做的是模板化它，即

```
interface Subject<T extends Observer> {
 public void addObserver(T e);
}

class TimerSubject implements Subject<TimerObserver> {
 // ...
 @Override
 public void addObserver(TimerObserver e)
 {
  observers.add(e);
 }
} 
```

这使 addObserver 方法保持多态性并静态地强制执行参数类型。

这里的想法是，如果您希望 Subject 接口的每个具体实现者添加不同类型的观察者。所以你让主题界面要求它。通过让泛型类 T 扩展 Observer，您仍然可以保证使用 addObserver 方法的人仅用于添加 Observer，这是一个好处。这样您也可以编写多态吸气剂，例如

```
public T getObserver(T e); 
```

填写任何派生类的类型。这边走

```
Subject<?> foo = new TimerSubject();
// add observer somewhere
Observer bar = foo.getObserver(); 
```

还将静态类型检查。（注意：我在这里工作记忆，所以最后一点可能不完全正确，但肯定有一些方法可以得到它。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:30:01.433

想到了几个解决方案：

如果您的 TimerSubject 实现接收到不是 TimerObserver 的参数，则可以通过抛出 RuntimeException 来实现 public void addObserver (Observer)。您失去了编译器对您强制类型的保护，但后期绑定对于“真正的”多态性来说是相当典型的。

或者，您的 TimerSubject 接口可以简单地为新行为指定一个新方法 addTimerObserver。大概您的 TimerSubject 扩展了一个已经实现 addObserver(Observer); 的主题。如果该实现完全失效，您可以覆盖并抛出错误。但是如果 TimerSubject 真的没有使用 addObserver(Observer) 方法并且该方法完全失效，那么这两个对象可能不像您想要的那样多态。:)

# java - 在 Android 上的 Google 地图视图上绘制多边形的问题

> ID：10023282
> 
> 赞同：2
> 
> 时间：2012-04-05T05:51:41.450
> 
> 标签：java, android, polygon, android-canvas

所以我正在为安卓制作游戏，我需要在谷歌地图窗口上覆盖区域或多边形。

到目前为止，我做了以下事情：

```
 class polygonOverlay extends Overlay {
    //this is the array of vertices we need to draw
    GeoPoint[] vet;
    Point[] points;
    private float[] fVet;
    //get the vertices

    public polygonOverlay(GeoPoint[] v) {
        vet = v;
        points = new Point[v.length];
        fVet = new float[(v.length)*2];

    }

    //this is how we draw it.
    @Override
    public void draw(Canvas canvas, MapView mapv, boolean shadow) {

        super.draw(canvas,mapv, shadow);

        //do some things
        //set all the points to a point.
        for(int i = 0; i < points.length; i++) {
            points[i] = new Point();
        }

        //convert from the array of geoPoints to the array of points using the projection.
        for(int i = 0; i < vet.length; i++){
        projection.toPixels(vet[i], points[i]);

        }

        //convert the point to the float array
        for(int i = 0; i < points.length; i++) {
        fVet[2*i] = points[i].x;
        fVet[(2*i)+1]  = points[i].y;
        }
        //things be done...

        //create a array of int colors.
        int[] colorArray = new int[points.length];

        for(int i = 0; i < points.length; i++) {
            colorArray[i] = Color.RED;
        }

        //if we are drawing a shadow, then dont draw anything
        Paint mPaint = new Paint();
        mPaint.setDither(true);
        mPaint.setColor(Color.RED);
        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);
        mPaint.setStrokeJoin(Paint.Join.ROUND);
        mPaint.setStrokeCap(Paint.Cap.ROUND);
        mPaint.setStrokeWidth(4);
        //lets draw some things.
        canvas.drawLine(points[1].x, points[1].y, 200, 200, mPaint);
        canvas.drawVertices(
                Canvas.VertexMode.TRIANGLES,
                fVet.length,
                fVet,
                0,
                null,
                0,
                colorArray,
                0,
                null,
                0,
                0,
                mPaint
                ); 

    }

} 
```

然而，问题是它不会显示多边形。我已经尝试了所有方法，昨晚一直到凌晨 2 点才这样做，但它就是行不通。

我开始认为它是我的手机而不是我的代码......

谁能看到我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:12:50.073

多边形创建很简单：

首先定义一个 Paint 对象：

```
Paint mPaint = new Paint();
mPaint.setStrokeWidth(2);  //2 pixel line width
mPaint.setColor(0xFF097286); //tealish with no transparency
mPaint.setStyle(Paint.Style.STROKE); //stroked, aka a line with no fill
mPaint.setAntiAlias(true);  // no jagged edges, etc 
```

然后绘制路径：

```
yourCanvas.drawPath(path,mPaint); 
```

这是地图覆盖的链接：[android maps circle overlay, dynamic change radius?](https://stackoverflow.com/questions/5722490/android-maps-circle-overlay-dynamically-change-radius)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-26T20:50:08.903

[drawVertices 方法](https://stackoverflow.com/questions/6434132/bug-in-canvas-drawvertices-with-repro-code-and-logcat)中有一个错误，它要求与代码中的数组 `colorArray`大小相同。 注意：只有第一种颜色实际用于绘制，其他颜色被忽略。`fVet`
`fVet/2`

# javascript - jQuery Cycle：多个幻灯片放映，计算单个孩子

> ID：10023283
> 
> 赞同：1
> 
> 时间：2012-04-05T05:51:52.150
> 
> 标签：javascript, jquery, html

我正在使用 jQuery Cycle 在同一页面上创建多个幻灯片。有些幻灯片只有一张图片。对于这些，我想隐藏下一张/上一张图片。不知道为什么这段代码不起作用，但我怀疑它正在计算*所有*幻灯片的所有孩子。如果是这种情况，我需要它单独计算每个幻灯片的长度。[JSFiddle在这里](http://jsfiddle.net/QtY3E/)

**jQuery**

```
if ( $('.slideshow').children().length < 1 )
    $(this).parent().find('.controls').hide();
else
$('.slideshow').each(function() {
    var cycle = $(this),
    controls = cycle.parent().find('.controls');
    cycle.cycle({
        timeout: 0,
        speed: 'fast',
        fx: 'scrollHorz',
        next: controls.find('.next'),
        prev: controls.find('.prev'),
        before: function(curr,next,opts) {
                    var s = ($(next).index() + 1) + '/' + opts.slideCount;
                    $(opts.caption).html(s)
                },
        caption: cycle.parent().find('p.caption'),
    });
}); 
```

**HTML**

```
 <div class="container">
    <ul class="slideshow">
        <li><img alt="product" src="http://placehold.it/500x500" /></li>
        <li><img alt="product" src="http://placehold.it/500x500" /></li>
        <li><img alt="product" src="http://placehold.it/500x500" /></li>
    </ul>
    <div class="controls"><a href="#" class="prev">Prev</a> <a href="#" class="next">Next</a></div>
</div>

<div class="container">
    <ul class="slideshow">
        <li><img alt="product" src="http://placehold.it/500x500" /></li>
    </ul>
    <div class="controls"><a href="#" class="prev">Prev</a> <a href="#" class="next">Next</a></div>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T06:18:06.780

```
$(document).ready(function() {    
    $('.slideshow').each(function() {        
        if ( $(this).children().length <= 1 )
            $(this).parent().find('.controls').hide();
        else{
            var cycle = $(this);
            controls = cycle.parent().find('.controls');
            cycle.cycle({
                timeout: 0,
                speed: 'fast',
                fx: 'scrollHorz',
                next: controls.find('.next'),
                prev: controls.find('.prev'),
                before: function(curr,next,opts) {
                            var s = ($(next).index() + 1) + '/' + opts.slideCount;
                            $(opts.caption).html(s)
                        },
                caption: cycle.parent().find('p.caption'),
            });
        }
    });    
}); 
```

# c - C fgets - 捕获溢出的简单方法？

> ID：10023285
> 
> 赞同：3
> 
> 时间：2012-04-05T05:51:57.940
> 
> 标签：c, overflow, fgets

非常简单的例子 - 希望有一个简单的解决方案：

```
char x[7];
if(fgets(x,5,stdin))
    printf("y");
else
    printf("n"); 
```

当我输入超过字节限制时，我似乎无法让它打印“n” - 有没有什么简单的方法可以强制执行或在超过它时捕获？

作为一个附带问题，哪些示例输入实际上会导致上述代码段中的“n”？我现在真的没有看到重点..

干杯，B

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T05:55:58.757

`fgets`失败时将返回 0，因此要获得“n”作为输出，您可以使用 control-D 或 control-Z（或您的操作系统用来指示输入结束的任何内容），而无需先输入任何其他内容。

要检测何时输入的内容多于您留下的阅读空间，请检查您阅读的最后一个字符是否是换行符。如果是，你读了一整行。如果不是，还有更多的等待。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T05:55:36.507

1.  您需要检查 stdin via 等中是否仍有数据等待`select()`。

2.  重定向`/dev/null`或一个 0 字节的文件到标准输入可以到它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T05:57:12.563

fgets 仅在读取任何内容失败时才返回 NULL，这通常意味着文件结束。

由于 fgets 读取一行或该行中适合缓冲区的多个字符，因此您需要检查变量 x 是否包含换行符。

# ruby - 带有空白路径的 Ruby http-post

> ID：10023297
> 
> 赞同：0
> 
> 时间：2012-04-05T05:53:10.520
> 
> 标签：ruby, windows-8

我需要对 Windows-Notification-SERVER 进行 HTTP-POST。

该 URL 是[https://db3.notify.windows.com/?token=AgUAAAADoGlaM0THo74Q%2bJP7MkgBEJzYC7OyTwh59QmECe9MgwfwGSWLsMhkG%2bHF3JI3q3gySjc3keErqcwWYCN9Qwi2z7TdCMnYGb30huMkKrzB54%2fH73zJAXrYzp](https://db3.notify.windows.com/?token=AgUAAAADoGlaM0THo74Q%2bJP7MkgBEJzYC7OyTwh59QmECe9MgwfwGSWLsMhkG%2bHF3JI3q3gySjc3keErqcwWYCN9Qwi2z7TdCMnYGb30huMkKrzB54%2fH73vxrYzp36SQScHazJA%3d)

但是，代码 id 会返回 404 错误。我怀疑，如果它是导致它的 EMPTY-PATH。

有人可以帮帮我吗。

这是我的 Ruby 代码：[https ://gist.github.com/2308226](https://gist.github.com/2308226)

这是相同代码的 Object-C 实现（参见 SendPush 方法）：[https ://gist.github.com/2235318](https://gist.github.com/2235318)

很感谢任何形式的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T08:30:30.373

您没有发送 URL 的 ?token=... 部分。我没有检查，但我怀疑这是问题所在。

```
 uri = URI.parse("http://google.com:1337/foo/bar?token=1")
  uri.host.should == "google.com"
  uri.port.should == 1337
  uri.path.should == "/foo/bar"
  uri.query.should == "token=1" 
```

在 Gist 的第 34 行中，您正在使用`uri.path`您应该使用的时间：

```
"#{uri.path}?#{uri.query}" 
```

# javascript - 将值从弹出页面传输到父页面

> ID：10023300
> 
> 赞同：0
> 
> 时间：2012-04-05T05:53:27.313
> 
> 标签：javascript, asp.net, c#-4.0

我有一个父页面 inner4.aspx 和一个弹出页面 popupemail.aspx 。现在发生的事情是我在弹出窗口中提取电子邮件 ID 并在 gridview 中显示，当用户选择电子邮件 ID 时，它会通过 javascript 函数转移到父页面。

家长代码：

```
function setText1(txt) {
            document.getElementById('TextBox4').value = txt;
        } 
```

弹出代码：

```
protected void GridView1_SelectedIndexChanged(object sender, EventArgs e)
    {
        GridViewRow row = GridView1.SelectedRow;
        //TextBox2.Text = row.Cells[1].Text;

        ScriptManager.RegisterStartupScript(this,GetType(), "settxt", "setText1('"+ row.Cells[1].Text + "');", true);
    } 
```

**值没有被转移。** 请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:12:16.637

将修改后的行复制到您的代码中

```
ScriptManager.RegisterStartupScript(this,GetType(), "settxt", "window.opener.setText1('"+ row.Cells[1].Text + "');", true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:08:03.437

you can call parent page by using javascript by using

```
window.opener.document.getElementById("TextBox4").value = txt; 
```

or you can call parent page function by uisng same way

```
window.opener.setText(); 
```

setText() function written on parent page not in popup page.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T09:04:58.373

否则在所选索引更改后在服务器端设置一些属性

```
in the cs
protected string SelectedValue{
   get {
      return "whatever";
   }
}

protected void GridView1_SelectedIndexChanged(object sender, EventArgs e)
    {
        GridViewRow row = GridView1.SelectedRow;
        //TextBox2.Text = row.Cells[1].Text;

        SelectedValue = row.Cells[1].Text
    }

in the js
$(document).ready(function(){
    var selectedValue= '<%=SelectedValue%>';
    window.opener.document.getElementById("TextBox4").value = selectedValue;

}); 
```

可能存在语法错误。希望这可以帮助。

# blackberry - 将浮雕和素描效果应用于黑莓中的位图

> ID：10023303
> 
> 赞同：1
> 
> 时间：2012-04-05T05:53:41.787
> 
> 标签：blackberry, java-me

我有一个黑莓项目，我想将普通图像更改为浮雕效果和素描效果。我尝试了一个代码，但它给了我空指针异常......我使用了卷积矩阵类并使用了它的方法。谁能帮帮我？

```
public class ToEmboss {

    public static Bitmap emboss(Bitmap src) {
        double[][] EmbossConfig = new double[][] {
            { -1 ,  0, -1 },
            {  0 ,  4,  0 },
            { -1 ,  0, -1 }
        };
        ConvolutionMatrix convMatrix = new ConvolutionMatrix(3);
        convMatrix.applyConfig(EmbossConfig);
        convMatrix.Factor = 1;
        convMatrix.Offset = 127;
        return ConvolutionMatrix.computeConvolution3x3(src, convMatrix);
    }
}

package mypackage;
import net.rim.device.api.system.Bitmap;

public class ConvolutionMatrix {

    public static final int SIZE = 3;
    public static int[][] pixel;
    public double[][] Matrix;
    public double Factor = 1;
    public double Offset = 1;

    public ConvolutionMatrix(int size) {
        Matrix = new double[size][size];
    }

    public void setAll(double value) {
        for (int x = 0; x < SIZE; ++x) {
            for (int y = 0; y < SIZE; ++y) {
                Matrix[x][y] = value;
            } }}

    public void applyConfig(double[][] config) {
        for(int x = 0; x < SIZE; ++x) {
            for(int y = 0; y < SIZE; ++y) {
                Matrix[x][y] = config[x][y];
            }}}

    public static Bitmap computeConvolution3x3(Bitmap src, ConvolutionMatrix matrix) {
    int width = src.getWidth();
    int height = src.getHeight();
    int A, R, G, B;
    int sumR, sumG, sumB;
    int[][] pixels = new int[SIZE][SIZE];

    int [][] newargb=new int[width][height];

    int[] argb=new int[width*height];

    int a=0;
    src.getARGB(argb, 0, width, 0, 0, width, height);
    for(a=0;a<argb.length-1;a++)
    {
        A= argb[a] >> 24;
        R= argb[a] >> 16 & 0xFF;
        G= argb[a] >> 8 & 0xFF;
        B= argb[a] & 0xFF;
    }

    for(int i = 0; i <= height; ++i) {
        for(int j = 0; j <= width; ++j) {
            newargb[i][j]=argb[a];
            a++;
        }
    }

    for(int y = 0; y <= height; ++y) {
        for(int x = 0; x <= width; ++x) {
            // get pixel matrix
            for(int i = 0; i < SIZE; ++i) {
                for(int j = 0; j < SIZE; ++j) {
                    pixels[i][j] = newargb[x + i][ y + j];
                }
            }

            // get alpha of center pixel

            A = pixels[1][1]>>24;
            // init color sum
            sumR = sumG = sumB = 0;

            // get sum of RGB on matrix
            for(int i = 0; i < SIZE; ++i) {
                for(int j = 0; j < SIZE; ++j) {

                    A=pixels[i][j]>>24;
                    R=pixels[i][j]>>16 ;
                    G=pixels[i][j]>>8 ;
                    B=pixels[i][j] ;

                    sumR += (R * matrix.Matrix[i][j]);
                    sumG += (G * matrix.Matrix[i][j]);
                    sumB += (B * matrix.Matrix[i][j]);
                }
            }

            // get final Red
            R = (int)(sumR / matrix.Factor + matrix.Offset);
            if(R < 0) { R = 0; }
            else if(R > 255) { R = 255; }

            // get final Green
            G = (int)(sumG / matrix.Factor + matrix.Offset);
            if(G < 0) { G = 0; }
            else if(G > 255) { G = 255; }

            // get final Blue
            B = (int)(sumB / matrix.Factor + matrix.Offset);
            if(B < 0) { B = 0; }
            else if(B > 255) { B = 255; }

            // apply new pixel
            //result.setPixel(x + 1, y + 1, Color.argb(A, R, G, B));

            argb[x*width+y] = ((argb[x*width+y] & 0xff000000) | R<< 16 | G << 8 | B );
        }
    }
    src.setARGB(argb, 0, width, 0, 0, width, height);
    return src;
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-09T01:34:23.153

我看到`public static int[][] pixel;`并且在 中`computeConvolution3x3`，有一个数组的读取，但它看起来并没有被分配任何东西，所以`pixel`将始终为空，这意味着第一次尝试从数组中读取将抛出 NullPointerException

# openssl - 如何使用 openssl 库将 ASN1_object 转换为可读格式。？

> ID：10023304
> 
> 赞同：2
> 
> 时间：2012-04-05T05:53:51.360
> 
> 标签：openssl, certificate, ssl-certificate, x509certificate, x509

X509_extension 结构有一个变量 ASN1_object 。我想看看里面的内容是什么。谁能告诉我该怎么做

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-13T15:46:32.037

ASN1_OBJECT 只是 OpenSSL 对 OID（对象标识符）的表示。如果您只想知道它的 OID，那么：

```
ASN1_OBJECT *obj = X509_EXTENSION_get_object(ex); // ex is your X509_EXTENSION *
char buff[1024];
OBJ_obj2txt(buff, 1024, obj, 0); // 0 means it will prefer a textual representation (if available) rather than the numerical one 
```

然后 buf 将包含一个带有 OID 的 C 字符串。

问候。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-11-07T16:04:57.433

您可以在下面的代码片段中访问对象的数据值：

```
ASN1_OBJECT *obj = X509_EXTENSION_get_object(ex);
char *dt_value = (char *)ext->value->data
printf("Object Value: %s\n", dt_value); 
```

# algorithm - 将文本分组为部分算法

> ID：10023305
> 
> 赞同：0
> 
> 时间：2012-04-05T05:53:53.913
> 
> 标签：algorithm

任务是根据对每个部分设置的各种限制将给定的文本字符串分组为部分。假设我们有一个字符串 S，它是“Lorem ipsum dolorem”。我们也有 3 个部分。每个部分都有限制，可以限制该部分中的文本数量。这些限制可以根据字符数或字数来指定。例如，第一部分最少可以有 5 个字符，最多可以有 10 个字符。第二部分最少可以包含一个单词，最多可以包含五个单词，每个单词的长度在 2 到 10 个字符之间。第三部分可以具有与第一部分相同的限制。

我们需要使用所有可用的文本，否则没有分组解决方案。单词不能分开（所以我们不能在分组时将一个单词分成多个部分。）如果我们在分组中将句子放在一起，所有其他条件都相同，则解决方案会更好。

对文本进行分组的最有效方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:04:29.187

If you only count characters/numbers and words, it is a case for regular expressions: [http://en.wikipedia.org/wiki/Regular_expressions](http://en.wikipedia.org/wiki/Regular_expressions)

**EDIT**

E.g., consider the following:

```
 sed -E -e 's/([a-z]{2,10}) (([a-z]{2,4} ){1,2})([a-z]{2,10})/G:\1 G:\2
 G:\4/' 
```

If one applies this to "aaa bb bbbb ccccc", one gets:

```
 G:aaa G:bb bbbb  G:ccccc 
```

# php - 将值从第 1 页传递到第 3 页的任何更好的方法？

> ID：10023309
> 
> 赞同：0
> 
> 时间：2012-04-05T05:54:12.543
> 
> 标签：php, javascript, database, post

我有一个系统供用户申请驾驶执照。但是，在编写这个系统时，我遇到了一些问题，我现在面临的问题是我不知道如何从应用程序传递表单中的值传递处理器页面，传递医疗问卷页面，最后在医疗处理器页面中使用。在我的例子中，

**概览布局：**

apply2.php > apply_now.php >medical_question.php >medical_question_now.php>success.php

**主要问题：**

`$selectedPermit=$_POST['cat'];`将值从 apply_now.php 转移到 medical_question_now.php的最佳方法是什么？

**说明：**

我在 apply2.php 中有一个复选框表单，单击提交后，它将链接到 apply_now.php。

在 apply_now.php（php 处理器页面）中，我能够检索复选框上选择的值并在此处进行一些处理。例如。如果用户在过去 3 年内没有完成医疗问卷，它会将他们带到医疗问卷页面，而不向数据库中插入任何数据。如果他们之前做过医疗问卷，那么它将直接进入成功页面。

在医疗问卷中，有 23 个问题，每个答案将通过 medical_questionnair_now.php 页面存储在数据库中。

medical_question_now.php（一个php处理器页面）包含将医疗问卷答案插入数据库的查询，但是，我想插入从apply2.php中的复选框检索到的值。

Success.php 只是一个告诉他们祝贺的页面。

**我目前的想法：** 我认为有两种方法可以将数据带过来。

1.  将 apply_now.php 与 medical_question.php 结合在一起。

2.  使用隐藏输入，这意味着处理器页面必须全部暴露给用户。

3.  经过一番研究，我发现 SESSION 可以帮助我实现它，但有人知道我如何使用 SESSION 来做到这一点吗？（可以给我粗略的 SESSION 解释，以便我尝试一下）

我希望坚持使用 php 以更好地理解目的，但如果你们认为有更好的 javascript() 可以提供帮助且易于理解，请指导我...我想学习新事物。谢谢

**另一个问题**

我想问的另一个问题是，如果在我的 php 处理器页面上，我想用 alert(); 替换 echo 我可以这样做吗：

```
if($missing1=='1' or $missing2=='1')
        {
            echo '<script>alert("Sorry. You did have not met the Pre-Requisites for '.$permit .'");</script>';
            header ('Location:s_apply2.php');
        } 
```

而不是这个：

```
if($missing1=='1' or $missing2=='1')
        {
            echo"Did not meet pre-requisites for $permit";
        } 
```

非常感谢您的帮助...我从这里学到了很多东西。谢谢 提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T06:02:12.240

我建议实际阅读有关如何使用会话处理的 PHP 文档：http `$_SESSION`: [//us3.php.net/manual/en/book.session.php](http://us3.php.net/manual/en/book.session.php)

简介的快速摘录：

> PHP 中的会话支持包括一种在后续访问中保留某些数据的方法。这使您能够构建更多定制的应用程序并增加您网站的吸引力。
> 
> 访问您的网站的访问者被分配一个唯一的 id，即所谓的会话 id。这要么存储在用户端的 cookie 中，要么在 URL 中传播。
> 
> 会话支持允许您将请求之间的数据存储在 $_SESSION 超全局数组中。当访问者访问您的站点时，PHP 将自动检查（如果 session.auto_start 设置为 1）或根据您的请求（显式通过 session_start() 或隐式通过 session_register()）检查是否已随请求发送了特定会话 ID。如果是这种情况，则重新创建先前保存的环境。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:35:19.573

我同意会话方法。例如，如果您想从搜索页面获取错误消息并将其发送回主索引，您可以在搜索页面上执行此操作，无论错误语句应该是：

```
session_start();
$_SESSION['error'] = "Error! You have done something wrong!";
header('Location: index.php'); 
```

然后在 index.php 页面上，如下所示：

```
session_start();
$error = $_SESSION['error'];
session_destroy(); 
```

然后，在您希望显示消息的位置回显 $error。它在页面上设置变量，然后删除会话，因此如果您要显示错误然后刷新页面，则错误消息将不再存在。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T06:58:48.877

使用会话

```
session_start();
$selectedPermit = $_POST['cat'];
$_SESSION['selectedPermit'] = $selectedPermit; 
```

在另一个页面上使用：

```
session_start();
echo $_SESSION['selectedPermit']; 
```

Javascript问题：

```
if($missing1=='1' or $missing2=='1')
    {
        echo '<script>alert("Sorry. You did have not met the Pre-Requisites for '.$permit .'");\n";
        echo 'location.href="s_apply2.php";</script>';
       // header ('Location:s_apply2.php'); use javascript instead of header function

    } 
```

问候

# iphone - uibutton 选择器发送字符串作为参数

> ID：10023314
> 
> 赞同：-1
> 
> 时间：2012-04-05T05:54:31.907
> 
> 标签：iphone, uibutton

我需要在`UIButton`选择器中发送一个字符串作为参数。采用全局字符串对我不起作用。按钮是自定义类型。我试过 ：

```
btn.titleLabel.text = str; 
```

并在选择器中访问它，但收到**nil**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:03:28.393

你会这样

```
[b addTarget:self action:@selector(buttonTap:)forControlEvents:UIControlEventTouchUpInside];

-(IBAction)buttonTap:(id)sender
{
    UIButton *b = (UIButton*)sender;
     NSLog(@"%@",b.titleLabel.text);
} 
```

# javascript - 无法在链接按钮单击时从更新面板内部打开新窗口

> ID：10023316
> 
> 赞同：0
> 
> 时间：2012-04-05T05:54:47.090
> 
> 标签：javascript, asp.net, updatepanel, scriptmanager

我在 div 弹出窗口中的 UpdatePanel 中有一个链接按钮。在 Button_Click 上，我希望通过 javascript 打开一个新窗口。我尝试了 ScriptManager.RegisterStartupScript 和 ScriptManager.RegisterClientScriptBlock，但 Window 没有打开。

```
 <asp:UpdatePanel ID="UpdatePanel2" runat="server">

                                            <ContentTemplate> 
                <form class="message-form" action="#">
                    <fieldset>
    <asp:LinkButton ID="LinkButton1" runat="server" class="btn-facebook" Text="facebook" OnClick="LinkButton1_Click"></asp:LinkBu

tton>
                    <label for="TextBox1">Or send a message on Blissdate here:</label>
                <div class="textarea">
                    <asp:TextBox ID="TextBox1" runat="server" TextMode="MultiLine" Rows="10" Columns="30"></asp:TextBox><asp:Label ID="lbl" runat="server" />
                </div>
                <div class="btn-holder">
                    <asp:LinkButton ID="LinkButton2" runat="server" class="btn-send" Text="send" OnClick="LinkButton2_Click"></asp:LinkButton>
                </div>

            </fieldset>
        </form> 
```

```
protected void LinkButton1_Click(object sender, EventArgs e)
    {
           DataRow[] row1 = ds.Tables[0].Select("FB_Id='" + HiddenField3.Value + "'");
           string url = row1[0].ItemArray[3].ToString();
           lbl.Text = url;
           //ScriptManager.RegisterClientScriptBlock(this, GetType(), "newPage", "window.open('" + url +');", true);
           ScriptManager.RegisterClientScriptBlock(this, GetType(), "newpage", "open('" + url + "');", true);
    }

<script type="text/javascript">
    function open(url) {
        var w = window.open(url, '', 'width=1000,height=600,toolbar=0,status=0,location=0,menubar=0,directories=0,resizable=1,scrollbars=1');

        w.focus();

    }
</script> 
```

请告诉我代码是否有问题..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-05T06:21:50.600

将您的`open`函数重命名为其他名称。如果您在浏览器中启动 javascript 控制台，您会看到大量对`open`. 我不是 javascript 专家，但我相信您遇到了堆栈溢出异常。

```
<script type="text/javascript">
function customOpen(url) {
    var w = window.open(url, '', 'width=1000,height=600,toolbar=0,status=0,location=0,menubar=0,directories=0,resizable=1,scrollbars=1');
    w.focus();

 }
</script> 
```

然后更改您的注册：

```
ScriptManager.RegisterClientScriptBlock(this, GetType(), "newpage", "customOpen('" + url + "');", true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:03:37.727

检查您的浏览器弹出窗口阻止程序是否已启用。请禁用它会起作用....

# ios - iOS CALayerInvalidGeometry

> ID：10023321
> 
> 赞同：1
> 
> 时间：2012-04-05T05:55:27.637
> 
> 标签：ios, exception-handling

我有一个应用程序崩溃，并显示以下消息：

> 由于未捕获的异常“CALayerInvalidGeometry”而终止应用程序，原因：“CALayer 位置包含 NaN：[2.74665e-34 nan]”

这里有更详细的异常消息：

```
CALayer position contains NaN: [2.74665e-34 nan]
2012-04-05 15:48:00.185 Infectious[28198:fb03] (
    0   CoreFoundation                      0x0226803e __exceptionPreprocess + 206
    1   libobjc.A.dylib                     0x02820cd6 objc_exception_throw + 44
    2   CoreFoundation                      0x02210a48 +[NSException raise:format:arguments:] + 136
    3   CoreFoundation                      0x022109b9 +[NSException raise:format:] + 57
    4   QuartzCore                          0x00df3c0d _ZN2CA5Layer12set_positionERKNS_4Vec2IdEEb + 155
    5   QuartzCore                          0x00de9f55 -[CALayer setPosition:] + 68
    6   QuartzCore                          0x00de9a0a -[CALayer setFrame:] + 675
    7   UIKit                               0x00efbfb8 -[UIView(Geometry) setFrame:] + 198
    8   UIKit                               0x010071a1 -[UILabel setFrame:] + 233
    9   Infectious                          0x00010e10 -[SusceptibilityHistoryController buildHistogram:] + 9648
    10  Infectious                          0x0000db7e -[SusceptibilityHistoryController viewDidLoad] + 1742
    11  UIKit                               0x00f8fa1e -[UIViewController view] + 184
    12  UIKit                               0x00f8fd11 -[UIViewController contentScrollView] + 36
    13  UIKit                               0x00fa18fd -[UINavigationController _computeAndApplyScrollContentInsetDeltaForViewController:] + 36
    14  UIKit                               0x00fa1aef -[UINavigationController _layoutViewController:] + 43
    15  UIKit                               0x00fa1dbb -[UINavigationController _startTransition:fromViewController:toViewController:] + 303
    16  UIKit                               0x00fa285f -[UINavigationController _startDeferredTransitionIfNeeded] + 288
    17  UIKit                               0x00fa2e06 -[UINavigationController pushViewController:transition:forceImmediate:] + 989
    18  UIKit                               0x00fa2a24 -[UINavigationController pushViewController:animated:] + 62
    19  Infectious                          0x0000851d -[RecentSusceptibilityController tableView:didSelectRowAtIndexPath:] + 269
    20  UIKit                               0x00f595c5 -[UITableView _selectRowAtIndexPath:animated:scrollPosition:notifyDelegate:] + 1164
    21  UIKit                               0x00f597fa -[UITableView _userSelectRowAtPendingSelectionIndexPath:] + 201
    22  Foundation                          0x017ee85d __NSFireDelayedPerform + 389
    23  CoreFoundation                      0x0223c936 __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__ + 22
    24  CoreFoundation                      0x0223c3d7 __CFRunLoopDoTimer + 551
    25  CoreFoundation                      0x0219f790 __CFRunLoopRun + 1888
    26  CoreFoundation                      0x0219ed84 CFRunLoopRunSpecific + 212
    27  CoreFoundation                      0x0219ec9b CFRunLoopRunInMode + 123
    28  GraphicsServices                    0x0315a7d8 GSEventRunModal + 190
    29  GraphicsServices                    0x0315a88a GSEventRun + 103
    30  UIKit                               0x00ec8626 UIApplicationMain + 1163
    31  Infectious                          0x0001131b main + 187
    32  Infectious                          0x00002365 start + 53 
```

我应该寻找什么？

我读过这可能是被零除？

还有什么可能是这次坠机的嫌疑人？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T08:55:31.020

问题在于这些功能之间：

```
8   UIKit        -[UILabel setFrame:] + 233
9   Infectious   -[SusceptibilityHistoryController buildHistogram:] + 9648 
```

您正在调用`label.frame = ...`，并且可能以某种方式计算该值，结果是 NaN，这意味着“不是数字”，并且正如您正确建议的那样，它可能是 o 除以零运算的结果。但它可能由于许多其他原因出现：[http ://en.wikipedia.org/wiki/NaN](http://en.wikipedia.org/wiki/NaN)

Go through the function called "buildHistogram:", find the call to either "setFrame" or ".frame = " and find how can the computed position become NaN. If there is a division involved, it will probably be a division by zero.

# ios - Facebook 在收到请求错误时注销

> ID：10023322
> 
> 赞同：0
> 
> 时间：2012-04-05T05:55:32.040
> 
> 标签：ios, facebook, facebook-graph-api, facebook-ios-sdk

所以我正在使用 Facebook iOS SDK，当对打开图的请求失败时，我会被注销，这很烦人。我该如何防止这种情况发生？这是我发布它的方式：

```
 [_facebook requestWithGraphPath:graphPath
                              andParams:params 
                          andHttpMethod:@"POST" 
                            andDelegate:nil]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:15:56.873

Fb SDK 是一团糟，但你可以做什么：

*   将您的对象设置为委托
*   实现捕获错误的协议方法
    *   在该方法中检查您是否仍然登录
    *   如果没有 - 登录，或者做任何你想做的事情（显示错误警报/启动另一个请求/等）

# python - 如何在 pysnmp 中查找 mib 表？

> ID：10023327
> 
> 赞同：2
> 
> 时间：2012-04-05T05:55:39.897
> 
> 标签：python, snmp, mib, pysnmp

当我在 OID（1.3.6.1.4.1.2021.4）上使用 snmpwalk 时，我得到以下结果：

```
UCD-SNMP-MIB::memIndex.0 = INTEGER: 0

UCD-SNMP-MIB::memErrorName.0 = STRING: swap

UCD-SNMP-MIB::memMinimumSwap.0 = INTEGER: 16000 kB 
```

但是，当我使用 pysnmp 模块查询相同的 OID 时，我得到的结果如下：

```
(ObjectName(1.3.6.1.4.1.2021.4.1.0), Integer(0))

(ObjectName(1.3.6.1.4.1.2021.4.2.0), OctetString('swap'))

(ObjectName(1.3.6.1.4.1.2021.4.12.0), Integer(16000)) 
```

我已将 pysnmp_mibs 放入 os.environ 中，我使用的代码是：

```
from pysnmp.entity.rfc3413.oneliner import cmdgen
from pysnmp.smi import builder, view, error

errorIndication, errorStatus, errorIndex, \
             varBindTable = cmdGen.nextCmd (
cmdgen.CommunityData('test-agent', 'public'),
cmdgen.UdpTransportTarget ( (localhost, 161) ),
('1.3.6.1.4.1.2021.4')
)

if errorIndication:
    log.warn(errorIndication)
    return
else:
    if errorStatus:
        log.warn( '%s at %s\n' % (
            errorStatus.prettyPrint (),
            errorIndex and varBindTable[-1][int (errorIndex) - 1] or '?'
            ))
        return
    else:
        for varBindTableRow in varBindTable:
            for oid, val in varBindTableRow:
                    (symName, modName), indices = cmdgen.mibvar.oidToMibName(
                        cmdGen.mibViewController, oid
                        )
                    val = cmdgen.mibvar.cloneFromMibValue(
                                  cmdGen.mibViewController, modName, symName, val
                          )
            print varBindTableRow 
```

我的问题是为什么 snmpwalk 和 pysnmp 结果不同，我应该怎么做才能使用 pysnmp 模块获得与 snmpwalk 相同的结果？

* * *

***编辑***：

我尝试了代码，但在查询 1.3.6.1.2.1.4.22.1 时出现以下错误

```
NoSuchObjectError: NoSuchObjectError({'str': 'No MIB info for    (1, 3, 6, 1, 4, 1, 2021, 4, 1, 0) (closest parent (1, 3, 6, 1, 4, 1))'}) 
```

我已将 IP-MIB 模块加载为：

```
mibBuilder = builder.MibBuilder() 
mibPath = mibBuilder.getMibSources()+(builder.DirMibSource(path_to_mib_dir),)
mibBuilder.setMibSources(*mibPath)
mibBuilder.loadModules('IP-MIB')
mibView = view.MibViewController(mibBuilder) 
```

我很困惑的是我如何使用这个***mibView***

```
(symName,modName),indices=cmdgen.mibvar.oidToMibName(cmdGen.mibViewController, oid)
val=cmdgen.mibvar.cloneFromMibValue(cmdGen.mibViewController,modName, symName, val) 
```

**cmdGen.mibViewController**应该替换为**mibView**吗？

但它适用于 OID 1.3.6.1.2.1.1.3: 我得到的结果符合预期：

```
SNMPv2-MIB::sysUpTime.0 = 27 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-16T12:17:16.263

尝试打印：

```
print '%s::%s.%s = %s' % (
                    modName, symName,
                    '.'.join(map(lambda v: v.prettyPrint(), indices),
                    val.prettyPrint()
                    ) 
```

代替

```
print varBindTableRow 
```

还要确保加载适当的 MIB。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-10T04:15:34.307

对不起，但结果是一样的！

如果您的问题大约是 16000 与 16000 KB，您必须知道 SNMP 不会返回该单位。SNMP V2 MIB 只允许一个地方提供有关它的信息，因此 SNMPWALK（作为客户端）正在使用它，而不是 pysnmp。

# jquery - 手机间隙中jquery mobile的方向改变事件实现

> ID：10023328
> 
> 赞同：23
> 
> 时间：2012-04-05T05:55:42.110
> 
> 标签：jquery, jquery-mobile, cordova

有人可以让我知道jquery mobile在电话间隙中进行方向更改事件的正确代码吗？我在哪里以及如何实现这个orientationChange函数？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-04-05T08:40:20.750

```
$(window).bind('orientationchange', _orientationHandler); 
```

然后在`_orientationHandler`函数中，有类似的东西：

```
if(event.orientation){
      if(event.orientation == 'portrait'){
                  //do something
      }
      else if(event.orientation == 'landscape') {
                    //do something
      }
} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-04-05T09:35:47.680

```
$(window).bind( 'orientationchange', function(e){
    if ($.event.special.orientationchange.orientation() == "portrait") {
        //Do whatever in portrait mode
    } else {
        //Do Whatever in landscape mode
    }
}); 
```

如果您的目标是 iOS 并且orientationchange 不起作用，您可以在绑定函数的 event 参数中添加 resize 事件。因为改变方向也会触发调整大小事件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-18T10:54:11.053

我在我的移动模板中使用它，因为在 iOS 7 Safari 上没有触发orientationchange 事件：

```
 // ORIENTATION CHANGE TRICK
    var _orientation = window.matchMedia("(orientation: portrait)");
    _orientation.addListener(function(m) {
        if (m.matches) {
            // Changed to portrait
            $('html').removeClass('orientation-landscape').addClass('orientation-portrait');
        } else {
            // Changed to landscape
            $('html').removeClass('orientation-portrait').addClass('orientation-landscape');
        }
    });
    //  (event is not triggered in some browsers)
    $(window).on('orientationchange', function(e) {
        if (e.orientation) {
            if (e.orientation == 'portrait') {
                $('html').removeClass('orientation-landscape').addClass('orientation-portrait');
            } else if (e.orientation == 'landscape') {
                $('html').removeClass('orientation-portrait').addClass('orientation-landscape');
            }
        }
    }).trigger('orientationchange');
    // END TRICK 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-02T14:26:43.277

以下代码应该适用于所有浏览器以检测方向变化。它不使用 jquery 移动事件，但似乎适用于大多数设备。

```
1\. var isIOS = /safari/g.test(navigator.userAgent.toLowerCase());
2\. var ev = isIOS ? 'orientationchange' : 'resize'; 
3\. var diff = (window.innerWidth-window.innerHeight);
4\. $(window).bind(ev,function(){
5\.     setTimeout(function(){
6\.         if(diff*((window.innerWidth-window.innerHeight)) < 0)
7\.             orientationChanged();
8\.     },500);
9\. }); 
```

第 2 行占用任何非 Safari 浏览器的 resize 事件，因为其他设备中的其他浏览器占用 resize 事件比方向更改事件更一致。 [http://www.quirksmode.org/m/table.html](http://www.quirksmode.org/m/table.html)

第 5 行执行超时检查，因为某些 android 原生浏览器不会立即占用新宽度。

第 6 行 要发生方向变化，新旧高度和宽度差的乘积应该是负数。

# windows-phone-7 - Window phone 应用程序运行时错误

> ID：10023329
> 
> 赞同：1
> 
> 时间：2012-04-05T05:55:46.883
> 
> 标签：windows-phone-7, windows-phone, smartphone, silverlight-5.0

我已经开始开发 Windows Phone 应用程序。创建新项目会导致出现以下异常。我不知道问题可能是什么。任何人都可以帮忙吗？

```
System.InvalidProgramException
Common Language Runtime detected an invalid program.
   at System.ComponentModel.TypeConverterAttribute..ctor(Type type)
   at MS.Internal.Metadata.IntrinsicMetadata.AddTypeConverterAttributes()
   at MS.Internal.Metadata.IntrinsicMetadata.get_CustomAttributes()
   at Microsoft.Windows.Design.Platform.SilverlightMetadataContext..ctor()
   at Microsoft.Windows.Design.Platform.SilverlightMetadataContext..ctor(DesignerPlatform platformFactory, Platform blendPlatform)
   at MS.Internal.Platform.SilverlightPlatformImpl.get_MetadataContext()
   at MS.Internal.Platform.SlmPlatformImpl.get_MetadataContext()
   at MS.Internal.Package.VSIsolationProviderService.RemoteReferenceProxy.EnsurePlatformInitialized()
   at MS.Internal.Package.VSIsolationProviderService.RemoteReferenceProxy.EnsurePlatformInitialized()
   at MS.Internal.Package.VSIsolationProviderService.CreateIsolationProvider(String originalIdentifier, Boolean isGlobal, String identity, FrameworkName frameworkName, AssemblyName appAssemblyName, IVsHierarchy hierarchy)
   at MS.Internal.Package.VSIsolationProviderService.CreateIsolationProviderWorker(String identifier, IServiceProvider provider)
   at MS.Internal.Package.VSIsolationProviderService.CreateIsolationProvider(String identifier, IServiceProvider provider)
   at MS.Internal.Providers.VSDesignerContext.CreateIsolationProvider(IServiceProvider provider, IVsHierarchy hierarchy)
   at MS.Internal.Providers.VSDesignerContext.<>c__DisplayClass1.<Initialize>b__0(IsolationProviderProxy i)
   at MS.Internal.Providers.IsolationProviderProxy.get_RealProvider()
   at MS.Internal.Providers.IsolationProviderProxy.add_UnhandledException(UnhandledExceptionEventHandler value)
   at MS.Internal.Designer.DesignerPane.LoadDesignerView() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-06T09:03:23.400

我也遇到过这种情况，所以我刚刚安装了 MS Visual Studio 服务包 1 和 Windows Phone SDK 7.1.1 更新，现在它可以工作了:) 我在[这里](http://social.msdn.microsoft.com/Forums/zh-CN/visualstudio2010zhchs/thread/397fc399-8277-40c4-b0a4-63abbb29cc95)看到了另一个解决方案，它对我没有帮助，但是它可以帮助别人。

# java - 谷歌日历 API OAUTH

> ID：10023331
> 
> 赞同：4
> 
> 时间：2012-04-05T05:56:02.553
> 
> 标签：java, google-api, oauth-2.0, google-calendar-api, google-api-java-client

我正在尝试制作一个连接到 Google 日历的 Java 应用程序（独立而不是基于 Web），但我在通过 OAuth 阶段时遇到了问题。我已经查看了我能看到的 Google API 的每个部分。

我能找到的最新版本是`https://developers.google.com/google-apps/calendar/instantiate`

我已经下载了他们所说的两组 JAR 文件（google-api-services-calendar-v3-rev3-1.5.0-beta 和 gdata-samples.java-1.46.0）并导入了所需的库和依赖项。这给了我大约一半的类和一些方法（主要`new Calendar(httpTransport, accessProtectedResource, jsonFactory);`）根本不起作用的贬低错误。

有没有人有获取 OAuth 令牌和访问 Google Calendar API 的基本示例？我是在看这个错误的方式还是我使用的是过时的 api 副本？

gdata 是否仍在使用或已被替换？谢谢阿德里安

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-08T05:09:16.917

您需要首先让 oauth 工作，然后使用 oauth 调用一些谷歌 api，例如日历。

从已安装应用程序的[google oauth 1](https://developers.google.com/accounts/docs/OAuthForInstalledApps)或已安装应用程序[的 google oauth 2](https://developers.google.com/accounts/docs/OAuth2InstalledApp)开始，或搜索“google oauth installed app”。[Scrib](https://github.com/fernandezpablo85/scribe-java)是一个很好的 Java oauth 库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-08T20:19:58.040

我不知道为什么代码在文档中列出错误。下面的行对我有用。

```
Calendar(httpTransport, jsonFactory, accessProtectedResource); 
```

# xml - XML对象标签上的Flex Bindsetter？

> ID：10023332
> 
> 赞同：1
> 
> 时间：2012-04-05T05:56:04.287
> 
> 标签：xml, actionscript-3, apache-flex, data-binding, flex4

我有一个由某些组件共享的 XML 对象。是否可以将 BindSetter 设置为特定标签并在该属性更改时调用函数？

我已经尝试过了，但 BindSetter 调用似乎不接受 XML 标记名称。

当简单地使用 [Bindable] 并使用 MXML 中的标签名称（即标签文本 =“{myXMLObject.tagName}”）时，这工作正常，所以我认为这也必须在纯 AS 中工作，我只是还没想到出如何。

有什么提示吗？

根据评论/答案，这是我的代码/用法的一个非常基本的示例。

Flex 应用程序中的两个组件都继承同一个 XML 对象；

```
[Bindable] public var sharedData:XML; 
```

然后在每个组件的 creationComplete 处理程序中，我调用`BindSetter`;

```
BindingUtils.bindSetter(sharedDataChange, sharedData, "tagName"); 
```

`sharedDataChange`此时不做任何事情，只是跟踪该函数已被调用。

然后，我得到了一个显示 的值的标签`sharedData.tagName`、一个 textInput 和一个设置 的按钮`sharedData.tagName = textInput.text`。使用 MXML 绑定 ( `{label.text = sharedData.tagName}`) 可以正常工作。但正如我所说，BindSetter 函数似乎没有检测到这些变化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:58:32.727

如果`label text="{myXMLObject.tagName}"`对你有用，那么

```
 BindingUtils.bindSetter(function(value:*):void{
     //Do something
 }, this, ["myXMLObject","tagName"]); 
```

应该也可以，但`myXMLObject`必须是' `public`'。

[BindingUtils](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/binding/utils/BindingUtils.html)无论是使用 XML 还是使用其他对象都没有区别。如果 object 指定为`[Bindable]`，则将`BindingUtils`正确使用它。

**更新：**有很大的区别

```
BindingUtils.bindSetter(sharedDataChange, sharedData, "tagName"); 
```

和

```
BindingUtils.bindSetter(sharedDataChange, this, ["sharedData", "tagName"]); 
```

如果你要写一些 ' `shareData = ...`' ，第`setter`一个表达式的将不会被调用，但对于第二个，它会。

# html - 令人难以置信的奇怪空白出现在元素下方，里面有图像

> ID：10023337
> 
> 赞同：2
> 
> 时间：2012-04-05T05:56:36.843
> 
> 标签：html, css

好的，所以我正在设计这个网站。这是这个简单元素的 HTML 标记：

[http://thegrantmag.com](http://thegrantmag.com)

它是屏幕底部的图像框，位于内容区域下方。它下面有一条空白区域。我通常很擅长 CSS 故障排除，但这个有我。我尝试使用元素检查器删除所有元素。只要该图像存在，下面就会有一条细长的空白区域。

更新：我尝试删除 img 并用 div 替换。它总是在元素下方创建一些额外的像素，无论那里放什么！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:09:19.293

将您的图像设置为`display: block`，这应该可以解决它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-05T06:39:15.017

如果您`vertical-align:top`在图像中定义会更好。

```
img{
 vertical-align:top;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:09:29.287

添加`display:block`或`float:left`到图像的 CSS。

看看是否有帮助。

# client-side - 纯客户端标记

> ID：10023339
> 
> 赞同：0
> 
> 时间：2012-04-05T05:56:44.590
> 
> 标签：client-side, markitup

据我了解，Markitup 需要服务器端进行解析。有没有**纯客户端的**Markitup？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T14:01:42.507

您可以使用 javascript 实现解析，这样您就不需要任何服务器端逻辑。

当您下载 MarkItUp 时，该示例使用 javascript 生成预览

```
$.ajax({
    url:options.previewTemplatePath,
    dataType: 'text',
    global: false,
    success: function(data) {
    writeInPreview( localize(data, 1).replace(/<!-- content -->/g, $$.val()) );
    }
});

function writeInPreview(data) {
            if (options.previewInElement) {
                $(options.previewInElement).html(data);
            } else if (previewWindow && previewWindow.document) {           
                try {
                    sp = previewWindow.document.documentElement.scrollTop
                } catch(e) {
                    sp = 0;
                }   
                previewWindow.document.open();
                previewWindow.document.write(data);
                previewWindow.document.close();
                previewWindow.document.documentElement.scrollTop = sp;
            }
        } 
```

例如，您可以在**writeInPreview**中添加您的解析逻辑。

# iphone - 该应用程序在 Payload 中引用了非公共选择器

> ID：10023343
> 
> 赞同：4
> 
> 时间：2012-04-05T05:57:05.573
> 
> 标签：iphone, ipad, ios5

我刚刚尝试将应用程序提交到应用程序商店，并且在尝试上传二进制文件时收到以下消息：

“应用程序引用了 Payload 中的非公共选择器......”

我应该如何调试这个。我在项目中包含了各种库，编译项目根本没有给出任何警告。当然有一种方法可以找出是什么特定的库/函数调用导致了这种情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-29T18:55:06.967

这是一个旧帖子，所以我不确定您是否还需要答案。如果您确信自己没有在代码中使用私有 API，我不确定您如何在第三方库中找到它。我建议联系应用审查委员会并询问他们。

# asp.net-mvc-3 - 使用 jquery 的 mvc3 日期选择器示例

> ID：10023347
> 
> 赞同：1
> 
> 时间：2012-04-05T05:57:28.050
> 
> 标签：asp.net-mvc-3, datetime, date

我是 mvc3 的新手，视图引擎是剃刀，如何在我的视图中获取日期选择器。我应该在哪里编写日期选择器函数来影响它的所有视图。在我的每一个观点中怎么能称之为它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:25:30.843

您可以向所有需要显示为 datepicker 的输入字段添加一些通用类：

```
@Html.TextBoxFor(x => x.SomeDate, new { @class = "date" }) 
```

然后在一个单独的 javascript 文件中：

```
$(function() {
    $('.date').datepicker();
}); 
```

那么你所要做的就是在你的布局中包含这个 .js 文件，以便它为每个页面和每个拥有日期类的输入字段执行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:33:59.073

1.  在 _Layout.cshtml 添加以下行

//CSS

```
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.17/themes/redmond/jquery-ui.css" rel="Stylesheet" type="text/css"   /> 
```

//脚本

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script> 
```

1.  导航到 Shared 文件夹，然后创建一个名为 EditorTemplates 的文件夹

2.  在 EditorTemplates 文件夹中创建一个名为 DateTime 的局部视图

3.  将以下代码添加到 DateTime 部分视图

    @model System.DateTime ？@Html.TextBox("", (Model.HasValue ? Model.Value.ToShortDateString() : string.Empty), new { @class = "pickDate" })

    ```
     <script type="text/javascript">
             $(document).ready(function () {

                 $('.pickDate').datepicker({ 
                     changeMonth: true,
                     changeYear: true
                 });
             });
        </script> 
    ```

现在您已设置好所有内容，并且在您拥有 DateTime 类型字段的每个视图上，当您在该字段内单击或在单击图标等时修改它的属性时，您将看到一个 jqueryUI 日期选择器。

例如，您的视图就像从模型中创建的一样，您无需添加任何内容。

```
<div class="editor-label">
    @Html.LabelFor(model => model.DateOfBirth)
</div>
<div class="editor-field">
    @Html.EditorFor(model => model.DateOfBirth)
    @Html.ValidationMessageFor(model => model.DateOfBirth)
</div> 
```

**更新**

您可能有某种脚本冲突。尝试添加

```
@if(false)
{
 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
} 
```

在你的视野之上。

# c# - wcf 服务和 asp .net 表示层

> ID：10023350
> 
> 赞同：0
> 
> 时间：2012-04-05T05:57:42.437
> 
> 标签：c#, wcf, architecture

我有负责数据库交互和业务逻辑的 wcf 服务。它还有业务对象的类库。我希望 wcf 服务返回对象列表。我是否必须为我的 asp .net 项目（正在使用服务）创建另一个业务对象类库，以便 asp .net 项目可以理解对象类型？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:07:28.243

You should share the class object library between the service and the asp.net project. That would be like 'middleware' for your whole project. That would avoid unnecessary duplication. Basically, just move all business objects to a different project and include it into both wcf and asp.net solutions.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:06:25.130

Not really. When you will add the reference to web service using Add Service Reference via visual studio, you will get proxy classes for every object to be used in the web service

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T06:49:34.480

服务的标准做法是返回[DTO](http://en.wikipedia.org/wiki/Data_transfer_object)而不是业务对象：在表示层中使用业务对象会将其与业务逻辑紧密耦合，并且大多数时候您不希望这种耦合。还要记住，您通过网络发送的所有内容都应该是可序列化的，并且您的业务对象可能是也可能不是可序列化的。

所以我会说是的，您很可能希望使用 DTO 创建一个不同的库，并将其中的类用作数据契约。[重复并不是真正的问题，因为它保证了合约的一定稳定性，并且可以使用AutoMapper](https://github.com/AutoMapper/AutoMapper)之类的工具将您的业务对象映射到 DTO 。

让我们考虑在表示层 (ASP.NET) 和服务层之间共享公共业务类库的方法的优缺点。

优点：

*   易于实现：只需将现有项目连接到 asp.net，将您的类标记为可序列化即可完成
*   非冗余：你有一个类来代表一个概念

缺点：

*   您的类可能无法序列化
*   很容易“滑倒”并使用不应该直接在表示层中使用的业务类，而无需通过服务
*   紧密耦合：更改业务类，服务和表示层都可能中断
*   为什么我们再次使用服务？

将此与创建 DTO 库进行比较：

优点：

*   接口（数据契约）定义明确：这个库中的所有东西都是一个通信对象
*   序列化没有问题
*   表示和服务之间的松耦合：借助数据契约的抽象，业务逻辑的变化最多反映到 DTO 映射级别

缺点：

*   您需要将您的对象映射到 DTO（认为 AutoMapper 对此非常有帮助）
*   Dmitriy 引用了重复，虽然不必要是主观的：我想我向你展示了为什么需要它。此外，你不应该害怕在应用程序的不同部分引入对同一概念的不同视图：我还没有找到一个模型可以完美地适应非平凡程序中的每个用例。

# ruby-on-rails - Ruby rails - NilClass:Class 的未定义方法“model_name”

> ID：10023353
> 
> 赞同：1
> 
> 时间：2012-04-05T05:58:38.560
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在尝试制作一个小型搜索表单来搜索 ldap 中的用户。它与本地数据模型没有任何关系。不知道为什么我需要在用户控制器中进行任何更改。该错误没有给我任何线索。

模型 - 在 ldap 中搜索的函数

```
class User < ActiveRecord::Base
  attr_accessible :user_id, :firstname, :lastname, :email, :role, :misc, :password

  validates_presence_of :user_id, :firstname, :lastname, :email, :role, :on => :create
  validates_uniqueness_of :user_id, :email

  ROLES = ['Admin','User']

####################
  SERVER = '10.10.10.1'   
  PORT = 389                    
  BASE = 'DC=User,DC=mysite,DC=com'   
  DOMAIN = 'ldap.mysite.com'       
####################

  def self.ActiveDirectoryAuthenticate(login, pass)
     user = find_by_user_id(login)

     if user
     nil
     else
     return false
     end
        conn = Net::LDAP.new :host => SERVER,
                         :port => PORT,
                         :base => BASE,
                         :auth => { :username => "#{login}@#{DOMAIN}",
                                    :password => pass,
                                    :method => :simple }
        if conn.bind
        return user
        else
        return false
        end
        rescue Net::LDAP::LdapError => e
        return false
end

  def self.findActiveDirectory(login)
        conn = Net::LDAP.new :host => SERVER,
                         :port => PORT,
                         :base => BASE,
                         :auth => { :username => 'admin',
                                    :password => 'adminpass',
                                    :method => :simple }

if  conn.bind
        conn.search(:base => BASE, :filter => Net::LDAP::Filter.eq( "sAMAccountName", login ),
        :attributes => ['givenName','SN','mail'], :return_result => true) do |entry|
        entry.each do |attributes, values|

        if "#{attributes}" == "sn"
        values.each do |value|
        puts "Lastname: "+"#{value}"
        $lastname = "#{value}"
        end
        end

        if "#{attributes}" == "givenname"
        values.each do |value|
        puts "Firstname: "+"#{value}"
        $firstname = "#{value}"
        end
        end

        if "#{attributes}" == "mail"
        values.each do |value|
        puts "Email: "+"#{value}"
        $email = "#{value}"
        end
        end

        end
        end

    return true
    else
    return false
    end

    rescue Net::LDAP::LdapError => e
    return false
   end

end 
```

用户控制器 -

```
class UsersController < ApplicationController
  def new
    @user = User.new
  end

  def create
    @user = User.new(params[:user])
    if @user.save
      redirect_to users_added_url, :notice => "Signed up!"
    else
      render "new"
    end
  end
end 
```

查看 - 不工作 (app/views/users/find.html.erb)

```
<h1>Find User</h1>

<%= form_for @user do |f| %>
  <% if @user.errors.any? %>
    <div class="error_messages">
      <h2>Form is invalid</h2>
      <ul>
        <% for message in @user.errors.full_messages %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <p>
    <%= f.label :Username %><br />
    <%= f.text_field :username %>
  </p>
  <p class="button"><%= f.submit %></p>
<% end %> 
```

查看 - 正在工作 (app/views/users/new.html.erb)

```
<h1>Add new user</h1>

<%= form_for @user do |f| %>
  <% if @user.errors.any? %>
    <div class="error_messages">
      <h2>Form is invalid</h2>
      <ul>
        <% for message in @user.errors.full_messages %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
 <p>
    <%= f.label :Username %><br />
    <%= f.text_field :user_id %>
  </p>
 <p>
    <%= f.label :Firstname %><br />
    <%= f.text_field :firstname %>
  </p>
 <p>
    <%= f.label :Lastname %><br />
    <%= f.text_field :lastname %>
  </p>
  <p>
    <%= f.label :Email %><br />
    <%= f.text_field :email %>
  </p>
  <p>
    <%= f.label :Role %><br />
    <%= f.collection_select :role, User::ROLES, :to_s, :to_s, :include_blank => false %>
  </p>
  <p class="button"><%= f.submit %></p>
<% end %> 
```

路线 -

```
# rake routes
  myapp_new GET    /myapp/new(.:format)          myapp#new
        root        /                            home#index
sessions_new GET    /sessions/new(.:format)      sessions#new
   users_new GET    /users/new(.:format)         users#new
 users_added GET    /users/added(.:format)       users#added
      myapp GET    /myapp(.:format)              myapp#new
     log_out GET    /log_out(.:format)           sessions#destroy
      log_in GET    /log_in(.:format)            sessions#new
     sign_up GET    /sign_up(.:format)           users#new
  users_find GET    /users/find(.:format)        users#find
        root        /                            users#new
       users GET    /users(.:format)             users#index
             POST   /users(.:format)             users#create
    new_user GET    /users/new(.:format)         users#new
   edit_user GET    /users/:id/edit(.:format)    users#edit
        user GET    /users/:id(.:format)         users#show
             PUT    /users/:id(.:format)         users#update
             DELETE /users/:id(.:format)         users#destroy
    sessions GET    /sessions(.:format)          sessions#index
             POST   /sessions(.:format)          sessions#create
 new_session GET    /sessions/new(.:format)      sessions#new
edit_session GET    /sessions/:id/edit(.:format) sessions#edit
     session GET    /sessions/:id(.:format)      sessions#show
             PUT    /sessions/:id(.:format)      sessions#update
             DELETE /sessions/:id(.:format)      sessions#destroy 
```

错误 -

```
undefined method `model_name' for NilClass:Class 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-05T08:39:29.563

问题是您`@user`在视图中使用，但`@user`在任何地方都没有定义，因此`nil`. 这就是您收到此错误的原因：

```
undefined method `model_name' for NilClass:Class 
```

要解决此问题，您必须将以下内容添加到您的控制器：

```
def find
  @user = User.new
end 
```

或者像这样改变你的观点：

```
<%= form_for User.new do |f| %> 
```

这将消除您遇到的错误，但提交此表单将发布到您的创建操作，这不是您想要的。对于搜索，您最好使用[`form_tag`](http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag). 查看[Rails Guides](http://guides.rubyonrails.org/form_helpers.html)了解表单基础知识。基本上`form_for`是用于创建和更新数据，这不适用于搜索。

# sql - 如何在sql server中替换表中的字符串

> ID：10023359
> 
> 赞同：0
> 
> 时间：2012-04-05T05:59:25.813
> 
> 标签：sql, sql-server

我有一个名为的表`LIST`，谁能告诉我如何在sql server中替换表LIST下的所有数据

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:03:35.980

您可以通过以下命令替换 SQL 表中的字符串

```
Update <tablename> SET <columnname> = '<newstring>' 
```

如果您有任何条件，您可以在上述行之后添加以下行

```
where <condition> 
```

条件可以是

```
columnname = 'sometext' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:03:22.637

```
UPDATE
    LIST
SET
    COLUMN1    =    'SOMETHING BESIDES WHAT IS CURRENTLY IN COLUMN1' 
```

# iphone - 如何为图像添加光泽效果？

> ID：10023368
> 
> 赞同：1
> 
> 时间：2012-04-05T06:00:50.993
> 
> 标签：iphone, image, uiimagepickercontroller

我创建了一个应用程序，它使用 iPhone 相机捕获图像并将图像放到按钮上。

在我这样做之前，我想添加一个类似于 iPhone 主屏幕上图标使用的光泽效果。

这有可能吗，如果可以，怎么做？

# mysql - 在这种情况下，如何从多个 mysql 表中选择数据？

> ID：10023371
> 
> 赞同：0
> 
> 时间：2012-04-05T06:01:09.067
> 
> 标签：mysql

好的，我有一个奇怪的场景，我无法更改数据库结构，因为我没有权限。对于这个问题，我有三张桌子

**表格1-**

```
 id(int) | name(varchar) | link_id(int) | link_to(tinyint)
..............................................................
    1       | value1        | 1            | 2
    2       | value2        | 3            | 2
    3       | value3        | 1            | 3
    4       | value4        | 2            | 3
    5       | value5        | 3            | 3 
```

**表 2-**

```
 id(int)  | data(varchar)
............................
    1       | some1       
    2       | some2       
    3       | some3 
```

**表3-**

```
 id(int) | data(varchar)
............................
    1       | another1       
    2       | another2       
    3       | another3 
```

现在让我解释一下： in `table 1`，`link_id`是or的`id`字段，并说明它是链接到表 2 还是表 3。`table 2``table 3``link_to`

现在我需要从所有 3 个表中获取组合数据，以便针对 中的每个`name`字段，从该行中的 link_id 和 link_to 字段定义的正确表中`table 1`获取字段。`data`

是否有任何 mysql 查询来实现这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:04:57.923

您可以尝试使用 UNION

```
(
SELECT t1.id,t2.data
FROM table1 t1
    INNER JOIN table2 t2 ON t1.link_id=t2.id AND t1.link_to=2
) UNION (
SELECT t1.id,t3.data
FROM table1 t1
    INNER JOIN table3 t3 ON t1.link_id=t3.id AND t1.link_to=3
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:59:25.500

我同意接受的答案。您还可以创建一个存储过程并允许搜索。

```
# stored procedure
DELIMITER $$;
CREATE PROCEDURE `search_by_value`(
    in_searchValue VARCHAR(255)
)
BEGIN
  DECLARE jointable INTEGER;

  SELECT link_to INTO jointable FROM table1 WHERE name = in_searchValue;
  IF (jointable = 2) THEN
    SELECT * FROM table1 t1 left join table2 t2 on t1.link_id = t2.id WHERE t1.name = in_searchValue;
  ELSEIF (jointable = 3) THEN
    SELECT * FROM table1 t1 left join table3 t3 on t1.link_id = t3.id WHERE t1.name = in_searchValue;
  END IF;
END $$
DELIMITER;

# call the sp
call search_by_value('value1'); 
```

# javascript - 本地开发如何延迟上传文件的速度？

> ID：10023374
> 
> 赞同：0
> 
> 时间：2012-04-05T06:01:30.937
> 
> 标签：javascript

如何在本地开发中减慢上传文件的速度？这背后的原因是在文件上传时向用户显示一些选项。

目前，上传速度太快，以至于我很难测试我的更改。

任何帮助表示赞赏。首选 JavaScript。没有 jQuery。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:44:13.323

你可以使用java睡眠功能

```
 sleep(8000); // prevents further executions for 8 seconds 
```

# c - GTKTreeModel 的问题

> ID：10023384
> 
> 赞同：0
> 
> 时间：2012-04-05T06:02:23.037
> 
> 标签：c, gtk, gtktreeview

我使用具有树结构的文件，我需要将其可视化才能与他一起使用。出于这些目的，我使用了 GtkTreeView。但我有一个问题：GTKTreeModel - 必须有一定的结构。在我的情况下 - 不知道什么类型的节点，我们读取：是根节点，还是子站点，或者根本 - 分支的最终值之一（我阅读 Windows 注册表）。实际上 - 我很难绘制树模型，因为 - 众所周知，根节点可以是一个，但子节点 - 可能很难分支。实际上 - 如何使用 GTK 创建类似的树模型的问题。在此先感谢您的帮助。

# android - Android：使用 ant 构建并不能反映没有 ant clean 的变化

> ID：10023385
> 
> 赞同：3
> 
> 时间：2012-04-05T06:02:27.723
> 
> 标签：android, ant

在过去的几个月里，我一直在为 android 设备开发 .. 我使用 vim 作为主要的开发手段。我在 vim 中感觉比在 eclipse 中更舒服和更快。因为我使用的是 vim ..我使用命令行工具来构建和运行应用程序。

每次我做`ant clean && ant debug && ant installd`

但是每次使用 ant clean 都会使过程很长.. 构建至少需要一分钟，安装至少需要 30 秒..

我曾尝试跳过 ant clean 几次`ant debug && ant installd`，但这里的问题是我的新更改不会在没有`ant clean`..

但是我使用eclipse在android中编程的同事通常在这个构建和运行过程中更快..谁能解释我如何提高命令行工具的性能..

# entity-framework-4.1 - 如何映射具有不同模式名称的动态表

> ID：10023386
> 
> 赞同：0
> 
> 时间：2012-04-05T06:02:45.040
> 
> 标签：entity-framework-4.1, ef-code-first

我有名称的表，例如

> JS Engineering Services$Web 用户设置标题**和** Sachin Sales & Service Pvt Ltd$Web 用户设置标题

我如何使用 Ado.net 实体框架 POCO 代码优先方法映射这些表？表结构相同。我已经使用单表名称和模式完成了 POCO，因为 Dbo 只是声明了类似的表

网络用户设置。

另外，我想问一下如何创建带有空格的名称等表格。正如我所提到的那样。如果我们想用空格创建表名如何动态生成表名作为

> Sachin Sales & Service Pvt Ltd$Web 用户设置标题

在 Codefirst 方法中使用 Ado.net Entity 框架？

以前我使用 Nhibernate 所以最近转移到 Ado.net 实体框架。喜欢 Ado.net Codefirst 方法中的 Fluent 配置。有人可以用上述场景指导我如何处理它吗？任何虚拟属性都将受到欢迎。没关系 。我只是想动态生成表名基于两个场景包含完全相同的列的事实

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T16:12:27.317

...不确定这是否是您要寻找的东西，但这里似乎有两件事要解决：

**表命名**，您是否尝试过以下...
（来自您的`: DbContext`实现类，方法`protected override void OnModelCreating(DbModelBuilder modelBuilder)`）

```
modelBuilder.Entity<JSEngineeringServicesWebUser>()
    .ToTable("JS Engineering Services$Web User"); 
```

（注意：您可能需要对此进行试验，我没有使用此类名称，也没有方便测试，请快速尝试）

另一个选项是`[Table("JS Engineering Services$Web User")]`用作实体类的属性。（注意：我个人更喜欢流畅的方法，因为它可以让你更好地控制（对于其他事情、键、关系），并且在“混合”两者时通常效果不佳）

...或者看看这个，类似的问题[我可以更改实体框架 4.3 代码优先中的默认模式名称吗？](https://stackoverflow.com/questions/9562883/can-i-change-the-default-schema-name-in-entity-framework-4-3-code-first)

**第二个问题是这些表可能是“临时表”**。这有点难以实现。但是，如果您将它们放在 Db 中（只是作为临时表查看和工作），那么您可以继续像任何其他实体一样进行映射。

如果您需要动态创建和拆除 - 请在此处考虑这篇文章，其中包含类似的内容......

[使用 Entity Framework 4 缓存表](https://stackoverflow.com/questions/10020330/cache-table-with-entity-framework-4/10020565#10020565)

**编辑：**从下面的评论，更新...

如果“临时”表总是像你说的那样 -

然后，您应该可以[使用 Entity Framework 4 缓存表中的](https://stackoverflow.com/questions/10020330/cache-table-with-entity-framework-4/10020565#10020565)内容- 创建一个模型以匹配表模型，或者甚至您可能需要创建一个这样的表（要始终存在，我不确定是否代码优先如果在开始时没有匹配项，或者在不检查的情况下使用“使用现有数据库”运行），可能会抱怨，并使用“直接”SQL 运行查询（来自上下文类，如链接中所述） - 然后列出该模型类的输出。它可能只是工作:)

# android - 从开机到关机触发系统广播意图的顺序是什么？安卓开机流程（意向顺序）

> ID：10023389
> 
> 赞同：-1
> 
> 时间：2012-04-05T06:02:59.533
> 
> 标签：android, android-intent, broadcastreceiver

我试图弄清楚在手机从开机到关机的整个生命周期中触发了所有意图/动作以及以什么顺序触发。

注意：我说的系统广播意图仅在没有任何额外操作的情况下触发，例如，不考虑传入的 PHONE 或 SMS 接收的广播。

解决方案可能类似于：

...

...

ACTION_BOOT_COMPLETED

...

...

ACTION_REBOOT（仅限系统）

...

你们能帮我填空吗？

谢谢！

**编辑**

正如 zapl 正确指出的那样“根据事件/硬件行为/Android版本等发送广播”，所以我将尝试通过给出一个场景来让我的问题更清楚：

让我们考虑一个普通的智能手机，它具有 1\. 工作（活动）网络 SIM 2\. GPS 3\. WIFI 4\. SD 卡 5\. 触摸屏 6\. 陀螺仪 7..etc 今天智能手机的所有其他标准功能

现在，忘记“事件驱动的意图”，即插入SD，切换到飞行模式，接收短信，拨打电话等需要某种第三方触发器来生成，我们可以想出最基本的简单顺序系统动作打开手机电源后的意图？

就系统意图而言，我只是想了解 Android 的启动过程（顺序）！可能没有，可能是它比android本身更依赖硬件供应商。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:46:01.283

广播是根据事件/硬件行为/Android 版本等发送的。因此，除了 BOOT_COMPLETED 之外，您可能没有其他确定的意图。它们出现的顺序也不是固定的。

因此，依靠它们的特定顺序或假设还发生了其他事情（例如，一旦 BOOT_COMPLETED 安装了外部 sd 卡）将无法可靠地工作。有一些依赖于其他事件的发生（比如 mediascanner 将在安装后扫描媒体），但我仍然不会依赖这个事实。

您可以编写一个小应用程序来注册所有广播并打印它们以了解您的设备上发生了什么。

# c++ - Qt 3 中 Linux 上可用的屏幕尺寸

> ID：10023393
> 
> 赞同：0
> 
> 时间：2012-04-05T06:03:30.640
> 
> 标签：c++, qt, user-interface, qt3

```
QDesktopWidget * screen = QApplication::desktop();
QRect size = screen->availableGeometry(this); 
```

[文件](http://doc.qt.nokia.com/3.3/qdesktopwidget.html#availableGeometry-1)说，

> 可用的内容将是 screenGeometry() 的子区域，具体取决于平台决定可用的内容（例如，不包括 Mac OS X 上的 Dock 和菜单栏，或 Windows 上的任务栏）。

我想知道的是如何在 Linux 上获得可用的屏幕几何图形（没有面板）？我在 Linux 上尝试了上面的代码，但它返回物理屏幕大小。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T08:07:15.027

[这个问题](https://stackoverflow.com/q/1246825/594137)意味着调用`QApplication::desktop()->size()`将为您提供不带面板的 Linux 桌面的大小。

```
// called from inside the MainWindow constructor
QDesktopWidget* dt(QApplication::desktop());
this->resize(dt->size()); 
```

此代码正确调整主窗口的大小以填充带有 Qt 4.8 的 Ubuntu 10.04 上顶部和底部栏之间的空间。我看不出 Qt3 和 Qt 4.8 之间的文档有任何区别，这表明这些函数的行为已经改变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T11:41:30.633

大多数情况下都`availableGeometry()`有效。我正在使用虚拟屏幕。有时它不能正常工作。

# android - 每个页面都有不同菜单的 ViewPagerIndicator？

> ID：10023395
> 
> 赞同：0
> 
> 时间：2012-04-05T06:03:31.607
> 
> 标签：android, android-viewpager, android-menu

我正在使用 ViewPagerIndicator 在单个活动中显示不同的页面。是否可以通过按每个不同页面上的菜单按钮来显示不同的菜单？例如，第 1 页将显示“添加”和“删除”菜单项，而第 2 页将显示“编辑”和“设置”？这些都是愚蠢的例子，但菜单似乎是在实例化活动时创建的，所以当我点击菜单按钮时，菜单已经创建，所以无论当前显示哪个页面，我都会得到相同的菜单项。在 ViewPagerIndicator 中更改页面时是否可以触发 onCreateOptionsMenu()？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:30:45.617

您需要使用以下方法`Activity`

覆盖这个 onPrepareOptionsMenu(Menu menu)

```
@Override
public boolean onPrepareOptionsMenu(Menu menu) {
     //In this you can Change Menu from different xml  
   // MenuItem item = menu.findItem(R.id.refresh);
   // if (item != null) {
    // item.setVisible (shouldIShowThisItem)
   // }
//May be you can set Visibility to set for Item to show or Hide

      menu.clear();
    if(menu_one){
         MenuInflater inflater = getMenuInflater();
         inflater.inflate(R.menu.game_menu, menu);
    }else{
        MenuInflater inflater = getMenuInflater();
         inflater.inflate(R.menu.my_menu, menu);
    }

    return super.onPrepareOptionsMenu(menu);

} 
```

在此方法中，您可以在用户按下 android 中的菜单按钮时设置要显示的菜单。因为您已经使用了 ViewPagerIndicator，您知道要显示哪个页面，并根据该页面设置您的`switch`条件或`if and else if`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:15:49.947

我做过一个类似的例子。对我来说，我需要一个页面指示器（指示页数），例如，如果我有 4 页，我将在菜单中获得圆形图像。当我在第 3 页时，第三页将是黄色的。您可以通过添加必要的按钮来执行相同的操作。

这是一个简单的例子： // 首先是主要活动

```
import android.app.Activity;
import android.content.Context;
import android.os.Bundle;
import android.support.v4.view.ViewPager;

public class AwesomePagerActivity extends Activity {

    private ViewPager awesomePager;
    private static int NUM_AWESOME_VIEWS = 4;
    private Context cxt;
    private Pager awesomeAdapter;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        cxt = this;

        awesomeAdapter = new Pager(NUM_AWESOME_VIEWS);
        awesomeAdapter.setContext(cxt);
        awesomeAdapter.setListeImages(liste_images);
        awesomePager = (ViewPager) findViewById(R.id.awesomepager);
        awesomePager.setAdapter(awesomeAdapter);
    }

    private Integer[] liste_images = {
            R.drawable.tuto_step01, R.drawable.tuto_step02,
            R.drawable.tuto_step03, R.drawable.tuto_step04};

} 
```

比寻呼机适配器：

```
import android.content.Context;
import android.os.Parcelable;
import android.support.v4.view.PagerAdapter;
import android.support.v4.view.ViewPager;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.ImageView;
import android.widget.LinearLayout;

public class Pager extends PagerAdapter{

    private static int NUM_AWESOME_VIEWS;
    private Context cxt;
    Integer[] liste_images;

    public Pager(int i){
        NUM_AWESOME_VIEWS = i;
    }
    public void setContext(Context cxt){
        this.cxt=cxt;

    }

    public void setListeImages(Integer[] liste_images){
        this.liste_images=liste_images;
    }

    @Override
    public void destroyItem(View collection, int position, Object view) {
        ((ViewPager) collection).removeView((View) view);
    }

    @Override
    public void finishUpdate(View arg0) {
        // TODO Auto-generated method stub

    }

    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return NUM_AWESOME_VIEWS;
    }

    @Override
    public Object instantiateItem(View collection, int position) {

        LayoutInflater  inflater = (LayoutInflater)cxt.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        View layout = inflater.inflate(R.layout.layout_pager_ind, null);

        ImageView tv = (ImageView) layout.findViewById(R.id.pager);

        tv.setImageResource(liste_images[position]);

        LinearLayout mPagesController = (LinearLayout) layout.findViewById(R.id.pages_controller);

        int count = getCount();

        for (int i = 0; i < count; i++)
        {
            if (i == position)
            {
                ((ImageView) mPagesController.getChildAt(i)).setImageResource(R.drawable.btn_vflipper_pressed);
            }
            else
            {
                ((ImageView) mPagesController.getChildAt(i)).setImageResource(R.drawable.btn_vflipper_normal);
            }
        }

        ((ViewPager) collection).addView(layout,0);

        return layout;
    }

    @Override
    public boolean isViewFromObject(View view, Object object) {
        return view==((View)object);
    }

    @Override
    public void restoreState(Parcelable arg0, ClassLoader arg1) {
        // TODO Auto-generated method stub

    }

    @Override
    public Parcelable saveState() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public void startUpdate(View arg0) {
        // TODO Auto-generated method stub

    }

} 
```

layout_pager_indicator.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
    android:gravity="center" >

<ImageView
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:id="@+id/pager"/>

 <LinearLayout
        android:id="@+id/pages_controller"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal">
        <ImageView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/btn_vflipper_pressed">
        </ImageView>
        <ImageView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/btn_vflipper_normal">
        </ImageView>   
        <ImageView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/btn_vflipper_normal">
        </ImageView>
        <ImageView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/btn_vflipper_normal">
        </ImageView>    
    </LinearLayout> 

</LinearLayout> 
```

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
<android.support.v4.view.ViewPager
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:id="@+id/awesomepager"/>

</LinearLayout> 
```

您可以下载项目 AwesomePagerIndicator 并像我一样添加您的更改。祝你好运 ：）

# c# - 是否可以使用 CollectionView 和 LongListSelector 进行分组？

> ID：10023403
> 
> 赞同：2
> 
> 时间：2012-04-05T06:04:03.000
> 
> 标签：c#, windows-phone-7, xaml, collectionviewsource

我正在尝试将 LongListSelector 与 CollectionView 结合使用。似乎 CollectionView 具有所需的所有“东西”，但是当我将两者连接起来时，什么也没有发生。这是我到目前为止所拥有的：

在我的控件的 ctor（包含 LLS 的那个人）中，我构造了 CollectionView：

```
GroupDescription group = new PropertyGroupDescription("FullName", new FirstLetterConverter(true, true));
m_view.GroupDescriptions.Add(group); 
```

然后，每当相关的依赖属性（包含我想要放入 LLS 的列表的那个）发生变化时，我都会将其分配给 m_view 并将组分配给 ItemsSource：

```
private void FriendsChanged()
{
    m_view.Source = Friends;
    friendList.ItemsSource = m_view.View.Groups; 
```

当我检查 .Groups 属性时，信息似乎是犹太洁食 - 它具有正确数量的项目，并且每个项目都有似乎正确的子项目。但是，看起来一切都是内部的，因此 LLS 似乎无法显示相关信息。当我用模拟集合替换 CollectionView 的东西时，LLS 确实显示了信息（所以我非常有信心 LLS 设置正确）

这是我在 LLS 中使用的内容 - 请注意，我在一些地方使用“XXXX”代替绑定，以确保没有任何东西因为绑定错误而以某种方式破坏：

```
<toolkit:LongListSelector x:Name="friendList">
  <toolkit:LongListSelector.ItemTemplate>
    <DataTemplate>
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Image Source="{Binding ThumbnailImage}" Width="62" Height="62"/>
        <TextBlock Text="{Binding FullName}"/>
      </Grid>
    </DataTemplate>
  </toolkit:LongListSelector.ItemTemplate>
  <toolkit:LongListSelector.GroupHeaderTemplate>
    <DataTemplate>
      <Border Background="{StaticResource PhoneAccentBrush}" Padding="{StaticResource PhoneTouchTargetOverhang}" Width="200" HorizontalAlignment="Left">
        <!--<TextBlock Text="{Binding Name}" Style="{StaticResource PhoneTextLargeStyle}"/>-->
        <TextBlock Text="XXXX" Style="{StaticResource PhoneTextLargeStyle}"/>
      </Border>
    </DataTemplate>
  </toolkit:LongListSelector.GroupHeaderTemplate>
  <toolkit:LongListSelector.GroupItemTemplate>
    <DataTemplate>
      <Border Background="{StaticResource PhoneAccentBrush}" Margin="{StaticResource PhoneTouchTargetOverhang}" Padding="{StaticResource PhoneTouchTargetOverhang}" Width="180">
        <TextBlock Text="XXXX" Style="{StaticResource PhoneTextLargeStyle}"/>
        <!--<TextBlock Text="{Binding Name}" Style="{StaticResource PhoneTextLargeStyle}"/>-->
      </Border>
    </DataTemplate>
  </toolkit:LongListSelector.GroupItemTemplate>
</toolkit:LongListSelector> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-12-13T04:20:41.833

我有同样的问题。似乎 LongListSelector 不适用于 CollectionView。我通过将其绑定到 ObservableCollection 来解决此问题。我花了两天时间弄清楚为什么 LongListSelector 没有显示任何项目。奇怪的是 CollectionView.IsEmpty 用于打开可见性（当然是通过转换器）。但它不能显示项目。

# asp.net-mvc - 使用 Ninject 解析连接字符串

> ID：10023406
> 
> 赞同：0
> 
> 时间：2012-04-05T06:04:20.630
> 
> 标签：asp.net-mvc, ninject

我在我的 ASP.NET MVC 项目中使用 Ninject 进行依赖注入。我有很多存储库类，每个类都在构造函数中使用连接字符串参数。

目前对于每个映射，我也必须传递连接字符串。

前任。

```
Bind<INewsRepository>().To<NewsRepository>().WithConstructorArgument("connectionString", "Data Source=...");
Bind<IProductsRepository>().To<ProductsRepository>().WithConstructorArgument("connectionString", "Data Source=..."); 
```

是否可以将“connectionString”直接绑定到全局级别的配置值，而不是在每个绑定中指定？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T08:54:24.563

我的解决方案是：将连接字符串包装在一个对象中，比如 ConnectionStringWrapper 并创建一个接口 IConnectionStringWrapper。使用存储库中的接口并将 ConnectionStringWrapper 绑定到使用 Ninjects 的接口。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-05T07:58:16.570

这是我想出的最好的

创建扩展方法

```
 public static class IBindingExtensions
    {
         public static IBindingWithOrOnSyntax<T> WithConnectionString<T>(this IBindingWhenInNamedWithOrOnSyntax<T> binding)
         {
             return binding.WithConstructorArgument("connectionString", "Data Source=..");
         }
    } 
```

并为每个连接字符串参数绑定调用它

```
Bind<INewsRepository>().To<NewsRepository>().WithConnectionString(); 
```

# java - 为什么这些 JSTL c:tests 没有阻止内容被渲染？

> ID：10023407
> 
> 赞同：0
> 
> 时间：2012-04-05T06:04:22.697
> 
> 标签：java, jsf-2, jstl

我只是想向同事演示为什么我们不应该使用 JSTL 标签，但我迷路了，不知道为什么每件事都会被渲染。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jstl/core">    
     <h:outputLabel>#{dummyBean.pageBuild}</h:outputLabel>
     <h:outputLabel>#{dummyBean.pageRerendered}</h:outputLabel>     
     <h:outputLabel>#{dummyBean.pageBuild and !dummyBean.pageRerendered}</h:outputLabel>
     <h:outputLabel>#{dummyBean.pageBuild and dummyBean.pageRerendered}</h:outputLabel>
        <c:if test="#{dummyBean.pageBuild and !dummyBean.pageRerendered}">
             <h:outputLabel value="Section 1"></h:outputLabel>
        </c:if>

        <c:if test="#{dummyBean.pageBuild and dummyBean.pageRerendered}">
            <h:outputLabel value="Section 2"></h:outputLabel>
        </c:if>

</ui:composition> 
```

结果是

```
true
false
true
false 
Section 1 
Section 2 
```

我原以为他们会

```
true
false
true
false 
Section 1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T06:21:59.673

```
<c:if test="true">
     <h:outputLabel value="Section 1.1"></h:outputLabel>
</c:if>

<c:if test="false">
    <h:outputLabel value="Section 2.2"></h:outputLabel>
</c:if> 
```

`test="true"`and将`test="false"`始终评估为 boolean `true`，仅仅是因为它是有效且非空`String`值。

您可能打算使用`test="#{true}"`and`test="#{false}"`代替。

```
<c:if test="#{true}">
     <h:outputLabel value="Section 1.1" />
</c:if>

<c:if test="#{false}">
    <h:outputLabel value="Section 2.2" />
</c:if> 
```

另一个问题是 JSTL 标记的 XML 命名空间是错误的，您使用的是 Facelets 1.x 而您使用的是 JSF 2.x。它应该是

```
xmlns:c="http://java.sun.com/jsp/jstl/core" 
```

至于在 JSF 中使用 JSTL，请查看以下答案：[JSTL in JSF2 Facelets... 有意义吗？](https://stackoverflow.com/questions/3342984/jstl-in-jsf2-facelets-makes-sense)

# client-server - 客户端/服务器教程

> ID：10023408
> 
> 赞同：0
> 
> 时间：2012-04-05T06:04:27.073
> 
> 标签：client-server

我已经阅读了很多客户端/服务器教程。但我想了解客户端/服务器聊天应用程序。有人能告诉我在哪里可以获得一个好的教程吗？有人可以提供链接吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:10:31.690

[`The Basic Client/Server Chat Application in C#`](http://www.dreamincode.net/forums/topic/33396-basic-clientserver-chat-application-in-c%23/)

这绝对应该对您有所帮助。

# qt - Reducing the size of a playbook app that is using QT

> ID：10023413
> 
> 赞同：2
> 
> 时间：2012-04-05T06:04:42.263
> 
> 标签：qt, blackberry-playbook, qt-quick, playbook

I am trying to build a playbook app using the QT libraries recently released by rim.

The app builds and deploys fine if I use the default bar-descriptor.xml, but the bar file is ~80MB in size. I would like to reduce the size. I have tried using a modified bar-descriptor.xml which only includes the needed libraries but I get

```
 Failed to load platform plugin "blackberry". Available platforms are: 
 Minimal 
```

The original bar-descriptor.xml file is

```
<?xml version="1.0" encoding="utf-8" standalone="no"?>
<qnx xmlns="http://www.qnx.com/schemas/application/1.0">
<id>ID</id>
<name>QTMediaPlayer</name>
<versionNumber>1.0.0</versionNumber>
<description>DESCRIPTION</description>

<initialWindow>
    <systemChrome>none</systemChrome>
    <transparent>false</transparent>
    <autoOrients>true</autoOrients>
    <aspectRatio>landscape</aspectRatio>
</initialWindow>

<env var="QML_IMPORT_PATH" value="app/native/imports"/>
<env var="QT_PLUGIN_PATH" value="app/native/plugins"/>
<env var="LD_LIBRARY_PATH" value="app/native/lib"/>
<arg>-platform</arg>
<arg>blackberry</arg>

<action system="true">run_native</action>
<asset entry="true" path="QTMediaPlayer" type="Qnx/Elf">QTMediaPlayer</asset>

<asset path="splashscreen.png">splashscreen.png</asset>
<asset path="icon.png">icon.png</asset>
<asset path="qml">qml</asset>

<!-- These values will be replaced when deploying in Qt Creator -->
<asset path="%QT_INSTALL_LIBS%">lib</asset> 
<asset path="%QT_INSTALL_PLUGINS%">plugins</asset>
<asset path="%QT_INSTALL_IMPORTS%">imports</asset>

<icon><image>icon.png</image></icon>
<splashscreen>splashscreen.png</splashscreen>
</qnx> 
```

The modified version is

```
<?xml version="1.0" encoding="utf-8" standalone="no"?>
<qnx xmlns="http://www.qnx.com/schemas/application/1.0">
<id>ID</id>
<name>QTMediaPlayer</name>
<versionNumber>1.0.0</versionNumber>
<description>DESCRIPTION</description>

<initialWindow>
    <systemChrome>none</systemChrome>
    <transparent>false</transparent>
    <autoOrients>true</autoOrients>
    <aspectRatio>landscape</aspectRatio>
</initialWindow>

<env var="QML_IMPORT_PATH" value="app/native/imports"/>
<env var="QT_PLUGIN_PATH" value="app/native/plugins"/>
<env var="LD_LIBRARY_PATH" value="app/native/lib"/>
<arg>-platform</arg>
<arg>blackberry</arg>

<action system="true">run_native</action>
<asset entry="true" path="QTMediaPlayer" type="Qnx/Elf">QTMediaPlayer</asset>

<asset path="splashscreen.png">splashscreen.png</asset>
<asset path="icon.png">icon.png</asset>
<asset path="qml">qml</asset>

<!-- These values will be replaced when deploying in Qt Creator -->
<asset path="%QT_INSTALL_LIBS%">lib</asset>
<asset path="%QT_INSTALL_LIBS%/libQtCore.so.4.8.1" type="Qnx/Elf">lib/libQtCore.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/libQtDeclarative.so.4.8.1">lib/libQtDeclarative.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/libQtScript.so.4">lib/libQtScript.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/libQtGui.so.4">lib/libQtGui.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/libQtNetwork.so.4">lib/libQtNetwork.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/libQtXmlPatterns.so.4">lib/libQtXmlPatterns.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/libQtSql.so.4">lib/libQtSql.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/libQtSvg.so.4">lib/libQtSvg.so.4</asset>
<asset path="%QT_INSTALL_LIBS%/pkgconfig">lib/pkgconfig</asset>
<asset path="%QT_INSTALL_LIBS%/fonts">lib/fonts</asset>

<asset path="%QT_INSTALL_PLUGINS%">plugins</asset>
<asset path="%QT_INSTALL_IMPORTS%">imports</asset>

<icon><image>icon.png</image></icon>
<splashscreen>splashscreen.png</splashscreen>
</qnx> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-22T18:36:58.180

尝试添加

```
<asset path="${QNX_TARGET}/../target-override/armle-v7/usr/lib/qt4/plugins/platforms/libblackberry.so" type="Qnx/Elf">lib/platforms/libblackberry.so</asset> 
```

# javascript - 尝试操作对象的“引用”时的 Javascript/jQuery 范围和上下文问题

> ID：10023414
> 
> 赞同：0
> 
> 时间：2012-04-05T06:04:46.740
> 
> 标签：javascript, jquery, scope

我想我遇到了一个“背景”问题，希望有人能对这个主题有更多的了解。

我想删除页面上所有图像的来源。我为每个图像构建了一个对象数组。当我隐藏源时，我希望实时显示更改而不影响我的原始对象属性。我想在点击事件上操纵图像（在屏幕上）。

例如：

```
$('#moz_iframe').contents().find("img").each(function(index){
    aryImageObjects.push(new imageObject($(this), $('#iframeHolder')));
}); //end each 
```

...

```
function imageObject(objImg, objHolder) {   
    this.objImg = objImg;
    this.imgSrc = objImg.attr('src');
    //this.objImg.replaceWith('hrm'); <-- this works just fine in this context 
}; //end constructor 
```

...但这不起作用：

```
$('#imagesOff').click(function(){
    for (i=0; i<aryImageObjects.length; i++) {
        aryImageObjects[i].objImg.replaceWith('hrm');
    };
}); //end imagesOff click function 
```

我还尝试在原始构造函数中构建对象方法：

```
this.hideImages = function() {
    this.objImg.replaceWith('hrm');
    }; 
```

...

```
$('#imagesOff').click(function(){
    for (i=0; i<aryImageObjects.length; i++) {
        aryImageObjects[i].hideImages();
    };
}); //end imagesOff click function 
```

但这似乎也不起作用。

任何帮助将不胜感激 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:27:32.027

[这就是我想出的](http://jsfiddle.net/uLR9y/)

```
$(function() {

    //reference array
    var ref = [];

    (function() {

        //get each image and reference the element and store source
        $('img').each(function() {
            var newImg = {};
            newImg.el = this; //storing the DOM element instead of a jQuery object
            newImg.src = this.src;
            ref.push(newImg);
        });
    }());

    //if the element is clicked, replace using the reference in the array
    $('img').on('click', function() {
        for (i = 0; i < ref.length; i++) {

            //wrap reference in jQuery, and operate
            $(ref[i].el).replaceWith('hrm');
        };

        //img still here even after DOM was replaced
        console.log(ref);
    });
});​ 
```

# android - facebook sdk 中的 util.java 错误

> ID：10023415
> 
> 赞同：0
> 
> 时间：2012-04-05T06:04:54.320
> 
> 标签：android, facebook

我正在将 facebook 与 android 集成。当我引用 facebook sdk 时，我的项目工作正常，但是当我关闭 ecllipse 并重新打开 ecllipse 时，facebook sdk 项目中的 util.java 中出现错误。为什么？谢谢........

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:08:14.297

有时日食只是在启动时搞砸了。没有什么比在打开 Eclipse 之后开始工作之前进行清洁和构建更重要的了。

# python - Python File Download

> ID：10023418
> 
> 赞同：2
> 
> 时间：2012-04-05T06:05:09.140
> 
> 标签：python

I am having a problem and not sure if this is possible at all, so if someone could point me in the right direction.

I need to open a file from a webpage, open it in excel and save the file.

The problem I am running into the file name on the website has a file name ( not an active link ) and then it will have a "download " button that is not specific to the file I need to download. So instead of the download button being "file1todaysdate", they are nothing that I could use from day to day.

Is there a way I could locate file name then grab the file from the download icon? then save in excel? If not sorry for wasting time.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:21:33.010

当您按下载时，文件实际来自哪里？首先获取该下载链接。如果很难从浏览器中检测到，请使用 firebug 之类的工具获取下载链接。一旦你得到它。您可以使用 Python 使用 urllib.urlretrieve 下载它

```
filename, msg = urllib.urlretrieve('http://yourlinktodownload/file.xls') 
```

文件名将指向下载的文件。如果是 xls 格式，它应该在 Excel 中打开。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:12:01.963

我认为您要问的是如何在网页中搜索一些不是链接的文本，请求该链接，保存文件。

[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/)通常用于此目的。

但是，[requests](http://docs.python-requests.org/)是另一个库，您可以使用它来获取页面，然后获取内容以供以后分析。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:07:32.797

Examine the `Content-Disposition` header of the response to discover what the server wants you to call the file.

# asp.net - 如何从数据库中检索图像并将其显示在图像控件中？

> ID：10023419
> 
> 赞同：0
> 
> 时间：2012-04-05T06:05:09.797
> 
> 标签：asp.net, .net, vb.net

我已成功在 sql server 数据库中输入图像。现在我想从数据库中检索此图像并将其显示在图像控件中。我不想在页面上放置任何 ListBox。我在 ASP dot Net..

```
Dim MS As MemoryStream
Dim IMG As System.Drawing.Image
Dim FS As FileStream
Dim FI As FileInfo
Dim IMGSTRM As Stream
Dim IMGBYTS As Byte()
Dim ImgData() As Byte

    CMD1 = New SqlCommand("select * from IMG where userid=0", CON1)
    If Not IsNothing(RDR1) Then RDR1.Close()
    RDR1 = CMD1.ExecuteReader()
    If RDR1.Read Then
        IMGBYTS = RDR1!img
        MS = New MemoryStream(IMGBYTS, False)
        IMG = Image.FromStream(MS)
        PIC1.ImageUrl = IMG
    End If 
```

问题出现在 End If 上方的粗体 2 行中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:46:54.023

如果您使用的是桌面应用程序，这就是解决方案

Private Sub SqlBlob2File(ByVal DestFilePath As String)

```
 Dim PictureCol As Integer = 0 ' the column # of the BLOB field
    Dim cn As New SqlConnection("server=localhost;integrated security=yes;database=NorthWind")
    Dim cmd As New SqlCommand("SELECT Picture FROM Categories WHERE CategoryName='Test'", cn)

    cn.Open()
    Dim dr As SqlDataReader = cmd.ExecuteReader()
    dr.Read()
    Dim b(dr.GetBytes(PictureCol, 0, Nothing, 0, Integer.MaxValue) - 1) As Byte
    dr.GetBytes(PictureCol, 0, b, 0, b.Length)
    dr.Close()

    cn.Close()

    Dim ms As New System.IO.MemoryStream(b)
    Me.PictureBox1.Image = System.Drawing.Image.FromStream(ms)
End Sub 
```

这是您可能想要查看的链接：http: [//support.microsoft.com/kb/321900/en-us](http://support.microsoft.com/kb/321900/en-us)

asp.net 解决方案

在网页或 aspx 页面的情况下，您只能在来自 Url 的网页上显示图像，首先应该有一个图片网页，因为 webform2 必须只有一个图片框。此页面是 webform1 的图像。

通过这种方式，您可以根据需要在页面上放置尽可能多的图片，当然这取决于您制作相同数量的伪页面（并且不要给它们起相同的名称）。

我希望这将是一个不错的页面。

\\ webform1 上必须有一个图像框、一个按钮和一个标签

```
Private Sub Page_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
If Not IsPostBack Then
Dim conn As New SqlConnection(connStr)
Dim cmd As New SqlCommand("SELECT FileName, PictureID FROM Picture", conn)
da = New SqlDataAdapter(cmd)
cbd = New SqlCommandBuilder(da)
dsPictures = New DataSet
da.Fill(dsPictures)
Me.Image1.Visible = False
ListBox1.AutoPostBack = True
Try
ListBox1.DataSource = dsPictures.Tables(0)
ListBox1.DataTextField = "FileName"
ListBox1.DataValueField = "PictureID"
ListBox1.DataBind()
Catch sqlExc As SqlException
Me.Label1.Text = "Database Error" 'sqlExc.ToString
Catch exc As Exception
Me.Label1.Text = "Datbase Connection Failed!"
End Try
conn.Close()
End If
End Sub

Private Sub ListBox1_SelectedIndexChanged(ByVal sender As System.Object,
ByVal e As System.EventArgs) Handles ListBox1.SelectedIndexChanged
Session.Item("img") = ListBox1.SelectedItem.Value
Image1.Visible = True
Image1.ImageUrl = "http://localhost/testSQLPlaatjesWeb/WebForm2.aspx"
End Sub 
```

/// \\

```
Private Sub Page_Load(ByVal sender As System.Object, ByVal e As
System.EventArgs) Handles MyBase.Load
Dim conn As New SqlConnection(connStr)
Dim sqlstr As String = String.Format("SELECT Picture FROM Picture WHERE
(PictureID = {0})", CInt(Session.Item("img")))
Dim cmd As New SqlCommand(sqlstr, conn)
conn.Open()
Dim rdr As SqlDataReader = cmd.ExecuteReader()
rdr.Read()
Response.BinaryWrite(CType(rdr.Item("Picture"), Byte()))
rdr.Close()
conn.Close()
End Sub 
```

///

# api - Analytics for tastypie

> ID：10023420
> 
> 赞同：5
> 
> 时间：2012-04-05T06:05:32.167
> 
> 标签：api, analytics, tastypie, django-piston

I am looking to add some sort of analytics to my Tastypie-powered API. I really enjoy Google Analytics for the regular web site however obviously it won't work for an API. How do you do analytics for APIs in general? And are there any packages available for Tastypie which add analytics - at least some basics: resource url, time, agent, request headers, etc?

While I use Tastypie, the same question can be asked of django-piston and django-rest-framework.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T11:25:29.817

如果你`throttle = CacheDBThrottle()`在你的资源中使用，你可以在tastepie_apiaccess 表中看到资源url、时间、请求方法和标识符（如果你正在使用身份验证）。但是，IP、国家、用户代理、请求标头等其他信息仍然缺失。您可以使用自己的节流类和模型来保存此信息。

另一种方法是使用一些工具来分析您的服务器日志。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-16T08:04:14.613

您可以尝试的另一个工具是 Qmonix。它是分析 SDK，可让您推送任何类型的事件。

事件编码如下“my_app/event/happened”。

事件通过[HTTP API](http://docs.qmonix.com/latest/api/index.html#http-api)发送，因此您可以在 Web 应用程序中使用 Qmonix。

不幸的是，没有为此提供 Tastypie 库，但是您仍然可以轻松编写自己的包装器以通过 HTTP 发送事件。

您可以在[github 上](https://github.com/qmonix)查看其他语言库（JavaScript、Android 等） 。

# javascript - Move to next tab

> ID：10023421
> 
> 赞同：0
> 
> 时间：2012-04-05T06:05:35.710
> 
> 标签：javascript, google-chrome-extension

I am trying to create an extension that changes to the next tab in an array of tabs and it also has to be able to loop back to the beginning. I have been pounding away at this for a couple of days now and can not for the life of me figure it out.

The way this extension works is it listens for a tab to update, then it runs one function before this nextTab function.

Here is what I currently have as my nextTab function:

```
function nextTab(){
     // get the current window
    chrome.windows.getCurrent(function(win)
    {
        // get an array of the tabs in the window
        chrome.tabs.getAllInWindow(win.id, function(tabs)
        {
            var tabIds = [];
            for (i in tabs)
            tabIds.push(i);
                for (var i = 0; i < tabIds.length; i++)
                {
                    var tab = tabs[tabIds[i]];
                    chrome.tabs.update(tab.id, { selected: true});
                }

        });
    });
}; 
```

So far it will cycle through the tabs from the looks of it when I run it. But it always ends up on the last tab. Does anyone have an easier way to do this or can give me any tips on what I am doing wrong?

# java - conversion from Date ojbect to Date object

> ID：10023423
> 
> 赞同：3
> 
> 时间：2012-04-05T06:05:49.880
> 
> 标签：java, date

I have a requirement. I want to convert Date object to formatted Date object.

I mean,

```
`Date d = new Date();System.out.println(d);' 
```

**Output:** Thu Apr 05 11:28:32 GMT+05:30 2012

I want output to be like **05/APR/2012**. And the output object must be Date and not String. If at all you are not clear , I'll post more clearly

Thank You.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-05T06:14:43.840

不需要任何第三方 API，只需使用[DateFormat](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)通过提供日期格式模式来解析/格式化日期。示例代码将是：

```
Date date = new Date();
DateFormat df = new SimpleDateFormat("dd/MMM/yyyy");
String formattedDate = df.format(date);

System.out.println(formattedDate.toUpperCase()); 
```

[演示在这里运行。](http://ideone.com/kYd9Z)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:44:22.043

在回答之前先让大家知道OP其实是用POJOs来表示Database对象，他的一个POJO中包含了Date类型的字段。他希望日期采用 oracles 格式，但它仍然是 Date 对象。（来自OP的评论[here](https://stackoverflow.com/questions/10023423/conversion-from-date-ojbect-to-date-object/10023686#comment12819321_10023686)）

您只需要扩展`Date`Class 并覆盖`public String toString();`

```
public class MyDate extends Date
{
    @Override
    public String toString()
    {
        DateFormat df = new SimpleDateFormat("dd/MMM/yyyy");
        String formattedDate = df.format(this);
        return formattedDate;
    }
} 
```

然后，在你的 POJO 中，你初始化你的 Date 对象：

```
Date databaseDate=new MyDate();
// initialize date to required value. 
```

现在 databaseDate 是一个 Date 对象，但它会在需要的地方提供您所需的格式。

**编辑：**数据库与编程语言的数据类型没有任何关系。当 POJO 插入数据库时​​，它们的所有值都将转换为字符串。对象如何转换为字符串在该类的 toString 方法中定义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:30:40.777

我认为他想在 System.out.println() 中使用 Date，因此我们可以尝试扩展 Date 类并覆盖 toString()。

这是代码：

```
import java.util.Date;

 class date extends Date {

    int mm,dd,yy;
    date()
    {

        Date d = new Date();
        System.out.println(d);
        mm=d.getMonth();
        dd=d.getDate();
        yy=d.getYear();

    }

    public String toString()
    {  Integer m2=new Integer(mm);
    Integer m3=new Integer(dd);
    Integer m4=new Integer(yy);
        String s=m2.toString() + "/"+ m3.toString() + "/" + m4.toString();

        return s;
    }

}

public class mai
{
public static void main(String... args)
{

    date d=new date();
    System.out.println(d);

}

} 
```

# c++ - WinSock closesocket() call takes one second on some computers

> ID：10023430
> 
> 赞同：3
> 
> 时间：2012-04-05T06:06:57.203
> 
> 标签：c++, windows, winsock, closesocket

This call should return after only a very short time, but on some machines it inexplicably takes very close to 1 second. Has anyone seen this issue. I am using the loopback address so the network should be out of the picture.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:14:09.900

问题可能出在窗口套接字实现内部的某个地方。从操作系统的角度来看，调用`closesocket`（或`CloseHandle`）相当于释放驱动程序的“设备”对象。大多数驱动程序会立即（同步）处理此请求，并在必要时中止所有（潜在的）未完成的 I/O。然而，“愚蠢”的驱动程序可能会阻止你，直到完成*某些事情*。

这就是我要做的：

*   尝试终止您的程序（通过任务管理器）。终止它需要时间吗？（如果是这样 - 似乎它已被驱动程序锁定）。
*   如果您正在谈论流套接字（即 TCP 或类似的） - 尝试使用`SO_DONTLINGER`选项。也就是说，指定您不想等到所有待处理的数据都发送到对等方。

# lucene.net - 使用 lucene.net 的 azure 库时，在 lucene 索引中搜索有点慢

> ID：10023434
> 
> 赞同：1
> 
> 时间：2012-04-05T06:07:32.027
> 
> 标签：lucene.net, azure-storage

我正在使用 Azure Library for Lucene.Net 来索引和搜索数据。我的 webrole 索引数据，下面的代码用于创建索引：

```
AzureDirectory azureDirectory = new AzureDirectory(CloudStorageAccount.Parse(RoleEnvironment.GetConfigurationSettingValue("AzureStorageConnectionString")), pIndexDir);

IndexWriter indexWriter  = indexWriter = new IndexWriter(azureDirectory, null, findexExists, IndexWriter.MaxFieldLength.UNLIMITED);
indexWriter.SetRAMBufferSizeMB(10.0);
indexWriter.SetUseCompoundFile(false);
indexWriter.SetMaxMergeDocs(10000);
indexWriter.SetMergeFactor(100); 
```

和我相同的 webrole 搜索数据，下面的代码用于搜索索引。

```
 AzureDirectory azureDirectory = new AzureDirectory(CloudStorageAccount.Parse(RoleEnvironment.GetConfigurationSettingValue("AzureStorageConnectionString")), pIndexToSearch);
 IndexSearcher searcher = new IndexSearcher(azureDirectory,true); 
```

由于默认情况下 AzureDirectory 将缓存存储在本地临时文件夹中，上述代码将使用本地 tenp 文件夹进行缓存。

在服务定义文件中，我没有为 Web 角色配置本地存储资源。

我正在使用小型 VM 角色大小。

我的问题是当我搜索任何单词时，**搜索结果的检索速度都没有达到应有的速度......它有点慢。**

我不确定我是否缺少任何配置......或者我是否需要创建一个带有指向 blob 存储的 RAMDirectory 的 AzureDirectory 以进行搜索，以便它更快。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-09T10:00:54.853

创建一个带有指向 Blob 存储的 RAMDirectory 的 AzureDirectory 以加快搜索速度。我可以在 RAMDir 中加载所有索引，因为我的索引大小足够小，可以在 RAMDir 中加载。此外，我使用单例，以便索引搜索器的同一实例是用户并以特定间隔重新加载 RAMDir，以便它具有最新更新的索引。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T12:00:25.080

我编写了一个使用 Azure 共享缓存的版本（预览版）。这将更接近 RAM 目录的速度，但还具有在实例之间共享它的额外优势......

[https://github.com/ajorkowski/AzureDataCacheDirectory](https://github.com/ajorkowski/AzureDataCacheDirectory)

# c - C中的签名除法

> ID：10023440
> 
> 赞同：7
> 
> 时间：2012-04-05T06:07:48.353
> 
> 标签：c, portability, division

我正在阅读`C Traps and Pitfalls`Andrew Koening 的书中关于 C 可移植性的部分。

在整数除法上

```
q = a/b;
r = a%b; 
```

如果 a 是负数，显然提醒*r*可以是负数或正数，同时满足性质

```
q * b + r == a 
```

通常，如果股息*a*为负，我预计*r*为负。这就是我在带有 gcc 的英特尔机器上看到的。我只是好奇你有没有见过当股息为负数时会返回积极提醒的机器？

 ** * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-05T06:21:46.827

C99 将余数形式化为与股息具有相同符号。在 C99（C89 和 K&R）之前，它可能会采取任何一种方式，因为两种结果都符合技术要求。在这件事上，确实有编译器不符合 C99 规范，尽管我不知道有任何编译器。

特别是，第 6.5.5 节（乘法运算符）指出：

> ¶5 / 运算符的结果是第一个操作数除以第二个操作数的商；% 运算符的结果是余数。在这两个操作中，如果第二个操作数的值为零，则行为未定义。
> 
> ¶6当整数被除法时，`/`运算符的结果是代数商，其中任何小数部分被丢弃。^(87))如果商`a/b`是可表示的，则表达式 `(a/b)*b + a%b`应等于`a`。
> 
> ^(87))这通常被称为“向零截断”。

有了这个新定义，余数基本上被定义为你期望它在数学上是什么。

编辑

为了解决评论中的问题，C99 规范*还*指定（脚注 240）如果余数为零，则在没有符号零的系统上，r 的符号将与除数 x 的符号相同。

> ''当 y ≠ 0 时，余数 r = x REM y 由数学关系 r = x - ny 定义，与舍入模式无关，其中 n 是最接近 x/y 精确值的整数；每当| n - x/y | = 1/2，则 n 为偶数。因此，余数总是准确的。**如果 r = 0，则其符号应为 x 的符号。**'' 此定义适用于所有实现。*

# java - 星号（通配符匹配）和 url 模式

> ID：10023442
> 
> 赞同：1
> 
> 时间：2012-04-05T06:08:09.710
> 
> 标签：java, jakarta-ee, servlets

我想要一个用于特定 URL 的“显式”servlet 和一个用于处理所有其他 URL 的默认（某种包罗万象的）servlet。所以我创建了这样的 web.xml 文件：

```
 <servlet>
    <servlet-name>My myindex.html servlet</servlet-name>
    <servlet-class>in.shakir.web.MyIndexServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>My myindex.html servlet</servlet-name>
    <url-pattern>/myindex.html</url-pattern>
  </servlet-mapping>

  <servlet>
     <servlet-name>My all others servlet</servlet-name>
     <servlet-class>in.shakir.web.MyHandlerServlet</servlet-class>
  </servlet>
  <servlet-mapping>
     <servlet-name>My all others servlet</servlet-name>
     <url-pattern>*</url-pattern>
  </servlet-mapping> 
```

但是它不工作（即使是 /myindex.html 也出现 404 错误）我使用的是 Tomcat 7。

但是，如果我从 web.xml 中删除第二个（默认或全部）部分，则 myindex.html 可以正常工作。那么我的 url-pattern 有什么问题？请指教。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:10:24.353

改变

```
<url-pattern>*</url-pattern> 
```

到

```
<url-pattern>/*</url-pattern> 
```

看到[这个](http://www.roguewave.com/portals/0/products/hydraexpress/docs/3.5.0/html/rwsfservletug/4-3.html)了解更多信息。

# hibernate - Hibernate, session, lazyloading

> ID：10023444
> 
> 赞同：4
> 
> 时间：2012-04-05T06:08:27.120
> 
> 标签：hibernate, lazy-loading, hibernate-session

I am developing a Java web application using Hibernate and JSF/primefaces. am sometimes getting errors like

1) an object with same identifier is already associated with session.

2) failed to load lazy initialization *****,no session exist or session is already closed.

I know this is due to improper coding in my app. this is the way am doing aap:

When a user requests for a page(Let it be a list of Employees). the user will get the employee list page(empployeeList.xhtml) EmployeeListMBean is the managed bean for this page. in the managed bean in the constructor, am calling a method populateEmployees(). populateEmployee() will use the EmployeeDao method getAllEmployee() to getAllemployees.

*Employee Class goes here:*

```
@Entity
@Table(name = "Employee")
@NamedQueries({
    @NamedQuery(name = "Employee.getAllEmployee", query = "from Employee"),
    @NamedQuery(name = "Employee.findEmployeeByFirstName", query = "from Employee where firstName = :firstName"),
    @NamedQuery(name = "Employee.findEmployeeByLastName", query = "from Employee where lastName = :lastName"),
    @NamedQuery(name = "Employee.findEmployeeByMiddleName", query = "from Employee where middleName = :middleName"),
    @NamedQuery(name = "Employee.findEmployeeByOffice", query = "from Employee where office.id = :officeId")
})
public class Employee implements Serializable {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name = "EID")
    private long id;
    @Column(name = "FIRST_NAME")
    private String firstName;
    @Column(name = "LAST_NAME")
    private String lastName;
    @Column(name = "GENDER")
    private String gender;
    @Column(name = "DOB")
    @Temporal(javax.persistence.TemporalType.DATE)
    private Date dateOfBirth;
    @Column(name = "DOH")
    @Temporal(javax.persistence.TemporalType.DATE)
    private Date dateOfHire;
    @ManyToOne(cascade= CascadeType.ALL)
    private Office office;
    @OneToOne(cascade = CascadeType.ALL)
    private ResidenceAddress residence;
    @OneToMany
    private List<Project> projects;

    //getters and setters

} 
```

here is my EmployeeDao:

```
public class EmployeeDao implements Serializable{
    private SessionFactory factory;
    private Session session;
    public void addEmployee(Employee employee){
        factory = HibernateUtil.getSessionFactory();
        session = factory.openSession();
        session.beginTransaction();
        session.save(employee); 
        session.getTransaction.commit();        
    }
    public List<Employee> getAllEmployee(){
        factory = HibernateUtil.getSessionFactory();
        session = factory.openSession();
        session.beginTransaction();
        List<Employee> cities = session.getNamedQuery("Employee.getAllEmployee").list();
        session.close();
        return cities;
    }

    public Employee getEmployeeByEmployeeId(long employeeId){
        factory = HibernateUtil.getSessionFactory();
        session = factory.openSession();
        session.beginTransaction();
        Employee employee = (Employee) session.get(Employee.class, employeeId);
        session.close();
        return employee;
    }    
} 
```

Question 1) here, in the methods I am closing the session and then return back the result to managedbeans. so in the employee listing page the table list out name dob dateOfHire. and I have a buutton view more detail. on clicking this button, I want to display all projects of selected employee working on using the same managedbeans but, it is giving me error(2), failed to lazyload, no session or session already closed. if I keep the session opened in the getemployeeMethod of dao, I guess that may lead to a memory leak problem, or someother problem. is it so? also, I have tried lazy and eager loading. please give me a clear idea when/how to use these type of fetching. How can I solve this? can I go for filters or facelisteners for solving this?

Question 2) if am trying to edit a project of an employee, and update using session.saveorupadte(), merge(),flush(), am getting an error like this, "an object with same identifier is already associated with session" How can I solve this?

Question 3) I know that sessionfactory is resource consuming. so only single instance is enough for one app. but what about session? for a SINGLE USER of app, only one session is needed? please tell me good strategy for developing such an app.

Thanking you all :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-08T19:08:10.473

我认为您的第一个问题的答案是您不会在每次使用时都提交会话。我的意思是在 getAllEmployee 和 getEmployeeByEmployeeId 方法中你不会提交你的事务。您可以添加 `session.getTransaction.commit();` 我不确定，但您的第一个问题可能会导致第二个问题，因为事务未提交。对于会话的好策略，你可以看看[这个](https://community.jboss.org/wiki/OpenSessionInView)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T13:38:17.807

正如另一个答案中所说，您应该是`commiting`您已经开始的交易。读取数据时不需要事务。

> 问题1：延迟加载。

您需要[延迟加载](https://stackoverflow.com/q/2192242/507864) `projects`，以便它可以在您的视图中自由使用。为此，修改代码如下，

```
@OneToMany(fetch=FetchType.LAZY)
private List<Project> projects; 
```

> 问题2：具有相同标识符的对象已经存在。

调试并找出`id`您要保存的对象是什么。如果没有您的错误的堆栈跟踪，我在这里无能为力。

> 问题3：会话和会话工厂。

[这是本文](http://www.javalobby.org/java/forums/t104442.html)中两者之间的区别。

> SessionFactory 是单个数据存储的 Hibernates 概念，并且是线程安全的，因此许多线程可以同时访问它并请求会话和单个数据库的已编译映射的不可变缓存。SessionFactory 通常只在启动时构建一次。SessionFactory 应该包装在某种单例中，以便可以在应用程序代码中轻松访问它。
> 
> Session 是一个轻量级且非线程安全的对象（不，您不能在线程之间共享它），它表示与数据库的单个工作单元。会话由 SessionFactory 打开，然后在所有工作完成后关闭。Session 是持久化服务的主要接口。会话延迟获取数据库连接（即仅在需要时）。为避免创建太多会话，无论调用 currentSession() 方法多少次，都可以使用如下所示的 ThreadLocal 类来获取当前会话。

`session`因此，在您的代码中，您应该为每次关闭方法时创建一个局部变量并关闭它。

# mysql - DateTime 转换以支持 mysql datetime datetype

> ID：10023457
> 
> 赞同：0
> 
> 时间：2012-04-05T06:09:33.460
> 
> 标签：mysql, php

如何在 php 中转换此日期时间“2012 年 4 月 17 日 05:50 PM”以支持 mysql 日期时间格式，即 2012-04-17 17:50:00（默认秒为 00）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:25:33.840

**使用标准[DateTime::createFromFormat](http://php.net/manual/en/datetime.createfromformat.php)类**，

```
$date = DateTime::createFromFormat('d M, Y H:i A', '17 Apr, 2012 05:50 PM');
echo $date->format('Y-m-d H:i:s'); 
```

**更新：** 刚刚做了一些基准测试。似乎`DateTime::createFromFormat`方法比方法**快 1.3 倍**`strtotime, str_replace`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:13:26.170

使用[strtotime()](http://php.net/manual/en/function.strtotime.php)函数

```
 $time = str_replace(',', '', "17 Apr, 2012 05:50 PM"); //remove comma
 $mysql_date =  date('Y-m-d H:i:s', strtotime($time)); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-04-05T06:12:01.443

`strtotime`使用函数转换时间

# objective-c - 字符串相等性测试未正确匹配

> ID：10023458
> 
> 赞同：0
> 
> 时间：2012-04-05T06:09:45.193
> 
> 标签：objective-c

我有一个字符串数组。该数组是通过将一个以逗号分隔的长字符串解析为几个组件字符串来创建的。我可以 NSLog 这些组件并且它们显示正确。但是，如果我为 NSLog 显示它包含的对象测试这些组件之一，测试仍然失败：

```
NSArray*parseLine=[[NSArray alloc] initWithArray:[newline componentsSeparatedByString:@","]];

NSLog(@"*%@*"[parseLine objectAtIndex:1]); 
```

输出：

```
*N/A* 
```

很明显，“N/A”就在那里，这三个字符正是如此。

但是，这未通过测试：

```
if ([parseLine objectAtIndex:1]==@"N/A") //never passes 
```

也试过这个：

```
if ((NSString*)[parseLine objectAtIndex:1]==@"N/A") 
```

为什么它没有通过测试？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:11:31.907

`==`指地址指针和字符串。

检查相等性 try`isEqualToString`函数

所以那将是

`if([parseLine objectAtIndex:1] isEqualToString:@"N/A"])`

# java - 将jTable选择导出到excel并打开excel

> ID：10023461
> 
> 赞同：0
> 
> 时间：2012-04-05T06:10:12.603
> 
> 标签：java, swing, excel, export, jtable

我有一个包含很多记录的 jtable；我需要选择 jTable 中的一些记录并将其与所选列的 jTable Header 一起输出到 Excel。Excel 应该在导出时自动打开所选数据。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:19:17.800

您可以使用以下代码从 JTable 创建文件

```
BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(file,true));
    PrintWriter fileWriter = new PrintWriter(bufferedWriter);

    for(int i=0; i<model.getRowCount(); ++i)
    {
        for(int j=0; j<model.getColumnCount(); ++j)
        {
            String s = model.getValueAt(i,j).toString();
            fileWriter.print(s + ",");

        }
        fileWriter.println("\n");
    }   
    fileWriter.close(); 
```

这段代码所做的是创建一个 CSV 文件，您需要了解如何创建文件、什么是 csv 文件以及如何打开它。

# sql - 在一个查询中执行多个 SQL 查询（也就是节省了两次网络往返）

> ID：10023463
> 
> 赞同：2
> 
> 时间：2012-04-05T06:10:13.500
> 
> 标签：sql

假设您从 Web 服务器到 DBA 服务器的连接非常慢，并且您需要执行一系列三个查询来处理单个 Web 请求。有没有办法将查询组合成一个？假设以下场景

```
person.id person.name
1         James
2         Stacy 
```

.

```
country.id country.name
1          USA
2          UK 
```

.

```
location.person_id location.country_id
1                  1
1                  2 
```

网络表单将发布两个变量，即 name="James" country="China" 并且您想要执行以下操作

*   “James”是否存在，如果不存在，插入 james
*   “中国”是否存在，如果不存在，插入china
*   “詹姆斯”是否住在“中国”，如果不插入关系

即类似的东西

```
select person.id, country.id, location.person_id
from person, country, location
where
    person.name="James" and
    country.name="China" and
    person.id=location.id and country.id=location.country_id 
```

上面的查询没有用，因为如果人员、国家或地点不存在，它将不返回任何记录。

我知道使用存储过程可以做到这一点，但并非所有数据库都支持存储过程。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T06:21:12.393

解决方法很简单

```
SELECT (SELECT person.id from person WHERE person.name = 'James') as Name,
       (SELECT country.id from country WHERE country.name="China") as Country,
       (SELECT location.person_id from location WHERE person.id = location.id and country.id = location.country_id and person.name = 'James' and country.name="China") as Location 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-05T06:20:38.730

尝试这样的事情（使用 a `UNION`）：

```
SELECT 
    id  as id,
    'PERSON' as type
FROM person
WHERE name = 'James'
UNION
SELECT 
    id as id,
    'COUNTRY' as type
FROM country
WHERE name = 'China'
UNION
SELECT 
    person_id as id,
    'LOCATION' as type
FROM location
JOIN person ON person.id = location.person_id
JOIN country ON country.id = location.country_id
WHERE person.name = 'James'
AND   country.name = 'China' 
```

这将为您提供与各自名称匹配的所有行及其类型。看看 raheel shan 的回答，我认为这会更快，将其视为一种可行的替代方案 :-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T06:32:40.077

如果您使用的是 MSSQL（从您的问题中很难看出），它支持多个记录集。您可以通过连接字符串启用它，从存储过程中执行多项选择，并通过数据集作为多个数据表访问它...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T06:29:11.437

如果您可以在一个数据集中获取整个数据，那么您应该使用完全连接

```
select person.*, country.*, location.*
from person
full join location
on person.id=location.id
full join country
on country.id=location.country_id
where isnull(person.name,'James')='James' and
isnull(country.name,'China')='China' 
```

# php - Centos 5.4 上的 php 5.2.5

> ID：10023466
> 
> 赞同：0
> 
> 时间：2012-04-05T06:10:45.627
> 
> 标签：php, drupal-7, centos

我的客户正在使用具有 PHP 5.2.4 的 Centos 5.4。我们希望将 Drupal 7 用于他的站点之一，但是 Drupal 7 需要 PHP 5.2.5。

我尝试使用 yum 更新 Centos 中的 php 版本，但我得到类似：没有标记为更新的包

有什么办法可以让 PHP 更新到正确的版本吗？

谢谢

雨果

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-28T22:47:37.913

php 5.2 已经过时了。如果您需要更新版本的 php，请遵循以下代码：

```
yum install php53 
```

或从源代码编译

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-10T22:09:29.950

[您可以在此处](http://in.php.net/releases/index.php)下载源代码包并在您的机器上编译 PHP 5.2.5。

# css - soundcloud html5 小部件 iframe 是否可以通过 css 设置样式？

> ID：10023470
> 
> 赞同：5
> 
> 时间：2012-04-05T06:11:26.663
> 
> 标签：css, iframe, soundcloud

我想使用 html5 小部件 + 它的 api (http://developers.soundcloud.com/docs/html5-widget) 我的问题：可以通过 CSS 设置小部件的样式吗？加载播放器后，FireBug 会显示样式信息，我想知道是否可以更改这些样式？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T22:22:07.900

不，这是不可能的。该小部件被插入到 iframe 中的页面中，我认为不可能从外部更改 iframe 内的样式。唯一满足的“样式”是通过“颜色”url参数更改按钮和波形的颜色。

例如，这是一个用户的声音小部件，带有漂亮的粉红色按钮和波形突出显示：

[http://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Fusers%2F2&show_artwork=true&show_comments=false&color=ff00ff&show_playcount=false&likes=false](http://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Fusers%2F2&show_artwork=true&show_comments=false&color=ff00ff&show_playcount=false&liking=false)

这是为易读性重新格式化的网址：

```
http://w.soundcloud.com/player/
?url=http%3A%2F%2Fapi.soundcloud.com%2Fusers%2F2
&show_artwork=true
&show_comments=false
&color=ff00ff    <-----
&show_playcount=false
&liking=false 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-23T16:29:37.587

那家伙使用 SoundCloud API、一些 JavaScript 和 CSS 做到了：

[http://codepen.io/nickcolley/pen/uoCIy](http://codepen.io/nickcolley/pen/uoCIy)

```
$(document).ready(function(){

  var player = SC.Widget($('iframe.sc-widget')[0]);
  var pOffset = $('.player').offset();
  var pWidth = $('.player').width();
  var scrub;

  player.bind(SC.Widget.Events.READY, function() {
    setInfo();
    player.play();
  }); //Set info on load

  player.bind(SC.Widget.Events.PLAY_PROGRESS, function(e) {
    if( e.relativePosition < 0.003 ) { setInfo(); }
    //Event listener when track is playing
    $('.position').css('width', ( e.relativePosition*100)+"%");
  });

   $('.player').mousemove(function(e){ //Get position of mouse for scrubbing
    scrub = (e.pageX-pOffset.left);
  });

  $(document).on('keydown', function(e){
    switch(e.keyCode){
      case 32:
        player.toggle(); 
      break;
      case 39:
        player.next();
      break;
      case 37:
        player.prev();
      break;
    }
  });

  $('.player').click(function(){ //Use the position to seek when clicked
    $('.position').css('width',scrub+"px");
    var seek = player.duration*(scrub/pWidth); 

    //Seeking to the start would be a previous?
    if ( seek < player.duration * .05 ) {
      player.prev();
    } else if ( seek > player.duration * .99 ) {
      player.next();
    } else {      
      player.seekTo(seek);
    }

  });

   function setInfo() {
    player.getCurrentSound(function(song) {
      console.log(song);

      $('.waveform').css('background-image', "url('" + song.waveform_url + "')");    
      $('.player').css('background-image', "url('" + song.artwork_url.replace('-large', '-t500x500') + "')");

      var info = song.title;
      $('.info').html(info);

      player.current = song;
    });

    player.getDuration(function(value){
      player.duration = value;
    });

    player.isPaused(function(bool){
      player.getPaused = bool;
    });
  }   

}); 
```

# javascript - 如何在 Circle 类之上实现 Shape 类？

> ID：10023476
> 
> 赞同：0
> 
> 时间：2012-04-05T06:11:44.873
> 
> 标签：javascript

如何`Shape`在 Circle 之上实现类？我的意思是 Circle 和 Rectangle 类应该继承自 Shape。

如果有人提供真正的代码，我会很高兴:)

在这里，我也制作了带有原型定义的 Circle 类。

```
function Circle(radius){
 this.radius = radius;
 Circle.prototype.area = function(){return (Math.PI)* (Math.pow(this.radius,2));};
 }

 var circle1 = new Circle(5);
 circle1.radius; //5
 circle1.area() //78.53 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:19:43.170

您可以使用原型在 JS 中为 ex 实现继承：

```
ChildClassName.prototype = new ParentClass(); 
```

在您的情况下定义形状类，然后像这样扩展它：

```
Circle.prototype = new Shape(); 
```

这将为您提供有关相同内容的更多信息：- [http://phrogz.net/js/classes/OOPinJS2.html](http://phrogz.net/js/classes/OOPinJS2.html)

# asp.net - 我们如何在 dhtmlx asp.net 调度程序中更改不同事件的背景颜色

> ID：10023481
> 
> 赞同：1
> 
> 时间：2012-04-05T06:12:07.853
> 
> 标签：asp.net, dhtmlx

我正在使用 dhtmlx asp.net 调度程序。

我已经从数据库中绑定了一些事件。

现在我不知道如何更改不同事件的背景颜色。

我已经阅读了文档，但即使那样我也找不到它。

如果您有任何想法，请帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T09:46:59.563

事件的颜色由 'color' 和 'textColor' 属性定义，你应该将它们添加到模型中（不需要同时定义它们，你可以只添加你需要的一个）例如

```
partial class Event
    {
        public string color { get; set; }//background color
        public string textColor { get; set; }//text color
    } 
```

或者您可以在客户端管理颜色 -

```
scheduler.getEvent(id).textColor = "#ff0000"; 
```

您还可以检查包装中的“CustomField”示例

**更新**

> 嗨，使用 scheduler.getEvent(id).id = 5; 该值已设置但未刷新。并且当调度程序是 dblclick 时，会弹出一个添加事件表单，然后才会更新事件值。如何在设置值后立即刷新调度程序？

如果它仍然是实际的，则不应直接更改事件 id，id 绑定到几个内部事物，因此修改它可能会导致麻烦。最好使用 scheduler.changeEventId 方法。

```
scheduler.changeEventId(oldId, newId); 
```

修改事件后，可以重绘它

```
scheduler.updateEvent(event_id); 
```

或者刷新整个调度器

```
scheduler.updateView(); 
```

# c - 立即地址传输不一致 SPLINT

> ID：10023483
> 
> 赞同：1
> 
> 时间：2012-04-05T06:12:19.623
> 
> 标签：c, splint

我在这里有一个代码段，但 SPLINT 在这里给了我一个警告

```
"tcpuip\dhcpc\dhcpc.c: (in function send_discover)
tcpuip\dhcpc\dhcpc.c(219,21): Immediate address &m->options[4] passed as only
                                 param: add_msg_type (&m->options[4], ...)
  An immediate address (result of & operator) is transferred inconsistently.
  (Use -immediatetrans to inhibit warning)
" 
```

```
 static void send_discover(void)
    {
            u8_t *end;
            struct dhcp_msg *m = (struct dhcp_msg *)uip_appdata;

```
 create_msg(m);

        end = add_msg_type(&m->options[4], DHCPDISCOVER);   //line 219
        end = add_req_options(end);
        end = add_end(end);  

        uip_send(uip_appdata, end - (u8_t *)uip_appdata);
} 
``` 
我正在尝试解决此问题，请任何人都可以通过一些了解。我已经在谷歌上搜索了 3 个小时，还没有找到解决方案。
```

# c# - 全球课程不会改变我的价值

> ID：10023487
> 
> 赞同：0
> 
> 时间：2012-04-05T06:12:57.820
> 
> 标签：c#, winforms, static-members

我创建了一个全局类，其中包含我在整个程序中需要的大部分信息，问题是当我更新余额并返回检查余额时它保持不变，尽管当我通过代码时，它显示我正在修改它..这是我的全球课程

```
public class Global
{

    public static decimal AccountBalance
    {
        get { return _AccountBalance; }
        set { _AccountBalance = value; }
    } 
```

因此，当我更新帐户时，我会

```
Global.AccountBalance  = acct.AccountBalace; 
```

但是我有一条消息，如果这个人想看到这样的余额，稍后会显示金额

```
lblBalance.Text = "Your Balance : " + Global.AccountBalance.ToString("C", ctr); 
```

但是那条线仍在恢复旧的平衡......让我知道我可能做错了什么的任何帮助都会非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T09:16:05.277

好的，吸引我注意的是： `public override bool AdjustAccountBalance`。
我建议这`public override`意味着这段代码可以从任何地方调用。
在这种情况下，我通常遵循肮脏但可靠的方法：

*   添加属性设置器和方法的所有调用（带有时间戳和堆栈跟踪）的日志记录（到本地文件`C:\log.txt`，我警告这是肮脏的方式:)）； `Global.AccountBalance``AdjustAccountBalance`
*   重现问题；
*   挖掘日志并调查对上述方法的所有调用；找到“aha-there-it-is”-代码；
*   ？？？
*   利润

因此，您的代码将类似于：
Helper 类：

```
internal static class LogHelper
{
    public void LogCall(string method, string details, StackFrame[] stackTrace)
    {
        var sb = new StringBuilder();
        sb.Append(DateTie.Now.ToShortTimeString() + ": " method + "{" + details + "}");
        foreach (StackFrame stackFrame in stackTrace)
        {
            sb.AppendLine(stackFrame.GetMethod().Name);
        }

        File.AppendText("C:\\log.txt", sb.ToString());
    }
} 
```

AdjustAccountBalance 方法（修改片段）：

```
public override bool AdjustAccountBalance(Account acct, decimal amount, string transType)   
{
.. lots of your code posted in question..
 case "D":
 LogHelper.LogCall("AdjustAccountBalance","D-case",new StackTrace().GetFrames())
 acct.AccountBalace += amount;                           
 Global.AccountBalance  = acct.AccountBalace;                           
 break;                       
 case "W":                           
 if (acct.AccountBalace >= amount)                           
 {
LogHelper.LogCall("AdjustAccountBalance","W-case",new StackTrace().GetFrames())
 acct.AccountBalace -= amount;                               
 Global.AccountBalance = acct.AccountBalace;       

 }                       
 break;   
.. lots of your code posted in question..

 } 
```

`AccountBalance`类属性`Global`：

```
public static decimal AccountBalance
 {            
  get { return _AccountBalance; }
  set {
   LogHelper.LogCall("set_AccountBalance","value is " + value,new StackTrace().GetFrames())
  _AccountBalance = value; 
  }        
  } 
```

希望这可以帮助 ...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:42:43.507

当你这样做时：

```
Global.AccountBalance  = acct.AccountBalace; 
```

'acct' 是什么类型的？如果它是 Global 类型，那么该行将什么也不做，因为您将静态 _AccountBalance 分配给它自己。

# java - 正则表达式将字符串与 URL 中的另一个字符串 Patten 匹配，或者我可以使用一些字符串类方法？

> ID：10023489
> 
> 赞同：0
> 
> 时间：2012-04-05T06:13:05.560
> 
> 标签：java, regex

字符串 urlString="http://myApp:8080/new/bin/save/SellerMyPage/WebHome"

我想检查上面的字符串是否包含两个正斜杠之间的字符串“MyPage”。它也应该在斜线之间，并且应该以一些字符为前缀。这是我期待的结果

```
 "http://myApp:8080/new/bin/save/SellerMyPage/WebHome"  should return true
 "http://myApp:8080/new/bin/save/SellerMyPage1/WebHome"  should return false(its not ending with MyPage)
"http://myApp:8080/new/bin/save/MyPage/WebHome"  should return false(MyPage is not prefixed with any any character) 
```

看起来我需要同样使用正则表达式？如果有人可以帮助我解决正则表达式，将不胜感激？

如果它包含，我想在第一种情况下提取该字符串，它应该返回 SellerMyPage

对于提取部分，我使用了下面的代码片段，但对我来说，我不相信它是优化的方式。我确定应该有比这更好的方法吗？

```
 String extractedElement="";
 String[] urlSpliArray=urlString.split("/");
        for(String urlElement:urlSpliArray)
        if(urlElement.endsWith("MyPage"))
        {
            extractedElement=urlElement;
        } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-05T06:29:19.930

```
Pattern p = Pattern.compile("^.*/([^/]+MyPage)/.*");
Matcher m = pattern.matcher(urlString);
if (m.find()) {
  extractedElement = m.group(1);
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-05T06:28:59.903

使用真正的正则表达式`Pattern`和`Matcher`类，不要使用`String.split`. 您可以使用以下正则表达式（警告：未经测试且未转义以用作字符串）：

```
^.*?([^/]+?MyPage/).*$ 
```

# objective-c - 应用程序在未连接到 mac 时崩溃，通过 Xcode 运行良好

> ID：10023491
> 
> 赞同：-2
> 
> 时间：2012-04-05T06:13:20.027
> 
> 标签：objective-c, ios, xcode

由于某种原因，当我在没有 Xcode 的情况下运行它时，我的应用程序崩溃了。当它通过 Xcode 运行时，完全没有问题。我不知道为什么会这样。

有没有人发生在他们身上？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:26:16.717

尝试先阅读崩溃报告。

将设备与 iTunes 同步，将崩溃报告从设备复制到运行 iTunes 的系统上

报告的位置取决于操作系统：

Mac OS X：~/Library/Logs/CrashReporter/MobileDevice/

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:36:45.000

如果您的应用程序在启动时崩溃，您应该检查您的代码以查看您没有使用 iOS 不支持的方法或库。

# mysql - 如何通过两台 SSH 主机连接 MySQL 数据库

> ID：10023494
> 
> 赞同：5
> 
> 时间：2012-04-05T06:13:29.663
> 
> 标签：mysql, ssh

如何通过两个 SSH 主机连接到 MySQL 数据库？

这是我的情况：我有两个 SSH 主机，如下所示。MySQL 在 BOX2 主机上运行。

```
MyBox(MySQL GUI client) -----SSH(port 22)--->BOX1(IP: 190.xx.xx.xx)---SSH(port 22)--->BOX2(IP: 190.xx.xx.xx)[MySQL server] 
```

我的问题是，如果我有多个 SSH 主机进行隧道连接，如上图所示，我该如何连接？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T06:57:54.590

我认为这会有所帮助。从 MyBox 尝试这个命令（具有 MySQL 客户端）

```
ssh user@box1 -L some-local-port:box2:22 
```

现在从客户端尝试连接以这种方式连接

```
MySQL host : localhost
MySQL usernmae : mysql-username-of-server-installed-at-Box2
MySQL password : mysql-password-of-server-installed-at-Box2
MySQL port : 3306 (suppose mysql server at Box-2 is listening at port 3306) 
```

在隧道信息中

```
SSH host : localhost
SSH pass : ssh-password-of-Box2
SSH port : some-local-port 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-05T06:22:32.713

尝试以下操作：

```
ssh -L 33306:localhost:33306 user@box1_hostname ssh -L 33306:localhost:3306 user@box2_hostname 
```

然后尝试使用 127.0.0.1:33306 连接到 mysql。请注意，box1 上的任何人都可以使用端口 33306，这对您来说可能是也可能不是问题。

另一种实现相同目的的方法是使用此处解释的[ProxyCommand](http://www.statusq.org/archives/2008/07/03/1916/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-29T06:25:21.973

我使用 Putty 客户端的替代解决方案如下。

1.  首先在 Putty 应用程序上配置一条从 MyBox 端口 3300 到 Box1 端口 3300 的隧道。
2.  将 Putty 连接到 Box 1
3.  键入以下命令在 Box1 和 Box2 之间建立隧道 ssh -L 3300:localhost:3306 root@Box2_IP
4.  将 Mysql 客户端连接到 localhost:3300

Putty 配置截图如下。 [![Puttuy 配置连接屏幕](../Images/4133d864290bc4a53c81b174b74ade22.png)](https://i.stack.imgur.com/uwpqG.png)

[![腻子隧道配置屏幕](../Images/6c779902dd332ab971bd1ebd74219101.png)](https://i.stack.imgur.com/xCcey.png)

# asp.net - wcf 使用 basichttpBinding 的用户名和密码安全性——基于消息

> ID：10023497
> 
> 赞同：2
> 
> 时间：2012-04-05T06:13:44.193
> 
> 标签：asp.net, wcf, web-services, security

我已经创建了一个带有`ServiceContract`on 接口及其`OperationContract`所有方法的接口。我在一个类中实现了这个接口，然后在我的 asp.net 网站中添加了 wcf 服务，它创建了一个 svc 文件（因为我想用我的网站在 IIS 中托管它）。现在该服务已启动并可在`http://localhost:8732/webui/webservice/camservice.svc`. 现在我想为此服务启用用户名和密码身份验证。我想`svc`使用`basicHttpBinding`是因为我不必在我的 web.config 中进行任何配置以使其运行。现在如何在此服务上启用用户名/密码身份验证？互联网上有很多文章，但我相信 wcf 安全性是如此巨大，以至于我无法使用我使用的方法对用户名/密码身份验证进行集中解释。我正在使用 .net 4.0 与 2010

**编辑：**好的，我已经把问题缩小了一点。我相信，消息级别的安全性是我所需要的

```
<security mode="Message">
                <message clientCredentialType="Certificate" />
            </security> 
```

我本可以选择 SSL，但为此，我必须为每个服务调用去 db 并验证用户。我更喜欢的是该服务为具有有效证书的客户提供服务。[我从这篇文章](http://www.theserverside.net/tt/articles/showarticle.tss?id=SecuringWCFService)中得到了很多信息。它没有解释的是如何在客户端和服务器上设置 x509 证书，以及如何控制只有我的客户端才能获得有效证书。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T15:29:53.580

如果你想在没有 SSL 的情况下实现用户名密码验证，你可以使用一种叫做[ClearUsernameBinding](http://webservices20.blogspot.co.uk/2008/11/introducing-wcf-clearusernamebinding.html)的东西，它允许你通过 http 传输用户名/密码。

**注意**：仅当您的服务位于公司防火墙后面时才使用此选项，该防火墙为托管您的服务的服务器提供足够的安全性。

在使用 2 路 SSL 方面，您需要在您的服务器上安装由受信任的机构颁发的服务证书 .pfx 或本地计算机帐户的个人存储文件夹下的自签名证书。

然后，对于客户端证书，您需要请求客户端发送一个 .cer 文件并将其安装在您的服务器上本地计算机帐户的 Trusted People 存储文件夹下。

在客户端计算机上，您需要在当前用户的个人存储文件夹下安装客户端证书 .pfx。

注意：在您的服务器上使用自签名证书时，您的客户端通过代码执行对您的网络服务的调用需要具有以下代码，以绕过自签名证书出现的安全异常：

```
 System.Net.ServicePointManager.ServerCertificateValidationCallback = (sender, cert, chain, error) =>
                                                                             {
                                                                                 return true;
                                                                             }; 
```

# windows-services - 是否可以为 DevPartner Studio 专业版的 Windows 服务进行覆盖？

> ID：10023499
> 
> 赞同：0
> 
> 时间：2012-04-05T06:14:05.090
> 
> 标签：windows-services, code-coverage, devpartner

我的任务是使用 DevPartner Studio 专业版 10.5.3 版。我正在尝试验证是否真的没有办法为此进行 Windows 服务应用程序的覆盖？

基本上，覆盖工具在自身内部执行一个过程。该过程是否仍可在 Windows 服务的范围内覆盖？

我想介绍的 Windows 服务是在使用 Visual Basic .NET 2008 的代码上

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T20:47:57.927

在您可以从 DPS 的“信息中心”应用程序访问的文档“了解 DevPartner.PDF”中，有一个主题“从命令行开始分析”。通过那里找到的说明，可以从服务中收集性能数据。也就是说，我自己并没有这样做，因为我对产品的全部关注几乎都放在了 BoundsChecker（错误检测）组件上。

[在http://community.microfocus.com/](http://community.microfocus.com/)上的产品论坛上给我们留言，我们小组中的更多人将能够就这个话题发表意见。

# jquery - 动态添加的输入字段的无障碍客户端验证

> ID：10023503
> 
> 赞同：1
> 
> 时间：2012-04-05T06:14:21.643
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-3, unobtrusive-validation

我按照[这篇](http://jarrettmeyer.com/post/2995732471/nested-collection-models-in-asp-net-mvc-3)出色的帖子在我的 mvc3 应用程序中生成动态控件。

现在我正在尝试对电话号码字段进行客户端无障碍验证。所以我在“PhoneNumber”属性上添加了“必需”属性。

无障碍验证适用于由服务器生成/呈现的电话号码字段（即在页面加载时）。但它不适用于通过 javascript 方法动态添加的字段。

我知道我需要编写一些 jquery 代码来添加规则/适配器或通知浏览器动态添加的电话号码字段需要验证的任何内容。请帮助我如何进行。

谢谢，米

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-05T06:23:50.823

您应该重新解析所有动态添加的元素的验证规则：

```
$("form").removeData("validator");
$("form").removeData("unobtrusiveValidation");
$.validator.unobtrusive.parse("form"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:49:32.027

以下验证插件可能会对您有所帮助

[http://docs.jquery.com/Plugins/Validation](http://docs.jquery.com/Plugins/Validation)

还有页面末尾列出的示例，以了解如何有效地使用它们...

您需要为要验证的字段添加类.....

您还可以为电话号码、信用卡号码等提供输入掩码......

# node.js - mongoe 的 findOne 方法既不执行也不失败

> ID：10023504
> 
> 赞同：0
> 
> 时间：2012-04-05T06:14:24.110
> 
> 标签：node.js, mongodb

我正在尝试通过 nodejs mnogdb-native 驱动程序从 mongodb 检索数据。`mongod`console 表示连接成功。不幸的是，在控制台检索收集和记录消息“在 findOne 之前”之后，什么也没发生。看起来该`findOne`方法永远不会返回。

```
var mongo = require('mongodb'),
    config = require('./config');

var UserProvider = function() {
    this.db = new mongo.Db('chatbox', 
        new mongo.Server(config.mongoServer, config.mongoPort, {auto_reconnect: true}), {});
    this.db.open(function() {});
};

UserProvider.prototype.getCollection = function(callback) {
    this.db.collection('users', function(error, collection) {
    if (error) {
        callback(error);
    }
    else {
        callback(null, collection);
    }
    });
};

UserProvider.prototype.validateUser = function(username, password, callback) {
    this.getCollection(function(error, collection) {
        if (error) {
            console.log('error');
            callback(error);
        }
        else {
            console.log('before findOne');
            collection.findOne({login: username, password: password}, function(error, item){
                console.log('done');
                if (error) {
                    callback(error);
                }
                else {
                    callback(null, item != null);
                }
            });
        }   
    });
};

module.exports = UserProvider; 
```

谁能指出我可能的问题点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T07:08:45.480

真的是在黑暗中戳 - 但尝试将 console.log 添加到`db.open`.

如果该行之前没有出现，`'before findOne'`那么问题很可能只是数据库连接未打开。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T09:18:42.583

查看将使用您的代码的代码：

```
var myProvider = require('yourcode').UserProvider;

myProvider.validateUser('me','pwd', function(error, success) {
  console.log("Success: " + success);
}); 
```

当我到达 时`myProvider.validateUser`，我能保证它`this.db.open()`已经返回吗？通常，这整个事情是连续的。但是在 Node.JS 中，这`db.open()`不是阻塞的。所以调用到数据库然后代码继续运行，所以你实际上有一个竞争条件。

# windows-phone-7 - 想要在全景项目到达其初始位置时触发事件

> ID：10023508
> 
> 赞同：0
> 
> 时间：2012-04-05T06:14:37.413
> 
> 标签：windows-phone-7, silverlight-4.0, windows-phone-7.1, panorama-control

当第二个全景项目到达显示屏的左端时，我需要触发一个事件。我使用选择更改选项实现了该事件。但是我在滑动第一个全景项目时需要该事件，第二个全景项目出现在视图中。在谈到视图后，我想触发一个删除第一个全景项目的事件。怎么做？

# asp.net-mvc - 使用哪种 FormsAuthentication 方法？

> ID：10023517
> 
> 赞同：4
> 
> 时间：2012-04-05T06:15:18.893
> 
> 标签：asp.net-mvc, forms-authentication

我试图`FormsAuthentication`在 ASP.NET MVC 4 应用程序中创建自己的应用程序，我已经看到了两种不同的方法来创建我的 authcookie，我想知道其中一种方法是否有任何缺点，或者两者都使用是否安全，是否有在我决定使用女巫之前，我应该了解的其他差异？

第一个是

```
FormsAuthentication.SetAuthCookie(userName, rememberMe); 
```

另一个有点长

```
 var authTicket = new FormsAuthenticationTicket(
            1,
            userName,
            DateTime.Now,
            DateTime.Now.AddMinutes(30),
            rememberMe,
            "Users"
            );
        var encryptedTicket = FormsAuthentication.Encrypt(authTicket);

        var authCookie = new HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket);
        HttpContext.Current.Response.Cookies.Add(authCookie); 
```

请告诉我这个决定

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:55:38.940

实际上，第一种方法调用了第二种方法。我已经使用了源代码`SetAuthCookie`来展示这一点，但删除了一些行以保持相关性：

```
public static void SetAuthCookie(string userName, bool createPersistentCookie)
{
    FormsAuthentication.Initialize();
    FormsAuthentication.SetAuthCookie(userName, createPersistentCookie, FormsAuthentication.FormsCookiePath);
}

public static void SetAuthCookie(string userName, bool createPersistentCookie, string strCookiePath)
{
    (...)
    HttpCookie authCookie = FormsAuthentication.GetAuthCookie(userName, createPersistentCookie, flag ? "/" : strCookiePath, !flag);
    (...)
    HttpContext.Current.Response.Cookies.Add(authCookie);
    (...)
}

private static HttpCookie GetAuthCookie(string userName, bool createPersistentCookie, string strCookiePath, bool hexEncodedTicket)
{
    (...)
    DateTime utcNow = DateTime.UtcNow;
    DateTime expirationUtc = utcNow.AddMinutes((double) FormsAuthentication._Timeout);
    FormsAuthenticationTicket ticket = FormsAuthenticationTicket.FromUtc(2, userName, utcNow, expirationUtc, createPersistentCookie, string.Empty, strCookiePath);
    string str = FormsAuthentication.Encrypt(ticket, hexEncodedTicket);
    (...)
    HttpCookie httpCookie = new HttpCookie(FormsAuthentication.FormsCookieName, str);
    (...)
    return httpCookie;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:39:39.530

第二个是最好的..因为你可以发送用户数据，设置过期时间等。

我也只使用这个......它运作良好..

# c# - 为 Windows 全局获取鼠标悬停的项目/按钮/文件夹的名称/ID

> ID：10023518
> 
> 赞同：1
> 
> 时间：2012-04-05T06:15:21.290
> 
> 标签：c#, mousehover

我想要做的是通过将鼠标悬停在项目上来触发鼠标点击。如果鼠标在项目/按钮/文件夹上停留足够长的时间而没有离开，它将触发鼠标单击。我已经完成了鼠标点击触发部分。现在的问题是检测鼠标光标是否仍然在同一个项目上或已经离开它。我曾尝试使用 user32.dll 来提取信息，但它不适用于所有项目，例如文件夹中的项目和应用程序中的按钮。

```
 [DllImport("user32.dll")]
    static extern int GetDlgCtrlID(IntPtr hwndCtl);

    [DllImport("user32.dll")]
    static extern IntPtr WindowFromPoint(int xPoint, int yPoint);

    [DllImport("user32.dll", SetLastError = true, CharSet = CharSet.Ansi)]
    static extern int GetClassName(IntPtr hWnd, System.Text.StringBuilder lpClassName, int nMaxCount);

    public static int GetHoveredControlID(int xPoint, int yPoint)
    {
        return GetDlgCtrlID(WindowFromPoint(xPoint, yPoint));
    } 
```

# android - 我不明白 listFiles() 返回的文件数组的顺序

> ID：10023522
> 
> 赞同：3
> 
> 时间：2012-04-05T06:15:38.063
> 
> 标签：android

所以，我有一个 ListView 显示某个目录中所有文件的名称。此应用程序还删除文件并将新文件添加到目录中。

我希望文件按创建顺序显示，但 File( *directory* ).listFiles() 并不总是如此。如果我从一个空目录开始并开始添加文件，那么最新的文件将位于数组的位置 0，并按顺序上升到最旧的文件。但是，如果我删除任何文件然后添加新文件，事情就会变得奇怪。这是一个例子......

想象一下，我从一个空目录开始，并向其中添加了四个文件。listFiles() 返回的数组将是：

位置 0 = 文件 #4（要添加的第四个）
P 1 = 文件 #3
P 2 = 文件 #2
P 3 = 文件 #1

然后，我将删除文件#2 和#3。数组是：

P 0 = 文件 #4
P 1 = 文件 #1

到现在为止还挺好。现在，我将添加两个新文件。我希望 listFiles() 返回的新数组是：

P 0 = 文件 #6
P 1 = 文件 #5
P 2 = 文件 #4
P 3 = 文件 #1

但是，实际上是这样的：

P 0 = 文件 #4
P 1 = 文件 #6
P 2 = 文件 #5
P 3 = 文件 #1

但如果我再添加一个文件 #7，新数组将是：

P 0 = 文件 #7
P 1 = 文件 #4
P 2 = 文件 #6
P 3 = 文件 #5
P 4 = 文件 #1

基本上，如果删除了任何文件，那么新文件将填充它们在数组中的“旧位置”。在任何新文件进入位置 0 之前，必须填充所有“旧位置”。任何人都可以解释这种行为吗？此外，是否有一种快速简便的方法可以将文件数组重新排序为我想要的时间顺序？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-05T06:20:55.040

获取文件列表是使用[File.listFiles()](http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles())并且文档指出这不能保证返回文件的顺序。因此，您需要编写一个使用[File.lastModified()的](http://java.sun.com/javase/6/docs/api/java/io/File.html#lastModified())[Comparator](http://java.sun.com/javase/6/docs/api/java/util/Comparator.html)并将其与文件数组一起传递给[Arrays.sort()](http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#sort(T[],%20java.util.Comparator))。

**代码：**

```
File[] files = directory.listFiles();

Arrays.sort(files, new Comparator<File>(){
    public int compare(File f1, File f2)
    {
        return Long.valueOf(f1.lastModified()).compareTo(f2.lastModified());
    } }); 
```

试试这个，让我知道会发生什么..

**编辑：**

您还可以查看[apache commons IO](http://commons.apache.org/io/)，它具有内置的[最后修改比较器](http://commons.apache.org/io/api-release/org/apache/commons/io/comparator/LastModifiedFileComparator.html)和许多其他用于处理文件的不错的实用程序。

# ios - 在设备上测试应用程序；安装 Xcode

> ID：10023525
> 
> 赞同：0
> 
> 时间：2012-04-05T06:15:48.163
> 
> 标签：ios, xcode

*   我正在尝试在设备上测试我的应用程序，但我无法做到这一点

““iPhone”上的 iOS 版本与此安装的 iOS SDK 支持开发的任何 iOS 版本都不匹配。请将设备恢复到下面列出的操作系统版本，或更新到最新版本的iOS SDK；可在此处获得。

安装在 iPhone 5.1 (9B179) 上的操作系统

Xcode 支持的 iOS 版本 最新 5.0 (9A334) 4.3 4.2"

*   现在我知道我在 iPhone 中部署了最新的 iOS。但我安装的 Xcode 版本是“4.2.1”，而在 App Store 中最新版本是“4.3.2”。此外，在 App Store 中它显示为“已安装”，这意味着我需要从我的应用程序中运行“安装 Xcode”应用程序。

    *   现在，当我运行“安装 Xcode”时，它会说遇到错误。在 install.log 文件中，记录的消息如下

> “安装预检失败：错误域=PKInstallErrorDomain Code=102”“DeveloperTools.pkg”包不受信任。” UserInfo=0x7fc3c9e602a0 {NSLocalizedDescription=“DeveloperTools.pkg”包不受信任。，NSURL=../Packages/DeveloperTools。 pkg -- file://localhost/Applications/Install%20Xcode.app/Contents/Resources/Xcode.mpkg/, PKInstallPackageIdentifier=com.apple.pkg.DeveloperToolsLeo, NSUnderlyingError=0x7fc3cbdc42d0 "操作无法完成。CSSMERR_TP_CERT_EXPIRED"}"

现在，如何解决它。我已确保系统中没有其他待处理的软件更新可能会导致 Xcode 安装出现任何问题。

PS - 我使用的是 Lion，当前的 Xcode 版本是 4.2.1 版，所有 iOS 设备上都会出现此问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:11:42.683

从应用商店中的 4.2 更新时出现问题，如下所述： [https](https://developer.apple.com/xcode/) ://developer.apple.com/xcode/ - 这就是为什么即使您没有最新版本，应用商店也不允许您更新的原因。

从您的问题听起来好像您正在尝试使用已有的安装程序重新安装。如果您还没有这样做，您应该登录苹果开发中心并从那里下载安装程序（从完整的工具下载列表 - 主屏幕只是链接到应用商店）。一次从应用商店更新 4.3 以供将来更新应该可以正常工作。

# javascript - 如何在 javascript 对象中获取一个属性名称？

> ID：10023530
> 
> 赞同：0
> 
> 时间：2012-04-05T06:16:11.003
> 
> 标签：javascript, object, properties

> **可能重复：**
> [从 Javascript 对象中选择随机属性](https://stackoverflow.com/questions/2532218/pick-random-property-from-a-javascript-object)

假设我有一个 javascript 对象：

```
Config.UI.Area = {
        "uuid": {
            "_type": "string"
        },
        "frame": {
            "_type": "rect"
        },
        "zIndex": {
            "_type": "string"
        }
 } 
```

然后我想通过使用 for 循环来获取每个属性的名称，例如“uuid”、“frame”、“zIndex”：

```
var prop=config.ui.area;
var arr=new Array()
for(var i in prop){
    //do something with prop[i]?
    //arr.push(prop[i].....)?
} 
```

我不能直接使用 prop[i]，它会返回一个对象，我怎样才能得到它的名字？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T06:18:41.453

这将为您提供一组属性*名称*：

```
for(var name in prop){
    //do something with prop[name]?
    arr.push(name);
} 
```

它还会为您提供 Object 对象的“本机”属性的名称。为避免这种情况，请使用以下`hasOwnProperty`方法：

```
for(var name in prop){
    if (prop.hasOwnPropery(name) {
     arr.push(name);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:22:36.543

下面是你如何迭代属性并获得相应的值

```
var prop=config.ui.area;
var arr=new Array()
for(var i in prop){
    //do something with prop[i]?
    var propertyName = i;
    var propertyValue = prop[i];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:26:13.023

prop（和 Config.UI.Area）是一个对象（不是对象数组）。所以你不能做 prop[i]。

试试这个，

```
 var obj = {
           "uuid": {
               "_type": "string"
           },
           "frame": {
               "_type": "rect"
           },
           "zIndex": {
               "_type": "string"
           }
    }

   var prop = obj;
   var arr=[];
   for(var i in prop){
       if(i.hasOwnProperty){
         arr.push(i);
       }
   }
   console.log(arr); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T06:55:52.847

要在循环中获取对象属性的名称，请使用：

```
for(var propertyName in myObject) {
  if(myObject.hasOwnProperty(propertyName) {
    console.log(propertyName); // will be uuid, frame or zIndex
  }
} 
```

要获取子对象的属性，请使用

```
for(var propertyName in myObject) {
  if(myObject.hasOwnProperty(propertyName) {
    var subObject = myObject[propertyName];
    console.log(subObject._type);
           // will string or rect based on your sample code
  }
} 
```

在一个对象中使用`hasOwnProperty`in 循环是一个好主意，因为它会过滤掉通过它继承的对象的属性`prototype`。

# grails - 无法从 grails 连接到 mysql

> ID：10023531
> 
> 赞同：0
> 
> 时间：2012-04-05T06:16:14.357
> 
> 标签：grails

我正在使用 wamp 服务器，它带有 mysql 5.5.16，我正在尝试使用 grails 1.3.7 中的 mysql。在我的 Buildconfig.groovy 文件中，我在依赖项下添加了“runtime 'mysql:mysql-connector-java:5.1.6'”，我的 datasource.groovy 看起来像这样：

```
dataSource {
        dbCreate = "create-drop" // one of 'create', 'create-drop','update'
        pooled = true
        driverClassName = "com.mysql.jdbc.Driver"
        username = "root"
        password = ""
        url = "jdbc:mysql://localhost:3306/moviestore_dev"
    } 
```

但是当我刷新依赖项或运行应用程序时，我得到错误=>
:: mysql#mysql-connector-java;5.1.6: not found

我可以连接到数据库，但是只要应用程序运行，数据库中的数据就会保留，下次我运行应用程序时，所有数据都没有了！我不知道发生了什么，请帮忙！谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:42:22.627

问题出在 **dbCreate = "create-drop"**

使用 dbCreate = "更新"

• create-drop：在每次应用程序加载时删除并重新创建数据库模式

• create：在应用程序加载时创建数据库

• 更新：在应用程序加载时创建和/或尝试更新现有表

• [空白]：什么都不做

# c# - 无法使用 apache .NET 库从 C# 应用程序连接到 ZooKeeper

> ID：10023539
> 
> 赞同：3
> 
> 时间：2012-04-05T06:17:08.543
> 
> 标签：c#, apache-zookeeper, orchestration

我正在使用 Zookeeper v3.3.3+dfsg2-1ubuntu1，在 ubuntu vm 上运行。（VM 正在使用 NAT 网络连接运行）

在我的开发机器（Windows 7）上，如果我运行：`zkCli.cmd -server 10.10.135.19:2181`它连接良好，我可以执行`create`s、`get`s 等。

我有一个 C# 4 应用程序，它具有对 Org.Apache.ZooKeeper v1.0.0.0 的 NuGet 依赖项。

我通过以下方式使用它：

```
 class watcher : IWatcher
  {
     private readonly ManualResetEventSlim _connected = new ManualResetEventSlim(false);
     private WatchedEvent _event;

     public void WaitUntilConnected()
     {
        _connected.Wait();

        if (_event == null) throw new ApplicationException("bad state");
        if (_event.State != KeeperState.SyncConnected)
           throw new ApplicationException("cannot connect");
     }

     public void Process(WatchedEvent @event)
     {
        _event = @event;
        _connected.Set();
     }
  }

  ...

  public void TestZooKeeper()
  {
     _countdownWatcher = new watcher();
     _zk = new ZooKeeper(
        Settings.Default.ZookeeperConnectionString, // 10.10.135.19:2181
        new TimeSpan(Settings.Default.ZookeeperConnectionTimeout), // 10000
        _countdownWatcher);
     _countdownWatcher.WaitUntilConnected();
  } 
```

问题是这只是挂起。在 zookeeper 日志中，我看到以下内容：

```
2012-04-05 08:12:21,376 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251] - Accepted socket         connection from /10.0.2.2:51057
2012-04-05 08:12:21,379 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@777] - Client attempting to establish new session at /10.0.2.2:51057
2012-04-05 08:12:21,383 - INFO  [SyncThread:0:NIOServerCnxn@1580] - Established session 0x1367c91bf580047 with negotiated timeout 4000 for client /10.0.2.2:51057
2012-04-05 08:12:22,500 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251] - Accepted socket connection from /10.0.2.2:51059
2012-04-05 08:12:22,502 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@777] - Client attempting to establish new session at /10.0.2.2:51059
2012-04-05 08:12:22,505 - INFO  [SyncThread:0:NIOServerCnxn@1580] - Established session 0x1367c91bf580048 with negotiated timeout 4000 for client /10.0.2.2:51059
2012-04-05 08:12:26,000 - INFO  [SessionTracker:ZooKeeperServer@314] - Expiring session 0x1367c91bf580047, timeout of 4000ms exceeded
2012-04-05 08:12:26,001 - INFO  [ProcessThread:-1:PrepRequestProcessor@387] - Processed session termination for sessionid: 0x1367c91bf580047
2012-04-05 08:12:26,004 - INFO  [SyncThread:0:NIOServerCnxn@1435] - Closed socket connection for client /10.0.2.2:51057 which had sessionid 0x1367c91bf580047
2012-04-05 08:12:28,001 - INFO  [SessionTracker:ZooKeeperServer@314] - Expiring session 0x1367c91bf580048, timeout of 4000ms exceeded
2012-04-05 08:12:28,002 - INFO  [ProcessThread:-1:PrepRequestProcessor@387] - Processed session termination for sessionid: 0x1367c91bf580048
2012-04-05 08:12:28,004 - INFO  [SyncThread:0:NIOServerCnxn@1435] - Closed socket connection for client /10.0.2.2:51059 which had sessionid 0x1367c91bf580048 
```

这种情况一直持续到我手动终止该过程，即该`WaitUntilConnected()`方法永远不会返回。（通过调试验证）

似乎客户端连接可以很好地到达服务器，但观察者从未意识到这一点，该通道上没有进一步发生，服务器终止连接，只是让客户端重试。有什么想法我在这里做错了吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-03T08:26:43.297

事实证明，ZooKeeper 的 C# 客户端库的规范版本位于[https://github.com/ExactTargetDev/zookeeper/tree/et-develop](https://github.com/ExactTargetDev/zookeeper/tree/et-develop)，这与 ZooKeeper wiki 指向的不同。

*   通过从 github 获取源来构建源。确保获得`et-develop`分支。
*   `ant`在顶层运行（这会调用`jute`，它会生成 C# 项目中使用的 RPC 类）
*   打开`src/dotnet`文件夹和其中的解决方案，然后
*   建造它

我运行了与本地 ZooKeeper 连接的单元测试，它们运行良好。

# asp.net-mvc-3 - 如何将我的 html 视图转换为 pdf 文档

> ID：10023540
> 
> 赞同：0
> 
> 时间：2012-04-05T06:17:12.473
> 
> 标签：asp.net-mvc-3, razor

我是 MVC 3 的新手。我有一个包含所有学生相关数据的 html 视图。我只想将该视图转换为 pdf 文档。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:20:48.737

您可以使用[iTextSharp](http://sourceforge.net/projects/itextsharp/)将 html 转换为 pdf。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:31:49.403

您可以查看[以下文章](http://www.codeproject.com/Articles/260470/PDF-reporting-using-ASP-NET-MVC3)，该文章说明了如何通过将逻辑封装到自定义 ActionResult 中来使用 iTextSharp 将一些**简单的 HTML 视图转换为 PDF。**我不能再强调简单这个词了。不要期望这适用于一些复杂的 HTML 和 CSS 规则。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T17:06:50.973

这是我过去使用过的产品，效果非常好（EssentialObjects 的 EO.Pdf）：

[http://www.essentialobjects.com/Products/EOPdf/Default.aspx](http://www.essentialobjects.com/Products/EOPdf/Default.aspx)

# c++ - 在 C++ 中操作 blob

> ID：10023547
> 
> 赞同：0
> 
> 时间：2012-04-05T06:18:07.410
> 
> 标签：c++, blob

我将读取和写入大型二进制文件的大块。

是否有标准 C++ 或即将推出的标准 C++ 或即将推出的标准 C++ + 升压中的课程，这将使我的任务更轻松？

如果没有，是否可以为此使用字符串类？这样做会有什么危险？

PS：一些观察可以澄清事情。我希望这些 blob 会被大量传递，因此引用计数和 CoW 的容器可能会更可取。

此外，我对使用字符串类的抵制是双重的：它们是 blob，而不是字符串，“不可打印的字符”，特别是 null 在出现时可能会造成困难。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:27:53.537

如果您有一个二进制数据块，您可以轻松有效地将其存储在`std::vector<unsigned char>`.

如果您知道（或可以猜测）blob 的大小，则可以通过调用来提高性能[`reserve`](http://en.cppreference.com/w/cpp/container/vector/reserve)。

最后，如果您使用流，您可以使用[`std::back_inserter`](http://en.cppreference.com/w/cpp/iterator/back_inserter).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T14:56:50.627

根据您想要做什么，内存映射文件（[例如来自 boost 的](http://www.boost.org/doc/libs/1_48_0/libs/iostreams/doc/classes/mapped_file.html#mapped_file)文件）可能是一个很好的起点。正如其他人所建议的那样，对于内存中的修改，请使用 std::vector。

不要为 CoW 烦恼——它在 C++ 世界中大多不受欢迎，除了 Qt 中的所有内容。

# android - SmsManager.sendDataMessage() 给出 Nullpointer 异常

> ID：10023551
> 
> 赞同：-1
> 
> 时间：2012-04-05T06:18:29.167
> 
> 标签：android, nullpointerexception, sms

我正在编写使用 将二进制数据发送到特定端口的代码`sendDataMessage()`，但我只能发送最多 120 字节的少量数据。

发送大量数据（130 字节及以上）会`Nullpointer`引发异常。

为什么会这样？如何发送大量数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T09:04:13.720

我猜你正在达到允许的最大消息大小。

请参阅：[http](http://en.wikipedia.org/wiki/SMS#Message_size) ://en.wikipedia.org/wiki/SMS#Message_size和[http://en.wikipedia.org/wiki/Concatenated_SMS](http://en.wikipedia.org/wiki/Concatenated_SMS)

NullPointerException 没有多大意义，但我想就是这样。

[http://code.google.com/p/android/issues/detail?id=3718](http://code.google.com/p/android/issues/detail?id=3718)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T08:59:09.243

转到此处：
[http ://groups.google.com/group/android-developers/browse_thread/thread/3b8dc90cdc701f49/247db39ee62354c2?pli=1](http://groups.google.com/group/android-developers/browse_thread/thread/3b8dc90cdc701f49/247db39ee62354c2?pli=1)

看看“贾斯汀（谷歌员工）”的第三个回应。

他说：

> 通过 SMS 发送的数据消息长度有限（实际上是 133 个字节）

您在 130 字节处遇到问题，这显然与他所说的不一样，但我敢打赌，这只是数据消息有限的事实。我相信这是因为它们需要与常规短信不同的编码，因此可以将它们定向到特定端口。

# c++ - 如何在托管 dll 中重新初始化本机代码

> ID：10023553
> 
> 赞同：0
> 
> 时间：2012-04-05T06:18:47.310
> 
> 标签：c++, c, dll

为了测试现有应用程序，我编写了一个可以加载到我们的模拟应用程序中的 dll。一切正常，直到我想从 dll 中重置现有应用程序。虽然 main() 重新启动，但似乎内存没有重置/初始化。目标是在现有应用程序中尽可能少地改变，所以实际上我不想重写应用程序以在启动时初始化其变量。除此之外，所有局部静态变量也保留其旧值。

下面是我如何从 dll 中调用现有应用程序的示例。

```
void TimerThread::Run(void)
{
  while(true)
  {
    if ((nullptr != mpMainThread) && (mpMainThread->ThreadState == System::Threading::ThreadState::Stopped))
    {
      // Cleanup MainThread when thread has stopped
      delete mpMainThread;
      mpMainThread = nullptr;
    }

    if (nullptr == mpMainThread)
    {
      // (Re)create MainThread in which the existing application is executed
      mpMainThread = gcnew System::Threading::Thread(gcnew System::Threading::ThreadStart(&Main));
      mpMainThread->Priority = System::Threading::ThreadPriority::Highest;
      mpMainThread->Start();
    }
    dtStartTime = System::DateTime::Now;           // Keep track when started.
    if (nullptr != mpMainThread)
    {
      //Simulate timertick in existing application
      main_callback_timer_elapsed();
    }

    dtEndTime = System::DateTime::Now;
    iDuration = dtEndTime->Millisecond - dtStartTime->Millisecond;  // Determine execution time.
    System::Threading::Thread::Sleep(((TIMER_INTERVAL - iDuration) > 0) ? (miInterval - iDuration) : 0);    // Set sleep time depending on time spent
  }
}

void TimerThread::Main(void)
{
  main();     // Run main off existing application
}

void TimerThread::Reset(void)
{
  mpMainThread->Abort();      // Reset existing application by aborting MainThread
} 
```

现有应用程序的主要是相当常见的。下面是 main() 的指示。

```
int main(void)
{
  static char test = 0;

  init_stuff();

  while(true)
  {
    test = 1;

    do_stuff();
    while(!timer_tick)
    {
      check_timer();
    }
    timer_tick = FALSE;
  }
} 
```

静态测试变量初始化为 0 并在无限循环中设置为 1。当从 dll 中重置应用程序时，主程序重新启动，但测试变量保持值 1。显然，我希望在重置应用程序时将此变量重置为 0。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:06:29.447

如果本机 DLL 不提供重置其状态的功能，那么您将不得不卸载 DLL，然后重新加载它。如果您使用的是隐式链接，那是不可能的。您必须使用显式链接：LoadLibrary、GetProcAddress 等。

我假设本机代码包含在单独的 DLL 中。如果不是这种情况，那么您将完全陷入困境。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:35:16.280

很简单。

```
static char test;
test = 0; 
```

# android - 如何在 Android 模拟器上捏缩放？

> ID：10023554
> 
> 赞同：81
> 
> 时间：2012-04-05T06:18:48.627
> 
> 标签：android, android-emulator, pinchzoom

我有一个应用程序，我需要在其中实现图像编辑，其中还包括捏缩放。我完成了捏缩放，但我只能在设备上测试它，而不是在模拟器上。

有什么方法可以在android模拟器中测试捏缩放，任何快捷键或任何其他方式？

* * *

## 回答 #1

> 赞同：134
> 
> 时间：2014-12-08T18:54:20.180

**用鼠标：**

按住并`Ctrl`按住鼠标左键，同时移动鼠标。

**使用触控板：**

按住并`Ctrl`按住触控板，然后用手指向左和向右移动（而不是向上和向下）。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2012-07-11T13:26:55.907

从 ADT 17 开始，可以使用物理 Android 4.0 设备向模拟器发送多点触控手势。[在此处查看 Android 的说明](http://tools.android.com/tips/hardware-emulation)。

**多点触摸**

模拟器支持多点触控输入，作为 r17 中的一项实验性功能，使用运行 SdkControllerMultitouch 应用程序的绑定 Android 设备。该应用程序包含一个监控触摸输入并将其发送到模拟器的活动。这需要 Android 4.0 或更高版本的系统映像。该活动显示模拟器屏幕的内容以帮助进行交互。建议在模拟器设置的开发人员部分中启用“显示触摸”，以查看触摸发送的确切位置。

SdkControllerSensor 应用程序源代码位于

> $SDK/工具/应用程序/SdkControllerMultitouch/

但这仍然是一种解决方法，因为我们需要一个真实的设备。我的建议是直接在真实设备上测试您的应用程序，因为它更强大，性能更高。

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2019-03-15T09:11:52.163

我知道回复晚了，但这可能会节省一些人的时间。

**双击**并按住第二次单击并向**上移动鼠标以缩小**或**向下移动以放大**。

希望这有效！

* * *

## 回答 #4

> 赞同：16
> 
> 时间：2016-10-14T10:16:18.123

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2013-12-22T22:01:43.173

好的，我正在尝试一下，在 bluestacks android 模拟器上，我已经弄清楚了。

它是**Ctrl+鼠标滚轮**。对我有用，希望对你也有帮助。

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2015-10-24T15:17:23.990

我知道这很旧，但这可能仍然对某人有所帮助。

在 Mac 上：

`zoom in`使用（在 `double click` 触控板上）

`zoom out`使用 Command + Shift + （在`click`触控板上）

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2012-04-05T06:23:27.457

android tools release 17 在该领域取得了一些进展：您可以使用设备来控制模拟器：http: [//developer.android.com/sdk/tools-notes.html](http://developer.android.com/sdk/tools-notes.html)。

否则，在这种情况下，在真实设备上进行测试似乎更好（而且通常它也快得多）。

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2016-03-14T20:55:36.217

对于 mac：使用`⌥ Option`键，然后使用鼠标或触控板进行捏合/缩放。这适用于 android studio 模拟器。

您可以在扩展控件菜单中找到所有快捷方式，方法是按菜单上的三个点，然后导航到“帮助”。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2019-02-18T08:58:47.057

1.  单击 3 点（如模拟器上的首选项）
2.  设置
3.  将参数“将键盘快捷键发送到”从“虚拟设备”设置为“模拟器控件”，现在手势工作完美！

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2012-07-18T03:21:06.087

**Android 模拟器不支持多点触控，您无法在模拟器上对其进行测试。请使用真机进行多点触控测试。**

*有关这方面的最新进展，请阅读 - [http://tools.android.com/tips/hardware-emulation](http://tools.android.com/tips/hardware-emulation)*

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2012-07-11T13:30:24.643

PinchZoom 适用于多点触控。

如果设备支持多点触控，那么只有您的代码可以工作，否则它将无法工作。

由于 Android 模拟器不支持多点触控，因此您无法在模拟器上对其进行测试。

仍然是新的 ADT 具有功能但我从未尝试[过](http://tools.android.com/tips/hardware-emulation)

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2015-06-05T00:19:12.267

1.  CTRL + 单击视图屏幕左侧将缩小。

2.  双击一个位置会放大。

3.  南北 -> 滚轮 - 上下

4.  West-> CTRL+在屏幕左侧向上滚动

5.  东-> CTRL+在屏幕右侧向上滚动

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2012-07-11T10:47:10.100

您无法在模拟器中测试捏缩放。请使用真机测试捏缩放效果。

我没有尝试过youwave。也许你可以在那个环境中测试捏。不是sur，但只是尝试一下。

享受编码......

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2016-03-01T21:36:27.557

自 2016 年 3 月 1 日起，适用于 Windows 上的 Android Studio 模拟器。模拟器上的捏合键是 Alt 键。按住 Alt 并单击并拖动鼠标按钮。

CTRL 键可能仍然对您有用，但对我不起作用。

# java - 创建某种彩票游戏

> ID：10023558
> 
> 赞同：0
> 
> 时间：2012-04-05T06:19:17.113
> 
> 标签：java

我正在创建一个彩票类型的游戏，玩家可以点击一个按钮，然后他们可以获得随机数量的硬币（大量稀有而少量常见。）

到目前为止，我能想到的只是一个数组，有没有更有效的方法来做到这一点？

```
private static final int[] REWARDS = {10, 25, 50, 100, 250, 500, 1000}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:33:12.060

您可能需要加权概率模型。例如

```
Prize : Weight
---------------    
$10 : 50
$25 : 20
$50 : 10
$100 : 5
$250 : 3
$500 : 2
$1000 : 1 
```

这里的总重量可以算作 91。所以要颁发奖品，你从 1-91 中选择一个随机数。然后找到它在您的加权范围内的位置（例如，从您的数字中减去每一层的权重，直到它变为负数）。

但是在这里要小心一点一点的错误并彻底测试。

# c# - LINQ 和 C# 总结

> ID：10023576
> 
> 赞同：1
> 
> 时间：2012-04-05T06:20:57.270
> 
> 标签：c#, linq, datatable

我有一个包含父子行的关系表。有些行有一个`typeId`，我想按类型获得总成本的摘要：

![在此处输入图像描述](../Images/40d1a488577a1e0857c53e4a2c923689.png)

左边的列表是一些样本数据，右边的列表是预期的汇总结果。

数据在数据表中。谁能帮我这个。

**IE：**

*   `typeId = 1`：计算公式为：*30（总成本 3,2）x 5（数量 2,1）x 3（数量 1，空）*

(30 x 5 x 3) = 450

*   `typeId = 2`：计算公式为：*12（总成本 5,1）x 3（数量 1，空）x 15（总成本 4,2）x 5（数量 2,1）x 3（数量 1，空值）*

(12 x 3) + (15 x 5 x 3) = 261

这是一些示例代码

```
DataTable dt = new DataTable( "Summary" );

dt.Columns.Add( "Id", Type.GetType( "System.Int32" ) );
dt.Columns.Add( "ParentId", Type.GetType( "System.Int32" ) );
dt.Columns.Add( "Qty", Type.GetType( "System.Int32" ) );
dt.Columns.Add( "Cost", Type.GetType( "System.Decimal" ) );
dt.Columns.Add( "TotalCost", Type.GetType( "System.Decimal" ) );
dt.Columns.Add( "TypeId", Type.GetType( "System.Int32" ) );

dt.Rows.Clear();

DataRow row = dt.NewRow();
row["Id"] = 1;
row["ParentId"] = DBNull.Value;
row["Qty"] = 3;
row["Cost"] = 237.00;
row["TotalCost"] = 711.00;
row["TypeId"] = DBNull.Value;
dt.Rows.Add( row );

row = dt.NewRow();
row["Id"] = 2;
row["ParentId"] = 1;
row["Qty"] = 5;
row["Cost"] = 45.00;
row["TotalCost"] = 225.00;
row["TypeId"] = DBNull.Value;
dt.Rows.Add( row );

row = dt.NewRow();
row["Id"] = 3;
row["ParentId"] = 2;
row["Qty"] = 30;
row["Cost"] = 1.00;
row["TotalCost"] = 30.00;
row["TypeId"] = 1;
dt.Rows.Add( row );

row = dt.NewRow();
row["Id"] = 4;
row["ParentId"] = 2;
row["Qty"] = 1;
row["Cost"] = 15.00;
row["TotalCost"] = 15.00;
row["TypeId"] = 2;
dt.Rows.Add( row );

row = dt.NewRow();
row["Id"] = 5;
row["ParentId"] = 1;
row["Qty"] = 4;
row["Cost"] = 3.00;
row["TotalCost"] = 12.00;
row["TypeId"] = 2;
dt.Rows.Add( row ); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T08:43:04.153

如果我理解正确，你需要一个递归例程，这不是我在纯 Linq 中尝试的，所以我会尝试这样的事情。

```
var summary =  
    (from r in dt.AsEnumerable()
    where r["TypeID"] != DBNull.Value  
    group r by (int) r["TypeId"] into results
    select new 
        { 
        results.Key , 
        TotalCost = results.Sum(r=> (decimal) r["TotalCost"] *  GetParentsQty(r) )
        }
    );

public int GetParentsQty(DataRow child )
{
    if (child["ParentID"] == DBNull.Value)
        return 1;

    var parent = (from row in dt.AsEnumerable() 
                  where (int) child["ParentID"] == (int) row["Id"] 
                  select row
                 ).Single();

    return (int) parent ["Qty"]  * GetParentsQty(parent);
} 
```

# c# - 动态 WPF DatagridComboBoxColumn

> ID：10023579
> 
> 赞同：0
> 
> 时间：2012-04-05T06:21:05.833
> 
> 标签：c#, wpf, datagrid

我有一个包含两列的 Datagrid：CountryName 和 CityName。当用户选择 ContryName 时，与当前行相关的 CityName 组合必须使用 Entity-FrameWork 表中的国家/地区城市名称进行更新。用户还可以编辑他之前添加的所有行。

在 WPF 中实现此功能的最佳解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T17:15:09.420

将 Datagrid 绑定到 Observable Collection 以反映运行时的更改

# usb - 未正确检测到 USB 设备

> ID：10023593
> 
> 赞同：0
> 
> 时间：2012-04-05T06:22:50.483
> 
> 标签：usb, usb-otg

我正在使用 am335x 板。在启动板时插入 USB 设备时检测到它。主板启动后，我拔下设备并再次插入，未检测到。当设备与其端口断开连接时，usb 驱动程序会关闭 vbus 会话。每次我需要使用命令“echo”启动会话F > /proc/driver/musb_hdrc"。如何让它自动检测？如果有人遇到过这个问题，请回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T16:25:29.197

如果遇到同样的问题。看来当你使用 ULPI 模式时，启动 vbus 不起作用。查看文件驱动程序/usb/musb/omap2430.c 中的较新内核 当通知 USB_EVENT_ID 时，您应该独立于 otg 工作的模式打开 vbus。

希望有帮助。

# java - 需要 Jbuttons 透明外观

> ID：10023594
> 
> 赞同：3
> 
> 时间：2012-04-05T06:22:59.013
> 
> 标签：java, swing, netbeans, transparency, look-and-feel

我正在使用 Java Netbeans GUI Builder 来制作 GUI。我想给按钮一个透明（有光泽）的外观。我正在使用

```
UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName()); 
```

这也为 GUI 提供了漂亮的外观，但按钮仍然是相同的无聊按钮。

那么，如何给按钮一个透明的外观呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T06:26:07.187

尝试以下操作：

```
button.setOpaque(false);
button.setContentAreaFilled(false); //to make the content area transparent
button.setBorderPainted(false); //to make the borders transparent 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-05T06:25:12.510

你可以看看[setOpaque(true/false); Java](https://stackoverflow.com/questions/2451990/setopaquetrue-false-java)它有关于 Component 类的 setOpaque 方法的信息。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-05T06:51:28.237

```
I want to give the buttons a transparent (glossy) look. 
```

*   [半透明](http://docs.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html)[在](http://java.sun.com/developer/technicalArticles/GUI/translucent_shaped_windows/)这里

*   [使用 AlphaComposite 透明](https://stackoverflow.com/a/6720207/714968)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-28T06:48:22.517

```
this.btnOptions.setFont(new Font("Forte", Font.PLAIN, 33)); 
this.btnOptions.setForeground(Color.YELLOW);
this.btnOptions.setOpaque(false);
this.btnOptions.setContentAreaFilled(false);
this.btnOptions.setBorderPainted(false);
this.btnOptions.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR)); 
```

# c# - 我可以把它放到一个类函数中吗？（柜台）

> ID：10023595
> 
> 赞同：0
> 
> 时间：2012-04-05T06:23:06.720
> 
> 标签：c#, wpf, optimization, counter

使用 WPF 应用程序。我非常想知道是否有可能将下面的示例中的函数加入到类函数中（我对 C# 还不是很熟悉）。

```
private void counter01_Tick(object sender, EventArgs e)
{
    if (counter01Ticks > 0)
    {
        //subtract 1 each time
        counter01Ticks--;

        //subtrack 1 secon each time
        counter01Span = counter01Span.Subtract(TimeSpan.FromSeconds(1));

        //update the progressbar
        progBar01.Value++;

        //get the % to show 
        progBar01Text.Text = Convert.ToString(Math.Round(((progBar01.Value / progBar01.Maximum) * 100), 0)) + "%";

        //Label1 will show the count down.
        string countDown = counter01Span.ToString();
        TimeRemain01.Content = countDown;
    }
    else
    {
        counter01.Stop();
        resetCounter01();

        WarningMessage msgWarnOne = new WarningMessage();
        msgWarnOne.warnMessage.Text = Properties.Settings.Default.msgScout01;
        msgWarnOne.ShowDialog();  
    }
} 
```

它只是计数器的一部分。但我想稍后在我的应用程序中添加更多计数器。因此，我在代码中用数字 (01) 标记了所有参数。

所以我不想做的是，我复制粘贴代码并更改每个计数器的数字，而是将数字作为输入数字或其他东西。

那可能吗？如果 i9 能够理解这一小部分代码，我想我也可以用其他部分来完成它（上面只是一个计数器的刻度）。

@Users 用户使用以下答案： [http](http://www.c-sharpcorner.com/uploadfile/mahesh/user-control-in-wpf/) ://www.c-sharpcorner.com/uploadfile/mahesh/user-control-in-wpf/ 帮助我更好地理解它并且可能对阅读也很有用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:29:15.613

是的，您可以将所有这些（连同您的 XAML 声明）放入 W [PF 用户控件](http://www.codeproject.com/Articles/32825/How-to-Creating-a-WPF-User-Control-using-it-in-a-W)中，并将其中的多个放入其他 Windows/Controls/...

只要看看我链接的教程 - 应该解释你需要的一切。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-05T06:27:56.937

您可以使用方法[Control.FindControl](http://msdn.microsoft.com/en-us/library/486wc64h.aspx)；

另一种方法是让用户控制 - 因此您将在每个 counter_Tick 中仅使用 1 个控件数组

# security - PKCS15 证书

> ID：10023597
> 
> 赞同：1
> 
> 时间：2012-04-05T06:23:24.410
> 
> 标签：security, smartcard

我阅读了 PKCS15 标准，但我仍然对如何将证书存储在智能卡中感到困惑。证书是否以二进制形式存储在 EF 上？或者它是一个文件，如果不在 EF 中，它存储在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-08T23:15:40.197

PKCS#15 或继承它的国际标准 ISO 7816-15 是一种基于文件的智能卡的目录结构。在其中，证书通常存储在（透明的）EF 中，如您所料，如果有相应的私钥，它将作为对象存储在 DF 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:17:41.227

linux 中有一些工具可以让您操作支持 pkcs15 的智能卡：

[http://manpages.ubuntu.com/manpages/lucid/man1/pkcs15-tool.1.html](http://manpages.ubuntu.com/manpages/lucid/man1/pkcs15-tool.1.html)

也许仔细看看这些会对你有所帮助。

# objective-c - 将xcode项目编译成库文件

> ID：10023600
> 
> 赞同：2
> 
> 时间：2012-04-05T06:23:37.707
> 
> 标签：objective-c, xcode4.2, static-libraries

我有两个项目建立在 2 个不同的编译器上。我需要将两者结合到一个应用程序中。从源代码中发现可以将项目中的任何一个编译到库中并将其添加到另一个中以使用它。

我相当新的这个概念。有没有人做过这样的事情？如何将其中一个项目转换为库以及如何将两者连接起来？我还能在我的其他项目中调用该项目（库）中的视图吗？我正在使用 XCODE 4.2 和 iOS 5。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-10T15:53:32.340

创建一个“Cocoa Touch 静态库”来构建您的“项目”/目标，并将当时构建的库（及其公共标头）包含到第二个库中。请注意，细节很大程度上取决于您所说的“项目”和“调用视图”（看起来有点错误）。

如果您有两个现有项目（带有 .xcodeproj 文件），请打开“app”项目（猜想是这样的），并在其中包含 lib 项目（通过拖放或“添加文件...” ）。不是相反。

然后在应用程序项目的“构建阶段”中，您可以将“lib”项目添加为目标依赖项（使您的 lib 在构建应用程序时始终构建）。最后，在“app”项目的“Link”构建阶段添加 lib 项目产品（.a）。

# c++ - 通知用户访问冲突，如异常

> ID：10023601
> 
> 赞同：0
> 
> 时间：2012-04-05T06:23:39.360
> 
> 标签：c++, multithreading, exception-handling, pthreads, posix

我有一个多线程应用程序，用于检索数据库信息并将数据存储为对象的链接列表，我进一步使用这些对象对它们进行一些操作并输出结果。在执行过程中，由于指针的性质，我必然会遇到访问冲突等异常。

我当然知道这些异常（硬件或软件）不会被 C++ 中的常规 try catch 捕获，并且也知道我们已经通过重新编程罪魁祸首部分来避免此类异常。但是因为我无法控制数据库中的数据，有时我最终会得到异常和整个程序崩溃。

我想知道是否有办法通知用户访问冲突并防止受影响的线程使其他线程或整个进程崩溃。

```
int ex;
pthread_mutex_t lk;

void sighandler(int a){
    pthread_mutex_unlock(&lk);
}

static void *func1(void * arg) {
            while(1) {
        pthread_mutex_lock(&lk);
        if(ex<=0) {
            try {
                    char *p=0;*p = 0;  
                } catch(...) {
                    printf("eerr");
            }
            pthread_mutex_unlock(&lk);
            break;
        }
        ex--;
        pthread_mutex_unlock(&lk);
    }
    return 0;
}

static void *func2(void * arg) {
    while(1) {
            pthread_mutex_lock(&lk);
            if(ex<=-100) {
                    pthread_mutex_unlock(&lk);
                    break;
            }
            ex-=2;
            pthread_mutex_unlock(&lk);
    }
    return 0;
}

int main(void)
{
        signal(SIGSEGV,sighandler);
        ex=100;
    pthread_t pth[2];
    pthread_mutex_init(&lk,NULL);
    pthread_create(&pth[0],NULL,func1,NULL);
    pthread_create(&pth[1],NULL,func2,NULL);

    pthread_join(pth[0],NULL);
        pthread_join(pth[1],NULL);
    return 0;
} 
```

我试图创建我想知道的更简单的版本.. func1 (*p=0) 中肯定存在访问冲突，但我希望 func2 在通过某种日志通知用户访问冲突时不受阻碍地运行或通过控制器线程。

谢谢你

# visual-studio - 是否可以使用 Visual Studio 调试器的 Watch 窗口查看内存位置的值？

> ID：10023602
> 
> 赞同：26
> 
> 时间：2012-04-05T06:23:48.127
> 
> 标签：visual-studio, visual-studio-2010, debugging, visual-studio-debugging

是的，我知道有四个内存窗口，但我更喜欢在监视窗口中显示单个值，我想知道是否可以在监视窗口中指定要监视的内存位置。

单独放置地址只会评估为十六进制地址。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-04-05T06:31:50.523

如果你想观察一个特定的内存位置，那么你需要告诉调试器那个位置的对象的类型。而不是仅仅`0x00aabbcc`使用`(SomeType*)0x00aabbcc`. 一旦调试器知道内存位置的类型，它将把它当作一个类型化的本地并相应地显示值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-10T09:57:06.143

检查官方网站的[答案](https://msdn.microsoft.com/en-us/library/s3aw423e.aspx)，它与这个问题的其他答案一样有效:)。在该页面上，“通过内存跟踪指针”部分说：

> 在本机代码应用程序中，您可以将寄存器名称用作实时表达式。例如，您可以使用堆栈指针跟随堆栈。
> 
> *在内存中跟随指针*
> 
> 1.  在**内存**窗口**地址**框中，键入一个指针表达式。指针变量必须在当前范围内。根据语言，您可能必须取消引用它。
>     
>     
> 2.  按**ENTER**。**现在，当您使用Step**等执行命令时，显示的内存地址会随着指针的变化而自动变化。

# android - 如何在一个屏幕上播放两个视频？

> ID：10023605
> 
> 赞同：0
> 
> 时间：2012-04-05T06:24:00.183
> 
> 标签：android, video, android-video-player

我必须制作一个应用程序，我需要在屏幕上同时播放两个视频。这是我的代码。但视频无法播放。我在哪里做错了吗？:(

```
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    VideoView myVideoView = (VideoView)findViewById(R.id.myvideoview);
    myVideoView.setVideoURI(Uri.parse(SrcPath));
    myVideoView.setMediaController(new MediaController(this));
    myVideoView.requestFocus();
    myVideoView.start();
    VideoView myVideoView2 = (VideoView)findViewById(R.id.myvideoview2);
    myVideoView2.setVideoURI(Uri.parse(SrcPath2));

    myVideoView2.setMediaController(new MediaController(this));
    myVideoView2.requestFocus();
    myVideoView2.start();
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:51:39.533

我认为您需要两个单独的线程来播放两个视频。因为 IO 操作被阻塞...其中一个视频播放器可能会饿死 CPU...在两个单独的线程中调用 start()...希望对您有所帮助！！！

**编辑** 首先从 onCreate() 中删除 start() 调用。创建两个单独的线程

```
 Thread view1Thrad = new Thread(new Runnable(){
    @Override
    public void run(){
android.os.Process.setThreadPriority(android.os.Process.THREAD_PRIORITY_URGENT_DISPLAY);
    myVideoView.start();
    });
    Thread view2Thrad = new Thread(new Runnable(){
        @Override
        public void run(){
android.os.Process.setThreadPriority(android.os.Process.THREAD_PRIORITY_URGENT_DISPLAY);
        myVideoView2.start();
        }); 
```

现在一一启动这些线程...

```
view1Thread.start(); //starts first video
view2Thread.start(); //starts second video 
```

希望有帮助！！！

# objective-c - 使用 NSNumberFormatter 测试数字和百分比的字符串

> ID：10023606
> 
> 赞同：1
> 
> 时间：2012-04-05T06:24:31.093
> 
> 标签：objective-c

我一直在尝试这个：

```
 NSNumberFormatter *testNumber=[NSNumberFormatter new];
    if (![testNumber numberFromString:someNSString]) 
```

有人告诉我，如果不是数字，`numberFromString`它将返回。`nil``someNSString`

但是，我发现如果`someNSString`包含例如“5.9%”，则假定它不是一个数字，因此我上面的测试通过了，即使 NSNumber 本身可以`5.9%`作为一个数字工作就好了。

那么，当将百分比作为数字包含在内时，如何优雅地测试数字与非数字呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:24:26.717

使用[`-[NSScanner scanFloat:]`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSScanner_Class/Reference/Reference.html#//apple_ref/occ/instm/NSScanner/scanFloat%3a)：

```
float testNumber;
NSScanner* scanner = [NSScanner scannerWithString:someNSString];
if ([scanner scanFloat:&testNumber]) {
    // A valid number, and it is stored in `testNumber`
} else {
    // Not a valid number, at least by floating-point standards
} 
```

当然，如果您实际上并不希望它最后出现在 a`float`中，请替换为`-[NSScanner scanDouble:]`or `-[NSScanner scanDecimal:]`。

请注意，您的`floatValue`测试不是“将百分比作为数字包括在内”，它只是忽略尾随的非数字字符。

# javascript - 选择中最接近的匹配

> ID：10023607
> 
> 赞同：2
> 
> 时间：2012-04-05T06:24:32.477
> 
> 标签：javascript, jquery, regex, levenshtein-distance

我有一个`select`包含不同标题的元素；举个例子：

```
<select name="titles">
  <option value="1">Mr.</option>
  <option value="2">Mrs.</option>
  <option value="3">Ms.</option>
  <option value="4">Dr.</option>
  [..]
</select> 
```

然后我有一个包含用户提交标题的字符串（最初写在自由格式的文本框中）。我的任务是`option`在与`select`该标题相对应的内容中进行选择。

然而，在我看来，用户有时是愚蠢的。

我搜索的用户提供的字符串可能是“博士”。或“博士”或类似的东西。我需要将它与最相关的一个匹配（即“博士”而不是“先生”，他们都接近说“博士”）。

我该怎么办？我只做过与 MySQL`LIKE`和 PHP 的近似匹配`levenshtein()`，据我了解，这两者在 JS 中都不太相关。

jQuery 1.7.1 可用。IE6 兼容性与我无关。

先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:29:45.013

如果我没记错的话，唯一合理（并且可以接受）的变化是开头的大写字母/没有大写字母和结尾的缺失点字符。

如果是这种情况，那么您可以简单地将用户字符串`select`与上面的每个项目进行比较：

*   将用户输入的第一个字符转换为大写。
*   `.`如果用户字符串不以 结尾，则将a 添加到字符串的末尾`.`。
*   将修改后的用户字符串与其中的每个元素进行比较`select`，看看是否匹配。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:32:58.743

用户永远不会愚蠢；）

在你进行匹配之前，我会首先在我的 javascript 中将我的所有字母转换为小写，然后我会查找点 (.) 并删除它们或将它们添加到你的匹配字符串中（它是你的选择）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T06:43:17.220

希望有帮助。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script type="text/javascript" charset="utf-8" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!-- Date: 2012-04-05 -->
    <script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        var title = "dr"
        $("#titles option").each(function(i, el) {
            var re = new RegExp(title, 'ig')
            if ($(el).html().match(re)) {
                $(el).attr("selected", "selected");
            }
        });
    })
    </script>
</head>
<body>
    <select name="titles" id="titles">
      <option value="1">Mr.</option>
      <option value="2">Mrs.</option>
      <option value="3">Ms.</option>
      <option value="4">Dr.</option>
    </select>
</body>
</html> 
```

另一个解决您的问题的方法 - 为您的用户提供这个表格，这样他们就没有机会输入任何错误的数据。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T06:54:32.063

您会考虑剥离将自由格式字符串与列表项匹配的额外层吗？也许有一个自动完成字段/下拉列表或类似的；让用户输入并重新选择相同的数据两次似乎太过分了。

我打算建议研究一个模糊搜索算法，但是拥有一个与特定标题匹配的值数组不是更简单吗？它可以与标准化句点、大写和空格进行比较，即

*   user-entered `Dr`，`dr.`并将`Dr.`被规范化并匹配`Dr.`
*   用户输入`doctor`并将`Doctor`被规范化和匹配
*   用户输入`doc`，`Doc.`并将`doc`被规范化和匹配等。

这听起来像是一个令人麻木的任务，尽管经历了各种各样的先生等。*真正*考虑首先将其变成一个标准化的下拉列表；唯一比这更难处理的是非规范化地址字段:)

# ruby-on-rails - 测试当前目录是否在 Rails 项目中（bash）

> ID：10023611
> 
> 赞同：5
> 
> 时间：2012-04-05T06:25:09.623
> 
> 标签：ruby-on-rails, bash

有没有一种简单的方法来测试当前目录是否在 rails 项目中？显然，Rails 本身对此进行了测试，以便使用 rails 子命令（生成、脚手架等），因此大概有一种直接的方法来测试它。

我正在寻找类似于[如果您在 Git repo 中进行测试的](https://stackoverflow.com/questions/2180270/zsh-check-if-current-directoy-is-git-repo)方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-09-29T23:25:42.443

我知道你已经有了 ruby​​ 的解决方案，但这里有一个用 bash 编写的，应该会快一点。

假设您使用的是 Bundler：

```
grep 'rails' 'Gemfile' >/dev/null 2>&1
if [ $? -eq 0 ]; then
  echo "It's a Rails project!"
fi 
```

这就是该片段的作用：

1.  grep 当前目录中的 Gemfile 以获取“rails”。丢弃 grep 的输出。
2.  如果 grep 以退出代码 0 退出，则您在 Rails 项目中

`grep 'rails' 'Gemfile'`如果当前目录中不存在名为“Gemfile”的文件，将返回状态码 2。`grep`如果找到“Gemfile”但不包含“rails”，将返回状态码 1。

对于没有 Bundler 的 Rails 2，这应该可以工作：

```
if [ -f script/rails ]; then
  echo "It's a Rails 2 project!"
fi 
```

所做的只是测试脚本/rails 文件是否存在。

我希望这对希望使用 bash 而不是 ruby​​ 的人有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:57:59.073

没有特定于 Rails 的文件或目录。所以你不能真正知道你是否在 rails 目录中。

更好的解决方案是了解您的 Gemfile 中是否有 rails 或 railities gem 依赖项。

```
bundle list | grep 'rail' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T22:28:12.363

经过进一步调查，我能够深入研究`rails`命令本身并基于部分`railties`gem ( `<railties>/lib/rails/script_rails_loader.rb`) 的解决方案：

```
#!/usr/bin/env ruby

require 'pathname'

SCRIPT_RAILS = File.join('script', 'rails')

def self.in_rails_application?
  File.exists?(SCRIPT_RAILS)
end

def self.in_rails_application_subdirectory?(path = Pathname.new(Dir.pwd))
  File.exists?(File.join(path, SCRIPT_RAILS)) || !path.root? && in_rails_application_subdirectory?(path.parent)
end

if in_rails_application? || in_rails_application_subdirectory?
  exit(0)
else
  exit(1)
end 
```

# sql-server-2008-r2 - 将 SQL 作业转移到另一台机器

> ID：10023614
> 
> 赞同：1
> 
> 时间：2012-04-05T06:25:18.483
> 
> 标签：sql-server-2008-r2, sql-job

如何将我的 SQL 代理作业（维护计划）从我的服务器转移到另一台服务器？

我使用 SQL Server 2008 R2。我的工作运行一个 T-SQL 脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:39:38.883

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T13:41:47.163

我以这种方式解决了这个问题：我使用 SSIS 将 SQL 代理作业（维护计划）从我的服务器传输到另一台服务器。这是我使用的方式：

1.  打开 SSIS 并转到存储包 --> MSDB --> 维护计划并右键单击您的作业并选择导出
2.  选择文件系统作为位置
3.  为您的包裹选择路径
4.  将文件复制到新服务器
5.  连接到另一台机器 SSIS
6.  现在在 MSDB 上选择导入包
7.  转到维护计划并保存您的工作或运行创建脚本

# hudson - 想要使用 apache ANT 制作 jar、war、ear 文件并使用 hudson 进行自动构建过程

> ID：10023615
> 
> 赞同：0
> 
> 时间：2012-04-05T06:25:22.477
> 
> 标签：hudson, build-automation

我想制作 build.xml 以完成所有任务，并且我想设置 jenkins 或 Hudson 以进行持续集成

我应该如何使用 apache Ant 制作构建文件以及如何使用单个构建文件构建所有项目？

1.  mkdir MyProjectsjar

2.  编译以下项目并创建jar文件

    ```
    javaproject1

            package1

                    javafile1

        javafile2 
    ```

    javaproject2

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject3

    ```
    package1

        javafiles 
    ```

    javaproject4

    ```
    package1 
    ```

    javaproject5

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject6

    ```
    package1 
    ```

    javaproject7

    ```
    package1

        javafiles 
    ```

    javaproject8

    ```
    package1

        javafiles 
    ```

    javaproject9

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject10

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject11

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject12

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject13

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject14

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject15

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject16

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

    javaproject17

    ```
    package1

        javafiles

    package2

        javafiles 
    ```

3.  将上述jar文件复制到步骤1创建的文件夹中

4.  编译 EJB 项目并创建 EAR 项目

5.  编译 web 项目和其他所有项目并创建 WAR 文件

6.  将 EAR 和 WAR 文件复制到 jboss/default/deploy 文件夹。

# javascript - 隐藏和显示右侧边栏

> ID：10023616
> 
> 赞同：1
> 
> 时间：2012-04-05T06:25:23.400
> 
> 标签：javascript, jquery, jquery-animate, sidebar

所以，我正在尝试创建一个 javascript 或查询来隐藏右侧边栏 div。证明比我预期的要困难得多，但我已经接近了。

我创建了一个隐藏/显示右侧边栏，单击时会滑出，然后再次单击按钮时滑回全宽。

问题：单击“隐藏”时：侧边栏滑出为 'width:10px;' 内容为 margin-right:10px; 单击“显示”时：侧边栏滑入为 'width:200px;' 和内容滑回'margin-right:200px;

我创建了一个 JS Fiddle 来展示：

[http://jsfiddle.net/6uVvF/](http://jsfiddle.net/6uVvF/)

我正在尝试完成脸书右侧边栏的动画版本。这里还有另一个例子：[http ://www.sidlee.com/](http://www.sidlee.com/)

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-17T10:41:47.277

所以我能够在侧边栏上创建一个滑动和淡入淡出的效果。

它允许我隐藏侧边栏。我让 Javascript 将每个项目设置为 0。但它运作良好。

在此处查看工作版本：

[http://jsfiddle.net/glepage/6uVvF/](http://jsfiddle.net/glepage/6uVvF/)

# android - java.lang.IndexOutOfBoundsException：位置 1 无效，大小为 1

> ID：10023621
> 
> 赞同：2
> 
> 时间：2012-04-05T06:25:39.240
> 
> 标签：android

当我试图从数组列表中获取值时，出现以下错误。我的示例代码如下。测试是我的数组列表的名称

字符串 s = test.get(1);

```
04-05 11:51:42.525: E/AndroidRuntime(901): java.lang.IndexOutOfBoundsException: Invalid location 1, size is 1
04-05 11:51:42.525: E/AndroidRuntime(901):  at java.util.ArrayList.get(ArrayList.java:341) 
```

) 04-05 11:51:42.525: E/AndroidRuntime(901): 在 android.app.Activity.onMenuItemSelected(Activity.java:2170)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:28:38.760

您的字符串数组的大小为 1，这意味着它只有一个字符串且为 0。您想从字符串数组中得到什么？我认为你想要的代码是

```
if(test.size() >=1)
   String s = test.get(0);//magical numbers are evil by the way the good book told me so 
```

请不要认为这是非常糟糕的做法，您应该真正发布更多代码，以便我们知道您为什么需要该数组的第一个或第二个字符串。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:29:55.423

`Invalid location 1, size is 1`表示 ArrayList 以 index[0] 开头。如果您使用`get(1)`，您将收到第二个条目。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-05T06:30:15.123

只需`test.size()`在您的情况下检查它的 1 这就是使用的原因`String s = test.get(0);`

总是先检查`size of your list`or `array's length`。然后根据它获取值。**请记住，所有数组和列表始终以 0 开头，在这种情况下，最后一个元素始终是列表的 size() - 1。**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T06:28:49.403

您的 ArrayList 大小为 1，因此其位置将为 0

试试这个代码

```
String s= test.get(0); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-05T06:39:02.207

首先，您的数组列表大小是您可以使用 test.size(); 获得的大小。

所以现在我们都知道数组索引从零开始，你可以获取 test.get(0); 检索 arraylist 中的第一个元素，如果您尝试获取 test.get(1) 的下一个元素，您将获得 IndexOutBound Exception...

# c# - C# Keydown/Keyevents 如果没有按键被按下

> ID：10023623
> 
> 赞同：1
> 
> 时间：2012-04-05T06:25:55.550
> 
> 标签：c#, keypress, keydown, keyevent, keyeventargs

我现在正在用 c# 编写一些东西，试图将控制台应用程序“转换”为 windows 窗体应用程序，我想做如下的事情：

```
if("keypress == nokey") 
{
    system.threading.thread.sleep ***
}
while(nokeyispressed) 
{
    system.threading...
} 
```

基本上询问是否有一段时间没有按下任何键 sleep 和 this.close();

所以如果没有按下任何键，做点什么……我就是不能让它工作。我会非常感激一些帮助..:D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:37:21.013

如果没有按下任何键，则不会引发 KeyDown 事件。因此，您的处理程序将不会被调用。

更新（删除循环的选项，因为计时器会为您与睡眠超时的不同线程上的循环相同）：

这是带有计时器的示例：

```
private bool _keyPressed;

private void TimerElapsed(object sender, EventArgs e)
{
    if (!_keyPressed)
    {
        // do what you need
    }
}

private void KeyDownHandler(object sender, KeyEventArgs e)
{
    _keyPressed = true;

    switch (e.KeyCode)
    {
        // process pressed key
    }

    _keyPressed = false;
} 
```

更新：我认为在确定是否没有按下任何键之前验证自上次按下键后经过了多少时间是个好主意

```
private DateTime _lastKeyDownTime;
private const int interval = 100;

private void LoadHandler(object sender, EventArgs e)
{
 // start Threading.Timer or some other timer
 System.Threading.Timer timer = new System.Threading.Timer(DoSomethingDefault, null, 0, interval);
}   

private void DoSomethingDefault(object state)
{
    if ((DateTime.Now - _lastKeyDownTime).TotalMilliseconds < interval)                            
        return;            

    // modify UI via Invoke
}

private void KeyDown(object sender, KeyEventArgs e)
{
    _lastKeyDownTime = DateTime.Now;

    switch (e.KeyCode)
    {
        // directly modify UI
    }  
} 
```

# javascript - 与猫鼬的循环参考

> ID：10023624
> 
> 赞同：5
> 
> 时间：2012-04-05T06:25:58.357
> 
> 标签：javascript, node.js, mongoose

我有以下用于猫鼬模式的代码

```
var EstacionSchema = new Schema({
    nombre          : {type : String, required: true, unique: true}
  , zona            : {type : String, required: true}
  , rutas           : [Ruta]
})

mongoose.model('Estacion', EstacionSchema)

var RutaSchema = new Schema({
    nombre          : {type : String, required: true, unique: true, uppercase: true}
  , estaciones      : [Estacion]
})

mongoose.model('Ruta', RutaSchema) 
```

但是当我尝试它时它显示

```
ReferenceError: Ruta is not defined 
```

我不确定在 mongoose 中声明模型时如何处理这种循环模式或如何处理多对多关系。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-05T06:42:40.050

首先，您正在引用不存在的变量。您可以通过`RutaSchema`或引用它`mongoose.model('Ruta');`。

我会尝试

```
var EstacionSchema = new Schema({
    nombre          : {type : String, required: true, unique: true}
  , zona            : {type : String, required: true}
})

mongoose.model('Estacion', EstacionSchema)

var RutaSchema = new Schema({
    nombre          : {type : String, required: true, unique: true, uppercase: true}
  , estaciones      : [EstacionSchema]  // or mongoose.Model('Estacion');
})

// Add reference to ruta
EstacionSchema.add({rutas: [RutaSchema]});
mongoose.model('Ruta', RutaSchema) 
```

# iphone - 如何在 iOS5 中播放嵌入的电子管视频

> ID：10023629
> 
> 赞同：0
> 
> 时间：2012-04-05T06:26:21.120
> 
> 标签：iphone, objective-c, ios4, ios5, sdk

我无法解决在我的 iphone 5 上播放 YouTube 视频的问题...我为此使用此代码：

```
 urls = [urls stringByAppendingString:@"&autoplay=1"];
 NSString *htmlString =[NSString stringWithFormat: @"<html><head> <meta name = \"viewport\" content = \"initial-scale = 1.0, user-scalable = no, width = 212\"/></head> <body style=\"background:#F00;margin-top:0px;margin-left:0px\"><div><object width=\"212\" height=\"212\"><param name=\"movie\" value=\"%@\">",urls];

NSString *htm2=[NSString stringWithFormat:@"</param><param name=\"wmode\" value=\"transparent\"></param>    <embed src=\"%@\"type=\"application/x-shockwave-flash\" wmode=\"transparent\" width=\"212\" height=\"212\"></embed>    </object></div></body></html>",urls];
//    NSString* embedHTML = @"<html><head> </head><body style=\"margin:0\"> <iframe title=\"YouTube video player\" class=\"youtube-player\" type=\"text/html\" width=\"%d\" height=\"%d\" src=\"%@\" frameborder=\"0\" allowFullScreen></iframe> </body></html>";  

NSString* html = [NSString stringWithFormat:@"%@%@",htmlString,htm2];
NSLog(@"Html - %@",urls);
float version = [[[UIDevice currentDevice] systemVersion] floatValue];

if(version <= 5.0)
{ 

    NSRange r=[urls rangeOfString:@"v="];
    NSRange ran=NSMakeRange(r.location+2, [urls length]-r.location-2);
    NSString *vid=[urls substringWithRange:ran];
    html=[NSString stringWithFormat:@"<embed id=\"yt\" src=\"http://www.youtube.com/watch?v=%@&fs=0\" type=\"application/x-shockwave-flash\" width=\"300\" height=\"300\"></embed>", vid];
}
//NSLog(html);

[videoView loadHTMLString:html baseURL:nil]; 
```

有人可以帮我解决这个问题吗？您的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:30:28.073

按照以下链接，您将完成此操作

[http://apiblog.youtube.com/2009/02/youtube-apis-iphone-cool-mobile-apps.html](http://apiblog.youtube.com/2009/02/youtube-apis-iphone-cool-mobile-apps.html)

[http://iphoneincubator.com/blog/audio-video/how-to-play-youtube-videos-within-an-application](http://iphoneincubator.com/blog/audio-video/how-to-play-youtube-videos-within-an-application)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-09T08:12:34.647

您是否使用 web view Delegate 方法自动播放视频？如果是，则删除自动播放视频的代码。检查您的 HTML。使用 balh 而不是 . 还有一件事请检查浏览器上的视频 URL 确认视频是否存在 j

# c++ - boost socket 读写函数是线程安全的吗？

> ID：10023631
> 
> 赞同：5
> 
> 时间：2012-04-05T06:26:23.490
> 
> 标签：c++, boost, thread-safety, boost-asio

我使用 boost.asio 来实现网络通信。在主线程中，我创建 TCP 套接字并连接远程机器。然后启动一个工作线程从套接字读取数据。在主线程中，相同的套接字用于发送数据。这意味着在没有互斥锁的两个线程中使用相同的套接字。代码粘贴在下面。套接字的读写功能有什么问题吗？

```
boost::asio::io_service         m_io_service;
boost::asio::ip::tcp::socket    m_socket(m_io_service);
boost::thread*                  m_pReceiveThread;

void Receive();

void Connect()
{
    boost::asio::ip::tcp::endpoint endpoint(boost::asio::ip::address::from_string("127.0.0.1"), 13);
    m_socket.connect(endpoint);

    m_pReceiveThread = new boost::thread(Receive);
}

void Send()
{
    std::wstring strData(L"Message");
    boost::system::error_code error;
    const std::size_t byteSize = boost::asio::write(m_socket, boost::asio::buffer(strData), error);
}

void Receive()
{
    for (;;)
    {
        boost::array<wchar_t, 128> buf = {0};
        boost::system::error_code error;

        const std::size_t byteSize = m_socket.read_some(boost::asio::buffer(buf), error);

        // Dispatch the received data through event notification.
    }
}

int main()
{

    Connect();

    while(true)
    {
        boost::this_thread::sleep( boost::posix_time::seconds(1));
        Send();

    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-31T03:28:57.453

不，这似乎不是线程安全的，根据[http://www.boost.org/doc/libs/1_55_0/doc/html/boost_asio/reference/ip__tcp/socket.html](http://www.boost.org/doc/libs/1_55_0/doc/html/boost_asio/reference/ip__tcp/socket.html)的底部，以及以前的答案[boost::asio::socket 线程安全](https://stackoverflow.com/questions/7362894/boostasiosocket-thread-safety?rq=1)

# c++ - C++：对动态内存的引用

> ID：10023632
> 
> 赞同：6
> 
> 时间：2012-04-05T06:26:25.190
> 
> 标签：c++, pointers, reference

除了关于何时使用 which 的所有考虑之外，我仍然不确定指针与引用语义。

现在，我的印象是引用本质上是在声明它们时必须初始化的指针，然后从那时起不能指向其他任何东西。换句话说，它们是一个`Type* const`（不是`Type const*`），或者，它们不能被*重新*安装。它本质上成为该对象的“新名称”。现在我听说引用实际上不需要由编译器使用指针来实现，但我的印象是你仍然可以这样想它们，关于它们的可见行为将是什么。

但是为什么你不能做这样的事情：

```
int& foo = new int; 
```

我想创建对动态内存的引用。这不编译。我得到错误

```
error: invalid initialization of non-const reference of type 'int&' from a temporary of type 'int*' 
```

这对我来说很有意义。似乎 new 运算符将给定类型的指针返回到操作系统的内存地址？为我动态分配。

那么如何创建对动态内存的“引用”呢？

编辑：将不胜感激提供精确解释 C++ 中引用和指针之间差异的资源链接。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-05T06:28:08.653

`new`返回一个指向已分配内存的指针，因此您需要在指针中捕获返回值。

您可以在分配完成后创建对指针的引用。

```
int *ptr = new int;
int* &ref = ptr; 
```

然后在使用后将其删除：

```
delete ref; 
```

或者更简单地说，

```
int &ref = *(new int); 
```

使用后删除它：

```
delete &ref; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-05T06:28:33.973

你可以得到这样的参考：

```
int& foo = *(new int); 
```

通常，要从您那里获得`T*`使用`T&`“`*`取消引用”指针。

然而，这首先不是一个好主意。您通常使用指针来存储堆分配对象的地址。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-04-05T06:47:57.927

引用是*语法糖*。它们允许使用点运算符而不是箭头来访问对象。

您选择使用指针还是引用是*语义*的。当您通过对方法的引用传递对象或从方法返回引用时，您是在说：“这是我的对象，您可以使用它，但我拥有它（它可能在堆栈或堆上。 )" 因此，此处建议语法的其他答案在`delete &foo;`技术上可能有效，但闻起来很糟糕；如果你有一个对象的引用，那么你不应该删除它。您不拥有它，最重要的是，由于您无法重置引用，因此您最终会获得对已释放内存的引用，这是*一件坏事*。

现在，如果您在堆上分配了一个对象（称为“新”来创建它），那么您确实拥有它，并负责稍后清理它，因此您需要持有指向它的指针。为什么？因此，您可以稍后安全地删除它并将指针设为空。

因此，除了使用点而不是箭头的机械差异之外，指针和引用之间的区别在于，通过引用传递给方法，您可以指示应该如何使用对象。即使可能，通过调用 new 直接初始化引用也是无稽之谈。

# java - 发布没有 Picasa 网络相册元数据的照片（结果 403 禁止）

> ID：10023634
> 
> 赞同：0
> 
> 时间：2012-04-05T06:26:32.323
> 
> 标签：java, android, picasa

将没有元数据的照片上传到 Picasa 网络相册时发生错误（返回 403 Forbidden）。（备注：它使用 OAuth2.0，“userId”不是 gmail 地址[数字 id]）我不知道场合。有人请技术支持谢谢

```
public String setdData(Context context, String filePath, String userId, String albumId, String accessToken) {

    // new ImageUploader(context, filePath, filePath).run();
    String url = "https://picasaweb.google.com/data/feed/api/user/" + userId + "/albumid/"
        + albumId;
    HttpClient httpClient = new DefaultHttpClient();
    File file = new File(filePath);
    HttpPost httpPost = new HttpPost(url);
    httpPost.setHeader("GData-Version", "2");
    // httpPost.addHeader("MIME-version", "1.0");
    httpPost.setHeader("Content-type", "image/jpeg");
    httpPost.setHeader("Slug", "plz-to-love-realcat.jpg");
    // httpPost.addHeader("Content-Length", String.valueOf(file.length()));
    httpPost.setHeader("Authorization", "GoogleLogin auth=" + accessToken);
    // httpPost.setHeader("Authorization", "OAuth " + accessToken);

    InputStreamEntity reqEntity;
    org.apache.http.HttpResponse response;

    try {
        reqEntity = new InputStreamEntity(new FileInputStream(file), file.length());

        String CONTENTTYPE_BINARY = "binary/octet-stream";
        reqEntity.setContentType(CONTENTTYPE_BINARY);
        reqEntity.setChunked(true);
        httpPost.setEntity(reqEntity);
        response = httpClient.execute(httpPost);

        Log.d("Picasa Upload", "STATUS CODE : " + response.getStatusLine().getStatusCode());

    } catch (FileNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T13:09:39.460

我假设您的 accessToken 不为空...

这是我的代码，它适用于我：

```
public boolean setdData(Context context, String filePath, String userId, String albumId, String accessToken) {
    boolean success = false;
    Bitmap bitmap = BitmapFactory.decodeFile(filePath);

    if (bitmap != null) {
        try {
            ByteArrayOutputStream baos = new ByteArrayOutputStream();
            bitmap.compress(Bitmap.CompressFormat.JPEG, 87, baos);
            byte[] data = baos.toByteArray();

            ByteArrayInputStream inputStream = new ByteArrayInputStream(data);
            HttpRequestFactory requestFactory = new NetHttpTransport().createRequestFactory();
            InputStreamContent content = new InputStreamContent("image/jpeg", inputStream);

            HttpRequest request = requestFactory.buildPostRequest(new genericUrl("https://picasaweb.google.com/data/feed/api/user/"+userId+"/"+albumId+"/default"), content);
            GoogleHeaders headers = new GoogleHeaders();
            String fileName = "Whatever...";
            headers.setSlugFromFileName(fileName);
            headers.setAuthorization("OAuth " + accessToken);
            request.setHeaders(headers);
            request.execute().ignore();
            // Success!
            success = true
        } catch (IOException e) {
        }
    }
    return success;
} 
```

要使此代码正常工作，您需要包含一些库。
我用了这些：

google-http-client-1.10.2-beta.jar
google-api-client-1.10.2-beta.jar
google-oauth-client-1.10.0-beta.jar
jsr305-1.3.9.jar
guava-11.0。 1.jar

您可以在这里找到它们：
[http ://code.google.com/p/google-api-java-client/downloads/detail?name=google-api-java-client-1.10.2-beta.zip](http://code.google.com/p/google-api-java-client/downloads/detail?name=google-api-java-client-1.10.2-beta.zip)

# asp.net - 将url添加到gridview中的超链接字段

> ID：10023635
> 
> 赞同：0
> 
> 时间：2012-04-05T06:26:34.387
> 
> 标签：asp.net, gridview, hyperlink

我有一个动态网格视图。我在页面加载中添加列。

我使用此代码添加超链接字段：

```
 string[] url = new string[1];
 url[0] = field.InternalName;
 HyperLinkField link = new HyperLinkField();
 link.HeaderText = field.Title;
 link.DataNavigateUrlFields = url;
 link.DataNavigateUrlFormatString = "{0}";
 link.DataTextField = field.InternalName;
 link.SortExpression = field.InternalName;
 grid.Columns.Add(link); 
```

我的问题是：例如我的网址是“http://Test1.docx, [http://Test1.docx](http://Test1.docx) ”。

我想要 navigateurl 设置 "http://Test1.docx" 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:34:01.810

如果我正确理解问题所在。该`field.InternalName`字段包含您分配给字符串数组的“http://Test1.docx, [http://Test1.docx](http://Test1.docx) ”，并且您试图仅获取逗号之前的第一个值。

在这种情况下，您将需要拆分字符串：

```
string[] urlSplit = field.InternalName.Split(',');  
link.DataNavigateUrlFields = urlSplit[0]; 
```

# http - HTTP 规范：代理授权和授权标头

> ID：10023636
> 
> 赞同：47
> 
> 时间：2012-04-05T06:26:37.373
> 
> 标签：http, authentication, basic-authentication, specifications, proxy-authentication

所以我试图实现以下场景：

*   应用程序受基本身份验证保护。假设它托管在`app.com`
*   应用程序前面的 HTTP 代理也需要身份验证。它托管在`proxy.com`

因此，用户必须在同一请求中为代理和应用程序提供凭据，因此他有不同的用户名/密码对：一对用于针对应用程序验证自己，另一个用户名/密码对用于针对代理验证自己。

阅读规范后，我不确定我应该如何实现这一点。我想做的是：

1.  用户在没有任何身份验证的情况下向代理发出 HTTP 请求。
2.  代理回答`407 Proxy Authentication Required`并返回`Proxy-Authenticate`格式为： 的标头`"Proxy-Authenticate: Basic realm="proxy.com"`。
    **问题**：此`Proxy-Authenticate`标头设置正确吗？
3.  客户端然后使用`Proxy-Authorization`标头重试请求，即代理的 Base64 表示`username:password`。
4.  这次代理对请求进行身份验证，但随后应用程序使用`401 Unauthorized`标头进行响应。用户由代理验证，但不是由应用程序验证。`WWW-Authenticate`应用程序会在响应中添加一个标头，例如`WWW-Authenticate: Basic realm="app.com"`. **问题**：此标头值正确吗？
5.  `Proxy-Authorization`客户端再次使用标头和标头重试请求，该标`Authorization`头的值是应用程序的 Base64 表示`username:password`。
6.  此时，代理成功地验证了请求，并将请求转发给对用户进行身份验证的应用程序。客户终于得到了回复。

整个工作流程是否正确？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-22T03:56:14.313

是的，对于您描述的情况，这看起来像是一个有效的工作流程，并且那些 Authenticate 标头似乎采用正确的格式。

有趣的是，一个给定的连接有可能（尽管不太可能）涉及链接在一起的多个代理，并且每个代理本身都可能需要身份验证。在这种情况下，每个中间代理的客户端本身会返回一条`407 Proxy Authentication Required`消息，并自己重复带有`Proxy-Authorization`标头的请求；和标头是单跳标头`Proxy-Authenticate`，`Proxy-Authorization`不会从一个服务器传递到下一个服务器，而是`WWW-Authenticate`被`Authorization`认为是从客户端到最终服务器的端到端标头，由中介逐字传递。

由于该`Basic`方案以明文形式发送密码（base64 是一种可逆编码），因此它最常用于 SSL。此方案以不同的方式实现，因为希望防止代理看到发送到最终服务器的密码：

*   客户端打开到代理的 SSL 通道以发起请求，但不是提交常规 HTTP 请求，而是提交[一个特殊`CONNECT`请求](http://en.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_Tunneling)（仍然带有`Proxy-Authorization`标头）以打开到远程服务器的 TCP 隧道。
*   然后，客户端继续创建*另一个*嵌套在第一个 SSL 通道中的 SSL 通道，在该通道上传输包括`Authorization`标头在内的最终 HTTP 消息。

在这种情况下，代理只知道客户端连接的主机和端口，而不是通过内部 SSL 通道传输或接收的内容。此外，嵌套通道的使用允许客户端“看到”代理和服务器的 SSL 证书，从而允许验证两者的身份。

# php - 通过 jquery 显示来自 php 文件的记录；

> ID：10023637
> 
> 赞同：0
> 
> 时间：2012-04-05T06:26:40.697
> 
> 标签：php, javascript, jquery, html

好的，我有这个代码

我脑海中的一个脚本。

```
function checkForm(e) {
if (e.keyCode == 13) {
    $('#de').hide()

    $.post('search.php', { name : search.searchinput.value() }, function(output) {
    $('#searchpage').html(output).show();
});

}
} 
```

这是html部分：

```
<form name="search" id="searchbox">
    <input name="searchinput" value="search item here..." type="text"   id="inputbox" onkeydown="checkForm(event);" onclick="clickclear(this, 'search item   here...')" onblur="clickrecall(this,'search item here...')"/><input id="submit" value=""   OnClick="checkForm(event);" type="submit"/>
</form>
<div id="searchpage"></div> 
```

这是脚本将数据传递到的 php 文件。

```
<?
$name= $_POST['name'];

$con=mysql_connect("localhost", "root", "");

if(!$con)
{
die ('could not connect' . mysql_error());
}
mysql_select_db("juliver", $con);

$result = mysql_query("SELECT * FROM items WHERE title='$name' OR description='$name'     OR type='$name'"); 
$vv = "";
while($row = mysql_fetch_array($result))
{
$vv .= "<div id='itemdiv2' class='gradient'>";
$vv .= "<div id='imgc'>".'<img src="Images/media/'.$row['name'].'" />'."<br/>";
$vv .= "<a href='#?w=700' id='".$row['id']."' rel='popup' class='poplight'>View full</a>"."</div>";
$vv .= "<div id='pdiva'>"."<p id='ittitle'>".$row['title']."</p>";
$vv .= "<p id='itdes'>".$row['description']."</p>";
$vv .= "<a href='".$row['link']."'>".$row['link']."</a>";
$vv .= "</div>"."</div>";
}

echo $vv;
mysql_close($con);
?> 
```

这是场景，用户在文本框名称上放置了任何文本：'searchinput'，因此每当用户按下回车键时，函数 checkForm(e) 将执行并将数据从输入字段名称传递：'searchinput' 到php 文件，然后该 php 文件将处理数据到 mysql 并查看脚本传递到 php 文件的数据是否与 mysql 记录匹配，然后如果匹配，则 php 文件将传递该数据返回进入脚本，然后脚本会将数据输出到#searchpage div。

问题：

“所有都不起作用”和 go 按钮上的 onclick 功能不起作用“

请帮忙，我坚持这个。先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:57:45.780

首先，有一个名为[Jsfiddle](http://jsfiddle.net/)的网站。将您的代码粘贴到网站中，然后将 URL 粘贴到此处。它使您的帖子更具可读性。

现在，如果您使用的是 jQuery，那么为什么要依赖 onkeydown 和 onclick 事件呢？最好使用 jQuery 的 live 功能。我已经改变了你的代码。看看[这里](http://jsfiddle.net/MtnEe/)。您可以将实时功能用于其他事件，例如 onclick、onfocus、onblur 等。它使您的 HTML 代码更加清晰易读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:59:41.800

你必须阻止表单提交数据，使用类似 onsubmit="return (checkForm(e))"

并仔细检查语法错误，例如你在这一行错过了分号 $('#de').hide()

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:56:07.070

考虑使用加载而不是发布
（并删除表单标签或将输入更改为 textarea，否则按 Enter 将提交您的表单）

```
$('#inputbox').keypress(function(event){
 var keycode = (event.keyCode ? event.keyCode : event.which);
 if(keycode == '13')
  {
    $('div#searchpage').load('search.php',{name: $(this).val()});   
  }
}); 
```

# google-chrome - 如何重新定位 Chrome 开发者工具

> ID：10023640
> 
> 赞同：502
> 
> 时间：2012-04-05T06:27:04.660
> 
> 标签：google-chrome, google-chrome-devtools

默认情况下，这些工具会在 chrome 窗口的底部打开。对于宽屏显示器来说，这是一个相当糟糕的选择，因为右边有很多空白空间，但没有多少垂直空间可以腾出。不幸的是，我没有找到重新定位工具的方法。我想把它们放在一边，类似于萤火虫。

与我想要的类似的唯一选择是分离开发工具并将 chrome 和工具窗口并排放置。这对于从 IDE 到浏览器并返回的快速 alt-tabbing 不是很方便，因此“集成”解决方案会很好。

* * *

## 回答 #1

> 赞同：916
> 
> 时间：2012-04-05T20:20:05.563

## Chrome 46 或更新版本

单击垂直省略号按钮 ( ⋮ )，然后选择所需的停靠选项。

![](../Images/3ba8ef05e1de60983f17ff58842c7a15.png)

## Chrome 45 或更早版本

长按右上角的停靠图标。它会弹出一个更改对接的选项

![](../Images/c4c06c17c5c68c62a787d5d77fee1409.png)

要更改 HTML 和 CSS 面板之间的拆分，请在 DevTools 中转到设置 (F1) > 常规 > 外观 > 面板布局。

* * *

## 回答 #2

> 赞同：70
> 
> 时间：2014-01-28T19:58:55.713

将您的指针放在停靠按钮上并长按（几秒钟）或鼠标左键单击，具体取决于浏览器版本。

![在此处输入图像描述](../Images/811afa47053abe6080762a55619a1889.png) ![在此处输入图像描述](../Images/d8bc5e47693b54bc7bd0d2a4511d560e.png)

* * *

## 回答 #3

> 赞同：43
> 
> 时间：2015-03-24T02:00:12.747

# 切换停靠位置（侧面/底部）的键盘快捷键

`**CTRL**`+ `**SHIFT**`+`**D**`

并且有许多快捷方式，您可以通过以下方式查看它们

**Settings » Shortcuts**，如下所示：
![设置截图](../Images/569e3d7772422caa6f2d9fc954615aa3.png)

或者，使用`**CTRL**`+`?`进入设置，从那里可以到达左侧的“快捷方式”子项或使用[官方参考](https://developer.chrome.com/devtools/docs/shortcuts)。

* * *

## 回答 #4

> 赞同：18
> 
> 时间：2012-11-03T22:19:12.017

看起来这现在在左下角，作为一个带有重叠窗口的图标和“取消停靠到单独的窗口”。工具提示。

![在此处输入图像描述](../Images/2b4977a79a75db3584d0a0964c390ad6.png)

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2013-06-06T09:15:22.113

将扩展坞放在右侧后（请参阅较早的答案），我仍然发现面板垂直拆分。

要水平拆分面板 - 甚至从屏幕宽度中获得更多 - 转到设置（右下角），然后取消选中“停靠到右侧时垂直拆分面板”。

现在，您拥有从左到右的所有面板：p

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2014-10-16T11:28:09.683

截至 2014 年 10 月，版本 39.0.2171.27 beta（64 位）

我需要在 Chrome Web Developer 中进入“设置”并***在停靠到右侧时取消选中垂直拆分面板***

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-03-30T13:01:20.057

我现在使用的版本 56.0.2924.87，如果您不在桌面中，则会自动取消停靠 DevTools。否则打开一个新的新 Chrome 选项卡并检查以将 DevTools 停靠回窗口。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2021-01-30T23:37:02.193

如果您使用 Windows，则在打开 devtools 时有一些快捷方式：

按`Ctrl`++将所有开发工具`Shift`依次`D`停靠在左、右、底部。

如果您的 JS 控制台消失了，并且您希望它在开发工具中停靠回底部，请按`Ctrl`+ `Shift`+ 。`F`

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-11-13T06:25:49.070

此外，如果您想在一个窗口中查看 Sources 和 Console，请访问：

> “自定义和控制 DevTools -> “显示控制台抽屉”

*您也可以在右上角看到它：*

[![](../Images/298dd5ed32d098c7567f35852f64cf77.png)](https://i.stack.imgur.com/WDWIT.png)

# c++ - QComboBox EventFilter 弹出

> ID：10023642
> 
> 赞同：0
> 
> 时间：2012-04-05T06:27:17.657
> 
> 标签：c++, linux, qt, events, qcombobox

我有一个小问题，我需要将我的事件过滤器设置为 QComboBox 弹出窗口。我需要在按下左右键时捕捉事件。我怎样才能做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-28T14:59:09.553

您需要在 QComboBox 的 view() (http://qt-project.org/doc/qt-4.8/qcombobox.html#view) 上设置 eventFilter。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-11-11T10:40:42.260

这个问题很老了，但我提供了我的答案，因为它可以帮助别人。

弹出后，所有事件都将发送到用于 QComboBox 弹出的列表视图。您可以使用键处理程序类监视列表视图的事件来完成任务。

**KeyPressHandler.h：**

```
class KeyPressHandler : public QObject
{
    Q_OBJECT
public:
   explicit KeyPressHandler(QObject *parent = nullptr);
   virtual ~KeyPressHandler() override;

protected:
    bool eventFilter(QObject *obj, QEvent *event) override;
}; 
```

**KeyPressHandler.cpp：**

```
#include <QCoreApplication>

KeyPressHandler::KeyPressHandler(QObject *parent) : QObject(parent)
{

}

KeyPressHandler::~KeyPressHandler()
{
}

bool KeyPressHandler::eventFilter(QObject *obj, QEvent *event)
{
    if (event->type() == QEvent::KeyPress)
    {
        QKeyEvent *keyEvent = static_cast<QKeyEvent *>(event);

        switch(keyEvent->key())
        {
          case Qt::Key_Left:
            // Send press event for the Key_Up which understood by list view
            QCoreApplication::postEvent(obj, new QKeyEvent(QEvent::KeyPress,
                                                           Qt::Key_Up,
                                                           Qt::NoModifier));
            return true;
          case Qt::Key_Right:
            QCoreApplication::postEvent(obj, new QKeyEvent(QEvent::KeyPress,
                                                           Qt::Key_Down,
                                                           Qt::NoModifier));
            return true;
          default:
            break;
        }
    }

    // standard event processing
    return QObject::eventFilter(obj, event);
} 
```

在 ComboBox 中，您需要在显示弹出窗口时安装事件过滤器。它可以以不同的方式完成，例如通过覆盖 `QComboBox::showPopup()`函数。

**我的组合框.h：**

```
#include <memory>
#include <QComboBox>

class MyComboBox : public QComboBox
{
  Q_OBJECT
public:
  explicit MyComboBox(QWidget *parent = 0);
protected:
    void showPopup() override;
    void hidePopup() override;    
private:   
    std::unique_ptr<KeyPressHandler> m_key_press_handler;
}; 
```

我的组合框.cpp：

```
...
void MyComboBox::showPopup()
{
  if(!m_key_press_handler)
  {
    m_key_press_handler.reset(new KeyPressHandler());
    QAbstractItemView *v = view();
    v->installEventFilter(m_key_press_handler.get());
  }

  QComboBox::showPopup();
}

void MyComboBox::hidePopup()
{
  m_key_press_handler.reset(nullptr);
  QComboBox::hidePopup();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T07:09:21.317

您可能需要在代码中的某处添加以下代码。

```
 void MyComboBox::keyPressEvent (QKeyEvent *event)
 {
     if (event->button() ==  Qt::Key_Left) 
     {
         // handle left key press
     } 
     if (event->button() ==  Qt::Key_Right) 
     {
         // handle right key press
     }
 } 
```

希望这可以帮助！

# c# - 如何从其他系统运行应用程序

> ID：10023648
> 
> 赞同：1
> 
> 时间：2012-04-05T06:27:45.987
> 
> 标签：c#, asp.net, vb.net, configuration, app-config

应用程序正在我的本地系统中运行

app.config 文件

```
<add key="dbconn" value="Data Source=(local);database=VTech;User ID=sa;Password=sa;" />
    <add key="rpPath" value="C:\ATech\Reports\" />
    <add key="dbUid" value="sa" />
    <add key="dbPwd" value="sa" />
    <add key="dbSvr" value="ATech" />
<add key="dbName" value="VTech" /> 
```

上面的配置正在运行我的本地系统，现在我想在其他系统中安装应用程序，然后我想配置 sql server 并将配置报告给我的系统

我的电脑名称是`accsystem` ip 地址是`10.1.1.190`

我试过这样，但在其他系统中运行应用程序时显示错误

```
<add key="dbconn" value="Data Source=\\10.1.1.190\;database=VTech;User ID=sa;Password=sa;" />
    <add key="rpPath" value="\\10.1.1.190\C:\ATech\Reports\" />
    <add key="dbUid" value="sa" />
    <add key="dbPwd" value="sa" />
    <add key="dbSvr" value="ATech" />
<add key="dbName" value="VTech" /> 
```

我共享和完全访问我的应用程序文件夹，但它仍然显示错误。

我的代码有什么问题。

需要代码帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:50:28.383

尝试使用

```
<add key="dbconn" value="Data Source=10.1.1.190;database=VTech;User ID=sa;Password=sa;" />
<add key="rpPath" value="\\10.1.1.190\Reports\" />
<add key="dbUid" value="sa" />
<add key="dbPwd" value="sa" />
<add key="dbSvr" value="ATech" /> 
```

希望这有帮助

# c++ - Qt4.7 -- “QtCore/QFile: 没有这样的文件或目录”

> ID：10023651
> 
> 赞同：1
> 
> 时间：2012-04-05T06:27:59.997
> 
> 标签：c++, qt, user-interface

我必须为我的 GUI 类设置一个 Qt 开发环境。我正在完成一个教程，并被指示`<QTCore/QFile>`在我的实现文件中包含标题。但是，我无法构建项目，因为找不到上面的头文件。

我不确定我在这里缺少什么——我安装了 Qt-Creator 和来自 Debian 包管理器的所有依赖项（当前使用 Wheezy）。IDE 中的 Qt 4.7 文档也有关于上述头文件的部分，但似乎无法找到它们……奇怪。

注意：标题应该是`<QtCore/QFile`>.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:51:06.290

1.  只是`#include <QFile>`会更兼容Qt5。还要注意你的大写 T，它应该是`#include <QtCore/QFile>`- 记住 unix/linux 文件系统是区分大小写的。
2.  您查看的是库文件，而不是包含文件。这些在 C/C++ 中是不同的东西。
3.  正如 trojanfoe 正确提到的那样 - 您可能缺少 Qt4 的开发包。

# drupal - 在 drupal7 中添加分类术语时出现实体格式错误的异常错误

> ID：10023653
> 
> 赞同：1
> 
> 时间：2012-04-05T06:28:05.440
> 
> 标签：drupal, drupal-taxonomy, drupal-entities

我正在使用 Drupal7。当我在分类词汇表中添加一个新术语时，出现以下错误。

“实体格式错误：缺少类型 node.in entity_extract_ids() 实体上的捆绑属性（/home/clutch2/sitename/html/drupal/includes/common.inc 的第 7409 行。”

当我查看我试图在其中的分类词汇表中的术语列表时

添加一个新的，显示我添加的术语。我必须做些什么才能摆脱

此错误消息？任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T23:46:34.417

此问题可能由多种原因引起，具体取决于您使用的模块。

*   [这可能是由 Drupal 核心错误引起的，其中删除术语后未删除术语引用字段的数据库记录](http://drupal.org/node/1281114)
*   [通过 Feeds 模块，数据导入失败，因此创建了一个没有标题或任何数据的孤立节点。](http://drupal.org/node/1394320)
*   [使用数据库搜索索引时的搜索 API](http://drupal.org/node/1402270)
*   [视图，其中 hook_field_formatter_prepare_view 从未调用附加到节点页面上当前节点的实体字段](http://drupal.org/node/1473228)

* * *

**解决方案：**

[Taxonomy Orphanage 模块](http://drupal.org/project/taxonomy_orphanage)应该可以帮助您从实体中删除孤立的分类术语引用，因为目前这在 Drupal 7.x 核心中尚未修复。如果这不起作用，请尝试[Field reference delete module](http://drupal.org/sandbox/drothstein/1775816)。

* * *

您也可以手动跟踪问题。这是我用来跟踪无效引用的 sql 查询：

```
drush sqlq "SELECT nid, title from node WHERE nid IN (select entity_id from  field_data_field_some_ref WHERE field_some_ref_tid not IN (select tid from taxonomy_term_data));" 
```

其中 field_data_field_some_ref 是 field_some_ref 的数据字段，它是“术语引用”的类型。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T08:30:44.263

[显然这是 Drupal 7.8 更新问题，您可以在此处](http://drupal.org/node/1266620)和[此处](http://www.jordanpeterson.me/blog/drupal-78-upgrade-issues)找到如何修复它

希望有帮助。

# linux - 关于外壳和子外壳

> ID：10023666
> 
> 赞同：3
> 
> 时间：2012-04-05T06:29:06.940
> 
> 标签：linux, bash, shell

我是shell新手，我刚刚了解到使用（命令）会创建一个新的子shell并执行命令，所以我尝试打印父shell和子shell的pid：

```
#!/bin/bash

echo $$
echo "`echo $$`"
sleep 4
var=$(echo $$;sleep 4)
echo $var 
```

但答案是：

```
$./test.sh
9098
9098
9098 
```

我的问题是：

1.  为什么只有三个回声打印？我的代码中有 4 个回声。
2.  为什么三个pid是一样的？subshel​​l 的pid 显然和他父亲的不一样。

非常感谢您的回答:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-05T06:40:30.180

首先，分配*捕获*孩子的标准输出并将其放入`var`，而不是打印它：

```
var=$(echo $$;sleep 4) 
```

这可以通过以下方式看到：

```
$ xyzzy=$(echo hello)
$ echo $xyzzy
hello 
```

其次，所有这些`$$`变量都在*当前*shell 中进行评估，这意味着它们在任何子进程启动*之前都已转换为当前 PID。*孩子们看到已经生成的PID。换句话说，孩子们正在执行`echo 9098`而不是`echo $$`。

如果你想要孩子的PID，你必须防止在父母中翻译，例如使用单引号：

```
bash -c 'echo $$' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T08:25:40.550

```
echo "one.sh $$"
echo `eval echo '$$'` 
```

我期待上面打印不同的pid，但事实并非如此。它正在创建一个子进程。**通过在``**中添加 sleep 来验证。

```
echo "one.sh $$"
echo `eval "echo '$$'";sleep 10` 
```

从脚本执行上述内容并运行**ps**会显示两个进程 one.sh（脚本的名称）和睡眠。

```
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
test    12685  0.0  0.0   8720  1012 pts/15   S+   13:50   0:00      \_ bash one.sh
test    12686  0.0  0.0   8720   604 pts/15   S+   13:50   0:00          \_ bash one.sh
test    12687  0.0  0.0   3804   452 pts/15   S+   13:50   0:00              \_ sleep 10 
```

这是产生的输出

```
one.sh 12685
12685 
```

不知道我错过了什么。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-30T13:12:35.470

解决办法是`$!`。如：

```
#!/bin/bash

echo "parent" $$
yes > /dev/null &
echo "child" $! 
```

输出：

```
$ ./prueba.sh
parent 30207
child 30209 
```

# ruby-on-rails - 无法使用设备更新密码？

> ID：10023667
> 
> 赞同：0
> 
> 时间：2012-04-05T06:29:07.423
> 
> 标签：ruby-on-rails

我有一个带有密码、password_confirmation 和 current_password 字段的表单，当我尝试更新它时，它不会更改数据库中的密码。我只想用当前密码更新密码，并在没有当前密码的情况下更新其他字段，如姓名、电子邮件和姓氏……我一直在为此苦苦挣扎，我不知道我在哪里我错了...电子邮件、姓名和姓氏字段可以更新，但密码不能更新，它只会将我重定向到根页面！

这是型号：

```
 attr_accessible :name,:email,:lastname,:password,:password_confirmation,:current_password,:remember_me

 validates :name,:presence=>true,
              :length=>{:maximum=>50}

 validates :lastname,:presence=>true,
                  :length=>{:maximum=>50}

 def update_with_password(params={})
    current_password = params.delete(:current_password)

    if params[:password].blank?
      params.delete(:password)
      params.delete(:password_confirmation) if params[:password_confirmation].blank?
    end 

   result =  if valid_password?(current_password) 
     update_attributes(params)
    else
      self.attributes = params
      self.valid?
      self.errors.add(:current_password, current_password.blank? ? :blank : :invalid)
      false
    end 

    clean_up_passwords
    result
  end      

  def update_without_password(params, *options)
    params.delete(:password)
    params.delete(:password_confirmation)

    result = update_attributes(params, *options)
    clean_up_passwords
    result
  end 
```

这是我的注册控制器：

```
class RegistrationsController < Devise::RegistrationsController 
def edit
@user = current_user
end

def update
@user = User.find(current_user.id)

if @user.update_without_password(params[:user])  
  # Sign in the user by passing validation in case his password changed
  sign_in @user, :bypass => true
  flash[:success]="Profile updated"
  redirect_to edit_user_registration_path(current_user.id)
else
  render "edit"
end 
```

结束结束

我的密码控制器：

```
class PasswordsController < Devise::PasswordsController
before_filter :authenticate_user!

def edit
@user = current_user
end

def update
@user = current_user
# raise params.inspect
  if @user.update_with_password(params[:user])
    sign_in @user,:bypass=>true
    flash[:success]="You already changed your pass"  
  redirect_to edit_user_password_path(current_user.id)
else
  render :edit
end
end 
end 
```

我的密码编辑视图：

```
<h2>Change your password</h2>
<%= form_for(resource, :as => resource_name, :url => password_path(resource_name), :html => { :method => :put }) do |f| %>
<%= devise_error_messages! %>
<%= f.hidden_field :reset_password_token %>
<div><%= f.label :current_password, "Old password" %><br />
<%= f.password_field :current_password %></div>

<div><%= f.label :password, "New password" %><br />
<%= f.password_field :password %></div>
<div><%= f.label :password_confirmation, "Confirm new password" %><br />
<%= f.password_field :password_confirmation %></div>  
<div><%= f.submit "Change my password" %></div>
<% end %>
<%= render :partial => "devise/links" %> 
```

我将不胜感激一些帮助我被困在这些一段时间...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:51:07.593

您不会将用户保存在 Controller 中。

您可以在您的`update_without_password`方法或控制器中执行此操作。

```
 def update_with_password(params={})
    current_password = params.delete(:current_password)

    if params[:password].blank?
      params.delete(:password)
      params.delete(:password_confirmation) if params[:password_confirmation].blank?
    end 

   result =  if valid_password?(current_password) 
     update_attributes(params)
    else
      self.attributes = params
      self.valid?
      self.errors.add(:current_password, current_password.blank? ? :blank : :invalid)
      false
    end 

    clean_up_passwords
    result
    save
  end 
```

# javascript - 作为 javascript 函数的结果，在 g:remoteLink 中传递参数

> ID：10023672
> 
> 赞同：4
> 
> 时间：2012-04-05T06:29:19.700
> 
> 标签：javascript, grails

在 .gsp 文件中我有 javaScript 函数

```
<script type="text/javascript">
 function getCurrentItemNumber(){
        return document.getElementById('item_itemNumber').innerHTML.substr(6);
    }
</script> 
```

在 g:remoteLink 我喜欢使用该函数传递参数

像下面的东西......

```
<g:remoteLink id="remove_item_button" action="removeItem" update="itemBox"
            params="[itemNumber:getCurrentItemNumber()]">- Remove Item</g:remoteLink> 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:10:34.003

作为解决方法，我可以建议以下

1.  将 g:remoteLink 更改为简单链接

    "<"a id="remove_item_button" class="btn small primary" onclick="removeItem();">- 删除项目 "</a>

2.  添加将通过 AJAX 提交数据的 javaScript 函数

    function removeItem() { $.ajax({type:'POST', data:{ **'itemNumber':getCurrentItemNumber()** }, url:'${createLink(action: 'removeItem')}', success:function (data, textStatus) { jQuery('#itemBox').html(data); }}); }

# css - sencha 中的按钮背景颜色

> ID：10023676
> 
> 赞同：4
> 
> 时间：2012-04-05T06:29:55.893
> 
> 标签：css, sencha-touch

我是煎茶触摸的新手。我们如何将按钮的背景颜色更改为白色？我有一个按钮，每个角落都有两个图像。我希望按钮是纯白色的。我尝试使用这样的css：

```
.quest {
background: url(../images/quest.jpg) no-repeat left,
       url(../images/rightarrow.jpg) no-repeat right;
       background-color: white;
       border: none;
       border-color:white;
       padding-left: 50px;
       text-align: left;
} 
```

我的按钮在这里：

```
{
    xtype: 'button',
    text: '<div class="quest">Info</div>',
    labelWidth: '100%',
    name: '',
    handler: function() {                 
    }
} 
```

我的按钮有灰色边框（sencha 中的默认按钮颜色为灰色），中间为白色。我如何使它完全变白？请帮忙。

我什至尝试过：

```
style: "background-color: white" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-06T06:50:53.500

使用“cls”属性解决了我的问题。

```
 {

                   xtype: 'button',
                   cls: 'btn',
                   text: '<div class="person">People</div>',
                   labelWidth: '100%',

                }, 
```

在我的 app.css 中定义

```
.btn
{
background-color: white !important;
background-image: none;
} 
```

我们必须重新定义 background-color 和 background-image 属性，以便覆盖默认的 sencha-touch.css 属性。感谢 Thiem Nguyen 的帮助。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-05T08:33:55.553

这应该呈现您想要的按钮:)

```
config: {
        ui: 'plain',
        text: 'Your Text',
        style: 'background-color:white;'
    } 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-04-05T22:43:07.547

就像 Thiem Nguyen 说的，这行得通

```
 {
                xtype:'button',
                text:'text',
                ui:'plain',
                style:'background-color:white'
            } 
```

# c++ - c++ iostream - 未创建输出文件

> ID：10023679
> 
> 赞同：0
> 
> 时间：2012-04-05T06:30:08.857
> 
> 标签：c++, iostream

我添加了一些命令以在给定类的方法中生成输出文件。这工作得很好，并且在执行期间生成了输出文件。现在我对代码进行了重大更改（但根本没有对输出文件命令进行更改），我不再正确生成输出了吗？这可以从哪里来？我更改的代码似乎与输出命令没有任何联系。构造函数看起来像

```
solverMethod::solverMethod(solverInput*inp_):solverMethod(inp_)
{
ndim = m_input->getNbParams(); 

bestFuncEval = DBL_MAX;

NMAX = m_input->getMaxIter();

FTOL = m_input->getTolerance();

NITER = 0;

logMode = true;

osOutput.open("F://Output.txt") ; 
```

}

其中成员 boolean logMode 决定评论是否处于活动状态。

在不同的方法中，我有类似的代码

```
if(logMode)
{   
    osOutput << "\n";
    osOutput << " - - BUILD  ";
    osOutput << "\n";

    osOutput << "INITIAL";
    osOutput << "\n";
    for(int k=0;k<npts;k++)
    {
        for(int j=0;j<m_ndim;j++)
        {
            osOutput << s_[k][j]  ;
            osOutput << ",  ";
        }
    }
    osOutput << "\n";
} 
```

产生意见

然后我在主要方法结束时：

```
 // ....

osOutput.close();
return true;
 } 
```

你有任何进一步的信息

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:31:28.297

之后的流的状态是`open`什么？您几乎总是想检查是否`open`成功（以及关闭后是否所有写入都成功）。您可以尝试以下方法：

```
osOutput.open(...);
if ( !osOutput.is_open() ) {
    std::cerr << "Cannot create ..., error was: " << strerror( errno);
} 
```

这将为您提供有关问题所在的更多信息。

# iphone - 点击 UIPageControl 上的点不会改变页面

> ID：10023680
> 
> 赞同：2
> 
> 时间：2012-04-05T06:30:14.767
> 
> 标签：iphone, objective-c, ipad, uipagecontrol

所以我刚刚从 Apple 的网站更改了 PageControl[项目](http://developer.apple.com/library/ios/#samplecode/PageControl/Introduction/Intro.html)。问题是点击这些点似乎并没有改变页面。该代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:42:01.987

从下载的代码`- (IBAction)changePage:(id)sender` 看来工作得很好，但正如评论所说*“加载可见页面及其两侧的页面”，它在“1”和“6”处不起作用。*

# c# - 属性函数的奇怪行为

> ID：10023681
> 
> 赞同：1
> 
> 时间：2012-04-05T06:30:15.003
> 
> 标签：c#, msbuild

我正在定制我的构建过程，我遇到了一种有趣的行为。使用字符串属性函数并更改某些字符串时，构建开始中断。

例如，我正在尝试做这件事：

```
<PropertyGroup>
    <BuildDependsOn>$(BuildDependsOn.Replace(";MyTarget", ""))</BuildDependsOn>
</PropertyGroup> 
```

MyTarget 是我想从 BuildDependsOn 属性中删除的自定义目标。当我尝试执行此操作时，字符串似乎已正确删除，但我收到目标不存在的错误（这在 Visual Studio 2010 和命令行 MSBuild 中都会发生）。

错误如下：

```
The target "EntityDeploy;

            BeforeBuild;
            CoreBuild;
            AfterBuild" does not exist in the project. 
```

我认为一旦我修改了这个属性，MSBuild 就会停止解析它的值，并试图寻找一个目标（包括空格、回车和新的换行符），称为：

```
"EntityDeploy;

        BeforeBuild;
        CoreBuild;
        AfterBuild" 
```

并抛出该目标不存在的错误。

我还尝试执行一些更简单的操作以了解有关此问题的更多信息，并且我尝试执行此操作：

```
<PropertyGroup>
    <BuildDependsOn>$(BuildDependsOn.Trim())</BuildDependsOn>
</PropertyGroup> 
```

该`Trim()`功能也再次出现错误。任何想法？

**编辑：**我试图调试并找出问题，我遇到了这个：在方法`BuildDependsOn`执行之前检查属性时`Trim()`，它的值是这样的：

```
Value   "BuildDependsOn"="\r\n      EntityDeploy;\r\n      \r\n            BeforeBuild;\r\n            CoreBuild;\r\n            AfterBuild\r\n        \r\n    "
EvaluatedValue  "\r\n      EntityDeploy;\r\n      \r\n            BeforeBuild;\r\n            CoreBuild;\r\n            AfterBuild\r\n        \r\n    " string
escapedValue    "\r\n      EntityDeploy;\r\n      \r\n            BeforeBuild;\r\n            CoreBuild;\r\n            AfterBuild\r\n        \r\n    " string 
```

方法之后`Trim()`，属性值是这样的：

```
Value   "BuildDependsOn"="EntityDeploy%3b\r\n      \r\n            BeforeBuild%3b\r\n            CoreBuild%3b\r\n            AfterBuild"
EvaluatedValue  "EntityDeploy;\r\n      \r\n            BeforeBuild;\r\n            CoreBuild;\r\n            AfterBuild"   string
escapedValue    "EntityDeploy%3b\r\n      \r\n            BeforeBuild%3b\r\n            CoreBuild%3b\r\n            AfterBuild" string 
```

可能是分号 (; <=> %3b) 破坏了构建？我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T07:32:56.287

我尝试了你所做的（在 BuildDependsOn 中添加一个修剪）并且它正在工作。

```
 <BuildDependsOn>
  ConfigBeforeBuild;
  $(BuildDependsOn.Trim());
  ConfigAfterBuild
</BuildDependsOn> 
```

您是否为 msbuild 启用了调试？[如果没有在这里](http://blogs.msdn.com/b/visualstudio/archive/2010/07/06/debugging-msbuild-script-with-visual-studio.aspx)解释一切。

好的，这是解决方案（我的也不起作用，我的测试不正确）：

```
<BuildDependsOn>
  $([MSBuild]::Unescape($(BuildDependsOn.Replace(";MyTarget", ""))))
</BuildDependsOn> 
```

您必须取消转义字符串才能删除 %3b。

# java - java.io.InvalidClassException - Tomcat 无法启动

> ID：10023683
> 
> 赞同：4
> 
> 时间：2012-04-05T06:30:18.390
> 
> 标签：java, tomcat

当我尝试运行项目或启动 Tomcat 时，我不断收到此错误：

```
SEVERE: Exception loading sessions from persistent storage
java.io.InvalidClassException: com.turktrust.iab.ebs.backingbeans.MetalCikisIslemleriBean; local class incompatible: stream classdesc serialVersionUID = 5362381638722129852, local class serialVersionUID = -3788780881701361526
    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:562)
    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)
    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)
    at java.util.HashMap.readObject(HashMap.java:1030)
    at sun.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)
    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)
    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)
    at java.util.HashMap.readObject(HashMap.java:1030)
    at sun.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)
    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)
    at java.util.HashMap.readObject(HashMap.java:1030)
    at sun.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)
    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)
    at java.util.HashMap.readObject(HashMap.java:1030)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)
    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)
    at org.apache.catalina.session.StandardSession.readObject(StandardSession.java:1509)
    at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:998)
    at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:394)
    at org.apache.catalina.session.StandardManager.load(StandardManager.java:321)
    at org.apache.catalina.session.StandardManager.start(StandardManager.java:648)
    at org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:446)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4631)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:675)
    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:601)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:502)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) 
```

我从 SVN 获得更新后出现此问题。看起来 MetalCikisIslemleriBean 类中存在一些不兼容性。我搜索了这个异常并作为解决方案添加了

```
private static final long serialVersionUID = 5362381638722129852L; 
```

到 MetalCikisIslemleriBean 但仍然没有好处。Tomcat 没有启动。有人对这个问题有任何建议吗？提前致谢。

编辑：我安装了另一个 Tomcat 版本，但还是不行。我删除了 Tomcat 的 work & temp 目录和项目的 build 文件夹下的文件。这次Tomcat运行，清理和构建项目很好，但它仍然没有运行。我意识到，在项目的 backingbeans 文件夹中有两个 MetalCikisIslemleriBean 的类文件：MetalCikisIslemleriBean$1 和 MetalCikisIslemleriBean..

编辑和解决方案：Tomcat 正在缓存项目的战争文件。当我从 Tomcat 的缓存中删除战争时（在 Netbeans：服务面板 - 服务器 - Tomcat - Web 应用程序），问题就解决了。谢谢大家。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:38:27.480

我认为`com.turktrust.iab.ebs.backingbeans.MetalCikisIslemleriBean`SVN 中的其他人已经改变了这一点，所以你得到了一个`java.io.InvalidClassException`.

问题是，您已经在任何本地存储上使用此类的*旧版本存储数据（您的会话？），现在您正尝试使用**新*版本加载它。根据您班级的变化，这是不可能的。

最简单的**解决方案**是从本地存储（可能是工作目录）中删除会话数据 - 但要小心，因为您将丢失存储在用户会话中的所有信息。

**更新**

当tomcat关闭时，尝试从临时和工作目录中删除所有文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:09:28.457

Tomcat 在关闭一段时间后似乎保留了您已编译类的先前版本。稍后，您部署了重新编译的应用程序更新版本。当 Tomcat 想要恢复持久会话时，它无法执行此操作，因为他注意到`serialVersionUID`类已更改。如果那个旧的持久会话中没有重要数据，我建议通过删除`SESSIONS.ser`文件来删除它。我认为它可能在`work`目录中。

# php - 允许标记图片的 Wordpress 插件

> ID：10023685
> 
> 赞同：1
> 
> 时间：2012-04-05T06:30:40.733
> 
> 标签：php, wordpress

有没有一个wordpress插件可以让你标记一个人？我正在使用 buddypress 主题，但我不确定是否有插件可以将图片标记给用户。

我一直在互联网上寻找，但我找不到任何东西。希望有人会帮忙。

谢谢！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:40:46.857

我想这就是你要找的

[http://wordpress.org/extend/plugins/demon-image-annotation/](http://wordpress.org/extend/plugins/demon-image-annotation/)

# android - 制作一个可以显示任何网站点击次数的安卓应用程序

> ID：10023691
> 
> 赞同：-1
> 
> 时间：2012-04-05T06:30:53.723
> 
> 标签：android

您好，我正在开发一个 android 应用程序，它可以在图表中表示网站（例如 google、facebook）等的点击次数。如果我要求，在我的应用程序的活动中。

如果有任何建议，请告诉我如何在 android 中执行此任务。

谢谢

莫希特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:44:47.570

您必须提及您在登录程序后从谷歌分析获得的 ID，然后调用 tracker.dispatch()

# android - 如何将一个 TextView 的值传递给不同 Activity 中的另一个 TextView

> ID：10023694
> 
> 赞同：1
> 
> 时间：2012-04-05T06:31:22.800
> 
> 标签：android

> **可能重复：**
> [如何在 Android 中将对象从一个活动传递到另一个活动](https://stackoverflow.com/questions/2736389/how-to-pass-object-from-one-activity-to-another-in-android)

我有两个活动`Activity 1`和`Activity 2`。对于这两个活动，我有两个 XML 布局 1.xml 和 2.xml。在 1.xml 我有一个`Button`，在 2.xml 我有`TextView`. 所以我想要的是点击`Button`第一个活动，我想打开第二个活动，并且还想在 Activity2 中显示当前`Button`显示的文本。`Textview`我的意思是，假设 中的文本`Button`是“添加”，那么该文本将显示在`TextView`.

注意：`Button`在 Activity1 和`TextView`在 Activity2

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:33:31.740

[INTENT](http://developer.android.com/reference/android/content/Intent.html)`Intent`用来传递数据，将`putExtra()`允许你放数据

**活动A**

```
Intent myIntent = new Intent(ActivityA.this, Activityb.class);
myIntent.putExtra("key", "value");
startActivity(myIntent); 
```

**活动B**

```
Intent myIntent = getIntent(); // this is just for example purpose
myIntent.getExtra("key"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:40:26.380

使用 Intent 试试这个：

**在按钮单击的活动 1 中：**

```
Intent intent = new Intent(Activityone.class, Activitytwo.class);   
intent.putExtra("value2","world");  
startActivity(intent); 
```

**在活动 2 中：**

```
@Override  
protected void onCreate(Bundle savedInstanceState) {  
    super.onCreate(savedInstanceState);  
    String value1 = super.getIntent().getExtras().getString("value1");  
    myTextView.setText("value1: " + value1 + ");  
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-05T06:41:48.563

第一个活动 -

```
Button btn = (Button)findViewById(R.id.button1);
b.setOnClickListener(new View.OnClickListener() 
{
        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
                        String passingdata = textview.getText().toString();
                        Intent i = new Intent(Activity1.this, Activity2.class);
                        Bundle b = new Bundle();
                        b.putString("Key", passingdata);
                        i.putExtras(b);
                        startActivity(i);
        }
    }); 
```

第二个活动——

```
@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.second);
    Bundle b = getIntent().getExtras();
    String receivingdata = b.getStringExtra("Key");
    TextView tv = (TextView)findViewById(R.id.secondtext);
    tv.setText(receivingdata);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-05T06:42:15.127

在按钮中开始新活动时，单击下面的代码

```
Intent intent = new Intent();
intent.putExtra("TextValue", text1.getText().toString());
intent.setClass(Activity1.this, Activity2.class);
startActivity(intent); 
```

在你的 Activity2 中`onCreate()`

```
String s = getIntent().getStringExtra("TextValue"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-05T06:33:42.143

您需要在您的意图上添加额外的参数。观看[这篇文章](http://www.vogella.de/articles/AndroidIntent/article.html)。

# iphone - iPhone 上的客户端禁用推送通知

> ID：10023696
> 
> 赞同：1
> 
> 时间：2012-04-05T06:31:46.923
> 
> 标签：iphone, ios, push-notification, apple-push-notifications

如果客户端禁用了推送通知，在应用程序运行时他还能收到通知吗？我在某处读到，如果通知未将“aps”指定为命名空间，尽管推送通知已被禁用，它仍会通过。如果应用程序不在前台，通知当然不会出现。我找不到这篇文章，所以我不能肯定这是真的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:42:45.227

如果您的客户在应用程序中禁用了推送通知，您应该检查此项并提醒他您的应用程序可能无法按预期运行，直到他再次启用推送通知。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T05:47:52.483

我刚刚测试了这个，没有。如果禁用推送通知，则不会通过活动应用程序状态的推送通知。

# iphone - 为什么不计算数组的元素？

> ID：10023697
> 
> 赞同：0
> 
> 时间：2012-04-05T06:31:47.970
> 
> 标签：iphone, ios

在该文件中有 9 个字典，每个字典有两个键。我想获得一个字典数组。我得到数组元素是：0 这是代码：

```
NSString * path = [[NSBundle mainBundle]pathForResource:@"List" ofType: @"plist"];

 NSArray *array = [NSArray arrayWithContentsOfFile:path]; 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:09:43.823

```
NSString *file = [[NSBundle mainBundle] pathForResource:@"List" ofType:@"plist"];
NSDictionary *dict = [NSDictionary dictionaryWithContentsOfFile:file];
NSArray *array = [dict objectForKey:@"Array"]; 
```

希望这可以帮助

您的 plist 是字典而不是数组。所以检查一下。

# asp.net - VB.Net：将 SQL（伪代码）从列表转换为动态 LINQ 查询 参数

> ID：10023700
> 
> 赞同：0
> 
> 时间：2012-04-05T06:31:59.887
> 
> 标签：asp.net, sql, vb.net, linq-to-sql, union

好的，伙计们。我是菜鸟。我知道（一些）编程、一点 SQL 和很少的 LINQ to SQL。

**目标**：将嵌套的 ListViews 绑定到 LINQ 生成的匿名类型的 iQueryable。我想使用 LINQ，因为您可以使用 GroupBy 并将嵌套的 ListView 绑定到“it”关键字。

**设置**：我有一组条件。每组条件都存储在 BillingCodes 表中。每组 BillingCodes 都存储在 BillingGroups 表中。

我有一个自定义对象，用于存储用户选择的每个 BillingGroup 的 ID、名称和 NumCode。

我有一个名为 GroupsList 的对象集合，其中包含用户选择的组列表。

**问题 1**：我可以遍历 GroupsList 并获取所有 ID。如何为 LINQ to SQL 翻译 SQL 'WHERE ID IN(a string of comma delineated IDs)'？这是最好的方法吗？

**问题 2**：一旦我有了 BillingGroups 列表，我就需要遍历每个组。对于每个组，我需要遍历 BillingCodes。对于每个 BillingCode，我需要生成一个包含 BillingCode 中所有条件的 WHERE 子句。我提出这样的建议：

```
for each BillingGroup in BillingGroups
    for each BillingCode in BillingGroup.BillingCodes
        where1 = "..." 
    next
next 
```

**问题3**：这是我不知道的部分。我需要在 LINQ to SQL 中动态创建一个查询。请记住，我不知道会有多少组或每个组中有多少代码。

有2张桌子：

```
**transactions**
transaction_id
patient_id
svc_date
code
charge
description

**v_patients**
first_name
last_name
patient_id
date_of_birth
insname
active
provider_name 
```

我想象一个看起来像这样的查询：

```
[Group1] Select MAX(svc_date), patient_id, transaction_id
From (

Select transaction_id, patient_id, svc_date
From transactions join v_patients on patient_id
[Code1] Where code=”” and description contains “” and insurance contains “” and charge >= PriceFloor and charge <= PriceCeiling

UNION

Select transaction_id, patient_id, svc_date
From transactions join v_patients on patient_id
[Code2]Where code=”” and description contains “” and insurance contains “” and charge >= PriceFloor and charge <= PriceCeiling

)
Group By patient_id

UNION

[Group2] Select MAX(svc_date), patient_id, transaction_id
From (

Select transaction_id, patient_id, svc_date
From transactions join v_patients on patient_id
[Code1]Where code=”” and description contains “” and insurance contains “” and charge >= PriceFloor and charge <= PriceCeiling

UNION

Select transaction_id, patient_id, svc_date
From transactions join v_patients on patient_id
[Code2]Where code=”” and description contains “” and insurance contains “” and charge >= PriceFloor and charge <= PriceCeiling

)
Group By patient_id 
```

**问题 4**：最后，我想将该查询包装在按患者 ID 分组的查询中。以 Select as New With {key, it as transactions, num as count()} 结尾的东西

我通过无休止的阅读和搜索将这些知识拼凑在一起。我将继续寻找答案，但任何帮助将不胜感激。

谢谢。

**编辑 - 答案：**

这是最终为我工作的代码：

```
Dim chosenIDs() As Short = (From p In GroupsList _
                                   Select p.ID).ToArray()

        GroupMatchListView.DataSource = Nothing

        If chosenIDs.Length > 0 Then

            Dim db As New AudioRxInternalDataContext
            Dim vf As New VersaformDataContext

            Dim chosenGroups() As BillingGroup = (db.BillingGroups.Where(Function(m) chosenIDs.Contains(m.ID))).ToArray()

            Dim wholeResults As List(Of transaction) = Nothing

            For Each chosenGroup As BillingGroup In chosenGroups
                Dim groupResults As List(Of transaction) = Nothing
                For Each chosenCode As BillingCode In chosenGroup.BillingCodes

                    Dim codePredicate = PredicateBuilder.True(Of transaction)()
                    codePredicate = codePredicate.And(Function(i) i.code.Equals(chosenCode.Code))
                    If Not chosenCode.Description Is Nothing Then codePredicate = codePredicate.And(Function(i) i.description.ToUpper().Contains(chosenCode.Description.ToUpper()))
                    If Not chosenCode.Insurance Is Nothing Then codePredicate = codePredicate.And(Function(i) i.v_patient.insname.ToUpper().Contains(chosenCode.Insurance.ToUpper()))
                    If Not chosenCode.PriceFloor Is Nothing Then codePredicate = codePredicate.And(Function(i) i.charge >= chosenCode.PriceFloor)
                    If Not chosenCode.PriceCeiling Is Nothing Then codePredicate = codePredicate.And(Function(i) i.charge <= chosenCode.PriceCeiling)

                    If groupResults Is Nothing Then
                        groupResults = vf.transactions.Where(codePredicate).ToList()
                    Else
                        groupResults.AddRange(vf.transactions.Where(codePredicate).ToList())
                    End If
                Next

                groupResults = groupResults.GroupBy(Function(r) r.patient_id).SelectMany(Function(g) g.Where(Function(r) r.svc_date = g.Max(Function(a) a.svc_date))).ToList()

                If wholeResults Is Nothing Then
                    wholeResults = groupResults
                Else
                    wholeResults.AddRange(groupResults)
                End If
            Next

            Dim conditionsPredicate = PredicateBuilder.True(Of transaction)()
            conditionsPredicate = conditionsPredicate.And(Function(i) i.v_patient.active = "Y")
            conditionsPredicate = conditionsPredicate.And(Function(i) i.svc_date >= StartDateBox.Text)
            conditionsPredicate = conditionsPredicate.And(Function(i) i.svc_date <= EndDateBox.Text)
            If Not OfficeDropDownList.SelectedValue = "Both" Then conditionsPredicate = conditionsPredicate.And( _
                Function(i) (If(i.v_patient.provider_name, "").ToUpper().Contains(OfficeDropDownList.SelectedValue.ToUpper())))

            wholeResults = wholeResults.Where(conditionsPredicate.Compile()).ToList()

            Dim goliath = From f In wholeResults _
                          Group f By f.v_patient Into Group _
                          Order By v_patient.last_name, v_patient.first_name, v_patient.date_of_birth _
                          Select New With {.PatientID = v_patient.patient_id, .LastName = v_patient.last_name, .FirstName = v_patient.first_name, _
                             .DOB = v_patient.date_of_birth, .Ins = v_patient.insname, .MatchCount = Group.Count(), .Matches = Group}

            GroupMatchListView.DataSource = goliath

            theMatchesLabel.Text = goliath.Count()
        Else
            theMatchesLabel.Text = "0"
        End If 
```

不要问我为什么用`goliath`final 变量。我在深夜创建了那段代码，之前的尝试被命名为`david`.

谢谢大家的建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T09:52:18.580

编辑：对我感到羞耻：我没有使用 VB，而是使用 c#。但我希望一些答案应该有所帮助......

**问题 1：**例如，获取名为 Ids 的 int（或字符串）列表或数组并使用

```
.Where(m => Ids.Contains(m.Id) 
```

如果 ID 列表来自数据库，我认为您必须进行 2 次查询...

**问题2：**您提供的信息不是很清楚，而是使用

```
SelectMany(x => blabla) 
```

某个地方应该做的伎俩（但再一次很难这样说）

**问题3：**这里也不是很清楚：你们工会在同一个群体中的利益是什么？如果差异只是代码，为什么不使用问题1的系统？

要构建“动态查询”，我只能说 IQueryable 可以“按需”构建，例如经典代码

```
var query = blabla;
if (searchCriterion.Name != null)
  query = query.Where(m => m.Name == searchCriterion.Name); 
```

**问题 4：**我使用“ToDictionary()”扩展，因为您似乎需要 KeyValuePair，但它们当然是其他方式。

```
GroupBy(m => m.TransactionId).ToDictionary(m => m.Key, m => m.Count) 
```

但是......如果你可以更具体一点，也许;）

**编辑问题 4：** 没读好，而是类似的东西

```
GroupBy(m => m.TransactionId).Select(g => new {
patientId = g.Key,
transaction = g.SelectMany(p => p.Transactions),
num = g.Count()); 
```

# android - 项目导入 Eclipse 时出现 NoClassDefFoundError？

> ID：10023701
> 
> 赞同：1
> 
> 时间：2012-04-05T06:32:00.947
> 
> 标签：android, eclipse, noclassdeffounderror, apache-commons-lang

我正在开发一个使用 Commonslang.jar 库的应用程序。我试图用新安装的 Eclipse 在新系统上设置它。项目没有显示任何错误但是当我运行项目时，它会在我使用 Commonslang lib 的每个点强制关闭 NoClassDefFoundError。

我不知道如何解决这个问题。请帮忙？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:36:18.753

我认为您的项目目录中有**“lib”文件夹，所以只需将其更改为****“libs”**而不是**“lib”**并清理项目并检查它..

**> 注意：无需为任何第三方库构建路径**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:46:47.730

您需要在项目中创建**libs**文件夹并将该 jar 文件复制到那里。然后在 Eclipse 中，*右键单击*该 jar 文件（位于 libs 文件夹中）选择*Build Path*然后选择*Add to Build Path*。

> **请记住：**如果您在*Android 库项目*中使用 jar 文件，并将该库项目与您的常规*UI 项目*相关联，这还不够。您必须在两个项目（Android 库和 UI 项目）中都包含该 jar 文件（如上所述）才能使其正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:46:16.883

您是否已将 jar 添加到 Java 构建路径？转到项目的属性并选择 Java Build Path -> Libraries 选项卡，然后在此处添加外部 jar。

# ios - ios - iphone笔记应用程序

> ID：10023704
> 
> 赞同：3
> 
> 时间：2012-04-05T06:32:39.323
> 
> 标签：ios

我正在研究如何制作 iPhone 应用程序——通过剖析源代码并了解为什么某些东西会以这种方式工作，我学得最好。

我想知道是否有新的苹果笔记应用程序的克隆应用程序，我可以检查源代码。不是要自己在商店里发布，而是要了解某些事情是如何完成的。

我得到了一个很好的想法，我只是想将我到目前为止所学的内容与实际的笔记应用程序进行比较:-)

干杯杰夫

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T06:41:38.147

我找到了一个以防其他人也想进行此练习。

[https://github.com/vkoser/PlainNote](https://github.com/vkoser/PlainNote)

杰夫

# jquery - 连接到 192.168.xx 时如何使用 navigator.geolocation 获取经纬度信息

> ID：10023709
> 
> 赞同：1
> 
> 时间：2012-04-05T06:33:05.403
> 
> 标签：jquery, android, geolocation, navigator, w3c-geolocation

我正在尝试建立一个纯本地无线局域网，无法访问更广泛的互联网。即所有网站都是通过 192.168.xx 地址从主机提供的。

一个主机 (192.168.1.100) 正在提供一个包含这种 javascript 的网页：

navigator.geolocation.getCurrentPosition(showPosition,errorPosition,{ enableHighAccuracy:true });

我正在使用 Android 手机连接到该主机。（目的是提取手机的 GPS 位置并将其上传到主机，以便通过 KML 文件显示在 Google 地球上）。

Android 上的浏览​​器应用程序在通过命名服务器（如[http://example.com/locationtest.html](http://example.com/locationtest.html) ）在 WAN 上访问它时确实为同一应用程序提供了一个位置，但是当我从 WAN 断开连接并连接到仅限本地时LAN 并加载相同的页面，然后 navigator.geolocation.getCurrentPosition 似乎不起作用。

想法？已知的禁令？调试此问题的方法？（我们在设备本身上没有一个很好的 javascript 调试器......有没有办法伪造这个设备在桌面上响应的方式？）

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-11T04:50:16.493

我相信您的问题在于地理位置；因为它不仅仅用于 GPS。我知道您将 enableHighAccuracy 设置为 true；*如果设备有*GPS，它应该强制 GPS ，但取决于浏览器如何实现 getCurrentPosition；如果没有可连接的地理定位数据库，它可能会拒绝工作。

您可以尝试将 maximumAge 设置得非常高以使用缓存数据或将超时设置为零强制 GPS 或类似的东西；但您可能无法在所有 Android 浏览器中获得一致的结果。

实际上; 我有点惊讶你有这个问题。我确定我阅读了描述离线场景的 W3C Geolocation API 规范中的用户案例。您应该尝试显示从 PositionError 接口返回的数据，看看是否可以获得更多信息。

# objective-c - Xcode将NSMutableArray从一个类传递到另一个类

> ID：10023721
> 
> 赞同：1
> 
> 时间：2012-04-05T06:34:26.997
> 
> 标签：objective-c, xcode, nsmutablearray

我知道这个问题已经被问过无数次了。但他们似乎都没有工作！请帮忙！我无法将数组从一个类传递到另一个类。吹是我的代码

firstClass 声明了一个数组

```
#FirstClass.h

- (void)viewDidLoad
{
testArray = [[NSMutableArray alloc] init];
[testArray addObject:@"test"];
[testArray addObject:@"test2"];
[testArray addObject:@"test3"];

//method to pass array

TableViewController *tvc = [[TableViewController alloc] init];
tvc.getData = [[NSMutableArray alloc] init];
tvc.getData = testArray;

NSLog(@"%i", [tvc.getData count]); // returns a value n 
```

**在这里我数到了 3**

```
}

TableViewController.h

- (void)viewDidLoad
{
[super viewDidLoad];

NSLog(@"%i", [getData count]); // returns a value n 
```

**在这里我得到 0**

```
//Set the title
self.navigationItem.title = @"Countries";
} 
```

我试过

```
FirstClass *fc = [[FirstClass alloc] init];
getData = fc.testArray; 
```

也不行。我尝试编写一个方法并从我的第二堂课中调用该方法。
以`@interface`错误告终。
抱歉，这是我第一次使用目标 c。我受过java教育。
请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:52:18.840

对于第二个问题，为什么`fc.testArray`不起作用是`viewDidLoad`只有在`view`调用属性之后才调用。（延迟初始化）

所以如果你喜欢它就可以了

```
FirstClass *fc = [[FirstClass alloc] init];
fc.view;
getData = fc.testArray; 
```

# c#-4.0 - 从部署在 Azure 上的应用程序的配置文件中读取自定义配置设置

> ID：10023723
> 
> 赞同：0
> 
> 时间：2012-04-05T06:34:36.793
> 
> 标签：c#-4.0, azure

我想阅读我在 ServiceConfiguration.cscfg 和 ServiceDefinition.csdef 中完成的自定义设置，并希望通过 C# 中的代码读取该设置。

为此，我创建了 REST 调用以按照[msdn 链接中的说明进行部署](http://msdn.microsoft.com/en-us/library/ee460804.aspx)

在那个 xml 响应**配置**是 64 基编码字符串中，我认为我的自定义设置在其中（如果我错了，请纠正我！），如果我需要应用程序 ID，那么我可以直接从该 xml 读取**私有 ID**，但是我可以 rad 我的自定义设置？

```
<?xml version="1.0" encoding="utf-8"?>
  <Deployment xmlns="http://schemas.microsoft.com/windowsazure">
    <Name>deployment-name</Name>
         .......
         .......
<Configuration>base-64-encoded-configuration-file</Configuration>
         .......
         .......
  </Deployment> 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-09T04:55:53.780

据我所知，目前不支持自定义配置部分。但也许您可以将您的配置序列化为一个 CSCFG 设置并在您的代码中反序列化它。

# wordpress - 文本格式不适用于 qTranslate 插件

> ID：10023724
> 
> 赞同：1
> 
> 时间：2012-04-05T06:34:40.877
> 
> 标签：wordpress, qtranslate

我正在使用 wordpress 作为 CMS 创建一个多语言网站。

我正在使用 qTranslate 插件来支持多语言。一旦我启用插件，所有文本格式都会丢失。即编辑器中的所有段落都合并为一个段落。

我在设置中启用了这个选项：“WordPress 应该自动更正无效嵌套的 XHTML”，但没有任何变化。

请问有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T14:06:30.410

**在wp-content\themes\your-theme-name\functions.php**的末尾添加此代码：

```
//************************** PATCH START *****************************

// Fix for qTranslate plugin (that does not retain formatting in pages)

if('html' != wp_default_editor()) {
                remove_filter('the_editor_content', 'wp_richedit_pre');
                add_filter('the_editor_content', 'wp_htmledit_pre');
        }
remove_filter( 'the_content', 'wpautop' );
if ( ! function_exists('tmce_replace') ) {
        function tmce_replace() {
                $tadv_options = get_option('tadv_options', array());
                $tadv_plugins = get_option('tadv_plugins', array());    
?>
<script type="text/javascript">
if ( typeof(jQuery) != 'undefined' ) {
  jQuery('body').bind('afterPreWpautop', function(e, o){
    o.data = o.unfiltered
    .replace(/caption\]\ +?<\/object>/g, function(a) {
      return a.replace(/[\r\n]+/g, ' ');
    });
  }).bind('afterWpautop', function(e, o){
    o.data = o.unfiltered;
  });
}
</script>
<?php
        }
        add_action( 'after_wp_tiny_mce', 'tmce_replace' );
}
function teslina_tinymce_config( $init ) { 
    $init['remove_linebreaks'] = false;
    $init['apply_source_formatting'] = true;
    $init['preformatted'] = true;
    $init['remove_redundant_brs'] = false;    
    return $init;
}
add_filter('tiny_mce_before_init', 'teslina_tinymce_config');

//************************** PATCH END ******************************* 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T09:02:58.513

在 html 模式下编写简单的帖子进行测试，如下所示：

```
<p>lorem</p>
<p>ipsum</p> 
```

wordpress 中有过滤器来格式化文本（插件或functions.php）尝试找到它们，否则尝试另一个插件，如 Polylang。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-15T10:58:49.713

我在这里找到了解决方案： [http ://www.teslina.com/en/748/wordpress/qtranslate-code-syntax-bugfix/](http://www.teslina.com/en/748/wordpress/qtranslate-code-syntax-bugfix/)

但是我怀疑插件中添加的代码在更新时会被删除。

# android - 设备调试 Defy Eclipse Windows 7 64 位

> ID：10023726
> 
> 赞同：0
> 
> 时间：2012-04-05T06:35:06.487
> 
> 标签：android, eclipse, debugging, usb

我成功地将 Eclipse 与模拟器一起使用。现在我想用我的 Defy 进行设备调试，因为模拟器有点慢。

我的 Defy 有 Cyanogenmod 7。我的应用程序适用于 2.1 Android，所以它应该可以工作。我遵循了所有描述，并在我的应用清单和设备设置中设置了设备调试。

如果我输入“adb devices”，它现在会显示一个设备。首先，我在使用 Win7 64 位的驱动程序时遇到了问题。手动安装驱动程序后，它工作。

我想知道如何在 Eclipse 中选择真实设备。在调试中，我有我的模拟器。真实设备未显示在我的模拟器列表中。它不是模拟器，所以它是有道理的。但是怎么能一开始调试就可以了。或者我应该复制设备上的 apk 并以某种方式将 Eclipse 附加到正在运行的进程进行调试？

最好的祝福，

帕特里克

* * *

我没有在 Eclipse 中进行 Defy 调试。几天前它已经奏效了。我刚刚重新启动笔记本电脑，发现以下错误。adb 安装在请求的路径下。如果我在该路径的 cmd 中键入 adb devices 我会得到一个设备：efefeSOME_NUMBERrggr 离线，不知道离线是否有问题

我还尝试了 wifi adb 应用程序。如果我使用此工具连接，我还将获得一个设备 192.168...:5555 设备。这看起来不错。

再次尝试eclipse debug后，直接启动调试器。我打开了启用调试，我的手机是rootet。谁能给我一个提示，我还可以考虑什么？它曾经工作过一天，但现在却没有。

[2012-04-12 22:10:01-MyApp] ------------------------------ [2012-04-12 22:10:01 - MyApp] Android 发布！[2012-04-12 22:10:01 - MyApp] 与 adb 的连接已断开，并且发生了严重错误。[2012-04-12 22:10:01 - MyApp] 您必须重新启动 adb 和 Eclipse。[2012-04-12 22:10:01 - MyApp] 请确保 adb 正确位于 'C:\Entwicklung\android-sdk\platform-tools\adb.exe' 并且可以执行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-03T21:36:28.633

我一直在通过在 Windows 7、Eclipse 和模拟器下开发来学习 Android。我想开始使用我的旧 LG Adroid 而不是模拟器，但是当我插入它并完成所有工作以使其与 ADB 一起工作时，Eclipse 爆炸了：请确保 adb 正确位于'C： \Program Files (x86)\Android\android-sdk\platform-tools\adb.exe' 并且可以执行。

如果我拔掉电话，Eclipse 将启动模拟器并正常工作。我发现如果我先做一个“adb shell”然后退出 shell，Eclipse 很高兴并且可以工作。

我需要在每次重新启动 Windows 时执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:17:52.587

您必须在此处从摩托罗拉下载 USB 驱动程序[USB 驱动程序](http://www.motorola.com/Support/DE-DE/Support-Homepage/Software-and-Drivers/USB-and-PC-Charging-Drivers)

然后像“Waqas”这样的USB调试说，我也使用未知来源。我使用摩托罗拉 Defy 2.1 进行开发，它运行良好 :-D

...对不起，我读到你的问题很快。也许试试这个在 Eclipse 中运行->运行配置并将目标设置为手动。然后你应该可以安装你的设备

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:39:06.880

您需要在设备设置中启用**USB 调试**模式，以允许 eclipse (ADT) 使用它进行开发。

> 设置 -> 应用程序 -> 开发 -> USB 调试（应该启用）

# iphone - 隐藏导航栏时将 AdMob 置于底部

> ID：10023727
> 
> 赞同：0
> 
> 时间：2012-04-05T06:35:12.020
> 
> 标签：iphone, objective-c, ios, admob

我在 ViewController 中设置了 AdMob，它位于底部。一切都很好，直到我隐藏我的导航栏。当我的导航栏被隐藏时，AdMob 框架会上升。我怎样才能让它坚持我的观点的底部？这就是我所拥有的

```
 -(void)navBarTransition:(BOOL)hide
     {
       [[self navigationController] setNavigationBarHidden:hide animated:YES];

       //addjust frame height when ads is visible
       if(hide)
       {
       CGRect frame = CGRectMake(0.0,self.view.frame.size.height + GAD_SIZE_320x50.height,GAD_SIZE_320x50.width, GAD_SIZE_320x50.height);

       [bannerView_ setFrame:frame];
       }
     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-12T01:01:50.720

在隐藏导航栏之前，将 origin.y 向下移动它的高度。还要确保您没有自动调整大小的蒙版（灵活的顶部/底部边距？）干扰您的定位。

```
CGRect bFrame = bannerView_.frame;
CGFloat newY = bFrame.origin.y + self.navigationController.navigationBar.frame.size.height;
bFrame.origin.y = newY;
[bannerView_ setFrame:bFrame]; 
```

如果这不起作用，您可以尝试使用[CJPAdController](https://github.com/chrisjp/CJPAdController)（*披露：我写了这个类*）。如果你实现了这个类，你可以简单地将你的代码调整为以下（刚刚测试过，它似乎可以按照你的意愿工作）：

```
[[self navigationController] setNavigationBarHidden:hide animated:YES];
if(hide)
    [CJPAdController sharedManager] fixAdViewAfterRotation]; 
```

# sql - 从文本列中检索 xml 数据

> ID：10023730
> 
> 赞同：0
> 
> 时间：2012-04-05T06:35:21.787
> 
> 标签：sql, xml, coldfusion

我有一个包含 xml 文件的字段（数据类型“文本”）的表。经过一些尝试和错误，我发现从该表中获取完整 xml 文件的唯一方法是使用 ms sql 的“FOR XML”子句。但我的下一个问题是，包含 xml 文件的列的名称类似于“XML_F52E2B61-18A1-11D1-B105-00805F49916B”，这是 cf 的无效标识符。

有没有办法通过它的 id 而不是它的名称来访问该列，或者访问该列的最佳方式是什么？

编辑：我使用的 SQL 语句是：

```
SELECT XmlPackage
FROM LogK3OnChange 
WHERE DealerID = IsNull(<cfqueryparam cfsqltype="cf_sql_varchar" value="#arguments.dealerid#">, DealerID)
AND LogID = <cfqueryparam cfsqltype="cf_sql_varchar" value="#arguments.logid#">
FOR XML RAW 
```

问候，

平子

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:48:27.797

如果您将查询嵌入到子查询中，您可以为列命名。

```
select
  (
    select *
    from YourTable
    for xml path('Row'), root('Root')
  ) as NewColumnName 
```

根据您的查询：

```
SELECT
  (
    SELECT XmlPackage
    FROM LogK3OnChange 
    WHERE DealerID = IsNull(<cfqueryparam cfsqltype="cf_sql_varchar" value="#arguments.dealerid#">, DealerID)
          AND LogID = <cfqueryparam cfsqltype="cf_sql_varchar" value="#arguments.logid#">
    FOR XML PATH
  ) AS NewColumnName 
```

**更新：**
如果您希望列是 XML 数据类型，则应将`type`关键字添加到查询中。不确定这是否会对冷融合产生影响。

```
SELECT
  (
    SELECT XmlPackage
    FROM LogK3OnChange 
    WHERE DealerID = IsNull(<cfqueryparam cfsqltype="cf_sql_varchar" value="#arguments.dealerid#">, DealerID)
          AND LogID = <cfqueryparam cfsqltype="cf_sql_varchar" value="#arguments.logid#">
    FOR XML PATH, TYPE
  ) AS NewColumnName 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T21:14:40.543

知道了

```
<cfoutput>#myQuery["XML_F52E2B61-18A1-11D1-B105-00805F49916B"][1]#</cfoutput> 
```

成功了

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-12-31T22:47:32.097

这是一个更好的答案，因为它不依赖于可能在以后的冷融合版本中发生变化的字符串。

```
<cfoutput>#QueryName[QueryName.ColumnList][1]#</cfoutput> 
```

# java - 如果锚标记中的动态目标，如何设置替换命令

> ID：10023731
> 
> 赞同：0
> 
> 时间：2012-04-05T06:35:24.787
> 
> 标签：java, android

这是我的 HTML

```
desc=<a target="_blank" href="http://www.taxmann.com/corporatelaws/fileopencontainer.aspx?Page=CIRNO&amp;id=27000000000000002519&amp;search=">A. P. (DIR Series) Circular No. 46 dated June 14, 2005</a>

String   k = replace ( desc, "<a target=\"_blank\" href=\"http://www.taxmann.com/corporatelaws/fileopencontainer.aspx?Page=RULES&amp;id=35000000000000001648&amp;search=\">", ""); 
```

在 desc 我得到 HTML 我有替换命令我必须删除链接所以我从锚标记中选择数据目标是动态的，其中 id 变化我能够替换链接到目标为的文本

[http://www.taxmann.com/corporatelaws/fileopencontainer.aspx?Page=RULES&id=35000000000000001648&search=](http://www.taxmann.com/corporatelaws/fileopencontainer.aspx?Page=RULES&id=35000000000000001648&search=) \

但是当目标发生变化时，我的意思是说如果 id 发生变化，它不会将链接替换为文本。

请告诉我如何获取和设置 id 值，以便如果目标是动态的，我们可以将链接替换为文本。我是android编程的新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:02:31.910

试试这个：您可以使用`indexOf`from string 提取 id，然后找到`substring`.like：

```
 String str = "http://www.taxmann.com/corporatelaws/fileopencontainer.aspx?Page=CIRNO&amp;id=27000000000000002519&amp;search=";
    int indexoff = str.indexOf("id=");
    int indexofl = str.indexOf("&amp;search=");
    String strsub="";
    if(indexoff !=-1 && indexofl !=-1)
     {
      strsub = str.substring(indexoff + 3, indexofl - indexoff - 3);
     }
    String strstaticstring = "http://www.taxmann.com/corporatelaws/fileopencontainer.aspx?Page=CIRNO&amp;id=" + strsub + "&amp;search=";
    String k = desc.replace(strstaticstring, ""); 
```

# flash - Adobe AS3-“Core-Libraries”如何发挥作用？

> ID：10023732
> 
> 赞同：1
> 
> 时间：2012-04-05T06:35:28.813
> 
> 标签：flash, actionscript, actionscript-3, avm2

首先，我无法决定我应该在这里还是在“程序员”问这个，请温柔;）

我想知道在我称之为 AS3 的“核心库”的内部发生了什么（是的，在这种情况下这可能不是确切的术语，但现在你知道我的意思了）。

例如，当我输入：

```
var shape:Shape = new Shape();
shape.graphics.beginFill( 0xff0000 );
shape.graphics.drawCircle( 100, 100, 100); 
```

...图形对象中究竟发生了什么？我假设它将调用 AVM2 的渲染 API，但这看起来如何？有什么办法可以查看它，或者这些资源是否对 Adob​​e 以外的任何人完全关闭？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T07:06:09.307

我的建议是编译一些简单的东西（就像你上面所说的那样），然后通过一些东西运行它以转储 abc（Actionscript 字节码），这是在虚拟机中执行的代码。

您可以尝试[abcdump](http://code.google.com/p/maashaack/wiki/abcdump)和[swf2abc](http://code.google.com/p/maashaack/wiki/swc2abc)项目。

首先阅读一些非常简单的字节码，看看你的想法:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T07:26:51.763

我同意@sberry 的建议，即查看一些字节码。

但在此之前，您可能需要查看[AVM2 wiki](http://learn.adobe.com/wiki/display/AVM2/ActionScript+Virtual+Machine+2)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-05T08:53:05.710

下面的[视频](http://tv.adobe.com/watch/max-2010-develop/deep-dive-into-flash-player-rendering/)对于理解 Flash 中的渲染是如何工作的非常有价值。

由于`Shape`绘制矢量图形，我想当你打电话时发生的事情`drawCircle()`几乎就是视频中解释的内容。

# javascript - 在 IE 和 Mozilla 上正常工作时，Safari 上的弹出窗口不会在第一次鼠标单击文档时关闭

> ID：10023733
> 
> 赞同：0
> 
> 时间：2012-04-05T06:35:50.173
> 
> 标签：javascript, javascript-events

当某个事件被触发时，会弹出一个弹出窗口，状态栏开始闪烁并显示一些消息。通过单击文档（不在弹出窗口中），弹出窗口和消息闪烁在 Internet Explorer 和 Mozilla 中关闭，但在 Safari 中出现问题。弹出窗口和消息闪烁在双击时关闭。第一次单击时，它位于主页后面。任何人都可以建议为什么它不能在 safari 上运行吗？

以下是关闭弹出窗口调用的函数：

```
function stopBlink1()
{
    document.onclick=function(e){
        isblinking = false;
        blink(false);
        oldwindow.close();

    }
} 
```

谢谢..

# jsp - 如何将从 servlet 接收的字符串变量显示到 JSP 的表单文本字段中

> ID：10023738
> 
> 赞同：2
> 
> 时间：2012-04-05T06:36:20.767
> 
> 标签：jsp

我创建了一个将字符串变量 strname 传递给 JSP 页面的 servlet。JSP 将其接收到变量“strname”中，使用

```
request.getAttribute("strname") 
```

现在我想在表单的文本字段中显示它

```
 <form action="LogoutServlet" method="post">
            <% String strname =(String)request.getAttribute("uname");%> 
            Username:<input type="text" name="username" value="${username}"/>
    </form> 
```

但它在文本字段中显示“用户名”。如何在文本中显示 strname var？请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:41:00.507

您可以使用 EL 表达式（阅读[常见问题解答](https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files)）。

```
<input type="text"
       value="${requestScope.strname}"/> 
```

或者

```
<input type="text"
       value="${strname}"/> 
```

或者

```
<input type="text"
       value="${param.username}"/> 
```

或 JSTL`<c:out />`

```
 <c:out value="${strname}"/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:44:29.277

使用`$`您可以获得价值。例如：（ `<input type="text" name="strname" value="${strname}" />` 假设您在 strname 变量中获得正确的值。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:43:09.843

您可以使用 jstl 方式获取请求中的值存储，例如

`<input type="text" value="${uname}">`

# android - 即使在关闭并重新打开 Android 应用程序后，数据似乎仍然保存。我不希望它

> ID：10023742
> 
> 赞同：0
> 
> 时间：2012-04-05T06:36:57.907
> 
> 标签：android, save, resume

当我的应用程序运行时，我不断将数据添加到列表中。当我关闭它并再次运行应用程序时，旧列表仍然存在，新数据被添加到它的末尾。我不希望这种情况发生，我不知道为什么会发生......我想我正在正确初始化它并使用 onPause() 和 onDestroy() 关闭它。

我不太确定发生了什么或在哪里，也许问题出在代码中的其他地方......我所知道的是该应用程序无法正常工作（在第一次运行时它不像它应该的那样工作，但是当我关闭它并再次运行它时它工作得很好）。这是我在几个小时内能找到的唯一可疑的、看似相关的问题（？）。我什至不知道要发布我的代码的哪一部分，所以我不是在寻找任何具体的答案，但任何见解、想法或提示将不胜感激。

编辑：好的，我按照建议通过在 OnResume() 中对其进行初始化，解决了 List 的具体问题。但是，问题仍然存在，在第一次运行时，事情很糟糕，但是关闭并重新打开它可以解决所有问题。似乎还有一些事情正在转移……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:01:18.000

阅读这些...

[应用基础](http://developer.android.com/guide/topics/fundamentals.html)

[活动](http://developer.android.com/reference/android/app/Activity.html)

特别要了解**应用程序**的概念与任何单个应用程序组件（例如`Activity`. 此外，了解`Activity`生命周期（创建、启动、恢复、暂停、停止、销毁）对于了解何时何地执行各种操作至关重要。

抱歉 - 有点笼统的答案，但由于您没有提供任何代码，因此无法给出任何明确的答案。

不过，我要说的一件事是，将上述两个链接结合起来可能会解决我在 SO 上看到的所有常见 Android 问题的 50%。

# xcode - 删除 Xcode 生成的源代码中的版权

> ID：10023745
> 
> 赞同：8
> 
> 时间：2012-04-05T06:37:11.020
> 
> 标签：xcode, xcode4

使用 Xcode 4 创建新的源代码文件时，有什么方法可以完全删除带有版权声明的注释？

安装：

```
//
//  MainView.h
//  ProjectName
//
//  Created by First Last Name on 1/2/34.
//  Copyright (c) 2012 Company Name. All rights reserved.
//

#import <UIKit/UIKit.h>

@interface MainView : UIView

@end 
```

我想要：

```
#import <UIKit/UIKit.h>

@interface MainView : UIView

@end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T19:25:15.227

做你想做的最安全的方法是创建一个自定义文件模板。复制一份苹果的文件模板，打开头文件，去掉介绍性注释。以下文章中提供了有关创建自定义文件模板的更多详细信息：

[创建自定义 Xcode 4 文件模板](http://meandmark.com/blog/2011/11/creating-custom-xcode-4-file-templates/)

# hibernate - JPA Hibernate Spring - 未打开任何事务

> ID：10023751
> 
> 赞同：0
> 
> 时间：2012-04-05T06:37:55.687
> 
> 标签：hibernate, jpa, lazy-loading, spring-transactions

我正在尝试在 Spring 事务中使用 Hibernate 和 JPA。一切都应该工作，但我想我错过了配置中的一些东西。

我的 persistence.xml 文件：

```
 <persistence-unit name="pzk" transaction-type="RESOURCE_LOCAL">
    <properties>
        <property name="hibernate.hbm2ddl.auto" value="validate" />
        <property name="hibernate.show_sql" value="true" />
        <property name="hibernate.transaction.flush_before_completion"
            value="true" />
        <property name="hibernate.cache.provider_class" value="org.hibernate.cache.HashtableCacheProvider" />
    </properties>
</persistence-unit> 
```

我的 db-context.xml 文件：

```
<bean id="entityManagerFactory"
    class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
    <property name="jpaVendorAdapter">
        <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
            <property name="showSql" value="true" />
            <property name="generateDdl" value="true" />
            <property name="databasePlatform" value="${db.dialect}" />
        </bean>
    </property>     
</bean>

<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
    destroy-method="close">
    <property name="driverClassName" value="${db.driver}" />
    <property name="url" value="${db.url}" />
    <property name="username" value="${db.username}" />
    <property name="password" value="${db.password}" />
</bean>

<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
</bean>

<bean
    class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor" /> 
```

当然我有`<tx:annotation-driven>, <context:annotation-config>,<context:component-scan basepackage="bla.bla.bla">`并且我的服务被标记为`@Transactional`（试图标记方法、类和两者）

问题是，当我尝试在服务中使用模型类的集合时，我得到`LazyInitializationException`. 调试显示没有事务正在进行。你能帮忙吗？

PS Eager fetching 有效，但这不是一个选项

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:44:59.457

尝试向您的 transactionManager 指出它应该使用哪个 entityManagerFactory。

```
<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
    <property name="entityManagerFactory" ref="entityManagerFactory"/>
</bean> 
```

# php - 如何防止跨域http请求？（服务器端）

> ID：10023753
> 
> 赞同：1
> 
> 时间：2012-04-05T06:38:03.563
> 
> 标签：php, http, cross-domain

我已经阅读了一些关于拒绝跨域请求的问题，但都只是声明依赖客户端保护（同源策略）。是否有任何可以在服务器端完成的保护层？我应该依赖 header-origin、header-referer 吗？有人说 header referer get 被一些反间谍软件程序修改。有人说 ff doesint 包括 origin 标头选项（但确实如此），有人说 chrome 不包括等等 :) 。
我知道可以修改标头（即使使用 setrequestheader 方法也可以修改引用者），但是，如果您曾经为此做过任何保护服务器端，请分享任何想法。

PS：一种可能性是标记每个请求（所有类型的请求，仅获取数据的请求，更改服务器上数据的请求等），但这将是一个痛苦的屁股......

PPS：天哪，不要发送关于同步器令牌模式的垃圾邮件......正如我在第一篇 PS 中所说的那样，这将是一个解决方案，还有其他想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:10:30.747

市长的问题是您要保护哪种攻击？

如果您想防止 CSRF，那么您需要带有随机安全令牌的流程表单。

像

```
<input type="hidden" name="token" value="random value generated on server side for each request" /> 
```

提交表单后，您需要比较请求中的令牌和存储在服务器端会话中的令牌。

如果您想拒绝从其他域加载某种资源（例如从您的服务器加载 evil.com 上的图像或脚本），那么您可以向每个资源添加类似的令牌。

像

```
<img src="/images/mysuperimg.png?token=<token>" /> 
```

等等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:34:36.643

我想你听说过[CSRF](http://en.wikipedia.org/wiki/Cross-site_request_forgery)吗？

这是 CSRF 的工作原理以及如何防止它的概述：

任何人都可以从您的网站请求页面，就像任何人也可以在您的网站上发布一样。假设您有一个注册表单。可以复制您的表单，并放入任何 HTML 页面，删除 JS 验证，并无限地向您发送垃圾邮件。听起来像是威胁对吧？

但是，您可以通过使用会话 ID 来防止这种情况。这是一个唯一的字符串（通常是 MD5 或 SHA-1），在呈现页面之前存储在 PHP 中的会话变量中。此会话 ID 也会在您的表单上以隐藏的输入表单呈现。现在，当提交表单时，PHP 会检查随表单发送的会话 id 是否与存储在会话变量中的会话 id 匹配。如果它是有效的，你继续，并且存储在服务器中的那个被取消，这样它就不会被重用。

此外，如果某个时间已经过去，则该会话 ID 应该过期。因此，假设用户在表单上停留的时间超过 15 分钟。使用该表格将是无效的。您必须刷新页面才能获得新的会话 ID

* * *

现在您可能会问如何在页面请求而不是表单上使用它？

我知道通过 cookie 将会话[ID 发送到服务器的 2 种方法，](http://php.net/manual/en/session.idpassing.php)或者通过在 url 中附加您的会话 ID。

对于 cookie，它的工作方式相同。如果您的页面是由您的服务器生成的，则该页面会在您的服务器上创建会话 id 并将副本作为 cookie 发送。下一页请求，您读取请求的cookie，获取它的会话ID，与服务器上的比较，如果相等，则请求有效，您继续。否则无效。

对于禁用 cookie 的用户，您可以在页面上每个链接的 url 中附加 sessionid。请注意，在某些网站上，它们有一个 url 参数`sid`，`sessid`等等？他们就是这样通过的。您页面中的每个链接都将附加此 ID。单击链接后，服务器所做的就是从 url 获取该会话 id，并将其与服务器进行比较。

很长的答案：D

# lucene - 在 lucene 中查询字符串化的数字一无所获

> ID：10023754
> 
> 赞同：0
> 
> 时间：2012-04-05T06:38:05.763
> 
> 标签：lucene

我有一个现有索引，其中包含一些我正在尝试搜索的文档。
当我搜索“真实文本”字段时，一切正常。
当我尝试搜索一个数字字段时，搜索结果为 0。
代码是这样的（它是 pylucene，但概念是一样的）：

```
dir = SimpleFSDirectory(File(indexDir))
analyzer = StandardAnalyzer(Version.LUCENE_CURRENT)
searcher = IndexSearcher(dir)
query = QueryParser(Version.LUCENE_CURRENT, "id", analyzer).parse("902")
hits = searcher.search(query, MAX)
print hits.totalHits #gives me 0 
```

卢克搜索（id：902）也给了我空的结果。
当我查看 luke 上的 Overview 选项卡时，它说这个字段是 UTF-8（字符串）

有什么我做错了吗？

**编辑：**
这似乎发生在被索引且没有规范的字段上（根据卢克的标志）。
有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-09T07:13:09.450

我不喜欢回答自己的问题，但我相信这个答案是一个重要的参考。
解决方案是使用 NumericRange 查询，其中两个数字都是您寻找的数字（这次是在 java 中）：

```
NumericRangeQuery.newIntRange("id", Integer.valueOf(902), Integer.valueOf(902),
true, true) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:08:36.880

您在索引时使用 SimpleAnalyzer 吗？它剥离了数字。确保在索引和搜索时使用相同的分析器。

# android - 传递给 onBootComplete 广播接收器的上下文是什么？

> ID：10023771
> 
> 赞同：0
> 
> 时间：2012-04-05T06:39:20.063
> 
> 标签：android, broadcastreceiver, android-context, bootcompleted

我正在尝试访问除我的 BR 之外的类中的方法，因为它是一个引导完成的 BR，我无法覆盖其构造函数并传递参数。

我正在考虑尝试通过上下文，因为我想不出其他办法，唯一的问题是我找不到任何地方提到传递给它的上下文是什么。

任何帮助都感激不尽。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T15:40:36.953

好的，我已经设法找出答案。如果有人需要这种信息，则传递的上下文是“android.app.ReceiverRestrictedContext”。

关于访问另一个类，我必须将其转换为单例类。

希望有一天它可以帮助某人..

# mysql - 重音字符和 MySQL 搜索

> ID：10023776
> 
> 赞同：3
> 
> 时间：2012-04-05T06:39:40.977
> 
> 标签：mysql, character-encoding, character

我已经搜索了几个小时的问题，但没有找到适合我的答案，所以......我来了......

我是匈牙利人，我们在我们的语言中使用以下重音字符：áéíóöőúüű（当然还有大写字母）我想在 php 中进行智能搜索，允许用户输入搜索词并找到结果在 MySQl 表或搜索字段中是否有重音。所以...

我的 MySQL 表使用 utf8_hungarian_ci 我可以进行 php 转换，以便用户输入“Bla”或“blá”，它将返回“bla”，我们正在搜索 mySQL 数据库。

但我的问题是……我的数据库可能有一个“bla fér”或“bláter”字段条目。但是，如果我们使用“bla”（来自 PHP）进行搜索，它只会返回“bla fer”。如何将我正在搜索的字段转换为“bla fér”->“bla fer”和“bláter”->“blater”。所以本质上...

我想摆脱重音字符并将它们变成非重音字符。但当然，只是为了搜索。请帮忙！谢谢！

编辑：

```
<?php 
$search = $_GET["search"]; // May contain áéíóöőúüű
$accented= array("Ö","ö","Ü","ü","ű","Ó","ó","O","o","Ú","ú","Á","á","U","u","É","é","Í","í"," ","+","'","ő", "Ű", "Ő", "ä","Ä","ű","Ű","ő","Ő");
$nonaccented=array("O","o","U","u","u","O","o","O","o","U","u","A","a","U","u","E","e","I","i","_","_","_","o", "U", "O", "a","A","u","u","o","o");
$search = str_replace($accented,$nonaccented,$search);
$query = "SELECT id, name FROM people WHERE name LIKE '%$search%'"; // Database column 'name' may also contain áéíóöőúüű
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:34:29.343

以下是我的一些测试结果。你可以和你的比较：

```
CREATE TABLE `test` (
  `id` int(11) NOT NULL auto_increment,
  `name` varchar(32) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 
```

表格内容：

```
mysql> select * from test;
+----+---------+
| id | name    |
+----+---------+
|  1 | bla     | 
|  2 | blater  | 
|  3 | bláter | 
|  4 | bhei    | 
+----+---------+
4 rows in set (0.00 sec) 
```

搜索结果;

```
mysql> select * from test where name like '%bla%';
+----+---------+
| id | name    |
+----+---------+
|  1 | bla     | 
|  2 | blater  | 
|  3 | bláter | 
+----+---------+
3 rows in set (0.00 sec) 
```

带重音搜索：

```
mysql> select * from test where name like '%blá%';;
+----+---------+
| id | name    |
+----+---------+
|  3 | bláter | 
+----+---------+
1 row in set (0.00 sec) 
```

即使使用我也得到相同的结果`COLLATE=utf8_hungarian_ci`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-02T08:11:01.397

对我来说，将字符编码设置为 utf8_general_ci（或其他带有“_ci”的东西）就可以了。_ci 表示 SQL 将匹配搜索而不考虑大小写或重音。

# iphone - 在gridview+iphone中显示图像

> ID：10023785
> 
> 赞同：0
> 
> 时间：2012-04-05T06:40:36.010
> 
> 标签：iphone, uitableview, gridview, nsxmlparser

我正在尝试在网格视图中显示图像我发现了这段代码：-[这里](http://www.edumobile.org/iphone/iphone-programming-tutorials/images-display-in-gridview-on-iphone/) 但是现在我必须显示的图像是通过 web 服务来的。我希望数据同时来自网络服务，因此数据应该显示在表格的单元格中。有什么办法吗。请帮帮我。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:00:03.537

在给定的示例代码中，函数`loadView`用于填充您的图像，您可以在那里解析您的 Web 服务并填充您的数组。

解析您的网络服务后，只需重新加载您的表。不要忘记使用活动指示器现在在`cellForRowAtIndexPath`方法中，它们填充单行，您可以在其中使用[异步图像加载概念](http://www.markj.net/iphone-asynchronous-table-image/)。由于您要在一行中加载更多图像，因此您需要应用一些逻辑来完成此操作。

您将需要异步管理它，因为可能有很多图像并且同步加载会冻结您的应用程序。

# wpf - 触发 DataGridTextColumn 的附加属性

> ID：10023787
> 
> 赞同：0
> 
> 时间：2012-04-05T06:40:57.613
> 
> 标签：wpf, wpfdatagrid, wpf-4.0

我正在尝试在 DataGridTextColumn 上定义一个自定义附加属性，并在我的 xaml 文件中针对它编写一个 DataTrigger。这是在我的类中定义附加属性 (FilterDisplayStyle) 的方式。

```
//Dependency Property whether Column Filter is combobox or textbox or editable combobox.
public static FrameworkPropertyMetadata inheritsMetaData = 
    new FrameworkPropertyMetadata(FilterDisplayTypeEnum.TextBoxOnly, FrameworkPropertyMetadataOptions.Inherits);

public static DependencyProperty FilterDisplayTypeProperty = DependencyProperty.RegisterAttached("FilterDisplayType",
         typeof(FilterDisplayTypeEnum), typeof(DataGridColumn), inheritsMetaData);

public static FilterDisplayTypeEnum GetFilterDisplayType(DependencyObject target) {
    if (target == null) { throw new ArgumentNullException("Invalid Parameter Element"); }
    return (FilterDisplayTypeEnum)target.GetValue(FilterDisplayTypeProperty);
}

public static void SetFilterDisplayType(DependencyObject target, FilterDisplayTypeEnum value) {
    if (target == null) { throw new ArgumentNullException("Invalid Parameter Element"); }
    target.SetValue(FilterDisplayTypeProperty, value);
} 
```

上面附加属性的类型是FilterDisplayTypeEnum，定义如下。

```
public enum FilterDisplayTypeEnum {
    TextBoxOnly,
    NonEditableComboBox,
    EditableComboBox
} 
```

这是我在 DataGridTextColumn 中设置此属性的方法

```
<DataGrid.Columns>
    <DataGridTextColumn Binding="{Binding Id}" f:DataGridColumnExtensions.FilterDisplayType="NonEditableComboBox" />
....

</DataGrid.Columns> 
```

现在我正在尝试使用以下方法检索此属性

```
<TextBox Text="{Binding Mode=OneWay, Path=FilterDisplayType, RelativeSource={RelativeSource AncestorType={x:Type DataGridTextColumn}}}"/> 
```

但是我在上面的 TextBox 上没有得到任何文本。

令人惊讶的是，我有另一个附加属性（这次是附加到 DataGrid），它工作得非常好。问题仅在于 DataGridTextColumn。此外，使用 WPF Inspector，我看到 Visual Tree 中没有 DataGridTextColumn 的直接可视表示，所以我怀疑是否可以使用 FindAncestor 绑定祖先的方式，即 DataGridTextColumn。任何人都可以在这种情况下帮助我。**总而言之，我无法使用 FindAncestor 类型的 Binding 访问在 DataGridTextColumn 上定义的自定义附加属性。有没有其他选择？**

问候， 尼尔文

**编辑：** 根据@Clemens 的建议，我将附加属性的定义更改为这样的。但我仍然无法访问我的 xaml 中的附加属性。

**附加属性定义：**

```
 public static DependencyProperty FilterDisplayTypeProperty = DependencyProperty.RegisterAttached("FilterDisplayType",
             typeof(FilterDisplayTypeEnum), typeof(DataGridColumnExtensions), inheritsMetaData);

public static FilterDisplayTypeEnum GetFilterDisplayType(DataGridBoundColumn target) {
        if (target == null) { throw new ArgumentNullException("Invalid Parameter target"); }
        return (FilterDisplayTypeEnum)target.GetValue(FilterDisplayTypeProperty);
    }

    public static void SetFilterDisplayType(DataGridBoundColumn target, FilterDisplayTypeEnum value) {
        if (target == null) { throw new ArgumentNullException("Invalid Parameter target"); }
        target.SetValue(FilterDisplayTypeProperty, value);
    } 
```

我仍然无法访问我的 xaml 代码中的属性“FilterDisplayType”，如下所示

```
<TextBox Text="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type DataGridTextColumn}}, Path=FilterDisplayType}"/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T08:14:50.303

所有者类型必须是声明属性的类型，这里`DataGridColumnExtensions`：

```
public static DependencyProperty FilterDisplayTypeProperty =
    DependencyProperty.RegisterAttached("FilterDisplayType", 
         typeof(FilterDisplayTypeEnum),
         typeof(DataGridColumnExtensions), // here
         inheritsMetaData); 
```

这似乎是对[附加属性](http://msdn.microsoft.com/en-us/library/ms597495.aspx)的常见误解。另请参见[此处](https://stackoverflow.com/a/9998670/1136211)。

还要注意，[绑定](http://msdn.microsoft.com/en-us/library/system.windows.data.binding.path.aspx)到附加属性的语法是`(Class.Property)`，所以你需要像这样绑定：

```
<TextBox
    Text="{Binding Path=(DataGridColumnExtensions.FilterDisplayType)}"/> 
```

还有一点需要注意：我还不太明白为什么该属性[继承](http://msdn.microsoft.com/en-us/library/ms753197.aspx)。据我所知，您打算在 DataGridTextColumn 对象上显式设置它。

# mysql - MySQL“输入”命令

> ID：10023792
> 
> 赞同：0
> 
> 时间：2012-04-05T06:41:24.683
> 
> 标签：mysql, sql

我想知道我们如何使用`IN`比较语法来做到这一点。

当前的 SQL 查询是：

```
select * from employee 
where (employeeName = 'AJAY' and month(empMonth) = month(curdate())) 
   or (employeeName ='VINAY' and month(empMonth) = month(curdate())) 
```

我尝试使用`IN`比较功能，但无法正确设置碎片。谁能帮我？

```
select * from employee 
where employeeName in ('AJAY','VINAY') 
   and month(empMonth) = month(curdate()); // ERROR. 
```

我在 MySQL Query 中尝试过。

谢谢你，辛杜

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:24:29.837

您的解决方案适用于大多数 DBMS（数据库管理系统）。据我所知，这在 MySQL 中没有问题。但几年前，我在 DB2 和另一个更奇特的名为“Focus”的 DBMS 中也遇到过类似的问题。

也许这可以帮助：

*   将完整的 where 块放入一对括号中。
*   在此块内，再次将每个比较放在一对括号中。
*   将 IN-Comparison 移动到 where-block 的末尾。

这会将您的示例转换为以下代码：

```
SELECT *
FROM employee 
WHERE (
    (month(empMonth) = month(curdate())
    AND
    (employeeName IN ('AJAY','VINAY')) 
); 
```

# html - 如何折叠一组边框 使用 CSS 的标签？

> ID：10023799
> 
> 赞同：22
> 
> 时间：2012-04-05T06:42:15.137
> 
> 标签：html, css

我有一个由 DIV 组成的网格，宽度固定，边框为 1 px。现在两个 DIV 相互接触，边框显然变成了 2px。

我怎样才能在整个网格中获得一个 1px 的边框？

这就是我的意思：

![](../Images/8f8f1d27319832655494baa8d05b6fab.png)

[http://jsfiddle.net/Before/4uPtj/](http://jsfiddle.net/Before/4uPtj/)

HTML：

```
<div class="gridcontainer">
  <div class="griditem"></div>
  <!-- 15 more times -->
</div> 
```

CSS：

```
div.gridcontainer
{
  width: 80px;
  line-height: 0;
}

div.griditem
{
  display: inline-block;            
  border: 1px solid black;
  width: 18px;
  height: 18px;
} 
```

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-04-05T06:44:46.447

试试这个：

```
div.griditem
{
    display: inline-block;            
    border: 1px solid black;
    width: 18px;
    height: 18px;
    margin-left: -1px;
    margin-bottom: -1px;
} 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-04-05T06:57:23.330

嗨，您根据您的 griditem div 定义您的 gridcontainer

像这样

**css**

```
 div.gridcontainer
    {
        width: 76px;
        line-height: 0;
        border: solid black;
        border-width: 0 1px 1px 0;
    }

    div.griditem
    {
        display:inline-block;           
        border: solid black;
        border-width: 1px 0 0 1px;
        width: 18px;
        height: 18px;
    } 
```

**HTML**

```
<div class="gridcontainer">
    <div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div><div class="griditem"></div>
</div> 
```

现场演示[http://jsfiddle.net/rohitazad/4uPtj/1/](http://jsfiddle.net/rohitazad/4uPtj/1/)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-04-25T13:33:52.033

因为标题可能很多人最终会在这里寻找像我这样的**实际 css 网格布局问题的解决方案。**对于他们来说，这里有一个使用`grid-gap`和组合的解决方法`box-shadow`

```
.bar {
    max-width: 200px;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    grid-gap: 1px;
}
.foo {
  box-shadow: 0 0 0 1px #000;
}
```

```
<div class="bar">
    <div class="foo">1</div>
    <div class="foo">2</div>
    <div class="foo">3</div>
    <div class="foo">4</div>
    <div class="foo">5</div>
    <div class="foo">6</div>
    <div class="foo">7</div>
    <div class="foo">8</div>
    <div class="foo">9</div>
</div>
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-05-07T10:57:55.330

边界崩溃属性可以帮助吗？

> border-collapse 属性设置表格边框是折叠成单个边框还是像标准 HTML 中那样分离。

见：[http ://www.w3schools.com/cssref/pr_border-collapse.asp](http://www.w3schools.com/cssref/pr_border-collapse.asp)

```
table#myTable
{
   border-collapse:collapse;
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-06-26T08:48:56.370

我用过CCS Grid Layout（显示：网格）

```
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

*:before, *:after {
  box-sizing: border-box;
}

container {
  width: 100%;
  height: 100%;
}

img {
  max-width: 100%;
  display: block;
}

.grid {
	display: grid;
	background-color: #000;
	border: 1px solid #000;
	grid-gap: 1px;
	justify-self: center; 
	max-width: 282px;
	height: auto;
	margin: 0 auto;
}

.box {
  position: relative;
}

.cell::before {
  content: "";
  position: absolute;
  display: block;
  border: 10px solid #fff;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
}

.box:hover::after {
  content: "+";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  color: white;
  font-size: 60px;
  font-weight: bold;
}

.box:hover .cell::after {
  content: "";
  display: block;
  position: absolute;
  border: 1px solid red;
  left: -1px;
  right: -1px;
  bottom: -1px;
  top: -1px;
}

.cell {
  position: relative;
  pointer-events: none;
}

.box:hover {
  background-color: red;
}

.box:hover .cell::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  background: rgba(255,0,0,0.5);
}

@media only screen and (min-width: 768px) {
	.grid {
		grid-template-columns: repeat(2, 1fr);
		grid-template-rows: repeat(4, 1fr);
		max-width: 563px;
	}
}

@media only screen and (min-width: 1024px) {

	.grid {
		grid-template-columns: repeat(4, 1fr);
		grid-template-rows: repeat(2, 1fr);
		max-width: 1124px;
	}
}
```

```
<div class="container">
  <div class="grid">
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
    <div class="box">
      <div class="cell"><img src="http://placehold.it/270x270"></div>
    </div>
  </div>
</div>
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-08-19T14:29:23.797

```
<style>

.gridcontainer .griditem
    {
        border : 2px solid rgba(204,204,204,0.8) !important;
        margin-left:-1px; 
        margin-right:-1px;
        margin-top: -1px;
        margin-bottom: -1px;
    }
</style> 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-10-16T18:35:59.203

这是另一种没有负边距的方法：http: [//jsfiddle.net/e5crg405/](http://jsfiddle.net/e5crg405/)

```
div.gridcontainer {
    width: 80px;
    line-height: 0;
}

div.griditem {
    display: inline-block;            
    border-bottom: 1px solid black;
    border-right: 1px solid black;
    width: 18px;
    height: 18px;
}

div.griditem:nth-child(4n + 1) {
    border-left: 1px solid black;
}

div.griditem:nth-child(-n + 4) {
    border-top: 1px solid black;
} 
```

# c++ - Cpp - 检查 boost bimap 中是否存在密钥

> ID：10023802
> 
> 赞同：4
> 
> 时间：2012-04-05T06:42:28.107
> 
> 标签：c++, boost, bimap

我有一个双地图。我想检查我的 bimap 中是否存在密钥。我怎样才能做到这一点。这是我的双图：

```
namespace bimap
            {

                struct Name{};
                struct ID{};

                typedef
                    boost::bimaps::bimap<
                        boost::bimaps::set_of< 
                            boost::bimaps::tagged<
                                unsigned short
                                , ID
                            >
                        >,

                        boost::bimaps::set_of<
                                boost::bimaps::tagged<
                                std::string
                                , Name
                            >
                        >
                    >
                    name_index_bimap;
            } 
```

我想检查“名称”是否存在。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-05T06:53:26.860

[这在这个例子](http://www.boost.org/doc/libs/release/libs/bimap/doc/html/boost_bimap/the_tutorial/bimaps_with_user_defined_names.html)中解释得非常清楚。在您的情况下，它应该如下所示：

```
name_index_map your_map;
name_index_map::right_const_iterator it = your_map.by<Name>().find("some name");
if(it == your_map.right.end()) {
    // name does not exists
} 
```

# android - OAuth 对话框中的错误

> ID：10023803
> 
> 赞同：-1
> 
> 时间：2012-04-05T06:42:32.767
> 
> 标签：android, facebook, facebook-oauth

当我重定向用户时

```
https://www.facebook.com/dialog/oauth?
  client_id=" + APP_ID +
  &redirect_uri=" + CALLBACK_URL +
  &scope=" + "read_mailbox" +
  &state=" + java.util.UUID.randomUUID(); 
```

服务器收到错误

```
error_reason=user_denied
   &error=access_denied
   &error_description=The+user+denied+your+request.
   &state=YOUR_STATE_VALUE 
```

这种行为的原因是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T06:55:23.427

这是您在测试中看到的错误，还是在生产环境中看到的错误？

我问是因为听起来用户拒绝了您的应用程序的授权请求：点击链接以授权您的应用程序，但一旦他们在 Facebook 的 OAuth 页面上就决定不这样做。这可能是正在发生的事情吗？

# ios - 将股票鱼引擎与国际象棋应用程序一起使用

> ID：10023804
> 
> 赞同：0
> 
> 时间：2012-04-05T06:42:38.563
> 
> 标签：ios, xcode

我正在尝试制作一个国际象棋教程应用程序。经过数小时的搜索工作，在我看来，[鱼象棋引擎](http://www.stockfishchess.com/)是唯一的选择。我无法在我的应用程序中使用它。

是否有任何其他国际象棋引擎可以与`PGN files`.

或者如果有人做过，如何使用库存鱼。

# javascript - 查找行索引的有效方法？

> ID：10023807
> 
> 赞同：0
> 
> 时间：2012-04-05T06:42:44.740
> 
> 标签：javascript, jquery, html, performance, jquery-selectors

我通过这样做得到一行的索引：

```
row.parent().children("tr").index(row) 
```

有没有更有效的方法来查找索引？我有数百行，所以我必须选择所有行才能找到索引，这会扼杀我的表现。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T06:59:54.780

怎么样`row.prevAll().length`？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:50:54.800

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script type="text/javascript" charset="utf-8" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        console.log($("tr").index($("#my")));
    })
    </script>
</head>
<body>
    <table border="0" cellspacing="5" cellpadding="5" id="tbl">
        <tr><th>Header</th></tr>
        <tr><td>Data</td></tr>
        <tr id="my"><th>Header</th></tr>
        <tr><th>Header</th></tr>
        <tr><td>Data</td></tr>
    </table>
</body>
</html> 
```

希望有帮助。干杯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:54:01.907

Id 属性是解析任何 html 的最快方法。您可以为所有行提供一个 ID。

虽然 index 方法将确定兄弟元素之间的索引，这可能会更快

```
row.parent("tr").index(); 
```

看到这个例子[http://jsfiddle.net/shNrS/](http://jsfiddle.net/shNrS/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T07:00:09.047

如果您以某种方式获取对行的引用（单击处理程序等），那么在查找该元素时没有额外的开销，只是`.index()`它和利润（尽管注意多个`tbody`有效但会增加脚本复杂性的元素）

如果您在运行时索引*所有* `tr`元素，不妨将其缓存在 jquery 数据中以备将来使用！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-05T07:31:41.293

这里最快的方法可能是使用纯 javascript：

```
function getRowIndex(elem) {
    var index = 0;
    while (elem = elem.previousSibling) {
        if (elem.tagName == "TR") {
            ++index;
        }
    }
    return(index);
} 
```

工作演示：http: [//jsfiddle.net/jfriend00/y4anN/](http://jsfiddle.net/jfriend00/y4anN/)

如果您必须在没有动态更改的大表上重复执行此操作，那么您可以使用自定义属性对行进行一次预编号，从那时起，您只需从任何行。

You would pre-number all the rows with a custom attribute like this:

```
function numberRows(table) {
    var rows = table.getElementsByTagName("tr");
    for (var i = 0; i < rows.length; i++) {
        rows[i].dataIndex = i;
    }
} 
```

And, then you can just obtain the index number from any given row like this:

```
row.dataIndex 
```

Working demo: [http://jsfiddle.net/jfriend00/CR2Wk/](http://jsfiddle.net/jfriend00/CR2Wk/)

# java - 需要重新启动服务器才能发送邮件

> ID：10023814
> 
> 赞同：3
> 
> 时间：2012-04-05T06:43:10.967
> 
> 标签：java, tomcat, tomcat6

我开发了一个包含邮件操作的应用程序，我使用 tomcat 6 来部署应用程序，我有用于构建战争的 ant 脚本。

现在我的问题是，每当我构建项目时，邮件都会停止工作，直到我重新启动服务器，并且我从一位专业人士那里得知需要重新加载邮件上下文，因此当您重新启动服务器时，邮件会再次工作。

但是我不想每次部署新版本时都重新启动服务器，同时邮件应该可以工作。当我构建项目和部署时，有什么方法可以重新加载邮件上下文？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T22:56:26.840

要在应用程序文件修改时重新加载上下文，请更改 context.xml 配置文件

从

```
<Context> 
```

至

```
<Context reloadable="true"> 
```

# android - Android AlertDialog 问题

> ID：10023817
> 
> 赞同：0
> 
> 时间：2012-04-05T06:43:30.453
> 
> 标签：android, android-alertdialog

我有一个工作正常的 AlertDialog。我使用以下代码为其设置了一些背景图像：

```
Button buttonPositive = (Button)dialog.getButton(DialogInterface.BUTTON_POSITIVE);
    Button buttonNegative = (Button)dialog.getButton(DialogInterface.BUTTON_NEGATIVE);
    buttonPositive.setBackgroundResource(R.drawable.custom_button);
    buttonPositive.setTextColor(Color.WHITE);
    buttonNegative.setBackgroundResource(R.drawable.custom_button);
    buttonNegative.setTextColor(Color.WHITE); 
```

现在设置图像后，两个按钮相互接触，我的意思是它们之间没有空间。我尝试使用 setPadding(...)，它不起作用。即使我正在更改图像大小（即宽度）它是不工作。任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:58:18.790

我认为最好创建你想要的布局xml文件......

并设置喜欢`alertDialog.setContentview(R.layout.mylayout);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:04:19.710

试试这个代码

```
private Dialog myDialog;

myDialog = new Dialog(ShowReportActivity.this);
myDialog.setContentView(R.layout.alert);// your xml 
myDialog.setTitle("Send Email");
myDialog.setCancelable(true);

Button set = (Button) myDialog  .findViewById(R.id.alert_bnt_send_email);
Button exit = (Button) myDialog.findViewById(R.id.alert_bnt_exit);

  set.setTextColor(Color.WHITE);
  set.setBackgroundResource(R.drawable.custom_button);

getMailId = (EditText) myDialog.findViewById(R.id.alert_editT_email_Id);
send.setOnClickListener(new OnClickListener() {

public void onClick(View v) {
                    .........
                      myDialog.dismiss();
        });

exit.setOnClickListener(new OnClickListener() {

    public void onClick(View v) {
        myDialog.dismiss();
            }
});

myDialog.show(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T07:18:40.037

使用下面给出的代码使用客户对话框

```
 Dialog windialog = new Dialog(YourActivity.this);
 windialog.setContentView(R.layout.win_dialog);
 windialog.setTitle("Congratulation");
 windialog.setCancelable(true);
 final EditText et_emailverification=EditText)windialog.findViewById(R.id.et_emailveri);
 et_emailverification.setText(UserEmailOrName);
 Button submit=(Button)windialog.findViewById(R.id.bt_sub_que);
 submit.setOnClickListener(new     OnClickListener(){                                       

@Override
  public void onClick(View v) { 

       //write here your code what you want onclick
       }

 });
  Button cancel=(Button)windialog.findViewById(R.id.bt_sq_cancel);
  cancel.setOnClickListener(new OnClickListener(){
@Override
  public void onClick(View v) {
   // TODO Auto-generated method stub

 windialog.cancel();

 });
  windialog.show(); 
```

和像 win_dialog.xml 这样的 xml

```
 <?xml version="1.0" encoding="utf-8"?>
  <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/linearLayout2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:layout_marginRight="10dp"
       android:layout_marginLeft="10dp">

        <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Email "
        android:textAppearance="?android:attr/textAppearanceLarge" />

        <EditText
            android:id="@+id/et_emailveri"
            android:layout_width="250dp"
            android:layout_height="wrap_content"
            android:layout_weight="1" >

        </EditText>

    </LinearLayout>

    <RelativeLayout
        android:id="@+id/linearLayout2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:gravity="center"
        android:orientation="horizontal" >

        <Button
            android:id="@+id/bt_sub_que"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Submit" />

         <Button
            android:id="@+id/bt_sq_cancel"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="0.50"
            android:text="Cancel" /> 

    </RelativeLayout>

   </LinearLayout> 
```

# java - 在字母表中移动字符

> ID：10023818
> 
> 赞同：3
> 
> 时间：2012-04-05T06:43:31.047
> 
> 标签：java, char

> **可能重复：**
> [Java 中的 ROT-13 函数？](https://stackoverflow.com/questions/8981296/rot-13-function-in-java)

我必须将字符串中的所有字符移到字母表中的 13 个位置

```
private static String encode(String line) {
    char[] toEncode = line.toCharArray();
    for (int i = 0; i < toEncode.length; i++) {
        if (Character.isLetter(toEncode[i])) {
            toEncode[i] += 13;
        }
    }
    line = String.valueOf(toEncode);
    return line;
} 
```

问题是例如'z'得到一个？。我该如何解决？

谢谢帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T06:58:45.607

这是因为“z”之后的下一个字符是标点符号等等。例如，您可以移动，使“z”变为“n”。

```
toEncode[i] = (toEncode[i] + 13 - (int)'a') % 26 + (int)'a'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T06:51:23.880

```
System.out.println(('z'+ (char)13)); //output -135
System.out.println((char)('z'+ (char)13)); //output - ? 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:53:09.050

如果计算的字符大于最后一个字母（z => 122 或 Z => 90），只需从计算值中减去最后一个字母的值。您可以在整个互联网上找到这些数字，例如[这里](http://www.asciitable.com/)。

# android - OnInfoListener 永远不会触发。曾经

> ID：10023824
> 
> 赞同：1
> 
> 时间：2012-04-05T06:44:19.873
> 
> 标签：android, android-mediaplayer

我目前正在尝试编写一个简单的音频播放器，在用户退出之前流式传输 URL。没什么特别的，但我正在尝试使用 MediaPlayer 的 onInfo 方法来等待元数据更新标志。我有以下用于创建媒体播放器对象的代码。

```
/**
 * Creates a new media player and attempts to prepare it.
 */
private void createPlayer(){
    Log.v(TAG, "Now in createPlayer()");
    if(mPlayer==null){
        Log.i(TAG, "No existing media player found, creating.");
        mPlayer=new MediaPlayer();
        mPlayer.setOnErrorListener(this);
        mPlayer.setOnInfoListener(new OnInfoListener() {
            public boolean onInfo(MediaPlayer mp, int what, int extra) {
                Log.w(TAG,"---Got some info!---");
                return false;
            }
        });
        mPlayer.setOnPreparedListener(this);
        mPlayer.setWakeMode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);
        mPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);
    } else {
        Log.i(TAG, "Found an existing media player. Doing nothing.");
    }
    try{
        mPlayer.setDataSource(mStreamUri);
        mPlayer.prepareAsync();
        Log.i(TAG, "Just sent the media player a prepareAsync()");
    }catch(Exception e){
        Log.e(TAG,"Caught exception while trying to set up media player.");
    }
} 
```

我还没有看到 onError 触发，但由于我的应用程序的简单性，我还没有真正得到任何错误，但当然 onPrepare 工作正常。我已经尝试使用类以及像上面代码这样的内联方法来实现它，但没有任何反应。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-04T06:19:44.880

您不能在 onInfoListener 中返回 false。android 开发人员说，如果它返回 false，则 infoListener 似乎没有设置。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-25T05:48:26.900

用这个更改你的代码，然后重试 -

```
 mPlayer.prepare(); 
```

# java - 为什么在 Java 中需要无符号类型？

> ID：10023827
> 
> 赞同：2
> 
> 时间：2012-04-05T06:44:38.240
> 
> 标签：java, language-design

我经常听到有人抱怨 Java 没有无符号数据类型。例如，请参阅[此](https://gamedev.stackexchange.com/questions/25492/is-java-viable-for-serious-game-development/25512#comment43373_25494)评论。我想知道这是怎么回事？我用 Java 编程已经有 10 年了，从来没有遇到过问题。有时需要将字节转换为整数`& 0xFF`，但我不认为这是一个问题。

由于无符号数和有符号数用相同的位值表示，我能想到的唯一有符​​号的地方是：

*   将数字转换为其他位表示时。如果需要，您可以在 8、16 和 32 位整数类型之间使用位掩码。
*   将数字转换为十进制格式时，通常转换为字符串。
*   通过 API 或协议与非 Java 系统进行互操作。同样，数据只是位，所以我在这里看不到问题。
*   使用数字作为内存或其他偏移量。对于 32 位整数，这对于非常大的偏移可能是个问题。

相反，我发现不需要考虑无符号数和有符号数之间的操作以及它们之间的转换更容易。我错过了什么？在编程语言中使用无符号类型的实际好处是什么，以及如何让 Java 变得更好？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-05T06:48:58.810

> 偶尔将字节转换为整数时需要一个 & 0xFF，但我不认为这是一个问题。

为什么不？“应用位与 0xFF”实际上是您的代码试图表示的内容的一部分吗？如果不是，为什么它必须是你写的一部分？实际上，我发现除了将字节从一个地方复制到另一个地方之外，我想对字节做的几乎*所有事情最终都需要一个掩码。*我希望我的代码没有杂乱无章；无符号字节的缺乏阻碍了这一点:(

此外，考虑一个*始终*返回非负值或只*接受*非负值的 API。使用无符号类型可以让您清楚地表达这一点，而无需任何验证。就我个人而言，我认为在 .NET 中没有*更多*地使用无符号类型是一种耻辱，例如用于诸如`String.Length`等`ICollection.Count`之类的东西。一个值自然只能是非负数是很常见的。

Java 中缺少无符号类型是致命的缺陷吗？显然不是。是不是很烦？绝对地。

您引用的评论一针见血：

> Java 缺乏无符号数据类型也反对它。是的，您可以解决它，但这并不理想，您将使用不能真正正确反映基础数据的代码。

假设您*正在*与另一个需要一个无符号 16 位整数的系统进行互操作，并且您想要表示数字 65535。您声称“数据只是位，所以我在这里看不到问题” - 但必须通过 - 1 表示 65535*是*个问题。数据表示与其潜在含义之间的任何阻抗不匹配都会在编写、读取和测试代码时引入额外的减速带。

> 相反，我发现不需要考虑无符号数和有符号数之间的操作以及它们之间的转换更容易。

唯一*需要*考虑这些操作的时候是当您自然地使用两种不同类型的值时——一种是有符号的，一种是无符号的。那时，您*绝对*希望指出这种差异。使用有符号类型来表示自然无符号值，您仍然*应该*考虑差异，但您应该隐藏的事实对您来说是隐藏的。考虑：

```
// This should be considered unsigned - so a value of -1 is "really" 65535
short length = /* some value */;
// This is really signed
short foo = /* some value */;

boolean result = foo < length; 
```

假设`foo`是 100 并且`length`是 -1。*合乎逻辑*的结果是什么？的值`length` *代表*65535，所以逻辑上`foo`小于它。但是您可能会使用上面的代码并得到错误的结果。

当然他们甚至不需要在这里表示*不同的*类型。它们都可以是自然无符号值，表示为负数在逻辑上大于正数的有符号值。同样的错误也适用，如果您在语言中有无符号类型，*则不会有问题。*

您可能还想阅读[Joshua Bloch 的采访](http://webcache.googleusercontent.com/search?q=cache%3aU2dQLJSDtasJ%3ajava.sun.com/developer/technicalArticles/Interviews/bloch_effective_08_qa.html&hl=en&gl=us&strip=1)（Google 缓存，因为我相信它现在已经从 java.sun.com 消失了），包括：

> 哦，好问题……我要说的是，Java 平台最奇怪的是字节类型是有符号的。我从来没有听到过对此的解释。这是非常违反直觉的，会导致各种错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:58:44.403

如果你喜欢，是的，一切都是 1 和 0。但是，您的硬件算术和逻辑单元不能那样工作。如果您想将您的位存储在有符号整数值中，但执行对有符号整数不自然的操作，您通常会浪费存储空间和处理时间。

无符号整数类型在同一空间中存储的非负值是相应有符号整数类型的两倍。因此，如果您想将语言中常用的具有无符号值的任何数据（例如通常与 C 一起使用的 POSIX 日期值（无符号秒数））引入 Java，那么通常您将需要使用更广泛的整数类型比 C 会使用。如果您正在处理许多这样的值，您将再次浪费存储空间和获取执行时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T06:52:57.653

我使用无符号数据类型的时候是在读取与图像相对应的大块数据或使用 openGL 时。如果我知道某些东西永远不会是负面的，我个人更喜欢无符号，作为某种“安全功能”。

无符号类型对于逐位比较很有用，我很确定它们在图形中被广泛使用。

# .net - 将自定义 JSON 对象转换为 VB.NET 对象

> ID：10023836
> 
> 赞同：0
> 
> 时间：2012-04-05T06:45:26.380
> 
> 标签：.net, vb.net, json, visual-studio-2010, json.net

我有一个看起来像这样的 JSON 对象。

```
{
 "Errors":{
   "err1":[
     //* Array of err1 objects
   ],
   "err2":[
     //* Array of err2 objects
   ]
 }
} 
```

我使用此对象报告在对 PHP 页面的请求中发现的错误。

我想将该对象转换为基本上像这样声明的 vb.Net 对象：

```
Public Class WebErrContainer
  Public Errors as List(Of IWebError)
End Class

Public Class Err1
  Implements IWebError
End Class

Public Class Err2
  Implements IWebError
End Class

Public Interface IWebError
End Interface 
```

我不知道我的实现是否足够好，我对 vb.net 比较陌生，所以我现在在 OOP 方面的技能有点低。

就是这样......我想我已经尽可能地解释了情况。

如果您需要更多信息，我会提供。

提前感谢您提供的任何帮助。谢谢。

PD：我目前正在使用 Newtonsoft 的 JSON.Net 库。随意推荐一些其他库或方法来处理 VB.NET 中的 JSON。

* * *

我通过这样做解决了这种情况：

```
Public Sub New(ByVal jsonText As String)
    Dim jObject As JObject = jObject.Parse(jsonText )
    Dim jErrors As JToken = jObject("Errors")
    Dim jS = New JsonSerializer()

    ' This is the "temporal" dictionary that stores the errors like they are 
    ' stored in JSON
    Dim jsErrs As New Dictionary(Of String, List(Of Object))

    ' List that is going to be passed to the "Errors" field in the class
    Dim lErrors As New List(Of IWebError)

    jsErrs = jS.Deserialize(New JTokenReader(jErrors ), jsErrs .GetType)
    If Not jsErrs Is Nothing Then
        For Each errType As KeyValuePair(Of String, List(Of Object)) In jsErrs 
            For Each Err As Object In errType.Value
                lErrors .Add(jS.Deserialize(New JTokenReader(Err), Type.GetType(errType.Key)))
            Next
        Next
    End If
    Me.Errors = lErrors
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:05:46.353

可能最简单的解决方案是制作一个基于and`Errors`计算的只读属性：`Err1``Err2`

```
Public Class WebErrContainer
  Public Readonly Property Errors as List(Of IWebError)
    Get
      Return (Ctype(Err1, IEnumerable(Of IWebError))).Concat(Err2).ToList
    End Get
  End Property

  Public Err1 as List(Of Err1)
  Public Err2 as List(Of Err2)
End Class 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-11T10:25:15.847

您可以使用 Deserialize 自动为您执行此操作，还是发生了一些奇怪的事情。我用过 Newtsonsoft，我是这样做的（在 c# 中）

```
JsonConvert.DeserializeObject(Of MyJsonFromPHP)(jsonResponseText)

Public Class MyJsonFromPHP
     Public Property Errors as ErrorCollection
End Class

Public Class ErrorCollection
    Public Property err1 As List(Of Err1)
    Public Property err2 As List(Of Err2)
End Class

Public Class Err1
    Public Property code as Integer
    Public Property message as String
End Class 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T07:20:53.273

我想这可能会对你有所帮助。这里 strJSON 是你的 JSON 字符串

```
Dim jsS As New JavaScriptSerializer : objPostData = jsS.DeserializeObject(strJSON) 
```

之后你可以像这样迭代

```
For Each objTop As Object In objPostData
                objDic = CType(objTop, Generic.Dictionary(Of String, Object))
                dim strError  as string = objDic.Item("Errors")
Next 
```

如果你还想要什么，请告诉我

# android - 如何在android中使用Andengine从场景中删除Sprite

> ID：10023837
> 
> 赞同：1
> 
> 时间：2012-04-05T06:45:39.503
> 
> 标签：android, physics, andengine

我使用了 pScene.detachChild(face); 从场景中移除 Sprite。它隐藏面部对象但不会从场景中删除。如何从场景中移除？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T07:05:46.430

删除：

[http://code.google.com/p/andengineexamples/source/browse/src/org/anddev/andengine/examples/SpriteRemoveExample.java](http://code.google.com/p/andengineexamples/source/browse/src/org/anddev/andengine/examples/SpriteRemoveExample.java)

示例代码：

场景.detachChild(childSpriteVariable);

添加：

[http://code.google.com/p/andengineexamples/source/browse/src/org/anddev/andengine/examples/SpriteExample.java](http://code.google.com/p/andengineexamples/source/browse/src/org/anddev/andengine/examples/SpriteExample.java)

示例代码：

最终雪碧面 = 新雪碧（centerX，centerY，this.mFaceTextureRegion）；场景.attachChild(脸); 我基本上是通过浏览这个网站来获取这些信息的。它似乎是该引擎唯一的官方文档：

[http://code.google.com/p/andengineexamples/](http://code.google.com/p/andengineexamples/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T08:50:52.790

对 Sprite 的引用仍然存储在变量`face`中。调用`face = null;`应该允许垃圾收集器释放 Sprite 占用的内存，除非您将对它的引用存储在其他地方。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-18T14:58:12.033

我知道这个问题是很久以前发布的，但也许我可以帮助也有类似问题的新人。

要删除 Sprite，只需卸载用于生成 Sprite 的纹理。以某种方式将纹理与精灵连接起来，当您需要删除精灵时，只需卸载纹理（TextureRegion）。

# centos - 如何在 iptables 中为 SVN 打开端口？

> ID：10023838
> 
> 赞同：1
> 
> 时间：2012-04-05T06:45:45.567
> 
> 标签：centos, apache, iptables

如何在 iptables 中为 SVN 打开端口？端口 447，操作系统：centos。阿帕奇。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:59:41.520

`iptables -A INPUT -p tcp -m tcp --dport 447 -j ACCEPT`

但一般来说，您不应该将低于 1024 的端口用于任意事情。Apache 通常在 HTTP（80 端口）和 HTTPS（443 端口）上运行，并使用模块 dav_svn 处理 SVN

# php - 如何获得像谷歌文档一样的“缩略图文件”？

> ID：10023839
> 
> 赞同：4
> 
> 时间：2012-04-05T06:45:51.553
> 
> 标签：php, document, thumbnails, doc

如何获取`thumbs document`（doc、docx、pdf、pptx、ppt、.....）？

可以使用 C#、php、......

请帮我！非常感谢你！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T08:11:00.157

之前有人问过这个问题......请参阅[实时缩略图/大图像](https://stackoverflow.com/questions/9898407/php-live-thumbnails-large-image/9898934#9898934)以获取一些示例

它只捕获网站，但对于所有其他文档类型都是一样的......您需要做的就是将（doc、docx、pptx、ppt、.....）转换为或`pdf`...... PDF 更容易使用但一些在线工具也可以直接转换为..`HTML``image``doc``image`

拥有它后，`pdf`您可以轻松将其转换为`jpg`然后创建缩略图表单`jpg`

查看更多您可以使用的工具

看

[http://www.imagemagick.org/www/formats.html](http://www.imagemagick.org/www/formats.html)

```
exec("convert sample.pdf sample.jpeg") 
```

看

[http://www.phpclasses.org/package/5846-PHP-Convert-PDF-documents-to-images-using-Ghostscript.html](http://www.phpclasses.org/package/5846-PHP-Convert-PDF-documents-to-images-using-Ghostscript.html)

看

[如何在 PHP 中将 PDF 文档转换为预览图像？](https://stackoverflow.com/questions/467793/how-do-i-convert-a-pdf-document-to-a-preview-image-in-php)

我希望这有帮助

谢谢

:)

# javascript - 铁路中的 express-subdomain-handler 告诉我子域参数（在路线中）是控制器为什么？

> ID：10023844
> 
> 赞同：1
> 
> 时间：2012-04-05T06:46:18.413
> 
> 标签：javascript, node.js, express, railway.js

好的，我遇到了这个问题。我有这条路线：（代码位更改）文件：/home/dotcloud/current/config/routes.js

```
exports.routes = function (map) {

    // Generic routes. Add all your routes below this line
    // feel free to remove generic routes
        //map.all(':controller/:action');
 //   map.all(':controller/:action/:id');

        var sitesControllers = [
                "RequestSiteLogin",
                "IsValidSiteLogin",
                "HoldSiteLogin",
                "RequestSiteProfile",
                "LogoutSite",
                "RevalidState"
        ];
        map.namespace('/subdomain/Users/:id/SitesCotnrol/', function (site) {
            site.resources('sites',{only: sitesControllers},function (action) {
                action.post("RequestSiteLogin","SitesCotnrol/RequestSiteLogin#:id");
                action.post("IsValidSiteLogin","SitesCotnrol/IsValidSiteLogin#:id");
                action.post("HoldSiteLogin","SitesCotnrol/HoldSiteLogin#:id");
                action.post("RequestSiteProfile","SitesCotnrol/RequestSiteProfile#:id");
                action.post("LogoutSite","SitesCotnrol/LogoutSite#:id");
                action.post("RevalidState","SitesCotnrol/RevalidSite#:id");
            });
        });

        var adminControllers = [
                "AddSite",
                "RemoveSite",
                "HoldAllSites",
                "LogoutApplication",
                "UpdateApplicationSettings",
                "Echo"
        ];
        map.namespace('/subdomain/Applciation/Control',function (admin) {
        admin.resources('admin',{only: adminControllers},function (action) {
        action.post("AddSite","/subdomain/Application/Control/AddSite");
        action.post("RemoveSite","/subdomain/Application/Control/RemoveSite#:id");
        action.get("Echo","#echo");
        action.get("HoldAllSites","/subdomain/Application/Control/HoleAll");
        action.get("LogoutApplication","/subdomain/Application/Control/LogoutApplication");
        action.get("UpdateApplicationSettings","/subdomain/Application/Control/UpdateApplicationSettings");
    });
});
}; 
```

现在我尝试开始的 url 是这样的： [http](http://application.pmpdevelopmentfront.tk/control#echo) : //application.pmpdevelopmentfront.tk/control#echo 页面中的错误参数 ControlDomain 与子域相同，请参见[https://github.com/WilsonPage/express-subdomain-handler](https://github.com/WilsonPage/express-subdomain-handler) 请不要确定在这里做什么。

更新 cli 的路线：

```
dotcloud@frontend-default-www-0:~/current$ ./node_modules/railway/bin/railway  routes
   info  - socket.io started
        _subdomain_User_SitesCotnrol_site_RequestSiteLogin POST   //subdomain/Users/:id/SitesCotnrol/sites/:site_id/RequestSiteLogin        /subdomain/Users/:id/SitesCotnrol/SitesCotnrol/RequestSiteLogin#:id
        _subdomain_User_SitesCotnrol_site_IsValidSiteLogin POST   //subdomain/Users/:id/SitesCotnrol/sites/:site_id/IsValidSiteLogin        /subdomain/Users/:id/SitesCotnrol/SitesCotnrol/IsValidSiteLogin#:id
           _subdomain_User_SitesCotnrol_site_HoldSiteLogin POST   //subdomain/Users/:id/SitesCotnrol/sites/:site_id/HoldSiteLogin           /subdomain/Users/:id/SitesCotnrol/SitesCotnrol/HoldSiteLogin#:id
      _subdomain_User_SitesCotnrol_site_RequestSiteProfile POST   //subdomain/Users/:id/SitesCotnrol/sites/:site_id/RequestSiteProfile      /subdomain/Users/:id/SitesCotnrol/SitesCotnrol/RequestSiteProfile#:id
              _subdomain_User_SitesCotnrol_site_LogoutSite POST   //subdomain/Users/:id/SitesCotnrol/sites/:site_id/LogoutSite              /subdomain/Users/:id/SitesCotnrol/SitesCotnrol/LogoutSite#:id
            _subdomain_User_SitesCotnrol_site_RevalidState POST   //subdomain/Users/:id/SitesCotnrol/sites/:site_id/RevalidState            /subdomain/Users/:id/SitesCotnrol/SitesCotnrol/RevalidSite#:id
                   _subdomain_Applciation_Control__AddSite POST   //subdomain/Applciation/Control/admin/:admin_id/AddSite                   /subdomain/Applciation/Control//subdomain/Application/Control/AddSite#undefined
                _subdomain_Applciation_Control__RemoveSite POST   //subdomain/Applciation/Control/admin/:admin_id/RemoveSite                /subdomain/Applciation/Control//subdomain/Application/Control/RemoveSite#:id
                      _subdomain_Applciation_Control__Echo GET    //subdomain/Applciation/Control/admin/:admin_id/Echo                      /subdomain/Applciation/Control/#echo
              _subdomain_Applciation_Control__HoldAllSites GET    //subdomain/Applciation/Control/admin/:admin_id/HoldAllSites              /subdomain/Applciation/Control//subdomain/Application/Control/HoleAll#undefined
         _subdomain_Applciation_Control__LogoutApplication GET    //subdomain/Applciation/Control/admin/:admin_id/LogoutApplication         /subdomain/Applciation/Control//subdomain/Application/Control/LogoutApplication#undefined
 _subdomain_Applciation_Control__UpdateApplicationSettings GET    //subdomain/Applciation/Control/admin/:admin_id/UpdateApplicationSettings /subdomain/Applciation/Control//subdomain/Application/Control/UpdateApplicationSettings#undefined 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T09:45:11.170

首先，删除通用路由：

```
// Generic routes. Add all your routes below this line
// feel free to remove generic routes
map.all(':controller/:action');
map.all(':controller/:action/:id'); 
```

您可能会错过的第二件事：命名空间。尝试使用 CLI 调试您的路由：`railway routes`

第三：需要检查您的`esh`初始化（正确的前缀，正确连接管理命名空间前缀）。

顺便说一句：子域看起来像是当前铁路路线实施中缺少的功能。为什么不向这个模块添加子域处理并避免额外的代码和依赖项。

# javascript - JavaScript 中用于验证十进制数的正则表达式

> ID：10023845
> 
> 赞同：36
> 
> 时间：2012-04-05T06:46:21.263
> 
> 标签：javascript, regex

我想要一个 JavaScript 中的正则表达式来验证十进制数。

它应该只允许最多两位小数。例如，它应该允许`10.89`但不允许`10.899`。

它还应该只允许一个句点 ( `.`)。例如，它应该允许`10.89`但不允许`10.8.9`。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-04-05T06:48:34.917

试试下面的表达式：`^\d+\.\d{0,2}$`如果你想让小数位是可选的，你可以使用下面的：`^\d+(\.\d{1,2})?$`

**编辑：**要在 Javascript 中测试字符串匹配，请使用以下代码段：

```
var regexp = /^\d+\.\d{0,2}$/;

// returns true
regexp.test('10.5') 
```

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2018-02-12T09:48:43.967

## 正则表达式

```
/^\d+(\.\d{1,2})?$/ 
```

* * *

## 演示

```
var regexp = /^\d+(\.\d{1,2})?$/;

console.log("'.74' returns " + regexp.test('.74'));
console.log("'7' returns " + regexp.test('7'));
console.log("'10.5' returns " + regexp.test('10.5'));
console.log("'115.25' returns " + regexp.test('115.25'));
console.log("'1535.803' returns " + regexp.test('1535.803'));
console.log("'153.14.5' returns " + regexp.test('153.14.5'));
console.log("'415351108140' returns " + regexp.test('415351108140'));
console.log("'415351108140.5' returns " + regexp.test('415351108140.5'));
console.log("'415351108140.55' returns " + regexp.test('415351108140.55'));
console.log("'415351108140.556' returns " + regexp.test('415351108140.556'));
```

* * *

## 解释

1.  `/ /`: 表达式的开头和结尾
2.  `^`: 后面的内容应该在你正在测试的字符串的开头
3.  `\d+`: 应该至少有一位数字
4.  `( )?`: 这部分是可选的
5.  `\.`: 这里有一个点
6.  `\d{1,2}`: 这里应该有一位到两位数
7.  `$`: 前面的任何内容都应该在您正在测试的字符串的末尾

* * *

## 小费

您可以使用[regexr.com](https://regexr.com/)或[regex101.com](https://regex101.com/)直接在浏览器中测试正则表达式！

* * *

## 回答 #3

> 赞同：42
> 
> 时间：2012-04-05T06:49:46.967

```
^\d+(\.\d{1,2})?$ 
```

将会允许：

1.  `244`
2.  `10.89`
3.  `9.5`

将不允许：

1.  `10.895`
2.  `10.`
3.  `10.8.9`

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-12-10T09:54:59.763

最多有 2 位小数的数字：

```
/^\d+(?:\.\d{1,2})?$/ 
```

这应该可以正常工作。请尝试:)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-04-07T19:41:08.197

我发现我可以使用

```
^\d+(\.\d+)?$ 
```

小数点后两位以上。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-12-17T16:05:19.820

由于您要求验证十进制数字，为了完整起见，我将使用不允许像 06.05 这样的字符串的正则表达式。

```
^((0(\.\d{1,2})?)|([1-9]\d*(\.\d{1,2})?))$ 
```

稍微复杂一些，但在这种情况下返回 false。

编辑：

```
^-?((0(\.\d{1,2})?)|([1-9]\d*(\.\d{1,2})?))$ 
```

如果你也想要负数。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2015-07-31T04:06:20.623

请参阅我使用 JavaScript 语言在您的网页上对文本输入元素的值进行跨浏览器过滤器的项目：[输入键过滤器](https://github.com/anhr/InputKeyFilter)。您可以将值过滤为整数、浮点数，或编写自定义过滤器，例如电话号码过滤器。请参阅使用小数指针和限制为小数点后 2 位的浮点数输入的自定义过滤器示例：

```
<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Input Key Filter Test</title>
	<meta name="author" content="Andrej Hristoliubov anhr@mail.ru">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<!-- For compatibility of IE browser with audio element in the beep() function.
	https://www.modern.ie/en-us/performance/how-to-use-x-ua-compatible -->
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>

	<link rel="stylesheet" href="https://rawgit.com/anhr/InputKeyFilter/master/InputKeyFilter.css" type="text/css">		
	<script type="text/javascript" src="https://rawgit.com/anhr/InputKeyFilter/master/Common.js"></script>
	<script type="text/javascript" src="https://rawgit.com/anhr/InputKeyFilter/master/InputKeyFilter.js"></script>

</head>
<body>
	<h1>Float field</h1>
<input id="Float" 
	onchange="javascript: onChangeFloat(this)"
	onblur="inputKeyFilter.isNaN(parseFloat(this.value), this);"
/>
<script>
	function CreateFloatFilterCustom(elementID, onChange, onblur){
		try{
			inputKeyFilter.Create(elementID
				, onChange
				, function(elementInput, value){//customFilter
					if(value.match(/^(-?\d*)((\.(\d{0,2})?)?)$/i) == null){
						inputKeyFilter.TextAdd(isRussian() ?
								"Допустимый формат: -[0...9].[0...9] или -[0...9]e-[0...9]. Например: -12.34 1234"
								: "Acceptable formats: -[0...9].[0...9] or -[0...9]e-[0...9]. Examples: -12.34 1234"
							, elementInput);
						return false;
					}
					return true;
				}
				, onblur
			)
		} catch(e) {
			consoleError("Create float filter failed. " + e);
		}
	}

	CreateFloatFilterCustom("Float");

	function onChangeFloat(input){
		inputKeyFilter.RemoveMyTooltip();
		var elementNewFloat = document.getElementById("NewFloat");
		var float = parseFloat(input.value);
		if(inputKeyFilter.isNaN(float, input)){
			elementNewFloat.innerHTML = "";
			return;
		}
		elementNewFloat.innerHTML = float;
	}
</script>
 New float: <span id="NewFloat"></span>
</body>
</html>
```

另请参阅我[的输入键过滤器页面示例](https://anhr.github.io/InputKeyFilter/)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-08-05T06:50:36.653

试试这样的正则表达式：

```
(?=[^\0])(?=^([0-9]+){0,1}(\.[0-9]{1,2}){0,1}$) 
```

**允许：** 1、10.8、10.89、.89、0.89、1000

**不允许：** 20.、50.89.9、12.999、.、空字符注意这适用于正数

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-07-29T16:35:40.290

与 mic 给出的答案相比......它没有验证我工作的某些平台中的任何内容......确切地说，它实际上并没有在 Dream Viewer 中工作......

特此..我再次重写它..这将适用于任何平台.. **“^[0-9]+(.[0-9]{1,2})?$”..** thnkss..

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-09-06T18:39:10.893

```
 function CheckValidAmount() {
        var amounttext = document.getElementById('txtRemittanceNumber').value;            
        if (!(/^[-+]?\d*\.?\d*$/.test(amounttext))){
            alert('Please enter only numbers into amount textbox.')
            document.getElementById('txtRemittanceNumber').value = "10.00";
        }
    } 
```

这是一个函数，它将采用任何小数位数且不带任何小数位的十进制数。

谢谢 ... ：）

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-06-22T08:11:30.983

将值作为字符串传入的架构。正则表达式将验证至少一个数字的字符串，可能后跟一个句点和两个数字：

```
{
    "type": "string",
    "pattern": "^[0-9]+(\\.[0-9]{2})?$"
} 
```

下面的模式是等效的，除了它还允许空字符串：

```
{
    "type": "string",
    "pattern": "^$|^[0-9]+(\\.[0-9]{2})?$"
} 
```

* * *

## 回答 #12

> 赞同：-3
> 
> 时间：2012-04-05T06:48:39.160

这行得通吗？

```
[0-9]{2}.[0-9]{2} 
```

# ef-code-first - 实体框架代码第一个逆属性生成的列名

> ID：10023856
> 
> 赞同：1
> 
> 时间：2012-04-05T06:47:50.533
> 
> 标签：ef-code-first

对于简单的 FK，我可以使用更改生成的列名

```
 [ForeignKey("CustomList1")]
    public int? CustomList1ID { get; set; }
    public virtual CustomList CustomList1 { get; set; } 
```

但是对于inverseProperty（因为我有多个customList，如何控制数据库生成的列名呢？

```
 [InverseProperty("CustomList1")]
    public virtual List<Customer> CustomerCustomList1 { get; set; } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-12T12:03:07.870

[ForeignKey("CustomList1")] 不改变生成的列名。

1.  如果放置在导航属性上，它指定用于检索正确实体的字段的名称。
2.  如果放置在字段属性上，它指定使用该字段作为 FK 的关联导航属性。

如果要更改生成的列名，应使用：[Column("YOU_COLUMN_NAME")]。

# ruby-on-rails - 将句点作为单独的模型/表格是否很常见

> ID：10023861
> 
> 赞同：0
> 
> 时间：2012-04-05T06:48:29.520
> 
> 标签：ruby-on-rails, database-design

我正在尝试重构一个完成了一半的项目。原开发者已离开。在他的模型设计中，使用了一个单独的“周期”模型。所以折扣对象有一个*可用期间*，而事件可以有一个*期间*。

周期表：

```
 create_table "periods", :force => true do |t|
    t.integer  "owner_id"
    t.string   "owner_type"
    t.datetime "begin"
    t.datetime "end"
    t.datetime "created_at",                               :null => false
    t.datetime "updated_at",                               :null => false
  end 
```

我开始觉得很难根据日期编写列表查询。我需要加入周期表并对该结束日期字段进行排序。

我想问的是：这种方法的优点/缺点是什么？我觉得将它们移回归属模型更有意义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:06:45.703

制作`period`表格不一定是一种奇怪的做法：只要将那种信息传递给项目开发人员的继承人。

如果您想了解给定时间段内发生的所有事情，比如六月，那么表格的划分是非常有意义的*。*

所以我的观点是，我想这与沟通和需求有关。如果您不再需要该功能，我建议进行迁移，将两个新列添加到与周期相关的所有多态表中，`begins_at`然后`ends_at`将周期表中的所有数据迁移到这些相关列中。

# vim - GNU Global/gtags 是否支持 taglist vim 插件？

> ID：10023866
> 
> 赞同：1
> 
> 时间：2012-04-05T06:48:54.417
> 
> 标签：vim, taglist, gnu-global

我做了一些搜索，但没有找到任何有用的东西。有人可以向我推荐一些链接或直接给出说明吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-06T15:24:41.663

如果你可以接受使用 vim 的 cscope 接口，Gnu global 带有 gtags-cscope，它提供与 cscope 相同的接口，但由 global 的数据库支持。只需设置 cscopeprg=gtags-cscope，您就可以跨标签导航。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:51:35.880

有趣的是，大约一个小时前，我刚刚决定最终尝试[GNU GLOBAL 。](http://www.gnu.org/software/global/)

`gtags`不在 TagList 的默认可执行文件中。所以它不是“支持”的。

也许您可以通过添加它，`let Tlist_Ctags_Cmd='/path/to/gtags'`但我怀疑它是否`gtags`接受相同的参数，`ctags`或者即使它可以将其索引输出到标准输出，就像`ctags`TagList 使用的那样。

# php - Jquery网格，无法正常工作

> ID：10023869
> 
> 赞同：2
> 
> 时间：2012-04-05T06:49:01.273
> 
> 标签：php, jquery-ui, jquery-plugins, jqgrid

我正在使用此链接 [http://www.jeasyui.com/tutorial/app/crud2.php](http://www.jeasyui.com/tutorial/app/crud2.php)中的应用程序。我通过使用 phpmyadmin（使用 wamp 服务器）在数据库中添加了一个类似“empno”的列。当我刷新页面..新添加的列没有显示在网格中..而且网格很小..我想增加高度。如何？

非常感谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:03:04.217

使用这条线增加高度：

```
 <table id="dg" title="My Users" style="width:550px;height:250px" //edit table height 
```

对于未显示的列，我不知道为什么会发生这种情况，请重新检查该列是否在 wamp 服务器中再次插入表中

# c++ - C++ IOStream 运算符重载错误

> ID：10023871
> 
> 赞同：0
> 
> 时间：2012-04-05T06:49:15.447
> 
> 标签：c++

我遇到了一个错误，我似乎无法在我需要编写并最终适应更复杂代码的基本程序中弄清楚。

```
Wordnum.cpp:10:67: error: ‘std::ostream& Wordnum::operator<<(std::ostream&, const Wordnum&)’ must take exactly one argument

Wordnum.cpp:14:61: error: ‘std::ostream& Wordnum::operator>>(std::istream&, Wordnum&)’ must take exactly one argument 
```

这是我的两个错误，这是我的三个文件。

主文件

```
#include <cstdlib>
#include <iostream>

#include "Wordnum.h"

using namespace std;

int main(int argc, char** argv) {

    float n1, n2;
    char op;

    while (cin >> n1 >> op >> n2) {
        Wordnum a(n1), b(n2);
        switch (op) {
            case '+': cout << a + b << endl; break;
        }
    }

    return 0;
} 
```

字数.h

```
#ifndef WORDNUM_H
#define WORDNUM_H

#include <iostream>

class Wordnum {
public:
    Wordnum(int n);     // CONSTRUCTOR

    friend Wordnum operator+ (const Wordnum& n1, const Wordnum& n2) 
        { return Wordnum(n1.value_ + n2.value_); }
    friend Wordnum operator- (const Wordnum& n1, const Wordnum& n2) 
        { return Wordnum(n1.value_ - n2.value_); }
    friend Wordnum operator* (const Wordnum& n1, const Wordnum& n2) 
        { return Wordnum(n1.value_ * n2.value_); }
    friend Wordnum operator/ (const Wordnum& n1, const Wordnum& n2) 
        { return Wordnum(n1.value_ / n2.value_); }

    friend std::ostream& operator<< (std::ostream&, const Wordnum& n);
    friend std::istream& operator>> (std::istream&, Wordnum& n);

private:
    int value_;
};

#endif  /* WORDNUM_H */ 
```

Wordnum.cpp

```
#include "Wordnum.h"

#include <iostream>

Wordnum::Wordnum(int n) {
    value_ = n;
}

std::ostream& Wordnum::operator<< (std::ostream&, const Wordnum& n) {
    return 0;
}

std::ostream& Wordnum::operator>> (std::istream&, Wordnum& n) {
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-05T06:53:11.890

`WordNum::`您已声明为友元函数，但使用in它定义为 Wordnum 的成员，`WordNum.cpp`应改为：

```
std::ostream& operator<< (std::ostream &os, const Wordnum& n) {
  return os;
}

std::istream& operator>> (std::istream &is, Wordnum& n) {
   return is;
} 
```

# eclipse - 拥有 Eclipse 无头应用程序的要求和用例是什么？

> ID：10023872
> 
> 赞同：0
> 
> 时间：2012-04-05T06:49:16.740
> 
> 标签：eclipse, eclipse-plugin, headless

我想知道拥有 Eclipse 无头应用程序的一般要求是什么。还有哪些不同的通用用例将有助于无头应用程序。

问候

阿南德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:43:11.320

问题是一样的；为什么你想要一个程序的命令行版本而不是一个带有 GUI 的程序？

根据我的经验，如果 RCP 应该在 unix/linux 操作系统上运行，那么这些用户通常希望能够在无头模式下使用它。此外，如果您可以看到一个您想要编写程序使用脚本的用例。

将无头模式改造为现有 RCP 可能非常困难，因为理想情况下，您需要非常严格的模型-视图-控制器分离，以允许执行相同的功能，无论操作来自单击 GUI 还是发送参数在命令行上。

当我这样做时，我们创建了三个 eclipse 项目，一个具有核心业务功能，一个具有无头功能，一个具有 GUI 组件。处理无头功能的项目相当小（约 200 行）。但我们从一开始就考虑到这一要求，对核心部分进行编程。

我们在 Eclipse UI 组件（例如工作台）的一些依赖项方面遇到了问题，我们无法在无头版本中摆脱这些依赖项，但我听说这在 Eclipse 版本 4 中更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-24T14:16:46.263

一种常见的情况是当您想将一些 Eclipse API 用作服务时。例如，假设您的 Web 应用程序需要一个“代码完成提供程序”。您可以完全依赖 javascript，也可以只调用满足您需求的 Eclipse API。您还可以将应用程序创建为要部署在 OSGI 控制台中的包。

# java - 在 ilog jrules java xom 模型中使用静态声明

> ID：10023883
> 
> 赞同：0
> 
> 时间：2012-04-05T06:50:10.313
> 
> 标签：java, business-rules, rule-engine, ilog, jrules

在我的 java pojo XOM 模型中，我有一个静态变量说 count。我正在执行 5 条规则，它将 count 变量增加一。所以在执行结束时，我的值为 count = 5 。

现在，如果我声明一个非静态变量计数并为每个规则执行增加其值，该变量将被初始化 5 次并且它是非静态的。

换句话说，如果对象未声明为 static ，将创建我的 java XOM 模型类的 5 个实例吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T01:52:24.773

静态变量仅仅是类变量。因此，它将在规则调用中“持续存在”。换句话说，下次你运行它时，计数将是 10。如果你不使用静态，那么它将为每个规则调用初始化一次，而不是为每个规则初始化一次。所以，简而言之，不。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-18T12:15:36.360

不确定我是否理解你的问题。
我有一条规则说明：
“然后将 myObj.count 设置为 myObj.count + 1；” 那么您将拥有与 myObj 对象一样多的计数变量。
因此，如果您在工作内存中插入一个 myObj，那么在最后和执行期间您将只有一个 myObj。
每个规则将触发与您在工作记忆中“匹配”的次数一样多的时间。
因此，如果您在引擎中传递 5 个 myObj，您将拥有 5 个 myObj.count，每个最终值为“5”。

如果您使用的是静态，那么它将是相同的。
除非您在有状态模式下使用引擎（实际上很少见）。
BRMS 有一个决策服务，因此对传入的参数（当然还有规则）做出决定。
我并不是说您不能在有状态模式下使用它，但这种用法很少见。
如果你这样做，那么是的，前面的答案是正确的，你最终会得到一个无限增加的值。每次运行增加五个。

顺便说一句：我从未尝试过这个，因为有一整套属性可以获取触发或不触发的规则数量以及执行时间等等......

总而言之，你在工作记忆中拥有你所拥有的东西。这意味着如果您有一个对象实例，引擎将永远不会在运行时创建更多实例。由于 RETEPlus 算法，这将导致疯狂（ : : ）。（也不是经常使用）
创建更多对象实例的唯一方法是直接通过规则自己完成。例如：在报告的消息中添加消息“hello world”。
希望对您有所帮助

# xaml - Windows 8 中的评级控制

> ID：10023889
> 
> 赞同：3
> 
> 时间：2012-04-05T06:50:54.963
> 
> 标签：xaml, windows-8, microsoft-metro, windows-runtime, rating-system

我在 JavaScript/HTML Project for windows 8 中看到了评级控制。但是我在 XAML 中还看不到类似的东西。:(

知道如何在 Windows 8 中实现评级控制吗？

似乎微软将 XAML 人视为第二人 :(...

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-12T20:27:35.550

Callisto 中还有一个评级控件

[https://github.com/timheuer/Callisto](https://github.com/timheuer/Callisto)

显示 5 颗星中的 3 颗亮起的示例代码：

```
<callisto:Rating
    Value="3" ItemCount="5"
    Background="Transparent" Foreground="Gold" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-04T07:40:46.620

[应用程序促销](https://code.msdn.microsoft.com/windowsapps/Improve-app-ratings-with-a-6139caa5)项目适用于 Windows/WP 中的用户评分。我搜索了一天多，现在我很高兴使用和分享应用程序促销。

关于 App promo：App Promo 是一个适用于 Windows Phone 和 Windows 8 的小型控件库。它有一个 RateReminder 控件来解决评级问题。

**链接**：

1.  [应用促销 - code.msdn.microsoft.com](https://code.msdn.microsoft.com/windowsapps/Improve-app-ratings-with-a-6139caa5)
2.  [应用程序促销 - 源代码](https://code.msdn.microsoft.com/windowsapps/Improve-app-ratings-with-a-6139caa5/view/SourceCode#content)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T14:30:40.023

我移植了一个开源控件，用于显示 WPF 中的星级评分。

也许你可以从那里开始，或者发现它有用。

[http://igrali.wordpress.com/2012/05/20/show-ratings-with-stars-in-winrt-xaml/](http://igrali.wordpress.com/2012/05/20/show-ratings-with-stars-in-winrt-xaml/)

[http://metrorate.codeplex.com/](http://metrorate.codeplex.com/)

# css - 输入类型复选框设计问题

> ID：10023890
> 
> 赞同：1
> 
> 时间：2012-04-05T06:51:00.437
> 
> 标签：css

如何更改输入类型复选框边框，背景并与每个浏览器兼容

我用过

```
.chkBox{
 border:1px solid red;
 background:#CC3333;
 width:15px;
 height:15px

 } 
```

但我没有表达我的愿望。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T06:55:02.143

**复选框**是浏览器倾向于不让您设置太多样式的元素之一。为此，您可以使用`JS` [http://www.no-margin-for-errors.com/projects/prettycheckboxes/](http://www.no-margin-for-errors.com/projects/prettycheckboxes/)

**或者**

您可以使用 css hack 来实现这一点

[http://www.thecssninja.com/css/custom-inputs-using-css](http://www.thecssninja.com/css/custom-inputs-using-css)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:02:35.013

如果可以使用 jQuery，则可以自定义复选框。请到[这里](http://jqueryui.com/demos/button/#checkbox)

# c# - asp.net 中的谷歌可视化条形图

> ID：10023893
> 
> 赞同：0
> 
> 时间：2012-04-05T06:51:14.177
> 
> 标签：c#

嗨，我在 asp.net 中将 Google 可视化条形图用于商业目的，我需要为此购买许可证吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-07-04T11:14:18.673

它是免费的，你可以使用，但问题是它不能离线工作，请阅读常见问题部分

[https://developers.google.com/chart/interactive/faq#using-the-api](https://developers.google.com/chart/interactive/faq#using-the-api)

# android - 保持片段中选定项目的突出显示？

> ID：10023904
> 
> 赞同：9
> 
> 时间：2012-04-05T06:52:30.507
> 
> 标签：android, android-layout, android-widget

我有一个包含两个片段的布局。左侧片段是使用 SimpleCursorAdaptor 的 ListFragment，右侧填充了从左侧片段列表中选择的项目的详细信息。我试图弄清楚如何确保 ListFragment 中选定的项目*保持*突出显示，直到选择列表中的另一个项目。

经过一些研究，我尽可能尝试使用`android:background="@drawable/item_selector"`我可以更改不同状态的颜色，但它们似乎都没有持续存在。我认为 selected 会......在您选择其他项目之前，您选择的项目仍然是所选项目，这似乎是合乎逻辑的。

我什至尝试`v.setSelected(true);`在我的点击处理程序中使用，希望它可以保持状态，但这也不起作用。

有没有我想念的状态？我查看了开发文档，但似乎没有其他合适的...

**item_selector.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item 
        android:state_pressed="true" 
        android:drawable="@color/green" />
    <item 
        android:state_selected="true" 
        android:drawable="@color/blue" />
</selector> 
```

我不确定其他代码可能会有所帮助，因此请随时询问您认为必要的其他任何内容。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-08T16:31:20.607

经过进一步研究，答案在 android 文档中（实际上是文档的两部分）。

首先，在触摸模式下，没有选择或聚焦状态。

其次，默认情况下，列表视图设置为无选择模式（意味着列表中的任何项目都不能具有选择状态）。我所要做的就是通过添加以下内容来更改选择模式（它可以是单个或多个，我只需要/想要单个）：

```
getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE); 
```

然后我在选择器 XML 中使用了选择状态（转换为`activated`状态）：

```
<item 
 android:state_activated="true" 
 android:drawable="@color/blue" /> 
```

在行布局 xml 文件中应用它作为背景：

```
 <TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/text1"
    android:layout_width="match_parent"
    android:layout_height="35dp"
    android:background="@drawable/item_selector"
    android:gravity="center_vertical"/> 
```

我选择的项目现在以蓝色背景显示，直到选择了不同的项目。

请注意，这 (android:state_activated) 需要 Android API 11 或更高版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T06:58:16.490

我相信您也需要添加**state_focused**以使其感觉像是被选中或突出显示的。

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item 
        android:state_pressed="true" 
        android:drawable="@color/green" />
    <item 
        android:state_selected="true" 
        android:drawable="@color/blue" />

    <item 
        android:state_focused="true" 
        android:drawable="@color/red" />
</selector> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-24T18:29:44.337

这对我来说非常好用`ListFragment`，但我认为它只适用于 Android 4.0 及更高版本。我为列表项创建了一个简单的布局`android:background="?android:attr/activatedBackgroundIndicator`（如果 Android 低于 4.0，您需要在 drawables 中找到类似的布局）：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="?android:attr/listPreferredItemHeight"
android:gravity="center_vertical"
android:background="?android:attr/activatedBackgroundIndicator"
android:orientation="horizontal" >

<TextView
    android:id="@+id/list_item_text"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:ellipsize="end"
    android:singleLine="true"
    android:textAppearance="?android:attr/textAppearanceListItemSmall"
    android:gravity="center_vertical"
    android:layout_margin="@dimen/double_view_margin" /> 
```

然后，只需`ArrayAdapter`使用此布局创建一个简单的并将选择模式设置为单一：

```
final ArrayAdapter<String> labelsAdapter = new ArrayAdapter<String>(getActivity(), R.layout.item_simple_list_item, R.id.list_item_text, labels);

setListAdapter(labelsAdapter);

getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE); 
```

之后，您可以使用方法突出显示必要的项目`setItemChecked`：

```
@Override
public void onListItemClick(final ListView l, final View v, final int position, final long id) {
    getListView().setItemChecked(position, true);
} 
```

# salesforce - salesforce - 覆盖标准对象详细信息页面

> ID：10023906
> 
> 赞同：0
> 
> 时间：2012-04-05T06:52:56.040
> 
> 标签：salesforce, visualforce

我已经用我的 vf 页面使用标签覆盖了主要对象标准详细信息页面，并添加了我自己的东西（如 jquery 弹出窗口）......是否会因为这个覆盖而出现任何问题，如安全性、权限、布局修改......

例如，如果管理员修改了详细页面布局，那将被反映，因为它被我的 vf 页面覆盖了？？？？

同样，该页面的权限/安全性和其他内容呢？这也会反映出来吗？？？

谢谢你的回复。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T16:56:17.187

如果您所拥有的只是`<apex:detail>`表示对象的详细信息页面，它将符合配置的内容 - 假设正如 Kevin 提到的，您`with sharing`在类定义中使用以确保尊重相同的访问权限。

但是是的，当您使用 Visualforce 标签时，将*继承*`<apex:detail>`详细信息页面布局更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T11:50:32.353

如果您的管理员对标准详细信息页面进行更改，这些更改将不会反映在您的 VF 页面中。例如，如果他们在页面布局（而不是对象级别）上设置了必填字段，则不会反映在您的 VF 页面上。但是，如果他们在潜在客户对象本身上设置了必填字段，则这将在数据库级别强制执行，并且在您的 VF 页面中也是必需的。字段级安全性也是如此。

如果您为您的页面创建了一个控制器扩展，如果您希望保持该 VF 页面的共享规则完整，则需要确保使用“withsharing”修饰符定义您的类。否则，您的控制器可能会访问通常不会在 VF 页面上与用户共享的记录。

# php - PHP 或 Jquery 填充表单字段？

> ID：10023917
> 
> 赞同：0
> 
> 时间：2012-04-05T06:54:28.533
> 
> 标签：php, jquery, forms, populate

因为我是新手，所以我想听听你的建议。
到目前为止，我已经找到了两种填充表单字段的方法。
说这是我的html：

```
 <input id="test" name="test" type="text"> 
```

如您所见，每个字段的 id 都与名称匹配。
当需要从 Sql 填充字段时，我可以这样做：

PHP：

```
 <input id="test" name="test" type="text" value="<?php if(isset($SqlRequested['test'){echo $SqlRequested['test'];}"> 
```

并类似地写下我表单的所有字段......或将其添加到 JQUERY
的头部：

```
<script>
 <?php  echo "$(document).ready(function(){";
        foreach ($SqlRequested as $id => $value){
                echo "$('#" . $id . "').val(\"" . $value . "\");"
                echo "};"
         echo "});"
 ?>
 </script> 
```

除了当字段中包含“输入/返回”时 jQuery 给我带来了一些问题（我猜这可以通过使用 .html 或 .text 来修复）

你会建议哪一个，每种方法的缺点或优点是什么？
对代码有任何改进吗？
还有其他我想念的方式吗？
关于轻松解决上述小问题的任何建议？

提前谢谢。

编辑：我刚刚注意到 jQuery .populate，我猜这有点像我的第二种方式，你只需要以以下格式获取数据`{'id':'value',...}`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T06:56:14.237

您应该使用 PHP 来呈现页面，因为没有 javascript 的人不会获得您的 javascript 版本的值。

PHP：优点：所有浏览器都会得到你想要的。输出 HTML 可以说更正确，因为它具有用户期望的值

缺点：......增加了服务器负载......数量如此之少，以至于它可能甚至不应该是一个骗局

JS：优点：...

Cons: Non JS enabled browsers won't see the values you expect.

Improvements: Write a function in PHP that will auto echo your value if it exists to cut down on duplicate typing. Something like:

```
function echoValue($value) {
global $SqlRequested;
    if(isset($value)){
        echo $value;
    }
} 
```

Or if you wanted:

```
function echoValue($value) {
global $SqlRequested;
    if(isset($SqlRequested[$value])){
        echo $SqlRequested[$value];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:41:26.267

Nice question - all of this methods using in different frameworks, cms etc. Most "simple" and direct method is

```
value="<?php echoValue('test');?>" 
```

Most powerful and "complex" is use framework like knockout.js for render forms.

And yes - "Who wouldn`t have javascript?"

Axiom - All have javascript.

# c# - ASP.Net C# 文件下载窗口停止回发，并且错误消息留在转发器中

> ID：10023919
> 
> 赞同：0
> 
> 时间：2012-04-05T06:54:48.127
> 
> 标签：c#, asp.net, repeater

网页允许用户在填写几个数据字段并从 ddl 选择 pdf 类型后下载/查看 pdf 文件，所以我遇到的问题是所有组件之后都有一个错误转发器，它显示错误，我无法清除值，因为回发不会发生。因此，如果我在打印 PDF 之前出现了错误，该错误将保留在转发器中，并且无法删除它。因为文件下载窗口出现时没有回发...

日期文本框

日期文本框

ddl

按钮

错误中继器

```
 protected void btnPrintPDF(object sender, EventArgs e)
        {

       if(DateTextbox'es !valid)
       {
          errors.add(new error);
       }
       if(ddl!selected)
       {
          errors.add(new error);
       }

       if(error.count==0){
         errors=null; //so if we had any errors before in the repeater,  
         errorRepeater=errors;//they Stay there and you can't delete them
         errorRepeater.databind();

         print.pdf(); //a download window jumps in browser killing postback
         //manually calling js postback from Codebehind doesn't work
}

protected void print.pdf(MemoryStream ms, string pdfName, string xslName)
        {
            ResourceContext xsltSert = new ResourceContext("/Path/xsl/" + xslName);
            Stream pdf;
            xsltSert.generatePdf(xmlInputStream: ms, pdf: out pdf);
            try
            {
                Response.ContentType = "application/pdf";
                HttpUtils.httpStream(Response, pdf, pdfName);
                Response.Close();
            }
            finally
            {
                pdf.Close();
            }
        } 
```

到目前为止，唯一的解决方案是将验证（将 ontextchange 事件添加到 dataTextBoxe 的......）移动到 buttonClick 事件之外的函数，如果没有错误，那么在 buttonClick 中打印 pdf，la脚方式......

希望你能帮忙

贪婪

# iphone - 拍摄 iphone 视频图标内的视频

> ID：10023923
> 
> 赞同：0
> 
> 时间：2012-04-05T06:55:22.767
> 
> 标签：iphone, ios, ios4, ios5

我正在做一个项目，它应该采用 iPhone 中的视频图标内的视频。任何人都可以通过提供链接或其他方式来帮助我。任何帮助表示赞赏。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:12:13.957

这是不可能的，因为我们无法从另一个应用程序内部访问一个应用程序

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:05:38.260

您可以使用[`UIImagePickerController`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html)来挑选视频。

使用以下代码显示选择器。

```
UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];
imagePicker.delegate = self;
imagePicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
imagePicker.mediaTypes = [[NSArray alloc] initWithObjects:(NSString *)kUTTypeMovie, nil];
[self presentModalViewController:imagePicker animated:YES]; 
```

并获取所选视频 URL，实现[UIImagePickerControllerDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerControllerDelegate_Protocol/UIImagePickerControllerDelegate/UIImagePickerControllerDelegate.html#//apple_ref/doc/uid/TP40007069)协议。

您将在委托方法中获得必要的值

`- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info`

通过`info`字典。

# matlab - 双精度 - MS Visual C++ 2005 与 Matlab

> ID：10023926
> 
> 赞同：0
> 
> 时间：2012-04-05T06:55:25.000
> 
> 标签：matlab, visual-studio-2005, double, floating-accuracy, double-precision

我正在使用 MS Visual C++ 2005 在 C++ 中实现一些数学算法。我的 C++ 代码采用在 Matlab 中生成的 12 位小数精度的 10K 双精度数据类型输入值（例如 866.333333333333）。然后我的代码进行一些计算并给出结果，即机械实体的损坏值，当相同的算法以相同的输入值在其中运行时，它应该与 matlab 输出相同。

我的问题是 matlab 提供 10k 输入值，精度为小数点后 12 位，但我的 c++ 代码使它们精确到小数点后 15 位。这意味着来自 matlab 的 866.333333333333 将在 C++ 中用作 866.33333333333303。我知道这就是 IEEE754 浮点表示。但是，当我将 C++ 输出与 matlab 输出进行比较时，输入的这个非常微小的变化确实会对最终结果产生可衡量的差异。我可能听起来很奇怪，但这可能是观察到的。我希望我可以在这里分享一些代码，但它是非常机密的。如果有人帮助我解决这个问题，我将不胜感激。

提前致谢...！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T09:12:14.007

如果这个问题（和任何答案）以有效数字而不是小数位为框架，会更准确。正如 Itamar Katz 暗示的那样，IEEE 标准确实将双精度浮点数存储在 52 位中作为有效位（有些人称之为尾数）。该标准还暗示了一个额外的位，因此双精度数具有 53 个有效位。当二进制数转换为十进制表示时，这将转换为 15 或 16 位有效数字。

Matlab 和 Visual C++ 都不能（没有额外的工具，例如任意精度库或使用 128 位 fp 数）存储超过标准有效数大小的双精度数。如果您的程序以任何一种语言向您显示超过 15（或 16）位十进制数字的数字，则您不能信任任何多余的数字。它们不是来自数字的存储表示，它们是在内存和屏幕之间的某处添加的——也许一个“有用的”数字格式化程序只是扩展了最右边的数字，直到你看到你请求的 19 位数字（管他呢）。

从如何将数字从 C++ 传输到 Matlab 或从 Matlab 传输数字，甚至您确实传输数字的问题并不完全清楚；也许您只是想编写一个 C++ 程序来重现您的 Matlab 程序的结果。（我们在这里做了很多，所以我在这个领域有一些经验。）

如果您使用“文本”文件，那么您传输的不是数字，而是数字的表示。如果您的程序将文本“15.833”读入一个双精度变量，则对有效数字中额外数字所取的值做出任何假设是不安全的。特别是你不应该假设它们将被设置为 0——好吧，我想对 C++ 更了解的人可能会告诉我们语言标准确实保证了这一点，但 Matlab 没有，我不认为 C++也可以。如果要设置额外的数字，请在文本表示中指定它们。即使这样也不能保证您存储的值与文本文件中指定的完全一致，您的变量将（可能）保存与文本中的值最接近的 fp 数。

但是，如果您的文本文件是由 Matlab（或 C++）编写的，并将 15 或 16 位数字写入数字的文本表示，那么它应该是整个 fp 数字的文本表示，并且在被另一个程序读取时，应该被翻译进入相同的 fp 数。但是请注意，我写的是“应该”，并且该数字至少被翻译了两次，当您将视线从计算机上的数字上移开时，会发生奇怪的事情。

在 C++ 和 Matlab 之间进行位精确数据传输的更好选择是使用二进制文件格式，该格式将 double 的所有 64 位存储为 64 位。Matlab MAT 文件格式当然以标准指定的形式存储 IEEE754 数字。

可能所有前面的废话都与另一个潜在的问题无关。这个问题可能是你的算法不稳定——这是另一个话题。

总结一下：

1.  以二进制表示从程序到程序传输数字（无论您完全使用文件还是消息传递或其他机制）。
2.  在双精度浮点数的任何十进制表示中，不要信任超过 15 个有效数字。

Furthermore, unless you take special measures in your code, your programs probably gradually lose accuracy as they progress, making all the low-order digits of dubious reality. For the application that you hint at, it's unlikely that the science behind the code supports the hypothesis that two outputs which differ in the 15th significant digit represent different values. What is the accuracy of the measurements on which your inputs are based ?

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:41:18.713

1.  浮点数据类型不是由小数位数定义的，而是由用于表示数字的位数以及用于解释这些位的规则（即 IEEE754 标准）定义的。
2.  通常，在两个不同的“环境”（即平台/CPU/编译器等）中实现相同的输出（给定相同的输入）并非易事。作为一个松散的例子，考虑编译器在计算表达式时可能有一定的自由度`a+b+c`as `(a+b)+c`or `a+(b+c)`，在浮点计算中可能会给出不同的结果。我强烈建议您重新考虑——获得完全相同的结果真的很重要吗？
3.  尽管 2 中写了什么，但在您的情况下它可能是可能的。作为第一步，您应该使用数据的二进制表示，而不是文本。换句话说，保存代表您的数据的字节并将其传递给您的 C++ 代码。例如，不是通过，而是`1.0`通过`0x3FF0000000000000`（尽管`1.0`完全可以二进制表示——这只是一个例子）。

当然，一些代码会有所帮助。尝试构建一个玩具示例，在不泄露任何机密信息的情况下展示您的问题。

# silverlight - SSME 不从缓存加载

> ID：10023932
> 
> 赞同：0
> 
> 时间：2012-04-05T06:56:02.510
> 
> 标签：silverlight, c#-4.0

我正在使用 SSME 在我的应用程序中播放视频...我什至使用 ISmoothStreamingCache 接口将块存储在缓存中...但是一旦缓存完成，如果我重新启动播放视频，它就不会从缓存中提取数据..而不是向服务器发送请求...任何人都可以帮助我...

命名空间 CacheDemo { 公共部分类 MainPage : UserControl { ISO_StorageCache 缓存 = null; 双滑块比例，媒体比例秒；双滑块长度秒；双重转换；TimeSpan tsPositionFromSlider = new TimeSpan(); 公共 MainPage() { InitializeComponent(); SmoothPlayer.CurrentStateChanged += new RoutedEventHandler(SmoothPlayer_CurrentStateChanged); SmoothPlayer.Loaded += new RoutedEventHandler(SmoothPlayer_Loaded); SmoothPlayer.SmoothStreamingErrorOccurred += new EventHandler(SmoothPlayer_SmoothStreamingErrorOccurred); } void SmoothPlayer_SmoothStreamingErrorOccurred(object sender, SmoothStreamingErrorEventArgs e) { OutputText.Text = e。ErrorMessage.ToString(); }

```
 void SmoothPlayer_Loaded(object sender, RoutedEventArgs e)
    {
        cache = new ISO_StorageCache();
        SmoothPlayer.SmoothStreamingSource = new Uri("http://<serverName>/media1.ism/Manifest");

       // SmoothPlayer.SmoothStreamingCache = cache;            
    }

    private void SliderBar_ValueChanged(object sender,
                   RoutedPropertyChangedEventArgs<double> e)
    {
        try
        {
            // Calculate proportion of slider length at current position.
            sliderProportion = ((Slider)sender).Value / ((Slider)sender).Maximum;
            // Get media length in seconds.
            sliderLengthSeconds = SmoothPlayer.EndPosition.TotalSeconds;
            // Calculate position in seconds.
            conversion = sliderProportion * sliderLengthSeconds;
            // Convert seconds to a TimeSpan object.
            tsPositionFromSlider = TimeSpan.FromSeconds(conversion);
            // Assign new position by TimeSpan.
            SmoothPlayer.Position = tsPositionFromSlider;
        }
        catch (Exception ex)
        {
            OutputText.Text = ex.Message;
        }
    }

    void SmoothPlayer_CurrentStateChanged(object sender, RoutedEventArgs e)
    {
        switch (SmoothPlayer.CurrentState)
        {
            case SmoothStreamingMediaElementState.Playing:
                PlayButton.Content = "Pause";
                break;

            case SmoothStreamingMediaElementState.Paused:
                PlayButton.Content = "Play";
                break;

            case SmoothStreamingMediaElementState.Stopped:
                PlayButton.Content = "Play";
                break;
        }
    }

    private void SourceList_SelectionChanged(object sender, SelectionChangedEventArgs e)
    {
        ListBoxItem item = ((sender as ComboBox).SelectedItem as ListBoxItem);
        string selection = item.Content as string;

        switch (selection)
        {
            case "Lewis Clark clip":

                SmoothPlayer.SmoothStreamingSource = new Uri("http://<serverName>/media1.ism/Manifest");
                break;
            case "Media Two":
                SmoothPlayer.SmoothStreamingSource = null;
                //new Uri("http://<serverName>/media2.ism/Manifest");
                break;
            case "Media Three":
                SmoothPlayer.SmoothStreamingSource =
                    new Uri("http://<serverName>/media3.ism/Manifest");
                break;
            case "Media Four":
                SmoothPlayer.SmoothStreamingSource =
                    new Uri("http://<serverName>/media4.ism/Manifest");
                break;

        }
    }

    private void PlayButton_Loaded(object sender, RoutedEventArgs e)
    {
        switch (SmoothPlayer.AutoPlay)
        {
            case false:
                PlayButton.Content = "Play";
                break;
            case true:
                PlayButton.Content = "Pause";
                break;
        }
    }

    private void PlayButton_Click(object sender, RoutedEventArgs e)
    {
        switch (SmoothPlayer.CurrentState)
        {
            case SmoothStreamingMediaElementState.Playing:
                SmoothPlayer.Pause();
                PlayButton.Content = "Play";
                break;

            case SmoothStreamingMediaElementState.Paused:
                SmoothPlayer.Play();
                PlayButton.Content = "Pause";
                break;

            case SmoothStreamingMediaElementState.Stopped:
                SmoothPlayer.Play();
                PlayButton.Content = "Pause";
                break;
        }
    }

    private void StopButton_Click(object sender, RoutedEventArgs e)
    {
        if (SmoothPlayer.CurrentState == SmoothStreamingMediaElementState.Playing)
            SmoothPlayer.Stop();
        PlayButton.Content = "Play";
    }

    private void clearCacheButton_Click(object sender, RoutedEventArgs e)
    {
        cache.keyUrls.Clear();
        IsolatedStorageSettings.ApplicationSettings.Clear();
        IsolatedStorageSettings.SiteSettings.Clear();

        IsolatedStorageFile isoFileArea = IsolatedStorageFile.GetUserStoreForApplication();
        string[] names = isoFileArea.GetFileNames();

        foreach (string file in names)
        {
            isoFileArea.DeleteFile(file);
        }

    }

    private void increaseQuotaButton_Click(object sender, RoutedEventArgs e)
    {
        IsolatedStorageFile isoFileArea = IsolatedStorageFile.GetUserStoreForApplication();
        long availbleCacheBytes = isoFileArea.AvailableFreeSpace;
        long saveQuotaNumber = isoFileArea.Quota;

        isoFileArea.IncreaseQuotaTo(isoFileArea.Quota + 1048576);

        MessageBox.Show("New Quota: " + isoFileArea.Quota.ToString() +
            "\r\nPrevious Quota: " + saveQuotaNumber.ToString() +
            "\r\nAvailable Free Space: " + isoFileArea.AvailableFreeSpace.ToString(), "Cache Quota",
            MessageBoxButton.OK);
    }

    private void cacheOrNot_Click(object sender, RoutedEventArgs e)
    {
        if ("Not Caching" == (string)cacheOrNot.Content)
        {
            SmoothPlayer.SmoothStreamingCache = cache;
            cacheOrNot.Content = "Caching On";
        }
        else if ("Caching On" == (string)cacheOrNot.Content)
        {
            SmoothPlayer.SmoothStreamingCache = null;
            cacheOrNot.Content = "Not Caching";
        }
    }

}
public class ISO_StorageCache : ISmoothStreamingCache
{
    // Dictionary to track URL/filename pairs of data in cache.
    public Dictionary<string, string> keyUrls = new Dictionary<string, string>(50);

    public ISO_StorageCache()
    {
        IsolatedStorageFile isoFileArea = IsolatedStorageFile.GetUserStoreForApplication();

        foreach (System.Collections.Generic.KeyValuePair<string, object> pair in IsolatedStorageSettings.ApplicationSettings)
        {
            if (!keyUrls.ContainsValue((string)pair.Value) && isoFileArea.FileExists((string)pair.Value))
                keyUrls.Add(pair.Key, ((string)pair.Value));
        }
    }

    public IAsyncResult BeginPersist(CacheRequest request, CacheResponse response, AsyncCallback callback, object state)
    {
        state = false;
        CacheAsyncResult ar = new CacheAsyncResult();

        if (!keyUrls.ContainsKey(request.CanonicalUri.ToString()))
        {
            //state = true;
            ar.strUrl = request.CanonicalUri.ToString();
            ar.Complete(response, true);
            return ar;
        }

        ar.Complete(null, true);
        return ar;
    }

    public bool EndPersist(IAsyncResult ar)
    {
        ar.AsyncWaitHandle.WaitOne();

        if (((CacheAsyncResult)ar).Result != null)
        {
            IsolatedStorageFile isoFileArea = IsolatedStorageFile.GetUserStoreForApplication();
            //const long NEEDED = 1024 * 1024 * 100;
            //isoFileArea.IncreaseQuotaTo(isoFileArea.Quota + NEEDED);
            if (((CacheResponse)(((CacheAsyncResult)ar).Result)).Response.Length < isoFileArea.AvailableFreeSpace)
            {
                string fileGuid = Guid.NewGuid().ToString();

                if (!keyUrls.ContainsValue(fileGuid) && !keyUrls.ContainsKey(((CacheAsyncResult)ar).strUrl))
                {

                    IsolatedStorageFileStream isoFile = isoFileArea.CreateFile(fileGuid);

                    ((CacheResponse)(((CacheAsyncResult)ar).Result)).WriteTo(isoFile);
                    isoFile.Close();

                    keyUrls.Add(((CacheAsyncResult)ar).strUrl, fileGuid);
                    // Save key/value pairs for playback after application restarts.
                    IsolatedStorageSettings.ApplicationSettings.Add(((CacheAsyncResult)ar).strUrl, fileGuid);
                    IsolatedStorageSettings.ApplicationSettings.Save();

                    return true;
                }
            }
        }
        return false;
    }

    public IAsyncResult BeginRetrieve(CacheRequest request, AsyncCallback callback, object state)
    {
        CacheResponse response = null;
        CacheAsyncResult ar = new CacheAsyncResult();
        ar.strUrl = request.CanonicalUri.ToString();
        ar.Complete(response, true);
        return ar;
    }

    public CacheResponse EndRetrieve(IAsyncResult ar)
    {
        ar.AsyncWaitHandle.WaitOne();

        CacheResponse response = null;

        if (keyUrls.ContainsKey(((CacheAsyncResult)ar).strUrl))
        {
            IsolatedStorageFile isoFileArea = IsolatedStorageFile.GetUserStoreForApplication();
            string filename = keyUrls[((CacheAsyncResult)ar).strUrl];

            if (!string.IsNullOrEmpty(filename) && isoFileArea.FileExists(filename))
            {
                IsolatedStorageFileStream stream =
                    isoFileArea.OpenFile(filename, System.IO.FileMode.Open, System.IO.FileAccess.Read);
                response = new CacheResponse(stream);
            }
        }

        if (response != null)
            return response;
        else
            return response = new CacheResponse(0, null, null, null,
                System.Net.HttpStatusCode.NotFound, "Not Found", DateTime.Now);
    }
}

public class CacheAsyncResult : IAsyncResult
{
    public string strUrl { get; set; }

    public object AsyncState { get; private set; }

    public WaitHandle AsyncWaitHandle { get { return _completeEvent; } }

    public bool CompletedSynchronously { get; private set; }

    public bool IsCompleted { get; private set; }

    // Contains all the output result of the GetChunk API
    public Object Result { get; private set; }

    internal TimeSpan Timestamp { get; private set; }

    /// <summary>
    /// Callback function when GetChunk is completed. Used in asynchronous mode only.
    /// Should be null for synchronous mode.
    /// </summary>
    private AsyncCallback _callback;

    /// <summary>
    /// Event is used to signal the completion of the operation
    /// </summary>
    private ManualResetEvent _completeEvent = new ManualResetEvent(false);

    /// <summary>
    /// Called when the operation is completed
    /// </summary>
    public void Complete(Object result, bool completedSynchronously)
    {
        Result = result;
        CompletedSynchronously = completedSynchronously;

        IsCompleted = true;
        _completeEvent.Set();

        if (null != _callback) { ;  }
    }

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-31T18:16:46.650

我认为您的应用程序实现看起来正确。基本上，ISmoothStreamingCache 的工作原理是 BeginRetrieve/EndRetrieve 将被调用以查看您的视频是否被缓存，如果是则从本地缓存中检索它。否则，视频上线后，它会调用 BeginPersist 和 EndPersist 将您的视频保存到本地存储中。

由于您无法从缓存中获取视频，我怀疑您的缓存可能已满。您能否在 Endpersist 方法中设置一个断点并查找此行： if (((CacheResponse)(((CacheAsyncResult)ar).Result)).Response.Length < isoFileArea.AvailableFreeSpace)

同时，尝试清除浏览器中的缓存。如果你不跳入这个 if 块，你也可以增加配额并尝试。

我有一个关于这个主题的博客，你可以看看。希望它能解决您的问题：http: [//blogs.msdn.com/b/mingfeis_code_block/archive/2012/04/10/smooth-streaming-cache-plug-in-implementation.aspx](http://blogs.msdn.com/b/mingfeis_code_block/archive/2012/04/10/smooth-streaming-cache-plug-in-implementation.aspx)

# mongodb - Mongodb 位置运算符仅第一个匹配的解决方法

> ID：10023935
> 
> 赞同：0
> 
> 时间：2012-04-05T06:56:28.423
> 
> 标签：mongodb, morphia

我有一个带有通知列表的用户对象

```
{
 "notifications": {
 "0": {
   "id": "1",
   "isRead": false,
   "user": {
     "id": ObjectId("4f7999c5e4b0f2e6b8490e08"),
     "firstName": "X",
     "lastName": "Y",
     "profilePictureUrl": "URL1" 
  } 
},
 "1": {
   "id": "2",
   "user": {
     "id": ObjectId("4f7999c5e4b0f2e6b8490e08"),
     "firstName": "X",
     "lastName": "Y",
     "profilePictureUrl": "URL1" 
     } 
    } 
  },
} 
```

当用户更改他的个人资料图片时，我想更新所有相应的通知。我正在尝试在 morphia 中做这样的事情，但它似乎只更新了第一个条目。

```
 Query<UserEntity> query = ds.createQuery(UserEntity.class).filter("notifications.user.id",
                userProperties.id).field("notifications.user.profilePictureUrl").notEqual(userProperties.profilePictureUrl);
        UpdateOperations<UserEntity> op = ds.createUpdateOperations(UserEntity.class).disableValidation()
                .set("notifications.$.user.profilePictureUrl", userProperties.profilePictureUrl);
        results = update(query, op); 
```

有什么解决方法吗？我将在后台工作中执行此操作，因此更昂贵的解决方案也将起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T07:56:04.170

问题在于使用 $ 运算符。目前 $ 运算符仅适用于查询中的第一个匹配项。 [http://www.mongodb.org/display/DOCS/Updating#Updating-The%24positionaloperator](http://www.mongodb.org/display/DOCS/Updating#Updating-The%24positionaloperator)

您应该更新整个列表（获取、修改和保存）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:01:26.627

您应该设置 multi=True 进行更新。见[http://www.mongodb.org/display/DOCS/Updating#Updating-update%28%29](http://www.mongodb.org/display/DOCS/Updating#Updating-update%28%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T05:54:37.617

我认为您可以将位置运算符与 $elemMatch 运算符结合起来，以匹配子数组中的多个字段和多个文档。

[从 MongoDB 错误报告中查看此示例](https://jira.mongodb.org/browse/SERVER-5276?focusedCommentId=98560&page=com.atlassian.jira.plugin.system.issuetabpanels%3acomment-tabpanel#comment-98560)，其中包含类似案例。

# html - 如何用表格中的单元格和备用单元格为特定 td 赋予颜色？

> ID：10023936
> 
> 赞同：1
> 
> 时间：2012-04-05T06:56:37.283
> 
> 标签：html

我有一个表格，其中有 n 行以另一种颜色显示。现在要在表格中搜索特定列 (td) 并用不同的颜色更改其替代单元格。

问候， 吉里什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:28:18.503

尝试使用 java 脚本来做到这一点。按 id / td 编号搜索列.. 并更改该列的颜色。

# selenium - Selenium 测试递归地定位元素非常慢

> ID：10023937
> 
> 赞同：0
> 
> 时间：2012-04-05T06:56:37.703
> 
> 标签：selenium, webdriver, selenium-webdriver

我是硒的新手。

我正在尝试遍历具有很多子元素的网页上的下拉框中的所有元素。我这样做是为了获取选择标签中所有选项的所有 href 属性。我正在使用 Xpath 表达式查找元素。

我正在使用 Selenium WebDriver 和 FireFox 浏览器。结果是我所期望的，但测试非常慢。

如果有什么方法可以通过使用任何替代方法来加快测试速度？

这是我正在使用的代码 -

```
private void captureElements(String xpath)
{ 

  List<WebElement> list=null;

    if((list=driver.findElements(By.xpath(xpath)))!=null){ 

       int length = list.size(); int i=length;

        while(i>0){ 

          WebElement ele = list.get(length-i); 
          Actions builder = new Actions(driver);
          builder.moveToElement(ele).build().perform(); 

          LogElementToExcel(ele); 

          int index = length-i+1; 
          String newxpath = xpath.replace("/a", "["+index+"]/ul/li/a");  
          captureElements(newxpath); 
          i--; 
      } 
   } 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T01:49:27.713

请参阅：[Selenium 2.0 IE Xpath 性能](https://stackoverflow.com/questions/3705659/selenium-2-0-ie-xpath-performance)

鉴于您的情况，我认为您最好将页面源加载到 HtmlAgilityPack 之类的库中并以这种方式解析它 - 您会看到巨大的性能提升。对于 C# 以外的语言，请查看[此处](https://stackoverflow.com/questions/2861/options-for-html-scraping)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T03:10:54.193

您正在具有本机 xpath 引擎的 Firefox 中运行测试。因此，除非您提供代码，否则很难说出为什么您的测试很慢。Xpath 在 IE 中很慢，因为 IE 没有本机 xpath 引擎，但此时这似乎不是您的问题。

我在想下面会比你的 xpath 解决方案更快。试一试。

```
WebElement element = driver.findElement(By.id("idOfMySelectBox"));
Select select = new Select(element);
List<WebElement> options = select.getOptions();
for(WebElement option:options){
    System.out.println(option.getAttribute("href"));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T04:29:32.893

使用 selenium 等任何 GUI 工具的自动化都很慢，代理启动浏览器是一个缓慢的过程，所有 GUI 元素的完整显示也是一个缓慢的过程。如果速度是一个因素，不要忘记您可以使用无头工具进行同样全面的测试。执行时间可以减少多达 40%。我曾经使用过的工具是 JWebUnit。试试看速度。

# ios - 如何检测按下localNotification关闭按钮

> ID：10023938
> 
> 赞同：1
> 
> 时间：2012-04-05T06:56:45.327
> 
> 标签：ios, objective-c, iphone, ios5

我想在 Objective-C 中编写 UIlocalNotification 的关闭按钮

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T22:19:57.103

无法访问关闭按钮操作。

调度后**`LocalNotification`**成为系统事件，所以只能访问**视图事件**，调用**`didReceiveLocalNotification()`**方法。

以下示例显示了如何访问视图事件，如上所述：

```
- (void)application:(UIApplication *)application 
        didReceiveLocalNotification:(UILocalNotification *)notification 
```

# iphone - 如何从相册中获取视频并播放

> ID：10023939
> 
> 赞同：0
> 
> 时间：2012-04-05T06:56:56.573
> 
> 标签：iphone, ios, xcode

请帮我举一个从相册中获取视频并播放的示例。

以下代码不起作用

```
NSURL *URL = [info objectForKey:UIImagePickerControllerMediaURL];
  MPMoviePlayerController *moviePlayerController = [[MPMoviePlayerController alloc] initWithContentURL:aurl];
        [self.view addSubview:moviePlayerController.view];
        moviePlayerController.useApplicationAudioSession = NO;
        moviePlayerController.fullscreen = YES;
        [moviePlayerController play]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-05T07:05:38.730

```
 // Choose video from library                   
                        UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];
                        imagePicker.delegate = self;
                        imagePicker.mediaTypes =
                        [UIImagePickerController availableMediaTypesForSourceType:
                         imagePicker.sourceType];
                        imagePicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
                        [self presentModalViewController:imagePicker animated:YES];
                        [imagePicker release]; 
```

//获取视频

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    [picker dismissModalViewControllerAnimated:YES];

    NSString *mediaType = [info objectForKey:UIImagePickerControllerMediaType];
    if ([mediaType isEqualToString:@"public.image"]){
        NSLog(@"found an image");
    }
    else if ([mediaType isEqualToString:@"public.movie"]){
        NSURL *videoURL = [info objectForKey:UIImagePickerControllerMediaURL];
        NSLog(@"found a video");
        NSData *webData = [NSData dataWithContentsOfURL:videoURL];
       }

} 
```

//播放视频

```
MPMoviePlayerViewController *movie = [[MPMoviePlayerViewController alloc] initWithContentURL:url];
[self.view addSubview:movie.view];
[self presentMoviePlayerViewControllerAnimated:movie];
[movie release]; 
```

# python - 得到错误 没有名为 modules.facebook 的模块

> ID：10023941
> 
> 赞同：0
> 
> 时间：2012-04-05T06:57:16.783
> 
> 标签：python, web2py, web2py-modules

我必须开发 web2py 应用程序并且必须在其中使用 Facebook sdk。我已将 facebook sdk zip 文件夹下载到我的 windows pc 并解压它并将 facebook.py 模块上传到我的 web2py 应用程序并在控制器/default.py 中使用语句“from applications.modules.facebook import *”，当我运行应用程序时给出以下错误：

没有名为 modules.facebook 的模块。

当我浏览到应用程序目录时，我在模块文件夹中找到了 facebook.py，因此无法找到问题所在。

请指导我解决它。

问候， 皮克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T07:03:21.063

模块路径中直到模块根包的每个目录都[应该包含一个`__init__.py`文件](http://docs.python.org/tutorial/modules.html#packages)。我的猜测是您的`applications/modules/`目录缺少一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:43:10.697

facebook sdk 的文件夹结构是什么？如果它是`facebook/`其中`facebook/__init__.py`的一个文件，那么您可以使用`import facebook`或`from facebook import *`从您拥有 facebook 文件夹的目录导入它。如果您从模块中导入它，请确保您已将 facebook 包放在应用程序的模块目录中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-16T05:46:13.673

您应该在环境变量 PYTHONPATH 中提及您的目录名称，以便它找到您的目录。

希望这会帮助你:)

# java - 我的“else if”命令不起作用。

> ID：10023948
> 
> 赞同：-5
> 
> 时间：2012-04-05T06:58:04.763
> 
> 标签：java, if-statement

```
import java.util.Random;

public class knife {

    static Random randGen = new Random();
    public static void main(String[] args) {

            int kniferpd = 1;
            int knifebullet = 0;

            int charstrength = 10;
            int charlightcc = 10;

            int hit = randGen.nextInt(10) + 1 + charlightcc;
            int crit = randGen.nextInt(100) + 1 + charlightcc;
            int knifedmg = randGen.nextInt(5) + 6;

            if (hit < 10) 
            System.out.println("You missed!");
            else if (hit > 10 && crit > 98);
            System.out.println("Critical strike of " + knifedmg * 2 + "dmg.");
            else if (hit > 10 && crit < 98);
            System.out.println("Strike of " + knifedmg + "dmg.");

            {

    }
}
} 
```

当我编写此代码时，我收到以下错误，我不知道有什么问题！这是我的错误，它们出现在底部的“else if”上。

令牌“else”的语法错误，虽然是预期的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T06:59:48.413

删除`;`if 语句之后的

做这个

```
if (hit < 10) 
     System.out.println("You missed!");
else if (hit > 10 && crit > 98)
    System.out.println("Critical strike of " + knifedmg * 2 + "dmg.");
else if (hit > 10 && crit < 98)
    System.out.println("Strike of " + knifedmg + "dmg."); 
```

或者那个

```
if (hit < 10) {
     System.out.println("You missed!");
}
else if (hit > 10 && crit > 98) {
    System.out.println("Critical strike of " + knifedmg * 2 + "dmg.");
}
else if (hit > 10 && crit < 98) {
    System.out.println("Strike of " + knifedmg + "dmg.");
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-05T06:59:57.090

`;`从行尾删除`if`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-05T07:00:54.793

只是一个小错误...

```
 if (hit < 10) 
             System.out.println("You missed!");
        else if (hit > 10 && crit > 98);  // <-- No ; here
             System.out.println("Critical strike of " + knifedmg * 2 + "dmg.");
        else if (hit > 10 && crit < 98); // <-- No ; here
             System.out.println("Strike of " + knifedmg + "dmg."); 
```

* * *

只是为了您的理解，您所写的内容将被解释为：

```
if (hit < 10) {
     System.out.println("You missed!");
} else if (hit > 10 && crit > 98) {
     ; // same as do nothing
}

System.out.println("Critical strike of " + knifedmg * 2 + "dmg.");

else if (hit > 10 && crit < 98){ // compiler error
     ; // same as do nothing
}

System.out.println("Strike of " + knifedmg + "dmg."); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T07:05:42.890

这就是为什么使用 {} 作为 if 语句几乎总是更好的原因，即使您并不严格需要它们。如果添加 {}，很明显会发生什么..

如果我们稍微重新格式化您的代码：

```
import java.util.Random;

public class knife {

    static Random randGen = new Random();
    public static void main(String[] args) {

            int kniferpd = 1;
            int knifebullet = 0;

            int charstrength = 10;
            int charlightcc = 10;

            int hit = randGen.nextInt(10) + 1 + charlightcc;
            int crit = randGen.nextInt(100) + 1 + charlightcc;
            int knifedmg = randGen.nextInt(5) + 6;

            if (hit < 10) {
                System.out.println("You missed!");
            } else if (hit > 10 && crit > 98);

            System.out.println("Critical strike of " + knifedmg * 2 + "dmg.");

            else if (hit > 10 && crit < 98); // this doesn't make sense

            System.out.println("Strike of " + knifedmg + "dmg.");

            {

    }
}
} 
```

正确格式化并进行更正

```
import java.util.Random;

public class knife {

    static Random randGen = new Random();
    public static void main(String[] args) {

            int kniferpd = 1;
            int knifebullet = 0;

            int charstrength = 10;
            int charlightcc = 10;

            int hit = randGen.nextInt(10) + 1 + charlightcc;
            int crit = randGen.nextInt(100) + 1 + charlightcc;
            int knifedmg = randGen.nextInt(5) + 6;

            if (hit < 10) {
                System.out.println("You missed!");
            } else if (hit > 10 && crit > 98) {            
                System.out.println("Critical strike of " + knifedmg * 2 + "dmg.");
            } else if (hit > 10 && crit < 98) {                
                System.out.println("Strike of " + knifedmg + "dmg.");
            }

    }
} 
```

# ios - 如何在 Apple iOS 应用程序中使用 Cocoa 框架

> ID：10023949
> 
> 赞同：1
> 
> 时间：2012-04-05T06:58:05.867
> 
> 标签：ios, cocoa, frameworks, import

我正在开发一个 iPhone 应用程序。在我的 iPhone 应用程序中，我使用的是`view-based`应用程序模板。现在我想在我的 iOS 应用程序中使用该`Cocoa`框架。`NSOpenPanelController`我如何使用 Cocoa 框架，我在 iOS 的什么地方使用它？有人可以向我详细解释一下吗？

当我在 iOS 中启动一个新项目时，它会默认添加框架`UIKit`和`coreGraphics`. 但是当我启动一个新`Cocoa`应用程序时，可用的默认框架是`Foundation`,`Cocoa`和`Appkit`.

`Cocoa`我将框架从应用程序拖到`Cocoa`我的 ios 应用程序中。那一步是成功的，但是当我开始构建并运行时，它再次要求`AppKit`框架。我也以与 相同的方式拖动了那个`Cocoa`。然后它要求`foundation`框架。在 iOS 应用程序和 Cocoa 应用程序中，`foundation`框架是不同的。这该怎么做？请帮忙。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-05T07:14:34.120

Cocoa 仅适用于 Mac OS X（桌面）应用程序。UIKit 仅适用于 iOS 应用程序。你不能混合和匹配这两者，因为没有一个系统可以两者兼得。（您也许可以让一些应用程序在模拟器中同时使用它们，但它们将无法为实际设备构建。）

iOS 不会向用户公开文件系统，因此没有等效的 NSOpenPanel 可用。无论您正在做什么，您都需要选择不同的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:19:01.357

您不能将 AppKit (OS X) 框架用于 iOS 开发，就像您不能将 UIKit (iOS) 用于开发 OS X 应用程序一样。它们是为完全不同的用途、交互模型和硬件而设计的。

您正在尝试的将行不通。

# authentication - 对 struts2 中的每个操作进行身份验证

> ID：10023951
> 
> 赞同：2
> 
> 时间：2012-04-05T06:58:10.350
> 
> 标签：authentication, struts2

嗨，我开发了小型 Web 应用程序，所有功能都可以正常工作，但是当我按下浏览器后退按钮时，它会显示上一页，如果您执行或单击任何操作按钮，它将调用并执行该操作如何防止用户看到下面是我的动作类和struts配置文件

```
 public class LoginAction extends ActionSupport implements ModelDriven, SessionAware,    ServletRequestAware {

private static final long serialVersionUID = -3197657749784237381L;
@SuppressWarnings("unchecked")
private Map session;
private HttpServletRequest request;
private LoginBean logBean = new LoginBean();

public LoginAction() {
}

public Object getModel() {
    return logBean;
}

public LoginBean getLogBean() {
    return logBean;
}

public void setLogBean(LoginBean logBean) {
    this.logBean = logBean;
}

public Map getSession() {
    return session;
}

public void setSession(Map session) {
    this.session = session;
}

/*  public static Log getLOG() {
    return LOG;
}

public static void setLOG(Log LOG) {
    ActionSupport.LOG = LOG;
}
*/

public void setServletRequest(HttpServletRequest request) {
    this.request = request;
}

public String execute() {
    return SUCCESS;
}

public String verifyLogin() {
    String target = "";
    LoginDB logDB = new LoginDB();
    UserBean ub = new UserBean();
    String ipAddress = request.getRemoteAddr();
    ub = logDB.verifyLogin(logBean.getLoginID(), logBean.getPassword());
    if (ub.getInvalid().equals("1")) {
        if (ub.getActive() != 0) {
            session = ActionContext.getContext().getSession();
            session.put("userBean", ub);
            target = SUCCESS;
        }
        else {
            addActionError("Your status is inactive!!!Please Contact Admin Or Activate Link");
            target = INPUT;
        }
    } 
    else {
        addActionError("Invalid LoginID or Password!");
        target = INPUT;
    }

    return target;
}

@SuppressWarnings("unchecked")
@SkipValidation
public String logOut() {
    //LoginDB loginDB = new LoginDB();
    String status = "";
   // String id = request.getParameter("userID");
    String ipAddress = request.getRemoteAddr();
    //int a = loginDB.logOut(id, ipAddress);
    if (true) {
        session.clear();
        session = null;
        if (session instanceof org.apache.struts2.dispatcher.SessionMap) {
            try {
                ((org.apache.struts2.dispatcher.SessionMap) session).invalidate();
            } catch (IllegalStateException e) {
            }
        }
        status = "success";
    } else {
        addActionError(getText("system.ERROR"));
        status = "error";
    }

    return status;
}

} 
```

我的注册班

```
 public String execute() throws SQLException, ClassNotFoundException {
     Register rt = new Register();
     String status = rt.trailUser(user);
     if (status.equalsIgnoreCase("1")) 
    {
        if(Mail()==1)
        {
            addActionMessage("Congratulation you have success fully singed In check your  mail  to Activate Your Acount!");
            return SUCCESS;
        } 
        else
        {
            addActionError("Sign In Again!");
            return INPUT;
        }

    } 
    else {
        return ERROR;
    }
} 
```

struts.xml

```
// <struts>
<!-- Configuration for the default package. -->
<constant name="struts.Devmode" value="false"></constant>
<constant name="struts.enable.DynamicMethodInvocation" value="false" />
<constant name="struts.custom.i18n.resources" value="ApplicationResources" />
<package name="default" extends="struts-default">
        <action name="users">
        <result>home.jsp </result>
    </action>
    <action name="UserAction" class="com.java.action.RegisterAction">
        <result name="input">/signup.jsp</result>
        <result name="success">/home.jsp</result>
        <result name="error">/error.jsp</result>
    </action>
    <action name="trialregister">
        <result>signup.jsp</result>
    </action>
    <action name="Activate" class="com.java.action.ActivationAction">
        <result name="input">/error.jsp</result>
        <result name="success">/home.jsp</result>
        <result name="error">/test1.jsp</result>
    </action>
    <action name="verifyLogin" class="com.java.action.LoginAction" method="verifyLogin">
        <result name="input">/home.jsp</result>
        <result name="success">/test1.jsp</result>
    </action>

    <action name="logOut" class="com.java.action.LoginAction" method="logOut">
        <interceptor-ref name="clear-cache"></interceptor-ref>
        <result name="error">/error.jsp</result>
        <result name="success">/home.jsp</result>
    </action>

    <action name="Back">
    <result>/home.jsp</result>    
    </action>
</package>
</struts> 
```

**注意** ，正如您在我注销后看到的那样，我正在清除会话变量，但是如果用户单击返回它会显示注册页面，并且如果他单击注册按钮它将执行注册操作，所以任何人都可以告诉我如何防止在注销后执行该操作即使他单击任何操作事件按钮，它也应该将其重定向到登录页面。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T07:25:29.750

好吧，你想做的事情对我来说似乎是正确的。关于浏览器后退按钮，这与 S2 无关，因为由于浏览器缓存，浏览器正在将您移回点击后退按钮。

尽管您可以请求浏览器清除缓存并设置一些标头，例如

```
response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1.
response.setHeader("Pragma", "no-cache"); // HTTP 1.0.
response.setDateHeader("Expires", 0); // Proxies. 
```

上面的代码可以移动到拦截器，并且可以使用您的注销操作进行配置，以便可以请求浏览器跟随您的标头。上面的代码将在服务器上重新触发一个真正的 HTTP 请求，而不是从浏览器的缓存中加载页面，您希望通过将上述标头添加到响应中来指示浏览器不缓存页面：

关于点击后退按钮时执行的 Action 类代码，我建议您创建一个拦截器并配置该拦截器，以便只有登录的用户可以执行这些操作，而未登录的用户应该首先被要求登录。

## 样本拦截器

```
public class LoginInterceptor implements Interceptor {

public LoginInterceptor() {
}

public void destroy() {

}

public void init() {

}

public String intercept(ActionInvocation actionInvocation) throws Exception {

    final ActionContext context = actionInvocation.getInvocationContext();
    HttpServletRequest request = (HttpServletRequest) context.get(ServletActionContext.HTTP_REQUEST);
    HttpSession session = request.getSession(true);

    //Code

    try {

        Users user= (Users) session.getAttribute("user");

        if (user== null) {

            return "login";
        }

    } catch (Exception e) {
        Logger.getLogger(LoginInterceptor.class.getName()).log(Level.INFO, "message", e);
    }

    //Invoke action
    String result = actionInvocation.invoke();

    return result;
}
} 
```

如果用户不存在，此拦截器将检查用户是否在会话中，he.she 将被重定向到登录页面，对于其他情况，请求将转到层次结构中的下一个拦截器。

现在在 struts.xml 文件中配置这个拦截器

## struts.xml

```
<interceptors>  
       <interceptor class="myclass.LoginInterceptor" name="loginInterceptor">  
                      </interceptor>  
       <interceptor-stack name="loginStack">  
        <interceptor-ref name="loginInterceptor">  
        <interceptor-ref name="defaultStack">  
       </interceptor-ref>  
      </interceptor-ref>  
 </interceptors>
 <default-interceptor-ref name="loginStack"> 
```

配置完成后，您可以对您希望该用户登录的所有操作调用使用拦截器。

有关如何执行此操作的更多详细信息，请参阅本教程。

*   [created_a_login_interceptor](http://www.vitarara.org/cms/struts_2_cookbook/creating_a_login_interceptor)

这种拦截器技术仅用于学习目的，如果您想在现实生活项目中实现这样的用例，我建议使用一些安全框架，如 Spring-Security，它提供了强大而灵活的方式来处理这些用例

# sqlite - SQLITE3：两个不相关的多行表的联合

> ID：10023957
> 
> 赞同：1
> 
> 时间：2012-04-05T06:58:22.213
> 
> 标签：sqlite, union, group-concat, coalesce

我已经简化了这个问题，所以更容易发布。我坚持添加与其他表没有任何关系的配置表。如果您宁愿跳过查看我真正的问题是什么，请查看当前的最终输出和所需的最终输出。为方便起见，最后我有一个不工作的 SQL 解决方案。

请提前帮助和感谢！

**背景**：

基本上我有一个语句，它有 8 个内部连接来连接各种表数据。我最初有 8 个不同的查询，但在我的嵌入式机器上，每个查询运行大约 2-3 秒，总时间约为 20-30 秒。这太长了。大部分时间是交易的建立和拆除；查询非常快。由于我希望在 1-2 秒的时间范围内获得数据，因此我决定将所有查询合并到一个查询中。不幸的是，这些表本身是无法从嵌入式设备查询的外部数据库的副本。我不愿意将此时的数据合并到一个表中。该设备只有 python2.5 和 sqlite3，虽然我已经安装了 sqlalchemy 并且我通常在我的代码中使用 ORM。很遗憾，

**数据**

表 1：用户

```
name   | number | data
 --------------------------------
 alpha   | 12345 | special
 beta     | 54321 | special-er 
```

表2（与表1无关）：配置

```
name   | data
 --------------------------------
 lang  | eng
 big     | 24
 medium | 20
 small | 13 
```

决赛桌输出我目前得到的：

```
name   | number | data          | config
 -----------------------------------------------
 alpha   | 12345 | special       | {null}
 beta     | 54321 | special-er  | {null}
 {null}    | {null}   | {null}           | lang:eng
 {null}    | {null}   | {null}           | big:24
 {null}    | {null}   | {null}           | medium:20
 {null}    | {null}   | {null}           | small:13 
```

决赛桌输出我想要的：

```
name   | number | data          | config
 -----------------------------------------------
 alpha   | 12345 | special       | lang:eng, big:24, medium:20, small:13
 beta     | 54321 | special-er  | lang:eng, big:24, medium:20, small:13 
```

**当前（非工作）解决方案**

这是我到目前为止所拥有的：

```
<!-- language: sql -->
SELECT *
FROM (
SELECT u.name as name
                 ,u.number as number
                ,u.data as data
                ,NULL as config
FROM users u
UNION
 SELECT NULL as name
                 ,NULL as number
                 ,NULL as data
                 ,c.name||":"||c.data as config
 FROM configurations c
 ) t 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T04:48:25.097

您可以在同一事务中将选择作为两个单独的语句发出吗？

我正在做类似的事情，我通过 HTTP 链接发送 SQL 并将数据发送回格式为 JSON 的数据。链接的延迟为 1-2 秒，因此发送多个请求是正确的。就我而言，我发现我可以只发出用分号分隔的选择调用，例如，这样的事情可能会起作用：

```
SELECT *
FROM (
SELECT u.name as name
                 ,u.number as number
                ,u.data as data
                ,NULL as config
FROM users u; 

SELECT NULL as name
                ,NULL as number
                ,NULL as data
                ,c.name||":"||c.data as config
FROM configurations c
) t 
```

注意：我只是复制了你用分号替换 UNION 的内容，再看一遍可能不太正确，但希望你能明白。

我不确定您是否需要将其包装在`BEGIN TRANSACTION`...中`END TRANSACTION`-我会在服务器上为所有查询自动执行此操作。我还在使用 SQLITE3 的 C 接口，为每一行获取一个函数的回调，在该函数中我为回复生成 JSON 表。我不区分每个查询的结果；它们都使用相同的功能，所以这可能是在我的情况下使它工作的魔力 - 如果每个查询没有相同数量的列，它会产生有趣的结果。

# php - 为什么我可以下载使用 htaccess 文件保护的文件？

> ID：10023968
> 
> 赞同：0
> 
> 时间：2012-04-05T06:59:10.940
> 
> 标签：php, apache, .htaccess, xampp

这是 htaccess 文件：

```
ErrorDocument 400 /index.php
   ErrorDocument 401 /index.php
   ErrorDocument 403 /index.php
   ErrorDocument 404 /index.php
   ErrorDocument 405 /index.php

   <Files configure.php>
      order allow,deny
      deny from all
   </Files> 
```

文件 configure.php 在某个文件夹中，可以说 /config/configure.php 现在问题是我可以下载它！只需建立一个链接即可。正是因为这一行 ErrorDocument 404 /index.php，当我删除这一行时，我得到一个 404 错误，无法下载 configure.php 文件。但是为什么这条线（我想要的）可以下载 configure.php 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T07:57:12.320

您需要将`.htaccess`文件（*不是* `htaccess`没有前导点）放入`configure.php`（至少）所在的文件夹中，以使[`<Files configure.php>`-directive ^(*Docs*)](http://httpd.apache.org/docs/current/mod/core.html#files)工作。另请参阅[Filesystem、Webspace 和 Boolean Expressions ^(*Docs*)](http://httpd.apache.org/docs/current/sections.html#file-and-web)。

相关：[对 .htaccess 的请求应返回 404 而不是 403](https://stackoverflow.com/q/7945795/367456)

# android - 按下后退按钮时未使用 setResult() 在 onPause() 中设置结果

> ID：10023969
> 
> 赞同：6
> 
> 时间：2012-04-05T06:59:33.890
> 
> 标签：android

我有 2 项活动 AAA 和 BBB。**我使用startActivityForResult(Intent, int)**从 AAA 调用 BBB 。完成 BBB 后，我按下返回按钮返回 AAA。在 BBB 中，我覆盖 onPause() 并使用**setResult(RESULT_OK)**设置结果。

在 AAA 中，我在**onActivityResult(int requestCode, int resultCode, Intent data)**中检查我的结果，并且我不断收到 RESULT_CANCELLED。

在 google/stackoverflow 上花费了一段时间后，我发现如果我覆盖**onBackPressed()**并将结果设置在其中，那么它绝对可以正常工作。

我不明白的是，为什么结果没有在 onPause() 中设置，而实际上 onPause() 在 onBackPressed() 之后被调用。我已经浏览了开发文档中的活动流程，并且我很清楚那里提到的内容。

有人对这种行为有任何想法或可以更好地解释吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-05T07:08:55.150

你应该看看`onActivityResult`参考资料。[http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29](http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29)

```
Called when an activity you launched exits, giving you the requestCode you started it with, the resultCode it returned, and any additional data from it. The resultCode will be RESULT_CANCELED if the activity explicitly returned that, didn't return any result, or crashed during its operation.

You will receive this call immediately before onResume() when your activity is re-starting. 
```

来电。`setResult`_ `finish()`因为`onPause()`可以在从**BBB**开始新活动时调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:08:33.373

我认为这里的问题可能是在您已经返回上一个活动之后可能会调用 onPaused。我在其他测试中看到了类似的行为。尝试添加一些 Log.d 打印输出以确认 onPause 调用与 onActivityResult 调用的顺序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T07:31:47.970

最有可能的情况必须是生命周期方法。

当您在 BBB acctivty 中按下返回键时，首先调用 onPause() 以便您在 onPause() 中设置一些内容，然后此方法之后是 onStop()，然后是 OnDestroy()，因为活动正在完成。所以现在，如果你在 onPause() 中设置了一些东西，它就会被设置，但是随着它的后面是 onDestroy()，操作系统可能会在这个活动完成时强制取消你的任务。

此外，如果您在 onPause() 中设置了某些内容，那么如果您的应用程序失去焦点或被最小化，那么 onPause() 也被调用可能是您的应用程序的稳定性可能会丢失。所以建议不要使用 onPause()，最好使用 onKeyUp() 或 onBackPressed()。

# php - PHP，从 My-Sql 数据中检查值

> ID：10023975
> 
> 赞同：0
> 
> 时间：2012-04-05T06:59:50.240
> 
> 标签：php, mysql

```
$result = $this->db->query($query)->result_array();

        if($result[9]['b_code'] != FALSE)
            {

        $result_array = array(
                            '0' => $result[0]['b_code'],
                            '1' => $result[1]['b_code'],
                            '2' => $result[2]['b_code'],
                            '3' => $result[3]['b_code'],
                            '4' => $result[4]['b_code'],
                            '5' => $result[5]['b_code'],
                            '6' => $result[6]['b_code'],
                            '7' => $result[7]['b_code'],
                            '8' => $result[8]['b_code'],
                            '9' => $result[9]['b_code']
                        );

                return $result_array;
            }
        else
            return FALSE; 
```

它在行中提取 10 条数据，并将其作为 $result_array 的新数组；

有时，它不会有 10 个结果，可能会提取 5 或 8 个。

所以，我想检查最后一个是否有值，即 $result[9]['b_code] 与否。

我应该使用isset吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T07:17:58.783

> 我应该使用isset吗？

是的，如果您想测试是否设置了值（例如 set 而不是[^(*Docs*)](http://www.php.net/manual/en/language.types.null.php)） ， [`isset`^(*Docs是正确的语言结构。*)](http://php.net/isset)[`NULL`](http://www.php.net/manual/en/language.types.null.php)

 *`$result`在您的特定情况下，您还可以检查[`count`^(*Docs*)](http://php.net/count)的长度：

```
$numberOfElements = count($result); 
```

一些示例代码`isset`：

```
if (!isset($result[9]))
{
    return FALSE;
}

return array_map(function($v) {return $v['b_code'];}, $result); 
```

Note that in this example we're preventing to repeat ourselves 10 times only to copy each `b_code` element. Instead, this is done with array mapping, see [`array_map`^(*­Docs*)](http://php.net/array_map).

A probably more readable variant, this time with `count`:

```
if (10 != count($result))
{
    return FALSE;
}

$resultArray = array();
foreach ($result as $v)
{
    $resultArray[] = $v['b_code'];
}
return $resultArray; 
```

This variant is making use of [`foreach`^(*­Docs*)](http://php.net/foreach) to prevent assigning 10 elements one by one.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:05:02.487

您不需要将整个数组再次分配给新数组。

```
 $result_array = $this->db->query($query)->result_array();

   if(array_key_exist($result_array, 9) && isset($result_array[9]['b_code'])) {
      return $result_array;
   }

 return false; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T07:05:14.170

您也可以通过计数功能检查它..

```
if(count($result) == 10 && $result[9]['b_code'] != '') {
   // your code...

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-05T07:06:59.420

```
$last_index = sizeof($result) - 1;

if(!$result[$last_index]['b_code']){
 //...
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-05T07:17:23.120

你不能简单地这样做吗？

```
$result = $this->db->query($query)->result_array();

$result_array = array();

foreach($result as $key=>$value) { 
    $result_array[$key] = $value['b_code'];
} 
```

这应该适用于任何数量的结果。*

# c# - 如何从包含 C# 中的数组的 Jquery 中解析 Json

> ID：10023984
> 
> 赞同：2
> 
> 时间：2012-04-05T07:00:17.197
> 
> 标签：c#, jquery, json

如何从 C# 中的 json 获取数组数据？

这是ajax代码

```
 $.ajax({
            type: "GET",
            url: "/Weather/GetWeather",
            data: { "a": ["1,","2&"], "b" : 4 },
            success: onScc,
            error: onErr,
            dataType: "json"
        }); 
```

上面的 ajax 将调用 Asp.net MVC 中名为 GetWeather 的方法。

```
 public string GetWeather()
    {
        //Request.QueryString.ToString()  --->  a%5b%5d=1%2c&a%5b%5d=2%26&b=4
        string a = HttpUtility.UrlDecode(Request.QueryString.ToString());
        // string a ---> a=1,&a=2&&b=4
        .....
    } 
```

我从.net得到的是-----> `a[]=1,&a[]=2&&b=4`

我想要得到的是 ----> `string[]a = ["1", "2&"]`和`int b = 4`. 顺便说一句，我不想​​定义一个包含 a 和 b 的对象，因为这些参数是动态的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:35:33.760

您可以使用`dynamic`

```
 dynamic lst = new JavaScriptSerializer().Deserialize<dynamic>
               (@"{ ""a"": [""1"",""2""], ""b"" : 4}"); 
```

*参考 System.Web.Extensions*

![在此处输入图像描述](../Images/1bc539f7e83d5abd0bce43b71ebb9e8f.png)

![在此处输入图像描述](../Images/febfcf5459921cfbff17dbce5b96a583.png)

## 编辑

看了之后，你没有将 JSON 发送到 .net ！！！

```
var myObject = { "a": ["1,","2&"], "b" : 4 };

console.log(JSON.stringify(myObject)); 
```

===>`'{"a":["1,","2&"],"b":4}'` 你应该发送 STRING 值而不是你所做的 OBJECT ！

现在您将拥有：

![在此处输入图像描述](../Images/e51281330c508105920496f2a3096592.png)

**改变**：

```
 data: { "a": ["1,","2&"], "b" : 4 },

to

  data:{"myValue" : JSON.stringify({ "a": ["1,","2&"], "b" : 4 })}, 
```

并在 c# 中读取：`myValue`

# load - 负载测试中的延迟时间

> ID：10023985
> 
> 赞同：0
> 
> 时间：2012-04-05T07:00:25.973
> 
> 标签：load, load-testing, latency, performance-testing

我正在使用 pylot 1.26 工具进行负载测试，但它只给了我平均值。响应时间和平均 吞吐量。从这些参数如何计算延迟时间？

或者建议我一些**免费**的****工具****用于**负载测试**，它会给我这些参数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-10T15:09:57.917

试试[JMeter](http://jmeter.apache.org/)。您可以从[JMeter 插件站点](http://jmeter-plugins.org/)
获取 专用的监听器[延迟时间](http://jmeter-plugins.org/wiki/LatenciesOverTime/)，以便与默认的 jmeter 安装一起使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T13:27:36.027

我们的[负载测试](http://www.webperformance.com/load-testing/)器产品捕获*到第一个字节的时间*(TTFB)。这是从请求开始到收到响应的第一个字节的时间。对于网络服务器可以立即响应的小请求（即 GET）（即基于静态文件的资源），这是往返时间的一个很好的指示。与延迟不完全相同，但接近。

我不知道有任何专门测量延迟的负载测试工具。大多数只是给出响应时间，更好的工具也测量 TTFB。

如果您要运行非常简单的测试，[Load Tester LITE](http://www.webperformance.com/load-testing/free-load-tester-lite.html)是免费的，具有无限的 VU。

# ios - Xcode 安装时出错

> ID：10023987
> 
> 赞同：-2
> 
> 时间：2012-04-05T07:00:39.447
> 
> 标签：ios, xcode, installation

在我的 Mac 上安装 Xcode 时出现以下错误。

```
05/04/12 11:10:15.852 AM com.apple.SecurityServer: Failed to authorize right 'system.install.app-store-software' by client '/System/Library/PrivateFrameworks/PackageKit.framework/Versions/A/Resources/installd' [391] for authorization created by '/Volumes/Xcode/Xcode.app' [376] 
```

我的 Mac OS X 版本是：10.5.7 Leopard，我的 Xcode 版本是：4.3.2

请给我一个解决方案，在此先感谢

-Vineeth NK

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-05T07:03:37.820

您收到此错误很可能是因为您尝试安装可在 OS X Lion 10.7 及更高版本的 10.5.7 系统上运行的 Xcode 版本。

# java - [Java]插入int时字符串数组中的空值

> ID：10023988
> 
> 赞同：0
> 
> 时间：2012-04-05T07:00:43.547
> 
> 标签：java, arrays, null

我声明了一个 [2][5] 的字符串数组。直到那时一切都很好。我可以将东西插入数组。

但是当我在数组中插入一个整数值时，'null' 关键字会自动添加到该 int 值之前。

所以假设我将 5 插入 arrayName[1][0]。当我之后打印它时，我得到'null5'。这很奇怪。

你们究竟认为问题是什么。谢谢，C@N。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-05T07:05:57.577

如果您`+=`用于添加项目，那么我认为这可能会发生。采用`String.valueOf()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-05T07:05:47.840

我能看到这种情况发生的唯一方法是使用 +=：

```
String[] a = new String[1];
a[0] += 1;
System.out.println(a[0]); 
```

因为如果你只是使用`a[0] = 1;`你会得到编译错误。您得到 null5 的原因是因为您将字符串“null”与 5 连接起来：

```
a[0] = (String) null + 1 
```

所以问题是你想要达到什么目标？只是设置值或添加它？

如果您只想设置它，请使用：

```
String[] a = new String[1];
a[0] = Integer.toString(1);
System.out.println(a[0]); 
```

如果您确实想附加到它：

```
String[] a = new String[1];
if (a[0] == null) {
    a[0] = Integer.toString(1);
} else {
    a[0] += 1;
}
System.out.println(a[0]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-05T07:26:26.093

如果您正在使用任何 String 变量，请说**myString**（作为具有默认值 null 的实例变量）并执行以下操作 -

```
int i=5;
myString = myString+i; 
```

因为您没有初始化 String mystring 它得到默认值**null**并与 i 相加。

这可能是其中一种情况。

# javascript - javascript refresh 阻止 cgi 执行

> ID：10023991
> 
> 赞同：0
> 
> 时间：2012-04-05T07:01:14.233
> 
> 标签：javascript, iframe, cgi, refresh

我正在尝试在 cgi 执行后刷新页面。在我的 cgi 中，一个 tcp 数据包被发送到一个端口。它在隐藏的 iframe 中调用。这是我的javascript代码：

```
function xx()
{

    iframe = document.getElementById('i');
    iframe.src = path+'?'+ac+'-'+type; // it is sth like that "a.cgi?11-1"

location.reload(true);
} 
```

当我禁用 location.reload cgi 工作但如果我启用它，cgi 不起作用，没有数据包被发送。我试图在执行和重新加载之间设置睡眠，但它也不起作用。cgi执行后还有其他方法可以刷新页面吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:09:25.683

您可以设置一个`onload`处理程序，`iframe`以便`reload`在 iframe 成功加载之前不会触发（这应该意味着您的 cgi 已经执行）：

```
function xx() {

    iframe = document.getElementById('i');
    iframe.onload = function() {
        location.reload(true);
    }
    iframe.src = path+'?'+ac+'-'+type; // it is sth like that "a.cgi?11-1"
} 
```

如果您还想在重新加载之前有一个时间延迟，您可以这样做：

```
function xx() {
    iframe = document.getElementById('i');
    iframe.onload = function() {
        setTimeout(function() {location.reload(true)}, 5000);
    }
    iframe.src = path+'?'+ac+'-'+type; // it is sth like that "a.cgi?11-1"
} 
```

# asp.net - 网格视图页脚模板？在 Asp.net 中？

> ID：10023993
> 
> 赞同：0
> 
> 时间：2012-04-05T07:01:18.213
> 
> 标签：asp.net

在 web 应用程序 [asp.net gridview] 中，我想显示不绑定数据的 gridvew，我的意思是我有页脚模板，当用户输入并单击添加时，我保留了文本框和按钮，然后数据将第一次绑定到 gridview [当没有数据时]应该只显示页脚。你能帮帮我吗，谢谢。有没有参考可以参考。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:15:37.440

我认为你可以使用；

```
<asp:GridView ID="gv1" runat="server" HeaderStyle-Font-Bold="true">   
<EmptyDataTemplate>
<!-- your html template -->
</EmptyDataTemplate> 
</asp:GridView> 
```

希望这有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-03T03:37:57.400

创建一个具有相同字段的表[绑定gridivew]并将数据绑定到gridview

```
 DataTable dt = new DataTable();

            DataColumn dc = new DataColumn("WeekNo", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("Division", typeof(string));
            dt.Columns.Add(dc);

            dc = new DataColumn("Activity_Desc", typeof(string));
            dt.Columns.Add(dc);

            dc = new DataColumn("Projects", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("MonDay", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("TuesDay", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("WednesDay", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("ThursDay", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("FriDay", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("SaturDay", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("SunDay", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("Hid", typeof(Int32));
            dt.Columns.Add(dc);
            dc = new DataColumn("SubmitStatus", typeof(Int32));
            dt.Columns.Add(dc);

            dc = new DataColumn("TotalWeek", typeof(string));
            dt.Columns.Add(dc);

            dc = new DataColumn("Did", typeof(string));
            dt.Columns.Add(dc);

            //dc = new DataColumn("Curstatus", typeof(string));
            //dt.Columns.Add(dc);
            dc = new DataColumn("ActivityID", typeof(string));
            dt.Columns.Add(dc);
            dc = new DataColumn("ProjectId", typeof(string));
            dt.Columns.Add(dc);

            DataRow dr = dt.NewRow();
            dr[0] = 0; dr[1] = 0; dr[2] = 0; dr[3] = 0; dr[4] = 0; dr[5] = 0; dr[6] = 0; dr[7] = 0; dr[8] = 0; dr[9] = 0; dr[10] = 0; dr[11] = 0; dr[12] = 0; dr[13] = 0;
            dr[14] = 0; dr[15] = 0; dr[16] = 0; //dr[17]=0;
            dt.Rows.Add(dr);
            GridView.DataSource = dt;
            GridView.DataBind();
            GridView.Rows[0].Visible = false; 
```

# android - 如何从edittext自定义列表视图中获取可编辑的更改值并存储在android中的数组中

> ID：10023994
> 
> 赞同：-2
> 
> 时间：2012-04-05T07:01:22.940
> 
> 标签：android, android-edittext

我正在从数据库中获取项目名称并附加到自定义列表视图中的编辑文本（只有一个编辑文本包含更多项目名称）。现在我更改了edittext中的值。如何获取我在editext中更改的所有值。

例如，x,y,z... itemnames 来自数据库我在自定义列表视图中附加了 edittext 现在我更改了 x,y,z。到 a,b,c。现在我想要字符串数组中的 a,b,c(new values)

```
 my code
     View vi = convertView;

    vi = inflater.inflate(R.layout.editmainmenulist, null);

    EditText text = (EditText) vi.findViewById(R.id.editmaimenu);
    text.append(itemnames[position]);//here i append so many itemnames append to edittext 
```

如何获得更改的 edittext 值更改了哪些值意味着它会打印所有值。我尝试更改方法后只打印一个名称

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-05T07:20:04.453

您应该使用`onTextChanged()`which 来通知您有关 EditText 的更改。

```
This method is called to notify you that, within *s*, the *count* characters 
beginning at *start* have just replaced old text that had length *before*. 
```

* * *

```
mEditText.addTextChangedListener(new TextWatcher() {
        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
        }

        @Override
        public void afterTextChanged(Editable s) {

        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {

        }
    }); 
```

# java - 无法阅读短信收件箱

> ID：10023996
> 
> 赞同：0
> 
> 时间：2012-04-05T07:01:27.360
> 
> 标签：java, android, sms, xml-parsing, android-service

嗨，我正在使用服务读取收件箱，但是当我创建光标以读取收件箱时出现空指针异常以前我能够使用相同的代码读取短信现在我想将这些短信存储到 sd 卡中的 xml 文件中，但我得到了空指针异常。任何帮助将不胜感激。我的代码在这里

//**这里输入代码**

```
public class CreateBackupXml extends Service 
{
CreateBackup createBackup = null;
@Override
public IBinder onBind(Intent arg0) {
    // TODO Auto-generated method stub
    return null;
}
public void onCreate(Bundle savedinstance)
{

    Log.d("service","inside on create of service");
}
public void onDestroy()
{

}
public void onStart(Intent intent, int startid) 
{
    Toast.makeText(this, "Creating Back up", Toast.LENGTH_LONG).show();
    Log.d("animation", "animation should be Start");
    createBackup = new CreateBackup();
    createBackup.createXml("all");
}

public class CreateBackup
{
    Uri uriSMSURI = Uri.parse("");
    Cursor cur=null;
    public void createXml(String choice)
    {
        if(choice=="all")
        {
            this.readSms("Inbox");
        }
    }
    public void readSms(String folder)
    {

        if(folder.equals("inbox"))
        {
            uriSMSURI = Uri.parse("content://sms/inbox");
        }
        else if(folder.equals("sent"))
        {
                uriSMSURI = Uri.parse("content://sms/sent");
        }
        try{
            Log.d("folder","inside of inbox");
            DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();
            Log.d("checking","1111111111111");
            DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();
            Log.d("checking","2222222222");
            Document document = documentBuilder.newDocument();
            Log.d("checking","333333333333");
            Element rootElement = document.createElement("SMSBackUp");
            Log.d("checking","444444444");
            rootElement.setAttribute("category", folder);
            Log.d("checking","5555555555");
            rootElement.setAttribute("owener", "gaurav");      
            Log.d("checking","6666666666");             
            cur = getContentResolver().query(uriSMSURI, null, null, null,null);
            Log.d("checking",""+cur);
            Log.d("checking","7777777777777");
            while (cur.moveToNext()) 
            {
                Log.d("checking","88888888");
                Element smsElement = document.createElement("sms");
                rootElement.appendChild(smsElement);

                Element text = document.createElement("text");
                smsElement.appendChild(text);
                text.appendChild(document.createTextNode(cur.getString(11)));

                Element phonenoElement = document.createElement("number");
                smsElement.appendChild(phonenoElement);
                phonenoElement.appendChild(document.createTextNode(cur.getString(2)));

                Element nameElement = document.createElement("author");
                smsElement.appendChild(nameElement);
                nameElement.appendChild(document.createTextNode(getContact(cur.getString(2))));                 
            }
            TransformerFactory factory = TransformerFactory.newInstance();
            Transformer transformer = factory.newTransformer();
            Properties outFormat = new Properties();
            outFormat.setProperty(OutputKeys.INDENT, "yes");
            outFormat.setProperty(OutputKeys.METHOD, "xml");
            outFormat.setProperty(OutputKeys.OMIT_XML_DECLARATION, "no");
            outFormat.setProperty(OutputKeys.VERSION, "1.0");
            outFormat.setProperty(OutputKeys.ENCODING, "UTF-8");
            transformer.setOutputProperties(outFormat);
            DOMSource domSource = new DOMSource(document.getDocumentElement());
            OutputStream output = new ByteArrayOutputStream();
            StreamResult result = new StreamResult(output);
            String xmlString = output.toString();
            Log.d("output xml",xmlString);

        }
        catch(Exception e)
        {
            Log.e("execption ","can not create back up" +e);
        }
    }
    private String getContact(String number)
    {

        Cursor cur = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI,null,null,null,null);
        String returnName= "";
        if(cur.getCount() > 0)
        {
            while(cur.moveToNext())
            {
                  String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
                  Log.d("Contact","ID:" + id );
                  String name = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
                  Log.d("Contact","name:" + name);
                  if (Integer.parseInt(cur.getString(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0) 
                  {
                      Cursor pcur = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,
                      ContactsContract.CommonDataKinds.Phone.NUMBER + "=?",new String[]{number},null);
                      int numindex = pcur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DATA);
                      if(pcur.moveToFirst())
                      {
                          String dbNum = pcur.getString(numindex);
                          if(dbNum.equals(number))
                          {
                              returnName = name;
                              Log.d("number","number:" + dbNum);
                          }
                          else 
                          {
                              Log.d("number","numbers dont match!");
                          }
                      }
                      else 
                      {
                          Log.d("number", "no result");
                      }
                  }
                  else 
                  {
                       Log.d("number", "No Number");
                  }
            }
        }
        return returnName;
    }

} 
```

}

**日志猫视图**

```
04-05 12:00:07.770: D/reading sms(456): inside of create backup for inbox
04-05 12:00:07.830: D/animation(456): animation should be Start
04-05 12:00:07.830: D/folder(456): inside of inbox
04-05 12:00:07.858: D/checking(456): 1111111111111
04-05 12:00:07.860: D/checking(456): 2222222222
04-05 12:00:07.881: D/checking(456): 333333333333
04-05 12:00:07.890: D/checking(456): 444444444
04-05 12:00:07.920: D/checking(456): 5555555555
04-05 12:00:07.920: D/checking(456): 6666666666
04-05 12:00:07.920: D/checking(456): null
04-05 12:00:07.920: D/checking(456): 7777777777777
04-05 12:00:07.920: E/execption(456): can not create back upjava.lang.NullPointerException 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-05T07:19:34.800

//因为区分大小写，您的条件已归档

将收件箱更改**为收件箱**

或尝试

```
equalsIgnoreCase()

      {
            this.readSms("inbox");
 Log.d("entering into ","inbox");
        }
    }
    public void readSms(String folder)
    {

        if(folder.equals("inbox"))

uriSMSURI = Uri.parse("content://sms/inbox");
} 
```

# java - 基于声音改变 Java 中图像文件的亮度/对比度。

> ID：10023998
> 
> 赞同：1
> 
> 时间：2012-04-05T07:01:41.163
> 
> 标签：java, audio, brightness

我想知道是否有人曾尝试根据某些音频的输出来更改在 java 中打开的图像文件的亮度或对比度。

例如，我目前有一个 java 程序播放一些音频，同时创建一个带有明亮灯光图像的窗口。我希望亮光的图像根据我的计算机音频输出的频率变暗或变亮，或者，如果更简单，仅基于输出的音量级别。我对在 Java 中处理声音完全陌生，所以我有点卡住了。

谢谢您的帮助。

# android - Android-在列表视图中保存复选框状态

> ID：10023999
> 
> 赞同：0
> 
> 时间：2012-04-05T07:02:01.160
> 
> 标签：android, listview

我有带有复选框和“保存”按钮的列表视图。
无论我选中哪个复选框并单击保存按钮，我都想将与这些选中的行相关的数据保存到数据库中，这是我的代码

```
public class CardDetailsAdapter extends BaseAdapter {    
private static ArrayList<CardDetails> searchArrayList;          
private LayoutInflater mInflater;       

 private boolean[] itemChecked =  new boolean[100];

public CardDetailsAdapter(Context context, ArrayList<CardDetails> results) {
     map = new HashMap<Integer, Boolean>();
    searchArrayList = results;
    mInflater = LayoutInflater.from(context);
}

public int getCount() {
    return searchArrayList.size();
}

public Object getItem(int position) {
    return searchArrayList.get(position);
}

public long getItemId(int position) {
    return position;
}

public View getView(final int position, View convertView, final ViewGroup parent) {
    final ViewHolder holder;

    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.welcomelistview, null);
        holder = new ViewHolder();
        holder.bankName = (TextView) convertView.findViewById(R.id.BankNameID);
        holder.messages = (TextView) convertView.findViewById(R.id.messageID);
        holder.chkbox = (CheckBox) convertView.findViewById(R.id.chkBoxID);
        System.out.println("is checked==> " + holder.chkbox.isChecked());

        convertView.setTag(holder);
    } else {
        holder = (ViewHolder) convertView.getTag();
    }        
    holder.bankName.setText(searchArrayList.get(position).getBankName());
    holder.messages.setText(searchArrayList.get(position).getMessages());       
    holder.chkbox.setChecked(false);
    // save position and checking status into tag
    holder.chkbox.setTag(position);
    holder.chkbox.setOnClickListener(new OnClickListener() {            
        public void onClick(View v) {
             HashMap<Integer, Boolean> mSimpleAdapter = new HashMap<Integer, Boolean>();
             int p = (Integer) (v.getTag());
                if (holder.chkbox.isChecked() == true) {
                    itemChecked[Integer.valueOf(position)] = holder.chkbox.isChecked();  
                }else{
                    itemChecked[Integer.valueOf(position)] = holder.chkbox.isChecked();  
                 }

             mSimpleAdapter.put(p, itemChecked[position]);
             holder.chkbox.setChecked(itemChecked[position]); 
        }
    });
    return convertView;
}

static class ViewHolder {
    TextView bankName;
    TextView messages;
    CheckBox chkbox;
}} 
```

和活动课

```
import com.ispl.CFSMS.helper.CardDetailsAdapter;
    public class WelcomePage extends Activity{
     CardDetailsAdapter mListAdapter;
    ArrayList<Integer> arList = new ArrayList<Integer>();
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.welcomepage); 
        final ArrayList<CardDetails> cardResults = GetCardDetails();
        final ListView welcomelist = (ListView) findViewById(R.id.welcomelistID);        
        welcomelist.setAdapter(new CardDetailsAdapter(this, cardResults));                      
        welcomelist.setOnItemLongClickListener(new OnItemLongClickListener() {
            public boolean onItemLongClick(AdapterView<?> a, View v, int position, long id) {
                Object o = welcomelist.getItemAtPosition(position);
                CardDetails fullObject = (CardDetails)o;
                Intent r=new Intent(WelcomePage.this , CardMenuActivity.class);
                r.putExtra("BankName", fullObject.getBankName());
                r.putExtra("CardNumber", fullObject.getCardNumber());
                startActivityForResult(r, position);
                return false;
            }
        });

        CheckBox checkbox = (CheckBox)findViewById(R.id.chkBoxID);
        Button saveTODbBtn = (Button)findViewById(R.id.saveID);
        saveTODbBtn.setOnClickListener(new OnClickListener() {              
            public void onClick(View v) {               
                //get the checkbox status and save related details into database
                Intent intent=new Intent(WelcomePage.this, BankProjectActivity.class);
                startActivity(intent);
            }
        });

    }    
 private ArrayList<CardDetails> GetCardDetails(){
        ArrayList<CardDetails> carddetailresults = new ArrayList<CardDetails>();        
         CardDetails sr1 = new CardDetails();

         sr1.setBankName("Select All");
         sr1.setCardNumber("");
         sr1.setMessages("");
         carddetailresults.add(sr1);

         sr1 = new CardDetails();    
         sr1.setBankName("HDFC Bank" +" "+ "xxxxx1234");
         sr1.setMessages("Messages: " + "10");
         carddetailresults.add(sr1);

         sr1 = new CardDetails();
         sr1.setBankName("ICICI" + " "+ "xxxxx2134");
         sr1.setMessages("Messages: 5");
         carddetailresults.add(sr1);

         sr1 = new CardDetails();
         sr1.setBankName("HSBC" + " "+ "xxxxx8796");
         sr1.setMessages("Messages: 2");
         carddetailresults.add(sr1);

         return carddetailresults;
 }} 
```

在 Adaptar 类中，我能够获得状态。但是我如何保存这些状态并获取活动类中的所有状态，以便在单击保存按钮时我保存与那些选中的行相关的所有数据......？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T10:23:10.037

嗨，在`GetCardDetails()`方法中添加`sr1.setSelected(true)`或`sr1.setSelected(false)`

在适配器中添加以下内容

```
 public static ArrayList<Boolean> itemChecked1 = null;  
  public CardDetailsAdapter( Context context, ArrayList<CardDetails> results) {
    super( context, R.layout.welcomelistview, R.id.BankNameID, results );
    searchArrayList = results;
    getContext = context;
    mInflater = LayoutInflater.from(context) ;
    itemChecked1 = new ArrayList<Boolean>();
    for (int i = 0; i < results.size(); i++) {
        itemChecked1.add(i, results.get(i).isSelected()); // initializes all items value with false         
    }
} 
```

在getview中

```
holder.chkbox.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            CheckBox cb = (CheckBox) v;
            CardDetails planet = (CardDetails) cb.getTag();
            //planet.setSelected(cb.isChecked());
            if (holder.chkbox.isChecked()) {
                itemChecked1.set(position, true);
                holder.chkbox.setChecked(true);
                planet.setSelected(true);
            } else if (!holder.chkbox.isChecked()) {
                itemChecked1.set(position, false);
                holder.chkbox.setChecked(false);
                planet.setSelected(false);
            }
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-05T07:51:09.363

```
public View getView(final int position, View convertView,ViewGroup paramViewGroup)
{
    final ViewHolder holder;
    LayoutInflater inflater=(LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);
    if (convertView == null) 
    {
        convertView=inflater.inflate(R.layout.addressbook, null);holder = new ViewHolder();
        holder.adddress_name=(TextView)convertView.findViewById(R.id.addressbook_name);
        holder.adddress_number=(TextView)convertView.findViewById(R.id.address_number);
        holder.adddress_name.setText(adddressbook_name.get(position).toString().trim())
        holder.adddress_number.setText(addressbook_number.get(position).toString().trim());
        holder.addressbook_check=(CheckBox)convertView.findViewById(R.id.address_check);convertView.setTag(holder); 
    }
    else
    {
        holder = (ViewHolder) convertView.getTag();
    }

    holder.addressbook_check.setId(position);

    holder.addressbook_check.setOnClickListener(new OnClickListener()
        {
            public void onClick(View v) 
            {
                CheckBox cb = (CheckBox) v;
                int id = cb.getId();
                if (thumbnailsselection[id])
                {
                    cb.setChecked(false);
                    thumbnailsselection[id] = false;
                }
                else
                {
                    cb.setChecked(true);
                    thumbnailsselection[id] = true;
                }
            }
        });

    holder.addressbook_check.setChecked(thumbnailsselection[position]);
    return convertView;
}

class ViewHolder
{  
    TextView adddress_name;
    TextView adddress_number;
    CheckBox addressbook_check;
} 
```